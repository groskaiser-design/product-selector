<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<title>Titanium Dashboard</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root {
    /* --- –ü–ê–õ–ò–¢–†–ê (Deep Luxury) --- */
    --bg-base: #000000;
    --accent-primary: #5e60ce; /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –Ω–µ–æ–Ω */
    --accent-secondary: #48bfe3; /* –ì–æ–ª—É–±–æ–π –Ω–µ–æ–Ω */
    --text-main: #ffffff;
    --text-muted: rgba(255, 255, 255, 0.6);
    
    /* --- –°–¢–ï–ö–õ–û (Ultra High Definition) --- */
    --glass-surface: rgba(30, 30, 30, 0.6);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-highlight: rgba(255, 255, 255, 0.2);
    --blur-amt: 30px;
    
    /* --- –†–ê–ó–ú–ï–†–´ --- */
    --pad: 16px;
    --radius: 24px;
  }

  /* === –ê–ù–ò–ú–ê–¶–ò–Ø –§–û–ù–ê (AURORA) === */
  @keyframes aurora {
    0% { transform: translate(0%, 0%) rotate(0deg); }
    33% { transform: translate(10%, 10%) rotate(120deg); }
    66% { transform: translate(-5%, 20%) rotate(240deg); }
    100% { transform: translate(0%, 0%) rotate(360deg); }
  }

  body {
    margin: 0; padding: 0;
    background: var(--bg-base);
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    color: var(--text-main);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
  }

  /* –ñ–∏–≤—ã–µ –ø—è—Ç–Ω–∞ –Ω–∞ —Ñ–æ–Ω–µ */
  .ambient-light {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1; overflow: hidden; background: #050505;
  }
  .orb {
    position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.4;
    animation: aurora 20s infinite linear;
  }
  .orb-1 { width: 300px; height: 300px; background: var(--accent-primary); top: -50px; left: -50px; }
  .orb-2 { width: 250px; height: 250px; background: var(--accent-secondary); bottom: 10%; right: -20%; animation-direction: reverse; }

  .app-layout {
    max-width: 480px; margin: 0 auto;
    padding: var(--pad);
    padding-bottom: 100px;
    display: flex; flex-direction: column; gap: 28px;
  }

  /* === 1. HEADER === */
  .header {
    display: flex; justify-content: space-between; align-items: center;
    padding-top: 10px;
  }
  .user-lockup { display: flex; align-items: center; gap: 12px; }
  .avatar-frame {
    width: 44px; height: 44px; border-radius: 50%;
    padding: 2px; /* Border width */
    background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.1));
  }
  .avatar-img {
    width: 100%; height: 100%; border-radius: 50%; background: #222;
    display: flex; align-items: center; justify-content: center; font-weight: 700;
    object-fit: cover;
  }
  
  .greeting-box h1 { margin: 0; font-size: 20px; font-weight: 700; letter-spacing: 0.3px; }
  .greeting-box p { margin: 0; font-size: 13px; color: var(--text-muted); }

  .notify-btn {
    width: 40px; height: 40px; border-radius: 50%;
    background: rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center;
    backdrop-filter: blur(10px); border: 1px solid var(--glass-border);
  }

  /* === 2. CAROUSEL (PEEKING EFFECT) === */
  .carousel-wrap {
    margin: 0 calc(var(--pad) * -1); /* –í—ã–ª–µ–∑–∞–µ–º –∑–∞ –æ—Ç—Å—Ç—É–ø—ã */
    padding-left: var(--pad); /* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ */
  }
  
  .slides-track {
    display: flex; gap: 12px;
    overflow-x: auto; scroll-snap-type: x mandatory;
    padding-right: 20px; /* –ú–µ—Å—Ç–æ —Å–ø—Ä–∞–≤–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .slides-track::-webkit-scrollbar { display: none; }

  .widget-card {
    flex: 0 0 90%; /* 90% —à–∏—Ä–∏–Ω—ã -> 10% –≤–∏–¥–Ω–æ –æ—Ç —Å–ª–µ–¥—É—é—â–µ–π –∫–∞—Ä—Ç—ã */
    scroll-snap-align: center;
    height: 170px;
    border-radius: var(--radius);
    background: linear-gradient(160deg, rgba(255,255,255,0.12), rgba(255,255,255,0.04));
    backdrop-filter: blur(var(--blur-amt));
    border: 1px solid var(--glass-border);
    border-top: 1px solid var(--glass-highlight); /* –°–≤–µ—Ç —Å–≤–µ—Ä—Ö—É */
    padding: 20px;
    position: relative; overflow: hidden;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    display: flex; align-items: center; justify-content: space-between;
  }
  
  /* Widget Layout: Circular Progress */
  .w-content { z-index: 2; display: flex; flex-direction: column; justify-content: center; height: 100%; gap: 4px;}
  .w-label { text-transform: uppercase; font-size: 12px; font-weight: 700; color: var(--text-muted); letter-spacing: 1px; }
  .w-big-num { font-size: 38px; font-weight: 800; line-height: 1.1; letter-spacing: -1px;}
  .w-sub { font-size: 14px; color: var(--text-muted); margin-top: 4px;}
  
  /* –ö–æ–ª—å—Ü–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */
  .ring-container {
    position: relative; width: 100px; height: 100px;
    display: flex; align-items: center; justify-content: center;
  }
  .ring-svg { transform: rotate(-90deg); width: 100%; height: 100%; }
  .ring-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 8; }
  .ring-val { 
    fill: none; stroke: url(#grad1); stroke-width: 8; stroke-linecap: round;
    stroke-dasharray: 251; stroke-dashoffset: 80; /* 251 * (1 - percent) */
    transition: stroke-dashoffset 1s ease;
  }
  .ring-icon { position: absolute; font-size: 24px; }

  /* Pagination Dots */
  .dots { display: flex; justify-content: center; gap: 6px; margin-top: 12px; }
  .dot { width: 6px; height: 6px; background: rgba(255,255,255,0.2); border-radius: 10px; transition: 0.3s; }
  .dot.active { width: 20px; background: #fff; }

  /* === 3. BENTO GRID === */
  .section-title { font-size: 18px; font-weight: 700; margin: 16px 0 12px 4px; opacity: 0.9; }

  .bento-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 –∫–æ–ª–æ–Ω–∫–∏ */
    gap: 12px;
    grid-auto-rows: minmax(100px, auto);
  }

  /* –û–±—â–∏–π —Å—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫ */
  .tile {
    background: rgba(30, 30, 35, 0.6);
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,0.08);
    padding: 16px;
    position: relative; overflow: hidden;
    transition: transform 0.1s, background 0.2s;
    display: flex; flex-direction: column; justify-content: space-between;
  }
  .tile:active { transform: scale(0.96); background: rgba(255,255,255,0.1); }
  
  /* –ò–∫–æ–Ω–∫–∏ –≤ –∫–Ω–æ–ø–∫–∞—Ö */
  .t-icon {
    width: 38px; height: 38px; border-radius: 12px;
    background: rgba(255,255,255,0.08);
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 12px;
  }
  .t-icon img { width: 22px; height: 22px; opacity: 0.9; }
  
  .t-title { font-size: 15px; font-weight: 600; line-height: 1.2; }
  .t-desc { font-size: 12px; color: var(--text-muted); margin-top: 2px; }

  /* --- –û–°–û–ë–´–ï –ü–õ–ò–¢–ö–ò --- */
  
  /* 1. –°–∫–∞–Ω–µ—Ä (–ë–æ–ª—å—à–æ–π, –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π) */
  .tile-scanner {
    grid-row: span 2; /* –í—ã—Å–æ–∫–∏–π */
    background: linear-gradient(145deg, #5e60ce 0%, #4ea8de 100%);
    border: none;
  }
  .tile-scanner .t-icon { background: rgba(255,255,255,0.2); }
  .tile-scanner .t-title { font-size: 18px; }

  /* 2. –ó–∞–º–µ—Ä—ã (–®–∏—Ä–æ–∫–∏–π) */
  .tile-wide {
    grid-column: span 2; /* –ù–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
    flex-direction: row; align-items: center; justify-content: flex-start; gap: 16px;
    height: 80px;
  }
  .tile-wide .t-icon { margin-bottom: 0; }
  
  /* –ú–∏–Ω–∏ –≥—Ä–∞—Ñ–∏–∫ –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ –∑–∞–º–µ—Ä–æ–≤ */
  .mini-chart {
    margin-left: auto; width: 60px; height: 30px;
    display: flex; align-items: flex-end; gap: 3px;
    opacity: 0.7;
  }
  .bar { width: 100%; background: #fff; border-radius: 2px; }

  /* === 4. SETTINGS LIST === */
  .settings-group {
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    overflow: hidden;
  }
  .row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }
  .row:last-child { border-bottom: none; }
  .row-left { display: flex; align-items: center; gap: 12px; font-weight: 500; }
  .row-icon { opacity: 0.7; width: 20px; }
  .row-arrow { opacity: 0.3; transform: rotate(-90deg); font-size: 12px;}

</style>
</head>
<body>

<div class="ambient-light">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
</div>

<div class="app-layout">
  
  <header class="header">
    <div class="user-lockup">
      <div class="avatar-frame">
        <div class="avatar-img" id="avatarImg">U</div>
      </div>
      <div class="greeting-box">
        <p>–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä,</p>
        <h1 id="userName">–ì–æ—Å—Ç—å</h1>
      </div>
    </div>
    <div class="notify-btn" onclick="tg.HapticFeedback.impactOccurred('light')">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
    </div>
  </header>

  <div>
    <div class="carousel-wrap">
      <div class="slides-track" id="track">
        
        <div class="widget-card" onclick="nav('kbju.html')">
          <div class="w-content">
            <div class="w-label">–≠–Ω–µ—Ä–≥–∏—è</div>
            <div class="w-big-num">1,250</div>
            <div class="w-sub">–∏–∑ 2,100 –∫–∫–∞–ª</div>
          </div>
          <div class="ring-container">
            <svg class="ring-svg" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:#48bfe3;stop-opacity:1" />
                  <stop offset="100%" style="stop-color:#5e60ce;stop-opacity:1" />
                </linearGradient>
              </defs>
              <circle class="ring-bg" cx="50" cy="50" r="40" />
              <circle class="ring-val" cx="50" cy="50" r="40" />
            </svg>
            <div class="ring-icon">üî•</div>
          </div>
        </div>

        <div class="widget-card" style="border-top-color: #ff9f0a;">
          <div class="w-content">
            <div class="w-label" style="color: #ff9f0a">–°–æ–≤–µ—Ç –¥–Ω—è</div>
            <div class="w-big-num" style="font-size: 20px; line-height: 1.3;">–ü–µ–π—Ç–µ –≤–æ–¥—É –∑–∞ 20 –º–∏–Ω –¥–æ –µ–¥—ã</div>
            <div class="w-sub">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí</div>
          </div>
          <div class="ring-container">
            <div class="ring-icon" style="font-size: 40px;">üíß</div>
          </div>
        </div>

      </div>
    </div>
    <div class="dots">
      <div class="dot active"></div>
      <div class="dot"></div>
    </div>
  </div>

  <div>
    <div class="section-title">–î–Ω–µ–≤–Ω–∏–∫</div>
    <div class="bento-grid">
      <div class="tile tile-scanner" onclick="nav('scanner.html')">
        <div>
          <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/diary.svg" alt=""></div>
          <div class="t-title">–°–∫–∞–Ω–µ—Ä<br>–µ–¥—ã</div>
        </div>
        <div class="t-desc" style="color: rgba(255,255,255,0.7)">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–µ–º</div>
      </div>
      
      <div class="tile" onclick="nav('kbju.html')">
        <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/clipboard.svg" alt=""></div>
        <div>
          <div class="t-title">–ü–ª–∞–Ω</div>
          <div class="t-desc">–ö–ë–ñ–£</div>
        </div>
      </div>
      
      <div class="tile" onclick="nav('2.html')">
        <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/analytics.svg" alt=""></div>
        <div>
          <div class="t-title">–ê–Ω–∞–ª–∏–∑</div>
          <div class="t-desc">–ì—Ä–∞—Ñ–∏–∫–∏</div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <div class="section-title">–¢–µ–ª–æ</div>
    <div class="bento-grid">
      <div class="tile tile-wide" onclick="nav('measurements.html')">
        <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/scales.svg" alt=""></div>
        <div>
          <div class="t-title">–ó–∞–º–µ—Ä—ã</div>
          <div class="t-desc">–û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Å</div>
        </div>
        <div class="mini-chart">
          <div class="bar" style="height: 40%"></div>
          <div class="bar" style="height: 60%"></div>
          <div class="bar" style="height: 50%"></div>
          <div class="bar" style="height: 80%"></div>
          <div class="bar" style="height: 70%; background: var(--accent-secondary)"></div>
        </div>
      </div>
      
      <div class="tile" onclick="nav('ai.html')">
        <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/ai.svg" alt=""></div>
        <div class="t-title">AI –ö–æ—É—á</div>
      </div>
      
      <div class="tile" onclick="nav('#')">
        <div class="t-icon"><img src="https://groskaiser-design.github.io/icons/menu.svg" alt=""></div>
        <div class="t-title">–†–∞—Ü–∏–æ–Ω</div>
      </div>
    </div>
  </div>

  <div>
    <div class="section-title">–ü—Ä–æ—á–µ–µ</div>
    <div class="settings-group">
      <div class="row" onclick="nav('#profile')">
        <div class="row-left">
          <img src="https://groskaiser-design.github.io/icons/profile.svg" class="row-icon">
          –ü—Ä–æ—Ñ–∏–ª—å
        </div>
        <div class="row-arrow">‚åÑ</div>
      </div>
      <div class="row" onclick="nav('#sub')">
        <div class="row-left">
          <img src="https://groskaiser-design.github.io/icons/rub.svg" class="row-icon">
          –ü–æ–¥–ø–∏—Å–∫–∞ PRO
        </div>
        <div class="row-arrow">‚åÑ</div>
      </div>
      <div class="row" onclick="nav('#help')">
        <div class="row-left">
          <img src="https://groskaiser-design.github.io/icons/question.svg" class="row-icon">
          –ü–æ–º–æ—â—å
        </div>
        <div class="row-arrow">‚åÑ</div>
      </div>
    </div>
  </div>

</div>

<script>
  // --- CONFIG ---
  const tg = window.Telegram?.WebApp;
  if(tg){
    tg.ready(); tg.expand();
    tg.setHeaderColor('#000000'); tg.setBackgroundColor('#000000');
    tg.BackButton?.hide();
  }

  // --- NAVIGATION ---
  function nav(url){
    if(tg?.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
    if(url && url !== '#') {
      // Delay for ripple feel
      setTimeout(() => window.location.href = url, 50);
    } else {
      tg?.showPopup({ title: '–°–∫–æ—Ä–æ', message: '–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ' });
    }
  }

  // --- USER DATA ---
  function loadUser(){
    const u = tg?.initDataUnsafe?.user || { first_name: '–ì–æ—Å—Ç—å' };
    document.getElementById('userName').textContent = u.first_name;
    if(u.photo_url){
      document.getElementById('avatarImg').innerHTML = `<img src="${u.photo_url}" style="width:100%;height:100%;border-radius:50%">`;
    }
  }

  // --- SCROLL OBSERVER (FOR DOTS) ---
  const track = document.getElementById('track');
  const dots = document.querySelectorAll('.dot');
  
  track.addEventListener('scroll', () => {
    const scrollLeft = track.scrollLeft;
    const width = track.clientWidth;
    const index = Math.round(scrollLeft / (width * 0.8)); // approx
    
    dots.forEach((d, i) => d.classList.toggle('active', i === index));
  });

  // Boot
  loadUser();

</script>
</body>
</html>
