<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<title>Ultima Breath Selection</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root {
    --bg-core: #09090b; /* Глубокий черный как на скрине */
    --card-dark: #151517; /* Цвет темных карточек */
    --text-main: #ffffff;
    --text-muted: rgba(255, 255, 255, 0.5);
    
    /* Градиенты как на скрине */
    --grad-blue: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --grad-night: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --grad-fire: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
    
    --radius: 24px;
    --pad: 20px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', Roboto, sans-serif; }
  
  body {
    background-color: var(--bg-core);
    color: var(--text-main);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* НАВИГАЦИЯ */
  .nav-bar {
    display: flex; align-items: center;
    padding: 16px var(--pad);
    padding-top: calc(16px + env(safe-area-inset-top));
    background: rgba(9,9,11,0.8);
    backdrop-filter: blur(20px);
    position: sticky; top: 0; z-index: 100;
  }
  
  .btn-back {
    width: 40px; height: 40px;
    display: flex; align-items: center; justify-content: center;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    margin-right: 16px;
    cursor: pointer;
    transition: background 0.2s;
  }
  .btn-back:active { background: rgba(255,255,255,0.2); }

  .page-title { font-size: 20px; font-weight: 700; letter-spacing: -0.5px; }

  /* СЕТКА (BENTO) */
  .content {
    padding: var(--pad);
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    opacity: 0; animation: fadeIn 0.6s forwards;
  }

  @keyframes fadeIn { to { opacity: 1; } }

  /* ОБЩИЙ СТИЛЬ КАРТОЧКИ */
  .card {
    border-radius: var(--radius);
    padding: 20px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.15s cubic-bezier(0.25, 0.1, 0.25, 1);
    display: flex; flex-direction: column; justify-content: space-between;
    min-height: 160px;
  }
  .card:active { transform: scale(0.96); }

  /* БОЛЬШАЯ КАРТОЧКА (Стресс) */
  .card.hero {
    grid-column: span 2;
    background: linear-gradient(160deg, #5eaefd 0%, #2b6eff 100%); /* Синий градиент как на "Сканер продуктов" */
    min-height: 220px;
    border: 1px solid rgba(255,255,255,0.1);
  }
  
  /* ТЕМНЫЕ КАРТОЧКИ */
  .card.dark {
    background: var(--card-dark);
    border: 1px solid rgba(255,255,255,0.05);
  }

  /* ВНУТРЕННОСТИ КАРТОЧЕК */
  .icon-box {
    width: 48px; height: 48px;
    border-radius: 14px;
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(10px);
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 12px;
  }
  .dark .icon-box { background: rgba(255,255,255,0.08); color: #fff; }

  .c-title { font-size: 19px; font-weight: 700; line-height: 1.2; margin-bottom: 4px; }
  .c-sub { font-size: 13px; opacity: 0.7; font-weight: 500; }
  .c-time { 
    font-size: 12px; font-weight: 700; text-transform: uppercase; opacity: 0.6; letter-spacing: 0.5px; 
    margin-top: auto; padding-top: 12px;
  }

  /* SVG ICONS */
  svg { stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; fill: none; }

  /* ДЕКОР (Фоновые круги внутри карточек для объема) */
  .decor-circle {
    position: absolute; border-radius: 50%; filter: blur(40px); opacity: 0.4; pointer-events: none;
  }
  .dc-1 { width: 100px; height: 100px; background: #fff; top: -20px; right: -20px; opacity: 0.2; }
  .dc-2 { width: 80px; height: 80px; background: #4facfe; bottom: -10px; right: -10px; opacity: 0.1; }

</style>
</head>
<body>

  <div class="nav-bar">
    <div class="btn-back" onclick="goBack()">
      <svg width="24" height="24" viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </div>
    <div class="page-title">Практики</div>
  </div>

  <div class="content">
    
    <div class="card hero" onclick="selectPractice('stress')">
      <div class="decor-circle dc-1"></div>
      
      <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" stroke="white"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/><path d="M8 12h8"/></svg>
      </div>
      
      <div>
        <div class="c-title">Снятие стресса</div>
        <div class="c-sub">Быстрое восстановление <br>равновесия</div>
      </div>
      <div class="c-time">⏱ 2 минуты</div>
    </div>

    <div class="card dark" onclick="selectPractice('sleep')">
      <div class="icon-box">
        <svg width="22" height="22" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
      </div>
      <div>
        <div class="c-title">Сон</div>
        <div class="c-sub">Техника 4-7-8</div>
      </div>
      <div class="c-time">⏱ 3 мин</div>
    </div>

    <div class="card dark" onclick="selectPractice('focus')">
      <div class="decor-circle dc-2"></div>
      <div class="icon-box">
        <svg width="22" height="22" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="2" x2="12" y2="4"/><line x1="12" y1="20" x2="12" y2="22"/><line x1="2" y1="12" x2="4" y2="12"/><line x1="20" y1="12" x2="22" y2="12"/></svg>
      </div>
      <div>
        <div class="c-title">Фокус</div>
        <div class="c-sub">Ясный ум</div>
      </div>
      <div class="c-time">⏱ 5 мин</div>
    </div>

  </div>

<script>
  const tg = window.Telegram?.WebApp;
  if(tg) {
    tg.ready();
    tg.expand();
    tg.setHeaderColor('#09090b'); // Цвет шапки под фон
    tg.setBackgroundColor('#09090b');
    // Скрываем нативную кнопку, так как нарисовали свою красивую
    tg.BackButton.hide(); 
  }

  function goBack() {
    // Если это встроено в Single Page Application:
    // location.href = 'router.html';
    
    // Если это история браузера:
    window.history.back();
    
    if(tg) tg.HapticFeedback.impactOccurred('light');
  }

  function selectPractice(type) {
    if(tg) tg.HapticFeedback.impactOccurred('medium');
    
    // Анимация нажатия перед переходом (опционально)
    setTimeout(() => {
       // Здесь будет переход на экран САМОЙ практики (таймера)
       // Пока просто алерт для теста
       alert("Запуск модуля: " + type);
       // window.location.href = 'breath_timer.html?type=' + type;
    }, 100);
  }
</script>

</body>
</html>
