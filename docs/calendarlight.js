const a3_0x4f3e6b=a3_0x5882;(function(_0xd2e40c,_0x15420e){const _0x92d19=a3_0x5882,_0x16ebe9=_0xd2e40c();while(!![]){try{const _0x8cb38d=parseInt(_0x92d19(0x105))/0x1+parseInt(_0x92d19(0xc9))/0x2*(-parseInt(_0x92d19(0x11f))/0x3)+-parseInt(_0x92d19(0x8d))/0x4*(-parseInt(_0x92d19(0x110))/0x5)+parseInt(_0x92d19(0x13b))/0x6+-parseInt(_0x92d19(0x174))/0x7+-parseInt(_0x92d19(0xfa))/0x8+parseInt(_0x92d19(0x14b))/0x9;if(_0x8cb38d===_0x15420e)break;else _0x16ebe9['push'](_0x16ebe9['shift']());}catch(_0x19b2d8){_0x16ebe9['push'](_0x16ebe9['shift']());}}}(a3_0x45aa,0xb5f8f));const APP_VERSION=a3_0x4f3e6b(0x10b),API_URL=a3_0x4f3e6b(0x14e),GRID_H=0x3c,KEY_SESSIONS=a3_0x4f3e6b(0xdb),KEY_SETTINGS=a3_0x4f3e6b(0xe9),KEY_CLIENTS=a3_0x4f3e6b(0x8b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x9269ed=a3_0x4f3e6b,_0x4a36ad=(function(){let _0x4321a9=!![];return function(_0x1f7bf4,_0xeef9f4){const _0x32b2a0=_0x4321a9?function(){if(_0xeef9f4){const _0x2a7619=_0xeef9f4['apply'](_0x1f7bf4,arguments);return _0xeef9f4=null,_0x2a7619;}}:function(){};return _0x4321a9=![],_0x32b2a0;};}()),_0x5dbfd3=_0x4a36ad(this,function(){const _0x34af27=a3_0x5882;return _0x5dbfd3[_0x34af27(0xb0)]()[_0x34af27(0x8c)](_0x34af27(0xb4))[_0x34af27(0xb0)]()['constructor'](_0x5dbfd3)[_0x34af27(0x8c)]('(((.+)+)+)+$');});_0x5dbfd3();try{const _0x5c907d=window[_0x9269ed(0x183)]?.[_0x9269ed(0xd1)];if(!_0x5c907d)return;_0x5c907d[_0x9269ed(0xe3)](),_0x5c907d[_0x9269ed(0x154)]();try{_0x5c907d[_0x9269ed(0x143)](_0x9269ed(0xfb)),_0x5c907d[_0x9269ed(0xf0)]&&_0x5c907d[_0x9269ed(0xf0)]('#050505');}catch(_0x59ced5){console[_0x9269ed(0x9a)](_0x9269ed(0xf2),_0x59ced5);}try{_0x5c907d[_0x9269ed(0x178)]&&(_0x5c907d[_0x9269ed(0x178)][_0x9269ed(0xed)](),_0x5c907d[_0x9269ed(0x178)][_0x9269ed(0x17e)](),_0x5c907d['BackButton'][_0x9269ed(0x98)](function(){const _0x3d3bf3=_0x9269ed;window[_0x3d3bf3(0x179)][_0x3d3bf3(0x181)]='router.html';}));}catch(_0x487751){console[_0x9269ed(0x9a)](_0x9269ed(0xc8),_0x487751);}try{if(_0x5c907d[_0x9269ed(0x184)])_0x5c907d[_0x9269ed(0x184)]();}catch(_0xf60424){}}catch(_0x56ee2a){console[_0x9269ed(0x170)](_0x9269ed(0x162),_0x56ee2a);}}());function isAdmin(){const _0x3ca506=a3_0x4f3e6b;try{const _0x4398a7=Number(window[_0x3ca506(0x183)]?.[_0x3ca506(0xd1)]?.[_0x3ca506(0xf8)]?.['user']?.['id']);return _0x4398a7===0xbaf7174;}catch(_0x174f46){return![];}}const DataManager={'saveLocally'(){const _0x3d6e3b=a3_0x4f3e6b;try{localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3d6e3b(0x104)](KEY_CLIENTS,JSON[_0x3d6e3b(0x133)](clients)),localStorage[_0x3d6e3b(0x104)](KEY_SETTINGS,JSON[_0x3d6e3b(0x133)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x32e20c){}},'loadLocal'(){const _0x2c685f=a3_0x4f3e6b;try{const _0x29133a=localStorage['getItem'](KEY_SESSIONS);if(_0x29133a)sessions=JSON['parse'](_0x29133a);const _0x48db16=localStorage['getItem'](KEY_CLIENTS);if(_0x48db16)clients=JSON[_0x2c685f(0x18a)](_0x48db16);const _0x4a7f0e=localStorage[_0x2c685f(0x11b)](KEY_SETTINGS);if(_0x4a7f0e){const _0x3782ea=JSON['parse'](_0x4a7f0e);if(_0x3782ea[_0x2c685f(0xc5)])availabilityPattern=_0x3782ea[_0x2c685f(0xc5)];if(_0x3782ea[_0x2c685f(0x12b)])specialRanges=_0x3782ea['ranges'];if(_0x3782ea[_0x2c685f(0x89)])dateExceptions=_0x3782ea[_0x2c685f(0x89)];}}catch(_0x2314b6){}},async 'syncLoad'(){const _0x541722=a3_0x4f3e6b,_0x1d2e85=new Date(),_0x45400a=_0x1d2e85[_0x541722(0x130)]()+'-'+String(_0x1d2e85['getMonth']()+0x1)[_0x541722(0xbf)](0x2,'0'),_0x52b597=new Date(_0x1d2e85);_0x52b597[_0x541722(0xd4)](_0x1d2e85['getMonth']()+0x1);const _0x220149=_0x52b597['getFullYear']()+'-'+String(_0x52b597[_0x541722(0x11a)]()+0x1)[_0x541722(0xbf)](0x2,'0'),_0x23f135=Date['now']();try{const _0x3310c2=window[_0x541722(0x183)]?.['WebApp'],_0x26c940=_0x3310c2?.[_0x541722(0x146)]||'',[_0x5b7d52,_0x2a0c25]=await Promise[_0x541722(0x182)]([fetch(API_URL,{'method':_0x541722(0x187),'body':JSON[_0x541722(0x133)]({'action':_0x541722(0x160),'init_data':_0x26c940,'month_str':_0x45400a})})[_0x541722(0x134)](_0x31cfac=>_0x31cfac[_0x541722(0xd8)]()),fetch(API_URL,{'method':_0x541722(0x187),'body':JSON['stringify']({'action':'client_load','init_data':_0x26c940,'month_str':_0x220149})})[_0x541722(0x134)](_0x114cff=>_0x114cff[_0x541722(0xd8)]())]);if(lastUserActionTime>_0x23f135){console['log'](_0x541722(0xef));return;}if(_0x5b7d52['ok'])this[_0x541722(0xd5)](_0x5b7d52[_0x541722(0x15b)],_0x45400a);if(_0x2a0c25['ok'])this[_0x541722(0xd5)](_0x2a0c25['data'],_0x220149);this[_0x541722(0x13e)]();}catch(_0x14f0eb){}},'applyData'(_0x5e435c,_0x213b84){const _0xfcb148=a3_0x4f3e6b;if(!_0x5e435c)return;if(_0x5e435c[_0xfcb148(0xe0)]){if(_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0xc5)])availabilityPattern=_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0xc5)];if(_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0x12b)])specialRanges=_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0x12b)];if(_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0x89)])dateExceptions=_0x5e435c[_0xfcb148(0xe0)][_0xfcb148(0x89)];}if(_0x5e435c[_0xfcb148(0xb5)]&&Array[_0xfcb148(0x117)](_0x5e435c['clients']))clients=_0x5e435c[_0xfcb148(0xb5)];_0x5e435c[_0xfcb148(0x16e)]&&(coachProfiles={...coachProfiles,..._0x5e435c[_0xfcb148(0x16e)]}),_0x5e435c[_0xfcb148(0x188)]&&(sessions=sessions[_0xfcb148(0x11c)](_0x2262ee=>!_0x2262ee[_0xfcb148(0x159)][_0xfcb148(0x12e)](_0x213b84)),Object[_0xfcb148(0x9e)](_0x5e435c[_0xfcb148(0x188)])[_0xfcb148(0x14c)](_0x25c06f=>{const _0x28db1c=_0xfcb148,_0x2b4413=_0x5e435c[_0x28db1c(0x188)][_0x25c06f];_0x2b4413[_0x28db1c(0x14c)](_0x59ffa5=>{const _0x52dda1=_0x28db1c;sessions[_0x52dda1(0x124)]({'id':_0x59ffa5['i'],'clientId':_0x59ffa5['c'],'coachId':_0x59ffa5[_0x52dda1(0xc7)],'dateStr':_0x213b84+'-'+_0x25c06f[_0x52dda1(0xbf)](0x2,'0'),'start':_0x59ffa5['s'],'end':_0x59ffa5['e'],'note':_0x59ffa5['n']||'','status':_0x59ffa5['st']||_0x52dda1(0xaf),'seriesId':_0x59ffa5['sid']});});})),reRenderBlocks();}};function init(){const _0x340f32=a3_0x4f3e6b;DataManager[_0x340f32(0x138)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x340f32(0x101)](_0x340f32(0x112))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x340f32(0xd6)]();}function renderTimeColumn(){const _0x230335=a3_0x4f3e6b,_0x55b69c=document['getElementById'](_0x230335(0xce)),_0x352b1=document['getElementById'](_0x230335(0x106));_0x55b69c[_0x230335(0x15f)]='',_0x55b69c[_0x230335(0x10d)](_0x352b1);for(let _0x44e5f0=0x0;_0x44e5f0<0x18;_0x44e5f0++){const _0x37c1c1=document[_0x230335(0x8f)](_0x230335(0x177));_0x37c1c1[_0x230335(0x156)]=_0x230335(0x16d);if(_0x44e5f0>0x0)_0x37c1c1[_0x230335(0x15f)]=_0x230335(0xee)+String(_0x44e5f0)[_0x230335(0xbf)](0x2,'0')+':00</span>';_0x55b69c[_0x230335(0x10d)](_0x37c1c1);}}function renderDayRange(_0x44a9ea,_0x2944d6){const _0x13c3d6=a3_0x4f3e6b,_0x15a989=document[_0x13c3d6(0x101)](_0x13c3d6(0xf1)),_0x2f27f0=document['getElementById'](_0x13c3d6(0x158)),_0x262c96=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x359a3a=new Date();_0x359a3a[_0x13c3d6(0x147)](0x0,0x0,0x0,0x0);const _0x3f206d=getLocalDateStr(new Date());for(let _0x4b6de3=_0x44a9ea;_0x4b6de3<=_0x2944d6;_0x4b6de3++){const _0x3d5d72=new Date(_0x359a3a);_0x3d5d72[_0x13c3d6(0x107)](_0x3d5d72[_0x13c3d6(0x166)]()+_0x4b6de3);const _0x5f5c28=getLocalDateStr(_0x3d5d72);let _0x274b3f=_0x3d5d72['getDay']()-0x1;if(_0x274b3f===-0x1)_0x274b3f=0x6;const _0x5e45c7=_0x5f5c28===_0x3f206d,_0x3910f1=document['createElement'](_0x13c3d6(0x177));_0x3910f1[_0x13c3d6(0x156)]=_0x13c3d6(0x91)+(_0x5e45c7?_0x13c3d6(0xf9):''),_0x3910f1[_0x13c3d6(0xbb)]('data-date',_0x5f5c28),_0x3910f1['innerHTML']=_0x13c3d6(0x94)+_0x262c96[_0x274b3f]+_0x13c3d6(0xc0)+_0x3d5d72['getDate']()+_0x13c3d6(0xa4),_0x15a989['appendChild'](_0x3910f1);const _0x45c3a8=document[_0x13c3d6(0x8f)]('div');_0x45c3a8[_0x13c3d6(0x156)]=_0x13c3d6(0xf3)+(_0x5e45c7?_0x13c3d6(0xf9):''),_0x45c3a8['setAttribute'](_0x13c3d6(0xb9),_0x5f5c28),_0x45c3a8[_0x13c3d6(0xbb)](_0x13c3d6(0x18e),_0x274b3f),_0x2f27f0['appendChild'](_0x45c3a8);}}function reRenderBlocks(){const _0x2e66c0=a3_0x4f3e6b;document[_0x2e66c0(0x11e)](_0x2e66c0(0x13a))['forEach'](_0x3e5172=>{const _0x5e30d7=_0x2e66c0;_0x3e5172[_0x5e30d7(0x11e)](_0x5e30d7(0xa7))[_0x5e30d7(0x14c)](_0x25afe1=>_0x25afe1['remove']());const _0x30887f=_0x3e5172[_0x5e30d7(0xcb)](_0x5e30d7(0xb9)),_0x2547da=parseInt(_0x3e5172['getAttribute'](_0x5e30d7(0x18e))),_0x2bb43f=Math[_0x5e30d7(0xb8)](_0x3e5172[_0x5e30d7(0x97)]);(availabilityPattern[_0x2547da]||[])[_0x5e30d7(0x14c)](_0x410ff0=>{const _0x119bc6=_0x5e30d7,_0x1bb581=document[_0x119bc6(0x8f)](_0x119bc6(0x177));_0x1bb581[_0x119bc6(0x156)]=_0x119bc6(0xad),_0x1bb581[_0x119bc6(0x18b)][_0x119bc6(0x176)]=_0x410ff0*GRID_H+'px',_0x1bb581[_0x119bc6(0x18b)][_0x119bc6(0x100)]='-'+_0x2bb43f+'px\x20-'+_0x410ff0*GRID_H+'px',_0x3e5172[_0x119bc6(0x10d)](_0x1bb581);});if(specialRanges[_0x5e30d7(0x8a)]>0x0){const _0x520666=new Date(_0x30887f+_0x5e30d7(0x11d))[_0x5e30d7(0xeb)](),_0x10fd31=new Date(_0x30887f+_0x5e30d7(0x163))[_0x5e30d7(0xeb)]();specialRanges['forEach'](_0x18de35=>{const _0x3fac7b=_0x5e30d7,_0x43f3d0=new Date(_0x18de35['start'])[_0x3fac7b(0xeb)](),_0x24cf08=new Date(_0x18de35[_0x3fac7b(0x16f)])[_0x3fac7b(0xeb)](),_0x2faab8=Math[_0x3fac7b(0x8e)](_0x520666,_0x43f3d0),_0x51d918=Math['min'](_0x10fd31,_0x24cf08);if(_0x2faab8<_0x51d918){const _0x33e822=(_0x2faab8-_0x520666)/0x36ee80*GRID_H,_0x1c39ed=(_0x51d918-_0x2faab8)/0x36ee80*GRID_H,_0x388b35=document[_0x3fac7b(0x8f)](_0x3fac7b(0x177));_0x1c39ed>=23.5*GRID_H?(_0x388b35[_0x3fac7b(0x156)]=_0x3fac7b(0x10f),_0x388b35['style'][_0x3fac7b(0x100)]='-'+_0x2bb43f+'px\x200px'):(_0x388b35[_0x3fac7b(0x156)]=_0x3fac7b(0x189),_0x388b35[_0x3fac7b(0x18b)][_0x3fac7b(0x176)]=_0x33e822+'px',_0x388b35[_0x3fac7b(0x18b)][_0x3fac7b(0x136)]=_0x1c39ed+'px',_0x388b35['style']['backgroundPosition']='-'+_0x2bb43f+_0x3fac7b(0x12d)+_0x33e822+'px'),_0x3e5172[_0x3fac7b(0x10d)](_0x388b35);}});}renderEventsForColumn(_0x3e5172,_0x30887f);});}function a3_0x45aa(){const _0x50c711=['548866ZnAOqB','offsetWidth','getAttribute','substr','detailsSheet','timeColumn','rsSlotsGrid','stopPropagation','WebApp','%\x20+\x202px)','globalTimeLine','setMonth','applyData','syncLoad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','json','detTime','DOMContentLoaded','uc_client_sessions','ccYesBtn','600','scrollWidth','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','settings','.day-col-header[data-date=\x22','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','ready','test','value','zIndex','event-card','anEnd','uc_client_settings','ru-RU','getTime','.btn-cancel','show','<span>','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setBackgroundColor','daysHeaderTrack','Error\x20setting\x20color:','day-column\x20','<div\x20class=\x22rs-day-name\x22>','calc(','backgroundColor','none','initDataUnsafe','today','10806600zVtpad','#050505','fontWeight','block','status','color','backgroundPosition','getElementById','.sheet','anCustomDates','setItem','177805bORYEZ','timeLineBadge','setDate','getMinutes','seriesId','textContent','v9.5-CLIENT-ANALYTICS','rs-time-btn','appendChild','getHours','day-off-overlay\x20stripe-bg','78230eoZxEq','detDate','matrixViewport','scrollTo','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','toLocaleString','flex','isArray','addEventListener','split','getMonth','getItem','filter','T00:00:00','querySelectorAll','3ZNxREj','now','slice','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rsDatesTrack','push','createDocumentFragment','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','start','toast','firstChild','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','ranges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','startsWith','join','getFullYear','remove','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','stringify','then','Unknown','height','\x20-\x20','loadLocal','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.day-column','7412586WATOBG','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','\x20—á.','saveLocally','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#0a84ff','done','</div><div\x20class=\x22rs-day-num\x22>','setHeaderColor','add','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initData','setHours','var(--acc-blue)','visible','querySelector','16137954dbyccx','forEach','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','ccTitle','client_cancel','\x20status-completed','anStart','entries','expand','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','className','total','gridColumns','dateStr','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','data','long','headerMonth','borderLeftColor','innerHTML','client_load','cancelContainer','Critical\x20TMA\x20Error:','T23:59:59','completed','sort','getDate','clientWidth','colIndex','coachId','ccText','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','analyticsSheet','time-label','coach_profiles','end','error','</span>\x20/\x20','.btn-reschedule','cancelHint','6069119GQgOmQ','getDay','top','div','BackButton','location','.day-col-header','.period-switch\x20.p-btn','left','classList','offClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','href','all','Telegram','disableVerticalSwipes','reschedule','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','POST','calendar','blocked-range-part\x20stripe-bg','parse','style','customConfirm','rgba(10,\x20132,\x20255,\x20','data-day-idx','exceptions','length','uc_client_list','search','8fNDdtk','max','createElement','anTotalStats','day-col-header\x20','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','charAt','<div\x20class=\x22dch-day\x22>','strokeDashoffset','floor','offsetLeft','onClick','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','log','open','map','detStatus','keys','findIndex','get_slots','\x20–∏–∑\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','#ff453a','</div>','numeric','cancel_window','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','mini','min','clientId','detNote','toUpperCase','blocked-slot\x20stripe-bg','width','planned','toString','note','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','insertBefore','(((.+)+)+)+$','clients','toLocaleDateString','display','round','data-date','active','setAttribute','–û—Ç–º–µ–Ω–µ–Ω–æ','overlay','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','padStart','</div><div\x20class=\x22dch-num\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','onclick','scrollLeft','%\x20-\x204px)','pattern','\x20–≤\x20','cid','Error\x20setting\x20back\x20button:'];a3_0x45aa=function(){return _0x50c711;};return a3_0x45aa();}function renderEventsForColumn(_0x4effe9,_0x12cb8d){const _0x2c78b3=a3_0x4f3e6b,_0xc26096=sessions[_0x2c78b3(0x11c)](_0x32d9fd=>_0x32d9fd['dateStr']===_0x12cb8d),_0xfd6e06=_0xc26096[_0x2c78b3(0x9c)](_0x18bbdb=>{const _0x4a74fc=_0x2c78b3,[_0x5504a2,_0x818f8c]=_0x18bbdb[_0x4a74fc(0x127)][_0x4a74fc(0x119)](':')[_0x4a74fc(0x9c)](Number),[_0x1969ec,_0x281ef2]=_0x18bbdb[_0x4a74fc(0x16f)][_0x4a74fc(0x119)](':')[_0x4a74fc(0x9c)](Number);return{'data':_0x18bbdb,'start':_0x5504a2*0x3c+_0x818f8c,'end':_0x1969ec*0x3c+_0x281ef2,'colIndex':0x0};});_0xfd6e06[_0x2c78b3(0x165)]((_0x39d312,_0x5b7bdb)=>_0x39d312[_0x2c78b3(0x127)]-_0x5b7bdb[_0x2c78b3(0x127)]||_0x5b7bdb['end']-_0x5b7bdb[_0x2c78b3(0x127)]-(_0x39d312[_0x2c78b3(0x16f)]-_0x39d312[_0x2c78b3(0x127)]));const _0x1e813a=[];_0xfd6e06[_0x2c78b3(0x14c)](_0x483bdc=>{const _0x57f918=_0x2c78b3;let _0x35fdcd=![];for(let _0x2ee39a=0x0;_0x2ee39a<_0x1e813a[_0x57f918(0x8a)];_0x2ee39a++){const _0x380ecc=_0x1e813a[_0x2ee39a];if(_0x483bdc['start']>=_0x380ecc[_0x380ecc['length']-0x1]['end']){_0x380ecc[_0x57f918(0x124)](_0x483bdc),_0x483bdc[_0x57f918(0x168)]=_0x2ee39a,_0x35fdcd=!![];break;}}!_0x35fdcd&&(_0x1e813a[_0x57f918(0x124)]([_0x483bdc]),_0x483bdc[_0x57f918(0x168)]=_0x1e813a['length']-0x1);}),_0xfd6e06[_0x2c78b3(0x14c)](_0x4da1fa=>{const _0x59d6f6=_0x2c78b3;let _0xb943ae=0x0;_0xfd6e06[_0x59d6f6(0x14c)](_0x37fc1a=>{const _0x2e2604=_0x59d6f6;if(Math[_0x2e2604(0x8e)](_0x4da1fa[_0x2e2604(0x127)],_0x37fc1a[_0x2e2604(0x127)])<Math[_0x2e2604(0xa9)](_0x4da1fa['end'],_0x37fc1a[_0x2e2604(0x16f)])&&_0x37fc1a['colIndex']>_0xb943ae)_0xb943ae=_0x37fc1a[_0x2e2604(0x168)];});const _0x1c287e=_0xb943ae+0x1,_0x30cd2e=0x64/_0x1c287e,_0x460c5a=_0x4da1fa[_0x59d6f6(0x168)]*_0x30cd2e,_0x1c1db2=document[_0x59d6f6(0x8f)](_0x59d6f6(0x177)),_0x92cb0e=_0x4da1fa[_0x59d6f6(0x15b)];let _0x8aae5e=_0x59d6f6(0x140);if(clients&&clients[_0x59d6f6(0x8a)]>0x0){const _0x3a32e8=clients['find'](_0x1909aa=>String(_0x1909aa['id'])===String(_0x92cb0e[_0x59d6f6(0xaa)]));if(_0x3a32e8&&_0x3a32e8[_0x59d6f6(0xff)])_0x8aae5e=_0x3a32e8[_0x59d6f6(0xff)];}const _0x74f49c=_0x92cb0e['status']===_0x59d6f6(0x164),_0x2ca2cb=_0x74f49c?0x1:0.45;_0x1c1db2[_0x59d6f6(0x156)]=_0x59d6f6(0xe7)+(_0x74f49c?_0x59d6f6(0x151):''),_0x1c1db2[_0x59d6f6(0x18b)][_0x59d6f6(0xf6)]=hexToRgba(_0x8aae5e,_0x2ca2cb),_0x1c1db2[_0x59d6f6(0x18b)][_0x59d6f6(0x15e)]=_0x8aae5e;const _0x4390b9=_0x4da1fa['start']/0x3c*GRID_H,_0xfbc96c=(_0x4da1fa[_0x59d6f6(0x16f)]-_0x4da1fa[_0x59d6f6(0x127)])/0x3c*GRID_H;_0x1c1db2['style'][_0x59d6f6(0x176)]=_0x4390b9+'px',_0x1c1db2[_0x59d6f6(0x18b)]['height']=Math[_0x59d6f6(0x8e)](_0xfbc96c,0x14)+'px',_0x1c1db2[_0x59d6f6(0x18b)][_0x59d6f6(0xae)]=_0x59d6f6(0xf5)+_0x30cd2e+_0x59d6f6(0xc4),_0x1c1db2[_0x59d6f6(0x18b)][_0x59d6f6(0x17c)]=_0x59d6f6(0xf5)+_0x460c5a+_0x59d6f6(0xd2),_0x1c1db2['style'][_0x59d6f6(0xe6)]=0xa+_0x4da1fa[_0x59d6f6(0x168)];if(_0x30cd2e<0x55)_0x1c1db2[_0x59d6f6(0x17d)][_0x59d6f6(0x144)](_0x59d6f6(0xa8));let _0x3224c3='';if(_0x92cb0e[_0x59d6f6(0x109)])_0x3224c3+=_0x59d6f6(0x114);if(_0x74f49c)_0x3224c3+=_0x59d6f6(0x13f);_0x1c1db2['innerHTML']=_0x59d6f6(0xd7)+_0x92cb0e['start']+_0x59d6f6(0x137)+_0x92cb0e['end']+_0x59d6f6(0x14d)+_0x3224c3+_0x59d6f6(0x12c),_0x1c1db2[_0x59d6f6(0xc2)]=_0x3ab416=>{const _0x1d36b2=_0x59d6f6;_0x3ab416[_0x1d36b2(0xd0)](),openDetails(_0x92cb0e);},_0x4effe9[_0x59d6f6(0x10d)](_0x1c1db2);});}function openAnalytics(){const _0x1bceba=a3_0x4f3e6b,_0x36a305=document[_0x1bceba(0x14a)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x36a305),openSheet(_0x1bceba(0x16c));}function setAnalyticsPeriod(_0xc2145b,_0x181387){const _0x2c7873=a3_0x4f3e6b;currentAnPeriod=_0xc2145b,document[_0x2c7873(0x11e)](_0x2c7873(0x17b))[_0x2c7873(0x14c)](_0x4f58a8=>_0x4f58a8[_0x2c7873(0x17d)][_0x2c7873(0x131)](_0x2c7873(0xba)));if(_0x181387)_0x181387['classList'][_0x2c7873(0x144)](_0x2c7873(0xba));const _0x337a73=document[_0x2c7873(0x101)](_0x2c7873(0x103));_0x337a73['style'][_0x2c7873(0xb7)]=_0xc2145b==='custom'?_0x2c7873(0x116):_0x2c7873(0xf7);const _0x5603f0=new Date();let _0x387594=new Date(),_0x2cf8ee=new Date();if(_0xc2145b==='week')_0x387594=getStartOfWeek(_0x5603f0),_0x2cf8ee=new Date(_0x387594),_0x2cf8ee['setDate'](_0x2cf8ee[_0x2c7873(0x166)]()+0x6);else{if(_0xc2145b==='month')_0x387594=new Date(_0x5603f0[_0x2c7873(0x130)](),_0x5603f0['getMonth'](),0x1),_0x2cf8ee=new Date(_0x5603f0[_0x2c7873(0x130)](),_0x5603f0['getMonth']()+0x1,0x0);else{!document[_0x2c7873(0x101)]('anStart')['value']&&(document[_0x2c7873(0x101)](_0x2c7873(0x152))[_0x2c7873(0xe5)]=getLocalDateStr(_0x5603f0),document[_0x2c7873(0x101)]('anEnd')['value']=getLocalDateStr(_0x5603f0));refreshAnalytics();return;}}document[_0x2c7873(0x101)](_0x2c7873(0x152))[_0x2c7873(0xe5)]=getLocalDateStr(_0x387594),document[_0x2c7873(0x101)]('anEnd')[_0x2c7873(0xe5)]=getLocalDateStr(_0x2cf8ee),refreshAnalytics();}function refreshAnalytics(){const _0x198af1=a3_0x4f3e6b,_0x469af1=document[_0x198af1(0x101)](_0x198af1(0x152))[_0x198af1(0xe5)],_0x3acefc=document['getElementById'](_0x198af1(0xe8))['value'];if(!_0x469af1||!_0x3acefc)return;const _0x3bf587=sessions['filter'](_0x3b4e5d=>_0x3b4e5d[_0x198af1(0x159)]>=_0x469af1&&_0x3b4e5d[_0x198af1(0x159)]<=_0x3acefc&&_0x3b4e5d[_0x198af1(0xfe)]!=='cancelled'),_0x14aac0=_0x3bf587[_0x198af1(0x8a)],_0x5cf0fd=_0x3bf587['filter'](_0x5a4808=>_0x5a4808[_0x198af1(0xfe)]===_0x198af1(0x164))[_0x198af1(0x8a)],_0x537b33=_0x14aac0>0x0?Math[_0x198af1(0xb8)](_0x5cf0fd/_0x14aac0*0x64):0x0;document[_0x198af1(0x101)]('anPercent')[_0x198af1(0x10a)]=_0x537b33+'%',document['getElementById'](_0x198af1(0x90))[_0x198af1(0x10a)]=_0x5cf0fd+_0x198af1(0xa1)+_0x14aac0+_0x198af1(0x186);const _0x40b559=document[_0x198af1(0x101)]('anDonutCircle'),_0x2a69ea=0x2*Math['PI']*0x23,_0x312ba2=_0x2a69ea-_0x537b33/0x64*_0x2a69ea;_0x40b559['style'][_0x198af1(0x95)]=_0x312ba2;const _0x3893ac={};_0x3bf587['forEach'](_0x41f3d0=>{const _0x59d727=_0x198af1,_0x543a41=_0x41f3d0[_0x59d727(0x169)]||_0x59d727(0x135);if(!_0x3893ac[_0x543a41]){const _0x56dd51='#'+_0x543a41['toString']()[_0x59d727(0xcc)](0x0,0x6);_0x3893ac[_0x543a41]={'total':0x0,'done':0x0,'color':_0x56dd51};}_0x3893ac[_0x543a41][_0x59d727(0x157)]++;if(_0x41f3d0[_0x59d727(0xfe)]===_0x59d727(0x164))_0x3893ac[_0x543a41][_0x59d727(0x141)]++;});const _0x3091d8=document[_0x198af1(0x101)]('analyticsList');_0x3091d8[_0x198af1(0x15f)]='';const _0x1a2551=Object[_0x198af1(0x153)](_0x3893ac)[_0x198af1(0x165)]((_0x24079c,_0x43f376)=>_0x43f376[0x1][_0x198af1(0x157)]-_0x24079c[0x1][_0x198af1(0x157)]);if(_0x1a2551[_0x198af1(0x8a)]===0x0){_0x3091d8[_0x198af1(0x15f)]=_0x198af1(0xe2);return;}_0x1a2551[_0x198af1(0x14c)](([_0x1ac52f,_0x4d1042])=>{const _0x1bce26=_0x198af1,_0x1db4bf=Math[_0x1bce26(0xb8)](_0x4d1042[_0x1bce26(0x141)]/_0x4d1042[_0x1bce26(0x157)]*0x64),_0x15d82f=document[_0x1bce26(0x8f)]('div');_0x15d82f['className']='client-stat-card',_0x15d82f['style'][_0x1bce26(0x15e)]=_0x4d1042['color'],_0x15d82f[_0x1bce26(0x15f)]=_0x1bce26(0x17f)+_0x1ac52f[_0x1bce26(0xcc)](0x0,0x5)+_0x1bce26(0xc1)+_0x4d1042[_0x1bce26(0x141)]+_0x1bce26(0x171)+_0x4d1042[_0x1bce26(0x157)]+_0x1bce26(0x122)+_0x1db4bf+_0x1bce26(0x145),_0x3091d8[_0x1bce26(0x10d)](_0x15d82f);});}function openDetails(_0x35af8b){const _0x124944=a3_0x4f3e6b;currentSession=_0x35af8b;const _0x597ac2=new Date(_0x35af8b[_0x124944(0x159)]),_0x1e3cc6=_0x597ac2[_0x124944(0xb6)]('ru-RU',{'weekday':_0x124944(0x15c),'day':'numeric','month':_0x124944(0x15c)});document[_0x124944(0x101)](_0x124944(0x111))[_0x124944(0x10a)]=_0x1e3cc6[_0x124944(0x93)](0x0)[_0x124944(0xac)]()+_0x1e3cc6[_0x124944(0x121)](0x1),document[_0x124944(0x101)](_0x124944(0xd9))['textContent']=_0x35af8b[_0x124944(0x127)]+_0x124944(0x137)+_0x35af8b['end'],document['getElementById'](_0x124944(0xab))[_0x124944(0x10a)]=_0x35af8b[_0x124944(0xb1)]||_0x124944(0x13c);const _0x21f314=document[_0x124944(0x101)](_0x124944(0x9d)),_0x4d865e=document[_0x124944(0x101)](_0x124944(0x161)),_0x183a7c=_0x4d865e[_0x124944(0x14a)](_0x124944(0xec)),_0x31c2ef=_0x4d865e[_0x124944(0x14a)](_0x124944(0x172)),_0x3b1639=document[_0x124944(0x101)](_0x124944(0x173));if(_0x35af8b[_0x124944(0xfe)]===_0x124944(0x164))_0x21f314[_0x124944(0x10a)]=_0x124944(0x180),_0x21f314[_0x124944(0x18b)][_0x124944(0xff)]='var(--acc-green)',_0x4d865e[_0x124944(0x18b)][_0x124944(0xb7)]=_0x124944(0xf7);else{_0x21f314['textContent']=_0x124944(0xa2),_0x21f314[_0x124944(0x18b)]['color']=_0x124944(0x148),_0x4d865e[_0x124944(0x18b)][_0x124944(0xb7)]=_0x124944(0xfd);const _0x176c7d=new Date(_0x35af8b['dateStr']+'T'+_0x35af8b['start']),_0x34a1df=new Date(),_0x52e802=(_0x176c7d-_0x34a1df)/(0x3e8*0x3c*0x3c),_0x520387=coachProfiles[_0x35af8b[_0x124944(0x169)]]&&coachProfiles[_0x35af8b['coachId']][_0x124944(0xa6)]?parseInt(coachProfiles[_0x35af8b[_0x124944(0x169)]][_0x124944(0xa6)]):0x18;if(_0x520387===0x0||_0x52e802>=_0x520387)_0x183a7c[_0x124944(0x18b)][_0x124944(0xb7)]=_0x124944(0xfd),_0x31c2ef[_0x124944(0x18b)][_0x124944(0xb7)]=_0x124944(0xfd),_0x3b1639['style'][_0x124944(0xb7)]='none';else{_0x183a7c[_0x124944(0x18b)]['display']=_0x124944(0xf7),_0x31c2ef['style']['display']=_0x124944(0xf7),_0x3b1639['style'][_0x124944(0xb7)]=_0x124944(0xfd);let _0x58ff5c=_0x520387===0x0?_0x124944(0x92):'–∑–∞\x20'+_0x520387+_0x124944(0x13d);_0x3b1639[_0x124944(0x10a)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x58ff5c+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x124944(0xbd))[_0x124944(0x17d)]['add'](_0x124944(0xba)),document['getElementById'](_0x124944(0xcd))[_0x124944(0x17d)][_0x124944(0x144)](_0x124944(0x9b));}function a3_0x5882(_0x1a2251,_0x3eb4d3){_0x1a2251=_0x1a2251-0x89;const _0xc5a393=a3_0x45aa();let _0x1f05be=_0xc5a393[_0x1a2251];return _0x1f05be;}function closeAllSheets(){const _0xea8b72=a3_0x4f3e6b;document[_0xea8b72(0x101)](_0xea8b72(0xbd))['classList'][_0xea8b72(0x131)]('active'),document[_0xea8b72(0x11e)](_0xea8b72(0x102))['forEach'](_0x8e25be=>_0x8e25be[_0xea8b72(0x17d)][_0xea8b72(0x131)](_0xea8b72(0x9b)));}function openSheet(_0x4428a9){const _0x206750=a3_0x4f3e6b;document[_0x206750(0x101)](_0x206750(0xbd))['classList'][_0x206750(0x144)]('active'),document[_0x206750(0x101)](_0x4428a9)[_0x206750(0x17d)]['add'](_0x206750(0x9b));}function getLocalDateStr(_0x511f9e){const _0xe9ced9=a3_0x4f3e6b,_0x5f03f0=_0x511f9e[_0xe9ced9(0x130)](),_0x2df4d2=String(_0x511f9e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x54fe16=String(_0x511f9e[_0xe9ced9(0x166)]())[_0xe9ced9(0xbf)](0x2,'0');return _0x5f03f0+'-'+_0x2df4d2+'-'+_0x54fe16;}function getStartOfWeek(_0xdd6d2a){const _0x49e4cd=a3_0x4f3e6b,_0x399b19=new Date(_0xdd6d2a),_0x4bb83d=_0x399b19[_0x49e4cd(0x175)](),_0x5af815=_0x399b19[_0x49e4cd(0x166)]()-_0x4bb83d+(_0x4bb83d===0x0?-0x6:0x1);return _0x399b19[_0x49e4cd(0x107)](_0x5af815),_0x399b19[_0x49e4cd(0x147)](0x0,0x0,0x0,0x0),_0x399b19;}function scrollToToday(){const _0x583897=getLocalDateStr(new Date());setTimeout(()=>{const _0x58c97c=a3_0x5882,_0x5aeef6=document[_0x58c97c(0x14a)](_0x58c97c(0xe1)+_0x583897+'\x22]');if(_0x5aeef6){const _0x5ccc3d=document['getElementById'](_0x58c97c(0x112)),_0x4046e4=_0x5aeef6['offsetLeft']-_0x5ccc3d[_0x58c97c(0x167)]/0x2+_0x5aeef6[_0x58c97c(0xca)]/0x2;_0x5ccc3d[_0x58c97c(0x113)]({'left':_0x4046e4,'behavior':'auto'}),_0x5ccc3d['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2d9946=a3_0x4f3e6b,_0x599576=new Date(),_0x399d30=document[_0x2d9946(0x101)](_0x2d9946(0xd3)),_0x19f0a7=document['getElementById'](_0x2d9946(0x106)),_0x107b7d=(_0x599576[_0x2d9946(0x10e)]()*0x3c+_0x599576[_0x2d9946(0x108)]())/0x3c*GRID_H;_0x399d30['style'][_0x2d9946(0x176)]=_0x107b7d+'px',_0x399d30[_0x2d9946(0x18b)]['display']=_0x2d9946(0xfd),_0x19f0a7[_0x2d9946(0x18b)][_0x2d9946(0x176)]=_0x107b7d+'px',_0x19f0a7[_0x2d9946(0x18b)][_0x2d9946(0xb7)]='block',_0x19f0a7['textContent']=String(_0x599576[_0x2d9946(0x10e)]())[_0x2d9946(0xbf)](0x2,'0')+':'+String(_0x599576[_0x2d9946(0x108)]())['padStart'](0x2,'0');}function onScroll(){const _0x47ccae=a3_0x4f3e6b,_0x281148=document['getElementById'](_0x47ccae(0x112)),_0x5b9695=document[_0x47ccae(0x11e)](_0x47ccae(0x17a));for(let _0x31e0f5 of _0x5b9695)if(_0x31e0f5[_0x47ccae(0x97)]>=_0x281148[_0x47ccae(0xc3)]){const _0x263ec=new Date(_0x31e0f5[_0x47ccae(0xcb)](_0x47ccae(0xb9)));document[_0x47ccae(0x101)](_0x47ccae(0x15d))['textContent']=_0x263ec[_0x47ccae(0x115)]('ru',{'month':_0x47ccae(0x15c)})['toUpperCase']()+'\x20'+_0x263ec[_0x47ccae(0x130)]();break;}}function showToast(_0x550d71){const _0x35679c=a3_0x4f3e6b,_0x24fdc5=document[_0x35679c(0x101)](_0x35679c(0x128));_0x24fdc5[_0x35679c(0x10a)]=_0x550d71,_0x24fdc5[_0x35679c(0x17d)]['add'](_0x35679c(0xed)),setTimeout(()=>_0x24fdc5[_0x35679c(0x17d)][_0x35679c(0x131)](_0x35679c(0xed)),0x7d0);}function handleInfiniteScroll(){const _0x4a99b0=a3_0x4f3e6b,_0x692938=document['getElementById'](_0x4a99b0(0x112)),_0x10dd1e=_0x692938['scrollLeft'],_0x4010a8=_0x692938[_0x4a99b0(0xde)],_0x5325a9=_0x692938[_0x4a99b0(0x167)];if(_0x4010a8-(_0x10dd1e+_0x5325a9)<0x12c){const _0x383b73=endOffset;endOffset+=0xe,renderDayRange(_0x383b73+0x1,endOffset),reRenderBlocks();}if(_0x10dd1e<0x12c){const _0x12a0bc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x12a0bc-0x1),_0x692938[_0x4a99b0(0xc3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x288fe7,_0x3b9ae8){const _0x2c4107=a3_0x4f3e6b,_0x1461fa=document[_0x2c4107(0x101)](_0x2c4107(0xf1)),_0x543aec=document['getElementById']('gridColumns'),_0x5eb98d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5c41de=new Date();_0x5c41de[_0x2c4107(0x147)](0x0,0x0,0x0,0x0);const _0x74c34d=getLocalDateStr(new Date()),_0x2c6718=document[_0x2c4107(0x125)](),_0x1013ab=document[_0x2c4107(0x125)]();for(let _0xd9f9a2=_0x288fe7;_0xd9f9a2<=_0x3b9ae8;_0xd9f9a2++){const _0x57e508=new Date(_0x5c41de);_0x57e508[_0x2c4107(0x107)](_0x57e508[_0x2c4107(0x166)]()+_0xd9f9a2);const _0x25b539=getLocalDateStr(_0x57e508);let _0x14bf50=_0x57e508[_0x2c4107(0x175)]()-0x1;if(_0x14bf50===-0x1)_0x14bf50=0x6;const _0x579e2b=_0x25b539===_0x74c34d,_0x3ac3ef=document['createElement'](_0x2c4107(0x177));_0x3ac3ef[_0x2c4107(0x156)]=_0x2c4107(0x91)+(_0x579e2b?'today':''),_0x3ac3ef[_0x2c4107(0xbb)](_0x2c4107(0xb9),_0x25b539),_0x3ac3ef[_0x2c4107(0x15f)]=_0x2c4107(0x94)+_0x5eb98d[_0x14bf50]+'</div><div\x20class=\x22dch-num\x22>'+_0x57e508[_0x2c4107(0x166)]()+_0x2c4107(0xa4),_0x2c6718['appendChild'](_0x3ac3ef);const _0x426f39=document[_0x2c4107(0x8f)](_0x2c4107(0x177));_0x426f39[_0x2c4107(0x156)]='day-column\x20'+(_0x579e2b?_0x2c4107(0xf9):''),_0x426f39['setAttribute'](_0x2c4107(0xb9),_0x25b539),_0x426f39[_0x2c4107(0xbb)](_0x2c4107(0x18e),_0x14bf50),_0x1013ab[_0x2c4107(0x10d)](_0x426f39);}_0x1461fa[_0x2c4107(0xb3)](_0x2c6718,_0x1461fa[_0x2c4107(0x129)]),_0x543aec[_0x2c4107(0xb3)](_0x1013ab,_0x543aec[_0x2c4107(0x14a)](_0x2c4107(0x13a)));}function hexToRgba(_0x1da458,_0x3d17b5){const _0x2a686e=a3_0x4f3e6b;let _0x3a1992;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2a686e(0xe4)](_0x1da458))return _0x3a1992=_0x1da458['substring'](0x1)[_0x2a686e(0x119)](''),_0x3a1992[_0x2a686e(0x8a)]==0x3&&(_0x3a1992=[_0x3a1992[0x0],_0x3a1992[0x0],_0x3a1992[0x1],_0x3a1992[0x1],_0x3a1992[0x2],_0x3a1992[0x2]]),_0x3a1992='0x'+_0x3a1992[_0x2a686e(0x12f)](''),'rgba('+[_0x3a1992>>0x10&0xff,_0x3a1992>>0x8&0xff,_0x3a1992&0xff][_0x2a686e(0x12f)](',')+','+_0x3d17b5+')';return _0x2a686e(0x18d)+_0x3d17b5+')';}let confirmResolver=null;function showCustomConfirm(_0x14b1b1,_0x32ae2f,_0x3fe627=!![]){const _0x46d9d9=a3_0x4f3e6b;document[_0x46d9d9(0x101)](_0x46d9d9(0x14f))['textContent']=_0x14b1b1,document[_0x46d9d9(0x101)](_0x46d9d9(0x16a))[_0x46d9d9(0x10a)]=_0x32ae2f;const _0x136f19=document[_0x46d9d9(0x101)](_0x46d9d9(0xdc));return _0x3fe627?(_0x136f19[_0x46d9d9(0x18b)]['color']=_0x46d9d9(0xa3),_0x136f19[_0x46d9d9(0x18b)][_0x46d9d9(0xfc)]=_0x46d9d9(0xdd)):(_0x136f19[_0x46d9d9(0x18b)][_0x46d9d9(0xff)]='#0a84ff',_0x136f19['style'][_0x46d9d9(0xfc)]=_0x46d9d9(0xdd)),new Promise(_0x341241=>{const _0xbe017e=_0x46d9d9;confirmResolver=_0x341241,document[_0xbe017e(0x101)]('customConfirm')['classList'][_0xbe017e(0x144)](_0xbe017e(0x149));});}function resolveCustomConfirm(_0x3b73a4){const _0x5ce7b2=a3_0x4f3e6b;document[_0x5ce7b2(0x101)](_0x5ce7b2(0x18c))['classList'][_0x5ce7b2(0x131)](_0x5ce7b2(0x149));if(confirmResolver)confirmResolver(_0x3b73a4);}async function tryCancelCurrentSession(){const _0x4467bf=a3_0x4f3e6b;if(!currentSession)return;const _0x19908a=await showCustomConfirm(_0x4467bf(0xb2),_0x4467bf(0x12a),!![]);if(!_0x19908a)return;const _0x5d4f0f=currentSession;closeAllSheets(),sessions=sessions[_0x4467bf(0x11c)](_0x2ea18c=>_0x2ea18c['id']!==_0x5d4f0f['id']),reRenderBlocks(),showToast(_0x4467bf(0xbc)),lastUserActionTime=Date['now']();try{const _0x337477=window[_0x4467bf(0x183)]?.['WebApp'],_0x166ed7=await fetch(API_URL,{'method':_0x4467bf(0x187),'body':JSON[_0x4467bf(0x133)]({'action':_0x4467bf(0x150),'init_data':_0x337477?.['initData']||'','coachId':_0x5d4f0f['coachId'],'dateStr':_0x5d4f0f['dateStr'],'sessionId':_0x5d4f0f['id']})});if(_0x166ed7['ok'])DataManager[_0x4467bf(0x13e)]();}catch(_0x4f0e8e){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x46f43f=a3_0x4f3e6b;if(!currentSession)return;document[_0x46f43f(0x101)](_0x46f43f(0xcd))[_0x46f43f(0x17d)]['remove'](_0x46f43f(0x9b)),document['getElementById']('rescheduleSheet')[_0x46f43f(0x17d)][_0x46f43f(0x144)](_0x46f43f(0x9b));const _0x38cad9=document[_0x46f43f(0x101)](_0x46f43f(0x123)),_0x3eb277=document[_0x46f43f(0x101)]('rsSlotsGrid');_0x38cad9[_0x46f43f(0x15f)]='',_0x3eb277[_0x46f43f(0x15f)]=_0x46f43f(0x126);const [_0x4d3aa9,_0x313234]=currentSession[_0x46f43f(0x127)][_0x46f43f(0x119)](':')[_0x46f43f(0x9c)](Number),[_0x32f3e6,_0x351434]=currentSession[_0x46f43f(0x16f)][_0x46f43f(0x119)](':')['map'](Number),_0x587a57=_0x32f3e6*0x3c+_0x351434-(_0x4d3aa9*0x3c+_0x313234);try{const _0x13aea2=window[_0x46f43f(0x183)]?.[_0x46f43f(0xd1)],_0x5a985f=await fetch(API_URL,{'method':_0x46f43f(0x187),'body':JSON['stringify']({'action':_0x46f43f(0xa0),'coachId':currentSession[_0x46f43f(0x169)],'duration':_0x587a57,'init_data':_0x13aea2?.[_0x46f43f(0x146)]||'','excludeSessionId':currentSession['id']})}),_0x477d42=await _0x5a985f[_0x46f43f(0xd8)]();_0x477d42['ok']&&_0x477d42[_0x46f43f(0x15b)]?(availableSlotsCache=_0x477d42[_0x46f43f(0x15b)],renderRescheduleDates()):_0x3eb277[_0x46f43f(0x15f)]=_0x46f43f(0xdf);}catch(_0x5b34bd){_0x3eb277[_0x46f43f(0x15f)]=_0x46f43f(0x15a);}}function renderRescheduleDates(){const _0x332e50=a3_0x4f3e6b,_0x48c63d=document['getElementById']('rsDatesTrack');_0x48c63d[_0x332e50(0x15f)]='';const _0x4f104=Object[_0x332e50(0x9e)](availableSlotsCache)['sort'](),_0x4c373a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4f104[_0x332e50(0x8a)]===0x0){document['getElementById']('rsSlotsGrid')[_0x332e50(0x15f)]=_0x332e50(0x155);return;}_0x4f104['forEach']((_0xa2b844,_0x177b69)=>{const _0x170c33=_0x332e50,_0x19bccc=new Date(_0xa2b844),_0x11064a=_0x4c373a[_0x19bccc['getDay']()],_0x51d1b4=_0x19bccc['getDate'](),_0x51170f=document['createElement'](_0x170c33(0x177));_0x51170f[_0x170c33(0x156)]='rs-date-chip';if(_0x177b69===0x0)_0x51170f[_0x170c33(0x17d)][_0x170c33(0x144)](_0x170c33(0xba));_0x51170f[_0x170c33(0x15f)]=_0x170c33(0xf4)+_0x11064a+_0x170c33(0x142)+_0x51d1b4+_0x170c33(0xa4),_0x51170f[_0x170c33(0xc2)]=()=>selectRsDate(_0xa2b844,_0x51170f),_0x48c63d[_0x170c33(0x10d)](_0x51170f);}),selectRsDate(_0x4f104[0x0],_0x48c63d['firstChild']);}function selectRsDate(_0x2c96ca,_0x483d59){const _0x35601d=a3_0x4f3e6b;selectedRsDate=_0x2c96ca,document[_0x35601d(0x11e)]('.rs-date-chip')['forEach'](_0x42b44d=>_0x42b44d[_0x35601d(0x17d)][_0x35601d(0x131)](_0x35601d(0xba)));if(_0x483d59)_0x483d59[_0x35601d(0x17d)][_0x35601d(0x144)](_0x35601d(0xba));const _0x1b9fcd=document['getElementById'](_0x35601d(0xcf));_0x1b9fcd[_0x35601d(0x15f)]='';const _0x3702f1=availableSlotsCache[_0x2c96ca]||[];if(_0x3702f1['length']===0x0){_0x1b9fcd['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3702f1['forEach'](_0xba678f=>{const _0x445356=_0x35601d,_0x5c1e45=document[_0x445356(0x8f)]('button');_0x5c1e45[_0x445356(0x156)]=_0x445356(0x10c),_0x5c1e45['textContent']=_0xba678f,_0x5c1e45[_0x445356(0xc2)]=()=>confirmReschedule(_0xba678f),_0x1b9fcd[_0x445356(0x10d)](_0x5c1e45);});}async function confirmReschedule(_0x279e99){const _0x2fd26d=a3_0x4f3e6b,_0x5181bc=new Date(selectedRsDate),_0x3383e2=_0x5181bc[_0x2fd26d(0xb6)](_0x2fd26d(0xea),{'day':_0x2fd26d(0xa5),'month':'long'}),_0x2a3ef3=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2fd26d(0x139)+_0x3383e2+_0x2fd26d(0xc6)+_0x279e99+'?',![]);if(!_0x2a3ef3)return;closeAllSheets(),showToast(_0x2fd26d(0x16b)),lastUserActionTime=Date[_0x2fd26d(0x120)]();const _0x2267dd=currentSession[_0x2fd26d(0x159)],_0x4d6875=currentSession['id'],[_0x1d2095,_0x2e220d]=currentSession[_0x2fd26d(0x127)][_0x2fd26d(0x119)](':')[_0x2fd26d(0x9c)](Number),[_0x4a2f99,_0x14f0c5]=currentSession[_0x2fd26d(0x16f)][_0x2fd26d(0x119)](':')[_0x2fd26d(0x9c)](Number),_0x33fc41=_0x4a2f99*0x3c+_0x14f0c5-(_0x1d2095*0x3c+_0x2e220d),[_0x158584,_0x22b5c0]=_0x279e99[_0x2fd26d(0x119)](':')[_0x2fd26d(0x9c)](Number),_0x59aa47=_0x158584*0x3c+_0x22b5c0+_0x33fc41,_0x253f33=Math[_0x2fd26d(0x96)](_0x59aa47/0x3c),_0x209481=_0x59aa47%0x3c,_0xfc3245=String(_0x253f33)[_0x2fd26d(0xbf)](0x2,'0')+':'+String(_0x209481)[_0x2fd26d(0xbf)](0x2,'0'),_0x156953=sessions[_0x2fd26d(0x9f)](_0x4f330a=>_0x4f330a['id']===_0x4d6875);_0x156953!==-0x1&&(sessions[_0x156953][_0x2fd26d(0x159)]=selectedRsDate,sessions[_0x156953][_0x2fd26d(0x127)]=_0x279e99,sessions[_0x156953][_0x2fd26d(0x16f)]=_0xfc3245,reRenderBlocks());try{const _0x21bea3=window[_0x2fd26d(0x183)]?.[_0x2fd26d(0xd1)],_0x2dd000=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2fd26d(0x185),'init_data':_0x21bea3?.[_0x2fd26d(0x146)]||'','oldSessionId':_0x4d6875,'oldDate':_0x2267dd,'newDate':selectedRsDate,'newTime':_0x279e99,'coachId':currentSession['coachId']})}),_0x657499=await _0x2dd000[_0x2fd26d(0xd8)]();!_0x657499['ok']?(showToast(_0x2fd26d(0x132)),DataManager[_0x2fd26d(0xd6)]()):(showToast(_0x2fd26d(0xbe)),DataManager['saveLocally']());}catch(_0x5d5d47){showToast(_0x2fd26d(0x99));}}document[a3_0x4f3e6b(0x118)](a3_0x4f3e6b(0xda),init);