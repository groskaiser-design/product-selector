const a3_0x7a9e38=a3_0x5a37;(function(_0x4cb11c,_0x130f60){const _0x4b35b6=a3_0x5a37,_0x45513f=_0x4cb11c();while(!![]){try{const _0x4dfec9=-parseInt(_0x4b35b6(0x1e5))/0x1+parseInt(_0x4b35b6(0x298))/0x2+parseInt(_0x4b35b6(0x291))/0x3*(-parseInt(_0x4b35b6(0x2a6))/0x4)+-parseInt(_0x4b35b6(0x250))/0x5+parseInt(_0x4b35b6(0x249))/0x6+-parseInt(_0x4b35b6(0x1f7))/0x7+parseInt(_0x4b35b6(0x28b))/0x8;if(_0x4dfec9===_0x130f60)break;else _0x45513f['push'](_0x45513f['shift']());}catch(_0x4e0e3e){_0x45513f['push'](_0x45513f['shift']());}}}(a3_0x27e3,0x5ca44));function a3_0x5a37(_0x443c2b,_0x401678){_0x443c2b=_0x443c2b-0x1be;const _0x534ed4=a3_0x27e3();let _0x344c8c=_0x534ed4[_0x443c2b];return _0x344c8c;}function a3_0x27e3(){const _0x29f75b=['active','split','cancelHint','all','dateStr','backgroundColor','1575800oaJLnU','matrixViewport','ready','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','offsetLeft','addEventListener','disableVerticalSwipes','–∑–∞\x20','substr','\x20–≤\x20','cancel_window','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','.sheet','href','completed','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Error\x20setting\x20back\x20button:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','getAttribute','open','done','</span>\x20/\x20','colIndex','display','textContent','none','syncLoad','<span>','</div>','parse','floor','ccText','getMonth','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','rsSlotsGrid','settings','toLocaleString','.period-switch\x20.p-btn','end','setItem','planned','color','toString','setMonth','total','overlay','calc(','rescheduleSheet','sid','getTime','scrollTo','getItem','data-date','find','padStart','detStatus','createDocumentFragment','11653384TqsFCi','substring','getFullYear','mini','then','detailsSheet','132MNTSNE','getHours','toUpperCase','getMinutes','anDonutCircle','analyticsList','offClick','508188QQfBlY','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','keys','setAttribute','week','getDate','round','numeric','clients','fontWeight','offsetWidth','clientWidth','client_load','className','59868XMPZsb','setHours','filter','cancelled','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','clientId','var(--acc-green)','BackButton','600','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','data','constructor','apply','anTotalStats','applyData','scrollWidth','querySelectorAll','start','block','getDay','push','toast','map','reschedule','rgba(','gridColumns','test','month','px\x20-','borderLeftColor','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','calendar','analyticsSheet','show','stopPropagation','rsDatesTrack','isArray','remove','log','#050505','sort','toLocaleDateString','classList','data-day-idx','join','day-col-header\x20','var(--acc-blue)','error','(((.+)+)+)+$','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','391037sFqdWx','initData','custom','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','event-card','createElement','.btn-cancel','json','Critical\x20TMA\x20Error:','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','innerHTML','.day-column','.btn-reschedule','value','div','startsWith','<div\x20class=\x22rs-day-name\x22>','timeLineBadge','2051910icSdOy','add','scrollLeft','.day-col-header','stringify','length','WebApp','scroll','saveLocally','getElementById','setBackgroundColor','Telegram','long','backgroundPosition','coach_profiles','–û—Ç–º–µ–Ω–µ–Ω–æ','.rs-date-chip','ranges','.day-col-header[data-date=\x22','rs-date-chip','zIndex','uc_client_settings','user','strokeDashoffset','style','initDataUnsafe',':00</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccTitle','search','forEach','day-column\x20','insertBefore','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','status','loadLocal','exceptions','coachId','rs-time-btn','Unknown','visible','blocked-slot\x20stripe-bg','firstChild','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','px\x200px','today','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','router.html','pattern','anStart','querySelector','appendChild','globalTimeLine','\x20status-completed','charAt','T23:59:59','setDate','timeColumn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','daysHeaderTrack','anEnd','now','<div\x20class=\x22dch-day\x22>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','\x20—á.','#0a84ff','onclick','scrollTop','blocked-range-part\x20stripe-bg','customConfirm','uc_client_sessions','findIndex','expand','day-off-overlay\x20stripe-bg','auto','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','slice','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','max','1959408veKmkv'];a3_0x27e3=function(){return _0x29f75b;};return a3_0x27e3();}const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x7a9e38(0x2aa),GRID_H=0x3c,KEY_SESSIONS=a3_0x7a9e38(0x240),KEY_SETTINGS=a3_0x7a9e38(0x20c),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x7a9e38(0x29c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1c2860=a3_0x7a9e38,_0x4dbc06=(function(){let _0x5f4f6e=!![];return function(_0x37980c,_0x1969d9){const _0x252086=_0x5f4f6e?function(){const _0x20740e=a3_0x5a37;if(_0x1969d9){const _0x43b391=_0x1969d9[_0x20740e(0x1bf)](_0x37980c,arguments);return _0x1969d9=null,_0x43b391;}}:function(){};return _0x5f4f6e=![],_0x252086;};}()),_0x42e493=_0x4dbc06(this,function(){const _0x188481=a3_0x5a37;return _0x42e493['toString']()['search'](_0x188481(0x1e3))[_0x188481(0x27c)]()[_0x188481(0x1be)](_0x42e493)[_0x188481(0x214)]('(((.+)+)+)+$');});_0x42e493();try{const _0x4fe662=window[_0x1c2860(0x202)]?.[_0x1c2860(0x1fd)];if(!_0x4fe662)return;_0x4fe662[_0x1c2860(0x252)](),_0x4fe662[_0x1c2860(0x242)]();try{_0x4fe662['setHeaderColor'](_0x1c2860(0x1da)),_0x4fe662[_0x1c2860(0x201)]&&_0x4fe662[_0x1c2860(0x201)](_0x1c2860(0x1da));}catch(_0x5eb545){console[_0x1c2860(0x1d9)]('Error\x20setting\x20color:',_0x5eb545);}try{_0x4fe662[_0x1c2860(0x2ad)]&&(_0x4fe662[_0x1c2860(0x2ad)][_0x1c2860(0x1d4)](),_0x4fe662['BackButton'][_0x1c2860(0x297)](),_0x4fe662['BackButton']['onClick'](function(){const _0x52c34a=_0x1c2860;window['location'][_0x52c34a(0x25e)]=_0x52c34a(0x229);}));}catch(_0x54274f){console[_0x1c2860(0x1d9)](_0x1c2860(0x261),_0x54274f);}try{if(_0x4fe662[_0x1c2860(0x256)])_0x4fe662[_0x1c2860(0x256)]();}catch(_0x83f6ae){}}catch(_0x2715c6){console[_0x1c2860(0x1e2)](_0x1c2860(0x1ed),_0x2715c6);}}());function isAdmin(){const _0x4eb218=a3_0x7a9e38;try{const _0x12d3f2=Number(window['Telegram']?.['WebApp']?.[_0x4eb218(0x210)]?.[_0x4eb218(0x20d)]?.['id']);return _0x12d3f2===0xbaf7174;}catch(_0x5ac3ae){return![];}}const DataManager={'saveLocally'(){const _0x4f06b6=a3_0x7a9e38;try{localStorage[_0x4f06b6(0x279)](KEY_SESSIONS,JSON[_0x4f06b6(0x1fb)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x4f06b6(0x1fb)](clients)),localStorage[_0x4f06b6(0x279)](KEY_SETTINGS,JSON[_0x4f06b6(0x1fb)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2a0b42){}},'loadLocal'(){const _0x96e0c8=a3_0x7a9e38;try{const _0x2a05d6=localStorage[_0x96e0c8(0x285)](KEY_SESSIONS);if(_0x2a05d6)sessions=JSON[_0x96e0c8(0x26f)](_0x2a05d6);const _0xd320da=localStorage[_0x96e0c8(0x285)](KEY_CLIENTS);if(_0xd320da)clients=JSON[_0x96e0c8(0x26f)](_0xd320da);const _0x3560d1=localStorage[_0x96e0c8(0x285)](KEY_SETTINGS);if(_0x3560d1){const _0x49f4d3=JSON[_0x96e0c8(0x26f)](_0x3560d1);if(_0x49f4d3['pattern'])availabilityPattern=_0x49f4d3[_0x96e0c8(0x22a)];if(_0x49f4d3[_0x96e0c8(0x208)])specialRanges=_0x49f4d3['ranges'];if(_0x49f4d3[_0x96e0c8(0x21e)])dateExceptions=_0x49f4d3[_0x96e0c8(0x21e)];}}catch(_0x4c493e){}},async 'syncLoad'(){const _0x8c0832=a3_0x7a9e38,_0x2536a6=new Date(),_0x482485=_0x2536a6['getFullYear']()+'-'+String(_0x2536a6[_0x8c0832(0x272)]()+0x1)[_0x8c0832(0x288)](0x2,'0'),_0x4eb436=new Date(_0x2536a6);_0x4eb436[_0x8c0832(0x27d)](_0x2536a6[_0x8c0832(0x272)]()+0x1);const _0x130418=_0x4eb436[_0x8c0832(0x28d)]()+'-'+String(_0x4eb436[_0x8c0832(0x272)]()+0x1)[_0x8c0832(0x288)](0x2,'0'),_0x597194=Date[_0x8c0832(0x237)]();try{const _0x33f241=window[_0x8c0832(0x202)]?.[_0x8c0832(0x1fd)],_0xd9477d=_0x33f241?.[_0x8c0832(0x1e6)]||'',[_0x42986f,_0x3f1b1b]=await Promise[_0x8c0832(0x24d)]([fetch(API_URL,{'method':_0x8c0832(0x219),'body':JSON[_0x8c0832(0x1fb)]({'action':'client_load','init_data':_0xd9477d,'month_str':_0x482485})})[_0x8c0832(0x28f)](_0x5ba1f5=>_0x5ba1f5[_0x8c0832(0x1ec)]()),fetch(API_URL,{'method':_0x8c0832(0x219),'body':JSON[_0x8c0832(0x1fb)]({'action':_0x8c0832(0x2a4),'init_data':_0xd9477d,'month_str':_0x130418})})[_0x8c0832(0x28f)](_0x139bdd=>_0x139bdd['json']())]);if(lastUserActionTime>_0x597194){console[_0x8c0832(0x1d9)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x42986f['ok'])this[_0x8c0832(0x1c1)](_0x42986f[_0x8c0832(0x2b0)],_0x482485);if(_0x3f1b1b['ok'])this[_0x8c0832(0x1c1)](_0x3f1b1b[_0x8c0832(0x2b0)],_0x130418);this[_0x8c0832(0x1ff)]();}catch(_0x4c06d5){}},'applyData'(_0x1b0768,_0x41729c){const _0x4ea2b4=a3_0x7a9e38;if(!_0x1b0768)return;if(_0x1b0768[_0x4ea2b4(0x275)]){if(_0x1b0768[_0x4ea2b4(0x275)][_0x4ea2b4(0x22a)])availabilityPattern=_0x1b0768[_0x4ea2b4(0x275)]['pattern'];if(_0x1b0768[_0x4ea2b4(0x275)]['ranges'])specialRanges=_0x1b0768[_0x4ea2b4(0x275)]['ranges'];if(_0x1b0768[_0x4ea2b4(0x275)][_0x4ea2b4(0x21e)])dateExceptions=_0x1b0768[_0x4ea2b4(0x275)][_0x4ea2b4(0x21e)];}if(_0x1b0768['clients']&&Array[_0x4ea2b4(0x1d7)](_0x1b0768[_0x4ea2b4(0x2a0)]))clients=_0x1b0768[_0x4ea2b4(0x2a0)];_0x1b0768[_0x4ea2b4(0x205)]&&(coachProfiles={...coachProfiles,..._0x1b0768[_0x4ea2b4(0x205)]}),_0x1b0768[_0x4ea2b4(0x1d2)]&&(sessions=sessions[_0x4ea2b4(0x2a8)](_0x29581d=>!_0x29581d[_0x4ea2b4(0x24e)][_0x4ea2b4(0x1f4)](_0x41729c)),Object[_0x4ea2b4(0x29a)](_0x1b0768[_0x4ea2b4(0x1d2)])[_0x4ea2b4(0x215)](_0xe96004=>{const _0x544133=_0x4ea2b4,_0x1b0858=_0x1b0768[_0x544133(0x1d2)][_0xe96004];_0x1b0858[_0x544133(0x215)](_0x3b821f=>{const _0x239229=_0x544133;sessions[_0x239229(0x1c7)]({'id':_0x3b821f['i'],'clientId':_0x3b821f['c'],'coachId':_0x3b821f['cid'],'dateStr':_0x41729c+'-'+_0xe96004['padStart'](0x2,'0'),'start':_0x3b821f['s'],'end':_0x3b821f['e'],'note':_0x3b821f['n']||'','status':_0x3b821f['st']||_0x239229(0x27a),'seriesId':_0x3b821f[_0x239229(0x282)]});});})),reRenderBlocks();}};function init(){const _0x250a9b=a3_0x7a9e38;DataManager[_0x250a9b(0x21d)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x250a9b(0x200)]('matrixViewport')[_0x250a9b(0x255)](_0x250a9b(0x1fe),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x250a9b(0x26c)]();}function renderTimeColumn(){const _0x30667d=a3_0x7a9e38,_0x20e27b=document['getElementById'](_0x30667d(0x233)),_0x517af2=document['getElementById']('timeLineBadge');_0x20e27b[_0x30667d(0x1ef)]='',_0x20e27b[_0x30667d(0x22d)](_0x517af2);for(let _0x502052=0x0;_0x502052<0x18;_0x502052++){const _0x398135=document[_0x30667d(0x1ea)](_0x30667d(0x1f3));_0x398135[_0x30667d(0x2a5)]='time-label';if(_0x502052>0x0)_0x398135[_0x30667d(0x1ef)]=_0x30667d(0x26d)+String(_0x502052)[_0x30667d(0x288)](0x2,'0')+_0x30667d(0x211);_0x20e27b[_0x30667d(0x22d)](_0x398135);}}function renderDayRange(_0x4751cd,_0x176103){const _0x1948bb=a3_0x7a9e38,_0x78ca01=document[_0x1948bb(0x200)](_0x1948bb(0x235)),_0x31c858=document['getElementById'](_0x1948bb(0x1cc)),_0x5381fe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b5aaf=new Date();_0x1b5aaf[_0x1948bb(0x2a7)](0x0,0x0,0x0,0x0);const _0x4f1469=getLocalDateStr(new Date());for(let _0xb688f4=_0x4751cd;_0xb688f4<=_0x176103;_0xb688f4++){const _0x2a760e=new Date(_0x1b5aaf);_0x2a760e[_0x1948bb(0x232)](_0x2a760e[_0x1948bb(0x29d)]()+_0xb688f4);const _0x3878e9=getLocalDateStr(_0x2a760e);let _0x5a55e5=_0x2a760e['getDay']()-0x1;if(_0x5a55e5===-0x1)_0x5a55e5=0x6;const _0x2c3f15=_0x3878e9===_0x4f1469,_0x3745ab=document['createElement'](_0x1948bb(0x1f3));_0x3745ab['className']=_0x1948bb(0x1e0)+(_0x2c3f15?_0x1948bb(0x227):''),_0x3745ab[_0x1948bb(0x29b)]('data-date',_0x3878e9),_0x3745ab[_0x1948bb(0x1ef)]='<div\x20class=\x22dch-day\x22>'+_0x5381fe[_0x5a55e5]+'</div><div\x20class=\x22dch-num\x22>'+_0x2a760e[_0x1948bb(0x29d)]()+_0x1948bb(0x26e),_0x78ca01['appendChild'](_0x3745ab);const _0x220f38=document[_0x1948bb(0x1ea)](_0x1948bb(0x1f3));_0x220f38['className']=_0x1948bb(0x216)+(_0x2c3f15?_0x1948bb(0x227):''),_0x220f38[_0x1948bb(0x29b)](_0x1948bb(0x286),_0x3878e9),_0x220f38['setAttribute'](_0x1948bb(0x1de),_0x5a55e5),_0x31c858[_0x1948bb(0x22d)](_0x220f38);}}function reRenderBlocks(){const _0x25c016=a3_0x7a9e38;document[_0x25c016(0x1c3)]('.day-column')['forEach'](_0x51bdaf=>{const _0x159705=_0x25c016;_0x51bdaf['querySelectorAll'](_0x159705(0x1e4))[_0x159705(0x215)](_0x35e9ac=>_0x35e9ac[_0x159705(0x1d8)]());const _0x349cb4=_0x51bdaf[_0x159705(0x264)](_0x159705(0x286)),_0x11c71f=parseInt(_0x51bdaf['getAttribute'](_0x159705(0x1de))),_0x40b832=Math[_0x159705(0x29e)](_0x51bdaf['offsetLeft']);(availabilityPattern[_0x11c71f]||[])[_0x159705(0x215)](_0x33cf4d=>{const _0x252d45=_0x159705,_0x4699ed=document['createElement']('div');_0x4699ed[_0x252d45(0x2a5)]=_0x252d45(0x223),_0x4699ed['style'][_0x252d45(0x21a)]=_0x33cf4d*GRID_H+'px',_0x4699ed[_0x252d45(0x20f)][_0x252d45(0x204)]='-'+_0x40b832+_0x252d45(0x1cf)+_0x33cf4d*GRID_H+'px',_0x51bdaf['appendChild'](_0x4699ed);});if(specialRanges['length']>0x0){const _0x15e071=new Date(_0x349cb4+'T00:00:00')[_0x159705(0x283)](),_0x290b92=new Date(_0x349cb4+_0x159705(0x231))[_0x159705(0x283)]();specialRanges['forEach'](_0x14b85c=>{const _0x3fc572=_0x159705,_0x8f31ee=new Date(_0x14b85c['start'])[_0x3fc572(0x283)](),_0x546099=new Date(_0x14b85c['end'])[_0x3fc572(0x283)](),_0x4faf3b=Math[_0x3fc572(0x248)](_0x15e071,_0x8f31ee),_0x2c3099=Math['min'](_0x290b92,_0x546099);if(_0x4faf3b<_0x2c3099){const _0x14c677=(_0x4faf3b-_0x15e071)/0x36ee80*GRID_H,_0x5ad72d=(_0x2c3099-_0x4faf3b)/0x36ee80*GRID_H,_0x2dc5fc=document[_0x3fc572(0x1ea)](_0x3fc572(0x1f3));_0x5ad72d>=23.5*GRID_H?(_0x2dc5fc[_0x3fc572(0x2a5)]=_0x3fc572(0x243),_0x2dc5fc['style']['backgroundPosition']='-'+_0x40b832+_0x3fc572(0x226)):(_0x2dc5fc[_0x3fc572(0x2a5)]=_0x3fc572(0x23e),_0x2dc5fc['style'][_0x3fc572(0x21a)]=_0x14c677+'px',_0x2dc5fc[_0x3fc572(0x20f)]['height']=_0x5ad72d+'px',_0x2dc5fc[_0x3fc572(0x20f)][_0x3fc572(0x204)]='-'+_0x40b832+_0x3fc572(0x1cf)+_0x14c677+'px'),_0x51bdaf[_0x3fc572(0x22d)](_0x2dc5fc);}});}renderEventsForColumn(_0x51bdaf,_0x349cb4);});}function renderEventsForColumn(_0x2f9a7e,_0x24cf65){const _0x362822=a3_0x7a9e38,_0x127d06=sessions['filter'](_0x369b23=>_0x369b23['dateStr']===_0x24cf65),_0x39cb84=_0x127d06['map'](_0x5f2b4f=>{const _0x221fee=a3_0x5a37,[_0xe1c7b9,_0x495bf1]=_0x5f2b4f['start']['split'](':')[_0x221fee(0x1c9)](Number),[_0x1aa25e,_0x34a6fc]=_0x5f2b4f[_0x221fee(0x278)]['split'](':')[_0x221fee(0x1c9)](Number);return{'data':_0x5f2b4f,'start':_0xe1c7b9*0x3c+_0x495bf1,'end':_0x1aa25e*0x3c+_0x34a6fc,'colIndex':0x0};});_0x39cb84[_0x362822(0x1db)]((_0x51320a,_0x126baa)=>_0x51320a[_0x362822(0x1c4)]-_0x126baa[_0x362822(0x1c4)]||_0x126baa[_0x362822(0x278)]-_0x126baa[_0x362822(0x1c4)]-(_0x51320a[_0x362822(0x278)]-_0x51320a[_0x362822(0x1c4)]));const _0x1a403a=[];_0x39cb84[_0x362822(0x215)](_0x59a7b8=>{const _0xa14dc7=_0x362822;let _0x113be3=![];for(let _0x16c82a=0x0;_0x16c82a<_0x1a403a[_0xa14dc7(0x1fc)];_0x16c82a++){const _0x296063=_0x1a403a[_0x16c82a];if(_0x59a7b8[_0xa14dc7(0x1c4)]>=_0x296063[_0x296063[_0xa14dc7(0x1fc)]-0x1][_0xa14dc7(0x278)]){_0x296063[_0xa14dc7(0x1c7)](_0x59a7b8),_0x59a7b8[_0xa14dc7(0x268)]=_0x16c82a,_0x113be3=!![];break;}}!_0x113be3&&(_0x1a403a[_0xa14dc7(0x1c7)]([_0x59a7b8]),_0x59a7b8[_0xa14dc7(0x268)]=_0x1a403a['length']-0x1);}),_0x39cb84[_0x362822(0x215)](_0x4ff160=>{const _0x35c635=_0x362822;let _0x1439e2=0x0;_0x39cb84[_0x35c635(0x215)](_0xfcced=>{const _0x36e63c=_0x35c635;if(Math[_0x36e63c(0x248)](_0x4ff160['start'],_0xfcced[_0x36e63c(0x1c4)])<Math['min'](_0x4ff160[_0x36e63c(0x278)],_0xfcced[_0x36e63c(0x278)])&&_0xfcced[_0x36e63c(0x268)]>_0x1439e2)_0x1439e2=_0xfcced[_0x36e63c(0x268)];});const _0x5d2e07=_0x1439e2+0x1,_0x5038f6=0x64/_0x5d2e07,_0x561ac6=_0x4ff160[_0x35c635(0x268)]*_0x5038f6,_0x5e5511=document[_0x35c635(0x1ea)](_0x35c635(0x1f3)),_0x7a8ba5=_0x4ff160['data'];let _0x25f50f=_0x35c635(0x23b);if(clients&&clients[_0x35c635(0x1fc)]>0x0){const _0x477b94=clients[_0x35c635(0x287)](_0x343abb=>String(_0x343abb['id'])===String(_0x7a8ba5[_0x35c635(0x2ab)]));if(_0x477b94&&_0x477b94[_0x35c635(0x27b)])_0x25f50f=_0x477b94[_0x35c635(0x27b)];}const _0x181041=_0x7a8ba5['status']==='completed',_0x49cbd3=_0x181041?0x1:0.45;_0x5e5511[_0x35c635(0x2a5)]=_0x35c635(0x1e9)+(_0x181041?_0x35c635(0x22f):''),_0x5e5511[_0x35c635(0x20f)][_0x35c635(0x24f)]=hexToRgba(_0x25f50f,_0x49cbd3),_0x5e5511['style'][_0x35c635(0x1d0)]=_0x25f50f;const _0x41eeeb=_0x4ff160[_0x35c635(0x1c4)]/0x3c*GRID_H,_0x2d4187=(_0x4ff160[_0x35c635(0x278)]-_0x4ff160[_0x35c635(0x1c4)])/0x3c*GRID_H;_0x5e5511[_0x35c635(0x20f)][_0x35c635(0x21a)]=_0x41eeeb+'px',_0x5e5511[_0x35c635(0x20f)]['height']=Math[_0x35c635(0x248)](_0x2d4187,0x14)+'px',_0x5e5511[_0x35c635(0x20f)]['width']=_0x35c635(0x280)+_0x5038f6+'%\x20-\x204px)',_0x5e5511[_0x35c635(0x20f)]['left']=_0x35c635(0x280)+_0x561ac6+'%\x20+\x202px)',_0x5e5511['style'][_0x35c635(0x20b)]=0xa+_0x4ff160[_0x35c635(0x268)];if(_0x5038f6<0x55)_0x5e5511[_0x35c635(0x1dd)][_0x35c635(0x1f8)](_0x35c635(0x28e));let _0x55319e='';if(_0x7a8ba5['seriesId'])_0x55319e+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x181041)_0x55319e+=_0x35c635(0x299);_0x5e5511[_0x35c635(0x1ef)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x7a8ba5[_0x35c635(0x1c4)]+'\x20-\x20'+_0x7a8ba5[_0x35c635(0x278)]+_0x35c635(0x212)+_0x55319e+_0x35c635(0x262),_0x5e5511[_0x35c635(0x23c)]=_0xbca647=>{const _0x303cf2=_0x35c635;_0xbca647[_0x303cf2(0x1d5)](),openDetails(_0x7a8ba5);},_0x2f9a7e[_0x35c635(0x22d)](_0x5e5511);});}function openAnalytics(){const _0x1b25de=a3_0x7a9e38,_0x2d0138=document[_0x1b25de(0x22c)](_0x1b25de(0x277));setAnalyticsPeriod(_0x1b25de(0x29c),_0x2d0138),openSheet(_0x1b25de(0x1d3));}function setAnalyticsPeriod(_0x45df73,_0x29d70d){const _0xb6282a=a3_0x7a9e38;currentAnPeriod=_0x45df73,document[_0xb6282a(0x1c3)](_0xb6282a(0x277))[_0xb6282a(0x215)](_0x46be11=>_0x46be11[_0xb6282a(0x1dd)][_0xb6282a(0x1d8)](_0xb6282a(0x24a)));if(_0x29d70d)_0x29d70d[_0xb6282a(0x1dd)][_0xb6282a(0x1f8)](_0xb6282a(0x24a));const _0x1c428a=document['getElementById']('anCustomDates');_0x1c428a[_0xb6282a(0x20f)]['display']=_0x45df73===_0xb6282a(0x1e7)?'flex':'none';const _0x55150f=new Date();let _0x4a32e5=new Date(),_0x4eb3ac=new Date();if(_0x45df73===_0xb6282a(0x29c))_0x4a32e5=getStartOfWeek(_0x55150f),_0x4eb3ac=new Date(_0x4a32e5),_0x4eb3ac[_0xb6282a(0x232)](_0x4eb3ac[_0xb6282a(0x29d)]()+0x6);else{if(_0x45df73===_0xb6282a(0x1ce))_0x4a32e5=new Date(_0x55150f['getFullYear'](),_0x55150f[_0xb6282a(0x272)](),0x1),_0x4eb3ac=new Date(_0x55150f[_0xb6282a(0x28d)](),_0x55150f[_0xb6282a(0x272)]()+0x1,0x0);else{!document[_0xb6282a(0x200)](_0xb6282a(0x22b))['value']&&(document['getElementById'](_0xb6282a(0x22b))[_0xb6282a(0x1f2)]=getLocalDateStr(_0x55150f),document[_0xb6282a(0x200)](_0xb6282a(0x236))['value']=getLocalDateStr(_0x55150f));refreshAnalytics();return;}}document[_0xb6282a(0x200)]('anStart')[_0xb6282a(0x1f2)]=getLocalDateStr(_0x4a32e5),document['getElementById'](_0xb6282a(0x236))[_0xb6282a(0x1f2)]=getLocalDateStr(_0x4eb3ac),refreshAnalytics();}function refreshAnalytics(){const _0x30da5d=a3_0x7a9e38,_0x51532b=document[_0x30da5d(0x200)]('anStart')[_0x30da5d(0x1f2)],_0x36dd79=document['getElementById'](_0x30da5d(0x236))[_0x30da5d(0x1f2)];if(!_0x51532b||!_0x36dd79)return;const _0x20784=sessions[_0x30da5d(0x2a8)](_0x18e69c=>_0x18e69c[_0x30da5d(0x24e)]>=_0x51532b&&_0x18e69c['dateStr']<=_0x36dd79&&_0x18e69c['status']!==_0x30da5d(0x2a9)),_0x157615=_0x20784[_0x30da5d(0x1fc)],_0x5a4bcf=_0x20784[_0x30da5d(0x2a8)](_0x11789f=>_0x11789f[_0x30da5d(0x21c)]===_0x30da5d(0x25f))['length'],_0x2c0a4f=_0x157615>0x0?Math[_0x30da5d(0x29e)](_0x5a4bcf/_0x157615*0x64):0x0;document[_0x30da5d(0x200)]('anPercent')[_0x30da5d(0x26a)]=_0x2c0a4f+'%',document['getElementById'](_0x30da5d(0x1c0))[_0x30da5d(0x26a)]=_0x5a4bcf+_0x30da5d(0x25b)+_0x157615+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x15f3e3=document[_0x30da5d(0x200)](_0x30da5d(0x295)),_0x116055=0x2*Math['PI']*0x23,_0x53f46c=_0x116055-_0x2c0a4f/0x64*_0x116055;_0x15f3e3[_0x30da5d(0x20f)][_0x30da5d(0x20e)]=_0x53f46c;const _0xa59d0f={};_0x20784[_0x30da5d(0x215)](_0x466c0a=>{const _0x339e8d=_0x30da5d,_0x5dc355=_0x466c0a[_0x339e8d(0x21f)]||_0x339e8d(0x221);if(!_0xa59d0f[_0x5dc355]){const _0x47d03e='#'+_0x5dc355['toString']()['substr'](0x0,0x6);_0xa59d0f[_0x5dc355]={'total':0x0,'done':0x0,'color':_0x47d03e};}_0xa59d0f[_0x5dc355]['total']++;if(_0x466c0a[_0x339e8d(0x21c)]===_0x339e8d(0x25f))_0xa59d0f[_0x5dc355][_0x339e8d(0x266)]++;});const _0x592775=document[_0x30da5d(0x200)](_0x30da5d(0x296));_0x592775[_0x30da5d(0x1ef)]='';const _0xcdefd3=Object['entries'](_0xa59d0f)['sort']((_0x15de51,_0x392584)=>_0x392584[0x1][_0x30da5d(0x27e)]-_0x15de51[0x1]['total']);if(_0xcdefd3[_0x30da5d(0x1fc)]===0x0){_0x592775[_0x30da5d(0x1ef)]=_0x30da5d(0x260);return;}_0xcdefd3['forEach'](([_0x1677bc,_0x2e8df5])=>{const _0x2c26b3=_0x30da5d,_0x592496=Math['round'](_0x2e8df5[_0x2c26b3(0x266)]/_0x2e8df5[_0x2c26b3(0x27e)]*0x64),_0x4f7af2=document[_0x2c26b3(0x1ea)]('div');_0x4f7af2['className']='client-stat-card',_0x4f7af2[_0x2c26b3(0x20f)][_0x2c26b3(0x1d0)]=_0x2e8df5[_0x2c26b3(0x27b)],_0x4f7af2['innerHTML']=_0x2c26b3(0x21b)+_0x1677bc[_0x2c26b3(0x258)](0x0,0x5)+_0x2c26b3(0x234)+_0x2e8df5['done']+_0x2c26b3(0x267)+_0x2e8df5[_0x2c26b3(0x27e)]+_0x2c26b3(0x25c)+_0x592496+_0x2c26b3(0x218),_0x592775['appendChild'](_0x4f7af2);});}function openDetails(_0x50953d){const _0x31e75d=a3_0x7a9e38;currentSession=_0x50953d;const _0x40817e=new Date(_0x50953d[_0x31e75d(0x24e)]),_0x296a8c=_0x40817e[_0x31e75d(0x1dc)]('ru-RU',{'weekday':_0x31e75d(0x203),'day':_0x31e75d(0x29f),'month':_0x31e75d(0x203)});document[_0x31e75d(0x200)]('detDate')[_0x31e75d(0x26a)]=_0x296a8c[_0x31e75d(0x230)](0x0)[_0x31e75d(0x293)]()+_0x296a8c[_0x31e75d(0x246)](0x1),document['getElementById']('detTime')[_0x31e75d(0x26a)]=_0x50953d['start']+'\x20-\x20'+_0x50953d['end'],document[_0x31e75d(0x200)]('detNote')[_0x31e75d(0x26a)]=_0x50953d['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3cf51a=document[_0x31e75d(0x200)](_0x31e75d(0x289)),_0x39538b=document['getElementById']('cancelContainer'),_0x266442=_0x39538b['querySelector'](_0x31e75d(0x1eb)),_0x325d1f=_0x39538b['querySelector'](_0x31e75d(0x1f1)),_0x34ab49=document['getElementById'](_0x31e75d(0x24c));if(_0x50953d[_0x31e75d(0x21c)]===_0x31e75d(0x25f))_0x3cf51a[_0x31e75d(0x26a)]=_0x31e75d(0x273),_0x3cf51a[_0x31e75d(0x20f)]['color']=_0x31e75d(0x2ac),_0x39538b[_0x31e75d(0x20f)][_0x31e75d(0x269)]=_0x31e75d(0x26b);else{_0x3cf51a[_0x31e75d(0x26a)]=_0x31e75d(0x239),_0x3cf51a[_0x31e75d(0x20f)]['color']=_0x31e75d(0x1e1),_0x39538b['style'][_0x31e75d(0x269)]='block';const _0x5e663f=new Date(_0x50953d[_0x31e75d(0x24e)]+'T'+_0x50953d[_0x31e75d(0x1c4)]),_0x2ad56d=new Date(),_0x3896b1=(_0x5e663f-_0x2ad56d)/(0x3e8*0x3c*0x3c),_0x444a77=coachProfiles[_0x50953d[_0x31e75d(0x21f)]]&&coachProfiles[_0x50953d[_0x31e75d(0x21f)]][_0x31e75d(0x25a)]?parseInt(coachProfiles[_0x50953d[_0x31e75d(0x21f)]][_0x31e75d(0x25a)]):0x18;if(_0x444a77===0x0||_0x3896b1>=_0x444a77)_0x266442[_0x31e75d(0x20f)][_0x31e75d(0x269)]='block',_0x325d1f[_0x31e75d(0x20f)][_0x31e75d(0x269)]='block',_0x34ab49[_0x31e75d(0x20f)][_0x31e75d(0x269)]='none';else{_0x266442[_0x31e75d(0x20f)][_0x31e75d(0x269)]='none',_0x325d1f[_0x31e75d(0x20f)][_0x31e75d(0x269)]=_0x31e75d(0x26b),_0x34ab49[_0x31e75d(0x20f)]['display']=_0x31e75d(0x1c5);let _0x1962b9=_0x444a77===0x0?_0x31e75d(0x228):_0x31e75d(0x257)+_0x444a77+_0x31e75d(0x23a);_0x34ab49[_0x31e75d(0x26a)]=_0x31e75d(0x225)+_0x1962b9+_0x31e75d(0x2af);}}document[_0x31e75d(0x200)](_0x31e75d(0x27f))['classList'][_0x31e75d(0x1f8)](_0x31e75d(0x24a)),document['getElementById'](_0x31e75d(0x290))['classList'][_0x31e75d(0x1f8)]('open');}function closeAllSheets(){const _0x10c954=a3_0x7a9e38;document[_0x10c954(0x200)](_0x10c954(0x27f))[_0x10c954(0x1dd)][_0x10c954(0x1d8)](_0x10c954(0x24a)),document[_0x10c954(0x1c3)](_0x10c954(0x25d))[_0x10c954(0x215)](_0x48ae2c=>_0x48ae2c[_0x10c954(0x1dd)]['remove'](_0x10c954(0x265)));}function openSheet(_0x117c3c){const _0x3d8070=a3_0x7a9e38;document['getElementById'](_0x3d8070(0x27f))[_0x3d8070(0x1dd)][_0x3d8070(0x1f8)](_0x3d8070(0x24a)),document[_0x3d8070(0x200)](_0x117c3c)[_0x3d8070(0x1dd)][_0x3d8070(0x1f8)](_0x3d8070(0x265));}function getLocalDateStr(_0x478788){const _0x19dff5=a3_0x7a9e38,_0x4a88af=_0x478788['getFullYear'](),_0x40d90c=String(_0x478788[_0x19dff5(0x272)]()+0x1)[_0x19dff5(0x288)](0x2,'0'),_0x561192=String(_0x478788[_0x19dff5(0x29d)]())['padStart'](0x2,'0');return _0x4a88af+'-'+_0x40d90c+'-'+_0x561192;}function getStartOfWeek(_0x35a336){const _0x5bccee=a3_0x7a9e38,_0x53da5=new Date(_0x35a336),_0x32216d=_0x53da5['getDay'](),_0x5442a1=_0x53da5[_0x5bccee(0x29d)]()-_0x32216d+(_0x32216d===0x0?-0x6:0x1);return _0x53da5['setDate'](_0x5442a1),_0x53da5[_0x5bccee(0x2a7)](0x0,0x0,0x0,0x0),_0x53da5;}function scrollToToday(){const _0x37aa70=getLocalDateStr(new Date());setTimeout(()=>{const _0x21fa39=a3_0x5a37,_0x515fb4=document[_0x21fa39(0x22c)](_0x21fa39(0x209)+_0x37aa70+'\x22]');if(_0x515fb4){const _0x168589=document[_0x21fa39(0x200)]('matrixViewport'),_0x6ba0d3=_0x515fb4[_0x21fa39(0x254)]-_0x168589[_0x21fa39(0x2a3)]/0x2+_0x515fb4[_0x21fa39(0x2a2)]/0x2;_0x168589[_0x21fa39(0x284)]({'left':_0x6ba0d3,'behavior':_0x21fa39(0x244)}),_0x168589[_0x21fa39(0x23d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x50f6c4=a3_0x7a9e38,_0x423a9f=new Date(),_0x5c6e61=document[_0x50f6c4(0x200)](_0x50f6c4(0x22e)),_0x5f4716=document[_0x50f6c4(0x200)](_0x50f6c4(0x1f6)),_0x3937bc=(_0x423a9f['getHours']()*0x3c+_0x423a9f['getMinutes']())/0x3c*GRID_H;_0x5c6e61[_0x50f6c4(0x20f)][_0x50f6c4(0x21a)]=_0x3937bc+'px',_0x5c6e61[_0x50f6c4(0x20f)][_0x50f6c4(0x269)]=_0x50f6c4(0x1c5),_0x5f4716[_0x50f6c4(0x20f)][_0x50f6c4(0x21a)]=_0x3937bc+'px',_0x5f4716[_0x50f6c4(0x20f)]['display']=_0x50f6c4(0x1c5),_0x5f4716[_0x50f6c4(0x26a)]=String(_0x423a9f[_0x50f6c4(0x292)]())[_0x50f6c4(0x288)](0x2,'0')+':'+String(_0x423a9f[_0x50f6c4(0x294)]())['padStart'](0x2,'0');}function onScroll(){const _0x3b412e=a3_0x7a9e38,_0x49b9d0=document[_0x3b412e(0x200)](_0x3b412e(0x251)),_0x47bc1d=document[_0x3b412e(0x1c3)](_0x3b412e(0x1fa));for(let _0x1d82ca of _0x47bc1d)if(_0x1d82ca['offsetLeft']>=_0x49b9d0[_0x3b412e(0x1f9)]){const _0x55eb85=new Date(_0x1d82ca[_0x3b412e(0x264)](_0x3b412e(0x286)));document['getElementById']('headerMonth')[_0x3b412e(0x26a)]=_0x55eb85[_0x3b412e(0x276)]('ru',{'month':_0x3b412e(0x203)})[_0x3b412e(0x293)]()+'\x20'+_0x55eb85['getFullYear']();break;}}function showToast(_0x396df0){const _0x309f63=a3_0x7a9e38,_0x52f830=document[_0x309f63(0x200)](_0x309f63(0x1c8));_0x52f830[_0x309f63(0x26a)]=_0x396df0,_0x52f830['classList'][_0x309f63(0x1f8)](_0x309f63(0x1d4)),setTimeout(()=>_0x52f830[_0x309f63(0x1dd)][_0x309f63(0x1d8)](_0x309f63(0x1d4)),0x7d0);}function handleInfiniteScroll(){const _0x31cd48=a3_0x7a9e38,_0x26d68c=document[_0x31cd48(0x200)](_0x31cd48(0x251)),_0x350ca1=_0x26d68c[_0x31cd48(0x1f9)],_0x361b64=_0x26d68c[_0x31cd48(0x1c2)],_0x5445e3=_0x26d68c['clientWidth'];if(_0x361b64-(_0x350ca1+_0x5445e3)<0x12c){const _0x5f5bd9=endOffset;endOffset+=0xe,renderDayRange(_0x5f5bd9+0x1,endOffset),reRenderBlocks();}if(_0x350ca1<0x12c){const _0x39e844=startOffset;startOffset-=0xe,prependDays(startOffset,_0x39e844-0x1),_0x26d68c[_0x31cd48(0x1f9)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x37e9fe,_0x5250cb){const _0x4f2d7d=a3_0x7a9e38,_0x2e5065=document['getElementById'](_0x4f2d7d(0x235)),_0x23f628=document[_0x4f2d7d(0x200)](_0x4f2d7d(0x1cc)),_0x106c7f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x17d945=new Date();_0x17d945[_0x4f2d7d(0x2a7)](0x0,0x0,0x0,0x0);const _0x117255=getLocalDateStr(new Date()),_0xc92dcf=document['createDocumentFragment'](),_0x3c2d3d=document[_0x4f2d7d(0x28a)]();for(let _0x5bf55b=_0x37e9fe;_0x5bf55b<=_0x5250cb;_0x5bf55b++){const _0xd0f05a=new Date(_0x17d945);_0xd0f05a[_0x4f2d7d(0x232)](_0xd0f05a['getDate']()+_0x5bf55b);const _0x4321d2=getLocalDateStr(_0xd0f05a);let _0xdad97b=_0xd0f05a[_0x4f2d7d(0x1c6)]()-0x1;if(_0xdad97b===-0x1)_0xdad97b=0x6;const _0x1ca2f8=_0x4321d2===_0x117255,_0x354e34=document[_0x4f2d7d(0x1ea)](_0x4f2d7d(0x1f3));_0x354e34[_0x4f2d7d(0x2a5)]='day-col-header\x20'+(_0x1ca2f8?_0x4f2d7d(0x227):''),_0x354e34[_0x4f2d7d(0x29b)](_0x4f2d7d(0x286),_0x4321d2),_0x354e34['innerHTML']=_0x4f2d7d(0x238)+_0x106c7f[_0xdad97b]+'</div><div\x20class=\x22dch-num\x22>'+_0xd0f05a[_0x4f2d7d(0x29d)]()+_0x4f2d7d(0x26e),_0xc92dcf['appendChild'](_0x354e34);const _0x41524d=document[_0x4f2d7d(0x1ea)](_0x4f2d7d(0x1f3));_0x41524d[_0x4f2d7d(0x2a5)]=_0x4f2d7d(0x216)+(_0x1ca2f8?_0x4f2d7d(0x227):''),_0x41524d[_0x4f2d7d(0x29b)](_0x4f2d7d(0x286),_0x4321d2),_0x41524d['setAttribute'](_0x4f2d7d(0x1de),_0xdad97b),_0x3c2d3d[_0x4f2d7d(0x22d)](_0x41524d);}_0x2e5065['insertBefore'](_0xc92dcf,_0x2e5065[_0x4f2d7d(0x224)]),_0x23f628[_0x4f2d7d(0x217)](_0x3c2d3d,_0x23f628[_0x4f2d7d(0x22c)](_0x4f2d7d(0x1f0)));}function hexToRgba(_0x2982e0,_0x463581){const _0x17cc9e=a3_0x7a9e38;let _0x22d081;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x17cc9e(0x1cd)](_0x2982e0))return _0x22d081=_0x2982e0[_0x17cc9e(0x28c)](0x1)[_0x17cc9e(0x24b)](''),_0x22d081[_0x17cc9e(0x1fc)]==0x3&&(_0x22d081=[_0x22d081[0x0],_0x22d081[0x0],_0x22d081[0x1],_0x22d081[0x1],_0x22d081[0x2],_0x22d081[0x2]]),_0x22d081='0x'+_0x22d081[_0x17cc9e(0x1df)](''),_0x17cc9e(0x1cb)+[_0x22d081>>0x10&0xff,_0x22d081>>0x8&0xff,_0x22d081&0xff][_0x17cc9e(0x1df)](',')+','+_0x463581+')';return'rgba(10,\x20132,\x20255,\x20'+_0x463581+')';}let confirmResolver=null;function showCustomConfirm(_0x1070ed,_0x43cdb2,_0x2b2c0d=!![]){const _0x35e0d5=a3_0x7a9e38;document[_0x35e0d5(0x200)](_0x35e0d5(0x213))[_0x35e0d5(0x26a)]=_0x1070ed,document[_0x35e0d5(0x200)](_0x35e0d5(0x271))['textContent']=_0x43cdb2;const _0x4bf5c8=document[_0x35e0d5(0x200)]('ccYesBtn');return _0x2b2c0d?(_0x4bf5c8[_0x35e0d5(0x20f)][_0x35e0d5(0x27b)]='#ff453a',_0x4bf5c8[_0x35e0d5(0x20f)]['fontWeight']=_0x35e0d5(0x2ae)):(_0x4bf5c8['style']['color']=_0x35e0d5(0x23b),_0x4bf5c8['style'][_0x35e0d5(0x2a1)]=_0x35e0d5(0x2ae)),new Promise(_0x14f870=>{const _0x2ed83a=_0x35e0d5;confirmResolver=_0x14f870,document['getElementById']('customConfirm')['classList']['add'](_0x2ed83a(0x222));});}function resolveCustomConfirm(_0x47ad8d){const _0x2c9120=a3_0x7a9e38;document['getElementById'](_0x2c9120(0x23f))[_0x2c9120(0x1dd)][_0x2c9120(0x1d8)](_0x2c9120(0x222));if(confirmResolver)confirmResolver(_0x47ad8d);}async function tryCancelCurrentSession(){const _0x34abf4=a3_0x7a9e38;if(!currentSession)return;const _0x41c044=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x34abf4(0x253),!![]);if(!_0x41c044)return;const _0x770a2=currentSession;closeAllSheets(),sessions=sessions[_0x34abf4(0x2a8)](_0x30e26c=>_0x30e26c['id']!==_0x770a2['id']),reRenderBlocks(),showToast(_0x34abf4(0x206)),lastUserActionTime=Date[_0x34abf4(0x237)]();try{const _0x189623=window['Telegram']?.['WebApp'],_0x117ef1=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x189623?.['initData']||'','coachId':_0x770a2[_0x34abf4(0x21f)],'dateStr':_0x770a2[_0x34abf4(0x24e)],'sessionId':_0x770a2['id']})});if(_0x117ef1['ok'])DataManager['saveLocally']();}catch(_0x56dc83){showToast(_0x34abf4(0x245));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5767b4=a3_0x7a9e38;if(!currentSession)return;document[_0x5767b4(0x200)]('detailsSheet')[_0x5767b4(0x1dd)][_0x5767b4(0x1d8)](_0x5767b4(0x265)),document[_0x5767b4(0x200)](_0x5767b4(0x281))[_0x5767b4(0x1dd)]['add'](_0x5767b4(0x265));const _0x3c8656=document[_0x5767b4(0x200)](_0x5767b4(0x1d6)),_0x1cf09c=document[_0x5767b4(0x200)]('rsSlotsGrid');_0x3c8656['innerHTML']='',_0x1cf09c[_0x5767b4(0x1ef)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x5be39e,_0x33f358]=currentSession[_0x5767b4(0x1c4)]['split'](':')[_0x5767b4(0x1c9)](Number),[_0x55575d,_0x54c65f]=currentSession[_0x5767b4(0x278)][_0x5767b4(0x24b)](':')[_0x5767b4(0x1c9)](Number),_0x2897b8=_0x55575d*0x3c+_0x54c65f-(_0x5be39e*0x3c+_0x33f358);try{const _0x4f3a1a=window[_0x5767b4(0x202)]?.['WebApp'],_0x8ed3bb=await fetch(API_URL,{'method':_0x5767b4(0x219),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x2897b8,'init_data':_0x4f3a1a?.[_0x5767b4(0x1e6)]||'','excludeSessionId':currentSession['id']})}),_0x5d4433=await _0x8ed3bb[_0x5767b4(0x1ec)]();_0x5d4433['ok']&&_0x5d4433[_0x5767b4(0x2b0)]?(availableSlotsCache=_0x5d4433[_0x5767b4(0x2b0)],renderRescheduleDates()):_0x1cf09c[_0x5767b4(0x1ef)]=_0x5767b4(0x263);}catch(_0xf178eb){_0x1cf09c[_0x5767b4(0x1ef)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x293b00=a3_0x7a9e38,_0x30c487=document['getElementById'](_0x293b00(0x1d6));_0x30c487['innerHTML']='';const _0x4a8aa9=Object['keys'](availableSlotsCache)[_0x293b00(0x1db)](),_0x218934=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4a8aa9['length']===0x0){document[_0x293b00(0x200)](_0x293b00(0x274))[_0x293b00(0x1ef)]=_0x293b00(0x1e8);return;}_0x4a8aa9['forEach']((_0x58a23d,_0x216bb2)=>{const _0x42fe12=_0x293b00,_0x567dbd=new Date(_0x58a23d),_0x283a72=_0x218934[_0x567dbd['getDay']()],_0x44d719=_0x567dbd[_0x42fe12(0x29d)](),_0x411be8=document[_0x42fe12(0x1ea)](_0x42fe12(0x1f3));_0x411be8[_0x42fe12(0x2a5)]=_0x42fe12(0x20a);if(_0x216bb2===0x0)_0x411be8[_0x42fe12(0x1dd)][_0x42fe12(0x1f8)](_0x42fe12(0x24a));_0x411be8[_0x42fe12(0x1ef)]=_0x42fe12(0x1f5)+_0x283a72+'</div><div\x20class=\x22rs-day-num\x22>'+_0x44d719+'</div>',_0x411be8[_0x42fe12(0x23c)]=()=>selectRsDate(_0x58a23d,_0x411be8),_0x30c487[_0x42fe12(0x22d)](_0x411be8);}),selectRsDate(_0x4a8aa9[0x0],_0x30c487['firstChild']);}function selectRsDate(_0x938216,_0x58b0c1){const _0x3e0f41=a3_0x7a9e38;selectedRsDate=_0x938216,document[_0x3e0f41(0x1c3)](_0x3e0f41(0x207))[_0x3e0f41(0x215)](_0x303ea3=>_0x303ea3[_0x3e0f41(0x1dd)]['remove']('active'));if(_0x58b0c1)_0x58b0c1['classList'][_0x3e0f41(0x1f8)](_0x3e0f41(0x24a));const _0x170e9b=document[_0x3e0f41(0x200)](_0x3e0f41(0x274));_0x170e9b[_0x3e0f41(0x1ef)]='';const _0x2f5558=availableSlotsCache[_0x938216]||[];if(_0x2f5558[_0x3e0f41(0x1fc)]===0x0){_0x170e9b[_0x3e0f41(0x1ef)]=_0x3e0f41(0x263);return;}_0x2f5558['forEach'](_0x294ade=>{const _0x5113c7=_0x3e0f41,_0x19e46c=document[_0x5113c7(0x1ea)]('button');_0x19e46c[_0x5113c7(0x2a5)]=_0x5113c7(0x220),_0x19e46c['textContent']=_0x294ade,_0x19e46c[_0x5113c7(0x23c)]=()=>confirmReschedule(_0x294ade),_0x170e9b[_0x5113c7(0x22d)](_0x19e46c);});}async function confirmReschedule(_0x288f09){const _0x1d6faa=a3_0x7a9e38,_0x358ce0=new Date(selectedRsDate),_0x256dc3=_0x358ce0[_0x1d6faa(0x1dc)]('ru-RU',{'day':_0x1d6faa(0x29f),'month':_0x1d6faa(0x203)}),_0x5820f7=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x256dc3+_0x1d6faa(0x259)+_0x288f09+'?',![]);if(!_0x5820f7)return;closeAllSheets(),showToast(_0x1d6faa(0x1d1)),lastUserActionTime=Date['now']();const _0x15f01a=currentSession[_0x1d6faa(0x24e)],_0x25e1ad=currentSession['id'],[_0x315108,_0x17030d]=currentSession[_0x1d6faa(0x1c4)][_0x1d6faa(0x24b)](':')[_0x1d6faa(0x1c9)](Number),[_0x3f87b1,_0x137e9b]=currentSession['end'][_0x1d6faa(0x24b)](':')[_0x1d6faa(0x1c9)](Number),_0x6b042=_0x3f87b1*0x3c+_0x137e9b-(_0x315108*0x3c+_0x17030d),[_0x550743,_0x2b6686]=_0x288f09[_0x1d6faa(0x24b)](':')[_0x1d6faa(0x1c9)](Number),_0x60d0fd=_0x550743*0x3c+_0x2b6686+_0x6b042,_0x346cfb=Math[_0x1d6faa(0x270)](_0x60d0fd/0x3c),_0x174595=_0x60d0fd%0x3c,_0x3afff0=String(_0x346cfb)[_0x1d6faa(0x288)](0x2,'0')+':'+String(_0x174595)[_0x1d6faa(0x288)](0x2,'0'),_0x35c4be=sessions[_0x1d6faa(0x241)](_0x209218=>_0x209218['id']===_0x25e1ad);_0x35c4be!==-0x1&&(sessions[_0x35c4be][_0x1d6faa(0x24e)]=selectedRsDate,sessions[_0x35c4be][_0x1d6faa(0x1c4)]=_0x288f09,sessions[_0x35c4be][_0x1d6faa(0x278)]=_0x3afff0,reRenderBlocks());try{const _0x379e46=window[_0x1d6faa(0x202)]?.['WebApp'],_0x58d912=await fetch(API_URL,{'method':_0x1d6faa(0x219),'body':JSON[_0x1d6faa(0x1fb)]({'action':_0x1d6faa(0x1ca),'init_data':_0x379e46?.[_0x1d6faa(0x1e6)]||'','oldSessionId':_0x25e1ad,'oldDate':_0x15f01a,'newDate':selectedRsDate,'newTime':_0x288f09,'coachId':currentSession[_0x1d6faa(0x21f)]})}),_0x3b1c71=await _0x58d912[_0x1d6faa(0x1ec)]();!_0x3b1c71['ok']?(showToast(_0x1d6faa(0x247)),DataManager[_0x1d6faa(0x26c)]()):(showToast(_0x1d6faa(0x1ee)),DataManager[_0x1d6faa(0x1ff)]());}catch(_0x325144){showToast(_0x1d6faa(0x245));}}document[a3_0x7a9e38(0x255)]('DOMContentLoaded',init);