const a3_0x1828ff=a3_0x1602;(function(_0x587525,_0x37e6d7){const _0x138ab9=a3_0x1602,_0x196ffa=_0x587525();while(!![]){try{const _0x18e370=-parseInt(_0x138ab9(0x202))/0x1*(-parseInt(_0x138ab9(0x1d8))/0x2)+parseInt(_0x138ab9(0x1b1))/0x3*(parseInt(_0x138ab9(0x203))/0x4)+parseInt(_0x138ab9(0x22e))/0x5*(parseInt(_0x138ab9(0x247))/0x6)+parseInt(_0x138ab9(0x1b9))/0x7*(-parseInt(_0x138ab9(0x206))/0x8)+parseInt(_0x138ab9(0x167))/0x9*(parseInt(_0x138ab9(0x1c4))/0xa)+-parseInt(_0x138ab9(0x23e))/0xb+parseInt(_0x138ab9(0x22a))/0xc;if(_0x18e370===_0x37e6d7)break;else _0x196ffa['push'](_0x196ffa['shift']());}catch(_0x1f291d){_0x196ffa['push'](_0x196ffa['shift']());}}}(a3_0x2e04,0xe5be7));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x1828ff(0x18e),KEY_SETTINGS=a3_0x1828ff(0x254),KEY_CLIENTS=a3_0x1828ff(0x1df);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1828ff(0x1b3),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x25d3ac=a3_0x1828ff,_0x1cb75f=(function(){let _0x273c60=!![];return function(_0x4bf267,_0x4e0dab){const _0x2e950d=_0x273c60?function(){const _0x3a30f4=a3_0x1602;if(_0x4e0dab){const _0x25b14b=_0x4e0dab[_0x3a30f4(0x1cb)](_0x4bf267,arguments);return _0x4e0dab=null,_0x25b14b;}}:function(){};return _0x273c60=![],_0x2e950d;};}()),_0x4719a6=_0x1cb75f(this,function(){const _0x1c5d93=a3_0x1602;return _0x4719a6[_0x1c5d93(0x229)]()[_0x1c5d93(0x16c)]('(((.+)+)+)+$')[_0x1c5d93(0x229)]()[_0x1c5d93(0x1a5)](_0x4719a6)[_0x1c5d93(0x16c)](_0x1c5d93(0x181));});_0x4719a6();try{const _0x1f476b=window[_0x25d3ac(0x1c8)]?.['WebApp'];if(!_0x1f476b)return;_0x1f476b[_0x25d3ac(0x1e9)](),_0x1f476b[_0x25d3ac(0x20d)]();try{_0x1f476b[_0x25d3ac(0x1f2)]('#050505'),_0x1f476b['setBackgroundColor']&&_0x1f476b[_0x25d3ac(0x250)]('#050505');}catch(_0x4fc792){console['log'](_0x25d3ac(0x1ef),_0x4fc792);}try{_0x1f476b[_0x25d3ac(0x1f9)]&&(_0x1f476b[_0x25d3ac(0x1f9)][_0x25d3ac(0x1b8)](),_0x1f476b[_0x25d3ac(0x1f9)][_0x25d3ac(0x1d9)](),_0x1f476b[_0x25d3ac(0x1f9)][_0x25d3ac(0x1c3)](function(){const _0x1ef20c=_0x25d3ac;window[_0x1ef20c(0x23f)][_0x1ef20c(0x240)]=_0x1ef20c(0x17f);}));}catch(_0x4c437c){console[_0x25d3ac(0x1d2)]('Error\x20setting\x20back\x20button:',_0x4c437c);}try{if(_0x1f476b['disableVerticalSwipes'])_0x1f476b['disableVerticalSwipes']();}catch(_0x1959d3){}}catch(_0x3aeda6){console[_0x25d3ac(0x21d)](_0x25d3ac(0x204),_0x3aeda6);}}());function isAdmin(){const _0x340e91=a3_0x1828ff;try{const _0x1fd076=Number(window[_0x340e91(0x1c8)]?.[_0x340e91(0x1c6)]?.[_0x340e91(0x1da)]?.[_0x340e91(0x24b)]?.['id']);return _0x1fd076===0xbaf7174;}catch(_0x28b77c){return![];}}const DataManager={'saveLocally'(){const _0x7d2589=a3_0x1828ff;try{localStorage[_0x7d2589(0x245)](KEY_SESSIONS,JSON[_0x7d2589(0x1b6)](sessions)),localStorage[_0x7d2589(0x245)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x7d2589(0x245)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x201fa4){}},'loadLocal'(){const _0x5c69c9=a3_0x1828ff;try{const _0x31acb8=localStorage[_0x5c69c9(0x1e2)](KEY_SESSIONS);if(_0x31acb8)sessions=JSON[_0x5c69c9(0x205)](_0x31acb8);const _0x4731cb=localStorage[_0x5c69c9(0x1e2)](KEY_CLIENTS);if(_0x4731cb)clients=JSON[_0x5c69c9(0x205)](_0x4731cb);const _0x50ce2e=localStorage[_0x5c69c9(0x1e2)](KEY_SETTINGS);if(_0x50ce2e){const _0x16d77d=JSON['parse'](_0x50ce2e);if(_0x16d77d[_0x5c69c9(0x225)])availabilityPattern=_0x16d77d['pattern'];if(_0x16d77d[_0x5c69c9(0x253)])specialRanges=_0x16d77d['ranges'];if(_0x16d77d['exceptions'])dateExceptions=_0x16d77d[_0x5c69c9(0x1a6)];}}catch(_0x451913){}},async 'syncLoad'(){const _0x6520fa=a3_0x1828ff,_0x4336bf=new Date(),_0x3ca6ad=_0x4336bf[_0x6520fa(0x1bb)]()+'-'+String(_0x4336bf[_0x6520fa(0x209)]()+0x1)[_0x6520fa(0x1c1)](0x2,'0'),_0x40f566=new Date(_0x4336bf);_0x40f566[_0x6520fa(0x1bd)](_0x4336bf[_0x6520fa(0x209)]()+0x1);const _0x5c9619=_0x40f566['getFullYear']()+'-'+String(_0x40f566[_0x6520fa(0x209)]()+0x1)[_0x6520fa(0x1c1)](0x2,'0'),_0x537f07=Date[_0x6520fa(0x19d)]();try{const _0x4fec1a=window[_0x6520fa(0x1c8)]?.['WebApp'],_0x23c49c=_0x4fec1a?.['initData']||'',[_0x481ae0,_0x485e00]=await Promise[_0x6520fa(0x259)]([fetch(API_URL,{'method':_0x6520fa(0x1ca),'body':JSON[_0x6520fa(0x1b6)]({'action':_0x6520fa(0x210),'init_data':_0x23c49c,'month_str':_0x3ca6ad})})[_0x6520fa(0x1cd)](_0x31d2da=>_0x31d2da[_0x6520fa(0x170)]()),fetch(API_URL,{'method':_0x6520fa(0x1ca),'body':JSON[_0x6520fa(0x1b6)]({'action':'client_load','init_data':_0x23c49c,'month_str':_0x5c9619})})[_0x6520fa(0x1cd)](_0xb3de84=>_0xb3de84[_0x6520fa(0x170)]())]);if(lastUserActionTime>_0x537f07){console[_0x6520fa(0x1d2)](_0x6520fa(0x20c));return;}if(_0x481ae0['ok'])this[_0x6520fa(0x241)](_0x481ae0[_0x6520fa(0x21b)],_0x3ca6ad);if(_0x485e00['ok'])this[_0x6520fa(0x241)](_0x485e00[_0x6520fa(0x21b)],_0x5c9619);this['saveLocally']();}catch(_0x8266fb){}},'applyData'(_0x4cd8f9,_0x552512){const _0x3f4602=a3_0x1828ff;if(!_0x4cd8f9)return;if(_0x4cd8f9[_0x3f4602(0x257)]){if(_0x4cd8f9[_0x3f4602(0x257)][_0x3f4602(0x225)])availabilityPattern=_0x4cd8f9[_0x3f4602(0x257)]['pattern'];if(_0x4cd8f9[_0x3f4602(0x257)]['ranges'])specialRanges=_0x4cd8f9[_0x3f4602(0x257)][_0x3f4602(0x253)];if(_0x4cd8f9[_0x3f4602(0x257)]['exceptions'])dateExceptions=_0x4cd8f9[_0x3f4602(0x257)]['exceptions'];}if(_0x4cd8f9[_0x3f4602(0x21c)]&&Array[_0x3f4602(0x1be)](_0x4cd8f9[_0x3f4602(0x21c)]))clients=_0x4cd8f9[_0x3f4602(0x21c)];_0x4cd8f9[_0x3f4602(0x1a8)]&&(coachProfiles={...coachProfiles,..._0x4cd8f9[_0x3f4602(0x1a8)]}),_0x4cd8f9[_0x3f4602(0x176)]&&(sessions=sessions[_0x3f4602(0x1a0)](_0xebd83c=>!_0xebd83c[_0x3f4602(0x1b7)][_0x3f4602(0x193)](_0x552512)),Object[_0x3f4602(0x18b)](_0x4cd8f9[_0x3f4602(0x176)])[_0x3f4602(0x220)](_0x253f1a=>{const _0x241b26=_0x3f4602,_0x50fe20=_0x4cd8f9[_0x241b26(0x176)][_0x253f1a];_0x50fe20['forEach'](_0x3d2175=>{const _0x392e64=_0x241b26;sessions['push']({'id':_0x3d2175['i'],'clientId':_0x3d2175['c'],'coachId':_0x3d2175[_0x392e64(0x255)],'dateStr':_0x552512+'-'+_0x253f1a[_0x392e64(0x1c1)](0x2,'0'),'start':_0x3d2175['s'],'end':_0x3d2175['e'],'note':_0x3d2175['n']||'','status':_0x3d2175['st']||_0x392e64(0x1d6),'seriesId':_0x3d2175[_0x392e64(0x1f7)]});});})),reRenderBlocks();}};function init(){const _0x312369=a3_0x1828ff;DataManager[_0x312369(0x1b5)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x312369(0x258))[_0x312369(0x238)](_0x312369(0x17a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x312369(0x234)]();}function renderTimeColumn(){const _0x1f92c1=a3_0x1828ff,_0x4ef47d=document[_0x1f92c1(0x249)](_0x1f92c1(0x17c)),_0x35c287=document[_0x1f92c1(0x249)](_0x1f92c1(0x1e4));_0x4ef47d['innerHTML']='',_0x4ef47d[_0x1f92c1(0x237)](_0x35c287);for(let _0x3df263=0x0;_0x3df263<0x18;_0x3df263++){const _0x2f3833=document[_0x1f92c1(0x24e)](_0x1f92c1(0x244));_0x2f3833['className']='time-label';if(_0x3df263>0x0)_0x2f3833[_0x1f92c1(0x1eb)]=_0x1f92c1(0x1c2)+String(_0x3df263)[_0x1f92c1(0x1c1)](0x2,'0')+_0x1f92c1(0x166);_0x4ef47d[_0x1f92c1(0x237)](_0x2f3833);}}function renderDayRange(_0x108f61,_0xf791b1){const _0x19b144=a3_0x1828ff,_0x185c8a=document['getElementById'](_0x19b144(0x1a1)),_0x1f9d80=document[_0x19b144(0x249)](_0x19b144(0x24d)),_0x4b1448=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x479715=new Date();_0x479715[_0x19b144(0x182)](0x0,0x0,0x0,0x0);const _0x3b2625=getLocalDateStr(new Date());for(let _0x43d10a=_0x108f61;_0x43d10a<=_0xf791b1;_0x43d10a++){const _0x5ad450=new Date(_0x479715);_0x5ad450[_0x19b144(0x165)](_0x5ad450['getDate']()+_0x43d10a);const _0x468d60=getLocalDateStr(_0x5ad450);let _0x14fce9=_0x5ad450[_0x19b144(0x242)]()-0x1;if(_0x14fce9===-0x1)_0x14fce9=0x6;const _0x2fd14d=_0x468d60===_0x3b2625,_0x292277=document[_0x19b144(0x24e)](_0x19b144(0x244));_0x292277[_0x19b144(0x172)]=_0x19b144(0x16e)+(_0x2fd14d?_0x19b144(0x21a):''),_0x292277['setAttribute']('data-date',_0x468d60),_0x292277[_0x19b144(0x1eb)]=_0x19b144(0x1de)+_0x4b1448[_0x14fce9]+'</div><div\x20class=\x22dch-num\x22>'+_0x5ad450[_0x19b144(0x18f)]()+'</div>',_0x185c8a['appendChild'](_0x292277);const _0x59173c=document[_0x19b144(0x24e)](_0x19b144(0x244));_0x59173c[_0x19b144(0x172)]=_0x19b144(0x16a)+(_0x2fd14d?_0x19b144(0x21a):''),_0x59173c[_0x19b144(0x214)](_0x19b144(0x175),_0x468d60),_0x59173c[_0x19b144(0x214)](_0x19b144(0x1e5),_0x14fce9),_0x1f9d80[_0x19b144(0x237)](_0x59173c);}}function reRenderBlocks(){const _0x49ca06=a3_0x1828ff;document[_0x49ca06(0x179)](_0x49ca06(0x207))['forEach'](_0xf1be36=>{const _0x5439a5=_0x49ca06;_0xf1be36[_0x5439a5(0x179)](_0x5439a5(0x18a))[_0x5439a5(0x220)](_0x47b51f=>_0x47b51f['remove']());const _0x4f30b6=_0xf1be36[_0x5439a5(0x171)]('data-date'),_0x56243b=parseInt(_0xf1be36[_0x5439a5(0x171)](_0x5439a5(0x1e5))),_0x2ee5ce=Math['round'](_0xf1be36[_0x5439a5(0x1e7)]);(availabilityPattern[_0x56243b]||[])[_0x5439a5(0x220)](_0x346545=>{const _0x2310ae=_0x5439a5,_0x2d902b=document[_0x2310ae(0x24e)](_0x2310ae(0x244));_0x2d902b['className']='blocked-slot\x20stripe-bg',_0x2d902b[_0x2310ae(0x188)][_0x2310ae(0x19e)]=_0x346545*GRID_H+'px',_0x2d902b[_0x2310ae(0x188)]['backgroundPosition']='-'+_0x2ee5ce+'px\x20-'+_0x346545*GRID_H+'px',_0xf1be36[_0x2310ae(0x237)](_0x2d902b);});if(specialRanges[_0x5439a5(0x185)]>0x0){const _0x1b36e5=new Date(_0x4f30b6+_0x5439a5(0x243))[_0x5439a5(0x1c0)](),_0x25e479=new Date(_0x4f30b6+_0x5439a5(0x222))[_0x5439a5(0x1c0)]();specialRanges[_0x5439a5(0x220)](_0xb2806a=>{const _0x3dff3b=_0x5439a5,_0x228ecb=new Date(_0xb2806a['start'])['getTime'](),_0x5f0a04=new Date(_0xb2806a[_0x3dff3b(0x199)])['getTime'](),_0x301043=Math['max'](_0x1b36e5,_0x228ecb),_0x3146ce=Math[_0x3dff3b(0x22f)](_0x25e479,_0x5f0a04);if(_0x301043<_0x3146ce){const _0x5e1b19=(_0x301043-_0x1b36e5)/0x36ee80*GRID_H,_0x4ec4ac=(_0x3146ce-_0x301043)/0x36ee80*GRID_H,_0x4ee57f=document[_0x3dff3b(0x24e)]('div');_0x4ec4ac>=23.5*GRID_H?(_0x4ee57f[_0x3dff3b(0x172)]='day-off-overlay\x20stripe-bg',_0x4ee57f[_0x3dff3b(0x188)][_0x3dff3b(0x1f5)]='-'+_0x2ee5ce+_0x3dff3b(0x1dd)):(_0x4ee57f['className']='blocked-range-part\x20stripe-bg',_0x4ee57f[_0x3dff3b(0x188)]['top']=_0x5e1b19+'px',_0x4ee57f['style'][_0x3dff3b(0x163)]=_0x4ec4ac+'px',_0x4ee57f[_0x3dff3b(0x188)][_0x3dff3b(0x1f5)]='-'+_0x2ee5ce+_0x3dff3b(0x192)+_0x5e1b19+'px'),_0xf1be36[_0x3dff3b(0x237)](_0x4ee57f);}});}renderEventsForColumn(_0xf1be36,_0x4f30b6);});}function a3_0x2e04(){const _0x1d4ddc=['planned','textContent','166ruVWgl','offClick','initDataUnsafe','anCustomDates','display','px\x200px','<div\x20class=\x22dch-day\x22>','uc_client_list','scrollTop','zIndex','getItem','–∑–∞\x20','timeLineBadge','data-day-idx','%\x20+\x202px)','offsetLeft','width','ready','fontWeight','innerHTML','max','ccText','client-stat-card','Error\x20setting\x20color:','stopPropagation','findIndex','setHeaderColor','anEnd','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','backgroundPosition','map','sid','detailsSheet','BackButton','total','done','–û—Ç–º–µ–Ω–µ–Ω–æ','strokeDashoffset','.rs-date-chip','Unknown','anTotalStats','substr','11397YfcPiz','4579216coytFx','Critical\x20TMA\x20Error:','parse','776EjcsEl','.day-column','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getMonth','toast','borderLeftColor','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','expand','left','anPercent','client_load','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','</div>','setAttribute','cancelHint','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','numeric','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','today','data','clients','error','\x20—á.','querySelector','forEach','</div><div\x20class=\x22dch-num\x22>','T23:59:59','get_slots','client_cancel','pattern','open','sort','anDonutCircle','toString','261132acFqHr','DOMContentLoaded','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','none','329185nCURoH','min','entries','scrollLeft','remove','rs-time-btn','syncLoad','detStatus','substring','appendChild','addEventListener','push','backgroundColor','.btn-cancel','.btn-reschedule','charAt','17179756JqHTrL','location','href','applyData','getDay','T00:00:00','div','setItem','active','114qmymef','reschedule','getElementById','long','user','slice','gridColumns','createElement','floor','setBackgroundColor','custom','color','ranges','uc_client_settings','cid','<div\x20class=\x22rs-day-name\x22>','settings','matrixViewport','all','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','status','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','height','firstChild','setDate',':00</span>','441WKFSBl','detTime','clientWidth','day-column\x20','getMinutes','search','saveLocally','day-col-header\x20','.sheet','json','getAttribute','className','rgba(10,\x20132,\x20255,\x20','detNote','data-date','calendar','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','split','querySelectorAll','scroll','\x20-\x20','timeColumn','customConfirm','note','router.html','globalTimeLine','(((.+)+)+)+$','setHours','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','length','onclick','classList','style','rs-date-chip','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','keys','#ff453a','initData','uc_client_sessions','getDate','round','createDocumentFragment','px\x20-','startsWith','add','\x20status-completed','</div><div\x20class=\x22rs-day-num\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','var(--acc-blue)','end','rsDatesTrack','offsetWidth','</span>\x20/\x20','now','top','cancel_window','filter','daysHeaderTrack','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','start','coachId','constructor','exceptions','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','coach_profiles','colIndex','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anStart','calc(','overlay','insertBefore','join','3YjVSdJ','clientId','week','rsSlotsGrid','loadLocal','stringify','dateStr','show','126875TRFJkg','mini','getFullYear','completed','setMonth','isArray','getHours','getTime','padStart','<span>','onClick','183170tVDQsw','600','WebApp','ru-RU','Telegram','event-card','POST','apply','analyticsList','then','flex','#0a84ff','value','block','log','detDate','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','.period-switch\x20.p-btn'];a3_0x2e04=function(){return _0x1d4ddc;};return a3_0x2e04();}function renderEventsForColumn(_0x5cb510,_0x1c945b){const _0x20db71=a3_0x1828ff,_0x218eae=sessions['filter'](_0x2bc484=>_0x2bc484['dateStr']===_0x1c945b),_0x23f629=_0x218eae[_0x20db71(0x1f6)](_0x3d6829=>{const _0x48f764=_0x20db71,[_0x4b4da9,_0x283730]=_0x3d6829[_0x48f764(0x1a3)][_0x48f764(0x178)](':')[_0x48f764(0x1f6)](Number),[_0x10c76d,_0x194536]=_0x3d6829[_0x48f764(0x199)]['split'](':')[_0x48f764(0x1f6)](Number);return{'data':_0x3d6829,'start':_0x4b4da9*0x3c+_0x283730,'end':_0x10c76d*0x3c+_0x194536,'colIndex':0x0};});_0x23f629[_0x20db71(0x227)]((_0xf54b4e,_0x4a15fc)=>_0xf54b4e[_0x20db71(0x1a3)]-_0x4a15fc[_0x20db71(0x1a3)]||_0x4a15fc[_0x20db71(0x199)]-_0x4a15fc[_0x20db71(0x1a3)]-(_0xf54b4e['end']-_0xf54b4e[_0x20db71(0x1a3)]));const _0x3653fa=[];_0x23f629[_0x20db71(0x220)](_0x508b9b=>{const _0x10e319=_0x20db71;let _0x56e95d=![];for(let _0x1ec827=0x0;_0x1ec827<_0x3653fa[_0x10e319(0x185)];_0x1ec827++){const _0x28f566=_0x3653fa[_0x1ec827];if(_0x508b9b['start']>=_0x28f566[_0x28f566[_0x10e319(0x185)]-0x1]['end']){_0x28f566[_0x10e319(0x239)](_0x508b9b),_0x508b9b[_0x10e319(0x1a9)]=_0x1ec827,_0x56e95d=!![];break;}}!_0x56e95d&&(_0x3653fa[_0x10e319(0x239)]([_0x508b9b]),_0x508b9b['colIndex']=_0x3653fa[_0x10e319(0x185)]-0x1);}),_0x23f629[_0x20db71(0x220)](_0x3993af=>{const _0x5ed719=_0x20db71;let _0x5ce1bc=0x0;_0x23f629['forEach'](_0x43d08d=>{const _0x218ec6=a3_0x1602;if(Math[_0x218ec6(0x1ec)](_0x3993af[_0x218ec6(0x1a3)],_0x43d08d[_0x218ec6(0x1a3)])<Math['min'](_0x3993af[_0x218ec6(0x199)],_0x43d08d[_0x218ec6(0x199)])&&_0x43d08d[_0x218ec6(0x1a9)]>_0x5ce1bc)_0x5ce1bc=_0x43d08d['colIndex'];});const _0x1c0bb7=_0x5ce1bc+0x1,_0xd46fab=0x64/_0x1c0bb7,_0x33e823=_0x3993af['colIndex']*_0xd46fab,_0x17a2ec=document[_0x5ed719(0x24e)](_0x5ed719(0x244)),_0x505ce4=_0x3993af[_0x5ed719(0x21b)];let _0x59877d='#0a84ff';if(clients&&clients[_0x5ed719(0x185)]>0x0){const _0x79a1b4=clients['find'](_0x193442=>String(_0x193442['id'])===String(_0x505ce4[_0x5ed719(0x1b2)]));if(_0x79a1b4&&_0x79a1b4['color'])_0x59877d=_0x79a1b4[_0x5ed719(0x252)];}const _0x47ec7e=_0x505ce4['status']===_0x5ed719(0x1bc),_0x1695db=_0x47ec7e?0x1:0.45;_0x17a2ec[_0x5ed719(0x172)]=_0x5ed719(0x1c9)+(_0x47ec7e?_0x5ed719(0x195):''),_0x17a2ec[_0x5ed719(0x188)][_0x5ed719(0x23a)]=hexToRgba(_0x59877d,_0x1695db),_0x17a2ec[_0x5ed719(0x188)][_0x5ed719(0x20b)]=_0x59877d;const _0x42b636=_0x3993af['start']/0x3c*GRID_H,_0xeaf92b=(_0x3993af[_0x5ed719(0x199)]-_0x3993af[_0x5ed719(0x1a3)])/0x3c*GRID_H;_0x17a2ec[_0x5ed719(0x188)]['top']=_0x42b636+'px',_0x17a2ec['style'][_0x5ed719(0x163)]=Math['max'](_0xeaf92b,0x14)+'px',_0x17a2ec[_0x5ed719(0x188)][_0x5ed719(0x1e8)]=_0x5ed719(0x1ad)+_0xd46fab+'%\x20-\x204px)',_0x17a2ec['style'][_0x5ed719(0x20e)]=_0x5ed719(0x1ad)+_0x33e823+_0x5ed719(0x1e6),_0x17a2ec[_0x5ed719(0x188)][_0x5ed719(0x1e1)]=0xa+_0x3993af['colIndex'];if(_0xd46fab<0x55)_0x17a2ec[_0x5ed719(0x187)][_0x5ed719(0x194)](_0x5ed719(0x1ba));let _0xed0230='';if(_0x505ce4['seriesId'])_0xed0230+=_0x5ed719(0x1a2);if(_0x47ec7e)_0xed0230+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x17a2ec[_0x5ed719(0x1eb)]=_0x5ed719(0x25b)+_0x505ce4[_0x5ed719(0x1a3)]+_0x5ed719(0x17b)+_0x505ce4[_0x5ed719(0x199)]+_0x5ed719(0x161)+_0xed0230+_0x5ed719(0x1ab),_0x17a2ec[_0x5ed719(0x186)]=_0x45c810=>{const _0x492721=_0x5ed719;_0x45c810[_0x492721(0x1f0)](),openDetails(_0x505ce4);},_0x5cb510['appendChild'](_0x17a2ec);});}function openAnalytics(){const _0x2aa44f=a3_0x1828ff,_0x219dae=document['querySelector'](_0x2aa44f(0x1d5));setAnalyticsPeriod(_0x2aa44f(0x1b3),_0x219dae),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x28b6db,_0x5d8224){const _0x14fc49=a3_0x1828ff;currentAnPeriod=_0x28b6db,document[_0x14fc49(0x179)](_0x14fc49(0x1d5))[_0x14fc49(0x220)](_0x11de31=>_0x11de31['classList']['remove'](_0x14fc49(0x246)));if(_0x5d8224)_0x5d8224[_0x14fc49(0x187)][_0x14fc49(0x194)](_0x14fc49(0x246));const _0x542bf0=document['getElementById'](_0x14fc49(0x1db));_0x542bf0[_0x14fc49(0x188)][_0x14fc49(0x1dc)]=_0x28b6db===_0x14fc49(0x251)?_0x14fc49(0x1ce):_0x14fc49(0x22d);const _0x36e93c=new Date();let _0x4c86a2=new Date(),_0x5d8012=new Date();if(_0x28b6db===_0x14fc49(0x1b3))_0x4c86a2=getStartOfWeek(_0x36e93c),_0x5d8012=new Date(_0x4c86a2),_0x5d8012[_0x14fc49(0x165)](_0x5d8012[_0x14fc49(0x18f)]()+0x6);else{if(_0x28b6db==='month')_0x4c86a2=new Date(_0x36e93c[_0x14fc49(0x1bb)](),_0x36e93c[_0x14fc49(0x209)](),0x1),_0x5d8012=new Date(_0x36e93c['getFullYear'](),_0x36e93c[_0x14fc49(0x209)]()+0x1,0x0);else{!document[_0x14fc49(0x249)]('anStart')[_0x14fc49(0x1d0)]&&(document['getElementById'](_0x14fc49(0x1ac))[_0x14fc49(0x1d0)]=getLocalDateStr(_0x36e93c),document['getElementById'](_0x14fc49(0x1f3))['value']=getLocalDateStr(_0x36e93c));refreshAnalytics();return;}}document[_0x14fc49(0x249)]('anStart')[_0x14fc49(0x1d0)]=getLocalDateStr(_0x4c86a2),document[_0x14fc49(0x249)](_0x14fc49(0x1f3))[_0x14fc49(0x1d0)]=getLocalDateStr(_0x5d8012),refreshAnalytics();}function refreshAnalytics(){const _0x41cdfe=a3_0x1828ff,_0x1e53b5=document[_0x41cdfe(0x249)](_0x41cdfe(0x1ac))['value'],_0x343391=document[_0x41cdfe(0x249)](_0x41cdfe(0x1f3))['value'];if(!_0x1e53b5||!_0x343391)return;const _0x313c6f=sessions['filter'](_0x36511e=>_0x36511e[_0x41cdfe(0x1b7)]>=_0x1e53b5&&_0x36511e[_0x41cdfe(0x1b7)]<=_0x343391&&_0x36511e[_0x41cdfe(0x160)]!=='cancelled'),_0x5d93b6=_0x313c6f[_0x41cdfe(0x185)],_0x440aff=_0x313c6f[_0x41cdfe(0x1a0)](_0x2c0be3=>_0x2c0be3[_0x41cdfe(0x160)]===_0x41cdfe(0x1bc))[_0x41cdfe(0x185)],_0x4e8505=_0x5d93b6>0x0?Math[_0x41cdfe(0x190)](_0x440aff/_0x5d93b6*0x64):0x0;document[_0x41cdfe(0x249)](_0x41cdfe(0x20f))[_0x41cdfe(0x1d7)]=_0x4e8505+'%',document[_0x41cdfe(0x249)](_0x41cdfe(0x200))['textContent']=_0x440aff+'\x20–∏–∑\x20'+_0x5d93b6+_0x41cdfe(0x208);const _0x1250ae=document[_0x41cdfe(0x249)](_0x41cdfe(0x228)),_0x17affa=0x2*Math['PI']*0x23,_0x44adc5=_0x17affa-_0x4e8505/0x64*_0x17affa;_0x1250ae[_0x41cdfe(0x188)][_0x41cdfe(0x1fd)]=_0x44adc5;const _0x56d603={};_0x313c6f['forEach'](_0x5ca1e8=>{const _0x2061f5=_0x41cdfe,_0xf4c700=_0x5ca1e8[_0x2061f5(0x1a4)]||_0x2061f5(0x1ff);if(!_0x56d603[_0xf4c700]){const _0x2284c0='#'+_0xf4c700[_0x2061f5(0x229)]()[_0x2061f5(0x201)](0x0,0x6);_0x56d603[_0xf4c700]={'total':0x0,'done':0x0,'color':_0x2284c0};}_0x56d603[_0xf4c700]['total']++;if(_0x5ca1e8[_0x2061f5(0x160)]==='completed')_0x56d603[_0xf4c700][_0x2061f5(0x1fb)]++;});const _0x1ca358=document['getElementById'](_0x41cdfe(0x1cc));_0x1ca358[_0x41cdfe(0x1eb)]='';const _0x26da37=Object[_0x41cdfe(0x230)](_0x56d603)['sort']((_0x37df21,_0x45d0d5)=>_0x45d0d5[0x1][_0x41cdfe(0x1fa)]-_0x37df21[0x1][_0x41cdfe(0x1fa)]);if(_0x26da37['length']===0x0){_0x1ca358['innerHTML']=_0x41cdfe(0x219);return;}_0x26da37[_0x41cdfe(0x220)](([_0x1ef62c,_0x27b938])=>{const _0x424b90=_0x41cdfe,_0x3f0cb7=Math[_0x424b90(0x190)](_0x27b938[_0x424b90(0x1fb)]/_0x27b938[_0x424b90(0x1fa)]*0x64),_0x4a7f34=document[_0x424b90(0x24e)]('div');_0x4a7f34['className']=_0x424b90(0x1ee),_0x4a7f34[_0x424b90(0x188)][_0x424b90(0x20b)]=_0x27b938['color'],_0x4a7f34['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x1ef62c[_0x424b90(0x201)](0x0,0x5)+_0x424b90(0x197)+_0x27b938[_0x424b90(0x1fb)]+_0x424b90(0x19c)+_0x27b938['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3f0cb7+_0x424b90(0x216),_0x1ca358[_0x424b90(0x237)](_0x4a7f34);});}function openDetails(_0x5e60c9){const _0x3f8fe7=a3_0x1828ff;currentSession=_0x5e60c9;const _0x300de3=new Date(_0x5e60c9[_0x3f8fe7(0x1b7)]),_0x163e27=_0x300de3[_0x3f8fe7(0x162)]('ru-RU',{'weekday':'long','day':_0x3f8fe7(0x218),'month':'long'});document[_0x3f8fe7(0x249)](_0x3f8fe7(0x1d3))['textContent']=_0x163e27[_0x3f8fe7(0x23d)](0x0)['toUpperCase']()+_0x163e27[_0x3f8fe7(0x24c)](0x1),document['getElementById'](_0x3f8fe7(0x168))[_0x3f8fe7(0x1d7)]=_0x5e60c9[_0x3f8fe7(0x1a3)]+_0x3f8fe7(0x17b)+_0x5e60c9[_0x3f8fe7(0x199)],document[_0x3f8fe7(0x249)](_0x3f8fe7(0x174))[_0x3f8fe7(0x1d7)]=_0x5e60c9[_0x3f8fe7(0x17e)]||_0x3f8fe7(0x217);const _0x556c4b=document[_0x3f8fe7(0x249)](_0x3f8fe7(0x235)),_0x1716bc=document[_0x3f8fe7(0x249)]('cancelContainer'),_0x23d683=_0x1716bc[_0x3f8fe7(0x21f)](_0x3f8fe7(0x23b)),_0x8fea90=_0x1716bc[_0x3f8fe7(0x21f)](_0x3f8fe7(0x23c)),_0x42c877=document[_0x3f8fe7(0x249)](_0x3f8fe7(0x215));if(_0x5e60c9['status']===_0x3f8fe7(0x1bc))_0x556c4b[_0x3f8fe7(0x1d7)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x556c4b['style'][_0x3f8fe7(0x252)]='var(--acc-green)',_0x1716bc[_0x3f8fe7(0x188)]['display']=_0x3f8fe7(0x22d);else{_0x556c4b[_0x3f8fe7(0x1d7)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x556c4b[_0x3f8fe7(0x188)]['color']=_0x3f8fe7(0x198),_0x1716bc['style'][_0x3f8fe7(0x1dc)]=_0x3f8fe7(0x1d1);const _0x28ec79=new Date(_0x5e60c9['dateStr']+'T'+_0x5e60c9[_0x3f8fe7(0x1a3)]),_0x1b6a80=new Date(),_0xfb65b9=(_0x28ec79-_0x1b6a80)/(0x3e8*0x3c*0x3c),_0x45e692=coachProfiles[_0x5e60c9[_0x3f8fe7(0x1a4)]]&&coachProfiles[_0x5e60c9[_0x3f8fe7(0x1a4)]][_0x3f8fe7(0x19f)]?parseInt(coachProfiles[_0x5e60c9['coachId']][_0x3f8fe7(0x19f)]):0x18;if(_0x45e692===0x0||_0xfb65b9>=_0x45e692)_0x23d683['style'][_0x3f8fe7(0x1dc)]='block',_0x8fea90['style'][_0x3f8fe7(0x1dc)]=_0x3f8fe7(0x1d1),_0x42c877[_0x3f8fe7(0x188)][_0x3f8fe7(0x1dc)]=_0x3f8fe7(0x22d);else{_0x23d683['style'][_0x3f8fe7(0x1dc)]=_0x3f8fe7(0x22d),_0x8fea90[_0x3f8fe7(0x188)][_0x3f8fe7(0x1dc)]=_0x3f8fe7(0x22d),_0x42c877[_0x3f8fe7(0x188)]['display']='block';let _0x5d53c5=_0x45e692===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x3f8fe7(0x1e3)+_0x45e692+_0x3f8fe7(0x21e);_0x42c877[_0x3f8fe7(0x1d7)]=_0x3f8fe7(0x212)+_0x5d53c5+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x3f8fe7(0x249)](_0x3f8fe7(0x1ae))['classList'][_0x3f8fe7(0x194)](_0x3f8fe7(0x246)),document[_0x3f8fe7(0x249)](_0x3f8fe7(0x1f8))[_0x3f8fe7(0x187)][_0x3f8fe7(0x194)](_0x3f8fe7(0x226));}function closeAllSheets(){const _0x3d84c3=a3_0x1828ff;document[_0x3d84c3(0x249)](_0x3d84c3(0x1ae))['classList']['remove'](_0x3d84c3(0x246)),document[_0x3d84c3(0x179)](_0x3d84c3(0x16f))[_0x3d84c3(0x220)](_0x1c328a=>_0x1c328a['classList'][_0x3d84c3(0x232)](_0x3d84c3(0x226)));}function openSheet(_0x515412){const _0x2f9aac=a3_0x1828ff;document[_0x2f9aac(0x249)](_0x2f9aac(0x1ae))[_0x2f9aac(0x187)]['add'](_0x2f9aac(0x246)),document[_0x2f9aac(0x249)](_0x515412)['classList']['add'](_0x2f9aac(0x226));}function getLocalDateStr(_0x1b851e){const _0x1f0425=a3_0x1828ff,_0x1d8d0e=_0x1b851e[_0x1f0425(0x1bb)](),_0x6836a6=String(_0x1b851e['getMonth']()+0x1)[_0x1f0425(0x1c1)](0x2,'0'),_0x2e314a=String(_0x1b851e['getDate']())[_0x1f0425(0x1c1)](0x2,'0');return _0x1d8d0e+'-'+_0x6836a6+'-'+_0x2e314a;}function getStartOfWeek(_0x8078b){const _0x52104f=a3_0x1828ff,_0x5a990d=new Date(_0x8078b),_0x313d84=_0x5a990d['getDay'](),_0x3d3632=_0x5a990d[_0x52104f(0x18f)]()-_0x313d84+(_0x313d84===0x0?-0x6:0x1);return _0x5a990d[_0x52104f(0x165)](_0x3d3632),_0x5a990d[_0x52104f(0x182)](0x0,0x0,0x0,0x0),_0x5a990d;}function scrollToToday(){const _0x257dac=getLocalDateStr(new Date());setTimeout(()=>{const _0x2e41e8=a3_0x1602,_0x22da69=document[_0x2e41e8(0x21f)]('.day-col-header[data-date=\x22'+_0x257dac+'\x22]');if(_0x22da69){const _0x349929=document[_0x2e41e8(0x249)]('matrixViewport'),_0xc9bc98=_0x22da69[_0x2e41e8(0x1e7)]-_0x349929[_0x2e41e8(0x169)]/0x2+_0x22da69[_0x2e41e8(0x19b)]/0x2;_0x349929['scrollTo']({'left':_0xc9bc98,'behavior':'auto'}),_0x349929[_0x2e41e8(0x1e0)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5a88fe=a3_0x1828ff,_0x5b9092=new Date(),_0x537ac6=document[_0x5a88fe(0x249)](_0x5a88fe(0x180)),_0x4e42b4=document[_0x5a88fe(0x249)]('timeLineBadge'),_0xa39e78=(_0x5b9092[_0x5a88fe(0x1bf)]()*0x3c+_0x5b9092[_0x5a88fe(0x16b)]())/0x3c*GRID_H;_0x537ac6['style'][_0x5a88fe(0x19e)]=_0xa39e78+'px',_0x537ac6['style'][_0x5a88fe(0x1dc)]='block',_0x4e42b4[_0x5a88fe(0x188)][_0x5a88fe(0x19e)]=_0xa39e78+'px',_0x4e42b4[_0x5a88fe(0x188)]['display']=_0x5a88fe(0x1d1),_0x4e42b4[_0x5a88fe(0x1d7)]=String(_0x5b9092[_0x5a88fe(0x1bf)]())[_0x5a88fe(0x1c1)](0x2,'0')+':'+String(_0x5b9092[_0x5a88fe(0x16b)]())[_0x5a88fe(0x1c1)](0x2,'0');}function onScroll(){const _0x2b56d8=a3_0x1828ff,_0x124006=document[_0x2b56d8(0x249)](_0x2b56d8(0x258)),_0xdbcc4d=document[_0x2b56d8(0x179)]('.day-col-header');for(let _0x456f04 of _0xdbcc4d)if(_0x456f04[_0x2b56d8(0x1e7)]>=_0x124006[_0x2b56d8(0x231)]){const _0x2f0a82=new Date(_0x456f04[_0x2b56d8(0x171)](_0x2b56d8(0x175)));document[_0x2b56d8(0x249)]('headerMonth')[_0x2b56d8(0x1d7)]=_0x2f0a82[_0x2b56d8(0x25a)]('ru',{'month':_0x2b56d8(0x24a)})['toUpperCase']()+'\x20'+_0x2f0a82[_0x2b56d8(0x1bb)]();break;}}function showToast(_0x544c71){const _0x2abdb2=a3_0x1828ff,_0x7fc50f=document['getElementById'](_0x2abdb2(0x20a));_0x7fc50f[_0x2abdb2(0x1d7)]=_0x544c71,_0x7fc50f[_0x2abdb2(0x187)][_0x2abdb2(0x194)]('show'),setTimeout(()=>_0x7fc50f[_0x2abdb2(0x187)][_0x2abdb2(0x232)](_0x2abdb2(0x1b8)),0x7d0);}function handleInfiniteScroll(){const _0x2ef615=a3_0x1828ff,_0x1d3b34=document['getElementById'](_0x2ef615(0x258)),_0x34ed8d=_0x1d3b34['scrollLeft'],_0x180a1a=_0x1d3b34['scrollWidth'],_0x5c9cd4=_0x1d3b34[_0x2ef615(0x169)];if(_0x180a1a-(_0x34ed8d+_0x5c9cd4)<0x12c){const _0x4d4afe=endOffset;endOffset+=0xe,renderDayRange(_0x4d4afe+0x1,endOffset),reRenderBlocks();}if(_0x34ed8d<0x12c){const _0x2db137=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2db137-0x1),_0x1d3b34[_0x2ef615(0x231)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2bd6ca,_0x258e7d){const _0x1bb5d1=a3_0x1828ff,_0x4a80b4=document[_0x1bb5d1(0x249)](_0x1bb5d1(0x1a1)),_0x6ba48f=document['getElementById'](_0x1bb5d1(0x24d)),_0x2c7b26=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5c666c=new Date();_0x5c666c[_0x1bb5d1(0x182)](0x0,0x0,0x0,0x0);const _0x5a90ca=getLocalDateStr(new Date()),_0x53bb0f=document['createDocumentFragment'](),_0x564150=document[_0x1bb5d1(0x191)]();for(let _0x57d8c9=_0x2bd6ca;_0x57d8c9<=_0x258e7d;_0x57d8c9++){const _0x1e24b9=new Date(_0x5c666c);_0x1e24b9[_0x1bb5d1(0x165)](_0x1e24b9[_0x1bb5d1(0x18f)]()+_0x57d8c9);const _0x35a870=getLocalDateStr(_0x1e24b9);let _0x51e2d4=_0x1e24b9['getDay']()-0x1;if(_0x51e2d4===-0x1)_0x51e2d4=0x6;const _0x19259b=_0x35a870===_0x5a90ca,_0x488a81=document[_0x1bb5d1(0x24e)]('div');_0x488a81[_0x1bb5d1(0x172)]='day-col-header\x20'+(_0x19259b?_0x1bb5d1(0x21a):''),_0x488a81[_0x1bb5d1(0x214)]('data-date',_0x35a870),_0x488a81[_0x1bb5d1(0x1eb)]='<div\x20class=\x22dch-day\x22>'+_0x2c7b26[_0x51e2d4]+_0x1bb5d1(0x221)+_0x1e24b9[_0x1bb5d1(0x18f)]()+_0x1bb5d1(0x213),_0x53bb0f[_0x1bb5d1(0x237)](_0x488a81);const _0x122a6f=document[_0x1bb5d1(0x24e)](_0x1bb5d1(0x244));_0x122a6f[_0x1bb5d1(0x172)]='day-column\x20'+(_0x19259b?_0x1bb5d1(0x21a):''),_0x122a6f[_0x1bb5d1(0x214)](_0x1bb5d1(0x175),_0x35a870),_0x122a6f['setAttribute'](_0x1bb5d1(0x1e5),_0x51e2d4),_0x564150[_0x1bb5d1(0x237)](_0x122a6f);}_0x4a80b4[_0x1bb5d1(0x1af)](_0x53bb0f,_0x4a80b4[_0x1bb5d1(0x164)]),_0x6ba48f[_0x1bb5d1(0x1af)](_0x564150,_0x6ba48f[_0x1bb5d1(0x21f)]('.day-column'));}function hexToRgba(_0x3dd52b,_0x16c5f8){const _0x5c2860=a3_0x1828ff;let _0x519cde;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3dd52b))return _0x519cde=_0x3dd52b[_0x5c2860(0x236)](0x1)['split'](''),_0x519cde['length']==0x3&&(_0x519cde=[_0x519cde[0x0],_0x519cde[0x0],_0x519cde[0x1],_0x519cde[0x1],_0x519cde[0x2],_0x519cde[0x2]]),_0x519cde='0x'+_0x519cde[_0x5c2860(0x1b0)](''),'rgba('+[_0x519cde>>0x10&0xff,_0x519cde>>0x8&0xff,_0x519cde&0xff][_0x5c2860(0x1b0)](',')+','+_0x16c5f8+')';return _0x5c2860(0x173)+_0x16c5f8+')';}function a3_0x1602(_0x55edef,_0x9ad626){_0x55edef=_0x55edef-0x160;const _0x11f4ab=a3_0x2e04();let _0x4c8f3d=_0x11f4ab[_0x55edef];return _0x4c8f3d;}let confirmResolver=null;function showCustomConfirm(_0x4c48c2,_0x4633f7,_0x175a96=!![]){const _0x3f0fb3=a3_0x1828ff;document[_0x3f0fb3(0x249)]('ccTitle')[_0x3f0fb3(0x1d7)]=_0x4c48c2,document[_0x3f0fb3(0x249)](_0x3f0fb3(0x1ed))[_0x3f0fb3(0x1d7)]=_0x4633f7;const _0x2e7d21=document['getElementById']('ccYesBtn');return _0x175a96?(_0x2e7d21[_0x3f0fb3(0x188)][_0x3f0fb3(0x252)]=_0x3f0fb3(0x18c),_0x2e7d21[_0x3f0fb3(0x188)]['fontWeight']=_0x3f0fb3(0x1c5)):(_0x2e7d21[_0x3f0fb3(0x188)]['color']=_0x3f0fb3(0x1cf),_0x2e7d21[_0x3f0fb3(0x188)][_0x3f0fb3(0x1ea)]='600'),new Promise(_0x3be66c=>{const _0x3442fc=_0x3f0fb3;confirmResolver=_0x3be66c,document['getElementById'](_0x3442fc(0x17d))['classList'][_0x3442fc(0x194)]('visible');});}function resolveCustomConfirm(_0x4ba1e4){const _0x6a8751=a3_0x1828ff;document[_0x6a8751(0x249)](_0x6a8751(0x17d))[_0x6a8751(0x187)]['remove']('visible');if(confirmResolver)confirmResolver(_0x4ba1e4);}async function tryCancelCurrentSession(){const _0x3c8be8=a3_0x1828ff;if(!currentSession)return;const _0x28d3a9=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x3c8be8(0x183),!![]);if(!_0x28d3a9)return;const _0x5310fb=currentSession;closeAllSheets(),sessions=sessions[_0x3c8be8(0x1a0)](_0x4b6d6d=>_0x4b6d6d['id']!==_0x5310fb['id']),reRenderBlocks(),showToast(_0x3c8be8(0x1fc)),lastUserActionTime=Date[_0x3c8be8(0x19d)]();try{const _0x51c631=window['Telegram']?.[_0x3c8be8(0x1c6)],_0x2c2158=await fetch(API_URL,{'method':_0x3c8be8(0x1ca),'body':JSON['stringify']({'action':_0x3c8be8(0x224),'init_data':_0x51c631?.[_0x3c8be8(0x18d)]||'','coachId':_0x5310fb[_0x3c8be8(0x1a4)],'dateStr':_0x5310fb['dateStr'],'sessionId':_0x5310fb['id']})});if(_0x2c2158['ok'])DataManager[_0x3c8be8(0x16d)]();}catch(_0x12d89b){showToast(_0x3c8be8(0x177));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x577ab1=a3_0x1828ff;if(!currentSession)return;document[_0x577ab1(0x249)]('detailsSheet')[_0x577ab1(0x187)]['remove']('open'),document['getElementById']('rescheduleSheet')[_0x577ab1(0x187)][_0x577ab1(0x194)](_0x577ab1(0x226));const _0x555226=document[_0x577ab1(0x249)](_0x577ab1(0x19a)),_0x2a47d3=document[_0x577ab1(0x249)](_0x577ab1(0x1b4));_0x555226[_0x577ab1(0x1eb)]='',_0x2a47d3[_0x577ab1(0x1eb)]=_0x577ab1(0x1d4);const [_0x3ca0fe,_0x2f422f]=currentSession[_0x577ab1(0x1a3)]['split'](':')['map'](Number),[_0x186003,_0x1a8572]=currentSession[_0x577ab1(0x199)][_0x577ab1(0x178)](':')['map'](Number),_0xccc064=_0x186003*0x3c+_0x1a8572-(_0x3ca0fe*0x3c+_0x2f422f);try{const _0x49b9ff=window[_0x577ab1(0x1c8)]?.[_0x577ab1(0x1c6)],_0x315e8f=await fetch(API_URL,{'method':'POST','body':JSON[_0x577ab1(0x1b6)]({'action':_0x577ab1(0x223),'coachId':currentSession[_0x577ab1(0x1a4)],'duration':_0xccc064,'init_data':_0x49b9ff?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x402e2c=await _0x315e8f[_0x577ab1(0x170)]();_0x402e2c['ok']&&_0x402e2c[_0x577ab1(0x21b)]?(availableSlotsCache=_0x402e2c['data'],renderRescheduleDates()):_0x2a47d3[_0x577ab1(0x1eb)]=_0x577ab1(0x211);}catch(_0x154858){_0x2a47d3[_0x577ab1(0x1eb)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x1641a4=a3_0x1828ff,_0x3278c9=document[_0x1641a4(0x249)](_0x1641a4(0x19a));_0x3278c9[_0x1641a4(0x1eb)]='';const _0x5f399d=Object[_0x1641a4(0x18b)](availableSlotsCache)['sort'](),_0x10d6d4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5f399d[_0x1641a4(0x185)]===0x0){document[_0x1641a4(0x249)](_0x1641a4(0x1b4))['innerHTML']=_0x1641a4(0x1aa);return;}_0x5f399d[_0x1641a4(0x220)]((_0x3c7760,_0x3201a3)=>{const _0x3b186a=_0x1641a4,_0xa2ee0e=new Date(_0x3c7760),_0x203fb5=_0x10d6d4[_0xa2ee0e[_0x3b186a(0x242)]()],_0x3659e3=_0xa2ee0e['getDate'](),_0x479bc0=document[_0x3b186a(0x24e)]('div');_0x479bc0[_0x3b186a(0x172)]=_0x3b186a(0x189);if(_0x3201a3===0x0)_0x479bc0[_0x3b186a(0x187)][_0x3b186a(0x194)](_0x3b186a(0x246));_0x479bc0['innerHTML']=_0x3b186a(0x256)+_0x203fb5+_0x3b186a(0x196)+_0x3659e3+'</div>',_0x479bc0[_0x3b186a(0x186)]=()=>selectRsDate(_0x3c7760,_0x479bc0),_0x3278c9['appendChild'](_0x479bc0);}),selectRsDate(_0x5f399d[0x0],_0x3278c9[_0x1641a4(0x164)]);}function selectRsDate(_0x4da4d8,_0x56dde5){const _0x5ecbfc=a3_0x1828ff;selectedRsDate=_0x4da4d8,document[_0x5ecbfc(0x179)](_0x5ecbfc(0x1fe))['forEach'](_0xd5e8b5=>_0xd5e8b5['classList'][_0x5ecbfc(0x232)](_0x5ecbfc(0x246)));if(_0x56dde5)_0x56dde5[_0x5ecbfc(0x187)]['add']('active');const _0x3be491=document[_0x5ecbfc(0x249)](_0x5ecbfc(0x1b4));_0x3be491[_0x5ecbfc(0x1eb)]='';const _0x10f6da=availableSlotsCache[_0x4da4d8]||[];if(_0x10f6da['length']===0x0){_0x3be491[_0x5ecbfc(0x1eb)]=_0x5ecbfc(0x211);return;}_0x10f6da['forEach'](_0x1eca4f=>{const _0x535cd8=_0x5ecbfc,_0x111d1b=document['createElement']('button');_0x111d1b[_0x535cd8(0x172)]=_0x535cd8(0x233),_0x111d1b['textContent']=_0x1eca4f,_0x111d1b['onclick']=()=>confirmReschedule(_0x1eca4f),_0x3be491[_0x535cd8(0x237)](_0x111d1b);});}async function confirmReschedule(_0xffab9d){const _0x48f5d5=a3_0x1828ff,_0x8c1b8=new Date(selectedRsDate),_0x5d5c20=_0x8c1b8['toLocaleDateString'](_0x48f5d5(0x1c7),{'day':_0x48f5d5(0x218),'month':_0x48f5d5(0x24a)}),_0x3ebcc1=await showCustomConfirm(_0x48f5d5(0x184),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x5d5c20+'\x20–≤\x20'+_0xffab9d+'?',![]);if(!_0x3ebcc1)return;closeAllSheets(),showToast(_0x48f5d5(0x1f4)),lastUserActionTime=Date[_0x48f5d5(0x19d)]();const _0x5b943d=currentSession[_0x48f5d5(0x1b7)],_0x5cf4c8=currentSession['id'],[_0x52ce49,_0x172073]=currentSession[_0x48f5d5(0x1a3)][_0x48f5d5(0x178)](':')['map'](Number),[_0x29e4ac,_0x421788]=currentSession[_0x48f5d5(0x199)]['split'](':')[_0x48f5d5(0x1f6)](Number),_0x3eb12d=_0x29e4ac*0x3c+_0x421788-(_0x52ce49*0x3c+_0x172073),[_0x11a0ca,_0x397c21]=_0xffab9d[_0x48f5d5(0x178)](':')[_0x48f5d5(0x1f6)](Number),_0x2facdd=_0x11a0ca*0x3c+_0x397c21+_0x3eb12d,_0x2ce29d=Math[_0x48f5d5(0x24f)](_0x2facdd/0x3c),_0x203313=_0x2facdd%0x3c,_0x12848b=String(_0x2ce29d)['padStart'](0x2,'0')+':'+String(_0x203313)[_0x48f5d5(0x1c1)](0x2,'0'),_0x10fd25=sessions[_0x48f5d5(0x1f1)](_0x5cefde=>_0x5cefde['id']===_0x5cf4c8);_0x10fd25!==-0x1&&(sessions[_0x10fd25][_0x48f5d5(0x1b7)]=selectedRsDate,sessions[_0x10fd25][_0x48f5d5(0x1a3)]=_0xffab9d,sessions[_0x10fd25][_0x48f5d5(0x199)]=_0x12848b,reRenderBlocks());try{const _0x81d504=window[_0x48f5d5(0x1c8)]?.[_0x48f5d5(0x1c6)],_0x1866af=await fetch(API_URL,{'method':_0x48f5d5(0x1ca),'body':JSON[_0x48f5d5(0x1b6)]({'action':_0x48f5d5(0x248),'init_data':_0x81d504?.['initData']||'','oldSessionId':_0x5cf4c8,'oldDate':_0x5b943d,'newDate':selectedRsDate,'newTime':_0xffab9d,'coachId':currentSession['coachId']})}),_0x1ca0ca=await _0x1866af['json']();!_0x1ca0ca['ok']?(showToast(_0x48f5d5(0x1a7)),DataManager['syncLoad']()):(showToast(_0x48f5d5(0x22c)),DataManager['saveLocally']());}catch(_0x57dc16){showToast(_0x48f5d5(0x177));}}document['addEventListener'](a3_0x1828ff(0x22b),init);