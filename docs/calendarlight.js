const a3_0x32898f=a3_0x4fff;(function(_0x3df4a0,_0x1bb259){const _0x3baf77=a3_0x4fff,_0x56b5ba=_0x3df4a0();while(!![]){try{const _0xe20b0e=-parseInt(_0x3baf77(0x2b1))/0x1*(-parseInt(_0x3baf77(0x2c2))/0x2)+parseInt(_0x3baf77(0x24d))/0x3*(-parseInt(_0x3baf77(0x28b))/0x4)+parseInt(_0x3baf77(0x253))/0x5+parseInt(_0x3baf77(0x281))/0x6+-parseInt(_0x3baf77(0x1f6))/0x7+-parseInt(_0x3baf77(0x24c))/0x8*(-parseInt(_0x3baf77(0x25b))/0x9)+parseInt(_0x3baf77(0x273))/0xa*(-parseInt(_0x3baf77(0x23e))/0xb);if(_0xe20b0e===_0x1bb259)break;else _0x56b5ba['push'](_0x56b5ba['shift']());}catch(_0x7b103e){_0x56b5ba['push'](_0x56b5ba['shift']());}}}(a3_0x3860,0xddcdf));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x32898f(0x259),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x32898f(0x22e),KEY_CLIENTS=a3_0x32898f(0x1fc);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x32898f(0x25e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5aa9d9=a3_0x32898f,_0x651093=(function(){let _0x4c105a=!![];return function(_0x3f75e5,_0x450a8f){const _0x438920=_0x4c105a?function(){const _0x121556=a3_0x4fff;if(_0x450a8f){const _0x1136fb=_0x450a8f[_0x121556(0x268)](_0x3f75e5,arguments);return _0x450a8f=null,_0x1136fb;}}:function(){};return _0x4c105a=![],_0x438920;};}()),_0x53dc7a=_0x651093(this,function(){const _0x84ee2a=a3_0x4fff;return _0x53dc7a[_0x84ee2a(0x26d)]()['search']('(((.+)+)+)+$')['toString']()[_0x84ee2a(0x228)](_0x53dc7a)[_0x84ee2a(0x275)](_0x84ee2a(0x26f));});_0x53dc7a();try{const _0x1df5a1=window[_0x5aa9d9(0x2aa)]?.['WebApp'];if(!_0x1df5a1)return;_0x1df5a1[_0x5aa9d9(0x296)](),_0x1df5a1[_0x5aa9d9(0x20e)]();try{_0x1df5a1['setHeaderColor'](_0x5aa9d9(0x1f3)),_0x1df5a1[_0x5aa9d9(0x25f)]&&_0x1df5a1[_0x5aa9d9(0x25f)](_0x5aa9d9(0x1f3));}catch(_0x3cc3ac){console[_0x5aa9d9(0x2b5)]('Error\x20setting\x20color:',_0x3cc3ac);}try{_0x1df5a1[_0x5aa9d9(0x26a)]&&(_0x1df5a1[_0x5aa9d9(0x26a)]['show'](),_0x1df5a1[_0x5aa9d9(0x26a)]['offClick'](),_0x1df5a1['BackButton'][_0x5aa9d9(0x1e4)](function(){const _0x52515e=_0x5aa9d9;window[_0x52515e(0x2ba)][_0x52515e(0x288)]=_0x52515e(0x28a);}));}catch(_0x2cafe7){console[_0x5aa9d9(0x2b5)](_0x5aa9d9(0x248),_0x2cafe7);}try{if(_0x1df5a1['disableVerticalSwipes'])_0x1df5a1[_0x5aa9d9(0x287)]();}catch(_0x5778bd){}}catch(_0x5a2b34){console[_0x5aa9d9(0x2ac)](_0x5aa9d9(0x27b),_0x5a2b34);}}());function isAdmin(){const _0x3e60ca=a3_0x32898f;try{const _0x8c188c=Number(window[_0x3e60ca(0x2aa)]?.[_0x3e60ca(0x2bd)]?.['initDataUnsafe']?.['user']?.['id']);return _0x8c188c===0xbaf7174;}catch(_0xa6f228){return![];}}const DataManager={'saveLocally'(){const _0xb945f9=a3_0x32898f;try{localStorage[_0xb945f9(0x295)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0xb945f9(0x295)](KEY_CLIENTS,JSON[_0xb945f9(0x2b6)](clients)),localStorage[_0xb945f9(0x295)](KEY_SETTINGS,JSON[_0xb945f9(0x2b6)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2d4f7b){}},'loadLocal'(){const _0x3d639f=a3_0x32898f;try{const _0x505ef9=localStorage[_0x3d639f(0x28d)](KEY_SESSIONS);if(_0x505ef9)sessions=JSON[_0x3d639f(0x255)](_0x505ef9);const _0x54eae6=localStorage[_0x3d639f(0x28d)](KEY_CLIENTS);if(_0x54eae6)clients=JSON[_0x3d639f(0x255)](_0x54eae6);const _0x538c79=localStorage[_0x3d639f(0x28d)](KEY_SETTINGS);if(_0x538c79){const _0x151a0f=JSON[_0x3d639f(0x255)](_0x538c79);if(_0x151a0f[_0x3d639f(0x1f4)])availabilityPattern=_0x151a0f['pattern'];if(_0x151a0f[_0x3d639f(0x243)])specialRanges=_0x151a0f[_0x3d639f(0x243)];if(_0x151a0f['exceptions'])dateExceptions=_0x151a0f[_0x3d639f(0x264)];}}catch(_0x268d75){}},async 'syncLoad'(){const _0x53b731=a3_0x32898f,_0x40ee93=new Date(),_0x5b48ad=_0x40ee93[_0x53b731(0x229)]()+'-'+String(_0x40ee93[_0x53b731(0x293)]()+0x1)['padStart'](0x2,'0'),_0x20c793=new Date(_0x40ee93);_0x20c793['setMonth'](_0x40ee93[_0x53b731(0x293)]()+0x1);const _0x4d3352=_0x20c793[_0x53b731(0x229)]()+'-'+String(_0x20c793[_0x53b731(0x293)]()+0x1)['padStart'](0x2,'0'),_0x5f4db1=Date[_0x53b731(0x26b)]();try{const _0xb071c9=window[_0x53b731(0x2aa)]?.[_0x53b731(0x2bd)],_0x5a4855=_0xb071c9?.[_0x53b731(0x1fe)]||'',[_0x41fe2b,_0x1fa533]=await Promise[_0x53b731(0x279)]([fetch(API_URL,{'method':_0x53b731(0x20d),'body':JSON['stringify']({'action':_0x53b731(0x25a),'init_data':_0x5a4855,'month_str':_0x5b48ad})})[_0x53b731(0x221)](_0x179c28=>_0x179c28[_0x53b731(0x291)]()),fetch(API_URL,{'method':_0x53b731(0x20d),'body':JSON[_0x53b731(0x2b6)]({'action':_0x53b731(0x25a),'init_data':_0x5a4855,'month_str':_0x4d3352})})[_0x53b731(0x221)](_0x1902f2=>_0x1902f2[_0x53b731(0x291)]())]);if(lastUserActionTime>_0x5f4db1){console[_0x53b731(0x2b5)](_0x53b731(0x1e3));return;}if(_0x41fe2b['ok'])this['applyData'](_0x41fe2b[_0x53b731(0x250)],_0x5b48ad);if(_0x1fa533['ok'])this['applyData'](_0x1fa533[_0x53b731(0x250)],_0x4d3352);this[_0x53b731(0x1e5)]();}catch(_0x16e078){}},'applyData'(_0x251077,_0x57889f){const _0xd33410=a3_0x32898f;if(!_0x251077)return;if(_0x251077[_0xd33410(0x2c7)]){if(_0x251077[_0xd33410(0x2c7)][_0xd33410(0x1f4)])availabilityPattern=_0x251077[_0xd33410(0x2c7)][_0xd33410(0x1f4)];if(_0x251077['settings'][_0xd33410(0x243)])specialRanges=_0x251077[_0xd33410(0x2c7)][_0xd33410(0x243)];if(_0x251077[_0xd33410(0x2c7)]['exceptions'])dateExceptions=_0x251077[_0xd33410(0x2c7)]['exceptions'];}if(_0x251077[_0xd33410(0x292)]&&Array[_0xd33410(0x238)](_0x251077['clients']))clients=_0x251077[_0xd33410(0x292)];_0x251077[_0xd33410(0x2af)]&&(coachProfiles={...coachProfiles,..._0x251077[_0xd33410(0x2af)]}),_0x251077['calendar']&&(sessions=sessions[_0xd33410(0x1f5)](_0x2fba68=>!_0x2fba68[_0xd33410(0x21d)][_0xd33410(0x1e6)](_0x57889f)),Object[_0xd33410(0x234)](_0x251077[_0xd33410(0x294)])['forEach'](_0x1f5f79=>{const _0xe51148=_0xd33410,_0x3a5a3e=_0x251077[_0xe51148(0x294)][_0x1f5f79];_0x3a5a3e[_0xe51148(0x2a0)](_0x5f7212=>{const _0x1db7ef=_0xe51148;sessions[_0x1db7ef(0x2a8)]({'id':_0x5f7212['i'],'clientId':_0x5f7212['c'],'coachId':_0x5f7212[_0x1db7ef(0x226)],'dateStr':_0x57889f+'-'+_0x1f5f79['padStart'](0x2,'0'),'start':_0x5f7212['s'],'end':_0x5f7212['e'],'note':_0x5f7212['n']||'','status':_0x5f7212['st']||_0x1db7ef(0x290),'seriesId':_0x5f7212['sid']});});})),reRenderBlocks();}};function init(){const _0x5a5c91=a3_0x32898f;DataManager[_0x5a5c91(0x246)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5a5c91(0x2b8)](_0x5a5c91(0x1cc))[_0x5a5c91(0x2a6)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5a5c91(0x21a)]();}function a3_0x3860(){const _0x7e510f=['.day-col-header[data-date=\x22','dateStr','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','height','then','.day-col-header','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20–≤\x20','event-card','cid','scrollTo','constructor','getFullYear','#0a84ff','day-off-overlay\x20stripe-bg','\x20-\x20','anCustomDates','uc_client_settings','scrollTop','createElement','T23:59:59','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','find','keys','setAttribute','substr','backgroundPosition','isArray','scrollLeft','offsetLeft','custom','anEnd','cancelHint','429AzLghR','rgba(','clientWidth','top','toLocaleDateString','ranges','findIndex','\x20status-completed','loadLocal','getTime','Error\x20setting\x20back\x20button:','toLocaleString','getDate','rsDatesTrack','8iTJHgS','636cHEIEB','client-stat-card','.btn-reschedule','data','toUpperCase','fontWeight','3173205ZuDIDo','total','parse','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','textContent','round','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','client_load','5441355UnxwaO','rgba(10,\x20132,\x20255,\x20','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','week','setBackgroundColor','client_cancel','timeColumn','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exceptions','data-date','max','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','apply','none','BackButton','now','data-day-idx','toString','detStatus','(((.+)+)+)+$','cancel_window','detNote','rsSlotsGrid','14470OAeqGQ','blocked-range-part\x20stripe-bg','search','daysHeaderTrack','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','getHours','all','min','Critical\x20TMA\x20Error:','gridColumns','setHours','blocked-slot\x20stripe-bg','rs-time-btn','anPercent','4830252xhEnNz','appendChild','detDate','join','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','length','disableVerticalSwipes','href','<div\x20class=\x22rs-day-name\x22>','router.html','28vrGqpP','padStart','getItem','get_slots','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','planned','json','clients','getMonth','calendar','setItem','ready','test','value','scrollWidth','flex','substring','floor','rs-date-chip','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','slice','forEach','</div>','customConfirm','querySelector','style','</div><div\x20class=\x22dch-num\x22>','addEventListener','reschedule','push','<span>','Telegram','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','remove','zIndex','coach_profiles','firstChild','1HEkFse','querySelectorAll','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','className','log','stringify','split','getElementById','seriesId','location','classList','coachId','WebApp','.period-switch\x20.p-btn','open','ru-RU','visible','965582VChTzc','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','auto','getAttribute','var(--acc-green)','settings','width','strokeDashoffset','matrixViewport','numeric','left','analyticsSheet','%\x20-\x204px)','.day-column','#ff453a','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','active','600','long','insertBefore','detTime','entries','colIndex','borderLeftColor','toast','Unknown',':00</span>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','map','analyticsList','</span>\x20/\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','onClick','saveLocally','startsWith','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','anStart','%\x20+\x202px)','.btn-cancel','today','div','month','\x20–∏–∑\x20','calc(','anTotalStats','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','mini','#050505','pattern','filter','10924487youBLA','globalTimeLine','px\x20-','setDate','done','color','uc_client_list','note','initData','add','getMinutes','day-column\x20','overlay','offsetWidth','\x20—á.','block','timeLineBadge','ccText','.sheet','display','ccTitle','onclick','status','POST','expand','completed','detailsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccYesBtn','sort','start','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','getDay','show','</div><div\x20class=\x22rs-day-num\x22>','end','syncLoad','createDocumentFragment'];a3_0x3860=function(){return _0x7e510f;};return a3_0x3860();}function renderTimeColumn(){const _0x140848=a3_0x32898f,_0x5c3e64=document[_0x140848(0x2b8)](_0x140848(0x261)),_0x44530c=document[_0x140848(0x2b8)](_0x140848(0x206));_0x5c3e64['innerHTML']='',_0x5c3e64[_0x140848(0x282)](_0x44530c);for(let _0x30d2dc=0x0;_0x30d2dc<0x18;_0x30d2dc++){const _0x1360d9=document['createElement'](_0x140848(0x1ec));_0x1360d9[_0x140848(0x2b4)]='time-label';if(_0x30d2dc>0x0)_0x1360d9[_0x140848(0x21e)]=_0x140848(0x2a9)+String(_0x30d2dc)[_0x140848(0x28c)](0x2,'0')+_0x140848(0x1de);_0x5c3e64[_0x140848(0x282)](_0x1360d9);}}function renderDayRange(_0x3e67f0,_0x49ad68){const _0x1ebf5c=a3_0x32898f,_0x29bc80=document[_0x1ebf5c(0x2b8)]('daysHeaderTrack'),_0x104db4=document[_0x1ebf5c(0x2b8)](_0x1ebf5c(0x27c)),_0x2377a4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46ac46=new Date();_0x46ac46[_0x1ebf5c(0x27d)](0x0,0x0,0x0,0x0);const _0x391418=getLocalDateStr(new Date());for(let _0x4f9928=_0x3e67f0;_0x4f9928<=_0x49ad68;_0x4f9928++){const _0x13afef=new Date(_0x46ac46);_0x13afef['setDate'](_0x13afef[_0x1ebf5c(0x24a)]()+_0x4f9928);const _0x4399ac=getLocalDateStr(_0x13afef);let _0x5a1b9c=_0x13afef[_0x1ebf5c(0x216)]()-0x1;if(_0x5a1b9c===-0x1)_0x5a1b9c=0x6;const _0x3412e2=_0x4399ac===_0x391418,_0x34ac35=document[_0x1ebf5c(0x230)](_0x1ebf5c(0x1ec));_0x34ac35[_0x1ebf5c(0x2b4)]='day-col-header\x20'+(_0x3412e2?_0x1ebf5c(0x1eb):''),_0x34ac35[_0x1ebf5c(0x235)](_0x1ebf5c(0x265),_0x4399ac),_0x34ac35[_0x1ebf5c(0x21e)]='<div\x20class=\x22dch-day\x22>'+_0x2377a4[_0x5a1b9c]+_0x1ebf5c(0x2a5)+_0x13afef[_0x1ebf5c(0x24a)]()+_0x1ebf5c(0x2a1),_0x29bc80[_0x1ebf5c(0x282)](_0x34ac35);const _0x283735=document[_0x1ebf5c(0x230)](_0x1ebf5c(0x1ec));_0x283735[_0x1ebf5c(0x2b4)]='day-column\x20'+(_0x3412e2?_0x1ebf5c(0x1eb):''),_0x283735[_0x1ebf5c(0x235)](_0x1ebf5c(0x265),_0x4399ac),_0x283735[_0x1ebf5c(0x235)](_0x1ebf5c(0x26c),_0x5a1b9c),_0x104db4[_0x1ebf5c(0x282)](_0x283735);}}function reRenderBlocks(){const _0x574f55=a3_0x32898f;document['querySelectorAll'](_0x574f55(0x1d1))['forEach'](_0x3b151f=>{const _0xc9346=_0x574f55;_0x3b151f[_0xc9346(0x2b2)](_0xc9346(0x28f))['forEach'](_0x266b85=>_0x266b85[_0xc9346(0x2ad)]());const _0xbeefac=_0x3b151f[_0xc9346(0x2c5)]('data-date'),_0x3d8b30=parseInt(_0x3b151f[_0xc9346(0x2c5)](_0xc9346(0x26c))),_0xdbdd9b=Math['round'](_0x3b151f[_0xc9346(0x23a)]);(availabilityPattern[_0x3d8b30]||[])['forEach'](_0x54e04e=>{const _0x3aff1c=_0xc9346,_0x5b55c8=document[_0x3aff1c(0x230)]('div');_0x5b55c8[_0x3aff1c(0x2b4)]=_0x3aff1c(0x27e),_0x5b55c8[_0x3aff1c(0x2a4)][_0x3aff1c(0x241)]=_0x54e04e*GRID_H+'px',_0x5b55c8[_0x3aff1c(0x2a4)][_0x3aff1c(0x237)]='-'+_0xdbdd9b+_0x3aff1c(0x1f8)+_0x54e04e*GRID_H+'px',_0x3b151f[_0x3aff1c(0x282)](_0x5b55c8);});if(specialRanges[_0xc9346(0x286)]>0x0){const _0x1fa5f9=new Date(_0xbeefac+'T00:00:00')[_0xc9346(0x247)](),_0x2e3766=new Date(_0xbeefac+_0xc9346(0x231))['getTime']();specialRanges[_0xc9346(0x2a0)](_0x292b20=>{const _0x146283=_0xc9346,_0x44fbd6=new Date(_0x292b20['start'])[_0x146283(0x247)](),_0x4e5978=new Date(_0x292b20['end'])[_0x146283(0x247)](),_0x296a59=Math[_0x146283(0x266)](_0x1fa5f9,_0x44fbd6),_0x429c81=Math[_0x146283(0x27a)](_0x2e3766,_0x4e5978);if(_0x296a59<_0x429c81){const _0x1b7a5f=(_0x296a59-_0x1fa5f9)/0x36ee80*GRID_H,_0x4315c7=(_0x429c81-_0x296a59)/0x36ee80*GRID_H,_0xff0cb7=document[_0x146283(0x230)](_0x146283(0x1ec));_0x4315c7>=23.5*GRID_H?(_0xff0cb7[_0x146283(0x2b4)]=_0x146283(0x22b),_0xff0cb7['style'][_0x146283(0x237)]='-'+_0xdbdd9b+'px\x200px'):(_0xff0cb7['className']=_0x146283(0x274),_0xff0cb7[_0x146283(0x2a4)][_0x146283(0x241)]=_0x1b7a5f+'px',_0xff0cb7[_0x146283(0x2a4)]['height']=_0x4315c7+'px',_0xff0cb7[_0x146283(0x2a4)][_0x146283(0x237)]='-'+_0xdbdd9b+_0x146283(0x1f8)+_0x1b7a5f+'px'),_0x3b151f[_0x146283(0x282)](_0xff0cb7);}});}renderEventsForColumn(_0x3b151f,_0xbeefac);});}function renderEventsForColumn(_0x503880,_0x11e8a3){const _0x5bcecd=a3_0x32898f,_0x170e57=sessions[_0x5bcecd(0x1f5)](_0x51cc1c=>_0x51cc1c[_0x5bcecd(0x21d)]===_0x11e8a3),_0x566dc6=_0x170e57['map'](_0x382454=>{const _0x34bf7d=_0x5bcecd,[_0x584f85,_0x5e940a]=_0x382454['start'][_0x34bf7d(0x2b7)](':')[_0x34bf7d(0x1e0)](Number),[_0x3f262a,_0x3daa9b]=_0x382454[_0x34bf7d(0x219)][_0x34bf7d(0x2b7)](':')[_0x34bf7d(0x1e0)](Number);return{'data':_0x382454,'start':_0x584f85*0x3c+_0x5e940a,'end':_0x3f262a*0x3c+_0x3daa9b,'colIndex':0x0};});_0x566dc6[_0x5bcecd(0x213)]((_0x5070b1,_0x497d44)=>_0x5070b1['start']-_0x497d44['start']||_0x497d44['end']-_0x497d44['start']-(_0x5070b1[_0x5bcecd(0x219)]-_0x5070b1[_0x5bcecd(0x214)]));const _0xdd533=[];_0x566dc6[_0x5bcecd(0x2a0)](_0x357266=>{const _0x10179c=_0x5bcecd;let _0x3259a5=![];for(let _0xb1bd52=0x0;_0xb1bd52<_0xdd533[_0x10179c(0x286)];_0xb1bd52++){const _0x5ef56d=_0xdd533[_0xb1bd52];if(_0x357266[_0x10179c(0x214)]>=_0x5ef56d[_0x5ef56d[_0x10179c(0x286)]-0x1]['end']){_0x5ef56d[_0x10179c(0x2a8)](_0x357266),_0x357266[_0x10179c(0x1da)]=_0xb1bd52,_0x3259a5=!![];break;}}!_0x3259a5&&(_0xdd533[_0x10179c(0x2a8)]([_0x357266]),_0x357266['colIndex']=_0xdd533[_0x10179c(0x286)]-0x1);}),_0x566dc6[_0x5bcecd(0x2a0)](_0x1109e9=>{const _0x5b994f=_0x5bcecd;let _0x30d93a=0x0;_0x566dc6[_0x5b994f(0x2a0)](_0x371f17=>{const _0x52135d=_0x5b994f;if(Math[_0x52135d(0x266)](_0x1109e9['start'],_0x371f17[_0x52135d(0x214)])<Math[_0x52135d(0x27a)](_0x1109e9[_0x52135d(0x219)],_0x371f17[_0x52135d(0x219)])&&_0x371f17[_0x52135d(0x1da)]>_0x30d93a)_0x30d93a=_0x371f17[_0x52135d(0x1da)];});const _0x117069=_0x30d93a+0x1,_0x212011=0x64/_0x117069,_0x57284b=_0x1109e9[_0x5b994f(0x1da)]*_0x212011,_0x54012c=document[_0x5b994f(0x230)]('div'),_0x185644=_0x1109e9[_0x5b994f(0x250)];let _0x254524=_0x5b994f(0x22a);if(clients&&clients[_0x5b994f(0x286)]>0x0){const _0x49e205=clients[_0x5b994f(0x233)](_0x347bbf=>String(_0x347bbf['id'])===String(_0x185644['clientId']));if(_0x49e205&&_0x49e205['color'])_0x254524=_0x49e205[_0x5b994f(0x1fb)];}const _0x3702a4=_0x185644['status']===_0x5b994f(0x20f),_0x48dbfe=_0x3702a4?0x1:0.45;_0x54012c[_0x5b994f(0x2b4)]=_0x5b994f(0x225)+(_0x3702a4?_0x5b994f(0x245):''),_0x54012c[_0x5b994f(0x2a4)]['backgroundColor']=hexToRgba(_0x254524,_0x48dbfe),_0x54012c[_0x5b994f(0x2a4)][_0x5b994f(0x1db)]=_0x254524;const _0x4cb42d=_0x1109e9[_0x5b994f(0x214)]/0x3c*GRID_H,_0x2450e1=(_0x1109e9[_0x5b994f(0x219)]-_0x1109e9['start'])/0x3c*GRID_H;_0x54012c['style'][_0x5b994f(0x241)]=_0x4cb42d+'px',_0x54012c['style'][_0x5b994f(0x220)]=Math[_0x5b994f(0x266)](_0x2450e1,0x14)+'px',_0x54012c[_0x5b994f(0x2a4)][_0x5b994f(0x2c8)]=_0x5b994f(0x1ef)+_0x212011+_0x5b994f(0x1d0),_0x54012c['style'][_0x5b994f(0x1ce)]='calc('+_0x57284b+_0x5b994f(0x1e9),_0x54012c['style'][_0x5b994f(0x2ae)]=0xa+_0x1109e9[_0x5b994f(0x1da)];if(_0x212011<0x55)_0x54012c['classList'][_0x5b994f(0x1ff)](_0x5b994f(0x1f2));let _0x2c6ab1='';if(_0x185644[_0x5b994f(0x2b9)])_0x2c6ab1+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3702a4)_0x2c6ab1+=_0x5b994f(0x256);_0x54012c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x185644[_0x5b994f(0x214)]+_0x5b994f(0x22c)+_0x185644[_0x5b994f(0x219)]+_0x5b994f(0x263)+_0x2c6ab1+_0x5b994f(0x211),_0x54012c[_0x5b994f(0x20b)]=_0x12b31b=>{_0x12b31b['stopPropagation'](),openDetails(_0x185644);},_0x503880[_0x5b994f(0x282)](_0x54012c);});}function openAnalytics(){const _0x155f9b=a3_0x32898f,_0x427899=document[_0x155f9b(0x2a3)](_0x155f9b(0x2be));setAnalyticsPeriod(_0x155f9b(0x25e),_0x427899),openSheet(_0x155f9b(0x1cf));}function setAnalyticsPeriod(_0x4efeb0,_0x11b5c9){const _0x167214=a3_0x32898f;currentAnPeriod=_0x4efeb0,document[_0x167214(0x2b2)](_0x167214(0x2be))[_0x167214(0x2a0)](_0x12f296=>_0x12f296[_0x167214(0x2bb)][_0x167214(0x2ad)](_0x167214(0x1d4)));if(_0x11b5c9)_0x11b5c9[_0x167214(0x2bb)][_0x167214(0x1ff)](_0x167214(0x1d4));const _0x19e096=document['getElementById'](_0x167214(0x22d));_0x19e096[_0x167214(0x2a4)]['display']=_0x4efeb0===_0x167214(0x23b)?_0x167214(0x29a):_0x167214(0x269);const _0x31a02b=new Date();let _0x5e934e=new Date(),_0xbd30f6=new Date();if(_0x4efeb0==='week')_0x5e934e=getStartOfWeek(_0x31a02b),_0xbd30f6=new Date(_0x5e934e),_0xbd30f6[_0x167214(0x1f9)](_0xbd30f6[_0x167214(0x24a)]()+0x6);else{if(_0x4efeb0===_0x167214(0x1ed))_0x5e934e=new Date(_0x31a02b[_0x167214(0x229)](),_0x31a02b[_0x167214(0x293)](),0x1),_0xbd30f6=new Date(_0x31a02b['getFullYear'](),_0x31a02b['getMonth']()+0x1,0x0);else{!document[_0x167214(0x2b8)](_0x167214(0x1e8))[_0x167214(0x298)]&&(document[_0x167214(0x2b8)](_0x167214(0x1e8))[_0x167214(0x298)]=getLocalDateStr(_0x31a02b),document[_0x167214(0x2b8)](_0x167214(0x23c))[_0x167214(0x298)]=getLocalDateStr(_0x31a02b));refreshAnalytics();return;}}document[_0x167214(0x2b8)]('anStart')[_0x167214(0x298)]=getLocalDateStr(_0x5e934e),document['getElementById'](_0x167214(0x23c))[_0x167214(0x298)]=getLocalDateStr(_0xbd30f6),refreshAnalytics();}function refreshAnalytics(){const _0x4fd1dd=a3_0x32898f,_0x2f8317=document[_0x4fd1dd(0x2b8)](_0x4fd1dd(0x1e8))[_0x4fd1dd(0x298)],_0x2409d1=document['getElementById']('anEnd')[_0x4fd1dd(0x298)];if(!_0x2f8317||!_0x2409d1)return;const _0x52d50b=sessions[_0x4fd1dd(0x1f5)](_0x24f126=>_0x24f126['dateStr']>=_0x2f8317&&_0x24f126[_0x4fd1dd(0x21d)]<=_0x2409d1&&_0x24f126[_0x4fd1dd(0x20c)]!=='cancelled'),_0x3196ff=_0x52d50b['length'],_0x45a11b=_0x52d50b['filter'](_0x20ea95=>_0x20ea95[_0x4fd1dd(0x20c)]===_0x4fd1dd(0x20f))[_0x4fd1dd(0x286)],_0x35ee74=_0x3196ff>0x0?Math['round'](_0x45a11b/_0x3196ff*0x64):0x0;document[_0x4fd1dd(0x2b8)](_0x4fd1dd(0x280))[_0x4fd1dd(0x257)]=_0x35ee74+'%',document[_0x4fd1dd(0x2b8)](_0x4fd1dd(0x1f0))[_0x4fd1dd(0x257)]=_0x45a11b+_0x4fd1dd(0x1ee)+_0x3196ff+_0x4fd1dd(0x223);const _0x1a0a53=document[_0x4fd1dd(0x2b8)]('anDonutCircle'),_0x124aa4=0x2*Math['PI']*0x23,_0x307d1c=_0x124aa4-_0x35ee74/0x64*_0x124aa4;_0x1a0a53[_0x4fd1dd(0x2a4)][_0x4fd1dd(0x2c9)]=_0x307d1c;const _0x2c815b={};_0x52d50b['forEach'](_0x3bfa57=>{const _0x139173=_0x4fd1dd,_0x147795=_0x3bfa57[_0x139173(0x2bc)]||_0x139173(0x1dd);if(!_0x2c815b[_0x147795]){const _0x5999b2='#'+_0x147795[_0x139173(0x26d)]()[_0x139173(0x236)](0x0,0x6);_0x2c815b[_0x147795]={'total':0x0,'done':0x0,'color':_0x5999b2};}_0x2c815b[_0x147795][_0x139173(0x254)]++;if(_0x3bfa57[_0x139173(0x20c)]===_0x139173(0x20f))_0x2c815b[_0x147795]['done']++;});const _0x26ae3a=document['getElementById'](_0x4fd1dd(0x1e1));_0x26ae3a[_0x4fd1dd(0x21e)]='';const _0x405daf=Object[_0x4fd1dd(0x1d9)](_0x2c815b)[_0x4fd1dd(0x213)]((_0x3a2368,_0x22c65e)=>_0x22c65e[0x1][_0x4fd1dd(0x254)]-_0x3a2368[0x1][_0x4fd1dd(0x254)]);if(_0x405daf[_0x4fd1dd(0x286)]===0x0){_0x26ae3a[_0x4fd1dd(0x21e)]=_0x4fd1dd(0x232);return;}_0x405daf[_0x4fd1dd(0x2a0)](([_0x51a50c,_0x105b7d])=>{const _0x2fae6d=_0x4fd1dd,_0x523078=Math[_0x2fae6d(0x258)](_0x105b7d[_0x2fae6d(0x1fa)]/_0x105b7d['total']*0x64),_0x2d99cd=document['createElement'](_0x2fae6d(0x1ec));_0x2d99cd[_0x2fae6d(0x2b4)]=_0x2fae6d(0x24e),_0x2d99cd[_0x2fae6d(0x2a4)][_0x2fae6d(0x1db)]=_0x105b7d['color'],_0x2d99cd[_0x2fae6d(0x21e)]=_0x2fae6d(0x21f)+_0x51a50c['substr'](0x0,0x5)+_0x2fae6d(0x2c3)+_0x105b7d[_0x2fae6d(0x1fa)]+_0x2fae6d(0x1e2)+_0x105b7d[_0x2fae6d(0x254)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x523078+_0x2fae6d(0x2ab),_0x26ae3a[_0x2fae6d(0x282)](_0x2d99cd);});}function openDetails(_0x31a2b9){const _0x43211d=a3_0x32898f;currentSession=_0x31a2b9;const _0x1fc351=new Date(_0x31a2b9['dateStr']),_0x113ef3=_0x1fc351[_0x43211d(0x242)](_0x43211d(0x2c0),{'weekday':_0x43211d(0x1d6),'day':_0x43211d(0x1cd),'month':_0x43211d(0x1d6)});document[_0x43211d(0x2b8)](_0x43211d(0x283))[_0x43211d(0x257)]=_0x113ef3['charAt'](0x0)['toUpperCase']()+_0x113ef3[_0x43211d(0x29f)](0x1),document[_0x43211d(0x2b8)](_0x43211d(0x1d8))[_0x43211d(0x257)]=_0x31a2b9['start']+_0x43211d(0x22c)+_0x31a2b9['end'],document['getElementById'](_0x43211d(0x271))[_0x43211d(0x257)]=_0x31a2b9[_0x43211d(0x1fd)]||_0x43211d(0x2b3);const _0x5ed658=document[_0x43211d(0x2b8)](_0x43211d(0x26e)),_0x40eab3=document[_0x43211d(0x2b8)]('cancelContainer'),_0x102732=_0x40eab3[_0x43211d(0x2a3)](_0x43211d(0x1ea)),_0x5852fc=_0x40eab3['querySelector'](_0x43211d(0x24f)),_0x25ec8d=document[_0x43211d(0x2b8)](_0x43211d(0x23d));if(_0x31a2b9['status']===_0x43211d(0x20f))_0x5ed658[_0x43211d(0x257)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x5ed658[_0x43211d(0x2a4)][_0x43211d(0x1fb)]=_0x43211d(0x2c6),_0x40eab3[_0x43211d(0x2a4)][_0x43211d(0x209)]=_0x43211d(0x269);else{_0x5ed658[_0x43211d(0x257)]=_0x43211d(0x277),_0x5ed658[_0x43211d(0x2a4)][_0x43211d(0x1fb)]='var(--acc-blue)',_0x40eab3[_0x43211d(0x2a4)][_0x43211d(0x209)]='block';const _0x3f5f77=new Date(_0x31a2b9['dateStr']+'T'+_0x31a2b9['start']),_0x4036a1=new Date(),_0x166202=(_0x3f5f77-_0x4036a1)/(0x3e8*0x3c*0x3c),_0x2fb396=coachProfiles[_0x31a2b9[_0x43211d(0x2bc)]]&&coachProfiles[_0x31a2b9['coachId']][_0x43211d(0x270)]?parseInt(coachProfiles[_0x31a2b9[_0x43211d(0x2bc)]][_0x43211d(0x270)]):0x18;if(_0x2fb396===0x0||_0x166202>=_0x2fb396)_0x102732[_0x43211d(0x2a4)][_0x43211d(0x209)]=_0x43211d(0x205),_0x5852fc['style'][_0x43211d(0x209)]=_0x43211d(0x205),_0x25ec8d['style'][_0x43211d(0x209)]='none';else{_0x102732['style']['display']=_0x43211d(0x269),_0x5852fc[_0x43211d(0x2a4)][_0x43211d(0x209)]='none',_0x25ec8d[_0x43211d(0x2a4)][_0x43211d(0x209)]='block';let _0x3d0f52=_0x2fb396===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x2fb396+_0x43211d(0x204);_0x25ec8d[_0x43211d(0x257)]=_0x43211d(0x25d)+_0x3d0f52+_0x43211d(0x1e7);}}document[_0x43211d(0x2b8)](_0x43211d(0x202))[_0x43211d(0x2bb)][_0x43211d(0x1ff)](_0x43211d(0x1d4)),document[_0x43211d(0x2b8)](_0x43211d(0x210))['classList'][_0x43211d(0x1ff)](_0x43211d(0x2bf));}function closeAllSheets(){const _0xaf658d=a3_0x32898f;document[_0xaf658d(0x2b8)](_0xaf658d(0x202))[_0xaf658d(0x2bb)][_0xaf658d(0x2ad)]('active'),document[_0xaf658d(0x2b2)](_0xaf658d(0x208))[_0xaf658d(0x2a0)](_0x15a764=>_0x15a764[_0xaf658d(0x2bb)]['remove']('open'));}function openSheet(_0x4ca9fd){const _0x2b8df1=a3_0x32898f;document[_0x2b8df1(0x2b8)](_0x2b8df1(0x202))[_0x2b8df1(0x2bb)][_0x2b8df1(0x1ff)](_0x2b8df1(0x1d4)),document[_0x2b8df1(0x2b8)](_0x4ca9fd)[_0x2b8df1(0x2bb)][_0x2b8df1(0x1ff)](_0x2b8df1(0x2bf));}function getLocalDateStr(_0x3d3860){const _0x53ff66=a3_0x32898f,_0x647a5b=_0x3d3860[_0x53ff66(0x229)](),_0x2e66f5=String(_0x3d3860[_0x53ff66(0x293)]()+0x1)[_0x53ff66(0x28c)](0x2,'0'),_0x2eb7bb=String(_0x3d3860[_0x53ff66(0x24a)]())['padStart'](0x2,'0');return _0x647a5b+'-'+_0x2e66f5+'-'+_0x2eb7bb;}function getStartOfWeek(_0x29e22c){const _0x278bda=a3_0x32898f,_0x3bf42d=new Date(_0x29e22c),_0x5e6cec=_0x3bf42d[_0x278bda(0x216)](),_0x425e78=_0x3bf42d['getDate']()-_0x5e6cec+(_0x5e6cec===0x0?-0x6:0x1);return _0x3bf42d['setDate'](_0x425e78),_0x3bf42d[_0x278bda(0x27d)](0x0,0x0,0x0,0x0),_0x3bf42d;}function a3_0x4fff(_0x59be42,_0x4d7023){_0x59be42=_0x59be42-0x1cc;const _0x27e6ee=a3_0x3860();let _0x5e5ceb=_0x27e6ee[_0x59be42];return _0x5e5ceb;}function scrollToToday(){const _0x2f7dbc=getLocalDateStr(new Date());setTimeout(()=>{const _0x41f34c=a3_0x4fff,_0x1e3656=document[_0x41f34c(0x2a3)](_0x41f34c(0x21c)+_0x2f7dbc+'\x22]');if(_0x1e3656){const _0x5468be=document[_0x41f34c(0x2b8)](_0x41f34c(0x1cc)),_0x23e63c=_0x1e3656['offsetLeft']-_0x5468be[_0x41f34c(0x240)]/0x2+_0x1e3656[_0x41f34c(0x203)]/0x2;_0x5468be[_0x41f34c(0x227)]({'left':_0x23e63c,'behavior':_0x41f34c(0x2c4)}),_0x5468be[_0x41f34c(0x22f)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x12a665=a3_0x32898f,_0x559003=new Date(),_0x4221fc=document[_0x12a665(0x2b8)](_0x12a665(0x1f7)),_0x56379c=document['getElementById'](_0x12a665(0x206)),_0xdc49eb=(_0x559003['getHours']()*0x3c+_0x559003['getMinutes']())/0x3c*GRID_H;_0x4221fc['style'][_0x12a665(0x241)]=_0xdc49eb+'px',_0x4221fc[_0x12a665(0x2a4)][_0x12a665(0x209)]=_0x12a665(0x205),_0x56379c[_0x12a665(0x2a4)][_0x12a665(0x241)]=_0xdc49eb+'px',_0x56379c[_0x12a665(0x2a4)]['display']=_0x12a665(0x205),_0x56379c[_0x12a665(0x257)]=String(_0x559003[_0x12a665(0x278)]())[_0x12a665(0x28c)](0x2,'0')+':'+String(_0x559003[_0x12a665(0x200)]())[_0x12a665(0x28c)](0x2,'0');}function onScroll(){const _0x5787ad=a3_0x32898f,_0x57a669=document['getElementById'](_0x5787ad(0x1cc)),_0x13517f=document[_0x5787ad(0x2b2)](_0x5787ad(0x222));for(let _0x26d6cc of _0x13517f)if(_0x26d6cc[_0x5787ad(0x23a)]>=_0x57a669['scrollLeft']){const _0x1d0a1e=new Date(_0x26d6cc[_0x5787ad(0x2c5)](_0x5787ad(0x265)));document['getElementById']('headerMonth')[_0x5787ad(0x257)]=_0x1d0a1e[_0x5787ad(0x249)]('ru',{'month':_0x5787ad(0x1d6)})[_0x5787ad(0x251)]()+'\x20'+_0x1d0a1e[_0x5787ad(0x229)]();break;}}function showToast(_0x581557){const _0x5b9498=a3_0x32898f,_0xb21821=document[_0x5b9498(0x2b8)](_0x5b9498(0x1dc));_0xb21821[_0x5b9498(0x257)]=_0x581557,_0xb21821[_0x5b9498(0x2bb)][_0x5b9498(0x1ff)](_0x5b9498(0x217)),setTimeout(()=>_0xb21821[_0x5b9498(0x2bb)][_0x5b9498(0x2ad)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x3ce63f=a3_0x32898f,_0x1dd208=document[_0x3ce63f(0x2b8)]('matrixViewport'),_0xff51eb=_0x1dd208[_0x3ce63f(0x239)],_0x10afec=_0x1dd208[_0x3ce63f(0x299)],_0x52ca3b=_0x1dd208[_0x3ce63f(0x240)];if(_0x10afec-(_0xff51eb+_0x52ca3b)<0x12c){const _0x38c04e=endOffset;endOffset+=0xe,renderDayRange(_0x38c04e+0x1,endOffset),reRenderBlocks();}if(_0xff51eb<0x12c){const _0x585fe9=startOffset;startOffset-=0xe,prependDays(startOffset,_0x585fe9-0x1),_0x1dd208['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x45ab45,_0x3c696f){const _0x21dc53=a3_0x32898f,_0x5b384a=document[_0x21dc53(0x2b8)](_0x21dc53(0x276)),_0x2fbc78=document['getElementById'](_0x21dc53(0x27c)),_0x5e4f53=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1117c3=new Date();_0x1117c3[_0x21dc53(0x27d)](0x0,0x0,0x0,0x0);const _0x353be3=getLocalDateStr(new Date()),_0x2e1ccb=document[_0x21dc53(0x21b)](),_0x4b80d6=document[_0x21dc53(0x21b)]();for(let _0x35814a=_0x45ab45;_0x35814a<=_0x3c696f;_0x35814a++){const _0x416bab=new Date(_0x1117c3);_0x416bab[_0x21dc53(0x1f9)](_0x416bab[_0x21dc53(0x24a)]()+_0x35814a);const _0x519bde=getLocalDateStr(_0x416bab);let _0x1b74de=_0x416bab[_0x21dc53(0x216)]()-0x1;if(_0x1b74de===-0x1)_0x1b74de=0x6;const _0xf81625=_0x519bde===_0x353be3,_0x514e21=document['createElement'](_0x21dc53(0x1ec));_0x514e21[_0x21dc53(0x2b4)]='day-col-header\x20'+(_0xf81625?_0x21dc53(0x1eb):''),_0x514e21[_0x21dc53(0x235)](_0x21dc53(0x265),_0x519bde),_0x514e21['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5e4f53[_0x1b74de]+_0x21dc53(0x2a5)+_0x416bab[_0x21dc53(0x24a)]()+'</div>',_0x2e1ccb[_0x21dc53(0x282)](_0x514e21);const _0x331ddd=document[_0x21dc53(0x230)](_0x21dc53(0x1ec));_0x331ddd[_0x21dc53(0x2b4)]=_0x21dc53(0x201)+(_0xf81625?_0x21dc53(0x1eb):''),_0x331ddd[_0x21dc53(0x235)]('data-date',_0x519bde),_0x331ddd[_0x21dc53(0x235)](_0x21dc53(0x26c),_0x1b74de),_0x4b80d6['appendChild'](_0x331ddd);}_0x5b384a[_0x21dc53(0x1d7)](_0x2e1ccb,_0x5b384a[_0x21dc53(0x2b0)]),_0x2fbc78[_0x21dc53(0x1d7)](_0x4b80d6,_0x2fbc78['querySelector'](_0x21dc53(0x1d1)));}function hexToRgba(_0x4d5322,_0x2b8d29){const _0x589354=a3_0x32898f;let _0x4030ea;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x589354(0x297)](_0x4d5322))return _0x4030ea=_0x4d5322[_0x589354(0x29b)](0x1)['split'](''),_0x4030ea[_0x589354(0x286)]==0x3&&(_0x4030ea=[_0x4030ea[0x0],_0x4030ea[0x0],_0x4030ea[0x1],_0x4030ea[0x1],_0x4030ea[0x2],_0x4030ea[0x2]]),_0x4030ea='0x'+_0x4030ea[_0x589354(0x284)](''),_0x589354(0x23f)+[_0x4030ea>>0x10&0xff,_0x4030ea>>0x8&0xff,_0x4030ea&0xff]['join'](',')+','+_0x2b8d29+')';return _0x589354(0x25c)+_0x2b8d29+')';}let confirmResolver=null;function showCustomConfirm(_0x5d1087,_0x33953f,_0x2087b5=!![]){const _0x161849=a3_0x32898f;document[_0x161849(0x2b8)](_0x161849(0x20a))[_0x161849(0x257)]=_0x5d1087,document[_0x161849(0x2b8)](_0x161849(0x207))[_0x161849(0x257)]=_0x33953f;const _0x433b63=document[_0x161849(0x2b8)](_0x161849(0x212));return _0x2087b5?(_0x433b63[_0x161849(0x2a4)][_0x161849(0x1fb)]=_0x161849(0x1d2),_0x433b63[_0x161849(0x2a4)][_0x161849(0x252)]=_0x161849(0x1d5)):(_0x433b63[_0x161849(0x2a4)][_0x161849(0x1fb)]=_0x161849(0x22a),_0x433b63['style'][_0x161849(0x252)]='600'),new Promise(_0x3ed77d=>{const _0x5b08fe=_0x161849;confirmResolver=_0x3ed77d,document['getElementById'](_0x5b08fe(0x2a2))[_0x5b08fe(0x2bb)][_0x5b08fe(0x1ff)](_0x5b08fe(0x2c1));});}function resolveCustomConfirm(_0x3b84ef){const _0x5a5621=a3_0x32898f;document['getElementById'](_0x5a5621(0x2a2))[_0x5a5621(0x2bb)]['remove'](_0x5a5621(0x2c1));if(confirmResolver)confirmResolver(_0x3b84ef);}async function tryCancelCurrentSession(){const _0x441685=a3_0x32898f;if(!currentSession)return;const _0x5d06d0=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x441685(0x262),!![]);if(!_0x5d06d0)return;const _0x55614a=currentSession;closeAllSheets(),sessions=sessions[_0x441685(0x1f5)](_0x4d7cf4=>_0x4d7cf4['id']!==_0x55614a['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x441685(0x26b)]();try{const _0x270c4b=window[_0x441685(0x2aa)]?.['WebApp'],_0x25b7b0=await fetch(API_URL,{'method':_0x441685(0x20d),'body':JSON[_0x441685(0x2b6)]({'action':_0x441685(0x260),'init_data':_0x270c4b?.['initData']||'','coachId':_0x55614a[_0x441685(0x2bc)],'dateStr':_0x55614a[_0x441685(0x21d)],'sessionId':_0x55614a['id']})});if(_0x25b7b0['ok'])DataManager[_0x441685(0x1e5)]();}catch(_0x224207){showToast(_0x441685(0x29e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x596233=a3_0x32898f;if(!currentSession)return;document[_0x596233(0x2b8)](_0x596233(0x210))['classList'][_0x596233(0x2ad)](_0x596233(0x2bf)),document[_0x596233(0x2b8)]('rescheduleSheet')['classList'][_0x596233(0x1ff)](_0x596233(0x2bf));const _0x5688f1=document['getElementById'](_0x596233(0x24b)),_0x1328ac=document[_0x596233(0x2b8)](_0x596233(0x272));_0x5688f1[_0x596233(0x21e)]='',_0x1328ac[_0x596233(0x21e)]=_0x596233(0x267);const [_0x5ebbf3,_0x4341a0]=currentSession['start'][_0x596233(0x2b7)](':')['map'](Number),[_0x27041f,_0x5c8dd3]=currentSession[_0x596233(0x219)][_0x596233(0x2b7)](':')['map'](Number),_0x5a7903=_0x27041f*0x3c+_0x5c8dd3-(_0x5ebbf3*0x3c+_0x4341a0);try{const _0x22261e=window['Telegram']?.[_0x596233(0x2bd)],_0x3a7cc9=await fetch(API_URL,{'method':_0x596233(0x20d),'body':JSON[_0x596233(0x2b6)]({'action':_0x596233(0x28e),'coachId':currentSession['coachId'],'duration':_0x5a7903,'init_data':_0x22261e?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x499add=await _0x3a7cc9[_0x596233(0x291)]();_0x499add['ok']&&_0x499add[_0x596233(0x250)]?(availableSlotsCache=_0x499add['data'],renderRescheduleDates()):_0x1328ac[_0x596233(0x21e)]=_0x596233(0x1d3);}catch(_0x1c85f9){_0x1328ac[_0x596233(0x21e)]=_0x596233(0x1f1);}}function renderRescheduleDates(){const _0x5ee34c=a3_0x32898f,_0x3b8ee7=document[_0x5ee34c(0x2b8)](_0x5ee34c(0x24b));_0x3b8ee7[_0x5ee34c(0x21e)]='';const _0x256626=Object[_0x5ee34c(0x234)](availableSlotsCache)[_0x5ee34c(0x213)](),_0x455999=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x256626[_0x5ee34c(0x286)]===0x0){document[_0x5ee34c(0x2b8)](_0x5ee34c(0x272))[_0x5ee34c(0x21e)]=_0x5ee34c(0x1df);return;}_0x256626[_0x5ee34c(0x2a0)]((_0x97f9bf,_0x2230c2)=>{const _0x1723fe=_0x5ee34c,_0x2a518a=new Date(_0x97f9bf),_0x46f4fc=_0x455999[_0x2a518a[_0x1723fe(0x216)]()],_0x68a00a=_0x2a518a[_0x1723fe(0x24a)](),_0x5bd4c5=document['createElement'](_0x1723fe(0x1ec));_0x5bd4c5[_0x1723fe(0x2b4)]=_0x1723fe(0x29d);if(_0x2230c2===0x0)_0x5bd4c5[_0x1723fe(0x2bb)]['add'](_0x1723fe(0x1d4));_0x5bd4c5['innerHTML']=_0x1723fe(0x289)+_0x46f4fc+_0x1723fe(0x218)+_0x68a00a+'</div>',_0x5bd4c5[_0x1723fe(0x20b)]=()=>selectRsDate(_0x97f9bf,_0x5bd4c5),_0x3b8ee7[_0x1723fe(0x282)](_0x5bd4c5);}),selectRsDate(_0x256626[0x0],_0x3b8ee7[_0x5ee34c(0x2b0)]);}function selectRsDate(_0xe6cbea,_0xa23595){const _0x3d3d74=a3_0x32898f;selectedRsDate=_0xe6cbea,document[_0x3d3d74(0x2b2)]('.rs-date-chip')[_0x3d3d74(0x2a0)](_0x205572=>_0x205572[_0x3d3d74(0x2bb)][_0x3d3d74(0x2ad)](_0x3d3d74(0x1d4)));if(_0xa23595)_0xa23595[_0x3d3d74(0x2bb)][_0x3d3d74(0x1ff)]('active');const _0x44ce35=document[_0x3d3d74(0x2b8)]('rsSlotsGrid');_0x44ce35[_0x3d3d74(0x21e)]='';const _0x3e4f66=availableSlotsCache[_0xe6cbea]||[];if(_0x3e4f66[_0x3d3d74(0x286)]===0x0){_0x44ce35['innerHTML']=_0x3d3d74(0x1d3);return;}_0x3e4f66[_0x3d3d74(0x2a0)](_0x461c98=>{const _0x1f1b02=_0x3d3d74,_0x34817f=document['createElement']('button');_0x34817f[_0x1f1b02(0x2b4)]=_0x1f1b02(0x27f),_0x34817f[_0x1f1b02(0x257)]=_0x461c98,_0x34817f[_0x1f1b02(0x20b)]=()=>confirmReschedule(_0x461c98),_0x44ce35[_0x1f1b02(0x282)](_0x34817f);});}async function confirmReschedule(_0x40059f){const _0x572aef=a3_0x32898f,_0x9e7945=new Date(selectedRsDate),_0x1a28c6=_0x9e7945[_0x572aef(0x242)](_0x572aef(0x2c0),{'day':_0x572aef(0x1cd),'month':_0x572aef(0x1d6)}),_0x42a55e=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x1a28c6+_0x572aef(0x224)+_0x40059f+'?',![]);if(!_0x42a55e)return;closeAllSheets(),showToast(_0x572aef(0x285)),lastUserActionTime=Date[_0x572aef(0x26b)]();const _0x2aac3c=currentSession[_0x572aef(0x21d)],_0x5a6135=currentSession['id'],[_0xe15ff1,_0x5033f8]=currentSession[_0x572aef(0x214)]['split'](':')[_0x572aef(0x1e0)](Number),[_0x4dbee3,_0x59394b]=currentSession[_0x572aef(0x219)][_0x572aef(0x2b7)](':')[_0x572aef(0x1e0)](Number),_0x17a677=_0x4dbee3*0x3c+_0x59394b-(_0xe15ff1*0x3c+_0x5033f8),[_0xda807a,_0x41a073]=_0x40059f[_0x572aef(0x2b7)](':')[_0x572aef(0x1e0)](Number),_0x408afb=_0xda807a*0x3c+_0x41a073+_0x17a677,_0x1dfc4e=Math[_0x572aef(0x29c)](_0x408afb/0x3c),_0x3e9604=_0x408afb%0x3c,_0x1a8d9f=String(_0x1dfc4e)[_0x572aef(0x28c)](0x2,'0')+':'+String(_0x3e9604)['padStart'](0x2,'0'),_0x1d5ff9=sessions[_0x572aef(0x244)](_0xf03076=>_0xf03076['id']===_0x5a6135);_0x1d5ff9!==-0x1&&(sessions[_0x1d5ff9][_0x572aef(0x21d)]=selectedRsDate,sessions[_0x1d5ff9]['start']=_0x40059f,sessions[_0x1d5ff9][_0x572aef(0x219)]=_0x1a8d9f,reRenderBlocks());try{const _0x47b594=window['Telegram']?.[_0x572aef(0x2bd)],_0x164d85=await fetch(API_URL,{'method':_0x572aef(0x20d),'body':JSON[_0x572aef(0x2b6)]({'action':_0x572aef(0x2a7),'init_data':_0x47b594?.['initData']||'','oldSessionId':_0x5a6135,'oldDate':_0x2aac3c,'newDate':selectedRsDate,'newTime':_0x40059f,'coachId':currentSession[_0x572aef(0x2bc)]})}),_0x5b100f=await _0x164d85[_0x572aef(0x291)]();!_0x5b100f['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x572aef(0x215)),DataManager[_0x572aef(0x1e5)]());}catch(_0x26fa70){showToast(_0x572aef(0x29e));}}document[a3_0x32898f(0x2a6)]('DOMContentLoaded',init);