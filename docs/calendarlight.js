const a3_0x1ff826=a3_0x1bcb;(function(_0x21f67e,_0x12b773){const _0x28ac10=a3_0x1bcb,_0xc1d534=_0x21f67e();while(!![]){try{const _0xf49ee2=-parseInt(_0x28ac10(0x186))/0x1*(-parseInt(_0x28ac10(0x1b6))/0x2)+-parseInt(_0x28ac10(0x259))/0x3+parseInt(_0x28ac10(0x222))/0x4+-parseInt(_0x28ac10(0x21a))/0x5+parseInt(_0x28ac10(0x1f3))/0x6+-parseInt(_0x28ac10(0x209))/0x7*(parseInt(_0x28ac10(0x1c0))/0x8)+parseInt(_0x28ac10(0x1a9))/0x9;if(_0xf49ee2===_0x12b773)break;else _0xc1d534['push'](_0xc1d534['shift']());}catch(_0x468e9c){_0xc1d534['push'](_0xc1d534['shift']());}}}(a3_0x25eb,0x96026));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x1ff826(0x22c),GRID_H=0x3c,KEY_SESSIONS=a3_0x1ff826(0x1fe),KEY_SETTINGS=a3_0x1ff826(0x1ef),KEY_CLIENTS=a3_0x1ff826(0x25c);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1ff826(0x244),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1dead2=a3_0x1ff826,_0x20f09e=(function(){let _0x35f610=!![];return function(_0x8a5fa3,_0x2b079b){const _0x560223=_0x35f610?function(){const _0x5ed412=a3_0x1bcb;if(_0x2b079b){const _0x27e6a6=_0x2b079b[_0x5ed412(0x1fd)](_0x8a5fa3,arguments);return _0x2b079b=null,_0x27e6a6;}}:function(){};return _0x35f610=![],_0x560223;};}()),_0x1210eb=_0x20f09e(this,function(){const _0x446102=a3_0x1bcb;return _0x1210eb[_0x446102(0x1d9)]()[_0x446102(0x173)]('(((.+)+)+)+$')[_0x446102(0x1d9)]()[_0x446102(0x23e)](_0x1210eb)[_0x446102(0x173)](_0x446102(0x1ab));});_0x1210eb();try{const _0x37be0c=window[_0x1dead2(0x18b)]?.[_0x1dead2(0x1e1)];if(!_0x37be0c)return;_0x37be0c[_0x1dead2(0x24e)](),_0x37be0c[_0x1dead2(0x230)]();try{_0x37be0c[_0x1dead2(0x1bf)](_0x1dead2(0x18f)),_0x37be0c[_0x1dead2(0x1b4)]&&_0x37be0c[_0x1dead2(0x1b4)](_0x1dead2(0x18f));}catch(_0x3230be){console['log'](_0x1dead2(0x194),_0x3230be);}try{_0x37be0c[_0x1dead2(0x21d)]&&(_0x37be0c[_0x1dead2(0x21d)][_0x1dead2(0x1b5)](),_0x37be0c[_0x1dead2(0x21d)][_0x1dead2(0x249)](),_0x37be0c['BackButton'][_0x1dead2(0x16a)](function(){const _0x4cf5dc=_0x1dead2;window[_0x4cf5dc(0x1d7)][_0x4cf5dc(0x1d1)]='router.html';}));}catch(_0x3a58e7){console[_0x1dead2(0x243)]('Error\x20setting\x20back\x20button:',_0x3a58e7);}try{if(_0x37be0c[_0x1dead2(0x1be)])_0x37be0c[_0x1dead2(0x1be)]();}catch(_0x15072a){}}catch(_0x3ff2fe){console['error']('Critical\x20TMA\x20Error:',_0x3ff2fe);}}());function a3_0x25eb(){const _0x42bfae=['applyData','textContent','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','initData','map','uc_client_settings','setDate','getElementById','active','1914498OzJehu','Unknown','anEnd','data-day-idx','end','querySelectorAll','reschedule','backgroundPosition','anStart','.btn-cancel','apply','uc_client_sessions','client_load','rescheduleSheet','className','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTime','client-stat-card','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–û—Ç–º–µ–Ω–µ–Ω–æ','ranges','detDate','63BdbZhP','#0a84ff','min','.period-switch\x20.p-btn','\x20status-completed','getMinutes','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','firstChild','getDay','classList','timeColumn','rsDatesTrack','max','block','toUpperCase','value','scrollTo','3453500snrANs','overlay','now','BackButton','note','custom','today','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','4212260liGgQX','analyticsList','then','top','all','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','#ff453a','start','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','sort','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','%\x20+\x202px)','getFullYear','addEventListener','expand','day-col-header\x20','initDataUnsafe','split','rs-time-btn','matrixViewport','insertBefore','\x20–≤\x20','none','settings','innerHTML','getAttribute','cid','toast','constructor','600','fontWeight','appendChild','filter','log','week','onclick','rgba(10,\x20132,\x20255,\x20','getDate','saveLocally','offClick','px\x200px','ru-RU','findIndex','clientWidth','ready','color','.btn-reschedule','display','T23:59:59','event-card','auto','<span>','day-column\x20','.sheet','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','2783580JXnzbK','left','setHours','uc_client_list','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.day-col-header[data-date=\x22','day-off-overlay\x20stripe-bg','clientId','createElement','push','detailsSheet','stringify','gridColumns','parse','month','onClick','calendar','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','ccTitle','scrollTop','seriesId','cancelContainer','.day-column','search','open','join','status','globalTimeLine','json','timeLineBadge','floor','exceptions','getMonth','width','stopPropagation','div','entries','forEach','sid','get_slots','borderLeftColor','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','13168lyKfdr','test','setAttribute','T00:00:00','startsWith','Telegram','px\x20-','ccText','backgroundColor','#050505','</div>','substr','–∑–∞\x20','style','Error\x20setting\x20color:','round','strokeDashoffset','completed','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','charAt','<div\x20class=\x22dch-day\x22>','querySelector','mini','anDonutCircle','daysHeaderTrack','setItem','rsSlotsGrid','clients','user','done','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','customConfirm','keys','1820889hVjRBV','anPercent','(((.+)+)+)+$','%\x20-\x204px)','dateStr','setMonth','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','zIndex','syncLoad','headerMonth','offsetLeft','setBackgroundColor','show','142WSBdcL','client_cancel','DOMContentLoaded','pattern','detNote','total','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','analyticsSheet','disableVerticalSwipes','setHeaderColor','245688fpkdHG','data-date','long','calc(','find','colIndex','height','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','cancelHint','scrollLeft','coachId','blocked-range-part\x20stripe-bg','</div><div\x20class=\x22rs-day-num\x22>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cancelled','button','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','scroll','getItem','data','getHours','location','planned','toString','POST','add','coach_profiles','detTime','padStart','isArray','visible','WebApp','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','numeric','\x20-\x20','remove','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rs-date-chip'];a3_0x25eb=function(){return _0x42bfae;};return a3_0x25eb();}function isAdmin(){const _0x501a83=a3_0x1ff826;try{const _0x4a37d4=Number(window[_0x501a83(0x18b)]?.[_0x501a83(0x1e1)]?.[_0x501a83(0x232)]?.[_0x501a83(0x1a3)]?.['id']);return _0x4a37d4===0xbaf7174;}catch(_0x26e2d8){return![];}}const DataManager={'saveLocally'(){const _0x4088a9=a3_0x1ff826;try{localStorage[_0x4088a9(0x1a0)](KEY_SESSIONS,JSON[_0x4088a9(0x166)](sessions)),localStorage[_0x4088a9(0x1a0)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x4088a9(0x1a0)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5902f7){}},'loadLocal'(){const _0x24a4c7=a3_0x1ff826;try{const _0x373955=localStorage[_0x24a4c7(0x1d4)](KEY_SESSIONS);if(_0x373955)sessions=JSON[_0x24a4c7(0x168)](_0x373955);const _0x5f5389=localStorage['getItem'](KEY_CLIENTS);if(_0x5f5389)clients=JSON[_0x24a4c7(0x168)](_0x5f5389);const _0x28d4f2=localStorage[_0x24a4c7(0x1d4)](KEY_SETTINGS);if(_0x28d4f2){const _0x3c2baa=JSON[_0x24a4c7(0x168)](_0x28d4f2);if(_0x3c2baa[_0x24a4c7(0x1b9)])availabilityPattern=_0x3c2baa[_0x24a4c7(0x1b9)];if(_0x3c2baa[_0x24a4c7(0x207)])specialRanges=_0x3c2baa[_0x24a4c7(0x207)];if(_0x3c2baa[_0x24a4c7(0x17b)])dateExceptions=_0x3c2baa[_0x24a4c7(0x17b)];}}catch(_0x3b8118){}},async 'syncLoad'(){const _0xf9078=a3_0x1ff826,_0x4a128b=new Date(),_0x4e03b7=_0x4a128b[_0xf9078(0x22e)]()+'-'+String(_0x4a128b[_0xf9078(0x17c)]()+0x1)[_0xf9078(0x1de)](0x2,'0'),_0xaa220b=new Date(_0x4a128b);_0xaa220b[_0xf9078(0x1ae)](_0x4a128b['getMonth']()+0x1);const _0x23c293=_0xaa220b[_0xf9078(0x22e)]()+'-'+String(_0xaa220b[_0xf9078(0x17c)]()+0x1)[_0xf9078(0x1de)](0x2,'0'),_0x4ffde5=Date[_0xf9078(0x21c)]();try{const _0x2f35c5=window['Telegram']?.[_0xf9078(0x1e1)],_0x2e7975=_0x2f35c5?.[_0xf9078(0x1ed)]||'',[_0x45cfa1,_0x32b030]=await Promise[_0xf9078(0x226)]([fetch(API_URL,{'method':_0xf9078(0x1da),'body':JSON[_0xf9078(0x166)]({'action':_0xf9078(0x1ff),'init_data':_0x2e7975,'month_str':_0x4e03b7})})[_0xf9078(0x224)](_0x369092=>_0x369092[_0xf9078(0x178)]()),fetch(API_URL,{'method':'POST','body':JSON[_0xf9078(0x166)]({'action':_0xf9078(0x1ff),'init_data':_0x2e7975,'month_str':_0x23c293})})['then'](_0x1ad2d2=>_0x1ad2d2[_0xf9078(0x178)]())]);if(lastUserActionTime>_0x4ffde5){console[_0xf9078(0x243)](_0xf9078(0x1e2));return;}if(_0x45cfa1['ok'])this[_0xf9078(0x1ea)](_0x45cfa1['data'],_0x4e03b7);if(_0x32b030['ok'])this[_0xf9078(0x1ea)](_0x32b030['data'],_0x23c293);this[_0xf9078(0x248)]();}catch(_0x267633){}},'applyData'(_0x1e66c2,_0xb414f0){const _0x16e2bd=a3_0x1ff826;if(!_0x1e66c2)return;if(_0x1e66c2[_0x16e2bd(0x239)]){if(_0x1e66c2['settings']['pattern'])availabilityPattern=_0x1e66c2[_0x16e2bd(0x239)]['pattern'];if(_0x1e66c2[_0x16e2bd(0x239)]['ranges'])specialRanges=_0x1e66c2['settings'][_0x16e2bd(0x207)];if(_0x1e66c2['settings'][_0x16e2bd(0x17b)])dateExceptions=_0x1e66c2[_0x16e2bd(0x239)][_0x16e2bd(0x17b)];}if(_0x1e66c2[_0x16e2bd(0x1a2)]&&Array[_0x16e2bd(0x1df)](_0x1e66c2[_0x16e2bd(0x1a2)]))clients=_0x1e66c2[_0x16e2bd(0x1a2)];_0x1e66c2[_0x16e2bd(0x1dc)]&&(coachProfiles={...coachProfiles,..._0x1e66c2['coach_profiles']}),_0x1e66c2[_0x16e2bd(0x16b)]&&(sessions=sessions['filter'](_0x370aaa=>!_0x370aaa[_0x16e2bd(0x1ad)][_0x16e2bd(0x18a)](_0xb414f0)),Object[_0x16e2bd(0x1a8)](_0x1e66c2[_0x16e2bd(0x16b)])[_0x16e2bd(0x181)](_0x206d06=>{const _0x1c9c70=_0x16e2bd,_0x4da0d6=_0x1e66c2[_0x1c9c70(0x16b)][_0x206d06];_0x4da0d6['forEach'](_0xa0695a=>{const _0x50b046=_0x1c9c70;sessions['push']({'id':_0xa0695a['i'],'clientId':_0xa0695a['c'],'coachId':_0xa0695a[_0x50b046(0x23c)],'dateStr':_0xb414f0+'-'+_0x206d06[_0x50b046(0x1de)](0x2,'0'),'start':_0xa0695a['s'],'end':_0xa0695a['e'],'note':_0xa0695a['n']||'','status':_0xa0695a['st']||_0x50b046(0x1d8),'seriesId':_0xa0695a[_0x50b046(0x182)]});});})),reRenderBlocks();}};function init(){const _0x255fc8=a3_0x1ff826;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x255fc8(0x1f1)](_0x255fc8(0x235))[_0x255fc8(0x22f)](_0x255fc8(0x1d3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x255fc8(0x1b1)]();}function renderTimeColumn(){const _0xed7f10=a3_0x1ff826,_0x26d766=document[_0xed7f10(0x1f1)](_0xed7f10(0x213)),_0x181917=document[_0xed7f10(0x1f1)](_0xed7f10(0x179));_0x26d766[_0xed7f10(0x23a)]='',_0x26d766[_0xed7f10(0x241)](_0x181917);for(let _0x148741=0x0;_0x148741<0x18;_0x148741++){const _0x7e6b63=document[_0xed7f10(0x163)](_0xed7f10(0x17f));_0x7e6b63[_0xed7f10(0x201)]='time-label';if(_0x148741>0x0)_0x7e6b63[_0xed7f10(0x23a)]=_0xed7f10(0x255)+String(_0x148741)[_0xed7f10(0x1de)](0x2,'0')+':00</span>';_0x26d766['appendChild'](_0x7e6b63);}}function renderDayRange(_0x157d00,_0x516d7c){const _0x2774dc=a3_0x1ff826,_0x4ec90a=document[_0x2774dc(0x1f1)](_0x2774dc(0x19f)),_0x5006d2=document[_0x2774dc(0x1f1)](_0x2774dc(0x167)),_0xea6509=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3e0bf8=new Date();_0x3e0bf8[_0x2774dc(0x25b)](0x0,0x0,0x0,0x0);const _0xe4bdc7=getLocalDateStr(new Date());for(let _0x9fe5d6=_0x157d00;_0x9fe5d6<=_0x516d7c;_0x9fe5d6++){const _0x27610c=new Date(_0x3e0bf8);_0x27610c[_0x2774dc(0x1f0)](_0x27610c[_0x2774dc(0x247)]()+_0x9fe5d6);const _0x10bbf2=getLocalDateStr(_0x27610c);let _0x27ac78=_0x27610c['getDay']()-0x1;if(_0x27ac78===-0x1)_0x27ac78=0x6;const _0x11a296=_0x10bbf2===_0xe4bdc7,_0x4c6044=document[_0x2774dc(0x163)](_0x2774dc(0x17f));_0x4c6044[_0x2774dc(0x201)]=_0x2774dc(0x231)+(_0x11a296?'today':''),_0x4c6044[_0x2774dc(0x188)](_0x2774dc(0x1c1),_0x10bbf2),_0x4c6044[_0x2774dc(0x23a)]=_0x2774dc(0x19b)+_0xea6509[_0x27ac78]+'</div><div\x20class=\x22dch-num\x22>'+_0x27610c[_0x2774dc(0x247)]()+'</div>',_0x4ec90a[_0x2774dc(0x241)](_0x4c6044);const _0x29364a=document[_0x2774dc(0x163)](_0x2774dc(0x17f));_0x29364a[_0x2774dc(0x201)]=_0x2774dc(0x256)+(_0x11a296?_0x2774dc(0x220):''),_0x29364a[_0x2774dc(0x188)](_0x2774dc(0x1c1),_0x10bbf2),_0x29364a[_0x2774dc(0x188)](_0x2774dc(0x1f6),_0x27ac78),_0x5006d2[_0x2774dc(0x241)](_0x29364a);}}function reRenderBlocks(){const _0x4f1c77=a3_0x1ff826;document[_0x4f1c77(0x1f8)](_0x4f1c77(0x172))[_0x4f1c77(0x181)](_0x49f69b=>{const _0x4faf7b=_0x4f1c77;_0x49f69b[_0x4faf7b(0x1f8)](_0x4faf7b(0x1ec))[_0x4faf7b(0x181)](_0x10388c=>_0x10388c['remove']());const _0x332511=_0x49f69b[_0x4faf7b(0x23b)]('data-date'),_0x504ac3=parseInt(_0x49f69b['getAttribute']('data-day-idx')),_0x1cb953=Math['round'](_0x49f69b[_0x4faf7b(0x1b3)]);(availabilityPattern[_0x504ac3]||[])[_0x4faf7b(0x181)](_0xfe9d42=>{const _0x36366a=_0x4faf7b,_0x268582=document[_0x36366a(0x163)](_0x36366a(0x17f));_0x268582[_0x36366a(0x201)]='blocked-slot\x20stripe-bg',_0x268582[_0x36366a(0x193)][_0x36366a(0x225)]=_0xfe9d42*GRID_H+'px',_0x268582[_0x36366a(0x193)][_0x36366a(0x1fa)]='-'+_0x1cb953+_0x36366a(0x18c)+_0xfe9d42*GRID_H+'px',_0x49f69b[_0x36366a(0x241)](_0x268582);});if(specialRanges['length']>0x0){const _0x2fef57=new Date(_0x332511+_0x4faf7b(0x189))[_0x4faf7b(0x203)](),_0x2c64fe=new Date(_0x332511+_0x4faf7b(0x252))[_0x4faf7b(0x203)]();specialRanges[_0x4faf7b(0x181)](_0x2b7eab=>{const _0x149c7c=_0x4faf7b,_0x51a0b0=new Date(_0x2b7eab[_0x149c7c(0x229)])[_0x149c7c(0x203)](),_0x319d88=new Date(_0x2b7eab[_0x149c7c(0x1f7)])[_0x149c7c(0x203)](),_0xd01d9c=Math[_0x149c7c(0x215)](_0x2fef57,_0x51a0b0),_0x15141d=Math['min'](_0x2c64fe,_0x319d88);if(_0xd01d9c<_0x15141d){const _0xa8da2e=(_0xd01d9c-_0x2fef57)/0x36ee80*GRID_H,_0x4b9679=(_0x15141d-_0xd01d9c)/0x36ee80*GRID_H,_0x5a304a=document[_0x149c7c(0x163)](_0x149c7c(0x17f));_0x4b9679>=23.5*GRID_H?(_0x5a304a[_0x149c7c(0x201)]=_0x149c7c(0x25f),_0x5a304a[_0x149c7c(0x193)][_0x149c7c(0x1fa)]='-'+_0x1cb953+_0x149c7c(0x24a)):(_0x5a304a['className']=_0x149c7c(0x1cb),_0x5a304a['style'][_0x149c7c(0x225)]=_0xa8da2e+'px',_0x5a304a[_0x149c7c(0x193)][_0x149c7c(0x1c6)]=_0x4b9679+'px',_0x5a304a[_0x149c7c(0x193)][_0x149c7c(0x1fa)]='-'+_0x1cb953+'px\x20-'+_0xa8da2e+'px'),_0x49f69b[_0x149c7c(0x241)](_0x5a304a);}});}renderEventsForColumn(_0x49f69b,_0x332511);});}function renderEventsForColumn(_0x4b18b9,_0x433164){const _0x147c06=a3_0x1ff826,_0x236e13=sessions['filter'](_0x173905=>_0x173905['dateStr']===_0x433164),_0x114d56=_0x236e13['map'](_0xb5e6fb=>{const _0x4c2844=a3_0x1bcb,[_0x35b8dd,_0x1e63e9]=_0xb5e6fb[_0x4c2844(0x229)][_0x4c2844(0x233)](':')['map'](Number),[_0x598092,_0x4a25e4]=_0xb5e6fb[_0x4c2844(0x1f7)]['split'](':')[_0x4c2844(0x1ee)](Number);return{'data':_0xb5e6fb,'start':_0x35b8dd*0x3c+_0x1e63e9,'end':_0x598092*0x3c+_0x4a25e4,'colIndex':0x0};});_0x114d56[_0x147c06(0x22b)]((_0x408f8d,_0x5a8060)=>_0x408f8d['start']-_0x5a8060[_0x147c06(0x229)]||_0x5a8060[_0x147c06(0x1f7)]-_0x5a8060[_0x147c06(0x229)]-(_0x408f8d[_0x147c06(0x1f7)]-_0x408f8d[_0x147c06(0x229)]));const _0x3dd226=[];_0x114d56[_0x147c06(0x181)](_0x39287a=>{const _0x597acb=_0x147c06;let _0x76a2f7=![];for(let _0x3d27c7=0x0;_0x3d27c7<_0x3dd226[_0x597acb(0x16c)];_0x3d27c7++){const _0x52e401=_0x3dd226[_0x3d27c7];if(_0x39287a[_0x597acb(0x229)]>=_0x52e401[_0x52e401[_0x597acb(0x16c)]-0x1][_0x597acb(0x1f7)]){_0x52e401[_0x597acb(0x164)](_0x39287a),_0x39287a[_0x597acb(0x1c5)]=_0x3d27c7,_0x76a2f7=!![];break;}}!_0x76a2f7&&(_0x3dd226['push']([_0x39287a]),_0x39287a[_0x597acb(0x1c5)]=_0x3dd226['length']-0x1);}),_0x114d56[_0x147c06(0x181)](_0x3e5acc=>{const _0x2a2a11=_0x147c06;let _0x106d6d=0x0;_0x114d56['forEach'](_0x1ab9e6=>{const _0x9413f7=a3_0x1bcb;if(Math[_0x9413f7(0x215)](_0x3e5acc['start'],_0x1ab9e6[_0x9413f7(0x229)])<Math[_0x9413f7(0x20b)](_0x3e5acc[_0x9413f7(0x1f7)],_0x1ab9e6[_0x9413f7(0x1f7)])&&_0x1ab9e6[_0x9413f7(0x1c5)]>_0x106d6d)_0x106d6d=_0x1ab9e6[_0x9413f7(0x1c5)];});const _0x1f0a29=_0x106d6d+0x1,_0x36f028=0x64/_0x1f0a29,_0x3ae57b=_0x3e5acc['colIndex']*_0x36f028,_0x20f680=document['createElement'](_0x2a2a11(0x17f)),_0xccb136=_0x3e5acc[_0x2a2a11(0x1d5)];let _0x20612c=_0x2a2a11(0x20a);if(clients&&clients[_0x2a2a11(0x16c)]>0x0){const _0x231a6a=clients[_0x2a2a11(0x1c4)](_0x375c8c=>String(_0x375c8c['id'])===String(_0xccb136[_0x2a2a11(0x162)]));if(_0x231a6a&&_0x231a6a[_0x2a2a11(0x24f)])_0x20612c=_0x231a6a[_0x2a2a11(0x24f)];}const _0x291d43=_0xccb136[_0x2a2a11(0x176)]===_0x2a2a11(0x197),_0x30b88d=_0x291d43?0x1:0.45;_0x20f680[_0x2a2a11(0x201)]=_0x2a2a11(0x253)+(_0x291d43?_0x2a2a11(0x20d):''),_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x18e)]=hexToRgba(_0x20612c,_0x30b88d),_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x184)]=_0x20612c;const _0x35af54=_0x3e5acc[_0x2a2a11(0x229)]/0x3c*GRID_H,_0x5556d1=(_0x3e5acc[_0x2a2a11(0x1f7)]-_0x3e5acc[_0x2a2a11(0x229)])/0x3c*GRID_H;_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x225)]=_0x35af54+'px',_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x1c6)]=Math[_0x2a2a11(0x215)](_0x5556d1,0x14)+'px',_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x17d)]=_0x2a2a11(0x1c3)+_0x36f028+_0x2a2a11(0x1ac),_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x25a)]=_0x2a2a11(0x1c3)+_0x3ae57b+_0x2a2a11(0x22d),_0x20f680[_0x2a2a11(0x193)][_0x2a2a11(0x1b0)]=0xa+_0x3e5acc[_0x2a2a11(0x1c5)];if(_0x36f028<0x55)_0x20f680['classList'][_0x2a2a11(0x1db)](_0x2a2a11(0x19d));let _0x294e37='';if(_0xccb136[_0x2a2a11(0x170)])_0x294e37+=_0x2a2a11(0x1c7);if(_0x291d43)_0x294e37+=_0x2a2a11(0x25d);_0x20f680[_0x2a2a11(0x23a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0xccb136[_0x2a2a11(0x229)]+_0x2a2a11(0x1e6)+_0xccb136[_0x2a2a11(0x1f7)]+_0x2a2a11(0x202)+_0x294e37+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x20f680[_0x2a2a11(0x245)]=_0x3d95c5=>{const _0x441df3=_0x2a2a11;_0x3d95c5[_0x441df3(0x17e)](),openDetails(_0xccb136);},_0x4b18b9[_0x2a2a11(0x241)](_0x20f680);});}function openAnalytics(){const _0x558096=a3_0x1ff826,_0x1caa2d=document[_0x558096(0x19c)](_0x558096(0x20c));setAnalyticsPeriod(_0x558096(0x244),_0x1caa2d),openSheet(_0x558096(0x1bd));}function a3_0x1bcb(_0x4f52e4,_0x22abe7){_0x4f52e4=_0x4f52e4-0x162;const _0x1e0d56=a3_0x25eb();let _0x58416a=_0x1e0d56[_0x4f52e4];return _0x58416a;}function setAnalyticsPeriod(_0x2465d7,_0xb7c17b){const _0x4cc9a9=a3_0x1ff826;currentAnPeriod=_0x2465d7,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x28c010=>_0x28c010['classList'][_0x4cc9a9(0x1e7)]('active'));if(_0xb7c17b)_0xb7c17b[_0x4cc9a9(0x212)][_0x4cc9a9(0x1db)]('active');const _0x2110c3=document[_0x4cc9a9(0x1f1)]('anCustomDates');_0x2110c3[_0x4cc9a9(0x193)][_0x4cc9a9(0x251)]=_0x2465d7===_0x4cc9a9(0x21f)?'flex':'none';const _0x45d057=new Date();let _0x7fbf62=new Date(),_0x31172f=new Date();if(_0x2465d7==='week')_0x7fbf62=getStartOfWeek(_0x45d057),_0x31172f=new Date(_0x7fbf62),_0x31172f[_0x4cc9a9(0x1f0)](_0x31172f['getDate']()+0x6);else{if(_0x2465d7===_0x4cc9a9(0x169))_0x7fbf62=new Date(_0x45d057[_0x4cc9a9(0x22e)](),_0x45d057['getMonth'](),0x1),_0x31172f=new Date(_0x45d057[_0x4cc9a9(0x22e)](),_0x45d057['getMonth']()+0x1,0x0);else{!document[_0x4cc9a9(0x1f1)](_0x4cc9a9(0x1fb))[_0x4cc9a9(0x218)]&&(document[_0x4cc9a9(0x1f1)](_0x4cc9a9(0x1fb))['value']=getLocalDateStr(_0x45d057),document[_0x4cc9a9(0x1f1)](_0x4cc9a9(0x1f5))[_0x4cc9a9(0x218)]=getLocalDateStr(_0x45d057));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x7fbf62),document[_0x4cc9a9(0x1f1)](_0x4cc9a9(0x1f5))[_0x4cc9a9(0x218)]=getLocalDateStr(_0x31172f),refreshAnalytics();}function refreshAnalytics(){const _0xaba4a9=a3_0x1ff826,_0x5eb8b1=document['getElementById'](_0xaba4a9(0x1fb))[_0xaba4a9(0x218)],_0x447918=document['getElementById'](_0xaba4a9(0x1f5))[_0xaba4a9(0x218)];if(!_0x5eb8b1||!_0x447918)return;const _0x3e7ada=sessions['filter'](_0x411a8a=>_0x411a8a['dateStr']>=_0x5eb8b1&&_0x411a8a[_0xaba4a9(0x1ad)]<=_0x447918&&_0x411a8a[_0xaba4a9(0x176)]!==_0xaba4a9(0x1cf)),_0x2e63ae=_0x3e7ada['length'],_0x2f7918=_0x3e7ada['filter'](_0x49db99=>_0x49db99['status']===_0xaba4a9(0x197))[_0xaba4a9(0x16c)],_0x7122d5=_0x2e63ae>0x0?Math[_0xaba4a9(0x195)](_0x2f7918/_0x2e63ae*0x64):0x0;document[_0xaba4a9(0x1f1)](_0xaba4a9(0x1aa))[_0xaba4a9(0x1eb)]=_0x7122d5+'%',document[_0xaba4a9(0x1f1)]('anTotalStats')['textContent']=_0x2f7918+_0xaba4a9(0x1e3)+_0x2e63ae+_0xaba4a9(0x221);const _0x5579b0=document[_0xaba4a9(0x1f1)](_0xaba4a9(0x19e)),_0x23d45d=0x2*Math['PI']*0x23,_0x14914a=_0x23d45d-_0x7122d5/0x64*_0x23d45d;_0x5579b0[_0xaba4a9(0x193)][_0xaba4a9(0x196)]=_0x14914a;const _0x22f2a2={};_0x3e7ada[_0xaba4a9(0x181)](_0x102923=>{const _0x2decf7=_0xaba4a9,_0x5c3f2f=_0x102923[_0x2decf7(0x1ca)]||_0x2decf7(0x1f4);if(!_0x22f2a2[_0x5c3f2f]){const _0xe4f6c4='#'+_0x5c3f2f[_0x2decf7(0x1d9)]()[_0x2decf7(0x191)](0x0,0x6);_0x22f2a2[_0x5c3f2f]={'total':0x0,'done':0x0,'color':_0xe4f6c4};}_0x22f2a2[_0x5c3f2f]['total']++;if(_0x102923['status']===_0x2decf7(0x197))_0x22f2a2[_0x5c3f2f][_0x2decf7(0x1a4)]++;});const _0x27778b=document[_0xaba4a9(0x1f1)](_0xaba4a9(0x223));_0x27778b[_0xaba4a9(0x23a)]='';const _0x3dd421=Object[_0xaba4a9(0x180)](_0x22f2a2)[_0xaba4a9(0x22b)]((_0xc83f02,_0x265a6d)=>_0x265a6d[0x1][_0xaba4a9(0x1bb)]-_0xc83f02[0x1][_0xaba4a9(0x1bb)]);if(_0x3dd421[_0xaba4a9(0x16c)]===0x0){_0x27778b[_0xaba4a9(0x23a)]=_0xaba4a9(0x1af);return;}_0x3dd421[_0xaba4a9(0x181)](([_0x164632,_0x3019b1])=>{const _0x7e2150=_0xaba4a9,_0x5dcfe7=Math[_0x7e2150(0x195)](_0x3019b1[_0x7e2150(0x1a4)]/_0x3019b1[_0x7e2150(0x1bb)]*0x64),_0x5d444d=document[_0x7e2150(0x163)](_0x7e2150(0x17f));_0x5d444d['className']=_0x7e2150(0x204),_0x5d444d[_0x7e2150(0x193)][_0x7e2150(0x184)]=_0x3019b1[_0x7e2150(0x24f)],_0x5d444d['innerHTML']=_0x7e2150(0x1d2)+_0x164632[_0x7e2150(0x191)](0x0,0x5)+_0x7e2150(0x16d)+_0x3019b1[_0x7e2150(0x1a4)]+'</span>\x20/\x20'+_0x3019b1[_0x7e2150(0x1bb)]+_0x7e2150(0x1e4)+_0x5dcfe7+_0x7e2150(0x198),_0x27778b['appendChild'](_0x5d444d);});}function openDetails(_0x478cd0){const _0x176d08=a3_0x1ff826;currentSession=_0x478cd0;const _0x2f6d6e=new Date(_0x478cd0[_0x176d08(0x1ad)]),_0x3386eb=_0x2f6d6e['toLocaleDateString'](_0x176d08(0x24b),{'weekday':'long','day':_0x176d08(0x1e5),'month':'long'});document['getElementById'](_0x176d08(0x208))[_0x176d08(0x1eb)]=_0x3386eb[_0x176d08(0x19a)](0x0)['toUpperCase']()+_0x3386eb['slice'](0x1),document[_0x176d08(0x1f1)](_0x176d08(0x1dd))['textContent']=_0x478cd0[_0x176d08(0x229)]+_0x176d08(0x1e6)+_0x478cd0[_0x176d08(0x1f7)],document[_0x176d08(0x1f1)](_0x176d08(0x1ba))['textContent']=_0x478cd0[_0x176d08(0x21e)]||_0x176d08(0x20f);const _0x4d7d02=document[_0x176d08(0x1f1)]('detStatus'),_0x34911a=document[_0x176d08(0x1f1)](_0x176d08(0x171)),_0x239d2d=_0x34911a[_0x176d08(0x19c)](_0x176d08(0x1fc)),_0xa5ba00=_0x34911a[_0x176d08(0x19c)](_0x176d08(0x250)),_0x32bf77=document['getElementById'](_0x176d08(0x1c8));if(_0x478cd0[_0x176d08(0x176)]===_0x176d08(0x197))_0x4d7d02[_0x176d08(0x1eb)]=_0x176d08(0x1a6),_0x4d7d02['style'][_0x176d08(0x24f)]='var(--acc-green)',_0x34911a[_0x176d08(0x193)][_0x176d08(0x251)]=_0x176d08(0x238);else{_0x4d7d02['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x4d7d02['style'][_0x176d08(0x24f)]='var(--acc-blue)',_0x34911a['style'][_0x176d08(0x251)]=_0x176d08(0x216);const _0x6ba34b=new Date(_0x478cd0[_0x176d08(0x1ad)]+'T'+_0x478cd0['start']),_0x401dc5=new Date(),_0x5b45f5=(_0x6ba34b-_0x401dc5)/(0x3e8*0x3c*0x3c),_0x2c81d1=coachProfiles[_0x478cd0[_0x176d08(0x1ca)]]&&coachProfiles[_0x478cd0['coachId']]['cancel_window']?parseInt(coachProfiles[_0x478cd0[_0x176d08(0x1ca)]]['cancel_window']):0x18;if(_0x2c81d1===0x0||_0x5b45f5>=_0x2c81d1)_0x239d2d['style'][_0x176d08(0x251)]=_0x176d08(0x216),_0xa5ba00[_0x176d08(0x193)][_0x176d08(0x251)]=_0x176d08(0x216),_0x32bf77['style']['display']=_0x176d08(0x238);else{_0x239d2d[_0x176d08(0x193)][_0x176d08(0x251)]=_0x176d08(0x238),_0xa5ba00[_0x176d08(0x193)]['display']=_0x176d08(0x238),_0x32bf77['style'][_0x176d08(0x251)]=_0x176d08(0x216);let _0x566431=_0x2c81d1===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x176d08(0x192)+_0x2c81d1+'\x20—á.';_0x32bf77[_0x176d08(0x1eb)]=_0x176d08(0x22a)+_0x566431+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x176d08(0x1f1)](_0x176d08(0x21b))[_0x176d08(0x212)][_0x176d08(0x1db)](_0x176d08(0x1f2)),document['getElementById'](_0x176d08(0x165))[_0x176d08(0x212)][_0x176d08(0x1db)](_0x176d08(0x174));}function closeAllSheets(){const _0x3f4e12=a3_0x1ff826;document[_0x3f4e12(0x1f1)]('overlay')['classList'][_0x3f4e12(0x1e7)](_0x3f4e12(0x1f2)),document[_0x3f4e12(0x1f8)](_0x3f4e12(0x257))[_0x3f4e12(0x181)](_0x7abb0b=>_0x7abb0b['classList'][_0x3f4e12(0x1e7)]('open'));}function openSheet(_0x397f47){const _0x5c7217=a3_0x1ff826;document['getElementById'](_0x5c7217(0x21b))['classList'][_0x5c7217(0x1db)](_0x5c7217(0x1f2)),document[_0x5c7217(0x1f1)](_0x397f47)['classList'][_0x5c7217(0x1db)](_0x5c7217(0x174));}function getLocalDateStr(_0x3c1862){const _0x47d2c7=a3_0x1ff826,_0x3c301c=_0x3c1862[_0x47d2c7(0x22e)](),_0x5cc2e3=String(_0x3c1862[_0x47d2c7(0x17c)]()+0x1)[_0x47d2c7(0x1de)](0x2,'0'),_0xfb296e=String(_0x3c1862[_0x47d2c7(0x247)]())[_0x47d2c7(0x1de)](0x2,'0');return _0x3c301c+'-'+_0x5cc2e3+'-'+_0xfb296e;}function getStartOfWeek(_0x2ed1f7){const _0xef456d=a3_0x1ff826,_0x1a8cb2=new Date(_0x2ed1f7),_0x286bba=_0x1a8cb2[_0xef456d(0x211)](),_0x580087=_0x1a8cb2[_0xef456d(0x247)]()-_0x286bba+(_0x286bba===0x0?-0x6:0x1);return _0x1a8cb2[_0xef456d(0x1f0)](_0x580087),_0x1a8cb2['setHours'](0x0,0x0,0x0,0x0),_0x1a8cb2;}function scrollToToday(){const _0x2ce7c7=getLocalDateStr(new Date());setTimeout(()=>{const _0x3b9398=a3_0x1bcb,_0x3f98dd=document[_0x3b9398(0x19c)](_0x3b9398(0x25e)+_0x2ce7c7+'\x22]');if(_0x3f98dd){const _0x213a07=document[_0x3b9398(0x1f1)](_0x3b9398(0x235)),_0x2456f6=_0x3f98dd['offsetLeft']-_0x213a07[_0x3b9398(0x24d)]/0x2+_0x3f98dd['offsetWidth']/0x2;_0x213a07[_0x3b9398(0x219)]({'left':_0x2456f6,'behavior':_0x3b9398(0x254)}),_0x213a07[_0x3b9398(0x16f)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x31bbe8=a3_0x1ff826,_0xed479c=new Date(),_0x1edb51=document['getElementById'](_0x31bbe8(0x177)),_0x4d9212=document[_0x31bbe8(0x1f1)](_0x31bbe8(0x179)),_0x1cc539=(_0xed479c[_0x31bbe8(0x1d6)]()*0x3c+_0xed479c[_0x31bbe8(0x20e)]())/0x3c*GRID_H;_0x1edb51[_0x31bbe8(0x193)]['top']=_0x1cc539+'px',_0x1edb51[_0x31bbe8(0x193)][_0x31bbe8(0x251)]=_0x31bbe8(0x216),_0x4d9212['style'][_0x31bbe8(0x225)]=_0x1cc539+'px',_0x4d9212[_0x31bbe8(0x193)][_0x31bbe8(0x251)]='block',_0x4d9212[_0x31bbe8(0x1eb)]=String(_0xed479c[_0x31bbe8(0x1d6)]())[_0x31bbe8(0x1de)](0x2,'0')+':'+String(_0xed479c[_0x31bbe8(0x20e)]())[_0x31bbe8(0x1de)](0x2,'0');}function onScroll(){const _0x4ccddc=a3_0x1ff826,_0x4c94e4=document[_0x4ccddc(0x1f1)]('matrixViewport'),_0x3fd9c8=document[_0x4ccddc(0x1f8)]('.day-col-header');for(let _0x11b788 of _0x3fd9c8)if(_0x11b788[_0x4ccddc(0x1b3)]>=_0x4c94e4['scrollLeft']){const _0x54075e=new Date(_0x11b788[_0x4ccddc(0x23b)]('data-date'));document['getElementById'](_0x4ccddc(0x1b2))[_0x4ccddc(0x1eb)]=_0x54075e['toLocaleString']('ru',{'month':_0x4ccddc(0x1c2)})[_0x4ccddc(0x217)]()+'\x20'+_0x54075e['getFullYear']();break;}}function showToast(_0x13406e){const _0x47b079=a3_0x1ff826,_0x3b16db=document[_0x47b079(0x1f1)](_0x47b079(0x23d));_0x3b16db['textContent']=_0x13406e,_0x3b16db['classList'][_0x47b079(0x1db)]('show'),setTimeout(()=>_0x3b16db[_0x47b079(0x212)][_0x47b079(0x1e7)]('show'),0x7d0);}function handleInfiniteScroll(){const _0xdd1745=a3_0x1ff826,_0x4889c7=document['getElementById'](_0xdd1745(0x235)),_0x34d4fe=_0x4889c7['scrollLeft'],_0x2520ac=_0x4889c7['scrollWidth'],_0x2601c4=_0x4889c7[_0xdd1745(0x24d)];if(_0x2520ac-(_0x34d4fe+_0x2601c4)<0x12c){const _0x484bc7=endOffset;endOffset+=0xe,renderDayRange(_0x484bc7+0x1,endOffset),reRenderBlocks();}if(_0x34d4fe<0x12c){const _0x55053f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x55053f-0x1),_0x4889c7[_0xdd1745(0x1c9)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x474f72,_0x54dd61){const _0xd90469=a3_0x1ff826,_0x253861=document[_0xd90469(0x1f1)](_0xd90469(0x19f)),_0x1117bd=document[_0xd90469(0x1f1)](_0xd90469(0x167)),_0x361b84=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x184b95=new Date();_0x184b95[_0xd90469(0x25b)](0x0,0x0,0x0,0x0);const _0x406d7e=getLocalDateStr(new Date()),_0x18426e=document[_0xd90469(0x199)](),_0x19eb15=document['createDocumentFragment']();for(let _0x11f3f2=_0x474f72;_0x11f3f2<=_0x54dd61;_0x11f3f2++){const _0x1db3f9=new Date(_0x184b95);_0x1db3f9[_0xd90469(0x1f0)](_0x1db3f9[_0xd90469(0x247)]()+_0x11f3f2);const _0x197022=getLocalDateStr(_0x1db3f9);let _0x31ce48=_0x1db3f9['getDay']()-0x1;if(_0x31ce48===-0x1)_0x31ce48=0x6;const _0x15e355=_0x197022===_0x406d7e,_0x46a02d=document['createElement'](_0xd90469(0x17f));_0x46a02d[_0xd90469(0x201)]=_0xd90469(0x231)+(_0x15e355?_0xd90469(0x220):''),_0x46a02d[_0xd90469(0x188)]('data-date',_0x197022),_0x46a02d[_0xd90469(0x23a)]=_0xd90469(0x19b)+_0x361b84[_0x31ce48]+'</div><div\x20class=\x22dch-num\x22>'+_0x1db3f9[_0xd90469(0x247)]()+_0xd90469(0x190),_0x18426e[_0xd90469(0x241)](_0x46a02d);const _0xb8dd9=document[_0xd90469(0x163)](_0xd90469(0x17f));_0xb8dd9['className']=_0xd90469(0x256)+(_0x15e355?_0xd90469(0x220):''),_0xb8dd9[_0xd90469(0x188)](_0xd90469(0x1c1),_0x197022),_0xb8dd9[_0xd90469(0x188)](_0xd90469(0x1f6),_0x31ce48),_0x19eb15[_0xd90469(0x241)](_0xb8dd9);}_0x253861[_0xd90469(0x236)](_0x18426e,_0x253861['firstChild']),_0x1117bd[_0xd90469(0x236)](_0x19eb15,_0x1117bd[_0xd90469(0x19c)]('.day-column'));}function hexToRgba(_0x364b11,_0x3cad9f){const _0x5a9fe4=a3_0x1ff826;let _0x112fd8;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5a9fe4(0x187)](_0x364b11))return _0x112fd8=_0x364b11['substring'](0x1)[_0x5a9fe4(0x233)](''),_0x112fd8[_0x5a9fe4(0x16c)]==0x3&&(_0x112fd8=[_0x112fd8[0x0],_0x112fd8[0x0],_0x112fd8[0x1],_0x112fd8[0x1],_0x112fd8[0x2],_0x112fd8[0x2]]),_0x112fd8='0x'+_0x112fd8[_0x5a9fe4(0x175)](''),'rgba('+[_0x112fd8>>0x10&0xff,_0x112fd8>>0x8&0xff,_0x112fd8&0xff][_0x5a9fe4(0x175)](',')+','+_0x3cad9f+')';return _0x5a9fe4(0x246)+_0x3cad9f+')';}let confirmResolver=null;function showCustomConfirm(_0x4ff8d8,_0x32fc80,_0x5df15d=!![]){const _0xf5b5ef=a3_0x1ff826;document[_0xf5b5ef(0x1f1)](_0xf5b5ef(0x16e))[_0xf5b5ef(0x1eb)]=_0x4ff8d8,document[_0xf5b5ef(0x1f1)](_0xf5b5ef(0x18d))[_0xf5b5ef(0x1eb)]=_0x32fc80;const _0x1d68f5=document['getElementById']('ccYesBtn');return _0x5df15d?(_0x1d68f5[_0xf5b5ef(0x193)]['color']=_0xf5b5ef(0x228),_0x1d68f5[_0xf5b5ef(0x193)][_0xf5b5ef(0x240)]=_0xf5b5ef(0x23f)):(_0x1d68f5[_0xf5b5ef(0x193)]['color']=_0xf5b5ef(0x20a),_0x1d68f5[_0xf5b5ef(0x193)][_0xf5b5ef(0x240)]=_0xf5b5ef(0x23f)),new Promise(_0x2efdbf=>{const _0x50ca82=_0xf5b5ef;confirmResolver=_0x2efdbf,document['getElementById'](_0x50ca82(0x1a7))[_0x50ca82(0x212)][_0x50ca82(0x1db)](_0x50ca82(0x1e0));});}function resolveCustomConfirm(_0x1ec24b){const _0x54692d=a3_0x1ff826;document['getElementById'](_0x54692d(0x1a7))[_0x54692d(0x212)][_0x54692d(0x1e7)](_0x54692d(0x1e0));if(confirmResolver)confirmResolver(_0x1ec24b);}async function tryCancelCurrentSession(){const _0x55a4ab=a3_0x1ff826;if(!currentSession)return;const _0x7eee24=await showCustomConfirm(_0x55a4ab(0x1ce),_0x55a4ab(0x227),!![]);if(!_0x7eee24)return;const _0x126511=currentSession;closeAllSheets(),sessions=sessions[_0x55a4ab(0x242)](_0x75d8da=>_0x75d8da['id']!==_0x126511['id']),reRenderBlocks(),showToast(_0x55a4ab(0x206)),lastUserActionTime=Date[_0x55a4ab(0x21c)]();try{const _0x3b92a8=window[_0x55a4ab(0x18b)]?.[_0x55a4ab(0x1e1)],_0x21e0cb=await fetch(API_URL,{'method':_0x55a4ab(0x1da),'body':JSON[_0x55a4ab(0x166)]({'action':_0x55a4ab(0x1b7),'init_data':_0x3b92a8?.[_0x55a4ab(0x1ed)]||'','coachId':_0x126511[_0x55a4ab(0x1ca)],'dateStr':_0x126511[_0x55a4ab(0x1ad)],'sessionId':_0x126511['id']})});if(_0x21e0cb['ok'])DataManager[_0x55a4ab(0x248)]();}catch(_0x42cc40){showToast(_0x55a4ab(0x1bc));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4f56d7=a3_0x1ff826;if(!currentSession)return;document[_0x4f56d7(0x1f1)](_0x4f56d7(0x165))[_0x4f56d7(0x212)][_0x4f56d7(0x1e7)](_0x4f56d7(0x174)),document['getElementById'](_0x4f56d7(0x200))['classList'][_0x4f56d7(0x1db)](_0x4f56d7(0x174));const _0x509b06=document[_0x4f56d7(0x1f1)](_0x4f56d7(0x214)),_0x43e8ce=document[_0x4f56d7(0x1f1)](_0x4f56d7(0x1a1));_0x509b06[_0x4f56d7(0x23a)]='',_0x43e8ce[_0x4f56d7(0x23a)]=_0x4f56d7(0x1a5);const [_0x447401,_0x2c4eb8]=currentSession[_0x4f56d7(0x229)][_0x4f56d7(0x233)](':')['map'](Number),[_0x4f03bc,_0x3f5384]=currentSession[_0x4f56d7(0x1f7)]['split'](':')[_0x4f56d7(0x1ee)](Number),_0x2ee860=_0x4f03bc*0x3c+_0x3f5384-(_0x447401*0x3c+_0x2c4eb8);try{const _0x2750f1=window['Telegram']?.[_0x4f56d7(0x1e1)],_0xc4ed86=await fetch(API_URL,{'method':'POST','body':JSON[_0x4f56d7(0x166)]({'action':_0x4f56d7(0x183),'coachId':currentSession['coachId'],'duration':_0x2ee860,'init_data':_0x2750f1?.[_0x4f56d7(0x1ed)]||'','excludeSessionId':currentSession['id']})}),_0x56fa62=await _0xc4ed86[_0x4f56d7(0x178)]();_0x56fa62['ok']&&_0x56fa62[_0x4f56d7(0x1d5)]?(availableSlotsCache=_0x56fa62['data'],renderRescheduleDates()):_0x43e8ce[_0x4f56d7(0x23a)]=_0x4f56d7(0x205);}catch(_0x31f44c){_0x43e8ce[_0x4f56d7(0x23a)]=_0x4f56d7(0x185);}}function renderRescheduleDates(){const _0x1abef8=a3_0x1ff826,_0x20c5d7=document[_0x1abef8(0x1f1)](_0x1abef8(0x214));_0x20c5d7['innerHTML']='';const _0x1ca790=Object[_0x1abef8(0x1a8)](availableSlotsCache)[_0x1abef8(0x22b)](),_0x1d7511=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1ca790[_0x1abef8(0x16c)]===0x0){document[_0x1abef8(0x1f1)](_0x1abef8(0x1a1))[_0x1abef8(0x23a)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x1ca790['forEach']((_0x2d6f4b,_0x1f63fb)=>{const _0x18f156=_0x1abef8,_0x5ec501=new Date(_0x2d6f4b),_0x1d23e8=_0x1d7511[_0x5ec501['getDay']()],_0x46e780=_0x5ec501[_0x18f156(0x247)](),_0x34f064=document[_0x18f156(0x163)](_0x18f156(0x17f));_0x34f064[_0x18f156(0x201)]=_0x18f156(0x1e9);if(_0x1f63fb===0x0)_0x34f064[_0x18f156(0x212)]['add'](_0x18f156(0x1f2));_0x34f064[_0x18f156(0x23a)]='<div\x20class=\x22rs-day-name\x22>'+_0x1d23e8+_0x18f156(0x1cc)+_0x46e780+_0x18f156(0x190),_0x34f064[_0x18f156(0x245)]=()=>selectRsDate(_0x2d6f4b,_0x34f064),_0x20c5d7[_0x18f156(0x241)](_0x34f064);}),selectRsDate(_0x1ca790[0x0],_0x20c5d7[_0x1abef8(0x210)]);}function selectRsDate(_0x3956f3,_0x17e029){const _0x35bcc0=a3_0x1ff826;selectedRsDate=_0x3956f3,document[_0x35bcc0(0x1f8)]('.rs-date-chip')['forEach'](_0x48a92b=>_0x48a92b[_0x35bcc0(0x212)][_0x35bcc0(0x1e7)](_0x35bcc0(0x1f2)));if(_0x17e029)_0x17e029[_0x35bcc0(0x212)][_0x35bcc0(0x1db)]('active');const _0x322979=document[_0x35bcc0(0x1f1)](_0x35bcc0(0x1a1));_0x322979[_0x35bcc0(0x23a)]='';const _0x385425=availableSlotsCache[_0x3956f3]||[];if(_0x385425[_0x35bcc0(0x16c)]===0x0){_0x322979[_0x35bcc0(0x23a)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x385425[_0x35bcc0(0x181)](_0x15d270=>{const _0x22f8fd=_0x35bcc0,_0x3d7a0f=document[_0x22f8fd(0x163)](_0x22f8fd(0x1d0));_0x3d7a0f[_0x22f8fd(0x201)]=_0x22f8fd(0x234),_0x3d7a0f[_0x22f8fd(0x1eb)]=_0x15d270,_0x3d7a0f[_0x22f8fd(0x245)]=()=>confirmReschedule(_0x15d270),_0x322979[_0x22f8fd(0x241)](_0x3d7a0f);});}async function confirmReschedule(_0x22f2d1){const _0x2e94b1=a3_0x1ff826,_0x3fcc6b=new Date(selectedRsDate),_0x65c6e4=_0x3fcc6b['toLocaleDateString'](_0x2e94b1(0x24b),{'day':'numeric','month':_0x2e94b1(0x1c2)}),_0x375e02=await showCustomConfirm(_0x2e94b1(0x258),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x65c6e4+_0x2e94b1(0x237)+_0x22f2d1+'?',![]);if(!_0x375e02)return;closeAllSheets(),showToast(_0x2e94b1(0x1e8)),lastUserActionTime=Date[_0x2e94b1(0x21c)]();const _0x2af6c4=currentSession['dateStr'],_0x266db1=currentSession['id'],[_0x14336e,_0x3da071]=currentSession[_0x2e94b1(0x229)][_0x2e94b1(0x233)](':')[_0x2e94b1(0x1ee)](Number),[_0x10395e,_0x3b6956]=currentSession[_0x2e94b1(0x1f7)][_0x2e94b1(0x233)](':')[_0x2e94b1(0x1ee)](Number),_0x447f14=_0x10395e*0x3c+_0x3b6956-(_0x14336e*0x3c+_0x3da071),[_0x221087,_0x2fe871]=_0x22f2d1[_0x2e94b1(0x233)](':')[_0x2e94b1(0x1ee)](Number),_0x474491=_0x221087*0x3c+_0x2fe871+_0x447f14,_0x203efa=Math[_0x2e94b1(0x17a)](_0x474491/0x3c),_0x4d9a87=_0x474491%0x3c,_0x3a2d81=String(_0x203efa)[_0x2e94b1(0x1de)](0x2,'0')+':'+String(_0x4d9a87)[_0x2e94b1(0x1de)](0x2,'0'),_0x539e0d=sessions[_0x2e94b1(0x24c)](_0xfa377=>_0xfa377['id']===_0x266db1);_0x539e0d!==-0x1&&(sessions[_0x539e0d][_0x2e94b1(0x1ad)]=selectedRsDate,sessions[_0x539e0d][_0x2e94b1(0x229)]=_0x22f2d1,sessions[_0x539e0d][_0x2e94b1(0x1f7)]=_0x3a2d81,reRenderBlocks());try{const _0x5518d2=window[_0x2e94b1(0x18b)]?.[_0x2e94b1(0x1e1)],_0x4da976=await fetch(API_URL,{'method':'POST','body':JSON[_0x2e94b1(0x166)]({'action':_0x2e94b1(0x1f9),'init_data':_0x5518d2?.['initData']||'','oldSessionId':_0x266db1,'oldDate':_0x2af6c4,'newDate':selectedRsDate,'newTime':_0x22f2d1,'coachId':currentSession[_0x2e94b1(0x1ca)]})}),_0x158a6f=await _0x4da976[_0x2e94b1(0x178)]();!_0x158a6f['ok']?(showToast(_0x2e94b1(0x1cd)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2e94b1(0x248)]());}catch(_0x208dba){showToast(_0x2e94b1(0x1bc));}}document[a3_0x1ff826(0x22f)](a3_0x1ff826(0x1b8),init);