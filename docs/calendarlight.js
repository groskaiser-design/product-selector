function a3_0x55a6(){const _0x197bc5=['end','rs-time-btn','var(--acc-green)','month','today','uc_client_list','%\x20-\x204px)','</div>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','Error\x20setting\x20color:','then','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','cancelHint','top','analyticsList','innerHTML','toLocaleDateString','analyticsSheet','day-column\x20','slice','POST','all','rsSlotsGrid','long','show','backgroundColor','fontWeight','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','data-day-idx','\x20—á.','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','querySelector','rsDatesTrack','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','block','813726SNwect','getHours','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','settings','seriesId','timeLineBadge','clients','gridColumns','.day-col-header[data-date=\x22','status','className','daysHeaderTrack','auto','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','stringify','strokeDashoffset','BackButton','div','DOMContentLoaded','keys','client_load','width','getTime','.btn-reschedule','\x20status-completed','rgba(10,\x20132,\x20255,\x20','</div><div\x20class=\x22rs-day-num\x22>','substr','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Unknown','matrixViewport','done','detTime','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','setDate','Error\x20setting\x20back\x20button:','3239270ZUUKIp','initData','#ff453a','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','day-col-header\x20','value','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>',':00</span>','active','findIndex','overlay','data','clientId','timeColumn','href','max','anEnd','2073654NMVDib','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','px\x200px','numeric','getFullYear','ccYesBtn','color','add','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','padStart','client_cancel','split','forEach','getAttribute','calc(','colIndex','zIndex','sid','1taeZVq','calendar','expand','T23:59:59','querySelectorAll','borderLeftColor','planned','getMonth','parse','search','find','mini','map','reschedule','week','appendChild','custom','toUpperCase','onclick','WebApp','getItem','setItem','remove','apply','.rs-date-chip','setAttribute','(((.+)+)+)+$','detNote','visible','classList','</span>\x20/\x20','dateStr','setHeaderColor','loadLocal','detDate','px\x20-','round','–û—Ç–º–µ–Ω–µ–Ω–æ','anPercent','\x20-\x20','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','anCustomDates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','min','textContent','clientWidth','v9.5-CLIENT-ANALYTICS','836Ndkcpy','constructor','syncLoad','.sheet','toLocaleString','uc_client_sessions','sort','uc_client_settings','error','left','router.html','coach_profiles','start','getDate','height','globalTimeLine','</div><div\x20class=\x22dch-num\x22>','5275900MhsMNB','location','saveLocally','scrollWidth','join','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','now','open','addEventListener','length','Telegram','1924652sSkEdY','getMinutes','data-date','ccText','getElementById','push','anStart','note','createElement','#050505','log','cancel_window','cancelled','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','get_slots','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','scrollTo','headerMonth','.day-column','anDonutCircle','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setMonth','–∑–∞\x20','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','json','event-card','7767qluCGa','offClick','coachId','style','scrollLeft','ccTitle','ready','disableVerticalSwipes','<div\x20class=\x22dch-day\x22>','offsetLeft','setHours','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getDay','total','createDocumentFragment','setBackgroundColor','\x20–∏–∑\x20','offsetWidth','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','ranges','toString','ru-RU','scrollTop','rs-date-chip','600','481072qgBiuk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','charAt','test','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','filter','pattern','49nPSioC','insertBefore','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','backgroundPosition','blocked-range-part\x20stripe-bg','<div\x20class=\x22rs-day-name\x22>','customConfirm','scroll','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','time-label','completed','button','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','onClick','applyData','detailsSheet','display','none'];a3_0x55a6=function(){return _0x197bc5;};return a3_0x55a6();}const a3_0x161e6c=a3_0x45c2;(function(_0x5e7c30,_0x53a349){const _0x1a1b3f=a3_0x45c2,_0x40ad53=_0x5e7c30();while(!![]){try{const _0x2f047b=-parseInt(_0x1a1b3f(0x101))/0x1*(-parseInt(_0x1a1b3f(0x14c))/0x2)+-parseInt(_0x1a1b3f(0x166))/0x3*(parseInt(_0x1a1b3f(0x130))/0x4)+parseInt(_0x1a1b3f(0xde))/0x5+-parseInt(_0x1a1b3f(0xef))/0x6+-parseInt(_0x1a1b3f(0x84))/0x7*(-parseInt(_0x1a1b3f(0x7c))/0x8)+-parseInt(_0x1a1b3f(0xb9))/0x9+-parseInt(_0x1a1b3f(0x141))/0xa;if(_0x2f047b===_0x53a349)break;else _0x40ad53['push'](_0x40ad53['shift']());}catch(_0x21838c){_0x40ad53['push'](_0x40ad53['shift']());}}}(a3_0x55a6,0x80844));const APP_VERSION=a3_0x161e6c(0x12f),API_URL=a3_0x161e6c(0xf0),GRID_H=0x3c,KEY_SESSIONS=a3_0x161e6c(0x135),KEY_SETTINGS=a3_0x161e6c(0x137),KEY_CLIENTS=a3_0x161e6c(0x9b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5a43ab=a3_0x161e6c,_0x36e39d=(function(){let _0x3f2a2d=!![];return function(_0x24367c,_0x176763){const _0x25412d=_0x3f2a2d?function(){const _0x536d50=a3_0x45c2;if(_0x176763){const _0x4c14e6=_0x176763[_0x536d50(0x118)](_0x24367c,arguments);return _0x176763=null,_0x4c14e6;}}:function(){};return _0x3f2a2d=![],_0x25412d;};}()),_0x56eb7c=_0x36e39d(this,function(){const _0x3dd4e1=a3_0x45c2;return _0x56eb7c[_0x3dd4e1(0x77)]()['search'](_0x3dd4e1(0x11b))['toString']()[_0x3dd4e1(0x131)](_0x56eb7c)[_0x3dd4e1(0x10a)](_0x3dd4e1(0x11b));});_0x56eb7c();try{const _0xdd59d4=window[_0x5a43ab(0x14b)]?.[_0x5a43ab(0x114)];if(!_0xdd59d4)return;_0xdd59d4[_0x5a43ab(0x69)](),_0xdd59d4[_0x5a43ab(0x103)]();try{_0xdd59d4[_0x5a43ab(0x121)](_0x5a43ab(0x155)),_0xdd59d4[_0x5a43ab(0x72)]&&_0xdd59d4[_0x5a43ab(0x72)](_0x5a43ab(0x155));}catch(_0x55f694){console[_0x5a43ab(0x156)](_0x5a43ab(0x9f),_0x55f694);}try{_0xdd59d4[_0x5a43ab(0xc9)]&&(_0xdd59d4[_0x5a43ab(0xc9)][_0x5a43ab(0xae)](),_0xdd59d4[_0x5a43ab(0xc9)][_0x5a43ab(0x167)](),_0xdd59d4[_0x5a43ab(0xc9)][_0x5a43ab(0x91)](function(){const _0x2da27c=_0x5a43ab;window[_0x2da27c(0x142)][_0x2da27c(0xec)]=_0x2da27c(0x13a);}));}catch(_0x163818){console[_0x5a43ab(0x156)](_0x5a43ab(0xdd),_0x163818);}try{if(_0xdd59d4[_0x5a43ab(0x6a)])_0xdd59d4[_0x5a43ab(0x6a)]();}catch(_0x96beeb){}}catch(_0x25f90b){console[_0x5a43ab(0x138)]('Critical\x20TMA\x20Error:',_0x25f90b);}}());function isAdmin(){const _0x4219b8=a3_0x161e6c;try{const _0x54a922=Number(window[_0x4219b8(0x14b)]?.[_0x4219b8(0x114)]?.['initDataUnsafe']?.['user']?.['id']);return _0x54a922===0xbaf7174;}catch(_0x42764c){return![];}}const DataManager={'saveLocally'(){const _0x40098b=a3_0x161e6c;try{localStorage[_0x40098b(0x116)](KEY_SESSIONS,JSON[_0x40098b(0xc7)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x40098b(0xc7)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1d6adf){}},'loadLocal'(){const _0x3a04ba=a3_0x161e6c;try{const _0x150cb3=localStorage[_0x3a04ba(0x115)](KEY_SESSIONS);if(_0x150cb3)sessions=JSON[_0x3a04ba(0x109)](_0x150cb3);const _0x16fdb4=localStorage[_0x3a04ba(0x115)](KEY_CLIENTS);if(_0x16fdb4)clients=JSON[_0x3a04ba(0x109)](_0x16fdb4);const _0x30df68=localStorage[_0x3a04ba(0x115)](KEY_SETTINGS);if(_0x30df68){const _0x5aa61d=JSON['parse'](_0x30df68);if(_0x5aa61d[_0x3a04ba(0x83)])availabilityPattern=_0x5aa61d[_0x3a04ba(0x83)];if(_0x5aa61d[_0x3a04ba(0x76)])specialRanges=_0x5aa61d[_0x3a04ba(0x76)];if(_0x5aa61d['exceptions'])dateExceptions=_0x5aa61d[_0x3a04ba(0xd5)];}}catch(_0x318a9f){}},async 'syncLoad'(){const _0x51cf42=a3_0x161e6c,_0x3fff1c=new Date(),_0x429d17=_0x3fff1c['getFullYear']()+'-'+String(_0x3fff1c[_0x51cf42(0x108)]()+0x1)['padStart'](0x2,'0'),_0x11af85=new Date(_0x3fff1c);_0x11af85[_0x51cf42(0x161)](_0x3fff1c['getMonth']()+0x1);const _0x4764d6=_0x11af85[_0x51cf42(0xf3)]()+'-'+String(_0x11af85[_0x51cf42(0x108)]()+0x1)[_0x51cf42(0xf8)](0x2,'0'),_0x2ff2ea=Date[_0x51cf42(0x147)]();try{const _0x2ae781=window[_0x51cf42(0x14b)]?.['WebApp'],_0x4b406c=_0x2ae781?.['initData']||'',[_0x237de0,_0x251f94]=await Promise[_0x51cf42(0xab)]([fetch(API_URL,{'method':_0x51cf42(0xaa),'body':JSON['stringify']({'action':_0x51cf42(0xcd),'init_data':_0x4b406c,'month_str':_0x429d17})})[_0x51cf42(0xa0)](_0x1893e5=>_0x1893e5[_0x51cf42(0x164)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x51cf42(0xc7)]({'action':_0x51cf42(0xcd),'init_data':_0x4b406c,'month_str':_0x4764d6})})[_0x51cf42(0xa0)](_0x767b2a=>_0x767b2a['json']())]);if(lastUserActionTime>_0x2ff2ea){console['log'](_0x51cf42(0x75));return;}if(_0x237de0['ok'])this[_0x51cf42(0x92)](_0x237de0[_0x51cf42(0xe9)],_0x429d17);if(_0x251f94['ok'])this[_0x51cf42(0x92)](_0x251f94['data'],_0x4764d6);this[_0x51cf42(0x143)]();}catch(_0x1af0d9){}},'applyData'(_0x1d5aa6,_0x4517e8){const _0x38442f=a3_0x161e6c;if(!_0x1d5aa6)return;if(_0x1d5aa6[_0x38442f(0xbc)]){if(_0x1d5aa6[_0x38442f(0xbc)]['pattern'])availabilityPattern=_0x1d5aa6[_0x38442f(0xbc)][_0x38442f(0x83)];if(_0x1d5aa6[_0x38442f(0xbc)][_0x38442f(0x76)])specialRanges=_0x1d5aa6[_0x38442f(0xbc)][_0x38442f(0x76)];if(_0x1d5aa6[_0x38442f(0xbc)][_0x38442f(0xd5)])dateExceptions=_0x1d5aa6[_0x38442f(0xbc)]['exceptions'];}if(_0x1d5aa6[_0x38442f(0xbf)]&&Array['isArray'](_0x1d5aa6[_0x38442f(0xbf)]))clients=_0x1d5aa6[_0x38442f(0xbf)];_0x1d5aa6[_0x38442f(0x13b)]&&(coachProfiles={...coachProfiles,..._0x1d5aa6[_0x38442f(0x13b)]}),_0x1d5aa6['calendar']&&(sessions=sessions[_0x38442f(0x82)](_0x384697=>!_0x384697[_0x38442f(0x120)]['startsWith'](_0x4517e8)),Object[_0x38442f(0xcc)](_0x1d5aa6[_0x38442f(0x102)])[_0x38442f(0xfb)](_0x4af98a=>{const _0x100aa2=_0x38442f,_0x2c4796=_0x1d5aa6[_0x100aa2(0x102)][_0x4af98a];_0x2c4796[_0x100aa2(0xfb)](_0x388f1c=>{const _0x469e5a=_0x100aa2;sessions[_0x469e5a(0x151)]({'id':_0x388f1c['i'],'clientId':_0x388f1c['c'],'coachId':_0x388f1c['cid'],'dateStr':_0x4517e8+'-'+_0x4af98a[_0x469e5a(0xf8)](0x2,'0'),'start':_0x388f1c['s'],'end':_0x388f1c['e'],'note':_0x388f1c['n']||'','status':_0x388f1c['st']||_0x469e5a(0x107),'seriesId':_0x388f1c[_0x469e5a(0x100)]});});})),reRenderBlocks();}};function init(){const _0x270c7b=a3_0x161e6c;DataManager[_0x270c7b(0x122)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x270c7b(0x8b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x270c7b(0x132)]();}function renderTimeColumn(){const _0x2fb626=a3_0x161e6c,_0x24c141=document['getElementById'](_0x2fb626(0xeb)),_0x1a4d02=document[_0x2fb626(0x150)]('timeLineBadge');_0x24c141['innerHTML']='',_0x24c141[_0x2fb626(0x110)](_0x1a4d02);for(let _0x278188=0x0;_0x278188<0x18;_0x278188++){const _0x4e6b5c=document[_0x2fb626(0x154)](_0x2fb626(0xca));_0x4e6b5c[_0x2fb626(0xc3)]=_0x2fb626(0x8d);if(_0x278188>0x0)_0x4e6b5c[_0x2fb626(0xa5)]='<span>'+String(_0x278188)[_0x2fb626(0xf8)](0x2,'0')+_0x2fb626(0xe5);_0x24c141[_0x2fb626(0x110)](_0x4e6b5c);}}function renderDayRange(_0x1b03b4,_0x1dca15){const _0x1f41bb=a3_0x161e6c,_0x3fee33=document['getElementById'](_0x1f41bb(0xc4)),_0x2c220e=document[_0x1f41bb(0x150)](_0x1f41bb(0xc0)),_0x8a1d60=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x11cb4c=new Date();_0x11cb4c['setHours'](0x0,0x0,0x0,0x0);const _0x27f55e=getLocalDateStr(new Date());for(let _0x1fb168=_0x1b03b4;_0x1fb168<=_0x1dca15;_0x1fb168++){const _0x2022cc=new Date(_0x11cb4c);_0x2022cc[_0x1f41bb(0xdc)](_0x2022cc[_0x1f41bb(0x13d)]()+_0x1fb168);const _0x4f5f54=getLocalDateStr(_0x2022cc);let _0xb71e03=_0x2022cc[_0x1f41bb(0x6f)]()-0x1;if(_0xb71e03===-0x1)_0xb71e03=0x6;const _0x3700db=_0x4f5f54===_0x27f55e,_0x5ec9c9=document[_0x1f41bb(0x154)]('div');_0x5ec9c9[_0x1f41bb(0xc3)]=_0x1f41bb(0xe2)+(_0x3700db?'today':''),_0x5ec9c9[_0x1f41bb(0x11a)](_0x1f41bb(0x14e),_0x4f5f54),_0x5ec9c9[_0x1f41bb(0xa5)]='<div\x20class=\x22dch-day\x22>'+_0x8a1d60[_0xb71e03]+_0x1f41bb(0x140)+_0x2022cc['getDate']()+_0x1f41bb(0x9d),_0x3fee33[_0x1f41bb(0x110)](_0x5ec9c9);const _0x55586d=document[_0x1f41bb(0x154)](_0x1f41bb(0xca));_0x55586d[_0x1f41bb(0xc3)]=_0x1f41bb(0xa8)+(_0x3700db?_0x1f41bb(0x9a):''),_0x55586d['setAttribute'](_0x1f41bb(0x14e),_0x4f5f54),_0x55586d[_0x1f41bb(0x11a)](_0x1f41bb(0xb2),_0xb71e03),_0x2c220e['appendChild'](_0x55586d);}}function reRenderBlocks(){const _0x595aa4=a3_0x161e6c;document['querySelectorAll'](_0x595aa4(0x15e))[_0x595aa4(0xfb)](_0x228f46=>{const _0x131914=_0x595aa4;_0x228f46[_0x131914(0x105)](_0x131914(0x15b))[_0x131914(0xfb)](_0x2da47d=>_0x2da47d['remove']());const _0x4442b6=_0x228f46[_0x131914(0xfc)]('data-date'),_0x3de8ce=parseInt(_0x228f46[_0x131914(0xfc)](_0x131914(0xb2))),_0x5a2f0f=Math[_0x131914(0x125)](_0x228f46[_0x131914(0x6c)]);(availabilityPattern[_0x3de8ce]||[])[_0x131914(0xfb)](_0x496a7d=>{const _0x2d7a66=_0x131914,_0x5a646e=document['createElement'](_0x2d7a66(0xca));_0x5a646e[_0x2d7a66(0xc3)]='blocked-slot\x20stripe-bg',_0x5a646e[_0x2d7a66(0x169)][_0x2d7a66(0xa3)]=_0x496a7d*GRID_H+'px',_0x5a646e[_0x2d7a66(0x169)][_0x2d7a66(0x87)]='-'+_0x5a2f0f+_0x2d7a66(0x124)+_0x496a7d*GRID_H+'px',_0x228f46['appendChild'](_0x5a646e);});if(specialRanges[_0x131914(0x14a)]>0x0){const _0x60fe97=new Date(_0x4442b6+'T00:00:00')[_0x131914(0xcf)](),_0x5cc83a=new Date(_0x4442b6+_0x131914(0x104))[_0x131914(0xcf)]();specialRanges[_0x131914(0xfb)](_0x70ca4=>{const _0x5de095=_0x131914,_0x4b69b1=new Date(_0x70ca4[_0x5de095(0x13c)])[_0x5de095(0xcf)](),_0x6e709a=new Date(_0x70ca4[_0x5de095(0x96)])[_0x5de095(0xcf)](),_0x28a402=Math['max'](_0x60fe97,_0x4b69b1),_0x50da97=Math[_0x5de095(0x12c)](_0x5cc83a,_0x6e709a);if(_0x28a402<_0x50da97){const _0x362d05=(_0x28a402-_0x60fe97)/0x36ee80*GRID_H,_0x566cb1=(_0x50da97-_0x28a402)/0x36ee80*GRID_H,_0x4fb417=document[_0x5de095(0x154)](_0x5de095(0xca));_0x566cb1>=23.5*GRID_H?(_0x4fb417[_0x5de095(0xc3)]='day-off-overlay\x20stripe-bg',_0x4fb417['style'][_0x5de095(0x87)]='-'+_0x5a2f0f+_0x5de095(0xf1)):(_0x4fb417[_0x5de095(0xc3)]=_0x5de095(0x88),_0x4fb417['style'][_0x5de095(0xa3)]=_0x362d05+'px',_0x4fb417[_0x5de095(0x169)][_0x5de095(0x13e)]=_0x566cb1+'px',_0x4fb417['style'][_0x5de095(0x87)]='-'+_0x5a2f0f+_0x5de095(0x124)+_0x362d05+'px'),_0x228f46[_0x5de095(0x110)](_0x4fb417);}});}renderEventsForColumn(_0x228f46,_0x4442b6);});}function renderEventsForColumn(_0x3697c5,_0x8dfc7a){const _0x5bea62=a3_0x161e6c,_0x451ee2=sessions[_0x5bea62(0x82)](_0x111fd3=>_0x111fd3['dateStr']===_0x8dfc7a),_0x1e80ad=_0x451ee2[_0x5bea62(0x10d)](_0x158057=>{const _0x364e7b=_0x5bea62,[_0x2787aa,_0x2a3cf2]=_0x158057[_0x364e7b(0x13c)][_0x364e7b(0xfa)](':')[_0x364e7b(0x10d)](Number),[_0x4b1b50,_0xf3e739]=_0x158057[_0x364e7b(0x96)][_0x364e7b(0xfa)](':')[_0x364e7b(0x10d)](Number);return{'data':_0x158057,'start':_0x2787aa*0x3c+_0x2a3cf2,'end':_0x4b1b50*0x3c+_0xf3e739,'colIndex':0x0};});_0x1e80ad[_0x5bea62(0x136)]((_0x35cd94,_0x5779d2)=>_0x35cd94['start']-_0x5779d2[_0x5bea62(0x13c)]||_0x5779d2['end']-_0x5779d2[_0x5bea62(0x13c)]-(_0x35cd94[_0x5bea62(0x96)]-_0x35cd94[_0x5bea62(0x13c)]));const _0x2d7923=[];_0x1e80ad[_0x5bea62(0xfb)](_0x3c3232=>{const _0x534d93=_0x5bea62;let _0x553e1e=![];for(let _0x4a7754=0x0;_0x4a7754<_0x2d7923['length'];_0x4a7754++){const _0x4fdd5d=_0x2d7923[_0x4a7754];if(_0x3c3232[_0x534d93(0x13c)]>=_0x4fdd5d[_0x4fdd5d[_0x534d93(0x14a)]-0x1][_0x534d93(0x96)]){_0x4fdd5d[_0x534d93(0x151)](_0x3c3232),_0x3c3232['colIndex']=_0x4a7754,_0x553e1e=!![];break;}}!_0x553e1e&&(_0x2d7923[_0x534d93(0x151)]([_0x3c3232]),_0x3c3232[_0x534d93(0xfe)]=_0x2d7923[_0x534d93(0x14a)]-0x1);}),_0x1e80ad[_0x5bea62(0xfb)](_0x3b3f34=>{const _0x143765=_0x5bea62;let _0x298798=0x0;_0x1e80ad[_0x143765(0xfb)](_0x535bf5=>{const _0x3716d6=_0x143765;if(Math[_0x3716d6(0xed)](_0x3b3f34['start'],_0x535bf5[_0x3716d6(0x13c)])<Math[_0x3716d6(0x12c)](_0x3b3f34[_0x3716d6(0x96)],_0x535bf5[_0x3716d6(0x96)])&&_0x535bf5[_0x3716d6(0xfe)]>_0x298798)_0x298798=_0x535bf5[_0x3716d6(0xfe)];});const _0xc74665=_0x298798+0x1,_0x4e17b6=0x64/_0xc74665,_0x59facc=_0x3b3f34[_0x143765(0xfe)]*_0x4e17b6,_0x3ea6f8=document[_0x143765(0x154)](_0x143765(0xca)),_0x5c6ad7=_0x3b3f34['data'];let _0x3ab845='#0a84ff';if(clients&&clients[_0x143765(0x14a)]>0x0){const _0x3ccc24=clients[_0x143765(0x10b)](_0x28fb15=>String(_0x28fb15['id'])===String(_0x5c6ad7[_0x143765(0xea)]));if(_0x3ccc24&&_0x3ccc24[_0x143765(0xf5)])_0x3ab845=_0x3ccc24['color'];}const _0x16d5bd=_0x5c6ad7[_0x143765(0xc2)]===_0x143765(0x8e),_0x3aa6c6=_0x16d5bd?0x1:0.45;_0x3ea6f8[_0x143765(0xc3)]=_0x143765(0x165)+(_0x16d5bd?_0x143765(0xd1):''),_0x3ea6f8[_0x143765(0x169)][_0x143765(0xaf)]=hexToRgba(_0x3ab845,_0x3aa6c6),_0x3ea6f8[_0x143765(0x169)][_0x143765(0x106)]=_0x3ab845;const _0x1aa5f5=_0x3b3f34[_0x143765(0x13c)]/0x3c*GRID_H,_0xa3a62=(_0x3b3f34[_0x143765(0x96)]-_0x3b3f34[_0x143765(0x13c)])/0x3c*GRID_H;_0x3ea6f8[_0x143765(0x169)][_0x143765(0xa3)]=_0x1aa5f5+'px',_0x3ea6f8[_0x143765(0x169)]['height']=Math['max'](_0xa3a62,0x14)+'px',_0x3ea6f8[_0x143765(0x169)][_0x143765(0xce)]=_0x143765(0xfd)+_0x4e17b6+_0x143765(0x9c),_0x3ea6f8[_0x143765(0x169)][_0x143765(0x139)]=_0x143765(0xfd)+_0x59facc+'%\x20+\x202px)',_0x3ea6f8[_0x143765(0x169)][_0x143765(0xff)]=0xa+_0x3b3f34[_0x143765(0xfe)];if(_0x4e17b6<0x55)_0x3ea6f8['classList'][_0x143765(0xf6)](_0x143765(0x10c));let _0x1cb66d='';if(_0x5c6ad7[_0x143765(0xbd)])_0x1cb66d+=_0x143765(0xb1);if(_0x16d5bd)_0x1cb66d+=_0x143765(0x86);_0x3ea6f8[_0x143765(0xa5)]=_0x143765(0x7d)+_0x5c6ad7[_0x143765(0x13c)]+'\x20-\x20'+_0x5c6ad7['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cb66d+_0x143765(0xd6),_0x3ea6f8[_0x143765(0x113)]=_0x41c103=>{_0x41c103['stopPropagation'](),openDetails(_0x5c6ad7);},_0x3697c5[_0x143765(0x110)](_0x3ea6f8);});}function openAnalytics(){const _0x56a815=a3_0x161e6c,_0x7eac63=document[_0x56a815(0xb5)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x56a815(0x10f),_0x7eac63),openSheet(_0x56a815(0xa7));}function setAnalyticsPeriod(_0x56c878,_0x12d026){const _0x34952a=a3_0x161e6c;currentAnPeriod=_0x56c878,document[_0x34952a(0x105)]('.period-switch\x20.p-btn')['forEach'](_0x16ce79=>_0x16ce79[_0x34952a(0x11e)][_0x34952a(0x117)](_0x34952a(0xe6)));if(_0x12d026)_0x12d026[_0x34952a(0x11e)][_0x34952a(0xf6)](_0x34952a(0xe6));const _0xf15126=document[_0x34952a(0x150)](_0x34952a(0x12a));_0xf15126[_0x34952a(0x169)][_0x34952a(0x94)]=_0x56c878===_0x34952a(0x111)?'flex':_0x34952a(0x95);const _0x5578c4=new Date();let _0x23180a=new Date(),_0x26443c=new Date();if(_0x56c878===_0x34952a(0x10f))_0x23180a=getStartOfWeek(_0x5578c4),_0x26443c=new Date(_0x23180a),_0x26443c[_0x34952a(0xdc)](_0x26443c[_0x34952a(0x13d)]()+0x6);else{if(_0x56c878===_0x34952a(0x99))_0x23180a=new Date(_0x5578c4[_0x34952a(0xf3)](),_0x5578c4['getMonth'](),0x1),_0x26443c=new Date(_0x5578c4[_0x34952a(0xf3)](),_0x5578c4[_0x34952a(0x108)]()+0x1,0x0);else{!document[_0x34952a(0x150)](_0x34952a(0x152))[_0x34952a(0xe3)]&&(document[_0x34952a(0x150)](_0x34952a(0x152))[_0x34952a(0xe3)]=getLocalDateStr(_0x5578c4),document['getElementById']('anEnd')[_0x34952a(0xe3)]=getLocalDateStr(_0x5578c4));refreshAnalytics();return;}}document[_0x34952a(0x150)](_0x34952a(0x152))['value']=getLocalDateStr(_0x23180a),document[_0x34952a(0x150)]('anEnd')['value']=getLocalDateStr(_0x26443c),refreshAnalytics();}function refreshAnalytics(){const _0x172ac5=a3_0x161e6c,_0x4fb910=document[_0x172ac5(0x150)]('anStart')['value'],_0xf1df74=document['getElementById'](_0x172ac5(0xee))[_0x172ac5(0xe3)];if(!_0x4fb910||!_0xf1df74)return;const _0x7014d6=sessions[_0x172ac5(0x82)](_0x53c4b5=>_0x53c4b5['dateStr']>=_0x4fb910&&_0x53c4b5[_0x172ac5(0x120)]<=_0xf1df74&&_0x53c4b5[_0x172ac5(0xc2)]!==_0x172ac5(0x158)),_0x2e9651=_0x7014d6[_0x172ac5(0x14a)],_0x22d92d=_0x7014d6[_0x172ac5(0x82)](_0xa7ed2a=>_0xa7ed2a[_0x172ac5(0xc2)]==='completed')[_0x172ac5(0x14a)],_0x33dde9=_0x2e9651>0x0?Math[_0x172ac5(0x125)](_0x22d92d/_0x2e9651*0x64):0x0;document[_0x172ac5(0x150)](_0x172ac5(0x127))[_0x172ac5(0x12d)]=_0x33dde9+'%',document[_0x172ac5(0x150)]('anTotalStats')[_0x172ac5(0x12d)]=_0x22d92d+_0x172ac5(0x73)+_0x2e9651+_0x172ac5(0x80);const _0x374e3d=document[_0x172ac5(0x150)](_0x172ac5(0x15f)),_0x37333a=0x2*Math['PI']*0x23,_0x3f133c=_0x37333a-_0x33dde9/0x64*_0x37333a;_0x374e3d[_0x172ac5(0x169)][_0x172ac5(0xc8)]=_0x3f133c;const _0x3996d5={};_0x7014d6['forEach'](_0x44d4b4=>{const _0x1b8ee9=_0x172ac5,_0x4df6e7=_0x44d4b4[_0x1b8ee9(0x168)]||_0x1b8ee9(0xd7);if(!_0x3996d5[_0x4df6e7]){const _0x36e439='#'+_0x4df6e7[_0x1b8ee9(0x77)]()[_0x1b8ee9(0xd4)](0x0,0x6);_0x3996d5[_0x4df6e7]={'total':0x0,'done':0x0,'color':_0x36e439};}_0x3996d5[_0x4df6e7]['total']++;if(_0x44d4b4[_0x1b8ee9(0xc2)]===_0x1b8ee9(0x8e))_0x3996d5[_0x4df6e7][_0x1b8ee9(0xd9)]++;});const _0x76877f=document[_0x172ac5(0x150)](_0x172ac5(0xa4));_0x76877f[_0x172ac5(0xa5)]='';const _0x1e36df=Object['entries'](_0x3996d5)[_0x172ac5(0x136)]((_0x344269,_0x54800c)=>_0x54800c[0x1][_0x172ac5(0x70)]-_0x344269[0x1][_0x172ac5(0x70)]);if(_0x1e36df[_0x172ac5(0x14a)]===0x0){_0x76877f[_0x172ac5(0xa5)]=_0x172ac5(0x146);return;}_0x1e36df[_0x172ac5(0xfb)](([_0x2f3d9e,_0x25f600])=>{const _0x45be5a=_0x172ac5,_0xd69f1c=Math[_0x45be5a(0x125)](_0x25f600[_0x45be5a(0xd9)]/_0x25f600[_0x45be5a(0x70)]*0x64),_0x2f1421=document[_0x45be5a(0x154)](_0x45be5a(0xca));_0x2f1421[_0x45be5a(0xc3)]='client-stat-card',_0x2f1421[_0x45be5a(0x169)]['borderLeftColor']=_0x25f600[_0x45be5a(0xf5)],_0x2f1421['innerHTML']=_0x45be5a(0x12b)+_0x2f3d9e[_0x45be5a(0xd4)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x25f600[_0x45be5a(0xd9)]+_0x45be5a(0x11f)+_0x25f600[_0x45be5a(0x70)]+_0x45be5a(0xb7)+_0xd69f1c+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x76877f[_0x45be5a(0x110)](_0x2f1421);});}function openDetails(_0x20cca4){const _0x3632af=a3_0x161e6c;currentSession=_0x20cca4;const _0x2d2dae=new Date(_0x20cca4['dateStr']),_0x5cda80=_0x2d2dae['toLocaleDateString'](_0x3632af(0x78),{'weekday':_0x3632af(0xad),'day':'numeric','month':_0x3632af(0xad)});document['getElementById'](_0x3632af(0x123))[_0x3632af(0x12d)]=_0x5cda80[_0x3632af(0x7e)](0x0)[_0x3632af(0x112)]()+_0x5cda80[_0x3632af(0xa9)](0x1),document[_0x3632af(0x150)](_0x3632af(0xda))['textContent']=_0x20cca4[_0x3632af(0x13c)]+_0x3632af(0x128)+_0x20cca4['end'],document['getElementById'](_0x3632af(0x11c))[_0x3632af(0x12d)]=_0x20cca4[_0x3632af(0x153)]||_0x3632af(0x9e);const _0x2e51c1=document['getElementById']('detStatus'),_0x283c8f=document[_0x3632af(0x150)]('cancelContainer'),_0x356aca=_0x283c8f[_0x3632af(0xb5)]('.btn-cancel'),_0x11b554=_0x283c8f[_0x3632af(0xb5)](_0x3632af(0xd0)),_0x32f22f=document[_0x3632af(0x150)](_0x3632af(0xa2));if(_0x20cca4[_0x3632af(0xc2)]==='completed')_0x2e51c1[_0x3632af(0x12d)]=_0x3632af(0x129),_0x2e51c1['style'][_0x3632af(0xf5)]=_0x3632af(0x98),_0x283c8f[_0x3632af(0x169)][_0x3632af(0x94)]=_0x3632af(0x95);else{_0x2e51c1[_0x3632af(0x12d)]=_0x3632af(0xa1),_0x2e51c1['style'][_0x3632af(0xf5)]='var(--acc-blue)',_0x283c8f[_0x3632af(0x169)][_0x3632af(0x94)]=_0x3632af(0xb8);const _0x5446b9=new Date(_0x20cca4[_0x3632af(0x120)]+'T'+_0x20cca4[_0x3632af(0x13c)]),_0x203abe=new Date(),_0x20f916=(_0x5446b9-_0x203abe)/(0x3e8*0x3c*0x3c),_0x4b1684=coachProfiles[_0x20cca4[_0x3632af(0x168)]]&&coachProfiles[_0x20cca4[_0x3632af(0x168)]][_0x3632af(0x157)]?parseInt(coachProfiles[_0x20cca4['coachId']][_0x3632af(0x157)]):0x18;if(_0x4b1684===0x0||_0x20f916>=_0x4b1684)_0x356aca['style'][_0x3632af(0x94)]='block',_0x11b554['style'][_0x3632af(0x94)]=_0x3632af(0xb8),_0x32f22f[_0x3632af(0x169)][_0x3632af(0x94)]=_0x3632af(0x95);else{_0x356aca['style'][_0x3632af(0x94)]=_0x3632af(0x95),_0x11b554[_0x3632af(0x169)][_0x3632af(0x94)]=_0x3632af(0x95),_0x32f22f['style']['display']=_0x3632af(0xb8);let _0x3beb39=_0x4b1684===0x0?_0x3632af(0xf7):_0x3632af(0x162)+_0x4b1684+_0x3632af(0xb3);_0x32f22f['textContent']=_0x3632af(0xc6)+_0x3beb39+_0x3632af(0x163);}}document[_0x3632af(0x150)]('overlay')['classList'][_0x3632af(0xf6)](_0x3632af(0xe6)),document['getElementById'](_0x3632af(0x93))[_0x3632af(0x11e)]['add']('open');}function closeAllSheets(){const _0x4e074c=a3_0x161e6c;document[_0x4e074c(0x150)](_0x4e074c(0xe8))[_0x4e074c(0x11e)]['remove'](_0x4e074c(0xe6)),document[_0x4e074c(0x105)](_0x4e074c(0x133))[_0x4e074c(0xfb)](_0x46f752=>_0x46f752[_0x4e074c(0x11e)]['remove']('open'));}function openSheet(_0x48e5b4){const _0x12709d=a3_0x161e6c;document[_0x12709d(0x150)](_0x12709d(0xe8))[_0x12709d(0x11e)]['add'](_0x12709d(0xe6)),document[_0x12709d(0x150)](_0x48e5b4)[_0x12709d(0x11e)]['add'](_0x12709d(0x148));}function getLocalDateStr(_0x3f42e3){const _0x184257=a3_0x161e6c,_0x473f53=_0x3f42e3[_0x184257(0xf3)](),_0x98fc48=String(_0x3f42e3['getMonth']()+0x1)[_0x184257(0xf8)](0x2,'0'),_0x4a41aa=String(_0x3f42e3['getDate']())[_0x184257(0xf8)](0x2,'0');return _0x473f53+'-'+_0x98fc48+'-'+_0x4a41aa;}function getStartOfWeek(_0x173630){const _0x27cf3f=a3_0x161e6c,_0x4f6e08=new Date(_0x173630),_0x4ff55d=_0x4f6e08[_0x27cf3f(0x6f)](),_0x490d9e=_0x4f6e08[_0x27cf3f(0x13d)]()-_0x4ff55d+(_0x4ff55d===0x0?-0x6:0x1);return _0x4f6e08[_0x27cf3f(0xdc)](_0x490d9e),_0x4f6e08[_0x27cf3f(0x6d)](0x0,0x0,0x0,0x0),_0x4f6e08;}function scrollToToday(){const _0x35810a=getLocalDateStr(new Date());setTimeout(()=>{const _0xfc64be=a3_0x45c2,_0x1cc17f=document[_0xfc64be(0xb5)](_0xfc64be(0xc1)+_0x35810a+'\x22]');if(_0x1cc17f){const _0x34449f=document[_0xfc64be(0x150)]('matrixViewport'),_0xe885b6=_0x1cc17f['offsetLeft']-_0x34449f[_0xfc64be(0x12e)]/0x2+_0x1cc17f[_0xfc64be(0x74)]/0x2;_0x34449f[_0xfc64be(0x15c)]({'left':_0xe885b6,'behavior':_0xfc64be(0xc5)}),_0x34449f[_0xfc64be(0x79)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d0531=a3_0x161e6c,_0x5c2f0a=new Date(),_0x5a7c1b=document[_0x3d0531(0x150)](_0x3d0531(0x13f)),_0xd0c602=document['getElementById'](_0x3d0531(0xbe)),_0x2822cd=(_0x5c2f0a[_0x3d0531(0xba)]()*0x3c+_0x5c2f0a[_0x3d0531(0x14d)]())/0x3c*GRID_H;_0x5a7c1b[_0x3d0531(0x169)][_0x3d0531(0xa3)]=_0x2822cd+'px',_0x5a7c1b['style'][_0x3d0531(0x94)]=_0x3d0531(0xb8),_0xd0c602[_0x3d0531(0x169)][_0x3d0531(0xa3)]=_0x2822cd+'px',_0xd0c602[_0x3d0531(0x169)]['display']=_0x3d0531(0xb8),_0xd0c602['textContent']=String(_0x5c2f0a[_0x3d0531(0xba)]())['padStart'](0x2,'0')+':'+String(_0x5c2f0a['getMinutes']())[_0x3d0531(0xf8)](0x2,'0');}function onScroll(){const _0x1ef3ea=a3_0x161e6c,_0x1a5eee=document['getElementById'](_0x1ef3ea(0xd8)),_0x1a45f6=document[_0x1ef3ea(0x105)]('.day-col-header');for(let _0x2ca476 of _0x1a45f6)if(_0x2ca476[_0x1ef3ea(0x6c)]>=_0x1a5eee[_0x1ef3ea(0x67)]){const _0x3644c2=new Date(_0x2ca476[_0x1ef3ea(0xfc)](_0x1ef3ea(0x14e)));document[_0x1ef3ea(0x150)](_0x1ef3ea(0x15d))[_0x1ef3ea(0x12d)]=_0x3644c2[_0x1ef3ea(0x134)]('ru',{'month':_0x1ef3ea(0xad)})['toUpperCase']()+'\x20'+_0x3644c2[_0x1ef3ea(0xf3)]();break;}}function showToast(_0x18e193){const _0x1afdfa=a3_0x161e6c,_0x13fcbd=document[_0x1afdfa(0x150)]('toast');_0x13fcbd[_0x1afdfa(0x12d)]=_0x18e193,_0x13fcbd[_0x1afdfa(0x11e)]['add'](_0x1afdfa(0xae)),setTimeout(()=>_0x13fcbd[_0x1afdfa(0x11e)]['remove'](_0x1afdfa(0xae)),0x7d0);}function handleInfiniteScroll(){const _0x3c9554=a3_0x161e6c,_0x17b36c=document[_0x3c9554(0x150)](_0x3c9554(0xd8)),_0x937049=_0x17b36c[_0x3c9554(0x67)],_0x3657c4=_0x17b36c[_0x3c9554(0x144)],_0xe9b4a6=_0x17b36c[_0x3c9554(0x12e)];if(_0x3657c4-(_0x937049+_0xe9b4a6)<0x12c){const _0x2a0b75=endOffset;endOffset+=0xe,renderDayRange(_0x2a0b75+0x1,endOffset),reRenderBlocks();}if(_0x937049<0x12c){const _0x2f4f7d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2f4f7d-0x1),_0x17b36c[_0x3c9554(0x67)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4d9e0b,_0x212b5a){const _0x31a12e=a3_0x161e6c,_0x4d805b=document[_0x31a12e(0x150)](_0x31a12e(0xc4)),_0x50dac7=document[_0x31a12e(0x150)]('gridColumns'),_0x1ce61c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4833dc=new Date();_0x4833dc[_0x31a12e(0x6d)](0x0,0x0,0x0,0x0);const _0x2b1ba0=getLocalDateStr(new Date()),_0x44ac9d=document[_0x31a12e(0x71)](),_0x167486=document[_0x31a12e(0x71)]();for(let _0x4fcc57=_0x4d9e0b;_0x4fcc57<=_0x212b5a;_0x4fcc57++){const _0x95fc20=new Date(_0x4833dc);_0x95fc20[_0x31a12e(0xdc)](_0x95fc20[_0x31a12e(0x13d)]()+_0x4fcc57);const _0x408048=getLocalDateStr(_0x95fc20);let _0x3ba788=_0x95fc20['getDay']()-0x1;if(_0x3ba788===-0x1)_0x3ba788=0x6;const _0xc97b4e=_0x408048===_0x2b1ba0,_0x554e59=document['createElement'](_0x31a12e(0xca));_0x554e59[_0x31a12e(0xc3)]=_0x31a12e(0xe2)+(_0xc97b4e?'today':''),_0x554e59[_0x31a12e(0x11a)](_0x31a12e(0x14e),_0x408048),_0x554e59[_0x31a12e(0xa5)]=_0x31a12e(0x6b)+_0x1ce61c[_0x3ba788]+'</div><div\x20class=\x22dch-num\x22>'+_0x95fc20[_0x31a12e(0x13d)]()+'</div>',_0x44ac9d['appendChild'](_0x554e59);const _0x3d9d63=document[_0x31a12e(0x154)](_0x31a12e(0xca));_0x3d9d63[_0x31a12e(0xc3)]=_0x31a12e(0xa8)+(_0xc97b4e?_0x31a12e(0x9a):''),_0x3d9d63[_0x31a12e(0x11a)](_0x31a12e(0x14e),_0x408048),_0x3d9d63[_0x31a12e(0x11a)](_0x31a12e(0xb2),_0x3ba788),_0x167486[_0x31a12e(0x110)](_0x3d9d63);}_0x4d805b[_0x31a12e(0x85)](_0x44ac9d,_0x4d805b['firstChild']),_0x50dac7['insertBefore'](_0x167486,_0x50dac7['querySelector'](_0x31a12e(0x15e)));}function hexToRgba(_0x4d7372,_0x1becf1){const _0x325fb7=a3_0x161e6c;let _0x477735;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x325fb7(0x7f)](_0x4d7372))return _0x477735=_0x4d7372['substring'](0x1)[_0x325fb7(0xfa)](''),_0x477735[_0x325fb7(0x14a)]==0x3&&(_0x477735=[_0x477735[0x0],_0x477735[0x0],_0x477735[0x1],_0x477735[0x1],_0x477735[0x2],_0x477735[0x2]]),_0x477735='0x'+_0x477735[_0x325fb7(0x145)](''),'rgba('+[_0x477735>>0x10&0xff,_0x477735>>0x8&0xff,_0x477735&0xff][_0x325fb7(0x145)](',')+','+_0x1becf1+')';return _0x325fb7(0xd2)+_0x1becf1+')';}let confirmResolver=null;function showCustomConfirm(_0x27705e,_0x478331,_0x56cf88=!![]){const _0x4b460c=a3_0x161e6c;document[_0x4b460c(0x150)](_0x4b460c(0x68))[_0x4b460c(0x12d)]=_0x27705e,document[_0x4b460c(0x150)](_0x4b460c(0x14f))[_0x4b460c(0x12d)]=_0x478331;const _0x1ad6fb=document[_0x4b460c(0x150)](_0x4b460c(0xf4));return _0x56cf88?(_0x1ad6fb[_0x4b460c(0x169)][_0x4b460c(0xf5)]=_0x4b460c(0xe0),_0x1ad6fb[_0x4b460c(0x169)][_0x4b460c(0xb0)]=_0x4b460c(0x7b)):(_0x1ad6fb['style'][_0x4b460c(0xf5)]='#0a84ff',_0x1ad6fb[_0x4b460c(0x169)]['fontWeight']=_0x4b460c(0x7b)),new Promise(_0x3e35a5=>{const _0x2b3b5a=_0x4b460c;confirmResolver=_0x3e35a5,document['getElementById']('customConfirm')[_0x2b3b5a(0x11e)][_0x2b3b5a(0xf6)](_0x2b3b5a(0x11d));});}function resolveCustomConfirm(_0x417455){const _0x2791f0=a3_0x161e6c;document['getElementById'](_0x2791f0(0x8a))[_0x2791f0(0x11e)][_0x2791f0(0x117)](_0x2791f0(0x11d));if(confirmResolver)confirmResolver(_0x417455);}async function tryCancelCurrentSession(){const _0x45bb5e=a3_0x161e6c;if(!currentSession)return;const _0x270293=await showCustomConfirm(_0x45bb5e(0xbb),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x270293)return;const _0x4374b6=currentSession;closeAllSheets(),sessions=sessions[_0x45bb5e(0x82)](_0x76a372=>_0x76a372['id']!==_0x4374b6['id']),reRenderBlocks(),showToast(_0x45bb5e(0x126)),lastUserActionTime=Date['now']();try{const _0x4d19ef=window[_0x45bb5e(0x14b)]?.[_0x45bb5e(0x114)],_0x54df59=await fetch(API_URL,{'method':_0x45bb5e(0xaa),'body':JSON[_0x45bb5e(0xc7)]({'action':_0x45bb5e(0xf9),'init_data':_0x4d19ef?.['initData']||'','coachId':_0x4374b6[_0x45bb5e(0x168)],'dateStr':_0x4374b6[_0x45bb5e(0x120)],'sessionId':_0x4374b6['id']})});if(_0x54df59['ok'])DataManager[_0x45bb5e(0x143)]();}catch(_0x24ea50){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2831a0=a3_0x161e6c;if(!currentSession)return;document[_0x2831a0(0x150)](_0x2831a0(0x93))[_0x2831a0(0x11e)][_0x2831a0(0x117)](_0x2831a0(0x148)),document[_0x2831a0(0x150)]('rescheduleSheet')[_0x2831a0(0x11e)]['add'](_0x2831a0(0x148));const _0x9730c7=document['getElementById']('rsDatesTrack'),_0x39f60b=document['getElementById']('rsSlotsGrid');_0x9730c7['innerHTML']='',_0x39f60b[_0x2831a0(0xa5)]=_0x2831a0(0xe4);const [_0x17d9c8,_0x26edf0]=currentSession[_0x2831a0(0x13c)][_0x2831a0(0xfa)](':')[_0x2831a0(0x10d)](Number),[_0x30596e,_0x45e7d7]=currentSession[_0x2831a0(0x96)][_0x2831a0(0xfa)](':')[_0x2831a0(0x10d)](Number),_0x4c6341=_0x30596e*0x3c+_0x45e7d7-(_0x17d9c8*0x3c+_0x26edf0);try{const _0x6ca433=window[_0x2831a0(0x14b)]?.[_0x2831a0(0x114)],_0x3b8105=await fetch(API_URL,{'method':_0x2831a0(0xaa),'body':JSON[_0x2831a0(0xc7)]({'action':_0x2831a0(0x15a),'coachId':currentSession['coachId'],'duration':_0x4c6341,'init_data':_0x6ca433?.[_0x2831a0(0xdf)]||'','excludeSessionId':currentSession['id']})}),_0x4f984b=await _0x3b8105[_0x2831a0(0x164)]();_0x4f984b['ok']&&_0x4f984b['data']?(availableSlotsCache=_0x4f984b['data'],renderRescheduleDates()):_0x39f60b['innerHTML']=_0x2831a0(0xb4);}catch(_0x438658){_0x39f60b[_0x2831a0(0xa5)]=_0x2831a0(0x81);}}function renderRescheduleDates(){const _0x57cd9c=a3_0x161e6c,_0x204eb6=document[_0x57cd9c(0x150)](_0x57cd9c(0xb6));_0x204eb6[_0x57cd9c(0xa5)]='';const _0x53afcc=Object[_0x57cd9c(0xcc)](availableSlotsCache)[_0x57cd9c(0x136)](),_0x5e0dc2=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x53afcc[_0x57cd9c(0x14a)]===0x0){document['getElementById'](_0x57cd9c(0xac))[_0x57cd9c(0xa5)]=_0x57cd9c(0xdb);return;}_0x53afcc[_0x57cd9c(0xfb)]((_0x140e9c,_0x561ad7)=>{const _0x2d4666=_0x57cd9c,_0x4cf70b=new Date(_0x140e9c),_0x171b92=_0x5e0dc2[_0x4cf70b[_0x2d4666(0x6f)]()],_0x1962f1=_0x4cf70b['getDate'](),_0x2bd8fd=document[_0x2d4666(0x154)](_0x2d4666(0xca));_0x2bd8fd[_0x2d4666(0xc3)]=_0x2d4666(0x7a);if(_0x561ad7===0x0)_0x2bd8fd[_0x2d4666(0x11e)][_0x2d4666(0xf6)](_0x2d4666(0xe6));_0x2bd8fd[_0x2d4666(0xa5)]=_0x2d4666(0x89)+_0x171b92+_0x2d4666(0xd3)+_0x1962f1+_0x2d4666(0x9d),_0x2bd8fd[_0x2d4666(0x113)]=()=>selectRsDate(_0x140e9c,_0x2bd8fd),_0x204eb6['appendChild'](_0x2bd8fd);}),selectRsDate(_0x53afcc[0x0],_0x204eb6['firstChild']);}function selectRsDate(_0x135c42,_0x136dd6){const _0x2b5934=a3_0x161e6c;selectedRsDate=_0x135c42,document['querySelectorAll'](_0x2b5934(0x119))[_0x2b5934(0xfb)](_0x15d71b=>_0x15d71b[_0x2b5934(0x11e)][_0x2b5934(0x117)](_0x2b5934(0xe6)));if(_0x136dd6)_0x136dd6[_0x2b5934(0x11e)]['add'](_0x2b5934(0xe6));const _0x30d8b4=document[_0x2b5934(0x150)](_0x2b5934(0xac));_0x30d8b4['innerHTML']='';const _0x1d3774=availableSlotsCache[_0x135c42]||[];if(_0x1d3774['length']===0x0){_0x30d8b4[_0x2b5934(0xa5)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x1d3774[_0x2b5934(0xfb)](_0x27dea6=>{const _0x5e0354=_0x2b5934,_0x4251c0=document[_0x5e0354(0x154)](_0x5e0354(0x8f));_0x4251c0[_0x5e0354(0xc3)]=_0x5e0354(0x97),_0x4251c0[_0x5e0354(0x12d)]=_0x27dea6,_0x4251c0[_0x5e0354(0x113)]=()=>confirmReschedule(_0x27dea6),_0x30d8b4['appendChild'](_0x4251c0);});}function a3_0x45c2(_0x6ec749,_0x40d1e3){_0x6ec749=_0x6ec749-0x67;const _0x49963f=a3_0x55a6();let _0x4df9cf=_0x49963f[_0x6ec749];return _0x4df9cf;}async function confirmReschedule(_0x5b9c71){const _0x560fb8=a3_0x161e6c,_0x27376a=new Date(selectedRsDate),_0x794154=_0x27376a[_0x560fb8(0xa6)](_0x560fb8(0x78),{'day':_0x560fb8(0xf2),'month':_0x560fb8(0xad)}),_0x44c57a=await showCustomConfirm(_0x560fb8(0x8c),_0x560fb8(0x90)+_0x794154+'\x20–≤\x20'+_0x5b9c71+'?',![]);if(!_0x44c57a)return;closeAllSheets(),showToast(_0x560fb8(0x6e)),lastUserActionTime=Date[_0x560fb8(0x147)]();const _0x34fe78=currentSession[_0x560fb8(0x120)],_0xc9c226=currentSession['id'],[_0x3cb6d1,_0x13c6e1]=currentSession[_0x560fb8(0x13c)][_0x560fb8(0xfa)](':')[_0x560fb8(0x10d)](Number),[_0x12984a,_0x55fa6e]=currentSession[_0x560fb8(0x96)]['split'](':')[_0x560fb8(0x10d)](Number),_0x193124=_0x12984a*0x3c+_0x55fa6e-(_0x3cb6d1*0x3c+_0x13c6e1),[_0x451a2b,_0x13de77]=_0x5b9c71[_0x560fb8(0xfa)](':')[_0x560fb8(0x10d)](Number),_0x33c2be=_0x451a2b*0x3c+_0x13de77+_0x193124,_0x2cae6a=Math['floor'](_0x33c2be/0x3c),_0x152763=_0x33c2be%0x3c,_0x4b26ff=String(_0x2cae6a)['padStart'](0x2,'0')+':'+String(_0x152763)[_0x560fb8(0xf8)](0x2,'0'),_0x1a8ed6=sessions[_0x560fb8(0xe7)](_0x21f680=>_0x21f680['id']===_0xc9c226);_0x1a8ed6!==-0x1&&(sessions[_0x1a8ed6][_0x560fb8(0x120)]=selectedRsDate,sessions[_0x1a8ed6][_0x560fb8(0x13c)]=_0x5b9c71,sessions[_0x1a8ed6]['end']=_0x4b26ff,reRenderBlocks());try{const _0x14341a=window[_0x560fb8(0x14b)]?.[_0x560fb8(0x114)],_0x1a2847=await fetch(API_URL,{'method':_0x560fb8(0xaa),'body':JSON[_0x560fb8(0xc7)]({'action':_0x560fb8(0x10e),'init_data':_0x14341a?.[_0x560fb8(0xdf)]||'','oldSessionId':_0xc9c226,'oldDate':_0x34fe78,'newDate':selectedRsDate,'newTime':_0x5b9c71,'coachId':currentSession['coachId']})}),_0x2b6ece=await _0x1a2847[_0x560fb8(0x164)]();!_0x2b6ece['ok']?(showToast(_0x560fb8(0xe1)),DataManager[_0x560fb8(0x132)]()):(showToast(_0x560fb8(0x160)),DataManager[_0x560fb8(0x143)]());}catch(_0x4dc7fa){showToast(_0x560fb8(0x159));}}document[a3_0x161e6c(0x149)](a3_0x161e6c(0xcb),init);