const a3_0x113ffc=a3_0x2961;(function(_0x295451,_0x10f5ef){const _0x1e561e=a3_0x2961,_0x105625=_0x295451();while(!![]){try{const _0x4873ea=-parseInt(_0x1e561e(0x11a))/0x1+-parseInt(_0x1e561e(0x190))/0x2+parseInt(_0x1e561e(0x18b))/0x3+parseInt(_0x1e561e(0xcf))/0x4+parseInt(_0x1e561e(0xcd))/0x5*(-parseInt(_0x1e561e(0x13a))/0x6)+parseInt(_0x1e561e(0x13c))/0x7+-parseInt(_0x1e561e(0x1b0))/0x8*(-parseInt(_0x1e561e(0xfd))/0x9);if(_0x4873ea===_0x10f5ef)break;else _0x105625['push'](_0x105625['shift']());}catch(_0xd00224){_0x105625['push'](_0x105625['shift']());}}}(a3_0x16e2,0x61dbc));const APP_VERSION=a3_0x113ffc(0x128),API_URL=a3_0x113ffc(0x116),GRID_H=0x3c,KEY_SESSIONS=a3_0x113ffc(0xd9),KEY_SETTINGS=a3_0x113ffc(0x164),KEY_CLIENTS=a3_0x113ffc(0x182);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x292458=a3_0x113ffc,_0x359433=(function(){let _0x164f62=!![];return function(_0x22cdf3,_0x116c04){const _0x4c377e=_0x164f62?function(){const _0x319375=a3_0x2961;if(_0x116c04){const _0x493d24=_0x116c04[_0x319375(0x159)](_0x22cdf3,arguments);return _0x116c04=null,_0x493d24;}}:function(){};return _0x164f62=![],_0x4c377e;};}()),_0x1f3cc2=_0x359433(this,function(){const _0x4172ef=a3_0x2961;return _0x1f3cc2['toString']()[_0x4172ef(0x16d)](_0x4172ef(0xdf))[_0x4172ef(0x195)]()[_0x4172ef(0xe7)](_0x1f3cc2)[_0x4172ef(0x16d)](_0x4172ef(0xdf));});_0x1f3cc2();try{const _0x3a829f=window[_0x292458(0x160)]?.['WebApp'];if(!_0x3a829f)return;_0x3a829f[_0x292458(0x180)](),_0x3a829f[_0x292458(0xf9)]();try{_0x3a829f['setHeaderColor'](_0x292458(0x167)),_0x3a829f[_0x292458(0x173)]&&_0x3a829f['setBackgroundColor'](_0x292458(0x167));}catch(_0x58ea01){console[_0x292458(0x15a)](_0x292458(0x19a),_0x58ea01);}try{_0x3a829f['BackButton']&&(_0x3a829f[_0x292458(0x174)]['show'](),_0x3a829f['BackButton'][_0x292458(0x1af)](),_0x3a829f[_0x292458(0x174)][_0x292458(0xd2)](function(){const _0x4ed6fa=_0x292458;window[_0x4ed6fa(0x14d)][_0x4ed6fa(0x13f)]='router.html';}));}catch(_0x1d7b44){console[_0x292458(0x15a)](_0x292458(0xe3),_0x1d7b44);}try{if(_0x3a829f['disableVerticalSwipes'])_0x3a829f['disableVerticalSwipes']();}catch(_0x4fd2de){}}catch(_0x4b8031){console[_0x292458(0x17e)](_0x292458(0x172),_0x4b8031);}}());function isAdmin(){const _0x10be7a=a3_0x113ffc;try{const _0x2ede6c=Number(window['Telegram']?.['WebApp']?.[_0x10be7a(0x11e)]?.[_0x10be7a(0x12b)]?.['id']);return _0x2ede6c===0xbaf7174;}catch(_0x343d30){return![];}}const DataManager={'saveLocally'(){const _0x572266=a3_0x113ffc;try{localStorage[_0x572266(0x183)](KEY_SESSIONS,JSON[_0x572266(0x197)](sessions)),localStorage[_0x572266(0x183)](KEY_CLIENTS,JSON[_0x572266(0x197)](clients)),localStorage[_0x572266(0x183)](KEY_SETTINGS,JSON[_0x572266(0x197)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x21bbb9){}},'loadLocal'(){const _0x160e5d=a3_0x113ffc;try{const _0x4eab48=localStorage['getItem'](KEY_SESSIONS);if(_0x4eab48)sessions=JSON['parse'](_0x4eab48);const _0x13a19c=localStorage[_0x160e5d(0xf4)](KEY_CLIENTS);if(_0x13a19c)clients=JSON[_0x160e5d(0x142)](_0x13a19c);const _0x5c3851=localStorage[_0x160e5d(0xf4)](KEY_SETTINGS);if(_0x5c3851){const _0x913c6f=JSON['parse'](_0x5c3851);if(_0x913c6f[_0x160e5d(0x117)])availabilityPattern=_0x913c6f[_0x160e5d(0x117)];if(_0x913c6f['ranges'])specialRanges=_0x913c6f['ranges'];if(_0x913c6f[_0x160e5d(0x177)])dateExceptions=_0x913c6f[_0x160e5d(0x177)];}}catch(_0x3f5f88){}},async 'syncLoad'(){const _0x487efb=a3_0x113ffc,_0x3e5a93=new Date(),_0x1f8344=_0x3e5a93['getFullYear']()+'-'+String(_0x3e5a93[_0x487efb(0x196)]()+0x1)[_0x487efb(0x132)](0x2,'0'),_0x42cf91=new Date(_0x3e5a93);_0x42cf91[_0x487efb(0x119)](_0x3e5a93[_0x487efb(0x196)]()+0x1);const _0x4995b9=_0x42cf91['getFullYear']()+'-'+String(_0x42cf91['getMonth']()+0x1)[_0x487efb(0x132)](0x2,'0'),_0x1f1bdc=Date['now']();try{const _0x4ee32e=window[_0x487efb(0x160)]?.[_0x487efb(0x1a2)],_0x235efc=_0x4ee32e?.['initData']||'',[_0x5939cf,_0x4a59a8]=await Promise[_0x487efb(0x188)]([fetch(API_URL,{'method':_0x487efb(0x176),'body':JSON[_0x487efb(0x197)]({'action':_0x487efb(0x148),'init_data':_0x235efc,'month_str':_0x1f8344})})[_0x487efb(0x1b6)](_0x10c5c5=>_0x10c5c5[_0x487efb(0xf1)]()),fetch(API_URL,{'method':_0x487efb(0x176),'body':JSON[_0x487efb(0x197)]({'action':'client_load','init_data':_0x235efc,'month_str':_0x4995b9})})[_0x487efb(0x1b6)](_0x4318dc=>_0x4318dc[_0x487efb(0xf1)]())]);if(lastUserActionTime>_0x1f1bdc){console[_0x487efb(0x15a)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x5939cf['ok'])this[_0x487efb(0x100)](_0x5939cf[_0x487efb(0xdc)],_0x1f8344);if(_0x4a59a8['ok'])this[_0x487efb(0x100)](_0x4a59a8[_0x487efb(0xdc)],_0x4995b9);this[_0x487efb(0xfc)]();}catch(_0x40ffa9){}},'applyData'(_0x2d62c5,_0x953e57){const _0x30d8fe=a3_0x113ffc;if(!_0x2d62c5)return;if(_0x2d62c5[_0x30d8fe(0x11d)]){if(_0x2d62c5['settings'][_0x30d8fe(0x117)])availabilityPattern=_0x2d62c5['settings']['pattern'];if(_0x2d62c5[_0x30d8fe(0x11d)][_0x30d8fe(0x131)])specialRanges=_0x2d62c5[_0x30d8fe(0x11d)][_0x30d8fe(0x131)];if(_0x2d62c5[_0x30d8fe(0x11d)]['exceptions'])dateExceptions=_0x2d62c5[_0x30d8fe(0x11d)]['exceptions'];}if(_0x2d62c5['clients']&&Array[_0x30d8fe(0x1b3)](_0x2d62c5[_0x30d8fe(0xd4)]))clients=_0x2d62c5[_0x30d8fe(0xd4)];_0x2d62c5[_0x30d8fe(0x189)]&&(coachProfiles={...coachProfiles,..._0x2d62c5[_0x30d8fe(0x189)]}),_0x2d62c5[_0x30d8fe(0x191)]&&(sessions=sessions[_0x30d8fe(0x13b)](_0x5470f6=>!_0x5470f6[_0x30d8fe(0x17f)][_0x30d8fe(0x120)](_0x953e57)),Object['keys'](_0x2d62c5[_0x30d8fe(0x191)])[_0x30d8fe(0xf2)](_0x21fc31=>{const _0x5e6d6d=_0x30d8fe,_0x3fc65f=_0x2d62c5[_0x5e6d6d(0x191)][_0x21fc31];_0x3fc65f[_0x5e6d6d(0xf2)](_0x19b21c=>{const _0x100958=_0x5e6d6d;sessions[_0x100958(0x1b9)]({'id':_0x19b21c['i'],'clientId':_0x19b21c['c'],'coachId':_0x19b21c[_0x100958(0x127)],'dateStr':_0x953e57+'-'+_0x21fc31['padStart'](0x2,'0'),'start':_0x19b21c['s'],'end':_0x19b21c['e'],'note':_0x19b21c['n']||'','status':_0x19b21c['st']||_0x100958(0x122),'seriesId':_0x19b21c['sid']});});})),reRenderBlocks();}};function init(){const _0x4e158c=a3_0x113ffc;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4e158c(0x179)]('matrixViewport')['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4e158c(0x19d)]();}function renderTimeColumn(){const _0xbc0a8=a3_0x113ffc,_0x1b6375=document[_0xbc0a8(0x179)](_0xbc0a8(0x147)),_0x3b7a51=document[_0xbc0a8(0x179)]('timeLineBadge');_0x1b6375[_0xbc0a8(0x15b)]='',_0x1b6375['appendChild'](_0x3b7a51);for(let _0xa0878f=0x0;_0xa0878f<0x18;_0xa0878f++){const _0x4e2384=document[_0xbc0a8(0x1a3)]('div');_0x4e2384[_0xbc0a8(0x12f)]=_0xbc0a8(0xfa);if(_0xa0878f>0x0)_0x4e2384[_0xbc0a8(0x15b)]=_0xbc0a8(0x17b)+String(_0xa0878f)[_0xbc0a8(0x132)](0x2,'0')+':00</span>';_0x1b6375[_0xbc0a8(0x101)](_0x4e2384);}}function renderDayRange(_0x33e638,_0x3386c4){const _0x16f989=a3_0x113ffc,_0x1b9852=document['getElementById'](_0x16f989(0xe6)),_0x153c7c=document[_0x16f989(0x179)](_0x16f989(0xee)),_0xe5985b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4f06f2=new Date();_0x4f06f2[_0x16f989(0x1a9)](0x0,0x0,0x0,0x0);const _0x482ce4=getLocalDateStr(new Date());for(let _0x31c52c=_0x33e638;_0x31c52c<=_0x3386c4;_0x31c52c++){const _0x8e0b8f=new Date(_0x4f06f2);_0x8e0b8f[_0x16f989(0x145)](_0x8e0b8f[_0x16f989(0x178)]()+_0x31c52c);const _0x5962c9=getLocalDateStr(_0x8e0b8f);let _0x5c2b36=_0x8e0b8f['getDay']()-0x1;if(_0x5c2b36===-0x1)_0x5c2b36=0x6;const _0x49963a=_0x5962c9===_0x482ce4,_0x196d9a=document[_0x16f989(0x1a3)](_0x16f989(0x170));_0x196d9a[_0x16f989(0x12f)]=_0x16f989(0x125)+(_0x49963a?_0x16f989(0x15e):''),_0x196d9a[_0x16f989(0x1a7)]('data-date',_0x5962c9),_0x196d9a[_0x16f989(0x15b)]=_0x16f989(0x19b)+_0xe5985b[_0x5c2b36]+_0x16f989(0x1c2)+_0x8e0b8f[_0x16f989(0x178)]()+'</div>',_0x1b9852[_0x16f989(0x101)](_0x196d9a);const _0x9427ca=document[_0x16f989(0x1a3)]('div');_0x9427ca[_0x16f989(0x12f)]='day-column\x20'+(_0x49963a?_0x16f989(0x15e):''),_0x9427ca[_0x16f989(0x1a7)]('data-date',_0x5962c9),_0x9427ca[_0x16f989(0x1a7)](_0x16f989(0x18c),_0x5c2b36),_0x153c7c[_0x16f989(0x101)](_0x9427ca);}}function a3_0x16e2(){const _0x5ae76b=['\x20-\x20','sort','</div>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','pattern','detNote','setMonth','772606ueXCWE','scrollTo','data-date','settings','initDataUnsafe','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','startsWith','timeLineBadge','planned','fontWeight','display','day-col-header\x20','seriesId','cid','v9.5-CLIENT-ANALYTICS','%\x20+\x202px)','scrollWidth','user','anStart','open','rs-date-chip','className','completed','ranges','padStart','join','<div\x20class=\x22rs-day-name\x22>','calc(','blocked-range-part\x20stripe-bg','toUpperCase','customConfirm','rgba(','2646ZBxxVu','filter','5141024UTLmjr','rs-time-btn','min','href','custom','getAttribute','parse','classList','T00:00:00','setDate','matrixViewport','timeColumn','client_load','keys','client-stat-card','globalTimeLine','substring','location','px\x200px','substr','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ff453a','analyticsSheet','getMinutes','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','insertBefore','total','initData','apply','log','innerHTML','auto','</span>\x20/\x20','today','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','Telegram','anCustomDates','test','width','uc_client_settings','block','cancel_window','#050505','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','var(--acc-green)','firstChild','coachId','done','search','clientId','getFullYear','div','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Critical\x20TMA\x20Error:','setBackgroundColor','BackButton','overlay','POST','exceptions','getDate','getElementById','event-card','<span>','rescheduleSheet','offsetLeft','error','dateStr','ready','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','uc_client_list','setItem','headerMonth','%\x20-\x204px)','px\x20-','day-off-overlay\x20stripe-bg','all','coach_profiles','addEventListener','353496SkxWOZ','data-day-idx','start','color','\x20—á.','206240BfHPgq','calendar','active','anPercent','\x20–≤\x20','toString','getMonth','stringify','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','value','Error\x20setting\x20color:','<div\x20class=\x22dch-day\x22>','toLocaleDateString','syncLoad','#0a84ff','getDay','backgroundPosition','querySelector','WebApp','createElement','week','round','remove','setAttribute','T23:59:59','setHours','charAt','rsSlotsGrid','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','end','floor','offClick','8YGyOWS','onclick','.period-switch\x20.p-btn','isArray','ccText','–û—Ç–º–µ–Ω–µ–Ω–æ','then','reschedule','.btn-reschedule','push','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','strokeDashoffset','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','DOMContentLoaded','.btn-cancel','status','length','</div><div\x20class=\x22dch-num\x22>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','toast','stopPropagation','visible','split','entries','575IUpSCA','long','1003912SgsinN','blocked-slot\x20stripe-bg','top','onClick','.day-column','clients','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','max','getTime','anDonutCircle','uc_client_sessions','detStatus','detailsSheet','data','month','\x20–∏–∑\x20','(((.+)+)+)+$','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','textContent','colIndex','Error\x20setting\x20back\x20button:','rgba(10,\x20132,\x20255,\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','daysHeaderTrack','constructor','getHours','height','findIndex','now','cancelled','anTotalStats','gridColumns','scrollLeft','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','json','forEach','ccYesBtn','getItem','</div><div\x20class=\x22rs-day-num\x22>','clientWidth','600','.day-col-header','expand','time-label','ru-RU','saveLocally','2016243pVWKKU','querySelectorAll','numeric','applyData','appendChild','map','ccTitle','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','find','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','createDocumentFragment','scrollTop','detTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','none','style','flex','anEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','toLocaleString','add'];a3_0x16e2=function(){return _0x5ae76b;};return a3_0x16e2();}function reRenderBlocks(){const _0x25f406=a3_0x113ffc;document[_0x25f406(0xfe)](_0x25f406(0xd3))[_0x25f406(0xf2)](_0x30e5d7=>{const _0x2595f1=_0x25f406;_0x30e5d7['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2595f1(0xf2)](_0x74b2a1=>_0x74b2a1[_0x2595f1(0x1a6)]());const _0x460b9a=_0x30e5d7[_0x2595f1(0x141)](_0x2595f1(0x11c)),_0x4b8754=parseInt(_0x30e5d7[_0x2595f1(0x141)]('data-day-idx')),_0xb7f29=Math[_0x2595f1(0x1a5)](_0x30e5d7[_0x2595f1(0x17d)]);(availabilityPattern[_0x4b8754]||[])[_0x2595f1(0xf2)](_0x3e6eea=>{const _0x50d32e=_0x2595f1,_0x1f39c2=document[_0x50d32e(0x1a3)](_0x50d32e(0x170));_0x1f39c2['className']=_0x50d32e(0xd0),_0x1f39c2[_0x50d32e(0x10c)]['top']=_0x3e6eea*GRID_H+'px',_0x1f39c2[_0x50d32e(0x10c)]['backgroundPosition']='-'+_0xb7f29+_0x50d32e(0x186)+_0x3e6eea*GRID_H+'px',_0x30e5d7[_0x50d32e(0x101)](_0x1f39c2);});if(specialRanges[_0x2595f1(0x1c1)]>0x0){const _0x4eeeb1=new Date(_0x460b9a+_0x2595f1(0x144))[_0x2595f1(0xd7)](),_0x8f914=new Date(_0x460b9a+_0x2595f1(0x1a8))['getTime']();specialRanges['forEach'](_0x19a068=>{const _0x2e6a2c=_0x2595f1,_0x4dbc3d=new Date(_0x19a068['start'])[_0x2e6a2c(0xd7)](),_0x3b5713=new Date(_0x19a068[_0x2e6a2c(0x1ad)])[_0x2e6a2c(0xd7)](),_0x385644=Math[_0x2e6a2c(0xd6)](_0x4eeeb1,_0x4dbc3d),_0x379f1a=Math[_0x2e6a2c(0x13e)](_0x8f914,_0x3b5713);if(_0x385644<_0x379f1a){const _0x13cba2=(_0x385644-_0x4eeeb1)/0x36ee80*GRID_H,_0x1541e7=(_0x379f1a-_0x385644)/0x36ee80*GRID_H,_0x5c279d=document[_0x2e6a2c(0x1a3)](_0x2e6a2c(0x170));_0x1541e7>=23.5*GRID_H?(_0x5c279d[_0x2e6a2c(0x12f)]=_0x2e6a2c(0x187),_0x5c279d[_0x2e6a2c(0x10c)][_0x2e6a2c(0x1a0)]='-'+_0xb7f29+_0x2e6a2c(0x14e)):(_0x5c279d[_0x2e6a2c(0x12f)]=_0x2e6a2c(0x136),_0x5c279d[_0x2e6a2c(0x10c)][_0x2e6a2c(0xd1)]=_0x13cba2+'px',_0x5c279d[_0x2e6a2c(0x10c)]['height']=_0x1541e7+'px',_0x5c279d[_0x2e6a2c(0x10c)][_0x2e6a2c(0x1a0)]='-'+_0xb7f29+_0x2e6a2c(0x186)+_0x13cba2+'px'),_0x30e5d7[_0x2e6a2c(0x101)](_0x5c279d);}});}renderEventsForColumn(_0x30e5d7,_0x460b9a);});}function renderEventsForColumn(_0x174f97,_0x48e13f){const _0x5ef696=a3_0x113ffc,_0x54e7a5=sessions[_0x5ef696(0x13b)](_0x2706be=>_0x2706be[_0x5ef696(0x17f)]===_0x48e13f),_0x4f94a8=_0x54e7a5[_0x5ef696(0x102)](_0x11d593=>{const _0x110c70=_0x5ef696,[_0x52bbbd,_0x21df3c]=_0x11d593[_0x110c70(0x18d)][_0x110c70(0xcb)](':')[_0x110c70(0x102)](Number),[_0x1b63c2,_0xc08f8e]=_0x11d593[_0x110c70(0x1ad)][_0x110c70(0xcb)](':')['map'](Number);return{'data':_0x11d593,'start':_0x52bbbd*0x3c+_0x21df3c,'end':_0x1b63c2*0x3c+_0xc08f8e,'colIndex':0x0};});_0x4f94a8[_0x5ef696(0x114)]((_0x426479,_0x47c86a)=>_0x426479[_0x5ef696(0x18d)]-_0x47c86a[_0x5ef696(0x18d)]||_0x47c86a[_0x5ef696(0x1ad)]-_0x47c86a[_0x5ef696(0x18d)]-(_0x426479[_0x5ef696(0x1ad)]-_0x426479[_0x5ef696(0x18d)]));const _0x3a4076=[];_0x4f94a8[_0x5ef696(0xf2)](_0x493eac=>{const _0xc84950=_0x5ef696;let _0x54fd93=![];for(let _0x13ef57=0x0;_0x13ef57<_0x3a4076['length'];_0x13ef57++){const _0x347b43=_0x3a4076[_0x13ef57];if(_0x493eac[_0xc84950(0x18d)]>=_0x347b43[_0x347b43[_0xc84950(0x1c1)]-0x1][_0xc84950(0x1ad)]){_0x347b43[_0xc84950(0x1b9)](_0x493eac),_0x493eac[_0xc84950(0xe2)]=_0x13ef57,_0x54fd93=!![];break;}}!_0x54fd93&&(_0x3a4076[_0xc84950(0x1b9)]([_0x493eac]),_0x493eac[_0xc84950(0xe2)]=_0x3a4076['length']-0x1);}),_0x4f94a8[_0x5ef696(0xf2)](_0xe65ef0=>{const _0x3e859f=_0x5ef696;let _0x3f483d=0x0;_0x4f94a8['forEach'](_0x6f7a3e=>{const _0x418f8c=a3_0x2961;if(Math[_0x418f8c(0xd6)](_0xe65ef0[_0x418f8c(0x18d)],_0x6f7a3e[_0x418f8c(0x18d)])<Math['min'](_0xe65ef0[_0x418f8c(0x1ad)],_0x6f7a3e[_0x418f8c(0x1ad)])&&_0x6f7a3e['colIndex']>_0x3f483d)_0x3f483d=_0x6f7a3e[_0x418f8c(0xe2)];});const _0x11fa76=_0x3f483d+0x1,_0x190fbb=0x64/_0x11fa76,_0x4d9f9f=_0xe65ef0[_0x3e859f(0xe2)]*_0x190fbb,_0x1305c6=document['createElement'](_0x3e859f(0x170)),_0x356ceb=_0xe65ef0[_0x3e859f(0xdc)];let _0x7bdd08=_0x3e859f(0x19e);if(clients&&clients['length']>0x0){const _0x58e4d7=clients[_0x3e859f(0x105)](_0x45995e=>String(_0x45995e['id'])===String(_0x356ceb[_0x3e859f(0x16e)]));if(_0x58e4d7&&_0x58e4d7['color'])_0x7bdd08=_0x58e4d7['color'];}const _0xaf47cb=_0x356ceb[_0x3e859f(0x1c0)]===_0x3e859f(0x130),_0x25ec33=_0xaf47cb?0x1:0.45;_0x1305c6[_0x3e859f(0x12f)]=_0x3e859f(0x17a)+(_0xaf47cb?'\x20status-completed':''),_0x1305c6[_0x3e859f(0x10c)][_0x3e859f(0x110)]=hexToRgba(_0x7bdd08,_0x25ec33),_0x1305c6[_0x3e859f(0x10c)]['borderLeftColor']=_0x7bdd08;const _0x1f4d46=_0xe65ef0[_0x3e859f(0x18d)]/0x3c*GRID_H,_0x22eca0=(_0xe65ef0[_0x3e859f(0x1ad)]-_0xe65ef0[_0x3e859f(0x18d)])/0x3c*GRID_H;_0x1305c6[_0x3e859f(0x10c)]['top']=_0x1f4d46+'px',_0x1305c6[_0x3e859f(0x10c)][_0x3e859f(0xe9)]=Math[_0x3e859f(0xd6)](_0x22eca0,0x14)+'px',_0x1305c6['style'][_0x3e859f(0x163)]=_0x3e859f(0x135)+_0x190fbb+_0x3e859f(0x185),_0x1305c6[_0x3e859f(0x10c)]['left']='calc('+_0x4d9f9f+_0x3e859f(0x129),_0x1305c6[_0x3e859f(0x10c)]['zIndex']=0xa+_0xe65ef0[_0x3e859f(0xe2)];if(_0x190fbb<0x55)_0x1305c6[_0x3e859f(0x143)][_0x3e859f(0x112)]('mini');let _0x39f372='';if(_0x356ceb[_0x3e859f(0x126)])_0x39f372+=_0x3e859f(0x1ba);if(_0xaf47cb)_0x39f372+=_0x3e859f(0x168);_0x1305c6[_0x3e859f(0x15b)]=_0x3e859f(0xd5)+_0x356ceb[_0x3e859f(0x18d)]+'\x20-\x20'+_0x356ceb[_0x3e859f(0x1ad)]+_0x3e859f(0x10f)+_0x39f372+_0x3e859f(0x151),_0x1305c6['onclick']=_0x30a802=>{const _0x38e790=_0x3e859f;_0x30a802[_0x38e790(0xc9)](),openDetails(_0x356ceb);},_0x174f97[_0x3e859f(0x101)](_0x1305c6);});}function openAnalytics(){const _0x102ce4=a3_0x113ffc,_0x308f26=document[_0x102ce4(0x1a1)](_0x102ce4(0x1b2));setAnalyticsPeriod(_0x102ce4(0x1a4),_0x308f26),openSheet(_0x102ce4(0x153));}function setAnalyticsPeriod(_0x1acd5d,_0x2ff635){const _0x5830e2=a3_0x113ffc;currentAnPeriod=_0x1acd5d,document[_0x5830e2(0xfe)](_0x5830e2(0x1b2))[_0x5830e2(0xf2)](_0x2a8c54=>_0x2a8c54[_0x5830e2(0x143)][_0x5830e2(0x1a6)](_0x5830e2(0x192)));if(_0x2ff635)_0x2ff635[_0x5830e2(0x143)][_0x5830e2(0x112)]('active');const _0x4e7700=document[_0x5830e2(0x179)](_0x5830e2(0x161));_0x4e7700[_0x5830e2(0x10c)]['display']=_0x1acd5d===_0x5830e2(0x140)?_0x5830e2(0x10d):_0x5830e2(0x10b);const _0x4fb875=new Date();let _0x3b141a=new Date(),_0x2f9b82=new Date();if(_0x1acd5d===_0x5830e2(0x1a4))_0x3b141a=getStartOfWeek(_0x4fb875),_0x2f9b82=new Date(_0x3b141a),_0x2f9b82[_0x5830e2(0x145)](_0x2f9b82[_0x5830e2(0x178)]()+0x6);else{if(_0x1acd5d===_0x5830e2(0xdd))_0x3b141a=new Date(_0x4fb875[_0x5830e2(0x16f)](),_0x4fb875[_0x5830e2(0x196)](),0x1),_0x2f9b82=new Date(_0x4fb875[_0x5830e2(0x16f)](),_0x4fb875['getMonth']()+0x1,0x0);else{!document[_0x5830e2(0x179)](_0x5830e2(0x12c))[_0x5830e2(0x199)]&&(document[_0x5830e2(0x179)](_0x5830e2(0x12c))['value']=getLocalDateStr(_0x4fb875),document[_0x5830e2(0x179)](_0x5830e2(0x10e))[_0x5830e2(0x199)]=getLocalDateStr(_0x4fb875));refreshAnalytics();return;}}document[_0x5830e2(0x179)](_0x5830e2(0x12c))[_0x5830e2(0x199)]=getLocalDateStr(_0x3b141a),document[_0x5830e2(0x179)]('anEnd')[_0x5830e2(0x199)]=getLocalDateStr(_0x2f9b82),refreshAnalytics();}function refreshAnalytics(){const _0x572216=a3_0x113ffc,_0x2ca388=document['getElementById'](_0x572216(0x12c))['value'],_0x3154d1=document[_0x572216(0x179)]('anEnd')[_0x572216(0x199)];if(!_0x2ca388||!_0x3154d1)return;const _0x51c024=sessions[_0x572216(0x13b)](_0x476d6a=>_0x476d6a[_0x572216(0x17f)]>=_0x2ca388&&_0x476d6a[_0x572216(0x17f)]<=_0x3154d1&&_0x476d6a[_0x572216(0x1c0)]!==_0x572216(0xec)),_0x2e0c44=_0x51c024[_0x572216(0x1c1)],_0x49319d=_0x51c024[_0x572216(0x13b)](_0x345d35=>_0x345d35[_0x572216(0x1c0)]===_0x572216(0x130))['length'],_0x350e7b=_0x2e0c44>0x0?Math[_0x572216(0x1a5)](_0x49319d/_0x2e0c44*0x64):0x0;document[_0x572216(0x179)](_0x572216(0x193))[_0x572216(0xe1)]=_0x350e7b+'%',document[_0x572216(0x179)](_0x572216(0xed))['textContent']=_0x49319d+_0x572216(0xde)+_0x2e0c44+_0x572216(0x171);const _0x59120c=document[_0x572216(0x179)](_0x572216(0xd8)),_0x281c81=0x2*Math['PI']*0x23,_0x140f9c=_0x281c81-_0x350e7b/0x64*_0x281c81;_0x59120c['style'][_0x572216(0x1bb)]=_0x140f9c;const _0x219acb={};_0x51c024[_0x572216(0xf2)](_0x2e2b86=>{const _0x5a4797=_0x572216,_0x12071b=_0x2e2b86[_0x5a4797(0x16b)]||'Unknown';if(!_0x219acb[_0x12071b]){const _0x41004b='#'+_0x12071b[_0x5a4797(0x195)]()[_0x5a4797(0x14f)](0x0,0x6);_0x219acb[_0x12071b]={'total':0x0,'done':0x0,'color':_0x41004b};}_0x219acb[_0x12071b][_0x5a4797(0x157)]++;if(_0x2e2b86[_0x5a4797(0x1c0)]===_0x5a4797(0x130))_0x219acb[_0x12071b][_0x5a4797(0x16c)]++;});const _0x2dd0fc=document['getElementById']('analyticsList');_0x2dd0fc[_0x572216(0x15b)]='';const _0x5d6d5e=Object[_0x572216(0xcc)](_0x219acb)[_0x572216(0x114)]((_0x297d25,_0x5eb10f)=>_0x5eb10f[0x1][_0x572216(0x157)]-_0x297d25[0x1][_0x572216(0x157)]);if(_0x5d6d5e[_0x572216(0x1c1)]===0x0){_0x2dd0fc[_0x572216(0x15b)]=_0x572216(0x181);return;}_0x5d6d5e[_0x572216(0xf2)](([_0x4aa8bf,_0x56d4bd])=>{const _0x2f3301=_0x572216,_0x9c80a7=Math[_0x2f3301(0x1a5)](_0x56d4bd['done']/_0x56d4bd[_0x2f3301(0x157)]*0x64),_0x39d0e0=document[_0x2f3301(0x1a3)]('div');_0x39d0e0[_0x2f3301(0x12f)]=_0x2f3301(0x14a),_0x39d0e0[_0x2f3301(0x10c)]['borderLeftColor']=_0x56d4bd[_0x2f3301(0x18e)],_0x39d0e0['innerHTML']=_0x2f3301(0x10a)+_0x4aa8bf[_0x2f3301(0x14f)](0x0,0x5)+_0x2f3301(0xe0)+_0x56d4bd[_0x2f3301(0x16c)]+_0x2f3301(0x15d)+_0x56d4bd[_0x2f3301(0x157)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x9c80a7+_0x2f3301(0x1bc),_0x2dd0fc[_0x2f3301(0x101)](_0x39d0e0);});}function openDetails(_0x4e75c7){const _0x1cdb92=a3_0x113ffc;currentSession=_0x4e75c7;const _0x9788b2=new Date(_0x4e75c7[_0x1cdb92(0x17f)]),_0x5e0850=_0x9788b2[_0x1cdb92(0x19c)]('ru-RU',{'weekday':_0x1cdb92(0xce),'day':'numeric','month':'long'});document[_0x1cdb92(0x179)]('detDate')[_0x1cdb92(0xe1)]=_0x5e0850[_0x1cdb92(0x1aa)](0x0)['toUpperCase']()+_0x5e0850['slice'](0x1),document[_0x1cdb92(0x179)](_0x1cdb92(0x109))[_0x1cdb92(0xe1)]=_0x4e75c7[_0x1cdb92(0x18d)]+_0x1cdb92(0x113)+_0x4e75c7[_0x1cdb92(0x1ad)],document[_0x1cdb92(0x179)](_0x1cdb92(0x118))[_0x1cdb92(0xe1)]=_0x4e75c7[_0x1cdb92(0x1bd)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x573eb8=document[_0x1cdb92(0x179)](_0x1cdb92(0xda)),_0x8f0c8f=document['getElementById']('cancelContainer'),_0x1cc9ae=_0x8f0c8f[_0x1cdb92(0x1a1)](_0x1cdb92(0x1bf)),_0x3b067f=_0x8f0c8f[_0x1cdb92(0x1a1)](_0x1cdb92(0x1b8)),_0x282e49=document['getElementById']('cancelHint');if(_0x4e75c7[_0x1cdb92(0x1c0)]===_0x1cdb92(0x130))_0x573eb8[_0x1cdb92(0xe1)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x573eb8[_0x1cdb92(0x10c)][_0x1cdb92(0x18e)]=_0x1cdb92(0x169),_0x8f0c8f[_0x1cdb92(0x10c)]['display']='none';else{_0x573eb8[_0x1cdb92(0xe1)]=_0x1cdb92(0xf0),_0x573eb8[_0x1cdb92(0x10c)][_0x1cdb92(0x18e)]='var(--acc-blue)',_0x8f0c8f[_0x1cdb92(0x10c)][_0x1cdb92(0x124)]=_0x1cdb92(0x165);const _0x3cca52=new Date(_0x4e75c7['dateStr']+'T'+_0x4e75c7[_0x1cdb92(0x18d)]),_0x59214f=new Date(),_0xe196c4=(_0x3cca52-_0x59214f)/(0x3e8*0x3c*0x3c),_0x30caa5=coachProfiles[_0x4e75c7['coachId']]&&coachProfiles[_0x4e75c7[_0x1cdb92(0x16b)]][_0x1cdb92(0x166)]?parseInt(coachProfiles[_0x4e75c7[_0x1cdb92(0x16b)]]['cancel_window']):0x18;if(_0x30caa5===0x0||_0xe196c4>=_0x30caa5)_0x1cc9ae[_0x1cdb92(0x10c)][_0x1cdb92(0x124)]=_0x1cdb92(0x165),_0x3b067f[_0x1cdb92(0x10c)]['display']=_0x1cdb92(0x165),_0x282e49['style'][_0x1cdb92(0x124)]=_0x1cdb92(0x10b);else{_0x1cc9ae[_0x1cdb92(0x10c)][_0x1cdb92(0x124)]=_0x1cdb92(0x10b),_0x3b067f[_0x1cdb92(0x10c)]['display']=_0x1cdb92(0x10b),_0x282e49[_0x1cdb92(0x10c)][_0x1cdb92(0x124)]='block';let _0x501fb0=_0x30caa5===0x0?_0x1cdb92(0x1c3):'–∑–∞\x20'+_0x30caa5+_0x1cdb92(0x18f);_0x282e49[_0x1cdb92(0xe1)]=_0x1cdb92(0x104)+_0x501fb0+_0x1cdb92(0x15f);}}document['getElementById'](_0x1cdb92(0x175))[_0x1cdb92(0x143)][_0x1cdb92(0x112)](_0x1cdb92(0x192)),document[_0x1cdb92(0x179)](_0x1cdb92(0xdb))['classList'][_0x1cdb92(0x112)](_0x1cdb92(0x12d));}function closeAllSheets(){const _0x56eb41=a3_0x113ffc;document['getElementById'](_0x56eb41(0x175))[_0x56eb41(0x143)][_0x56eb41(0x1a6)]('active'),document[_0x56eb41(0xfe)]('.sheet')[_0x56eb41(0xf2)](_0x186ddb=>_0x186ddb[_0x56eb41(0x143)][_0x56eb41(0x1a6)](_0x56eb41(0x12d)));}function openSheet(_0x5d73c9){const _0x507006=a3_0x113ffc;document['getElementById']('overlay')[_0x507006(0x143)][_0x507006(0x112)]('active'),document['getElementById'](_0x5d73c9)[_0x507006(0x143)]['add'](_0x507006(0x12d));}function getLocalDateStr(_0x168ea3){const _0x3d9531=a3_0x113ffc,_0x431c4b=_0x168ea3[_0x3d9531(0x16f)](),_0x44a7ad=String(_0x168ea3[_0x3d9531(0x196)]()+0x1)[_0x3d9531(0x132)](0x2,'0'),_0x580067=String(_0x168ea3['getDate']())[_0x3d9531(0x132)](0x2,'0');return _0x431c4b+'-'+_0x44a7ad+'-'+_0x580067;}function getStartOfWeek(_0xf7849e){const _0x397eb9=a3_0x113ffc,_0x46b393=new Date(_0xf7849e),_0x3bdedd=_0x46b393[_0x397eb9(0x19f)](),_0x59567e=_0x46b393[_0x397eb9(0x178)]()-_0x3bdedd+(_0x3bdedd===0x0?-0x6:0x1);return _0x46b393[_0x397eb9(0x145)](_0x59567e),_0x46b393['setHours'](0x0,0x0,0x0,0x0),_0x46b393;}function scrollToToday(){const _0x2f29d6=getLocalDateStr(new Date());setTimeout(()=>{const _0x5c54fb=a3_0x2961,_0x840fe0=document['querySelector']('.day-col-header[data-date=\x22'+_0x2f29d6+'\x22]');if(_0x840fe0){const _0x4cb08c=document['getElementById'](_0x5c54fb(0x146)),_0x366835=_0x840fe0[_0x5c54fb(0x17d)]-_0x4cb08c[_0x5c54fb(0xf6)]/0x2+_0x840fe0['offsetWidth']/0x2;_0x4cb08c[_0x5c54fb(0x11b)]({'left':_0x366835,'behavior':_0x5c54fb(0x15c)}),_0x4cb08c[_0x5c54fb(0x108)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x545294=a3_0x113ffc,_0x4801ee=new Date(),_0x543c57=document[_0x545294(0x179)](_0x545294(0x14b)),_0x38984c=document[_0x545294(0x179)](_0x545294(0x121)),_0xa49c6a=(_0x4801ee['getHours']()*0x3c+_0x4801ee[_0x545294(0x154)]())/0x3c*GRID_H;_0x543c57[_0x545294(0x10c)][_0x545294(0xd1)]=_0xa49c6a+'px',_0x543c57[_0x545294(0x10c)][_0x545294(0x124)]=_0x545294(0x165),_0x38984c['style'][_0x545294(0xd1)]=_0xa49c6a+'px',_0x38984c['style'][_0x545294(0x124)]=_0x545294(0x165),_0x38984c['textContent']=String(_0x4801ee[_0x545294(0xe8)]())[_0x545294(0x132)](0x2,'0')+':'+String(_0x4801ee[_0x545294(0x154)]())[_0x545294(0x132)](0x2,'0');}function onScroll(){const _0x369b01=a3_0x113ffc,_0x5cc2c8=document['getElementById'](_0x369b01(0x146)),_0x5a989a=document[_0x369b01(0xfe)](_0x369b01(0xf8));for(let _0x31b196 of _0x5a989a)if(_0x31b196[_0x369b01(0x17d)]>=_0x5cc2c8['scrollLeft']){const _0x502def=new Date(_0x31b196[_0x369b01(0x141)](_0x369b01(0x11c)));document[_0x369b01(0x179)](_0x369b01(0x184))['textContent']=_0x502def[_0x369b01(0x111)]('ru',{'month':_0x369b01(0xce)})[_0x369b01(0x137)]()+'\x20'+_0x502def[_0x369b01(0x16f)]();break;}}function showToast(_0x25c5a5){const _0x4e4e09=a3_0x113ffc,_0x3648ba=document[_0x4e4e09(0x179)](_0x4e4e09(0x1c5));_0x3648ba[_0x4e4e09(0xe1)]=_0x25c5a5,_0x3648ba['classList'][_0x4e4e09(0x112)]('show'),setTimeout(()=>_0x3648ba['classList']['remove']('show'),0x7d0);}function a3_0x2961(_0x553a8e,_0x234149){_0x553a8e=_0x553a8e-0xc9;const _0x30c757=a3_0x16e2();let _0x14754f=_0x30c757[_0x553a8e];return _0x14754f;}function handleInfiniteScroll(){const _0x47cea9=a3_0x113ffc,_0x3829ce=document[_0x47cea9(0x179)]('matrixViewport'),_0x27460a=_0x3829ce[_0x47cea9(0xef)],_0x372d91=_0x3829ce[_0x47cea9(0x12a)],_0x4ce882=_0x3829ce[_0x47cea9(0xf6)];if(_0x372d91-(_0x27460a+_0x4ce882)<0x12c){const _0x19d7bf=endOffset;endOffset+=0xe,renderDayRange(_0x19d7bf+0x1,endOffset),reRenderBlocks();}if(_0x27460a<0x12c){const _0x25704e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x25704e-0x1),_0x3829ce[_0x47cea9(0xef)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x363ea9,_0x214006){const _0x4d4a9a=a3_0x113ffc,_0x3e44de=document['getElementById']('daysHeaderTrack'),_0x518fe7=document[_0x4d4a9a(0x179)](_0x4d4a9a(0xee)),_0x1cae49=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x538383=new Date();_0x538383[_0x4d4a9a(0x1a9)](0x0,0x0,0x0,0x0);const _0x5a9720=getLocalDateStr(new Date()),_0x2148e8=document[_0x4d4a9a(0x107)](),_0x42f1ed=document['createDocumentFragment']();for(let _0x429281=_0x363ea9;_0x429281<=_0x214006;_0x429281++){const _0x570f12=new Date(_0x538383);_0x570f12['setDate'](_0x570f12[_0x4d4a9a(0x178)]()+_0x429281);const _0x2d3d60=getLocalDateStr(_0x570f12);let _0x34fea4=_0x570f12[_0x4d4a9a(0x19f)]()-0x1;if(_0x34fea4===-0x1)_0x34fea4=0x6;const _0x223992=_0x2d3d60===_0x5a9720,_0x454459=document[_0x4d4a9a(0x1a3)]('div');_0x454459[_0x4d4a9a(0x12f)]=_0x4d4a9a(0x125)+(_0x223992?_0x4d4a9a(0x15e):''),_0x454459[_0x4d4a9a(0x1a7)](_0x4d4a9a(0x11c),_0x2d3d60),_0x454459[_0x4d4a9a(0x15b)]=_0x4d4a9a(0x19b)+_0x1cae49[_0x34fea4]+'</div><div\x20class=\x22dch-num\x22>'+_0x570f12[_0x4d4a9a(0x178)]()+_0x4d4a9a(0x115),_0x2148e8[_0x4d4a9a(0x101)](_0x454459);const _0x504934=document[_0x4d4a9a(0x1a3)]('div');_0x504934[_0x4d4a9a(0x12f)]='day-column\x20'+(_0x223992?'today':''),_0x504934[_0x4d4a9a(0x1a7)](_0x4d4a9a(0x11c),_0x2d3d60),_0x504934[_0x4d4a9a(0x1a7)](_0x4d4a9a(0x18c),_0x34fea4),_0x42f1ed[_0x4d4a9a(0x101)](_0x504934);}_0x3e44de[_0x4d4a9a(0x156)](_0x2148e8,_0x3e44de[_0x4d4a9a(0x16a)]),_0x518fe7[_0x4d4a9a(0x156)](_0x42f1ed,_0x518fe7[_0x4d4a9a(0x1a1)]('.day-column'));}function hexToRgba(_0x83a333,_0x40179e){const _0x5aff96=a3_0x113ffc;let _0x46cc19;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5aff96(0x162)](_0x83a333))return _0x46cc19=_0x83a333[_0x5aff96(0x14c)](0x1)[_0x5aff96(0xcb)](''),_0x46cc19[_0x5aff96(0x1c1)]==0x3&&(_0x46cc19=[_0x46cc19[0x0],_0x46cc19[0x0],_0x46cc19[0x1],_0x46cc19[0x1],_0x46cc19[0x2],_0x46cc19[0x2]]),_0x46cc19='0x'+_0x46cc19[_0x5aff96(0x133)](''),_0x5aff96(0x139)+[_0x46cc19>>0x10&0xff,_0x46cc19>>0x8&0xff,_0x46cc19&0xff][_0x5aff96(0x133)](',')+','+_0x40179e+')';return _0x5aff96(0xe4)+_0x40179e+')';}let confirmResolver=null;function showCustomConfirm(_0x5e1bcc,_0x16dedd,_0xb81343=!![]){const _0x27d9b1=a3_0x113ffc;document[_0x27d9b1(0x179)](_0x27d9b1(0x103))[_0x27d9b1(0xe1)]=_0x5e1bcc,document['getElementById'](_0x27d9b1(0x1b4))[_0x27d9b1(0xe1)]=_0x16dedd;const _0x34e9ae=document[_0x27d9b1(0x179)](_0x27d9b1(0xf3));return _0xb81343?(_0x34e9ae['style'][_0x27d9b1(0x18e)]=_0x27d9b1(0x152),_0x34e9ae['style'][_0x27d9b1(0x123)]=_0x27d9b1(0xf7)):(_0x34e9ae[_0x27d9b1(0x10c)]['color']=_0x27d9b1(0x19e),_0x34e9ae[_0x27d9b1(0x10c)][_0x27d9b1(0x123)]='600'),new Promise(_0xf98112=>{const _0x3acc67=_0x27d9b1;confirmResolver=_0xf98112,document[_0x3acc67(0x179)](_0x3acc67(0x138))[_0x3acc67(0x143)][_0x3acc67(0x112)](_0x3acc67(0xca));});}function resolveCustomConfirm(_0x32576b){const _0x146117=a3_0x113ffc;document[_0x146117(0x179)](_0x146117(0x138))[_0x146117(0x143)][_0x146117(0x1a6)](_0x146117(0xca));if(confirmResolver)confirmResolver(_0x32576b);}async function tryCancelCurrentSession(){const _0x3cf537=a3_0x113ffc;if(!currentSession)return;const _0x5ba053=await showCustomConfirm(_0x3cf537(0x155),_0x3cf537(0x198),!![]);if(!_0x5ba053)return;const _0x36be09=currentSession;closeAllSheets(),sessions=sessions[_0x3cf537(0x13b)](_0x5a5ffd=>_0x5a5ffd['id']!==_0x36be09['id']),reRenderBlocks(),showToast(_0x3cf537(0x1b5)),lastUserActionTime=Date['now']();try{const _0x34eef7=window[_0x3cf537(0x160)]?.[_0x3cf537(0x1a2)],_0x16f270=await fetch(API_URL,{'method':_0x3cf537(0x176),'body':JSON[_0x3cf537(0x197)]({'action':'client_cancel','init_data':_0x34eef7?.['initData']||'','coachId':_0x36be09[_0x3cf537(0x16b)],'dateStr':_0x36be09['dateStr'],'sessionId':_0x36be09['id']})});if(_0x16f270['ok'])DataManager[_0x3cf537(0xfc)]();}catch(_0xb234d7){showToast(_0x3cf537(0x106));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5a5450=a3_0x113ffc;if(!currentSession)return;document['getElementById']('detailsSheet')[_0x5a5450(0x143)]['remove']('open'),document[_0x5a5450(0x179)](_0x5a5450(0x17c))[_0x5a5450(0x143)]['add'](_0x5a5450(0x12d));const _0x8b1c19=document['getElementById']('rsDatesTrack'),_0x443ff5=document[_0x5a5450(0x179)]('rsSlotsGrid');_0x8b1c19[_0x5a5450(0x15b)]='',_0x443ff5['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x1c5427,_0x484756]=currentSession[_0x5a5450(0x18d)][_0x5a5450(0xcb)](':')['map'](Number),[_0x4471c3,_0x35f90c]=currentSession['end'][_0x5a5450(0xcb)](':')['map'](Number),_0x40364a=_0x4471c3*0x3c+_0x35f90c-(_0x1c5427*0x3c+_0x484756);try{const _0x2ab0c4=window[_0x5a5450(0x160)]?.['WebApp'],_0x147115=await fetch(API_URL,{'method':_0x5a5450(0x176),'body':JSON[_0x5a5450(0x197)]({'action':'get_slots','coachId':currentSession[_0x5a5450(0x16b)],'duration':_0x40364a,'init_data':_0x2ab0c4?.[_0x5a5450(0x158)]||'','excludeSessionId':currentSession['id']})}),_0x5844b9=await _0x147115[_0x5a5450(0xf1)]();_0x5844b9['ok']&&_0x5844b9['data']?(availableSlotsCache=_0x5844b9[_0x5a5450(0xdc)],renderRescheduleDates()):_0x443ff5[_0x5a5450(0x15b)]=_0x5a5450(0x1ac);}catch(_0x55b006){_0x443ff5[_0x5a5450(0x15b)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x4d6efa=a3_0x113ffc,_0x432aed=document[_0x4d6efa(0x179)]('rsDatesTrack');_0x432aed['innerHTML']='';const _0x3a864c=Object[_0x4d6efa(0x149)](availableSlotsCache)[_0x4d6efa(0x114)](),_0x3ccab0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3a864c[_0x4d6efa(0x1c1)]===0x0){document[_0x4d6efa(0x179)](_0x4d6efa(0x1ab))['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x3a864c[_0x4d6efa(0xf2)]((_0x2ffdd8,_0x5b1c3b)=>{const _0x245b2e=_0x4d6efa,_0x597137=new Date(_0x2ffdd8),_0x34c979=_0x3ccab0[_0x597137[_0x245b2e(0x19f)]()],_0x104bb8=_0x597137[_0x245b2e(0x178)](),_0x2f74cf=document['createElement'](_0x245b2e(0x170));_0x2f74cf['className']=_0x245b2e(0x12e);if(_0x5b1c3b===0x0)_0x2f74cf['classList'][_0x245b2e(0x112)](_0x245b2e(0x192));_0x2f74cf[_0x245b2e(0x15b)]=_0x245b2e(0x134)+_0x34c979+_0x245b2e(0xf5)+_0x104bb8+'</div>',_0x2f74cf[_0x245b2e(0x1b1)]=()=>selectRsDate(_0x2ffdd8,_0x2f74cf),_0x432aed[_0x245b2e(0x101)](_0x2f74cf);}),selectRsDate(_0x3a864c[0x0],_0x432aed[_0x4d6efa(0x16a)]);}function selectRsDate(_0x460e2e,_0x381106){const _0x3b2868=a3_0x113ffc;selectedRsDate=_0x460e2e,document['querySelectorAll']('.rs-date-chip')[_0x3b2868(0xf2)](_0x143576=>_0x143576[_0x3b2868(0x143)][_0x3b2868(0x1a6)](_0x3b2868(0x192)));if(_0x381106)_0x381106[_0x3b2868(0x143)]['add'](_0x3b2868(0x192));const _0x3567e5=document[_0x3b2868(0x179)](_0x3b2868(0x1ab));_0x3567e5[_0x3b2868(0x15b)]='';const _0x10fc90=availableSlotsCache[_0x460e2e]||[];if(_0x10fc90['length']===0x0){_0x3567e5[_0x3b2868(0x15b)]=_0x3b2868(0x1ac);return;}_0x10fc90[_0x3b2868(0xf2)](_0x1a12da=>{const _0x3a23d5=_0x3b2868,_0x3be757=document[_0x3a23d5(0x1a3)](_0x3a23d5(0x150));_0x3be757[_0x3a23d5(0x12f)]=_0x3a23d5(0x13d),_0x3be757[_0x3a23d5(0xe1)]=_0x1a12da,_0x3be757['onclick']=()=>confirmReschedule(_0x1a12da),_0x3567e5[_0x3a23d5(0x101)](_0x3be757);});}async function confirmReschedule(_0x317d7c){const _0x1ec30c=a3_0x113ffc,_0x144fc1=new Date(selectedRsDate),_0x59b425=_0x144fc1[_0x1ec30c(0x19c)](_0x1ec30c(0xfb),{'day':_0x1ec30c(0xff),'month':_0x1ec30c(0xce)}),_0x192d7d=await showCustomConfirm(_0x1ec30c(0xe5),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x59b425+_0x1ec30c(0x194)+_0x317d7c+'?',![]);if(!_0x192d7d)return;closeAllSheets(),showToast(_0x1ec30c(0x11f)),lastUserActionTime=Date[_0x1ec30c(0xeb)]();const _0x3dc2ac=currentSession[_0x1ec30c(0x17f)],_0x564b25=currentSession['id'],[_0x34e2c8,_0x5b0d5a]=currentSession[_0x1ec30c(0x18d)][_0x1ec30c(0xcb)](':')[_0x1ec30c(0x102)](Number),[_0x338281,_0x288d3f]=currentSession[_0x1ec30c(0x1ad)][_0x1ec30c(0xcb)](':')['map'](Number),_0x2497cc=_0x338281*0x3c+_0x288d3f-(_0x34e2c8*0x3c+_0x5b0d5a),[_0x597c4a,_0x35fd79]=_0x317d7c[_0x1ec30c(0xcb)](':')[_0x1ec30c(0x102)](Number),_0x54b645=_0x597c4a*0x3c+_0x35fd79+_0x2497cc,_0x3f843a=Math[_0x1ec30c(0x1ae)](_0x54b645/0x3c),_0x171e8e=_0x54b645%0x3c,_0x30f5f2=String(_0x3f843a)[_0x1ec30c(0x132)](0x2,'0')+':'+String(_0x171e8e)['padStart'](0x2,'0'),_0x55dcdf=sessions[_0x1ec30c(0xea)](_0x2103b2=>_0x2103b2['id']===_0x564b25);_0x55dcdf!==-0x1&&(sessions[_0x55dcdf][_0x1ec30c(0x17f)]=selectedRsDate,sessions[_0x55dcdf][_0x1ec30c(0x18d)]=_0x317d7c,sessions[_0x55dcdf]['end']=_0x30f5f2,reRenderBlocks());try{const _0x3144de=window[_0x1ec30c(0x160)]?.[_0x1ec30c(0x1a2)],_0x1a9b75=await fetch(API_URL,{'method':_0x1ec30c(0x176),'body':JSON[_0x1ec30c(0x197)]({'action':_0x1ec30c(0x1b7),'init_data':_0x3144de?.['initData']||'','oldSessionId':_0x564b25,'oldDate':_0x3dc2ac,'newDate':selectedRsDate,'newTime':_0x317d7c,'coachId':currentSession[_0x1ec30c(0x16b)]})}),_0xcd3d85=await _0x1a9b75[_0x1ec30c(0xf1)]();!_0xcd3d85['ok']?(showToast(_0x1ec30c(0x1c4)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x1ec30c(0xfc)]());}catch(_0x13cb80){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x113ffc(0x18a)](a3_0x113ffc(0x1be),init);