const a3_0x212bca=a3_0x26f4;(function(_0x47020b,_0x525d33){const _0x14d835=a3_0x26f4,_0x19efbb=_0x47020b();while(!![]){try{const _0x562819=parseInt(_0x14d835(0x205))/0x1*(-parseInt(_0x14d835(0x24a))/0x2)+parseInt(_0x14d835(0x1c2))/0x3+-parseInt(_0x14d835(0x226))/0x4+-parseInt(_0x14d835(0x21e))/0x5*(-parseInt(_0x14d835(0x1c6))/0x6)+-parseInt(_0x14d835(0x21f))/0x7+-parseInt(_0x14d835(0x1cd))/0x8+parseInt(_0x14d835(0x248))/0x9;if(_0x562819===_0x525d33)break;else _0x19efbb['push'](_0x19efbb['shift']());}catch(_0x3312df){_0x19efbb['push'](_0x19efbb['shift']());}}}(a3_0xba9b,0x9fc81));const APP_VERSION=a3_0x212bca(0x260),API_URL=a3_0x212bca(0x1c9),GRID_H=0x3c,KEY_SESSIONS=a3_0x212bca(0x24d),KEY_SETTINGS=a3_0x212bca(0x19e),KEY_CLIENTS=a3_0x212bca(0x21d);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x212bca(0x1a0),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1f4e73=a3_0x212bca,_0xcdee4f=(function(){let _0x639b38=!![];return function(_0x54a46e,_0xe89ad4){const _0xf1cbb0=_0x639b38?function(){const _0x3f3b7b=a3_0x26f4;if(_0xe89ad4){const _0x58bc39=_0xe89ad4[_0x3f3b7b(0x1d5)](_0x54a46e,arguments);return _0xe89ad4=null,_0x58bc39;}}:function(){};return _0x639b38=![],_0xf1cbb0;};}()),_0x3f3fe8=_0xcdee4f(this,function(){const _0x20cc3b=a3_0x26f4;return _0x3f3fe8['toString']()[_0x20cc3b(0x25c)](_0x20cc3b(0x18a))[_0x20cc3b(0x186)]()[_0x20cc3b(0x1ab)](_0x3f3fe8)[_0x20cc3b(0x25c)](_0x20cc3b(0x18a));});_0x3f3fe8();try{const _0x47cc86=window['Telegram']?.[_0x1f4e73(0x174)];if(!_0x47cc86)return;_0x47cc86[_0x1f4e73(0x19b)](),_0x47cc86['expand']();try{_0x47cc86[_0x1f4e73(0x191)]('#050505'),_0x47cc86[_0x1f4e73(0x224)]&&_0x47cc86[_0x1f4e73(0x224)](_0x1f4e73(0x175));}catch(_0x336b81){console[_0x1f4e73(0x180)](_0x1f4e73(0x1b7),_0x336b81);}try{_0x47cc86[_0x1f4e73(0x228)]&&(_0x47cc86[_0x1f4e73(0x228)][_0x1f4e73(0x238)](),_0x47cc86['BackButton'][_0x1f4e73(0x213)](),_0x47cc86[_0x1f4e73(0x228)][_0x1f4e73(0x22b)](function(){const _0xe943c4=_0x1f4e73;window[_0xe943c4(0x20f)][_0xe943c4(0x16f)]=_0xe943c4(0x210);}));}catch(_0x355e5a){console[_0x1f4e73(0x180)]('Error\x20setting\x20back\x20button:',_0x355e5a);}try{if(_0x47cc86[_0x1f4e73(0x246)])_0x47cc86['disableVerticalSwipes']();}catch(_0x3ac43f){}}catch(_0x40bd3a){console['error'](_0x1f4e73(0x217),_0x40bd3a);}}());function isAdmin(){const _0x3fee1e=a3_0x212bca;try{const _0x3c48e3=Number(window['Telegram']?.[_0x3fee1e(0x174)]?.[_0x3fee1e(0x1c1)]?.[_0x3fee1e(0x171)]?.['id']);return _0x3c48e3===0xbaf7174;}catch(_0xf7ac2f){return![];}}const DataManager={'saveLocally'(){const _0x2dcc1d=a3_0x212bca;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x2dcc1d(0x1a8)](sessions)),localStorage[_0x2dcc1d(0x1b0)](KEY_CLIENTS,JSON[_0x2dcc1d(0x1a8)](clients)),localStorage[_0x2dcc1d(0x1b0)](KEY_SETTINGS,JSON[_0x2dcc1d(0x1a8)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x37f163){}},'loadLocal'(){const _0x512544=a3_0x212bca;try{const _0x28bf6b=localStorage[_0x512544(0x22c)](KEY_SESSIONS);if(_0x28bf6b)sessions=JSON[_0x512544(0x184)](_0x28bf6b);const _0x499fb8=localStorage[_0x512544(0x22c)](KEY_CLIENTS);if(_0x499fb8)clients=JSON[_0x512544(0x184)](_0x499fb8);const _0x529438=localStorage['getItem'](KEY_SETTINGS);if(_0x529438){const _0x1e6443=JSON[_0x512544(0x184)](_0x529438);if(_0x1e6443[_0x512544(0x1bb)])availabilityPattern=_0x1e6443[_0x512544(0x1bb)];if(_0x1e6443[_0x512544(0x200)])specialRanges=_0x1e6443[_0x512544(0x200)];if(_0x1e6443['exceptions'])dateExceptions=_0x1e6443[_0x512544(0x1cb)];}}catch(_0x504ad4){}},async 'syncLoad'(){const _0xabb486=a3_0x212bca,_0x9c4641=new Date(),_0x3b660d=_0x9c4641['getFullYear']()+'-'+String(_0x9c4641['getMonth']()+0x1)[_0xabb486(0x25f)](0x2,'0'),_0x33aaf8=new Date(_0x9c4641);_0x33aaf8[_0xabb486(0x1f1)](_0x9c4641['getMonth']()+0x1);const _0x3c3217=_0x33aaf8['getFullYear']()+'-'+String(_0x33aaf8[_0xabb486(0x1d1)]()+0x1)['padStart'](0x2,'0'),_0x40d747=Date[_0xabb486(0x22d)]();try{const _0x404471=window[_0xabb486(0x1a3)]?.['WebApp'],_0x54f058=_0x404471?.[_0xabb486(0x170)]||'',[_0xca815c,_0x1ff050]=await Promise[_0xabb486(0x259)]([fetch(API_URL,{'method':_0xabb486(0x17b),'body':JSON[_0xabb486(0x1a8)]({'action':_0xabb486(0x201),'init_data':_0x54f058,'month_str':_0x3b660d})})[_0xabb486(0x1bd)](_0x59fc58=>_0x59fc58[_0xabb486(0x1e2)]()),fetch(API_URL,{'method':_0xabb486(0x17b),'body':JSON[_0xabb486(0x1a8)]({'action':_0xabb486(0x201),'init_data':_0x54f058,'month_str':_0x3c3217})})['then'](_0x4f45a1=>_0x4f45a1[_0xabb486(0x1e2)]())]);if(lastUserActionTime>_0x40d747){console[_0xabb486(0x180)](_0xabb486(0x1fc));return;}if(_0xca815c['ok'])this[_0xabb486(0x1ee)](_0xca815c[_0xabb486(0x189)],_0x3b660d);if(_0x1ff050['ok'])this['applyData'](_0x1ff050['data'],_0x3c3217);this[_0xabb486(0x1f5)]();}catch(_0x1c586d){}},'applyData'(_0x13002a,_0x24919c){const _0x20c0cc=a3_0x212bca;if(!_0x13002a)return;if(_0x13002a[_0x20c0cc(0x18b)]){if(_0x13002a[_0x20c0cc(0x18b)][_0x20c0cc(0x1bb)])availabilityPattern=_0x13002a[_0x20c0cc(0x18b)][_0x20c0cc(0x1bb)];if(_0x13002a[_0x20c0cc(0x18b)][_0x20c0cc(0x200)])specialRanges=_0x13002a['settings'][_0x20c0cc(0x200)];if(_0x13002a[_0x20c0cc(0x18b)][_0x20c0cc(0x1cb)])dateExceptions=_0x13002a[_0x20c0cc(0x18b)][_0x20c0cc(0x1cb)];}if(_0x13002a[_0x20c0cc(0x263)]&&Array[_0x20c0cc(0x1f0)](_0x13002a['clients']))clients=_0x13002a[_0x20c0cc(0x263)];_0x13002a[_0x20c0cc(0x1d6)]&&(coachProfiles={...coachProfiles,..._0x13002a[_0x20c0cc(0x1d6)]}),_0x13002a[_0x20c0cc(0x22a)]&&(sessions=sessions[_0x20c0cc(0x236)](_0xd6aba0=>!_0xd6aba0[_0x20c0cc(0x1ac)][_0x20c0cc(0x24f)](_0x24919c)),Object[_0x20c0cc(0x1e8)](_0x13002a['calendar'])[_0x20c0cc(0x211)](_0x46bb21=>{const _0x476877=_0x20c0cc,_0x477cd2=_0x13002a[_0x476877(0x22a)][_0x46bb21];_0x477cd2[_0x476877(0x211)](_0x226560=>{const _0x4c6e7d=_0x476877;sessions[_0x4c6e7d(0x1e6)]({'id':_0x226560['i'],'clientId':_0x226560['c'],'coachId':_0x226560[_0x4c6e7d(0x1b9)],'dateStr':_0x24919c+'-'+_0x46bb21['padStart'](0x2,'0'),'start':_0x226560['s'],'end':_0x226560['e'],'note':_0x226560['n']||'','status':_0x226560['st']||_0x4c6e7d(0x1a6),'seriesId':_0x226560[_0x4c6e7d(0x244)]});});})),reRenderBlocks();}};function init(){const _0xe63848=a3_0x212bca;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xe63848(0x1ce)](_0xe63848(0x18e))[_0xe63848(0x17c)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function a3_0x26f4(_0x1b7ab5,_0x30e5f5){_0x1b7ab5=_0x1b7ab5-0x169;const _0x7c4433=a3_0xba9b();let _0x4527d5=_0x7c4433[_0x1b7ab5];return _0x4527d5;}function renderTimeColumn(){const _0x528c13=a3_0x212bca,_0x118dd5=document[_0x528c13(0x1ce)](_0x528c13(0x1d3)),_0x26c445=document['getElementById'](_0x528c13(0x256));_0x118dd5['innerHTML']='',_0x118dd5[_0x528c13(0x1e3)](_0x26c445);for(let _0x239a06=0x0;_0x239a06<0x18;_0x239a06++){const _0x3c30b1=document[_0x528c13(0x19f)](_0x528c13(0x1ae));_0x3c30b1[_0x528c13(0x208)]='time-label';if(_0x239a06>0x0)_0x3c30b1[_0x528c13(0x209)]='<span>'+String(_0x239a06)[_0x528c13(0x25f)](0x2,'0')+_0x528c13(0x1bc);_0x118dd5[_0x528c13(0x1e3)](_0x3c30b1);}}function a3_0xba9b(){const _0x4d4817=['.rs-date-chip','#0a84ff','json','appendChild','\x20–∏–∑\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','zIndex','keys','detTime','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','total','scrollTop','applyData','overlay','isArray','setMonth','getHours','syncLoad','findIndex','saveLocally','data-day-idx','anCustomDates','ccTitle','daysHeaderTrack','max','getDate','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','</span>\x20/\x20','headerMonth','open','ranges','client_load','getTime','%\x20-\x204px)','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','33083FuCOMJ','blocked-range-part\x20stripe-bg','round','className','innerHTML','.period-switch\x20.p-btn','px\x200px','completed','#ff453a','–∑–∞\x20','location','router.html','forEach','backgroundColor','offClick','remove','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getDay','Critical\x20TMA\x20Error:','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.day-column','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','long','backgroundPosition','uc_client_list','3431920AYCUNr','6855555ULCiui','toLocaleString','rs-date-chip','setHours','cancelHint','setBackgroundColor','visible','2795748qcbVdt','sort','BackButton','color','calendar','onClick','getItem','now','cancelContainer','none','<div\x20class=\x22dch-day\x22>','strokeDashoffset','length','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','style','rsDatesTrack','filter','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show','cancel_window','anTotalStats','toast','month','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','%\x20+\x202px)','floor','substr','Unknown','status','width','sid','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','disableVerticalSwipes','getMinutes','30209292sMthwP','\x20—á.','62ADTpUb','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','stopPropagation','uc_client_sessions','setDate','startsWith','</div><div\x20class=\x22dch-num\x22>','var(--acc-green)','active','mini','calc(','anPercent','timeLineBadge','px\x20-','note','all','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','start','search','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','</div><div\x20class=\x22rs-day-num\x22>','padStart','v9.5-CLIENT-ANALYTICS','add','anStart','clients','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','onclick','DOMContentLoaded','data-date','getAttribute','numeric','detNote','borderLeftColor','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','analyticsList','globalTimeLine','rescheduleSheet','toUpperCase','querySelector','.btn-cancel','href','initData','user','analyticsSheet','client-stat-card','WebApp','#050505','seriesId','querySelectorAll','<div\x20class=\x22rs-day-name\x22>','</div>','blocked-slot\x20stripe-bg','POST','addEventListener','gridColumns','value','rsSlotsGrid','log','600','offsetLeft','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','parse','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toString','.day-col-header[data-date=\x22','offsetWidth','data','(((.+)+)+)+$','settings','setAttribute','day-off-overlay\x20stripe-bg','matrixViewport','customConfirm','test','setHeaderColor','reschedule','toLocaleDateString','substring','fontWeight','client_cancel','scrollLeft','colIndex','T00:00:00','find','ready','firstChild','split','uc_client_settings','createElement','week','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','custom','Telegram','scrollTo','\x20–≤\x20','planned','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','stringify','end','left','constructor','dateStr','clientWidth','div','top','setItem','join','rs-time-btn','anEnd','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detDate','min','Error\x20setting\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','cid','today','pattern',':00</span>','then','createDocumentFragment','button','display','initDataUnsafe','1768602UlTyni','height','coachId','ru-RU','6KKRFVD','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','map','exceptions','done','10193328jEzTye','getElementById','block','classList','getMonth','getFullYear','timeColumn','detailsSheet','apply','coach_profiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(','day-col-header\x20','\x20-\x20','clientId','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','–û—Ç–º–µ–Ω–µ–Ω–æ','ccText','textContent'];a3_0xba9b=function(){return _0x4d4817;};return a3_0xba9b();}function renderDayRange(_0x2e1239,_0x58ad16){const _0x54cb77=a3_0x212bca,_0x4fcf32=document[_0x54cb77(0x1ce)](_0x54cb77(0x1f9)),_0x2831c3=document[_0x54cb77(0x1ce)](_0x54cb77(0x17d)),_0x38a3ed=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3842bb=new Date();_0x3842bb['setHours'](0x0,0x0,0x0,0x0);const _0x174e7e=getLocalDateStr(new Date());for(let _0x8cf0ff=_0x2e1239;_0x8cf0ff<=_0x58ad16;_0x8cf0ff++){const _0x479482=new Date(_0x3842bb);_0x479482['setDate'](_0x479482[_0x54cb77(0x1fb)]()+_0x8cf0ff);const _0x311a77=getLocalDateStr(_0x479482);let _0xea09df=_0x479482['getDay']()-0x1;if(_0xea09df===-0x1)_0xea09df=0x6;const _0x1702ad=_0x311a77===_0x174e7e,_0x49bc50=document['createElement'](_0x54cb77(0x1ae));_0x49bc50['className']=_0x54cb77(0x1d9)+(_0x1702ad?_0x54cb77(0x1ba):''),_0x49bc50[_0x54cb77(0x18c)](_0x54cb77(0x267),_0x311a77),_0x49bc50[_0x54cb77(0x209)]=_0x54cb77(0x230)+_0x38a3ed[_0xea09df]+_0x54cb77(0x250)+_0x479482[_0x54cb77(0x1fb)]()+_0x54cb77(0x179),_0x4fcf32['appendChild'](_0x49bc50);const _0x389220=document['createElement'](_0x54cb77(0x1ae));_0x389220[_0x54cb77(0x208)]='day-column\x20'+(_0x1702ad?_0x54cb77(0x1ba):''),_0x389220[_0x54cb77(0x18c)]('data-date',_0x311a77),_0x389220[_0x54cb77(0x18c)](_0x54cb77(0x1f6),_0xea09df),_0x2831c3[_0x54cb77(0x1e3)](_0x389220);}}function reRenderBlocks(){const _0x32c47e=a3_0x212bca;document[_0x32c47e(0x177)]('.day-column')[_0x32c47e(0x211)](_0x434587=>{const _0x2cdf70=_0x32c47e;_0x434587[_0x2cdf70(0x177)](_0x2cdf70(0x1b4))[_0x2cdf70(0x211)](_0x39b392=>_0x39b392[_0x2cdf70(0x214)]());const _0x41b338=_0x434587['getAttribute'](_0x2cdf70(0x267)),_0x2e5013=parseInt(_0x434587[_0x2cdf70(0x268)](_0x2cdf70(0x1f6))),_0x19323b=Math[_0x2cdf70(0x207)](_0x434587[_0x2cdf70(0x182)]);(availabilityPattern[_0x2e5013]||[])[_0x2cdf70(0x211)](_0xb58813=>{const _0x2bf721=_0x2cdf70,_0x4ff64e=document[_0x2bf721(0x19f)](_0x2bf721(0x1ae));_0x4ff64e[_0x2bf721(0x208)]=_0x2bf721(0x17a),_0x4ff64e[_0x2bf721(0x234)]['top']=_0xb58813*GRID_H+'px',_0x4ff64e[_0x2bf721(0x234)][_0x2bf721(0x21c)]='-'+_0x19323b+_0x2bf721(0x257)+_0xb58813*GRID_H+'px',_0x434587[_0x2bf721(0x1e3)](_0x4ff64e);});if(specialRanges[_0x2cdf70(0x232)]>0x0){const _0x23b5d3=new Date(_0x41b338+_0x2cdf70(0x199))[_0x2cdf70(0x202)](),_0x5590d0=new Date(_0x41b338+'T23:59:59')[_0x2cdf70(0x202)]();specialRanges['forEach'](_0x4a64fb=>{const _0x32aa80=_0x2cdf70,_0x243a89=new Date(_0x4a64fb[_0x32aa80(0x25b)])[_0x32aa80(0x202)](),_0x2787d3=new Date(_0x4a64fb['end'])[_0x32aa80(0x202)](),_0x4511a3=Math[_0x32aa80(0x1fa)](_0x23b5d3,_0x243a89),_0x3a9753=Math[_0x32aa80(0x1b6)](_0x5590d0,_0x2787d3);if(_0x4511a3<_0x3a9753){const _0x255b1e=(_0x4511a3-_0x23b5d3)/0x36ee80*GRID_H,_0x34674f=(_0x3a9753-_0x4511a3)/0x36ee80*GRID_H,_0x1ef702=document[_0x32aa80(0x19f)](_0x32aa80(0x1ae));_0x34674f>=23.5*GRID_H?(_0x1ef702[_0x32aa80(0x208)]=_0x32aa80(0x18d),_0x1ef702['style'][_0x32aa80(0x21c)]='-'+_0x19323b+_0x32aa80(0x20b)):(_0x1ef702['className']=_0x32aa80(0x206),_0x1ef702[_0x32aa80(0x234)][_0x32aa80(0x1af)]=_0x255b1e+'px',_0x1ef702['style'][_0x32aa80(0x1c3)]=_0x34674f+'px',_0x1ef702[_0x32aa80(0x234)][_0x32aa80(0x21c)]='-'+_0x19323b+_0x32aa80(0x257)+_0x255b1e+'px'),_0x434587[_0x32aa80(0x1e3)](_0x1ef702);}});}renderEventsForColumn(_0x434587,_0x41b338);});}function renderEventsForColumn(_0xfe2e15,_0x2e3bb9){const _0x864a55=a3_0x212bca,_0x40a78d=sessions[_0x864a55(0x236)](_0x48c6a1=>_0x48c6a1[_0x864a55(0x1ac)]===_0x2e3bb9),_0x432cb6=_0x40a78d[_0x864a55(0x1ca)](_0x2b0bae=>{const _0x202cbe=_0x864a55,[_0x4c01a4,_0x45a34c]=_0x2b0bae['start'][_0x202cbe(0x19d)](':')['map'](Number),[_0x558ae1,_0x214c62]=_0x2b0bae[_0x202cbe(0x1a9)][_0x202cbe(0x19d)](':')[_0x202cbe(0x1ca)](Number);return{'data':_0x2b0bae,'start':_0x4c01a4*0x3c+_0x45a34c,'end':_0x558ae1*0x3c+_0x214c62,'colIndex':0x0};});_0x432cb6[_0x864a55(0x227)]((_0x5807ef,_0x10688a)=>_0x5807ef[_0x864a55(0x25b)]-_0x10688a[_0x864a55(0x25b)]||_0x10688a['end']-_0x10688a[_0x864a55(0x25b)]-(_0x5807ef[_0x864a55(0x1a9)]-_0x5807ef[_0x864a55(0x25b)]));const _0x16db3e=[];_0x432cb6['forEach'](_0x2889f0=>{const _0x854944=_0x864a55;let _0x125387=![];for(let _0x27d8f7=0x0;_0x27d8f7<_0x16db3e[_0x854944(0x232)];_0x27d8f7++){const _0x56f410=_0x16db3e[_0x27d8f7];if(_0x2889f0[_0x854944(0x25b)]>=_0x56f410[_0x56f410[_0x854944(0x232)]-0x1][_0x854944(0x1a9)]){_0x56f410['push'](_0x2889f0),_0x2889f0[_0x854944(0x198)]=_0x27d8f7,_0x125387=!![];break;}}!_0x125387&&(_0x16db3e[_0x854944(0x1e6)]([_0x2889f0]),_0x2889f0[_0x854944(0x198)]=_0x16db3e['length']-0x1);}),_0x432cb6['forEach'](_0xc144ba=>{const _0x1cac27=_0x864a55;let _0x449b8e=0x0;_0x432cb6[_0x1cac27(0x211)](_0x4f3caa=>{const _0x199d87=_0x1cac27;if(Math[_0x199d87(0x1fa)](_0xc144ba['start'],_0x4f3caa[_0x199d87(0x25b)])<Math[_0x199d87(0x1b6)](_0xc144ba[_0x199d87(0x1a9)],_0x4f3caa[_0x199d87(0x1a9)])&&_0x4f3caa[_0x199d87(0x198)]>_0x449b8e)_0x449b8e=_0x4f3caa[_0x199d87(0x198)];});const _0x5bbe4f=_0x449b8e+0x1,_0xe32ded=0x64/_0x5bbe4f,_0x212614=_0xc144ba[_0x1cac27(0x198)]*_0xe32ded,_0x1d99ac=document[_0x1cac27(0x19f)](_0x1cac27(0x1ae)),_0x5b9c34=_0xc144ba['data'];let _0x115a68=_0x1cac27(0x1e1);if(clients&&clients[_0x1cac27(0x232)]>0x0){const _0x484874=clients[_0x1cac27(0x19a)](_0x12a912=>String(_0x12a912['id'])===String(_0x5b9c34[_0x1cac27(0x1db)]));if(_0x484874&&_0x484874[_0x1cac27(0x229)])_0x115a68=_0x484874['color'];}const _0x4914c3=_0x5b9c34[_0x1cac27(0x242)]===_0x1cac27(0x20c),_0x51b280=_0x4914c3?0x1:0.45;_0x1d99ac['className']='event-card'+(_0x4914c3?'\x20status-completed':''),_0x1d99ac[_0x1cac27(0x234)][_0x1cac27(0x212)]=hexToRgba(_0x115a68,_0x51b280),_0x1d99ac[_0x1cac27(0x234)]['borderLeftColor']=_0x115a68;const _0x566ad0=_0xc144ba['start']/0x3c*GRID_H,_0x3f4c32=(_0xc144ba[_0x1cac27(0x1a9)]-_0xc144ba[_0x1cac27(0x25b)])/0x3c*GRID_H;_0x1d99ac['style'][_0x1cac27(0x1af)]=_0x566ad0+'px',_0x1d99ac[_0x1cac27(0x234)]['height']=Math['max'](_0x3f4c32,0x14)+'px',_0x1d99ac[_0x1cac27(0x234)][_0x1cac27(0x243)]=_0x1cac27(0x254)+_0xe32ded+_0x1cac27(0x203),_0x1d99ac[_0x1cac27(0x234)][_0x1cac27(0x1aa)]=_0x1cac27(0x254)+_0x212614+_0x1cac27(0x23e),_0x1d99ac[_0x1cac27(0x234)][_0x1cac27(0x1e7)]=0xa+_0xc144ba[_0x1cac27(0x198)];if(_0xe32ded<0x55)_0x1d99ac[_0x1cac27(0x1d0)][_0x1cac27(0x261)](_0x1cac27(0x253));let _0x23d47a='';if(_0x5b9c34[_0x1cac27(0x176)])_0x23d47a+=_0x1cac27(0x1c7);if(_0x4914c3)_0x23d47a+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1d99ac[_0x1cac27(0x209)]=_0x1cac27(0x1b8)+_0x5b9c34['start']+_0x1cac27(0x1da)+_0x5b9c34[_0x1cac27(0x1a9)]+_0x1cac27(0x237)+_0x23d47a+_0x1cac27(0x1d7),_0x1d99ac['onclick']=_0x240744=>{const _0x304a93=_0x1cac27;_0x240744[_0x304a93(0x24c)](),openDetails(_0x5b9c34);},_0xfe2e15[_0x1cac27(0x1e3)](_0x1d99ac);});}function openAnalytics(){const _0x5a4e8c=a3_0x212bca,_0x479053=document[_0x5a4e8c(0x16d)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5a4e8c(0x1a0),_0x479053),openSheet(_0x5a4e8c(0x172));}function setAnalyticsPeriod(_0x418032,_0x4058e7){const _0x850813=a3_0x212bca;currentAnPeriod=_0x418032,document[_0x850813(0x177)](_0x850813(0x20a))['forEach'](_0xe24b4e=>_0xe24b4e[_0x850813(0x1d0)]['remove'](_0x850813(0x252)));if(_0x4058e7)_0x4058e7[_0x850813(0x1d0)]['add'](_0x850813(0x252));const _0x1c77cf=document[_0x850813(0x1ce)](_0x850813(0x1f7));_0x1c77cf['style'][_0x850813(0x1c0)]=_0x418032===_0x850813(0x1a2)?'flex':_0x850813(0x22f);const _0x59674a=new Date();let _0x498def=new Date(),_0x37ee3b=new Date();if(_0x418032===_0x850813(0x1a0))_0x498def=getStartOfWeek(_0x59674a),_0x37ee3b=new Date(_0x498def),_0x37ee3b[_0x850813(0x24e)](_0x37ee3b['getDate']()+0x6);else{if(_0x418032===_0x850813(0x23c))_0x498def=new Date(_0x59674a[_0x850813(0x1d2)](),_0x59674a['getMonth'](),0x1),_0x37ee3b=new Date(_0x59674a[_0x850813(0x1d2)](),_0x59674a[_0x850813(0x1d1)]()+0x1,0x0);else{!document[_0x850813(0x1ce)](_0x850813(0x262))[_0x850813(0x17e)]&&(document[_0x850813(0x1ce)](_0x850813(0x262))[_0x850813(0x17e)]=getLocalDateStr(_0x59674a),document[_0x850813(0x1ce)](_0x850813(0x1b3))['value']=getLocalDateStr(_0x59674a));refreshAnalytics();return;}}document[_0x850813(0x1ce)](_0x850813(0x262))[_0x850813(0x17e)]=getLocalDateStr(_0x498def),document[_0x850813(0x1ce)](_0x850813(0x1b3))[_0x850813(0x17e)]=getLocalDateStr(_0x37ee3b),refreshAnalytics();}function refreshAnalytics(){const _0x32c05a=a3_0x212bca,_0x4e4a25=document[_0x32c05a(0x1ce)](_0x32c05a(0x262))[_0x32c05a(0x17e)],_0x30e892=document['getElementById'](_0x32c05a(0x1b3))['value'];if(!_0x4e4a25||!_0x30e892)return;const _0xe0fdc9=sessions[_0x32c05a(0x236)](_0x2ffa90=>_0x2ffa90['dateStr']>=_0x4e4a25&&_0x2ffa90['dateStr']<=_0x30e892&&_0x2ffa90[_0x32c05a(0x242)]!=='cancelled'),_0x19fb9c=_0xe0fdc9[_0x32c05a(0x232)],_0x3e57a9=_0xe0fdc9[_0x32c05a(0x236)](_0x5fe733=>_0x5fe733[_0x32c05a(0x242)]==='completed')[_0x32c05a(0x232)],_0x525ad3=_0x19fb9c>0x0?Math[_0x32c05a(0x207)](_0x3e57a9/_0x19fb9c*0x64):0x0;document[_0x32c05a(0x1ce)](_0x32c05a(0x255))['textContent']=_0x525ad3+'%',document['getElementById'](_0x32c05a(0x23a))[_0x32c05a(0x1df)]=_0x3e57a9+_0x32c05a(0x1e4)+_0x19fb9c+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x11e625=document[_0x32c05a(0x1ce)]('anDonutCircle'),_0x116f95=0x2*Math['PI']*0x23,_0x1e2041=_0x116f95-_0x525ad3/0x64*_0x116f95;_0x11e625[_0x32c05a(0x234)][_0x32c05a(0x231)]=_0x1e2041;const _0x391f87={};_0xe0fdc9['forEach'](_0x420dfa=>{const _0x57ec07=_0x32c05a,_0x2551d4=_0x420dfa[_0x57ec07(0x1c4)]||_0x57ec07(0x241);if(!_0x391f87[_0x2551d4]){const _0x26a576='#'+_0x2551d4[_0x57ec07(0x186)]()[_0x57ec07(0x240)](0x0,0x6);_0x391f87[_0x2551d4]={'total':0x0,'done':0x0,'color':_0x26a576};}_0x391f87[_0x2551d4][_0x57ec07(0x1ec)]++;if(_0x420dfa[_0x57ec07(0x242)]===_0x57ec07(0x20c))_0x391f87[_0x2551d4][_0x57ec07(0x1cc)]++;});const _0x42d9f6=document[_0x32c05a(0x1ce)](_0x32c05a(0x169));_0x42d9f6[_0x32c05a(0x209)]='';const _0x5ba551=Object['entries'](_0x391f87)[_0x32c05a(0x227)]((_0x5eecbb,_0x7738ef)=>_0x7738ef[0x1][_0x32c05a(0x1ec)]-_0x5eecbb[0x1][_0x32c05a(0x1ec)]);if(_0x5ba551[_0x32c05a(0x232)]===0x0){_0x42d9f6[_0x32c05a(0x209)]=_0x32c05a(0x264);return;}_0x5ba551[_0x32c05a(0x211)](([_0x734528,_0x3a2e33])=>{const _0x16f08a=_0x32c05a,_0x25f776=Math[_0x16f08a(0x207)](_0x3a2e33[_0x16f08a(0x1cc)]/_0x3a2e33[_0x16f08a(0x1ec)]*0x64),_0x1fc55f=document[_0x16f08a(0x19f)]('div');_0x1fc55f['className']=_0x16f08a(0x173),_0x1fc55f['style'][_0x16f08a(0x26b)]=_0x3a2e33[_0x16f08a(0x229)],_0x1fc55f[_0x16f08a(0x209)]=_0x16f08a(0x25d)+_0x734528['substr'](0x0,0x5)+_0x16f08a(0x1eb)+_0x3a2e33[_0x16f08a(0x1cc)]+_0x16f08a(0x1fd)+_0x3a2e33[_0x16f08a(0x1ec)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x25f776+_0x16f08a(0x1e5),_0x42d9f6[_0x16f08a(0x1e3)](_0x1fc55f);});}function openDetails(_0x56453e){const _0x4aac73=a3_0x212bca;currentSession=_0x56453e;const _0x2f8fed=new Date(_0x56453e[_0x4aac73(0x1ac)]),_0x1b3565=_0x2f8fed[_0x4aac73(0x193)]('ru-RU',{'weekday':_0x4aac73(0x21b),'day':_0x4aac73(0x269),'month':_0x4aac73(0x21b)});document[_0x4aac73(0x1ce)](_0x4aac73(0x1b5))[_0x4aac73(0x1df)]=_0x1b3565['charAt'](0x0)[_0x4aac73(0x16c)]()+_0x1b3565['slice'](0x1),document[_0x4aac73(0x1ce)](_0x4aac73(0x1e9))[_0x4aac73(0x1df)]=_0x56453e[_0x4aac73(0x25b)]+_0x4aac73(0x1da)+_0x56453e[_0x4aac73(0x1a9)],document[_0x4aac73(0x1ce)](_0x4aac73(0x26a))['textContent']=_0x56453e[_0x4aac73(0x258)]||_0x4aac73(0x26c);const _0x35e733=document[_0x4aac73(0x1ce)]('detStatus'),_0x4494f0=document['getElementById'](_0x4aac73(0x22e)),_0x13cded=_0x4494f0['querySelector'](_0x4aac73(0x16e)),_0x259458=_0x4494f0[_0x4aac73(0x16d)]('.btn-reschedule'),_0xbe0c31=document[_0x4aac73(0x1ce)](_0x4aac73(0x223));if(_0x56453e[_0x4aac73(0x242)]===_0x4aac73(0x20c))_0x35e733['textContent']=_0x4aac73(0x218),_0x35e733[_0x4aac73(0x234)]['color']=_0x4aac73(0x251),_0x4494f0['style'][_0x4aac73(0x1c0)]=_0x4aac73(0x22f);else{_0x35e733[_0x4aac73(0x1df)]=_0x4aac73(0x185),_0x35e733['style'][_0x4aac73(0x229)]='var(--acc-blue)',_0x4494f0[_0x4aac73(0x234)]['display']='block';const _0x3be595=new Date(_0x56453e[_0x4aac73(0x1ac)]+'T'+_0x56453e['start']),_0x41fdf9=new Date(),_0x53f548=(_0x3be595-_0x41fdf9)/(0x3e8*0x3c*0x3c),_0x4ca10b=coachProfiles[_0x56453e[_0x4aac73(0x1c4)]]&&coachProfiles[_0x56453e[_0x4aac73(0x1c4)]][_0x4aac73(0x239)]?parseInt(coachProfiles[_0x56453e[_0x4aac73(0x1c4)]][_0x4aac73(0x239)]):0x18;if(_0x4ca10b===0x0||_0x53f548>=_0x4ca10b)_0x13cded[_0x4aac73(0x234)][_0x4aac73(0x1c0)]=_0x4aac73(0x1cf),_0x259458[_0x4aac73(0x234)]['display']='block',_0xbe0c31[_0x4aac73(0x234)][_0x4aac73(0x1c0)]=_0x4aac73(0x22f);else{_0x13cded[_0x4aac73(0x234)][_0x4aac73(0x1c0)]=_0x4aac73(0x22f),_0x259458[_0x4aac73(0x234)][_0x4aac73(0x1c0)]=_0x4aac73(0x22f),_0xbe0c31['style'][_0x4aac73(0x1c0)]='block';let _0x5dd946=_0x4ca10b===0x0?_0x4aac73(0x233):_0x4aac73(0x20e)+_0x4ca10b+_0x4aac73(0x249);_0xbe0c31[_0x4aac73(0x1df)]=_0x4aac73(0x24b)+_0x5dd946+_0x4aac73(0x21a);}}document['getElementById']('overlay')[_0x4aac73(0x1d0)][_0x4aac73(0x261)](_0x4aac73(0x252)),document[_0x4aac73(0x1ce)](_0x4aac73(0x1d4))[_0x4aac73(0x1d0)][_0x4aac73(0x261)](_0x4aac73(0x1ff));}function closeAllSheets(){const _0x1bfcf9=a3_0x212bca;document['getElementById'](_0x1bfcf9(0x1ef))[_0x1bfcf9(0x1d0)][_0x1bfcf9(0x214)]('active'),document['querySelectorAll']('.sheet')[_0x1bfcf9(0x211)](_0x3d36cf=>_0x3d36cf['classList'][_0x1bfcf9(0x214)]('open'));}function openSheet(_0x5dfa47){const _0x5d8acf=a3_0x212bca;document[_0x5d8acf(0x1ce)](_0x5d8acf(0x1ef))[_0x5d8acf(0x1d0)]['add'](_0x5d8acf(0x252)),document[_0x5d8acf(0x1ce)](_0x5dfa47)[_0x5d8acf(0x1d0)]['add'](_0x5d8acf(0x1ff));}function getLocalDateStr(_0x1cd292){const _0x803907=a3_0x212bca,_0x4a0037=_0x1cd292[_0x803907(0x1d2)](),_0x2a3388=String(_0x1cd292[_0x803907(0x1d1)]()+0x1)[_0x803907(0x25f)](0x2,'0'),_0x1e77f6=String(_0x1cd292['getDate']())[_0x803907(0x25f)](0x2,'0');return _0x4a0037+'-'+_0x2a3388+'-'+_0x1e77f6;}function getStartOfWeek(_0x4c6959){const _0x535272=a3_0x212bca,_0x1dded2=new Date(_0x4c6959),_0x5b6f2c=_0x1dded2[_0x535272(0x216)](),_0x451e6f=_0x1dded2[_0x535272(0x1fb)]()-_0x5b6f2c+(_0x5b6f2c===0x0?-0x6:0x1);return _0x1dded2[_0x535272(0x24e)](_0x451e6f),_0x1dded2[_0x535272(0x222)](0x0,0x0,0x0,0x0),_0x1dded2;}function scrollToToday(){const _0x41c354=getLocalDateStr(new Date());setTimeout(()=>{const _0x4f3154=a3_0x26f4,_0x56f093=document['querySelector'](_0x4f3154(0x187)+_0x41c354+'\x22]');if(_0x56f093){const _0xb87cc9=document[_0x4f3154(0x1ce)](_0x4f3154(0x18e)),_0x4bb5a7=_0x56f093[_0x4f3154(0x182)]-_0xb87cc9[_0x4f3154(0x1ad)]/0x2+_0x56f093[_0x4f3154(0x188)]/0x2;_0xb87cc9[_0x4f3154(0x1a4)]({'left':_0x4bb5a7,'behavior':'auto'}),_0xb87cc9[_0x4f3154(0x1ed)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5169c2=a3_0x212bca,_0x263c44=new Date(),_0x29ee83=document[_0x5169c2(0x1ce)](_0x5169c2(0x16a)),_0x36f8ed=document['getElementById'](_0x5169c2(0x256)),_0x35531a=(_0x263c44[_0x5169c2(0x1f2)]()*0x3c+_0x263c44[_0x5169c2(0x247)]())/0x3c*GRID_H;_0x29ee83[_0x5169c2(0x234)][_0x5169c2(0x1af)]=_0x35531a+'px',_0x29ee83[_0x5169c2(0x234)][_0x5169c2(0x1c0)]=_0x5169c2(0x1cf),_0x36f8ed[_0x5169c2(0x234)][_0x5169c2(0x1af)]=_0x35531a+'px',_0x36f8ed[_0x5169c2(0x234)]['display']=_0x5169c2(0x1cf),_0x36f8ed[_0x5169c2(0x1df)]=String(_0x263c44[_0x5169c2(0x1f2)]())[_0x5169c2(0x25f)](0x2,'0')+':'+String(_0x263c44[_0x5169c2(0x247)]())['padStart'](0x2,'0');}function onScroll(){const _0x5ec1b0=a3_0x212bca,_0x837180=document[_0x5ec1b0(0x1ce)]('matrixViewport'),_0xcaa1f9=document[_0x5ec1b0(0x177)]('.day-col-header');for(let _0x1cb96e of _0xcaa1f9)if(_0x1cb96e[_0x5ec1b0(0x182)]>=_0x837180[_0x5ec1b0(0x197)]){const _0x37ceb1=new Date(_0x1cb96e[_0x5ec1b0(0x268)](_0x5ec1b0(0x267)));document[_0x5ec1b0(0x1ce)](_0x5ec1b0(0x1fe))[_0x5ec1b0(0x1df)]=_0x37ceb1[_0x5ec1b0(0x220)]('ru',{'month':_0x5ec1b0(0x21b)})['toUpperCase']()+'\x20'+_0x37ceb1[_0x5ec1b0(0x1d2)]();break;}}function showToast(_0x11f192){const _0x5adc3b=a3_0x212bca,_0x53888c=document[_0x5adc3b(0x1ce)](_0x5adc3b(0x23b));_0x53888c[_0x5adc3b(0x1df)]=_0x11f192,_0x53888c[_0x5adc3b(0x1d0)]['add'](_0x5adc3b(0x238)),setTimeout(()=>_0x53888c[_0x5adc3b(0x1d0)][_0x5adc3b(0x214)](_0x5adc3b(0x238)),0x7d0);}function handleInfiniteScroll(){const _0x413e85=a3_0x212bca,_0x36fadb=document['getElementById'](_0x413e85(0x18e)),_0x278693=_0x36fadb[_0x413e85(0x197)],_0x331e56=_0x36fadb['scrollWidth'],_0x28ccef=_0x36fadb[_0x413e85(0x1ad)];if(_0x331e56-(_0x278693+_0x28ccef)<0x12c){const _0x2a5071=endOffset;endOffset+=0xe,renderDayRange(_0x2a5071+0x1,endOffset),reRenderBlocks();}if(_0x278693<0x12c){const _0x16aa50=startOffset;startOffset-=0xe,prependDays(startOffset,_0x16aa50-0x1),_0x36fadb[_0x413e85(0x197)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5300eb,_0x4dbbd5){const _0x2e389f=a3_0x212bca,_0x44f435=document[_0x2e389f(0x1ce)]('daysHeaderTrack'),_0x3c2a6f=document[_0x2e389f(0x1ce)](_0x2e389f(0x17d)),_0x2dfc2c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x17abb6=new Date();_0x17abb6[_0x2e389f(0x222)](0x0,0x0,0x0,0x0);const _0x493bd8=getLocalDateStr(new Date()),_0x159c63=document[_0x2e389f(0x1be)](),_0x516bd8=document[_0x2e389f(0x1be)]();for(let _0x17dc75=_0x5300eb;_0x17dc75<=_0x4dbbd5;_0x17dc75++){const _0x131fb4=new Date(_0x17abb6);_0x131fb4['setDate'](_0x131fb4[_0x2e389f(0x1fb)]()+_0x17dc75);const _0x4d1379=getLocalDateStr(_0x131fb4);let _0x35d94b=_0x131fb4[_0x2e389f(0x216)]()-0x1;if(_0x35d94b===-0x1)_0x35d94b=0x6;const _0x24ed52=_0x4d1379===_0x493bd8,_0x5f1e06=document[_0x2e389f(0x19f)](_0x2e389f(0x1ae));_0x5f1e06['className']=_0x2e389f(0x1d9)+(_0x24ed52?_0x2e389f(0x1ba):''),_0x5f1e06['setAttribute'](_0x2e389f(0x267),_0x4d1379),_0x5f1e06[_0x2e389f(0x209)]='<div\x20class=\x22dch-day\x22>'+_0x2dfc2c[_0x35d94b]+'</div><div\x20class=\x22dch-num\x22>'+_0x131fb4[_0x2e389f(0x1fb)]()+_0x2e389f(0x179),_0x159c63['appendChild'](_0x5f1e06);const _0x292a06=document[_0x2e389f(0x19f)](_0x2e389f(0x1ae));_0x292a06[_0x2e389f(0x208)]='day-column\x20'+(_0x24ed52?_0x2e389f(0x1ba):''),_0x292a06[_0x2e389f(0x18c)](_0x2e389f(0x267),_0x4d1379),_0x292a06[_0x2e389f(0x18c)](_0x2e389f(0x1f6),_0x35d94b),_0x516bd8[_0x2e389f(0x1e3)](_0x292a06);}_0x44f435['insertBefore'](_0x159c63,_0x44f435[_0x2e389f(0x19c)]),_0x3c2a6f['insertBefore'](_0x516bd8,_0x3c2a6f[_0x2e389f(0x16d)](_0x2e389f(0x219)));}function hexToRgba(_0x454acd,_0x3661ab){const _0x5eb5b3=a3_0x212bca;let _0x1f85b7;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5eb5b3(0x190)](_0x454acd))return _0x1f85b7=_0x454acd[_0x5eb5b3(0x194)](0x1)['split'](''),_0x1f85b7[_0x5eb5b3(0x232)]==0x3&&(_0x1f85b7=[_0x1f85b7[0x0],_0x1f85b7[0x0],_0x1f85b7[0x1],_0x1f85b7[0x1],_0x1f85b7[0x2],_0x1f85b7[0x2]]),_0x1f85b7='0x'+_0x1f85b7[_0x5eb5b3(0x1b1)](''),_0x5eb5b3(0x1d8)+[_0x1f85b7>>0x10&0xff,_0x1f85b7>>0x8&0xff,_0x1f85b7&0xff][_0x5eb5b3(0x1b1)](',')+','+_0x3661ab+')';return'rgba(10,\x20132,\x20255,\x20'+_0x3661ab+')';}let confirmResolver=null;function showCustomConfirm(_0x4f4599,_0x15eece,_0x3f6248=!![]){const _0x297a89=a3_0x212bca;document[_0x297a89(0x1ce)](_0x297a89(0x1f8))[_0x297a89(0x1df)]=_0x4f4599,document[_0x297a89(0x1ce)](_0x297a89(0x1de))[_0x297a89(0x1df)]=_0x15eece;const _0x4d1b08=document[_0x297a89(0x1ce)]('ccYesBtn');return _0x3f6248?(_0x4d1b08[_0x297a89(0x234)][_0x297a89(0x229)]=_0x297a89(0x20d),_0x4d1b08[_0x297a89(0x234)]['fontWeight']='600'):(_0x4d1b08['style'][_0x297a89(0x229)]=_0x297a89(0x1e1),_0x4d1b08[_0x297a89(0x234)][_0x297a89(0x195)]=_0x297a89(0x181)),new Promise(_0x1693be=>{const _0x19e1da=_0x297a89;confirmResolver=_0x1693be,document[_0x19e1da(0x1ce)](_0x19e1da(0x18f))[_0x19e1da(0x1d0)]['add']('visible');});}function resolveCustomConfirm(_0x2263e5){const _0xd6872e=a3_0x212bca;document['getElementById'](_0xd6872e(0x18f))['classList'][_0xd6872e(0x214)](_0xd6872e(0x225));if(confirmResolver)confirmResolver(_0x2263e5);}async function tryCancelCurrentSession(){const _0x30c744=a3_0x212bca;if(!currentSession)return;const _0x2fa995=await showCustomConfirm(_0x30c744(0x23d),_0x30c744(0x1ea),!![]);if(!_0x2fa995)return;const _0x2b01d7=currentSession;closeAllSheets(),sessions=sessions[_0x30c744(0x236)](_0x27147a=>_0x27147a['id']!==_0x2b01d7['id']),reRenderBlocks(),showToast(_0x30c744(0x1dd)),lastUserActionTime=Date[_0x30c744(0x22d)]();try{const _0x2ede68=window[_0x30c744(0x1a3)]?.[_0x30c744(0x174)],_0x11ce91=await fetch(API_URL,{'method':_0x30c744(0x17b),'body':JSON[_0x30c744(0x1a8)]({'action':_0x30c744(0x196),'init_data':_0x2ede68?.['initData']||'','coachId':_0x2b01d7[_0x30c744(0x1c4)],'dateStr':_0x2b01d7[_0x30c744(0x1ac)],'sessionId':_0x2b01d7['id']})});if(_0x11ce91['ok'])DataManager['saveLocally']();}catch(_0x4fc4a6){showToast(_0x30c744(0x1c8));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x54d746=a3_0x212bca;if(!currentSession)return;document[_0x54d746(0x1ce)](_0x54d746(0x1d4))[_0x54d746(0x1d0)][_0x54d746(0x214)](_0x54d746(0x1ff)),document[_0x54d746(0x1ce)](_0x54d746(0x16b))[_0x54d746(0x1d0)][_0x54d746(0x261)]('open');const _0x53ae35=document[_0x54d746(0x1ce)](_0x54d746(0x235)),_0x2a7ae1=document['getElementById'](_0x54d746(0x17f));_0x53ae35[_0x54d746(0x209)]='',_0x2a7ae1['innerHTML']=_0x54d746(0x183);const [_0x1a0ce2,_0x270b4e]=currentSession['start'][_0x54d746(0x19d)](':')[_0x54d746(0x1ca)](Number),[_0x1a4b5d,_0x440c60]=currentSession[_0x54d746(0x1a9)]['split'](':')[_0x54d746(0x1ca)](Number),_0x15b640=_0x1a4b5d*0x3c+_0x440c60-(_0x1a0ce2*0x3c+_0x270b4e);try{const _0x59b411=window['Telegram']?.[_0x54d746(0x174)],_0x2866ac=await fetch(API_URL,{'method':_0x54d746(0x17b),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x54d746(0x1c4)],'duration':_0x15b640,'init_data':_0x59b411?.[_0x54d746(0x170)]||'','excludeSessionId':currentSession['id']})}),_0xf0833a=await _0x2866ac['json']();_0xf0833a['ok']&&_0xf0833a['data']?(availableSlotsCache=_0xf0833a['data'],renderRescheduleDates()):_0x2a7ae1['innerHTML']=_0x54d746(0x245);}catch(_0x478fc7){_0x2a7ae1[_0x54d746(0x209)]=_0x54d746(0x25a);}}function renderRescheduleDates(){const _0x1d56fc=a3_0x212bca,_0x45c3ac=document[_0x1d56fc(0x1ce)]('rsDatesTrack');_0x45c3ac[_0x1d56fc(0x209)]='';const _0x3207a5=Object[_0x1d56fc(0x1e8)](availableSlotsCache)['sort'](),_0xcebba0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3207a5[_0x1d56fc(0x232)]===0x0){document[_0x1d56fc(0x1ce)](_0x1d56fc(0x17f))[_0x1d56fc(0x209)]=_0x1d56fc(0x1a1);return;}_0x3207a5[_0x1d56fc(0x211)]((_0x8e93f4,_0x3e92ea)=>{const _0x3fa734=_0x1d56fc,_0x158136=new Date(_0x8e93f4),_0x5a28b0=_0xcebba0[_0x158136[_0x3fa734(0x216)]()],_0x50bee2=_0x158136['getDate'](),_0x2a4ac7=document['createElement'](_0x3fa734(0x1ae));_0x2a4ac7['className']=_0x3fa734(0x221);if(_0x3e92ea===0x0)_0x2a4ac7['classList'][_0x3fa734(0x261)](_0x3fa734(0x252));_0x2a4ac7[_0x3fa734(0x209)]=_0x3fa734(0x178)+_0x5a28b0+_0x3fa734(0x25e)+_0x50bee2+_0x3fa734(0x179),_0x2a4ac7['onclick']=()=>selectRsDate(_0x8e93f4,_0x2a4ac7),_0x45c3ac[_0x3fa734(0x1e3)](_0x2a4ac7);}),selectRsDate(_0x3207a5[0x0],_0x45c3ac[_0x1d56fc(0x19c)]);}function selectRsDate(_0x1be2df,_0x293bd6){const _0x9efdd7=a3_0x212bca;selectedRsDate=_0x1be2df,document[_0x9efdd7(0x177)](_0x9efdd7(0x1e0))['forEach'](_0x14f2fc=>_0x14f2fc[_0x9efdd7(0x1d0)][_0x9efdd7(0x214)]('active'));if(_0x293bd6)_0x293bd6[_0x9efdd7(0x1d0)]['add']('active');const _0x9533f9=document[_0x9efdd7(0x1ce)](_0x9efdd7(0x17f));_0x9533f9['innerHTML']='';const _0x506af3=availableSlotsCache[_0x1be2df]||[];if(_0x506af3[_0x9efdd7(0x232)]===0x0){_0x9533f9['innerHTML']=_0x9efdd7(0x245);return;}_0x506af3[_0x9efdd7(0x211)](_0x4e95c6=>{const _0x47613d=_0x9efdd7,_0x495ad1=document[_0x47613d(0x19f)](_0x47613d(0x1bf));_0x495ad1[_0x47613d(0x208)]=_0x47613d(0x1b2),_0x495ad1[_0x47613d(0x1df)]=_0x4e95c6,_0x495ad1[_0x47613d(0x265)]=()=>confirmReschedule(_0x4e95c6),_0x9533f9[_0x47613d(0x1e3)](_0x495ad1);});}async function confirmReschedule(_0x2782e2){const _0x5392ff=a3_0x212bca,_0x220eb4=new Date(selectedRsDate),_0x24145e=_0x220eb4[_0x5392ff(0x193)](_0x5392ff(0x1c5),{'day':_0x5392ff(0x269),'month':_0x5392ff(0x21b)}),_0x1c9e5d=await showCustomConfirm(_0x5392ff(0x204),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x24145e+_0x5392ff(0x1a5)+_0x2782e2+'?',![]);if(!_0x1c9e5d)return;closeAllSheets(),showToast(_0x5392ff(0x215)),lastUserActionTime=Date['now']();const _0xfb2d11=currentSession[_0x5392ff(0x1ac)],_0x344a55=currentSession['id'],[_0x5a44f0,_0x39cf37]=currentSession[_0x5392ff(0x25b)][_0x5392ff(0x19d)](':')[_0x5392ff(0x1ca)](Number),[_0x55e97a,_0x59ad2f]=currentSession[_0x5392ff(0x1a9)][_0x5392ff(0x19d)](':')[_0x5392ff(0x1ca)](Number),_0x7ae38a=_0x55e97a*0x3c+_0x59ad2f-(_0x5a44f0*0x3c+_0x39cf37),[_0x368b46,_0x489411]=_0x2782e2['split'](':')[_0x5392ff(0x1ca)](Number),_0x3fe6de=_0x368b46*0x3c+_0x489411+_0x7ae38a,_0x117b99=Math[_0x5392ff(0x23f)](_0x3fe6de/0x3c),_0x5c2e0f=_0x3fe6de%0x3c,_0x475cb0=String(_0x117b99)['padStart'](0x2,'0')+':'+String(_0x5c2e0f)['padStart'](0x2,'0'),_0x54ea69=sessions[_0x5392ff(0x1f4)](_0x4943c9=>_0x4943c9['id']===_0x344a55);_0x54ea69!==-0x1&&(sessions[_0x54ea69]['dateStr']=selectedRsDate,sessions[_0x54ea69][_0x5392ff(0x25b)]=_0x2782e2,sessions[_0x54ea69][_0x5392ff(0x1a9)]=_0x475cb0,reRenderBlocks());try{const _0x187c3b=window[_0x5392ff(0x1a3)]?.[_0x5392ff(0x174)],_0x343aa9=await fetch(API_URL,{'method':_0x5392ff(0x17b),'body':JSON[_0x5392ff(0x1a8)]({'action':_0x5392ff(0x192),'init_data':_0x187c3b?.[_0x5392ff(0x170)]||'','oldSessionId':_0x344a55,'oldDate':_0xfb2d11,'newDate':selectedRsDate,'newTime':_0x2782e2,'coachId':currentSession[_0x5392ff(0x1c4)]})}),_0x2a0eeb=await _0x343aa9['json']();!_0x2a0eeb['ok']?(showToast(_0x5392ff(0x1a7)),DataManager[_0x5392ff(0x1f3)]()):(showToast(_0x5392ff(0x1dc)),DataManager[_0x5392ff(0x1f5)]());}catch(_0x1688b6){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x212bca(0x17c)](a3_0x212bca(0x266),init);