const a3_0x64e0aa=a3_0x285e;(function(_0x42fe71,_0x367899){const _0x202373=a3_0x285e,_0x275db8=_0x42fe71();while(!![]){try{const _0x4735a5=parseInt(_0x202373(0x19d))/0x1*(-parseInt(_0x202373(0x14d))/0x2)+-parseInt(_0x202373(0x1cc))/0x3*(-parseInt(_0x202373(0x239))/0x4)+parseInt(_0x202373(0x19e))/0x5*(-parseInt(_0x202373(0x173))/0x6)+parseInt(_0x202373(0x1c2))/0x7*(-parseInt(_0x202373(0x244))/0x8)+parseInt(_0x202373(0x1d0))/0x9*(parseInt(_0x202373(0x20c))/0xa)+parseInt(_0x202373(0x1da))/0xb+parseInt(_0x202373(0x227))/0xc*(parseInt(_0x202373(0x1cd))/0xd);if(_0x4735a5===_0x367899)break;else _0x275db8['push'](_0x275db8['shift']());}catch(_0x42e98a){_0x275db8['push'](_0x275db8['shift']());}}}(a3_0x4550,0xec487));const APP_VERSION=a3_0x64e0aa(0x170),API_URL=a3_0x64e0aa(0x23e),GRID_H=0x3c,KEY_SESSIONS=a3_0x64e0aa(0x20f),KEY_SETTINGS=a3_0x64e0aa(0x16e),KEY_CLIENTS=a3_0x64e0aa(0x1f4);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x117a44=a3_0x64e0aa,_0x126181=(function(){let _0x56a752=!![];return function(_0x298c8a,_0x483a94){const _0xb0404f=_0x56a752?function(){const _0x1b1a45=a3_0x285e;if(_0x483a94){const _0x1cc2fa=_0x483a94[_0x1b1a45(0x207)](_0x298c8a,arguments);return _0x483a94=null,_0x1cc2fa;}}:function(){};return _0x56a752=![],_0xb0404f;};}()),_0x4001c9=_0x126181(this,function(){const _0x13a6d4=a3_0x285e;return _0x4001c9['toString']()[_0x13a6d4(0x17b)]('(((.+)+)+)+$')[_0x13a6d4(0x16c)]()[_0x13a6d4(0x222)](_0x4001c9)[_0x13a6d4(0x17b)](_0x13a6d4(0x168));});_0x4001c9();try{const _0x1994cb=window[_0x117a44(0x1b8)]?.[_0x117a44(0x228)];if(!_0x1994cb)return;_0x1994cb[_0x117a44(0x17f)](),_0x1994cb[_0x117a44(0x1f3)]();try{_0x1994cb[_0x117a44(0x17c)](_0x117a44(0x152)),_0x1994cb[_0x117a44(0x186)]&&_0x1994cb['setBackgroundColor'](_0x117a44(0x152));}catch(_0x237ec1){console[_0x117a44(0x162)](_0x117a44(0x1fa),_0x237ec1);}try{_0x1994cb[_0x117a44(0x236)]&&(_0x1994cb['BackButton'][_0x117a44(0x1c9)](),_0x1994cb[_0x117a44(0x236)][_0x117a44(0x1ae)](),_0x1994cb[_0x117a44(0x236)][_0x117a44(0x1eb)](function(){const _0x1675be=_0x117a44;window[_0x1675be(0x189)]['href']=_0x1675be(0x185);}));}catch(_0xda8b2e){console[_0x117a44(0x162)]('Error\x20setting\x20back\x20button:',_0xda8b2e);}try{if(_0x1994cb[_0x117a44(0x208)])_0x1994cb[_0x117a44(0x208)]();}catch(_0x5545ba){}}catch(_0x5d1088){console['error'](_0x117a44(0x193),_0x5d1088);}}());function isAdmin(){const _0xfcc24d=a3_0x64e0aa;try{const _0x58b5b8=Number(window[_0xfcc24d(0x1b8)]?.['WebApp']?.['initDataUnsafe']?.[_0xfcc24d(0x217)]?.['id']);return _0x58b5b8===0xbaf7174;}catch(_0x560552){return![];}}const DataManager={'saveLocally'(){const _0xe52c3e=a3_0x64e0aa;try{localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0xe52c3e(0x191)](KEY_CLIENTS,JSON[_0xe52c3e(0x175)](clients)),localStorage[_0xe52c3e(0x191)](KEY_SETTINGS,JSON[_0xe52c3e(0x175)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x32fc85){}},'loadLocal'(){const _0xce4be=a3_0x64e0aa;try{const _0x2cef3f=localStorage[_0xce4be(0x190)](KEY_SESSIONS);if(_0x2cef3f)sessions=JSON[_0xce4be(0x15c)](_0x2cef3f);const _0x4ffab8=localStorage[_0xce4be(0x190)](KEY_CLIENTS);if(_0x4ffab8)clients=JSON[_0xce4be(0x15c)](_0x4ffab8);const _0xd565ac=localStorage[_0xce4be(0x190)](KEY_SETTINGS);if(_0xd565ac){const _0xe4167=JSON[_0xce4be(0x15c)](_0xd565ac);if(_0xe4167['pattern'])availabilityPattern=_0xe4167[_0xce4be(0x18a)];if(_0xe4167['ranges'])specialRanges=_0xe4167[_0xce4be(0x1ef)];if(_0xe4167[_0xce4be(0x23b)])dateExceptions=_0xe4167['exceptions'];}}catch(_0x26850a){}},async 'syncLoad'(){const _0x57e683=a3_0x64e0aa,_0x10dba8=new Date(),_0x34d54c=_0x10dba8['getFullYear']()+'-'+String(_0x10dba8[_0x57e683(0x1f0)]()+0x1)['padStart'](0x2,'0'),_0xd51b2c=new Date(_0x10dba8);_0xd51b2c['setMonth'](_0x10dba8[_0x57e683(0x1f0)]()+0x1);const _0x2d8324=_0xd51b2c['getFullYear']()+'-'+String(_0xd51b2c['getMonth']()+0x1)[_0x57e683(0x1b6)](0x2,'0'),_0xe64cad=Date['now']();try{const _0x1eec5e=window[_0x57e683(0x1b8)]?.[_0x57e683(0x228)],_0xd9d6f7=_0x1eec5e?.[_0x57e683(0x1e5)]||'',[_0x35e1c8,_0x4ce82a]=await Promise[_0x57e683(0x245)]([fetch(API_URL,{'method':_0x57e683(0x15a),'body':JSON[_0x57e683(0x175)]({'action':_0x57e683(0x1a5),'init_data':_0xd9d6f7,'month_str':_0x34d54c})})[_0x57e683(0x195)](_0x29d9e1=>_0x29d9e1[_0x57e683(0x23d)]()),fetch(API_URL,{'method':_0x57e683(0x15a),'body':JSON[_0x57e683(0x175)]({'action':_0x57e683(0x1a5),'init_data':_0xd9d6f7,'month_str':_0x2d8324})})[_0x57e683(0x195)](_0x4e2742=>_0x4e2742[_0x57e683(0x23d)]())]);if(lastUserActionTime>_0xe64cad){console[_0x57e683(0x162)](_0x57e683(0x229));return;}if(_0x35e1c8['ok'])this['applyData'](_0x35e1c8[_0x57e683(0x21f)],_0x34d54c);if(_0x4ce82a['ok'])this[_0x57e683(0x17d)](_0x4ce82a['data'],_0x2d8324);this[_0x57e683(0x18c)]();}catch(_0x39fd07){}},'applyData'(_0x5bf148,_0x543ac4){const _0x54c9c6=a3_0x64e0aa;if(!_0x5bf148)return;if(_0x5bf148[_0x54c9c6(0x1d7)]){if(_0x5bf148[_0x54c9c6(0x1d7)][_0x54c9c6(0x18a)])availabilityPattern=_0x5bf148[_0x54c9c6(0x1d7)][_0x54c9c6(0x18a)];if(_0x5bf148['settings'][_0x54c9c6(0x1ef)])specialRanges=_0x5bf148[_0x54c9c6(0x1d7)][_0x54c9c6(0x1ef)];if(_0x5bf148[_0x54c9c6(0x1d7)][_0x54c9c6(0x23b)])dateExceptions=_0x5bf148[_0x54c9c6(0x1d7)][_0x54c9c6(0x23b)];}if(_0x5bf148[_0x54c9c6(0x1d3)]&&Array['isArray'](_0x5bf148[_0x54c9c6(0x1d3)]))clients=_0x5bf148[_0x54c9c6(0x1d3)];_0x5bf148['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5bf148[_0x54c9c6(0x1a8)]}),_0x5bf148[_0x54c9c6(0x1ba)]&&(sessions=sessions[_0x54c9c6(0x15e)](_0x212242=>!_0x212242[_0x54c9c6(0x154)]['startsWith'](_0x543ac4)),Object[_0x54c9c6(0x1ad)](_0x5bf148[_0x54c9c6(0x1ba)])[_0x54c9c6(0x19c)](_0x5bcae6=>{const _0x27f8cc=_0x54c9c6,_0x2ab1a8=_0x5bf148[_0x27f8cc(0x1ba)][_0x5bcae6];_0x2ab1a8['forEach'](_0x68740=>{const _0x1938a0=_0x27f8cc;sessions[_0x1938a0(0x201)]({'id':_0x68740['i'],'clientId':_0x68740['c'],'coachId':_0x68740[_0x1938a0(0x237)],'dateStr':_0x543ac4+'-'+_0x5bcae6[_0x1938a0(0x1b6)](0x2,'0'),'start':_0x68740['s'],'end':_0x68740['e'],'note':_0x68740['n']||'','status':_0x68740['st']||_0x1938a0(0x231),'seriesId':_0x68740[_0x1938a0(0x1d5)]});});})),reRenderBlocks();}};function init(){const _0xecace3=a3_0x64e0aa;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xecace3(0x1ca)](_0xecace3(0x1e9))[_0xecace3(0x1a6)](_0xecace3(0x16a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xecace3(0x196)]();}function renderTimeColumn(){const _0x50d3c9=a3_0x64e0aa,_0xca97f2=document[_0x50d3c9(0x1ca)](_0x50d3c9(0x240)),_0x5a0a3f=document[_0x50d3c9(0x1ca)](_0x50d3c9(0x20d));_0xca97f2[_0x50d3c9(0x1e4)]='',_0xca97f2[_0x50d3c9(0x20e)](_0x5a0a3f);for(let _0x487a32=0x0;_0x487a32<0x18;_0x487a32++){const _0x51fcc7=document[_0x50d3c9(0x242)](_0x50d3c9(0x22c));_0x51fcc7[_0x50d3c9(0x157)]=_0x50d3c9(0x22e);if(_0x487a32>0x0)_0x51fcc7['innerHTML']=_0x50d3c9(0x246)+String(_0x487a32)['padStart'](0x2,'0')+_0x50d3c9(0x1cf);_0xca97f2[_0x50d3c9(0x20e)](_0x51fcc7);}}function renderDayRange(_0xa36f0b,_0x3c941a){const _0x10f0da=a3_0x64e0aa,_0x2b4db8=document[_0x10f0da(0x1ca)](_0x10f0da(0x1c8)),_0x11938a=document[_0x10f0da(0x1ca)](_0x10f0da(0x156)),_0x497347=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3273c3=new Date();_0x3273c3[_0x10f0da(0x1e1)](0x0,0x0,0x0,0x0);const _0x36a206=getLocalDateStr(new Date());for(let _0x2aa2d0=_0xa36f0b;_0x2aa2d0<=_0x3c941a;_0x2aa2d0++){const _0x20baa5=new Date(_0x3273c3);_0x20baa5[_0x10f0da(0x1b7)](_0x20baa5['getDate']()+_0x2aa2d0);const _0x1f3f37=getLocalDateStr(_0x20baa5);let _0x47fc4a=_0x20baa5['getDay']()-0x1;if(_0x47fc4a===-0x1)_0x47fc4a=0x6;const _0x4a1a4b=_0x1f3f37===_0x36a206,_0x2970d5=document['createElement']('div');_0x2970d5['className']=_0x10f0da(0x224)+(_0x4a1a4b?'today':''),_0x2970d5['setAttribute'](_0x10f0da(0x159),_0x1f3f37),_0x2970d5[_0x10f0da(0x1e4)]='<div\x20class=\x22dch-day\x22>'+_0x497347[_0x47fc4a]+_0x10f0da(0x23a)+_0x20baa5[_0x10f0da(0x1c0)]()+_0x10f0da(0x1cb),_0x2b4db8[_0x10f0da(0x20e)](_0x2970d5);const _0x2bed5a=document[_0x10f0da(0x242)](_0x10f0da(0x22c));_0x2bed5a['className']='day-column\x20'+(_0x4a1a4b?_0x10f0da(0x1a9):''),_0x2bed5a[_0x10f0da(0x17a)](_0x10f0da(0x159),_0x1f3f37),_0x2bed5a[_0x10f0da(0x17a)](_0x10f0da(0x179),_0x47fc4a),_0x11938a[_0x10f0da(0x20e)](_0x2bed5a);}}function reRenderBlocks(){const _0x535881=a3_0x64e0aa;document['querySelectorAll']('.day-column')[_0x535881(0x19c)](_0x144126=>{const _0x16510e=_0x535881;_0x144126[_0x16510e(0x178)](_0x16510e(0x225))[_0x16510e(0x19c)](_0x41bdd6=>_0x41bdd6[_0x16510e(0x177)]());const _0xc60db6=_0x144126[_0x16510e(0x1c5)](_0x16510e(0x159)),_0x34347f=parseInt(_0x144126[_0x16510e(0x1c5)](_0x16510e(0x179))),_0x482da4=Math['round'](_0x144126[_0x16510e(0x20a)]);(availabilityPattern[_0x34347f]||[])[_0x16510e(0x19c)](_0x5189e2=>{const _0x1556c7=_0x16510e,_0x1aa67b=document['createElement'](_0x1556c7(0x22c));_0x1aa67b['className']=_0x1556c7(0x243),_0x1aa67b[_0x1556c7(0x1bc)]['top']=_0x5189e2*GRID_H+'px',_0x1aa67b[_0x1556c7(0x1bc)][_0x1556c7(0x1d4)]='-'+_0x482da4+_0x1556c7(0x1c6)+_0x5189e2*GRID_H+'px',_0x144126[_0x1556c7(0x20e)](_0x1aa67b);});if(specialRanges[_0x16510e(0x1df)]>0x0){const _0x5f5551=new Date(_0xc60db6+_0x16510e(0x14b))[_0x16510e(0x14e)](),_0x344594=new Date(_0xc60db6+'T23:59:59')[_0x16510e(0x14e)]();specialRanges[_0x16510e(0x19c)](_0x1efda6=>{const _0x4ccf93=_0x16510e,_0xb9671a=new Date(_0x1efda6[_0x4ccf93(0x22a)])[_0x4ccf93(0x14e)](),_0x120162=new Date(_0x1efda6[_0x4ccf93(0x172)])[_0x4ccf93(0x14e)](),_0x71d86b=Math[_0x4ccf93(0x1ed)](_0x5f5551,_0xb9671a),_0x3cd80b=Math[_0x4ccf93(0x215)](_0x344594,_0x120162);if(_0x71d86b<_0x3cd80b){const _0x276eee=(_0x71d86b-_0x5f5551)/0x36ee80*GRID_H,_0x32a807=(_0x3cd80b-_0x71d86b)/0x36ee80*GRID_H,_0x588b95=document[_0x4ccf93(0x242)](_0x4ccf93(0x22c));_0x32a807>=23.5*GRID_H?(_0x588b95[_0x4ccf93(0x157)]=_0x4ccf93(0x249),_0x588b95[_0x4ccf93(0x1bc)]['backgroundPosition']='-'+_0x482da4+_0x4ccf93(0x192)):(_0x588b95[_0x4ccf93(0x157)]=_0x4ccf93(0x150),_0x588b95[_0x4ccf93(0x1bc)][_0x4ccf93(0x220)]=_0x276eee+'px',_0x588b95[_0x4ccf93(0x1bc)][_0x4ccf93(0x16d)]=_0x32a807+'px',_0x588b95[_0x4ccf93(0x1bc)]['backgroundPosition']='-'+_0x482da4+_0x4ccf93(0x1c6)+_0x276eee+'px'),_0x144126[_0x4ccf93(0x20e)](_0x588b95);}});}renderEventsForColumn(_0x144126,_0xc60db6);});}function renderEventsForColumn(_0x2a21fa,_0x4ee0d1){const _0x2f494a=a3_0x64e0aa,_0x257dba=sessions[_0x2f494a(0x15e)](_0x220cd4=>_0x220cd4['dateStr']===_0x4ee0d1),_0x3cef3f=_0x257dba[_0x2f494a(0x180)](_0x5b2988=>{const _0x4d37bd=_0x2f494a,[_0x5b87d6,_0x1d0bab]=_0x5b2988['start']['split'](':')[_0x4d37bd(0x180)](Number),[_0x1b314d,_0x2adc9f]=_0x5b2988[_0x4d37bd(0x172)][_0x4d37bd(0x1ec)](':')[_0x4d37bd(0x180)](Number);return{'data':_0x5b2988,'start':_0x5b87d6*0x3c+_0x1d0bab,'end':_0x1b314d*0x3c+_0x2adc9f,'colIndex':0x0};});_0x3cef3f[_0x2f494a(0x1b5)]((_0x11f082,_0xc8b155)=>_0x11f082[_0x2f494a(0x22a)]-_0xc8b155[_0x2f494a(0x22a)]||_0xc8b155[_0x2f494a(0x172)]-_0xc8b155[_0x2f494a(0x22a)]-(_0x11f082[_0x2f494a(0x172)]-_0x11f082[_0x2f494a(0x22a)]));const _0x2a2902=[];_0x3cef3f['forEach'](_0x16cf2d=>{const _0x26e16c=_0x2f494a;let _0x2f86a4=![];for(let _0x1c234e=0x0;_0x1c234e<_0x2a2902[_0x26e16c(0x1df)];_0x1c234e++){const _0x2c2e89=_0x2a2902[_0x1c234e];if(_0x16cf2d[_0x26e16c(0x22a)]>=_0x2c2e89[_0x2c2e89[_0x26e16c(0x1df)]-0x1][_0x26e16c(0x172)]){_0x2c2e89['push'](_0x16cf2d),_0x16cf2d[_0x26e16c(0x1e6)]=_0x1c234e,_0x2f86a4=!![];break;}}!_0x2f86a4&&(_0x2a2902['push']([_0x16cf2d]),_0x16cf2d[_0x26e16c(0x1e6)]=_0x2a2902['length']-0x1);}),_0x3cef3f[_0x2f494a(0x19c)](_0x291bb8=>{const _0x98b12a=_0x2f494a;let _0x482c61=0x0;_0x3cef3f[_0x98b12a(0x19c)](_0xa9e978=>{const _0x4524e9=_0x98b12a;if(Math[_0x4524e9(0x1ed)](_0x291bb8[_0x4524e9(0x22a)],_0xa9e978['start'])<Math['min'](_0x291bb8[_0x4524e9(0x172)],_0xa9e978[_0x4524e9(0x172)])&&_0xa9e978[_0x4524e9(0x1e6)]>_0x482c61)_0x482c61=_0xa9e978[_0x4524e9(0x1e6)];});const _0x15e32e=_0x482c61+0x1,_0x15e6ff=0x64/_0x15e32e,_0x2c5122=_0x291bb8[_0x98b12a(0x1e6)]*_0x15e6ff,_0x41e99b=document[_0x98b12a(0x242)](_0x98b12a(0x22c)),_0x351f93=_0x291bb8[_0x98b12a(0x21f)];let _0x442600=_0x98b12a(0x171);if(clients&&clients[_0x98b12a(0x1df)]>0x0){const _0x27a600=clients[_0x98b12a(0x1e3)](_0x1c5495=>String(_0x1c5495['id'])===String(_0x351f93[_0x98b12a(0x1d6)]));if(_0x27a600&&_0x27a600[_0x98b12a(0x164)])_0x442600=_0x27a600[_0x98b12a(0x164)];}const _0x35fe99=_0x351f93[_0x98b12a(0x1fe)]===_0x98b12a(0x210),_0x455f9d=_0x35fe99?0x1:0.45;_0x41e99b[_0x98b12a(0x157)]='event-card'+(_0x35fe99?_0x98b12a(0x223):''),_0x41e99b[_0x98b12a(0x1bc)][_0x98b12a(0x22b)]=hexToRgba(_0x442600,_0x455f9d),_0x41e99b['style'][_0x98b12a(0x206)]=_0x442600;const _0x3c7bf0=_0x291bb8[_0x98b12a(0x22a)]/0x3c*GRID_H,_0x418018=(_0x291bb8[_0x98b12a(0x172)]-_0x291bb8['start'])/0x3c*GRID_H;_0x41e99b[_0x98b12a(0x1bc)][_0x98b12a(0x220)]=_0x3c7bf0+'px',_0x41e99b['style'][_0x98b12a(0x16d)]=Math[_0x98b12a(0x1ed)](_0x418018,0x14)+'px',_0x41e99b[_0x98b12a(0x1bc)][_0x98b12a(0x21b)]='calc('+_0x15e6ff+_0x98b12a(0x155),_0x41e99b[_0x98b12a(0x1bc)][_0x98b12a(0x15b)]='calc('+_0x2c5122+'%\x20+\x202px)',_0x41e99b[_0x98b12a(0x1bc)]['zIndex']=0xa+_0x291bb8['colIndex'];if(_0x15e6ff<0x55)_0x41e99b[_0x98b12a(0x1db)][_0x98b12a(0x21d)](_0x98b12a(0x1f6));let _0x51e780='';if(_0x351f93[_0x98b12a(0x1fd)])_0x51e780+=_0x98b12a(0x1dc);if(_0x35fe99)_0x51e780+=_0x98b12a(0x1f9);_0x41e99b['innerHTML']=_0x98b12a(0x188)+_0x351f93[_0x98b12a(0x22a)]+_0x98b12a(0x202)+_0x351f93[_0x98b12a(0x172)]+_0x98b12a(0x1e0)+_0x51e780+_0x98b12a(0x1f8),_0x41e99b['onclick']=_0x4764c7=>{_0x4764c7['stopPropagation'](),openDetails(_0x351f93);},_0x2a21fa[_0x98b12a(0x20e)](_0x41e99b);});}function openAnalytics(){const _0x3e3c3b=a3_0x64e0aa,_0x51cd1c=document[_0x3e3c3b(0x19b)](_0x3e3c3b(0x1b9));setAnalyticsPeriod(_0x3e3c3b(0x1e7),_0x51cd1c),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x596e4e,_0x5a3a52){const _0x369818=a3_0x64e0aa;currentAnPeriod=_0x596e4e,document[_0x369818(0x178)](_0x369818(0x1b9))[_0x369818(0x19c)](_0x234149=>_0x234149[_0x369818(0x1db)][_0x369818(0x177)](_0x369818(0x1ff)));if(_0x5a3a52)_0x5a3a52[_0x369818(0x1db)][_0x369818(0x21d)](_0x369818(0x1ff));const _0x41b015=document[_0x369818(0x1ca)](_0x369818(0x174));_0x41b015[_0x369818(0x1bc)]['display']=_0x596e4e===_0x369818(0x209)?'flex':_0x369818(0x1c7);const _0x2f3e56=new Date();let _0x1999bb=new Date(),_0x4b2333=new Date();if(_0x596e4e==='week')_0x1999bb=getStartOfWeek(_0x2f3e56),_0x4b2333=new Date(_0x1999bb),_0x4b2333[_0x369818(0x1b7)](_0x4b2333[_0x369818(0x1c0)]()+0x6);else{if(_0x596e4e===_0x369818(0x1d1))_0x1999bb=new Date(_0x2f3e56[_0x369818(0x1f7)](),_0x2f3e56[_0x369818(0x1f0)](),0x1),_0x4b2333=new Date(_0x2f3e56[_0x369818(0x1f7)](),_0x2f3e56['getMonth']()+0x1,0x0);else{!document[_0x369818(0x1ca)](_0x369818(0x198))[_0x369818(0x18b)]&&(document[_0x369818(0x1ca)](_0x369818(0x198))[_0x369818(0x18b)]=getLocalDateStr(_0x2f3e56),document[_0x369818(0x1ca)](_0x369818(0x158))[_0x369818(0x18b)]=getLocalDateStr(_0x2f3e56));refreshAnalytics();return;}}document['getElementById'](_0x369818(0x198))[_0x369818(0x18b)]=getLocalDateStr(_0x1999bb),document['getElementById'](_0x369818(0x158))[_0x369818(0x18b)]=getLocalDateStr(_0x4b2333),refreshAnalytics();}function refreshAnalytics(){const _0x4c8a2f=a3_0x64e0aa,_0x239236=document[_0x4c8a2f(0x1ca)]('anStart')[_0x4c8a2f(0x18b)],_0x26cd4b=document[_0x4c8a2f(0x1ca)](_0x4c8a2f(0x158))[_0x4c8a2f(0x18b)];if(!_0x239236||!_0x26cd4b)return;const _0x5036ae=sessions[_0x4c8a2f(0x15e)](_0x27e30c=>_0x27e30c[_0x4c8a2f(0x154)]>=_0x239236&&_0x27e30c[_0x4c8a2f(0x154)]<=_0x26cd4b&&_0x27e30c['status']!==_0x4c8a2f(0x205)),_0x4fb711=_0x5036ae['length'],_0xfc5a0c=_0x5036ae['filter'](_0x35b525=>_0x35b525['status']===_0x4c8a2f(0x210))['length'],_0x19f4a5=_0x4fb711>0x0?Math[_0x4c8a2f(0x1ce)](_0xfc5a0c/_0x4fb711*0x64):0x0;document[_0x4c8a2f(0x1ca)](_0x4c8a2f(0x14a))['textContent']=_0x19f4a5+'%',document[_0x4c8a2f(0x1ca)](_0x4c8a2f(0x233))[_0x4c8a2f(0x181)]=_0xfc5a0c+_0x4c8a2f(0x184)+_0x4fb711+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0xab0d84=document['getElementById'](_0x4c8a2f(0x1be)),_0x33bd30=0x2*Math['PI']*0x23,_0x5a173d=_0x33bd30-_0x19f4a5/0x64*_0x33bd30;_0xab0d84[_0x4c8a2f(0x1bc)][_0x4c8a2f(0x219)]=_0x5a173d;const _0x197288={};_0x5036ae[_0x4c8a2f(0x19c)](_0x5c2e2f=>{const _0x25b26e=_0x4c8a2f,_0x3f918b=_0x5c2e2f[_0x25b26e(0x20b)]||_0x25b26e(0x1b4);if(!_0x197288[_0x3f918b]){const _0xeb0683='#'+_0x3f918b[_0x25b26e(0x16c)]()[_0x25b26e(0x18d)](0x0,0x6);_0x197288[_0x3f918b]={'total':0x0,'done':0x0,'color':_0xeb0683};}_0x197288[_0x3f918b][_0x25b26e(0x1b2)]++;if(_0x5c2e2f[_0x25b26e(0x1fe)]===_0x25b26e(0x210))_0x197288[_0x3f918b][_0x25b26e(0x1aa)]++;});const _0x12f9e4=document[_0x4c8a2f(0x1ca)](_0x4c8a2f(0x149));_0x12f9e4['innerHTML']='';const _0x2dfac4=Object[_0x4c8a2f(0x165)](_0x197288)['sort']((_0x4f4c3e,_0x719dcb)=>_0x719dcb[0x1][_0x4c8a2f(0x1b2)]-_0x4f4c3e[0x1][_0x4c8a2f(0x1b2)]);if(_0x2dfac4['length']===0x0){_0x12f9e4[_0x4c8a2f(0x1e4)]=_0x4c8a2f(0x197);return;}_0x2dfac4[_0x4c8a2f(0x19c)](([_0x1c80c9,_0x1cff7d])=>{const _0x4ad1a4=_0x4c8a2f,_0x46133f=Math[_0x4ad1a4(0x1ce)](_0x1cff7d[_0x4ad1a4(0x1aa)]/_0x1cff7d[_0x4ad1a4(0x1b2)]*0x64),_0x1301a6=document[_0x4ad1a4(0x242)](_0x4ad1a4(0x22c));_0x1301a6[_0x4ad1a4(0x157)]=_0x4ad1a4(0x15f),_0x1301a6[_0x4ad1a4(0x1bc)][_0x4ad1a4(0x206)]=_0x1cff7d[_0x4ad1a4(0x164)],_0x1301a6[_0x4ad1a4(0x1e4)]=_0x4ad1a4(0x1b3)+_0x1c80c9[_0x4ad1a4(0x18d)](0x0,0x5)+_0x4ad1a4(0x23c)+_0x1cff7d[_0x4ad1a4(0x1aa)]+_0x4ad1a4(0x1e8)+_0x1cff7d['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x46133f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x12f9e4[_0x4ad1a4(0x20e)](_0x1301a6);});}function openDetails(_0x2d2902){const _0x45efe8=a3_0x64e0aa;currentSession=_0x2d2902;const _0x3c199d=new Date(_0x2d2902[_0x45efe8(0x154)]),_0x2ea34c=_0x3c199d[_0x45efe8(0x199)](_0x45efe8(0x1af),{'weekday':'long','day':_0x45efe8(0x234),'month':_0x45efe8(0x16b)});document[_0x45efe8(0x1ca)](_0x45efe8(0x235))[_0x45efe8(0x181)]=_0x2ea34c[_0x45efe8(0x226)](0x0)['toUpperCase']()+_0x2ea34c['slice'](0x1),document[_0x45efe8(0x1ca)]('detTime')[_0x45efe8(0x181)]=_0x2d2902[_0x45efe8(0x22a)]+_0x45efe8(0x202)+_0x2d2902[_0x45efe8(0x172)],document[_0x45efe8(0x1ca)](_0x45efe8(0x1bb))['textContent']=_0x2d2902[_0x45efe8(0x22d)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x5ad1a6=document[_0x45efe8(0x1ca)](_0x45efe8(0x18e)),_0x1ec9aa=document[_0x45efe8(0x1ca)]('cancelContainer'),_0x52ec84=_0x1ec9aa[_0x45efe8(0x19b)]('.btn-cancel'),_0x54e296=_0x1ec9aa['querySelector']('.btn-reschedule'),_0x5652fc=document[_0x45efe8(0x1ca)](_0x45efe8(0x1f5));if(_0x2d2902[_0x45efe8(0x1fe)]===_0x45efe8(0x210))_0x5ad1a6[_0x45efe8(0x181)]=_0x45efe8(0x19a),_0x5ad1a6['style'][_0x45efe8(0x164)]=_0x45efe8(0x1fb),_0x1ec9aa[_0x45efe8(0x1bc)][_0x45efe8(0x238)]=_0x45efe8(0x1c7);else{_0x5ad1a6['textContent']=_0x45efe8(0x1b0),_0x5ad1a6[_0x45efe8(0x1bc)][_0x45efe8(0x164)]='var(--acc-blue)',_0x1ec9aa[_0x45efe8(0x1bc)]['display']=_0x45efe8(0x194);const _0x486d97=new Date(_0x2d2902[_0x45efe8(0x154)]+'T'+_0x2d2902[_0x45efe8(0x22a)]),_0x1b60dd=new Date(),_0x33288f=(_0x486d97-_0x1b60dd)/(0x3e8*0x3c*0x3c),_0x54b996=coachProfiles[_0x2d2902['coachId']]&&coachProfiles[_0x2d2902[_0x45efe8(0x20b)]][_0x45efe8(0x1ea)]?parseInt(coachProfiles[_0x2d2902[_0x45efe8(0x20b)]][_0x45efe8(0x1ea)]):0x18;if(_0x54b996===0x0||_0x33288f>=_0x54b996)_0x52ec84[_0x45efe8(0x1bc)]['display']='block',_0x54e296[_0x45efe8(0x1bc)][_0x45efe8(0x238)]='block',_0x5652fc[_0x45efe8(0x1bc)]['display']=_0x45efe8(0x1c7);else{_0x52ec84['style'][_0x45efe8(0x238)]=_0x45efe8(0x1c7),_0x54e296[_0x45efe8(0x1bc)]['display']='none',_0x5652fc[_0x45efe8(0x1bc)][_0x45efe8(0x238)]=_0x45efe8(0x194);let _0x124cae=_0x54b996===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x54b996+_0x45efe8(0x19f);_0x5652fc['textContent']=_0x45efe8(0x1d8)+_0x124cae+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x45efe8(0x1f2))[_0x45efe8(0x1db)]['add'](_0x45efe8(0x1ff)),document[_0x45efe8(0x1ca)]('detailsSheet')[_0x45efe8(0x1db)][_0x45efe8(0x21d)](_0x45efe8(0x211));}function closeAllSheets(){const _0x330a1a=a3_0x64e0aa;document[_0x330a1a(0x1ca)](_0x330a1a(0x1f2))[_0x330a1a(0x1db)]['remove'](_0x330a1a(0x1ff)),document[_0x330a1a(0x178)](_0x330a1a(0x163))['forEach'](_0x5a27cc=>_0x5a27cc[_0x330a1a(0x1db)]['remove'](_0x330a1a(0x211)));}function openSheet(_0x24f545){const _0x5449b5=a3_0x64e0aa;document[_0x5449b5(0x1ca)](_0x5449b5(0x1f2))[_0x5449b5(0x1db)]['add'](_0x5449b5(0x1ff)),document[_0x5449b5(0x1ca)](_0x24f545)['classList'][_0x5449b5(0x21d)](_0x5449b5(0x211));}function getLocalDateStr(_0x512c51){const _0x12d079=a3_0x64e0aa,_0x3404a3=_0x512c51[_0x12d079(0x1f7)](),_0x5f3066=String(_0x512c51[_0x12d079(0x1f0)]()+0x1)[_0x12d079(0x1b6)](0x2,'0'),_0xf4d9c9=String(_0x512c51[_0x12d079(0x1c0)]())['padStart'](0x2,'0');return _0x3404a3+'-'+_0x5f3066+'-'+_0xf4d9c9;}function getStartOfWeek(_0x57449c){const _0x364aa4=a3_0x64e0aa,_0x1cc658=new Date(_0x57449c),_0x362da1=_0x1cc658['getDay'](),_0x3c855b=_0x1cc658[_0x364aa4(0x1c0)]()-_0x362da1+(_0x362da1===0x0?-0x6:0x1);return _0x1cc658[_0x364aa4(0x1b7)](_0x3c855b),_0x1cc658[_0x364aa4(0x1e1)](0x0,0x0,0x0,0x0),_0x1cc658;}function scrollToToday(){const _0x18c5aa=getLocalDateStr(new Date());setTimeout(()=>{const _0x2578b2=a3_0x285e,_0x34c1c2=document[_0x2578b2(0x19b)](_0x2578b2(0x14f)+_0x18c5aa+'\x22]');if(_0x34c1c2){const _0x4fe8f9=document[_0x2578b2(0x1ca)]('matrixViewport'),_0x3326f7=_0x34c1c2[_0x2578b2(0x20a)]-_0x4fe8f9[_0x2578b2(0x1dd)]/0x2+_0x34c1c2[_0x2578b2(0x1c3)]/0x2;_0x4fe8f9[_0x2578b2(0x200)]({'left':_0x3326f7,'behavior':'auto'}),_0x4fe8f9[_0x2578b2(0x247)]=0x9*GRID_H;}},0x32);}function a3_0x4550(){const _0x90a6a7=['createElement','blocked-slot\x20stripe-bg','14525864ACLFok','all','<span>','scrollTop','rsSlotsGrid','day-off-overlay\x20stripe-bg','analyticsList','anPercent','T00:00:00','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','2588332iQyjwS','getTime','.day-col-header[data-date=\x22','blocked-range-part\x20stripe-bg','getHours','#050505','firstChild','dateStr','%\x20-\x204px)','gridColumns','className','anEnd','data-date','POST','left','parse','ccTitle','filter','client-stat-card','rsDatesTrack','substring','log','.sheet','color','entries','.day-column','<div\x20class=\x22dch-day\x22>','(((.+)+)+)+$','button','scroll','long','toString','height','uc_client_settings','600','v9.5-CLIENT-ANALYTICS','#0a84ff','end','6294ZQWKZl','anCustomDates','stringify','insertBefore','remove','querySelectorAll','data-day-idx','setAttribute','search','setHeaderColor','applyData','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','ready','map','textContent','</div><div\x20class=\x22rs-day-num\x22>','day-column\x20','\x20–∏–∑\x20','router.html','setBackgroundColor','headerMonth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','location','pattern','value','saveLocally','substr','detStatus','test','getItem','setItem','px\x200px','Critical\x20TMA\x20Error:','block','then','syncLoad','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','anStart','toLocaleDateString','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','querySelector','forEach','1FfSCmS','4575kMAxyP','\x20—á.','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','createDocumentFragment','client_cancel','floor','reschedule','client_load','addEventListener','rgba(10,\x20132,\x20255,\x20','coach_profiles','today','done','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–û—Ç–º–µ–Ω–µ–Ω–æ','keys','offClick','ru-RU','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','getMinutes','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Unknown','sort','padStart','setDate','Telegram','.period-switch\x20.p-btn','calendar','detNote','style','now','anDonutCircle','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','getDate','globalTimeLine','7DCChfR','offsetWidth','join','getAttribute','px\x20-','none','daysHeaderTrack','show','getElementById','</div>','3zTWDDJ','676cRriBT','round',':00</span>','8798994WstVGd','month','customConfirm','clients','backgroundPosition','sid','clientId','settings','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getDay','13356893CmXHVa','classList','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clientWidth','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','scrollLeft','find','innerHTML','initData','colIndex','week','</span>\x20/\x20','matrixViewport','cancel_window','onClick','split','max','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','ranges','getMonth','rescheduleSheet','overlay','expand','uc_client_list','cancelHint','mini','getFullYear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Error\x20setting\x20color:','var(--acc-green)','detailsSheet','seriesId','status','active','scrollTo','push','\x20-\x20','DOMContentLoaded','visible','cancelled','borderLeftColor','apply','disableVerticalSwipes','custom','offsetLeft','coachId','10KaQjlO','timeLineBadge','appendChild','uc_client_sessions','completed','open','rgba(','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','min','toUpperCase','user','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','strokeDashoffset','findIndex','width','fontWeight','add','\x20–≤\x20','data','top','ccYesBtn','constructor','\x20status-completed','day-col-header\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','charAt','269496JPpIVv','WebApp','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','start','backgroundColor','div','note','time-label','toLocaleString','toast','planned','rs-date-chip','anTotalStats','numeric','detDate','BackButton','cid','display','6711216WjXdrZ','</div><div\x20class=\x22dch-num\x22>','exceptions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','json','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','.rs-date-chip','timeColumn','onclick'];a3_0x4550=function(){return _0x90a6a7;};return a3_0x4550();}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x38d434=a3_0x64e0aa,_0x358b54=new Date(),_0x4101a6=document['getElementById'](_0x38d434(0x1c1)),_0x4b9898=document['getElementById'](_0x38d434(0x20d)),_0x1bb7dc=(_0x358b54[_0x38d434(0x151)]()*0x3c+_0x358b54['getMinutes']())/0x3c*GRID_H;_0x4101a6['style'][_0x38d434(0x220)]=_0x1bb7dc+'px',_0x4101a6[_0x38d434(0x1bc)][_0x38d434(0x238)]=_0x38d434(0x194),_0x4b9898['style'][_0x38d434(0x220)]=_0x1bb7dc+'px',_0x4b9898['style'][_0x38d434(0x238)]=_0x38d434(0x194),_0x4b9898[_0x38d434(0x181)]=String(_0x358b54['getHours']())[_0x38d434(0x1b6)](0x2,'0')+':'+String(_0x358b54[_0x38d434(0x1b1)]())[_0x38d434(0x1b6)](0x2,'0');}function onScroll(){const _0x106a11=a3_0x64e0aa,_0x45da80=document['getElementById'](_0x106a11(0x1e9)),_0x4d8121=document[_0x106a11(0x178)]('.day-col-header');for(let _0x8b66f7 of _0x4d8121)if(_0x8b66f7['offsetLeft']>=_0x45da80['scrollLeft']){const _0x5e0ad4=new Date(_0x8b66f7['getAttribute'](_0x106a11(0x159)));document[_0x106a11(0x1ca)](_0x106a11(0x187))['textContent']=_0x5e0ad4[_0x106a11(0x22f)]('ru',{'month':_0x106a11(0x16b)})[_0x106a11(0x216)]()+'\x20'+_0x5e0ad4[_0x106a11(0x1f7)]();break;}}function showToast(_0x14da81){const _0x31d60a=a3_0x64e0aa,_0x201c32=document[_0x31d60a(0x1ca)](_0x31d60a(0x230));_0x201c32[_0x31d60a(0x181)]=_0x14da81,_0x201c32[_0x31d60a(0x1db)][_0x31d60a(0x21d)](_0x31d60a(0x1c9)),setTimeout(()=>_0x201c32[_0x31d60a(0x1db)][_0x31d60a(0x177)](_0x31d60a(0x1c9)),0x7d0);}function handleInfiniteScroll(){const _0x1d3ec4=a3_0x64e0aa,_0x36f1e4=document[_0x1d3ec4(0x1ca)](_0x1d3ec4(0x1e9)),_0x16ad1e=_0x36f1e4[_0x1d3ec4(0x1e2)],_0x4790bd=_0x36f1e4['scrollWidth'],_0x1eab5d=_0x36f1e4[_0x1d3ec4(0x1dd)];if(_0x4790bd-(_0x16ad1e+_0x1eab5d)<0x12c){const _0x47dc7b=endOffset;endOffset+=0xe,renderDayRange(_0x47dc7b+0x1,endOffset),reRenderBlocks();}if(_0x16ad1e<0x12c){const _0x4b343d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4b343d-0x1),_0x36f1e4['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x479fdd,_0x1dfcbc){const _0x21fb86=a3_0x64e0aa,_0x34fb65=document['getElementById']('daysHeaderTrack'),_0x2ae36e=document['getElementById'](_0x21fb86(0x156)),_0x23b52d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3effaa=new Date();_0x3effaa['setHours'](0x0,0x0,0x0,0x0);const _0x2ad7ce=getLocalDateStr(new Date()),_0x32f219=document[_0x21fb86(0x1a1)](),_0x58f470=document['createDocumentFragment']();for(let _0x38cc05=_0x479fdd;_0x38cc05<=_0x1dfcbc;_0x38cc05++){const _0x654ef4=new Date(_0x3effaa);_0x654ef4[_0x21fb86(0x1b7)](_0x654ef4['getDate']()+_0x38cc05);const _0x1e5d8c=getLocalDateStr(_0x654ef4);let _0x3cd78e=_0x654ef4[_0x21fb86(0x1d9)]()-0x1;if(_0x3cd78e===-0x1)_0x3cd78e=0x6;const _0x14fe18=_0x1e5d8c===_0x2ad7ce,_0x31df03=document[_0x21fb86(0x242)](_0x21fb86(0x22c));_0x31df03['className']='day-col-header\x20'+(_0x14fe18?'today':''),_0x31df03[_0x21fb86(0x17a)](_0x21fb86(0x159),_0x1e5d8c),_0x31df03['innerHTML']=_0x21fb86(0x167)+_0x23b52d[_0x3cd78e]+_0x21fb86(0x23a)+_0x654ef4[_0x21fb86(0x1c0)]()+'</div>',_0x32f219[_0x21fb86(0x20e)](_0x31df03);const _0x202343=document[_0x21fb86(0x242)](_0x21fb86(0x22c));_0x202343[_0x21fb86(0x157)]=_0x21fb86(0x183)+(_0x14fe18?_0x21fb86(0x1a9):''),_0x202343[_0x21fb86(0x17a)](_0x21fb86(0x159),_0x1e5d8c),_0x202343['setAttribute']('data-day-idx',_0x3cd78e),_0x58f470[_0x21fb86(0x20e)](_0x202343);}_0x34fb65[_0x21fb86(0x176)](_0x32f219,_0x34fb65[_0x21fb86(0x153)]),_0x2ae36e[_0x21fb86(0x176)](_0x58f470,_0x2ae36e[_0x21fb86(0x19b)](_0x21fb86(0x166)));}function hexToRgba(_0x72f494,_0x134ce5){const _0x1c05ba=a3_0x64e0aa;let _0x1d9b2a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1c05ba(0x18f)](_0x72f494))return _0x1d9b2a=_0x72f494[_0x1c05ba(0x161)](0x1)['split'](''),_0x1d9b2a['length']==0x3&&(_0x1d9b2a=[_0x1d9b2a[0x0],_0x1d9b2a[0x0],_0x1d9b2a[0x1],_0x1d9b2a[0x1],_0x1d9b2a[0x2],_0x1d9b2a[0x2]]),_0x1d9b2a='0x'+_0x1d9b2a[_0x1c05ba(0x1c4)](''),_0x1c05ba(0x212)+[_0x1d9b2a>>0x10&0xff,_0x1d9b2a>>0x8&0xff,_0x1d9b2a&0xff][_0x1c05ba(0x1c4)](',')+','+_0x134ce5+')';return _0x1c05ba(0x1a7)+_0x134ce5+')';}let confirmResolver=null;function showCustomConfirm(_0x5b585b,_0x221999,_0x5a0388=!![]){const _0x50dd24=a3_0x64e0aa;document[_0x50dd24(0x1ca)](_0x50dd24(0x15d))['textContent']=_0x5b585b,document['getElementById']('ccText')[_0x50dd24(0x181)]=_0x221999;const _0x3ebf6e=document[_0x50dd24(0x1ca)](_0x50dd24(0x221));return _0x5a0388?(_0x3ebf6e['style'][_0x50dd24(0x164)]='#ff453a',_0x3ebf6e[_0x50dd24(0x1bc)]['fontWeight']=_0x50dd24(0x16f)):(_0x3ebf6e[_0x50dd24(0x1bc)]['color']=_0x50dd24(0x171),_0x3ebf6e['style'][_0x50dd24(0x21c)]=_0x50dd24(0x16f)),new Promise(_0x2e6102=>{const _0x12758f=_0x50dd24;confirmResolver=_0x2e6102,document[_0x12758f(0x1ca)](_0x12758f(0x1d2))[_0x12758f(0x1db)][_0x12758f(0x21d)](_0x12758f(0x204));});}function resolveCustomConfirm(_0x166463){const _0x103486=a3_0x64e0aa;document[_0x103486(0x1ca)](_0x103486(0x1d2))[_0x103486(0x1db)]['remove'](_0x103486(0x204));if(confirmResolver)confirmResolver(_0x166463);}async function tryCancelCurrentSession(){const _0x56637b=a3_0x64e0aa;if(!currentSession)return;const _0x18b5ee=await showCustomConfirm(_0x56637b(0x218),_0x56637b(0x214),!![]);if(!_0x18b5ee)return;const _0x1300da=currentSession;closeAllSheets(),sessions=sessions['filter'](_0xfca447=>_0xfca447['id']!==_0x1300da['id']),reRenderBlocks(),showToast(_0x56637b(0x1ac)),lastUserActionTime=Date[_0x56637b(0x1bd)]();try{const _0x2da6ca=window[_0x56637b(0x1b8)]?.[_0x56637b(0x228)],_0x20d4fe=await fetch(API_URL,{'method':_0x56637b(0x15a),'body':JSON[_0x56637b(0x175)]({'action':_0x56637b(0x1a2),'init_data':_0x2da6ca?.[_0x56637b(0x1e5)]||'','coachId':_0x1300da[_0x56637b(0x20b)],'dateStr':_0x1300da[_0x56637b(0x154)],'sessionId':_0x1300da['id']})});if(_0x20d4fe['ok'])DataManager[_0x56637b(0x18c)]();}catch(_0x4b55ef){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x382fb0=a3_0x64e0aa;if(!currentSession)return;document[_0x382fb0(0x1ca)](_0x382fb0(0x1fc))[_0x382fb0(0x1db)][_0x382fb0(0x177)](_0x382fb0(0x211)),document[_0x382fb0(0x1ca)](_0x382fb0(0x1f1))[_0x382fb0(0x1db)][_0x382fb0(0x21d)]('open');const _0x4dfd8c=document['getElementById'](_0x382fb0(0x160)),_0x3c665c=document[_0x382fb0(0x1ca)](_0x382fb0(0x248));_0x4dfd8c[_0x382fb0(0x1e4)]='',_0x3c665c[_0x382fb0(0x1e4)]=_0x382fb0(0x1de);const [_0x301382,_0x3104e5]=currentSession[_0x382fb0(0x22a)][_0x382fb0(0x1ec)](':')['map'](Number),[_0x1155a3,_0x1596eb]=currentSession[_0x382fb0(0x172)][_0x382fb0(0x1ec)](':')[_0x382fb0(0x180)](Number),_0x59a722=_0x1155a3*0x3c+_0x1596eb-(_0x301382*0x3c+_0x3104e5);try{const _0x4585b6=window[_0x382fb0(0x1b8)]?.[_0x382fb0(0x228)],_0x195522=await fetch(API_URL,{'method':_0x382fb0(0x15a),'body':JSON[_0x382fb0(0x175)]({'action':'get_slots','coachId':currentSession[_0x382fb0(0x20b)],'duration':_0x59a722,'init_data':_0x4585b6?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x2bfcb9=await _0x195522[_0x382fb0(0x23d)]();_0x2bfcb9['ok']&&_0x2bfcb9[_0x382fb0(0x21f)]?(availableSlotsCache=_0x2bfcb9[_0x382fb0(0x21f)],renderRescheduleDates()):_0x3c665c[_0x382fb0(0x1e4)]=_0x382fb0(0x1bf);}catch(_0x4c36e0){_0x3c665c[_0x382fb0(0x1e4)]=_0x382fb0(0x1ab);}}function renderRescheduleDates(){const _0xaaac6c=a3_0x64e0aa,_0x3847b8=document[_0xaaac6c(0x1ca)](_0xaaac6c(0x160));_0x3847b8[_0xaaac6c(0x1e4)]='';const _0x597f92=Object[_0xaaac6c(0x1ad)](availableSlotsCache)[_0xaaac6c(0x1b5)](),_0xe43fa7=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x597f92[_0xaaac6c(0x1df)]===0x0){document['getElementById'](_0xaaac6c(0x248))[_0xaaac6c(0x1e4)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x597f92[_0xaaac6c(0x19c)]((_0x171100,_0x30b77d)=>{const _0xd7536=_0xaaac6c,_0x3e4058=new Date(_0x171100),_0x20368d=_0xe43fa7[_0x3e4058[_0xd7536(0x1d9)]()],_0x5ace5e=_0x3e4058[_0xd7536(0x1c0)](),_0x51cfaa=document[_0xd7536(0x242)](_0xd7536(0x22c));_0x51cfaa[_0xd7536(0x157)]=_0xd7536(0x232);if(_0x30b77d===0x0)_0x51cfaa[_0xd7536(0x1db)][_0xd7536(0x21d)](_0xd7536(0x1ff));_0x51cfaa[_0xd7536(0x1e4)]='<div\x20class=\x22rs-day-name\x22>'+_0x20368d+_0xd7536(0x182)+_0x5ace5e+'</div>',_0x51cfaa[_0xd7536(0x241)]=()=>selectRsDate(_0x171100,_0x51cfaa),_0x3847b8[_0xd7536(0x20e)](_0x51cfaa);}),selectRsDate(_0x597f92[0x0],_0x3847b8['firstChild']);}function a3_0x285e(_0x5eb012,_0x4fc4c0){_0x5eb012=_0x5eb012-0x149;const _0x4e5171=a3_0x4550();let _0x53db43=_0x4e5171[_0x5eb012];return _0x53db43;}function selectRsDate(_0x1e5b40,_0x43294b){const _0x31fa45=a3_0x64e0aa;selectedRsDate=_0x1e5b40,document['querySelectorAll'](_0x31fa45(0x23f))['forEach'](_0x3a5399=>_0x3a5399[_0x31fa45(0x1db)][_0x31fa45(0x177)](_0x31fa45(0x1ff)));if(_0x43294b)_0x43294b['classList'][_0x31fa45(0x21d)](_0x31fa45(0x1ff));const _0x4c65f1=document[_0x31fa45(0x1ca)](_0x31fa45(0x248));_0x4c65f1['innerHTML']='';const _0x402ee6=availableSlotsCache[_0x1e5b40]||[];if(_0x402ee6['length']===0x0){_0x4c65f1['innerHTML']=_0x31fa45(0x1bf);return;}_0x402ee6[_0x31fa45(0x19c)](_0x50871a=>{const _0x1114fa=_0x31fa45,_0x4b54f9=document[_0x1114fa(0x242)](_0x1114fa(0x169));_0x4b54f9['className']='rs-time-btn',_0x4b54f9[_0x1114fa(0x181)]=_0x50871a,_0x4b54f9[_0x1114fa(0x241)]=()=>confirmReschedule(_0x50871a),_0x4c65f1[_0x1114fa(0x20e)](_0x4b54f9);});}async function confirmReschedule(_0x2eeaba){const _0x40e3c2=a3_0x64e0aa,_0xad200e=new Date(selectedRsDate),_0x3b66ef=_0xad200e[_0x40e3c2(0x199)]('ru-RU',{'day':_0x40e3c2(0x234),'month':'long'}),_0x1e8ff3=await showCustomConfirm(_0x40e3c2(0x14c),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3b66ef+_0x40e3c2(0x21e)+_0x2eeaba+'?',![]);if(!_0x1e8ff3)return;closeAllSheets(),showToast(_0x40e3c2(0x1a0)),lastUserActionTime=Date[_0x40e3c2(0x1bd)]();const _0x35e12b=currentSession[_0x40e3c2(0x154)],_0x2f9a2e=currentSession['id'],[_0x3a099b,_0x1a2c6f]=currentSession[_0x40e3c2(0x22a)][_0x40e3c2(0x1ec)](':')[_0x40e3c2(0x180)](Number),[_0x435e59,_0x58e59d]=currentSession['end'][_0x40e3c2(0x1ec)](':')['map'](Number),_0x48cd27=_0x435e59*0x3c+_0x58e59d-(_0x3a099b*0x3c+_0x1a2c6f),[_0x588643,_0x58f72e]=_0x2eeaba[_0x40e3c2(0x1ec)](':')[_0x40e3c2(0x180)](Number),_0x148dd3=_0x588643*0x3c+_0x58f72e+_0x48cd27,_0x3aac66=Math[_0x40e3c2(0x1a3)](_0x148dd3/0x3c),_0x7ed13f=_0x148dd3%0x3c,_0x51ac0a=String(_0x3aac66)['padStart'](0x2,'0')+':'+String(_0x7ed13f)[_0x40e3c2(0x1b6)](0x2,'0'),_0x22bc37=sessions[_0x40e3c2(0x21a)](_0x12e5eb=>_0x12e5eb['id']===_0x2f9a2e);_0x22bc37!==-0x1&&(sessions[_0x22bc37][_0x40e3c2(0x154)]=selectedRsDate,sessions[_0x22bc37][_0x40e3c2(0x22a)]=_0x2eeaba,sessions[_0x22bc37][_0x40e3c2(0x172)]=_0x51ac0a,reRenderBlocks());try{const _0xa06647=window['Telegram']?.[_0x40e3c2(0x228)],_0x1896df=await fetch(API_URL,{'method':_0x40e3c2(0x15a),'body':JSON['stringify']({'action':_0x40e3c2(0x1a4),'init_data':_0xa06647?.[_0x40e3c2(0x1e5)]||'','oldSessionId':_0x2f9a2e,'oldDate':_0x35e12b,'newDate':selectedRsDate,'newTime':_0x2eeaba,'coachId':currentSession[_0x40e3c2(0x20b)]})}),_0x3eeb58=await _0x1896df[_0x40e3c2(0x23d)]();!_0x3eeb58['ok']?(showToast(_0x40e3c2(0x1ee)),DataManager[_0x40e3c2(0x196)]()):(showToast(_0x40e3c2(0x213)),DataManager[_0x40e3c2(0x18c)]());}catch(_0x7f82c){showToast(_0x40e3c2(0x17e));}}document['addEventListener'](a3_0x64e0aa(0x203),init);