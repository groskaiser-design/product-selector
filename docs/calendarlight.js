const a3_0x140f45=a3_0x47ee;(function(_0x2c0f82,_0x486dd9){const _0x34033d=a3_0x47ee,_0x59a540=_0x2c0f82();while(!![]){try{const _0x4d3089=-parseInt(_0x34033d(0x115))/0x1*(-parseInt(_0x34033d(0x126))/0x2)+parseInt(_0x34033d(0x1ad))/0x3+parseInt(_0x34033d(0x10b))/0x4*(parseInt(_0x34033d(0x11c))/0x5)+-parseInt(_0x34033d(0x1b9))/0x6+parseInt(_0x34033d(0x16b))/0x7*(-parseInt(_0x34033d(0x1c7))/0x8)+parseInt(_0x34033d(0x1a9))/0x9*(parseInt(_0x34033d(0x1e5))/0xa)+parseInt(_0x34033d(0x140))/0xb;if(_0x4d3089===_0x486dd9)break;else _0x59a540['push'](_0x59a540['shift']());}catch(_0x4a4429){_0x59a540['push'](_0x59a540['shift']());}}}(a3_0x45d5,0x1d378));const APP_VERSION=a3_0x140f45(0x162),API_URL=a3_0x140f45(0x152),GRID_H=0x3c,KEY_SESSIONS=a3_0x140f45(0x131),KEY_SETTINGS=a3_0x140f45(0x1d7),KEY_CLIENTS=a3_0x140f45(0x16a);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x140f45(0x13c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56ee64=a3_0x140f45,_0x2d987c=(function(){let _0x3733e0=!![];return function(_0x332421,_0x180837){const _0x4c88d8=_0x3733e0?function(){const _0x143a92=a3_0x47ee;if(_0x180837){const _0x1c4b5a=_0x180837[_0x143a92(0x1eb)](_0x332421,arguments);return _0x180837=null,_0x1c4b5a;}}:function(){};return _0x3733e0=![],_0x4c88d8;};}()),_0x24809e=_0x2d987c(this,function(){const _0x29802c=a3_0x47ee;return _0x24809e[_0x29802c(0x168)]()[_0x29802c(0x1e3)](_0x29802c(0x15d))[_0x29802c(0x168)]()[_0x29802c(0x159)](_0x24809e)[_0x29802c(0x1e3)](_0x29802c(0x15d));});_0x24809e();try{const _0x5ded27=window[_0x56ee64(0x1e8)]?.['WebApp'];if(!_0x5ded27)return;_0x5ded27['ready'](),_0x5ded27[_0x56ee64(0x133)]();try{_0x5ded27[_0x56ee64(0x1a1)](_0x56ee64(0x1b4)),_0x5ded27['setBackgroundColor']&&_0x5ded27[_0x56ee64(0x153)](_0x56ee64(0x1b4));}catch(_0x3b2881){console[_0x56ee64(0x17a)](_0x56ee64(0x1fe),_0x3b2881);}try{_0x5ded27[_0x56ee64(0x185)]&&(_0x5ded27[_0x56ee64(0x185)][_0x56ee64(0x10c)](),_0x5ded27[_0x56ee64(0x185)][_0x56ee64(0x167)](),_0x5ded27[_0x56ee64(0x185)][_0x56ee64(0x1f0)](function(){const _0x35bf97=_0x56ee64;window[_0x35bf97(0x1c1)][_0x35bf97(0x1da)]=_0x35bf97(0x134);}));}catch(_0x164357){console[_0x56ee64(0x17a)](_0x56ee64(0x198),_0x164357);}try{if(_0x5ded27['disableVerticalSwipes'])_0x5ded27[_0x56ee64(0x1b8)]();}catch(_0x3e5fac){}}catch(_0x36f630){console['error'](_0x56ee64(0x15a),_0x36f630);}}());function isAdmin(){const _0x119d44=a3_0x140f45;try{const _0x3f7737=Number(window['Telegram']?.[_0x119d44(0x1bd)]?.[_0x119d44(0x1dd)]?.[_0x119d44(0x1f7)]?.['id']);return _0x3f7737===0xbaf7174;}catch(_0x45d4e3){return![];}}const DataManager={'saveLocally'(){const _0x5200e1=a3_0x140f45;try{localStorage[_0x5200e1(0x1d4)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x5200e1(0x11f)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x5200e1(0x11f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x26d8d8){}},'loadLocal'(){const _0x3fb484=a3_0x140f45;try{const _0x45cd9a=localStorage[_0x3fb484(0x1aa)](KEY_SESSIONS);if(_0x45cd9a)sessions=JSON[_0x3fb484(0x156)](_0x45cd9a);const _0x444f03=localStorage[_0x3fb484(0x1aa)](KEY_CLIENTS);if(_0x444f03)clients=JSON[_0x3fb484(0x156)](_0x444f03);const _0x77c827=localStorage['getItem'](KEY_SETTINGS);if(_0x77c827){const _0x2c46ff=JSON[_0x3fb484(0x156)](_0x77c827);if(_0x2c46ff[_0x3fb484(0x12d)])availabilityPattern=_0x2c46ff[_0x3fb484(0x12d)];if(_0x2c46ff['ranges'])specialRanges=_0x2c46ff['ranges'];if(_0x2c46ff[_0x3fb484(0x113)])dateExceptions=_0x2c46ff['exceptions'];}}catch(_0x4bf193){}},async 'syncLoad'(){const _0x5ee12f=a3_0x140f45,_0x2efe09=new Date(),_0x472583=_0x2efe09[_0x5ee12f(0x165)]()+'-'+String(_0x2efe09[_0x5ee12f(0x163)]()+0x1)[_0x5ee12f(0x17e)](0x2,'0'),_0x4380fb=new Date(_0x2efe09);_0x4380fb[_0x5ee12f(0x173)](_0x2efe09[_0x5ee12f(0x163)]()+0x1);const _0x53260a=_0x4380fb[_0x5ee12f(0x165)]()+'-'+String(_0x4380fb[_0x5ee12f(0x163)]()+0x1)[_0x5ee12f(0x17e)](0x2,'0'),_0x157f3a=Date[_0x5ee12f(0x1e6)]();try{const _0x379609=window['Telegram']?.[_0x5ee12f(0x1bd)],_0x32922d=_0x379609?.[_0x5ee12f(0x1d3)]||'',[_0x4b9a81,_0x1635d1]=await Promise[_0x5ee12f(0x1dc)]([fetch(API_URL,{'method':_0x5ee12f(0x1f6),'body':JSON[_0x5ee12f(0x11f)]({'action':'client_load','init_data':_0x32922d,'month_str':_0x472583})})[_0x5ee12f(0x1c5)](_0x5d9c6f=>_0x5d9c6f[_0x5ee12f(0x179)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x5ee12f(0x11f)]({'action':_0x5ee12f(0x1de),'init_data':_0x32922d,'month_str':_0x53260a})})[_0x5ee12f(0x1c5)](_0x406d55=>_0x406d55[_0x5ee12f(0x179)]())]);if(lastUserActionTime>_0x157f3a){console[_0x5ee12f(0x17a)](_0x5ee12f(0x12c));return;}if(_0x4b9a81['ok'])this['applyData'](_0x4b9a81[_0x5ee12f(0x123)],_0x472583);if(_0x1635d1['ok'])this[_0x5ee12f(0x142)](_0x1635d1[_0x5ee12f(0x123)],_0x53260a);this['saveLocally']();}catch(_0xeaeee7){}},'applyData'(_0x199c61,_0x487bbe){const _0x22c508=a3_0x140f45;if(!_0x199c61)return;if(_0x199c61[_0x22c508(0x11e)]){if(_0x199c61[_0x22c508(0x11e)][_0x22c508(0x12d)])availabilityPattern=_0x199c61[_0x22c508(0x11e)][_0x22c508(0x12d)];if(_0x199c61[_0x22c508(0x11e)]['ranges'])specialRanges=_0x199c61[_0x22c508(0x11e)]['ranges'];if(_0x199c61[_0x22c508(0x11e)][_0x22c508(0x113)])dateExceptions=_0x199c61[_0x22c508(0x11e)]['exceptions'];}if(_0x199c61[_0x22c508(0x186)]&&Array[_0x22c508(0x132)](_0x199c61['clients']))clients=_0x199c61[_0x22c508(0x186)];_0x199c61[_0x22c508(0x1ca)]&&(coachProfiles={...coachProfiles,..._0x199c61[_0x22c508(0x1ca)]}),_0x199c61[_0x22c508(0x1a7)]&&(sessions=sessions['filter'](_0x591be5=>!_0x591be5[_0x22c508(0x175)][_0x22c508(0x1e7)](_0x487bbe)),Object[_0x22c508(0x1a4)](_0x199c61['calendar'])[_0x22c508(0x1b7)](_0x1430ef=>{const _0x43ec1e=_0x22c508,_0x234786=_0x199c61[_0x43ec1e(0x1a7)][_0x1430ef];_0x234786[_0x43ec1e(0x1b7)](_0x1b60a2=>{const _0x9ab7ff=_0x43ec1e;sessions[_0x9ab7ff(0x14d)]({'id':_0x1b60a2['i'],'clientId':_0x1b60a2['c'],'coachId':_0x1b60a2[_0x9ab7ff(0x13f)],'dateStr':_0x487bbe+'-'+_0x1430ef[_0x9ab7ff(0x17e)](0x2,'0'),'start':_0x1b60a2['s'],'end':_0x1b60a2['e'],'note':_0x1b60a2['n']||'','status':_0x1b60a2['st']||'planned','seriesId':_0x1b60a2[_0x9ab7ff(0x151)]});});})),reRenderBlocks();}};function init(){const _0x2e4386=a3_0x140f45;DataManager[_0x2e4386(0x1b6)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2e4386(0x141)]('matrixViewport')['addEventListener'](_0x2e4386(0x201),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function a3_0x45d5(){const _0x226af3=['Critical\x20TMA\x20Error:','matrixViewport','.day-column','(((.+)+)+)+$','slice','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','var(--acc-green)','offsetLeft','v9.5-CLIENT-ANALYTICS','getMonth','daysHeaderTrack','getFullYear','getDay','offClick','toString','open','uc_client_list','42RMYNJK','blocked-range-part\x20stripe-bg','rs-time-btn','classList','getTime','div','</div><div\x20class=\x22dch-num\x22>','client_cancel','setMonth','.rs-date-chip','dateStr','analyticsList','scrollWidth','.btn-reschedule','json','log','setDate','anTotalStats','left','padStart','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','createElement','none','ccTitle','test','backgroundColor','BackButton','clients','scrollTo','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','month','innerHTML','backgroundPosition','auto','client-stat-card','%\x20-\x204px)','detNote','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–û—Ç–º–µ–Ω–µ–Ω–æ','offsetWidth','substr','rs-date-chip','add','anPercent','style','Error\x20setting\x20back\x20button:','value','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','\x20–∏–∑\x20','</span>\x20/\x20','toLocaleString','length','querySelector','scrollLeft','setHeaderColor','note','scrollTop','keys','globalTimeLine','<div\x20class=\x22dch-day\x22>','calendar','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','27RqOyil','getItem','long','<span>','345000QAuVLv','strokeDashoffset','.day-col-header[data-date=\x22','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','visible','.period-switch\x20.p-btn','#ff453a','#050505','px\x200px','loadLocal','forEach','disableVerticalSwipes','1306986AozyBj','entries','toUpperCase','detDate','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','#0a84ff','data-date','location','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','firstChild','then','rsSlotsGrid','23952gTaJJA','display','status','coach_profiles','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','colIndex','px\x20-','coachId','querySelectorAll','end','floor','\x20-\x20','initData','setItem','block','detailsSheet','uc_client_settings','gridColumns','600','href','getAttribute','all','initDataUnsafe','client_load','remove','\x20status-completed','stopPropagation','textContent','search','join','161930pnaheD','now','startsWith','Telegram','button','today','apply','.day-col-header','toast','borderLeftColor','onclick','onClick','className','day-column\x20','detTime','clientWidth','find','POST','user','split','saveLocally','toLocaleDateString','var(--acc-blue)','filter','seriesId','Error\x20setting\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancelContainer','scroll','appendChild','map','round','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','anCustomDates','rescheduleSheet','\x20–≤\x20','%\x20+\x202px)','DOMContentLoaded','headerMonth','rgba(10,\x20132,\x20255,\x20','sort','406292EuaZmS','show','getHours','\x20—á.','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','height','timeLineBadge','completed','exceptions','syncLoad','1jjENVr','anEnd','detStatus','<div\x20class=\x22rs-day-name\x22>','ru-RU','cancelHint','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','5DqUNpH','T00:00:00','settings','stringify','analyticsSheet','setHours','–∑–∞\x20','data','fontWeight','setAttribute','11688TJjBeU','total','width','getDate','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','ccYesBtn','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','pattern','numeric','max','start','uc_client_sessions','isArray','expand','router.html','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','mini','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','</div>','get_slots','day-off-overlay\x20stripe-bg','week','findIndex','clientId','cid','929181LtxssP','getElementById','applyData','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','anStart','cancel_window','overlay','active','getMinutes','insertBefore','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','push','rgba(','blocked-slot\x20stripe-bg','top','sid','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setBackgroundColor','Unknown','substring','parse','day-col-header\x20','done','constructor'];a3_0x45d5=function(){return _0x226af3;};return a3_0x45d5();}function renderTimeColumn(){const _0x3d49d6=a3_0x140f45,_0x3660ba=document[_0x3d49d6(0x141)]('timeColumn'),_0x2b48fe=document['getElementById'](_0x3d49d6(0x111));_0x3660ba['innerHTML']='',_0x3660ba[_0x3d49d6(0x202)](_0x2b48fe);for(let _0x5dc032=0x0;_0x5dc032<0x18;_0x5dc032++){const _0x51d80c=document[_0x3d49d6(0x180)](_0x3d49d6(0x170));_0x51d80c[_0x3d49d6(0x1f1)]='time-label';if(_0x5dc032>0x0)_0x51d80c[_0x3d49d6(0x18a)]=_0x3d49d6(0x1ac)+String(_0x5dc032)[_0x3d49d6(0x17e)](0x2,'0')+':00</span>';_0x3660ba[_0x3d49d6(0x202)](_0x51d80c);}}function renderDayRange(_0x4fb396,_0x2fb42e){const _0x419387=a3_0x140f45,_0x13d62d=document[_0x419387(0x141)]('daysHeaderTrack'),_0x5130a0=document[_0x419387(0x141)](_0x419387(0x1d8)),_0x4f48f3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2ff8ac=new Date();_0x2ff8ac[_0x419387(0x121)](0x0,0x0,0x0,0x0);const _0x2aa1d8=getLocalDateStr(new Date());for(let _0x57380b=_0x4fb396;_0x57380b<=_0x2fb42e;_0x57380b++){const _0x15071d=new Date(_0x2ff8ac);_0x15071d[_0x419387(0x17b)](_0x15071d[_0x419387(0x129)]()+_0x57380b);const _0x263211=getLocalDateStr(_0x15071d);let _0xf394f4=_0x15071d['getDay']()-0x1;if(_0xf394f4===-0x1)_0xf394f4=0x6;const _0x7bc305=_0x263211===_0x2aa1d8,_0x330128=document['createElement'](_0x419387(0x170));_0x330128[_0x419387(0x1f1)]=_0x419387(0x157)+(_0x7bc305?'today':''),_0x330128['setAttribute'](_0x419387(0x1c0),_0x263211),_0x330128[_0x419387(0x18a)]=_0x419387(0x1a6)+_0x4f48f3[_0xf394f4]+'</div><div\x20class=\x22dch-num\x22>'+_0x15071d[_0x419387(0x129)]()+'</div>',_0x13d62d[_0x419387(0x202)](_0x330128);const _0x5bfbee=document[_0x419387(0x180)]('div');_0x5bfbee[_0x419387(0x1f1)]=_0x419387(0x1f2)+(_0x7bc305?_0x419387(0x1ea):''),_0x5bfbee['setAttribute'](_0x419387(0x1c0),_0x263211),_0x5bfbee[_0x419387(0x125)]('data-day-idx',_0xf394f4),_0x5130a0[_0x419387(0x202)](_0x5bfbee);}}function reRenderBlocks(){const _0x1e39bb=a3_0x140f45;document[_0x1e39bb(0x1cf)](_0x1e39bb(0x15c))[_0x1e39bb(0x1b7)](_0x4bd5de=>{const _0x727427=_0x1e39bb;_0x4bd5de['querySelectorAll'](_0x727427(0x17f))['forEach'](_0x5282fe=>_0x5282fe[_0x727427(0x1df)]());const _0x395993=_0x4bd5de['getAttribute']('data-date'),_0x30d791=parseInt(_0x4bd5de[_0x727427(0x1db)]('data-day-idx')),_0x18e165=Math['round'](_0x4bd5de['offsetLeft']);(availabilityPattern[_0x30d791]||[])['forEach'](_0x9ecc01=>{const _0x4aa2eb=_0x727427,_0x55ac33=document[_0x4aa2eb(0x180)](_0x4aa2eb(0x170));_0x55ac33['className']=_0x4aa2eb(0x14f),_0x55ac33['style']['top']=_0x9ecc01*GRID_H+'px',_0x55ac33[_0x4aa2eb(0x197)][_0x4aa2eb(0x18b)]='-'+_0x18e165+_0x4aa2eb(0x1cd)+_0x9ecc01*GRID_H+'px',_0x4bd5de['appendChild'](_0x55ac33);});if(specialRanges[_0x727427(0x19e)]>0x0){const _0x5ee09d=new Date(_0x395993+_0x727427(0x11d))[_0x727427(0x16f)](),_0xa9fbdd=new Date(_0x395993+'T23:59:59')[_0x727427(0x16f)]();specialRanges[_0x727427(0x1b7)](_0x9d1fe0=>{const _0x4130f1=_0x727427,_0x539170=new Date(_0x9d1fe0[_0x4130f1(0x130)])[_0x4130f1(0x16f)](),_0x3cd8d1=new Date(_0x9d1fe0[_0x4130f1(0x1d0)])[_0x4130f1(0x16f)](),_0x1aa6d5=Math[_0x4130f1(0x12f)](_0x5ee09d,_0x539170),_0x28cde3=Math['min'](_0xa9fbdd,_0x3cd8d1);if(_0x1aa6d5<_0x28cde3){const _0x61ab75=(_0x1aa6d5-_0x5ee09d)/0x36ee80*GRID_H,_0x3bf5c9=(_0x28cde3-_0x1aa6d5)/0x36ee80*GRID_H,_0x1bc877=document[_0x4130f1(0x180)](_0x4130f1(0x170));_0x3bf5c9>=23.5*GRID_H?(_0x1bc877[_0x4130f1(0x1f1)]=_0x4130f1(0x13b),_0x1bc877[_0x4130f1(0x197)][_0x4130f1(0x18b)]='-'+_0x18e165+_0x4130f1(0x1b5)):(_0x1bc877[_0x4130f1(0x1f1)]=_0x4130f1(0x16c),_0x1bc877[_0x4130f1(0x197)][_0x4130f1(0x150)]=_0x61ab75+'px',_0x1bc877[_0x4130f1(0x197)]['height']=_0x3bf5c9+'px',_0x1bc877[_0x4130f1(0x197)][_0x4130f1(0x18b)]='-'+_0x18e165+_0x4130f1(0x1cd)+_0x61ab75+'px'),_0x4bd5de['appendChild'](_0x1bc877);}});}renderEventsForColumn(_0x4bd5de,_0x395993);});}function renderEventsForColumn(_0xb4f8d9,_0x39458d){const _0x1afc43=a3_0x140f45,_0x587b64=sessions['filter'](_0x3a91e2=>_0x3a91e2[_0x1afc43(0x175)]===_0x39458d),_0x1ebcec=_0x587b64[_0x1afc43(0x203)](_0x325a3d=>{const _0x495924=_0x1afc43,[_0x55f7fe,_0xf9cefc]=_0x325a3d[_0x495924(0x130)]['split'](':')[_0x495924(0x203)](Number),[_0xdd0d23,_0x2faa2f]=_0x325a3d[_0x495924(0x1d0)][_0x495924(0x1f8)](':')['map'](Number);return{'data':_0x325a3d,'start':_0x55f7fe*0x3c+_0xf9cefc,'end':_0xdd0d23*0x3c+_0x2faa2f,'colIndex':0x0};});_0x1ebcec['sort']((_0xc5e580,_0x1728da)=>_0xc5e580['start']-_0x1728da[_0x1afc43(0x130)]||_0x1728da[_0x1afc43(0x1d0)]-_0x1728da[_0x1afc43(0x130)]-(_0xc5e580[_0x1afc43(0x1d0)]-_0xc5e580[_0x1afc43(0x130)]));const _0x58ecef=[];_0x1ebcec[_0x1afc43(0x1b7)](_0x240db1=>{const _0x3e11ad=_0x1afc43;let _0x19a66f=![];for(let _0x2d32f9=0x0;_0x2d32f9<_0x58ecef['length'];_0x2d32f9++){const _0x2c202b=_0x58ecef[_0x2d32f9];if(_0x240db1['start']>=_0x2c202b[_0x2c202b[_0x3e11ad(0x19e)]-0x1]['end']){_0x2c202b[_0x3e11ad(0x14d)](_0x240db1),_0x240db1[_0x3e11ad(0x1cc)]=_0x2d32f9,_0x19a66f=!![];break;}}!_0x19a66f&&(_0x58ecef[_0x3e11ad(0x14d)]([_0x240db1]),_0x240db1[_0x3e11ad(0x1cc)]=_0x58ecef[_0x3e11ad(0x19e)]-0x1);}),_0x1ebcec['forEach'](_0x392098=>{const _0x517db9=_0x1afc43;let _0x2b4a4a=0x0;_0x1ebcec[_0x517db9(0x1b7)](_0x44912e=>{const _0xe4949=_0x517db9;if(Math[_0xe4949(0x12f)](_0x392098[_0xe4949(0x130)],_0x44912e[_0xe4949(0x130)])<Math['min'](_0x392098[_0xe4949(0x1d0)],_0x44912e[_0xe4949(0x1d0)])&&_0x44912e['colIndex']>_0x2b4a4a)_0x2b4a4a=_0x44912e[_0xe4949(0x1cc)];});const _0x235014=_0x2b4a4a+0x1,_0x583d55=0x64/_0x235014,_0x5ef23a=_0x392098[_0x517db9(0x1cc)]*_0x583d55,_0x2f2e71=document[_0x517db9(0x180)](_0x517db9(0x170)),_0x40ce68=_0x392098[_0x517db9(0x123)];let _0x5383c4=_0x517db9(0x1bf);if(clients&&clients[_0x517db9(0x19e)]>0x0){const _0x38cbda=clients[_0x517db9(0x1f5)](_0x2bccb0=>String(_0x2bccb0['id'])===String(_0x40ce68[_0x517db9(0x13e)]));if(_0x38cbda&&_0x38cbda['color'])_0x5383c4=_0x38cbda['color'];}const _0x214036=_0x40ce68['status']===_0x517db9(0x112),_0x4974e7=_0x214036?0x1:0.45;_0x2f2e71[_0x517db9(0x1f1)]='event-card'+(_0x214036?_0x517db9(0x1e0):''),_0x2f2e71[_0x517db9(0x197)][_0x517db9(0x184)]=hexToRgba(_0x5383c4,_0x4974e7),_0x2f2e71['style'][_0x517db9(0x1ee)]=_0x5383c4;const _0x43aef4=_0x392098[_0x517db9(0x130)]/0x3c*GRID_H,_0x2b2c35=(_0x392098[_0x517db9(0x1d0)]-_0x392098[_0x517db9(0x130)])/0x3c*GRID_H;_0x2f2e71[_0x517db9(0x197)][_0x517db9(0x150)]=_0x43aef4+'px',_0x2f2e71[_0x517db9(0x197)][_0x517db9(0x110)]=Math[_0x517db9(0x12f)](_0x2b2c35,0x14)+'px',_0x2f2e71['style'][_0x517db9(0x128)]='calc('+_0x583d55+_0x517db9(0x18e),_0x2f2e71[_0x517db9(0x197)][_0x517db9(0x17d)]='calc('+_0x5ef23a+_0x517db9(0x106),_0x2f2e71['style']['zIndex']=0xa+_0x392098[_0x517db9(0x1cc)];if(_0x583d55<0x55)_0x2f2e71[_0x517db9(0x16e)][_0x517db9(0x195)](_0x517db9(0x137));let _0x5eac27='';if(_0x40ce68[_0x517db9(0x1fd)])_0x5eac27+=_0x517db9(0x12a);if(_0x214036)_0x5eac27+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x2f2e71[_0x517db9(0x18a)]=_0x517db9(0x136)+_0x40ce68[_0x517db9(0x130)]+_0x517db9(0x1d2)+_0x40ce68[_0x517db9(0x1d0)]+_0x517db9(0x1c2)+_0x5eac27+_0x517db9(0x1ff),_0x2f2e71[_0x517db9(0x1ef)]=_0x161a02=>{const _0x4ed422=_0x517db9;_0x161a02[_0x4ed422(0x1e1)](),openDetails(_0x40ce68);},_0xb4f8d9['appendChild'](_0x2f2e71);});}function openAnalytics(){const _0x30c75b=a3_0x140f45,_0x1a97b0=document['querySelector'](_0x30c75b(0x1b2));setAnalyticsPeriod(_0x30c75b(0x13c),_0x1a97b0),openSheet(_0x30c75b(0x120));}function setAnalyticsPeriod(_0x2a3684,_0x3781f9){const _0x59152e=a3_0x140f45;currentAnPeriod=_0x2a3684,document[_0x59152e(0x1cf)]('.period-switch\x20.p-btn')[_0x59152e(0x1b7)](_0x3b01cd=>_0x3b01cd['classList'][_0x59152e(0x1df)](_0x59152e(0x149)));if(_0x3781f9)_0x3781f9[_0x59152e(0x16e)][_0x59152e(0x195)](_0x59152e(0x149));const _0x534bd8=document[_0x59152e(0x141)](_0x59152e(0x206));_0x534bd8['style']['display']=_0x2a3684==='custom'?'flex':_0x59152e(0x181);const _0x56599e=new Date();let _0x253f16=new Date(),_0x4ae2f2=new Date();if(_0x2a3684===_0x59152e(0x13c))_0x253f16=getStartOfWeek(_0x56599e),_0x4ae2f2=new Date(_0x253f16),_0x4ae2f2[_0x59152e(0x17b)](_0x4ae2f2[_0x59152e(0x129)]()+0x6);else{if(_0x2a3684===_0x59152e(0x189))_0x253f16=new Date(_0x56599e[_0x59152e(0x165)](),_0x56599e[_0x59152e(0x163)](),0x1),_0x4ae2f2=new Date(_0x56599e['getFullYear'](),_0x56599e[_0x59152e(0x163)]()+0x1,0x0);else{!document[_0x59152e(0x141)](_0x59152e(0x146))[_0x59152e(0x199)]&&(document['getElementById'](_0x59152e(0x146))[_0x59152e(0x199)]=getLocalDateStr(_0x56599e),document[_0x59152e(0x141)](_0x59152e(0x116))[_0x59152e(0x199)]=getLocalDateStr(_0x56599e));refreshAnalytics();return;}}document[_0x59152e(0x141)](_0x59152e(0x146))['value']=getLocalDateStr(_0x253f16),document[_0x59152e(0x141)]('anEnd')[_0x59152e(0x199)]=getLocalDateStr(_0x4ae2f2),refreshAnalytics();}function refreshAnalytics(){const _0x2d48cc=a3_0x140f45,_0x59294a=document[_0x2d48cc(0x141)](_0x2d48cc(0x146))[_0x2d48cc(0x199)],_0xf245f0=document[_0x2d48cc(0x141)]('anEnd')[_0x2d48cc(0x199)];if(!_0x59294a||!_0xf245f0)return;const _0x4fffb1=sessions[_0x2d48cc(0x1fc)](_0x107a0c=>_0x107a0c[_0x2d48cc(0x175)]>=_0x59294a&&_0x107a0c['dateStr']<=_0xf245f0&&_0x107a0c[_0x2d48cc(0x1c9)]!=='cancelled'),_0x3138a1=_0x4fffb1[_0x2d48cc(0x19e)],_0x370bdf=_0x4fffb1[_0x2d48cc(0x1fc)](_0x199021=>_0x199021[_0x2d48cc(0x1c9)]===_0x2d48cc(0x112))['length'],_0x4dcd00=_0x3138a1>0x0?Math[_0x2d48cc(0x204)](_0x370bdf/_0x3138a1*0x64):0x0;document['getElementById'](_0x2d48cc(0x196))[_0x2d48cc(0x1e2)]=_0x4dcd00+'%',document[_0x2d48cc(0x141)](_0x2d48cc(0x17c))[_0x2d48cc(0x1e2)]=_0x370bdf+_0x2d48cc(0x19b)+_0x3138a1+_0x2d48cc(0x138);const _0x25592c=document[_0x2d48cc(0x141)]('anDonutCircle'),_0x2816f6=0x2*Math['PI']*0x23,_0xfa50d4=_0x2816f6-_0x4dcd00/0x64*_0x2816f6;_0x25592c[_0x2d48cc(0x197)][_0x2d48cc(0x1ae)]=_0xfa50d4;const _0x1e2362={};_0x4fffb1['forEach'](_0x7227bb=>{const _0x3f2ad2=_0x2d48cc,_0x4dd93b=_0x7227bb[_0x3f2ad2(0x1ce)]||_0x3f2ad2(0x154);if(!_0x1e2362[_0x4dd93b]){const _0x5dde42='#'+_0x4dd93b[_0x3f2ad2(0x168)]()[_0x3f2ad2(0x193)](0x0,0x6);_0x1e2362[_0x4dd93b]={'total':0x0,'done':0x0,'color':_0x5dde42};}_0x1e2362[_0x4dd93b][_0x3f2ad2(0x127)]++;if(_0x7227bb[_0x3f2ad2(0x1c9)]==='completed')_0x1e2362[_0x4dd93b]['done']++;});const _0x14357e=document[_0x2d48cc(0x141)](_0x2d48cc(0x176));_0x14357e[_0x2d48cc(0x18a)]='';const _0x5b7b3a=Object[_0x2d48cc(0x1ba)](_0x1e2362)[_0x2d48cc(0x10a)]((_0x407546,_0x2a9c02)=>_0x2a9c02[0x1]['total']-_0x407546[0x1][_0x2d48cc(0x127)]);if(_0x5b7b3a[_0x2d48cc(0x19e)]===0x0){_0x14357e['innerHTML']=_0x2d48cc(0x145);return;}_0x5b7b3a[_0x2d48cc(0x1b7)](([_0x237350,_0x17ccc4])=>{const _0x44a21a=_0x2d48cc,_0x189e14=Math[_0x44a21a(0x204)](_0x17ccc4[_0x44a21a(0x158)]/_0x17ccc4[_0x44a21a(0x127)]*0x64),_0x24e5be=document[_0x44a21a(0x180)](_0x44a21a(0x170));_0x24e5be['className']=_0x44a21a(0x18d),_0x24e5be[_0x44a21a(0x197)]['borderLeftColor']=_0x17ccc4[_0x44a21a(0x1c3)],_0x24e5be[_0x44a21a(0x18a)]=_0x44a21a(0x1be)+_0x237350[_0x44a21a(0x193)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x17ccc4['done']+_0x44a21a(0x19c)+_0x17ccc4[_0x44a21a(0x127)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x189e14+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x14357e[_0x44a21a(0x202)](_0x24e5be);});}function openDetails(_0x1ede69){const _0x3a2e73=a3_0x140f45;currentSession=_0x1ede69;const _0x37dba3=new Date(_0x1ede69[_0x3a2e73(0x175)]),_0x5cba31=_0x37dba3[_0x3a2e73(0x1fa)]('ru-RU',{'weekday':'long','day':_0x3a2e73(0x12e),'month':'long'});document[_0x3a2e73(0x141)](_0x3a2e73(0x1bc))[_0x3a2e73(0x1e2)]=_0x5cba31['charAt'](0x0)['toUpperCase']()+_0x5cba31[_0x3a2e73(0x15e)](0x1),document[_0x3a2e73(0x141)](_0x3a2e73(0x1f3))[_0x3a2e73(0x1e2)]=_0x1ede69[_0x3a2e73(0x130)]+_0x3a2e73(0x1d2)+_0x1ede69[_0x3a2e73(0x1d0)],document[_0x3a2e73(0x141)](_0x3a2e73(0x18f))[_0x3a2e73(0x1e2)]=_0x1ede69[_0x3a2e73(0x1a2)]||_0x3a2e73(0x188);const _0x44430b=document[_0x3a2e73(0x141)](_0x3a2e73(0x117)),_0x14fd84=document['getElementById'](_0x3a2e73(0x200)),_0x235a85=_0x14fd84[_0x3a2e73(0x19f)]('.btn-cancel'),_0x495166=_0x14fd84[_0x3a2e73(0x19f)](_0x3a2e73(0x178)),_0x3caad0=document[_0x3a2e73(0x141)](_0x3a2e73(0x11a));if(_0x1ede69[_0x3a2e73(0x1c9)]===_0x3a2e73(0x112))_0x44430b[_0x3a2e73(0x1e2)]=_0x3a2e73(0x143),_0x44430b[_0x3a2e73(0x197)][_0x3a2e73(0x1c3)]=_0x3a2e73(0x160),_0x14fd84[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]=_0x3a2e73(0x181);else{_0x44430b[_0x3a2e73(0x1e2)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x44430b['style'][_0x3a2e73(0x1c3)]=_0x3a2e73(0x1fb),_0x14fd84[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]='block';const _0x2bea59=new Date(_0x1ede69[_0x3a2e73(0x175)]+'T'+_0x1ede69[_0x3a2e73(0x130)]),_0x120389=new Date(),_0x1e4cc5=(_0x2bea59-_0x120389)/(0x3e8*0x3c*0x3c),_0x213997=coachProfiles[_0x1ede69['coachId']]&&coachProfiles[_0x1ede69[_0x3a2e73(0x1ce)]][_0x3a2e73(0x147)]?parseInt(coachProfiles[_0x1ede69[_0x3a2e73(0x1ce)]][_0x3a2e73(0x147)]):0x18;if(_0x213997===0x0||_0x1e4cc5>=_0x213997)_0x235a85[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]=_0x3a2e73(0x1d5),_0x495166[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]='block',_0x3caad0['style'][_0x3a2e73(0x1c8)]=_0x3a2e73(0x181);else{_0x235a85[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]=_0x3a2e73(0x181),_0x495166[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]=_0x3a2e73(0x181),_0x3caad0[_0x3a2e73(0x197)][_0x3a2e73(0x1c8)]=_0x3a2e73(0x1d5);let _0x4696d6=_0x213997===0x0?_0x3a2e73(0x15f):_0x3a2e73(0x122)+_0x213997+_0x3a2e73(0x10e);_0x3caad0[_0x3a2e73(0x1e2)]=_0x3a2e73(0x144)+_0x4696d6+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x3a2e73(0x148))[_0x3a2e73(0x16e)][_0x3a2e73(0x195)](_0x3a2e73(0x149)),document['getElementById'](_0x3a2e73(0x1d6))[_0x3a2e73(0x16e)][_0x3a2e73(0x195)](_0x3a2e73(0x169));}function closeAllSheets(){const _0x190540=a3_0x140f45;document[_0x190540(0x141)](_0x190540(0x148))[_0x190540(0x16e)][_0x190540(0x1df)](_0x190540(0x149)),document[_0x190540(0x1cf)]('.sheet')[_0x190540(0x1b7)](_0x4eb09c=>_0x4eb09c[_0x190540(0x16e)][_0x190540(0x1df)](_0x190540(0x169)));}function openSheet(_0x345552){const _0x29873a=a3_0x140f45;document[_0x29873a(0x141)]('overlay')[_0x29873a(0x16e)][_0x29873a(0x195)](_0x29873a(0x149)),document[_0x29873a(0x141)](_0x345552)[_0x29873a(0x16e)][_0x29873a(0x195)](_0x29873a(0x169));}function getLocalDateStr(_0x4f7c51){const _0x4da518=a3_0x140f45,_0x31a56d=_0x4f7c51[_0x4da518(0x165)](),_0x3d86bd=String(_0x4f7c51[_0x4da518(0x163)]()+0x1)[_0x4da518(0x17e)](0x2,'0'),_0x5725fd=String(_0x4f7c51['getDate']())[_0x4da518(0x17e)](0x2,'0');return _0x31a56d+'-'+_0x3d86bd+'-'+_0x5725fd;}function getStartOfWeek(_0x48d7bb){const _0x39eb79=a3_0x140f45,_0x511dac=new Date(_0x48d7bb),_0x1e25b7=_0x511dac[_0x39eb79(0x166)](),_0x240a62=_0x511dac['getDate']()-_0x1e25b7+(_0x1e25b7===0x0?-0x6:0x1);return _0x511dac[_0x39eb79(0x17b)](_0x240a62),_0x511dac[_0x39eb79(0x121)](0x0,0x0,0x0,0x0),_0x511dac;}function scrollToToday(){const _0x425063=getLocalDateStr(new Date());setTimeout(()=>{const _0x364963=a3_0x47ee,_0x43934e=document[_0x364963(0x19f)](_0x364963(0x1af)+_0x425063+'\x22]');if(_0x43934e){const _0x88ef4e=document[_0x364963(0x141)](_0x364963(0x15b)),_0x1c612d=_0x43934e[_0x364963(0x161)]-_0x88ef4e['clientWidth']/0x2+_0x43934e[_0x364963(0x192)]/0x2;_0x88ef4e[_0x364963(0x187)]({'left':_0x1c612d,'behavior':_0x364963(0x18c)}),_0x88ef4e[_0x364963(0x1a3)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x47ee(_0x5abb4d,_0x36ce31){_0x5abb4d=_0x5abb4d-0x104;const _0x555c2c=a3_0x45d5();let _0x11ab84=_0x555c2c[_0x5abb4d];return _0x11ab84;}function updateClock(){const _0x2c554d=a3_0x140f45,_0x157188=new Date(),_0x5fd680=document['getElementById'](_0x2c554d(0x1a5)),_0x5cdc26=document[_0x2c554d(0x141)](_0x2c554d(0x111)),_0x253755=(_0x157188[_0x2c554d(0x10d)]()*0x3c+_0x157188[_0x2c554d(0x14a)]())/0x3c*GRID_H;_0x5fd680[_0x2c554d(0x197)]['top']=_0x253755+'px',_0x5fd680[_0x2c554d(0x197)][_0x2c554d(0x1c8)]='block',_0x5cdc26[_0x2c554d(0x197)][_0x2c554d(0x150)]=_0x253755+'px',_0x5cdc26['style'][_0x2c554d(0x1c8)]='block',_0x5cdc26['textContent']=String(_0x157188[_0x2c554d(0x10d)]())[_0x2c554d(0x17e)](0x2,'0')+':'+String(_0x157188[_0x2c554d(0x14a)]())[_0x2c554d(0x17e)](0x2,'0');}function onScroll(){const _0x3f1174=a3_0x140f45,_0x4b721c=document[_0x3f1174(0x141)]('matrixViewport'),_0x21c008=document[_0x3f1174(0x1cf)](_0x3f1174(0x1ec));for(let _0xed7152 of _0x21c008)if(_0xed7152[_0x3f1174(0x161)]>=_0x4b721c[_0x3f1174(0x1a0)]){const _0x1ef4c6=new Date(_0xed7152[_0x3f1174(0x1db)]('data-date'));document['getElementById'](_0x3f1174(0x108))[_0x3f1174(0x1e2)]=_0x1ef4c6[_0x3f1174(0x19d)]('ru',{'month':_0x3f1174(0x1ab)})[_0x3f1174(0x1bb)]()+'\x20'+_0x1ef4c6['getFullYear']();break;}}function showToast(_0x42aaac){const _0x1dece0=a3_0x140f45,_0x33c472=document[_0x1dece0(0x141)](_0x1dece0(0x1ed));_0x33c472[_0x1dece0(0x1e2)]=_0x42aaac,_0x33c472[_0x1dece0(0x16e)]['add']('show'),setTimeout(()=>_0x33c472['classList'][_0x1dece0(0x1df)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x4a6158=a3_0x140f45,_0x448be4=document['getElementById'](_0x4a6158(0x15b)),_0x2e89eb=_0x448be4['scrollLeft'],_0x4015b2=_0x448be4[_0x4a6158(0x177)],_0x59f27f=_0x448be4[_0x4a6158(0x1f4)];if(_0x4015b2-(_0x2e89eb+_0x59f27f)<0x12c){const _0x207312=endOffset;endOffset+=0xe,renderDayRange(_0x207312+0x1,endOffset),reRenderBlocks();}if(_0x2e89eb<0x12c){const _0x5f0c01=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5f0c01-0x1),_0x448be4[_0x4a6158(0x1a0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3e66d0,_0x346f74){const _0x57a4ca=a3_0x140f45,_0x3e3199=document[_0x57a4ca(0x141)](_0x57a4ca(0x164)),_0x5e7166=document[_0x57a4ca(0x141)]('gridColumns'),_0x528583=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5830ce=new Date();_0x5830ce[_0x57a4ca(0x121)](0x0,0x0,0x0,0x0);const _0xefe4b=getLocalDateStr(new Date()),_0x44b13f=document['createDocumentFragment'](),_0xc9db44=document['createDocumentFragment']();for(let _0xa15560=_0x3e66d0;_0xa15560<=_0x346f74;_0xa15560++){const _0x31bc24=new Date(_0x5830ce);_0x31bc24[_0x57a4ca(0x17b)](_0x31bc24[_0x57a4ca(0x129)]()+_0xa15560);const _0x3f86bf=getLocalDateStr(_0x31bc24);let _0x4440eb=_0x31bc24[_0x57a4ca(0x166)]()-0x1;if(_0x4440eb===-0x1)_0x4440eb=0x6;const _0x4b8f09=_0x3f86bf===_0xefe4b,_0x3bcc45=document[_0x57a4ca(0x180)](_0x57a4ca(0x170));_0x3bcc45[_0x57a4ca(0x1f1)]=_0x57a4ca(0x157)+(_0x4b8f09?_0x57a4ca(0x1ea):''),_0x3bcc45[_0x57a4ca(0x125)](_0x57a4ca(0x1c0),_0x3f86bf),_0x3bcc45['innerHTML']=_0x57a4ca(0x1a6)+_0x528583[_0x4440eb]+_0x57a4ca(0x171)+_0x31bc24[_0x57a4ca(0x129)]()+'</div>',_0x44b13f[_0x57a4ca(0x202)](_0x3bcc45);const _0x1c8877=document[_0x57a4ca(0x180)](_0x57a4ca(0x170));_0x1c8877[_0x57a4ca(0x1f1)]=_0x57a4ca(0x1f2)+(_0x4b8f09?'today':''),_0x1c8877[_0x57a4ca(0x125)]('data-date',_0x3f86bf),_0x1c8877['setAttribute']('data-day-idx',_0x4440eb),_0xc9db44[_0x57a4ca(0x202)](_0x1c8877);}_0x3e3199[_0x57a4ca(0x14b)](_0x44b13f,_0x3e3199[_0x57a4ca(0x1c4)]),_0x5e7166[_0x57a4ca(0x14b)](_0xc9db44,_0x5e7166[_0x57a4ca(0x19f)](_0x57a4ca(0x15c)));}function hexToRgba(_0x4e6916,_0x2aea1d){const _0x33c5db=a3_0x140f45;let _0xeea2a8;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x33c5db(0x183)](_0x4e6916))return _0xeea2a8=_0x4e6916[_0x33c5db(0x155)](0x1)[_0x33c5db(0x1f8)](''),_0xeea2a8[_0x33c5db(0x19e)]==0x3&&(_0xeea2a8=[_0xeea2a8[0x0],_0xeea2a8[0x0],_0xeea2a8[0x1],_0xeea2a8[0x1],_0xeea2a8[0x2],_0xeea2a8[0x2]]),_0xeea2a8='0x'+_0xeea2a8[_0x33c5db(0x1e4)](''),_0x33c5db(0x14e)+[_0xeea2a8>>0x10&0xff,_0xeea2a8>>0x8&0xff,_0xeea2a8&0xff][_0x33c5db(0x1e4)](',')+','+_0x2aea1d+')';return _0x33c5db(0x109)+_0x2aea1d+')';}let confirmResolver=null;function showCustomConfirm(_0x550262,_0x542cf6,_0x48129a=!![]){const _0x5c8579=a3_0x140f45;document[_0x5c8579(0x141)](_0x5c8579(0x182))[_0x5c8579(0x1e2)]=_0x550262,document[_0x5c8579(0x141)]('ccText')[_0x5c8579(0x1e2)]=_0x542cf6;const _0x57cd7f=document[_0x5c8579(0x141)](_0x5c8579(0x12b));return _0x48129a?(_0x57cd7f['style'][_0x5c8579(0x1c3)]=_0x5c8579(0x1b3),_0x57cd7f[_0x5c8579(0x197)][_0x5c8579(0x124)]=_0x5c8579(0x1d9)):(_0x57cd7f[_0x5c8579(0x197)][_0x5c8579(0x1c3)]=_0x5c8579(0x1bf),_0x57cd7f[_0x5c8579(0x197)][_0x5c8579(0x124)]='600'),new Promise(_0x4c0055=>{const _0x50937f=_0x5c8579;confirmResolver=_0x4c0055,document[_0x50937f(0x141)]('customConfirm')[_0x50937f(0x16e)][_0x50937f(0x195)](_0x50937f(0x1b1));});}function resolveCustomConfirm(_0x494f7f){const _0x2b8b5c=a3_0x140f45;document['getElementById']('customConfirm')[_0x2b8b5c(0x16e)][_0x2b8b5c(0x1df)](_0x2b8b5c(0x1b1));if(confirmResolver)confirmResolver(_0x494f7f);}async function tryCancelCurrentSession(){const _0x2a5a99=a3_0x140f45;if(!currentSession)return;const _0x38b776=await showCustomConfirm(_0x2a5a99(0x190),_0x2a5a99(0x11b),!![]);if(!_0x38b776)return;const _0x14b264=currentSession;closeAllSheets(),sessions=sessions[_0x2a5a99(0x1fc)](_0x46fc24=>_0x46fc24['id']!==_0x14b264['id']),reRenderBlocks(),showToast(_0x2a5a99(0x191)),lastUserActionTime=Date[_0x2a5a99(0x1e6)]();try{const _0x4c9fde=window[_0x2a5a99(0x1e8)]?.[_0x2a5a99(0x1bd)],_0x187892=await fetch(API_URL,{'method':_0x2a5a99(0x1f6),'body':JSON[_0x2a5a99(0x11f)]({'action':_0x2a5a99(0x172),'init_data':_0x4c9fde?.[_0x2a5a99(0x1d3)]||'','coachId':_0x14b264[_0x2a5a99(0x1ce)],'dateStr':_0x14b264[_0x2a5a99(0x175)],'sessionId':_0x14b264['id']})});if(_0x187892['ok'])DataManager[_0x2a5a99(0x1f9)]();}catch(_0x81b047){showToast(_0x2a5a99(0x10f));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3f8beb=a3_0x140f45;if(!currentSession)return;document[_0x3f8beb(0x141)](_0x3f8beb(0x1d6))[_0x3f8beb(0x16e)][_0x3f8beb(0x1df)](_0x3f8beb(0x169)),document[_0x3f8beb(0x141)](_0x3f8beb(0x104))[_0x3f8beb(0x16e)][_0x3f8beb(0x195)](_0x3f8beb(0x169));const _0x1e8616=document[_0x3f8beb(0x141)]('rsDatesTrack'),_0x1d4c3a=document[_0x3f8beb(0x141)](_0x3f8beb(0x1c6));_0x1e8616[_0x3f8beb(0x18a)]='',_0x1d4c3a[_0x3f8beb(0x18a)]=_0x3f8beb(0x1cb);const [_0x594021,_0x568637]=currentSession['start'][_0x3f8beb(0x1f8)](':')[_0x3f8beb(0x203)](Number),[_0x4df75d,_0x2aeb33]=currentSession[_0x3f8beb(0x1d0)]['split'](':')['map'](Number),_0x59fa90=_0x4df75d*0x3c+_0x2aeb33-(_0x594021*0x3c+_0x568637);try{const _0x5e0589=window[_0x3f8beb(0x1e8)]?.[_0x3f8beb(0x1bd)],_0x1e2f3e=await fetch(API_URL,{'method':'POST','body':JSON[_0x3f8beb(0x11f)]({'action':_0x3f8beb(0x13a),'coachId':currentSession[_0x3f8beb(0x1ce)],'duration':_0x59fa90,'init_data':_0x5e0589?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x153105=await _0x1e2f3e[_0x3f8beb(0x179)]();_0x153105['ok']&&_0x153105['data']?(availableSlotsCache=_0x153105[_0x3f8beb(0x123)],renderRescheduleDates()):_0x1d4c3a[_0x3f8beb(0x18a)]=_0x3f8beb(0x135);}catch(_0x3ca6bc){_0x1d4c3a[_0x3f8beb(0x18a)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x4b59fc=a3_0x140f45,_0x8fcaa1=document[_0x4b59fc(0x141)]('rsDatesTrack');_0x8fcaa1[_0x4b59fc(0x18a)]='';const _0x5a5c26=Object[_0x4b59fc(0x1a4)](availableSlotsCache)[_0x4b59fc(0x10a)](),_0x251375=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5a5c26[_0x4b59fc(0x19e)]===0x0){document[_0x4b59fc(0x141)](_0x4b59fc(0x1c6))[_0x4b59fc(0x18a)]=_0x4b59fc(0x205);return;}_0x5a5c26[_0x4b59fc(0x1b7)]((_0x10b596,_0x57fc60)=>{const _0x2bcaa2=_0x4b59fc,_0x15f36f=new Date(_0x10b596),_0x39b2f7=_0x251375[_0x15f36f['getDay']()],_0x27e033=_0x15f36f[_0x2bcaa2(0x129)](),_0xa6fe49=document[_0x2bcaa2(0x180)](_0x2bcaa2(0x170));_0xa6fe49[_0x2bcaa2(0x1f1)]=_0x2bcaa2(0x194);if(_0x57fc60===0x0)_0xa6fe49[_0x2bcaa2(0x16e)][_0x2bcaa2(0x195)]('active');_0xa6fe49[_0x2bcaa2(0x18a)]=_0x2bcaa2(0x118)+_0x39b2f7+'</div><div\x20class=\x22rs-day-num\x22>'+_0x27e033+_0x2bcaa2(0x139),_0xa6fe49[_0x2bcaa2(0x1ef)]=()=>selectRsDate(_0x10b596,_0xa6fe49),_0x8fcaa1[_0x2bcaa2(0x202)](_0xa6fe49);}),selectRsDate(_0x5a5c26[0x0],_0x8fcaa1[_0x4b59fc(0x1c4)]);}function selectRsDate(_0x1e605a,_0x2900ca){const _0x2035a1=a3_0x140f45;selectedRsDate=_0x1e605a,document['querySelectorAll'](_0x2035a1(0x174))[_0x2035a1(0x1b7)](_0x3b6845=>_0x3b6845['classList']['remove'](_0x2035a1(0x149)));if(_0x2900ca)_0x2900ca[_0x2035a1(0x16e)][_0x2035a1(0x195)](_0x2035a1(0x149));const _0x48fcca=document[_0x2035a1(0x141)]('rsSlotsGrid');_0x48fcca[_0x2035a1(0x18a)]='';const _0x49c75c=availableSlotsCache[_0x1e605a]||[];if(_0x49c75c[_0x2035a1(0x19e)]===0x0){_0x48fcca[_0x2035a1(0x18a)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x49c75c[_0x2035a1(0x1b7)](_0x286fdd=>{const _0x3b15b1=_0x2035a1,_0xe49d0a=document[_0x3b15b1(0x180)](_0x3b15b1(0x1e9));_0xe49d0a[_0x3b15b1(0x1f1)]=_0x3b15b1(0x16d),_0xe49d0a[_0x3b15b1(0x1e2)]=_0x286fdd,_0xe49d0a[_0x3b15b1(0x1ef)]=()=>confirmReschedule(_0x286fdd),_0x48fcca[_0x3b15b1(0x202)](_0xe49d0a);});}async function confirmReschedule(_0x5510dd){const _0x281b57=a3_0x140f45,_0x50f580=new Date(selectedRsDate),_0x20700c=_0x50f580[_0x281b57(0x1fa)](_0x281b57(0x119),{'day':_0x281b57(0x12e),'month':_0x281b57(0x1ab)}),_0x3eb123=await showCustomConfirm(_0x281b57(0x1b0),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x20700c+_0x281b57(0x105)+_0x5510dd+'?',![]);if(!_0x3eb123)return;closeAllSheets(),showToast(_0x281b57(0x14c)),lastUserActionTime=Date[_0x281b57(0x1e6)]();const _0xcf4ccc=currentSession[_0x281b57(0x175)],_0x4404ef=currentSession['id'],[_0x4c609d,_0x333b0a]=currentSession[_0x281b57(0x130)][_0x281b57(0x1f8)](':')[_0x281b57(0x203)](Number),[_0x42bba3,_0x1a929c]=currentSession['end'][_0x281b57(0x1f8)](':')[_0x281b57(0x203)](Number),_0x4bf90a=_0x42bba3*0x3c+_0x1a929c-(_0x4c609d*0x3c+_0x333b0a),[_0x531378,_0x17f736]=_0x5510dd[_0x281b57(0x1f8)](':')[_0x281b57(0x203)](Number),_0x83050=_0x531378*0x3c+_0x17f736+_0x4bf90a,_0x3afdff=Math[_0x281b57(0x1d1)](_0x83050/0x3c),_0x5de558=_0x83050%0x3c,_0x5cfec7=String(_0x3afdff)['padStart'](0x2,'0')+':'+String(_0x5de558)[_0x281b57(0x17e)](0x2,'0'),_0xe26d92=sessions[_0x281b57(0x13d)](_0x171bfa=>_0x171bfa['id']===_0x4404ef);_0xe26d92!==-0x1&&(sessions[_0xe26d92][_0x281b57(0x175)]=selectedRsDate,sessions[_0xe26d92][_0x281b57(0x130)]=_0x5510dd,sessions[_0xe26d92][_0x281b57(0x1d0)]=_0x5cfec7,reRenderBlocks());try{const _0x41defe=window['Telegram']?.[_0x281b57(0x1bd)],_0x57bf42=await fetch(API_URL,{'method':_0x281b57(0x1f6),'body':JSON[_0x281b57(0x11f)]({'action':'reschedule','init_data':_0x41defe?.[_0x281b57(0x1d3)]||'','oldSessionId':_0x4404ef,'oldDate':_0xcf4ccc,'newDate':selectedRsDate,'newTime':_0x5510dd,'coachId':currentSession[_0x281b57(0x1ce)]})}),_0x1710a6=await _0x57bf42[_0x281b57(0x179)]();!_0x1710a6['ok']?(showToast(_0x281b57(0x19a)),DataManager[_0x281b57(0x114)]()):(showToast(_0x281b57(0x1a8)),DataManager[_0x281b57(0x1f9)]());}catch(_0x4ca523){showToast(_0x281b57(0x10f));}}document['addEventListener'](a3_0x140f45(0x107),init);