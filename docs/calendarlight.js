const a3_0x555075=a3_0xfb3b;(function(_0x8a0c5b,_0x5c1ef0){const _0x12af14=a3_0xfb3b,_0x51c88e=_0x8a0c5b();while(!![]){try{const _0x4929cc=parseInt(_0x12af14(0x1f1))/0x1+-parseInt(_0x12af14(0x19e))/0x2*(-parseInt(_0x12af14(0x1c9))/0x3)+-parseInt(_0x12af14(0x261))/0x4*(-parseInt(_0x12af14(0x283))/0x5)+-parseInt(_0x12af14(0x1c8))/0x6*(parseInt(_0x12af14(0x27b))/0x7)+-parseInt(_0x12af14(0x19d))/0x8+parseInt(_0x12af14(0x1a5))/0x9+-parseInt(_0x12af14(0x277))/0xa;if(_0x4929cc===_0x5c1ef0)break;else _0x51c88e['push'](_0x51c88e['shift']());}catch(_0x481d7d){_0x51c88e['push'](_0x51c88e['shift']());}}}(a3_0x2fb3,0xdd752));const APP_VERSION=a3_0x555075(0x20e),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x555075(0x211),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x555075(0x1e8);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x555075(0x1a6),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x268c2f=a3_0x555075,_0x8eaf5c=(function(){let _0x9fb290=!![];return function(_0x4e7693,_0x2fae9c){const _0x20c22e=_0x9fb290?function(){const _0xd1f1a8=a3_0xfb3b;if(_0x2fae9c){const _0x3b05c8=_0x2fae9c[_0xd1f1a8(0x23f)](_0x4e7693,arguments);return _0x2fae9c=null,_0x3b05c8;}}:function(){};return _0x9fb290=![],_0x20c22e;};}()),_0x5a7a4c=_0x8eaf5c(this,function(){const _0x56ce2a=a3_0xfb3b;return _0x5a7a4c['toString']()[_0x56ce2a(0x1f2)](_0x56ce2a(0x265))[_0x56ce2a(0x230)]()[_0x56ce2a(0x239)](_0x5a7a4c)[_0x56ce2a(0x1f2)](_0x56ce2a(0x265));});_0x5a7a4c();try{const _0x3c82fb=window['Telegram']?.[_0x268c2f(0x19c)];if(!_0x3c82fb)return;_0x3c82fb[_0x268c2f(0x25c)](),_0x3c82fb[_0x268c2f(0x207)]();try{_0x3c82fb[_0x268c2f(0x1df)](_0x268c2f(0x21d)),_0x3c82fb[_0x268c2f(0x278)]&&_0x3c82fb['setBackgroundColor'](_0x268c2f(0x21d));}catch(_0x370a81){console[_0x268c2f(0x18c)](_0x268c2f(0x200),_0x370a81);}try{_0x3c82fb['BackButton']&&(_0x3c82fb[_0x268c2f(0x289)][_0x268c2f(0x1cf)](),_0x3c82fb[_0x268c2f(0x289)][_0x268c2f(0x1a7)](),_0x3c82fb['BackButton'][_0x268c2f(0x287)](function(){const _0x1f579e=_0x268c2f;window[_0x1f579e(0x223)]['href']=_0x1f579e(0x264);}));}catch(_0x5a77cf){console[_0x268c2f(0x18c)](_0x268c2f(0x1fb),_0x5a77cf);}try{if(_0x3c82fb[_0x268c2f(0x1ff)])_0x3c82fb[_0x268c2f(0x1ff)]();}catch(_0x577dff){}}catch(_0x2f9204){console[_0x268c2f(0x244)](_0x268c2f(0x1b1),_0x2f9204);}}());function isAdmin(){const _0x4819b5=a3_0x555075;try{const _0x2ec1a2=Number(window[_0x4819b5(0x275)]?.['WebApp']?.[_0x4819b5(0x27d)]?.['user']?.['id']);return _0x2ec1a2===0xbaf7174;}catch(_0xee389f){return![];}}const DataManager={'saveLocally'(){const _0x1640f3=a3_0x555075;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x1640f3(0x1c5)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x1640f3(0x1c5)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x291724){}},'loadLocal'(){const _0x36881f=a3_0x555075;try{const _0x50325d=localStorage['getItem'](KEY_SESSIONS);if(_0x50325d)sessions=JSON['parse'](_0x50325d);const _0x27b5c8=localStorage[_0x36881f(0x219)](KEY_CLIENTS);if(_0x27b5c8)clients=JSON['parse'](_0x27b5c8);const _0x24684c=localStorage[_0x36881f(0x219)](KEY_SETTINGS);if(_0x24684c){const _0x2bf518=JSON[_0x36881f(0x1d0)](_0x24684c);if(_0x2bf518[_0x36881f(0x288)])availabilityPattern=_0x2bf518[_0x36881f(0x288)];if(_0x2bf518[_0x36881f(0x19b)])specialRanges=_0x2bf518['ranges'];if(_0x2bf518[_0x36881f(0x26d)])dateExceptions=_0x2bf518[_0x36881f(0x26d)];}}catch(_0x485af1){}},async 'syncLoad'(){const _0x3b3c98=a3_0x555075,_0x4dece7=new Date(),_0x56a8e1=_0x4dece7['getFullYear']()+'-'+String(_0x4dece7['getMonth']()+0x1)[_0x3b3c98(0x1d6)](0x2,'0'),_0x20a32f=new Date(_0x4dece7);_0x20a32f[_0x3b3c98(0x237)](_0x4dece7['getMonth']()+0x1);const _0x43c246=_0x20a32f[_0x3b3c98(0x269)]()+'-'+String(_0x20a32f['getMonth']()+0x1)[_0x3b3c98(0x1d6)](0x2,'0'),_0x7cfda9=Date[_0x3b3c98(0x268)]();try{const _0x1cacdb=window['Telegram']?.[_0x3b3c98(0x19c)],_0xcfe3e7=_0x1cacdb?.[_0x3b3c98(0x253)]||'',[_0x338790,_0x3e3f5b]=await Promise[_0x3b3c98(0x235)]([fetch(API_URL,{'method':_0x3b3c98(0x24b),'body':JSON[_0x3b3c98(0x1c5)]({'action':_0x3b3c98(0x26a),'init_data':_0xcfe3e7,'month_str':_0x56a8e1})})[_0x3b3c98(0x254)](_0x567895=>_0x567895['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x3b3c98(0x1c5)]({'action':_0x3b3c98(0x26a),'init_data':_0xcfe3e7,'month_str':_0x43c246})})[_0x3b3c98(0x254)](_0x24cd75=>_0x24cd75[_0x3b3c98(0x255)]())]);if(lastUserActionTime>_0x7cfda9){console[_0x3b3c98(0x18c)](_0x3b3c98(0x24a));return;}if(_0x338790['ok'])this[_0x3b3c98(0x224)](_0x338790['data'],_0x56a8e1);if(_0x3e3f5b['ok'])this['applyData'](_0x3e3f5b[_0x3b3c98(0x262)],_0x43c246);this[_0x3b3c98(0x191)]();}catch(_0x13fdd5){}},'applyData'(_0xda3030,_0xb69012){const _0x56d898=a3_0x555075;if(!_0xda3030)return;if(_0xda3030[_0x56d898(0x21e)]){if(_0xda3030['settings'][_0x56d898(0x288)])availabilityPattern=_0xda3030[_0x56d898(0x21e)]['pattern'];if(_0xda3030[_0x56d898(0x21e)][_0x56d898(0x19b)])specialRanges=_0xda3030[_0x56d898(0x21e)]['ranges'];if(_0xda3030[_0x56d898(0x21e)]['exceptions'])dateExceptions=_0xda3030['settings'][_0x56d898(0x26d)];}if(_0xda3030['clients']&&Array[_0x56d898(0x226)](_0xda3030['clients']))clients=_0xda3030['clients'];_0xda3030[_0x56d898(0x248)]&&(coachProfiles={...coachProfiles,..._0xda3030[_0x56d898(0x248)]}),_0xda3030[_0x56d898(0x280)]&&(sessions=sessions[_0x56d898(0x1f6)](_0x19d3f4=>!_0x19d3f4[_0x56d898(0x208)][_0x56d898(0x279)](_0xb69012)),Object[_0x56d898(0x1fd)](_0xda3030['calendar'])['forEach'](_0xab2bf2=>{const _0x10cbc8=_0x56d898,_0x3702a5=_0xda3030[_0x10cbc8(0x280)][_0xab2bf2];_0x3702a5[_0x10cbc8(0x220)](_0x509953=>{const _0x1926cd=_0x10cbc8;sessions[_0x1926cd(0x281)]({'id':_0x509953['i'],'clientId':_0x509953['c'],'coachId':_0x509953[_0x1926cd(0x1dd)],'dateStr':_0xb69012+'-'+_0xab2bf2[_0x1926cd(0x1d6)](0x2,'0'),'start':_0x509953['s'],'end':_0x509953['e'],'note':_0x509953['n']||'','status':_0x509953['st']||_0x1926cd(0x27c),'seriesId':_0x509953[_0x1926cd(0x1f8)]});});})),reRenderBlocks();}};function init(){const _0x4293e9=a3_0x555075;DataManager[_0x4293e9(0x1bf)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4293e9(0x1f0)]('matrixViewport')[_0x4293e9(0x18f)](_0x4293e9(0x22b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x109c8b=a3_0x555075,_0x39e79a=document['getElementById'](_0x109c8b(0x1b7)),_0x75aa1a=document['getElementById'](_0x109c8b(0x228));_0x39e79a[_0x109c8b(0x24f)]='',_0x39e79a[_0x109c8b(0x1db)](_0x75aa1a);for(let _0x4c36a2=0x0;_0x4c36a2<0x18;_0x4c36a2++){const _0x4672cb=document[_0x109c8b(0x1a2)](_0x109c8b(0x1b9));_0x4672cb[_0x109c8b(0x20b)]=_0x109c8b(0x259);if(_0x4c36a2>0x0)_0x4672cb[_0x109c8b(0x24f)]=_0x109c8b(0x22a)+String(_0x4c36a2)[_0x109c8b(0x1d6)](0x2,'0')+_0x109c8b(0x1ad);_0x39e79a[_0x109c8b(0x1db)](_0x4672cb);}}function renderDayRange(_0x471161,_0xae4c05){const _0x4c1274=a3_0x555075,_0xe1525c=document[_0x4c1274(0x1f0)](_0x4c1274(0x23a)),_0x4f45b1=document[_0x4c1274(0x1f0)](_0x4c1274(0x252)),_0x4ed2a4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3be007=new Date();_0x3be007['setHours'](0x0,0x0,0x0,0x0);const _0x4318f6=getLocalDateStr(new Date());for(let _0x887c46=_0x471161;_0x887c46<=_0xae4c05;_0x887c46++){const _0x1d80f3=new Date(_0x3be007);_0x1d80f3[_0x4c1274(0x209)](_0x1d80f3[_0x4c1274(0x26c)]()+_0x887c46);const _0x1e96d6=getLocalDateStr(_0x1d80f3);let _0x4de44c=_0x1d80f3[_0x4c1274(0x1d4)]()-0x1;if(_0x4de44c===-0x1)_0x4de44c=0x6;const _0x21c2a3=_0x1e96d6===_0x4318f6,_0x3d4bd1=document[_0x4c1274(0x1a2)](_0x4c1274(0x1b9));_0x3d4bd1[_0x4c1274(0x20b)]=_0x4c1274(0x1b4)+(_0x21c2a3?_0x4c1274(0x1f4):''),_0x3d4bd1['setAttribute'](_0x4c1274(0x1c1),_0x1e96d6),_0x3d4bd1[_0x4c1274(0x24f)]=_0x4c1274(0x221)+_0x4ed2a4[_0x4de44c]+_0x4c1274(0x204)+_0x1d80f3['getDate']()+_0x4c1274(0x216),_0xe1525c['appendChild'](_0x3d4bd1);const _0x25d30e=document[_0x4c1274(0x1a2)](_0x4c1274(0x1b9));_0x25d30e['className']=_0x4c1274(0x1ef)+(_0x21c2a3?_0x4c1274(0x1f4):''),_0x25d30e[_0x4c1274(0x270)](_0x4c1274(0x1c1),_0x1e96d6),_0x25d30e[_0x4c1274(0x270)](_0x4c1274(0x23c),_0x4de44c),_0x4f45b1[_0x4c1274(0x1db)](_0x25d30e);}}function reRenderBlocks(){const _0xa997f9=a3_0x555075;document[_0xa997f9(0x20d)](_0xa997f9(0x251))[_0xa997f9(0x220)](_0x1e4a1d=>{const _0x106daa=_0xa997f9;_0x1e4a1d[_0x106daa(0x20d)](_0x106daa(0x1a1))[_0x106daa(0x220)](_0x4a47dd=>_0x4a47dd[_0x106daa(0x250)]());const _0x174edc=_0x1e4a1d[_0x106daa(0x190)](_0x106daa(0x1c1)),_0x3cc157=parseInt(_0x1e4a1d[_0x106daa(0x190)](_0x106daa(0x23c))),_0xc21cc0=Math['round'](_0x1e4a1d[_0x106daa(0x21c)]);(availabilityPattern[_0x3cc157]||[])[_0x106daa(0x220)](_0x334360=>{const _0x35c80d=_0x106daa,_0x1c6a45=document['createElement'](_0x35c80d(0x1b9));_0x1c6a45[_0x35c80d(0x20b)]=_0x35c80d(0x21f),_0x1c6a45[_0x35c80d(0x1f9)][_0x35c80d(0x213)]=_0x334360*GRID_H+'px',_0x1c6a45['style']['backgroundPosition']='-'+_0xc21cc0+'px\x20-'+_0x334360*GRID_H+'px',_0x1e4a1d[_0x35c80d(0x1db)](_0x1c6a45);});if(specialRanges[_0x106daa(0x247)]>0x0){const _0x4b7264=new Date(_0x174edc+'T00:00:00')[_0x106daa(0x246)](),_0x2ff6b8=new Date(_0x174edc+_0x106daa(0x25a))[_0x106daa(0x246)]();specialRanges['forEach'](_0xcaefcd=>{const _0x1d068b=_0x106daa,_0x1c13cc=new Date(_0xcaefcd[_0x1d068b(0x217)])['getTime'](),_0x405c0a=new Date(_0xcaefcd[_0x1d068b(0x1ac)])[_0x1d068b(0x246)](),_0x214345=Math[_0x1d068b(0x1c3)](_0x4b7264,_0x1c13cc),_0xa0e501=Math['min'](_0x2ff6b8,_0x405c0a);if(_0x214345<_0xa0e501){const _0x24bfc3=(_0x214345-_0x4b7264)/0x36ee80*GRID_H,_0x3379b3=(_0xa0e501-_0x214345)/0x36ee80*GRID_H,_0x52cafc=document[_0x1d068b(0x1a2)](_0x1d068b(0x1b9));_0x3379b3>=23.5*GRID_H?(_0x52cafc[_0x1d068b(0x20b)]=_0x1d068b(0x256),_0x52cafc['style'][_0x1d068b(0x225)]='-'+_0xc21cc0+_0x1d068b(0x25b)):(_0x52cafc[_0x1d068b(0x20b)]='blocked-range-part\x20stripe-bg',_0x52cafc['style'][_0x1d068b(0x213)]=_0x24bfc3+'px',_0x52cafc[_0x1d068b(0x1f9)]['height']=_0x3379b3+'px',_0x52cafc[_0x1d068b(0x1f9)][_0x1d068b(0x225)]='-'+_0xc21cc0+'px\x20-'+_0x24bfc3+'px'),_0x1e4a1d[_0x1d068b(0x1db)](_0x52cafc);}});}renderEventsForColumn(_0x1e4a1d,_0x174edc);});}function renderEventsForColumn(_0x4bfa6a,_0xee30e2){const _0x579635=a3_0x555075,_0x295f4a=sessions[_0x579635(0x1f6)](_0x5ba5ef=>_0x5ba5ef[_0x579635(0x208)]===_0xee30e2),_0x419a9d=_0x295f4a[_0x579635(0x263)](_0x4260cf=>{const _0x1be664=_0x579635,[_0x439685,_0x1c1d42]=_0x4260cf['start']['split'](':')[_0x1be664(0x263)](Number),[_0x52cc3e,_0xfda99d]=_0x4260cf[_0x1be664(0x1ac)][_0x1be664(0x1b3)](':')['map'](Number);return{'data':_0x4260cf,'start':_0x439685*0x3c+_0x1c1d42,'end':_0x52cc3e*0x3c+_0xfda99d,'colIndex':0x0};});_0x419a9d[_0x579635(0x196)]((_0x5c26d6,_0x12ea25)=>_0x5c26d6['start']-_0x12ea25[_0x579635(0x217)]||_0x12ea25[_0x579635(0x1ac)]-_0x12ea25[_0x579635(0x217)]-(_0x5c26d6[_0x579635(0x1ac)]-_0x5c26d6[_0x579635(0x217)]));const _0xe97d28=[];_0x419a9d['forEach'](_0x45e8ec=>{const _0x4ae804=_0x579635;let _0x2219dc=![];for(let _0x12b16b=0x0;_0x12b16b<_0xe97d28[_0x4ae804(0x247)];_0x12b16b++){const _0x75e055=_0xe97d28[_0x12b16b];if(_0x45e8ec['start']>=_0x75e055[_0x75e055[_0x4ae804(0x247)]-0x1][_0x4ae804(0x1ac)]){_0x75e055['push'](_0x45e8ec),_0x45e8ec[_0x4ae804(0x274)]=_0x12b16b,_0x2219dc=!![];break;}}!_0x2219dc&&(_0xe97d28[_0x4ae804(0x281)]([_0x45e8ec]),_0x45e8ec[_0x4ae804(0x274)]=_0xe97d28[_0x4ae804(0x247)]-0x1);}),_0x419a9d['forEach'](_0x6fed8d=>{const _0x2abf30=_0x579635;let _0x5935c5=0x0;_0x419a9d[_0x2abf30(0x220)](_0x199551=>{const _0x2d2a94=_0x2abf30;if(Math[_0x2d2a94(0x1c3)](_0x6fed8d['start'],_0x199551[_0x2d2a94(0x217)])<Math['min'](_0x6fed8d[_0x2d2a94(0x1ac)],_0x199551[_0x2d2a94(0x1ac)])&&_0x199551['colIndex']>_0x5935c5)_0x5935c5=_0x199551[_0x2d2a94(0x274)];});const _0x469405=_0x5935c5+0x1,_0xc1490d=0x64/_0x469405,_0x264a1c=_0x6fed8d[_0x2abf30(0x274)]*_0xc1490d,_0x3c72b3=document[_0x2abf30(0x1a2)](_0x2abf30(0x1b9)),_0x1ea4b9=_0x6fed8d[_0x2abf30(0x262)];let _0x41e98d='#0a84ff';if(clients&&clients[_0x2abf30(0x247)]>0x0){const _0x110723=clients[_0x2abf30(0x1cb)](_0x3f1eeb=>String(_0x3f1eeb['id'])===String(_0x1ea4b9[_0x2abf30(0x1fe)]));if(_0x110723&&_0x110723['color'])_0x41e98d=_0x110723[_0x2abf30(0x214)];}const _0x26cb02=_0x1ea4b9[_0x2abf30(0x192)]===_0x2abf30(0x1c7),_0x18193f=_0x26cb02?0x1:0.45;_0x3c72b3['className']=_0x2abf30(0x25f)+(_0x26cb02?_0x2abf30(0x1aa):''),_0x3c72b3['style']['backgroundColor']=hexToRgba(_0x41e98d,_0x18193f),_0x3c72b3[_0x2abf30(0x1f9)][_0x2abf30(0x202)]=_0x41e98d;const _0x5be3b5=_0x6fed8d[_0x2abf30(0x217)]/0x3c*GRID_H,_0x35e556=(_0x6fed8d[_0x2abf30(0x1ac)]-_0x6fed8d[_0x2abf30(0x217)])/0x3c*GRID_H;_0x3c72b3['style']['top']=_0x5be3b5+'px',_0x3c72b3[_0x2abf30(0x1f9)][_0x2abf30(0x1d2)]=Math[_0x2abf30(0x1c3)](_0x35e556,0x14)+'px',_0x3c72b3[_0x2abf30(0x1f9)][_0x2abf30(0x238)]=_0x2abf30(0x1e2)+_0xc1490d+_0x2abf30(0x267),_0x3c72b3['style'][_0x2abf30(0x22d)]='calc('+_0x264a1c+_0x2abf30(0x24c),_0x3c72b3['style']['zIndex']=0xa+_0x6fed8d[_0x2abf30(0x274)];if(_0xc1490d<0x55)_0x3c72b3[_0x2abf30(0x266)][_0x2abf30(0x236)](_0x2abf30(0x249));let _0x4dfa35='';if(_0x1ea4b9[_0x2abf30(0x1ae)])_0x4dfa35+=_0x2abf30(0x22f);if(_0x26cb02)_0x4dfa35+=_0x2abf30(0x21a);_0x3c72b3[_0x2abf30(0x24f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1ea4b9[_0x2abf30(0x217)]+_0x2abf30(0x1b5)+_0x1ea4b9[_0x2abf30(0x1ac)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dfa35+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3c72b3[_0x2abf30(0x1ba)]=_0x13f0e9=>{const _0x5ce771=_0x2abf30;_0x13f0e9[_0x5ce771(0x227)](),openDetails(_0x1ea4b9);},_0x4bfa6a[_0x2abf30(0x1db)](_0x3c72b3);});}function openAnalytics(){const _0x945a0b=a3_0x555075,_0x3a3e7e=document[_0x945a0b(0x242)](_0x945a0b(0x22c));setAnalyticsPeriod(_0x945a0b(0x1a6),_0x3a3e7e),openSheet(_0x945a0b(0x1e0));}function setAnalyticsPeriod(_0x16e23d,_0x44ecb9){const _0x4fbb8c=a3_0x555075;currentAnPeriod=_0x16e23d,document[_0x4fbb8c(0x20d)](_0x4fbb8c(0x22c))[_0x4fbb8c(0x220)](_0x46cce7=>_0x46cce7[_0x4fbb8c(0x266)][_0x4fbb8c(0x250)](_0x4fbb8c(0x26f)));if(_0x44ecb9)_0x44ecb9[_0x4fbb8c(0x266)][_0x4fbb8c(0x236)](_0x4fbb8c(0x26f));const _0x1b15ab=document['getElementById']('anCustomDates');_0x1b15ab['style'][_0x4fbb8c(0x1de)]=_0x16e23d===_0x4fbb8c(0x199)?_0x4fbb8c(0x212):_0x4fbb8c(0x1ee);const _0x579535=new Date();let _0x5e2f45=new Date(),_0x379166=new Date();if(_0x16e23d===_0x4fbb8c(0x1a6))_0x5e2f45=getStartOfWeek(_0x579535),_0x379166=new Date(_0x5e2f45),_0x379166[_0x4fbb8c(0x209)](_0x379166['getDate']()+0x6);else{if(_0x16e23d===_0x4fbb8c(0x1bd))_0x5e2f45=new Date(_0x579535[_0x4fbb8c(0x269)](),_0x579535[_0x4fbb8c(0x1d8)](),0x1),_0x379166=new Date(_0x579535['getFullYear'](),_0x579535[_0x4fbb8c(0x1d8)]()+0x1,0x0);else{!document[_0x4fbb8c(0x1f0)](_0x4fbb8c(0x1ab))['value']&&(document[_0x4fbb8c(0x1f0)](_0x4fbb8c(0x1ab))[_0x4fbb8c(0x218)]=getLocalDateStr(_0x579535),document[_0x4fbb8c(0x1f0)](_0x4fbb8c(0x26b))[_0x4fbb8c(0x218)]=getLocalDateStr(_0x579535));refreshAnalytics();return;}}document[_0x4fbb8c(0x1f0)](_0x4fbb8c(0x1ab))[_0x4fbb8c(0x218)]=getLocalDateStr(_0x5e2f45),document[_0x4fbb8c(0x1f0)](_0x4fbb8c(0x26b))[_0x4fbb8c(0x218)]=getLocalDateStr(_0x379166),refreshAnalytics();}function refreshAnalytics(){const _0x5b04c7=a3_0x555075,_0x3ebc81=document[_0x5b04c7(0x1f0)](_0x5b04c7(0x1ab))['value'],_0x16d156=document['getElementById'](_0x5b04c7(0x26b))[_0x5b04c7(0x218)];if(!_0x3ebc81||!_0x16d156)return;const _0x340767=sessions['filter'](_0x510219=>_0x510219[_0x5b04c7(0x208)]>=_0x3ebc81&&_0x510219['dateStr']<=_0x16d156&&_0x510219[_0x5b04c7(0x192)]!==_0x5b04c7(0x19f)),_0x475b8a=_0x340767[_0x5b04c7(0x247)],_0x418e36=_0x340767[_0x5b04c7(0x1f6)](_0xfabf81=>_0xfabf81['status']===_0x5b04c7(0x1c7))[_0x5b04c7(0x247)],_0x5e5979=_0x475b8a>0x0?Math[_0x5b04c7(0x1f7)](_0x418e36/_0x475b8a*0x64):0x0;document['getElementById']('anPercent')['textContent']=_0x5e5979+'%',document[_0x5b04c7(0x1f0)](_0x5b04c7(0x20a))[_0x5b04c7(0x271)]=_0x418e36+'\x20–∏–∑\x20'+_0x475b8a+_0x5b04c7(0x1fa);const _0x32b262=document[_0x5b04c7(0x1f0)]('anDonutCircle'),_0x300111=0x2*Math['PI']*0x23,_0x5ab3de=_0x300111-_0x5e5979/0x64*_0x300111;_0x32b262[_0x5b04c7(0x1f9)][_0x5b04c7(0x203)]=_0x5ab3de;const _0x140387={};_0x340767[_0x5b04c7(0x220)](_0x277bc2=>{const _0x45442e=_0x5b04c7,_0x40b095=_0x277bc2['coachId']||'Unknown';if(!_0x140387[_0x40b095]){const _0x196968='#'+_0x40b095[_0x45442e(0x230)]()[_0x45442e(0x22e)](0x0,0x6);_0x140387[_0x40b095]={'total':0x0,'done':0x0,'color':_0x196968};}_0x140387[_0x40b095][_0x45442e(0x1da)]++;if(_0x277bc2[_0x45442e(0x192)]===_0x45442e(0x1c7))_0x140387[_0x40b095][_0x45442e(0x1d3)]++;});const _0x20edb5=document['getElementById'](_0x5b04c7(0x1ce));_0x20edb5[_0x5b04c7(0x24f)]='';const _0x3783dc=Object[_0x5b04c7(0x1f3)](_0x140387)['sort']((_0x530875,_0x5e9c7a)=>_0x5e9c7a[0x1][_0x5b04c7(0x1da)]-_0x530875[0x1][_0x5b04c7(0x1da)]);if(_0x3783dc[_0x5b04c7(0x247)]===0x0){_0x20edb5[_0x5b04c7(0x24f)]=_0x5b04c7(0x1d1);return;}_0x3783dc[_0x5b04c7(0x220)](([_0x3d23a3,_0x3f58dc])=>{const _0x26c9b0=_0x5b04c7,_0x5752a3=Math[_0x26c9b0(0x1f7)](_0x3f58dc[_0x26c9b0(0x1d3)]/_0x3f58dc[_0x26c9b0(0x1da)]*0x64),_0x6c77a4=document[_0x26c9b0(0x1a2)](_0x26c9b0(0x1b9));_0x6c77a4[_0x26c9b0(0x20b)]='client-stat-card',_0x6c77a4[_0x26c9b0(0x1f9)]['borderLeftColor']=_0x3f58dc[_0x26c9b0(0x214)],_0x6c77a4[_0x26c9b0(0x24f)]=_0x26c9b0(0x1d9)+_0x3d23a3[_0x26c9b0(0x22e)](0x0,0x5)+_0x26c9b0(0x210)+_0x3f58dc[_0x26c9b0(0x1d3)]+'</span>\x20/\x20'+_0x3f58dc[_0x26c9b0(0x1da)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x5752a3+_0x26c9b0(0x1e6),_0x20edb5[_0x26c9b0(0x1db)](_0x6c77a4);});}function openDetails(_0x135f2b){const _0x1526c4=a3_0x555075;currentSession=_0x135f2b;const _0x6137c9=new Date(_0x135f2b['dateStr']),_0x3ea63b=_0x6137c9[_0x1526c4(0x1e7)](_0x1526c4(0x1e3),{'weekday':_0x1526c4(0x234),'day':_0x1526c4(0x260),'month':_0x1526c4(0x234)});document['getElementById']('detDate')['textContent']=_0x3ea63b['charAt'](0x0)['toUpperCase']()+_0x3ea63b[_0x1526c4(0x1bb)](0x1),document[_0x1526c4(0x1f0)](_0x1526c4(0x1ca))['textContent']=_0x135f2b['start']+_0x1526c4(0x1b5)+_0x135f2b['end'],document[_0x1526c4(0x1f0)](_0x1526c4(0x20c))[_0x1526c4(0x271)]=_0x135f2b[_0x1526c4(0x215)]||_0x1526c4(0x1ed);const _0x441c48=document[_0x1526c4(0x1f0)]('detStatus'),_0x9c1da9=document[_0x1526c4(0x1f0)](_0x1526c4(0x197)),_0x490d71=_0x9c1da9[_0x1526c4(0x242)](_0x1526c4(0x1eb)),_0x3b9a8c=_0x9c1da9[_0x1526c4(0x242)](_0x1526c4(0x1b2)),_0x1a6af5=document[_0x1526c4(0x1f0)]('cancelHint');if(_0x135f2b[_0x1526c4(0x192)]===_0x1526c4(0x1c7))_0x441c48[_0x1526c4(0x271)]=_0x1526c4(0x20f),_0x441c48['style']['color']=_0x1526c4(0x23b),_0x9c1da9[_0x1526c4(0x1f9)][_0x1526c4(0x1de)]=_0x1526c4(0x1ee);else{_0x441c48[_0x1526c4(0x271)]=_0x1526c4(0x21b),_0x441c48[_0x1526c4(0x1f9)][_0x1526c4(0x214)]='var(--acc-blue)',_0x9c1da9['style']['display']=_0x1526c4(0x1c4);const _0x4525e2=new Date(_0x135f2b[_0x1526c4(0x208)]+'T'+_0x135f2b['start']),_0x22e57a=new Date(),_0x3adff9=(_0x4525e2-_0x22e57a)/(0x3e8*0x3c*0x3c),_0x2ec363=coachProfiles[_0x135f2b[_0x1526c4(0x1d5)]]&&coachProfiles[_0x135f2b[_0x1526c4(0x1d5)]][_0x1526c4(0x272)]?parseInt(coachProfiles[_0x135f2b[_0x1526c4(0x1d5)]][_0x1526c4(0x272)]):0x18;if(_0x2ec363===0x0||_0x3adff9>=_0x2ec363)_0x490d71['style'][_0x1526c4(0x1de)]=_0x1526c4(0x1c4),_0x3b9a8c[_0x1526c4(0x1f9)]['display']=_0x1526c4(0x1c4),_0x1a6af5[_0x1526c4(0x1f9)][_0x1526c4(0x1de)]=_0x1526c4(0x1ee);else{_0x490d71[_0x1526c4(0x1f9)][_0x1526c4(0x1de)]=_0x1526c4(0x1ee),_0x3b9a8c[_0x1526c4(0x1f9)]['display']=_0x1526c4(0x1ee),_0x1a6af5[_0x1526c4(0x1f9)][_0x1526c4(0x1de)]=_0x1526c4(0x1c4);let _0x3a520b=_0x2ec363===0x0?_0x1526c4(0x1a8):_0x1526c4(0x23e)+_0x2ec363+_0x1526c4(0x18b);_0x1a6af5[_0x1526c4(0x271)]=_0x1526c4(0x1cd)+_0x3a520b+_0x1526c4(0x1a9);}}document[_0x1526c4(0x1f0)]('overlay')['classList'][_0x1526c4(0x236)](_0x1526c4(0x26f)),document[_0x1526c4(0x1f0)]('detailsSheet')['classList']['add'](_0x1526c4(0x195));}function closeAllSheets(){const _0x2a0f22=a3_0x555075;document['getElementById'](_0x2a0f22(0x273))[_0x2a0f22(0x266)]['remove']('active'),document[_0x2a0f22(0x20d)](_0x2a0f22(0x233))['forEach'](_0x58f2fc=>_0x58f2fc['classList'][_0x2a0f22(0x250)](_0x2a0f22(0x195)));}function openSheet(_0x58abd8){const _0x4fc7ff=a3_0x555075;document['getElementById']('overlay')[_0x4fc7ff(0x266)][_0x4fc7ff(0x236)]('active'),document['getElementById'](_0x58abd8)[_0x4fc7ff(0x266)][_0x4fc7ff(0x236)](_0x4fc7ff(0x195));}function getLocalDateStr(_0x48a752){const _0x3870d8=a3_0x555075,_0x329706=_0x48a752[_0x3870d8(0x269)](),_0x14ea01=String(_0x48a752[_0x3870d8(0x1d8)]()+0x1)[_0x3870d8(0x1d6)](0x2,'0'),_0x57041b=String(_0x48a752[_0x3870d8(0x26c)]())[_0x3870d8(0x1d6)](0x2,'0');return _0x329706+'-'+_0x14ea01+'-'+_0x57041b;}function getStartOfWeek(_0x61ac45){const _0x25a3f4=a3_0x555075,_0x18d0be=new Date(_0x61ac45),_0x35a2ed=_0x18d0be['getDay'](),_0x1659a2=_0x18d0be[_0x25a3f4(0x26c)]()-_0x35a2ed+(_0x35a2ed===0x0?-0x6:0x1);return _0x18d0be[_0x25a3f4(0x209)](_0x1659a2),_0x18d0be[_0x25a3f4(0x258)](0x0,0x0,0x0,0x0),_0x18d0be;}function scrollToToday(){const _0xe52542=getLocalDateStr(new Date());setTimeout(()=>{const _0x4d350d=a3_0xfb3b,_0x46f09e=document['querySelector'](_0x4d350d(0x240)+_0xe52542+'\x22]');if(_0x46f09e){const _0xacc1f4=document[_0x4d350d(0x1f0)](_0x4d350d(0x1c0)),_0x4541d4=_0x46f09e['offsetLeft']-_0xacc1f4[_0x4d350d(0x27a)]/0x2+_0x46f09e[_0x4d350d(0x286)]/0x2;_0xacc1f4[_0x4d350d(0x1bc)]({'left':_0x4541d4,'behavior':_0x4d350d(0x1af)}),_0xacc1f4[_0x4d350d(0x1be)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x193be6=a3_0x555075,_0x385c9b=new Date(),_0x18138b=document['getElementById'](_0x193be6(0x1e4)),_0x21f003=document[_0x193be6(0x1f0)](_0x193be6(0x228)),_0x5ecb95=(_0x385c9b[_0x193be6(0x193)]()*0x3c+_0x385c9b[_0x193be6(0x1f5)]())/0x3c*GRID_H;_0x18138b[_0x193be6(0x1f9)]['top']=_0x5ecb95+'px',_0x18138b['style']['display']=_0x193be6(0x1c4),_0x21f003[_0x193be6(0x1f9)][_0x193be6(0x213)]=_0x5ecb95+'px',_0x21f003[_0x193be6(0x1f9)][_0x193be6(0x1de)]=_0x193be6(0x1c4),_0x21f003['textContent']=String(_0x385c9b[_0x193be6(0x193)]())[_0x193be6(0x1d6)](0x2,'0')+':'+String(_0x385c9b[_0x193be6(0x1f5)]())[_0x193be6(0x1d6)](0x2,'0');}function onScroll(){const _0x1e5046=a3_0x555075,_0x795c39=document[_0x1e5046(0x1f0)](_0x1e5046(0x1c0)),_0x3ea604=document[_0x1e5046(0x20d)](_0x1e5046(0x206));for(let _0x3d7103 of _0x3ea604)if(_0x3d7103[_0x1e5046(0x21c)]>=_0x795c39['scrollLeft']){const _0x24d279=new Date(_0x3d7103[_0x1e5046(0x190)]('data-date'));document['getElementById'](_0x1e5046(0x1ea))['textContent']=_0x24d279[_0x1e5046(0x1a3)]('ru',{'month':_0x1e5046(0x234)})[_0x1e5046(0x198)]()+'\x20'+_0x24d279[_0x1e5046(0x269)]();break;}}function showToast(_0x141486){const _0x2c6a86=a3_0x555075,_0x160093=document['getElementById']('toast');_0x160093[_0x2c6a86(0x271)]=_0x141486,_0x160093[_0x2c6a86(0x266)][_0x2c6a86(0x236)](_0x2c6a86(0x1cf)),setTimeout(()=>_0x160093[_0x2c6a86(0x266)][_0x2c6a86(0x250)](_0x2c6a86(0x1cf)),0x7d0);}function handleInfiniteScroll(){const _0x4b925d=a3_0x555075,_0x3517bf=document[_0x4b925d(0x1f0)](_0x4b925d(0x1c0)),_0x75ff0=_0x3517bf[_0x4b925d(0x1b8)],_0x35745b=_0x3517bf[_0x4b925d(0x245)],_0x2421bf=_0x3517bf['clientWidth'];if(_0x35745b-(_0x75ff0+_0x2421bf)<0x12c){const _0x395c5b=endOffset;endOffset+=0xe,renderDayRange(_0x395c5b+0x1,endOffset),reRenderBlocks();}if(_0x75ff0<0x12c){const _0x281d95=startOffset;startOffset-=0xe,prependDays(startOffset,_0x281d95-0x1),_0x3517bf[_0x4b925d(0x1b8)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3a59de,_0x5f434c){const _0x351d16=a3_0x555075,_0x300ba0=document[_0x351d16(0x1f0)]('daysHeaderTrack'),_0x105635=document[_0x351d16(0x1f0)]('gridColumns'),_0x3b21fe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x62a5f3=new Date();_0x62a5f3[_0x351d16(0x258)](0x0,0x0,0x0,0x0);const _0x427722=getLocalDateStr(new Date()),_0x329e38=document['createDocumentFragment'](),_0x198842=document[_0x351d16(0x276)]();for(let _0x24a5fb=_0x3a59de;_0x24a5fb<=_0x5f434c;_0x24a5fb++){const _0x550404=new Date(_0x62a5f3);_0x550404[_0x351d16(0x209)](_0x550404[_0x351d16(0x26c)]()+_0x24a5fb);const _0x2d3133=getLocalDateStr(_0x550404);let _0x4d36b4=_0x550404[_0x351d16(0x1d4)]()-0x1;if(_0x4d36b4===-0x1)_0x4d36b4=0x6;const _0x10471a=_0x2d3133===_0x427722,_0x524b03=document[_0x351d16(0x1a2)](_0x351d16(0x1b9));_0x524b03[_0x351d16(0x20b)]='day-col-header\x20'+(_0x10471a?'today':''),_0x524b03[_0x351d16(0x270)]('data-date',_0x2d3133),_0x524b03[_0x351d16(0x24f)]=_0x351d16(0x221)+_0x3b21fe[_0x4d36b4]+_0x351d16(0x204)+_0x550404[_0x351d16(0x26c)]()+_0x351d16(0x216),_0x329e38[_0x351d16(0x1db)](_0x524b03);const _0x1ff5c6=document[_0x351d16(0x1a2)](_0x351d16(0x1b9));_0x1ff5c6[_0x351d16(0x20b)]=_0x351d16(0x1ef)+(_0x10471a?_0x351d16(0x1f4):''),_0x1ff5c6[_0x351d16(0x270)](_0x351d16(0x1c1),_0x2d3133),_0x1ff5c6[_0x351d16(0x270)](_0x351d16(0x23c),_0x4d36b4),_0x198842['appendChild'](_0x1ff5c6);}_0x300ba0[_0x351d16(0x1a0)](_0x329e38,_0x300ba0[_0x351d16(0x23d)]),_0x105635[_0x351d16(0x1a0)](_0x198842,_0x105635[_0x351d16(0x242)]('.day-column'));}function hexToRgba(_0x5ef7b6,_0x5df9c0){const _0x35af37=a3_0x555075;let _0x5a0fea;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x35af37(0x257)](_0x5ef7b6))return _0x5a0fea=_0x5ef7b6[_0x35af37(0x1b0)](0x1)['split'](''),_0x5a0fea[_0x35af37(0x247)]==0x3&&(_0x5a0fea=[_0x5a0fea[0x0],_0x5a0fea[0x0],_0x5a0fea[0x1],_0x5a0fea[0x1],_0x5a0fea[0x2],_0x5a0fea[0x2]]),_0x5a0fea='0x'+_0x5a0fea[_0x35af37(0x25e)](''),'rgba('+[_0x5a0fea>>0x10&0xff,_0x5a0fea>>0x8&0xff,_0x5a0fea&0xff][_0x35af37(0x25e)](',')+','+_0x5df9c0+')';return'rgba(10,\x20132,\x20255,\x20'+_0x5df9c0+')';}function a3_0x2fb3(){const _0x21bdab=['find','ccText','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','analyticsList','show','parse','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','height','done','getDay','coachId','padStart','<div\x20class=\x22rs-day-name\x22>','getMonth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','total','appendChild','ccTitle','cid','display','setHeaderColor','analyticsSheet','rs-time-btn','calc(','ru-RU','globalTimeLine','–û—Ç–º–µ–Ω–µ–Ω–æ','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','uc_client_list','ccYesBtn','headerMonth','.btn-cancel','.rs-date-chip','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','none','day-column\x20','getElementById','1055608uKGfea','search','entries','today','getMinutes','filter','round','sid','style','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Error\x20setting\x20back\x20button:','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','keys','clientId','disableVerticalSwipes','Error\x20setting\x20color:','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','borderLeftColor','strokeDashoffset','</div><div\x20class=\x22dch-num\x22>','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.day-col-header','expand','dateStr','setDate','anTotalStats','className','detNote','querySelectorAll','v9.5-CLIENT-ANALYTICS','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','uc_client_sessions','flex','top','color','note','</div>','start','value','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','offsetLeft','#050505','settings','blocked-slot\x20stripe-bg','forEach','<div\x20class=\x22dch-day\x22>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','location','applyData','backgroundPosition','isArray','stopPropagation','timeLineBadge','#ff453a','<span>','scroll','.period-switch\x20.p-btn','left','substr','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','toString','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','rsSlotsGrid','.sheet','long','all','add','setMonth','width','constructor','daysHeaderTrack','var(--acc-green)','data-day-idx','firstChild','–∑–∞\x20','apply','.day-col-header[data-date=\x22','client_cancel','querySelector','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','error','scrollWidth','getTime','length','coach_profiles','mini','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','POST','%\x20+\x202px)','findIndex','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','innerHTML','remove','.day-column','gridColumns','initData','then','json','day-off-overlay\x20stripe-bg','test','setHours','time-label','T23:59:59','px\x200px','ready','</div><div\x20class=\x22rs-day-num\x22>','join','event-card','numeric','900oKhDoH','data','map','router.html','(((.+)+)+)+$','classList','%\x20-\x204px)','now','getFullYear','client_load','anEnd','getDate','exceptions','fontWeight','active','setAttribute','textContent','cancel_window','overlay','colIndex','Telegram','createDocumentFragment','10674460QGlwKp','setBackgroundColor','startsWith','clientWidth','14kOmLQb','planned','initDataUnsafe','customConfirm','get_slots','calendar','push','rescheduleSheet','7655WCytvd','visible','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','offsetWidth','onClick','pattern','BackButton','\x20—á.','log','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','addEventListener','getAttribute','saveLocally','status','getHours','rsDatesTrack','open','sort','cancelContainer','toUpperCase','custom','floor','ranges','WebApp','975304XkZNsO','155912EwecJF','cancelled','insertBefore','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','createElement','toLocaleString','button','5643810OxCprf','week','offClick','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','\x20status-completed','anStart','end',':00</span>','seriesId','auto','substring','Critical\x20TMA\x20Error:','.btn-reschedule','split','day-col-header\x20','\x20-\x20','\x20–≤\x20','timeColumn','scrollLeft','div','onclick','slice','scrollTo','month','scrollTop','loadLocal','matrixViewport','data-date','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','max','block','stringify','600','completed','727644HeSfdp','12ttDoAL','detTime'];a3_0x2fb3=function(){return _0x21bdab;};return a3_0x2fb3();}let confirmResolver=null;function showCustomConfirm(_0x3cd07d,_0x4d297a,_0x5b30f7=!![]){const _0x7348a0=a3_0x555075;document[_0x7348a0(0x1f0)](_0x7348a0(0x1dc))['textContent']=_0x3cd07d,document[_0x7348a0(0x1f0)](_0x7348a0(0x1cc))[_0x7348a0(0x271)]=_0x4d297a;const _0x582033=document[_0x7348a0(0x1f0)](_0x7348a0(0x1e9));return _0x5b30f7?(_0x582033['style'][_0x7348a0(0x214)]=_0x7348a0(0x229),_0x582033[_0x7348a0(0x1f9)][_0x7348a0(0x26e)]=_0x7348a0(0x1c6)):(_0x582033[_0x7348a0(0x1f9)][_0x7348a0(0x214)]='#0a84ff',_0x582033[_0x7348a0(0x1f9)]['fontWeight']=_0x7348a0(0x1c6)),new Promise(_0x158d8e=>{const _0x13bb5f=_0x7348a0;confirmResolver=_0x158d8e,document[_0x13bb5f(0x1f0)]('customConfirm')['classList'][_0x13bb5f(0x236)](_0x13bb5f(0x284));});}function resolveCustomConfirm(_0x3faf3e){const _0x25be1a=a3_0x555075;document[_0x25be1a(0x1f0)](_0x25be1a(0x27e))[_0x25be1a(0x266)]['remove'](_0x25be1a(0x284));if(confirmResolver)confirmResolver(_0x3faf3e);}async function tryCancelCurrentSession(){const _0x2e61fb=a3_0x555075;if(!currentSession)return;const _0x5db961=await showCustomConfirm(_0x2e61fb(0x201),_0x2e61fb(0x1c2),!![]);if(!_0x5db961)return;const _0x56fe7b=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x3c570a=>_0x3c570a['id']!==_0x56fe7b['id']),reRenderBlocks(),showToast(_0x2e61fb(0x1e5)),lastUserActionTime=Date[_0x2e61fb(0x268)]();try{const _0x2cc9da=window[_0x2e61fb(0x275)]?.[_0x2e61fb(0x19c)],_0x3ee5d6=await fetch(API_URL,{'method':'POST','body':JSON[_0x2e61fb(0x1c5)]({'action':_0x2e61fb(0x241),'init_data':_0x2cc9da?.[_0x2e61fb(0x253)]||'','coachId':_0x56fe7b['coachId'],'dateStr':_0x56fe7b[_0x2e61fb(0x208)],'sessionId':_0x56fe7b['id']})});if(_0x3ee5d6['ok'])DataManager[_0x2e61fb(0x191)]();}catch(_0x3b06b8){showToast(_0x2e61fb(0x231));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2cc59c=a3_0x555075;if(!currentSession)return;document[_0x2cc59c(0x1f0)]('detailsSheet')['classList'][_0x2cc59c(0x250)]('open'),document[_0x2cc59c(0x1f0)](_0x2cc59c(0x282))[_0x2cc59c(0x266)]['add'](_0x2cc59c(0x195));const _0x456af9=document['getElementById'](_0x2cc59c(0x194)),_0x4b24e5=document[_0x2cc59c(0x1f0)](_0x2cc59c(0x232));_0x456af9[_0x2cc59c(0x24f)]='',_0x4b24e5[_0x2cc59c(0x24f)]=_0x2cc59c(0x222);const [_0x1a34fa,_0x557345]=currentSession[_0x2cc59c(0x217)][_0x2cc59c(0x1b3)](':')[_0x2cc59c(0x263)](Number),[_0x1df812,_0x587113]=currentSession['end'][_0x2cc59c(0x1b3)](':')[_0x2cc59c(0x263)](Number),_0x38600e=_0x1df812*0x3c+_0x587113-(_0x1a34fa*0x3c+_0x557345);try{const _0x149ec9=window[_0x2cc59c(0x275)]?.[_0x2cc59c(0x19c)],_0x39ad75=await fetch(API_URL,{'method':_0x2cc59c(0x24b),'body':JSON[_0x2cc59c(0x1c5)]({'action':_0x2cc59c(0x27f),'coachId':currentSession['coachId'],'duration':_0x38600e,'init_data':_0x149ec9?.[_0x2cc59c(0x253)]||'','excludeSessionId':currentSession['id']})}),_0x1be795=await _0x39ad75['json']();_0x1be795['ok']&&_0x1be795[_0x2cc59c(0x262)]?(availableSlotsCache=_0x1be795[_0x2cc59c(0x262)],renderRescheduleDates()):_0x4b24e5[_0x2cc59c(0x24f)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x49b3d5){_0x4b24e5[_0x2cc59c(0x24f)]=_0x2cc59c(0x24e);}}function renderRescheduleDates(){const _0x12fff6=a3_0x555075,_0x1df2da=document[_0x12fff6(0x1f0)](_0x12fff6(0x194));_0x1df2da[_0x12fff6(0x24f)]='';const _0x38d8eb=Object[_0x12fff6(0x1fd)](availableSlotsCache)[_0x12fff6(0x196)](),_0x246ca0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x38d8eb[_0x12fff6(0x247)]===0x0){document[_0x12fff6(0x1f0)](_0x12fff6(0x232))['innerHTML']=_0x12fff6(0x1fc);return;}_0x38d8eb[_0x12fff6(0x220)]((_0x37eec5,_0x3fa559)=>{const _0xeb8ed6=_0x12fff6,_0x23c705=new Date(_0x37eec5),_0x14e245=_0x246ca0[_0x23c705[_0xeb8ed6(0x1d4)]()],_0x2d8826=_0x23c705[_0xeb8ed6(0x26c)](),_0x1bf344=document[_0xeb8ed6(0x1a2)](_0xeb8ed6(0x1b9));_0x1bf344[_0xeb8ed6(0x20b)]='rs-date-chip';if(_0x3fa559===0x0)_0x1bf344[_0xeb8ed6(0x266)][_0xeb8ed6(0x236)](_0xeb8ed6(0x26f));_0x1bf344[_0xeb8ed6(0x24f)]=_0xeb8ed6(0x1d7)+_0x14e245+_0xeb8ed6(0x25d)+_0x2d8826+_0xeb8ed6(0x216),_0x1bf344['onclick']=()=>selectRsDate(_0x37eec5,_0x1bf344),_0x1df2da['appendChild'](_0x1bf344);}),selectRsDate(_0x38d8eb[0x0],_0x1df2da['firstChild']);}function a3_0xfb3b(_0x27f8f3,_0x3ed8fd){_0x27f8f3=_0x27f8f3-0x18b;const _0x39da4b=a3_0x2fb3();let _0xebfa4e=_0x39da4b[_0x27f8f3];return _0xebfa4e;}function selectRsDate(_0x374470,_0x33ae33){const _0x26d0c9=a3_0x555075;selectedRsDate=_0x374470,document[_0x26d0c9(0x20d)](_0x26d0c9(0x1ec))[_0x26d0c9(0x220)](_0x13b686=>_0x13b686['classList'][_0x26d0c9(0x250)](_0x26d0c9(0x26f)));if(_0x33ae33)_0x33ae33['classList']['add'](_0x26d0c9(0x26f));const _0x593fb2=document[_0x26d0c9(0x1f0)](_0x26d0c9(0x232));_0x593fb2[_0x26d0c9(0x24f)]='';const _0x12c0c3=availableSlotsCache[_0x374470]||[];if(_0x12c0c3[_0x26d0c9(0x247)]===0x0){_0x593fb2[_0x26d0c9(0x24f)]=_0x26d0c9(0x243);return;}_0x12c0c3['forEach'](_0x1f8973=>{const _0x247d0f=_0x26d0c9,_0x14bc06=document[_0x247d0f(0x1a2)](_0x247d0f(0x1a4));_0x14bc06[_0x247d0f(0x20b)]=_0x247d0f(0x1e1),_0x14bc06[_0x247d0f(0x271)]=_0x1f8973,_0x14bc06[_0x247d0f(0x1ba)]=()=>confirmReschedule(_0x1f8973),_0x593fb2[_0x247d0f(0x1db)](_0x14bc06);});}async function confirmReschedule(_0x1de96a){const _0x13eef9=a3_0x555075,_0x308031=new Date(selectedRsDate),_0x1e406f=_0x308031[_0x13eef9(0x1e7)](_0x13eef9(0x1e3),{'day':_0x13eef9(0x260),'month':_0x13eef9(0x234)}),_0x3af13f=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x13eef9(0x205)+_0x1e406f+_0x13eef9(0x1b6)+_0x1de96a+'?',![]);if(!_0x3af13f)return;closeAllSheets(),showToast(_0x13eef9(0x285)),lastUserActionTime=Date['now']();const _0x169675=currentSession[_0x13eef9(0x208)],_0x390bb8=currentSession['id'],[_0x2b1fb1,_0x3705ca]=currentSession[_0x13eef9(0x217)][_0x13eef9(0x1b3)](':')['map'](Number),[_0x49f171,_0x4e2f5b]=currentSession[_0x13eef9(0x1ac)]['split'](':')[_0x13eef9(0x263)](Number),_0x209a1d=_0x49f171*0x3c+_0x4e2f5b-(_0x2b1fb1*0x3c+_0x3705ca),[_0x10892c,_0x53f917]=_0x1de96a[_0x13eef9(0x1b3)](':')[_0x13eef9(0x263)](Number),_0xfdbdcd=_0x10892c*0x3c+_0x53f917+_0x209a1d,_0x56f217=Math[_0x13eef9(0x19a)](_0xfdbdcd/0x3c),_0x261920=_0xfdbdcd%0x3c,_0x53d45d=String(_0x56f217)[_0x13eef9(0x1d6)](0x2,'0')+':'+String(_0x261920)[_0x13eef9(0x1d6)](0x2,'0'),_0x5a7329=sessions[_0x13eef9(0x24d)](_0x262563=>_0x262563['id']===_0x390bb8);_0x5a7329!==-0x1&&(sessions[_0x5a7329]['dateStr']=selectedRsDate,sessions[_0x5a7329][_0x13eef9(0x217)]=_0x1de96a,sessions[_0x5a7329][_0x13eef9(0x1ac)]=_0x53d45d,reRenderBlocks());try{const _0x3fb803=window[_0x13eef9(0x275)]?.[_0x13eef9(0x19c)],_0x449885=await fetch(API_URL,{'method':_0x13eef9(0x24b),'body':JSON['stringify']({'action':'reschedule','init_data':_0x3fb803?.['initData']||'','oldSessionId':_0x390bb8,'oldDate':_0x169675,'newDate':selectedRsDate,'newTime':_0x1de96a,'coachId':currentSession['coachId']})}),_0x12798b=await _0x449885[_0x13eef9(0x255)]();!_0x12798b['ok']?(showToast(_0x13eef9(0x18d)),DataManager['syncLoad']()):(showToast(_0x13eef9(0x18e)),DataManager[_0x13eef9(0x191)]());}catch(_0x362ef8){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x555075(0x18f)]('DOMContentLoaded',init);