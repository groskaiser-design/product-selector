const a3_0x5a7474=a3_0x1d02;(function(_0x27bd2e,_0xa5f31e){const _0x3caa87=a3_0x1d02,_0x13430a=_0x27bd2e();while(!![]){try{const _0x1bf4df=-parseInt(_0x3caa87(0x1cc))/0x1*(-parseInt(_0x3caa87(0x1e9))/0x2)+parseInt(_0x3caa87(0x179))/0x3*(-parseInt(_0x3caa87(0x1a0))/0x4)+-parseInt(_0x3caa87(0x17a))/0x5*(-parseInt(_0x3caa87(0x1cd))/0x6)+-parseInt(_0x3caa87(0x1ac))/0x7*(parseInt(_0x3caa87(0x135))/0x8)+-parseInt(_0x3caa87(0x17c))/0x9*(-parseInt(_0x3caa87(0x1bd))/0xa)+-parseInt(_0x3caa87(0x1a7))/0xb+-parseInt(_0x3caa87(0x208))/0xc*(parseInt(_0x3caa87(0x203))/0xd);if(_0x1bf4df===_0xa5f31e)break;else _0x13430a['push'](_0x13430a['shift']());}catch(_0x16841b){_0x13430a['push'](_0x13430a['shift']());}}}(a3_0x180a,0x4e045));function a3_0x1d02(_0x554d76,_0x1b938c){_0x554d76=_0x554d76-0x126;const _0x3c3d5d=a3_0x180a();let _0x548f2a=_0x3c3d5d[_0x554d76];return _0x548f2a;}const APP_VERSION=a3_0x5a7474(0x1a2),API_URL=a3_0x5a7474(0x21b),GRID_H=0x3c,KEY_SESSIONS=a3_0x5a7474(0x176),KEY_SETTINGS=a3_0x5a7474(0x1fe),KEY_CLIENTS=a3_0x5a7474(0x213);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5a7474(0x1e4),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4475a2=a3_0x5a7474,_0x2d918e=(function(){let _0x23eb1a=!![];return function(_0x3ad8e6,_0x5c3bb5){const _0x5c6804=_0x23eb1a?function(){const _0x45d855=a3_0x1d02;if(_0x5c3bb5){const _0x106f14=_0x5c3bb5[_0x45d855(0x209)](_0x3ad8e6,arguments);return _0x5c3bb5=null,_0x106f14;}}:function(){};return _0x23eb1a=![],_0x5c6804;};}()),_0x5d378f=_0x2d918e(this,function(){const _0x81f4aa=a3_0x1d02;return _0x5d378f[_0x81f4aa(0x1ff)]()['search'](_0x81f4aa(0x1ba))[_0x81f4aa(0x1ff)]()['constructor'](_0x5d378f)[_0x81f4aa(0x192)](_0x81f4aa(0x1ba));});_0x5d378f();try{const _0x35d9c5=window[_0x4475a2(0x1b1)]?.[_0x4475a2(0x147)];if(!_0x35d9c5)return;_0x35d9c5[_0x4475a2(0x151)](),_0x35d9c5[_0x4475a2(0x17b)]();try{_0x35d9c5['setHeaderColor'](_0x4475a2(0x1fc)),_0x35d9c5['setBackgroundColor']&&_0x35d9c5[_0x4475a2(0x1af)](_0x4475a2(0x1fc));}catch(_0x2bad6a){console[_0x4475a2(0x1f0)](_0x4475a2(0x1be),_0x2bad6a);}try{_0x35d9c5[_0x4475a2(0x1b5)]&&(_0x35d9c5[_0x4475a2(0x1b5)]['show'](),_0x35d9c5['BackButton']['offClick'](),_0x35d9c5[_0x4475a2(0x1b5)][_0x4475a2(0x185)](function(){const _0x389eeb=_0x4475a2;window['location'][_0x389eeb(0x14f)]=_0x389eeb(0x207);}));}catch(_0xe0b843){console[_0x4475a2(0x1f0)]('Error\x20setting\x20back\x20button:',_0xe0b843);}try{if(_0x35d9c5[_0x4475a2(0x18b)])_0x35d9c5[_0x4475a2(0x18b)]();}catch(_0x2059cc){}}catch(_0x2f8d85){console['error'](_0x4475a2(0x1d7),_0x2f8d85);}}());function isAdmin(){const _0x5c86a9=a3_0x5a7474;try{const _0x2318ed=Number(window[_0x5c86a9(0x1b1)]?.[_0x5c86a9(0x147)]?.[_0x5c86a9(0x1c6)]?.[_0x5c86a9(0x1a8)]?.['id']);return _0x2318ed===0xbaf7174;}catch(_0x13ce2a){return![];}}const DataManager={'saveLocally'(){const _0x4e6b9b=a3_0x5a7474;try{localStorage[_0x4e6b9b(0x158)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4e6b9b(0x158)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x4e6b9b(0x158)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1fec84){}},'loadLocal'(){const _0x3ec4b1=a3_0x5a7474;try{const _0x1499cd=localStorage[_0x3ec4b1(0x201)](KEY_SESSIONS);if(_0x1499cd)sessions=JSON[_0x3ec4b1(0x1b4)](_0x1499cd);const _0x4d7a80=localStorage[_0x3ec4b1(0x201)](KEY_CLIENTS);if(_0x4d7a80)clients=JSON[_0x3ec4b1(0x1b4)](_0x4d7a80);const _0x32c8f9=localStorage[_0x3ec4b1(0x201)](KEY_SETTINGS);if(_0x32c8f9){const _0x14de04=JSON[_0x3ec4b1(0x1b4)](_0x32c8f9);if(_0x14de04[_0x3ec4b1(0x1d8)])availabilityPattern=_0x14de04[_0x3ec4b1(0x1d8)];if(_0x14de04['ranges'])specialRanges=_0x14de04[_0x3ec4b1(0x153)];if(_0x14de04[_0x3ec4b1(0x1c9)])dateExceptions=_0x14de04[_0x3ec4b1(0x1c9)];}}catch(_0x35042a){}},async 'syncLoad'(){const _0x54e3ce=a3_0x5a7474,_0x464e01=new Date(),_0x1330b0=_0x464e01[_0x54e3ce(0x145)]()+'-'+String(_0x464e01[_0x54e3ce(0x154)]()+0x1)[_0x54e3ce(0x1b8)](0x2,'0'),_0xeb739a=new Date(_0x464e01);_0xeb739a[_0x54e3ce(0x1bc)](_0x464e01[_0x54e3ce(0x154)]()+0x1);const _0x31686d=_0xeb739a[_0x54e3ce(0x145)]()+'-'+String(_0xeb739a['getMonth']()+0x1)[_0x54e3ce(0x1b8)](0x2,'0'),_0x3c35d6=Date[_0x54e3ce(0x184)]();try{const _0x6196cc=window[_0x54e3ce(0x1b1)]?.[_0x54e3ce(0x147)],_0x2f747c=_0x6196cc?.[_0x54e3ce(0x1d1)]||'',[_0x4aa462,_0x204ef9]=await Promise[_0x54e3ce(0x14e)]([fetch(API_URL,{'method':_0x54e3ce(0x126),'body':JSON[_0x54e3ce(0x159)]({'action':_0x54e3ce(0x19d),'init_data':_0x2f747c,'month_str':_0x1330b0})})['then'](_0x273d7a=>_0x273d7a[_0x54e3ce(0x21a)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x54e3ce(0x159)]({'action':_0x54e3ce(0x19d),'init_data':_0x2f747c,'month_str':_0x31686d})})['then'](_0x1cdcd4=>_0x1cdcd4['json']())]);if(lastUserActionTime>_0x3c35d6){console[_0x54e3ce(0x1f0)](_0x54e3ce(0x148));return;}if(_0x4aa462['ok'])this[_0x54e3ce(0x1f2)](_0x4aa462[_0x54e3ce(0x1b0)],_0x1330b0);if(_0x204ef9['ok'])this[_0x54e3ce(0x1f2)](_0x204ef9['data'],_0x31686d);this[_0x54e3ce(0x1e7)]();}catch(_0x530697){}},'applyData'(_0x1d70c3,_0x239eea){const _0x2dd98c=a3_0x5a7474;if(!_0x1d70c3)return;if(_0x1d70c3[_0x2dd98c(0x1e5)]){if(_0x1d70c3[_0x2dd98c(0x1e5)]['pattern'])availabilityPattern=_0x1d70c3[_0x2dd98c(0x1e5)][_0x2dd98c(0x1d8)];if(_0x1d70c3[_0x2dd98c(0x1e5)]['ranges'])specialRanges=_0x1d70c3[_0x2dd98c(0x1e5)][_0x2dd98c(0x153)];if(_0x1d70c3[_0x2dd98c(0x1e5)][_0x2dd98c(0x1c9)])dateExceptions=_0x1d70c3['settings']['exceptions'];}if(_0x1d70c3[_0x2dd98c(0x18d)]&&Array[_0x2dd98c(0x17d)](_0x1d70c3['clients']))clients=_0x1d70c3[_0x2dd98c(0x18d)];_0x1d70c3[_0x2dd98c(0x143)]&&(coachProfiles={...coachProfiles,..._0x1d70c3[_0x2dd98c(0x143)]}),_0x1d70c3[_0x2dd98c(0x1b6)]&&(sessions=sessions['filter'](_0x557397=>!_0x557397['dateStr'][_0x2dd98c(0x161)](_0x239eea)),Object[_0x2dd98c(0x173)](_0x1d70c3[_0x2dd98c(0x1b6)])[_0x2dd98c(0x15e)](_0x4093ec=>{const _0x2a7958=_0x2dd98c,_0x3efc03=_0x1d70c3[_0x2a7958(0x1b6)][_0x4093ec];_0x3efc03['forEach'](_0x950ce3=>{const _0x329fc1=_0x2a7958;sessions[_0x329fc1(0x1e0)]({'id':_0x950ce3['i'],'clientId':_0x950ce3['c'],'coachId':_0x950ce3[_0x329fc1(0x194)],'dateStr':_0x239eea+'-'+_0x4093ec[_0x329fc1(0x1b8)](0x2,'0'),'start':_0x950ce3['s'],'end':_0x950ce3['e'],'note':_0x950ce3['n']||'','status':_0x950ce3['st']||_0x329fc1(0x16d),'seriesId':_0x950ce3['sid']});});})),reRenderBlocks();}};function init(){const _0x1681c7=a3_0x5a7474;DataManager[_0x1681c7(0x1e3)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1681c7(0x1ce)](_0x1681c7(0x150))[_0x1681c7(0x162)](_0x1681c7(0x140),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1681c7(0x1fd)]();}function renderTimeColumn(){const _0x46dafc=a3_0x5a7474,_0x641bdd=document['getElementById'](_0x46dafc(0x1ab)),_0x48561b=document['getElementById'](_0x46dafc(0x1a4));_0x641bdd[_0x46dafc(0x216)]='',_0x641bdd['appendChild'](_0x48561b);for(let _0x17174a=0x0;_0x17174a<0x18;_0x17174a++){const _0x1195c6=document['createElement']('div');_0x1195c6['className']=_0x46dafc(0x1da);if(_0x17174a>0x0)_0x1195c6['innerHTML']=_0x46dafc(0x15b)+String(_0x17174a)[_0x46dafc(0x1b8)](0x2,'0')+_0x46dafc(0x1d4);_0x641bdd[_0x46dafc(0x13d)](_0x1195c6);}}function renderDayRange(_0x571d51,_0x2113df){const _0x1edce1=a3_0x5a7474,_0x101d25=document[_0x1edce1(0x1ce)](_0x1edce1(0x1ae)),_0x296922=document[_0x1edce1(0x1ce)](_0x1edce1(0x178)),_0x51c6ed=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x587c0b=new Date();_0x587c0b[_0x1edce1(0x224)](0x0,0x0,0x0,0x0);const _0x5dce31=getLocalDateStr(new Date());for(let _0x5b3e96=_0x571d51;_0x5b3e96<=_0x2113df;_0x5b3e96++){const _0x5dc2bf=new Date(_0x587c0b);_0x5dc2bf[_0x1edce1(0x12f)](_0x5dc2bf[_0x1edce1(0x188)]()+_0x5b3e96);const _0x35c981=getLocalDateStr(_0x5dc2bf);let _0x2a52b4=_0x5dc2bf[_0x1edce1(0x1cb)]()-0x1;if(_0x2a52b4===-0x1)_0x2a52b4=0x6;const _0x3456ea=_0x35c981===_0x5dce31,_0x9fce64=document[_0x1edce1(0x168)](_0x1edce1(0x1cf));_0x9fce64[_0x1edce1(0x12b)]=_0x1edce1(0x1b7)+(_0x3456ea?'today':''),_0x9fce64[_0x1edce1(0x128)]('data-date',_0x35c981),_0x9fce64[_0x1edce1(0x216)]=_0x1edce1(0x129)+_0x51c6ed[_0x2a52b4]+_0x1edce1(0x1e1)+_0x5dc2bf[_0x1edce1(0x188)]()+_0x1edce1(0x1d6),_0x101d25[_0x1edce1(0x13d)](_0x9fce64);const _0x422244=document[_0x1edce1(0x168)](_0x1edce1(0x1cf));_0x422244['className']=_0x1edce1(0x1e2)+(_0x3456ea?_0x1edce1(0x1e6):''),_0x422244[_0x1edce1(0x128)](_0x1edce1(0x1dc),_0x35c981),_0x422244[_0x1edce1(0x128)](_0x1edce1(0x16f),_0x2a52b4),_0x296922[_0x1edce1(0x13d)](_0x422244);}}function reRenderBlocks(){const _0x470730=a3_0x5a7474;document[_0x470730(0x156)]('.day-column')[_0x470730(0x15e)](_0x43626c=>{const _0x2aa4f2=_0x470730;_0x43626c[_0x2aa4f2(0x156)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x2ecf69=>_0x2ecf69[_0x2aa4f2(0x12e)]());const _0x28728c=_0x43626c[_0x2aa4f2(0x210)]('data-date'),_0x492220=parseInt(_0x43626c[_0x2aa4f2(0x210)](_0x2aa4f2(0x16f))),_0x3f4655=Math[_0x2aa4f2(0x149)](_0x43626c['offsetLeft']);(availabilityPattern[_0x492220]||[])[_0x2aa4f2(0x15e)](_0x333ec2=>{const _0x322ca8=_0x2aa4f2,_0x19fe25=document[_0x322ca8(0x168)]('div');_0x19fe25[_0x322ca8(0x12b)]=_0x322ca8(0x20b),_0x19fe25[_0x322ca8(0x17e)][_0x322ca8(0x137)]=_0x333ec2*GRID_H+'px',_0x19fe25['style'][_0x322ca8(0x20e)]='-'+_0x3f4655+'px\x20-'+_0x333ec2*GRID_H+'px',_0x43626c[_0x322ca8(0x13d)](_0x19fe25);});if(specialRanges[_0x2aa4f2(0x1de)]>0x0){const _0x3f7e27=new Date(_0x28728c+'T00:00:00')[_0x2aa4f2(0x204)](),_0x2ecf5e=new Date(_0x28728c+_0x2aa4f2(0x1df))[_0x2aa4f2(0x204)]();specialRanges['forEach'](_0x3aac51=>{const _0x5d0d08=_0x2aa4f2,_0x13a3de=new Date(_0x3aac51[_0x5d0d08(0x20f)])[_0x5d0d08(0x204)](),_0x50c897=new Date(_0x3aac51[_0x5d0d08(0x1f3)])[_0x5d0d08(0x204)](),_0x134dc5=Math[_0x5d0d08(0x1fa)](_0x3f7e27,_0x13a3de),_0xdd1113=Math[_0x5d0d08(0x21c)](_0x2ecf5e,_0x50c897);if(_0x134dc5<_0xdd1113){const _0x241bf6=(_0x134dc5-_0x3f7e27)/0x36ee80*GRID_H,_0x5ed429=(_0xdd1113-_0x134dc5)/0x36ee80*GRID_H,_0x39ac83=document[_0x5d0d08(0x168)](_0x5d0d08(0x1cf));_0x5ed429>=23.5*GRID_H?(_0x39ac83[_0x5d0d08(0x12b)]=_0x5d0d08(0x1a6),_0x39ac83[_0x5d0d08(0x17e)]['backgroundPosition']='-'+_0x3f4655+'px\x200px'):(_0x39ac83[_0x5d0d08(0x12b)]='blocked-range-part\x20stripe-bg',_0x39ac83[_0x5d0d08(0x17e)]['top']=_0x241bf6+'px',_0x39ac83[_0x5d0d08(0x17e)]['height']=_0x5ed429+'px',_0x39ac83[_0x5d0d08(0x17e)][_0x5d0d08(0x20e)]='-'+_0x3f4655+_0x5d0d08(0x146)+_0x241bf6+'px'),_0x43626c['appendChild'](_0x39ac83);}});}renderEventsForColumn(_0x43626c,_0x28728c);});}function renderEventsForColumn(_0x27c4e5,_0x24ae1b){const _0x2b39ee=a3_0x5a7474,_0x6c5033=sessions['filter'](_0x47c77b=>_0x47c77b[_0x2b39ee(0x13f)]===_0x24ae1b),_0x37461a=_0x6c5033['map'](_0x4ac186=>{const _0xd4940b=_0x2b39ee,[_0x26ddf0,_0x8c52a7]=_0x4ac186[_0xd4940b(0x20f)][_0xd4940b(0x20c)](':')['map'](Number),[_0x26ab47,_0x4e09e3]=_0x4ac186[_0xd4940b(0x1f3)]['split'](':')[_0xd4940b(0x16e)](Number);return{'data':_0x4ac186,'start':_0x26ddf0*0x3c+_0x8c52a7,'end':_0x26ab47*0x3c+_0x4e09e3,'colIndex':0x0};});_0x37461a[_0x2b39ee(0x1f5)]((_0x590283,_0x3566a3)=>_0x590283[_0x2b39ee(0x20f)]-_0x3566a3['start']||_0x3566a3[_0x2b39ee(0x1f3)]-_0x3566a3[_0x2b39ee(0x20f)]-(_0x590283[_0x2b39ee(0x1f3)]-_0x590283[_0x2b39ee(0x20f)]));const _0x4aa7bf=[];_0x37461a[_0x2b39ee(0x15e)](_0x1e64aa=>{const _0x207a2e=_0x2b39ee;let _0x4273cf=![];for(let _0x1067c2=0x0;_0x1067c2<_0x4aa7bf[_0x207a2e(0x1de)];_0x1067c2++){const _0x522e36=_0x4aa7bf[_0x1067c2];if(_0x1e64aa[_0x207a2e(0x20f)]>=_0x522e36[_0x522e36[_0x207a2e(0x1de)]-0x1][_0x207a2e(0x1f3)]){_0x522e36[_0x207a2e(0x1e0)](_0x1e64aa),_0x1e64aa[_0x207a2e(0x18c)]=_0x1067c2,_0x4273cf=!![];break;}}!_0x4273cf&&(_0x4aa7bf[_0x207a2e(0x1e0)]([_0x1e64aa]),_0x1e64aa[_0x207a2e(0x18c)]=_0x4aa7bf[_0x207a2e(0x1de)]-0x1);}),_0x37461a[_0x2b39ee(0x15e)](_0x2ee7a5=>{const _0x209dd9=_0x2b39ee;let _0x2232ad=0x0;_0x37461a[_0x209dd9(0x15e)](_0x14a41b=>{const _0xaee78a=_0x209dd9;if(Math[_0xaee78a(0x1fa)](_0x2ee7a5['start'],_0x14a41b['start'])<Math[_0xaee78a(0x21c)](_0x2ee7a5[_0xaee78a(0x1f3)],_0x14a41b[_0xaee78a(0x1f3)])&&_0x14a41b[_0xaee78a(0x18c)]>_0x2232ad)_0x2232ad=_0x14a41b[_0xaee78a(0x18c)];});const _0x20c5c5=_0x2232ad+0x1,_0x38bd97=0x64/_0x20c5c5,_0x3c7794=_0x2ee7a5[_0x209dd9(0x18c)]*_0x38bd97,_0x16d03e=document['createElement'](_0x209dd9(0x1cf)),_0x3994d5=_0x2ee7a5[_0x209dd9(0x1b0)];let _0x505c8e=_0x209dd9(0x215);if(clients&&clients[_0x209dd9(0x1de)]>0x0){const _0x236e0e=clients['find'](_0x207f7=>String(_0x207f7['id'])===String(_0x3994d5[_0x209dd9(0x16b)]));if(_0x236e0e&&_0x236e0e[_0x209dd9(0x1d2)])_0x505c8e=_0x236e0e[_0x209dd9(0x1d2)];}const _0x967d29=_0x3994d5[_0x209dd9(0x14a)]===_0x209dd9(0x197),_0x3e6404=_0x967d29?0x1:0.45;_0x16d03e[_0x209dd9(0x12b)]=_0x209dd9(0x1b2)+(_0x967d29?'\x20status-completed':''),_0x16d03e[_0x209dd9(0x17e)][_0x209dd9(0x166)]=hexToRgba(_0x505c8e,_0x3e6404),_0x16d03e[_0x209dd9(0x17e)][_0x209dd9(0x155)]=_0x505c8e;const _0x3d8036=_0x2ee7a5[_0x209dd9(0x20f)]/0x3c*GRID_H,_0x5f5479=(_0x2ee7a5[_0x209dd9(0x1f3)]-_0x2ee7a5[_0x209dd9(0x20f)])/0x3c*GRID_H;_0x16d03e[_0x209dd9(0x17e)][_0x209dd9(0x137)]=_0x3d8036+'px',_0x16d03e[_0x209dd9(0x17e)]['height']=Math[_0x209dd9(0x1fa)](_0x5f5479,0x14)+'px',_0x16d03e[_0x209dd9(0x17e)][_0x209dd9(0x223)]=_0x209dd9(0x189)+_0x38bd97+'%\x20-\x204px)',_0x16d03e[_0x209dd9(0x17e)]['left']=_0x209dd9(0x189)+_0x3c7794+_0x209dd9(0x1ea),_0x16d03e['style'][_0x209dd9(0x199)]=0xa+_0x2ee7a5['colIndex'];if(_0x38bd97<0x55)_0x16d03e[_0x209dd9(0x219)][_0x209dd9(0x18a)](_0x209dd9(0x186));let _0x4465cb='';if(_0x3994d5[_0x209dd9(0x172)])_0x4465cb+=_0x209dd9(0x1ad);if(_0x967d29)_0x4465cb+=_0x209dd9(0x15f);_0x16d03e[_0x209dd9(0x216)]=_0x209dd9(0x1ef)+_0x3994d5[_0x209dd9(0x20f)]+_0x209dd9(0x152)+_0x3994d5[_0x209dd9(0x1f3)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4465cb+_0x209dd9(0x222),_0x16d03e[_0x209dd9(0x1ee)]=_0x2e5cf6=>{const _0x1e65b7=_0x209dd9;_0x2e5cf6[_0x1e65b7(0x1d3)](),openDetails(_0x3994d5);},_0x27c4e5[_0x209dd9(0x13d)](_0x16d03e);});}function openAnalytics(){const _0x5c99ad=a3_0x5a7474,_0x42c3ae=document[_0x5c99ad(0x1db)](_0x5c99ad(0x133));setAnalyticsPeriod(_0x5c99ad(0x1e4),_0x42c3ae),openSheet(_0x5c99ad(0x214));}function setAnalyticsPeriod(_0x566c6e,_0x2ccfa6){const _0x1eff38=a3_0x5a7474;currentAnPeriod=_0x566c6e,document[_0x1eff38(0x156)]('.period-switch\x20.p-btn')[_0x1eff38(0x15e)](_0x1a227c=>_0x1a227c[_0x1eff38(0x219)][_0x1eff38(0x12e)](_0x1eff38(0x217)));if(_0x2ccfa6)_0x2ccfa6[_0x1eff38(0x219)][_0x1eff38(0x18a)]('active');const _0x5c57d1=document[_0x1eff38(0x1ce)](_0x1eff38(0x136));_0x5c57d1[_0x1eff38(0x17e)]['display']=_0x566c6e===_0x1eff38(0x1c7)?_0x1eff38(0x1d5):_0x1eff38(0x160);const _0x1db692=new Date();let _0x468412=new Date(),_0x1cee45=new Date();if(_0x566c6e==='week')_0x468412=getStartOfWeek(_0x1db692),_0x1cee45=new Date(_0x468412),_0x1cee45[_0x1eff38(0x12f)](_0x1cee45[_0x1eff38(0x188)]()+0x6);else{if(_0x566c6e===_0x1eff38(0x17f))_0x468412=new Date(_0x1db692[_0x1eff38(0x145)](),_0x1db692[_0x1eff38(0x154)](),0x1),_0x1cee45=new Date(_0x1db692['getFullYear'](),_0x1db692[_0x1eff38(0x154)]()+0x1,0x0);else{!document[_0x1eff38(0x1ce)](_0x1eff38(0x175))['value']&&(document[_0x1eff38(0x1ce)](_0x1eff38(0x175))['value']=getLocalDateStr(_0x1db692),document[_0x1eff38(0x1ce)](_0x1eff38(0x1e8))[_0x1eff38(0x138)]=getLocalDateStr(_0x1db692));refreshAnalytics();return;}}document[_0x1eff38(0x1ce)](_0x1eff38(0x175))['value']=getLocalDateStr(_0x468412),document['getElementById'](_0x1eff38(0x1e8))[_0x1eff38(0x138)]=getLocalDateStr(_0x1cee45),refreshAnalytics();}function refreshAnalytics(){const _0x3554e8=a3_0x5a7474,_0x44792a=document[_0x3554e8(0x1ce)](_0x3554e8(0x175))[_0x3554e8(0x138)],_0x6211=document[_0x3554e8(0x1ce)](_0x3554e8(0x1e8))[_0x3554e8(0x138)];if(!_0x44792a||!_0x6211)return;const _0x49b84e=sessions['filter'](_0x36e0e8=>_0x36e0e8[_0x3554e8(0x13f)]>=_0x44792a&&_0x36e0e8['dateStr']<=_0x6211&&_0x36e0e8['status']!==_0x3554e8(0x163)),_0x59f4d2=_0x49b84e[_0x3554e8(0x1de)],_0x57fc67=_0x49b84e[_0x3554e8(0x1f7)](_0x4c45fe=>_0x4c45fe['status']===_0x3554e8(0x197))[_0x3554e8(0x1de)],_0x1b0344=_0x59f4d2>0x0?Math['round'](_0x57fc67/_0x59f4d2*0x64):0x0;document['getElementById'](_0x3554e8(0x177))[_0x3554e8(0x211)]=_0x1b0344+'%',document['getElementById'](_0x3554e8(0x200))[_0x3554e8(0x211)]=_0x57fc67+_0x3554e8(0x1f9)+_0x59f4d2+_0x3554e8(0x202);const _0x35d59a=document[_0x3554e8(0x1ce)](_0x3554e8(0x191)),_0x3e8725=0x2*Math['PI']*0x23,_0x32220b=_0x3e8725-_0x1b0344/0x64*_0x3e8725;_0x35d59a[_0x3554e8(0x17e)]['strokeDashoffset']=_0x32220b;const _0x5fdd3a={};_0x49b84e[_0x3554e8(0x15e)](_0x4fce4=>{const _0x21f325=_0x3554e8,_0x5778e9=_0x4fce4['coachId']||'Unknown';if(!_0x5fdd3a[_0x5778e9]){const _0x3fb498='#'+_0x5778e9[_0x21f325(0x1ff)]()[_0x21f325(0x21f)](0x0,0x6);_0x5fdd3a[_0x5778e9]={'total':0x0,'done':0x0,'color':_0x3fb498};}_0x5fdd3a[_0x5778e9][_0x21f325(0x139)]++;if(_0x4fce4[_0x21f325(0x14a)]===_0x21f325(0x197))_0x5fdd3a[_0x5778e9]['done']++;});const _0x23429b=document[_0x3554e8(0x1ce)](_0x3554e8(0x1eb));_0x23429b['innerHTML']='';const _0x2ce2a0=Object[_0x3554e8(0x182)](_0x5fdd3a)['sort']((_0x4f9452,_0x4fe383)=>_0x4fe383[0x1][_0x3554e8(0x139)]-_0x4f9452[0x1]['total']);if(_0x2ce2a0[_0x3554e8(0x1de)]===0x0){_0x23429b['innerHTML']=_0x3554e8(0x1bf);return;}_0x2ce2a0[_0x3554e8(0x15e)](([_0x281e42,_0x1f3ec4])=>{const _0x525026=_0x3554e8,_0x346c99=Math[_0x525026(0x149)](_0x1f3ec4['done']/_0x1f3ec4[_0x525026(0x139)]*0x64),_0x194897=document[_0x525026(0x168)](_0x525026(0x1cf));_0x194897['className']='client-stat-card',_0x194897[_0x525026(0x17e)][_0x525026(0x155)]=_0x1f3ec4['color'],_0x194897[_0x525026(0x216)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x281e42[_0x525026(0x21f)](0x0,0x5)+_0x525026(0x19f)+_0x1f3ec4[_0x525026(0x212)]+_0x525026(0x19c)+_0x1f3ec4[_0x525026(0x139)]+_0x525026(0x19a)+_0x346c99+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x23429b['appendChild'](_0x194897);});}function a3_0x180a(){const _0x13bc51=['show','className','display','cancelHint','remove','setDate','detStatus','–∑–∞\x20','block','.period-switch\x20.p-btn','cancelContainer','74208ZIFJHu','anCustomDates','top','value','total','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','rgba(','client_cancel','appendChild','substring','dateStr','scroll','offsetWidth','toUpperCase','coach_profiles','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','getFullYear','px\x20-','WebApp','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','round','status','ru-RU','–û—Ç–º–µ–Ω–µ–Ω–æ','getMinutes','all','href','matrixViewport','ready','\x20-\x20','ranges','getMonth','borderLeftColor','querySelectorAll','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','setItem','stringify','insertBefore','<span>','open','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','forEach','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','none','startsWith','addEventListener','cancelled','ccText','var(--acc-green)','backgroundColor','detDate','createElement','.day-column','600','clientId','</div><div\x20class=\x22rs-day-num\x22>','planned','map','data-day-idx','.btn-cancel','findIndex','seriesId','keys','scrollLeft','anStart','uc_client_sessions','anPercent','gridColumns','6SjEwWA','541690xdtQmE','expand','189HOJtWi','isArray','style','month','.rs-date-chip','button','entries','ccTitle','now','onClick','mini','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getDate','calc(','add','disableVerticalSwipes','colIndex','clients','\x20—á.','numeric','customConfirm','anDonutCircle','search','scrollTo','cid','overlay','rescheduleSheet','completed','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','zIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','</span>\x20/\x20','client_load','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','126428lWZWBF','fontWeight','v9.5-CLIENT-ANALYTICS','#ff453a','timeLineBadge','rsDatesTrack','day-off-overlay\x20stripe-bg','744084GIUIhX','user','clientWidth','<div\x20class=\x22rs-day-name\x22>','timeColumn','14FQPrRg','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','daysHeaderTrack','setBackgroundColor','data','Telegram','event-card','headerMonth','parse','BackButton','calendar','day-col-header\x20','padStart','rsSlotsGrid','(((.+)+)+)+$','toLocaleDateString','setMonth','71450eiXpAI','Error\x20setting\x20color:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x20–≤\x20','getHours','scrollTop','detTime','auto','detailsSheet','initDataUnsafe','custom','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','exceptions','.btn-reschedule','getDay','1252iQxTqS','6qRntrc','getElementById','div','DOMContentLoaded','initData','color','stopPropagation',':00</span>','flex','</div>','Critical\x20TMA\x20Error:','pattern','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','time-label','querySelector','data-date','.day-col-header','length','T23:59:59','push','</div><div\x20class=\x22dch-num\x22>','day-column\x20','loadLocal','week','settings','today','saveLocally','anEnd','344YBVwNN','%\x20+\x202px)','analyticsList','.sheet','join','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','log','long','applyData','end','offsetLeft','sort','globalTimeLine','filter','visible','\x20–∏–∑\x20','max','toLocaleString','#050505','syncLoad','uc_client_settings','toString','anTotalStats','getItem','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','520SUejIh','getTime','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','firstChild','router.html','1428vesTui','apply','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','blocked-slot\x20stripe-bg','split','charAt','backgroundPosition','start','getAttribute','textContent','done','uc_client_list','analyticsSheet','#0a84ff','innerHTML','active','scrollWidth','classList','json','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','min','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','.day-col-header[data-date=\x22','substr','createDocumentFragment','ccYesBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','setHours','POST','coachId','setAttribute','<div\x20class=\x22dch-day\x22>'];a3_0x180a=function(){return _0x13bc51;};return a3_0x180a();}function openDetails(_0x9c6c92){const _0x4ba691=a3_0x5a7474;currentSession=_0x9c6c92;const _0x32af50=new Date(_0x9c6c92[_0x4ba691(0x13f)]),_0xca7eda=_0x32af50[_0x4ba691(0x1bb)]('ru-RU',{'weekday':_0x4ba691(0x1f1),'day':_0x4ba691(0x18f),'month':_0x4ba691(0x1f1)});document[_0x4ba691(0x1ce)](_0x4ba691(0x167))[_0x4ba691(0x211)]=_0xca7eda[_0x4ba691(0x20d)](0x0)[_0x4ba691(0x142)]()+_0xca7eda['slice'](0x1),document[_0x4ba691(0x1ce)](_0x4ba691(0x1c3))['textContent']=_0x9c6c92[_0x4ba691(0x20f)]+_0x4ba691(0x152)+_0x9c6c92[_0x4ba691(0x1f3)],document[_0x4ba691(0x1ce)]('detNote')[_0x4ba691(0x211)]=_0x9c6c92['note']||_0x4ba691(0x157);const _0x8f3ee9=document['getElementById'](_0x4ba691(0x130)),_0x3d1aba=document[_0x4ba691(0x1ce)](_0x4ba691(0x134)),_0x4ab54b=_0x3d1aba[_0x4ba691(0x1db)](_0x4ba691(0x170)),_0x124788=_0x3d1aba['querySelector'](_0x4ba691(0x1ca)),_0x3e52fd=document['getElementById'](_0x4ba691(0x12d));if(_0x9c6c92['status']===_0x4ba691(0x197))_0x8f3ee9['textContent']=_0x4ba691(0x15d),_0x8f3ee9[_0x4ba691(0x17e)][_0x4ba691(0x1d2)]=_0x4ba691(0x165),_0x3d1aba[_0x4ba691(0x17e)][_0x4ba691(0x12c)]=_0x4ba691(0x160);else{_0x8f3ee9['textContent']=_0x4ba691(0x205),_0x8f3ee9[_0x4ba691(0x17e)][_0x4ba691(0x1d2)]='var(--acc-blue)',_0x3d1aba[_0x4ba691(0x17e)][_0x4ba691(0x12c)]=_0x4ba691(0x132);const _0x14d6c7=new Date(_0x9c6c92[_0x4ba691(0x13f)]+'T'+_0x9c6c92[_0x4ba691(0x20f)]),_0xf91e07=new Date(),_0x435413=(_0x14d6c7-_0xf91e07)/(0x3e8*0x3c*0x3c),_0xa360bc=coachProfiles[_0x9c6c92[_0x4ba691(0x127)]]&&coachProfiles[_0x9c6c92['coachId']]['cancel_window']?parseInt(coachProfiles[_0x9c6c92[_0x4ba691(0x127)]]['cancel_window']):0x18;if(_0xa360bc===0x0||_0x435413>=_0xa360bc)_0x4ab54b[_0x4ba691(0x17e)][_0x4ba691(0x12c)]=_0x4ba691(0x132),_0x124788['style'][_0x4ba691(0x12c)]=_0x4ba691(0x132),_0x3e52fd[_0x4ba691(0x17e)][_0x4ba691(0x12c)]=_0x4ba691(0x160);else{_0x4ab54b['style'][_0x4ba691(0x12c)]=_0x4ba691(0x160),_0x124788['style'][_0x4ba691(0x12c)]=_0x4ba691(0x160),_0x3e52fd[_0x4ba691(0x17e)]['display']='block';let _0x5c0f56=_0xa360bc===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x4ba691(0x131)+_0xa360bc+_0x4ba691(0x18e);_0x3e52fd[_0x4ba691(0x211)]=_0x4ba691(0x13a)+_0x5c0f56+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x4ba691(0x1ce)](_0x4ba691(0x195))[_0x4ba691(0x219)][_0x4ba691(0x18a)](_0x4ba691(0x217)),document[_0x4ba691(0x1ce)](_0x4ba691(0x1c5))[_0x4ba691(0x219)][_0x4ba691(0x18a)](_0x4ba691(0x15c));}function closeAllSheets(){const _0x201270=a3_0x5a7474;document[_0x201270(0x1ce)]('overlay')[_0x201270(0x219)][_0x201270(0x12e)](_0x201270(0x217)),document[_0x201270(0x156)](_0x201270(0x1ec))['forEach'](_0x29980c=>_0x29980c[_0x201270(0x219)]['remove'](_0x201270(0x15c)));}function openSheet(_0x16393f){const _0x276f60=a3_0x5a7474;document[_0x276f60(0x1ce)]('overlay')[_0x276f60(0x219)][_0x276f60(0x18a)](_0x276f60(0x217)),document[_0x276f60(0x1ce)](_0x16393f)[_0x276f60(0x219)][_0x276f60(0x18a)](_0x276f60(0x15c));}function getLocalDateStr(_0x46e818){const _0x26b1ec=a3_0x5a7474,_0x31e23e=_0x46e818['getFullYear'](),_0x101686=String(_0x46e818[_0x26b1ec(0x154)]()+0x1)['padStart'](0x2,'0'),_0x5a87e4=String(_0x46e818[_0x26b1ec(0x188)]())[_0x26b1ec(0x1b8)](0x2,'0');return _0x31e23e+'-'+_0x101686+'-'+_0x5a87e4;}function getStartOfWeek(_0x30fb94){const _0x3a987f=a3_0x5a7474,_0x3bdcbb=new Date(_0x30fb94),_0x4743c5=_0x3bdcbb[_0x3a987f(0x1cb)](),_0x123c06=_0x3bdcbb['getDate']()-_0x4743c5+(_0x4743c5===0x0?-0x6:0x1);return _0x3bdcbb['setDate'](_0x123c06),_0x3bdcbb[_0x3a987f(0x224)](0x0,0x0,0x0,0x0),_0x3bdcbb;}function scrollToToday(){const _0x4990b8=getLocalDateStr(new Date());setTimeout(()=>{const _0x29a187=a3_0x1d02,_0x3d46f1=document[_0x29a187(0x1db)](_0x29a187(0x21e)+_0x4990b8+'\x22]');if(_0x3d46f1){const _0xaaf83f=document['getElementById'](_0x29a187(0x150)),_0x32926f=_0x3d46f1[_0x29a187(0x1f4)]-_0xaaf83f[_0x29a187(0x1a9)]/0x2+_0x3d46f1[_0x29a187(0x141)]/0x2;_0xaaf83f[_0x29a187(0x193)]({'left':_0x32926f,'behavior':_0x29a187(0x1c4)}),_0xaaf83f[_0x29a187(0x1c2)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x48708e=a3_0x5a7474,_0x43f25c=new Date(),_0xe16cf2=document['getElementById'](_0x48708e(0x1f6)),_0xf87fce=document[_0x48708e(0x1ce)](_0x48708e(0x1a4)),_0x48e028=(_0x43f25c[_0x48708e(0x1c1)]()*0x3c+_0x43f25c[_0x48708e(0x14d)]())/0x3c*GRID_H;_0xe16cf2[_0x48708e(0x17e)][_0x48708e(0x137)]=_0x48e028+'px',_0xe16cf2[_0x48708e(0x17e)]['display']=_0x48708e(0x132),_0xf87fce[_0x48708e(0x17e)][_0x48708e(0x137)]=_0x48e028+'px',_0xf87fce[_0x48708e(0x17e)][_0x48708e(0x12c)]=_0x48708e(0x132),_0xf87fce['textContent']=String(_0x43f25c[_0x48708e(0x1c1)]())[_0x48708e(0x1b8)](0x2,'0')+':'+String(_0x43f25c['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0x206a99=a3_0x5a7474,_0x4017c7=document[_0x206a99(0x1ce)](_0x206a99(0x150)),_0x2d72ca=document[_0x206a99(0x156)](_0x206a99(0x1dd));for(let _0x1b3fb1 of _0x2d72ca)if(_0x1b3fb1[_0x206a99(0x1f4)]>=_0x4017c7[_0x206a99(0x174)]){const _0x139b1d=new Date(_0x1b3fb1['getAttribute']('data-date'));document[_0x206a99(0x1ce)](_0x206a99(0x1b3))[_0x206a99(0x211)]=_0x139b1d[_0x206a99(0x1fb)]('ru',{'month':_0x206a99(0x1f1)})['toUpperCase']()+'\x20'+_0x139b1d['getFullYear']();break;}}function showToast(_0xe35624){const _0x15053e=a3_0x5a7474,_0x4872a3=document[_0x15053e(0x1ce)]('toast');_0x4872a3['textContent']=_0xe35624,_0x4872a3[_0x15053e(0x219)][_0x15053e(0x18a)](_0x15053e(0x12a)),setTimeout(()=>_0x4872a3[_0x15053e(0x219)][_0x15053e(0x12e)](_0x15053e(0x12a)),0x7d0);}function handleInfiniteScroll(){const _0x53c5bc=a3_0x5a7474,_0x8077c3=document[_0x53c5bc(0x1ce)](_0x53c5bc(0x150)),_0x202875=_0x8077c3['scrollLeft'],_0x88703d=_0x8077c3[_0x53c5bc(0x218)],_0x31dfa4=_0x8077c3[_0x53c5bc(0x1a9)];if(_0x88703d-(_0x202875+_0x31dfa4)<0x12c){const _0x4e215b=endOffset;endOffset+=0xe,renderDayRange(_0x4e215b+0x1,endOffset),reRenderBlocks();}if(_0x202875<0x12c){const _0x388525=startOffset;startOffset-=0xe,prependDays(startOffset,_0x388525-0x1),_0x8077c3[_0x53c5bc(0x174)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5bb1db,_0x8e6bf4){const _0x41a5f5=a3_0x5a7474,_0x2be330=document[_0x41a5f5(0x1ce)](_0x41a5f5(0x1ae)),_0x4128c8=document[_0x41a5f5(0x1ce)]('gridColumns'),_0x2d1321=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2159e8=new Date();_0x2159e8['setHours'](0x0,0x0,0x0,0x0);const _0xd429d8=getLocalDateStr(new Date()),_0x836101=document[_0x41a5f5(0x220)](),_0x195804=document[_0x41a5f5(0x220)]();for(let _0x453e64=_0x5bb1db;_0x453e64<=_0x8e6bf4;_0x453e64++){const _0x39e921=new Date(_0x2159e8);_0x39e921[_0x41a5f5(0x12f)](_0x39e921[_0x41a5f5(0x188)]()+_0x453e64);const _0x65e6c2=getLocalDateStr(_0x39e921);let _0x51f306=_0x39e921[_0x41a5f5(0x1cb)]()-0x1;if(_0x51f306===-0x1)_0x51f306=0x6;const _0x478dbd=_0x65e6c2===_0xd429d8,_0xf1cd72=document[_0x41a5f5(0x168)](_0x41a5f5(0x1cf));_0xf1cd72[_0x41a5f5(0x12b)]='day-col-header\x20'+(_0x478dbd?_0x41a5f5(0x1e6):''),_0xf1cd72[_0x41a5f5(0x128)]('data-date',_0x65e6c2),_0xf1cd72[_0x41a5f5(0x216)]=_0x41a5f5(0x129)+_0x2d1321[_0x51f306]+_0x41a5f5(0x1e1)+_0x39e921[_0x41a5f5(0x188)]()+_0x41a5f5(0x1d6),_0x836101[_0x41a5f5(0x13d)](_0xf1cd72);const _0x1d301c=document['createElement'](_0x41a5f5(0x1cf));_0x1d301c[_0x41a5f5(0x12b)]=_0x41a5f5(0x1e2)+(_0x478dbd?_0x41a5f5(0x1e6):''),_0x1d301c[_0x41a5f5(0x128)](_0x41a5f5(0x1dc),_0x65e6c2),_0x1d301c['setAttribute']('data-day-idx',_0x51f306),_0x195804[_0x41a5f5(0x13d)](_0x1d301c);}_0x2be330[_0x41a5f5(0x15a)](_0x836101,_0x2be330['firstChild']),_0x4128c8[_0x41a5f5(0x15a)](_0x195804,_0x4128c8[_0x41a5f5(0x1db)](_0x41a5f5(0x169)));}function hexToRgba(_0x3ed522,_0x56d9a5){const _0x490081=a3_0x5a7474;let _0x5cebdd;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3ed522))return _0x5cebdd=_0x3ed522[_0x490081(0x13e)](0x1)['split'](''),_0x5cebdd[_0x490081(0x1de)]==0x3&&(_0x5cebdd=[_0x5cebdd[0x0],_0x5cebdd[0x0],_0x5cebdd[0x1],_0x5cebdd[0x1],_0x5cebdd[0x2],_0x5cebdd[0x2]]),_0x5cebdd='0x'+_0x5cebdd[_0x490081(0x1ed)](''),_0x490081(0x13b)+[_0x5cebdd>>0x10&0xff,_0x5cebdd>>0x8&0xff,_0x5cebdd&0xff]['join'](',')+','+_0x56d9a5+')';return'rgba(10,\x20132,\x20255,\x20'+_0x56d9a5+')';}let confirmResolver=null;function showCustomConfirm(_0x1ec290,_0x513cb2,_0x360195=!![]){const _0xae0035=a3_0x5a7474;document[_0xae0035(0x1ce)](_0xae0035(0x183))[_0xae0035(0x211)]=_0x1ec290,document['getElementById'](_0xae0035(0x164))[_0xae0035(0x211)]=_0x513cb2;const _0x4dbe3c=document['getElementById'](_0xae0035(0x221));return _0x360195?(_0x4dbe3c[_0xae0035(0x17e)][_0xae0035(0x1d2)]=_0xae0035(0x1a3),_0x4dbe3c[_0xae0035(0x17e)][_0xae0035(0x1a1)]='600'):(_0x4dbe3c[_0xae0035(0x17e)]['color']=_0xae0035(0x215),_0x4dbe3c['style']['fontWeight']=_0xae0035(0x16a)),new Promise(_0x44b5d5=>{const _0x2ea748=_0xae0035;confirmResolver=_0x44b5d5,document['getElementById'](_0x2ea748(0x190))[_0x2ea748(0x219)][_0x2ea748(0x18a)](_0x2ea748(0x1f8));});}function resolveCustomConfirm(_0x4c9d77){const _0x33537a=a3_0x5a7474;document[_0x33537a(0x1ce)]('customConfirm')['classList'][_0x33537a(0x12e)](_0x33537a(0x1f8));if(confirmResolver)confirmResolver(_0x4c9d77);}async function tryCancelCurrentSession(){const _0x56513f=a3_0x5a7474;if(!currentSession)return;const _0x5cf201=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x5cf201)return;const _0x360397=currentSession;closeAllSheets(),sessions=sessions[_0x56513f(0x1f7)](_0x8baffe=>_0x8baffe['id']!==_0x360397['id']),reRenderBlocks(),showToast(_0x56513f(0x14c)),lastUserActionTime=Date['now']();try{const _0xe850f3=window[_0x56513f(0x1b1)]?.[_0x56513f(0x147)],_0x2d9df7=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x56513f(0x13c),'init_data':_0xe850f3?.[_0x56513f(0x1d1)]||'','coachId':_0x360397[_0x56513f(0x127)],'dateStr':_0x360397['dateStr'],'sessionId':_0x360397['id']})});if(_0x2d9df7['ok'])DataManager[_0x56513f(0x1e7)]();}catch(_0x20cfb4){showToast(_0x56513f(0x1c8));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xb9cae9=a3_0x5a7474;if(!currentSession)return;document[_0xb9cae9(0x1ce)]('detailsSheet')[_0xb9cae9(0x219)][_0xb9cae9(0x12e)]('open'),document[_0xb9cae9(0x1ce)](_0xb9cae9(0x196))[_0xb9cae9(0x219)][_0xb9cae9(0x18a)](_0xb9cae9(0x15c));const _0x52b7ce=document['getElementById'](_0xb9cae9(0x1a5)),_0x3dd381=document['getElementById'](_0xb9cae9(0x1b9));_0x52b7ce[_0xb9cae9(0x216)]='',_0x3dd381['innerHTML']=_0xb9cae9(0x144);const [_0x4206e6,_0x5a3ceb]=currentSession[_0xb9cae9(0x20f)][_0xb9cae9(0x20c)](':')['map'](Number),[_0x2ff898,_0x2a538e]=currentSession['end'][_0xb9cae9(0x20c)](':')[_0xb9cae9(0x16e)](Number),_0xf9daa7=_0x2ff898*0x3c+_0x2a538e-(_0x4206e6*0x3c+_0x5a3ceb);try{const _0x5f5dcf=window[_0xb9cae9(0x1b1)]?.['WebApp'],_0x4da147=await fetch(API_URL,{'method':'POST','body':JSON[_0xb9cae9(0x159)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0xf9daa7,'init_data':_0x5f5dcf?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x5e36f2=await _0x4da147[_0xb9cae9(0x21a)]();_0x5e36f2['ok']&&_0x5e36f2[_0xb9cae9(0x1b0)]?(availableSlotsCache=_0x5e36f2[_0xb9cae9(0x1b0)],renderRescheduleDates()):_0x3dd381[_0xb9cae9(0x216)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x2d6ba4){_0x3dd381[_0xb9cae9(0x216)]=_0xb9cae9(0x19e);}}function renderRescheduleDates(){const _0x2d837f=a3_0x5a7474,_0x51d3f2=document[_0x2d837f(0x1ce)](_0x2d837f(0x1a5));_0x51d3f2[_0x2d837f(0x216)]='';const _0xc04937=Object['keys'](availableSlotsCache)[_0x2d837f(0x1f5)](),_0x15de92=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xc04937[_0x2d837f(0x1de)]===0x0){document['getElementById']('rsSlotsGrid')[_0x2d837f(0x216)]=_0x2d837f(0x187);return;}_0xc04937[_0x2d837f(0x15e)]((_0x56b32f,_0x2b3cd0)=>{const _0x10c551=_0x2d837f,_0x5dc1af=new Date(_0x56b32f),_0x2cb008=_0x15de92[_0x5dc1af[_0x10c551(0x1cb)]()],_0x30fbcd=_0x5dc1af[_0x10c551(0x188)](),_0x28d433=document['createElement']('div');_0x28d433['className']='rs-date-chip';if(_0x2b3cd0===0x0)_0x28d433[_0x10c551(0x219)][_0x10c551(0x18a)](_0x10c551(0x217));_0x28d433[_0x10c551(0x216)]=_0x10c551(0x1aa)+_0x2cb008+_0x10c551(0x16c)+_0x30fbcd+_0x10c551(0x1d6),_0x28d433[_0x10c551(0x1ee)]=()=>selectRsDate(_0x56b32f,_0x28d433),_0x51d3f2[_0x10c551(0x13d)](_0x28d433);}),selectRsDate(_0xc04937[0x0],_0x51d3f2[_0x2d837f(0x206)]);}function selectRsDate(_0x354d0a,_0x1d4f45){const _0x4e41fb=a3_0x5a7474;selectedRsDate=_0x354d0a,document[_0x4e41fb(0x156)](_0x4e41fb(0x180))[_0x4e41fb(0x15e)](_0x1b2c76=>_0x1b2c76[_0x4e41fb(0x219)][_0x4e41fb(0x12e)](_0x4e41fb(0x217)));if(_0x1d4f45)_0x1d4f45['classList'][_0x4e41fb(0x18a)](_0x4e41fb(0x217));const _0x5c449a=document[_0x4e41fb(0x1ce)](_0x4e41fb(0x1b9));_0x5c449a[_0x4e41fb(0x216)]='';const _0x1df609=availableSlotsCache[_0x354d0a]||[];if(_0x1df609[_0x4e41fb(0x1de)]===0x0){_0x5c449a['innerHTML']=_0x4e41fb(0x21d);return;}_0x1df609['forEach'](_0x55c9eb=>{const _0x1bb3cc=_0x4e41fb,_0x541f41=document['createElement'](_0x1bb3cc(0x181));_0x541f41['className']='rs-time-btn',_0x541f41[_0x1bb3cc(0x211)]=_0x55c9eb,_0x541f41[_0x1bb3cc(0x1ee)]=()=>confirmReschedule(_0x55c9eb),_0x5c449a[_0x1bb3cc(0x13d)](_0x541f41);});}async function confirmReschedule(_0x2a1ea4){const _0x50756e=a3_0x5a7474,_0x4c2548=new Date(selectedRsDate),_0x3f0a11=_0x4c2548[_0x50756e(0x1bb)](_0x50756e(0x14b),{'day':_0x50756e(0x18f),'month':_0x50756e(0x1f1)}),_0x3fa0f3=await showCustomConfirm(_0x50756e(0x20a),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3f0a11+_0x50756e(0x1c0)+_0x2a1ea4+'?',![]);if(!_0x3fa0f3)return;closeAllSheets(),showToast(_0x50756e(0x1d9)),lastUserActionTime=Date[_0x50756e(0x184)]();const _0x353eb7=currentSession[_0x50756e(0x13f)],_0x2403c1=currentSession['id'],[_0x40c086,_0x179f99]=currentSession[_0x50756e(0x20f)][_0x50756e(0x20c)](':')['map'](Number),[_0x777a83,_0x108aec]=currentSession[_0x50756e(0x1f3)]['split'](':')[_0x50756e(0x16e)](Number),_0x3ea166=_0x777a83*0x3c+_0x108aec-(_0x40c086*0x3c+_0x179f99),[_0x1edd5c,_0x2d8fd6]=_0x2a1ea4[_0x50756e(0x20c)](':')[_0x50756e(0x16e)](Number),_0xa4a2d4=_0x1edd5c*0x3c+_0x2d8fd6+_0x3ea166,_0x103957=Math['floor'](_0xa4a2d4/0x3c),_0x343e99=_0xa4a2d4%0x3c,_0x4ef1eb=String(_0x103957)[_0x50756e(0x1b8)](0x2,'0')+':'+String(_0x343e99)['padStart'](0x2,'0'),_0x384f04=sessions[_0x50756e(0x171)](_0x4346b8=>_0x4346b8['id']===_0x2403c1);_0x384f04!==-0x1&&(sessions[_0x384f04][_0x50756e(0x13f)]=selectedRsDate,sessions[_0x384f04][_0x50756e(0x20f)]=_0x2a1ea4,sessions[_0x384f04]['end']=_0x4ef1eb,reRenderBlocks());try{const _0x1734c1=window[_0x50756e(0x1b1)]?.[_0x50756e(0x147)],_0x9e70d4=await fetch(API_URL,{'method':_0x50756e(0x126),'body':JSON['stringify']({'action':'reschedule','init_data':_0x1734c1?.['initData']||'','oldSessionId':_0x2403c1,'oldDate':_0x353eb7,'newDate':selectedRsDate,'newTime':_0x2a1ea4,'coachId':currentSession[_0x50756e(0x127)]})}),_0x236ae4=await _0x9e70d4[_0x50756e(0x21a)]();!_0x236ae4['ok']?(showToast(_0x50756e(0x198)),DataManager[_0x50756e(0x1fd)]()):(showToast(_0x50756e(0x19b)),DataManager[_0x50756e(0x1e7)]());}catch(_0x2b0259){showToast(_0x50756e(0x1c8));}}document[a3_0x5a7474(0x162)](a3_0x5a7474(0x1d0),init);