const a3_0xbac8f3=a3_0x3780;(function(_0x5c27da,_0x43a231){const _0x3cdeb6=a3_0x3780,_0x1a938d=_0x5c27da();while(!![]){try{const _0x31a9ed=parseInt(_0x3cdeb6(0x273))/0x1+parseInt(_0x3cdeb6(0x22b))/0x2+-parseInt(_0x3cdeb6(0x20e))/0x3+-parseInt(_0x3cdeb6(0x24c))/0x4+parseInt(_0x3cdeb6(0x2c7))/0x5*(-parseInt(_0x3cdeb6(0x2bf))/0x6)+parseInt(_0x3cdeb6(0x213))/0x7+parseInt(_0x3cdeb6(0x255))/0x8;if(_0x31a9ed===_0x43a231)break;else _0x1a938d['push'](_0x1a938d['shift']());}catch(_0x4f57b2){_0x1a938d['push'](_0x1a938d['shift']());}}}(a3_0x59a7,0xa39a0));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0xbac8f3(0x27f),GRID_H=0x3c,KEY_SESSIONS=a3_0xbac8f3(0x2b1),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0xbac8f3(0x2d2);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xbac8f3(0x216),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x48e55a=a3_0xbac8f3,_0x3c16f3=(function(){let _0x1642e5=!![];return function(_0x3ca3e7,_0x31bb67){const _0xea3f34=_0x1642e5?function(){const _0x3509fd=a3_0x3780;if(_0x31bb67){const _0x40cf9c=_0x31bb67[_0x3509fd(0x226)](_0x3ca3e7,arguments);return _0x31bb67=null,_0x40cf9c;}}:function(){};return _0x1642e5=![],_0xea3f34;};}()),_0x2bc185=_0x3c16f3(this,function(){const _0xe784ea=a3_0x3780;return _0x2bc185[_0xe784ea(0x2c9)]()[_0xe784ea(0x256)]('(((.+)+)+)+$')['toString']()[_0xe784ea(0x2da)](_0x2bc185)[_0xe784ea(0x256)](_0xe784ea(0x24b));});_0x2bc185();try{const _0x3cd7fd=window[_0x48e55a(0x280)]?.[_0x48e55a(0x2d3)];if(!_0x3cd7fd)return;_0x3cd7fd[_0x48e55a(0x2db)](),_0x3cd7fd[_0x48e55a(0x27a)]();try{_0x3cd7fd[_0x48e55a(0x271)](_0x48e55a(0x28b)),_0x3cd7fd['setBackgroundColor']&&_0x3cd7fd['setBackgroundColor'](_0x48e55a(0x28b));}catch(_0x5bd72a){console[_0x48e55a(0x27c)](_0x48e55a(0x257),_0x5bd72a);}try{_0x3cd7fd[_0x48e55a(0x2ad)]&&(_0x3cd7fd[_0x48e55a(0x2ad)][_0x48e55a(0x20c)](),_0x3cd7fd['BackButton'][_0x48e55a(0x28d)](),_0x3cd7fd[_0x48e55a(0x2ad)][_0x48e55a(0x1fc)](function(){const _0x40a102=_0x48e55a;window[_0x40a102(0x223)]['href']='router.html';}));}catch(_0x1e3d10){console[_0x48e55a(0x27c)]('Error\x20setting\x20back\x20button:',_0x1e3d10);}try{if(_0x3cd7fd[_0x48e55a(0x2e9)])_0x3cd7fd[_0x48e55a(0x2e9)]();}catch(_0xb972ca){}}catch(_0x3b773d){console[_0x48e55a(0x24a)](_0x48e55a(0x25e),_0x3b773d);}}());function isAdmin(){const _0x18a2c9=a3_0xbac8f3;try{const _0x283f3a=Number(window[_0x18a2c9(0x280)]?.[_0x18a2c9(0x2d3)]?.[_0x18a2c9(0x2a2)]?.['user']?.['id']);return _0x283f3a===0xbaf7174;}catch(_0x573345){return![];}}function a3_0x3780(_0x23e757,_0x1bd133){_0x23e757=_0x23e757-0x1ef;const _0x4801dc=a3_0x59a7();let _0x307e2a=_0x4801dc[_0x23e757];return _0x307e2a;}const DataManager={'saveLocally'(){const _0x2b764a=a3_0xbac8f3;try{localStorage[_0x2b764a(0x278)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x2b764a(0x278)](KEY_CLIENTS,JSON[_0x2b764a(0x22e)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x2b764a(0x22e)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3d5365){}},'loadLocal'(){const _0x27c95e=a3_0xbac8f3;try{const _0x50122a=localStorage[_0x27c95e(0x2b2)](KEY_SESSIONS);if(_0x50122a)sessions=JSON[_0x27c95e(0x209)](_0x50122a);const _0x2365d0=localStorage[_0x27c95e(0x2b2)](KEY_CLIENTS);if(_0x2365d0)clients=JSON[_0x27c95e(0x209)](_0x2365d0);const _0x3e8a76=localStorage[_0x27c95e(0x2b2)](KEY_SETTINGS);if(_0x3e8a76){const _0x31ed25=JSON[_0x27c95e(0x209)](_0x3e8a76);if(_0x31ed25[_0x27c95e(0x23e)])availabilityPattern=_0x31ed25[_0x27c95e(0x23e)];if(_0x31ed25[_0x27c95e(0x224)])specialRanges=_0x31ed25[_0x27c95e(0x224)];if(_0x31ed25[_0x27c95e(0x260)])dateExceptions=_0x31ed25[_0x27c95e(0x260)];}}catch(_0x159c1d){}},async 'syncLoad'(){const _0x12063c=a3_0xbac8f3,_0x1245ed=new Date(),_0x3b3068=_0x1245ed['getFullYear']()+'-'+String(_0x1245ed['getMonth']()+0x1)['padStart'](0x2,'0'),_0x466cf7=new Date(_0x1245ed);_0x466cf7[_0x12063c(0x2c4)](_0x1245ed[_0x12063c(0x253)]()+0x1);const _0x2f1e2b=_0x466cf7[_0x12063c(0x243)]()+'-'+String(_0x466cf7[_0x12063c(0x253)]()+0x1)[_0x12063c(0x29c)](0x2,'0'),_0x239094=Date[_0x12063c(0x2df)]();try{const _0x481551=window[_0x12063c(0x280)]?.[_0x12063c(0x2d3)],_0x4e4a21=_0x481551?.[_0x12063c(0x1fe)]||'',[_0x50905d,_0x144a00]=await Promise[_0x12063c(0x2a5)]([fetch(API_URL,{'method':_0x12063c(0x26f),'body':JSON[_0x12063c(0x22e)]({'action':'client_load','init_data':_0x4e4a21,'month_str':_0x3b3068})})[_0x12063c(0x2c2)](_0x26f039=>_0x26f039[_0x12063c(0x2ce)]()),fetch(API_URL,{'method':_0x12063c(0x26f),'body':JSON[_0x12063c(0x22e)]({'action':_0x12063c(0x208),'init_data':_0x4e4a21,'month_str':_0x2f1e2b})})[_0x12063c(0x2c2)](_0x27dfc1=>_0x27dfc1['json']())]);if(lastUserActionTime>_0x239094){console['log'](_0x12063c(0x1f8));return;}if(_0x50905d['ok'])this[_0x12063c(0x287)](_0x50905d[_0x12063c(0x2c3)],_0x3b3068);if(_0x144a00['ok'])this[_0x12063c(0x287)](_0x144a00[_0x12063c(0x2c3)],_0x2f1e2b);this[_0x12063c(0x268)]();}catch(_0x1e3113){}},'applyData'(_0x474aae,_0x45a9a3){const _0x26ecc1=a3_0xbac8f3;if(!_0x474aae)return;if(_0x474aae[_0x26ecc1(0x2d0)]){if(_0x474aae[_0x26ecc1(0x2d0)][_0x26ecc1(0x23e)])availabilityPattern=_0x474aae[_0x26ecc1(0x2d0)]['pattern'];if(_0x474aae[_0x26ecc1(0x2d0)]['ranges'])specialRanges=_0x474aae['settings'][_0x26ecc1(0x224)];if(_0x474aae[_0x26ecc1(0x2d0)][_0x26ecc1(0x260)])dateExceptions=_0x474aae['settings'][_0x26ecc1(0x260)];}if(_0x474aae['clients']&&Array[_0x26ecc1(0x281)](_0x474aae[_0x26ecc1(0x23d)]))clients=_0x474aae['clients'];_0x474aae[_0x26ecc1(0x211)]&&(coachProfiles={...coachProfiles,..._0x474aae[_0x26ecc1(0x211)]}),_0x474aae['calendar']&&(sessions=sessions['filter'](_0x2c7702=>!_0x2c7702[_0x26ecc1(0x2e1)]['startsWith'](_0x45a9a3)),Object[_0x26ecc1(0x26a)](_0x474aae[_0x26ecc1(0x2a3)])[_0x26ecc1(0x285)](_0x5ad99d=>{const _0x328a92=_0x26ecc1,_0x30f190=_0x474aae[_0x328a92(0x2a3)][_0x5ad99d];_0x30f190[_0x328a92(0x285)](_0xf269a6=>{const _0x213f06=_0x328a92;sessions[_0x213f06(0x205)]({'id':_0xf269a6['i'],'clientId':_0xf269a6['c'],'coachId':_0xf269a6[_0x213f06(0x2a1)],'dateStr':_0x45a9a3+'-'+_0x5ad99d[_0x213f06(0x29c)](0x2,'0'),'start':_0xf269a6['s'],'end':_0xf269a6['e'],'note':_0xf269a6['n']||'','status':_0xf269a6['st']||'planned','seriesId':_0xf269a6['sid']});});})),reRenderBlocks();}};function init(){const _0x441556=a3_0xbac8f3;DataManager[_0x441556(0x20f)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x441556(0x2c0)](_0x441556(0x265))['addEventListener'](_0x441556(0x2ae),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x441556(0x290)]();}function renderTimeColumn(){const _0x1a45a7=a3_0xbac8f3,_0x1d0ce4=document['getElementById']('timeColumn'),_0x2bb157=document[_0x1a45a7(0x2c0)]('timeLineBadge');_0x1d0ce4['innerHTML']='',_0x1d0ce4['appendChild'](_0x2bb157);for(let _0x2d21cc=0x0;_0x2d21cc<0x18;_0x2d21cc++){const _0x3737bc=document[_0x1a45a7(0x1f5)](_0x1a45a7(0x26c));_0x3737bc['className']=_0x1a45a7(0x286);if(_0x2d21cc>0x0)_0x3737bc[_0x1a45a7(0x242)]=_0x1a45a7(0x239)+String(_0x2d21cc)[_0x1a45a7(0x29c)](0x2,'0')+_0x1a45a7(0x236);_0x1d0ce4[_0x1a45a7(0x22a)](_0x3737bc);}}function renderDayRange(_0x29fa90,_0x47133d){const _0x44cc07=a3_0xbac8f3,_0x124a90=document[_0x44cc07(0x2c0)](_0x44cc07(0x2d8)),_0x5515e1=document[_0x44cc07(0x2c0)](_0x44cc07(0x2e7)),_0x3062f9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52048e=new Date();_0x52048e[_0x44cc07(0x269)](0x0,0x0,0x0,0x0);const _0x4541db=getLocalDateStr(new Date());for(let _0x3c4ba1=_0x29fa90;_0x3c4ba1<=_0x47133d;_0x3c4ba1++){const _0x614a69=new Date(_0x52048e);_0x614a69[_0x44cc07(0x1ef)](_0x614a69[_0x44cc07(0x258)]()+_0x3c4ba1);const _0x99a1c6=getLocalDateStr(_0x614a69);let _0x14c17f=_0x614a69[_0x44cc07(0x2d7)]()-0x1;if(_0x14c17f===-0x1)_0x14c17f=0x6;const _0x51dc89=_0x99a1c6===_0x4541db,_0x2e142e=document[_0x44cc07(0x1f5)]('div');_0x2e142e[_0x44cc07(0x2bb)]=_0x44cc07(0x2b5)+(_0x51dc89?_0x44cc07(0x21d):''),_0x2e142e[_0x44cc07(0x272)](_0x44cc07(0x25b),_0x99a1c6),_0x2e142e[_0x44cc07(0x242)]=_0x44cc07(0x2d9)+_0x3062f9[_0x14c17f]+_0x44cc07(0x2a8)+_0x614a69['getDate']()+_0x44cc07(0x21c),_0x124a90[_0x44cc07(0x22a)](_0x2e142e);const _0x1499fc=document[_0x44cc07(0x1f5)](_0x44cc07(0x26c));_0x1499fc['className']=_0x44cc07(0x21a)+(_0x51dc89?'today':''),_0x1499fc['setAttribute'](_0x44cc07(0x25b),_0x99a1c6),_0x1499fc[_0x44cc07(0x272)](_0x44cc07(0x279),_0x14c17f),_0x5515e1[_0x44cc07(0x22a)](_0x1499fc);}}function reRenderBlocks(){const _0x2370a9=a3_0xbac8f3;document[_0x2370a9(0x233)]('.day-column')[_0x2370a9(0x285)](_0x153186=>{const _0x44dce0=_0x2370a9;_0x153186[_0x44dce0(0x233)](_0x44dce0(0x23b))[_0x44dce0(0x285)](_0x334e37=>_0x334e37[_0x44dce0(0x1fd)]());const _0x2d9754=_0x153186[_0x44dce0(0x215)]('data-date'),_0x354132=parseInt(_0x153186[_0x44dce0(0x215)]('data-day-idx')),_0x106768=Math[_0x44dce0(0x2e3)](_0x153186[_0x44dce0(0x22d)]);(availabilityPattern[_0x354132]||[])[_0x44dce0(0x285)](_0x3dcaf2=>{const _0x1529c5=_0x44dce0,_0x5567f2=document[_0x1529c5(0x1f5)](_0x1529c5(0x26c));_0x5567f2[_0x1529c5(0x2bb)]=_0x1529c5(0x2e8),_0x5567f2[_0x1529c5(0x2b7)][_0x1529c5(0x29f)]=_0x3dcaf2*GRID_H+'px',_0x5567f2['style'][_0x1529c5(0x2d6)]='-'+_0x106768+'px\x20-'+_0x3dcaf2*GRID_H+'px',_0x153186[_0x1529c5(0x22a)](_0x5567f2);});if(specialRanges[_0x44dce0(0x294)]>0x0){const _0x33f3d2=new Date(_0x2d9754+_0x44dce0(0x1f4))[_0x44dce0(0x24d)](),_0x20796b=new Date(_0x2d9754+_0x44dce0(0x232))['getTime']();specialRanges[_0x44dce0(0x285)](_0x27c43a=>{const _0x29ce56=_0x44dce0,_0x5dde38=new Date(_0x27c43a[_0x29ce56(0x292)])[_0x29ce56(0x24d)](),_0x3ec0da=new Date(_0x27c43a['end'])[_0x29ce56(0x24d)](),_0x4e8e76=Math[_0x29ce56(0x289)](_0x33f3d2,_0x5dde38),_0x3d9c0a=Math['min'](_0x20796b,_0x3ec0da);if(_0x4e8e76<_0x3d9c0a){const _0x5a4339=(_0x4e8e76-_0x33f3d2)/0x36ee80*GRID_H,_0x9dd534=(_0x3d9c0a-_0x4e8e76)/0x36ee80*GRID_H,_0x2cb501=document[_0x29ce56(0x1f5)](_0x29ce56(0x26c));_0x9dd534>=23.5*GRID_H?(_0x2cb501['className']=_0x29ce56(0x270),_0x2cb501['style'][_0x29ce56(0x2d6)]='-'+_0x106768+_0x29ce56(0x204)):(_0x2cb501['className']=_0x29ce56(0x214),_0x2cb501[_0x29ce56(0x2b7)][_0x29ce56(0x29f)]=_0x5a4339+'px',_0x2cb501[_0x29ce56(0x2b7)][_0x29ce56(0x1fa)]=_0x9dd534+'px',_0x2cb501[_0x29ce56(0x2b7)][_0x29ce56(0x2d6)]='-'+_0x106768+_0x29ce56(0x2c8)+_0x5a4339+'px'),_0x153186[_0x29ce56(0x22a)](_0x2cb501);}});}renderEventsForColumn(_0x153186,_0x2d9754);});}function renderEventsForColumn(_0x2ae5a1,_0x4a408e){const _0x556eea=a3_0xbac8f3,_0x1bee2e=sessions['filter'](_0x401d1e=>_0x401d1e[_0x556eea(0x2e1)]===_0x4a408e),_0x2bcbca=_0x1bee2e['map'](_0x30f690=>{const _0x5f413d=_0x556eea,[_0x5f5658,_0x2f38f0]=_0x30f690['start'][_0x5f413d(0x212)](':')[_0x5f413d(0x2c5)](Number),[_0x3575bb,_0x563c20]=_0x30f690['end'][_0x5f413d(0x212)](':')[_0x5f413d(0x2c5)](Number);return{'data':_0x30f690,'start':_0x5f5658*0x3c+_0x2f38f0,'end':_0x3575bb*0x3c+_0x563c20,'colIndex':0x0};});_0x2bcbca[_0x556eea(0x2b6)]((_0x34cd72,_0x431657)=>_0x34cd72[_0x556eea(0x292)]-_0x431657[_0x556eea(0x292)]||_0x431657[_0x556eea(0x251)]-_0x431657[_0x556eea(0x292)]-(_0x34cd72[_0x556eea(0x251)]-_0x34cd72[_0x556eea(0x292)]));const _0x5b9fc0=[];_0x2bcbca[_0x556eea(0x285)](_0x1941fb=>{const _0x2fba48=_0x556eea;let _0x2e929b=![];for(let _0x5b5bd1=0x0;_0x5b5bd1<_0x5b9fc0[_0x2fba48(0x294)];_0x5b5bd1++){const _0x54da33=_0x5b9fc0[_0x5b5bd1];if(_0x1941fb[_0x2fba48(0x292)]>=_0x54da33[_0x54da33[_0x2fba48(0x294)]-0x1][_0x2fba48(0x251)]){_0x54da33['push'](_0x1941fb),_0x1941fb[_0x2fba48(0x2ab)]=_0x5b5bd1,_0x2e929b=!![];break;}}!_0x2e929b&&(_0x5b9fc0[_0x2fba48(0x205)]([_0x1941fb]),_0x1941fb['colIndex']=_0x5b9fc0[_0x2fba48(0x294)]-0x1);}),_0x2bcbca[_0x556eea(0x285)](_0x42ef88=>{const _0x32b07d=_0x556eea;let _0x42d3d0=0x0;_0x2bcbca['forEach'](_0x4e2703=>{const _0x27d078=a3_0x3780;if(Math[_0x27d078(0x289)](_0x42ef88[_0x27d078(0x292)],_0x4e2703[_0x27d078(0x292)])<Math[_0x27d078(0x266)](_0x42ef88['end'],_0x4e2703[_0x27d078(0x251)])&&_0x4e2703[_0x27d078(0x2ab)]>_0x42d3d0)_0x42d3d0=_0x4e2703[_0x27d078(0x2ab)];});const _0x4baf92=_0x42d3d0+0x1,_0x57e434=0x64/_0x4baf92,_0x192b3a=_0x42ef88[_0x32b07d(0x2ab)]*_0x57e434,_0x3520e8=document[_0x32b07d(0x1f5)](_0x32b07d(0x26c)),_0x301a7e=_0x42ef88[_0x32b07d(0x2c3)];let _0x4bc61a=_0x32b07d(0x207);if(clients&&clients[_0x32b07d(0x294)]>0x0){const _0x34824a=clients[_0x32b07d(0x2ac)](_0x31f22f=>String(_0x31f22f['id'])===String(_0x301a7e[_0x32b07d(0x228)]));if(_0x34824a&&_0x34824a[_0x32b07d(0x2de)])_0x4bc61a=_0x34824a['color'];}const _0x28f5ed=_0x301a7e[_0x32b07d(0x2bc)]===_0x32b07d(0x298),_0x5b7a6f=_0x28f5ed?0x1:0.45;_0x3520e8[_0x32b07d(0x2bb)]=_0x32b07d(0x288)+(_0x28f5ed?_0x32b07d(0x1f3):''),_0x3520e8[_0x32b07d(0x2b7)][_0x32b07d(0x231)]=hexToRgba(_0x4bc61a,_0x5b7a6f),_0x3520e8[_0x32b07d(0x2b7)][_0x32b07d(0x2d1)]=_0x4bc61a;const _0x598919=_0x42ef88['start']/0x3c*GRID_H,_0xc46a1f=(_0x42ef88[_0x32b07d(0x251)]-_0x42ef88[_0x32b07d(0x292)])/0x3c*GRID_H;_0x3520e8['style'][_0x32b07d(0x29f)]=_0x598919+'px',_0x3520e8[_0x32b07d(0x2b7)][_0x32b07d(0x1fa)]=Math[_0x32b07d(0x289)](_0xc46a1f,0x14)+'px',_0x3520e8[_0x32b07d(0x2b7)][_0x32b07d(0x274)]=_0x32b07d(0x28e)+_0x57e434+_0x32b07d(0x1f7),_0x3520e8[_0x32b07d(0x2b7)][_0x32b07d(0x2e0)]=_0x32b07d(0x28e)+_0x192b3a+_0x32b07d(0x234),_0x3520e8['style'][_0x32b07d(0x229)]=0xa+_0x42ef88[_0x32b07d(0x2ab)];if(_0x57e434<0x55)_0x3520e8['classList'][_0x32b07d(0x29a)]('mini');let _0x560fd6='';if(_0x301a7e[_0x32b07d(0x25c)])_0x560fd6+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x28f5ed)_0x560fd6+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x3520e8['innerHTML']=_0x32b07d(0x2cd)+_0x301a7e['start']+_0x32b07d(0x241)+_0x301a7e['end']+_0x32b07d(0x2ba)+_0x560fd6+_0x32b07d(0x23c),_0x3520e8[_0x32b07d(0x201)]=_0x4ea084=>{const _0x37c176=_0x32b07d;_0x4ea084[_0x37c176(0x2e6)](),openDetails(_0x301a7e);},_0x2ae5a1['appendChild'](_0x3520e8);});}function openAnalytics(){const _0x1c3318=a3_0xbac8f3,_0x2b2ac5=document[_0x1c3318(0x27e)](_0x1c3318(0x29d));setAnalyticsPeriod('week',_0x2b2ac5),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x553618,_0x51692e){const _0x374fe3=a3_0xbac8f3;currentAnPeriod=_0x553618,document['querySelectorAll'](_0x374fe3(0x29d))[_0x374fe3(0x285)](_0xf396ac=>_0xf396ac[_0x374fe3(0x1f9)][_0x374fe3(0x1fd)](_0x374fe3(0x2e4)));if(_0x51692e)_0x51692e['classList'][_0x374fe3(0x29a)](_0x374fe3(0x2e4));const _0xf217dd=document[_0x374fe3(0x2c0)](_0x374fe3(0x225));_0xf217dd['style'][_0x374fe3(0x264)]=_0x553618===_0x374fe3(0x2cb)?_0x374fe3(0x1f2):_0x374fe3(0x247);const _0x138e00=new Date();let _0x971ef6=new Date(),_0x16646b=new Date();if(_0x553618===_0x374fe3(0x216))_0x971ef6=getStartOfWeek(_0x138e00),_0x16646b=new Date(_0x971ef6),_0x16646b[_0x374fe3(0x1ef)](_0x16646b[_0x374fe3(0x258)]()+0x6);else{if(_0x553618===_0x374fe3(0x2dd))_0x971ef6=new Date(_0x138e00[_0x374fe3(0x243)](),_0x138e00[_0x374fe3(0x253)](),0x1),_0x16646b=new Date(_0x138e00[_0x374fe3(0x243)](),_0x138e00[_0x374fe3(0x253)]()+0x1,0x0);else{!document[_0x374fe3(0x2c0)](_0x374fe3(0x2c6))[_0x374fe3(0x297)]&&(document[_0x374fe3(0x2c0)](_0x374fe3(0x2c6))[_0x374fe3(0x297)]=getLocalDateStr(_0x138e00),document[_0x374fe3(0x2c0)](_0x374fe3(0x26b))['value']=getLocalDateStr(_0x138e00));refreshAnalytics();return;}}document[_0x374fe3(0x2c0)]('anStart')[_0x374fe3(0x297)]=getLocalDateStr(_0x971ef6),document['getElementById']('anEnd')[_0x374fe3(0x297)]=getLocalDateStr(_0x16646b),refreshAnalytics();}function refreshAnalytics(){const _0x36a95f=a3_0xbac8f3,_0x1ecb99=document[_0x36a95f(0x2c0)](_0x36a95f(0x2c6))['value'],_0x5b278c=document[_0x36a95f(0x2c0)]('anEnd')[_0x36a95f(0x297)];if(!_0x1ecb99||!_0x5b278c)return;const _0x538cf1=sessions[_0x36a95f(0x2a7)](_0x1fb572=>_0x1fb572[_0x36a95f(0x2e1)]>=_0x1ecb99&&_0x1fb572[_0x36a95f(0x2e1)]<=_0x5b278c&&_0x1fb572[_0x36a95f(0x2bc)]!==_0x36a95f(0x1f6)),_0x257c35=_0x538cf1['length'],_0xfa280f=_0x538cf1[_0x36a95f(0x2a7)](_0x5039f9=>_0x5039f9['status']===_0x36a95f(0x298))['length'],_0xf9ecf=_0x257c35>0x0?Math[_0x36a95f(0x2e3)](_0xfa280f/_0x257c35*0x64):0x0;document['getElementById'](_0x36a95f(0x22c))[_0x36a95f(0x1fb)]=_0xf9ecf+'%',document['getElementById'](_0x36a95f(0x2b4))[_0x36a95f(0x1fb)]=_0xfa280f+_0x36a95f(0x2b9)+_0x257c35+_0x36a95f(0x2d5);const _0x4ae81c=document[_0x36a95f(0x2c0)](_0x36a95f(0x245)),_0x641d9=0x2*Math['PI']*0x23,_0x4ac39c=_0x641d9-_0xf9ecf/0x64*_0x641d9;_0x4ae81c[_0x36a95f(0x2b7)]['strokeDashoffset']=_0x4ac39c;const _0x24e8f1={};_0x538cf1[_0x36a95f(0x285)](_0x576bb3=>{const _0x5ec33f=_0x36a95f,_0x139656=_0x576bb3[_0x5ec33f(0x2ca)]||_0x5ec33f(0x267);if(!_0x24e8f1[_0x139656]){const _0x40d41c='#'+_0x139656[_0x5ec33f(0x2c9)]()[_0x5ec33f(0x277)](0x0,0x6);_0x24e8f1[_0x139656]={'total':0x0,'done':0x0,'color':_0x40d41c};}_0x24e8f1[_0x139656][_0x5ec33f(0x202)]++;if(_0x576bb3[_0x5ec33f(0x2bc)]==='completed')_0x24e8f1[_0x139656][_0x5ec33f(0x246)]++;});const _0x2d5688=document[_0x36a95f(0x2c0)](_0x36a95f(0x20d));_0x2d5688[_0x36a95f(0x242)]='';const _0x3d119b=Object[_0x36a95f(0x284)](_0x24e8f1)[_0x36a95f(0x2b6)]((_0xc49209,_0x1cdc54)=>_0x1cdc54[0x1][_0x36a95f(0x202)]-_0xc49209[0x1][_0x36a95f(0x202)]);if(_0x3d119b[_0x36a95f(0x294)]===0x0){_0x2d5688['innerHTML']=_0x36a95f(0x25d);return;}_0x3d119b[_0x36a95f(0x285)](([_0x2dbbcc,_0x3fdee0])=>{const _0x4c5b37=_0x36a95f,_0x118572=Math['round'](_0x3fdee0['done']/_0x3fdee0[_0x4c5b37(0x202)]*0x64),_0x3d7238=document[_0x4c5b37(0x1f5)](_0x4c5b37(0x26c));_0x3d7238[_0x4c5b37(0x2bb)]=_0x4c5b37(0x23f),_0x3d7238[_0x4c5b37(0x2b7)][_0x4c5b37(0x2d1)]=_0x3fdee0['color'],_0x3d7238['innerHTML']=_0x4c5b37(0x24f)+_0x2dbbcc['substr'](0x0,0x5)+_0x4c5b37(0x25a)+_0x3fdee0[_0x4c5b37(0x246)]+_0x4c5b37(0x2d4)+_0x3fdee0[_0x4c5b37(0x202)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x118572+_0x4c5b37(0x1ff),_0x2d5688['appendChild'](_0x3d7238);});}function openDetails(_0x5e2207){const _0x53f323=a3_0xbac8f3;currentSession=_0x5e2207;const _0x27b35e=new Date(_0x5e2207[_0x53f323(0x2e1)]),_0x1acf47=_0x27b35e[_0x53f323(0x1f1)](_0x53f323(0x263),{'weekday':_0x53f323(0x28a),'day':_0x53f323(0x2a9),'month':'long'});document[_0x53f323(0x2c0)](_0x53f323(0x21b))[_0x53f323(0x1fb)]=_0x1acf47['charAt'](0x0)['toUpperCase']()+_0x1acf47[_0x53f323(0x230)](0x1),document['getElementById'](_0x53f323(0x249))['textContent']=_0x5e2207[_0x53f323(0x292)]+_0x53f323(0x241)+_0x5e2207[_0x53f323(0x251)],document[_0x53f323(0x2c0)](_0x53f323(0x252))[_0x53f323(0x1fb)]=_0x5e2207[_0x53f323(0x22f)]||_0x53f323(0x248);const _0x4f1272=document[_0x53f323(0x2c0)](_0x53f323(0x220)),_0x1348d8=document[_0x53f323(0x2c0)](_0x53f323(0x21e)),_0x3f8038=_0x1348d8[_0x53f323(0x27e)](_0x53f323(0x1f0)),_0x51cf86=_0x1348d8['querySelector']('.btn-reschedule'),_0x1ec7f1=document[_0x53f323(0x2c0)](_0x53f323(0x2c1));if(_0x5e2207['status']===_0x53f323(0x298))_0x4f1272['textContent']=_0x53f323(0x2a0),_0x4f1272['style'][_0x53f323(0x2de)]='var(--acc-green)',_0x1348d8[_0x53f323(0x2b7)]['display']=_0x53f323(0x247);else{_0x4f1272['textContent']=_0x53f323(0x244),_0x4f1272[_0x53f323(0x2b7)][_0x53f323(0x2de)]='var(--acc-blue)',_0x1348d8['style'][_0x53f323(0x264)]='block';const _0x849ba=new Date(_0x5e2207[_0x53f323(0x2e1)]+'T'+_0x5e2207['start']),_0x5d3a69=new Date(),_0x507860=(_0x849ba-_0x5d3a69)/(0x3e8*0x3c*0x3c),_0x249361=coachProfiles[_0x5e2207[_0x53f323(0x2ca)]]&&coachProfiles[_0x5e2207['coachId']][_0x53f323(0x20a)]?parseInt(coachProfiles[_0x5e2207[_0x53f323(0x2ca)]]['cancel_window']):0x18;if(_0x249361===0x0||_0x507860>=_0x249361)_0x3f8038['style']['display']=_0x53f323(0x295),_0x51cf86[_0x53f323(0x2b7)][_0x53f323(0x264)]='block',_0x1ec7f1['style'][_0x53f323(0x264)]=_0x53f323(0x247);else{_0x3f8038[_0x53f323(0x2b7)]['display']=_0x53f323(0x247),_0x51cf86['style'][_0x53f323(0x264)]=_0x53f323(0x247),_0x1ec7f1[_0x53f323(0x2b7)][_0x53f323(0x264)]=_0x53f323(0x295);let _0x371ad2=_0x249361===0x0?_0x53f323(0x240):_0x53f323(0x206)+_0x249361+_0x53f323(0x217);_0x1ec7f1[_0x53f323(0x1fb)]=_0x53f323(0x2cc)+_0x371ad2+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x53f323(0x2c0)](_0x53f323(0x291))[_0x53f323(0x1f9)]['add'](_0x53f323(0x2e4)),document[_0x53f323(0x2c0)](_0x53f323(0x237))[_0x53f323(0x1f9)][_0x53f323(0x29a)](_0x53f323(0x218));}function closeAllSheets(){const _0x619a6=a3_0xbac8f3;document[_0x619a6(0x2c0)](_0x619a6(0x291))['classList'][_0x619a6(0x1fd)](_0x619a6(0x2e4)),document[_0x619a6(0x233)]('.sheet')[_0x619a6(0x285)](_0x40e6f9=>_0x40e6f9[_0x619a6(0x1f9)][_0x619a6(0x1fd)]('open'));}function openSheet(_0x4044f7){const _0x402e9f=a3_0xbac8f3;document[_0x402e9f(0x2c0)]('overlay')[_0x402e9f(0x1f9)][_0x402e9f(0x29a)](_0x402e9f(0x2e4)),document[_0x402e9f(0x2c0)](_0x4044f7)['classList']['add'](_0x402e9f(0x218));}function getLocalDateStr(_0xd9f3d8){const _0x4ecc78=a3_0xbac8f3,_0x26d0fc=_0xd9f3d8['getFullYear'](),_0x115d5c=String(_0xd9f3d8[_0x4ecc78(0x253)]()+0x1)[_0x4ecc78(0x29c)](0x2,'0'),_0x2187ef=String(_0xd9f3d8[_0x4ecc78(0x258)]())[_0x4ecc78(0x29c)](0x2,'0');return _0x26d0fc+'-'+_0x115d5c+'-'+_0x2187ef;}function getStartOfWeek(_0x4648fd){const _0xd82a77=new Date(_0x4648fd),_0x1ed27c=_0xd82a77['getDay'](),_0x291bce=_0xd82a77['getDate']()-_0x1ed27c+(_0x1ed27c===0x0?-0x6:0x1);return _0xd82a77['setDate'](_0x291bce),_0xd82a77['setHours'](0x0,0x0,0x0,0x0),_0xd82a77;}function scrollToToday(){const _0x32705f=getLocalDateStr(new Date());setTimeout(()=>{const _0x1b9966=a3_0x3780,_0x5c4168=document[_0x1b9966(0x27e)]('.day-col-header[data-date=\x22'+_0x32705f+'\x22]');if(_0x5c4168){const _0x2cbe35=document[_0x1b9966(0x2c0)](_0x1b9966(0x265)),_0x559505=_0x5c4168[_0x1b9966(0x22d)]-_0x2cbe35[_0x1b9966(0x261)]/0x2+_0x5c4168['offsetWidth']/0x2;_0x2cbe35[_0x1b9966(0x219)]({'left':_0x559505,'behavior':'auto'}),_0x2cbe35[_0x1b9966(0x2bd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x7987da=a3_0xbac8f3,_0x5ca1ed=new Date(),_0x97fff9=document['getElementById'](_0x7987da(0x210)),_0x4418ba=document['getElementById'](_0x7987da(0x296)),_0xa65a73=(_0x5ca1ed[_0x7987da(0x27d)]()*0x3c+_0x5ca1ed[_0x7987da(0x2cf)]())/0x3c*GRID_H;_0x97fff9[_0x7987da(0x2b7)][_0x7987da(0x29f)]=_0xa65a73+'px',_0x97fff9[_0x7987da(0x2b7)][_0x7987da(0x264)]='block',_0x4418ba[_0x7987da(0x2b7)][_0x7987da(0x29f)]=_0xa65a73+'px',_0x4418ba['style'][_0x7987da(0x264)]='block',_0x4418ba[_0x7987da(0x1fb)]=String(_0x5ca1ed[_0x7987da(0x27d)]())['padStart'](0x2,'0')+':'+String(_0x5ca1ed[_0x7987da(0x2cf)]())[_0x7987da(0x29c)](0x2,'0');}function onScroll(){const _0x66d313=a3_0xbac8f3,_0x342e16=document['getElementById']('matrixViewport'),_0x580403=document[_0x66d313(0x233)](_0x66d313(0x24e));for(let _0x5c4533 of _0x580403)if(_0x5c4533[_0x66d313(0x22d)]>=_0x342e16['scrollLeft']){const _0x581eae=new Date(_0x5c4533[_0x66d313(0x215)](_0x66d313(0x25b)));document[_0x66d313(0x2c0)](_0x66d313(0x293))[_0x66d313(0x1fb)]=_0x581eae[_0x66d313(0x259)]('ru',{'month':_0x66d313(0x28a)})[_0x66d313(0x254)]()+'\x20'+_0x581eae[_0x66d313(0x243)]();break;}}function showToast(_0x2267b2){const _0x622d54=a3_0xbac8f3,_0x249eff=document[_0x622d54(0x2c0)]('toast');_0x249eff[_0x622d54(0x1fb)]=_0x2267b2,_0x249eff[_0x622d54(0x1f9)][_0x622d54(0x29a)](_0x622d54(0x20c)),setTimeout(()=>_0x249eff[_0x622d54(0x1f9)][_0x622d54(0x1fd)](_0x622d54(0x20c)),0x7d0);}function handleInfiniteScroll(){const _0x357e6a=a3_0xbac8f3,_0x156afe=document[_0x357e6a(0x2c0)](_0x357e6a(0x265)),_0x553a32=_0x156afe[_0x357e6a(0x20b)],_0x4f46ab=_0x156afe['scrollWidth'],_0x1b4524=_0x156afe[_0x357e6a(0x261)];if(_0x4f46ab-(_0x553a32+_0x1b4524)<0x12c){const _0x4088fa=endOffset;endOffset+=0xe,renderDayRange(_0x4088fa+0x1,endOffset),reRenderBlocks();}if(_0x553a32<0x12c){const _0x12fec0=startOffset;startOffset-=0xe,prependDays(startOffset,_0x12fec0-0x1),_0x156afe[_0x357e6a(0x20b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9c2cf9,_0x15f414){const _0x47d3e9=a3_0xbac8f3,_0x4b0660=document[_0x47d3e9(0x2c0)](_0x47d3e9(0x2d8)),_0x362375=document[_0x47d3e9(0x2c0)](_0x47d3e9(0x2e7)),_0x16bf91=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ac97f=new Date();_0x1ac97f['setHours'](0x0,0x0,0x0,0x0);const _0x5d4c3a=getLocalDateStr(new Date()),_0x29b6f6=document['createDocumentFragment'](),_0x1d6520=document[_0x47d3e9(0x26e)]();for(let _0x30f9cc=_0x9c2cf9;_0x30f9cc<=_0x15f414;_0x30f9cc++){const _0xb08bdc=new Date(_0x1ac97f);_0xb08bdc[_0x47d3e9(0x1ef)](_0xb08bdc[_0x47d3e9(0x258)]()+_0x30f9cc);const _0x5665b7=getLocalDateStr(_0xb08bdc);let _0x45710c=_0xb08bdc['getDay']()-0x1;if(_0x45710c===-0x1)_0x45710c=0x6;const _0x15bcbd=_0x5665b7===_0x5d4c3a,_0x127a3e=document['createElement'](_0x47d3e9(0x26c));_0x127a3e[_0x47d3e9(0x2bb)]=_0x47d3e9(0x2b5)+(_0x15bcbd?_0x47d3e9(0x21d):''),_0x127a3e[_0x47d3e9(0x272)](_0x47d3e9(0x25b),_0x5665b7),_0x127a3e[_0x47d3e9(0x242)]=_0x47d3e9(0x2d9)+_0x16bf91[_0x45710c]+_0x47d3e9(0x2a8)+_0xb08bdc[_0x47d3e9(0x258)]()+_0x47d3e9(0x21c),_0x29b6f6[_0x47d3e9(0x22a)](_0x127a3e);const _0xc6034b=document['createElement'](_0x47d3e9(0x26c));_0xc6034b['className']=_0x47d3e9(0x21a)+(_0x15bcbd?'today':''),_0xc6034b[_0x47d3e9(0x272)](_0x47d3e9(0x25b),_0x5665b7),_0xc6034b[_0x47d3e9(0x272)](_0x47d3e9(0x279),_0x45710c),_0x1d6520[_0x47d3e9(0x22a)](_0xc6034b);}_0x4b0660[_0x47d3e9(0x299)](_0x29b6f6,_0x4b0660[_0x47d3e9(0x2af)]),_0x362375['insertBefore'](_0x1d6520,_0x362375[_0x47d3e9(0x27e)](_0x47d3e9(0x2aa)));}function a3_0x59a7(){const _0x28eec2=['rs-time-btn','ru-RU','display','matrixViewport','min','Unknown','saveLocally','setHours','keys','anEnd','div','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','createDocumentFragment','POST','day-off-overlay\x20stripe-bg','setHeaderColor','setAttribute','354897BUDZFr','width','client_cancel','–û—Ç–º–µ–Ω–µ–Ω–æ','substr','setItem','data-day-idx','expand','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','log','getHours','querySelector','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Telegram','isArray','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','rsDatesTrack','entries','forEach','time-label','applyData','event-card','max','long','#050505','600','offClick','calc(','<div\x20class=\x22rs-day-name\x22>','syncLoad','overlay','start','headerMonth','length','block','timeLineBadge','value','completed','insertBefore','add','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','padStart','.period-switch\x20.p-btn','join','top','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','cid','initDataUnsafe','calendar','fontWeight','all','button','filter','</div><div\x20class=\x22dch-num\x22>','numeric','.day-column','colIndex','find','BackButton','scroll','firstChild','ccTitle','uc_client_sessions','getItem','ccText','anTotalStats','day-col-header\x20','sort','style','DOMContentLoaded','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','status','scrollTop','floor','78XRhErd','getElementById','cancelHint','then','data','setMonth','map','anStart','164055TMgYuG','px\x20-','toString','coachId','custom','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','json','getMinutes','settings','borderLeftColor','uc_client_list','WebApp','</span>\x20/\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','backgroundPosition','getDay','daysHeaderTrack','<div\x20class=\x22dch-day\x22>','constructor','ready','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','month','color','now','left','dateStr','customConfirm','round','active','findIndex','stopPropagation','gridColumns','blocked-slot\x20stripe-bg','disableVerticalSwipes','setDate','.btn-cancel','toLocaleDateString','flex','\x20status-completed','T00:00:00','createElement','cancelled','%\x20-\x204px)','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','classList','height','textContent','onClick','remove','initData','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','onclick','total','rs-date-chip','px\x200px','push','–∑–∞\x20','#0a84ff','client_load','parse','cancel_window','scrollLeft','show','analyticsList','1783059tgeQku','loadLocal','globalTimeLine','coach_profiles','split','2141825FoJhTP','blocked-range-part\x20stripe-bg','getAttribute','week','\x20—á.','open','scrollTo','day-column\x20','detDate','</div>','today','cancelContainer','.rs-date-chip','detStatus','get_slots','rsSlotsGrid','location','ranges','anCustomDates','apply','ccYesBtn','clientId','zIndex','appendChild','834100JSiNit','anPercent','offsetLeft','stringify','note','slice','backgroundColor','T23:59:59','querySelectorAll','%\x20+\x202px)','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',':00</span>','detailsSheet','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<span>','addEventListener','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clients','pattern','client-stat-card','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20-\x20','innerHTML','getFullYear','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','anDonutCircle','done','none','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','detTime','error','(((.+)+)+)+$','4086596HcFXpJ','getTime','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','test','end','detNote','getMonth','toUpperCase','13077880AyMsdX','search','Error\x20setting\x20color:','getDate','toLocaleString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','data-date','seriesId','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Critical\x20TMA\x20Error:','visible','exceptions','clientWidth'];a3_0x59a7=function(){return _0x28eec2;};return a3_0x59a7();}function hexToRgba(_0x52ecf3,_0x41dfdf){const _0x2cc5dd=a3_0xbac8f3;let _0xa63717;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2cc5dd(0x250)](_0x52ecf3))return _0xa63717=_0x52ecf3[_0x2cc5dd(0x200)](0x1)[_0x2cc5dd(0x212)](''),_0xa63717[_0x2cc5dd(0x294)]==0x3&&(_0xa63717=[_0xa63717[0x0],_0xa63717[0x0],_0xa63717[0x1],_0xa63717[0x1],_0xa63717[0x2],_0xa63717[0x2]]),_0xa63717='0x'+_0xa63717[_0x2cc5dd(0x29e)](''),'rgba('+[_0xa63717>>0x10&0xff,_0xa63717>>0x8&0xff,_0xa63717&0xff][_0x2cc5dd(0x29e)](',')+','+_0x41dfdf+')';return'rgba(10,\x20132,\x20255,\x20'+_0x41dfdf+')';}let confirmResolver=null;function showCustomConfirm(_0x205926,_0x361301,_0x1d3083=!![]){const _0x5b8427=a3_0xbac8f3;document[_0x5b8427(0x2c0)](_0x5b8427(0x2b0))[_0x5b8427(0x1fb)]=_0x205926,document[_0x5b8427(0x2c0)](_0x5b8427(0x2b3))[_0x5b8427(0x1fb)]=_0x361301;const _0x251341=document[_0x5b8427(0x2c0)](_0x5b8427(0x227));return _0x1d3083?(_0x251341[_0x5b8427(0x2b7)][_0x5b8427(0x2de)]='#ff453a',_0x251341[_0x5b8427(0x2b7)]['fontWeight']=_0x5b8427(0x28c)):(_0x251341['style'][_0x5b8427(0x2de)]='#0a84ff',_0x251341[_0x5b8427(0x2b7)][_0x5b8427(0x2a4)]=_0x5b8427(0x28c)),new Promise(_0x129d7f=>{const _0x11bab1=_0x5b8427;confirmResolver=_0x129d7f,document[_0x11bab1(0x2c0)]('customConfirm')[_0x11bab1(0x1f9)]['add'](_0x11bab1(0x25f));});}function resolveCustomConfirm(_0x3e4639){const _0x51cd78=a3_0xbac8f3;document[_0x51cd78(0x2c0)](_0x51cd78(0x2e2))[_0x51cd78(0x1f9)][_0x51cd78(0x1fd)](_0x51cd78(0x25f));if(confirmResolver)confirmResolver(_0x3e4639);}async function tryCancelCurrentSession(){const _0x358336=a3_0xbac8f3;if(!currentSession)return;const _0x1642f8=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x1642f8)return;const _0x2d3ca5=currentSession;closeAllSheets(),sessions=sessions[_0x358336(0x2a7)](_0x11b000=>_0x11b000['id']!==_0x2d3ca5['id']),reRenderBlocks(),showToast(_0x358336(0x276)),lastUserActionTime=Date[_0x358336(0x2df)]();try{const _0x34c8be=window['Telegram']?.['WebApp'],_0x458d30=await fetch(API_URL,{'method':_0x358336(0x26f),'body':JSON['stringify']({'action':_0x358336(0x275),'init_data':_0x34c8be?.['initData']||'','coachId':_0x2d3ca5[_0x358336(0x2ca)],'dateStr':_0x2d3ca5[_0x358336(0x2e1)],'sessionId':_0x2d3ca5['id']})});if(_0x458d30['ok'])DataManager['saveLocally']();}catch(_0x1ae6de){showToast(_0x358336(0x29b));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4b85ec=a3_0xbac8f3;if(!currentSession)return;document[_0x4b85ec(0x2c0)](_0x4b85ec(0x237))[_0x4b85ec(0x1f9)][_0x4b85ec(0x1fd)](_0x4b85ec(0x218)),document['getElementById']('rescheduleSheet')[_0x4b85ec(0x1f9)][_0x4b85ec(0x29a)](_0x4b85ec(0x218));const _0x19eba0=document[_0x4b85ec(0x2c0)]('rsDatesTrack'),_0x2fe0a6=document[_0x4b85ec(0x2c0)]('rsSlotsGrid');_0x19eba0[_0x4b85ec(0x242)]='',_0x2fe0a6[_0x4b85ec(0x242)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x1fdfc3,_0x1195ba]=currentSession['start'][_0x4b85ec(0x212)](':')[_0x4b85ec(0x2c5)](Number),[_0x5a2680,_0x3a1a44]=currentSession['end'][_0x4b85ec(0x212)](':')[_0x4b85ec(0x2c5)](Number),_0x2d858e=_0x5a2680*0x3c+_0x3a1a44-(_0x1fdfc3*0x3c+_0x1195ba);try{const _0x2dec2b=window[_0x4b85ec(0x280)]?.[_0x4b85ec(0x2d3)],_0x55edbf=await fetch(API_URL,{'method':_0x4b85ec(0x26f),'body':JSON[_0x4b85ec(0x22e)]({'action':_0x4b85ec(0x221),'coachId':currentSession[_0x4b85ec(0x2ca)],'duration':_0x2d858e,'init_data':_0x2dec2b?.[_0x4b85ec(0x1fe)]||'','excludeSessionId':currentSession['id']})}),_0x113129=await _0x55edbf[_0x4b85ec(0x2ce)]();_0x113129['ok']&&_0x113129[_0x4b85ec(0x2c3)]?(availableSlotsCache=_0x113129[_0x4b85ec(0x2c3)],renderRescheduleDates()):_0x2fe0a6[_0x4b85ec(0x242)]=_0x4b85ec(0x2dc);}catch(_0x13b782){_0x2fe0a6[_0x4b85ec(0x242)]=_0x4b85ec(0x282);}}function renderRescheduleDates(){const _0x41564e=a3_0xbac8f3,_0x2ea54f=document[_0x41564e(0x2c0)](_0x41564e(0x283));_0x2ea54f[_0x41564e(0x242)]='';const _0x410613=Object['keys'](availableSlotsCache)[_0x41564e(0x2b6)](),_0x2c0e19=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x410613['length']===0x0){document['getElementById']('rsSlotsGrid')[_0x41564e(0x242)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x410613['forEach']((_0x42b54c,_0x5c89b7)=>{const _0x38cb2f=_0x41564e,_0x542738=new Date(_0x42b54c),_0x37ec37=_0x2c0e19[_0x542738[_0x38cb2f(0x2d7)]()],_0x5d9998=_0x542738[_0x38cb2f(0x258)](),_0x11dd6c=document[_0x38cb2f(0x1f5)](_0x38cb2f(0x26c));_0x11dd6c['className']=_0x38cb2f(0x203);if(_0x5c89b7===0x0)_0x11dd6c[_0x38cb2f(0x1f9)][_0x38cb2f(0x29a)](_0x38cb2f(0x2e4));_0x11dd6c['innerHTML']=_0x38cb2f(0x28f)+_0x37ec37+'</div><div\x20class=\x22rs-day-num\x22>'+_0x5d9998+'</div>',_0x11dd6c[_0x38cb2f(0x201)]=()=>selectRsDate(_0x42b54c,_0x11dd6c),_0x2ea54f['appendChild'](_0x11dd6c);}),selectRsDate(_0x410613[0x0],_0x2ea54f[_0x41564e(0x2af)]);}function selectRsDate(_0x47c527,_0x1b9c20){const _0xe08c62=a3_0xbac8f3;selectedRsDate=_0x47c527,document['querySelectorAll'](_0xe08c62(0x21f))['forEach'](_0xbf9d96=>_0xbf9d96[_0xe08c62(0x1f9)][_0xe08c62(0x1fd)](_0xe08c62(0x2e4)));if(_0x1b9c20)_0x1b9c20[_0xe08c62(0x1f9)][_0xe08c62(0x29a)](_0xe08c62(0x2e4));const _0x5e1114=document['getElementById'](_0xe08c62(0x222));_0x5e1114[_0xe08c62(0x242)]='';const _0x4d5dde=availableSlotsCache[_0x47c527]||[];if(_0x4d5dde[_0xe08c62(0x294)]===0x0){_0x5e1114[_0xe08c62(0x242)]=_0xe08c62(0x2dc);return;}_0x4d5dde[_0xe08c62(0x285)](_0xb0d16f=>{const _0xc5c9ae=_0xe08c62,_0x578a2e=document['createElement'](_0xc5c9ae(0x2a6));_0x578a2e[_0xc5c9ae(0x2bb)]=_0xc5c9ae(0x262),_0x578a2e['textContent']=_0xb0d16f,_0x578a2e[_0xc5c9ae(0x201)]=()=>confirmReschedule(_0xb0d16f),_0x5e1114[_0xc5c9ae(0x22a)](_0x578a2e);});}async function confirmReschedule(_0x52248d){const _0x586f4d=a3_0xbac8f3,_0x3551c5=new Date(selectedRsDate),_0x18c8e8=_0x3551c5[_0x586f4d(0x1f1)]('ru-RU',{'day':_0x586f4d(0x2a9),'month':_0x586f4d(0x28a)}),_0x1f424f=await showCustomConfirm(_0x586f4d(0x235),_0x586f4d(0x238)+_0x18c8e8+'\x20–≤\x20'+_0x52248d+'?',![]);if(!_0x1f424f)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x1e9a42=currentSession[_0x586f4d(0x2e1)],_0x42571a=currentSession['id'],[_0xdc1833,_0x5b28e2]=currentSession['start'][_0x586f4d(0x212)](':')[_0x586f4d(0x2c5)](Number),[_0x58885d,_0x3a63b2]=currentSession[_0x586f4d(0x251)]['split'](':')[_0x586f4d(0x2c5)](Number),_0x42a420=_0x58885d*0x3c+_0x3a63b2-(_0xdc1833*0x3c+_0x5b28e2),[_0x95e047,_0x5cc292]=_0x52248d[_0x586f4d(0x212)](':')[_0x586f4d(0x2c5)](Number),_0x538d40=_0x95e047*0x3c+_0x5cc292+_0x42a420,_0x19d5a2=Math[_0x586f4d(0x2be)](_0x538d40/0x3c),_0x4ed611=_0x538d40%0x3c,_0x46b2f0=String(_0x19d5a2)['padStart'](0x2,'0')+':'+String(_0x4ed611)[_0x586f4d(0x29c)](0x2,'0'),_0x3c10ee=sessions[_0x586f4d(0x2e5)](_0x5a2217=>_0x5a2217['id']===_0x42571a);_0x3c10ee!==-0x1&&(sessions[_0x3c10ee][_0x586f4d(0x2e1)]=selectedRsDate,sessions[_0x3c10ee][_0x586f4d(0x292)]=_0x52248d,sessions[_0x3c10ee][_0x586f4d(0x251)]=_0x46b2f0,reRenderBlocks());try{const _0x5ae622=window[_0x586f4d(0x280)]?.[_0x586f4d(0x2d3)],_0x1d7960=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'reschedule','init_data':_0x5ae622?.[_0x586f4d(0x1fe)]||'','oldSessionId':_0x42571a,'oldDate':_0x1e9a42,'newDate':selectedRsDate,'newTime':_0x52248d,'coachId':currentSession[_0x586f4d(0x2ca)]})}),_0xd1d6b7=await _0x1d7960['json']();!_0xd1d6b7['ok']?(showToast(_0x586f4d(0x27b)),DataManager[_0x586f4d(0x290)]()):(showToast(_0x586f4d(0x26d)),DataManager[_0x586f4d(0x268)]());}catch(_0x17ca82){showToast(_0x586f4d(0x29b));}}document[a3_0xbac8f3(0x23a)](a3_0xbac8f3(0x2b8),init);