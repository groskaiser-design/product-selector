const a3_0x149507=a3_0x3cc4;(function(_0x3ae1dc,_0x2aa329){const _0x230da8=a3_0x3cc4,_0x2a7749=_0x3ae1dc();while(!![]){try{const _0x43e519=parseInt(_0x230da8(0x279))/0x1+parseInt(_0x230da8(0x264))/0x2+parseInt(_0x230da8(0x1f8))/0x3+-parseInt(_0x230da8(0x24e))/0x4+-parseInt(_0x230da8(0x1f6))/0x5+-parseInt(_0x230da8(0x242))/0x6*(-parseInt(_0x230da8(0x236))/0x7)+-parseInt(_0x230da8(0x206))/0x8*(parseInt(_0x230da8(0x274))/0x9);if(_0x43e519===_0x2aa329)break;else _0x2a7749['push'](_0x2a7749['shift']());}catch(_0x167d01){_0x2a7749['push'](_0x2a7749['shift']());}}}(a3_0x2e58,0x2f3e5));const APP_VERSION=a3_0x149507(0x1d5),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x149507(0x1e9),KEY_CLIENTS=a3_0x149507(0x25a);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x149507(0x1cd),coachProfiles={},currentSession=null,lastUserActionTime=0x0;function a3_0x2e58(){const _0x893b57=['‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','ru-RU','parse','ranges','style','onClick','anEnd','analyticsList','detDate','add','slice','gridColumns','push','strokeDashoffset','week','completed','loadLocal','#0a84ff','status','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','calendar','stringify','v9.5-CLIENT-ANALYTICS','blocked-slot\x20stripe-bg','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','done','colIndex','</div>','initData','round','then','detStatus','time-label','blocked-range-part\x20stripe-bg','timeColumn','dateStr','%\x20-\x204px)','coach_profiles','(((.+)+)+)+$','offsetLeft','display','uc_client_settings','ccYesBtn','find','long','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','.day-column','all','div','</span>\x20/\x20','backgroundPosition','textContent','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','ready','12205QJBEin','\x20-\x20','1025982ncECGn','setBackgroundColor','exceptions','min','firstChild','client_cancel','WebApp','getDay','data','detNote','active','rgba(','top','startsWith','3878664ypmHoI','querySelectorAll','Critical\x20TMA\x20Error:','planned','daysHeaderTrack','stopPropagation','innerHTML','insertBefore','setItem','button','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','getElementById','split','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','onclick','padStart','anDonutCircle','setDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','filter','querySelector','toUpperCase','end','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','var(--acc-green)','.sheet','matrixViewport','toLocaleDateString','data-day-idx','getMinutes','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','seriesId','show','getMonth','detailsSheet','visible','ccTitle','getDate','width','day-col-header\x20','expand','timeLineBadge','data-date','cancelled','getTime','floor','196kObMpG','offClick','px\x200px','overlay','rs-date-chip','client_load','setHours','height','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','#050505','event-card','start','26436Yznhlr','settings','createElement','substring','%\x20+\x202px)','anStart','Unknown','createDocumentFragment','\x20—á.','left','classList','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','887644JXwQHT','initDataUnsafe','error','</div><div\x20class=\x22rs-day-num\x22>','max','fontWeight','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsDatesTrack','.rs-date-chip','none','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','search','uc_client_list','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','appendChild','today','scrollLeft','note','log','anPercent','600','borderLeftColor','529310qddPmU','cancel_window','offsetWidth','clientWidth','forEach','getHours','findIndex','now','flex','anTotalStats','day-column\x20','coachId','block','rgba(10,\x20132,\x20255,\x20','POST','total','9xjwwRF','sort','getAttribute','value','</div><div\x20class=\x22dch-num\x22>','172677hdwJjf','.btn-cancel','scrollWidth','.period-switch\x20.p-btn','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setAttribute','px\x20-','getFullYear','remove','disableVerticalSwipes','test','json','headerMonth','T23:59:59','length','customConfirm','clients','<div\x20class=\x22dch-day\x22>','globalTimeLine','backgroundColor','router.html','<div\x20class=\x22rs-day-name\x22>','.day-col-header[data-date=\x22','client-stat-card','day-off-overlay\x20stripe-bg','map','analyticsSheet','entries','numeric','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','substr','cancelHint','Error\x20setting\x20color:','open','DOMContentLoaded','addEventListener','.day-col-header','get_slots','scroll','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Error\x20setting\x20back\x20button:','\x20–≤\x20','#ff453a','color','charAt','pattern','toast','applyData','mini','keys','custom','className','saveLocally','toString','anCustomDates','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','BackButton','sid','Telegram','syncLoad','join'];a3_0x2e58=function(){return _0x893b57;};return a3_0x2e58();}(function initTMA(){const _0x54bfd2=a3_0x149507,_0x9fe84d=(function(){let _0x32eb5c=!![];return function(_0x3a5545,_0x13fbd2){const _0x15a3e3=_0x32eb5c?function(){if(_0x13fbd2){const _0x403c5f=_0x13fbd2['apply'](_0x3a5545,arguments);return _0x13fbd2=null,_0x403c5f;}}:function(){};return _0x32eb5c=![],_0x15a3e3;};}()),_0x2131b8=_0x9fe84d(this,function(){const _0x30db2e=a3_0x3cc4;return _0x2131b8[_0x30db2e(0x2ae)]()[_0x30db2e(0x259)]('(((.+)+)+)+$')['toString']()['constructor'](_0x2131b8)[_0x30db2e(0x259)](_0x30db2e(0x1e6));});_0x2131b8();try{const _0x41ab2f=window['Telegram']?.[_0x54bfd2(0x1fe)];if(!_0x41ab2f)return;_0x41ab2f[_0x54bfd2(0x1f5)](),_0x41ab2f[_0x54bfd2(0x230)]();try{_0x41ab2f['setHeaderColor'](_0x54bfd2(0x23f)),_0x41ab2f[_0x54bfd2(0x1f9)]&&_0x41ab2f[_0x54bfd2(0x1f9)](_0x54bfd2(0x23f));}catch(_0x23cc71){console[_0x54bfd2(0x260)](_0x54bfd2(0x299),_0x23cc71);}try{_0x41ab2f[_0x54bfd2(0x2b1)]&&(_0x41ab2f['BackButton'][_0x54bfd2(0x228)](),_0x41ab2f[_0x54bfd2(0x2b1)][_0x54bfd2(0x237)](),_0x41ab2f[_0x54bfd2(0x2b1)][_0x54bfd2(0x2bb)](function(){const _0x1ab7c4=_0x54bfd2;window['location']['href']=_0x1ab7c4(0x28d);}));}catch(_0x37df9a){console[_0x54bfd2(0x260)](_0x54bfd2(0x2a1),_0x37df9a);}try{if(_0x41ab2f[_0x54bfd2(0x282)])_0x41ab2f[_0x54bfd2(0x282)]();}catch(_0x1bcc9e){}}catch(_0x26501b){console[_0x54bfd2(0x250)](_0x54bfd2(0x208),_0x26501b);}}());function isAdmin(){const _0x115a11=a3_0x149507;try{const _0x5cc68f=Number(window[_0x115a11(0x2b3)]?.[_0x115a11(0x1fe)]?.[_0x115a11(0x24f)]?.['user']?.['id']);return _0x5cc68f===0xbaf7174;}catch(_0x1fd039){return![];}}const DataManager={'saveLocally'(){const _0x16f208=a3_0x149507;try{localStorage[_0x16f208(0x20e)](KEY_SESSIONS,JSON[_0x16f208(0x1d4)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x16f208(0x1d4)](clients)),localStorage[_0x16f208(0x20e)](KEY_SETTINGS,JSON[_0x16f208(0x1d4)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4fb3cd){}},'loadLocal'(){const _0x464798=a3_0x149507;try{const _0x546d2d=localStorage['getItem'](KEY_SESSIONS);if(_0x546d2d)sessions=JSON[_0x464798(0x2b8)](_0x546d2d);const _0x4ca8d3=localStorage['getItem'](KEY_CLIENTS);if(_0x4ca8d3)clients=JSON[_0x464798(0x2b8)](_0x4ca8d3);const _0x453f5f=localStorage['getItem'](KEY_SETTINGS);if(_0x453f5f){const _0x1d57e7=JSON['parse'](_0x453f5f);if(_0x1d57e7[_0x464798(0x2a6)])availabilityPattern=_0x1d57e7[_0x464798(0x2a6)];if(_0x1d57e7[_0x464798(0x2b9)])specialRanges=_0x1d57e7[_0x464798(0x2b9)];if(_0x1d57e7[_0x464798(0x1fa)])dateExceptions=_0x1d57e7[_0x464798(0x1fa)];}}catch(_0x4a70cd){}},async 'syncLoad'(){const _0x4f77c7=a3_0x149507,_0xa838ec=new Date(),_0x1cdd5a=_0xa838ec['getFullYear']()+'-'+String(_0xa838ec[_0x4f77c7(0x229)]()+0x1)[_0x4f77c7(0x215)](0x2,'0'),_0x5b2002=new Date(_0xa838ec);_0x5b2002['setMonth'](_0xa838ec[_0x4f77c7(0x229)]()+0x1);const _0x2d541a=_0x5b2002[_0x4f77c7(0x280)]()+'-'+String(_0x5b2002[_0x4f77c7(0x229)]()+0x1)[_0x4f77c7(0x215)](0x2,'0'),_0x2f39ab=Date['now']();try{const _0x2a149f=window['Telegram']?.[_0x4f77c7(0x1fe)],_0x227fe9=_0x2a149f?.[_0x4f77c7(0x1dc)]||'',[_0x3bc357,_0x199e2e]=await Promise[_0x4f77c7(0x1ef)]([fetch(API_URL,{'method':'POST','body':JSON[_0x4f77c7(0x1d4)]({'action':_0x4f77c7(0x23b),'init_data':_0x227fe9,'month_str':_0x1cdd5a})})[_0x4f77c7(0x1de)](_0x28305d=>_0x28305d['json']()),fetch(API_URL,{'method':_0x4f77c7(0x272),'body':JSON['stringify']({'action':_0x4f77c7(0x23b),'init_data':_0x227fe9,'month_str':_0x2d541a})})[_0x4f77c7(0x1de)](_0x45e3d2=>_0x45e3d2[_0x4f77c7(0x284)]())]);if(lastUserActionTime>_0x2f39ab){console[_0x4f77c7(0x260)](_0x4f77c7(0x23e));return;}if(_0x3bc357['ok'])this['applyData'](_0x3bc357['data'],_0x1cdd5a);if(_0x199e2e['ok'])this[_0x4f77c7(0x2a8)](_0x199e2e[_0x4f77c7(0x200)],_0x2d541a);this[_0x4f77c7(0x2ad)]();}catch(_0x65a81f){}},'applyData'(_0xe8f17b,_0x1b7ab3){const _0x224f7c=a3_0x149507;if(!_0xe8f17b)return;if(_0xe8f17b[_0x224f7c(0x243)]){if(_0xe8f17b[_0x224f7c(0x243)][_0x224f7c(0x2a6)])availabilityPattern=_0xe8f17b['settings']['pattern'];if(_0xe8f17b['settings']['ranges'])specialRanges=_0xe8f17b[_0x224f7c(0x243)]['ranges'];if(_0xe8f17b[_0x224f7c(0x243)]['exceptions'])dateExceptions=_0xe8f17b[_0x224f7c(0x243)][_0x224f7c(0x1fa)];}if(_0xe8f17b[_0x224f7c(0x289)]&&Array[_0x224f7c(0x1d7)](_0xe8f17b['clients']))clients=_0xe8f17b[_0x224f7c(0x289)];_0xe8f17b['coach_profiles']&&(coachProfiles={...coachProfiles,..._0xe8f17b[_0x224f7c(0x1e5)]}),_0xe8f17b[_0x224f7c(0x1d3)]&&(sessions=sessions['filter'](_0x5356a9=>!_0x5356a9[_0x224f7c(0x1e3)][_0x224f7c(0x205)](_0x1b7ab3)),Object['keys'](_0xe8f17b[_0x224f7c(0x1d3)])[_0x224f7c(0x268)](_0x5bbf55=>{const _0x405c32=_0x224f7c,_0x407e9b=_0xe8f17b['calendar'][_0x5bbf55];_0x407e9b[_0x405c32(0x268)](_0x59f018=>{const _0x4aa912=_0x405c32;sessions[_0x4aa912(0x1cb)]({'id':_0x59f018['i'],'clientId':_0x59f018['c'],'coachId':_0x59f018['cid'],'dateStr':_0x1b7ab3+'-'+_0x5bbf55['padStart'](0x2,'0'),'start':_0x59f018['s'],'end':_0x59f018['e'],'note':_0x59f018['n']||'','status':_0x59f018['st']||_0x4aa912(0x209),'seriesId':_0x59f018[_0x4aa912(0x2b2)]});});})),reRenderBlocks();}};function init(){const _0x2fb7a0=a3_0x149507;DataManager[_0x2fb7a0(0x1cf)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2fb7a0(0x211)]('matrixViewport')[_0x2fb7a0(0x29c)](_0x2fb7a0(0x29f),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x2e91bd=a3_0x149507,_0x4debad=document[_0x2e91bd(0x211)](_0x2e91bd(0x1e2)),_0x5b6760=document[_0x2e91bd(0x211)](_0x2e91bd(0x231));_0x4debad[_0x2e91bd(0x20c)]='',_0x4debad['appendChild'](_0x5b6760);for(let _0x201957=0x0;_0x201957<0x18;_0x201957++){const _0x1d9b88=document['createElement'](_0x2e91bd(0x1f0));_0x1d9b88[_0x2e91bd(0x2ac)]=_0x2e91bd(0x1e0);if(_0x201957>0x0)_0x1d9b88['innerHTML']='<span>'+String(_0x201957)['padStart'](0x2,'0')+':00</span>';_0x4debad[_0x2e91bd(0x25c)](_0x1d9b88);}}function renderDayRange(_0x2fff48,_0x235310){const _0x3084de=a3_0x149507,_0x460e88=document[_0x3084de(0x211)](_0x3084de(0x20a)),_0x559e3c=document[_0x3084de(0x211)](_0x3084de(0x1ca)),_0x38322f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1236bd=new Date();_0x1236bd[_0x3084de(0x23c)](0x0,0x0,0x0,0x0);const _0x27d915=getLocalDateStr(new Date());for(let _0x5c3b48=_0x2fff48;_0x5c3b48<=_0x235310;_0x5c3b48++){const _0x174d7e=new Date(_0x1236bd);_0x174d7e[_0x3084de(0x217)](_0x174d7e[_0x3084de(0x22d)]()+_0x5c3b48);const _0x48b92b=getLocalDateStr(_0x174d7e);let _0x11a995=_0x174d7e['getDay']()-0x1;if(_0x11a995===-0x1)_0x11a995=0x6;const _0x5f12eb=_0x48b92b===_0x27d915,_0x3cce5b=document['createElement'](_0x3084de(0x1f0));_0x3cce5b[_0x3084de(0x2ac)]=_0x3084de(0x22f)+(_0x5f12eb?_0x3084de(0x25d):''),_0x3cce5b['setAttribute'](_0x3084de(0x232),_0x48b92b),_0x3cce5b['innerHTML']=_0x3084de(0x28a)+_0x38322f[_0x11a995]+_0x3084de(0x278)+_0x174d7e['getDate']()+_0x3084de(0x1db),_0x460e88['appendChild'](_0x3cce5b);const _0x38bc65=document[_0x3084de(0x244)](_0x3084de(0x1f0));_0x38bc65[_0x3084de(0x2ac)]='day-column\x20'+(_0x5f12eb?_0x3084de(0x25d):''),_0x38bc65[_0x3084de(0x27e)](_0x3084de(0x232),_0x48b92b),_0x38bc65['setAttribute'](_0x3084de(0x223),_0x11a995),_0x559e3c[_0x3084de(0x25c)](_0x38bc65);}}function reRenderBlocks(){const _0x1a898d=a3_0x149507;document[_0x1a898d(0x207)]('.day-column')[_0x1a898d(0x268)](_0x13d489=>{const _0x8164bd=_0x1a898d;_0x13d489['querySelectorAll'](_0x8164bd(0x1d2))['forEach'](_0x205c90=>_0x205c90[_0x8164bd(0x281)]());const _0x8b17d4=_0x13d489[_0x8164bd(0x276)](_0x8164bd(0x232)),_0xf80d3=parseInt(_0x13d489[_0x8164bd(0x276)]('data-day-idx')),_0x3f77eb=Math[_0x8164bd(0x1dd)](_0x13d489[_0x8164bd(0x1e7)]);(availabilityPattern[_0xf80d3]||[])[_0x8164bd(0x268)](_0x1e50a7=>{const _0x142b0e=_0x8164bd,_0x29482b=document['createElement'](_0x142b0e(0x1f0));_0x29482b[_0x142b0e(0x2ac)]=_0x142b0e(0x1d6),_0x29482b[_0x142b0e(0x2ba)][_0x142b0e(0x204)]=_0x1e50a7*GRID_H+'px',_0x29482b[_0x142b0e(0x2ba)][_0x142b0e(0x1f2)]='-'+_0x3f77eb+_0x142b0e(0x27f)+_0x1e50a7*GRID_H+'px',_0x13d489[_0x142b0e(0x25c)](_0x29482b);});if(specialRanges['length']>0x0){const _0x403a21=new Date(_0x8b17d4+'T00:00:00')['getTime'](),_0x14e499=new Date(_0x8b17d4+_0x8164bd(0x286))[_0x8164bd(0x234)]();specialRanges[_0x8164bd(0x268)](_0x211b12=>{const _0x21a4d0=_0x8164bd,_0x7b5685=new Date(_0x211b12[_0x21a4d0(0x241)])[_0x21a4d0(0x234)](),_0x4070bd=new Date(_0x211b12['end'])['getTime'](),_0x4dd615=Math[_0x21a4d0(0x252)](_0x403a21,_0x7b5685),_0x1fe3ea=Math[_0x21a4d0(0x1fb)](_0x14e499,_0x4070bd);if(_0x4dd615<_0x1fe3ea){const _0x27497c=(_0x4dd615-_0x403a21)/0x36ee80*GRID_H,_0x2a882a=(_0x1fe3ea-_0x4dd615)/0x36ee80*GRID_H,_0x3511a3=document['createElement'](_0x21a4d0(0x1f0));_0x2a882a>=23.5*GRID_H?(_0x3511a3[_0x21a4d0(0x2ac)]=_0x21a4d0(0x291),_0x3511a3[_0x21a4d0(0x2ba)][_0x21a4d0(0x1f2)]='-'+_0x3f77eb+_0x21a4d0(0x238)):(_0x3511a3[_0x21a4d0(0x2ac)]=_0x21a4d0(0x1e1),_0x3511a3['style'][_0x21a4d0(0x204)]=_0x27497c+'px',_0x3511a3[_0x21a4d0(0x2ba)]['height']=_0x2a882a+'px',_0x3511a3['style'][_0x21a4d0(0x1f2)]='-'+_0x3f77eb+_0x21a4d0(0x27f)+_0x27497c+'px'),_0x13d489[_0x21a4d0(0x25c)](_0x3511a3);}});}renderEventsForColumn(_0x13d489,_0x8b17d4);});}function renderEventsForColumn(_0x20557c,_0x1d9960){const _0x2d24b9=a3_0x149507,_0xf581a=sessions[_0x2d24b9(0x21a)](_0xb85dc4=>_0xb85dc4[_0x2d24b9(0x1e3)]===_0x1d9960),_0x4f7e49=_0xf581a['map'](_0x35023b=>{const _0x5b569c=_0x2d24b9,[_0x2ad106,_0x4dd039]=_0x35023b['start'][_0x5b569c(0x212)](':')[_0x5b569c(0x292)](Number),[_0x6228a6,_0x1ee38a]=_0x35023b['end'][_0x5b569c(0x212)](':')[_0x5b569c(0x292)](Number);return{'data':_0x35023b,'start':_0x2ad106*0x3c+_0x4dd039,'end':_0x6228a6*0x3c+_0x1ee38a,'colIndex':0x0};});_0x4f7e49[_0x2d24b9(0x275)]((_0x8350fe,_0x238aef)=>_0x8350fe[_0x2d24b9(0x241)]-_0x238aef['start']||_0x238aef[_0x2d24b9(0x21d)]-_0x238aef[_0x2d24b9(0x241)]-(_0x8350fe[_0x2d24b9(0x21d)]-_0x8350fe['start']));const _0x2413b0=[];_0x4f7e49[_0x2d24b9(0x268)](_0x14da8f=>{const _0x25d382=_0x2d24b9;let _0x3a7df1=![];for(let _0x437bd1=0x0;_0x437bd1<_0x2413b0[_0x25d382(0x287)];_0x437bd1++){const _0x6e6f1=_0x2413b0[_0x437bd1];if(_0x14da8f[_0x25d382(0x241)]>=_0x6e6f1[_0x6e6f1[_0x25d382(0x287)]-0x1][_0x25d382(0x21d)]){_0x6e6f1[_0x25d382(0x1cb)](_0x14da8f),_0x14da8f['colIndex']=_0x437bd1,_0x3a7df1=!![];break;}}!_0x3a7df1&&(_0x2413b0['push']([_0x14da8f]),_0x14da8f[_0x25d382(0x1da)]=_0x2413b0[_0x25d382(0x287)]-0x1);}),_0x4f7e49[_0x2d24b9(0x268)](_0x326f70=>{const _0x1a856e=_0x2d24b9;let _0x217340=0x0;_0x4f7e49[_0x1a856e(0x268)](_0x355ecc=>{const _0x1a9b3e=_0x1a856e;if(Math['max'](_0x326f70['start'],_0x355ecc[_0x1a9b3e(0x241)])<Math[_0x1a9b3e(0x1fb)](_0x326f70[_0x1a9b3e(0x21d)],_0x355ecc['end'])&&_0x355ecc['colIndex']>_0x217340)_0x217340=_0x355ecc[_0x1a9b3e(0x1da)];});const _0x59fbd8=_0x217340+0x1,_0x34757e=0x64/_0x59fbd8,_0x68de23=_0x326f70[_0x1a856e(0x1da)]*_0x34757e,_0x417aaa=document[_0x1a856e(0x244)](_0x1a856e(0x1f0)),_0x1bac5c=_0x326f70['data'];let _0x38375a=_0x1a856e(0x1d0);if(clients&&clients[_0x1a856e(0x287)]>0x0){const _0x266db5=clients[_0x1a856e(0x1eb)](_0x4218f3=>String(_0x4218f3['id'])===String(_0x1bac5c['clientId']));if(_0x266db5&&_0x266db5['color'])_0x38375a=_0x266db5[_0x1a856e(0x2a4)];}const _0x269fbf=_0x1bac5c['status']===_0x1a856e(0x1ce),_0x149951=_0x269fbf?0x1:0.45;_0x417aaa[_0x1a856e(0x2ac)]=_0x1a856e(0x240)+(_0x269fbf?'\x20status-completed':''),_0x417aaa[_0x1a856e(0x2ba)][_0x1a856e(0x28c)]=hexToRgba(_0x38375a,_0x149951),_0x417aaa[_0x1a856e(0x2ba)][_0x1a856e(0x263)]=_0x38375a;const _0x388c05=_0x326f70[_0x1a856e(0x241)]/0x3c*GRID_H,_0x2650d9=(_0x326f70['end']-_0x326f70[_0x1a856e(0x241)])/0x3c*GRID_H;_0x417aaa[_0x1a856e(0x2ba)]['top']=_0x388c05+'px',_0x417aaa[_0x1a856e(0x2ba)][_0x1a856e(0x23d)]=Math['max'](_0x2650d9,0x14)+'px',_0x417aaa[_0x1a856e(0x2ba)][_0x1a856e(0x22e)]='calc('+_0x34757e+_0x1a856e(0x1e4),_0x417aaa[_0x1a856e(0x2ba)][_0x1a856e(0x24b)]='calc('+_0x68de23+_0x1a856e(0x246),_0x417aaa[_0x1a856e(0x2ba)]['zIndex']=0xa+_0x326f70[_0x1a856e(0x1da)];if(_0x34757e<0x55)_0x417aaa['classList'][_0x1a856e(0x2bf)](_0x1a856e(0x2a9));let _0x59dadf='';if(_0x1bac5c[_0x1a856e(0x227)])_0x59dadf+=_0x1a856e(0x296);if(_0x269fbf)_0x59dadf+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x417aaa[_0x1a856e(0x20c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1bac5c['start']+_0x1a856e(0x1f7)+_0x1bac5c[_0x1a856e(0x21d)]+_0x1a856e(0x254)+_0x59dadf+_0x1a856e(0x226),_0x417aaa[_0x1a856e(0x214)]=_0x2059d2=>{const _0x591256=_0x1a856e;_0x2059d2[_0x591256(0x20b)](),openDetails(_0x1bac5c);},_0x20557c[_0x1a856e(0x25c)](_0x417aaa);});}function openAnalytics(){const _0x36d081=a3_0x149507,_0x1f2cec=document[_0x36d081(0x21b)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x36d081(0x1cd),_0x1f2cec),openSheet(_0x36d081(0x293));}function setAnalyticsPeriod(_0x406a4a,_0x143d85){const _0x4aa0bf=a3_0x149507;currentAnPeriod=_0x406a4a,document[_0x4aa0bf(0x207)](_0x4aa0bf(0x27c))[_0x4aa0bf(0x268)](_0x408366=>_0x408366[_0x4aa0bf(0x24c)][_0x4aa0bf(0x281)](_0x4aa0bf(0x202)));if(_0x143d85)_0x143d85['classList'][_0x4aa0bf(0x2bf)](_0x4aa0bf(0x202));const _0xbeffc0=document['getElementById'](_0x4aa0bf(0x2af));_0xbeffc0[_0x4aa0bf(0x2ba)][_0x4aa0bf(0x1e8)]=_0x406a4a===_0x4aa0bf(0x2ab)?_0x4aa0bf(0x26c):_0x4aa0bf(0x257);const _0x3d2f1d=new Date();let _0x34f3e4=new Date(),_0x53e9d7=new Date();if(_0x406a4a==='week')_0x34f3e4=getStartOfWeek(_0x3d2f1d),_0x53e9d7=new Date(_0x34f3e4),_0x53e9d7[_0x4aa0bf(0x217)](_0x53e9d7[_0x4aa0bf(0x22d)]()+0x6);else{if(_0x406a4a==='month')_0x34f3e4=new Date(_0x3d2f1d['getFullYear'](),_0x3d2f1d['getMonth'](),0x1),_0x53e9d7=new Date(_0x3d2f1d[_0x4aa0bf(0x280)](),_0x3d2f1d[_0x4aa0bf(0x229)]()+0x1,0x0);else{!document['getElementById'](_0x4aa0bf(0x247))[_0x4aa0bf(0x277)]&&(document[_0x4aa0bf(0x211)]('anStart')[_0x4aa0bf(0x277)]=getLocalDateStr(_0x3d2f1d),document[_0x4aa0bf(0x211)](_0x4aa0bf(0x2bc))['value']=getLocalDateStr(_0x3d2f1d));refreshAnalytics();return;}}document[_0x4aa0bf(0x211)]('anStart')[_0x4aa0bf(0x277)]=getLocalDateStr(_0x34f3e4),document[_0x4aa0bf(0x211)](_0x4aa0bf(0x2bc))[_0x4aa0bf(0x277)]=getLocalDateStr(_0x53e9d7),refreshAnalytics();}function refreshAnalytics(){const _0x3eea57=a3_0x149507,_0x13c520=document['getElementById']('anStart')[_0x3eea57(0x277)],_0x560731=document[_0x3eea57(0x211)](_0x3eea57(0x2bc))[_0x3eea57(0x277)];if(!_0x13c520||!_0x560731)return;const _0x29303d=sessions[_0x3eea57(0x21a)](_0x1cd81a=>_0x1cd81a[_0x3eea57(0x1e3)]>=_0x13c520&&_0x1cd81a['dateStr']<=_0x560731&&_0x1cd81a['status']!==_0x3eea57(0x233)),_0xdeccd5=_0x29303d[_0x3eea57(0x287)],_0x951b7=_0x29303d[_0x3eea57(0x21a)](_0x4ede77=>_0x4ede77[_0x3eea57(0x1d1)]===_0x3eea57(0x1ce))[_0x3eea57(0x287)],_0x211846=_0xdeccd5>0x0?Math[_0x3eea57(0x1dd)](_0x951b7/_0xdeccd5*0x64):0x0;document[_0x3eea57(0x211)](_0x3eea57(0x261))['textContent']=_0x211846+'%',document[_0x3eea57(0x211)](_0x3eea57(0x26d))['textContent']=_0x951b7+'\x20–∏–∑\x20'+_0xdeccd5+_0x3eea57(0x2a0);const _0x564c65=document[_0x3eea57(0x211)](_0x3eea57(0x216)),_0x1664e4=0x2*Math['PI']*0x23,_0x4721cf=_0x1664e4-_0x211846/0x64*_0x1664e4;_0x564c65[_0x3eea57(0x2ba)][_0x3eea57(0x1cc)]=_0x4721cf;const _0x2b8e65={};_0x29303d[_0x3eea57(0x268)](_0x490238=>{const _0x3e5338=_0x3eea57,_0x299412=_0x490238[_0x3e5338(0x26f)]||_0x3e5338(0x248);if(!_0x2b8e65[_0x299412]){const _0x50ac46='#'+_0x299412[_0x3e5338(0x2ae)]()[_0x3e5338(0x297)](0x0,0x6);_0x2b8e65[_0x299412]={'total':0x0,'done':0x0,'color':_0x50ac46};}_0x2b8e65[_0x299412][_0x3e5338(0x273)]++;if(_0x490238[_0x3e5338(0x1d1)]===_0x3e5338(0x1ce))_0x2b8e65[_0x299412][_0x3e5338(0x1d9)]++;});const _0x1eb2e4=document[_0x3eea57(0x211)](_0x3eea57(0x2bd));_0x1eb2e4[_0x3eea57(0x20c)]='';const _0x41f01d=Object[_0x3eea57(0x294)](_0x2b8e65)[_0x3eea57(0x275)]((_0x26e3e1,_0xbcfcd7)=>_0xbcfcd7[0x1][_0x3eea57(0x273)]-_0x26e3e1[0x1][_0x3eea57(0x273)]);if(_0x41f01d[_0x3eea57(0x287)]===0x0){_0x1eb2e4['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x41f01d[_0x3eea57(0x268)](([_0x3ef940,_0x2daa3c])=>{const _0x4e16ef=_0x3eea57,_0x33690e=Math['round'](_0x2daa3c['done']/_0x2daa3c[_0x4e16ef(0x273)]*0x64),_0x102444=document['createElement'](_0x4e16ef(0x1f0));_0x102444[_0x4e16ef(0x2ac)]=_0x4e16ef(0x290),_0x102444[_0x4e16ef(0x2ba)]['borderLeftColor']=_0x2daa3c[_0x4e16ef(0x2a4)],_0x102444[_0x4e16ef(0x20c)]=_0x4e16ef(0x1d8)+_0x3ef940[_0x4e16ef(0x297)](0x0,0x5)+_0x4e16ef(0x218)+_0x2daa3c['done']+_0x4e16ef(0x1f1)+_0x2daa3c[_0x4e16ef(0x273)]+_0x4e16ef(0x21e)+_0x33690e+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1eb2e4['appendChild'](_0x102444);});}function openDetails(_0x440e77){const _0x3333ca=a3_0x149507;currentSession=_0x440e77;const _0x381d89=new Date(_0x440e77[_0x3333ca(0x1e3)]),_0x1044ac=_0x381d89['toLocaleDateString'](_0x3333ca(0x2b7),{'weekday':_0x3333ca(0x1ec),'day':_0x3333ca(0x295),'month':_0x3333ca(0x1ec)});document[_0x3333ca(0x211)](_0x3333ca(0x2be))[_0x3333ca(0x1f3)]=_0x1044ac[_0x3333ca(0x2a5)](0x0)[_0x3333ca(0x21c)]()+_0x1044ac[_0x3333ca(0x1c9)](0x1),document[_0x3333ca(0x211)]('detTime')[_0x3333ca(0x1f3)]=_0x440e77[_0x3333ca(0x241)]+'\x20-\x20'+_0x440e77[_0x3333ca(0x21d)],document['getElementById'](_0x3333ca(0x201))[_0x3333ca(0x1f3)]=_0x440e77[_0x3333ca(0x25f)]||_0x3333ca(0x25b);const _0x2a71a6=document[_0x3333ca(0x211)](_0x3333ca(0x1df)),_0x1df105=document[_0x3333ca(0x211)]('cancelContainer'),_0x47aaa6=_0x1df105['querySelector'](_0x3333ca(0x27a)),_0x3729fb=_0x1df105[_0x3333ca(0x21b)]('.btn-reschedule'),_0x1a5bcc=document[_0x3333ca(0x211)](_0x3333ca(0x298));if(_0x440e77[_0x3333ca(0x1d1)]===_0x3333ca(0x1ce))_0x2a71a6[_0x3333ca(0x1f3)]=_0x3333ca(0x2b6),_0x2a71a6[_0x3333ca(0x2ba)]['color']=_0x3333ca(0x21f),_0x1df105[_0x3333ca(0x2ba)][_0x3333ca(0x1e8)]=_0x3333ca(0x257);else{_0x2a71a6[_0x3333ca(0x1f3)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x2a71a6[_0x3333ca(0x2ba)]['color']='var(--acc-blue)',_0x1df105[_0x3333ca(0x2ba)][_0x3333ca(0x1e8)]=_0x3333ca(0x270);const _0x193fe4=new Date(_0x440e77[_0x3333ca(0x1e3)]+'T'+_0x440e77[_0x3333ca(0x241)]),_0x43809d=new Date(),_0x3ccee9=(_0x193fe4-_0x43809d)/(0x3e8*0x3c*0x3c),_0x51cc5d=coachProfiles[_0x440e77[_0x3333ca(0x26f)]]&&coachProfiles[_0x440e77[_0x3333ca(0x26f)]][_0x3333ca(0x265)]?parseInt(coachProfiles[_0x440e77[_0x3333ca(0x26f)]][_0x3333ca(0x265)]):0x18;if(_0x51cc5d===0x0||_0x3ccee9>=_0x51cc5d)_0x47aaa6[_0x3333ca(0x2ba)]['display']=_0x3333ca(0x270),_0x3729fb['style'][_0x3333ca(0x1e8)]=_0x3333ca(0x270),_0x1a5bcc['style']['display']=_0x3333ca(0x257);else{_0x47aaa6[_0x3333ca(0x2ba)][_0x3333ca(0x1e8)]=_0x3333ca(0x257),_0x3729fb['style']['display']=_0x3333ca(0x257),_0x1a5bcc[_0x3333ca(0x2ba)]['display']=_0x3333ca(0x270);let _0x367702=_0x51cc5d===0x0?_0x3333ca(0x213):'–∑–∞\x20'+_0x51cc5d+_0x3333ca(0x24a);_0x1a5bcc['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x367702+_0x3333ca(0x258);}}document[_0x3333ca(0x211)](_0x3333ca(0x239))['classList'][_0x3333ca(0x2bf)](_0x3333ca(0x202)),document[_0x3333ca(0x211)](_0x3333ca(0x22a))[_0x3333ca(0x24c)][_0x3333ca(0x2bf)]('open');}function closeAllSheets(){const _0xa4818d=a3_0x149507;document['getElementById'](_0xa4818d(0x239))[_0xa4818d(0x24c)][_0xa4818d(0x281)]('active'),document['querySelectorAll'](_0xa4818d(0x220))[_0xa4818d(0x268)](_0x1074b9=>_0x1074b9[_0xa4818d(0x24c)][_0xa4818d(0x281)]('open'));}function openSheet(_0x441f2a){const _0x2bf21d=a3_0x149507;document[_0x2bf21d(0x211)]('overlay')[_0x2bf21d(0x24c)][_0x2bf21d(0x2bf)](_0x2bf21d(0x202)),document[_0x2bf21d(0x211)](_0x441f2a)['classList']['add']('open');}function getLocalDateStr(_0x49960f){const _0x291dec=a3_0x149507,_0x297b2e=_0x49960f['getFullYear'](),_0x334145=String(_0x49960f['getMonth']()+0x1)[_0x291dec(0x215)](0x2,'0'),_0x2265be=String(_0x49960f[_0x291dec(0x22d)]())[_0x291dec(0x215)](0x2,'0');return _0x297b2e+'-'+_0x334145+'-'+_0x2265be;}function getStartOfWeek(_0x212812){const _0x506f22=a3_0x149507,_0x5dadae=new Date(_0x212812),_0x5095e1=_0x5dadae[_0x506f22(0x1ff)](),_0x5a44f=_0x5dadae[_0x506f22(0x22d)]()-_0x5095e1+(_0x5095e1===0x0?-0x6:0x1);return _0x5dadae[_0x506f22(0x217)](_0x5a44f),_0x5dadae[_0x506f22(0x23c)](0x0,0x0,0x0,0x0),_0x5dadae;}function scrollToToday(){const _0x3774d6=getLocalDateStr(new Date());setTimeout(()=>{const _0x12b557=a3_0x3cc4,_0x37905c=document[_0x12b557(0x21b)](_0x12b557(0x28f)+_0x3774d6+'\x22]');if(_0x37905c){const _0x9a57ab=document[_0x12b557(0x211)](_0x12b557(0x221)),_0x22aa91=_0x37905c[_0x12b557(0x1e7)]-_0x9a57ab[_0x12b557(0x267)]/0x2+_0x37905c[_0x12b557(0x266)]/0x2;_0x9a57ab['scrollTo']({'left':_0x22aa91,'behavior':'auto'}),_0x9a57ab['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1a586d=a3_0x149507,_0xfae8c0=new Date(),_0x485ce0=document[_0x1a586d(0x211)](_0x1a586d(0x28b)),_0x5e1290=document['getElementById'](_0x1a586d(0x231)),_0x17569d=(_0xfae8c0[_0x1a586d(0x269)]()*0x3c+_0xfae8c0[_0x1a586d(0x224)]())/0x3c*GRID_H;_0x485ce0[_0x1a586d(0x2ba)]['top']=_0x17569d+'px',_0x485ce0[_0x1a586d(0x2ba)]['display']=_0x1a586d(0x270),_0x5e1290[_0x1a586d(0x2ba)][_0x1a586d(0x204)]=_0x17569d+'px',_0x5e1290[_0x1a586d(0x2ba)]['display']=_0x1a586d(0x270),_0x5e1290[_0x1a586d(0x1f3)]=String(_0xfae8c0[_0x1a586d(0x269)]())['padStart'](0x2,'0')+':'+String(_0xfae8c0[_0x1a586d(0x224)]())[_0x1a586d(0x215)](0x2,'0');}function onScroll(){const _0x451f6f=a3_0x149507,_0x4b42bf=document[_0x451f6f(0x211)](_0x451f6f(0x221)),_0x4c7578=document[_0x451f6f(0x207)](_0x451f6f(0x29d));for(let _0x1a3af1 of _0x4c7578)if(_0x1a3af1[_0x451f6f(0x1e7)]>=_0x4b42bf['scrollLeft']){const _0x33def3=new Date(_0x1a3af1['getAttribute']('data-date'));document['getElementById'](_0x451f6f(0x285))[_0x451f6f(0x1f3)]=_0x33def3['toLocaleString']('ru',{'month':_0x451f6f(0x1ec)})[_0x451f6f(0x21c)]()+'\x20'+_0x33def3[_0x451f6f(0x280)]();break;}}function showToast(_0xd510dd){const _0x4fb17e=a3_0x149507,_0x183126=document[_0x4fb17e(0x211)](_0x4fb17e(0x2a7));_0x183126['textContent']=_0xd510dd,_0x183126['classList'][_0x4fb17e(0x2bf)](_0x4fb17e(0x228)),setTimeout(()=>_0x183126['classList'][_0x4fb17e(0x281)](_0x4fb17e(0x228)),0x7d0);}function handleInfiniteScroll(){const _0x3ffad1=a3_0x149507,_0x294733=document['getElementById'](_0x3ffad1(0x221)),_0x2d9ef9=_0x294733[_0x3ffad1(0x25e)],_0x15f617=_0x294733[_0x3ffad1(0x27b)],_0x577a21=_0x294733[_0x3ffad1(0x267)];if(_0x15f617-(_0x2d9ef9+_0x577a21)<0x12c){const _0xf49cff=endOffset;endOffset+=0xe,renderDayRange(_0xf49cff+0x1,endOffset),reRenderBlocks();}if(_0x2d9ef9<0x12c){const _0x1962ce=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1962ce-0x1),_0x294733[_0x3ffad1(0x25e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1252aa,_0x4c6a00){const _0x1e88f9=a3_0x149507,_0x2a581a=document[_0x1e88f9(0x211)]('daysHeaderTrack'),_0x2e9408=document[_0x1e88f9(0x211)](_0x1e88f9(0x1ca)),_0x39305b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x273a64=new Date();_0x273a64['setHours'](0x0,0x0,0x0,0x0);const _0x5512e2=getLocalDateStr(new Date()),_0x3a184b=document[_0x1e88f9(0x249)](),_0x511bd5=document[_0x1e88f9(0x249)]();for(let _0x1bc0d4=_0x1252aa;_0x1bc0d4<=_0x4c6a00;_0x1bc0d4++){const _0x22a057=new Date(_0x273a64);_0x22a057[_0x1e88f9(0x217)](_0x22a057[_0x1e88f9(0x22d)]()+_0x1bc0d4);const _0x34308e=getLocalDateStr(_0x22a057);let _0x3a60dc=_0x22a057[_0x1e88f9(0x1ff)]()-0x1;if(_0x3a60dc===-0x1)_0x3a60dc=0x6;const _0xee60f2=_0x34308e===_0x5512e2,_0x27ada2=document[_0x1e88f9(0x244)]('div');_0x27ada2[_0x1e88f9(0x2ac)]='day-col-header\x20'+(_0xee60f2?_0x1e88f9(0x25d):''),_0x27ada2['setAttribute'](_0x1e88f9(0x232),_0x34308e),_0x27ada2[_0x1e88f9(0x20c)]=_0x1e88f9(0x28a)+_0x39305b[_0x3a60dc]+_0x1e88f9(0x278)+_0x22a057[_0x1e88f9(0x22d)]()+'</div>',_0x3a184b[_0x1e88f9(0x25c)](_0x27ada2);const _0x25626b=document[_0x1e88f9(0x244)](_0x1e88f9(0x1f0));_0x25626b[_0x1e88f9(0x2ac)]=_0x1e88f9(0x26e)+(_0xee60f2?_0x1e88f9(0x25d):''),_0x25626b[_0x1e88f9(0x27e)](_0x1e88f9(0x232),_0x34308e),_0x25626b[_0x1e88f9(0x27e)](_0x1e88f9(0x223),_0x3a60dc),_0x511bd5['appendChild'](_0x25626b);}_0x2a581a[_0x1e88f9(0x20d)](_0x3a184b,_0x2a581a[_0x1e88f9(0x1fc)]),_0x2e9408[_0x1e88f9(0x20d)](_0x511bd5,_0x2e9408[_0x1e88f9(0x21b)](_0x1e88f9(0x1ee)));}function hexToRgba(_0x16b9df,_0x1019aa){const _0x2f49b6=a3_0x149507;let _0x2b10ed;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2f49b6(0x283)](_0x16b9df))return _0x2b10ed=_0x16b9df[_0x2f49b6(0x245)](0x1)[_0x2f49b6(0x212)](''),_0x2b10ed[_0x2f49b6(0x287)]==0x3&&(_0x2b10ed=[_0x2b10ed[0x0],_0x2b10ed[0x0],_0x2b10ed[0x1],_0x2b10ed[0x1],_0x2b10ed[0x2],_0x2b10ed[0x2]]),_0x2b10ed='0x'+_0x2b10ed[_0x2f49b6(0x2b5)](''),_0x2f49b6(0x203)+[_0x2b10ed>>0x10&0xff,_0x2b10ed>>0x8&0xff,_0x2b10ed&0xff][_0x2f49b6(0x2b5)](',')+','+_0x1019aa+')';return _0x2f49b6(0x271)+_0x1019aa+')';}let confirmResolver=null;function showCustomConfirm(_0x564fc0,_0x40f44d,_0x2f2b50=!![]){const _0x28393f=a3_0x149507;document['getElementById'](_0x28393f(0x22c))[_0x28393f(0x1f3)]=_0x564fc0,document['getElementById']('ccText')['textContent']=_0x40f44d;const _0x1d0d00=document[_0x28393f(0x211)](_0x28393f(0x1ea));return _0x2f2b50?(_0x1d0d00[_0x28393f(0x2ba)][_0x28393f(0x2a4)]=_0x28393f(0x2a3),_0x1d0d00[_0x28393f(0x2ba)][_0x28393f(0x253)]='600'):(_0x1d0d00['style'][_0x28393f(0x2a4)]=_0x28393f(0x1d0),_0x1d0d00[_0x28393f(0x2ba)]['fontWeight']=_0x28393f(0x262)),new Promise(_0x311622=>{const _0x3e3718=_0x28393f;confirmResolver=_0x311622,document[_0x3e3718(0x211)](_0x3e3718(0x288))[_0x3e3718(0x24c)][_0x3e3718(0x2bf)](_0x3e3718(0x22b));});}function a3_0x3cc4(_0x22b246,_0x221c53){_0x22b246=_0x22b246-0x1c9;const _0x4d9e91=a3_0x2e58();let _0x4c06de=_0x4d9e91[_0x22b246];return _0x4c06de;}function resolveCustomConfirm(_0x4b9703){const _0xbcaf61=a3_0x149507;document[_0xbcaf61(0x211)](_0xbcaf61(0x288))['classList'][_0xbcaf61(0x281)](_0xbcaf61(0x22b));if(confirmResolver)confirmResolver(_0x4b9703);}async function tryCancelCurrentSession(){const _0x14c44f=a3_0x149507;if(!currentSession)return;const _0x264381=await showCustomConfirm(_0x14c44f(0x225),_0x14c44f(0x2b0),!![]);if(!_0x264381)return;const _0xd50ab5=currentSession;closeAllSheets(),sessions=sessions[_0x14c44f(0x21a)](_0x417e54=>_0x417e54['id']!==_0xd50ab5['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x14c44f(0x26b)]();try{const _0x9092df=window[_0x14c44f(0x2b3)]?.[_0x14c44f(0x1fe)],_0x34e0ac=await fetch(API_URL,{'method':_0x14c44f(0x272),'body':JSON[_0x14c44f(0x1d4)]({'action':_0x14c44f(0x1fd),'init_data':_0x9092df?.[_0x14c44f(0x1dc)]||'','coachId':_0xd50ab5[_0x14c44f(0x26f)],'dateStr':_0xd50ab5[_0x14c44f(0x1e3)],'sessionId':_0xd50ab5['id']})});if(_0x34e0ac['ok'])DataManager[_0x14c44f(0x2ad)]();}catch(_0x164698){showToast(_0x14c44f(0x219));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x39873c=a3_0x149507;if(!currentSession)return;document[_0x39873c(0x211)](_0x39873c(0x22a))[_0x39873c(0x24c)][_0x39873c(0x281)](_0x39873c(0x29a)),document['getElementById']('rescheduleSheet')['classList']['add']('open');const _0x17a61c=document['getElementById'](_0x39873c(0x255)),_0x5a1a52=document[_0x39873c(0x211)]('rsSlotsGrid');_0x17a61c[_0x39873c(0x20c)]='',_0x5a1a52[_0x39873c(0x20c)]=_0x39873c(0x27d);const [_0x2ea38f,_0x2f5230]=currentSession[_0x39873c(0x241)][_0x39873c(0x212)](':')[_0x39873c(0x292)](Number),[_0x4d5756,_0x1b2089]=currentSession[_0x39873c(0x21d)]['split'](':')['map'](Number),_0x3bc4fe=_0x4d5756*0x3c+_0x1b2089-(_0x2ea38f*0x3c+_0x2f5230);try{const _0x1df52b=window[_0x39873c(0x2b3)]?.['WebApp'],_0x70012d=await fetch(API_URL,{'method':_0x39873c(0x272),'body':JSON[_0x39873c(0x1d4)]({'action':_0x39873c(0x29e),'coachId':currentSession[_0x39873c(0x26f)],'duration':_0x3bc4fe,'init_data':_0x1df52b?.[_0x39873c(0x1dc)]||'','excludeSessionId':currentSession['id']})}),_0x1d8204=await _0x70012d[_0x39873c(0x284)]();_0x1d8204['ok']&&_0x1d8204[_0x39873c(0x200)]?(availableSlotsCache=_0x1d8204[_0x39873c(0x200)],renderRescheduleDates()):_0x5a1a52[_0x39873c(0x20c)]=_0x39873c(0x210);}catch(_0x973bac){_0x5a1a52[_0x39873c(0x20c)]=_0x39873c(0x1f4);}}function renderRescheduleDates(){const _0x3a77e8=a3_0x149507,_0x2f14c7=document[_0x3a77e8(0x211)](_0x3a77e8(0x255));_0x2f14c7[_0x3a77e8(0x20c)]='';const _0x3713f8=Object[_0x3a77e8(0x2aa)](availableSlotsCache)['sort'](),_0x22dfc0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3713f8[_0x3a77e8(0x287)]===0x0){document[_0x3a77e8(0x211)]('rsSlotsGrid')[_0x3a77e8(0x20c)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x3713f8[_0x3a77e8(0x268)]((_0xaf6dc7,_0x14b16c)=>{const _0xae3810=_0x3a77e8,_0x204342=new Date(_0xaf6dc7),_0x42e257=_0x22dfc0[_0x204342['getDay']()],_0x29d413=_0x204342['getDate'](),_0x43633e=document['createElement']('div');_0x43633e[_0xae3810(0x2ac)]=_0xae3810(0x23a);if(_0x14b16c===0x0)_0x43633e[_0xae3810(0x24c)]['add']('active');_0x43633e[_0xae3810(0x20c)]=_0xae3810(0x28e)+_0x42e257+_0xae3810(0x251)+_0x29d413+'</div>',_0x43633e[_0xae3810(0x214)]=()=>selectRsDate(_0xaf6dc7,_0x43633e),_0x2f14c7['appendChild'](_0x43633e);}),selectRsDate(_0x3713f8[0x0],_0x2f14c7[_0x3a77e8(0x1fc)]);}function selectRsDate(_0x2a26f0,_0x536118){const _0x2977e7=a3_0x149507;selectedRsDate=_0x2a26f0,document['querySelectorAll'](_0x2977e7(0x256))[_0x2977e7(0x268)](_0x329263=>_0x329263[_0x2977e7(0x24c)][_0x2977e7(0x281)](_0x2977e7(0x202)));if(_0x536118)_0x536118['classList'][_0x2977e7(0x2bf)](_0x2977e7(0x202));const _0x24cb46=document[_0x2977e7(0x211)]('rsSlotsGrid');_0x24cb46[_0x2977e7(0x20c)]='';const _0x38394f=availableSlotsCache[_0x2a26f0]||[];if(_0x38394f['length']===0x0){_0x24cb46[_0x2977e7(0x20c)]=_0x2977e7(0x210);return;}_0x38394f['forEach'](_0x1128df=>{const _0x4ac85f=_0x2977e7,_0x2aa4e6=document[_0x4ac85f(0x244)](_0x4ac85f(0x20f));_0x2aa4e6['className']='rs-time-btn',_0x2aa4e6[_0x4ac85f(0x1f3)]=_0x1128df,_0x2aa4e6[_0x4ac85f(0x214)]=()=>confirmReschedule(_0x1128df),_0x24cb46[_0x4ac85f(0x25c)](_0x2aa4e6);});}async function confirmReschedule(_0x5b659b){const _0x151204=a3_0x149507,_0x40fb2e=new Date(selectedRsDate),_0x113bfe=_0x40fb2e[_0x151204(0x222)]('ru-RU',{'day':'numeric','month':_0x151204(0x1ec)}),_0x4bb5c7=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x113bfe+_0x151204(0x2a2)+_0x5b659b+'?',![]);if(!_0x4bb5c7)return;closeAllSheets(),showToast(_0x151204(0x1ed)),lastUserActionTime=Date['now']();const _0x6db4ee=currentSession[_0x151204(0x1e3)],_0x5117b9=currentSession['id'],[_0x4595e8,_0x571d5b]=currentSession['start'][_0x151204(0x212)](':')[_0x151204(0x292)](Number),[_0x154ead,_0x31522c]=currentSession[_0x151204(0x21d)][_0x151204(0x212)](':')['map'](Number),_0x4665da=_0x154ead*0x3c+_0x31522c-(_0x4595e8*0x3c+_0x571d5b),[_0x3a382f,_0xa74375]=_0x5b659b[_0x151204(0x212)](':')[_0x151204(0x292)](Number),_0x179816=_0x3a382f*0x3c+_0xa74375+_0x4665da,_0x359be6=Math[_0x151204(0x235)](_0x179816/0x3c),_0x328a64=_0x179816%0x3c,_0x2a5716=String(_0x359be6)['padStart'](0x2,'0')+':'+String(_0x328a64)[_0x151204(0x215)](0x2,'0'),_0x9851be=sessions[_0x151204(0x26a)](_0x129d6a=>_0x129d6a['id']===_0x5117b9);_0x9851be!==-0x1&&(sessions[_0x9851be][_0x151204(0x1e3)]=selectedRsDate,sessions[_0x9851be][_0x151204(0x241)]=_0x5b659b,sessions[_0x9851be]['end']=_0x2a5716,reRenderBlocks());try{const _0x31090e=window[_0x151204(0x2b3)]?.[_0x151204(0x1fe)],_0x2299d4=await fetch(API_URL,{'method':_0x151204(0x272),'body':JSON[_0x151204(0x1d4)]({'action':'reschedule','init_data':_0x31090e?.[_0x151204(0x1dc)]||'','oldSessionId':_0x5117b9,'oldDate':_0x6db4ee,'newDate':selectedRsDate,'newTime':_0x5b659b,'coachId':currentSession['coachId']})}),_0x2777a2=await _0x2299d4[_0x151204(0x284)]();!_0x2777a2['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x151204(0x2b4)]()):(showToast(_0x151204(0x24d)),DataManager['saveLocally']());}catch(_0x4598cc){showToast(_0x151204(0x219));}}document['addEventListener'](a3_0x149507(0x29b),init);