const a3_0x426f4d=a3_0x42ae;function a3_0x42ae(_0x183732,_0x2dda2b){_0x183732=_0x183732-0x14d;const _0x6217c6=a3_0x3c70();let _0x8aa038=_0x6217c6[_0x183732];return _0x8aa038;}(function(_0x3c9cfe,_0x356bf5){const _0x51134f=a3_0x42ae,_0x51396f=_0x3c9cfe();while(!![]){try{const _0x482181=-parseInt(_0x51134f(0x234))/0x1+parseInt(_0x51134f(0x1e7))/0x2*(parseInt(_0x51134f(0x1ed))/0x3)+parseInt(_0x51134f(0x220))/0x4*(parseInt(_0x51134f(0x1d7))/0x5)+-parseInt(_0x51134f(0x1db))/0x6*(-parseInt(_0x51134f(0x1da))/0x7)+-parseInt(_0x51134f(0x227))/0x8*(-parseInt(_0x51134f(0x1ce))/0x9)+parseInt(_0x51134f(0x15b))/0xa*(-parseInt(_0x51134f(0x1af))/0xb)+-parseInt(_0x51134f(0x1f9))/0xc;if(_0x482181===_0x356bf5)break;else _0x51396f['push'](_0x51396f['shift']());}catch(_0x5b278c){_0x51396f['push'](_0x51396f['shift']());}}}(a3_0x3c70,0x20ef9));const APP_VERSION=a3_0x426f4d(0x233),API_URL=a3_0x426f4d(0x1d3),GRID_H=0x3c,KEY_SESSIONS=a3_0x426f4d(0x1a0),KEY_SETTINGS=a3_0x426f4d(0x1b1),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x426f4d(0x188),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5c4f9d=a3_0x426f4d,_0x57bcd7=(function(){let _0x41e94e=!![];return function(_0x27dec4,_0x4e4393){const _0x12eff8=_0x41e94e?function(){const _0x57ab83=a3_0x42ae;if(_0x4e4393){const _0x481e21=_0x4e4393[_0x57ab83(0x1fc)](_0x27dec4,arguments);return _0x4e4393=null,_0x481e21;}}:function(){};return _0x41e94e=![],_0x12eff8;};}()),_0x5be3ea=_0x57bcd7(this,function(){const _0x141658=a3_0x42ae;return _0x5be3ea['toString']()[_0x141658(0x1bd)]('(((.+)+)+)+$')[_0x141658(0x1e4)]()['constructor'](_0x5be3ea)[_0x141658(0x1bd)](_0x141658(0x1e9));});_0x5be3ea();try{const _0x324cc3=window[_0x5c4f9d(0x213)]?.[_0x5c4f9d(0x22d)];if(!_0x324cc3)return;_0x324cc3[_0x5c4f9d(0x152)](),_0x324cc3[_0x5c4f9d(0x16f)]();try{_0x324cc3['setHeaderColor'](_0x5c4f9d(0x242)),_0x324cc3[_0x5c4f9d(0x237)]&&_0x324cc3[_0x5c4f9d(0x237)]('#050505');}catch(_0x282fd3){console['log'](_0x5c4f9d(0x21a),_0x282fd3);}try{_0x324cc3[_0x5c4f9d(0x20d)]&&(_0x324cc3[_0x5c4f9d(0x20d)][_0x5c4f9d(0x19f)](),_0x324cc3[_0x5c4f9d(0x20d)]['offClick'](),_0x324cc3['BackButton'][_0x5c4f9d(0x168)](function(){const _0x4e520d=_0x5c4f9d;window[_0x4e520d(0x156)][_0x4e520d(0x1c8)]='router.html';}));}catch(_0x2adfc2){console[_0x5c4f9d(0x21b)]('Error\x20setting\x20back\x20button:',_0x2adfc2);}try{if(_0x324cc3['disableVerticalSwipes'])_0x324cc3[_0x5c4f9d(0x181)]();}catch(_0x41fcda){}}catch(_0x519c30){console[_0x5c4f9d(0x21c)]('Critical\x20TMA\x20Error:',_0x519c30);}}());function isAdmin(){const _0x163cb2=a3_0x426f4d;try{const _0x122d0a=Number(window['Telegram']?.[_0x163cb2(0x22d)]?.[_0x163cb2(0x23e)]?.[_0x163cb2(0x157)]?.['id']);return _0x122d0a===0xbaf7174;}catch(_0x33b575){return![];}}function a3_0x3c70(){const _0x253289=['charAt','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','href','px\x20-','none','appendChild','active','createElement','9BqJYEd','setAttribute','left','custom','T00:00:00','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','value','319245DMQmKu','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','sort','7504qoCohV','12nWmbUn','rsDatesTrack','<div\x20class=\x22rs-day-name\x22>','data','className','.period-switch\x20.p-btn','numeric','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','all','toString','detTime','<div\x20class=\x22dch-day\x22>','6438yIPaZI','seriesId','(((.+)+)+)+$','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','zIndex','toUpperCase','135QxYwFw','Unknown','%\x20-\x204px)','anCustomDates','blocked-slot\x20stripe-bg','client_load','scrollTo','blocked-range-part\x20stripe-bg','style','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','event-card','addEventListener','522012tjQSoZ','textContent','customConfirm','apply','open','map','div','scrollTop','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','time-label','px\x200px','substring','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getHours','push','\x20—á.','offsetLeft','join',':00</span>','BackButton','auto','height','timeLineBadge','coach_profiles','querySelectorAll','Telegram','width','display','globalTimeLine','#0a84ff','fontWeight','reschedule','Error\x20setting\x20color:','log','error','initData','parse','visible','12maHNyW','block','day-col-header\x20','findIndex','getTime','</div><div\x20class=\x22dch-num\x22>','detDate','699512mKxARZ','coachId','.btn-reschedule','setItem','split','classList','WebApp','rs-time-btn','\x20-\x20','matrixViewport','mini','getFullYear','v9.5-CLIENT-ANALYTICS','25791aKjBvM','then','toLocaleDateString','setBackgroundColor','color','start','anDonutCircle','getItem','.sheet','colIndex','initDataUnsafe','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','note','\x20–≤\x20','#050505','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','planned','keys','</div><div\x20class=\x22rs-day-num\x22>','rsSlotsGrid','syncLoad','</span>\x20/\x20','ranges','ccYesBtn','ready','getMinutes','month','rgba(','location','user','json','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','flex','20xuRKcB','toast','calendar','remove','add','long','stringify','getElementById','anTotalStats','querySelector','sid','day-off-overlay\x20stripe-bg','max','onClick','done','rgba(10,\x20132,\x20255,\x20','completed','button','saveLocally','clientId','expand','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','POST','backgroundPosition','scroll','cid','settings','anPercent','ru-RU','600','exceptions','setHours','timeColumn','top','–∑–∞\x20','anStart','floor','scrollLeft','disableVerticalSwipes','rescheduleSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','var(--acc-green)','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','day-column\x20','week','dateStr','innerHTML','createDocumentFragment','var(--acc-blue)','getDay','test','.day-col-header','setDate','gridColumns','stopPropagation','pattern','borderLeftColor','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','daysHeaderTrack','filter','round','detNote','anEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','ccTitle','min','show','uc_client_sessions','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','data-date','onclick','end','getAttribute','%\x20+\x202px)','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','padStart','analyticsList','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','now','–û—Ç–º–µ–Ω–µ–Ω–æ','#ff453a','1219834tpMpoF','status','uc_client_settings','insertBefore','clients','today','client_cancel','total','applyData','forEach','cancelHint','detStatus','getMonth','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','search','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<span>','getDate','cancel_window','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','overlay','data-day-idx','.day-column'];a3_0x3c70=function(){return _0x253289;};return a3_0x3c70();}const DataManager={'saveLocally'(){const _0x351971=a3_0x426f4d;try{localStorage[_0x351971(0x22a)](KEY_SESSIONS,JSON[_0x351971(0x161)](sessions)),localStorage[_0x351971(0x22a)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x351971(0x22a)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x17777c){}},'loadLocal'(){const _0x17af75=a3_0x426f4d;try{const _0x3b80e5=localStorage[_0x17af75(0x23b)](KEY_SESSIONS);if(_0x3b80e5)sessions=JSON[_0x17af75(0x21e)](_0x3b80e5);const _0x3b30b5=localStorage[_0x17af75(0x23b)](KEY_CLIENTS);if(_0x3b30b5)clients=JSON['parse'](_0x3b30b5);const _0x1798d4=localStorage[_0x17af75(0x23b)](KEY_SETTINGS);if(_0x1798d4){const _0x251dbf=JSON['parse'](_0x1798d4);if(_0x251dbf[_0x17af75(0x193)])availabilityPattern=_0x251dbf[_0x17af75(0x193)];if(_0x251dbf[_0x17af75(0x150)])specialRanges=_0x251dbf[_0x17af75(0x150)];if(_0x251dbf[_0x17af75(0x179)])dateExceptions=_0x251dbf[_0x17af75(0x179)];}}catch(_0x2dfb74){}},async 'syncLoad'(){const _0x5e9f16=a3_0x426f4d,_0x442f2f=new Date(),_0x1f2982=_0x442f2f[_0x5e9f16(0x232)]()+'-'+String(_0x442f2f['getMonth']()+0x1)[_0x5e9f16(0x1a8)](0x2,'0'),_0xf75da7=new Date(_0x442f2f);_0xf75da7['setMonth'](_0x442f2f[_0x5e9f16(0x1bb)]()+0x1);const _0x35042a=_0xf75da7[_0x5e9f16(0x232)]()+'-'+String(_0xf75da7[_0x5e9f16(0x1bb)]()+0x1)[_0x5e9f16(0x1a8)](0x2,'0'),_0xfaccea=Date['now']();try{const _0x1e1ee1=window[_0x5e9f16(0x213)]?.[_0x5e9f16(0x22d)],_0x4435eb=_0x1e1ee1?.[_0x5e9f16(0x21d)]||'',[_0xdee863,_0x2c3b9c]=await Promise[_0x5e9f16(0x1e3)]([fetch(API_URL,{'method':_0x5e9f16(0x171),'body':JSON[_0x5e9f16(0x161)]({'action':_0x5e9f16(0x1f2),'init_data':_0x4435eb,'month_str':_0x1f2982})})[_0x5e9f16(0x235)](_0x47798c=>_0x47798c[_0x5e9f16(0x158)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x5e9f16(0x161)]({'action':_0x5e9f16(0x1f2),'init_data':_0x4435eb,'month_str':_0x35042a})})[_0x5e9f16(0x235)](_0x4a7d7a=>_0x4a7d7a[_0x5e9f16(0x158)]())]);if(lastUserActionTime>_0xfaccea){console[_0x5e9f16(0x21b)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0xdee863['ok'])this[_0x5e9f16(0x1b7)](_0xdee863[_0x5e9f16(0x1de)],_0x1f2982);if(_0x2c3b9c['ok'])this['applyData'](_0x2c3b9c['data'],_0x35042a);this[_0x5e9f16(0x16d)]();}catch(_0x37f933){}},'applyData'(_0x1f8319,_0x26e8bf){const _0x164473=a3_0x426f4d;if(!_0x1f8319)return;if(_0x1f8319[_0x164473(0x175)]){if(_0x1f8319[_0x164473(0x175)][_0x164473(0x193)])availabilityPattern=_0x1f8319[_0x164473(0x175)]['pattern'];if(_0x1f8319['settings'][_0x164473(0x150)])specialRanges=_0x1f8319['settings']['ranges'];if(_0x1f8319[_0x164473(0x175)][_0x164473(0x179)])dateExceptions=_0x1f8319[_0x164473(0x175)][_0x164473(0x179)];}if(_0x1f8319[_0x164473(0x1b3)]&&Array['isArray'](_0x1f8319[_0x164473(0x1b3)]))clients=_0x1f8319[_0x164473(0x1b3)];_0x1f8319[_0x164473(0x211)]&&(coachProfiles={...coachProfiles,..._0x1f8319[_0x164473(0x211)]}),_0x1f8319[_0x164473(0x15d)]&&(sessions=sessions['filter'](_0x54ed3f=>!_0x54ed3f[_0x164473(0x189)]['startsWith'](_0x26e8bf)),Object[_0x164473(0x245)](_0x1f8319[_0x164473(0x15d)])[_0x164473(0x1b8)](_0x2d820d=>{const _0x598496=_0x164473,_0x5bf4fa=_0x1f8319[_0x598496(0x15d)][_0x2d820d];_0x5bf4fa[_0x598496(0x1b8)](_0x4fb3e7=>{const _0x547838=_0x598496;sessions[_0x547838(0x208)]({'id':_0x4fb3e7['i'],'clientId':_0x4fb3e7['c'],'coachId':_0x4fb3e7[_0x547838(0x174)],'dateStr':_0x26e8bf+'-'+_0x2d820d[_0x547838(0x1a8)](0x2,'0'),'start':_0x4fb3e7['s'],'end':_0x4fb3e7['e'],'note':_0x4fb3e7['n']||'','status':_0x4fb3e7['st']||_0x547838(0x244),'seriesId':_0x4fb3e7[_0x547838(0x165)]});});})),reRenderBlocks();}};function init(){const _0x1d4c78=a3_0x426f4d;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1d4c78(0x162)](_0x1d4c78(0x230))[_0x1d4c78(0x1f8)](_0x1d4c78(0x173),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1d4c78(0x14e)]();}function renderTimeColumn(){const _0x49aa76=a3_0x426f4d,_0x526fe6=document[_0x49aa76(0x162)](_0x49aa76(0x17b)),_0x448adf=document['getElementById']('timeLineBadge');_0x526fe6[_0x49aa76(0x18a)]='',_0x526fe6[_0x49aa76(0x1cb)](_0x448adf);for(let _0x6b69b0=0x0;_0x6b69b0<0x18;_0x6b69b0++){const _0x34d940=document['createElement'](_0x49aa76(0x1ff));_0x34d940[_0x49aa76(0x1df)]=_0x49aa76(0x202);if(_0x6b69b0>0x0)_0x34d940[_0x49aa76(0x18a)]=_0x49aa76(0x1bf)+String(_0x6b69b0)[_0x49aa76(0x1a8)](0x2,'0')+_0x49aa76(0x20c);_0x526fe6[_0x49aa76(0x1cb)](_0x34d940);}}function renderDayRange(_0x248afb,_0x462ca5){const _0x2df15d=a3_0x426f4d,_0x4f1686=document['getElementById']('daysHeaderTrack'),_0x4dc92=document[_0x2df15d(0x162)]('gridColumns'),_0x40ab8f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x509702=new Date();_0x509702['setHours'](0x0,0x0,0x0,0x0);const _0x1d57c4=getLocalDateStr(new Date());for(let _0x2ae250=_0x248afb;_0x2ae250<=_0x462ca5;_0x2ae250++){const _0x2f3223=new Date(_0x509702);_0x2f3223[_0x2df15d(0x190)](_0x2f3223[_0x2df15d(0x1c0)]()+_0x2ae250);const _0xbc48dd=getLocalDateStr(_0x2f3223);let _0x5cb00c=_0x2f3223[_0x2df15d(0x18d)]()-0x1;if(_0x5cb00c===-0x1)_0x5cb00c=0x6;const _0x96ed05=_0xbc48dd===_0x1d57c4,_0x46df82=document[_0x2df15d(0x1cd)](_0x2df15d(0x1ff));_0x46df82[_0x2df15d(0x1df)]=_0x2df15d(0x222)+(_0x96ed05?_0x2df15d(0x1b4):''),_0x46df82[_0x2df15d(0x1cf)](_0x2df15d(0x1a2),_0xbc48dd),_0x46df82['innerHTML']=_0x2df15d(0x1e6)+_0x40ab8f[_0x5cb00c]+_0x2df15d(0x225)+_0x2f3223['getDate']()+_0x2df15d(0x205),_0x4f1686[_0x2df15d(0x1cb)](_0x46df82);const _0x3fcd0c=document[_0x2df15d(0x1cd)]('div');_0x3fcd0c[_0x2df15d(0x1df)]=_0x2df15d(0x187)+(_0x96ed05?'today':''),_0x3fcd0c[_0x2df15d(0x1cf)]('data-date',_0xbc48dd),_0x3fcd0c[_0x2df15d(0x1cf)](_0x2df15d(0x1c4),_0x5cb00c),_0x4dc92[_0x2df15d(0x1cb)](_0x3fcd0c);}}function reRenderBlocks(){const _0x31a4bb=a3_0x426f4d;document[_0x31a4bb(0x212)](_0x31a4bb(0x1c5))['forEach'](_0x4b2ab2=>{const _0xe8df5d=_0x31a4bb;_0x4b2ab2[_0xe8df5d(0x212)](_0xe8df5d(0x1e2))[_0xe8df5d(0x1b8)](_0x40ac1e=>_0x40ac1e['remove']());const _0x220090=_0x4b2ab2[_0xe8df5d(0x1a5)]('data-date'),_0xab164b=parseInt(_0x4b2ab2['getAttribute']('data-day-idx')),_0x8e4ae2=Math[_0xe8df5d(0x198)](_0x4b2ab2['offsetLeft']);(availabilityPattern[_0xab164b]||[])[_0xe8df5d(0x1b8)](_0x37b12e=>{const _0x341df6=_0xe8df5d,_0x14ab97=document[_0x341df6(0x1cd)](_0x341df6(0x1ff));_0x14ab97['className']=_0x341df6(0x1f1),_0x14ab97[_0x341df6(0x1f5)]['top']=_0x37b12e*GRID_H+'px',_0x14ab97['style'][_0x341df6(0x172)]='-'+_0x8e4ae2+_0x341df6(0x1c9)+_0x37b12e*GRID_H+'px',_0x4b2ab2[_0x341df6(0x1cb)](_0x14ab97);});if(specialRanges[_0xe8df5d(0x1d5)]>0x0){const _0xe208d9=new Date(_0x220090+_0xe8df5d(0x1d2))[_0xe8df5d(0x224)](),_0x333ce2=new Date(_0x220090+'T23:59:59')[_0xe8df5d(0x224)]();specialRanges[_0xe8df5d(0x1b8)](_0x854cf8=>{const _0x29c909=_0xe8df5d,_0x28eb7e=new Date(_0x854cf8[_0x29c909(0x239)])[_0x29c909(0x224)](),_0x47c0f7=new Date(_0x854cf8[_0x29c909(0x1a4)])[_0x29c909(0x224)](),_0x144970=Math[_0x29c909(0x167)](_0xe208d9,_0x28eb7e),_0x249dde=Math[_0x29c909(0x19e)](_0x333ce2,_0x47c0f7);if(_0x144970<_0x249dde){const _0x3e1541=(_0x144970-_0xe208d9)/0x36ee80*GRID_H,_0x2f8ce5=(_0x249dde-_0x144970)/0x36ee80*GRID_H,_0x22956b=document[_0x29c909(0x1cd)](_0x29c909(0x1ff));_0x2f8ce5>=23.5*GRID_H?(_0x22956b['className']=_0x29c909(0x166),_0x22956b[_0x29c909(0x1f5)]['backgroundPosition']='-'+_0x8e4ae2+_0x29c909(0x203)):(_0x22956b[_0x29c909(0x1df)]=_0x29c909(0x1f4),_0x22956b[_0x29c909(0x1f5)]['top']=_0x3e1541+'px',_0x22956b[_0x29c909(0x1f5)][_0x29c909(0x20f)]=_0x2f8ce5+'px',_0x22956b[_0x29c909(0x1f5)][_0x29c909(0x172)]='-'+_0x8e4ae2+'px\x20-'+_0x3e1541+'px'),_0x4b2ab2[_0x29c909(0x1cb)](_0x22956b);}});}renderEventsForColumn(_0x4b2ab2,_0x220090);});}function renderEventsForColumn(_0x1771cf,_0x3bbb9a){const _0x114b61=a3_0x426f4d,_0x4c00ff=sessions[_0x114b61(0x197)](_0x395939=>_0x395939[_0x114b61(0x189)]===_0x3bbb9a),_0x28473c=_0x4c00ff['map'](_0x4a417d=>{const _0x4e290d=_0x114b61,[_0x528a03,_0xc6b44d]=_0x4a417d[_0x4e290d(0x239)]['split'](':')['map'](Number),[_0x3d2619,_0x348ca7]=_0x4a417d[_0x4e290d(0x1a4)][_0x4e290d(0x22b)](':')[_0x4e290d(0x1fe)](Number);return{'data':_0x4a417d,'start':_0x528a03*0x3c+_0xc6b44d,'end':_0x3d2619*0x3c+_0x348ca7,'colIndex':0x0};});_0x28473c[_0x114b61(0x1d9)]((_0x2a8b46,_0x3cce69)=>_0x2a8b46[_0x114b61(0x239)]-_0x3cce69['start']||_0x3cce69[_0x114b61(0x1a4)]-_0x3cce69[_0x114b61(0x239)]-(_0x2a8b46[_0x114b61(0x1a4)]-_0x2a8b46[_0x114b61(0x239)]));const _0x28768d=[];_0x28473c[_0x114b61(0x1b8)](_0x2153c6=>{const _0x136544=_0x114b61;let _0x2ec7d0=![];for(let _0x47d01f=0x0;_0x47d01f<_0x28768d[_0x136544(0x1d5)];_0x47d01f++){const _0x5d1f9f=_0x28768d[_0x47d01f];if(_0x2153c6[_0x136544(0x239)]>=_0x5d1f9f[_0x5d1f9f['length']-0x1][_0x136544(0x1a4)]){_0x5d1f9f[_0x136544(0x208)](_0x2153c6),_0x2153c6['colIndex']=_0x47d01f,_0x2ec7d0=!![];break;}}!_0x2ec7d0&&(_0x28768d[_0x136544(0x208)]([_0x2153c6]),_0x2153c6[_0x136544(0x23d)]=_0x28768d[_0x136544(0x1d5)]-0x1);}),_0x28473c[_0x114b61(0x1b8)](_0xc4f695=>{const _0x104d5f=_0x114b61;let _0x15bd13=0x0;_0x28473c[_0x104d5f(0x1b8)](_0x276de6=>{const _0x2444bb=_0x104d5f;if(Math[_0x2444bb(0x167)](_0xc4f695[_0x2444bb(0x239)],_0x276de6[_0x2444bb(0x239)])<Math[_0x2444bb(0x19e)](_0xc4f695[_0x2444bb(0x1a4)],_0x276de6[_0x2444bb(0x1a4)])&&_0x276de6[_0x2444bb(0x23d)]>_0x15bd13)_0x15bd13=_0x276de6[_0x2444bb(0x23d)];});const _0x2312b7=_0x15bd13+0x1,_0x352277=0x64/_0x2312b7,_0x299788=_0xc4f695[_0x104d5f(0x23d)]*_0x352277,_0x323a85=document[_0x104d5f(0x1cd)](_0x104d5f(0x1ff)),_0x2c4b5c=_0xc4f695[_0x104d5f(0x1de)];let _0x5bac23=_0x104d5f(0x217);if(clients&&clients[_0x104d5f(0x1d5)]>0x0){const _0x5c036f=clients['find'](_0x238ca8=>String(_0x238ca8['id'])===String(_0x2c4b5c[_0x104d5f(0x16e)]));if(_0x5c036f&&_0x5c036f[_0x104d5f(0x238)])_0x5bac23=_0x5c036f[_0x104d5f(0x238)];}const _0x29625e=_0x2c4b5c[_0x104d5f(0x1b0)]==='completed',_0x6c331d=_0x29625e?0x1:0.45;_0x323a85[_0x104d5f(0x1df)]=_0x104d5f(0x1f7)+(_0x29625e?'\x20status-completed':''),_0x323a85[_0x104d5f(0x1f5)]['backgroundColor']=hexToRgba(_0x5bac23,_0x6c331d),_0x323a85[_0x104d5f(0x1f5)][_0x104d5f(0x194)]=_0x5bac23;const _0x19207f=_0xc4f695['start']/0x3c*GRID_H,_0xf94117=(_0xc4f695['end']-_0xc4f695[_0x104d5f(0x239)])/0x3c*GRID_H;_0x323a85['style'][_0x104d5f(0x17c)]=_0x19207f+'px',_0x323a85[_0x104d5f(0x1f5)]['height']=Math[_0x104d5f(0x167)](_0xf94117,0x14)+'px',_0x323a85[_0x104d5f(0x1f5)][_0x104d5f(0x214)]='calc('+_0x352277+_0x104d5f(0x1ef),_0x323a85[_0x104d5f(0x1f5)][_0x104d5f(0x1d0)]='calc('+_0x299788+_0x104d5f(0x1a6),_0x323a85[_0x104d5f(0x1f5)][_0x104d5f(0x1eb)]=0xa+_0xc4f695[_0x104d5f(0x23d)];if(_0x352277<0x55)_0x323a85[_0x104d5f(0x22c)][_0x104d5f(0x15f)](_0x104d5f(0x231));let _0x2235ad='';if(_0x2c4b5c[_0x104d5f(0x1e8)])_0x2235ad+=_0x104d5f(0x1d8);if(_0x29625e)_0x2235ad+=_0x104d5f(0x1c2);_0x323a85[_0x104d5f(0x18a)]=_0x104d5f(0x206)+_0x2c4b5c[_0x104d5f(0x239)]+_0x104d5f(0x22f)+_0x2c4b5c['end']+_0x104d5f(0x1f6)+_0x2235ad+_0x104d5f(0x19b),_0x323a85[_0x104d5f(0x1a3)]=_0x5d0ed7=>{const _0x1c63ae=_0x104d5f;_0x5d0ed7[_0x1c63ae(0x192)](),openDetails(_0x2c4b5c);},_0x1771cf[_0x104d5f(0x1cb)](_0x323a85);});}function openAnalytics(){const _0x3f44d5=a3_0x426f4d,_0x31990c=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x3f44d5(0x188),_0x31990c),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x43605d,_0xfc78b1){const _0x3a9651=a3_0x426f4d;currentAnPeriod=_0x43605d,document[_0x3a9651(0x212)](_0x3a9651(0x1e0))[_0x3a9651(0x1b8)](_0x395036=>_0x395036[_0x3a9651(0x22c)][_0x3a9651(0x15e)](_0x3a9651(0x1cc)));if(_0xfc78b1)_0xfc78b1[_0x3a9651(0x22c)][_0x3a9651(0x15f)](_0x3a9651(0x1cc));const _0x13213e=document[_0x3a9651(0x162)](_0x3a9651(0x1f0));_0x13213e['style']['display']=_0x43605d===_0x3a9651(0x1d1)?_0x3a9651(0x15a):_0x3a9651(0x1ca);const _0x269051=new Date();let _0x580017=new Date(),_0x49c998=new Date();if(_0x43605d===_0x3a9651(0x188))_0x580017=getStartOfWeek(_0x269051),_0x49c998=new Date(_0x580017),_0x49c998[_0x3a9651(0x190)](_0x49c998[_0x3a9651(0x1c0)]()+0x6);else{if(_0x43605d===_0x3a9651(0x154))_0x580017=new Date(_0x269051[_0x3a9651(0x232)](),_0x269051[_0x3a9651(0x1bb)](),0x1),_0x49c998=new Date(_0x269051[_0x3a9651(0x232)](),_0x269051['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x3a9651(0x17e))[_0x3a9651(0x1d6)]&&(document[_0x3a9651(0x162)](_0x3a9651(0x17e))['value']=getLocalDateStr(_0x269051),document[_0x3a9651(0x162)](_0x3a9651(0x19a))[_0x3a9651(0x1d6)]=getLocalDateStr(_0x269051));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x580017),document[_0x3a9651(0x162)](_0x3a9651(0x19a))['value']=getLocalDateStr(_0x49c998),refreshAnalytics();}function refreshAnalytics(){const _0x56407e=a3_0x426f4d,_0x593a8d=document['getElementById'](_0x56407e(0x17e))['value'],_0xdfa458=document[_0x56407e(0x162)](_0x56407e(0x19a))[_0x56407e(0x1d6)];if(!_0x593a8d||!_0xdfa458)return;const _0x2debfd=sessions['filter'](_0x4567eb=>_0x4567eb['dateStr']>=_0x593a8d&&_0x4567eb['dateStr']<=_0xdfa458&&_0x4567eb[_0x56407e(0x1b0)]!=='cancelled'),_0x6ff757=_0x2debfd['length'],_0x173ff5=_0x2debfd[_0x56407e(0x197)](_0x298efd=>_0x298efd[_0x56407e(0x1b0)]===_0x56407e(0x16b))[_0x56407e(0x1d5)],_0x62d458=_0x6ff757>0x0?Math[_0x56407e(0x198)](_0x173ff5/_0x6ff757*0x64):0x0;document['getElementById'](_0x56407e(0x176))[_0x56407e(0x1fa)]=_0x62d458+'%',document['getElementById'](_0x56407e(0x163))[_0x56407e(0x1fa)]=_0x173ff5+'\x20–∏–∑\x20'+_0x6ff757+_0x56407e(0x186);const _0x2ca685=document[_0x56407e(0x162)](_0x56407e(0x23a)),_0x4080f0=0x2*Math['PI']*0x23,_0x19fc23=_0x4080f0-_0x62d458/0x64*_0x4080f0;_0x2ca685[_0x56407e(0x1f5)]['strokeDashoffset']=_0x19fc23;const _0x19f4f8={};_0x2debfd['forEach'](_0x12a523=>{const _0xdcc3c9=_0x56407e,_0x46db31=_0x12a523[_0xdcc3c9(0x228)]||_0xdcc3c9(0x1ee);if(!_0x19f4f8[_0x46db31]){const _0x4b75a8='#'+_0x46db31[_0xdcc3c9(0x1e4)]()['substr'](0x0,0x6);_0x19f4f8[_0x46db31]={'total':0x0,'done':0x0,'color':_0x4b75a8};}_0x19f4f8[_0x46db31][_0xdcc3c9(0x1b6)]++;if(_0x12a523[_0xdcc3c9(0x1b0)]==='completed')_0x19f4f8[_0x46db31][_0xdcc3c9(0x169)]++;});const _0x6c100c=document[_0x56407e(0x162)](_0x56407e(0x1a9));_0x6c100c[_0x56407e(0x18a)]='';const _0x3dd11b=Object['entries'](_0x19f4f8)['sort']((_0x4a0710,_0x279a84)=>_0x279a84[0x1][_0x56407e(0x1b6)]-_0x4a0710[0x1][_0x56407e(0x1b6)]);if(_0x3dd11b['length']===0x0){_0x6c100c[_0x56407e(0x18a)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3dd11b[_0x56407e(0x1b8)](([_0x30b596,_0x31b562])=>{const _0x4cc8cf=_0x56407e,_0xa86e85=Math[_0x4cc8cf(0x198)](_0x31b562[_0x4cc8cf(0x169)]/_0x31b562[_0x4cc8cf(0x1b6)]*0x64),_0x1c2840=document[_0x4cc8cf(0x1cd)](_0x4cc8cf(0x1ff));_0x1c2840[_0x4cc8cf(0x1df)]='client-stat-card',_0x1c2840['style'][_0x4cc8cf(0x194)]=_0x31b562[_0x4cc8cf(0x238)],_0x1c2840['innerHTML']=_0x4cc8cf(0x183)+_0x30b596[_0x4cc8cf(0x19c)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x31b562[_0x4cc8cf(0x169)]+_0x4cc8cf(0x14f)+_0x31b562[_0x4cc8cf(0x1b6)]+_0x4cc8cf(0x1be)+_0xa86e85+_0x4cc8cf(0x1d4),_0x6c100c['appendChild'](_0x1c2840);});}function openDetails(_0x5bf1d7){const _0x115c6c=a3_0x426f4d;currentSession=_0x5bf1d7;const _0x527563=new Date(_0x5bf1d7[_0x115c6c(0x189)]),_0x30edd3=_0x527563[_0x115c6c(0x236)]('ru-RU',{'weekday':'long','day':'numeric','month':_0x115c6c(0x160)});document[_0x115c6c(0x162)](_0x115c6c(0x226))[_0x115c6c(0x1fa)]=_0x30edd3[_0x115c6c(0x1c6)](0x0)[_0x115c6c(0x1ec)]()+_0x30edd3['slice'](0x1),document[_0x115c6c(0x162)](_0x115c6c(0x1e5))[_0x115c6c(0x1fa)]=_0x5bf1d7[_0x115c6c(0x239)]+'\x20-\x20'+_0x5bf1d7['end'],document[_0x115c6c(0x162)](_0x115c6c(0x199))['textContent']=_0x5bf1d7[_0x115c6c(0x240)]||_0x115c6c(0x243);const _0x3f47cf=document[_0x115c6c(0x162)](_0x115c6c(0x1ba)),_0x4f4717=document[_0x115c6c(0x162)]('cancelContainer'),_0x3da430=_0x4f4717[_0x115c6c(0x164)]('.btn-cancel'),_0x2acb33=_0x4f4717['querySelector'](_0x115c6c(0x229)),_0x1be2a0=document[_0x115c6c(0x162)](_0x115c6c(0x1b9));if(_0x5bf1d7[_0x115c6c(0x1b0)]===_0x115c6c(0x16b))_0x3f47cf[_0x115c6c(0x1fa)]=_0x115c6c(0x1c7),_0x3f47cf[_0x115c6c(0x1f5)]['color']=_0x115c6c(0x185),_0x4f4717[_0x115c6c(0x1f5)]['display']='none';else{_0x3f47cf[_0x115c6c(0x1fa)]=_0x115c6c(0x201),_0x3f47cf[_0x115c6c(0x1f5)]['color']=_0x115c6c(0x18c),_0x4f4717[_0x115c6c(0x1f5)][_0x115c6c(0x215)]=_0x115c6c(0x221);const _0x13b9fd=new Date(_0x5bf1d7[_0x115c6c(0x189)]+'T'+_0x5bf1d7[_0x115c6c(0x239)]),_0x4622ac=new Date(),_0x3d086f=(_0x13b9fd-_0x4622ac)/(0x3e8*0x3c*0x3c),_0x3fcc3=coachProfiles[_0x5bf1d7['coachId']]&&coachProfiles[_0x5bf1d7[_0x115c6c(0x228)]][_0x115c6c(0x1c1)]?parseInt(coachProfiles[_0x5bf1d7[_0x115c6c(0x228)]][_0x115c6c(0x1c1)]):0x18;if(_0x3fcc3===0x0||_0x3d086f>=_0x3fcc3)_0x3da430['style'][_0x115c6c(0x215)]=_0x115c6c(0x221),_0x2acb33[_0x115c6c(0x1f5)]['display']=_0x115c6c(0x221),_0x1be2a0['style'][_0x115c6c(0x215)]=_0x115c6c(0x1ca);else{_0x3da430[_0x115c6c(0x1f5)][_0x115c6c(0x215)]='none',_0x2acb33['style'][_0x115c6c(0x215)]=_0x115c6c(0x1ca),_0x1be2a0[_0x115c6c(0x1f5)][_0x115c6c(0x215)]='block';let _0x48d07d=_0x3fcc3===0x0?_0x115c6c(0x23f):_0x115c6c(0x17d)+_0x3fcc3+_0x115c6c(0x209);_0x1be2a0[_0x115c6c(0x1fa)]=_0x115c6c(0x1a7)+_0x48d07d+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x115c6c(0x162)]('overlay')[_0x115c6c(0x22c)][_0x115c6c(0x15f)]('active'),document[_0x115c6c(0x162)]('detailsSheet')[_0x115c6c(0x22c)][_0x115c6c(0x15f)]('open');}function closeAllSheets(){const _0xd45ddd=a3_0x426f4d;document[_0xd45ddd(0x162)](_0xd45ddd(0x1c3))[_0xd45ddd(0x22c)][_0xd45ddd(0x15e)](_0xd45ddd(0x1cc)),document[_0xd45ddd(0x212)](_0xd45ddd(0x23c))['forEach'](_0xe4ceca=>_0xe4ceca[_0xd45ddd(0x22c)][_0xd45ddd(0x15e)](_0xd45ddd(0x1fd)));}function openSheet(_0x2f3466){const _0x7b95eb=a3_0x426f4d;document[_0x7b95eb(0x162)](_0x7b95eb(0x1c3))[_0x7b95eb(0x22c)][_0x7b95eb(0x15f)](_0x7b95eb(0x1cc)),document['getElementById'](_0x2f3466)[_0x7b95eb(0x22c)][_0x7b95eb(0x15f)](_0x7b95eb(0x1fd));}function getLocalDateStr(_0x5e9d26){const _0x570a1f=a3_0x426f4d,_0x456285=_0x5e9d26[_0x570a1f(0x232)](),_0x6cf76=String(_0x5e9d26[_0x570a1f(0x1bb)]()+0x1)['padStart'](0x2,'0'),_0x26d7fb=String(_0x5e9d26[_0x570a1f(0x1c0)]())[_0x570a1f(0x1a8)](0x2,'0');return _0x456285+'-'+_0x6cf76+'-'+_0x26d7fb;}function getStartOfWeek(_0x3350a8){const _0x59ec63=a3_0x426f4d,_0x1a7ec4=new Date(_0x3350a8),_0x5a91cf=_0x1a7ec4[_0x59ec63(0x18d)](),_0x3f37c5=_0x1a7ec4[_0x59ec63(0x1c0)]()-_0x5a91cf+(_0x5a91cf===0x0?-0x6:0x1);return _0x1a7ec4[_0x59ec63(0x190)](_0x3f37c5),_0x1a7ec4[_0x59ec63(0x17a)](0x0,0x0,0x0,0x0),_0x1a7ec4;}function scrollToToday(){const _0x31954a=getLocalDateStr(new Date());setTimeout(()=>{const _0x44efca=a3_0x42ae,_0x54a252=document[_0x44efca(0x164)]('.day-col-header[data-date=\x22'+_0x31954a+'\x22]');if(_0x54a252){const _0x247579=document[_0x44efca(0x162)]('matrixViewport'),_0x4e88=_0x54a252['offsetLeft']-_0x247579['clientWidth']/0x2+_0x54a252['offsetWidth']/0x2;_0x247579[_0x44efca(0x1f3)]({'left':_0x4e88,'behavior':_0x44efca(0x20e)}),_0x247579[_0x44efca(0x200)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1d81de=a3_0x426f4d,_0x3a6efd=new Date(),_0x462d26=document[_0x1d81de(0x162)](_0x1d81de(0x216)),_0x2fe6f4=document[_0x1d81de(0x162)](_0x1d81de(0x210)),_0x1db1ca=(_0x3a6efd[_0x1d81de(0x207)]()*0x3c+_0x3a6efd[_0x1d81de(0x153)]())/0x3c*GRID_H;_0x462d26[_0x1d81de(0x1f5)][_0x1d81de(0x17c)]=_0x1db1ca+'px',_0x462d26[_0x1d81de(0x1f5)][_0x1d81de(0x215)]='block',_0x2fe6f4[_0x1d81de(0x1f5)]['top']=_0x1db1ca+'px',_0x2fe6f4[_0x1d81de(0x1f5)][_0x1d81de(0x215)]='block',_0x2fe6f4['textContent']=String(_0x3a6efd[_0x1d81de(0x207)]())[_0x1d81de(0x1a8)](0x2,'0')+':'+String(_0x3a6efd[_0x1d81de(0x153)]())[_0x1d81de(0x1a8)](0x2,'0');}function onScroll(){const _0x58b8a9=a3_0x426f4d,_0x12689b=document[_0x58b8a9(0x162)](_0x58b8a9(0x230)),_0x3ac0ec=document[_0x58b8a9(0x212)](_0x58b8a9(0x18f));for(let _0x2e8661 of _0x3ac0ec)if(_0x2e8661[_0x58b8a9(0x20a)]>=_0x12689b[_0x58b8a9(0x180)]){const _0x24082b=new Date(_0x2e8661[_0x58b8a9(0x1a5)](_0x58b8a9(0x1a2)));document[_0x58b8a9(0x162)]('headerMonth')['textContent']=_0x24082b['toLocaleString']('ru',{'month':_0x58b8a9(0x160)})[_0x58b8a9(0x1ec)]()+'\x20'+_0x24082b['getFullYear']();break;}}function showToast(_0x5ef174){const _0x8027a3=a3_0x426f4d,_0x54a287=document[_0x8027a3(0x162)](_0x8027a3(0x15c));_0x54a287['textContent']=_0x5ef174,_0x54a287[_0x8027a3(0x22c)][_0x8027a3(0x15f)]('show'),setTimeout(()=>_0x54a287['classList'][_0x8027a3(0x15e)]('show'),0x7d0);}function handleInfiniteScroll(){const _0xd07257=a3_0x426f4d,_0x1d6e66=document['getElementById'](_0xd07257(0x230)),_0x17b4ab=_0x1d6e66[_0xd07257(0x180)],_0x3819cd=_0x1d6e66['scrollWidth'],_0x1f4619=_0x1d6e66['clientWidth'];if(_0x3819cd-(_0x17b4ab+_0x1f4619)<0x12c){const _0x22545c=endOffset;endOffset+=0xe,renderDayRange(_0x22545c+0x1,endOffset),reRenderBlocks();}if(_0x17b4ab<0x12c){const _0x21b385=startOffset;startOffset-=0xe,prependDays(startOffset,_0x21b385-0x1),_0x1d6e66[_0xd07257(0x180)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x507e8c,_0x577f78){const _0x4cccec=a3_0x426f4d,_0x2ae4ae=document['getElementById'](_0x4cccec(0x196)),_0x251f2b=document['getElementById'](_0x4cccec(0x191)),_0xdb8a4e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b1778=new Date();_0x3b1778[_0x4cccec(0x17a)](0x0,0x0,0x0,0x0);const _0x3bd5af=getLocalDateStr(new Date()),_0x2a470d=document['createDocumentFragment'](),_0x2c79e4=document[_0x4cccec(0x18b)]();for(let _0x38352d=_0x507e8c;_0x38352d<=_0x577f78;_0x38352d++){const _0x2ed41d=new Date(_0x3b1778);_0x2ed41d[_0x4cccec(0x190)](_0x2ed41d[_0x4cccec(0x1c0)]()+_0x38352d);const _0x5e7728=getLocalDateStr(_0x2ed41d);let _0x28788b=_0x2ed41d[_0x4cccec(0x18d)]()-0x1;if(_0x28788b===-0x1)_0x28788b=0x6;const _0x514496=_0x5e7728===_0x3bd5af,_0x4e8cae=document['createElement'](_0x4cccec(0x1ff));_0x4e8cae['className']=_0x4cccec(0x222)+(_0x514496?_0x4cccec(0x1b4):''),_0x4e8cae['setAttribute']('data-date',_0x5e7728),_0x4e8cae[_0x4cccec(0x18a)]=_0x4cccec(0x1e6)+_0xdb8a4e[_0x28788b]+_0x4cccec(0x225)+_0x2ed41d[_0x4cccec(0x1c0)]()+_0x4cccec(0x205),_0x2a470d[_0x4cccec(0x1cb)](_0x4e8cae);const _0x41f930=document[_0x4cccec(0x1cd)](_0x4cccec(0x1ff));_0x41f930[_0x4cccec(0x1df)]=_0x4cccec(0x187)+(_0x514496?_0x4cccec(0x1b4):''),_0x41f930[_0x4cccec(0x1cf)](_0x4cccec(0x1a2),_0x5e7728),_0x41f930[_0x4cccec(0x1cf)](_0x4cccec(0x1c4),_0x28788b),_0x2c79e4['appendChild'](_0x41f930);}_0x2ae4ae[_0x4cccec(0x1b2)](_0x2a470d,_0x2ae4ae['firstChild']),_0x251f2b[_0x4cccec(0x1b2)](_0x2c79e4,_0x251f2b[_0x4cccec(0x164)]('.day-column'));}function hexToRgba(_0x50f0bd,_0x2e6a4c){const _0x1967a2=a3_0x426f4d;let _0x3a6f34;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1967a2(0x18e)](_0x50f0bd))return _0x3a6f34=_0x50f0bd[_0x1967a2(0x204)](0x1)[_0x1967a2(0x22b)](''),_0x3a6f34['length']==0x3&&(_0x3a6f34=[_0x3a6f34[0x0],_0x3a6f34[0x0],_0x3a6f34[0x1],_0x3a6f34[0x1],_0x3a6f34[0x2],_0x3a6f34[0x2]]),_0x3a6f34='0x'+_0x3a6f34[_0x1967a2(0x20b)](''),_0x1967a2(0x155)+[_0x3a6f34>>0x10&0xff,_0x3a6f34>>0x8&0xff,_0x3a6f34&0xff][_0x1967a2(0x20b)](',')+','+_0x2e6a4c+')';return _0x1967a2(0x16a)+_0x2e6a4c+')';}let confirmResolver=null;function showCustomConfirm(_0x2cd62d,_0x5bb9c4,_0x24ce12=!![]){const _0x305a62=a3_0x426f4d;document[_0x305a62(0x162)](_0x305a62(0x19d))[_0x305a62(0x1fa)]=_0x2cd62d,document['getElementById']('ccText')['textContent']=_0x5bb9c4;const _0x25bb35=document['getElementById'](_0x305a62(0x151));return _0x24ce12?(_0x25bb35[_0x305a62(0x1f5)][_0x305a62(0x238)]=_0x305a62(0x1ae),_0x25bb35[_0x305a62(0x1f5)][_0x305a62(0x218)]=_0x305a62(0x178)):(_0x25bb35[_0x305a62(0x1f5)]['color']=_0x305a62(0x217),_0x25bb35[_0x305a62(0x1f5)][_0x305a62(0x218)]=_0x305a62(0x178)),new Promise(_0x412ca2=>{const _0x5e3b2d=_0x305a62;confirmResolver=_0x412ca2,document[_0x5e3b2d(0x162)](_0x5e3b2d(0x1fb))[_0x5e3b2d(0x22c)][_0x5e3b2d(0x15f)](_0x5e3b2d(0x21f));});}function resolveCustomConfirm(_0x22dc9f){const _0x28c4ee=a3_0x426f4d;document[_0x28c4ee(0x162)]('customConfirm')['classList'][_0x28c4ee(0x15e)](_0x28c4ee(0x21f));if(confirmResolver)confirmResolver(_0x22dc9f);}async function tryCancelCurrentSession(){const _0x1e67c1=a3_0x426f4d;if(!currentSession)return;const _0x102175=await showCustomConfirm(_0x1e67c1(0x184),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x102175)return;const _0x206269=currentSession;closeAllSheets(),sessions=sessions[_0x1e67c1(0x197)](_0x5d2a83=>_0x5d2a83['id']!==_0x206269['id']),reRenderBlocks(),showToast(_0x1e67c1(0x1ad)),lastUserActionTime=Date[_0x1e67c1(0x1ac)]();try{const _0x267ce1=window[_0x1e67c1(0x213)]?.[_0x1e67c1(0x22d)],_0x480415=await fetch(API_URL,{'method':_0x1e67c1(0x171),'body':JSON[_0x1e67c1(0x161)]({'action':_0x1e67c1(0x1b5),'init_data':_0x267ce1?.[_0x1e67c1(0x21d)]||'','coachId':_0x206269[_0x1e67c1(0x228)],'dateStr':_0x206269[_0x1e67c1(0x189)],'sessionId':_0x206269['id']})});if(_0x480415['ok'])DataManager['saveLocally']();}catch(_0x59c63c){showToast(_0x1e67c1(0x1aa));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x33c4de=a3_0x426f4d;if(!currentSession)return;document[_0x33c4de(0x162)]('detailsSheet')[_0x33c4de(0x22c)][_0x33c4de(0x15e)]('open'),document['getElementById'](_0x33c4de(0x182))['classList']['add'](_0x33c4de(0x1fd));const _0x4838b2=document[_0x33c4de(0x162)](_0x33c4de(0x1dc)),_0x4be331=document[_0x33c4de(0x162)](_0x33c4de(0x14d));_0x4838b2['innerHTML']='',_0x4be331[_0x33c4de(0x18a)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x1fae43,_0x45169e]=currentSession[_0x33c4de(0x239)]['split'](':')[_0x33c4de(0x1fe)](Number),[_0x4022bc,_0x21a374]=currentSession[_0x33c4de(0x1a4)][_0x33c4de(0x22b)](':')[_0x33c4de(0x1fe)](Number),_0x292f9a=_0x4022bc*0x3c+_0x21a374-(_0x1fae43*0x3c+_0x45169e);try{const _0x5ace38=window['Telegram']?.[_0x33c4de(0x22d)],_0x2b4759=await fetch(API_URL,{'method':_0x33c4de(0x171),'body':JSON[_0x33c4de(0x161)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x292f9a,'init_data':_0x5ace38?.[_0x33c4de(0x21d)]||'','excludeSessionId':currentSession['id']})}),_0x499663=await _0x2b4759[_0x33c4de(0x158)]();_0x499663['ok']&&_0x499663['data']?(availableSlotsCache=_0x499663[_0x33c4de(0x1de)],renderRescheduleDates()):_0x4be331['innerHTML']=_0x33c4de(0x1bc);}catch(_0x4c3fd8){_0x4be331[_0x33c4de(0x18a)]=_0x33c4de(0x159);}}function renderRescheduleDates(){const _0x4b740b=a3_0x426f4d,_0x2a31c9=document[_0x4b740b(0x162)](_0x4b740b(0x1dc));_0x2a31c9[_0x4b740b(0x18a)]='';const _0x1f0ecb=Object[_0x4b740b(0x245)](availableSlotsCache)[_0x4b740b(0x1d9)](),_0x59db06=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1f0ecb[_0x4b740b(0x1d5)]===0x0){document[_0x4b740b(0x162)](_0x4b740b(0x14d))['innerHTML']=_0x4b740b(0x1a1);return;}_0x1f0ecb[_0x4b740b(0x1b8)]((_0x564905,_0x158077)=>{const _0x220e3b=_0x4b740b,_0x11c63d=new Date(_0x564905),_0x2eb816=_0x59db06[_0x11c63d[_0x220e3b(0x18d)]()],_0x23a395=_0x11c63d[_0x220e3b(0x1c0)](),_0x2d0fbf=document[_0x220e3b(0x1cd)]('div');_0x2d0fbf['className']='rs-date-chip';if(_0x158077===0x0)_0x2d0fbf[_0x220e3b(0x22c)][_0x220e3b(0x15f)]('active');_0x2d0fbf[_0x220e3b(0x18a)]=_0x220e3b(0x1dd)+_0x2eb816+_0x220e3b(0x246)+_0x23a395+_0x220e3b(0x205),_0x2d0fbf[_0x220e3b(0x1a3)]=()=>selectRsDate(_0x564905,_0x2d0fbf),_0x2a31c9[_0x220e3b(0x1cb)](_0x2d0fbf);}),selectRsDate(_0x1f0ecb[0x0],_0x2a31c9['firstChild']);}function selectRsDate(_0x5ec964,_0x1e5f99){const _0xde9dd9=a3_0x426f4d;selectedRsDate=_0x5ec964,document[_0xde9dd9(0x212)]('.rs-date-chip')['forEach'](_0x779b5d=>_0x779b5d['classList']['remove']('active'));if(_0x1e5f99)_0x1e5f99[_0xde9dd9(0x22c)][_0xde9dd9(0x15f)](_0xde9dd9(0x1cc));const _0x320432=document[_0xde9dd9(0x162)]('rsSlotsGrid');_0x320432[_0xde9dd9(0x18a)]='';const _0x544fb0=availableSlotsCache[_0x5ec964]||[];if(_0x544fb0[_0xde9dd9(0x1d5)]===0x0){_0x320432['innerHTML']=_0xde9dd9(0x1bc);return;}_0x544fb0[_0xde9dd9(0x1b8)](_0x22372c=>{const _0x4837bf=_0xde9dd9,_0xd7149=document['createElement'](_0x4837bf(0x16c));_0xd7149[_0x4837bf(0x1df)]=_0x4837bf(0x22e),_0xd7149[_0x4837bf(0x1fa)]=_0x22372c,_0xd7149[_0x4837bf(0x1a3)]=()=>confirmReschedule(_0x22372c),_0x320432['appendChild'](_0xd7149);});}async function confirmReschedule(_0x4c3898){const _0x21934a=a3_0x426f4d,_0xca9c58=new Date(selectedRsDate),_0x1ced93=_0xca9c58[_0x21934a(0x236)](_0x21934a(0x177),{'day':_0x21934a(0x1e1),'month':_0x21934a(0x160)}),_0x138e2b=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x21934a(0x170)+_0x1ced93+_0x21934a(0x241)+_0x4c3898+'?',![]);if(!_0x138e2b)return;closeAllSheets(),showToast(_0x21934a(0x1ab)),lastUserActionTime=Date[_0x21934a(0x1ac)]();const _0x2f3cf1=currentSession[_0x21934a(0x189)],_0x36ebcb=currentSession['id'],[_0x3a3059,_0x3e10e9]=currentSession['start']['split'](':')[_0x21934a(0x1fe)](Number),[_0x1dca83,_0x21c7c3]=currentSession[_0x21934a(0x1a4)]['split'](':')['map'](Number),_0x1f53f6=_0x1dca83*0x3c+_0x21c7c3-(_0x3a3059*0x3c+_0x3e10e9),[_0x5601ef,_0xa5c299]=_0x4c3898[_0x21934a(0x22b)](':')[_0x21934a(0x1fe)](Number),_0x5d452f=_0x5601ef*0x3c+_0xa5c299+_0x1f53f6,_0x570e92=Math[_0x21934a(0x17f)](_0x5d452f/0x3c),_0x3bcf26=_0x5d452f%0x3c,_0x2a8265=String(_0x570e92)['padStart'](0x2,'0')+':'+String(_0x3bcf26)[_0x21934a(0x1a8)](0x2,'0'),_0x5bbec2=sessions[_0x21934a(0x223)](_0x3d6a28=>_0x3d6a28['id']===_0x36ebcb);_0x5bbec2!==-0x1&&(sessions[_0x5bbec2][_0x21934a(0x189)]=selectedRsDate,sessions[_0x5bbec2][_0x21934a(0x239)]=_0x4c3898,sessions[_0x5bbec2]['end']=_0x2a8265,reRenderBlocks());try{const _0x27ba47=window[_0x21934a(0x213)]?.['WebApp'],_0x28905d=await fetch(API_URL,{'method':_0x21934a(0x171),'body':JSON[_0x21934a(0x161)]({'action':_0x21934a(0x219),'init_data':_0x27ba47?.[_0x21934a(0x21d)]||'','oldSessionId':_0x36ebcb,'oldDate':_0x2f3cf1,'newDate':selectedRsDate,'newTime':_0x4c3898,'coachId':currentSession[_0x21934a(0x228)]})}),_0x1f7363=await _0x28905d[_0x21934a(0x158)]();!_0x1f7363['ok']?(showToast(_0x21934a(0x195)),DataManager[_0x21934a(0x14e)]()):(showToast(_0x21934a(0x1ea)),DataManager[_0x21934a(0x16d)]());}catch(_0x2e7fc3){showToast(_0x21934a(0x1aa));}}document['addEventListener']('DOMContentLoaded',init);