const a3_0x104f72=a3_0x7d97;(function(_0x5d6707,_0x40e9ec){const _0x414f78=a3_0x7d97,_0x237904=_0x5d6707();while(!![]){try{const _0x38b476=parseInt(_0x414f78(0x252))/0x1*(parseInt(_0x414f78(0x1e3))/0x2)+-parseInt(_0x414f78(0x284))/0x3*(-parseInt(_0x414f78(0x282))/0x4)+-parseInt(_0x414f78(0x1ec))/0x5+-parseInt(_0x414f78(0x25f))/0x6+parseInt(_0x414f78(0x26e))/0x7*(parseInt(_0x414f78(0x226))/0x8)+-parseInt(_0x414f78(0x245))/0x9*(parseInt(_0x414f78(0x288))/0xa)+parseInt(_0x414f78(0x2c4))/0xb;if(_0x38b476===_0x40e9ec)break;else _0x237904['push'](_0x237904['shift']());}catch(_0x41765a){_0x237904['push'](_0x237904['shift']());}}}(a3_0x3116,0x244b9));function a3_0x7d97(_0x34523d,_0x28554f){_0x34523d=_0x34523d-0x1d6;const _0x571e53=a3_0x3116();let _0x2fdac4=_0x571e53[_0x34523d];return _0x2fdac4;}const APP_VERSION=a3_0x104f72(0x1e6),API_URL=a3_0x104f72(0x267),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x104f72(0x2a9),KEY_CLIENTS=a3_0x104f72(0x218);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x104f72(0x2ce),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xab0051=a3_0x104f72,_0x357406=(function(){let _0x462871=!![];return function(_0x5c9109,_0x5ad59c){const _0x190db4=_0x462871?function(){const _0x3a75a9=a3_0x7d97;if(_0x5ad59c){const _0x52984d=_0x5ad59c[_0x3a75a9(0x276)](_0x5c9109,arguments);return _0x5ad59c=null,_0x52984d;}}:function(){};return _0x462871=![],_0x190db4;};}()),_0x3c3df0=_0x357406(this,function(){const _0x266de8=a3_0x7d97;return _0x3c3df0[_0x266de8(0x1d8)]()['search'](_0x266de8(0x1f6))['toString']()[_0x266de8(0x2d5)](_0x3c3df0)[_0x266de8(0x1d7)](_0x266de8(0x1f6));});_0x3c3df0();try{const _0x32a760=window[_0xab0051(0x2ca)]?.[_0xab0051(0x2b0)];if(!_0x32a760)return;_0x32a760[_0xab0051(0x1f4)](),_0x32a760['expand']();try{_0x32a760[_0xab0051(0x2a2)]('#050505'),_0x32a760[_0xab0051(0x2c5)]&&_0x32a760[_0xab0051(0x2c5)](_0xab0051(0x28f));}catch(_0x60da16){console['log'](_0xab0051(0x2c1),_0x60da16);}try{_0x32a760[_0xab0051(0x202)]&&(_0x32a760[_0xab0051(0x202)][_0xab0051(0x215)](),_0x32a760[_0xab0051(0x202)][_0xab0051(0x2c6)](),_0x32a760['BackButton'][_0xab0051(0x27a)](function(){const _0x264932=_0xab0051;window[_0x264932(0x280)][_0x264932(0x268)]=_0x264932(0x2c2);}));}catch(_0x110e6a){console[_0xab0051(0x235)](_0xab0051(0x242),_0x110e6a);}try{if(_0x32a760[_0xab0051(0x279)])_0x32a760['disableVerticalSwipes']();}catch(_0x5ef37d){}}catch(_0x3214ff){console[_0xab0051(0x2b5)]('Critical\x20TMA\x20Error:',_0x3214ff);}}());function isAdmin(){const _0x2f8a54=a3_0x104f72;try{const _0x308ec7=Number(window[_0x2f8a54(0x2ca)]?.[_0x2f8a54(0x2b0)]?.[_0x2f8a54(0x24d)]?.['user']?.['id']);return _0x308ec7===0xbaf7174;}catch(_0x3db798){return![];}}const DataManager={'saveLocally'(){const _0x3545da=a3_0x104f72;try{localStorage[_0x3545da(0x207)](KEY_SESSIONS,JSON[_0x3545da(0x255)](sessions)),localStorage[_0x3545da(0x207)](KEY_CLIENTS,JSON[_0x3545da(0x255)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x3545da(0x255)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x208293){}},'loadLocal'(){const _0x45c24a=a3_0x104f72;try{const _0x40b105=localStorage['getItem'](KEY_SESSIONS);if(_0x40b105)sessions=JSON['parse'](_0x40b105);const _0x2f459d=localStorage[_0x45c24a(0x283)](KEY_CLIENTS);if(_0x2f459d)clients=JSON['parse'](_0x2f459d);const _0x434c0b=localStorage[_0x45c24a(0x283)](KEY_SETTINGS);if(_0x434c0b){const _0xab8214=JSON[_0x45c24a(0x21a)](_0x434c0b);if(_0xab8214[_0x45c24a(0x292)])availabilityPattern=_0xab8214[_0x45c24a(0x292)];if(_0xab8214[_0x45c24a(0x20d)])specialRanges=_0xab8214[_0x45c24a(0x20d)];if(_0xab8214[_0x45c24a(0x225)])dateExceptions=_0xab8214[_0x45c24a(0x225)];}}catch(_0x20ca3a){}},async 'syncLoad'(){const _0x5d5d05=a3_0x104f72,_0x487ef1=new Date(),_0x316a95=_0x487ef1['getFullYear']()+'-'+String(_0x487ef1[_0x5d5d05(0x2a6)]()+0x1)[_0x5d5d05(0x217)](0x2,'0'),_0x404387=new Date(_0x487ef1);_0x404387[_0x5d5d05(0x264)](_0x487ef1[_0x5d5d05(0x2a6)]()+0x1);const _0x195509=_0x404387[_0x5d5d05(0x250)]()+'-'+String(_0x404387[_0x5d5d05(0x2a6)]()+0x1)['padStart'](0x2,'0'),_0x102689=Date[_0x5d5d05(0x241)]();try{const _0x159298=window[_0x5d5d05(0x2ca)]?.[_0x5d5d05(0x2b0)],_0x1048d0=_0x159298?.[_0x5d5d05(0x229)]||'',[_0x1b6858,_0x2f366e]=await Promise[_0x5d5d05(0x1ff)]([fetch(API_URL,{'method':'POST','body':JSON[_0x5d5d05(0x255)]({'action':_0x5d5d05(0x2b4),'init_data':_0x1048d0,'month_str':_0x316a95})})[_0x5d5d05(0x2a5)](_0x15ccf2=>_0x15ccf2[_0x5d5d05(0x2b8)]()),fetch(API_URL,{'method':_0x5d5d05(0x2cb),'body':JSON[_0x5d5d05(0x255)]({'action':_0x5d5d05(0x2b4),'init_data':_0x1048d0,'month_str':_0x195509})})[_0x5d5d05(0x2a5)](_0x16b47f=>_0x16b47f[_0x5d5d05(0x2b8)]())]);if(lastUserActionTime>_0x102689){console[_0x5d5d05(0x235)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x1b6858['ok'])this[_0x5d5d05(0x1db)](_0x1b6858[_0x5d5d05(0x2ae)],_0x316a95);if(_0x2f366e['ok'])this[_0x5d5d05(0x1db)](_0x2f366e[_0x5d5d05(0x2ae)],_0x195509);this[_0x5d5d05(0x2c0)]();}catch(_0x44054a){}},'applyData'(_0x4057f0,_0x348554){const _0xc59094=a3_0x104f72;if(!_0x4057f0)return;if(_0x4057f0['settings']){if(_0x4057f0[_0xc59094(0x2bd)][_0xc59094(0x292)])availabilityPattern=_0x4057f0[_0xc59094(0x2bd)][_0xc59094(0x292)];if(_0x4057f0[_0xc59094(0x2bd)]['ranges'])specialRanges=_0x4057f0[_0xc59094(0x2bd)][_0xc59094(0x20d)];if(_0x4057f0[_0xc59094(0x2bd)][_0xc59094(0x225)])dateExceptions=_0x4057f0['settings'][_0xc59094(0x225)];}if(_0x4057f0[_0xc59094(0x1d9)]&&Array[_0xc59094(0x28a)](_0x4057f0['clients']))clients=_0x4057f0['clients'];_0x4057f0['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x4057f0['coach_profiles']}),_0x4057f0[_0xc59094(0x2b1)]&&(sessions=sessions[_0xc59094(0x273)](_0x404209=>!_0x404209[_0xc59094(0x210)]['startsWith'](_0x348554)),Object['keys'](_0x4057f0[_0xc59094(0x2b1)])['forEach'](_0x532b35=>{const _0x3662b9=_0xc59094,_0x29079b=_0x4057f0[_0x3662b9(0x2b1)][_0x532b35];_0x29079b['forEach'](_0x485d3c=>{const _0x2f06e0=_0x3662b9;sessions[_0x2f06e0(0x27e)]({'id':_0x485d3c['i'],'clientId':_0x485d3c['c'],'coachId':_0x485d3c['cid'],'dateStr':_0x348554+'-'+_0x532b35[_0x2f06e0(0x217)](0x2,'0'),'start':_0x485d3c['s'],'end':_0x485d3c['e'],'note':_0x485d3c['n']||'','status':_0x485d3c['st']||_0x2f06e0(0x2d2),'seriesId':_0x485d3c[_0x2f06e0(0x2a0)]});});})),reRenderBlocks();}};function init(){const _0x151be3=a3_0x104f72;DataManager[_0x151be3(0x2aa)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x151be3(0x2a3)]('matrixViewport')[_0x151be3(0x2d0)](_0x151be3(0x295),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x151be3(0x24a)]();}function renderTimeColumn(){const _0x4b2b15=a3_0x104f72,_0x47449a=document[_0x4b2b15(0x2a3)](_0x4b2b15(0x29d)),_0x535460=document[_0x4b2b15(0x2a3)]('timeLineBadge');_0x47449a[_0x4b2b15(0x293)]='',_0x47449a[_0x4b2b15(0x236)](_0x535460);for(let _0x39fb46=0x0;_0x39fb46<0x18;_0x39fb46++){const _0x4abfdc=document[_0x4b2b15(0x2a1)]('div');_0x4abfdc[_0x4b2b15(0x201)]=_0x4b2b15(0x227);if(_0x39fb46>0x0)_0x4abfdc['innerHTML']=_0x4b2b15(0x1df)+String(_0x39fb46)[_0x4b2b15(0x217)](0x2,'0')+_0x4b2b15(0x265);_0x47449a[_0x4b2b15(0x236)](_0x4abfdc);}}function renderDayRange(_0x497c64,_0x5bb23f){const _0x1c7c60=a3_0x104f72,_0x312059=document['getElementById'](_0x1c7c60(0x224)),_0x121e95=document[_0x1c7c60(0x2a3)](_0x1c7c60(0x1f2)),_0x11a08c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x74f03d=new Date();_0x74f03d['setHours'](0x0,0x0,0x0,0x0);const _0x1b361d=getLocalDateStr(new Date());for(let _0x582509=_0x497c64;_0x582509<=_0x5bb23f;_0x582509++){const _0x5686b4=new Date(_0x74f03d);_0x5686b4[_0x1c7c60(0x270)](_0x5686b4['getDate']()+_0x582509);const _0x3cfd8e=getLocalDateStr(_0x5686b4);let _0x21eed4=_0x5686b4[_0x1c7c60(0x2a7)]()-0x1;if(_0x21eed4===-0x1)_0x21eed4=0x6;const _0x4ff80f=_0x3cfd8e===_0x1b361d,_0x2bf2ec=document['createElement'](_0x1c7c60(0x2b9));_0x2bf2ec[_0x1c7c60(0x201)]='day-col-header\x20'+(_0x4ff80f?_0x1c7c60(0x23f):''),_0x2bf2ec[_0x1c7c60(0x260)](_0x1c7c60(0x278),_0x3cfd8e),_0x2bf2ec[_0x1c7c60(0x293)]=_0x1c7c60(0x285)+_0x11a08c[_0x21eed4]+_0x1c7c60(0x24b)+_0x5686b4['getDate']()+_0x1c7c60(0x251),_0x312059[_0x1c7c60(0x236)](_0x2bf2ec);const _0x11073e=document[_0x1c7c60(0x2a1)]('div');_0x11073e[_0x1c7c60(0x201)]='day-column\x20'+(_0x4ff80f?_0x1c7c60(0x23f):''),_0x11073e[_0x1c7c60(0x260)](_0x1c7c60(0x278),_0x3cfd8e),_0x11073e['setAttribute'](_0x1c7c60(0x1f0),_0x21eed4),_0x121e95[_0x1c7c60(0x236)](_0x11073e);}}function reRenderBlocks(){const _0x3338fc=a3_0x104f72;document[_0x3338fc(0x25b)]('.day-column')[_0x3338fc(0x2cd)](_0xee071b=>{const _0x49eb8d=_0x3338fc;_0xee071b[_0x49eb8d(0x25b)](_0x49eb8d(0x1e2))[_0x49eb8d(0x2cd)](_0x2da93f=>_0x2da93f[_0x49eb8d(0x266)]());const _0x3d5de5=_0xee071b[_0x49eb8d(0x28e)](_0x49eb8d(0x278)),_0x3e3483=parseInt(_0xee071b[_0x49eb8d(0x28e)](_0x49eb8d(0x1f0))),_0x2d2005=Math[_0x49eb8d(0x21d)](_0xee071b[_0x49eb8d(0x289)]);(availabilityPattern[_0x3e3483]||[])['forEach'](_0x113c13=>{const _0x12a954=_0x49eb8d,_0x79f094=document[_0x12a954(0x2a1)]('div');_0x79f094[_0x12a954(0x201)]='blocked-slot\x20stripe-bg',_0x79f094[_0x12a954(0x23d)][_0x12a954(0x297)]=_0x113c13*GRID_H+'px',_0x79f094[_0x12a954(0x23d)][_0x12a954(0x1eb)]='-'+_0x2d2005+_0x12a954(0x216)+_0x113c13*GRID_H+'px',_0xee071b['appendChild'](_0x79f094);});if(specialRanges[_0x49eb8d(0x1ea)]>0x0){const _0x3c434c=new Date(_0x3d5de5+_0x49eb8d(0x247))[_0x49eb8d(0x1f5)](),_0x39d2ad=new Date(_0x3d5de5+_0x49eb8d(0x1fb))[_0x49eb8d(0x1f5)]();specialRanges[_0x49eb8d(0x2cd)](_0x37c50b=>{const _0x732a45=_0x49eb8d,_0x4e8143=new Date(_0x37c50b[_0x732a45(0x1e4)])['getTime'](),_0x4ce779=new Date(_0x37c50b[_0x732a45(0x249)])['getTime'](),_0x50f57f=Math[_0x732a45(0x200)](_0x3c434c,_0x4e8143),_0x5ba3d0=Math[_0x732a45(0x2b7)](_0x39d2ad,_0x4ce779);if(_0x50f57f<_0x5ba3d0){const _0x214883=(_0x50f57f-_0x3c434c)/0x36ee80*GRID_H,_0x3ac3d0=(_0x5ba3d0-_0x50f57f)/0x36ee80*GRID_H,_0x5deeaa=document[_0x732a45(0x2a1)](_0x732a45(0x2b9));_0x3ac3d0>=23.5*GRID_H?(_0x5deeaa[_0x732a45(0x201)]='day-off-overlay\x20stripe-bg',_0x5deeaa[_0x732a45(0x23d)][_0x732a45(0x1eb)]='-'+_0x2d2005+'px\x200px'):(_0x5deeaa[_0x732a45(0x201)]=_0x732a45(0x29e),_0x5deeaa[_0x732a45(0x23d)]['top']=_0x214883+'px',_0x5deeaa[_0x732a45(0x23d)][_0x732a45(0x2d4)]=_0x3ac3d0+'px',_0x5deeaa['style'][_0x732a45(0x1eb)]='-'+_0x2d2005+_0x732a45(0x216)+_0x214883+'px'),_0xee071b[_0x732a45(0x236)](_0x5deeaa);}});}renderEventsForColumn(_0xee071b,_0x3d5de5);});}function renderEventsForColumn(_0x1f1611,_0x341364){const _0x301caa=a3_0x104f72,_0x2d30ad=sessions[_0x301caa(0x273)](_0x224730=>_0x224730[_0x301caa(0x210)]===_0x341364),_0x513d5f=_0x2d30ad[_0x301caa(0x29f)](_0x3c4f0c=>{const _0x24f075=_0x301caa,[_0xd2ce56,_0x31935e]=_0x3c4f0c['start']['split'](':')[_0x24f075(0x29f)](Number),[_0x57a8dc,_0x3d3e93]=_0x3c4f0c[_0x24f075(0x249)][_0x24f075(0x238)](':')['map'](Number);return{'data':_0x3c4f0c,'start':_0xd2ce56*0x3c+_0x31935e,'end':_0x57a8dc*0x3c+_0x3d3e93,'colIndex':0x0};});_0x513d5f['sort']((_0x2e080d,_0x3cc112)=>_0x2e080d[_0x301caa(0x1e4)]-_0x3cc112[_0x301caa(0x1e4)]||_0x3cc112[_0x301caa(0x249)]-_0x3cc112[_0x301caa(0x1e4)]-(_0x2e080d[_0x301caa(0x249)]-_0x2e080d['start']));const _0x523fe9=[];_0x513d5f['forEach'](_0x511f17=>{const _0xbfa91d=_0x301caa;let _0x206440=![];for(let _0x2d9fad=0x0;_0x2d9fad<_0x523fe9[_0xbfa91d(0x1ea)];_0x2d9fad++){const _0x319be8=_0x523fe9[_0x2d9fad];if(_0x511f17[_0xbfa91d(0x1e4)]>=_0x319be8[_0x319be8['length']-0x1][_0xbfa91d(0x249)]){_0x319be8[_0xbfa91d(0x27e)](_0x511f17),_0x511f17[_0xbfa91d(0x1dc)]=_0x2d9fad,_0x206440=!![];break;}}!_0x206440&&(_0x523fe9['push']([_0x511f17]),_0x511f17[_0xbfa91d(0x1dc)]=_0x523fe9['length']-0x1);}),_0x513d5f[_0x301caa(0x2cd)](_0x4088d6=>{const _0x5798b8=_0x301caa;let _0x42b9ba=0x0;_0x513d5f[_0x5798b8(0x2cd)](_0x4815dc=>{const _0x5b313f=_0x5798b8;if(Math[_0x5b313f(0x200)](_0x4088d6[_0x5b313f(0x1e4)],_0x4815dc[_0x5b313f(0x1e4)])<Math[_0x5b313f(0x2b7)](_0x4088d6['end'],_0x4815dc[_0x5b313f(0x249)])&&_0x4815dc[_0x5b313f(0x1dc)]>_0x42b9ba)_0x42b9ba=_0x4815dc[_0x5b313f(0x1dc)];});const _0x47d1bc=_0x42b9ba+0x1,_0x915f4d=0x64/_0x47d1bc,_0x4bf7d8=_0x4088d6['colIndex']*_0x915f4d,_0x3c5260=document[_0x5798b8(0x2a1)](_0x5798b8(0x2b9)),_0x4e2430=_0x4088d6[_0x5798b8(0x2ae)];let _0x288d6c='#0a84ff';if(clients&&clients[_0x5798b8(0x1ea)]>0x0){const _0x308f30=clients[_0x5798b8(0x269)](_0x47e42b=>String(_0x47e42b['id'])===String(_0x4e2430['clientId']));if(_0x308f30&&_0x308f30[_0x5798b8(0x23b)])_0x288d6c=_0x308f30[_0x5798b8(0x23b)];}const _0x3e8756=_0x4e2430['status']===_0x5798b8(0x2b2),_0x4993fe=_0x3e8756?0x1:0.45;_0x3c5260[_0x5798b8(0x201)]=_0x5798b8(0x28d)+(_0x3e8756?_0x5798b8(0x234):''),_0x3c5260[_0x5798b8(0x23d)][_0x5798b8(0x25a)]=hexToRgba(_0x288d6c,_0x4993fe),_0x3c5260[_0x5798b8(0x23d)][_0x5798b8(0x20c)]=_0x288d6c;const _0x1b83e3=_0x4088d6[_0x5798b8(0x1e4)]/0x3c*GRID_H,_0x38b49e=(_0x4088d6['end']-_0x4088d6[_0x5798b8(0x1e4)])/0x3c*GRID_H;_0x3c5260[_0x5798b8(0x23d)][_0x5798b8(0x297)]=_0x1b83e3+'px',_0x3c5260['style'][_0x5798b8(0x2d4)]=Math[_0x5798b8(0x200)](_0x38b49e,0x14)+'px',_0x3c5260[_0x5798b8(0x23d)][_0x5798b8(0x2be)]=_0x5798b8(0x24e)+_0x915f4d+_0x5798b8(0x2ba),_0x3c5260[_0x5798b8(0x23d)][_0x5798b8(0x298)]=_0x5798b8(0x24e)+_0x4bf7d8+_0x5798b8(0x287),_0x3c5260[_0x5798b8(0x23d)]['zIndex']=0xa+_0x4088d6[_0x5798b8(0x1dc)];if(_0x915f4d<0x55)_0x3c5260[_0x5798b8(0x1e0)][_0x5798b8(0x28b)](_0x5798b8(0x239));let _0x350d18='';if(_0x4e2430['seriesId'])_0x350d18+=_0x5798b8(0x262);if(_0x3e8756)_0x350d18+=_0x5798b8(0x2c7);_0x3c5260[_0x5798b8(0x293)]=_0x5798b8(0x20a)+_0x4e2430[_0x5798b8(0x1e4)]+_0x5798b8(0x27f)+_0x4e2430[_0x5798b8(0x249)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x350d18+_0x5798b8(0x1fa),_0x3c5260['onclick']=_0x521e48=>{const _0x565320=_0x5798b8;_0x521e48[_0x565320(0x1ef)](),openDetails(_0x4e2430);},_0x1f1611['appendChild'](_0x3c5260);});}function openAnalytics(){const _0x3a260a=a3_0x104f72,_0x4af3ea=document[_0x3a260a(0x244)](_0x3a260a(0x228));setAnalyticsPeriod('week',_0x4af3ea),openSheet(_0x3a260a(0x257));}function setAnalyticsPeriod(_0x126803,_0x204748){const _0x2e315=a3_0x104f72;currentAnPeriod=_0x126803,document[_0x2e315(0x25b)]('.period-switch\x20.p-btn')[_0x2e315(0x2cd)](_0x5343ba=>_0x5343ba[_0x2e315(0x1e0)][_0x2e315(0x266)](_0x2e315(0x26d)));if(_0x204748)_0x204748[_0x2e315(0x1e0)]['add']('active');const _0x51dfbb=document[_0x2e315(0x2a3)](_0x2e315(0x272));_0x51dfbb[_0x2e315(0x23d)][_0x2e315(0x2c8)]=_0x126803===_0x2e315(0x27d)?_0x2e315(0x20f):_0x2e315(0x213);const _0x9b6b0d=new Date();let _0x3dd33c=new Date(),_0x3b385d=new Date();if(_0x126803===_0x2e315(0x2ce))_0x3dd33c=getStartOfWeek(_0x9b6b0d),_0x3b385d=new Date(_0x3dd33c),_0x3b385d['setDate'](_0x3b385d[_0x2e315(0x22e)]()+0x6);else{if(_0x126803===_0x2e315(0x221))_0x3dd33c=new Date(_0x9b6b0d[_0x2e315(0x250)](),_0x9b6b0d[_0x2e315(0x2a6)](),0x1),_0x3b385d=new Date(_0x9b6b0d[_0x2e315(0x250)](),_0x9b6b0d[_0x2e315(0x2a6)]()+0x1,0x0);else{!document['getElementById'](_0x2e315(0x2ac))['value']&&(document[_0x2e315(0x2a3)](_0x2e315(0x2ac))[_0x2e315(0x26b)]=getLocalDateStr(_0x9b6b0d),document[_0x2e315(0x2a3)](_0x2e315(0x1f1))[_0x2e315(0x26b)]=getLocalDateStr(_0x9b6b0d));refreshAnalytics();return;}}document[_0x2e315(0x2a3)]('anStart')[_0x2e315(0x26b)]=getLocalDateStr(_0x3dd33c),document[_0x2e315(0x2a3)]('anEnd')[_0x2e315(0x26b)]=getLocalDateStr(_0x3b385d),refreshAnalytics();}function refreshAnalytics(){const _0x141e4f=a3_0x104f72,_0x1cceee=document['getElementById'](_0x141e4f(0x2ac))[_0x141e4f(0x26b)],_0x4a9d15=document[_0x141e4f(0x2a3)](_0x141e4f(0x1f1))['value'];if(!_0x1cceee||!_0x4a9d15)return;const _0x1dd5cd=sessions[_0x141e4f(0x273)](_0x4a46e6=>_0x4a46e6[_0x141e4f(0x210)]>=_0x1cceee&&_0x4a46e6[_0x141e4f(0x210)]<=_0x4a9d15&&_0x4a46e6[_0x141e4f(0x26f)]!==_0x141e4f(0x233)),_0x567c8b=_0x1dd5cd['length'],_0x96089a=_0x1dd5cd['filter'](_0x1e352e=>_0x1e352e[_0x141e4f(0x26f)]===_0x141e4f(0x2b2))[_0x141e4f(0x1ea)],_0x2cb3c0=_0x567c8b>0x0?Math[_0x141e4f(0x21d)](_0x96089a/_0x567c8b*0x64):0x0;document[_0x141e4f(0x2a3)](_0x141e4f(0x22f))[_0x141e4f(0x275)]=_0x2cb3c0+'%',document[_0x141e4f(0x2a3)](_0x141e4f(0x2bc))['textContent']=_0x96089a+'\x20–∏–∑\x20'+_0x567c8b+_0x141e4f(0x2bf);const _0x667ff9=document[_0x141e4f(0x2a3)]('anDonutCircle'),_0x54d3c7=0x2*Math['PI']*0x23,_0x4e81f6=_0x54d3c7-_0x2cb3c0/0x64*_0x54d3c7;_0x667ff9[_0x141e4f(0x23d)][_0x141e4f(0x1e5)]=_0x4e81f6;const _0x14baef={};_0x1dd5cd[_0x141e4f(0x2cd)](_0x8a22ec=>{const _0x351a8d=_0x141e4f,_0x2e0df2=_0x8a22ec[_0x351a8d(0x25c)]||_0x351a8d(0x232);if(!_0x14baef[_0x2e0df2]){const _0x5884e6='#'+_0x2e0df2['toString']()['substr'](0x0,0x6);_0x14baef[_0x2e0df2]={'total':0x0,'done':0x0,'color':_0x5884e6};}_0x14baef[_0x2e0df2][_0x351a8d(0x299)]++;if(_0x8a22ec['status']==='completed')_0x14baef[_0x2e0df2]['done']++;});const _0x3969fc=document[_0x141e4f(0x2a3)]('analyticsList');_0x3969fc['innerHTML']='';const _0x46c421=Object[_0x141e4f(0x2a4)](_0x14baef)[_0x141e4f(0x209)]((_0x7d1109,_0x17c755)=>_0x17c755[0x1][_0x141e4f(0x299)]-_0x7d1109[0x1][_0x141e4f(0x299)]);if(_0x46c421['length']===0x0){_0x3969fc['innerHTML']=_0x141e4f(0x220);return;}_0x46c421['forEach'](([_0x104845,_0x4d9f1b])=>{const _0x2ad38f=_0x141e4f,_0x25fdb1=Math[_0x2ad38f(0x21d)](_0x4d9f1b['done']/_0x4d9f1b[_0x2ad38f(0x299)]*0x64),_0x106a1b=document['createElement'](_0x2ad38f(0x2b9));_0x106a1b[_0x2ad38f(0x201)]=_0x2ad38f(0x22a),_0x106a1b['style'][_0x2ad38f(0x20c)]=_0x4d9f1b[_0x2ad38f(0x23b)],_0x106a1b[_0x2ad38f(0x293)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x104845['substr'](0x0,0x5)+_0x2ad38f(0x290)+_0x4d9f1b['done']+'</span>\x20/\x20'+_0x4d9f1b[_0x2ad38f(0x299)]+_0x2ad38f(0x1f8)+_0x25fdb1+_0x2ad38f(0x2af),_0x3969fc[_0x2ad38f(0x236)](_0x106a1b);});}function openDetails(_0x5c5b5f){const _0x171b17=a3_0x104f72;currentSession=_0x5c5b5f;const _0x249087=new Date(_0x5c5b5f['dateStr']),_0x4f310c=_0x249087[_0x171b17(0x1e8)](_0x171b17(0x26c),{'weekday':_0x171b17(0x204),'day':'numeric','month':_0x171b17(0x204)});document[_0x171b17(0x2a3)](_0x171b17(0x26a))[_0x171b17(0x275)]=_0x4f310c[_0x171b17(0x205)](0x0)[_0x171b17(0x1fe)]()+_0x4f310c['slice'](0x1),document[_0x171b17(0x2a3)](_0x171b17(0x246))[_0x171b17(0x275)]=_0x5c5b5f[_0x171b17(0x1e4)]+_0x171b17(0x27f)+_0x5c5b5f[_0x171b17(0x249)],document[_0x171b17(0x2a3)](_0x171b17(0x29c))[_0x171b17(0x275)]=_0x5c5b5f[_0x171b17(0x203)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x279795=document[_0x171b17(0x2a3)]('detStatus'),_0x3ab2b5=document[_0x171b17(0x2a3)](_0x171b17(0x214)),_0x546109=_0x3ab2b5[_0x171b17(0x244)](_0x171b17(0x206)),_0xc4caea=_0x3ab2b5[_0x171b17(0x244)](_0x171b17(0x219)),_0x5ddf6a=document['getElementById']('cancelHint');if(_0x5c5b5f['status']==='completed')_0x279795[_0x171b17(0x275)]=_0x171b17(0x1dd),_0x279795['style'][_0x171b17(0x23b)]=_0x171b17(0x23e),_0x3ab2b5['style'][_0x171b17(0x2c8)]='none';else{_0x279795[_0x171b17(0x275)]=_0x171b17(0x281),_0x279795[_0x171b17(0x23d)][_0x171b17(0x23b)]=_0x171b17(0x29a),_0x3ab2b5[_0x171b17(0x23d)]['display']=_0x171b17(0x28c);const _0x1ca6aa=new Date(_0x5c5b5f[_0x171b17(0x210)]+'T'+_0x5c5b5f[_0x171b17(0x1e4)]),_0x2f5469=new Date(),_0x199313=(_0x1ca6aa-_0x2f5469)/(0x3e8*0x3c*0x3c),_0x311dc9=coachProfiles[_0x5c5b5f['coachId']]&&coachProfiles[_0x5c5b5f[_0x171b17(0x25c)]][_0x171b17(0x29b)]?parseInt(coachProfiles[_0x5c5b5f[_0x171b17(0x25c)]][_0x171b17(0x29b)]):0x18;if(_0x311dc9===0x0||_0x199313>=_0x311dc9)_0x546109[_0x171b17(0x23d)][_0x171b17(0x2c8)]='block',_0xc4caea['style'][_0x171b17(0x2c8)]=_0x171b17(0x28c),_0x5ddf6a[_0x171b17(0x23d)][_0x171b17(0x2c8)]=_0x171b17(0x213);else{_0x546109[_0x171b17(0x23d)][_0x171b17(0x2c8)]=_0x171b17(0x213),_0xc4caea[_0x171b17(0x23d)][_0x171b17(0x2c8)]=_0x171b17(0x213),_0x5ddf6a['style']['display']=_0x171b17(0x28c);let _0x1a0edb=_0x311dc9===0x0?_0x171b17(0x1f3):_0x171b17(0x240)+_0x311dc9+'\x20—á.';_0x5ddf6a[_0x171b17(0x275)]=_0x171b17(0x263)+_0x1a0edb+_0x171b17(0x2d6);}}document[_0x171b17(0x2a3)](_0x171b17(0x230))[_0x171b17(0x1e0)][_0x171b17(0x28b)](_0x171b17(0x26d)),document[_0x171b17(0x2a3)](_0x171b17(0x21b))[_0x171b17(0x1e0)]['add']('open');}function closeAllSheets(){const _0x3f3d16=a3_0x104f72;document[_0x3f3d16(0x2a3)]('overlay')[_0x3f3d16(0x1e0)]['remove'](_0x3f3d16(0x26d)),document['querySelectorAll']('.sheet')[_0x3f3d16(0x2cd)](_0xff3eef=>_0xff3eef[_0x3f3d16(0x1e0)][_0x3f3d16(0x266)](_0x3f3d16(0x296)));}function openSheet(_0x262331){const _0x787756=a3_0x104f72;document[_0x787756(0x2a3)](_0x787756(0x230))[_0x787756(0x1e0)][_0x787756(0x28b)](_0x787756(0x26d)),document[_0x787756(0x2a3)](_0x262331)[_0x787756(0x1e0)][_0x787756(0x28b)](_0x787756(0x296));}function getLocalDateStr(_0x18719d){const _0x4c8198=a3_0x104f72,_0x38e9f1=_0x18719d[_0x4c8198(0x250)](),_0x18c334=String(_0x18719d[_0x4c8198(0x2a6)]()+0x1)[_0x4c8198(0x217)](0x2,'0'),_0x586939=String(_0x18719d[_0x4c8198(0x22e)]())[_0x4c8198(0x217)](0x2,'0');return _0x38e9f1+'-'+_0x18c334+'-'+_0x586939;}function getStartOfWeek(_0x59b029){const _0x160f10=a3_0x104f72,_0x741034=new Date(_0x59b029),_0x48fb47=_0x741034[_0x160f10(0x2a7)](),_0x3f9ec0=_0x741034[_0x160f10(0x22e)]()-_0x48fb47+(_0x48fb47===0x0?-0x6:0x1);return _0x741034[_0x160f10(0x270)](_0x3f9ec0),_0x741034[_0x160f10(0x23a)](0x0,0x0,0x0,0x0),_0x741034;}function scrollToToday(){const _0x552a02=getLocalDateStr(new Date());setTimeout(()=>{const _0x513274=a3_0x7d97,_0x5692a9=document['querySelector'](_0x513274(0x27c)+_0x552a02+'\x22]');if(_0x5692a9){const _0x4d3c3c=document[_0x513274(0x2a3)](_0x513274(0x21e)),_0x21f1d5=_0x5692a9[_0x513274(0x289)]-_0x4d3c3c[_0x513274(0x1d6)]/0x2+_0x5692a9[_0x513274(0x2cc)]/0x2;_0x4d3c3c['scrollTo']({'left':_0x21f1d5,'behavior':_0x513274(0x25d)}),_0x4d3c3c[_0x513274(0x1fd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x885a98=a3_0x104f72,_0xdcf74f=new Date(),_0x80cae0=document['getElementById'](_0x885a98(0x1e9)),_0xb5231a=document['getElementById'](_0x885a98(0x1e7)),_0x22cb2a=(_0xdcf74f['getHours']()*0x3c+_0xdcf74f[_0x885a98(0x2d3)]())/0x3c*GRID_H;_0x80cae0[_0x885a98(0x23d)]['top']=_0x22cb2a+'px',_0x80cae0[_0x885a98(0x23d)][_0x885a98(0x2c8)]=_0x885a98(0x28c),_0xb5231a[_0x885a98(0x23d)][_0x885a98(0x297)]=_0x22cb2a+'px',_0xb5231a[_0x885a98(0x23d)][_0x885a98(0x2c8)]=_0x885a98(0x28c),_0xb5231a['textContent']=String(_0xdcf74f['getHours']())[_0x885a98(0x217)](0x2,'0')+':'+String(_0xdcf74f[_0x885a98(0x2d3)]())[_0x885a98(0x217)](0x2,'0');}function onScroll(){const _0x122faf=a3_0x104f72,_0x5b72f0=document[_0x122faf(0x2a3)]('matrixViewport'),_0x301e09=document[_0x122faf(0x25b)]('.day-col-header');for(let _0x1cf6cf of _0x301e09)if(_0x1cf6cf[_0x122faf(0x289)]>=_0x5b72f0['scrollLeft']){const _0x174c96=new Date(_0x1cf6cf[_0x122faf(0x28e)]('data-date'));document[_0x122faf(0x2a3)](_0x122faf(0x24f))['textContent']=_0x174c96[_0x122faf(0x21c)]('ru',{'month':_0x122faf(0x204)})[_0x122faf(0x1fe)]()+'\x20'+_0x174c96['getFullYear']();break;}}function showToast(_0x3e30b5){const _0x531fdd=a3_0x104f72,_0x2e2340=document[_0x531fdd(0x2a3)]('toast');_0x2e2340['textContent']=_0x3e30b5,_0x2e2340['classList'][_0x531fdd(0x28b)]('show'),setTimeout(()=>_0x2e2340[_0x531fdd(0x1e0)]['remove'](_0x531fdd(0x215)),0x7d0);}function handleInfiniteScroll(){const _0x43f2d2=a3_0x104f72,_0x4ec0b7=document[_0x43f2d2(0x2a3)](_0x43f2d2(0x21e)),_0x2ac8ed=_0x4ec0b7[_0x43f2d2(0x277)],_0x43c867=_0x4ec0b7[_0x43f2d2(0x222)],_0x4a28d1=_0x4ec0b7['clientWidth'];if(_0x43c867-(_0x2ac8ed+_0x4a28d1)<0x12c){const _0x22fc0a=endOffset;endOffset+=0xe,renderDayRange(_0x22fc0a+0x1,endOffset),reRenderBlocks();}if(_0x2ac8ed<0x12c){const _0x3a8d6a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3a8d6a-0x1),_0x4ec0b7[_0x43f2d2(0x277)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2bf063,_0x17b1ca){const _0x3a3d2e=a3_0x104f72,_0xcd3386=document[_0x3a3d2e(0x2a3)](_0x3a3d2e(0x224)),_0x1736fb=document[_0x3a3d2e(0x2a3)](_0x3a3d2e(0x1f2)),_0x5df9c9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2ef5d1=new Date();_0x2ef5d1[_0x3a3d2e(0x23a)](0x0,0x0,0x0,0x0);const _0x408356=getLocalDateStr(new Date()),_0x4a46ec=document['createDocumentFragment'](),_0x5c42c9=document[_0x3a3d2e(0x271)]();for(let _0x3f7889=_0x2bf063;_0x3f7889<=_0x17b1ca;_0x3f7889++){const _0x3674ab=new Date(_0x2ef5d1);_0x3674ab[_0x3a3d2e(0x270)](_0x3674ab[_0x3a3d2e(0x22e)]()+_0x3f7889);const _0x52eab0=getLocalDateStr(_0x3674ab);let _0x3687a3=_0x3674ab['getDay']()-0x1;if(_0x3687a3===-0x1)_0x3687a3=0x6;const _0x5d95f3=_0x52eab0===_0x408356,_0x31d88e=document[_0x3a3d2e(0x2a1)]('div');_0x31d88e[_0x3a3d2e(0x201)]=_0x3a3d2e(0x231)+(_0x5d95f3?_0x3a3d2e(0x23f):''),_0x31d88e[_0x3a3d2e(0x260)](_0x3a3d2e(0x278),_0x52eab0),_0x31d88e[_0x3a3d2e(0x293)]=_0x3a3d2e(0x285)+_0x5df9c9[_0x3687a3]+_0x3a3d2e(0x24b)+_0x3674ab['getDate']()+_0x3a3d2e(0x251),_0x4a46ec[_0x3a3d2e(0x236)](_0x31d88e);const _0x19efab=document[_0x3a3d2e(0x2a1)](_0x3a3d2e(0x2b9));_0x19efab[_0x3a3d2e(0x201)]=_0x3a3d2e(0x2c9)+(_0x5d95f3?'today':''),_0x19efab[_0x3a3d2e(0x260)](_0x3a3d2e(0x278),_0x52eab0),_0x19efab[_0x3a3d2e(0x260)]('data-day-idx',_0x3687a3),_0x5c42c9[_0x3a3d2e(0x236)](_0x19efab);}_0xcd3386[_0x3a3d2e(0x20e)](_0x4a46ec,_0xcd3386['firstChild']),_0x1736fb[_0x3a3d2e(0x20e)](_0x5c42c9,_0x1736fb[_0x3a3d2e(0x244)](_0x3a3d2e(0x258)));}function hexToRgba(_0x53d27c,_0x32cb3a){const _0x27ffa1=a3_0x104f72;let _0x2f99c8;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x27ffa1(0x211)](_0x53d27c))return _0x2f99c8=_0x53d27c[_0x27ffa1(0x256)](0x1)[_0x27ffa1(0x238)](''),_0x2f99c8[_0x27ffa1(0x1ea)]==0x3&&(_0x2f99c8=[_0x2f99c8[0x0],_0x2f99c8[0x0],_0x2f99c8[0x1],_0x2f99c8[0x1],_0x2f99c8[0x2],_0x2f99c8[0x2]]),_0x2f99c8='0x'+_0x2f99c8[_0x27ffa1(0x2a8)](''),_0x27ffa1(0x294)+[_0x2f99c8>>0x10&0xff,_0x2f99c8>>0x8&0xff,_0x2f99c8&0xff][_0x27ffa1(0x2a8)](',')+','+_0x32cb3a+')';return _0x27ffa1(0x223)+_0x32cb3a+')';}let confirmResolver=null;function showCustomConfirm(_0x158443,_0x27948b,_0x5ca830=!![]){const _0x1ed4a2=a3_0x104f72;document[_0x1ed4a2(0x2a3)](_0x1ed4a2(0x274))[_0x1ed4a2(0x275)]=_0x158443,document['getElementById'](_0x1ed4a2(0x253))[_0x1ed4a2(0x275)]=_0x27948b;const _0xd19fbd=document[_0x1ed4a2(0x2a3)](_0x1ed4a2(0x254));return _0x5ca830?(_0xd19fbd[_0x1ed4a2(0x23d)]['color']=_0x1ed4a2(0x248),_0xd19fbd[_0x1ed4a2(0x23d)][_0x1ed4a2(0x2ab)]=_0x1ed4a2(0x2b6)):(_0xd19fbd[_0x1ed4a2(0x23d)][_0x1ed4a2(0x23b)]=_0x1ed4a2(0x21f),_0xd19fbd[_0x1ed4a2(0x23d)]['fontWeight']='600'),new Promise(_0x156a8c=>{const _0x581fec=_0x1ed4a2;confirmResolver=_0x156a8c,document[_0x581fec(0x2a3)](_0x581fec(0x259))[_0x581fec(0x1e0)][_0x581fec(0x28b)](_0x581fec(0x291));});}function resolveCustomConfirm(_0x593632){const _0xa693ca=a3_0x104f72;document[_0xa693ca(0x2a3)](_0xa693ca(0x259))[_0xa693ca(0x1e0)]['remove']('visible');if(confirmResolver)confirmResolver(_0x593632);}async function tryCancelCurrentSession(){const _0x2e4266=a3_0x104f72;if(!currentSession)return;const _0x46e5f8=await showCustomConfirm(_0x2e4266(0x1ee),_0x2e4266(0x261),!![]);if(!_0x46e5f8)return;const _0x88b3d4=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x4346c4=>_0x4346c4['id']!==_0x88b3d4['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x56effa=window[_0x2e4266(0x2ca)]?.['WebApp'],_0x556407=await fetch(API_URL,{'method':_0x2e4266(0x2cb),'body':JSON[_0x2e4266(0x255)]({'action':_0x2e4266(0x1f9),'init_data':_0x56effa?.[_0x2e4266(0x229)]||'','coachId':_0x88b3d4[_0x2e4266(0x25c)],'dateStr':_0x88b3d4[_0x2e4266(0x210)],'sessionId':_0x88b3d4['id']})});if(_0x556407['ok'])DataManager[_0x2e4266(0x2c0)]();}catch(_0x1f127f){showToast(_0x2e4266(0x1ed));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3a602d=a3_0x104f72;if(!currentSession)return;document['getElementById']('detailsSheet')[_0x3a602d(0x1e0)][_0x3a602d(0x266)](_0x3a602d(0x296)),document[_0x3a602d(0x2a3)](_0x3a602d(0x212))[_0x3a602d(0x1e0)][_0x3a602d(0x28b)](_0x3a602d(0x296));const _0xbcbc97=document[_0x3a602d(0x2a3)](_0x3a602d(0x1fc)),_0x115544=document['getElementById'](_0x3a602d(0x1f7));_0xbcbc97['innerHTML']='',_0x115544[_0x3a602d(0x293)]=_0x3a602d(0x22d);const [_0x6e8838,_0x53fdbc]=currentSession[_0x3a602d(0x1e4)][_0x3a602d(0x238)](':')[_0x3a602d(0x29f)](Number),[_0x3a2209,_0x18fbf9]=currentSession[_0x3a602d(0x249)][_0x3a602d(0x238)](':')['map'](Number),_0x246c89=_0x3a2209*0x3c+_0x18fbf9-(_0x6e8838*0x3c+_0x53fdbc);try{const _0x21ec1c=window[_0x3a602d(0x2ca)]?.['WebApp'],_0x314037=await fetch(API_URL,{'method':_0x3a602d(0x2cb),'body':JSON[_0x3a602d(0x255)]({'action':_0x3a602d(0x23c),'coachId':currentSession[_0x3a602d(0x25c)],'duration':_0x246c89,'init_data':_0x21ec1c?.[_0x3a602d(0x229)]||'','excludeSessionId':currentSession['id']})}),_0x5a6517=await _0x314037[_0x3a602d(0x2b8)]();_0x5a6517['ok']&&_0x5a6517['data']?(availableSlotsCache=_0x5a6517['data'],renderRescheduleDates()):_0x115544[_0x3a602d(0x293)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x436402){_0x115544[_0x3a602d(0x293)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function a3_0x3116(){const _0x333ae2=['–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','rs-date-chip','borderLeftColor','ranges','insertBefore','flex','dateStr','test','rescheduleSheet','none','cancelContainer','show','px\x20-','padStart','uc_client_list','.btn-reschedule','parse','detailsSheet','toLocaleString','round','matrixViewport','#0a84ff','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','month','scrollWidth','rgba(10,\x20132,\x20255,\x20','daysHeaderTrack','exceptions','56IvyXYE','time-label','.period-switch\x20.p-btn','initData','client-stat-card','button','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','getDate','anPercent','overlay','day-col-header\x20','Unknown','cancelled','\x20status-completed','log','appendChild','\x20–≤\x20','split','mini','setHours','color','get_slots','style','var(--acc-green)','today','–∑–∞\x20','now','Error\x20setting\x20back\x20button:','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','querySelector','189MMYHgm','detTime','T00:00:00','#ff453a','end','syncLoad','</div><div\x20class=\x22dch-num\x22>','floor','initDataUnsafe','calc(','headerMonth','getFullYear','</div>','271785JlEjsO','ccText','ccYesBtn','stringify','substring','analyticsSheet','.day-column','customConfirm','backgroundColor','querySelectorAll','coachId','auto','<div\x20class=\x22rs-day-name\x22>','409188cUWxTC','setAttribute','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','setMonth',':00</span>','remove','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','href','find','detDate','value','ru-RU','active','114023tIOQFp','status','setDate','createDocumentFragment','anCustomDates','filter','ccTitle','textContent','apply','scrollLeft','data-date','disableVerticalSwipes','onClick','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','.day-col-header[data-date=\x22','custom','push','\x20-\x20','location','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','457044xVSqoJ','getItem','3ywdPfO','<div\x20class=\x22dch-day\x22>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','%\x20+\x202px)','45090ferOut','offsetLeft','isArray','add','block','event-card','getAttribute','#050505','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','visible','pattern','innerHTML','rgba(','scroll','open','top','left','total','var(--acc-blue)','cancel_window','detNote','timeColumn','blocked-range-part\x20stripe-bg','map','sid','createElement','setHeaderColor','getElementById','entries','then','getMonth','getDay','join','uc_client_settings','loadLocal','fontWeight','anStart','rs-time-btn','data','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','WebApp','calendar','completed','.rs-date-chip','client_load','error','600','min','json','div','%\x20-\x204px)','numeric','anTotalStats','settings','width','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','saveLocally','Error\x20setting\x20color:','router.html','reschedule','623832HEnwaP','setBackgroundColor','offClick','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','display','day-column\x20','Telegram','POST','offsetWidth','forEach','week','firstChild','addEventListener','DOMContentLoaded','planned','getMinutes','height','constructor','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','clientWidth','search','toString','clients','findIndex','applyData','colIndex','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','<span>','classList','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','2XNwYqs','start','strokeDashoffset','v9.5-CLIENT-ANALYTICS','timeLineBadge','toLocaleDateString','globalTimeLine','length','backgroundPosition','1226145dGqvTN','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','stopPropagation','data-day-idx','anEnd','gridColumns','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','ready','getTime','(((.+)+)+)+$','rsSlotsGrid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','client_cancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','T23:59:59','rsDatesTrack','scrollTop','toUpperCase','all','max','className','BackButton','note','long','charAt','.btn-cancel','setItem'];a3_0x3116=function(){return _0x333ae2;};return a3_0x3116();}function renderRescheduleDates(){const _0x1d01a3=a3_0x104f72,_0x1c054f=document[_0x1d01a3(0x2a3)](_0x1d01a3(0x1fc));_0x1c054f[_0x1d01a3(0x293)]='';const _0x2a902c=Object['keys'](availableSlotsCache)[_0x1d01a3(0x209)](),_0x342729=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2a902c[_0x1d01a3(0x1ea)]===0x0){document[_0x1d01a3(0x2a3)]('rsSlotsGrid')['innerHTML']=_0x1d01a3(0x27b);return;}_0x2a902c[_0x1d01a3(0x2cd)]((_0x267e3f,_0x2b2811)=>{const _0x4d93f8=_0x1d01a3,_0x2cd4aa=new Date(_0x267e3f),_0x39e296=_0x342729[_0x2cd4aa[_0x4d93f8(0x2a7)]()],_0x1dd897=_0x2cd4aa['getDate'](),_0x5ee01f=document[_0x4d93f8(0x2a1)](_0x4d93f8(0x2b9));_0x5ee01f['className']=_0x4d93f8(0x20b);if(_0x2b2811===0x0)_0x5ee01f[_0x4d93f8(0x1e0)]['add']('active');_0x5ee01f[_0x4d93f8(0x293)]=_0x4d93f8(0x25e)+_0x39e296+'</div><div\x20class=\x22rs-day-num\x22>'+_0x1dd897+_0x4d93f8(0x251),_0x5ee01f['onclick']=()=>selectRsDate(_0x267e3f,_0x5ee01f),_0x1c054f[_0x4d93f8(0x236)](_0x5ee01f);}),selectRsDate(_0x2a902c[0x0],_0x1c054f[_0x1d01a3(0x2cf)]);}function selectRsDate(_0x1239ff,_0x1fdcb3){const _0x39e35b=a3_0x104f72;selectedRsDate=_0x1239ff,document[_0x39e35b(0x25b)](_0x39e35b(0x2b3))[_0x39e35b(0x2cd)](_0x603af1=>_0x603af1[_0x39e35b(0x1e0)]['remove']('active'));if(_0x1fdcb3)_0x1fdcb3[_0x39e35b(0x1e0)][_0x39e35b(0x28b)](_0x39e35b(0x26d));const _0x456b53=document[_0x39e35b(0x2a3)](_0x39e35b(0x1f7));_0x456b53[_0x39e35b(0x293)]='';const _0x488837=availableSlotsCache[_0x1239ff]||[];if(_0x488837['length']===0x0){_0x456b53[_0x39e35b(0x293)]=_0x39e35b(0x1de);return;}_0x488837[_0x39e35b(0x2cd)](_0xb18d62=>{const _0x2ebe05=_0x39e35b,_0x43f735=document['createElement'](_0x2ebe05(0x22b));_0x43f735[_0x2ebe05(0x201)]=_0x2ebe05(0x2ad),_0x43f735[_0x2ebe05(0x275)]=_0xb18d62,_0x43f735['onclick']=()=>confirmReschedule(_0xb18d62),_0x456b53[_0x2ebe05(0x236)](_0x43f735);});}async function confirmReschedule(_0x5a08ff){const _0x21d61c=a3_0x104f72,_0x52a2fc=new Date(selectedRsDate),_0x1d37f9=_0x52a2fc['toLocaleDateString'](_0x21d61c(0x26c),{'day':_0x21d61c(0x2bb),'month':'long'}),_0x5343e7=await showCustomConfirm(_0x21d61c(0x22c),_0x21d61c(0x1e1)+_0x1d37f9+_0x21d61c(0x237)+_0x5a08ff+'?',![]);if(!_0x5343e7)return;closeAllSheets(),showToast(_0x21d61c(0x243)),lastUserActionTime=Date[_0x21d61c(0x241)]();const _0x1469b2=currentSession[_0x21d61c(0x210)],_0x29e3d2=currentSession['id'],[_0x184dac,_0x4037da]=currentSession['start'][_0x21d61c(0x238)](':')[_0x21d61c(0x29f)](Number),[_0x86f6fd,_0x19b8cb]=currentSession['end']['split'](':')[_0x21d61c(0x29f)](Number),_0x15acfc=_0x86f6fd*0x3c+_0x19b8cb-(_0x184dac*0x3c+_0x4037da),[_0x36952a,_0x370a00]=_0x5a08ff[_0x21d61c(0x238)](':')[_0x21d61c(0x29f)](Number),_0x2339db=_0x36952a*0x3c+_0x370a00+_0x15acfc,_0x43cd47=Math[_0x21d61c(0x24c)](_0x2339db/0x3c),_0x21acd3=_0x2339db%0x3c,_0x4dfb0a=String(_0x43cd47)[_0x21d61c(0x217)](0x2,'0')+':'+String(_0x21acd3)[_0x21d61c(0x217)](0x2,'0'),_0x54197c=sessions[_0x21d61c(0x1da)](_0x15db88=>_0x15db88['id']===_0x29e3d2);_0x54197c!==-0x1&&(sessions[_0x54197c][_0x21d61c(0x210)]=selectedRsDate,sessions[_0x54197c][_0x21d61c(0x1e4)]=_0x5a08ff,sessions[_0x54197c][_0x21d61c(0x249)]=_0x4dfb0a,reRenderBlocks());try{const _0x260dc3=window[_0x21d61c(0x2ca)]?.[_0x21d61c(0x2b0)],_0x321350=await fetch(API_URL,{'method':_0x21d61c(0x2cb),'body':JSON[_0x21d61c(0x255)]({'action':_0x21d61c(0x2c3),'init_data':_0x260dc3?.[_0x21d61c(0x229)]||'','oldSessionId':_0x29e3d2,'oldDate':_0x1469b2,'newDate':selectedRsDate,'newTime':_0x5a08ff,'coachId':currentSession['coachId']})}),_0x3fa3e7=await _0x321350[_0x21d61c(0x2b8)]();!_0x3fa3e7['ok']?(showToast(_0x21d61c(0x286)),DataManager[_0x21d61c(0x24a)]()):(showToast(_0x21d61c(0x208)),DataManager[_0x21d61c(0x2c0)]());}catch(_0x528025){showToast(_0x21d61c(0x1ed));}}document[a3_0x104f72(0x2d0)](a3_0x104f72(0x2d1),init);