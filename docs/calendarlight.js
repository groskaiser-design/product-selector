const a3_0x2c12ca=a3_0xa74e;(function(_0x31b840,_0x30d9db){const _0x4522ab=a3_0xa74e,_0x513817=_0x31b840();while(!![]){try{const _0x1cb713=-parseInt(_0x4522ab(0x192))/0x1+-parseInt(_0x4522ab(0x1d1))/0x2*(parseInt(_0x4522ab(0x242))/0x3)+parseInt(_0x4522ab(0x251))/0x4*(parseInt(_0x4522ab(0x190))/0x5)+parseInt(_0x4522ab(0x1c6))/0x6+-parseInt(_0x4522ab(0x25a))/0x7+parseInt(_0x4522ab(0x193))/0x8*(parseInt(_0x4522ab(0x23d))/0x9)+parseInt(_0x4522ab(0x224))/0xa;if(_0x1cb713===_0x30d9db)break;else _0x513817['push'](_0x513817['shift']());}catch(_0x10259e){_0x513817['push'](_0x513817['shift']());}}}(a3_0x1352,0x48776));const APP_VERSION=a3_0x2c12ca(0x22e),API_URL=a3_0x2c12ca(0x243),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2c12ca(0x234),KEY_CLIENTS=a3_0x2c12ca(0x207);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2c12ca(0x268),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x190030=a3_0x2c12ca,_0x427915=(function(){let _0x297227=!![];return function(_0x15ae0c,_0x26f2b1){const _0xdeb41d=_0x297227?function(){const _0x590f9b=a3_0xa74e;if(_0x26f2b1){const _0x19f0fd=_0x26f2b1[_0x590f9b(0x1b3)](_0x15ae0c,arguments);return _0x26f2b1=null,_0x19f0fd;}}:function(){};return _0x297227=![],_0xdeb41d;};}()),_0xc66cab=_0x427915(this,function(){const _0x3dffa4=a3_0xa74e;return _0xc66cab[_0x3dffa4(0x279)]()[_0x3dffa4(0x1bc)](_0x3dffa4(0x25b))[_0x3dffa4(0x279)]()[_0x3dffa4(0x21c)](_0xc66cab)['search'](_0x3dffa4(0x25b));});_0xc66cab();try{const _0x283f33=window[_0x190030(0x1ea)]?.[_0x190030(0x1fe)];if(!_0x283f33)return;_0x283f33[_0x190030(0x191)](),_0x283f33['expand']();try{_0x283f33[_0x190030(0x259)]('#050505'),_0x283f33['setBackgroundColor']&&_0x283f33[_0x190030(0x260)](_0x190030(0x17e));}catch(_0x139c4d){console[_0x190030(0x1dc)](_0x190030(0x1ab),_0x139c4d);}try{_0x283f33['BackButton']&&(_0x283f33[_0x190030(0x1e6)][_0x190030(0x1e1)](),_0x283f33[_0x190030(0x1e6)][_0x190030(0x25e)](),_0x283f33[_0x190030(0x1e6)]['onClick'](function(){const _0x4b7396=_0x190030;window[_0x4b7396(0x258)]['href']=_0x4b7396(0x217);}));}catch(_0x50795e){console[_0x190030(0x1dc)](_0x190030(0x1fc),_0x50795e);}try{if(_0x283f33[_0x190030(0x19c)])_0x283f33[_0x190030(0x19c)]();}catch(_0x16f0dd){}}catch(_0xf2c27d){console['error'](_0x190030(0x233),_0xf2c27d);}}());function isAdmin(){const _0x59b4c1=a3_0x2c12ca;try{const _0x44756f=Number(window[_0x59b4c1(0x1ea)]?.[_0x59b4c1(0x1fe)]?.[_0x59b4c1(0x23a)]?.[_0x59b4c1(0x239)]?.['id']);return _0x44756f===0xbaf7174;}catch(_0x9d81e2){return![];}}function a3_0xa74e(_0xf9d47a,_0x507298){_0xf9d47a=_0xf9d47a-0x17d;const _0x93f2ea=a3_0x1352();let _0x4388c1=_0x93f2ea[_0xf9d47a];return _0x4388c1;}const DataManager={'saveLocally'(){const _0x2d7c0a=a3_0x2c12ca;try{localStorage[_0x2d7c0a(0x244)](KEY_SESSIONS,JSON[_0x2d7c0a(0x1ac)](sessions)),localStorage[_0x2d7c0a(0x244)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x2d7c0a(0x244)](KEY_SETTINGS,JSON[_0x2d7c0a(0x1ac)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x517215){}},'loadLocal'(){const _0x5e266e=a3_0x2c12ca;try{const _0x4ea914=localStorage['getItem'](KEY_SESSIONS);if(_0x4ea914)sessions=JSON[_0x5e266e(0x1c0)](_0x4ea914);const _0x57d3d5=localStorage[_0x5e266e(0x1bb)](KEY_CLIENTS);if(_0x57d3d5)clients=JSON[_0x5e266e(0x1c0)](_0x57d3d5);const _0x42dcbf=localStorage['getItem'](KEY_SETTINGS);if(_0x42dcbf){const _0x5f5650=JSON[_0x5e266e(0x1c0)](_0x42dcbf);if(_0x5f5650['pattern'])availabilityPattern=_0x5f5650[_0x5e266e(0x1a1)];if(_0x5f5650[_0x5e266e(0x20f)])specialRanges=_0x5f5650[_0x5e266e(0x20f)];if(_0x5f5650['exceptions'])dateExceptions=_0x5f5650['exceptions'];}}catch(_0x4ff450){}},async 'syncLoad'(){const _0x3dfecb=a3_0x2c12ca,_0x599758=new Date(),_0x4a138e=_0x599758['getFullYear']()+'-'+String(_0x599758[_0x3dfecb(0x1ee)]()+0x1)[_0x3dfecb(0x1be)](0x2,'0'),_0x394c3b=new Date(_0x599758);_0x394c3b['setMonth'](_0x599758[_0x3dfecb(0x1ee)]()+0x1);const _0x46c7f1=_0x394c3b[_0x3dfecb(0x182)]()+'-'+String(_0x394c3b[_0x3dfecb(0x1ee)]()+0x1)['padStart'](0x2,'0'),_0x375b82=Date[_0x3dfecb(0x26c)]();try{const _0x4fa2e9=window['Telegram']?.[_0x3dfecb(0x1fe)],_0x21acd4=_0x4fa2e9?.[_0x3dfecb(0x1c9)]||'',[_0x445bc6,_0x1b8cb5]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x3dfecb(0x1ac)]({'action':'client_load','init_data':_0x21acd4,'month_str':_0x4a138e})})[_0x3dfecb(0x220)](_0x245232=>_0x245232[_0x3dfecb(0x270)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x3dfecb(0x1ac)]({'action':_0x3dfecb(0x1b8),'init_data':_0x21acd4,'month_str':_0x46c7f1})})[_0x3dfecb(0x220)](_0x4b6eb2=>_0x4b6eb2[_0x3dfecb(0x270)]())]);if(lastUserActionTime>_0x375b82){console[_0x3dfecb(0x1dc)](_0x3dfecb(0x274));return;}if(_0x445bc6['ok'])this[_0x3dfecb(0x204)](_0x445bc6[_0x3dfecb(0x184)],_0x4a138e);if(_0x1b8cb5['ok'])this[_0x3dfecb(0x204)](_0x1b8cb5[_0x3dfecb(0x184)],_0x46c7f1);this[_0x3dfecb(0x22a)]();}catch(_0x3d3d62){}},'applyData'(_0x55028a,_0x3cdfbb){const _0x34c169=a3_0x2c12ca;if(!_0x55028a)return;if(_0x55028a['settings']){if(_0x55028a[_0x34c169(0x26b)]['pattern'])availabilityPattern=_0x55028a[_0x34c169(0x26b)][_0x34c169(0x1a1)];if(_0x55028a[_0x34c169(0x26b)][_0x34c169(0x20f)])specialRanges=_0x55028a[_0x34c169(0x26b)][_0x34c169(0x20f)];if(_0x55028a[_0x34c169(0x26b)][_0x34c169(0x1d0)])dateExceptions=_0x55028a[_0x34c169(0x26b)][_0x34c169(0x1d0)];}if(_0x55028a[_0x34c169(0x183)]&&Array['isArray'](_0x55028a[_0x34c169(0x183)]))clients=_0x55028a[_0x34c169(0x183)];_0x55028a[_0x34c169(0x1fa)]&&(coachProfiles={...coachProfiles,..._0x55028a['coach_profiles']}),_0x55028a[_0x34c169(0x1db)]&&(sessions=sessions[_0x34c169(0x1b2)](_0x331928=>!_0x331928['dateStr'][_0x34c169(0x218)](_0x3cdfbb)),Object['keys'](_0x55028a[_0x34c169(0x1db)])[_0x34c169(0x211)](_0x53e246=>{const _0x32b48c=_0x34c169,_0x1c7cd3=_0x55028a[_0x32b48c(0x1db)][_0x53e246];_0x1c7cd3[_0x32b48c(0x211)](_0xf7a7c8=>{const _0x481573=_0x32b48c;sessions[_0x481573(0x1bd)]({'id':_0xf7a7c8['i'],'clientId':_0xf7a7c8['c'],'coachId':_0xf7a7c8[_0x481573(0x24b)],'dateStr':_0x3cdfbb+'-'+_0x53e246[_0x481573(0x1be)](0x2,'0'),'start':_0xf7a7c8['s'],'end':_0xf7a7c8['e'],'note':_0xf7a7c8['n']||'','status':_0xf7a7c8['st']||_0x481573(0x20e),'seriesId':_0xf7a7c8[_0x481573(0x245)]});});})),reRenderBlocks();}};function init(){const _0x4446db=a3_0x2c12ca;DataManager[_0x4446db(0x24a)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4446db(0x1de)](_0x4446db(0x20b))['addEventListener'](_0x4446db(0x25d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4446db(0x271)]();}function renderTimeColumn(){const _0xeb3e05=a3_0x2c12ca,_0x2c927f=document[_0xeb3e05(0x1de)](_0xeb3e05(0x27e)),_0x13a438=document[_0xeb3e05(0x1de)]('timeLineBadge');_0x2c927f['innerHTML']='',_0x2c927f['appendChild'](_0x13a438);for(let _0x2a76fa=0x0;_0x2a76fa<0x18;_0x2a76fa++){const _0x2173a2=document[_0xeb3e05(0x27b)]('div');_0x2173a2['className']=_0xeb3e05(0x1f6);if(_0x2a76fa>0x0)_0x2173a2[_0xeb3e05(0x231)]=_0xeb3e05(0x1ba)+String(_0x2a76fa)[_0xeb3e05(0x1be)](0x2,'0')+_0xeb3e05(0x18a);_0x2c927f['appendChild'](_0x2173a2);}}function renderDayRange(_0x4bc367,_0x4210b4){const _0x47bb56=a3_0x2c12ca,_0x11434f=document[_0x47bb56(0x1de)](_0x47bb56(0x20a)),_0x2ce981=document[_0x47bb56(0x1de)](_0x47bb56(0x1f7)),_0x303baa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32f0a0=new Date();_0x32f0a0[_0x47bb56(0x1b9)](0x0,0x0,0x0,0x0);const _0x5bbba3=getLocalDateStr(new Date());for(let _0x4ca69f=_0x4bc367;_0x4ca69f<=_0x4210b4;_0x4ca69f++){const _0x36e816=new Date(_0x32f0a0);_0x36e816[_0x47bb56(0x26e)](_0x36e816['getDate']()+_0x4ca69f);const _0x1ec885=getLocalDateStr(_0x36e816);let _0x431bf6=_0x36e816[_0x47bb56(0x223)]()-0x1;if(_0x431bf6===-0x1)_0x431bf6=0x6;const _0x5b5aa2=_0x1ec885===_0x5bbba3,_0x140099=document[_0x47bb56(0x27b)]('div');_0x140099[_0x47bb56(0x1d7)]=_0x47bb56(0x21f)+(_0x5b5aa2?_0x47bb56(0x264):''),_0x140099[_0x47bb56(0x200)]('data-date',_0x1ec885),_0x140099[_0x47bb56(0x231)]=_0x47bb56(0x214)+_0x303baa[_0x431bf6]+'</div><div\x20class=\x22dch-num\x22>'+_0x36e816['getDate']()+'</div>',_0x11434f[_0x47bb56(0x1a3)](_0x140099);const _0x32d0d3=document[_0x47bb56(0x27b)](_0x47bb56(0x19d));_0x32d0d3[_0x47bb56(0x1d7)]=_0x47bb56(0x1cd)+(_0x5b5aa2?_0x47bb56(0x264):''),_0x32d0d3[_0x47bb56(0x200)]('data-date',_0x1ec885),_0x32d0d3[_0x47bb56(0x200)](_0x47bb56(0x1a7),_0x431bf6),_0x2ce981[_0x47bb56(0x1a3)](_0x32d0d3);}}function reRenderBlocks(){const _0x419293=a3_0x2c12ca;document[_0x419293(0x202)](_0x419293(0x229))[_0x419293(0x211)](_0x513b64=>{const _0x5cf13d=_0x419293;_0x513b64[_0x5cf13d(0x202)](_0x5cf13d(0x237))['forEach'](_0x417c34=>_0x417c34[_0x5cf13d(0x196)]());const _0x5a4e82=_0x513b64[_0x5cf13d(0x22c)]('data-date'),_0x58c2a7=parseInt(_0x513b64[_0x5cf13d(0x22c)](_0x5cf13d(0x1a7))),_0x2305b3=Math[_0x5cf13d(0x203)](_0x513b64[_0x5cf13d(0x208)]);(availabilityPattern[_0x58c2a7]||[])[_0x5cf13d(0x211)](_0xa31ed9=>{const _0x4dbbd6=_0x5cf13d,_0xaaae51=document[_0x4dbbd6(0x27b)](_0x4dbbd6(0x19d));_0xaaae51[_0x4dbbd6(0x1d7)]=_0x4dbbd6(0x24c),_0xaaae51[_0x4dbbd6(0x272)]['top']=_0xa31ed9*GRID_H+'px',_0xaaae51[_0x4dbbd6(0x272)]['backgroundPosition']='-'+_0x2305b3+'px\x20-'+_0xa31ed9*GRID_H+'px',_0x513b64[_0x4dbbd6(0x1a3)](_0xaaae51);});if(specialRanges[_0x5cf13d(0x23b)]>0x0){const _0x535ded=new Date(_0x5a4e82+_0x5cf13d(0x186))[_0x5cf13d(0x267)](),_0xf88769=new Date(_0x5a4e82+_0x5cf13d(0x266))['getTime']();specialRanges[_0x5cf13d(0x211)](_0x4f4aef=>{const _0x418705=_0x5cf13d,_0x216044=new Date(_0x4f4aef[_0x418705(0x18c)])[_0x418705(0x267)](),_0x4ef82e=new Date(_0x4f4aef[_0x418705(0x17d)])[_0x418705(0x267)](),_0x54b54d=Math[_0x418705(0x1d5)](_0x535ded,_0x216044),_0xe0cd6a=Math['min'](_0xf88769,_0x4ef82e);if(_0x54b54d<_0xe0cd6a){const _0x58393c=(_0x54b54d-_0x535ded)/0x36ee80*GRID_H,_0x746289=(_0xe0cd6a-_0x54b54d)/0x36ee80*GRID_H,_0x432794=document[_0x418705(0x27b)](_0x418705(0x19d));_0x746289>=23.5*GRID_H?(_0x432794[_0x418705(0x1d7)]=_0x418705(0x26a),_0x432794[_0x418705(0x272)][_0x418705(0x210)]='-'+_0x2305b3+_0x418705(0x228)):(_0x432794[_0x418705(0x1d7)]=_0x418705(0x199),_0x432794[_0x418705(0x272)][_0x418705(0x265)]=_0x58393c+'px',_0x432794['style']['height']=_0x746289+'px',_0x432794[_0x418705(0x272)]['backgroundPosition']='-'+_0x2305b3+_0x418705(0x1c7)+_0x58393c+'px'),_0x513b64[_0x418705(0x1a3)](_0x432794);}});}renderEventsForColumn(_0x513b64,_0x5a4e82);});}function renderEventsForColumn(_0x2fcb61,_0x23457f){const _0x1244f0=a3_0x2c12ca,_0x51aff0=sessions['filter'](_0x2c9b31=>_0x2c9b31[_0x1244f0(0x24f)]===_0x23457f),_0x5c8cf2=_0x51aff0[_0x1244f0(0x232)](_0x155e05=>{const _0x529edd=_0x1244f0,[_0x4a0789,_0x543cee]=_0x155e05[_0x529edd(0x18c)][_0x529edd(0x25f)](':')['map'](Number),[_0x25eab0,_0x5de33c]=_0x155e05[_0x529edd(0x17d)][_0x529edd(0x25f)](':')['map'](Number);return{'data':_0x155e05,'start':_0x4a0789*0x3c+_0x543cee,'end':_0x25eab0*0x3c+_0x5de33c,'colIndex':0x0};});_0x5c8cf2[_0x1244f0(0x1eb)]((_0x3cb9ef,_0xde228)=>_0x3cb9ef['start']-_0xde228[_0x1244f0(0x18c)]||_0xde228[_0x1244f0(0x17d)]-_0xde228[_0x1244f0(0x18c)]-(_0x3cb9ef['end']-_0x3cb9ef[_0x1244f0(0x18c)]));const _0x321871=[];_0x5c8cf2[_0x1244f0(0x211)](_0x592931=>{const _0x5bd491=_0x1244f0;let _0x5394f8=![];for(let _0xe9aaf=0x0;_0xe9aaf<_0x321871[_0x5bd491(0x23b)];_0xe9aaf++){const _0x4ff57e=_0x321871[_0xe9aaf];if(_0x592931[_0x5bd491(0x18c)]>=_0x4ff57e[_0x4ff57e[_0x5bd491(0x23b)]-0x1]['end']){_0x4ff57e[_0x5bd491(0x1bd)](_0x592931),_0x592931['colIndex']=_0xe9aaf,_0x5394f8=!![];break;}}!_0x5394f8&&(_0x321871[_0x5bd491(0x1bd)]([_0x592931]),_0x592931[_0x5bd491(0x1bf)]=_0x321871[_0x5bd491(0x23b)]-0x1);}),_0x5c8cf2[_0x1244f0(0x211)](_0x513e84=>{const _0x49890d=_0x1244f0;let _0x17136e=0x0;_0x5c8cf2[_0x49890d(0x211)](_0x4e0592=>{const _0x4bec0e=_0x49890d;if(Math['max'](_0x513e84[_0x4bec0e(0x18c)],_0x4e0592[_0x4bec0e(0x18c)])<Math[_0x4bec0e(0x1c2)](_0x513e84[_0x4bec0e(0x17d)],_0x4e0592[_0x4bec0e(0x17d)])&&_0x4e0592[_0x4bec0e(0x1bf)]>_0x17136e)_0x17136e=_0x4e0592[_0x4bec0e(0x1bf)];});const _0x546e5b=_0x17136e+0x1,_0x579ae5=0x64/_0x546e5b,_0x3ca4a0=_0x513e84['colIndex']*_0x579ae5,_0x3606d9=document[_0x49890d(0x27b)](_0x49890d(0x19d)),_0x46f6d4=_0x513e84[_0x49890d(0x184)];let _0x2f0340='#0a84ff';if(clients&&clients['length']>0x0){const _0x5be6fc=clients[_0x49890d(0x1b1)](_0x18f3de=>String(_0x18f3de['id'])===String(_0x46f6d4[_0x49890d(0x252)]));if(_0x5be6fc&&_0x5be6fc[_0x49890d(0x19b)])_0x2f0340=_0x5be6fc[_0x49890d(0x19b)];}const _0x5119c7=_0x46f6d4['status']===_0x49890d(0x27f),_0x239e17=_0x5119c7?0x1:0.45;_0x3606d9['className']=_0x49890d(0x1f1)+(_0x5119c7?_0x49890d(0x236):''),_0x3606d9['style'][_0x49890d(0x1b6)]=hexToRgba(_0x2f0340,_0x239e17),_0x3606d9[_0x49890d(0x272)][_0x49890d(0x1f2)]=_0x2f0340;const _0x4bbfa9=_0x513e84['start']/0x3c*GRID_H,_0x3577cf=(_0x513e84[_0x49890d(0x17d)]-_0x513e84['start'])/0x3c*GRID_H;_0x3606d9[_0x49890d(0x272)][_0x49890d(0x265)]=_0x4bbfa9+'px',_0x3606d9[_0x49890d(0x272)][_0x49890d(0x227)]=Math['max'](_0x3577cf,0x14)+'px',_0x3606d9[_0x49890d(0x272)][_0x49890d(0x209)]='calc('+_0x579ae5+_0x49890d(0x221),_0x3606d9[_0x49890d(0x272)][_0x49890d(0x1d4)]=_0x49890d(0x24e)+_0x3ca4a0+_0x49890d(0x247),_0x3606d9['style'][_0x49890d(0x240)]=0xa+_0x513e84[_0x49890d(0x1bf)];if(_0x579ae5<0x55)_0x3606d9[_0x49890d(0x18f)][_0x49890d(0x1ed)](_0x49890d(0x1ec));let _0x1d43e5='';if(_0x46f6d4[_0x49890d(0x1e0)])_0x1d43e5+=_0x49890d(0x1f5);if(_0x5119c7)_0x1d43e5+=_0x49890d(0x1d6);_0x3606d9[_0x49890d(0x231)]=_0x49890d(0x1d8)+_0x46f6d4[_0x49890d(0x18c)]+_0x49890d(0x213)+_0x46f6d4['end']+_0x49890d(0x18d)+_0x1d43e5+_0x49890d(0x238),_0x3606d9[_0x49890d(0x22b)]=_0x77922c=>{const _0x4f989e=_0x49890d;_0x77922c[_0x4f989e(0x235)](),openDetails(_0x46f6d4);},_0x2fcb61[_0x49890d(0x1a3)](_0x3606d9);});}function openAnalytics(){const _0x21747e=a3_0x2c12ca,_0x41f914=document[_0x21747e(0x189)](_0x21747e(0x212));setAnalyticsPeriod(_0x21747e(0x268),_0x41f914),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x530995,_0x35a6b2){const _0x58a4c3=a3_0x2c12ca;currentAnPeriod=_0x530995,document[_0x58a4c3(0x202)](_0x58a4c3(0x212))[_0x58a4c3(0x211)](_0x62f9cb=>_0x62f9cb[_0x58a4c3(0x18f)][_0x58a4c3(0x196)](_0x58a4c3(0x201)));if(_0x35a6b2)_0x35a6b2[_0x58a4c3(0x18f)][_0x58a4c3(0x1ed)]('active');const _0x4b22be=document['getElementById'](_0x58a4c3(0x23c));_0x4b22be[_0x58a4c3(0x272)][_0x58a4c3(0x241)]=_0x530995===_0x58a4c3(0x187)?_0x58a4c3(0x255):'none';const _0x218306=new Date();let _0x2ee4a3=new Date(),_0x5e4c7a=new Date();if(_0x530995===_0x58a4c3(0x268))_0x2ee4a3=getStartOfWeek(_0x218306),_0x5e4c7a=new Date(_0x2ee4a3),_0x5e4c7a['setDate'](_0x5e4c7a[_0x58a4c3(0x1b4)]()+0x6);else{if(_0x530995==='month')_0x2ee4a3=new Date(_0x218306[_0x58a4c3(0x182)](),_0x218306[_0x58a4c3(0x1ee)](),0x1),_0x5e4c7a=new Date(_0x218306[_0x58a4c3(0x182)](),_0x218306[_0x58a4c3(0x1ee)]()+0x1,0x0);else{!document[_0x58a4c3(0x1de)]('anStart')[_0x58a4c3(0x1aa)]&&(document['getElementById'](_0x58a4c3(0x1f0))[_0x58a4c3(0x1aa)]=getLocalDateStr(_0x218306),document['getElementById'](_0x58a4c3(0x1a8))[_0x58a4c3(0x1aa)]=getLocalDateStr(_0x218306));refreshAnalytics();return;}}document[_0x58a4c3(0x1de)](_0x58a4c3(0x1f0))[_0x58a4c3(0x1aa)]=getLocalDateStr(_0x2ee4a3),document[_0x58a4c3(0x1de)](_0x58a4c3(0x1a8))[_0x58a4c3(0x1aa)]=getLocalDateStr(_0x5e4c7a),refreshAnalytics();}function refreshAnalytics(){const _0xf6b31c=a3_0x2c12ca,_0x2ffa2a=document[_0xf6b31c(0x1de)](_0xf6b31c(0x1f0))[_0xf6b31c(0x1aa)],_0xc8b04=document[_0xf6b31c(0x1de)](_0xf6b31c(0x1a8))[_0xf6b31c(0x1aa)];if(!_0x2ffa2a||!_0xc8b04)return;const _0x2ce6c0=sessions[_0xf6b31c(0x1b2)](_0x1085ef=>_0x1085ef[_0xf6b31c(0x24f)]>=_0x2ffa2a&&_0x1085ef[_0xf6b31c(0x24f)]<=_0xc8b04&&_0x1085ef['status']!==_0xf6b31c(0x1ce)),_0x302413=_0x2ce6c0[_0xf6b31c(0x23b)],_0x4378b8=_0x2ce6c0[_0xf6b31c(0x1b2)](_0x315e08=>_0x315e08[_0xf6b31c(0x1c4)]===_0xf6b31c(0x27f))[_0xf6b31c(0x23b)],_0x113388=_0x302413>0x0?Math[_0xf6b31c(0x203)](_0x4378b8/_0x302413*0x64):0x0;document['getElementById']('anPercent')[_0xf6b31c(0x225)]=_0x113388+'%',document[_0xf6b31c(0x1de)]('anTotalStats')[_0xf6b31c(0x225)]=_0x4378b8+_0xf6b31c(0x27c)+_0x302413+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x1d3155=document[_0xf6b31c(0x1de)](_0xf6b31c(0x1cc)),_0x46506e=0x2*Math['PI']*0x23,_0x296ae6=_0x46506e-_0x113388/0x64*_0x46506e;_0x1d3155[_0xf6b31c(0x272)][_0xf6b31c(0x195)]=_0x296ae6;const _0x2885ee={};_0x2ce6c0['forEach'](_0x41a0ac=>{const _0x178051=_0xf6b31c,_0x1cba81=_0x41a0ac[_0x178051(0x185)]||'Unknown';if(!_0x2885ee[_0x1cba81]){const _0x3bb8f2='#'+_0x1cba81[_0x178051(0x279)]()['substr'](0x0,0x6);_0x2885ee[_0x1cba81]={'total':0x0,'done':0x0,'color':_0x3bb8f2};}_0x2885ee[_0x1cba81]['total']++;if(_0x41a0ac[_0x178051(0x1c4)]===_0x178051(0x27f))_0x2885ee[_0x1cba81][_0x178051(0x21e)]++;});const _0x26905e=document[_0xf6b31c(0x1de)]('analyticsList');_0x26905e[_0xf6b31c(0x231)]='';const _0x584263=Object['entries'](_0x2885ee)[_0xf6b31c(0x1eb)]((_0x23631a,_0x4733bc)=>_0x4733bc[0x1][_0xf6b31c(0x194)]-_0x23631a[0x1][_0xf6b31c(0x194)]);if(_0x584263[_0xf6b31c(0x23b)]===0x0){_0x26905e[_0xf6b31c(0x231)]=_0xf6b31c(0x1f8);return;}_0x584263[_0xf6b31c(0x211)](([_0x1c7970,_0x3d94fd])=>{const _0x2894c9=_0xf6b31c,_0x62c2e7=Math['round'](_0x3d94fd[_0x2894c9(0x21e)]/_0x3d94fd[_0x2894c9(0x194)]*0x64),_0x33c11b=document[_0x2894c9(0x27b)](_0x2894c9(0x19d));_0x33c11b['className']=_0x2894c9(0x248),_0x33c11b[_0x2894c9(0x272)][_0x2894c9(0x1f2)]=_0x3d94fd[_0x2894c9(0x19b)],_0x33c11b[_0x2894c9(0x231)]=_0x2894c9(0x181)+_0x1c7970['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3d94fd[_0x2894c9(0x21e)]+_0x2894c9(0x1e8)+_0x3d94fd[_0x2894c9(0x194)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x62c2e7+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x26905e[_0x2894c9(0x1a3)](_0x33c11b);});}function openDetails(_0x399ad1){const _0x2e0be5=a3_0x2c12ca;currentSession=_0x399ad1;const _0x3fba23=new Date(_0x399ad1[_0x2e0be5(0x24f)]),_0x4de984=_0x3fba23[_0x2e0be5(0x215)](_0x2e0be5(0x1d9),{'weekday':_0x2e0be5(0x1da),'day':_0x2e0be5(0x278),'month':_0x2e0be5(0x1da)});document['getElementById']('detDate')['textContent']=_0x4de984[_0x2e0be5(0x219)](0x0)[_0x2e0be5(0x1fb)]()+_0x4de984['slice'](0x1),document[_0x2e0be5(0x1de)](_0x2e0be5(0x24d))[_0x2e0be5(0x225)]=_0x399ad1[_0x2e0be5(0x18c)]+_0x2e0be5(0x213)+_0x399ad1[_0x2e0be5(0x17d)],document['getElementById']('detNote')[_0x2e0be5(0x225)]=_0x399ad1[_0x2e0be5(0x1ad)]||_0x2e0be5(0x1c3);const _0x40dc0e=document[_0x2e0be5(0x1de)](_0x2e0be5(0x18e)),_0x2d8af6=document[_0x2e0be5(0x1de)]('cancelContainer'),_0x401ff9=_0x2d8af6[_0x2e0be5(0x189)](_0x2e0be5(0x21d)),_0x3e38b5=_0x2d8af6[_0x2e0be5(0x189)](_0x2e0be5(0x1af)),_0x23133d=document[_0x2e0be5(0x1de)](_0x2e0be5(0x249));if(_0x399ad1[_0x2e0be5(0x1c4)]===_0x2e0be5(0x27f))_0x40dc0e[_0x2e0be5(0x225)]=_0x2e0be5(0x180),_0x40dc0e['style'][_0x2e0be5(0x19b)]=_0x2e0be5(0x17f),_0x2d8af6[_0x2e0be5(0x272)]['display']=_0x2e0be5(0x254);else{_0x40dc0e[_0x2e0be5(0x225)]=_0x2e0be5(0x275),_0x40dc0e['style'][_0x2e0be5(0x19b)]=_0x2e0be5(0x1b5),_0x2d8af6[_0x2e0be5(0x272)]['display']='block';const _0x552002=new Date(_0x399ad1[_0x2e0be5(0x24f)]+'T'+_0x399ad1[_0x2e0be5(0x18c)]),_0x1a3c28=new Date(),_0x2bf686=(_0x552002-_0x1a3c28)/(0x3e8*0x3c*0x3c),_0x38de12=coachProfiles[_0x399ad1[_0x2e0be5(0x185)]]&&coachProfiles[_0x399ad1['coachId']][_0x2e0be5(0x1fd)]?parseInt(coachProfiles[_0x399ad1[_0x2e0be5(0x185)]][_0x2e0be5(0x1fd)]):0x18;if(_0x38de12===0x0||_0x2bf686>=_0x38de12)_0x401ff9['style'][_0x2e0be5(0x241)]=_0x2e0be5(0x18b),_0x3e38b5['style'][_0x2e0be5(0x241)]=_0x2e0be5(0x18b),_0x23133d[_0x2e0be5(0x272)][_0x2e0be5(0x241)]='none';else{_0x401ff9[_0x2e0be5(0x272)]['display']='none',_0x3e38b5[_0x2e0be5(0x272)]['display']=_0x2e0be5(0x254),_0x23133d[_0x2e0be5(0x272)][_0x2e0be5(0x241)]=_0x2e0be5(0x18b);let _0x238813=_0x38de12===0x0?_0x2e0be5(0x1e3):_0x2e0be5(0x26d)+_0x38de12+_0x2e0be5(0x22f);_0x23133d[_0x2e0be5(0x225)]=_0x2e0be5(0x1a9)+_0x238813+_0x2e0be5(0x205);}}document[_0x2e0be5(0x1de)](_0x2e0be5(0x21b))[_0x2e0be5(0x18f)][_0x2e0be5(0x1ed)](_0x2e0be5(0x201)),document[_0x2e0be5(0x1de)](_0x2e0be5(0x1a5))['classList'][_0x2e0be5(0x1ed)](_0x2e0be5(0x1f9));}function closeAllSheets(){const _0x2c2222=a3_0x2c12ca;document[_0x2c2222(0x1de)]('overlay')[_0x2c2222(0x18f)][_0x2c2222(0x196)](_0x2c2222(0x201)),document[_0x2c2222(0x202)]('.sheet')[_0x2c2222(0x211)](_0x2812c2=>_0x2812c2[_0x2c2222(0x18f)][_0x2c2222(0x196)](_0x2c2222(0x1f9)));}function openSheet(_0x8d8a82){const _0x1c2ce9=a3_0x2c12ca;document[_0x1c2ce9(0x1de)](_0x1c2ce9(0x21b))['classList'][_0x1c2ce9(0x1ed)]('active'),document[_0x1c2ce9(0x1de)](_0x8d8a82)[_0x1c2ce9(0x18f)][_0x1c2ce9(0x1ed)](_0x1c2ce9(0x1f9));}function getLocalDateStr(_0x2838fd){const _0x30e84f=a3_0x2c12ca,_0x3f1c37=_0x2838fd[_0x30e84f(0x182)](),_0x22ea4e=String(_0x2838fd[_0x30e84f(0x1ee)]()+0x1)[_0x30e84f(0x1be)](0x2,'0'),_0x5c288e=String(_0x2838fd[_0x30e84f(0x1b4)]())[_0x30e84f(0x1be)](0x2,'0');return _0x3f1c37+'-'+_0x22ea4e+'-'+_0x5c288e;}function getStartOfWeek(_0x431ad6){const _0x43b95d=a3_0x2c12ca,_0x1738e2=new Date(_0x431ad6),_0x1fa47c=_0x1738e2[_0x43b95d(0x223)](),_0x53b853=_0x1738e2[_0x43b95d(0x1b4)]()-_0x1fa47c+(_0x1fa47c===0x0?-0x6:0x1);return _0x1738e2[_0x43b95d(0x26e)](_0x53b853),_0x1738e2[_0x43b95d(0x1b9)](0x0,0x0,0x0,0x0),_0x1738e2;}function scrollToToday(){const _0x229d3b=getLocalDateStr(new Date());setTimeout(()=>{const _0x3261ce=a3_0xa74e,_0x480e05=document[_0x3261ce(0x189)](_0x3261ce(0x19f)+_0x229d3b+'\x22]');if(_0x480e05){const _0x31d732=document['getElementById'](_0x3261ce(0x20b)),_0x1dc700=_0x480e05[_0x3261ce(0x208)]-_0x31d732[_0x3261ce(0x1ae)]/0x2+_0x480e05[_0x3261ce(0x26f)]/0x2;_0x31d732[_0x3261ce(0x27a)]({'left':_0x1dc700,'behavior':_0x3261ce(0x1f3)}),_0x31d732[_0x3261ce(0x1e7)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x27cb09=a3_0x2c12ca,_0x132324=new Date(),_0x1b0708=document[_0x27cb09(0x1de)](_0x27cb09(0x226)),_0x263787=document[_0x27cb09(0x1de)](_0x27cb09(0x222)),_0xa49b48=(_0x132324[_0x27cb09(0x20d)]()*0x3c+_0x132324['getMinutes']())/0x3c*GRID_H;_0x1b0708[_0x27cb09(0x272)][_0x27cb09(0x265)]=_0xa49b48+'px',_0x1b0708[_0x27cb09(0x272)][_0x27cb09(0x241)]=_0x27cb09(0x18b),_0x263787[_0x27cb09(0x272)][_0x27cb09(0x265)]=_0xa49b48+'px',_0x263787[_0x27cb09(0x272)]['display']=_0x27cb09(0x18b),_0x263787[_0x27cb09(0x225)]=String(_0x132324[_0x27cb09(0x20d)]())['padStart'](0x2,'0')+':'+String(_0x132324['getMinutes']())[_0x27cb09(0x1be)](0x2,'0');}function onScroll(){const _0x2d6b80=a3_0x2c12ca,_0x49ed95=document[_0x2d6b80(0x1de)](_0x2d6b80(0x20b)),_0x3da348=document[_0x2d6b80(0x202)](_0x2d6b80(0x1e9));for(let _0x392f8e of _0x3da348)if(_0x392f8e[_0x2d6b80(0x208)]>=_0x49ed95[_0x2d6b80(0x277)]){const _0x303c49=new Date(_0x392f8e['getAttribute'](_0x2d6b80(0x262)));document[_0x2d6b80(0x1de)](_0x2d6b80(0x1d3))[_0x2d6b80(0x225)]=_0x303c49[_0x2d6b80(0x188)]('ru',{'month':_0x2d6b80(0x1da)})[_0x2d6b80(0x1fb)]()+'\x20'+_0x303c49[_0x2d6b80(0x182)]();break;}}function showToast(_0x35c8ee){const _0x2f9dbe=a3_0x2c12ca,_0x21d558=document['getElementById'](_0x2f9dbe(0x1e5));_0x21d558[_0x2f9dbe(0x225)]=_0x35c8ee,_0x21d558[_0x2f9dbe(0x18f)]['add'](_0x2f9dbe(0x1e1)),setTimeout(()=>_0x21d558[_0x2f9dbe(0x18f)][_0x2f9dbe(0x196)](_0x2f9dbe(0x1e1)),0x7d0);}function handleInfiniteScroll(){const _0x21441c=a3_0x2c12ca,_0x15947e=document[_0x21441c(0x1de)](_0x21441c(0x20b)),_0xa25019=_0x15947e[_0x21441c(0x277)],_0x175847=_0x15947e[_0x21441c(0x206)],_0xcb11bc=_0x15947e[_0x21441c(0x1ae)];if(_0x175847-(_0xa25019+_0xcb11bc)<0x12c){const _0xddd10a=endOffset;endOffset+=0xe,renderDayRange(_0xddd10a+0x1,endOffset),reRenderBlocks();}if(_0xa25019<0x12c){const _0x44883b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x44883b-0x1),_0x15947e[_0x21441c(0x277)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x43aa79,_0x114190){const _0x3f3349=a3_0x2c12ca,_0x3745f9=document[_0x3f3349(0x1de)](_0x3f3349(0x20a)),_0x3a39cb=document['getElementById']('gridColumns'),_0x491844=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x53d04b=new Date();_0x53d04b[_0x3f3349(0x1b9)](0x0,0x0,0x0,0x0);const _0x4dc351=getLocalDateStr(new Date()),_0x5d0c4=document[_0x3f3349(0x197)](),_0x3caa2a=document[_0x3f3349(0x197)]();for(let _0xc9d4f6=_0x43aa79;_0xc9d4f6<=_0x114190;_0xc9d4f6++){const _0x4bacff=new Date(_0x53d04b);_0x4bacff[_0x3f3349(0x26e)](_0x4bacff[_0x3f3349(0x1b4)]()+_0xc9d4f6);const _0x19acb0=getLocalDateStr(_0x4bacff);let _0x203f5a=_0x4bacff['getDay']()-0x1;if(_0x203f5a===-0x1)_0x203f5a=0x6;const _0xe575e=_0x19acb0===_0x4dc351,_0x2aa3dc=document['createElement'](_0x3f3349(0x19d));_0x2aa3dc[_0x3f3349(0x1d7)]=_0x3f3349(0x21f)+(_0xe575e?'today':''),_0x2aa3dc['setAttribute'](_0x3f3349(0x262),_0x19acb0),_0x2aa3dc[_0x3f3349(0x231)]='<div\x20class=\x22dch-day\x22>'+_0x491844[_0x203f5a]+_0x3f3349(0x1e2)+_0x4bacff[_0x3f3349(0x1b4)]()+_0x3f3349(0x198),_0x5d0c4[_0x3f3349(0x1a3)](_0x2aa3dc);const _0x5101bf=document[_0x3f3349(0x27b)]('div');_0x5101bf['className']='day-column\x20'+(_0xe575e?_0x3f3349(0x264):''),_0x5101bf['setAttribute']('data-date',_0x19acb0),_0x5101bf[_0x3f3349(0x200)](_0x3f3349(0x1a7),_0x203f5a),_0x3caa2a[_0x3f3349(0x1a3)](_0x5101bf);}_0x3745f9['insertBefore'](_0x5d0c4,_0x3745f9[_0x3f3349(0x1c5)]),_0x3a39cb[_0x3f3349(0x27d)](_0x3caa2a,_0x3a39cb[_0x3f3349(0x189)]('.day-column'));}function hexToRgba(_0x28227c,_0x8fa8da){const _0x9ebd27=a3_0x2c12ca;let _0x45408b;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x9ebd27(0x1ca)](_0x28227c))return _0x45408b=_0x28227c[_0x9ebd27(0x1b7)](0x1)[_0x9ebd27(0x25f)](''),_0x45408b[_0x9ebd27(0x23b)]==0x3&&(_0x45408b=[_0x45408b[0x0],_0x45408b[0x0],_0x45408b[0x1],_0x45408b[0x1],_0x45408b[0x2],_0x45408b[0x2]]),_0x45408b='0x'+_0x45408b['join'](''),'rgba('+[_0x45408b>>0x10&0xff,_0x45408b>>0x8&0xff,_0x45408b&0xff][_0x9ebd27(0x21a)](',')+','+_0x8fa8da+')';return'rgba(10,\x20132,\x20255,\x20'+_0x8fa8da+')';}let confirmResolver=null;function showCustomConfirm(_0x806892,_0x15f8a0,_0x4e3c65=!![]){const _0x2bb2db=a3_0x2c12ca;document[_0x2bb2db(0x1de)](_0x2bb2db(0x263))[_0x2bb2db(0x225)]=_0x806892,document['getElementById'](_0x2bb2db(0x1ff))[_0x2bb2db(0x225)]=_0x15f8a0;const _0x40c0d6=document['getElementById'](_0x2bb2db(0x1c1));return _0x4e3c65?(_0x40c0d6[_0x2bb2db(0x272)][_0x2bb2db(0x19b)]=_0x2bb2db(0x1c8),_0x40c0d6[_0x2bb2db(0x272)]['fontWeight']=_0x2bb2db(0x1df)):(_0x40c0d6['style'][_0x2bb2db(0x19b)]=_0x2bb2db(0x1cb),_0x40c0d6[_0x2bb2db(0x272)][_0x2bb2db(0x19a)]=_0x2bb2db(0x1df)),new Promise(_0xebd90a=>{const _0x19d057=_0x2bb2db;confirmResolver=_0xebd90a,document[_0x19d057(0x1de)](_0x19d057(0x1a0))[_0x19d057(0x18f)][_0x19d057(0x1ed)](_0x19d057(0x1cf));});}function a3_0x1352(){const _0x473589=['ready','315716tTvsBX','642384nnoBym','total','strokeDashoffset','remove','createDocumentFragment','</div>','blocked-range-part\x20stripe-bg','fontWeight','color','disableVerticalSwipes','div','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','.day-col-header[data-date=\x22','customConfirm','pattern','rsSlotsGrid','appendChild','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','detailsSheet','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','data-day-idx','anEnd','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','value','Error\x20setting\x20color:','stringify','note','clientWidth','.btn-reschedule','floor','find','filter','apply','getDate','var(--acc-blue)','backgroundColor','substring','client_load','setHours','<span>','getItem','search','push','padStart','colIndex','parse','ccYesBtn','min','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','status','firstChild','569724rEUnOJ','px\x20-','#ff453a','initData','test','#0a84ff','anDonutCircle','day-column\x20','cancelled','visible','exceptions','8PbAxNf','<div\x20class=\x22rs-day-name\x22>','headerMonth','left','max','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','ru-RU','long','calendar','log','findIndex','getElementById','600','seriesId','show','</div><div\x20class=\x22dch-num\x22>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','toast','BackButton','scrollTop','</span>\x20/\x20','.day-col-header','Telegram','sort','mini','add','getMonth','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','anStart','event-card','borderLeftColor','auto','button','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','time-label','gridColumns','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','open','coach_profiles','toUpperCase','Error\x20setting\x20back\x20button:','cancel_window','WebApp','ccText','setAttribute','active','querySelectorAll','round','applyData','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','scrollWidth','uc_client_list','offsetLeft','width','daysHeaderTrack','matrixViewport','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','getHours','planned','ranges','backgroundPosition','forEach','.period-switch\x20.p-btn','\x20-\x20','<div\x20class=\x22dch-day\x22>','toLocaleDateString','addEventListener','router.html','startsWith','charAt','join','overlay','constructor','.btn-cancel','done','day-col-header\x20','then','%\x20-\x204px)','timeLineBadge','getDay','8490190rXQfSM','textContent','globalTimeLine','height','px\x200px','.day-column','saveLocally','onclick','getAttribute','keys','v9.5-CLIENT-ANALYTICS','\x20—á.','POST','innerHTML','map','Critical\x20TMA\x20Error:','uc_client_settings','stopPropagation','\x20status-completed','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','initDataUnsafe','length','anCustomDates','18BzwKlW','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','.rs-date-chip','zIndex','display','370071NVkLMM','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setItem','sid','–û—Ç–º–µ–Ω–µ–Ω–æ','%\x20+\x202px)','client-stat-card','cancelHint','loadLocal','cid','blocked-slot\x20stripe-bg','detTime','calc(','dateStr','reschedule','44016SjPPrb','clientId','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','none','flex','get_slots','client_cancel','location','setHeaderColor','1992949ZrpKiV','(((.+)+)+)+$','rescheduleSheet','scroll','offClick','split','setBackgroundColor','rs-date-chip','data-date','ccTitle','today','top','T23:59:59','getTime','week','rs-time-btn','day-off-overlay\x20stripe-bg','settings','now','–∑–∞\x20','setDate','offsetWidth','json','syncLoad','style','rsDatesTrack','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','DOMContentLoaded','scrollLeft','numeric','toString','scrollTo','createElement','\x20–∏–∑\x20','insertBefore','timeColumn','completed','end','#050505','var(--acc-green)','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getFullYear','clients','data','coachId','T00:00:00','custom','toLocaleString','querySelector',':00</span>','block','start','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','detStatus','classList','130WaSnFy'];a3_0x1352=function(){return _0x473589;};return a3_0x1352();}function resolveCustomConfirm(_0x30663c){const _0x597ebe=a3_0x2c12ca;document[_0x597ebe(0x1de)](_0x597ebe(0x1a0))[_0x597ebe(0x18f)][_0x597ebe(0x196)]('visible');if(confirmResolver)confirmResolver(_0x30663c);}async function tryCancelCurrentSession(){const _0x1c0c22=a3_0x2c12ca;if(!currentSession)return;const _0x48e463=await showCustomConfirm(_0x1c0c22(0x19e),_0x1c0c22(0x1a4),!![]);if(!_0x48e463)return;const _0x27340e=currentSession;closeAllSheets(),sessions=sessions['filter'](_0xc65dff=>_0xc65dff['id']!==_0x27340e['id']),reRenderBlocks(),showToast(_0x1c0c22(0x246)),lastUserActionTime=Date[_0x1c0c22(0x26c)]();try{const _0xe41e6d=window[_0x1c0c22(0x1ea)]?.['WebApp'],_0x4ecc2c=await fetch(API_URL,{'method':_0x1c0c22(0x230),'body':JSON[_0x1c0c22(0x1ac)]({'action':_0x1c0c22(0x257),'init_data':_0xe41e6d?.[_0x1c0c22(0x1c9)]||'','coachId':_0x27340e[_0x1c0c22(0x185)],'dateStr':_0x27340e[_0x1c0c22(0x24f)],'sessionId':_0x27340e['id']})});if(_0x4ecc2c['ok'])DataManager[_0x1c0c22(0x22a)]();}catch(_0xaa9bc2){showToast(_0x1c0c22(0x1a6));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x397458=a3_0x2c12ca;if(!currentSession)return;document[_0x397458(0x1de)](_0x397458(0x1a5))['classList'][_0x397458(0x196)]('open'),document[_0x397458(0x1de)](_0x397458(0x25c))[_0x397458(0x18f)]['add'](_0x397458(0x1f9));const _0x5b6b2f=document[_0x397458(0x1de)](_0x397458(0x273)),_0x3c5372=document['getElementById'](_0x397458(0x1a2));_0x5b6b2f[_0x397458(0x231)]='',_0x3c5372[_0x397458(0x231)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x36acce,_0x36b193]=currentSession['start'][_0x397458(0x25f)](':')[_0x397458(0x232)](Number),[_0x3bacfd,_0x507aab]=currentSession['end'][_0x397458(0x25f)](':')[_0x397458(0x232)](Number),_0x22be37=_0x3bacfd*0x3c+_0x507aab-(_0x36acce*0x3c+_0x36b193);try{const _0x3e7859=window[_0x397458(0x1ea)]?.['WebApp'],_0x30d1e2=await fetch(API_URL,{'method':_0x397458(0x230),'body':JSON[_0x397458(0x1ac)]({'action':_0x397458(0x256),'coachId':currentSession[_0x397458(0x185)],'duration':_0x22be37,'init_data':_0x3e7859?.[_0x397458(0x1c9)]||'','excludeSessionId':currentSession['id']})}),_0x55bbd5=await _0x30d1e2[_0x397458(0x270)]();_0x55bbd5['ok']&&_0x55bbd5['data']?(availableSlotsCache=_0x55bbd5[_0x397458(0x184)],renderRescheduleDates()):_0x3c5372[_0x397458(0x231)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x3726e5){_0x3c5372['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x578b7c=a3_0x2c12ca,_0x1d4744=document['getElementById'](_0x578b7c(0x273));_0x1d4744[_0x578b7c(0x231)]='';const _0x1b6167=Object[_0x578b7c(0x22d)](availableSlotsCache)[_0x578b7c(0x1eb)](),_0x3ee7ca=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1b6167[_0x578b7c(0x23b)]===0x0){document['getElementById'](_0x578b7c(0x1a2))[_0x578b7c(0x231)]=_0x578b7c(0x1ef);return;}_0x1b6167[_0x578b7c(0x211)]((_0x5858d9,_0x35fee4)=>{const _0x498adf=_0x578b7c,_0x2f0fc9=new Date(_0x5858d9),_0x4368e1=_0x3ee7ca[_0x2f0fc9[_0x498adf(0x223)]()],_0x155ffd=_0x2f0fc9[_0x498adf(0x1b4)](),_0x2c61a4=document['createElement'](_0x498adf(0x19d));_0x2c61a4[_0x498adf(0x1d7)]=_0x498adf(0x261);if(_0x35fee4===0x0)_0x2c61a4[_0x498adf(0x18f)]['add'](_0x498adf(0x201));_0x2c61a4['innerHTML']=_0x498adf(0x1d2)+_0x4368e1+'</div><div\x20class=\x22rs-day-num\x22>'+_0x155ffd+_0x498adf(0x198),_0x2c61a4[_0x498adf(0x22b)]=()=>selectRsDate(_0x5858d9,_0x2c61a4),_0x1d4744[_0x498adf(0x1a3)](_0x2c61a4);}),selectRsDate(_0x1b6167[0x0],_0x1d4744['firstChild']);}function selectRsDate(_0x4da7f2,_0x58176a){const _0x260aa8=a3_0x2c12ca;selectedRsDate=_0x4da7f2,document[_0x260aa8(0x202)](_0x260aa8(0x23f))[_0x260aa8(0x211)](_0x26c4e2=>_0x26c4e2['classList'][_0x260aa8(0x196)]('active'));if(_0x58176a)_0x58176a[_0x260aa8(0x18f)]['add'](_0x260aa8(0x201));const _0x5e5e2e=document[_0x260aa8(0x1de)](_0x260aa8(0x1a2));_0x5e5e2e[_0x260aa8(0x231)]='';const _0x4525e3=availableSlotsCache[_0x4da7f2]||[];if(_0x4525e3[_0x260aa8(0x23b)]===0x0){_0x5e5e2e[_0x260aa8(0x231)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x4525e3[_0x260aa8(0x211)](_0x8ac9=>{const _0x199cc9=_0x260aa8,_0x4ef559=document[_0x199cc9(0x27b)](_0x199cc9(0x1f4));_0x4ef559[_0x199cc9(0x1d7)]=_0x199cc9(0x269),_0x4ef559[_0x199cc9(0x225)]=_0x8ac9,_0x4ef559['onclick']=()=>confirmReschedule(_0x8ac9),_0x5e5e2e['appendChild'](_0x4ef559);});}async function confirmReschedule(_0x540835){const _0x46bd96=a3_0x2c12ca,_0x223042=new Date(selectedRsDate),_0x354dc0=_0x223042[_0x46bd96(0x215)]('ru-RU',{'day':'numeric','month':_0x46bd96(0x1da)}),_0x322e8a=await showCustomConfirm(_0x46bd96(0x1e4),_0x46bd96(0x253)+_0x354dc0+'\x20–≤\x20'+_0x540835+'?',![]);if(!_0x322e8a)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x2fa17e=currentSession[_0x46bd96(0x24f)],_0x12147e=currentSession['id'],[_0x1a72c1,_0x1cdf42]=currentSession[_0x46bd96(0x18c)][_0x46bd96(0x25f)](':')[_0x46bd96(0x232)](Number),[_0x12c1c5,_0x2c9517]=currentSession[_0x46bd96(0x17d)][_0x46bd96(0x25f)](':')['map'](Number),_0xc294f1=_0x12c1c5*0x3c+_0x2c9517-(_0x1a72c1*0x3c+_0x1cdf42),[_0xd08bd1,_0x464df0]=_0x540835[_0x46bd96(0x25f)](':')[_0x46bd96(0x232)](Number),_0x133815=_0xd08bd1*0x3c+_0x464df0+_0xc294f1,_0x40b6a5=Math[_0x46bd96(0x1b0)](_0x133815/0x3c),_0x51a58d=_0x133815%0x3c,_0x48e8f4=String(_0x40b6a5)['padStart'](0x2,'0')+':'+String(_0x51a58d)[_0x46bd96(0x1be)](0x2,'0'),_0xc6b28d=sessions[_0x46bd96(0x1dd)](_0x3240d5=>_0x3240d5['id']===_0x12147e);_0xc6b28d!==-0x1&&(sessions[_0xc6b28d][_0x46bd96(0x24f)]=selectedRsDate,sessions[_0xc6b28d][_0x46bd96(0x18c)]=_0x540835,sessions[_0xc6b28d][_0x46bd96(0x17d)]=_0x48e8f4,reRenderBlocks());try{const _0x36dc73=window[_0x46bd96(0x1ea)]?.[_0x46bd96(0x1fe)],_0x4788d9=await fetch(API_URL,{'method':_0x46bd96(0x230),'body':JSON[_0x46bd96(0x1ac)]({'action':_0x46bd96(0x250),'init_data':_0x36dc73?.[_0x46bd96(0x1c9)]||'','oldSessionId':_0x12147e,'oldDate':_0x2fa17e,'newDate':selectedRsDate,'newTime':_0x540835,'coachId':currentSession[_0x46bd96(0x185)]})}),_0x1bffee=await _0x4788d9[_0x46bd96(0x270)]();!_0x1bffee['ok']?(showToast(_0x46bd96(0x23e)),DataManager[_0x46bd96(0x271)]()):(showToast(_0x46bd96(0x20c)),DataManager[_0x46bd96(0x22a)]());}catch(_0x505dba){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x2c12ca(0x216)](a3_0x2c12ca(0x276),init);