const a3_0x294933=a3_0x59a2;(function(_0x1492b0,_0x414737){const _0x1a7384=a3_0x59a2,_0x2e25a5=_0x1492b0();while(!![]){try{const _0x29fa24=-parseInt(_0x1a7384(0x2d7))/0x1+-parseInt(_0x1a7384(0x2a4))/0x2*(parseInt(_0x1a7384(0x20a))/0x3)+parseInt(_0x1a7384(0x2b2))/0x4*(parseInt(_0x1a7384(0x23e))/0x5)+-parseInt(_0x1a7384(0x2cf))/0x6+parseInt(_0x1a7384(0x266))/0x7+-parseInt(_0x1a7384(0x213))/0x8+parseInt(_0x1a7384(0x242))/0x9;if(_0x29fa24===_0x414737)break;else _0x2e25a5['push'](_0x2e25a5['shift']());}catch(_0x2ccb21){_0x2e25a5['push'](_0x2e25a5['shift']());}}}(a3_0x57f0,0xdf5b7));const APP_VERSION=a3_0x294933(0x221),API_URL=a3_0x294933(0x2c6),GRID_H=0x3c,KEY_SESSIONS=a3_0x294933(0x26b),KEY_SETTINGS=a3_0x294933(0x289),KEY_CLIENTS=a3_0x294933(0x226);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x294933(0x252),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x509f47=a3_0x294933,_0x14d0e6=(function(){let _0x31608d=!![];return function(_0x86530f,_0x48fd3b){const _0x29129b=_0x31608d?function(){const _0x27ce90=a3_0x59a2;if(_0x48fd3b){const _0x4e1034=_0x48fd3b[_0x27ce90(0x23a)](_0x86530f,arguments);return _0x48fd3b=null,_0x4e1034;}}:function(){};return _0x31608d=![],_0x29129b;};}()),_0x4618a3=_0x14d0e6(this,function(){const _0x2e9efa=a3_0x59a2;return _0x4618a3[_0x2e9efa(0x2c4)]()['search'](_0x2e9efa(0x2ea))[_0x2e9efa(0x2c4)]()[_0x2e9efa(0x25c)](_0x4618a3)[_0x2e9efa(0x29c)](_0x2e9efa(0x2ea));});_0x4618a3();try{const _0x4358fd=window['Telegram']?.['WebApp'];if(!_0x4358fd)return;_0x4358fd[_0x509f47(0x25f)](),_0x4358fd[_0x509f47(0x200)]();try{_0x4358fd[_0x509f47(0x262)](_0x509f47(0x1ee)),_0x4358fd[_0x509f47(0x2d6)]&&_0x4358fd['setBackgroundColor'](_0x509f47(0x1ee));}catch(_0x3b5643){console[_0x509f47(0x243)](_0x509f47(0x26d),_0x3b5643);}try{_0x4358fd[_0x509f47(0x1fd)]&&(_0x4358fd['BackButton'][_0x509f47(0x1ef)](),_0x4358fd[_0x509f47(0x1fd)][_0x509f47(0x2d9)](),_0x4358fd[_0x509f47(0x1fd)][_0x509f47(0x22c)](function(){const _0xaf10ae=_0x509f47;window[_0xaf10ae(0x2ec)][_0xaf10ae(0x23f)]=_0xaf10ae(0x1f2);}));}catch(_0x33ab64){console[_0x509f47(0x243)](_0x509f47(0x272),_0x33ab64);}try{if(_0x4358fd['disableVerticalSwipes'])_0x4358fd['disableVerticalSwipes']();}catch(_0x3b3edf){}}catch(_0x226e91){console[_0x509f47(0x249)](_0x509f47(0x276),_0x226e91);}}());function isAdmin(){const _0x55b850=a3_0x294933;try{const _0x53b5cb=Number(window['Telegram']?.[_0x55b850(0x284)]?.[_0x55b850(0x2a1)]?.[_0x55b850(0x2c7)]?.['id']);return _0x53b5cb===0xbaf7174;}catch(_0x33ef20){return![];}}function a3_0x57f0(){const _0xdc484c=['active','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','1403773HYqcQC','.day-column','analyticsList','scrollLeft','day-col-header\x20','uc_client_sessions','querySelector','Error\x20setting\x20color:','sid','appendChild','#ff453a','setAttribute','Error\x20setting\x20back\x20button:','fontWeight','completed','.period-switch\x20.p-btn','Critical\x20TMA\x20Error:','zIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','client_load','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','toLocaleString','\x20-\x20','.rs-date-chip','all','#0a84ff','className','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','pattern','WebApp','POST','cancelHint','innerHTML','round','uc_client_settings','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getMinutes','insertBefore','rgba(10,\x20132,\x20255,\x20','</div><div\x20class=\x22rs-day-num\x22>','getItem','ccYesBtn','data','scrollTop','anPercent','getTime','open','timeLineBadge','planned','map','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clientWidth','search','\x20status-completed','day-off-overlay\x20stripe-bg','getAttribute','matrixViewport','initDataUnsafe','daysHeaderTrack','length','618Uocoxo','anEnd','setDate','settings','overlay','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','600','initData','headerMonth','anDonutCircle','analyticsSheet','createElement','test','createDocumentFragment','8LlkDEu','auto','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','.day-col-header[data-date=\x22','getDay','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','getElementById','get_slots','blocked-range-part\x20stripe-bg','keys','stringify','cid','rsSlotsGrid','%\x20+\x202px)','client_cancel','style','querySelectorAll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','toString','DOMContentLoaded','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','user','remove','.btn-reschedule','getHours','now','seriesId','var(--acc-blue)','setMonth','1445310nReejb','then','Telegram','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','addEventListener','saveLocally','ccText','setBackgroundColor','1790228oEXdXc','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','offClick','getFullYear','textContent','calc(','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','end','split','startsWith','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','none','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','\x20—á.','event-card','<span>','offsetWidth','min','data-day-idx','(((.+)+)+)+$','px\x200px','location','#050505','show','time-label','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','router.html','today','div','color','ru-RU','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','top','getMonth','long','</div><div\x20class=\x22dch-num\x22>','isArray','BackButton','status','gridColumns','expand','forEach','\x20–≤\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','backgroundPosition','Unknown','scrollWidth','note','value','clients','14172quTwrA','scrollTo','push','parse','reschedule','padStart','sort','find','</div>','6938408lcKuoL','rgba(','colIndex','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','flex','display','detDate','max','anStart','detStatus','px\x20-','backgroundColor','strokeDashoffset','client-stat-card','v9.5-CLIENT-ANALYTICS','substr','–∑–∞\x20','applyData','stopPropagation','uc_client_list','block','toUpperCase','<div\x20class=\x22dch-day\x22>','<div\x20class=\x22rs-day-name\x22>','calendar','onClick','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','anCustomDates','ranges','json','cancelContainer','customConfirm','charAt','setItem','onclick','borderLeftColor','dateStr','filter','loadLocal','apply','toLocaleDateString','total','cancel_window','3755450woJwVs','href','exceptions','width','32132538rNixDy','log','setHours','add','globalTimeLine','classList','coachId','error','detTime',':00</span>','detNote','syncLoad','visible','start','numeric','data-date','week','clientId','var(--acc-green)','–û—Ç–º–µ–Ω–µ–Ω–æ','toast','getDate','join','day-column\x20','blocked-slot\x20stripe-bg','firstChild','constructor','offsetLeft','mini','ready','done','.day-col-header','setHeaderColor','rescheduleSheet'];a3_0x57f0=function(){return _0xdc484c;};return a3_0x57f0();}const DataManager={'saveLocally'(){const _0x315a17=a3_0x294933;try{localStorage[_0x315a17(0x234)](KEY_SESSIONS,JSON[_0x315a17(0x2bc)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x315a17(0x2bc)](clients)),localStorage[_0x315a17(0x234)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x528d9a){}},'loadLocal'(){const _0x4849fb=a3_0x294933;try{const _0x18326e=localStorage[_0x4849fb(0x290)](KEY_SESSIONS);if(_0x18326e)sessions=JSON[_0x4849fb(0x20d)](_0x18326e);const _0x131e58=localStorage[_0x4849fb(0x290)](KEY_CLIENTS);if(_0x131e58)clients=JSON[_0x4849fb(0x20d)](_0x131e58);const _0xe5031f=localStorage[_0x4849fb(0x290)](KEY_SETTINGS);if(_0xe5031f){const _0x39a525=JSON[_0x4849fb(0x20d)](_0xe5031f);if(_0x39a525[_0x4849fb(0x283)])availabilityPattern=_0x39a525['pattern'];if(_0x39a525[_0x4849fb(0x22f)])specialRanges=_0x39a525[_0x4849fb(0x22f)];if(_0x39a525['exceptions'])dateExceptions=_0x39a525[_0x4849fb(0x240)];}}catch(_0x32c50f){}},async 'syncLoad'(){const _0xfc3c1f=a3_0x294933,_0x299458=new Date(),_0x45a2ab=_0x299458[_0xfc3c1f(0x2da)]()+'-'+String(_0x299458[_0xfc3c1f(0x1f9)]()+0x1)[_0xfc3c1f(0x20f)](0x2,'0'),_0x5b7348=new Date(_0x299458);_0x5b7348[_0xfc3c1f(0x2ce)](_0x299458[_0xfc3c1f(0x1f9)]()+0x1);const _0x27df9f=_0x5b7348[_0xfc3c1f(0x2da)]()+'-'+String(_0x5b7348[_0xfc3c1f(0x1f9)]()+0x1)['padStart'](0x2,'0'),_0x112ee0=Date[_0xfc3c1f(0x2cb)]();try{const _0x83eef4=window[_0xfc3c1f(0x2d1)]?.[_0xfc3c1f(0x284)],_0x594418=_0x83eef4?.[_0xfc3c1f(0x2ab)]||'',[_0x1f4bed,_0x2a8ed4]=await Promise[_0xfc3c1f(0x27e)]([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0xfc3c1f(0x279),'init_data':_0x594418,'month_str':_0x45a2ab})})['then'](_0x28e64b=>_0x28e64b[_0xfc3c1f(0x230)]()),fetch(API_URL,{'method':_0xfc3c1f(0x285),'body':JSON['stringify']({'action':_0xfc3c1f(0x279),'init_data':_0x594418,'month_str':_0x27df9f})})[_0xfc3c1f(0x2d0)](_0x5a9638=>_0x5a9638[_0xfc3c1f(0x230)]())]);if(lastUserActionTime>_0x112ee0){console[_0xfc3c1f(0x243)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x1f4bed['ok'])this[_0xfc3c1f(0x224)](_0x1f4bed[_0xfc3c1f(0x292)],_0x45a2ab);if(_0x2a8ed4['ok'])this[_0xfc3c1f(0x224)](_0x2a8ed4[_0xfc3c1f(0x292)],_0x27df9f);this['saveLocally']();}catch(_0x55331f){}},'applyData'(_0x1ea383,_0x5a5114){const _0x41a4c5=a3_0x294933;if(!_0x1ea383)return;if(_0x1ea383[_0x41a4c5(0x2a7)]){if(_0x1ea383['settings'][_0x41a4c5(0x283)])availabilityPattern=_0x1ea383[_0x41a4c5(0x2a7)][_0x41a4c5(0x283)];if(_0x1ea383[_0x41a4c5(0x2a7)]['ranges'])specialRanges=_0x1ea383[_0x41a4c5(0x2a7)][_0x41a4c5(0x22f)];if(_0x1ea383[_0x41a4c5(0x2a7)]['exceptions'])dateExceptions=_0x1ea383[_0x41a4c5(0x2a7)][_0x41a4c5(0x240)];}if(_0x1ea383[_0x41a4c5(0x209)]&&Array[_0x41a4c5(0x1fc)](_0x1ea383[_0x41a4c5(0x209)]))clients=_0x1ea383[_0x41a4c5(0x209)];_0x1ea383['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x1ea383['coach_profiles']}),_0x1ea383['calendar']&&(sessions=sessions[_0x41a4c5(0x238)](_0x3b2599=>!_0x3b2599[_0x41a4c5(0x237)][_0x41a4c5(0x2e0)](_0x5a5114)),Object[_0x41a4c5(0x2bb)](_0x1ea383[_0x41a4c5(0x22b)])[_0x41a4c5(0x201)](_0xe68e3=>{const _0x19a703=_0x41a4c5,_0x176b6=_0x1ea383[_0x19a703(0x22b)][_0xe68e3];_0x176b6['forEach'](_0x23c2fa=>{const _0x4677aa=_0x19a703;sessions[_0x4677aa(0x20c)]({'id':_0x23c2fa['i'],'clientId':_0x23c2fa['c'],'coachId':_0x23c2fa[_0x4677aa(0x2bd)],'dateStr':_0x5a5114+'-'+_0xe68e3[_0x4677aa(0x20f)](0x2,'0'),'start':_0x23c2fa['s'],'end':_0x23c2fa['e'],'note':_0x23c2fa['n']||'','status':_0x23c2fa['st']||_0x4677aa(0x298),'seriesId':_0x23c2fa[_0x4677aa(0x26e)]});});})),reRenderBlocks();}};function init(){const _0x4635c0=a3_0x294933;DataManager[_0x4635c0(0x239)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4635c0(0x2b8)](_0x4635c0(0x2a0))[_0x4635c0(0x2d3)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4635c0(0x24d)]();}function renderTimeColumn(){const _0x261d7e=a3_0x294933,_0xaa1b02=document[_0x261d7e(0x2b8)]('timeColumn'),_0x2dc870=document[_0x261d7e(0x2b8)](_0x261d7e(0x297));_0xaa1b02['innerHTML']='',_0xaa1b02[_0x261d7e(0x26f)](_0x2dc870);for(let _0x312c8c=0x0;_0x312c8c<0x18;_0x312c8c++){const _0x36c57a=document[_0x261d7e(0x2af)](_0x261d7e(0x1f4));_0x36c57a[_0x261d7e(0x280)]=_0x261d7e(0x1f0);if(_0x312c8c>0x0)_0x36c57a[_0x261d7e(0x287)]=_0x261d7e(0x2e6)+String(_0x312c8c)[_0x261d7e(0x20f)](0x2,'0')+_0x261d7e(0x24b);_0xaa1b02[_0x261d7e(0x26f)](_0x36c57a);}}function renderDayRange(_0x170894,_0x12dd23){const _0x212bea=a3_0x294933,_0x36042c=document['getElementById']('daysHeaderTrack'),_0x250c17=document[_0x212bea(0x2b8)](_0x212bea(0x1ff)),_0x19254e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x144cfc=new Date();_0x144cfc[_0x212bea(0x244)](0x0,0x0,0x0,0x0);const _0x4533ff=getLocalDateStr(new Date());for(let _0x2ed005=_0x170894;_0x2ed005<=_0x12dd23;_0x2ed005++){const _0x5a5af0=new Date(_0x144cfc);_0x5a5af0['setDate'](_0x5a5af0[_0x212bea(0x257)]()+_0x2ed005);const _0x400020=getLocalDateStr(_0x5a5af0);let _0x499583=_0x5a5af0[_0x212bea(0x2b6)]()-0x1;if(_0x499583===-0x1)_0x499583=0x6;const _0x1a54c4=_0x400020===_0x4533ff,_0x25b61=document['createElement']('div');_0x25b61[_0x212bea(0x280)]=_0x212bea(0x26a)+(_0x1a54c4?_0x212bea(0x1f3):''),_0x25b61['setAttribute'](_0x212bea(0x251),_0x400020),_0x25b61[_0x212bea(0x287)]='<div\x20class=\x22dch-day\x22>'+_0x19254e[_0x499583]+_0x212bea(0x1fb)+_0x5a5af0[_0x212bea(0x257)]()+_0x212bea(0x212),_0x36042c['appendChild'](_0x25b61);const _0x9940f0=document['createElement'](_0x212bea(0x1f4));_0x9940f0[_0x212bea(0x280)]=_0x212bea(0x259)+(_0x1a54c4?'today':''),_0x9940f0[_0x212bea(0x271)](_0x212bea(0x251),_0x400020),_0x9940f0['setAttribute'](_0x212bea(0x2e9),_0x499583),_0x250c17['appendChild'](_0x9940f0);}}function a3_0x59a2(_0x3185bc,_0x10c2ae){_0x3185bc=_0x3185bc-0x1ee;const _0xbcb2da=a3_0x57f0();let _0x17de89=_0xbcb2da[_0x3185bc];return _0x17de89;}function reRenderBlocks(){const _0x4e1cc9=a3_0x294933;document[_0x4e1cc9(0x2c2)]('.day-column')[_0x4e1cc9(0x201)](_0x1d5c9a=>{const _0x5434c0=_0x4e1cc9;_0x1d5c9a[_0x5434c0(0x2c2)](_0x5434c0(0x2d2))[_0x5434c0(0x201)](_0x107bee=>_0x107bee['remove']());const _0x3ab0ca=_0x1d5c9a[_0x5434c0(0x29f)](_0x5434c0(0x251)),_0x1ee8bb=parseInt(_0x1d5c9a[_0x5434c0(0x29f)](_0x5434c0(0x2e9))),_0x26b612=Math[_0x5434c0(0x288)](_0x1d5c9a['offsetLeft']);(availabilityPattern[_0x1ee8bb]||[])['forEach'](_0x3f42f5=>{const _0x43cc07=_0x5434c0,_0x420ee6=document[_0x43cc07(0x2af)](_0x43cc07(0x1f4));_0x420ee6[_0x43cc07(0x280)]=_0x43cc07(0x25a),_0x420ee6[_0x43cc07(0x2c1)][_0x43cc07(0x1f8)]=_0x3f42f5*GRID_H+'px',_0x420ee6[_0x43cc07(0x2c1)][_0x43cc07(0x204)]='-'+_0x26b612+'px\x20-'+_0x3f42f5*GRID_H+'px',_0x1d5c9a[_0x43cc07(0x26f)](_0x420ee6);});if(specialRanges[_0x5434c0(0x2a3)]>0x0){const _0x5173d1=new Date(_0x3ab0ca+'T00:00:00')['getTime'](),_0x29d329=new Date(_0x3ab0ca+'T23:59:59')[_0x5434c0(0x295)]();specialRanges[_0x5434c0(0x201)](_0x1ed50b=>{const _0x3dbb94=_0x5434c0,_0x2d75bb=new Date(_0x1ed50b[_0x3dbb94(0x24f)])[_0x3dbb94(0x295)](),_0x539402=new Date(_0x1ed50b['end'])[_0x3dbb94(0x295)](),_0x482863=Math[_0x3dbb94(0x21a)](_0x5173d1,_0x2d75bb),_0x4d1d98=Math['min'](_0x29d329,_0x539402);if(_0x482863<_0x4d1d98){const _0x219482=(_0x482863-_0x5173d1)/0x36ee80*GRID_H,_0x1cef8b=(_0x4d1d98-_0x482863)/0x36ee80*GRID_H,_0x5f0b35=document['createElement'](_0x3dbb94(0x1f4));_0x1cef8b>=23.5*GRID_H?(_0x5f0b35[_0x3dbb94(0x280)]=_0x3dbb94(0x29e),_0x5f0b35[_0x3dbb94(0x2c1)][_0x3dbb94(0x204)]='-'+_0x26b612+_0x3dbb94(0x2eb)):(_0x5f0b35[_0x3dbb94(0x280)]=_0x3dbb94(0x2ba),_0x5f0b35['style']['top']=_0x219482+'px',_0x5f0b35[_0x3dbb94(0x2c1)]['height']=_0x1cef8b+'px',_0x5f0b35['style'][_0x3dbb94(0x204)]='-'+_0x26b612+_0x3dbb94(0x21d)+_0x219482+'px'),_0x1d5c9a[_0x3dbb94(0x26f)](_0x5f0b35);}});}renderEventsForColumn(_0x1d5c9a,_0x3ab0ca);});}function renderEventsForColumn(_0x1da522,_0x4b58e4){const _0x2d05bc=a3_0x294933,_0x563f3a=sessions['filter'](_0x12ae3f=>_0x12ae3f[_0x2d05bc(0x237)]===_0x4b58e4),_0x5b987c=_0x563f3a[_0x2d05bc(0x299)](_0x1fe679=>{const _0x5f451c=_0x2d05bc,[_0x4be4ae,_0xb33b0e]=_0x1fe679[_0x5f451c(0x24f)][_0x5f451c(0x2df)](':')[_0x5f451c(0x299)](Number),[_0x276281,_0x3b7f89]=_0x1fe679[_0x5f451c(0x2de)][_0x5f451c(0x2df)](':')['map'](Number);return{'data':_0x1fe679,'start':_0x4be4ae*0x3c+_0xb33b0e,'end':_0x276281*0x3c+_0x3b7f89,'colIndex':0x0};});_0x5b987c['sort']((_0x5bd9aa,_0x138073)=>_0x5bd9aa['start']-_0x138073[_0x2d05bc(0x24f)]||_0x138073[_0x2d05bc(0x2de)]-_0x138073[_0x2d05bc(0x24f)]-(_0x5bd9aa[_0x2d05bc(0x2de)]-_0x5bd9aa[_0x2d05bc(0x24f)]));const _0x52a72b=[];_0x5b987c[_0x2d05bc(0x201)](_0x51155d=>{const _0x1b64a8=_0x2d05bc;let _0x173c14=![];for(let _0xbec7a4=0x0;_0xbec7a4<_0x52a72b[_0x1b64a8(0x2a3)];_0xbec7a4++){const _0x2d6d81=_0x52a72b[_0xbec7a4];if(_0x51155d[_0x1b64a8(0x24f)]>=_0x2d6d81[_0x2d6d81['length']-0x1][_0x1b64a8(0x2de)]){_0x2d6d81[_0x1b64a8(0x20c)](_0x51155d),_0x51155d[_0x1b64a8(0x215)]=_0xbec7a4,_0x173c14=!![];break;}}!_0x173c14&&(_0x52a72b[_0x1b64a8(0x20c)]([_0x51155d]),_0x51155d[_0x1b64a8(0x215)]=_0x52a72b[_0x1b64a8(0x2a3)]-0x1);}),_0x5b987c[_0x2d05bc(0x201)](_0x145d24=>{const _0x55c12e=_0x2d05bc;let _0x16bb8c=0x0;_0x5b987c['forEach'](_0x4b4101=>{const _0x151893=a3_0x59a2;if(Math[_0x151893(0x21a)](_0x145d24[_0x151893(0x24f)],_0x4b4101['start'])<Math[_0x151893(0x2e8)](_0x145d24[_0x151893(0x2de)],_0x4b4101['end'])&&_0x4b4101[_0x151893(0x215)]>_0x16bb8c)_0x16bb8c=_0x4b4101[_0x151893(0x215)];});const _0x5ead54=_0x16bb8c+0x1,_0x300fd3=0x64/_0x5ead54,_0x115595=_0x145d24[_0x55c12e(0x215)]*_0x300fd3,_0x2eab53=document[_0x55c12e(0x2af)](_0x55c12e(0x1f4)),_0xa9317a=_0x145d24[_0x55c12e(0x292)];let _0x5f0719=_0x55c12e(0x27f);if(clients&&clients[_0x55c12e(0x2a3)]>0x0){const _0x424ede=clients[_0x55c12e(0x211)](_0x2ca66b=>String(_0x2ca66b['id'])===String(_0xa9317a[_0x55c12e(0x253)]));if(_0x424ede&&_0x424ede[_0x55c12e(0x1f5)])_0x5f0719=_0x424ede[_0x55c12e(0x1f5)];}const _0x4d7bc5=_0xa9317a['status']===_0x55c12e(0x274),_0x2c2caa=_0x4d7bc5?0x1:0.45;_0x2eab53[_0x55c12e(0x280)]=_0x55c12e(0x2e5)+(_0x4d7bc5?_0x55c12e(0x29d):''),_0x2eab53[_0x55c12e(0x2c1)][_0x55c12e(0x21e)]=hexToRgba(_0x5f0719,_0x2c2caa),_0x2eab53['style'][_0x55c12e(0x236)]=_0x5f0719;const _0x459254=_0x145d24[_0x55c12e(0x24f)]/0x3c*GRID_H,_0x1d637f=(_0x145d24[_0x55c12e(0x2de)]-_0x145d24[_0x55c12e(0x24f)])/0x3c*GRID_H;_0x2eab53[_0x55c12e(0x2c1)][_0x55c12e(0x1f8)]=_0x459254+'px',_0x2eab53[_0x55c12e(0x2c1)]['height']=Math[_0x55c12e(0x21a)](_0x1d637f,0x14)+'px',_0x2eab53[_0x55c12e(0x2c1)][_0x55c12e(0x241)]='calc('+_0x300fd3+'%\x20-\x204px)',_0x2eab53[_0x55c12e(0x2c1)]['left']=_0x55c12e(0x2dc)+_0x115595+_0x55c12e(0x2bf),_0x2eab53[_0x55c12e(0x2c1)][_0x55c12e(0x277)]=0xa+_0x145d24[_0x55c12e(0x215)];if(_0x300fd3<0x55)_0x2eab53[_0x55c12e(0x247)][_0x55c12e(0x245)](_0x55c12e(0x25e));let _0x3aa70d='';if(_0xa9317a[_0x55c12e(0x2cc)])_0x3aa70d+=_0x55c12e(0x29a);if(_0x4d7bc5)_0x3aa70d+=_0x55c12e(0x28b);_0x2eab53[_0x55c12e(0x287)]=_0x55c12e(0x203)+_0xa9317a[_0x55c12e(0x24f)]+_0x55c12e(0x27c)+_0xa9317a[_0x55c12e(0x2de)]+_0x55c12e(0x278)+_0x3aa70d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2eab53['onclick']=_0x1efa16=>{const _0x5e0f77=_0x55c12e;_0x1efa16[_0x5e0f77(0x225)](),openDetails(_0xa9317a);},_0x1da522[_0x55c12e(0x26f)](_0x2eab53);});}function openAnalytics(){const _0x41bab5=a3_0x294933,_0x5d5cd4=document[_0x41bab5(0x26c)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x41bab5(0x252),_0x5d5cd4),openSheet(_0x41bab5(0x2ae));}function setAnalyticsPeriod(_0x46abde,_0x332bb6){const _0xe06b3a=a3_0x294933;currentAnPeriod=_0x46abde,document[_0xe06b3a(0x2c2)](_0xe06b3a(0x275))[_0xe06b3a(0x201)](_0x381785=>_0x381785[_0xe06b3a(0x247)][_0xe06b3a(0x2c8)](_0xe06b3a(0x264)));if(_0x332bb6)_0x332bb6['classList'][_0xe06b3a(0x245)](_0xe06b3a(0x264));const _0x2570bf=document['getElementById'](_0xe06b3a(0x22e));_0x2570bf['style'][_0xe06b3a(0x218)]=_0x46abde==='custom'?_0xe06b3a(0x217):'none';const _0x25172b=new Date();let _0x4b47dc=new Date(),_0x22b337=new Date();if(_0x46abde===_0xe06b3a(0x252))_0x4b47dc=getStartOfWeek(_0x25172b),_0x22b337=new Date(_0x4b47dc),_0x22b337['setDate'](_0x22b337[_0xe06b3a(0x257)]()+0x6);else{if(_0x46abde==='month')_0x4b47dc=new Date(_0x25172b['getFullYear'](),_0x25172b[_0xe06b3a(0x1f9)](),0x1),_0x22b337=new Date(_0x25172b[_0xe06b3a(0x2da)](),_0x25172b[_0xe06b3a(0x1f9)]()+0x1,0x0);else{!document[_0xe06b3a(0x2b8)]('anStart')[_0xe06b3a(0x208)]&&(document[_0xe06b3a(0x2b8)]('anStart')['value']=getLocalDateStr(_0x25172b),document['getElementById'](_0xe06b3a(0x2a5))[_0xe06b3a(0x208)]=getLocalDateStr(_0x25172b));refreshAnalytics();return;}}document[_0xe06b3a(0x2b8)]('anStart')[_0xe06b3a(0x208)]=getLocalDateStr(_0x4b47dc),document[_0xe06b3a(0x2b8)](_0xe06b3a(0x2a5))[_0xe06b3a(0x208)]=getLocalDateStr(_0x22b337),refreshAnalytics();}function refreshAnalytics(){const _0x1c282c=a3_0x294933,_0x1c36b4=document[_0x1c282c(0x2b8)](_0x1c282c(0x21b))['value'],_0x2cfd35=document[_0x1c282c(0x2b8)](_0x1c282c(0x2a5))[_0x1c282c(0x208)];if(!_0x1c36b4||!_0x2cfd35)return;const _0x43ac83=sessions[_0x1c282c(0x238)](_0x454f65=>_0x454f65[_0x1c282c(0x237)]>=_0x1c36b4&&_0x454f65[_0x1c282c(0x237)]<=_0x2cfd35&&_0x454f65[_0x1c282c(0x1fe)]!=='cancelled'),_0x4b8865=_0x43ac83[_0x1c282c(0x2a3)],_0x460a36=_0x43ac83[_0x1c282c(0x238)](_0x5d07b6=>_0x5d07b6[_0x1c282c(0x1fe)]==='completed')['length'],_0x4ac61c=_0x4b8865>0x0?Math[_0x1c282c(0x288)](_0x460a36/_0x4b8865*0x64):0x0;document[_0x1c282c(0x2b8)](_0x1c282c(0x294))[_0x1c282c(0x2db)]=_0x4ac61c+'%',document[_0x1c282c(0x2b8)]('anTotalStats')['textContent']=_0x460a36+'\x20–∏–∑\x20'+_0x4b8865+_0x1c282c(0x22d);const _0x39d0ef=document[_0x1c282c(0x2b8)](_0x1c282c(0x2ad)),_0x3edcc8=0x2*Math['PI']*0x23,_0x31f5f9=_0x3edcc8-_0x4ac61c/0x64*_0x3edcc8;_0x39d0ef[_0x1c282c(0x2c1)][_0x1c282c(0x21f)]=_0x31f5f9;const _0x500108={};_0x43ac83[_0x1c282c(0x201)](_0x4888e8=>{const _0x29c77e=_0x1c282c,_0x2e3e89=_0x4888e8['coachId']||_0x29c77e(0x205);if(!_0x500108[_0x2e3e89]){const _0x89243d='#'+_0x2e3e89[_0x29c77e(0x2c4)]()[_0x29c77e(0x222)](0x0,0x6);_0x500108[_0x2e3e89]={'total':0x0,'done':0x0,'color':_0x89243d};}_0x500108[_0x2e3e89][_0x29c77e(0x23c)]++;if(_0x4888e8[_0x29c77e(0x1fe)]==='completed')_0x500108[_0x2e3e89][_0x29c77e(0x260)]++;});const _0x53a136=document[_0x1c282c(0x2b8)](_0x1c282c(0x268));_0x53a136[_0x1c282c(0x287)]='';const _0x4330f0=Object['entries'](_0x500108)[_0x1c282c(0x210)]((_0x2a4259,_0x20ef82)=>_0x20ef82[0x1][_0x1c282c(0x23c)]-_0x2a4259[0x1][_0x1c282c(0x23c)]);if(_0x4330f0['length']===0x0){_0x53a136[_0x1c282c(0x287)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x4330f0[_0x1c282c(0x201)](([_0x234344,_0x3ee0a4])=>{const _0x25f5f3=_0x1c282c,_0x435486=Math[_0x25f5f3(0x288)](_0x3ee0a4[_0x25f5f3(0x260)]/_0x3ee0a4[_0x25f5f3(0x23c)]*0x64),_0x2c241e=document['createElement'](_0x25f5f3(0x1f4));_0x2c241e[_0x25f5f3(0x280)]=_0x25f5f3(0x220),_0x2c241e[_0x25f5f3(0x2c1)][_0x25f5f3(0x236)]=_0x3ee0a4[_0x25f5f3(0x1f5)],_0x2c241e[_0x25f5f3(0x287)]=_0x25f5f3(0x282)+_0x234344[_0x25f5f3(0x222)](0x0,0x5)+_0x25f5f3(0x281)+_0x3ee0a4[_0x25f5f3(0x260)]+'</span>\x20/\x20'+_0x3ee0a4[_0x25f5f3(0x23c)]+_0x25f5f3(0x1f1)+_0x435486+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x53a136[_0x25f5f3(0x26f)](_0x2c241e);});}function openDetails(_0x551764){const _0x1d6cd8=a3_0x294933;currentSession=_0x551764;const _0x2d9127=new Date(_0x551764['dateStr']),_0x308f38=_0x2d9127[_0x1d6cd8(0x23b)](_0x1d6cd8(0x1f6),{'weekday':_0x1d6cd8(0x1fa),'day':_0x1d6cd8(0x250),'month':_0x1d6cd8(0x1fa)});document[_0x1d6cd8(0x2b8)](_0x1d6cd8(0x219))['textContent']=_0x308f38[_0x1d6cd8(0x233)](0x0)[_0x1d6cd8(0x228)]()+_0x308f38['slice'](0x1),document[_0x1d6cd8(0x2b8)](_0x1d6cd8(0x24a))[_0x1d6cd8(0x2db)]=_0x551764[_0x1d6cd8(0x24f)]+'\x20-\x20'+_0x551764[_0x1d6cd8(0x2de)],document[_0x1d6cd8(0x2b8)](_0x1d6cd8(0x24c))[_0x1d6cd8(0x2db)]=_0x551764[_0x1d6cd8(0x207)]||_0x1d6cd8(0x2b7);const _0x565ead=document['getElementById'](_0x1d6cd8(0x21c)),_0x2bd0fb=document['getElementById'](_0x1d6cd8(0x231)),_0x35c4ab=_0x2bd0fb[_0x1d6cd8(0x26c)]('.btn-cancel'),_0x2f12b0=_0x2bd0fb['querySelector'](_0x1d6cd8(0x2c9)),_0x2e8024=document[_0x1d6cd8(0x2b8)](_0x1d6cd8(0x286));if(_0x551764[_0x1d6cd8(0x1fe)]==='completed')_0x565ead[_0x1d6cd8(0x2db)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x565ead[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x1f5)]=_0x1d6cd8(0x254),_0x2bd0fb[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]='none';else{_0x565ead[_0x1d6cd8(0x2db)]=_0x1d6cd8(0x216),_0x565ead[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x1f5)]=_0x1d6cd8(0x2cd),_0x2bd0fb[_0x1d6cd8(0x2c1)]['display']=_0x1d6cd8(0x227);const _0x4e3147=new Date(_0x551764[_0x1d6cd8(0x237)]+'T'+_0x551764[_0x1d6cd8(0x24f)]),_0x9beb01=new Date(),_0x40b0b3=(_0x4e3147-_0x9beb01)/(0x3e8*0x3c*0x3c),_0x59cfd3=coachProfiles[_0x551764['coachId']]&&coachProfiles[_0x551764[_0x1d6cd8(0x248)]][_0x1d6cd8(0x23d)]?parseInt(coachProfiles[_0x551764[_0x1d6cd8(0x248)]][_0x1d6cd8(0x23d)]):0x18;if(_0x59cfd3===0x0||_0x40b0b3>=_0x59cfd3)_0x35c4ab[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]='block',_0x2f12b0[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]=_0x1d6cd8(0x227),_0x2e8024[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]=_0x1d6cd8(0x2e2);else{_0x35c4ab[_0x1d6cd8(0x2c1)]['display']=_0x1d6cd8(0x2e2),_0x2f12b0[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]=_0x1d6cd8(0x2e2),_0x2e8024[_0x1d6cd8(0x2c1)][_0x1d6cd8(0x218)]=_0x1d6cd8(0x227);let _0x26a868=_0x59cfd3===0x0?_0x1d6cd8(0x2d8):_0x1d6cd8(0x223)+_0x59cfd3+_0x1d6cd8(0x2e4);_0x2e8024[_0x1d6cd8(0x2db)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x26a868+_0x1d6cd8(0x28a);}}document[_0x1d6cd8(0x2b8)](_0x1d6cd8(0x2a8))[_0x1d6cd8(0x247)][_0x1d6cd8(0x245)]('active'),document[_0x1d6cd8(0x2b8)]('detailsSheet')[_0x1d6cd8(0x247)][_0x1d6cd8(0x245)]('open');}function closeAllSheets(){const _0x11098f=a3_0x294933;document[_0x11098f(0x2b8)](_0x11098f(0x2a8))[_0x11098f(0x247)][_0x11098f(0x2c8)](_0x11098f(0x264)),document['querySelectorAll']('.sheet')[_0x11098f(0x201)](_0x3714ce=>_0x3714ce[_0x11098f(0x247)][_0x11098f(0x2c8)](_0x11098f(0x296)));}function openSheet(_0x1c94ec){const _0x452a98=a3_0x294933;document[_0x452a98(0x2b8)](_0x452a98(0x2a8))[_0x452a98(0x247)]['add'](_0x452a98(0x264)),document[_0x452a98(0x2b8)](_0x1c94ec)[_0x452a98(0x247)][_0x452a98(0x245)](_0x452a98(0x296));}function getLocalDateStr(_0x312e92){const _0xce4b00=a3_0x294933,_0x44e79b=_0x312e92[_0xce4b00(0x2da)](),_0x16b91d=String(_0x312e92[_0xce4b00(0x1f9)]()+0x1)[_0xce4b00(0x20f)](0x2,'0'),_0x4aaa60=String(_0x312e92['getDate']())[_0xce4b00(0x20f)](0x2,'0');return _0x44e79b+'-'+_0x16b91d+'-'+_0x4aaa60;}function getStartOfWeek(_0x96275f){const _0x2e18ac=a3_0x294933,_0x1aeefa=new Date(_0x96275f),_0x2c14bb=_0x1aeefa[_0x2e18ac(0x2b6)](),_0x394ec1=_0x1aeefa[_0x2e18ac(0x257)]()-_0x2c14bb+(_0x2c14bb===0x0?-0x6:0x1);return _0x1aeefa[_0x2e18ac(0x2a6)](_0x394ec1),_0x1aeefa[_0x2e18ac(0x244)](0x0,0x0,0x0,0x0),_0x1aeefa;}function scrollToToday(){const _0x392e97=getLocalDateStr(new Date());setTimeout(()=>{const _0x42e4de=a3_0x59a2,_0x4ca9d5=document['querySelector'](_0x42e4de(0x2b5)+_0x392e97+'\x22]');if(_0x4ca9d5){const _0x43c85e=document[_0x42e4de(0x2b8)]('matrixViewport'),_0x300e25=_0x4ca9d5[_0x42e4de(0x25d)]-_0x43c85e[_0x42e4de(0x29b)]/0x2+_0x4ca9d5[_0x42e4de(0x2e7)]/0x2;_0x43c85e[_0x42e4de(0x20b)]({'left':_0x300e25,'behavior':_0x42e4de(0x2b3)}),_0x43c85e[_0x42e4de(0x293)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x56cfe2=a3_0x294933,_0x3a1a9d=new Date(),_0x166ad9=document['getElementById'](_0x56cfe2(0x246)),_0x3a7aeb=document[_0x56cfe2(0x2b8)](_0x56cfe2(0x297)),_0x3c7cc8=(_0x3a1a9d[_0x56cfe2(0x2ca)]()*0x3c+_0x3a1a9d[_0x56cfe2(0x28c)]())/0x3c*GRID_H;_0x166ad9[_0x56cfe2(0x2c1)][_0x56cfe2(0x1f8)]=_0x3c7cc8+'px',_0x166ad9['style'][_0x56cfe2(0x218)]=_0x56cfe2(0x227),_0x3a7aeb[_0x56cfe2(0x2c1)]['top']=_0x3c7cc8+'px',_0x3a7aeb[_0x56cfe2(0x2c1)][_0x56cfe2(0x218)]=_0x56cfe2(0x227),_0x3a7aeb[_0x56cfe2(0x2db)]=String(_0x3a1a9d[_0x56cfe2(0x2ca)]())[_0x56cfe2(0x20f)](0x2,'0')+':'+String(_0x3a1a9d[_0x56cfe2(0x28c)]())['padStart'](0x2,'0');}function onScroll(){const _0x526944=a3_0x294933,_0x354ac2=document[_0x526944(0x2b8)](_0x526944(0x2a0)),_0xbbe98d=document[_0x526944(0x2c2)](_0x526944(0x261));for(let _0x6dafb1 of _0xbbe98d)if(_0x6dafb1[_0x526944(0x25d)]>=_0x354ac2[_0x526944(0x269)]){const _0x1da86b=new Date(_0x6dafb1[_0x526944(0x29f)](_0x526944(0x251)));document[_0x526944(0x2b8)](_0x526944(0x2ac))['textContent']=_0x1da86b[_0x526944(0x27b)]('ru',{'month':_0x526944(0x1fa)})[_0x526944(0x228)]()+'\x20'+_0x1da86b[_0x526944(0x2da)]();break;}}function showToast(_0x286d60){const _0x385d3d=a3_0x294933,_0x1406cc=document[_0x385d3d(0x2b8)](_0x385d3d(0x256));_0x1406cc[_0x385d3d(0x2db)]=_0x286d60,_0x1406cc[_0x385d3d(0x247)][_0x385d3d(0x245)](_0x385d3d(0x1ef)),setTimeout(()=>_0x1406cc[_0x385d3d(0x247)][_0x385d3d(0x2c8)](_0x385d3d(0x1ef)),0x7d0);}function handleInfiniteScroll(){const _0x20ad61=a3_0x294933,_0x47493a=document[_0x20ad61(0x2b8)](_0x20ad61(0x2a0)),_0x196ceb=_0x47493a[_0x20ad61(0x269)],_0x6e291f=_0x47493a[_0x20ad61(0x206)],_0x4ab835=_0x47493a[_0x20ad61(0x29b)];if(_0x6e291f-(_0x196ceb+_0x4ab835)<0x12c){const _0x15f179=endOffset;endOffset+=0xe,renderDayRange(_0x15f179+0x1,endOffset),reRenderBlocks();}if(_0x196ceb<0x12c){const _0x164352=startOffset;startOffset-=0xe,prependDays(startOffset,_0x164352-0x1),_0x47493a[_0x20ad61(0x269)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x355de8,_0x2625b7){const _0x22c824=a3_0x294933,_0xef57e=document[_0x22c824(0x2b8)](_0x22c824(0x2a2)),_0x33db91=document[_0x22c824(0x2b8)](_0x22c824(0x1ff)),_0xac0593=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b61d2=new Date();_0x3b61d2[_0x22c824(0x244)](0x0,0x0,0x0,0x0);const _0xe12227=getLocalDateStr(new Date()),_0x2eb189=document[_0x22c824(0x2b1)](),_0x1efaa9=document[_0x22c824(0x2b1)]();for(let _0x43c7b2=_0x355de8;_0x43c7b2<=_0x2625b7;_0x43c7b2++){const _0x463eb2=new Date(_0x3b61d2);_0x463eb2[_0x22c824(0x2a6)](_0x463eb2['getDate']()+_0x43c7b2);const _0x1c3d54=getLocalDateStr(_0x463eb2);let _0x444ddc=_0x463eb2[_0x22c824(0x2b6)]()-0x1;if(_0x444ddc===-0x1)_0x444ddc=0x6;const _0x135e56=_0x1c3d54===_0xe12227,_0x93a932=document[_0x22c824(0x2af)](_0x22c824(0x1f4));_0x93a932[_0x22c824(0x280)]=_0x22c824(0x26a)+(_0x135e56?_0x22c824(0x1f3):''),_0x93a932[_0x22c824(0x271)](_0x22c824(0x251),_0x1c3d54),_0x93a932['innerHTML']=_0x22c824(0x229)+_0xac0593[_0x444ddc]+_0x22c824(0x1fb)+_0x463eb2[_0x22c824(0x257)]()+_0x22c824(0x212),_0x2eb189[_0x22c824(0x26f)](_0x93a932);const _0x4367e5=document[_0x22c824(0x2af)](_0x22c824(0x1f4));_0x4367e5[_0x22c824(0x280)]=_0x22c824(0x259)+(_0x135e56?_0x22c824(0x1f3):''),_0x4367e5[_0x22c824(0x271)](_0x22c824(0x251),_0x1c3d54),_0x4367e5[_0x22c824(0x271)](_0x22c824(0x2e9),_0x444ddc),_0x1efaa9[_0x22c824(0x26f)](_0x4367e5);}_0xef57e[_0x22c824(0x28d)](_0x2eb189,_0xef57e[_0x22c824(0x25b)]),_0x33db91[_0x22c824(0x28d)](_0x1efaa9,_0x33db91[_0x22c824(0x26c)](_0x22c824(0x267)));}function hexToRgba(_0x4ed774,_0x5e8a04){const _0x1e44cd=a3_0x294933;let _0x9f7db6;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1e44cd(0x2b0)](_0x4ed774))return _0x9f7db6=_0x4ed774['substring'](0x1)[_0x1e44cd(0x2df)](''),_0x9f7db6[_0x1e44cd(0x2a3)]==0x3&&(_0x9f7db6=[_0x9f7db6[0x0],_0x9f7db6[0x0],_0x9f7db6[0x1],_0x9f7db6[0x1],_0x9f7db6[0x2],_0x9f7db6[0x2]]),_0x9f7db6='0x'+_0x9f7db6[_0x1e44cd(0x258)](''),_0x1e44cd(0x214)+[_0x9f7db6>>0x10&0xff,_0x9f7db6>>0x8&0xff,_0x9f7db6&0xff][_0x1e44cd(0x258)](',')+','+_0x5e8a04+')';return _0x1e44cd(0x28e)+_0x5e8a04+')';}let confirmResolver=null;function showCustomConfirm(_0x3c98e0,_0x14b69e,_0x440e02=!![]){const _0x4fdd5d=a3_0x294933;document[_0x4fdd5d(0x2b8)]('ccTitle')[_0x4fdd5d(0x2db)]=_0x3c98e0,document[_0x4fdd5d(0x2b8)](_0x4fdd5d(0x2d5))[_0x4fdd5d(0x2db)]=_0x14b69e;const _0xf43f3c=document['getElementById'](_0x4fdd5d(0x291));return _0x440e02?(_0xf43f3c[_0x4fdd5d(0x2c1)][_0x4fdd5d(0x1f5)]=_0x4fdd5d(0x270),_0xf43f3c[_0x4fdd5d(0x2c1)]['fontWeight']=_0x4fdd5d(0x2aa)):(_0xf43f3c['style']['color']='#0a84ff',_0xf43f3c[_0x4fdd5d(0x2c1)][_0x4fdd5d(0x273)]=_0x4fdd5d(0x2aa)),new Promise(_0x590086=>{const _0x23f1d2=_0x4fdd5d;confirmResolver=_0x590086,document['getElementById'](_0x23f1d2(0x232))['classList'][_0x23f1d2(0x245)](_0x23f1d2(0x24e));});}function resolveCustomConfirm(_0x4406bf){const _0x598382=a3_0x294933;document[_0x598382(0x2b8)]('customConfirm')[_0x598382(0x247)][_0x598382(0x2c8)](_0x598382(0x24e));if(confirmResolver)confirmResolver(_0x4406bf);}async function tryCancelCurrentSession(){const _0xcf9449=a3_0x294933;if(!currentSession)return;const _0xf251a7=await showCustomConfirm(_0xcf9449(0x1f7),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0xf251a7)return;const _0x2eafaa=currentSession;closeAllSheets(),sessions=sessions[_0xcf9449(0x238)](_0x15ebaf=>_0x15ebaf['id']!==_0x2eafaa['id']),reRenderBlocks(),showToast(_0xcf9449(0x255)),lastUserActionTime=Date[_0xcf9449(0x2cb)]();try{const _0x3f73df=window['Telegram']?.[_0xcf9449(0x284)],_0x1c4670=await fetch(API_URL,{'method':_0xcf9449(0x285),'body':JSON[_0xcf9449(0x2bc)]({'action':_0xcf9449(0x2c0),'init_data':_0x3f73df?.[_0xcf9449(0x2ab)]||'','coachId':_0x2eafaa['coachId'],'dateStr':_0x2eafaa[_0xcf9449(0x237)],'sessionId':_0x2eafaa['id']})});if(_0x1c4670['ok'])DataManager[_0xcf9449(0x2d4)]();}catch(_0x1bb76d){showToast(_0xcf9449(0x2b4));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x26e63e=a3_0x294933;if(!currentSession)return;document[_0x26e63e(0x2b8)]('detailsSheet')[_0x26e63e(0x247)][_0x26e63e(0x2c8)]('open'),document['getElementById'](_0x26e63e(0x263))[_0x26e63e(0x247)]['add'](_0x26e63e(0x296));const _0x12ce8d=document[_0x26e63e(0x2b8)]('rsDatesTrack'),_0x49e16e=document['getElementById'](_0x26e63e(0x2be));_0x12ce8d['innerHTML']='',_0x49e16e[_0x26e63e(0x287)]=_0x26e63e(0x2a9);const [_0x4c52ff,_0x1320c7]=currentSession[_0x26e63e(0x24f)][_0x26e63e(0x2df)](':')[_0x26e63e(0x299)](Number),[_0x3183c8,_0x2f44ef]=currentSession[_0x26e63e(0x2de)][_0x26e63e(0x2df)](':')[_0x26e63e(0x299)](Number),_0x37b5e5=_0x3183c8*0x3c+_0x2f44ef-(_0x4c52ff*0x3c+_0x1320c7);try{const _0x212aba=window['Telegram']?.[_0x26e63e(0x284)],_0x22beff=await fetch(API_URL,{'method':_0x26e63e(0x285),'body':JSON[_0x26e63e(0x2bc)]({'action':_0x26e63e(0x2b9),'coachId':currentSession[_0x26e63e(0x248)],'duration':_0x37b5e5,'init_data':_0x212aba?.[_0x26e63e(0x2ab)]||'','excludeSessionId':currentSession['id']})}),_0x462686=await _0x22beff[_0x26e63e(0x230)]();_0x462686['ok']&&_0x462686[_0x26e63e(0x292)]?(availableSlotsCache=_0x462686['data'],renderRescheduleDates()):_0x49e16e[_0x26e63e(0x287)]=_0x26e63e(0x2c3);}catch(_0x58b333){_0x49e16e['innerHTML']=_0x26e63e(0x2e1);}}function renderRescheduleDates(){const _0x44f69b=a3_0x294933,_0x200555=document[_0x44f69b(0x2b8)]('rsDatesTrack');_0x200555[_0x44f69b(0x287)]='';const _0x7ffcfd=Object[_0x44f69b(0x2bb)](availableSlotsCache)[_0x44f69b(0x210)](),_0x12a7d3=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x7ffcfd[_0x44f69b(0x2a3)]===0x0){document[_0x44f69b(0x2b8)](_0x44f69b(0x2be))['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x7ffcfd[_0x44f69b(0x201)]((_0x3bfe86,_0x326ade)=>{const _0x4c6aa8=_0x44f69b,_0x497d1e=new Date(_0x3bfe86),_0x3067aa=_0x12a7d3[_0x497d1e[_0x4c6aa8(0x2b6)]()],_0x2beb71=_0x497d1e[_0x4c6aa8(0x257)](),_0x70ea71=document[_0x4c6aa8(0x2af)](_0x4c6aa8(0x1f4));_0x70ea71['className']='rs-date-chip';if(_0x326ade===0x0)_0x70ea71['classList'][_0x4c6aa8(0x245)]('active');_0x70ea71[_0x4c6aa8(0x287)]=_0x4c6aa8(0x22a)+_0x3067aa+_0x4c6aa8(0x28f)+_0x2beb71+'</div>',_0x70ea71['onclick']=()=>selectRsDate(_0x3bfe86,_0x70ea71),_0x200555[_0x4c6aa8(0x26f)](_0x70ea71);}),selectRsDate(_0x7ffcfd[0x0],_0x200555[_0x44f69b(0x25b)]);}function selectRsDate(_0x2876d1,_0xe96639){const _0x453d6a=a3_0x294933;selectedRsDate=_0x2876d1,document[_0x453d6a(0x2c2)](_0x453d6a(0x27d))[_0x453d6a(0x201)](_0x74757=>_0x74757[_0x453d6a(0x247)]['remove']('active'));if(_0xe96639)_0xe96639[_0x453d6a(0x247)][_0x453d6a(0x245)]('active');const _0x47fe96=document[_0x453d6a(0x2b8)](_0x453d6a(0x2be));_0x47fe96[_0x453d6a(0x287)]='';const _0x342957=availableSlotsCache[_0x2876d1]||[];if(_0x342957['length']===0x0){_0x47fe96[_0x453d6a(0x287)]=_0x453d6a(0x2c3);return;}_0x342957[_0x453d6a(0x201)](_0x1e3a6d=>{const _0x565af5=_0x453d6a,_0x4ebac4=document[_0x565af5(0x2af)]('button');_0x4ebac4[_0x565af5(0x280)]='rs-time-btn',_0x4ebac4['textContent']=_0x1e3a6d,_0x4ebac4[_0x565af5(0x235)]=()=>confirmReschedule(_0x1e3a6d),_0x47fe96[_0x565af5(0x26f)](_0x4ebac4);});}async function confirmReschedule(_0x280aa0){const _0x5454d7=a3_0x294933,_0x2bc13b=new Date(selectedRsDate),_0x14425b=_0x2bc13b[_0x5454d7(0x23b)](_0x5454d7(0x1f6),{'day':_0x5454d7(0x250),'month':_0x5454d7(0x1fa)}),_0xbc1d6e=await showCustomConfirm(_0x5454d7(0x265),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x14425b+_0x5454d7(0x202)+_0x280aa0+'?',![]);if(!_0xbc1d6e)return;closeAllSheets(),showToast(_0x5454d7(0x2dd)),lastUserActionTime=Date[_0x5454d7(0x2cb)]();const _0x5e9706=currentSession[_0x5454d7(0x237)],_0x49139b=currentSession['id'],[_0x47c5ff,_0x3dd6a3]=currentSession[_0x5454d7(0x24f)][_0x5454d7(0x2df)](':')[_0x5454d7(0x299)](Number),[_0x401ce2,_0x5436b2]=currentSession[_0x5454d7(0x2de)][_0x5454d7(0x2df)](':')[_0x5454d7(0x299)](Number),_0x40f08b=_0x401ce2*0x3c+_0x5436b2-(_0x47c5ff*0x3c+_0x3dd6a3),[_0x21f20c,_0x54f809]=_0x280aa0[_0x5454d7(0x2df)](':')['map'](Number),_0x3af2e7=_0x21f20c*0x3c+_0x54f809+_0x40f08b,_0x4d0705=Math['floor'](_0x3af2e7/0x3c),_0x1a4b5d=_0x3af2e7%0x3c,_0x523f46=String(_0x4d0705)['padStart'](0x2,'0')+':'+String(_0x1a4b5d)['padStart'](0x2,'0'),_0x2f25f6=sessions['findIndex'](_0x190e67=>_0x190e67['id']===_0x49139b);_0x2f25f6!==-0x1&&(sessions[_0x2f25f6][_0x5454d7(0x237)]=selectedRsDate,sessions[_0x2f25f6][_0x5454d7(0x24f)]=_0x280aa0,sessions[_0x2f25f6]['end']=_0x523f46,reRenderBlocks());try{const _0x28b5b7=window[_0x5454d7(0x2d1)]?.[_0x5454d7(0x284)],_0x4ee205=await fetch(API_URL,{'method':_0x5454d7(0x285),'body':JSON[_0x5454d7(0x2bc)]({'action':_0x5454d7(0x20e),'init_data':_0x28b5b7?.[_0x5454d7(0x2ab)]||'','oldSessionId':_0x49139b,'oldDate':_0x5e9706,'newDate':selectedRsDate,'newTime':_0x280aa0,'coachId':currentSession[_0x5454d7(0x248)]})}),_0x5c641d=await _0x4ee205[_0x5454d7(0x230)]();!_0x5c641d['ok']?(showToast(_0x5454d7(0x2e3)),DataManager[_0x5454d7(0x24d)]()):(showToast(_0x5454d7(0x27a)),DataManager[_0x5454d7(0x2d4)]());}catch(_0x4f393f){showToast(_0x5454d7(0x2b4));}}document['addEventListener'](a3_0x294933(0x2c5),init);