const a3_0x46a5bb=a3_0x5e1f;(function(_0x5060e8,_0x1bb336){const _0x385dba=a3_0x5e1f,_0x40ce8a=_0x5060e8();while(!![]){try{const _0x47c5c6=parseInt(_0x385dba(0x1cf))/0x1*(parseInt(_0x385dba(0x24c))/0x2)+parseInt(_0x385dba(0x268))/0x3*(-parseInt(_0x385dba(0x247))/0x4)+-parseInt(_0x385dba(0x22c))/0x5*(parseInt(_0x385dba(0x208))/0x6)+parseInt(_0x385dba(0x25a))/0x7+-parseInt(_0x385dba(0x17f))/0x8*(-parseInt(_0x385dba(0x25d))/0x9)+-parseInt(_0x385dba(0x178))/0xa*(parseInt(_0x385dba(0x267))/0xb)+-parseInt(_0x385dba(0x244))/0xc*(-parseInt(_0x385dba(0x1e0))/0xd);if(_0x47c5c6===_0x1bb336)break;else _0x40ce8a['push'](_0x40ce8a['shift']());}catch(_0x10316f){_0x40ce8a['push'](_0x40ce8a['shift']());}}}(a3_0x13fe,0xab09d));const APP_VERSION=a3_0x46a5bb(0x1bc),API_URL=a3_0x46a5bb(0x180),GRID_H=0x3c,KEY_SESSIONS=a3_0x46a5bb(0x264),KEY_SETTINGS=a3_0x46a5bb(0x270),KEY_CLIENTS='uc_client_list';function a3_0x13fe(){const _0x9dbe14=['DOMContentLoaded','day-col-header\x20','<span>','.period-switch\x20.p-btn','cancel_window','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','setHours','colIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','cancelContainer','parse','scroll','block','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','v9.5-CLIENT-ANALYTICS','ru-RU','getMinutes','addEventListener','getElementById','round','rescheduleSheet','#050505','getDate','classList','rs-date-chip','createDocumentFragment','style','getAttribute','%\x20+\x202px)','then','.btn-reschedule','padStart','WebApp','47615XSPZOL','stringify','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','none','.day-col-header[data-date=\x22','substring','onClick','cancelled','min','auto','\x20—á.','location','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','rsDatesTrack','toUpperCase','forEach','length','351jEBLor','anPercent','toLocaleDateString','setDate','start',':00</span>','constructor','getMonth','\x20-\x20','T23:59:59','–∑–∞\x20','event-card','ranges','\x20status-completed','Telegram','blocked-slot\x20stripe-bg','rgba(','ccYesBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','initData','anEnd','flex','anDonutCircle','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cid','numeric','done','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','findIndex','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','find','end','fontWeight','–û—Ç–º–µ–Ω–µ–Ω–æ','stopPropagation','.day-col-header','add','json','clientWidth','5287986ZCionZ','#0a84ff','split','client-stat-card','applyData','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','px\x20-','router.html','startsWith','ccTitle','active','remove','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','#ff453a','month','show','scrollTop','data','data-day-idx','settings','day-column\x20','substr','button','sid','client_load','disableVerticalSwipes','saveLocally','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','display','top','Error\x20setting\x20back\x20button:','createElement','calc(','detStatus','log','push','5hXkVfi','sort','matrixViewport','\x20–∏–∑\x20','querySelectorAll','onclick','initDataUnsafe','entries','test','time-label','blocked-range-part\x20stripe-bg','coach_profiles','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setItem','getTime','</div>','borderLeftColor','status','scrollTo','gridColumns','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','join','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','completed','444588YTcEdd','exceptions','width','12MaWhLK','keys','innerHTML','overlay','detNote','18HhIrTm','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','open','setHeaderColor','ready','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','offClick','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','T00:00:00','data-date','scrollLeft','rgba(10,\x20132,\x20255,\x20','visible','toString','4451636TrmJGZ','anTotalStats','height','413496Zjgnum','pattern','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','querySelector','(((.+)+)+)+$','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anCustomDates','uc_client_sessions','getItem','value','571351TVSQsS','678573BrTFxW','daysHeaderTrack','cancelHint','px\x200px','BackButton','today','.day-column','headerMonth','uc_client_settings','timeLineBadge','customConfirm','firstChild','apply','offsetWidth','coachId','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','all','globalTimeLine','getDay','.rs-date-chip','210CeddVI','zIndex','</div><div\x20class=\x22rs-day-num\x22>','appendChild','ccText','backgroundPosition','rsSlotsGrid','224vZwYFM','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','POST','textContent','color','</div><div\x20class=\x22dch-num\x22>','clients','detailsSheet','.sheet','planned','clientId','week','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','getFullYear','getHours','isArray','className','setMonth','setAttribute','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','var(--acc-green)','anStart','filter','charAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','detDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dateStr','calendar','now','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','long','setBackgroundColor','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','div','map','<div\x20class=\x22dch-day\x22>','toast','search','offsetLeft','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get_slots','custom','max','day-off-overlay\x20stripe-bg','toLocaleString','total'];a3_0x13fe=function(){return _0x9dbe14;};return a3_0x13fe();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x46a5bb(0x18a),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x15faca=a3_0x46a5bb,_0x18eace=(function(){let _0xd77440=!![];return function(_0xce9548,_0x4c5693){const _0x39c693=_0xd77440?function(){const _0x4b2b6d=a3_0x5e1f;if(_0x4c5693){const _0x2cb5c3=_0x4c5693[_0x4b2b6d(0x274)](_0xce9548,arguments);return _0x4c5693=null,_0x2cb5c3;}}:function(){};return _0xd77440=![],_0x39c693;};}()),_0x33eb48=_0x18eace(this,function(){const _0x3733c3=a3_0x5e1f;return _0x33eb48[_0x3733c3(0x259)]()['search'](_0x3733c3(0x261))[_0x3733c3(0x259)]()[_0x3733c3(0x1e6)](_0x33eb48)[_0x3733c3(0x1a5)](_0x3733c3(0x261));});_0x33eb48();try{const _0x131935=window[_0x15faca(0x1ee)]?.[_0x15faca(0x1ce)];if(!_0x131935)return;_0x131935[_0x15faca(0x250)](),_0x131935['expand']();try{_0x131935[_0x15faca(0x24f)]('#050505'),_0x131935['setBackgroundColor']&&_0x131935[_0x15faca(0x19f)](_0x15faca(0x1c3));}catch(_0xa4a386){console[_0x15faca(0x22a)]('Error\x20setting\x20color:',_0xa4a386);}try{_0x131935['BackButton']&&(_0x131935[_0x15faca(0x26c)]['show'](),_0x131935[_0x15faca(0x26c)][_0x15faca(0x252)](),_0x131935[_0x15faca(0x26c)][_0x15faca(0x1d5)](function(){const _0x50c623=_0x15faca;window[_0x50c623(0x1da)]['href']=_0x50c623(0x20f);}));}catch(_0x141f9b){console['log'](_0x15faca(0x226),_0x141f9b);}try{if(_0x131935[_0x15faca(0x221)])_0x131935[_0x15faca(0x221)]();}catch(_0x2841b7){}}catch(_0x587372){console['error']('Critical\x20TMA\x20Error:',_0x587372);}}());function a3_0x5e1f(_0x1165f1,_0x1466b0){_0x1165f1=_0x1165f1-0x171;const _0x4c95cc=a3_0x13fe();let _0x137b47=_0x4c95cc[_0x1165f1];return _0x137b47;}function isAdmin(){const _0x470d55=a3_0x46a5bb;try{const _0x801c68=Number(window[_0x470d55(0x1ee)]?.[_0x470d55(0x1ce)]?.[_0x470d55(0x232)]?.[_0x470d55(0x1f3)]?.['id']);return _0x801c68===0xbaf7174;}catch(_0x51a464){return![];}}const DataManager={'saveLocally'(){const _0x24dc64=a3_0x46a5bb;try{localStorage[_0x24dc64(0x239)](KEY_SESSIONS,JSON[_0x24dc64(0x1d0)](sessions)),localStorage[_0x24dc64(0x239)](KEY_CLIENTS,JSON[_0x24dc64(0x1d0)](clients)),localStorage[_0x24dc64(0x239)](KEY_SETTINGS,JSON[_0x24dc64(0x1d0)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1709f5){}},'loadLocal'(){const _0x51259f=a3_0x46a5bb;try{const _0x6f0e32=localStorage[_0x51259f(0x265)](KEY_SESSIONS);if(_0x6f0e32)sessions=JSON[_0x51259f(0x1b8)](_0x6f0e32);const _0x2fffd0=localStorage[_0x51259f(0x265)](KEY_CLIENTS);if(_0x2fffd0)clients=JSON['parse'](_0x2fffd0);const _0x479d1a=localStorage[_0x51259f(0x265)](KEY_SETTINGS);if(_0x479d1a){const _0x470f40=JSON['parse'](_0x479d1a);if(_0x470f40[_0x51259f(0x25e)])availabilityPattern=_0x470f40[_0x51259f(0x25e)];if(_0x470f40['ranges'])specialRanges=_0x470f40['ranges'];if(_0x470f40[_0x51259f(0x245)])dateExceptions=_0x470f40[_0x51259f(0x245)];}}catch(_0x340a23){}},async 'syncLoad'(){const _0x18db67=a3_0x46a5bb,_0xb5eb1=new Date(),_0x50ddd8=_0xb5eb1[_0x18db67(0x18c)]()+'-'+String(_0xb5eb1[_0x18db67(0x1e7)]()+0x1)[_0x18db67(0x1cd)](0x2,'0'),_0x3d3087=new Date(_0xb5eb1);_0x3d3087[_0x18db67(0x190)](_0xb5eb1[_0x18db67(0x1e7)]()+0x1);const _0x47bb5a=_0x3d3087[_0x18db67(0x18c)]()+'-'+String(_0x3d3087[_0x18db67(0x1e7)]()+0x1)[_0x18db67(0x1cd)](0x2,'0'),_0x360d15=Date[_0x18db67(0x19c)]();try{const _0x4f1258=window['Telegram']?.['WebApp'],_0xb2ca50=_0x4f1258?.[_0x18db67(0x1f4)]||'',[_0x583cb3,_0x4e9cd5]=await Promise[_0x18db67(0x174)]([fetch(API_URL,{'method':'POST','body':JSON[_0x18db67(0x1d0)]({'action':_0x18db67(0x220),'init_data':_0xb2ca50,'month_str':_0x50ddd8})})[_0x18db67(0x1cb)](_0x4c76cb=>_0x4c76cb['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x18db67(0x1d0)]({'action':_0x18db67(0x220),'init_data':_0xb2ca50,'month_str':_0x47bb5a})})[_0x18db67(0x1cb)](_0x437714=>_0x437714[_0x18db67(0x206)]())]);if(lastUserActionTime>_0x360d15){console['log'](_0x18db67(0x1fe));return;}if(_0x583cb3['ok'])this[_0x18db67(0x20c)](_0x583cb3[_0x18db67(0x219)],_0x50ddd8);if(_0x4e9cd5['ok'])this[_0x18db67(0x20c)](_0x4e9cd5[_0x18db67(0x219)],_0x47bb5a);this[_0x18db67(0x222)]();}catch(_0x470adb){}},'applyData'(_0x4280f3,_0x4a84df){const _0x217c0d=a3_0x46a5bb;if(!_0x4280f3)return;if(_0x4280f3[_0x217c0d(0x21b)]){if(_0x4280f3[_0x217c0d(0x21b)][_0x217c0d(0x25e)])availabilityPattern=_0x4280f3['settings'][_0x217c0d(0x25e)];if(_0x4280f3['settings']['ranges'])specialRanges=_0x4280f3['settings'][_0x217c0d(0x1ec)];if(_0x4280f3['settings'][_0x217c0d(0x245)])dateExceptions=_0x4280f3[_0x217c0d(0x21b)][_0x217c0d(0x245)];}if(_0x4280f3[_0x217c0d(0x185)]&&Array[_0x217c0d(0x18e)](_0x4280f3['clients']))clients=_0x4280f3[_0x217c0d(0x185)];_0x4280f3[_0x217c0d(0x237)]&&(coachProfiles={...coachProfiles,..._0x4280f3['coach_profiles']}),_0x4280f3[_0x217c0d(0x19b)]&&(sessions=sessions[_0x217c0d(0x195)](_0x1e2bbf=>!_0x1e2bbf['dateStr'][_0x217c0d(0x210)](_0x4a84df)),Object['keys'](_0x4280f3[_0x217c0d(0x19b)])[_0x217c0d(0x1de)](_0x384174=>{const _0x2827b8=_0x217c0d,_0x1fc6c3=_0x4280f3[_0x2827b8(0x19b)][_0x384174];_0x1fc6c3['forEach'](_0x58f9c2=>{const _0xe7c06a=_0x2827b8;sessions[_0xe7c06a(0x22b)]({'id':_0x58f9c2['i'],'clientId':_0x58f9c2['c'],'coachId':_0x58f9c2[_0xe7c06a(0x1f9)],'dateStr':_0x4a84df+'-'+_0x384174['padStart'](0x2,'0'),'start':_0x58f9c2['s'],'end':_0x58f9c2['e'],'note':_0x58f9c2['n']||'','status':_0x58f9c2['st']||_0xe7c06a(0x188),'seriesId':_0x58f9c2[_0xe7c06a(0x21f)]});});})),reRenderBlocks();}};function init(){const _0x35dd3f=a3_0x46a5bb;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x35dd3f(0x1c0)](_0x35dd3f(0x22e))[_0x35dd3f(0x1bf)](_0x35dd3f(0x1b9),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x4b9e5c=a3_0x46a5bb,_0x256d1e=document[_0x4b9e5c(0x1c0)]('timeColumn'),_0x16cddb=document['getElementById'](_0x4b9e5c(0x271));_0x256d1e[_0x4b9e5c(0x249)]='',_0x256d1e[_0x4b9e5c(0x17b)](_0x16cddb);for(let _0x4be1e9=0x0;_0x4be1e9<0x18;_0x4be1e9++){const _0x19c1e0=document[_0x4b9e5c(0x227)](_0x4b9e5c(0x1a1));_0x19c1e0[_0x4b9e5c(0x18f)]=_0x4b9e5c(0x235);if(_0x4be1e9>0x0)_0x19c1e0[_0x4b9e5c(0x249)]=_0x4b9e5c(0x1b0)+String(_0x4be1e9)['padStart'](0x2,'0')+_0x4b9e5c(0x1e5);_0x256d1e[_0x4b9e5c(0x17b)](_0x19c1e0);}}function renderDayRange(_0xeb6223,_0x5b89b9){const _0x4ff59d=a3_0x46a5bb,_0x3902ca=document[_0x4ff59d(0x1c0)](_0x4ff59d(0x269)),_0x553ab4=document[_0x4ff59d(0x1c0)](_0x4ff59d(0x23f)),_0x5a2f8c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5bcfaa=new Date();_0x5bcfaa[_0x4ff59d(0x1b4)](0x0,0x0,0x0,0x0);const _0x17a627=getLocalDateStr(new Date());for(let _0x669ddb=_0xeb6223;_0x669ddb<=_0x5b89b9;_0x669ddb++){const _0x5d79f9=new Date(_0x5bcfaa);_0x5d79f9[_0x4ff59d(0x1e3)](_0x5d79f9[_0x4ff59d(0x1c4)]()+_0x669ddb);const _0xfe9d35=getLocalDateStr(_0x5d79f9);let _0x274bed=_0x5d79f9[_0x4ff59d(0x176)]()-0x1;if(_0x274bed===-0x1)_0x274bed=0x6;const _0x277c5e=_0xfe9d35===_0x17a627,_0x467e80=document[_0x4ff59d(0x227)](_0x4ff59d(0x1a1));_0x467e80[_0x4ff59d(0x18f)]=_0x4ff59d(0x1af)+(_0x277c5e?_0x4ff59d(0x26d):''),_0x467e80[_0x4ff59d(0x191)](_0x4ff59d(0x255),_0xfe9d35),_0x467e80[_0x4ff59d(0x249)]=_0x4ff59d(0x1a3)+_0x5a2f8c[_0x274bed]+_0x4ff59d(0x184)+_0x5d79f9[_0x4ff59d(0x1c4)]()+'</div>',_0x3902ca['appendChild'](_0x467e80);const _0x55c17f=document[_0x4ff59d(0x227)](_0x4ff59d(0x1a1));_0x55c17f['className']='day-column\x20'+(_0x277c5e?_0x4ff59d(0x26d):''),_0x55c17f['setAttribute'](_0x4ff59d(0x255),_0xfe9d35),_0x55c17f[_0x4ff59d(0x191)](_0x4ff59d(0x21a),_0x274bed),_0x553ab4[_0x4ff59d(0x17b)](_0x55c17f);}}function reRenderBlocks(){const _0x776613=a3_0x46a5bb;document[_0x776613(0x230)](_0x776613(0x26e))[_0x776613(0x1de)](_0xb4af33=>{const _0x132e0a=_0x776613;_0xb4af33[_0x132e0a(0x230)](_0x132e0a(0x1a0))[_0x132e0a(0x1de)](_0x3f1d23=>_0x3f1d23['remove']());const _0x1c3c78=_0xb4af33[_0x132e0a(0x1c9)](_0x132e0a(0x255)),_0x1befd8=parseInt(_0xb4af33[_0x132e0a(0x1c9)](_0x132e0a(0x21a))),_0x2f515e=Math['round'](_0xb4af33[_0x132e0a(0x1a6)]);(availabilityPattern[_0x1befd8]||[])[_0x132e0a(0x1de)](_0x35aa5d=>{const _0x2544b8=_0x132e0a,_0x4678e6=document['createElement']('div');_0x4678e6[_0x2544b8(0x18f)]=_0x2544b8(0x1ef),_0x4678e6[_0x2544b8(0x1c8)][_0x2544b8(0x225)]=_0x35aa5d*GRID_H+'px',_0x4678e6[_0x2544b8(0x1c8)][_0x2544b8(0x17d)]='-'+_0x2f515e+'px\x20-'+_0x35aa5d*GRID_H+'px',_0xb4af33['appendChild'](_0x4678e6);});if(specialRanges[_0x132e0a(0x1df)]>0x0){const _0xf1195=new Date(_0x1c3c78+_0x132e0a(0x254))[_0x132e0a(0x23a)](),_0x38b9a9=new Date(_0x1c3c78+_0x132e0a(0x1e9))[_0x132e0a(0x23a)]();specialRanges['forEach'](_0x304de8=>{const _0x21cb0e=_0x132e0a,_0x19bd00=new Date(_0x304de8[_0x21cb0e(0x1e4)])['getTime'](),_0x9694b0=new Date(_0x304de8[_0x21cb0e(0x200)])[_0x21cb0e(0x23a)](),_0x1ce268=Math[_0x21cb0e(0x1aa)](_0xf1195,_0x19bd00),_0x3acd61=Math[_0x21cb0e(0x1d7)](_0x38b9a9,_0x9694b0);if(_0x1ce268<_0x3acd61){const _0x342419=(_0x1ce268-_0xf1195)/0x36ee80*GRID_H,_0x487935=(_0x3acd61-_0x1ce268)/0x36ee80*GRID_H,_0x1d784f=document[_0x21cb0e(0x227)]('div');_0x487935>=23.5*GRID_H?(_0x1d784f['className']=_0x21cb0e(0x1ab),_0x1d784f[_0x21cb0e(0x1c8)]['backgroundPosition']='-'+_0x2f515e+_0x21cb0e(0x26b)):(_0x1d784f['className']=_0x21cb0e(0x236),_0x1d784f[_0x21cb0e(0x1c8)]['top']=_0x342419+'px',_0x1d784f[_0x21cb0e(0x1c8)][_0x21cb0e(0x25c)]=_0x487935+'px',_0x1d784f[_0x21cb0e(0x1c8)][_0x21cb0e(0x17d)]='-'+_0x2f515e+_0x21cb0e(0x20e)+_0x342419+'px'),_0xb4af33['appendChild'](_0x1d784f);}});}renderEventsForColumn(_0xb4af33,_0x1c3c78);});}function renderEventsForColumn(_0x8455a5,_0x2d70de){const _0x311b84=a3_0x46a5bb,_0x2fdf55=sessions[_0x311b84(0x195)](_0x3d9128=>_0x3d9128[_0x311b84(0x19a)]===_0x2d70de),_0x33830d=_0x2fdf55[_0x311b84(0x1a2)](_0x191459=>{const _0x4919c7=_0x311b84,[_0x4231cd,_0x578170]=_0x191459['start'][_0x4919c7(0x20a)](':')[_0x4919c7(0x1a2)](Number),[_0xe5cab0,_0x4ea2f4]=_0x191459[_0x4919c7(0x200)][_0x4919c7(0x20a)](':')[_0x4919c7(0x1a2)](Number);return{'data':_0x191459,'start':_0x4231cd*0x3c+_0x578170,'end':_0xe5cab0*0x3c+_0x4ea2f4,'colIndex':0x0};});_0x33830d['sort']((_0x18f658,_0x1c674e)=>_0x18f658['start']-_0x1c674e[_0x311b84(0x1e4)]||_0x1c674e[_0x311b84(0x200)]-_0x1c674e['start']-(_0x18f658[_0x311b84(0x200)]-_0x18f658[_0x311b84(0x1e4)]));const _0x244f92=[];_0x33830d[_0x311b84(0x1de)](_0x3eca5d=>{const _0x121f82=_0x311b84;let _0x3a5ab6=![];for(let _0x1a0143=0x0;_0x1a0143<_0x244f92[_0x121f82(0x1df)];_0x1a0143++){const _0x441e3e=_0x244f92[_0x1a0143];if(_0x3eca5d[_0x121f82(0x1e4)]>=_0x441e3e[_0x441e3e[_0x121f82(0x1df)]-0x1][_0x121f82(0x200)]){_0x441e3e[_0x121f82(0x22b)](_0x3eca5d),_0x3eca5d['colIndex']=_0x1a0143,_0x3a5ab6=!![];break;}}!_0x3a5ab6&&(_0x244f92[_0x121f82(0x22b)]([_0x3eca5d]),_0x3eca5d['colIndex']=_0x244f92['length']-0x1);}),_0x33830d['forEach'](_0x4e4774=>{const _0x28a8d2=_0x311b84;let _0x358d84=0x0;_0x33830d['forEach'](_0x251303=>{const _0x5861f7=a3_0x5e1f;if(Math['max'](_0x4e4774[_0x5861f7(0x1e4)],_0x251303[_0x5861f7(0x1e4)])<Math[_0x5861f7(0x1d7)](_0x4e4774[_0x5861f7(0x200)],_0x251303[_0x5861f7(0x200)])&&_0x251303[_0x5861f7(0x1b5)]>_0x358d84)_0x358d84=_0x251303['colIndex'];});const _0x24f1a8=_0x358d84+0x1,_0x5eea24=0x64/_0x24f1a8,_0x3760b3=_0x4e4774[_0x28a8d2(0x1b5)]*_0x5eea24,_0x10a226=document[_0x28a8d2(0x227)]('div'),_0x415561=_0x4e4774[_0x28a8d2(0x219)];let _0x1f6a68=_0x28a8d2(0x209);if(clients&&clients[_0x28a8d2(0x1df)]>0x0){const _0x5aee50=clients[_0x28a8d2(0x1ff)](_0x4099aa=>String(_0x4099aa['id'])===String(_0x415561[_0x28a8d2(0x189)]));if(_0x5aee50&&_0x5aee50[_0x28a8d2(0x183)])_0x1f6a68=_0x5aee50[_0x28a8d2(0x183)];}const _0x51c73a=_0x415561[_0x28a8d2(0x23d)]===_0x28a8d2(0x243),_0x3d3798=_0x51c73a?0x1:0.45;_0x10a226[_0x28a8d2(0x18f)]=_0x28a8d2(0x1eb)+(_0x51c73a?_0x28a8d2(0x1ed):''),_0x10a226[_0x28a8d2(0x1c8)]['backgroundColor']=hexToRgba(_0x1f6a68,_0x3d3798),_0x10a226['style'][_0x28a8d2(0x23c)]=_0x1f6a68;const _0xbad5ad=_0x4e4774[_0x28a8d2(0x1e4)]/0x3c*GRID_H,_0xbdf161=(_0x4e4774['end']-_0x4e4774[_0x28a8d2(0x1e4)])/0x3c*GRID_H;_0x10a226[_0x28a8d2(0x1c8)][_0x28a8d2(0x225)]=_0xbad5ad+'px',_0x10a226[_0x28a8d2(0x1c8)][_0x28a8d2(0x25c)]=Math[_0x28a8d2(0x1aa)](_0xbdf161,0x14)+'px',_0x10a226[_0x28a8d2(0x1c8)][_0x28a8d2(0x246)]=_0x28a8d2(0x228)+_0x5eea24+'%\x20-\x204px)',_0x10a226[_0x28a8d2(0x1c8)]['left']='calc('+_0x3760b3+_0x28a8d2(0x1ca),_0x10a226[_0x28a8d2(0x1c8)][_0x28a8d2(0x179)]=0xa+_0x4e4774[_0x28a8d2(0x1b5)];if(_0x5eea24<0x55)_0x10a226[_0x28a8d2(0x1c5)]['add']('mini');let _0x15204b='';if(_0x415561['seriesId'])_0x15204b+=_0x28a8d2(0x1fc);if(_0x51c73a)_0x15204b+=_0x28a8d2(0x262);_0x10a226[_0x28a8d2(0x249)]=_0x28a8d2(0x251)+_0x415561['start']+_0x28a8d2(0x1e8)+_0x415561[_0x28a8d2(0x200)]+_0x28a8d2(0x199)+_0x15204b+_0x28a8d2(0x1f2),_0x10a226['onclick']=_0x2ec13b=>{const _0x167e4e=_0x28a8d2;_0x2ec13b[_0x167e4e(0x203)](),openDetails(_0x415561);},_0x8455a5[_0x28a8d2(0x17b)](_0x10a226);});}function openAnalytics(){const _0x48ebd0=a3_0x46a5bb,_0x39d36d=document[_0x48ebd0(0x260)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x48ebd0(0x18a),_0x39d36d),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x482b73,_0x5d1765){const _0x338f2d=a3_0x46a5bb;currentAnPeriod=_0x482b73,document[_0x338f2d(0x230)](_0x338f2d(0x1b1))[_0x338f2d(0x1de)](_0x3bef1a=>_0x3bef1a[_0x338f2d(0x1c5)][_0x338f2d(0x213)](_0x338f2d(0x212)));if(_0x5d1765)_0x5d1765[_0x338f2d(0x1c5)][_0x338f2d(0x205)](_0x338f2d(0x212));const _0x289b37=document[_0x338f2d(0x1c0)](_0x338f2d(0x263));_0x289b37[_0x338f2d(0x1c8)]['display']=_0x482b73===_0x338f2d(0x1a9)?_0x338f2d(0x1f6):_0x338f2d(0x1d2);const _0x8ebf12=new Date();let _0x3a055f=new Date(),_0x1cbdc2=new Date();if(_0x482b73==='week')_0x3a055f=getStartOfWeek(_0x8ebf12),_0x1cbdc2=new Date(_0x3a055f),_0x1cbdc2[_0x338f2d(0x1e3)](_0x1cbdc2['getDate']()+0x6);else{if(_0x482b73===_0x338f2d(0x216))_0x3a055f=new Date(_0x8ebf12[_0x338f2d(0x18c)](),_0x8ebf12[_0x338f2d(0x1e7)](),0x1),_0x1cbdc2=new Date(_0x8ebf12[_0x338f2d(0x18c)](),_0x8ebf12['getMonth']()+0x1,0x0);else{!document[_0x338f2d(0x1c0)](_0x338f2d(0x194))[_0x338f2d(0x266)]&&(document[_0x338f2d(0x1c0)]('anStart')['value']=getLocalDateStr(_0x8ebf12),document[_0x338f2d(0x1c0)](_0x338f2d(0x1f5))[_0x338f2d(0x266)]=getLocalDateStr(_0x8ebf12));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x338f2d(0x266)]=getLocalDateStr(_0x3a055f),document[_0x338f2d(0x1c0)](_0x338f2d(0x1f5))[_0x338f2d(0x266)]=getLocalDateStr(_0x1cbdc2),refreshAnalytics();}function refreshAnalytics(){const _0x805973=a3_0x46a5bb,_0x4d718b=document['getElementById'](_0x805973(0x194))['value'],_0x12f2ce=document[_0x805973(0x1c0)](_0x805973(0x1f5))[_0x805973(0x266)];if(!_0x4d718b||!_0x12f2ce)return;const _0x3c495b=sessions[_0x805973(0x195)](_0x3a5ad3=>_0x3a5ad3[_0x805973(0x19a)]>=_0x4d718b&&_0x3a5ad3[_0x805973(0x19a)]<=_0x12f2ce&&_0x3a5ad3[_0x805973(0x23d)]!==_0x805973(0x1d6)),_0x21c362=_0x3c495b[_0x805973(0x1df)],_0x1f5a9e=_0x3c495b[_0x805973(0x195)](_0x43c855=>_0x43c855[_0x805973(0x23d)]===_0x805973(0x243))[_0x805973(0x1df)],_0x111b03=_0x21c362>0x0?Math[_0x805973(0x1c1)](_0x1f5a9e/_0x21c362*0x64):0x0;document[_0x805973(0x1c0)](_0x805973(0x1e1))[_0x805973(0x182)]=_0x111b03+'%',document[_0x805973(0x1c0)](_0x805973(0x25b))[_0x805973(0x182)]=_0x1f5a9e+_0x805973(0x22f)+_0x21c362+_0x805973(0x24d);const _0x50b08e=document['getElementById'](_0x805973(0x1f7)),_0x410f21=0x2*Math['PI']*0x23,_0x34da4c=_0x410f21-_0x111b03/0x64*_0x410f21;_0x50b08e[_0x805973(0x1c8)]['strokeDashoffset']=_0x34da4c;const _0x3fda46={};_0x3c495b[_0x805973(0x1de)](_0xe7d73b=>{const _0x345f96=_0x805973,_0x3495c3=_0xe7d73b[_0x345f96(0x172)]||'Unknown';if(!_0x3fda46[_0x3495c3]){const _0x2a28bd='#'+_0x3495c3[_0x345f96(0x259)]()[_0x345f96(0x21d)](0x0,0x6);_0x3fda46[_0x3495c3]={'total':0x0,'done':0x0,'color':_0x2a28bd};}_0x3fda46[_0x3495c3][_0x345f96(0x1ad)]++;if(_0xe7d73b[_0x345f96(0x23d)]===_0x345f96(0x243))_0x3fda46[_0x3495c3]['done']++;});const _0x3eda05=document[_0x805973(0x1c0)]('analyticsList');_0x3eda05['innerHTML']='';const _0x18530b=Object[_0x805973(0x233)](_0x3fda46)['sort']((_0x4bc48f,_0x22f60a)=>_0x22f60a[0x1]['total']-_0x4bc48f[0x1]['total']);if(_0x18530b[_0x805973(0x1df)]===0x0){_0x3eda05[_0x805973(0x249)]=_0x805973(0x1bb);return;}_0x18530b[_0x805973(0x1de)](([_0x5b790c,_0x4663a5])=>{const _0x4add76=_0x805973,_0x4ed8c1=Math['round'](_0x4663a5[_0x4add76(0x1fb)]/_0x4663a5['total']*0x64),_0x3f2bbe=document[_0x4add76(0x227)](_0x4add76(0x1a1));_0x3f2bbe['className']=_0x4add76(0x20b),_0x3f2bbe[_0x4add76(0x1c8)][_0x4add76(0x23c)]=_0x4663a5['color'],_0x3f2bbe['innerHTML']=_0x4add76(0x1b6)+_0x5b790c['substr'](0x0,0x5)+_0x4add76(0x197)+_0x4663a5[_0x4add76(0x1fb)]+'</span>\x20/\x20'+_0x4663a5[_0x4add76(0x1ad)]+_0x4add76(0x240)+_0x4ed8c1+_0x4add76(0x1a7),_0x3eda05[_0x4add76(0x17b)](_0x3f2bbe);});}function openDetails(_0x3b56b2){const _0x3591d8=a3_0x46a5bb;currentSession=_0x3b56b2;const _0x4708b3=new Date(_0x3b56b2[_0x3591d8(0x19a)]),_0x4aeff9=_0x4708b3['toLocaleDateString'](_0x3591d8(0x1bd),{'weekday':'long','day':'numeric','month':_0x3591d8(0x19e)});document['getElementById'](_0x3591d8(0x198))['textContent']=_0x4aeff9[_0x3591d8(0x196)](0x0)[_0x3591d8(0x1dd)]()+_0x4aeff9['slice'](0x1),document[_0x3591d8(0x1c0)]('detTime')[_0x3591d8(0x182)]=_0x3b56b2[_0x3591d8(0x1e4)]+_0x3591d8(0x1e8)+_0x3b56b2[_0x3591d8(0x200)],document[_0x3591d8(0x1c0)](_0x3591d8(0x24b))[_0x3591d8(0x182)]=_0x3b56b2['note']||_0x3591d8(0x173);const _0x36f456=document[_0x3591d8(0x1c0)](_0x3591d8(0x229)),_0x369e96=document[_0x3591d8(0x1c0)](_0x3591d8(0x1b7)),_0x3cb28a=_0x369e96['querySelector']('.btn-cancel'),_0x1524b2=_0x369e96[_0x3591d8(0x260)](_0x3591d8(0x1cc)),_0x4e7740=document[_0x3591d8(0x1c0)](_0x3591d8(0x26a));if(_0x3b56b2[_0x3591d8(0x23d)]===_0x3591d8(0x243))_0x36f456[_0x3591d8(0x182)]=_0x3591d8(0x253),_0x36f456[_0x3591d8(0x1c8)][_0x3591d8(0x183)]=_0x3591d8(0x193),_0x369e96[_0x3591d8(0x1c8)][_0x3591d8(0x224)]=_0x3591d8(0x1d2);else{_0x36f456[_0x3591d8(0x182)]=_0x3591d8(0x223),_0x36f456['style'][_0x3591d8(0x183)]='var(--acc-blue)',_0x369e96[_0x3591d8(0x1c8)][_0x3591d8(0x224)]=_0x3591d8(0x1ba);const _0x182260=new Date(_0x3b56b2[_0x3591d8(0x19a)]+'T'+_0x3b56b2[_0x3591d8(0x1e4)]),_0x1af1c8=new Date(),_0x2179db=(_0x182260-_0x1af1c8)/(0x3e8*0x3c*0x3c),_0x108209=coachProfiles[_0x3b56b2['coachId']]&&coachProfiles[_0x3b56b2['coachId']][_0x3591d8(0x1b2)]?parseInt(coachProfiles[_0x3b56b2[_0x3591d8(0x172)]][_0x3591d8(0x1b2)]):0x18;if(_0x108209===0x0||_0x2179db>=_0x108209)_0x3cb28a[_0x3591d8(0x1c8)]['display']='block',_0x1524b2[_0x3591d8(0x1c8)][_0x3591d8(0x224)]=_0x3591d8(0x1ba),_0x4e7740[_0x3591d8(0x1c8)][_0x3591d8(0x224)]=_0x3591d8(0x1d2);else{_0x3cb28a[_0x3591d8(0x1c8)][_0x3591d8(0x224)]=_0x3591d8(0x1d2),_0x1524b2[_0x3591d8(0x1c8)][_0x3591d8(0x224)]='none',_0x4e7740[_0x3591d8(0x1c8)][_0x3591d8(0x224)]='block';let _0x567962=_0x108209===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x3591d8(0x1ea)+_0x108209+_0x3591d8(0x1d9);_0x4e7740['textContent']=_0x3591d8(0x242)+_0x567962+_0x3591d8(0x1d1);}}document[_0x3591d8(0x1c0)](_0x3591d8(0x24a))['classList'][_0x3591d8(0x205)]('active'),document[_0x3591d8(0x1c0)](_0x3591d8(0x186))[_0x3591d8(0x1c5)][_0x3591d8(0x205)](_0x3591d8(0x24e));}function closeAllSheets(){const _0x1f2470=a3_0x46a5bb;document[_0x1f2470(0x1c0)]('overlay')[_0x1f2470(0x1c5)][_0x1f2470(0x213)](_0x1f2470(0x212)),document[_0x1f2470(0x230)](_0x1f2470(0x187))[_0x1f2470(0x1de)](_0x575e0a=>_0x575e0a[_0x1f2470(0x1c5)][_0x1f2470(0x213)](_0x1f2470(0x24e)));}function openSheet(_0x5cc8ed){const _0x27f838=a3_0x46a5bb;document[_0x27f838(0x1c0)](_0x27f838(0x24a))[_0x27f838(0x1c5)][_0x27f838(0x205)](_0x27f838(0x212)),document['getElementById'](_0x5cc8ed)[_0x27f838(0x1c5)]['add'](_0x27f838(0x24e));}function getLocalDateStr(_0x22a358){const _0x16f443=a3_0x46a5bb,_0x1f85b5=_0x22a358['getFullYear'](),_0x409a5f=String(_0x22a358[_0x16f443(0x1e7)]()+0x1)[_0x16f443(0x1cd)](0x2,'0'),_0x352b02=String(_0x22a358[_0x16f443(0x1c4)]())[_0x16f443(0x1cd)](0x2,'0');return _0x1f85b5+'-'+_0x409a5f+'-'+_0x352b02;}function getStartOfWeek(_0x12e511){const _0xb8259f=a3_0x46a5bb,_0x48708e=new Date(_0x12e511),_0x3b44f1=_0x48708e[_0xb8259f(0x176)](),_0x4da351=_0x48708e[_0xb8259f(0x1c4)]()-_0x3b44f1+(_0x3b44f1===0x0?-0x6:0x1);return _0x48708e['setDate'](_0x4da351),_0x48708e[_0xb8259f(0x1b4)](0x0,0x0,0x0,0x0),_0x48708e;}function scrollToToday(){const _0x54bd1c=getLocalDateStr(new Date());setTimeout(()=>{const _0x257cc9=a3_0x5e1f,_0x57d52a=document[_0x257cc9(0x260)](_0x257cc9(0x1d3)+_0x54bd1c+'\x22]');if(_0x57d52a){const _0x1bd2f6=document[_0x257cc9(0x1c0)](_0x257cc9(0x22e)),_0x239e9d=_0x57d52a[_0x257cc9(0x1a6)]-_0x1bd2f6[_0x257cc9(0x207)]/0x2+_0x57d52a[_0x257cc9(0x171)]/0x2;_0x1bd2f6[_0x257cc9(0x23e)]({'left':_0x239e9d,'behavior':_0x257cc9(0x1d8)}),_0x1bd2f6[_0x257cc9(0x218)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x15d000=a3_0x46a5bb,_0x4d459b=new Date(),_0x343710=document[_0x15d000(0x1c0)](_0x15d000(0x175)),_0x1af7d3=document[_0x15d000(0x1c0)](_0x15d000(0x271)),_0xcb255d=(_0x4d459b[_0x15d000(0x18d)]()*0x3c+_0x4d459b[_0x15d000(0x1be)]())/0x3c*GRID_H;_0x343710['style'][_0x15d000(0x225)]=_0xcb255d+'px',_0x343710[_0x15d000(0x1c8)][_0x15d000(0x224)]='block',_0x1af7d3['style']['top']=_0xcb255d+'px',_0x1af7d3['style']['display']=_0x15d000(0x1ba),_0x1af7d3[_0x15d000(0x182)]=String(_0x4d459b[_0x15d000(0x18d)]())[_0x15d000(0x1cd)](0x2,'0')+':'+String(_0x4d459b[_0x15d000(0x1be)]())[_0x15d000(0x1cd)](0x2,'0');}function onScroll(){const _0x5ba70c=a3_0x46a5bb,_0x163a68=document[_0x5ba70c(0x1c0)](_0x5ba70c(0x22e)),_0x200989=document[_0x5ba70c(0x230)](_0x5ba70c(0x204));for(let _0x1273db of _0x200989)if(_0x1273db[_0x5ba70c(0x1a6)]>=_0x163a68['scrollLeft']){const _0x1cf1d8=new Date(_0x1273db['getAttribute']('data-date'));document[_0x5ba70c(0x1c0)](_0x5ba70c(0x26f))[_0x5ba70c(0x182)]=_0x1cf1d8[_0x5ba70c(0x1ac)]('ru',{'month':_0x5ba70c(0x19e)})[_0x5ba70c(0x1dd)]()+'\x20'+_0x1cf1d8[_0x5ba70c(0x18c)]();break;}}function showToast(_0x57f4db){const _0x4d290e=a3_0x46a5bb,_0x1dad4d=document['getElementById'](_0x4d290e(0x1a4));_0x1dad4d[_0x4d290e(0x182)]=_0x57f4db,_0x1dad4d[_0x4d290e(0x1c5)][_0x4d290e(0x205)]('show'),setTimeout(()=>_0x1dad4d[_0x4d290e(0x1c5)][_0x4d290e(0x213)](_0x4d290e(0x217)),0x7d0);}function handleInfiniteScroll(){const _0x1b280d=a3_0x46a5bb,_0x40ad6c=document[_0x1b280d(0x1c0)](_0x1b280d(0x22e)),_0x5c62be=_0x40ad6c[_0x1b280d(0x256)],_0x31646b=_0x40ad6c['scrollWidth'],_0x229fe9=_0x40ad6c[_0x1b280d(0x207)];if(_0x31646b-(_0x5c62be+_0x229fe9)<0x12c){const _0xf5138d=endOffset;endOffset+=0xe,renderDayRange(_0xf5138d+0x1,endOffset),reRenderBlocks();}if(_0x5c62be<0x12c){const _0x46a45d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x46a45d-0x1),_0x40ad6c['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x223bf1,_0x3b328d){const _0xa25b4d=a3_0x46a5bb,_0x59cb91=document[_0xa25b4d(0x1c0)]('daysHeaderTrack'),_0x54f2c5=document[_0xa25b4d(0x1c0)](_0xa25b4d(0x23f)),_0x2b4426=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ed87d=new Date();_0x1ed87d[_0xa25b4d(0x1b4)](0x0,0x0,0x0,0x0);const _0x5517ae=getLocalDateStr(new Date()),_0x5b9c01=document['createDocumentFragment'](),_0x3e10b8=document[_0xa25b4d(0x1c7)]();for(let _0x1b2f34=_0x223bf1;_0x1b2f34<=_0x3b328d;_0x1b2f34++){const _0x422ddb=new Date(_0x1ed87d);_0x422ddb[_0xa25b4d(0x1e3)](_0x422ddb[_0xa25b4d(0x1c4)]()+_0x1b2f34);const _0x7d09e=getLocalDateStr(_0x422ddb);let _0x819aa2=_0x422ddb['getDay']()-0x1;if(_0x819aa2===-0x1)_0x819aa2=0x6;const _0x571f48=_0x7d09e===_0x5517ae,_0x17785f=document[_0xa25b4d(0x227)](_0xa25b4d(0x1a1));_0x17785f[_0xa25b4d(0x18f)]=_0xa25b4d(0x1af)+(_0x571f48?_0xa25b4d(0x26d):''),_0x17785f[_0xa25b4d(0x191)](_0xa25b4d(0x255),_0x7d09e),_0x17785f[_0xa25b4d(0x249)]='<div\x20class=\x22dch-day\x22>'+_0x2b4426[_0x819aa2]+'</div><div\x20class=\x22dch-num\x22>'+_0x422ddb[_0xa25b4d(0x1c4)]()+_0xa25b4d(0x23b),_0x5b9c01['appendChild'](_0x17785f);const _0x442fe4=document[_0xa25b4d(0x227)](_0xa25b4d(0x1a1));_0x442fe4['className']=_0xa25b4d(0x21c)+(_0x571f48?_0xa25b4d(0x26d):''),_0x442fe4[_0xa25b4d(0x191)](_0xa25b4d(0x255),_0x7d09e),_0x442fe4[_0xa25b4d(0x191)](_0xa25b4d(0x21a),_0x819aa2),_0x3e10b8['appendChild'](_0x442fe4);}_0x59cb91['insertBefore'](_0x5b9c01,_0x59cb91[_0xa25b4d(0x273)]),_0x54f2c5['insertBefore'](_0x3e10b8,_0x54f2c5[_0xa25b4d(0x260)](_0xa25b4d(0x26e)));}function hexToRgba(_0x3d809f,_0x556e7d){const _0x13c85f=a3_0x46a5bb;let _0x2e5577;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x13c85f(0x234)](_0x3d809f))return _0x2e5577=_0x3d809f[_0x13c85f(0x1d4)](0x1)[_0x13c85f(0x20a)](''),_0x2e5577['length']==0x3&&(_0x2e5577=[_0x2e5577[0x0],_0x2e5577[0x0],_0x2e5577[0x1],_0x2e5577[0x1],_0x2e5577[0x2],_0x2e5577[0x2]]),_0x2e5577='0x'+_0x2e5577[_0x13c85f(0x241)](''),_0x13c85f(0x1f0)+[_0x2e5577>>0x10&0xff,_0x2e5577>>0x8&0xff,_0x2e5577&0xff][_0x13c85f(0x241)](',')+','+_0x556e7d+')';return _0x13c85f(0x257)+_0x556e7d+')';}let confirmResolver=null;function showCustomConfirm(_0x43b06c,_0x123d33,_0x3ccf5a=!![]){const _0x55876f=a3_0x46a5bb;document[_0x55876f(0x1c0)](_0x55876f(0x211))[_0x55876f(0x182)]=_0x43b06c,document[_0x55876f(0x1c0)](_0x55876f(0x17c))[_0x55876f(0x182)]=_0x123d33;const _0x53d675=document['getElementById'](_0x55876f(0x1f1));return _0x3ccf5a?(_0x53d675[_0x55876f(0x1c8)][_0x55876f(0x183)]=_0x55876f(0x215),_0x53d675[_0x55876f(0x1c8)][_0x55876f(0x201)]='600'):(_0x53d675[_0x55876f(0x1c8)]['color']=_0x55876f(0x209),_0x53d675[_0x55876f(0x1c8)][_0x55876f(0x201)]='600'),new Promise(_0xa8b88e=>{const _0x4d586a=_0x55876f;confirmResolver=_0xa8b88e,document[_0x4d586a(0x1c0)](_0x4d586a(0x272))[_0x4d586a(0x1c5)][_0x4d586a(0x205)](_0x4d586a(0x258));});}function resolveCustomConfirm(_0x56aa57){const _0x2df2db=a3_0x46a5bb;document[_0x2df2db(0x1c0)](_0x2df2db(0x272))[_0x2df2db(0x1c5)][_0x2df2db(0x213)]('visible');if(confirmResolver)confirmResolver(_0x56aa57);}async function tryCancelCurrentSession(){const _0x1223d5=a3_0x46a5bb;if(!currentSession)return;const _0x505fbc=await showCustomConfirm(_0x1223d5(0x1b3),_0x1223d5(0x192),!![]);if(!_0x505fbc)return;const _0x141263=currentSession;closeAllSheets(),sessions=sessions[_0x1223d5(0x195)](_0x1ac3ac=>_0x1ac3ac['id']!==_0x141263['id']),reRenderBlocks(),showToast(_0x1223d5(0x202)),lastUserActionTime=Date[_0x1223d5(0x19c)]();try{const _0x3e367c=window[_0x1223d5(0x1ee)]?.[_0x1223d5(0x1ce)],_0x10ef72=await fetch(API_URL,{'method':_0x1223d5(0x181),'body':JSON[_0x1223d5(0x1d0)]({'action':'client_cancel','init_data':_0x3e367c?.[_0x1223d5(0x1f4)]||'','coachId':_0x141263[_0x1223d5(0x172)],'dateStr':_0x141263[_0x1223d5(0x19a)],'sessionId':_0x141263['id']})});if(_0x10ef72['ok'])DataManager[_0x1223d5(0x222)]();}catch(_0x51f8af){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x261b4c=a3_0x46a5bb;if(!currentSession)return;document[_0x261b4c(0x1c0)]('detailsSheet')[_0x261b4c(0x1c5)][_0x261b4c(0x213)](_0x261b4c(0x24e)),document['getElementById'](_0x261b4c(0x1c2))[_0x261b4c(0x1c5)]['add'](_0x261b4c(0x24e));const _0x4436da=document['getElementById'](_0x261b4c(0x1dc)),_0x5870ba=document[_0x261b4c(0x1c0)](_0x261b4c(0x17e));_0x4436da[_0x261b4c(0x249)]='',_0x5870ba[_0x261b4c(0x249)]=_0x261b4c(0x238);const [_0x3139b7,_0x3a6c01]=currentSession[_0x261b4c(0x1e4)][_0x261b4c(0x20a)](':')[_0x261b4c(0x1a2)](Number),[_0x234d17,_0x356652]=currentSession['end']['split'](':')['map'](Number),_0x18e23b=_0x234d17*0x3c+_0x356652-(_0x3139b7*0x3c+_0x3a6c01);try{const _0x20ddb6=window[_0x261b4c(0x1ee)]?.[_0x261b4c(0x1ce)],_0x12e60b=await fetch(API_URL,{'method':_0x261b4c(0x181),'body':JSON['stringify']({'action':_0x261b4c(0x1a8),'coachId':currentSession[_0x261b4c(0x172)],'duration':_0x18e23b,'init_data':_0x20ddb6?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x15723c=await _0x12e60b[_0x261b4c(0x206)]();_0x15723c['ok']&&_0x15723c[_0x261b4c(0x219)]?(availableSlotsCache=_0x15723c[_0x261b4c(0x219)],renderRescheduleDates()):_0x5870ba[_0x261b4c(0x249)]=_0x261b4c(0x18b);}catch(_0x5781d5){_0x5870ba['innerHTML']=_0x261b4c(0x20d);}}function renderRescheduleDates(){const _0x368e73=a3_0x46a5bb,_0x2ee7fa=document[_0x368e73(0x1c0)]('rsDatesTrack');_0x2ee7fa['innerHTML']='';const _0x5e5757=Object[_0x368e73(0x248)](availableSlotsCache)[_0x368e73(0x22d)](),_0x33be11=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5e5757[_0x368e73(0x1df)]===0x0){document[_0x368e73(0x1c0)](_0x368e73(0x17e))[_0x368e73(0x249)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x5e5757['forEach']((_0x2d10a3,_0x556684)=>{const _0x51d84d=_0x368e73,_0xdffd31=new Date(_0x2d10a3),_0x2aae5f=_0x33be11[_0xdffd31[_0x51d84d(0x176)]()],_0x2393e5=_0xdffd31[_0x51d84d(0x1c4)](),_0x51c1ea=document[_0x51d84d(0x227)]('div');_0x51c1ea[_0x51d84d(0x18f)]=_0x51d84d(0x1c6);if(_0x556684===0x0)_0x51c1ea[_0x51d84d(0x1c5)]['add'](_0x51d84d(0x212));_0x51c1ea[_0x51d84d(0x249)]='<div\x20class=\x22rs-day-name\x22>'+_0x2aae5f+_0x51d84d(0x17a)+_0x2393e5+_0x51d84d(0x23b),_0x51c1ea[_0x51d84d(0x231)]=()=>selectRsDate(_0x2d10a3,_0x51c1ea),_0x2ee7fa['appendChild'](_0x51c1ea);}),selectRsDate(_0x5e5757[0x0],_0x2ee7fa[_0x368e73(0x273)]);}function selectRsDate(_0x56c074,_0x1ad318){const _0x2a5c6a=a3_0x46a5bb;selectedRsDate=_0x56c074,document[_0x2a5c6a(0x230)](_0x2a5c6a(0x177))[_0x2a5c6a(0x1de)](_0x4ffc19=>_0x4ffc19[_0x2a5c6a(0x1c5)][_0x2a5c6a(0x213)](_0x2a5c6a(0x212)));if(_0x1ad318)_0x1ad318[_0x2a5c6a(0x1c5)]['add'](_0x2a5c6a(0x212));const _0xc0d0ca=document[_0x2a5c6a(0x1c0)]('rsSlotsGrid');_0xc0d0ca[_0x2a5c6a(0x249)]='';const _0xdd74db=availableSlotsCache[_0x56c074]||[];if(_0xdd74db[_0x2a5c6a(0x1df)]===0x0){_0xc0d0ca[_0x2a5c6a(0x249)]=_0x2a5c6a(0x18b);return;}_0xdd74db[_0x2a5c6a(0x1de)](_0x19a386=>{const _0x82fee3=_0x2a5c6a,_0x5d03cd=document[_0x82fee3(0x227)](_0x82fee3(0x21e));_0x5d03cd[_0x82fee3(0x18f)]='rs-time-btn',_0x5d03cd[_0x82fee3(0x182)]=_0x19a386,_0x5d03cd[_0x82fee3(0x231)]=()=>confirmReschedule(_0x19a386),_0xc0d0ca[_0x82fee3(0x17b)](_0x5d03cd);});}async function confirmReschedule(_0x2df4ee){const _0x4f2579=a3_0x46a5bb,_0x28d74c=new Date(selectedRsDate),_0x397699=_0x28d74c[_0x4f2579(0x1e2)](_0x4f2579(0x1bd),{'day':_0x4f2579(0x1fa),'month':_0x4f2579(0x19e)}),_0x46da9a=await showCustomConfirm(_0x4f2579(0x214),_0x4f2579(0x19d)+_0x397699+'\x20–≤\x20'+_0x2df4ee+'?',![]);if(!_0x46da9a)return;closeAllSheets(),showToast(_0x4f2579(0x25f)),lastUserActionTime=Date[_0x4f2579(0x19c)]();const _0x281239=currentSession[_0x4f2579(0x19a)],_0x18f283=currentSession['id'],[_0x1306e3,_0x1acbc9]=currentSession[_0x4f2579(0x1e4)]['split'](':')[_0x4f2579(0x1a2)](Number),[_0x130bb,_0x56739b]=currentSession[_0x4f2579(0x200)][_0x4f2579(0x20a)](':')[_0x4f2579(0x1a2)](Number),_0x175e64=_0x130bb*0x3c+_0x56739b-(_0x1306e3*0x3c+_0x1acbc9),[_0x4f87f1,_0x2ed065]=_0x2df4ee[_0x4f2579(0x20a)](':')['map'](Number),_0x5ae19a=_0x4f87f1*0x3c+_0x2ed065+_0x175e64,_0x32a601=Math['floor'](_0x5ae19a/0x3c),_0xbb917=_0x5ae19a%0x3c,_0x33f08e=String(_0x32a601)['padStart'](0x2,'0')+':'+String(_0xbb917)[_0x4f2579(0x1cd)](0x2,'0'),_0x3b870b=sessions[_0x4f2579(0x1fd)](_0xb6ae25=>_0xb6ae25['id']===_0x18f283);_0x3b870b!==-0x1&&(sessions[_0x3b870b][_0x4f2579(0x19a)]=selectedRsDate,sessions[_0x3b870b][_0x4f2579(0x1e4)]=_0x2df4ee,sessions[_0x3b870b][_0x4f2579(0x200)]=_0x33f08e,reRenderBlocks());try{const _0x1e2fc0=window['Telegram']?.[_0x4f2579(0x1ce)],_0x3119fa=await fetch(API_URL,{'method':'POST','body':JSON[_0x4f2579(0x1d0)]({'action':'reschedule','init_data':_0x1e2fc0?.[_0x4f2579(0x1f4)]||'','oldSessionId':_0x18f283,'oldDate':_0x281239,'newDate':selectedRsDate,'newTime':_0x2df4ee,'coachId':currentSession[_0x4f2579(0x172)]})}),_0x56925b=await _0x3119fa[_0x4f2579(0x206)]();!_0x56925b['ok']?(showToast(_0x4f2579(0x1db)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x16bcc3){showToast(_0x4f2579(0x1f8));}}document['addEventListener'](a3_0x46a5bb(0x1ae),init);