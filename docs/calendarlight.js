const a3_0xba3dc9=a3_0x1676;(function(_0x53bd2b,_0x5a976f){const _0x245295=a3_0x1676,_0x4c2613=_0x53bd2b();while(!![]){try{const _0x2468ce=-parseInt(_0x245295(0xb9))/0x1*(-parseInt(_0x245295(0x9a))/0x2)+-parseInt(_0x245295(0x97))/0x3+parseInt(_0x245295(0x12b))/0x4+-parseInt(_0x245295(0x77))/0x5*(-parseInt(_0x245295(0x137))/0x6)+-parseInt(_0x245295(0x88))/0x7*(parseInt(_0x245295(0x146))/0x8)+parseInt(_0x245295(0x6b))/0x9+-parseInt(_0x245295(0x138))/0xa*(-parseInt(_0x245295(0xe6))/0xb);if(_0x2468ce===_0x5a976f)break;else _0x4c2613['push'](_0x4c2613['shift']());}catch(_0x17a733){_0x4c2613['push'](_0x4c2613['shift']());}}}(a3_0x4d21,0x61e2d));const APP_VERSION=a3_0xba3dc9(0xfa),API_URL=a3_0xba3dc9(0xfb),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0xba3dc9(0xcb),KEY_CLIENTS=a3_0xba3dc9(0x16b);function a3_0x1676(_0x1d9cd0,_0x1ad656){_0x1d9cd0=_0x1d9cd0-0x6a;const _0xd278a2=a3_0x4d21();let _0x37ac4f=_0xd278a2[_0x1d9cd0];return _0x37ac4f;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xba3dc9(0xe5),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xb278ac=a3_0xba3dc9,_0x15f6aa=(function(){let _0x81f82a=!![];return function(_0x4e9fab,_0x3e53fa){const _0x3ed3c3=_0x81f82a?function(){const _0x12b316=a3_0x1676;if(_0x3e53fa){const _0x37ad1b=_0x3e53fa[_0x12b316(0x130)](_0x4e9fab,arguments);return _0x3e53fa=null,_0x37ad1b;}}:function(){};return _0x81f82a=![],_0x3ed3c3;};}()),_0x1f08b9=_0x15f6aa(this,function(){const _0x5080e3=a3_0x1676;return _0x1f08b9[_0x5080e3(0xf5)]()['search'](_0x5080e3(0x147))[_0x5080e3(0xf5)]()[_0x5080e3(0x81)](_0x1f08b9)[_0x5080e3(0x83)]('(((.+)+)+)+$');});_0x1f08b9();try{const _0x5d0402=window[_0xb278ac(0x14a)]?.[_0xb278ac(0x80)];if(!_0x5d0402)return;_0x5d0402['ready'](),_0x5d0402['expand']();try{_0x5d0402['setHeaderColor'](_0xb278ac(0x15f)),_0x5d0402[_0xb278ac(0xbd)]&&_0x5d0402[_0xb278ac(0xbd)](_0xb278ac(0x15f));}catch(_0x4b45b8){console[_0xb278ac(0x121)](_0xb278ac(0x10a),_0x4b45b8);}try{_0x5d0402[_0xb278ac(0x117)]&&(_0x5d0402['BackButton'][_0xb278ac(0x102)](),_0x5d0402[_0xb278ac(0x117)][_0xb278ac(0x96)](),_0x5d0402[_0xb278ac(0x117)][_0xb278ac(0x12c)](function(){const _0x834bbd=_0xb278ac;window[_0x834bbd(0x164)]['href']='router.html';}));}catch(_0x1ebf2c){console['log']('Error\x20setting\x20back\x20button:',_0x1ebf2c);}try{if(_0x5d0402['disableVerticalSwipes'])_0x5d0402[_0xb278ac(0x13d)]();}catch(_0x12fb87){}}catch(_0x15a040){console['error'](_0xb278ac(0xfe),_0x15a040);}}());function isAdmin(){const _0x2883d9=a3_0xba3dc9;try{const _0x1744c4=Number(window[_0x2883d9(0x14a)]?.[_0x2883d9(0x80)]?.[_0x2883d9(0x129)]?.[_0x2883d9(0x10e)]?.['id']);return _0x1744c4===0xbaf7174;}catch(_0xac2b12){return![];}}const DataManager={'saveLocally'(){const _0x2ba015=a3_0xba3dc9;try{localStorage[_0x2ba015(0xf6)](KEY_SESSIONS,JSON[_0x2ba015(0x167)](sessions)),localStorage[_0x2ba015(0xf6)](KEY_CLIENTS,JSON[_0x2ba015(0x167)](clients)),localStorage[_0x2ba015(0xf6)](KEY_SETTINGS,JSON[_0x2ba015(0x167)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x425e53){}},'loadLocal'(){const _0x30fed0=a3_0xba3dc9;try{const _0x4ad4ec=localStorage[_0x30fed0(0x160)](KEY_SESSIONS);if(_0x4ad4ec)sessions=JSON[_0x30fed0(0x8d)](_0x4ad4ec);const _0x5f101b=localStorage[_0x30fed0(0x160)](KEY_CLIENTS);if(_0x5f101b)clients=JSON[_0x30fed0(0x8d)](_0x5f101b);const _0x3d0d1e=localStorage['getItem'](KEY_SETTINGS);if(_0x3d0d1e){const _0x272cc1=JSON[_0x30fed0(0x8d)](_0x3d0d1e);if(_0x272cc1[_0x30fed0(0x8f)])availabilityPattern=_0x272cc1[_0x30fed0(0x8f)];if(_0x272cc1[_0x30fed0(0x14e)])specialRanges=_0x272cc1[_0x30fed0(0x14e)];if(_0x272cc1['exceptions'])dateExceptions=_0x272cc1[_0x30fed0(0xa6)];}}catch(_0xdd9232){}},async 'syncLoad'(){const _0x41aee8=a3_0xba3dc9,_0xc99918=new Date(),_0x5c008b=_0xc99918[_0x41aee8(0x141)]()+'-'+String(_0xc99918['getMonth']()+0x1)['padStart'](0x2,'0'),_0x53c371=new Date(_0xc99918);_0x53c371[_0x41aee8(0xca)](_0xc99918[_0x41aee8(0x13b)]()+0x1);const _0x2a7262=_0x53c371[_0x41aee8(0x141)]()+'-'+String(_0x53c371[_0x41aee8(0x13b)]()+0x1)['padStart'](0x2,'0'),_0x442e3e=Date[_0x41aee8(0xeb)]();try{const _0x20f107=window[_0x41aee8(0x14a)]?.['WebApp'],_0x225fdb=_0x20f107?.[_0x41aee8(0x14c)]||'',[_0x6db9a6,_0x59e627]=await Promise[_0x41aee8(0x135)]([fetch(API_URL,{'method':_0x41aee8(0xe4),'body':JSON[_0x41aee8(0x167)]({'action':_0x41aee8(0xda),'init_data':_0x225fdb,'month_str':_0x5c008b})})['then'](_0x18b782=>_0x18b782[_0x41aee8(0x112)]()),fetch(API_URL,{'method':_0x41aee8(0xe4),'body':JSON[_0x41aee8(0x167)]({'action':_0x41aee8(0xda),'init_data':_0x225fdb,'month_str':_0x2a7262})})[_0x41aee8(0x16d)](_0x38ea45=>_0x38ea45['json']())]);if(lastUserActionTime>_0x442e3e){console[_0x41aee8(0x121)](_0x41aee8(0x148));return;}if(_0x6db9a6['ok'])this[_0x41aee8(0x6f)](_0x6db9a6['data'],_0x5c008b);if(_0x59e627['ok'])this[_0x41aee8(0x6f)](_0x59e627['data'],_0x2a7262);this[_0x41aee8(0x13c)]();}catch(_0x2f354b){}},'applyData'(_0x33fb2b,_0x1619c0){const _0x469d26=a3_0xba3dc9;if(!_0x33fb2b)return;if(_0x33fb2b[_0x469d26(0x7d)]){if(_0x33fb2b['settings'][_0x469d26(0x8f)])availabilityPattern=_0x33fb2b['settings'][_0x469d26(0x8f)];if(_0x33fb2b[_0x469d26(0x7d)]['ranges'])specialRanges=_0x33fb2b[_0x469d26(0x7d)]['ranges'];if(_0x33fb2b['settings']['exceptions'])dateExceptions=_0x33fb2b[_0x469d26(0x7d)]['exceptions'];}if(_0x33fb2b[_0x469d26(0x122)]&&Array[_0x469d26(0xd8)](_0x33fb2b[_0x469d26(0x122)]))clients=_0x33fb2b[_0x469d26(0x122)];_0x33fb2b[_0x469d26(0x7e)]&&(coachProfiles={...coachProfiles,..._0x33fb2b['coach_profiles']}),_0x33fb2b['calendar']&&(sessions=sessions[_0x469d26(0x143)](_0x3cd6e1=>!_0x3cd6e1[_0x469d26(0xa2)][_0x469d26(0x165)](_0x1619c0)),Object[_0x469d26(0xea)](_0x33fb2b[_0x469d26(0xfc)])[_0x469d26(0x11a)](_0x37ab50=>{const _0x4812d2=_0x469d26,_0x402365=_0x33fb2b[_0x4812d2(0xfc)][_0x37ab50];_0x402365[_0x4812d2(0x11a)](_0x5ed578=>{const _0x59b5cb=_0x4812d2;sessions[_0x59b5cb(0xec)]({'id':_0x5ed578['i'],'clientId':_0x5ed578['c'],'coachId':_0x5ed578[_0x59b5cb(0xb2)],'dateStr':_0x1619c0+'-'+_0x37ab50[_0x59b5cb(0x74)](0x2,'0'),'start':_0x5ed578['s'],'end':_0x5ed578['e'],'note':_0x5ed578['n']||'','status':_0x5ed578['st']||'planned','seriesId':_0x5ed578[_0x59b5cb(0xf1)]});});})),reRenderBlocks();}};function init(){const _0x491d08=a3_0xba3dc9;DataManager[_0x491d08(0xac)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x491d08(0x142)](_0x491d08(0xf9))['addEventListener'](_0x491d08(0x149),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x491d08(0x8e)]();}function renderTimeColumn(){const _0x2e1d25=a3_0xba3dc9,_0x4a075b=document['getElementById'](_0x2e1d25(0xe9)),_0x52223c=document[_0x2e1d25(0x142)](_0x2e1d25(0xaf));_0x4a075b[_0x2e1d25(0x95)]='',_0x4a075b['appendChild'](_0x52223c);for(let _0x56b996=0x0;_0x56b996<0x18;_0x56b996++){const _0x53e42a=document[_0x2e1d25(0x101)](_0x2e1d25(0x163));_0x53e42a[_0x2e1d25(0xef)]=_0x2e1d25(0x14b);if(_0x56b996>0x0)_0x53e42a[_0x2e1d25(0x95)]='<span>'+String(_0x56b996)[_0x2e1d25(0x74)](0x2,'0')+_0x2e1d25(0x10f);_0x4a075b[_0x2e1d25(0x73)](_0x53e42a);}}function renderDayRange(_0x4b1aa7,_0x27a70c){const _0x14ca2d=a3_0xba3dc9,_0xfaeb74=document[_0x14ca2d(0x142)](_0x14ca2d(0xc5)),_0x5ae369=document[_0x14ca2d(0x142)](_0x14ca2d(0x133)),_0x42d815=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2fb861=new Date();_0x2fb861[_0x14ca2d(0xa4)](0x0,0x0,0x0,0x0);const _0x3aad60=getLocalDateStr(new Date());for(let _0x136dd3=_0x4b1aa7;_0x136dd3<=_0x27a70c;_0x136dd3++){const _0x16c029=new Date(_0x2fb861);_0x16c029[_0x14ca2d(0x113)](_0x16c029[_0x14ca2d(0xcc)]()+_0x136dd3);const _0x3e4447=getLocalDateStr(_0x16c029);let _0x1530a3=_0x16c029[_0x14ca2d(0xff)]()-0x1;if(_0x1530a3===-0x1)_0x1530a3=0x6;const _0x62cc94=_0x3e4447===_0x3aad60,_0xf60c82=document[_0x14ca2d(0x101)]('div');_0xf60c82[_0x14ca2d(0xef)]=_0x14ca2d(0x132)+(_0x62cc94?_0x14ca2d(0x6e):''),_0xf60c82['setAttribute']('data-date',_0x3e4447),_0xf60c82[_0x14ca2d(0x95)]='<div\x20class=\x22dch-day\x22>'+_0x42d815[_0x1530a3]+_0x14ca2d(0xd2)+_0x16c029[_0x14ca2d(0xcc)]()+_0x14ca2d(0x109),_0xfaeb74['appendChild'](_0xf60c82);const _0x1fb660=document[_0x14ca2d(0x101)](_0x14ca2d(0x163));_0x1fb660[_0x14ca2d(0xef)]=_0x14ca2d(0xcf)+(_0x62cc94?_0x14ca2d(0x6e):''),_0x1fb660[_0x14ca2d(0xd3)]('data-date',_0x3e4447),_0x1fb660['setAttribute'](_0x14ca2d(0x162),_0x1530a3),_0x5ae369[_0x14ca2d(0x73)](_0x1fb660);}}function a3_0x4d21(){const _0x23438a=['<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anPercent','anDonutCircle','style','blocked-slot\x20stripe-bg','substr','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','entries','POST','week','6523TUTwki','insertBefore','clientId','timeColumn','keys','now','push','var(--acc-blue)','rs-date-chip','className','px\x20-','sid','detStatus','toast','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','toString','setItem','</span>\x20/\x20','classList','matrixViewport','v9.5-CLIENT-ANALYTICS','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','calendar','end','Critical\x20TMA\x20Error:','getDay','day-off-overlay\x20stripe-bg','createElement','show','height','status','remove','T00:00:00','long','\x20-\x20','</div>','Error\x20setting\x20color:','anEnd','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','user',':00</span>','.period-switch\x20.p-btn','.sheet','json','setDate','getTime','getHours','scrollLeft','BackButton','.day-col-header','month','forEach','ru-RU','anTotalStats','customConfirm','substring','backgroundColor','createDocumentFragment','log','clients','auto','data-date','numeric','%\x20+\x202px)','charAt','note','initDataUnsafe','DOMContentLoaded','949300wlXXnE','onClick','color','flex','start','apply','find','day-col-header\x20','gridColumns','rs-time-btn','all','reschedule','184044TduvYJ','1110IonZsQ','zIndex','getMinutes','getMonth','saveLocally','disableVerticalSwipes','detTime','onclick','–û—Ç–º–µ–Ω–µ–Ω–æ','getFullYear','getElementById','filter','T23:59:59','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','6472kEcQli','(((.+)+)+)+$','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','scroll','Telegram','time-label','initData','borderLeftColor','ranges','round','firstChild','cancel_window','querySelectorAll','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','px\x200px','fontWeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','addEventListener','offsetWidth','.day-col-header[data-date=\x22','done','600','floor','total','#050505','getItem','scrollTop','data-day-idx','div','location','startsWith','display','stringify','Unknown','toUpperCase','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','uc_client_list','<div\x20class=\x22dch-day\x22>','then','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','1950156wmSYGJ','findIndex','detNote','today','applyData','ccText','sort','rgba(10,\x20132,\x20255,\x20','appendChild','padStart','data','join','70dtUHfF','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','anStart','toLocaleString','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','toLocaleDateString','settings','coach_profiles','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','WebApp','constructor','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','search','analyticsSheet','left','open','split','5978gJEuda','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','</div><div\x20class=\x22rs-day-num\x22>','parse','syncLoad','pattern','textContent','cancelHint','slice','analyticsList','querySelector','innerHTML','offClick','1594908nOVZzH','\x20—á.','rsSlotsGrid','2uxtxfN','block','rescheduleSheet','mini','rsDatesTrack','var(--acc-green)','clientWidth','ccTitle','dateStr','active','setHours','headerMonth','exceptions','colIndex','detailsSheet','min','none','scrollTo','loadLocal','coachId','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','timeLineBadge','overlay','.day-column','cid','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','.btn-cancel','cancelled','ccYesBtn','add','674195RXHiqk','calc(','#ff453a','cancelContainer','setBackgroundColor','.btn-reschedule','seriesId','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20status-completed','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetLeft','stopPropagation','daysHeaderTrack','value','rgba(','completed','#0a84ff','setMonth','uc_client_settings','getDate','detDate','top','day-column\x20','custom','client_cancel','</div><div\x20class=\x22dch-num\x22>','setAttribute','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','visible','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','length','isArray','backgroundPosition','client_load'];a3_0x4d21=function(){return _0x23438a;};return a3_0x4d21();}function reRenderBlocks(){const _0x32585a=a3_0xba3dc9;document[_0x32585a(0x152)](_0x32585a(0xb1))[_0x32585a(0x11a)](_0xfa4461=>{const _0x255b24=_0x32585a;_0xfa4461[_0x255b24(0x152)](_0x255b24(0x16a))[_0x255b24(0x11a)](_0x3fe28e=>_0x3fe28e[_0x255b24(0x105)]());const _0x5738bf=_0xfa4461['getAttribute']('data-date'),_0x62ca90=parseInt(_0xfa4461['getAttribute'](_0x255b24(0x162))),_0x569688=Math['round'](_0xfa4461[_0x255b24(0xc3)]);(availabilityPattern[_0x62ca90]||[])[_0x255b24(0x11a)](_0x189296=>{const _0x5dbbe0=_0x255b24,_0x266ab9=document[_0x5dbbe0(0x101)]('div');_0x266ab9['className']=_0x5dbbe0(0xdf),_0x266ab9[_0x5dbbe0(0xde)][_0x5dbbe0(0xce)]=_0x189296*GRID_H+'px',_0x266ab9[_0x5dbbe0(0xde)][_0x5dbbe0(0xd9)]='-'+_0x569688+'px\x20-'+_0x189296*GRID_H+'px',_0xfa4461[_0x5dbbe0(0x73)](_0x266ab9);});if(specialRanges[_0x255b24(0xd7)]>0x0){const _0x1def89=new Date(_0x5738bf+_0x255b24(0x106))[_0x255b24(0x114)](),_0x49ab71=new Date(_0x5738bf+_0x255b24(0x144))[_0x255b24(0x114)]();specialRanges[_0x255b24(0x11a)](_0x56908e=>{const _0x51bf69=_0x255b24,_0x2094bb=new Date(_0x56908e[_0x51bf69(0x12f)])['getTime'](),_0x56639c=new Date(_0x56908e['end'])[_0x51bf69(0x114)](),_0x184cf1=Math[_0x51bf69(0xb3)](_0x1def89,_0x2094bb),_0xa16c40=Math[_0x51bf69(0xa9)](_0x49ab71,_0x56639c);if(_0x184cf1<_0xa16c40){const _0x563309=(_0x184cf1-_0x1def89)/0x36ee80*GRID_H,_0x5ade33=(_0xa16c40-_0x184cf1)/0x36ee80*GRID_H,_0x3a901d=document[_0x51bf69(0x101)]('div');_0x5ade33>=23.5*GRID_H?(_0x3a901d[_0x51bf69(0xef)]=_0x51bf69(0x100),_0x3a901d[_0x51bf69(0xde)]['backgroundPosition']='-'+_0x569688+_0x51bf69(0x154)):(_0x3a901d['className']='blocked-range-part\x20stripe-bg',_0x3a901d['style']['top']=_0x563309+'px',_0x3a901d[_0x51bf69(0xde)][_0x51bf69(0x103)]=_0x5ade33+'px',_0x3a901d[_0x51bf69(0xde)][_0x51bf69(0xd9)]='-'+_0x569688+_0x51bf69(0xf0)+_0x563309+'px'),_0xfa4461[_0x51bf69(0x73)](_0x3a901d);}});}renderEventsForColumn(_0xfa4461,_0x5738bf);});}function renderEventsForColumn(_0x41d9e5,_0x218829){const _0x3e6685=a3_0xba3dc9,_0x35c9e3=sessions[_0x3e6685(0x143)](_0x148ce3=>_0x148ce3[_0x3e6685(0xa2)]===_0x218829),_0x1f777e=_0x35c9e3[_0x3e6685(0x157)](_0x357a1d=>{const _0x5bda14=_0x3e6685,[_0x4955c7,_0x5b6ead]=_0x357a1d[_0x5bda14(0x12f)][_0x5bda14(0x87)](':')[_0x5bda14(0x157)](Number),[_0x389a2a,_0x268b7d]=_0x357a1d[_0x5bda14(0xfd)][_0x5bda14(0x87)](':')['map'](Number);return{'data':_0x357a1d,'start':_0x4955c7*0x3c+_0x5b6ead,'end':_0x389a2a*0x3c+_0x268b7d,'colIndex':0x0};});_0x1f777e[_0x3e6685(0x71)]((_0x39d8cf,_0x5b7e6f)=>_0x39d8cf['start']-_0x5b7e6f[_0x3e6685(0x12f)]||_0x5b7e6f[_0x3e6685(0xfd)]-_0x5b7e6f[_0x3e6685(0x12f)]-(_0x39d8cf[_0x3e6685(0xfd)]-_0x39d8cf[_0x3e6685(0x12f)]));const _0x131bed=[];_0x1f777e[_0x3e6685(0x11a)](_0x4180bf=>{const _0x43c98d=_0x3e6685;let _0x17da41=![];for(let _0x181bc4=0x0;_0x181bc4<_0x131bed[_0x43c98d(0xd7)];_0x181bc4++){const _0x4bbfbb=_0x131bed[_0x181bc4];if(_0x4180bf[_0x43c98d(0x12f)]>=_0x4bbfbb[_0x4bbfbb[_0x43c98d(0xd7)]-0x1][_0x43c98d(0xfd)]){_0x4bbfbb['push'](_0x4180bf),_0x4180bf['colIndex']=_0x181bc4,_0x17da41=!![];break;}}!_0x17da41&&(_0x131bed['push']([_0x4180bf]),_0x4180bf['colIndex']=_0x131bed['length']-0x1);}),_0x1f777e['forEach'](_0x3fa4a1=>{const _0x39e541=_0x3e6685;let _0x57fa14=0x0;_0x1f777e[_0x39e541(0x11a)](_0x28c678=>{const _0x160077=_0x39e541;if(Math[_0x160077(0xb3)](_0x3fa4a1[_0x160077(0x12f)],_0x28c678['start'])<Math[_0x160077(0xa9)](_0x3fa4a1[_0x160077(0xfd)],_0x28c678[_0x160077(0xfd)])&&_0x28c678[_0x160077(0xa7)]>_0x57fa14)_0x57fa14=_0x28c678['colIndex'];});const _0x5879a1=_0x57fa14+0x1,_0x3f8897=0x64/_0x5879a1,_0xbf6a70=_0x3fa4a1[_0x39e541(0xa7)]*_0x3f8897,_0x42a36e=document[_0x39e541(0x101)](_0x39e541(0x163)),_0x3377b2=_0x3fa4a1[_0x39e541(0x75)];let _0x2cc7f6=_0x39e541(0xc9);if(clients&&clients[_0x39e541(0xd7)]>0x0){const _0x341685=clients[_0x39e541(0x131)](_0x524d57=>String(_0x524d57['id'])===String(_0x3377b2[_0x39e541(0xe8)]));if(_0x341685&&_0x341685[_0x39e541(0x12d)])_0x2cc7f6=_0x341685['color'];}const _0x4386e0=_0x3377b2[_0x39e541(0x104)]===_0x39e541(0xc8),_0x78395d=_0x4386e0?0x1:0.45;_0x42a36e['className']='event-card'+(_0x4386e0?_0x39e541(0xc1):''),_0x42a36e[_0x39e541(0xde)][_0x39e541(0x11f)]=hexToRgba(_0x2cc7f6,_0x78395d),_0x42a36e[_0x39e541(0xde)][_0x39e541(0x14d)]=_0x2cc7f6;const _0xb9f9da=_0x3fa4a1[_0x39e541(0x12f)]/0x3c*GRID_H,_0x5264ba=(_0x3fa4a1[_0x39e541(0xfd)]-_0x3fa4a1[_0x39e541(0x12f)])/0x3c*GRID_H;_0x42a36e[_0x39e541(0xde)]['top']=_0xb9f9da+'px',_0x42a36e[_0x39e541(0xde)][_0x39e541(0x103)]=Math['max'](_0x5264ba,0x14)+'px',_0x42a36e['style']['width']='calc('+_0x3f8897+'%\x20-\x204px)',_0x42a36e[_0x39e541(0xde)][_0x39e541(0x85)]=_0x39e541(0xba)+_0xbf6a70+_0x39e541(0x126),_0x42a36e[_0x39e541(0xde)][_0x39e541(0x139)]=0xa+_0x3fa4a1['colIndex'];if(_0x3f8897<0x55)_0x42a36e[_0x39e541(0xf8)][_0x39e541(0xb8)](_0x39e541(0x9d));let _0x2e8120='';if(_0x3377b2[_0x39e541(0xbf)])_0x2e8120+=_0x39e541(0x8a);if(_0x4386e0)_0x2e8120+=_0x39e541(0xdb);_0x42a36e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x3377b2[_0x39e541(0x12f)]+_0x39e541(0x108)+_0x3377b2['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e8120+_0x39e541(0x156),_0x42a36e[_0x39e541(0x13f)]=_0x1fd243=>{const _0x2be6da=_0x39e541;_0x1fd243[_0x2be6da(0xc4)](),openDetails(_0x3377b2);},_0x41d9e5[_0x39e541(0x73)](_0x42a36e);});}function openAnalytics(){const _0x3f6d2b=a3_0xba3dc9,_0x5bf959=document[_0x3f6d2b(0x94)](_0x3f6d2b(0x110));setAnalyticsPeriod(_0x3f6d2b(0xe5),_0x5bf959),openSheet(_0x3f6d2b(0x84));}function setAnalyticsPeriod(_0x37a882,_0x1b3503){const _0x3574af=a3_0xba3dc9;currentAnPeriod=_0x37a882,document[_0x3574af(0x152)](_0x3574af(0x110))['forEach'](_0x20bb6c=>_0x20bb6c[_0x3574af(0xf8)][_0x3574af(0x105)](_0x3574af(0xa3)));if(_0x1b3503)_0x1b3503['classList'][_0x3574af(0xb8)](_0x3574af(0xa3));const _0x453733=document[_0x3574af(0x142)]('anCustomDates');_0x453733[_0x3574af(0xde)]['display']=_0x37a882===_0x3574af(0xd0)?_0x3574af(0x12e):'none';const _0x4f1cb6=new Date();let _0x1af5ff=new Date(),_0x48172e=new Date();if(_0x37a882===_0x3574af(0xe5))_0x1af5ff=getStartOfWeek(_0x4f1cb6),_0x48172e=new Date(_0x1af5ff),_0x48172e[_0x3574af(0x113)](_0x48172e[_0x3574af(0xcc)]()+0x6);else{if(_0x37a882===_0x3574af(0x119))_0x1af5ff=new Date(_0x4f1cb6[_0x3574af(0x141)](),_0x4f1cb6[_0x3574af(0x13b)](),0x1),_0x48172e=new Date(_0x4f1cb6[_0x3574af(0x141)](),_0x4f1cb6[_0x3574af(0x13b)]()+0x1,0x0);else{!document[_0x3574af(0x142)]('anStart')[_0x3574af(0xc6)]&&(document[_0x3574af(0x142)]('anStart')[_0x3574af(0xc6)]=getLocalDateStr(_0x4f1cb6),document[_0x3574af(0x142)](_0x3574af(0x10b))['value']=getLocalDateStr(_0x4f1cb6));refreshAnalytics();return;}}document[_0x3574af(0x142)](_0x3574af(0x79))[_0x3574af(0xc6)]=getLocalDateStr(_0x1af5ff),document[_0x3574af(0x142)](_0x3574af(0x10b))[_0x3574af(0xc6)]=getLocalDateStr(_0x48172e),refreshAnalytics();}function refreshAnalytics(){const _0x4fe506=a3_0xba3dc9,_0x47b009=document[_0x4fe506(0x142)](_0x4fe506(0x79))[_0x4fe506(0xc6)],_0x1a456d=document[_0x4fe506(0x142)]('anEnd')['value'];if(!_0x47b009||!_0x1a456d)return;const _0x555abb=sessions[_0x4fe506(0x143)](_0x448d01=>_0x448d01[_0x4fe506(0xa2)]>=_0x47b009&&_0x448d01[_0x4fe506(0xa2)]<=_0x1a456d&&_0x448d01[_0x4fe506(0x104)]!==_0x4fe506(0xb6)),_0x38afee=_0x555abb[_0x4fe506(0xd7)],_0x389e38=_0x555abb[_0x4fe506(0x143)](_0x22f7a6=>_0x22f7a6[_0x4fe506(0x104)]===_0x4fe506(0xc8))[_0x4fe506(0xd7)],_0x212704=_0x38afee>0x0?Math[_0x4fe506(0x14f)](_0x389e38/_0x38afee*0x64):0x0;document[_0x4fe506(0x142)](_0x4fe506(0xdc))[_0x4fe506(0x90)]=_0x212704+'%',document[_0x4fe506(0x142)](_0x4fe506(0x11c))[_0x4fe506(0x90)]=_0x389e38+'\x20–∏–∑\x20'+_0x38afee+_0x4fe506(0xc0);const _0x23e81f=document[_0x4fe506(0x142)](_0x4fe506(0xdd)),_0x48ba90=0x2*Math['PI']*0x23,_0x570d98=_0x48ba90-_0x212704/0x64*_0x48ba90;_0x23e81f[_0x4fe506(0xde)]['strokeDashoffset']=_0x570d98;const _0x35f997={};_0x555abb[_0x4fe506(0x11a)](_0x507302=>{const _0x5ae62c=_0x4fe506,_0x5425f8=_0x507302[_0x5ae62c(0xad)]||_0x5ae62c(0x168);if(!_0x35f997[_0x5425f8]){const _0x57000c='#'+_0x5425f8['toString']()[_0x5ae62c(0xe0)](0x0,0x6);_0x35f997[_0x5425f8]={'total':0x0,'done':0x0,'color':_0x57000c};}_0x35f997[_0x5425f8][_0x5ae62c(0x15e)]++;if(_0x507302['status']===_0x5ae62c(0xc8))_0x35f997[_0x5425f8][_0x5ae62c(0x15b)]++;});const _0x1b8750=document[_0x4fe506(0x142)](_0x4fe506(0x93));_0x1b8750[_0x4fe506(0x95)]='';const _0x44cc6c=Object[_0x4fe506(0xe3)](_0x35f997)[_0x4fe506(0x71)]((_0x28d7f2,_0x179c99)=>_0x179c99[0x1][_0x4fe506(0x15e)]-_0x28d7f2[0x1]['total']);if(_0x44cc6c[_0x4fe506(0xd7)]===0x0){_0x1b8750[_0x4fe506(0x95)]=_0x4fe506(0x6a);return;}_0x44cc6c['forEach'](([_0x11c945,_0x174ea7])=>{const _0x284572=_0x4fe506,_0x1e1512=Math['round'](_0x174ea7['done']/_0x174ea7[_0x284572(0x15e)]*0x64),_0x26b4e8=document['createElement'](_0x284572(0x163));_0x26b4e8[_0x284572(0xef)]='client-stat-card',_0x26b4e8['style'][_0x284572(0x14d)]=_0x174ea7[_0x284572(0x12d)],_0x26b4e8[_0x284572(0x95)]=_0x284572(0xb4)+_0x11c945['substr'](0x0,0x5)+_0x284572(0x145)+_0x174ea7[_0x284572(0x15b)]+_0x284572(0xf7)+_0x174ea7[_0x284572(0x15e)]+_0x284572(0x10d)+_0x1e1512+_0x284572(0xc2),_0x1b8750[_0x284572(0x73)](_0x26b4e8);});}function openDetails(_0x103be2){const _0x4c2859=a3_0xba3dc9;currentSession=_0x103be2;const _0x3ec480=new Date(_0x103be2[_0x4c2859(0xa2)]),_0x57be40=_0x3ec480[_0x4c2859(0x7c)](_0x4c2859(0x11b),{'weekday':'long','day':'numeric','month':_0x4c2859(0x107)});document['getElementById'](_0x4c2859(0xcd))[_0x4c2859(0x90)]=_0x57be40[_0x4c2859(0x127)](0x0)[_0x4c2859(0x169)]()+_0x57be40[_0x4c2859(0x92)](0x1),document['getElementById'](_0x4c2859(0x13e))[_0x4c2859(0x90)]=_0x103be2[_0x4c2859(0x12f)]+_0x4c2859(0x108)+_0x103be2[_0x4c2859(0xfd)],document[_0x4c2859(0x142)](_0x4c2859(0x6d))['textContent']=_0x103be2[_0x4c2859(0x128)]||_0x4c2859(0xd4);const _0x35be9d=document[_0x4c2859(0x142)](_0x4c2859(0xf2)),_0x510e47=document['getElementById'](_0x4c2859(0xbc)),_0x217bdf=_0x510e47[_0x4c2859(0x94)](_0x4c2859(0xb5)),_0x3f1fed=_0x510e47[_0x4c2859(0x94)](_0x4c2859(0xbe)),_0x395343=document[_0x4c2859(0x142)](_0x4c2859(0x91));if(_0x103be2[_0x4c2859(0x104)]===_0x4c2859(0xc8))_0x35be9d['textContent']=_0x4c2859(0x82),_0x35be9d[_0x4c2859(0xde)][_0x4c2859(0x12d)]=_0x4c2859(0x9f),_0x510e47['style'][_0x4c2859(0x166)]='none';else{_0x35be9d[_0x4c2859(0x90)]=_0x4c2859(0xe1),_0x35be9d['style']['color']=_0x4c2859(0xed),_0x510e47['style'][_0x4c2859(0x166)]=_0x4c2859(0x9b);const _0x86729a=new Date(_0x103be2[_0x4c2859(0xa2)]+'T'+_0x103be2['start']),_0x23cf1c=new Date(),_0x3a2e0f=(_0x86729a-_0x23cf1c)/(0x3e8*0x3c*0x3c),_0x2027bd=coachProfiles[_0x103be2[_0x4c2859(0xad)]]&&coachProfiles[_0x103be2[_0x4c2859(0xad)]]['cancel_window']?parseInt(coachProfiles[_0x103be2[_0x4c2859(0xad)]][_0x4c2859(0x151)]):0x18;if(_0x2027bd===0x0||_0x3a2e0f>=_0x2027bd)_0x217bdf[_0x4c2859(0xde)][_0x4c2859(0x166)]=_0x4c2859(0x9b),_0x3f1fed[_0x4c2859(0xde)][_0x4c2859(0x166)]=_0x4c2859(0x9b),_0x395343[_0x4c2859(0xde)][_0x4c2859(0x166)]=_0x4c2859(0xaa);else{_0x217bdf['style'][_0x4c2859(0x166)]=_0x4c2859(0xaa),_0x3f1fed['style']['display']=_0x4c2859(0xaa),_0x395343[_0x4c2859(0xde)][_0x4c2859(0x166)]=_0x4c2859(0x9b);let _0x158ad4=_0x2027bd===0x0?_0x4c2859(0x153):'–∑–∞\x20'+_0x2027bd+_0x4c2859(0x98);_0x395343[_0x4c2859(0x90)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x158ad4+_0x4c2859(0xf4);}}document[_0x4c2859(0x142)]('overlay')['classList']['add']('active'),document[_0x4c2859(0x142)]('detailsSheet')['classList']['add'](_0x4c2859(0x86));}function closeAllSheets(){const _0x372daf=a3_0xba3dc9;document[_0x372daf(0x142)](_0x372daf(0xb0))['classList'][_0x372daf(0x105)](_0x372daf(0xa3)),document[_0x372daf(0x152)](_0x372daf(0x111))[_0x372daf(0x11a)](_0x3f49f2=>_0x3f49f2[_0x372daf(0xf8)][_0x372daf(0x105)](_0x372daf(0x86)));}function openSheet(_0x3e0fa7){const _0x355f13=a3_0xba3dc9;document[_0x355f13(0x142)](_0x355f13(0xb0))[_0x355f13(0xf8)][_0x355f13(0xb8)](_0x355f13(0xa3)),document[_0x355f13(0x142)](_0x3e0fa7)[_0x355f13(0xf8)]['add'](_0x355f13(0x86));}function getLocalDateStr(_0x110a00){const _0x4d761c=a3_0xba3dc9,_0x505b1a=_0x110a00['getFullYear'](),_0x16942c=String(_0x110a00[_0x4d761c(0x13b)]()+0x1)[_0x4d761c(0x74)](0x2,'0'),_0x1a5723=String(_0x110a00[_0x4d761c(0xcc)]())[_0x4d761c(0x74)](0x2,'0');return _0x505b1a+'-'+_0x16942c+'-'+_0x1a5723;}function getStartOfWeek(_0x246e0d){const _0x19b252=a3_0xba3dc9,_0x128558=new Date(_0x246e0d),_0x356fa3=_0x128558[_0x19b252(0xff)](),_0x51bbdb=_0x128558[_0x19b252(0xcc)]()-_0x356fa3+(_0x356fa3===0x0?-0x6:0x1);return _0x128558[_0x19b252(0x113)](_0x51bbdb),_0x128558[_0x19b252(0xa4)](0x0,0x0,0x0,0x0),_0x128558;}function scrollToToday(){const _0x441f2e=getLocalDateStr(new Date());setTimeout(()=>{const _0x49028f=a3_0x1676,_0xc20694=document[_0x49028f(0x94)](_0x49028f(0x15a)+_0x441f2e+'\x22]');if(_0xc20694){const _0x8c58d6=document[_0x49028f(0x142)](_0x49028f(0xf9)),_0x31b707=_0xc20694['offsetLeft']-_0x8c58d6['clientWidth']/0x2+_0xc20694[_0x49028f(0x159)]/0x2;_0x8c58d6[_0x49028f(0xab)]({'left':_0x31b707,'behavior':_0x49028f(0x123)}),_0x8c58d6[_0x49028f(0x161)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x147bd9=a3_0xba3dc9,_0x495d80=new Date(),_0x5ea16c=document[_0x147bd9(0x142)]('globalTimeLine'),_0x19c7bc=document[_0x147bd9(0x142)](_0x147bd9(0xaf)),_0x51f63b=(_0x495d80['getHours']()*0x3c+_0x495d80[_0x147bd9(0x13a)]())/0x3c*GRID_H;_0x5ea16c[_0x147bd9(0xde)][_0x147bd9(0xce)]=_0x51f63b+'px',_0x5ea16c[_0x147bd9(0xde)]['display']=_0x147bd9(0x9b),_0x19c7bc[_0x147bd9(0xde)][_0x147bd9(0xce)]=_0x51f63b+'px',_0x19c7bc['style'][_0x147bd9(0x166)]=_0x147bd9(0x9b),_0x19c7bc[_0x147bd9(0x90)]=String(_0x495d80[_0x147bd9(0x115)]())[_0x147bd9(0x74)](0x2,'0')+':'+String(_0x495d80[_0x147bd9(0x13a)]())[_0x147bd9(0x74)](0x2,'0');}function onScroll(){const _0x5b0b5a=a3_0xba3dc9,_0x52acdb=document['getElementById'](_0x5b0b5a(0xf9)),_0x507ac1=document[_0x5b0b5a(0x152)](_0x5b0b5a(0x118));for(let _0x2edbe4 of _0x507ac1)if(_0x2edbe4[_0x5b0b5a(0xc3)]>=_0x52acdb['scrollLeft']){const _0x512679=new Date(_0x2edbe4['getAttribute']('data-date'));document[_0x5b0b5a(0x142)](_0x5b0b5a(0xa5))[_0x5b0b5a(0x90)]=_0x512679[_0x5b0b5a(0x7a)]('ru',{'month':_0x5b0b5a(0x107)})[_0x5b0b5a(0x169)]()+'\x20'+_0x512679['getFullYear']();break;}}function showToast(_0x54e5aa){const _0x2bcd12=a3_0xba3dc9,_0x300343=document[_0x2bcd12(0x142)](_0x2bcd12(0xf3));_0x300343['textContent']=_0x54e5aa,_0x300343[_0x2bcd12(0xf8)][_0x2bcd12(0xb8)](_0x2bcd12(0x102)),setTimeout(()=>_0x300343[_0x2bcd12(0xf8)][_0x2bcd12(0x105)](_0x2bcd12(0x102)),0x7d0);}function handleInfiniteScroll(){const _0x270686=a3_0xba3dc9,_0x2e2d61=document['getElementById']('matrixViewport'),_0x2db295=_0x2e2d61[_0x270686(0x116)],_0x24b1cd=_0x2e2d61['scrollWidth'],_0x400ff1=_0x2e2d61[_0x270686(0xa0)];if(_0x24b1cd-(_0x2db295+_0x400ff1)<0x12c){const _0x3c0b23=endOffset;endOffset+=0xe,renderDayRange(_0x3c0b23+0x1,endOffset),reRenderBlocks();}if(_0x2db295<0x12c){const _0x231f78=startOffset;startOffset-=0xe,prependDays(startOffset,_0x231f78-0x1),_0x2e2d61['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x94f58c,_0x2ecddd){const _0x26d266=a3_0xba3dc9,_0xdbf476=document[_0x26d266(0x142)]('daysHeaderTrack'),_0x28c28d=document[_0x26d266(0x142)](_0x26d266(0x133)),_0x282b3a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x401b8d=new Date();_0x401b8d[_0x26d266(0xa4)](0x0,0x0,0x0,0x0);const _0xc32397=getLocalDateStr(new Date()),_0x4f52a6=document[_0x26d266(0x120)](),_0x3db326=document[_0x26d266(0x120)]();for(let _0x1e1210=_0x94f58c;_0x1e1210<=_0x2ecddd;_0x1e1210++){const _0x4088ba=new Date(_0x401b8d);_0x4088ba[_0x26d266(0x113)](_0x4088ba[_0x26d266(0xcc)]()+_0x1e1210);const _0x207dde=getLocalDateStr(_0x4088ba);let _0x5d1c82=_0x4088ba[_0x26d266(0xff)]()-0x1;if(_0x5d1c82===-0x1)_0x5d1c82=0x6;const _0x40d5ea=_0x207dde===_0xc32397,_0x1a9481=document[_0x26d266(0x101)](_0x26d266(0x163));_0x1a9481[_0x26d266(0xef)]=_0x26d266(0x132)+(_0x40d5ea?'today':''),_0x1a9481[_0x26d266(0xd3)](_0x26d266(0x124),_0x207dde),_0x1a9481[_0x26d266(0x95)]=_0x26d266(0x16c)+_0x282b3a[_0x5d1c82]+_0x26d266(0xd2)+_0x4088ba[_0x26d266(0xcc)]()+_0x26d266(0x109),_0x4f52a6[_0x26d266(0x73)](_0x1a9481);const _0xdf5f8a=document[_0x26d266(0x101)](_0x26d266(0x163));_0xdf5f8a['className']=_0x26d266(0xcf)+(_0x40d5ea?_0x26d266(0x6e):''),_0xdf5f8a[_0x26d266(0xd3)](_0x26d266(0x124),_0x207dde),_0xdf5f8a[_0x26d266(0xd3)](_0x26d266(0x162),_0x5d1c82),_0x3db326[_0x26d266(0x73)](_0xdf5f8a);}_0xdbf476[_0x26d266(0xe7)](_0x4f52a6,_0xdbf476['firstChild']),_0x28c28d[_0x26d266(0xe7)](_0x3db326,_0x28c28d[_0x26d266(0x94)](_0x26d266(0xb1)));}function hexToRgba(_0x268140,_0x5cff7e){const _0x11cf34=a3_0xba3dc9;let _0x599eb8;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x268140))return _0x599eb8=_0x268140[_0x11cf34(0x11e)](0x1)[_0x11cf34(0x87)](''),_0x599eb8[_0x11cf34(0xd7)]==0x3&&(_0x599eb8=[_0x599eb8[0x0],_0x599eb8[0x0],_0x599eb8[0x1],_0x599eb8[0x1],_0x599eb8[0x2],_0x599eb8[0x2]]),_0x599eb8='0x'+_0x599eb8[_0x11cf34(0x76)](''),_0x11cf34(0xc7)+[_0x599eb8>>0x10&0xff,_0x599eb8>>0x8&0xff,_0x599eb8&0xff]['join'](',')+','+_0x5cff7e+')';return _0x11cf34(0x72)+_0x5cff7e+')';}let confirmResolver=null;function showCustomConfirm(_0x40c874,_0x470411,_0x3e9501=!![]){const _0x3b23d9=a3_0xba3dc9;document['getElementById'](_0x3b23d9(0xa1))[_0x3b23d9(0x90)]=_0x40c874,document[_0x3b23d9(0x142)](_0x3b23d9(0x70))['textContent']=_0x470411;const _0x32c0f3=document[_0x3b23d9(0x142)](_0x3b23d9(0xb7));return _0x3e9501?(_0x32c0f3[_0x3b23d9(0xde)][_0x3b23d9(0x12d)]=_0x3b23d9(0xbb),_0x32c0f3[_0x3b23d9(0xde)][_0x3b23d9(0x155)]=_0x3b23d9(0x15c)):(_0x32c0f3['style'][_0x3b23d9(0x12d)]=_0x3b23d9(0xc9),_0x32c0f3[_0x3b23d9(0xde)][_0x3b23d9(0x155)]=_0x3b23d9(0x15c)),new Promise(_0x3cc693=>{const _0xb983f4=_0x3b23d9;confirmResolver=_0x3cc693,document[_0xb983f4(0x142)](_0xb983f4(0x11d))[_0xb983f4(0xf8)][_0xb983f4(0xb8)]('visible');});}function resolveCustomConfirm(_0x1630c7){const _0x322947=a3_0xba3dc9;document[_0x322947(0x142)](_0x322947(0x11d))[_0x322947(0xf8)]['remove'](_0x322947(0xd5));if(confirmResolver)confirmResolver(_0x1630c7);}async function tryCancelCurrentSession(){const _0x1db294=a3_0xba3dc9;if(!currentSession)return;const _0x1c3283=await showCustomConfirm(_0x1db294(0x10c),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x1c3283)return;const _0x13d464=currentSession;closeAllSheets(),sessions=sessions[_0x1db294(0x143)](_0x5cb7f6=>_0x5cb7f6['id']!==_0x13d464['id']),reRenderBlocks(),showToast(_0x1db294(0x140)),lastUserActionTime=Date['now']();try{const _0x2e6b70=window[_0x1db294(0x14a)]?.['WebApp'],_0x344d76=await fetch(API_URL,{'method':_0x1db294(0xe4),'body':JSON[_0x1db294(0x167)]({'action':_0x1db294(0xd1),'init_data':_0x2e6b70?.[_0x1db294(0x14c)]||'','coachId':_0x13d464['coachId'],'dateStr':_0x13d464['dateStr'],'sessionId':_0x13d464['id']})});if(_0x344d76['ok'])DataManager[_0x1db294(0x13c)]();}catch(_0x48de89){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2d7b07=a3_0xba3dc9;if(!currentSession)return;document['getElementById'](_0x2d7b07(0xa8))[_0x2d7b07(0xf8)][_0x2d7b07(0x105)]('open'),document[_0x2d7b07(0x142)](_0x2d7b07(0x9c))[_0x2d7b07(0xf8)][_0x2d7b07(0xb8)](_0x2d7b07(0x86));const _0x321f05=document[_0x2d7b07(0x142)](_0x2d7b07(0x9e)),_0x5b05f9=document[_0x2d7b07(0x142)]('rsSlotsGrid');_0x321f05[_0x2d7b07(0x95)]='',_0x5b05f9[_0x2d7b07(0x95)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x50331f,_0x4404d1]=currentSession[_0x2d7b07(0x12f)][_0x2d7b07(0x87)](':')['map'](Number),[_0x3988aa,_0x117152]=currentSession[_0x2d7b07(0xfd)][_0x2d7b07(0x87)](':')[_0x2d7b07(0x157)](Number),_0x2d035c=_0x3988aa*0x3c+_0x117152-(_0x50331f*0x3c+_0x4404d1);try{const _0x256fed=window[_0x2d7b07(0x14a)]?.[_0x2d7b07(0x80)],_0x38680a=await fetch(API_URL,{'method':'POST','body':JSON[_0x2d7b07(0x167)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x2d035c,'init_data':_0x256fed?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x55e7ea=await _0x38680a[_0x2d7b07(0x112)]();_0x55e7ea['ok']&&_0x55e7ea[_0x2d7b07(0x75)]?(availableSlotsCache=_0x55e7ea['data'],renderRescheduleDates()):_0x5b05f9[_0x2d7b07(0x95)]=_0x2d7b07(0xae);}catch(_0x593cea){_0x5b05f9[_0x2d7b07(0x95)]=_0x2d7b07(0x8b);}}function renderRescheduleDates(){const _0x5c01ac=a3_0xba3dc9,_0x257821=document['getElementById'](_0x5c01ac(0x9e));_0x257821['innerHTML']='';const _0x12a3e6=Object['keys'](availableSlotsCache)[_0x5c01ac(0x71)](),_0x514b8e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x12a3e6[_0x5c01ac(0xd7)]===0x0){document['getElementById'](_0x5c01ac(0x99))['innerHTML']=_0x5c01ac(0x78);return;}_0x12a3e6[_0x5c01ac(0x11a)]((_0x2ad3ba,_0x48733)=>{const _0xec4452=_0x5c01ac,_0x54d037=new Date(_0x2ad3ba),_0x32e151=_0x514b8e[_0x54d037['getDay']()],_0x52d2a4=_0x54d037['getDate'](),_0x32615b=document[_0xec4452(0x101)](_0xec4452(0x163));_0x32615b[_0xec4452(0xef)]=_0xec4452(0xee);if(_0x48733===0x0)_0x32615b[_0xec4452(0xf8)][_0xec4452(0xb8)](_0xec4452(0xa3));_0x32615b[_0xec4452(0x95)]='<div\x20class=\x22rs-day-name\x22>'+_0x32e151+_0xec4452(0x8c)+_0x52d2a4+_0xec4452(0x109),_0x32615b['onclick']=()=>selectRsDate(_0x2ad3ba,_0x32615b),_0x257821['appendChild'](_0x32615b);}),selectRsDate(_0x12a3e6[0x0],_0x257821[_0x5c01ac(0x150)]);}function selectRsDate(_0x3a3595,_0x167a28){const _0x170303=a3_0xba3dc9;selectedRsDate=_0x3a3595,document['querySelectorAll']('.rs-date-chip')['forEach'](_0x55bd2e=>_0x55bd2e[_0x170303(0xf8)][_0x170303(0x105)]('active'));if(_0x167a28)_0x167a28['classList'][_0x170303(0xb8)](_0x170303(0xa3));const _0x10be53=document[_0x170303(0x142)]('rsSlotsGrid');_0x10be53['innerHTML']='';const _0x4a00ce=availableSlotsCache[_0x3a3595]||[];if(_0x4a00ce['length']===0x0){_0x10be53['innerHTML']=_0x170303(0xae);return;}_0x4a00ce[_0x170303(0x11a)](_0x21e1e8=>{const _0x12584d=_0x170303,_0x2cf26c=document[_0x12584d(0x101)]('button');_0x2cf26c[_0x12584d(0xef)]=_0x12584d(0x134),_0x2cf26c[_0x12584d(0x90)]=_0x21e1e8,_0x2cf26c[_0x12584d(0x13f)]=()=>confirmReschedule(_0x21e1e8),_0x10be53['appendChild'](_0x2cf26c);});}async function confirmReschedule(_0x59dc8f){const _0x249068=a3_0xba3dc9,_0x20424c=new Date(selectedRsDate),_0xe4b88f=_0x20424c[_0x249068(0x7c)](_0x249068(0x11b),{'day':_0x249068(0x125),'month':_0x249068(0x107)}),_0xdcefcc=await showCustomConfirm(_0x249068(0x7f),_0x249068(0x7b)+_0xe4b88f+'\x20–≤\x20'+_0x59dc8f+'?',![]);if(!_0xdcefcc)return;closeAllSheets(),showToast(_0x249068(0x89)),lastUserActionTime=Date['now']();const _0x5b01a0=currentSession[_0x249068(0xa2)],_0x563678=currentSession['id'],[_0x50207a,_0x3deafa]=currentSession['start'][_0x249068(0x87)](':')[_0x249068(0x157)](Number),[_0x50254d,_0x89f81b]=currentSession[_0x249068(0xfd)]['split'](':')[_0x249068(0x157)](Number),_0x361814=_0x50254d*0x3c+_0x89f81b-(_0x50207a*0x3c+_0x3deafa),[_0x2e8aff,_0x326f33]=_0x59dc8f[_0x249068(0x87)](':')[_0x249068(0x157)](Number),_0x4abce5=_0x2e8aff*0x3c+_0x326f33+_0x361814,_0x544003=Math[_0x249068(0x15d)](_0x4abce5/0x3c),_0x172da9=_0x4abce5%0x3c,_0x1431ef=String(_0x544003)[_0x249068(0x74)](0x2,'0')+':'+String(_0x172da9)[_0x249068(0x74)](0x2,'0'),_0x5ec858=sessions[_0x249068(0x6c)](_0x39eff0=>_0x39eff0['id']===_0x563678);_0x5ec858!==-0x1&&(sessions[_0x5ec858][_0x249068(0xa2)]=selectedRsDate,sessions[_0x5ec858]['start']=_0x59dc8f,sessions[_0x5ec858][_0x249068(0xfd)]=_0x1431ef,reRenderBlocks());try{const _0x3e05c5=window[_0x249068(0x14a)]?.[_0x249068(0x80)],_0x5b9a76=await fetch(API_URL,{'method':_0x249068(0xe4),'body':JSON['stringify']({'action':_0x249068(0x136),'init_data':_0x3e05c5?.[_0x249068(0x14c)]||'','oldSessionId':_0x563678,'oldDate':_0x5b01a0,'newDate':selectedRsDate,'newTime':_0x59dc8f,'coachId':currentSession['coachId']})}),_0x2986a9=await _0x5b9a76[_0x249068(0x112)]();!_0x2986a9['ok']?(showToast(_0x249068(0xe2)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x249068(0x13c)]());}catch(_0x15e0ef){showToast(_0x249068(0xd6));}}document[a3_0xba3dc9(0x158)](a3_0xba3dc9(0x12a),init);