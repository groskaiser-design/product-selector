const a3_0x2ca891=a3_0x38fe;(function(_0x4c34e0,_0x1d2db3){const _0x23fa05=a3_0x38fe,_0x31ca81=_0x4c34e0();while(!![]){try{const _0x4f75b2=-parseInt(_0x23fa05(0x180))/0x1+parseInt(_0x23fa05(0x190))/0x2*(-parseInt(_0x23fa05(0x175))/0x3)+-parseInt(_0x23fa05(0x194))/0x4*(-parseInt(_0x23fa05(0x125))/0x5)+-parseInt(_0x23fa05(0x1ff))/0x6*(-parseInt(_0x23fa05(0x19b))/0x7)+parseInt(_0x23fa05(0x15c))/0x8*(-parseInt(_0x23fa05(0x12f))/0x9)+-parseInt(_0x23fa05(0x1e2))/0xa+parseInt(_0x23fa05(0x173))/0xb;if(_0x4f75b2===_0x1d2db3)break;else _0x31ca81['push'](_0x31ca81['shift']());}catch(_0x28bcb3){_0x31ca81['push'](_0x31ca81['shift']());}}}(a3_0x2575,0x7a096));const APP_VERSION=a3_0x2ca891(0x161),API_URL=a3_0x2ca891(0x198),GRID_H=0x3c,KEY_SESSIONS=a3_0x2ca891(0x12a),KEY_SETTINGS=a3_0x2ca891(0x1a2),KEY_CLIENTS=a3_0x2ca891(0x1dd);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2ca891(0x1bc),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1ea158=a3_0x2ca891,_0x2cb3c7=(function(){let _0x140eea=!![];return function(_0x315119,_0x2772f6){const _0x41d365=_0x140eea?function(){const _0x309aa9=a3_0x38fe;if(_0x2772f6){const _0x239ce1=_0x2772f6[_0x309aa9(0x131)](_0x315119,arguments);return _0x2772f6=null,_0x239ce1;}}:function(){};return _0x140eea=![],_0x41d365;};}()),_0x5a8541=_0x2cb3c7(this,function(){const _0x470a36=a3_0x38fe;return _0x5a8541[_0x470a36(0x14f)]()[_0x470a36(0x1e1)](_0x470a36(0x1fa))['toString']()[_0x470a36(0x1e5)](_0x5a8541)[_0x470a36(0x1e1)](_0x470a36(0x1fa));});_0x5a8541();try{const _0x534a36=window['Telegram']?.[_0x1ea158(0x164)];if(!_0x534a36)return;_0x534a36['ready'](),_0x534a36['expand']();try{_0x534a36[_0x1ea158(0x200)](_0x1ea158(0x1c9)),_0x534a36[_0x1ea158(0x144)]&&_0x534a36[_0x1ea158(0x144)](_0x1ea158(0x1c9));}catch(_0xa4c606){console[_0x1ea158(0x1a8)](_0x1ea158(0x193),_0xa4c606);}try{_0x534a36[_0x1ea158(0x217)]&&(_0x534a36[_0x1ea158(0x217)]['show'](),_0x534a36[_0x1ea158(0x217)][_0x1ea158(0x218)](),_0x534a36[_0x1ea158(0x217)][_0x1ea158(0x124)](function(){const _0x3090b5=_0x1ea158;window['location'][_0x3090b5(0x1c7)]=_0x3090b5(0x151);}));}catch(_0x16906e){console[_0x1ea158(0x1a8)](_0x1ea158(0x1b6),_0x16906e);}try{if(_0x534a36['disableVerticalSwipes'])_0x534a36[_0x1ea158(0x1ba)]();}catch(_0x18983f){}}catch(_0x7b35f5){console[_0x1ea158(0x19d)](_0x1ea158(0x17b),_0x7b35f5);}}());function isAdmin(){const _0x5dca4b=a3_0x2ca891;try{const _0x1bbad4=Number(window[_0x5dca4b(0x1c1)]?.[_0x5dca4b(0x164)]?.['initDataUnsafe']?.[_0x5dca4b(0x171)]?.['id']);return _0x1bbad4===0xbaf7174;}catch(_0xb7efb6){return![];}}const DataManager={'saveLocally'(){const _0x4ca869=a3_0x2ca891;try{localStorage[_0x4ca869(0x1d3)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4ca869(0x1d3)](KEY_CLIENTS,JSON[_0x4ca869(0x1a0)](clients)),localStorage[_0x4ca869(0x1d3)](KEY_SETTINGS,JSON[_0x4ca869(0x1a0)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4361ca){}},'loadLocal'(){const _0x1ab65e=a3_0x2ca891;try{const _0x3444b0=localStorage[_0x1ab65e(0x201)](KEY_SESSIONS);if(_0x3444b0)sessions=JSON[_0x1ab65e(0x13d)](_0x3444b0);const _0x37eb4f=localStorage[_0x1ab65e(0x201)](KEY_CLIENTS);if(_0x37eb4f)clients=JSON[_0x1ab65e(0x13d)](_0x37eb4f);const _0x434f48=localStorage['getItem'](KEY_SETTINGS);if(_0x434f48){const _0x3cdfae=JSON[_0x1ab65e(0x13d)](_0x434f48);if(_0x3cdfae['pattern'])availabilityPattern=_0x3cdfae[_0x1ab65e(0x13f)];if(_0x3cdfae[_0x1ab65e(0x1c3)])specialRanges=_0x3cdfae['ranges'];if(_0x3cdfae[_0x1ab65e(0x19a)])dateExceptions=_0x3cdfae[_0x1ab65e(0x19a)];}}catch(_0x367cc6){}},async 'syncLoad'(){const _0x1c5f35=a3_0x2ca891,_0x135e82=new Date(),_0x58b728=_0x135e82['getFullYear']()+'-'+String(_0x135e82[_0x1c5f35(0x155)]()+0x1)[_0x1c5f35(0x15a)](0x2,'0'),_0x11c7b6=new Date(_0x135e82);_0x11c7b6[_0x1c5f35(0x1d5)](_0x135e82['getMonth']()+0x1);const _0x2827b7=_0x11c7b6[_0x1c5f35(0x16c)]()+'-'+String(_0x11c7b6[_0x1c5f35(0x155)]()+0x1)[_0x1c5f35(0x15a)](0x2,'0'),_0x22a288=Date[_0x1c5f35(0x150)]();try{const _0x20634c=window[_0x1c5f35(0x1c1)]?.['WebApp'],_0x3c6254=_0x20634c?.[_0x1c5f35(0x1cf)]||'',[_0x13776c,_0x9a1f0e]=await Promise[_0x1c5f35(0x162)]([fetch(API_URL,{'method':_0x1c5f35(0x1ce),'body':JSON[_0x1c5f35(0x1a0)]({'action':_0x1c5f35(0x156),'init_data':_0x3c6254,'month_str':_0x58b728})})[_0x1c5f35(0x20e)](_0x33d92f=>_0x33d92f[_0x1c5f35(0x1c5)]()),fetch(API_URL,{'method':_0x1c5f35(0x1ce),'body':JSON[_0x1c5f35(0x1a0)]({'action':_0x1c5f35(0x156),'init_data':_0x3c6254,'month_str':_0x2827b7})})[_0x1c5f35(0x20e)](_0x3c66b8=>_0x3c66b8[_0x1c5f35(0x1c5)]())]);if(lastUserActionTime>_0x22a288){console['log'](_0x1c5f35(0x18f));return;}if(_0x13776c['ok'])this[_0x1c5f35(0x20f)](_0x13776c['data'],_0x58b728);if(_0x9a1f0e['ok'])this['applyData'](_0x9a1f0e[_0x1c5f35(0x141)],_0x2827b7);this[_0x1c5f35(0x1b2)]();}catch(_0x12184d){}},'applyData'(_0x160872,_0x27b25a){const _0x5656e5=a3_0x2ca891;if(!_0x160872)return;if(_0x160872[_0x5656e5(0x1b7)]){if(_0x160872[_0x5656e5(0x1b7)][_0x5656e5(0x13f)])availabilityPattern=_0x160872['settings'][_0x5656e5(0x13f)];if(_0x160872[_0x5656e5(0x1b7)][_0x5656e5(0x1c3)])specialRanges=_0x160872[_0x5656e5(0x1b7)]['ranges'];if(_0x160872[_0x5656e5(0x1b7)][_0x5656e5(0x19a)])dateExceptions=_0x160872[_0x5656e5(0x1b7)][_0x5656e5(0x19a)];}if(_0x160872['clients']&&Array[_0x5656e5(0x184)](_0x160872[_0x5656e5(0x19f)]))clients=_0x160872[_0x5656e5(0x19f)];_0x160872['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x160872[_0x5656e5(0x146)]}),_0x160872['calendar']&&(sessions=sessions['filter'](_0x39a4fe=>!_0x39a4fe['dateStr'][_0x5656e5(0x1b5)](_0x27b25a)),Object['keys'](_0x160872[_0x5656e5(0x1ea)])['forEach'](_0x21f6ed=>{const _0x4833ee=_0x5656e5,_0xc9354b=_0x160872[_0x4833ee(0x1ea)][_0x21f6ed];_0xc9354b[_0x4833ee(0x187)](_0x3fc997=>{const _0x1a3b13=_0x4833ee;sessions[_0x1a3b13(0x1c6)]({'id':_0x3fc997['i'],'clientId':_0x3fc997['c'],'coachId':_0x3fc997[_0x1a3b13(0x1af)],'dateStr':_0x27b25a+'-'+_0x21f6ed['padStart'](0x2,'0'),'start':_0x3fc997['s'],'end':_0x3fc997['e'],'note':_0x3fc997['n']||'','status':_0x3fc997['st']||'planned','seriesId':_0x3fc997[_0x1a3b13(0x192)]});});})),reRenderBlocks();}};function init(){const _0x2d272c=a3_0x2ca891;DataManager[_0x2d272c(0x158)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2d272c(0x188)](_0x2d272c(0x1ae))[_0x2d272c(0x159)](_0x2d272c(0x168),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2d272c(0x178)]();}function a3_0x2575(){const _0x5d4511=['scrollLeft','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getMonth','client_load','status','loadLocal','addEventListener','padStart','setHours','2168Cgzmts','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','detDate','#0a84ff','floor','v9.5-CLIENT-ANALYTICS','all','time-label','WebApp','px\x20-','display','<div\x20class=\x22rs-day-name\x22>','scroll','.period-switch\x20.p-btn','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','rsDatesTrack','getFullYear','rs-time-btn','coachId','calc(','scrollWidth','user','show','13751672fhEAck','cancelled','69402yubPpJ','querySelectorAll','getAttribute','syncLoad','entries','max','Critical\x20TMA\x20Error:','ccText','%\x20+\x202px)','toLocaleDateString','reschedule','493707KyUVBk','getHours','rgba(10,\x20132,\x20255,\x20','%\x20-\x204px)','isArray','setAttribute','toUpperCase','forEach','getElementById','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','.rs-date-chip','min','</div><div\x20class=\x22rs-day-num\x22>','zIndex','<span>','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','34gprlbb','600','sid','Error\x20setting\x20color:','4hsTiLF','charAt','total','anStart','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','colIndex','exceptions','21vJHYsC','toLocaleString','error','Unknown','clients','stringify','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','uc_client_settings','<div\x20class=\x22dch-day\x22>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','none','setDate','block','log','firstChild','findIndex','insertBefore','color','borderLeftColor','matrixViewport','cid','fontWeight','dateStr','saveLocally','className','detailsSheet','startsWith','Error\x20setting\x20back\x20button:','settings','find','overlay','disableVerticalSwipes','onclick','week','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','end','day-column\x20','Telegram','\x20status-completed','ranges','timeLineBadge','json','push','href','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','#050505','headerMonth','</div><div\x20class=\x22dch-num\x22>','createElement','day-col-header\x20','POST','initData','test','button','var(--acc-blue)','setItem','remove','setMonth','numeric','globalTimeLine','long','offsetWidth','getMinutes','detNote','cancel_window','uc_client_list','filter','backgroundPosition','anPercent','search','9352310FmqurK','substr','start','constructor','split','.day-column','data-date',':00</span>','calendar','cancelHint','blocked-slot\x20stripe-bg','completed','analyticsSheet','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','done','scrollTop','height','anTotalStats','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','querySelector','getDate','\x20–∏–∑\x20','(((.+)+)+)+$','round','seriesId','active','customConfirm','1021350uVluRH','setHeaderColor','getItem','.day-col-header','left','add','anEnd','length','data-day-idx','ccTitle','value','top','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','width','offsetLeft','then','applyData','classList','getTime','event-card','textContent','daysHeaderTrack','div','.btn-reschedule','BackButton','offClick','slice','.day-col-header[data-date=\x22','var(--acc-green)','flex','onClick','3873995bTkome','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','analyticsList','blocked-range-part\x20stripe-bg','visible','uc_client_sessions','createDocumentFragment','custom','day-off-overlay\x20stripe-bg','substring','7092nYEtOe','</span>\x20/\x20','apply','today','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','get_slots','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','</div>','map','backgroundColor','cancelContainer','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','parse','style','pattern','auto','data','toast','rs-date-chip','setBackgroundColor','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','coach_profiles','join','–∑–∞\x20','rsSlotsGrid','open','appendChild','innerHTML','–û—Ç–º–µ–Ω–µ–Ω–æ','px\x200px','toString','now','router.html','rescheduleSheet'];a3_0x2575=function(){return _0x5d4511;};return a3_0x2575();}function renderTimeColumn(){const _0x4e28a9=a3_0x2ca891,_0x25234d=document[_0x4e28a9(0x188)]('timeColumn'),_0x5e9887=document['getElementById']('timeLineBadge');_0x25234d[_0x4e28a9(0x14c)]='',_0x25234d['appendChild'](_0x5e9887);for(let _0x4f3558=0x0;_0x4f3558<0x18;_0x4f3558++){const _0x294645=document[_0x4e28a9(0x1cc)](_0x4e28a9(0x215));_0x294645[_0x4e28a9(0x1b3)]=_0x4e28a9(0x163);if(_0x4f3558>0x0)_0x294645[_0x4e28a9(0x14c)]=_0x4e28a9(0x18e)+String(_0x4f3558)['padStart'](0x2,'0')+_0x4e28a9(0x1e9);_0x25234d[_0x4e28a9(0x14b)](_0x294645);}}function renderDayRange(_0xf1fdd8,_0x2bcc1f){const _0x309859=a3_0x2ca891,_0xdb53c5=document[_0x309859(0x188)](_0x309859(0x214)),_0x41d53f=document['getElementById']('gridColumns'),_0x36a1f1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c8c57=new Date();_0x1c8c57['setHours'](0x0,0x0,0x0,0x0);const _0x52c1da=getLocalDateStr(new Date());for(let _0x39011e=_0xf1fdd8;_0x39011e<=_0x2bcc1f;_0x39011e++){const _0x2357c6=new Date(_0x1c8c57);_0x2357c6[_0x309859(0x1a6)](_0x2357c6[_0x309859(0x1f8)]()+_0x39011e);const _0x563cbf=getLocalDateStr(_0x2357c6);let _0x587366=_0x2357c6[_0x309859(0x1f5)]()-0x1;if(_0x587366===-0x1)_0x587366=0x6;const _0x4ae071=_0x563cbf===_0x52c1da,_0x2c2159=document[_0x309859(0x1cc)](_0x309859(0x215));_0x2c2159[_0x309859(0x1b3)]=_0x309859(0x1cd)+(_0x4ae071?_0x309859(0x132):''),_0x2c2159[_0x309859(0x185)](_0x309859(0x1e8),_0x563cbf),_0x2c2159['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x36a1f1[_0x587366]+_0x309859(0x1cb)+_0x2357c6['getDate']()+_0x309859(0x138),_0xdb53c5[_0x309859(0x14b)](_0x2c2159);const _0x4dae3d=document[_0x309859(0x1cc)](_0x309859(0x215));_0x4dae3d[_0x309859(0x1b3)]=_0x309859(0x1c0)+(_0x4ae071?'today':''),_0x4dae3d[_0x309859(0x185)](_0x309859(0x1e8),_0x563cbf),_0x4dae3d['setAttribute'](_0x309859(0x207),_0x587366),_0x41d53f[_0x309859(0x14b)](_0x4dae3d);}}function a3_0x38fe(_0x42654b,_0x522889){_0x42654b=_0x42654b-0x120;const _0x25d3ff=a3_0x2575();let _0x264b97=_0x25d3ff[_0x42654b];return _0x264b97;}function reRenderBlocks(){const _0x27f885=a3_0x2ca891;document[_0x27f885(0x176)](_0x27f885(0x1e7))[_0x27f885(0x187)](_0x3a4285=>{const _0x88e993=_0x27f885;_0x3a4285[_0x88e993(0x176)](_0x88e993(0x154))['forEach'](_0x133cf3=>_0x133cf3[_0x88e993(0x1d4)]());const _0x54ae38=_0x3a4285[_0x88e993(0x177)](_0x88e993(0x1e8)),_0x6f6bf9=parseInt(_0x3a4285[_0x88e993(0x177)](_0x88e993(0x207))),_0x2141c6=Math[_0x88e993(0x1fb)](_0x3a4285[_0x88e993(0x20d)]);(availabilityPattern[_0x6f6bf9]||[])['forEach'](_0x517231=>{const _0x2df677=_0x88e993,_0x2fc4d1=document[_0x2df677(0x1cc)](_0x2df677(0x215));_0x2fc4d1[_0x2df677(0x1b3)]=_0x2df677(0x1ec),_0x2fc4d1[_0x2df677(0x13e)][_0x2df677(0x20a)]=_0x517231*GRID_H+'px',_0x2fc4d1[_0x2df677(0x13e)][_0x2df677(0x1df)]='-'+_0x2141c6+_0x2df677(0x165)+_0x517231*GRID_H+'px',_0x3a4285[_0x2df677(0x14b)](_0x2fc4d1);});if(specialRanges[_0x88e993(0x206)]>0x0){const _0x4e3a19=new Date(_0x54ae38+'T00:00:00')['getTime'](),_0x2a5078=new Date(_0x54ae38+'T23:59:59')[_0x88e993(0x211)]();specialRanges[_0x88e993(0x187)](_0x3d88e7=>{const _0x5bd792=_0x88e993,_0x1155aa=new Date(_0x3d88e7[_0x5bd792(0x1e4)])[_0x5bd792(0x211)](),_0x576c19=new Date(_0x3d88e7[_0x5bd792(0x1bf)])['getTime'](),_0x4f3c11=Math[_0x5bd792(0x17a)](_0x4e3a19,_0x1155aa),_0xe49543=Math[_0x5bd792(0x18b)](_0x2a5078,_0x576c19);if(_0x4f3c11<_0xe49543){const _0x3f1530=(_0x4f3c11-_0x4e3a19)/0x36ee80*GRID_H,_0x10c2ea=(_0xe49543-_0x4f3c11)/0x36ee80*GRID_H,_0x84791e=document[_0x5bd792(0x1cc)]('div');_0x10c2ea>=23.5*GRID_H?(_0x84791e[_0x5bd792(0x1b3)]=_0x5bd792(0x12d),_0x84791e[_0x5bd792(0x13e)][_0x5bd792(0x1df)]='-'+_0x2141c6+_0x5bd792(0x14e)):(_0x84791e['className']=_0x5bd792(0x128),_0x84791e[_0x5bd792(0x13e)][_0x5bd792(0x20a)]=_0x3f1530+'px',_0x84791e[_0x5bd792(0x13e)][_0x5bd792(0x1f3)]=_0x10c2ea+'px',_0x84791e['style'][_0x5bd792(0x1df)]='-'+_0x2141c6+_0x5bd792(0x165)+_0x3f1530+'px'),_0x3a4285[_0x5bd792(0x14b)](_0x84791e);}});}renderEventsForColumn(_0x3a4285,_0x54ae38);});}function renderEventsForColumn(_0x5885bc,_0x5ae06c){const _0x584e7b=a3_0x2ca891,_0x425235=sessions[_0x584e7b(0x1de)](_0x6c7d0e=>_0x6c7d0e[_0x584e7b(0x1b1)]===_0x5ae06c),_0x49ad44=_0x425235['map'](_0x4d0a3d=>{const _0x430352=_0x584e7b,[_0xfd2f1e,_0x587210]=_0x4d0a3d[_0x430352(0x1e4)][_0x430352(0x1e6)](':')[_0x430352(0x139)](Number),[_0x264fdb,_0x2a48c9]=_0x4d0a3d[_0x430352(0x1bf)][_0x430352(0x1e6)](':')['map'](Number);return{'data':_0x4d0a3d,'start':_0xfd2f1e*0x3c+_0x587210,'end':_0x264fdb*0x3c+_0x2a48c9,'colIndex':0x0};});_0x49ad44['sort']((_0x56ee91,_0x2e5f28)=>_0x56ee91[_0x584e7b(0x1e4)]-_0x2e5f28[_0x584e7b(0x1e4)]||_0x2e5f28['end']-_0x2e5f28[_0x584e7b(0x1e4)]-(_0x56ee91[_0x584e7b(0x1bf)]-_0x56ee91['start']));const _0x3136c2=[];_0x49ad44['forEach'](_0x31059c=>{const _0x5c52b7=_0x584e7b;let _0x9c1663=![];for(let _0x2bab05=0x0;_0x2bab05<_0x3136c2[_0x5c52b7(0x206)];_0x2bab05++){const _0x3e2659=_0x3136c2[_0x2bab05];if(_0x31059c[_0x5c52b7(0x1e4)]>=_0x3e2659[_0x3e2659[_0x5c52b7(0x206)]-0x1][_0x5c52b7(0x1bf)]){_0x3e2659[_0x5c52b7(0x1c6)](_0x31059c),_0x31059c[_0x5c52b7(0x199)]=_0x2bab05,_0x9c1663=!![];break;}}!_0x9c1663&&(_0x3136c2[_0x5c52b7(0x1c6)]([_0x31059c]),_0x31059c[_0x5c52b7(0x199)]=_0x3136c2['length']-0x1);}),_0x49ad44['forEach'](_0x559529=>{const _0x37c687=_0x584e7b;let _0x15ed2e=0x0;_0x49ad44[_0x37c687(0x187)](_0x24b8ec=>{const _0x2d6c11=_0x37c687;if(Math['max'](_0x559529['start'],_0x24b8ec[_0x2d6c11(0x1e4)])<Math[_0x2d6c11(0x18b)](_0x559529[_0x2d6c11(0x1bf)],_0x24b8ec[_0x2d6c11(0x1bf)])&&_0x24b8ec[_0x2d6c11(0x199)]>_0x15ed2e)_0x15ed2e=_0x24b8ec[_0x2d6c11(0x199)];});const _0x5dd9a1=_0x15ed2e+0x1,_0x35dc09=0x64/_0x5dd9a1,_0x84c3a5=_0x559529['colIndex']*_0x35dc09,_0x6ae401=document[_0x37c687(0x1cc)](_0x37c687(0x215)),_0xedfd97=_0x559529[_0x37c687(0x141)];let _0xae1450=_0x37c687(0x15f);if(clients&&clients[_0x37c687(0x206)]>0x0){const _0x20a234=clients[_0x37c687(0x1b8)](_0x39f5c3=>String(_0x39f5c3['id'])===String(_0xedfd97['clientId']));if(_0x20a234&&_0x20a234[_0x37c687(0x1ac)])_0xae1450=_0x20a234[_0x37c687(0x1ac)];}const _0x400e19=_0xedfd97[_0x37c687(0x157)]===_0x37c687(0x1ed),_0x46edfd=_0x400e19?0x1:0.45;_0x6ae401[_0x37c687(0x1b3)]=_0x37c687(0x212)+(_0x400e19?_0x37c687(0x1c2):''),_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x13a)]=hexToRgba(_0xae1450,_0x46edfd),_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x1ad)]=_0xae1450;const _0x2ab724=_0x559529[_0x37c687(0x1e4)]/0x3c*GRID_H,_0x25465a=(_0x559529[_0x37c687(0x1bf)]-_0x559529[_0x37c687(0x1e4)])/0x3c*GRID_H;_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x20a)]=_0x2ab724+'px',_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x1f3)]=Math[_0x37c687(0x17a)](_0x25465a,0x14)+'px',_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x20c)]='calc('+_0x35dc09+_0x37c687(0x183),_0x6ae401['style'][_0x37c687(0x203)]=_0x37c687(0x16f)+_0x84c3a5+_0x37c687(0x17d),_0x6ae401[_0x37c687(0x13e)][_0x37c687(0x18d)]=0xa+_0x559529['colIndex'];if(_0x35dc09<0x55)_0x6ae401[_0x37c687(0x210)]['add']('mini');let _0xf11b40='';if(_0xedfd97[_0x37c687(0x1fc)])_0xf11b40+=_0x37c687(0x16a);if(_0x400e19)_0xf11b40+=_0x37c687(0x1be);_0x6ae401[_0x37c687(0x14c)]=_0x37c687(0x135)+_0xedfd97[_0x37c687(0x1e4)]+'\x20-\x20'+_0xedfd97[_0x37c687(0x1bf)]+_0x37c687(0x133)+_0xf11b40+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x6ae401[_0x37c687(0x1bb)]=_0xa17d9a=>{_0xa17d9a['stopPropagation'](),openDetails(_0xedfd97);},_0x5885bc[_0x37c687(0x14b)](_0x6ae401);});}function openAnalytics(){const _0xfaf26e=a3_0x2ca891,_0x5a366f=document['querySelector'](_0xfaf26e(0x169));setAnalyticsPeriod(_0xfaf26e(0x1bc),_0x5a366f),openSheet(_0xfaf26e(0x1ee));}function setAnalyticsPeriod(_0x500f18,_0x731aec){const _0x18997c=a3_0x2ca891;currentAnPeriod=_0x500f18,document[_0x18997c(0x176)]('.period-switch\x20.p-btn')['forEach'](_0x309516=>_0x309516[_0x18997c(0x210)]['remove'](_0x18997c(0x1fd)));if(_0x731aec)_0x731aec[_0x18997c(0x210)]['add'](_0x18997c(0x1fd));const _0x26da2=document[_0x18997c(0x188)]('anCustomDates');_0x26da2[_0x18997c(0x13e)]['display']=_0x500f18===_0x18997c(0x12c)?_0x18997c(0x123):_0x18997c(0x1a5);const _0x1835f7=new Date();let _0x150f26=new Date(),_0x14acdb=new Date();if(_0x500f18===_0x18997c(0x1bc))_0x150f26=getStartOfWeek(_0x1835f7),_0x14acdb=new Date(_0x150f26),_0x14acdb['setDate'](_0x14acdb[_0x18997c(0x1f8)]()+0x6);else{if(_0x500f18==='month')_0x150f26=new Date(_0x1835f7[_0x18997c(0x16c)](),_0x1835f7[_0x18997c(0x155)](),0x1),_0x14acdb=new Date(_0x1835f7[_0x18997c(0x16c)](),_0x1835f7[_0x18997c(0x155)]()+0x1,0x0);else{!document[_0x18997c(0x188)](_0x18997c(0x197))[_0x18997c(0x209)]&&(document[_0x18997c(0x188)]('anStart')[_0x18997c(0x209)]=getLocalDateStr(_0x1835f7),document['getElementById'](_0x18997c(0x205))[_0x18997c(0x209)]=getLocalDateStr(_0x1835f7));refreshAnalytics();return;}}document[_0x18997c(0x188)](_0x18997c(0x197))[_0x18997c(0x209)]=getLocalDateStr(_0x150f26),document[_0x18997c(0x188)](_0x18997c(0x205))['value']=getLocalDateStr(_0x14acdb),refreshAnalytics();}function refreshAnalytics(){const _0x2ce5e8=a3_0x2ca891,_0x5a60e0=document[_0x2ce5e8(0x188)](_0x2ce5e8(0x197))['value'],_0x14349a=document['getElementById'](_0x2ce5e8(0x205))[_0x2ce5e8(0x209)];if(!_0x5a60e0||!_0x14349a)return;const _0x4dafc0=sessions[_0x2ce5e8(0x1de)](_0x7b8d22=>_0x7b8d22[_0x2ce5e8(0x1b1)]>=_0x5a60e0&&_0x7b8d22['dateStr']<=_0x14349a&&_0x7b8d22[_0x2ce5e8(0x157)]!==_0x2ce5e8(0x174)),_0x4478ff=_0x4dafc0[_0x2ce5e8(0x206)],_0x52ff20=_0x4dafc0[_0x2ce5e8(0x1de)](_0x53379a=>_0x53379a[_0x2ce5e8(0x157)]===_0x2ce5e8(0x1ed))['length'],_0x229d47=_0x4478ff>0x0?Math[_0x2ce5e8(0x1fb)](_0x52ff20/_0x4478ff*0x64):0x0;document[_0x2ce5e8(0x188)](_0x2ce5e8(0x1e0))[_0x2ce5e8(0x213)]=_0x229d47+'%',document[_0x2ce5e8(0x188)](_0x2ce5e8(0x1f4))[_0x2ce5e8(0x213)]=_0x52ff20+_0x2ce5e8(0x1f9)+_0x4478ff+_0x2ce5e8(0x137);const _0x2f5b07=document[_0x2ce5e8(0x188)]('anDonutCircle'),_0xbb7f13=0x2*Math['PI']*0x23,_0x487122=_0xbb7f13-_0x229d47/0x64*_0xbb7f13;_0x2f5b07[_0x2ce5e8(0x13e)]['strokeDashoffset']=_0x487122;const _0x3b6c53={};_0x4dafc0[_0x2ce5e8(0x187)](_0x36b1de=>{const _0x279db1=_0x2ce5e8,_0x448f0a=_0x36b1de[_0x279db1(0x16e)]||_0x279db1(0x19e);if(!_0x3b6c53[_0x448f0a]){const _0x5b07c6='#'+_0x448f0a[_0x279db1(0x14f)]()[_0x279db1(0x1e3)](0x0,0x6);_0x3b6c53[_0x448f0a]={'total':0x0,'done':0x0,'color':_0x5b07c6};}_0x3b6c53[_0x448f0a]['total']++;if(_0x36b1de[_0x279db1(0x157)]===_0x279db1(0x1ed))_0x3b6c53[_0x448f0a]['done']++;});const _0x22e9e0=document['getElementById'](_0x2ce5e8(0x127));_0x22e9e0[_0x2ce5e8(0x14c)]='';const _0x52e58d=Object[_0x2ce5e8(0x179)](_0x3b6c53)['sort']((_0x281730,_0x192152)=>_0x192152[0x1][_0x2ce5e8(0x196)]-_0x281730[0x1][_0x2ce5e8(0x196)]);if(_0x52e58d['length']===0x0){_0x22e9e0[_0x2ce5e8(0x14c)]=_0x2ce5e8(0x20b);return;}_0x52e58d[_0x2ce5e8(0x187)](([_0x272fd7,_0x53c7f7])=>{const _0x42988b=_0x2ce5e8,_0x372dcb=Math[_0x42988b(0x1fb)](_0x53c7f7[_0x42988b(0x1f1)]/_0x53c7f7[_0x42988b(0x196)]*0x64),_0x415286=document[_0x42988b(0x1cc)](_0x42988b(0x215));_0x415286[_0x42988b(0x1b3)]='client-stat-card',_0x415286[_0x42988b(0x13e)][_0x42988b(0x1ad)]=_0x53c7f7['color'],_0x415286[_0x42988b(0x14c)]=_0x42988b(0x1f6)+_0x272fd7['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x53c7f7[_0x42988b(0x1f1)]+_0x42988b(0x130)+_0x53c7f7['total']+_0x42988b(0x189)+_0x372dcb+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x22e9e0[_0x42988b(0x14b)](_0x415286);});}function openDetails(_0x3594ad){const _0xce505=a3_0x2ca891;currentSession=_0x3594ad;const _0x322485=new Date(_0x3594ad[_0xce505(0x1b1)]),_0x58557a=_0x322485[_0xce505(0x17e)]('ru-RU',{'weekday':'long','day':'numeric','month':'long'});document['getElementById'](_0xce505(0x15e))[_0xce505(0x213)]=_0x58557a[_0xce505(0x195)](0x0)[_0xce505(0x186)]()+_0x58557a[_0xce505(0x120)](0x1),document[_0xce505(0x188)]('detTime')[_0xce505(0x213)]=_0x3594ad[_0xce505(0x1e4)]+'\x20-\x20'+_0x3594ad[_0xce505(0x1bf)],document[_0xce505(0x188)](_0xce505(0x1db))[_0xce505(0x213)]=_0x3594ad['note']||_0xce505(0x145);const _0x3d2e50=document['getElementById']('detStatus'),_0x1168d9=document[_0xce505(0x188)](_0xce505(0x13b)),_0xd9d038=_0x1168d9['querySelector']('.btn-cancel'),_0x2adfe6=_0x1168d9['querySelector'](_0xce505(0x216)),_0x58d519=document[_0xce505(0x188)](_0xce505(0x1eb));if(_0x3594ad['status']==='completed')_0x3d2e50[_0xce505(0x213)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x3d2e50[_0xce505(0x13e)][_0xce505(0x1ac)]=_0xce505(0x122),_0x1168d9[_0xce505(0x13e)]['display']=_0xce505(0x1a5);else{_0x3d2e50['textContent']=_0xce505(0x1a1),_0x3d2e50[_0xce505(0x13e)][_0xce505(0x1ac)]=_0xce505(0x1d2),_0x1168d9['style'][_0xce505(0x166)]=_0xce505(0x1a7);const _0x1d92bc=new Date(_0x3594ad[_0xce505(0x1b1)]+'T'+_0x3594ad[_0xce505(0x1e4)]),_0x3d5ed4=new Date(),_0x3a9223=(_0x1d92bc-_0x3d5ed4)/(0x3e8*0x3c*0x3c),_0x45a0ae=coachProfiles[_0x3594ad['coachId']]&&coachProfiles[_0x3594ad[_0xce505(0x16e)]][_0xce505(0x1dc)]?parseInt(coachProfiles[_0x3594ad[_0xce505(0x16e)]][_0xce505(0x1dc)]):0x18;if(_0x45a0ae===0x0||_0x3a9223>=_0x45a0ae)_0xd9d038[_0xce505(0x13e)]['display']=_0xce505(0x1a7),_0x2adfe6[_0xce505(0x13e)]['display']=_0xce505(0x1a7),_0x58d519['style']['display']=_0xce505(0x1a5);else{_0xd9d038['style'][_0xce505(0x166)]=_0xce505(0x1a5),_0x2adfe6[_0xce505(0x13e)][_0xce505(0x166)]='none',_0x58d519[_0xce505(0x13e)][_0xce505(0x166)]=_0xce505(0x1a7);let _0x29a059=_0x45a0ae===0x0?_0xce505(0x1f0):_0xce505(0x148)+_0x45a0ae+'\x20—á.';_0x58d519[_0xce505(0x213)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x29a059+_0xce505(0x15d);}}document['getElementById'](_0xce505(0x1b9))[_0xce505(0x210)][_0xce505(0x204)]('active'),document['getElementById'](_0xce505(0x1b4))[_0xce505(0x210)][_0xce505(0x204)]('open');}function closeAllSheets(){const _0x507637=a3_0x2ca891;document[_0x507637(0x188)](_0x507637(0x1b9))[_0x507637(0x210)][_0x507637(0x1d4)](_0x507637(0x1fd)),document[_0x507637(0x176)]('.sheet')[_0x507637(0x187)](_0x7f01df=>_0x7f01df[_0x507637(0x210)][_0x507637(0x1d4)](_0x507637(0x14a)));}function openSheet(_0x2f7b31){const _0x46f105=a3_0x2ca891;document[_0x46f105(0x188)]('overlay')[_0x46f105(0x210)][_0x46f105(0x204)](_0x46f105(0x1fd)),document['getElementById'](_0x2f7b31)['classList'][_0x46f105(0x204)](_0x46f105(0x14a));}function getLocalDateStr(_0x1e2bd7){const _0xc62d4b=a3_0x2ca891,_0x2cbcaa=_0x1e2bd7[_0xc62d4b(0x16c)](),_0xe44ac1=String(_0x1e2bd7[_0xc62d4b(0x155)]()+0x1)[_0xc62d4b(0x15a)](0x2,'0'),_0x27917b=String(_0x1e2bd7['getDate']())[_0xc62d4b(0x15a)](0x2,'0');return _0x2cbcaa+'-'+_0xe44ac1+'-'+_0x27917b;}function getStartOfWeek(_0x4a9dcb){const _0x265a46=a3_0x2ca891,_0x3e3beb=new Date(_0x4a9dcb),_0x1f1f20=_0x3e3beb[_0x265a46(0x1f5)](),_0x5d7e58=_0x3e3beb[_0x265a46(0x1f8)]()-_0x1f1f20+(_0x1f1f20===0x0?-0x6:0x1);return _0x3e3beb[_0x265a46(0x1a6)](_0x5d7e58),_0x3e3beb[_0x265a46(0x15b)](0x0,0x0,0x0,0x0),_0x3e3beb;}function scrollToToday(){const _0x5437f8=getLocalDateStr(new Date());setTimeout(()=>{const _0x42b0d6=a3_0x38fe,_0x313940=document['querySelector'](_0x42b0d6(0x121)+_0x5437f8+'\x22]');if(_0x313940){const _0x26b0e1=document[_0x42b0d6(0x188)]('matrixViewport'),_0x29dced=_0x313940['offsetLeft']-_0x26b0e1[_0x42b0d6(0x134)]/0x2+_0x313940[_0x42b0d6(0x1d9)]/0x2;_0x26b0e1['scrollTo']({'left':_0x29dced,'behavior':_0x42b0d6(0x140)}),_0x26b0e1[_0x42b0d6(0x1f2)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2d779b=a3_0x2ca891,_0x419ed0=new Date(),_0x20493e=document[_0x2d779b(0x188)](_0x2d779b(0x1d7)),_0x21e5a8=document[_0x2d779b(0x188)](_0x2d779b(0x1c4)),_0x2446a0=(_0x419ed0[_0x2d779b(0x181)]()*0x3c+_0x419ed0[_0x2d779b(0x1da)]())/0x3c*GRID_H;_0x20493e[_0x2d779b(0x13e)][_0x2d779b(0x20a)]=_0x2446a0+'px',_0x20493e['style'][_0x2d779b(0x166)]=_0x2d779b(0x1a7),_0x21e5a8['style']['top']=_0x2446a0+'px',_0x21e5a8['style'][_0x2d779b(0x166)]=_0x2d779b(0x1a7),_0x21e5a8[_0x2d779b(0x213)]=String(_0x419ed0[_0x2d779b(0x181)]())['padStart'](0x2,'0')+':'+String(_0x419ed0[_0x2d779b(0x1da)]())['padStart'](0x2,'0');}function onScroll(){const _0x3e1684=a3_0x2ca891,_0x208c9b=document[_0x3e1684(0x188)](_0x3e1684(0x1ae)),_0x486d18=document[_0x3e1684(0x176)](_0x3e1684(0x202));for(let _0x346848 of _0x486d18)if(_0x346848[_0x3e1684(0x20d)]>=_0x208c9b['scrollLeft']){const _0x204c81=new Date(_0x346848[_0x3e1684(0x177)](_0x3e1684(0x1e8)));document[_0x3e1684(0x188)](_0x3e1684(0x1ca))['textContent']=_0x204c81[_0x3e1684(0x19c)]('ru',{'month':'long'})[_0x3e1684(0x186)]()+'\x20'+_0x204c81[_0x3e1684(0x16c)]();break;}}function showToast(_0x65126a){const _0x2c6107=a3_0x2ca891,_0x3bd414=document[_0x2c6107(0x188)](_0x2c6107(0x142));_0x3bd414[_0x2c6107(0x213)]=_0x65126a,_0x3bd414[_0x2c6107(0x210)][_0x2c6107(0x204)](_0x2c6107(0x172)),setTimeout(()=>_0x3bd414[_0x2c6107(0x210)][_0x2c6107(0x1d4)](_0x2c6107(0x172)),0x7d0);}function handleInfiniteScroll(){const _0x5d78dd=a3_0x2ca891,_0x23e252=document[_0x5d78dd(0x188)]('matrixViewport'),_0x1435ec=_0x23e252[_0x5d78dd(0x153)],_0x4695b3=_0x23e252[_0x5d78dd(0x170)],_0x4167df=_0x23e252[_0x5d78dd(0x134)];if(_0x4695b3-(_0x1435ec+_0x4167df)<0x12c){const _0x34c0f8=endOffset;endOffset+=0xe,renderDayRange(_0x34c0f8+0x1,endOffset),reRenderBlocks();}if(_0x1435ec<0x12c){const _0x34ad71=startOffset;startOffset-=0xe,prependDays(startOffset,_0x34ad71-0x1),_0x23e252['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x435092,_0x12828f){const _0x12a9aa=a3_0x2ca891,_0x107784=document['getElementById'](_0x12a9aa(0x214)),_0x188bd5=document['getElementById']('gridColumns'),_0xee5602=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6db72=new Date();_0x6db72['setHours'](0x0,0x0,0x0,0x0);const _0x1d8b75=getLocalDateStr(new Date()),_0x53475e=document[_0x12a9aa(0x12b)](),_0x13a471=document[_0x12a9aa(0x12b)]();for(let _0x1fb784=_0x435092;_0x1fb784<=_0x12828f;_0x1fb784++){const _0x21d7de=new Date(_0x6db72);_0x21d7de[_0x12a9aa(0x1a6)](_0x21d7de['getDate']()+_0x1fb784);const _0x43b837=getLocalDateStr(_0x21d7de);let _0x1cc117=_0x21d7de[_0x12a9aa(0x1f5)]()-0x1;if(_0x1cc117===-0x1)_0x1cc117=0x6;const _0x116b20=_0x43b837===_0x1d8b75,_0x1d3829=document[_0x12a9aa(0x1cc)](_0x12a9aa(0x215));_0x1d3829['className']='day-col-header\x20'+(_0x116b20?_0x12a9aa(0x132):''),_0x1d3829[_0x12a9aa(0x185)](_0x12a9aa(0x1e8),_0x43b837),_0x1d3829[_0x12a9aa(0x14c)]=_0x12a9aa(0x1a3)+_0xee5602[_0x1cc117]+'</div><div\x20class=\x22dch-num\x22>'+_0x21d7de[_0x12a9aa(0x1f8)]()+_0x12a9aa(0x138),_0x53475e[_0x12a9aa(0x14b)](_0x1d3829);const _0x5b82f3=document[_0x12a9aa(0x1cc)](_0x12a9aa(0x215));_0x5b82f3[_0x12a9aa(0x1b3)]=_0x12a9aa(0x1c0)+(_0x116b20?_0x12a9aa(0x132):''),_0x5b82f3['setAttribute'](_0x12a9aa(0x1e8),_0x43b837),_0x5b82f3[_0x12a9aa(0x185)](_0x12a9aa(0x207),_0x1cc117),_0x13a471[_0x12a9aa(0x14b)](_0x5b82f3);}_0x107784[_0x12a9aa(0x1ab)](_0x53475e,_0x107784[_0x12a9aa(0x1a9)]),_0x188bd5[_0x12a9aa(0x1ab)](_0x13a471,_0x188bd5[_0x12a9aa(0x1f7)](_0x12a9aa(0x1e7)));}function hexToRgba(_0x54aea2,_0x3e7953){const _0x94fbae=a3_0x2ca891;let _0x18d660;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x94fbae(0x1d0)](_0x54aea2))return _0x18d660=_0x54aea2[_0x94fbae(0x12e)](0x1)[_0x94fbae(0x1e6)](''),_0x18d660[_0x94fbae(0x206)]==0x3&&(_0x18d660=[_0x18d660[0x0],_0x18d660[0x0],_0x18d660[0x1],_0x18d660[0x1],_0x18d660[0x2],_0x18d660[0x2]]),_0x18d660='0x'+_0x18d660[_0x94fbae(0x147)](''),'rgba('+[_0x18d660>>0x10&0xff,_0x18d660>>0x8&0xff,_0x18d660&0xff]['join'](',')+','+_0x3e7953+')';return _0x94fbae(0x182)+_0x3e7953+')';}let confirmResolver=null;function showCustomConfirm(_0x21f80c,_0x256701,_0x1ef775=!![]){const _0x2ee2fc=a3_0x2ca891;document['getElementById'](_0x2ee2fc(0x208))[_0x2ee2fc(0x213)]=_0x21f80c,document[_0x2ee2fc(0x188)](_0x2ee2fc(0x17c))[_0x2ee2fc(0x213)]=_0x256701;const _0x597434=document[_0x2ee2fc(0x188)]('ccYesBtn');return _0x1ef775?(_0x597434[_0x2ee2fc(0x13e)][_0x2ee2fc(0x1ac)]='#ff453a',_0x597434[_0x2ee2fc(0x13e)][_0x2ee2fc(0x1b0)]='600'):(_0x597434[_0x2ee2fc(0x13e)][_0x2ee2fc(0x1ac)]=_0x2ee2fc(0x15f),_0x597434['style'][_0x2ee2fc(0x1b0)]=_0x2ee2fc(0x191)),new Promise(_0xd86a1c=>{const _0xc92bb7=_0x2ee2fc;confirmResolver=_0xd86a1c,document[_0xc92bb7(0x188)](_0xc92bb7(0x1fe))['classList'][_0xc92bb7(0x204)]('visible');});}function resolveCustomConfirm(_0x232eff){const _0x4d16cb=a3_0x2ca891;document[_0x4d16cb(0x188)](_0x4d16cb(0x1fe))['classList'][_0x4d16cb(0x1d4)](_0x4d16cb(0x129));if(confirmResolver)confirmResolver(_0x232eff);}async function tryCancelCurrentSession(){const _0x1facd2=a3_0x2ca891;if(!currentSession)return;const _0x5ebb3f=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x1facd2(0x13c),!![]);if(!_0x5ebb3f)return;const _0x4aa8a2=currentSession;closeAllSheets(),sessions=sessions[_0x1facd2(0x1de)](_0x14d225=>_0x14d225['id']!==_0x4aa8a2['id']),reRenderBlocks(),showToast(_0x1facd2(0x14d)),lastUserActionTime=Date[_0x1facd2(0x150)]();try{const _0x15c648=window[_0x1facd2(0x1c1)]?.[_0x1facd2(0x164)],_0x5f5af2=await fetch(API_URL,{'method':_0x1facd2(0x1ce),'body':JSON[_0x1facd2(0x1a0)]({'action':'client_cancel','init_data':_0x15c648?.[_0x1facd2(0x1cf)]||'','coachId':_0x4aa8a2[_0x1facd2(0x16e)],'dateStr':_0x4aa8a2['dateStr'],'sessionId':_0x4aa8a2['id']})});if(_0x5f5af2['ok'])DataManager[_0x1facd2(0x1b2)]();}catch(_0x77e6b5){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4baab4=a3_0x2ca891;if(!currentSession)return;document[_0x4baab4(0x188)](_0x4baab4(0x1b4))[_0x4baab4(0x210)][_0x4baab4(0x1d4)](_0x4baab4(0x14a)),document[_0x4baab4(0x188)](_0x4baab4(0x152))[_0x4baab4(0x210)][_0x4baab4(0x204)](_0x4baab4(0x14a));const _0xf2818=document[_0x4baab4(0x188)](_0x4baab4(0x16b)),_0x10c7c5=document[_0x4baab4(0x188)](_0x4baab4(0x149));_0xf2818[_0x4baab4(0x14c)]='',_0x10c7c5['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x207a12,_0x286269]=currentSession['start'][_0x4baab4(0x1e6)](':')[_0x4baab4(0x139)](Number),[_0x4f5aa9,_0x209400]=currentSession[_0x4baab4(0x1bf)]['split'](':')[_0x4baab4(0x139)](Number),_0xcf025a=_0x4f5aa9*0x3c+_0x209400-(_0x207a12*0x3c+_0x286269);try{const _0x1ea19d=window[_0x4baab4(0x1c1)]?.[_0x4baab4(0x164)],_0x3b15f4=await fetch(API_URL,{'method':_0x4baab4(0x1ce),'body':JSON[_0x4baab4(0x1a0)]({'action':_0x4baab4(0x136),'coachId':currentSession[_0x4baab4(0x16e)],'duration':_0xcf025a,'init_data':_0x1ea19d?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x541276=await _0x3b15f4[_0x4baab4(0x1c5)]();_0x541276['ok']&&_0x541276['data']?(availableSlotsCache=_0x541276[_0x4baab4(0x141)],renderRescheduleDates()):_0x10c7c5[_0x4baab4(0x14c)]=_0x4baab4(0x126);}catch(_0x4656c2){_0x10c7c5[_0x4baab4(0x14c)]=_0x4baab4(0x1bd);}}function renderRescheduleDates(){const _0x25801b=a3_0x2ca891,_0x1ba7da=document[_0x25801b(0x188)]('rsDatesTrack');_0x1ba7da['innerHTML']='';const _0xa02ff0=Object['keys'](availableSlotsCache)['sort'](),_0x4b25cf=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xa02ff0[_0x25801b(0x206)]===0x0){document[_0x25801b(0x188)](_0x25801b(0x149))['innerHTML']=_0x25801b(0x1a4);return;}_0xa02ff0['forEach']((_0x2dd050,_0x258e7e)=>{const _0x44dfcb=_0x25801b,_0x5d3f0e=new Date(_0x2dd050),_0x2d24bb=_0x4b25cf[_0x5d3f0e[_0x44dfcb(0x1f5)]()],_0x5c9e8a=_0x5d3f0e[_0x44dfcb(0x1f8)](),_0xb284d=document[_0x44dfcb(0x1cc)](_0x44dfcb(0x215));_0xb284d[_0x44dfcb(0x1b3)]=_0x44dfcb(0x143);if(_0x258e7e===0x0)_0xb284d[_0x44dfcb(0x210)][_0x44dfcb(0x204)]('active');_0xb284d['innerHTML']=_0x44dfcb(0x167)+_0x2d24bb+_0x44dfcb(0x18c)+_0x5c9e8a+'</div>',_0xb284d['onclick']=()=>selectRsDate(_0x2dd050,_0xb284d),_0x1ba7da[_0x44dfcb(0x14b)](_0xb284d);}),selectRsDate(_0xa02ff0[0x0],_0x1ba7da[_0x25801b(0x1a9)]);}function selectRsDate(_0x301e2a,_0x1c51c9){const _0x58d80c=a3_0x2ca891;selectedRsDate=_0x301e2a,document[_0x58d80c(0x176)](_0x58d80c(0x18a))[_0x58d80c(0x187)](_0x3d31fa=>_0x3d31fa[_0x58d80c(0x210)][_0x58d80c(0x1d4)](_0x58d80c(0x1fd)));if(_0x1c51c9)_0x1c51c9['classList'][_0x58d80c(0x204)](_0x58d80c(0x1fd));const _0x88a351=document[_0x58d80c(0x188)](_0x58d80c(0x149));_0x88a351[_0x58d80c(0x14c)]='';const _0x974d20=availableSlotsCache[_0x301e2a]||[];if(_0x974d20[_0x58d80c(0x206)]===0x0){_0x88a351[_0x58d80c(0x14c)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x974d20[_0x58d80c(0x187)](_0x31eafb=>{const _0x5b7a48=_0x58d80c,_0x7b7be5=document[_0x5b7a48(0x1cc)](_0x5b7a48(0x1d1));_0x7b7be5['className']=_0x5b7a48(0x16d),_0x7b7be5[_0x5b7a48(0x213)]=_0x31eafb,_0x7b7be5[_0x5b7a48(0x1bb)]=()=>confirmReschedule(_0x31eafb),_0x88a351[_0x5b7a48(0x14b)](_0x7b7be5);});}async function confirmReschedule(_0x56e22c){const _0x23c397=a3_0x2ca891,_0x26f55f=new Date(selectedRsDate),_0x489ebb=_0x26f55f[_0x23c397(0x17e)]('ru-RU',{'day':_0x23c397(0x1d6),'month':_0x23c397(0x1d8)}),_0x1e5305=await showCustomConfirm(_0x23c397(0x1ef),_0x23c397(0x1c8)+_0x489ebb+'\x20–≤\x20'+_0x56e22c+'?',![]);if(!_0x1e5305)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x23c397(0x150)]();const _0x141426=currentSession[_0x23c397(0x1b1)],_0x4ec374=currentSession['id'],[_0x396119,_0x2d7ab4]=currentSession[_0x23c397(0x1e4)][_0x23c397(0x1e6)](':')[_0x23c397(0x139)](Number),[_0x2a74ae,_0x2a3242]=currentSession[_0x23c397(0x1bf)][_0x23c397(0x1e6)](':')['map'](Number),_0x2fb1e0=_0x2a74ae*0x3c+_0x2a3242-(_0x396119*0x3c+_0x2d7ab4),[_0x2db466,_0xe2097f]=_0x56e22c[_0x23c397(0x1e6)](':')[_0x23c397(0x139)](Number),_0x51a727=_0x2db466*0x3c+_0xe2097f+_0x2fb1e0,_0x386ef6=Math[_0x23c397(0x160)](_0x51a727/0x3c),_0x17598a=_0x51a727%0x3c,_0x22bd7a=String(_0x386ef6)[_0x23c397(0x15a)](0x2,'0')+':'+String(_0x17598a)[_0x23c397(0x15a)](0x2,'0'),_0x58fad6=sessions[_0x23c397(0x1aa)](_0x10bee4=>_0x10bee4['id']===_0x4ec374);_0x58fad6!==-0x1&&(sessions[_0x58fad6]['dateStr']=selectedRsDate,sessions[_0x58fad6][_0x23c397(0x1e4)]=_0x56e22c,sessions[_0x58fad6][_0x23c397(0x1bf)]=_0x22bd7a,reRenderBlocks());try{const _0x48c64a=window['Telegram']?.[_0x23c397(0x164)],_0x231249=await fetch(API_URL,{'method':_0x23c397(0x1ce),'body':JSON[_0x23c397(0x1a0)]({'action':_0x23c397(0x17f),'init_data':_0x48c64a?.[_0x23c397(0x1cf)]||'','oldSessionId':_0x4ec374,'oldDate':_0x141426,'newDate':selectedRsDate,'newTime':_0x56e22c,'coachId':currentSession[_0x23c397(0x16e)]})}),_0x490e49=await _0x231249[_0x23c397(0x1c5)]();!_0x490e49['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x23c397(0x178)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x4a18cd){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x2ca891(0x159)]('DOMContentLoaded',init);