const a3_0x2198ca=a3_0x1296;(function(_0x4117ee,_0x4cef3f){const _0x462c26=a3_0x1296,_0x4139c7=_0x4117ee();while(!![]){try{const _0x27e106=parseInt(_0x462c26(0xda))/0x1+parseInt(_0x462c26(0x7d))/0x2+parseInt(_0x462c26(0x14b))/0x3+parseInt(_0x462c26(0xe7))/0x4*(-parseInt(_0x462c26(0x8b))/0x5)+parseInt(_0x462c26(0xa8))/0x6*(parseInt(_0x462c26(0xac))/0x7)+parseInt(_0x462c26(0xcf))/0x8+parseInt(_0x462c26(0x11b))/0x9*(-parseInt(_0x462c26(0x156))/0xa);if(_0x27e106===_0x4cef3f)break;else _0x4139c7['push'](_0x4139c7['shift']());}catch(_0x4999a7){_0x4139c7['push'](_0x4139c7['shift']());}}}(a3_0x573f,0x1e0b4));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x2198ca(0x152),GRID_H=0x3c,KEY_SESSIONS=a3_0x2198ca(0x16d),KEY_SETTINGS=a3_0x2198ca(0xc8),KEY_CLIENTS=a3_0x2198ca(0x13a);function a3_0x1296(_0x1aadf2,_0x427d9a){_0x1aadf2=_0x1aadf2-0x6d;const _0x565844=a3_0x573f();let _0x3a231=_0x565844[_0x1aadf2];return _0x3a231;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2198ca(0x108),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3e4be9=a3_0x2198ca,_0x21d813=(function(){let _0x4b35ee=!![];return function(_0x22444d,_0x493ea2){const _0x5a9c7c=_0x4b35ee?function(){const _0x389c73=a3_0x1296;if(_0x493ea2){const _0x307b24=_0x493ea2[_0x389c73(0xf6)](_0x22444d,arguments);return _0x493ea2=null,_0x307b24;}}:function(){};return _0x4b35ee=![],_0x5a9c7c;};}()),_0xb81190=_0x21d813(this,function(){const _0x2490ca=a3_0x1296;return _0xb81190[_0x2490ca(0xd2)]()[_0x2490ca(0x138)](_0x2490ca(0x13d))[_0x2490ca(0xd2)]()['constructor'](_0xb81190)[_0x2490ca(0x138)](_0x2490ca(0x13d));});_0xb81190();try{const _0x57d19d=window[_0x3e4be9(0x8e)]?.[_0x3e4be9(0x9c)];if(!_0x57d19d)return;_0x57d19d[_0x3e4be9(0xbb)](),_0x57d19d[_0x3e4be9(0x9f)]();try{_0x57d19d[_0x3e4be9(0x163)](_0x3e4be9(0xc2)),_0x57d19d[_0x3e4be9(0xc3)]&&_0x57d19d[_0x3e4be9(0xc3)](_0x3e4be9(0xc2));}catch(_0x1327fa){console[_0x3e4be9(0x6f)]('Error\x20setting\x20color:',_0x1327fa);}try{_0x57d19d['BackButton']&&(_0x57d19d[_0x3e4be9(0x9a)][_0x3e4be9(0x8c)](),_0x57d19d['BackButton']['offClick'](),_0x57d19d[_0x3e4be9(0x9a)][_0x3e4be9(0x9e)](function(){const _0x3b04f2=_0x3e4be9;window[_0x3b04f2(0x146)][_0x3b04f2(0x145)]=_0x3b04f2(0x135);}));}catch(_0x16fd7b){console[_0x3e4be9(0x6f)](_0x3e4be9(0x78),_0x16fd7b);}try{if(_0x57d19d[_0x3e4be9(0xd1)])_0x57d19d[_0x3e4be9(0xd1)]();}catch(_0x298993){}}catch(_0x676357){console[_0x3e4be9(0x92)](_0x3e4be9(0xbe),_0x676357);}}());function isAdmin(){const _0x2ec13c=a3_0x2198ca;try{const _0x23b603=Number(window['Telegram']?.[_0x2ec13c(0x9c)]?.[_0x2ec13c(0xc1)]?.[_0x2ec13c(0xaa)]?.['id']);return _0x23b603===0xbaf7174;}catch(_0x34c8ea){return![];}}const DataManager={'saveLocally'(){const _0x129743=a3_0x2198ca;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x129743(0x97)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x129743(0x97)](clients)),localStorage[_0x129743(0xa1)](KEY_SETTINGS,JSON[_0x129743(0x97)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2b839c){}},'loadLocal'(){const _0x32091e=a3_0x2198ca;try{const _0x297448=localStorage[_0x32091e(0x102)](KEY_SESSIONS);if(_0x297448)sessions=JSON[_0x32091e(0x8a)](_0x297448);const _0x42d2ab=localStorage[_0x32091e(0x102)](KEY_CLIENTS);if(_0x42d2ab)clients=JSON[_0x32091e(0x8a)](_0x42d2ab);const _0x31ae88=localStorage[_0x32091e(0x102)](KEY_SETTINGS);if(_0x31ae88){const _0x14fc85=JSON[_0x32091e(0x8a)](_0x31ae88);if(_0x14fc85[_0x32091e(0xdb)])availabilityPattern=_0x14fc85[_0x32091e(0xdb)];if(_0x14fc85[_0x32091e(0x11f)])specialRanges=_0x14fc85[_0x32091e(0x11f)];if(_0x14fc85[_0x32091e(0xab)])dateExceptions=_0x14fc85['exceptions'];}}catch(_0xf8edfe){}},async 'syncLoad'(){const _0x3a8a7e=a3_0x2198ca,_0x4a4061=new Date(),_0x1f3554=_0x4a4061[_0x3a8a7e(0x14f)]()+'-'+String(_0x4a4061['getMonth']()+0x1)[_0x3a8a7e(0x79)](0x2,'0'),_0x388824=new Date(_0x4a4061);_0x388824[_0x3a8a7e(0xb3)](_0x4a4061[_0x3a8a7e(0x120)]()+0x1);const _0x1b2dde=_0x388824[_0x3a8a7e(0x14f)]()+'-'+String(_0x388824['getMonth']()+0x1)[_0x3a8a7e(0x79)](0x2,'0'),_0x211ca3=Date[_0x3a8a7e(0xcd)]();try{const _0x5268a6=window[_0x3a8a7e(0x8e)]?.[_0x3a8a7e(0x9c)],_0x343cdd=_0x5268a6?.[_0x3a8a7e(0x140)]||'',[_0x90539,_0x475639]=await Promise['all']([fetch(API_URL,{'method':_0x3a8a7e(0x76),'body':JSON['stringify']({'action':_0x3a8a7e(0x13e),'init_data':_0x343cdd,'month_str':_0x1f3554})})[_0x3a8a7e(0x15e)](_0x1a164a=>_0x1a164a['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x3a8a7e(0x97)]({'action':_0x3a8a7e(0x13e),'init_data':_0x343cdd,'month_str':_0x1b2dde})})[_0x3a8a7e(0x15e)](_0x55105b=>_0x55105b[_0x3a8a7e(0x94)]())]);if(lastUserActionTime>_0x211ca3){console[_0x3a8a7e(0x6f)](_0x3a8a7e(0xa0));return;}if(_0x90539['ok'])this['applyData'](_0x90539[_0x3a8a7e(0xde)],_0x1f3554);if(_0x475639['ok'])this[_0x3a8a7e(0xb5)](_0x475639[_0x3a8a7e(0xde)],_0x1b2dde);this[_0x3a8a7e(0xa2)]();}catch(_0xdbaaf1){}},'applyData'(_0x30b3db,_0x572192){const _0x865d44=a3_0x2198ca;if(!_0x30b3db)return;if(_0x30b3db[_0x865d44(0x7a)]){if(_0x30b3db[_0x865d44(0x7a)][_0x865d44(0xdb)])availabilityPattern=_0x30b3db[_0x865d44(0x7a)][_0x865d44(0xdb)];if(_0x30b3db[_0x865d44(0x7a)][_0x865d44(0x11f)])specialRanges=_0x30b3db[_0x865d44(0x7a)][_0x865d44(0x11f)];if(_0x30b3db['settings'][_0x865d44(0xab)])dateExceptions=_0x30b3db[_0x865d44(0x7a)]['exceptions'];}if(_0x30b3db[_0x865d44(0x14c)]&&Array[_0x865d44(0x104)](_0x30b3db[_0x865d44(0x14c)]))clients=_0x30b3db[_0x865d44(0x14c)];_0x30b3db[_0x865d44(0x10a)]&&(coachProfiles={...coachProfiles,..._0x30b3db[_0x865d44(0x10a)]}),_0x30b3db[_0x865d44(0xe8)]&&(sessions=sessions[_0x865d44(0x12b)](_0x59acc5=>!_0x59acc5['dateStr'][_0x865d44(0x148)](_0x572192)),Object['keys'](_0x30b3db['calendar'])[_0x865d44(0xad)](_0x3b8e4f=>{const _0x33234c=_0x865d44,_0x2545cc=_0x30b3db[_0x33234c(0xe8)][_0x3b8e4f];_0x2545cc[_0x33234c(0xad)](_0x529f2c=>{const _0x5b2ac1=_0x33234c;sessions['push']({'id':_0x529f2c['i'],'clientId':_0x529f2c['c'],'coachId':_0x529f2c[_0x5b2ac1(0xe3)],'dateStr':_0x572192+'-'+_0x3b8e4f['padStart'](0x2,'0'),'start':_0x529f2c['s'],'end':_0x529f2c['e'],'note':_0x529f2c['n']||'','status':_0x529f2c['st']||_0x5b2ac1(0xb8),'seriesId':_0x529f2c[_0x5b2ac1(0xc4)]});});})),reRenderBlocks();}};function init(){const _0x5e423b=a3_0x2198ca;DataManager[_0x5e423b(0x11d)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5e423b(0xa5)](_0x5e423b(0x110))[_0x5e423b(0x157)](_0x5e423b(0xe0),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5e423b(0xa7)]();}function renderTimeColumn(){const _0x2bf341=a3_0x2198ca,_0x36e285=document[_0x2bf341(0xa5)](_0x2bf341(0x159)),_0xd7492a=document['getElementById'](_0x2bf341(0x122));_0x36e285[_0x2bf341(0xcc)]='',_0x36e285['appendChild'](_0xd7492a);for(let _0x4e6247=0x0;_0x4e6247<0x18;_0x4e6247++){const _0x5eed79=document[_0x2bf341(0xed)](_0x2bf341(0x106));_0x5eed79[_0x2bf341(0xc0)]=_0x2bf341(0x88);if(_0x4e6247>0x0)_0x5eed79['innerHTML']=_0x2bf341(0xef)+String(_0x4e6247)[_0x2bf341(0x79)](0x2,'0')+':00</span>';_0x36e285[_0x2bf341(0x161)](_0x5eed79);}}function renderDayRange(_0x5081d8,_0x1a61ef){const _0xfdfb05=a3_0x2198ca,_0x1553f1=document['getElementById'](_0xfdfb05(0xd5)),_0x527dfc=document[_0xfdfb05(0xa5)](_0xfdfb05(0xe5)),_0x46c367=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47c6b2=new Date();_0x47c6b2['setHours'](0x0,0x0,0x0,0x0);const _0x5d7efc=getLocalDateStr(new Date());for(let _0x2f0eae=_0x5081d8;_0x2f0eae<=_0x1a61ef;_0x2f0eae++){const _0x1ea485=new Date(_0x47c6b2);_0x1ea485['setDate'](_0x1ea485[_0xfdfb05(0x105)]()+_0x2f0eae);const _0x5a43bc=getLocalDateStr(_0x1ea485);let _0x4b0096=_0x1ea485[_0xfdfb05(0x130)]()-0x1;if(_0x4b0096===-0x1)_0x4b0096=0x6;const _0x4e1153=_0x5a43bc===_0x5d7efc,_0x3c70e5=document[_0xfdfb05(0xed)](_0xfdfb05(0x106));_0x3c70e5[_0xfdfb05(0xc0)]=_0xfdfb05(0x117)+(_0x4e1153?'today':''),_0x3c70e5[_0xfdfb05(0x169)](_0xfdfb05(0x144),_0x5a43bc),_0x3c70e5[_0xfdfb05(0xcc)]=_0xfdfb05(0x9d)+_0x46c367[_0x4b0096]+'</div><div\x20class=\x22dch-num\x22>'+_0x1ea485[_0xfdfb05(0x105)]()+'</div>',_0x1553f1['appendChild'](_0x3c70e5);const _0x536cfc=document[_0xfdfb05(0xed)]('div');_0x536cfc[_0xfdfb05(0xc0)]='day-column\x20'+(_0x4e1153?_0xfdfb05(0x134):''),_0x536cfc[_0xfdfb05(0x169)](_0xfdfb05(0x144),_0x5a43bc),_0x536cfc[_0xfdfb05(0x169)]('data-day-idx',_0x4b0096),_0x527dfc[_0xfdfb05(0x161)](_0x536cfc);}}function reRenderBlocks(){const _0x22739d=a3_0x2198ca;document[_0x22739d(0x153)](_0x22739d(0x109))[_0x22739d(0xad)](_0x3366ff=>{const _0x4eb8d5=_0x22739d;_0x3366ff[_0x4eb8d5(0x153)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4eb8d5(0xad)](_0x16f8fd=>_0x16f8fd[_0x4eb8d5(0xa6)]());const _0x28aa99=_0x3366ff[_0x4eb8d5(0x118)](_0x4eb8d5(0x144)),_0x3ae7c8=parseInt(_0x3366ff[_0x4eb8d5(0x118)](_0x4eb8d5(0x164))),_0x18309b=Math['round'](_0x3366ff[_0x4eb8d5(0x131)]);(availabilityPattern[_0x3ae7c8]||[])[_0x4eb8d5(0xad)](_0x59cc11=>{const _0x4b5429=_0x4eb8d5,_0x2a7137=document[_0x4b5429(0xed)](_0x4b5429(0x106));_0x2a7137['className']=_0x4b5429(0x121),_0x2a7137[_0x4b5429(0x11e)][_0x4b5429(0x165)]=_0x59cc11*GRID_H+'px',_0x2a7137['style'][_0x4b5429(0x129)]='-'+_0x18309b+_0x4b5429(0x8f)+_0x59cc11*GRID_H+'px',_0x3366ff[_0x4b5429(0x161)](_0x2a7137);});if(specialRanges['length']>0x0){const _0xe83112=new Date(_0x28aa99+'T00:00:00')[_0x4eb8d5(0x15f)](),_0x1c5367=new Date(_0x28aa99+_0x4eb8d5(0xea))[_0x4eb8d5(0x15f)]();specialRanges[_0x4eb8d5(0xad)](_0x40453d=>{const _0x96fa9e=_0x4eb8d5,_0x30eab8=new Date(_0x40453d[_0x96fa9e(0xdc)])[_0x96fa9e(0x15f)](),_0x455f2f=new Date(_0x40453d[_0x96fa9e(0x12c)])[_0x96fa9e(0x15f)](),_0x4a2536=Math[_0x96fa9e(0x6d)](_0xe83112,_0x30eab8),_0x22420e=Math['min'](_0x1c5367,_0x455f2f);if(_0x4a2536<_0x22420e){const _0x53aa8f=(_0x4a2536-_0xe83112)/0x36ee80*GRID_H,_0x110666=(_0x22420e-_0x4a2536)/0x36ee80*GRID_H,_0x19e2fd=document[_0x96fa9e(0xed)]('div');_0x110666>=23.5*GRID_H?(_0x19e2fd['className']=_0x96fa9e(0x116),_0x19e2fd[_0x96fa9e(0x11e)][_0x96fa9e(0x129)]='-'+_0x18309b+_0x96fa9e(0x7c)):(_0x19e2fd[_0x96fa9e(0xc0)]='blocked-range-part\x20stripe-bg',_0x19e2fd[_0x96fa9e(0x11e)]['top']=_0x53aa8f+'px',_0x19e2fd['style'][_0x96fa9e(0x75)]=_0x110666+'px',_0x19e2fd['style'][_0x96fa9e(0x129)]='-'+_0x18309b+_0x96fa9e(0x8f)+_0x53aa8f+'px'),_0x3366ff['appendChild'](_0x19e2fd);}});}renderEventsForColumn(_0x3366ff,_0x28aa99);});}function renderEventsForColumn(_0x45589a,_0x39d8ec){const _0x3cdbe7=a3_0x2198ca,_0x223c5f=sessions['filter'](_0x56eb10=>_0x56eb10[_0x3cdbe7(0xaf)]===_0x39d8ec),_0x165859=_0x223c5f['map'](_0x1c67cc=>{const _0x3dbcd1=_0x3cdbe7,[_0x5dec42,_0x15c0fd]=_0x1c67cc[_0x3dbcd1(0xdc)][_0x3dbcd1(0x128)](':')[_0x3dbcd1(0x166)](Number),[_0x5cf54e,_0x1bce75]=_0x1c67cc[_0x3dbcd1(0x12c)][_0x3dbcd1(0x128)](':')[_0x3dbcd1(0x166)](Number);return{'data':_0x1c67cc,'start':_0x5dec42*0x3c+_0x15c0fd,'end':_0x5cf54e*0x3c+_0x1bce75,'colIndex':0x0};});_0x165859['sort']((_0x3b26d4,_0x4db4c9)=>_0x3b26d4['start']-_0x4db4c9[_0x3cdbe7(0xdc)]||_0x4db4c9[_0x3cdbe7(0x12c)]-_0x4db4c9['start']-(_0x3b26d4[_0x3cdbe7(0x12c)]-_0x3b26d4[_0x3cdbe7(0xdc)]));const _0x87c0bb=[];_0x165859[_0x3cdbe7(0xad)](_0x58af4d=>{const _0x5a8f04=_0x3cdbe7;let _0x495511=![];for(let _0xea8c9=0x0;_0xea8c9<_0x87c0bb[_0x5a8f04(0x98)];_0xea8c9++){const _0x336e30=_0x87c0bb[_0xea8c9];if(_0x58af4d[_0x5a8f04(0xdc)]>=_0x336e30[_0x336e30[_0x5a8f04(0x98)]-0x1]['end']){_0x336e30[_0x5a8f04(0x96)](_0x58af4d),_0x58af4d[_0x5a8f04(0xf0)]=_0xea8c9,_0x495511=!![];break;}}!_0x495511&&(_0x87c0bb['push']([_0x58af4d]),_0x58af4d[_0x5a8f04(0xf0)]=_0x87c0bb[_0x5a8f04(0x98)]-0x1);}),_0x165859[_0x3cdbe7(0xad)](_0x4a3b8d=>{const _0x12a0b8=_0x3cdbe7;let _0x237c57=0x0;_0x165859[_0x12a0b8(0xad)](_0x1dce10=>{const _0x15783a=_0x12a0b8;if(Math['max'](_0x4a3b8d[_0x15783a(0xdc)],_0x1dce10[_0x15783a(0xdc)])<Math['min'](_0x4a3b8d['end'],_0x1dce10['end'])&&_0x1dce10[_0x15783a(0xf0)]>_0x237c57)_0x237c57=_0x1dce10[_0x15783a(0xf0)];});const _0x59022b=_0x237c57+0x1,_0x4b7965=0x64/_0x59022b,_0x3400de=_0x4a3b8d[_0x12a0b8(0xf0)]*_0x4b7965,_0x59aae4=document[_0x12a0b8(0xed)](_0x12a0b8(0x106)),_0x1303f0=_0x4a3b8d[_0x12a0b8(0xde)];let _0x116191=_0x12a0b8(0x84);if(clients&&clients[_0x12a0b8(0x98)]>0x0){const _0x3d1df4=clients['find'](_0x172f9b=>String(_0x172f9b['id'])===String(_0x1303f0[_0x12a0b8(0x12d)]));if(_0x3d1df4&&_0x3d1df4[_0x12a0b8(0x89)])_0x116191=_0x3d1df4['color'];}const _0x546d88=_0x1303f0[_0x12a0b8(0x13f)]===_0x12a0b8(0x167),_0x44720a=_0x546d88?0x1:0.45;_0x59aae4['className']=_0x12a0b8(0xfe)+(_0x546d88?_0x12a0b8(0x93):''),_0x59aae4['style'][_0x12a0b8(0xf5)]=hexToRgba(_0x116191,_0x44720a),_0x59aae4['style'][_0x12a0b8(0xd0)]=_0x116191;const _0x1116db=_0x4a3b8d[_0x12a0b8(0xdc)]/0x3c*GRID_H,_0x132206=(_0x4a3b8d[_0x12a0b8(0x12c)]-_0x4a3b8d[_0x12a0b8(0xdc)])/0x3c*GRID_H;_0x59aae4[_0x12a0b8(0x11e)][_0x12a0b8(0x165)]=_0x1116db+'px',_0x59aae4['style'][_0x12a0b8(0x75)]=Math[_0x12a0b8(0x6d)](_0x132206,0x14)+'px',_0x59aae4['style'][_0x12a0b8(0x124)]=_0x12a0b8(0x113)+_0x4b7965+_0x12a0b8(0x77),_0x59aae4['style'][_0x12a0b8(0xb1)]=_0x12a0b8(0x113)+_0x3400de+_0x12a0b8(0xf3),_0x59aae4[_0x12a0b8(0x11e)][_0x12a0b8(0xf9)]=0xa+_0x4a3b8d[_0x12a0b8(0xf0)];if(_0x4b7965<0x55)_0x59aae4['classList'][_0x12a0b8(0x114)]('mini');let _0x2b7422='';if(_0x1303f0[_0x12a0b8(0x112)])_0x2b7422+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x546d88)_0x2b7422+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x59aae4[_0x12a0b8(0xcc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1303f0[_0x12a0b8(0xdc)]+_0x12a0b8(0xe2)+_0x1303f0['end']+_0x12a0b8(0xbf)+_0x2b7422+_0x12a0b8(0xdf),_0x59aae4[_0x12a0b8(0x6e)]=_0x4efab8=>{_0x4efab8['stopPropagation'](),openDetails(_0x1303f0);},_0x45589a[_0x12a0b8(0x161)](_0x59aae4);});}function openAnalytics(){const _0x57a620=a3_0x2198ca,_0x2ed12c=document['querySelector'](_0x57a620(0xb4));setAnalyticsPeriod('week',_0x2ed12c),openSheet(_0x57a620(0xe6));}function setAnalyticsPeriod(_0x50d9b1,_0x190bc3){const _0x23e666=a3_0x2198ca;currentAnPeriod=_0x50d9b1,document[_0x23e666(0x153)](_0x23e666(0xb4))[_0x23e666(0xad)](_0x50a74c=>_0x50a74c[_0x23e666(0x15b)][_0x23e666(0xa6)](_0x23e666(0xf8)));if(_0x190bc3)_0x190bc3['classList'][_0x23e666(0x114)](_0x23e666(0xf8));const _0x275357=document[_0x23e666(0xa5)](_0x23e666(0xf4));_0x275357['style'][_0x23e666(0x10c)]=_0x50d9b1==='custom'?_0x23e666(0x82):_0x23e666(0x111);const _0x523b28=new Date();let _0x1589ea=new Date(),_0x581c22=new Date();if(_0x50d9b1==='week')_0x1589ea=getStartOfWeek(_0x523b28),_0x581c22=new Date(_0x1589ea),_0x581c22[_0x23e666(0xe4)](_0x581c22['getDate']()+0x6);else{if(_0x50d9b1===_0x23e666(0x14d))_0x1589ea=new Date(_0x523b28[_0x23e666(0x14f)](),_0x523b28[_0x23e666(0x120)](),0x1),_0x581c22=new Date(_0x523b28[_0x23e666(0x14f)](),_0x523b28[_0x23e666(0x120)]()+0x1,0x0);else{!document[_0x23e666(0xa5)](_0x23e666(0x101))[_0x23e666(0x158)]&&(document[_0x23e666(0xa5)](_0x23e666(0x101))['value']=getLocalDateStr(_0x523b28),document['getElementById'](_0x23e666(0x160))['value']=getLocalDateStr(_0x523b28));refreshAnalytics();return;}}document[_0x23e666(0xa5)](_0x23e666(0x101))['value']=getLocalDateStr(_0x1589ea),document[_0x23e666(0xa5)]('anEnd')[_0x23e666(0x158)]=getLocalDateStr(_0x581c22),refreshAnalytics();}function refreshAnalytics(){const _0x1de3a5=a3_0x2198ca,_0x2d32eb=document['getElementById']('anStart')[_0x1de3a5(0x158)],_0x571666=document[_0x1de3a5(0xa5)](_0x1de3a5(0x160))[_0x1de3a5(0x158)];if(!_0x2d32eb||!_0x571666)return;const _0x538e05=sessions[_0x1de3a5(0x12b)](_0x516146=>_0x516146['dateStr']>=_0x2d32eb&&_0x516146[_0x1de3a5(0xaf)]<=_0x571666&&_0x516146[_0x1de3a5(0x13f)]!==_0x1de3a5(0x8d)),_0x28fc18=_0x538e05['length'],_0x28d044=_0x538e05[_0x1de3a5(0x12b)](_0x4434ed=>_0x4434ed[_0x1de3a5(0x13f)]===_0x1de3a5(0x167))[_0x1de3a5(0x98)],_0x494513=_0x28fc18>0x0?Math[_0x1de3a5(0x151)](_0x28d044/_0x28fc18*0x64):0x0;document[_0x1de3a5(0xa5)](_0x1de3a5(0x133))[_0x1de3a5(0x7f)]=_0x494513+'%',document[_0x1de3a5(0xa5)](_0x1de3a5(0xfa))[_0x1de3a5(0x7f)]=_0x28d044+_0x1de3a5(0xbc)+_0x28fc18+_0x1de3a5(0xfd);const _0xf125a9=document[_0x1de3a5(0xa5)](_0x1de3a5(0x10d)),_0x4c6fc1=0x2*Math['PI']*0x23,_0x50ad1b=_0x4c6fc1-_0x494513/0x64*_0x4c6fc1;_0xf125a9['style'][_0x1de3a5(0xd3)]=_0x50ad1b;const _0x5875dc={};_0x538e05[_0x1de3a5(0xad)](_0x4787b6=>{const _0x326688=_0x1de3a5,_0x3f3271=_0x4787b6[_0x326688(0x143)]||_0x326688(0x9b);if(!_0x5875dc[_0x3f3271]){const _0x5a2677='#'+_0x3f3271['toString']()[_0x326688(0xbd)](0x0,0x6);_0x5875dc[_0x3f3271]={'total':0x0,'done':0x0,'color':_0x5a2677};}_0x5875dc[_0x3f3271][_0x326688(0xf2)]++;if(_0x4787b6[_0x326688(0x13f)]==='completed')_0x5875dc[_0x3f3271]['done']++;});const _0x2cfabf=document[_0x1de3a5(0xa5)](_0x1de3a5(0x103));_0x2cfabf[_0x1de3a5(0xcc)]='';const _0x23b399=Object[_0x1de3a5(0xba)](_0x5875dc)[_0x1de3a5(0x15a)]((_0xaab266,_0x5be75a)=>_0x5be75a[0x1][_0x1de3a5(0xf2)]-_0xaab266[0x1][_0x1de3a5(0xf2)]);if(_0x23b399[_0x1de3a5(0x98)]===0x0){_0x2cfabf['innerHTML']=_0x1de3a5(0x100);return;}_0x23b399['forEach'](([_0x171df3,_0x205f61])=>{const _0x30be26=_0x1de3a5,_0x1cda76=Math['round'](_0x205f61[_0x30be26(0x14a)]/_0x205f61['total']*0x64),_0x4f9048=document[_0x30be26(0xed)](_0x30be26(0x106));_0x4f9048[_0x30be26(0xc0)]=_0x30be26(0x70),_0x4f9048[_0x30be26(0x11e)][_0x30be26(0xd0)]=_0x205f61[_0x30be26(0x89)],_0x4f9048[_0x30be26(0xcc)]=_0x30be26(0x12e)+_0x171df3['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x205f61[_0x30be26(0x14a)]+'</span>\x20/\x20'+_0x205f61[_0x30be26(0xf2)]+_0x30be26(0x99)+_0x1cda76+_0x30be26(0xb6),_0x2cfabf[_0x30be26(0x161)](_0x4f9048);});}function openDetails(_0x45e707){const _0x2bf4a5=a3_0x2198ca;currentSession=_0x45e707;const _0x1d99ce=new Date(_0x45e707[_0x2bf4a5(0xaf)]),_0xcda35d=_0x1d99ce[_0x2bf4a5(0x127)]('ru-RU',{'weekday':_0x2bf4a5(0x147),'day':_0x2bf4a5(0x87),'month':'long'});document[_0x2bf4a5(0xa5)](_0x2bf4a5(0x11a))[_0x2bf4a5(0x7f)]=_0xcda35d[_0x2bf4a5(0x154)](0x0)['toUpperCase']()+_0xcda35d[_0x2bf4a5(0xc9)](0x1),document[_0x2bf4a5(0xa5)]('detTime')[_0x2bf4a5(0x7f)]=_0x45e707['start']+_0x2bf4a5(0xe2)+_0x45e707[_0x2bf4a5(0x12c)],document[_0x2bf4a5(0xa5)]('detNote')[_0x2bf4a5(0x7f)]=_0x45e707[_0x2bf4a5(0xb7)]||_0x2bf4a5(0xce);const _0x33bb49=document[_0x2bf4a5(0xa5)]('detStatus'),_0x28e452=document['getElementById']('cancelContainer'),_0x3156cb=_0x28e452[_0x2bf4a5(0x90)](_0x2bf4a5(0xd7)),_0x31e0c9=_0x28e452[_0x2bf4a5(0x90)](_0x2bf4a5(0x73)),_0x335200=document[_0x2bf4a5(0xa5)](_0x2bf4a5(0x136));if(_0x45e707[_0x2bf4a5(0x13f)]===_0x2bf4a5(0x167))_0x33bb49[_0x2bf4a5(0x7f)]=_0x2bf4a5(0x72),_0x33bb49[_0x2bf4a5(0x11e)][_0x2bf4a5(0x89)]='var(--acc-green)',_0x28e452['style'][_0x2bf4a5(0x10c)]='none';else{_0x33bb49['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x33bb49['style'][_0x2bf4a5(0x89)]=_0x2bf4a5(0xae),_0x28e452[_0x2bf4a5(0x11e)][_0x2bf4a5(0x10c)]=_0x2bf4a5(0xfb);const _0x4e63b2=new Date(_0x45e707['dateStr']+'T'+_0x45e707['start']),_0x3615ef=new Date(),_0x11ccd7=(_0x4e63b2-_0x3615ef)/(0x3e8*0x3c*0x3c),_0xe63cb6=coachProfiles[_0x45e707['coachId']]&&coachProfiles[_0x45e707['coachId']]['cancel_window']?parseInt(coachProfiles[_0x45e707[_0x2bf4a5(0x143)]]['cancel_window']):0x18;if(_0xe63cb6===0x0||_0x11ccd7>=_0xe63cb6)_0x3156cb['style'][_0x2bf4a5(0x10c)]=_0x2bf4a5(0xfb),_0x31e0c9[_0x2bf4a5(0x11e)][_0x2bf4a5(0x10c)]=_0x2bf4a5(0xfb),_0x335200[_0x2bf4a5(0x11e)][_0x2bf4a5(0x10c)]=_0x2bf4a5(0x111);else{_0x3156cb[_0x2bf4a5(0x11e)][_0x2bf4a5(0x10c)]=_0x2bf4a5(0x111),_0x31e0c9['style'][_0x2bf4a5(0x10c)]='none',_0x335200[_0x2bf4a5(0x11e)]['display']='block';let _0x39bb82=_0xe63cb6===0x0?_0x2bf4a5(0x126):_0x2bf4a5(0x7e)+_0xe63cb6+_0x2bf4a5(0x12f);_0x335200[_0x2bf4a5(0x7f)]=_0x2bf4a5(0x16c)+_0x39bb82+_0x2bf4a5(0x10f);}}document[_0x2bf4a5(0xa5)]('overlay')['classList'][_0x2bf4a5(0x114)]('active'),document['getElementById'](_0x2bf4a5(0xe1))[_0x2bf4a5(0x15b)][_0x2bf4a5(0x114)](_0x2bf4a5(0x15c));}function closeAllSheets(){const _0x534b08=a3_0x2198ca;document[_0x534b08(0xa5)](_0x534b08(0xcb))[_0x534b08(0x15b)][_0x534b08(0xa6)](_0x534b08(0xf8)),document[_0x534b08(0x153)](_0x534b08(0x13b))[_0x534b08(0xad)](_0x4db10e=>_0x4db10e['classList'][_0x534b08(0xa6)](_0x534b08(0x15c)));}function openSheet(_0x1c1e07){const _0x5c1625=a3_0x2198ca;document[_0x5c1625(0xa5)]('overlay')[_0x5c1625(0x15b)][_0x5c1625(0x114)]('active'),document[_0x5c1625(0xa5)](_0x1c1e07)[_0x5c1625(0x15b)][_0x5c1625(0x114)](_0x5c1625(0x15c));}function getLocalDateStr(_0xe14e44){const _0x2d366c=a3_0x2198ca,_0x34e969=_0xe14e44['getFullYear'](),_0x5459ef=String(_0xe14e44[_0x2d366c(0x120)]()+0x1)[_0x2d366c(0x79)](0x2,'0'),_0x51562b=String(_0xe14e44[_0x2d366c(0x105)]())[_0x2d366c(0x79)](0x2,'0');return _0x34e969+'-'+_0x5459ef+'-'+_0x51562b;}function getStartOfWeek(_0x5d0432){const _0x3b4013=a3_0x2198ca,_0x2a81da=new Date(_0x5d0432),_0x288018=_0x2a81da[_0x3b4013(0x130)](),_0x322060=_0x2a81da[_0x3b4013(0x105)]()-_0x288018+(_0x288018===0x0?-0x6:0x1);return _0x2a81da[_0x3b4013(0xe4)](_0x322060),_0x2a81da[_0x3b4013(0x74)](0x0,0x0,0x0,0x0),_0x2a81da;}function a3_0x573f(){const _0x5b4945=['textContent','rs-date-chip','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','flex','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','#0a84ff','scrollTo','headerMonth','numeric','time-label','color','parse','205UzvWEp','show','cancelled','Telegram','px\x20-','querySelector','findIndex','error','\x20status-completed','json','customConfirm','push','stringify','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','BackButton','Unknown','WebApp','<div\x20class=\x22dch-day\x22>','onClick','expand','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setItem','saveLocally','ccTitle','scrollLeft','getElementById','remove','syncLoad','578082fdJhZX','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','user','exceptions','14WKLADd','forEach','var(--acc-blue)','dateStr','rgba(','left','client_cancel','setMonth','.period-switch\x20.p-btn','applyData','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','planned','substring','entries','ready','\x20–∏–∑\x20','substr','Critical\x20TMA\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','initDataUnsafe','#050505','setBackgroundColor','sid','test','.rs-date-chip','\x20–≤\x20','uc_client_settings','slice','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','overlay','innerHTML','now','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','1142152EElqEp','borderLeftColor','disableVerticalSwipes','toString','strokeDashoffset','</div><div\x20class=\x22dch-num\x22>','daysHeaderTrack','</div>','.btn-cancel','reschedule','ccYesBtn','102207orZQGR','pattern','start','scrollTop','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scroll','detailsSheet','\x20-\x20','cid','setDate','gridColumns','analyticsSheet','13532YacBlg','calendar','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','T23:59:59','getHours','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','createElement','.day-col-header','<span>','colIndex','insertBefore','total','%\x20+\x202px)','anCustomDates','backgroundColor','apply','join','active','zIndex','anTotalStats','block','fontWeight','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','event-card','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','anStart','getItem','analyticsList','isArray','getDate','div','rsDatesTrack','week','.day-column','coach_profiles','offsetWidth','display','anDonutCircle','ru-RU','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','matrixViewport','none','seriesId','calc(','add','rescheduleSheet','day-off-overlay\x20stripe-bg','day-col-header\x20','getAttribute','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','detDate','30069PMuYUT','DOMContentLoaded','loadLocal','style','ranges','getMonth','blocked-slot\x20stripe-bg','timeLineBadge','day-column\x20','width','scrollWidth','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','toLocaleDateString','split','backgroundPosition','clientWidth','filter','end','clientId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','\x20—á.','getDay','offsetLeft','toast','anPercent','today','router.html','cancelHint','600','search','visible','uc_client_list','.sheet','createDocumentFragment','(((.+)+)+)+$','client_load','status','initData','toUpperCase','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','coachId','data-date','href','location','long','startsWith','auto','done','443475RjbhAx','clients','month','floor','getFullYear','#ff453a','round','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','querySelectorAll','charAt','.day-col-header[data-date=\x22','1510slQFaY','addEventListener','value','timeColumn','sort','classList','open','firstChild','then','getTime','anEnd','appendChild','getMinutes','setHeaderColor','data-day-idx','top','map','completed','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','setAttribute','ccText','rsSlotsGrid','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','uc_client_sessions','max','onclick','log','client-stat-card','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.btn-reschedule','setHours','height','POST','%\x20-\x204px)','Error\x20setting\x20back\x20button:','padStart','settings','keys','px\x200px','361518tuAmyL','–∑–∞\x20'];a3_0x573f=function(){return _0x5b4945;};return a3_0x573f();}function scrollToToday(){const _0x570bc1=getLocalDateStr(new Date());setTimeout(()=>{const _0x2e13a6=a3_0x1296,_0x571933=document[_0x2e13a6(0x90)](_0x2e13a6(0x155)+_0x570bc1+'\x22]');if(_0x571933){const _0x43ffc8=document[_0x2e13a6(0xa5)](_0x2e13a6(0x110)),_0x2f7d51=_0x571933[_0x2e13a6(0x131)]-_0x43ffc8[_0x2e13a6(0x12a)]/0x2+_0x571933[_0x2e13a6(0x10b)]/0x2;_0x43ffc8[_0x2e13a6(0x85)]({'left':_0x2f7d51,'behavior':_0x2e13a6(0x149)}),_0x43ffc8[_0x2e13a6(0xdd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4022a9=a3_0x2198ca,_0x1bfe15=new Date(),_0x1bf376=document['getElementById']('globalTimeLine'),_0x36ce03=document[_0x4022a9(0xa5)](_0x4022a9(0x122)),_0x1d448e=(_0x1bfe15[_0x4022a9(0xeb)]()*0x3c+_0x1bfe15[_0x4022a9(0x162)]())/0x3c*GRID_H;_0x1bf376[_0x4022a9(0x11e)][_0x4022a9(0x165)]=_0x1d448e+'px',_0x1bf376[_0x4022a9(0x11e)][_0x4022a9(0x10c)]=_0x4022a9(0xfb),_0x36ce03[_0x4022a9(0x11e)][_0x4022a9(0x165)]=_0x1d448e+'px',_0x36ce03['style'][_0x4022a9(0x10c)]='block',_0x36ce03[_0x4022a9(0x7f)]=String(_0x1bfe15[_0x4022a9(0xeb)]())['padStart'](0x2,'0')+':'+String(_0x1bfe15[_0x4022a9(0x162)]())['padStart'](0x2,'0');}function onScroll(){const _0x2679ef=a3_0x2198ca,_0x14d08e=document[_0x2679ef(0xa5)](_0x2679ef(0x110)),_0x36a327=document[_0x2679ef(0x153)](_0x2679ef(0xee));for(let _0x1095c6 of _0x36a327)if(_0x1095c6[_0x2679ef(0x131)]>=_0x14d08e['scrollLeft']){const _0x4458f8=new Date(_0x1095c6[_0x2679ef(0x118)]('data-date'));document[_0x2679ef(0xa5)](_0x2679ef(0x86))['textContent']=_0x4458f8['toLocaleString']('ru',{'month':_0x2679ef(0x147)})[_0x2679ef(0x141)]()+'\x20'+_0x4458f8[_0x2679ef(0x14f)]();break;}}function showToast(_0x589c6f){const _0x2bb308=a3_0x2198ca,_0x49dbd2=document['getElementById'](_0x2bb308(0x132));_0x49dbd2[_0x2bb308(0x7f)]=_0x589c6f,_0x49dbd2[_0x2bb308(0x15b)][_0x2bb308(0x114)]('show'),setTimeout(()=>_0x49dbd2[_0x2bb308(0x15b)][_0x2bb308(0xa6)](_0x2bb308(0x8c)),0x7d0);}function handleInfiniteScroll(){const _0x422083=a3_0x2198ca,_0x5a016e=document[_0x422083(0xa5)](_0x422083(0x110)),_0xc132e0=_0x5a016e['scrollLeft'],_0x2893fa=_0x5a016e[_0x422083(0x125)],_0x2073f9=_0x5a016e[_0x422083(0x12a)];if(_0x2893fa-(_0xc132e0+_0x2073f9)<0x12c){const _0x48ba0a=endOffset;endOffset+=0xe,renderDayRange(_0x48ba0a+0x1,endOffset),reRenderBlocks();}if(_0xc132e0<0x12c){const _0x368089=startOffset;startOffset-=0xe,prependDays(startOffset,_0x368089-0x1),_0x5a016e[_0x422083(0xa4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5e1bd9,_0x3a7113){const _0x3659c2=a3_0x2198ca,_0x20a050=document[_0x3659c2(0xa5)](_0x3659c2(0xd5)),_0x23a59f=document[_0x3659c2(0xa5)]('gridColumns'),_0x106951=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e3c9f=new Date();_0x1e3c9f['setHours'](0x0,0x0,0x0,0x0);const _0x1080d3=getLocalDateStr(new Date()),_0x2d2ea7=document[_0x3659c2(0x13c)](),_0x5effa6=document['createDocumentFragment']();for(let _0x4feaaa=_0x5e1bd9;_0x4feaaa<=_0x3a7113;_0x4feaaa++){const _0x17b5be=new Date(_0x1e3c9f);_0x17b5be[_0x3659c2(0xe4)](_0x17b5be['getDate']()+_0x4feaaa);const _0x150f65=getLocalDateStr(_0x17b5be);let _0x568de5=_0x17b5be['getDay']()-0x1;if(_0x568de5===-0x1)_0x568de5=0x6;const _0x2ab17f=_0x150f65===_0x1080d3,_0x1f154e=document[_0x3659c2(0xed)]('div');_0x1f154e['className']='day-col-header\x20'+(_0x2ab17f?_0x3659c2(0x134):''),_0x1f154e[_0x3659c2(0x169)]('data-date',_0x150f65),_0x1f154e['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x106951[_0x568de5]+_0x3659c2(0xd4)+_0x17b5be[_0x3659c2(0x105)]()+_0x3659c2(0xd6),_0x2d2ea7['appendChild'](_0x1f154e);const _0x638515=document[_0x3659c2(0xed)](_0x3659c2(0x106));_0x638515[_0x3659c2(0xc0)]=_0x3659c2(0x123)+(_0x2ab17f?_0x3659c2(0x134):''),_0x638515[_0x3659c2(0x169)](_0x3659c2(0x144),_0x150f65),_0x638515[_0x3659c2(0x169)]('data-day-idx',_0x568de5),_0x5effa6[_0x3659c2(0x161)](_0x638515);}_0x20a050[_0x3659c2(0xf1)](_0x2d2ea7,_0x20a050[_0x3659c2(0x15d)]),_0x23a59f['insertBefore'](_0x5effa6,_0x23a59f[_0x3659c2(0x90)]('.day-column'));}function hexToRgba(_0x866e34,_0x31b5ff){const _0xd254cb=a3_0x2198ca;let _0x35a392;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0xd254cb(0xc5)](_0x866e34))return _0x35a392=_0x866e34[_0xd254cb(0xb9)](0x1)[_0xd254cb(0x128)](''),_0x35a392[_0xd254cb(0x98)]==0x3&&(_0x35a392=[_0x35a392[0x0],_0x35a392[0x0],_0x35a392[0x1],_0x35a392[0x1],_0x35a392[0x2],_0x35a392[0x2]]),_0x35a392='0x'+_0x35a392['join'](''),_0xd254cb(0xb0)+[_0x35a392>>0x10&0xff,_0x35a392>>0x8&0xff,_0x35a392&0xff][_0xd254cb(0xf7)](',')+','+_0x31b5ff+')';return'rgba(10,\x20132,\x20255,\x20'+_0x31b5ff+')';}let confirmResolver=null;function showCustomConfirm(_0x58d7a2,_0x5edc66,_0x489739=!![]){const _0xbaf311=a3_0x2198ca;document[_0xbaf311(0xa5)](_0xbaf311(0xa3))['textContent']=_0x58d7a2,document['getElementById'](_0xbaf311(0x16a))['textContent']=_0x5edc66;const _0x1df3c7=document[_0xbaf311(0xa5)](_0xbaf311(0xd9));return _0x489739?(_0x1df3c7['style'][_0xbaf311(0x89)]=_0xbaf311(0x150),_0x1df3c7[_0xbaf311(0x11e)][_0xbaf311(0xfc)]='600'):(_0x1df3c7['style']['color']=_0xbaf311(0x84),_0x1df3c7[_0xbaf311(0x11e)][_0xbaf311(0xfc)]=_0xbaf311(0x137)),new Promise(_0x6578b=>{const _0x2c0319=_0xbaf311;confirmResolver=_0x6578b,document['getElementById'](_0x2c0319(0x95))['classList'][_0x2c0319(0x114)](_0x2c0319(0x139));});}function resolveCustomConfirm(_0x428ffa){const _0x5ecdf5=a3_0x2198ca;document[_0x5ecdf5(0xa5)](_0x5ecdf5(0x95))['classList']['remove']('visible');if(confirmResolver)confirmResolver(_0x428ffa);}async function tryCancelCurrentSession(){const _0x5bb71e=a3_0x2198ca;if(!currentSession)return;const _0xab779b=await showCustomConfirm(_0x5bb71e(0x81),_0x5bb71e(0xff),!![]);if(!_0xab779b)return;const _0x4c9a78=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x418838=>_0x418838['id']!==_0x4c9a78['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x51ddad=window['Telegram']?.[_0x5bb71e(0x9c)],_0x6a7f15=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x5bb71e(0xb2),'init_data':_0x51ddad?.[_0x5bb71e(0x140)]||'','coachId':_0x4c9a78[_0x5bb71e(0x143)],'dateStr':_0x4c9a78[_0x5bb71e(0xaf)],'sessionId':_0x4c9a78['id']})});if(_0x6a7f15['ok'])DataManager[_0x5bb71e(0xa2)]();}catch(_0x35e546){showToast(_0x5bb71e(0x142));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5a69d8=a3_0x2198ca;if(!currentSession)return;document['getElementById'](_0x5a69d8(0xe1))[_0x5a69d8(0x15b)][_0x5a69d8(0xa6)](_0x5a69d8(0x15c)),document[_0x5a69d8(0xa5)](_0x5a69d8(0x115))[_0x5a69d8(0x15b)]['add'](_0x5a69d8(0x15c));const _0x3e81a2=document[_0x5a69d8(0xa5)](_0x5a69d8(0x107)),_0x5ad475=document['getElementById']('rsSlotsGrid');_0x3e81a2[_0x5a69d8(0xcc)]='',_0x5ad475[_0x5a69d8(0xcc)]=_0x5a69d8(0x119);const [_0x223db1,_0x3cf503]=currentSession[_0x5a69d8(0xdc)]['split'](':')[_0x5a69d8(0x166)](Number),[_0x2772fc,_0x43cf10]=currentSession[_0x5a69d8(0x12c)][_0x5a69d8(0x128)](':')['map'](Number),_0x5c73cd=_0x2772fc*0x3c+_0x43cf10-(_0x223db1*0x3c+_0x3cf503);try{const _0x47834c=window[_0x5a69d8(0x8e)]?.[_0x5a69d8(0x9c)],_0x5eb81e=await fetch(API_URL,{'method':'POST','body':JSON[_0x5a69d8(0x97)]({'action':'get_slots','coachId':currentSession[_0x5a69d8(0x143)],'duration':_0x5c73cd,'init_data':_0x47834c?.[_0x5a69d8(0x140)]||'','excludeSessionId':currentSession['id']})}),_0x193f67=await _0x5eb81e[_0x5a69d8(0x94)]();_0x193f67['ok']&&_0x193f67['data']?(availableSlotsCache=_0x193f67[_0x5a69d8(0xde)],renderRescheduleDates()):_0x5ad475[_0x5a69d8(0xcc)]=_0x5a69d8(0xe9);}catch(_0x56c407){_0x5ad475[_0x5a69d8(0xcc)]=_0x5a69d8(0x168);}}function renderRescheduleDates(){const _0x53da23=a3_0x2198ca,_0x292371=document['getElementById'](_0x53da23(0x107));_0x292371[_0x53da23(0xcc)]='';const _0x1420d4=Object[_0x53da23(0x7b)](availableSlotsCache)[_0x53da23(0x15a)](),_0x1899dc=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1420d4[_0x53da23(0x98)]===0x0){document[_0x53da23(0xa5)](_0x53da23(0x16b))['innerHTML']=_0x53da23(0xa9);return;}_0x1420d4[_0x53da23(0xad)]((_0x244819,_0x37e7aa)=>{const _0x5e5e2a=_0x53da23,_0x36ba1d=new Date(_0x244819),_0x215682=_0x1899dc[_0x36ba1d[_0x5e5e2a(0x130)]()],_0x12860f=_0x36ba1d[_0x5e5e2a(0x105)](),_0x2272d2=document[_0x5e5e2a(0xed)](_0x5e5e2a(0x106));_0x2272d2[_0x5e5e2a(0xc0)]=_0x5e5e2a(0x80);if(_0x37e7aa===0x0)_0x2272d2[_0x5e5e2a(0x15b)][_0x5e5e2a(0x114)](_0x5e5e2a(0xf8));_0x2272d2[_0x5e5e2a(0xcc)]='<div\x20class=\x22rs-day-name\x22>'+_0x215682+'</div><div\x20class=\x22rs-day-num\x22>'+_0x12860f+_0x5e5e2a(0xd6),_0x2272d2[_0x5e5e2a(0x6e)]=()=>selectRsDate(_0x244819,_0x2272d2),_0x292371['appendChild'](_0x2272d2);}),selectRsDate(_0x1420d4[0x0],_0x292371[_0x53da23(0x15d)]);}function selectRsDate(_0x513cb7,_0x3d1794){const _0x29e63b=a3_0x2198ca;selectedRsDate=_0x513cb7,document[_0x29e63b(0x153)](_0x29e63b(0xc6))['forEach'](_0x3aa668=>_0x3aa668[_0x29e63b(0x15b)][_0x29e63b(0xa6)](_0x29e63b(0xf8)));if(_0x3d1794)_0x3d1794[_0x29e63b(0x15b)][_0x29e63b(0x114)](_0x29e63b(0xf8));const _0xc8b03a=document[_0x29e63b(0xa5)](_0x29e63b(0x16b));_0xc8b03a['innerHTML']='';const _0x362f53=availableSlotsCache[_0x513cb7]||[];if(_0x362f53['length']===0x0){_0xc8b03a['innerHTML']=_0x29e63b(0xe9);return;}_0x362f53[_0x29e63b(0xad)](_0x2a6c37=>{const _0x53fee3=_0x29e63b,_0xeea2bd=document[_0x53fee3(0xed)]('button');_0xeea2bd['className']='rs-time-btn',_0xeea2bd[_0x53fee3(0x7f)]=_0x2a6c37,_0xeea2bd[_0x53fee3(0x6e)]=()=>confirmReschedule(_0x2a6c37),_0xc8b03a[_0x53fee3(0x161)](_0xeea2bd);});}async function confirmReschedule(_0x40b1d7){const _0x36723d=a3_0x2198ca,_0x6f4579=new Date(selectedRsDate),_0x4b9228=_0x6f4579[_0x36723d(0x127)](_0x36723d(0x10e),{'day':_0x36723d(0x87),'month':_0x36723d(0x147)}),_0x5ad8b7=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x36723d(0x71)+_0x4b9228+_0x36723d(0xc7)+_0x40b1d7+'?',![]);if(!_0x5ad8b7)return;closeAllSheets(),showToast(_0x36723d(0x83)),lastUserActionTime=Date[_0x36723d(0xcd)]();const _0x218d4c=currentSession['dateStr'],_0x5e50b8=currentSession['id'],[_0x5b1079,_0x448cd6]=currentSession['start'][_0x36723d(0x128)](':')[_0x36723d(0x166)](Number),[_0x3b9c0c,_0x564db7]=currentSession['end'][_0x36723d(0x128)](':')[_0x36723d(0x166)](Number),_0x51d2a8=_0x3b9c0c*0x3c+_0x564db7-(_0x5b1079*0x3c+_0x448cd6),[_0x41c129,_0xe2a358]=_0x40b1d7[_0x36723d(0x128)](':')[_0x36723d(0x166)](Number),_0x47654f=_0x41c129*0x3c+_0xe2a358+_0x51d2a8,_0x1ea097=Math[_0x36723d(0x14e)](_0x47654f/0x3c),_0x432d55=_0x47654f%0x3c,_0x5d8662=String(_0x1ea097)[_0x36723d(0x79)](0x2,'0')+':'+String(_0x432d55)[_0x36723d(0x79)](0x2,'0'),_0x34161f=sessions[_0x36723d(0x91)](_0x19dd07=>_0x19dd07['id']===_0x5e50b8);_0x34161f!==-0x1&&(sessions[_0x34161f]['dateStr']=selectedRsDate,sessions[_0x34161f][_0x36723d(0xdc)]=_0x40b1d7,sessions[_0x34161f][_0x36723d(0x12c)]=_0x5d8662,reRenderBlocks());try{const _0x3acdfd=window[_0x36723d(0x8e)]?.[_0x36723d(0x9c)],_0x94e920=await fetch(API_URL,{'method':_0x36723d(0x76),'body':JSON[_0x36723d(0x97)]({'action':_0x36723d(0xd8),'init_data':_0x3acdfd?.[_0x36723d(0x140)]||'','oldSessionId':_0x5e50b8,'oldDate':_0x218d4c,'newDate':selectedRsDate,'newTime':_0x40b1d7,'coachId':currentSession[_0x36723d(0x143)]})}),_0x389d41=await _0x94e920['json']();!_0x389d41['ok']?(showToast(_0x36723d(0xca)),DataManager[_0x36723d(0xa7)]()):(showToast(_0x36723d(0xec)),DataManager[_0x36723d(0xa2)]());}catch(_0x4998ea){showToast(_0x36723d(0x142));}}document['addEventListener'](a3_0x2198ca(0x11c),init);