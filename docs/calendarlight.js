const a3_0x46dcb6=a3_0x43c8;(function(_0x30e31f,_0x8ea661){const _0x4a9383=a3_0x43c8,_0x4c2d18=_0x30e31f();while(!![]){try{const _0x37f3ca=parseInt(_0x4a9383(0x93))/0x1*(-parseInt(_0x4a9383(0x108))/0x2)+-parseInt(_0x4a9383(0xd6))/0x3*(parseInt(_0x4a9383(0x151))/0x4)+parseInt(_0x4a9383(0x164))/0x5+parseInt(_0x4a9383(0xc0))/0x6*(parseInt(_0x4a9383(0xe7))/0x7)+-parseInt(_0x4a9383(0x144))/0x8*(-parseInt(_0x4a9383(0xf1))/0x9)+parseInt(_0x4a9383(0xc9))/0xa+parseInt(_0x4a9383(0x131))/0xb*(-parseInt(_0x4a9383(0xbe))/0xc);if(_0x37f3ca===_0x8ea661)break;else _0x4c2d18['push'](_0x4c2d18['shift']());}catch(_0x149f03){_0x4c2d18['push'](_0x4c2d18['shift']());}}}(a3_0x22ef,0xc6726));const APP_VERSION=a3_0x46dcb6(0x116),API_URL=a3_0x46dcb6(0x130),GRID_H=0x3c,KEY_SESSIONS=a3_0x46dcb6(0x149),KEY_SETTINGS=a3_0x46dcb6(0x8e),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x46dcb6(0xfb),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x285fe1=a3_0x46dcb6,_0x225545=(function(){let _0x124f24=!![];return function(_0x376d8b,_0x3cd02b){const _0x4c10ae=_0x124f24?function(){const _0x241473=a3_0x43c8;if(_0x3cd02b){const _0x577f21=_0x3cd02b[_0x241473(0xb7)](_0x376d8b,arguments);return _0x3cd02b=null,_0x577f21;}}:function(){};return _0x124f24=![],_0x4c10ae;};}()),_0x255d4f=_0x225545(this,function(){const _0x4d4b9d=a3_0x43c8;return _0x255d4f['toString']()[_0x4d4b9d(0x12d)](_0x4d4b9d(0x16a))['toString']()[_0x4d4b9d(0x168)](_0x255d4f)['search'](_0x4d4b9d(0x16a));});_0x255d4f();try{const _0x20edce=window[_0x285fe1(0xb2)]?.[_0x285fe1(0x163)];if(!_0x20edce)return;_0x20edce[_0x285fe1(0x15e)](),_0x20edce[_0x285fe1(0x83)]();try{_0x20edce[_0x285fe1(0xd7)]('#050505'),_0x20edce[_0x285fe1(0x13d)]&&_0x20edce[_0x285fe1(0x13d)]('#050505');}catch(_0x25893b){console[_0x285fe1(0x11f)]('Error\x20setting\x20color:',_0x25893b);}try{_0x20edce[_0x285fe1(0xd2)]&&(_0x20edce[_0x285fe1(0xd2)]['show'](),_0x20edce[_0x285fe1(0xd2)][_0x285fe1(0xd0)](),_0x20edce[_0x285fe1(0xd2)][_0x285fe1(0x80)](function(){const _0x56d4e6=_0x285fe1;window['location'][_0x56d4e6(0xa6)]=_0x56d4e6(0xb4);}));}catch(_0x3f4a31){console[_0x285fe1(0x11f)](_0x285fe1(0x136),_0x3f4a31);}try{if(_0x20edce[_0x285fe1(0x172)])_0x20edce['disableVerticalSwipes']();}catch(_0x48e5f9){}}catch(_0x2acc5e){console['error'](_0x285fe1(0xd1),_0x2acc5e);}}());function isAdmin(){const _0x414afa=a3_0x46dcb6;try{const _0x173462=Number(window['Telegram']?.[_0x414afa(0x163)]?.['initDataUnsafe']?.['user']?.['id']);return _0x173462===0xbaf7174;}catch(_0x3cfecd){return![];}}function a3_0x22ef(){const _0x8a4f65=['%\x20-\x204px)','%\x20+\x202px)','uc_client_sessions','filter','client-stat-card','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','detStatus','block','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','scrollTop','68ihRJQc','coachId','day-off-overlay\x20stripe-bg','syncLoad','client_load','now','gridColumns','dateStr','colIndex','<div\x20class=\x22dch-day\x22>','timeColumn','backgroundColor','.day-column','ready','getDate','toLocaleString','stringify','rgba(10,\x20132,\x20255,\x20','WebApp','7223135zbATVR','substr','data','onclick','constructor','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','(((.+)+)+)+$','T00:00:00','<span>','applyData','\x20–≤\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','#0a84ff','anTotalStats','disableVerticalSwipes','initData','top','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','then','detailsSheet','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','overlay','matrixViewport','ccText','calc(','.sheet','onClick','client_cancel','start','expand','numeric','json','anPercent','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','open','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','day-column\x20','analyticsSheet','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','uc_client_settings','setAttribute','innerHTML','end','calendar','1oUVBnX','auto','value','completed','className','.period-switch\x20.p-btn','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','blocked-slot\x20stripe-bg','DOMContentLoaded','custom','createElement','clients','join','daysHeaderTrack','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','createDocumentFragment','setHours','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','href','data-date','scrollLeft','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','parse','total','getFullYear','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','note','var(--acc-blue)','time-label','toast','Telegram','none','router.html','querySelector','detDate','apply','planned','keys','getHours','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','getAttribute','querySelectorAll','25118196qTVzQy','settings','42408qAlaXO','px\x20-','exceptions','customConfirm','flex','var(--acc-green)','length','anDonutCircle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','13297350MCrsYi','toLocaleDateString','<div\x20class=\x22rs-day-name\x22>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','globalTimeLine','entries',':00</span>','offClick','Critical\x20TMA\x20Error:','BackButton','cid','all','getMinutes','124950OSUGaY','setHeaderColor','zIndex','appendChild','setItem','style','addEventListener','textContent','floor','offsetLeft','insertBefore','setDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','\x20-\x20','today','status','ranges','1274HAjxsX','offsetWidth','mini','stopPropagation','forEach','firstChild','\x20–∏–∑\x20','toString','slice','</span>\x20/\x20','693OvTVLO','</div><div\x20class=\x22rs-day-num\x22>','long','color','\x20status-completed','getTime','event-card','\x20—á.','sid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','week','backgroundPosition','rsSlotsGrid','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','display','show','rsDatesTrack','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','.btn-reschedule','–û—Ç–º–µ–Ω–µ–Ω–æ','seriesId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','fontWeight','1082138Mtchfu','getItem','cancelContainer','map','cancel_window','anEnd','getMonth','strokeDashoffset','classList','cancelHint','scrollWidth','saveLocally','ccYesBtn','getElementById','v9.5-CLIENT-ANALYTICS','T23:59:59','getDay','pattern','cancelled','sort','day-col-header\x20','startsWith','done','log','split','left','rgba(','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','coach_profiles','anStart','detNote','ccTitle','timeLineBadge','test','.btn-cancel','scroll','toUpperCase','search','remove','add','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','11YDdKoR','round','scrollTo','</div>','.day-col-header[data-date=\x22','Error\x20setting\x20back\x20button:','find','min','max','push','borderLeftColor','data-day-idx','setBackgroundColor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','POST','active','div','clientWidth','button','9808GnLlre','</div><div\x20class=\x22dch-num\x22>','–∑–∞\x20'];a3_0x22ef=function(){return _0x8a4f65;};return a3_0x22ef();}const DataManager={'saveLocally'(){const _0x283705=a3_0x46dcb6;try{localStorage[_0x283705(0xda)](KEY_SESSIONS,JSON[_0x283705(0x161)](sessions)),localStorage[_0x283705(0xda)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x39b496){}},'loadLocal'(){const _0x34acce=a3_0x46dcb6;try{const _0x1ca1e3=localStorage[_0x34acce(0x109)](KEY_SESSIONS);if(_0x1ca1e3)sessions=JSON[_0x34acce(0xaa)](_0x1ca1e3);const _0x5c3028=localStorage[_0x34acce(0x109)](KEY_CLIENTS);if(_0x5c3028)clients=JSON[_0x34acce(0xaa)](_0x5c3028);const _0x382af9=localStorage['getItem'](KEY_SETTINGS);if(_0x382af9){const _0x2cd295=JSON['parse'](_0x382af9);if(_0x2cd295['pattern'])availabilityPattern=_0x2cd295[_0x34acce(0x119)];if(_0x2cd295[_0x34acce(0xe6)])specialRanges=_0x2cd295['ranges'];if(_0x2cd295[_0x34acce(0xc2)])dateExceptions=_0x2cd295[_0x34acce(0xc2)];}}catch(_0x5d552f){}},async 'syncLoad'(){const _0x182996=a3_0x46dcb6,_0x21d106=new Date(),_0x3b5dbe=_0x21d106[_0x182996(0xac)]()+'-'+String(_0x21d106[_0x182996(0x10e)]()+0x1)['padStart'](0x2,'0'),_0x1c0fd3=new Date(_0x21d106);_0x1c0fd3['setMonth'](_0x21d106[_0x182996(0x10e)]()+0x1);const _0x559437=_0x1c0fd3['getFullYear']()+'-'+String(_0x1c0fd3[_0x182996(0x10e)]()+0x1)[_0x182996(0xa1)](0x2,'0'),_0xe91f5c=Date[_0x182996(0x156)]();try{const _0x5ef550=window[_0x182996(0xb2)]?.[_0x182996(0x163)],_0x2fa4df=_0x5ef550?.[_0x182996(0x173)]||'',[_0x1f97eb,_0x11264c]=await Promise[_0x182996(0xd4)]([fetch(API_URL,{'method':_0x182996(0x13f),'body':JSON['stringify']({'action':_0x182996(0x155),'init_data':_0x2fa4df,'month_str':_0x3b5dbe})})[_0x182996(0x78)](_0x7b1084=>_0x7b1084[_0x182996(0x85)]()),fetch(API_URL,{'method':_0x182996(0x13f),'body':JSON[_0x182996(0x161)]({'action':_0x182996(0x155),'init_data':_0x2fa4df,'month_str':_0x559437})})[_0x182996(0x78)](_0xecdec3=>_0xecdec3['json']())]);if(lastUserActionTime>_0xe91f5c){console[_0x182996(0x11f)](_0x182996(0xad));return;}if(_0x1f97eb['ok'])this[_0x182996(0x16d)](_0x1f97eb[_0x182996(0x166)],_0x3b5dbe);if(_0x11264c['ok'])this[_0x182996(0x16d)](_0x11264c[_0x182996(0x166)],_0x559437);this[_0x182996(0x113)]();}catch(_0x28b211){}},'applyData'(_0x32568a,_0x2ca4ec){const _0x274218=a3_0x46dcb6;if(!_0x32568a)return;if(_0x32568a[_0x274218(0xbf)]){if(_0x32568a[_0x274218(0xbf)]['pattern'])availabilityPattern=_0x32568a[_0x274218(0xbf)]['pattern'];if(_0x32568a[_0x274218(0xbf)][_0x274218(0xe6)])specialRanges=_0x32568a[_0x274218(0xbf)]['ranges'];if(_0x32568a[_0x274218(0xbf)][_0x274218(0xc2)])dateExceptions=_0x32568a[_0x274218(0xbf)][_0x274218(0xc2)];}if(_0x32568a[_0x274218(0x9e)]&&Array['isArray'](_0x32568a[_0x274218(0x9e)]))clients=_0x32568a[_0x274218(0x9e)];_0x32568a[_0x274218(0x124)]&&(coachProfiles={...coachProfiles,..._0x32568a[_0x274218(0x124)]}),_0x32568a[_0x274218(0x92)]&&(sessions=sessions[_0x274218(0x14a)](_0x44be8a=>!_0x44be8a['dateStr'][_0x274218(0x11d)](_0x2ca4ec)),Object[_0x274218(0xb9)](_0x32568a[_0x274218(0x92)])['forEach'](_0x3d07f1=>{const _0x2a3ce9=_0x274218,_0x4aec52=_0x32568a[_0x2a3ce9(0x92)][_0x3d07f1];_0x4aec52[_0x2a3ce9(0xeb)](_0x14d61e=>{const _0x363921=_0x2a3ce9;sessions[_0x363921(0x13a)]({'id':_0x14d61e['i'],'clientId':_0x14d61e['c'],'coachId':_0x14d61e[_0x363921(0xd3)],'dateStr':_0x2ca4ec+'-'+_0x3d07f1[_0x363921(0xa1)](0x2,'0'),'start':_0x14d61e['s'],'end':_0x14d61e['e'],'note':_0x14d61e['n']||'','status':_0x14d61e['st']||_0x363921(0xb8),'seriesId':_0x14d61e[_0x363921(0xf9)]});});})),reRenderBlocks();}};function init(){const _0x47296c=a3_0x46dcb6;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x47296c(0x115)](_0x47296c(0x7c))[_0x47296c(0xdc)](_0x47296c(0x12b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x47296c(0x154)]();}function renderTimeColumn(){const _0x2e1713=a3_0x46dcb6,_0x19cf4d=document[_0x2e1713(0x115)](_0x2e1713(0x15b)),_0x39a673=document[_0x2e1713(0x115)](_0x2e1713(0x128));_0x19cf4d[_0x2e1713(0x90)]='',_0x19cf4d['appendChild'](_0x39a673);for(let _0x5764ba=0x0;_0x5764ba<0x18;_0x5764ba++){const _0x53dd56=document[_0x2e1713(0x9d)](_0x2e1713(0x141));_0x53dd56[_0x2e1713(0x97)]=_0x2e1713(0xb0);if(_0x5764ba>0x0)_0x53dd56[_0x2e1713(0x90)]=_0x2e1713(0x16c)+String(_0x5764ba)[_0x2e1713(0xa1)](0x2,'0')+_0x2e1713(0xcf);_0x19cf4d[_0x2e1713(0xd9)](_0x53dd56);}}function renderDayRange(_0x4a37df,_0x6b6082){const _0x5675cb=a3_0x46dcb6,_0x5d3bed=document[_0x5675cb(0x115)](_0x5675cb(0xa0)),_0x5278c6=document['getElementById'](_0x5675cb(0x157)),_0xa97f7c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2b8ea0=new Date();_0x2b8ea0[_0x5675cb(0xa4)](0x0,0x0,0x0,0x0);const _0x152ae4=getLocalDateStr(new Date());for(let _0xd1351a=_0x4a37df;_0xd1351a<=_0x6b6082;_0xd1351a++){const _0x3f2b26=new Date(_0x2b8ea0);_0x3f2b26[_0x5675cb(0xe1)](_0x3f2b26[_0x5675cb(0x15f)]()+_0xd1351a);const _0x4e1d33=getLocalDateStr(_0x3f2b26);let _0x5a3af2=_0x3f2b26['getDay']()-0x1;if(_0x5a3af2===-0x1)_0x5a3af2=0x6;const _0x5aa870=_0x4e1d33===_0x152ae4,_0x1eb055=document[_0x5675cb(0x9d)]('div');_0x1eb055[_0x5675cb(0x97)]=_0x5675cb(0x11c)+(_0x5aa870?_0x5675cb(0xe4):''),_0x1eb055['setAttribute'](_0x5675cb(0xa7),_0x4e1d33),_0x1eb055[_0x5675cb(0x90)]=_0x5675cb(0x15a)+_0xa97f7c[_0x5a3af2]+_0x5675cb(0x145)+_0x3f2b26[_0x5675cb(0x15f)]()+_0x5675cb(0x134),_0x5d3bed[_0x5675cb(0xd9)](_0x1eb055);const _0x23cb91=document[_0x5675cb(0x9d)]('div');_0x23cb91[_0x5675cb(0x97)]=_0x5675cb(0x8b)+(_0x5aa870?_0x5675cb(0xe4):''),_0x23cb91[_0x5675cb(0x8f)]('data-date',_0x4e1d33),_0x23cb91[_0x5675cb(0x8f)](_0x5675cb(0x13c),_0x5a3af2),_0x5278c6[_0x5675cb(0xd9)](_0x23cb91);}}function reRenderBlocks(){document['querySelectorAll']('.day-column')['forEach'](_0x35b5bf=>{const _0x1e2d02=a3_0x43c8;_0x35b5bf[_0x1e2d02(0xbd)](_0x1e2d02(0xa9))[_0x1e2d02(0xeb)](_0x2a1f5d=>_0x2a1f5d[_0x1e2d02(0x12e)]());const _0x246a3c=_0x35b5bf[_0x1e2d02(0xbc)]('data-date'),_0x5ea275=parseInt(_0x35b5bf['getAttribute']('data-day-idx')),_0xdf500d=Math[_0x1e2d02(0x132)](_0x35b5bf[_0x1e2d02(0xdf)]);(availabilityPattern[_0x5ea275]||[])[_0x1e2d02(0xeb)](_0x1b6738=>{const _0x52cc21=_0x1e2d02,_0x104a06=document['createElement'](_0x52cc21(0x141));_0x104a06[_0x52cc21(0x97)]=_0x52cc21(0x9a),_0x104a06[_0x52cc21(0xdb)][_0x52cc21(0x174)]=_0x1b6738*GRID_H+'px',_0x104a06[_0x52cc21(0xdb)][_0x52cc21(0xfc)]='-'+_0xdf500d+_0x52cc21(0xc1)+_0x1b6738*GRID_H+'px',_0x35b5bf[_0x52cc21(0xd9)](_0x104a06);});if(specialRanges[_0x1e2d02(0xc6)]>0x0){const _0x261bfa=new Date(_0x246a3c+_0x1e2d02(0x16b))['getTime'](),_0x4ce384=new Date(_0x246a3c+_0x1e2d02(0x117))[_0x1e2d02(0xf6)]();specialRanges['forEach'](_0x373c70=>{const _0x5a490c=_0x1e2d02,_0x304cfb=new Date(_0x373c70[_0x5a490c(0x82)])[_0x5a490c(0xf6)](),_0x2a3880=new Date(_0x373c70[_0x5a490c(0x91)])[_0x5a490c(0xf6)](),_0x3a52eb=Math['max'](_0x261bfa,_0x304cfb),_0x2a8e07=Math[_0x5a490c(0x138)](_0x4ce384,_0x2a3880);if(_0x3a52eb<_0x2a8e07){const _0x375d12=(_0x3a52eb-_0x261bfa)/0x36ee80*GRID_H,_0x26d0a3=(_0x2a8e07-_0x3a52eb)/0x36ee80*GRID_H,_0x141676=document[_0x5a490c(0x9d)](_0x5a490c(0x141));_0x26d0a3>=23.5*GRID_H?(_0x141676[_0x5a490c(0x97)]=_0x5a490c(0x153),_0x141676[_0x5a490c(0xdb)][_0x5a490c(0xfc)]='-'+_0xdf500d+'px\x200px'):(_0x141676[_0x5a490c(0x97)]='blocked-range-part\x20stripe-bg',_0x141676[_0x5a490c(0xdb)][_0x5a490c(0x174)]=_0x375d12+'px',_0x141676[_0x5a490c(0xdb)]['height']=_0x26d0a3+'px',_0x141676[_0x5a490c(0xdb)][_0x5a490c(0xfc)]='-'+_0xdf500d+_0x5a490c(0xc1)+_0x375d12+'px'),_0x35b5bf[_0x5a490c(0xd9)](_0x141676);}});}renderEventsForColumn(_0x35b5bf,_0x246a3c);});}function renderEventsForColumn(_0x2d05c9,_0x274ad1){const _0x1f6680=a3_0x46dcb6,_0x5244fd=sessions[_0x1f6680(0x14a)](_0x3d91b1=>_0x3d91b1[_0x1f6680(0x158)]===_0x274ad1),_0x13d4e0=_0x5244fd[_0x1f6680(0x10b)](_0xb21ccd=>{const _0x32a359=_0x1f6680,[_0x532a4b,_0x56811b]=_0xb21ccd['start'][_0x32a359(0x120)](':')[_0x32a359(0x10b)](Number),[_0xb2693e,_0x4ddf02]=_0xb21ccd[_0x32a359(0x91)][_0x32a359(0x120)](':')[_0x32a359(0x10b)](Number);return{'data':_0xb21ccd,'start':_0x532a4b*0x3c+_0x56811b,'end':_0xb2693e*0x3c+_0x4ddf02,'colIndex':0x0};});_0x13d4e0['sort']((_0x1dccd6,_0x40ae51)=>_0x1dccd6[_0x1f6680(0x82)]-_0x40ae51[_0x1f6680(0x82)]||_0x40ae51[_0x1f6680(0x91)]-_0x40ae51[_0x1f6680(0x82)]-(_0x1dccd6[_0x1f6680(0x91)]-_0x1dccd6['start']));const _0x8a24f7=[];_0x13d4e0['forEach'](_0x30210f=>{const _0x2e6a70=_0x1f6680;let _0x1556a4=![];for(let _0x249aad=0x0;_0x249aad<_0x8a24f7[_0x2e6a70(0xc6)];_0x249aad++){const _0xf2bdc1=_0x8a24f7[_0x249aad];if(_0x30210f['start']>=_0xf2bdc1[_0xf2bdc1['length']-0x1][_0x2e6a70(0x91)]){_0xf2bdc1['push'](_0x30210f),_0x30210f[_0x2e6a70(0x159)]=_0x249aad,_0x1556a4=!![];break;}}!_0x1556a4&&(_0x8a24f7[_0x2e6a70(0x13a)]([_0x30210f]),_0x30210f[_0x2e6a70(0x159)]=_0x8a24f7[_0x2e6a70(0xc6)]-0x1);}),_0x13d4e0['forEach'](_0x49f75b=>{const _0x36b9d7=_0x1f6680;let _0x58c76c=0x0;_0x13d4e0[_0x36b9d7(0xeb)](_0x429d23=>{const _0x55e57f=_0x36b9d7;if(Math[_0x55e57f(0x139)](_0x49f75b[_0x55e57f(0x82)],_0x429d23['start'])<Math['min'](_0x49f75b[_0x55e57f(0x91)],_0x429d23[_0x55e57f(0x91)])&&_0x429d23['colIndex']>_0x58c76c)_0x58c76c=_0x429d23[_0x55e57f(0x159)];});const _0x298bfb=_0x58c76c+0x1,_0x36f850=0x64/_0x298bfb,_0x2cbcf2=_0x49f75b[_0x36b9d7(0x159)]*_0x36f850,_0xce5edd=document[_0x36b9d7(0x9d)](_0x36b9d7(0x141)),_0x3247ea=_0x49f75b[_0x36b9d7(0x166)];let _0x581f40=_0x36b9d7(0x170);if(clients&&clients[_0x36b9d7(0xc6)]>0x0){const _0x5a1691=clients[_0x36b9d7(0x137)](_0xebfd25=>String(_0xebfd25['id'])===String(_0x3247ea['clientId']));if(_0x5a1691&&_0x5a1691[_0x36b9d7(0xf4)])_0x581f40=_0x5a1691['color'];}const _0x89a0db=_0x3247ea[_0x36b9d7(0xe5)]===_0x36b9d7(0x96),_0x10565d=_0x89a0db?0x1:0.45;_0xce5edd[_0x36b9d7(0x97)]=_0x36b9d7(0xf7)+(_0x89a0db?_0x36b9d7(0xf5):''),_0xce5edd[_0x36b9d7(0xdb)][_0x36b9d7(0x15c)]=hexToRgba(_0x581f40,_0x10565d),_0xce5edd['style']['borderLeftColor']=_0x581f40;const _0x475ef9=_0x49f75b[_0x36b9d7(0x82)]/0x3c*GRID_H,_0x3503dd=(_0x49f75b[_0x36b9d7(0x91)]-_0x49f75b[_0x36b9d7(0x82)])/0x3c*GRID_H;_0xce5edd[_0x36b9d7(0xdb)][_0x36b9d7(0x174)]=_0x475ef9+'px',_0xce5edd['style']['height']=Math[_0x36b9d7(0x139)](_0x3503dd,0x14)+'px',_0xce5edd[_0x36b9d7(0xdb)]['width']=_0x36b9d7(0x7e)+_0x36f850+_0x36b9d7(0x147),_0xce5edd[_0x36b9d7(0xdb)][_0x36b9d7(0x121)]='calc('+_0x2cbcf2+_0x36b9d7(0x148),_0xce5edd[_0x36b9d7(0xdb)][_0x36b9d7(0xd8)]=0xa+_0x49f75b[_0x36b9d7(0x159)];if(_0x36f850<0x55)_0xce5edd[_0x36b9d7(0x110)][_0x36b9d7(0x12f)](_0x36b9d7(0xe9));let _0x2ce7c0='';if(_0x3247ea[_0x36b9d7(0x105)])_0x2ce7c0+=_0x36b9d7(0x99);if(_0x89a0db)_0x2ce7c0+=_0x36b9d7(0x169);_0xce5edd['innerHTML']=_0x36b9d7(0xe2)+_0x3247ea['start']+_0x36b9d7(0xe3)+_0x3247ea[_0x36b9d7(0x91)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ce7c0+_0x36b9d7(0xfa),_0xce5edd[_0x36b9d7(0x167)]=_0x4882c6=>{const _0x39d672=_0x36b9d7;_0x4882c6[_0x39d672(0xea)](),openDetails(_0x3247ea);},_0x2d05c9[_0x36b9d7(0xd9)](_0xce5edd);});}function openAnalytics(){const _0x41ed00=a3_0x46dcb6,_0x391dcd=document[_0x41ed00(0xb5)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x391dcd),openSheet(_0x41ed00(0x8c));}function setAnalyticsPeriod(_0x4657de,_0x2771c0){const _0x22fee9=a3_0x46dcb6;currentAnPeriod=_0x4657de,document[_0x22fee9(0xbd)](_0x22fee9(0x98))['forEach'](_0x3c54ed=>_0x3c54ed[_0x22fee9(0x110)][_0x22fee9(0x12e)](_0x22fee9(0x140)));if(_0x2771c0)_0x2771c0[_0x22fee9(0x110)][_0x22fee9(0x12f)](_0x22fee9(0x140));const _0x182b68=document['getElementById']('anCustomDates');_0x182b68[_0x22fee9(0xdb)][_0x22fee9(0xff)]=_0x4657de===_0x22fee9(0x9c)?_0x22fee9(0xc4):_0x22fee9(0xb3);const _0x4e0e25=new Date();let _0x154000=new Date(),_0x53cd82=new Date();if(_0x4657de===_0x22fee9(0xfb))_0x154000=getStartOfWeek(_0x4e0e25),_0x53cd82=new Date(_0x154000),_0x53cd82[_0x22fee9(0xe1)](_0x53cd82[_0x22fee9(0x15f)]()+0x6);else{if(_0x4657de==='month')_0x154000=new Date(_0x4e0e25[_0x22fee9(0xac)](),_0x4e0e25[_0x22fee9(0x10e)](),0x1),_0x53cd82=new Date(_0x4e0e25['getFullYear'](),_0x4e0e25[_0x22fee9(0x10e)]()+0x1,0x0);else{!document[_0x22fee9(0x115)](_0x22fee9(0x125))[_0x22fee9(0x95)]&&(document[_0x22fee9(0x115)](_0x22fee9(0x125))[_0x22fee9(0x95)]=getLocalDateStr(_0x4e0e25),document[_0x22fee9(0x115)](_0x22fee9(0x10d))[_0x22fee9(0x95)]=getLocalDateStr(_0x4e0e25));refreshAnalytics();return;}}document[_0x22fee9(0x115)](_0x22fee9(0x125))['value']=getLocalDateStr(_0x154000),document['getElementById'](_0x22fee9(0x10d))[_0x22fee9(0x95)]=getLocalDateStr(_0x53cd82),refreshAnalytics();}function refreshAnalytics(){const _0x191767=a3_0x46dcb6,_0x5516f1=document[_0x191767(0x115)](_0x191767(0x125))[_0x191767(0x95)],_0x8e88cc=document['getElementById'](_0x191767(0x10d))[_0x191767(0x95)];if(!_0x5516f1||!_0x8e88cc)return;const _0x1a551a=sessions['filter'](_0xe59151=>_0xe59151['dateStr']>=_0x5516f1&&_0xe59151[_0x191767(0x158)]<=_0x8e88cc&&_0xe59151[_0x191767(0xe5)]!==_0x191767(0x11a)),_0x349261=_0x1a551a[_0x191767(0xc6)],_0x46e603=_0x1a551a[_0x191767(0x14a)](_0x2563fe=>_0x2563fe[_0x191767(0xe5)]===_0x191767(0x96))[_0x191767(0xc6)],_0x8d55f4=_0x349261>0x0?Math['round'](_0x46e603/_0x349261*0x64):0x0;document[_0x191767(0x115)](_0x191767(0x86))['textContent']=_0x8d55f4+'%',document[_0x191767(0x115)](_0x191767(0x171))[_0x191767(0xdd)]=_0x46e603+_0x191767(0xed)+_0x349261+_0x191767(0xa5);const _0x15f621=document[_0x191767(0x115)](_0x191767(0xc7)),_0x7dd2a=0x2*Math['PI']*0x23,_0x2f2263=_0x7dd2a-_0x8d55f4/0x64*_0x7dd2a;_0x15f621[_0x191767(0xdb)][_0x191767(0x10f)]=_0x2f2263;const _0x5ac680={};_0x1a551a[_0x191767(0xeb)](_0x599a3d=>{const _0xc73890=_0x191767,_0x271ab3=_0x599a3d['coachId']||'Unknown';if(!_0x5ac680[_0x271ab3]){const _0x4c241a='#'+_0x271ab3[_0xc73890(0xee)]()[_0xc73890(0x165)](0x0,0x6);_0x5ac680[_0x271ab3]={'total':0x0,'done':0x0,'color':_0x4c241a};}_0x5ac680[_0x271ab3][_0xc73890(0xab)]++;if(_0x599a3d['status']==='completed')_0x5ac680[_0x271ab3][_0xc73890(0x11e)]++;});const _0x16d954=document[_0x191767(0x115)]('analyticsList');_0x16d954[_0x191767(0x90)]='';const _0x272625=Object[_0x191767(0xce)](_0x5ac680)[_0x191767(0x11b)]((_0x4ed511,_0x554497)=>_0x554497[0x1][_0x191767(0xab)]-_0x4ed511[0x1]['total']);if(_0x272625['length']===0x0){_0x16d954[_0x191767(0x90)]=_0x191767(0xfe);return;}_0x272625[_0x191767(0xeb)](([_0x2c12e3,_0x386a59])=>{const _0x10ec39=_0x191767,_0x41efef=Math[_0x10ec39(0x132)](_0x386a59['done']/_0x386a59[_0x10ec39(0xab)]*0x64),_0x19d6cc=document[_0x10ec39(0x9d)](_0x10ec39(0x141));_0x19d6cc['className']=_0x10ec39(0x14b),_0x19d6cc[_0x10ec39(0xdb)][_0x10ec39(0x13b)]=_0x386a59[_0x10ec39(0xf4)],_0x19d6cc['innerHTML']=_0x10ec39(0xa2)+_0x2c12e3['substr'](0x0,0x5)+_0x10ec39(0x106)+_0x386a59[_0x10ec39(0x11e)]+_0x10ec39(0xf0)+_0x386a59[_0x10ec39(0xab)]+_0x10ec39(0xc8)+_0x41efef+_0x10ec39(0x89),_0x16d954[_0x10ec39(0xd9)](_0x19d6cc);});}function openDetails(_0x362776){const _0x6a622e=a3_0x46dcb6;currentSession=_0x362776;const _0x323f62=new Date(_0x362776['dateStr']),_0x416cfa=_0x323f62[_0x6a622e(0xca)]('ru-RU',{'weekday':_0x6a622e(0xf3),'day':_0x6a622e(0x84),'month':'long'});document['getElementById'](_0x6a622e(0xb6))['textContent']=_0x416cfa['charAt'](0x0)[_0x6a622e(0x12c)]()+_0x416cfa[_0x6a622e(0xef)](0x1),document[_0x6a622e(0x115)]('detTime')[_0x6a622e(0xdd)]=_0x362776[_0x6a622e(0x82)]+_0x6a622e(0xe3)+_0x362776['end'],document[_0x6a622e(0x115)](_0x6a622e(0x126))[_0x6a622e(0xdd)]=_0x362776[_0x6a622e(0xae)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x20d401=document[_0x6a622e(0x115)](_0x6a622e(0x14d)),_0x36a17d=document[_0x6a622e(0x115)](_0x6a622e(0x10a)),_0x6ed008=_0x36a17d[_0x6a622e(0xb5)](_0x6a622e(0x12a)),_0x22a73e=_0x36a17d[_0x6a622e(0xb5)](_0x6a622e(0x103)),_0x3671d6=document['getElementById'](_0x6a622e(0x111));if(_0x362776[_0x6a622e(0xe5)]===_0x6a622e(0x96))_0x20d401[_0x6a622e(0xdd)]=_0x6a622e(0x8d),_0x20d401['style'][_0x6a622e(0xf4)]=_0x6a622e(0xc5),_0x36a17d[_0x6a622e(0xdb)][_0x6a622e(0xff)]=_0x6a622e(0xb3);else{_0x20d401[_0x6a622e(0xdd)]=_0x6a622e(0x102),_0x20d401[_0x6a622e(0xdb)][_0x6a622e(0xf4)]=_0x6a622e(0xaf),_0x36a17d[_0x6a622e(0xdb)][_0x6a622e(0xff)]=_0x6a622e(0x14e);const _0x124fb8=new Date(_0x362776['dateStr']+'T'+_0x362776[_0x6a622e(0x82)]),_0x57c813=new Date(),_0x3535a2=(_0x124fb8-_0x57c813)/(0x3e8*0x3c*0x3c),_0x1a88f4=coachProfiles[_0x362776[_0x6a622e(0x152)]]&&coachProfiles[_0x362776[_0x6a622e(0x152)]][_0x6a622e(0x10c)]?parseInt(coachProfiles[_0x362776[_0x6a622e(0x152)]][_0x6a622e(0x10c)]):0x18;if(_0x1a88f4===0x0||_0x3535a2>=_0x1a88f4)_0x6ed008['style'][_0x6a622e(0xff)]=_0x6a622e(0x14e),_0x22a73e[_0x6a622e(0xdb)][_0x6a622e(0xff)]=_0x6a622e(0x14e),_0x3671d6[_0x6a622e(0xdb)][_0x6a622e(0xff)]='none';else{_0x6ed008['style']['display']=_0x6a622e(0xb3),_0x22a73e[_0x6a622e(0xdb)][_0x6a622e(0xff)]=_0x6a622e(0xb3),_0x3671d6[_0x6a622e(0xdb)]['display']=_0x6a622e(0x14e);let _0x1a1d27=_0x1a88f4===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x6a622e(0x146)+_0x1a88f4+_0x6a622e(0xf8);_0x3671d6[_0x6a622e(0xdd)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x1a1d27+_0x6a622e(0x175);}}document['getElementById']('overlay')[_0x6a622e(0x110)][_0x6a622e(0x12f)]('active'),document[_0x6a622e(0x115)]('detailsSheet')[_0x6a622e(0x110)][_0x6a622e(0x12f)](_0x6a622e(0x88));}function closeAllSheets(){const _0x580a2c=a3_0x46dcb6;document[_0x580a2c(0x115)](_0x580a2c(0x7b))[_0x580a2c(0x110)][_0x580a2c(0x12e)]('active'),document[_0x580a2c(0xbd)](_0x580a2c(0x7f))[_0x580a2c(0xeb)](_0x30df9d=>_0x30df9d[_0x580a2c(0x110)][_0x580a2c(0x12e)](_0x580a2c(0x88)));}function openSheet(_0x1e6d20){const _0x34f834=a3_0x46dcb6;document[_0x34f834(0x115)]('overlay')['classList'][_0x34f834(0x12f)]('active'),document['getElementById'](_0x1e6d20)[_0x34f834(0x110)][_0x34f834(0x12f)]('open');}function getLocalDateStr(_0x2a3dfd){const _0xff1ef1=a3_0x46dcb6,_0xc8cfab=_0x2a3dfd[_0xff1ef1(0xac)](),_0x376b15=String(_0x2a3dfd['getMonth']()+0x1)[_0xff1ef1(0xa1)](0x2,'0'),_0x281a4a=String(_0x2a3dfd[_0xff1ef1(0x15f)]())[_0xff1ef1(0xa1)](0x2,'0');return _0xc8cfab+'-'+_0x376b15+'-'+_0x281a4a;}function getStartOfWeek(_0x4267af){const _0x374705=a3_0x46dcb6,_0x4a9a77=new Date(_0x4267af),_0x4b5f89=_0x4a9a77[_0x374705(0x118)](),_0x932e7c=_0x4a9a77[_0x374705(0x15f)]()-_0x4b5f89+(_0x4b5f89===0x0?-0x6:0x1);return _0x4a9a77[_0x374705(0xe1)](_0x932e7c),_0x4a9a77[_0x374705(0xa4)](0x0,0x0,0x0,0x0),_0x4a9a77;}function scrollToToday(){const _0x13d99f=getLocalDateStr(new Date());setTimeout(()=>{const _0x3fc158=a3_0x43c8,_0x1edb40=document[_0x3fc158(0xb5)](_0x3fc158(0x135)+_0x13d99f+'\x22]');if(_0x1edb40){const _0x192efe=document[_0x3fc158(0x115)](_0x3fc158(0x7c)),_0x3f3335=_0x1edb40['offsetLeft']-_0x192efe[_0x3fc158(0x142)]/0x2+_0x1edb40[_0x3fc158(0xe8)]/0x2;_0x192efe[_0x3fc158(0x133)]({'left':_0x3f3335,'behavior':_0x3fc158(0x94)}),_0x192efe[_0x3fc158(0x150)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xc00e66=a3_0x46dcb6,_0x31dc24=new Date(),_0x2abeb2=document[_0xc00e66(0x115)](_0xc00e66(0xcd)),_0x919157=document['getElementById']('timeLineBadge'),_0x1243cd=(_0x31dc24[_0xc00e66(0xba)]()*0x3c+_0x31dc24['getMinutes']())/0x3c*GRID_H;_0x2abeb2[_0xc00e66(0xdb)][_0xc00e66(0x174)]=_0x1243cd+'px',_0x2abeb2['style'][_0xc00e66(0xff)]=_0xc00e66(0x14e),_0x919157[_0xc00e66(0xdb)][_0xc00e66(0x174)]=_0x1243cd+'px',_0x919157[_0xc00e66(0xdb)][_0xc00e66(0xff)]=_0xc00e66(0x14e),_0x919157[_0xc00e66(0xdd)]=String(_0x31dc24[_0xc00e66(0xba)]())['padStart'](0x2,'0')+':'+String(_0x31dc24[_0xc00e66(0xd5)]())[_0xc00e66(0xa1)](0x2,'0');}function onScroll(){const _0x3ae655=a3_0x46dcb6,_0x4d364a=document[_0x3ae655(0x115)](_0x3ae655(0x7c)),_0x2993f7=document['querySelectorAll']('.day-col-header');for(let _0x4950c9 of _0x2993f7)if(_0x4950c9[_0x3ae655(0xdf)]>=_0x4d364a[_0x3ae655(0xa8)]){const _0x33a1a3=new Date(_0x4950c9[_0x3ae655(0xbc)](_0x3ae655(0xa7)));document['getElementById']('headerMonth')['textContent']=_0x33a1a3[_0x3ae655(0x160)]('ru',{'month':_0x3ae655(0xf3)})[_0x3ae655(0x12c)]()+'\x20'+_0x33a1a3[_0x3ae655(0xac)]();break;}}function a3_0x43c8(_0x3e06fa,_0x598714){_0x3e06fa=_0x3e06fa-0x78;const _0x5e5812=a3_0x22ef();let _0x1feff4=_0x5e5812[_0x3e06fa];return _0x1feff4;}function showToast(_0x289e8c){const _0x47ccf2=a3_0x46dcb6,_0x4e179f=document[_0x47ccf2(0x115)](_0x47ccf2(0xb1));_0x4e179f['textContent']=_0x289e8c,_0x4e179f[_0x47ccf2(0x110)][_0x47ccf2(0x12f)](_0x47ccf2(0x100)),setTimeout(()=>_0x4e179f[_0x47ccf2(0x110)][_0x47ccf2(0x12e)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x867256=a3_0x46dcb6,_0x50609c=document['getElementById'](_0x867256(0x7c)),_0x121386=_0x50609c['scrollLeft'],_0x5566c0=_0x50609c[_0x867256(0x112)],_0x2a3953=_0x50609c[_0x867256(0x142)];if(_0x5566c0-(_0x121386+_0x2a3953)<0x12c){const _0x5071fc=endOffset;endOffset+=0xe,renderDayRange(_0x5071fc+0x1,endOffset),reRenderBlocks();}if(_0x121386<0x12c){const _0x47d430=startOffset;startOffset-=0xe,prependDays(startOffset,_0x47d430-0x1),_0x50609c['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x16f951,_0x49d002){const _0x2fec0a=a3_0x46dcb6,_0x325b99=document[_0x2fec0a(0x115)](_0x2fec0a(0xa0)),_0x4f8a37=document[_0x2fec0a(0x115)](_0x2fec0a(0x157)),_0x5bc25b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x559635=new Date();_0x559635[_0x2fec0a(0xa4)](0x0,0x0,0x0,0x0);const _0x348802=getLocalDateStr(new Date()),_0x204026=document[_0x2fec0a(0xa3)](),_0x5669d8=document[_0x2fec0a(0xa3)]();for(let _0x1d2bee=_0x16f951;_0x1d2bee<=_0x49d002;_0x1d2bee++){const _0x5e6439=new Date(_0x559635);_0x5e6439[_0x2fec0a(0xe1)](_0x5e6439[_0x2fec0a(0x15f)]()+_0x1d2bee);const _0x38f075=getLocalDateStr(_0x5e6439);let _0x14159d=_0x5e6439[_0x2fec0a(0x118)]()-0x1;if(_0x14159d===-0x1)_0x14159d=0x6;const _0x12a02d=_0x38f075===_0x348802,_0x5ad4d1=document[_0x2fec0a(0x9d)](_0x2fec0a(0x141));_0x5ad4d1['className']=_0x2fec0a(0x11c)+(_0x12a02d?_0x2fec0a(0xe4):''),_0x5ad4d1['setAttribute'](_0x2fec0a(0xa7),_0x38f075),_0x5ad4d1['innerHTML']=_0x2fec0a(0x15a)+_0x5bc25b[_0x14159d]+_0x2fec0a(0x145)+_0x5e6439[_0x2fec0a(0x15f)]()+_0x2fec0a(0x134),_0x204026[_0x2fec0a(0xd9)](_0x5ad4d1);const _0x38776d=document['createElement']('div');_0x38776d['className']=_0x2fec0a(0x8b)+(_0x12a02d?_0x2fec0a(0xe4):''),_0x38776d[_0x2fec0a(0x8f)](_0x2fec0a(0xa7),_0x38f075),_0x38776d[_0x2fec0a(0x8f)](_0x2fec0a(0x13c),_0x14159d),_0x5669d8[_0x2fec0a(0xd9)](_0x38776d);}_0x325b99[_0x2fec0a(0xe0)](_0x204026,_0x325b99[_0x2fec0a(0xec)]),_0x4f8a37[_0x2fec0a(0xe0)](_0x5669d8,_0x4f8a37[_0x2fec0a(0xb5)](_0x2fec0a(0x15d)));}function hexToRgba(_0x21ebbb,_0x4ddcc9){const _0x27e104=a3_0x46dcb6;let _0xec31bf;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x27e104(0x129)](_0x21ebbb))return _0xec31bf=_0x21ebbb['substring'](0x1)[_0x27e104(0x120)](''),_0xec31bf['length']==0x3&&(_0xec31bf=[_0xec31bf[0x0],_0xec31bf[0x0],_0xec31bf[0x1],_0xec31bf[0x1],_0xec31bf[0x2],_0xec31bf[0x2]]),_0xec31bf='0x'+_0xec31bf['join'](''),_0x27e104(0x122)+[_0xec31bf>>0x10&0xff,_0xec31bf>>0x8&0xff,_0xec31bf&0xff][_0x27e104(0x9f)](',')+','+_0x4ddcc9+')';return _0x27e104(0x162)+_0x4ddcc9+')';}let confirmResolver=null;function showCustomConfirm(_0x3dcdaa,_0x55ffd8,_0x397fcf=!![]){const _0x42d588=a3_0x46dcb6;document[_0x42d588(0x115)](_0x42d588(0x127))['textContent']=_0x3dcdaa,document['getElementById'](_0x42d588(0x7d))['textContent']=_0x55ffd8;const _0x258bec=document[_0x42d588(0x115)](_0x42d588(0x114));return _0x397fcf?(_0x258bec['style'][_0x42d588(0xf4)]='#ff453a',_0x258bec['style'][_0x42d588(0x107)]='600'):(_0x258bec[_0x42d588(0xdb)]['color']='#0a84ff',_0x258bec['style'][_0x42d588(0x107)]='600'),new Promise(_0x100a37=>{const _0x4f29bd=_0x42d588;confirmResolver=_0x100a37,document['getElementById'](_0x4f29bd(0xc3))[_0x4f29bd(0x110)][_0x4f29bd(0x12f)]('visible');});}function resolveCustomConfirm(_0x48ffbf){const _0x1eeabd=a3_0x46dcb6;document[_0x1eeabd(0x115)](_0x1eeabd(0xc3))[_0x1eeabd(0x110)][_0x1eeabd(0x12e)](_0x1eeabd(0x8a));if(confirmResolver)confirmResolver(_0x48ffbf);}async function tryCancelCurrentSession(){const _0x107ced=a3_0x46dcb6;if(!currentSession)return;const _0x41349f=await showCustomConfirm(_0x107ced(0x14c),_0x107ced(0xcc),!![]);if(!_0x41349f)return;const _0x4ae343=currentSession;closeAllSheets(),sessions=sessions[_0x107ced(0x14a)](_0x409985=>_0x409985['id']!==_0x4ae343['id']),reRenderBlocks(),showToast(_0x107ced(0x104)),lastUserActionTime=Date['now']();try{const _0x19ac0b=window['Telegram']?.[_0x107ced(0x163)],_0x4de7fa=await fetch(API_URL,{'method':_0x107ced(0x13f),'body':JSON[_0x107ced(0x161)]({'action':_0x107ced(0x81),'init_data':_0x19ac0b?.['initData']||'','coachId':_0x4ae343[_0x107ced(0x152)],'dateStr':_0x4ae343[_0x107ced(0x158)],'sessionId':_0x4ae343['id']})});if(_0x4de7fa['ok'])DataManager[_0x107ced(0x113)]();}catch(_0x2942d0){showToast(_0x107ced(0xbb));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x47a9ef=a3_0x46dcb6;if(!currentSession)return;document['getElementById'](_0x47a9ef(0x79))[_0x47a9ef(0x110)]['remove'](_0x47a9ef(0x88)),document[_0x47a9ef(0x115)]('rescheduleSheet')['classList'][_0x47a9ef(0x12f)](_0x47a9ef(0x88));const _0x15ca75=document[_0x47a9ef(0x115)](_0x47a9ef(0x101)),_0xd092e4=document[_0x47a9ef(0x115)](_0x47a9ef(0xfd));_0x15ca75[_0x47a9ef(0x90)]='',_0xd092e4[_0x47a9ef(0x90)]=_0x47a9ef(0x87);const [_0x14b998,_0x5ae999]=currentSession[_0x47a9ef(0x82)][_0x47a9ef(0x120)](':')[_0x47a9ef(0x10b)](Number),[_0x1642ea,_0x412496]=currentSession[_0x47a9ef(0x91)][_0x47a9ef(0x120)](':')['map'](Number),_0x560634=_0x1642ea*0x3c+_0x412496-(_0x14b998*0x3c+_0x5ae999);try{const _0x51fd96=window[_0x47a9ef(0xb2)]?.[_0x47a9ef(0x163)],_0x5ac096=await fetch(API_URL,{'method':_0x47a9ef(0x13f),'body':JSON[_0x47a9ef(0x161)]({'action':'get_slots','coachId':currentSession[_0x47a9ef(0x152)],'duration':_0x560634,'init_data':_0x51fd96?.[_0x47a9ef(0x173)]||'','excludeSessionId':currentSession['id']})}),_0x2349e9=await _0x5ac096['json']();_0x2349e9['ok']&&_0x2349e9[_0x47a9ef(0x166)]?(availableSlotsCache=_0x2349e9['data'],renderRescheduleDates()):_0xd092e4[_0x47a9ef(0x90)]=_0x47a9ef(0x13e);}catch(_0x444064){_0xd092e4[_0x47a9ef(0x90)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x33cff7=a3_0x46dcb6,_0x7fb746=document[_0x33cff7(0x115)](_0x33cff7(0x101));_0x7fb746['innerHTML']='';const _0x1049d2=Object[_0x33cff7(0xb9)](availableSlotsCache)['sort'](),_0x51b057=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1049d2[_0x33cff7(0xc6)]===0x0){document[_0x33cff7(0x115)](_0x33cff7(0xfd))[_0x33cff7(0x90)]=_0x33cff7(0x123);return;}_0x1049d2[_0x33cff7(0xeb)]((_0x8607fe,_0x5b22ce)=>{const _0x254868=_0x33cff7,_0x3892ad=new Date(_0x8607fe),_0x4064ca=_0x51b057[_0x3892ad[_0x254868(0x118)]()],_0x1728ae=_0x3892ad[_0x254868(0x15f)](),_0x40c05c=document[_0x254868(0x9d)](_0x254868(0x141));_0x40c05c[_0x254868(0x97)]='rs-date-chip';if(_0x5b22ce===0x0)_0x40c05c['classList'][_0x254868(0x12f)]('active');_0x40c05c[_0x254868(0x90)]=_0x254868(0xcb)+_0x4064ca+_0x254868(0xf2)+_0x1728ae+'</div>',_0x40c05c[_0x254868(0x167)]=()=>selectRsDate(_0x8607fe,_0x40c05c),_0x7fb746['appendChild'](_0x40c05c);}),selectRsDate(_0x1049d2[0x0],_0x7fb746[_0x33cff7(0xec)]);}function selectRsDate(_0x49160f,_0x3e0efb){const _0x2700d8=a3_0x46dcb6;selectedRsDate=_0x49160f,document[_0x2700d8(0xbd)]('.rs-date-chip')[_0x2700d8(0xeb)](_0x4f1330=>_0x4f1330['classList']['remove'](_0x2700d8(0x140)));if(_0x3e0efb)_0x3e0efb[_0x2700d8(0x110)][_0x2700d8(0x12f)](_0x2700d8(0x140));const _0x25a0d1=document[_0x2700d8(0x115)](_0x2700d8(0xfd));_0x25a0d1[_0x2700d8(0x90)]='';const _0x2a1423=availableSlotsCache[_0x49160f]||[];if(_0x2a1423[_0x2700d8(0xc6)]===0x0){_0x25a0d1[_0x2700d8(0x90)]=_0x2700d8(0x13e);return;}_0x2a1423['forEach'](_0x3d9b5c=>{const _0x2d1c92=_0x2700d8,_0x3ceaff=document['createElement'](_0x2d1c92(0x143));_0x3ceaff['className']='rs-time-btn',_0x3ceaff[_0x2d1c92(0xdd)]=_0x3d9b5c,_0x3ceaff['onclick']=()=>confirmReschedule(_0x3d9b5c),_0x25a0d1[_0x2d1c92(0xd9)](_0x3ceaff);});}async function confirmReschedule(_0x2a40c5){const _0x46b095=a3_0x46dcb6,_0x203f61=new Date(selectedRsDate),_0x3e3502=_0x203f61[_0x46b095(0xca)]('ru-RU',{'day':'numeric','month':_0x46b095(0xf3)}),_0x4ee5da=await showCustomConfirm(_0x46b095(0x16f),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3e3502+_0x46b095(0x16e)+_0x2a40c5+'?',![]);if(!_0x4ee5da)return;closeAllSheets(),showToast(_0x46b095(0x14f)),lastUserActionTime=Date[_0x46b095(0x156)]();const _0x2d6127=currentSession['dateStr'],_0x5c98ca=currentSession['id'],[_0x43cd55,_0xb6f6ca]=currentSession[_0x46b095(0x82)][_0x46b095(0x120)](':')['map'](Number),[_0x2b6741,_0x57b46f]=currentSession[_0x46b095(0x91)]['split'](':')[_0x46b095(0x10b)](Number),_0x40b6ec=_0x2b6741*0x3c+_0x57b46f-(_0x43cd55*0x3c+_0xb6f6ca),[_0x5e0059,_0x19f344]=_0x2a40c5[_0x46b095(0x120)](':')[_0x46b095(0x10b)](Number),_0x1b2603=_0x5e0059*0x3c+_0x19f344+_0x40b6ec,_0x2f24bd=Math[_0x46b095(0xde)](_0x1b2603/0x3c),_0x4dc9a7=_0x1b2603%0x3c,_0x22f503=String(_0x2f24bd)[_0x46b095(0xa1)](0x2,'0')+':'+String(_0x4dc9a7)[_0x46b095(0xa1)](0x2,'0'),_0x1ba2bb=sessions['findIndex'](_0x520dde=>_0x520dde['id']===_0x5c98ca);_0x1ba2bb!==-0x1&&(sessions[_0x1ba2bb][_0x46b095(0x158)]=selectedRsDate,sessions[_0x1ba2bb][_0x46b095(0x82)]=_0x2a40c5,sessions[_0x1ba2bb]['end']=_0x22f503,reRenderBlocks());try{const _0x4bf0cc=window[_0x46b095(0xb2)]?.['WebApp'],_0x1cd7f8=await fetch(API_URL,{'method':_0x46b095(0x13f),'body':JSON[_0x46b095(0x161)]({'action':'reschedule','init_data':_0x4bf0cc?.[_0x46b095(0x173)]||'','oldSessionId':_0x5c98ca,'oldDate':_0x2d6127,'newDate':selectedRsDate,'newTime':_0x2a40c5,'coachId':currentSession['coachId']})}),_0x5b9f8a=await _0x1cd7f8['json']();!_0x5b9f8a['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x46b095(0x154)]()):(showToast(_0x46b095(0x7a)),DataManager[_0x46b095(0x113)]());}catch(_0x44028c){showToast(_0x46b095(0xbb));}}document[a3_0x46dcb6(0xdc)](a3_0x46dcb6(0x9b),init);