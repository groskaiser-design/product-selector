const a3_0x1188fb=a3_0x877b;(function(_0x1c5390,_0x3f9058){const _0x1938cf=a3_0x877b,_0x18f372=_0x1c5390();while(!![]){try{const _0xcf6c1a=parseInt(_0x1938cf(0x13d))/0x1+parseInt(_0x1938cf(0x103))/0x2+-parseInt(_0x1938cf(0xf8))/0x3*(parseInt(_0x1938cf(0x189))/0x4)+parseInt(_0x1938cf(0x13a))/0x5*(parseInt(_0x1938cf(0x16f))/0x6)+parseInt(_0x1938cf(0x168))/0x7*(parseInt(_0x1938cf(0x1c6))/0x8)+parseInt(_0x1938cf(0x102))/0x9*(parseInt(_0x1938cf(0xd2))/0xa)+-parseInt(_0x1938cf(0x198))/0xb;if(_0xcf6c1a===_0x3f9058)break;else _0x18f372['push'](_0x18f372['shift']());}catch(_0xb7cbe1){_0x18f372['push'](_0x18f372['shift']());}}}(a3_0x1426,0x3461f));const APP_VERSION=a3_0x1188fb(0xe8),API_URL=a3_0x1188fb(0x177),GRID_H=0x3c,KEY_SESSIONS=a3_0x1188fb(0xeb),KEY_SETTINGS=a3_0x1188fb(0x145),KEY_CLIENTS=a3_0x1188fb(0x16e);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1188fb(0x131),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3abc0e=a3_0x1188fb,_0x2e2ee0=(function(){let _0x203489=!![];return function(_0x156fdf,_0x24c3f1){const _0x4b2f70=_0x203489?function(){const _0x4c2c51=a3_0x877b;if(_0x24c3f1){const _0xf35ab5=_0x24c3f1[_0x4c2c51(0x17e)](_0x156fdf,arguments);return _0x24c3f1=null,_0xf35ab5;}}:function(){};return _0x203489=![],_0x4b2f70;};}()),_0x35fd5a=_0x2e2ee0(this,function(){const _0x423f77=a3_0x877b;return _0x35fd5a['toString']()[_0x423f77(0x128)](_0x423f77(0x1a5))['toString']()[_0x423f77(0x167)](_0x35fd5a)[_0x423f77(0x128)](_0x423f77(0x1a5));});_0x35fd5a();try{const _0x568006=window['Telegram']?.[_0x3abc0e(0x15c)];if(!_0x568006)return;_0x568006[_0x3abc0e(0x1d3)](),_0x568006[_0x3abc0e(0xee)]();try{_0x568006['setHeaderColor'](_0x3abc0e(0x133)),_0x568006['setBackgroundColor']&&_0x568006[_0x3abc0e(0x1b0)](_0x3abc0e(0x133));}catch(_0x360d6f){console[_0x3abc0e(0x188)]('Error\x20setting\x20color:',_0x360d6f);}try{_0x568006['BackButton']&&(_0x568006[_0x3abc0e(0x1c8)]['show'](),_0x568006['BackButton']['offClick'](),_0x568006[_0x3abc0e(0x1c8)][_0x3abc0e(0x129)](function(){const _0x481566=_0x3abc0e;window[_0x481566(0x1ab)]['href']='router.html';}));}catch(_0x5a1573){console['log']('Error\x20setting\x20back\x20button:',_0x5a1573);}try{if(_0x568006[_0x3abc0e(0x10f)])_0x568006[_0x3abc0e(0x10f)]();}catch(_0x3a9afc){}}catch(_0x2ebee6){console[_0x3abc0e(0x153)](_0x3abc0e(0x148),_0x2ebee6);}}());function isAdmin(){const _0xdf78e0=a3_0x1188fb;try{const _0x10299f=Number(window[_0xdf78e0(0x1b7)]?.[_0xdf78e0(0x15c)]?.[_0xdf78e0(0x1bd)]?.['user']?.['id']);return _0x10299f===0xbaf7174;}catch(_0x59730b){return![];}}const DataManager={'saveLocally'(){const _0x224acb=a3_0x1188fb;try{localStorage[_0x224acb(0x160)](KEY_SESSIONS,JSON[_0x224acb(0x15d)](sessions)),localStorage[_0x224acb(0x160)](KEY_CLIENTS,JSON[_0x224acb(0x15d)](clients)),localStorage[_0x224acb(0x160)](KEY_SETTINGS,JSON[_0x224acb(0x15d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x289d00){}},'loadLocal'(){const _0x1639b5=a3_0x1188fb;try{const _0x4803af=localStorage[_0x1639b5(0x150)](KEY_SESSIONS);if(_0x4803af)sessions=JSON[_0x1639b5(0xec)](_0x4803af);const _0x73ee7c=localStorage[_0x1639b5(0x150)](KEY_CLIENTS);if(_0x73ee7c)clients=JSON[_0x1639b5(0xec)](_0x73ee7c);const _0x383338=localStorage['getItem'](KEY_SETTINGS);if(_0x383338){const _0x30f63e=JSON[_0x1639b5(0xec)](_0x383338);if(_0x30f63e[_0x1639b5(0x1a8)])availabilityPattern=_0x30f63e['pattern'];if(_0x30f63e[_0x1639b5(0x185)])specialRanges=_0x30f63e[_0x1639b5(0x185)];if(_0x30f63e[_0x1639b5(0x139)])dateExceptions=_0x30f63e[_0x1639b5(0x139)];}}catch(_0x4eb956){}},async 'syncLoad'(){const _0x4b0a1a=a3_0x1188fb,_0x11b74b=new Date(),_0xac6526=_0x11b74b[_0x4b0a1a(0x158)]()+'-'+String(_0x11b74b['getMonth']()+0x1)[_0x4b0a1a(0x130)](0x2,'0'),_0x22a357=new Date(_0x11b74b);_0x22a357[_0x4b0a1a(0x14a)](_0x11b74b['getMonth']()+0x1);const _0x56b924=_0x22a357[_0x4b0a1a(0x158)]()+'-'+String(_0x22a357[_0x4b0a1a(0x117)]()+0x1)[_0x4b0a1a(0x130)](0x2,'0'),_0x1ca195=Date[_0x4b0a1a(0xf6)]();try{const _0x7677f=window['Telegram']?.[_0x4b0a1a(0x15c)],_0x35bb7=_0x7677f?.['initData']||'',[_0x3c9e0c,_0x5d20d6]=await Promise[_0x4b0a1a(0x101)]([fetch(API_URL,{'method':'POST','body':JSON[_0x4b0a1a(0x15d)]({'action':_0x4b0a1a(0xe5),'init_data':_0x35bb7,'month_str':_0xac6526})})[_0x4b0a1a(0xe6)](_0x3a774b=>_0x3a774b[_0x4b0a1a(0x12e)]()),fetch(API_URL,{'method':_0x4b0a1a(0xfb),'body':JSON['stringify']({'action':_0x4b0a1a(0xe5),'init_data':_0x35bb7,'month_str':_0x56b924})})[_0x4b0a1a(0xe6)](_0x8e92f8=>_0x8e92f8['json']())]);if(lastUserActionTime>_0x1ca195){console[_0x4b0a1a(0x188)](_0x4b0a1a(0x1b5));return;}if(_0x3c9e0c['ok'])this['applyData'](_0x3c9e0c[_0x4b0a1a(0x1ae)],_0xac6526);if(_0x5d20d6['ok'])this[_0x4b0a1a(0xe4)](_0x5d20d6[_0x4b0a1a(0x1ae)],_0x56b924);this[_0x4b0a1a(0x18d)]();}catch(_0x3908c1){}},'applyData'(_0xe24ffa,_0xf4e4f9){const _0x1543ec=a3_0x1188fb;if(!_0xe24ffa)return;if(_0xe24ffa['settings']){if(_0xe24ffa[_0x1543ec(0x190)][_0x1543ec(0x1a8)])availabilityPattern=_0xe24ffa[_0x1543ec(0x190)][_0x1543ec(0x1a8)];if(_0xe24ffa[_0x1543ec(0x190)][_0x1543ec(0x185)])specialRanges=_0xe24ffa[_0x1543ec(0x190)]['ranges'];if(_0xe24ffa[_0x1543ec(0x190)][_0x1543ec(0x139)])dateExceptions=_0xe24ffa[_0x1543ec(0x190)][_0x1543ec(0x139)];}if(_0xe24ffa[_0x1543ec(0x187)]&&Array[_0x1543ec(0x149)](_0xe24ffa[_0x1543ec(0x187)]))clients=_0xe24ffa[_0x1543ec(0x187)];_0xe24ffa['coach_profiles']&&(coachProfiles={...coachProfiles,..._0xe24ffa[_0x1543ec(0x113)]}),_0xe24ffa[_0x1543ec(0xf9)]&&(sessions=sessions['filter'](_0x545a3a=>!_0x545a3a['dateStr']['startsWith'](_0xf4e4f9)),Object[_0x1543ec(0x1aa)](_0xe24ffa[_0x1543ec(0xf9)])[_0x1543ec(0x172)](_0x2ec4c6=>{const _0x234ab2=_0x1543ec,_0x4323d8=_0xe24ffa[_0x234ab2(0xf9)][_0x2ec4c6];_0x4323d8[_0x234ab2(0x172)](_0x47154d=>{const _0x923c44=_0x234ab2;sessions[_0x923c44(0x1bc)]({'id':_0x47154d['i'],'clientId':_0x47154d['c'],'coachId':_0x47154d[_0x923c44(0xe3)],'dateStr':_0xf4e4f9+'-'+_0x2ec4c6[_0x923c44(0x130)](0x2,'0'),'start':_0x47154d['s'],'end':_0x47154d['e'],'note':_0x47154d['n']||'','status':_0x47154d['st']||_0x923c44(0x16d),'seriesId':_0x47154d[_0x923c44(0x166)]});});})),reRenderBlocks();}};function init(){const _0x3c591d=a3_0x1188fb;DataManager[_0x3c591d(0x1bb)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x3c591d(0x17d))[_0x3c591d(0x182)](_0x3c591d(0xd4),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3c591d(0x121)]();}function renderTimeColumn(){const _0x1f7168=a3_0x1188fb,_0x187de9=document[_0x1f7168(0x1ad)](_0x1f7168(0x10d)),_0x38b65c=document['getElementById'](_0x1f7168(0x134));_0x187de9[_0x1f7168(0x10c)]='',_0x187de9['appendChild'](_0x38b65c);for(let _0x2385bc=0x0;_0x2385bc<0x18;_0x2385bc++){const _0x457927=document['createElement'](_0x1f7168(0x1c1));_0x457927[_0x1f7168(0x19f)]=_0x1f7168(0x16b);if(_0x2385bc>0x0)_0x457927[_0x1f7168(0x10c)]=_0x1f7168(0x170)+String(_0x2385bc)[_0x1f7168(0x130)](0x2,'0')+':00</span>';_0x187de9[_0x1f7168(0x194)](_0x457927);}}function renderDayRange(_0x206246,_0x52ced0){const _0x2fa1d9=a3_0x1188fb,_0x2541a0=document[_0x2fa1d9(0x1ad)]('daysHeaderTrack'),_0x4f2cc4=document[_0x2fa1d9(0x1ad)](_0x2fa1d9(0x11f)),_0x4dc5c2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd685c8=new Date();_0xd685c8['setHours'](0x0,0x0,0x0,0x0);const _0x3285ac=getLocalDateStr(new Date());for(let _0x3d0e0d=_0x206246;_0x3d0e0d<=_0x52ced0;_0x3d0e0d++){const _0x4f7c8b=new Date(_0xd685c8);_0x4f7c8b[_0x2fa1d9(0x1c0)](_0x4f7c8b[_0x2fa1d9(0x125)]()+_0x3d0e0d);const _0x3e17b9=getLocalDateStr(_0x4f7c8b);let _0x351e53=_0x4f7c8b[_0x2fa1d9(0x1cb)]()-0x1;if(_0x351e53===-0x1)_0x351e53=0x6;const _0x50000d=_0x3e17b9===_0x3285ac,_0x5218c6=document['createElement'](_0x2fa1d9(0x1c1));_0x5218c6[_0x2fa1d9(0x19f)]=_0x2fa1d9(0x18a)+(_0x50000d?_0x2fa1d9(0x1b6):''),_0x5218c6['setAttribute'](_0x2fa1d9(0x16c),_0x3e17b9),_0x5218c6['innerHTML']=_0x2fa1d9(0x19d)+_0x4dc5c2[_0x351e53]+_0x2fa1d9(0xe0)+_0x4f7c8b[_0x2fa1d9(0x125)]()+_0x2fa1d9(0xe2),_0x2541a0[_0x2fa1d9(0x194)](_0x5218c6);const _0x384655=document[_0x2fa1d9(0x1cc)]('div');_0x384655[_0x2fa1d9(0x19f)]=_0x2fa1d9(0xff)+(_0x50000d?'today':''),_0x384655[_0x2fa1d9(0x132)](_0x2fa1d9(0x16c),_0x3e17b9),_0x384655['setAttribute'](_0x2fa1d9(0x1a9),_0x351e53),_0x4f2cc4[_0x2fa1d9(0x194)](_0x384655);}}function reRenderBlocks(){const _0x332a8b=a3_0x1188fb;document['querySelectorAll']('.day-column')[_0x332a8b(0x172)](_0x19e5c7=>{const _0x2a1d54=_0x332a8b;_0x19e5c7[_0x2a1d54(0xef)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x3e1f23=>_0x3e1f23[_0x2a1d54(0xd8)]());const _0xcd96b5=_0x19e5c7[_0x2a1d54(0xe9)](_0x2a1d54(0x16c)),_0x2b38f2=parseInt(_0x19e5c7[_0x2a1d54(0xe9)](_0x2a1d54(0x1a9))),_0x34b623=Math[_0x2a1d54(0x1b3)](_0x19e5c7[_0x2a1d54(0x154)]);(availabilityPattern[_0x2b38f2]||[])[_0x2a1d54(0x172)](_0xf8cfbe=>{const _0x1f46ec=_0x2a1d54,_0x41028b=document['createElement']('div');_0x41028b['className']=_0x1f46ec(0x1af),_0x41028b[_0x1f46ec(0x175)]['top']=_0xf8cfbe*GRID_H+'px',_0x41028b[_0x1f46ec(0x175)][_0x1f46ec(0xdb)]='-'+_0x34b623+'px\x20-'+_0xf8cfbe*GRID_H+'px',_0x19e5c7[_0x1f46ec(0x194)](_0x41028b);});if(specialRanges[_0x2a1d54(0x1be)]>0x0){const _0x229c92=new Date(_0xcd96b5+_0x2a1d54(0xf3))[_0x2a1d54(0x120)](),_0x3a24d8=new Date(_0xcd96b5+_0x2a1d54(0x159))['getTime']();specialRanges['forEach'](_0x109391=>{const _0x37cb9f=_0x2a1d54,_0x5d01d9=new Date(_0x109391[_0x37cb9f(0x1b1)])['getTime'](),_0x551eab=new Date(_0x109391['end'])[_0x37cb9f(0x120)](),_0x1ea282=Math['max'](_0x229c92,_0x5d01d9),_0x17acee=Math[_0x37cb9f(0x15b)](_0x3a24d8,_0x551eab);if(_0x1ea282<_0x17acee){const _0x38d81b=(_0x1ea282-_0x229c92)/0x36ee80*GRID_H,_0x1c3ef6=(_0x17acee-_0x1ea282)/0x36ee80*GRID_H,_0x67729d=document[_0x37cb9f(0x1cc)](_0x37cb9f(0x1c1));_0x1c3ef6>=23.5*GRID_H?(_0x67729d[_0x37cb9f(0x19f)]=_0x37cb9f(0x104),_0x67729d[_0x37cb9f(0x175)][_0x37cb9f(0xdb)]='-'+_0x34b623+'px\x200px'):(_0x67729d[_0x37cb9f(0x19f)]=_0x37cb9f(0x136),_0x67729d[_0x37cb9f(0x175)][_0x37cb9f(0x100)]=_0x38d81b+'px',_0x67729d[_0x37cb9f(0x175)][_0x37cb9f(0xfe)]=_0x1c3ef6+'px',_0x67729d['style'][_0x37cb9f(0xdb)]='-'+_0x34b623+'px\x20-'+_0x38d81b+'px'),_0x19e5c7[_0x37cb9f(0x194)](_0x67729d);}});}renderEventsForColumn(_0x19e5c7,_0xcd96b5);});}function renderEventsForColumn(_0x35243b,_0x4e2ef9){const _0x2641ed=a3_0x1188fb,_0x12b518=sessions[_0x2641ed(0x193)](_0x5510a1=>_0x5510a1[_0x2641ed(0xdd)]===_0x4e2ef9),_0x2456e8=_0x12b518['map'](_0x560a1b=>{const _0x2c7e74=_0x2641ed,[_0x2857e6,_0x186f28]=_0x560a1b[_0x2c7e74(0x1b1)][_0x2c7e74(0x111)](':')[_0x2c7e74(0x178)](Number),[_0x4af6bb,_0x3bf993]=_0x560a1b[_0x2c7e74(0x163)][_0x2c7e74(0x111)](':')[_0x2c7e74(0x178)](Number);return{'data':_0x560a1b,'start':_0x2857e6*0x3c+_0x186f28,'end':_0x4af6bb*0x3c+_0x3bf993,'colIndex':0x0};});_0x2456e8[_0x2641ed(0x196)]((_0x4307a9,_0x5dacf2)=>_0x4307a9[_0x2641ed(0x1b1)]-_0x5dacf2[_0x2641ed(0x1b1)]||_0x5dacf2[_0x2641ed(0x163)]-_0x5dacf2[_0x2641ed(0x1b1)]-(_0x4307a9['end']-_0x4307a9['start']));const _0x508602=[];_0x2456e8[_0x2641ed(0x172)](_0x5b8186=>{const _0x589833=_0x2641ed;let _0x524134=![];for(let _0x10476b=0x0;_0x10476b<_0x508602[_0x589833(0x1be)];_0x10476b++){const _0x5ccb56=_0x508602[_0x10476b];if(_0x5b8186['start']>=_0x5ccb56[_0x5ccb56[_0x589833(0x1be)]-0x1][_0x589833(0x163)]){_0x5ccb56['push'](_0x5b8186),_0x5b8186[_0x589833(0xdc)]=_0x10476b,_0x524134=!![];break;}}!_0x524134&&(_0x508602[_0x589833(0x1bc)]([_0x5b8186]),_0x5b8186['colIndex']=_0x508602['length']-0x1);}),_0x2456e8[_0x2641ed(0x172)](_0x3b596b=>{const _0xd6c616=_0x2641ed;let _0x11483e=0x0;_0x2456e8[_0xd6c616(0x172)](_0x3f3ef1=>{const _0x5941ce=_0xd6c616;if(Math[_0x5941ce(0x10b)](_0x3b596b['start'],_0x3f3ef1[_0x5941ce(0x1b1)])<Math[_0x5941ce(0x15b)](_0x3b596b[_0x5941ce(0x163)],_0x3f3ef1[_0x5941ce(0x163)])&&_0x3f3ef1[_0x5941ce(0xdc)]>_0x11483e)_0x11483e=_0x3f3ef1['colIndex'];});const _0x1f4bf3=_0x11483e+0x1,_0x4c90e5=0x64/_0x1f4bf3,_0x3e4ff0=_0x3b596b[_0xd6c616(0xdc)]*_0x4c90e5,_0x2879e7=document['createElement'](_0xd6c616(0x1c1)),_0x19b1d2=_0x3b596b[_0xd6c616(0x1ae)];let _0x4cf1da=_0xd6c616(0x15f);if(clients&&clients[_0xd6c616(0x1be)]>0x0){const _0x1dab0a=clients[_0xd6c616(0x116)](_0x49c616=>String(_0x49c616['id'])===String(_0x19b1d2[_0xd6c616(0xd1)]));if(_0x1dab0a&&_0x1dab0a['color'])_0x4cf1da=_0x1dab0a[_0xd6c616(0x11a)];}const _0x412ff7=_0x19b1d2[_0xd6c616(0x12b)]===_0xd6c616(0x186),_0x1fff0d=_0x412ff7?0x1:0.45;_0x2879e7[_0xd6c616(0x19f)]=_0xd6c616(0x192)+(_0x412ff7?_0xd6c616(0x11d):''),_0x2879e7[_0xd6c616(0x175)][_0xd6c616(0x174)]=hexToRgba(_0x4cf1da,_0x1fff0d),_0x2879e7['style']['borderLeftColor']=_0x4cf1da;const _0x3c9763=_0x3b596b[_0xd6c616(0x1b1)]/0x3c*GRID_H,_0xcf9c78=(_0x3b596b['end']-_0x3b596b[_0xd6c616(0x1b1)])/0x3c*GRID_H;_0x2879e7[_0xd6c616(0x175)]['top']=_0x3c9763+'px',_0x2879e7[_0xd6c616(0x175)][_0xd6c616(0xfe)]=Math[_0xd6c616(0x10b)](_0xcf9c78,0x14)+'px',_0x2879e7[_0xd6c616(0x175)][_0xd6c616(0x184)]=_0xd6c616(0x152)+_0x4c90e5+_0xd6c616(0x13b),_0x2879e7['style'][_0xd6c616(0x119)]=_0xd6c616(0x152)+_0x3e4ff0+_0xd6c616(0x162),_0x2879e7[_0xd6c616(0x175)][_0xd6c616(0xd3)]=0xa+_0x3b596b[_0xd6c616(0xdc)];if(_0x4c90e5<0x55)_0x2879e7['classList']['add'](_0xd6c616(0x13f));let _0x3a9883='';if(_0x19b1d2['seriesId'])_0x3a9883+=_0xd6c616(0x165);if(_0x412ff7)_0x3a9883+=_0xd6c616(0x141);_0x2879e7[_0xd6c616(0x10c)]=_0xd6c616(0x181)+_0x19b1d2['start']+_0xd6c616(0xf2)+_0x19b1d2[_0xd6c616(0x163)]+_0xd6c616(0x156)+_0x3a9883+_0xd6c616(0x137),_0x2879e7[_0xd6c616(0x179)]=_0x199827=>{_0x199827['stopPropagation'](),openDetails(_0x19b1d2);},_0x35243b[_0xd6c616(0x194)](_0x2879e7);});}function openAnalytics(){const _0x3ce856=a3_0x1188fb,_0x537996=document[_0x3ce856(0x10a)](_0x3ce856(0xd0));setAnalyticsPeriod(_0x3ce856(0x131),_0x537996),openSheet(_0x3ce856(0x1d2));}function setAnalyticsPeriod(_0x38e8e1,_0x12fcb1){const _0x53bfde=a3_0x1188fb;currentAnPeriod=_0x38e8e1,document[_0x53bfde(0xef)](_0x53bfde(0xd0))[_0x53bfde(0x172)](_0x56b1b2=>_0x56b1b2[_0x53bfde(0x155)][_0x53bfde(0xd8)](_0x53bfde(0x1bf)));if(_0x12fcb1)_0x12fcb1[_0x53bfde(0x155)][_0x53bfde(0xd6)](_0x53bfde(0x1bf));const _0x24598b=document['getElementById']('anCustomDates');_0x24598b[_0x53bfde(0x175)]['display']=_0x38e8e1===_0x53bfde(0x17a)?_0x53bfde(0x1a3):_0x53bfde(0x199);const _0x197797=new Date();let _0x5d78af=new Date(),_0x4519cc=new Date();if(_0x38e8e1==='week')_0x5d78af=getStartOfWeek(_0x197797),_0x4519cc=new Date(_0x5d78af),_0x4519cc[_0x53bfde(0x1c0)](_0x4519cc[_0x53bfde(0x125)]()+0x6);else{if(_0x38e8e1===_0x53bfde(0x109))_0x5d78af=new Date(_0x197797[_0x53bfde(0x158)](),_0x197797[_0x53bfde(0x117)](),0x1),_0x4519cc=new Date(_0x197797[_0x53bfde(0x158)](),_0x197797['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x53bfde(0x1ad)]('anStart')[_0x53bfde(0x1c5)]=getLocalDateStr(_0x197797),document[_0x53bfde(0x1ad)]('anEnd')['value']=getLocalDateStr(_0x197797));refreshAnalytics();return;}}document['getElementById'](_0x53bfde(0x12c))[_0x53bfde(0x1c5)]=getLocalDateStr(_0x5d78af),document[_0x53bfde(0x1ad)](_0x53bfde(0x13c))[_0x53bfde(0x1c5)]=getLocalDateStr(_0x4519cc),refreshAnalytics();}function refreshAnalytics(){const _0x226860=a3_0x1188fb,_0x35382a=document[_0x226860(0x1ad)](_0x226860(0x12c))[_0x226860(0x1c5)],_0x4711da=document[_0x226860(0x1ad)](_0x226860(0x13c))[_0x226860(0x1c5)];if(!_0x35382a||!_0x4711da)return;const _0x558364=sessions[_0x226860(0x193)](_0x5472d0=>_0x5472d0[_0x226860(0xdd)]>=_0x35382a&&_0x5472d0[_0x226860(0xdd)]<=_0x4711da&&_0x5472d0[_0x226860(0x12b)]!=='cancelled'),_0x16ac43=_0x558364[_0x226860(0x1be)],_0x5f29e1=_0x558364[_0x226860(0x193)](_0x301927=>_0x301927[_0x226860(0x12b)]===_0x226860(0x186))[_0x226860(0x1be)],_0x1a164e=_0x16ac43>0x0?Math[_0x226860(0x1b3)](_0x5f29e1/_0x16ac43*0x64):0x0;document[_0x226860(0x1ad)](_0x226860(0xe1))[_0x226860(0x1a4)]=_0x1a164e+'%',document['getElementById'](_0x226860(0x14d))[_0x226860(0x1a4)]=_0x5f29e1+'\x20–∏–∑\x20'+_0x16ac43+_0x226860(0x146);const _0x1ea0a4=document[_0x226860(0x1ad)](_0x226860(0x135)),_0x1b8807=0x2*Math['PI']*0x23,_0x495c0a=_0x1b8807-_0x1a164e/0x64*_0x1b8807;_0x1ea0a4['style'][_0x226860(0x14b)]=_0x495c0a;const _0x4b765={};_0x558364[_0x226860(0x172)](_0x4a6c94=>{const _0x2b389f=_0x226860,_0xbe93c7=_0x4a6c94[_0x2b389f(0x126)]||'Unknown';if(!_0x4b765[_0xbe93c7]){const _0x21bd6a='#'+_0xbe93c7[_0x2b389f(0x15a)]()[_0x2b389f(0x1ca)](0x0,0x6);_0x4b765[_0xbe93c7]={'total':0x0,'done':0x0,'color':_0x21bd6a};}_0x4b765[_0xbe93c7]['total']++;if(_0x4a6c94[_0x2b389f(0x12b)]===_0x2b389f(0x186))_0x4b765[_0xbe93c7]['done']++;});const _0x8dced0=document[_0x226860(0x1ad)](_0x226860(0x127));_0x8dced0[_0x226860(0x10c)]='';const _0x198683=Object['entries'](_0x4b765)[_0x226860(0x196)]((_0xcb54c4,_0x455364)=>_0x455364[0x1][_0x226860(0x122)]-_0xcb54c4[0x1][_0x226860(0x122)]);if(_0x198683[_0x226860(0x1be)]===0x0){_0x8dced0[_0x226860(0x10c)]=_0x226860(0x180);return;}_0x198683['forEach'](([_0x260c3e,_0x4077ba])=>{const _0x3e3593=_0x226860,_0x15f1a8=Math['round'](_0x4077ba['done']/_0x4077ba['total']*0x64),_0x7b9590=document[_0x3e3593(0x1cc)](_0x3e3593(0x1c1));_0x7b9590[_0x3e3593(0x19f)]=_0x3e3593(0x19e),_0x7b9590['style'][_0x3e3593(0x19b)]=_0x4077ba[_0x3e3593(0x11a)],_0x7b9590['innerHTML']=_0x3e3593(0xde)+_0x260c3e[_0x3e3593(0x1ca)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4077ba[_0x3e3593(0x13e)]+_0x3e3593(0x1ce)+_0x4077ba[_0x3e3593(0x122)]+_0x3e3593(0x197)+_0x15f1a8+_0x3e3593(0x106),_0x8dced0['appendChild'](_0x7b9590);});}function openDetails(_0x3e41fc){const _0x54e622=a3_0x1188fb;currentSession=_0x3e41fc;const _0x63aca6=new Date(_0x3e41fc[_0x54e622(0xdd)]),_0x3dfa69=_0x63aca6[_0x54e622(0x1a2)](_0x54e622(0x18f),{'weekday':'long','day':_0x54e622(0xcf),'month':_0x54e622(0x19a)});document[_0x54e622(0x1ad)]('detDate')['textContent']=_0x3dfa69['charAt'](0x0)[_0x54e622(0x114)]()+_0x3dfa69[_0x54e622(0x124)](0x1),document[_0x54e622(0x1ad)](_0x54e622(0x138))[_0x54e622(0x1a4)]=_0x3e41fc[_0x54e622(0x1b1)]+_0x54e622(0xf2)+_0x3e41fc[_0x54e622(0x163)],document[_0x54e622(0x1ad)](_0x54e622(0x1c2))[_0x54e622(0x1a4)]=_0x3e41fc[_0x54e622(0xf1)]||_0x54e622(0x183);const _0xd0030b=document[_0x54e622(0x1ad)](_0x54e622(0xda)),_0x19f2a2=document[_0x54e622(0x1ad)]('cancelContainer'),_0x51cfe5=_0x19f2a2[_0x54e622(0x10a)]('.btn-cancel'),_0x5961aa=_0x19f2a2['querySelector'](_0x54e622(0x1d1)),_0x6095e6=document[_0x54e622(0x1ad)](_0x54e622(0x14c));if(_0x3e41fc['status']===_0x54e622(0x186))_0xd0030b[_0x54e622(0x1a4)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0xd0030b[_0x54e622(0x175)][_0x54e622(0x11a)]=_0x54e622(0x191),_0x19f2a2[_0x54e622(0x175)][_0x54e622(0x14e)]=_0x54e622(0x199);else{_0xd0030b['textContent']=_0x54e622(0xed),_0xd0030b[_0x54e622(0x175)][_0x54e622(0x11a)]=_0x54e622(0x1b9),_0x19f2a2[_0x54e622(0x175)][_0x54e622(0x14e)]='block';const _0x1f47c8=new Date(_0x3e41fc[_0x54e622(0xdd)]+'T'+_0x3e41fc[_0x54e622(0x1b1)]),_0xe5e11=new Date(),_0x22c46e=(_0x1f47c8-_0xe5e11)/(0x3e8*0x3c*0x3c),_0x15fc27=coachProfiles[_0x3e41fc[_0x54e622(0x126)]]&&coachProfiles[_0x3e41fc[_0x54e622(0x126)]]['cancel_window']?parseInt(coachProfiles[_0x3e41fc[_0x54e622(0x126)]][_0x54e622(0x108)]):0x18;if(_0x15fc27===0x0||_0x22c46e>=_0x15fc27)_0x51cfe5[_0x54e622(0x175)][_0x54e622(0x14e)]='block',_0x5961aa['style'][_0x54e622(0x14e)]=_0x54e622(0xf4),_0x6095e6[_0x54e622(0x175)][_0x54e622(0x14e)]=_0x54e622(0x199);else{_0x51cfe5[_0x54e622(0x175)][_0x54e622(0x14e)]=_0x54e622(0x199),_0x5961aa[_0x54e622(0x175)][_0x54e622(0x14e)]=_0x54e622(0x199),_0x6095e6['style'][_0x54e622(0x14e)]=_0x54e622(0xf4);let _0x9a8248=_0x15fc27===0x0?_0x54e622(0x1ac):_0x54e622(0x1c3)+_0x15fc27+_0x54e622(0x1c4);_0x6095e6[_0x54e622(0x1a4)]=_0x54e622(0xd9)+_0x9a8248+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x54e622(0x1ad)](_0x54e622(0x1b2))[_0x54e622(0x155)][_0x54e622(0xd6)](_0x54e622(0x1bf)),document[_0x54e622(0x1ad)](_0x54e622(0x1cd))[_0x54e622(0x155)]['add'](_0x54e622(0xf7));}function closeAllSheets(){const _0x5e67c9=a3_0x1188fb;document[_0x5e67c9(0x1ad)](_0x5e67c9(0x1b2))[_0x5e67c9(0x155)][_0x5e67c9(0xd8)](_0x5e67c9(0x1bf)),document[_0x5e67c9(0xef)]('.sheet')[_0x5e67c9(0x172)](_0x505a0c=>_0x505a0c[_0x5e67c9(0x155)][_0x5e67c9(0xd8)](_0x5e67c9(0xf7)));}function openSheet(_0x19cc00){const _0x425574=a3_0x1188fb;document[_0x425574(0x1ad)](_0x425574(0x1b2))[_0x425574(0x155)][_0x425574(0xd6)](_0x425574(0x1bf)),document[_0x425574(0x1ad)](_0x19cc00)[_0x425574(0x155)][_0x425574(0xd6)](_0x425574(0xf7));}function getLocalDateStr(_0x5420ee){const _0x33804b=a3_0x1188fb,_0x519c9f=_0x5420ee[_0x33804b(0x158)](),_0x58c858=String(_0x5420ee[_0x33804b(0x117)]()+0x1)[_0x33804b(0x130)](0x2,'0'),_0x41f6e3=String(_0x5420ee['getDate']())[_0x33804b(0x130)](0x2,'0');return _0x519c9f+'-'+_0x58c858+'-'+_0x41f6e3;}function getStartOfWeek(_0x50aafd){const _0x26a62c=a3_0x1188fb,_0x46529b=new Date(_0x50aafd),_0x41a938=_0x46529b[_0x26a62c(0x1cb)](),_0x58d549=_0x46529b[_0x26a62c(0x125)]()-_0x41a938+(_0x41a938===0x0?-0x6:0x1);return _0x46529b[_0x26a62c(0x1c0)](_0x58d549),_0x46529b[_0x26a62c(0x171)](0x0,0x0,0x0,0x0),_0x46529b;}function scrollToToday(){const _0x37218f=getLocalDateStr(new Date());setTimeout(()=>{const _0x33e1f1=a3_0x877b,_0x43f324=document['querySelector'](_0x33e1f1(0xd5)+_0x37218f+'\x22]');if(_0x43f324){const _0x41a97a=document[_0x33e1f1(0x1ad)](_0x33e1f1(0x17d)),_0xcd3980=_0x43f324[_0x33e1f1(0x154)]-_0x41a97a['clientWidth']/0x2+_0x43f324[_0x33e1f1(0x12f)]/0x2;_0x41a97a[_0x33e1f1(0xfc)]({'left':_0xcd3980,'behavior':_0x33e1f1(0xea)}),_0x41a97a[_0x33e1f1(0xf5)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5729e3=a3_0x1188fb,_0x59146a=new Date(),_0x2d94b6=document[_0x5729e3(0x1ad)]('globalTimeLine'),_0x147667=document[_0x5729e3(0x1ad)](_0x5729e3(0x134)),_0x4a2c30=(_0x59146a[_0x5729e3(0x17f)]()*0x3c+_0x59146a[_0x5729e3(0x1b4)]())/0x3c*GRID_H;_0x2d94b6[_0x5729e3(0x175)][_0x5729e3(0x100)]=_0x4a2c30+'px',_0x2d94b6['style'][_0x5729e3(0x14e)]=_0x5729e3(0xf4),_0x147667[_0x5729e3(0x175)][_0x5729e3(0x100)]=_0x4a2c30+'px',_0x147667['style'][_0x5729e3(0x14e)]=_0x5729e3(0xf4),_0x147667[_0x5729e3(0x1a4)]=String(_0x59146a[_0x5729e3(0x17f)]())[_0x5729e3(0x130)](0x2,'0')+':'+String(_0x59146a[_0x5729e3(0x1b4)]())['padStart'](0x2,'0');}function a3_0x1426(){const _0x522b3f=['T00:00:00','block','scrollTop','now','open','27FDXHMr','calendar','#ff453a','POST','scrollTo','rgba(','height','day-column\x20','top','all','80118kHuMZA','118490DyszOH','day-off-overlay\x20stripe-bg','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','cancel_window','month','querySelector','max','innerHTML','timeColumn','rs-date-chip','disableVerticalSwipes','rsDatesTrack','split','.day-col-header','coach_profiles','toUpperCase','fontWeight','find','getMonth','button','left','color','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x20status-completed','headerMonth','gridColumns','getTime','syncLoad','total','.day-column','slice','getDate','coachId','analyticsList','search','onClick','600','status','anStart','ccYesBtn','json','offsetWidth','padStart','week','setAttribute','#050505','timeLineBadge','anDonutCircle','blocked-range-part\x20stripe-bg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','detTime','exceptions','5hbkzty','%\x20-\x204px)','anEnd','86319XcGEGd','done','mini','show','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','visible','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','uc_client_settings','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toast','Critical\x20TMA\x20Error:','isArray','setMonth','strokeDashoffset','cancelHint','anTotalStats','display','</div><div\x20class=\x22rs-day-num\x22>','getItem','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','calc(','error','offsetLeft','classList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-day-name\x22>','getFullYear','T23:59:59','toString','min','WebApp','stringify','rsSlotsGrid','#0a84ff','setItem','scrollWidth','%\x20+\x202px)','end','\x20–≤\x20','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','sid','constructor','895559nLaOMA','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','ccText','time-label','data-date','planned','uc_client_list','2175834LfBEab','<span>','setHours','forEach','.rs-date-chip','backgroundColor','style','substring','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','map','onclick','custom','initData','floor','matrixViewport','apply','getHours','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','addEventListener','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','width','ranges','completed','clients','log','91696cvqPLT','day-col-header\x20','rgba(10,\x20132,\x20255,\x20','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','saveLocally','join','ru-RU','settings','var(--acc-green)','event-card','filter','appendChild','insertBefore','sort','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','6382717RFSRvq','none','long','borderLeftColor','findIndex','<div\x20class=\x22dch-day\x22>','client-stat-card','className','ccTitle','get_slots','toLocaleDateString','flex','textContent','(((.+)+)+)+$','reschedule','client_cancel','pattern','data-day-idx','keys','location','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','getElementById','data','blocked-slot\x20stripe-bg','setBackgroundColor','start','overlay','round','getMinutes','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','today','Telegram','scrollLeft','var(--acc-blue)','–û—Ç–º–µ–Ω–µ–Ω–æ','loadLocal','push','initDataUnsafe','length','active','setDate','div','detNote','–∑–∞\x20','\x20—á.','value','8VTtRth','test','BackButton','customConfirm','substr','getDay','createElement','detailsSheet','</span>\x20/\x20','clientWidth','toLocaleString','.btn-reschedule','analyticsSheet','ready','numeric','.period-switch\x20.p-btn','clientId','410EgyeTI','zIndex','scroll','.day-col-header[data-date=\x22','add','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','remove','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','detStatus','backgroundPosition','colIndex','dateStr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</div><div\x20class=\x22dch-num\x22>','anPercent','</div>','cid','applyData','client_load','then','rs-time-btn','v9.5-CLIENT-ANALYTICS','getAttribute','auto','uc_client_sessions','parse','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','expand','querySelectorAll','firstChild','note','\x20-\x20'];a3_0x1426=function(){return _0x522b3f;};return a3_0x1426();}function onScroll(){const _0x4aa5b4=a3_0x1188fb,_0x393a8a=document[_0x4aa5b4(0x1ad)]('matrixViewport'),_0x2448d8=document[_0x4aa5b4(0xef)](_0x4aa5b4(0x112));for(let _0x3c8e59 of _0x2448d8)if(_0x3c8e59[_0x4aa5b4(0x154)]>=_0x393a8a['scrollLeft']){const _0x526b97=new Date(_0x3c8e59[_0x4aa5b4(0xe9)](_0x4aa5b4(0x16c)));document['getElementById'](_0x4aa5b4(0x11e))['textContent']=_0x526b97[_0x4aa5b4(0x1d0)]('ru',{'month':_0x4aa5b4(0x19a)})['toUpperCase']()+'\x20'+_0x526b97[_0x4aa5b4(0x158)]();break;}}function showToast(_0x3b41dd){const _0x5f5ab9=a3_0x1188fb,_0x4512e5=document[_0x5f5ab9(0x1ad)](_0x5f5ab9(0x147));_0x4512e5[_0x5f5ab9(0x1a4)]=_0x3b41dd,_0x4512e5[_0x5f5ab9(0x155)][_0x5f5ab9(0xd6)](_0x5f5ab9(0x140)),setTimeout(()=>_0x4512e5[_0x5f5ab9(0x155)][_0x5f5ab9(0xd8)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x3917c9=a3_0x1188fb,_0x2e4f58=document[_0x3917c9(0x1ad)](_0x3917c9(0x17d)),_0x1545c5=_0x2e4f58[_0x3917c9(0x1b8)],_0x35420e=_0x2e4f58[_0x3917c9(0x161)],_0x564f59=_0x2e4f58[_0x3917c9(0x1cf)];if(_0x35420e-(_0x1545c5+_0x564f59)<0x12c){const _0x19ad01=endOffset;endOffset+=0xe,renderDayRange(_0x19ad01+0x1,endOffset),reRenderBlocks();}if(_0x1545c5<0x12c){const _0x19e4fe=startOffset;startOffset-=0xe,prependDays(startOffset,_0x19e4fe-0x1),_0x2e4f58[_0x3917c9(0x1b8)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x572daa,_0x1d35c8){const _0x50c8bd=a3_0x1188fb,_0x3d9888=document['getElementById']('daysHeaderTrack'),_0x436cac=document[_0x50c8bd(0x1ad)](_0x50c8bd(0x11f)),_0x25ac01=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4769cb=new Date();_0x4769cb[_0x50c8bd(0x171)](0x0,0x0,0x0,0x0);const _0x32ab80=getLocalDateStr(new Date()),_0x2eb8f9=document[_0x50c8bd(0x107)](),_0x2085f8=document['createDocumentFragment']();for(let _0x79411=_0x572daa;_0x79411<=_0x1d35c8;_0x79411++){const _0x2e2a10=new Date(_0x4769cb);_0x2e2a10[_0x50c8bd(0x1c0)](_0x2e2a10[_0x50c8bd(0x125)]()+_0x79411);const _0x12673f=getLocalDateStr(_0x2e2a10);let _0x1d968b=_0x2e2a10[_0x50c8bd(0x1cb)]()-0x1;if(_0x1d968b===-0x1)_0x1d968b=0x6;const _0x38d17d=_0x12673f===_0x32ab80,_0x67c2f9=document[_0x50c8bd(0x1cc)](_0x50c8bd(0x1c1));_0x67c2f9[_0x50c8bd(0x19f)]=_0x50c8bd(0x18a)+(_0x38d17d?_0x50c8bd(0x1b6):''),_0x67c2f9[_0x50c8bd(0x132)](_0x50c8bd(0x16c),_0x12673f),_0x67c2f9['innerHTML']=_0x50c8bd(0x19d)+_0x25ac01[_0x1d968b]+_0x50c8bd(0xe0)+_0x2e2a10[_0x50c8bd(0x125)]()+_0x50c8bd(0xe2),_0x2eb8f9[_0x50c8bd(0x194)](_0x67c2f9);const _0x106939=document[_0x50c8bd(0x1cc)](_0x50c8bd(0x1c1));_0x106939[_0x50c8bd(0x19f)]=_0x50c8bd(0xff)+(_0x38d17d?'today':''),_0x106939[_0x50c8bd(0x132)](_0x50c8bd(0x16c),_0x12673f),_0x106939[_0x50c8bd(0x132)](_0x50c8bd(0x1a9),_0x1d968b),_0x2085f8['appendChild'](_0x106939);}_0x3d9888[_0x50c8bd(0x195)](_0x2eb8f9,_0x3d9888[_0x50c8bd(0xf0)]),_0x436cac[_0x50c8bd(0x195)](_0x2085f8,_0x436cac[_0x50c8bd(0x10a)](_0x50c8bd(0x123)));}function hexToRgba(_0x39d107,_0x3e2c9f){const _0x2b4b8d=a3_0x1188fb;let _0x3e0794;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2b4b8d(0x1c7)](_0x39d107))return _0x3e0794=_0x39d107[_0x2b4b8d(0x176)](0x1)['split'](''),_0x3e0794[_0x2b4b8d(0x1be)]==0x3&&(_0x3e0794=[_0x3e0794[0x0],_0x3e0794[0x0],_0x3e0794[0x1],_0x3e0794[0x1],_0x3e0794[0x2],_0x3e0794[0x2]]),_0x3e0794='0x'+_0x3e0794[_0x2b4b8d(0x18e)](''),_0x2b4b8d(0xfd)+[_0x3e0794>>0x10&0xff,_0x3e0794>>0x8&0xff,_0x3e0794&0xff][_0x2b4b8d(0x18e)](',')+','+_0x3e2c9f+')';return _0x2b4b8d(0x18b)+_0x3e2c9f+')';}let confirmResolver=null;function showCustomConfirm(_0x38b9c2,_0x4d122d,_0x136327=!![]){const _0x5b357f=a3_0x1188fb;document['getElementById'](_0x5b357f(0x1a0))[_0x5b357f(0x1a4)]=_0x38b9c2,document['getElementById'](_0x5b357f(0x16a))[_0x5b357f(0x1a4)]=_0x4d122d;const _0x4f2d02=document['getElementById'](_0x5b357f(0x12d));return _0x136327?(_0x4f2d02['style'][_0x5b357f(0x11a)]=_0x5b357f(0xfa),_0x4f2d02[_0x5b357f(0x175)][_0x5b357f(0x115)]='600'):(_0x4f2d02[_0x5b357f(0x175)][_0x5b357f(0x11a)]=_0x5b357f(0x15f),_0x4f2d02[_0x5b357f(0x175)][_0x5b357f(0x115)]=_0x5b357f(0x12a)),new Promise(_0x1ef7d9=>{const _0xeffe4c=_0x5b357f;confirmResolver=_0x1ef7d9,document[_0xeffe4c(0x1ad)](_0xeffe4c(0x1c9))['classList']['add'](_0xeffe4c(0x142));});}function resolveCustomConfirm(_0x2009bd){const _0x42d155=a3_0x1188fb;document[_0x42d155(0x1ad)](_0x42d155(0x1c9))[_0x42d155(0x155)]['remove'](_0x42d155(0x142));if(confirmResolver)confirmResolver(_0x2009bd);}async function tryCancelCurrentSession(){const _0x591dd5=a3_0x1188fb;if(!currentSession)return;const _0xcf6392=await showCustomConfirm(_0x591dd5(0x144),_0x591dd5(0x18c),!![]);if(!_0xcf6392)return;const _0x22077e=currentSession;closeAllSheets(),sessions=sessions[_0x591dd5(0x193)](_0xfe9ef9=>_0xfe9ef9['id']!==_0x22077e['id']),reRenderBlocks(),showToast(_0x591dd5(0x1ba)),lastUserActionTime=Date[_0x591dd5(0xf6)]();try{const _0x4e5f73=window[_0x591dd5(0x1b7)]?.[_0x591dd5(0x15c)],_0x944a9a=await fetch(API_URL,{'method':_0x591dd5(0xfb),'body':JSON['stringify']({'action':_0x591dd5(0x1a7),'init_data':_0x4e5f73?.[_0x591dd5(0x17b)]||'','coachId':_0x22077e[_0x591dd5(0x126)],'dateStr':_0x22077e[_0x591dd5(0xdd)],'sessionId':_0x22077e['id']})});if(_0x944a9a['ok'])DataManager['saveLocally']();}catch(_0x2e7fb4){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;function a3_0x877b(_0x2f49db,_0x2e3053){_0x2f49db=_0x2f49db-0xcf;const _0xe04e1d=a3_0x1426();let _0x32826d=_0xe04e1d[_0x2f49db];return _0x32826d;}async function startRescheduleFlow(){const _0x3d67b9=a3_0x1188fb;if(!currentSession)return;document[_0x3d67b9(0x1ad)](_0x3d67b9(0x1cd))['classList'][_0x3d67b9(0xd8)]('open'),document[_0x3d67b9(0x1ad)]('rescheduleSheet')[_0x3d67b9(0x155)][_0x3d67b9(0xd6)](_0x3d67b9(0xf7));const _0x1679f1=document[_0x3d67b9(0x1ad)](_0x3d67b9(0x110)),_0x4b6576=document[_0x3d67b9(0x1ad)](_0x3d67b9(0x15e));_0x1679f1['innerHTML']='',_0x4b6576[_0x3d67b9(0x10c)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x2d4b7e,_0x5cfb6f]=currentSession['start']['split'](':')[_0x3d67b9(0x178)](Number),[_0x4eaa75,_0x52e249]=currentSession['end']['split'](':')[_0x3d67b9(0x178)](Number),_0x5a8f5c=_0x4eaa75*0x3c+_0x52e249-(_0x2d4b7e*0x3c+_0x5cfb6f);try{const _0x29022f=window[_0x3d67b9(0x1b7)]?.['WebApp'],_0x460403=await fetch(API_URL,{'method':'POST','body':JSON[_0x3d67b9(0x15d)]({'action':_0x3d67b9(0x1a1),'coachId':currentSession[_0x3d67b9(0x126)],'duration':_0x5a8f5c,'init_data':_0x29022f?.[_0x3d67b9(0x17b)]||'','excludeSessionId':currentSession['id']})}),_0x299661=await _0x460403['json']();_0x299661['ok']&&_0x299661['data']?(availableSlotsCache=_0x299661[_0x3d67b9(0x1ae)],renderRescheduleDates()):_0x4b6576[_0x3d67b9(0x10c)]=_0x3d67b9(0x169);}catch(_0x4aaf20){_0x4b6576[_0x3d67b9(0x10c)]=_0x3d67b9(0x151);}}function renderRescheduleDates(){const _0x5372a0=a3_0x1188fb,_0x21a525=document[_0x5372a0(0x1ad)](_0x5372a0(0x110));_0x21a525[_0x5372a0(0x10c)]='';const _0x41caa7=Object[_0x5372a0(0x1aa)](availableSlotsCache)[_0x5372a0(0x196)](),_0xadf897=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x41caa7[_0x5372a0(0x1be)]===0x0){document['getElementById'](_0x5372a0(0x15e))[_0x5372a0(0x10c)]=_0x5372a0(0x11b);return;}_0x41caa7[_0x5372a0(0x172)]((_0x5a4903,_0x9ba70c)=>{const _0x54dfc3=_0x5372a0,_0x33e2f5=new Date(_0x5a4903),_0x402664=_0xadf897[_0x33e2f5[_0x54dfc3(0x1cb)]()],_0x2166f4=_0x33e2f5[_0x54dfc3(0x125)](),_0x5f0938=document['createElement'](_0x54dfc3(0x1c1));_0x5f0938[_0x54dfc3(0x19f)]=_0x54dfc3(0x10e);if(_0x9ba70c===0x0)_0x5f0938[_0x54dfc3(0x155)]['add']('active');_0x5f0938[_0x54dfc3(0x10c)]=_0x54dfc3(0x157)+_0x402664+_0x54dfc3(0x14f)+_0x2166f4+_0x54dfc3(0xe2),_0x5f0938[_0x54dfc3(0x179)]=()=>selectRsDate(_0x5a4903,_0x5f0938),_0x21a525[_0x54dfc3(0x194)](_0x5f0938);}),selectRsDate(_0x41caa7[0x0],_0x21a525[_0x5372a0(0xf0)]);}function selectRsDate(_0x14e9bf,_0x241742){const _0x422a81=a3_0x1188fb;selectedRsDate=_0x14e9bf,document['querySelectorAll'](_0x422a81(0x173))[_0x422a81(0x172)](_0x5df6d3=>_0x5df6d3[_0x422a81(0x155)][_0x422a81(0xd8)](_0x422a81(0x1bf)));if(_0x241742)_0x241742['classList'][_0x422a81(0xd6)](_0x422a81(0x1bf));const _0x9feec7=document[_0x422a81(0x1ad)](_0x422a81(0x15e));_0x9feec7[_0x422a81(0x10c)]='';const _0x41458a=availableSlotsCache[_0x14e9bf]||[];if(_0x41458a[_0x422a81(0x1be)]===0x0){_0x9feec7[_0x422a81(0x10c)]=_0x422a81(0x169);return;}_0x41458a['forEach'](_0x2a3080=>{const _0x344e8c=_0x422a81,_0x6cb754=document[_0x344e8c(0x1cc)](_0x344e8c(0x118));_0x6cb754[_0x344e8c(0x19f)]=_0x344e8c(0xe7),_0x6cb754[_0x344e8c(0x1a4)]=_0x2a3080,_0x6cb754[_0x344e8c(0x179)]=()=>confirmReschedule(_0x2a3080),_0x9feec7['appendChild'](_0x6cb754);});}async function confirmReschedule(_0x2c9c48){const _0x3dbf7a=a3_0x1188fb,_0x3847ad=new Date(selectedRsDate),_0x4f937a=_0x3847ad[_0x3dbf7a(0x1a2)](_0x3dbf7a(0x18f),{'day':_0x3dbf7a(0xcf),'month':_0x3dbf7a(0x19a)}),_0x525180=await showCustomConfirm(_0x3dbf7a(0xdf),_0x3dbf7a(0x143)+_0x4f937a+_0x3dbf7a(0x164)+_0x2c9c48+'?',![]);if(!_0x525180)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x39ffff=currentSession['dateStr'],_0x4c2ed4=currentSession['id'],[_0x37b4e3,_0x30e86d]=currentSession[_0x3dbf7a(0x1b1)][_0x3dbf7a(0x111)](':')[_0x3dbf7a(0x178)](Number),[_0x52248b,_0x566a00]=currentSession[_0x3dbf7a(0x163)]['split'](':')[_0x3dbf7a(0x178)](Number),_0x5574c9=_0x52248b*0x3c+_0x566a00-(_0x37b4e3*0x3c+_0x30e86d),[_0xffb032,_0x370cdd]=_0x2c9c48[_0x3dbf7a(0x111)](':')[_0x3dbf7a(0x178)](Number),_0x1665fe=_0xffb032*0x3c+_0x370cdd+_0x5574c9,_0x4e4548=Math[_0x3dbf7a(0x17c)](_0x1665fe/0x3c),_0x4e9f7b=_0x1665fe%0x3c,_0x310dce=String(_0x4e4548)[_0x3dbf7a(0x130)](0x2,'0')+':'+String(_0x4e9f7b)['padStart'](0x2,'0'),_0x1695be=sessions[_0x3dbf7a(0x19c)](_0x4ba5cf=>_0x4ba5cf['id']===_0x4c2ed4);_0x1695be!==-0x1&&(sessions[_0x1695be]['dateStr']=selectedRsDate,sessions[_0x1695be][_0x3dbf7a(0x1b1)]=_0x2c9c48,sessions[_0x1695be][_0x3dbf7a(0x163)]=_0x310dce,reRenderBlocks());try{const _0x5ef661=window['Telegram']?.[_0x3dbf7a(0x15c)],_0x2647c0=await fetch(API_URL,{'method':_0x3dbf7a(0xfb),'body':JSON['stringify']({'action':_0x3dbf7a(0x1a6),'init_data':_0x5ef661?.[_0x3dbf7a(0x17b)]||'','oldSessionId':_0x4c2ed4,'oldDate':_0x39ffff,'newDate':selectedRsDate,'newTime':_0x2c9c48,'coachId':currentSession[_0x3dbf7a(0x126)]})}),_0x422a6b=await _0x2647c0['json']();!_0x422a6b['ok']?(showToast(_0x3dbf7a(0x105)),DataManager['syncLoad']()):(showToast(_0x3dbf7a(0x11c)),DataManager['saveLocally']());}catch(_0x6a8aca){showToast(_0x3dbf7a(0xd7));}}document['addEventListener']('DOMContentLoaded',init);