const a3_0x2adbe5=a3_0x2136;(function(_0x2a66db,_0x1a7a60){const _0x83fe7d=a3_0x2136,_0x5334f4=_0x2a66db();while(!![]){try{const _0x340922=parseInt(_0x83fe7d(0x154))/0x1*(parseInt(_0x83fe7d(0xb4))/0x2)+parseInt(_0x83fe7d(0x95))/0x3*(-parseInt(_0x83fe7d(0x12b))/0x4)+parseInt(_0x83fe7d(0xec))/0x5*(parseInt(_0x83fe7d(0x152))/0x6)+parseInt(_0x83fe7d(0x14b))/0x7+parseInt(_0x83fe7d(0xe7))/0x8+-parseInt(_0x83fe7d(0xee))/0x9*(parseInt(_0x83fe7d(0x12d))/0xa)+-parseInt(_0x83fe7d(0x137))/0xb*(parseInt(_0x83fe7d(0x11b))/0xc);if(_0x340922===_0x1a7a60)break;else _0x5334f4['push'](_0x5334f4['shift']());}catch(_0x51ea4d){_0x5334f4['push'](_0x5334f4['shift']());}}}(a3_0x3b30,0xeca76));const APP_VERSION=a3_0x2adbe5(0x10c),API_URL=a3_0x2adbe5(0xf8),GRID_H=0x3c,KEY_SESSIONS=a3_0x2adbe5(0x171),KEY_SETTINGS=a3_0x2adbe5(0x8c),KEY_CLIENTS=a3_0x2adbe5(0x165);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2adbe5(0x136),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x25134e=a3_0x2adbe5,_0x5be9c0=(function(){let _0x16643f=!![];return function(_0x2c90ed,_0x221a43){const _0x236bd5=_0x16643f?function(){const _0xddbdc5=a3_0x2136;if(_0x221a43){const _0x1e0c1a=_0x221a43[_0xddbdc5(0x84)](_0x2c90ed,arguments);return _0x221a43=null,_0x1e0c1a;}}:function(){};return _0x16643f=![],_0x236bd5;};}()),_0x1583c0=_0x5be9c0(this,function(){const _0x29ad01=a3_0x2136;return _0x1583c0['toString']()['search'](_0x29ad01(0x12f))[_0x29ad01(0x93)]()['constructor'](_0x1583c0)[_0x29ad01(0x16a)](_0x29ad01(0x12f));});_0x1583c0();try{const _0x1d04b2=window[_0x25134e(0x81)]?.[_0x25134e(0x8a)];if(!_0x1d04b2)return;_0x1d04b2[_0x25134e(0x123)](),_0x1d04b2['expand']();try{_0x1d04b2[_0x25134e(0xe1)](_0x25134e(0xe8)),_0x1d04b2[_0x25134e(0x97)]&&_0x1d04b2[_0x25134e(0x97)](_0x25134e(0xe8));}catch(_0x15a5bc){console[_0x25134e(0xcc)](_0x25134e(0xcf),_0x15a5bc);}try{_0x1d04b2[_0x25134e(0x92)]&&(_0x1d04b2[_0x25134e(0x92)][_0x25134e(0x10a)](),_0x1d04b2[_0x25134e(0x92)][_0x25134e(0x85)](),_0x1d04b2[_0x25134e(0x92)][_0x25134e(0x125)](function(){const _0x3df07b=_0x25134e;window[_0x3df07b(0xed)][_0x3df07b(0xce)]=_0x3df07b(0x145);}));}catch(_0x4aac60){console['log'](_0x25134e(0x142),_0x4aac60);}try{if(_0x1d04b2['disableVerticalSwipes'])_0x1d04b2[_0x25134e(0x117)]();}catch(_0x9c2d19){}}catch(_0x2b51b8){console[_0x25134e(0x9f)](_0x25134e(0x8f),_0x2b51b8);}}());function isAdmin(){const _0x308f8e=a3_0x2adbe5;try{const _0x46cc6b=Number(window['Telegram']?.['WebApp']?.[_0x308f8e(0xa3)]?.[_0x308f8e(0x124)]?.['id']);return _0x46cc6b===0xbaf7174;}catch(_0x24ccbc){return![];}}const DataManager={'saveLocally'(){const _0x5aa1b2=a3_0x2adbe5;try{localStorage[_0x5aa1b2(0x89)](KEY_SESSIONS,JSON[_0x5aa1b2(0x87)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x5aa1b2(0x87)](clients)),localStorage[_0x5aa1b2(0x89)](KEY_SETTINGS,JSON[_0x5aa1b2(0x87)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2a9797){}},'loadLocal'(){const _0x164873=a3_0x2adbe5;try{const _0x539197=localStorage[_0x164873(0xdc)](KEY_SESSIONS);if(_0x539197)sessions=JSON[_0x164873(0x103)](_0x539197);const _0xc8cf3=localStorage[_0x164873(0xdc)](KEY_CLIENTS);if(_0xc8cf3)clients=JSON[_0x164873(0x103)](_0xc8cf3);const _0x6e7038=localStorage['getItem'](KEY_SETTINGS);if(_0x6e7038){const _0x39f085=JSON[_0x164873(0x103)](_0x6e7038);if(_0x39f085['pattern'])availabilityPattern=_0x39f085[_0x164873(0xd7)];if(_0x39f085[_0x164873(0x14d)])specialRanges=_0x39f085[_0x164873(0x14d)];if(_0x39f085[_0x164873(0x119)])dateExceptions=_0x39f085[_0x164873(0x119)];}}catch(_0x4ec60f){}},async 'syncLoad'(){const _0x282082=a3_0x2adbe5,_0x506996=new Date(),_0x4feeb4=_0x506996[_0x282082(0xe6)]()+'-'+String(_0x506996[_0x282082(0x9a)]()+0x1)[_0x282082(0xeb)](0x2,'0'),_0x3d2156=new Date(_0x506996);_0x3d2156['setMonth'](_0x506996['getMonth']()+0x1);const _0x241582=_0x3d2156[_0x282082(0xe6)]()+'-'+String(_0x3d2156[_0x282082(0x9a)]()+0x1)[_0x282082(0xeb)](0x2,'0'),_0xb8d799=Date[_0x282082(0xf1)]();try{const _0x8bb10c=window[_0x282082(0x81)]?.[_0x282082(0x8a)],_0x233a8c=_0x8bb10c?.[_0x282082(0x12e)]||'',[_0xd69cb1,_0x54003f]=await Promise[_0x282082(0x8b)]([fetch(API_URL,{'method':'POST','body':JSON[_0x282082(0x87)]({'action':'client_load','init_data':_0x233a8c,'month_str':_0x4feeb4})})[_0x282082(0x104)](_0x7cfb11=>_0x7cfb11[_0x282082(0x108)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x282082(0x169),'init_data':_0x233a8c,'month_str':_0x241582})})[_0x282082(0x104)](_0xf7c8c1=>_0xf7c8c1[_0x282082(0x108)]())]);if(lastUserActionTime>_0xb8d799){console[_0x282082(0xcc)](_0x282082(0x106));return;}if(_0xd69cb1['ok'])this['applyData'](_0xd69cb1[_0x282082(0xaf)],_0x4feeb4);if(_0x54003f['ok'])this['applyData'](_0x54003f[_0x282082(0xaf)],_0x241582);this[_0x282082(0xa0)]();}catch(_0x33c67d){}},'applyData'(_0x500c49,_0xa53598){const _0x28e671=a3_0x2adbe5;if(!_0x500c49)return;if(_0x500c49[_0x28e671(0xfc)]){if(_0x500c49[_0x28e671(0xfc)]['pattern'])availabilityPattern=_0x500c49[_0x28e671(0xfc)][_0x28e671(0xd7)];if(_0x500c49['settings'][_0x28e671(0x14d)])specialRanges=_0x500c49['settings'][_0x28e671(0x14d)];if(_0x500c49['settings'][_0x28e671(0x119)])dateExceptions=_0x500c49['settings'][_0x28e671(0x119)];}if(_0x500c49[_0x28e671(0x110)]&&Array['isArray'](_0x500c49[_0x28e671(0x110)]))clients=_0x500c49[_0x28e671(0x110)];_0x500c49[_0x28e671(0xfb)]&&(coachProfiles={...coachProfiles,..._0x500c49[_0x28e671(0xfb)]}),_0x500c49['calendar']&&(sessions=sessions[_0x28e671(0xb6)](_0x6b187e=>!_0x6b187e['dateStr'][_0x28e671(0xfe)](_0xa53598)),Object[_0x28e671(0x12a)](_0x500c49[_0x28e671(0xe9)])[_0x28e671(0x150)](_0xacb7f7=>{const _0xbef1e7=_0x28e671,_0x1032da=_0x500c49[_0xbef1e7(0xe9)][_0xacb7f7];_0x1032da['forEach'](_0x3335be=>{const _0x4d421c=_0xbef1e7;sessions[_0x4d421c(0x112)]({'id':_0x3335be['i'],'clientId':_0x3335be['c'],'coachId':_0x3335be[_0x4d421c(0x14a)],'dateStr':_0xa53598+'-'+_0xacb7f7[_0x4d421c(0xeb)](0x2,'0'),'start':_0x3335be['s'],'end':_0x3335be['e'],'note':_0x3335be['n']||'','status':_0x3335be['st']||'planned','seriesId':_0x3335be[_0x4d421c(0x127)]});});})),reRenderBlocks();}};function init(){const _0x37ad24=a3_0x2adbe5;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x37ad24(0xd9))[_0x37ad24(0x91)](_0x37ad24(0x178),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x13bd2a=a3_0x2adbe5,_0x2b23c6=document[_0x13bd2a(0xe2)]('timeColumn'),_0xd8969d=document[_0x13bd2a(0xe2)](_0x13bd2a(0xd0));_0x2b23c6['innerHTML']='',_0x2b23c6[_0x13bd2a(0xe5)](_0xd8969d);for(let _0x84f821=0x0;_0x84f821<0x18;_0x84f821++){const _0x36d80d=document[_0x13bd2a(0xcb)](_0x13bd2a(0x13a));_0x36d80d[_0x13bd2a(0x118)]=_0x13bd2a(0x120);if(_0x84f821>0x0)_0x36d80d['innerHTML']=_0x13bd2a(0x148)+String(_0x84f821)[_0x13bd2a(0xeb)](0x2,'0')+_0x13bd2a(0x177);_0x2b23c6[_0x13bd2a(0xe5)](_0x36d80d);}}function renderDayRange(_0x58d873,_0x358ab2){const _0x4c9dd4=a3_0x2adbe5,_0x196315=document[_0x4c9dd4(0xe2)]('daysHeaderTrack'),_0x52983b=document[_0x4c9dd4(0xe2)](_0x4c9dd4(0xea)),_0x405692=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x242f7f=new Date();_0x242f7f[_0x4c9dd4(0xad)](0x0,0x0,0x0,0x0);const _0x5d3a4f=getLocalDateStr(new Date());for(let _0x174e7a=_0x58d873;_0x174e7a<=_0x358ab2;_0x174e7a++){const _0x48d864=new Date(_0x242f7f);_0x48d864['setDate'](_0x48d864[_0x4c9dd4(0x15b)]()+_0x174e7a);const _0x518b40=getLocalDateStr(_0x48d864);let _0x404eb2=_0x48d864[_0x4c9dd4(0x16b)]()-0x1;if(_0x404eb2===-0x1)_0x404eb2=0x6;const _0x182a02=_0x518b40===_0x5d3a4f,_0x57adbb=document[_0x4c9dd4(0xcb)](_0x4c9dd4(0x13a));_0x57adbb[_0x4c9dd4(0x118)]=_0x4c9dd4(0x13f)+(_0x182a02?_0x4c9dd4(0x13e):''),_0x57adbb[_0x4c9dd4(0xf3)](_0x4c9dd4(0xac),_0x518b40),_0x57adbb[_0x4c9dd4(0x96)]='<div\x20class=\x22dch-day\x22>'+_0x405692[_0x404eb2]+_0x4c9dd4(0xd2)+_0x48d864[_0x4c9dd4(0x15b)]()+_0x4c9dd4(0xa9),_0x196315[_0x4c9dd4(0xe5)](_0x57adbb);const _0x43da57=document[_0x4c9dd4(0xcb)]('div');_0x43da57[_0x4c9dd4(0x118)]=_0x4c9dd4(0xd6)+(_0x182a02?_0x4c9dd4(0x13e):''),_0x43da57[_0x4c9dd4(0xf3)](_0x4c9dd4(0xac),_0x518b40),_0x43da57['setAttribute'](_0x4c9dd4(0x144),_0x404eb2),_0x52983b[_0x4c9dd4(0xe5)](_0x43da57);}}function a3_0x2136(_0x3a9fb4,_0x49d5d3){_0x3a9fb4=_0x3a9fb4-0x7d;const _0x12a052=a3_0x3b30();let _0x1f21ed=_0x12a052[_0x3a9fb4];return _0x1f21ed;}function reRenderBlocks(){const _0x5e0258=a3_0x2adbe5;document[_0x5e0258(0x14c)](_0x5e0258(0x15e))[_0x5e0258(0x150)](_0x5da34d=>{const _0x2cf34a=_0x5e0258;_0x5da34d['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2cf34a(0x150)](_0x4261e0=>_0x4261e0[_0x2cf34a(0x156)]());const _0x2d9a75=_0x5da34d[_0x2cf34a(0x175)](_0x2cf34a(0xac)),_0x240325=parseInt(_0x5da34d[_0x2cf34a(0x175)](_0x2cf34a(0x144))),_0x46b481=Math[_0x2cf34a(0x105)](_0x5da34d[_0x2cf34a(0xc8)]);(availabilityPattern[_0x240325]||[])['forEach'](_0x18e43c=>{const _0x3d4cb8=_0x2cf34a,_0x4ff815=document[_0x3d4cb8(0xcb)]('div');_0x4ff815[_0x3d4cb8(0x118)]='blocked-slot\x20stripe-bg',_0x4ff815['style'][_0x3d4cb8(0x143)]=_0x18e43c*GRID_H+'px',_0x4ff815[_0x3d4cb8(0x158)][_0x3d4cb8(0x122)]='-'+_0x46b481+'px\x20-'+_0x18e43c*GRID_H+'px',_0x5da34d[_0x3d4cb8(0xe5)](_0x4ff815);});if(specialRanges[_0x2cf34a(0x99)]>0x0){const _0x7818d8=new Date(_0x2d9a75+'T00:00:00')['getTime'](),_0x46cf05=new Date(_0x2d9a75+_0x2cf34a(0xae))[_0x2cf34a(0x15c)]();specialRanges[_0x2cf34a(0x150)](_0x399254=>{const _0x276426=_0x2cf34a,_0x499d76=new Date(_0x399254[_0x276426(0x17b)])['getTime'](),_0x397baf=new Date(_0x399254[_0x276426(0x162)])[_0x276426(0x15c)](),_0x361184=Math[_0x276426(0xef)](_0x7818d8,_0x499d76),_0x4b2d70=Math[_0x276426(0xde)](_0x46cf05,_0x397baf);if(_0x361184<_0x4b2d70){const _0x333a58=(_0x361184-_0x7818d8)/0x36ee80*GRID_H,_0x97db3f=(_0x4b2d70-_0x361184)/0x36ee80*GRID_H,_0x519e39=document[_0x276426(0xcb)](_0x276426(0x13a));_0x97db3f>=23.5*GRID_H?(_0x519e39[_0x276426(0x118)]=_0x276426(0xc0),_0x519e39[_0x276426(0x158)][_0x276426(0x122)]='-'+_0x46b481+_0x276426(0xd5)):(_0x519e39['className']=_0x276426(0x11f),_0x519e39[_0x276426(0x158)][_0x276426(0x143)]=_0x333a58+'px',_0x519e39['style']['height']=_0x97db3f+'px',_0x519e39[_0x276426(0x158)][_0x276426(0x122)]='-'+_0x46b481+_0x276426(0x100)+_0x333a58+'px'),_0x5da34d[_0x276426(0xe5)](_0x519e39);}});}renderEventsForColumn(_0x5da34d,_0x2d9a75);});}function renderEventsForColumn(_0x25cb07,_0x476288){const _0x35f401=a3_0x2adbe5,_0xc94cd=sessions[_0x35f401(0xb6)](_0x4cb11a=>_0x4cb11a[_0x35f401(0x82)]===_0x476288),_0x4d5c30=_0xc94cd[_0x35f401(0x160)](_0x2f6778=>{const _0x2e1c1d=_0x35f401,[_0x4d9554,_0x160442]=_0x2f6778['start'][_0x2e1c1d(0x129)](':')[_0x2e1c1d(0x160)](Number),[_0x17bfe1,_0x213f91]=_0x2f6778[_0x2e1c1d(0x162)]['split'](':')[_0x2e1c1d(0x160)](Number);return{'data':_0x2f6778,'start':_0x4d9554*0x3c+_0x160442,'end':_0x17bfe1*0x3c+_0x213f91,'colIndex':0x0};});_0x4d5c30[_0x35f401(0x10e)]((_0x3aa5fe,_0x296f55)=>_0x3aa5fe[_0x35f401(0x17b)]-_0x296f55['start']||_0x296f55['end']-_0x296f55[_0x35f401(0x17b)]-(_0x3aa5fe[_0x35f401(0x162)]-_0x3aa5fe['start']));const _0x2f62f4=[];_0x4d5c30[_0x35f401(0x150)](_0xee6e75=>{const _0x34cf95=_0x35f401;let _0x3f54af=![];for(let _0x21de49=0x0;_0x21de49<_0x2f62f4[_0x34cf95(0x99)];_0x21de49++){const _0x1af542=_0x2f62f4[_0x21de49];if(_0xee6e75['start']>=_0x1af542[_0x1af542['length']-0x1][_0x34cf95(0x162)]){_0x1af542['push'](_0xee6e75),_0xee6e75[_0x34cf95(0x153)]=_0x21de49,_0x3f54af=!![];break;}}!_0x3f54af&&(_0x2f62f4[_0x34cf95(0x112)]([_0xee6e75]),_0xee6e75[_0x34cf95(0x153)]=_0x2f62f4[_0x34cf95(0x99)]-0x1);}),_0x4d5c30['forEach'](_0xc4e378=>{const _0x5ed75f=_0x35f401;let _0xd0e84f=0x0;_0x4d5c30[_0x5ed75f(0x150)](_0x36f0be=>{const _0x1a52e5=_0x5ed75f;if(Math[_0x1a52e5(0xef)](_0xc4e378['start'],_0x36f0be['start'])<Math[_0x1a52e5(0xde)](_0xc4e378[_0x1a52e5(0x162)],_0x36f0be[_0x1a52e5(0x162)])&&_0x36f0be['colIndex']>_0xd0e84f)_0xd0e84f=_0x36f0be[_0x1a52e5(0x153)];});const _0x30ce4b=_0xd0e84f+0x1,_0x5ad504=0x64/_0x30ce4b,_0x12ed37=_0xc4e378['colIndex']*_0x5ad504,_0x2bdb5a=document[_0x5ed75f(0xcb)](_0x5ed75f(0x13a)),_0x33cbef=_0xc4e378[_0x5ed75f(0xaf)];let _0x1ec93c=_0x5ed75f(0xb5);if(clients&&clients['length']>0x0){const _0xf8b876=clients[_0x5ed75f(0x80)](_0x3c8291=>String(_0x3c8291['id'])===String(_0x33cbef[_0x5ed75f(0xe4)]));if(_0xf8b876&&_0xf8b876['color'])_0x1ec93c=_0xf8b876[_0x5ed75f(0x13d)];}const _0x49a778=_0x33cbef[_0x5ed75f(0xbb)]==='completed',_0x576635=_0x49a778?0x1:0.45;_0x2bdb5a[_0x5ed75f(0x118)]='event-card'+(_0x49a778?'\x20status-completed':''),_0x2bdb5a[_0x5ed75f(0x158)][_0x5ed75f(0x8e)]=hexToRgba(_0x1ec93c,_0x576635),_0x2bdb5a[_0x5ed75f(0x158)][_0x5ed75f(0xf6)]=_0x1ec93c;const _0x42c366=_0xc4e378[_0x5ed75f(0x17b)]/0x3c*GRID_H,_0x883d6d=(_0xc4e378[_0x5ed75f(0x162)]-_0xc4e378['start'])/0x3c*GRID_H;_0x2bdb5a['style'][_0x5ed75f(0x143)]=_0x42c366+'px',_0x2bdb5a[_0x5ed75f(0x158)][_0x5ed75f(0x131)]=Math[_0x5ed75f(0xef)](_0x883d6d,0x14)+'px',_0x2bdb5a[_0x5ed75f(0x158)][_0x5ed75f(0xe3)]=_0x5ed75f(0x128)+_0x5ad504+'%\x20-\x204px)',_0x2bdb5a[_0x5ed75f(0x158)]['left']=_0x5ed75f(0x128)+_0x12ed37+'%\x20+\x202px)',_0x2bdb5a[_0x5ed75f(0x158)][_0x5ed75f(0xd3)]=0xa+_0xc4e378['colIndex'];if(_0x5ad504<0x55)_0x2bdb5a[_0x5ed75f(0x11d)]['add'](_0x5ed75f(0xb7));let _0x102064='';if(_0x33cbef[_0x5ed75f(0xb8)])_0x102064+=_0x5ed75f(0xbf);if(_0x49a778)_0x102064+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x2bdb5a[_0x5ed75f(0x96)]=_0x5ed75f(0x111)+_0x33cbef['start']+'\x20-\x20'+_0x33cbef[_0x5ed75f(0x162)]+_0x5ed75f(0xd1)+_0x102064+_0x5ed75f(0x16c),_0x2bdb5a['onclick']=_0x13fec2=>{const _0x55c906=_0x5ed75f;_0x13fec2[_0x55c906(0x9b)](),openDetails(_0x33cbef);},_0x25cb07[_0x5ed75f(0xe5)](_0x2bdb5a);});}function openAnalytics(){const _0x23dd16=a3_0x2adbe5,_0x5b2b71=document[_0x23dd16(0xf5)](_0x23dd16(0x11a));setAnalyticsPeriod('week',_0x5b2b71),openSheet(_0x23dd16(0x16d));}function setAnalyticsPeriod(_0x42771b,_0x4e72a2){const _0x4098a4=a3_0x2adbe5;currentAnPeriod=_0x42771b,document[_0x4098a4(0x14c)]('.period-switch\x20.p-btn')[_0x4098a4(0x150)](_0x8c0c09=>_0x8c0c09[_0x4098a4(0x11d)][_0x4098a4(0x156)](_0x4098a4(0x168)));if(_0x4e72a2)_0x4e72a2[_0x4098a4(0x11d)][_0x4098a4(0xc1)](_0x4098a4(0x168));const _0x62ed03=document[_0x4098a4(0xe2)](_0x4098a4(0x9e));_0x62ed03[_0x4098a4(0x158)][_0x4098a4(0xbd)]=_0x42771b===_0x4098a4(0x157)?_0x4098a4(0x121):_0x4098a4(0x140);const _0x509963=new Date();let _0x228de4=new Date(),_0x869d9c=new Date();if(_0x42771b===_0x4098a4(0x136))_0x228de4=getStartOfWeek(_0x509963),_0x869d9c=new Date(_0x228de4),_0x869d9c[_0x4098a4(0x146)](_0x869d9c[_0x4098a4(0x15b)]()+0x6);else{if(_0x42771b==='month')_0x228de4=new Date(_0x509963[_0x4098a4(0xe6)](),_0x509963[_0x4098a4(0x9a)](),0x1),_0x869d9c=new Date(_0x509963[_0x4098a4(0xe6)](),_0x509963[_0x4098a4(0x9a)]()+0x1,0x0);else{!document['getElementById'](_0x4098a4(0x138))[_0x4098a4(0x151)]&&(document['getElementById'](_0x4098a4(0x138))['value']=getLocalDateStr(_0x509963),document[_0x4098a4(0xe2)](_0x4098a4(0xbc))[_0x4098a4(0x151)]=getLocalDateStr(_0x509963));refreshAnalytics();return;}}document[_0x4098a4(0xe2)](_0x4098a4(0x138))[_0x4098a4(0x151)]=getLocalDateStr(_0x228de4),document[_0x4098a4(0xe2)](_0x4098a4(0xbc))[_0x4098a4(0x151)]=getLocalDateStr(_0x869d9c),refreshAnalytics();}function refreshAnalytics(){const _0x51c95a=a3_0x2adbe5,_0x3ceb9f=document[_0x51c95a(0xe2)](_0x51c95a(0x138))['value'],_0x34852b=document[_0x51c95a(0xe2)](_0x51c95a(0xbc))['value'];if(!_0x3ceb9f||!_0x34852b)return;const _0x17d366=sessions[_0x51c95a(0xb6)](_0x27afe0=>_0x27afe0[_0x51c95a(0x82)]>=_0x3ceb9f&&_0x27afe0['dateStr']<=_0x34852b&&_0x27afe0[_0x51c95a(0xbb)]!=='cancelled'),_0x24d0a6=_0x17d366[_0x51c95a(0x99)],_0x5e120d=_0x17d366[_0x51c95a(0xb6)](_0x124ee4=>_0x124ee4['status']===_0x51c95a(0x9d))[_0x51c95a(0x99)],_0x200414=_0x24d0a6>0x0?Math[_0x51c95a(0x105)](_0x5e120d/_0x24d0a6*0x64):0x0;document['getElementById']('anPercent')['textContent']=_0x200414+'%',document[_0x51c95a(0xe2)](_0x51c95a(0x83))[_0x51c95a(0x139)]=_0x5e120d+_0x51c95a(0x13b)+_0x24d0a6+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x16765f=document[_0x51c95a(0xe2)](_0x51c95a(0x176)),_0x192f57=0x2*Math['PI']*0x23,_0x3b30a8=_0x192f57-_0x200414/0x64*_0x192f57;_0x16765f[_0x51c95a(0x158)]['strokeDashoffset']=_0x3b30a8;const _0x7135de={};_0x17d366[_0x51c95a(0x150)](_0x46cce5=>{const _0x431176=_0x51c95a,_0x18d8be=_0x46cce5[_0x431176(0x141)]||_0x431176(0x135);if(!_0x7135de[_0x18d8be]){const _0x32fd08='#'+_0x18d8be[_0x431176(0x93)]()[_0x431176(0x109)](0x0,0x6);_0x7135de[_0x18d8be]={'total':0x0,'done':0x0,'color':_0x32fd08};}_0x7135de[_0x18d8be][_0x431176(0x113)]++;if(_0x46cce5[_0x431176(0xbb)]===_0x431176(0x9d))_0x7135de[_0x18d8be][_0x431176(0x10f)]++;});const _0x43e3a3=document[_0x51c95a(0xe2)](_0x51c95a(0x133));_0x43e3a3['innerHTML']='';const _0x5cc240=Object[_0x51c95a(0x13c)](_0x7135de)[_0x51c95a(0x10e)]((_0x27721d,_0x25b410)=>_0x25b410[0x1][_0x51c95a(0x113)]-_0x27721d[0x1]['total']);if(_0x5cc240[_0x51c95a(0x99)]===0x0){_0x43e3a3[_0x51c95a(0x96)]=_0x51c95a(0x90);return;}_0x5cc240[_0x51c95a(0x150)](([_0x541c4a,_0x1e278c])=>{const _0x56b7b9=_0x51c95a,_0x34e7cd=Math['round'](_0x1e278c['done']/_0x1e278c[_0x56b7b9(0x113)]*0x64),_0x2f15ec=document['createElement'](_0x56b7b9(0x13a));_0x2f15ec[_0x56b7b9(0x118)]='client-stat-card',_0x2f15ec[_0x56b7b9(0x158)][_0x56b7b9(0xf6)]=_0x1e278c[_0x56b7b9(0x13d)],_0x2f15ec[_0x56b7b9(0x96)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x541c4a[_0x56b7b9(0x109)](0x0,0x5)+_0x56b7b9(0xa6)+_0x1e278c[_0x56b7b9(0x10f)]+'</span>\x20/\x20'+_0x1e278c[_0x56b7b9(0x113)]+_0x56b7b9(0x132)+_0x34e7cd+_0x56b7b9(0x11e),_0x43e3a3[_0x56b7b9(0xe5)](_0x2f15ec);});}function openDetails(_0x4fcc64){const _0x45e9c4=a3_0x2adbe5;currentSession=_0x4fcc64;const _0x101db5=new Date(_0x4fcc64[_0x45e9c4(0x82)]),_0x305476=_0x101db5[_0x45e9c4(0xc4)](_0x45e9c4(0xa7),{'weekday':_0x45e9c4(0xdb),'day':'numeric','month':_0x45e9c4(0xdb)});document[_0x45e9c4(0xe2)]('detDate')[_0x45e9c4(0x139)]=_0x305476[_0x45e9c4(0xda)](0x0)[_0x45e9c4(0x14f)]()+_0x305476['slice'](0x1),document[_0x45e9c4(0xe2)](_0x45e9c4(0x170))[_0x45e9c4(0x139)]=_0x4fcc64[_0x45e9c4(0x17b)]+_0x45e9c4(0xba)+_0x4fcc64[_0x45e9c4(0x162)],document[_0x45e9c4(0xe2)](_0x45e9c4(0xd4))[_0x45e9c4(0x139)]=_0x4fcc64[_0x45e9c4(0xc3)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x5a67f9=document['getElementById'](_0x45e9c4(0x10d)),_0x38383c=document[_0x45e9c4(0xe2)](_0x45e9c4(0xbe)),_0x1a43e9=_0x38383c['querySelector'](_0x45e9c4(0xc5)),_0x4b0d62=_0x38383c['querySelector'](_0x45e9c4(0xff)),_0x4a518f=document[_0x45e9c4(0xe2)](_0x45e9c4(0xfd));if(_0x4fcc64[_0x45e9c4(0xbb)]==='completed')_0x5a67f9['textContent']=_0x45e9c4(0x155),_0x5a67f9['style'][_0x45e9c4(0x13d)]=_0x45e9c4(0x17a),_0x38383c['style'][_0x45e9c4(0xbd)]=_0x45e9c4(0x140);else{_0x5a67f9[_0x45e9c4(0x139)]=_0x45e9c4(0xf4),_0x5a67f9[_0x45e9c4(0x158)]['color']=_0x45e9c4(0xc7),_0x38383c[_0x45e9c4(0x158)][_0x45e9c4(0xbd)]=_0x45e9c4(0x9c);const _0x15b06e=new Date(_0x4fcc64[_0x45e9c4(0x82)]+'T'+_0x4fcc64[_0x45e9c4(0x17b)]),_0x163a10=new Date(),_0x4e044e=(_0x15b06e-_0x163a10)/(0x3e8*0x3c*0x3c),_0x32cb80=coachProfiles[_0x4fcc64[_0x45e9c4(0x141)]]&&coachProfiles[_0x4fcc64[_0x45e9c4(0x141)]]['cancel_window']?parseInt(coachProfiles[_0x4fcc64['coachId']][_0x45e9c4(0x173)]):0x18;if(_0x32cb80===0x0||_0x4e044e>=_0x32cb80)_0x1a43e9[_0x45e9c4(0x158)][_0x45e9c4(0xbd)]=_0x45e9c4(0x9c),_0x4b0d62['style'][_0x45e9c4(0xbd)]=_0x45e9c4(0x9c),_0x4a518f['style'][_0x45e9c4(0xbd)]='none';else{_0x1a43e9['style']['display']=_0x45e9c4(0x140),_0x4b0d62[_0x45e9c4(0x158)][_0x45e9c4(0xbd)]=_0x45e9c4(0x140),_0x4a518f[_0x45e9c4(0x158)][_0x45e9c4(0xbd)]=_0x45e9c4(0x9c);let _0x3ed3b5=_0x32cb80===0x0?_0x45e9c4(0xcd):'–∑–∞\x20'+_0x32cb80+_0x45e9c4(0xca);_0x4a518f[_0x45e9c4(0x139)]=_0x45e9c4(0xb1)+_0x3ed3b5+_0x45e9c4(0x14e);}}document[_0x45e9c4(0xe2)](_0x45e9c4(0x101))[_0x45e9c4(0x11d)][_0x45e9c4(0xc1)](_0x45e9c4(0x168)),document[_0x45e9c4(0xe2)](_0x45e9c4(0xa1))[_0x45e9c4(0x11d)][_0x45e9c4(0xc1)](_0x45e9c4(0x12c));}function closeAllSheets(){const _0x7e9c94=a3_0x2adbe5;document[_0x7e9c94(0xe2)](_0x7e9c94(0x101))[_0x7e9c94(0x11d)][_0x7e9c94(0x156)](_0x7e9c94(0x168)),document['querySelectorAll'](_0x7e9c94(0xc6))[_0x7e9c94(0x150)](_0x5ef00e=>_0x5ef00e[_0x7e9c94(0x11d)][_0x7e9c94(0x156)]('open'));}function openSheet(_0x20eae2){const _0x15611b=a3_0x2adbe5;document[_0x15611b(0xe2)](_0x15611b(0x101))['classList']['add'](_0x15611b(0x168)),document[_0x15611b(0xe2)](_0x20eae2)[_0x15611b(0x11d)][_0x15611b(0xc1)](_0x15611b(0x12c));}function getLocalDateStr(_0x1dde78){const _0x556b25=a3_0x2adbe5,_0x361de8=_0x1dde78['getFullYear'](),_0x4150ff=String(_0x1dde78[_0x556b25(0x9a)]()+0x1)[_0x556b25(0xeb)](0x2,'0'),_0x3e0bb9=String(_0x1dde78[_0x556b25(0x15b)]())[_0x556b25(0xeb)](0x2,'0');return _0x361de8+'-'+_0x4150ff+'-'+_0x3e0bb9;}function getStartOfWeek(_0x25c9c3){const _0x2613b2=a3_0x2adbe5,_0x4433e6=new Date(_0x25c9c3),_0x533294=_0x4433e6[_0x2613b2(0x16b)](),_0x2020bb=_0x4433e6[_0x2613b2(0x15b)]()-_0x533294+(_0x533294===0x0?-0x6:0x1);return _0x4433e6[_0x2613b2(0x146)](_0x2020bb),_0x4433e6['setHours'](0x0,0x0,0x0,0x0),_0x4433e6;}function scrollToToday(){const _0x1350fc=getLocalDateStr(new Date());setTimeout(()=>{const _0x3478ac=a3_0x2136,_0x2b91da=document[_0x3478ac(0xf5)](_0x3478ac(0x130)+_0x1350fc+'\x22]');if(_0x2b91da){const _0x3652a7=document[_0x3478ac(0xe2)](_0x3478ac(0xd9)),_0x4879cb=_0x2b91da[_0x3478ac(0xc8)]-_0x3652a7['clientWidth']/0x2+_0x2b91da[_0x3478ac(0xdf)]/0x2;_0x3652a7['scrollTo']({'left':_0x4879cb,'behavior':_0x3478ac(0x179)}),_0x3652a7[_0x3478ac(0x164)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1d679c=a3_0x2adbe5,_0x498c0f=new Date(),_0x5a2064=document[_0x1d679c(0xe2)](_0x1d679c(0xf2)),_0x402c63=document[_0x1d679c(0xe2)](_0x1d679c(0xd0)),_0x22baa8=(_0x498c0f[_0x1d679c(0x8d)]()*0x3c+_0x498c0f['getMinutes']())/0x3c*GRID_H;_0x5a2064[_0x1d679c(0x158)][_0x1d679c(0x143)]=_0x22baa8+'px',_0x5a2064[_0x1d679c(0x158)]['display']=_0x1d679c(0x9c),_0x402c63['style'][_0x1d679c(0x143)]=_0x22baa8+'px',_0x402c63[_0x1d679c(0x158)][_0x1d679c(0xbd)]=_0x1d679c(0x9c),_0x402c63[_0x1d679c(0x139)]=String(_0x498c0f['getHours']())[_0x1d679c(0xeb)](0x2,'0')+':'+String(_0x498c0f['getMinutes']())[_0x1d679c(0xeb)](0x2,'0');}function onScroll(){const _0x155803=a3_0x2adbe5,_0x52bdf4=document['getElementById'](_0x155803(0xd9)),_0x49a536=document[_0x155803(0x14c)](_0x155803(0x16f));for(let _0x51f807 of _0x49a536)if(_0x51f807[_0x155803(0xc8)]>=_0x52bdf4[_0x155803(0x7d)]){const _0x3768e9=new Date(_0x51f807[_0x155803(0x175)](_0x155803(0xac)));document[_0x155803(0xe2)](_0x155803(0xe0))[_0x155803(0x139)]=_0x3768e9['toLocaleString']('ru',{'month':_0x155803(0xdb)})[_0x155803(0x14f)]()+'\x20'+_0x3768e9[_0x155803(0xe6)]();break;}}function showToast(_0x362c3b){const _0x2884a4=a3_0x2adbe5,_0x5bbc91=document[_0x2884a4(0xe2)](_0x2884a4(0xf0));_0x5bbc91['textContent']=_0x362c3b,_0x5bbc91['classList'][_0x2884a4(0xc1)]('show'),setTimeout(()=>_0x5bbc91[_0x2884a4(0x11d)][_0x2884a4(0x156)](_0x2884a4(0x10a)),0x7d0);}function handleInfiniteScroll(){const _0x1b1654=a3_0x2adbe5,_0x456b11=document[_0x1b1654(0xe2)](_0x1b1654(0xd9)),_0x57269c=_0x456b11[_0x1b1654(0x7d)],_0x5bc836=_0x456b11[_0x1b1654(0x163)],_0x395a6b=_0x456b11[_0x1b1654(0xc9)];if(_0x5bc836-(_0x57269c+_0x395a6b)<0x12c){const _0x577675=endOffset;endOffset+=0xe,renderDayRange(_0x577675+0x1,endOffset),reRenderBlocks();}if(_0x57269c<0x12c){const _0x1e54dc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1e54dc-0x1),_0x456b11['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x724414,_0x22b9ad){const _0x456bee=a3_0x2adbe5,_0x52338e=document[_0x456bee(0xe2)](_0x456bee(0x15a)),_0x450c67=document['getElementById'](_0x456bee(0xea)),_0x2c9cfa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x43e0a7=new Date();_0x43e0a7[_0x456bee(0xad)](0x0,0x0,0x0,0x0);const _0x3b37b2=getLocalDateStr(new Date()),_0x167d1f=document[_0x456bee(0x115)](),_0x4c3ffd=document[_0x456bee(0x115)]();for(let _0x27b5a6=_0x724414;_0x27b5a6<=_0x22b9ad;_0x27b5a6++){const _0x8de786=new Date(_0x43e0a7);_0x8de786['setDate'](_0x8de786[_0x456bee(0x15b)]()+_0x27b5a6);const _0x3d1547=getLocalDateStr(_0x8de786);let _0x4e90e1=_0x8de786[_0x456bee(0x16b)]()-0x1;if(_0x4e90e1===-0x1)_0x4e90e1=0x6;const _0x338c58=_0x3d1547===_0x3b37b2,_0x1316fc=document[_0x456bee(0xcb)](_0x456bee(0x13a));_0x1316fc[_0x456bee(0x118)]=_0x456bee(0x13f)+(_0x338c58?'today':''),_0x1316fc[_0x456bee(0xf3)](_0x456bee(0xac),_0x3d1547),_0x1316fc['innerHTML']=_0x456bee(0x86)+_0x2c9cfa[_0x4e90e1]+_0x456bee(0xd2)+_0x8de786[_0x456bee(0x15b)]()+_0x456bee(0xa9),_0x167d1f['appendChild'](_0x1316fc);const _0x567e9f=document['createElement'](_0x456bee(0x13a));_0x567e9f[_0x456bee(0x118)]=_0x456bee(0xd6)+(_0x338c58?_0x456bee(0x13e):''),_0x567e9f['setAttribute']('data-date',_0x3d1547),_0x567e9f[_0x456bee(0xf3)](_0x456bee(0x144),_0x4e90e1),_0x4c3ffd[_0x456bee(0xe5)](_0x567e9f);}_0x52338e[_0x456bee(0x10b)](_0x167d1f,_0x52338e[_0x456bee(0xb3)]),_0x450c67[_0x456bee(0x10b)](_0x4c3ffd,_0x450c67[_0x456bee(0xf5)](_0x456bee(0x15e)));}function hexToRgba(_0x4694fb,_0x1e9dac){const _0x5ad1b1=a3_0x2adbe5;let _0x2068bb;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5ad1b1(0xb2)](_0x4694fb))return _0x2068bb=_0x4694fb['substring'](0x1)[_0x5ad1b1(0x129)](''),_0x2068bb[_0x5ad1b1(0x99)]==0x3&&(_0x2068bb=[_0x2068bb[0x0],_0x2068bb[0x0],_0x2068bb[0x1],_0x2068bb[0x1],_0x2068bb[0x2],_0x2068bb[0x2]]),_0x2068bb='0x'+_0x2068bb['join'](''),_0x5ad1b1(0x114)+[_0x2068bb>>0x10&0xff,_0x2068bb>>0x8&0xff,_0x2068bb&0xff][_0x5ad1b1(0x7f)](',')+','+_0x1e9dac+')';return _0x5ad1b1(0x17c)+_0x1e9dac+')';}let confirmResolver=null;function showCustomConfirm(_0x138cfd,_0x298cb7,_0x50005c=!![]){const _0x25f633=a3_0x2adbe5;document['getElementById'](_0x25f633(0xa4))[_0x25f633(0x139)]=_0x138cfd,document[_0x25f633(0xe2)](_0x25f633(0x147))[_0x25f633(0x139)]=_0x298cb7;const _0x6ec7ae=document[_0x25f633(0xe2)](_0x25f633(0xab));return _0x50005c?(_0x6ec7ae[_0x25f633(0x158)][_0x25f633(0x13d)]=_0x25f633(0x149),_0x6ec7ae['style'][_0x25f633(0x174)]=_0x25f633(0xd8)):(_0x6ec7ae[_0x25f633(0x158)][_0x25f633(0x13d)]=_0x25f633(0xb5),_0x6ec7ae['style'][_0x25f633(0x174)]=_0x25f633(0xd8)),new Promise(_0x1229ae=>{const _0x290657=_0x25f633;confirmResolver=_0x1229ae,document[_0x290657(0xe2)](_0x290657(0xb9))['classList'][_0x290657(0xc1)]('visible');});}function resolveCustomConfirm(_0x400066){const _0x1b553c=a3_0x2adbe5;document[_0x1b553c(0xe2)](_0x1b553c(0xb9))['classList'][_0x1b553c(0x156)](_0x1b553c(0xfa));if(confirmResolver)confirmResolver(_0x400066);}function a3_0x3b30(){const _0x48c1d0=['innerHTML','setBackgroundColor','\x20–≤\x20','length','getMonth','stopPropagation','block','completed','anCustomDates','error','saveLocally','detailsSheet','rs-date-chip','initDataUnsafe','ccTitle','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','ru-RU','POST','</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','ccYesBtn','data-date','setHours','T23:59:59','data','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','test','firstChild','16fpcynb','#0a84ff','filter','mini','seriesId','customConfirm','\x20-\x20','status','anEnd','display','cancelContainer','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','day-off-overlay\x20stripe-bg','add','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','note','toLocaleDateString','.btn-cancel','.sheet','var(--acc-blue)','offsetLeft','clientWidth','\x20—á.','createElement','log','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','href','Error\x20setting\x20color:','timeLineBadge','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22dch-num\x22>','zIndex','detNote','px\x200px','day-column\x20','pattern','600','matrixViewport','charAt','long','getItem','rescheduleSheet','min','offsetWidth','headerMonth','setHeaderColor','getElementById','width','clientId','appendChild','getFullYear','15190688nwGLZH','#050505','calendar','gridColumns','padStart','830cwYxvR','location','431397TtdJUL','max','toast','now','globalTimeLine','setAttribute','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','querySelector','borderLeftColor','reschedule','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rsDatesTrack','visible','coach_profiles','settings','cancelHint','startsWith','.btn-reschedule','px\x20-','overlay','</div><div\x20class=\x22rs-day-num\x22>','parse','then','round','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–û—Ç–º–µ–Ω–µ–Ω–æ','json','substr','show','insertBefore','v9.5-CLIENT-ANALYTICS','detStatus','sort','done','clients','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','push','total','rgba(','createDocumentFragment','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','disableVerticalSwipes','className','exceptions','.period-switch\x20.p-btn','24HcUrEt','button','classList','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-range-part\x20stripe-bg','time-label','flex','backgroundPosition','ready','user','onClick','DOMContentLoaded','sid','calc(','split','keys','4XQZFiq','open','220bNTDVr','initData','(((.+)+)+)+$','.day-col-header[data-date=\x22','height','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','analyticsList','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','Unknown','week','9332158uXZZAW','anStart','textContent','div','\x20–∏–∑\x20','entries','color','today','day-col-header\x20','none','coachId','Error\x20setting\x20back\x20button:','top','data-day-idx','router.html','setDate','ccText','<span>','#ff453a','cid','9356333YQhowY','querySelectorAll','ranges','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','toUpperCase','forEach','value','10938LWbwzp','colIndex','67664tclTcY','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','remove','custom','style','onclick','daysHeaderTrack','getDate','getTime','floor','.day-column','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','map','syncLoad','end','scrollWidth','scrollTop','uc_client_list','client_cancel','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','active','client_load','search','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyticsSheet','.rs-date-chip','.day-col-header','detTime','uc_client_sessions','findIndex','cancel_window','fontWeight','getAttribute','anDonutCircle',':00</span>','scroll','auto','var(--acc-green)','start','rgba(10,\x20132,\x20255,\x20','scrollLeft','rsSlotsGrid','join','find','Telegram','dateStr','anTotalStats','apply','offClick','<div\x20class=\x22dch-day\x22>','stringify','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','setItem','WebApp','all','uc_client_settings','getHours','backgroundColor','Critical\x20TMA\x20Error:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','addEventListener','BackButton','toString','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','1076307RwYjwk'];a3_0x3b30=function(){return _0x48c1d0;};return a3_0x3b30();}async function tryCancelCurrentSession(){const _0x40a6a2=a3_0x2adbe5;if(!currentSession)return;const _0x1e438e=await showCustomConfirm(_0x40a6a2(0x134),_0x40a6a2(0x15f),!![]);if(!_0x1e438e)return;const _0x5c4a5f=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x39ad52=>_0x39ad52['id']!==_0x5c4a5f['id']),reRenderBlocks(),showToast(_0x40a6a2(0x107)),lastUserActionTime=Date['now']();try{const _0x26169d=window[_0x40a6a2(0x81)]?.[_0x40a6a2(0x8a)],_0x4994f9=await fetch(API_URL,{'method':_0x40a6a2(0xa8),'body':JSON[_0x40a6a2(0x87)]({'action':_0x40a6a2(0x166),'init_data':_0x26169d?.['initData']||'','coachId':_0x5c4a5f[_0x40a6a2(0x141)],'dateStr':_0x5c4a5f['dateStr'],'sessionId':_0x5c4a5f['id']})});if(_0x4994f9['ok'])DataManager['saveLocally']();}catch(_0x34d344){showToast(_0x40a6a2(0x88));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2873bd=a3_0x2adbe5;if(!currentSession)return;document[_0x2873bd(0xe2)](_0x2873bd(0xa1))[_0x2873bd(0x11d)]['remove'](_0x2873bd(0x12c)),document[_0x2873bd(0xe2)](_0x2873bd(0xdd))[_0x2873bd(0x11d)][_0x2873bd(0xc1)](_0x2873bd(0x12c));const _0x131db8=document[_0x2873bd(0xe2)](_0x2873bd(0xf9)),_0x4803b7=document[_0x2873bd(0xe2)](_0x2873bd(0x7e));_0x131db8[_0x2873bd(0x96)]='',_0x4803b7['innerHTML']=_0x2873bd(0xa5);const [_0x427417,_0x42f41c]=currentSession[_0x2873bd(0x17b)][_0x2873bd(0x129)](':')[_0x2873bd(0x160)](Number),[_0x28e506,_0x373cea]=currentSession['end'][_0x2873bd(0x129)](':')[_0x2873bd(0x160)](Number),_0x25691b=_0x28e506*0x3c+_0x373cea-(_0x427417*0x3c+_0x42f41c);try{const _0x1cada5=window['Telegram']?.[_0x2873bd(0x8a)],_0x4ff313=await fetch(API_URL,{'method':_0x2873bd(0xa8),'body':JSON[_0x2873bd(0x87)]({'action':'get_slots','coachId':currentSession[_0x2873bd(0x141)],'duration':_0x25691b,'init_data':_0x1cada5?.[_0x2873bd(0x12e)]||'','excludeSessionId':currentSession['id']})}),_0x4f0c48=await _0x4ff313['json']();_0x4f0c48['ok']&&_0x4f0c48[_0x2873bd(0xaf)]?(availableSlotsCache=_0x4f0c48['data'],renderRescheduleDates()):_0x4803b7[_0x2873bd(0x96)]=_0x2873bd(0x167);}catch(_0x2374d7){_0x4803b7[_0x2873bd(0x96)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x10d544=a3_0x2adbe5,_0xc1e59f=document['getElementById'](_0x10d544(0xf9));_0xc1e59f[_0x10d544(0x96)]='';const _0x2fa08a=Object[_0x10d544(0x12a)](availableSlotsCache)[_0x10d544(0x10e)](),_0xaa4cf5=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2fa08a[_0x10d544(0x99)]===0x0){document[_0x10d544(0xe2)](_0x10d544(0x7e))[_0x10d544(0x96)]=_0x10d544(0x94);return;}_0x2fa08a['forEach']((_0xec4869,_0x517623)=>{const _0x29539b=_0x10d544,_0x58a50e=new Date(_0xec4869),_0x469f7a=_0xaa4cf5[_0x58a50e[_0x29539b(0x16b)]()],_0x5c83ec=_0x58a50e[_0x29539b(0x15b)](),_0x273764=document[_0x29539b(0xcb)](_0x29539b(0x13a));_0x273764['className']=_0x29539b(0xa2);if(_0x517623===0x0)_0x273764[_0x29539b(0x11d)][_0x29539b(0xc1)](_0x29539b(0x168));_0x273764[_0x29539b(0x96)]='<div\x20class=\x22rs-day-name\x22>'+_0x469f7a+_0x29539b(0x102)+_0x5c83ec+_0x29539b(0xa9),_0x273764[_0x29539b(0x159)]=()=>selectRsDate(_0xec4869,_0x273764),_0xc1e59f[_0x29539b(0xe5)](_0x273764);}),selectRsDate(_0x2fa08a[0x0],_0xc1e59f['firstChild']);}function selectRsDate(_0x54da25,_0x59c0ea){const _0x1575f9=a3_0x2adbe5;selectedRsDate=_0x54da25,document[_0x1575f9(0x14c)](_0x1575f9(0x16e))['forEach'](_0x3f9c1f=>_0x3f9c1f['classList'][_0x1575f9(0x156)](_0x1575f9(0x168)));if(_0x59c0ea)_0x59c0ea['classList'][_0x1575f9(0xc1)](_0x1575f9(0x168));const _0x27cc8b=document[_0x1575f9(0xe2)](_0x1575f9(0x7e));_0x27cc8b[_0x1575f9(0x96)]='';const _0x5c3fec=availableSlotsCache[_0x54da25]||[];if(_0x5c3fec[_0x1575f9(0x99)]===0x0){_0x27cc8b[_0x1575f9(0x96)]=_0x1575f9(0x167);return;}_0x5c3fec[_0x1575f9(0x150)](_0x5f1ece=>{const _0x16e3e8=_0x1575f9,_0x586ac2=document[_0x16e3e8(0xcb)](_0x16e3e8(0x11c));_0x586ac2[_0x16e3e8(0x118)]='rs-time-btn',_0x586ac2[_0x16e3e8(0x139)]=_0x5f1ece,_0x586ac2['onclick']=()=>confirmReschedule(_0x5f1ece),_0x27cc8b['appendChild'](_0x586ac2);});}async function confirmReschedule(_0x2ad75a){const _0x13cf05=a3_0x2adbe5,_0x50e36f=new Date(selectedRsDate),_0x1240e4=_0x50e36f[_0x13cf05(0xc4)](_0x13cf05(0xa7),{'day':'numeric','month':'long'}),_0x2cbc70=await showCustomConfirm(_0x13cf05(0xc2),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x1240e4+_0x13cf05(0x98)+_0x2ad75a+'?',![]);if(!_0x2cbc70)return;closeAllSheets(),showToast(_0x13cf05(0xb0)),lastUserActionTime=Date[_0x13cf05(0xf1)]();const _0x2dc97c=currentSession[_0x13cf05(0x82)],_0x170be0=currentSession['id'],[_0x4df222,_0x2dd0b]=currentSession[_0x13cf05(0x17b)]['split'](':')['map'](Number),[_0x2e5404,_0x17e6a8]=currentSession[_0x13cf05(0x162)][_0x13cf05(0x129)](':')[_0x13cf05(0x160)](Number),_0x17f7e5=_0x2e5404*0x3c+_0x17e6a8-(_0x4df222*0x3c+_0x2dd0b),[_0xe3b12,_0x455945]=_0x2ad75a[_0x13cf05(0x129)](':')[_0x13cf05(0x160)](Number),_0x3fdf1e=_0xe3b12*0x3c+_0x455945+_0x17f7e5,_0x235986=Math[_0x13cf05(0x15d)](_0x3fdf1e/0x3c),_0x254831=_0x3fdf1e%0x3c,_0x5c1bec=String(_0x235986)[_0x13cf05(0xeb)](0x2,'0')+':'+String(_0x254831)[_0x13cf05(0xeb)](0x2,'0'),_0xce5de8=sessions[_0x13cf05(0x172)](_0x38405d=>_0x38405d['id']===_0x170be0);_0xce5de8!==-0x1&&(sessions[_0xce5de8]['dateStr']=selectedRsDate,sessions[_0xce5de8]['start']=_0x2ad75a,sessions[_0xce5de8][_0x13cf05(0x162)]=_0x5c1bec,reRenderBlocks());try{const _0x118b08=window[_0x13cf05(0x81)]?.[_0x13cf05(0x8a)],_0x5ba7dc=await fetch(API_URL,{'method':_0x13cf05(0xa8),'body':JSON[_0x13cf05(0x87)]({'action':_0x13cf05(0xf7),'init_data':_0x118b08?.[_0x13cf05(0x12e)]||'','oldSessionId':_0x170be0,'oldDate':_0x2dc97c,'newDate':selectedRsDate,'newTime':_0x2ad75a,'coachId':currentSession['coachId']})}),_0x34c144=await _0x5ba7dc[_0x13cf05(0x108)]();!_0x34c144['ok']?(showToast(_0x13cf05(0x116)),DataManager[_0x13cf05(0x161)]()):(showToast(_0x13cf05(0xaa)),DataManager['saveLocally']());}catch(_0x5b09f0){showToast(_0x13cf05(0x88));}}document['addEventListener'](a3_0x2adbe5(0x126),init);