const a3_0x54fc67=a3_0x2f52;(function(_0x1965c0,_0x1bac45){const _0x90d763=a3_0x2f52,_0x529306=_0x1965c0();while(!![]){try{const _0x37f08e=parseInt(_0x90d763(0x1a6))/0x1*(parseInt(_0x90d763(0x1af))/0x2)+parseInt(_0x90d763(0x1e6))/0x3*(-parseInt(_0x90d763(0x14e))/0x4)+-parseInt(_0x90d763(0x1b1))/0x5*(-parseInt(_0x90d763(0x114))/0x6)+parseInt(_0x90d763(0x1b4))/0x7*(-parseInt(_0x90d763(0x1bc))/0x8)+-parseInt(_0x90d763(0x160))/0x9*(parseInt(_0x90d763(0x163))/0xa)+-parseInt(_0x90d763(0x186))/0xb+-parseInt(_0x90d763(0x1d1))/0xc*(-parseInt(_0x90d763(0x1c5))/0xd);if(_0x37f08e===_0x1bac45)break;else _0x529306['push'](_0x529306['shift']());}catch(_0x56e08f){_0x529306['push'](_0x529306['shift']());}}}(a3_0x2269,0x5cfd0));const APP_VERSION=a3_0x54fc67(0x1e0),API_URL=a3_0x54fc67(0x17a),GRID_H=0x3c,KEY_SESSIONS=a3_0x54fc67(0x1a1),KEY_SETTINGS=a3_0x54fc67(0x16a),KEY_CLIENTS=a3_0x54fc67(0x203);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x54fc67(0x1ba),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4e0beb=a3_0x54fc67,_0x1d1a65=(function(){let _0x55039e=!![];return function(_0x3e5c20,_0x28d4cd){const _0x451d48=_0x55039e?function(){if(_0x28d4cd){const _0x1a210f=_0x28d4cd['apply'](_0x3e5c20,arguments);return _0x28d4cd=null,_0x1a210f;}}:function(){};return _0x55039e=![],_0x451d48;};}()),_0x2c6e2d=_0x1d1a65(this,function(){const _0x3a741f=a3_0x2f52;return _0x2c6e2d['toString']()[_0x3a741f(0x1be)](_0x3a741f(0x173))['toString']()['constructor'](_0x2c6e2d)[_0x3a741f(0x1be)](_0x3a741f(0x173));});_0x2c6e2d();try{const _0x4cf9f9=window['Telegram']?.[_0x4e0beb(0x13f)];if(!_0x4cf9f9)return;_0x4cf9f9['ready'](),_0x4cf9f9[_0x4e0beb(0x194)]();try{_0x4cf9f9[_0x4e0beb(0x14b)]('#050505'),_0x4cf9f9[_0x4e0beb(0x185)]&&_0x4cf9f9[_0x4e0beb(0x185)](_0x4e0beb(0x1ec));}catch(_0x51577b){console[_0x4e0beb(0x139)](_0x4e0beb(0x16c),_0x51577b);}try{_0x4cf9f9[_0x4e0beb(0x1df)]&&(_0x4cf9f9[_0x4e0beb(0x1df)][_0x4e0beb(0x1d8)](),_0x4cf9f9[_0x4e0beb(0x1df)][_0x4e0beb(0x1c1)](),_0x4cf9f9[_0x4e0beb(0x1df)][_0x4e0beb(0x1c3)](function(){const _0x3c0bae=_0x4e0beb;window[_0x3c0bae(0x178)][_0x3c0bae(0x1c4)]='router.html';}));}catch(_0xd3f561){console['log'](_0x4e0beb(0x1c0),_0xd3f561);}try{if(_0x4cf9f9['disableVerticalSwipes'])_0x4cf9f9[_0x4e0beb(0x1de)]();}catch(_0x3ca8ea){}}catch(_0x4b9b23){console[_0x4e0beb(0x19f)](_0x4e0beb(0x204),_0x4b9b23);}}());function isAdmin(){const _0x1bfda3=a3_0x54fc67;try{const _0x32ac5f=Number(window['Telegram']?.[_0x1bfda3(0x13f)]?.[_0x1bfda3(0x1b7)]?.['user']?.['id']);return _0x32ac5f===0xbaf7174;}catch(_0x4f2fee){return![];}}const DataManager={'saveLocally'(){const _0x433827=a3_0x54fc67;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x433827(0x1fb)](sessions)),localStorage[_0x433827(0x1f5)](KEY_CLIENTS,JSON[_0x433827(0x1fb)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x433827(0x1fb)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x16776d){}},'loadLocal'(){const _0x335b27=a3_0x54fc67;try{const _0x16d28d=localStorage[_0x335b27(0x131)](KEY_SESSIONS);if(_0x16d28d)sessions=JSON[_0x335b27(0x14c)](_0x16d28d);const _0x49a2fe=localStorage[_0x335b27(0x131)](KEY_CLIENTS);if(_0x49a2fe)clients=JSON[_0x335b27(0x14c)](_0x49a2fe);const _0x343830=localStorage[_0x335b27(0x131)](KEY_SETTINGS);if(_0x343830){const _0x29db3a=JSON[_0x335b27(0x14c)](_0x343830);if(_0x29db3a['pattern'])availabilityPattern=_0x29db3a['pattern'];if(_0x29db3a[_0x335b27(0x1f9)])specialRanges=_0x29db3a[_0x335b27(0x1f9)];if(_0x29db3a[_0x335b27(0x18f)])dateExceptions=_0x29db3a[_0x335b27(0x18f)];}}catch(_0x14bc29){}},async 'syncLoad'(){const _0x3a6bdb=a3_0x54fc67,_0x3544b9=new Date(),_0xd9c307=_0x3544b9[_0x3a6bdb(0x145)]()+'-'+String(_0x3544b9[_0x3a6bdb(0x12c)]()+0x1)[_0x3a6bdb(0x1e9)](0x2,'0'),_0x229e13=new Date(_0x3544b9);_0x229e13[_0x3a6bdb(0x171)](_0x3544b9[_0x3a6bdb(0x12c)]()+0x1);const _0x36409f=_0x229e13[_0x3a6bdb(0x145)]()+'-'+String(_0x229e13['getMonth']()+0x1)[_0x3a6bdb(0x1e9)](0x2,'0'),_0x232098=Date[_0x3a6bdb(0x1a2)]();try{const _0x101a36=window[_0x3a6bdb(0x141)]?.[_0x3a6bdb(0x13f)],_0x4b9689=_0x101a36?.[_0x3a6bdb(0x158)]||'',[_0x2342d5,_0x1aade3]=await Promise[_0x3a6bdb(0x1b8)]([fetch(API_URL,{'method':_0x3a6bdb(0x1bb),'body':JSON[_0x3a6bdb(0x1fb)]({'action':_0x3a6bdb(0x1b3),'init_data':_0x4b9689,'month_str':_0xd9c307})})[_0x3a6bdb(0x16d)](_0x3e9352=>_0x3e9352['json']()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x4b9689,'month_str':_0x36409f})})[_0x3a6bdb(0x16d)](_0x1ebe2c=>_0x1ebe2c[_0x3a6bdb(0x184)]())]);if(lastUserActionTime>_0x232098){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x2342d5['ok'])this['applyData'](_0x2342d5[_0x3a6bdb(0x19c)],_0xd9c307);if(_0x1aade3['ok'])this[_0x3a6bdb(0x1fd)](_0x1aade3[_0x3a6bdb(0x19c)],_0x36409f);this['saveLocally']();}catch(_0xa227cd){}},'applyData'(_0x3984e6,_0x486ff5){const _0x432d69=a3_0x54fc67;if(!_0x3984e6)return;if(_0x3984e6[_0x432d69(0x198)]){if(_0x3984e6[_0x432d69(0x198)]['pattern'])availabilityPattern=_0x3984e6[_0x432d69(0x198)][_0x432d69(0x137)];if(_0x3984e6[_0x432d69(0x198)][_0x432d69(0x1f9)])specialRanges=_0x3984e6[_0x432d69(0x198)]['ranges'];if(_0x3984e6[_0x432d69(0x198)][_0x432d69(0x18f)])dateExceptions=_0x3984e6['settings'][_0x432d69(0x18f)];}if(_0x3984e6['clients']&&Array[_0x432d69(0x113)](_0x3984e6['clients']))clients=_0x3984e6['clients'];_0x3984e6[_0x432d69(0x1d2)]&&(coachProfiles={...coachProfiles,..._0x3984e6['coach_profiles']}),_0x3984e6[_0x432d69(0x110)]&&(sessions=sessions[_0x432d69(0x179)](_0x4cb806=>!_0x4cb806[_0x432d69(0x18c)][_0x432d69(0x15f)](_0x486ff5)),Object[_0x432d69(0x15a)](_0x3984e6[_0x432d69(0x110)])[_0x432d69(0x16b)](_0x569186=>{const _0x19cfb7=_0x432d69,_0x38744f=_0x3984e6[_0x19cfb7(0x110)][_0x569186];_0x38744f[_0x19cfb7(0x16b)](_0x7893e2=>{const _0x31d619=_0x19cfb7;sessions[_0x31d619(0x130)]({'id':_0x7893e2['i'],'clientId':_0x7893e2['c'],'coachId':_0x7893e2[_0x31d619(0x19e)],'dateStr':_0x486ff5+'-'+_0x569186[_0x31d619(0x1e9)](0x2,'0'),'start':_0x7893e2['s'],'end':_0x7893e2['e'],'note':_0x7893e2['n']||'','status':_0x7893e2['st']||'planned','seriesId':_0x7893e2['sid']});});})),reRenderBlocks();}};function init(){const _0x506f98=a3_0x54fc67;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x506f98(0x19a)](_0x506f98(0x12d))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x506f98(0x1dc)]();}function renderTimeColumn(){const _0x172b66=a3_0x54fc67,_0x4380ed=document['getElementById'](_0x172b66(0x11d)),_0x41b408=document[_0x172b66(0x19a)](_0x172b66(0x1d0));_0x4380ed[_0x172b66(0x175)]='',_0x4380ed[_0x172b66(0x1f6)](_0x41b408);for(let _0x1e8b81=0x0;_0x1e8b81<0x18;_0x1e8b81++){const _0x258b0e=document[_0x172b66(0x164)](_0x172b66(0x150));_0x258b0e[_0x172b66(0x18b)]=_0x172b66(0x133);if(_0x1e8b81>0x0)_0x258b0e['innerHTML']='<span>'+String(_0x1e8b81)['padStart'](0x2,'0')+_0x172b66(0x177);_0x4380ed[_0x172b66(0x1f6)](_0x258b0e);}}function renderDayRange(_0xf31c97,_0x38b5d4){const _0x42cb6a=a3_0x54fc67,_0xefe188=document[_0x42cb6a(0x19a)](_0x42cb6a(0x1ca)),_0x252e65=document[_0x42cb6a(0x19a)](_0x42cb6a(0x123)),_0x834ee0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcfa5da=new Date();_0xcfa5da[_0x42cb6a(0x15c)](0x0,0x0,0x0,0x0);const _0x3fcccd=getLocalDateStr(new Date());for(let _0x499c28=_0xf31c97;_0x499c28<=_0x38b5d4;_0x499c28++){const _0x234eaf=new Date(_0xcfa5da);_0x234eaf[_0x42cb6a(0x125)](_0x234eaf[_0x42cb6a(0x1ff)]()+_0x499c28);const _0x1a6ce5=getLocalDateStr(_0x234eaf);let _0x5bfafd=_0x234eaf[_0x42cb6a(0x170)]()-0x1;if(_0x5bfafd===-0x1)_0x5bfafd=0x6;const _0x3df78f=_0x1a6ce5===_0x3fcccd,_0x4e99b3=document[_0x42cb6a(0x164)](_0x42cb6a(0x150));_0x4e99b3[_0x42cb6a(0x18b)]=_0x42cb6a(0x10e)+(_0x3df78f?_0x42cb6a(0x172):''),_0x4e99b3[_0x42cb6a(0x1c8)](_0x42cb6a(0x1b5),_0x1a6ce5),_0x4e99b3[_0x42cb6a(0x175)]='<div\x20class=\x22dch-day\x22>'+_0x834ee0[_0x5bfafd]+'</div><div\x20class=\x22dch-num\x22>'+_0x234eaf[_0x42cb6a(0x1ff)]()+'</div>',_0xefe188[_0x42cb6a(0x1f6)](_0x4e99b3);const _0xe4f749=document[_0x42cb6a(0x164)](_0x42cb6a(0x150));_0xe4f749[_0x42cb6a(0x18b)]=_0x42cb6a(0x129)+(_0x3df78f?_0x42cb6a(0x172):''),_0xe4f749[_0x42cb6a(0x1c8)](_0x42cb6a(0x1b5),_0x1a6ce5),_0xe4f749['setAttribute'](_0x42cb6a(0x16e),_0x5bfafd),_0x252e65[_0x42cb6a(0x1f6)](_0xe4f749);}}function reRenderBlocks(){const _0x39f1c5=a3_0x54fc67;document[_0x39f1c5(0x188)]('.day-column')['forEach'](_0x2281fc=>{const _0x1d4f55=_0x39f1c5;_0x2281fc[_0x1d4f55(0x188)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x1d4f55(0x16b)](_0x38fd16=>_0x38fd16[_0x1d4f55(0x140)]());const _0x5ae55a=_0x2281fc['getAttribute']('data-date'),_0x39e8fb=parseInt(_0x2281fc['getAttribute'](_0x1d4f55(0x16e))),_0x414123=Math[_0x1d4f55(0x1f1)](_0x2281fc[_0x1d4f55(0x19b)]);(availabilityPattern[_0x39e8fb]||[])[_0x1d4f55(0x16b)](_0xc97e6b=>{const _0x216d40=_0x1d4f55,_0xdeaf5b=document[_0x216d40(0x164)]('div');_0xdeaf5b[_0x216d40(0x18b)]=_0x216d40(0x1d5),_0xdeaf5b[_0x216d40(0x17c)]['top']=_0xc97e6b*GRID_H+'px',_0xdeaf5b['style']['backgroundPosition']='-'+_0x414123+'px\x20-'+_0xc97e6b*GRID_H+'px',_0x2281fc[_0x216d40(0x1f6)](_0xdeaf5b);});if(specialRanges['length']>0x0){const _0x315438=new Date(_0x5ae55a+'T00:00:00')['getTime'](),_0x321fd1=new Date(_0x5ae55a+_0x1d4f55(0x12a))['getTime']();specialRanges[_0x1d4f55(0x16b)](_0xeb8285=>{const _0x18f628=_0x1d4f55,_0x26fd59=new Date(_0xeb8285[_0x18f628(0x202)])[_0x18f628(0x13d)](),_0x384444=new Date(_0xeb8285['end'])[_0x18f628(0x13d)](),_0x3b7470=Math[_0x18f628(0x13c)](_0x315438,_0x26fd59),_0x2eb488=Math[_0x18f628(0x1c7)](_0x321fd1,_0x384444);if(_0x3b7470<_0x2eb488){const _0x49bea9=(_0x3b7470-_0x315438)/0x36ee80*GRID_H,_0x317668=(_0x2eb488-_0x3b7470)/0x36ee80*GRID_H,_0x3b9909=document[_0x18f628(0x164)](_0x18f628(0x150));_0x317668>=23.5*GRID_H?(_0x3b9909[_0x18f628(0x18b)]=_0x18f628(0x1d7),_0x3b9909[_0x18f628(0x17c)]['backgroundPosition']='-'+_0x414123+'px\x200px'):(_0x3b9909['className']=_0x18f628(0x183),_0x3b9909[_0x18f628(0x17c)][_0x18f628(0x1fa)]=_0x49bea9+'px',_0x3b9909['style'][_0x18f628(0x1d6)]=_0x317668+'px',_0x3b9909[_0x18f628(0x17c)][_0x18f628(0x1e7)]='-'+_0x414123+'px\x20-'+_0x49bea9+'px'),_0x2281fc['appendChild'](_0x3b9909);}});}renderEventsForColumn(_0x2281fc,_0x5ae55a);});}function renderEventsForColumn(_0x234a5d,_0xead6f2){const _0x45e0c3=a3_0x54fc67,_0x163a23=sessions[_0x45e0c3(0x179)](_0x2ab52a=>_0x2ab52a[_0x45e0c3(0x18c)]===_0xead6f2),_0x1e6710=_0x163a23['map'](_0x59738a=>{const _0x2d0e94=_0x45e0c3,[_0x456311,_0x49f3db]=_0x59738a[_0x2d0e94(0x202)][_0x2d0e94(0x15d)](':')[_0x2d0e94(0x115)](Number),[_0x2b7a05,_0x4f9245]=_0x59738a['end'][_0x2d0e94(0x15d)](':')['map'](Number);return{'data':_0x59738a,'start':_0x456311*0x3c+_0x49f3db,'end':_0x2b7a05*0x3c+_0x4f9245,'colIndex':0x0};});_0x1e6710[_0x45e0c3(0x1ee)]((_0x1264d8,_0x2602d6)=>_0x1264d8[_0x45e0c3(0x202)]-_0x2602d6[_0x45e0c3(0x202)]||_0x2602d6[_0x45e0c3(0x1fc)]-_0x2602d6[_0x45e0c3(0x202)]-(_0x1264d8[_0x45e0c3(0x1fc)]-_0x1264d8['start']));const _0x429c80=[];_0x1e6710[_0x45e0c3(0x16b)](_0xe0d70=>{const _0x527f42=_0x45e0c3;let _0xa8edbc=![];for(let _0x5972fc=0x0;_0x5972fc<_0x429c80[_0x527f42(0x124)];_0x5972fc++){const _0x7030d6=_0x429c80[_0x5972fc];if(_0xe0d70[_0x527f42(0x202)]>=_0x7030d6[_0x7030d6[_0x527f42(0x124)]-0x1][_0x527f42(0x1fc)]){_0x7030d6[_0x527f42(0x130)](_0xe0d70),_0xe0d70[_0x527f42(0x135)]=_0x5972fc,_0xa8edbc=!![];break;}}!_0xa8edbc&&(_0x429c80['push']([_0xe0d70]),_0xe0d70['colIndex']=_0x429c80[_0x527f42(0x124)]-0x1);}),_0x1e6710[_0x45e0c3(0x16b)](_0x28afa7=>{const _0x350209=_0x45e0c3;let _0x31a4a9=0x0;_0x1e6710[_0x350209(0x16b)](_0x265816=>{const _0x59a1f4=_0x350209;if(Math[_0x59a1f4(0x13c)](_0x28afa7[_0x59a1f4(0x202)],_0x265816[_0x59a1f4(0x202)])<Math[_0x59a1f4(0x1c7)](_0x28afa7[_0x59a1f4(0x1fc)],_0x265816[_0x59a1f4(0x1fc)])&&_0x265816[_0x59a1f4(0x135)]>_0x31a4a9)_0x31a4a9=_0x265816[_0x59a1f4(0x135)];});const _0x2aac63=_0x31a4a9+0x1,_0x2af865=0x64/_0x2aac63,_0x197edb=_0x28afa7[_0x350209(0x135)]*_0x2af865,_0x52f36c=document[_0x350209(0x164)](_0x350209(0x150)),_0x4481f3=_0x28afa7['data'];let _0x580df4=_0x350209(0x199);if(clients&&clients[_0x350209(0x124)]>0x0){const _0x5c1635=clients['find'](_0x3af52e=>String(_0x3af52e['id'])===String(_0x4481f3[_0x350209(0x191)]));if(_0x5c1635&&_0x5c1635[_0x350209(0x1e8)])_0x580df4=_0x5c1635[_0x350209(0x1e8)];}const _0x27d38b=_0x4481f3[_0x350209(0x1e4)]===_0x350209(0x1d4),_0x2ca2ac=_0x27d38b?0x1:0.45;_0x52f36c[_0x350209(0x18b)]=_0x350209(0x106)+(_0x27d38b?'\x20status-completed':''),_0x52f36c[_0x350209(0x17c)][_0x350209(0x1ac)]=hexToRgba(_0x580df4,_0x2ca2ac),_0x52f36c[_0x350209(0x17c)]['borderLeftColor']=_0x580df4;const _0x1a30cc=_0x28afa7['start']/0x3c*GRID_H,_0x38d264=(_0x28afa7[_0x350209(0x1fc)]-_0x28afa7[_0x350209(0x202)])/0x3c*GRID_H;_0x52f36c[_0x350209(0x17c)]['top']=_0x1a30cc+'px',_0x52f36c['style'][_0x350209(0x1d6)]=Math[_0x350209(0x13c)](_0x38d264,0x14)+'px',_0x52f36c[_0x350209(0x17c)]['width']=_0x350209(0x162)+_0x2af865+_0x350209(0x10b),_0x52f36c['style'][_0x350209(0x1a8)]=_0x350209(0x162)+_0x197edb+_0x350209(0x10f),_0x52f36c[_0x350209(0x17c)][_0x350209(0x1ed)]=0xa+_0x28afa7[_0x350209(0x135)];if(_0x2af865<0x55)_0x52f36c[_0x350209(0x1d3)][_0x350209(0x1a0)](_0x350209(0x1ea));let _0x1efd76='';if(_0x4481f3[_0x350209(0x1f2)])_0x1efd76+=_0x350209(0x156);if(_0x27d38b)_0x1efd76+=_0x350209(0x120);_0x52f36c['innerHTML']=_0x350209(0x166)+_0x4481f3[_0x350209(0x202)]+'\x20-\x20'+_0x4481f3[_0x350209(0x1fc)]+_0x350209(0x116)+_0x1efd76+_0x350209(0x1ef),_0x52f36c['onclick']=_0x218c5c=>{const _0x3356fa=_0x350209;_0x218c5c[_0x3356fa(0x1cd)](),openDetails(_0x4481f3);},_0x234a5d[_0x350209(0x1f6)](_0x52f36c);});}function openAnalytics(){const _0x500040=a3_0x54fc67,_0x1fbedd=document[_0x500040(0x111)](_0x500040(0x1a5));setAnalyticsPeriod(_0x500040(0x1ba),_0x1fbedd),openSheet(_0x500040(0x193));}function setAnalyticsPeriod(_0x11a352,_0x5e1337){const _0x2eb359=a3_0x54fc67;currentAnPeriod=_0x11a352,document[_0x2eb359(0x188)]('.period-switch\x20.p-btn')[_0x2eb359(0x16b)](_0x42697a=>_0x42697a[_0x2eb359(0x1d3)]['remove'](_0x2eb359(0x1cf)));if(_0x5e1337)_0x5e1337[_0x2eb359(0x1d3)][_0x2eb359(0x1a0)](_0x2eb359(0x1cf));const _0x7907fe=document[_0x2eb359(0x19a)](_0x2eb359(0x1ce));_0x7907fe[_0x2eb359(0x17c)][_0x2eb359(0x10c)]=_0x11a352===_0x2eb359(0x17b)?_0x2eb359(0x112):_0x2eb359(0x1bf);const _0x12c33c=new Date();let _0x1f5557=new Date(),_0x1b857d=new Date();if(_0x11a352===_0x2eb359(0x1ba))_0x1f5557=getStartOfWeek(_0x12c33c),_0x1b857d=new Date(_0x1f5557),_0x1b857d[_0x2eb359(0x125)](_0x1b857d[_0x2eb359(0x1ff)]()+0x6);else{if(_0x11a352===_0x2eb359(0x1b6))_0x1f5557=new Date(_0x12c33c[_0x2eb359(0x145)](),_0x12c33c['getMonth'](),0x1),_0x1b857d=new Date(_0x12c33c[_0x2eb359(0x145)](),_0x12c33c[_0x2eb359(0x12c)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x2eb359(0x19a)](_0x2eb359(0x127))[_0x2eb359(0x12b)]=getLocalDateStr(_0x12c33c),document[_0x2eb359(0x19a)](_0x2eb359(0x11f))[_0x2eb359(0x12b)]=getLocalDateStr(_0x12c33c));refreshAnalytics();return;}}document[_0x2eb359(0x19a)](_0x2eb359(0x127))['value']=getLocalDateStr(_0x1f5557),document[_0x2eb359(0x19a)](_0x2eb359(0x11f))[_0x2eb359(0x12b)]=getLocalDateStr(_0x1b857d),refreshAnalytics();}function refreshAnalytics(){const _0x424381=a3_0x54fc67,_0x1d78b7=document[_0x424381(0x19a)]('anStart')['value'],_0x581ccf=document[_0x424381(0x19a)](_0x424381(0x11f))[_0x424381(0x12b)];if(!_0x1d78b7||!_0x581ccf)return;const _0xd85456=sessions['filter'](_0x47be33=>_0x47be33[_0x424381(0x18c)]>=_0x1d78b7&&_0x47be33['dateStr']<=_0x581ccf&&_0x47be33[_0x424381(0x1e4)]!==_0x424381(0x192)),_0x2161f9=_0xd85456[_0x424381(0x124)],_0x358c10=_0xd85456[_0x424381(0x179)](_0x18cadb=>_0x18cadb[_0x424381(0x1e4)]===_0x424381(0x1d4))[_0x424381(0x124)],_0x541d51=_0x2161f9>0x0?Math['round'](_0x358c10/_0x2161f9*0x64):0x0;document[_0x424381(0x19a)](_0x424381(0x17e))[_0x424381(0x108)]=_0x541d51+'%',document[_0x424381(0x19a)](_0x424381(0x146))['textContent']=_0x358c10+_0x424381(0x13a)+_0x2161f9+_0x424381(0x1fe);const _0x4837f9=document[_0x424381(0x19a)](_0x424381(0x1c6)),_0x2b465d=0x2*Math['PI']*0x23,_0x20ff61=_0x2b465d-_0x541d51/0x64*_0x2b465d;_0x4837f9[_0x424381(0x17c)]['strokeDashoffset']=_0x20ff61;const _0x46c9bc={};_0xd85456[_0x424381(0x16b)](_0x5a57e2=>{const _0x561fcd=_0x424381,_0x389a32=_0x5a57e2[_0x561fcd(0x165)]||_0x561fcd(0x154);if(!_0x46c9bc[_0x389a32]){const _0x3e3e97='#'+_0x389a32[_0x561fcd(0x1f3)]()['substr'](0x0,0x6);_0x46c9bc[_0x389a32]={'total':0x0,'done':0x0,'color':_0x3e3e97};}_0x46c9bc[_0x389a32][_0x561fcd(0x11b)]++;if(_0x5a57e2[_0x561fcd(0x1e4)]==='completed')_0x46c9bc[_0x389a32][_0x561fcd(0x14a)]++;});const _0x28d061=document[_0x424381(0x19a)](_0x424381(0x149));_0x28d061[_0x424381(0x175)]='';const _0x5bcc4f=Object['entries'](_0x46c9bc)[_0x424381(0x1ee)]((_0x2da6c0,_0x3cb80c)=>_0x3cb80c[0x1][_0x424381(0x11b)]-_0x2da6c0[0x1][_0x424381(0x11b)]);if(_0x5bcc4f[_0x424381(0x124)]===0x0){_0x28d061[_0x424381(0x175)]=_0x424381(0x201);return;}_0x5bcc4f[_0x424381(0x16b)](([_0x34d4bd,_0x1ad54a])=>{const _0x24119c=_0x424381,_0x21a643=Math[_0x24119c(0x1f1)](_0x1ad54a[_0x24119c(0x14a)]/_0x1ad54a[_0x24119c(0x11b)]*0x64),_0x5f1dfe=document['createElement'](_0x24119c(0x150));_0x5f1dfe['className']=_0x24119c(0x18a),_0x5f1dfe['style']['borderLeftColor']=_0x1ad54a[_0x24119c(0x1e8)],_0x5f1dfe['innerHTML']=_0x24119c(0x104)+_0x34d4bd[_0x24119c(0x189)](0x0,0x5)+_0x24119c(0x200)+_0x1ad54a[_0x24119c(0x14a)]+_0x24119c(0x17f)+_0x1ad54a[_0x24119c(0x11b)]+_0x24119c(0x107)+_0x21a643+_0x24119c(0x1bd),_0x28d061[_0x24119c(0x1f6)](_0x5f1dfe);});}function openDetails(_0x1d4de8){const _0x2bc33c=a3_0x54fc67;currentSession=_0x1d4de8;const _0x5a7c8d=new Date(_0x1d4de8['dateStr']),_0x1274a4=_0x5a7c8d[_0x2bc33c(0x134)](_0x2bc33c(0x1dd),{'weekday':'long','day':_0x2bc33c(0x126),'month':_0x2bc33c(0x157)});document[_0x2bc33c(0x19a)](_0x2bc33c(0x1b0))[_0x2bc33c(0x108)]=_0x1274a4[_0x2bc33c(0x148)](0x0)['toUpperCase']()+_0x1274a4[_0x2bc33c(0x180)](0x1),document[_0x2bc33c(0x19a)](_0x2bc33c(0x1db))[_0x2bc33c(0x108)]=_0x1d4de8[_0x2bc33c(0x202)]+'\x20-\x20'+_0x1d4de8[_0x2bc33c(0x1fc)],document[_0x2bc33c(0x19a)]('detNote')[_0x2bc33c(0x108)]=_0x1d4de8[_0x2bc33c(0x1e2)]||_0x2bc33c(0x1c9);const _0x43b868=document[_0x2bc33c(0x19a)](_0x2bc33c(0x1a9)),_0x22a4f0=document[_0x2bc33c(0x19a)](_0x2bc33c(0x18d)),_0xf7c4ab=_0x22a4f0[_0x2bc33c(0x111)](_0x2bc33c(0x16f)),_0x294e87=_0x22a4f0[_0x2bc33c(0x111)](_0x2bc33c(0x1e3)),_0x37f302=document[_0x2bc33c(0x19a)](_0x2bc33c(0x182));if(_0x1d4de8[_0x2bc33c(0x1e4)]===_0x2bc33c(0x1d4))_0x43b868[_0x2bc33c(0x108)]=_0x2bc33c(0x1a4),_0x43b868['style'][_0x2bc33c(0x1e8)]=_0x2bc33c(0x196),_0x22a4f0[_0x2bc33c(0x17c)][_0x2bc33c(0x10c)]='none';else{_0x43b868[_0x2bc33c(0x108)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x43b868[_0x2bc33c(0x17c)]['color']=_0x2bc33c(0x11a),_0x22a4f0[_0x2bc33c(0x17c)][_0x2bc33c(0x10c)]=_0x2bc33c(0x1ab);const _0x4a70b6=new Date(_0x1d4de8[_0x2bc33c(0x18c)]+'T'+_0x1d4de8[_0x2bc33c(0x202)]),_0x127ad2=new Date(),_0xe6f6c=(_0x4a70b6-_0x127ad2)/(0x3e8*0x3c*0x3c),_0x28e7b1=coachProfiles[_0x1d4de8[_0x2bc33c(0x165)]]&&coachProfiles[_0x1d4de8['coachId']][_0x2bc33c(0x14f)]?parseInt(coachProfiles[_0x1d4de8[_0x2bc33c(0x165)]][_0x2bc33c(0x14f)]):0x18;if(_0x28e7b1===0x0||_0xe6f6c>=_0x28e7b1)_0xf7c4ab['style'][_0x2bc33c(0x10c)]='block',_0x294e87[_0x2bc33c(0x17c)][_0x2bc33c(0x10c)]=_0x2bc33c(0x1ab),_0x37f302['style']['display']=_0x2bc33c(0x1bf);else{_0xf7c4ab[_0x2bc33c(0x17c)]['display']=_0x2bc33c(0x1bf),_0x294e87[_0x2bc33c(0x17c)][_0x2bc33c(0x10c)]=_0x2bc33c(0x1bf),_0x37f302[_0x2bc33c(0x17c)][_0x2bc33c(0x10c)]=_0x2bc33c(0x1ab);let _0x44145e=_0x28e7b1===0x0?_0x2bc33c(0x11c):_0x2bc33c(0x159)+_0x28e7b1+_0x2bc33c(0x15b);_0x37f302['textContent']=_0x2bc33c(0x161)+_0x44145e+_0x2bc33c(0x1e5);}}document[_0x2bc33c(0x19a)]('overlay')[_0x2bc33c(0x1d3)]['add'](_0x2bc33c(0x1cf)),document[_0x2bc33c(0x19a)](_0x2bc33c(0x122))[_0x2bc33c(0x1d3)][_0x2bc33c(0x1a0)](_0x2bc33c(0x195));}function a3_0x2269(){const _0x39a313=['var(--acc-green)','auto','settings','#0a84ff','getElementById','offsetLeft','data','<div\x20class=\x22dch-day\x22>','cid','error','add','uc_client_sessions','now','getMinutes','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.period-switch\x20.p-btn','159699lPFrpq','.day-col-header','left','detStatus','findIndex','block','backgroundColor','customConfirm','headerMonth','8bZOrrR','detDate','65jwfkbm','firstChild','client_load','49ZcYCgN','data-date','month','initDataUnsafe','all','</div>','week','POST','803264VAzarp','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','none','Error\x20setting\x20back\x20button:','offClick','.sheet','onClick','href','5924009TrXaRP','anDonutCircle','min','setAttribute','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','daysHeaderTrack','client_cancel','scrollTop','stopPropagation','anCustomDates','active','timeLineBadge','36VvDioY','coach_profiles','classList','completed','blocked-slot\x20stripe-bg','height','day-off-overlay\x20stripe-bg','show','toast','\x20–≤\x20','detTime','syncLoad','ru-RU','disableVerticalSwipes','BackButton','v9.5-CLIENT-ANALYTICS','rsDatesTrack','note','.btn-reschedule','status','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','3sxtjTd','backgroundPosition','color','padStart','mini','ccYesBtn','#050505','zIndex','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','round','seriesId','toString','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','setItem','appendChild','rgba(10,\x20132,\x20255,\x20','test','ranges','top','stringify','end','applyData','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','start','uc_client_list','Critical\x20TMA\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','textContent','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','%\x20-\x204px)','display','DOMContentLoaded','day-col-header\x20','%\x20+\x202px)','calendar','querySelector','flex','isArray','166356nwxrsZ','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','rsSlotsGrid','toUpperCase','var(--acc-blue)','total','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','timeColumn','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','anEnd','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','onclick','detailsSheet','gridColumns','length','setDate','numeric','anStart','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','day-column\x20','T23:59:59','value','getMonth','matrixViewport','scrollTo','button','push','getItem','getAttribute','time-label','toLocaleDateString','colIndex','createDocumentFragment','pattern','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','log','\x20–∏–∑\x20','.day-col-header[data-date=\x22','max','getTime','getHours','WebApp','remove','Telegram','rs-time-btn','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','globalTimeLine','getFullYear','anTotalStats','saveLocally','charAt','analyticsList','done','setHeaderColor','parse','–û—Ç–º–µ–Ω–µ–Ω–æ','1002876yLRMMT','cancel_window','div','rescheduleSheet','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','addEventListener','Unknown','<div\x20class=\x22rs-day-name\x22>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','long','initData','–∑–∞\x20','keys','\x20—á.','setHours','split','600','startsWith','9EylLqf','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','calc(','2867320YBKrAh','createElement','coachId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','join','.rs-date-chip','scrollWidth','uc_client_settings','forEach','Error\x20setting\x20color:','then','data-day-idx','.btn-cancel','getDay','setMonth','today','(((.+)+)+)+$','</div><div\x20class=\x22dch-num\x22>','innerHTML','overlay',':00</span>','location','filter','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','custom','style','</div><div\x20class=\x22rs-day-num\x22>','anPercent','</span>\x20/\x20','slice','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','cancelHint','blocked-range-part\x20stripe-bg','json','setBackgroundColor','8196386BIXVPG','offsetWidth','querySelectorAll','substr','client-stat-card','className','dateStr','cancelContainer','scrollLeft','exceptions','rs-date-chip','clientId','cancelled','analyticsSheet','expand','open'];a3_0x2269=function(){return _0x39a313;};return a3_0x2269();}function closeAllSheets(){const _0x235d12=a3_0x54fc67;document[_0x235d12(0x19a)](_0x235d12(0x176))['classList']['remove'](_0x235d12(0x1cf)),document[_0x235d12(0x188)](_0x235d12(0x1c2))['forEach'](_0x414854=>_0x414854[_0x235d12(0x1d3)][_0x235d12(0x140)](_0x235d12(0x195)));}function openSheet(_0x177cd4){const _0x372906=a3_0x54fc67;document[_0x372906(0x19a)](_0x372906(0x176))[_0x372906(0x1d3)][_0x372906(0x1a0)]('active'),document[_0x372906(0x19a)](_0x177cd4)[_0x372906(0x1d3)][_0x372906(0x1a0)](_0x372906(0x195));}function getLocalDateStr(_0x4bec48){const _0x3dbdd7=a3_0x54fc67,_0x13f8b2=_0x4bec48[_0x3dbdd7(0x145)](),_0x4b7786=String(_0x4bec48['getMonth']()+0x1)[_0x3dbdd7(0x1e9)](0x2,'0'),_0x4aca04=String(_0x4bec48['getDate']())[_0x3dbdd7(0x1e9)](0x2,'0');return _0x13f8b2+'-'+_0x4b7786+'-'+_0x4aca04;}function getStartOfWeek(_0x3d6cef){const _0x4a7877=a3_0x54fc67,_0x3359a5=new Date(_0x3d6cef),_0x5e0326=_0x3359a5[_0x4a7877(0x170)](),_0x37ea1d=_0x3359a5[_0x4a7877(0x1ff)]()-_0x5e0326+(_0x5e0326===0x0?-0x6:0x1);return _0x3359a5[_0x4a7877(0x125)](_0x37ea1d),_0x3359a5[_0x4a7877(0x15c)](0x0,0x0,0x0,0x0),_0x3359a5;}function scrollToToday(){const _0x1b186b=getLocalDateStr(new Date());setTimeout(()=>{const _0x201aba=a3_0x2f52,_0x2e182e=document['querySelector'](_0x201aba(0x13b)+_0x1b186b+'\x22]');if(_0x2e182e){const _0x26d221=document[_0x201aba(0x19a)](_0x201aba(0x12d)),_0x2f3777=_0x2e182e[_0x201aba(0x19b)]-_0x26d221['clientWidth']/0x2+_0x2e182e[_0x201aba(0x187)]/0x2;_0x26d221[_0x201aba(0x12e)]({'left':_0x2f3777,'behavior':_0x201aba(0x197)}),_0x26d221[_0x201aba(0x1cc)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x2f52(_0x7106c2,_0xa9b29b){_0x7106c2=_0x7106c2-0x104;const _0x5812eb=a3_0x2269();let _0x622545=_0x5812eb[_0x7106c2];return _0x622545;}function updateClock(){const _0x36d064=a3_0x54fc67,_0x11fb4e=new Date(),_0x3d4546=document['getElementById'](_0x36d064(0x144)),_0x2a705b=document['getElementById'](_0x36d064(0x1d0)),_0x110557=(_0x11fb4e[_0x36d064(0x13e)]()*0x3c+_0x11fb4e[_0x36d064(0x1a3)]())/0x3c*GRID_H;_0x3d4546[_0x36d064(0x17c)][_0x36d064(0x1fa)]=_0x110557+'px',_0x3d4546[_0x36d064(0x17c)]['display']='block',_0x2a705b[_0x36d064(0x17c)]['top']=_0x110557+'px',_0x2a705b[_0x36d064(0x17c)][_0x36d064(0x10c)]=_0x36d064(0x1ab),_0x2a705b[_0x36d064(0x108)]=String(_0x11fb4e['getHours']())[_0x36d064(0x1e9)](0x2,'0')+':'+String(_0x11fb4e[_0x36d064(0x1a3)]())[_0x36d064(0x1e9)](0x2,'0');}function onScroll(){const _0x1dbdeb=a3_0x54fc67,_0x38ab64=document[_0x1dbdeb(0x19a)](_0x1dbdeb(0x12d)),_0x1b2300=document['querySelectorAll'](_0x1dbdeb(0x1a7));for(let _0x357188 of _0x1b2300)if(_0x357188[_0x1dbdeb(0x19b)]>=_0x38ab64[_0x1dbdeb(0x18e)]){const _0x17212b=new Date(_0x357188[_0x1dbdeb(0x132)](_0x1dbdeb(0x1b5)));document[_0x1dbdeb(0x19a)](_0x1dbdeb(0x1ae))[_0x1dbdeb(0x108)]=_0x17212b['toLocaleString']('ru',{'month':_0x1dbdeb(0x157)})[_0x1dbdeb(0x119)]()+'\x20'+_0x17212b[_0x1dbdeb(0x145)]();break;}}function showToast(_0x2d31bb){const _0x1904d5=a3_0x54fc67,_0x212ae0=document[_0x1904d5(0x19a)](_0x1904d5(0x1d9));_0x212ae0[_0x1904d5(0x108)]=_0x2d31bb,_0x212ae0['classList'][_0x1904d5(0x1a0)](_0x1904d5(0x1d8)),setTimeout(()=>_0x212ae0['classList'][_0x1904d5(0x140)](_0x1904d5(0x1d8)),0x7d0);}function handleInfiniteScroll(){const _0x470d58=a3_0x54fc67,_0x361ae6=document[_0x470d58(0x19a)]('matrixViewport'),_0x3782bb=_0x361ae6['scrollLeft'],_0x5d3f27=_0x361ae6[_0x470d58(0x169)],_0x4182ac=_0x361ae6['clientWidth'];if(_0x5d3f27-(_0x3782bb+_0x4182ac)<0x12c){const _0xb56577=endOffset;endOffset+=0xe,renderDayRange(_0xb56577+0x1,endOffset),reRenderBlocks();}if(_0x3782bb<0x12c){const _0x343465=startOffset;startOffset-=0xe,prependDays(startOffset,_0x343465-0x1),_0x361ae6[_0x470d58(0x18e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1d8961,_0x56f00b){const _0x26d8d4=a3_0x54fc67,_0x4d40e1=document[_0x26d8d4(0x19a)](_0x26d8d4(0x1ca)),_0x392bd2=document[_0x26d8d4(0x19a)](_0x26d8d4(0x123)),_0x4dc6c4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c8611=new Date();_0x1c8611[_0x26d8d4(0x15c)](0x0,0x0,0x0,0x0);const _0x1c4b06=getLocalDateStr(new Date()),_0x561d2b=document[_0x26d8d4(0x136)](),_0x5090a0=document['createDocumentFragment']();for(let _0xeae99b=_0x1d8961;_0xeae99b<=_0x56f00b;_0xeae99b++){const _0xc6c30c=new Date(_0x1c8611);_0xc6c30c[_0x26d8d4(0x125)](_0xc6c30c[_0x26d8d4(0x1ff)]()+_0xeae99b);const _0x34a3ca=getLocalDateStr(_0xc6c30c);let _0xebd58=_0xc6c30c[_0x26d8d4(0x170)]()-0x1;if(_0xebd58===-0x1)_0xebd58=0x6;const _0x1eba10=_0x34a3ca===_0x1c4b06,_0x4f871b=document[_0x26d8d4(0x164)](_0x26d8d4(0x150));_0x4f871b[_0x26d8d4(0x18b)]=_0x26d8d4(0x10e)+(_0x1eba10?'today':''),_0x4f871b[_0x26d8d4(0x1c8)]('data-date',_0x34a3ca),_0x4f871b[_0x26d8d4(0x175)]=_0x26d8d4(0x19d)+_0x4dc6c4[_0xebd58]+_0x26d8d4(0x174)+_0xc6c30c[_0x26d8d4(0x1ff)]()+_0x26d8d4(0x1b9),_0x561d2b[_0x26d8d4(0x1f6)](_0x4f871b);const _0x57e71f=document['createElement'](_0x26d8d4(0x150));_0x57e71f[_0x26d8d4(0x18b)]=_0x26d8d4(0x129)+(_0x1eba10?_0x26d8d4(0x172):''),_0x57e71f[_0x26d8d4(0x1c8)]('data-date',_0x34a3ca),_0x57e71f[_0x26d8d4(0x1c8)]('data-day-idx',_0xebd58),_0x5090a0[_0x26d8d4(0x1f6)](_0x57e71f);}_0x4d40e1['insertBefore'](_0x561d2b,_0x4d40e1['firstChild']),_0x392bd2['insertBefore'](_0x5090a0,_0x392bd2[_0x26d8d4(0x111)]('.day-column'));}function hexToRgba(_0x3cccc5,_0x318395){const _0xd930f6=a3_0x54fc67;let _0x14781c;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0xd930f6(0x1f8)](_0x3cccc5))return _0x14781c=_0x3cccc5['substring'](0x1)[_0xd930f6(0x15d)](''),_0x14781c['length']==0x3&&(_0x14781c=[_0x14781c[0x0],_0x14781c[0x0],_0x14781c[0x1],_0x14781c[0x1],_0x14781c[0x2],_0x14781c[0x2]]),_0x14781c='0x'+_0x14781c[_0xd930f6(0x167)](''),'rgba('+[_0x14781c>>0x10&0xff,_0x14781c>>0x8&0xff,_0x14781c&0xff][_0xd930f6(0x167)](',')+','+_0x318395+')';return _0xd930f6(0x1f7)+_0x318395+')';}let confirmResolver=null;function showCustomConfirm(_0x30a249,_0x50eecc,_0x59608f=!![]){const _0x203870=a3_0x54fc67;document[_0x203870(0x19a)]('ccTitle')[_0x203870(0x108)]=_0x30a249,document[_0x203870(0x19a)]('ccText')[_0x203870(0x108)]=_0x50eecc;const _0x51a9b4=document['getElementById'](_0x203870(0x1eb));return _0x59608f?(_0x51a9b4[_0x203870(0x17c)][_0x203870(0x1e8)]='#ff453a',_0x51a9b4[_0x203870(0x17c)]['fontWeight']='600'):(_0x51a9b4['style'][_0x203870(0x1e8)]=_0x203870(0x199),_0x51a9b4[_0x203870(0x17c)]['fontWeight']=_0x203870(0x15e)),new Promise(_0x48896c=>{const _0x209a3b=_0x203870;confirmResolver=_0x48896c,document['getElementById']('customConfirm')[_0x209a3b(0x1d3)]['add'](_0x209a3b(0x1f0));});}function resolveCustomConfirm(_0x1ff785){const _0x14a71a=a3_0x54fc67;document[_0x14a71a(0x19a)](_0x14a71a(0x1ad))[_0x14a71a(0x1d3)][_0x14a71a(0x140)](_0x14a71a(0x1f0));if(confirmResolver)confirmResolver(_0x1ff785);}async function tryCancelCurrentSession(){const _0xb46252=a3_0x54fc67;if(!currentSession)return;const _0x2a5f87=await showCustomConfirm(_0xb46252(0x117),_0xb46252(0x1f4),!![]);if(!_0x2a5f87)return;const _0x174f62=currentSession;closeAllSheets(),sessions=sessions[_0xb46252(0x179)](_0x3707ef=>_0x3707ef['id']!==_0x174f62['id']),reRenderBlocks(),showToast(_0xb46252(0x14d)),lastUserActionTime=Date['now']();try{const _0x142a5c=window[_0xb46252(0x141)]?.[_0xb46252(0x13f)],_0x490a14=await fetch(API_URL,{'method':'POST','body':JSON[_0xb46252(0x1fb)]({'action':_0xb46252(0x1cb),'init_data':_0x142a5c?.[_0xb46252(0x158)]||'','coachId':_0x174f62[_0xb46252(0x165)],'dateStr':_0x174f62['dateStr'],'sessionId':_0x174f62['id']})});if(_0x490a14['ok'])DataManager[_0xb46252(0x147)]();}catch(_0x15d9e9){showToast(_0xb46252(0x105));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xc3effc=a3_0x54fc67;if(!currentSession)return;document[_0xc3effc(0x19a)](_0xc3effc(0x122))['classList'][_0xc3effc(0x140)](_0xc3effc(0x195)),document[_0xc3effc(0x19a)](_0xc3effc(0x151))['classList'][_0xc3effc(0x1a0)]('open');const _0x3952d0=document['getElementById']('rsDatesTrack'),_0x2200bc=document[_0xc3effc(0x19a)](_0xc3effc(0x118));_0x3952d0[_0xc3effc(0x175)]='',_0x2200bc[_0xc3effc(0x175)]=_0xc3effc(0x181);const [_0x4b067c,_0x35ade9]=currentSession[_0xc3effc(0x202)][_0xc3effc(0x15d)](':')['map'](Number),[_0x3cfd0a,_0x4cf308]=currentSession[_0xc3effc(0x1fc)][_0xc3effc(0x15d)](':')['map'](Number),_0x55cdf6=_0x3cfd0a*0x3c+_0x4cf308-(_0x4b067c*0x3c+_0x35ade9);try{const _0x1efe2b=window['Telegram']?.[_0xc3effc(0x13f)],_0x5b6b15=await fetch(API_URL,{'method':_0xc3effc(0x1bb),'body':JSON[_0xc3effc(0x1fb)]({'action':'get_slots','coachId':currentSession[_0xc3effc(0x165)],'duration':_0x55cdf6,'init_data':_0x1efe2b?.[_0xc3effc(0x158)]||'','excludeSessionId':currentSession['id']})}),_0x11bb00=await _0x5b6b15[_0xc3effc(0x184)]();_0x11bb00['ok']&&_0x11bb00['data']?(availableSlotsCache=_0x11bb00[_0xc3effc(0x19c)],renderRescheduleDates()):_0x2200bc[_0xc3effc(0x175)]=_0xc3effc(0x143);}catch(_0x1e2afb){_0x2200bc[_0xc3effc(0x175)]=_0xc3effc(0x11e);}}function renderRescheduleDates(){const _0x3ea4c2=a3_0x54fc67,_0x1d7f52=document[_0x3ea4c2(0x19a)](_0x3ea4c2(0x1e1));_0x1d7f52[_0x3ea4c2(0x175)]='';const _0x40d0c7=Object[_0x3ea4c2(0x15a)](availableSlotsCache)[_0x3ea4c2(0x1ee)](),_0x5c5310=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x40d0c7[_0x3ea4c2(0x124)]===0x0){document[_0x3ea4c2(0x19a)](_0x3ea4c2(0x118))['innerHTML']=_0x3ea4c2(0x138);return;}_0x40d0c7[_0x3ea4c2(0x16b)]((_0x30c5cb,_0x886e4a)=>{const _0x4e6d3d=_0x3ea4c2,_0x47e6ec=new Date(_0x30c5cb),_0x5e9bb7=_0x5c5310[_0x47e6ec[_0x4e6d3d(0x170)]()],_0x110ab3=_0x47e6ec[_0x4e6d3d(0x1ff)](),_0x4708e9=document['createElement'](_0x4e6d3d(0x150));_0x4708e9['className']=_0x4e6d3d(0x190);if(_0x886e4a===0x0)_0x4708e9[_0x4e6d3d(0x1d3)][_0x4e6d3d(0x1a0)](_0x4e6d3d(0x1cf));_0x4708e9[_0x4e6d3d(0x175)]=_0x4e6d3d(0x155)+_0x5e9bb7+_0x4e6d3d(0x17d)+_0x110ab3+'</div>',_0x4708e9[_0x4e6d3d(0x121)]=()=>selectRsDate(_0x30c5cb,_0x4708e9),_0x1d7f52[_0x4e6d3d(0x1f6)](_0x4708e9);}),selectRsDate(_0x40d0c7[0x0],_0x1d7f52[_0x3ea4c2(0x1b2)]);}function selectRsDate(_0x5d4fc5,_0x268017){const _0x347176=a3_0x54fc67;selectedRsDate=_0x5d4fc5,document[_0x347176(0x188)](_0x347176(0x168))[_0x347176(0x16b)](_0x2e4405=>_0x2e4405[_0x347176(0x1d3)][_0x347176(0x140)](_0x347176(0x1cf)));if(_0x268017)_0x268017[_0x347176(0x1d3)][_0x347176(0x1a0)](_0x347176(0x1cf));const _0x549d6e=document['getElementById'](_0x347176(0x118));_0x549d6e['innerHTML']='';const _0xdd2f82=availableSlotsCache[_0x5d4fc5]||[];if(_0xdd2f82[_0x347176(0x124)]===0x0){_0x549d6e[_0x347176(0x175)]=_0x347176(0x143);return;}_0xdd2f82[_0x347176(0x16b)](_0xedde91=>{const _0x1193a5=_0x347176,_0xd61f64=document[_0x1193a5(0x164)](_0x1193a5(0x12f));_0xd61f64[_0x1193a5(0x18b)]=_0x1193a5(0x142),_0xd61f64[_0x1193a5(0x108)]=_0xedde91,_0xd61f64['onclick']=()=>confirmReschedule(_0xedde91),_0x549d6e['appendChild'](_0xd61f64);});}async function confirmReschedule(_0x1e3530){const _0xe134b7=a3_0x54fc67,_0x8d449d=new Date(selectedRsDate),_0x182ffd=_0x8d449d[_0xe134b7(0x134)](_0xe134b7(0x1dd),{'day':_0xe134b7(0x126),'month':'long'}),_0x411432=await showCustomConfirm(_0xe134b7(0x109),_0xe134b7(0x128)+_0x182ffd+_0xe134b7(0x1da)+_0x1e3530+'?',![]);if(!_0x411432)return;closeAllSheets(),showToast(_0xe134b7(0x10a)),lastUserActionTime=Date['now']();const _0x6e5f4c=currentSession[_0xe134b7(0x18c)],_0x38e33d=currentSession['id'],[_0x9dd7ba,_0x137437]=currentSession[_0xe134b7(0x202)][_0xe134b7(0x15d)](':')[_0xe134b7(0x115)](Number),[_0x407b17,_0x1d2d47]=currentSession[_0xe134b7(0x1fc)]['split'](':')[_0xe134b7(0x115)](Number),_0x12bdad=_0x407b17*0x3c+_0x1d2d47-(_0x9dd7ba*0x3c+_0x137437),[_0x4fc721,_0x22c16d]=_0x1e3530[_0xe134b7(0x15d)](':')[_0xe134b7(0x115)](Number),_0x2795af=_0x4fc721*0x3c+_0x22c16d+_0x12bdad,_0x99ccb2=Math['floor'](_0x2795af/0x3c),_0x307682=_0x2795af%0x3c,_0x19e9e9=String(_0x99ccb2)['padStart'](0x2,'0')+':'+String(_0x307682)[_0xe134b7(0x1e9)](0x2,'0'),_0x1f6e51=sessions[_0xe134b7(0x1aa)](_0x30de14=>_0x30de14['id']===_0x38e33d);_0x1f6e51!==-0x1&&(sessions[_0x1f6e51][_0xe134b7(0x18c)]=selectedRsDate,sessions[_0x1f6e51][_0xe134b7(0x202)]=_0x1e3530,sessions[_0x1f6e51][_0xe134b7(0x1fc)]=_0x19e9e9,reRenderBlocks());try{const _0x49a75d=window['Telegram']?.[_0xe134b7(0x13f)],_0x40b1c6=await fetch(API_URL,{'method':_0xe134b7(0x1bb),'body':JSON[_0xe134b7(0x1fb)]({'action':'reschedule','init_data':_0x49a75d?.[_0xe134b7(0x158)]||'','oldSessionId':_0x38e33d,'oldDate':_0x6e5f4c,'newDate':selectedRsDate,'newTime':_0x1e3530,'coachId':currentSession[_0xe134b7(0x165)]})}),_0xddf029=await _0x40b1c6[_0xe134b7(0x184)]();!_0xddf029['ok']?(showToast(_0xe134b7(0x152)),DataManager[_0xe134b7(0x1dc)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0xe134b7(0x147)]());}catch(_0x2c2923){showToast(_0xe134b7(0x105));}}document[a3_0x54fc67(0x153)](a3_0x54fc67(0x10d),init);