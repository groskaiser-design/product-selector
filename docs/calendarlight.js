const a3_0x5800ca=a3_0x3e29;(function(_0x52e684,_0x322b96){const _0x1d81ef=a3_0x3e29,_0x2b838b=_0x52e684();while(!![]){try{const _0x42cfd3=-parseInt(_0x1d81ef(0x231))/0x1+parseInt(_0x1d81ef(0x1ca))/0x2*(parseInt(_0x1d81ef(0x175))/0x3)+parseInt(_0x1d81ef(0x1de))/0x4+parseInt(_0x1d81ef(0x1f6))/0x5+-parseInt(_0x1d81ef(0x234))/0x6+parseInt(_0x1d81ef(0x1a3))/0x7*(parseInt(_0x1d81ef(0x185))/0x8)+parseInt(_0x1d81ef(0x1b5))/0x9*(-parseInt(_0x1d81ef(0x220))/0xa);if(_0x42cfd3===_0x322b96)break;else _0x2b838b['push'](_0x2b838b['shift']());}catch(_0x400192){_0x2b838b['push'](_0x2b838b['shift']());}}}(a3_0xdec1,0x7bcb6));const APP_VERSION=a3_0x5800ca(0x1d2),API_URL=a3_0x5800ca(0x1a8),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x5800ca(0x204),KEY_CLIENTS=a3_0x5800ca(0x1d6);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4a22f2=a3_0x5800ca,_0x234867=(function(){let _0x4af060=!![];return function(_0x1a8cec,_0x2917b9){const _0x54bd07=_0x4af060?function(){const _0x36b5b9=a3_0x3e29;if(_0x2917b9){const _0x28a49e=_0x2917b9[_0x36b5b9(0x233)](_0x1a8cec,arguments);return _0x2917b9=null,_0x28a49e;}}:function(){};return _0x4af060=![],_0x54bd07;};}()),_0xa63685=_0x234867(this,function(){const _0x43a75c=a3_0x3e29;return _0xa63685[_0x43a75c(0x18e)]()[_0x43a75c(0x22a)](_0x43a75c(0x14b))[_0x43a75c(0x18e)]()[_0x43a75c(0x155)](_0xa63685)['search'](_0x43a75c(0x14b));});_0xa63685();try{const _0xf75faf=window[_0x4a22f2(0x216)]?.[_0x4a22f2(0x191)];if(!_0xf75faf)return;_0xf75faf[_0x4a22f2(0x1e5)](),_0xf75faf[_0x4a22f2(0x1b2)]();try{_0xf75faf['setHeaderColor'](_0x4a22f2(0x1ed)),_0xf75faf[_0x4a22f2(0x1ce)]&&_0xf75faf[_0x4a22f2(0x1ce)]('#050505');}catch(_0x12ecc8){console[_0x4a22f2(0x19a)](_0x4a22f2(0x1b0),_0x12ecc8);}try{_0xf75faf[_0x4a22f2(0x1f1)]&&(_0xf75faf[_0x4a22f2(0x1f1)][_0x4a22f2(0x17c)](),_0xf75faf[_0x4a22f2(0x1f1)][_0x4a22f2(0x1c0)](),_0xf75faf[_0x4a22f2(0x1f1)][_0x4a22f2(0x1da)](function(){const _0x24ac4b=_0x4a22f2;window[_0x24ac4b(0x20d)][_0x24ac4b(0x15e)]=_0x24ac4b(0x193);}));}catch(_0x815c93){console[_0x4a22f2(0x19a)](_0x4a22f2(0x180),_0x815c93);}try{if(_0xf75faf[_0x4a22f2(0x1a1)])_0xf75faf['disableVerticalSwipes']();}catch(_0x198d1a){}}catch(_0x1f3066){console[_0x4a22f2(0x210)](_0x4a22f2(0x22f),_0x1f3066);}}());function isAdmin(){const _0x1f9ab0=a3_0x5800ca;try{const _0x390a14=Number(window['Telegram']?.[_0x1f9ab0(0x191)]?.['initDataUnsafe']?.[_0x1f9ab0(0x1b8)]?.['id']);return _0x390a14===0xbaf7174;}catch(_0x3a8c5d){return![];}}const DataManager={'saveLocally'(){const _0x367876=a3_0x5800ca;try{localStorage[_0x367876(0x209)](KEY_SESSIONS,JSON[_0x367876(0x19f)](sessions)),localStorage[_0x367876(0x209)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x367876(0x209)](KEY_SETTINGS,JSON[_0x367876(0x19f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x261ec4){}},'loadLocal'(){const _0x296bba=a3_0x5800ca;try{const _0x58bad4=localStorage[_0x296bba(0x1d7)](KEY_SESSIONS);if(_0x58bad4)sessions=JSON[_0x296bba(0x1fa)](_0x58bad4);const _0x2a0a0d=localStorage[_0x296bba(0x1d7)](KEY_CLIENTS);if(_0x2a0a0d)clients=JSON['parse'](_0x2a0a0d);const _0x19f822=localStorage[_0x296bba(0x1d7)](KEY_SETTINGS);if(_0x19f822){const _0xd08f2d=JSON[_0x296bba(0x1fa)](_0x19f822);if(_0xd08f2d[_0x296bba(0x174)])availabilityPattern=_0xd08f2d['pattern'];if(_0xd08f2d['ranges'])specialRanges=_0xd08f2d[_0x296bba(0x1d4)];if(_0xd08f2d[_0x296bba(0x163)])dateExceptions=_0xd08f2d[_0x296bba(0x163)];}}catch(_0x50398d){}},async 'syncLoad'(){const _0x32c1b8=a3_0x5800ca,_0x4c36c8=new Date(),_0xf5d76b=_0x4c36c8['getFullYear']()+'-'+String(_0x4c36c8[_0x32c1b8(0x15c)]()+0x1)[_0x32c1b8(0x1a4)](0x2,'0'),_0x4d9259=new Date(_0x4c36c8);_0x4d9259[_0x32c1b8(0x213)](_0x4c36c8[_0x32c1b8(0x15c)]()+0x1);const _0x30e897=_0x4d9259['getFullYear']()+'-'+String(_0x4d9259[_0x32c1b8(0x15c)]()+0x1)['padStart'](0x2,'0'),_0x33c8db=Date[_0x32c1b8(0x1f7)]();try{const _0x527280=window[_0x32c1b8(0x216)]?.['WebApp'],_0x459851=_0x527280?.[_0x32c1b8(0x159)]||'',[_0x1d0a37,_0x5251e4]=await Promise[_0x32c1b8(0x232)]([fetch(API_URL,{'method':'POST','body':JSON[_0x32c1b8(0x19f)]({'action':'client_load','init_data':_0x459851,'month_str':_0xf5d76b})})[_0x32c1b8(0x157)](_0x3455bc=>_0x3455bc[_0x32c1b8(0x1f8)]()),fetch(API_URL,{'method':_0x32c1b8(0x1fc),'body':JSON[_0x32c1b8(0x19f)]({'action':_0x32c1b8(0x16e),'init_data':_0x459851,'month_str':_0x30e897})})[_0x32c1b8(0x157)](_0x916847=>_0x916847[_0x32c1b8(0x1f8)]())]);if(lastUserActionTime>_0x33c8db){console['log'](_0x32c1b8(0x23a));return;}if(_0x1d0a37['ok'])this[_0x32c1b8(0x1c2)](_0x1d0a37[_0x32c1b8(0x1ba)],_0xf5d76b);if(_0x5251e4['ok'])this['applyData'](_0x5251e4[_0x32c1b8(0x1ba)],_0x30e897);this[_0x32c1b8(0x1b7)]();}catch(_0x31200c){}},'applyData'(_0x16b919,_0x220dcd){const _0x54b384=a3_0x5800ca;if(!_0x16b919)return;if(_0x16b919['settings']){if(_0x16b919[_0x54b384(0x171)][_0x54b384(0x174)])availabilityPattern=_0x16b919[_0x54b384(0x171)][_0x54b384(0x174)];if(_0x16b919[_0x54b384(0x171)][_0x54b384(0x1d4)])specialRanges=_0x16b919[_0x54b384(0x171)][_0x54b384(0x1d4)];if(_0x16b919['settings'][_0x54b384(0x163)])dateExceptions=_0x16b919[_0x54b384(0x171)]['exceptions'];}if(_0x16b919[_0x54b384(0x15d)]&&Array['isArray'](_0x16b919[_0x54b384(0x15d)]))clients=_0x16b919[_0x54b384(0x15d)];_0x16b919[_0x54b384(0x1ab)]&&(coachProfiles={...coachProfiles,..._0x16b919[_0x54b384(0x1ab)]}),_0x16b919['calendar']&&(sessions=sessions[_0x54b384(0x230)](_0x33ba6a=>!_0x33ba6a[_0x54b384(0x21c)][_0x54b384(0x18d)](_0x220dcd)),Object[_0x54b384(0x1b3)](_0x16b919[_0x54b384(0x206)])['forEach'](_0x200dd8=>{const _0x3c0bcf=_0x54b384,_0x39673e=_0x16b919[_0x3c0bcf(0x206)][_0x200dd8];_0x39673e['forEach'](_0x1f2560=>{const _0x48b4d5=_0x3c0bcf;sessions[_0x48b4d5(0x169)]({'id':_0x1f2560['i'],'clientId':_0x1f2560['c'],'coachId':_0x1f2560[_0x48b4d5(0x205)],'dateStr':_0x220dcd+'-'+_0x200dd8[_0x48b4d5(0x1a4)](0x2,'0'),'start':_0x1f2560['s'],'end':_0x1f2560['e'],'note':_0x1f2560['n']||'','status':_0x1f2560['st']||_0x48b4d5(0x173),'seriesId':_0x1f2560[_0x48b4d5(0x1cb)]});});})),reRenderBlocks();}};function init(){const _0x461baf=a3_0x5800ca;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x461baf(0x235)](_0x461baf(0x1c7),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x461baf(0x1ff)]();}function renderTimeColumn(){const _0x35bc88=a3_0x5800ca,_0x5288ed=document['getElementById'](_0x35bc88(0x1d1)),_0x56993a=document[_0x35bc88(0x1e6)]('timeLineBadge');_0x5288ed[_0x35bc88(0x201)]='',_0x5288ed[_0x35bc88(0x17a)](_0x56993a);for(let _0x221626=0x0;_0x221626<0x18;_0x221626++){const _0x23094b=document[_0x35bc88(0x211)](_0x35bc88(0x154));_0x23094b[_0x35bc88(0x14c)]='time-label';if(_0x221626>0x0)_0x23094b[_0x35bc88(0x201)]=_0x35bc88(0x1be)+String(_0x221626)[_0x35bc88(0x1a4)](0x2,'0')+':00</span>';_0x5288ed['appendChild'](_0x23094b);}}function renderDayRange(_0xa0843b,_0x796f7f){const _0x13d01c=a3_0x5800ca,_0x54c94b=document['getElementById'](_0x13d01c(0x1af)),_0x52ff8f=document['getElementById'](_0x13d01c(0x1e7)),_0x46794e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5243d9=new Date();_0x5243d9[_0x13d01c(0x161)](0x0,0x0,0x0,0x0);const _0x44afa8=getLocalDateStr(new Date());for(let _0x5beff7=_0xa0843b;_0x5beff7<=_0x796f7f;_0x5beff7++){const _0x2cfcc3=new Date(_0x5243d9);_0x2cfcc3[_0x13d01c(0x182)](_0x2cfcc3[_0x13d01c(0x223)]()+_0x5beff7);const _0x152c15=getLocalDateStr(_0x2cfcc3);let _0x214027=_0x2cfcc3[_0x13d01c(0x19d)]()-0x1;if(_0x214027===-0x1)_0x214027=0x6;const _0x4d7671=_0x152c15===_0x44afa8,_0x15eb24=document[_0x13d01c(0x211)](_0x13d01c(0x154));_0x15eb24[_0x13d01c(0x14c)]='day-col-header\x20'+(_0x4d7671?_0x13d01c(0x236):''),_0x15eb24[_0x13d01c(0x238)](_0x13d01c(0x1c8),_0x152c15),_0x15eb24[_0x13d01c(0x201)]=_0x13d01c(0x20c)+_0x46794e[_0x214027]+'</div><div\x20class=\x22dch-num\x22>'+_0x2cfcc3['getDate']()+_0x13d01c(0x164),_0x54c94b[_0x13d01c(0x17a)](_0x15eb24);const _0x2842c2=document[_0x13d01c(0x211)](_0x13d01c(0x154));_0x2842c2[_0x13d01c(0x14c)]=_0x13d01c(0x181)+(_0x4d7671?_0x13d01c(0x236):''),_0x2842c2['setAttribute']('data-date',_0x152c15),_0x2842c2['setAttribute']('data-day-idx',_0x214027),_0x52ff8f['appendChild'](_0x2842c2);}}function reRenderBlocks(){const _0x1d3b94=a3_0x5800ca;document[_0x1d3b94(0x1cf)](_0x1d3b94(0x1f5))[_0x1d3b94(0x1e9)](_0x12e2b4=>{const _0x3709e8=_0x1d3b94;_0x12e2b4[_0x3709e8(0x1cf)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x3709e8(0x1e9)](_0x5a266e=>_0x5a266e['remove']());const _0x3f3560=_0x12e2b4[_0x3709e8(0x1c1)](_0x3709e8(0x1c8)),_0x26e403=parseInt(_0x12e2b4['getAttribute'](_0x3709e8(0x1d3))),_0x1180d4=Math['round'](_0x12e2b4[_0x3709e8(0x200)]);(availabilityPattern[_0x26e403]||[])['forEach'](_0x4182d0=>{const _0x5df724=_0x3709e8,_0x2b2e49=document['createElement'](_0x5df724(0x154));_0x2b2e49['className']=_0x5df724(0x15f),_0x2b2e49['style'][_0x5df724(0x1dd)]=_0x4182d0*GRID_H+'px',_0x2b2e49[_0x5df724(0x19b)]['backgroundPosition']='-'+_0x1180d4+_0x5df724(0x153)+_0x4182d0*GRID_H+'px',_0x12e2b4[_0x5df724(0x17a)](_0x2b2e49);});if(specialRanges[_0x3709e8(0x1e0)]>0x0){const _0x4cca94=new Date(_0x3f3560+_0x3709e8(0x165))['getTime'](),_0x554113=new Date(_0x3f3560+_0x3709e8(0x20a))[_0x3709e8(0x19c)]();specialRanges['forEach'](_0x15c462=>{const _0x153071=_0x3709e8,_0x39a5a2=new Date(_0x15c462[_0x153071(0x1db)])['getTime'](),_0x4fda57=new Date(_0x15c462[_0x153071(0x14e)])[_0x153071(0x19c)](),_0x599e1f=Math[_0x153071(0x14f)](_0x4cca94,_0x39a5a2),_0x52a82f=Math[_0x153071(0x21b)](_0x554113,_0x4fda57);if(_0x599e1f<_0x52a82f){const _0x5005b9=(_0x599e1f-_0x4cca94)/0x36ee80*GRID_H,_0x4209ff=(_0x52a82f-_0x599e1f)/0x36ee80*GRID_H,_0x354230=document[_0x153071(0x211)](_0x153071(0x154));_0x4209ff>=23.5*GRID_H?(_0x354230[_0x153071(0x14c)]=_0x153071(0x1d9),_0x354230['style'][_0x153071(0x21e)]='-'+_0x1180d4+'px\x200px'):(_0x354230['className']='blocked-range-part\x20stripe-bg',_0x354230[_0x153071(0x19b)][_0x153071(0x1dd)]=_0x5005b9+'px',_0x354230['style']['height']=_0x4209ff+'px',_0x354230[_0x153071(0x19b)]['backgroundPosition']='-'+_0x1180d4+'px\x20-'+_0x5005b9+'px'),_0x12e2b4[_0x153071(0x17a)](_0x354230);}});}renderEventsForColumn(_0x12e2b4,_0x3f3560);});}function renderEventsForColumn(_0x58a636,_0x46d382){const _0x13786c=a3_0x5800ca,_0x439395=sessions[_0x13786c(0x230)](_0x3157dc=>_0x3157dc[_0x13786c(0x21c)]===_0x46d382),_0x174246=_0x439395['map'](_0x19ceb7=>{const _0x5a5fde=_0x13786c,[_0x4ff45e,_0x205fbb]=_0x19ceb7['start'][_0x5a5fde(0x150)](':')[_0x5a5fde(0x18c)](Number),[_0x1bceeb,_0x605f4d]=_0x19ceb7[_0x5a5fde(0x14e)][_0x5a5fde(0x150)](':')['map'](Number);return{'data':_0x19ceb7,'start':_0x4ff45e*0x3c+_0x205fbb,'end':_0x1bceeb*0x3c+_0x605f4d,'colIndex':0x0};});_0x174246['sort']((_0x2a9842,_0x2f97b6)=>_0x2a9842[_0x13786c(0x1db)]-_0x2f97b6['start']||_0x2f97b6['end']-_0x2f97b6[_0x13786c(0x1db)]-(_0x2a9842['end']-_0x2a9842[_0x13786c(0x1db)]));const _0x30998d=[];_0x174246[_0x13786c(0x1e9)](_0x56663f=>{const _0x56f862=_0x13786c;let _0x589f04=![];for(let _0x314990=0x0;_0x314990<_0x30998d['length'];_0x314990++){const _0x134309=_0x30998d[_0x314990];if(_0x56663f['start']>=_0x134309[_0x134309[_0x56f862(0x1e0)]-0x1][_0x56f862(0x14e)]){_0x134309['push'](_0x56663f),_0x56663f[_0x56f862(0x1b1)]=_0x314990,_0x589f04=!![];break;}}!_0x589f04&&(_0x30998d[_0x56f862(0x169)]([_0x56663f]),_0x56663f[_0x56f862(0x1b1)]=_0x30998d[_0x56f862(0x1e0)]-0x1);}),_0x174246[_0x13786c(0x1e9)](_0x9a85e1=>{const _0x38b7ea=_0x13786c;let _0x13272c=0x0;_0x174246[_0x38b7ea(0x1e9)](_0x52fdff=>{const _0x3d6415=_0x38b7ea;if(Math[_0x3d6415(0x14f)](_0x9a85e1[_0x3d6415(0x1db)],_0x52fdff[_0x3d6415(0x1db)])<Math[_0x3d6415(0x21b)](_0x9a85e1[_0x3d6415(0x14e)],_0x52fdff[_0x3d6415(0x14e)])&&_0x52fdff['colIndex']>_0x13272c)_0x13272c=_0x52fdff[_0x3d6415(0x1b1)];});const _0x2813d3=_0x13272c+0x1,_0x1704ce=0x64/_0x2813d3,_0x5dc545=_0x9a85e1[_0x38b7ea(0x1b1)]*_0x1704ce,_0x161022=document[_0x38b7ea(0x211)](_0x38b7ea(0x154)),_0x2ebb28=_0x9a85e1[_0x38b7ea(0x1ba)];let _0x5205dd=_0x38b7ea(0x1df);if(clients&&clients['length']>0x0){const _0x119572=clients[_0x38b7ea(0x1ac)](_0x17e7a9=>String(_0x17e7a9['id'])===String(_0x2ebb28[_0x38b7ea(0x22c)]));if(_0x119572&&_0x119572[_0x38b7ea(0x1ea)])_0x5205dd=_0x119572[_0x38b7ea(0x1ea)];}const _0x1f6f29=_0x2ebb28[_0x38b7ea(0x16a)]===_0x38b7ea(0x184),_0x1e3ee7=_0x1f6f29?0x1:0.45;_0x161022[_0x38b7ea(0x14c)]=_0x38b7ea(0x1ec)+(_0x1f6f29?_0x38b7ea(0x22e):''),_0x161022[_0x38b7ea(0x19b)][_0x38b7ea(0x16d)]=hexToRgba(_0x5205dd,_0x1e3ee7),_0x161022[_0x38b7ea(0x19b)][_0x38b7ea(0x21f)]=_0x5205dd;const _0x41fa29=_0x9a85e1[_0x38b7ea(0x1db)]/0x3c*GRID_H,_0x9ffcd8=(_0x9a85e1['end']-_0x9a85e1[_0x38b7ea(0x1db)])/0x3c*GRID_H;_0x161022['style'][_0x38b7ea(0x1dd)]=_0x41fa29+'px',_0x161022[_0x38b7ea(0x19b)]['height']=Math['max'](_0x9ffcd8,0x14)+'px',_0x161022[_0x38b7ea(0x19b)]['width']='calc('+_0x1704ce+'%\x20-\x204px)',_0x161022[_0x38b7ea(0x19b)][_0x38b7ea(0x239)]=_0x38b7ea(0x22b)+_0x5dc545+_0x38b7ea(0x152),_0x161022[_0x38b7ea(0x19b)][_0x38b7ea(0x1aa)]=0xa+_0x9a85e1[_0x38b7ea(0x1b1)];if(_0x1704ce<0x55)_0x161022[_0x38b7ea(0x183)][_0x38b7ea(0x1c5)](_0x38b7ea(0x176));let _0x26f9c8='';if(_0x2ebb28[_0x38b7ea(0x217)])_0x26f9c8+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x1f6f29)_0x26f9c8+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x161022[_0x38b7ea(0x201)]=_0x38b7ea(0x187)+_0x2ebb28[_0x38b7ea(0x1db)]+_0x38b7ea(0x228)+_0x2ebb28[_0x38b7ea(0x14e)]+_0x38b7ea(0x17d)+_0x26f9c8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x161022[_0x38b7ea(0x20e)]=_0x5781bb=>{const _0x55e5c3=_0x38b7ea;_0x5781bb[_0x55e5c3(0x21d)](),openDetails(_0x2ebb28);},_0x58a636[_0x38b7ea(0x17a)](_0x161022);});}function openAnalytics(){const _0x5c683a=a3_0x5800ca,_0x258d98=document['querySelector'](_0x5c683a(0x1a2));setAnalyticsPeriod('week',_0x258d98),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x5bb442,_0x52564d){const _0x51f27c=a3_0x5800ca;currentAnPeriod=_0x5bb442,document[_0x51f27c(0x1cf)]('.period-switch\x20.p-btn')[_0x51f27c(0x1e9)](_0x25f50b=>_0x25f50b['classList']['remove']('active'));if(_0x52564d)_0x52564d[_0x51f27c(0x183)][_0x51f27c(0x1c5)](_0x51f27c(0x1f9));const _0x3783fa=document['getElementById'](_0x51f27c(0x227));_0x3783fa['style'][_0x51f27c(0x194)]=_0x5bb442==='custom'?_0x51f27c(0x168):'none';const _0x5b60d2=new Date();let _0x26ce5d=new Date(),_0x131611=new Date();if(_0x5bb442===_0x51f27c(0x1d0))_0x26ce5d=getStartOfWeek(_0x5b60d2),_0x131611=new Date(_0x26ce5d),_0x131611[_0x51f27c(0x182)](_0x131611['getDate']()+0x6);else{if(_0x5bb442===_0x51f27c(0x18a))_0x26ce5d=new Date(_0x5b60d2['getFullYear'](),_0x5b60d2[_0x51f27c(0x15c)](),0x1),_0x131611=new Date(_0x5b60d2[_0x51f27c(0x1ef)](),_0x5b60d2[_0x51f27c(0x15c)]()+0x1,0x0);else{!document[_0x51f27c(0x1e6)](_0x51f27c(0x172))[_0x51f27c(0x15a)]&&(document[_0x51f27c(0x1e6)]('anStart')[_0x51f27c(0x15a)]=getLocalDateStr(_0x5b60d2),document['getElementById'](_0x51f27c(0x179))[_0x51f27c(0x15a)]=getLocalDateStr(_0x5b60d2));refreshAnalytics();return;}}document[_0x51f27c(0x1e6)](_0x51f27c(0x172))[_0x51f27c(0x15a)]=getLocalDateStr(_0x26ce5d),document[_0x51f27c(0x1e6)](_0x51f27c(0x179))[_0x51f27c(0x15a)]=getLocalDateStr(_0x131611),refreshAnalytics();}function refreshAnalytics(){const _0x40c05d=a3_0x5800ca,_0x1d96a9=document[_0x40c05d(0x1e6)](_0x40c05d(0x172))[_0x40c05d(0x15a)],_0x242153=document[_0x40c05d(0x1e6)](_0x40c05d(0x179))[_0x40c05d(0x15a)];if(!_0x1d96a9||!_0x242153)return;const _0x1ab7f4=sessions[_0x40c05d(0x230)](_0x431254=>_0x431254[_0x40c05d(0x21c)]>=_0x1d96a9&&_0x431254[_0x40c05d(0x21c)]<=_0x242153&&_0x431254['status']!==_0x40c05d(0x16b)),_0x4aea3e=_0x1ab7f4[_0x40c05d(0x1e0)],_0x3179d8=_0x1ab7f4['filter'](_0x59aefb=>_0x59aefb[_0x40c05d(0x16a)]===_0x40c05d(0x184))[_0x40c05d(0x1e0)],_0xe76428=_0x4aea3e>0x0?Math[_0x40c05d(0x1e3)](_0x3179d8/_0x4aea3e*0x64):0x0;document[_0x40c05d(0x1e6)](_0x40c05d(0x1cd))['textContent']=_0xe76428+'%',document[_0x40c05d(0x1e6)](_0x40c05d(0x151))[_0x40c05d(0x1ad)]=_0x3179d8+'\x20–∏–∑\x20'+_0x4aea3e+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x176723=document[_0x40c05d(0x1e6)]('anDonutCircle'),_0x5c5868=0x2*Math['PI']*0x23,_0x1f011c=_0x5c5868-_0xe76428/0x64*_0x5c5868;_0x176723[_0x40c05d(0x19b)]['strokeDashoffset']=_0x1f011c;const _0x7cd06b={};_0x1ab7f4['forEach'](_0x23a09c=>{const _0x35e38d=_0x40c05d,_0x478cd9=_0x23a09c[_0x35e38d(0x1a0)]||_0x35e38d(0x1ae);if(!_0x7cd06b[_0x478cd9]){const _0x2ddc80='#'+_0x478cd9['toString']()[_0x35e38d(0x208)](0x0,0x6);_0x7cd06b[_0x478cd9]={'total':0x0,'done':0x0,'color':_0x2ddc80};}_0x7cd06b[_0x478cd9][_0x35e38d(0x1a5)]++;if(_0x23a09c['status']===_0x35e38d(0x184))_0x7cd06b[_0x478cd9]['done']++;});const _0x475d84=document[_0x40c05d(0x1e6)](_0x40c05d(0x192));_0x475d84[_0x40c05d(0x201)]='';const _0x36e419=Object['entries'](_0x7cd06b)['sort']((_0x3dae59,_0x3d5504)=>_0x3d5504[0x1][_0x40c05d(0x1a5)]-_0x3dae59[0x1]['total']);if(_0x36e419[_0x40c05d(0x1e0)]===0x0){_0x475d84[_0x40c05d(0x201)]=_0x40c05d(0x18f);return;}_0x36e419['forEach'](([_0x340ca7,_0x5afc95])=>{const _0x4e82e8=_0x40c05d,_0x51a65a=Math[_0x4e82e8(0x1e3)](_0x5afc95['done']/_0x5afc95[_0x4e82e8(0x1a5)]*0x64),_0x27a45d=document[_0x4e82e8(0x211)](_0x4e82e8(0x154));_0x27a45d['className']='client-stat-card',_0x27a45d[_0x4e82e8(0x19b)][_0x4e82e8(0x21f)]=_0x5afc95[_0x4e82e8(0x1ea)],_0x27a45d[_0x4e82e8(0x201)]=_0x4e82e8(0x203)+_0x340ca7[_0x4e82e8(0x208)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5afc95[_0x4e82e8(0x188)]+_0x4e82e8(0x1eb)+_0x5afc95[_0x4e82e8(0x1a5)]+_0x4e82e8(0x1e1)+_0x51a65a+_0x4e82e8(0x16c),_0x475d84[_0x4e82e8(0x17a)](_0x27a45d);});}function openDetails(_0x13955c){const _0x5da201=a3_0x5800ca;currentSession=_0x13955c;const _0x31a2ba=new Date(_0x13955c[_0x5da201(0x21c)]),_0x28ffeb=_0x31a2ba['toLocaleDateString'](_0x5da201(0x1d5),{'weekday':_0x5da201(0x1bc),'day':'numeric','month':'long'});document[_0x5da201(0x1e6)](_0x5da201(0x218))[_0x5da201(0x1ad)]=_0x28ffeb[_0x5da201(0x225)](0x0)['toUpperCase']()+_0x28ffeb['slice'](0x1),document['getElementById'](_0x5da201(0x1f2))['textContent']=_0x13955c[_0x5da201(0x1db)]+'\x20-\x20'+_0x13955c[_0x5da201(0x14e)],document[_0x5da201(0x1e6)](_0x5da201(0x229))[_0x5da201(0x1ad)]=_0x13955c[_0x5da201(0x1b4)]||_0x5da201(0x215);const _0x35bb06=document[_0x5da201(0x1e6)](_0x5da201(0x19e)),_0x4ce311=document[_0x5da201(0x1e6)](_0x5da201(0x221)),_0x425661=_0x4ce311[_0x5da201(0x1e8)]('.btn-cancel'),_0x2b8846=_0x4ce311[_0x5da201(0x1e8)](_0x5da201(0x1f3)),_0x3ccd33=document['getElementById'](_0x5da201(0x158));if(_0x13955c[_0x5da201(0x16a)]===_0x5da201(0x184))_0x35bb06[_0x5da201(0x1ad)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x35bb06['style'][_0x5da201(0x1ea)]=_0x5da201(0x14a),_0x4ce311['style']['display']=_0x5da201(0x1dc);else{_0x35bb06[_0x5da201(0x1ad)]=_0x5da201(0x17e),_0x35bb06[_0x5da201(0x19b)]['color']='var(--acc-blue)',_0x4ce311[_0x5da201(0x19b)][_0x5da201(0x194)]=_0x5da201(0x196);const _0xb5cf2b=new Date(_0x13955c[_0x5da201(0x21c)]+'T'+_0x13955c['start']),_0x5a579f=new Date(),_0x38b3f4=(_0xb5cf2b-_0x5a579f)/(0x3e8*0x3c*0x3c),_0x51cc86=coachProfiles[_0x13955c[_0x5da201(0x1a0)]]&&coachProfiles[_0x13955c['coachId']][_0x5da201(0x224)]?parseInt(coachProfiles[_0x13955c[_0x5da201(0x1a0)]][_0x5da201(0x224)]):0x18;if(_0x51cc86===0x0||_0x38b3f4>=_0x51cc86)_0x425661[_0x5da201(0x19b)][_0x5da201(0x194)]=_0x5da201(0x196),_0x2b8846[_0x5da201(0x19b)][_0x5da201(0x194)]='block',_0x3ccd33[_0x5da201(0x19b)]['display']='none';else{_0x425661[_0x5da201(0x19b)][_0x5da201(0x194)]=_0x5da201(0x1dc),_0x2b8846['style']['display']='none',_0x3ccd33[_0x5da201(0x19b)][_0x5da201(0x194)]=_0x5da201(0x196);let _0x325e30=_0x51cc86===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x51cc86+'\x20—á.';_0x3ccd33[_0x5da201(0x1ad)]=_0x5da201(0x226)+_0x325e30+_0x5da201(0x1d8);}}document['getElementById'](_0x5da201(0x177))[_0x5da201(0x183)][_0x5da201(0x1c5)](_0x5da201(0x1f9)),document[_0x5da201(0x1e6)]('detailsSheet')[_0x5da201(0x183)][_0x5da201(0x1c5)](_0x5da201(0x21a));}function closeAllSheets(){const _0x5ba4af=a3_0x5800ca;document[_0x5ba4af(0x1e6)]('overlay')[_0x5ba4af(0x183)][_0x5ba4af(0x1a7)](_0x5ba4af(0x1f9)),document[_0x5ba4af(0x1cf)]('.sheet')[_0x5ba4af(0x1e9)](_0x3a708c=>_0x3a708c['classList'][_0x5ba4af(0x1a7)]('open'));}function openSheet(_0x175eda){const _0x52880d=a3_0x5800ca;document[_0x52880d(0x1e6)](_0x52880d(0x177))[_0x52880d(0x183)]['add'](_0x52880d(0x1f9)),document[_0x52880d(0x1e6)](_0x175eda)[_0x52880d(0x183)][_0x52880d(0x1c5)](_0x52880d(0x21a));}function getLocalDateStr(_0x433de2){const _0x1d0175=a3_0x5800ca,_0x5c62f1=_0x433de2[_0x1d0175(0x1ef)](),_0x266cad=String(_0x433de2[_0x1d0175(0x15c)]()+0x1)[_0x1d0175(0x1a4)](0x2,'0'),_0x53890c=String(_0x433de2[_0x1d0175(0x223)]())[_0x1d0175(0x1a4)](0x2,'0');return _0x5c62f1+'-'+_0x266cad+'-'+_0x53890c;}function getStartOfWeek(_0x15ba52){const _0x4179c1=a3_0x5800ca,_0x5dd9a9=new Date(_0x15ba52),_0x669c14=_0x5dd9a9[_0x4179c1(0x19d)](),_0x3086a9=_0x5dd9a9['getDate']()-_0x669c14+(_0x669c14===0x0?-0x6:0x1);return _0x5dd9a9['setDate'](_0x3086a9),_0x5dd9a9['setHours'](0x0,0x0,0x0,0x0),_0x5dd9a9;}function scrollToToday(){const _0x3866ba=getLocalDateStr(new Date());setTimeout(()=>{const _0x4e2342=a3_0x3e29,_0x48bf01=document[_0x4e2342(0x1e8)]('.day-col-header[data-date=\x22'+_0x3866ba+'\x22]');if(_0x48bf01){const _0x382b21=document[_0x4e2342(0x1e6)](_0x4e2342(0x17b)),_0xf465f1=_0x48bf01['offsetLeft']-_0x382b21[_0x4e2342(0x202)]/0x2+_0x48bf01[_0x4e2342(0x1c6)]/0x2;_0x382b21['scrollTo']({'left':_0xf465f1,'behavior':_0x4e2342(0x156)}),_0x382b21[_0x4e2342(0x1cc)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5de176=a3_0x5800ca,_0x3b3d5e=new Date(),_0x446bb2=document[_0x5de176(0x1e6)](_0x5de176(0x189)),_0x340303=document[_0x5de176(0x1e6)]('timeLineBadge'),_0x1ca22b=(_0x3b3d5e['getHours']()*0x3c+_0x3b3d5e['getMinutes']())/0x3c*GRID_H;_0x446bb2[_0x5de176(0x19b)][_0x5de176(0x1dd)]=_0x1ca22b+'px',_0x446bb2['style'][_0x5de176(0x194)]=_0x5de176(0x196),_0x340303[_0x5de176(0x19b)][_0x5de176(0x1dd)]=_0x1ca22b+'px',_0x340303[_0x5de176(0x19b)][_0x5de176(0x194)]=_0x5de176(0x196),_0x340303[_0x5de176(0x1ad)]=String(_0x3b3d5e[_0x5de176(0x195)]())[_0x5de176(0x1a4)](0x2,'0')+':'+String(_0x3b3d5e[_0x5de176(0x16f)]())[_0x5de176(0x1a4)](0x2,'0');}function a3_0x3e29(_0x3ec02a,_0xf6a801){_0x3ec02a=_0x3ec02a-0x14a;const _0x14952f=a3_0xdec1();let _0x58189c=_0x14952f[_0x3ec02a];return _0x58189c;}function onScroll(){const _0x3d94bf=a3_0x5800ca,_0x2a920f=document['getElementById'](_0x3d94bf(0x17b)),_0x3de16c=document[_0x3d94bf(0x1cf)](_0x3d94bf(0x1f0));for(let _0x25444f of _0x3de16c)if(_0x25444f[_0x3d94bf(0x200)]>=_0x2a920f[_0x3d94bf(0x170)]){const _0x232898=new Date(_0x25444f['getAttribute'](_0x3d94bf(0x1c8)));document['getElementById']('headerMonth')[_0x3d94bf(0x1ad)]=_0x232898[_0x3d94bf(0x14d)]('ru',{'month':_0x3d94bf(0x1bc)})[_0x3d94bf(0x219)]()+'\x20'+_0x232898[_0x3d94bf(0x1ef)]();break;}}function showToast(_0x83b85b){const _0x4403b8=a3_0x5800ca,_0x4b1fc1=document[_0x4403b8(0x1e6)](_0x4403b8(0x212));_0x4b1fc1[_0x4403b8(0x1ad)]=_0x83b85b,_0x4b1fc1[_0x4403b8(0x183)]['add']('show'),setTimeout(()=>_0x4b1fc1[_0x4403b8(0x183)][_0x4403b8(0x1a7)](_0x4403b8(0x17c)),0x7d0);}function handleInfiniteScroll(){const _0x30fc2c=a3_0x5800ca,_0xa52f06=document[_0x30fc2c(0x1e6)](_0x30fc2c(0x17b)),_0x48e2cd=_0xa52f06[_0x30fc2c(0x170)],_0x488b82=_0xa52f06['scrollWidth'],_0x25a370=_0xa52f06['clientWidth'];if(_0x488b82-(_0x48e2cd+_0x25a370)<0x12c){const _0x303085=endOffset;endOffset+=0xe,renderDayRange(_0x303085+0x1,endOffset),reRenderBlocks();}if(_0x48e2cd<0x12c){const _0x464eb1=startOffset;startOffset-=0xe,prependDays(startOffset,_0x464eb1-0x1),_0xa52f06['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2fe6bf,_0x100535){const _0x434986=a3_0x5800ca,_0x4bdc59=document[_0x434986(0x1e6)](_0x434986(0x1af)),_0x812f6=document[_0x434986(0x1e6)](_0x434986(0x1e7)),_0xa9ab42=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xba1c7f=new Date();_0xba1c7f[_0x434986(0x161)](0x0,0x0,0x0,0x0);const _0x30908f=getLocalDateStr(new Date()),_0x31e80b=document[_0x434986(0x20f)](),_0x48faf5=document['createDocumentFragment']();for(let _0x108e9d=_0x2fe6bf;_0x108e9d<=_0x100535;_0x108e9d++){const _0x720dd0=new Date(_0xba1c7f);_0x720dd0[_0x434986(0x182)](_0x720dd0['getDate']()+_0x108e9d);const _0x5ab671=getLocalDateStr(_0x720dd0);let _0x367cfa=_0x720dd0[_0x434986(0x19d)]()-0x1;if(_0x367cfa===-0x1)_0x367cfa=0x6;const _0x7acf3e=_0x5ab671===_0x30908f,_0xfbd7e8=document[_0x434986(0x211)]('div');_0xfbd7e8[_0x434986(0x14c)]='day-col-header\x20'+(_0x7acf3e?'today':''),_0xfbd7e8[_0x434986(0x238)](_0x434986(0x1c8),_0x5ab671),_0xfbd7e8[_0x434986(0x201)]='<div\x20class=\x22dch-day\x22>'+_0xa9ab42[_0x367cfa]+_0x434986(0x160)+_0x720dd0['getDate']()+_0x434986(0x164),_0x31e80b['appendChild'](_0xfbd7e8);const _0x348443=document[_0x434986(0x211)](_0x434986(0x154));_0x348443[_0x434986(0x14c)]=_0x434986(0x181)+(_0x7acf3e?_0x434986(0x236):''),_0x348443[_0x434986(0x238)](_0x434986(0x1c8),_0x5ab671),_0x348443[_0x434986(0x238)]('data-day-idx',_0x367cfa),_0x48faf5[_0x434986(0x17a)](_0x348443);}_0x4bdc59['insertBefore'](_0x31e80b,_0x4bdc59[_0x434986(0x22d)]),_0x812f6['insertBefore'](_0x48faf5,_0x812f6[_0x434986(0x1e8)](_0x434986(0x1f5)));}function hexToRgba(_0xad465f,_0x2dea3f){const _0x2f5ece=a3_0x5800ca;let _0x5916a3;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2f5ece(0x166)](_0xad465f))return _0x5916a3=_0xad465f[_0x2f5ece(0x1bb)](0x1)['split'](''),_0x5916a3[_0x2f5ece(0x1e0)]==0x3&&(_0x5916a3=[_0x5916a3[0x0],_0x5916a3[0x0],_0x5916a3[0x1],_0x5916a3[0x1],_0x5916a3[0x2],_0x5916a3[0x2]]),_0x5916a3='0x'+_0x5916a3[_0x2f5ece(0x222)](''),'rgba('+[_0x5916a3>>0x10&0xff,_0x5916a3>>0x8&0xff,_0x5916a3&0xff][_0x2f5ece(0x222)](',')+','+_0x2dea3f+')';return _0x2f5ece(0x198)+_0x2dea3f+')';}let confirmResolver=null;function a3_0xdec1(){const _0x2203c0=['404959JWHOuP','all','apply','450834ClGqqe','addEventListener','today','ccTitle','setAttribute','left','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','var(--acc-green)','(((.+)+)+)+$','className','toLocaleString','end','max','split','anTotalStats','%\x20+\x202px)','px\x20-','div','constructor','auto','then','cancelHint','initData','value','fontWeight','getMonth','clients','href','blocked-slot\x20stripe-bg','</div><div\x20class=\x22dch-num\x22>','setHours','rs-time-btn','exceptions','</div>','T00:00:00','test','rs-date-chip','flex','push','status','cancelled','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','client_load','getMinutes','scrollLeft','settings','anStart','planned','pattern','3oxDtOr','mini','overlay','sort','anEnd','appendChild','matrixViewport','show','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rsSlotsGrid','Error\x20setting\x20back\x20button:','day-column\x20','setDate','classList','completed','20200kPWxPA','detailsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','done','globalTimeLine','month','.rs-date-chip','map','startsWith','toString','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','rsDatesTrack','WebApp','analyticsList','router.html','display','getHours','block','ccText','rgba(10,\x20132,\x20255,\x20','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','log','style','getTime','getDay','detStatus','stringify','coachId','disableVerticalSwipes','.period-switch\x20.p-btn','2191cPglaI','padStart','total','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','remove','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','button','zIndex','coach_profiles','find','textContent','Unknown','daysHeaderTrack','Error\x20setting\x20color:','colIndex','expand','keys','note','747YTbDdb','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','saveLocally','user','#ff453a','data','substring','long','visible','<span>','600','offClick','getAttribute','applyData','floor','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','add','offsetWidth','scroll','data-date','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','88262mGKSFk','sid','scrollTop','anPercent','setBackgroundColor','querySelectorAll','week','timeColumn','v9.5-CLIENT-ANALYTICS','data-day-idx','ranges','ru-RU','uc_client_list','getItem','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','day-off-overlay\x20stripe-bg','onClick','start','none','top','1046336JnbfTw','#0a84ff','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','round','–û—Ç–º–µ–Ω–µ–Ω–æ','ready','getElementById','gridColumns','querySelector','forEach','color','</span>\x20/\x20','event-card','#050505','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','getFullYear','.day-col-header','BackButton','detTime','.btn-reschedule','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','.day-column','2080475pSlCcM','now','json','active','parse','\x20–≤\x20','POST','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','DOMContentLoaded','syncLoad','offsetLeft','innerHTML','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','uc_client_settings','cid','calendar','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','substr','setItem','T23:59:59','customConfirm','<div\x20class=\x22dch-day\x22>','location','onclick','createDocumentFragment','error','createElement','toast','setMonth','rescheduleSheet','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','Telegram','seriesId','detDate','toUpperCase','open','min','dateStr','stopPropagation','backgroundPosition','borderLeftColor','63250LFSjof','cancelContainer','join','getDate','cancel_window','charAt','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','anCustomDates','\x20-\x20','detNote','search','calc(','clientId','firstChild','\x20status-completed','Critical\x20TMA\x20Error:','filter'];a3_0xdec1=function(){return _0x2203c0;};return a3_0xdec1();}function showCustomConfirm(_0x2c103d,_0x1970d6,_0x5b6f20=!![]){const _0x3fffb1=a3_0x5800ca;document[_0x3fffb1(0x1e6)](_0x3fffb1(0x237))[_0x3fffb1(0x1ad)]=_0x2c103d,document[_0x3fffb1(0x1e6)](_0x3fffb1(0x197))[_0x3fffb1(0x1ad)]=_0x1970d6;const _0x22b3d3=document[_0x3fffb1(0x1e6)]('ccYesBtn');return _0x5b6f20?(_0x22b3d3['style'][_0x3fffb1(0x1ea)]=_0x3fffb1(0x1b9),_0x22b3d3['style'][_0x3fffb1(0x15b)]='600'):(_0x22b3d3['style']['color']='#0a84ff',_0x22b3d3[_0x3fffb1(0x19b)][_0x3fffb1(0x15b)]=_0x3fffb1(0x1bf)),new Promise(_0x56be78=>{const _0x536278=_0x3fffb1;confirmResolver=_0x56be78,document[_0x536278(0x1e6)](_0x536278(0x20b))[_0x536278(0x183)][_0x536278(0x1c5)]('visible');});}function resolveCustomConfirm(_0x1bfd7c){const _0x5f07bb=a3_0x5800ca;document[_0x5f07bb(0x1e6)](_0x5f07bb(0x20b))[_0x5f07bb(0x183)][_0x5f07bb(0x1a7)](_0x5f07bb(0x1bd));if(confirmResolver)confirmResolver(_0x1bfd7c);}async function tryCancelCurrentSession(){const _0x840b24=a3_0x5800ca;if(!currentSession)return;const _0x4690e6=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x840b24(0x1c4),!![]);if(!_0x4690e6)return;const _0x2e13ef=currentSession;closeAllSheets(),sessions=sessions[_0x840b24(0x230)](_0xb3d55c=>_0xb3d55c['id']!==_0x2e13ef['id']),reRenderBlocks(),showToast(_0x840b24(0x1e4)),lastUserActionTime=Date[_0x840b24(0x1f7)]();try{const _0x18838b=window[_0x840b24(0x216)]?.[_0x840b24(0x191)],_0x3f2c91=await fetch(API_URL,{'method':_0x840b24(0x1fc),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x18838b?.['initData']||'','coachId':_0x2e13ef[_0x840b24(0x1a0)],'dateStr':_0x2e13ef[_0x840b24(0x21c)],'sessionId':_0x2e13ef['id']})});if(_0x3f2c91['ok'])DataManager[_0x840b24(0x1b7)]();}catch(_0x3ecd37){showToast(_0x840b24(0x1f4));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x411951=a3_0x5800ca;if(!currentSession)return;document['getElementById'](_0x411951(0x186))[_0x411951(0x183)][_0x411951(0x1a7)]('open'),document[_0x411951(0x1e6)](_0x411951(0x214))['classList'][_0x411951(0x1c5)](_0x411951(0x21a));const _0x2736f9=document['getElementById']('rsDatesTrack'),_0x29d9a3=document['getElementById'](_0x411951(0x17f));_0x2736f9[_0x411951(0x201)]='',_0x29d9a3[_0x411951(0x201)]=_0x411951(0x1fd);const [_0x4e76b1,_0x5e00ae]=currentSession[_0x411951(0x1db)][_0x411951(0x150)](':')[_0x411951(0x18c)](Number),[_0x80f185,_0x5594d4]=currentSession[_0x411951(0x14e)][_0x411951(0x150)](':')['map'](Number),_0x4cc114=_0x80f185*0x3c+_0x5594d4-(_0x4e76b1*0x3c+_0x5e00ae);try{const _0x534933=window[_0x411951(0x216)]?.[_0x411951(0x191)],_0x5b3e62=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x4cc114,'init_data':_0x534933?.[_0x411951(0x159)]||'','excludeSessionId':currentSession['id']})}),_0x59f573=await _0x5b3e62[_0x411951(0x1f8)]();_0x59f573['ok']&&_0x59f573[_0x411951(0x1ba)]?(availableSlotsCache=_0x59f573[_0x411951(0x1ba)],renderRescheduleDates()):_0x29d9a3[_0x411951(0x201)]=_0x411951(0x1a6);}catch(_0x31833d){_0x29d9a3['innerHTML']=_0x411951(0x1c9);}}function renderRescheduleDates(){const _0x2d8dee=a3_0x5800ca,_0x33b89a=document[_0x2d8dee(0x1e6)](_0x2d8dee(0x190));_0x33b89a[_0x2d8dee(0x201)]='';const _0x222a73=Object['keys'](availableSlotsCache)[_0x2d8dee(0x178)](),_0x47cb8d=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x222a73['length']===0x0){document[_0x2d8dee(0x1e6)](_0x2d8dee(0x17f))[_0x2d8dee(0x201)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x222a73[_0x2d8dee(0x1e9)]((_0x3d42ae,_0x51bac4)=>{const _0x4885e4=_0x2d8dee,_0x30ca72=new Date(_0x3d42ae),_0x4651f4=_0x47cb8d[_0x30ca72[_0x4885e4(0x19d)]()],_0x2df353=_0x30ca72[_0x4885e4(0x223)](),_0x50b2aa=document['createElement'](_0x4885e4(0x154));_0x50b2aa[_0x4885e4(0x14c)]=_0x4885e4(0x167);if(_0x51bac4===0x0)_0x50b2aa[_0x4885e4(0x183)]['add'](_0x4885e4(0x1f9));_0x50b2aa[_0x4885e4(0x201)]='<div\x20class=\x22rs-day-name\x22>'+_0x4651f4+'</div><div\x20class=\x22rs-day-num\x22>'+_0x2df353+'</div>',_0x50b2aa['onclick']=()=>selectRsDate(_0x3d42ae,_0x50b2aa),_0x33b89a[_0x4885e4(0x17a)](_0x50b2aa);}),selectRsDate(_0x222a73[0x0],_0x33b89a['firstChild']);}function selectRsDate(_0x478631,_0x22a61f){const _0xdab46e=a3_0x5800ca;selectedRsDate=_0x478631,document[_0xdab46e(0x1cf)](_0xdab46e(0x18b))[_0xdab46e(0x1e9)](_0x1acf99=>_0x1acf99[_0xdab46e(0x183)][_0xdab46e(0x1a7)](_0xdab46e(0x1f9)));if(_0x22a61f)_0x22a61f[_0xdab46e(0x183)]['add'](_0xdab46e(0x1f9));const _0x5d257a=document[_0xdab46e(0x1e6)]('rsSlotsGrid');_0x5d257a[_0xdab46e(0x201)]='';const _0x388d69=availableSlotsCache[_0x478631]||[];if(_0x388d69[_0xdab46e(0x1e0)]===0x0){_0x5d257a['innerHTML']=_0xdab46e(0x1a6);return;}_0x388d69['forEach'](_0x40978a=>{const _0xf3886f=_0xdab46e,_0x2b3c97=document[_0xf3886f(0x211)](_0xf3886f(0x1a9));_0x2b3c97[_0xf3886f(0x14c)]=_0xf3886f(0x162),_0x2b3c97[_0xf3886f(0x1ad)]=_0x40978a,_0x2b3c97[_0xf3886f(0x20e)]=()=>confirmReschedule(_0x40978a),_0x5d257a[_0xf3886f(0x17a)](_0x2b3c97);});}async function confirmReschedule(_0x5dc15f){const _0x45c84f=a3_0x5800ca,_0x4e43c2=new Date(selectedRsDate),_0x1ae43e=_0x4e43c2['toLocaleDateString'](_0x45c84f(0x1d5),{'day':'numeric','month':_0x45c84f(0x1bc)}),_0x155bfd=await showCustomConfirm(_0x45c84f(0x207),_0x45c84f(0x1ee)+_0x1ae43e+_0x45c84f(0x1fb)+_0x5dc15f+'?',![]);if(!_0x155bfd)return;closeAllSheets(),showToast(_0x45c84f(0x1b6)),lastUserActionTime=Date[_0x45c84f(0x1f7)]();const _0x37e48e=currentSession['dateStr'],_0x42c170=currentSession['id'],[_0xa9f0f,_0x1d8465]=currentSession[_0x45c84f(0x1db)][_0x45c84f(0x150)](':')['map'](Number),[_0x995816,_0x32b49c]=currentSession[_0x45c84f(0x14e)][_0x45c84f(0x150)](':')[_0x45c84f(0x18c)](Number),_0x4f2532=_0x995816*0x3c+_0x32b49c-(_0xa9f0f*0x3c+_0x1d8465),[_0x5f3461,_0x160f1c]=_0x5dc15f[_0x45c84f(0x150)](':')[_0x45c84f(0x18c)](Number),_0x590392=_0x5f3461*0x3c+_0x160f1c+_0x4f2532,_0x1ec30d=Math[_0x45c84f(0x1c3)](_0x590392/0x3c),_0x3c23d4=_0x590392%0x3c,_0x185c0f=String(_0x1ec30d)[_0x45c84f(0x1a4)](0x2,'0')+':'+String(_0x3c23d4)[_0x45c84f(0x1a4)](0x2,'0'),_0x3551ab=sessions['findIndex'](_0x340169=>_0x340169['id']===_0x42c170);_0x3551ab!==-0x1&&(sessions[_0x3551ab][_0x45c84f(0x21c)]=selectedRsDate,sessions[_0x3551ab]['start']=_0x5dc15f,sessions[_0x3551ab][_0x45c84f(0x14e)]=_0x185c0f,reRenderBlocks());try{const _0xfe9acf=window[_0x45c84f(0x216)]?.[_0x45c84f(0x191)],_0x141c31=await fetch(API_URL,{'method':_0x45c84f(0x1fc),'body':JSON[_0x45c84f(0x19f)]({'action':'reschedule','init_data':_0xfe9acf?.[_0x45c84f(0x159)]||'','oldSessionId':_0x42c170,'oldDate':_0x37e48e,'newDate':selectedRsDate,'newTime':_0x5dc15f,'coachId':currentSession[_0x45c84f(0x1a0)]})}),_0x3442d6=await _0x141c31['json']();!_0x3442d6['ok']?(showToast(_0x45c84f(0x199)),DataManager['syncLoad']()):(showToast(_0x45c84f(0x1e2)),DataManager[_0x45c84f(0x1b7)]());}catch(_0x1a49d3){showToast(_0x45c84f(0x1f4));}}document[a3_0x5800ca(0x235)](a3_0x5800ca(0x1fe),init);