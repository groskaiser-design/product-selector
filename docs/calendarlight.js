const a3_0x4f3408=a3_0x345a;(function(_0x13b046,_0x22ddcc){const _0xefe932=a3_0x345a,_0x393d1d=_0x13b046();while(!![]){try{const _0x476e7d=-parseInt(_0xefe932(0x1c5))/0x1*(-parseInt(_0xefe932(0x16c))/0x2)+parseInt(_0xefe932(0x179))/0x3*(parseInt(_0xefe932(0x160))/0x4)+-parseInt(_0xefe932(0x14e))/0x5+parseInt(_0xefe932(0x1a2))/0x6*(-parseInt(_0xefe932(0x14c))/0x7)+-parseInt(_0xefe932(0x1ab))/0x8+-parseInt(_0xefe932(0x17f))/0x9*(-parseInt(_0xefe932(0x12c))/0xa)+parseInt(_0xefe932(0x220))/0xb*(parseInt(_0xefe932(0x1d6))/0xc);if(_0x476e7d===_0x22ddcc)break;else _0x393d1d['push'](_0x393d1d['shift']());}catch(_0x308008){_0x393d1d['push'](_0x393d1d['shift']());}}}(a3_0x3f6e,0xd87d9));function a3_0x345a(_0x2c5805,_0x258714){_0x2c5805=_0x2c5805-0x129;const _0x48d3a6=a3_0x3f6e();let _0x22691d=_0x48d3a6[_0x2c5805];return _0x22691d;}const APP_VERSION=a3_0x4f3408(0x1ef),API_URL=a3_0x4f3408(0x215),GRID_H=0x3c,KEY_SESSIONS=a3_0x4f3408(0x129),KEY_SETTINGS=a3_0x4f3408(0x12e),KEY_CLIENTS=a3_0x4f3408(0x1e0);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4f3408(0x1ce),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x48c852=a3_0x4f3408,_0x114fe8=(function(){let _0x354111=!![];return function(_0x578e46,_0x27b133){const _0x5a30a8=_0x354111?function(){const _0x39bddb=a3_0x345a;if(_0x27b133){const _0x1f1d67=_0x27b133[_0x39bddb(0x18f)](_0x578e46,arguments);return _0x27b133=null,_0x1f1d67;}}:function(){};return _0x354111=![],_0x5a30a8;};}()),_0x3b4cd1=_0x114fe8(this,function(){const _0x99aad2=a3_0x345a;return _0x3b4cd1[_0x99aad2(0x18c)]()[_0x99aad2(0x18a)](_0x99aad2(0x1ee))[_0x99aad2(0x18c)]()[_0x99aad2(0x1b9)](_0x3b4cd1)[_0x99aad2(0x18a)]('(((.+)+)+)+$');});_0x3b4cd1();try{const _0x3e28fd=window['Telegram']?.[_0x48c852(0x1fa)];if(!_0x3e28fd)return;_0x3e28fd[_0x48c852(0x163)](),_0x3e28fd['expand']();try{_0x3e28fd[_0x48c852(0x180)](_0x48c852(0x175)),_0x3e28fd[_0x48c852(0x1ff)]&&_0x3e28fd['setBackgroundColor'](_0x48c852(0x175));}catch(_0x5f27fc){console[_0x48c852(0x20c)]('Error\x20setting\x20color:',_0x5f27fc);}try{_0x3e28fd[_0x48c852(0x217)]&&(_0x3e28fd[_0x48c852(0x217)][_0x48c852(0x144)](),_0x3e28fd[_0x48c852(0x217)]['offClick'](),_0x3e28fd['BackButton']['onClick'](function(){const _0x1ee028=_0x48c852;window[_0x1ee028(0x159)][_0x1ee028(0x1fc)]=_0x1ee028(0x1a0);}));}catch(_0x5de153){console[_0x48c852(0x20c)](_0x48c852(0x132),_0x5de153);}try{if(_0x3e28fd[_0x48c852(0x178)])_0x3e28fd[_0x48c852(0x178)]();}catch(_0x4c7edf){}}catch(_0x5f068a){console[_0x48c852(0x1cb)]('Critical\x20TMA\x20Error:',_0x5f068a);}}());function isAdmin(){const _0x575fff=a3_0x4f3408;try{const _0x21d8e8=Number(window[_0x575fff(0x1be)]?.[_0x575fff(0x1fa)]?.[_0x575fff(0x150)]?.[_0x575fff(0x204)]?.['id']);return _0x21d8e8===0xbaf7174;}catch(_0x2c8954){return![];}}const DataManager={'saveLocally'(){const _0x572112=a3_0x4f3408;try{localStorage[_0x572112(0x1ae)](KEY_SESSIONS,JSON[_0x572112(0x17e)](sessions)),localStorage[_0x572112(0x1ae)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x572112(0x17e)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x436134){}},'loadLocal'(){const _0x198351=a3_0x4f3408;try{const _0x5be8a0=localStorage[_0x198351(0x202)](KEY_SESSIONS);if(_0x5be8a0)sessions=JSON[_0x198351(0x203)](_0x5be8a0);const _0x59469d=localStorage[_0x198351(0x202)](KEY_CLIENTS);if(_0x59469d)clients=JSON['parse'](_0x59469d);const _0x44ea21=localStorage[_0x198351(0x202)](KEY_SETTINGS);if(_0x44ea21){const _0x4ad9cf=JSON['parse'](_0x44ea21);if(_0x4ad9cf['pattern'])availabilityPattern=_0x4ad9cf[_0x198351(0x214)];if(_0x4ad9cf[_0x198351(0x1d0)])specialRanges=_0x4ad9cf[_0x198351(0x1d0)];if(_0x4ad9cf['exceptions'])dateExceptions=_0x4ad9cf[_0x198351(0x1f6)];}}catch(_0x2cd0a7){}},async 'syncLoad'(){const _0x14d38d=a3_0x4f3408,_0x106318=new Date(),_0x59518e=_0x106318[_0x14d38d(0x1d7)]()+'-'+String(_0x106318[_0x14d38d(0x173)]()+0x1)[_0x14d38d(0x1c2)](0x2,'0'),_0x38326d=new Date(_0x106318);_0x38326d[_0x14d38d(0x12a)](_0x106318['getMonth']()+0x1);const _0x2d8fc8=_0x38326d[_0x14d38d(0x1d7)]()+'-'+String(_0x38326d[_0x14d38d(0x173)]()+0x1)[_0x14d38d(0x1c2)](0x2,'0'),_0x12ccd2=Date['now']();try{const _0x498f2f=window[_0x14d38d(0x1be)]?.[_0x14d38d(0x1fa)],_0x12c2f2=_0x498f2f?.[_0x14d38d(0x1e8)]||'',[_0xb36379,_0xba3a00]=await Promise[_0x14d38d(0x192)]([fetch(API_URL,{'method':_0x14d38d(0x1f4),'body':JSON[_0x14d38d(0x17e)]({'action':_0x14d38d(0x157),'init_data':_0x12c2f2,'month_str':_0x59518e})})['then'](_0x8a6077=>_0x8a6077[_0x14d38d(0x14a)]()),fetch(API_URL,{'method':_0x14d38d(0x1f4),'body':JSON[_0x14d38d(0x17e)]({'action':_0x14d38d(0x157),'init_data':_0x12c2f2,'month_str':_0x2d8fc8})})[_0x14d38d(0x14d)](_0x1bc50e=>_0x1bc50e[_0x14d38d(0x14a)]())]);if(lastUserActionTime>_0x12ccd2){console['log'](_0x14d38d(0x15b));return;}if(_0xb36379['ok'])this[_0x14d38d(0x210)](_0xb36379[_0x14d38d(0x13a)],_0x59518e);if(_0xba3a00['ok'])this[_0x14d38d(0x210)](_0xba3a00[_0x14d38d(0x13a)],_0x2d8fc8);this[_0x14d38d(0x17a)]();}catch(_0x1afba9){}},'applyData'(_0x360348,_0x47391e){const _0x4315b9=a3_0x4f3408;if(!_0x360348)return;if(_0x360348[_0x4315b9(0x1ed)]){if(_0x360348['settings'][_0x4315b9(0x214)])availabilityPattern=_0x360348[_0x4315b9(0x1ed)][_0x4315b9(0x214)];if(_0x360348[_0x4315b9(0x1ed)][_0x4315b9(0x1d0)])specialRanges=_0x360348[_0x4315b9(0x1ed)][_0x4315b9(0x1d0)];if(_0x360348[_0x4315b9(0x1ed)][_0x4315b9(0x1f6)])dateExceptions=_0x360348[_0x4315b9(0x1ed)][_0x4315b9(0x1f6)];}if(_0x360348[_0x4315b9(0x1a4)]&&Array[_0x4315b9(0x166)](_0x360348['clients']))clients=_0x360348[_0x4315b9(0x1a4)];_0x360348[_0x4315b9(0x21d)]&&(coachProfiles={...coachProfiles,..._0x360348['coach_profiles']}),_0x360348[_0x4315b9(0x1e5)]&&(sessions=sessions[_0x4315b9(0x15f)](_0x1b8e86=>!_0x1b8e86['dateStr'][_0x4315b9(0x1b3)](_0x47391e)),Object[_0x4315b9(0x172)](_0x360348[_0x4315b9(0x1e5)])[_0x4315b9(0x219)](_0x9b0b9c=>{const _0x6c2bbf=_0x4315b9,_0x379e8f=_0x360348[_0x6c2bbf(0x1e5)][_0x9b0b9c];_0x379e8f[_0x6c2bbf(0x219)](_0x370147=>{const _0x54f963=_0x6c2bbf;sessions[_0x54f963(0x201)]({'id':_0x370147['i'],'clientId':_0x370147['c'],'coachId':_0x370147[_0x54f963(0x20a)],'dateStr':_0x47391e+'-'+_0x9b0b9c[_0x54f963(0x1c2)](0x2,'0'),'start':_0x370147['s'],'end':_0x370147['e'],'note':_0x370147['n']||'','status':_0x370147['st']||_0x54f963(0x1b5),'seriesId':_0x370147[_0x54f963(0x162)]});});})),reRenderBlocks();}};function init(){const _0x296444=a3_0x4f3408;DataManager[_0x296444(0x12b)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x296444(0x213)](_0x296444(0x1db))[_0x296444(0x171)](_0x296444(0x17b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x296444(0x1f3)]();}function renderTimeColumn(){const _0xe4151=a3_0x4f3408,_0x53f6d0=document[_0xe4151(0x213)](_0xe4151(0x1fb)),_0x4f6760=document[_0xe4151(0x213)](_0xe4151(0x205));_0x53f6d0[_0xe4151(0x1f0)]='',_0x53f6d0[_0xe4151(0x184)](_0x4f6760);for(let _0x25fa9a=0x0;_0x25fa9a<0x18;_0x25fa9a++){const _0x562819=document[_0xe4151(0x153)](_0xe4151(0x1c8));_0x562819[_0xe4151(0x1e1)]='time-label';if(_0x25fa9a>0x0)_0x562819[_0xe4151(0x1f0)]=_0xe4151(0x1a5)+String(_0x25fa9a)[_0xe4151(0x1c2)](0x2,'0')+_0xe4151(0x193);_0x53f6d0[_0xe4151(0x184)](_0x562819);}}function renderDayRange(_0x446deb,_0x4225a1){const _0x20638c=a3_0x4f3408,_0x1da566=document[_0x20638c(0x213)]('daysHeaderTrack'),_0x21959c=document[_0x20638c(0x213)](_0x20638c(0x1a1)),_0x6fc1b3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x100b78=new Date();_0x100b78['setHours'](0x0,0x0,0x0,0x0);const _0x1dce65=getLocalDateStr(new Date());for(let _0x421ce2=_0x446deb;_0x421ce2<=_0x4225a1;_0x421ce2++){const _0x556f7a=new Date(_0x100b78);_0x556f7a[_0x20638c(0x176)](_0x556f7a['getDate']()+_0x421ce2);const _0x16ac0d=getLocalDateStr(_0x556f7a);let _0x35c647=_0x556f7a['getDay']()-0x1;if(_0x35c647===-0x1)_0x35c647=0x6;const _0x1c24e0=_0x16ac0d===_0x1dce65,_0xb86d87=document[_0x20638c(0x153)](_0x20638c(0x1c8));_0xb86d87[_0x20638c(0x1e1)]='day-col-header\x20'+(_0x1c24e0?_0x20638c(0x1e2):''),_0xb86d87[_0x20638c(0x197)]('data-date',_0x16ac0d),_0xb86d87[_0x20638c(0x1f0)]=_0x20638c(0x188)+_0x6fc1b3[_0x35c647]+_0x20638c(0x1f7)+_0x556f7a['getDate']()+_0x20638c(0x1c1),_0x1da566[_0x20638c(0x184)](_0xb86d87);const _0x5e02a2=document[_0x20638c(0x153)](_0x20638c(0x1c8));_0x5e02a2[_0x20638c(0x1e1)]=_0x20638c(0x146)+(_0x1c24e0?_0x20638c(0x1e2):''),_0x5e02a2['setAttribute'](_0x20638c(0x16d),_0x16ac0d),_0x5e02a2[_0x20638c(0x197)](_0x20638c(0x1e4),_0x35c647),_0x21959c[_0x20638c(0x184)](_0x5e02a2);}}function reRenderBlocks(){const _0x275c47=a3_0x4f3408;document['querySelectorAll'](_0x275c47(0x18e))[_0x275c47(0x219)](_0x3e7072=>{const _0x5c0eba=_0x275c47;_0x3e7072[_0x5c0eba(0x1bd)](_0x5c0eba(0x137))[_0x5c0eba(0x219)](_0x22ba13=>_0x22ba13[_0x5c0eba(0x15d)]());const _0x4f8335=_0x3e7072[_0x5c0eba(0x1d8)](_0x5c0eba(0x16d)),_0x1c98ea=parseInt(_0x3e7072[_0x5c0eba(0x1d8)](_0x5c0eba(0x1e4))),_0x5780e8=Math[_0x5c0eba(0x185)](_0x3e7072[_0x5c0eba(0x206)]);(availabilityPattern[_0x1c98ea]||[])[_0x5c0eba(0x219)](_0xf5bea4=>{const _0x5dc921=_0x5c0eba,_0x35f5a2=document['createElement'](_0x5dc921(0x1c8));_0x35f5a2['className']=_0x5dc921(0x196),_0x35f5a2[_0x5dc921(0x20b)][_0x5dc921(0x1ad)]=_0xf5bea4*GRID_H+'px',_0x35f5a2[_0x5dc921(0x20b)]['backgroundPosition']='-'+_0x5780e8+'px\x20-'+_0xf5bea4*GRID_H+'px',_0x3e7072['appendChild'](_0x35f5a2);});if(specialRanges['length']>0x0){const _0x92631b=new Date(_0x4f8335+_0x5c0eba(0x149))['getTime'](),_0x3b5a58=new Date(_0x4f8335+_0x5c0eba(0x198))[_0x5c0eba(0x19b)]();specialRanges['forEach'](_0x39ff2e=>{const _0x3dac49=_0x5c0eba,_0x1741aa=new Date(_0x39ff2e[_0x3dac49(0x20e)])['getTime'](),_0x213694=new Date(_0x39ff2e[_0x3dac49(0x182)])['getTime'](),_0x572d00=Math[_0x3dac49(0x1f8)](_0x92631b,_0x1741aa),_0x335c30=Math[_0x3dac49(0x12d)](_0x3b5a58,_0x213694);if(_0x572d00<_0x335c30){const _0x4a7a67=(_0x572d00-_0x92631b)/0x36ee80*GRID_H,_0x579562=(_0x335c30-_0x572d00)/0x36ee80*GRID_H,_0x349c2c=document['createElement'](_0x3dac49(0x1c8));_0x579562>=23.5*GRID_H?(_0x349c2c[_0x3dac49(0x1e1)]=_0x3dac49(0x20f),_0x349c2c[_0x3dac49(0x20b)][_0x3dac49(0x151)]='-'+_0x5780e8+_0x3dac49(0x19d)):(_0x349c2c[_0x3dac49(0x1e1)]='blocked-range-part\x20stripe-bg',_0x349c2c['style'][_0x3dac49(0x1ad)]=_0x4a7a67+'px',_0x349c2c[_0x3dac49(0x20b)]['height']=_0x579562+'px',_0x349c2c['style'][_0x3dac49(0x151)]='-'+_0x5780e8+_0x3dac49(0x174)+_0x4a7a67+'px'),_0x3e7072[_0x3dac49(0x184)](_0x349c2c);}});}renderEventsForColumn(_0x3e7072,_0x4f8335);});}function renderEventsForColumn(_0x3f547e,_0x4a8656){const _0x580127=a3_0x4f3408,_0x1a606a=sessions[_0x580127(0x15f)](_0x25d89f=>_0x25d89f[_0x580127(0x181)]===_0x4a8656),_0x59080e=_0x1a606a['map'](_0x2c66f5=>{const _0x141cda=_0x580127,[_0x279a5b,_0x1a525b]=_0x2c66f5[_0x141cda(0x20e)]['split'](':')[_0x141cda(0x1fd)](Number),[_0x22891d,_0x7ce315]=_0x2c66f5[_0x141cda(0x182)]['split'](':')[_0x141cda(0x1fd)](Number);return{'data':_0x2c66f5,'start':_0x279a5b*0x3c+_0x1a525b,'end':_0x22891d*0x3c+_0x7ce315,'colIndex':0x0};});_0x59080e[_0x580127(0x1b2)]((_0x29cc6b,_0x32148d)=>_0x29cc6b[_0x580127(0x20e)]-_0x32148d['start']||_0x32148d[_0x580127(0x182)]-_0x32148d[_0x580127(0x20e)]-(_0x29cc6b[_0x580127(0x182)]-_0x29cc6b['start']));const _0x45cc4f=[];_0x59080e[_0x580127(0x219)](_0x2bef98=>{const _0x266e21=_0x580127;let _0x5b7e8d=![];for(let _0x54559e=0x0;_0x54559e<_0x45cc4f[_0x266e21(0x168)];_0x54559e++){const _0x2ced14=_0x45cc4f[_0x54559e];if(_0x2bef98['start']>=_0x2ced14[_0x2ced14[_0x266e21(0x168)]-0x1]['end']){_0x2ced14['push'](_0x2bef98),_0x2bef98[_0x266e21(0x145)]=_0x54559e,_0x5b7e8d=!![];break;}}!_0x5b7e8d&&(_0x45cc4f[_0x266e21(0x201)]([_0x2bef98]),_0x2bef98[_0x266e21(0x145)]=_0x45cc4f[_0x266e21(0x168)]-0x1);}),_0x59080e[_0x580127(0x219)](_0x5270cc=>{const _0x4205e8=_0x580127;let _0x356bb8=0x0;_0x59080e[_0x4205e8(0x219)](_0x5c6449=>{const _0x1ce8d2=_0x4205e8;if(Math[_0x1ce8d2(0x1f8)](_0x5270cc[_0x1ce8d2(0x20e)],_0x5c6449[_0x1ce8d2(0x20e)])<Math['min'](_0x5270cc[_0x1ce8d2(0x182)],_0x5c6449[_0x1ce8d2(0x182)])&&_0x5c6449[_0x1ce8d2(0x145)]>_0x356bb8)_0x356bb8=_0x5c6449[_0x1ce8d2(0x145)];});const _0x43f3b6=_0x356bb8+0x1,_0x48adce=0x64/_0x43f3b6,_0xe49f2b=_0x5270cc[_0x4205e8(0x145)]*_0x48adce,_0x36db4b=document[_0x4205e8(0x153)]('div'),_0x473962=_0x5270cc['data'];let _0x51b4fe=_0x4205e8(0x14b);if(clients&&clients[_0x4205e8(0x168)]>0x0){const _0x2e7a43=clients[_0x4205e8(0x16b)](_0x349ecd=>String(_0x349ecd['id'])===String(_0x473962[_0x4205e8(0x1bc)]));if(_0x2e7a43&&_0x2e7a43[_0x4205e8(0x158)])_0x51b4fe=_0x2e7a43[_0x4205e8(0x158)];}const _0x251429=_0x473962[_0x4205e8(0x1d2)]==='completed',_0x4f8b69=_0x251429?0x1:0.45;_0x36db4b[_0x4205e8(0x1e1)]='event-card'+(_0x251429?_0x4205e8(0x14f):''),_0x36db4b['style'][_0x4205e8(0x1c0)]=hexToRgba(_0x51b4fe,_0x4f8b69),_0x36db4b[_0x4205e8(0x20b)][_0x4205e8(0x13f)]=_0x51b4fe;const _0x1f14cd=_0x5270cc[_0x4205e8(0x20e)]/0x3c*GRID_H,_0x30105f=(_0x5270cc[_0x4205e8(0x182)]-_0x5270cc[_0x4205e8(0x20e)])/0x3c*GRID_H;_0x36db4b['style']['top']=_0x1f14cd+'px',_0x36db4b[_0x4205e8(0x20b)][_0x4205e8(0x1b1)]=Math['max'](_0x30105f,0x14)+'px',_0x36db4b['style']['width']=_0x4205e8(0x1d3)+_0x48adce+'%\x20-\x204px)',_0x36db4b['style'][_0x4205e8(0x17d)]=_0x4205e8(0x1d3)+_0xe49f2b+'%\x20+\x202px)',_0x36db4b['style']['zIndex']=0xa+_0x5270cc['colIndex'];if(_0x48adce<0x55)_0x36db4b['classList']['add']('mini');let _0x3d767e='';if(_0x473962['seriesId'])_0x3d767e+=_0x4205e8(0x191);if(_0x251429)_0x3d767e+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x36db4b[_0x4205e8(0x1f0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x473962['start']+'\x20-\x20'+_0x473962[_0x4205e8(0x182)]+_0x4205e8(0x167)+_0x3d767e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x36db4b[_0x4205e8(0x134)]=_0x25bf2c=>{const _0x5df1bb=_0x4205e8;_0x25bf2c[_0x5df1bb(0x195)](),openDetails(_0x473962);},_0x3f547e[_0x4205e8(0x184)](_0x36db4b);});}function openAnalytics(){const _0x2e2399=a3_0x4f3408,_0x38e00d=document[_0x2e2399(0x1da)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x2e2399(0x1ce),_0x38e00d),openSheet(_0x2e2399(0x186));}function setAnalyticsPeriod(_0x34f840,_0x12a05a){const _0x1038aa=a3_0x4f3408;currentAnPeriod=_0x34f840,document[_0x1038aa(0x1bd)](_0x1038aa(0x212))[_0x1038aa(0x219)](_0xb34376=>_0xb34376[_0x1038aa(0x161)][_0x1038aa(0x15d)]('active'));if(_0x12a05a)_0x12a05a[_0x1038aa(0x161)]['add'](_0x1038aa(0x1a6));const _0x2ec186=document[_0x1038aa(0x213)](_0x1038aa(0x1b0));_0x2ec186[_0x1038aa(0x20b)][_0x1038aa(0x207)]=_0x34f840==='custom'?_0x1038aa(0x135):_0x1038aa(0x156);const _0x4ce0f3=new Date();let _0x46dd8f=new Date(),_0x50309=new Date();if(_0x34f840===_0x1038aa(0x1ce))_0x46dd8f=getStartOfWeek(_0x4ce0f3),_0x50309=new Date(_0x46dd8f),_0x50309[_0x1038aa(0x176)](_0x50309['getDate']()+0x6);else{if(_0x34f840===_0x1038aa(0x13e))_0x46dd8f=new Date(_0x4ce0f3['getFullYear'](),_0x4ce0f3[_0x1038aa(0x173)](),0x1),_0x50309=new Date(_0x4ce0f3[_0x1038aa(0x1d7)](),_0x4ce0f3[_0x1038aa(0x173)]()+0x1,0x0);else{!document[_0x1038aa(0x213)]('anStart')[_0x1038aa(0x16a)]&&(document['getElementById'](_0x1038aa(0x1a7))[_0x1038aa(0x16a)]=getLocalDateStr(_0x4ce0f3),document['getElementById'](_0x1038aa(0x142))[_0x1038aa(0x16a)]=getLocalDateStr(_0x4ce0f3));refreshAnalytics();return;}}document[_0x1038aa(0x213)](_0x1038aa(0x1a7))[_0x1038aa(0x16a)]=getLocalDateStr(_0x46dd8f),document[_0x1038aa(0x213)](_0x1038aa(0x142))[_0x1038aa(0x16a)]=getLocalDateStr(_0x50309),refreshAnalytics();}function refreshAnalytics(){const _0x12d19a=a3_0x4f3408,_0x478d74=document['getElementById']('anStart')[_0x12d19a(0x16a)],_0xd01fcc=document[_0x12d19a(0x213)](_0x12d19a(0x142))['value'];if(!_0x478d74||!_0xd01fcc)return;const _0x27d39e=sessions[_0x12d19a(0x15f)](_0x5246bb=>_0x5246bb[_0x12d19a(0x181)]>=_0x478d74&&_0x5246bb[_0x12d19a(0x181)]<=_0xd01fcc&&_0x5246bb[_0x12d19a(0x1d2)]!=='cancelled'),_0x199857=_0x27d39e[_0x12d19a(0x168)],_0x3468ea=_0x27d39e[_0x12d19a(0x15f)](_0x367b61=>_0x367b61[_0x12d19a(0x1d2)]===_0x12d19a(0x13d))[_0x12d19a(0x168)],_0x24ef37=_0x199857>0x0?Math[_0x12d19a(0x185)](_0x3468ea/_0x199857*0x64):0x0;document[_0x12d19a(0x213)](_0x12d19a(0x133))['textContent']=_0x24ef37+'%',document['getElementById'](_0x12d19a(0x1dd))['textContent']=_0x3468ea+'\x20–∏–∑\x20'+_0x199857+_0x12d19a(0x1ba);const _0x302f5d=document[_0x12d19a(0x213)]('anDonutCircle'),_0x1fafa1=0x2*Math['PI']*0x23,_0x48109e=_0x1fafa1-_0x24ef37/0x64*_0x1fafa1;_0x302f5d[_0x12d19a(0x20b)][_0x12d19a(0x136)]=_0x48109e;const _0xf00a3a={};_0x27d39e[_0x12d19a(0x219)](_0x48b695=>{const _0x45d7ab=_0x12d19a,_0x1d62c1=_0x48b695[_0x45d7ab(0x21c)]||_0x45d7ab(0x18d);if(!_0xf00a3a[_0x1d62c1]){const _0x495ea6='#'+_0x1d62c1[_0x45d7ab(0x18c)]()['substr'](0x0,0x6);_0xf00a3a[_0x1d62c1]={'total':0x0,'done':0x0,'color':_0x495ea6};}_0xf00a3a[_0x1d62c1]['total']++;if(_0x48b695[_0x45d7ab(0x1d2)]==='completed')_0xf00a3a[_0x1d62c1][_0x45d7ab(0x169)]++;});const _0x477526=document['getElementById'](_0x12d19a(0x1f2));_0x477526[_0x12d19a(0x1f0)]='';const _0x5af6ec=Object['entries'](_0xf00a3a)[_0x12d19a(0x1b2)]((_0x37edc7,_0x3002a4)=>_0x3002a4[0x1][_0x12d19a(0x1b8)]-_0x37edc7[0x1][_0x12d19a(0x1b8)]);if(_0x5af6ec[_0x12d19a(0x168)]===0x0){_0x477526[_0x12d19a(0x1f0)]=_0x12d19a(0x224);return;}_0x5af6ec['forEach'](([_0x2e2934,_0x5a1465])=>{const _0x71b92b=_0x12d19a,_0x539c80=Math[_0x71b92b(0x185)](_0x5a1465[_0x71b92b(0x169)]/_0x5a1465[_0x71b92b(0x1b8)]*0x64),_0xd10043=document[_0x71b92b(0x153)](_0x71b92b(0x1c8));_0xd10043[_0x71b92b(0x1e1)]=_0x71b92b(0x13b),_0xd10043[_0x71b92b(0x20b)][_0x71b92b(0x13f)]=_0x5a1465[_0x71b92b(0x158)],_0xd10043[_0x71b92b(0x1f0)]=_0x71b92b(0x1aa)+_0x2e2934[_0x71b92b(0x1dc)](0x0,0x5)+_0x71b92b(0x148)+_0x5a1465['done']+_0x71b92b(0x183)+_0x5a1465[_0x71b92b(0x1b8)]+_0x71b92b(0x1b6)+_0x539c80+_0x71b92b(0x194),_0x477526[_0x71b92b(0x184)](_0xd10043);});}function openDetails(_0xfb51b6){const _0xfa8431=a3_0x4f3408;currentSession=_0xfb51b6;const _0x1a46e8=new Date(_0xfb51b6[_0xfa8431(0x181)]),_0x4764c6=_0x1a46e8[_0xfa8431(0x1a9)]('ru-RU',{'weekday':_0xfa8431(0x1e3),'day':'numeric','month':_0xfa8431(0x1e3)});document['getElementById']('detDate')[_0xfa8431(0x1c9)]=_0x4764c6[_0xfa8431(0x1c4)](0x0)['toUpperCase']()+_0x4764c6[_0xfa8431(0x21f)](0x1),document[_0xfa8431(0x213)](_0xfa8431(0x13c))['textContent']=_0xfb51b6[_0xfa8431(0x20e)]+_0xfa8431(0x189)+_0xfb51b6[_0xfa8431(0x182)],document[_0xfa8431(0x213)](_0xfa8431(0x218))[_0xfa8431(0x1c9)]=_0xfb51b6['note']||_0xfa8431(0x15a);const _0x460481=document[_0xfa8431(0x213)](_0xfa8431(0x1d1)),_0x50619b=document[_0xfa8431(0x213)](_0xfa8431(0x16f)),_0x471a7c=_0x50619b[_0xfa8431(0x1da)](_0xfa8431(0x1df)),_0x40af24=_0x50619b['querySelector']('.btn-reschedule'),_0x210396=document[_0xfa8431(0x213)](_0xfa8431(0x1ca));if(_0xfb51b6[_0xfa8431(0x1d2)]===_0xfa8431(0x13d))_0x460481[_0xfa8431(0x1c9)]=_0xfa8431(0x190),_0x460481[_0xfa8431(0x20b)]['color']='var(--acc-green)',_0x50619b[_0xfa8431(0x20b)][_0xfa8431(0x207)]=_0xfa8431(0x156);else{_0x460481[_0xfa8431(0x1c9)]=_0xfa8431(0x130),_0x460481['style'][_0xfa8431(0x158)]=_0xfa8431(0x1e7),_0x50619b['style'][_0xfa8431(0x207)]=_0xfa8431(0x211);const _0x56cc4e=new Date(_0xfb51b6[_0xfa8431(0x181)]+'T'+_0xfb51b6[_0xfa8431(0x20e)]),_0x27ca61=new Date(),_0x584bc0=(_0x56cc4e-_0x27ca61)/(0x3e8*0x3c*0x3c),_0x5d8351=coachProfiles[_0xfb51b6[_0xfa8431(0x21c)]]&&coachProfiles[_0xfb51b6[_0xfa8431(0x21c)]][_0xfa8431(0x140)]?parseInt(coachProfiles[_0xfb51b6['coachId']][_0xfa8431(0x140)]):0x18;if(_0x5d8351===0x0||_0x584bc0>=_0x5d8351)_0x471a7c['style'][_0xfa8431(0x207)]=_0xfa8431(0x211),_0x40af24['style'][_0xfa8431(0x207)]=_0xfa8431(0x211),_0x210396['style'][_0xfa8431(0x207)]='none';else{_0x471a7c[_0xfa8431(0x20b)][_0xfa8431(0x207)]=_0xfa8431(0x156),_0x40af24[_0xfa8431(0x20b)][_0xfa8431(0x207)]=_0xfa8431(0x156),_0x210396[_0xfa8431(0x20b)][_0xfa8431(0x207)]='block';let _0xbb4692=_0x5d8351===0x0?_0xfa8431(0x1f1):_0xfa8431(0x152)+_0x5d8351+_0xfa8431(0x1c6);_0x210396[_0xfa8431(0x1c9)]=_0xfa8431(0x222)+_0xbb4692+_0xfa8431(0x15e);}}document[_0xfa8431(0x213)]('overlay')[_0xfa8431(0x161)][_0xfa8431(0x165)](_0xfa8431(0x1a6)),document[_0xfa8431(0x213)](_0xfa8431(0x1d4))['classList'][_0xfa8431(0x165)]('open');}function closeAllSheets(){const _0x1eee8a=a3_0x4f3408;document[_0x1eee8a(0x213)](_0x1eee8a(0x138))['classList'][_0x1eee8a(0x15d)]('active'),document[_0x1eee8a(0x1bd)](_0x1eee8a(0x16e))[_0x1eee8a(0x219)](_0x21f0f9=>_0x21f0f9[_0x1eee8a(0x161)][_0x1eee8a(0x15d)](_0x1eee8a(0x170)));}function openSheet(_0x4185cd){const _0x27e70d=a3_0x4f3408;document[_0x27e70d(0x213)](_0x27e70d(0x138))[_0x27e70d(0x161)][_0x27e70d(0x165)](_0x27e70d(0x1a6)),document[_0x27e70d(0x213)](_0x4185cd)['classList'][_0x27e70d(0x165)]('open');}function getLocalDateStr(_0x35fb06){const _0x20e0ab=a3_0x4f3408,_0x4915d6=_0x35fb06['getFullYear'](),_0x5367a8=String(_0x35fb06[_0x20e0ab(0x173)]()+0x1)['padStart'](0x2,'0'),_0x4302d1=String(_0x35fb06['getDate']())['padStart'](0x2,'0');return _0x4915d6+'-'+_0x5367a8+'-'+_0x4302d1;}function a3_0x3f6e(){const _0x419ddf=['insertBefore','add','isArray','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','done','value','find','56wxMtam','data-date','.sheet','cancelContainer','open','addEventListener','keys','getMonth','px\x20-','#050505','setDate','DOMContentLoaded','disableVerticalSwipes','126RJjZrw','saveLocally','scroll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','left','stringify','2097342WWSFjV','setHeaderColor','dateStr','end','</span>\x20/\x20','appendChild','round','analyticsSheet','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','<div\x20class=\x22dch-day\x22>','\x20-\x20','search','getDay','toString','Unknown','.day-column','apply','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','all',':00</span>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stopPropagation','blocked-slot\x20stripe-bg','setAttribute','T23:59:59','rs-time-btn','#ff453a','getTime','ccText','px\x200px','scrollLeft','rgba(','router.html','gridColumns','1518aBXeDj','rescheduleSheet','clients','<span>','active','anStart','rsDatesTrack','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','3267064lSmNak','substring','top','setItem','test','anCustomDates','height','sort','startsWith','toLocaleString','planned','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','total','constructor','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','floor','clientId','querySelectorAll','Telegram','.day-col-header','backgroundColor','</div>','padStart','\x20–≤\x20','charAt','4631VWUByu','\x20—á.','getMinutes','div','textContent','cancelHint','error','ru-RU','get_slots','week','auto','ranges','detStatus','status','calc(','detailsSheet','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','1547556EbNsHo','getFullYear','getAttribute','</div><div\x20class=\x22rs-day-num\x22>','querySelector','matrixViewport','substr','anTotalStats','split','.btn-cancel','uc_client_list','className','today','long','data-day-idx','calendar','rs-date-chip','var(--acc-blue)','initData','numeric','join','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','visible','settings','(((.+)+)+)+$','v9.5-CLIENT-ANALYTICS','innerHTML','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','analyticsList','syncLoad','POST','daysHeaderTrack','exceptions','</div><div\x20class=\x22dch-num\x22>','max','<div\x20class=\x22rs-day-name\x22>','WebApp','timeColumn','href','map','ccTitle','setBackgroundColor','ccYesBtn','push','getItem','parse','user','timeLineBadge','offsetLeft','display','rsSlotsGrid','fontWeight','cid','style','log','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','start','day-off-overlay\x20stripe-bg','applyData','block','.period-switch\x20.p-btn','getElementById','pattern','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getDate','BackButton','detNote','forEach','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','scrollTo','coachId','coach_profiles','firstChild','slice','143xkOPhO','600','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','rgba(10,\x20132,\x20255,\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','.day-col-header[data-date=\x22','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','uc_client_sessions','setMonth','loadLocal','30WerZhf','min','uc_client_settings','headerMonth','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','createDocumentFragment','Error\x20setting\x20back\x20button:','anPercent','onclick','flex','strokeDashoffset','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','overlay','scrollTop','data','client-stat-card','detTime','completed','month','borderLeftColor','cancel_window','setHours','anEnd','now','show','colIndex','day-column\x20','button','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','T00:00:00','json','#0a84ff','47243rGqfyB','then','4098560CIzkkQ','\x20status-completed','initDataUnsafe','backgroundPosition','–∑–∞\x20','createElement','reschedule','toast','none','client_load','color','location','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.rs-date-chip','remove','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','filter','125432nTCUKw','classList','sid','ready'];a3_0x3f6e=function(){return _0x419ddf;};return a3_0x3f6e();}function getStartOfWeek(_0x3489e6){const _0x49b277=a3_0x4f3408,_0x7971dd=new Date(_0x3489e6),_0x1410e6=_0x7971dd['getDay'](),_0x4a697c=_0x7971dd[_0x49b277(0x216)]()-_0x1410e6+(_0x1410e6===0x0?-0x6:0x1);return _0x7971dd[_0x49b277(0x176)](_0x4a697c),_0x7971dd['setHours'](0x0,0x0,0x0,0x0),_0x7971dd;}function scrollToToday(){const _0x19946c=getLocalDateStr(new Date());setTimeout(()=>{const _0x50e99c=a3_0x345a,_0x37aa15=document[_0x50e99c(0x1da)](_0x50e99c(0x225)+_0x19946c+'\x22]');if(_0x37aa15){const _0x3cb047=document[_0x50e99c(0x213)](_0x50e99c(0x1db)),_0x4b286a=_0x37aa15[_0x50e99c(0x206)]-_0x3cb047['clientWidth']/0x2+_0x37aa15['offsetWidth']/0x2;_0x3cb047[_0x50e99c(0x21b)]({'left':_0x4b286a,'behavior':_0x50e99c(0x1cf)}),_0x3cb047[_0x50e99c(0x139)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x13278a=a3_0x4f3408,_0xceb09e=new Date(),_0x5d7b05=document['getElementById']('globalTimeLine'),_0x3ac6f6=document[_0x13278a(0x213)](_0x13278a(0x205)),_0x29df9c=(_0xceb09e['getHours']()*0x3c+_0xceb09e[_0x13278a(0x1c7)]())/0x3c*GRID_H;_0x5d7b05['style'][_0x13278a(0x1ad)]=_0x29df9c+'px',_0x5d7b05['style'][_0x13278a(0x207)]=_0x13278a(0x211),_0x3ac6f6[_0x13278a(0x20b)]['top']=_0x29df9c+'px',_0x3ac6f6['style'][_0x13278a(0x207)]=_0x13278a(0x211),_0x3ac6f6[_0x13278a(0x1c9)]=String(_0xceb09e['getHours']())[_0x13278a(0x1c2)](0x2,'0')+':'+String(_0xceb09e[_0x13278a(0x1c7)]())['padStart'](0x2,'0');}function onScroll(){const _0xa7b695=a3_0x4f3408,_0x522985=document['getElementById'](_0xa7b695(0x1db)),_0x144b05=document['querySelectorAll'](_0xa7b695(0x1bf));for(let _0x3c609b of _0x144b05)if(_0x3c609b['offsetLeft']>=_0x522985[_0xa7b695(0x19e)]){const _0x1bc138=new Date(_0x3c609b[_0xa7b695(0x1d8)](_0xa7b695(0x16d)));document['getElementById'](_0xa7b695(0x12f))[_0xa7b695(0x1c9)]=_0x1bc138[_0xa7b695(0x1b4)]('ru',{'month':_0xa7b695(0x1e3)})['toUpperCase']()+'\x20'+_0x1bc138[_0xa7b695(0x1d7)]();break;}}function showToast(_0x1baacb){const _0x3beb5a=a3_0x4f3408,_0x2b25ed=document[_0x3beb5a(0x213)](_0x3beb5a(0x155));_0x2b25ed[_0x3beb5a(0x1c9)]=_0x1baacb,_0x2b25ed[_0x3beb5a(0x161)][_0x3beb5a(0x165)](_0x3beb5a(0x144)),setTimeout(()=>_0x2b25ed[_0x3beb5a(0x161)][_0x3beb5a(0x15d)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x4bd01f=a3_0x4f3408,_0x77e67c=document['getElementById']('matrixViewport'),_0x4737e5=_0x77e67c['scrollLeft'],_0x3244da=_0x77e67c['scrollWidth'],_0x308214=_0x77e67c['clientWidth'];if(_0x3244da-(_0x4737e5+_0x308214)<0x12c){const _0x2f790e=endOffset;endOffset+=0xe,renderDayRange(_0x2f790e+0x1,endOffset),reRenderBlocks();}if(_0x4737e5<0x12c){const _0x585c8c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x585c8c-0x1),_0x77e67c[_0x4bd01f(0x19e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x21baad,_0x497529){const _0x5e8d75=a3_0x4f3408,_0x1e6d45=document['getElementById'](_0x5e8d75(0x1f5)),_0x4cd960=document[_0x5e8d75(0x213)]('gridColumns'),_0x3f1522=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5c1bec=new Date();_0x5c1bec[_0x5e8d75(0x141)](0x0,0x0,0x0,0x0);const _0x587b8a=getLocalDateStr(new Date()),_0x5cbe2e=document[_0x5e8d75(0x131)](),_0x4510e5=document[_0x5e8d75(0x131)]();for(let _0x3533cd=_0x21baad;_0x3533cd<=_0x497529;_0x3533cd++){const _0x20e12f=new Date(_0x5c1bec);_0x20e12f[_0x5e8d75(0x176)](_0x20e12f[_0x5e8d75(0x216)]()+_0x3533cd);const _0x2fc73c=getLocalDateStr(_0x20e12f);let _0x1be814=_0x20e12f[_0x5e8d75(0x18b)]()-0x1;if(_0x1be814===-0x1)_0x1be814=0x6;const _0x581a20=_0x2fc73c===_0x587b8a,_0x49738f=document[_0x5e8d75(0x153)](_0x5e8d75(0x1c8));_0x49738f['className']='day-col-header\x20'+(_0x581a20?_0x5e8d75(0x1e2):''),_0x49738f['setAttribute'](_0x5e8d75(0x16d),_0x2fc73c),_0x49738f['innerHTML']=_0x5e8d75(0x188)+_0x3f1522[_0x1be814]+_0x5e8d75(0x1f7)+_0x20e12f[_0x5e8d75(0x216)]()+_0x5e8d75(0x1c1),_0x5cbe2e['appendChild'](_0x49738f);const _0x45e8ea=document[_0x5e8d75(0x153)]('div');_0x45e8ea[_0x5e8d75(0x1e1)]=_0x5e8d75(0x146)+(_0x581a20?_0x5e8d75(0x1e2):''),_0x45e8ea['setAttribute'](_0x5e8d75(0x16d),_0x2fc73c),_0x45e8ea['setAttribute'](_0x5e8d75(0x1e4),_0x1be814),_0x4510e5[_0x5e8d75(0x184)](_0x45e8ea);}_0x1e6d45[_0x5e8d75(0x164)](_0x5cbe2e,_0x1e6d45[_0x5e8d75(0x21e)]),_0x4cd960[_0x5e8d75(0x164)](_0x4510e5,_0x4cd960[_0x5e8d75(0x1da)](_0x5e8d75(0x18e)));}function hexToRgba(_0x3a10d1,_0x3df3b7){const _0x12b483=a3_0x4f3408;let _0x9d624a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x12b483(0x1af)](_0x3a10d1))return _0x9d624a=_0x3a10d1[_0x12b483(0x1ac)](0x1)[_0x12b483(0x1de)](''),_0x9d624a['length']==0x3&&(_0x9d624a=[_0x9d624a[0x0],_0x9d624a[0x0],_0x9d624a[0x1],_0x9d624a[0x1],_0x9d624a[0x2],_0x9d624a[0x2]]),_0x9d624a='0x'+_0x9d624a[_0x12b483(0x1ea)](''),_0x12b483(0x19f)+[_0x9d624a>>0x10&0xff,_0x9d624a>>0x8&0xff,_0x9d624a&0xff][_0x12b483(0x1ea)](',')+','+_0x3df3b7+')';return _0x12b483(0x223)+_0x3df3b7+')';}let confirmResolver=null;function showCustomConfirm(_0x4a140c,_0x42a3f8,_0x4df58f=!![]){const _0x963421=a3_0x4f3408;document[_0x963421(0x213)](_0x963421(0x1fe))[_0x963421(0x1c9)]=_0x4a140c,document[_0x963421(0x213)](_0x963421(0x19c))['textContent']=_0x42a3f8;const _0x3c3fb3=document[_0x963421(0x213)](_0x963421(0x200));return _0x4df58f?(_0x3c3fb3[_0x963421(0x20b)][_0x963421(0x158)]=_0x963421(0x19a),_0x3c3fb3[_0x963421(0x20b)][_0x963421(0x209)]=_0x963421(0x221)):(_0x3c3fb3[_0x963421(0x20b)][_0x963421(0x158)]=_0x963421(0x14b),_0x3c3fb3[_0x963421(0x20b)]['fontWeight']=_0x963421(0x221)),new Promise(_0x2eeb9f=>{const _0x25429c=_0x963421;confirmResolver=_0x2eeb9f,document['getElementById']('customConfirm')[_0x25429c(0x161)][_0x25429c(0x165)](_0x25429c(0x1ec));});}function resolveCustomConfirm(_0x57a16b){const _0x29468f=a3_0x4f3408;document[_0x29468f(0x213)]('customConfirm')[_0x29468f(0x161)][_0x29468f(0x15d)](_0x29468f(0x1ec));if(confirmResolver)confirmResolver(_0x57a16b);}async function tryCancelCurrentSession(){const _0x4253c4=a3_0x4f3408;if(!currentSession)return;const _0x55d609=await showCustomConfirm(_0x4253c4(0x226),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x55d609)return;const _0x5ec2d8=currentSession;closeAllSheets(),sessions=sessions[_0x4253c4(0x15f)](_0x230623=>_0x230623['id']!==_0x5ec2d8['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x4253c4(0x143)]();try{const _0x472e48=window[_0x4253c4(0x1be)]?.[_0x4253c4(0x1fa)],_0x1b4abd=await fetch(API_URL,{'method':'POST','body':JSON[_0x4253c4(0x17e)]({'action':'client_cancel','init_data':_0x472e48?.[_0x4253c4(0x1e8)]||'','coachId':_0x5ec2d8[_0x4253c4(0x21c)],'dateStr':_0x5ec2d8[_0x4253c4(0x181)],'sessionId':_0x5ec2d8['id']})});if(_0x1b4abd['ok'])DataManager[_0x4253c4(0x17a)]();}catch(_0x50c2af){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2c1636=a3_0x4f3408;if(!currentSession)return;document[_0x2c1636(0x213)](_0x2c1636(0x1d4))['classList'][_0x2c1636(0x15d)](_0x2c1636(0x170)),document['getElementById'](_0x2c1636(0x1a3))[_0x2c1636(0x161)]['add']('open');const _0x4e9cac=document['getElementById'](_0x2c1636(0x1a8)),_0x1c4599=document[_0x2c1636(0x213)](_0x2c1636(0x208));_0x4e9cac[_0x2c1636(0x1f0)]='',_0x1c4599[_0x2c1636(0x1f0)]=_0x2c1636(0x187);const [_0x3c2d42,_0x3bb01b]=currentSession['start'][_0x2c1636(0x1de)](':')[_0x2c1636(0x1fd)](Number),[_0x44a775,_0x39a71b]=currentSession[_0x2c1636(0x182)]['split'](':')[_0x2c1636(0x1fd)](Number),_0x929c50=_0x44a775*0x3c+_0x39a71b-(_0x3c2d42*0x3c+_0x3bb01b);try{const _0x2fb7ac=window['Telegram']?.[_0x2c1636(0x1fa)],_0x5364b7=await fetch(API_URL,{'method':_0x2c1636(0x1f4),'body':JSON['stringify']({'action':_0x2c1636(0x1cd),'coachId':currentSession[_0x2c1636(0x21c)],'duration':_0x929c50,'init_data':_0x2fb7ac?.[_0x2c1636(0x1e8)]||'','excludeSessionId':currentSession['id']})}),_0x3c0a3b=await _0x5364b7[_0x2c1636(0x14a)]();_0x3c0a3b['ok']&&_0x3c0a3b[_0x2c1636(0x13a)]?(availableSlotsCache=_0x3c0a3b[_0x2c1636(0x13a)],renderRescheduleDates()):_0x1c4599[_0x2c1636(0x1f0)]=_0x2c1636(0x17c);}catch(_0x4c3359){_0x1c4599[_0x2c1636(0x1f0)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x5dfaa4=a3_0x4f3408,_0x18ab6b=document['getElementById'](_0x5dfaa4(0x1a8));_0x18ab6b['innerHTML']='';const _0x9ae834=Object[_0x5dfaa4(0x172)](availableSlotsCache)[_0x5dfaa4(0x1b2)](),_0x2657aa=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x9ae834[_0x5dfaa4(0x168)]===0x0){document[_0x5dfaa4(0x213)]('rsSlotsGrid')[_0x5dfaa4(0x1f0)]=_0x5dfaa4(0x1eb);return;}_0x9ae834[_0x5dfaa4(0x219)]((_0x158286,_0x136c44)=>{const _0x4f517e=_0x5dfaa4,_0x5e20e3=new Date(_0x158286),_0xe96334=_0x2657aa[_0x5e20e3[_0x4f517e(0x18b)]()],_0x3df7ef=_0x5e20e3[_0x4f517e(0x216)](),_0x2cafd7=document[_0x4f517e(0x153)](_0x4f517e(0x1c8));_0x2cafd7['className']=_0x4f517e(0x1e6);if(_0x136c44===0x0)_0x2cafd7[_0x4f517e(0x161)][_0x4f517e(0x165)]('active');_0x2cafd7[_0x4f517e(0x1f0)]=_0x4f517e(0x1f9)+_0xe96334+_0x4f517e(0x1d9)+_0x3df7ef+_0x4f517e(0x1c1),_0x2cafd7[_0x4f517e(0x134)]=()=>selectRsDate(_0x158286,_0x2cafd7),_0x18ab6b[_0x4f517e(0x184)](_0x2cafd7);}),selectRsDate(_0x9ae834[0x0],_0x18ab6b[_0x5dfaa4(0x21e)]);}function selectRsDate(_0x3851c8,_0x2be14f){const _0x5e4b1b=a3_0x4f3408;selectedRsDate=_0x3851c8,document[_0x5e4b1b(0x1bd)](_0x5e4b1b(0x15c))[_0x5e4b1b(0x219)](_0xbdc700=>_0xbdc700['classList'][_0x5e4b1b(0x15d)](_0x5e4b1b(0x1a6)));if(_0x2be14f)_0x2be14f[_0x5e4b1b(0x161)][_0x5e4b1b(0x165)](_0x5e4b1b(0x1a6));const _0x1b407d=document['getElementById']('rsSlotsGrid');_0x1b407d['innerHTML']='';const _0x14c54d=availableSlotsCache[_0x3851c8]||[];if(_0x14c54d['length']===0x0){_0x1b407d[_0x5e4b1b(0x1f0)]=_0x5e4b1b(0x17c);return;}_0x14c54d['forEach'](_0x7ec68a=>{const _0x3c61a9=_0x5e4b1b,_0x4fa7f9=document[_0x3c61a9(0x153)](_0x3c61a9(0x147));_0x4fa7f9['className']=_0x3c61a9(0x199),_0x4fa7f9['textContent']=_0x7ec68a,_0x4fa7f9[_0x3c61a9(0x134)]=()=>confirmReschedule(_0x7ec68a),_0x1b407d[_0x3c61a9(0x184)](_0x4fa7f9);});}async function confirmReschedule(_0x32f577){const _0xdb846=a3_0x4f3408,_0x2b4801=new Date(selectedRsDate),_0x59b2c0=_0x2b4801['toLocaleDateString'](_0xdb846(0x1cc),{'day':_0xdb846(0x1e9),'month':_0xdb846(0x1e3)}),_0x3630ad=await showCustomConfirm(_0xdb846(0x1d5),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x59b2c0+_0xdb846(0x1c3)+_0x32f577+'?',![]);if(!_0x3630ad)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0xdb846(0x143)]();const _0x15c24b=currentSession[_0xdb846(0x181)],_0x5837f2=currentSession['id'],[_0x57a39,_0x139317]=currentSession['start'][_0xdb846(0x1de)](':')[_0xdb846(0x1fd)](Number),[_0x449156,_0x113070]=currentSession[_0xdb846(0x182)][_0xdb846(0x1de)](':')[_0xdb846(0x1fd)](Number),_0x3fbded=_0x449156*0x3c+_0x113070-(_0x57a39*0x3c+_0x139317),[_0x20cddf,_0x3d8fe1]=_0x32f577[_0xdb846(0x1de)](':')[_0xdb846(0x1fd)](Number),_0x142bc7=_0x20cddf*0x3c+_0x3d8fe1+_0x3fbded,_0x16277b=Math[_0xdb846(0x1bb)](_0x142bc7/0x3c),_0x5b85fd=_0x142bc7%0x3c,_0x1d22e1=String(_0x16277b)[_0xdb846(0x1c2)](0x2,'0')+':'+String(_0x5b85fd)['padStart'](0x2,'0'),_0x1519f4=sessions['findIndex'](_0x5e3cb5=>_0x5e3cb5['id']===_0x5837f2);_0x1519f4!==-0x1&&(sessions[_0x1519f4]['dateStr']=selectedRsDate,sessions[_0x1519f4][_0xdb846(0x20e)]=_0x32f577,sessions[_0x1519f4]['end']=_0x1d22e1,reRenderBlocks());try{const _0xa7af72=window[_0xdb846(0x1be)]?.[_0xdb846(0x1fa)],_0x555324=await fetch(API_URL,{'method':_0xdb846(0x1f4),'body':JSON[_0xdb846(0x17e)]({'action':_0xdb846(0x154),'init_data':_0xa7af72?.['initData']||'','oldSessionId':_0x5837f2,'oldDate':_0x15c24b,'newDate':selectedRsDate,'newTime':_0x32f577,'coachId':currentSession['coachId']})}),_0x9f4fc9=await _0x555324[_0xdb846(0x14a)]();!_0x9f4fc9['ok']?(showToast(_0xdb846(0x21a)),DataManager[_0xdb846(0x1f3)]()):(showToast(_0xdb846(0x1b7)),DataManager[_0xdb846(0x17a)]());}catch(_0x38ed4a){showToast(_0xdb846(0x20d));}}document[a3_0x4f3408(0x171)](a3_0x4f3408(0x177),init);