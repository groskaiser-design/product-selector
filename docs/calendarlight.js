const a3_0xb7ae98=a3_0x6c35;(function(_0xf0e1f9,_0x23af7e){const _0x4589e2=a3_0x6c35,_0x58d916=_0xf0e1f9();while(!![]){try{const _0x2c7b67=-parseInt(_0x4589e2(0x1e5))/0x1*(-parseInt(_0x4589e2(0x1d5))/0x2)+parseInt(_0x4589e2(0x1ac))/0x3*(-parseInt(_0x4589e2(0x21f))/0x4)+parseInt(_0x4589e2(0x1f5))/0x5*(-parseInt(_0x4589e2(0x251))/0x6)+-parseInt(_0x4589e2(0x230))/0x7+parseInt(_0x4589e2(0x1fa))/0x8+-parseInt(_0x4589e2(0x1d2))/0x9+-parseInt(_0x4589e2(0x1dd))/0xa*(-parseInt(_0x4589e2(0x1df))/0xb);if(_0x2c7b67===_0x23af7e)break;else _0x58d916['push'](_0x58d916['shift']());}catch(_0x41d57c){_0x58d916['push'](_0x58d916['shift']());}}}(a3_0x2025,0x3ebe7));function a3_0x2025(){const _0x3036aa=['\x20–∏–∑\x20','user','rs-time-btn','data-date','\x20status-completed','.day-col-header[data-date=\x22','week','className','setHours','now','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','dateStr','–û—Ç–º–µ–Ω–µ–Ω–æ','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','keys','#050505','expand','findIndex','constructor','Error\x20setting\x20back\x20button:','detStatus','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','visible','pattern','anDonutCircle','floor','innerHTML','#ff453a','getMinutes','2271ogjQaK','onclick','detailsSheet','status','reschedule','offsetLeft','analyticsSheet','day-off-overlay\x20stripe-bg','scrollLeft','.day-column','sid','%\x20+\x202px)','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clientWidth','today','loadLocal','padStart','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','matrixViewport','coachId','sort','charAt','start','anEnd','left','add','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','remove','log','offClick','addEventListener','setItem','Critical\x20TMA\x20Error:','toLocaleDateString','anStart','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','show','timeLineBadge','4033782zpPLuE','button','planned','370JHSrMl','</div>','\x20–≤\x20','color','setMonth','</span>\x20/\x20','numeric','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','20TpqaOe','var(--acc-green)','3336157PdRArb','</div><div\x20class=\x22dch-num\x22>','rsSlotsGrid','cancel_window','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','clients','2153mrHtVT','getFullYear','offsetWidth','filter','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','disableVerticalSwipes','appendChild','saveLocally','getItem','.rs-date-chip','initDataUnsafe','client-stat-card','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','682435OsPTwl','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','600','getMonth','3897536JLGjzu','#0a84ff','height','getDate','uc_client_settings','data-day-idx','customConfirm','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','(((.+)+)+)+$','px\x20-','DOMContentLoaded','initData','seriesId','textContent','backgroundPosition','stopPropagation','total','substr','max','forEach','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','stringify','blocked-range-part\x20stripe-bg','applyData','backgroundColor','parse','day-col-header\x20','ru-RU','daysHeaderTrack','<div\x20class=\x22rs-day-name\x22>','getAttribute','analyticsList','toUpperCase','entries','scroll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','WebApp','1348AwmtqU','test','detNote','active','completed','getTime','href','value','display','apply','client_cancel','map','getElementById','getHours','cancelled','gridColumns','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','2766946wmMzon','rgba(10,\x20132,\x20255,\x20','width','open','json','Error\x20setting\x20color:','querySelector','none','length','timeColumn','block','auto','min','toLocaleString','day-column\x20','syncLoad','Telegram','T00:00:00','coach_profiles','error','blocked-slot\x20stripe-bg','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','var(--acc-blue)','style','BackButton','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','insertBefore','colIndex','isArray','search','setDate','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x20—á.','6JJVTRm','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','setAttribute','split','setBackgroundColor','v9.5-CLIENT-ANALYTICS','uc_client_list','exceptions','ready','detDate','setHeaderColor','settings','getDay','globalTimeLine','month','strokeDashoffset','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','overlay','top','.btn-cancel','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','then','zIndex','round','ranges','.day-col-header','.period-switch\x20.p-btn','get_slots','borderLeftColor','time-label','long','div','data','ccTitle','fontWeight','rs-date-chip','rescheduleSheet','createElement','toString',':00</span>','createDocumentFragment','POST','mini','querySelectorAll','end','detTime','onClick','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','client_load','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','location','rsDatesTrack','%\x20-\x204px)','scrollWidth','done','<div\x20class=\x22dch-day\x22>','\x20-\x20','calendar','classList'];a3_0x2025=function(){return _0x3036aa;};return a3_0x2025();}const APP_VERSION=a3_0xb7ae98(0x257),API_URL=a3_0xb7ae98(0x1f1),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0xb7ae98(0x1fe),KEY_CLIENTS=a3_0xb7ae98(0x258);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xb7ae98(0x194),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x29ee52=a3_0xb7ae98,_0x1adba0=(function(){let _0x94299f=!![];return function(_0x401753,_0x2abd14){const _0x3830ca=_0x94299f?function(){const _0x5a3284=a3_0x6c35;if(_0x2abd14){const _0x76f45d=_0x2abd14[_0x5a3284(0x228)](_0x401753,arguments);return _0x2abd14=null,_0x76f45d;}}:function(){};return _0x94299f=![],_0x3830ca;};}()),_0x2e3704=_0x1adba0(this,function(){const _0x24dff3=a3_0x6c35;return _0x2e3704[_0x24dff3(0x177)]()[_0x24dff3(0x24d)](_0x24dff3(0x202))['toString']()[_0x24dff3(0x1a1)](_0x2e3704)[_0x24dff3(0x24d)](_0x24dff3(0x202));});_0x2e3704();try{const _0x5dbae4=window[_0x29ee52(0x240)]?.[_0x29ee52(0x21e)];if(!_0x5dbae4)return;_0x5dbae4[_0x29ee52(0x25a)](),_0x5dbae4[_0x29ee52(0x19f)]();try{_0x5dbae4[_0x29ee52(0x25c)](_0x29ee52(0x19e)),_0x5dbae4[_0x29ee52(0x256)]&&_0x5dbae4[_0x29ee52(0x256)](_0x29ee52(0x19e));}catch(_0x263d49){console[_0x29ee52(0x1c8)](_0x29ee52(0x235),_0x263d49);}try{_0x5dbae4[_0x29ee52(0x248)]&&(_0x5dbae4[_0x29ee52(0x248)][_0x29ee52(0x1d0)](),_0x5dbae4['BackButton'][_0x29ee52(0x1c9)](),_0x5dbae4[_0x29ee52(0x248)][_0x29ee52(0x17f)](function(){const _0x485335=_0x29ee52;window[_0x485335(0x185)][_0x485335(0x225)]='router.html';}));}catch(_0x5a1146){console[_0x29ee52(0x1c8)](_0x29ee52(0x1a2),_0x5a1146);}try{if(_0x5dbae4[_0x29ee52(0x1ea)])_0x5dbae4['disableVerticalSwipes']();}catch(_0xe49748){}}catch(_0x4979a2){console[_0x29ee52(0x243)](_0x29ee52(0x1cc),_0x4979a2);}}());function isAdmin(){const _0x25bced=a3_0xb7ae98;try{const _0x154ea9=Number(window[_0x25bced(0x240)]?.[_0x25bced(0x21e)]?.[_0x25bced(0x1ef)]?.[_0x25bced(0x18f)]?.['id']);return _0x154ea9===0xbaf7174;}catch(_0x25d39d){return![];}}const DataManager={'saveLocally'(){const _0x5d6bdf=a3_0xb7ae98;try{localStorage[_0x5d6bdf(0x1cb)](KEY_SESSIONS,JSON[_0x5d6bdf(0x20f)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1f7586){}},'loadLocal'(){const _0x4e0119=a3_0xb7ae98;try{const _0x4b6223=localStorage[_0x4e0119(0x1ed)](KEY_SESSIONS);if(_0x4b6223)sessions=JSON[_0x4e0119(0x213)](_0x4b6223);const _0x19e71e=localStorage[_0x4e0119(0x1ed)](KEY_CLIENTS);if(_0x19e71e)clients=JSON[_0x4e0119(0x213)](_0x19e71e);const _0x112c08=localStorage[_0x4e0119(0x1ed)](KEY_SETTINGS);if(_0x112c08){const _0x963050=JSON[_0x4e0119(0x213)](_0x112c08);if(_0x963050['pattern'])availabilityPattern=_0x963050[_0x4e0119(0x1a6)];if(_0x963050[_0x4e0119(0x26a)])specialRanges=_0x963050['ranges'];if(_0x963050[_0x4e0119(0x259)])dateExceptions=_0x963050[_0x4e0119(0x259)];}}catch(_0x19997c){}},async 'syncLoad'(){const _0x2520be=a3_0xb7ae98,_0x8334c6=new Date(),_0x3f9f1f=_0x8334c6[_0x2520be(0x1e6)]()+'-'+String(_0x8334c6[_0x2520be(0x1f9)]()+0x1)[_0x2520be(0x1bc)](0x2,'0'),_0x1d5955=new Date(_0x8334c6);_0x1d5955[_0x2520be(0x1d9)](_0x8334c6['getMonth']()+0x1);const _0x58513f=_0x1d5955[_0x2520be(0x1e6)]()+'-'+String(_0x1d5955[_0x2520be(0x1f9)]()+0x1)[_0x2520be(0x1bc)](0x2,'0'),_0xf62249=Date[_0x2520be(0x197)]();try{const _0x9edfb5=window['Telegram']?.[_0x2520be(0x21e)],_0x18073c=_0x9edfb5?.[_0x2520be(0x205)]||'',[_0x57a24b,_0xaa1609]=await Promise['all']([fetch(API_URL,{'method':_0x2520be(0x17a),'body':JSON[_0x2520be(0x20f)]({'action':_0x2520be(0x181),'init_data':_0x18073c,'month_str':_0x3f9f1f})})[_0x2520be(0x267)](_0x6777f8=>_0x6777f8[_0x2520be(0x234)]()),fetch(API_URL,{'method':_0x2520be(0x17a),'body':JSON['stringify']({'action':'client_load','init_data':_0x18073c,'month_str':_0x58513f})})[_0x2520be(0x267)](_0x39aa98=>_0x39aa98['json']())]);if(lastUserActionTime>_0xf62249){console[_0x2520be(0x1c8)](_0x2520be(0x198));return;}if(_0x57a24b['ok'])this[_0x2520be(0x211)](_0x57a24b[_0x2520be(0x171)],_0x3f9f1f);if(_0xaa1609['ok'])this[_0x2520be(0x211)](_0xaa1609[_0x2520be(0x171)],_0x58513f);this['saveLocally']();}catch(_0xf3d3da){}},'applyData'(_0x3c2731,_0x2d7bdb){const _0x58d487=a3_0xb7ae98;if(!_0x3c2731)return;if(_0x3c2731['settings']){if(_0x3c2731[_0x58d487(0x25d)][_0x58d487(0x1a6)])availabilityPattern=_0x3c2731[_0x58d487(0x25d)][_0x58d487(0x1a6)];if(_0x3c2731[_0x58d487(0x25d)][_0x58d487(0x26a)])specialRanges=_0x3c2731['settings']['ranges'];if(_0x3c2731[_0x58d487(0x25d)][_0x58d487(0x259)])dateExceptions=_0x3c2731[_0x58d487(0x25d)]['exceptions'];}if(_0x3c2731['clients']&&Array[_0x58d487(0x24c)](_0x3c2731[_0x58d487(0x1e4)]))clients=_0x3c2731['clients'];_0x3c2731['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x3c2731[_0x58d487(0x242)]}),_0x3c2731['calendar']&&(sessions=sessions[_0x58d487(0x1e8)](_0x36cb71=>!_0x36cb71['dateStr']['startsWith'](_0x2d7bdb)),Object[_0x58d487(0x19d)](_0x3c2731[_0x58d487(0x18c)])[_0x58d487(0x20d)](_0x3bac3e=>{const _0x3eb54d=_0x58d487,_0xf5b4a6=_0x3c2731['calendar'][_0x3bac3e];_0xf5b4a6[_0x3eb54d(0x20d)](_0x14d70e=>{const _0x267125=_0x3eb54d;sessions[_0x267125(0x183)]({'id':_0x14d70e['i'],'clientId':_0x14d70e['c'],'coachId':_0x14d70e['cid'],'dateStr':_0x2d7bdb+'-'+_0x3bac3e[_0x267125(0x1bc)](0x2,'0'),'start':_0x14d70e['s'],'end':_0x14d70e['e'],'note':_0x14d70e['n']||'','status':_0x14d70e['st']||_0x267125(0x1d4),'seriesId':_0x14d70e[_0x267125(0x1b6)]});});})),reRenderBlocks();}};function init(){const _0x407be1=a3_0xb7ae98;DataManager[_0x407be1(0x1bb)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x407be1(0x22b)](_0x407be1(0x1be))[_0x407be1(0x1ca)](_0x407be1(0x21c),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x268d80=a3_0xb7ae98,_0x106c12=document[_0x268d80(0x22b)](_0x268d80(0x239)),_0x5d2cb5=document[_0x268d80(0x22b)]('timeLineBadge');_0x106c12[_0x268d80(0x1a9)]='',_0x106c12[_0x268d80(0x1eb)](_0x5d2cb5);for(let _0x5cd3d=0x0;_0x5cd3d<0x18;_0x5cd3d++){const _0x52d137=document['createElement'](_0x268d80(0x170));_0x52d137['className']=_0x268d80(0x16e);if(_0x5cd3d>0x0)_0x52d137[_0x268d80(0x1a9)]='<span>'+String(_0x5cd3d)[_0x268d80(0x1bc)](0x2,'0')+_0x268d80(0x178);_0x106c12[_0x268d80(0x1eb)](_0x52d137);}}function renderDayRange(_0x1d603b,_0x5b3394){const _0x4aa67e=a3_0xb7ae98,_0x334dee=document[_0x4aa67e(0x22b)]('daysHeaderTrack'),_0x52a4b0=document[_0x4aa67e(0x22b)](_0x4aa67e(0x22e)),_0x599224=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2809f4=new Date();_0x2809f4['setHours'](0x0,0x0,0x0,0x0);const _0x4cf82f=getLocalDateStr(new Date());for(let _0x3b8a15=_0x1d603b;_0x3b8a15<=_0x5b3394;_0x3b8a15++){const _0xfbc6d5=new Date(_0x2809f4);_0xfbc6d5[_0x4aa67e(0x24e)](_0xfbc6d5['getDate']()+_0x3b8a15);const _0x199935=getLocalDateStr(_0xfbc6d5);let _0x25f0f7=_0xfbc6d5[_0x4aa67e(0x25e)]()-0x1;if(_0x25f0f7===-0x1)_0x25f0f7=0x6;const _0x27c3ec=_0x199935===_0x4cf82f,_0x290c2a=document[_0x4aa67e(0x176)](_0x4aa67e(0x170));_0x290c2a['className']=_0x4aa67e(0x214)+(_0x27c3ec?_0x4aa67e(0x1ba):''),_0x290c2a['setAttribute'](_0x4aa67e(0x191),_0x199935),_0x290c2a[_0x4aa67e(0x1a9)]=_0x4aa67e(0x18a)+_0x599224[_0x25f0f7]+_0x4aa67e(0x1e0)+_0xfbc6d5[_0x4aa67e(0x1fd)]()+_0x4aa67e(0x1d6),_0x334dee[_0x4aa67e(0x1eb)](_0x290c2a);const _0x50522b=document[_0x4aa67e(0x176)]('div');_0x50522b[_0x4aa67e(0x195)]=_0x4aa67e(0x23e)+(_0x27c3ec?_0x4aa67e(0x1ba):''),_0x50522b[_0x4aa67e(0x254)](_0x4aa67e(0x191),_0x199935),_0x50522b['setAttribute'](_0x4aa67e(0x1ff),_0x25f0f7),_0x52a4b0[_0x4aa67e(0x1eb)](_0x50522b);}}function reRenderBlocks(){const _0x173a14=a3_0xb7ae98;document['querySelectorAll'](_0x173a14(0x1b5))['forEach'](_0x48628a=>{const _0x463dc1=_0x173a14;_0x48628a[_0x463dc1(0x17c)](_0x463dc1(0x24f))[_0x463dc1(0x20d)](_0x3861d0=>_0x3861d0[_0x463dc1(0x1c7)]());const _0xfd2909=_0x48628a[_0x463dc1(0x218)](_0x463dc1(0x191)),_0x1edc36=parseInt(_0x48628a[_0x463dc1(0x218)]('data-day-idx')),_0x3e03ee=Math[_0x463dc1(0x269)](_0x48628a[_0x463dc1(0x1b1)]);(availabilityPattern[_0x1edc36]||[])[_0x463dc1(0x20d)](_0x30d568=>{const _0x281726=_0x463dc1,_0x5449aa=document['createElement'](_0x281726(0x170));_0x5449aa[_0x281726(0x195)]=_0x281726(0x244),_0x5449aa['style'][_0x281726(0x264)]=_0x30d568*GRID_H+'px',_0x5449aa[_0x281726(0x247)]['backgroundPosition']='-'+_0x3e03ee+_0x281726(0x203)+_0x30d568*GRID_H+'px',_0x48628a[_0x281726(0x1eb)](_0x5449aa);});if(specialRanges[_0x463dc1(0x238)]>0x0){const _0x35136f=new Date(_0xfd2909+_0x463dc1(0x241))['getTime'](),_0x2723c9=new Date(_0xfd2909+'T23:59:59')[_0x463dc1(0x224)]();specialRanges[_0x463dc1(0x20d)](_0x442bdb=>{const _0x168a8b=_0x463dc1,_0x16b240=new Date(_0x442bdb[_0x168a8b(0x1c2)])[_0x168a8b(0x224)](),_0x42e984=new Date(_0x442bdb[_0x168a8b(0x17d)])[_0x168a8b(0x224)](),_0x44c385=Math['max'](_0x35136f,_0x16b240),_0x1e60a4=Math[_0x168a8b(0x23c)](_0x2723c9,_0x42e984);if(_0x44c385<_0x1e60a4){const _0x88859c=(_0x44c385-_0x35136f)/0x36ee80*GRID_H,_0x559beb=(_0x1e60a4-_0x44c385)/0x36ee80*GRID_H,_0x1b7197=document[_0x168a8b(0x176)](_0x168a8b(0x170));_0x559beb>=23.5*GRID_H?(_0x1b7197[_0x168a8b(0x195)]=_0x168a8b(0x1b3),_0x1b7197[_0x168a8b(0x247)][_0x168a8b(0x208)]='-'+_0x3e03ee+'px\x200px'):(_0x1b7197[_0x168a8b(0x195)]=_0x168a8b(0x210),_0x1b7197[_0x168a8b(0x247)]['top']=_0x88859c+'px',_0x1b7197[_0x168a8b(0x247)][_0x168a8b(0x1fc)]=_0x559beb+'px',_0x1b7197[_0x168a8b(0x247)]['backgroundPosition']='-'+_0x3e03ee+_0x168a8b(0x203)+_0x88859c+'px'),_0x48628a[_0x168a8b(0x1eb)](_0x1b7197);}});}renderEventsForColumn(_0x48628a,_0xfd2909);});}function renderEventsForColumn(_0xd8c605,_0x3d5974){const _0x364279=a3_0xb7ae98,_0x3d1b9a=sessions[_0x364279(0x1e8)](_0x45d800=>_0x45d800['dateStr']===_0x3d5974),_0x3c4611=_0x3d1b9a['map'](_0x5cf641=>{const _0xf42c2f=_0x364279,[_0x431f3d,_0x20f987]=_0x5cf641[_0xf42c2f(0x1c2)]['split'](':')[_0xf42c2f(0x22a)](Number),[_0x48fb93,_0x787065]=_0x5cf641[_0xf42c2f(0x17d)]['split'](':')[_0xf42c2f(0x22a)](Number);return{'data':_0x5cf641,'start':_0x431f3d*0x3c+_0x20f987,'end':_0x48fb93*0x3c+_0x787065,'colIndex':0x0};});_0x3c4611[_0x364279(0x1c0)]((_0x1d7c57,_0xe81dba)=>_0x1d7c57[_0x364279(0x1c2)]-_0xe81dba[_0x364279(0x1c2)]||_0xe81dba[_0x364279(0x17d)]-_0xe81dba['start']-(_0x1d7c57[_0x364279(0x17d)]-_0x1d7c57[_0x364279(0x1c2)]));const _0x42cf88=[];_0x3c4611[_0x364279(0x20d)](_0x50cacb=>{const _0x13a888=_0x364279;let _0x5ce634=![];for(let _0x42e81c=0x0;_0x42e81c<_0x42cf88[_0x13a888(0x238)];_0x42e81c++){const _0x281071=_0x42cf88[_0x42e81c];if(_0x50cacb[_0x13a888(0x1c2)]>=_0x281071[_0x281071[_0x13a888(0x238)]-0x1][_0x13a888(0x17d)]){_0x281071[_0x13a888(0x183)](_0x50cacb),_0x50cacb['colIndex']=_0x42e81c,_0x5ce634=!![];break;}}!_0x5ce634&&(_0x42cf88[_0x13a888(0x183)]([_0x50cacb]),_0x50cacb[_0x13a888(0x24b)]=_0x42cf88[_0x13a888(0x238)]-0x1);}),_0x3c4611['forEach'](_0x155e23=>{const _0x1d7516=_0x364279;let _0x21a61a=0x0;_0x3c4611['forEach'](_0x2db52e=>{const _0xcf135=a3_0x6c35;if(Math[_0xcf135(0x20c)](_0x155e23[_0xcf135(0x1c2)],_0x2db52e[_0xcf135(0x1c2)])<Math[_0xcf135(0x23c)](_0x155e23[_0xcf135(0x17d)],_0x2db52e[_0xcf135(0x17d)])&&_0x2db52e[_0xcf135(0x24b)]>_0x21a61a)_0x21a61a=_0x2db52e['colIndex'];});const _0x3e02bb=_0x21a61a+0x1,_0x322305=0x64/_0x3e02bb,_0x3fcbca=_0x155e23['colIndex']*_0x322305,_0x3831e6=document['createElement']('div'),_0xb8218c=_0x155e23[_0x1d7516(0x171)];let _0x29390e=_0x1d7516(0x1fb);if(clients&&clients['length']>0x0){const _0x5acba1=clients['find'](_0x2df511=>String(_0x2df511['id'])===String(_0xb8218c['clientId']));if(_0x5acba1&&_0x5acba1['color'])_0x29390e=_0x5acba1[_0x1d7516(0x1d8)];}const _0x2000e3=_0xb8218c[_0x1d7516(0x1af)]==='completed',_0x160a0e=_0x2000e3?0x1:0.45;_0x3831e6['className']='event-card'+(_0x2000e3?_0x1d7516(0x192):''),_0x3831e6[_0x1d7516(0x247)][_0x1d7516(0x212)]=hexToRgba(_0x29390e,_0x160a0e),_0x3831e6['style']['borderLeftColor']=_0x29390e;const _0x5312a=_0x155e23['start']/0x3c*GRID_H,_0x4b2959=(_0x155e23[_0x1d7516(0x17d)]-_0x155e23[_0x1d7516(0x1c2)])/0x3c*GRID_H;_0x3831e6[_0x1d7516(0x247)][_0x1d7516(0x264)]=_0x5312a+'px',_0x3831e6[_0x1d7516(0x247)][_0x1d7516(0x1fc)]=Math[_0x1d7516(0x20c)](_0x4b2959,0x14)+'px',_0x3831e6[_0x1d7516(0x247)][_0x1d7516(0x232)]='calc('+_0x322305+_0x1d7516(0x187),_0x3831e6[_0x1d7516(0x247)][_0x1d7516(0x1c4)]='calc('+_0x3fcbca+_0x1d7516(0x1b7),_0x3831e6['style'][_0x1d7516(0x268)]=0xa+_0x155e23[_0x1d7516(0x24b)];if(_0x322305<0x55)_0x3831e6[_0x1d7516(0x18d)][_0x1d7516(0x1c5)](_0x1d7516(0x17b));let _0x1c7af1='';if(_0xb8218c[_0x1d7516(0x206)])_0x1c7af1+=_0x1d7516(0x1b8);if(_0x2000e3)_0x1c7af1+=_0x1d7516(0x180);_0x3831e6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0xb8218c[_0x1d7516(0x1c2)]+_0x1d7516(0x18b)+_0xb8218c[_0x1d7516(0x17d)]+_0x1d7516(0x182)+_0x1c7af1+_0x1d7516(0x1f3),_0x3831e6[_0x1d7516(0x1ad)]=_0x3a805b=>{const _0x3bb93f=_0x1d7516;_0x3a805b[_0x3bb93f(0x209)](),openDetails(_0xb8218c);},_0xd8c605['appendChild'](_0x3831e6);});}function openAnalytics(){const _0x5189c4=a3_0xb7ae98,_0xe05219=document[_0x5189c4(0x236)](_0x5189c4(0x16b));setAnalyticsPeriod(_0x5189c4(0x194),_0xe05219),openSheet(_0x5189c4(0x1b2));}function setAnalyticsPeriod(_0x4373b3,_0x460353){const _0x582454=a3_0xb7ae98;currentAnPeriod=_0x4373b3,document[_0x582454(0x17c)](_0x582454(0x16b))[_0x582454(0x20d)](_0x53da73=>_0x53da73[_0x582454(0x18d)][_0x582454(0x1c7)](_0x582454(0x222)));if(_0x460353)_0x460353[_0x582454(0x18d)]['add']('active');const _0x5b139=document[_0x582454(0x22b)]('anCustomDates');_0x5b139['style']['display']=_0x4373b3==='custom'?_0x582454(0x1f2):_0x582454(0x237);const _0x58e353=new Date();let _0x5425a5=new Date(),_0xf90e55=new Date();if(_0x4373b3==='week')_0x5425a5=getStartOfWeek(_0x58e353),_0xf90e55=new Date(_0x5425a5),_0xf90e55['setDate'](_0xf90e55[_0x582454(0x1fd)]()+0x6);else{if(_0x4373b3===_0x582454(0x260))_0x5425a5=new Date(_0x58e353[_0x582454(0x1e6)](),_0x58e353[_0x582454(0x1f9)](),0x1),_0xf90e55=new Date(_0x58e353[_0x582454(0x1e6)](),_0x58e353['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x582454(0x226)]&&(document['getElementById'](_0x582454(0x1ce))[_0x582454(0x226)]=getLocalDateStr(_0x58e353),document[_0x582454(0x22b)]('anEnd')[_0x582454(0x226)]=getLocalDateStr(_0x58e353));refreshAnalytics();return;}}document[_0x582454(0x22b)](_0x582454(0x1ce))[_0x582454(0x226)]=getLocalDateStr(_0x5425a5),document[_0x582454(0x22b)](_0x582454(0x1c3))['value']=getLocalDateStr(_0xf90e55),refreshAnalytics();}function refreshAnalytics(){const _0x2f72a8=a3_0xb7ae98,_0x1e0744=document[_0x2f72a8(0x22b)](_0x2f72a8(0x1ce))['value'],_0x3ffd50=document[_0x2f72a8(0x22b)](_0x2f72a8(0x1c3))[_0x2f72a8(0x226)];if(!_0x1e0744||!_0x3ffd50)return;const _0x1b2897=sessions[_0x2f72a8(0x1e8)](_0x10dac2=>_0x10dac2[_0x2f72a8(0x19a)]>=_0x1e0744&&_0x10dac2[_0x2f72a8(0x19a)]<=_0x3ffd50&&_0x10dac2[_0x2f72a8(0x1af)]!==_0x2f72a8(0x22d)),_0x525fa8=_0x1b2897['length'],_0x3db428=_0x1b2897['filter'](_0x4a853c=>_0x4a853c[_0x2f72a8(0x1af)]==='completed')[_0x2f72a8(0x238)],_0x524dcf=_0x525fa8>0x0?Math[_0x2f72a8(0x269)](_0x3db428/_0x525fa8*0x64):0x0;document[_0x2f72a8(0x22b)]('anPercent')['textContent']=_0x524dcf+'%',document[_0x2f72a8(0x22b)]('anTotalStats')[_0x2f72a8(0x207)]=_0x3db428+_0x2f72a8(0x18e)+_0x525fa8+_0x2f72a8(0x1dc);const _0xd2285a=document[_0x2f72a8(0x22b)](_0x2f72a8(0x1a7)),_0x3d5614=0x2*Math['PI']*0x23,_0x53128a=_0x3d5614-_0x524dcf/0x64*_0x3d5614;_0xd2285a[_0x2f72a8(0x247)][_0x2f72a8(0x261)]=_0x53128a;const _0x57c7d8={};_0x1b2897[_0x2f72a8(0x20d)](_0x1a40f9=>{const _0xa34d99=_0x2f72a8,_0x17aceb=_0x1a40f9[_0xa34d99(0x1bf)]||'Unknown';if(!_0x57c7d8[_0x17aceb]){const _0x10ca22='#'+_0x17aceb[_0xa34d99(0x177)]()[_0xa34d99(0x20b)](0x0,0x6);_0x57c7d8[_0x17aceb]={'total':0x0,'done':0x0,'color':_0x10ca22};}_0x57c7d8[_0x17aceb][_0xa34d99(0x20a)]++;if(_0x1a40f9[_0xa34d99(0x1af)]===_0xa34d99(0x223))_0x57c7d8[_0x17aceb][_0xa34d99(0x189)]++;});const _0x4c4491=document['getElementById'](_0x2f72a8(0x219));_0x4c4491[_0x2f72a8(0x1a9)]='';const _0x121e91=Object[_0x2f72a8(0x21b)](_0x57c7d8)['sort']((_0x40e4a0,_0x47d12d)=>_0x47d12d[0x1][_0x2f72a8(0x20a)]-_0x40e4a0[0x1][_0x2f72a8(0x20a)]);if(_0x121e91[_0x2f72a8(0x238)]===0x0){_0x4c4491[_0x2f72a8(0x1a9)]=_0x2f72a8(0x1cf);return;}_0x121e91[_0x2f72a8(0x20d)](([_0x43d6fe,_0x3b5a1d])=>{const _0xb87fa1=_0x2f72a8,_0x332070=Math[_0xb87fa1(0x269)](_0x3b5a1d[_0xb87fa1(0x189)]/_0x3b5a1d['total']*0x64),_0x18a1a8=document[_0xb87fa1(0x176)](_0xb87fa1(0x170));_0x18a1a8[_0xb87fa1(0x195)]=_0xb87fa1(0x1f0),_0x18a1a8[_0xb87fa1(0x247)][_0xb87fa1(0x16d)]=_0x3b5a1d['color'],_0x18a1a8['innerHTML']=_0xb87fa1(0x199)+_0x43d6fe[_0xb87fa1(0x20b)](0x0,0x5)+_0xb87fa1(0x1e3)+_0x3b5a1d[_0xb87fa1(0x189)]+_0xb87fa1(0x1da)+_0x3b5a1d[_0xb87fa1(0x20a)]+_0xb87fa1(0x1f7)+_0x332070+_0xb87fa1(0x252),_0x4c4491['appendChild'](_0x18a1a8);});}function openDetails(_0x46c588){const _0x28947e=a3_0xb7ae98;currentSession=_0x46c588;const _0x45a5e7=new Date(_0x46c588[_0x28947e(0x19a)]),_0x3e34f1=_0x45a5e7[_0x28947e(0x1cd)]('ru-RU',{'weekday':'long','day':_0x28947e(0x1db),'month':_0x28947e(0x16f)});document[_0x28947e(0x22b)](_0x28947e(0x25b))[_0x28947e(0x207)]=_0x3e34f1[_0x28947e(0x1c1)](0x0)['toUpperCase']()+_0x3e34f1['slice'](0x1),document[_0x28947e(0x22b)](_0x28947e(0x17e))[_0x28947e(0x207)]=_0x46c588[_0x28947e(0x1c2)]+_0x28947e(0x18b)+_0x46c588[_0x28947e(0x17d)],document[_0x28947e(0x22b)](_0x28947e(0x221))['textContent']=_0x46c588[_0x28947e(0x1f4)]||_0x28947e(0x22f);const _0x58980a=document[_0x28947e(0x22b)](_0x28947e(0x1a3)),_0x5007db=document['getElementById']('cancelContainer'),_0x45470e=_0x5007db[_0x28947e(0x236)](_0x28947e(0x265)),_0x55e7c=_0x5007db[_0x28947e(0x236)]('.btn-reschedule'),_0x4d5201=document[_0x28947e(0x22b)]('cancelHint');if(_0x46c588[_0x28947e(0x1af)]===_0x28947e(0x223))_0x58980a[_0x28947e(0x207)]=_0x28947e(0x201),_0x58980a[_0x28947e(0x247)][_0x28947e(0x1d8)]=_0x28947e(0x1de),_0x5007db[_0x28947e(0x247)][_0x28947e(0x227)]=_0x28947e(0x237);else{_0x58980a[_0x28947e(0x207)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x58980a[_0x28947e(0x247)][_0x28947e(0x1d8)]=_0x28947e(0x246),_0x5007db[_0x28947e(0x247)]['display']=_0x28947e(0x23a);const _0x2a0476=new Date(_0x46c588[_0x28947e(0x19a)]+'T'+_0x46c588[_0x28947e(0x1c2)]),_0x1ef147=new Date(),_0x44e5f0=(_0x2a0476-_0x1ef147)/(0x3e8*0x3c*0x3c),_0x439958=coachProfiles[_0x46c588[_0x28947e(0x1bf)]]&&coachProfiles[_0x46c588[_0x28947e(0x1bf)]][_0x28947e(0x1e2)]?parseInt(coachProfiles[_0x46c588[_0x28947e(0x1bf)]][_0x28947e(0x1e2)]):0x18;if(_0x439958===0x0||_0x44e5f0>=_0x439958)_0x45470e[_0x28947e(0x247)]['display']='block',_0x55e7c['style']['display']=_0x28947e(0x23a),_0x4d5201['style'][_0x28947e(0x227)]='none';else{_0x45470e['style'][_0x28947e(0x227)]='none',_0x55e7c[_0x28947e(0x247)][_0x28947e(0x227)]='none',_0x4d5201[_0x28947e(0x247)][_0x28947e(0x227)]='block';let _0x5cadaf=_0x439958===0x0?_0x28947e(0x1c6):'–∑–∞\x20'+_0x439958+_0x28947e(0x250);_0x4d5201[_0x28947e(0x207)]=_0x28947e(0x19c)+_0x5cadaf+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x28947e(0x22b)](_0x28947e(0x263))[_0x28947e(0x18d)][_0x28947e(0x1c5)](_0x28947e(0x222)),document[_0x28947e(0x22b)](_0x28947e(0x1ae))[_0x28947e(0x18d)][_0x28947e(0x1c5)](_0x28947e(0x233));}function closeAllSheets(){const _0x130ee3=a3_0xb7ae98;document[_0x130ee3(0x22b)]('overlay')[_0x130ee3(0x18d)]['remove'](_0x130ee3(0x222)),document[_0x130ee3(0x17c)]('.sheet')[_0x130ee3(0x20d)](_0x3715d7=>_0x3715d7[_0x130ee3(0x18d)]['remove']('open'));}function openSheet(_0x2ec290){const _0x667055=a3_0xb7ae98;document[_0x667055(0x22b)](_0x667055(0x263))[_0x667055(0x18d)][_0x667055(0x1c5)](_0x667055(0x222)),document[_0x667055(0x22b)](_0x2ec290)[_0x667055(0x18d)][_0x667055(0x1c5)]('open');}function getLocalDateStr(_0x39eb09){const _0x6b8981=a3_0xb7ae98,_0x1dfad4=_0x39eb09[_0x6b8981(0x1e6)](),_0x41dfa2=String(_0x39eb09[_0x6b8981(0x1f9)]()+0x1)[_0x6b8981(0x1bc)](0x2,'0'),_0x44f16e=String(_0x39eb09[_0x6b8981(0x1fd)]())[_0x6b8981(0x1bc)](0x2,'0');return _0x1dfad4+'-'+_0x41dfa2+'-'+_0x44f16e;}function getStartOfWeek(_0x3950e6){const _0x2c3f4a=a3_0xb7ae98,_0x15325b=new Date(_0x3950e6),_0xf0e6e0=_0x15325b['getDay'](),_0x58e4c9=_0x15325b[_0x2c3f4a(0x1fd)]()-_0xf0e6e0+(_0xf0e6e0===0x0?-0x6:0x1);return _0x15325b[_0x2c3f4a(0x24e)](_0x58e4c9),_0x15325b[_0x2c3f4a(0x196)](0x0,0x0,0x0,0x0),_0x15325b;}function scrollToToday(){const _0x1c4c2b=getLocalDateStr(new Date());setTimeout(()=>{const _0x400492=a3_0x6c35,_0x3c0aa8=document[_0x400492(0x236)](_0x400492(0x193)+_0x1c4c2b+'\x22]');if(_0x3c0aa8){const _0x328d28=document[_0x400492(0x22b)](_0x400492(0x1be)),_0x294ed7=_0x3c0aa8['offsetLeft']-_0x328d28[_0x400492(0x1b9)]/0x2+_0x3c0aa8[_0x400492(0x1e7)]/0x2;_0x328d28['scrollTo']({'left':_0x294ed7,'behavior':_0x400492(0x23b)}),_0x328d28['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x246fed=a3_0xb7ae98,_0x8c050c=new Date(),_0x7b70e3=document[_0x246fed(0x22b)](_0x246fed(0x25f)),_0x81fa15=document[_0x246fed(0x22b)](_0x246fed(0x1d1)),_0x497107=(_0x8c050c[_0x246fed(0x22c)]()*0x3c+_0x8c050c[_0x246fed(0x1ab)]())/0x3c*GRID_H;_0x7b70e3[_0x246fed(0x247)]['top']=_0x497107+'px',_0x7b70e3[_0x246fed(0x247)]['display']='block',_0x81fa15[_0x246fed(0x247)][_0x246fed(0x264)]=_0x497107+'px',_0x81fa15[_0x246fed(0x247)][_0x246fed(0x227)]=_0x246fed(0x23a),_0x81fa15[_0x246fed(0x207)]=String(_0x8c050c[_0x246fed(0x22c)]())[_0x246fed(0x1bc)](0x2,'0')+':'+String(_0x8c050c[_0x246fed(0x1ab)]())['padStart'](0x2,'0');}function onScroll(){const _0x26eea8=a3_0xb7ae98,_0x5510ea=document['getElementById'](_0x26eea8(0x1be)),_0x1b8a62=document[_0x26eea8(0x17c)](_0x26eea8(0x26b));for(let _0x56089c of _0x1b8a62)if(_0x56089c[_0x26eea8(0x1b1)]>=_0x5510ea[_0x26eea8(0x1b4)]){const _0x50811d=new Date(_0x56089c[_0x26eea8(0x218)](_0x26eea8(0x191)));document[_0x26eea8(0x22b)]('headerMonth')['textContent']=_0x50811d[_0x26eea8(0x23d)]('ru',{'month':_0x26eea8(0x16f)})[_0x26eea8(0x21a)]()+'\x20'+_0x50811d[_0x26eea8(0x1e6)]();break;}}function showToast(_0x2f4f7b){const _0x88928f=a3_0xb7ae98,_0x1f5dd5=document[_0x88928f(0x22b)]('toast');_0x1f5dd5[_0x88928f(0x207)]=_0x2f4f7b,_0x1f5dd5['classList'][_0x88928f(0x1c5)]('show'),setTimeout(()=>_0x1f5dd5['classList']['remove'](_0x88928f(0x1d0)),0x7d0);}function handleInfiniteScroll(){const _0x511f24=a3_0xb7ae98,_0x1aa3c6=document[_0x511f24(0x22b)](_0x511f24(0x1be)),_0x58f30d=_0x1aa3c6[_0x511f24(0x1b4)],_0x343b14=_0x1aa3c6[_0x511f24(0x188)],_0x56560b=_0x1aa3c6[_0x511f24(0x1b9)];if(_0x343b14-(_0x58f30d+_0x56560b)<0x12c){const _0x36dbba=endOffset;endOffset+=0xe,renderDayRange(_0x36dbba+0x1,endOffset),reRenderBlocks();}if(_0x58f30d<0x12c){const _0x3a3050=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3a3050-0x1),_0x1aa3c6[_0x511f24(0x1b4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x52e32e,_0x15662b){const _0x5c8d82=a3_0xb7ae98,_0xd58b1b=document[_0x5c8d82(0x22b)](_0x5c8d82(0x216)),_0x29299a=document[_0x5c8d82(0x22b)](_0x5c8d82(0x22e)),_0x40d445=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xb643bb=new Date();_0xb643bb['setHours'](0x0,0x0,0x0,0x0);const _0x35eedd=getLocalDateStr(new Date()),_0xd34d12=document[_0x5c8d82(0x179)](),_0x557338=document[_0x5c8d82(0x179)]();for(let _0x5ef300=_0x52e32e;_0x5ef300<=_0x15662b;_0x5ef300++){const _0x19721c=new Date(_0xb643bb);_0x19721c[_0x5c8d82(0x24e)](_0x19721c[_0x5c8d82(0x1fd)]()+_0x5ef300);const _0x34e2fc=getLocalDateStr(_0x19721c);let _0x3758eb=_0x19721c[_0x5c8d82(0x25e)]()-0x1;if(_0x3758eb===-0x1)_0x3758eb=0x6;const _0x5f2811=_0x34e2fc===_0x35eedd,_0x420aeb=document['createElement'](_0x5c8d82(0x170));_0x420aeb[_0x5c8d82(0x195)]='day-col-header\x20'+(_0x5f2811?_0x5c8d82(0x1ba):''),_0x420aeb[_0x5c8d82(0x254)](_0x5c8d82(0x191),_0x34e2fc),_0x420aeb[_0x5c8d82(0x1a9)]='<div\x20class=\x22dch-day\x22>'+_0x40d445[_0x3758eb]+_0x5c8d82(0x1e0)+_0x19721c[_0x5c8d82(0x1fd)]()+_0x5c8d82(0x1d6),_0xd34d12[_0x5c8d82(0x1eb)](_0x420aeb);const _0xcc950a=document['createElement']('div');_0xcc950a[_0x5c8d82(0x195)]=_0x5c8d82(0x23e)+(_0x5f2811?_0x5c8d82(0x1ba):''),_0xcc950a[_0x5c8d82(0x254)](_0x5c8d82(0x191),_0x34e2fc),_0xcc950a[_0x5c8d82(0x254)](_0x5c8d82(0x1ff),_0x3758eb),_0x557338[_0x5c8d82(0x1eb)](_0xcc950a);}_0xd58b1b[_0x5c8d82(0x24a)](_0xd34d12,_0xd58b1b['firstChild']),_0x29299a[_0x5c8d82(0x24a)](_0x557338,_0x29299a[_0x5c8d82(0x236)](_0x5c8d82(0x1b5)));}function hexToRgba(_0x569e7f,_0x11acd1){const _0x57a5e7=a3_0xb7ae98;let _0x126c5b;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x57a5e7(0x220)](_0x569e7f))return _0x126c5b=_0x569e7f['substring'](0x1)[_0x57a5e7(0x255)](''),_0x126c5b[_0x57a5e7(0x238)]==0x3&&(_0x126c5b=[_0x126c5b[0x0],_0x126c5b[0x0],_0x126c5b[0x1],_0x126c5b[0x1],_0x126c5b[0x2],_0x126c5b[0x2]]),_0x126c5b='0x'+_0x126c5b[_0x57a5e7(0x253)](''),'rgba('+[_0x126c5b>>0x10&0xff,_0x126c5b>>0x8&0xff,_0x126c5b&0xff][_0x57a5e7(0x253)](',')+','+_0x11acd1+')';return _0x57a5e7(0x231)+_0x11acd1+')';}let confirmResolver=null;function showCustomConfirm(_0x76ed80,_0x15d797,_0x40e695=!![]){const _0x3597eb=a3_0xb7ae98;document[_0x3597eb(0x22b)](_0x3597eb(0x172))[_0x3597eb(0x207)]=_0x76ed80,document[_0x3597eb(0x22b)]('ccText')[_0x3597eb(0x207)]=_0x15d797;const _0x66507e=document['getElementById']('ccYesBtn');return _0x40e695?(_0x66507e[_0x3597eb(0x247)][_0x3597eb(0x1d8)]=_0x3597eb(0x1aa),_0x66507e[_0x3597eb(0x247)][_0x3597eb(0x173)]=_0x3597eb(0x1f8)):(_0x66507e[_0x3597eb(0x247)][_0x3597eb(0x1d8)]='#0a84ff',_0x66507e[_0x3597eb(0x247)][_0x3597eb(0x173)]=_0x3597eb(0x1f8)),new Promise(_0x31d71f=>{const _0x218900=_0x3597eb;confirmResolver=_0x31d71f,document[_0x218900(0x22b)](_0x218900(0x200))[_0x218900(0x18d)]['add'](_0x218900(0x1a5));});}function resolveCustomConfirm(_0x2ccca9){const _0x2b9c69=a3_0xb7ae98;document['getElementById']('customConfirm')[_0x2b9c69(0x18d)][_0x2b9c69(0x1c7)](_0x2b9c69(0x1a5));if(confirmResolver)confirmResolver(_0x2ccca9);}function a3_0x6c35(_0x77cd8f,_0x5633bf){_0x77cd8f=_0x77cd8f-0x16b;const _0x5645c4=a3_0x2025();let _0x1e8a0a=_0x5645c4[_0x77cd8f];return _0x1e8a0a;}async function tryCancelCurrentSession(){const _0x21cbcf=a3_0xb7ae98;if(!currentSession)return;const _0x5d66ec=await showCustomConfirm(_0x21cbcf(0x1bd),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x5d66ec)return;const _0x45ca4=currentSession;closeAllSheets(),sessions=sessions[_0x21cbcf(0x1e8)](_0x385beb=>_0x385beb['id']!==_0x45ca4['id']),reRenderBlocks(),showToast(_0x21cbcf(0x19b)),lastUserActionTime=Date[_0x21cbcf(0x197)]();try{const _0x911b0d=window[_0x21cbcf(0x240)]?.['WebApp'],_0x128fd0=await fetch(API_URL,{'method':_0x21cbcf(0x17a),'body':JSON[_0x21cbcf(0x20f)]({'action':_0x21cbcf(0x229),'init_data':_0x911b0d?.[_0x21cbcf(0x205)]||'','coachId':_0x45ca4[_0x21cbcf(0x1bf)],'dateStr':_0x45ca4['dateStr'],'sessionId':_0x45ca4['id']})});if(_0x128fd0['ok'])DataManager[_0x21cbcf(0x1ec)]();}catch(_0x2ca936){showToast(_0x21cbcf(0x249));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x24f233=a3_0xb7ae98;if(!currentSession)return;document[_0x24f233(0x22b)](_0x24f233(0x1ae))[_0x24f233(0x18d)][_0x24f233(0x1c7)]('open'),document['getElementById'](_0x24f233(0x175))[_0x24f233(0x18d)][_0x24f233(0x1c5)](_0x24f233(0x233));const _0x364c60=document['getElementById'](_0x24f233(0x186)),_0x29b8f1=document[_0x24f233(0x22b)](_0x24f233(0x1e1));_0x364c60[_0x24f233(0x1a9)]='',_0x29b8f1[_0x24f233(0x1a9)]=_0x24f233(0x20e);const [_0xacf4dc,_0x2e8777]=currentSession[_0x24f233(0x1c2)][_0x24f233(0x255)](':')[_0x24f233(0x22a)](Number),[_0x28b793,_0x7695e8]=currentSession[_0x24f233(0x17d)][_0x24f233(0x255)](':')['map'](Number),_0x1a0f04=_0x28b793*0x3c+_0x7695e8-(_0xacf4dc*0x3c+_0x2e8777);try{const _0x5d5fa1=window['Telegram']?.['WebApp'],_0x175dca=await fetch(API_URL,{'method':_0x24f233(0x17a),'body':JSON[_0x24f233(0x20f)]({'action':_0x24f233(0x16c),'coachId':currentSession['coachId'],'duration':_0x1a0f04,'init_data':_0x5d5fa1?.[_0x24f233(0x205)]||'','excludeSessionId':currentSession['id']})}),_0x43d44c=await _0x175dca[_0x24f233(0x234)]();_0x43d44c['ok']&&_0x43d44c[_0x24f233(0x171)]?(availableSlotsCache=_0x43d44c[_0x24f233(0x171)],renderRescheduleDates()):_0x29b8f1[_0x24f233(0x1a9)]=_0x24f233(0x21d);}catch(_0x12f40c){_0x29b8f1[_0x24f233(0x1a9)]=_0x24f233(0x184);}}function renderRescheduleDates(){const _0x3b6a5f=a3_0xb7ae98,_0x371028=document[_0x3b6a5f(0x22b)](_0x3b6a5f(0x186));_0x371028['innerHTML']='';const _0x267cdd=Object['keys'](availableSlotsCache)[_0x3b6a5f(0x1c0)](),_0x32b356=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x267cdd[_0x3b6a5f(0x238)]===0x0){document['getElementById'](_0x3b6a5f(0x1e1))[_0x3b6a5f(0x1a9)]=_0x3b6a5f(0x266);return;}_0x267cdd[_0x3b6a5f(0x20d)]((_0x27e0bf,_0x185ee5)=>{const _0x386032=_0x3b6a5f,_0x53ae43=new Date(_0x27e0bf),_0x2baa47=_0x32b356[_0x53ae43['getDay']()],_0x15cdc4=_0x53ae43[_0x386032(0x1fd)](),_0x17224b=document[_0x386032(0x176)](_0x386032(0x170));_0x17224b['className']=_0x386032(0x174);if(_0x185ee5===0x0)_0x17224b[_0x386032(0x18d)]['add'](_0x386032(0x222));_0x17224b['innerHTML']=_0x386032(0x217)+_0x2baa47+'</div><div\x20class=\x22rs-day-num\x22>'+_0x15cdc4+_0x386032(0x1d6),_0x17224b[_0x386032(0x1ad)]=()=>selectRsDate(_0x27e0bf,_0x17224b),_0x371028[_0x386032(0x1eb)](_0x17224b);}),selectRsDate(_0x267cdd[0x0],_0x371028['firstChild']);}function selectRsDate(_0x530b02,_0x3b661e){const _0x26c33c=a3_0xb7ae98;selectedRsDate=_0x530b02,document[_0x26c33c(0x17c)](_0x26c33c(0x1ee))[_0x26c33c(0x20d)](_0x11054b=>_0x11054b[_0x26c33c(0x18d)][_0x26c33c(0x1c7)](_0x26c33c(0x222)));if(_0x3b661e)_0x3b661e[_0x26c33c(0x18d)][_0x26c33c(0x1c5)](_0x26c33c(0x222));const _0x557a95=document[_0x26c33c(0x22b)](_0x26c33c(0x1e1));_0x557a95['innerHTML']='';const _0x5bde4f=availableSlotsCache[_0x530b02]||[];if(_0x5bde4f[_0x26c33c(0x238)]===0x0){_0x557a95['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x5bde4f['forEach'](_0x3417ec=>{const _0xcdc9a5=_0x26c33c,_0x13c416=document[_0xcdc9a5(0x176)](_0xcdc9a5(0x1d3));_0x13c416[_0xcdc9a5(0x195)]=_0xcdc9a5(0x190),_0x13c416[_0xcdc9a5(0x207)]=_0x3417ec,_0x13c416[_0xcdc9a5(0x1ad)]=()=>confirmReschedule(_0x3417ec),_0x557a95['appendChild'](_0x13c416);});}async function confirmReschedule(_0xbfb08b){const _0x59e6cc=a3_0xb7ae98,_0x488251=new Date(selectedRsDate),_0x279c75=_0x488251[_0x59e6cc(0x1cd)](_0x59e6cc(0x215),{'day':_0x59e6cc(0x1db),'month':_0x59e6cc(0x16f)}),_0x12ce72=await showCustomConfirm(_0x59e6cc(0x262),_0x59e6cc(0x1a4)+_0x279c75+_0x59e6cc(0x1d7)+_0xbfb08b+'?',![]);if(!_0x12ce72)return;closeAllSheets(),showToast(_0x59e6cc(0x245)),lastUserActionTime=Date[_0x59e6cc(0x197)]();const _0x464a8f=currentSession[_0x59e6cc(0x19a)],_0x118ad3=currentSession['id'],[_0x3c0ac2,_0x15c884]=currentSession[_0x59e6cc(0x1c2)]['split'](':')[_0x59e6cc(0x22a)](Number),[_0x44d870,_0x3e6b44]=currentSession[_0x59e6cc(0x17d)][_0x59e6cc(0x255)](':')[_0x59e6cc(0x22a)](Number),_0xbbda7b=_0x44d870*0x3c+_0x3e6b44-(_0x3c0ac2*0x3c+_0x15c884),[_0x5d151c,_0x34268b]=_0xbfb08b[_0x59e6cc(0x255)](':')[_0x59e6cc(0x22a)](Number),_0x29bd8e=_0x5d151c*0x3c+_0x34268b+_0xbbda7b,_0x24a7d9=Math[_0x59e6cc(0x1a8)](_0x29bd8e/0x3c),_0xc9d7cd=_0x29bd8e%0x3c,_0x53b592=String(_0x24a7d9)[_0x59e6cc(0x1bc)](0x2,'0')+':'+String(_0xc9d7cd)[_0x59e6cc(0x1bc)](0x2,'0'),_0x1f177f=sessions[_0x59e6cc(0x1a0)](_0x516b92=>_0x516b92['id']===_0x118ad3);_0x1f177f!==-0x1&&(sessions[_0x1f177f][_0x59e6cc(0x19a)]=selectedRsDate,sessions[_0x1f177f][_0x59e6cc(0x1c2)]=_0xbfb08b,sessions[_0x1f177f][_0x59e6cc(0x17d)]=_0x53b592,reRenderBlocks());try{const _0x200144=window[_0x59e6cc(0x240)]?.[_0x59e6cc(0x21e)],_0x40a8fe=await fetch(API_URL,{'method':_0x59e6cc(0x17a),'body':JSON[_0x59e6cc(0x20f)]({'action':_0x59e6cc(0x1b0),'init_data':_0x200144?.[_0x59e6cc(0x205)]||'','oldSessionId':_0x118ad3,'oldDate':_0x464a8f,'newDate':selectedRsDate,'newTime':_0xbfb08b,'coachId':currentSession[_0x59e6cc(0x1bf)]})}),_0x46dbc9=await _0x40a8fe[_0x59e6cc(0x234)]();!_0x46dbc9['ok']?(showToast(_0x59e6cc(0x1e9)),DataManager[_0x59e6cc(0x23f)]()):(showToast(_0x59e6cc(0x1f6)),DataManager[_0x59e6cc(0x1ec)]());}catch(_0x19871f){showToast(_0x59e6cc(0x249));}}document[a3_0xb7ae98(0x1ca)](a3_0xb7ae98(0x204),init);