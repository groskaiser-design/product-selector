const a3_0x135231=a3_0x3fd2;(function(_0x1c4a6d,_0x372c5a){const _0x3a3544=a3_0x3fd2,_0x1f0d22=_0x1c4a6d();while(!![]){try{const _0x124d44=-parseInt(_0x3a3544(0xbd))/0x1*(parseInt(_0x3a3544(0x146))/0x2)+-parseInt(_0x3a3544(0x1ac))/0x3*(parseInt(_0x3a3544(0xd5))/0x4)+parseInt(_0x3a3544(0x132))/0x5*(parseInt(_0x3a3544(0x183))/0x6)+-parseInt(_0x3a3544(0xe7))/0x7*(parseInt(_0x3a3544(0x159))/0x8)+-parseInt(_0x3a3544(0x121))/0x9+parseInt(_0x3a3544(0xe9))/0xa+parseInt(_0x3a3544(0x186))/0xb*(parseInt(_0x3a3544(0x161))/0xc);if(_0x124d44===_0x372c5a)break;else _0x1f0d22['push'](_0x1f0d22['shift']());}catch(_0x1acf41){_0x1f0d22['push'](_0x1f0d22['shift']());}}}(a3_0x355e,0x9f42a));const APP_VERSION=a3_0x135231(0x1a6),API_URL=a3_0x135231(0x149),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x135231(0x173),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x135231(0x170),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xaf1cd6=a3_0x135231,_0x2ca340=(function(){let _0x49a42=!![];return function(_0x51528c,_0x236633){const _0x33dd2f=_0x49a42?function(){const _0x17a56f=a3_0x3fd2;if(_0x236633){const _0x5b4ca0=_0x236633[_0x17a56f(0x16f)](_0x51528c,arguments);return _0x236633=null,_0x5b4ca0;}}:function(){};return _0x49a42=![],_0x33dd2f;};}()),_0x48fe6c=_0x2ca340(this,function(){const _0x36743f=a3_0x3fd2;return _0x48fe6c[_0x36743f(0xd9)]()[_0x36743f(0x175)](_0x36743f(0xf5))['toString']()[_0x36743f(0x174)](_0x48fe6c)[_0x36743f(0x175)](_0x36743f(0xf5));});_0x48fe6c();try{const _0x1c34bf=window[_0xaf1cd6(0x178)]?.[_0xaf1cd6(0xd1)];if(!_0x1c34bf)return;_0x1c34bf['ready'](),_0x1c34bf['expand']();try{_0x1c34bf[_0xaf1cd6(0x145)](_0xaf1cd6(0x12d)),_0x1c34bf[_0xaf1cd6(0xde)]&&_0x1c34bf[_0xaf1cd6(0xde)](_0xaf1cd6(0x12d));}catch(_0x5179a3){console[_0xaf1cd6(0xd8)]('Error\x20setting\x20color:',_0x5179a3);}try{_0x1c34bf[_0xaf1cd6(0x151)]&&(_0x1c34bf[_0xaf1cd6(0x151)][_0xaf1cd6(0x104)](),_0x1c34bf['BackButton'][_0xaf1cd6(0x12c)](),_0x1c34bf['BackButton'][_0xaf1cd6(0xe3)](function(){const _0xd2619e=_0xaf1cd6;window['location'][_0xd2619e(0x10c)]='router.html';}));}catch(_0x5cece0){console[_0xaf1cd6(0xd8)](_0xaf1cd6(0x171),_0x5cece0);}try{if(_0x1c34bf[_0xaf1cd6(0x18a)])_0x1c34bf[_0xaf1cd6(0x18a)]();}catch(_0x4bc000){}}catch(_0x5685e8){console[_0xaf1cd6(0xe6)](_0xaf1cd6(0x14a),_0x5685e8);}}());function isAdmin(){const _0x43f19e=a3_0x135231;try{const _0x3c5c4b=Number(window[_0x43f19e(0x178)]?.[_0x43f19e(0xd1)]?.[_0x43f19e(0x160)]?.[_0x43f19e(0xd0)]?.['id']);return _0x3c5c4b===0xbaf7174;}catch(_0x55b685){return![];}}const DataManager={'saveLocally'(){const _0x447c8e=a3_0x135231;try{localStorage[_0x447c8e(0x130)](KEY_SESSIONS,JSON[_0x447c8e(0x108)](sessions)),localStorage[_0x447c8e(0x130)](KEY_CLIENTS,JSON[_0x447c8e(0x108)](clients)),localStorage[_0x447c8e(0x130)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5d7632){}},'loadLocal'(){const _0x538687=a3_0x135231;try{const _0x45239c=localStorage[_0x538687(0xf0)](KEY_SESSIONS);if(_0x45239c)sessions=JSON[_0x538687(0x191)](_0x45239c);const _0x4fd4a0=localStorage[_0x538687(0xf0)](KEY_CLIENTS);if(_0x4fd4a0)clients=JSON[_0x538687(0x191)](_0x4fd4a0);const _0xc91d23=localStorage['getItem'](KEY_SETTINGS);if(_0xc91d23){const _0x382a3e=JSON[_0x538687(0x191)](_0xc91d23);if(_0x382a3e[_0x538687(0x136)])availabilityPattern=_0x382a3e['pattern'];if(_0x382a3e[_0x538687(0x182)])specialRanges=_0x382a3e[_0x538687(0x182)];if(_0x382a3e['exceptions'])dateExceptions=_0x382a3e['exceptions'];}}catch(_0x15a466){}},async 'syncLoad'(){const _0x39baaf=a3_0x135231,_0x3a86b2=new Date(),_0x53ce01=_0x3a86b2[_0x39baaf(0x17b)]()+'-'+String(_0x3a86b2[_0x39baaf(0x18e)]()+0x1)[_0x39baaf(0x177)](0x2,'0'),_0x5d04f9=new Date(_0x3a86b2);_0x5d04f9['setMonth'](_0x3a86b2['getMonth']()+0x1);const _0x532866=_0x5d04f9[_0x39baaf(0x17b)]()+'-'+String(_0x5d04f9[_0x39baaf(0x18e)]()+0x1)[_0x39baaf(0x177)](0x2,'0'),_0x1f9ebb=Date[_0x39baaf(0x11a)]();try{const _0xe77fdc=window[_0x39baaf(0x178)]?.['WebApp'],_0x1b891a=_0xe77fdc?.['initData']||'',[_0x4d34be,_0x3bc09d]=await Promise['all']([fetch(API_URL,{'method':_0x39baaf(0xe8),'body':JSON[_0x39baaf(0x108)]({'action':_0x39baaf(0x12e),'init_data':_0x1b891a,'month_str':_0x53ce01})})[_0x39baaf(0x13e)](_0x8ebd79=>_0x8ebd79[_0x39baaf(0x148)]()),fetch(API_URL,{'method':_0x39baaf(0xe8),'body':JSON['stringify']({'action':_0x39baaf(0x12e),'init_data':_0x1b891a,'month_str':_0x532866})})[_0x39baaf(0x13e)](_0x3f0e08=>_0x3f0e08['json']())]);if(lastUserActionTime>_0x1f9ebb){console['log'](_0x39baaf(0x1a8));return;}if(_0x4d34be['ok'])this[_0x39baaf(0x1a3)](_0x4d34be[_0x39baaf(0x126)],_0x53ce01);if(_0x3bc09d['ok'])this[_0x39baaf(0x1a3)](_0x3bc09d['data'],_0x532866);this[_0x39baaf(0x16b)]();}catch(_0x3a8e6d){}},'applyData'(_0x30adc5,_0x130940){const _0x642b6a=a3_0x135231;if(!_0x30adc5)return;if(_0x30adc5[_0x642b6a(0xeb)]){if(_0x30adc5[_0x642b6a(0xeb)]['pattern'])availabilityPattern=_0x30adc5['settings']['pattern'];if(_0x30adc5[_0x642b6a(0xeb)][_0x642b6a(0x182)])specialRanges=_0x30adc5[_0x642b6a(0xeb)][_0x642b6a(0x182)];if(_0x30adc5[_0x642b6a(0xeb)]['exceptions'])dateExceptions=_0x30adc5['settings'][_0x642b6a(0x106)];}if(_0x30adc5[_0x642b6a(0x114)]&&Array['isArray'](_0x30adc5['clients']))clients=_0x30adc5[_0x642b6a(0x114)];_0x30adc5[_0x642b6a(0x10e)]&&(coachProfiles={...coachProfiles,..._0x30adc5[_0x642b6a(0x10e)]}),_0x30adc5[_0x642b6a(0x103)]&&(sessions=sessions[_0x642b6a(0x15d)](_0x386a3b=>!_0x386a3b[_0x642b6a(0x188)][_0x642b6a(0x196)](_0x130940)),Object['keys'](_0x30adc5['calendar'])['forEach'](_0x182455=>{const _0x190afc=_0x642b6a,_0x1e673a=_0x30adc5[_0x190afc(0x103)][_0x182455];_0x1e673a[_0x190afc(0x13d)](_0x545033=>{const _0x5c9f78=_0x190afc;sessions[_0x5c9f78(0x117)]({'id':_0x545033['i'],'clientId':_0x545033['c'],'coachId':_0x545033[_0x5c9f78(0x155)],'dateStr':_0x130940+'-'+_0x182455[_0x5c9f78(0x177)](0x2,'0'),'start':_0x545033['s'],'end':_0x545033['e'],'note':_0x545033['n']||'','status':_0x545033['st']||_0x5c9f78(0x118),'seriesId':_0x545033['sid']});});})),reRenderBlocks();}};function init(){const _0x1b8e43=a3_0x135231;DataManager[_0x1b8e43(0xc8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1b8e43(0x153)](_0x1b8e43(0x179))[_0x1b8e43(0xbb)](_0x1b8e43(0xf6),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1b8e43(0x156)]();}function renderTimeColumn(){const _0x4ec5e6=a3_0x135231,_0x515018=document[_0x4ec5e6(0x153)]('timeColumn'),_0x55fb7f=document[_0x4ec5e6(0x153)]('timeLineBadge');_0x515018[_0x4ec5e6(0x152)]='',_0x515018['appendChild'](_0x55fb7f);for(let _0x17b11d=0x0;_0x17b11d<0x18;_0x17b11d++){const _0x3edfe8=document[_0x4ec5e6(0x185)](_0x4ec5e6(0x16a));_0x3edfe8[_0x4ec5e6(0xef)]=_0x4ec5e6(0xfb);if(_0x17b11d>0x0)_0x3edfe8[_0x4ec5e6(0x152)]=_0x4ec5e6(0xc6)+String(_0x17b11d)[_0x4ec5e6(0x177)](0x2,'0')+_0x4ec5e6(0x14c);_0x515018[_0x4ec5e6(0x109)](_0x3edfe8);}}function renderDayRange(_0x19124c,_0x32ec3b){const _0xcecd53=a3_0x135231,_0x23e9f4=document[_0xcecd53(0x153)](_0xcecd53(0xc9)),_0x3f0307=document[_0xcecd53(0x153)]('gridColumns'),_0x471802=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3734d4=new Date();_0x3734d4[_0xcecd53(0x107)](0x0,0x0,0x0,0x0);const _0x197951=getLocalDateStr(new Date());for(let _0x354d66=_0x19124c;_0x354d66<=_0x32ec3b;_0x354d66++){const _0x2e2815=new Date(_0x3734d4);_0x2e2815[_0xcecd53(0x1a4)](_0x2e2815['getDate']()+_0x354d66);const _0xcfdf50=getLocalDateStr(_0x2e2815);let _0x2a32f3=_0x2e2815[_0xcecd53(0x12f)]()-0x1;if(_0x2a32f3===-0x1)_0x2a32f3=0x6;const _0x208e1b=_0xcfdf50===_0x197951,_0x3f4350=document[_0xcecd53(0x185)](_0xcecd53(0x16a));_0x3f4350[_0xcecd53(0xef)]=_0xcecd53(0x17a)+(_0x208e1b?_0xcecd53(0xf8):''),_0x3f4350[_0xcecd53(0xbe)](_0xcecd53(0xda),_0xcfdf50),_0x3f4350[_0xcecd53(0x152)]=_0xcecd53(0xd7)+_0x471802[_0x2a32f3]+'</div><div\x20class=\x22dch-num\x22>'+_0x2e2815[_0xcecd53(0x184)]()+'</div>',_0x23e9f4['appendChild'](_0x3f4350);const _0x3ef807=document[_0xcecd53(0x185)]('div');_0x3ef807[_0xcecd53(0xef)]=_0xcecd53(0xff)+(_0x208e1b?'today':''),_0x3ef807['setAttribute'](_0xcecd53(0xda),_0xcfdf50),_0x3ef807[_0xcecd53(0xbe)](_0xcecd53(0x143),_0x2a32f3),_0x3f0307[_0xcecd53(0x109)](_0x3ef807);}}function reRenderBlocks(){const _0x37d72e=a3_0x135231;document[_0x37d72e(0x1a5)](_0x37d72e(0x116))['forEach'](_0x529e92=>{const _0x4f84f8=_0x37d72e;_0x529e92['querySelectorAll'](_0x4f84f8(0xcc))['forEach'](_0x3e2e30=>_0x3e2e30['remove']());const _0xd68ee4=_0x529e92[_0x4f84f8(0x1ae)](_0x4f84f8(0xda)),_0x2a2bde=parseInt(_0x529e92['getAttribute']('data-day-idx')),_0x4a5b56=Math[_0x4f84f8(0x14e)](_0x529e92[_0x4f84f8(0x158)]);(availabilityPattern[_0x2a2bde]||[])['forEach'](_0x135bde=>{const _0x2e1ce2=_0x4f84f8,_0x12b1d8=document['createElement']('div');_0x12b1d8[_0x2e1ce2(0xef)]='blocked-slot\x20stripe-bg',_0x12b1d8['style']['top']=_0x135bde*GRID_H+'px',_0x12b1d8[_0x2e1ce2(0x19c)][_0x2e1ce2(0x18b)]='-'+_0x4a5b56+_0x2e1ce2(0x17f)+_0x135bde*GRID_H+'px',_0x529e92[_0x2e1ce2(0x109)](_0x12b1d8);});if(specialRanges[_0x4f84f8(0x120)]>0x0){const _0x30581e=new Date(_0xd68ee4+_0x4f84f8(0x19d))[_0x4f84f8(0x11d)](),_0x215e1f=new Date(_0xd68ee4+'T23:59:59')[_0x4f84f8(0x11d)]();specialRanges['forEach'](_0x1b876f=>{const _0x5ceac7=_0x4f84f8,_0x1ec8e5=new Date(_0x1b876f['start'])[_0x5ceac7(0x11d)](),_0x280650=new Date(_0x1b876f[_0x5ceac7(0x139)])[_0x5ceac7(0x11d)](),_0x4f93d5=Math[_0x5ceac7(0x15a)](_0x30581e,_0x1ec8e5),_0x1f8af8=Math[_0x5ceac7(0xc4)](_0x215e1f,_0x280650);if(_0x4f93d5<_0x1f8af8){const _0x136ad7=(_0x4f93d5-_0x30581e)/0x36ee80*GRID_H,_0x28912c=(_0x1f8af8-_0x4f93d5)/0x36ee80*GRID_H,_0x3ffa98=document[_0x5ceac7(0x185)](_0x5ceac7(0x16a));_0x28912c>=23.5*GRID_H?(_0x3ffa98[_0x5ceac7(0xef)]=_0x5ceac7(0x157),_0x3ffa98[_0x5ceac7(0x19c)][_0x5ceac7(0x18b)]='-'+_0x4a5b56+_0x5ceac7(0x167)):(_0x3ffa98['className']=_0x5ceac7(0x1a1),_0x3ffa98[_0x5ceac7(0x19c)]['top']=_0x136ad7+'px',_0x3ffa98[_0x5ceac7(0x19c)][_0x5ceac7(0xd3)]=_0x28912c+'px',_0x3ffa98[_0x5ceac7(0x19c)][_0x5ceac7(0x18b)]='-'+_0x4a5b56+_0x5ceac7(0x17f)+_0x136ad7+'px'),_0x529e92['appendChild'](_0x3ffa98);}});}renderEventsForColumn(_0x529e92,_0xd68ee4);});}function renderEventsForColumn(_0x5690bb,_0x410bb1){const _0x1e7834=a3_0x135231,_0x4e30f1=sessions[_0x1e7834(0x15d)](_0x1a39e8=>_0x1a39e8['dateStr']===_0x410bb1),_0x5f1272=_0x4e30f1['map'](_0x4ddeb2=>{const _0x54ee86=_0x1e7834,[_0x235d6b,_0x1536af]=_0x4ddeb2[_0x54ee86(0x15b)]['split'](':')[_0x54ee86(0xe4)](Number),[_0x272032,_0x39c044]=_0x4ddeb2[_0x54ee86(0x139)]['split'](':')[_0x54ee86(0xe4)](Number);return{'data':_0x4ddeb2,'start':_0x235d6b*0x3c+_0x1536af,'end':_0x272032*0x3c+_0x39c044,'colIndex':0x0};});_0x5f1272[_0x1e7834(0x115)]((_0x4ac260,_0x53ece5)=>_0x4ac260[_0x1e7834(0x15b)]-_0x53ece5['start']||_0x53ece5[_0x1e7834(0x139)]-_0x53ece5[_0x1e7834(0x15b)]-(_0x4ac260[_0x1e7834(0x139)]-_0x4ac260[_0x1e7834(0x15b)]));const _0x30405e=[];_0x5f1272[_0x1e7834(0x13d)](_0x2a9802=>{const _0x2e780d=_0x1e7834;let _0x503ac5=![];for(let _0x30c60b=0x0;_0x30c60b<_0x30405e[_0x2e780d(0x120)];_0x30c60b++){const _0x53d4a9=_0x30405e[_0x30c60b];if(_0x2a9802[_0x2e780d(0x15b)]>=_0x53d4a9[_0x53d4a9[_0x2e780d(0x120)]-0x1]['end']){_0x53d4a9[_0x2e780d(0x117)](_0x2a9802),_0x2a9802[_0x2e780d(0xea)]=_0x30c60b,_0x503ac5=!![];break;}}!_0x503ac5&&(_0x30405e[_0x2e780d(0x117)]([_0x2a9802]),_0x2a9802['colIndex']=_0x30405e[_0x2e780d(0x120)]-0x1);}),_0x5f1272['forEach'](_0x1e334f=>{const _0x3bcd90=_0x1e7834;let _0x9a0bd1=0x0;_0x5f1272[_0x3bcd90(0x13d)](_0x31e1ce=>{const _0x1514cc=_0x3bcd90;if(Math[_0x1514cc(0x15a)](_0x1e334f[_0x1514cc(0x15b)],_0x31e1ce[_0x1514cc(0x15b)])<Math[_0x1514cc(0xc4)](_0x1e334f[_0x1514cc(0x139)],_0x31e1ce[_0x1514cc(0x139)])&&_0x31e1ce[_0x1514cc(0xea)]>_0x9a0bd1)_0x9a0bd1=_0x31e1ce[_0x1514cc(0xea)];});const _0x5a1d73=_0x9a0bd1+0x1,_0x120edd=0x64/_0x5a1d73,_0xec4585=_0x1e334f[_0x3bcd90(0xea)]*_0x120edd,_0x154535=document['createElement'](_0x3bcd90(0x16a)),_0x363fd3=_0x1e334f['data'];let _0x4c557e=_0x3bcd90(0x11b);if(clients&&clients[_0x3bcd90(0x120)]>0x0){const _0xf4bf9c=clients[_0x3bcd90(0x127)](_0x27ba4a=>String(_0x27ba4a['id'])===String(_0x363fd3['clientId']));if(_0xf4bf9c&&_0xf4bf9c['color'])_0x4c557e=_0xf4bf9c[_0x3bcd90(0x193)];}const _0x57fe23=_0x363fd3[_0x3bcd90(0xf4)]===_0x3bcd90(0xdc),_0x2c99f8=_0x57fe23?0x1:0.45;_0x154535[_0x3bcd90(0xef)]=_0x3bcd90(0x10b)+(_0x57fe23?_0x3bcd90(0x198):''),_0x154535[_0x3bcd90(0x19c)]['backgroundColor']=hexToRgba(_0x4c557e,_0x2c99f8),_0x154535[_0x3bcd90(0x19c)][_0x3bcd90(0x19e)]=_0x4c557e;const _0x2bc1f5=_0x1e334f[_0x3bcd90(0x15b)]/0x3c*GRID_H,_0x5c61ed=(_0x1e334f['end']-_0x1e334f['start'])/0x3c*GRID_H;_0x154535['style']['top']=_0x2bc1f5+'px',_0x154535[_0x3bcd90(0x19c)][_0x3bcd90(0xd3)]=Math[_0x3bcd90(0x15a)](_0x5c61ed,0x14)+'px',_0x154535[_0x3bcd90(0x19c)][_0x3bcd90(0x12a)]=_0x3bcd90(0x10f)+_0x120edd+'%\x20-\x204px)',_0x154535['style'][_0x3bcd90(0x17d)]='calc('+_0xec4585+_0x3bcd90(0xfc),_0x154535[_0x3bcd90(0x19c)][_0x3bcd90(0x19f)]=0xa+_0x1e334f[_0x3bcd90(0xea)];if(_0x120edd<0x55)_0x154535[_0x3bcd90(0x165)]['add'](_0x3bcd90(0xfe));let _0x1a950b='';if(_0x363fd3[_0x3bcd90(0x101)])_0x1a950b+=_0x3bcd90(0x192);if(_0x57fe23)_0x1a950b+=_0x3bcd90(0x113);_0x154535[_0x3bcd90(0x152)]=_0x3bcd90(0x150)+_0x363fd3[_0x3bcd90(0x15b)]+_0x3bcd90(0x13a)+_0x363fd3[_0x3bcd90(0x139)]+_0x3bcd90(0x111)+_0x1a950b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x154535['onclick']=_0x883d0b=>{const _0x11be69=_0x3bcd90;_0x883d0b[_0x11be69(0x194)](),openDetails(_0x363fd3);},_0x5690bb[_0x3bcd90(0x109)](_0x154535);});}function openAnalytics(){const _0x3177f8=a3_0x135231,_0x41988a=document[_0x3177f8(0x137)](_0x3177f8(0x18f));setAnalyticsPeriod(_0x3177f8(0x170),_0x41988a),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x432fa7,_0x4aa188){const _0x5c413b=a3_0x135231;currentAnPeriod=_0x432fa7,document[_0x5c413b(0x1a5)](_0x5c413b(0x18f))['forEach'](_0xa80631=>_0xa80631[_0x5c413b(0x165)]['remove'](_0x5c413b(0xc3)));if(_0x4aa188)_0x4aa188[_0x5c413b(0x165)][_0x5c413b(0xb8)](_0x5c413b(0xc3));const _0x3419aa=document[_0x5c413b(0x153)](_0x5c413b(0xe2));_0x3419aa[_0x5c413b(0x19c)][_0x5c413b(0x190)]=_0x432fa7===_0x5c413b(0x119)?'flex':_0x5c413b(0xcd);const _0x401ab0=new Date();let _0x31b206=new Date(),_0x45dc54=new Date();if(_0x432fa7==='week')_0x31b206=getStartOfWeek(_0x401ab0),_0x45dc54=new Date(_0x31b206),_0x45dc54[_0x5c413b(0x1a4)](_0x45dc54[_0x5c413b(0x184)]()+0x6);else{if(_0x432fa7===_0x5c413b(0xe1))_0x31b206=new Date(_0x401ab0[_0x5c413b(0x17b)](),_0x401ab0[_0x5c413b(0x18e)](),0x1),_0x45dc54=new Date(_0x401ab0[_0x5c413b(0x17b)](),_0x401ab0[_0x5c413b(0x18e)]()+0x1,0x0);else{!document[_0x5c413b(0x153)](_0x5c413b(0x135))[_0x5c413b(0x187)]&&(document[_0x5c413b(0x153)](_0x5c413b(0x135))[_0x5c413b(0x187)]=getLocalDateStr(_0x401ab0),document[_0x5c413b(0x153)](_0x5c413b(0x147))[_0x5c413b(0x187)]=getLocalDateStr(_0x401ab0));refreshAnalytics();return;}}document[_0x5c413b(0x153)]('anStart')[_0x5c413b(0x187)]=getLocalDateStr(_0x31b206),document[_0x5c413b(0x153)](_0x5c413b(0x147))[_0x5c413b(0x187)]=getLocalDateStr(_0x45dc54),refreshAnalytics();}function refreshAnalytics(){const _0x10a9d3=a3_0x135231,_0x328367=document[_0x10a9d3(0x153)](_0x10a9d3(0x135))[_0x10a9d3(0x187)],_0x36e896=document[_0x10a9d3(0x153)](_0x10a9d3(0x147))[_0x10a9d3(0x187)];if(!_0x328367||!_0x36e896)return;const _0x4ad1fa=sessions[_0x10a9d3(0x15d)](_0x3ba235=>_0x3ba235[_0x10a9d3(0x188)]>=_0x328367&&_0x3ba235[_0x10a9d3(0x188)]<=_0x36e896&&_0x3ba235[_0x10a9d3(0xf4)]!=='cancelled'),_0x1af0c1=_0x4ad1fa[_0x10a9d3(0x120)],_0x2ef2c3=_0x4ad1fa['filter'](_0x4f4f80=>_0x4f4f80[_0x10a9d3(0xf4)]==='completed')[_0x10a9d3(0x120)],_0x3d61ad=_0x1af0c1>0x0?Math[_0x10a9d3(0x14e)](_0x2ef2c3/_0x1af0c1*0x64):0x0;document['getElementById'](_0x10a9d3(0xdb))[_0x10a9d3(0x16e)]=_0x3d61ad+'%',document[_0x10a9d3(0x153)](_0x10a9d3(0x189))['textContent']=_0x2ef2c3+_0x10a9d3(0xce)+_0x1af0c1+_0x10a9d3(0xd2);const _0x4fe66c=document['getElementById']('anDonutCircle'),_0x3dbca8=0x2*Math['PI']*0x23,_0x58f78a=_0x3dbca8-_0x3d61ad/0x64*_0x3dbca8;_0x4fe66c['style'][_0x10a9d3(0x1a9)]=_0x58f78a;const _0x8d3cd3={};_0x4ad1fa[_0x10a9d3(0x13d)](_0x7649ab=>{const _0x55b304=_0x10a9d3,_0x4e7d8b=_0x7649ab['coachId']||_0x55b304(0xf1);if(!_0x8d3cd3[_0x4e7d8b]){const _0xb5d921='#'+_0x4e7d8b[_0x55b304(0xd9)]()[_0x55b304(0xfd)](0x0,0x6);_0x8d3cd3[_0x4e7d8b]={'total':0x0,'done':0x0,'color':_0xb5d921};}_0x8d3cd3[_0x4e7d8b][_0x55b304(0xf7)]++;if(_0x7649ab[_0x55b304(0xf4)]===_0x55b304(0xdc))_0x8d3cd3[_0x4e7d8b][_0x55b304(0x105)]++;});const _0x4ee783=document[_0x10a9d3(0x153)]('analyticsList');_0x4ee783[_0x10a9d3(0x152)]='';const _0x4c228a=Object['entries'](_0x8d3cd3)[_0x10a9d3(0x115)]((_0x13d383,_0x170eb7)=>_0x170eb7[0x1][_0x10a9d3(0xf7)]-_0x13d383[0x1][_0x10a9d3(0xf7)]);if(_0x4c228a[_0x10a9d3(0x120)]===0x0){_0x4ee783['innerHTML']=_0x10a9d3(0xca);return;}_0x4c228a[_0x10a9d3(0x13d)](([_0x22770e,_0xbfcb7f])=>{const _0x65d8c8=_0x10a9d3,_0x1f1d80=Math[_0x65d8c8(0x14e)](_0xbfcb7f[_0x65d8c8(0x105)]/_0xbfcb7f[_0x65d8c8(0xf7)]*0x64),_0x20d7c3=document['createElement']('div');_0x20d7c3[_0x65d8c8(0xef)]='client-stat-card',_0x20d7c3[_0x65d8c8(0x19c)][_0x65d8c8(0x19e)]=_0xbfcb7f[_0x65d8c8(0x193)],_0x20d7c3[_0x65d8c8(0x152)]=_0x65d8c8(0xc2)+_0x22770e[_0x65d8c8(0xfd)](0x0,0x5)+_0x65d8c8(0x110)+_0xbfcb7f['done']+'</span>\x20/\x20'+_0xbfcb7f[_0x65d8c8(0xf7)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1f1d80+_0x65d8c8(0x131),_0x4ee783[_0x65d8c8(0x109)](_0x20d7c3);});}function openDetails(_0x705b6c){const _0x551909=a3_0x135231;currentSession=_0x705b6c;const _0x38810a=new Date(_0x705b6c[_0x551909(0x188)]),_0xd4b070=_0x38810a['toLocaleDateString'](_0x551909(0x123),{'weekday':_0x551909(0x16d),'day':_0x551909(0x100),'month':_0x551909(0x16d)});document['getElementById'](_0x551909(0x1aa))[_0x551909(0x16e)]=_0xd4b070[_0x551909(0x15e)](0x0)[_0x551909(0xb9)]()+_0xd4b070[_0x551909(0x14d)](0x1),document[_0x551909(0x153)]('detTime')[_0x551909(0x16e)]=_0x705b6c[_0x551909(0x15b)]+_0x551909(0x13a)+_0x705b6c['end'],document[_0x551909(0x153)](_0x551909(0xbf))[_0x551909(0x16e)]=_0x705b6c['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x5b3e05=document[_0x551909(0x153)](_0x551909(0xf9)),_0x51966d=document['getElementById']('cancelContainer'),_0x138b09=_0x51966d[_0x551909(0x137)](_0x551909(0xc0)),_0xa2aed7=_0x51966d[_0x551909(0x137)](_0x551909(0x133)),_0x36510c=document[_0x551909(0x153)]('cancelHint');if(_0x705b6c[_0x551909(0xf4)]==='completed')_0x5b3e05[_0x551909(0x16e)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x5b3e05[_0x551909(0x19c)][_0x551909(0x193)]=_0x551909(0xe5),_0x51966d[_0x551909(0x19c)][_0x551909(0x190)]='none';else{_0x5b3e05['textContent']=_0x551909(0x180),_0x5b3e05[_0x551909(0x19c)][_0x551909(0x193)]=_0x551909(0x142),_0x51966d[_0x551909(0x19c)][_0x551909(0x190)]='block';const _0xcd2066=new Date(_0x705b6c[_0x551909(0x188)]+'T'+_0x705b6c['start']),_0x11d7d3=new Date(),_0x1732e9=(_0xcd2066-_0x11d7d3)/(0x3e8*0x3c*0x3c),_0x272bbb=coachProfiles[_0x705b6c['coachId']]&&coachProfiles[_0x705b6c[_0x551909(0xc5)]][_0x551909(0x10d)]?parseInt(coachProfiles[_0x705b6c[_0x551909(0xc5)]][_0x551909(0x10d)]):0x18;if(_0x272bbb===0x0||_0x1732e9>=_0x272bbb)_0x138b09[_0x551909(0x19c)][_0x551909(0x190)]=_0x551909(0x125),_0xa2aed7[_0x551909(0x19c)][_0x551909(0x190)]=_0x551909(0x125),_0x36510c[_0x551909(0x19c)]['display']=_0x551909(0xcd);else{_0x138b09[_0x551909(0x19c)][_0x551909(0x190)]=_0x551909(0xcd),_0xa2aed7['style'][_0x551909(0x190)]=_0x551909(0xcd),_0x36510c[_0x551909(0x19c)][_0x551909(0x190)]='block';let _0x30a7ec=_0x272bbb===0x0?_0x551909(0xf2):_0x551909(0x134)+_0x272bbb+_0x551909(0xf3);_0x36510c[_0x551909(0x16e)]=_0x551909(0x10a)+_0x30a7ec+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x551909(0x19b))['classList'][_0x551909(0xb8)](_0x551909(0xc3)),document[_0x551909(0x153)](_0x551909(0xc1))[_0x551909(0x165)][_0x551909(0xb8)]('open');}function closeAllSheets(){const _0x997096=a3_0x135231;document[_0x997096(0x153)](_0x997096(0x19b))[_0x997096(0x165)][_0x997096(0x128)]('active'),document[_0x997096(0x1a5)]('.sheet')['forEach'](_0x4e44bb=>_0x4e44bb[_0x997096(0x165)][_0x997096(0x128)](_0x997096(0xc7)));}function openSheet(_0x1f5c7c){const _0x423147=a3_0x135231;document[_0x423147(0x153)](_0x423147(0x19b))[_0x423147(0x165)]['add'](_0x423147(0xc3)),document[_0x423147(0x153)](_0x1f5c7c)[_0x423147(0x165)][_0x423147(0xb8)]('open');}function getLocalDateStr(_0x279ba7){const _0x402e1d=a3_0x135231,_0x545a54=_0x279ba7[_0x402e1d(0x17b)](),_0x18cd38=String(_0x279ba7[_0x402e1d(0x18e)]()+0x1)[_0x402e1d(0x177)](0x2,'0'),_0x9cbe7b=String(_0x279ba7['getDate']())['padStart'](0x2,'0');return _0x545a54+'-'+_0x18cd38+'-'+_0x9cbe7b;}function getStartOfWeek(_0x3a589b){const _0x24d127=a3_0x135231,_0x11023c=new Date(_0x3a589b),_0x15dbac=_0x11023c['getDay'](),_0x2e7876=_0x11023c[_0x24d127(0x184)]()-_0x15dbac+(_0x15dbac===0x0?-0x6:0x1);return _0x11023c[_0x24d127(0x1a4)](_0x2e7876),_0x11023c[_0x24d127(0x107)](0x0,0x0,0x0,0x0),_0x11023c;}function scrollToToday(){const _0xd27766=getLocalDateStr(new Date());setTimeout(()=>{const _0x34aee7=a3_0x3fd2,_0x9fd9b9=document[_0x34aee7(0x137)](_0x34aee7(0x169)+_0xd27766+'\x22]');if(_0x9fd9b9){const _0x429f52=document[_0x34aee7(0x153)](_0x34aee7(0x179)),_0x3adb10=_0x9fd9b9[_0x34aee7(0x158)]-_0x429f52[_0x34aee7(0x199)]/0x2+_0x9fd9b9[_0x34aee7(0xec)]/0x2;_0x429f52[_0x34aee7(0x1ab)]({'left':_0x3adb10,'behavior':_0x34aee7(0x162)}),_0x429f52['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x90f58d=a3_0x135231,_0x4acf80=new Date(),_0x45bce9=document['getElementById'](_0x90f58d(0x18d)),_0x5482ac=document[_0x90f58d(0x153)]('timeLineBadge'),_0x1d9bc4=(_0x4acf80['getHours']()*0x3c+_0x4acf80[_0x90f58d(0x1a7)]())/0x3c*GRID_H;_0x45bce9[_0x90f58d(0x19c)][_0x90f58d(0x11f)]=_0x1d9bc4+'px',_0x45bce9[_0x90f58d(0x19c)]['display']=_0x90f58d(0x125),_0x5482ac[_0x90f58d(0x19c)][_0x90f58d(0x11f)]=_0x1d9bc4+'px',_0x5482ac[_0x90f58d(0x19c)][_0x90f58d(0x190)]='block',_0x5482ac[_0x90f58d(0x16e)]=String(_0x4acf80[_0x90f58d(0x18c)]())[_0x90f58d(0x177)](0x2,'0')+':'+String(_0x4acf80[_0x90f58d(0x1a7)]())[_0x90f58d(0x177)](0x2,'0');}function a3_0x355e(){const _0x12d975=['href','cancel_window','coach_profiles','calc(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstChild','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','clients','sort','.day-column','push','planned','custom','now','#0a84ff','.day-col-header','getTime','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','top','length','1875492phAFdC','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','ru-RU','reschedule','block','data','find','remove','client_cancel','width','</div><div\x20class=\x22dch-num\x22>','offClick','#050505','client_load','getDay','setItem','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','227185grhRtr','.btn-reschedule','–∑–∞\x20','anStart','pattern','querySelector','rsDatesTrack','end','\x20-\x20','rescheduleSheet','toLocaleString','forEach','then','createDocumentFragment','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','\x20–≤\x20','var(--acc-blue)','data-day-idx','<div\x20class=\x22rs-day-name\x22>','setHeaderColor','2dQfJQo','anEnd','json','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Critical\x20TMA\x20Error:','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏',':00</span>','slice','round','rsSlotsGrid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','BackButton','innerHTML','getElementById','toast','cid','syncLoad','day-off-overlay\x20stripe-bg','offsetLeft','1064FwuCrT','max','start','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','filter','charAt','floor','initDataUnsafe','20832cyRMKH','auto','visible','customConfirm','classList','600','px\x200px','scrollLeft','.day-col-header[data-date=\x22','div','saveLocally','initData','long','textContent','apply','week','Error\x20setting\x20back\x20button:','ccTitle','uc_client_settings','constructor','search','fontWeight','padStart','Telegram','matrixViewport','day-col-header\x20','getFullYear','rgba(10,\x20132,\x20255,\x20','left','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','px\x20-','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rgba(','ranges','48iFPlMO','getDate','createElement','8899JsYFgv','value','dateStr','anTotalStats','disableVerticalSwipes','backgroundPosition','getHours','globalTimeLine','getMonth','.period-switch\x20.p-btn','display','parse','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','color','stopPropagation','substring','startsWith','findIndex','\x20status-completed','clientWidth','keys','overlay','style','T00:00:00','borderLeftColor','zIndex','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','blocked-range-part\x20stripe-bg','insertBefore','applyData','setDate','querySelectorAll','v9.5-CLIENT-ANALYTICS','getMinutes','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','strokeDashoffset','detDate','scrollTo','52179FufVkx','gridColumns','getAttribute','add','toUpperCase','split','addEventListener','–û—Ç–º–µ–Ω–µ–Ω–æ','838740RaccvM','setAttribute','detNote','.btn-cancel','detailsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','active','min','coachId','<span>','open','loadLocal','daysHeaderTrack','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','ccYesBtn','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','none','\x20–∏–∑\x20','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','user','WebApp','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','height','headerMonth','88poJfRn','join','<div\x20class=\x22dch-day\x22>','log','toString','data-date','anPercent','completed','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','setBackgroundColor','DOMContentLoaded','button','month','anCustomDates','onClick','map','var(--acc-green)','error','26761UluSmO','POST','8226430EkgMKp','colIndex','settings','offsetWidth','test','onclick','className','getItem','Unknown','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20—á.','status','(((.+)+)+)+$','scroll','total','today','detStatus','get_slots','time-label','%\x20+\x202px)','substr','mini','day-column\x20','numeric','seriesId','</div>','calendar','show','done','exceptions','setHours','stringify','appendChild','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','event-card'];a3_0x355e=function(){return _0x12d975;};return a3_0x355e();}function onScroll(){const _0x26da9d=a3_0x135231,_0x4db028=document[_0x26da9d(0x153)](_0x26da9d(0x179)),_0x5801de=document[_0x26da9d(0x1a5)](_0x26da9d(0x11c));for(let _0x4ed354 of _0x5801de)if(_0x4ed354[_0x26da9d(0x158)]>=_0x4db028[_0x26da9d(0x168)]){const _0x1b030e=new Date(_0x4ed354['getAttribute'](_0x26da9d(0xda)));document['getElementById'](_0x26da9d(0xd4))[_0x26da9d(0x16e)]=_0x1b030e[_0x26da9d(0x13c)]('ru',{'month':_0x26da9d(0x16d)})['toUpperCase']()+'\x20'+_0x1b030e[_0x26da9d(0x17b)]();break;}}function showToast(_0x5a1e4a){const _0x455801=a3_0x135231,_0x327ea2=document[_0x455801(0x153)](_0x455801(0x154));_0x327ea2['textContent']=_0x5a1e4a,_0x327ea2[_0x455801(0x165)][_0x455801(0xb8)](_0x455801(0x104)),setTimeout(()=>_0x327ea2[_0x455801(0x165)]['remove'](_0x455801(0x104)),0x7d0);}function handleInfiniteScroll(){const _0x407a0a=a3_0x135231,_0x50f0d2=document['getElementById']('matrixViewport'),_0x251477=_0x50f0d2['scrollLeft'],_0x429d34=_0x50f0d2['scrollWidth'],_0x3e3d9b=_0x50f0d2[_0x407a0a(0x199)];if(_0x429d34-(_0x251477+_0x3e3d9b)<0x12c){const _0x510b09=endOffset;endOffset+=0xe,renderDayRange(_0x510b09+0x1,endOffset),reRenderBlocks();}if(_0x251477<0x12c){const _0x1f97b5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1f97b5-0x1),_0x50f0d2[_0x407a0a(0x168)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x58ee83,_0x112025){const _0xae1ffb=a3_0x135231,_0x327e91=document[_0xae1ffb(0x153)]('daysHeaderTrack'),_0x5a9f34=document[_0xae1ffb(0x153)](_0xae1ffb(0x1ad)),_0x2e79a4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54f72c=new Date();_0x54f72c['setHours'](0x0,0x0,0x0,0x0);const _0x4923a9=getLocalDateStr(new Date()),_0x24b21d=document[_0xae1ffb(0x13f)](),_0x49d740=document['createDocumentFragment']();for(let _0x364897=_0x58ee83;_0x364897<=_0x112025;_0x364897++){const _0x10a81b=new Date(_0x54f72c);_0x10a81b[_0xae1ffb(0x1a4)](_0x10a81b['getDate']()+_0x364897);const _0x1761d4=getLocalDateStr(_0x10a81b);let _0x5dbc17=_0x10a81b[_0xae1ffb(0x12f)]()-0x1;if(_0x5dbc17===-0x1)_0x5dbc17=0x6;const _0x375da1=_0x1761d4===_0x4923a9,_0x22c191=document[_0xae1ffb(0x185)](_0xae1ffb(0x16a));_0x22c191[_0xae1ffb(0xef)]=_0xae1ffb(0x17a)+(_0x375da1?_0xae1ffb(0xf8):''),_0x22c191['setAttribute'](_0xae1ffb(0xda),_0x1761d4),_0x22c191['innerHTML']=_0xae1ffb(0xd7)+_0x2e79a4[_0x5dbc17]+_0xae1ffb(0x12b)+_0x10a81b[_0xae1ffb(0x184)]()+'</div>',_0x24b21d[_0xae1ffb(0x109)](_0x22c191);const _0x27a281=document[_0xae1ffb(0x185)](_0xae1ffb(0x16a));_0x27a281[_0xae1ffb(0xef)]=_0xae1ffb(0xff)+(_0x375da1?'today':''),_0x27a281[_0xae1ffb(0xbe)]('data-date',_0x1761d4),_0x27a281['setAttribute'](_0xae1ffb(0x143),_0x5dbc17),_0x49d740[_0xae1ffb(0x109)](_0x27a281);}_0x327e91[_0xae1ffb(0x1a2)](_0x24b21d,_0x327e91[_0xae1ffb(0x112)]),_0x5a9f34[_0xae1ffb(0x1a2)](_0x49d740,_0x5a9f34[_0xae1ffb(0x137)](_0xae1ffb(0x116)));}function hexToRgba(_0xb7e099,_0x18e7e5){const _0x1515bf=a3_0x135231;let _0x35f935;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1515bf(0xed)](_0xb7e099))return _0x35f935=_0xb7e099[_0x1515bf(0x195)](0x1)[_0x1515bf(0xba)](''),_0x35f935[_0x1515bf(0x120)]==0x3&&(_0x35f935=[_0x35f935[0x0],_0x35f935[0x0],_0x35f935[0x1],_0x35f935[0x1],_0x35f935[0x2],_0x35f935[0x2]]),_0x35f935='0x'+_0x35f935[_0x1515bf(0xd6)](''),_0x1515bf(0x181)+[_0x35f935>>0x10&0xff,_0x35f935>>0x8&0xff,_0x35f935&0xff][_0x1515bf(0xd6)](',')+','+_0x18e7e5+')';return _0x1515bf(0x17c)+_0x18e7e5+')';}let confirmResolver=null;function a3_0x3fd2(_0x48d797,_0x13b6e0){_0x48d797=_0x48d797-0xb8;const _0x575b86=a3_0x355e();let _0x21564f=_0x575b86[_0x48d797];return _0x21564f;}function showCustomConfirm(_0xed6b8c,_0xc993b5,_0x27a04c=!![]){const _0x380f71=a3_0x135231;document[_0x380f71(0x153)](_0x380f71(0x172))[_0x380f71(0x16e)]=_0xed6b8c,document['getElementById']('ccText')[_0x380f71(0x16e)]=_0xc993b5;const _0xb0d70d=document[_0x380f71(0x153)](_0x380f71(0xcb));return _0x27a04c?(_0xb0d70d[_0x380f71(0x19c)][_0x380f71(0x193)]='#ff453a',_0xb0d70d[_0x380f71(0x19c)][_0x380f71(0x176)]=_0x380f71(0x166)):(_0xb0d70d['style'][_0x380f71(0x193)]='#0a84ff',_0xb0d70d[_0x380f71(0x19c)][_0x380f71(0x176)]=_0x380f71(0x166)),new Promise(_0x2f8579=>{const _0x5ec315=_0x380f71;confirmResolver=_0x2f8579,document[_0x5ec315(0x153)]('customConfirm')[_0x5ec315(0x165)][_0x5ec315(0xb8)](_0x5ec315(0x163));});}function resolveCustomConfirm(_0x511d95){const _0xa14c7e=a3_0x135231;document[_0xa14c7e(0x153)](_0xa14c7e(0x164))[_0xa14c7e(0x165)][_0xa14c7e(0x128)]('visible');if(confirmResolver)confirmResolver(_0x511d95);}async function tryCancelCurrentSession(){const _0x2ad2c2=a3_0x135231;if(!currentSession)return;const _0x26d87a=await showCustomConfirm(_0x2ad2c2(0xdd),_0x2ad2c2(0x1a0),!![]);if(!_0x26d87a)return;const _0x3d8e19=currentSession;closeAllSheets(),sessions=sessions[_0x2ad2c2(0x15d)](_0x5cc69f=>_0x5cc69f['id']!==_0x3d8e19['id']),reRenderBlocks(),showToast(_0x2ad2c2(0xbc)),lastUserActionTime=Date[_0x2ad2c2(0x11a)]();try{const _0x147c01=window['Telegram']?.[_0x2ad2c2(0xd1)],_0x44f5d1=await fetch(API_URL,{'method':_0x2ad2c2(0xe8),'body':JSON[_0x2ad2c2(0x108)]({'action':_0x2ad2c2(0x129),'init_data':_0x147c01?.[_0x2ad2c2(0x16c)]||'','coachId':_0x3d8e19['coachId'],'dateStr':_0x3d8e19['dateStr'],'sessionId':_0x3d8e19['id']})});if(_0x44f5d1['ok'])DataManager[_0x2ad2c2(0x16b)]();}catch(_0x9898ac){showToast(_0x2ad2c2(0x14b));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xc85e60=a3_0x135231;if(!currentSession)return;document[_0xc85e60(0x153)](_0xc85e60(0xc1))[_0xc85e60(0x165)]['remove']('open'),document[_0xc85e60(0x153)](_0xc85e60(0x13b))[_0xc85e60(0x165)][_0xc85e60(0xb8)]('open');const _0x2f5c89=document[_0xc85e60(0x153)](_0xc85e60(0x138)),_0x5531b8=document[_0xc85e60(0x153)](_0xc85e60(0x14f));_0x2f5c89[_0xc85e60(0x152)]='',_0x5531b8['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x453767,_0x3b2b59]=currentSession[_0xc85e60(0x15b)][_0xc85e60(0xba)](':')[_0xc85e60(0xe4)](Number),[_0x48e043,_0x45867c]=currentSession[_0xc85e60(0x139)]['split'](':')[_0xc85e60(0xe4)](Number),_0x2fd24a=_0x48e043*0x3c+_0x45867c-(_0x453767*0x3c+_0x3b2b59);try{const _0x5ed5cf=window[_0xc85e60(0x178)]?.[_0xc85e60(0xd1)],_0x541642=await fetch(API_URL,{'method':_0xc85e60(0xe8),'body':JSON[_0xc85e60(0x108)]({'action':_0xc85e60(0xfa),'coachId':currentSession['coachId'],'duration':_0x2fd24a,'init_data':_0x5ed5cf?.[_0xc85e60(0x16c)]||'','excludeSessionId':currentSession['id']})}),_0x1b11e3=await _0x541642[_0xc85e60(0x148)]();_0x1b11e3['ok']&&_0x1b11e3[_0xc85e60(0x126)]?(availableSlotsCache=_0x1b11e3[_0xc85e60(0x126)],renderRescheduleDates()):_0x5531b8['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x520a50){_0x5531b8[_0xc85e60(0x152)]=_0xc85e60(0x140);}}function renderRescheduleDates(){const _0x5cedf7=a3_0x135231,_0x352e08=document[_0x5cedf7(0x153)]('rsDatesTrack');_0x352e08[_0x5cedf7(0x152)]='';const _0xde9a15=Object[_0x5cedf7(0x19a)](availableSlotsCache)[_0x5cedf7(0x115)](),_0x134227=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xde9a15[_0x5cedf7(0x120)]===0x0){document['getElementById'](_0x5cedf7(0x14f))[_0x5cedf7(0x152)]=_0x5cedf7(0x122);return;}_0xde9a15['forEach']((_0x1d25fb,_0x53640a)=>{const _0x149dee=_0x5cedf7,_0x5d0bde=new Date(_0x1d25fb),_0x1db809=_0x134227[_0x5d0bde['getDay']()],_0x15d895=_0x5d0bde[_0x149dee(0x184)](),_0x35ad48=document[_0x149dee(0x185)](_0x149dee(0x16a));_0x35ad48[_0x149dee(0xef)]='rs-date-chip';if(_0x53640a===0x0)_0x35ad48[_0x149dee(0x165)][_0x149dee(0xb8)](_0x149dee(0xc3));_0x35ad48[_0x149dee(0x152)]=_0x149dee(0x144)+_0x1db809+'</div><div\x20class=\x22rs-day-num\x22>'+_0x15d895+_0x149dee(0x102),_0x35ad48[_0x149dee(0xee)]=()=>selectRsDate(_0x1d25fb,_0x35ad48),_0x352e08[_0x149dee(0x109)](_0x35ad48);}),selectRsDate(_0xde9a15[0x0],_0x352e08[_0x5cedf7(0x112)]);}function selectRsDate(_0x1a0d63,_0x385774){const _0x4738e5=a3_0x135231;selectedRsDate=_0x1a0d63,document['querySelectorAll']('.rs-date-chip')[_0x4738e5(0x13d)](_0x370f58=>_0x370f58['classList']['remove']('active'));if(_0x385774)_0x385774[_0x4738e5(0x165)][_0x4738e5(0xb8)](_0x4738e5(0xc3));const _0x21eeec=document[_0x4738e5(0x153)](_0x4738e5(0x14f));_0x21eeec['innerHTML']='';const _0x24be36=availableSlotsCache[_0x1a0d63]||[];if(_0x24be36[_0x4738e5(0x120)]===0x0){_0x21eeec[_0x4738e5(0x152)]=_0x4738e5(0x17e);return;}_0x24be36['forEach'](_0x3613e4=>{const _0x585cfa=_0x4738e5,_0xc68a40=document[_0x585cfa(0x185)](_0x585cfa(0xe0));_0xc68a40['className']='rs-time-btn',_0xc68a40['textContent']=_0x3613e4,_0xc68a40[_0x585cfa(0xee)]=()=>confirmReschedule(_0x3613e4),_0x21eeec[_0x585cfa(0x109)](_0xc68a40);});}async function confirmReschedule(_0x467b73){const _0xbc8937=a3_0x135231,_0x4056fa=new Date(selectedRsDate),_0x4a1433=_0x4056fa['toLocaleDateString'](_0xbc8937(0x123),{'day':_0xbc8937(0x100),'month':'long'}),_0x3089cc=await showCustomConfirm(_0xbc8937(0x11e),_0xbc8937(0xcf)+_0x4a1433+_0xbc8937(0x141)+_0x467b73+'?',![]);if(!_0x3089cc)return;closeAllSheets(),showToast(_0xbc8937(0x15c)),lastUserActionTime=Date[_0xbc8937(0x11a)]();const _0x4d8000=currentSession[_0xbc8937(0x188)],_0x5ead64=currentSession['id'],[_0x49bd38,_0x65cd2]=currentSession[_0xbc8937(0x15b)]['split'](':')[_0xbc8937(0xe4)](Number),[_0x5c2273,_0x5b5eb4]=currentSession[_0xbc8937(0x139)]['split'](':')[_0xbc8937(0xe4)](Number),_0xebb860=_0x5c2273*0x3c+_0x5b5eb4-(_0x49bd38*0x3c+_0x65cd2),[_0x439fb7,_0x2c8446]=_0x467b73[_0xbc8937(0xba)](':')[_0xbc8937(0xe4)](Number),_0x330641=_0x439fb7*0x3c+_0x2c8446+_0xebb860,_0x5cf012=Math[_0xbc8937(0x15f)](_0x330641/0x3c),_0x37222e=_0x330641%0x3c,_0x523a38=String(_0x5cf012)[_0xbc8937(0x177)](0x2,'0')+':'+String(_0x37222e)['padStart'](0x2,'0'),_0x2f8776=sessions[_0xbc8937(0x197)](_0x331219=>_0x331219['id']===_0x5ead64);_0x2f8776!==-0x1&&(sessions[_0x2f8776][_0xbc8937(0x188)]=selectedRsDate,sessions[_0x2f8776][_0xbc8937(0x15b)]=_0x467b73,sessions[_0x2f8776]['end']=_0x523a38,reRenderBlocks());try{const _0x582c65=window[_0xbc8937(0x178)]?.[_0xbc8937(0xd1)],_0x2949f3=await fetch(API_URL,{'method':_0xbc8937(0xe8),'body':JSON[_0xbc8937(0x108)]({'action':_0xbc8937(0x124),'init_data':_0x582c65?.[_0xbc8937(0x16c)]||'','oldSessionId':_0x5ead64,'oldDate':_0x4d8000,'newDate':selectedRsDate,'newTime':_0x467b73,'coachId':currentSession[_0xbc8937(0xc5)]})}),_0xeb5ae6=await _0x2949f3[_0xbc8937(0x148)]();!_0xeb5ae6['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0xbc8937(0x156)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x28e92f){showToast(_0xbc8937(0x14b));}}document[a3_0x135231(0xbb)](a3_0x135231(0xdf),init);