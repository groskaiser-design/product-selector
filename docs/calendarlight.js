const a3_0x29c9cb=a3_0x45f7;(function(_0x1fa49d,_0x24a4c0){const _0x1ae88d=a3_0x45f7,_0x50b644=_0x1fa49d();while(!![]){try{const _0x59a596=-parseInt(_0x1ae88d(0x280))/0x1+parseInt(_0x1ae88d(0x263))/0x2*(parseInt(_0x1ae88d(0x28a))/0x3)+parseInt(_0x1ae88d(0x25c))/0x4+parseInt(_0x1ae88d(0x236))/0x5+-parseInt(_0x1ae88d(0x1c6))/0x6*(-parseInt(_0x1ae88d(0x1cb))/0x7)+parseInt(_0x1ae88d(0x22f))/0x8*(parseInt(_0x1ae88d(0x1d7))/0x9)+-parseInt(_0x1ae88d(0x271))/0xa;if(_0x59a596===_0x24a4c0)break;else _0x50b644['push'](_0x50b644['shift']());}catch(_0x54d2bf){_0x50b644['push'](_0x50b644['shift']());}}}(a3_0x593e,0x739e6));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x29c9cb(0x1f9),GRID_H=0x3c,KEY_SESSIONS=a3_0x29c9cb(0x1e9),KEY_SETTINGS=a3_0x29c9cb(0x295),KEY_CLIENTS=a3_0x29c9cb(0x207);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x29c9cb(0x291),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x48ab62=a3_0x29c9cb,_0x38c52c=(function(){let _0x12a5df=!![];return function(_0x40ff5d,_0x413f37){const _0x981d3a=_0x12a5df?function(){const _0x38f362=a3_0x45f7;if(_0x413f37){const _0xab73ff=_0x413f37[_0x38f362(0x224)](_0x40ff5d,arguments);return _0x413f37=null,_0xab73ff;}}:function(){};return _0x12a5df=![],_0x981d3a;};}()),_0x2e6d9b=_0x38c52c(this,function(){const _0x3f7eeb=a3_0x45f7;return _0x2e6d9b[_0x3f7eeb(0x1f5)]()[_0x3f7eeb(0x1e8)](_0x3f7eeb(0x23e))['toString']()[_0x3f7eeb(0x297)](_0x2e6d9b)[_0x3f7eeb(0x1e8)](_0x3f7eeb(0x23e));});_0x2e6d9b();try{const _0x573891=window[_0x48ab62(0x1d2)]?.[_0x48ab62(0x1f3)];if(!_0x573891)return;_0x573891['ready'](),_0x573891['expand']();try{_0x573891[_0x48ab62(0x1cf)](_0x48ab62(0x221)),_0x573891['setBackgroundColor']&&_0x573891[_0x48ab62(0x1f7)](_0x48ab62(0x221));}catch(_0x260e0d){console[_0x48ab62(0x1f2)]('Error\x20setting\x20color:',_0x260e0d);}try{_0x573891['BackButton']&&(_0x573891[_0x48ab62(0x252)][_0x48ab62(0x26f)](),_0x573891['BackButton'][_0x48ab62(0x286)](),_0x573891[_0x48ab62(0x252)][_0x48ab62(0x29c)](function(){const _0xb06e12=_0x48ab62;window[_0xb06e12(0x294)]['href']=_0xb06e12(0x290);}));}catch(_0x96d632){console[_0x48ab62(0x1f2)]('Error\x20setting\x20back\x20button:',_0x96d632);}try{if(_0x573891['disableVerticalSwipes'])_0x573891[_0x48ab62(0x242)]();}catch(_0xdfa00f){}}catch(_0x1aceda){console['error'](_0x48ab62(0x284),_0x1aceda);}}());function isAdmin(){const _0x2cef81=a3_0x29c9cb;try{const _0x4200c9=Number(window[_0x2cef81(0x1d2)]?.[_0x2cef81(0x1f3)]?.['initDataUnsafe']?.[_0x2cef81(0x29e)]?.['id']);return _0x4200c9===0xbaf7174;}catch(_0xa30240){return![];}}const DataManager={'saveLocally'(){const _0x215529=a3_0x29c9cb;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x215529(0x279)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x215529(0x279)](clients)),localStorage[_0x215529(0x23a)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4d7188){}},'loadLocal'(){const _0x1b441d=a3_0x29c9cb;try{const _0x1cec09=localStorage[_0x1b441d(0x298)](KEY_SESSIONS);if(_0x1cec09)sessions=JSON[_0x1b441d(0x22a)](_0x1cec09);const _0x559e99=localStorage[_0x1b441d(0x298)](KEY_CLIENTS);if(_0x559e99)clients=JSON[_0x1b441d(0x22a)](_0x559e99);const _0x1c0866=localStorage[_0x1b441d(0x298)](KEY_SETTINGS);if(_0x1c0866){const _0x268da9=JSON['parse'](_0x1c0866);if(_0x268da9[_0x1b441d(0x1e6)])availabilityPattern=_0x268da9[_0x1b441d(0x1e6)];if(_0x268da9[_0x1b441d(0x1ee)])specialRanges=_0x268da9[_0x1b441d(0x1ee)];if(_0x268da9[_0x1b441d(0x24b)])dateExceptions=_0x268da9['exceptions'];}}catch(_0x4fddb1){}},async 'syncLoad'(){const _0x2f4798=a3_0x29c9cb,_0x5a07ff=new Date(),_0x227c71=_0x5a07ff[_0x2f4798(0x261)]()+'-'+String(_0x5a07ff[_0x2f4798(0x255)]()+0x1)[_0x2f4798(0x1dd)](0x2,'0'),_0x61c9e1=new Date(_0x5a07ff);_0x61c9e1['setMonth'](_0x5a07ff[_0x2f4798(0x255)]()+0x1);const _0x4e28d4=_0x61c9e1[_0x2f4798(0x261)]()+'-'+String(_0x61c9e1[_0x2f4798(0x255)]()+0x1)['padStart'](0x2,'0'),_0x26226f=Date[_0x2f4798(0x2ab)]();try{const _0x1a329b=window[_0x2f4798(0x1d2)]?.['WebApp'],_0x13f53b=_0x1a329b?.[_0x2f4798(0x239)]||'',[_0x4a44b8,_0x4f5367]=await Promise[_0x2f4798(0x20e)]([fetch(API_URL,{'method':_0x2f4798(0x225),'body':JSON[_0x2f4798(0x279)]({'action':'client_load','init_data':_0x13f53b,'month_str':_0x227c71})})[_0x2f4798(0x2aa)](_0x86ff3d=>_0x86ff3d['json']()),fetch(API_URL,{'method':_0x2f4798(0x225),'body':JSON[_0x2f4798(0x279)]({'action':_0x2f4798(0x282),'init_data':_0x13f53b,'month_str':_0x4e28d4})})[_0x2f4798(0x2aa)](_0x3d18c8=>_0x3d18c8['json']())]);if(lastUserActionTime>_0x26226f){console[_0x2f4798(0x1f2)](_0x2f4798(0x1e2));return;}if(_0x4a44b8['ok'])this[_0x2f4798(0x1f0)](_0x4a44b8[_0x2f4798(0x1e3)],_0x227c71);if(_0x4f5367['ok'])this[_0x2f4798(0x1f0)](_0x4f5367[_0x2f4798(0x1e3)],_0x4e28d4);this[_0x2f4798(0x1e1)]();}catch(_0x55625f){}},'applyData'(_0x1946be,_0x5339bf){const _0x448a0b=a3_0x29c9cb;if(!_0x1946be)return;if(_0x1946be['settings']){if(_0x1946be[_0x448a0b(0x2a4)][_0x448a0b(0x1e6)])availabilityPattern=_0x1946be['settings'][_0x448a0b(0x1e6)];if(_0x1946be[_0x448a0b(0x2a4)]['ranges'])specialRanges=_0x1946be['settings']['ranges'];if(_0x1946be[_0x448a0b(0x2a4)][_0x448a0b(0x24b)])dateExceptions=_0x1946be[_0x448a0b(0x2a4)][_0x448a0b(0x24b)];}if(_0x1946be[_0x448a0b(0x26c)]&&Array['isArray'](_0x1946be[_0x448a0b(0x26c)]))clients=_0x1946be[_0x448a0b(0x26c)];_0x1946be['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x1946be[_0x448a0b(0x21d)]}),_0x1946be[_0x448a0b(0x247)]&&(sessions=sessions['filter'](_0xb3d917=>!_0xb3d917[_0x448a0b(0x1dc)]['startsWith'](_0x5339bf)),Object['keys'](_0x1946be[_0x448a0b(0x247)])[_0x448a0b(0x21a)](_0x4bb433=>{const _0x2378df=_0x448a0b,_0x21740d=_0x1946be[_0x2378df(0x247)][_0x4bb433];_0x21740d[_0x2378df(0x21a)](_0x34036a=>{const _0xbdea9a=_0x2378df;sessions['push']({'id':_0x34036a['i'],'clientId':_0x34036a['c'],'coachId':_0x34036a[_0xbdea9a(0x285)],'dateStr':_0x5339bf+'-'+_0x4bb433[_0xbdea9a(0x1dd)](0x2,'0'),'start':_0x34036a['s'],'end':_0x34036a['e'],'note':_0x34036a['n']||'','status':_0x34036a['st']||_0xbdea9a(0x222),'seriesId':_0x34036a[_0xbdea9a(0x292)]});});})),reRenderBlocks();}};function init(){const _0x46f9fe=a3_0x29c9cb;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x46f9fe(0x206))[_0x46f9fe(0x1c1)](_0x46f9fe(0x230),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x46f9fe(0x257)]();}function renderTimeColumn(){const _0x1854bb=a3_0x29c9cb,_0x522473=document[_0x1854bb(0x200)](_0x1854bb(0x272)),_0x1a5da7=document['getElementById'](_0x1854bb(0x223));_0x522473[_0x1854bb(0x21c)]='',_0x522473[_0x1854bb(0x1f4)](_0x1a5da7);for(let _0x2a84db=0x0;_0x2a84db<0x18;_0x2a84db++){const _0x231708=document[_0x1854bb(0x28e)](_0x1854bb(0x1ea));_0x231708[_0x1854bb(0x283)]='time-label';if(_0x2a84db>0x0)_0x231708[_0x1854bb(0x21c)]='<span>'+String(_0x2a84db)[_0x1854bb(0x1dd)](0x2,'0')+_0x1854bb(0x23d);_0x522473['appendChild'](_0x231708);}}function renderDayRange(_0x503366,_0x672225){const _0x2990c6=a3_0x29c9cb,_0x417997=document[_0x2990c6(0x200)](_0x2990c6(0x275)),_0x301d66=document[_0x2990c6(0x200)](_0x2990c6(0x1ed)),_0x392ee5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd92dfc=new Date();_0xd92dfc[_0x2990c6(0x20a)](0x0,0x0,0x0,0x0);const _0x499706=getLocalDateStr(new Date());for(let _0x4b5e09=_0x503366;_0x4b5e09<=_0x672225;_0x4b5e09++){const _0x87ec1e=new Date(_0xd92dfc);_0x87ec1e[_0x2990c6(0x293)](_0x87ec1e[_0x2990c6(0x1f1)]()+_0x4b5e09);const _0x49b4e4=getLocalDateStr(_0x87ec1e);let _0x5eae89=_0x87ec1e['getDay']()-0x1;if(_0x5eae89===-0x1)_0x5eae89=0x6;const _0x1496f8=_0x49b4e4===_0x499706,_0x3d63f4=document['createElement']('div');_0x3d63f4[_0x2990c6(0x283)]=_0x2990c6(0x235)+(_0x1496f8?_0x2990c6(0x203):''),_0x3d63f4[_0x2990c6(0x1bd)](_0x2990c6(0x1b9),_0x49b4e4),_0x3d63f4[_0x2990c6(0x21c)]=_0x2990c6(0x24f)+_0x392ee5[_0x5eae89]+_0x2990c6(0x1de)+_0x87ec1e[_0x2990c6(0x1f1)]()+'</div>',_0x417997['appendChild'](_0x3d63f4);const _0x3c21b9=document[_0x2990c6(0x28e)](_0x2990c6(0x1ea));_0x3c21b9[_0x2990c6(0x283)]=_0x2990c6(0x213)+(_0x1496f8?'today':''),_0x3c21b9[_0x2990c6(0x1bd)]('data-date',_0x49b4e4),_0x3c21b9[_0x2990c6(0x1bd)](_0x2990c6(0x1c4),_0x5eae89),_0x301d66[_0x2990c6(0x1f4)](_0x3c21b9);}}function reRenderBlocks(){const _0x551ca5=a3_0x29c9cb;document['querySelectorAll'](_0x551ca5(0x1e4))[_0x551ca5(0x21a)](_0x222939=>{const _0x17fc68=_0x551ca5;_0x222939[_0x17fc68(0x266)](_0x17fc68(0x270))['forEach'](_0xd67670=>_0xd67670[_0x17fc68(0x2b0)]());const _0x26d78c=_0x222939['getAttribute'](_0x17fc68(0x1b9)),_0x5753b6=parseInt(_0x222939[_0x17fc68(0x254)](_0x17fc68(0x1c4))),_0x10870a=Math[_0x17fc68(0x205)](_0x222939[_0x17fc68(0x250)]);(availabilityPattern[_0x5753b6]||[])[_0x17fc68(0x21a)](_0x2ae41f=>{const _0x53402f=_0x17fc68,_0x29ca6d=document[_0x53402f(0x28e)]('div');_0x29ca6d[_0x53402f(0x283)]=_0x53402f(0x226),_0x29ca6d[_0x53402f(0x249)]['top']=_0x2ae41f*GRID_H+'px',_0x29ca6d[_0x53402f(0x249)]['backgroundPosition']='-'+_0x10870a+_0x53402f(0x276)+_0x2ae41f*GRID_H+'px',_0x222939[_0x53402f(0x1f4)](_0x29ca6d);});if(specialRanges[_0x17fc68(0x1eb)]>0x0){const _0x4df5a2=new Date(_0x26d78c+'T00:00:00')[_0x17fc68(0x228)](),_0x58ff2f=new Date(_0x26d78c+'T23:59:59')[_0x17fc68(0x228)]();specialRanges[_0x17fc68(0x21a)](_0xdf85b1=>{const _0x2c202a=_0x17fc68,_0x541fb1=new Date(_0xdf85b1[_0x2c202a(0x22e)])['getTime'](),_0x33560d=new Date(_0xdf85b1['end'])[_0x2c202a(0x228)](),_0x2f92c5=Math['max'](_0x4df5a2,_0x541fb1),_0x47898a=Math[_0x2c202a(0x24d)](_0x58ff2f,_0x33560d);if(_0x2f92c5<_0x47898a){const _0x27aa6f=(_0x2f92c5-_0x4df5a2)/0x36ee80*GRID_H,_0x4249a2=(_0x47898a-_0x2f92c5)/0x36ee80*GRID_H,_0x19ddfe=document[_0x2c202a(0x28e)](_0x2c202a(0x1ea));_0x4249a2>=23.5*GRID_H?(_0x19ddfe['className']='day-off-overlay\x20stripe-bg',_0x19ddfe[_0x2c202a(0x249)]['backgroundPosition']='-'+_0x10870a+_0x2c202a(0x27d)):(_0x19ddfe[_0x2c202a(0x283)]='blocked-range-part\x20stripe-bg',_0x19ddfe[_0x2c202a(0x249)]['top']=_0x27aa6f+'px',_0x19ddfe[_0x2c202a(0x249)][_0x2c202a(0x2a5)]=_0x4249a2+'px',_0x19ddfe[_0x2c202a(0x249)][_0x2c202a(0x1c5)]='-'+_0x10870a+_0x2c202a(0x276)+_0x27aa6f+'px'),_0x222939[_0x2c202a(0x1f4)](_0x19ddfe);}});}renderEventsForColumn(_0x222939,_0x26d78c);});}function renderEventsForColumn(_0x292f27,_0x22d9ed){const _0x449ad8=a3_0x29c9cb,_0x166283=sessions[_0x449ad8(0x2a9)](_0x3116ab=>_0x3116ab[_0x449ad8(0x1dc)]===_0x22d9ed),_0xfe1122=_0x166283['map'](_0x4c051d=>{const _0x57f183=_0x449ad8,[_0x34abcc,_0x5980a4]=_0x4c051d[_0x57f183(0x22e)][_0x57f183(0x1d3)](':')[_0x57f183(0x1c0)](Number),[_0x14cd78,_0x1bf00a]=_0x4c051d['end'][_0x57f183(0x1d3)](':')['map'](Number);return{'data':_0x4c051d,'start':_0x34abcc*0x3c+_0x5980a4,'end':_0x14cd78*0x3c+_0x1bf00a,'colIndex':0x0};});_0xfe1122[_0x449ad8(0x215)]((_0x5dc4af,_0x7a7d14)=>_0x5dc4af[_0x449ad8(0x22e)]-_0x7a7d14[_0x449ad8(0x22e)]||_0x7a7d14[_0x449ad8(0x1c3)]-_0x7a7d14[_0x449ad8(0x22e)]-(_0x5dc4af[_0x449ad8(0x1c3)]-_0x5dc4af[_0x449ad8(0x22e)]));const _0x57312e=[];_0xfe1122[_0x449ad8(0x21a)](_0x21f788=>{const _0x26d911=_0x449ad8;let _0x2d2722=![];for(let _0x5322db=0x0;_0x5322db<_0x57312e[_0x26d911(0x1eb)];_0x5322db++){const _0x201589=_0x57312e[_0x5322db];if(_0x21f788[_0x26d911(0x22e)]>=_0x201589[_0x201589[_0x26d911(0x1eb)]-0x1][_0x26d911(0x1c3)]){_0x201589[_0x26d911(0x24e)](_0x21f788),_0x21f788[_0x26d911(0x248)]=_0x5322db,_0x2d2722=!![];break;}}!_0x2d2722&&(_0x57312e['push']([_0x21f788]),_0x21f788['colIndex']=_0x57312e[_0x26d911(0x1eb)]-0x1);}),_0xfe1122['forEach'](_0x149bff=>{const _0x19f5df=_0x449ad8;let _0x1f1e39=0x0;_0xfe1122[_0x19f5df(0x21a)](_0x1714cd=>{const _0x3c838d=_0x19f5df;if(Math['max'](_0x149bff[_0x3c838d(0x22e)],_0x1714cd['start'])<Math['min'](_0x149bff['end'],_0x1714cd['end'])&&_0x1714cd[_0x3c838d(0x248)]>_0x1f1e39)_0x1f1e39=_0x1714cd[_0x3c838d(0x248)];});const _0x418007=_0x1f1e39+0x1,_0x3cbbcb=0x64/_0x418007,_0x4e98fc=_0x149bff[_0x19f5df(0x248)]*_0x3cbbcb,_0x48a4ae=document[_0x19f5df(0x28e)](_0x19f5df(0x1ea)),_0x3b8cd4=_0x149bff[_0x19f5df(0x1e3)];let _0x4efd56=_0x19f5df(0x1f8);if(clients&&clients['length']>0x0){const _0x9ef2e0=clients['find'](_0x133767=>String(_0x133767['id'])===String(_0x3b8cd4[_0x19f5df(0x23b)]));if(_0x9ef2e0&&_0x9ef2e0[_0x19f5df(0x21f)])_0x4efd56=_0x9ef2e0[_0x19f5df(0x21f)];}const _0x5ab910=_0x3b8cd4[_0x19f5df(0x1d4)]===_0x19f5df(0x289),_0x37f15f=_0x5ab910?0x1:0.45;_0x48a4ae[_0x19f5df(0x283)]='event-card'+(_0x5ab910?_0x19f5df(0x237):''),_0x48a4ae['style'][_0x19f5df(0x1ce)]=hexToRgba(_0x4efd56,_0x37f15f),_0x48a4ae[_0x19f5df(0x249)][_0x19f5df(0x278)]=_0x4efd56;const _0x3c8c4b=_0x149bff[_0x19f5df(0x22e)]/0x3c*GRID_H,_0x47701e=(_0x149bff['end']-_0x149bff[_0x19f5df(0x22e)])/0x3c*GRID_H;_0x48a4ae[_0x19f5df(0x249)]['top']=_0x3c8c4b+'px',_0x48a4ae['style'][_0x19f5df(0x2a5)]=Math[_0x19f5df(0x1d1)](_0x47701e,0x14)+'px',_0x48a4ae['style'][_0x19f5df(0x234)]=_0x19f5df(0x24c)+_0x3cbbcb+_0x19f5df(0x25e),_0x48a4ae[_0x19f5df(0x249)][_0x19f5df(0x211)]=_0x19f5df(0x24c)+_0x4e98fc+_0x19f5df(0x28d),_0x48a4ae['style'][_0x19f5df(0x204)]=0xa+_0x149bff[_0x19f5df(0x248)];if(_0x3cbbcb<0x55)_0x48a4ae['classList']['add']('mini');let _0x2e5e09='';if(_0x3b8cd4['seriesId'])_0x2e5e09+=_0x19f5df(0x256);if(_0x5ab910)_0x2e5e09+=_0x19f5df(0x29f);_0x48a4ae[_0x19f5df(0x21c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x3b8cd4[_0x19f5df(0x22e)]+_0x19f5df(0x26a)+_0x3b8cd4[_0x19f5df(0x1c3)]+_0x19f5df(0x209)+_0x2e5e09+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x48a4ae[_0x19f5df(0x253)]=_0x42410c=>{const _0x4eedd8=_0x19f5df;_0x42410c[_0x4eedd8(0x28b)](),openDetails(_0x3b8cd4);},_0x292f27['appendChild'](_0x48a4ae);});}function openAnalytics(){const _0x3a4f48=a3_0x29c9cb,_0xea7560=document[_0x3a4f48(0x28c)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x3a4f48(0x291),_0xea7560),openSheet(_0x3a4f48(0x1fe));}function setAnalyticsPeriod(_0x37a1ee,_0x401adc){const _0x2c8bad=a3_0x29c9cb;currentAnPeriod=_0x37a1ee,document[_0x2c8bad(0x266)](_0x2c8bad(0x1da))[_0x2c8bad(0x21a)](_0x3cd5df=>_0x3cd5df['classList'][_0x2c8bad(0x2b0)](_0x2c8bad(0x262)));if(_0x401adc)_0x401adc[_0x2c8bad(0x268)][_0x2c8bad(0x2a7)](_0x2c8bad(0x262));const _0x466ce2=document['getElementById'](_0x2c8bad(0x1c8));_0x466ce2['style'][_0x2c8bad(0x251)]=_0x37a1ee===_0x2c8bad(0x1ca)?_0x2c8bad(0x20c):'none';const _0x92b6b6=new Date();let _0x3eece2=new Date(),_0x1d6d29=new Date();if(_0x37a1ee===_0x2c8bad(0x291))_0x3eece2=getStartOfWeek(_0x92b6b6),_0x1d6d29=new Date(_0x3eece2),_0x1d6d29[_0x2c8bad(0x293)](_0x1d6d29['getDate']()+0x6);else{if(_0x37a1ee===_0x2c8bad(0x25f))_0x3eece2=new Date(_0x92b6b6['getFullYear'](),_0x92b6b6[_0x2c8bad(0x255)](),0x1),_0x1d6d29=new Date(_0x92b6b6[_0x2c8bad(0x261)](),_0x92b6b6[_0x2c8bad(0x255)]()+0x1,0x0);else{!document[_0x2c8bad(0x200)](_0x2c8bad(0x2ae))[_0x2c8bad(0x2ad)]&&(document[_0x2c8bad(0x200)]('anStart')[_0x2c8bad(0x2ad)]=getLocalDateStr(_0x92b6b6),document[_0x2c8bad(0x200)](_0x2c8bad(0x1bc))[_0x2c8bad(0x2ad)]=getLocalDateStr(_0x92b6b6));refreshAnalytics();return;}}document[_0x2c8bad(0x200)](_0x2c8bad(0x2ae))[_0x2c8bad(0x2ad)]=getLocalDateStr(_0x3eece2),document[_0x2c8bad(0x200)]('anEnd')['value']=getLocalDateStr(_0x1d6d29),refreshAnalytics();}function refreshAnalytics(){const _0x16a104=a3_0x29c9cb,_0x37099b=document[_0x16a104(0x200)](_0x16a104(0x2ae))['value'],_0x101900=document['getElementById'](_0x16a104(0x1bc))[_0x16a104(0x2ad)];if(!_0x37099b||!_0x101900)return;const _0x4938f2=sessions[_0x16a104(0x2a9)](_0x345157=>_0x345157['dateStr']>=_0x37099b&&_0x345157[_0x16a104(0x1dc)]<=_0x101900&&_0x345157[_0x16a104(0x1d4)]!==_0x16a104(0x288)),_0x4e9219=_0x4938f2['length'],_0xe63ae2=_0x4938f2[_0x16a104(0x2a9)](_0x30d397=>_0x30d397[_0x16a104(0x1d4)]===_0x16a104(0x289))['length'],_0x65eef8=_0x4e9219>0x0?Math['round'](_0xe63ae2/_0x4e9219*0x64):0x0;document[_0x16a104(0x200)]('anPercent')['textContent']=_0x65eef8+'%',document[_0x16a104(0x200)](_0x16a104(0x202))['textContent']=_0xe63ae2+_0x16a104(0x227)+_0x4e9219+_0x16a104(0x296);const _0x1f903b=document['getElementById']('anDonutCircle'),_0x3271a7=0x2*Math['PI']*0x23,_0x5ccc6e=_0x3271a7-_0x65eef8/0x64*_0x3271a7;_0x1f903b[_0x16a104(0x249)][_0x16a104(0x2af)]=_0x5ccc6e;const _0x416083={};_0x4938f2[_0x16a104(0x21a)](_0x542786=>{const _0x48f6a0=_0x16a104,_0x52c595=_0x542786[_0x48f6a0(0x265)]||_0x48f6a0(0x1f6);if(!_0x416083[_0x52c595]){const _0x3477be='#'+_0x52c595[_0x48f6a0(0x1f5)]()[_0x48f6a0(0x244)](0x0,0x6);_0x416083[_0x52c595]={'total':0x0,'done':0x0,'color':_0x3477be};}_0x416083[_0x52c595]['total']++;if(_0x542786[_0x48f6a0(0x1d4)]===_0x48f6a0(0x289))_0x416083[_0x52c595][_0x48f6a0(0x269)]++;});const _0x484089=document[_0x16a104(0x200)](_0x16a104(0x232));_0x484089[_0x16a104(0x21c)]='';const _0x8d2718=Object[_0x16a104(0x1d0)](_0x416083)[_0x16a104(0x215)]((_0xef156b,_0x59ffc3)=>_0x59ffc3[0x1]['total']-_0xef156b[0x1][_0x16a104(0x245)]);if(_0x8d2718['length']===0x0){_0x484089[_0x16a104(0x21c)]=_0x16a104(0x1ba);return;}_0x8d2718['forEach'](([_0x3e1f47,_0x5c86ba])=>{const _0x36e1e5=_0x16a104,_0x1b763a=Math[_0x36e1e5(0x205)](_0x5c86ba[_0x36e1e5(0x269)]/_0x5c86ba[_0x36e1e5(0x245)]*0x64),_0x4b2976=document[_0x36e1e5(0x28e)](_0x36e1e5(0x1ea));_0x4b2976[_0x36e1e5(0x283)]=_0x36e1e5(0x20d),_0x4b2976[_0x36e1e5(0x249)][_0x36e1e5(0x278)]=_0x5c86ba['color'],_0x4b2976[_0x36e1e5(0x21c)]=_0x36e1e5(0x216)+_0x3e1f47['substr'](0x0,0x5)+_0x36e1e5(0x1e0)+_0x5c86ba['done']+_0x36e1e5(0x240)+_0x5c86ba[_0x36e1e5(0x245)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1b763a+_0x36e1e5(0x260),_0x484089[_0x36e1e5(0x1f4)](_0x4b2976);});}function openDetails(_0x396656){const _0xd7a806=a3_0x29c9cb;currentSession=_0x396656;const _0x2a5c65=new Date(_0x396656[_0xd7a806(0x1dc)]),_0xe184e7=_0x2a5c65[_0xd7a806(0x1d8)](_0xd7a806(0x214),{'weekday':'long','day':_0xd7a806(0x2a2),'month':_0xd7a806(0x25a)});document[_0xd7a806(0x200)](_0xd7a806(0x26b))[_0xd7a806(0x219)]=_0xe184e7[_0xd7a806(0x21e)](0x0)['toUpperCase']()+_0xe184e7['slice'](0x1),document[_0xd7a806(0x200)](_0xd7a806(0x27a))[_0xd7a806(0x219)]=_0x396656[_0xd7a806(0x22e)]+_0xd7a806(0x26a)+_0x396656[_0xd7a806(0x1c3)],document[_0xd7a806(0x200)](_0xd7a806(0x2a3))[_0xd7a806(0x219)]=_0x396656[_0xd7a806(0x2a0)]||_0xd7a806(0x1be);const _0x40f73c=document['getElementById'](_0xd7a806(0x258)),_0x57a3cb=document[_0xd7a806(0x200)]('cancelContainer'),_0x4b8ba6=_0x57a3cb[_0xd7a806(0x28c)](_0xd7a806(0x1ef)),_0x288df1=_0x57a3cb['querySelector'](_0xd7a806(0x1cc)),_0x52958b=document[_0xd7a806(0x200)]('cancelHint');if(_0x396656[_0xd7a806(0x1d4)]===_0xd7a806(0x289))_0x40f73c[_0xd7a806(0x219)]=_0xd7a806(0x233),_0x40f73c['style'][_0xd7a806(0x21f)]=_0xd7a806(0x243),_0x57a3cb[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x287);else{_0x40f73c[_0xd7a806(0x219)]=_0xd7a806(0x22d),_0x40f73c[_0xd7a806(0x249)]['color']=_0xd7a806(0x229),_0x57a3cb[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x201);const _0x58eb9f=new Date(_0x396656['dateStr']+'T'+_0x396656[_0xd7a806(0x22e)]),_0x25bfca=new Date(),_0xade0d2=(_0x58eb9f-_0x25bfca)/(0x3e8*0x3c*0x3c),_0x3e1db7=coachProfiles[_0x396656[_0xd7a806(0x265)]]&&coachProfiles[_0x396656[_0xd7a806(0x265)]][_0xd7a806(0x238)]?parseInt(coachProfiles[_0x396656[_0xd7a806(0x265)]]['cancel_window']):0x18;if(_0x3e1db7===0x0||_0xade0d2>=_0x3e1db7)_0x4b8ba6[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x201),_0x288df1[_0xd7a806(0x249)]['display']=_0xd7a806(0x201),_0x52958b[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x287);else{_0x4b8ba6[_0xd7a806(0x249)][_0xd7a806(0x251)]='none',_0x288df1[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x287),_0x52958b[_0xd7a806(0x249)][_0xd7a806(0x251)]=_0xd7a806(0x201);let _0x1201e9=_0x3e1db7===0x0?_0xd7a806(0x1cd):_0xd7a806(0x2ac)+_0x3e1db7+'\x20—á.';_0x52958b[_0xd7a806(0x219)]=_0xd7a806(0x264)+_0x1201e9+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0xd7a806(0x210))[_0xd7a806(0x268)][_0xd7a806(0x2a7)](_0xd7a806(0x262)),document[_0xd7a806(0x200)](_0xd7a806(0x26e))[_0xd7a806(0x268)]['add'](_0xd7a806(0x20f));}function a3_0x593e(){const _0x34735f=['ranges','.btn-cancel','applyData','getDate','log','WebApp','appendChild','toString','Unknown','setBackgroundColor','#0a84ff','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','button','getDay','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','clientWidth','analyticsSheet','visible','getElementById','block','anTotalStats','today','zIndex','round','matrixViewport','uc_client_list','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','ccTitle','flex','client-stat-card','all','open','overlay','left','#ff453a','day-column\x20','ru-RU','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','getMinutes','textContent','forEach','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','innerHTML','coach_profiles','charAt','color','–û—Ç–º–µ–Ω–µ–Ω–æ','#050505','planned','timeLineBadge','apply','POST','blocked-slot\x20stripe-bg','\x20–∏–∑\x20','getTime','var(--acc-blue)','parse','createDocumentFragment','fontWeight','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','start','3470368QMalcr','scroll','.rs-date-chip','analyticsList','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','width','day-col-header\x20','4648275PWzDVm','\x20status-completed','cancel_window','initData','setItem','clientId','.day-col-header',':00</span>','(((.+)+)+)+$','toLocaleString','</span>\x20/\x20','getHours','disableVerticalSwipes','var(--acc-green)','substr','total','headerMonth','calendar','colIndex','style','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','exceptions','calc(','min','push','<div\x20class=\x22dch-day\x22>','offsetLeft','display','BackButton','onclick','getAttribute','getMonth','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','syncLoad','detStatus','toUpperCase','long','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','3150620omhwgl','\x20–≤\x20','%\x20-\x204px)','month','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getFullYear','active','80474RwKUUz','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','coachId','querySelectorAll','ccText','classList','done','\x20-\x20','detDate','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','detailsSheet','show','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','20439120SzJEzz','timeColumn','json','rgba(10,\x20132,\x20255,\x20','daysHeaderTrack','px\x20-','auto','borderLeftColor','stringify','detTime','top','insertBefore','px\x200px','rsDatesTrack','.sheet','403544yksUeD','toast','client_load','className','Critical\x20TMA\x20Error:','cid','offClick','none','cancelled','completed','3gUWhJw','stopPropagation','querySelector','%\x20+\x202px)','createElement','600','router.html','week','sid','setDate','location','uc_client_settings','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','constructor','getItem','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','scrollLeft','rsSlotsGrid','onClick','keys','user','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','note','globalTimeLine','numeric','detNote','settings','height','</div><div\x20class=\x22rs-day-num\x22>','add','get_slots','filter','then','now','–∑–∞\x20','value','anStart','strokeDashoffset','remove','data-date','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','scrollTop','anEnd','setAttribute','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','map','addEventListener','scrollWidth','end','data-day-idx','backgroundPosition','6kevyes','rgba(','anCustomDates','test','custom','2071237vzmVoD','.btn-reschedule','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','backgroundColor','setHeaderColor','entries','max','Telegram','split','status','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','rs-time-btn','18tXCWdW','toLocaleDateString','join','.period-switch\x20.p-btn','offsetWidth','dateStr','padStart','</div><div\x20class=\x22dch-num\x22>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','saveLocally','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','data','.day-column','customConfirm','pattern','</div>','search','uc_client_sessions','div','length','floor','gridColumns'];a3_0x593e=function(){return _0x34735f;};return a3_0x593e();}function closeAllSheets(){const _0xad4688=a3_0x29c9cb;document['getElementById'](_0xad4688(0x210))[_0xad4688(0x268)][_0xad4688(0x2b0)](_0xad4688(0x262)),document[_0xad4688(0x266)](_0xad4688(0x27f))[_0xad4688(0x21a)](_0x45f4a2=>_0x45f4a2[_0xad4688(0x268)]['remove'](_0xad4688(0x20f)));}function openSheet(_0x5a4736){const _0x4f075d=a3_0x29c9cb;document[_0x4f075d(0x200)]('overlay')['classList']['add'](_0x4f075d(0x262)),document['getElementById'](_0x5a4736)[_0x4f075d(0x268)][_0x4f075d(0x2a7)](_0x4f075d(0x20f));}function getLocalDateStr(_0x2cb66a){const _0x13352c=a3_0x29c9cb,_0x1374db=_0x2cb66a[_0x13352c(0x261)](),_0x88dd99=String(_0x2cb66a['getMonth']()+0x1)['padStart'](0x2,'0'),_0x192f65=String(_0x2cb66a[_0x13352c(0x1f1)]())[_0x13352c(0x1dd)](0x2,'0');return _0x1374db+'-'+_0x88dd99+'-'+_0x192f65;}function getStartOfWeek(_0x1730a3){const _0x2de427=a3_0x29c9cb,_0x3944af=new Date(_0x1730a3),_0x5353a2=_0x3944af['getDay'](),_0x2e6dfd=_0x3944af[_0x2de427(0x1f1)]()-_0x5353a2+(_0x5353a2===0x0?-0x6:0x1);return _0x3944af['setDate'](_0x2e6dfd),_0x3944af[_0x2de427(0x20a)](0x0,0x0,0x0,0x0),_0x3944af;}function scrollToToday(){const _0x13aca2=getLocalDateStr(new Date());setTimeout(()=>{const _0x3a3834=a3_0x45f7,_0x4792f8=document['querySelector']('.day-col-header[data-date=\x22'+_0x13aca2+'\x22]');if(_0x4792f8){const _0x2dc261=document['getElementById'](_0x3a3834(0x206)),_0x450858=_0x4792f8[_0x3a3834(0x250)]-_0x2dc261[_0x3a3834(0x1fd)]/0x2+_0x4792f8[_0x3a3834(0x1db)]/0x2;_0x2dc261['scrollTo']({'left':_0x450858,'behavior':_0x3a3834(0x277)}),_0x2dc261[_0x3a3834(0x1bb)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x45f7(_0xeb2fc7,_0x29baaa){_0xeb2fc7=_0xeb2fc7-0x1b9;const _0x479935=a3_0x593e();let _0x191813=_0x479935[_0xeb2fc7];return _0x191813;}function updateClock(){const _0x3a0fac=a3_0x29c9cb,_0x3cfaca=new Date(),_0x15f554=document[_0x3a0fac(0x200)](_0x3a0fac(0x2a1)),_0x452d1f=document[_0x3a0fac(0x200)]('timeLineBadge'),_0x31fb5c=(_0x3cfaca[_0x3a0fac(0x241)]()*0x3c+_0x3cfaca[_0x3a0fac(0x218)]())/0x3c*GRID_H;_0x15f554[_0x3a0fac(0x249)]['top']=_0x31fb5c+'px',_0x15f554[_0x3a0fac(0x249)][_0x3a0fac(0x251)]=_0x3a0fac(0x201),_0x452d1f[_0x3a0fac(0x249)][_0x3a0fac(0x27b)]=_0x31fb5c+'px',_0x452d1f[_0x3a0fac(0x249)][_0x3a0fac(0x251)]=_0x3a0fac(0x201),_0x452d1f['textContent']=String(_0x3cfaca['getHours']())['padStart'](0x2,'0')+':'+String(_0x3cfaca['getMinutes']())[_0x3a0fac(0x1dd)](0x2,'0');}function onScroll(){const _0x512421=a3_0x29c9cb,_0x1cce95=document[_0x512421(0x200)](_0x512421(0x206)),_0x24324a=document['querySelectorAll'](_0x512421(0x23c));for(let _0x738f51 of _0x24324a)if(_0x738f51['offsetLeft']>=_0x1cce95[_0x512421(0x29a)]){const _0x3fdff1=new Date(_0x738f51['getAttribute'](_0x512421(0x1b9)));document[_0x512421(0x200)](_0x512421(0x246))['textContent']=_0x3fdff1[_0x512421(0x23f)]('ru',{'month':_0x512421(0x25a)})[_0x512421(0x259)]()+'\x20'+_0x3fdff1[_0x512421(0x261)]();break;}}function showToast(_0x285926){const _0x58e0b2=a3_0x29c9cb,_0x46c1df=document[_0x58e0b2(0x200)](_0x58e0b2(0x281));_0x46c1df[_0x58e0b2(0x219)]=_0x285926,_0x46c1df[_0x58e0b2(0x268)][_0x58e0b2(0x2a7)](_0x58e0b2(0x26f)),setTimeout(()=>_0x46c1df[_0x58e0b2(0x268)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x204789=a3_0x29c9cb,_0x4ed729=document[_0x204789(0x200)](_0x204789(0x206)),_0x46d7a5=_0x4ed729[_0x204789(0x29a)],_0x5eab9b=_0x4ed729[_0x204789(0x1c2)],_0xce06c8=_0x4ed729[_0x204789(0x1fd)];if(_0x5eab9b-(_0x46d7a5+_0xce06c8)<0x12c){const _0x4aa5d0=endOffset;endOffset+=0xe,renderDayRange(_0x4aa5d0+0x1,endOffset),reRenderBlocks();}if(_0x46d7a5<0x12c){const _0x5bb917=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5bb917-0x1),_0x4ed729[_0x204789(0x29a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x32b787,_0x2a1610){const _0x5ef68d=a3_0x29c9cb,_0x2be2d9=document[_0x5ef68d(0x200)]('daysHeaderTrack'),_0x3c1ab9=document[_0x5ef68d(0x200)]('gridColumns'),_0x432e7e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x451846=new Date();_0x451846[_0x5ef68d(0x20a)](0x0,0x0,0x0,0x0);const _0x41e1c7=getLocalDateStr(new Date()),_0x322b06=document['createDocumentFragment'](),_0x7ae510=document[_0x5ef68d(0x22b)]();for(let _0x4db6fa=_0x32b787;_0x4db6fa<=_0x2a1610;_0x4db6fa++){const _0x156d9a=new Date(_0x451846);_0x156d9a[_0x5ef68d(0x293)](_0x156d9a[_0x5ef68d(0x1f1)]()+_0x4db6fa);const _0x31a9fd=getLocalDateStr(_0x156d9a);let _0x588fe3=_0x156d9a[_0x5ef68d(0x1fb)]()-0x1;if(_0x588fe3===-0x1)_0x588fe3=0x6;const _0x417f61=_0x31a9fd===_0x41e1c7,_0x4bf8ef=document[_0x5ef68d(0x28e)](_0x5ef68d(0x1ea));_0x4bf8ef['className']=_0x5ef68d(0x235)+(_0x417f61?'today':''),_0x4bf8ef[_0x5ef68d(0x1bd)](_0x5ef68d(0x1b9),_0x31a9fd),_0x4bf8ef[_0x5ef68d(0x21c)]='<div\x20class=\x22dch-day\x22>'+_0x432e7e[_0x588fe3]+_0x5ef68d(0x1de)+_0x156d9a[_0x5ef68d(0x1f1)]()+_0x5ef68d(0x1e7),_0x322b06[_0x5ef68d(0x1f4)](_0x4bf8ef);const _0x457578=document[_0x5ef68d(0x28e)]('div');_0x457578[_0x5ef68d(0x283)]=_0x5ef68d(0x213)+(_0x417f61?'today':''),_0x457578['setAttribute'](_0x5ef68d(0x1b9),_0x31a9fd),_0x457578[_0x5ef68d(0x1bd)](_0x5ef68d(0x1c4),_0x588fe3),_0x7ae510[_0x5ef68d(0x1f4)](_0x457578);}_0x2be2d9[_0x5ef68d(0x27c)](_0x322b06,_0x2be2d9['firstChild']),_0x3c1ab9[_0x5ef68d(0x27c)](_0x7ae510,_0x3c1ab9[_0x5ef68d(0x28c)](_0x5ef68d(0x1e4)));}function hexToRgba(_0x28dbec,_0x276a47){const _0x20d7c4=a3_0x29c9cb;let _0x4162c5;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x20d7c4(0x1c9)](_0x28dbec))return _0x4162c5=_0x28dbec['substring'](0x1)[_0x20d7c4(0x1d3)](''),_0x4162c5[_0x20d7c4(0x1eb)]==0x3&&(_0x4162c5=[_0x4162c5[0x0],_0x4162c5[0x0],_0x4162c5[0x1],_0x4162c5[0x1],_0x4162c5[0x2],_0x4162c5[0x2]]),_0x4162c5='0x'+_0x4162c5[_0x20d7c4(0x1d9)](''),_0x20d7c4(0x1c7)+[_0x4162c5>>0x10&0xff,_0x4162c5>>0x8&0xff,_0x4162c5&0xff]['join'](',')+','+_0x276a47+')';return _0x20d7c4(0x274)+_0x276a47+')';}let confirmResolver=null;function showCustomConfirm(_0x21479e,_0x58fb33,_0x223f82=!![]){const _0x268017=a3_0x29c9cb;document['getElementById'](_0x268017(0x20b))[_0x268017(0x219)]=_0x21479e,document[_0x268017(0x200)](_0x268017(0x267))[_0x268017(0x219)]=_0x58fb33;const _0x1918ba=document[_0x268017(0x200)]('ccYesBtn');return _0x223f82?(_0x1918ba[_0x268017(0x249)][_0x268017(0x21f)]=_0x268017(0x212),_0x1918ba[_0x268017(0x249)][_0x268017(0x22c)]=_0x268017(0x28f)):(_0x1918ba[_0x268017(0x249)]['color']=_0x268017(0x1f8),_0x1918ba['style'][_0x268017(0x22c)]='600'),new Promise(_0x5de3ff=>{const _0x229475=_0x268017;confirmResolver=_0x5de3ff,document['getElementById'](_0x229475(0x1e5))['classList']['add']('visible');});}function resolveCustomConfirm(_0x4d91cd){const _0x41e1d=a3_0x29c9cb;document[_0x41e1d(0x200)](_0x41e1d(0x1e5))[_0x41e1d(0x268)][_0x41e1d(0x2b0)](_0x41e1d(0x1ff));if(confirmResolver)confirmResolver(_0x4d91cd);}async function tryCancelCurrentSession(){const _0x33bb58=a3_0x29c9cb;if(!currentSession)return;const _0x6c0111=await showCustomConfirm(_0x33bb58(0x24a),_0x33bb58(0x1fc),!![]);if(!_0x6c0111)return;const _0x5f53a3=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x1dac7b=>_0x1dac7b['id']!==_0x5f53a3['id']),reRenderBlocks(),showToast(_0x33bb58(0x220)),lastUserActionTime=Date['now']();try{const _0x14adf3=window['Telegram']?.['WebApp'],_0x1bd486=await fetch(API_URL,{'method':_0x33bb58(0x225),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x14adf3?.[_0x33bb58(0x239)]||'','coachId':_0x5f53a3[_0x33bb58(0x265)],'dateStr':_0x5f53a3['dateStr'],'sessionId':_0x5f53a3['id']})});if(_0x1bd486['ok'])DataManager['saveLocally']();}catch(_0x2c861f){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x35dd63=a3_0x29c9cb;if(!currentSession)return;document[_0x35dd63(0x200)](_0x35dd63(0x26e))['classList'][_0x35dd63(0x2b0)]('open'),document[_0x35dd63(0x200)]('rescheduleSheet')[_0x35dd63(0x268)][_0x35dd63(0x2a7)](_0x35dd63(0x20f));const _0x19a010=document[_0x35dd63(0x200)](_0x35dd63(0x27e)),_0x2e9180=document['getElementById'](_0x35dd63(0x29b));_0x19a010[_0x35dd63(0x21c)]='',_0x2e9180['innerHTML']=_0x35dd63(0x217);const [_0x43e9b7,_0x8521b4]=currentSession[_0x35dd63(0x22e)][_0x35dd63(0x1d3)](':')['map'](Number),[_0x1674fd,_0x48768a]=currentSession[_0x35dd63(0x1c3)][_0x35dd63(0x1d3)](':')['map'](Number),_0x163fba=_0x1674fd*0x3c+_0x48768a-(_0x43e9b7*0x3c+_0x8521b4);try{const _0x54fa7d=window[_0x35dd63(0x1d2)]?.[_0x35dd63(0x1f3)],_0x48e9f1=await fetch(API_URL,{'method':_0x35dd63(0x225),'body':JSON[_0x35dd63(0x279)]({'action':_0x35dd63(0x2a8),'coachId':currentSession[_0x35dd63(0x265)],'duration':_0x163fba,'init_data':_0x54fa7d?.[_0x35dd63(0x239)]||'','excludeSessionId':currentSession['id']})}),_0x20ea68=await _0x48e9f1['json']();_0x20ea68['ok']&&_0x20ea68[_0x35dd63(0x1e3)]?(availableSlotsCache=_0x20ea68[_0x35dd63(0x1e3)],renderRescheduleDates()):_0x2e9180[_0x35dd63(0x21c)]=_0x35dd63(0x1bf);}catch(_0x4ad6e5){_0x2e9180[_0x35dd63(0x21c)]=_0x35dd63(0x299);}}function renderRescheduleDates(){const _0x5aa8bb=a3_0x29c9cb,_0x116ab1=document[_0x5aa8bb(0x200)](_0x5aa8bb(0x27e));_0x116ab1[_0x5aa8bb(0x21c)]='';const _0x5f47d2=Object[_0x5aa8bb(0x29d)](availableSlotsCache)['sort'](),_0x1a8516=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5f47d2['length']===0x0){document[_0x5aa8bb(0x200)](_0x5aa8bb(0x29b))[_0x5aa8bb(0x21c)]=_0x5aa8bb(0x26d);return;}_0x5f47d2[_0x5aa8bb(0x21a)]((_0x30c084,_0x3eab94)=>{const _0x1bbf6e=_0x5aa8bb,_0xa281d6=new Date(_0x30c084),_0x509df4=_0x1a8516[_0xa281d6['getDay']()],_0x52eb3b=_0xa281d6[_0x1bbf6e(0x1f1)](),_0x6b77d1=document[_0x1bbf6e(0x28e)](_0x1bbf6e(0x1ea));_0x6b77d1[_0x1bbf6e(0x283)]='rs-date-chip';if(_0x3eab94===0x0)_0x6b77d1[_0x1bbf6e(0x268)][_0x1bbf6e(0x2a7)](_0x1bbf6e(0x262));_0x6b77d1[_0x1bbf6e(0x21c)]='<div\x20class=\x22rs-day-name\x22>'+_0x509df4+_0x1bbf6e(0x2a6)+_0x52eb3b+'</div>',_0x6b77d1['onclick']=()=>selectRsDate(_0x30c084,_0x6b77d1),_0x116ab1[_0x1bbf6e(0x1f4)](_0x6b77d1);}),selectRsDate(_0x5f47d2[0x0],_0x116ab1['firstChild']);}function selectRsDate(_0x5e7d12,_0x33250a){const _0x2bebc6=a3_0x29c9cb;selectedRsDate=_0x5e7d12,document['querySelectorAll'](_0x2bebc6(0x231))[_0x2bebc6(0x21a)](_0x32069e=>_0x32069e[_0x2bebc6(0x268)][_0x2bebc6(0x2b0)]('active'));if(_0x33250a)_0x33250a[_0x2bebc6(0x268)]['add']('active');const _0xddbc5b=document[_0x2bebc6(0x200)]('rsSlotsGrid');_0xddbc5b[_0x2bebc6(0x21c)]='';const _0x284364=availableSlotsCache[_0x5e7d12]||[];if(_0x284364[_0x2bebc6(0x1eb)]===0x0){_0xddbc5b[_0x2bebc6(0x21c)]=_0x2bebc6(0x1bf);return;}_0x284364[_0x2bebc6(0x21a)](_0x4c2171=>{const _0x1805cd=_0x2bebc6,_0x10d9e5=document[_0x1805cd(0x28e)](_0x1805cd(0x1fa));_0x10d9e5[_0x1805cd(0x283)]=_0x1805cd(0x1d6),_0x10d9e5[_0x1805cd(0x219)]=_0x4c2171,_0x10d9e5['onclick']=()=>confirmReschedule(_0x4c2171),_0xddbc5b['appendChild'](_0x10d9e5);});}async function confirmReschedule(_0x42c5cc){const _0x39622a=a3_0x29c9cb,_0xdc0511=new Date(selectedRsDate),_0x390255=_0xdc0511[_0x39622a(0x1d8)]('ru-RU',{'day':_0x39622a(0x2a2),'month':_0x39622a(0x25a)}),_0x391582=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x39622a(0x21b)+_0x390255+_0x39622a(0x25d)+_0x42c5cc+'?',![]);if(!_0x391582)return;closeAllSheets(),showToast(_0x39622a(0x25b)),lastUserActionTime=Date[_0x39622a(0x2ab)]();const _0x51e42d=currentSession[_0x39622a(0x1dc)],_0x7d82a7=currentSession['id'],[_0x1fe4c5,_0x3e7dbe]=currentSession[_0x39622a(0x22e)][_0x39622a(0x1d3)](':')[_0x39622a(0x1c0)](Number),[_0x3b7e86,_0x2803ed]=currentSession[_0x39622a(0x1c3)][_0x39622a(0x1d3)](':')[_0x39622a(0x1c0)](Number),_0x19509e=_0x3b7e86*0x3c+_0x2803ed-(_0x1fe4c5*0x3c+_0x3e7dbe),[_0x3901f2,_0x3e53b6]=_0x42c5cc[_0x39622a(0x1d3)](':')['map'](Number),_0x202c9c=_0x3901f2*0x3c+_0x3e53b6+_0x19509e,_0x37f5ee=Math[_0x39622a(0x1ec)](_0x202c9c/0x3c),_0x1c0c6c=_0x202c9c%0x3c,_0x585763=String(_0x37f5ee)[_0x39622a(0x1dd)](0x2,'0')+':'+String(_0x1c0c6c)[_0x39622a(0x1dd)](0x2,'0'),_0x4ff6f9=sessions['findIndex'](_0x3d0454=>_0x3d0454['id']===_0x7d82a7);_0x4ff6f9!==-0x1&&(sessions[_0x4ff6f9][_0x39622a(0x1dc)]=selectedRsDate,sessions[_0x4ff6f9][_0x39622a(0x22e)]=_0x42c5cc,sessions[_0x4ff6f9][_0x39622a(0x1c3)]=_0x585763,reRenderBlocks());try{const _0x467adc=window[_0x39622a(0x1d2)]?.[_0x39622a(0x1f3)],_0x42edf0=await fetch(API_URL,{'method':_0x39622a(0x225),'body':JSON['stringify']({'action':'reschedule','init_data':_0x467adc?.['initData']||'','oldSessionId':_0x7d82a7,'oldDate':_0x51e42d,'newDate':selectedRsDate,'newTime':_0x42c5cc,'coachId':currentSession[_0x39622a(0x265)]})}),_0x12648b=await _0x42edf0[_0x39622a(0x273)]();!_0x12648b['ok']?(showToast(_0x39622a(0x208)),DataManager[_0x39622a(0x257)]()):(showToast(_0x39622a(0x1d5)),DataManager[_0x39622a(0x1e1)]());}catch(_0x85cd37){showToast(_0x39622a(0x1df));}}document['addEventListener']('DOMContentLoaded',init);