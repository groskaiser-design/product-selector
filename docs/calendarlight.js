const a3_0x385ceb=a3_0x58aa;(function(_0x247bd0,_0xee2853){const _0x11539d=a3_0x58aa,_0x5be8aa=_0x247bd0();while(!![]){try{const _0x4d33b2=parseInt(_0x11539d(0x1a1))/0x1+parseInt(_0x11539d(0x16b))/0x2+parseInt(_0x11539d(0x23a))/0x3*(parseInt(_0x11539d(0x1ae))/0x4)+-parseInt(_0x11539d(0x1fa))/0x5+-parseInt(_0x11539d(0x1ff))/0x6+-parseInt(_0x11539d(0x188))/0x7*(parseInt(_0x11539d(0x161))/0x8)+parseInt(_0x11539d(0x213))/0x9*(parseInt(_0x11539d(0x1a4))/0xa);if(_0x4d33b2===_0xee2853)break;else _0x5be8aa['push'](_0x5be8aa['shift']());}catch(_0x46660d){_0x5be8aa['push'](_0x5be8aa['shift']());}}}(a3_0x5ac5,0xdc105));const APP_VERSION=a3_0x385ceb(0x23e),API_URL=a3_0x385ceb(0x20c),GRID_H=0x3c,KEY_SESSIONS=a3_0x385ceb(0x1cd),KEY_SETTINGS=a3_0x385ceb(0x1f5),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4d4667=a3_0x385ceb,_0x274e66=(function(){let _0x53c50b=!![];return function(_0x3b9db8,_0x68a778){const _0x5acb23=_0x53c50b?function(){const _0x1ef904=a3_0x58aa;if(_0x68a778){const _0x27e5f2=_0x68a778[_0x1ef904(0x18e)](_0x3b9db8,arguments);return _0x68a778=null,_0x27e5f2;}}:function(){};return _0x53c50b=![],_0x5acb23;};}()),_0x4728df=_0x274e66(this,function(){const _0xa85e42=a3_0x58aa;return _0x4728df[_0xa85e42(0x212)]()[_0xa85e42(0x157)]('(((.+)+)+)+$')[_0xa85e42(0x212)]()[_0xa85e42(0x1cc)](_0x4728df)[_0xa85e42(0x157)](_0xa85e42(0x1ea));});_0x4728df();try{const _0x41b73c=window[_0x4d4667(0x19b)]?.[_0x4d4667(0x16d)];if(!_0x41b73c)return;_0x41b73c[_0x4d4667(0x196)](),_0x41b73c[_0x4d4667(0x1c4)]();try{_0x41b73c[_0x4d4667(0x239)]('#050505'),_0x41b73c[_0x4d4667(0x1c6)]&&_0x41b73c[_0x4d4667(0x1c6)](_0x4d4667(0x166));}catch(_0x15996c){console[_0x4d4667(0x240)]('Error\x20setting\x20color:',_0x15996c);}try{_0x41b73c[_0x4d4667(0x1bd)]&&(_0x41b73c[_0x4d4667(0x1bd)][_0x4d4667(0x1c5)](),_0x41b73c['BackButton'][_0x4d4667(0x148)](),_0x41b73c['BackButton']['onClick'](function(){const _0x36779e=_0x4d4667;window['location'][_0x36779e(0x177)]=_0x36779e(0x18d);}));}catch(_0x23d55f){console['log'](_0x4d4667(0x159),_0x23d55f);}try{if(_0x41b73c[_0x4d4667(0x204)])_0x41b73c[_0x4d4667(0x204)]();}catch(_0x3c1ac9){}}catch(_0x5ed177){console[_0x4d4667(0x23d)](_0x4d4667(0x21a),_0x5ed177);}}());function isAdmin(){const _0x2c3160=a3_0x385ceb;try{const _0x127bea=Number(window[_0x2c3160(0x19b)]?.[_0x2c3160(0x16d)]?.['initDataUnsafe']?.[_0x2c3160(0x195)]?.['id']);return _0x127bea===0xbaf7174;}catch(_0x32c707){return![];}}const DataManager={'saveLocally'(){const _0x481d8b=a3_0x385ceb;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x481d8b(0x1dc)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x481d8b(0x19f)](KEY_SETTINGS,JSON[_0x481d8b(0x1dc)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5b7097){}},'loadLocal'(){const _0x2984a2=a3_0x385ceb;try{const _0x1267ea=localStorage[_0x2984a2(0x1f3)](KEY_SESSIONS);if(_0x1267ea)sessions=JSON[_0x2984a2(0x150)](_0x1267ea);const _0x186477=localStorage['getItem'](KEY_CLIENTS);if(_0x186477)clients=JSON[_0x2984a2(0x150)](_0x186477);const _0x467fbd=localStorage[_0x2984a2(0x1f3)](KEY_SETTINGS);if(_0x467fbd){const _0x5f515b=JSON[_0x2984a2(0x150)](_0x467fbd);if(_0x5f515b['pattern'])availabilityPattern=_0x5f515b[_0x2984a2(0x197)];if(_0x5f515b[_0x2984a2(0x21f)])specialRanges=_0x5f515b[_0x2984a2(0x21f)];if(_0x5f515b[_0x2984a2(0x18a)])dateExceptions=_0x5f515b[_0x2984a2(0x18a)];}}catch(_0x55f023){}},async 'syncLoad'(){const _0x15a148=a3_0x385ceb,_0x58aec1=new Date(),_0x58ed35=_0x58aec1[_0x15a148(0x1f1)]()+'-'+String(_0x58aec1[_0x15a148(0x154)]()+0x1)[_0x15a148(0x1c2)](0x2,'0'),_0x326e39=new Date(_0x58aec1);_0x326e39[_0x15a148(0x1d3)](_0x58aec1[_0x15a148(0x154)]()+0x1);const _0x3f65f7=_0x326e39[_0x15a148(0x1f1)]()+'-'+String(_0x326e39[_0x15a148(0x154)]()+0x1)['padStart'](0x2,'0'),_0x55dc09=Date['now']();try{const _0x4e016c=window['Telegram']?.[_0x15a148(0x16d)],_0x22c5af=_0x4e016c?.[_0x15a148(0x216)]||'',[_0x560ff3,_0x55d68e]=await Promise[_0x15a148(0x169)]([fetch(API_URL,{'method':_0x15a148(0x14e),'body':JSON[_0x15a148(0x1dc)]({'action':_0x15a148(0x1e5),'init_data':_0x22c5af,'month_str':_0x58ed35})})[_0x15a148(0x1e2)](_0x505027=>_0x505027[_0x15a148(0x15c)]()),fetch(API_URL,{'method':_0x15a148(0x14e),'body':JSON[_0x15a148(0x1dc)]({'action':_0x15a148(0x1e5),'init_data':_0x22c5af,'month_str':_0x3f65f7})})[_0x15a148(0x1e2)](_0x2150be=>_0x2150be[_0x15a148(0x15c)]())]);if(lastUserActionTime>_0x55dc09){console[_0x15a148(0x240)](_0x15a148(0x1fd));return;}if(_0x560ff3['ok'])this[_0x15a148(0x1f4)](_0x560ff3[_0x15a148(0x156)],_0x58ed35);if(_0x55d68e['ok'])this[_0x15a148(0x1f4)](_0x55d68e[_0x15a148(0x156)],_0x3f65f7);this[_0x15a148(0x1d4)]();}catch(_0x24d096){}},'applyData'(_0x497b82,_0x3b98e3){const _0x366d73=a3_0x385ceb;if(!_0x497b82)return;if(_0x497b82[_0x366d73(0x14c)]){if(_0x497b82['settings'][_0x366d73(0x197)])availabilityPattern=_0x497b82[_0x366d73(0x14c)][_0x366d73(0x197)];if(_0x497b82['settings']['ranges'])specialRanges=_0x497b82[_0x366d73(0x14c)]['ranges'];if(_0x497b82[_0x366d73(0x14c)][_0x366d73(0x18a)])dateExceptions=_0x497b82[_0x366d73(0x14c)][_0x366d73(0x18a)];}if(_0x497b82[_0x366d73(0x1f8)]&&Array['isArray'](_0x497b82[_0x366d73(0x1f8)]))clients=_0x497b82['clients'];_0x497b82[_0x366d73(0x21c)]&&(coachProfiles={...coachProfiles,..._0x497b82['coach_profiles']}),_0x497b82[_0x366d73(0x170)]&&(sessions=sessions[_0x366d73(0x221)](_0x1be805=>!_0x1be805[_0x366d73(0x14b)][_0x366d73(0x1b5)](_0x3b98e3)),Object[_0x366d73(0x158)](_0x497b82[_0x366d73(0x170)])[_0x366d73(0x1ab)](_0x3322fc=>{const _0x3bb9bc=_0x366d73,_0x5a3914=_0x497b82[_0x3bb9bc(0x170)][_0x3322fc];_0x5a3914[_0x3bb9bc(0x1ab)](_0x56fed6=>{const _0x372e02=_0x3bb9bc;sessions[_0x372e02(0x18f)]({'id':_0x56fed6['i'],'clientId':_0x56fed6['c'],'coachId':_0x56fed6[_0x372e02(0x211)],'dateStr':_0x3b98e3+'-'+_0x3322fc[_0x372e02(0x1c2)](0x2,'0'),'start':_0x56fed6['s'],'end':_0x56fed6['e'],'note':_0x56fed6['n']||'','status':_0x56fed6['st']||_0x372e02(0x20b),'seriesId':_0x56fed6[_0x372e02(0x21e)]});});})),reRenderBlocks();}};function init(){const _0x3aefc6=a3_0x385ceb;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3aefc6(0x22a)](_0x3aefc6(0x149))[_0x3aefc6(0x1cb)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3aefc6(0x22b)]();}function renderTimeColumn(){const _0x5ccdb0=a3_0x385ceb,_0x57d6aa=document[_0x5ccdb0(0x22a)](_0x5ccdb0(0x20a)),_0x234ca=document['getElementById']('timeLineBadge');_0x57d6aa[_0x5ccdb0(0x1a9)]='',_0x57d6aa[_0x5ccdb0(0x1dd)](_0x234ca);for(let _0x53865d=0x0;_0x53865d<0x18;_0x53865d++){const _0x253af2=document[_0x5ccdb0(0x173)]('div');_0x253af2[_0x5ccdb0(0x208)]=_0x5ccdb0(0x219);if(_0x53865d>0x0)_0x253af2[_0x5ccdb0(0x1a9)]=_0x5ccdb0(0x19e)+String(_0x53865d)['padStart'](0x2,'0')+_0x5ccdb0(0x15b);_0x57d6aa[_0x5ccdb0(0x1dd)](_0x253af2);}}function renderDayRange(_0x4a2a0a,_0x5c0eab){const _0x5bcfdc=a3_0x385ceb,_0x20c95c=document[_0x5bcfdc(0x22a)]('daysHeaderTrack'),_0x58dfe9=document[_0x5bcfdc(0x22a)](_0x5bcfdc(0x1c3)),_0x18512=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4226b0=new Date();_0x4226b0[_0x5bcfdc(0x189)](0x0,0x0,0x0,0x0);const _0x2b0504=getLocalDateStr(new Date());for(let _0x48c2fe=_0x4a2a0a;_0x48c2fe<=_0x5c0eab;_0x48c2fe++){const _0x57a076=new Date(_0x4226b0);_0x57a076[_0x5bcfdc(0x220)](_0x57a076['getDate']()+_0x48c2fe);const _0x164ca2=getLocalDateStr(_0x57a076);let _0x23d124=_0x57a076[_0x5bcfdc(0x199)]()-0x1;if(_0x23d124===-0x1)_0x23d124=0x6;const _0x220c56=_0x164ca2===_0x2b0504,_0x19611e=document[_0x5bcfdc(0x173)](_0x5bcfdc(0x1bf));_0x19611e[_0x5bcfdc(0x208)]=_0x5bcfdc(0x17c)+(_0x220c56?'today':''),_0x19611e[_0x5bcfdc(0x16e)](_0x5bcfdc(0x1ac),_0x164ca2),_0x19611e['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x18512[_0x23d124]+'</div><div\x20class=\x22dch-num\x22>'+_0x57a076[_0x5bcfdc(0x1e7)]()+'</div>',_0x20c95c[_0x5bcfdc(0x1dd)](_0x19611e);const _0x41676e=document[_0x5bcfdc(0x173)](_0x5bcfdc(0x1bf));_0x41676e[_0x5bcfdc(0x208)]=_0x5bcfdc(0x1c8)+(_0x220c56?'today':''),_0x41676e[_0x5bcfdc(0x16e)](_0x5bcfdc(0x1ac),_0x164ca2),_0x41676e[_0x5bcfdc(0x16e)](_0x5bcfdc(0x18c),_0x23d124),_0x58dfe9[_0x5bcfdc(0x1dd)](_0x41676e);}}function reRenderBlocks(){const _0x31c2a5=a3_0x385ceb;document[_0x31c2a5(0x1a5)](_0x31c2a5(0x236))[_0x31c2a5(0x1ab)](_0x55fafe=>{const _0x5e1cf1=_0x31c2a5;_0x55fafe['querySelectorAll'](_0x5e1cf1(0x1e1))[_0x5e1cf1(0x1ab)](_0x2753f4=>_0x2753f4['remove']());const _0xc5223c=_0x55fafe[_0x5e1cf1(0x15f)](_0x5e1cf1(0x1ac)),_0x16aee6=parseInt(_0x55fafe[_0x5e1cf1(0x15f)](_0x5e1cf1(0x18c))),_0x22f891=Math['round'](_0x55fafe['offsetLeft']);(availabilityPattern[_0x16aee6]||[])['forEach'](_0x48606d=>{const _0x181dbd=_0x5e1cf1,_0x38c6b7=document['createElement']('div');_0x38c6b7[_0x181dbd(0x208)]=_0x181dbd(0x21b),_0x38c6b7['style']['top']=_0x48606d*GRID_H+'px',_0x38c6b7[_0x181dbd(0x1fe)][_0x181dbd(0x1b6)]='-'+_0x22f891+_0x181dbd(0x1d2)+_0x48606d*GRID_H+'px',_0x55fafe[_0x181dbd(0x1dd)](_0x38c6b7);});if(specialRanges[_0x5e1cf1(0x214)]>0x0){const _0x4d2694=new Date(_0xc5223c+_0x5e1cf1(0x1e0))['getTime'](),_0x5a52aa=new Date(_0xc5223c+'T23:59:59')[_0x5e1cf1(0x164)]();specialRanges[_0x5e1cf1(0x1ab)](_0x7d0d22=>{const _0x3625e4=_0x5e1cf1,_0x52b3e6=new Date(_0x7d0d22[_0x3625e4(0x1a7)])[_0x3625e4(0x164)](),_0x5a44b8=new Date(_0x7d0d22['end'])[_0x3625e4(0x164)](),_0x5cd245=Math[_0x3625e4(0x1b4)](_0x4d2694,_0x52b3e6),_0x58874f=Math[_0x3625e4(0x19a)](_0x5a52aa,_0x5a44b8);if(_0x5cd245<_0x58874f){const _0x51bbd1=(_0x5cd245-_0x4d2694)/0x36ee80*GRID_H,_0x465a07=(_0x58874f-_0x5cd245)/0x36ee80*GRID_H,_0xfe060b=document[_0x3625e4(0x173)](_0x3625e4(0x1bf));_0x465a07>=23.5*GRID_H?(_0xfe060b['className']=_0x3625e4(0x198),_0xfe060b['style'][_0x3625e4(0x1b6)]='-'+_0x22f891+'px\x200px'):(_0xfe060b['className']=_0x3625e4(0x14a),_0xfe060b[_0x3625e4(0x1fe)]['top']=_0x51bbd1+'px',_0xfe060b['style']['height']=_0x465a07+'px',_0xfe060b[_0x3625e4(0x1fe)][_0x3625e4(0x1b6)]='-'+_0x22f891+'px\x20-'+_0x51bbd1+'px'),_0x55fafe[_0x3625e4(0x1dd)](_0xfe060b);}});}renderEventsForColumn(_0x55fafe,_0xc5223c);});}function renderEventsForColumn(_0x1ab523,_0x3bf9e7){const _0x408d5d=a3_0x385ceb,_0x3915da=sessions[_0x408d5d(0x221)](_0x38e57b=>_0x38e57b['dateStr']===_0x3bf9e7),_0x2e21e3=_0x3915da[_0x408d5d(0x1d5)](_0x160e9e=>{const _0x264912=_0x408d5d,[_0x502e6c,_0x6dbc83]=_0x160e9e['start'][_0x264912(0x162)](':')[_0x264912(0x1d5)](Number),[_0x173a46,_0x3540bc]=_0x160e9e[_0x264912(0x186)]['split'](':')['map'](Number);return{'data':_0x160e9e,'start':_0x502e6c*0x3c+_0x6dbc83,'end':_0x173a46*0x3c+_0x3540bc,'colIndex':0x0};});_0x2e21e3[_0x408d5d(0x1d7)]((_0x36bb9c,_0x22e3a3)=>_0x36bb9c[_0x408d5d(0x1a7)]-_0x22e3a3[_0x408d5d(0x1a7)]||_0x22e3a3[_0x408d5d(0x186)]-_0x22e3a3['start']-(_0x36bb9c[_0x408d5d(0x186)]-_0x36bb9c['start']));const _0xefc3b6=[];_0x2e21e3[_0x408d5d(0x1ab)](_0x403ecb=>{const _0x52859a=_0x408d5d;let _0x2fefde=![];for(let _0x406671=0x0;_0x406671<_0xefc3b6[_0x52859a(0x214)];_0x406671++){const _0x561d8b=_0xefc3b6[_0x406671];if(_0x403ecb['start']>=_0x561d8b[_0x561d8b[_0x52859a(0x214)]-0x1]['end']){_0x561d8b['push'](_0x403ecb),_0x403ecb[_0x52859a(0x1b2)]=_0x406671,_0x2fefde=!![];break;}}!_0x2fefde&&(_0xefc3b6[_0x52859a(0x18f)]([_0x403ecb]),_0x403ecb[_0x52859a(0x1b2)]=_0xefc3b6[_0x52859a(0x214)]-0x1);}),_0x2e21e3['forEach'](_0x59dc65=>{const _0x1cafdb=_0x408d5d;let _0x26aa73=0x0;_0x2e21e3[_0x1cafdb(0x1ab)](_0x459cab=>{const _0x5ea03c=_0x1cafdb;if(Math['max'](_0x59dc65[_0x5ea03c(0x1a7)],_0x459cab[_0x5ea03c(0x1a7)])<Math[_0x5ea03c(0x19a)](_0x59dc65['end'],_0x459cab['end'])&&_0x459cab['colIndex']>_0x26aa73)_0x26aa73=_0x459cab[_0x5ea03c(0x1b2)];});const _0x2201cf=_0x26aa73+0x1,_0x4b1502=0x64/_0x2201cf,_0x114f11=_0x59dc65[_0x1cafdb(0x1b2)]*_0x4b1502,_0x4a334e=document[_0x1cafdb(0x173)]('div'),_0x47f184=_0x59dc65['data'];let _0x78f9f1=_0x1cafdb(0x1e8);if(clients&&clients['length']>0x0){const _0x5e6896=clients[_0x1cafdb(0x22d)](_0x5c5666=>String(_0x5c5666['id'])===String(_0x47f184[_0x1cafdb(0x1e9)]));if(_0x5e6896&&_0x5e6896[_0x1cafdb(0x20f)])_0x78f9f1=_0x5e6896[_0x1cafdb(0x20f)];}const _0x146232=_0x47f184[_0x1cafdb(0x1a6)]==='completed',_0x574f87=_0x146232?0x1:0.45;_0x4a334e[_0x1cafdb(0x208)]=_0x1cafdb(0x23f)+(_0x146232?'\x20status-completed':''),_0x4a334e[_0x1cafdb(0x1fe)][_0x1cafdb(0x1b1)]=hexToRgba(_0x78f9f1,_0x574f87),_0x4a334e[_0x1cafdb(0x1fe)][_0x1cafdb(0x1aa)]=_0x78f9f1;const _0x3de94f=_0x59dc65[_0x1cafdb(0x1a7)]/0x3c*GRID_H,_0x338ded=(_0x59dc65['end']-_0x59dc65['start'])/0x3c*GRID_H;_0x4a334e[_0x1cafdb(0x1fe)]['top']=_0x3de94f+'px',_0x4a334e[_0x1cafdb(0x1fe)][_0x1cafdb(0x171)]=Math[_0x1cafdb(0x1b4)](_0x338ded,0x14)+'px',_0x4a334e[_0x1cafdb(0x1fe)]['width']=_0x1cafdb(0x1f0)+_0x4b1502+_0x1cafdb(0x191),_0x4a334e[_0x1cafdb(0x1fe)][_0x1cafdb(0x190)]='calc('+_0x114f11+_0x1cafdb(0x178),_0x4a334e[_0x1cafdb(0x1fe)][_0x1cafdb(0x233)]=0xa+_0x59dc65[_0x1cafdb(0x1b2)];if(_0x4b1502<0x55)_0x4a334e[_0x1cafdb(0x15a)][_0x1cafdb(0x155)](_0x1cafdb(0x152));let _0x17a0cf='';if(_0x47f184['seriesId'])_0x17a0cf+=_0x1cafdb(0x22c);if(_0x146232)_0x17a0cf+=_0x1cafdb(0x22f);_0x4a334e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x47f184[_0x1cafdb(0x1a7)]+_0x1cafdb(0x19d)+_0x47f184[_0x1cafdb(0x186)]+_0x1cafdb(0x1a2)+_0x17a0cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a334e[_0x1cafdb(0x165)]=_0x34232b=>{const _0xc1a949=_0x1cafdb;_0x34232b[_0xc1a949(0x209)](),openDetails(_0x47f184);},_0x1ab523[_0x1cafdb(0x1dd)](_0x4a334e);});}function openAnalytics(){const _0xc7f908=a3_0x385ceb,_0x8ecf35=document[_0xc7f908(0x201)](_0xc7f908(0x1de));setAnalyticsPeriod(_0xc7f908(0x145),_0x8ecf35),openSheet(_0xc7f908(0x153));}function a3_0x58aa(_0x2bf7c4,_0xe9dab0){_0x2bf7c4=_0x2bf7c4-0x144;const _0xf3da07=a3_0x5ac5();let _0x587473=_0xf3da07[_0x2bf7c4];return _0x587473;}function setAnalyticsPeriod(_0x2a96ae,_0x5481ec){const _0xe9860c=a3_0x385ceb;currentAnPeriod=_0x2a96ae,document[_0xe9860c(0x1a5)](_0xe9860c(0x1de))[_0xe9860c(0x1ab)](_0x754ded=>_0x754ded[_0xe9860c(0x15a)]['remove'](_0xe9860c(0x1b7)));if(_0x5481ec)_0x5481ec[_0xe9860c(0x15a)][_0xe9860c(0x155)]('active');const _0x173266=document[_0xe9860c(0x22a)](_0xe9860c(0x1e3));_0x173266[_0xe9860c(0x1fe)]['display']=_0x2a96ae===_0xe9860c(0x17f)?'flex':_0xe9860c(0x172);const _0xbbd66d=new Date();let _0x3c5daa=new Date(),_0x3c8f5a=new Date();if(_0x2a96ae===_0xe9860c(0x145))_0x3c5daa=getStartOfWeek(_0xbbd66d),_0x3c8f5a=new Date(_0x3c5daa),_0x3c8f5a[_0xe9860c(0x220)](_0x3c8f5a[_0xe9860c(0x1e7)]()+0x6);else{if(_0x2a96ae===_0xe9860c(0x1a0))_0x3c5daa=new Date(_0xbbd66d[_0xe9860c(0x1f1)](),_0xbbd66d[_0xe9860c(0x154)](),0x1),_0x3c8f5a=new Date(_0xbbd66d[_0xe9860c(0x1f1)](),_0xbbd66d[_0xe9860c(0x154)]()+0x1,0x0);else{!document['getElementById'](_0xe9860c(0x1bc))[_0xe9860c(0x1ec)]&&(document['getElementById'](_0xe9860c(0x1bc))['value']=getLocalDateStr(_0xbbd66d),document['getElementById']('anEnd')[_0xe9860c(0x1ec)]=getLocalDateStr(_0xbbd66d));refreshAnalytics();return;}}document[_0xe9860c(0x22a)](_0xe9860c(0x1bc))['value']=getLocalDateStr(_0x3c5daa),document[_0xe9860c(0x22a)]('anEnd')[_0xe9860c(0x1ec)]=getLocalDateStr(_0x3c8f5a),refreshAnalytics();}function refreshAnalytics(){const _0x4fc97e=a3_0x385ceb,_0x4ff3a3=document[_0x4fc97e(0x22a)](_0x4fc97e(0x1bc))['value'],_0x3019c4=document['getElementById']('anEnd')[_0x4fc97e(0x1ec)];if(!_0x4ff3a3||!_0x3019c4)return;const _0x275da0=sessions[_0x4fc97e(0x221)](_0x3fdb52=>_0x3fdb52['dateStr']>=_0x4ff3a3&&_0x3fdb52['dateStr']<=_0x3019c4&&_0x3fdb52['status']!==_0x4fc97e(0x22e)),_0x5d97f0=_0x275da0[_0x4fc97e(0x214)],_0x43e117=_0x275da0['filter'](_0x14314c=>_0x14314c[_0x4fc97e(0x1a6)]===_0x4fc97e(0x14f))['length'],_0x3839bd=_0x5d97f0>0x0?Math[_0x4fc97e(0x19c)](_0x43e117/_0x5d97f0*0x64):0x0;document['getElementById'](_0x4fc97e(0x210))[_0x4fc97e(0x235)]=_0x3839bd+'%',document[_0x4fc97e(0x22a)](_0x4fc97e(0x182))[_0x4fc97e(0x235)]=_0x43e117+_0x4fc97e(0x1ca)+_0x5d97f0+_0x4fc97e(0x1f2);const _0x1b3ec1=document[_0x4fc97e(0x22a)](_0x4fc97e(0x1d6)),_0x2abee4=0x2*Math['PI']*0x23,_0x580671=_0x2abee4-_0x3839bd/0x64*_0x2abee4;_0x1b3ec1['style']['strokeDashoffset']=_0x580671;const _0x498a46={};_0x275da0['forEach'](_0x279d1c=>{const _0x1260f3=_0x4fc97e,_0x4b2795=_0x279d1c[_0x1260f3(0x222)]||_0x1260f3(0x181);if(!_0x498a46[_0x4b2795]){const _0x3b388b='#'+_0x4b2795[_0x1260f3(0x212)]()['substr'](0x0,0x6);_0x498a46[_0x4b2795]={'total':0x0,'done':0x0,'color':_0x3b388b};}_0x498a46[_0x4b2795]['total']++;if(_0x279d1c[_0x1260f3(0x1a6)]===_0x1260f3(0x14f))_0x498a46[_0x4b2795][_0x1260f3(0x232)]++;});const _0x29d99d=document[_0x4fc97e(0x22a)](_0x4fc97e(0x217));_0x29d99d[_0x4fc97e(0x1a9)]='';const _0x2a701c=Object[_0x4fc97e(0x23c)](_0x498a46)[_0x4fc97e(0x1d7)]((_0x5749e5,_0x4f04d7)=>_0x4f04d7[0x1][_0x4fc97e(0x1df)]-_0x5749e5[0x1][_0x4fc97e(0x1df)]);if(_0x2a701c[_0x4fc97e(0x214)]===0x0){_0x29d99d[_0x4fc97e(0x1a9)]=_0x4fc97e(0x225);return;}_0x2a701c['forEach'](([_0x13db98,_0x42bb69])=>{const _0x52e2cf=_0x4fc97e,_0x3bc473=Math[_0x52e2cf(0x19c)](_0x42bb69[_0x52e2cf(0x232)]/_0x42bb69[_0x52e2cf(0x1df)]*0x64),_0x3d2170=document[_0x52e2cf(0x173)]('div');_0x3d2170[_0x52e2cf(0x208)]=_0x52e2cf(0x17e),_0x3d2170[_0x52e2cf(0x1fe)][_0x52e2cf(0x1aa)]=_0x42bb69[_0x52e2cf(0x20f)],_0x3d2170[_0x52e2cf(0x1a9)]=_0x52e2cf(0x229)+_0x13db98[_0x52e2cf(0x193)](0x0,0x5)+_0x52e2cf(0x17b)+_0x42bb69[_0x52e2cf(0x232)]+'</span>\x20/\x20'+_0x42bb69['total']+_0x52e2cf(0x227)+_0x3bc473+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x29d99d['appendChild'](_0x3d2170);});}function openDetails(_0x15132e){const _0x443592=a3_0x385ceb;currentSession=_0x15132e;const _0xaa8036=new Date(_0x15132e['dateStr']),_0x2896cd=_0xaa8036[_0x443592(0x1cf)](_0x443592(0x1fc),{'weekday':_0x443592(0x215),'day':_0x443592(0x1f9),'month':_0x443592(0x215)});document[_0x443592(0x22a)](_0x443592(0x174))[_0x443592(0x235)]=_0x2896cd[_0x443592(0x15e)](0x0)[_0x443592(0x218)]()+_0x2896cd['slice'](0x1),document[_0x443592(0x22a)](_0x443592(0x241))[_0x443592(0x235)]=_0x15132e['start']+_0x443592(0x19d)+_0x15132e[_0x443592(0x186)],document[_0x443592(0x22a)](_0x443592(0x17d))[_0x443592(0x235)]=_0x15132e[_0x443592(0x237)]||_0x443592(0x176);const _0x38b7eb=document[_0x443592(0x22a)](_0x443592(0x1f7)),_0x5d6a7a=document[_0x443592(0x22a)]('cancelContainer'),_0x4e0a83=_0x5d6a7a[_0x443592(0x201)](_0x443592(0x1e4)),_0x5b0236=_0x5d6a7a['querySelector']('.btn-reschedule'),_0x4a3be2=document[_0x443592(0x22a)]('cancelHint');if(_0x15132e[_0x443592(0x1a6)]===_0x443592(0x14f))_0x38b7eb['textContent']=_0x443592(0x16c),_0x38b7eb[_0x443592(0x1fe)][_0x443592(0x20f)]=_0x443592(0x192),_0x5d6a7a[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x172);else{_0x38b7eb[_0x443592(0x235)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x38b7eb['style']['color']=_0x443592(0x1b9),_0x5d6a7a[_0x443592(0x1fe)]['display']='block';const _0x5125db=new Date(_0x15132e[_0x443592(0x14b)]+'T'+_0x15132e[_0x443592(0x1a7)]),_0x4b86cc=new Date(),_0x15440a=(_0x5125db-_0x4b86cc)/(0x3e8*0x3c*0x3c),_0x4b5455=coachProfiles[_0x15132e[_0x443592(0x222)]]&&coachProfiles[_0x15132e[_0x443592(0x222)]]['cancel_window']?parseInt(coachProfiles[_0x15132e[_0x443592(0x222)]][_0x443592(0x1eb)]):0x18;if(_0x4b5455===0x0||_0x15440a>=_0x4b5455)_0x4e0a83[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x1c9),_0x5b0236[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x1c9),_0x4a3be2['style'][_0x443592(0x1d9)]=_0x443592(0x172);else{_0x4e0a83[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x172),_0x5b0236[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x172),_0x4a3be2[_0x443592(0x1fe)][_0x443592(0x1d9)]=_0x443592(0x1c9);let _0x6a5bd0=_0x4b5455===0x0?_0x443592(0x1ba):_0x443592(0x160)+_0x4b5455+_0x443592(0x1d0);_0x4a3be2[_0x443592(0x235)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x6a5bd0+_0x443592(0x21d);}}document['getElementById'](_0x443592(0x1d8))[_0x443592(0x15a)][_0x443592(0x155)](_0x443592(0x1b7)),document[_0x443592(0x22a)](_0x443592(0x185))[_0x443592(0x15a)][_0x443592(0x155)](_0x443592(0x184));}function closeAllSheets(){const _0x426f49=a3_0x385ceb;document['getElementById'](_0x426f49(0x1d8))[_0x426f49(0x15a)][_0x426f49(0x147)](_0x426f49(0x1b7)),document[_0x426f49(0x1a5)](_0x426f49(0x179))[_0x426f49(0x1ab)](_0x493700=>_0x493700[_0x426f49(0x15a)][_0x426f49(0x147)](_0x426f49(0x184)));}function openSheet(_0x433fe0){const _0x21d07c=a3_0x385ceb;document['getElementById'](_0x21d07c(0x1d8))['classList'][_0x21d07c(0x155)](_0x21d07c(0x1b7)),document[_0x21d07c(0x22a)](_0x433fe0)[_0x21d07c(0x15a)][_0x21d07c(0x155)](_0x21d07c(0x184));}function getLocalDateStr(_0x126668){const _0x2a473d=a3_0x385ceb,_0x48a1fe=_0x126668['getFullYear'](),_0x44738=String(_0x126668['getMonth']()+0x1)[_0x2a473d(0x1c2)](0x2,'0'),_0x12f607=String(_0x126668[_0x2a473d(0x1e7)]())[_0x2a473d(0x1c2)](0x2,'0');return _0x48a1fe+'-'+_0x44738+'-'+_0x12f607;}function getStartOfWeek(_0x193f12){const _0x2508b5=a3_0x385ceb,_0x4df2eb=new Date(_0x193f12),_0xf987bd=_0x4df2eb[_0x2508b5(0x199)](),_0x4bc0cb=_0x4df2eb[_0x2508b5(0x1e7)]()-_0xf987bd+(_0xf987bd===0x0?-0x6:0x1);return _0x4df2eb[_0x2508b5(0x220)](_0x4bc0cb),_0x4df2eb[_0x2508b5(0x189)](0x0,0x0,0x0,0x0),_0x4df2eb;}function scrollToToday(){const _0x4b92d2=getLocalDateStr(new Date());setTimeout(()=>{const _0x2ec5cb=a3_0x58aa,_0xc47202=document['querySelector'](_0x2ec5cb(0x226)+_0x4b92d2+'\x22]');if(_0xc47202){const _0x52bd4e=document[_0x2ec5cb(0x22a)]('matrixViewport'),_0x15a774=_0xc47202[_0x2ec5cb(0x175)]-_0x52bd4e[_0x2ec5cb(0x1b8)]/0x2+_0xc47202[_0x2ec5cb(0x187)]/0x2;_0x52bd4e[_0x2ec5cb(0x228)]({'left':_0x15a774,'behavior':_0x2ec5cb(0x15d)}),_0x52bd4e[_0x2ec5cb(0x207)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x174b73=a3_0x385ceb,_0xa0068f=new Date(),_0x19cf32=document[_0x174b73(0x22a)](_0x174b73(0x1ad)),_0x192e69=document[_0x174b73(0x22a)](_0x174b73(0x1f6)),_0x5abbd7=(_0xa0068f[_0x174b73(0x1c0)]()*0x3c+_0xa0068f[_0x174b73(0x1b0)]())/0x3c*GRID_H;_0x19cf32[_0x174b73(0x1fe)][_0x174b73(0x167)]=_0x5abbd7+'px',_0x19cf32[_0x174b73(0x1fe)]['display']=_0x174b73(0x1c9),_0x192e69[_0x174b73(0x1fe)]['top']=_0x5abbd7+'px',_0x192e69[_0x174b73(0x1fe)][_0x174b73(0x1d9)]=_0x174b73(0x1c9),_0x192e69[_0x174b73(0x235)]=String(_0xa0068f['getHours']())[_0x174b73(0x1c2)](0x2,'0')+':'+String(_0xa0068f[_0x174b73(0x1b0)]())[_0x174b73(0x1c2)](0x2,'0');}function onScroll(){const _0x1ac125=a3_0x385ceb,_0x3a0352=document['getElementById']('matrixViewport'),_0x3cd9b5=document['querySelectorAll']('.day-col-header');for(let _0x3db77f of _0x3cd9b5)if(_0x3db77f[_0x1ac125(0x175)]>=_0x3a0352[_0x1ac125(0x1db)]){const _0x5921ac=new Date(_0x3db77f['getAttribute'](_0x1ac125(0x1ac)));document[_0x1ac125(0x22a)]('headerMonth')[_0x1ac125(0x235)]=_0x5921ac[_0x1ac125(0x20e)]('ru',{'month':_0x1ac125(0x215)})[_0x1ac125(0x218)]()+'\x20'+_0x5921ac[_0x1ac125(0x1f1)]();break;}}function showToast(_0x37fdff){const _0x2d3ea0=a3_0x385ceb,_0x10d7e8=document[_0x2d3ea0(0x22a)]('toast');_0x10d7e8[_0x2d3ea0(0x235)]=_0x37fdff,_0x10d7e8[_0x2d3ea0(0x15a)]['add'](_0x2d3ea0(0x1c5)),setTimeout(()=>_0x10d7e8[_0x2d3ea0(0x15a)][_0x2d3ea0(0x147)](_0x2d3ea0(0x1c5)),0x7d0);}function handleInfiniteScroll(){const _0x38c266=a3_0x385ceb,_0x4697f5=document[_0x38c266(0x22a)](_0x38c266(0x149)),_0x20f899=_0x4697f5[_0x38c266(0x1db)],_0x4c001b=_0x4697f5[_0x38c266(0x180)],_0x122db9=_0x4697f5[_0x38c266(0x1b8)];if(_0x4c001b-(_0x20f899+_0x122db9)<0x12c){const _0x580258=endOffset;endOffset+=0xe,renderDayRange(_0x580258+0x1,endOffset),reRenderBlocks();}if(_0x20f899<0x12c){const _0x387ac4=startOffset;startOffset-=0xe,prependDays(startOffset,_0x387ac4-0x1),_0x4697f5[_0x38c266(0x1db)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3b3fd3,_0x3a5f3e){const _0x40cd47=a3_0x385ceb,_0x5b834d=document[_0x40cd47(0x22a)](_0x40cd47(0x1fb)),_0x1e4e2b=document['getElementById'](_0x40cd47(0x1c3)),_0x22f611=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x176dba=new Date();_0x176dba['setHours'](0x0,0x0,0x0,0x0);const _0x4910e2=getLocalDateStr(new Date()),_0x4f2391=document[_0x40cd47(0x17a)](),_0x1ca257=document[_0x40cd47(0x17a)]();for(let _0x4b8b06=_0x3b3fd3;_0x4b8b06<=_0x3a5f3e;_0x4b8b06++){const _0x17422d=new Date(_0x176dba);_0x17422d[_0x40cd47(0x220)](_0x17422d[_0x40cd47(0x1e7)]()+_0x4b8b06);const _0x344da0=getLocalDateStr(_0x17422d);let _0x563a3f=_0x17422d[_0x40cd47(0x199)]()-0x1;if(_0x563a3f===-0x1)_0x563a3f=0x6;const _0xa7c9f1=_0x344da0===_0x4910e2,_0x3ad109=document['createElement'](_0x40cd47(0x1bf));_0x3ad109['className']='day-col-header\x20'+(_0xa7c9f1?_0x40cd47(0x1be):''),_0x3ad109[_0x40cd47(0x16e)](_0x40cd47(0x1ac),_0x344da0),_0x3ad109[_0x40cd47(0x1a9)]=_0x40cd47(0x146)+_0x22f611[_0x563a3f]+_0x40cd47(0x1c1)+_0x17422d[_0x40cd47(0x1e7)]()+'</div>',_0x4f2391['appendChild'](_0x3ad109);const _0x5a16cd=document['createElement'](_0x40cd47(0x1bf));_0x5a16cd['className']=_0x40cd47(0x1c8)+(_0xa7c9f1?_0x40cd47(0x1be):''),_0x5a16cd[_0x40cd47(0x16e)](_0x40cd47(0x1ac),_0x344da0),_0x5a16cd[_0x40cd47(0x16e)](_0x40cd47(0x18c),_0x563a3f),_0x1ca257[_0x40cd47(0x1dd)](_0x5a16cd);}_0x5b834d[_0x40cd47(0x1e6)](_0x4f2391,_0x5b834d[_0x40cd47(0x20d)]),_0x1e4e2b[_0x40cd47(0x1e6)](_0x1ca257,_0x1e4e2b['querySelector']('.day-column'));}function hexToRgba(_0x527ff5,_0x46a927){const _0x596951=a3_0x385ceb;let _0x37e784;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x596951(0x231)](_0x527ff5))return _0x37e784=_0x527ff5[_0x596951(0x230)](0x1)[_0x596951(0x162)](''),_0x37e784[_0x596951(0x214)]==0x3&&(_0x37e784=[_0x37e784[0x0],_0x37e784[0x0],_0x37e784[0x1],_0x37e784[0x1],_0x37e784[0x2],_0x37e784[0x2]]),_0x37e784='0x'+_0x37e784['join'](''),'rgba('+[_0x37e784>>0x10&0xff,_0x37e784>>0x8&0xff,_0x37e784&0xff][_0x596951(0x1b3)](',')+','+_0x46a927+')';return _0x596951(0x1af)+_0x46a927+')';}function a3_0x5ac5(){const _0x3f7643=['getHours','</div><div\x20class=\x22dch-num\x22>','padStart','gridColumns','expand','show','setBackgroundColor','rs-time-btn','day-column\x20','block','\x20–∏–∑\x20','addEventListener','constructor','uc_client_sessions','rs-date-chip','toLocaleDateString','\x20—á.','ccText','px\x20-','setMonth','saveLocally','map','anDonutCircle','sort','overlay','display','rsSlotsGrid','scrollLeft','stringify','appendChild','.period-switch\x20.p-btn','total','T00:00:00','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','then','anCustomDates','.btn-cancel','client_load','insertBefore','getDate','#0a84ff','clientId','(((.+)+)+)+$','cancel_window','value','–û—Ç–º–µ–Ω–µ–Ω–æ','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','calc(','getFullYear','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getItem','applyData','uc_client_settings','timeLineBadge','detStatus','clients','numeric','4851295fmwNGk','daysHeaderTrack','ru-RU','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','style','4937760bkaeup','#ff453a','querySelector','DOMContentLoaded','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','disableVerticalSwipes','.rs-date-chip','get_slots','scrollTop','className','stopPropagation','timeColumn','planned','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','firstChild','toLocaleString','color','anPercent','cid','toString','9337842niGIPf','length','long','initData','analyticsList','toUpperCase','time-label','Critical\x20TMA\x20Error:','blocked-slot\x20stripe-bg','coach_profiles','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','sid','ranges','setDate','filter','coachId','now','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','.day-col-header[data-date=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getElementById','syncLoad','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','find','cancelled','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','substring','test','done','zIndex','floor','textContent','.day-column','note','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','setHeaderColor','6234LBAqAL','</div>','entries','error','v9.5-CLIENT-ANALYTICS','event-card','log','detTime','rescheduleSheet','week','<div\x20class=\x22dch-day\x22>','remove','offClick','matrixViewport','blocked-range-part\x20stripe-bg','dateStr','settings','findIndex','POST','completed','parse','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','mini','analyticsSheet','getMonth','add','data','search','keys','Error\x20setting\x20back\x20button:','classList',':00</span>','json','auto','charAt','getAttribute','–∑–∞\x20','8DZJgCZ','split','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getTime','onclick','#050505','top','<div\x20class=\x22rs-day-name\x22>','all','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','3193274IBNkNR','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','WebApp','setAttribute','rsDatesTrack','calendar','height','none','createElement','detDate','offsetLeft','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','href','%\x20+\x202px)','.sheet','createDocumentFragment','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','day-col-header\x20','detNote','client-stat-card','custom','scrollWidth','Unknown','anTotalStats','\x20–≤\x20','open','detailsSheet','end','offsetWidth','11614869OLeuHr','setHours','exceptions','button','data-day-idx','router.html','apply','push','left','%\x20-\x204px)','var(--acc-green)','substr','visible','user','ready','pattern','day-off-overlay\x20stripe-bg','getDay','min','Telegram','round','\x20-\x20','<span>','setItem','month','636438UcHtKM','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccTitle','20ECsUXa','querySelectorAll','status','start','client_cancel','innerHTML','borderLeftColor','forEach','data-date','globalTimeLine','88EpUKCW','rgba(10,\x20132,\x20255,\x20','getMinutes','backgroundColor','colIndex','join','max','startsWith','backgroundPosition','active','clientWidth','var(--acc-blue)','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','customConfirm','anStart','BackButton','today','div'];a3_0x5ac5=function(){return _0x3f7643;};return a3_0x5ac5();}let confirmResolver=null;function showCustomConfirm(_0x2bda84,_0x509dba,_0x2f41d8=!![]){const _0x32b380=a3_0x385ceb;document[_0x32b380(0x22a)](_0x32b380(0x1a3))[_0x32b380(0x235)]=_0x2bda84,document[_0x32b380(0x22a)](_0x32b380(0x1d1))['textContent']=_0x509dba;const _0x1a6d12=document[_0x32b380(0x22a)]('ccYesBtn');return _0x2f41d8?(_0x1a6d12[_0x32b380(0x1fe)][_0x32b380(0x20f)]=_0x32b380(0x200),_0x1a6d12[_0x32b380(0x1fe)]['fontWeight']='600'):(_0x1a6d12[_0x32b380(0x1fe)][_0x32b380(0x20f)]=_0x32b380(0x1e8),_0x1a6d12[_0x32b380(0x1fe)]['fontWeight']='600'),new Promise(_0x3b9571=>{const _0x2727c1=_0x32b380;confirmResolver=_0x3b9571,document[_0x2727c1(0x22a)](_0x2727c1(0x1bb))[_0x2727c1(0x15a)]['add'](_0x2727c1(0x194));});}function resolveCustomConfirm(_0x3d8507){const _0x1d177b=a3_0x385ceb;document[_0x1d177b(0x22a)](_0x1d177b(0x1bb))[_0x1d177b(0x15a)][_0x1d177b(0x147)](_0x1d177b(0x194));if(confirmResolver)confirmResolver(_0x3d8507);}async function tryCancelCurrentSession(){const _0x548aa3=a3_0x385ceb;if(!currentSession)return;const _0x1ca150=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x548aa3(0x1ee),!![]);if(!_0x1ca150)return;const _0x23f300=currentSession;closeAllSheets(),sessions=sessions[_0x548aa3(0x221)](_0x2e80f6=>_0x2e80f6['id']!==_0x23f300['id']),reRenderBlocks(),showToast(_0x548aa3(0x1ed)),lastUserActionTime=Date[_0x548aa3(0x223)]();try{const _0x5526cd=window[_0x548aa3(0x19b)]?.[_0x548aa3(0x16d)],_0x2df020=await fetch(API_URL,{'method':_0x548aa3(0x14e),'body':JSON[_0x548aa3(0x1dc)]({'action':_0x548aa3(0x1a8),'init_data':_0x5526cd?.[_0x548aa3(0x216)]||'','coachId':_0x23f300[_0x548aa3(0x222)],'dateStr':_0x23f300[_0x548aa3(0x14b)],'sessionId':_0x23f300['id']})});if(_0x2df020['ok'])DataManager['saveLocally']();}catch(_0xbc9b7f){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x38a30e=a3_0x385ceb;if(!currentSession)return;document['getElementById'](_0x38a30e(0x185))['classList'][_0x38a30e(0x147)](_0x38a30e(0x184)),document[_0x38a30e(0x22a)](_0x38a30e(0x144))[_0x38a30e(0x15a)][_0x38a30e(0x155)](_0x38a30e(0x184));const _0x4de814=document[_0x38a30e(0x22a)]('rsDatesTrack'),_0x5af97a=document[_0x38a30e(0x22a)](_0x38a30e(0x1da));_0x4de814[_0x38a30e(0x1a9)]='',_0x5af97a[_0x38a30e(0x1a9)]=_0x38a30e(0x224);const [_0x415a5a,_0x362903]=currentSession[_0x38a30e(0x1a7)][_0x38a30e(0x162)](':')[_0x38a30e(0x1d5)](Number),[_0x4eef5e,_0x1ced85]=currentSession[_0x38a30e(0x186)]['split'](':')[_0x38a30e(0x1d5)](Number),_0x53c39c=_0x4eef5e*0x3c+_0x1ced85-(_0x415a5a*0x3c+_0x362903);try{const _0x5a6d19=window[_0x38a30e(0x19b)]?.[_0x38a30e(0x16d)],_0x5c81c8=await fetch(API_URL,{'method':_0x38a30e(0x14e),'body':JSON[_0x38a30e(0x1dc)]({'action':_0x38a30e(0x206),'coachId':currentSession[_0x38a30e(0x222)],'duration':_0x53c39c,'init_data':_0x5a6d19?.[_0x38a30e(0x216)]||'','excludeSessionId':currentSession['id']})}),_0x3b2d6b=await _0x5c81c8[_0x38a30e(0x15c)]();_0x3b2d6b['ok']&&_0x3b2d6b[_0x38a30e(0x156)]?(availableSlotsCache=_0x3b2d6b['data'],renderRescheduleDates()):_0x5af97a[_0x38a30e(0x1a9)]=_0x38a30e(0x203);}catch(_0x19bcb3){_0x5af97a['innerHTML']=_0x38a30e(0x151);}}function renderRescheduleDates(){const _0x393bf0=a3_0x385ceb,_0x9185cb=document['getElementById'](_0x393bf0(0x16f));_0x9185cb[_0x393bf0(0x1a9)]='';const _0x3dc046=Object[_0x393bf0(0x158)](availableSlotsCache)['sort'](),_0x21853a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3dc046[_0x393bf0(0x214)]===0x0){document[_0x393bf0(0x22a)]('rsSlotsGrid')[_0x393bf0(0x1a9)]=_0x393bf0(0x163);return;}_0x3dc046['forEach']((_0x5f2479,_0xea9b0a)=>{const _0x4ce0a3=_0x393bf0,_0x5f198f=new Date(_0x5f2479),_0x9d04ad=_0x21853a[_0x5f198f[_0x4ce0a3(0x199)]()],_0x302fe5=_0x5f198f[_0x4ce0a3(0x1e7)](),_0x5ad899=document['createElement'](_0x4ce0a3(0x1bf));_0x5ad899['className']=_0x4ce0a3(0x1ce);if(_0xea9b0a===0x0)_0x5ad899[_0x4ce0a3(0x15a)][_0x4ce0a3(0x155)](_0x4ce0a3(0x1b7));_0x5ad899[_0x4ce0a3(0x1a9)]=_0x4ce0a3(0x168)+_0x9d04ad+'</div><div\x20class=\x22rs-day-num\x22>'+_0x302fe5+_0x4ce0a3(0x23b),_0x5ad899[_0x4ce0a3(0x165)]=()=>selectRsDate(_0x5f2479,_0x5ad899),_0x9185cb[_0x4ce0a3(0x1dd)](_0x5ad899);}),selectRsDate(_0x3dc046[0x0],_0x9185cb[_0x393bf0(0x20d)]);}function selectRsDate(_0x1f5f16,_0x2fcdf5){const _0x585ab7=a3_0x385ceb;selectedRsDate=_0x1f5f16,document['querySelectorAll'](_0x585ab7(0x205))['forEach'](_0x47f3fe=>_0x47f3fe[_0x585ab7(0x15a)]['remove']('active'));if(_0x2fcdf5)_0x2fcdf5[_0x585ab7(0x15a)][_0x585ab7(0x155)](_0x585ab7(0x1b7));const _0x4eff93=document[_0x585ab7(0x22a)](_0x585ab7(0x1da));_0x4eff93[_0x585ab7(0x1a9)]='';const _0x8d663f=availableSlotsCache[_0x1f5f16]||[];if(_0x8d663f[_0x585ab7(0x214)]===0x0){_0x4eff93[_0x585ab7(0x1a9)]=_0x585ab7(0x203);return;}_0x8d663f['forEach'](_0x126f84=>{const _0x3e2000=_0x585ab7,_0x29d887=document['createElement'](_0x3e2000(0x18b));_0x29d887[_0x3e2000(0x208)]=_0x3e2000(0x1c7),_0x29d887['textContent']=_0x126f84,_0x29d887[_0x3e2000(0x165)]=()=>confirmReschedule(_0x126f84),_0x4eff93[_0x3e2000(0x1dd)](_0x29d887);});}async function confirmReschedule(_0x55a303){const _0x527bd5=a3_0x385ceb,_0xcd126f=new Date(selectedRsDate),_0x1f5582=_0xcd126f[_0x527bd5(0x1cf)](_0x527bd5(0x1fc),{'day':_0x527bd5(0x1f9),'month':_0x527bd5(0x215)}),_0x483884=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x527bd5(0x1ef)+_0x1f5582+_0x527bd5(0x183)+_0x55a303+'?',![]);if(!_0x483884)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x3a7cfc=currentSession[_0x527bd5(0x14b)],_0x39a679=currentSession['id'],[_0x4ef84c,_0x5c83e6]=currentSession[_0x527bd5(0x1a7)][_0x527bd5(0x162)](':')[_0x527bd5(0x1d5)](Number),[_0x457f74,_0x5ce867]=currentSession[_0x527bd5(0x186)][_0x527bd5(0x162)](':')[_0x527bd5(0x1d5)](Number),_0x5c0b95=_0x457f74*0x3c+_0x5ce867-(_0x4ef84c*0x3c+_0x5c83e6),[_0x18d610,_0x5c8728]=_0x55a303[_0x527bd5(0x162)](':')[_0x527bd5(0x1d5)](Number),_0x120b1c=_0x18d610*0x3c+_0x5c8728+_0x5c0b95,_0x4546f1=Math[_0x527bd5(0x234)](_0x120b1c/0x3c),_0x197210=_0x120b1c%0x3c,_0x411dd6=String(_0x4546f1)[_0x527bd5(0x1c2)](0x2,'0')+':'+String(_0x197210)[_0x527bd5(0x1c2)](0x2,'0'),_0x5b6f2c=sessions[_0x527bd5(0x14d)](_0x22be23=>_0x22be23['id']===_0x39a679);_0x5b6f2c!==-0x1&&(sessions[_0x5b6f2c]['dateStr']=selectedRsDate,sessions[_0x5b6f2c]['start']=_0x55a303,sessions[_0x5b6f2c][_0x527bd5(0x186)]=_0x411dd6,reRenderBlocks());try{const _0x5adb38=window['Telegram']?.[_0x527bd5(0x16d)],_0x503a13=await fetch(API_URL,{'method':_0x527bd5(0x14e),'body':JSON['stringify']({'action':'reschedule','init_data':_0x5adb38?.[_0x527bd5(0x216)]||'','oldSessionId':_0x39a679,'oldDate':_0x3a7cfc,'newDate':selectedRsDate,'newTime':_0x55a303,'coachId':currentSession[_0x527bd5(0x222)]})}),_0x5b0c9b=await _0x503a13[_0x527bd5(0x15c)]();!_0x5b0c9b['ok']?(showToast(_0x527bd5(0x16a)),DataManager[_0x527bd5(0x22b)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x3deb1b){showToast(_0x527bd5(0x238));}}document['addEventListener'](a3_0x385ceb(0x202),init);