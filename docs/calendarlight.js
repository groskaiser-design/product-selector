const a3_0x4f04a1=a3_0x1be5;(function(_0x8916,_0x39bda1){const _0x97e91d=a3_0x1be5,_0x49aa58=_0x8916();while(!![]){try{const _0x6916e7=-parseInt(_0x97e91d(0x71))/0x1+parseInt(_0x97e91d(0xaf))/0x2*(-parseInt(_0x97e91d(0x9f))/0x3)+parseInt(_0x97e91d(0x10a))/0x4+parseInt(_0x97e91d(0x12c))/0x5+-parseInt(_0x97e91d(0xd1))/0x6*(-parseInt(_0x97e91d(0x123))/0x7)+-parseInt(_0x97e91d(0x153))/0x8+-parseInt(_0x97e91d(0xad))/0x9*(-parseInt(_0x97e91d(0x158))/0xa);if(_0x6916e7===_0x39bda1)break;else _0x49aa58['push'](_0x49aa58['shift']());}catch(_0x334efd){_0x49aa58['push'](_0x49aa58['shift']());}}}(a3_0x5842,0x49953));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x4f04a1(0x95),GRID_H=0x3c,KEY_SESSIONS=a3_0x4f04a1(0x12a),KEY_SETTINGS=a3_0x4f04a1(0x124),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4f04a1(0xfe),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x16853a=a3_0x4f04a1,_0x12fdb6=(function(){let _0x320c32=!![];return function(_0x3accf0,_0x16fad7){const _0x3d7778=_0x320c32?function(){if(_0x16fad7){const _0x2b825b=_0x16fad7['apply'](_0x3accf0,arguments);return _0x16fad7=null,_0x2b825b;}}:function(){};return _0x320c32=![],_0x3d7778;};}()),_0x275cc0=_0x12fdb6(this,function(){const _0x268ce3=a3_0x1be5;return _0x275cc0[_0x268ce3(0x88)]()['search'](_0x268ce3(0x152))[_0x268ce3(0x88)]()['constructor'](_0x275cc0)[_0x268ce3(0x14b)](_0x268ce3(0x152));});_0x275cc0();try{const _0x5e28db=window[_0x16853a(0x164)]?.['WebApp'];if(!_0x5e28db)return;_0x5e28db[_0x16853a(0xdf)](),_0x5e28db[_0x16853a(0x6e)]();try{_0x5e28db[_0x16853a(0xd3)](_0x16853a(0x146)),_0x5e28db[_0x16853a(0xb4)]&&_0x5e28db[_0x16853a(0xb4)]('#050505');}catch(_0x1dd79e){console[_0x16853a(0x84)](_0x16853a(0x96),_0x1dd79e);}try{_0x5e28db[_0x16853a(0xc4)]&&(_0x5e28db[_0x16853a(0xc4)]['show'](),_0x5e28db[_0x16853a(0xc4)][_0x16853a(0x107)](),_0x5e28db[_0x16853a(0xc4)][_0x16853a(0xdc)](function(){const _0x34d44b=_0x16853a;window[_0x34d44b(0x144)][_0x34d44b(0x10e)]=_0x34d44b(0xb5);}));}catch(_0x17fbfb){console[_0x16853a(0x84)](_0x16853a(0xd4),_0x17fbfb);}try{if(_0x5e28db['disableVerticalSwipes'])_0x5e28db['disableVerticalSwipes']();}catch(_0x3089ed){}}catch(_0x213ae0){console['error'](_0x16853a(0xa8),_0x213ae0);}}());function isAdmin(){const _0x9f0e37=a3_0x4f04a1;try{const _0x416384=Number(window['Telegram']?.[_0x9f0e37(0x92)]?.['initDataUnsafe']?.[_0x9f0e37(0xf1)]?.['id']);return _0x416384===0xbaf7174;}catch(_0x1716b9){return![];}}const DataManager={'saveLocally'(){const _0x2422c3=a3_0x4f04a1;try{localStorage[_0x2422c3(0xb1)](KEY_SESSIONS,JSON[_0x2422c3(0x94)](sessions)),localStorage[_0x2422c3(0xb1)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x2422c3(0xb1)](KEY_SETTINGS,JSON[_0x2422c3(0x94)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xac2191){}},'loadLocal'(){const _0x3004a6=a3_0x4f04a1;try{const _0x42dcc5=localStorage[_0x3004a6(0x14e)](KEY_SESSIONS);if(_0x42dcc5)sessions=JSON['parse'](_0x42dcc5);const _0x164ca8=localStorage[_0x3004a6(0x14e)](KEY_CLIENTS);if(_0x164ca8)clients=JSON[_0x3004a6(0x120)](_0x164ca8);const _0x110a78=localStorage['getItem'](KEY_SETTINGS);if(_0x110a78){const _0x39b217=JSON[_0x3004a6(0x120)](_0x110a78);if(_0x39b217[_0x3004a6(0x15c)])availabilityPattern=_0x39b217[_0x3004a6(0x15c)];if(_0x39b217['ranges'])specialRanges=_0x39b217['ranges'];if(_0x39b217[_0x3004a6(0x10c)])dateExceptions=_0x39b217[_0x3004a6(0x10c)];}}catch(_0x3bbd97){}},async 'syncLoad'(){const _0x24a197=a3_0x4f04a1,_0x5457de=new Date(),_0x12e93b=_0x5457de[_0x24a197(0x91)]()+'-'+String(_0x5457de[_0x24a197(0x157)]()+0x1)['padStart'](0x2,'0'),_0x4d90a6=new Date(_0x5457de);_0x4d90a6['setMonth'](_0x5457de[_0x24a197(0x157)]()+0x1);const _0x45c989=_0x4d90a6[_0x24a197(0x91)]()+'-'+String(_0x4d90a6[_0x24a197(0x157)]()+0x1)[_0x24a197(0xb0)](0x2,'0'),_0x3274e7=Date[_0x24a197(0x9c)]();try{const _0x226de9=window[_0x24a197(0x164)]?.[_0x24a197(0x92)],_0x228808=_0x226de9?.[_0x24a197(0xe6)]||'',[_0x1c85e7,_0x11b12a]=await Promise[_0x24a197(0xf5)]([fetch(API_URL,{'method':_0x24a197(0xea),'body':JSON[_0x24a197(0x94)]({'action':'client_load','init_data':_0x228808,'month_str':_0x12e93b})})[_0x24a197(0x79)](_0x1db7c4=>_0x1db7c4['json']()),fetch(API_URL,{'method':_0x24a197(0xea),'body':JSON[_0x24a197(0x94)]({'action':_0x24a197(0x6f),'init_data':_0x228808,'month_str':_0x45c989})})[_0x24a197(0x79)](_0x34cf27=>_0x34cf27[_0x24a197(0x8c)]())]);if(lastUserActionTime>_0x3274e7){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x1c85e7['ok'])this['applyData'](_0x1c85e7[_0x24a197(0xbc)],_0x12e93b);if(_0x11b12a['ok'])this['applyData'](_0x11b12a[_0x24a197(0xbc)],_0x45c989);this['saveLocally']();}catch(_0x147cda){}},'applyData'(_0x5e49f0,_0x2b7c0c){const _0x3f89ce=a3_0x4f04a1;if(!_0x5e49f0)return;if(_0x5e49f0[_0x3f89ce(0x112)]){if(_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0x15c)])availabilityPattern=_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0x15c)];if(_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0xb3)])specialRanges=_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0xb3)];if(_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0x10c)])dateExceptions=_0x5e49f0[_0x3f89ce(0x112)][_0x3f89ce(0x10c)];}if(_0x5e49f0['clients']&&Array[_0x3f89ce(0xf8)](_0x5e49f0[_0x3f89ce(0x12b)]))clients=_0x5e49f0[_0x3f89ce(0x12b)];_0x5e49f0[_0x3f89ce(0xf9)]&&(coachProfiles={...coachProfiles,..._0x5e49f0['coach_profiles']}),_0x5e49f0[_0x3f89ce(0xe2)]&&(sessions=sessions[_0x3f89ce(0x97)](_0x3d4b1e=>!_0x3d4b1e['dateStr']['startsWith'](_0x2b7c0c)),Object[_0x3f89ce(0x11a)](_0x5e49f0[_0x3f89ce(0xe2)])[_0x3f89ce(0x10d)](_0x3e246f=>{const _0x25f473=_0x3f89ce,_0x5de3bd=_0x5e49f0[_0x25f473(0xe2)][_0x3e246f];_0x5de3bd[_0x25f473(0x10d)](_0x4c85e3=>{const _0x214c92=_0x25f473;sessions[_0x214c92(0x127)]({'id':_0x4c85e3['i'],'clientId':_0x4c85e3['c'],'coachId':_0x4c85e3['cid'],'dateStr':_0x2b7c0c+'-'+_0x3e246f[_0x214c92(0xb0)](0x2,'0'),'start':_0x4c85e3['s'],'end':_0x4c85e3['e'],'note':_0x4c85e3['n']||'','status':_0x4c85e3['st']||_0x214c92(0x122),'seriesId':_0x4c85e3[_0x214c92(0x115)]});});})),reRenderBlocks();}};function a3_0x5842(){const _0x1ef112=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loadLocal','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','onclick','Critical\x20TMA\x20Error:','.day-col-header','reschedule','end','day-column\x20','1215dEWcle','total','6UnaKxK','padStart','setItem','createElement','ranges','setBackgroundColor','router.html','today','event-card','time-label','timeLineBadge','day-off-overlay\x20stripe-bg','timeColumn','data','getAttribute','fontWeight','flex','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','rescheduleSheet','clientWidth','#0a84ff','BackButton','firstChild','max','findIndex','clientId','style','getDay','substring','getTime','querySelector','join','headerMonth','DOMContentLoaded','22830tOnXFO','day-col-header\x20','setHeaderColor','Error\x20setting\x20back\x20button:','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','setDate','innerHTML','#ff453a','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','rgba(','cancelled','onClick','client-stat-card','round','ready','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','blocked-range-part\x20stripe-bg','calendar','anCustomDates','none','</span>\x20/\x20','initData','zIndex','toUpperCase','–û—Ç–º–µ–Ω–µ–Ω–æ','POST','cancel_window','left','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','div','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','user','add','getMinutes','backgroundPosition','all','ccText','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','isArray','coach_profiles','scrollLeft','–∑–∞\x20','.btn-reschedule','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','week','data-day-idx','find','globalTimeLine',':00</span>','ccYesBtn','open','\x20-\x20','scrollWidth','offClick','anEnd','custom','1641232rCtzDV','map','exceptions','forEach','href','anPercent','detNote','px\x20-','settings','color','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','sid','.day-column','offsetLeft','gridColumns','long','keys','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','setHours','client_cancel','detStatus','rsSlotsGrid','parse','dateStr','planned','609AvenfP','uc_client_settings','\x20status-completed','value','push','numeric','getElementById','uc_client_sessions','clients','1850265VzlurW','cancelContainer','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','matrixViewport','classList','rsDatesTrack','<div\x20class=\x22dch-day\x22>','toLocaleDateString','height','coachId','.period-switch\x20.p-btn','display','note','analyticsSheet','getHours','querySelectorAll','className','.sheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','block','insertBefore','backgroundColor','button','test','location','appendChild','#050505','</div><div\x20class=\x22rs-day-num\x22>','setAttribute','var(--acc-green)','sort','search','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','addEventListener','getItem','visible','syncLoad','<span>','(((.+)+)+)+$','1212400NiXvXY','daysHeaderTrack','strokeDashoffset','done','getMonth','5280ebYCNU','scrollTop','offsetWidth','remove','pattern','entries','anStart','completed','\x20–∏–∑\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','start','</div>','Telegram','expand','client_load','detailsSheet','573314zubSJe','scrollTo','split','stopPropagation','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','</div><div\x20class=\x22dch-num\x22>','\x20—á.','overlay','then','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','rs-date-chip','%\x20-\x204px)','scroll','rs-time-btn','seriesId','detTime','getDate','textContent','width','log','createDocumentFragment','%\x20+\x202px)','length','toString','calc(','min','ru-RU','json','saveLocally','customConfirm','colIndex','active','getFullYear','WebApp','.btn-cancel','stringify','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Error\x20setting\x20color:','filter','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','status','substr','data-date','now','toLocaleString','borderLeftColor','156417bXMENv','show','top','600','slice'];a3_0x5842=function(){return _0x1ef112;};return a3_0x5842();}function init(){const _0x191ebc=a3_0x4f04a1;DataManager[_0x191ebc(0xa5)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x191ebc(0x12f))['addEventListener'](_0x191ebc(0x7d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x191ebc(0x150)]();}function renderTimeColumn(){const _0x2357a6=a3_0x4f04a1,_0x283355=document[_0x2357a6(0x129)](_0x2357a6(0xbb)),_0x5ddb23=document['getElementById']('timeLineBadge');_0x283355[_0x2357a6(0xd7)]='',_0x283355['appendChild'](_0x5ddb23);for(let _0x159b8b=0x0;_0x159b8b<0x18;_0x159b8b++){const _0x3ac2f9=document[_0x2357a6(0xb2)](_0x2357a6(0xef));_0x3ac2f9[_0x2357a6(0x13c)]=_0x2357a6(0xb8);if(_0x159b8b>0x0)_0x3ac2f9[_0x2357a6(0xd7)]=_0x2357a6(0x151)+String(_0x159b8b)[_0x2357a6(0xb0)](0x2,'0')+_0x2357a6(0x102);_0x283355['appendChild'](_0x3ac2f9);}}function renderDayRange(_0x1ac3d6,_0x30e69a){const _0x5f390b=a3_0x4f04a1,_0x33588e=document[_0x5f390b(0x129)](_0x5f390b(0x154)),_0x5efed2=document['getElementById'](_0x5f390b(0x118)),_0x3ef409=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47ab45=new Date();_0x47ab45[_0x5f390b(0x11c)](0x0,0x0,0x0,0x0);const _0x1a363e=getLocalDateStr(new Date());for(let _0x35edba=_0x1ac3d6;_0x35edba<=_0x30e69a;_0x35edba++){const _0x285833=new Date(_0x47ab45);_0x285833[_0x5f390b(0xd6)](_0x285833[_0x5f390b(0x81)]()+_0x35edba);const _0x361723=getLocalDateStr(_0x285833);let _0x3d21ac=_0x285833[_0x5f390b(0xca)]()-0x1;if(_0x3d21ac===-0x1)_0x3d21ac=0x6;const _0x756f4e=_0x361723===_0x1a363e,_0x45d0e2=document[_0x5f390b(0xb2)](_0x5f390b(0xef));_0x45d0e2[_0x5f390b(0x13c)]=_0x5f390b(0xd2)+(_0x756f4e?_0x5f390b(0xb6):''),_0x45d0e2['setAttribute'](_0x5f390b(0x9b),_0x361723),_0x45d0e2[_0x5f390b(0xd7)]=_0x5f390b(0x132)+_0x3ef409[_0x3d21ac]+'</div><div\x20class=\x22dch-num\x22>'+_0x285833[_0x5f390b(0x81)]()+'</div>',_0x33588e[_0x5f390b(0x145)](_0x45d0e2);const _0x48ba09=document[_0x5f390b(0xb2)]('div');_0x48ba09[_0x5f390b(0x13c)]=_0x5f390b(0xac)+(_0x756f4e?_0x5f390b(0xb6):''),_0x48ba09[_0x5f390b(0x148)]('data-date',_0x361723),_0x48ba09[_0x5f390b(0x148)](_0x5f390b(0xff),_0x3d21ac),_0x5efed2[_0x5f390b(0x145)](_0x48ba09);}}function reRenderBlocks(){const _0x1a59ee=a3_0x4f04a1;document[_0x1a59ee(0x13b)](_0x1a59ee(0x116))[_0x1a59ee(0x10d)](_0x9d2381=>{const _0x576439=_0x1a59ee;_0x9d2381['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x576439(0x10d)](_0x3058a4=>_0x3058a4[_0x576439(0x15b)]());const _0x59d286=_0x9d2381[_0x576439(0xbd)](_0x576439(0x9b)),_0x104c46=parseInt(_0x9d2381[_0x576439(0xbd)](_0x576439(0xff))),_0x29b9a5=Math[_0x576439(0xde)](_0x9d2381[_0x576439(0x117)]);(availabilityPattern[_0x104c46]||[])[_0x576439(0x10d)](_0x32e61d=>{const _0x3e3394=_0x576439,_0x47833b=document[_0x3e3394(0xb2)](_0x3e3394(0xef));_0x47833b[_0x3e3394(0x13c)]='blocked-slot\x20stripe-bg',_0x47833b[_0x3e3394(0xc9)]['top']=_0x32e61d*GRID_H+'px',_0x47833b[_0x3e3394(0xc9)][_0x3e3394(0xf4)]='-'+_0x29b9a5+_0x3e3394(0x111)+_0x32e61d*GRID_H+'px',_0x9d2381['appendChild'](_0x47833b);});if(specialRanges[_0x576439(0x87)]>0x0){const _0x5ced73=new Date(_0x59d286+'T00:00:00')[_0x576439(0xcc)](),_0x1f61f1=new Date(_0x59d286+'T23:59:59')[_0x576439(0xcc)]();specialRanges[_0x576439(0x10d)](_0x45c99b=>{const _0x5c7525=_0x576439,_0x48dd1d=new Date(_0x45c99b['start'])['getTime'](),_0x1b72e1=new Date(_0x45c99b[_0x5c7525(0xab)])[_0x5c7525(0xcc)](),_0x6bfaa4=Math[_0x5c7525(0xc6)](_0x5ced73,_0x48dd1d),_0xe1c609=Math[_0x5c7525(0x8a)](_0x1f61f1,_0x1b72e1);if(_0x6bfaa4<_0xe1c609){const _0x423e6e=(_0x6bfaa4-_0x5ced73)/0x36ee80*GRID_H,_0x4ae5a8=(_0xe1c609-_0x6bfaa4)/0x36ee80*GRID_H,_0x2031a0=document['createElement']('div');_0x4ae5a8>=23.5*GRID_H?(_0x2031a0['className']=_0x5c7525(0xba),_0x2031a0[_0x5c7525(0xc9)][_0x5c7525(0xf4)]='-'+_0x29b9a5+'px\x200px'):(_0x2031a0[_0x5c7525(0x13c)]=_0x5c7525(0xe1),_0x2031a0['style'][_0x5c7525(0xa1)]=_0x423e6e+'px',_0x2031a0[_0x5c7525(0xc9)][_0x5c7525(0x134)]=_0x4ae5a8+'px',_0x2031a0['style'][_0x5c7525(0xf4)]='-'+_0x29b9a5+_0x5c7525(0x111)+_0x423e6e+'px'),_0x9d2381[_0x5c7525(0x145)](_0x2031a0);}});}renderEventsForColumn(_0x9d2381,_0x59d286);});}function renderEventsForColumn(_0x3fc2ce,_0x2fdc15){const _0x5a409a=a3_0x4f04a1,_0x4f1f4e=sessions[_0x5a409a(0x97)](_0x3bd5b6=>_0x3bd5b6['dateStr']===_0x2fdc15),_0x4ef818=_0x4f1f4e[_0x5a409a(0x10b)](_0x345c5f=>{const _0x3c95ea=_0x5a409a,[_0x8b7a09,_0xb96280]=_0x345c5f['start'][_0x3c95ea(0x73)](':')['map'](Number),[_0x31a878,_0x7c90c2]=_0x345c5f[_0x3c95ea(0xab)][_0x3c95ea(0x73)](':')[_0x3c95ea(0x10b)](Number);return{'data':_0x345c5f,'start':_0x8b7a09*0x3c+_0xb96280,'end':_0x31a878*0x3c+_0x7c90c2,'colIndex':0x0};});_0x4ef818[_0x5a409a(0x14a)]((_0x29aadc,_0x149d73)=>_0x29aadc[_0x5a409a(0x162)]-_0x149d73[_0x5a409a(0x162)]||_0x149d73['end']-_0x149d73[_0x5a409a(0x162)]-(_0x29aadc['end']-_0x29aadc[_0x5a409a(0x162)]));const _0x367302=[];_0x4ef818[_0x5a409a(0x10d)](_0x634772=>{const _0x480b8d=_0x5a409a;let _0x14e6dc=![];for(let _0x1c02dd=0x0;_0x1c02dd<_0x367302[_0x480b8d(0x87)];_0x1c02dd++){const _0x3c5465=_0x367302[_0x1c02dd];if(_0x634772['start']>=_0x3c5465[_0x3c5465[_0x480b8d(0x87)]-0x1][_0x480b8d(0xab)]){_0x3c5465['push'](_0x634772),_0x634772['colIndex']=_0x1c02dd,_0x14e6dc=!![];break;}}!_0x14e6dc&&(_0x367302[_0x480b8d(0x127)]([_0x634772]),_0x634772[_0x480b8d(0x8f)]=_0x367302[_0x480b8d(0x87)]-0x1);}),_0x4ef818[_0x5a409a(0x10d)](_0x2c44cc=>{const _0x5bab0b=_0x5a409a;let _0x9800e7=0x0;_0x4ef818[_0x5bab0b(0x10d)](_0x1e9a30=>{const _0x1e09f0=_0x5bab0b;if(Math[_0x1e09f0(0xc6)](_0x2c44cc[_0x1e09f0(0x162)],_0x1e9a30['start'])<Math[_0x1e09f0(0x8a)](_0x2c44cc[_0x1e09f0(0xab)],_0x1e9a30[_0x1e09f0(0xab)])&&_0x1e9a30['colIndex']>_0x9800e7)_0x9800e7=_0x1e9a30['colIndex'];});const _0x11b1a3=_0x9800e7+0x1,_0x28ff19=0x64/_0x11b1a3,_0xce91f2=_0x2c44cc[_0x5bab0b(0x8f)]*_0x28ff19,_0x138120=document[_0x5bab0b(0xb2)](_0x5bab0b(0xef)),_0x475a26=_0x2c44cc[_0x5bab0b(0xbc)];let _0xe97bfc=_0x5bab0b(0xc3);if(clients&&clients[_0x5bab0b(0x87)]>0x0){const _0x2ba1e2=clients[_0x5bab0b(0x100)](_0x3d42af=>String(_0x3d42af['id'])===String(_0x475a26[_0x5bab0b(0xc8)]));if(_0x2ba1e2&&_0x2ba1e2['color'])_0xe97bfc=_0x2ba1e2[_0x5bab0b(0x113)];}const _0x137d49=_0x475a26[_0x5bab0b(0x99)]===_0x5bab0b(0x15f),_0x283605=_0x137d49?0x1:0.45;_0x138120[_0x5bab0b(0x13c)]=_0x5bab0b(0xb7)+(_0x137d49?_0x5bab0b(0x125):''),_0x138120[_0x5bab0b(0xc9)][_0x5bab0b(0x141)]=hexToRgba(_0xe97bfc,_0x283605),_0x138120[_0x5bab0b(0xc9)][_0x5bab0b(0x9e)]=_0xe97bfc;const _0x1af19a=_0x2c44cc[_0x5bab0b(0x162)]/0x3c*GRID_H,_0x280295=(_0x2c44cc[_0x5bab0b(0xab)]-_0x2c44cc[_0x5bab0b(0x162)])/0x3c*GRID_H;_0x138120['style'][_0x5bab0b(0xa1)]=_0x1af19a+'px',_0x138120[_0x5bab0b(0xc9)][_0x5bab0b(0x134)]=Math[_0x5bab0b(0xc6)](_0x280295,0x14)+'px',_0x138120[_0x5bab0b(0xc9)][_0x5bab0b(0x83)]=_0x5bab0b(0x89)+_0x28ff19+_0x5bab0b(0x7c),_0x138120['style'][_0x5bab0b(0xec)]=_0x5bab0b(0x89)+_0xce91f2+_0x5bab0b(0x86),_0x138120[_0x5bab0b(0xc9)][_0x5bab0b(0xe7)]=0xa+_0x2c44cc[_0x5bab0b(0x8f)];if(_0x28ff19<0x55)_0x138120['classList'][_0x5bab0b(0xf2)]('mini');let _0x25fe55='';if(_0x475a26[_0x5bab0b(0x7f)])_0x25fe55+=_0x5bab0b(0xc0);if(_0x137d49)_0x25fe55+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x138120['innerHTML']=_0x5bab0b(0x13e)+_0x475a26[_0x5bab0b(0x162)]+_0x5bab0b(0x105)+_0x475a26[_0x5bab0b(0xab)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25fe55+_0x5bab0b(0xa4),_0x138120[_0x5bab0b(0xa7)]=_0x546572=>{const _0x2989d0=_0x5bab0b;_0x546572[_0x2989d0(0x74)](),openDetails(_0x475a26);},_0x3fc2ce[_0x5bab0b(0x145)](_0x138120);});}function openAnalytics(){const _0x3a14bf=a3_0x4f04a1,_0x41a1a6=document[_0x3a14bf(0xcd)](_0x3a14bf(0x136));setAnalyticsPeriod('week',_0x41a1a6),openSheet(_0x3a14bf(0x139));}function setAnalyticsPeriod(_0x1c72ed,_0x5766a9){const _0x2d4d23=a3_0x4f04a1;currentAnPeriod=_0x1c72ed,document['querySelectorAll'](_0x2d4d23(0x136))[_0x2d4d23(0x10d)](_0x6a591e=>_0x6a591e[_0x2d4d23(0x130)][_0x2d4d23(0x15b)]('active'));if(_0x5766a9)_0x5766a9[_0x2d4d23(0x130)]['add'](_0x2d4d23(0x90));const _0x524a00=document[_0x2d4d23(0x129)](_0x2d4d23(0xe3));_0x524a00[_0x2d4d23(0xc9)][_0x2d4d23(0x137)]=_0x1c72ed===_0x2d4d23(0x109)?_0x2d4d23(0xbf):_0x2d4d23(0xe4);const _0x20d856=new Date();let _0x41fc81=new Date(),_0x58ebfd=new Date();if(_0x1c72ed===_0x2d4d23(0xfe))_0x41fc81=getStartOfWeek(_0x20d856),_0x58ebfd=new Date(_0x41fc81),_0x58ebfd['setDate'](_0x58ebfd['getDate']()+0x6);else{if(_0x1c72ed==='month')_0x41fc81=new Date(_0x20d856['getFullYear'](),_0x20d856[_0x2d4d23(0x157)](),0x1),_0x58ebfd=new Date(_0x20d856[_0x2d4d23(0x91)](),_0x20d856['getMonth']()+0x1,0x0);else{!document[_0x2d4d23(0x129)](_0x2d4d23(0x15e))[_0x2d4d23(0x126)]&&(document['getElementById'](_0x2d4d23(0x15e))[_0x2d4d23(0x126)]=getLocalDateStr(_0x20d856),document[_0x2d4d23(0x129)](_0x2d4d23(0x108))[_0x2d4d23(0x126)]=getLocalDateStr(_0x20d856));refreshAnalytics();return;}}document[_0x2d4d23(0x129)](_0x2d4d23(0x15e))['value']=getLocalDateStr(_0x41fc81),document['getElementById'](_0x2d4d23(0x108))[_0x2d4d23(0x126)]=getLocalDateStr(_0x58ebfd),refreshAnalytics();}function refreshAnalytics(){const _0x5eaf35=a3_0x4f04a1,_0x3a6914=document[_0x5eaf35(0x129)](_0x5eaf35(0x15e))['value'],_0x4042f3=document[_0x5eaf35(0x129)]('anEnd')['value'];if(!_0x3a6914||!_0x4042f3)return;const _0x48587d=sessions['filter'](_0x217fff=>_0x217fff[_0x5eaf35(0x121)]>=_0x3a6914&&_0x217fff[_0x5eaf35(0x121)]<=_0x4042f3&&_0x217fff[_0x5eaf35(0x99)]!==_0x5eaf35(0xdb)),_0x432ee1=_0x48587d[_0x5eaf35(0x87)],_0x261b66=_0x48587d[_0x5eaf35(0x97)](_0x40630f=>_0x40630f[_0x5eaf35(0x99)]===_0x5eaf35(0x15f))[_0x5eaf35(0x87)],_0x1c0aa8=_0x432ee1>0x0?Math[_0x5eaf35(0xde)](_0x261b66/_0x432ee1*0x64):0x0;document[_0x5eaf35(0x129)](_0x5eaf35(0x10f))[_0x5eaf35(0x82)]=_0x1c0aa8+'%',document['getElementById']('anTotalStats')[_0x5eaf35(0x82)]=_0x261b66+_0x5eaf35(0x160)+_0x432ee1+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x3ea9d7=document[_0x5eaf35(0x129)]('anDonutCircle'),_0x3f3878=0x2*Math['PI']*0x23,_0x5b42d1=_0x3f3878-_0x1c0aa8/0x64*_0x3f3878;_0x3ea9d7[_0x5eaf35(0xc9)][_0x5eaf35(0x155)]=_0x5b42d1;const _0x50b7a9={};_0x48587d[_0x5eaf35(0x10d)](_0x457e08=>{const _0xb0dd05=_0x5eaf35,_0x4d5353=_0x457e08[_0xb0dd05(0x135)]||'Unknown';if(!_0x50b7a9[_0x4d5353]){const _0x50af1e='#'+_0x4d5353[_0xb0dd05(0x88)]()[_0xb0dd05(0x9a)](0x0,0x6);_0x50b7a9[_0x4d5353]={'total':0x0,'done':0x0,'color':_0x50af1e};}_0x50b7a9[_0x4d5353][_0xb0dd05(0xae)]++;if(_0x457e08[_0xb0dd05(0x99)]===_0xb0dd05(0x15f))_0x50b7a9[_0x4d5353][_0xb0dd05(0x156)]++;});const _0x500dc0=document['getElementById']('analyticsList');_0x500dc0['innerHTML']='';const _0x173b86=Object[_0x5eaf35(0x15d)](_0x50b7a9)[_0x5eaf35(0x14a)]((_0x1b629d,_0x56ace4)=>_0x56ace4[0x1][_0x5eaf35(0xae)]-_0x1b629d[0x1][_0x5eaf35(0xae)]);if(_0x173b86['length']===0x0){_0x500dc0[_0x5eaf35(0xd7)]=_0x5eaf35(0x114);return;}_0x173b86[_0x5eaf35(0x10d)](([_0xf3bad8,_0x11f0e4])=>{const _0x2f913d=_0x5eaf35,_0x1ffcb5=Math[_0x2f913d(0xde)](_0x11f0e4[_0x2f913d(0x156)]/_0x11f0e4[_0x2f913d(0xae)]*0x64),_0x5c5594=document[_0x2f913d(0xb2)](_0x2f913d(0xef));_0x5c5594[_0x2f913d(0x13c)]=_0x2f913d(0xdd),_0x5c5594[_0x2f913d(0xc9)][_0x2f913d(0x9e)]=_0x11f0e4['color'],_0x5c5594['innerHTML']=_0x2f913d(0xe0)+_0xf3bad8[_0x2f913d(0x9a)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x11f0e4[_0x2f913d(0x156)]+_0x2f913d(0xe5)+_0x11f0e4[_0x2f913d(0xae)]+_0x2f913d(0xf7)+_0x1ffcb5+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x500dc0[_0x2f913d(0x145)](_0x5c5594);});}function openDetails(_0x42b348){const _0x522faa=a3_0x4f04a1;currentSession=_0x42b348;const _0x3382e3=new Date(_0x42b348[_0x522faa(0x121)]),_0x55fd88=_0x3382e3[_0x522faa(0x133)](_0x522faa(0x8b),{'weekday':_0x522faa(0x119),'day':_0x522faa(0x128),'month':'long'});document[_0x522faa(0x129)]('detDate')[_0x522faa(0x82)]=_0x55fd88['charAt'](0x0)[_0x522faa(0xe8)]()+_0x55fd88[_0x522faa(0xa3)](0x1),document[_0x522faa(0x129)](_0x522faa(0x80))[_0x522faa(0x82)]=_0x42b348['start']+_0x522faa(0x105)+_0x42b348[_0x522faa(0xab)],document[_0x522faa(0x129)](_0x522faa(0x110))[_0x522faa(0x82)]=_0x42b348[_0x522faa(0x138)]||_0x522faa(0xee);const _0x5f4ddc=document[_0x522faa(0x129)](_0x522faa(0x11e)),_0x2290ad=document['getElementById'](_0x522faa(0x12d)),_0x21a72f=_0x2290ad['querySelector'](_0x522faa(0x93)),_0x4d9e1b=_0x2290ad['querySelector'](_0x522faa(0xfc)),_0x22cd0b=document[_0x522faa(0x129)]('cancelHint');if(_0x42b348[_0x522faa(0x99)]==='completed')_0x5f4ddc['textContent']=_0x522faa(0x11b),_0x5f4ddc['style'][_0x522faa(0x113)]=_0x522faa(0x149),_0x2290ad[_0x522faa(0xc9)][_0x522faa(0x137)]=_0x522faa(0xe4);else{_0x5f4ddc['textContent']=_0x522faa(0xfd),_0x5f4ddc[_0x522faa(0xc9)]['color']='var(--acc-blue)',_0x2290ad[_0x522faa(0xc9)]['display']='block';const _0x58aa72=new Date(_0x42b348[_0x522faa(0x121)]+'T'+_0x42b348['start']),_0x3078ad=new Date(),_0x293afb=(_0x58aa72-_0x3078ad)/(0x3e8*0x3c*0x3c),_0x55346e=coachProfiles[_0x42b348[_0x522faa(0x135)]]&&coachProfiles[_0x42b348[_0x522faa(0x135)]][_0x522faa(0xeb)]?parseInt(coachProfiles[_0x42b348[_0x522faa(0x135)]][_0x522faa(0xeb)]):0x18;if(_0x55346e===0x0||_0x293afb>=_0x55346e)_0x21a72f[_0x522faa(0xc9)]['display']=_0x522faa(0x13f),_0x4d9e1b[_0x522faa(0xc9)][_0x522faa(0x137)]=_0x522faa(0x13f),_0x22cd0b[_0x522faa(0xc9)][_0x522faa(0x137)]=_0x522faa(0xe4);else{_0x21a72f[_0x522faa(0xc9)][_0x522faa(0x137)]=_0x522faa(0xe4),_0x4d9e1b[_0x522faa(0xc9)][_0x522faa(0x137)]=_0x522faa(0xe4),_0x22cd0b['style'][_0x522faa(0x137)]=_0x522faa(0x13f);let _0xa13fff=_0x55346e===0x0?_0x522faa(0x14c):_0x522faa(0xfb)+_0x55346e+_0x522faa(0x77);_0x22cd0b[_0x522faa(0x82)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0xa13fff+_0x522faa(0xed);}}document[_0x522faa(0x129)](_0x522faa(0x78))[_0x522faa(0x130)][_0x522faa(0xf2)](_0x522faa(0x90)),document['getElementById'](_0x522faa(0x70))['classList']['add'](_0x522faa(0x104));}function closeAllSheets(){const _0x200be1=a3_0x4f04a1;document[_0x200be1(0x129)](_0x200be1(0x78))[_0x200be1(0x130)][_0x200be1(0x15b)](_0x200be1(0x90)),document['querySelectorAll'](_0x200be1(0x13d))[_0x200be1(0x10d)](_0x302ca6=>_0x302ca6['classList'][_0x200be1(0x15b)](_0x200be1(0x104)));}function openSheet(_0x5117ce){const _0x5c9de1=a3_0x4f04a1;document['getElementById'](_0x5c9de1(0x78))[_0x5c9de1(0x130)][_0x5c9de1(0xf2)](_0x5c9de1(0x90)),document[_0x5c9de1(0x129)](_0x5117ce)['classList'][_0x5c9de1(0xf2)](_0x5c9de1(0x104));}function getLocalDateStr(_0x41b4d2){const _0x1cc040=a3_0x4f04a1,_0x58cd29=_0x41b4d2[_0x1cc040(0x91)](),_0x22dfbf=String(_0x41b4d2[_0x1cc040(0x157)]()+0x1)[_0x1cc040(0xb0)](0x2,'0'),_0x37367f=String(_0x41b4d2[_0x1cc040(0x81)]())[_0x1cc040(0xb0)](0x2,'0');return _0x58cd29+'-'+_0x22dfbf+'-'+_0x37367f;}function getStartOfWeek(_0x409d26){const _0x148680=a3_0x4f04a1,_0x1bee80=new Date(_0x409d26),_0x45ba61=_0x1bee80[_0x148680(0xca)](),_0x5e16e2=_0x1bee80[_0x148680(0x81)]()-_0x45ba61+(_0x45ba61===0x0?-0x6:0x1);return _0x1bee80['setDate'](_0x5e16e2),_0x1bee80[_0x148680(0x11c)](0x0,0x0,0x0,0x0),_0x1bee80;}function scrollToToday(){const _0x4d14a9=getLocalDateStr(new Date());setTimeout(()=>{const _0x4e0236=a3_0x1be5,_0x338b17=document[_0x4e0236(0xcd)]('.day-col-header[data-date=\x22'+_0x4d14a9+'\x22]');if(_0x338b17){const _0x234895=document['getElementById']('matrixViewport'),_0x574d85=_0x338b17[_0x4e0236(0x117)]-_0x234895[_0x4e0236(0xc2)]/0x2+_0x338b17[_0x4e0236(0x15a)]/0x2;_0x234895[_0x4e0236(0x72)]({'left':_0x574d85,'behavior':'auto'}),_0x234895[_0x4e0236(0x159)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5a6e35=a3_0x4f04a1,_0x23359d=new Date(),_0x5af477=document[_0x5a6e35(0x129)](_0x5a6e35(0x101)),_0x58ec9c=document[_0x5a6e35(0x129)](_0x5a6e35(0xb9)),_0x19f87e=(_0x23359d[_0x5a6e35(0x13a)]()*0x3c+_0x23359d[_0x5a6e35(0xf3)]())/0x3c*GRID_H;_0x5af477[_0x5a6e35(0xc9)][_0x5a6e35(0xa1)]=_0x19f87e+'px',_0x5af477['style'][_0x5a6e35(0x137)]=_0x5a6e35(0x13f),_0x58ec9c[_0x5a6e35(0xc9)][_0x5a6e35(0xa1)]=_0x19f87e+'px',_0x58ec9c[_0x5a6e35(0xc9)]['display']=_0x5a6e35(0x13f),_0x58ec9c['textContent']=String(_0x23359d[_0x5a6e35(0x13a)]())[_0x5a6e35(0xb0)](0x2,'0')+':'+String(_0x23359d['getMinutes']())[_0x5a6e35(0xb0)](0x2,'0');}function onScroll(){const _0x5de08d=a3_0x4f04a1,_0x57251f=document[_0x5de08d(0x129)](_0x5de08d(0x12f)),_0x5bc690=document[_0x5de08d(0x13b)](_0x5de08d(0xa9));for(let _0x2b9bed of _0x5bc690)if(_0x2b9bed['offsetLeft']>=_0x57251f[_0x5de08d(0xfa)]){const _0x2f1c56=new Date(_0x2b9bed['getAttribute'](_0x5de08d(0x9b)));document['getElementById'](_0x5de08d(0xcf))['textContent']=_0x2f1c56[_0x5de08d(0x9d)]('ru',{'month':_0x5de08d(0x119)})[_0x5de08d(0xe8)]()+'\x20'+_0x2f1c56['getFullYear']();break;}}function showToast(_0x4b33af){const _0x5130a0=a3_0x4f04a1,_0x3f8aa1=document['getElementById']('toast');_0x3f8aa1[_0x5130a0(0x82)]=_0x4b33af,_0x3f8aa1[_0x5130a0(0x130)][_0x5130a0(0xf2)](_0x5130a0(0xa0)),setTimeout(()=>_0x3f8aa1[_0x5130a0(0x130)]['remove'](_0x5130a0(0xa0)),0x7d0);}function handleInfiniteScroll(){const _0x2267cd=a3_0x4f04a1,_0x5818bd=document['getElementById']('matrixViewport'),_0x194465=_0x5818bd[_0x2267cd(0xfa)],_0x448350=_0x5818bd[_0x2267cd(0x106)],_0x57df73=_0x5818bd[_0x2267cd(0xc2)];if(_0x448350-(_0x194465+_0x57df73)<0x12c){const _0x548b21=endOffset;endOffset+=0xe,renderDayRange(_0x548b21+0x1,endOffset),reRenderBlocks();}if(_0x194465<0x12c){const _0x11c02e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x11c02e-0x1),_0x5818bd[_0x2267cd(0xfa)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x301ee4,_0x2731bd){const _0x5ccfe5=a3_0x4f04a1,_0x3558cb=document[_0x5ccfe5(0x129)]('daysHeaderTrack'),_0x271c89=document['getElementById'](_0x5ccfe5(0x118)),_0x53a5e2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45da18=new Date();_0x45da18[_0x5ccfe5(0x11c)](0x0,0x0,0x0,0x0);const _0x3858f=getLocalDateStr(new Date()),_0x2ba17d=document[_0x5ccfe5(0x85)](),_0x5e41cb=document[_0x5ccfe5(0x85)]();for(let _0x10d8c3=_0x301ee4;_0x10d8c3<=_0x2731bd;_0x10d8c3++){const _0x4b155f=new Date(_0x45da18);_0x4b155f[_0x5ccfe5(0xd6)](_0x4b155f[_0x5ccfe5(0x81)]()+_0x10d8c3);const _0x2c1306=getLocalDateStr(_0x4b155f);let _0x26f6bd=_0x4b155f[_0x5ccfe5(0xca)]()-0x1;if(_0x26f6bd===-0x1)_0x26f6bd=0x6;const _0x47c2f4=_0x2c1306===_0x3858f,_0x5b8b44=document[_0x5ccfe5(0xb2)](_0x5ccfe5(0xef));_0x5b8b44[_0x5ccfe5(0x13c)]='day-col-header\x20'+(_0x47c2f4?_0x5ccfe5(0xb6):''),_0x5b8b44[_0x5ccfe5(0x148)](_0x5ccfe5(0x9b),_0x2c1306),_0x5b8b44[_0x5ccfe5(0xd7)]=_0x5ccfe5(0x132)+_0x53a5e2[_0x26f6bd]+_0x5ccfe5(0x76)+_0x4b155f[_0x5ccfe5(0x81)]()+_0x5ccfe5(0x163),_0x2ba17d[_0x5ccfe5(0x145)](_0x5b8b44);const _0xaa7d8c=document[_0x5ccfe5(0xb2)]('div');_0xaa7d8c['className']='day-column\x20'+(_0x47c2f4?_0x5ccfe5(0xb6):''),_0xaa7d8c['setAttribute'](_0x5ccfe5(0x9b),_0x2c1306),_0xaa7d8c[_0x5ccfe5(0x148)]('data-day-idx',_0x26f6bd),_0x5e41cb['appendChild'](_0xaa7d8c);}_0x3558cb[_0x5ccfe5(0x140)](_0x2ba17d,_0x3558cb[_0x5ccfe5(0xc5)]),_0x271c89['insertBefore'](_0x5e41cb,_0x271c89[_0x5ccfe5(0xcd)](_0x5ccfe5(0x116)));}function hexToRgba(_0x305122,_0x5a1a36){const _0x561744=a3_0x4f04a1;let _0x2e91ad;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x561744(0x143)](_0x305122))return _0x2e91ad=_0x305122[_0x561744(0xcb)](0x1)[_0x561744(0x73)](''),_0x2e91ad['length']==0x3&&(_0x2e91ad=[_0x2e91ad[0x0],_0x2e91ad[0x0],_0x2e91ad[0x1],_0x2e91ad[0x1],_0x2e91ad[0x2],_0x2e91ad[0x2]]),_0x2e91ad='0x'+_0x2e91ad[_0x561744(0xce)](''),_0x561744(0xda)+[_0x2e91ad>>0x10&0xff,_0x2e91ad>>0x8&0xff,_0x2e91ad&0xff][_0x561744(0xce)](',')+','+_0x5a1a36+')';return'rgba(10,\x20132,\x20255,\x20'+_0x5a1a36+')';}let confirmResolver=null;function showCustomConfirm(_0x5954fd,_0x402284,_0x10a5bd=!![]){const _0x2de994=a3_0x4f04a1;document['getElementById']('ccTitle')[_0x2de994(0x82)]=_0x5954fd,document[_0x2de994(0x129)](_0x2de994(0xf6))['textContent']=_0x402284;const _0xa0d122=document[_0x2de994(0x129)](_0x2de994(0x103));return _0x10a5bd?(_0xa0d122[_0x2de994(0xc9)][_0x2de994(0x113)]=_0x2de994(0xd8),_0xa0d122[_0x2de994(0xc9)][_0x2de994(0xbe)]=_0x2de994(0xa2)):(_0xa0d122['style'][_0x2de994(0x113)]=_0x2de994(0xc3),_0xa0d122[_0x2de994(0xc9)][_0x2de994(0xbe)]=_0x2de994(0xa2)),new Promise(_0x13d5a9=>{const _0x28027f=_0x2de994;confirmResolver=_0x13d5a9,document['getElementById']('customConfirm')['classList']['add'](_0x28027f(0x14f));});}function resolveCustomConfirm(_0x1191e8){const _0x16b6b6=a3_0x4f04a1;document['getElementById'](_0x16b6b6(0x8e))[_0x16b6b6(0x130)][_0x16b6b6(0x15b)](_0x16b6b6(0x14f));if(confirmResolver)confirmResolver(_0x1191e8);}function a3_0x1be5(_0x590340,_0x56a0a6){_0x590340=_0x590340-0x6e;const _0x355ba0=a3_0x5842();let _0x825739=_0x355ba0[_0x590340];return _0x825739;}async function tryCancelCurrentSession(){const _0x52e763=a3_0x4f04a1;if(!currentSession)return;const _0x3c45c6=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x52e763(0xa6),!![]);if(!_0x3c45c6)return;const _0x65c157=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x5f51f2=>_0x5f51f2['id']!==_0x65c157['id']),reRenderBlocks(),showToast(_0x52e763(0xe9)),lastUserActionTime=Date['now']();try{const _0x350c3e=window['Telegram']?.[_0x52e763(0x92)],_0x422356=await fetch(API_URL,{'method':'POST','body':JSON[_0x52e763(0x94)]({'action':_0x52e763(0x11d),'init_data':_0x350c3e?.[_0x52e763(0xe6)]||'','coachId':_0x65c157[_0x52e763(0x135)],'dateStr':_0x65c157[_0x52e763(0x121)],'sessionId':_0x65c157['id']})});if(_0x422356['ok'])DataManager[_0x52e763(0x8d)]();}catch(_0x44e72d){showToast(_0x52e763(0xd9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2386e4=a3_0x4f04a1;if(!currentSession)return;document[_0x2386e4(0x129)]('detailsSheet')['classList'][_0x2386e4(0x15b)](_0x2386e4(0x104)),document[_0x2386e4(0x129)](_0x2386e4(0xc1))[_0x2386e4(0x130)][_0x2386e4(0xf2)](_0x2386e4(0x104));const _0x443959=document[_0x2386e4(0x129)](_0x2386e4(0x131)),_0x1458a1=document['getElementById'](_0x2386e4(0x11f));_0x443959[_0x2386e4(0xd7)]='',_0x1458a1[_0x2386e4(0xd7)]=_0x2386e4(0x12e);const [_0x3a7c16,_0x2cd75a]=currentSession['start'][_0x2386e4(0x73)](':')[_0x2386e4(0x10b)](Number),[_0x9e2298,_0x11f558]=currentSession[_0x2386e4(0xab)][_0x2386e4(0x73)](':')[_0x2386e4(0x10b)](Number),_0x487f16=_0x9e2298*0x3c+_0x11f558-(_0x3a7c16*0x3c+_0x2cd75a);try{const _0xb46549=window['Telegram']?.[_0x2386e4(0x92)],_0x317ed7=await fetch(API_URL,{'method':_0x2386e4(0xea),'body':JSON[_0x2386e4(0x94)]({'action':'get_slots','coachId':currentSession[_0x2386e4(0x135)],'duration':_0x487f16,'init_data':_0xb46549?.[_0x2386e4(0xe6)]||'','excludeSessionId':currentSession['id']})}),_0x49fec7=await _0x317ed7[_0x2386e4(0x8c)]();_0x49fec7['ok']&&_0x49fec7[_0x2386e4(0xbc)]?(availableSlotsCache=_0x49fec7['data'],renderRescheduleDates()):_0x1458a1[_0x2386e4(0xd7)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x327646){_0x1458a1['innerHTML']=_0x2386e4(0x161);}}function renderRescheduleDates(){const _0x8faf7d=a3_0x4f04a1,_0x151b29=document['getElementById'](_0x8faf7d(0x131));_0x151b29[_0x8faf7d(0xd7)]='';const _0x545b4d=Object[_0x8faf7d(0x11a)](availableSlotsCache)['sort'](),_0x5b84fc=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x545b4d[_0x8faf7d(0x87)]===0x0){document[_0x8faf7d(0x129)]('rsSlotsGrid')['innerHTML']=_0x8faf7d(0x7a);return;}_0x545b4d[_0x8faf7d(0x10d)]((_0x4c6369,_0x353fa0)=>{const _0x1d76ed=_0x8faf7d,_0x595784=new Date(_0x4c6369),_0x386647=_0x5b84fc[_0x595784[_0x1d76ed(0xca)]()],_0x107982=_0x595784['getDate'](),_0x542b57=document[_0x1d76ed(0xb2)](_0x1d76ed(0xef));_0x542b57['className']=_0x1d76ed(0x7b);if(_0x353fa0===0x0)_0x542b57['classList'][_0x1d76ed(0xf2)](_0x1d76ed(0x90));_0x542b57[_0x1d76ed(0xd7)]='<div\x20class=\x22rs-day-name\x22>'+_0x386647+_0x1d76ed(0x147)+_0x107982+_0x1d76ed(0x163),_0x542b57[_0x1d76ed(0xa7)]=()=>selectRsDate(_0x4c6369,_0x542b57),_0x151b29['appendChild'](_0x542b57);}),selectRsDate(_0x545b4d[0x0],_0x151b29['firstChild']);}function selectRsDate(_0x5e6d20,_0x38727a){const _0x50b831=a3_0x4f04a1;selectedRsDate=_0x5e6d20,document[_0x50b831(0x13b)]('.rs-date-chip')['forEach'](_0x262bd6=>_0x262bd6[_0x50b831(0x130)][_0x50b831(0x15b)](_0x50b831(0x90)));if(_0x38727a)_0x38727a[_0x50b831(0x130)]['add'](_0x50b831(0x90));const _0x98addc=document[_0x50b831(0x129)](_0x50b831(0x11f));_0x98addc[_0x50b831(0xd7)]='';const _0x2147be=availableSlotsCache[_0x5e6d20]||[];if(_0x2147be[_0x50b831(0x87)]===0x0){_0x98addc[_0x50b831(0xd7)]=_0x50b831(0xf0);return;}_0x2147be['forEach'](_0x28d505=>{const _0x37e286=_0x50b831,_0x59c9f4=document[_0x37e286(0xb2)](_0x37e286(0x142));_0x59c9f4[_0x37e286(0x13c)]=_0x37e286(0x7e),_0x59c9f4[_0x37e286(0x82)]=_0x28d505,_0x59c9f4[_0x37e286(0xa7)]=()=>confirmReschedule(_0x28d505),_0x98addc[_0x37e286(0x145)](_0x59c9f4);});}async function confirmReschedule(_0x59be28){const _0x293c3c=a3_0x4f04a1,_0x180ac0=new Date(selectedRsDate),_0x5cdf10=_0x180ac0[_0x293c3c(0x133)]('ru-RU',{'day':_0x293c3c(0x128),'month':_0x293c3c(0x119)}),_0x3beb16=await showCustomConfirm(_0x293c3c(0x98),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x5cdf10+'\x20–≤\x20'+_0x59be28+'?',![]);if(!_0x3beb16)return;closeAllSheets(),showToast(_0x293c3c(0xd5)),lastUserActionTime=Date[_0x293c3c(0x9c)]();const _0xd82240=currentSession['dateStr'],_0x3be99a=currentSession['id'],[_0x2969a7,_0x17638c]=currentSession['start'][_0x293c3c(0x73)](':')[_0x293c3c(0x10b)](Number),[_0x5d457a,_0x517c93]=currentSession['end'][_0x293c3c(0x73)](':')[_0x293c3c(0x10b)](Number),_0x3afc7b=_0x5d457a*0x3c+_0x517c93-(_0x2969a7*0x3c+_0x17638c),[_0x53097d,_0x21f855]=_0x59be28[_0x293c3c(0x73)](':')[_0x293c3c(0x10b)](Number),_0x36a0ca=_0x53097d*0x3c+_0x21f855+_0x3afc7b,_0x56ae49=Math['floor'](_0x36a0ca/0x3c),_0x5cad84=_0x36a0ca%0x3c,_0x506b93=String(_0x56ae49)[_0x293c3c(0xb0)](0x2,'0')+':'+String(_0x5cad84)[_0x293c3c(0xb0)](0x2,'0'),_0x43ad82=sessions[_0x293c3c(0xc7)](_0x21220e=>_0x21220e['id']===_0x3be99a);_0x43ad82!==-0x1&&(sessions[_0x43ad82][_0x293c3c(0x121)]=selectedRsDate,sessions[_0x43ad82]['start']=_0x59be28,sessions[_0x43ad82][_0x293c3c(0xab)]=_0x506b93,reRenderBlocks());try{const _0x533462=window[_0x293c3c(0x164)]?.[_0x293c3c(0x92)],_0x3aa4c6=await fetch(API_URL,{'method':_0x293c3c(0xea),'body':JSON[_0x293c3c(0x94)]({'action':_0x293c3c(0xaa),'init_data':_0x533462?.[_0x293c3c(0xe6)]||'','oldSessionId':_0x3be99a,'oldDate':_0xd82240,'newDate':selectedRsDate,'newTime':_0x59be28,'coachId':currentSession[_0x293c3c(0x135)]})}),_0x1bf505=await _0x3aa4c6[_0x293c3c(0x8c)]();!_0x1bf505['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x293c3c(0x75)),DataManager[_0x293c3c(0x8d)]());}catch(_0x148a8c){showToast(_0x293c3c(0xd9));}}document[a3_0x4f04a1(0x14d)](a3_0x4f04a1(0xd0),init);