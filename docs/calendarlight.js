const a3_0x57708c=a3_0x2d4e;(function(_0x239ec9,_0x219ecd){const _0x266351=a3_0x2d4e,_0xe187be=_0x239ec9();while(!![]){try{const _0x3c18e5=-parseInt(_0x266351(0x1f5))/0x1+parseInt(_0x266351(0x225))/0x2*(-parseInt(_0x266351(0x247))/0x3)+-parseInt(_0x266351(0x243))/0x4*(parseInt(_0x266351(0x275))/0x5)+parseInt(_0x266351(0x27b))/0x6*(parseInt(_0x266351(0x239))/0x7)+-parseInt(_0x266351(0x1c3))/0x8+parseInt(_0x266351(0x1d6))/0x9*(-parseInt(_0x266351(0x260))/0xa)+-parseInt(_0x266351(0x1df))/0xb*(-parseInt(_0x266351(0x24a))/0xc);if(_0x3c18e5===_0x219ecd)break;else _0xe187be['push'](_0xe187be['shift']());}catch(_0x28897a){_0xe187be['push'](_0xe187be['shift']());}}}(a3_0x5bd3,0x2f1ca));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x57708c(0x1ac),KEY_SETTINGS=a3_0x57708c(0x1d3),KEY_CLIENTS=a3_0x57708c(0x257);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x57708c(0x204),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x588c92=a3_0x57708c,_0x1d7c6c=(function(){let _0x45a3bf=!![];return function(_0x10fc79,_0x2bd6e3){const _0x47a87b=_0x45a3bf?function(){const _0x225f94=a3_0x2d4e;if(_0x2bd6e3){const _0x54e5b3=_0x2bd6e3[_0x225f94(0x242)](_0x10fc79,arguments);return _0x2bd6e3=null,_0x54e5b3;}}:function(){};return _0x45a3bf=![],_0x47a87b;};}()),_0x202cd1=_0x1d7c6c(this,function(){const _0x20d79a=a3_0x2d4e;return _0x202cd1['toString']()['search'](_0x20d79a(0x206))[_0x20d79a(0x1e4)]()[_0x20d79a(0x1e8)](_0x202cd1)['search'](_0x20d79a(0x206));});_0x202cd1();try{const _0x48b714=window[_0x588c92(0x1a9)]?.[_0x588c92(0x211)];if(!_0x48b714)return;_0x48b714['ready'](),_0x48b714[_0x588c92(0x244)]();try{_0x48b714['setHeaderColor'](_0x588c92(0x27d)),_0x48b714[_0x588c92(0x1c7)]&&_0x48b714[_0x588c92(0x1c7)]('#050505');}catch(_0x5daf00){console[_0x588c92(0x1c9)](_0x588c92(0x1c1),_0x5daf00);}try{_0x48b714[_0x588c92(0x261)]&&(_0x48b714[_0x588c92(0x261)][_0x588c92(0x1b8)](),_0x48b714[_0x588c92(0x261)][_0x588c92(0x259)](),_0x48b714[_0x588c92(0x261)][_0x588c92(0x27e)](function(){const _0x5b9ce5=_0x588c92;window[_0x5b9ce5(0x19c)][_0x5b9ce5(0x18b)]='router.html';}));}catch(_0x4ccf17){console[_0x588c92(0x1c9)](_0x588c92(0x1f2),_0x4ccf17);}try{if(_0x48b714['disableVerticalSwipes'])_0x48b714[_0x588c92(0x24f)]();}catch(_0x356e0c){}}catch(_0x20df62){console[_0x588c92(0x282)](_0x588c92(0x187),_0x20df62);}}());function isAdmin(){const _0x2e0738=a3_0x57708c;try{const _0x5bbae3=Number(window[_0x2e0738(0x1a9)]?.[_0x2e0738(0x211)]?.[_0x2e0738(0x1bc)]?.[_0x2e0738(0x21c)]?.['id']);return _0x5bbae3===0xbaf7174;}catch(_0x29afd9){return![];}}const DataManager={'saveLocally'(){const _0x221500=a3_0x57708c;try{localStorage[_0x221500(0x266)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x221500(0x266)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x221500(0x266)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x50959f){}},'loadLocal'(){const _0x12e3fa=a3_0x57708c;try{const _0x24457f=localStorage['getItem'](KEY_SESSIONS);if(_0x24457f)sessions=JSON['parse'](_0x24457f);const _0x1d4f88=localStorage['getItem'](KEY_CLIENTS);if(_0x1d4f88)clients=JSON['parse'](_0x1d4f88);const _0x4253c7=localStorage[_0x12e3fa(0x24e)](KEY_SETTINGS);if(_0x4253c7){const _0x3621ce=JSON[_0x12e3fa(0x182)](_0x4253c7);if(_0x3621ce[_0x12e3fa(0x235)])availabilityPattern=_0x3621ce[_0x12e3fa(0x235)];if(_0x3621ce[_0x12e3fa(0x263)])specialRanges=_0x3621ce['ranges'];if(_0x3621ce[_0x12e3fa(0x1ab)])dateExceptions=_0x3621ce[_0x12e3fa(0x1ab)];}}catch(_0x2d20b6){}},async 'syncLoad'(){const _0x220cd8=a3_0x57708c,_0x450512=new Date(),_0x560816=_0x450512['getFullYear']()+'-'+String(_0x450512[_0x220cd8(0x241)]()+0x1)['padStart'](0x2,'0'),_0xdd26d4=new Date(_0x450512);_0xdd26d4[_0x220cd8(0x1d1)](_0x450512[_0x220cd8(0x241)]()+0x1);const _0x4bf2dd=_0xdd26d4['getFullYear']()+'-'+String(_0xdd26d4[_0x220cd8(0x241)]()+0x1)['padStart'](0x2,'0'),_0xcc1912=Date[_0x220cd8(0x238)]();try{const _0x53f8a3=window['Telegram']?.[_0x220cd8(0x211)],_0x206c93=_0x53f8a3?.[_0x220cd8(0x1da)]||'',[_0x124eb0,_0x3fc9f2]=await Promise['all']([fetch(API_URL,{'method':_0x220cd8(0x1fb),'body':JSON['stringify']({'action':'client_load','init_data':_0x206c93,'month_str':_0x560816})})[_0x220cd8(0x251)](_0x38b960=>_0x38b960[_0x220cd8(0x1cf)]()),fetch(API_URL,{'method':_0x220cd8(0x1fb),'body':JSON['stringify']({'action':_0x220cd8(0x272),'init_data':_0x206c93,'month_str':_0x4bf2dd})})['then'](_0x2e83de=>_0x2e83de[_0x220cd8(0x1cf)]())]);if(lastUserActionTime>_0xcc1912){console[_0x220cd8(0x1c9)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x124eb0['ok'])this['applyData'](_0x124eb0['data'],_0x560816);if(_0x3fc9f2['ok'])this['applyData'](_0x3fc9f2[_0x220cd8(0x1d0)],_0x4bf2dd);this[_0x220cd8(0x208)]();}catch(_0x301a11){}},'applyData'(_0x5c4930,_0x55f37b){const _0x313fb9=a3_0x57708c;if(!_0x5c4930)return;if(_0x5c4930[_0x313fb9(0x24b)]){if(_0x5c4930[_0x313fb9(0x24b)][_0x313fb9(0x235)])availabilityPattern=_0x5c4930[_0x313fb9(0x24b)]['pattern'];if(_0x5c4930[_0x313fb9(0x24b)][_0x313fb9(0x263)])specialRanges=_0x5c4930[_0x313fb9(0x24b)][_0x313fb9(0x263)];if(_0x5c4930[_0x313fb9(0x24b)][_0x313fb9(0x1ab)])dateExceptions=_0x5c4930['settings']['exceptions'];}if(_0x5c4930['clients']&&Array[_0x313fb9(0x1d7)](_0x5c4930[_0x313fb9(0x1ef)]))clients=_0x5c4930['clients'];_0x5c4930[_0x313fb9(0x1bf)]&&(coachProfiles={...coachProfiles,..._0x5c4930[_0x313fb9(0x1bf)]}),_0x5c4930['calendar']&&(sessions=sessions[_0x313fb9(0x18d)](_0x3fb59b=>!_0x3fb59b[_0x313fb9(0x180)]['startsWith'](_0x55f37b)),Object[_0x313fb9(0x281)](_0x5c4930['calendar'])[_0x313fb9(0x194)](_0x23e594=>{const _0x2bca27=_0x313fb9,_0x586e0d=_0x5c4930[_0x2bca27(0x188)][_0x23e594];_0x586e0d[_0x2bca27(0x194)](_0xf61865=>{const _0x440bcd=_0x2bca27;sessions[_0x440bcd(0x1db)]({'id':_0xf61865['i'],'clientId':_0xf61865['c'],'coachId':_0xf61865[_0x440bcd(0x25a)],'dateStr':_0x55f37b+'-'+_0x23e594[_0x440bcd(0x19f)](0x2,'0'),'start':_0xf61865['s'],'end':_0xf61865['e'],'note':_0xf61865['n']||'','status':_0xf61865['st']||_0x440bcd(0x250),'seriesId':_0xf61865[_0x440bcd(0x19a)]});});})),reRenderBlocks();}};function init(){const _0x5c8aea=a3_0x57708c;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5c8aea(0x233)](_0x5c8aea(0x190))[_0x5c8aea(0x23c)](_0x5c8aea(0x199),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5c8aea(0x205)]();}function renderTimeColumn(){const _0x33dabb=a3_0x57708c,_0x5a2517=document['getElementById']('timeColumn'),_0x4a60e9=document[_0x33dabb(0x233)]('timeLineBadge');_0x5a2517[_0x33dabb(0x20d)]='',_0x5a2517[_0x33dabb(0x1a7)](_0x4a60e9);for(let _0x301613=0x0;_0x301613<0x18;_0x301613++){const _0x243d7b=document['createElement']('div');_0x243d7b[_0x33dabb(0x20a)]=_0x33dabb(0x1dd);if(_0x301613>0x0)_0x243d7b['innerHTML']=_0x33dabb(0x1c5)+String(_0x301613)['padStart'](0x2,'0')+_0x33dabb(0x26f);_0x5a2517[_0x33dabb(0x1a7)](_0x243d7b);}}function renderDayRange(_0x5204f1,_0x4a49ba){const _0x4d2740=a3_0x57708c,_0x52e1de=document[_0x4d2740(0x233)](_0x4d2740(0x1ed)),_0x51b0a8=document[_0x4d2740(0x233)](_0x4d2740(0x26d)),_0x564f87=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15c636=new Date();_0x15c636[_0x4d2740(0x22a)](0x0,0x0,0x0,0x0);const _0x3da77e=getLocalDateStr(new Date());for(let _0x315852=_0x5204f1;_0x315852<=_0x4a49ba;_0x315852++){const _0x3f7579=new Date(_0x15c636);_0x3f7579[_0x4d2740(0x228)](_0x3f7579['getDate']()+_0x315852);const _0x1f71a2=getLocalDateStr(_0x3f7579);let _0x3f623d=_0x3f7579[_0x4d2740(0x21f)]()-0x1;if(_0x3f623d===-0x1)_0x3f623d=0x6;const _0x293425=_0x1f71a2===_0x3da77e,_0x585e10=document[_0x4d2740(0x22e)](_0x4d2740(0x1ea));_0x585e10['className']='day-col-header\x20'+(_0x293425?_0x4d2740(0x198):''),_0x585e10[_0x4d2740(0x193)](_0x4d2740(0x1fa),_0x1f71a2),_0x585e10[_0x4d2740(0x20d)]='<div\x20class=\x22dch-day\x22>'+_0x564f87[_0x3f623d]+'</div><div\x20class=\x22dch-num\x22>'+_0x3f7579['getDate']()+_0x4d2740(0x254),_0x52e1de[_0x4d2740(0x1a7)](_0x585e10);const _0x40a9b6=document[_0x4d2740(0x22e)](_0x4d2740(0x1ea));_0x40a9b6[_0x4d2740(0x20a)]=_0x4d2740(0x22c)+(_0x293425?_0x4d2740(0x198):''),_0x40a9b6[_0x4d2740(0x193)](_0x4d2740(0x1fa),_0x1f71a2),_0x40a9b6[_0x4d2740(0x193)](_0x4d2740(0x1a1),_0x3f623d),_0x51b0a8['appendChild'](_0x40a9b6);}}function reRenderBlocks(){const _0x598fb6=a3_0x57708c;document[_0x598fb6(0x25d)](_0x598fb6(0x1fe))[_0x598fb6(0x194)](_0x10f31f=>{const _0x12d8ef=_0x598fb6;_0x10f31f[_0x12d8ef(0x25d)](_0x12d8ef(0x18a))[_0x12d8ef(0x194)](_0x4bd6c7=>_0x4bd6c7[_0x12d8ef(0x1cc)]());const _0x363265=_0x10f31f[_0x12d8ef(0x1b4)](_0x12d8ef(0x1fa)),_0x1af0b0=parseInt(_0x10f31f[_0x12d8ef(0x1b4)]('data-day-idx')),_0x4d64d7=Math[_0x12d8ef(0x1e2)](_0x10f31f[_0x12d8ef(0x1c8)]);(availabilityPattern[_0x1af0b0]||[])['forEach'](_0x2433b3=>{const _0x483fe4=_0x12d8ef,_0x4f56c4=document['createElement'](_0x483fe4(0x1ea));_0x4f56c4[_0x483fe4(0x20a)]=_0x483fe4(0x1f1),_0x4f56c4[_0x483fe4(0x1b9)]['top']=_0x2433b3*GRID_H+'px',_0x4f56c4[_0x483fe4(0x1b9)][_0x483fe4(0x276)]='-'+_0x4d64d7+_0x483fe4(0x279)+_0x2433b3*GRID_H+'px',_0x10f31f['appendChild'](_0x4f56c4);});if(specialRanges['length']>0x0){const _0xeba263=new Date(_0x363265+_0x12d8ef(0x1e0))[_0x12d8ef(0x197)](),_0x1003b3=new Date(_0x363265+_0x12d8ef(0x1d4))[_0x12d8ef(0x197)]();specialRanges[_0x12d8ef(0x194)](_0x3d39e1=>{const _0x9b61f6=_0x12d8ef,_0x58006e=new Date(_0x3d39e1[_0x9b61f6(0x1f3)])[_0x9b61f6(0x197)](),_0x1878c0=new Date(_0x3d39e1['end'])[_0x9b61f6(0x197)](),_0x2ffb1a=Math[_0x9b61f6(0x1f0)](_0xeba263,_0x58006e),_0x4d76e1=Math[_0x9b61f6(0x186)](_0x1003b3,_0x1878c0);if(_0x2ffb1a<_0x4d76e1){const _0x184baf=(_0x2ffb1a-_0xeba263)/0x36ee80*GRID_H,_0x5145b4=(_0x4d76e1-_0x2ffb1a)/0x36ee80*GRID_H,_0x194b25=document[_0x9b61f6(0x22e)](_0x9b61f6(0x1ea));_0x5145b4>=23.5*GRID_H?(_0x194b25[_0x9b61f6(0x20a)]=_0x9b61f6(0x23f),_0x194b25['style'][_0x9b61f6(0x276)]='-'+_0x4d64d7+_0x9b61f6(0x22f)):(_0x194b25[_0x9b61f6(0x20a)]=_0x9b61f6(0x1af),_0x194b25[_0x9b61f6(0x1b9)][_0x9b61f6(0x231)]=_0x184baf+'px',_0x194b25[_0x9b61f6(0x1b9)][_0x9b61f6(0x1a0)]=_0x5145b4+'px',_0x194b25[_0x9b61f6(0x1b9)][_0x9b61f6(0x276)]='-'+_0x4d64d7+'px\x20-'+_0x184baf+'px'),_0x10f31f['appendChild'](_0x194b25);}});}renderEventsForColumn(_0x10f31f,_0x363265);});}function renderEventsForColumn(_0x480ed8,_0x3a1a96){const _0x4a0a69=a3_0x57708c,_0x1d9a3e=sessions[_0x4a0a69(0x18d)](_0x3a151e=>_0x3a151e['dateStr']===_0x3a1a96),_0x1056a7=_0x1d9a3e[_0x4a0a69(0x226)](_0x5c676f=>{const _0x366ffe=_0x4a0a69,[_0x15c1bf,_0x29e50b]=_0x5c676f[_0x366ffe(0x1f3)][_0x366ffe(0x230)](':')[_0x366ffe(0x226)](Number),[_0x968ebd,_0x4378c7]=_0x5c676f[_0x366ffe(0x26b)][_0x366ffe(0x230)](':')[_0x366ffe(0x226)](Number);return{'data':_0x5c676f,'start':_0x15c1bf*0x3c+_0x29e50b,'end':_0x968ebd*0x3c+_0x4378c7,'colIndex':0x0};});_0x1056a7[_0x4a0a69(0x1ff)]((_0xa2883a,_0x1bcb51)=>_0xa2883a[_0x4a0a69(0x1f3)]-_0x1bcb51[_0x4a0a69(0x1f3)]||_0x1bcb51[_0x4a0a69(0x26b)]-_0x1bcb51[_0x4a0a69(0x1f3)]-(_0xa2883a[_0x4a0a69(0x26b)]-_0xa2883a[_0x4a0a69(0x1f3)]));const _0x4d79c5=[];_0x1056a7[_0x4a0a69(0x194)](_0x3a6126=>{const _0x43ff9f=_0x4a0a69;let _0x438c94=![];for(let _0x1ff945=0x0;_0x1ff945<_0x4d79c5[_0x43ff9f(0x268)];_0x1ff945++){const _0x43fec8=_0x4d79c5[_0x1ff945];if(_0x3a6126[_0x43ff9f(0x1f3)]>=_0x43fec8[_0x43fec8['length']-0x1][_0x43ff9f(0x26b)]){_0x43fec8[_0x43ff9f(0x1db)](_0x3a6126),_0x3a6126[_0x43ff9f(0x1d8)]=_0x1ff945,_0x438c94=!![];break;}}!_0x438c94&&(_0x4d79c5[_0x43ff9f(0x1db)]([_0x3a6126]),_0x3a6126[_0x43ff9f(0x1d8)]=_0x4d79c5[_0x43ff9f(0x268)]-0x1);}),_0x1056a7[_0x4a0a69(0x194)](_0x463856=>{const _0x2a6672=_0x4a0a69;let _0x36a407=0x0;_0x1056a7[_0x2a6672(0x194)](_0x3af33f=>{const _0x3b698f=_0x2a6672;if(Math[_0x3b698f(0x1f0)](_0x463856[_0x3b698f(0x1f3)],_0x3af33f[_0x3b698f(0x1f3)])<Math[_0x3b698f(0x186)](_0x463856[_0x3b698f(0x26b)],_0x3af33f[_0x3b698f(0x26b)])&&_0x3af33f[_0x3b698f(0x1d8)]>_0x36a407)_0x36a407=_0x3af33f[_0x3b698f(0x1d8)];});const _0x2a3a17=_0x36a407+0x1,_0x849b89=0x64/_0x2a3a17,_0x38708a=_0x463856['colIndex']*_0x849b89,_0x1d5612=document['createElement'](_0x2a6672(0x1ea)),_0x582be6=_0x463856[_0x2a6672(0x1d0)];let _0x336101='#0a84ff';if(clients&&clients['length']>0x0){const _0x21bd15=clients[_0x2a6672(0x267)](_0x42c570=>String(_0x42c570['id'])===String(_0x582be6[_0x2a6672(0x1ae)]));if(_0x21bd15&&_0x21bd15[_0x2a6672(0x1ba)])_0x336101=_0x21bd15['color'];}const _0x2167ab=_0x582be6[_0x2a6672(0x1ee)]===_0x2a6672(0x25b),_0x8d0d8a=_0x2167ab?0x1:0.45;_0x1d5612[_0x2a6672(0x20a)]=_0x2a6672(0x26a)+(_0x2167ab?'\x20status-completed':''),_0x1d5612[_0x2a6672(0x1b9)][_0x2a6672(0x269)]=hexToRgba(_0x336101,_0x8d0d8a),_0x1d5612[_0x2a6672(0x1b9)][_0x2a6672(0x1b1)]=_0x336101;const _0x5aba86=_0x463856['start']/0x3c*GRID_H,_0x23919e=(_0x463856[_0x2a6672(0x26b)]-_0x463856[_0x2a6672(0x1f3)])/0x3c*GRID_H;_0x1d5612[_0x2a6672(0x1b9)][_0x2a6672(0x231)]=_0x5aba86+'px',_0x1d5612['style'][_0x2a6672(0x1a0)]=Math[_0x2a6672(0x1f0)](_0x23919e,0x14)+'px',_0x1d5612['style'][_0x2a6672(0x23d)]=_0x2a6672(0x1b5)+_0x849b89+_0x2a6672(0x219),_0x1d5612[_0x2a6672(0x1b9)][_0x2a6672(0x18f)]='calc('+_0x38708a+_0x2a6672(0x1e6),_0x1d5612[_0x2a6672(0x1b9)][_0x2a6672(0x245)]=0xa+_0x463856['colIndex'];if(_0x849b89<0x55)_0x1d5612[_0x2a6672(0x249)][_0x2a6672(0x273)](_0x2a6672(0x215));let _0x595347='';if(_0x582be6[_0x2a6672(0x1eb)])_0x595347+=_0x2a6672(0x20f);if(_0x2167ab)_0x595347+=_0x2a6672(0x212);_0x1d5612[_0x2a6672(0x20d)]=_0x2a6672(0x1b3)+_0x582be6['start']+_0x2a6672(0x224)+_0x582be6[_0x2a6672(0x26b)]+_0x2a6672(0x181)+_0x595347+_0x2a6672(0x20c),_0x1d5612[_0x2a6672(0x214)]=_0x5c6ed4=>{const _0x345e3a=_0x2a6672;_0x5c6ed4[_0x345e3a(0x21e)](),openDetails(_0x582be6);},_0x480ed8[_0x2a6672(0x1a7)](_0x1d5612);});}function openAnalytics(){const _0x4b3016=a3_0x57708c,_0x2c8b99=document['querySelector'](_0x4b3016(0x184));setAnalyticsPeriod(_0x4b3016(0x204),_0x2c8b99),openSheet(_0x4b3016(0x27c));}function setAnalyticsPeriod(_0x18d2ec,_0x2e8ce9){const _0x1856dd=a3_0x57708c;currentAnPeriod=_0x18d2ec,document[_0x1856dd(0x25d)](_0x1856dd(0x184))[_0x1856dd(0x194)](_0x23e635=>_0x23e635[_0x1856dd(0x249)][_0x1856dd(0x1cc)](_0x1856dd(0x1dc)));if(_0x2e8ce9)_0x2e8ce9[_0x1856dd(0x249)][_0x1856dd(0x273)](_0x1856dd(0x1dc));const _0x5ac83f=document[_0x1856dd(0x233)](_0x1856dd(0x240));_0x5ac83f['style'][_0x1856dd(0x258)]=_0x18d2ec===_0x1856dd(0x1ad)?_0x1856dd(0x229):'none';const _0x4f8bde=new Date();let _0x1fbd3c=new Date(),_0x4a7744=new Date();if(_0x18d2ec===_0x1856dd(0x204))_0x1fbd3c=getStartOfWeek(_0x4f8bde),_0x4a7744=new Date(_0x1fbd3c),_0x4a7744[_0x1856dd(0x228)](_0x4a7744['getDate']()+0x6);else{if(_0x18d2ec===_0x1856dd(0x1f4))_0x1fbd3c=new Date(_0x4f8bde[_0x1856dd(0x24d)](),_0x4f8bde['getMonth'](),0x1),_0x4a7744=new Date(_0x4f8bde['getFullYear'](),_0x4f8bde[_0x1856dd(0x241)]()+0x1,0x0);else{!document['getElementById'](_0x1856dd(0x1b6))[_0x1856dd(0x271)]&&(document[_0x1856dd(0x233)](_0x1856dd(0x1b6))[_0x1856dd(0x271)]=getLocalDateStr(_0x4f8bde),document[_0x1856dd(0x233)](_0x1856dd(0x25c))[_0x1856dd(0x271)]=getLocalDateStr(_0x4f8bde));refreshAnalytics();return;}}document['getElementById'](_0x1856dd(0x1b6))['value']=getLocalDateStr(_0x1fbd3c),document[_0x1856dd(0x233)](_0x1856dd(0x25c))[_0x1856dd(0x271)]=getLocalDateStr(_0x4a7744),refreshAnalytics();}function refreshAnalytics(){const _0x450e62=a3_0x57708c,_0x5114a8=document['getElementById'](_0x450e62(0x1b6))[_0x450e62(0x271)],_0x5d7f8b=document['getElementById'](_0x450e62(0x25c))[_0x450e62(0x271)];if(!_0x5114a8||!_0x5d7f8b)return;const _0x457df3=sessions[_0x450e62(0x18d)](_0x1d5dcd=>_0x1d5dcd[_0x450e62(0x180)]>=_0x5114a8&&_0x1d5dcd['dateStr']<=_0x5d7f8b&&_0x1d5dcd[_0x450e62(0x1ee)]!==_0x450e62(0x20b)),_0x35d64a=_0x457df3['length'],_0x2d08b8=_0x457df3['filter'](_0x39c483=>_0x39c483[_0x450e62(0x1ee)]==='completed')[_0x450e62(0x268)],_0xf0d385=_0x35d64a>0x0?Math[_0x450e62(0x1e2)](_0x2d08b8/_0x35d64a*0x64):0x0;document[_0x450e62(0x233)](_0x450e62(0x264))['textContent']=_0xf0d385+'%',document[_0x450e62(0x233)](_0x450e62(0x196))[_0x450e62(0x1e3)]=_0x2d08b8+'\x20–∏–∑\x20'+_0x35d64a+_0x450e62(0x1f6);const _0x590f9e=document[_0x450e62(0x233)]('anDonutCircle'),_0x2cc9cb=0x2*Math['PI']*0x23,_0xecdd71=_0x2cc9cb-_0xf0d385/0x64*_0x2cc9cb;_0x590f9e[_0x450e62(0x1b9)][_0x450e62(0x252)]=_0xecdd71;const _0x41b442={};_0x457df3[_0x450e62(0x194)](_0x39d3f9=>{const _0x336eba=_0x450e62,_0x33fe93=_0x39d3f9['coachId']||_0x336eba(0x23e);if(!_0x41b442[_0x33fe93]){const _0x4e4fe0='#'+_0x33fe93[_0x336eba(0x1e4)]()[_0x336eba(0x234)](0x0,0x6);_0x41b442[_0x33fe93]={'total':0x0,'done':0x0,'color':_0x4e4fe0};}_0x41b442[_0x33fe93][_0x336eba(0x1a8)]++;if(_0x39d3f9['status']===_0x336eba(0x25b))_0x41b442[_0x33fe93][_0x336eba(0x23b)]++;});const _0xd242d0=document[_0x450e62(0x233)]('analyticsList');_0xd242d0[_0x450e62(0x20d)]='';const _0x348444=Object[_0x450e62(0x237)](_0x41b442)[_0x450e62(0x1ff)]((_0x354937,_0x2d996f)=>_0x2d996f[0x1][_0x450e62(0x1a8)]-_0x354937[0x1][_0x450e62(0x1a8)]);if(_0x348444['length']===0x0){_0xd242d0['innerHTML']=_0x450e62(0x1b2);return;}_0x348444[_0x450e62(0x194)](([_0x3e844f,_0x573806])=>{const _0x2a729f=_0x450e62,_0x5b5065=Math[_0x2a729f(0x1e2)](_0x573806[_0x2a729f(0x23b)]/_0x573806['total']*0x64),_0xd1cd5c=document[_0x2a729f(0x22e)](_0x2a729f(0x1ea));_0xd1cd5c[_0x2a729f(0x20a)]=_0x2a729f(0x1e5),_0xd1cd5c[_0x2a729f(0x1b9)]['borderLeftColor']=_0x573806[_0x2a729f(0x1ba)],_0xd1cd5c[_0x2a729f(0x20d)]=_0x2a729f(0x26e)+_0x3e844f['substr'](0x0,0x5)+_0x2a729f(0x1c0)+_0x573806[_0x2a729f(0x23b)]+_0x2a729f(0x189)+_0x573806[_0x2a729f(0x1a8)]+_0x2a729f(0x277)+_0x5b5065+_0x2a729f(0x262),_0xd242d0[_0x2a729f(0x1a7)](_0xd1cd5c);});}function a3_0x5bd3(){const _0x4fb295=['pattern','toLocaleDateString','entries','now','2604455OJJsjL','customConfirm','done','addEventListener','width','Unknown','day-off-overlay\x20stripe-bg','anCustomDates','getMonth','apply','54404KhFeEx','expand','zIndex','globalTimeLine','78cyUurN','fontWeight','classList','7566276GNqatF','settings','reschedule','getFullYear','getItem','disableVerticalSwipes','planned','then','strokeDashoffset','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','</div>','auto','block','uc_client_list','display','offClick','cid','completed','anEnd','querySelectorAll','rs-time-btn','rgba(','10BPQNIp','BackButton','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ranges','anPercent','scrollLeft','setItem','find','length','backgroundColor','event-card','end','.day-col-header','gridColumns','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#',':00</span>','.rs-date-chip','value','client_load','add','var(--acc-green)','15WiIxKW','backgroundPosition','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','detNote','px\x20-','.sheet','6JpVapR','analyticsSheet','#050505','onClick','–∑–∞\x20','</div><div\x20class=\x22dch-num\x22>','keys','error','firstChild','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','getDate','dateStr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','.period-switch\x20.p-btn','rescheduleSheet','min','Critical\x20TMA\x20Error:','calendar','</span>\x20/\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','href','headerMonth','filter','–û—Ç–º–µ–Ω–µ–Ω–æ','left','matrixViewport','scrollWidth','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','setAttribute','forEach','cancelHint','anTotalStats','getTime','today','scroll','sid','join','location','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','charAt','padStart','height','data-day-idx','rsDatesTrack','none','toUpperCase','findIndex','detailsSheet','appendChild','total','Telegram','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','exceptions','uc_client_sessions','custom','clientId','blocked-range-part\x20stripe-bg','toLocaleString','borderLeftColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getAttribute','calc(','anStart','open','show','style','color','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','initDataUnsafe','rsSlotsGrid','ru-RU','coach_profiles','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','Error\x20setting\x20color:','cancel_window','1295232JXMYIo','stringify','<span>','DOMContentLoaded','setBackgroundColor','offsetLeft','log','detStatus','insertBefore','remove','long','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','json','data','setMonth','get_slots','uc_client_settings','T23:59:59','overlay','1467351eWBaAs','isArray','colIndex','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','initData','push','active','time-label','day-col-header\x20','11eJkqYq','T00:00:00','numeric','round','textContent','toString','client-stat-card','%\x20+\x202px)','rgba(10,\x20132,\x20255,\x20','constructor','ccYesBtn','div','seriesId','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','daysHeaderTrack','status','clients','max','blocked-slot\x20stripe-bg','Error\x20setting\x20back\x20button:','start','month','164658OrwGoG','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','coachId','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','data-date','POST','600','.btn-reschedule','.day-column','sort','client_cancel','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','visible','clientWidth','week','syncLoad','(((.+)+)+)+$','ccText','saveLocally','#ff453a','className','cancelled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</div><div\x20class=\x22rs-day-num\x22>','WebApp','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<div\x20class=\x22rs-day-name\x22>','onclick','mini','<div\x20class=\x22dch-day\x22>','substring','querySelector','%\x20-\x204px)','.day-col-header[data-date=\x22','getHours','user','#0a84ff','stopPropagation','getDay','getMinutes','toast','detTime','\x20—á.','\x20-\x20','21478JUtkYV','map','createDocumentFragment','setDate','flex','setHours','detDate','day-column\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','createElement','px\x200px','split','top','button','getElementById','substr'];a3_0x5bd3=function(){return _0x4fb295;};return a3_0x5bd3();}function openDetails(_0xe144fb){const _0x155f7e=a3_0x57708c;currentSession=_0xe144fb;const _0x1ca3fd=new Date(_0xe144fb[_0x155f7e(0x180)]),_0x31cd4f=_0x1ca3fd['toLocaleDateString'](_0x155f7e(0x1be),{'weekday':_0x155f7e(0x1cd),'day':_0x155f7e(0x1e1),'month':_0x155f7e(0x1cd)});document['getElementById'](_0x155f7e(0x22b))['textContent']=_0x31cd4f[_0x155f7e(0x19e)](0x0)['toUpperCase']()+_0x31cd4f['slice'](0x1),document[_0x155f7e(0x233)](_0x155f7e(0x222))[_0x155f7e(0x1e3)]=_0xe144fb['start']+_0x155f7e(0x224)+_0xe144fb[_0x155f7e(0x26b)],document['getElementById'](_0x155f7e(0x278))['textContent']=_0xe144fb['note']||_0x155f7e(0x1f7);const _0xeed218=document['getElementById'](_0x155f7e(0x1ca)),_0x319403=document[_0x155f7e(0x233)]('cancelContainer'),_0x42fdda=_0x319403[_0x155f7e(0x218)]('.btn-cancel'),_0x60659a=_0x319403[_0x155f7e(0x218)](_0x155f7e(0x1fd)),_0x201180=document['getElementById'](_0x155f7e(0x195));if(_0xe144fb[_0x155f7e(0x1ee)]==='completed')_0xeed218['textContent']=_0x155f7e(0x201),_0xeed218[_0x155f7e(0x1b9)][_0x155f7e(0x1ba)]=_0x155f7e(0x274),_0x319403[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x1a3);else{_0xeed218[_0x155f7e(0x1e3)]=_0x155f7e(0x22d),_0xeed218[_0x155f7e(0x1b9)][_0x155f7e(0x1ba)]='var(--acc-blue)',_0x319403[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x256);const _0x391079=new Date(_0xe144fb[_0x155f7e(0x180)]+'T'+_0xe144fb[_0x155f7e(0x1f3)]),_0x1e74ae=new Date(),_0x23d802=(_0x391079-_0x1e74ae)/(0x3e8*0x3c*0x3c),_0x35694a=coachProfiles[_0xe144fb[_0x155f7e(0x1f8)]]&&coachProfiles[_0xe144fb[_0x155f7e(0x1f8)]][_0x155f7e(0x1c2)]?parseInt(coachProfiles[_0xe144fb[_0x155f7e(0x1f8)]]['cancel_window']):0x18;if(_0x35694a===0x0||_0x23d802>=_0x35694a)_0x42fdda[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x256),_0x60659a[_0x155f7e(0x1b9)]['display']=_0x155f7e(0x256),_0x201180[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x1a3);else{_0x42fdda[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x1a3),_0x60659a[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x1a3),_0x201180[_0x155f7e(0x1b9)][_0x155f7e(0x258)]=_0x155f7e(0x256);let _0x5819f5=_0x35694a===0x0?_0x155f7e(0x1aa):_0x155f7e(0x27f)+_0x35694a+_0x155f7e(0x223);_0x201180[_0x155f7e(0x1e3)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x5819f5+_0x155f7e(0x183);}}document[_0x155f7e(0x233)](_0x155f7e(0x1d5))['classList']['add'](_0x155f7e(0x1dc)),document[_0x155f7e(0x233)](_0x155f7e(0x1a6))[_0x155f7e(0x249)][_0x155f7e(0x273)](_0x155f7e(0x1b7));}function closeAllSheets(){const _0x4cbe95=a3_0x57708c;document[_0x4cbe95(0x233)]('overlay')[_0x4cbe95(0x249)]['remove']('active'),document[_0x4cbe95(0x25d)](_0x4cbe95(0x27a))[_0x4cbe95(0x194)](_0x181045=>_0x181045[_0x4cbe95(0x249)][_0x4cbe95(0x1cc)](_0x4cbe95(0x1b7)));}function openSheet(_0x45733f){const _0x1593f9=a3_0x57708c;document[_0x1593f9(0x233)]('overlay')['classList'][_0x1593f9(0x273)]('active'),document['getElementById'](_0x45733f)[_0x1593f9(0x249)][_0x1593f9(0x273)](_0x1593f9(0x1b7));}function getLocalDateStr(_0x21b401){const _0x3b22ef=a3_0x57708c,_0x4fcaff=_0x21b401[_0x3b22ef(0x24d)](),_0x29b111=String(_0x21b401[_0x3b22ef(0x241)]()+0x1)['padStart'](0x2,'0'),_0x24f143=String(_0x21b401[_0x3b22ef(0x17f)]())['padStart'](0x2,'0');return _0x4fcaff+'-'+_0x29b111+'-'+_0x24f143;}function getStartOfWeek(_0x27e16d){const _0x495f71=a3_0x57708c,_0x15d5c2=new Date(_0x27e16d),_0x1d64fa=_0x15d5c2[_0x495f71(0x21f)](),_0xc34d1c=_0x15d5c2[_0x495f71(0x17f)]()-_0x1d64fa+(_0x1d64fa===0x0?-0x6:0x1);return _0x15d5c2[_0x495f71(0x228)](_0xc34d1c),_0x15d5c2[_0x495f71(0x22a)](0x0,0x0,0x0,0x0),_0x15d5c2;}function scrollToToday(){const _0x555cbb=getLocalDateStr(new Date());setTimeout(()=>{const _0x9704bf=a3_0x2d4e,_0x3f3a12=document[_0x9704bf(0x218)](_0x9704bf(0x21a)+_0x555cbb+'\x22]');if(_0x3f3a12){const _0x3eb65a=document['getElementById'](_0x9704bf(0x190)),_0x454c1b=_0x3f3a12[_0x9704bf(0x1c8)]-_0x3eb65a[_0x9704bf(0x203)]/0x2+_0x3f3a12['offsetWidth']/0x2;_0x3eb65a['scrollTo']({'left':_0x454c1b,'behavior':_0x9704bf(0x255)}),_0x3eb65a['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x40062e=a3_0x57708c,_0x4ebc11=new Date(),_0x4e2aca=document[_0x40062e(0x233)](_0x40062e(0x246)),_0x41e277=document[_0x40062e(0x233)]('timeLineBadge'),_0x3dc73a=(_0x4ebc11[_0x40062e(0x21b)]()*0x3c+_0x4ebc11['getMinutes']())/0x3c*GRID_H;_0x4e2aca[_0x40062e(0x1b9)][_0x40062e(0x231)]=_0x3dc73a+'px',_0x4e2aca['style'][_0x40062e(0x258)]=_0x40062e(0x256),_0x41e277[_0x40062e(0x1b9)][_0x40062e(0x231)]=_0x3dc73a+'px',_0x41e277[_0x40062e(0x1b9)]['display']=_0x40062e(0x256),_0x41e277['textContent']=String(_0x4ebc11[_0x40062e(0x21b)]())['padStart'](0x2,'0')+':'+String(_0x4ebc11[_0x40062e(0x220)]())[_0x40062e(0x19f)](0x2,'0');}function onScroll(){const _0x5ae846=a3_0x57708c,_0x1f7de0=document['getElementById']('matrixViewport'),_0xa022b9=document[_0x5ae846(0x25d)](_0x5ae846(0x26c));for(let _0x28cdc5 of _0xa022b9)if(_0x28cdc5['offsetLeft']>=_0x1f7de0[_0x5ae846(0x265)]){const _0x31fea0=new Date(_0x28cdc5[_0x5ae846(0x1b4)](_0x5ae846(0x1fa)));document[_0x5ae846(0x233)](_0x5ae846(0x18c))[_0x5ae846(0x1e3)]=_0x31fea0[_0x5ae846(0x1b0)]('ru',{'month':'long'})[_0x5ae846(0x1a4)]()+'\x20'+_0x31fea0[_0x5ae846(0x24d)]();break;}}function showToast(_0x90fb89){const _0x4708d5=a3_0x57708c,_0x4f74a3=document[_0x4708d5(0x233)](_0x4708d5(0x221));_0x4f74a3[_0x4708d5(0x1e3)]=_0x90fb89,_0x4f74a3[_0x4708d5(0x249)][_0x4708d5(0x273)](_0x4708d5(0x1b8)),setTimeout(()=>_0x4f74a3[_0x4708d5(0x249)][_0x4708d5(0x1cc)](_0x4708d5(0x1b8)),0x7d0);}function handleInfiniteScroll(){const _0x463a3c=a3_0x57708c,_0x4d9a32=document[_0x463a3c(0x233)]('matrixViewport'),_0x12f7e7=_0x4d9a32['scrollLeft'],_0x228333=_0x4d9a32[_0x463a3c(0x191)],_0x3a288b=_0x4d9a32[_0x463a3c(0x203)];if(_0x228333-(_0x12f7e7+_0x3a288b)<0x12c){const _0x37d492=endOffset;endOffset+=0xe,renderDayRange(_0x37d492+0x1,endOffset),reRenderBlocks();}if(_0x12f7e7<0x12c){const _0xa1f68d=startOffset;startOffset-=0xe,prependDays(startOffset,_0xa1f68d-0x1),_0x4d9a32[_0x463a3c(0x265)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x81656b,_0x53305a){const _0xec9ee=a3_0x57708c,_0x135f10=document[_0xec9ee(0x233)](_0xec9ee(0x1ed)),_0x4c32f0=document[_0xec9ee(0x233)](_0xec9ee(0x26d)),_0x583590=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2aede9=new Date();_0x2aede9['setHours'](0x0,0x0,0x0,0x0);const _0x391e58=getLocalDateStr(new Date()),_0xb1d47e=document[_0xec9ee(0x227)](),_0x107d40=document[_0xec9ee(0x227)]();for(let _0x57e8ee=_0x81656b;_0x57e8ee<=_0x53305a;_0x57e8ee++){const _0x549017=new Date(_0x2aede9);_0x549017[_0xec9ee(0x228)](_0x549017['getDate']()+_0x57e8ee);const _0xa46bb6=getLocalDateStr(_0x549017);let _0x2d2361=_0x549017['getDay']()-0x1;if(_0x2d2361===-0x1)_0x2d2361=0x6;const _0x49d1b9=_0xa46bb6===_0x391e58,_0x550b11=document[_0xec9ee(0x22e)]('div');_0x550b11[_0xec9ee(0x20a)]=_0xec9ee(0x1de)+(_0x49d1b9?_0xec9ee(0x198):''),_0x550b11[_0xec9ee(0x193)](_0xec9ee(0x1fa),_0xa46bb6),_0x550b11[_0xec9ee(0x20d)]=_0xec9ee(0x216)+_0x583590[_0x2d2361]+_0xec9ee(0x280)+_0x549017[_0xec9ee(0x17f)]()+_0xec9ee(0x254),_0xb1d47e[_0xec9ee(0x1a7)](_0x550b11);const _0x1ff817=document[_0xec9ee(0x22e)](_0xec9ee(0x1ea));_0x1ff817['className']=_0xec9ee(0x22c)+(_0x49d1b9?_0xec9ee(0x198):''),_0x1ff817[_0xec9ee(0x193)]('data-date',_0xa46bb6),_0x1ff817[_0xec9ee(0x193)](_0xec9ee(0x1a1),_0x2d2361),_0x107d40[_0xec9ee(0x1a7)](_0x1ff817);}_0x135f10['insertBefore'](_0xb1d47e,_0x135f10[_0xec9ee(0x17d)]),_0x4c32f0[_0xec9ee(0x1cb)](_0x107d40,_0x4c32f0['querySelector'](_0xec9ee(0x1fe)));}function hexToRgba(_0x4dcfc6,_0x591f24){const _0x2cc633=a3_0x57708c;let _0x39f087;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x4dcfc6))return _0x39f087=_0x4dcfc6[_0x2cc633(0x217)](0x1)[_0x2cc633(0x230)](''),_0x39f087[_0x2cc633(0x268)]==0x3&&(_0x39f087=[_0x39f087[0x0],_0x39f087[0x0],_0x39f087[0x1],_0x39f087[0x1],_0x39f087[0x2],_0x39f087[0x2]]),_0x39f087='0x'+_0x39f087[_0x2cc633(0x19b)](''),_0x2cc633(0x25f)+[_0x39f087>>0x10&0xff,_0x39f087>>0x8&0xff,_0x39f087&0xff][_0x2cc633(0x19b)](',')+','+_0x591f24+')';return _0x2cc633(0x1e7)+_0x591f24+')';}let confirmResolver=null;function showCustomConfirm(_0x579cd4,_0x13baf4,_0x1b9728=!![]){const _0x29fef6=a3_0x57708c;document[_0x29fef6(0x233)]('ccTitle')[_0x29fef6(0x1e3)]=_0x579cd4,document['getElementById'](_0x29fef6(0x207))[_0x29fef6(0x1e3)]=_0x13baf4;const _0x55dcd6=document['getElementById'](_0x29fef6(0x1e9));return _0x1b9728?(_0x55dcd6[_0x29fef6(0x1b9)][_0x29fef6(0x1ba)]=_0x29fef6(0x209),_0x55dcd6['style']['fontWeight']=_0x29fef6(0x1fc)):(_0x55dcd6[_0x29fef6(0x1b9)][_0x29fef6(0x1ba)]=_0x29fef6(0x21d),_0x55dcd6['style'][_0x29fef6(0x248)]=_0x29fef6(0x1fc)),new Promise(_0x5d0e20=>{const _0x2eb020=_0x29fef6;confirmResolver=_0x5d0e20,document[_0x2eb020(0x233)]('customConfirm')['classList'][_0x2eb020(0x273)]('visible');});}function resolveCustomConfirm(_0x1a2d2a){const _0x45aeab=a3_0x57708c;document[_0x45aeab(0x233)](_0x45aeab(0x23a))['classList'][_0x45aeab(0x1cc)](_0x45aeab(0x202));if(confirmResolver)confirmResolver(_0x1a2d2a);}async function tryCancelCurrentSession(){const _0x398459=a3_0x57708c;if(!currentSession)return;const _0x321813=await showCustomConfirm(_0x398459(0x20e),_0x398459(0x19d),!![]);if(!_0x321813)return;const _0x2d52f0=currentSession;closeAllSheets(),sessions=sessions[_0x398459(0x18d)](_0x5dde2a=>_0x5dde2a['id']!==_0x2d52f0['id']),reRenderBlocks(),showToast(_0x398459(0x18e)),lastUserActionTime=Date[_0x398459(0x238)]();try{const _0x2bee8a=window[_0x398459(0x1a9)]?.[_0x398459(0x211)],_0x33b20c=await fetch(API_URL,{'method':_0x398459(0x1fb),'body':JSON[_0x398459(0x1c4)]({'action':_0x398459(0x200),'init_data':_0x2bee8a?.[_0x398459(0x1da)]||'','coachId':_0x2d52f0[_0x398459(0x1f8)],'dateStr':_0x2d52f0[_0x398459(0x180)],'sessionId':_0x2d52f0['id']})});if(_0x33b20c['ok'])DataManager['saveLocally']();}catch(_0x4a801d){showToast(_0x398459(0x253));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1ba4f6=a3_0x57708c;if(!currentSession)return;document[_0x1ba4f6(0x233)](_0x1ba4f6(0x1a6))['classList'][_0x1ba4f6(0x1cc)]('open'),document[_0x1ba4f6(0x233)](_0x1ba4f6(0x185))['classList']['add'](_0x1ba4f6(0x1b7));const _0x427879=document[_0x1ba4f6(0x233)](_0x1ba4f6(0x1a2)),_0xfb9cee=document['getElementById'](_0x1ba4f6(0x1bd));_0x427879[_0x1ba4f6(0x20d)]='',_0xfb9cee[_0x1ba4f6(0x20d)]=_0x1ba4f6(0x17e);const [_0x24fb14,_0x548efe]=currentSession[_0x1ba4f6(0x1f3)][_0x1ba4f6(0x230)](':')[_0x1ba4f6(0x226)](Number),[_0x969f15,_0x50f729]=currentSession['end'][_0x1ba4f6(0x230)](':')[_0x1ba4f6(0x226)](Number),_0x248cf6=_0x969f15*0x3c+_0x50f729-(_0x24fb14*0x3c+_0x548efe);try{const _0x5d45be=window[_0x1ba4f6(0x1a9)]?.[_0x1ba4f6(0x211)],_0x15f503=await fetch(API_URL,{'method':'POST','body':JSON[_0x1ba4f6(0x1c4)]({'action':_0x1ba4f6(0x1d2),'coachId':currentSession[_0x1ba4f6(0x1f8)],'duration':_0x248cf6,'init_data':_0x5d45be?.[_0x1ba4f6(0x1da)]||'','excludeSessionId':currentSession['id']})}),_0x11cd23=await _0x15f503[_0x1ba4f6(0x1cf)]();_0x11cd23['ok']&&_0x11cd23[_0x1ba4f6(0x1d0)]?(availableSlotsCache=_0x11cd23[_0x1ba4f6(0x1d0)],renderRescheduleDates()):_0xfb9cee[_0x1ba4f6(0x20d)]=_0x1ba4f6(0x1ce);}catch(_0x942903){_0xfb9cee[_0x1ba4f6(0x20d)]=_0x1ba4f6(0x192);}}function renderRescheduleDates(){const _0x431ea9=a3_0x57708c,_0x5dc50e=document[_0x431ea9(0x233)](_0x431ea9(0x1a2));_0x5dc50e['innerHTML']='';const _0x49d36d=Object['keys'](availableSlotsCache)[_0x431ea9(0x1ff)](),_0x4a68f4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x49d36d[_0x431ea9(0x268)]===0x0){document[_0x431ea9(0x233)](_0x431ea9(0x1bd))[_0x431ea9(0x20d)]=_0x431ea9(0x1bb);return;}_0x49d36d[_0x431ea9(0x194)]((_0x136b29,_0x3a0bec)=>{const _0x54027b=_0x431ea9,_0x2216ce=new Date(_0x136b29),_0x4d2614=_0x4a68f4[_0x2216ce[_0x54027b(0x21f)]()],_0x35c716=_0x2216ce[_0x54027b(0x17f)](),_0x4ed2f7=document[_0x54027b(0x22e)](_0x54027b(0x1ea));_0x4ed2f7[_0x54027b(0x20a)]='rs-date-chip';if(_0x3a0bec===0x0)_0x4ed2f7[_0x54027b(0x249)]['add']('active');_0x4ed2f7[_0x54027b(0x20d)]=_0x54027b(0x213)+_0x4d2614+_0x54027b(0x210)+_0x35c716+_0x54027b(0x254),_0x4ed2f7[_0x54027b(0x214)]=()=>selectRsDate(_0x136b29,_0x4ed2f7),_0x5dc50e[_0x54027b(0x1a7)](_0x4ed2f7);}),selectRsDate(_0x49d36d[0x0],_0x5dc50e[_0x431ea9(0x17d)]);}function selectRsDate(_0x45e954,_0x40eda3){const _0x608275=a3_0x57708c;selectedRsDate=_0x45e954,document[_0x608275(0x25d)](_0x608275(0x270))['forEach'](_0x47e8bd=>_0x47e8bd['classList'][_0x608275(0x1cc)](_0x608275(0x1dc)));if(_0x40eda3)_0x40eda3[_0x608275(0x249)][_0x608275(0x273)](_0x608275(0x1dc));const _0x427db6=document[_0x608275(0x233)](_0x608275(0x1bd));_0x427db6[_0x608275(0x20d)]='';const _0x252b85=availableSlotsCache[_0x45e954]||[];if(_0x252b85['length']===0x0){_0x427db6['innerHTML']=_0x608275(0x1ce);return;}_0x252b85[_0x608275(0x194)](_0x49cdb5=>{const _0x272de1=_0x608275,_0x43e69a=document['createElement'](_0x272de1(0x232));_0x43e69a[_0x272de1(0x20a)]=_0x272de1(0x25e),_0x43e69a['textContent']=_0x49cdb5,_0x43e69a[_0x272de1(0x214)]=()=>confirmReschedule(_0x49cdb5),_0x427db6['appendChild'](_0x43e69a);});}function a3_0x2d4e(_0x464c2e,_0x41897b){_0x464c2e=_0x464c2e-0x17d;const _0x4e993d=a3_0x5bd3();let _0x3f723a=_0x4e993d[_0x464c2e];return _0x3f723a;}async function confirmReschedule(_0x30703e){const _0x4105f5=a3_0x57708c,_0x2b9f3=new Date(selectedRsDate),_0x542d09=_0x2b9f3[_0x4105f5(0x236)](_0x4105f5(0x1be),{'day':'numeric','month':'long'}),_0x3aaae6=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x4105f5(0x1ec)+_0x542d09+'\x20–≤\x20'+_0x30703e+'?',![]);if(!_0x3aaae6)return;closeAllSheets(),showToast(_0x4105f5(0x1f9)),lastUserActionTime=Date[_0x4105f5(0x238)]();const _0xd05351=currentSession[_0x4105f5(0x180)],_0x5a11dd=currentSession['id'],[_0x1972ce,_0x46aa09]=currentSession[_0x4105f5(0x1f3)][_0x4105f5(0x230)](':')['map'](Number),[_0x4c1b48,_0x219ac2]=currentSession[_0x4105f5(0x26b)][_0x4105f5(0x230)](':')[_0x4105f5(0x226)](Number),_0x2b7cbc=_0x4c1b48*0x3c+_0x219ac2-(_0x1972ce*0x3c+_0x46aa09),[_0x47a580,_0x12c35c]=_0x30703e[_0x4105f5(0x230)](':')['map'](Number),_0x1195b5=_0x47a580*0x3c+_0x12c35c+_0x2b7cbc,_0x23d300=Math['floor'](_0x1195b5/0x3c),_0x18ea19=_0x1195b5%0x3c,_0x55397e=String(_0x23d300)['padStart'](0x2,'0')+':'+String(_0x18ea19)['padStart'](0x2,'0'),_0x23c3f8=sessions[_0x4105f5(0x1a5)](_0xd03f22=>_0xd03f22['id']===_0x5a11dd);_0x23c3f8!==-0x1&&(sessions[_0x23c3f8][_0x4105f5(0x180)]=selectedRsDate,sessions[_0x23c3f8][_0x4105f5(0x1f3)]=_0x30703e,sessions[_0x23c3f8]['end']=_0x55397e,reRenderBlocks());try{const _0x32594c=window[_0x4105f5(0x1a9)]?.['WebApp'],_0x10cfe8=await fetch(API_URL,{'method':_0x4105f5(0x1fb),'body':JSON[_0x4105f5(0x1c4)]({'action':_0x4105f5(0x24c),'init_data':_0x32594c?.[_0x4105f5(0x1da)]||'','oldSessionId':_0x5a11dd,'oldDate':_0xd05351,'newDate':selectedRsDate,'newTime':_0x30703e,'coachId':currentSession[_0x4105f5(0x1f8)]})}),_0x21e3c5=await _0x10cfe8[_0x4105f5(0x1cf)]();!_0x21e3c5['ok']?(showToast(_0x4105f5(0x1d9)),DataManager[_0x4105f5(0x205)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x56d59f){showToast(_0x4105f5(0x253));}}document['addEventListener'](a3_0x57708c(0x1c6),init);