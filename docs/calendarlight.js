const a3_0x415969=a3_0x104b;(function(_0x198d98,_0x190a3e){const _0x6ed083=a3_0x104b,_0x3f99c3=_0x198d98();while(!![]){try{const _0x3277e8=-parseInt(_0x6ed083(0x1d8))/0x1+parseInt(_0x6ed083(0x1f4))/0x2*(parseInt(_0x6ed083(0x145))/0x3)+-parseInt(_0x6ed083(0x184))/0x4+-parseInt(_0x6ed083(0x11d))/0x5*(-parseInt(_0x6ed083(0x18c))/0x6)+parseInt(_0x6ed083(0x15d))/0x7+-parseInt(_0x6ed083(0x154))/0x8+-parseInt(_0x6ed083(0x1b0))/0x9*(parseInt(_0x6ed083(0x156))/0xa);if(_0x3277e8===_0x190a3e)break;else _0x3f99c3['push'](_0x3f99c3['shift']());}catch(_0x43bf1a){_0x3f99c3['push'](_0x3f99c3['shift']());}}}(a3_0x10a3,0x70cb3));const APP_VERSION=a3_0x415969(0x188),API_URL=a3_0x415969(0x15a),GRID_H=0x3c,KEY_SESSIONS=a3_0x415969(0x150),KEY_SETTINGS=a3_0x415969(0x18b),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x36240e=a3_0x415969,_0x509980=(function(){let _0x28115d=!![];return function(_0x522d8b,_0x381ef4){const _0x3515d9=_0x28115d?function(){const _0xa49547=a3_0x104b;if(_0x381ef4){const _0x150e69=_0x381ef4[_0xa49547(0x1a3)](_0x522d8b,arguments);return _0x381ef4=null,_0x150e69;}}:function(){};return _0x28115d=![],_0x3515d9;};}()),_0x1f674b=_0x509980(this,function(){const _0x133f8f=a3_0x104b;return _0x1f674b['toString']()[_0x133f8f(0x1b8)]('(((.+)+)+)+$')[_0x133f8f(0x1fc)]()[_0x133f8f(0x171)](_0x1f674b)['search'](_0x133f8f(0x194));});_0x1f674b();try{const _0x133e6e=window['Telegram']?.['WebApp'];if(!_0x133e6e)return;_0x133e6e[_0x36240e(0x15f)](),_0x133e6e[_0x36240e(0x121)]();try{_0x133e6e[_0x36240e(0x12f)](_0x36240e(0x1bf)),_0x133e6e[_0x36240e(0x175)]&&_0x133e6e[_0x36240e(0x175)](_0x36240e(0x1bf));}catch(_0x3b8cce){console['log'](_0x36240e(0x165),_0x3b8cce);}try{_0x133e6e[_0x36240e(0x1aa)]&&(_0x133e6e[_0x36240e(0x1aa)][_0x36240e(0x136)](),_0x133e6e[_0x36240e(0x1aa)][_0x36240e(0x1f7)](),_0x133e6e['BackButton'][_0x36240e(0x1a6)](function(){const _0x1fbb5e=_0x36240e;window['location'][_0x1fbb5e(0x1bd)]=_0x1fbb5e(0x13c);}));}catch(_0x241708){console[_0x36240e(0x1dc)](_0x36240e(0x153),_0x241708);}try{if(_0x133e6e[_0x36240e(0x1f8)])_0x133e6e[_0x36240e(0x1f8)]();}catch(_0x5a8373){}}catch(_0x5b98bc){console[_0x36240e(0x118)](_0x36240e(0x1d2),_0x5b98bc);}}());function isAdmin(){const _0x363762=a3_0x415969;try{const _0x568782=Number(window[_0x363762(0x1c3)]?.[_0x363762(0x16f)]?.[_0x363762(0x183)]?.[_0x363762(0x147)]?.['id']);return _0x568782===0xbaf7174;}catch(_0x45b163){return![];}}const DataManager={'saveLocally'(){const _0x4329e6=a3_0x415969;try{localStorage[_0x4329e6(0x130)](KEY_SESSIONS,JSON[_0x4329e6(0x11a)](sessions)),localStorage[_0x4329e6(0x130)](KEY_CLIENTS,JSON[_0x4329e6(0x11a)](clients)),localStorage[_0x4329e6(0x130)](KEY_SETTINGS,JSON[_0x4329e6(0x11a)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4ca4b1){}},'loadLocal'(){const _0x125c3e=a3_0x415969;try{const _0x229ef9=localStorage['getItem'](KEY_SESSIONS);if(_0x229ef9)sessions=JSON[_0x125c3e(0x11f)](_0x229ef9);const _0x4a0686=localStorage[_0x125c3e(0x159)](KEY_CLIENTS);if(_0x4a0686)clients=JSON['parse'](_0x4a0686);const _0x3ec266=localStorage[_0x125c3e(0x159)](KEY_SETTINGS);if(_0x3ec266){const _0x30b0c1=JSON['parse'](_0x3ec266);if(_0x30b0c1[_0x125c3e(0x1d9)])availabilityPattern=_0x30b0c1[_0x125c3e(0x1d9)];if(_0x30b0c1[_0x125c3e(0x14f)])specialRanges=_0x30b0c1[_0x125c3e(0x14f)];if(_0x30b0c1['exceptions'])dateExceptions=_0x30b0c1['exceptions'];}}catch(_0x133e85){}},async 'syncLoad'(){const _0x45eb24=a3_0x415969,_0x12da16=new Date(),_0x3d8d0a=_0x12da16[_0x45eb24(0x1b7)]()+'-'+String(_0x12da16[_0x45eb24(0x160)]()+0x1)[_0x45eb24(0x127)](0x2,'0'),_0xc7899d=new Date(_0x12da16);_0xc7899d[_0x45eb24(0x151)](_0x12da16[_0x45eb24(0x160)]()+0x1);const _0x5eb308=_0xc7899d[_0x45eb24(0x1b7)]()+'-'+String(_0xc7899d[_0x45eb24(0x160)]()+0x1)[_0x45eb24(0x127)](0x2,'0'),_0x211789=Date['now']();try{const _0x5435db=window[_0x45eb24(0x1c3)]?.[_0x45eb24(0x16f)],_0x3b9203=_0x5435db?.[_0x45eb24(0x10b)]||'',[_0x37a85c,_0x2b6ea8]=await Promise['all']([fetch(API_URL,{'method':_0x45eb24(0x1a0),'body':JSON[_0x45eb24(0x11a)]({'action':_0x45eb24(0x15c),'init_data':_0x3b9203,'month_str':_0x3d8d0a})})[_0x45eb24(0x1ed)](_0x573dc8=>_0x573dc8[_0x45eb24(0x12e)]()),fetch(API_URL,{'method':_0x45eb24(0x1a0),'body':JSON[_0x45eb24(0x11a)]({'action':'client_load','init_data':_0x3b9203,'month_str':_0x5eb308})})[_0x45eb24(0x1ed)](_0x34f7cc=>_0x34f7cc['json']())]);if(lastUserActionTime>_0x211789){console[_0x45eb24(0x1dc)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x37a85c['ok'])this['applyData'](_0x37a85c[_0x45eb24(0x120)],_0x3d8d0a);if(_0x2b6ea8['ok'])this[_0x45eb24(0x1fb)](_0x2b6ea8['data'],_0x5eb308);this['saveLocally']();}catch(_0x43c128){}},'applyData'(_0x5b1239,_0x4cf883){const _0x2cbe37=a3_0x415969;if(!_0x5b1239)return;if(_0x5b1239[_0x2cbe37(0x14c)]){if(_0x5b1239['settings']['pattern'])availabilityPattern=_0x5b1239[_0x2cbe37(0x14c)]['pattern'];if(_0x5b1239[_0x2cbe37(0x14c)][_0x2cbe37(0x14f)])specialRanges=_0x5b1239[_0x2cbe37(0x14c)][_0x2cbe37(0x14f)];if(_0x5b1239['settings'][_0x2cbe37(0x108)])dateExceptions=_0x5b1239[_0x2cbe37(0x14c)][_0x2cbe37(0x108)];}if(_0x5b1239['clients']&&Array[_0x2cbe37(0x123)](_0x5b1239[_0x2cbe37(0x14a)]))clients=_0x5b1239['clients'];_0x5b1239[_0x2cbe37(0x139)]&&(coachProfiles={...coachProfiles,..._0x5b1239[_0x2cbe37(0x139)]}),_0x5b1239['calendar']&&(sessions=sessions[_0x2cbe37(0x1e4)](_0x4cc9b8=>!_0x4cc9b8[_0x2cbe37(0x19a)][_0x2cbe37(0x185)](_0x4cf883)),Object[_0x2cbe37(0x1ec)](_0x5b1239[_0x2cbe37(0x126)])[_0x2cbe37(0x1c0)](_0x24c634=>{const _0x11c8f9=_0x2cbe37,_0xd83a02=_0x5b1239[_0x11c8f9(0x126)][_0x24c634];_0xd83a02[_0x11c8f9(0x1c0)](_0x1758f7=>{const _0x3f1567=_0x11c8f9;sessions[_0x3f1567(0x1b1)]({'id':_0x1758f7['i'],'clientId':_0x1758f7['c'],'coachId':_0x1758f7[_0x3f1567(0x1c1)],'dateStr':_0x4cf883+'-'+_0x24c634[_0x3f1567(0x127)](0x2,'0'),'start':_0x1758f7['s'],'end':_0x1758f7['e'],'note':_0x1758f7['n']||'','status':_0x1758f7['st']||_0x3f1567(0x1e8),'seriesId':_0x1758f7[_0x3f1567(0x1c4)]});});})),reRenderBlocks();}};function init(){const _0x1a71be=a3_0x415969;DataManager[_0x1a71be(0x1ba)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1a71be(0x1ee))[_0x1a71be(0x172)](_0x1a71be(0x1d6),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1a71be(0x14d)]();}function renderTimeColumn(){const _0x36c797=a3_0x415969,_0x3c4d70=document[_0x36c797(0x179)](_0x36c797(0x1d5)),_0x342cd4=document[_0x36c797(0x179)]('timeLineBadge');_0x3c4d70[_0x36c797(0x1da)]='',_0x3c4d70['appendChild'](_0x342cd4);for(let _0x3ec139=0x0;_0x3ec139<0x18;_0x3ec139++){const _0x52e5be=document[_0x36c797(0x163)](_0x36c797(0x190));_0x52e5be[_0x36c797(0x1dd)]='time-label';if(_0x3ec139>0x0)_0x52e5be[_0x36c797(0x1da)]='<span>'+String(_0x3ec139)['padStart'](0x2,'0')+_0x36c797(0x141);_0x3c4d70[_0x36c797(0x1ad)](_0x52e5be);}}function renderDayRange(_0x1ecca1,_0x1ca0a7){const _0x34c995=a3_0x415969,_0x382de5=document[_0x34c995(0x179)](_0x34c995(0x13b)),_0x173cab=document[_0x34c995(0x179)](_0x34c995(0x140)),_0x1bb032=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x982acd=new Date();_0x982acd[_0x34c995(0x114)](0x0,0x0,0x0,0x0);const _0x157c61=getLocalDateStr(new Date());for(let _0x1cff38=_0x1ecca1;_0x1cff38<=_0x1ca0a7;_0x1cff38++){const _0x483f09=new Date(_0x982acd);_0x483f09[_0x34c995(0x12c)](_0x483f09[_0x34c995(0x173)]()+_0x1cff38);const _0x23b06f=getLocalDateStr(_0x483f09);let _0x5e5205=_0x483f09[_0x34c995(0x1c2)]()-0x1;if(_0x5e5205===-0x1)_0x5e5205=0x6;const _0x5d9ad2=_0x23b06f===_0x157c61,_0x3e5420=document[_0x34c995(0x163)]('div');_0x3e5420[_0x34c995(0x1dd)]='day-col-header\x20'+(_0x5d9ad2?'today':''),_0x3e5420[_0x34c995(0x167)](_0x34c995(0x10d),_0x23b06f),_0x3e5420[_0x34c995(0x1da)]=_0x34c995(0x1d3)+_0x1bb032[_0x5e5205]+_0x34c995(0x112)+_0x483f09[_0x34c995(0x173)]()+_0x34c995(0x16a),_0x382de5[_0x34c995(0x1ad)](_0x3e5420);const _0x418d15=document[_0x34c995(0x163)]('div');_0x418d15[_0x34c995(0x1dd)]=_0x34c995(0x1e1)+(_0x5d9ad2?_0x34c995(0x187):''),_0x418d15[_0x34c995(0x167)](_0x34c995(0x10d),_0x23b06f),_0x418d15['setAttribute'](_0x34c995(0x12d),_0x5e5205),_0x173cab[_0x34c995(0x1ad)](_0x418d15);}}function reRenderBlocks(){const _0x2e81a0=a3_0x415969;document[_0x2e81a0(0x144)]('.day-column')[_0x2e81a0(0x1c0)](_0x26e04b=>{const _0x5904d2=_0x2e81a0;_0x26e04b[_0x5904d2(0x144)](_0x5904d2(0x16b))[_0x5904d2(0x1c0)](_0x27a4de=>_0x27a4de[_0x5904d2(0x177)]());const _0x2447ee=_0x26e04b[_0x5904d2(0x1cf)]('data-date'),_0x27d4b0=parseInt(_0x26e04b['getAttribute']('data-day-idx')),_0x5d0c54=Math[_0x5904d2(0x198)](_0x26e04b[_0x5904d2(0x137)]);(availabilityPattern[_0x27d4b0]||[])[_0x5904d2(0x1c0)](_0x204d43=>{const _0x1c32bc=_0x5904d2,_0x13d248=document[_0x1c32bc(0x163)](_0x1c32bc(0x190));_0x13d248[_0x1c32bc(0x1dd)]=_0x1c32bc(0x1be),_0x13d248[_0x1c32bc(0x106)][_0x1c32bc(0x1f6)]=_0x204d43*GRID_H+'px',_0x13d248[_0x1c32bc(0x106)]['backgroundPosition']='-'+_0x5d0c54+'px\x20-'+_0x204d43*GRID_H+'px',_0x26e04b['appendChild'](_0x13d248);});if(specialRanges[_0x5904d2(0x1fe)]>0x0){const _0x5be252=new Date(_0x2447ee+_0x5904d2(0x182))['getTime'](),_0x370ff3=new Date(_0x2447ee+_0x5904d2(0x1a5))['getTime']();specialRanges['forEach'](_0x3f1a07=>{const _0x50cf5d=_0x5904d2,_0x543209=new Date(_0x3f1a07[_0x50cf5d(0x105)])['getTime'](),_0x1a8d6b=new Date(_0x3f1a07[_0x50cf5d(0x10f)])[_0x50cf5d(0x192)](),_0x48d683=Math[_0x50cf5d(0x1e0)](_0x5be252,_0x543209),_0xf53199=Math[_0x50cf5d(0x157)](_0x370ff3,_0x1a8d6b);if(_0x48d683<_0xf53199){const _0x5db83b=(_0x48d683-_0x5be252)/0x36ee80*GRID_H,_0x2d5d02=(_0xf53199-_0x48d683)/0x36ee80*GRID_H,_0x140071=document['createElement'](_0x50cf5d(0x190));_0x2d5d02>=23.5*GRID_H?(_0x140071[_0x50cf5d(0x1dd)]=_0x50cf5d(0x19d),_0x140071['style'][_0x50cf5d(0x1c7)]='-'+_0x5d0c54+'px\x200px'):(_0x140071[_0x50cf5d(0x1dd)]=_0x50cf5d(0x11c),_0x140071[_0x50cf5d(0x106)]['top']=_0x5db83b+'px',_0x140071[_0x50cf5d(0x106)][_0x50cf5d(0x13e)]=_0x2d5d02+'px',_0x140071[_0x50cf5d(0x106)][_0x50cf5d(0x1c7)]='-'+_0x5d0c54+_0x50cf5d(0x13a)+_0x5db83b+'px'),_0x26e04b[_0x50cf5d(0x1ad)](_0x140071);}});}renderEventsForColumn(_0x26e04b,_0x2447ee);});}function renderEventsForColumn(_0x28b21c,_0x3c20bb){const _0x2369af=a3_0x415969,_0x974b9d=sessions[_0x2369af(0x1e4)](_0xd9a100=>_0xd9a100[_0x2369af(0x19a)]===_0x3c20bb),_0x81df2f=_0x974b9d[_0x2369af(0x14b)](_0x42e5ea=>{const _0x4d32ad=_0x2369af,[_0x2b0154,_0x603b3a]=_0x42e5ea[_0x4d32ad(0x105)][_0x4d32ad(0x191)](':')[_0x4d32ad(0x14b)](Number),[_0xa0f509,_0x1a820f]=_0x42e5ea[_0x4d32ad(0x10f)][_0x4d32ad(0x191)](':')[_0x4d32ad(0x14b)](Number);return{'data':_0x42e5ea,'start':_0x2b0154*0x3c+_0x603b3a,'end':_0xa0f509*0x3c+_0x1a820f,'colIndex':0x0};});_0x81df2f['sort']((_0x5d311b,_0x3e02d8)=>_0x5d311b[_0x2369af(0x105)]-_0x3e02d8[_0x2369af(0x105)]||_0x3e02d8[_0x2369af(0x10f)]-_0x3e02d8[_0x2369af(0x105)]-(_0x5d311b['end']-_0x5d311b[_0x2369af(0x105)]));const _0x3761a4=[];_0x81df2f[_0x2369af(0x1c0)](_0x230852=>{const _0x110142=_0x2369af;let _0x56fb48=![];for(let _0x54125b=0x0;_0x54125b<_0x3761a4['length'];_0x54125b++){const _0x1a1061=_0x3761a4[_0x54125b];if(_0x230852[_0x110142(0x105)]>=_0x1a1061[_0x1a1061['length']-0x1][_0x110142(0x10f)]){_0x1a1061[_0x110142(0x1b1)](_0x230852),_0x230852['colIndex']=_0x54125b,_0x56fb48=!![];break;}}!_0x56fb48&&(_0x3761a4[_0x110142(0x1b1)]([_0x230852]),_0x230852[_0x110142(0x17c)]=_0x3761a4['length']-0x1);}),_0x81df2f[_0x2369af(0x1c0)](_0x475326=>{const _0x403d5b=_0x2369af;let _0x35301f=0x0;_0x81df2f[_0x403d5b(0x1c0)](_0x1ee435=>{const _0x302b95=_0x403d5b;if(Math[_0x302b95(0x1e0)](_0x475326[_0x302b95(0x105)],_0x1ee435[_0x302b95(0x105)])<Math[_0x302b95(0x157)](_0x475326['end'],_0x1ee435[_0x302b95(0x10f)])&&_0x1ee435[_0x302b95(0x17c)]>_0x35301f)_0x35301f=_0x1ee435['colIndex'];});const _0x28a59b=_0x35301f+0x1,_0x4902d5=0x64/_0x28a59b,_0x6a8de2=_0x475326[_0x403d5b(0x17c)]*_0x4902d5,_0x4ca9fc=document[_0x403d5b(0x163)]('div'),_0x33dffa=_0x475326[_0x403d5b(0x120)];let _0x364a1c=_0x403d5b(0x1ab);if(clients&&clients[_0x403d5b(0x1fe)]>0x0){const _0x2b8796=clients[_0x403d5b(0x1a8)](_0x3aa78f=>String(_0x3aa78f['id'])===String(_0x33dffa['clientId']));if(_0x2b8796&&_0x2b8796['color'])_0x364a1c=_0x2b8796['color'];}const _0x41bbec=_0x33dffa[_0x403d5b(0x181)]==='completed',_0x563a3e=_0x41bbec?0x1:0.45;_0x4ca9fc['className']=_0x403d5b(0x1a1)+(_0x41bbec?_0x403d5b(0x152):''),_0x4ca9fc['style']['backgroundColor']=hexToRgba(_0x364a1c,_0x563a3e),_0x4ca9fc[_0x403d5b(0x106)]['borderLeftColor']=_0x364a1c;const _0x23e854=_0x475326[_0x403d5b(0x105)]/0x3c*GRID_H,_0x333e6c=(_0x475326[_0x403d5b(0x10f)]-_0x475326[_0x403d5b(0x105)])/0x3c*GRID_H;_0x4ca9fc['style'][_0x403d5b(0x1f6)]=_0x23e854+'px',_0x4ca9fc[_0x403d5b(0x106)][_0x403d5b(0x13e)]=Math['max'](_0x333e6c,0x14)+'px',_0x4ca9fc['style'][_0x403d5b(0x10c)]=_0x403d5b(0x19b)+_0x4902d5+_0x403d5b(0x169),_0x4ca9fc[_0x403d5b(0x106)][_0x403d5b(0x17f)]=_0x403d5b(0x19b)+_0x6a8de2+_0x403d5b(0x1ea),_0x4ca9fc['style'][_0x403d5b(0x1c6)]=0xa+_0x475326['colIndex'];if(_0x4902d5<0x55)_0x4ca9fc['classList'][_0x403d5b(0x1a4)](_0x403d5b(0x17d));let _0x41aacc='';if(_0x33dffa[_0x403d5b(0x1c9)])_0x41aacc+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x41bbec)_0x41aacc+=_0x403d5b(0x168);_0x4ca9fc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x33dffa[_0x403d5b(0x105)]+_0x403d5b(0x1a9)+_0x33dffa[_0x403d5b(0x10f)]+_0x403d5b(0x133)+_0x41aacc+_0x403d5b(0x174),_0x4ca9fc['onclick']=_0x396966=>{const _0x15adb3=_0x403d5b;_0x396966[_0x15adb3(0x13f)](),openDetails(_0x33dffa);},_0x28b21c[_0x403d5b(0x1ad)](_0x4ca9fc);});}function openAnalytics(){const _0x246d39=a3_0x415969,_0x3c0f22=document[_0x246d39(0x199)](_0x246d39(0x1d4));setAnalyticsPeriod(_0x246d39(0x1f5),_0x3c0f22),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3dc9bb,_0x44e47a){const _0x858196=a3_0x415969;currentAnPeriod=_0x3dc9bb,document[_0x858196(0x144)](_0x858196(0x1d4))['forEach'](_0x157e69=>_0x157e69['classList'][_0x858196(0x177)](_0x858196(0x10a)));if(_0x44e47a)_0x44e47a['classList'][_0x858196(0x1a4)]('active');const _0xe5b0f8=document['getElementById'](_0x858196(0x186));_0xe5b0f8[_0x858196(0x106)][_0x858196(0x104)]=_0x3dc9bb==='custom'?_0x858196(0x1f9):_0x858196(0x18a);const _0x3b893d=new Date();let _0x11b53a=new Date(),_0x1d5532=new Date();if(_0x3dc9bb===_0x858196(0x1f5))_0x11b53a=getStartOfWeek(_0x3b893d),_0x1d5532=new Date(_0x11b53a),_0x1d5532[_0x858196(0x12c)](_0x1d5532[_0x858196(0x173)]()+0x6);else{if(_0x3dc9bb===_0x858196(0x17e))_0x11b53a=new Date(_0x3b893d[_0x858196(0x1b7)](),_0x3b893d['getMonth'](),0x1),_0x1d5532=new Date(_0x3b893d[_0x858196(0x1b7)](),_0x3b893d['getMonth']()+0x1,0x0);else{!document[_0x858196(0x179)]('anStart')[_0x858196(0x103)]&&(document[_0x858196(0x179)](_0x858196(0x1e5))[_0x858196(0x103)]=getLocalDateStr(_0x3b893d),document['getElementById'](_0x858196(0x1ef))['value']=getLocalDateStr(_0x3b893d));refreshAnalytics();return;}}document[_0x858196(0x179)](_0x858196(0x1e5))[_0x858196(0x103)]=getLocalDateStr(_0x11b53a),document[_0x858196(0x179)](_0x858196(0x1ef))[_0x858196(0x103)]=getLocalDateStr(_0x1d5532),refreshAnalytics();}function refreshAnalytics(){const _0x2472d8=a3_0x415969,_0x3e977f=document[_0x2472d8(0x179)](_0x2472d8(0x1e5))[_0x2472d8(0x103)],_0x35fbc0=document[_0x2472d8(0x179)](_0x2472d8(0x1ef))['value'];if(!_0x3e977f||!_0x35fbc0)return;const _0x44111b=sessions[_0x2472d8(0x1e4)](_0x5c498a=>_0x5c498a[_0x2472d8(0x19a)]>=_0x3e977f&&_0x5c498a[_0x2472d8(0x19a)]<=_0x35fbc0&&_0x5c498a['status']!==_0x2472d8(0x1a7)),_0x309829=_0x44111b[_0x2472d8(0x1fe)],_0x2279a2=_0x44111b[_0x2472d8(0x1e4)](_0x12a530=>_0x12a530['status']===_0x2472d8(0x1e9))[_0x2472d8(0x1fe)],_0x30c8d6=_0x309829>0x0?Math[_0x2472d8(0x198)](_0x2279a2/_0x309829*0x64):0x0;document[_0x2472d8(0x179)]('anPercent')[_0x2472d8(0x164)]=_0x30c8d6+'%',document['getElementById'](_0x2472d8(0x1ca))['textContent']=_0x2279a2+'\x20–∏–∑\x20'+_0x309829+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2caa18=document[_0x2472d8(0x179)](_0x2472d8(0x1f0)),_0x5dddd0=0x2*Math['PI']*0x23,_0x165f47=_0x5dddd0-_0x30c8d6/0x64*_0x5dddd0;_0x2caa18[_0x2472d8(0x106)][_0x2472d8(0x125)]=_0x165f47;const _0x117894={};_0x44111b[_0x2472d8(0x1c0)](_0x67e375=>{const _0x191482=_0x2472d8,_0x2e5ed7=_0x67e375['coachId']||_0x191482(0x1af);if(!_0x117894[_0x2e5ed7]){const _0x1606d6='#'+_0x2e5ed7['toString']()[_0x191482(0x161)](0x0,0x6);_0x117894[_0x2e5ed7]={'total':0x0,'done':0x0,'color':_0x1606d6};}_0x117894[_0x2e5ed7][_0x191482(0x19f)]++;if(_0x67e375[_0x191482(0x181)]===_0x191482(0x1e9))_0x117894[_0x2e5ed7]['done']++;});const _0x4fdde9=document['getElementById']('analyticsList');_0x4fdde9['innerHTML']='';const _0x33cf1a=Object[_0x2472d8(0x135)](_0x117894)[_0x2472d8(0x19c)]((_0x59c86f,_0x5d97b5)=>_0x5d97b5[0x1][_0x2472d8(0x19f)]-_0x59c86f[0x1][_0x2472d8(0x19f)]);if(_0x33cf1a[_0x2472d8(0x1fe)]===0x0){_0x4fdde9[_0x2472d8(0x1da)]=_0x2472d8(0x197);return;}_0x33cf1a[_0x2472d8(0x1c0)](([_0x518313,_0x294d35])=>{const _0x274e52=_0x2472d8,_0x19c84b=Math[_0x274e52(0x198)](_0x294d35[_0x274e52(0x1bc)]/_0x294d35['total']*0x64),_0x3c7722=document[_0x274e52(0x163)](_0x274e52(0x190));_0x3c7722['className']='client-stat-card',_0x3c7722['style']['borderLeftColor']=_0x294d35[_0x274e52(0x1b6)],_0x3c7722[_0x274e52(0x1da)]=_0x274e52(0x107)+_0x518313['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x294d35[_0x274e52(0x1bc)]+'</span>\x20/\x20'+_0x294d35[_0x274e52(0x19f)]+_0x274e52(0x18f)+_0x19c84b+_0x274e52(0x1d0),_0x4fdde9['appendChild'](_0x3c7722);});}function openDetails(_0x2b90c2){const _0x1e5a65=a3_0x415969;currentSession=_0x2b90c2;const _0x3afcba=new Date(_0x2b90c2['dateStr']),_0x1f8fd2=_0x3afcba[_0x1e5a65(0x13d)](_0x1e5a65(0x1f2),{'weekday':'long','day':_0x1e5a65(0x134),'month':_0x1e5a65(0x1b4)});document['getElementById'](_0x1e5a65(0x16c))[_0x1e5a65(0x164)]=_0x1f8fd2[_0x1e5a65(0x166)](0x0)['toUpperCase']()+_0x1f8fd2[_0x1e5a65(0x12a)](0x1),document[_0x1e5a65(0x179)](_0x1e5a65(0x1a2))[_0x1e5a65(0x164)]=_0x2b90c2[_0x1e5a65(0x105)]+_0x1e5a65(0x1a9)+_0x2b90c2['end'],document[_0x1e5a65(0x179)]('detNote')[_0x1e5a65(0x164)]=_0x2b90c2['note']||_0x1e5a65(0x1b2);const _0x1836b0=document[_0x1e5a65(0x179)](_0x1e5a65(0x11b)),_0xde2c0f=document[_0x1e5a65(0x179)](_0x1e5a65(0x128)),_0x5cd992=_0xde2c0f[_0x1e5a65(0x199)]('.btn-cancel'),_0x513344=_0xde2c0f['querySelector'](_0x1e5a65(0x15b)),_0x45a01b=document[_0x1e5a65(0x179)](_0x1e5a65(0x1b9));if(_0x2b90c2[_0x1e5a65(0x181)]==='completed')_0x1836b0[_0x1e5a65(0x164)]=_0x1e5a65(0x1eb),_0x1836b0['style'][_0x1e5a65(0x1b6)]=_0x1e5a65(0x129),_0xde2c0f['style']['display']=_0x1e5a65(0x18a);else{_0x1836b0[_0x1e5a65(0x164)]=_0x1e5a65(0x1ac),_0x1836b0[_0x1e5a65(0x106)]['color']=_0x1e5a65(0x178),_0xde2c0f[_0x1e5a65(0x106)][_0x1e5a65(0x104)]=_0x1e5a65(0x195);const _0x2eb5f4=new Date(_0x2b90c2[_0x1e5a65(0x19a)]+'T'+_0x2b90c2['start']),_0x25cb57=new Date(),_0x4a8442=(_0x2eb5f4-_0x25cb57)/(0x3e8*0x3c*0x3c),_0xb6ebe7=coachProfiles[_0x2b90c2[_0x1e5a65(0x1fd)]]&&coachProfiles[_0x2b90c2[_0x1e5a65(0x1fd)]][_0x1e5a65(0x1e6)]?parseInt(coachProfiles[_0x2b90c2[_0x1e5a65(0x1fd)]][_0x1e5a65(0x1e6)]):0x18;if(_0xb6ebe7===0x0||_0x4a8442>=_0xb6ebe7)_0x5cd992['style']['display']='block',_0x513344[_0x1e5a65(0x106)][_0x1e5a65(0x104)]=_0x1e5a65(0x195),_0x45a01b[_0x1e5a65(0x106)]['display']=_0x1e5a65(0x18a);else{_0x5cd992[_0x1e5a65(0x106)][_0x1e5a65(0x104)]='none',_0x513344[_0x1e5a65(0x106)][_0x1e5a65(0x104)]=_0x1e5a65(0x18a),_0x45a01b[_0x1e5a65(0x106)]['display']=_0x1e5a65(0x195);let _0x5d30b6=_0xb6ebe7===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x1e5a65(0x1cc)+_0xb6ebe7+_0x1e5a65(0x1d1);_0x45a01b['textContent']=_0x1e5a65(0x115)+_0x5d30b6+_0x1e5a65(0x158);}}document[_0x1e5a65(0x179)](_0x1e5a65(0x10e))[_0x1e5a65(0x1de)]['add']('active'),document[_0x1e5a65(0x179)]('detailsSheet')['classList']['add'](_0x1e5a65(0x143));}function closeAllSheets(){const _0x56d371=a3_0x415969;document[_0x56d371(0x179)]('overlay')[_0x56d371(0x1de)]['remove'](_0x56d371(0x10a)),document[_0x56d371(0x144)](_0x56d371(0x1ae))[_0x56d371(0x1c0)](_0x33a24c=>_0x33a24c[_0x56d371(0x1de)][_0x56d371(0x177)](_0x56d371(0x143)));}function openSheet(_0x2c7e41){const _0x4f9fe6=a3_0x415969;document[_0x4f9fe6(0x179)](_0x4f9fe6(0x10e))[_0x4f9fe6(0x1de)][_0x4f9fe6(0x1a4)](_0x4f9fe6(0x10a)),document[_0x4f9fe6(0x179)](_0x2c7e41)[_0x4f9fe6(0x1de)][_0x4f9fe6(0x1a4)](_0x4f9fe6(0x143));}function getLocalDateStr(_0x4427ac){const _0x41e9ea=a3_0x415969,_0x593236=_0x4427ac[_0x41e9ea(0x1b7)](),_0x137f50=String(_0x4427ac[_0x41e9ea(0x160)]()+0x1)[_0x41e9ea(0x127)](0x2,'0'),_0x1e85a3=String(_0x4427ac[_0x41e9ea(0x173)]())[_0x41e9ea(0x127)](0x2,'0');return _0x593236+'-'+_0x137f50+'-'+_0x1e85a3;}function a3_0x10a3(){const _0x8f0949=['onclick','detailsSheet','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','div','split','getTime','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','(((.+)+)+)+$','block','<div\x20class=\x22rs-day-name\x22>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','round','querySelector','dateStr','calc(','sort','day-off-overlay\x20stripe-bg','firstChild','total','POST','event-card','detTime','apply','add','T23:59:59','onClick','cancelled','find','\x20-\x20','BackButton','#0a84ff','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','appendChild','.sheet','Unknown','4340277ibzCej','push','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','getMinutes','long','</div><div\x20class=\x22rs-day-num\x22>','color','getFullYear','search','cancelHint','loadLocal','offsetWidth','done','href','blocked-slot\x20stripe-bg','#050505','forEach','cid','getDay','Telegram','sid','visible','zIndex','backgroundPosition','headerMonth','seriesId','anTotalStats','\x20–≤\x20','–∑–∞\x20','getHours','ccText','getAttribute','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20—á.','Critical\x20TMA\x20Error:','<div\x20class=\x22dch-day\x22>','.period-switch\x20.p-btn','timeColumn','scroll','client_cancel','634362NPIdSL','pattern','innerHTML','ccTitle','log','className','classList','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','max','day-column\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','filter','anStart','cancel_window','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','planned','completed','%\x20+\x202px)','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','keys','then','matrixViewport','anEnd','anDonutCircle','get_slots','ru-RU','floor','76228GEYFOO','week','top','offClick','disableVerticalSwipes','flex','scrollLeft','applyData','toString','coachId','length','saveLocally','value','display','start','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','exceptions','–û—Ç–º–µ–Ω–µ–Ω–æ','active','initData','width','data-date','overlay','end','globalTimeLine','.day-column','</div><div\x20class=\x22dch-num\x22>','day-col-header\x20','setHours','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','test','rgba(','error','scrollWidth','stringify','detStatus','blocked-range-part\x20stripe-bg','10DShRZo','reschedule','parse','data','expand','.rs-date-chip','isArray','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','strokeDashoffset','calendar','padStart','cancelContainer','var(--acc-green)','slice','rsSlotsGrid','setDate','data-day-idx','json','setHeaderColor','setItem','rsDatesTrack','insertBefore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','entries','show','offsetLeft','DOMContentLoaded','coach_profiles','px\x20-','daysHeaderTrack','router.html','toLocaleDateString','height','stopPropagation','gridColumns',':00</span>','clientWidth','open','querySelectorAll','36gxiGVH','#ff453a','user','rs-time-btn','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','clients','map','settings','syncLoad','substring','ranges','uc_client_sessions','setMonth','\x20status-completed','Error\x20setting\x20back\x20button:','1342096dsAEjc','rgba(10,\x20132,\x20255,\x20','10UiKmdw','min','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','getItem','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','.btn-reschedule','client_load','6265476KonNKg','toUpperCase','ready','getMonth','substr','customConfirm','createElement','textContent','Error\x20setting\x20color:','charAt','setAttribute','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','%\x20-\x204px)','</div>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detDate','createDocumentFragment','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','WebApp','timeLineBadge','constructor','addEventListener','getDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','now','remove','var(--acc-blue)','getElementById','scrollTop','fontWeight','colIndex','mini','month','left','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','status','T00:00:00','initDataUnsafe','465576CpPmhf','startsWith','anCustomDates','today','v9.5-CLIENT-ANALYTICS','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','none','uc_client_settings','1531014ZuPaPa'];a3_0x10a3=function(){return _0x8f0949;};return a3_0x10a3();}function getStartOfWeek(_0x13ef25){const _0x1c0377=a3_0x415969,_0x19300e=new Date(_0x13ef25),_0x4de2cf=_0x19300e[_0x1c0377(0x1c2)](),_0x293d3a=_0x19300e[_0x1c0377(0x173)]()-_0x4de2cf+(_0x4de2cf===0x0?-0x6:0x1);return _0x19300e[_0x1c0377(0x12c)](_0x293d3a),_0x19300e['setHours'](0x0,0x0,0x0,0x0),_0x19300e;}function scrollToToday(){const _0x1bf123=getLocalDateStr(new Date());setTimeout(()=>{const _0x162ed1=a3_0x104b,_0x259cd6=document[_0x162ed1(0x199)]('.day-col-header[data-date=\x22'+_0x1bf123+'\x22]');if(_0x259cd6){const _0x33d437=document['getElementById'](_0x162ed1(0x1ee)),_0x323d00=_0x259cd6[_0x162ed1(0x137)]-_0x33d437[_0x162ed1(0x142)]/0x2+_0x259cd6[_0x162ed1(0x1bb)]/0x2;_0x33d437['scrollTo']({'left':_0x323d00,'behavior':'auto'}),_0x33d437[_0x162ed1(0x17a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4d5bfb=a3_0x415969,_0x267ca4=new Date(),_0x5bf4b1=document[_0x4d5bfb(0x179)](_0x4d5bfb(0x110)),_0x3fd53d=document[_0x4d5bfb(0x179)](_0x4d5bfb(0x170)),_0x47dfc8=(_0x267ca4[_0x4d5bfb(0x1cd)]()*0x3c+_0x267ca4[_0x4d5bfb(0x1b3)]())/0x3c*GRID_H;_0x5bf4b1[_0x4d5bfb(0x106)][_0x4d5bfb(0x1f6)]=_0x47dfc8+'px',_0x5bf4b1[_0x4d5bfb(0x106)][_0x4d5bfb(0x104)]=_0x4d5bfb(0x195),_0x3fd53d[_0x4d5bfb(0x106)][_0x4d5bfb(0x1f6)]=_0x47dfc8+'px',_0x3fd53d[_0x4d5bfb(0x106)][_0x4d5bfb(0x104)]=_0x4d5bfb(0x195),_0x3fd53d['textContent']=String(_0x267ca4[_0x4d5bfb(0x1cd)]())[_0x4d5bfb(0x127)](0x2,'0')+':'+String(_0x267ca4[_0x4d5bfb(0x1b3)]())[_0x4d5bfb(0x127)](0x2,'0');}function onScroll(){const _0x489a67=a3_0x415969,_0x399f91=document['getElementById'](_0x489a67(0x1ee)),_0x188520=document[_0x489a67(0x144)]('.day-col-header');for(let _0x49cdba of _0x188520)if(_0x49cdba['offsetLeft']>=_0x399f91[_0x489a67(0x1fa)]){const _0xd3ff16=new Date(_0x49cdba[_0x489a67(0x1cf)](_0x489a67(0x10d)));document[_0x489a67(0x179)](_0x489a67(0x1c8))[_0x489a67(0x164)]=_0xd3ff16['toLocaleString']('ru',{'month':_0x489a67(0x1b4)})[_0x489a67(0x15e)]()+'\x20'+_0xd3ff16[_0x489a67(0x1b7)]();break;}}function showToast(_0x488b62){const _0x917af3=a3_0x415969,_0x112c2a=document[_0x917af3(0x179)]('toast');_0x112c2a[_0x917af3(0x164)]=_0x488b62,_0x112c2a[_0x917af3(0x1de)][_0x917af3(0x1a4)](_0x917af3(0x136)),setTimeout(()=>_0x112c2a[_0x917af3(0x1de)][_0x917af3(0x177)](_0x917af3(0x136)),0x7d0);}function handleInfiniteScroll(){const _0x2b09d8=a3_0x415969,_0xf0b354=document['getElementById'](_0x2b09d8(0x1ee)),_0x29abcb=_0xf0b354[_0x2b09d8(0x1fa)],_0x19c3c=_0xf0b354[_0x2b09d8(0x119)],_0x33b097=_0xf0b354[_0x2b09d8(0x142)];if(_0x19c3c-(_0x29abcb+_0x33b097)<0x12c){const _0x5b1b55=endOffset;endOffset+=0xe,renderDayRange(_0x5b1b55+0x1,endOffset),reRenderBlocks();}if(_0x29abcb<0x12c){const _0x151525=startOffset;startOffset-=0xe,prependDays(startOffset,_0x151525-0x1),_0xf0b354[_0x2b09d8(0x1fa)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1cc8e7,_0x11f0e7){const _0x43ce98=a3_0x415969,_0x2aef44=document[_0x43ce98(0x179)](_0x43ce98(0x13b)),_0x1418ba=document[_0x43ce98(0x179)](_0x43ce98(0x140)),_0x4d1a0b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15bf18=new Date();_0x15bf18['setHours'](0x0,0x0,0x0,0x0);const _0x1123f5=getLocalDateStr(new Date()),_0x5cbaf0=document['createDocumentFragment'](),_0xf1a57f=document[_0x43ce98(0x16d)]();for(let _0x433bc8=_0x1cc8e7;_0x433bc8<=_0x11f0e7;_0x433bc8++){const _0x27d34c=new Date(_0x15bf18);_0x27d34c[_0x43ce98(0x12c)](_0x27d34c[_0x43ce98(0x173)]()+_0x433bc8);const _0x26da50=getLocalDateStr(_0x27d34c);let _0x238f7c=_0x27d34c[_0x43ce98(0x1c2)]()-0x1;if(_0x238f7c===-0x1)_0x238f7c=0x6;const _0x4c2fab=_0x26da50===_0x1123f5,_0x2ed8aa=document['createElement']('div');_0x2ed8aa[_0x43ce98(0x1dd)]=_0x43ce98(0x113)+(_0x4c2fab?_0x43ce98(0x187):''),_0x2ed8aa[_0x43ce98(0x167)](_0x43ce98(0x10d),_0x26da50),_0x2ed8aa[_0x43ce98(0x1da)]=_0x43ce98(0x1d3)+_0x4d1a0b[_0x238f7c]+_0x43ce98(0x112)+_0x27d34c[_0x43ce98(0x173)]()+_0x43ce98(0x16a),_0x5cbaf0['appendChild'](_0x2ed8aa);const _0x46e457=document['createElement'](_0x43ce98(0x190));_0x46e457[_0x43ce98(0x1dd)]=_0x43ce98(0x1e1)+(_0x4c2fab?'today':''),_0x46e457[_0x43ce98(0x167)]('data-date',_0x26da50),_0x46e457['setAttribute'](_0x43ce98(0x12d),_0x238f7c),_0xf1a57f['appendChild'](_0x46e457);}_0x2aef44['insertBefore'](_0x5cbaf0,_0x2aef44['firstChild']),_0x1418ba[_0x43ce98(0x132)](_0xf1a57f,_0x1418ba[_0x43ce98(0x199)](_0x43ce98(0x111)));}function hexToRgba(_0x11eaf5,_0x1f3020){const _0x37f631=a3_0x415969;let _0x5be48c;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x37f631(0x116)](_0x11eaf5))return _0x5be48c=_0x11eaf5[_0x37f631(0x14e)](0x1)[_0x37f631(0x191)](''),_0x5be48c[_0x37f631(0x1fe)]==0x3&&(_0x5be48c=[_0x5be48c[0x0],_0x5be48c[0x0],_0x5be48c[0x1],_0x5be48c[0x1],_0x5be48c[0x2],_0x5be48c[0x2]]),_0x5be48c='0x'+_0x5be48c['join'](''),_0x37f631(0x117)+[_0x5be48c>>0x10&0xff,_0x5be48c>>0x8&0xff,_0x5be48c&0xff]['join'](',')+','+_0x1f3020+')';return _0x37f631(0x155)+_0x1f3020+')';}let confirmResolver=null;function showCustomConfirm(_0x1d0ac0,_0x55c9e4,_0x2ae8ab=!![]){const _0x1d5d58=a3_0x415969;document['getElementById'](_0x1d5d58(0x1db))[_0x1d5d58(0x164)]=_0x1d0ac0,document[_0x1d5d58(0x179)](_0x1d5d58(0x1ce))['textContent']=_0x55c9e4;const _0x42a87e=document[_0x1d5d58(0x179)]('ccYesBtn');return _0x2ae8ab?(_0x42a87e['style'][_0x1d5d58(0x1b6)]=_0x1d5d58(0x146),_0x42a87e[_0x1d5d58(0x106)]['fontWeight']='600'):(_0x42a87e[_0x1d5d58(0x106)][_0x1d5d58(0x1b6)]='#0a84ff',_0x42a87e[_0x1d5d58(0x106)][_0x1d5d58(0x17b)]='600'),new Promise(_0x1b2baa=>{const _0x4565a4=_0x1d5d58;confirmResolver=_0x1b2baa,document['getElementById'](_0x4565a4(0x162))[_0x4565a4(0x1de)][_0x4565a4(0x1a4)](_0x4565a4(0x1c5));});}function resolveCustomConfirm(_0x249f7e){const _0x1b6cd9=a3_0x415969;document[_0x1b6cd9(0x179)](_0x1b6cd9(0x162))[_0x1b6cd9(0x1de)]['remove']('visible');if(confirmResolver)confirmResolver(_0x249f7e);}async function tryCancelCurrentSession(){const _0xacf1af=a3_0x415969;if(!currentSession)return;const _0x243465=await showCustomConfirm(_0xacf1af(0x1e3),_0xacf1af(0x193),!![]);if(!_0x243465)return;const _0x515ce0=currentSession;closeAllSheets(),sessions=sessions[_0xacf1af(0x1e4)](_0x118927=>_0x118927['id']!==_0x515ce0['id']),reRenderBlocks(),showToast(_0xacf1af(0x109)),lastUserActionTime=Date[_0xacf1af(0x176)]();try{const _0x31a35a=window[_0xacf1af(0x1c3)]?.[_0xacf1af(0x16f)],_0x597292=await fetch(API_URL,{'method':_0xacf1af(0x1a0),'body':JSON['stringify']({'action':_0xacf1af(0x1d7),'init_data':_0x31a35a?.[_0xacf1af(0x10b)]||'','coachId':_0x515ce0[_0xacf1af(0x1fd)],'dateStr':_0x515ce0[_0xacf1af(0x19a)],'sessionId':_0x515ce0['id']})});if(_0x597292['ok'])DataManager[_0xacf1af(0x102)]();}catch(_0x1602d7){showToast(_0xacf1af(0x16e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3bf008=a3_0x415969;if(!currentSession)return;document[_0x3bf008(0x179)](_0x3bf008(0x18e))['classList'][_0x3bf008(0x177)](_0x3bf008(0x143)),document[_0x3bf008(0x179)]('rescheduleSheet')[_0x3bf008(0x1de)][_0x3bf008(0x1a4)](_0x3bf008(0x143));const _0x31c21a=document[_0x3bf008(0x179)]('rsDatesTrack'),_0x126264=document[_0x3bf008(0x179)](_0x3bf008(0x12b));_0x31c21a['innerHTML']='',_0x126264['innerHTML']=_0x3bf008(0x189);const [_0x5f1a52,_0x3e42a0]=currentSession['start']['split'](':')[_0x3bf008(0x14b)](Number),[_0x5323e6,_0x71ab78]=currentSession[_0x3bf008(0x10f)][_0x3bf008(0x191)](':')[_0x3bf008(0x14b)](Number),_0x434f52=_0x5323e6*0x3c+_0x71ab78-(_0x5f1a52*0x3c+_0x3e42a0);try{const _0x49847a=window['Telegram']?.[_0x3bf008(0x16f)],_0xc5b837=await fetch(API_URL,{'method':_0x3bf008(0x1a0),'body':JSON[_0x3bf008(0x11a)]({'action':_0x3bf008(0x1f1),'coachId':currentSession['coachId'],'duration':_0x434f52,'init_data':_0x49847a?.[_0x3bf008(0x10b)]||'','excludeSessionId':currentSession['id']})}),_0x288d0f=await _0xc5b837[_0x3bf008(0x12e)]();_0x288d0f['ok']&&_0x288d0f[_0x3bf008(0x120)]?(availableSlotsCache=_0x288d0f[_0x3bf008(0x120)],renderRescheduleDates()):_0x126264[_0x3bf008(0x1da)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x36a8ea){_0x126264[_0x3bf008(0x1da)]=_0x3bf008(0x1e2);}}function renderRescheduleDates(){const _0x3586f8=a3_0x415969,_0xa83e0a=document[_0x3586f8(0x179)](_0x3586f8(0x131));_0xa83e0a[_0x3586f8(0x1da)]='';const _0x45baec=Object[_0x3586f8(0x1ec)](availableSlotsCache)['sort'](),_0x1dc460=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x45baec[_0x3586f8(0x1fe)]===0x0){document[_0x3586f8(0x179)](_0x3586f8(0x12b))[_0x3586f8(0x1da)]=_0x3586f8(0x1df);return;}_0x45baec[_0x3586f8(0x1c0)]((_0x239c9a,_0x40bfa9)=>{const _0x14ce94=_0x3586f8,_0x19c9e1=new Date(_0x239c9a),_0x505107=_0x1dc460[_0x19c9e1['getDay']()],_0x5e062d=_0x19c9e1['getDate'](),_0x17dca7=document[_0x14ce94(0x163)]('div');_0x17dca7[_0x14ce94(0x1dd)]='rs-date-chip';if(_0x40bfa9===0x0)_0x17dca7['classList'][_0x14ce94(0x1a4)](_0x14ce94(0x10a));_0x17dca7[_0x14ce94(0x1da)]=_0x14ce94(0x196)+_0x505107+_0x14ce94(0x1b5)+_0x5e062d+_0x14ce94(0x16a),_0x17dca7[_0x14ce94(0x18d)]=()=>selectRsDate(_0x239c9a,_0x17dca7),_0xa83e0a['appendChild'](_0x17dca7);}),selectRsDate(_0x45baec[0x0],_0xa83e0a[_0x3586f8(0x19e)]);}function selectRsDate(_0x5b56f0,_0x574c49){const _0x112993=a3_0x415969;selectedRsDate=_0x5b56f0,document['querySelectorAll'](_0x112993(0x122))[_0x112993(0x1c0)](_0x50eb31=>_0x50eb31[_0x112993(0x1de)][_0x112993(0x177)]('active'));if(_0x574c49)_0x574c49[_0x112993(0x1de)][_0x112993(0x1a4)](_0x112993(0x10a));const _0x5c9ceb=document[_0x112993(0x179)](_0x112993(0x12b));_0x5c9ceb['innerHTML']='';const _0x4510c6=availableSlotsCache[_0x5b56f0]||[];if(_0x4510c6[_0x112993(0x1fe)]===0x0){_0x5c9ceb['innerHTML']=_0x112993(0x149);return;}_0x4510c6['forEach'](_0xde4749=>{const _0x3d54de=_0x112993,_0x311748=document['createElement']('button');_0x311748[_0x3d54de(0x1dd)]=_0x3d54de(0x148),_0x311748['textContent']=_0xde4749,_0x311748[_0x3d54de(0x18d)]=()=>confirmReschedule(_0xde4749),_0x5c9ceb['appendChild'](_0x311748);});}async function confirmReschedule(_0x11dd4f){const _0x204db8=a3_0x415969,_0x4e071b=new Date(selectedRsDate),_0x47b0ac=_0x4e071b[_0x204db8(0x13d)](_0x204db8(0x1f2),{'day':_0x204db8(0x134),'month':_0x204db8(0x1b4)}),_0x1704e2=await showCustomConfirm(_0x204db8(0x1e7),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x47b0ac+_0x204db8(0x1cb)+_0x11dd4f+'?',![]);if(!_0x1704e2)return;closeAllSheets(),showToast(_0x204db8(0x180)),lastUserActionTime=Date[_0x204db8(0x176)]();const _0x3ff3dd=currentSession['dateStr'],_0x43b74a=currentSession['id'],[_0x759f7,_0x41a3fb]=currentSession['start']['split'](':')[_0x204db8(0x14b)](Number),[_0x18abae,_0xda0c8f]=currentSession['end'][_0x204db8(0x191)](':')[_0x204db8(0x14b)](Number),_0x192ab5=_0x18abae*0x3c+_0xda0c8f-(_0x759f7*0x3c+_0x41a3fb),[_0x420499,_0x2612f1]=_0x11dd4f[_0x204db8(0x191)](':')[_0x204db8(0x14b)](Number),_0x5306de=_0x420499*0x3c+_0x2612f1+_0x192ab5,_0x5df7f9=Math[_0x204db8(0x1f3)](_0x5306de/0x3c),_0x5124f6=_0x5306de%0x3c,_0x112a72=String(_0x5df7f9)[_0x204db8(0x127)](0x2,'0')+':'+String(_0x5124f6)[_0x204db8(0x127)](0x2,'0'),_0x3d3ca0=sessions['findIndex'](_0x2b6a19=>_0x2b6a19['id']===_0x43b74a);_0x3d3ca0!==-0x1&&(sessions[_0x3d3ca0][_0x204db8(0x19a)]=selectedRsDate,sessions[_0x3d3ca0]['start']=_0x11dd4f,sessions[_0x3d3ca0][_0x204db8(0x10f)]=_0x112a72,reRenderBlocks());try{const _0x3228cb=window[_0x204db8(0x1c3)]?.['WebApp'],_0x1469f3=await fetch(API_URL,{'method':'POST','body':JSON[_0x204db8(0x11a)]({'action':_0x204db8(0x11e),'init_data':_0x3228cb?.['initData']||'','oldSessionId':_0x43b74a,'oldDate':_0x3ff3dd,'newDate':selectedRsDate,'newTime':_0x11dd4f,'coachId':currentSession['coachId']})}),_0x336557=await _0x1469f3['json']();!_0x336557['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x204db8(0x14d)]()):(showToast(_0x204db8(0x124)),DataManager[_0x204db8(0x102)]());}catch(_0x5c811e){showToast(_0x204db8(0x16e));}}function a3_0x104b(_0x1784e6,_0x2c45bc){_0x1784e6=_0x1784e6-0x102;const _0x1e3f5e=a3_0x10a3();let _0x52d8fe=_0x1e3f5e[_0x1784e6];return _0x52d8fe;}document['addEventListener'](a3_0x415969(0x138),init);