const a3_0x40d2b2=a3_0x5f22;(function(_0x55aadc,_0x538cdc){const _0x3a3f44=a3_0x5f22,_0x50d624=_0x55aadc();while(!![]){try{const _0x1cad2c=parseInt(_0x3a3f44(0x19b))/0x1+parseInt(_0x3a3f44(0x14a))/0x2+-parseInt(_0x3a3f44(0x11b))/0x3*(-parseInt(_0x3a3f44(0x173))/0x4)+parseInt(_0x3a3f44(0xd3))/0x5+-parseInt(_0x3a3f44(0xd1))/0x6+-parseInt(_0x3a3f44(0x18a))/0x7*(-parseInt(_0x3a3f44(0xe1))/0x8)+-parseInt(_0x3a3f44(0x1af))/0x9;if(_0x1cad2c===_0x538cdc)break;else _0x50d624['push'](_0x50d624['shift']());}catch(_0x40e419){_0x50d624['push'](_0x50d624['shift']());}}}(a3_0x3550,0x46089));const APP_VERSION=a3_0x40d2b2(0x11f),API_URL=a3_0x40d2b2(0xe0),GRID_H=0x3c,KEY_SESSIONS=a3_0x40d2b2(0x14b),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x40d2b2(0x122);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x40d2b2(0x153),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x31bdc8=a3_0x40d2b2,_0x58142e=(function(){let _0x32a481=!![];return function(_0x518ad7,_0x31a369){const _0x45b12d=_0x32a481?function(){const _0x47432b=a3_0x5f22;if(_0x31a369){const _0x122e15=_0x31a369[_0x47432b(0x103)](_0x518ad7,arguments);return _0x31a369=null,_0x122e15;}}:function(){};return _0x32a481=![],_0x45b12d;};}()),_0x42e7a5=_0x58142e(this,function(){const _0x7d859b=a3_0x5f22;return _0x42e7a5[_0x7d859b(0x14d)]()[_0x7d859b(0x184)](_0x7d859b(0x180))[_0x7d859b(0x14d)]()[_0x7d859b(0x161)](_0x42e7a5)['search'](_0x7d859b(0x180));});_0x42e7a5();try{const _0x166cd0=window[_0x31bdc8(0x10c)]?.[_0x31bdc8(0x14c)];if(!_0x166cd0)return;_0x166cd0['ready'](),_0x166cd0[_0x31bdc8(0xfa)]();try{_0x166cd0['setHeaderColor'](_0x31bdc8(0x16d)),_0x166cd0[_0x31bdc8(0x187)]&&_0x166cd0[_0x31bdc8(0x187)](_0x31bdc8(0x16d));}catch(_0x2cac20){console[_0x31bdc8(0x1a4)](_0x31bdc8(0x109),_0x2cac20);}try{_0x166cd0['BackButton']&&(_0x166cd0[_0x31bdc8(0xc4)]['show'](),_0x166cd0['BackButton'][_0x31bdc8(0xeb)](),_0x166cd0[_0x31bdc8(0xc4)]['onClick'](function(){const _0x601295=_0x31bdc8;window[_0x601295(0xc7)][_0x601295(0xfd)]=_0x601295(0x1ba);}));}catch(_0xa5eb1a){console[_0x31bdc8(0x1a4)](_0x31bdc8(0xec),_0xa5eb1a);}try{if(_0x166cd0[_0x31bdc8(0x1a8)])_0x166cd0[_0x31bdc8(0x1a8)]();}catch(_0x54f73f){}}catch(_0x5ec181){console[_0x31bdc8(0xca)]('Critical\x20TMA\x20Error:',_0x5ec181);}}());function isAdmin(){const _0x31f0ec=a3_0x40d2b2;try{const _0x56b5fc=Number(window[_0x31f0ec(0x10c)]?.[_0x31f0ec(0x14c)]?.[_0x31f0ec(0xee)]?.[_0x31f0ec(0x1a0)]?.['id']);return _0x56b5fc===0xbaf7174;}catch(_0x3426d7){return![];}}const DataManager={'saveLocally'(){const _0xfc64=a3_0x40d2b2;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0xfc64(0xf6)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0xfc64(0xf6)](clients)),localStorage[_0xfc64(0x155)](KEY_SETTINGS,JSON[_0xfc64(0xf6)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xb120e4){}},'loadLocal'(){const _0x1f8813=a3_0x40d2b2;try{const _0x47c972=localStorage[_0x1f8813(0x15b)](KEY_SESSIONS);if(_0x47c972)sessions=JSON['parse'](_0x47c972);const _0x846e27=localStorage['getItem'](KEY_CLIENTS);if(_0x846e27)clients=JSON[_0x1f8813(0xdd)](_0x846e27);const _0x23b006=localStorage[_0x1f8813(0x15b)](KEY_SETTINGS);if(_0x23b006){const _0x3e2e3f=JSON[_0x1f8813(0xdd)](_0x23b006);if(_0x3e2e3f[_0x1f8813(0x1a1)])availabilityPattern=_0x3e2e3f['pattern'];if(_0x3e2e3f[_0x1f8813(0x196)])specialRanges=_0x3e2e3f[_0x1f8813(0x196)];if(_0x3e2e3f[_0x1f8813(0x1b9)])dateExceptions=_0x3e2e3f[_0x1f8813(0x1b9)];}}catch(_0x2220a6){}},async 'syncLoad'(){const _0x366fa5=a3_0x40d2b2,_0x2eef86=new Date(),_0x3dc248=_0x2eef86['getFullYear']()+'-'+String(_0x2eef86[_0x366fa5(0x18b)]()+0x1)[_0x366fa5(0xc2)](0x2,'0'),_0x53b189=new Date(_0x2eef86);_0x53b189['setMonth'](_0x2eef86[_0x366fa5(0x18b)]()+0x1);const _0x5acc08=_0x53b189[_0x366fa5(0x128)]()+'-'+String(_0x53b189[_0x366fa5(0x18b)]()+0x1)[_0x366fa5(0xc2)](0x2,'0'),_0x48390f=Date[_0x366fa5(0xe5)]();try{const _0x1ee959=window[_0x366fa5(0x10c)]?.[_0x366fa5(0x14c)],_0x246458=_0x1ee959?.[_0x366fa5(0x114)]||'',[_0x3a0f84,_0x108258]=await Promise[_0x366fa5(0x137)]([fetch(API_URL,{'method':_0x366fa5(0x190),'body':JSON[_0x366fa5(0xf6)]({'action':_0x366fa5(0x101),'init_data':_0x246458,'month_str':_0x3dc248})})[_0x366fa5(0x1b5)](_0x40afa0=>_0x40afa0[_0x366fa5(0x1b6)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x366fa5(0xf6)]({'action':_0x366fa5(0x101),'init_data':_0x246458,'month_str':_0x5acc08})})['then'](_0x1638c4=>_0x1638c4[_0x366fa5(0x1b6)]())]);if(lastUserActionTime>_0x48390f){console[_0x366fa5(0x1a4)](_0x366fa5(0x150));return;}if(_0x3a0f84['ok'])this[_0x366fa5(0x13c)](_0x3a0f84[_0x366fa5(0x119)],_0x3dc248);if(_0x108258['ok'])this['applyData'](_0x108258[_0x366fa5(0x119)],_0x5acc08);this[_0x366fa5(0x1ac)]();}catch(_0x24ef7c){}},'applyData'(_0x5ec167,_0xf8d9e){const _0x39ccd4=a3_0x40d2b2;if(!_0x5ec167)return;if(_0x5ec167[_0x39ccd4(0x181)]){if(_0x5ec167[_0x39ccd4(0x181)][_0x39ccd4(0x1a1)])availabilityPattern=_0x5ec167['settings'][_0x39ccd4(0x1a1)];if(_0x5ec167[_0x39ccd4(0x181)]['ranges'])specialRanges=_0x5ec167[_0x39ccd4(0x181)][_0x39ccd4(0x196)];if(_0x5ec167[_0x39ccd4(0x181)][_0x39ccd4(0x1b9)])dateExceptions=_0x5ec167[_0x39ccd4(0x181)][_0x39ccd4(0x1b9)];}if(_0x5ec167['clients']&&Array[_0x39ccd4(0x159)](_0x5ec167[_0x39ccd4(0x17f)]))clients=_0x5ec167[_0x39ccd4(0x17f)];_0x5ec167[_0x39ccd4(0xc6)]&&(coachProfiles={...coachProfiles,..._0x5ec167['coach_profiles']}),_0x5ec167[_0x39ccd4(0x120)]&&(sessions=sessions[_0x39ccd4(0x154)](_0x266dfb=>!_0x266dfb['dateStr']['startsWith'](_0xf8d9e)),Object[_0x39ccd4(0x14f)](_0x5ec167[_0x39ccd4(0x120)])[_0x39ccd4(0x160)](_0x319ab4=>{const _0xc29e8b=_0x39ccd4,_0x5adca0=_0x5ec167[_0xc29e8b(0x120)][_0x319ab4];_0x5adca0[_0xc29e8b(0x160)](_0x39e729=>{const _0xaab4d4=_0xc29e8b;sessions[_0xaab4d4(0x102)]({'id':_0x39e729['i'],'clientId':_0x39e729['c'],'coachId':_0x39e729[_0xaab4d4(0xf5)],'dateStr':_0xf8d9e+'-'+_0x319ab4[_0xaab4d4(0xc2)](0x2,'0'),'start':_0x39e729['s'],'end':_0x39e729['e'],'note':_0x39e729['n']||'','status':_0x39e729['st']||_0xaab4d4(0xe6),'seriesId':_0x39e729[_0xaab4d4(0x118)]});});})),reRenderBlocks();}};function init(){const _0x5e0783=a3_0x40d2b2;DataManager[_0x5e0783(0xe2)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5e0783(0x123)](_0x5e0783(0x12c))['addEventListener'](_0x5e0783(0x136),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x20d621=a3_0x40d2b2,_0x55304a=document[_0x20d621(0x123)](_0x20d621(0xcd)),_0x3c5135=document[_0x20d621(0x123)](_0x20d621(0xe3));_0x55304a[_0x20d621(0xff)]='',_0x55304a['appendChild'](_0x3c5135);for(let _0x2c160b=0x0;_0x2c160b<0x18;_0x2c160b++){const _0x14ce6=document[_0x20d621(0x199)]('div');_0x14ce6['className']='time-label';if(_0x2c160b>0x0)_0x14ce6[_0x20d621(0xff)]='<span>'+String(_0x2c160b)[_0x20d621(0xc2)](0x2,'0')+_0x20d621(0x189);_0x55304a[_0x20d621(0x18d)](_0x14ce6);}}function renderDayRange(_0x10cab2,_0x5e9dd5){const _0x316718=a3_0x40d2b2,_0x54ce28=document['getElementById'](_0x316718(0x1a3)),_0x395049=document[_0x316718(0x123)]('gridColumns'),_0x451690=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c92ce=new Date();_0x4c92ce[_0x316718(0x18e)](0x0,0x0,0x0,0x0);const _0x3e1618=getLocalDateStr(new Date());for(let _0x54fa52=_0x10cab2;_0x54fa52<=_0x5e9dd5;_0x54fa52++){const _0x340eab=new Date(_0x4c92ce);_0x340eab['setDate'](_0x340eab[_0x316718(0x11e)]()+_0x54fa52);const _0x51f5ad=getLocalDateStr(_0x340eab);let _0x133399=_0x340eab[_0x316718(0x19c)]()-0x1;if(_0x133399===-0x1)_0x133399=0x6;const _0x53808c=_0x51f5ad===_0x3e1618,_0x537342=document[_0x316718(0x199)](_0x316718(0x188));_0x537342['className']=_0x316718(0x171)+(_0x53808c?'today':''),_0x537342[_0x316718(0x179)](_0x316718(0x197),_0x51f5ad),_0x537342[_0x316718(0xff)]=_0x316718(0xe8)+_0x451690[_0x133399]+_0x316718(0x10a)+_0x340eab[_0x316718(0x11e)]()+_0x316718(0xd2),_0x54ce28[_0x316718(0x18d)](_0x537342);const _0x4be729=document[_0x316718(0x199)](_0x316718(0x188));_0x4be729[_0x316718(0x100)]='day-column\x20'+(_0x53808c?'today':''),_0x4be729[_0x316718(0x179)](_0x316718(0x197),_0x51f5ad),_0x4be729[_0x316718(0x179)](_0x316718(0x163),_0x133399),_0x395049[_0x316718(0x18d)](_0x4be729);}}function reRenderBlocks(){const _0x35f071=a3_0x40d2b2;document[_0x35f071(0x113)](_0x35f071(0xd9))['forEach'](_0x15ca13=>{const _0x271bae=_0x35f071;_0x15ca13['querySelectorAll'](_0x271bae(0x1b0))['forEach'](_0x3ec1de=>_0x3ec1de[_0x271bae(0x13f)]());const _0x3a5245=_0x15ca13[_0x271bae(0x139)](_0x271bae(0x197)),_0x3af2cb=parseInt(_0x15ca13[_0x271bae(0x139)]('data-day-idx')),_0x415bee=Math[_0x271bae(0x169)](_0x15ca13[_0x271bae(0x1a6)]);(availabilityPattern[_0x3af2cb]||[])[_0x271bae(0x160)](_0x2ef188=>{const _0x376957=_0x271bae,_0x1dfaac=document['createElement'](_0x376957(0x188));_0x1dfaac[_0x376957(0x100)]=_0x376957(0x1ae),_0x1dfaac['style'][_0x376957(0xd8)]=_0x2ef188*GRID_H+'px',_0x1dfaac[_0x376957(0x19a)][_0x376957(0x15c)]='-'+_0x415bee+_0x376957(0x117)+_0x2ef188*GRID_H+'px',_0x15ca13['appendChild'](_0x1dfaac);});if(specialRanges[_0x271bae(0x152)]>0x0){const _0x168b8e=new Date(_0x3a5245+_0x271bae(0x105))[_0x271bae(0x143)](),_0x4edec3=new Date(_0x3a5245+_0x271bae(0x1aa))['getTime']();specialRanges[_0x271bae(0x160)](_0x33eeca=>{const _0x181ca8=_0x271bae,_0x5458d4=new Date(_0x33eeca['start'])[_0x181ca8(0x143)](),_0x21b073=new Date(_0x33eeca[_0x181ca8(0x104)])[_0x181ca8(0x143)](),_0x29a2f0=Math[_0x181ca8(0x149)](_0x168b8e,_0x5458d4),_0x512ba2=Math[_0x181ca8(0x1a5)](_0x4edec3,_0x21b073);if(_0x29a2f0<_0x512ba2){const _0xe39831=(_0x29a2f0-_0x168b8e)/0x36ee80*GRID_H,_0x284c1b=(_0x512ba2-_0x29a2f0)/0x36ee80*GRID_H,_0x29e92c=document[_0x181ca8(0x199)](_0x181ca8(0x188));_0x284c1b>=23.5*GRID_H?(_0x29e92c['className']=_0x181ca8(0xd4),_0x29e92c[_0x181ca8(0x19a)][_0x181ca8(0x15c)]='-'+_0x415bee+_0x181ca8(0x170)):(_0x29e92c[_0x181ca8(0x100)]='blocked-range-part\x20stripe-bg',_0x29e92c['style']['top']=_0xe39831+'px',_0x29e92c[_0x181ca8(0x19a)][_0x181ca8(0x19f)]=_0x284c1b+'px',_0x29e92c[_0x181ca8(0x19a)][_0x181ca8(0x15c)]='-'+_0x415bee+'px\x20-'+_0xe39831+'px'),_0x15ca13[_0x181ca8(0x18d)](_0x29e92c);}});}renderEventsForColumn(_0x15ca13,_0x3a5245);});}function renderEventsForColumn(_0x2f9d83,_0x25d0be){const _0x3b3a21=a3_0x40d2b2,_0x533642=sessions[_0x3b3a21(0x154)](_0x22ab80=>_0x22ab80[_0x3b3a21(0xdf)]===_0x25d0be),_0x357aff=_0x533642['map'](_0x5015ee=>{const _0xa7be69=_0x3b3a21,[_0x26e750,_0x179854]=_0x5015ee['start']['split'](':')[_0xa7be69(0x1b4)](Number),[_0x189df2,_0x56bbe5]=_0x5015ee[_0xa7be69(0x104)][_0xa7be69(0x192)](':')[_0xa7be69(0x1b4)](Number);return{'data':_0x5015ee,'start':_0x26e750*0x3c+_0x179854,'end':_0x189df2*0x3c+_0x56bbe5,'colIndex':0x0};});_0x357aff[_0x3b3a21(0x15d)]((_0x27924a,_0x24a0c2)=>_0x27924a[_0x3b3a21(0x156)]-_0x24a0c2['start']||_0x24a0c2[_0x3b3a21(0x104)]-_0x24a0c2[_0x3b3a21(0x156)]-(_0x27924a['end']-_0x27924a[_0x3b3a21(0x156)]));const _0x55b9f0=[];_0x357aff['forEach'](_0x19bd3b=>{const _0x336ea5=_0x3b3a21;let _0x50b0d6=![];for(let _0x11b423=0x0;_0x11b423<_0x55b9f0[_0x336ea5(0x152)];_0x11b423++){const _0x4ce549=_0x55b9f0[_0x11b423];if(_0x19bd3b['start']>=_0x4ce549[_0x4ce549[_0x336ea5(0x152)]-0x1][_0x336ea5(0x104)]){_0x4ce549[_0x336ea5(0x102)](_0x19bd3b),_0x19bd3b['colIndex']=_0x11b423,_0x50b0d6=!![];break;}}!_0x50b0d6&&(_0x55b9f0['push']([_0x19bd3b]),_0x19bd3b['colIndex']=_0x55b9f0[_0x336ea5(0x152)]-0x1);}),_0x357aff[_0x3b3a21(0x160)](_0xf7c8f7=>{const _0x338b00=_0x3b3a21;let _0x4e6454=0x0;_0x357aff['forEach'](_0x241cac=>{const _0x1bc5b0=a3_0x5f22;if(Math[_0x1bc5b0(0x149)](_0xf7c8f7['start'],_0x241cac[_0x1bc5b0(0x156)])<Math[_0x1bc5b0(0x1a5)](_0xf7c8f7[_0x1bc5b0(0x104)],_0x241cac[_0x1bc5b0(0x104)])&&_0x241cac[_0x1bc5b0(0x18f)]>_0x4e6454)_0x4e6454=_0x241cac[_0x1bc5b0(0x18f)];});const _0x5cc1d9=_0x4e6454+0x1,_0x383565=0x64/_0x5cc1d9,_0x11b312=_0xf7c8f7[_0x338b00(0x18f)]*_0x383565,_0x555efb=document['createElement'](_0x338b00(0x188)),_0x311991=_0xf7c8f7['data'];let _0x55925a=_0x338b00(0x167);if(clients&&clients[_0x338b00(0x152)]>0x0){const _0x1dba5f=clients[_0x338b00(0x186)](_0x8d8a3c=>String(_0x8d8a3c['id'])===String(_0x311991['clientId']));if(_0x1dba5f&&_0x1dba5f[_0x338b00(0x144)])_0x55925a=_0x1dba5f[_0x338b00(0x144)];}const _0x58af87=_0x311991[_0x338b00(0x1a7)]==='completed',_0x435b98=_0x58af87?0x1:0.45;_0x555efb['className']=_0x338b00(0xd6)+(_0x58af87?_0x338b00(0x1b3):''),_0x555efb[_0x338b00(0x19a)][_0x338b00(0x116)]=hexToRgba(_0x55925a,_0x435b98),_0x555efb['style']['borderLeftColor']=_0x55925a;const _0x5375a0=_0xf7c8f7[_0x338b00(0x156)]/0x3c*GRID_H,_0x44fcf4=(_0xf7c8f7[_0x338b00(0x104)]-_0xf7c8f7[_0x338b00(0x156)])/0x3c*GRID_H;_0x555efb[_0x338b00(0x19a)][_0x338b00(0xd8)]=_0x5375a0+'px',_0x555efb[_0x338b00(0x19a)][_0x338b00(0x19f)]=Math[_0x338b00(0x149)](_0x44fcf4,0x14)+'px',_0x555efb[_0x338b00(0x19a)][_0x338b00(0x191)]=_0x338b00(0x131)+_0x383565+_0x338b00(0x12d),_0x555efb['style'][_0x338b00(0x165)]='calc('+_0x11b312+_0x338b00(0x1b1),_0x555efb[_0x338b00(0x19a)][_0x338b00(0x183)]=0xa+_0xf7c8f7[_0x338b00(0x18f)];if(_0x383565<0x55)_0x555efb['classList'][_0x338b00(0x112)](_0x338b00(0x126));let _0x36e911='';if(_0x311991[_0x338b00(0xd5)])_0x36e911+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x58af87)_0x36e911+=_0x338b00(0x17a);_0x555efb['innerHTML']=_0x338b00(0xe7)+_0x311991[_0x338b00(0x156)]+_0x338b00(0x1ab)+_0x311991[_0x338b00(0x104)]+_0x338b00(0x106)+_0x36e911+_0x338b00(0xd7),_0x555efb['onclick']=_0x346952=>{const _0x2eab76=_0x338b00;_0x346952[_0x2eab76(0x1bb)](),openDetails(_0x311991);},_0x2f9d83[_0x338b00(0x18d)](_0x555efb);});}function openAnalytics(){const _0x16cff5=a3_0x40d2b2,_0xf9dfdc=document[_0x16cff5(0x1b7)](_0x16cff5(0x13d));setAnalyticsPeriod('week',_0xf9dfdc),openSheet(_0x16cff5(0xf2));}function setAnalyticsPeriod(_0x339da3,_0x3b497d){const _0x2774d0=a3_0x40d2b2;currentAnPeriod=_0x339da3,document[_0x2774d0(0x113)](_0x2774d0(0x13d))[_0x2774d0(0x160)](_0x30082a=>_0x30082a[_0x2774d0(0x132)][_0x2774d0(0x13f)](_0x2774d0(0x17d)));if(_0x3b497d)_0x3b497d['classList'][_0x2774d0(0x112)](_0x2774d0(0x17d));const _0x2ed437=document[_0x2774d0(0x123)](_0x2774d0(0x108));_0x2ed437[_0x2774d0(0x19a)][_0x2774d0(0xc9)]=_0x339da3===_0x2774d0(0xdb)?_0x2774d0(0x129):_0x2774d0(0x18c);const _0x2fb485=new Date();let _0x14df1f=new Date(),_0xa7d216=new Date();if(_0x339da3===_0x2774d0(0x153))_0x14df1f=getStartOfWeek(_0x2fb485),_0xa7d216=new Date(_0x14df1f),_0xa7d216[_0x2774d0(0x11d)](_0xa7d216['getDate']()+0x6);else{if(_0x339da3===_0x2774d0(0x10d))_0x14df1f=new Date(_0x2fb485[_0x2774d0(0x128)](),_0x2fb485[_0x2774d0(0x18b)](),0x1),_0xa7d216=new Date(_0x2fb485['getFullYear'](),_0x2fb485['getMonth']()+0x1,0x0);else{!document[_0x2774d0(0x123)]('anStart')[_0x2774d0(0x164)]&&(document[_0x2774d0(0x123)](_0x2774d0(0xcc))[_0x2774d0(0x164)]=getLocalDateStr(_0x2fb485),document[_0x2774d0(0x123)](_0x2774d0(0x12e))[_0x2774d0(0x164)]=getLocalDateStr(_0x2fb485));refreshAnalytics();return;}}document[_0x2774d0(0x123)](_0x2774d0(0xcc))['value']=getLocalDateStr(_0x14df1f),document[_0x2774d0(0x123)]('anEnd')[_0x2774d0(0x164)]=getLocalDateStr(_0xa7d216),refreshAnalytics();}function refreshAnalytics(){const _0x34c8c4=a3_0x40d2b2,_0x695513=document[_0x34c8c4(0x123)](_0x34c8c4(0xcc))[_0x34c8c4(0x164)],_0x1ef0be=document['getElementById'](_0x34c8c4(0x12e))[_0x34c8c4(0x164)];if(!_0x695513||!_0x1ef0be)return;const _0x2d7a4b=sessions['filter'](_0x156386=>_0x156386[_0x34c8c4(0xdf)]>=_0x695513&&_0x156386[_0x34c8c4(0xdf)]<=_0x1ef0be&&_0x156386[_0x34c8c4(0x1a7)]!==_0x34c8c4(0x174)),_0x1e90c4=_0x2d7a4b['length'],_0x3a64d6=_0x2d7a4b[_0x34c8c4(0x154)](_0x25767a=>_0x25767a['status']===_0x34c8c4(0xde))[_0x34c8c4(0x152)],_0xaba397=_0x1e90c4>0x0?Math[_0x34c8c4(0x169)](_0x3a64d6/_0x1e90c4*0x64):0x0;document[_0x34c8c4(0x123)](_0x34c8c4(0x125))['textContent']=_0xaba397+'%',document['getElementById']('anTotalStats')[_0x34c8c4(0xda)]=_0x3a64d6+_0x34c8c4(0x17e)+_0x1e90c4+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x32d762=document['getElementById'](_0x34c8c4(0x185)),_0xa895dd=0x2*Math['PI']*0x23,_0x291841=_0xa895dd-_0xaba397/0x64*_0xa895dd;_0x32d762[_0x34c8c4(0x19a)][_0x34c8c4(0x19d)]=_0x291841;const _0x5c45db={};_0x2d7a4b[_0x34c8c4(0x160)](_0x2e9467=>{const _0x844596=_0x34c8c4,_0x721ca3=_0x2e9467[_0x844596(0xf9)]||_0x844596(0x162);if(!_0x5c45db[_0x721ca3]){const _0x587806='#'+_0x721ca3[_0x844596(0x14d)]()[_0x844596(0x198)](0x0,0x6);_0x5c45db[_0x721ca3]={'total':0x0,'done':0x0,'color':_0x587806};}_0x5c45db[_0x721ca3]['total']++;if(_0x2e9467[_0x844596(0x1a7)]===_0x844596(0xde))_0x5c45db[_0x721ca3][_0x844596(0xfc)]++;});const _0x4a17c5=document[_0x34c8c4(0x123)](_0x34c8c4(0x130));_0x4a17c5[_0x34c8c4(0xff)]='';const _0x3d48b6=Object['entries'](_0x5c45db)[_0x34c8c4(0x15d)]((_0x2f6292,_0x56a92d)=>_0x56a92d[0x1][_0x34c8c4(0x17c)]-_0x2f6292[0x1][_0x34c8c4(0x17c)]);if(_0x3d48b6[_0x34c8c4(0x152)]===0x0){_0x4a17c5[_0x34c8c4(0xff)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3d48b6[_0x34c8c4(0x160)](([_0x4b2d12,_0x24f3bb])=>{const _0x52975e=_0x34c8c4,_0x2dfe8b=Math[_0x52975e(0x169)](_0x24f3bb['done']/_0x24f3bb[_0x52975e(0x17c)]*0x64),_0x1e8272=document[_0x52975e(0x199)](_0x52975e(0x188));_0x1e8272['className']='client-stat-card',_0x1e8272[_0x52975e(0x19a)][_0x52975e(0x1a2)]=_0x24f3bb[_0x52975e(0x144)],_0x1e8272[_0x52975e(0xff)]=_0x52975e(0x138)+_0x4b2d12[_0x52975e(0x198)](0x0,0x5)+_0x52975e(0x1ad)+_0x24f3bb[_0x52975e(0xfc)]+_0x52975e(0x15a)+_0x24f3bb['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x2dfe8b+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a17c5[_0x52975e(0x18d)](_0x1e8272);});}function openDetails(_0x2d9d6c){const _0x257bd3=a3_0x40d2b2;currentSession=_0x2d9d6c;const _0x520bea=new Date(_0x2d9d6c[_0x257bd3(0xdf)]),_0x1a6f31=_0x520bea[_0x257bd3(0xed)](_0x257bd3(0x146),{'weekday':_0x257bd3(0x13b),'day':_0x257bd3(0xf1),'month':'long'});document[_0x257bd3(0x123)]('detDate')[_0x257bd3(0xda)]=_0x1a6f31['charAt'](0x0)[_0x257bd3(0x11c)]()+_0x1a6f31['slice'](0x1),document[_0x257bd3(0x123)](_0x257bd3(0x140))['textContent']=_0x2d9d6c['start']+'\x20-\x20'+_0x2d9d6c[_0x257bd3(0x104)],document['getElementById'](_0x257bd3(0x177))['textContent']=_0x2d9d6c[_0x257bd3(0x10f)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x1f8820=document[_0x257bd3(0x123)](_0x257bd3(0x141)),_0x214f20=document[_0x257bd3(0x123)](_0x257bd3(0x148)),_0x2b33f4=_0x214f20['querySelector']('.btn-cancel'),_0x53021e=_0x214f20['querySelector'](_0x257bd3(0xe4)),_0x25c0f9=document[_0x257bd3(0x123)](_0x257bd3(0x13a));if(_0x2d9d6c[_0x257bd3(0x1a7)]===_0x257bd3(0xde))_0x1f8820['textContent']=_0x257bd3(0xfb),_0x1f8820[_0x257bd3(0x19a)][_0x257bd3(0x144)]='var(--acc-green)',_0x214f20['style'][_0x257bd3(0xc9)]=_0x257bd3(0x18c);else{_0x1f8820[_0x257bd3(0xda)]=_0x257bd3(0x110),_0x1f8820[_0x257bd3(0x19a)]['color']=_0x257bd3(0x19e),_0x214f20['style']['display']=_0x257bd3(0xf0);const _0x28c4e6=new Date(_0x2d9d6c[_0x257bd3(0xdf)]+'T'+_0x2d9d6c['start']),_0x3ff8dd=new Date(),_0x1abd94=(_0x28c4e6-_0x3ff8dd)/(0x3e8*0x3c*0x3c),_0x1e063a=coachProfiles[_0x2d9d6c[_0x257bd3(0xf9)]]&&coachProfiles[_0x2d9d6c[_0x257bd3(0xf9)]]['cancel_window']?parseInt(coachProfiles[_0x2d9d6c[_0x257bd3(0xf9)]][_0x257bd3(0x1b2)]):0x18;if(_0x1e063a===0x0||_0x1abd94>=_0x1e063a)_0x2b33f4['style']['display']=_0x257bd3(0xf0),_0x53021e[_0x257bd3(0x19a)][_0x257bd3(0xc9)]=_0x257bd3(0xf0),_0x25c0f9[_0x257bd3(0x19a)][_0x257bd3(0xc9)]=_0x257bd3(0x18c);else{_0x2b33f4['style'][_0x257bd3(0xc9)]=_0x257bd3(0x18c),_0x53021e['style']['display']='none',_0x25c0f9['style'][_0x257bd3(0xc9)]=_0x257bd3(0xf0);let _0x3b2939=_0x1e063a===0x0?_0x257bd3(0x195):_0x257bd3(0x124)+_0x1e063a+_0x257bd3(0x193);_0x25c0f9['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x3b2939+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x257bd3(0x123)]('overlay')['classList'][_0x257bd3(0x112)](_0x257bd3(0x17d)),document[_0x257bd3(0x123)](_0x257bd3(0x12f))[_0x257bd3(0x132)][_0x257bd3(0x112)](_0x257bd3(0x14e));}function closeAllSheets(){const _0xeb59b4=a3_0x40d2b2;document['getElementById']('overlay')[_0xeb59b4(0x132)][_0xeb59b4(0x13f)](_0xeb59b4(0x17d)),document[_0xeb59b4(0x113)](_0xeb59b4(0x133))[_0xeb59b4(0x160)](_0x3c9cb4=>_0x3c9cb4[_0xeb59b4(0x132)][_0xeb59b4(0x13f)](_0xeb59b4(0x14e)));}function a3_0x5f22(_0x3002bd,_0x3dc594){_0x3002bd=_0x3002bd-0xc2;const _0x305062=a3_0x3550();let _0x39f9d9=_0x305062[_0x3002bd];return _0x39f9d9;}function openSheet(_0xade641){const _0xb2bf66=a3_0x40d2b2;document[_0xb2bf66(0x123)](_0xb2bf66(0xf7))[_0xb2bf66(0x132)]['add'](_0xb2bf66(0x17d)),document['getElementById'](_0xade641)['classList']['add'](_0xb2bf66(0x14e));}function getLocalDateStr(_0x1f07c9){const _0x3dd9e2=a3_0x40d2b2,_0x247105=_0x1f07c9[_0x3dd9e2(0x128)](),_0x300270=String(_0x1f07c9[_0x3dd9e2(0x18b)]()+0x1)[_0x3dd9e2(0xc2)](0x2,'0'),_0x49c3d8=String(_0x1f07c9[_0x3dd9e2(0x11e)]())[_0x3dd9e2(0xc2)](0x2,'0');return _0x247105+'-'+_0x300270+'-'+_0x49c3d8;}function getStartOfWeek(_0x4caf54){const _0x3448df=a3_0x40d2b2,_0x23b3d5=new Date(_0x4caf54),_0xe8b994=_0x23b3d5[_0x3448df(0x19c)](),_0x2b99db=_0x23b3d5[_0x3448df(0x11e)]()-_0xe8b994+(_0xe8b994===0x0?-0x6:0x1);return _0x23b3d5[_0x3448df(0x11d)](_0x2b99db),_0x23b3d5[_0x3448df(0x18e)](0x0,0x0,0x0,0x0),_0x23b3d5;}function scrollToToday(){const _0x8071d8=getLocalDateStr(new Date());setTimeout(()=>{const _0x5acd5d=a3_0x5f22,_0xac90d5=document['querySelector'](_0x5acd5d(0x172)+_0x8071d8+'\x22]');if(_0xac90d5){const _0x30c28a=document[_0x5acd5d(0x123)](_0x5acd5d(0x12c)),_0x3e757f=_0xac90d5[_0x5acd5d(0x1a6)]-_0x30c28a['clientWidth']/0x2+_0xac90d5[_0x5acd5d(0x142)]/0x2;_0x30c28a['scrollTo']({'left':_0x3e757f,'behavior':_0x5acd5d(0x145)}),_0x30c28a[_0x5acd5d(0xcb)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x238e1a=a3_0x40d2b2,_0x43d1f6=new Date(),_0x5ce197=document[_0x238e1a(0x123)](_0x238e1a(0x168)),_0x1cb118=document[_0x238e1a(0x123)](_0x238e1a(0xe3)),_0x24ee54=(_0x43d1f6['getHours']()*0x3c+_0x43d1f6[_0x238e1a(0xce)]())/0x3c*GRID_H;_0x5ce197[_0x238e1a(0x19a)][_0x238e1a(0xd8)]=_0x24ee54+'px',_0x5ce197[_0x238e1a(0x19a)][_0x238e1a(0xc9)]='block',_0x1cb118[_0x238e1a(0x19a)][_0x238e1a(0xd8)]=_0x24ee54+'px',_0x1cb118['style']['display']=_0x238e1a(0xf0),_0x1cb118[_0x238e1a(0xda)]=String(_0x43d1f6[_0x238e1a(0xf8)]())[_0x238e1a(0xc2)](0x2,'0')+':'+String(_0x43d1f6[_0x238e1a(0xce)]())[_0x238e1a(0xc2)](0x2,'0');}function onScroll(){const _0x35152f=a3_0x40d2b2,_0x274800=document[_0x35152f(0x123)]('matrixViewport'),_0xd5e04d=document[_0x35152f(0x113)]('.day-col-header');for(let _0x1b7095 of _0xd5e04d)if(_0x1b7095[_0x35152f(0x1a6)]>=_0x274800[_0x35152f(0x182)]){const _0x3d4800=new Date(_0x1b7095['getAttribute'](_0x35152f(0x197)));document[_0x35152f(0x123)]('headerMonth')[_0x35152f(0xda)]=_0x3d4800[_0x35152f(0x176)]('ru',{'month':_0x35152f(0x13b)})[_0x35152f(0x11c)]()+'\x20'+_0x3d4800[_0x35152f(0x128)]();break;}}function showToast(_0xec8ddc){const _0x5c0563=a3_0x40d2b2,_0x168924=document['getElementById'](_0x5c0563(0x134));_0x168924['textContent']=_0xec8ddc,_0x168924[_0x5c0563(0x132)][_0x5c0563(0x112)]('show'),setTimeout(()=>_0x168924[_0x5c0563(0x132)]['remove'](_0x5c0563(0xe9)),0x7d0);}function handleInfiniteScroll(){const _0x16381e=a3_0x40d2b2,_0x18cccd=document[_0x16381e(0x123)]('matrixViewport'),_0x4b1498=_0x18cccd[_0x16381e(0x182)],_0x583f8b=_0x18cccd[_0x16381e(0xcf)],_0x3a62fc=_0x18cccd[_0x16381e(0x147)];if(_0x583f8b-(_0x4b1498+_0x3a62fc)<0x12c){const _0x4c7451=endOffset;endOffset+=0xe,renderDayRange(_0x4c7451+0x1,endOffset),reRenderBlocks();}if(_0x4b1498<0x12c){const _0x1847c6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1847c6-0x1),_0x18cccd['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x249c74,_0x251e64){const _0x1b7881=a3_0x40d2b2,_0x46b43f=document[_0x1b7881(0x123)](_0x1b7881(0x1a3)),_0x42e429=document[_0x1b7881(0x123)]('gridColumns'),_0x2abb08=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3d4dbb=new Date();_0x3d4dbb[_0x1b7881(0x18e)](0x0,0x0,0x0,0x0);const _0x469fa0=getLocalDateStr(new Date()),_0x38e5f5=document[_0x1b7881(0xdc)](),_0x9951c8=document[_0x1b7881(0xdc)]();for(let _0x20b498=_0x249c74;_0x20b498<=_0x251e64;_0x20b498++){const _0x397bdd=new Date(_0x3d4dbb);_0x397bdd[_0x1b7881(0x11d)](_0x397bdd[_0x1b7881(0x11e)]()+_0x20b498);const _0x258ce7=getLocalDateStr(_0x397bdd);let _0x32eac2=_0x397bdd['getDay']()-0x1;if(_0x32eac2===-0x1)_0x32eac2=0x6;const _0x3f7fe0=_0x258ce7===_0x469fa0,_0x1c4758=document['createElement'](_0x1b7881(0x188));_0x1c4758[_0x1b7881(0x100)]=_0x1b7881(0x171)+(_0x3f7fe0?_0x1b7881(0x115):''),_0x1c4758[_0x1b7881(0x179)](_0x1b7881(0x197),_0x258ce7),_0x1c4758[_0x1b7881(0xff)]=_0x1b7881(0xe8)+_0x2abb08[_0x32eac2]+'</div><div\x20class=\x22dch-num\x22>'+_0x397bdd[_0x1b7881(0x11e)]()+_0x1b7881(0xd2),_0x38e5f5[_0x1b7881(0x18d)](_0x1c4758);const _0x22048c=document[_0x1b7881(0x199)](_0x1b7881(0x188));_0x22048c[_0x1b7881(0x100)]=_0x1b7881(0xc5)+(_0x3f7fe0?_0x1b7881(0x115):''),_0x22048c[_0x1b7881(0x179)]('data-date',_0x258ce7),_0x22048c[_0x1b7881(0x179)](_0x1b7881(0x163),_0x32eac2),_0x9951c8[_0x1b7881(0x18d)](_0x22048c);}_0x46b43f[_0x1b7881(0x15e)](_0x38e5f5,_0x46b43f[_0x1b7881(0x16c)]),_0x42e429[_0x1b7881(0x15e)](_0x9951c8,_0x42e429['querySelector'](_0x1b7881(0xd9)));}function hexToRgba(_0x5b71af,_0x48506){const _0x55f157=a3_0x40d2b2;let _0x419459;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x55f157(0x12b)](_0x5b71af))return _0x419459=_0x5b71af[_0x55f157(0xf4)](0x1)[_0x55f157(0x192)](''),_0x419459[_0x55f157(0x152)]==0x3&&(_0x419459=[_0x419459[0x0],_0x419459[0x0],_0x419459[0x1],_0x419459[0x1],_0x419459[0x2],_0x419459[0x2]]),_0x419459='0x'+_0x419459[_0x55f157(0x157)](''),_0x55f157(0x16e)+[_0x419459>>0x10&0xff,_0x419459>>0x8&0xff,_0x419459&0xff][_0x55f157(0x157)](',')+','+_0x48506+')';return _0x55f157(0x111)+_0x48506+')';}let confirmResolver=null;function showCustomConfirm(_0x2368d2,_0x2fc74c,_0x42ecc3=!![]){const _0x24f150=a3_0x40d2b2;document[_0x24f150(0x123)]('ccTitle')[_0x24f150(0xda)]=_0x2368d2,document[_0x24f150(0x123)](_0x24f150(0x1a9))[_0x24f150(0xda)]=_0x2fc74c;const _0x4123b1=document['getElementById'](_0x24f150(0x107));return _0x42ecc3?(_0x4123b1[_0x24f150(0x19a)][_0x24f150(0x144)]=_0x24f150(0x175),_0x4123b1[_0x24f150(0x19a)][_0x24f150(0x12a)]=_0x24f150(0x10e)):(_0x4123b1[_0x24f150(0x19a)][_0x24f150(0x144)]='#0a84ff',_0x4123b1[_0x24f150(0x19a)][_0x24f150(0x12a)]=_0x24f150(0x10e)),new Promise(_0x4fac07=>{const _0x49c85f=_0x24f150;confirmResolver=_0x4fac07,document[_0x49c85f(0x123)](_0x49c85f(0x135))['classList']['add'](_0x49c85f(0x13e));});}function resolveCustomConfirm(_0x16e5e9){const _0x2d516f=a3_0x40d2b2;document['getElementById']('customConfirm')[_0x2d516f(0x132)][_0x2d516f(0x13f)](_0x2d516f(0x13e));if(confirmResolver)confirmResolver(_0x16e5e9);}async function tryCancelCurrentSession(){const _0x29aa1f=a3_0x40d2b2;if(!currentSession)return;const _0x59c31e=await showCustomConfirm(_0x29aa1f(0x151),_0x29aa1f(0xfe),!![]);if(!_0x59c31e)return;const _0x15e4b2=currentSession;closeAllSheets(),sessions=sessions[_0x29aa1f(0x154)](_0x47aeea=>_0x47aeea['id']!==_0x15e4b2['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x29aa1f(0xe5)]();try{const _0x4b0c34=window['Telegram']?.[_0x29aa1f(0x14c)],_0x219924=await fetch(API_URL,{'method':_0x29aa1f(0x190),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x4b0c34?.[_0x29aa1f(0x114)]||'','coachId':_0x15e4b2[_0x29aa1f(0xf9)],'dateStr':_0x15e4b2[_0x29aa1f(0xdf)],'sessionId':_0x15e4b2['id']})});if(_0x219924['ok'])DataManager[_0x29aa1f(0x1ac)]();}catch(_0x6a740d){showToast(_0x29aa1f(0xf3));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x3550(){const _0x35cdc4=['182046AdKXov','uc_client_sessions','WebApp','toString','open','keys','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','length','week','filter','setItem','start','join','syncLoad','isArray','</span>\x20/\x20','getItem','backgroundPosition','sort','insertBefore','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','forEach','constructor','Unknown','data-day-idx','value','left','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','#0a84ff','globalTimeLine','round','rs-date-chip','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','firstChild','#050505','rgba(','button','px\x200px','day-col-header\x20','.day-col-header[data-date=\x22','145904aoahJE','cancelled','#ff453a','toLocaleString','detNote','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','setAttribute','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div><div\x20class=\x22rs-day-num\x22>','total','active','\x20–∏–∑\x20','clients','(((.+)+)+)+$','settings','scrollLeft','zIndex','search','anDonutCircle','find','setBackgroundColor','div',':00</span>','2832193hkgywr','getMonth','none','appendChild','setHours','colIndex','POST','width','split','\x20—á.','.rs-date-chip','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','ranges','data-date','substr','createElement','style','539090FCQUfc','getDay','strokeDashoffset','var(--acc-blue)','height','user','pattern','borderLeftColor','daysHeaderTrack','log','min','offsetLeft','status','disableVerticalSwipes','ccText','T23:59:59','\x20-\x20','saveLocally','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','blocked-slot\x20stripe-bg','7153866TyMDwJ','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','%\x20+\x202px)','cancel_window','\x20status-completed','map','then','json','querySelector','rescheduleSheet','exceptions','router.html','stopPropagation','padStart','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','BackButton','day-column\x20','coach_profiles','location','rsDatesTrack','display','error','scrollTop','anStart','timeColumn','getMinutes','scrollWidth','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','1704618ETXbTd','</div>','1108470pJPgIS','day-off-overlay\x20stripe-bg','seriesId','event-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','.day-column','textContent','custom','createDocumentFragment','parse','completed','dateStr','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','8pahdNF','loadLocal','timeLineBadge','.btn-reschedule','now','planned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','<div\x20class=\x22dch-day\x22>','show','floor','offClick','Error\x20setting\x20back\x20button:','toLocaleDateString','initDataUnsafe','<div\x20class=\x22rs-day-name\x22>','block','numeric','analyticsSheet','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','substring','cid','stringify','overlay','getHours','coachId','expand','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','done','href','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','innerHTML','className','client_load','push','apply','end','T00:00:00','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccYesBtn','anCustomDates','Error\x20setting\x20color:','</div><div\x20class=\x22dch-num\x22>','rsSlotsGrid','Telegram','month','600','note','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rgba(10,\x20132,\x20255,\x20','add','querySelectorAll','initData','today','backgroundColor','px\x20-','sid','data','reschedule','9EoWbka','toUpperCase','setDate','getDate','v9.5-CLIENT-ANALYTICS','calendar','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','uc_client_list','getElementById','–∑–∞\x20','anPercent','mini','onclick','getFullYear','flex','fontWeight','test','matrixViewport','%\x20-\x204px)','anEnd','detailsSheet','analyticsList','calc(','classList','.sheet','toast','customConfirm','scroll','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getAttribute','cancelHint','long','applyData','.period-switch\x20.p-btn','visible','remove','detTime','detStatus','offsetWidth','getTime','color','auto','ru-RU','clientWidth','cancelContainer','max'];a3_0x3550=function(){return _0x35cdc4;};return a3_0x3550();}async function startRescheduleFlow(){const _0x27982f=a3_0x40d2b2;if(!currentSession)return;document['getElementById'](_0x27982f(0x12f))['classList'][_0x27982f(0x13f)](_0x27982f(0x14e)),document[_0x27982f(0x123)](_0x27982f(0x1b8))[_0x27982f(0x132)]['add'](_0x27982f(0x14e));const _0x5eac9c=document[_0x27982f(0x123)](_0x27982f(0xc8)),_0x4ac422=document[_0x27982f(0x123)](_0x27982f(0x10b));_0x5eac9c['innerHTML']='',_0x4ac422[_0x27982f(0xff)]=_0x27982f(0x16b);const [_0x191db2,_0x40b787]=currentSession['start'][_0x27982f(0x192)](':')['map'](Number),[_0x366724,_0x2507af]=currentSession[_0x27982f(0x104)]['split'](':')[_0x27982f(0x1b4)](Number),_0x177eba=_0x366724*0x3c+_0x2507af-(_0x191db2*0x3c+_0x40b787);try{const _0x535cfb=window['Telegram']?.[_0x27982f(0x14c)],_0x3f32f5=await fetch(API_URL,{'method':_0x27982f(0x190),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x27982f(0xf9)],'duration':_0x177eba,'init_data':_0x535cfb?.[_0x27982f(0x114)]||'','excludeSessionId':currentSession['id']})}),_0x47e4b3=await _0x3f32f5[_0x27982f(0x1b6)]();_0x47e4b3['ok']&&_0x47e4b3[_0x27982f(0x119)]?(availableSlotsCache=_0x47e4b3[_0x27982f(0x119)],renderRescheduleDates()):_0x4ac422[_0x27982f(0xff)]=_0x27982f(0x178);}catch(_0x153293){_0x4ac422[_0x27982f(0xff)]=_0x27982f(0xd0);}}function renderRescheduleDates(){const _0x537618=a3_0x40d2b2,_0x20e05b=document['getElementById'](_0x537618(0xc8));_0x20e05b['innerHTML']='';const _0x39bb68=Object['keys'](availableSlotsCache)['sort'](),_0x9df1b8=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x39bb68[_0x537618(0x152)]===0x0){document['getElementById'](_0x537618(0x10b))[_0x537618(0xff)]=_0x537618(0x121);return;}_0x39bb68[_0x537618(0x160)]((_0x471b8c,_0x5a7455)=>{const _0x2f001c=_0x537618,_0x387ffd=new Date(_0x471b8c),_0x147f0b=_0x9df1b8[_0x387ffd[_0x2f001c(0x19c)]()],_0x1bf2e0=_0x387ffd[_0x2f001c(0x11e)](),_0xaeb268=document['createElement'](_0x2f001c(0x188));_0xaeb268['className']=_0x2f001c(0x16a);if(_0x5a7455===0x0)_0xaeb268[_0x2f001c(0x132)][_0x2f001c(0x112)](_0x2f001c(0x17d));_0xaeb268['innerHTML']=_0x2f001c(0xef)+_0x147f0b+_0x2f001c(0x17b)+_0x1bf2e0+_0x2f001c(0xd2),_0xaeb268[_0x2f001c(0x127)]=()=>selectRsDate(_0x471b8c,_0xaeb268),_0x20e05b[_0x2f001c(0x18d)](_0xaeb268);}),selectRsDate(_0x39bb68[0x0],_0x20e05b['firstChild']);}function selectRsDate(_0x1878df,_0x4941cc){const _0x3c2697=a3_0x40d2b2;selectedRsDate=_0x1878df,document['querySelectorAll'](_0x3c2697(0x194))[_0x3c2697(0x160)](_0x4933b0=>_0x4933b0[_0x3c2697(0x132)][_0x3c2697(0x13f)](_0x3c2697(0x17d)));if(_0x4941cc)_0x4941cc['classList'][_0x3c2697(0x112)](_0x3c2697(0x17d));const _0x29298b=document['getElementById']('rsSlotsGrid');_0x29298b[_0x3c2697(0xff)]='';const _0x4943e4=availableSlotsCache[_0x1878df]||[];if(_0x4943e4['length']===0x0){_0x29298b[_0x3c2697(0xff)]=_0x3c2697(0x178);return;}_0x4943e4[_0x3c2697(0x160)](_0x57abb9=>{const _0x43ae5f=_0x3c2697,_0x590544=document['createElement'](_0x43ae5f(0x16f));_0x590544[_0x43ae5f(0x100)]='rs-time-btn',_0x590544['textContent']=_0x57abb9,_0x590544[_0x43ae5f(0x127)]=()=>confirmReschedule(_0x57abb9),_0x29298b[_0x43ae5f(0x18d)](_0x590544);});}async function confirmReschedule(_0x552efa){const _0xd288b1=a3_0x40d2b2,_0x2e2b59=new Date(selectedRsDate),_0x3eecef=_0x2e2b59[_0xd288b1(0xed)](_0xd288b1(0x146),{'day':_0xd288b1(0xf1),'month':_0xd288b1(0x13b)}),_0x1183fe=await showCustomConfirm(_0xd288b1(0x166),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3eecef+'\x20–≤\x20'+_0x552efa+'?',![]);if(!_0x1183fe)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0xd288b1(0xe5)]();const _0x367e0a=currentSession[_0xd288b1(0xdf)],_0x208f59=currentSession['id'],[_0x123b22,_0x4582c2]=currentSession[_0xd288b1(0x156)][_0xd288b1(0x192)](':')['map'](Number),[_0x52bcbb,_0x4b9807]=currentSession[_0xd288b1(0x104)][_0xd288b1(0x192)](':')[_0xd288b1(0x1b4)](Number),_0x2bcc1b=_0x52bcbb*0x3c+_0x4b9807-(_0x123b22*0x3c+_0x4582c2),[_0x593b79,_0x3dfe24]=_0x552efa[_0xd288b1(0x192)](':')[_0xd288b1(0x1b4)](Number),_0x5123cd=_0x593b79*0x3c+_0x3dfe24+_0x2bcc1b,_0x1ef94d=Math[_0xd288b1(0xea)](_0x5123cd/0x3c),_0x52ec53=_0x5123cd%0x3c,_0x3f922b=String(_0x1ef94d)[_0xd288b1(0xc2)](0x2,'0')+':'+String(_0x52ec53)[_0xd288b1(0xc2)](0x2,'0'),_0x47ef93=sessions['findIndex'](_0x253ffd=>_0x253ffd['id']===_0x208f59);_0x47ef93!==-0x1&&(sessions[_0x47ef93][_0xd288b1(0xdf)]=selectedRsDate,sessions[_0x47ef93]['start']=_0x552efa,sessions[_0x47ef93]['end']=_0x3f922b,reRenderBlocks());try{const _0x185b50=window['Telegram']?.[_0xd288b1(0x14c)],_0x22d3e5=await fetch(API_URL,{'method':_0xd288b1(0x190),'body':JSON['stringify']({'action':_0xd288b1(0x11a),'init_data':_0x185b50?.[_0xd288b1(0x114)]||'','oldSessionId':_0x208f59,'oldDate':_0x367e0a,'newDate':selectedRsDate,'newTime':_0x552efa,'coachId':currentSession[_0xd288b1(0xf9)]})}),_0x3f013a=await _0x22d3e5[_0xd288b1(0x1b6)]();!_0x3f013a['ok']?(showToast(_0xd288b1(0xc3)),DataManager[_0xd288b1(0x158)]()):(showToast(_0xd288b1(0x15f)),DataManager[_0xd288b1(0x1ac)]());}catch(_0x5ad34a){showToast(_0xd288b1(0xf3));}}document['addEventListener']('DOMContentLoaded',init);