const a3_0x35c044=a3_0x4752;(function(_0x41997d,_0xf297fa){const _0x43038c=a3_0x4752,_0x30bc1d=_0x41997d();while(!![]){try{const _0x551518=parseInt(_0x43038c(0x277))/0x1+parseInt(_0x43038c(0x23f))/0x2+parseInt(_0x43038c(0x225))/0x3+parseInt(_0x43038c(0x24c))/0x4+-parseInt(_0x43038c(0x2a0))/0x5+-parseInt(_0x43038c(0x2c4))/0x6+-parseInt(_0x43038c(0x293))/0x7*(parseInt(_0x43038c(0x23d))/0x8);if(_0x551518===_0xf297fa)break;else _0x30bc1d['push'](_0x30bc1d['shift']());}catch(_0x50e67b){_0x30bc1d['push'](_0x30bc1d['shift']());}}}(a3_0xe48e,0x876af));const APP_VERSION=a3_0x35c044(0x29c),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x35c044(0x21a),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x35c044(0x212);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x35c044(0x23c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4bb9b5=a3_0x35c044,_0x18d980=(function(){let _0x4cbebd=!![];return function(_0x5b7d08,_0x29f91e){const _0x26ada9=_0x4cbebd?function(){if(_0x29f91e){const _0x39bbcd=_0x29f91e['apply'](_0x5b7d08,arguments);return _0x29f91e=null,_0x39bbcd;}}:function(){};return _0x4cbebd=![],_0x26ada9;};}()),_0x291d98=_0x18d980(this,function(){const _0x3127c8=a3_0x4752;return _0x291d98[_0x3127c8(0x1f4)]()['search'](_0x3127c8(0x24f))[_0x3127c8(0x1f4)]()[_0x3127c8(0x2b7)](_0x291d98)[_0x3127c8(0x2c2)](_0x3127c8(0x24f));});_0x291d98();try{const _0x2e84f9=window[_0x4bb9b5(0x203)]?.[_0x4bb9b5(0x2cd)];if(!_0x2e84f9)return;_0x2e84f9['ready'](),_0x2e84f9[_0x4bb9b5(0x232)]();try{_0x2e84f9['setHeaderColor'](_0x4bb9b5(0x1f8)),_0x2e84f9[_0x4bb9b5(0x1e0)]&&_0x2e84f9[_0x4bb9b5(0x1e0)](_0x4bb9b5(0x1f8));}catch(_0x144ab2){console['log'](_0x4bb9b5(0x2a1),_0x144ab2);}try{_0x2e84f9[_0x4bb9b5(0x265)]&&(_0x2e84f9[_0x4bb9b5(0x265)][_0x4bb9b5(0x292)](),_0x2e84f9[_0x4bb9b5(0x265)]['offClick'](),_0x2e84f9['BackButton'][_0x4bb9b5(0x1f5)](function(){const _0x3ad4a8=_0x4bb9b5;window['location'][_0x3ad4a8(0x2c0)]=_0x3ad4a8(0x2a2);}));}catch(_0x4878d3){console['log']('Error\x20setting\x20back\x20button:',_0x4878d3);}try{if(_0x2e84f9[_0x4bb9b5(0x227)])_0x2e84f9['disableVerticalSwipes']();}catch(_0x553a80){}}catch(_0x3abfd5){console[_0x4bb9b5(0x1ee)]('Critical\x20TMA\x20Error:',_0x3abfd5);}}());function isAdmin(){const _0x27552d=a3_0x35c044;try{const _0x15d63a=Number(window[_0x27552d(0x203)]?.['WebApp']?.[_0x27552d(0x217)]?.[_0x27552d(0x2ca)]?.['id']);return _0x15d63a===0xbaf7174;}catch(_0x4e71e0){return![];}}const DataManager={'saveLocally'(){const _0x399909=a3_0x35c044;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x399909(0x248)](sessions)),localStorage[_0x399909(0x220)](KEY_CLIENTS,JSON[_0x399909(0x248)](clients)),localStorage[_0x399909(0x220)](KEY_SETTINGS,JSON[_0x399909(0x248)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xf1c02b){}},'loadLocal'(){const _0x47f639=a3_0x35c044;try{const _0x366d46=localStorage['getItem'](KEY_SESSIONS);if(_0x366d46)sessions=JSON['parse'](_0x366d46);const _0x53217c=localStorage[_0x47f639(0x240)](KEY_CLIENTS);if(_0x53217c)clients=JSON[_0x47f639(0x1e7)](_0x53217c);const _0x158576=localStorage[_0x47f639(0x240)](KEY_SETTINGS);if(_0x158576){const _0x38a144=JSON[_0x47f639(0x1e7)](_0x158576);if(_0x38a144[_0x47f639(0x20f)])availabilityPattern=_0x38a144[_0x47f639(0x20f)];if(_0x38a144[_0x47f639(0x254)])specialRanges=_0x38a144['ranges'];if(_0x38a144[_0x47f639(0x258)])dateExceptions=_0x38a144[_0x47f639(0x258)];}}catch(_0x41b873){}},async 'syncLoad'(){const _0x4736ee=a3_0x35c044,_0x23584d=new Date(),_0x3a4921=_0x23584d[_0x4736ee(0x279)]()+'-'+String(_0x23584d['getMonth']()+0x1)['padStart'](0x2,'0'),_0x5b7865=new Date(_0x23584d);_0x5b7865[_0x4736ee(0x2b1)](_0x23584d[_0x4736ee(0x208)]()+0x1);const _0x23fbad=_0x5b7865['getFullYear']()+'-'+String(_0x5b7865['getMonth']()+0x1)[_0x4736ee(0x29b)](0x2,'0'),_0xff7004=Date[_0x4736ee(0x209)]();try{const _0x49ce1e=window[_0x4736ee(0x203)]?.[_0x4736ee(0x2cd)],_0x2f7d5e=_0x49ce1e?.[_0x4736ee(0x21e)]||'',[_0x1848a8,_0x16892e]=await Promise[_0x4736ee(0x291)]([fetch(API_URL,{'method':_0x4736ee(0x213),'body':JSON[_0x4736ee(0x248)]({'action':_0x4736ee(0x1f6),'init_data':_0x2f7d5e,'month_str':_0x3a4921})})[_0x4736ee(0x2c3)](_0x45947a=>_0x45947a[_0x4736ee(0x1e4)]()),fetch(API_URL,{'method':_0x4736ee(0x213),'body':JSON['stringify']({'action':_0x4736ee(0x1f6),'init_data':_0x2f7d5e,'month_str':_0x23fbad})})[_0x4736ee(0x2c3)](_0x2486ec=>_0x2486ec['json']())]);if(lastUserActionTime>_0xff7004){console[_0x4736ee(0x1ef)](_0x4736ee(0x255));return;}if(_0x1848a8['ok'])this[_0x4736ee(0x2b9)](_0x1848a8[_0x4736ee(0x273)],_0x3a4921);if(_0x16892e['ok'])this[_0x4736ee(0x2b9)](_0x16892e[_0x4736ee(0x273)],_0x23fbad);this['saveLocally']();}catch(_0x549535){}},'applyData'(_0x3b89a1,_0x29fb36){const _0x2f4da3=a3_0x35c044;if(!_0x3b89a1)return;if(_0x3b89a1[_0x2f4da3(0x1ff)]){if(_0x3b89a1[_0x2f4da3(0x1ff)]['pattern'])availabilityPattern=_0x3b89a1['settings']['pattern'];if(_0x3b89a1[_0x2f4da3(0x1ff)][_0x2f4da3(0x254)])specialRanges=_0x3b89a1[_0x2f4da3(0x1ff)][_0x2f4da3(0x254)];if(_0x3b89a1[_0x2f4da3(0x1ff)][_0x2f4da3(0x258)])dateExceptions=_0x3b89a1[_0x2f4da3(0x1ff)][_0x2f4da3(0x258)];}if(_0x3b89a1[_0x2f4da3(0x1eb)]&&Array[_0x2f4da3(0x235)](_0x3b89a1[_0x2f4da3(0x1eb)]))clients=_0x3b89a1[_0x2f4da3(0x1eb)];_0x3b89a1['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x3b89a1['coach_profiles']}),_0x3b89a1['calendar']&&(sessions=sessions[_0x2f4da3(0x286)](_0xe741c8=>!_0xe741c8['dateStr'][_0x2f4da3(0x1f3)](_0x29fb36)),Object[_0x2f4da3(0x2b0)](_0x3b89a1[_0x2f4da3(0x28e)])[_0x2f4da3(0x1ea)](_0x11dd93=>{const _0x21c506=_0x2f4da3,_0x20161e=_0x3b89a1[_0x21c506(0x28e)][_0x11dd93];_0x20161e['forEach'](_0x308bd1=>{const _0x5f1d2e=_0x21c506;sessions[_0x5f1d2e(0x2c5)]({'id':_0x308bd1['i'],'clientId':_0x308bd1['c'],'coachId':_0x308bd1[_0x5f1d2e(0x27b)],'dateStr':_0x29fb36+'-'+_0x11dd93[_0x5f1d2e(0x29b)](0x2,'0'),'start':_0x308bd1['s'],'end':_0x308bd1['e'],'note':_0x308bd1['n']||'','status':_0x308bd1['st']||_0x5f1d2e(0x2c6),'seriesId':_0x308bd1[_0x5f1d2e(0x1e2)]});});})),reRenderBlocks();}};function init(){const _0x17c9b1=a3_0x35c044;DataManager[_0x17c9b1(0x2a9)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x17c9b1(0x296)](_0x17c9b1(0x267),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x17c9b1(0x1de)]();}function renderTimeColumn(){const _0x4bc2f0=a3_0x35c044,_0xc97511=document[_0x4bc2f0(0x2c8)](_0x4bc2f0(0x260)),_0xe2e641=document[_0x4bc2f0(0x2c8)]('timeLineBadge');_0xc97511[_0x4bc2f0(0x28c)]='',_0xc97511[_0x4bc2f0(0x1f0)](_0xe2e641);for(let _0x45f897=0x0;_0x45f897<0x18;_0x45f897++){const _0x209153=document['createElement'](_0x4bc2f0(0x262));_0x209153[_0x4bc2f0(0x1dc)]=_0x4bc2f0(0x261);if(_0x45f897>0x0)_0x209153[_0x4bc2f0(0x28c)]='<span>'+String(_0x45f897)[_0x4bc2f0(0x29b)](0x2,'0')+':00</span>';_0xc97511[_0x4bc2f0(0x1f0)](_0x209153);}}function renderDayRange(_0x1b0fa7,_0x5f1100){const _0x5b70af=a3_0x35c044,_0x312096=document[_0x5b70af(0x2c8)](_0x5b70af(0x1e1)),_0x4bd964=document['getElementById'](_0x5b70af(0x247)),_0x27da7c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5e5ece=new Date();_0x5e5ece[_0x5b70af(0x2a4)](0x0,0x0,0x0,0x0);const _0x1598b1=getLocalDateStr(new Date());for(let _0xf8a064=_0x1b0fa7;_0xf8a064<=_0x5f1100;_0xf8a064++){const _0x46e71c=new Date(_0x5e5ece);_0x46e71c['setDate'](_0x46e71c[_0x5b70af(0x22a)]()+_0xf8a064);const _0x215d2a=getLocalDateStr(_0x46e71c);let _0x5c0a44=_0x46e71c['getDay']()-0x1;if(_0x5c0a44===-0x1)_0x5c0a44=0x6;const _0x12ec7e=_0x215d2a===_0x1598b1,_0x4cb636=document[_0x5b70af(0x256)](_0x5b70af(0x262));_0x4cb636[_0x5b70af(0x1dc)]='day-col-header\x20'+(_0x12ec7e?_0x5b70af(0x1f7):''),_0x4cb636[_0x5b70af(0x207)](_0x5b70af(0x2c9),_0x215d2a),_0x4cb636[_0x5b70af(0x28c)]=_0x5b70af(0x243)+_0x27da7c[_0x5c0a44]+_0x5b70af(0x231)+_0x46e71c[_0x5b70af(0x22a)]()+_0x5b70af(0x1ed),_0x312096[_0x5b70af(0x1f0)](_0x4cb636);const _0x4d8d44=document['createElement'](_0x5b70af(0x262));_0x4d8d44[_0x5b70af(0x1dc)]=_0x5b70af(0x22f)+(_0x12ec7e?_0x5b70af(0x1f7):''),_0x4d8d44['setAttribute']('data-date',_0x215d2a),_0x4d8d44['setAttribute'](_0x5b70af(0x271),_0x5c0a44),_0x4bd964[_0x5b70af(0x1f0)](_0x4d8d44);}}function reRenderBlocks(){const _0x4045af=a3_0x35c044;document[_0x4045af(0x204)](_0x4045af(0x274))[_0x4045af(0x1ea)](_0x4c3a2b=>{const _0x26f354=_0x4045af;_0x4c3a2b[_0x26f354(0x204)](_0x26f354(0x26b))['forEach'](_0x153a93=>_0x153a93[_0x26f354(0x21d)]());const _0x526dca=_0x4c3a2b[_0x26f354(0x20e)]('data-date'),_0x2a2a32=parseInt(_0x4c3a2b[_0x26f354(0x20e)](_0x26f354(0x271))),_0x52f663=Math[_0x26f354(0x1fd)](_0x4c3a2b['offsetLeft']);(availabilityPattern[_0x2a2a32]||[])[_0x26f354(0x1ea)](_0x23836f=>{const _0x33dc22=_0x26f354,_0x496eb4=document[_0x33dc22(0x256)](_0x33dc22(0x262));_0x496eb4[_0x33dc22(0x1dc)]='blocked-slot\x20stripe-bg',_0x496eb4[_0x33dc22(0x21b)][_0x33dc22(0x22c)]=_0x23836f*GRID_H+'px',_0x496eb4[_0x33dc22(0x21b)][_0x33dc22(0x294)]='-'+_0x52f663+'px\x20-'+_0x23836f*GRID_H+'px',_0x4c3a2b[_0x33dc22(0x1f0)](_0x496eb4);});if(specialRanges[_0x26f354(0x201)]>0x0){const _0x31fc8d=new Date(_0x526dca+_0x26f354(0x288))[_0x26f354(0x242)](),_0x4cc660=new Date(_0x526dca+_0x26f354(0x283))['getTime']();specialRanges['forEach'](_0x5b01b2=>{const _0x2e837a=_0x26f354,_0x11133f=new Date(_0x5b01b2[_0x2e837a(0x270)])[_0x2e837a(0x242)](),_0x48b5de=new Date(_0x5b01b2[_0x2e837a(0x2c1)])[_0x2e837a(0x242)](),_0xc5c208=Math[_0x2e837a(0x252)](_0x31fc8d,_0x11133f),_0x1eb620=Math['min'](_0x4cc660,_0x48b5de);if(_0xc5c208<_0x1eb620){const _0x1f4b13=(_0xc5c208-_0x31fc8d)/0x36ee80*GRID_H,_0x189b9f=(_0x1eb620-_0xc5c208)/0x36ee80*GRID_H,_0x56c87e=document[_0x2e837a(0x256)](_0x2e837a(0x262));_0x189b9f>=23.5*GRID_H?(_0x56c87e[_0x2e837a(0x1dc)]='day-off-overlay\x20stripe-bg',_0x56c87e[_0x2e837a(0x21b)][_0x2e837a(0x294)]='-'+_0x52f663+_0x2e837a(0x1df)):(_0x56c87e[_0x2e837a(0x1dc)]=_0x2e837a(0x205),_0x56c87e[_0x2e837a(0x21b)]['top']=_0x1f4b13+'px',_0x56c87e[_0x2e837a(0x21b)][_0x2e837a(0x26a)]=_0x189b9f+'px',_0x56c87e['style'][_0x2e837a(0x294)]='-'+_0x52f663+_0x2e837a(0x249)+_0x1f4b13+'px'),_0x4c3a2b[_0x2e837a(0x1f0)](_0x56c87e);}});}renderEventsForColumn(_0x4c3a2b,_0x526dca);});}function renderEventsForColumn(_0x336194,_0x725abe){const _0x1289ee=a3_0x35c044,_0x529285=sessions[_0x1289ee(0x286)](_0x4c98f1=>_0x4c98f1[_0x1289ee(0x224)]===_0x725abe),_0x36e3ee=_0x529285[_0x1289ee(0x281)](_0x156279=>{const _0x556ed9=_0x1289ee,[_0x33e20f,_0x4a5d21]=_0x156279[_0x556ed9(0x270)][_0x556ed9(0x27c)](':')[_0x556ed9(0x281)](Number),[_0x466938,_0x23d3f0]=_0x156279[_0x556ed9(0x2c1)][_0x556ed9(0x27c)](':')[_0x556ed9(0x281)](Number);return{'data':_0x156279,'start':_0x33e20f*0x3c+_0x4a5d21,'end':_0x466938*0x3c+_0x23d3f0,'colIndex':0x0};});_0x36e3ee[_0x1289ee(0x282)]((_0x2b0bc7,_0x17dc29)=>_0x2b0bc7[_0x1289ee(0x270)]-_0x17dc29[_0x1289ee(0x270)]||_0x17dc29[_0x1289ee(0x2c1)]-_0x17dc29[_0x1289ee(0x270)]-(_0x2b0bc7[_0x1289ee(0x2c1)]-_0x2b0bc7[_0x1289ee(0x270)]));const _0x378b16=[];_0x36e3ee['forEach'](_0x3c46cf=>{const _0x6e727f=_0x1289ee;let _0x58b071=![];for(let _0xa89f81=0x0;_0xa89f81<_0x378b16['length'];_0xa89f81++){const _0xeaff95=_0x378b16[_0xa89f81];if(_0x3c46cf[_0x6e727f(0x270)]>=_0xeaff95[_0xeaff95[_0x6e727f(0x201)]-0x1][_0x6e727f(0x2c1)]){_0xeaff95[_0x6e727f(0x2c5)](_0x3c46cf),_0x3c46cf['colIndex']=_0xa89f81,_0x58b071=!![];break;}}!_0x58b071&&(_0x378b16['push']([_0x3c46cf]),_0x3c46cf[_0x6e727f(0x27f)]=_0x378b16['length']-0x1);}),_0x36e3ee['forEach'](_0x9af944=>{const _0x10dbeb=_0x1289ee;let _0x1e23fb=0x0;_0x36e3ee['forEach'](_0x324450=>{const _0x52c1af=a3_0x4752;if(Math[_0x52c1af(0x252)](_0x9af944[_0x52c1af(0x270)],_0x324450[_0x52c1af(0x270)])<Math[_0x52c1af(0x226)](_0x9af944['end'],_0x324450[_0x52c1af(0x2c1)])&&_0x324450[_0x52c1af(0x27f)]>_0x1e23fb)_0x1e23fb=_0x324450[_0x52c1af(0x27f)];});const _0x414d31=_0x1e23fb+0x1,_0x21acc7=0x64/_0x414d31,_0x3b0ebe=_0x9af944['colIndex']*_0x21acc7,_0xd8937c=document['createElement'](_0x10dbeb(0x262)),_0x167772=_0x9af944[_0x10dbeb(0x273)];let _0x403dd5=_0x10dbeb(0x2b4);if(clients&&clients[_0x10dbeb(0x201)]>0x0){const _0x398d0a=clients[_0x10dbeb(0x202)](_0x249caa=>String(_0x249caa['id'])===String(_0x167772[_0x10dbeb(0x233)]));if(_0x398d0a&&_0x398d0a[_0x10dbeb(0x2be)])_0x403dd5=_0x398d0a['color'];}const _0x48d028=_0x167772['status']===_0x10dbeb(0x25b),_0x47980d=_0x48d028?0x1:0.45;_0xd8937c[_0x10dbeb(0x1dc)]=_0x10dbeb(0x266)+(_0x48d028?_0x10dbeb(0x2a5):''),_0xd8937c[_0x10dbeb(0x21b)][_0x10dbeb(0x298)]=hexToRgba(_0x403dd5,_0x47980d),_0xd8937c[_0x10dbeb(0x21b)]['borderLeftColor']=_0x403dd5;const _0x596820=_0x9af944[_0x10dbeb(0x270)]/0x3c*GRID_H,_0x32bead=(_0x9af944[_0x10dbeb(0x2c1)]-_0x9af944[_0x10dbeb(0x270)])/0x3c*GRID_H;_0xd8937c[_0x10dbeb(0x21b)][_0x10dbeb(0x22c)]=_0x596820+'px',_0xd8937c['style'][_0x10dbeb(0x26a)]=Math[_0x10dbeb(0x252)](_0x32bead,0x14)+'px',_0xd8937c[_0x10dbeb(0x21b)]['width']='calc('+_0x21acc7+'%\x20-\x204px)',_0xd8937c['style'][_0x10dbeb(0x27e)]=_0x10dbeb(0x230)+_0x3b0ebe+_0x10dbeb(0x2a8),_0xd8937c[_0x10dbeb(0x21b)]['zIndex']=0xa+_0x9af944[_0x10dbeb(0x27f)];if(_0x21acc7<0x55)_0xd8937c['classList'][_0x10dbeb(0x2c7)](_0x10dbeb(0x24b));let _0x375a7a='';if(_0x167772[_0x10dbeb(0x29d)])_0x375a7a+=_0x10dbeb(0x24e);if(_0x48d028)_0x375a7a+=_0x10dbeb(0x1e6);_0xd8937c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x167772[_0x10dbeb(0x270)]+'\x20-\x20'+_0x167772[_0x10dbeb(0x2c1)]+_0x10dbeb(0x229)+_0x375a7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xd8937c[_0x10dbeb(0x25f)]=_0x411b46=>{const _0x5737a2=_0x10dbeb;_0x411b46[_0x5737a2(0x25a)](),openDetails(_0x167772);},_0x336194['appendChild'](_0xd8937c);});}function openAnalytics(){const _0x52a011=a3_0x35c044,_0x2f968d=document['querySelector'](_0x52a011(0x228));setAnalyticsPeriod(_0x52a011(0x23c),_0x2f968d),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2f35ac,_0x3ea7e4){const _0x5d9c4b=a3_0x35c044;currentAnPeriod=_0x2f35ac,document[_0x5d9c4b(0x204)](_0x5d9c4b(0x228))[_0x5d9c4b(0x1ea)](_0x463f5a=>_0x463f5a[_0x5d9c4b(0x214)][_0x5d9c4b(0x21d)](_0x5d9c4b(0x2cc)));if(_0x3ea7e4)_0x3ea7e4['classList'][_0x5d9c4b(0x2c7)](_0x5d9c4b(0x2cc));const _0x5951d9=document[_0x5d9c4b(0x2c8)](_0x5d9c4b(0x22e));_0x5951d9[_0x5d9c4b(0x21b)][_0x5d9c4b(0x218)]=_0x2f35ac==='custom'?_0x5d9c4b(0x1f9):_0x5d9c4b(0x289);const _0x48c304=new Date();let _0x535771=new Date(),_0x528af4=new Date();if(_0x2f35ac===_0x5d9c4b(0x23c))_0x535771=getStartOfWeek(_0x48c304),_0x528af4=new Date(_0x535771),_0x528af4[_0x5d9c4b(0x29e)](_0x528af4[_0x5d9c4b(0x22a)]()+0x6);else{if(_0x2f35ac==='month')_0x535771=new Date(_0x48c304[_0x5d9c4b(0x279)](),_0x48c304['getMonth'](),0x1),_0x528af4=new Date(_0x48c304['getFullYear'](),_0x48c304['getMonth']()+0x1,0x0);else{!document[_0x5d9c4b(0x2c8)](_0x5d9c4b(0x1fe))[_0x5d9c4b(0x234)]&&(document['getElementById'](_0x5d9c4b(0x1fe))[_0x5d9c4b(0x234)]=getLocalDateStr(_0x48c304),document['getElementById'](_0x5d9c4b(0x26f))[_0x5d9c4b(0x234)]=getLocalDateStr(_0x48c304));refreshAnalytics();return;}}document[_0x5d9c4b(0x2c8)]('anStart')['value']=getLocalDateStr(_0x535771),document[_0x5d9c4b(0x2c8)](_0x5d9c4b(0x26f))[_0x5d9c4b(0x234)]=getLocalDateStr(_0x528af4),refreshAnalytics();}function refreshAnalytics(){const _0x546547=a3_0x35c044,_0x49d2c9=document['getElementById']('anStart')[_0x546547(0x234)],_0x71af76=document[_0x546547(0x2c8)](_0x546547(0x26f))[_0x546547(0x234)];if(!_0x49d2c9||!_0x71af76)return;const _0x4ae4b8=sessions[_0x546547(0x286)](_0x423fa9=>_0x423fa9[_0x546547(0x224)]>=_0x49d2c9&&_0x423fa9['dateStr']<=_0x71af76&&_0x423fa9[_0x546547(0x295)]!==_0x546547(0x297)),_0x24008d=_0x4ae4b8[_0x546547(0x201)],_0x5e27ee=_0x4ae4b8[_0x546547(0x286)](_0x5d5cd0=>_0x5d5cd0['status']===_0x546547(0x25b))[_0x546547(0x201)],_0x424417=_0x24008d>0x0?Math[_0x546547(0x1fd)](_0x5e27ee/_0x24008d*0x64):0x0;document[_0x546547(0x2c8)]('anPercent')['textContent']=_0x424417+'%',document[_0x546547(0x2c8)]('anTotalStats')[_0x546547(0x25e)]=_0x5e27ee+'\x20–∏–∑\x20'+_0x24008d+_0x546547(0x269);const _0x657c11=document[_0x546547(0x2c8)]('anDonutCircle'),_0x2cf777=0x2*Math['PI']*0x23,_0x2d0b33=_0x2cf777-_0x424417/0x64*_0x2cf777;_0x657c11['style']['strokeDashoffset']=_0x2d0b33;const _0x48ef5e={};_0x4ae4b8[_0x546547(0x1ea)](_0x1a8c22=>{const _0x31d18e=_0x546547,_0x401a42=_0x1a8c22[_0x31d18e(0x264)]||_0x31d18e(0x26e);if(!_0x48ef5e[_0x401a42]){const _0x4055e9='#'+_0x401a42['toString']()[_0x31d18e(0x280)](0x0,0x6);_0x48ef5e[_0x401a42]={'total':0x0,'done':0x0,'color':_0x4055e9};}_0x48ef5e[_0x401a42][_0x31d18e(0x25d)]++;if(_0x1a8c22[_0x31d18e(0x295)]===_0x31d18e(0x25b))_0x48ef5e[_0x401a42][_0x31d18e(0x215)]++;});const _0xf29877=document[_0x546547(0x2c8)](_0x546547(0x200));_0xf29877[_0x546547(0x28c)]='';const _0x304d4e=Object[_0x546547(0x1f2)](_0x48ef5e)[_0x546547(0x282)]((_0x59ab79,_0x26d947)=>_0x26d947[0x1][_0x546547(0x25d)]-_0x59ab79[0x1][_0x546547(0x25d)]);if(_0x304d4e['length']===0x0){_0xf29877[_0x546547(0x28c)]=_0x546547(0x20c);return;}_0x304d4e[_0x546547(0x1ea)](([_0x41bc46,_0x5832e4])=>{const _0x12de34=_0x546547,_0x5f279a=Math[_0x12de34(0x1fd)](_0x5832e4[_0x12de34(0x215)]/_0x5832e4[_0x12de34(0x25d)]*0x64),_0x14b9c1=document[_0x12de34(0x256)](_0x12de34(0x262));_0x14b9c1[_0x12de34(0x1dc)]=_0x12de34(0x1e9),_0x14b9c1['style'][_0x12de34(0x21f)]=_0x5832e4[_0x12de34(0x2be)],_0x14b9c1[_0x12de34(0x28c)]=_0x12de34(0x23e)+_0x41bc46['substr'](0x0,0x5)+_0x12de34(0x239)+_0x5832e4['done']+_0x12de34(0x2ad)+_0x5832e4[_0x12de34(0x25d)]+_0x12de34(0x250)+_0x5f279a+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xf29877[_0x12de34(0x1f0)](_0x14b9c1);});}function openDetails(_0x3c6e0d){const _0x5f56b5=a3_0x35c044;currentSession=_0x3c6e0d;const _0x113309=new Date(_0x3c6e0d[_0x5f56b5(0x224)]),_0x1215ac=_0x113309[_0x5f56b5(0x24a)](_0x5f56b5(0x26c),{'weekday':_0x5f56b5(0x2a3),'day':_0x5f56b5(0x272),'month':'long'});document['getElementById'](_0x5f56b5(0x216))[_0x5f56b5(0x25e)]=_0x1215ac[_0x5f56b5(0x28f)](0x0)[_0x5f56b5(0x28b)]()+_0x1215ac[_0x5f56b5(0x2ba)](0x1),document['getElementById'](_0x5f56b5(0x2ac))[_0x5f56b5(0x25e)]=_0x3c6e0d[_0x5f56b5(0x270)]+_0x5f56b5(0x22b)+_0x3c6e0d[_0x5f56b5(0x2c1)],document[_0x5f56b5(0x2c8)](_0x5f56b5(0x2a6))[_0x5f56b5(0x25e)]=_0x3c6e0d[_0x5f56b5(0x2ae)]||_0x5f56b5(0x1e5);const _0x5a346d=document[_0x5f56b5(0x2c8)](_0x5f56b5(0x253)),_0x382536=document[_0x5f56b5(0x2c8)](_0x5f56b5(0x22d)),_0x20ec29=_0x382536[_0x5f56b5(0x23b)](_0x5f56b5(0x236)),_0x427da3=_0x382536[_0x5f56b5(0x23b)](_0x5f56b5(0x259)),_0x510eb1=document[_0x5f56b5(0x2c8)](_0x5f56b5(0x245));if(_0x3c6e0d[_0x5f56b5(0x295)]==='completed')_0x5a346d['textContent']=_0x5f56b5(0x222),_0x5a346d[_0x5f56b5(0x21b)][_0x5f56b5(0x2be)]=_0x5f56b5(0x28a),_0x382536[_0x5f56b5(0x21b)]['display']=_0x5f56b5(0x289);else{_0x5a346d[_0x5f56b5(0x25e)]=_0x5f56b5(0x2ce),_0x5a346d[_0x5f56b5(0x21b)][_0x5f56b5(0x2be)]='var(--acc-blue)',_0x382536['style']['display']=_0x5f56b5(0x287);const _0x5a84c2=new Date(_0x3c6e0d['dateStr']+'T'+_0x3c6e0d[_0x5f56b5(0x270)]),_0xa324f=new Date(),_0x492e38=(_0x5a84c2-_0xa324f)/(0x3e8*0x3c*0x3c),_0x106c3c=coachProfiles[_0x3c6e0d[_0x5f56b5(0x264)]]&&coachProfiles[_0x3c6e0d[_0x5f56b5(0x264)]][_0x5f56b5(0x1ec)]?parseInt(coachProfiles[_0x3c6e0d[_0x5f56b5(0x264)]][_0x5f56b5(0x1ec)]):0x18;if(_0x106c3c===0x0||_0x492e38>=_0x106c3c)_0x20ec29[_0x5f56b5(0x21b)][_0x5f56b5(0x218)]=_0x5f56b5(0x287),_0x427da3[_0x5f56b5(0x21b)][_0x5f56b5(0x218)]=_0x5f56b5(0x287),_0x510eb1[_0x5f56b5(0x21b)][_0x5f56b5(0x218)]=_0x5f56b5(0x289);else{_0x20ec29[_0x5f56b5(0x21b)][_0x5f56b5(0x218)]=_0x5f56b5(0x289),_0x427da3['style'][_0x5f56b5(0x218)]=_0x5f56b5(0x289),_0x510eb1[_0x5f56b5(0x21b)]['display']=_0x5f56b5(0x287);let _0x18355e=_0x106c3c===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x5f56b5(0x1da)+_0x106c3c+_0x5f56b5(0x20a);_0x510eb1[_0x5f56b5(0x25e)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x18355e+_0x5f56b5(0x290);}}document[_0x5f56b5(0x2c8)](_0x5f56b5(0x1fc))[_0x5f56b5(0x214)][_0x5f56b5(0x2c7)](_0x5f56b5(0x2cc)),document['getElementById'](_0x5f56b5(0x211))[_0x5f56b5(0x214)][_0x5f56b5(0x2c7)]('open');}function closeAllSheets(){const _0x210663=a3_0x35c044;document[_0x210663(0x2c8)](_0x210663(0x1fc))['classList'][_0x210663(0x21d)](_0x210663(0x2cc)),document[_0x210663(0x204)]('.sheet')[_0x210663(0x1ea)](_0x4a086d=>_0x4a086d[_0x210663(0x214)][_0x210663(0x21d)]('open'));}function openSheet(_0x5e130c){const _0x3644a1=a3_0x35c044;document[_0x3644a1(0x2c8)](_0x3644a1(0x1fc))['classList'][_0x3644a1(0x2c7)]('active'),document[_0x3644a1(0x2c8)](_0x5e130c)[_0x3644a1(0x214)][_0x3644a1(0x2c7)](_0x3644a1(0x2b2));}function getLocalDateStr(_0x22f861){const _0x2a9dbc=a3_0x35c044,_0x4e5b19=_0x22f861[_0x2a9dbc(0x279)](),_0x5535a9=String(_0x22f861['getMonth']()+0x1)[_0x2a9dbc(0x29b)](0x2,'0'),_0x3d707a=String(_0x22f861[_0x2a9dbc(0x22a)]())[_0x2a9dbc(0x29b)](0x2,'0');return _0x4e5b19+'-'+_0x5535a9+'-'+_0x3d707a;}function getStartOfWeek(_0x2d13b7){const _0x6ea007=a3_0x35c044,_0x1a85df=new Date(_0x2d13b7),_0x23218d=_0x1a85df['getDay'](),_0x4576bc=_0x1a85df[_0x6ea007(0x22a)]()-_0x23218d+(_0x23218d===0x0?-0x6:0x1);return _0x1a85df[_0x6ea007(0x29e)](_0x4576bc),_0x1a85df['setHours'](0x0,0x0,0x0,0x0),_0x1a85df;}function scrollToToday(){const _0xbf6609=getLocalDateStr(new Date());setTimeout(()=>{const _0x321158=a3_0x4752,_0x6a06cc=document[_0x321158(0x23b)](_0x321158(0x29a)+_0xbf6609+'\x22]');if(_0x6a06cc){const _0x59ab5b=document['getElementById'](_0x321158(0x221)),_0x38585a=_0x6a06cc['offsetLeft']-_0x59ab5b[_0x321158(0x244)]/0x2+_0x6a06cc[_0x321158(0x2cb)]/0x2;_0x59ab5b[_0x321158(0x2bf)]({'left':_0x38585a,'behavior':'auto'}),_0x59ab5b['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2dfcb0=a3_0x35c044,_0x439bb9=new Date(),_0xef0385=document[_0x2dfcb0(0x2c8)](_0x2dfcb0(0x20b)),_0x66570e=document[_0x2dfcb0(0x2c8)](_0x2dfcb0(0x29f)),_0x1f0ced=(_0x439bb9[_0x2dfcb0(0x206)]()*0x3c+_0x439bb9[_0x2dfcb0(0x284)]())/0x3c*GRID_H;_0xef0385[_0x2dfcb0(0x21b)][_0x2dfcb0(0x22c)]=_0x1f0ced+'px',_0xef0385[_0x2dfcb0(0x21b)]['display']=_0x2dfcb0(0x287),_0x66570e[_0x2dfcb0(0x21b)][_0x2dfcb0(0x22c)]=_0x1f0ced+'px',_0x66570e[_0x2dfcb0(0x21b)][_0x2dfcb0(0x218)]=_0x2dfcb0(0x287),_0x66570e[_0x2dfcb0(0x25e)]=String(_0x439bb9[_0x2dfcb0(0x206)]())[_0x2dfcb0(0x29b)](0x2,'0')+':'+String(_0x439bb9[_0x2dfcb0(0x284)]())[_0x2dfcb0(0x29b)](0x2,'0');}function a3_0x4752(_0x43391a,_0x149ec0){_0x43391a=_0x43391a-0x1da;const _0xbfdd33=a3_0xe48e();let _0x2acbda=_0xbfdd33[_0x43391a];return _0x2acbda;}function onScroll(){const _0x58b1ab=a3_0x35c044,_0x118ca5=document[_0x58b1ab(0x2c8)]('matrixViewport'),_0x5a54d1=document[_0x58b1ab(0x204)]('.day-col-header');for(let _0x5c828b of _0x5a54d1)if(_0x5c828b[_0x58b1ab(0x27a)]>=_0x118ca5[_0x58b1ab(0x263)]){const _0x30685a=new Date(_0x5c828b[_0x58b1ab(0x20e)](_0x58b1ab(0x2c9)));document[_0x58b1ab(0x2c8)](_0x58b1ab(0x20d))[_0x58b1ab(0x25e)]=_0x30685a[_0x58b1ab(0x210)]('ru',{'month':_0x58b1ab(0x2a3)})[_0x58b1ab(0x28b)]()+'\x20'+_0x30685a[_0x58b1ab(0x279)]();break;}}function showToast(_0x281a5c){const _0x45a2a9=a3_0x35c044,_0x2d630f=document[_0x45a2a9(0x2c8)](_0x45a2a9(0x268));_0x2d630f['textContent']=_0x281a5c,_0x2d630f[_0x45a2a9(0x214)][_0x45a2a9(0x2c7)](_0x45a2a9(0x292)),setTimeout(()=>_0x2d630f[_0x45a2a9(0x214)][_0x45a2a9(0x21d)](_0x45a2a9(0x292)),0x7d0);}function handleInfiniteScroll(){const _0xbf47d2=a3_0x35c044,_0x4e6ef4=document[_0xbf47d2(0x2c8)](_0xbf47d2(0x221)),_0x4f1d6d=_0x4e6ef4[_0xbf47d2(0x263)],_0xc58463=_0x4e6ef4[_0xbf47d2(0x285)],_0xed6c47=_0x4e6ef4['clientWidth'];if(_0xc58463-(_0x4f1d6d+_0xed6c47)<0x12c){const _0x4a6ff1=endOffset;endOffset+=0xe,renderDayRange(_0x4a6ff1+0x1,endOffset),reRenderBlocks();}if(_0x4f1d6d<0x12c){const _0x2427d3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2427d3-0x1),_0x4e6ef4[_0xbf47d2(0x263)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x27df99,_0x8852c8){const _0x4f5750=a3_0x35c044,_0x5d3739=document[_0x4f5750(0x2c8)](_0x4f5750(0x1e1)),_0x894a17=document[_0x4f5750(0x2c8)]('gridColumns'),_0x16e02b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3cbc1e=new Date();_0x3cbc1e[_0x4f5750(0x2a4)](0x0,0x0,0x0,0x0);const _0x5d4eff=getLocalDateStr(new Date()),_0x487c47=document[_0x4f5750(0x2b6)](),_0x1f897e=document['createDocumentFragment']();for(let _0x3a0048=_0x27df99;_0x3a0048<=_0x8852c8;_0x3a0048++){const _0x69b24c=new Date(_0x3cbc1e);_0x69b24c[_0x4f5750(0x29e)](_0x69b24c['getDate']()+_0x3a0048);const _0x3e2e34=getLocalDateStr(_0x69b24c);let _0x3953d9=_0x69b24c[_0x4f5750(0x238)]()-0x1;if(_0x3953d9===-0x1)_0x3953d9=0x6;const _0x12ed91=_0x3e2e34===_0x5d4eff,_0x33d9a0=document[_0x4f5750(0x256)](_0x4f5750(0x262));_0x33d9a0[_0x4f5750(0x1dc)]=_0x4f5750(0x1e3)+(_0x12ed91?'today':''),_0x33d9a0[_0x4f5750(0x207)](_0x4f5750(0x2c9),_0x3e2e34),_0x33d9a0['innerHTML']=_0x4f5750(0x243)+_0x16e02b[_0x3953d9]+_0x4f5750(0x231)+_0x69b24c['getDate']()+_0x4f5750(0x1ed),_0x487c47[_0x4f5750(0x1f0)](_0x33d9a0);const _0x5e9aaf=document[_0x4f5750(0x256)]('div');_0x5e9aaf[_0x4f5750(0x1dc)]=_0x4f5750(0x22f)+(_0x12ed91?_0x4f5750(0x1f7):''),_0x5e9aaf[_0x4f5750(0x207)](_0x4f5750(0x2c9),_0x3e2e34),_0x5e9aaf[_0x4f5750(0x207)](_0x4f5750(0x271),_0x3953d9),_0x1f897e[_0x4f5750(0x1f0)](_0x5e9aaf);}_0x5d3739[_0x4f5750(0x275)](_0x487c47,_0x5d3739['firstChild']),_0x894a17[_0x4f5750(0x275)](_0x1f897e,_0x894a17[_0x4f5750(0x23b)](_0x4f5750(0x274)));}function a3_0xe48e(){const _0x113534=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','1152468cHMZUm','getItem','ccYesBtn','getTime','<div\x20class=\x22dch-day\x22>','clientWidth','cancelHint','DOMContentLoaded','gridColumns','stringify','px\x20-','toLocaleDateString','mini','2269148vzeTMR','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','(((.+)+)+)+$','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','rs-date-chip','max','detStatus','ranges','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','createElement','rsSlotsGrid','exceptions','.btn-reschedule','stopPropagation','completed','#ff453a','total','textContent','onclick','timeColumn','time-label','div','scrollLeft','coachId','BackButton','event-card','scroll','toast','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','height','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','ru-RU','.rs-date-chip','Unknown','anEnd','start','data-day-idx','numeric','data','.day-column','insertBefore','join','617612OVWdYD','customConfirm','getFullYear','offsetLeft','cid','split','\x20–≤\x20','left','colIndex','substr','map','sort','T23:59:59','getMinutes','scrollWidth','filter','block','T00:00:00','none','var(--acc-green)','toUpperCase','innerHTML','rs-time-btn','calendar','charAt','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','all','show','7sJSKnh','backgroundPosition','status','addEventListener','cancelled','backgroundColor','floor','.day-col-header[data-date=\x22','padStart','v9.5-CLIENT-ANALYTICS','seriesId','setDate','timeLineBadge','3493105shOosD','Error\x20setting\x20color:','router.html','long','setHours','\x20status-completed','detNote','visible','%\x20+\x202px)','loadLocal','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','600','detTime','</span>\x20/\x20','note','reschedule','keys','setMonth','open','test','#0a84ff','rgba(10,\x20132,\x20255,\x20','createDocumentFragment','constructor','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','applyData','slice','</div><div\x20class=\x22rs-day-num\x22>','rgba(','ccText','color','scrollTo','href','end','search','then','1383630FsIoJB','push','planned','add','getElementById','data-date','user','offsetWidth','active','WebApp','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','–∑–∞\x20','get_slots','className','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','syncLoad','px\x200px','setBackgroundColor','daysHeaderTrack','sid','day-col-header\x20','json','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','parse','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','client-stat-card','forEach','clients','cancel_window','</div>','error','log','appendChild','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','entries','startsWith','toString','onClick','client_load','today','#050505','flex','fontWeight','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','overlay','round','anStart','settings','analyticsList','length','find','Telegram','querySelectorAll','blocked-range-part\x20stripe-bg','getHours','setAttribute','getMonth','now','\x20—á.','globalTimeLine','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','headerMonth','getAttribute','pattern','toLocaleString','detailsSheet','uc_client_list','POST','classList','done','detDate','initDataUnsafe','display','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','uc_client_sessions','style','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','remove','initData','borderLeftColor','setItem','matrixViewport','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','client_cancel','dateStr','2703495BmcoAt','min','disableVerticalSwipes','.period-switch\x20.p-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDate','\x20-\x20','top','cancelContainer','anCustomDates','day-column\x20','calc(','</div><div\x20class=\x22dch-num\x22>','expand','clientId','value','isArray','.btn-cancel','saveLocally','getDay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rsDatesTrack','querySelector','week','9427208kKJhmf'];a3_0xe48e=function(){return _0x113534;};return a3_0xe48e();}function hexToRgba(_0x4aab78,_0x1c48a7){const _0x10a615=a3_0x35c044;let _0x5f03ca;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x10a615(0x2b3)](_0x4aab78))return _0x5f03ca=_0x4aab78['substring'](0x1)['split'](''),_0x5f03ca['length']==0x3&&(_0x5f03ca=[_0x5f03ca[0x0],_0x5f03ca[0x0],_0x5f03ca[0x1],_0x5f03ca[0x1],_0x5f03ca[0x2],_0x5f03ca[0x2]]),_0x5f03ca='0x'+_0x5f03ca[_0x10a615(0x276)](''),_0x10a615(0x2bc)+[_0x5f03ca>>0x10&0xff,_0x5f03ca>>0x8&0xff,_0x5f03ca&0xff][_0x10a615(0x276)](',')+','+_0x1c48a7+')';return _0x10a615(0x2b5)+_0x1c48a7+')';}let confirmResolver=null;function showCustomConfirm(_0x20ff84,_0x338d6c,_0x5d724b=!![]){const _0x12ab85=a3_0x35c044;document['getElementById']('ccTitle')[_0x12ab85(0x25e)]=_0x20ff84,document[_0x12ab85(0x2c8)](_0x12ab85(0x2bd))[_0x12ab85(0x25e)]=_0x338d6c;const _0x308963=document[_0x12ab85(0x2c8)](_0x12ab85(0x241));return _0x5d724b?(_0x308963[_0x12ab85(0x21b)]['color']=_0x12ab85(0x25c),_0x308963[_0x12ab85(0x21b)][_0x12ab85(0x1fa)]=_0x12ab85(0x2ab)):(_0x308963[_0x12ab85(0x21b)][_0x12ab85(0x2be)]='#0a84ff',_0x308963[_0x12ab85(0x21b)][_0x12ab85(0x1fa)]='600'),new Promise(_0x24ce0a=>{const _0x1c9b5c=_0x12ab85;confirmResolver=_0x24ce0a,document[_0x1c9b5c(0x2c8)](_0x1c9b5c(0x278))[_0x1c9b5c(0x214)][_0x1c9b5c(0x2c7)](_0x1c9b5c(0x2a7));});}function resolveCustomConfirm(_0x179b1e){const _0x146649=a3_0x35c044;document['getElementById'](_0x146649(0x278))[_0x146649(0x214)][_0x146649(0x21d)](_0x146649(0x2a7));if(confirmResolver)confirmResolver(_0x179b1e);}async function tryCancelCurrentSession(){const _0x24378f=a3_0x35c044;if(!currentSession)return;const _0x17789f=await showCustomConfirm(_0x24378f(0x1f1),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x17789f)return;const _0x124070=currentSession;closeAllSheets(),sessions=sessions[_0x24378f(0x286)](_0x558153=>_0x558153['id']!==_0x124070['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x24378f(0x209)]();try{const _0x465f31=window[_0x24378f(0x203)]?.[_0x24378f(0x2cd)],_0x59dcd5=await fetch(API_URL,{'method':_0x24378f(0x213),'body':JSON['stringify']({'action':_0x24378f(0x223),'init_data':_0x465f31?.[_0x24378f(0x21e)]||'','coachId':_0x124070[_0x24378f(0x264)],'dateStr':_0x124070[_0x24378f(0x224)],'sessionId':_0x124070['id']})});if(_0x59dcd5['ok'])DataManager[_0x24378f(0x237)]();}catch(_0x4e24d4){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2b72c8=a3_0x35c044;if(!currentSession)return;document['getElementById'](_0x2b72c8(0x211))[_0x2b72c8(0x214)][_0x2b72c8(0x21d)]('open'),document[_0x2b72c8(0x2c8)]('rescheduleSheet')[_0x2b72c8(0x214)][_0x2b72c8(0x2c7)](_0x2b72c8(0x2b2));const _0x2a7212=document[_0x2b72c8(0x2c8)](_0x2b72c8(0x23a)),_0x474a74=document['getElementById']('rsSlotsGrid');_0x2a7212[_0x2b72c8(0x28c)]='',_0x474a74[_0x2b72c8(0x28c)]=_0x2b72c8(0x219);const [_0x1c5b36,_0x5a5860]=currentSession['start'][_0x2b72c8(0x27c)](':')[_0x2b72c8(0x281)](Number),[_0x31b361,_0x310f15]=currentSession['end'][_0x2b72c8(0x27c)](':')[_0x2b72c8(0x281)](Number),_0x2926ee=_0x31b361*0x3c+_0x310f15-(_0x1c5b36*0x3c+_0x5a5860);try{const _0x5af0ff=window[_0x2b72c8(0x203)]?.[_0x2b72c8(0x2cd)],_0x4ff6ba=await fetch(API_URL,{'method':'POST','body':JSON[_0x2b72c8(0x248)]({'action':_0x2b72c8(0x1db),'coachId':currentSession[_0x2b72c8(0x264)],'duration':_0x2926ee,'init_data':_0x5af0ff?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x164580=await _0x4ff6ba['json']();_0x164580['ok']&&_0x164580[_0x2b72c8(0x273)]?(availableSlotsCache=_0x164580[_0x2b72c8(0x273)],renderRescheduleDates()):_0x474a74[_0x2b72c8(0x28c)]=_0x2b72c8(0x1fb);}catch(_0x111330){_0x474a74[_0x2b72c8(0x28c)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0xe133d=a3_0x35c044,_0x39ba6a=document[_0xe133d(0x2c8)](_0xe133d(0x23a));_0x39ba6a[_0xe133d(0x28c)]='';const _0x211232=Object['keys'](availableSlotsCache)[_0xe133d(0x282)](),_0x450e2c=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x211232[_0xe133d(0x201)]===0x0){document[_0xe133d(0x2c8)](_0xe133d(0x257))[_0xe133d(0x28c)]=_0xe133d(0x1e8);return;}_0x211232[_0xe133d(0x1ea)]((_0x431a15,_0x28eca5)=>{const _0x5c8052=_0xe133d,_0x1c8b6b=new Date(_0x431a15),_0x2bbb91=_0x450e2c[_0x1c8b6b[_0x5c8052(0x238)]()],_0xd2bff6=_0x1c8b6b['getDate'](),_0x3a625e=document[_0x5c8052(0x256)](_0x5c8052(0x262));_0x3a625e[_0x5c8052(0x1dc)]=_0x5c8052(0x251);if(_0x28eca5===0x0)_0x3a625e[_0x5c8052(0x214)][_0x5c8052(0x2c7)]('active');_0x3a625e['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x2bbb91+_0x5c8052(0x2bb)+_0xd2bff6+_0x5c8052(0x1ed),_0x3a625e[_0x5c8052(0x25f)]=()=>selectRsDate(_0x431a15,_0x3a625e),_0x39ba6a['appendChild'](_0x3a625e);}),selectRsDate(_0x211232[0x0],_0x39ba6a['firstChild']);}function selectRsDate(_0x4bc9ec,_0x56add2){const _0x44adb2=a3_0x35c044;selectedRsDate=_0x4bc9ec,document['querySelectorAll'](_0x44adb2(0x26d))[_0x44adb2(0x1ea)](_0x409110=>_0x409110[_0x44adb2(0x214)][_0x44adb2(0x21d)]('active'));if(_0x56add2)_0x56add2[_0x44adb2(0x214)][_0x44adb2(0x2c7)]('active');const _0x5a80dc=document[_0x44adb2(0x2c8)]('rsSlotsGrid');_0x5a80dc[_0x44adb2(0x28c)]='';const _0x22b832=availableSlotsCache[_0x4bc9ec]||[];if(_0x22b832[_0x44adb2(0x201)]===0x0){_0x5a80dc[_0x44adb2(0x28c)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x22b832[_0x44adb2(0x1ea)](_0x3b83d7=>{const _0x26de2d=_0x44adb2,_0x17b2a4=document[_0x26de2d(0x256)]('button');_0x17b2a4[_0x26de2d(0x1dc)]=_0x26de2d(0x28d),_0x17b2a4[_0x26de2d(0x25e)]=_0x3b83d7,_0x17b2a4[_0x26de2d(0x25f)]=()=>confirmReschedule(_0x3b83d7),_0x5a80dc['appendChild'](_0x17b2a4);});}async function confirmReschedule(_0x1fef49){const _0x123688=a3_0x35c044,_0x1356c0=new Date(selectedRsDate),_0x4aefd7=_0x1356c0[_0x123688(0x24a)](_0x123688(0x26c),{'day':_0x123688(0x272),'month':'long'}),_0x18add3=await showCustomConfirm(_0x123688(0x2aa),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x4aefd7+_0x123688(0x27d)+_0x1fef49+'?',![]);if(!_0x18add3)return;closeAllSheets(),showToast(_0x123688(0x2b8)),lastUserActionTime=Date[_0x123688(0x209)]();const _0x2d32b6=currentSession[_0x123688(0x224)],_0x1f6a58=currentSession['id'],[_0x79437c,_0x4c4c10]=currentSession[_0x123688(0x270)]['split'](':')[_0x123688(0x281)](Number),[_0x1b92d8,_0x430571]=currentSession[_0x123688(0x2c1)]['split'](':')[_0x123688(0x281)](Number),_0x111a33=_0x1b92d8*0x3c+_0x430571-(_0x79437c*0x3c+_0x4c4c10),[_0x46d913,_0x40726d]=_0x1fef49['split'](':')[_0x123688(0x281)](Number),_0x5b120c=_0x46d913*0x3c+_0x40726d+_0x111a33,_0x17d471=Math[_0x123688(0x299)](_0x5b120c/0x3c),_0x2c5eda=_0x5b120c%0x3c,_0x2b77aa=String(_0x17d471)[_0x123688(0x29b)](0x2,'0')+':'+String(_0x2c5eda)['padStart'](0x2,'0'),_0x37f2bd=sessions['findIndex'](_0xba344=>_0xba344['id']===_0x1f6a58);_0x37f2bd!==-0x1&&(sessions[_0x37f2bd][_0x123688(0x224)]=selectedRsDate,sessions[_0x37f2bd]['start']=_0x1fef49,sessions[_0x37f2bd][_0x123688(0x2c1)]=_0x2b77aa,reRenderBlocks());try{const _0x501f6e=window[_0x123688(0x203)]?.[_0x123688(0x2cd)],_0x213f9e=await fetch(API_URL,{'method':'POST','body':JSON[_0x123688(0x248)]({'action':_0x123688(0x2af),'init_data':_0x501f6e?.[_0x123688(0x21e)]||'','oldSessionId':_0x1f6a58,'oldDate':_0x2d32b6,'newDate':selectedRsDate,'newTime':_0x1fef49,'coachId':currentSession[_0x123688(0x264)]})}),_0x9539ee=await _0x213f9e[_0x123688(0x1e4)]();!_0x9539ee['ok']?(showToast(_0x123688(0x21c)),DataManager['syncLoad']()):(showToast(_0x123688(0x24d)),DataManager[_0x123688(0x237)]());}catch(_0x38fd49){showToast(_0x123688(0x1dd));}}document[a3_0x35c044(0x296)](a3_0x35c044(0x246),init);