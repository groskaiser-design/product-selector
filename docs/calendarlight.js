const a3_0x2a86b1=a3_0x401b;(function(_0x25cbad,_0x164dbe){const _0x26326e=a3_0x401b,_0x18485e=_0x25cbad();while(!![]){try{const _0x18c71d=parseInt(_0x26326e(0x17f))/0x1*(parseInt(_0x26326e(0x1f9))/0x2)+-parseInt(_0x26326e(0x1ec))/0x3+-parseInt(_0x26326e(0x186))/0x4+-parseInt(_0x26326e(0x1c8))/0x5+parseInt(_0x26326e(0x216))/0x6*(parseInt(_0x26326e(0x1af))/0x7)+-parseInt(_0x26326e(0x167))/0x8*(-parseInt(_0x26326e(0x20f))/0x9)+-parseInt(_0x26326e(0x168))/0xa*(-parseInt(_0x26326e(0x1b3))/0xb);if(_0x18c71d===_0x164dbe)break;else _0x18485e['push'](_0x18485e['shift']());}catch(_0x201051){_0x18485e['push'](_0x18485e['shift']());}}}(a3_0x5436,0x7e3b1));const APP_VERSION=a3_0x2a86b1(0x1b4),API_URL=a3_0x2a86b1(0x212),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2a86b1(0x159),KEY_CLIENTS=a3_0x2a86b1(0x15f);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2a86b1(0x1a7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x59920b=a3_0x2a86b1,_0x14dc1b=(function(){let _0x24f636=!![];return function(_0x3c1065,_0x1619bf){const _0xbdeb93=_0x24f636?function(){const _0x4fa5e9=a3_0x401b;if(_0x1619bf){const _0x469fdc=_0x1619bf[_0x4fa5e9(0x127)](_0x3c1065,arguments);return _0x1619bf=null,_0x469fdc;}}:function(){};return _0x24f636=![],_0xbdeb93;};}()),_0x4f1ac9=_0x14dc1b(this,function(){const _0x28c90b=a3_0x401b;return _0x4f1ac9[_0x28c90b(0x156)]()[_0x28c90b(0x1a4)](_0x28c90b(0x1bf))[_0x28c90b(0x156)]()[_0x28c90b(0x131)](_0x4f1ac9)[_0x28c90b(0x1a4)](_0x28c90b(0x1bf));});_0x4f1ac9();try{const _0x41226c=window[_0x59920b(0x140)]?.[_0x59920b(0x208)];if(!_0x41226c)return;_0x41226c[_0x59920b(0x20d)](),_0x41226c['expand']();try{_0x41226c[_0x59920b(0x179)](_0x59920b(0x18b)),_0x41226c[_0x59920b(0x1c7)]&&_0x41226c[_0x59920b(0x1c7)]('#050505');}catch(_0x1ee0a9){console['log'](_0x59920b(0x1a6),_0x1ee0a9);}try{_0x41226c[_0x59920b(0x141)]&&(_0x41226c[_0x59920b(0x141)][_0x59920b(0x20b)](),_0x41226c[_0x59920b(0x141)][_0x59920b(0x175)](),_0x41226c['BackButton'][_0x59920b(0x1c0)](function(){const _0x1772fc=_0x59920b;window[_0x1772fc(0x1a9)][_0x1772fc(0x19c)]=_0x1772fc(0x154);}));}catch(_0x548fad){console[_0x59920b(0x1d7)](_0x59920b(0x1a5),_0x548fad);}try{if(_0x41226c['disableVerticalSwipes'])_0x41226c[_0x59920b(0x1d3)]();}catch(_0x5e46ae){}}catch(_0x566592){console[_0x59920b(0x199)](_0x59920b(0x18e),_0x566592);}}());function isAdmin(){const _0x253c2e=a3_0x2a86b1;try{const _0x49b6ed=Number(window[_0x253c2e(0x140)]?.[_0x253c2e(0x208)]?.[_0x253c2e(0x138)]?.[_0x253c2e(0x1c9)]?.['id']);return _0x49b6ed===0xbaf7174;}catch(_0x1717d2){return![];}}const DataManager={'saveLocally'(){const _0x2564da=a3_0x2a86b1;try{localStorage[_0x2564da(0x1ce)](KEY_SESSIONS,JSON[_0x2564da(0x1ed)](sessions)),localStorage[_0x2564da(0x1ce)](KEY_CLIENTS,JSON[_0x2564da(0x1ed)](clients)),localStorage[_0x2564da(0x1ce)](KEY_SETTINGS,JSON[_0x2564da(0x1ed)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x480bc9){}},'loadLocal'(){const _0x4447dc=a3_0x2a86b1;try{const _0x29ea53=localStorage[_0x4447dc(0x1d9)](KEY_SESSIONS);if(_0x29ea53)sessions=JSON[_0x4447dc(0x150)](_0x29ea53);const _0x4cd0dd=localStorage['getItem'](KEY_CLIENTS);if(_0x4cd0dd)clients=JSON['parse'](_0x4cd0dd);const _0x583409=localStorage[_0x4447dc(0x1d9)](KEY_SETTINGS);if(_0x583409){const _0x23f7ff=JSON[_0x4447dc(0x150)](_0x583409);if(_0x23f7ff[_0x4447dc(0x204)])availabilityPattern=_0x23f7ff[_0x4447dc(0x204)];if(_0x23f7ff[_0x4447dc(0x16b)])specialRanges=_0x23f7ff['ranges'];if(_0x23f7ff[_0x4447dc(0x1cc)])dateExceptions=_0x23f7ff['exceptions'];}}catch(_0x42a2ac){}},async 'syncLoad'(){const _0x1e38a4=a3_0x2a86b1,_0x1ef1c9=new Date(),_0x168dad=_0x1ef1c9[_0x1e38a4(0x1e6)]()+'-'+String(_0x1ef1c9['getMonth']()+0x1)[_0x1e38a4(0x16e)](0x2,'0'),_0x11d90e=new Date(_0x1ef1c9);_0x11d90e['setMonth'](_0x1ef1c9[_0x1e38a4(0x1b2)]()+0x1);const _0x45c102=_0x11d90e[_0x1e38a4(0x1e6)]()+'-'+String(_0x11d90e[_0x1e38a4(0x1b2)]()+0x1)['padStart'](0x2,'0'),_0x4175a7=Date['now']();try{const _0x41380e=window['Telegram']?.['WebApp'],_0x492de7=_0x41380e?.['initData']||'',[_0x3c4dee,_0xdd7399]=await Promise[_0x1e38a4(0x196)]([fetch(API_URL,{'method':_0x1e38a4(0x17d),'body':JSON[_0x1e38a4(0x1ed)]({'action':_0x1e38a4(0x1d0),'init_data':_0x492de7,'month_str':_0x168dad})})[_0x1e38a4(0x1ca)](_0x2bd521=>_0x2bd521[_0x1e38a4(0x1e9)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x1e38a4(0x1d0),'init_data':_0x492de7,'month_str':_0x45c102})})[_0x1e38a4(0x1ca)](_0x16c59d=>_0x16c59d['json']())]);if(lastUserActionTime>_0x4175a7){console[_0x1e38a4(0x1d7)](_0x1e38a4(0x1e8));return;}if(_0x3c4dee['ok'])this[_0x1e38a4(0x1ad)](_0x3c4dee[_0x1e38a4(0x164)],_0x168dad);if(_0xdd7399['ok'])this[_0x1e38a4(0x1ad)](_0xdd7399[_0x1e38a4(0x164)],_0x45c102);this[_0x1e38a4(0x215)]();}catch(_0x3318c0){}},'applyData'(_0x51ca52,_0x112b58){const _0x488aaa=a3_0x2a86b1;if(!_0x51ca52)return;if(_0x51ca52[_0x488aaa(0x15a)]){if(_0x51ca52[_0x488aaa(0x15a)][_0x488aaa(0x204)])availabilityPattern=_0x51ca52[_0x488aaa(0x15a)][_0x488aaa(0x204)];if(_0x51ca52[_0x488aaa(0x15a)][_0x488aaa(0x16b)])specialRanges=_0x51ca52[_0x488aaa(0x15a)]['ranges'];if(_0x51ca52['settings']['exceptions'])dateExceptions=_0x51ca52[_0x488aaa(0x15a)][_0x488aaa(0x1cc)];}if(_0x51ca52[_0x488aaa(0x182)]&&Array['isArray'](_0x51ca52[_0x488aaa(0x182)]))clients=_0x51ca52['clients'];_0x51ca52[_0x488aaa(0x178)]&&(coachProfiles={...coachProfiles,..._0x51ca52[_0x488aaa(0x178)]}),_0x51ca52[_0x488aaa(0x165)]&&(sessions=sessions[_0x488aaa(0x160)](_0x2bee8d=>!_0x2bee8d[_0x488aaa(0x169)][_0x488aaa(0x1e7)](_0x112b58)),Object['keys'](_0x51ca52[_0x488aaa(0x165)])['forEach'](_0x132a3a=>{const _0x32dc96=_0x488aaa,_0x4afbe2=_0x51ca52['calendar'][_0x132a3a];_0x4afbe2[_0x32dc96(0x161)](_0x58745a=>{const _0x192948=_0x32dc96;sessions['push']({'id':_0x58745a['i'],'clientId':_0x58745a['c'],'coachId':_0x58745a[_0x192948(0x200)],'dateStr':_0x112b58+'-'+_0x132a3a[_0x192948(0x16e)](0x2,'0'),'start':_0x58745a['s'],'end':_0x58745a['e'],'note':_0x58745a['n']||'','status':_0x58745a['st']||'planned','seriesId':_0x58745a[_0x192948(0x21b)]});});})),reRenderBlocks();}};function init(){const _0x82a990=a3_0x2a86b1;DataManager[_0x82a990(0x1bc)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x82a990(0x14b)](_0x82a990(0x1dc))[_0x82a990(0x145)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x15815e=a3_0x2a86b1,_0x409461=document[_0x15815e(0x14b)]('timeColumn'),_0x4c594d=document['getElementById'](_0x15815e(0x1a1));_0x409461[_0x15815e(0x21d)]='',_0x409461[_0x15815e(0x1a2)](_0x4c594d);for(let _0x56568a=0x0;_0x56568a<0x18;_0x56568a++){const _0x18100b=document['createElement'](_0x15815e(0x1b9));_0x18100b[_0x15815e(0x157)]=_0x15815e(0x220);if(_0x56568a>0x0)_0x18100b[_0x15815e(0x21d)]=_0x15815e(0x202)+String(_0x56568a)[_0x15815e(0x16e)](0x2,'0')+_0x15815e(0x12e);_0x409461[_0x15815e(0x1a2)](_0x18100b);}}function a3_0x401b(_0x2dea89,_0x5f0a79){_0x2dea89=_0x2dea89-0x126;const _0x58277c=a3_0x5436();let _0x5b0f90=_0x58277c[_0x2dea89];return _0x5b0f90;}function renderDayRange(_0x33e149,_0x5b86a4){const _0x314b47=a3_0x2a86b1,_0x5c1d9a=document[_0x314b47(0x14b)](_0x314b47(0x149)),_0x35478a=document[_0x314b47(0x14b)](_0x314b47(0x17a)),_0x30e65b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39812c=new Date();_0x39812c[_0x314b47(0x218)](0x0,0x0,0x0,0x0);const _0x20a958=getLocalDateStr(new Date());for(let _0x3fab42=_0x33e149;_0x3fab42<=_0x5b86a4;_0x3fab42++){const _0x45a0bc=new Date(_0x39812c);_0x45a0bc['setDate'](_0x45a0bc[_0x314b47(0x1be)]()+_0x3fab42);const _0x1a51e7=getLocalDateStr(_0x45a0bc);let _0x3af6cc=_0x45a0bc[_0x314b47(0x1c6)]()-0x1;if(_0x3af6cc===-0x1)_0x3af6cc=0x6;const _0x2d787b=_0x1a51e7===_0x20a958,_0x12b27f=document[_0x314b47(0x1aa)](_0x314b47(0x1b9));_0x12b27f[_0x314b47(0x157)]=_0x314b47(0x1eb)+(_0x2d787b?_0x314b47(0x173):''),_0x12b27f[_0x314b47(0x20e)]('data-date',_0x1a51e7),_0x12b27f[_0x314b47(0x21d)]=_0x314b47(0x1db)+_0x30e65b[_0x3af6cc]+_0x314b47(0x174)+_0x45a0bc[_0x314b47(0x1be)]()+'</div>',_0x5c1d9a[_0x314b47(0x1a2)](_0x12b27f);const _0x224268=document[_0x314b47(0x1aa)](_0x314b47(0x1b9));_0x224268[_0x314b47(0x157)]=_0x314b47(0x12b)+(_0x2d787b?_0x314b47(0x173):''),_0x224268['setAttribute'](_0x314b47(0x1ac),_0x1a51e7),_0x224268[_0x314b47(0x20e)](_0x314b47(0x146),_0x3af6cc),_0x35478a['appendChild'](_0x224268);}}function reRenderBlocks(){const _0x2ca9ef=a3_0x2a86b1;document[_0x2ca9ef(0x15b)](_0x2ca9ef(0x163))[_0x2ca9ef(0x161)](_0x2466cf=>{const _0x3e9a8d=_0x2ca9ef;_0x2466cf[_0x3e9a8d(0x15b)](_0x3e9a8d(0x180))['forEach'](_0x56155a=>_0x56155a[_0x3e9a8d(0x1b8)]());const _0x425ad8=_0x2466cf['getAttribute'](_0x3e9a8d(0x1ac)),_0x493067=parseInt(_0x2466cf[_0x3e9a8d(0x177)](_0x3e9a8d(0x146))),_0x5e3e0a=Math['round'](_0x2466cf[_0x3e9a8d(0x1d5)]);(availabilityPattern[_0x493067]||[])[_0x3e9a8d(0x161)](_0x2d7c65=>{const _0x5a8c2d=_0x3e9a8d,_0x22e9cd=document['createElement'](_0x5a8c2d(0x1b9));_0x22e9cd[_0x5a8c2d(0x157)]=_0x5a8c2d(0x14f),_0x22e9cd[_0x5a8c2d(0x16f)]['top']=_0x2d7c65*GRID_H+'px',_0x22e9cd[_0x5a8c2d(0x16f)][_0x5a8c2d(0x170)]='-'+_0x5e3e0a+'px\x20-'+_0x2d7c65*GRID_H+'px',_0x2466cf['appendChild'](_0x22e9cd);});if(specialRanges[_0x3e9a8d(0x1cb)]>0x0){const _0x351fce=new Date(_0x425ad8+_0x3e9a8d(0x20a))['getTime'](),_0x42eca3=new Date(_0x425ad8+_0x3e9a8d(0x209))['getTime']();specialRanges[_0x3e9a8d(0x161)](_0x594911=>{const _0x53e60d=_0x3e9a8d,_0x360b30=new Date(_0x594911[_0x53e60d(0x15c)])[_0x53e60d(0x13d)](),_0x269915=new Date(_0x594911[_0x53e60d(0x176)])[_0x53e60d(0x13d)](),_0x5fcfab=Math[_0x53e60d(0x1ef)](_0x351fce,_0x360b30),_0x4d5555=Math[_0x53e60d(0x1c4)](_0x42eca3,_0x269915);if(_0x5fcfab<_0x4d5555){const _0x4710a1=(_0x5fcfab-_0x351fce)/0x36ee80*GRID_H,_0x2ac9e6=(_0x4d5555-_0x5fcfab)/0x36ee80*GRID_H,_0x315b79=document[_0x53e60d(0x1aa)]('div');_0x2ac9e6>=23.5*GRID_H?(_0x315b79[_0x53e60d(0x157)]='day-off-overlay\x20stripe-bg',_0x315b79[_0x53e60d(0x16f)]['backgroundPosition']='-'+_0x5e3e0a+_0x53e60d(0x219)):(_0x315b79[_0x53e60d(0x157)]=_0x53e60d(0x16a),_0x315b79[_0x53e60d(0x16f)][_0x53e60d(0x1d6)]=_0x4710a1+'px',_0x315b79['style'][_0x53e60d(0x148)]=_0x2ac9e6+'px',_0x315b79['style'][_0x53e60d(0x170)]='-'+_0x5e3e0a+_0x53e60d(0x189)+_0x4710a1+'px'),_0x2466cf[_0x53e60d(0x1a2)](_0x315b79);}});}renderEventsForColumn(_0x2466cf,_0x425ad8);});}function renderEventsForColumn(_0x150f6e,_0x17da19){const _0x57619c=a3_0x2a86b1,_0x4de3d0=sessions[_0x57619c(0x160)](_0xbdc053=>_0xbdc053[_0x57619c(0x169)]===_0x17da19),_0x1be851=_0x4de3d0['map'](_0x4e2681=>{const _0x1ae5ae=_0x57619c,[_0xbbfffc,_0x441ba9]=_0x4e2681[_0x1ae5ae(0x15c)][_0x1ae5ae(0x12c)](':')[_0x1ae5ae(0x193)](Number),[_0x16b7e9,_0x41d04f]=_0x4e2681[_0x1ae5ae(0x176)]['split'](':')[_0x1ae5ae(0x193)](Number);return{'data':_0x4e2681,'start':_0xbbfffc*0x3c+_0x441ba9,'end':_0x16b7e9*0x3c+_0x41d04f,'colIndex':0x0};});_0x1be851['sort']((_0x600a85,_0x361804)=>_0x600a85[_0x57619c(0x15c)]-_0x361804[_0x57619c(0x15c)]||_0x361804[_0x57619c(0x176)]-_0x361804[_0x57619c(0x15c)]-(_0x600a85[_0x57619c(0x176)]-_0x600a85[_0x57619c(0x15c)]));const _0x4d855d=[];_0x1be851['forEach'](_0x350f83=>{const _0x27b881=_0x57619c;let _0x2a2b2d=![];for(let _0x5467e0=0x0;_0x5467e0<_0x4d855d[_0x27b881(0x1cb)];_0x5467e0++){const _0x42dc88=_0x4d855d[_0x5467e0];if(_0x350f83['start']>=_0x42dc88[_0x42dc88[_0x27b881(0x1cb)]-0x1][_0x27b881(0x176)]){_0x42dc88[_0x27b881(0x130)](_0x350f83),_0x350f83[_0x27b881(0x143)]=_0x5467e0,_0x2a2b2d=!![];break;}}!_0x2a2b2d&&(_0x4d855d[_0x27b881(0x130)]([_0x350f83]),_0x350f83[_0x27b881(0x143)]=_0x4d855d[_0x27b881(0x1cb)]-0x1);}),_0x1be851['forEach'](_0x5203d6=>{const _0x2c0725=_0x57619c;let _0x5abcf9=0x0;_0x1be851[_0x2c0725(0x161)](_0x39fcbb=>{const _0x52667f=_0x2c0725;if(Math[_0x52667f(0x1ef)](_0x5203d6['start'],_0x39fcbb[_0x52667f(0x15c)])<Math['min'](_0x5203d6[_0x52667f(0x176)],_0x39fcbb[_0x52667f(0x176)])&&_0x39fcbb[_0x52667f(0x143)]>_0x5abcf9)_0x5abcf9=_0x39fcbb['colIndex'];});const _0x46fbd8=_0x5abcf9+0x1,_0x34a5bb=0x64/_0x46fbd8,_0x4ecfda=_0x5203d6[_0x2c0725(0x143)]*_0x34a5bb,_0x36fecf=document[_0x2c0725(0x1aa)](_0x2c0725(0x1b9)),_0x4cf866=_0x5203d6[_0x2c0725(0x164)];let _0x41eb54='#0a84ff';if(clients&&clients['length']>0x0){const _0x26fbaa=clients[_0x2c0725(0x1cd)](_0x19e199=>String(_0x19e199['id'])===String(_0x4cf866[_0x2c0725(0x128)]));if(_0x26fbaa&&_0x26fbaa[_0x2c0725(0x129)])_0x41eb54=_0x26fbaa[_0x2c0725(0x129)];}const _0xbb1005=_0x4cf866[_0x2c0725(0x221)]===_0x2c0725(0x1de),_0x117e1c=_0xbb1005?0x1:0.45;_0x36fecf[_0x2c0725(0x157)]='event-card'+(_0xbb1005?_0x2c0725(0x191):''),_0x36fecf[_0x2c0725(0x16f)][_0x2c0725(0x13e)]=hexToRgba(_0x41eb54,_0x117e1c),_0x36fecf[_0x2c0725(0x16f)][_0x2c0725(0x192)]=_0x41eb54;const _0x3c559c=_0x5203d6[_0x2c0725(0x15c)]/0x3c*GRID_H,_0x567242=(_0x5203d6[_0x2c0725(0x176)]-_0x5203d6[_0x2c0725(0x15c)])/0x3c*GRID_H;_0x36fecf['style']['top']=_0x3c559c+'px',_0x36fecf['style'][_0x2c0725(0x148)]=Math[_0x2c0725(0x1ef)](_0x567242,0x14)+'px',_0x36fecf['style'][_0x2c0725(0x17b)]='calc('+_0x34a5bb+_0x2c0725(0x214),_0x36fecf[_0x2c0725(0x16f)][_0x2c0725(0x13c)]=_0x2c0725(0x1da)+_0x4ecfda+_0x2c0725(0x188),_0x36fecf[_0x2c0725(0x16f)][_0x2c0725(0x1b1)]=0xa+_0x5203d6[_0x2c0725(0x143)];if(_0x34a5bb<0x55)_0x36fecf['classList'][_0x2c0725(0x1f7)]('mini');let _0x2a30d1='';if(_0x4cf866[_0x2c0725(0x1fe)])_0x2a30d1+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0xbb1005)_0x2a30d1+=_0x2c0725(0x1b5);_0x36fecf[_0x2c0725(0x21d)]=_0x2c0725(0x206)+_0x4cf866[_0x2c0725(0x15c)]+_0x2c0725(0x1e4)+_0x4cf866[_0x2c0725(0x176)]+_0x2c0725(0x13b)+_0x2a30d1+_0x2c0725(0x166),_0x36fecf['onclick']=_0xaa583e=>{const _0x39194e=_0x2c0725;_0xaa583e[_0x39194e(0x17c)](),openDetails(_0x4cf866);},_0x150f6e['appendChild'](_0x36fecf);});}function openAnalytics(){const _0x28e938=a3_0x2a86b1,_0x2553b0=document['querySelector'](_0x28e938(0x19b));setAnalyticsPeriod('week',_0x2553b0),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x4d7641,_0x4cae09){const _0x2c5c93=a3_0x2a86b1;currentAnPeriod=_0x4d7641,document[_0x2c5c93(0x15b)]('.period-switch\x20.p-btn')[_0x2c5c93(0x161)](_0x4139d4=>_0x4139d4[_0x2c5c93(0x187)][_0x2c5c93(0x1b8)](_0x2c5c93(0x1df)));if(_0x4cae09)_0x4cae09['classList'][_0x2c5c93(0x1f7)](_0x2c5c93(0x1df));const _0x1088ee=document[_0x2c5c93(0x14b)](_0x2c5c93(0x20c));_0x1088ee[_0x2c5c93(0x16f)][_0x2c5c93(0x1d4)]=_0x4d7641==='custom'?_0x2c5c93(0x132):'none';const _0x56609a=new Date();let _0x4e953a=new Date(),_0x503c86=new Date();if(_0x4d7641==='week')_0x4e953a=getStartOfWeek(_0x56609a),_0x503c86=new Date(_0x4e953a),_0x503c86[_0x2c5c93(0x1dd)](_0x503c86[_0x2c5c93(0x1be)]()+0x6);else{if(_0x4d7641==='month')_0x4e953a=new Date(_0x56609a[_0x2c5c93(0x1e6)](),_0x56609a[_0x2c5c93(0x1b2)](),0x1),_0x503c86=new Date(_0x56609a[_0x2c5c93(0x1e6)](),_0x56609a['getMonth']()+0x1,0x0);else{!document[_0x2c5c93(0x14b)]('anStart')[_0x2c5c93(0x18d)]&&(document['getElementById']('anStart')[_0x2c5c93(0x18d)]=getLocalDateStr(_0x56609a),document[_0x2c5c93(0x14b)]('anEnd')['value']=getLocalDateStr(_0x56609a));refreshAnalytics();return;}}document[_0x2c5c93(0x14b)](_0x2c5c93(0x207))[_0x2c5c93(0x18d)]=getLocalDateStr(_0x4e953a),document[_0x2c5c93(0x14b)]('anEnd')[_0x2c5c93(0x18d)]=getLocalDateStr(_0x503c86),refreshAnalytics();}function a3_0x5436(){const _0x2f8618=['innerHTML','var(--acc-green)','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','time-label','status','join','–û—Ç–º–µ–Ω–µ–Ω–æ','keys','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','apply','clientId','color','numeric','day-column\x20','split','note',':00</span>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','push','constructor','flex','scrollWidth','var(--acc-blue)','anTotalStats','customConfirm','syncLoad','initDataUnsafe','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalTimeLine','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','getTime','backgroundColor','cancel_window','Telegram','BackButton','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','colIndex','now','addEventListener','data-day-idx','ccText','height','daysHeaderTrack','scrollTop','getElementById','slice','textContent','reschedule','blocked-slot\x20stripe-bg','parse','scrollTo','done','rs-time-btn','router.html','anPercent','toString','className','cancelHint','uc_client_settings','settings','querySelectorAll','start','rsDatesTrack','.day-col-header','uc_client_list','filter','forEach','scrollLeft','.day-column','data','calendar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4756568FRJEfT','10hEFWmL','dateStr','blocked-range-part\x20stripe-bg','ranges','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','padStart','style','backgroundPosition','fontWeight','getHours','today','</div><div\x20class=\x22dch-num\x22>','offClick','end','getAttribute','coach_profiles','setHeaderColor','gridColumns','width','stopPropagation','POST','findIndex','127vESctr','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','clients','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','sort','total','3348704eczYqt','classList','%\x20+\x202px)','px\x20-','toast','#050505','anDonutCircle','value','Critical\x20TMA\x20Error:','querySelector','Unknown','\x20status-completed','borderLeftColor','map','onclick','strokeDashoffset','all','overlay','detNote','error','entries','.period-switch\x20.p-btn','href','client_cancel','round','long','\x20–≤\x20','timeLineBadge','appendChild','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','search','Error\x20setting\x20back\x20button:','Error\x20setting\x20color:','week','visible','location','createElement','.sheet','data-date','applyData','.rs-date-chip','383593JOuYuD','insertBefore','zIndex','getMonth','11862389gOGAOW','v9.5-CLIENT-ANALYTICS','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rgba(10,\x20132,\x20255,\x20','600','remove','div','coachId','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','loadLocal','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','getDate','(((.+)+)+)+$','onClick','\x20–∏–∑\x20','get_slots','anEnd','min','–∑–∞\x20','getDay','setBackgroundColor','2849915iwqCJY','user','then','length','exceptions','find','setItem','block','client_load','auto','initData','disableVerticalSwipes','display','offsetLeft','top','log','toLocaleString','getItem','calc(','<div\x20class=\x22dch-day\x22>','matrixViewport','setDate','completed','active','analyticsList','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','rsSlotsGrid','substring','\x20-\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','getFullYear','startsWith','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','json','cancelled','day-col-header\x20','180132aVWLRe','stringify','detailsSheet','max','charAt','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','firstChild','detStatus','ru-RU','ccTitle','button','add','createDocumentFragment','3176nwakMo','\x20—á.','ccYesBtn','open','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','seriesId','toLocaleDateString','cid','getMinutes','<span>','DOMContentLoaded','pattern','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','anStart','WebApp','T23:59:59','T00:00:00','show','anCustomDates','ready','setAttribute','9KMwQMH','detDate','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','cancelContainer','%\x20-\x204px)','saveLocally','12MHsorg','rs-date-chip','setHours','px\x200px','none','sid','test'];a3_0x5436=function(){return _0x2f8618;};return a3_0x5436();}function refreshAnalytics(){const _0x1ca171=a3_0x2a86b1,_0x539567=document[_0x1ca171(0x14b)](_0x1ca171(0x207))[_0x1ca171(0x18d)],_0x360073=document[_0x1ca171(0x14b)](_0x1ca171(0x1c3))[_0x1ca171(0x18d)];if(!_0x539567||!_0x360073)return;const _0x21698e=sessions[_0x1ca171(0x160)](_0x4bae0a=>_0x4bae0a[_0x1ca171(0x169)]>=_0x539567&&_0x4bae0a['dateStr']<=_0x360073&&_0x4bae0a[_0x1ca171(0x221)]!==_0x1ca171(0x1ea)),_0x3fb350=_0x21698e[_0x1ca171(0x1cb)],_0x5d33b5=_0x21698e['filter'](_0x4130de=>_0x4130de[_0x1ca171(0x221)]===_0x1ca171(0x1de))[_0x1ca171(0x1cb)],_0x134b3b=_0x3fb350>0x0?Math['round'](_0x5d33b5/_0x3fb350*0x64):0x0;document['getElementById'](_0x1ca171(0x155))[_0x1ca171(0x14d)]=_0x134b3b+'%',document['getElementById'](_0x1ca171(0x135))[_0x1ca171(0x14d)]=_0x5d33b5+_0x1ca171(0x1c1)+_0x3fb350+_0x1ca171(0x126);const _0x297ffc=document[_0x1ca171(0x14b)](_0x1ca171(0x18c)),_0x34c1eb=0x2*Math['PI']*0x23,_0xf25303=_0x34c1eb-_0x134b3b/0x64*_0x34c1eb;_0x297ffc[_0x1ca171(0x16f)][_0x1ca171(0x195)]=_0xf25303;const _0x3c54f9={};_0x21698e[_0x1ca171(0x161)](_0x432548=>{const _0xb0b84d=_0x1ca171,_0x3f7260=_0x432548[_0xb0b84d(0x1ba)]||_0xb0b84d(0x190);if(!_0x3c54f9[_0x3f7260]){const _0x2856f4='#'+_0x3f7260[_0xb0b84d(0x156)]()['substr'](0x0,0x6);_0x3c54f9[_0x3f7260]={'total':0x0,'done':0x0,'color':_0x2856f4};}_0x3c54f9[_0x3f7260]['total']++;if(_0x432548[_0xb0b84d(0x221)]===_0xb0b84d(0x1de))_0x3c54f9[_0x3f7260][_0xb0b84d(0x152)]++;});const _0x2e313a=document[_0x1ca171(0x14b)](_0x1ca171(0x1e0));_0x2e313a[_0x1ca171(0x21d)]='';const _0x4e7ec7=Object[_0x1ca171(0x19a)](_0x3c54f9)[_0x1ca171(0x184)]((_0x59d739,_0x4d2919)=>_0x4d2919[0x1][_0x1ca171(0x185)]-_0x59d739[0x1][_0x1ca171(0x185)]);if(_0x4e7ec7[_0x1ca171(0x1cb)]===0x0){_0x2e313a['innerHTML']=_0x1ca171(0x1fd);return;}_0x4e7ec7['forEach'](([_0x286269,_0x1ac7d3])=>{const _0x4cb3ab=_0x1ca171,_0x43fb72=Math[_0x4cb3ab(0x19e)](_0x1ac7d3[_0x4cb3ab(0x152)]/_0x1ac7d3[_0x4cb3ab(0x185)]*0x64),_0x98bf66=document[_0x4cb3ab(0x1aa)](_0x4cb3ab(0x1b9));_0x98bf66[_0x4cb3ab(0x157)]='client-stat-card',_0x98bf66[_0x4cb3ab(0x16f)][_0x4cb3ab(0x192)]=_0x1ac7d3[_0x4cb3ab(0x129)],_0x98bf66[_0x4cb3ab(0x21d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x286269['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1ac7d3['done']+'</span>\x20/\x20'+_0x1ac7d3['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x43fb72+_0x4cb3ab(0x139),_0x2e313a[_0x4cb3ab(0x1a2)](_0x98bf66);});}function openDetails(_0xfabc70){const _0x51fa25=a3_0x2a86b1;currentSession=_0xfabc70;const _0x1e9646=new Date(_0xfabc70[_0x51fa25(0x169)]),_0xd2f48d=_0x1e9646[_0x51fa25(0x1ff)](_0x51fa25(0x1f4),{'weekday':_0x51fa25(0x19f),'day':_0x51fa25(0x12a),'month':_0x51fa25(0x19f)});document['getElementById'](_0x51fa25(0x210))[_0x51fa25(0x14d)]=_0xd2f48d[_0x51fa25(0x1f0)](0x0)['toUpperCase']()+_0xd2f48d[_0x51fa25(0x14c)](0x1),document[_0x51fa25(0x14b)]('detTime')[_0x51fa25(0x14d)]=_0xfabc70[_0x51fa25(0x15c)]+_0x51fa25(0x1e4)+_0xfabc70[_0x51fa25(0x176)],document[_0x51fa25(0x14b)](_0x51fa25(0x198))[_0x51fa25(0x14d)]=_0xfabc70[_0x51fa25(0x12d)]||_0x51fa25(0x1bd);const _0x36dcb5=document[_0x51fa25(0x14b)](_0x51fa25(0x1f3)),_0x411f06=document[_0x51fa25(0x14b)](_0x51fa25(0x213)),_0xe6d429=_0x411f06['querySelector']('.btn-cancel'),_0x4f0d9d=_0x411f06[_0x51fa25(0x18f)]('.btn-reschedule'),_0x2665b9=document['getElementById'](_0x51fa25(0x158));if(_0xfabc70[_0x51fa25(0x221)]===_0x51fa25(0x1de))_0x36dcb5['textContent']=_0x51fa25(0x142),_0x36dcb5[_0x51fa25(0x16f)]['color']=_0x51fa25(0x21e),_0x411f06['style'][_0x51fa25(0x1d4)]=_0x51fa25(0x21a);else{_0x36dcb5[_0x51fa25(0x14d)]=_0x51fa25(0x21f),_0x36dcb5[_0x51fa25(0x16f)][_0x51fa25(0x129)]=_0x51fa25(0x134),_0x411f06[_0x51fa25(0x16f)]['display']=_0x51fa25(0x1cf);const _0x294ad8=new Date(_0xfabc70[_0x51fa25(0x169)]+'T'+_0xfabc70[_0x51fa25(0x15c)]),_0x431b9e=new Date(),_0x43a51b=(_0x294ad8-_0x431b9e)/(0x3e8*0x3c*0x3c),_0x446609=coachProfiles[_0xfabc70['coachId']]&&coachProfiles[_0xfabc70[_0x51fa25(0x1ba)]][_0x51fa25(0x13f)]?parseInt(coachProfiles[_0xfabc70[_0x51fa25(0x1ba)]][_0x51fa25(0x13f)]):0x18;if(_0x446609===0x0||_0x43a51b>=_0x446609)_0xe6d429[_0x51fa25(0x16f)][_0x51fa25(0x1d4)]=_0x51fa25(0x1cf),_0x4f0d9d[_0x51fa25(0x16f)][_0x51fa25(0x1d4)]=_0x51fa25(0x1cf),_0x2665b9['style'][_0x51fa25(0x1d4)]='none';else{_0xe6d429[_0x51fa25(0x16f)]['display']=_0x51fa25(0x21a),_0x4f0d9d[_0x51fa25(0x16f)]['display']=_0x51fa25(0x21a),_0x2665b9[_0x51fa25(0x16f)][_0x51fa25(0x1d4)]='block';let _0x2850c0=_0x446609===0x0?_0x51fa25(0x1bb):_0x51fa25(0x1c5)+_0x446609+_0x51fa25(0x1fa);_0x2665b9[_0x51fa25(0x14d)]=_0x51fa25(0x181)+_0x2850c0+_0x51fa25(0x1e1);}}document['getElementById'](_0x51fa25(0x197))[_0x51fa25(0x187)][_0x51fa25(0x1f7)](_0x51fa25(0x1df)),document[_0x51fa25(0x14b)](_0x51fa25(0x1ee))[_0x51fa25(0x187)][_0x51fa25(0x1f7)](_0x51fa25(0x1fc));}function closeAllSheets(){const _0x476558=a3_0x2a86b1;document[_0x476558(0x14b)](_0x476558(0x197))[_0x476558(0x187)]['remove'](_0x476558(0x1df)),document[_0x476558(0x15b)](_0x476558(0x1ab))[_0x476558(0x161)](_0x4ec006=>_0x4ec006[_0x476558(0x187)][_0x476558(0x1b8)]('open'));}function openSheet(_0x296b11){const _0xeb1683=a3_0x2a86b1;document[_0xeb1683(0x14b)]('overlay')[_0xeb1683(0x187)]['add'](_0xeb1683(0x1df)),document[_0xeb1683(0x14b)](_0x296b11)[_0xeb1683(0x187)][_0xeb1683(0x1f7)](_0xeb1683(0x1fc));}function getLocalDateStr(_0x14eb65){const _0x162611=a3_0x2a86b1,_0x40a8af=_0x14eb65[_0x162611(0x1e6)](),_0x1048ad=String(_0x14eb65[_0x162611(0x1b2)]()+0x1)[_0x162611(0x16e)](0x2,'0'),_0x14fde=String(_0x14eb65[_0x162611(0x1be)]())['padStart'](0x2,'0');return _0x40a8af+'-'+_0x1048ad+'-'+_0x14fde;}function getStartOfWeek(_0x3ae102){const _0x2d5d9e=a3_0x2a86b1,_0x473ab8=new Date(_0x3ae102),_0x136c93=_0x473ab8['getDay'](),_0xad84c1=_0x473ab8['getDate']()-_0x136c93+(_0x136c93===0x0?-0x6:0x1);return _0x473ab8[_0x2d5d9e(0x1dd)](_0xad84c1),_0x473ab8[_0x2d5d9e(0x218)](0x0,0x0,0x0,0x0),_0x473ab8;}function scrollToToday(){const _0x2dbee2=getLocalDateStr(new Date());setTimeout(()=>{const _0x43a4be=a3_0x401b,_0x31c87f=document[_0x43a4be(0x18f)]('.day-col-header[data-date=\x22'+_0x2dbee2+'\x22]');if(_0x31c87f){const _0x427c9a=document[_0x43a4be(0x14b)](_0x43a4be(0x1dc)),_0x51d42d=_0x31c87f['offsetLeft']-_0x427c9a['clientWidth']/0x2+_0x31c87f['offsetWidth']/0x2;_0x427c9a[_0x43a4be(0x151)]({'left':_0x51d42d,'behavior':_0x43a4be(0x1d1)}),_0x427c9a[_0x43a4be(0x14a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3b0add=a3_0x2a86b1,_0x22c144=new Date(),_0x54dcf8=document['getElementById'](_0x3b0add(0x13a)),_0x53f312=document[_0x3b0add(0x14b)]('timeLineBadge'),_0x4ac3cb=(_0x22c144[_0x3b0add(0x172)]()*0x3c+_0x22c144[_0x3b0add(0x201)]())/0x3c*GRID_H;_0x54dcf8[_0x3b0add(0x16f)][_0x3b0add(0x1d6)]=_0x4ac3cb+'px',_0x54dcf8['style'][_0x3b0add(0x1d4)]=_0x3b0add(0x1cf),_0x53f312[_0x3b0add(0x16f)][_0x3b0add(0x1d6)]=_0x4ac3cb+'px',_0x53f312['style'][_0x3b0add(0x1d4)]=_0x3b0add(0x1cf),_0x53f312['textContent']=String(_0x22c144[_0x3b0add(0x172)]())[_0x3b0add(0x16e)](0x2,'0')+':'+String(_0x22c144['getMinutes']())[_0x3b0add(0x16e)](0x2,'0');}function onScroll(){const _0x587854=a3_0x2a86b1,_0x438a77=document['getElementById'](_0x587854(0x1dc)),_0x195fee=document[_0x587854(0x15b)](_0x587854(0x15e));for(let _0x5f69ae of _0x195fee)if(_0x5f69ae[_0x587854(0x1d5)]>=_0x438a77[_0x587854(0x162)]){const _0x457251=new Date(_0x5f69ae[_0x587854(0x177)](_0x587854(0x1ac)));document[_0x587854(0x14b)]('headerMonth')[_0x587854(0x14d)]=_0x457251[_0x587854(0x1d8)]('ru',{'month':_0x587854(0x19f)})['toUpperCase']()+'\x20'+_0x457251[_0x587854(0x1e6)]();break;}}function showToast(_0x327649){const _0x390fd4=a3_0x2a86b1,_0x2d96df=document[_0x390fd4(0x14b)](_0x390fd4(0x18a));_0x2d96df['textContent']=_0x327649,_0x2d96df[_0x390fd4(0x187)][_0x390fd4(0x1f7)]('show'),setTimeout(()=>_0x2d96df[_0x390fd4(0x187)][_0x390fd4(0x1b8)](_0x390fd4(0x20b)),0x7d0);}function handleInfiniteScroll(){const _0x2eec58=a3_0x2a86b1,_0x10d678=document['getElementById'](_0x2eec58(0x1dc)),_0x4536aa=_0x10d678[_0x2eec58(0x162)],_0x28cf05=_0x10d678[_0x2eec58(0x133)],_0x596f38=_0x10d678['clientWidth'];if(_0x28cf05-(_0x4536aa+_0x596f38)<0x12c){const _0x3d1e1f=endOffset;endOffset+=0xe,renderDayRange(_0x3d1e1f+0x1,endOffset),reRenderBlocks();}if(_0x4536aa<0x12c){const _0x4fe239=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4fe239-0x1),_0x10d678[_0x2eec58(0x162)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x300eea,_0x32a0d6){const _0x5592f4=a3_0x2a86b1,_0x22f33d=document[_0x5592f4(0x14b)](_0x5592f4(0x149)),_0x57f653=document[_0x5592f4(0x14b)](_0x5592f4(0x17a)),_0x517fab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41388a=new Date();_0x41388a['setHours'](0x0,0x0,0x0,0x0);const _0x40f7a=getLocalDateStr(new Date()),_0x35bf54=document[_0x5592f4(0x1f8)](),_0x24ccfc=document[_0x5592f4(0x1f8)]();for(let _0x25e577=_0x300eea;_0x25e577<=_0x32a0d6;_0x25e577++){const _0x514c53=new Date(_0x41388a);_0x514c53[_0x5592f4(0x1dd)](_0x514c53[_0x5592f4(0x1be)]()+_0x25e577);const _0x3d22d0=getLocalDateStr(_0x514c53);let _0x2cb762=_0x514c53[_0x5592f4(0x1c6)]()-0x1;if(_0x2cb762===-0x1)_0x2cb762=0x6;const _0xc32e13=_0x3d22d0===_0x40f7a,_0x24f3b8=document[_0x5592f4(0x1aa)]('div');_0x24f3b8[_0x5592f4(0x157)]='day-col-header\x20'+(_0xc32e13?_0x5592f4(0x173):''),_0x24f3b8[_0x5592f4(0x20e)](_0x5592f4(0x1ac),_0x3d22d0),_0x24f3b8[_0x5592f4(0x21d)]=_0x5592f4(0x1db)+_0x517fab[_0x2cb762]+_0x5592f4(0x174)+_0x514c53[_0x5592f4(0x1be)]()+'</div>',_0x35bf54[_0x5592f4(0x1a2)](_0x24f3b8);const _0x41ac57=document[_0x5592f4(0x1aa)](_0x5592f4(0x1b9));_0x41ac57[_0x5592f4(0x157)]=_0x5592f4(0x12b)+(_0xc32e13?_0x5592f4(0x173):''),_0x41ac57[_0x5592f4(0x20e)](_0x5592f4(0x1ac),_0x3d22d0),_0x41ac57[_0x5592f4(0x20e)](_0x5592f4(0x146),_0x2cb762),_0x24ccfc[_0x5592f4(0x1a2)](_0x41ac57);}_0x22f33d['insertBefore'](_0x35bf54,_0x22f33d['firstChild']),_0x57f653[_0x5592f4(0x1b0)](_0x24ccfc,_0x57f653['querySelector']('.day-column'));}function hexToRgba(_0x277d16,_0xe4d8a5){const _0x1b045e=a3_0x2a86b1;let _0x501718;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1b045e(0x21c)](_0x277d16))return _0x501718=_0x277d16[_0x1b045e(0x1e3)](0x1)['split'](''),_0x501718[_0x1b045e(0x1cb)]==0x3&&(_0x501718=[_0x501718[0x0],_0x501718[0x0],_0x501718[0x1],_0x501718[0x1],_0x501718[0x2],_0x501718[0x2]]),_0x501718='0x'+_0x501718[_0x1b045e(0x222)](''),'rgba('+[_0x501718>>0x10&0xff,_0x501718>>0x8&0xff,_0x501718&0xff][_0x1b045e(0x222)](',')+','+_0xe4d8a5+')';return _0x1b045e(0x1b6)+_0xe4d8a5+')';}let confirmResolver=null;function showCustomConfirm(_0x44fd4e,_0x236385,_0x333970=!![]){const _0x546140=a3_0x2a86b1;document[_0x546140(0x14b)](_0x546140(0x1f5))['textContent']=_0x44fd4e,document['getElementById'](_0x546140(0x147))[_0x546140(0x14d)]=_0x236385;const _0x14eda1=document[_0x546140(0x14b)](_0x546140(0x1fb));return _0x333970?(_0x14eda1[_0x546140(0x16f)]['color']='#ff453a',_0x14eda1[_0x546140(0x16f)][_0x546140(0x171)]='600'):(_0x14eda1[_0x546140(0x16f)][_0x546140(0x129)]='#0a84ff',_0x14eda1[_0x546140(0x16f)][_0x546140(0x171)]=_0x546140(0x1b7)),new Promise(_0x341df3=>{const _0x348e3d=_0x546140;confirmResolver=_0x341df3,document[_0x348e3d(0x14b)]('customConfirm')[_0x348e3d(0x187)]['add'](_0x348e3d(0x1a8));});}function resolveCustomConfirm(_0x1be887){const _0x52fd2a=a3_0x2a86b1;document[_0x52fd2a(0x14b)](_0x52fd2a(0x136))[_0x52fd2a(0x187)][_0x52fd2a(0x1b8)](_0x52fd2a(0x1a8));if(confirmResolver)confirmResolver(_0x1be887);}async function tryCancelCurrentSession(){const _0x30d23=a3_0x2a86b1;if(!currentSession)return;const _0x44e93f=await showCustomConfirm(_0x30d23(0x16c),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x44e93f)return;const _0x28d499=currentSession;closeAllSheets(),sessions=sessions[_0x30d23(0x160)](_0x22f695=>_0x22f695['id']!==_0x28d499['id']),reRenderBlocks(),showToast(_0x30d23(0x223)),lastUserActionTime=Date[_0x30d23(0x144)]();try{const _0x57c177=window['Telegram']?.['WebApp'],_0x107ffe=await fetch(API_URL,{'method':'POST','body':JSON[_0x30d23(0x1ed)]({'action':_0x30d23(0x19d),'init_data':_0x57c177?.[_0x30d23(0x1d2)]||'','coachId':_0x28d499[_0x30d23(0x1ba)],'dateStr':_0x28d499['dateStr'],'sessionId':_0x28d499['id']})});if(_0x107ffe['ok'])DataManager['saveLocally']();}catch(_0x45c887){showToast(_0x30d23(0x1a3));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4af0cd=a3_0x2a86b1;if(!currentSession)return;document[_0x4af0cd(0x14b)]('detailsSheet')['classList'][_0x4af0cd(0x1b8)]('open'),document['getElementById']('rescheduleSheet')['classList'][_0x4af0cd(0x1f7)](_0x4af0cd(0x1fc));const _0x653225=document[_0x4af0cd(0x14b)]('rsDatesTrack'),_0x352c6a=document[_0x4af0cd(0x14b)](_0x4af0cd(0x1e2));_0x653225[_0x4af0cd(0x21d)]='',_0x352c6a['innerHTML']=_0x4af0cd(0x183);const [_0x3370f0,_0x4746df]=currentSession['start'][_0x4af0cd(0x12c)](':')[_0x4af0cd(0x193)](Number),[_0x352f9d,_0x34e67e]=currentSession[_0x4af0cd(0x176)][_0x4af0cd(0x12c)](':')[_0x4af0cd(0x193)](Number),_0x190c73=_0x352f9d*0x3c+_0x34e67e-(_0x3370f0*0x3c+_0x4746df);try{const _0x4a835e=window['Telegram']?.['WebApp'],_0x5e302b=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x4af0cd(0x1c2),'coachId':currentSession[_0x4af0cd(0x1ba)],'duration':_0x190c73,'init_data':_0x4a835e?.[_0x4af0cd(0x1d2)]||'','excludeSessionId':currentSession['id']})}),_0x43bb6c=await _0x5e302b[_0x4af0cd(0x1e9)]();_0x43bb6c['ok']&&_0x43bb6c[_0x4af0cd(0x164)]?(availableSlotsCache=_0x43bb6c[_0x4af0cd(0x164)],renderRescheduleDates()):_0x352c6a[_0x4af0cd(0x21d)]=_0x4af0cd(0x211);}catch(_0x4700d5){_0x352c6a[_0x4af0cd(0x21d)]=_0x4af0cd(0x1e5);}}function renderRescheduleDates(){const _0x503e9e=a3_0x2a86b1,_0x34b8fe=document['getElementById'](_0x503e9e(0x15d));_0x34b8fe[_0x503e9e(0x21d)]='';const _0x20d72c=Object[_0x503e9e(0x224)](availableSlotsCache)[_0x503e9e(0x184)](),_0x5f5705=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x20d72c[_0x503e9e(0x1cb)]===0x0){document[_0x503e9e(0x14b)](_0x503e9e(0x1e2))[_0x503e9e(0x21d)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x20d72c[_0x503e9e(0x161)]((_0x58c27c,_0x148f16)=>{const _0x3c1d50=_0x503e9e,_0x1f0977=new Date(_0x58c27c),_0x4da5e5=_0x5f5705[_0x1f0977[_0x3c1d50(0x1c6)]()],_0x5dd073=_0x1f0977['getDate'](),_0x264e40=document[_0x3c1d50(0x1aa)](_0x3c1d50(0x1b9));_0x264e40[_0x3c1d50(0x157)]=_0x3c1d50(0x217);if(_0x148f16===0x0)_0x264e40[_0x3c1d50(0x187)][_0x3c1d50(0x1f7)](_0x3c1d50(0x1df));_0x264e40['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x4da5e5+'</div><div\x20class=\x22rs-day-num\x22>'+_0x5dd073+'</div>',_0x264e40['onclick']=()=>selectRsDate(_0x58c27c,_0x264e40),_0x34b8fe[_0x3c1d50(0x1a2)](_0x264e40);}),selectRsDate(_0x20d72c[0x0],_0x34b8fe[_0x503e9e(0x1f2)]);}function selectRsDate(_0x368ac8,_0x58eead){const _0x276090=a3_0x2a86b1;selectedRsDate=_0x368ac8,document[_0x276090(0x15b)](_0x276090(0x1ae))[_0x276090(0x161)](_0x467c47=>_0x467c47['classList'][_0x276090(0x1b8)](_0x276090(0x1df)));if(_0x58eead)_0x58eead[_0x276090(0x187)][_0x276090(0x1f7)](_0x276090(0x1df));const _0x6c60da=document[_0x276090(0x14b)]('rsSlotsGrid');_0x6c60da[_0x276090(0x21d)]='';const _0x13023b=availableSlotsCache[_0x368ac8]||[];if(_0x13023b[_0x276090(0x1cb)]===0x0){_0x6c60da['innerHTML']=_0x276090(0x211);return;}_0x13023b[_0x276090(0x161)](_0x80577=>{const _0x1e5d16=_0x276090,_0x1761bd=document[_0x1e5d16(0x1aa)](_0x1e5d16(0x1f6));_0x1761bd[_0x1e5d16(0x157)]=_0x1e5d16(0x153),_0x1761bd['textContent']=_0x80577,_0x1761bd[_0x1e5d16(0x194)]=()=>confirmReschedule(_0x80577),_0x6c60da[_0x1e5d16(0x1a2)](_0x1761bd);});}async function confirmReschedule(_0x6f8938){const _0x7f921b=a3_0x2a86b1,_0x324876=new Date(selectedRsDate),_0x52521d=_0x324876['toLocaleDateString'](_0x7f921b(0x1f4),{'day':_0x7f921b(0x12a),'month':_0x7f921b(0x19f)}),_0x1f90c3=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x52521d+_0x7f921b(0x1a0)+_0x6f8938+'?',![]);if(!_0x1f90c3)return;closeAllSheets(),showToast(_0x7f921b(0x16d)),lastUserActionTime=Date[_0x7f921b(0x144)]();const _0x25601c=currentSession['dateStr'],_0x377fb8=currentSession['id'],[_0x12cbf2,_0x1b2b21]=currentSession[_0x7f921b(0x15c)][_0x7f921b(0x12c)](':')[_0x7f921b(0x193)](Number),[_0x388999,_0x422f2c]=currentSession[_0x7f921b(0x176)]['split'](':')[_0x7f921b(0x193)](Number),_0x300f35=_0x388999*0x3c+_0x422f2c-(_0x12cbf2*0x3c+_0x1b2b21),[_0x3ba135,_0x5042b3]=_0x6f8938[_0x7f921b(0x12c)](':')[_0x7f921b(0x193)](Number),_0x5d6a84=_0x3ba135*0x3c+_0x5042b3+_0x300f35,_0xa32d03=Math[_0x7f921b(0x205)](_0x5d6a84/0x3c),_0x449cc0=_0x5d6a84%0x3c,_0x5c985b=String(_0xa32d03)[_0x7f921b(0x16e)](0x2,'0')+':'+String(_0x449cc0)[_0x7f921b(0x16e)](0x2,'0'),_0x2574b3=sessions[_0x7f921b(0x17e)](_0x282f4b=>_0x282f4b['id']===_0x377fb8);_0x2574b3!==-0x1&&(sessions[_0x2574b3][_0x7f921b(0x169)]=selectedRsDate,sessions[_0x2574b3][_0x7f921b(0x15c)]=_0x6f8938,sessions[_0x2574b3][_0x7f921b(0x176)]=_0x5c985b,reRenderBlocks());try{const _0x50500b=window['Telegram']?.[_0x7f921b(0x208)],_0x3da4f2=await fetch(API_URL,{'method':_0x7f921b(0x17d),'body':JSON[_0x7f921b(0x1ed)]({'action':_0x7f921b(0x14e),'init_data':_0x50500b?.[_0x7f921b(0x1d2)]||'','oldSessionId':_0x377fb8,'oldDate':_0x25601c,'newDate':selectedRsDate,'newTime':_0x6f8938,'coachId':currentSession[_0x7f921b(0x1ba)]})}),_0x253bb8=await _0x3da4f2[_0x7f921b(0x1e9)]();!_0x253bb8['ok']?(showToast(_0x7f921b(0x12f)),DataManager[_0x7f921b(0x137)]()):(showToast(_0x7f921b(0x1f1)),DataManager['saveLocally']());}catch(_0x3eed31){showToast(_0x7f921b(0x1a3));}}document[a3_0x2a86b1(0x145)](a3_0x2a86b1(0x203),init);