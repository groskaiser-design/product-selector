const a3_0x367b74=a3_0x5504;(function(_0x1b50dc,_0x5bae9e){const _0x13deab=a3_0x5504,_0x4fed79=_0x1b50dc();while(!![]){try{const _0x21eb13=-parseInt(_0x13deab(0x2ab))/0x1+-parseInt(_0x13deab(0x23c))/0x2*(-parseInt(_0x13deab(0x228))/0x3)+-parseInt(_0x13deab(0x239))/0x4*(parseInt(_0x13deab(0x238))/0x5)+-parseInt(_0x13deab(0x212))/0x6+-parseInt(_0x13deab(0x234))/0x7*(parseInt(_0x13deab(0x24a))/0x8)+-parseInt(_0x13deab(0x1fd))/0x9*(parseInt(_0x13deab(0x244))/0xa)+parseInt(_0x13deab(0x23e))/0xb*(parseInt(_0x13deab(0x20b))/0xc);if(_0x21eb13===_0x5bae9e)break;else _0x4fed79['push'](_0x4fed79['shift']());}catch(_0x4e8a5d){_0x4fed79['push'](_0x4fed79['shift']());}}}(a3_0x5b25,0x79e1f));const APP_VERSION=a3_0x367b74(0x205),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x367b74(0x217),KEY_CLIENTS=a3_0x367b74(0x2a5);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x367b74(0x1ea),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2cd657=a3_0x367b74,_0x3f495e=(function(){let _0x2b897b=!![];return function(_0x3f5c60,_0x25205f){const _0x486ad9=_0x2b897b?function(){if(_0x25205f){const _0x1ec099=_0x25205f['apply'](_0x3f5c60,arguments);return _0x25205f=null,_0x1ec099;}}:function(){};return _0x2b897b=![],_0x486ad9;};}()),_0x3ebc7b=_0x3f495e(this,function(){const _0x19b0bc=a3_0x5504;return _0x3ebc7b['toString']()[_0x19b0bc(0x262)](_0x19b0bc(0x1ec))[_0x19b0bc(0x1f9)]()['constructor'](_0x3ebc7b)[_0x19b0bc(0x262)](_0x19b0bc(0x1ec));});_0x3ebc7b();try{const _0x97326b=window[_0x2cd657(0x2c5)]?.['WebApp'];if(!_0x97326b)return;_0x97326b[_0x2cd657(0x1eb)](),_0x97326b[_0x2cd657(0x21f)]();try{_0x97326b['setHeaderColor'](_0x2cd657(0x297)),_0x97326b['setBackgroundColor']&&_0x97326b[_0x2cd657(0x291)]('#050505');}catch(_0x52fe60){console[_0x2cd657(0x1fa)]('Error\x20setting\x20color:',_0x52fe60);}try{_0x97326b[_0x2cd657(0x1e6)]&&(_0x97326b[_0x2cd657(0x1e6)][_0x2cd657(0x2c9)](),_0x97326b['BackButton'][_0x2cd657(0x256)](),_0x97326b['BackButton'][_0x2cd657(0x281)](function(){const _0x1c62ca=_0x2cd657;window['location'][_0x1c62ca(0x2ca)]=_0x1c62ca(0x2c2);}));}catch(_0x10fdc0){console['log'](_0x2cd657(0x204),_0x10fdc0);}try{if(_0x97326b[_0x2cd657(0x1f7)])_0x97326b[_0x2cd657(0x1f7)]();}catch(_0xaba862){}}catch(_0x564834){console[_0x2cd657(0x293)](_0x2cd657(0x27e),_0x564834);}}());function isAdmin(){const _0x4e6c08=a3_0x367b74;try{const _0x3f0d9d=Number(window[_0x4e6c08(0x2c5)]?.[_0x4e6c08(0x24f)]?.[_0x4e6c08(0x2b5)]?.[_0x4e6c08(0x278)]?.['id']);return _0x3f0d9d===0xbaf7174;}catch(_0x47f0f9){return![];}}function a3_0x5504(_0x58db5d,_0x3d34b4){_0x58db5d=_0x58db5d-0x1e3;const _0x55dc63=a3_0x5b25();let _0x5c4a04=_0x55dc63[_0x58db5d];return _0x5c4a04;}const DataManager={'saveLocally'(){const _0x48b0c3=a3_0x367b74;try{localStorage[_0x48b0c3(0x25d)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x48b0c3(0x25d)](KEY_CLIENTS,JSON[_0x48b0c3(0x221)](clients)),localStorage[_0x48b0c3(0x25d)](KEY_SETTINGS,JSON[_0x48b0c3(0x221)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x316ceb){}},'loadLocal'(){const _0x1b362a=a3_0x367b74;try{const _0xfd5227=localStorage['getItem'](KEY_SESSIONS);if(_0xfd5227)sessions=JSON[_0x1b362a(0x28c)](_0xfd5227);const _0x5b5e4e=localStorage[_0x1b362a(0x1f3)](KEY_CLIENTS);if(_0x5b5e4e)clients=JSON['parse'](_0x5b5e4e);const _0x3cbe10=localStorage[_0x1b362a(0x1f3)](KEY_SETTINGS);if(_0x3cbe10){const _0x29f57c=JSON[_0x1b362a(0x28c)](_0x3cbe10);if(_0x29f57c['pattern'])availabilityPattern=_0x29f57c[_0x1b362a(0x235)];if(_0x29f57c['ranges'])specialRanges=_0x29f57c['ranges'];if(_0x29f57c[_0x1b362a(0x2a6)])dateExceptions=_0x29f57c[_0x1b362a(0x2a6)];}}catch(_0x31c27e){}},async 'syncLoad'(){const _0x5bc1ff=a3_0x367b74,_0x4ecef1=new Date(),_0x2edbdd=_0x4ecef1[_0x5bc1ff(0x220)]()+'-'+String(_0x4ecef1[_0x5bc1ff(0x247)]()+0x1)[_0x5bc1ff(0x225)](0x2,'0'),_0x1fc2cc=new Date(_0x4ecef1);_0x1fc2cc['setMonth'](_0x4ecef1[_0x5bc1ff(0x247)]()+0x1);const _0x471c74=_0x1fc2cc['getFullYear']()+'-'+String(_0x1fc2cc[_0x5bc1ff(0x247)]()+0x1)[_0x5bc1ff(0x225)](0x2,'0'),_0x3c2e20=Date['now']();try{const _0x15250d=window[_0x5bc1ff(0x2c5)]?.[_0x5bc1ff(0x24f)],_0x478048=_0x15250d?.[_0x5bc1ff(0x2e3)]||'',[_0x12c379,_0x572da1]=await Promise[_0x5bc1ff(0x25c)]([fetch(API_URL,{'method':'POST','body':JSON[_0x5bc1ff(0x221)]({'action':_0x5bc1ff(0x266),'init_data':_0x478048,'month_str':_0x2edbdd})})[_0x5bc1ff(0x276)](_0x587265=>_0x587265['json']()),fetch(API_URL,{'method':_0x5bc1ff(0x2aa),'body':JSON[_0x5bc1ff(0x221)]({'action':_0x5bc1ff(0x266),'init_data':_0x478048,'month_str':_0x471c74})})['then'](_0x1a8405=>_0x1a8405[_0x5bc1ff(0x1e4)]())]);if(lastUserActionTime>_0x3c2e20){console[_0x5bc1ff(0x1fa)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x12c379['ok'])this[_0x5bc1ff(0x25a)](_0x12c379[_0x5bc1ff(0x1f5)],_0x2edbdd);if(_0x572da1['ok'])this[_0x5bc1ff(0x25a)](_0x572da1[_0x5bc1ff(0x1f5)],_0x471c74);this['saveLocally']();}catch(_0x49fe69){}},'applyData'(_0x2fd7a4,_0x59fcb5){const _0x1bb3a2=a3_0x367b74;if(!_0x2fd7a4)return;if(_0x2fd7a4[_0x1bb3a2(0x201)]){if(_0x2fd7a4[_0x1bb3a2(0x201)][_0x1bb3a2(0x235)])availabilityPattern=_0x2fd7a4[_0x1bb3a2(0x201)][_0x1bb3a2(0x235)];if(_0x2fd7a4[_0x1bb3a2(0x201)][_0x1bb3a2(0x27b)])specialRanges=_0x2fd7a4['settings'][_0x1bb3a2(0x27b)];if(_0x2fd7a4[_0x1bb3a2(0x201)][_0x1bb3a2(0x2a6)])dateExceptions=_0x2fd7a4['settings']['exceptions'];}if(_0x2fd7a4[_0x1bb3a2(0x270)]&&Array[_0x1bb3a2(0x1ef)](_0x2fd7a4['clients']))clients=_0x2fd7a4['clients'];_0x2fd7a4['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x2fd7a4[_0x1bb3a2(0x280)]}),_0x2fd7a4[_0x1bb3a2(0x20c)]&&(sessions=sessions[_0x1bb3a2(0x215)](_0x561325=>!_0x561325[_0x1bb3a2(0x2ce)][_0x1bb3a2(0x2c8)](_0x59fcb5)),Object[_0x1bb3a2(0x22b)](_0x2fd7a4[_0x1bb3a2(0x20c)])[_0x1bb3a2(0x1f4)](_0x7163b1=>{const _0x377ae3=_0x1bb3a2,_0x137d3b=_0x2fd7a4['calendar'][_0x7163b1];_0x137d3b[_0x377ae3(0x1f4)](_0x27c9f3=>{const _0x32e166=_0x377ae3;sessions['push']({'id':_0x27c9f3['i'],'clientId':_0x27c9f3['c'],'coachId':_0x27c9f3[_0x32e166(0x27a)],'dateStr':_0x59fcb5+'-'+_0x7163b1[_0x32e166(0x225)](0x2,'0'),'start':_0x27c9f3['s'],'end':_0x27c9f3['e'],'note':_0x27c9f3['n']||'','status':_0x27c9f3['st']||_0x32e166(0x24e),'seriesId':_0x27c9f3[_0x32e166(0x229)]});});})),reRenderBlocks();}};function init(){const _0xbe1da0=a3_0x367b74;DataManager[_0xbe1da0(0x289)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0xbe1da0(0x296))['addEventListener'](_0xbe1da0(0x2d7),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xbe1da0(0x2cb)]();}function renderTimeColumn(){const _0x41417a=a3_0x367b74,_0x5a7e0f=document[_0x41417a(0x26e)](_0x41417a(0x21c)),_0x5a9364=document[_0x41417a(0x26e)](_0x41417a(0x2e6));_0x5a7e0f[_0x41417a(0x2e4)]='',_0x5a7e0f[_0x41417a(0x292)](_0x5a9364);for(let _0x1a24e9=0x0;_0x1a24e9<0x18;_0x1a24e9++){const _0x57d13c=document[_0x41417a(0x2d5)](_0x41417a(0x2b6));_0x57d13c['className']=_0x41417a(0x2c4);if(_0x1a24e9>0x0)_0x57d13c[_0x41417a(0x2e4)]=_0x41417a(0x1e9)+String(_0x1a24e9)['padStart'](0x2,'0')+_0x41417a(0x261);_0x5a7e0f['appendChild'](_0x57d13c);}}function renderDayRange(_0x4357e4,_0x58311a){const _0x120a79=a3_0x367b74,_0x21c7c2=document[_0x120a79(0x26e)]('daysHeaderTrack'),_0x277817=document[_0x120a79(0x26e)](_0x120a79(0x22c)),_0x53c763=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x14a2a4=new Date();_0x14a2a4[_0x120a79(0x2e1)](0x0,0x0,0x0,0x0);const _0x3447d7=getLocalDateStr(new Date());for(let _0x2fd7e3=_0x4357e4;_0x2fd7e3<=_0x58311a;_0x2fd7e3++){const _0x75d0b4=new Date(_0x14a2a4);_0x75d0b4[_0x120a79(0x29a)](_0x75d0b4[_0x120a79(0x2c7)]()+_0x2fd7e3);const _0x5ba517=getLocalDateStr(_0x75d0b4);let _0x4d07d6=_0x75d0b4[_0x120a79(0x2d8)]()-0x1;if(_0x4d07d6===-0x1)_0x4d07d6=0x6;const _0x3da27b=_0x5ba517===_0x3447d7,_0x53e8e8=document[_0x120a79(0x2d5)](_0x120a79(0x2b6));_0x53e8e8[_0x120a79(0x26f)]=_0x120a79(0x23a)+(_0x3da27b?'today':''),_0x53e8e8[_0x120a79(0x2c0)](_0x120a79(0x29c),_0x5ba517),_0x53e8e8['innerHTML']=_0x120a79(0x265)+_0x53c763[_0x4d07d6]+'</div><div\x20class=\x22dch-num\x22>'+_0x75d0b4['getDate']()+'</div>',_0x21c7c2[_0x120a79(0x292)](_0x53e8e8);const _0x44072f=document[_0x120a79(0x2d5)](_0x120a79(0x2b6));_0x44072f[_0x120a79(0x26f)]=_0x120a79(0x230)+(_0x3da27b?'today':''),_0x44072f[_0x120a79(0x2c0)](_0x120a79(0x29c),_0x5ba517),_0x44072f[_0x120a79(0x2c0)]('data-day-idx',_0x4d07d6),_0x277817[_0x120a79(0x292)](_0x44072f);}}function reRenderBlocks(){const _0x490ee2=a3_0x367b74;document[_0x490ee2(0x240)]('.day-column')[_0x490ee2(0x1f4)](_0x532bdf=>{const _0x1dc369=_0x490ee2;_0x532bdf[_0x1dc369(0x240)](_0x1dc369(0x275))['forEach'](_0x4693e4=>_0x4693e4[_0x1dc369(0x274)]());const _0x3acd5e=_0x532bdf[_0x1dc369(0x2ac)]('data-date'),_0x435cf9=parseInt(_0x532bdf[_0x1dc369(0x2ac)](_0x1dc369(0x233))),_0x2101c9=Math[_0x1dc369(0x2cd)](_0x532bdf['offsetLeft']);(availabilityPattern[_0x435cf9]||[])[_0x1dc369(0x1f4)](_0x11173d=>{const _0x1adda0=_0x1dc369,_0x2e1749=document[_0x1adda0(0x2d5)](_0x1adda0(0x2b6));_0x2e1749['className']='blocked-slot\x20stripe-bg',_0x2e1749['style']['top']=_0x11173d*GRID_H+'px',_0x2e1749[_0x1adda0(0x242)]['backgroundPosition']='-'+_0x2101c9+_0x1adda0(0x267)+_0x11173d*GRID_H+'px',_0x532bdf[_0x1adda0(0x292)](_0x2e1749);});if(specialRanges[_0x1dc369(0x288)]>0x0){const _0x325851=new Date(_0x3acd5e+_0x1dc369(0x2e5))[_0x1dc369(0x252)](),_0x1b5090=new Date(_0x3acd5e+_0x1dc369(0x2d2))[_0x1dc369(0x252)]();specialRanges[_0x1dc369(0x1f4)](_0x3cdc77=>{const _0x5241b0=_0x1dc369,_0x3cfdb4=new Date(_0x3cdc77[_0x5241b0(0x2de)])[_0x5241b0(0x252)](),_0x383a52=new Date(_0x3cdc77[_0x5241b0(0x227)])[_0x5241b0(0x252)](),_0x13ebd8=Math[_0x5241b0(0x2a3)](_0x325851,_0x3cfdb4),_0x12b434=Math['min'](_0x1b5090,_0x383a52);if(_0x13ebd8<_0x12b434){const _0x12ea66=(_0x13ebd8-_0x325851)/0x36ee80*GRID_H,_0x1dd3b5=(_0x12b434-_0x13ebd8)/0x36ee80*GRID_H,_0x58d4c4=document[_0x5241b0(0x2d5)](_0x5241b0(0x2b6));_0x1dd3b5>=23.5*GRID_H?(_0x58d4c4[_0x5241b0(0x26f)]=_0x5241b0(0x285),_0x58d4c4[_0x5241b0(0x242)][_0x5241b0(0x218)]='-'+_0x2101c9+'px\x200px'):(_0x58d4c4[_0x5241b0(0x26f)]=_0x5241b0(0x20f),_0x58d4c4[_0x5241b0(0x242)][_0x5241b0(0x1f8)]=_0x12ea66+'px',_0x58d4c4[_0x5241b0(0x242)][_0x5241b0(0x214)]=_0x1dd3b5+'px',_0x58d4c4['style']['backgroundPosition']='-'+_0x2101c9+_0x5241b0(0x267)+_0x12ea66+'px'),_0x532bdf[_0x5241b0(0x292)](_0x58d4c4);}});}renderEventsForColumn(_0x532bdf,_0x3acd5e);});}function renderEventsForColumn(_0x5fc1a0,_0x509763){const _0x41659c=a3_0x367b74,_0x5643f1=sessions[_0x41659c(0x215)](_0x3d114e=>_0x3d114e[_0x41659c(0x2ce)]===_0x509763),_0x3a3954=_0x5643f1[_0x41659c(0x282)](_0x2a55a1=>{const _0x1ce890=_0x41659c,[_0xffd5ae,_0x12448b]=_0x2a55a1[_0x1ce890(0x2de)][_0x1ce890(0x287)](':')[_0x1ce890(0x282)](Number),[_0x2008ad,_0x51d75d]=_0x2a55a1[_0x1ce890(0x227)][_0x1ce890(0x287)](':')['map'](Number);return{'data':_0x2a55a1,'start':_0xffd5ae*0x3c+_0x12448b,'end':_0x2008ad*0x3c+_0x51d75d,'colIndex':0x0};});_0x3a3954[_0x41659c(0x24b)]((_0x2b3bdb,_0x2feef4)=>_0x2b3bdb[_0x41659c(0x2de)]-_0x2feef4[_0x41659c(0x2de)]||_0x2feef4[_0x41659c(0x227)]-_0x2feef4[_0x41659c(0x2de)]-(_0x2b3bdb[_0x41659c(0x227)]-_0x2b3bdb['start']));const _0x3549ec=[];_0x3a3954[_0x41659c(0x1f4)](_0x3c11e8=>{const _0x41323c=_0x41659c;let _0x58d82f=![];for(let _0x9d56a1=0x0;_0x9d56a1<_0x3549ec['length'];_0x9d56a1++){const _0x847d71=_0x3549ec[_0x9d56a1];if(_0x3c11e8[_0x41323c(0x2de)]>=_0x847d71[_0x847d71['length']-0x1]['end']){_0x847d71[_0x41323c(0x21a)](_0x3c11e8),_0x3c11e8[_0x41323c(0x299)]=_0x9d56a1,_0x58d82f=!![];break;}}!_0x58d82f&&(_0x3549ec['push']([_0x3c11e8]),_0x3c11e8['colIndex']=_0x3549ec[_0x41323c(0x288)]-0x1);}),_0x3a3954[_0x41659c(0x1f4)](_0x4d586a=>{const _0x42fbf5=_0x41659c;let _0xea89ca=0x0;_0x3a3954['forEach'](_0x104ee3=>{const _0x102edb=a3_0x5504;if(Math[_0x102edb(0x2a3)](_0x4d586a[_0x102edb(0x2de)],_0x104ee3[_0x102edb(0x2de)])<Math[_0x102edb(0x29e)](_0x4d586a[_0x102edb(0x227)],_0x104ee3['end'])&&_0x104ee3[_0x102edb(0x299)]>_0xea89ca)_0xea89ca=_0x104ee3[_0x102edb(0x299)];});const _0x3cacc6=_0xea89ca+0x1,_0x2fa959=0x64/_0x3cacc6,_0x3cb5e0=_0x4d586a[_0x42fbf5(0x299)]*_0x2fa959,_0x5596c1=document[_0x42fbf5(0x2d5)](_0x42fbf5(0x2b6)),_0x479d59=_0x4d586a['data'];let _0x332b88=_0x42fbf5(0x1f1);if(clients&&clients[_0x42fbf5(0x288)]>0x0){const _0x3b576e=clients['find'](_0x472dc9=>String(_0x472dc9['id'])===String(_0x479d59['clientId']));if(_0x3b576e&&_0x3b576e['color'])_0x332b88=_0x3b576e[_0x42fbf5(0x1fe)];}const _0x342c58=_0x479d59[_0x42fbf5(0x271)]===_0x42fbf5(0x2c6),_0x1d04cc=_0x342c58?0x1:0.45;_0x5596c1[_0x42fbf5(0x26f)]=_0x42fbf5(0x21b)+(_0x342c58?_0x42fbf5(0x2bb):''),_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x284)]=hexToRgba(_0x332b88,_0x1d04cc),_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x2b9)]=_0x332b88;const _0x3c9a12=_0x4d586a[_0x42fbf5(0x2de)]/0x3c*GRID_H,_0x3a1083=(_0x4d586a[_0x42fbf5(0x227)]-_0x4d586a[_0x42fbf5(0x2de)])/0x3c*GRID_H;_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x1f8)]=_0x3c9a12+'px',_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x214)]=Math['max'](_0x3a1083,0x14)+'px',_0x5596c1[_0x42fbf5(0x242)]['width']=_0x42fbf5(0x28f)+_0x2fa959+_0x42fbf5(0x2bd),_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x222)]=_0x42fbf5(0x28f)+_0x3cb5e0+_0x42fbf5(0x236),_0x5596c1[_0x42fbf5(0x242)][_0x42fbf5(0x1e7)]=0xa+_0x4d586a[_0x42fbf5(0x299)];if(_0x2fa959<0x55)_0x5596c1[_0x42fbf5(0x294)][_0x42fbf5(0x254)](_0x42fbf5(0x273));let _0x13de52='';if(_0x479d59[_0x42fbf5(0x2d9)])_0x13de52+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x342c58)_0x13de52+=_0x42fbf5(0x22f);_0x5596c1[_0x42fbf5(0x2e4)]=_0x42fbf5(0x246)+_0x479d59['start']+_0x42fbf5(0x28e)+_0x479d59['end']+_0x42fbf5(0x22e)+_0x13de52+_0x42fbf5(0x29d),_0x5596c1[_0x42fbf5(0x28d)]=_0xd53fa1=>{const _0x3e4f7a=_0x42fbf5;_0xd53fa1[_0x3e4f7a(0x250)](),openDetails(_0x479d59);},_0x5fc1a0['appendChild'](_0x5596c1);});}function openAnalytics(){const _0x371bdb=a3_0x367b74,_0x4aa49a=document[_0x371bdb(0x1ed)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x371bdb(0x1ea),_0x4aa49a),openSheet(_0x371bdb(0x1f2));}function setAnalyticsPeriod(_0x41c35a,_0x12df68){const _0x22137e=a3_0x367b74;currentAnPeriod=_0x41c35a,document[_0x22137e(0x240)](_0x22137e(0x1fb))[_0x22137e(0x1f4)](_0x3ce617=>_0x3ce617[_0x22137e(0x294)][_0x22137e(0x274)](_0x22137e(0x2b1)));if(_0x12df68)_0x12df68[_0x22137e(0x294)][_0x22137e(0x254)](_0x22137e(0x2b1));const _0x473398=document[_0x22137e(0x26e)](_0x22137e(0x1ff));_0x473398['style'][_0x22137e(0x209)]=_0x41c35a===_0x22137e(0x1e3)?'flex':_0x22137e(0x2b3);const _0x1c903c=new Date();let _0x5a51a1=new Date(),_0x5a7695=new Date();if(_0x41c35a===_0x22137e(0x1ea))_0x5a51a1=getStartOfWeek(_0x1c903c),_0x5a7695=new Date(_0x5a51a1),_0x5a7695['setDate'](_0x5a7695[_0x22137e(0x2c7)]()+0x6);else{if(_0x41c35a===_0x22137e(0x257))_0x5a51a1=new Date(_0x1c903c[_0x22137e(0x220)](),_0x1c903c['getMonth'](),0x1),_0x5a7695=new Date(_0x1c903c[_0x22137e(0x220)](),_0x1c903c[_0x22137e(0x247)]()+0x1,0x0);else{!document['getElementById'](_0x22137e(0x23b))['value']&&(document[_0x22137e(0x26e)](_0x22137e(0x23b))['value']=getLocalDateStr(_0x1c903c),document[_0x22137e(0x26e)](_0x22137e(0x1f6))['value']=getLocalDateStr(_0x1c903c));refreshAnalytics();return;}}document[_0x22137e(0x26e)](_0x22137e(0x23b))[_0x22137e(0x2a4)]=getLocalDateStr(_0x5a51a1),document[_0x22137e(0x26e)](_0x22137e(0x1f6))[_0x22137e(0x2a4)]=getLocalDateStr(_0x5a7695),refreshAnalytics();}function refreshAnalytics(){const _0x5dd8f5=a3_0x367b74,_0x38383f=document[_0x5dd8f5(0x26e)](_0x5dd8f5(0x23b))[_0x5dd8f5(0x2a4)],_0x49368a=document['getElementById'](_0x5dd8f5(0x1f6))[_0x5dd8f5(0x2a4)];if(!_0x38383f||!_0x49368a)return;const _0x26bd64=sessions[_0x5dd8f5(0x215)](_0x3aa09c=>_0x3aa09c[_0x5dd8f5(0x2ce)]>=_0x38383f&&_0x3aa09c['dateStr']<=_0x49368a&&_0x3aa09c['status']!=='cancelled'),_0x3ec0ed=_0x26bd64['length'],_0x5a20cd=_0x26bd64[_0x5dd8f5(0x215)](_0x33524b=>_0x33524b[_0x5dd8f5(0x271)]===_0x5dd8f5(0x2c6))['length'],_0xa7fad3=_0x3ec0ed>0x0?Math[_0x5dd8f5(0x2cd)](_0x5a20cd/_0x3ec0ed*0x64):0x0;document[_0x5dd8f5(0x26e)]('anPercent')[_0x5dd8f5(0x2dd)]=_0xa7fad3+'%',document[_0x5dd8f5(0x26e)]('anTotalStats')[_0x5dd8f5(0x2dd)]=_0x5a20cd+_0x5dd8f5(0x2bf)+_0x3ec0ed+_0x5dd8f5(0x2e0);const _0x5d5aca=document[_0x5dd8f5(0x26e)]('anDonutCircle'),_0x333977=0x2*Math['PI']*0x23,_0x5e2f11=_0x333977-_0xa7fad3/0x64*_0x333977;_0x5d5aca[_0x5dd8f5(0x242)][_0x5dd8f5(0x2d3)]=_0x5e2f11;const _0x34ae8c={};_0x26bd64['forEach'](_0x23f063=>{const _0x3db396=_0x5dd8f5,_0x4a9949=_0x23f063[_0x3db396(0x211)]||'Unknown';if(!_0x34ae8c[_0x4a9949]){const _0x58954e='#'+_0x4a9949[_0x3db396(0x1f9)]()[_0x3db396(0x1f0)](0x0,0x6);_0x34ae8c[_0x4a9949]={'total':0x0,'done':0x0,'color':_0x58954e};}_0x34ae8c[_0x4a9949][_0x3db396(0x2d6)]++;if(_0x23f063[_0x3db396(0x271)]===_0x3db396(0x2c6))_0x34ae8c[_0x4a9949][_0x3db396(0x286)]++;});const _0x228f21=document[_0x5dd8f5(0x26e)](_0x5dd8f5(0x22d));_0x228f21['innerHTML']='';const _0x48b2d8=Object['entries'](_0x34ae8c)['sort']((_0x3b8c60,_0xbf5c86)=>_0xbf5c86[0x1][_0x5dd8f5(0x2d6)]-_0x3b8c60[0x1][_0x5dd8f5(0x2d6)]);if(_0x48b2d8[_0x5dd8f5(0x288)]===0x0){_0x228f21[_0x5dd8f5(0x2e4)]=_0x5dd8f5(0x248);return;}_0x48b2d8[_0x5dd8f5(0x1f4)](([_0xfc6e71,_0x4db455])=>{const _0x295641=_0x5dd8f5,_0x1410d3=Math['round'](_0x4db455[_0x295641(0x286)]/_0x4db455[_0x295641(0x2d6)]*0x64),_0x5ebac9=document[_0x295641(0x2d5)](_0x295641(0x2b6));_0x5ebac9[_0x295641(0x26f)]=_0x295641(0x2c3),_0x5ebac9[_0x295641(0x242)]['borderLeftColor']=_0x4db455[_0x295641(0x1fe)],_0x5ebac9[_0x295641(0x2e4)]=_0x295641(0x255)+_0xfc6e71[_0x295641(0x1f0)](0x0,0x5)+_0x295641(0x1e8)+_0x4db455[_0x295641(0x286)]+_0x295641(0x2b8)+_0x4db455[_0x295641(0x2d6)]+_0x295641(0x28a)+_0x1410d3+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x228f21[_0x295641(0x292)](_0x5ebac9);});}function openDetails(_0x3d9e3c){const _0x23e630=a3_0x367b74;currentSession=_0x3d9e3c;const _0x36416c=new Date(_0x3d9e3c[_0x23e630(0x2ce)]),_0x3ce9e7=_0x36416c[_0x23e630(0x223)]('ru-RU',{'weekday':_0x23e630(0x29f),'day':'numeric','month':'long'});document[_0x23e630(0x26e)](_0x23e630(0x26b))[_0x23e630(0x2dd)]=_0x3ce9e7[_0x23e630(0x2db)](0x0)['toUpperCase']()+_0x3ce9e7[_0x23e630(0x20d)](0x1),document['getElementById'](_0x23e630(0x23d))[_0x23e630(0x2dd)]=_0x3d9e3c['start']+_0x23e630(0x28e)+_0x3d9e3c[_0x23e630(0x227)],document[_0x23e630(0x26e)]('detNote')[_0x23e630(0x2dd)]=_0x3d9e3c[_0x23e630(0x1e5)]||_0x23e630(0x2e2);const _0x387b42=document['getElementById'](_0x23e630(0x2a1)),_0x204e47=document[_0x23e630(0x26e)](_0x23e630(0x27c)),_0x5dcb8c=_0x204e47[_0x23e630(0x1ed)]('.btn-cancel'),_0x1e4105=_0x204e47[_0x23e630(0x1ed)](_0x23e630(0x2bc)),_0x425682=document[_0x23e630(0x26e)](_0x23e630(0x253));if(_0x3d9e3c[_0x23e630(0x271)]===_0x23e630(0x2c6))_0x387b42[_0x23e630(0x2dd)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x387b42[_0x23e630(0x242)][_0x23e630(0x1fe)]=_0x23e630(0x27f),_0x204e47[_0x23e630(0x242)][_0x23e630(0x209)]=_0x23e630(0x2b3);else{_0x387b42[_0x23e630(0x2dd)]=_0x23e630(0x259),_0x387b42['style'][_0x23e630(0x1fe)]=_0x23e630(0x203),_0x204e47[_0x23e630(0x242)][_0x23e630(0x209)]=_0x23e630(0x21e);const _0x21b12d=new Date(_0x3d9e3c[_0x23e630(0x2ce)]+'T'+_0x3d9e3c[_0x23e630(0x2de)]),_0x46189e=new Date(),_0x500a44=(_0x21b12d-_0x46189e)/(0x3e8*0x3c*0x3c),_0x326d34=coachProfiles[_0x3d9e3c[_0x23e630(0x211)]]&&coachProfiles[_0x3d9e3c[_0x23e630(0x211)]][_0x23e630(0x232)]?parseInt(coachProfiles[_0x3d9e3c['coachId']][_0x23e630(0x232)]):0x18;if(_0x326d34===0x0||_0x500a44>=_0x326d34)_0x5dcb8c[_0x23e630(0x242)][_0x23e630(0x209)]=_0x23e630(0x21e),_0x1e4105[_0x23e630(0x242)]['display']=_0x23e630(0x21e),_0x425682['style'][_0x23e630(0x209)]=_0x23e630(0x2b3);else{_0x5dcb8c[_0x23e630(0x242)][_0x23e630(0x209)]=_0x23e630(0x2b3),_0x1e4105[_0x23e630(0x242)][_0x23e630(0x209)]='none',_0x425682[_0x23e630(0x242)]['display']='block';let _0x414011=_0x326d34===0x0?_0x23e630(0x26d):'–∑–∞\x20'+_0x326d34+_0x23e630(0x29b);_0x425682[_0x23e630(0x2dd)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x414011+_0x23e630(0x22a);}}document[_0x23e630(0x26e)](_0x23e630(0x224))[_0x23e630(0x294)][_0x23e630(0x254)](_0x23e630(0x2b1)),document['getElementById'](_0x23e630(0x2a2))['classList'][_0x23e630(0x254)]('open');}function closeAllSheets(){const _0x46b4d8=a3_0x367b74;document[_0x46b4d8(0x26e)](_0x46b4d8(0x224))[_0x46b4d8(0x294)][_0x46b4d8(0x274)]('active'),document['querySelectorAll'](_0x46b4d8(0x269))[_0x46b4d8(0x1f4)](_0x4622b3=>_0x4622b3['classList'][_0x46b4d8(0x274)]('open'));}function openSheet(_0x5cd832){const _0x4e23d6=a3_0x367b74;document[_0x4e23d6(0x26e)](_0x4e23d6(0x224))[_0x4e23d6(0x294)]['add'](_0x4e23d6(0x2b1)),document['getElementById'](_0x5cd832)[_0x4e23d6(0x294)]['add'](_0x4e23d6(0x2a9));}function getLocalDateStr(_0x391c3f){const _0x212973=a3_0x367b74,_0x19209b=_0x391c3f[_0x212973(0x220)](),_0x16fc84=String(_0x391c3f[_0x212973(0x247)]()+0x1)['padStart'](0x2,'0'),_0x1ab81d=String(_0x391c3f[_0x212973(0x2c7)]())['padStart'](0x2,'0');return _0x19209b+'-'+_0x16fc84+'-'+_0x1ab81d;}function getStartOfWeek(_0x2dfd30){const _0x4dc770=a3_0x367b74,_0x37d397=new Date(_0x2dfd30),_0x32ba49=_0x37d397[_0x4dc770(0x2d8)](),_0x2f86d8=_0x37d397[_0x4dc770(0x2c7)]()-_0x32ba49+(_0x32ba49===0x0?-0x6:0x1);return _0x37d397['setDate'](_0x2f86d8),_0x37d397[_0x4dc770(0x2e1)](0x0,0x0,0x0,0x0),_0x37d397;}function scrollToToday(){const _0x15c9ae=getLocalDateStr(new Date());setTimeout(()=>{const _0x480ff0=a3_0x5504,_0x444f8e=document[_0x480ff0(0x1ed)]('.day-col-header[data-date=\x22'+_0x15c9ae+'\x22]');if(_0x444f8e){const _0x1c76cb=document['getElementById'](_0x480ff0(0x296)),_0xe0058d=_0x444f8e[_0x480ff0(0x200)]-_0x1c76cb[_0x480ff0(0x258)]/0x2+_0x444f8e[_0x480ff0(0x207)]/0x2;_0x1c76cb[_0x480ff0(0x245)]({'left':_0xe0058d,'behavior':_0x480ff0(0x2d0)}),_0x1c76cb[_0x480ff0(0x20e)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x54c79c=a3_0x367b74,_0xa75181=new Date(),_0xbe182b=document[_0x54c79c(0x26e)](_0x54c79c(0x2af)),_0x174d8e=document[_0x54c79c(0x26e)](_0x54c79c(0x2e6)),_0x3be50e=(_0xa75181['getHours']()*0x3c+_0xa75181[_0x54c79c(0x2ae)]())/0x3c*GRID_H;_0xbe182b[_0x54c79c(0x242)][_0x54c79c(0x1f8)]=_0x3be50e+'px',_0xbe182b['style']['display']=_0x54c79c(0x21e),_0x174d8e[_0x54c79c(0x242)][_0x54c79c(0x1f8)]=_0x3be50e+'px',_0x174d8e['style'][_0x54c79c(0x209)]='block',_0x174d8e[_0x54c79c(0x2dd)]=String(_0xa75181[_0x54c79c(0x2ba)]())[_0x54c79c(0x225)](0x2,'0')+':'+String(_0xa75181[_0x54c79c(0x2ae)]())[_0x54c79c(0x225)](0x2,'0');}function a3_0x5b25(){const _0x1d35ff=['get_slots',':00</span>','search','</div><div\x20class=\x22rs-day-num\x22>','firstChild','<div\x20class=\x22dch-day\x22>','client_load','px\x20-','numeric','.sheet','rs-date-chip','detDate','daysHeaderTrack','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','getElementById','className','clients','status','toLocaleString','mini','remove','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','then','600','user','client_cancel','cid','ranges','cancelContainer','saveLocally','Critical\x20TMA\x20Error:','var(--acc-green)','coach_profiles','onClick','map','ccText','backgroundColor','day-off-overlay\x20stripe-bg','done','split','length','loadLocal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','parse','onclick','\x20-\x20','calc(','rsDatesTrack','setBackgroundColor','appendChild','error','classList','rescheduleSheet','matrixViewport','#050505','DOMContentLoaded','colIndex','setDate','\x20—á.','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','long','test','detStatus','detailsSheet','max','value','uc_client_list','exceptions','ccTitle','rs-time-btn','open','POST','666780WbSaBI','getAttribute','rgba(','getMinutes','globalTimeLine','\x20–≤\x20','active','button','none','#ff453a','initDataUnsafe','div','<div\x20class=\x22rs-day-name\x22>','</span>\x20/\x20','borderLeftColor','getHours','\x20status-completed','.btn-reschedule','%\x20-\x204px)','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x20–∏–∑\x20','setAttribute','addEventListener','router.html','client-stat-card','time-label','Telegram','completed','getDate','startsWith','show','href','syncLoad','now','round','dateStr','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','auto','floor','T23:59:59','strokeDashoffset','reschedule','createElement','total','scroll','getDay','seriesId','today','charAt','createDocumentFragment','textContent','start','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','setHours','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','initData','innerHTML','T00:00:00','timeLineBadge','custom','json','note','BackButton','zIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<span>','week','ready','(((.+)+)+)+$','querySelector','rsSlotsGrid','isArray','substr','#0a84ff','analyticsSheet','getItem','forEach','data','anEnd','disableVerticalSwipes','top','toString','log','.period-switch\x20.p-btn','toast','28818xlYLal','color','anCustomDates','offsetLeft','settings','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','var(--acc-blue)','Error\x20setting\x20back\x20button:','v9.5-CLIENT-ANALYTICS','.day-column','offsetWidth','findIndex','display','scrollLeft','996SoiLSI','calendar','slice','scrollTop','blocked-range-part\x20stripe-bg','insertBefore','coachId','2439906GJerdQ','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','height','filter','substring','uc_client_settings','backgroundPosition','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','push','event-card','timeColumn','rgba(10,\x20132,\x20255,\x20','block','expand','getFullYear','stringify','left','toLocaleDateString','overlay','padStart','–û—Ç–º–µ–Ω–µ–Ω–æ','end','3qswNTh','sid','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','keys','gridColumns','analyticsList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','day-column\x20','</div><div\x20class=\x22dch-num\x22>','cancel_window','data-day-idx','926009COBrXp','pattern','%\x20+\x202px)','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','15QEDTyV','358184HHJFfm','day-col-header\x20','anStart','490890DhLgUs','detTime','328889KzzTPz','headerMonth','querySelectorAll','ru-RU','style','.rs-date-chip','1940SiuXzR','scrollTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getMonth','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','visible','16KVxGdM','sort','ccYesBtn','customConfirm','planned','WebApp','stopPropagation','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','getTime','cancelHint','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','offClick','month','clientWidth','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','applyData','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','all','setItem','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','join'];a3_0x5b25=function(){return _0x1d35ff;};return a3_0x5b25();}function onScroll(){const _0x8f89c3=a3_0x367b74,_0x7150a2=document['getElementById']('matrixViewport'),_0x1a3b06=document[_0x8f89c3(0x240)]('.day-col-header');for(let _0x59e2f0 of _0x1a3b06)if(_0x59e2f0['offsetLeft']>=_0x7150a2[_0x8f89c3(0x20a)]){const _0x2d4c78=new Date(_0x59e2f0[_0x8f89c3(0x2ac)](_0x8f89c3(0x29c)));document[_0x8f89c3(0x26e)](_0x8f89c3(0x23f))[_0x8f89c3(0x2dd)]=_0x2d4c78[_0x8f89c3(0x272)]('ru',{'month':_0x8f89c3(0x29f)})['toUpperCase']()+'\x20'+_0x2d4c78['getFullYear']();break;}}function showToast(_0x2569d8){const _0x1264cd=a3_0x367b74,_0x3cade6=document[_0x1264cd(0x26e)](_0x1264cd(0x1fc));_0x3cade6['textContent']=_0x2569d8,_0x3cade6[_0x1264cd(0x294)]['add']('show'),setTimeout(()=>_0x3cade6['classList'][_0x1264cd(0x274)](_0x1264cd(0x2c9)),0x7d0);}function handleInfiniteScroll(){const _0x599c78=a3_0x367b74,_0x1d5ac4=document[_0x599c78(0x26e)](_0x599c78(0x296)),_0xcaced1=_0x1d5ac4[_0x599c78(0x20a)],_0xf50f49=_0x1d5ac4['scrollWidth'],_0x1f8e21=_0x1d5ac4[_0x599c78(0x258)];if(_0xf50f49-(_0xcaced1+_0x1f8e21)<0x12c){const _0x34b179=endOffset;endOffset+=0xe,renderDayRange(_0x34b179+0x1,endOffset),reRenderBlocks();}if(_0xcaced1<0x12c){const _0x35a709=startOffset;startOffset-=0xe,prependDays(startOffset,_0x35a709-0x1),_0x1d5ac4['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x42dc67,_0x266e62){const _0x1b29c8=a3_0x367b74,_0x5ea9c2=document[_0x1b29c8(0x26e)](_0x1b29c8(0x26c)),_0x5af2a3=document[_0x1b29c8(0x26e)](_0x1b29c8(0x22c)),_0x27b5df=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d2808=new Date();_0x2d2808[_0x1b29c8(0x2e1)](0x0,0x0,0x0,0x0);const _0x305176=getLocalDateStr(new Date()),_0x54e1f3=document['createDocumentFragment'](),_0x32ea6c=document[_0x1b29c8(0x2dc)]();for(let _0x32d81a=_0x42dc67;_0x32d81a<=_0x266e62;_0x32d81a++){const _0x157c68=new Date(_0x2d2808);_0x157c68[_0x1b29c8(0x29a)](_0x157c68[_0x1b29c8(0x2c7)]()+_0x32d81a);const _0x516ef7=getLocalDateStr(_0x157c68);let _0x2d2e1a=_0x157c68[_0x1b29c8(0x2d8)]()-0x1;if(_0x2d2e1a===-0x1)_0x2d2e1a=0x6;const _0x2b80dc=_0x516ef7===_0x305176,_0x438744=document[_0x1b29c8(0x2d5)](_0x1b29c8(0x2b6));_0x438744[_0x1b29c8(0x26f)]=_0x1b29c8(0x23a)+(_0x2b80dc?_0x1b29c8(0x2da):''),_0x438744[_0x1b29c8(0x2c0)]('data-date',_0x516ef7),_0x438744[_0x1b29c8(0x2e4)]=_0x1b29c8(0x265)+_0x27b5df[_0x2d2e1a]+_0x1b29c8(0x231)+_0x157c68[_0x1b29c8(0x2c7)]()+'</div>',_0x54e1f3[_0x1b29c8(0x292)](_0x438744);const _0x3d4d77=document[_0x1b29c8(0x2d5)]('div');_0x3d4d77['className']=_0x1b29c8(0x230)+(_0x2b80dc?_0x1b29c8(0x2da):''),_0x3d4d77[_0x1b29c8(0x2c0)](_0x1b29c8(0x29c),_0x516ef7),_0x3d4d77[_0x1b29c8(0x2c0)](_0x1b29c8(0x233),_0x2d2e1a),_0x32ea6c[_0x1b29c8(0x292)](_0x3d4d77);}_0x5ea9c2[_0x1b29c8(0x210)](_0x54e1f3,_0x5ea9c2[_0x1b29c8(0x264)]),_0x5af2a3[_0x1b29c8(0x210)](_0x32ea6c,_0x5af2a3[_0x1b29c8(0x1ed)](_0x1b29c8(0x206)));}function hexToRgba(_0x25b278,_0x5adee9){const _0x375e67=a3_0x367b74;let _0x2b79cd;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x375e67(0x2a0)](_0x25b278))return _0x2b79cd=_0x25b278[_0x375e67(0x216)](0x1)[_0x375e67(0x287)](''),_0x2b79cd[_0x375e67(0x288)]==0x3&&(_0x2b79cd=[_0x2b79cd[0x0],_0x2b79cd[0x0],_0x2b79cd[0x1],_0x2b79cd[0x1],_0x2b79cd[0x2],_0x2b79cd[0x2]]),_0x2b79cd='0x'+_0x2b79cd[_0x375e67(0x25f)](''),_0x375e67(0x2ad)+[_0x2b79cd>>0x10&0xff,_0x2b79cd>>0x8&0xff,_0x2b79cd&0xff]['join'](',')+','+_0x5adee9+')';return _0x375e67(0x21d)+_0x5adee9+')';}let confirmResolver=null;function showCustomConfirm(_0x4edc99,_0x40cde2,_0x55aad8=!![]){const _0x3c473c=a3_0x367b74;document[_0x3c473c(0x26e)](_0x3c473c(0x2a7))[_0x3c473c(0x2dd)]=_0x4edc99,document[_0x3c473c(0x26e)](_0x3c473c(0x283))[_0x3c473c(0x2dd)]=_0x40cde2;const _0x127124=document[_0x3c473c(0x26e)](_0x3c473c(0x24c));return _0x55aad8?(_0x127124[_0x3c473c(0x242)][_0x3c473c(0x1fe)]=_0x3c473c(0x2b4),_0x127124['style']['fontWeight']='600'):(_0x127124[_0x3c473c(0x242)][_0x3c473c(0x1fe)]='#0a84ff',_0x127124[_0x3c473c(0x242)]['fontWeight']=_0x3c473c(0x277)),new Promise(_0x16365a=>{const _0x29e924=_0x3c473c;confirmResolver=_0x16365a,document[_0x29e924(0x26e)](_0x29e924(0x24d))[_0x29e924(0x294)][_0x29e924(0x254)](_0x29e924(0x249));});}function resolveCustomConfirm(_0x1beb8b){const _0x501e24=a3_0x367b74;document[_0x501e24(0x26e)](_0x501e24(0x24d))['classList'][_0x501e24(0x274)](_0x501e24(0x249));if(confirmResolver)confirmResolver(_0x1beb8b);}async function tryCancelCurrentSession(){const _0x6cfab4=a3_0x367b74;if(!currentSession)return;const _0x387e7c=await showCustomConfirm(_0x6cfab4(0x237),_0x6cfab4(0x213),!![]);if(!_0x387e7c)return;const _0xf0f2f7=currentSession;closeAllSheets(),sessions=sessions[_0x6cfab4(0x215)](_0x133f62=>_0x133f62['id']!==_0xf0f2f7['id']),reRenderBlocks(),showToast(_0x6cfab4(0x226)),lastUserActionTime=Date['now']();try{const _0x34d63c=window[_0x6cfab4(0x2c5)]?.[_0x6cfab4(0x24f)],_0x5945b0=await fetch(API_URL,{'method':'POST','body':JSON[_0x6cfab4(0x221)]({'action':_0x6cfab4(0x279),'init_data':_0x34d63c?.[_0x6cfab4(0x2e3)]||'','coachId':_0xf0f2f7['coachId'],'dateStr':_0xf0f2f7[_0x6cfab4(0x2ce)],'sessionId':_0xf0f2f7['id']})});if(_0x5945b0['ok'])DataManager[_0x6cfab4(0x27d)]();}catch(_0x54076a){showToast(_0x6cfab4(0x28b));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x287d28=a3_0x367b74;if(!currentSession)return;document['getElementById'](_0x287d28(0x2a2))[_0x287d28(0x294)][_0x287d28(0x274)](_0x287d28(0x2a9)),document['getElementById'](_0x287d28(0x295))[_0x287d28(0x294)]['add'](_0x287d28(0x2a9));const _0x10f723=document[_0x287d28(0x26e)]('rsDatesTrack'),_0x48e1d7=document[_0x287d28(0x26e)](_0x287d28(0x1ee));_0x10f723[_0x287d28(0x2e4)]='',_0x48e1d7[_0x287d28(0x2e4)]=_0x287d28(0x25b);const [_0x32feca,_0x1de5b8]=currentSession[_0x287d28(0x2de)][_0x287d28(0x287)](':')[_0x287d28(0x282)](Number),[_0x24d794,_0x14cbc8]=currentSession[_0x287d28(0x227)][_0x287d28(0x287)](':')[_0x287d28(0x282)](Number),_0x3b0fd9=_0x24d794*0x3c+_0x14cbc8-(_0x32feca*0x3c+_0x1de5b8);try{const _0x3da4c0=window[_0x287d28(0x2c5)]?.[_0x287d28(0x24f)],_0x18da09=await fetch(API_URL,{'method':_0x287d28(0x2aa),'body':JSON[_0x287d28(0x221)]({'action':_0x287d28(0x260),'coachId':currentSession['coachId'],'duration':_0x3b0fd9,'init_data':_0x3da4c0?.[_0x287d28(0x2e3)]||'','excludeSessionId':currentSession['id']})}),_0x27c102=await _0x18da09['json']();_0x27c102['ok']&&_0x27c102[_0x287d28(0x1f5)]?(availableSlotsCache=_0x27c102[_0x287d28(0x1f5)],renderRescheduleDates()):_0x48e1d7['innerHTML']=_0x287d28(0x2cf);}catch(_0x5d2d52){_0x48e1d7[_0x287d28(0x2e4)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0xa342f5=a3_0x367b74,_0x173b95=document[_0xa342f5(0x26e)](_0xa342f5(0x290));_0x173b95['innerHTML']='';const _0x3b9274=Object[_0xa342f5(0x22b)](availableSlotsCache)[_0xa342f5(0x24b)](),_0x392b50=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3b9274[_0xa342f5(0x288)]===0x0){document[_0xa342f5(0x26e)](_0xa342f5(0x1ee))[_0xa342f5(0x2e4)]=_0xa342f5(0x202);return;}_0x3b9274[_0xa342f5(0x1f4)]((_0x250c70,_0x36efa2)=>{const _0x1794ee=_0xa342f5,_0x1e47fc=new Date(_0x250c70),_0x4804e2=_0x392b50[_0x1e47fc[_0x1794ee(0x2d8)]()],_0x53f07f=_0x1e47fc['getDate'](),_0x155ac1=document['createElement'](_0x1794ee(0x2b6));_0x155ac1[_0x1794ee(0x26f)]=_0x1794ee(0x26a);if(_0x36efa2===0x0)_0x155ac1[_0x1794ee(0x294)][_0x1794ee(0x254)](_0x1794ee(0x2b1));_0x155ac1[_0x1794ee(0x2e4)]=_0x1794ee(0x2b7)+_0x4804e2+_0x1794ee(0x263)+_0x53f07f+'</div>',_0x155ac1['onclick']=()=>selectRsDate(_0x250c70,_0x155ac1),_0x173b95[_0x1794ee(0x292)](_0x155ac1);}),selectRsDate(_0x3b9274[0x0],_0x173b95[_0xa342f5(0x264)]);}function selectRsDate(_0x2c75c1,_0x391a72){const _0x66be82=a3_0x367b74;selectedRsDate=_0x2c75c1,document[_0x66be82(0x240)](_0x66be82(0x243))[_0x66be82(0x1f4)](_0x1040d3=>_0x1040d3['classList'][_0x66be82(0x274)](_0x66be82(0x2b1)));if(_0x391a72)_0x391a72[_0x66be82(0x294)]['add'](_0x66be82(0x2b1));const _0x452725=document[_0x66be82(0x26e)](_0x66be82(0x1ee));_0x452725['innerHTML']='';const _0x397681=availableSlotsCache[_0x2c75c1]||[];if(_0x397681[_0x66be82(0x288)]===0x0){_0x452725[_0x66be82(0x2e4)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x397681['forEach'](_0x2497cb=>{const _0x5718c0=_0x66be82,_0x46deed=document['createElement'](_0x5718c0(0x2b2));_0x46deed['className']=_0x5718c0(0x2a8),_0x46deed[_0x5718c0(0x2dd)]=_0x2497cb,_0x46deed[_0x5718c0(0x28d)]=()=>confirmReschedule(_0x2497cb),_0x452725['appendChild'](_0x46deed);});}async function confirmReschedule(_0x2b5126){const _0x221bac=a3_0x367b74,_0x5e6406=new Date(selectedRsDate),_0x1dfae9=_0x5e6406['toLocaleDateString'](_0x221bac(0x241),{'day':_0x221bac(0x268),'month':_0x221bac(0x29f)}),_0xc61112=await showCustomConfirm(_0x221bac(0x25e),_0x221bac(0x2df)+_0x1dfae9+_0x221bac(0x2b0)+_0x2b5126+'?',![]);if(!_0xc61112)return;closeAllSheets(),showToast(_0x221bac(0x219)),lastUserActionTime=Date[_0x221bac(0x2cc)]();const _0x2797fd=currentSession[_0x221bac(0x2ce)],_0x4fe0f0=currentSession['id'],[_0x49bfd9,_0x32417e]=currentSession['start'][_0x221bac(0x287)](':')[_0x221bac(0x282)](Number),[_0x27344d,_0x2898aa]=currentSession[_0x221bac(0x227)][_0x221bac(0x287)](':')[_0x221bac(0x282)](Number),_0x598070=_0x27344d*0x3c+_0x2898aa-(_0x49bfd9*0x3c+_0x32417e),[_0x494bb3,_0x3b655f]=_0x2b5126['split'](':')['map'](Number),_0x24f993=_0x494bb3*0x3c+_0x3b655f+_0x598070,_0x321a0e=Math[_0x221bac(0x2d1)](_0x24f993/0x3c),_0x16fa3e=_0x24f993%0x3c,_0x20fb1c=String(_0x321a0e)[_0x221bac(0x225)](0x2,'0')+':'+String(_0x16fa3e)[_0x221bac(0x225)](0x2,'0'),_0x33b790=sessions[_0x221bac(0x208)](_0x21c208=>_0x21c208['id']===_0x4fe0f0);_0x33b790!==-0x1&&(sessions[_0x33b790]['dateStr']=selectedRsDate,sessions[_0x33b790][_0x221bac(0x2de)]=_0x2b5126,sessions[_0x33b790][_0x221bac(0x227)]=_0x20fb1c,reRenderBlocks());try{const _0x1d27a5=window[_0x221bac(0x2c5)]?.['WebApp'],_0x2c7824=await fetch(API_URL,{'method':'POST','body':JSON[_0x221bac(0x221)]({'action':_0x221bac(0x2d4),'init_data':_0x1d27a5?.[_0x221bac(0x2e3)]||'','oldSessionId':_0x4fe0f0,'oldDate':_0x2797fd,'newDate':selectedRsDate,'newTime':_0x2b5126,'coachId':currentSession[_0x221bac(0x211)]})}),_0x24b221=await _0x2c7824['json']();!_0x24b221['ok']?(showToast(_0x221bac(0x251)),DataManager[_0x221bac(0x2cb)]()):(showToast(_0x221bac(0x2be)),DataManager['saveLocally']());}catch(_0x418edc){showToast(_0x221bac(0x28b));}}document[a3_0x367b74(0x2c1)](a3_0x367b74(0x298),init);