const a3_0x46d5d2=a3_0x45ed;(function(_0x5745ff,_0x5d8f7d){const _0x35caec=a3_0x45ed,_0x4e6d90=_0x5745ff();while(!![]){try{const _0x10b004=-parseInt(_0x35caec(0x16e))/0x1*(parseInt(_0x35caec(0x11e))/0x2)+-parseInt(_0x35caec(0x105))/0x3+-parseInt(_0x35caec(0xd2))/0x4*(parseInt(_0x35caec(0xb8))/0x5)+parseInt(_0x35caec(0x97))/0x6+-parseInt(_0x35caec(0x10e))/0x7*(-parseInt(_0x35caec(0xdd))/0x8)+parseInt(_0x35caec(0xd4))/0x9+-parseInt(_0x35caec(0x179))/0xa;if(_0x10b004===_0x5d8f7d)break;else _0x4e6d90['push'](_0x4e6d90['shift']());}catch(_0x30ce26){_0x4e6d90['push'](_0x4e6d90['shift']());}}}(a3_0x4a14,0xbc5ac));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x46d5d2(0x168),GRID_H=0x3c,KEY_SESSIONS=a3_0x46d5d2(0x151),KEY_SETTINGS=a3_0x46d5d2(0xc0),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x46d5d2(0x158),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x53077c=a3_0x46d5d2,_0x139eea=(function(){let _0x5d9bbe=!![];return function(_0x43fdce,_0xab6f52){const _0xc3e70=_0x5d9bbe?function(){if(_0xab6f52){const _0x178470=_0xab6f52['apply'](_0x43fdce,arguments);return _0xab6f52=null,_0x178470;}}:function(){};return _0x5d9bbe=![],_0xc3e70;};}()),_0x38275b=_0x139eea(this,function(){const _0xe3f93f=a3_0x45ed;return _0x38275b[_0xe3f93f(0x102)]()[_0xe3f93f(0xf8)](_0xe3f93f(0xaa))[_0xe3f93f(0x102)]()[_0xe3f93f(0xac)](_0x38275b)['search'](_0xe3f93f(0xaa));});_0x38275b();try{const _0x3e1744=window[_0x53077c(0x16c)]?.['WebApp'];if(!_0x3e1744)return;_0x3e1744[_0x53077c(0xbd)](),_0x3e1744['expand']();try{_0x3e1744[_0x53077c(0xc7)]('#050505'),_0x3e1744[_0x53077c(0x177)]&&_0x3e1744[_0x53077c(0x177)](_0x53077c(0x123));}catch(_0x2248bb){console[_0x53077c(0xcb)]('Error\x20setting\x20color:',_0x2248bb);}try{_0x3e1744['BackButton']&&(_0x3e1744[_0x53077c(0xe5)][_0x53077c(0x10f)](),_0x3e1744[_0x53077c(0xe5)][_0x53077c(0x165)](),_0x3e1744['BackButton'][_0x53077c(0xaf)](function(){const _0x3cb89b=_0x53077c;window[_0x3cb89b(0xce)]['href']=_0x3cb89b(0x15c);}));}catch(_0x1f8309){console[_0x53077c(0xcb)](_0x53077c(0xad),_0x1f8309);}try{if(_0x3e1744[_0x53077c(0x152)])_0x3e1744['disableVerticalSwipes']();}catch(_0x7d5b98){}}catch(_0x28cd57){console[_0x53077c(0x157)](_0x53077c(0x127),_0x28cd57);}}());function a3_0x45ed(_0x33206b,_0x494349){_0x33206b=_0x33206b-0x87;const _0x33ba5a=a3_0x4a14();let _0x30ffdc=_0x33ba5a[_0x33206b];return _0x30ffdc;}function isAdmin(){const _0x4c8496=a3_0x46d5d2;try{const _0xf4628a=Number(window[_0x4c8496(0x16c)]?.[_0x4c8496(0x15b)]?.['initDataUnsafe']?.[_0x4c8496(0xfc)]?.['id']);return _0xf4628a===0xbaf7174;}catch(_0x4dd13e){return![];}}const DataManager={'saveLocally'(){const _0x46c35c=a3_0x46d5d2;try{localStorage[_0x46c35c(0xe7)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x46c35c(0xe7)](KEY_CLIENTS,JSON[_0x46c35c(0x14f)](clients)),localStorage[_0x46c35c(0xe7)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x13d9f2){}},'loadLocal'(){const _0x4846d8=a3_0x46d5d2;try{const _0x48a764=localStorage[_0x4846d8(0xf2)](KEY_SESSIONS);if(_0x48a764)sessions=JSON[_0x4846d8(0x10a)](_0x48a764);const _0x28fa29=localStorage['getItem'](KEY_CLIENTS);if(_0x28fa29)clients=JSON[_0x4846d8(0x10a)](_0x28fa29);const _0x10c7fe=localStorage[_0x4846d8(0xf2)](KEY_SETTINGS);if(_0x10c7fe){const _0x9da32a=JSON[_0x4846d8(0x10a)](_0x10c7fe);if(_0x9da32a['pattern'])availabilityPattern=_0x9da32a[_0x4846d8(0x169)];if(_0x9da32a[_0x4846d8(0xee)])specialRanges=_0x9da32a[_0x4846d8(0xee)];if(_0x9da32a[_0x4846d8(0xcc)])dateExceptions=_0x9da32a['exceptions'];}}catch(_0x4ecc28){}},async 'syncLoad'(){const _0x23b9e9=a3_0x46d5d2,_0x283c2b=new Date(),_0x2b8f32=_0x283c2b['getFullYear']()+'-'+String(_0x283c2b[_0x23b9e9(0x107)]()+0x1)[_0x23b9e9(0xc2)](0x2,'0'),_0x14d54f=new Date(_0x283c2b);_0x14d54f['setMonth'](_0x283c2b[_0x23b9e9(0x107)]()+0x1);const _0x420f5e=_0x14d54f[_0x23b9e9(0x15d)]()+'-'+String(_0x14d54f[_0x23b9e9(0x107)]()+0x1)[_0x23b9e9(0xc2)](0x2,'0'),_0x5d7a54=Date[_0x23b9e9(0x16f)]();try{const _0x174869=window[_0x23b9e9(0x16c)]?.[_0x23b9e9(0x15b)],_0x16b958=_0x174869?.[_0x23b9e9(0x9d)]||'',[_0x45feba,_0x302edf]=await Promise[_0x23b9e9(0xe8)]([fetch(API_URL,{'method':_0x23b9e9(0xc5),'body':JSON[_0x23b9e9(0x14f)]({'action':_0x23b9e9(0x14b),'init_data':_0x16b958,'month_str':_0x2b8f32})})[_0x23b9e9(0x172)](_0xd01640=>_0xd01640[_0x23b9e9(0xdb)]()),fetch(API_URL,{'method':_0x23b9e9(0xc5),'body':JSON[_0x23b9e9(0x14f)]({'action':'client_load','init_data':_0x16b958,'month_str':_0x420f5e})})[_0x23b9e9(0x172)](_0x112708=>_0x112708[_0x23b9e9(0xdb)]())]);if(lastUserActionTime>_0x5d7a54){console['log'](_0x23b9e9(0x14d));return;}if(_0x45feba['ok'])this['applyData'](_0x45feba[_0x23b9e9(0xb9)],_0x2b8f32);if(_0x302edf['ok'])this['applyData'](_0x302edf['data'],_0x420f5e);this[_0x23b9e9(0xde)]();}catch(_0x48f063){}},'applyData'(_0x2230ce,_0x3d9bbc){const _0x4dc31d=a3_0x46d5d2;if(!_0x2230ce)return;if(_0x2230ce[_0x4dc31d(0x109)]){if(_0x2230ce[_0x4dc31d(0x109)][_0x4dc31d(0x169)])availabilityPattern=_0x2230ce[_0x4dc31d(0x109)][_0x4dc31d(0x169)];if(_0x2230ce[_0x4dc31d(0x109)][_0x4dc31d(0xee)])specialRanges=_0x2230ce[_0x4dc31d(0x109)][_0x4dc31d(0xee)];if(_0x2230ce[_0x4dc31d(0x109)][_0x4dc31d(0xcc)])dateExceptions=_0x2230ce['settings'][_0x4dc31d(0xcc)];}if(_0x2230ce[_0x4dc31d(0x91)]&&Array[_0x4dc31d(0x119)](_0x2230ce[_0x4dc31d(0x91)]))clients=_0x2230ce['clients'];_0x2230ce['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x2230ce[_0x4dc31d(0x13f)]}),_0x2230ce[_0x4dc31d(0x155)]&&(sessions=sessions[_0x4dc31d(0xd0)](_0x2c6452=>!_0x2c6452[_0x4dc31d(0x17f)][_0x4dc31d(0x15a)](_0x3d9bbc)),Object[_0x4dc31d(0x126)](_0x2230ce[_0x4dc31d(0x155)])['forEach'](_0x550084=>{const _0xb59656=_0x4dc31d,_0x352493=_0x2230ce[_0xb59656(0x155)][_0x550084];_0x352493[_0xb59656(0xea)](_0x8c3359=>{const _0x541de9=_0xb59656;sessions[_0x541de9(0x87)]({'id':_0x8c3359['i'],'clientId':_0x8c3359['c'],'coachId':_0x8c3359[_0x541de9(0x170)],'dateStr':_0x3d9bbc+'-'+_0x550084[_0x541de9(0xc2)](0x2,'0'),'start':_0x8c3359['s'],'end':_0x8c3359['e'],'note':_0x8c3359['n']||'','status':_0x8c3359['st']||_0x541de9(0x167),'seriesId':_0x8c3359['sid']});});})),reRenderBlocks();}};function init(){const _0x557884=a3_0x46d5d2;DataManager[_0x557884(0x160)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x557884(0x108)](_0x557884(0x10d))[_0x557884(0x116)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x557884(0x9b)]();}function renderTimeColumn(){const _0x15d81e=a3_0x46d5d2,_0x4c01b9=document[_0x15d81e(0x108)](_0x15d81e(0x115)),_0x45f5eb=document['getElementById']('timeLineBadge');_0x4c01b9['innerHTML']='',_0x4c01b9[_0x15d81e(0x173)](_0x45f5eb);for(let _0x9cb7a6=0x0;_0x9cb7a6<0x18;_0x9cb7a6++){const _0x16ee65=document['createElement'](_0x15d81e(0xc8));_0x16ee65[_0x15d81e(0x8f)]=_0x15d81e(0x110);if(_0x9cb7a6>0x0)_0x16ee65[_0x15d81e(0x156)]=_0x15d81e(0xd8)+String(_0x9cb7a6)['padStart'](0x2,'0')+_0x15d81e(0x181);_0x4c01b9['appendChild'](_0x16ee65);}}function renderDayRange(_0x572a42,_0x3ef210){const _0x161485=a3_0x46d5d2,_0x4db904=document[_0x161485(0x108)]('daysHeaderTrack'),_0x49b81f=document[_0x161485(0x108)](_0x161485(0x17d)),_0x361fe9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x11fe68=new Date();_0x11fe68[_0x161485(0x101)](0x0,0x0,0x0,0x0);const _0x3c70ae=getLocalDateStr(new Date());for(let _0x990701=_0x572a42;_0x990701<=_0x3ef210;_0x990701++){const _0x491736=new Date(_0x11fe68);_0x491736[_0x161485(0xbb)](_0x491736[_0x161485(0xdf)]()+_0x990701);const _0x56d350=getLocalDateStr(_0x491736);let _0x3d8a22=_0x491736[_0x161485(0x133)]()-0x1;if(_0x3d8a22===-0x1)_0x3d8a22=0x6;const _0x223856=_0x56d350===_0x3c70ae,_0x361592=document[_0x161485(0xc1)]('div');_0x361592[_0x161485(0x8f)]='day-col-header\x20'+(_0x223856?_0x161485(0x17a):''),_0x361592['setAttribute']('data-date',_0x56d350),_0x361592[_0x161485(0x156)]=_0x161485(0x16b)+_0x361fe9[_0x3d8a22]+'</div><div\x20class=\x22dch-num\x22>'+_0x491736['getDate']()+_0x161485(0x182),_0x4db904[_0x161485(0x173)](_0x361592);const _0x3dfcd8=document[_0x161485(0xc1)](_0x161485(0xc8));_0x3dfcd8[_0x161485(0x8f)]='day-column\x20'+(_0x223856?'today':''),_0x3dfcd8['setAttribute'](_0x161485(0xe3),_0x56d350),_0x3dfcd8['setAttribute'](_0x161485(0x12a),_0x3d8a22),_0x49b81f[_0x161485(0x173)](_0x3dfcd8);}}function reRenderBlocks(){const _0x3e5625=a3_0x46d5d2;document[_0x3e5625(0x8d)](_0x3e5625(0x149))[_0x3e5625(0xea)](_0x130da4=>{const _0x442216=_0x3e5625;_0x130da4[_0x442216(0x8d)](_0x442216(0x11d))['forEach'](_0x566475=>_0x566475[_0x442216(0xa2)]());const _0x3b6390=_0x130da4['getAttribute'](_0x442216(0xe3)),_0x233450=parseInt(_0x130da4['getAttribute'](_0x442216(0x12a))),_0xb73797=Math[_0x442216(0xb2)](_0x130da4[_0x442216(0x13b)]);(availabilityPattern[_0x233450]||[])[_0x442216(0xea)](_0x4e68d1=>{const _0x532870=_0x442216,_0x3fa126=document[_0x532870(0xc1)]('div');_0x3fa126[_0x532870(0x8f)]='blocked-slot\x20stripe-bg',_0x3fa126[_0x532870(0x17c)][_0x532870(0x14a)]=_0x4e68d1*GRID_H+'px',_0x3fa126['style']['backgroundPosition']='-'+_0xb73797+'px\x20-'+_0x4e68d1*GRID_H+'px',_0x130da4[_0x532870(0x173)](_0x3fa126);});if(specialRanges[_0x442216(0x131)]>0x0){const _0x3ee9eb=new Date(_0x3b6390+_0x442216(0xcd))[_0x442216(0xc4)](),_0x5ea5a5=new Date(_0x3b6390+_0x442216(0x175))['getTime']();specialRanges[_0x442216(0xea)](_0x2fed36=>{const _0x4cbfa5=_0x442216,_0x50444f=new Date(_0x2fed36['start'])[_0x4cbfa5(0xc4)](),_0x53d4a6=new Date(_0x2fed36[_0x4cbfa5(0x163)])[_0x4cbfa5(0xc4)](),_0x47bd05=Math[_0x4cbfa5(0xc6)](_0x3ee9eb,_0x50444f),_0x24671c=Math['min'](_0x5ea5a5,_0x53d4a6);if(_0x47bd05<_0x24671c){const _0x440a5b=(_0x47bd05-_0x3ee9eb)/0x36ee80*GRID_H,_0x214bbb=(_0x24671c-_0x47bd05)/0x36ee80*GRID_H,_0x2788b2=document[_0x4cbfa5(0xc1)](_0x4cbfa5(0xc8));_0x214bbb>=23.5*GRID_H?(_0x2788b2[_0x4cbfa5(0x8f)]=_0x4cbfa5(0x15e),_0x2788b2[_0x4cbfa5(0x17c)][_0x4cbfa5(0x11b)]='-'+_0xb73797+_0x4cbfa5(0xff)):(_0x2788b2[_0x4cbfa5(0x8f)]=_0x4cbfa5(0xf1),_0x2788b2[_0x4cbfa5(0x17c)][_0x4cbfa5(0x14a)]=_0x440a5b+'px',_0x2788b2[_0x4cbfa5(0x17c)][_0x4cbfa5(0x140)]=_0x214bbb+'px',_0x2788b2[_0x4cbfa5(0x17c)]['backgroundPosition']='-'+_0xb73797+_0x4cbfa5(0x146)+_0x440a5b+'px'),_0x130da4['appendChild'](_0x2788b2);}});}renderEventsForColumn(_0x130da4,_0x3b6390);});}function renderEventsForColumn(_0x5c8ff3,_0x360d96){const _0x5af8dd=a3_0x46d5d2,_0x354b87=sessions[_0x5af8dd(0xd0)](_0x58db2c=>_0x58db2c[_0x5af8dd(0x17f)]===_0x360d96),_0x33c090=_0x354b87[_0x5af8dd(0x176)](_0x1a46a3=>{const _0x5e4542=_0x5af8dd,[_0x371117,_0x23ce63]=_0x1a46a3['start'][_0x5e4542(0xfa)](':')[_0x5e4542(0x176)](Number),[_0x54b034,_0x479772]=_0x1a46a3[_0x5e4542(0x163)][_0x5e4542(0xfa)](':')[_0x5e4542(0x176)](Number);return{'data':_0x1a46a3,'start':_0x371117*0x3c+_0x23ce63,'end':_0x54b034*0x3c+_0x479772,'colIndex':0x0};});_0x33c090[_0x5af8dd(0x162)]((_0x300a65,_0x1a9409)=>_0x300a65['start']-_0x1a9409[_0x5af8dd(0xe2)]||_0x1a9409['end']-_0x1a9409[_0x5af8dd(0xe2)]-(_0x300a65['end']-_0x300a65[_0x5af8dd(0xe2)]));const _0x42ca38=[];_0x33c090[_0x5af8dd(0xea)](_0x41d03f=>{const _0x15b6b1=_0x5af8dd;let _0x4adbbc=![];for(let _0x21af94=0x0;_0x21af94<_0x42ca38[_0x15b6b1(0x131)];_0x21af94++){const _0xb915f6=_0x42ca38[_0x21af94];if(_0x41d03f[_0x15b6b1(0xe2)]>=_0xb915f6[_0xb915f6['length']-0x1]['end']){_0xb915f6['push'](_0x41d03f),_0x41d03f[_0x15b6b1(0x142)]=_0x21af94,_0x4adbbc=!![];break;}}!_0x4adbbc&&(_0x42ca38[_0x15b6b1(0x87)]([_0x41d03f]),_0x41d03f['colIndex']=_0x42ca38[_0x15b6b1(0x131)]-0x1);}),_0x33c090['forEach'](_0x2e7a08=>{const _0x54ee9f=_0x5af8dd;let _0x1c95a9=0x0;_0x33c090[_0x54ee9f(0xea)](_0x2e62f6=>{const _0x5b48bf=_0x54ee9f;if(Math[_0x5b48bf(0xc6)](_0x2e7a08['start'],_0x2e62f6[_0x5b48bf(0xe2)])<Math[_0x5b48bf(0xda)](_0x2e7a08[_0x5b48bf(0x163)],_0x2e62f6[_0x5b48bf(0x163)])&&_0x2e62f6[_0x5b48bf(0x142)]>_0x1c95a9)_0x1c95a9=_0x2e62f6[_0x5b48bf(0x142)];});const _0x2a88e7=_0x1c95a9+0x1,_0x588365=0x64/_0x2a88e7,_0x31aa0a=_0x2e7a08[_0x54ee9f(0x142)]*_0x588365,_0x3d58cc=document[_0x54ee9f(0xc1)](_0x54ee9f(0xc8)),_0x3a88e8=_0x2e7a08['data'];let _0x2b0018=_0x54ee9f(0x144);if(clients&&clients[_0x54ee9f(0x131)]>0x0){const _0x754f8a=clients['find'](_0x280118=>String(_0x280118['id'])===String(_0x3a88e8['clientId']));if(_0x754f8a&&_0x754f8a[_0x54ee9f(0x113)])_0x2b0018=_0x754f8a[_0x54ee9f(0x113)];}const _0x5dc3d0=_0x3a88e8[_0x54ee9f(0xef)]===_0x54ee9f(0x171),_0x71ec28=_0x5dc3d0?0x1:0.45;_0x3d58cc[_0x54ee9f(0x8f)]=_0x54ee9f(0xbc)+(_0x5dc3d0?_0x54ee9f(0x117):''),_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0x8c)]=hexToRgba(_0x2b0018,_0x71ec28),_0x3d58cc['style'][_0x54ee9f(0x136)]=_0x2b0018;const _0x302d15=_0x2e7a08[_0x54ee9f(0xe2)]/0x3c*GRID_H,_0x1a3017=(_0x2e7a08[_0x54ee9f(0x163)]-_0x2e7a08[_0x54ee9f(0xe2)])/0x3c*GRID_H;_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0x14a)]=_0x302d15+'px',_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0x140)]=Math[_0x54ee9f(0xc6)](_0x1a3017,0x14)+'px',_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0xf0)]=_0x54ee9f(0x96)+_0x588365+_0x54ee9f(0x161),_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0x130)]=_0x54ee9f(0x96)+_0x31aa0a+_0x54ee9f(0x99),_0x3d58cc[_0x54ee9f(0x17c)][_0x54ee9f(0x153)]=0xa+_0x2e7a08[_0x54ee9f(0x142)];if(_0x588365<0x55)_0x3d58cc[_0x54ee9f(0x9e)]['add']('mini');let _0x539674='';if(_0x3a88e8['seriesId'])_0x539674+=_0x54ee9f(0x8a);if(_0x5dc3d0)_0x539674+=_0x54ee9f(0x11f);_0x3d58cc[_0x54ee9f(0x156)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x3a88e8[_0x54ee9f(0xe2)]+_0x54ee9f(0xf9)+_0x3a88e8[_0x54ee9f(0x163)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x539674+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3d58cc['onclick']=_0x4c71c5=>{const _0xc254d7=_0x54ee9f;_0x4c71c5[_0xc254d7(0xe0)](),openDetails(_0x3a88e8);},_0x5c8ff3['appendChild'](_0x3d58cc);});}function openAnalytics(){const _0x5019ee=a3_0x46d5d2,_0x9f5580=document[_0x5019ee(0xb5)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5019ee(0x158),_0x9f5580),openSheet(_0x5019ee(0x139));}function setAnalyticsPeriod(_0x54f994,_0x7df701){const _0x5bf2ae=a3_0x46d5d2;currentAnPeriod=_0x54f994,document[_0x5bf2ae(0x8d)](_0x5bf2ae(0xcf))[_0x5bf2ae(0xea)](_0x27d7ea=>_0x27d7ea[_0x5bf2ae(0x9e)][_0x5bf2ae(0xa2)](_0x5bf2ae(0xfe)));if(_0x7df701)_0x7df701['classList']['add'](_0x5bf2ae(0xfe));const _0x5ba794=document['getElementById'](_0x5bf2ae(0xec));_0x5ba794[_0x5bf2ae(0x17c)]['display']=_0x54f994===_0x5bf2ae(0xbe)?_0x5bf2ae(0xe4):_0x5bf2ae(0x148);const _0xea0202=new Date();let _0x117c21=new Date(),_0x28b7e8=new Date();if(_0x54f994===_0x5bf2ae(0x158))_0x117c21=getStartOfWeek(_0xea0202),_0x28b7e8=new Date(_0x117c21),_0x28b7e8['setDate'](_0x28b7e8[_0x5bf2ae(0xdf)]()+0x6);else{if(_0x54f994===_0x5bf2ae(0xca))_0x117c21=new Date(_0xea0202[_0x5bf2ae(0x15d)](),_0xea0202[_0x5bf2ae(0x107)](),0x1),_0x28b7e8=new Date(_0xea0202[_0x5bf2ae(0x15d)](),_0xea0202['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x5bf2ae(0xb1))[_0x5bf2ae(0x11a)]&&(document[_0x5bf2ae(0x108)](_0x5bf2ae(0xb1))['value']=getLocalDateStr(_0xea0202),document[_0x5bf2ae(0x108)](_0x5bf2ae(0x104))['value']=getLocalDateStr(_0xea0202));refreshAnalytics();return;}}document[_0x5bf2ae(0x108)](_0x5bf2ae(0xb1))['value']=getLocalDateStr(_0x117c21),document[_0x5bf2ae(0x108)](_0x5bf2ae(0x104))[_0x5bf2ae(0x11a)]=getLocalDateStr(_0x28b7e8),refreshAnalytics();}function refreshAnalytics(){const _0x1b508b=a3_0x46d5d2,_0x419e6c=document[_0x1b508b(0x108)](_0x1b508b(0xb1))[_0x1b508b(0x11a)],_0x8aab9c=document['getElementById'](_0x1b508b(0x104))[_0x1b508b(0x11a)];if(!_0x419e6c||!_0x8aab9c)return;const _0xfacdbd=sessions[_0x1b508b(0xd0)](_0x109822=>_0x109822[_0x1b508b(0x17f)]>=_0x419e6c&&_0x109822[_0x1b508b(0x17f)]<=_0x8aab9c&&_0x109822['status']!==_0x1b508b(0x9f)),_0x32ddef=_0xfacdbd['length'],_0x2241ec=_0xfacdbd[_0x1b508b(0xd0)](_0x55d075=>_0x55d075[_0x1b508b(0xef)]===_0x1b508b(0x171))[_0x1b508b(0x131)],_0x355812=_0x32ddef>0x0?Math['round'](_0x2241ec/_0x32ddef*0x64):0x0;document['getElementById'](_0x1b508b(0x129))[_0x1b508b(0x93)]=_0x355812+'%',document[_0x1b508b(0x108)](_0x1b508b(0x13d))['textContent']=_0x2241ec+_0x1b508b(0x90)+_0x32ddef+_0x1b508b(0x141);const _0x5694b9=document[_0x1b508b(0x108)]('anDonutCircle'),_0x597fea=0x2*Math['PI']*0x23,_0x54c9d7=_0x597fea-_0x355812/0x64*_0x597fea;_0x5694b9[_0x1b508b(0x17c)][_0x1b508b(0xeb)]=_0x54c9d7;const _0x8c41e7={};_0xfacdbd['forEach'](_0xc4ad70=>{const _0x5c0350=_0x1b508b,_0xd14c96=_0xc4ad70[_0x5c0350(0xae)]||'Unknown';if(!_0x8c41e7[_0xd14c96]){const _0x341d85='#'+_0xd14c96[_0x5c0350(0x102)]()[_0x5c0350(0x10b)](0x0,0x6);_0x8c41e7[_0xd14c96]={'total':0x0,'done':0x0,'color':_0x341d85};}_0x8c41e7[_0xd14c96][_0x5c0350(0x128)]++;if(_0xc4ad70[_0x5c0350(0xef)]===_0x5c0350(0x171))_0x8c41e7[_0xd14c96][_0x5c0350(0x178)]++;});const _0x4f7343=document[_0x1b508b(0x108)](_0x1b508b(0xe1));_0x4f7343[_0x1b508b(0x156)]='';const _0x2afa2a=Object[_0x1b508b(0x166)](_0x8c41e7)[_0x1b508b(0x162)]((_0xf04fed,_0x46ae2b)=>_0x46ae2b[0x1]['total']-_0xf04fed[0x1]['total']);if(_0x2afa2a[_0x1b508b(0x131)]===0x0){_0x4f7343[_0x1b508b(0x156)]=_0x1b508b(0x17b);return;}_0x2afa2a[_0x1b508b(0xea)](([_0x1ae618,_0x49e9aa])=>{const _0x2d3213=_0x1b508b,_0x28c3d2=Math[_0x2d3213(0xb2)](_0x49e9aa[_0x2d3213(0x178)]/_0x49e9aa[_0x2d3213(0x128)]*0x64),_0x2ba1c6=document[_0x2d3213(0xc1)](_0x2d3213(0xc8));_0x2ba1c6[_0x2d3213(0x8f)]='client-stat-card',_0x2ba1c6['style'][_0x2d3213(0x136)]=_0x49e9aa[_0x2d3213(0x113)],_0x2ba1c6['innerHTML']=_0x2d3213(0x143)+_0x1ae618[_0x2d3213(0x10b)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x49e9aa[_0x2d3213(0x178)]+'</span>\x20/\x20'+_0x49e9aa['total']+_0x2d3213(0xfd)+_0x28c3d2+_0x2d3213(0x13a),_0x4f7343[_0x2d3213(0x173)](_0x2ba1c6);});}function openDetails(_0x37c8b9){const _0xc136ff=a3_0x46d5d2;currentSession=_0x37c8b9;const _0x3791f6=new Date(_0x37c8b9[_0xc136ff(0x17f)]),_0x248ae0=_0x3791f6[_0xc136ff(0xf4)]('ru-RU',{'weekday':_0xc136ff(0xb6),'day':_0xc136ff(0x11c),'month':_0xc136ff(0xb6)});document['getElementById'](_0xc136ff(0x111))[_0xc136ff(0x93)]=_0x248ae0[_0xc136ff(0x122)](0x0)[_0xc136ff(0x114)]()+_0x248ae0[_0xc136ff(0xb7)](0x1),document[_0xc136ff(0x108)](_0xc136ff(0x12b))[_0xc136ff(0x93)]=_0x37c8b9[_0xc136ff(0xe2)]+_0xc136ff(0xf9)+_0x37c8b9[_0xc136ff(0x163)],document['getElementById'](_0xc136ff(0xa1))[_0xc136ff(0x93)]=_0x37c8b9[_0xc136ff(0x174)]||_0xc136ff(0x106);const _0x3f22ee=document[_0xc136ff(0x108)](_0xc136ff(0xa7)),_0x3d14e4=document[_0xc136ff(0x108)]('cancelContainer'),_0x5a60ff=_0x3d14e4[_0xc136ff(0xb5)](_0xc136ff(0x12d)),_0x18cf17=_0x3d14e4['querySelector']('.btn-reschedule'),_0x2c290c=document[_0xc136ff(0x108)](_0xc136ff(0xab));if(_0x37c8b9[_0xc136ff(0xef)]==='completed')_0x3f22ee[_0xc136ff(0x93)]=_0xc136ff(0x135),_0x3f22ee[_0xc136ff(0x17c)]['color']='var(--acc-green)',_0x3d14e4[_0xc136ff(0x17c)][_0xc136ff(0xa3)]='none';else{_0x3f22ee['textContent']=_0xc136ff(0xd9),_0x3f22ee[_0xc136ff(0x17c)][_0xc136ff(0x113)]=_0xc136ff(0x12c),_0x3d14e4[_0xc136ff(0x17c)][_0xc136ff(0xa3)]=_0xc136ff(0x124);const _0x384f71=new Date(_0x37c8b9['dateStr']+'T'+_0x37c8b9['start']),_0xabbc89=new Date(),_0x4235bc=(_0x384f71-_0xabbc89)/(0x3e8*0x3c*0x3c),_0x29b5cd=coachProfiles[_0x37c8b9[_0xc136ff(0xae)]]&&coachProfiles[_0x37c8b9[_0xc136ff(0xae)]][_0xc136ff(0x134)]?parseInt(coachProfiles[_0x37c8b9[_0xc136ff(0xae)]]['cancel_window']):0x18;if(_0x29b5cd===0x0||_0x4235bc>=_0x29b5cd)_0x5a60ff[_0xc136ff(0x17c)]['display']=_0xc136ff(0x124),_0x18cf17[_0xc136ff(0x17c)][_0xc136ff(0xa3)]=_0xc136ff(0x124),_0x2c290c[_0xc136ff(0x17c)]['display']=_0xc136ff(0x148);else{_0x5a60ff['style'][_0xc136ff(0xa3)]=_0xc136ff(0x148),_0x18cf17[_0xc136ff(0x17c)][_0xc136ff(0xa3)]='none',_0x2c290c[_0xc136ff(0x17c)][_0xc136ff(0xa3)]='block';let _0x34fea7=_0x29b5cd===0x0?_0xc136ff(0x112):_0xc136ff(0xf5)+_0x29b5cd+_0xc136ff(0x12f);_0x2c290c[_0xc136ff(0x93)]=_0xc136ff(0x8b)+_0x34fea7+_0xc136ff(0xa0);}}document[_0xc136ff(0x108)]('overlay')[_0xc136ff(0x9e)][_0xc136ff(0x145)](_0xc136ff(0xfe)),document[_0xc136ff(0x108)](_0xc136ff(0xa8))['classList'][_0xc136ff(0x145)](_0xc136ff(0x183));}function closeAllSheets(){const _0x36fd8b=a3_0x46d5d2;document[_0x36fd8b(0x108)](_0x36fd8b(0x103))[_0x36fd8b(0x9e)]['remove']('active'),document[_0x36fd8b(0x8d)](_0x36fd8b(0x164))[_0x36fd8b(0xea)](_0x598d5d=>_0x598d5d[_0x36fd8b(0x9e)][_0x36fd8b(0xa2)]('open'));}function openSheet(_0x49c019){const _0x1e35eb=a3_0x46d5d2;document[_0x1e35eb(0x108)](_0x1e35eb(0x103))[_0x1e35eb(0x9e)]['add'](_0x1e35eb(0xfe)),document[_0x1e35eb(0x108)](_0x49c019)['classList'][_0x1e35eb(0x145)](_0x1e35eb(0x183));}function getLocalDateStr(_0xffbb98){const _0x2c2cff=a3_0x46d5d2,_0x42a5b8=_0xffbb98[_0x2c2cff(0x15d)](),_0x1a2e96=String(_0xffbb98['getMonth']()+0x1)['padStart'](0x2,'0'),_0x187230=String(_0xffbb98['getDate']())[_0x2c2cff(0xc2)](0x2,'0');return _0x42a5b8+'-'+_0x1a2e96+'-'+_0x187230;}function getStartOfWeek(_0x21e4f6){const _0x4ccdb5=a3_0x46d5d2,_0x94604a=new Date(_0x21e4f6),_0x13a4df=_0x94604a[_0x4ccdb5(0x133)](),_0x860cdc=_0x94604a['getDate']()-_0x13a4df+(_0x13a4df===0x0?-0x6:0x1);return _0x94604a[_0x4ccdb5(0xbb)](_0x860cdc),_0x94604a[_0x4ccdb5(0x101)](0x0,0x0,0x0,0x0),_0x94604a;}function scrollToToday(){const _0x5bcfda=getLocalDateStr(new Date());setTimeout(()=>{const _0x1e07e5=a3_0x45ed,_0x28520f=document[_0x1e07e5(0xb5)](_0x1e07e5(0xe6)+_0x5bcfda+'\x22]');if(_0x28520f){const _0x101dc2=document[_0x1e07e5(0x108)](_0x1e07e5(0x10d)),_0x13db42=_0x28520f[_0x1e07e5(0x13b)]-_0x101dc2[_0x1e07e5(0x95)]/0x2+_0x28520f['offsetWidth']/0x2;_0x101dc2[_0x1e07e5(0xf3)]({'left':_0x13db42,'behavior':_0x1e07e5(0xc9)}),_0x101dc2['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x9ffcdb=a3_0x46d5d2,_0x3ccd99=new Date(),_0x203880=document[_0x9ffcdb(0x108)](_0x9ffcdb(0xd3)),_0x2e03ad=document['getElementById'](_0x9ffcdb(0x98)),_0x2269aa=(_0x3ccd99[_0x9ffcdb(0xd1)]()*0x3c+_0x3ccd99['getMinutes']())/0x3c*GRID_H;_0x203880[_0x9ffcdb(0x17c)]['top']=_0x2269aa+'px',_0x203880['style'][_0x9ffcdb(0xa3)]=_0x9ffcdb(0x124),_0x2e03ad[_0x9ffcdb(0x17c)][_0x9ffcdb(0x14a)]=_0x2269aa+'px',_0x2e03ad[_0x9ffcdb(0x17c)]['display']='block',_0x2e03ad[_0x9ffcdb(0x93)]=String(_0x3ccd99[_0x9ffcdb(0xd1)]())[_0x9ffcdb(0xc2)](0x2,'0')+':'+String(_0x3ccd99[_0x9ffcdb(0xc3)]())['padStart'](0x2,'0');}function onScroll(){const _0x1fd80b=a3_0x46d5d2,_0x86a452=document[_0x1fd80b(0x108)]('matrixViewport'),_0x13c88c=document[_0x1fd80b(0x8d)](_0x1fd80b(0xb0));for(let _0x2aa11b of _0x13c88c)if(_0x2aa11b[_0x1fd80b(0x13b)]>=_0x86a452[_0x1fd80b(0xa5)]){const _0x7b8b78=new Date(_0x2aa11b[_0x1fd80b(0xd6)]('data-date'));document[_0x1fd80b(0x108)](_0x1fd80b(0xb3))['textContent']=_0x7b8b78[_0x1fd80b(0x120)]('ru',{'month':_0x1fd80b(0xb6)})[_0x1fd80b(0x114)]()+'\x20'+_0x7b8b78[_0x1fd80b(0x15d)]();break;}}function showToast(_0x34e1a9){const _0x386b42=a3_0x46d5d2,_0x28839f=document['getElementById'](_0x386b42(0xed));_0x28839f[_0x386b42(0x93)]=_0x34e1a9,_0x28839f[_0x386b42(0x9e)]['add'](_0x386b42(0x10f)),setTimeout(()=>_0x28839f[_0x386b42(0x9e)][_0x386b42(0xa2)](_0x386b42(0x10f)),0x7d0);}function handleInfiniteScroll(){const _0x2d1808=a3_0x46d5d2,_0x106dd4=document[_0x2d1808(0x108)](_0x2d1808(0x10d)),_0x3bb0bc=_0x106dd4[_0x2d1808(0xa5)],_0x1ae819=_0x106dd4[_0x2d1808(0xbf)],_0x5d9326=_0x106dd4[_0x2d1808(0x95)];if(_0x1ae819-(_0x3bb0bc+_0x5d9326)<0x12c){const _0x5936c7=endOffset;endOffset+=0xe,renderDayRange(_0x5936c7+0x1,endOffset),reRenderBlocks();}if(_0x3bb0bc<0x12c){const _0x174e14=startOffset;startOffset-=0xe,prependDays(startOffset,_0x174e14-0x1),_0x106dd4[_0x2d1808(0xa5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9860bc,_0x2dbe5c){const _0x462398=a3_0x46d5d2,_0x438a83=document[_0x462398(0x108)](_0x462398(0x125)),_0x4a333e=document[_0x462398(0x108)](_0x462398(0x17d)),_0x299bce=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x36962d=new Date();_0x36962d[_0x462398(0x101)](0x0,0x0,0x0,0x0);const _0x307dd1=getLocalDateStr(new Date()),_0x5516ef=document[_0x462398(0x9a)](),_0x9307cb=document['createDocumentFragment']();for(let _0x42204d=_0x9860bc;_0x42204d<=_0x2dbe5c;_0x42204d++){const _0x532665=new Date(_0x36962d);_0x532665[_0x462398(0xbb)](_0x532665['getDate']()+_0x42204d);const _0x375a05=getLocalDateStr(_0x532665);let _0x3eeda2=_0x532665[_0x462398(0x133)]()-0x1;if(_0x3eeda2===-0x1)_0x3eeda2=0x6;const _0x14ccec=_0x375a05===_0x307dd1,_0x158afd=document[_0x462398(0xc1)]('div');_0x158afd[_0x462398(0x8f)]='day-col-header\x20'+(_0x14ccec?'today':''),_0x158afd[_0x462398(0x159)](_0x462398(0xe3),_0x375a05),_0x158afd[_0x462398(0x156)]=_0x462398(0x16b)+_0x299bce[_0x3eeda2]+_0x462398(0x16a)+_0x532665[_0x462398(0xdf)]()+_0x462398(0x182),_0x5516ef[_0x462398(0x173)](_0x158afd);const _0x67b315=document[_0x462398(0xc1)](_0x462398(0xc8));_0x67b315['className']=_0x462398(0xf6)+(_0x14ccec?_0x462398(0x17a):''),_0x67b315[_0x462398(0x159)](_0x462398(0xe3),_0x375a05),_0x67b315[_0x462398(0x159)](_0x462398(0x12a),_0x3eeda2),_0x9307cb[_0x462398(0x173)](_0x67b315);}_0x438a83[_0x462398(0x13e)](_0x5516ef,_0x438a83[_0x462398(0x100)]),_0x4a333e['insertBefore'](_0x9307cb,_0x4a333e[_0x462398(0xb5)](_0x462398(0x149)));}function hexToRgba(_0x22bb51,_0x9f0934){const _0x1550f9=a3_0x46d5d2;let _0x458896;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x22bb51))return _0x458896=_0x22bb51[_0x1550f9(0xf7)](0x1)[_0x1550f9(0xfa)](''),_0x458896[_0x1550f9(0x131)]==0x3&&(_0x458896=[_0x458896[0x0],_0x458896[0x0],_0x458896[0x1],_0x458896[0x1],_0x458896[0x2],_0x458896[0x2]]),_0x458896='0x'+_0x458896['join'](''),'rgba('+[_0x458896>>0x10&0xff,_0x458896>>0x8&0xff,_0x458896&0xff][_0x1550f9(0x88)](',')+','+_0x9f0934+')';return'rgba(10,\x20132,\x20255,\x20'+_0x9f0934+')';}let confirmResolver=null;function showCustomConfirm(_0x316c50,_0x37d7b6,_0x195d75=!![]){const _0x3e2bae=a3_0x46d5d2;document[_0x3e2bae(0x108)](_0x3e2bae(0x154))[_0x3e2bae(0x93)]=_0x316c50,document[_0x3e2bae(0x108)]('ccText')[_0x3e2bae(0x93)]=_0x37d7b6;const _0x44b306=document[_0x3e2bae(0x108)](_0x3e2bae(0x17e));return _0x195d75?(_0x44b306[_0x3e2bae(0x17c)][_0x3e2bae(0x113)]='#ff453a',_0x44b306[_0x3e2bae(0x17c)][_0x3e2bae(0x132)]=_0x3e2bae(0x180)):(_0x44b306[_0x3e2bae(0x17c)]['color']='#0a84ff',_0x44b306[_0x3e2bae(0x17c)][_0x3e2bae(0x132)]='600'),new Promise(_0x28e414=>{const _0x3d12af=_0x3e2bae;confirmResolver=_0x28e414,document[_0x3d12af(0x108)]('customConfirm')['classList'][_0x3d12af(0x145)](_0x3d12af(0xd7));});}function a3_0x4a14(){const _0xb7b1f6=['2NqHfqq','now','cid','completed','then','appendChild','note','T23:59:59','map','setBackgroundColor','done','5744590ZROmvP','today','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','style','gridColumns','ccYesBtn','dateStr','600',':00</span>','</div>','open','push','join','–û—Ç–º–µ–Ω–µ–Ω–æ','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','backgroundColor','querySelectorAll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','className','\x20–∏–∑\x20','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','textContent','rsSlotsGrid','clientWidth','calc(','8937660UudpgC','timeLineBadge','%\x20+\x202px)','createDocumentFragment','syncLoad','customConfirm','initData','classList','cancelled','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','detNote','remove','display','findIndex','scrollLeft','rs-date-chip','detStatus','detailsSheet','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','(((.+)+)+)+$','cancelHint','constructor','Error\x20setting\x20back\x20button:','coachId','onClick','.day-col-header','anStart','round','headerMonth','rs-time-btn','querySelector','long','slice','2245tJyGDf','data','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','setDate','event-card','ready','custom','scrollWidth','uc_client_settings','createElement','padStart','getMinutes','getTime','POST','max','setHeaderColor','div','auto','month','log','exceptions','T00:00:00','location','.period-switch\x20.p-btn','filter','getHours','148XTdBPu','globalTimeLine','3209769CzEoAR','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','getAttribute','visible','<span>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','min','json','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','8wzyvsA','saveLocally','getDate','stopPropagation','analyticsList','start','data-date','flex','BackButton','.day-col-header[data-date=\x22','setItem','all','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','forEach','strokeDashoffset','anCustomDates','toast','ranges','status','width','blocked-range-part\x20stripe-bg','getItem','scrollTo','toLocaleDateString','–∑–∞\x20','day-column\x20','substring','search','\x20-\x20','split','get_slots','user','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','active','px\x200px','firstChild','setHours','toString','overlay','anEnd','812808NPJale','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','getMonth','getElementById','settings','parse','substr','</div><div\x20class=\x22rs-day-num\x22>','matrixViewport','5387123bUIxYx','show','time-label','detDate','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','color','toUpperCase','timeColumn','addEventListener','\x20status-completed','client_cancel','isArray','value','backgroundPosition','numeric','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','982332hGFrCp','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','toLocaleString','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','charAt','#050505','block','daysHeaderTrack','keys','Critical\x20TMA\x20Error:','total','anPercent','data-day-idx','detTime','var(--acc-blue)','.btn-cancel','rsDatesTrack','\x20—á.','left','length','fontWeight','getDay','cancel_window','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','borderLeftColor','.rs-date-chip','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','analyticsSheet','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetLeft','reschedule','anTotalStats','insertBefore','coach_profiles','height','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','colIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','#0a84ff','add','px\x20-','DOMContentLoaded','none','.day-column','top','client_load','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','stringify','button','uc_client_sessions','disableVerticalSwipes','zIndex','ccTitle','calendar','innerHTML','error','week','setAttribute','startsWith','WebApp','router.html','getFullYear','day-off-overlay\x20stripe-bg','<div\x20class=\x22rs-day-name\x22>','loadLocal','%\x20-\x204px)','sort','end','.sheet','offClick','entries','planned','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','pattern','</div><div\x20class=\x22dch-num\x22>','<div\x20class=\x22dch-day\x22>','Telegram','onclick'];a3_0x4a14=function(){return _0xb7b1f6;};return a3_0x4a14();}function resolveCustomConfirm(_0x38237d){const _0x1a5256=a3_0x46d5d2;document[_0x1a5256(0x108)](_0x1a5256(0x9c))[_0x1a5256(0x9e)]['remove'](_0x1a5256(0xd7));if(confirmResolver)confirmResolver(_0x38237d);}async function tryCancelCurrentSession(){const _0x74cf7e=a3_0x46d5d2;if(!currentSession)return;const _0x1a28be=await showCustomConfirm(_0x74cf7e(0xd5),_0x74cf7e(0x14e),!![]);if(!_0x1a28be)return;const _0x3fd36c=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x158dbd=>_0x158dbd['id']!==_0x3fd36c['id']),reRenderBlocks(),showToast(_0x74cf7e(0x89)),lastUserActionTime=Date[_0x74cf7e(0x16f)]();try{const _0x1bc2e4=window[_0x74cf7e(0x16c)]?.[_0x74cf7e(0x15b)],_0x8e06d2=await fetch(API_URL,{'method':_0x74cf7e(0xc5),'body':JSON['stringify']({'action':_0x74cf7e(0x118),'init_data':_0x1bc2e4?.[_0x74cf7e(0x9d)]||'','coachId':_0x3fd36c[_0x74cf7e(0xae)],'dateStr':_0x3fd36c[_0x74cf7e(0x17f)],'sessionId':_0x3fd36c['id']})});if(_0x8e06d2['ok'])DataManager[_0x74cf7e(0xde)]();}catch(_0x277711){showToast(_0x74cf7e(0xe9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3c1bdf=a3_0x46d5d2;if(!currentSession)return;document[_0x3c1bdf(0x108)](_0x3c1bdf(0xa8))['classList']['remove']('open'),document[_0x3c1bdf(0x108)]('rescheduleSheet')[_0x3c1bdf(0x9e)][_0x3c1bdf(0x145)](_0x3c1bdf(0x183));const _0x4e351b=document[_0x3c1bdf(0x108)]('rsDatesTrack'),_0x3bf074=document['getElementById'](_0x3c1bdf(0x94));_0x4e351b[_0x3c1bdf(0x156)]='',_0x3bf074['innerHTML']=_0x3c1bdf(0xa9);const [_0x256095,_0x2010ea]=currentSession[_0x3c1bdf(0xe2)][_0x3c1bdf(0xfa)](':')[_0x3c1bdf(0x176)](Number),[_0x35397b,_0x2cfca1]=currentSession[_0x3c1bdf(0x163)]['split'](':')[_0x3c1bdf(0x176)](Number),_0x2d83f6=_0x35397b*0x3c+_0x2cfca1-(_0x256095*0x3c+_0x2010ea);try{const _0x5a1863=window[_0x3c1bdf(0x16c)]?.[_0x3c1bdf(0x15b)],_0x2b505b=await fetch(API_URL,{'method':_0x3c1bdf(0xc5),'body':JSON['stringify']({'action':_0x3c1bdf(0xfb),'coachId':currentSession['coachId'],'duration':_0x2d83f6,'init_data':_0x5a1863?.[_0x3c1bdf(0x9d)]||'','excludeSessionId':currentSession['id']})}),_0x616b2e=await _0x2b505b['json']();_0x616b2e['ok']&&_0x616b2e[_0x3c1bdf(0xb9)]?(availableSlotsCache=_0x616b2e[_0x3c1bdf(0xb9)],renderRescheduleDates()):_0x3bf074[_0x3c1bdf(0x156)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x17cc99){_0x3bf074[_0x3c1bdf(0x156)]=_0x3c1bdf(0x14c);}}function renderRescheduleDates(){const _0x11db6f=a3_0x46d5d2,_0xb9524=document[_0x11db6f(0x108)](_0x11db6f(0x12e));_0xb9524[_0x11db6f(0x156)]='';const _0x3e3dec=Object['keys'](availableSlotsCache)[_0x11db6f(0x162)](),_0x210aeb=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3e3dec[_0x11db6f(0x131)]===0x0){document[_0x11db6f(0x108)]('rsSlotsGrid')['innerHTML']=_0x11db6f(0x92);return;}_0x3e3dec[_0x11db6f(0xea)]((_0x145215,_0x9435f2)=>{const _0x3599d5=_0x11db6f,_0x5779b7=new Date(_0x145215),_0x41124e=_0x210aeb[_0x5779b7[_0x3599d5(0x133)]()],_0x2f8bfc=_0x5779b7[_0x3599d5(0xdf)](),_0x1b054a=document[_0x3599d5(0xc1)](_0x3599d5(0xc8));_0x1b054a['className']=_0x3599d5(0xa6);if(_0x9435f2===0x0)_0x1b054a[_0x3599d5(0x9e)][_0x3599d5(0x145)](_0x3599d5(0xfe));_0x1b054a['innerHTML']=_0x3599d5(0x15f)+_0x41124e+_0x3599d5(0x10c)+_0x2f8bfc+_0x3599d5(0x182),_0x1b054a[_0x3599d5(0x16d)]=()=>selectRsDate(_0x145215,_0x1b054a),_0xb9524[_0x3599d5(0x173)](_0x1b054a);}),selectRsDate(_0x3e3dec[0x0],_0xb9524[_0x11db6f(0x100)]);}function selectRsDate(_0x916c3b,_0x4609bd){const _0x488160=a3_0x46d5d2;selectedRsDate=_0x916c3b,document[_0x488160(0x8d)](_0x488160(0x137))[_0x488160(0xea)](_0x361a98=>_0x361a98[_0x488160(0x9e)][_0x488160(0xa2)](_0x488160(0xfe)));if(_0x4609bd)_0x4609bd['classList'][_0x488160(0x145)](_0x488160(0xfe));const _0x162bac=document[_0x488160(0x108)]('rsSlotsGrid');_0x162bac[_0x488160(0x156)]='';const _0x5c2827=availableSlotsCache[_0x916c3b]||[];if(_0x5c2827[_0x488160(0x131)]===0x0){_0x162bac['innerHTML']=_0x488160(0x8e);return;}_0x5c2827[_0x488160(0xea)](_0x2574ee=>{const _0xd6210b=_0x488160,_0x48364d=document['createElement'](_0xd6210b(0x150));_0x48364d[_0xd6210b(0x8f)]=_0xd6210b(0xb4),_0x48364d[_0xd6210b(0x93)]=_0x2574ee,_0x48364d[_0xd6210b(0x16d)]=()=>confirmReschedule(_0x2574ee),_0x162bac['appendChild'](_0x48364d);});}async function confirmReschedule(_0x2d1d5d){const _0x2590cc=a3_0x46d5d2,_0x22183f=new Date(selectedRsDate),_0x3d3dd9=_0x22183f[_0x2590cc(0xf4)]('ru-RU',{'day':_0x2590cc(0x11c),'month':_0x2590cc(0xb6)}),_0x4f89c2=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2590cc(0xba)+_0x3d3dd9+'\x20–≤\x20'+_0x2d1d5d+'?',![]);if(!_0x4f89c2)return;closeAllSheets(),showToast(_0x2590cc(0x138)),lastUserActionTime=Date['now']();const _0x1ad989=currentSession[_0x2590cc(0x17f)],_0x458ed4=currentSession['id'],[_0x44c441,_0x1cc045]=currentSession[_0x2590cc(0xe2)][_0x2590cc(0xfa)](':')[_0x2590cc(0x176)](Number),[_0x5ca7b8,_0x264837]=currentSession['end'][_0x2590cc(0xfa)](':')[_0x2590cc(0x176)](Number),_0x2fd13f=_0x5ca7b8*0x3c+_0x264837-(_0x44c441*0x3c+_0x1cc045),[_0x3991b6,_0x56e312]=_0x2d1d5d['split'](':')['map'](Number),_0x3dad20=_0x3991b6*0x3c+_0x56e312+_0x2fd13f,_0x528574=Math['floor'](_0x3dad20/0x3c),_0x4c7298=_0x3dad20%0x3c,_0x20f673=String(_0x528574)[_0x2590cc(0xc2)](0x2,'0')+':'+String(_0x4c7298)[_0x2590cc(0xc2)](0x2,'0'),_0x299f9f=sessions[_0x2590cc(0xa4)](_0x4a5c44=>_0x4a5c44['id']===_0x458ed4);_0x299f9f!==-0x1&&(sessions[_0x299f9f][_0x2590cc(0x17f)]=selectedRsDate,sessions[_0x299f9f][_0x2590cc(0xe2)]=_0x2d1d5d,sessions[_0x299f9f][_0x2590cc(0x163)]=_0x20f673,reRenderBlocks());try{const _0x43424c=window[_0x2590cc(0x16c)]?.[_0x2590cc(0x15b)],_0x51c8f2=await fetch(API_URL,{'method':'POST','body':JSON[_0x2590cc(0x14f)]({'action':_0x2590cc(0x13c),'init_data':_0x43424c?.['initData']||'','oldSessionId':_0x458ed4,'oldDate':_0x1ad989,'newDate':selectedRsDate,'newTime':_0x2d1d5d,'coachId':currentSession[_0x2590cc(0xae)]})}),_0x4a5da9=await _0x51c8f2[_0x2590cc(0xdb)]();!_0x4a5da9['ok']?(showToast(_0x2590cc(0x121)),DataManager[_0x2590cc(0x9b)]()):(showToast(_0x2590cc(0xdc)),DataManager[_0x2590cc(0xde)]());}catch(_0x25298f){showToast(_0x2590cc(0xe9));}}document[a3_0x46d5d2(0x116)](a3_0x46d5d2(0x147),init);