const a3_0x39c37c=a3_0x6dab;(function(_0x18fbb4,_0x36b6d4){const _0x497bc1=a3_0x6dab,_0x5579df=_0x18fbb4();while(!![]){try{const _0x459182=parseInt(_0x497bc1(0x118))/0x1*(-parseInt(_0x497bc1(0x14b))/0x2)+parseInt(_0x497bc1(0x1b7))/0x3*(-parseInt(_0x497bc1(0x114))/0x4)+parseInt(_0x497bc1(0x155))/0x5+parseInt(_0x497bc1(0x123))/0x6+parseInt(_0x497bc1(0x18a))/0x7*(-parseInt(_0x497bc1(0x111))/0x8)+-parseInt(_0x497bc1(0x1e0))/0x9*(parseInt(_0x497bc1(0x18b))/0xa)+-parseInt(_0x497bc1(0x18f))/0xb*(-parseInt(_0x497bc1(0x19c))/0xc);if(_0x459182===_0x36b6d4)break;else _0x5579df['push'](_0x5579df['shift']());}catch(_0x2fb738){_0x5579df['push'](_0x5579df['shift']());}}}(a3_0x5819,0xb6a9d));const APP_VERSION=a3_0x39c37c(0x1d9),API_URL=a3_0x39c37c(0x1ad),GRID_H=0x3c,KEY_SESSIONS=a3_0x39c37c(0x13f),KEY_SETTINGS=a3_0x39c37c(0x15e),KEY_CLIENTS=a3_0x39c37c(0x13b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x17f4f6=a3_0x39c37c,_0x1960cc=(function(){let _0x11c484=!![];return function(_0x4ea648,_0x43cef2){const _0x1beb9b=_0x11c484?function(){const _0x25237b=a3_0x6dab;if(_0x43cef2){const _0xf9875=_0x43cef2[_0x25237b(0x166)](_0x4ea648,arguments);return _0x43cef2=null,_0xf9875;}}:function(){};return _0x11c484=![],_0x1beb9b;};}()),_0x1e00a6=_0x1960cc(this,function(){const _0x8ec1be=a3_0x6dab;return _0x1e00a6['toString']()['search']('(((.+)+)+)+$')[_0x8ec1be(0x196)]()[_0x8ec1be(0xfc)](_0x1e00a6)[_0x8ec1be(0x18c)](_0x8ec1be(0x1cf));});_0x1e00a6();try{const _0x4afc89=window[_0x17f4f6(0x1c1)]?.['WebApp'];if(!_0x4afc89)return;_0x4afc89[_0x17f4f6(0x1bb)](),_0x4afc89[_0x17f4f6(0x143)]();try{_0x4afc89[_0x17f4f6(0x1c7)](_0x17f4f6(0x1a0)),_0x4afc89[_0x17f4f6(0x1b1)]&&_0x4afc89['setBackgroundColor'](_0x17f4f6(0x1a0));}catch(_0x43111b){console[_0x17f4f6(0x127)](_0x17f4f6(0x16a),_0x43111b);}try{_0x4afc89[_0x17f4f6(0xf8)]&&(_0x4afc89[_0x17f4f6(0xf8)][_0x17f4f6(0x105)](),_0x4afc89['BackButton']['offClick'](),_0x4afc89[_0x17f4f6(0xf8)]['onClick'](function(){const _0x11b9d9=_0x17f4f6;window[_0x11b9d9(0x1d5)][_0x11b9d9(0x115)]='router.html';}));}catch(_0x3be626){console[_0x17f4f6(0x127)](_0x17f4f6(0x17b),_0x3be626);}try{if(_0x4afc89[_0x17f4f6(0x1a1)])_0x4afc89[_0x17f4f6(0x1a1)]();}catch(_0x4d1ff7){}}catch(_0x3c188e){console[_0x17f4f6(0x12a)]('Critical\x20TMA\x20Error:',_0x3c188e);}}());function isAdmin(){const _0x121897=a3_0x39c37c;try{const _0xbfd8b3=Number(window['Telegram']?.[_0x121897(0x178)]?.[_0x121897(0x1d1)]?.['user']?.['id']);return _0xbfd8b3===0xbaf7174;}catch(_0x578194){return![];}}const DataManager={'saveLocally'(){const _0x2b2fd4=a3_0x39c37c;try{localStorage[_0x2b2fd4(0xf9)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x2b2fd4(0xf9)](KEY_CLIENTS,JSON[_0x2b2fd4(0x113)](clients)),localStorage[_0x2b2fd4(0xf9)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4ab342){}},'loadLocal'(){const _0x3a6ae4=a3_0x39c37c;try{const _0x5aedb1=localStorage[_0x3a6ae4(0x1d2)](KEY_SESSIONS);if(_0x5aedb1)sessions=JSON[_0x3a6ae4(0x184)](_0x5aedb1);const _0x215739=localStorage['getItem'](KEY_CLIENTS);if(_0x215739)clients=JSON[_0x3a6ae4(0x184)](_0x215739);const _0x3e0f65=localStorage[_0x3a6ae4(0x1d2)](KEY_SETTINGS);if(_0x3e0f65){const _0x50ab6c=JSON['parse'](_0x3e0f65);if(_0x50ab6c['pattern'])availabilityPattern=_0x50ab6c['pattern'];if(_0x50ab6c[_0x3a6ae4(0x120)])specialRanges=_0x50ab6c[_0x3a6ae4(0x120)];if(_0x50ab6c[_0x3a6ae4(0x189)])dateExceptions=_0x50ab6c['exceptions'];}}catch(_0x4c2315){}},async 'syncLoad'(){const _0x595139=a3_0x39c37c,_0x321c96=new Date(),_0x2b8dfa=_0x321c96[_0x595139(0x156)]()+'-'+String(_0x321c96[_0x595139(0x191)]()+0x1)[_0x595139(0xfe)](0x2,'0'),_0x9cc9c9=new Date(_0x321c96);_0x9cc9c9['setMonth'](_0x321c96[_0x595139(0x191)]()+0x1);const _0x5894f2=_0x9cc9c9[_0x595139(0x156)]()+'-'+String(_0x9cc9c9[_0x595139(0x191)]()+0x1)[_0x595139(0xfe)](0x2,'0'),_0x14afbb=Date[_0x595139(0x141)]();try{const _0x270312=window[_0x595139(0x1c1)]?.[_0x595139(0x178)],_0x471ab2=_0x270312?.[_0x595139(0x19a)]||'',[_0x2e9eac,_0x5384af]=await Promise[_0x595139(0x11d)]([fetch(API_URL,{'method':_0x595139(0x1eb),'body':JSON['stringify']({'action':_0x595139(0x1a5),'init_data':_0x471ab2,'month_str':_0x2b8dfa})})[_0x595139(0x152)](_0x311013=>_0x311013[_0x595139(0x103)]()),fetch(API_URL,{'method':_0x595139(0x1eb),'body':JSON[_0x595139(0x113)]({'action':'client_load','init_data':_0x471ab2,'month_str':_0x5894f2})})['then'](_0x5cfbd9=>_0x5cfbd9[_0x595139(0x103)]())]);if(lastUserActionTime>_0x14afbb){console[_0x595139(0x127)](_0x595139(0x165));return;}if(_0x2e9eac['ok'])this[_0x595139(0x106)](_0x2e9eac[_0x595139(0x10e)],_0x2b8dfa);if(_0x5384af['ok'])this['applyData'](_0x5384af[_0x595139(0x10e)],_0x5894f2);this[_0x595139(0x154)]();}catch(_0x332db6){}},'applyData'(_0x3288d8,_0x24b611){const _0x51554f=a3_0x39c37c;if(!_0x3288d8)return;if(_0x3288d8[_0x51554f(0x1ae)]){if(_0x3288d8[_0x51554f(0x1ae)][_0x51554f(0x151)])availabilityPattern=_0x3288d8[_0x51554f(0x1ae)][_0x51554f(0x151)];if(_0x3288d8['settings'][_0x51554f(0x120)])specialRanges=_0x3288d8['settings']['ranges'];if(_0x3288d8['settings'][_0x51554f(0x189)])dateExceptions=_0x3288d8[_0x51554f(0x1ae)]['exceptions'];}if(_0x3288d8[_0x51554f(0x188)]&&Array[_0x51554f(0x170)](_0x3288d8['clients']))clients=_0x3288d8['clients'];_0x3288d8[_0x51554f(0x1da)]&&(coachProfiles={...coachProfiles,..._0x3288d8['coach_profiles']}),_0x3288d8['calendar']&&(sessions=sessions[_0x51554f(0x1be)](_0x1cdc0f=>!_0x1cdc0f[_0x51554f(0x1ef)][_0x51554f(0x11c)](_0x24b611)),Object[_0x51554f(0x1ca)](_0x3288d8[_0x51554f(0x1c8)])[_0x51554f(0x1ab)](_0x4ae48c=>{const _0x9e23fb=_0x51554f,_0x69b901=_0x3288d8[_0x9e23fb(0x1c8)][_0x4ae48c];_0x69b901[_0x9e23fb(0x1ab)](_0x28310b=>{const _0x4c3bc6=_0x9e23fb;sessions[_0x4c3bc6(0x1f2)]({'id':_0x28310b['i'],'clientId':_0x28310b['c'],'coachId':_0x28310b[_0x4c3bc6(0x162)],'dateStr':_0x24b611+'-'+_0x4ae48c[_0x4c3bc6(0xfe)](0x2,'0'),'start':_0x28310b['s'],'end':_0x28310b['e'],'note':_0x28310b['n']||'','status':_0x28310b['st']||'planned','seriesId':_0x28310b[_0x4c3bc6(0x1dc)]});});})),reRenderBlocks();}};function init(){const _0x126fd5=a3_0x39c37c;DataManager[_0x126fd5(0x122)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x126fd5(0x116)](_0x126fd5(0x1c6))[_0x126fd5(0x14e)](_0x126fd5(0x1de),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x126fd5(0x1ed)]();}function renderTimeColumn(){const _0x5e2f38=a3_0x39c37c,_0x3d31e1=document['getElementById'](_0x5e2f38(0x175)),_0x7b5913=document[_0x5e2f38(0x116)]('timeLineBadge');_0x3d31e1[_0x5e2f38(0xf7)]='',_0x3d31e1[_0x5e2f38(0x13c)](_0x7b5913);for(let _0xc49c23=0x0;_0xc49c23<0x18;_0xc49c23++){const _0x305f9b=document[_0x5e2f38(0x17d)]('div');_0x305f9b[_0x5e2f38(0x1f5)]='time-label';if(_0xc49c23>0x0)_0x305f9b[_0x5e2f38(0xf7)]=_0x5e2f38(0x174)+String(_0xc49c23)['padStart'](0x2,'0')+_0x5e2f38(0x110);_0x3d31e1[_0x5e2f38(0x13c)](_0x305f9b);}}function renderDayRange(_0x580afe,_0x4bd084){const _0x452f4a=a3_0x39c37c,_0x2812ea=document[_0x452f4a(0x116)](_0x452f4a(0x102)),_0xe8b75c=document['getElementById'](_0x452f4a(0x132)),_0xd5ea0b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x155660=new Date();_0x155660[_0x452f4a(0x12b)](0x0,0x0,0x0,0x0);const _0x29dd60=getLocalDateStr(new Date());for(let _0x2a17b8=_0x580afe;_0x2a17b8<=_0x4bd084;_0x2a17b8++){const _0x2648eb=new Date(_0x155660);_0x2648eb['setDate'](_0x2648eb['getDate']()+_0x2a17b8);const _0x4245a9=getLocalDateStr(_0x2648eb);let _0x4176fa=_0x2648eb[_0x452f4a(0x1b8)]()-0x1;if(_0x4176fa===-0x1)_0x4176fa=0x6;const _0x28a4b7=_0x4245a9===_0x29dd60,_0x590dc9=document[_0x452f4a(0x17d)](_0x452f4a(0xef));_0x590dc9[_0x452f4a(0x1f5)]=_0x452f4a(0x1aa)+(_0x28a4b7?_0x452f4a(0xfb):''),_0x590dc9['setAttribute'](_0x452f4a(0x19d),_0x4245a9),_0x590dc9[_0x452f4a(0xf7)]=_0x452f4a(0x142)+_0xd5ea0b[_0x4176fa]+_0x452f4a(0xff)+_0x2648eb['getDate']()+'</div>',_0x2812ea[_0x452f4a(0x13c)](_0x590dc9);const _0x314ee5=document[_0x452f4a(0x17d)](_0x452f4a(0xef));_0x314ee5[_0x452f4a(0x1f5)]=_0x452f4a(0x16c)+(_0x28a4b7?_0x452f4a(0xfb):''),_0x314ee5[_0x452f4a(0x10c)](_0x452f4a(0x19d),_0x4245a9),_0x314ee5[_0x452f4a(0x10c)](_0x452f4a(0x195),_0x4176fa),_0xe8b75c[_0x452f4a(0x13c)](_0x314ee5);}}function reRenderBlocks(){const _0x4540dc=a3_0x39c37c;document[_0x4540dc(0x119)]('.day-column')['forEach'](_0x55a3e8=>{const _0x4c1c38=_0x4540dc;_0x55a3e8['querySelectorAll'](_0x4c1c38(0x128))[_0x4c1c38(0x1ab)](_0x2b6928=>_0x2b6928[_0x4c1c38(0x126)]());const _0xdd3bbe=_0x55a3e8[_0x4c1c38(0x1f8)](_0x4c1c38(0x19d)),_0x3d9220=parseInt(_0x55a3e8[_0x4c1c38(0x1f8)](_0x4c1c38(0x195))),_0x35ac27=Math[_0x4c1c38(0x100)](_0x55a3e8[_0x4c1c38(0x129)]);(availabilityPattern[_0x3d9220]||[])[_0x4c1c38(0x1ab)](_0x40d901=>{const _0x3979f7=_0x4c1c38,_0x1f1cca=document[_0x3979f7(0x17d)]('div');_0x1f1cca[_0x3979f7(0x1f5)]=_0x3979f7(0x15f),_0x1f1cca[_0x3979f7(0x17e)]['top']=_0x40d901*GRID_H+'px',_0x1f1cca[_0x3979f7(0x17e)][_0x3979f7(0x108)]='-'+_0x35ac27+_0x3979f7(0x146)+_0x40d901*GRID_H+'px',_0x55a3e8[_0x3979f7(0x13c)](_0x1f1cca);});if(specialRanges['length']>0x0){const _0x1d6851=new Date(_0xdd3bbe+_0x4c1c38(0x1f7))[_0x4c1c38(0x145)](),_0x2fc72d=new Date(_0xdd3bbe+_0x4c1c38(0x1e3))[_0x4c1c38(0x145)]();specialRanges['forEach'](_0x15b7fd=>{const _0x502b7f=_0x4c1c38,_0x271a25=new Date(_0x15b7fd[_0x502b7f(0x12f)])[_0x502b7f(0x145)](),_0x466bfd=new Date(_0x15b7fd[_0x502b7f(0x10b)])[_0x502b7f(0x145)](),_0x484c35=Math[_0x502b7f(0x161)](_0x1d6851,_0x271a25),_0x43c50c=Math[_0x502b7f(0x17a)](_0x2fc72d,_0x466bfd);if(_0x484c35<_0x43c50c){const _0x11ada0=(_0x484c35-_0x1d6851)/0x36ee80*GRID_H,_0x5e5e5c=(_0x43c50c-_0x484c35)/0x36ee80*GRID_H,_0x4441a=document[_0x502b7f(0x17d)](_0x502b7f(0xef));_0x5e5e5c>=23.5*GRID_H?(_0x4441a[_0x502b7f(0x1f5)]=_0x502b7f(0x163),_0x4441a['style'][_0x502b7f(0x108)]='-'+_0x35ac27+_0x502b7f(0x197)):(_0x4441a[_0x502b7f(0x1f5)]=_0x502b7f(0x1a9),_0x4441a[_0x502b7f(0x17e)][_0x502b7f(0x168)]=_0x11ada0+'px',_0x4441a[_0x502b7f(0x17e)][_0x502b7f(0x1df)]=_0x5e5e5c+'px',_0x4441a[_0x502b7f(0x17e)][_0x502b7f(0x108)]='-'+_0x35ac27+_0x502b7f(0x146)+_0x11ada0+'px'),_0x55a3e8['appendChild'](_0x4441a);}});}renderEventsForColumn(_0x55a3e8,_0xdd3bbe);});}function renderEventsForColumn(_0x135908,_0x2c8b91){const _0x33dbd7=a3_0x39c37c,_0x1a0c1a=sessions[_0x33dbd7(0x1be)](_0x4beb5e=>_0x4beb5e[_0x33dbd7(0x1ef)]===_0x2c8b91),_0x227bdd=_0x1a0c1a[_0x33dbd7(0x16d)](_0x32d854=>{const _0x1977e9=_0x33dbd7,[_0x30d813,_0xef14cc]=_0x32d854['start'][_0x1977e9(0x1af)](':')[_0x1977e9(0x16d)](Number),[_0x35788a,_0x10f093]=_0x32d854[_0x1977e9(0x10b)][_0x1977e9(0x1af)](':')[_0x1977e9(0x16d)](Number);return{'data':_0x32d854,'start':_0x30d813*0x3c+_0xef14cc,'end':_0x35788a*0x3c+_0x10f093,'colIndex':0x0};});_0x227bdd[_0x33dbd7(0x147)]((_0x36f07f,_0x3dd981)=>_0x36f07f[_0x33dbd7(0x12f)]-_0x3dd981[_0x33dbd7(0x12f)]||_0x3dd981[_0x33dbd7(0x10b)]-_0x3dd981['start']-(_0x36f07f['end']-_0x36f07f['start']));const _0x2554a6=[];_0x227bdd['forEach'](_0x2033f2=>{const _0x19c56c=_0x33dbd7;let _0x4ca3f0=![];for(let _0x174b7a=0x0;_0x174b7a<_0x2554a6['length'];_0x174b7a++){const _0x40ab20=_0x2554a6[_0x174b7a];if(_0x2033f2[_0x19c56c(0x12f)]>=_0x40ab20[_0x40ab20[_0x19c56c(0x136)]-0x1][_0x19c56c(0x10b)]){_0x40ab20[_0x19c56c(0x1f2)](_0x2033f2),_0x2033f2['colIndex']=_0x174b7a,_0x4ca3f0=!![];break;}}!_0x4ca3f0&&(_0x2554a6[_0x19c56c(0x1f2)]([_0x2033f2]),_0x2033f2['colIndex']=_0x2554a6[_0x19c56c(0x136)]-0x1);}),_0x227bdd[_0x33dbd7(0x1ab)](_0x5e1e09=>{const _0x19eb8a=_0x33dbd7;let _0x38deef=0x0;_0x227bdd['forEach'](_0x580bc1=>{const _0x1779f3=a3_0x6dab;if(Math[_0x1779f3(0x161)](_0x5e1e09['start'],_0x580bc1[_0x1779f3(0x12f)])<Math[_0x1779f3(0x17a)](_0x5e1e09[_0x1779f3(0x10b)],_0x580bc1['end'])&&_0x580bc1['colIndex']>_0x38deef)_0x38deef=_0x580bc1[_0x1779f3(0x16e)];});const _0x603f59=_0x38deef+0x1,_0x5bc741=0x64/_0x603f59,_0x9cfce5=_0x5e1e09['colIndex']*_0x5bc741,_0x1c309d=document[_0x19eb8a(0x17d)](_0x19eb8a(0xef)),_0x25132d=_0x5e1e09[_0x19eb8a(0x10e)];let _0x4c36c8=_0x19eb8a(0x182);if(clients&&clients['length']>0x0){const _0x36413d=clients[_0x19eb8a(0x1dd)](_0x5149ec=>String(_0x5149ec['id'])===String(_0x25132d[_0x19eb8a(0x1c9)]));if(_0x36413d&&_0x36413d['color'])_0x4c36c8=_0x36413d['color'];}const _0x35495a=_0x25132d[_0x19eb8a(0x186)]===_0x19eb8a(0x1b4),_0x40af1e=_0x35495a?0x1:0.45;_0x1c309d[_0x19eb8a(0x1f5)]=_0x19eb8a(0x160)+(_0x35495a?_0x19eb8a(0x12e):''),_0x1c309d['style']['backgroundColor']=hexToRgba(_0x4c36c8,_0x40af1e),_0x1c309d[_0x19eb8a(0x17e)]['borderLeftColor']=_0x4c36c8;const _0x163f38=_0x5e1e09[_0x19eb8a(0x12f)]/0x3c*GRID_H,_0x330353=(_0x5e1e09[_0x19eb8a(0x10b)]-_0x5e1e09[_0x19eb8a(0x12f)])/0x3c*GRID_H;_0x1c309d[_0x19eb8a(0x17e)][_0x19eb8a(0x168)]=_0x163f38+'px',_0x1c309d['style']['height']=Math[_0x19eb8a(0x161)](_0x330353,0x14)+'px',_0x1c309d[_0x19eb8a(0x17e)][_0x19eb8a(0xee)]=_0x19eb8a(0xf3)+_0x5bc741+_0x19eb8a(0x11a),_0x1c309d[_0x19eb8a(0x17e)]['left']=_0x19eb8a(0xf3)+_0x9cfce5+_0x19eb8a(0x140),_0x1c309d['style'][_0x19eb8a(0x130)]=0xa+_0x5e1e09[_0x19eb8a(0x16e)];if(_0x5bc741<0x55)_0x1c309d['classList'][_0x19eb8a(0x179)](_0x19eb8a(0x107));let _0x3962d1='';if(_0x25132d[_0x19eb8a(0x1e5)])_0x3962d1+=_0x19eb8a(0x1cd);if(_0x35495a)_0x3962d1+=_0x19eb8a(0x1d0);_0x1c309d[_0x19eb8a(0xf7)]=_0x19eb8a(0x11e)+_0x25132d[_0x19eb8a(0x12f)]+_0x19eb8a(0x112)+_0x25132d[_0x19eb8a(0x10b)]+_0x19eb8a(0x15c)+_0x3962d1+_0x19eb8a(0x11b),_0x1c309d[_0x19eb8a(0x199)]=_0xf10a47=>{const _0x419465=_0x19eb8a;_0xf10a47[_0x419465(0x17f)](),openDetails(_0x25132d);},_0x135908[_0x19eb8a(0x13c)](_0x1c309d);});}function openAnalytics(){const _0x2600a1=a3_0x39c37c,_0x58278a=document[_0x2600a1(0x148)](_0x2600a1(0x144));setAnalyticsPeriod(_0x2600a1(0x1ec),_0x58278a),openSheet(_0x2600a1(0x185));}function setAnalyticsPeriod(_0x44d5ed,_0x3ea902){const _0x123679=a3_0x39c37c;currentAnPeriod=_0x44d5ed,document[_0x123679(0x119)](_0x123679(0x144))[_0x123679(0x1ab)](_0x599c44=>_0x599c44['classList'][_0x123679(0x126)](_0x123679(0x1f0)));if(_0x3ea902)_0x3ea902['classList']['add'](_0x123679(0x1f0));const _0x1c68c5=document['getElementById'](_0x123679(0x187));_0x1c68c5['style'][_0x123679(0x1a6)]=_0x44d5ed===_0x123679(0x1b2)?'flex':_0x123679(0x153);const _0x1a3548=new Date();let _0x1ff64e=new Date(),_0x38e05e=new Date();if(_0x44d5ed==='week')_0x1ff64e=getStartOfWeek(_0x1a3548),_0x38e05e=new Date(_0x1ff64e),_0x38e05e[_0x123679(0xf2)](_0x38e05e[_0x123679(0x172)]()+0x6);else{if(_0x44d5ed==='month')_0x1ff64e=new Date(_0x1a3548[_0x123679(0x156)](),_0x1a3548[_0x123679(0x191)](),0x1),_0x38e05e=new Date(_0x1a3548[_0x123679(0x156)](),_0x1a3548[_0x123679(0x191)]()+0x1,0x0);else{!document['getElementById'](_0x123679(0x194))[_0x123679(0x13a)]&&(document[_0x123679(0x116)](_0x123679(0x194))[_0x123679(0x13a)]=getLocalDateStr(_0x1a3548),document[_0x123679(0x116)](_0x123679(0x16b))[_0x123679(0x13a)]=getLocalDateStr(_0x1a3548));refreshAnalytics();return;}}document[_0x123679(0x116)](_0x123679(0x194))[_0x123679(0x13a)]=getLocalDateStr(_0x1ff64e),document[_0x123679(0x116)](_0x123679(0x16b))[_0x123679(0x13a)]=getLocalDateStr(_0x38e05e),refreshAnalytics();}function refreshAnalytics(){const _0x310eee=a3_0x39c37c,_0x30ea39=document[_0x310eee(0x116)](_0x310eee(0x194))[_0x310eee(0x13a)],_0x28cb7a=document[_0x310eee(0x116)](_0x310eee(0x16b))[_0x310eee(0x13a)];if(!_0x30ea39||!_0x28cb7a)return;const _0x471fdf=sessions[_0x310eee(0x1be)](_0x4ae7ca=>_0x4ae7ca['dateStr']>=_0x30ea39&&_0x4ae7ca['dateStr']<=_0x28cb7a&&_0x4ae7ca['status']!==_0x310eee(0xf0)),_0x4cede7=_0x471fdf[_0x310eee(0x136)],_0x4bb7ea=_0x471fdf[_0x310eee(0x1be)](_0x2769b9=>_0x2769b9[_0x310eee(0x186)]===_0x310eee(0x1b4))[_0x310eee(0x136)],_0x51ff86=_0x4cede7>0x0?Math['round'](_0x4bb7ea/_0x4cede7*0x64):0x0;document['getElementById'](_0x310eee(0x1b3))[_0x310eee(0x14c)]=_0x51ff86+'%',document[_0x310eee(0x116)](_0x310eee(0x135))[_0x310eee(0x14c)]=_0x4bb7ea+_0x310eee(0xf1)+_0x4cede7+_0x310eee(0x1ee);const _0x24f07c=document[_0x310eee(0x116)]('anDonutCircle'),_0x363024=0x2*Math['PI']*0x23,_0x2b5bdf=_0x363024-_0x51ff86/0x64*_0x363024;_0x24f07c[_0x310eee(0x17e)][_0x310eee(0x159)]=_0x2b5bdf;const _0xf23a55={};_0x471fdf['forEach'](_0x396238=>{const _0x261082=_0x310eee,_0x915e98=_0x396238[_0x261082(0x181)]||_0x261082(0x1e4);if(!_0xf23a55[_0x915e98]){const _0x421fc1='#'+_0x915e98['toString']()[_0x261082(0x1ba)](0x0,0x6);_0xf23a55[_0x915e98]={'total':0x0,'done':0x0,'color':_0x421fc1};}_0xf23a55[_0x915e98][_0x261082(0x19f)]++;if(_0x396238['status']==='completed')_0xf23a55[_0x915e98][_0x261082(0x1d8)]++;});const _0x402cc5=document[_0x310eee(0x116)](_0x310eee(0x150));_0x402cc5[_0x310eee(0xf7)]='';const _0x481d83=Object[_0x310eee(0x1a2)](_0xf23a55)[_0x310eee(0x147)]((_0x5ec7e6,_0x53687e)=>_0x53687e[0x1]['total']-_0x5ec7e6[0x1][_0x310eee(0x19f)]);if(_0x481d83[_0x310eee(0x136)]===0x0){_0x402cc5[_0x310eee(0xf7)]=_0x310eee(0x18e);return;}_0x481d83[_0x310eee(0x1ab)](([_0x552bdd,_0x1a2c9])=>{const _0x546610=_0x310eee,_0x5ebffb=Math[_0x546610(0x100)](_0x1a2c9[_0x546610(0x1d8)]/_0x1a2c9[_0x546610(0x19f)]*0x64),_0x1a4f35=document[_0x546610(0x17d)](_0x546610(0xef));_0x1a4f35['className']=_0x546610(0x1b0),_0x1a4f35['style'][_0x546610(0x1ac)]=_0x1a2c9[_0x546610(0x117)],_0x1a4f35[_0x546610(0xf7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x552bdd[_0x546610(0x1ba)](0x0,0x5)+_0x546610(0x1c0)+_0x1a2c9['done']+'</span>\x20/\x20'+_0x1a2c9[_0x546610(0x19f)]+_0x546610(0x101)+_0x5ebffb+_0x546610(0x137),_0x402cc5[_0x546610(0x13c)](_0x1a4f35);});}function openDetails(_0x347ebb){const _0xa7b5d5=a3_0x39c37c;currentSession=_0x347ebb;const _0x9d82a9=new Date(_0x347ebb[_0xa7b5d5(0x1ef)]),_0x369066=_0x9d82a9[_0xa7b5d5(0x157)]('ru-RU',{'weekday':_0xa7b5d5(0x1f6),'day':_0xa7b5d5(0xfa),'month':_0xa7b5d5(0x1f6)});document[_0xa7b5d5(0x116)](_0xa7b5d5(0x1e7))[_0xa7b5d5(0x14c)]=_0x369066[_0xa7b5d5(0x10a)](0x0)[_0xa7b5d5(0x173)]()+_0x369066['slice'](0x1),document[_0xa7b5d5(0x116)](_0xa7b5d5(0xfd))[_0xa7b5d5(0x14c)]=_0x347ebb['start']+_0xa7b5d5(0x112)+_0x347ebb[_0xa7b5d5(0x10b)],document[_0xa7b5d5(0x116)]('detNote')[_0xa7b5d5(0x14c)]=_0x347ebb[_0xa7b5d5(0x13e)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3ad380=document['getElementById'](_0xa7b5d5(0x1e2)),_0x55523f=document[_0xa7b5d5(0x116)]('cancelContainer'),_0x3cde3c=_0x55523f[_0xa7b5d5(0x148)](_0xa7b5d5(0x1bc)),_0x1a0662=_0x55523f[_0xa7b5d5(0x148)](_0xa7b5d5(0x15a)),_0x2f1bf1=document['getElementById'](_0xa7b5d5(0x1d4));if(_0x347ebb[_0xa7b5d5(0x186)]===_0xa7b5d5(0x1b4))_0x3ad380[_0xa7b5d5(0x14c)]=_0xa7b5d5(0x139),_0x3ad380[_0xa7b5d5(0x17e)]['color']=_0xa7b5d5(0x1db),_0x55523f['style'][_0xa7b5d5(0x1a6)]='none';else{_0x3ad380['textContent']=_0xa7b5d5(0x1e1),_0x3ad380['style'][_0xa7b5d5(0x117)]=_0xa7b5d5(0xf4),_0x55523f[_0xa7b5d5(0x17e)][_0xa7b5d5(0x1a6)]=_0xa7b5d5(0x1ea);const _0xd9e7c6=new Date(_0x347ebb[_0xa7b5d5(0x1ef)]+'T'+_0x347ebb[_0xa7b5d5(0x12f)]),_0x28f0c1=new Date(),_0x3f77fa=(_0xd9e7c6-_0x28f0c1)/(0x3e8*0x3c*0x3c),_0xed6a6c=coachProfiles[_0x347ebb[_0xa7b5d5(0x181)]]&&coachProfiles[_0x347ebb[_0xa7b5d5(0x181)]][_0xa7b5d5(0x1bd)]?parseInt(coachProfiles[_0x347ebb[_0xa7b5d5(0x181)]][_0xa7b5d5(0x1bd)]):0x18;if(_0xed6a6c===0x0||_0x3f77fa>=_0xed6a6c)_0x3cde3c[_0xa7b5d5(0x17e)][_0xa7b5d5(0x1a6)]=_0xa7b5d5(0x1ea),_0x1a0662[_0xa7b5d5(0x17e)][_0xa7b5d5(0x1a6)]=_0xa7b5d5(0x1ea),_0x2f1bf1[_0xa7b5d5(0x17e)][_0xa7b5d5(0x1a6)]=_0xa7b5d5(0x153);else{_0x3cde3c['style']['display']=_0xa7b5d5(0x153),_0x1a0662['style'][_0xa7b5d5(0x1a6)]='none',_0x2f1bf1[_0xa7b5d5(0x17e)][_0xa7b5d5(0x1a6)]=_0xa7b5d5(0x1ea);let _0x145a4f=_0xed6a6c===0x0?_0xa7b5d5(0x1e9):_0xa7b5d5(0x149)+_0xed6a6c+_0xa7b5d5(0x14d);_0x2f1bf1['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x145a4f+_0xa7b5d5(0x131);}}document[_0xa7b5d5(0x116)](_0xa7b5d5(0x1cc))[_0xa7b5d5(0xf5)][_0xa7b5d5(0x179)](_0xa7b5d5(0x1f0)),document[_0xa7b5d5(0x116)](_0xa7b5d5(0x12d))['classList'][_0xa7b5d5(0x179)](_0xa7b5d5(0x10f));}function closeAllSheets(){const _0x1aac6c=a3_0x39c37c;document[_0x1aac6c(0x116)](_0x1aac6c(0x1cc))[_0x1aac6c(0xf5)]['remove'](_0x1aac6c(0x1f0)),document[_0x1aac6c(0x119)](_0x1aac6c(0x17c))[_0x1aac6c(0x1ab)](_0x1ec25b=>_0x1ec25b['classList']['remove']('open'));}function openSheet(_0x1a925d){const _0x1f1860=a3_0x39c37c;document[_0x1f1860(0x116)]('overlay')[_0x1f1860(0xf5)][_0x1f1860(0x179)](_0x1f1860(0x1f0)),document[_0x1f1860(0x116)](_0x1a925d)[_0x1f1860(0xf5)]['add'](_0x1f1860(0x10f));}function getLocalDateStr(_0x30a0f0){const _0x22f3bc=a3_0x39c37c,_0x1499da=_0x30a0f0[_0x22f3bc(0x156)](),_0x50638c=String(_0x30a0f0[_0x22f3bc(0x191)]()+0x1)[_0x22f3bc(0xfe)](0x2,'0'),_0x2da30d=String(_0x30a0f0[_0x22f3bc(0x172)]())['padStart'](0x2,'0');return _0x1499da+'-'+_0x50638c+'-'+_0x2da30d;}function getStartOfWeek(_0x55981b){const _0x5d3e0d=a3_0x39c37c,_0x516632=new Date(_0x55981b),_0x434be5=_0x516632[_0x5d3e0d(0x1b8)](),_0x4d9666=_0x516632['getDate']()-_0x434be5+(_0x434be5===0x0?-0x6:0x1);return _0x516632[_0x5d3e0d(0xf2)](_0x4d9666),_0x516632[_0x5d3e0d(0x12b)](0x0,0x0,0x0,0x0),_0x516632;}function scrollToToday(){const _0x2e1dbf=getLocalDateStr(new Date());setTimeout(()=>{const _0xfe4a92=a3_0x6dab,_0x5e952a=document[_0xfe4a92(0x148)](_0xfe4a92(0x1c3)+_0x2e1dbf+'\x22]');if(_0x5e952a){const _0x2025ee=document[_0xfe4a92(0x116)](_0xfe4a92(0x1c6)),_0x461edf=_0x5e952a[_0xfe4a92(0x129)]-_0x2025ee[_0xfe4a92(0x1d6)]/0x2+_0x5e952a['offsetWidth']/0x2;_0x2025ee[_0xfe4a92(0x14f)]({'left':_0x461edf,'behavior':_0xfe4a92(0x1a8)}),_0x2025ee[_0xfe4a92(0x176)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2f0bad=a3_0x39c37c,_0x301a44=new Date(),_0xdb4195=document[_0x2f0bad(0x116)]('globalTimeLine'),_0x406c25=document[_0x2f0bad(0x116)](_0x2f0bad(0x1f4)),_0xd0c329=(_0x301a44[_0x2f0bad(0x16f)]()*0x3c+_0x301a44['getMinutes']())/0x3c*GRID_H;_0xdb4195['style'][_0x2f0bad(0x168)]=_0xd0c329+'px',_0xdb4195[_0x2f0bad(0x17e)]['display']=_0x2f0bad(0x1ea),_0x406c25[_0x2f0bad(0x17e)][_0x2f0bad(0x168)]=_0xd0c329+'px',_0x406c25[_0x2f0bad(0x17e)][_0x2f0bad(0x1a6)]='block',_0x406c25['textContent']=String(_0x301a44[_0x2f0bad(0x16f)]())['padStart'](0x2,'0')+':'+String(_0x301a44['getMinutes']())[_0x2f0bad(0xfe)](0x2,'0');}function onScroll(){const _0x4387af=a3_0x39c37c,_0x3cb8f0=document[_0x4387af(0x116)]('matrixViewport'),_0x4bd1f0=document[_0x4387af(0x119)](_0x4387af(0x183));for(let _0x45855e of _0x4bd1f0)if(_0x45855e['offsetLeft']>=_0x3cb8f0[_0x4387af(0x12c)]){const _0x2595a7=new Date(_0x45855e[_0x4387af(0x1f8)](_0x4387af(0x19d)));document['getElementById'](_0x4387af(0x177))[_0x4387af(0x14c)]=_0x2595a7[_0x4387af(0x138)]('ru',{'month':_0x4387af(0x1f6)})[_0x4387af(0x173)]()+'\x20'+_0x2595a7[_0x4387af(0x156)]();break;}}function a3_0x6dab(_0x4779f0,_0x140e76){_0x4779f0=_0x4779f0-0xee;const _0xe9321e=a3_0x5819();let _0x23808b=_0xe9321e[_0x4779f0];return _0x23808b;}function showToast(_0x1ceb07){const _0x5afe2b=a3_0x39c37c,_0x404d87=document[_0x5afe2b(0x116)]('toast');_0x404d87['textContent']=_0x1ceb07,_0x404d87['classList'][_0x5afe2b(0x179)]('show'),setTimeout(()=>_0x404d87['classList'][_0x5afe2b(0x126)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x5e907b=a3_0x39c37c,_0x3616df=document[_0x5e907b(0x116)]('matrixViewport'),_0x2ca238=_0x3616df[_0x5e907b(0x12c)],_0x1abd04=_0x3616df['scrollWidth'],_0x127a9d=_0x3616df[_0x5e907b(0x1d6)];if(_0x1abd04-(_0x2ca238+_0x127a9d)<0x12c){const _0x28c771=endOffset;endOffset+=0xe,renderDayRange(_0x28c771+0x1,endOffset),reRenderBlocks();}if(_0x2ca238<0x12c){const _0xb74a41=startOffset;startOffset-=0xe,prependDays(startOffset,_0xb74a41-0x1),_0x3616df[_0x5e907b(0x12c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x54a87a,_0x378b47){const _0x37c404=a3_0x39c37c,_0x522575=document[_0x37c404(0x116)]('daysHeaderTrack'),_0x294bd6=document[_0x37c404(0x116)]('gridColumns'),_0x56c3bf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2da1ba=new Date();_0x2da1ba[_0x37c404(0x12b)](0x0,0x0,0x0,0x0);const _0x47e727=getLocalDateStr(new Date()),_0x5bfa78=document[_0x37c404(0x1ce)](),_0x56dfbd=document['createDocumentFragment']();for(let _0x306a7c=_0x54a87a;_0x306a7c<=_0x378b47;_0x306a7c++){const _0x13e4f4=new Date(_0x2da1ba);_0x13e4f4[_0x37c404(0xf2)](_0x13e4f4[_0x37c404(0x172)]()+_0x306a7c);const _0x44d379=getLocalDateStr(_0x13e4f4);let _0xc323c7=_0x13e4f4[_0x37c404(0x1b8)]()-0x1;if(_0xc323c7===-0x1)_0xc323c7=0x6;const _0x164503=_0x44d379===_0x47e727,_0x4b033b=document[_0x37c404(0x17d)](_0x37c404(0xef));_0x4b033b[_0x37c404(0x1f5)]=_0x37c404(0x1aa)+(_0x164503?_0x37c404(0xfb):''),_0x4b033b[_0x37c404(0x10c)](_0x37c404(0x19d),_0x44d379),_0x4b033b['innerHTML']=_0x37c404(0x142)+_0x56c3bf[_0xc323c7]+_0x37c404(0xff)+_0x13e4f4[_0x37c404(0x172)]()+_0x37c404(0x13d),_0x5bfa78[_0x37c404(0x13c)](_0x4b033b);const _0x21ca09=document[_0x37c404(0x17d)]('div');_0x21ca09[_0x37c404(0x1f5)]=_0x37c404(0x16c)+(_0x164503?'today':''),_0x21ca09[_0x37c404(0x10c)](_0x37c404(0x19d),_0x44d379),_0x21ca09[_0x37c404(0x10c)](_0x37c404(0x195),_0xc323c7),_0x56dfbd['appendChild'](_0x21ca09);}_0x522575[_0x37c404(0x134)](_0x5bfa78,_0x522575[_0x37c404(0x125)]),_0x294bd6[_0x37c404(0x134)](_0x56dfbd,_0x294bd6['querySelector'](_0x37c404(0x1c5)));}function hexToRgba(_0x41be2d,_0xd20f38){const _0x43c3aa=a3_0x39c37c;let _0x205310;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x43c3aa(0x18d)](_0x41be2d))return _0x205310=_0x41be2d[_0x43c3aa(0x1f1)](0x1)['split'](''),_0x205310[_0x43c3aa(0x136)]==0x3&&(_0x205310=[_0x205310[0x0],_0x205310[0x0],_0x205310[0x1],_0x205310[0x1],_0x205310[0x2],_0x205310[0x2]]),_0x205310='0x'+_0x205310[_0x43c3aa(0x19e)](''),'rgba('+[_0x205310>>0x10&0xff,_0x205310>>0x8&0xff,_0x205310&0xff]['join'](',')+','+_0xd20f38+')';return _0x43c3aa(0x1f3)+_0xd20f38+')';}let confirmResolver=null;function showCustomConfirm(_0x47a475,_0x13509a,_0xc7c2d6=!![]){const _0x435f60=a3_0x39c37c;document[_0x435f60(0x116)](_0x435f60(0x109))[_0x435f60(0x14c)]=_0x47a475,document[_0x435f60(0x116)](_0x435f60(0x1e8))[_0x435f60(0x14c)]=_0x13509a;const _0x567680=document['getElementById'](_0x435f60(0x1b5));return _0xc7c2d6?(_0x567680['style'][_0x435f60(0x117)]=_0x435f60(0x171),_0x567680[_0x435f60(0x17e)][_0x435f60(0x1a3)]=_0x435f60(0x19b)):(_0x567680[_0x435f60(0x17e)]['color']=_0x435f60(0x182),_0x567680[_0x435f60(0x17e)][_0x435f60(0x1a3)]=_0x435f60(0x19b)),new Promise(_0x44ab74=>{const _0xc9985b=_0x435f60;confirmResolver=_0x44ab74,document[_0xc9985b(0x116)](_0xc9985b(0x180))['classList'][_0xc9985b(0x179)](_0xc9985b(0x1bf));});}function resolveCustomConfirm(_0x3a1bef){const _0x304cc8=a3_0x39c37c;document['getElementById'](_0x304cc8(0x180))[_0x304cc8(0xf5)][_0x304cc8(0x126)](_0x304cc8(0x1bf));if(confirmResolver)confirmResolver(_0x3a1bef);}async function tryCancelCurrentSession(){const _0x15f459=a3_0x39c37c;if(!currentSession)return;const _0x232b98=await showCustomConfirm(_0x15f459(0x1d3),_0x15f459(0x1cb),!![]);if(!_0x232b98)return;const _0x41545b=currentSession;closeAllSheets(),sessions=sessions[_0x15f459(0x1be)](_0x551d59=>_0x551d59['id']!==_0x41545b['id']),reRenderBlocks(),showToast(_0x15f459(0x15d)),lastUserActionTime=Date[_0x15f459(0x141)]();try{const _0x48d4da=window[_0x15f459(0x1c1)]?.[_0x15f459(0x178)],_0x3640ad=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x15f459(0x10d),'init_data':_0x48d4da?.[_0x15f459(0x19a)]||'','coachId':_0x41545b[_0x15f459(0x181)],'dateStr':_0x41545b[_0x15f459(0x1ef)],'sessionId':_0x41545b['id']})});if(_0x3640ad['ok'])DataManager[_0x15f459(0x154)]();}catch(_0x15b609){showToast(_0x15f459(0x1d7));}}function a3_0x5819(){const _0x570f4f=['querySelectorAll','%\x20-\x204px)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','ru-RU','ranges','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','loadLocal','2065896rgwjDP','\x20–≤\x20','firstChild','remove','log','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','offsetLeft','error','setHours','scrollLeft','detailsSheet','\x20status-completed','start','zIndex','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','gridColumns','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','insertBefore','anTotalStats','length','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','value','uc_client_list','appendChild','</div>','note','uc_client_sessions','%\x20+\x202px)','now','<div\x20class=\x22dch-day\x22>','expand','.period-switch\x20.p-btn','getTime','px\x20-','sort','querySelector','–∑–∞\x20','rsDatesTrack','115954thpWGv','textContent','\x20—á.','addEventListener','scrollTo','analyticsList','pattern','then','none','saveLocally','2422620EeIrqh','getFullYear','toLocaleDateString','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','strokeDashoffset','.btn-reschedule','button','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–º–µ–Ω–µ–Ω–æ','uc_client_settings','blocked-slot\x20stripe-bg','event-card','max','cid','day-off-overlay\x20stripe-bg','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','apply','get_slots','top','rsSlotsGrid','Error\x20setting\x20color:','anEnd','day-column\x20','map','colIndex','getHours','isArray','#ff453a','getDate','toUpperCase','<span>','timeColumn','scrollTop','headerMonth','WebApp','add','min','Error\x20setting\x20back\x20button:','.sheet','createElement','style','stopPropagation','customConfirm','coachId','#0a84ff','.day-col-header','parse','analyticsSheet','status','anCustomDates','clients','exceptions','7MJsppL','3581710HYvkYz','search','test','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','253UKydKw','floor','getMonth','<div\x20class=\x22rs-day-name\x22>','rs-date-chip','anStart','data-day-idx','toString','px\x200px','rs-time-btn','onclick','initData','600','1467012EmPbLW','data-date','join','total','#050505','disableVerticalSwipes','entries','fontWeight','rescheduleSheet','client_load','display','.rs-date-chip','auto','blocked-range-part\x20stripe-bg','day-col-header\x20','forEach','borderLeftColor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','settings','split','client-stat-card','setBackgroundColor','custom','anPercent','completed','ccYesBtn','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','48336jqxVhS','getDay','DOMContentLoaded','substr','ready','.btn-cancel','cancel_window','filter','visible','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','Telegram','findIndex','.day-col-header[data-date=\x22','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','.day-column','matrixViewport','setHeaderColor','calendar','clientId','keys','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','overlay','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','createDocumentFragment','(((.+)+)+)+$','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','initDataUnsafe','getItem','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cancelHint','location','clientWidth','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','done','v9.5-CLIENT-ANALYTICS','coach_profiles','var(--acc-green)','sid','find','scroll','height','36lvDaCw','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','detStatus','T23:59:59','Unknown','seriesId','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','detDate','ccText','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','block','POST','week','syncLoad','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','dateStr','active','substring','push','rgba(10,\x20132,\x20255,\x20','timeLineBadge','className','long','T00:00:00','getAttribute','width','div','cancelled','\x20–∏–∑\x20','setDate','calc(','var(--acc-blue)','classList','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','innerHTML','BackButton','setItem','numeric','today','constructor','detTime','padStart','</div><div\x20class=\x22dch-num\x22>','round','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','daysHeaderTrack','json','reschedule','show','applyData','mini','backgroundPosition','ccTitle','charAt','end','setAttribute','client_cancel','data','open',':00</span>','623464uHaiKA','\x20-\x20','stringify','12bfVJwT','href','getElementById','color','23dhnOAQ'];a3_0x5819=function(){return _0x570f4f;};return a3_0x5819();}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1eaca5=a3_0x39c37c;if(!currentSession)return;document[_0x1eaca5(0x116)](_0x1eaca5(0x12d))[_0x1eaca5(0xf5)][_0x1eaca5(0x126)]('open'),document[_0x1eaca5(0x116)](_0x1eaca5(0x1a4))[_0x1eaca5(0xf5)][_0x1eaca5(0x179)](_0x1eaca5(0x10f));const _0xe63f4e=document[_0x1eaca5(0x116)](_0x1eaca5(0x14a)),_0x275c75=document[_0x1eaca5(0x116)](_0x1eaca5(0x169));_0xe63f4e[_0x1eaca5(0xf7)]='',_0x275c75['innerHTML']=_0x1eaca5(0x1b6);const [_0x4fd08e,_0x3ca447]=currentSession[_0x1eaca5(0x12f)][_0x1eaca5(0x1af)](':')[_0x1eaca5(0x16d)](Number),[_0x2ca50c,_0x42e24c]=currentSession[_0x1eaca5(0x10b)][_0x1eaca5(0x1af)](':')[_0x1eaca5(0x16d)](Number),_0x19c28a=_0x2ca50c*0x3c+_0x42e24c-(_0x4fd08e*0x3c+_0x3ca447);try{const _0x47a46a=window['Telegram']?.[_0x1eaca5(0x178)],_0x9465bc=await fetch(API_URL,{'method':'POST','body':JSON[_0x1eaca5(0x113)]({'action':_0x1eaca5(0x167),'coachId':currentSession[_0x1eaca5(0x181)],'duration':_0x19c28a,'init_data':_0x47a46a?.[_0x1eaca5(0x19a)]||'','excludeSessionId':currentSession['id']})}),_0x475841=await _0x9465bc[_0x1eaca5(0x103)]();_0x475841['ok']&&_0x475841[_0x1eaca5(0x10e)]?(availableSlotsCache=_0x475841['data'],renderRescheduleDates()):_0x275c75[_0x1eaca5(0xf7)]=_0x1eaca5(0x164);}catch(_0x5403fb){_0x275c75['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x259a75=a3_0x39c37c,_0x22f760=document[_0x259a75(0x116)](_0x259a75(0x14a));_0x22f760['innerHTML']='';const _0x9767aa=Object[_0x259a75(0x1ca)](availableSlotsCache)[_0x259a75(0x147)](),_0x5acac6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x9767aa[_0x259a75(0x136)]===0x0){document[_0x259a75(0x116)](_0x259a75(0x169))['innerHTML']=_0x259a75(0x1c4);return;}_0x9767aa[_0x259a75(0x1ab)]((_0x85b9d8,_0x5ed219)=>{const _0x451ed0=_0x259a75,_0x3a94b7=new Date(_0x85b9d8),_0x4c50d9=_0x5acac6[_0x3a94b7['getDay']()],_0x3906bd=_0x3a94b7[_0x451ed0(0x172)](),_0x3fcf13=document['createElement'](_0x451ed0(0xef));_0x3fcf13[_0x451ed0(0x1f5)]=_0x451ed0(0x193);if(_0x5ed219===0x0)_0x3fcf13[_0x451ed0(0xf5)][_0x451ed0(0x179)](_0x451ed0(0x1f0));_0x3fcf13[_0x451ed0(0xf7)]=_0x451ed0(0x192)+_0x4c50d9+'</div><div\x20class=\x22rs-day-num\x22>'+_0x3906bd+_0x451ed0(0x13d),_0x3fcf13[_0x451ed0(0x199)]=()=>selectRsDate(_0x85b9d8,_0x3fcf13),_0x22f760[_0x451ed0(0x13c)](_0x3fcf13);}),selectRsDate(_0x9767aa[0x0],_0x22f760[_0x259a75(0x125)]);}function selectRsDate(_0x1f8205,_0xbbabb8){const _0x219ab7=a3_0x39c37c;selectedRsDate=_0x1f8205,document['querySelectorAll'](_0x219ab7(0x1a7))[_0x219ab7(0x1ab)](_0x1bcdec=>_0x1bcdec[_0x219ab7(0xf5)][_0x219ab7(0x126)](_0x219ab7(0x1f0)));if(_0xbbabb8)_0xbbabb8['classList'][_0x219ab7(0x179)](_0x219ab7(0x1f0));const _0x2382a2=document[_0x219ab7(0x116)]('rsSlotsGrid');_0x2382a2[_0x219ab7(0xf7)]='';const _0x2182d7=availableSlotsCache[_0x1f8205]||[];if(_0x2182d7[_0x219ab7(0x136)]===0x0){_0x2382a2[_0x219ab7(0xf7)]=_0x219ab7(0x164);return;}_0x2182d7['forEach'](_0x53110b=>{const _0x5e71c7=_0x219ab7,_0x28f7d5=document[_0x5e71c7(0x17d)](_0x5e71c7(0x15b));_0x28f7d5['className']=_0x5e71c7(0x198),_0x28f7d5[_0x5e71c7(0x14c)]=_0x53110b,_0x28f7d5['onclick']=()=>confirmReschedule(_0x53110b),_0x2382a2['appendChild'](_0x28f7d5);});}async function confirmReschedule(_0x363a52){const _0x7d3804=a3_0x39c37c,_0x31991f=new Date(selectedRsDate),_0x1b4640=_0x31991f[_0x7d3804(0x157)](_0x7d3804(0x11f),{'day':_0x7d3804(0xfa),'month':_0x7d3804(0x1f6)}),_0x336c73=await showCustomConfirm(_0x7d3804(0x158),_0x7d3804(0x133)+_0x1b4640+_0x7d3804(0x124)+_0x363a52+'?',![]);if(!_0x336c73)return;closeAllSheets(),showToast(_0x7d3804(0xf6)),lastUserActionTime=Date[_0x7d3804(0x141)]();const _0x5dc116=currentSession[_0x7d3804(0x1ef)],_0x2a177b=currentSession['id'],[_0x28d798,_0x47575e]=currentSession[_0x7d3804(0x12f)][_0x7d3804(0x1af)](':')['map'](Number),[_0x2bc67a,_0x31880e]=currentSession['end'][_0x7d3804(0x1af)](':')['map'](Number),_0xacb62e=_0x2bc67a*0x3c+_0x31880e-(_0x28d798*0x3c+_0x47575e),[_0x54cd91,_0x399901]=_0x363a52[_0x7d3804(0x1af)](':')['map'](Number),_0x262f5a=_0x54cd91*0x3c+_0x399901+_0xacb62e,_0x47532e=Math[_0x7d3804(0x190)](_0x262f5a/0x3c),_0x5557d5=_0x262f5a%0x3c,_0xd472d3=String(_0x47532e)[_0x7d3804(0xfe)](0x2,'0')+':'+String(_0x5557d5)['padStart'](0x2,'0'),_0x4bef86=sessions[_0x7d3804(0x1c2)](_0x2e672d=>_0x2e672d['id']===_0x2a177b);_0x4bef86!==-0x1&&(sessions[_0x4bef86]['dateStr']=selectedRsDate,sessions[_0x4bef86]['start']=_0x363a52,sessions[_0x4bef86]['end']=_0xd472d3,reRenderBlocks());try{const _0x5502fe=window[_0x7d3804(0x1c1)]?.[_0x7d3804(0x178)],_0x3a470f=await fetch(API_URL,{'method':_0x7d3804(0x1eb),'body':JSON[_0x7d3804(0x113)]({'action':_0x7d3804(0x104),'init_data':_0x5502fe?.[_0x7d3804(0x19a)]||'','oldSessionId':_0x2a177b,'oldDate':_0x5dc116,'newDate':selectedRsDate,'newTime':_0x363a52,'coachId':currentSession[_0x7d3804(0x181)]})}),_0x36ff85=await _0x3a470f[_0x7d3804(0x103)]();!_0x36ff85['ok']?(showToast(_0x7d3804(0x121)),DataManager[_0x7d3804(0x1ed)]()):(showToast(_0x7d3804(0x1e6)),DataManager[_0x7d3804(0x154)]());}catch(_0xc2ffd9){showToast(_0x7d3804(0x1d7));}}document['addEventListener'](a3_0x39c37c(0x1b9),init);