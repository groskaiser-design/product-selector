const a3_0x4feee7=a3_0x3797;(function(_0x35fc72,_0x5bd0d4){const _0x504121=a3_0x3797,_0x273aaf=_0x35fc72();while(!![]){try{const _0x41aa25=-parseInt(_0x504121(0x107))/0x1+parseInt(_0x504121(0xd4))/0x2+-parseInt(_0x504121(0x170))/0x3+parseInt(_0x504121(0x141))/0x4*(parseInt(_0x504121(0x171))/0x5)+parseInt(_0x504121(0x131))/0x6*(parseInt(_0x504121(0x10e))/0x7)+parseInt(_0x504121(0x15a))/0x8+parseInt(_0x504121(0x112))/0x9;if(_0x41aa25===_0x5bd0d4)break;else _0x273aaf['push'](_0x273aaf['shift']());}catch(_0x58d64e){_0x273aaf['push'](_0x273aaf['shift']());}}}(a3_0x542e,0xe401d));const APP_VERSION=a3_0x4feee7(0x125),API_URL=a3_0x4feee7(0xeb),GRID_H=0x3c,KEY_SESSIONS=a3_0x4feee7(0x92),KEY_SETTINGS=a3_0x4feee7(0x13e),KEY_CLIENTS=a3_0x4feee7(0x7c);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2d6636=a3_0x4feee7,_0x5bbe56=(function(){let _0x52b259=!![];return function(_0x321b89,_0x39164f){const _0x370db9=_0x52b259?function(){const _0x232234=a3_0x3797;if(_0x39164f){const _0x165b0b=_0x39164f[_0x232234(0x176)](_0x321b89,arguments);return _0x39164f=null,_0x165b0b;}}:function(){};return _0x52b259=![],_0x370db9;};}()),_0x2ee4fd=_0x5bbe56(this,function(){const _0x37bab7=a3_0x3797;return _0x2ee4fd[_0x37bab7(0xd5)]()['search'](_0x37bab7(0xe8))[_0x37bab7(0xd5)]()[_0x37bab7(0x10f)](_0x2ee4fd)[_0x37bab7(0x10b)]('(((.+)+)+)+$');});_0x2ee4fd();try{const _0x375e21=window[_0x2d6636(0x124)]?.[_0x2d6636(0x163)];if(!_0x375e21)return;_0x375e21[_0x2d6636(0x127)](),_0x375e21['expand']();try{_0x375e21[_0x2d6636(0xe6)](_0x2d6636(0x12f)),_0x375e21[_0x2d6636(0xda)]&&_0x375e21[_0x2d6636(0xda)](_0x2d6636(0x12f));}catch(_0x489937){console[_0x2d6636(0x114)](_0x2d6636(0x7a),_0x489937);}try{_0x375e21['BackButton']&&(_0x375e21[_0x2d6636(0x156)][_0x2d6636(0x12b)](),_0x375e21[_0x2d6636(0x156)]['offClick'](),_0x375e21['BackButton'][_0x2d6636(0x139)](function(){const _0x2d2518=_0x2d6636;window[_0x2d2518(0xba)]['href']=_0x2d2518(0x121);}));}catch(_0x2e2ee5){console[_0x2d6636(0x114)](_0x2d6636(0x153),_0x2e2ee5);}try{if(_0x375e21[_0x2d6636(0x106)])_0x375e21[_0x2d6636(0x106)]();}catch(_0x5b69fa){}}catch(_0x43289e){console[_0x2d6636(0x146)](_0x2d6636(0xf5),_0x43289e);}}());function isAdmin(){const _0x4e2816=a3_0x4feee7;try{const _0xe63b19=Number(window[_0x4e2816(0x124)]?.[_0x4e2816(0x163)]?.[_0x4e2816(0xad)]?.[_0x4e2816(0xec)]?.['id']);return _0xe63b19===0xbaf7174;}catch(_0xddbcee){return![];}}const DataManager={'saveLocally'(){const _0x177e75=a3_0x4feee7;try{localStorage[_0x177e75(0x16b)](KEY_SESSIONS,JSON[_0x177e75(0x123)](sessions)),localStorage[_0x177e75(0x16b)](KEY_CLIENTS,JSON[_0x177e75(0x123)](clients)),localStorage[_0x177e75(0x16b)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x374b57){}},'loadLocal'(){const _0x3b4cb4=a3_0x4feee7;try{const _0x5af043=localStorage[_0x3b4cb4(0x99)](KEY_SESSIONS);if(_0x5af043)sessions=JSON['parse'](_0x5af043);const _0x15ac5e=localStorage[_0x3b4cb4(0x99)](KEY_CLIENTS);if(_0x15ac5e)clients=JSON[_0x3b4cb4(0x168)](_0x15ac5e);const _0x1dbcdb=localStorage[_0x3b4cb4(0x99)](KEY_SETTINGS);if(_0x1dbcdb){const _0x4e9733=JSON[_0x3b4cb4(0x168)](_0x1dbcdb);if(_0x4e9733['pattern'])availabilityPattern=_0x4e9733[_0x3b4cb4(0xc8)];if(_0x4e9733['ranges'])specialRanges=_0x4e9733[_0x3b4cb4(0x14f)];if(_0x4e9733[_0x3b4cb4(0xd0)])dateExceptions=_0x4e9733['exceptions'];}}catch(_0xd94e8b){}},async 'syncLoad'(){const _0x48032a=a3_0x4feee7,_0x43c0e8=new Date(),_0x375801=_0x43c0e8[_0x48032a(0x9a)]()+'-'+String(_0x43c0e8[_0x48032a(0x8a)]()+0x1)['padStart'](0x2,'0'),_0x120c51=new Date(_0x43c0e8);_0x120c51[_0x48032a(0x7f)](_0x43c0e8['getMonth']()+0x1);const _0x2ebbfb=_0x120c51['getFullYear']()+'-'+String(_0x120c51['getMonth']()+0x1)[_0x48032a(0xfb)](0x2,'0'),_0x22770f=Date[_0x48032a(0xbe)]();try{const _0x22ffc9=window[_0x48032a(0x124)]?.[_0x48032a(0x163)],_0x120ce1=_0x22ffc9?.[_0x48032a(0xbc)]||'',[_0x4924e6,_0x371b8c]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x48032a(0x123)]({'action':_0x48032a(0x16a),'init_data':_0x120ce1,'month_str':_0x375801})})[_0x48032a(0x7e)](_0x2e781a=>_0x2e781a[_0x48032a(0xe9)]()),fetch(API_URL,{'method':_0x48032a(0x173),'body':JSON[_0x48032a(0x123)]({'action':_0x48032a(0x16a),'init_data':_0x120ce1,'month_str':_0x2ebbfb})})['then'](_0x54c3b9=>_0x54c3b9[_0x48032a(0xe9)]())]);if(lastUserActionTime>_0x22770f){console[_0x48032a(0x114)](_0x48032a(0x110));return;}if(_0x4924e6['ok'])this['applyData'](_0x4924e6[_0x48032a(0x7b)],_0x375801);if(_0x371b8c['ok'])this[_0x48032a(0x96)](_0x371b8c[_0x48032a(0x7b)],_0x2ebbfb);this[_0x48032a(0xb6)]();}catch(_0x5902bc){}},'applyData'(_0x26f193,_0x49681a){const _0x7f30bf=a3_0x4feee7;if(!_0x26f193)return;if(_0x26f193[_0x7f30bf(0x79)]){if(_0x26f193['settings'][_0x7f30bf(0xc8)])availabilityPattern=_0x26f193[_0x7f30bf(0x79)][_0x7f30bf(0xc8)];if(_0x26f193['settings'][_0x7f30bf(0x14f)])specialRanges=_0x26f193[_0x7f30bf(0x79)][_0x7f30bf(0x14f)];if(_0x26f193[_0x7f30bf(0x79)][_0x7f30bf(0xd0)])dateExceptions=_0x26f193['settings'][_0x7f30bf(0xd0)];}if(_0x26f193[_0x7f30bf(0x113)]&&Array[_0x7f30bf(0x118)](_0x26f193[_0x7f30bf(0x113)]))clients=_0x26f193['clients'];_0x26f193[_0x7f30bf(0xe1)]&&(coachProfiles={...coachProfiles,..._0x26f193['coach_profiles']}),_0x26f193[_0x7f30bf(0xa1)]&&(sessions=sessions[_0x7f30bf(0x11d)](_0x572ac=>!_0x572ac[_0x7f30bf(0xd6)][_0x7f30bf(0xd7)](_0x49681a)),Object['keys'](_0x26f193[_0x7f30bf(0xa1)])[_0x7f30bf(0xbd)](_0x4de33e=>{const _0x3f0e83=_0x7f30bf,_0x211c17=_0x26f193[_0x3f0e83(0xa1)][_0x4de33e];_0x211c17[_0x3f0e83(0xbd)](_0x5ec72a=>{const _0x5d8a9f=_0x3f0e83;sessions[_0x5d8a9f(0x11a)]({'id':_0x5ec72a['i'],'clientId':_0x5ec72a['c'],'coachId':_0x5ec72a['cid'],'dateStr':_0x49681a+'-'+_0x4de33e[_0x5d8a9f(0xfb)](0x2,'0'),'start':_0x5ec72a['s'],'end':_0x5ec72a['e'],'note':_0x5ec72a['n']||'','status':_0x5ec72a['st']||_0x5d8a9f(0x138),'seriesId':_0x5ec72a[_0x5d8a9f(0x80)]});});})),reRenderBlocks();}};function init(){const _0x1d3a02=a3_0x4feee7;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1d3a02(0xc6)](_0x1d3a02(0xfe))[_0x1d3a02(0x143)](_0x1d3a02(0x144),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1d3a02(0xc0)]();}function renderTimeColumn(){const _0x11518c=a3_0x4feee7,_0x22c084=document[_0x11518c(0xc6)](_0x11518c(0xf1)),_0x38b0f6=document[_0x11518c(0xc6)]('timeLineBadge');_0x22c084[_0x11518c(0xf4)]='',_0x22c084[_0x11518c(0x7d)](_0x38b0f6);for(let _0xe63f96=0x0;_0xe63f96<0x18;_0xe63f96++){const _0x1c5594=document[_0x11518c(0x16d)](_0x11518c(0xf7));_0x1c5594['className']=_0x11518c(0xf9);if(_0xe63f96>0x0)_0x1c5594['innerHTML']=_0x11518c(0xb3)+String(_0xe63f96)[_0x11518c(0xfb)](0x2,'0')+_0x11518c(0x13c);_0x22c084[_0x11518c(0x7d)](_0x1c5594);}}function renderDayRange(_0x522b80,_0x72ab81){const _0x450aec=a3_0x4feee7,_0x588eff=document[_0x450aec(0xc6)](_0x450aec(0xdc)),_0x10f7a8=document[_0x450aec(0xc6)]('gridColumns'),_0x6a45f6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x71cfd2=new Date();_0x71cfd2['setHours'](0x0,0x0,0x0,0x0);const _0x599796=getLocalDateStr(new Date());for(let _0x32a903=_0x522b80;_0x32a903<=_0x72ab81;_0x32a903++){const _0x6b11e0=new Date(_0x71cfd2);_0x6b11e0[_0x450aec(0xdf)](_0x6b11e0[_0x450aec(0xc7)]()+_0x32a903);const _0x1d88de=getLocalDateStr(_0x6b11e0);let _0x2c06ab=_0x6b11e0[_0x450aec(0x9b)]()-0x1;if(_0x2c06ab===-0x1)_0x2c06ab=0x6;const _0x36fded=_0x1d88de===_0x599796,_0x117138=document[_0x450aec(0x16d)](_0x450aec(0xf7));_0x117138[_0x450aec(0x11e)]=_0x450aec(0x177)+(_0x36fded?_0x450aec(0x140):''),_0x117138['setAttribute'](_0x450aec(0xa5),_0x1d88de),_0x117138[_0x450aec(0xf4)]=_0x450aec(0xc4)+_0x6a45f6[_0x2c06ab]+_0x450aec(0x95)+_0x6b11e0['getDate']()+_0x450aec(0x9e),_0x588eff['appendChild'](_0x117138);const _0xcee303=document[_0x450aec(0x16d)](_0x450aec(0xf7));_0xcee303['className']=_0x450aec(0xac)+(_0x36fded?_0x450aec(0x140):''),_0xcee303['setAttribute']('data-date',_0x1d88de),_0xcee303[_0x450aec(0xae)]('data-day-idx',_0x2c06ab),_0x10f7a8['appendChild'](_0xcee303);}}function reRenderBlocks(){const _0x18a3f1=a3_0x4feee7;document['querySelectorAll']('.day-column')[_0x18a3f1(0xbd)](_0x3e21ae=>{const _0x89bd04=_0x18a3f1;_0x3e21ae[_0x89bd04(0x97)](_0x89bd04(0x13a))[_0x89bd04(0xbd)](_0x475347=>_0x475347['remove']());const _0x17a467=_0x3e21ae['getAttribute'](_0x89bd04(0xa5)),_0x33383f=parseInt(_0x3e21ae[_0x89bd04(0xf2)](_0x89bd04(0x158))),_0x394fe0=Math[_0x89bd04(0x12e)](_0x3e21ae[_0x89bd04(0xde)]);(availabilityPattern[_0x33383f]||[])[_0x89bd04(0xbd)](_0x187875=>{const _0x2b9351=_0x89bd04,_0x479a18=document[_0x2b9351(0x16d)](_0x2b9351(0xf7));_0x479a18['className']=_0x2b9351(0x15c),_0x479a18[_0x2b9351(0x115)]['top']=_0x187875*GRID_H+'px',_0x479a18['style']['backgroundPosition']='-'+_0x394fe0+_0x2b9351(0x142)+_0x187875*GRID_H+'px',_0x3e21ae[_0x2b9351(0x7d)](_0x479a18);});if(specialRanges[_0x89bd04(0xe3)]>0x0){const _0x2c03c9=new Date(_0x17a467+_0x89bd04(0xc1))[_0x89bd04(0xf3)](),_0x2da449=new Date(_0x17a467+_0x89bd04(0xb1))[_0x89bd04(0xf3)]();specialRanges[_0x89bd04(0xbd)](_0x74041e=>{const _0x1a167b=_0x89bd04,_0x1358bf=new Date(_0x74041e['start'])[_0x1a167b(0xf3)](),_0x574d2f=new Date(_0x74041e[_0x1a167b(0xa0)])[_0x1a167b(0xf3)](),_0x141ce2=Math[_0x1a167b(0x137)](_0x2c03c9,_0x1358bf),_0x67fe67=Math[_0x1a167b(0x16f)](_0x2da449,_0x574d2f);if(_0x141ce2<_0x67fe67){const _0x5c0a01=(_0x141ce2-_0x2c03c9)/0x36ee80*GRID_H,_0xaed9d2=(_0x67fe67-_0x141ce2)/0x36ee80*GRID_H,_0x3bfe1f=document['createElement'](_0x1a167b(0xf7));_0xaed9d2>=23.5*GRID_H?(_0x3bfe1f[_0x1a167b(0x11e)]='day-off-overlay\x20stripe-bg',_0x3bfe1f[_0x1a167b(0x115)][_0x1a167b(0x126)]='-'+_0x394fe0+_0x1a167b(0x151)):(_0x3bfe1f[_0x1a167b(0x11e)]=_0x1a167b(0x87),_0x3bfe1f['style'][_0x1a167b(0x136)]=_0x5c0a01+'px',_0x3bfe1f[_0x1a167b(0x115)][_0x1a167b(0x16c)]=_0xaed9d2+'px',_0x3bfe1f[_0x1a167b(0x115)][_0x1a167b(0x126)]='-'+_0x394fe0+_0x1a167b(0x142)+_0x5c0a01+'px'),_0x3e21ae[_0x1a167b(0x7d)](_0x3bfe1f);}});}renderEventsForColumn(_0x3e21ae,_0x17a467);});}function renderEventsForColumn(_0x21c1f4,_0x340838){const _0x4070b7=a3_0x4feee7,_0x2fd150=sessions[_0x4070b7(0x11d)](_0x913ca9=>_0x913ca9[_0x4070b7(0xd6)]===_0x340838),_0x2e6d29=_0x2fd150[_0x4070b7(0xab)](_0x3eaeb7=>{const _0x5d6c5a=_0x4070b7,[_0x393a37,_0x3bf44d]=_0x3eaeb7[_0x5d6c5a(0x149)][_0x5d6c5a(0x11c)](':')['map'](Number),[_0x3e3345,_0x1bbcfc]=_0x3eaeb7[_0x5d6c5a(0xa0)][_0x5d6c5a(0x11c)](':')['map'](Number);return{'data':_0x3eaeb7,'start':_0x393a37*0x3c+_0x3bf44d,'end':_0x3e3345*0x3c+_0x1bbcfc,'colIndex':0x0};});_0x2e6d29[_0x4070b7(0x11b)]((_0x3a84a3,_0x33876f)=>_0x3a84a3[_0x4070b7(0x149)]-_0x33876f[_0x4070b7(0x149)]||_0x33876f[_0x4070b7(0xa0)]-_0x33876f[_0x4070b7(0x149)]-(_0x3a84a3[_0x4070b7(0xa0)]-_0x3a84a3[_0x4070b7(0x149)]));const _0x5429af=[];_0x2e6d29[_0x4070b7(0xbd)](_0x5cf252=>{const _0x24af5a=_0x4070b7;let _0x497de7=![];for(let _0x3f7342=0x0;_0x3f7342<_0x5429af[_0x24af5a(0xe3)];_0x3f7342++){const _0x5e71d3=_0x5429af[_0x3f7342];if(_0x5cf252[_0x24af5a(0x149)]>=_0x5e71d3[_0x5e71d3[_0x24af5a(0xe3)]-0x1][_0x24af5a(0xa0)]){_0x5e71d3[_0x24af5a(0x11a)](_0x5cf252),_0x5cf252['colIndex']=_0x3f7342,_0x497de7=!![];break;}}!_0x497de7&&(_0x5429af[_0x24af5a(0x11a)]([_0x5cf252]),_0x5cf252[_0x24af5a(0x13d)]=_0x5429af[_0x24af5a(0xe3)]-0x1);}),_0x2e6d29['forEach'](_0xdecf15=>{const _0x145f8b=_0x4070b7;let _0x5a0f2f=0x0;_0x2e6d29[_0x145f8b(0xbd)](_0x2046f3=>{const _0x43ecb2=_0x145f8b;if(Math['max'](_0xdecf15[_0x43ecb2(0x149)],_0x2046f3[_0x43ecb2(0x149)])<Math[_0x43ecb2(0x16f)](_0xdecf15[_0x43ecb2(0xa0)],_0x2046f3[_0x43ecb2(0xa0)])&&_0x2046f3['colIndex']>_0x5a0f2f)_0x5a0f2f=_0x2046f3[_0x43ecb2(0x13d)];});const _0x179207=_0x5a0f2f+0x1,_0x568ffb=0x64/_0x179207,_0x2e34f7=_0xdecf15['colIndex']*_0x568ffb,_0x58f969=document[_0x145f8b(0x16d)](_0x145f8b(0xf7)),_0x328fea=_0xdecf15[_0x145f8b(0x7b)];let _0x155a68=_0x145f8b(0xbb);if(clients&&clients[_0x145f8b(0xe3)]>0x0){const _0x211e47=clients[_0x145f8b(0x12a)](_0x1324d8=>String(_0x1324d8['id'])===String(_0x328fea['clientId']));if(_0x211e47&&_0x211e47[_0x145f8b(0x100)])_0x155a68=_0x211e47['color'];}const _0x33017b=_0x328fea['status']===_0x145f8b(0xf6),_0x3f3e82=_0x33017b?0x1:0.45;_0x58f969[_0x145f8b(0x11e)]=_0x145f8b(0x93)+(_0x33017b?_0x145f8b(0xc9):''),_0x58f969[_0x145f8b(0x115)][_0x145f8b(0x133)]=hexToRgba(_0x155a68,_0x3f3e82),_0x58f969[_0x145f8b(0x115)][_0x145f8b(0x75)]=_0x155a68;const _0x447b38=_0xdecf15['start']/0x3c*GRID_H,_0xdc4af3=(_0xdecf15['end']-_0xdecf15[_0x145f8b(0x149)])/0x3c*GRID_H;_0x58f969['style'][_0x145f8b(0x136)]=_0x447b38+'px',_0x58f969[_0x145f8b(0x115)][_0x145f8b(0x16c)]=Math[_0x145f8b(0x137)](_0xdc4af3,0x14)+'px',_0x58f969[_0x145f8b(0x115)]['width']=_0x145f8b(0xed)+_0x568ffb+_0x145f8b(0x166),_0x58f969[_0x145f8b(0x115)][_0x145f8b(0x14a)]=_0x145f8b(0xed)+_0x2e34f7+_0x145f8b(0x167),_0x58f969[_0x145f8b(0x115)][_0x145f8b(0xb0)]=0xa+_0xdecf15[_0x145f8b(0x13d)];if(_0x568ffb<0x55)_0x58f969[_0x145f8b(0x8d)][_0x145f8b(0xf8)](_0x145f8b(0x128));let _0x27e0b3='';if(_0x328fea[_0x145f8b(0xd1)])_0x27e0b3+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x33017b)_0x27e0b3+=_0x145f8b(0xb2);_0x58f969[_0x145f8b(0xf4)]=_0x145f8b(0x161)+_0x328fea[_0x145f8b(0x149)]+_0x145f8b(0xf0)+_0x328fea[_0x145f8b(0xa0)]+_0x145f8b(0xca)+_0x27e0b3+_0x145f8b(0xe7),_0x58f969['onclick']=_0x21ac11=>{const _0x4b9c2e=_0x145f8b;_0x21ac11[_0x4b9c2e(0x8e)](),openDetails(_0x328fea);},_0x21c1f4[_0x145f8b(0x7d)](_0x58f969);});}function openAnalytics(){const _0x2278e1=a3_0x4feee7,_0x5d500a=document[_0x2278e1(0x135)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x2278e1(0x81),_0x5d500a),openSheet(_0x2278e1(0x105));}function setAnalyticsPeriod(_0x2d3665,_0x1dbcbd){const _0x5c2712=a3_0x4feee7;currentAnPeriod=_0x2d3665,document[_0x5c2712(0x97)]('.period-switch\x20.p-btn')[_0x5c2712(0xbd)](_0x10a1ec=>_0x10a1ec[_0x5c2712(0x8d)][_0x5c2712(0xea)]('active'));if(_0x1dbcbd)_0x1dbcbd['classList'][_0x5c2712(0xf8)](_0x5c2712(0x12d));const _0x252833=document['getElementById'](_0x5c2712(0x74));_0x252833['style'][_0x5c2712(0x84)]=_0x2d3665===_0x5c2712(0x102)?'flex':_0x5c2712(0xd2);const _0x37f13b=new Date();let _0x5d3900=new Date(),_0x5b0675=new Date();if(_0x2d3665===_0x5c2712(0x81))_0x5d3900=getStartOfWeek(_0x37f13b),_0x5b0675=new Date(_0x5d3900),_0x5b0675[_0x5c2712(0xdf)](_0x5b0675[_0x5c2712(0xc7)]()+0x6);else{if(_0x2d3665===_0x5c2712(0xa9))_0x5d3900=new Date(_0x37f13b[_0x5c2712(0x9a)](),_0x37f13b['getMonth'](),0x1),_0x5b0675=new Date(_0x37f13b[_0x5c2712(0x9a)](),_0x37f13b['getMonth']()+0x1,0x0);else{!document[_0x5c2712(0xc6)](_0x5c2712(0x150))[_0x5c2712(0x16e)]&&(document[_0x5c2712(0xc6)](_0x5c2712(0x150))[_0x5c2712(0x16e)]=getLocalDateStr(_0x37f13b),document['getElementById']('anEnd')[_0x5c2712(0x16e)]=getLocalDateStr(_0x37f13b));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x5c2712(0x16e)]=getLocalDateStr(_0x5d3900),document[_0x5c2712(0xc6)](_0x5c2712(0x145))['value']=getLocalDateStr(_0x5b0675),refreshAnalytics();}function refreshAnalytics(){const _0x58b724=a3_0x4feee7,_0x30c959=document[_0x58b724(0xc6)](_0x58b724(0x150))[_0x58b724(0x16e)],_0x21fb87=document[_0x58b724(0xc6)](_0x58b724(0x145))[_0x58b724(0x16e)];if(!_0x30c959||!_0x21fb87)return;const _0x7a0f0f=sessions[_0x58b724(0x11d)](_0x11adc4=>_0x11adc4[_0x58b724(0xd6)]>=_0x30c959&&_0x11adc4[_0x58b724(0xd6)]<=_0x21fb87&&_0x11adc4[_0x58b724(0x77)]!==_0x58b724(0x12c)),_0x435ddc=_0x7a0f0f[_0x58b724(0xe3)],_0x1c6568=_0x7a0f0f[_0x58b724(0x11d)](_0x520601=>_0x520601[_0x58b724(0x77)]==='completed')[_0x58b724(0xe3)],_0x20c6b3=_0x435ddc>0x0?Math['round'](_0x1c6568/_0x435ddc*0x64):0x0;document[_0x58b724(0xc6)](_0x58b724(0x104))['textContent']=_0x20c6b3+'%',document[_0x58b724(0xc6)]('anTotalStats')[_0x58b724(0xee)]=_0x1c6568+_0x58b724(0x90)+_0x435ddc+_0x58b724(0xa3);const _0x26ba56=document['getElementById']('anDonutCircle'),_0x52d4da=0x2*Math['PI']*0x23,_0x914c36=_0x52d4da-_0x20c6b3/0x64*_0x52d4da;_0x26ba56[_0x58b724(0x115)][_0x58b724(0xdd)]=_0x914c36;const _0x22f641={};_0x7a0f0f[_0x58b724(0xbd)](_0x47cc51=>{const _0x43f251=_0x58b724,_0xab7277=_0x47cc51['coachId']||_0x43f251(0xe2);if(!_0x22f641[_0xab7277]){const _0x4e6082='#'+_0xab7277['toString']()[_0x43f251(0x13b)](0x0,0x6);_0x22f641[_0xab7277]={'total':0x0,'done':0x0,'color':_0x4e6082};}_0x22f641[_0xab7277][_0x43f251(0xd8)]++;if(_0x47cc51[_0x43f251(0x77)]===_0x43f251(0xf6))_0x22f641[_0xab7277][_0x43f251(0xb4)]++;});const _0x21106f=document[_0x58b724(0xc6)](_0x58b724(0xcf));_0x21106f[_0x58b724(0xf4)]='';const _0xbe9af7=Object[_0x58b724(0x10c)](_0x22f641)['sort']((_0x391912,_0x2f0ce5)=>_0x2f0ce5[0x1][_0x58b724(0xd8)]-_0x391912[0x1]['total']);if(_0xbe9af7[_0x58b724(0xe3)]===0x0){_0x21106f['innerHTML']=_0x58b724(0x159);return;}_0xbe9af7['forEach'](([_0x19d288,_0x1b5b88])=>{const _0x3ea457=_0x58b724,_0x12eb67=Math[_0x3ea457(0x12e)](_0x1b5b88[_0x3ea457(0xb4)]/_0x1b5b88[_0x3ea457(0xd8)]*0x64),_0x1336eb=document[_0x3ea457(0x16d)](_0x3ea457(0xf7));_0x1336eb[_0x3ea457(0x11e)]=_0x3ea457(0x14d),_0x1336eb[_0x3ea457(0x115)][_0x3ea457(0x75)]=_0x1b5b88[_0x3ea457(0x100)],_0x1336eb['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x19d288[_0x3ea457(0x13b)](0x0,0x5)+_0x3ea457(0xb7)+_0x1b5b88[_0x3ea457(0xb4)]+'</span>\x20/\x20'+_0x1b5b88[_0x3ea457(0xd8)]+_0x3ea457(0x165)+_0x12eb67+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21106f[_0x3ea457(0x7d)](_0x1336eb);});}function openDetails(_0x499f70){const _0x8d50e=a3_0x4feee7;currentSession=_0x499f70;const _0x5db3c2=new Date(_0x499f70[_0x8d50e(0xd6)]),_0x47c8df=_0x5db3c2[_0x8d50e(0xef)]('ru-RU',{'weekday':_0x8d50e(0xcb),'day':'numeric','month':_0x8d50e(0xcb)});document[_0x8d50e(0xc6)](_0x8d50e(0xe5))[_0x8d50e(0xee)]=_0x47c8df[_0x8d50e(0x76)](0x0)[_0x8d50e(0xa8)]()+_0x47c8df[_0x8d50e(0xe4)](0x1),document['getElementById'](_0x8d50e(0x82))[_0x8d50e(0xee)]=_0x499f70['start']+'\x20-\x20'+_0x499f70[_0x8d50e(0xa0)],document[_0x8d50e(0xc6)](_0x8d50e(0xff))[_0x8d50e(0xee)]=_0x499f70[_0x8d50e(0xb9)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x389a2d=document[_0x8d50e(0xc6)](_0x8d50e(0x169)),_0x474c2f=document['getElementById'](_0x8d50e(0x15e)),_0x3acedd=_0x474c2f[_0x8d50e(0x135)](_0x8d50e(0xa7)),_0x1b301f=_0x474c2f[_0x8d50e(0x135)](_0x8d50e(0x94)),_0x580aaf=document[_0x8d50e(0xc6)](_0x8d50e(0x9d));if(_0x499f70[_0x8d50e(0x77)]===_0x8d50e(0xf6))_0x389a2d[_0x8d50e(0xee)]=_0x8d50e(0x160),_0x389a2d['style'][_0x8d50e(0x100)]=_0x8d50e(0xc5),_0x474c2f[_0x8d50e(0x115)][_0x8d50e(0x84)]='none';else{_0x389a2d[_0x8d50e(0xee)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x389a2d[_0x8d50e(0x115)][_0x8d50e(0x100)]=_0x8d50e(0xcc),_0x474c2f[_0x8d50e(0x115)]['display']='block';const _0xa0d1c8=new Date(_0x499f70[_0x8d50e(0xd6)]+'T'+_0x499f70[_0x8d50e(0x149)]),_0x40dc2e=new Date(),_0x5c51ab=(_0xa0d1c8-_0x40dc2e)/(0x3e8*0x3c*0x3c),_0x42d1b0=coachProfiles[_0x499f70[_0x8d50e(0x10d)]]&&coachProfiles[_0x499f70['coachId']][_0x8d50e(0x98)]?parseInt(coachProfiles[_0x499f70[_0x8d50e(0x10d)]][_0x8d50e(0x98)]):0x18;if(_0x42d1b0===0x0||_0x5c51ab>=_0x42d1b0)_0x3acedd['style'][_0x8d50e(0x84)]='block',_0x1b301f[_0x8d50e(0x115)][_0x8d50e(0x84)]='block',_0x580aaf[_0x8d50e(0x115)]['display']=_0x8d50e(0xd2);else{_0x3acedd[_0x8d50e(0x115)][_0x8d50e(0x84)]='none',_0x1b301f[_0x8d50e(0x115)][_0x8d50e(0x84)]=_0x8d50e(0xd2),_0x580aaf[_0x8d50e(0x115)][_0x8d50e(0x84)]=_0x8d50e(0xfa);let _0x5c495b=_0x42d1b0===0x0?_0x8d50e(0x134):_0x8d50e(0x132)+_0x42d1b0+'\x20—á.';_0x580aaf['textContent']=_0x8d50e(0xdb)+_0x5c495b+_0x8d50e(0xcd);}}document[_0x8d50e(0xc6)](_0x8d50e(0x13f))[_0x8d50e(0x8d)][_0x8d50e(0xf8)](_0x8d50e(0x12d)),document[_0x8d50e(0xc6)](_0x8d50e(0x111))[_0x8d50e(0x8d)][_0x8d50e(0xf8)](_0x8d50e(0x9c));}function closeAllSheets(){const _0x55f863=a3_0x4feee7;document['getElementById']('overlay')[_0x55f863(0x8d)][_0x55f863(0xea)]('active'),document[_0x55f863(0x97)]('.sheet')[_0x55f863(0xbd)](_0x326c84=>_0x326c84['classList'][_0x55f863(0xea)](_0x55f863(0x9c)));}function openSheet(_0x1d8cdc){const _0x508a47=a3_0x4feee7;document['getElementById'](_0x508a47(0x13f))['classList'][_0x508a47(0xf8)](_0x508a47(0x12d)),document[_0x508a47(0xc6)](_0x1d8cdc)[_0x508a47(0x8d)][_0x508a47(0xf8)]('open');}function getLocalDateStr(_0x44296d){const _0x213f41=a3_0x4feee7,_0x18ebf2=_0x44296d['getFullYear'](),_0x281261=String(_0x44296d['getMonth']()+0x1)[_0x213f41(0xfb)](0x2,'0'),_0x2e3155=String(_0x44296d[_0x213f41(0xc7)]())['padStart'](0x2,'0');return _0x18ebf2+'-'+_0x281261+'-'+_0x2e3155;}function getStartOfWeek(_0x3e36ad){const _0x6dde89=a3_0x4feee7,_0xcbfa43=new Date(_0x3e36ad),_0x11d0df=_0xcbfa43['getDay'](),_0x4956df=_0xcbfa43['getDate']()-_0x11d0df+(_0x11d0df===0x0?-0x6:0x1);return _0xcbfa43[_0x6dde89(0xdf)](_0x4956df),_0xcbfa43[_0x6dde89(0xb8)](0x0,0x0,0x0,0x0),_0xcbfa43;}function scrollToToday(){const _0x29f52f=getLocalDateStr(new Date());setTimeout(()=>{const _0x1530dc=a3_0x3797,_0x56bdcd=document[_0x1530dc(0x135)]('.day-col-header[data-date=\x22'+_0x29f52f+'\x22]');if(_0x56bdcd){const _0x501c86=document[_0x1530dc(0xc6)](_0x1530dc(0xfe)),_0x26e5da=_0x56bdcd[_0x1530dc(0xde)]-_0x501c86[_0x1530dc(0x101)]/0x2+_0x56bdcd[_0x1530dc(0x148)]/0x2;_0x501c86[_0x1530dc(0x85)]({'left':_0x26e5da,'behavior':'auto'}),_0x501c86[_0x1530dc(0x109)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x34c0ef=a3_0x4feee7,_0xb18a64=new Date(),_0xa9d2a0=document[_0x34c0ef(0xc6)]('globalTimeLine'),_0x13e7b2=document[_0x34c0ef(0xc6)](_0x34c0ef(0x116)),_0x4d862b=(_0xb18a64[_0x34c0ef(0x103)]()*0x3c+_0xb18a64['getMinutes']())/0x3c*GRID_H;_0xa9d2a0[_0x34c0ef(0x115)]['top']=_0x4d862b+'px',_0xa9d2a0[_0x34c0ef(0x115)][_0x34c0ef(0x84)]=_0x34c0ef(0xfa),_0x13e7b2['style'][_0x34c0ef(0x136)]=_0x4d862b+'px',_0x13e7b2[_0x34c0ef(0x115)][_0x34c0ef(0x84)]=_0x34c0ef(0xfa),_0x13e7b2[_0x34c0ef(0xee)]=String(_0xb18a64['getHours']())[_0x34c0ef(0xfb)](0x2,'0')+':'+String(_0xb18a64[_0x34c0ef(0xe0)]())['padStart'](0x2,'0');}function onScroll(){const _0x4b7656=a3_0x4feee7,_0x4b8b1e=document[_0x4b7656(0xc6)](_0x4b7656(0xfe)),_0x2477aa=document[_0x4b7656(0x97)](_0x4b7656(0xbf));for(let _0x498720 of _0x2477aa)if(_0x498720[_0x4b7656(0xde)]>=_0x4b8b1e['scrollLeft']){const _0x53f63e=new Date(_0x498720[_0x4b7656(0xf2)]('data-date'));document[_0x4b7656(0xc6)](_0x4b7656(0x162))['textContent']=_0x53f63e[_0x4b7656(0xd9)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x53f63e['getFullYear']();break;}}function showToast(_0x40668e){const _0x5c8844=a3_0x4feee7,_0x1989c6=document[_0x5c8844(0xc6)](_0x5c8844(0x164));_0x1989c6['textContent']=_0x40668e,_0x1989c6['classList']['add'](_0x5c8844(0x12b)),setTimeout(()=>_0x1989c6[_0x5c8844(0x8d)][_0x5c8844(0xea)](_0x5c8844(0x12b)),0x7d0);}function handleInfiniteScroll(){const _0x1ee2db=a3_0x4feee7,_0x5c8c47=document[_0x1ee2db(0xc6)](_0x1ee2db(0xfe)),_0x44601a=_0x5c8c47[_0x1ee2db(0x8f)],_0x29ca47=_0x5c8c47[_0x1ee2db(0x119)],_0x2110f2=_0x5c8c47[_0x1ee2db(0x101)];if(_0x29ca47-(_0x44601a+_0x2110f2)<0x12c){const _0x57d0ca=endOffset;endOffset+=0xe,renderDayRange(_0x57d0ca+0x1,endOffset),reRenderBlocks();}if(_0x44601a<0x12c){const _0x5e8ef8=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5e8ef8-0x1),_0x5c8c47[_0x1ee2db(0x8f)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1c639d,_0x5b84ab){const _0x59c494=a3_0x4feee7,_0x4221d5=document[_0x59c494(0xc6)](_0x59c494(0xdc)),_0x2e6cab=document[_0x59c494(0xc6)]('gridColumns'),_0x4f4a08=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52164e=new Date();_0x52164e[_0x59c494(0xb8)](0x0,0x0,0x0,0x0);const _0x3eb91b=getLocalDateStr(new Date()),_0x1a0aaf=document[_0x59c494(0x129)](),_0x1f8fbe=document[_0x59c494(0x129)]();for(let _0x4d72f9=_0x1c639d;_0x4d72f9<=_0x5b84ab;_0x4d72f9++){const _0x560c8c=new Date(_0x52164e);_0x560c8c['setDate'](_0x560c8c[_0x59c494(0xc7)]()+_0x4d72f9);const _0x2ec9d9=getLocalDateStr(_0x560c8c);let _0x4bc9c8=_0x560c8c[_0x59c494(0x9b)]()-0x1;if(_0x4bc9c8===-0x1)_0x4bc9c8=0x6;const _0x2804b0=_0x2ec9d9===_0x3eb91b,_0x5af1f6=document['createElement']('div');_0x5af1f6[_0x59c494(0x11e)]=_0x59c494(0x177)+(_0x2804b0?_0x59c494(0x140):''),_0x5af1f6[_0x59c494(0xae)]('data-date',_0x2ec9d9),_0x5af1f6['innerHTML']=_0x59c494(0xc4)+_0x4f4a08[_0x4bc9c8]+_0x59c494(0x95)+_0x560c8c['getDate']()+_0x59c494(0x9e),_0x1a0aaf[_0x59c494(0x7d)](_0x5af1f6);const _0x436b70=document[_0x59c494(0x16d)](_0x59c494(0xf7));_0x436b70[_0x59c494(0x11e)]=_0x59c494(0xac)+(_0x2804b0?_0x59c494(0x140):''),_0x436b70[_0x59c494(0xae)](_0x59c494(0xa5),_0x2ec9d9),_0x436b70['setAttribute'](_0x59c494(0x158),_0x4bc9c8),_0x1f8fbe[_0x59c494(0x7d)](_0x436b70);}_0x4221d5[_0x59c494(0x15f)](_0x1a0aaf,_0x4221d5[_0x59c494(0xaa)]),_0x2e6cab['insertBefore'](_0x1f8fbe,_0x2e6cab[_0x59c494(0x135)](_0x59c494(0x152)));}function hexToRgba(_0xb84cc4,_0x7b6fb8){const _0x3a7e81=a3_0x4feee7;let _0x5a532a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3a7e81(0x147)](_0xb84cc4))return _0x5a532a=_0xb84cc4[_0x3a7e81(0x11f)](0x1)['split'](''),_0x5a532a[_0x3a7e81(0xe3)]==0x3&&(_0x5a532a=[_0x5a532a[0x0],_0x5a532a[0x0],_0x5a532a[0x1],_0x5a532a[0x1],_0x5a532a[0x2],_0x5a532a[0x2]]),_0x5a532a='0x'+_0x5a532a['join'](''),_0x3a7e81(0x15b)+[_0x5a532a>>0x10&0xff,_0x5a532a>>0x8&0xff,_0x5a532a&0xff]['join'](',')+','+_0x7b6fb8+')';return _0x3a7e81(0x88)+_0x7b6fb8+')';}let confirmResolver=null;function showCustomConfirm(_0x271c99,_0x589b4d,_0x53a21c=!![]){const _0x3ff7fd=a3_0x4feee7;document['getElementById']('ccTitle')[_0x3ff7fd(0xee)]=_0x271c99,document[_0x3ff7fd(0xc6)](_0x3ff7fd(0xa4))['textContent']=_0x589b4d;const _0x247631=document[_0x3ff7fd(0xc6)](_0x3ff7fd(0x15d));return _0x53a21c?(_0x247631[_0x3ff7fd(0x115)]['color']=_0x3ff7fd(0x8b),_0x247631[_0x3ff7fd(0x115)][_0x3ff7fd(0x174)]='600'):(_0x247631[_0x3ff7fd(0x115)][_0x3ff7fd(0x100)]='#0a84ff',_0x247631['style'][_0x3ff7fd(0x174)]='600'),new Promise(_0x1934c8=>{const _0x4abe5f=_0x3ff7fd;confirmResolver=_0x1934c8,document[_0x4abe5f(0xc6)](_0x4abe5f(0x89))[_0x4abe5f(0x8d)][_0x4abe5f(0xf8)](_0x4abe5f(0x83));});}function a3_0x542e(){const _0xc994d4=['constructor','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','detailsSheet','7686153hhsGSs','clients','log','style','timeLineBadge','.rs-date-chip','isArray','scrollWidth','push','sort','split','filter','className','substring','\x20–≤\x20','router.html','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','stringify','Telegram','v9.5-CLIENT-ANALYTICS','backgroundPosition','ready','mini','createDocumentFragment','find','show','cancelled','active','round','#050505','rsDatesTrack','648BoISED','–∑–∞\x20','backgroundColor','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','querySelector','top','max','planned','onClick','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','substr',':00</span>','colIndex','uc_client_settings','overlay','today','2414004qQBjhz','px\x20-','addEventListener','scroll','anEnd','error','test','offsetWidth','start','left','rs-date-chip','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','client-stat-card','–û—Ç–º–µ–Ω–µ–Ω–æ','ranges','anStart','px\x200px','.day-column','Error\x20setting\x20back\x20button:','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','BackButton','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','data-day-idx','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','3094376rYbKdu','rgba(','blocked-slot\x20stripe-bg','ccYesBtn','cancelContainer','insertBefore','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','headerMonth','WebApp','toast','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','%\x20-\x204px)','%\x20+\x202px)','parse','detStatus','client_load','setItem','height','createElement','value','min','2768457NDHHtT','5WuZBYh','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','POST','fontWeight','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','apply','day-col-header\x20','anCustomDates','borderLeftColor','charAt','status','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','settings','Error\x20setting\x20color:','data','uc_client_list','appendChild','then','setMonth','sid','week','detTime','visible','display','scrollTo','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','blocked-range-part\x20stripe-bg','rgba(10,\x20132,\x20255,\x20','customConfirm','getMonth','#ff453a','<div\x20class=\x22rs-day-name\x22>','classList','stopPropagation','scrollLeft','\x20–∏–∑\x20','rescheduleSheet','uc_client_sessions','event-card','.btn-reschedule','</div><div\x20class=\x22dch-num\x22>','applyData','querySelectorAll','cancel_window','getItem','getFullYear','getDay','open','cancelHint','</div>','keys','end','calendar','</div><div\x20class=\x22rs-day-num\x22>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','ccText','data-date','DOMContentLoaded','.btn-cancel','toUpperCase','month','firstChild','map','day-column\x20','initDataUnsafe','setAttribute','floor','zIndex','T23:59:59','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<span>','done','onclick','saveLocally','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','setHours','note','location','#0a84ff','initData','forEach','now','.day-col-header','syncLoad','T00:00:00','get_slots','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','<div\x20class=\x22dch-day\x22>','var(--acc-green)','getElementById','getDate','pattern','\x20status-completed','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','long','var(--acc-blue)','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','ru-RU','analyticsList','exceptions','seriesId','none','reschedule','249200SHfwTG','toString','dateStr','startsWith','total','toLocaleString','setBackgroundColor','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','daysHeaderTrack','strokeDashoffset','offsetLeft','setDate','getMinutes','coach_profiles','Unknown','length','slice','detDate','setHeaderColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','json','remove','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','user','calc(','textContent','toLocaleDateString','\x20-\x20','timeColumn','getAttribute','getTime','innerHTML','Critical\x20TMA\x20Error:','completed','div','add','time-label','block','padStart','rs-time-btn','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','matrixViewport','detNote','color','clientWidth','custom','getHours','anPercent','analyticsSheet','disableVerticalSwipes','943995FZsvEP','numeric','scrollTop','rsSlotsGrid','search','entries','coachId','53914arDKQB'];a3_0x542e=function(){return _0xc994d4;};return a3_0x542e();}function resolveCustomConfirm(_0xa8fd7c){const _0x9fa9c5=a3_0x4feee7;document[_0x9fa9c5(0xc6)](_0x9fa9c5(0x89))[_0x9fa9c5(0x8d)][_0x9fa9c5(0xea)](_0x9fa9c5(0x83));if(confirmResolver)confirmResolver(_0xa8fd7c);}async function tryCancelCurrentSession(){const _0xc163f2=a3_0x4feee7;if(!currentSession)return;const _0x4829dc=await showCustomConfirm(_0xc163f2(0x122),_0xc163f2(0xc3),!![]);if(!_0x4829dc)return;const _0x5eac1d=currentSession;closeAllSheets(),sessions=sessions[_0xc163f2(0x11d)](_0x49faed=>_0x49faed['id']!==_0x5eac1d['id']),reRenderBlocks(),showToast(_0xc163f2(0x14e)),lastUserActionTime=Date[_0xc163f2(0xbe)]();try{const _0x128f03=window[_0xc163f2(0x124)]?.[_0xc163f2(0x163)],_0x414af7=await fetch(API_URL,{'method':_0xc163f2(0x173),'body':JSON[_0xc163f2(0x123)]({'action':'client_cancel','init_data':_0x128f03?.[_0xc163f2(0xbc)]||'','coachId':_0x5eac1d[_0xc163f2(0x10d)],'dateStr':_0x5eac1d['dateStr'],'sessionId':_0x5eac1d['id']})});if(_0x414af7['ok'])DataManager[_0xc163f2(0xb6)]();}catch(_0xe8d696){showToast(_0xc163f2(0x78));}}function a3_0x3797(_0x2f309e,_0x4185d9){_0x2f309e=_0x2f309e-0x74;const _0x5f2432=a3_0x542e();let _0x5283db=_0x5f2432[_0x2f309e];return _0x5283db;}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x34d9fc=a3_0x4feee7;if(!currentSession)return;document['getElementById'](_0x34d9fc(0x111))['classList'][_0x34d9fc(0xea)](_0x34d9fc(0x9c)),document[_0x34d9fc(0xc6)](_0x34d9fc(0x91))[_0x34d9fc(0x8d)][_0x34d9fc(0xf8)](_0x34d9fc(0x9c));const _0x13ae03=document['getElementById']('rsDatesTrack'),_0x1cf7f3=document['getElementById']('rsSlotsGrid');_0x13ae03[_0x34d9fc(0xf4)]='',_0x1cf7f3['innerHTML']=_0x34d9fc(0x155);const [_0x4a7362,_0xf7f05a]=currentSession[_0x34d9fc(0x149)]['split'](':')[_0x34d9fc(0xab)](Number),[_0x32cc8c,_0xc9c5c7]=currentSession[_0x34d9fc(0xa0)][_0x34d9fc(0x11c)](':')[_0x34d9fc(0xab)](Number),_0xde2806=_0x32cc8c*0x3c+_0xc9c5c7-(_0x4a7362*0x3c+_0xf7f05a);try{const _0x27c6fc=window['Telegram']?.['WebApp'],_0x32d7f4=await fetch(API_URL,{'method':_0x34d9fc(0x173),'body':JSON['stringify']({'action':_0x34d9fc(0xc2),'coachId':currentSession['coachId'],'duration':_0xde2806,'init_data':_0x27c6fc?.[_0x34d9fc(0xbc)]||'','excludeSessionId':currentSession['id']})}),_0x1d9fd5=await _0x32d7f4[_0x34d9fc(0xe9)]();_0x1d9fd5['ok']&&_0x1d9fd5[_0x34d9fc(0x7b)]?(availableSlotsCache=_0x1d9fd5[_0x34d9fc(0x7b)],renderRescheduleDates()):_0x1cf7f3[_0x34d9fc(0xf4)]=_0x34d9fc(0x175);}catch(_0x4d4ff8){_0x1cf7f3[_0x34d9fc(0xf4)]=_0x34d9fc(0x86);}}function renderRescheduleDates(){const _0x4e76a3=a3_0x4feee7,_0x2a37d5=document[_0x4e76a3(0xc6)](_0x4e76a3(0x130));_0x2a37d5[_0x4e76a3(0xf4)]='';const _0x523fca=Object[_0x4e76a3(0x9f)](availableSlotsCache)[_0x4e76a3(0x11b)](),_0x1a2eb8=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x523fca['length']===0x0){document[_0x4e76a3(0xc6)](_0x4e76a3(0x10a))[_0x4e76a3(0xf4)]=_0x4e76a3(0x14c);return;}_0x523fca[_0x4e76a3(0xbd)]((_0x25ffbf,_0x577c51)=>{const _0x54d23f=_0x4e76a3,_0x1a713b=new Date(_0x25ffbf),_0xb8c14c=_0x1a2eb8[_0x1a713b[_0x54d23f(0x9b)]()],_0xf5890c=_0x1a713b[_0x54d23f(0xc7)](),_0x139555=document[_0x54d23f(0x16d)](_0x54d23f(0xf7));_0x139555[_0x54d23f(0x11e)]=_0x54d23f(0x14b);if(_0x577c51===0x0)_0x139555[_0x54d23f(0x8d)][_0x54d23f(0xf8)](_0x54d23f(0x12d));_0x139555[_0x54d23f(0xf4)]=_0x54d23f(0x8c)+_0xb8c14c+_0x54d23f(0xa2)+_0xf5890c+_0x54d23f(0x9e),_0x139555[_0x54d23f(0xb5)]=()=>selectRsDate(_0x25ffbf,_0x139555),_0x2a37d5[_0x54d23f(0x7d)](_0x139555);}),selectRsDate(_0x523fca[0x0],_0x2a37d5['firstChild']);}function selectRsDate(_0x17f213,_0x23d4ef){const _0x1d1f3c=a3_0x4feee7;selectedRsDate=_0x17f213,document[_0x1d1f3c(0x97)](_0x1d1f3c(0x117))[_0x1d1f3c(0xbd)](_0x3628bf=>_0x3628bf[_0x1d1f3c(0x8d)]['remove']('active'));if(_0x23d4ef)_0x23d4ef[_0x1d1f3c(0x8d)][_0x1d1f3c(0xf8)](_0x1d1f3c(0x12d));const _0x5848a5=document[_0x1d1f3c(0xc6)](_0x1d1f3c(0x10a));_0x5848a5[_0x1d1f3c(0xf4)]='';const _0x3ea202=availableSlotsCache[_0x17f213]||[];if(_0x3ea202[_0x1d1f3c(0xe3)]===0x0){_0x5848a5[_0x1d1f3c(0xf4)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3ea202[_0x1d1f3c(0xbd)](_0x10c807=>{const _0x4b593e=_0x1d1f3c,_0x16d58b=document[_0x4b593e(0x16d)]('button');_0x16d58b[_0x4b593e(0x11e)]=_0x4b593e(0xfc),_0x16d58b['textContent']=_0x10c807,_0x16d58b['onclick']=()=>confirmReschedule(_0x10c807),_0x5848a5[_0x4b593e(0x7d)](_0x16d58b);});}async function confirmReschedule(_0x2e769f){const _0x1bd2ee=a3_0x4feee7,_0x105a6e=new Date(selectedRsDate),_0x514929=_0x105a6e['toLocaleDateString'](_0x1bd2ee(0xce),{'day':_0x1bd2ee(0x108),'month':'long'}),_0x49a7a7=await showCustomConfirm(_0x1bd2ee(0x154),_0x1bd2ee(0xfd)+_0x514929+_0x1bd2ee(0x120)+_0x2e769f+'?',![]);if(!_0x49a7a7)return;closeAllSheets(),showToast(_0x1bd2ee(0x157)),lastUserActionTime=Date[_0x1bd2ee(0xbe)]();const _0x30d962=currentSession[_0x1bd2ee(0xd6)],_0x2796ea=currentSession['id'],[_0xcd8416,_0x3328d0]=currentSession[_0x1bd2ee(0x149)][_0x1bd2ee(0x11c)](':')[_0x1bd2ee(0xab)](Number),[_0x16d146,_0x1e6d4f]=currentSession[_0x1bd2ee(0xa0)][_0x1bd2ee(0x11c)](':')[_0x1bd2ee(0xab)](Number),_0x52ab50=_0x16d146*0x3c+_0x1e6d4f-(_0xcd8416*0x3c+_0x3328d0),[_0xa97869,_0x4d0c34]=_0x2e769f[_0x1bd2ee(0x11c)](':')[_0x1bd2ee(0xab)](Number),_0x48e0ca=_0xa97869*0x3c+_0x4d0c34+_0x52ab50,_0x193075=Math[_0x1bd2ee(0xaf)](_0x48e0ca/0x3c),_0x1d06aa=_0x48e0ca%0x3c,_0x358d9f=String(_0x193075)[_0x1bd2ee(0xfb)](0x2,'0')+':'+String(_0x1d06aa)['padStart'](0x2,'0'),_0x5bbd46=sessions['findIndex'](_0x4655d5=>_0x4655d5['id']===_0x2796ea);_0x5bbd46!==-0x1&&(sessions[_0x5bbd46][_0x1bd2ee(0xd6)]=selectedRsDate,sessions[_0x5bbd46][_0x1bd2ee(0x149)]=_0x2e769f,sessions[_0x5bbd46]['end']=_0x358d9f,reRenderBlocks());try{const _0x5e6dae=window[_0x1bd2ee(0x124)]?.['WebApp'],_0x3343f9=await fetch(API_URL,{'method':'POST','body':JSON[_0x1bd2ee(0x123)]({'action':_0x1bd2ee(0xd3),'init_data':_0x5e6dae?.['initData']||'','oldSessionId':_0x2796ea,'oldDate':_0x30d962,'newDate':selectedRsDate,'newTime':_0x2e769f,'coachId':currentSession[_0x1bd2ee(0x10d)]})}),_0xac473c=await _0x3343f9['json']();!_0xac473c['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x1bd2ee(0xc0)]()):(showToast(_0x1bd2ee(0x172)),DataManager[_0x1bd2ee(0xb6)]());}catch(_0x5476dd){showToast(_0x1bd2ee(0x78));}}document['addEventListener'](a3_0x4feee7(0xa6),init);