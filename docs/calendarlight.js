const a3_0x342984=a3_0x4f45;function a3_0x5cf6(){const _0x5bc9ab=['11332SEDhvY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','toUpperCase','var(--acc-blue)','ccYesBtn','charAt','expand','json','test','600','filter','flex','substr','className','anPercent','rs-date-chip','createElement','cancel_window','detailsSheet','analyticsSheet','strokeDashoffset','getHours','clients','</div><div\x20class=\x22dch-num\x22>','custom','initData','detTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','scrollLeft','long','applyData','setMonth','max','show','loadLocal','dateStr','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','analyticsList','data-day-idx','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','colIndex','start','gridColumns','none','active','now','px\x20-','auto','classList','display','toast','getTime','div','24fXDTpW','keys','isArray','error','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','\x20status-completed','Telegram','scrollTop','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','client_load','\x20–∏–∑\x20','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','borderLeftColor','setBackgroundColor','backgroundColor','anEnd','.day-col-header[data-date=\x22','length','saveLocally','blocked-range-part\x20stripe-bg','rgba(10,\x20132,\x20255,\x20','settings','anStart','then','anCustomDates','\x20—á.','blocked-slot\x20stripe-bg','getItem','BackButton','innerHTML','9165ACpmwZ','rsSlotsGrid','11KIQDWw','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','user','ru-RU','log','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','search','note','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','status','done','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeLineBadge','add','find','calc(','cancelContainer','807856HWSPes','T00:00:00','anTotalStats',':00</span>','day-off-overlay\x20stripe-bg','customConfirm','headerMonth','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','reschedule','anDonutCircle','getFullYear','color','substring','scrollWidth','348gDEsXZ','.btn-cancel','firstChild','onclick','client-stat-card','parse','globalTimeLine','rsDatesTrack','href','ccText','17012892fihbcR','var(--acc-green)','detNote','apply','getElementById','(((.+)+)+)+$','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','T23:59:59','setItem','matrixViewport','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','split','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','ranges','addEventListener','join','offsetWidth','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','button','total','.sheet','day-col-header\x20','</div><div\x20class=\x22rs-day-num\x22>','data-date','today','end','exceptions','ready','height','offsetLeft','#ff453a','toString','visible','all','getDay','<div\x20class=\x22rs-day-name\x22>','.btn-reschedule','createDocumentFragment','\x20-\x20','scrollTo','round','27HqVPij','router.html','getMinutes','582ALZuqd','appendChild','clientWidth','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','coach_profiles','data','coachId','entries','mini','stringify','2396866TJAYYJ','sort','1173190YDxPiV','width','block','min','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','push','top','backgroundPosition','%\x20-\x204px)','POST','uc_client_sessions','open','cancelHint','<div\x20class=\x22dch-day\x22>','week','getMonth','time-label','.period-switch\x20.p-btn','constructor','.day-column','querySelector','\x20–≤\x20','textContent','style','630609KYaIVN','forEach','numeric','#0a84ff','month','completed','setHours','–∑–∞\x20','detDate','slice','detStatus','floor','Error\x20setting\x20color:','seriesId','calendar','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setAttribute','map','client_cancel','setHeaderColor','day-column\x20','querySelectorAll','syncLoad','value','toLocaleDateString','pattern','%\x20+\x202px)','get_slots','getDate','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','padStart','timeColumn','remove','onClick','px\x200px','WebApp','fontWeight','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','offClick','findIndex','rgba(','setDate','uc_client_list','cancelled','left','</div>','overlay','#050505'];a3_0x5cf6=function(){return _0x5bc9ab;};return a3_0x5cf6();}(function(_0x45345b,_0xb7508a){const _0xee878e=a3_0x4f45,_0x2dc80b=_0x45345b();while(!![]){try{const _0x2f1fd1=parseInt(_0xee878e(0x192))/0x1+parseInt(_0xee878e(0x1e3))/0x2+-parseInt(_0xee878e(0x1d7))/0x3*(parseInt(_0xee878e(0x129))/0x4)+-parseInt(_0xee878e(0x17e))/0x5*(-parseInt(_0xee878e(0x1a0))/0x6)+-parseInt(_0xee878e(0xf9))/0x7*(-parseInt(_0xee878e(0x15e))/0x8)+-parseInt(_0xee878e(0x1d4))/0x9*(-parseInt(_0xee878e(0x1e5))/0xa)+-parseInt(_0xee878e(0x180))/0xb*(parseInt(_0xee878e(0x1aa))/0xc);if(_0x2f1fd1===_0xb7508a)break;else _0x2dc80b['push'](_0x2dc80b['shift']());}catch(_0x5a2268){_0x2dc80b['push'](_0x2dc80b['shift']());}}}(a3_0x5cf6,0xbb5f6));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x342984(0x1b0),GRID_H=0x3c,KEY_SESSIONS=a3_0x342984(0x1f0),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x342984(0x123);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x342984(0xef),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2ef441=a3_0x342984,_0x111bed=(function(){let _0x10d870=!![];return function(_0x5f12e4,_0x31baa0){const _0x5c5f35=_0x10d870?function(){const _0x2705a0=a3_0x4f45;if(_0x31baa0){const _0x10a59c=_0x31baa0[_0x2705a0(0x1ad)](_0x5f12e4,arguments);return _0x31baa0=null,_0x10a59c;}}:function(){};return _0x10d870=![],_0x5c5f35;};}()),_0x4ea248=_0x111bed(this,function(){const _0x106df6=a3_0x4f45;return _0x4ea248[_0x106df6(0x1ca)]()['search'](_0x106df6(0x1af))[_0x106df6(0x1ca)]()[_0x106df6(0xf3)](_0x4ea248)[_0x106df6(0x186)](_0x106df6(0x1af));});_0x4ea248();try{const _0x13135f=window[_0x2ef441(0x164)]?.[_0x2ef441(0x11c)];if(!_0x13135f)return;_0x13135f[_0x2ef441(0x1c6)](),_0x13135f[_0x2ef441(0x12f)]();try{_0x13135f[_0x2ef441(0x10c)](_0x2ef441(0x128)),_0x13135f[_0x2ef441(0x16d)]&&_0x13135f[_0x2ef441(0x16d)]('#050505');}catch(_0x3d7113){console[_0x2ef441(0x184)](_0x2ef441(0x105),_0x3d7113);}try{_0x13135f[_0x2ef441(0x17c)]&&(_0x13135f[_0x2ef441(0x17c)][_0x2ef441(0x14a)](),_0x13135f[_0x2ef441(0x17c)][_0x2ef441(0x11f)](),_0x13135f[_0x2ef441(0x17c)][_0x2ef441(0x11a)](function(){const _0x230967=_0x2ef441;window['location'][_0x230967(0x1a8)]=_0x230967(0x1d5);}));}catch(_0x10ede4){console['log']('Error\x20setting\x20back\x20button:',_0x10ede4);}try{if(_0x13135f['disableVerticalSwipes'])_0x13135f['disableVerticalSwipes']();}catch(_0x2bf5e1){}}catch(_0x25d957){console[_0x2ef441(0x161)]('Critical\x20TMA\x20Error:',_0x25d957);}}());function isAdmin(){const _0x50d059=a3_0x342984;try{const _0x563253=Number(window[_0x50d059(0x164)]?.[_0x50d059(0x11c)]?.['initDataUnsafe']?.[_0x50d059(0x182)]?.['id']);return _0x563253===0xbaf7174;}catch(_0x20f4aa){return![];}}const DataManager={'saveLocally'(){const _0x496384=a3_0x342984;try{localStorage[_0x496384(0x1b2)](KEY_SESSIONS,JSON[_0x496384(0x1e2)](sessions)),localStorage[_0x496384(0x1b2)](KEY_CLIENTS,JSON[_0x496384(0x1e2)](clients)),localStorage[_0x496384(0x1b2)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4e77c7){}},'loadLocal'(){const _0x1d40c5=a3_0x342984;try{const _0x5a9601=localStorage[_0x1d40c5(0x17b)](KEY_SESSIONS);if(_0x5a9601)sessions=JSON[_0x1d40c5(0x1a5)](_0x5a9601);const _0x207b19=localStorage[_0x1d40c5(0x17b)](KEY_CLIENTS);if(_0x207b19)clients=JSON['parse'](_0x207b19);const _0x386c09=localStorage[_0x1d40c5(0x17b)](KEY_SETTINGS);if(_0x386c09){const _0x29427a=JSON['parse'](_0x386c09);if(_0x29427a[_0x1d40c5(0x112)])availabilityPattern=_0x29427a[_0x1d40c5(0x112)];if(_0x29427a[_0x1d40c5(0x1b7)])specialRanges=_0x29427a['ranges'];if(_0x29427a[_0x1d40c5(0x1c5)])dateExceptions=_0x29427a[_0x1d40c5(0x1c5)];}}catch(_0x70729a){}},async 'syncLoad'(){const _0x559b91=a3_0x342984,_0x547dcb=new Date(),_0x25ef10=_0x547dcb['getFullYear']()+'-'+String(_0x547dcb['getMonth']()+0x1)[_0x559b91(0x117)](0x2,'0'),_0x4a4219=new Date(_0x547dcb);_0x4a4219[_0x559b91(0x148)](_0x547dcb[_0x559b91(0xf0)]()+0x1);const _0x1a6852=_0x4a4219[_0x559b91(0x19c)]()+'-'+String(_0x4a4219[_0x559b91(0xf0)]()+0x1)[_0x559b91(0x117)](0x2,'0'),_0x15e2d6=Date[_0x559b91(0x156)]();try{const _0x43c815=window['Telegram']?.[_0x559b91(0x11c)],_0x160264=_0x43c815?.[_0x559b91(0x142)]||'',[_0x407cad,_0x5e69d2]=await Promise[_0x559b91(0x1cc)]([fetch(API_URL,{'method':_0x559b91(0x1ef),'body':JSON[_0x559b91(0x1e2)]({'action':_0x559b91(0x168),'init_data':_0x160264,'month_str':_0x25ef10})})[_0x559b91(0x177)](_0x5f36d6=>_0x5f36d6['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x559b91(0x1e2)]({'action':_0x559b91(0x168),'init_data':_0x160264,'month_str':_0x1a6852})})[_0x559b91(0x177)](_0x5c25cf=>_0x5c25cf[_0x559b91(0x130)]())]);if(lastUserActionTime>_0x15e2d6){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x407cad['ok'])this[_0x559b91(0x147)](_0x407cad['data'],_0x25ef10);if(_0x5e69d2['ok'])this[_0x559b91(0x147)](_0x5e69d2[_0x559b91(0x1de)],_0x1a6852);this[_0x559b91(0x172)]();}catch(_0x3b08b7){}},'applyData'(_0x1ac2eb,_0xf0868b){const _0x309d31=a3_0x342984;if(!_0x1ac2eb)return;if(_0x1ac2eb[_0x309d31(0x175)]){if(_0x1ac2eb[_0x309d31(0x175)][_0x309d31(0x112)])availabilityPattern=_0x1ac2eb[_0x309d31(0x175)][_0x309d31(0x112)];if(_0x1ac2eb[_0x309d31(0x175)][_0x309d31(0x1b7)])specialRanges=_0x1ac2eb[_0x309d31(0x175)][_0x309d31(0x1b7)];if(_0x1ac2eb['settings']['exceptions'])dateExceptions=_0x1ac2eb[_0x309d31(0x175)][_0x309d31(0x1c5)];}if(_0x1ac2eb['clients']&&Array[_0x309d31(0x160)](_0x1ac2eb[_0x309d31(0x13f)]))clients=_0x1ac2eb[_0x309d31(0x13f)];_0x1ac2eb[_0x309d31(0x1dd)]&&(coachProfiles={...coachProfiles,..._0x1ac2eb[_0x309d31(0x1dd)]}),_0x1ac2eb[_0x309d31(0x107)]&&(sessions=sessions['filter'](_0x259740=>!_0x259740[_0x309d31(0x14c)]['startsWith'](_0xf0868b)),Object[_0x309d31(0x15f)](_0x1ac2eb[_0x309d31(0x107)])[_0x309d31(0xfa)](_0x2f478e=>{const _0x574f70=_0x1ac2eb['calendar'][_0x2f478e];_0x574f70['forEach'](_0x12df50=>{const _0x280dd8=a3_0x4f45;sessions[_0x280dd8(0x1eb)]({'id':_0x12df50['i'],'clientId':_0x12df50['c'],'coachId':_0x12df50['cid'],'dateStr':_0xf0868b+'-'+_0x2f478e[_0x280dd8(0x117)](0x2,'0'),'start':_0x12df50['s'],'end':_0x12df50['e'],'note':_0x12df50['n']||'','status':_0x12df50['st']||'planned','seriesId':_0x12df50['sid']});});})),reRenderBlocks();}};function init(){const _0x526c10=a3_0x342984;DataManager[_0x526c10(0x14b)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x526c10(0x1ae)]('matrixViewport')['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x526c10(0x10f)]();}function renderTimeColumn(){const _0x414f36=a3_0x342984,_0x19b3e3=document[_0x414f36(0x1ae)](_0x414f36(0x118)),_0x33cc92=document[_0x414f36(0x1ae)]('timeLineBadge');_0x19b3e3[_0x414f36(0x17d)]='',_0x19b3e3[_0x414f36(0x1d8)](_0x33cc92);for(let _0x54b84c=0x0;_0x54b84c<0x18;_0x54b84c++){const _0x1d01a4=document[_0x414f36(0x139)]('div');_0x1d01a4[_0x414f36(0x136)]=_0x414f36(0xf1);if(_0x54b84c>0x0)_0x1d01a4['innerHTML']='<span>'+String(_0x54b84c)[_0x414f36(0x117)](0x2,'0')+_0x414f36(0x195);_0x19b3e3[_0x414f36(0x1d8)](_0x1d01a4);}}function renderDayRange(_0xc072a9,_0x480326){const _0x4c7c65=a3_0x342984,_0x3cbca1=document['getElementById']('daysHeaderTrack'),_0x216f63=document[_0x4c7c65(0x1ae)]('gridColumns'),_0x2fbcb9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5d2217=new Date();_0x5d2217[_0x4c7c65(0xff)](0x0,0x0,0x0,0x0);const _0x3c4483=getLocalDateStr(new Date());for(let _0x3553de=_0xc072a9;_0x3553de<=_0x480326;_0x3553de++){const _0x5a8f01=new Date(_0x5d2217);_0x5a8f01[_0x4c7c65(0x122)](_0x5a8f01[_0x4c7c65(0x115)]()+_0x3553de);const _0x4aa181=getLocalDateStr(_0x5a8f01);let _0x3fdd2c=_0x5a8f01[_0x4c7c65(0x1cd)]()-0x1;if(_0x3fdd2c===-0x1)_0x3fdd2c=0x6;const _0xbed759=_0x4aa181===_0x3c4483,_0x41076d=document['createElement'](_0x4c7c65(0x15d));_0x41076d['className']=_0x4c7c65(0x1c0)+(_0xbed759?_0x4c7c65(0x1c3):''),_0x41076d[_0x4c7c65(0x109)](_0x4c7c65(0x1c2),_0x4aa181),_0x41076d[_0x4c7c65(0x17d)]='<div\x20class=\x22dch-day\x22>'+_0x2fbcb9[_0x3fdd2c]+_0x4c7c65(0x140)+_0x5a8f01[_0x4c7c65(0x115)]()+'</div>',_0x3cbca1[_0x4c7c65(0x1d8)](_0x41076d);const _0x5c01c4=document[_0x4c7c65(0x139)](_0x4c7c65(0x15d));_0x5c01c4[_0x4c7c65(0x136)]='day-column\x20'+(_0xbed759?_0x4c7c65(0x1c3):''),_0x5c01c4['setAttribute'](_0x4c7c65(0x1c2),_0x4aa181),_0x5c01c4[_0x4c7c65(0x109)](_0x4c7c65(0x14f),_0x3fdd2c),_0x216f63[_0x4c7c65(0x1d8)](_0x5c01c4);}}function reRenderBlocks(){const _0x5d4347=a3_0x342984;document[_0x5d4347(0x10e)](_0x5d4347(0xf4))[_0x5d4347(0xfa)](_0x10d190=>{const _0x4a6757=_0x5d4347;_0x10d190[_0x4a6757(0x10e)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x4931d3=>_0x4931d3[_0x4a6757(0x119)]());const _0x59d6f3=_0x10d190[_0x4a6757(0x1da)](_0x4a6757(0x1c2)),_0x48cd09=parseInt(_0x10d190[_0x4a6757(0x1da)]('data-day-idx')),_0x12d364=Math['round'](_0x10d190[_0x4a6757(0x1c8)]);(availabilityPattern[_0x48cd09]||[])[_0x4a6757(0xfa)](_0x233c0c=>{const _0xe0dcf3=_0x4a6757,_0x19b741=document[_0xe0dcf3(0x139)](_0xe0dcf3(0x15d));_0x19b741['className']=_0xe0dcf3(0x17a),_0x19b741[_0xe0dcf3(0xf8)][_0xe0dcf3(0x1ec)]=_0x233c0c*GRID_H+'px',_0x19b741[_0xe0dcf3(0xf8)][_0xe0dcf3(0x1ed)]='-'+_0x12d364+_0xe0dcf3(0x157)+_0x233c0c*GRID_H+'px',_0x10d190[_0xe0dcf3(0x1d8)](_0x19b741);});if(specialRanges[_0x4a6757(0x171)]>0x0){const _0x522eec=new Date(_0x59d6f3+_0x4a6757(0x193))[_0x4a6757(0x15c)](),_0x5ea7bb=new Date(_0x59d6f3+_0x4a6757(0x1b1))['getTime']();specialRanges[_0x4a6757(0xfa)](_0x5083e8=>{const _0x90ac47=_0x4a6757,_0x22c0a2=new Date(_0x5083e8[_0x90ac47(0x152)])[_0x90ac47(0x15c)](),_0x4123e1=new Date(_0x5083e8['end'])[_0x90ac47(0x15c)](),_0xf25130=Math[_0x90ac47(0x149)](_0x522eec,_0x22c0a2),_0x9d649=Math[_0x90ac47(0x1e8)](_0x5ea7bb,_0x4123e1);if(_0xf25130<_0x9d649){const _0x5b58ab=(_0xf25130-_0x522eec)/0x36ee80*GRID_H,_0x262b4e=(_0x9d649-_0xf25130)/0x36ee80*GRID_H,_0x55c0bd=document[_0x90ac47(0x139)](_0x90ac47(0x15d));_0x262b4e>=23.5*GRID_H?(_0x55c0bd['className']=_0x90ac47(0x196),_0x55c0bd[_0x90ac47(0xf8)][_0x90ac47(0x1ed)]='-'+_0x12d364+_0x90ac47(0x11b)):(_0x55c0bd[_0x90ac47(0x136)]=_0x90ac47(0x173),_0x55c0bd[_0x90ac47(0xf8)][_0x90ac47(0x1ec)]=_0x5b58ab+'px',_0x55c0bd[_0x90ac47(0xf8)][_0x90ac47(0x1c7)]=_0x262b4e+'px',_0x55c0bd['style'][_0x90ac47(0x1ed)]='-'+_0x12d364+_0x90ac47(0x157)+_0x5b58ab+'px'),_0x10d190[_0x90ac47(0x1d8)](_0x55c0bd);}});}renderEventsForColumn(_0x10d190,_0x59d6f3);});}function renderEventsForColumn(_0x4c1ab4,_0x4a2cda){const _0x208c0f=a3_0x342984,_0x6b2902=sessions[_0x208c0f(0x133)](_0x38ab88=>_0x38ab88[_0x208c0f(0x14c)]===_0x4a2cda),_0x3cb626=_0x6b2902[_0x208c0f(0x10a)](_0x2378b5=>{const _0x23e37f=_0x208c0f,[_0x123a8f,_0x45889e]=_0x2378b5[_0x23e37f(0x152)]['split'](':')[_0x23e37f(0x10a)](Number),[_0xac7b61,_0x2006bc]=_0x2378b5['end'][_0x23e37f(0x1b5)](':')[_0x23e37f(0x10a)](Number);return{'data':_0x2378b5,'start':_0x123a8f*0x3c+_0x45889e,'end':_0xac7b61*0x3c+_0x2006bc,'colIndex':0x0};});_0x3cb626[_0x208c0f(0x1e4)]((_0x48c582,_0x120dbb)=>_0x48c582[_0x208c0f(0x152)]-_0x120dbb[_0x208c0f(0x152)]||_0x120dbb['end']-_0x120dbb[_0x208c0f(0x152)]-(_0x48c582[_0x208c0f(0x1c4)]-_0x48c582[_0x208c0f(0x152)]));const _0x4ac3dc=[];_0x3cb626[_0x208c0f(0xfa)](_0x4d4cbd=>{const _0x2e6a09=_0x208c0f;let _0x387956=![];for(let _0x102e54=0x0;_0x102e54<_0x4ac3dc[_0x2e6a09(0x171)];_0x102e54++){const _0x1c835f=_0x4ac3dc[_0x102e54];if(_0x4d4cbd[_0x2e6a09(0x152)]>=_0x1c835f[_0x1c835f['length']-0x1][_0x2e6a09(0x1c4)]){_0x1c835f[_0x2e6a09(0x1eb)](_0x4d4cbd),_0x4d4cbd['colIndex']=_0x102e54,_0x387956=!![];break;}}!_0x387956&&(_0x4ac3dc['push']([_0x4d4cbd]),_0x4d4cbd[_0x2e6a09(0x151)]=_0x4ac3dc['length']-0x1);}),_0x3cb626[_0x208c0f(0xfa)](_0x5443aa=>{const _0x11e52c=_0x208c0f;let _0x4e6817=0x0;_0x3cb626[_0x11e52c(0xfa)](_0x559480=>{const _0x3935bb=_0x11e52c;if(Math[_0x3935bb(0x149)](_0x5443aa[_0x3935bb(0x152)],_0x559480[_0x3935bb(0x152)])<Math[_0x3935bb(0x1e8)](_0x5443aa[_0x3935bb(0x1c4)],_0x559480[_0x3935bb(0x1c4)])&&_0x559480[_0x3935bb(0x151)]>_0x4e6817)_0x4e6817=_0x559480['colIndex'];});const _0xb4dea=_0x4e6817+0x1,_0x3bcae5=0x64/_0xb4dea,_0x7ee60a=_0x5443aa[_0x11e52c(0x151)]*_0x3bcae5,_0x53ad44=document[_0x11e52c(0x139)]('div'),_0x1d5d01=_0x5443aa[_0x11e52c(0x1de)];let _0xc8e010=_0x11e52c(0xfc);if(clients&&clients['length']>0x0){const _0x5571c5=clients[_0x11e52c(0x18f)](_0x1c28f9=>String(_0x1c28f9['id'])===String(_0x1d5d01['clientId']));if(_0x5571c5&&_0x5571c5['color'])_0xc8e010=_0x5571c5[_0x11e52c(0x19d)];}const _0x2881ca=_0x1d5d01['status']===_0x11e52c(0xfe),_0x420cf7=_0x2881ca?0x1:0.45;_0x53ad44['className']='event-card'+(_0x2881ca?_0x11e52c(0x163):''),_0x53ad44[_0x11e52c(0xf8)][_0x11e52c(0x16e)]=hexToRgba(_0xc8e010,_0x420cf7),_0x53ad44['style'][_0x11e52c(0x16c)]=_0xc8e010;const _0x1173df=_0x5443aa[_0x11e52c(0x152)]/0x3c*GRID_H,_0x5eedfd=(_0x5443aa[_0x11e52c(0x1c4)]-_0x5443aa[_0x11e52c(0x152)])/0x3c*GRID_H;_0x53ad44[_0x11e52c(0xf8)][_0x11e52c(0x1ec)]=_0x1173df+'px',_0x53ad44[_0x11e52c(0xf8)][_0x11e52c(0x1c7)]=Math[_0x11e52c(0x149)](_0x5eedfd,0x14)+'px',_0x53ad44[_0x11e52c(0xf8)][_0x11e52c(0x1e6)]=_0x11e52c(0x190)+_0x3bcae5+_0x11e52c(0x1ee),_0x53ad44['style'][_0x11e52c(0x125)]=_0x11e52c(0x190)+_0x7ee60a+_0x11e52c(0x113),_0x53ad44['style'][_0x11e52c(0x16a)]=0xa+_0x5443aa[_0x11e52c(0x151)];if(_0x3bcae5<0x55)_0x53ad44[_0x11e52c(0x159)][_0x11e52c(0x18e)](_0x11e52c(0x1e1));let _0x50da88='';if(_0x1d5d01[_0x11e52c(0x106)])_0x50da88+=_0x11e52c(0x1ea);if(_0x2881ca)_0x50da88+=_0x11e52c(0x199);_0x53ad44[_0x11e52c(0x17d)]=_0x11e52c(0x1db)+_0x1d5d01[_0x11e52c(0x152)]+_0x11e52c(0x1d1)+_0x1d5d01[_0x11e52c(0x1c4)]+_0x11e52c(0x166)+_0x50da88+_0x11e52c(0x16b),_0x53ad44[_0x11e52c(0x1a3)]=_0x15d5db=>{_0x15d5db['stopPropagation'](),openDetails(_0x1d5d01);},_0x4c1ab4[_0x11e52c(0x1d8)](_0x53ad44);});}function openAnalytics(){const _0x384b39=a3_0x342984,_0x57979c=document['querySelector'](_0x384b39(0xf2));setAnalyticsPeriod(_0x384b39(0xef),_0x57979c),openSheet(_0x384b39(0x13c));}function setAnalyticsPeriod(_0x18b792,_0x470c4e){const _0x110be4=a3_0x342984;currentAnPeriod=_0x18b792,document[_0x110be4(0x10e)](_0x110be4(0xf2))['forEach'](_0x5f363d=>_0x5f363d[_0x110be4(0x159)][_0x110be4(0x119)](_0x110be4(0x155)));if(_0x470c4e)_0x470c4e[_0x110be4(0x159)][_0x110be4(0x18e)]('active');const _0xab7c3c=document[_0x110be4(0x1ae)](_0x110be4(0x178));_0xab7c3c[_0x110be4(0xf8)][_0x110be4(0x15a)]=_0x18b792===_0x110be4(0x141)?_0x110be4(0x134):'none';const _0x2299d6=new Date();let _0x57c643=new Date(),_0x1eebae=new Date();if(_0x18b792===_0x110be4(0xef))_0x57c643=getStartOfWeek(_0x2299d6),_0x1eebae=new Date(_0x57c643),_0x1eebae[_0x110be4(0x122)](_0x1eebae['getDate']()+0x6);else{if(_0x18b792===_0x110be4(0xfd))_0x57c643=new Date(_0x2299d6['getFullYear'](),_0x2299d6[_0x110be4(0xf0)](),0x1),_0x1eebae=new Date(_0x2299d6[_0x110be4(0x19c)](),_0x2299d6[_0x110be4(0xf0)]()+0x1,0x0);else{!document[_0x110be4(0x1ae)]('anStart')['value']&&(document['getElementById'](_0x110be4(0x176))['value']=getLocalDateStr(_0x2299d6),document['getElementById'](_0x110be4(0x16f))['value']=getLocalDateStr(_0x2299d6));refreshAnalytics();return;}}document[_0x110be4(0x1ae)]('anStart')[_0x110be4(0x110)]=getLocalDateStr(_0x57c643),document['getElementById'](_0x110be4(0x16f))['value']=getLocalDateStr(_0x1eebae),refreshAnalytics();}function a3_0x4f45(_0x37751c,_0x3a668a){_0x37751c=_0x37751c-0xed;const _0x51fce=a3_0x5cf6();let _0x2a51e6=_0x51fce[_0x37751c];return _0x2a51e6;}function refreshAnalytics(){const _0x55b503=a3_0x342984,_0x574bef=document['getElementById'](_0x55b503(0x176))[_0x55b503(0x110)],_0x19024c=document[_0x55b503(0x1ae)](_0x55b503(0x16f))[_0x55b503(0x110)];if(!_0x574bef||!_0x19024c)return;const _0x422a32=sessions[_0x55b503(0x133)](_0x4c2f37=>_0x4c2f37['dateStr']>=_0x574bef&&_0x4c2f37[_0x55b503(0x14c)]<=_0x19024c&&_0x4c2f37[_0x55b503(0x18a)]!==_0x55b503(0x124)),_0x20bcd0=_0x422a32['length'],_0xff0611=_0x422a32[_0x55b503(0x133)](_0x357e81=>_0x357e81[_0x55b503(0x18a)]===_0x55b503(0xfe))[_0x55b503(0x171)],_0x766988=_0x20bcd0>0x0?Math['round'](_0xff0611/_0x20bcd0*0x64):0x0;document[_0x55b503(0x1ae)](_0x55b503(0x137))['textContent']=_0x766988+'%',document[_0x55b503(0x1ae)](_0x55b503(0x194))[_0x55b503(0xf7)]=_0xff0611+_0x55b503(0x169)+_0x20bcd0+_0x55b503(0x1b4);const _0x97f6e5=document[_0x55b503(0x1ae)](_0x55b503(0x19b)),_0x5c029c=0x2*Math['PI']*0x23,_0x2aeee4=_0x5c029c-_0x766988/0x64*_0x5c029c;_0x97f6e5[_0x55b503(0xf8)][_0x55b503(0x13d)]=_0x2aeee4;const _0x512f35={};_0x422a32[_0x55b503(0xfa)](_0x335c70=>{const _0x429f90=_0x55b503,_0x2b28e6=_0x335c70[_0x429f90(0x1df)]||'Unknown';if(!_0x512f35[_0x2b28e6]){const _0xec573a='#'+_0x2b28e6[_0x429f90(0x1ca)]()[_0x429f90(0x135)](0x0,0x6);_0x512f35[_0x2b28e6]={'total':0x0,'done':0x0,'color':_0xec573a};}_0x512f35[_0x2b28e6][_0x429f90(0x1be)]++;if(_0x335c70[_0x429f90(0x18a)]===_0x429f90(0xfe))_0x512f35[_0x2b28e6][_0x429f90(0x18b)]++;});const _0x1fedf1=document[_0x55b503(0x1ae)](_0x55b503(0x14e));_0x1fedf1[_0x55b503(0x17d)]='';const _0xd6f307=Object[_0x55b503(0x1e0)](_0x512f35)['sort']((_0x5ea11b,_0x34a555)=>_0x34a555[0x1][_0x55b503(0x1be)]-_0x5ea11b[0x1][_0x55b503(0x1be)]);if(_0xd6f307['length']===0x0){_0x1fedf1[_0x55b503(0x17d)]=_0x55b503(0x14d);return;}_0xd6f307[_0x55b503(0xfa)](([_0x46dea1,_0x46d348])=>{const _0x31bd20=_0x55b503,_0x33b159=Math[_0x31bd20(0x1d3)](_0x46d348['done']/_0x46d348[_0x31bd20(0x1be)]*0x64),_0x15d9d3=document['createElement'](_0x31bd20(0x15d));_0x15d9d3['className']=_0x31bd20(0x1a4),_0x15d9d3['style'][_0x31bd20(0x16c)]=_0x46d348[_0x31bd20(0x19d)],_0x15d9d3['innerHTML']=_0x31bd20(0x12a)+_0x46dea1[_0x31bd20(0x135)](0x0,0x5)+_0x31bd20(0x144)+_0x46d348[_0x31bd20(0x18b)]+'</span>\x20/\x20'+_0x46d348[_0x31bd20(0x1be)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x33b159+_0x31bd20(0x18c),_0x1fedf1[_0x31bd20(0x1d8)](_0x15d9d3);});}function openDetails(_0x1cc014){const _0x147fd3=a3_0x342984;currentSession=_0x1cc014;const _0x308049=new Date(_0x1cc014[_0x147fd3(0x14c)]),_0x12c08c=_0x308049[_0x147fd3(0x111)](_0x147fd3(0x183),{'weekday':_0x147fd3(0x146),'day':_0x147fd3(0xfb),'month':_0x147fd3(0x146)});document[_0x147fd3(0x1ae)](_0x147fd3(0x101))[_0x147fd3(0xf7)]=_0x12c08c[_0x147fd3(0x12e)](0x0)[_0x147fd3(0x12b)]()+_0x12c08c[_0x147fd3(0x102)](0x1),document['getElementById'](_0x147fd3(0x143))['textContent']=_0x1cc014[_0x147fd3(0x152)]+_0x147fd3(0x1d1)+_0x1cc014[_0x147fd3(0x1c4)],document[_0x147fd3(0x1ae)](_0x147fd3(0x1ac))[_0x147fd3(0xf7)]=_0x1cc014[_0x147fd3(0x187)]||_0x147fd3(0x185);const _0x1736a3=document['getElementById'](_0x147fd3(0x103)),_0x321499=document['getElementById'](_0x147fd3(0x191)),_0x5d6a38=_0x321499[_0x147fd3(0xf5)](_0x147fd3(0x1a1)),_0x4bbafa=_0x321499[_0x147fd3(0xf5)](_0x147fd3(0x1cf)),_0x5c1840=document[_0x147fd3(0x1ae)](_0x147fd3(0xed));if(_0x1cc014[_0x147fd3(0x18a)]==='completed')_0x1736a3[_0x147fd3(0xf7)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1736a3[_0x147fd3(0xf8)][_0x147fd3(0x19d)]=_0x147fd3(0x1ab),_0x321499['style'][_0x147fd3(0x15a)]=_0x147fd3(0x154);else{_0x1736a3[_0x147fd3(0xf7)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x1736a3[_0x147fd3(0xf8)][_0x147fd3(0x19d)]=_0x147fd3(0x12c),_0x321499['style'][_0x147fd3(0x15a)]=_0x147fd3(0x1e7);const _0x376550=new Date(_0x1cc014[_0x147fd3(0x14c)]+'T'+_0x1cc014[_0x147fd3(0x152)]),_0x13f27b=new Date(),_0x243b99=(_0x376550-_0x13f27b)/(0x3e8*0x3c*0x3c),_0x23f8fc=coachProfiles[_0x1cc014['coachId']]&&coachProfiles[_0x1cc014[_0x147fd3(0x1df)]]['cancel_window']?parseInt(coachProfiles[_0x1cc014[_0x147fd3(0x1df)]][_0x147fd3(0x13a)]):0x18;if(_0x23f8fc===0x0||_0x243b99>=_0x23f8fc)_0x5d6a38[_0x147fd3(0xf8)][_0x147fd3(0x15a)]='block',_0x4bbafa['style']['display']=_0x147fd3(0x1e7),_0x5c1840[_0x147fd3(0xf8)][_0x147fd3(0x15a)]='none';else{_0x5d6a38[_0x147fd3(0xf8)][_0x147fd3(0x15a)]=_0x147fd3(0x154),_0x4bbafa['style'][_0x147fd3(0x15a)]=_0x147fd3(0x154),_0x5c1840[_0x147fd3(0xf8)][_0x147fd3(0x15a)]=_0x147fd3(0x1e7);let _0x3714c0=_0x23f8fc===0x0?_0x147fd3(0x1bb):_0x147fd3(0x100)+_0x23f8fc+_0x147fd3(0x179);_0x5c1840[_0x147fd3(0xf7)]=_0x147fd3(0x162)+_0x3714c0+_0x147fd3(0x1dc);}}document[_0x147fd3(0x1ae)]('overlay')['classList'][_0x147fd3(0x18e)](_0x147fd3(0x155)),document[_0x147fd3(0x1ae)](_0x147fd3(0x13b))[_0x147fd3(0x159)][_0x147fd3(0x18e)](_0x147fd3(0x1f1));}function closeAllSheets(){const _0x4840dd=a3_0x342984;document[_0x4840dd(0x1ae)](_0x4840dd(0x127))[_0x4840dd(0x159)][_0x4840dd(0x119)](_0x4840dd(0x155)),document[_0x4840dd(0x10e)](_0x4840dd(0x1bf))[_0x4840dd(0xfa)](_0xc7ca0e=>_0xc7ca0e[_0x4840dd(0x159)]['remove'](_0x4840dd(0x1f1)));}function openSheet(_0xbd3f23){const _0x273f30=a3_0x342984;document[_0x273f30(0x1ae)](_0x273f30(0x127))[_0x273f30(0x159)][_0x273f30(0x18e)]('active'),document['getElementById'](_0xbd3f23)[_0x273f30(0x159)][_0x273f30(0x18e)](_0x273f30(0x1f1));}function getLocalDateStr(_0x4b33f8){const _0xf3de37=a3_0x342984,_0x1344d5=_0x4b33f8['getFullYear'](),_0x1ae7e4=String(_0x4b33f8['getMonth']()+0x1)[_0xf3de37(0x117)](0x2,'0'),_0x74f1c2=String(_0x4b33f8[_0xf3de37(0x115)]())[_0xf3de37(0x117)](0x2,'0');return _0x1344d5+'-'+_0x1ae7e4+'-'+_0x74f1c2;}function getStartOfWeek(_0x917896){const _0x3f97ed=a3_0x342984,_0xb9fb68=new Date(_0x917896),_0xabf43c=_0xb9fb68[_0x3f97ed(0x1cd)](),_0x10b3d5=_0xb9fb68[_0x3f97ed(0x115)]()-_0xabf43c+(_0xabf43c===0x0?-0x6:0x1);return _0xb9fb68[_0x3f97ed(0x122)](_0x10b3d5),_0xb9fb68[_0x3f97ed(0xff)](0x0,0x0,0x0,0x0),_0xb9fb68;}function scrollToToday(){const _0x4d63=getLocalDateStr(new Date());setTimeout(()=>{const _0x18fba9=a3_0x4f45,_0x170982=document[_0x18fba9(0xf5)](_0x18fba9(0x170)+_0x4d63+'\x22]');if(_0x170982){const _0x3e527b=document[_0x18fba9(0x1ae)](_0x18fba9(0x1b3)),_0x3d52b2=_0x170982['offsetLeft']-_0x3e527b[_0x18fba9(0x1d9)]/0x2+_0x170982[_0x18fba9(0x1ba)]/0x2;_0x3e527b[_0x18fba9(0x1d2)]({'left':_0x3d52b2,'behavior':_0x18fba9(0x158)}),_0x3e527b[_0x18fba9(0x165)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x37e33a=a3_0x342984,_0x749cd3=new Date(),_0x3a32d2=document[_0x37e33a(0x1ae)](_0x37e33a(0x1a6)),_0x5b5cda=document[_0x37e33a(0x1ae)](_0x37e33a(0x18d)),_0x4b053c=(_0x749cd3['getHours']()*0x3c+_0x749cd3[_0x37e33a(0x1d6)]())/0x3c*GRID_H;_0x3a32d2[_0x37e33a(0xf8)]['top']=_0x4b053c+'px',_0x3a32d2[_0x37e33a(0xf8)][_0x37e33a(0x15a)]='block',_0x5b5cda['style'][_0x37e33a(0x1ec)]=_0x4b053c+'px',_0x5b5cda[_0x37e33a(0xf8)][_0x37e33a(0x15a)]=_0x37e33a(0x1e7),_0x5b5cda['textContent']=String(_0x749cd3[_0x37e33a(0x13e)]())[_0x37e33a(0x117)](0x2,'0')+':'+String(_0x749cd3[_0x37e33a(0x1d6)]())[_0x37e33a(0x117)](0x2,'0');}function onScroll(){const _0x1f4695=a3_0x342984,_0x40cf77=document['getElementById'](_0x1f4695(0x1b3)),_0x241a64=document[_0x1f4695(0x10e)]('.day-col-header');for(let _0x1bfa3d of _0x241a64)if(_0x1bfa3d[_0x1f4695(0x1c8)]>=_0x40cf77[_0x1f4695(0x145)]){const _0x5d1a7f=new Date(_0x1bfa3d[_0x1f4695(0x1da)]('data-date'));document['getElementById'](_0x1f4695(0x198))['textContent']=_0x5d1a7f['toLocaleString']('ru',{'month':_0x1f4695(0x146)})[_0x1f4695(0x12b)]()+'\x20'+_0x5d1a7f[_0x1f4695(0x19c)]();break;}}function showToast(_0x20d95e){const _0x429803=a3_0x342984,_0x416cb4=document[_0x429803(0x1ae)](_0x429803(0x15b));_0x416cb4['textContent']=_0x20d95e,_0x416cb4[_0x429803(0x159)]['add']('show'),setTimeout(()=>_0x416cb4[_0x429803(0x159)][_0x429803(0x119)](_0x429803(0x14a)),0x7d0);}function handleInfiniteScroll(){const _0x48856c=a3_0x342984,_0x5d38e4=document['getElementById'](_0x48856c(0x1b3)),_0xff2ea9=_0x5d38e4[_0x48856c(0x145)],_0x209043=_0x5d38e4[_0x48856c(0x19f)],_0x235186=_0x5d38e4[_0x48856c(0x1d9)];if(_0x209043-(_0xff2ea9+_0x235186)<0x12c){const _0xd6a56d=endOffset;endOffset+=0xe,renderDayRange(_0xd6a56d+0x1,endOffset),reRenderBlocks();}if(_0xff2ea9<0x12c){const _0x5e59ed=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5e59ed-0x1),_0x5d38e4[_0x48856c(0x145)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1a8ff3,_0x2e8ccb){const _0xf78b3c=a3_0x342984,_0x109b12=document[_0xf78b3c(0x1ae)]('daysHeaderTrack'),_0x4e0e43=document[_0xf78b3c(0x1ae)](_0xf78b3c(0x153)),_0x5dde9f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5baebc=new Date();_0x5baebc[_0xf78b3c(0xff)](0x0,0x0,0x0,0x0);const _0x99c94a=getLocalDateStr(new Date()),_0x19c251=document['createDocumentFragment'](),_0x2723cf=document[_0xf78b3c(0x1d0)]();for(let _0x5d6d37=_0x1a8ff3;_0x5d6d37<=_0x2e8ccb;_0x5d6d37++){const _0x20200f=new Date(_0x5baebc);_0x20200f[_0xf78b3c(0x122)](_0x20200f['getDate']()+_0x5d6d37);const _0x1ef213=getLocalDateStr(_0x20200f);let _0x46228b=_0x20200f[_0xf78b3c(0x1cd)]()-0x1;if(_0x46228b===-0x1)_0x46228b=0x6;const _0x537ee7=_0x1ef213===_0x99c94a,_0x381523=document[_0xf78b3c(0x139)](_0xf78b3c(0x15d));_0x381523[_0xf78b3c(0x136)]='day-col-header\x20'+(_0x537ee7?_0xf78b3c(0x1c3):''),_0x381523[_0xf78b3c(0x109)](_0xf78b3c(0x1c2),_0x1ef213),_0x381523[_0xf78b3c(0x17d)]=_0xf78b3c(0xee)+_0x5dde9f[_0x46228b]+_0xf78b3c(0x140)+_0x20200f[_0xf78b3c(0x115)]()+_0xf78b3c(0x126),_0x19c251[_0xf78b3c(0x1d8)](_0x381523);const _0x3c4493=document[_0xf78b3c(0x139)](_0xf78b3c(0x15d));_0x3c4493[_0xf78b3c(0x136)]=_0xf78b3c(0x10d)+(_0x537ee7?_0xf78b3c(0x1c3):''),_0x3c4493[_0xf78b3c(0x109)](_0xf78b3c(0x1c2),_0x1ef213),_0x3c4493[_0xf78b3c(0x109)]('data-day-idx',_0x46228b),_0x2723cf['appendChild'](_0x3c4493);}_0x109b12[_0xf78b3c(0x167)](_0x19c251,_0x109b12['firstChild']),_0x4e0e43[_0xf78b3c(0x167)](_0x2723cf,_0x4e0e43[_0xf78b3c(0xf5)](_0xf78b3c(0xf4)));}function hexToRgba(_0x4943a7,_0x5da57f){const _0x592cc7=a3_0x342984;let _0x41cc6c;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x592cc7(0x131)](_0x4943a7))return _0x41cc6c=_0x4943a7[_0x592cc7(0x19e)](0x1)[_0x592cc7(0x1b5)](''),_0x41cc6c[_0x592cc7(0x171)]==0x3&&(_0x41cc6c=[_0x41cc6c[0x0],_0x41cc6c[0x0],_0x41cc6c[0x1],_0x41cc6c[0x1],_0x41cc6c[0x2],_0x41cc6c[0x2]]),_0x41cc6c='0x'+_0x41cc6c[_0x592cc7(0x1b9)](''),_0x592cc7(0x121)+[_0x41cc6c>>0x10&0xff,_0x41cc6c>>0x8&0xff,_0x41cc6c&0xff]['join'](',')+','+_0x5da57f+')';return _0x592cc7(0x174)+_0x5da57f+')';}let confirmResolver=null;function showCustomConfirm(_0x417e44,_0x26abb1,_0x2d375a=!![]){const _0x51617d=a3_0x342984;document['getElementById']('ccTitle')[_0x51617d(0xf7)]=_0x417e44,document['getElementById'](_0x51617d(0x1a9))['textContent']=_0x26abb1;const _0x42bf28=document[_0x51617d(0x1ae)](_0x51617d(0x12d));return _0x2d375a?(_0x42bf28[_0x51617d(0xf8)][_0x51617d(0x19d)]=_0x51617d(0x1c9),_0x42bf28[_0x51617d(0xf8)][_0x51617d(0x11d)]=_0x51617d(0x132)):(_0x42bf28[_0x51617d(0xf8)]['color']=_0x51617d(0xfc),_0x42bf28[_0x51617d(0xf8)]['fontWeight']='600'),new Promise(_0x2bcc99=>{const _0x2a0024=_0x51617d;confirmResolver=_0x2bcc99,document[_0x2a0024(0x1ae)](_0x2a0024(0x197))[_0x2a0024(0x159)][_0x2a0024(0x18e)](_0x2a0024(0x1cb));});}function resolveCustomConfirm(_0x16cfc8){const _0x1dccbb=a3_0x342984;document[_0x1dccbb(0x1ae)](_0x1dccbb(0x197))['classList'][_0x1dccbb(0x119)](_0x1dccbb(0x1cb));if(confirmResolver)confirmResolver(_0x16cfc8);}async function tryCancelCurrentSession(){const _0x47f24a=a3_0x342984;if(!currentSession)return;const _0x5756c9=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x47f24a(0x11e),!![]);if(!_0x5756c9)return;const _0x5c6ef5=currentSession;closeAllSheets(),sessions=sessions[_0x47f24a(0x133)](_0xa93211=>_0xa93211['id']!==_0x5c6ef5['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x47f24a(0x156)]();try{const _0x54c618=window[_0x47f24a(0x164)]?.[_0x47f24a(0x11c)],_0x5be59f=await fetch(API_URL,{'method':'POST','body':JSON[_0x47f24a(0x1e2)]({'action':_0x47f24a(0x10b),'init_data':_0x54c618?.[_0x47f24a(0x142)]||'','coachId':_0x5c6ef5['coachId'],'dateStr':_0x5c6ef5['dateStr'],'sessionId':_0x5c6ef5['id']})});if(_0x5be59f['ok'])DataManager[_0x47f24a(0x172)]();}catch(_0x17681a){showToast(_0x47f24a(0x1bc));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2ae47e=a3_0x342984;if(!currentSession)return;document[_0x2ae47e(0x1ae)](_0x2ae47e(0x13b))[_0x2ae47e(0x159)][_0x2ae47e(0x119)](_0x2ae47e(0x1f1)),document[_0x2ae47e(0x1ae)]('rescheduleSheet')[_0x2ae47e(0x159)][_0x2ae47e(0x18e)]('open');const _0x4e142d=document[_0x2ae47e(0x1ae)](_0x2ae47e(0x1a7)),_0x2ac551=document['getElementById'](_0x2ae47e(0x17f));_0x4e142d[_0x2ae47e(0x17d)]='',_0x2ac551[_0x2ae47e(0x17d)]=_0x2ae47e(0x108);const [_0x57a1ee,_0x5e31a5]=currentSession[_0x2ae47e(0x152)][_0x2ae47e(0x1b5)](':')['map'](Number),[_0x9dd269,_0x4abd01]=currentSession[_0x2ae47e(0x1c4)]['split'](':')['map'](Number),_0xc14d5c=_0x9dd269*0x3c+_0x4abd01-(_0x57a1ee*0x3c+_0x5e31a5);try{const _0xaf97fd=window['Telegram']?.[_0x2ae47e(0x11c)],_0x26062d=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2ae47e(0x114),'coachId':currentSession[_0x2ae47e(0x1df)],'duration':_0xc14d5c,'init_data':_0xaf97fd?.[_0x2ae47e(0x142)]||'','excludeSessionId':currentSession['id']})}),_0x31e6bc=await _0x26062d[_0x2ae47e(0x130)]();_0x31e6bc['ok']&&_0x31e6bc['data']?(availableSlotsCache=_0x31e6bc[_0x2ae47e(0x1de)],renderRescheduleDates()):_0x2ac551['innerHTML']=_0x2ae47e(0x116);}catch(_0x17650b){_0x2ac551[_0x2ae47e(0x17d)]=_0x2ae47e(0x1e9);}}function renderRescheduleDates(){const _0x111ab5=a3_0x342984,_0x4ab6b6=document['getElementById']('rsDatesTrack');_0x4ab6b6[_0x111ab5(0x17d)]='';const _0x48db08=Object[_0x111ab5(0x15f)](availableSlotsCache)[_0x111ab5(0x1e4)](),_0x47087a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x48db08['length']===0x0){document[_0x111ab5(0x1ae)](_0x111ab5(0x17f))[_0x111ab5(0x17d)]=_0x111ab5(0x181);return;}_0x48db08[_0x111ab5(0xfa)]((_0x4341c9,_0x2e1d27)=>{const _0x33a33f=_0x111ab5,_0x166d5a=new Date(_0x4341c9),_0x3de440=_0x47087a[_0x166d5a['getDay']()],_0x563936=_0x166d5a['getDate'](),_0x4e15e3=document['createElement'](_0x33a33f(0x15d));_0x4e15e3[_0x33a33f(0x136)]=_0x33a33f(0x138);if(_0x2e1d27===0x0)_0x4e15e3[_0x33a33f(0x159)]['add']('active');_0x4e15e3[_0x33a33f(0x17d)]=_0x33a33f(0x1ce)+_0x3de440+_0x33a33f(0x1c1)+_0x563936+_0x33a33f(0x126),_0x4e15e3[_0x33a33f(0x1a3)]=()=>selectRsDate(_0x4341c9,_0x4e15e3),_0x4ab6b6[_0x33a33f(0x1d8)](_0x4e15e3);}),selectRsDate(_0x48db08[0x0],_0x4ab6b6[_0x111ab5(0x1a2)]);}function selectRsDate(_0x1abe97,_0x17a2fc){const _0x1d7313=a3_0x342984;selectedRsDate=_0x1abe97,document[_0x1d7313(0x10e)]('.rs-date-chip')['forEach'](_0x4ee694=>_0x4ee694[_0x1d7313(0x159)][_0x1d7313(0x119)](_0x1d7313(0x155)));if(_0x17a2fc)_0x17a2fc[_0x1d7313(0x159)][_0x1d7313(0x18e)]('active');const _0xd8ac71=document[_0x1d7313(0x1ae)](_0x1d7313(0x17f));_0xd8ac71[_0x1d7313(0x17d)]='';const _0x4d9964=availableSlotsCache[_0x1abe97]||[];if(_0x4d9964[_0x1d7313(0x171)]===0x0){_0xd8ac71[_0x1d7313(0x17d)]=_0x1d7313(0x116);return;}_0x4d9964[_0x1d7313(0xfa)](_0x593161=>{const _0x2d288c=_0x1d7313,_0x27e1ab=document[_0x2d288c(0x139)](_0x2d288c(0x1bd));_0x27e1ab['className']='rs-time-btn',_0x27e1ab[_0x2d288c(0xf7)]=_0x593161,_0x27e1ab['onclick']=()=>confirmReschedule(_0x593161),_0xd8ac71[_0x2d288c(0x1d8)](_0x27e1ab);});}async function confirmReschedule(_0x1f1d3e){const _0x2280f1=a3_0x342984,_0x1b83b9=new Date(selectedRsDate),_0x523053=_0x1b83b9[_0x2280f1(0x111)](_0x2280f1(0x183),{'day':_0x2280f1(0xfb),'month':_0x2280f1(0x146)}),_0x58dad1=await showCustomConfirm(_0x2280f1(0x188),_0x2280f1(0x1b6)+_0x523053+_0x2280f1(0xf6)+_0x1f1d3e+'?',![]);if(!_0x58dad1)return;closeAllSheets(),showToast(_0x2280f1(0x189)),lastUserActionTime=Date[_0x2280f1(0x156)]();const _0xe131c3=currentSession['dateStr'],_0x874dbc=currentSession['id'],[_0x582e59,_0x53e813]=currentSession[_0x2280f1(0x152)][_0x2280f1(0x1b5)](':')[_0x2280f1(0x10a)](Number),[_0x45d979,_0x548f6b]=currentSession['end'][_0x2280f1(0x1b5)](':')[_0x2280f1(0x10a)](Number),_0x39032e=_0x45d979*0x3c+_0x548f6b-(_0x582e59*0x3c+_0x53e813),[_0x33747d,_0x1168aa]=_0x1f1d3e[_0x2280f1(0x1b5)](':')['map'](Number),_0xbd8a2a=_0x33747d*0x3c+_0x1168aa+_0x39032e,_0x349018=Math[_0x2280f1(0x104)](_0xbd8a2a/0x3c),_0x58d246=_0xbd8a2a%0x3c,_0x37628e=String(_0x349018)[_0x2280f1(0x117)](0x2,'0')+':'+String(_0x58d246)[_0x2280f1(0x117)](0x2,'0'),_0x52e9c0=sessions[_0x2280f1(0x120)](_0x19fa8e=>_0x19fa8e['id']===_0x874dbc);_0x52e9c0!==-0x1&&(sessions[_0x52e9c0][_0x2280f1(0x14c)]=selectedRsDate,sessions[_0x52e9c0][_0x2280f1(0x152)]=_0x1f1d3e,sessions[_0x52e9c0][_0x2280f1(0x1c4)]=_0x37628e,reRenderBlocks());try{const _0x541551=window['Telegram']?.[_0x2280f1(0x11c)],_0x30c414=await fetch(API_URL,{'method':_0x2280f1(0x1ef),'body':JSON[_0x2280f1(0x1e2)]({'action':_0x2280f1(0x19a),'init_data':_0x541551?.[_0x2280f1(0x142)]||'','oldSessionId':_0x874dbc,'oldDate':_0xe131c3,'newDate':selectedRsDate,'newTime':_0x1f1d3e,'coachId':currentSession[_0x2280f1(0x1df)]})}),_0x3ec23d=await _0x30c414[_0x2280f1(0x130)]();!_0x3ec23d['ok']?(showToast(_0x2280f1(0x150)),DataManager[_0x2280f1(0x10f)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2280f1(0x172)]());}catch(_0x5ac3c6){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x342984(0x1b8)]('DOMContentLoaded',init);