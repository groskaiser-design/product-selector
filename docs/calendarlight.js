const a3_0x1457ab=a3_0x3ec1;(function(_0x24ea2a,_0x182eca){const _0x4b4fad=a3_0x3ec1,_0x388e29=_0x24ea2a();while(!![]){try{const _0x3ac8fa=parseInt(_0x4b4fad(0x1b6))/0x1+-parseInt(_0x4b4fad(0x19c))/0x2+-parseInt(_0x4b4fad(0x1a4))/0x3+parseInt(_0x4b4fad(0x20e))/0x4+parseInt(_0x4b4fad(0x1fb))/0x5*(-parseInt(_0x4b4fad(0x14a))/0x6)+-parseInt(_0x4b4fad(0x1bd))/0x7+parseInt(_0x4b4fad(0x21a))/0x8;if(_0x3ac8fa===_0x182eca)break;else _0x388e29['push'](_0x388e29['shift']());}catch(_0x308c26){_0x388e29['push'](_0x388e29['shift']());}}}(a3_0x35d6,0xb6975));const APP_VERSION=a3_0x1457ab(0x1b1),API_URL=a3_0x1457ab(0x1dc),GRID_H=0x3c,KEY_SESSIONS=a3_0x1457ab(0x1c9),KEY_SETTINGS=a3_0x1457ab(0x21c),KEY_CLIENTS=a3_0x1457ab(0x1f1);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1457ab(0x20c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4775d2=a3_0x1457ab,_0x6a064a=(function(){let _0x5244b5=!![];return function(_0x351660,_0x207f91){const _0x2e2e62=_0x5244b5?function(){if(_0x207f91){const _0x3ad650=_0x207f91['apply'](_0x351660,arguments);return _0x207f91=null,_0x3ad650;}}:function(){};return _0x5244b5=![],_0x2e2e62;};}()),_0x2c7618=_0x6a064a(this,function(){const _0x4b95ef=a3_0x3ec1;return _0x2c7618[_0x4b95ef(0x175)]()[_0x4b95ef(0x156)](_0x4b95ef(0x231))[_0x4b95ef(0x175)]()[_0x4b95ef(0x22f)](_0x2c7618)[_0x4b95ef(0x156)]('(((.+)+)+)+$');});_0x2c7618();try{const _0x19aa9c=window['Telegram']?.[_0x4775d2(0x20a)];if(!_0x19aa9c)return;_0x19aa9c[_0x4775d2(0x1b0)](),_0x19aa9c[_0x4775d2(0x1c8)]();try{_0x19aa9c[_0x4775d2(0x16a)](_0x4775d2(0x20d)),_0x19aa9c['setBackgroundColor']&&_0x19aa9c[_0x4775d2(0x1bf)](_0x4775d2(0x20d));}catch(_0x5556fb){console[_0x4775d2(0x1d1)](_0x4775d2(0x184),_0x5556fb);}try{_0x19aa9c[_0x4775d2(0x1e9)]&&(_0x19aa9c[_0x4775d2(0x1e9)]['show'](),_0x19aa9c[_0x4775d2(0x1e9)][_0x4775d2(0x217)](),_0x19aa9c[_0x4775d2(0x1e9)][_0x4775d2(0x22a)](function(){const _0x5cc460=_0x4775d2;window['location'][_0x5cc460(0x227)]='router.html';}));}catch(_0x5662dd){console[_0x4775d2(0x1d1)](_0x4775d2(0x162),_0x5662dd);}try{if(_0x19aa9c[_0x4775d2(0x1b2)])_0x19aa9c['disableVerticalSwipes']();}catch(_0x289f78){}}catch(_0x4eb8b7){console[_0x4775d2(0x1cd)](_0x4775d2(0x197),_0x4eb8b7);}}());function isAdmin(){const _0x321826=a3_0x1457ab;try{const _0x4929f0=Number(window[_0x321826(0x176)]?.[_0x321826(0x20a)]?.[_0x321826(0x190)]?.[_0x321826(0x1a3)]?.['id']);return _0x4929f0===0xbaf7174;}catch(_0x473361){return![];}}const DataManager={'saveLocally'(){const _0x3535a1=a3_0x1457ab;try{localStorage[_0x3535a1(0x1f2)](KEY_SESSIONS,JSON[_0x3535a1(0x196)](sessions)),localStorage[_0x3535a1(0x1f2)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3535a1(0x1f2)](KEY_SETTINGS,JSON[_0x3535a1(0x196)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3f98d0){}},'loadLocal'(){const _0x50ee1e=a3_0x1457ab;try{const _0x51f211=localStorage[_0x50ee1e(0x1a5)](KEY_SESSIONS);if(_0x51f211)sessions=JSON[_0x50ee1e(0x229)](_0x51f211);const _0x215032=localStorage[_0x50ee1e(0x1a5)](KEY_CLIENTS);if(_0x215032)clients=JSON[_0x50ee1e(0x229)](_0x215032);const _0x23658f=localStorage[_0x50ee1e(0x1a5)](KEY_SETTINGS);if(_0x23658f){const _0x5694d0=JSON[_0x50ee1e(0x229)](_0x23658f);if(_0x5694d0['pattern'])availabilityPattern=_0x5694d0[_0x50ee1e(0x1c3)];if(_0x5694d0[_0x50ee1e(0x1c6)])specialRanges=_0x5694d0['ranges'];if(_0x5694d0[_0x50ee1e(0x222)])dateExceptions=_0x5694d0[_0x50ee1e(0x222)];}}catch(_0x20d65d){}},async 'syncLoad'(){const _0x4387dc=a3_0x1457ab,_0x22617d=new Date(),_0x172492=_0x22617d[_0x4387dc(0x210)]()+'-'+String(_0x22617d[_0x4387dc(0x233)]()+0x1)['padStart'](0x2,'0'),_0x21b3d1=new Date(_0x22617d);_0x21b3d1[_0x4387dc(0x183)](_0x22617d[_0x4387dc(0x233)]()+0x1);const _0x796bb0=_0x21b3d1['getFullYear']()+'-'+String(_0x21b3d1[_0x4387dc(0x233)]()+0x1)[_0x4387dc(0x230)](0x2,'0'),_0x5d11fe=Date[_0x4387dc(0x1f4)]();try{const _0x3f7073=window[_0x4387dc(0x176)]?.['WebApp'],_0x2f9926=_0x3f7073?.[_0x4387dc(0x144)]||'',[_0xc17c7a,_0x3d8d2c]=await Promise[_0x4387dc(0x213)]([fetch(API_URL,{'method':_0x4387dc(0x186),'body':JSON[_0x4387dc(0x196)]({'action':_0x4387dc(0x205),'init_data':_0x2f9926,'month_str':_0x172492})})[_0x4387dc(0x16d)](_0x8ef1ad=>_0x8ef1ad[_0x4387dc(0x179)]()),fetch(API_URL,{'method':_0x4387dc(0x186),'body':JSON[_0x4387dc(0x196)]({'action':_0x4387dc(0x205),'init_data':_0x2f9926,'month_str':_0x796bb0})})[_0x4387dc(0x16d)](_0x38223e=>_0x38223e[_0x4387dc(0x179)]())]);if(lastUserActionTime>_0x5d11fe){console['log'](_0x4387dc(0x143));return;}if(_0xc17c7a['ok'])this[_0x4387dc(0x1d2)](_0xc17c7a[_0x4387dc(0x1a6)],_0x172492);if(_0x3d8d2c['ok'])this[_0x4387dc(0x1d2)](_0x3d8d2c[_0x4387dc(0x1a6)],_0x796bb0);this['saveLocally']();}catch(_0x5e41c4){}},'applyData'(_0x257b89,_0x3dc08e){const _0x339599=a3_0x1457ab;if(!_0x257b89)return;if(_0x257b89[_0x339599(0x1ef)]){if(_0x257b89[_0x339599(0x1ef)][_0x339599(0x1c3)])availabilityPattern=_0x257b89[_0x339599(0x1ef)]['pattern'];if(_0x257b89[_0x339599(0x1ef)][_0x339599(0x1c6)])specialRanges=_0x257b89[_0x339599(0x1ef)][_0x339599(0x1c6)];if(_0x257b89[_0x339599(0x1ef)]['exceptions'])dateExceptions=_0x257b89[_0x339599(0x1ef)]['exceptions'];}if(_0x257b89[_0x339599(0x20f)]&&Array[_0x339599(0x1e6)](_0x257b89[_0x339599(0x20f)]))clients=_0x257b89[_0x339599(0x20f)];_0x257b89[_0x339599(0x221)]&&(coachProfiles={...coachProfiles,..._0x257b89[_0x339599(0x221)]}),_0x257b89[_0x339599(0x14b)]&&(sessions=sessions[_0x339599(0x194)](_0x4e3eac=>!_0x4e3eac[_0x339599(0x1fe)][_0x339599(0x148)](_0x3dc08e)),Object['keys'](_0x257b89[_0x339599(0x14b)])[_0x339599(0x1e8)](_0x25ab49=>{const _0x25d4fd=_0x339599,_0x20a699=_0x257b89[_0x25d4fd(0x14b)][_0x25ab49];_0x20a699[_0x25d4fd(0x1e8)](_0x42c16a=>{const _0x35677d=_0x25d4fd;sessions[_0x35677d(0x172)]({'id':_0x42c16a['i'],'clientId':_0x42c16a['c'],'coachId':_0x42c16a[_0x35677d(0x215)],'dateStr':_0x3dc08e+'-'+_0x25ab49['padStart'](0x2,'0'),'start':_0x42c16a['s'],'end':_0x42c16a['e'],'note':_0x42c16a['n']||'','status':_0x42c16a['st']||_0x35677d(0x224),'seriesId':_0x42c16a[_0x35677d(0x238)]});});})),reRenderBlocks();}};function init(){const _0x1e5dfe=a3_0x1457ab;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1e5dfe(0x200)](_0x1e5dfe(0x14c))[_0x1e5dfe(0x182)](_0x1e5dfe(0x1d9),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1e5dfe(0x1a0)]();}function renderTimeColumn(){const _0x56eee7=a3_0x1457ab,_0x5963de=document[_0x56eee7(0x200)](_0x56eee7(0x226)),_0x33a859=document[_0x56eee7(0x200)](_0x56eee7(0x216));_0x5963de['innerHTML']='',_0x5963de[_0x56eee7(0x1b8)](_0x33a859);for(let _0x43c75e=0x0;_0x43c75e<0x18;_0x43c75e++){const _0x55f14c=document[_0x56eee7(0x173)](_0x56eee7(0x1f5));_0x55f14c[_0x56eee7(0x19a)]=_0x56eee7(0x207);if(_0x43c75e>0x0)_0x55f14c[_0x56eee7(0x147)]=_0x56eee7(0x1a8)+String(_0x43c75e)[_0x56eee7(0x230)](0x2,'0')+':00</span>';_0x5963de[_0x56eee7(0x1b8)](_0x55f14c);}}function renderDayRange(_0x285dd4,_0x545871){const _0x24efa9=a3_0x1457ab,_0x19e7bd=document[_0x24efa9(0x200)]('daysHeaderTrack'),_0x26024b=document[_0x24efa9(0x200)](_0x24efa9(0x180)),_0x381048=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x50b9b7=new Date();_0x50b9b7[_0x24efa9(0x1db)](0x0,0x0,0x0,0x0);const _0x527e26=getLocalDateStr(new Date());for(let _0x2d5aae=_0x285dd4;_0x2d5aae<=_0x545871;_0x2d5aae++){const _0x3efa1f=new Date(_0x50b9b7);_0x3efa1f['setDate'](_0x3efa1f[_0x24efa9(0x151)]()+_0x2d5aae);const _0x4d1242=getLocalDateStr(_0x3efa1f);let _0x1a921a=_0x3efa1f['getDay']()-0x1;if(_0x1a921a===-0x1)_0x1a921a=0x6;const _0x53254d=_0x4d1242===_0x527e26,_0x3e7bf7=document[_0x24efa9(0x173)](_0x24efa9(0x1f5));_0x3e7bf7['className']=_0x24efa9(0x163)+(_0x53254d?_0x24efa9(0x206):''),_0x3e7bf7[_0x24efa9(0x1d6)](_0x24efa9(0x1e5),_0x4d1242),_0x3e7bf7[_0x24efa9(0x147)]=_0x24efa9(0x22e)+_0x381048[_0x1a921a]+'</div><div\x20class=\x22dch-num\x22>'+_0x3efa1f['getDate']()+_0x24efa9(0x18a),_0x19e7bd['appendChild'](_0x3e7bf7);const _0x35da88=document[_0x24efa9(0x173)](_0x24efa9(0x1f5));_0x35da88[_0x24efa9(0x19a)]=_0x24efa9(0x164)+(_0x53254d?_0x24efa9(0x206):''),_0x35da88[_0x24efa9(0x1d6)](_0x24efa9(0x1e5),_0x4d1242),_0x35da88[_0x24efa9(0x1d6)]('data-day-idx',_0x1a921a),_0x26024b['appendChild'](_0x35da88);}}function reRenderBlocks(){const _0x1a9954=a3_0x1457ab;document[_0x1a9954(0x223)]('.day-column')[_0x1a9954(0x1e8)](_0x2d392e=>{const _0x117462=_0x1a9954;_0x2d392e['querySelectorAll'](_0x117462(0x201))['forEach'](_0x13bb7c=>_0x13bb7c['remove']());const _0x583ae1=_0x2d392e[_0x117462(0x18b)](_0x117462(0x1e5)),_0x4c55b9=parseInt(_0x2d392e[_0x117462(0x18b)](_0x117462(0x1d0))),_0x4fbb09=Math[_0x117462(0x157)](_0x2d392e['offsetLeft']);(availabilityPattern[_0x4c55b9]||[])[_0x117462(0x1e8)](_0x3aa41a=>{const _0x538f91=_0x117462,_0xbd3ee7=document[_0x538f91(0x173)]('div');_0xbd3ee7[_0x538f91(0x19a)]='blocked-slot\x20stripe-bg',_0xbd3ee7[_0x538f91(0x18f)][_0x538f91(0x146)]=_0x3aa41a*GRID_H+'px',_0xbd3ee7[_0x538f91(0x18f)][_0x538f91(0x1cb)]='-'+_0x4fbb09+_0x538f91(0x14d)+_0x3aa41a*GRID_H+'px',_0x2d392e[_0x538f91(0x1b8)](_0xbd3ee7);});if(specialRanges['length']>0x0){const _0x40e602=new Date(_0x583ae1+'T00:00:00')[_0x117462(0x1f0)](),_0x21c4b9=new Date(_0x583ae1+_0x117462(0x14f))['getTime']();specialRanges[_0x117462(0x1e8)](_0x331354=>{const _0x20868c=_0x117462,_0x5c607e=new Date(_0x331354['start'])[_0x20868c(0x1f0)](),_0x4ef3a5=new Date(_0x331354[_0x20868c(0x178)])['getTime'](),_0x3c901f=Math['max'](_0x40e602,_0x5c607e),_0x1d235d=Math['min'](_0x21c4b9,_0x4ef3a5);if(_0x3c901f<_0x1d235d){const _0x4032cc=(_0x3c901f-_0x40e602)/0x36ee80*GRID_H,_0x36a822=(_0x1d235d-_0x3c901f)/0x36ee80*GRID_H,_0x44c8df=document[_0x20868c(0x173)](_0x20868c(0x1f5));_0x36a822>=23.5*GRID_H?(_0x44c8df[_0x20868c(0x19a)]='day-off-overlay\x20stripe-bg',_0x44c8df['style'][_0x20868c(0x1cb)]='-'+_0x4fbb09+_0x20868c(0x191)):(_0x44c8df[_0x20868c(0x19a)]='blocked-range-part\x20stripe-bg',_0x44c8df['style']['top']=_0x4032cc+'px',_0x44c8df[_0x20868c(0x18f)]['height']=_0x36a822+'px',_0x44c8df['style'][_0x20868c(0x1cb)]='-'+_0x4fbb09+_0x20868c(0x14d)+_0x4032cc+'px'),_0x2d392e['appendChild'](_0x44c8df);}});}renderEventsForColumn(_0x2d392e,_0x583ae1);});}function renderEventsForColumn(_0x24941a,_0x1c2e68){const _0x461389=a3_0x1457ab,_0x173117=sessions[_0x461389(0x194)](_0x362d7d=>_0x362d7d[_0x461389(0x1fe)]===_0x1c2e68),_0x3ed900=_0x173117[_0x461389(0x1b9)](_0x48499e=>{const _0x17ece1=_0x461389,[_0x28bad1,_0x52c191]=_0x48499e['start']['split'](':')[_0x17ece1(0x1b9)](Number),[_0x1cf84f,_0x5358f4]=_0x48499e[_0x17ece1(0x178)][_0x17ece1(0x19e)](':')['map'](Number);return{'data':_0x48499e,'start':_0x28bad1*0x3c+_0x52c191,'end':_0x1cf84f*0x3c+_0x5358f4,'colIndex':0x0};});_0x3ed900['sort']((_0xfe112b,_0x28c816)=>_0xfe112b['start']-_0x28c816['start']||_0x28c816[_0x461389(0x178)]-_0x28c816[_0x461389(0x1fc)]-(_0xfe112b[_0x461389(0x178)]-_0xfe112b[_0x461389(0x1fc)]));const _0x4b0d8d=[];_0x3ed900['forEach'](_0x5c6772=>{const _0x2112db=_0x461389;let _0xc58ad0=![];for(let _0x597c12=0x0;_0x597c12<_0x4b0d8d['length'];_0x597c12++){const _0x4f3ead=_0x4b0d8d[_0x597c12];if(_0x5c6772['start']>=_0x4f3ead[_0x4f3ead[_0x2112db(0x153)]-0x1][_0x2112db(0x178)]){_0x4f3ead['push'](_0x5c6772),_0x5c6772['colIndex']=_0x597c12,_0xc58ad0=!![];break;}}!_0xc58ad0&&(_0x4b0d8d[_0x2112db(0x172)]([_0x5c6772]),_0x5c6772[_0x2112db(0x1e0)]=_0x4b0d8d[_0x2112db(0x153)]-0x1);}),_0x3ed900[_0x461389(0x1e8)](_0x1ba152=>{const _0x436e2d=_0x461389;let _0x5ca3da=0x0;_0x3ed900[_0x436e2d(0x1e8)](_0x1e8f6d=>{const _0x2aef23=_0x436e2d;if(Math['max'](_0x1ba152[_0x2aef23(0x1fc)],_0x1e8f6d[_0x2aef23(0x1fc)])<Math[_0x2aef23(0x239)](_0x1ba152[_0x2aef23(0x178)],_0x1e8f6d['end'])&&_0x1e8f6d['colIndex']>_0x5ca3da)_0x5ca3da=_0x1e8f6d['colIndex'];});const _0x19b4ea=_0x5ca3da+0x1,_0x2a6c68=0x64/_0x19b4ea,_0x52bdc5=_0x1ba152[_0x436e2d(0x1e0)]*_0x2a6c68,_0x1af740=document[_0x436e2d(0x173)](_0x436e2d(0x1f5)),_0x460f2f=_0x1ba152['data'];let _0x385522=_0x436e2d(0x152);if(clients&&clients[_0x436e2d(0x153)]>0x0){const _0x11ef2b=clients[_0x436e2d(0x1fa)](_0x356f26=>String(_0x356f26['id'])===String(_0x460f2f[_0x436e2d(0x1c5)]));if(_0x11ef2b&&_0x11ef2b[_0x436e2d(0x202)])_0x385522=_0x11ef2b[_0x436e2d(0x202)];}const _0x2a0736=_0x460f2f[_0x436e2d(0x15c)]==='completed',_0x817a1e=_0x2a0736?0x1:0.45;_0x1af740[_0x436e2d(0x19a)]=_0x436e2d(0x154)+(_0x2a0736?_0x436e2d(0x192):''),_0x1af740[_0x436e2d(0x18f)]['backgroundColor']=hexToRgba(_0x385522,_0x817a1e),_0x1af740['style'][_0x436e2d(0x15f)]=_0x385522;const _0x2126fd=_0x1ba152[_0x436e2d(0x1fc)]/0x3c*GRID_H,_0x3c185f=(_0x1ba152[_0x436e2d(0x178)]-_0x1ba152['start'])/0x3c*GRID_H;_0x1af740[_0x436e2d(0x18f)][_0x436e2d(0x146)]=_0x2126fd+'px',_0x1af740['style'][_0x436e2d(0x1ff)]=Math[_0x436e2d(0x1d4)](_0x3c185f,0x14)+'px',_0x1af740[_0x436e2d(0x18f)][_0x436e2d(0x19b)]=_0x436e2d(0x13f)+_0x2a6c68+_0x436e2d(0x1b4),_0x1af740[_0x436e2d(0x18f)][_0x436e2d(0x166)]=_0x436e2d(0x13f)+_0x52bdc5+'%\x20+\x202px)',_0x1af740[_0x436e2d(0x18f)][_0x436e2d(0x149)]=0xa+_0x1ba152[_0x436e2d(0x1e0)];if(_0x2a6c68<0x55)_0x1af740[_0x436e2d(0x1af)][_0x436e2d(0x1f8)]('mini');let _0x5a027e='';if(_0x460f2f[_0x436e2d(0x21d)])_0x5a027e+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x2a0736)_0x5a027e+=_0x436e2d(0x15a);_0x1af740['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x460f2f[_0x436e2d(0x1fc)]+_0x436e2d(0x189)+_0x460f2f[_0x436e2d(0x178)]+_0x436e2d(0x1e3)+_0x5a027e+_0x436e2d(0x1cf),_0x1af740[_0x436e2d(0x1df)]=_0x15e5f2=>{const _0x312899=_0x436e2d;_0x15e5f2[_0x312899(0x16e)](),openDetails(_0x460f2f);},_0x24941a[_0x436e2d(0x1b8)](_0x1af740);});}function openAnalytics(){const _0xa449c6=a3_0x1457ab,_0x73d1c4=document[_0xa449c6(0x234)](_0xa449c6(0x1eb));setAnalyticsPeriod(_0xa449c6(0x20c),_0x73d1c4),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3f7673,_0x275588){const _0x3e1272=a3_0x1457ab;currentAnPeriod=_0x3f7673,document[_0x3e1272(0x223)](_0x3e1272(0x1eb))[_0x3e1272(0x1e8)](_0x1827e1=>_0x1827e1[_0x3e1272(0x1af)][_0x3e1272(0x225)](_0x3e1272(0x1d7)));if(_0x275588)_0x275588['classList'][_0x3e1272(0x1f8)](_0x3e1272(0x1d7));const _0xc2f144=document[_0x3e1272(0x200)]('anCustomDates');_0xc2f144['style']['display']=_0x3f7673===_0x3e1272(0x1c2)?_0x3e1272(0x1c4):_0x3e1272(0x212);const _0x558a37=new Date();let _0x4d68bc=new Date(),_0x3eeb86=new Date();if(_0x3f7673===_0x3e1272(0x20c))_0x4d68bc=getStartOfWeek(_0x558a37),_0x3eeb86=new Date(_0x4d68bc),_0x3eeb86[_0x3e1272(0x161)](_0x3eeb86[_0x3e1272(0x151)]()+0x6);else{if(_0x3f7673===_0x3e1272(0x185))_0x4d68bc=new Date(_0x558a37[_0x3e1272(0x210)](),_0x558a37[_0x3e1272(0x233)](),0x1),_0x3eeb86=new Date(_0x558a37['getFullYear'](),_0x558a37[_0x3e1272(0x233)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document['getElementById']('anStart')[_0x3e1272(0x1da)]=getLocalDateStr(_0x558a37),document[_0x3e1272(0x200)]('anEnd')[_0x3e1272(0x1da)]=getLocalDateStr(_0x558a37));refreshAnalytics();return;}}document[_0x3e1272(0x200)](_0x3e1272(0x199))[_0x3e1272(0x1da)]=getLocalDateStr(_0x4d68bc),document['getElementById'](_0x3e1272(0x1ec))['value']=getLocalDateStr(_0x3eeb86),refreshAnalytics();}function refreshAnalytics(){const _0x512729=a3_0x1457ab,_0x1d8a13=document[_0x512729(0x200)]('anStart')[_0x512729(0x1da)],_0x6c6c8a=document[_0x512729(0x200)](_0x512729(0x1ec))['value'];if(!_0x1d8a13||!_0x6c6c8a)return;const _0x52c7c1=sessions[_0x512729(0x194)](_0x3925e6=>_0x3925e6[_0x512729(0x1fe)]>=_0x1d8a13&&_0x3925e6[_0x512729(0x1fe)]<=_0x6c6c8a&&_0x3925e6[_0x512729(0x15c)]!==_0x512729(0x1e1)),_0x116cf7=_0x52c7c1[_0x512729(0x153)],_0x527dff=_0x52c7c1['filter'](_0x4af9bc=>_0x4af9bc[_0x512729(0x15c)]===_0x512729(0x165))['length'],_0x31005a=_0x116cf7>0x0?Math[_0x512729(0x157)](_0x527dff/_0x116cf7*0x64):0x0;document['getElementById']('anPercent')[_0x512729(0x159)]=_0x31005a+'%',document['getElementById'](_0x512729(0x170))[_0x512729(0x159)]=_0x527dff+_0x512729(0x181)+_0x116cf7+_0x512729(0x17c);const _0x44eecb=document[_0x512729(0x200)](_0x512729(0x15d)),_0x130a12=0x2*Math['PI']*0x23,_0x2af4b9=_0x130a12-_0x31005a/0x64*_0x130a12;_0x44eecb[_0x512729(0x18f)][_0x512729(0x1ea)]=_0x2af4b9;const _0xbaafa4={};_0x52c7c1['forEach'](_0xdc2077=>{const _0x504846=_0x512729,_0x5e574c=_0xdc2077[_0x504846(0x150)]||_0x504846(0x1ed);if(!_0xbaafa4[_0x5e574c]){const _0x489375='#'+_0x5e574c[_0x504846(0x175)]()[_0x504846(0x236)](0x0,0x6);_0xbaafa4[_0x5e574c]={'total':0x0,'done':0x0,'color':_0x489375};}_0xbaafa4[_0x5e574c][_0x504846(0x1e2)]++;if(_0xdc2077['status']===_0x504846(0x165))_0xbaafa4[_0x5e574c][_0x504846(0x1ca)]++;});const _0x1e97fd=document[_0x512729(0x200)](_0x512729(0x15b));_0x1e97fd[_0x512729(0x147)]='';const _0x35c454=Object[_0x512729(0x177)](_0xbaafa4)['sort']((_0x2e8bd1,_0x5fbc0b)=>_0x5fbc0b[0x1][_0x512729(0x1e2)]-_0x2e8bd1[0x1]['total']);if(_0x35c454['length']===0x0){_0x1e97fd[_0x512729(0x147)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x35c454[_0x512729(0x1e8)](([_0x58cf7f,_0x1560f6])=>{const _0x336208=_0x512729,_0x391777=Math['round'](_0x1560f6['done']/_0x1560f6[_0x336208(0x1e2)]*0x64),_0x4abddd=document[_0x336208(0x173)](_0x336208(0x1f5));_0x4abddd[_0x336208(0x19a)]=_0x336208(0x22d),_0x4abddd[_0x336208(0x18f)][_0x336208(0x15f)]=_0x1560f6[_0x336208(0x202)],_0x4abddd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x58cf7f[_0x336208(0x236)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1560f6[_0x336208(0x1ca)]+_0x336208(0x195)+_0x1560f6[_0x336208(0x1e2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x391777+_0x336208(0x1c1),_0x1e97fd[_0x336208(0x1b8)](_0x4abddd);});}function openDetails(_0x43c791){const _0x4593b1=a3_0x1457ab;currentSession=_0x43c791;const _0x2d651f=new Date(_0x43c791[_0x4593b1(0x1fe)]),_0x5cda6c=_0x2d651f[_0x4593b1(0x21f)](_0x4593b1(0x1f9),{'weekday':_0x4593b1(0x140),'day':_0x4593b1(0x21e),'month':_0x4593b1(0x140)});document[_0x4593b1(0x200)](_0x4593b1(0x209))['textContent']=_0x5cda6c[_0x4593b1(0x1d5)](0x0)['toUpperCase']()+_0x5cda6c[_0x4593b1(0x142)](0x1),document[_0x4593b1(0x200)](_0x4593b1(0x1d8))[_0x4593b1(0x159)]=_0x43c791[_0x4593b1(0x1fc)]+_0x4593b1(0x189)+_0x43c791[_0x4593b1(0x178)],document[_0x4593b1(0x200)](_0x4593b1(0x1d3))[_0x4593b1(0x159)]=_0x43c791[_0x4593b1(0x158)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x2502ee=document[_0x4593b1(0x200)]('detStatus'),_0xf1dbbf=document[_0x4593b1(0x200)](_0x4593b1(0x1aa)),_0x4e74b9=_0xf1dbbf['querySelector'](_0x4593b1(0x1a1)),_0x160bb5=_0xf1dbbf['querySelector']('.btn-reschedule'),_0x15f251=document['getElementById']('cancelHint');if(_0x43c791[_0x4593b1(0x15c)]===_0x4593b1(0x165))_0x2502ee[_0x4593b1(0x159)]=_0x4593b1(0x208),_0x2502ee[_0x4593b1(0x18f)]['color']=_0x4593b1(0x198),_0xf1dbbf[_0x4593b1(0x18f)]['display']=_0x4593b1(0x212);else{_0x2502ee[_0x4593b1(0x159)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x2502ee[_0x4593b1(0x18f)][_0x4593b1(0x202)]=_0x4593b1(0x1ab),_0xf1dbbf[_0x4593b1(0x18f)][_0x4593b1(0x188)]=_0x4593b1(0x1ba);const _0x5d8447=new Date(_0x43c791['dateStr']+'T'+_0x43c791['start']),_0x2d680c=new Date(),_0x3a3cac=(_0x5d8447-_0x2d680c)/(0x3e8*0x3c*0x3c),_0x37398c=coachProfiles[_0x43c791[_0x4593b1(0x150)]]&&coachProfiles[_0x43c791[_0x4593b1(0x150)]][_0x4593b1(0x16f)]?parseInt(coachProfiles[_0x43c791[_0x4593b1(0x150)]][_0x4593b1(0x16f)]):0x18;if(_0x37398c===0x0||_0x3a3cac>=_0x37398c)_0x4e74b9[_0x4593b1(0x18f)][_0x4593b1(0x188)]=_0x4593b1(0x1ba),_0x160bb5[_0x4593b1(0x18f)][_0x4593b1(0x188)]=_0x4593b1(0x1ba),_0x15f251['style'][_0x4593b1(0x188)]=_0x4593b1(0x212);else{_0x4e74b9[_0x4593b1(0x18f)][_0x4593b1(0x188)]=_0x4593b1(0x212),_0x160bb5[_0x4593b1(0x18f)][_0x4593b1(0x188)]=_0x4593b1(0x212),_0x15f251['style'][_0x4593b1(0x188)]='block';let _0x1a42d4=_0x37398c===0x0?_0x4593b1(0x1c0):_0x4593b1(0x193)+_0x37398c+'\x20—á.';_0x15f251[_0x4593b1(0x159)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x1a42d4+_0x4593b1(0x17d);}}document[_0x4593b1(0x200)](_0x4593b1(0x18d))[_0x4593b1(0x1af)][_0x4593b1(0x1f8)]('active'),document[_0x4593b1(0x200)](_0x4593b1(0x1f3))[_0x4593b1(0x1af)][_0x4593b1(0x1f8)](_0x4593b1(0x16b));}function closeAllSheets(){const _0x582803=a3_0x1457ab;document[_0x582803(0x200)]('overlay')[_0x582803(0x1af)][_0x582803(0x225)]('active'),document[_0x582803(0x223)](_0x582803(0x235))['forEach'](_0x24f68d=>_0x24f68d[_0x582803(0x1af)][_0x582803(0x225)]('open'));}function openSheet(_0x724636){const _0x1c8345=a3_0x1457ab;document[_0x1c8345(0x200)](_0x1c8345(0x18d))[_0x1c8345(0x1af)][_0x1c8345(0x1f8)](_0x1c8345(0x1d7)),document[_0x1c8345(0x200)](_0x724636)[_0x1c8345(0x1af)][_0x1c8345(0x1f8)](_0x1c8345(0x16b));}function getLocalDateStr(_0x3672ac){const _0x41f99c=a3_0x1457ab,_0x5a05d3=_0x3672ac[_0x41f99c(0x210)](),_0xf2a20b=String(_0x3672ac['getMonth']()+0x1)[_0x41f99c(0x230)](0x2,'0'),_0x5348f5=String(_0x3672ac[_0x41f99c(0x151)]())[_0x41f99c(0x230)](0x2,'0');return _0x5a05d3+'-'+_0xf2a20b+'-'+_0x5348f5;}function a3_0x3ec1(_0x464190,_0x24a8e1){_0x464190=_0x464190-0x13f;const _0x2b3ec7=a3_0x35d6();let _0x352c29=_0x2b3ec7[_0x464190];return _0x352c29;}function getStartOfWeek(_0xe8e8ef){const _0x2c531c=a3_0x1457ab,_0x3ee7c1=new Date(_0xe8e8ef),_0x4ca918=_0x3ee7c1['getDay'](),_0x5e5d07=_0x3ee7c1[_0x2c531c(0x151)]()-_0x4ca918+(_0x4ca918===0x0?-0x6:0x1);return _0x3ee7c1['setDate'](_0x5e5d07),_0x3ee7c1[_0x2c531c(0x1db)](0x0,0x0,0x0,0x0),_0x3ee7c1;}function scrollToToday(){const _0x3eac42=getLocalDateStr(new Date());setTimeout(()=>{const _0x191943=a3_0x3ec1,_0x117cbb=document[_0x191943(0x234)](_0x191943(0x174)+_0x3eac42+'\x22]');if(_0x117cbb){const _0x5b7b5b=document[_0x191943(0x200)](_0x191943(0x14c)),_0x59b06e=_0x117cbb[_0x191943(0x14e)]-_0x5b7b5b[_0x191943(0x237)]/0x2+_0x117cbb[_0x191943(0x18c)]/0x2;_0x5b7b5b[_0x191943(0x1de)]({'left':_0x59b06e,'behavior':_0x191943(0x17e)}),_0x5b7b5b[_0x191943(0x155)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x26b582=a3_0x1457ab,_0x8d8220=new Date(),_0x4d4054=document['getElementById'](_0x26b582(0x171)),_0x34acba=document['getElementById'](_0x26b582(0x216)),_0x50b0d6=(_0x8d8220[_0x26b582(0x17a)]()*0x3c+_0x8d8220[_0x26b582(0x1fd)]())/0x3c*GRID_H;_0x4d4054[_0x26b582(0x18f)][_0x26b582(0x146)]=_0x50b0d6+'px',_0x4d4054[_0x26b582(0x18f)]['display']=_0x26b582(0x1ba),_0x34acba[_0x26b582(0x18f)]['top']=_0x50b0d6+'px',_0x34acba[_0x26b582(0x18f)][_0x26b582(0x188)]=_0x26b582(0x1ba),_0x34acba['textContent']=String(_0x8d8220[_0x26b582(0x17a)]())[_0x26b582(0x230)](0x2,'0')+':'+String(_0x8d8220[_0x26b582(0x1fd)]())[_0x26b582(0x230)](0x2,'0');}function onScroll(){const _0x2f771c=a3_0x1457ab,_0x53d5cf=document[_0x2f771c(0x200)]('matrixViewport'),_0x429ee6=document['querySelectorAll']('.day-col-header');for(let _0x41aae4 of _0x429ee6)if(_0x41aae4[_0x2f771c(0x14e)]>=_0x53d5cf[_0x2f771c(0x228)]){const _0x3be948=new Date(_0x41aae4[_0x2f771c(0x18b)](_0x2f771c(0x1e5)));document[_0x2f771c(0x200)](_0x2f771c(0x22b))['textContent']=_0x3be948['toLocaleString']('ru',{'month':_0x2f771c(0x140)})[_0x2f771c(0x187)]()+'\x20'+_0x3be948[_0x2f771c(0x210)]();break;}}function showToast(_0x46f506){const _0x138cce=a3_0x1457ab,_0x3be555=document[_0x138cce(0x200)](_0x138cce(0x218));_0x3be555[_0x138cce(0x159)]=_0x46f506,_0x3be555['classList'][_0x138cce(0x1f8)](_0x138cce(0x1e4)),setTimeout(()=>_0x3be555[_0x138cce(0x1af)][_0x138cce(0x225)](_0x138cce(0x1e4)),0x7d0);}function handleInfiniteScroll(){const _0x3ece2d=a3_0x1457ab,_0x1f5c4d=document[_0x3ece2d(0x200)](_0x3ece2d(0x14c)),_0x1c30a0=_0x1f5c4d[_0x3ece2d(0x228)],_0xe12971=_0x1f5c4d[_0x3ece2d(0x169)],_0x592bb7=_0x1f5c4d['clientWidth'];if(_0xe12971-(_0x1c30a0+_0x592bb7)<0x12c){const _0x3bb2bf=endOffset;endOffset+=0xe,renderDayRange(_0x3bb2bf+0x1,endOffset),reRenderBlocks();}if(_0x1c30a0<0x12c){const _0x1ba1bd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1ba1bd-0x1),_0x1f5c4d[_0x3ece2d(0x228)]+=0xe*0x41,reRenderBlocks();}}function a3_0x35d6(){const _0x4b9c9f=['createElement','.day-col-header[data-date=\x22','toString','Telegram','entries','end','json','getHours','–û—Ç–º–µ–Ω–µ–Ω–æ','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','auto','rs-time-btn','gridColumns','\x20–∏–∑\x20','addEventListener','setMonth','Error\x20setting\x20color:','month','POST','toUpperCase','display','\x20-\x20','</div>','getAttribute','offsetWidth','overlay','get_slots','style','initDataUnsafe','px\x200px','\x20status-completed','–∑–∞\x20','filter','</span>\x20/\x20','stringify','Critical\x20TMA\x20Error:','var(--acc-green)','anStart','className','width','1644838nhhimq','#ff453a','split','reschedule','syncLoad','.btn-cancel','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','user','3685494WEvEtY','getItem','data','findIndex','<span>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cancelContainer','var(--acc-blue)','</div><div\x20class=\x22dch-num\x22>','floor','ccText','classList','ready','v9.5-CLIENT-ANALYTICS','disableVerticalSwipes','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','%\x20-\x204px)','join','494703qQEjkO','saveLocally','appendChild','map','block','600','DOMContentLoaded','5206579pYVLiw','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setBackgroundColor','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom','pattern','flex','clientId','ranges','rescheduleSheet','expand','uc_client_sessions','done','backgroundPosition','rs-date-chip','error','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-day-idx','log','applyData','detNote','max','charAt','setAttribute','active','detTime','scroll','value','setHours','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','fontWeight','scrollTo','onclick','colIndex','cancelled','total','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show','data-date','isArray','rgba(10,\x20132,\x20255,\x20','forEach','BackButton','strokeDashoffset','.period-switch\x20.p-btn','anEnd','Unknown','insertBefore','settings','getTime','uc_client_list','setItem','detailsSheet','now','div','test','visible','add','ru-RU','find','102475tzeVlk','start','getMinutes','dateStr','height','getElementById','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','color','button','createDocumentFragment','client_load','today','time-label','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','detDate','WebApp','customConfirm','week','#050505','4052540xIMRTv','clients','getFullYear','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','none','all','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','cid','timeLineBadge','offClick','toast','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','20705072nhXPWt','<div\x20class=\x22rs-day-name\x22>','uc_client_settings','seriesId','numeric','toLocaleDateString','ccTitle','coach_profiles','exceptions','querySelectorAll','planned','remove','timeColumn','href','scrollLeft','parse','onClick','headerMonth','</div><div\x20class=\x22rs-day-num\x22>','client-stat-card','<div\x20class=\x22dch-day\x22>','constructor','padStart','(((.+)+)+)+$','sort','getMonth','querySelector','.sheet','substr','clientWidth','sid','min','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','calc(','long','firstChild','slice','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','initData','rsSlotsGrid','top','innerHTML','startsWith','zIndex','162bIirnM','calendar','matrixViewport','px\x20-','offsetLeft','T23:59:59','coachId','getDate','#0a84ff','length','event-card','scrollTop','search','round','note','textContent','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','analyticsList','status','anDonutCircle','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','borderLeftColor','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','setDate','Error\x20setting\x20back\x20button:','day-col-header\x20','day-column\x20','completed','left','rgba(','rsDatesTrack','scrollWidth','setHeaderColor','open','substring','then','stopPropagation','cancel_window','anTotalStats','globalTimeLine','push'];a3_0x35d6=function(){return _0x4b9c9f;};return a3_0x35d6();}function prependDays(_0x4f180c,_0x47c8ef){const _0x49155a=a3_0x1457ab,_0x28d800=document[_0x49155a(0x200)]('daysHeaderTrack'),_0x12d27f=document['getElementById'](_0x49155a(0x180)),_0x16bafb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x28ffab=new Date();_0x28ffab['setHours'](0x0,0x0,0x0,0x0);const _0x5d6002=getLocalDateStr(new Date()),_0xd0e88c=document[_0x49155a(0x204)](),_0x1ca051=document['createDocumentFragment']();for(let _0x4004d1=_0x4f180c;_0x4004d1<=_0x47c8ef;_0x4004d1++){const _0x111117=new Date(_0x28ffab);_0x111117[_0x49155a(0x161)](_0x111117[_0x49155a(0x151)]()+_0x4004d1);const _0x3feff2=getLocalDateStr(_0x111117);let _0x5321ec=_0x111117['getDay']()-0x1;if(_0x5321ec===-0x1)_0x5321ec=0x6;const _0x5f2c69=_0x3feff2===_0x5d6002,_0x2ecdbc=document[_0x49155a(0x173)]('div');_0x2ecdbc[_0x49155a(0x19a)]=_0x49155a(0x163)+(_0x5f2c69?_0x49155a(0x206):''),_0x2ecdbc['setAttribute'](_0x49155a(0x1e5),_0x3feff2),_0x2ecdbc[_0x49155a(0x147)]=_0x49155a(0x22e)+_0x16bafb[_0x5321ec]+_0x49155a(0x1ac)+_0x111117[_0x49155a(0x151)]()+'</div>',_0xd0e88c[_0x49155a(0x1b8)](_0x2ecdbc);const _0x5a789d=document[_0x49155a(0x173)]('div');_0x5a789d[_0x49155a(0x19a)]=_0x49155a(0x164)+(_0x5f2c69?_0x49155a(0x206):''),_0x5a789d['setAttribute'](_0x49155a(0x1e5),_0x3feff2),_0x5a789d[_0x49155a(0x1d6)](_0x49155a(0x1d0),_0x5321ec),_0x1ca051[_0x49155a(0x1b8)](_0x5a789d);}_0x28d800[_0x49155a(0x1ee)](_0xd0e88c,_0x28d800[_0x49155a(0x141)]),_0x12d27f[_0x49155a(0x1ee)](_0x1ca051,_0x12d27f['querySelector']('.day-column'));}function hexToRgba(_0x5b6952,_0x6f176){const _0x1a02da=a3_0x1457ab;let _0x14f732;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1a02da(0x1f6)](_0x5b6952))return _0x14f732=_0x5b6952[_0x1a02da(0x16c)](0x1)[_0x1a02da(0x19e)](''),_0x14f732['length']==0x3&&(_0x14f732=[_0x14f732[0x0],_0x14f732[0x0],_0x14f732[0x1],_0x14f732[0x1],_0x14f732[0x2],_0x14f732[0x2]]),_0x14f732='0x'+_0x14f732['join'](''),_0x1a02da(0x167)+[_0x14f732>>0x10&0xff,_0x14f732>>0x8&0xff,_0x14f732&0xff][_0x1a02da(0x1b5)](',')+','+_0x6f176+')';return _0x1a02da(0x1e7)+_0x6f176+')';}let confirmResolver=null;function showCustomConfirm(_0xe2a31c,_0x1c043a,_0x5766e4=!![]){const _0x1351fe=a3_0x1457ab;document[_0x1351fe(0x200)](_0x1351fe(0x220))['textContent']=_0xe2a31c,document[_0x1351fe(0x200)](_0x1351fe(0x1ae))[_0x1351fe(0x159)]=_0x1c043a;const _0xa66eca=document[_0x1351fe(0x200)]('ccYesBtn');return _0x5766e4?(_0xa66eca['style'][_0x1351fe(0x202)]=_0x1351fe(0x19d),_0xa66eca['style']['fontWeight']=_0x1351fe(0x1bb)):(_0xa66eca['style']['color']=_0x1351fe(0x152),_0xa66eca['style'][_0x1351fe(0x1dd)]=_0x1351fe(0x1bb)),new Promise(_0x256d71=>{const _0xcbdcf2=_0x1351fe;confirmResolver=_0x256d71,document[_0xcbdcf2(0x200)](_0xcbdcf2(0x20b))[_0xcbdcf2(0x1af)][_0xcbdcf2(0x1f8)]('visible');});}function resolveCustomConfirm(_0xc67ddd){const _0x3b4154=a3_0x1457ab;document[_0x3b4154(0x200)]('customConfirm')[_0x3b4154(0x1af)][_0x3b4154(0x225)](_0x3b4154(0x1f7));if(confirmResolver)confirmResolver(_0xc67ddd);}async function tryCancelCurrentSession(){const _0x4bd9cc=a3_0x1457ab;if(!currentSession)return;const _0x306a43=await showCustomConfirm(_0x4bd9cc(0x1b3),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x306a43)return;const _0x37b995=currentSession;closeAllSheets(),sessions=sessions[_0x4bd9cc(0x194)](_0x3723ba=>_0x3723ba['id']!==_0x37b995['id']),reRenderBlocks(),showToast(_0x4bd9cc(0x17b)),lastUserActionTime=Date[_0x4bd9cc(0x1f4)]();try{const _0x35f0ba=window[_0x4bd9cc(0x176)]?.[_0x4bd9cc(0x20a)],_0x169387=await fetch(API_URL,{'method':_0x4bd9cc(0x186),'body':JSON[_0x4bd9cc(0x196)]({'action':'client_cancel','init_data':_0x35f0ba?.[_0x4bd9cc(0x144)]||'','coachId':_0x37b995[_0x4bd9cc(0x150)],'dateStr':_0x37b995[_0x4bd9cc(0x1fe)],'sessionId':_0x37b995['id']})});if(_0x169387['ok'])DataManager['saveLocally']();}catch(_0xa43433){showToast(_0x4bd9cc(0x1a9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x542484=a3_0x1457ab;if(!currentSession)return;document[_0x542484(0x200)](_0x542484(0x1f3))[_0x542484(0x1af)][_0x542484(0x225)](_0x542484(0x16b)),document['getElementById'](_0x542484(0x1c7))[_0x542484(0x1af)][_0x542484(0x1f8)](_0x542484(0x16b));const _0x41ee67=document[_0x542484(0x200)]('rsDatesTrack'),_0x9f2a79=document[_0x542484(0x200)]('rsSlotsGrid');_0x41ee67[_0x542484(0x147)]='',_0x9f2a79[_0x542484(0x147)]=_0x542484(0x23a);const [_0x46b1a8,_0x43ef8a]=currentSession[_0x542484(0x1fc)][_0x542484(0x19e)](':')[_0x542484(0x1b9)](Number),[_0x5e240c,_0x45d6e6]=currentSession[_0x542484(0x178)][_0x542484(0x19e)](':')[_0x542484(0x1b9)](Number),_0x12e99a=_0x5e240c*0x3c+_0x45d6e6-(_0x46b1a8*0x3c+_0x43ef8a);try{const _0x529308=window['Telegram']?.['WebApp'],_0xf33ee4=await fetch(API_URL,{'method':_0x542484(0x186),'body':JSON[_0x542484(0x196)]({'action':_0x542484(0x18e),'coachId':currentSession[_0x542484(0x150)],'duration':_0x12e99a,'init_data':_0x529308?.[_0x542484(0x144)]||'','excludeSessionId':currentSession['id']})}),_0x8a3b73=await _0xf33ee4[_0x542484(0x179)]();_0x8a3b73['ok']&&_0x8a3b73[_0x542484(0x1a6)]?(availableSlotsCache=_0x8a3b73[_0x542484(0x1a6)],renderRescheduleDates()):_0x9f2a79['innerHTML']=_0x542484(0x15e);}catch(_0x8151cd){_0x9f2a79[_0x542484(0x147)]=_0x542484(0x219);}}function renderRescheduleDates(){const _0x1c1383=a3_0x1457ab,_0x410742=document[_0x1c1383(0x200)](_0x1c1383(0x168));_0x410742['innerHTML']='';const _0x169b8e=Object['keys'](availableSlotsCache)[_0x1c1383(0x232)](),_0x22188f=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x169b8e[_0x1c1383(0x153)]===0x0){document[_0x1c1383(0x200)]('rsSlotsGrid')[_0x1c1383(0x147)]=_0x1c1383(0x1a2);return;}_0x169b8e[_0x1c1383(0x1e8)]((_0x4313cc,_0x5b1832)=>{const _0x9ada31=_0x1c1383,_0x2bd392=new Date(_0x4313cc),_0x25f8e9=_0x22188f[_0x2bd392['getDay']()],_0x32864d=_0x2bd392[_0x9ada31(0x151)](),_0x263471=document[_0x9ada31(0x173)](_0x9ada31(0x1f5));_0x263471[_0x9ada31(0x19a)]=_0x9ada31(0x1cc);if(_0x5b1832===0x0)_0x263471[_0x9ada31(0x1af)][_0x9ada31(0x1f8)]('active');_0x263471['innerHTML']=_0x9ada31(0x21b)+_0x25f8e9+_0x9ada31(0x22c)+_0x32864d+_0x9ada31(0x18a),_0x263471[_0x9ada31(0x1df)]=()=>selectRsDate(_0x4313cc,_0x263471),_0x410742['appendChild'](_0x263471);}),selectRsDate(_0x169b8e[0x0],_0x410742[_0x1c1383(0x141)]);}function selectRsDate(_0x177d4d,_0x34e76c){const _0xa85cc4=a3_0x1457ab;selectedRsDate=_0x177d4d,document[_0xa85cc4(0x223)]('.rs-date-chip')[_0xa85cc4(0x1e8)](_0x59a0eb=>_0x59a0eb[_0xa85cc4(0x1af)]['remove'](_0xa85cc4(0x1d7)));if(_0x34e76c)_0x34e76c[_0xa85cc4(0x1af)][_0xa85cc4(0x1f8)]('active');const _0x3ba77c=document[_0xa85cc4(0x200)](_0xa85cc4(0x145));_0x3ba77c[_0xa85cc4(0x147)]='';const _0x442ea2=availableSlotsCache[_0x177d4d]||[];if(_0x442ea2[_0xa85cc4(0x153)]===0x0){_0x3ba77c[_0xa85cc4(0x147)]=_0xa85cc4(0x15e);return;}_0x442ea2[_0xa85cc4(0x1e8)](_0x13216b=>{const _0x303edb=_0xa85cc4,_0xde7f9c=document['createElement'](_0x303edb(0x203));_0xde7f9c[_0x303edb(0x19a)]=_0x303edb(0x17f),_0xde7f9c[_0x303edb(0x159)]=_0x13216b,_0xde7f9c[_0x303edb(0x1df)]=()=>confirmReschedule(_0x13216b),_0x3ba77c[_0x303edb(0x1b8)](_0xde7f9c);});}async function confirmReschedule(_0x1ee98c){const _0x2beade=a3_0x1457ab,_0x503366=new Date(selectedRsDate),_0x38125f=_0x503366[_0x2beade(0x21f)](_0x2beade(0x1f9),{'day':_0x2beade(0x21e),'month':'long'}),_0x423842=await showCustomConfirm(_0x2beade(0x214),_0x2beade(0x160)+_0x38125f+'\x20–≤\x20'+_0x1ee98c+'?',![]);if(!_0x423842)return;closeAllSheets(),showToast(_0x2beade(0x211)),lastUserActionTime=Date[_0x2beade(0x1f4)]();const _0x449628=currentSession[_0x2beade(0x1fe)],_0x4dcb84=currentSession['id'],[_0x1dd315,_0x73b5cc]=currentSession['start'][_0x2beade(0x19e)](':')[_0x2beade(0x1b9)](Number),[_0x231807,_0x25c227]=currentSession[_0x2beade(0x178)][_0x2beade(0x19e)](':')[_0x2beade(0x1b9)](Number),_0x41ea2a=_0x231807*0x3c+_0x25c227-(_0x1dd315*0x3c+_0x73b5cc),[_0x36413e,_0x54fe7c]=_0x1ee98c[_0x2beade(0x19e)](':')[_0x2beade(0x1b9)](Number),_0x4ddc92=_0x36413e*0x3c+_0x54fe7c+_0x41ea2a,_0x4b1f91=Math[_0x2beade(0x1ad)](_0x4ddc92/0x3c),_0x3b5ed8=_0x4ddc92%0x3c,_0x3ca962=String(_0x4b1f91)['padStart'](0x2,'0')+':'+String(_0x3b5ed8)[_0x2beade(0x230)](0x2,'0'),_0x3d7fbf=sessions[_0x2beade(0x1a7)](_0x2c2be5=>_0x2c2be5['id']===_0x4dcb84);_0x3d7fbf!==-0x1&&(sessions[_0x3d7fbf]['dateStr']=selectedRsDate,sessions[_0x3d7fbf][_0x2beade(0x1fc)]=_0x1ee98c,sessions[_0x3d7fbf][_0x2beade(0x178)]=_0x3ca962,reRenderBlocks());try{const _0x151b5f=window[_0x2beade(0x176)]?.[_0x2beade(0x20a)],_0x39dcb5=await fetch(API_URL,{'method':_0x2beade(0x186),'body':JSON[_0x2beade(0x196)]({'action':_0x2beade(0x19f),'init_data':_0x151b5f?.['initData']||'','oldSessionId':_0x4dcb84,'oldDate':_0x449628,'newDate':selectedRsDate,'newTime':_0x1ee98c,'coachId':currentSession[_0x2beade(0x150)]})}),_0x53fe0c=await _0x39dcb5[_0x2beade(0x179)]();!_0x53fe0c['ok']?(showToast(_0x2beade(0x1be)),DataManager[_0x2beade(0x1a0)]()):(showToast(_0x2beade(0x1ce)),DataManager[_0x2beade(0x1b7)]());}catch(_0x5af5fa){showToast(_0x2beade(0x1a9));}}document[a3_0x1457ab(0x182)](a3_0x1457ab(0x1bc),init);