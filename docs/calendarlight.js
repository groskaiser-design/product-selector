const a3_0x1fd957=a3_0x1d82;(function(_0x5abb86,_0x3033a0){const _0x4ec018=a3_0x1d82,_0x5363d9=_0x5abb86();while(!![]){try{const _0x54fba4=parseInt(_0x4ec018(0x243))/0x1*(-parseInt(_0x4ec018(0x1ab))/0x2)+-parseInt(_0x4ec018(0x162))/0x3*(-parseInt(_0x4ec018(0x231))/0x4)+parseInt(_0x4ec018(0x1f5))/0x5+parseInt(_0x4ec018(0x1bd))/0x6*(-parseInt(_0x4ec018(0x1a0))/0x7)+-parseInt(_0x4ec018(0x208))/0x8+parseInt(_0x4ec018(0x1da))/0x9+parseInt(_0x4ec018(0x1e3))/0xa;if(_0x54fba4===_0x3033a0)break;else _0x5363d9['push'](_0x5363d9['shift']());}catch(_0x20fd35){_0x5363d9['push'](_0x5363d9['shift']());}}}(a3_0x3eeb,0x66519));const APP_VERSION=a3_0x1fd957(0x18c),API_URL=a3_0x1fd957(0x165),GRID_H=0x3c,KEY_SESSIONS=a3_0x1fd957(0x22d),KEY_SETTINGS=a3_0x1fd957(0x1b1),KEY_CLIENTS=a3_0x1fd957(0x168);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1fd957(0x1d6),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x561e29=a3_0x1fd957,_0x176760=(function(){let _0x3b9cad=!![];return function(_0x24ce8d,_0x56d8fc){const _0x4b53c9=_0x3b9cad?function(){const _0x256d73=a3_0x1d82;if(_0x56d8fc){const _0x362a41=_0x56d8fc[_0x256d73(0x178)](_0x24ce8d,arguments);return _0x56d8fc=null,_0x362a41;}}:function(){};return _0x3b9cad=![],_0x4b53c9;};}()),_0x43cc80=_0x176760(this,function(){const _0x40b640=a3_0x1d82;return _0x43cc80[_0x40b640(0x164)]()[_0x40b640(0x1c0)](_0x40b640(0x241))['toString']()[_0x40b640(0x238)](_0x43cc80)['search'](_0x40b640(0x241));});_0x43cc80();try{const _0x5e69ee=window[_0x561e29(0x194)]?.[_0x561e29(0x19e)];if(!_0x5e69ee)return;_0x5e69ee[_0x561e29(0x1ff)](),_0x5e69ee['expand']();try{_0x5e69ee[_0x561e29(0x1fb)]('#050505'),_0x5e69ee['setBackgroundColor']&&_0x5e69ee[_0x561e29(0x21a)](_0x561e29(0x1c2));}catch(_0x515467){console[_0x561e29(0x1c6)](_0x561e29(0x1b9),_0x515467);}try{_0x5e69ee[_0x561e29(0x22b)]&&(_0x5e69ee['BackButton'][_0x561e29(0x1f2)](),_0x5e69ee[_0x561e29(0x22b)]['offClick'](),_0x5e69ee['BackButton']['onClick'](function(){const _0x597eef=_0x561e29;window[_0x597eef(0x233)][_0x597eef(0x1fc)]='router.html';}));}catch(_0x1a62ec){console[_0x561e29(0x1c6)](_0x561e29(0x1ca),_0x1a62ec);}try{if(_0x5e69ee[_0x561e29(0x15e)])_0x5e69ee[_0x561e29(0x15e)]();}catch(_0x1a7427){}}catch(_0x1f55b9){console[_0x561e29(0x23f)]('Critical\x20TMA\x20Error:',_0x1f55b9);}}());function isAdmin(){const _0x116a0c=a3_0x1fd957;try{const _0x58dd6a=Number(window[_0x116a0c(0x194)]?.[_0x116a0c(0x19e)]?.[_0x116a0c(0x199)]?.['user']?.['id']);return _0x58dd6a===0xbaf7174;}catch(_0x35cde6){return![];}}const DataManager={'saveLocally'(){const _0x1b1f67=a3_0x1fd957;try{localStorage[_0x1b1f67(0x228)](KEY_SESSIONS,JSON[_0x1b1f67(0x226)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x1b1f67(0x226)](clients)),localStorage[_0x1b1f67(0x228)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4e233e){}},'loadLocal'(){const _0x27833a=a3_0x1fd957;try{const _0x49caba=localStorage[_0x27833a(0x1ee)](KEY_SESSIONS);if(_0x49caba)sessions=JSON[_0x27833a(0x213)](_0x49caba);const _0x44864a=localStorage['getItem'](KEY_CLIENTS);if(_0x44864a)clients=JSON[_0x27833a(0x213)](_0x44864a);const _0xe65146=localStorage[_0x27833a(0x1ee)](KEY_SETTINGS);if(_0xe65146){const _0x43b886=JSON['parse'](_0xe65146);if(_0x43b886[_0x27833a(0x218)])availabilityPattern=_0x43b886[_0x27833a(0x218)];if(_0x43b886['ranges'])specialRanges=_0x43b886['ranges'];if(_0x43b886[_0x27833a(0x176)])dateExceptions=_0x43b886['exceptions'];}}catch(_0x133b48){}},async 'syncLoad'(){const _0x1ea447=a3_0x1fd957,_0x59b8ee=new Date(),_0x1c1fe8=_0x59b8ee[_0x1ea447(0x206)]()+'-'+String(_0x59b8ee[_0x1ea447(0x171)]()+0x1)['padStart'](0x2,'0'),_0x5d708b=new Date(_0x59b8ee);_0x5d708b[_0x1ea447(0x1d9)](_0x59b8ee['getMonth']()+0x1);const _0x5957d1=_0x5d708b['getFullYear']()+'-'+String(_0x5d708b[_0x1ea447(0x171)]()+0x1)[_0x1ea447(0x23e)](0x2,'0'),_0x104ed4=Date[_0x1ea447(0x173)]();try{const _0x41c973=window[_0x1ea447(0x194)]?.[_0x1ea447(0x19e)],_0x1da950=_0x41c973?.[_0x1ea447(0x1fe)]||'',[_0x5439b6,_0x4fb6ef]=await Promise[_0x1ea447(0x1a8)]([fetch(API_URL,{'method':'POST','body':JSON[_0x1ea447(0x226)]({'action':_0x1ea447(0x172),'init_data':_0x1da950,'month_str':_0x1c1fe8})})[_0x1ea447(0x1ef)](_0xdccae=>_0xdccae['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x1ea447(0x226)]({'action':_0x1ea447(0x172),'init_data':_0x1da950,'month_str':_0x5957d1})})[_0x1ea447(0x1ef)](_0x4de470=>_0x4de470[_0x1ea447(0x16e)]())]);if(lastUserActionTime>_0x104ed4){console[_0x1ea447(0x1c6)](_0x1ea447(0x1fd));return;}if(_0x5439b6['ok'])this[_0x1ea447(0x1b4)](_0x5439b6[_0x1ea447(0x1b3)],_0x1c1fe8);if(_0x4fb6ef['ok'])this['applyData'](_0x4fb6ef[_0x1ea447(0x1b3)],_0x5957d1);this['saveLocally']();}catch(_0x5adc9c){}},'applyData'(_0x5b5282,_0x5bd10a){const _0x532e7a=a3_0x1fd957;if(!_0x5b5282)return;if(_0x5b5282[_0x532e7a(0x227)]){if(_0x5b5282[_0x532e7a(0x227)]['pattern'])availabilityPattern=_0x5b5282['settings'][_0x532e7a(0x218)];if(_0x5b5282[_0x532e7a(0x227)]['ranges'])specialRanges=_0x5b5282['settings']['ranges'];if(_0x5b5282[_0x532e7a(0x227)]['exceptions'])dateExceptions=_0x5b5282['settings'][_0x532e7a(0x176)];}if(_0x5b5282[_0x532e7a(0x16c)]&&Array[_0x532e7a(0x15d)](_0x5b5282[_0x532e7a(0x16c)]))clients=_0x5b5282['clients'];_0x5b5282[_0x532e7a(0x16f)]&&(coachProfiles={...coachProfiles,..._0x5b5282['coach_profiles']}),_0x5b5282['calendar']&&(sessions=sessions[_0x532e7a(0x1c7)](_0xfdf45a=>!_0xfdf45a[_0x532e7a(0x15f)]['startsWith'](_0x5bd10a)),Object[_0x532e7a(0x203)](_0x5b5282[_0x532e7a(0x21d)])[_0x532e7a(0x237)](_0x46514b=>{const _0x4045eb=_0x532e7a,_0x44f4f2=_0x5b5282[_0x4045eb(0x21d)][_0x46514b];_0x44f4f2['forEach'](_0x478bc8=>{const _0x59ca43=_0x4045eb;sessions[_0x59ca43(0x234)]({'id':_0x478bc8['i'],'clientId':_0x478bc8['c'],'coachId':_0x478bc8[_0x59ca43(0x1ea)],'dateStr':_0x5bd10a+'-'+_0x46514b[_0x59ca43(0x23e)](0x2,'0'),'start':_0x478bc8['s'],'end':_0x478bc8['e'],'note':_0x478bc8['n']||'','status':_0x478bc8['st']||_0x59ca43(0x21f),'seriesId':_0x478bc8[_0x59ca43(0x1be)]});});})),reRenderBlocks();}};function init(){const _0x367e86=a3_0x1fd957;DataManager[_0x367e86(0x1eb)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x367e86(0x19d)](_0x367e86(0x182))[_0x367e86(0x1cf)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x491157=a3_0x1fd957,_0x27509a=document[_0x491157(0x19d)](_0x491157(0x191)),_0x2f1b5c=document[_0x491157(0x19d)](_0x491157(0x195));_0x27509a['innerHTML']='',_0x27509a['appendChild'](_0x2f1b5c);for(let _0xdc8ed2=0x0;_0xdc8ed2<0x18;_0xdc8ed2++){const _0x48e308=document[_0x491157(0x1de)](_0x491157(0x1b7));_0x48e308['className']=_0x491157(0x1a1);if(_0xdc8ed2>0x0)_0x48e308['innerHTML']=_0x491157(0x236)+String(_0xdc8ed2)[_0x491157(0x23e)](0x2,'0')+_0x491157(0x1ae);_0x27509a['appendChild'](_0x48e308);}}function renderDayRange(_0x2eefd4,_0x39e3b2){const _0x5953b6=a3_0x1fd957,_0x2f76ab=document[_0x5953b6(0x19d)]('daysHeaderTrack'),_0x4181c4=document[_0x5953b6(0x19d)]('gridColumns'),_0x169c52=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x477d64=new Date();_0x477d64['setHours'](0x0,0x0,0x0,0x0);const _0x458775=getLocalDateStr(new Date());for(let _0x2b8970=_0x2eefd4;_0x2b8970<=_0x39e3b2;_0x2b8970++){const _0x35ca82=new Date(_0x477d64);_0x35ca82[_0x5953b6(0x209)](_0x35ca82[_0x5953b6(0x159)]()+_0x2b8970);const _0x5ac1ce=getLocalDateStr(_0x35ca82);let _0x7d9c0f=_0x35ca82[_0x5953b6(0x179)]()-0x1;if(_0x7d9c0f===-0x1)_0x7d9c0f=0x6;const _0x523bad=_0x5ac1ce===_0x458775,_0x9f0c31=document[_0x5953b6(0x1de)]('div');_0x9f0c31[_0x5953b6(0x19c)]='day-col-header\x20'+(_0x523bad?'today':''),_0x9f0c31[_0x5953b6(0x1ac)](_0x5953b6(0x1dc),_0x5ac1ce),_0x9f0c31[_0x5953b6(0x190)]=_0x5953b6(0x1b2)+_0x169c52[_0x7d9c0f]+'</div><div\x20class=\x22dch-num\x22>'+_0x35ca82[_0x5953b6(0x159)]()+_0x5953b6(0x1b8),_0x2f76ab[_0x5953b6(0x1bc)](_0x9f0c31);const _0x227aa7=document[_0x5953b6(0x1de)](_0x5953b6(0x1b7));_0x227aa7[_0x5953b6(0x19c)]='day-column\x20'+(_0x523bad?'today':''),_0x227aa7[_0x5953b6(0x1ac)](_0x5953b6(0x1dc),_0x5ac1ce),_0x227aa7[_0x5953b6(0x1ac)](_0x5953b6(0x196),_0x7d9c0f),_0x4181c4['appendChild'](_0x227aa7);}}function reRenderBlocks(){const _0x43dd4a=a3_0x1fd957;document[_0x43dd4a(0x1f1)]('.day-column')['forEach'](_0x1ad8be=>{const _0x295344=_0x43dd4a;_0x1ad8be['querySelectorAll'](_0x295344(0x20f))[_0x295344(0x237)](_0x282aac=>_0x282aac['remove']());const _0x4b437d=_0x1ad8be[_0x295344(0x1ba)](_0x295344(0x1dc)),_0x5b5c6a=parseInt(_0x1ad8be['getAttribute'](_0x295344(0x196))),_0xacdd7b=Math[_0x295344(0x1d4)](_0x1ad8be[_0x295344(0x225)]);(availabilityPattern[_0x5b5c6a]||[])[_0x295344(0x237)](_0x16744d=>{const _0x1f069e=_0x295344,_0x5b5570=document[_0x1f069e(0x1de)](_0x1f069e(0x1b7));_0x5b5570[_0x1f069e(0x19c)]=_0x1f069e(0x15a),_0x5b5570[_0x1f069e(0x197)]['top']=_0x16744d*GRID_H+'px',_0x5b5570[_0x1f069e(0x197)][_0x1f069e(0x19a)]='-'+_0xacdd7b+_0x1f069e(0x1a9)+_0x16744d*GRID_H+'px',_0x1ad8be[_0x1f069e(0x1bc)](_0x5b5570);});if(specialRanges[_0x295344(0x1e1)]>0x0){const _0x4a7d7a=new Date(_0x4b437d+'T00:00:00')[_0x295344(0x248)](),_0x185eeb=new Date(_0x4b437d+'T23:59:59')[_0x295344(0x248)]();specialRanges[_0x295344(0x237)](_0x12a24b=>{const _0x1a12c6=_0x295344,_0x33297f=new Date(_0x12a24b['start'])[_0x1a12c6(0x248)](),_0x3149c1=new Date(_0x12a24b['end'])[_0x1a12c6(0x248)](),_0x5890e9=Math[_0x1a12c6(0x18a)](_0x4a7d7a,_0x33297f),_0x1cd80a=Math[_0x1a12c6(0x166)](_0x185eeb,_0x3149c1);if(_0x5890e9<_0x1cd80a){const _0x26ecfc=(_0x5890e9-_0x4a7d7a)/0x36ee80*GRID_H,_0x1beb5f=(_0x1cd80a-_0x5890e9)/0x36ee80*GRID_H,_0x2a6212=document[_0x1a12c6(0x1de)]('div');_0x1beb5f>=23.5*GRID_H?(_0x2a6212[_0x1a12c6(0x19c)]=_0x1a12c6(0x1d5),_0x2a6212['style'][_0x1a12c6(0x19a)]='-'+_0xacdd7b+_0x1a12c6(0x1cb)):(_0x2a6212['className']=_0x1a12c6(0x1b5),_0x2a6212[_0x1a12c6(0x197)][_0x1a12c6(0x1af)]=_0x26ecfc+'px',_0x2a6212[_0x1a12c6(0x197)][_0x1a12c6(0x17a)]=_0x1beb5f+'px',_0x2a6212[_0x1a12c6(0x197)][_0x1a12c6(0x19a)]='-'+_0xacdd7b+_0x1a12c6(0x1a9)+_0x26ecfc+'px'),_0x1ad8be[_0x1a12c6(0x1bc)](_0x2a6212);}});}renderEventsForColumn(_0x1ad8be,_0x4b437d);});}function a3_0x1d82(_0x49b592,_0x55c298){_0x49b592=_0x49b592-0x158;const _0x253589=a3_0x3eeb();let _0x3222b5=_0x253589[_0x49b592];return _0x3222b5;}function renderEventsForColumn(_0x2c9397,_0x502396){const _0x24eee9=a3_0x1fd957,_0x9c5530=sessions[_0x24eee9(0x1c7)](_0xd9d459=>_0xd9d459[_0x24eee9(0x15f)]===_0x502396),_0x4818c2=_0x9c5530[_0x24eee9(0x1f0)](_0x55fd25=>{const _0x824fb9=_0x24eee9,[_0x3f6a54,_0x4dee25]=_0x55fd25[_0x824fb9(0x1db)]['split'](':')[_0x824fb9(0x1f0)](Number),[_0x26afd6,_0x2e21de]=_0x55fd25['end']['split'](':')[_0x824fb9(0x1f0)](Number);return{'data':_0x55fd25,'start':_0x3f6a54*0x3c+_0x4dee25,'end':_0x26afd6*0x3c+_0x2e21de,'colIndex':0x0};});_0x4818c2['sort']((_0x571878,_0x3b863a)=>_0x571878[_0x24eee9(0x1db)]-_0x3b863a[_0x24eee9(0x1db)]||_0x3b863a[_0x24eee9(0x1ce)]-_0x3b863a[_0x24eee9(0x1db)]-(_0x571878[_0x24eee9(0x1ce)]-_0x571878[_0x24eee9(0x1db)]));const _0x1d7530=[];_0x4818c2['forEach'](_0x2ddadb=>{const _0xe1b919=_0x24eee9;let _0x213006=![];for(let _0x3038ba=0x0;_0x3038ba<_0x1d7530['length'];_0x3038ba++){const _0x495736=_0x1d7530[_0x3038ba];if(_0x2ddadb[_0xe1b919(0x1db)]>=_0x495736[_0x495736['length']-0x1][_0xe1b919(0x1ce)]){_0x495736[_0xe1b919(0x234)](_0x2ddadb),_0x2ddadb[_0xe1b919(0x221)]=_0x3038ba,_0x213006=!![];break;}}!_0x213006&&(_0x1d7530[_0xe1b919(0x234)]([_0x2ddadb]),_0x2ddadb[_0xe1b919(0x221)]=_0x1d7530[_0xe1b919(0x1e1)]-0x1);}),_0x4818c2[_0x24eee9(0x237)](_0x27b598=>{const _0x366ec1=_0x24eee9;let _0x57fddd=0x0;_0x4818c2[_0x366ec1(0x237)](_0x1bcc10=>{const _0x22de11=_0x366ec1;if(Math['max'](_0x27b598[_0x22de11(0x1db)],_0x1bcc10['start'])<Math[_0x22de11(0x166)](_0x27b598[_0x22de11(0x1ce)],_0x1bcc10['end'])&&_0x1bcc10[_0x22de11(0x221)]>_0x57fddd)_0x57fddd=_0x1bcc10[_0x22de11(0x221)];});const _0x5e2716=_0x57fddd+0x1,_0x103d86=0x64/_0x5e2716,_0x4ef270=_0x27b598[_0x366ec1(0x221)]*_0x103d86,_0x134fb4=document['createElement'](_0x366ec1(0x1b7)),_0x19ff67=_0x27b598[_0x366ec1(0x1b3)];let _0x1f3b5b=_0x366ec1(0x180);if(clients&&clients['length']>0x0){const _0x448146=clients[_0x366ec1(0x1dd)](_0x58d095=>String(_0x58d095['id'])===String(_0x19ff67[_0x366ec1(0x19f)]));if(_0x448146&&_0x448146[_0x366ec1(0x222)])_0x1f3b5b=_0x448146[_0x366ec1(0x222)];}const _0x10a94f=_0x19ff67['status']==='completed',_0x323c16=_0x10a94f?0x1:0.45;_0x134fb4['className']=_0x366ec1(0x163)+(_0x10a94f?_0x366ec1(0x239):''),_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x232)]=hexToRgba(_0x1f3b5b,_0x323c16),_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x1ed)]=_0x1f3b5b;const _0x38e65d=_0x27b598['start']/0x3c*GRID_H,_0x4594a5=(_0x27b598[_0x366ec1(0x1ce)]-_0x27b598[_0x366ec1(0x1db)])/0x3c*GRID_H;_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x1af)]=_0x38e65d+'px',_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x17a)]=Math[_0x366ec1(0x18a)](_0x4594a5,0x14)+'px',_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x21b)]='calc('+_0x103d86+_0x366ec1(0x215),_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x1b0)]=_0x366ec1(0x1b6)+_0x4ef270+_0x366ec1(0x1fa),_0x134fb4[_0x366ec1(0x197)][_0x366ec1(0x229)]=0xa+_0x27b598['colIndex'];if(_0x103d86<0x55)_0x134fb4[_0x366ec1(0x22c)]['add'](_0x366ec1(0x1d1));let _0x338a7b='';if(_0x19ff67[_0x366ec1(0x224)])_0x338a7b+=_0x366ec1(0x185);if(_0x10a94f)_0x338a7b+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x134fb4['innerHTML']=_0x366ec1(0x1d3)+_0x19ff67[_0x366ec1(0x1db)]+_0x366ec1(0x1a7)+_0x19ff67[_0x366ec1(0x1ce)]+_0x366ec1(0x230)+_0x338a7b+_0x366ec1(0x17c),_0x134fb4[_0x366ec1(0x217)]=_0x47c48d=>{const _0x5099dc=_0x366ec1;_0x47c48d[_0x5099dc(0x1f8)](),openDetails(_0x19ff67);},_0x2c9397[_0x366ec1(0x1bc)](_0x134fb4);});}function openAnalytics(){const _0x20c9ed=a3_0x1fd957,_0x2240d6=document[_0x20c9ed(0x21e)](_0x20c9ed(0x242));setAnalyticsPeriod(_0x20c9ed(0x1d6),_0x2240d6),openSheet(_0x20c9ed(0x15c));}function setAnalyticsPeriod(_0x27e090,_0x401430){const _0x4acae0=a3_0x1fd957;currentAnPeriod=_0x27e090,document['querySelectorAll'](_0x4acae0(0x242))[_0x4acae0(0x237)](_0x209172=>_0x209172[_0x4acae0(0x22c)][_0x4acae0(0x187)]('active'));if(_0x401430)_0x401430['classList'][_0x4acae0(0x211)](_0x4acae0(0x23d));const _0xee20fc=document['getElementById'](_0x4acae0(0x201));_0xee20fc[_0x4acae0(0x197)]['display']=_0x27e090===_0x4acae0(0x18e)?_0x4acae0(0x20e):_0x4acae0(0x210);const _0x5d6448=new Date();let _0x433742=new Date(),_0x3a09c1=new Date();if(_0x27e090===_0x4acae0(0x1d6))_0x433742=getStartOfWeek(_0x5d6448),_0x3a09c1=new Date(_0x433742),_0x3a09c1[_0x4acae0(0x209)](_0x3a09c1[_0x4acae0(0x159)]()+0x6);else{if(_0x27e090===_0x4acae0(0x160))_0x433742=new Date(_0x5d6448[_0x4acae0(0x206)](),_0x5d6448[_0x4acae0(0x171)](),0x1),_0x3a09c1=new Date(_0x5d6448[_0x4acae0(0x206)](),_0x5d6448[_0x4acae0(0x171)]()+0x1,0x0);else{!document['getElementById'](_0x4acae0(0x205))[_0x4acae0(0x1bf)]&&(document[_0x4acae0(0x19d)](_0x4acae0(0x205))[_0x4acae0(0x1bf)]=getLocalDateStr(_0x5d6448),document['getElementById'](_0x4acae0(0x1e4))[_0x4acae0(0x1bf)]=getLocalDateStr(_0x5d6448));refreshAnalytics();return;}}document[_0x4acae0(0x19d)](_0x4acae0(0x205))[_0x4acae0(0x1bf)]=getLocalDateStr(_0x433742),document[_0x4acae0(0x19d)](_0x4acae0(0x1e4))[_0x4acae0(0x1bf)]=getLocalDateStr(_0x3a09c1),refreshAnalytics();}function a3_0x3eeb(){const _0x4c1e75=['timeLineBadge','data-day-idx','style','toLocaleString','initDataUnsafe','backgroundPosition','display','className','getElementById','WebApp','clientId','5238030QcWpTy','time-label','toLocaleDateString','.btn-cancel','syncLoad','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','.sheet','\x20-\x20','all','px\x20-','rsDatesTrack','97982CmNxgM','setAttribute','var(--acc-green)',':00</span>','top','left','uc_client_settings','<div\x20class=\x22dch-day\x22>','data','applyData','blocked-range-part\x20stripe-bg','calc(','div','</div>','Error\x20setting\x20color:','getAttribute','getHours','appendChild','6afBJMI','sid','value','search','saveLocally','#050505','strokeDashoffset','anDonutCircle','.day-col-header[data-date=\x22','log','filter','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','rgba(10,\x20132,\x20255,\x20','Error\x20setting\x20back\x20button:','px\x200px','cancelContainer','daysHeaderTrack','end','addEventListener','\x20—á.','mini','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','round','day-off-overlay\x20stripe-bg','week','coachId','total','setMonth','7076277NHYUmS','start','data-date','find','createElement','block','note','length','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','7448580xkcOHQ','anEnd','scrollWidth','overlay','split','status','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','cid','loadLocal','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','borderLeftColor','getItem','then','map','querySelectorAll','show','numeric','insertBefore','3018015BqWpjT','today','setHours','stopPropagation','cancel_window','%\x20+\x202px)','setHeaderColor','href','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','initData','ready','.day-col-header','anCustomDates','detStatus','keys','toUpperCase','anStart','getFullYear','toast','4549856ZcdvAG','setDate','day-col-header\x20','createDocumentFragment','600','clientWidth','flex','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','none','add','DOMContentLoaded','parse','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','%\x20-\x204px)','get_slots','onclick','pattern','open','setBackgroundColor','width','headerMonth','calendar','querySelector','planned','\x20–∏–∑\x20','colIndex','color','scrollLeft','seriesId','offsetLeft','stringify','settings','setItem','zIndex','–û—Ç–º–µ–Ω–µ–Ω–æ','BackButton','classList','uc_client_sessions','rs-time-btn','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','52180AXolHC','backgroundColor','location','push','#ff453a','<span>','forEach','constructor','\x20status-completed','fontWeight','detailsSheet','long','active','padStart','error','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','(((.+)+)+)+$','.period-switch\x20.p-btn','10CofWAu','ccText','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','textContent','getTime','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getDate','blocked-slot\x20stripe-bg','sort','analyticsSheet','isArray','disableVerticalSwipes','dateStr','month','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','21SzvsnF','event-card','toString','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','min','ccYesBtn','uc_client_list','rescheduleSheet','rs-date-chip','getMinutes','clients','rsSlotsGrid','json','coach_profiles','auto','getMonth','client_load','now','substring','anPercent','exceptions','join','apply','getDay','height','completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22rs-day-num\x22>','day-column\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','#0a84ff','customConfirm','matrixViewport','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','visible','remove','–∑–∞\x20','POST','max','offsetWidth','v9.5-CLIENT-ANALYTICS','.day-column','custom','entries','innerHTML','timeColumn','firstChild','done','Telegram'];a3_0x3eeb=function(){return _0x4c1e75;};return a3_0x3eeb();}function refreshAnalytics(){const _0x2ed459=a3_0x1fd957,_0x28d67e=document[_0x2ed459(0x19d)](_0x2ed459(0x205))[_0x2ed459(0x1bf)],_0x3387a7=document[_0x2ed459(0x19d)](_0x2ed459(0x1e4))['value'];if(!_0x28d67e||!_0x3387a7)return;const _0x3fcf86=sessions[_0x2ed459(0x1c7)](_0x811a40=>_0x811a40['dateStr']>=_0x28d67e&&_0x811a40['dateStr']<=_0x3387a7&&_0x811a40['status']!=='cancelled'),_0x184516=_0x3fcf86[_0x2ed459(0x1e1)],_0x4e414f=_0x3fcf86[_0x2ed459(0x1c7)](_0x23d05a=>_0x23d05a[_0x2ed459(0x1e8)]===_0x2ed459(0x17b))[_0x2ed459(0x1e1)],_0xcfaa0c=_0x184516>0x0?Math['round'](_0x4e414f/_0x184516*0x64):0x0;document[_0x2ed459(0x19d)](_0x2ed459(0x175))['textContent']=_0xcfaa0c+'%',document[_0x2ed459(0x19d)]('anTotalStats')[_0x2ed459(0x247)]=_0x4e414f+_0x2ed459(0x220)+_0x184516+_0x2ed459(0x17f);const _0x20541c=document[_0x2ed459(0x19d)](_0x2ed459(0x1c4)),_0x12d57a=0x2*Math['PI']*0x23,_0x4adbd5=_0x12d57a-_0xcfaa0c/0x64*_0x12d57a;_0x20541c[_0x2ed459(0x197)][_0x2ed459(0x1c3)]=_0x4adbd5;const _0x2f0608={};_0x3fcf86[_0x2ed459(0x237)](_0x1fd6a0=>{const _0x519fa6=_0x2ed459,_0x37e32d=_0x1fd6a0[_0x519fa6(0x1d7)]||'Unknown';if(!_0x2f0608[_0x37e32d]){const _0x48347e='#'+_0x37e32d[_0x519fa6(0x164)]()['substr'](0x0,0x6);_0x2f0608[_0x37e32d]={'total':0x0,'done':0x0,'color':_0x48347e};}_0x2f0608[_0x37e32d][_0x519fa6(0x1d8)]++;if(_0x1fd6a0[_0x519fa6(0x1e8)]===_0x519fa6(0x17b))_0x2f0608[_0x37e32d][_0x519fa6(0x193)]++;});const _0x4a7968=document[_0x2ed459(0x19d)]('analyticsList');_0x4a7968[_0x2ed459(0x190)]='';const _0x263b5d=Object[_0x2ed459(0x18f)](_0x2f0608)[_0x2ed459(0x15b)]((_0x335180,_0x31f0c3)=>_0x31f0c3[0x1][_0x2ed459(0x1d8)]-_0x335180[0x1][_0x2ed459(0x1d8)]);if(_0x263b5d[_0x2ed459(0x1e1)]===0x0){_0x4a7968[_0x2ed459(0x190)]=_0x2ed459(0x1e9);return;}_0x263b5d['forEach'](([_0x37eb8d,_0x44082a])=>{const _0x91b418=_0x2ed459,_0x36f8d5=Math[_0x91b418(0x1d4)](_0x44082a[_0x91b418(0x193)]/_0x44082a['total']*0x64),_0x3d7ff2=document[_0x91b418(0x1de)](_0x91b418(0x1b7));_0x3d7ff2[_0x91b418(0x19c)]='client-stat-card',_0x3d7ff2[_0x91b418(0x197)][_0x91b418(0x1ed)]=_0x44082a[_0x91b418(0x222)],_0x3d7ff2[_0x91b418(0x190)]=_0x91b418(0x161)+_0x37eb8d['substr'](0x0,0x5)+_0x91b418(0x184)+_0x44082a[_0x91b418(0x193)]+'</span>\x20/\x20'+_0x44082a[_0x91b418(0x1d8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x36f8d5+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a7968[_0x91b418(0x1bc)](_0x3d7ff2);});}function openDetails(_0x2a3929){const _0x23e4bb=a3_0x1fd957;currentSession=_0x2a3929;const _0x1f66e2=new Date(_0x2a3929[_0x23e4bb(0x15f)]),_0x1b0429=_0x1f66e2['toLocaleDateString']('ru-RU',{'weekday':'long','day':_0x23e4bb(0x1f3),'month':'long'});document[_0x23e4bb(0x19d)]('detDate')['textContent']=_0x1b0429['charAt'](0x0)[_0x23e4bb(0x204)]()+_0x1b0429['slice'](0x1),document[_0x23e4bb(0x19d)]('detTime')['textContent']=_0x2a3929[_0x23e4bb(0x1db)]+_0x23e4bb(0x1a7)+_0x2a3929['end'],document[_0x23e4bb(0x19d)]('detNote')[_0x23e4bb(0x247)]=_0x2a3929[_0x23e4bb(0x1e0)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x4452fd=document[_0x23e4bb(0x19d)](_0x23e4bb(0x202)),_0xe96f90=document[_0x23e4bb(0x19d)](_0x23e4bb(0x1cc)),_0x3a31d7=_0xe96f90[_0x23e4bb(0x21e)](_0x23e4bb(0x1a3)),_0x422391=_0xe96f90['querySelector']('.btn-reschedule'),_0x1b338b=document[_0x23e4bb(0x19d)]('cancelHint');if(_0x2a3929[_0x23e4bb(0x1e8)]==='completed')_0x4452fd[_0x23e4bb(0x247)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x4452fd[_0x23e4bb(0x197)][_0x23e4bb(0x222)]=_0x23e4bb(0x1ad),_0xe96f90['style'][_0x23e4bb(0x19b)]=_0x23e4bb(0x210);else{_0x4452fd[_0x23e4bb(0x247)]=_0x23e4bb(0x1ec),_0x4452fd[_0x23e4bb(0x197)][_0x23e4bb(0x222)]='var(--acc-blue)',_0xe96f90[_0x23e4bb(0x197)]['display']=_0x23e4bb(0x1df);const _0x1d3f1f=new Date(_0x2a3929[_0x23e4bb(0x15f)]+'T'+_0x2a3929[_0x23e4bb(0x1db)]),_0x1c700c=new Date(),_0x28dee3=(_0x1d3f1f-_0x1c700c)/(0x3e8*0x3c*0x3c),_0xa2f67c=coachProfiles[_0x2a3929[_0x23e4bb(0x1d7)]]&&coachProfiles[_0x2a3929[_0x23e4bb(0x1d7)]][_0x23e4bb(0x1f9)]?parseInt(coachProfiles[_0x2a3929[_0x23e4bb(0x1d7)]][_0x23e4bb(0x1f9)]):0x18;if(_0xa2f67c===0x0||_0x28dee3>=_0xa2f67c)_0x3a31d7['style'][_0x23e4bb(0x19b)]=_0x23e4bb(0x1df),_0x422391[_0x23e4bb(0x197)][_0x23e4bb(0x19b)]=_0x23e4bb(0x1df),_0x1b338b['style'][_0x23e4bb(0x19b)]=_0x23e4bb(0x210);else{_0x3a31d7['style']['display']=_0x23e4bb(0x210),_0x422391[_0x23e4bb(0x197)]['display']=_0x23e4bb(0x210),_0x1b338b[_0x23e4bb(0x197)]['display']=_0x23e4bb(0x1df);let _0x37b2e4=_0xa2f67c===0x0?_0x23e4bb(0x183):_0x23e4bb(0x188)+_0xa2f67c+_0x23e4bb(0x1d0);_0x1b338b[_0x23e4bb(0x247)]=_0x23e4bb(0x1e2)+_0x37b2e4+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x23e4bb(0x19d)](_0x23e4bb(0x1e6))[_0x23e4bb(0x22c)]['add'](_0x23e4bb(0x23d)),document['getElementById']('detailsSheet')['classList'][_0x23e4bb(0x211)](_0x23e4bb(0x219));}function closeAllSheets(){const _0x364517=a3_0x1fd957;document[_0x364517(0x19d)](_0x364517(0x1e6))[_0x364517(0x22c)]['remove'](_0x364517(0x23d)),document[_0x364517(0x1f1)](_0x364517(0x1a6))[_0x364517(0x237)](_0x4a9938=>_0x4a9938['classList']['remove'](_0x364517(0x219)));}function openSheet(_0xf0d90d){const _0x214d03=a3_0x1fd957;document[_0x214d03(0x19d)](_0x214d03(0x1e6))[_0x214d03(0x22c)][_0x214d03(0x211)](_0x214d03(0x23d)),document[_0x214d03(0x19d)](_0xf0d90d)[_0x214d03(0x22c)][_0x214d03(0x211)](_0x214d03(0x219));}function getLocalDateStr(_0x506bf2){const _0x3c635a=a3_0x1fd957,_0x6a1fd3=_0x506bf2['getFullYear'](),_0x3c67bf=String(_0x506bf2[_0x3c635a(0x171)]()+0x1)[_0x3c635a(0x23e)](0x2,'0'),_0x32070b=String(_0x506bf2[_0x3c635a(0x159)]())['padStart'](0x2,'0');return _0x6a1fd3+'-'+_0x3c67bf+'-'+_0x32070b;}function getStartOfWeek(_0x3b774e){const _0x25b8c2=a3_0x1fd957,_0xfe66aa=new Date(_0x3b774e),_0x1980e4=_0xfe66aa[_0x25b8c2(0x179)](),_0x2448c7=_0xfe66aa[_0x25b8c2(0x159)]()-_0x1980e4+(_0x1980e4===0x0?-0x6:0x1);return _0xfe66aa[_0x25b8c2(0x209)](_0x2448c7),_0xfe66aa[_0x25b8c2(0x1f7)](0x0,0x0,0x0,0x0),_0xfe66aa;}function scrollToToday(){const _0x2f15c1=getLocalDateStr(new Date());setTimeout(()=>{const _0x1fe608=a3_0x1d82,_0x3171c8=document[_0x1fe608(0x21e)](_0x1fe608(0x1c5)+_0x2f15c1+'\x22]');if(_0x3171c8){const _0x55d1d2=document['getElementById'](_0x1fe608(0x182)),_0x225aa3=_0x3171c8['offsetLeft']-_0x55d1d2[_0x1fe608(0x20d)]/0x2+_0x3171c8[_0x1fe608(0x18b)]/0x2;_0x55d1d2['scrollTo']({'left':_0x225aa3,'behavior':_0x1fe608(0x170)}),_0x55d1d2['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4b45b8=a3_0x1fd957,_0x11f636=new Date(),_0x108cc0=document[_0x4b45b8(0x19d)]('globalTimeLine'),_0x5e5bdd=document[_0x4b45b8(0x19d)](_0x4b45b8(0x195)),_0x2e59cb=(_0x11f636[_0x4b45b8(0x1bb)]()*0x3c+_0x11f636[_0x4b45b8(0x16b)]())/0x3c*GRID_H;_0x108cc0['style'][_0x4b45b8(0x1af)]=_0x2e59cb+'px',_0x108cc0[_0x4b45b8(0x197)]['display']=_0x4b45b8(0x1df),_0x5e5bdd[_0x4b45b8(0x197)][_0x4b45b8(0x1af)]=_0x2e59cb+'px',_0x5e5bdd[_0x4b45b8(0x197)][_0x4b45b8(0x19b)]=_0x4b45b8(0x1df),_0x5e5bdd[_0x4b45b8(0x247)]=String(_0x11f636[_0x4b45b8(0x1bb)]())['padStart'](0x2,'0')+':'+String(_0x11f636['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0x31e6f4=a3_0x1fd957,_0x1634cb=document['getElementById']('matrixViewport'),_0x113380=document[_0x31e6f4(0x1f1)](_0x31e6f4(0x200));for(let _0x544c5b of _0x113380)if(_0x544c5b[_0x31e6f4(0x225)]>=_0x1634cb[_0x31e6f4(0x223)]){const _0x127dea=new Date(_0x544c5b[_0x31e6f4(0x1ba)](_0x31e6f4(0x1dc)));document['getElementById'](_0x31e6f4(0x21c))['textContent']=_0x127dea[_0x31e6f4(0x198)]('ru',{'month':_0x31e6f4(0x23c)})['toUpperCase']()+'\x20'+_0x127dea[_0x31e6f4(0x206)]();break;}}function showToast(_0x3040a3){const _0x4bf31f=a3_0x1fd957,_0x406d5a=document['getElementById'](_0x4bf31f(0x207));_0x406d5a[_0x4bf31f(0x247)]=_0x3040a3,_0x406d5a[_0x4bf31f(0x22c)][_0x4bf31f(0x211)]('show'),setTimeout(()=>_0x406d5a['classList']['remove'](_0x4bf31f(0x1f2)),0x7d0);}function handleInfiniteScroll(){const _0x1b716a=a3_0x1fd957,_0x5a9dc4=document[_0x1b716a(0x19d)]('matrixViewport'),_0x5d0933=_0x5a9dc4[_0x1b716a(0x223)],_0x3dda43=_0x5a9dc4[_0x1b716a(0x1e5)],_0x26e85c=_0x5a9dc4[_0x1b716a(0x20d)];if(_0x3dda43-(_0x5d0933+_0x26e85c)<0x12c){const _0x1cbf17=endOffset;endOffset+=0xe,renderDayRange(_0x1cbf17+0x1,endOffset),reRenderBlocks();}if(_0x5d0933<0x12c){const _0x2f98d7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2f98d7-0x1),_0x5a9dc4[_0x1b716a(0x223)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x19aa29,_0x300ad1){const _0x544cd2=a3_0x1fd957,_0x3fe2ba=document[_0x544cd2(0x19d)](_0x544cd2(0x1cd)),_0x9777f4=document['getElementById']('gridColumns'),_0x136462=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x195eff=new Date();_0x195eff[_0x544cd2(0x1f7)](0x0,0x0,0x0,0x0);const _0x23d385=getLocalDateStr(new Date()),_0x36519c=document[_0x544cd2(0x20b)](),_0x4b35b1=document[_0x544cd2(0x20b)]();for(let _0x431e8d=_0x19aa29;_0x431e8d<=_0x300ad1;_0x431e8d++){const _0x39848e=new Date(_0x195eff);_0x39848e[_0x544cd2(0x209)](_0x39848e[_0x544cd2(0x159)]()+_0x431e8d);const _0x4af055=getLocalDateStr(_0x39848e);let _0x52b853=_0x39848e[_0x544cd2(0x179)]()-0x1;if(_0x52b853===-0x1)_0x52b853=0x6;const _0x59bd93=_0x4af055===_0x23d385,_0xf6c90f=document[_0x544cd2(0x1de)]('div');_0xf6c90f[_0x544cd2(0x19c)]=_0x544cd2(0x20a)+(_0x59bd93?_0x544cd2(0x1f6):''),_0xf6c90f['setAttribute'](_0x544cd2(0x1dc),_0x4af055),_0xf6c90f[_0x544cd2(0x190)]=_0x544cd2(0x1b2)+_0x136462[_0x52b853]+'</div><div\x20class=\x22dch-num\x22>'+_0x39848e['getDate']()+_0x544cd2(0x1b8),_0x36519c[_0x544cd2(0x1bc)](_0xf6c90f);const _0x43be14=document['createElement'](_0x544cd2(0x1b7));_0x43be14[_0x544cd2(0x19c)]=_0x544cd2(0x17e)+(_0x59bd93?_0x544cd2(0x1f6):''),_0x43be14[_0x544cd2(0x1ac)](_0x544cd2(0x1dc),_0x4af055),_0x43be14['setAttribute']('data-day-idx',_0x52b853),_0x4b35b1['appendChild'](_0x43be14);}_0x3fe2ba['insertBefore'](_0x36519c,_0x3fe2ba[_0x544cd2(0x192)]),_0x9777f4[_0x544cd2(0x1f4)](_0x4b35b1,_0x9777f4[_0x544cd2(0x21e)](_0x544cd2(0x18d)));}function hexToRgba(_0x25b423,_0x7e6809){const _0x4fc9ea=a3_0x1fd957;let _0x54ecf5;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4fc9ea(0x1d2)](_0x25b423))return _0x54ecf5=_0x25b423[_0x4fc9ea(0x174)](0x1)[_0x4fc9ea(0x1e7)](''),_0x54ecf5[_0x4fc9ea(0x1e1)]==0x3&&(_0x54ecf5=[_0x54ecf5[0x0],_0x54ecf5[0x0],_0x54ecf5[0x1],_0x54ecf5[0x1],_0x54ecf5[0x2],_0x54ecf5[0x2]]),_0x54ecf5='0x'+_0x54ecf5[_0x4fc9ea(0x177)](''),'rgba('+[_0x54ecf5>>0x10&0xff,_0x54ecf5>>0x8&0xff,_0x54ecf5&0xff]['join'](',')+','+_0x7e6809+')';return _0x4fc9ea(0x1c9)+_0x7e6809+')';}let confirmResolver=null;function showCustomConfirm(_0x35b58b,_0x41c5f2,_0x5af5c9=!![]){const _0x39f923=a3_0x1fd957;document['getElementById']('ccTitle')[_0x39f923(0x247)]=_0x35b58b,document[_0x39f923(0x19d)](_0x39f923(0x244))['textContent']=_0x41c5f2;const _0x22e9f9=document[_0x39f923(0x19d)](_0x39f923(0x167));return _0x5af5c9?(_0x22e9f9[_0x39f923(0x197)][_0x39f923(0x222)]=_0x39f923(0x235),_0x22e9f9[_0x39f923(0x197)]['fontWeight']=_0x39f923(0x20c)):(_0x22e9f9[_0x39f923(0x197)][_0x39f923(0x222)]=_0x39f923(0x180),_0x22e9f9[_0x39f923(0x197)][_0x39f923(0x23a)]=_0x39f923(0x20c)),new Promise(_0x4e76ed=>{const _0x418287=_0x39f923;confirmResolver=_0x4e76ed,document[_0x418287(0x19d)]('customConfirm')[_0x418287(0x22c)][_0x418287(0x211)](_0x418287(0x186));});}function resolveCustomConfirm(_0x131b21){const _0xd87a83=a3_0x1fd957;document[_0xd87a83(0x19d)](_0xd87a83(0x181))[_0xd87a83(0x22c)][_0xd87a83(0x187)](_0xd87a83(0x186));if(confirmResolver)confirmResolver(_0x131b21);}async function tryCancelCurrentSession(){const _0x3347f7=a3_0x1fd957;if(!currentSession)return;const _0x2c82f4=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x3347f7(0x240),!![]);if(!_0x2c82f4)return;const _0x1dd42e=currentSession;closeAllSheets(),sessions=sessions[_0x3347f7(0x1c7)](_0x1bb42a=>_0x1bb42a['id']!==_0x1dd42e['id']),reRenderBlocks(),showToast(_0x3347f7(0x22a)),lastUserActionTime=Date[_0x3347f7(0x173)]();try{const _0x4f86c3=window['Telegram']?.[_0x3347f7(0x19e)],_0x3820ea=await fetch(API_URL,{'method':_0x3347f7(0x189),'body':JSON[_0x3347f7(0x226)]({'action':'client_cancel','init_data':_0x4f86c3?.[_0x3347f7(0x1fe)]||'','coachId':_0x1dd42e['coachId'],'dateStr':_0x1dd42e[_0x3347f7(0x15f)],'sessionId':_0x1dd42e['id']})});if(_0x3820ea['ok'])DataManager[_0x3347f7(0x1c1)]();}catch(_0x2a4761){showToast(_0x3347f7(0x245));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x25a2bb=a3_0x1fd957;if(!currentSession)return;document[_0x25a2bb(0x19d)](_0x25a2bb(0x23b))[_0x25a2bb(0x22c)]['remove'](_0x25a2bb(0x219)),document[_0x25a2bb(0x19d)](_0x25a2bb(0x169))['classList'][_0x25a2bb(0x211)](_0x25a2bb(0x219));const _0xcc4153=document[_0x25a2bb(0x19d)]('rsDatesTrack'),_0xab18a2=document[_0x25a2bb(0x19d)](_0x25a2bb(0x16d));_0xcc4153[_0x25a2bb(0x190)]='',_0xab18a2[_0x25a2bb(0x190)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x3078e4,_0x55c6ac]=currentSession['start'][_0x25a2bb(0x1e7)](':')[_0x25a2bb(0x1f0)](Number),[_0x3f4eb7,_0x1167f8]=currentSession[_0x25a2bb(0x1ce)][_0x25a2bb(0x1e7)](':')[_0x25a2bb(0x1f0)](Number),_0x5b7c51=_0x3f4eb7*0x3c+_0x1167f8-(_0x3078e4*0x3c+_0x55c6ac);try{const _0x561cba=window[_0x25a2bb(0x194)]?.[_0x25a2bb(0x19e)],_0x16dc74=await fetch(API_URL,{'method':'POST','body':JSON[_0x25a2bb(0x226)]({'action':_0x25a2bb(0x216),'coachId':currentSession[_0x25a2bb(0x1d7)],'duration':_0x5b7c51,'init_data':_0x561cba?.[_0x25a2bb(0x1fe)]||'','excludeSessionId':currentSession['id']})}),_0x306f90=await _0x16dc74[_0x25a2bb(0x16e)]();_0x306f90['ok']&&_0x306f90['data']?(availableSlotsCache=_0x306f90[_0x25a2bb(0x1b3)],renderRescheduleDates()):_0xab18a2[_0x25a2bb(0x190)]=_0x25a2bb(0x22f);}catch(_0x2f2ca9){_0xab18a2[_0x25a2bb(0x190)]=_0x25a2bb(0x1c8);}}function renderRescheduleDates(){const _0x3281fb=a3_0x1fd957,_0x883389=document['getElementById'](_0x3281fb(0x1aa));_0x883389[_0x3281fb(0x190)]='';const _0x46acb9=Object[_0x3281fb(0x203)](availableSlotsCache)[_0x3281fb(0x15b)](),_0x1961e6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x46acb9[_0x3281fb(0x1e1)]===0x0){document['getElementById'](_0x3281fb(0x16d))[_0x3281fb(0x190)]=_0x3281fb(0x158);return;}_0x46acb9[_0x3281fb(0x237)]((_0x27ecca,_0x2cc338)=>{const _0x9d1723=_0x3281fb,_0x1e78ba=new Date(_0x27ecca),_0x2e25b4=_0x1961e6[_0x1e78ba[_0x9d1723(0x179)]()],_0x523700=_0x1e78ba['getDate'](),_0x4a853f=document[_0x9d1723(0x1de)](_0x9d1723(0x1b7));_0x4a853f[_0x9d1723(0x19c)]=_0x9d1723(0x16a);if(_0x2cc338===0x0)_0x4a853f[_0x9d1723(0x22c)][_0x9d1723(0x211)]('active');_0x4a853f[_0x9d1723(0x190)]='<div\x20class=\x22rs-day-name\x22>'+_0x2e25b4+_0x9d1723(0x17d)+_0x523700+'</div>',_0x4a853f[_0x9d1723(0x217)]=()=>selectRsDate(_0x27ecca,_0x4a853f),_0x883389[_0x9d1723(0x1bc)](_0x4a853f);}),selectRsDate(_0x46acb9[0x0],_0x883389[_0x3281fb(0x192)]);}function selectRsDate(_0x37da30,_0x56105e){const _0x3e927a=a3_0x1fd957;selectedRsDate=_0x37da30,document['querySelectorAll']('.rs-date-chip')['forEach'](_0x1d72fb=>_0x1d72fb[_0x3e927a(0x22c)][_0x3e927a(0x187)](_0x3e927a(0x23d)));if(_0x56105e)_0x56105e[_0x3e927a(0x22c)][_0x3e927a(0x211)](_0x3e927a(0x23d));const _0x54d528=document['getElementById'](_0x3e927a(0x16d));_0x54d528[_0x3e927a(0x190)]='';const _0x3a7a41=availableSlotsCache[_0x37da30]||[];if(_0x3a7a41[_0x3e927a(0x1e1)]===0x0){_0x54d528['innerHTML']=_0x3e927a(0x22f);return;}_0x3a7a41[_0x3e927a(0x237)](_0xa18044=>{const _0x15e770=_0x3e927a,_0x3863da=document[_0x15e770(0x1de)]('button');_0x3863da[_0x15e770(0x19c)]=_0x15e770(0x22e),_0x3863da[_0x15e770(0x247)]=_0xa18044,_0x3863da[_0x15e770(0x217)]=()=>confirmReschedule(_0xa18044),_0x54d528['appendChild'](_0x3863da);});}async function confirmReschedule(_0x207205){const _0x7fb24b=a3_0x1fd957,_0x52626d=new Date(selectedRsDate),_0x419a46=_0x52626d[_0x7fb24b(0x1a2)]('ru-RU',{'day':_0x7fb24b(0x1f3),'month':'long'}),_0x3c661d=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x7fb24b(0x214)+_0x419a46+'\x20–≤\x20'+_0x207205+'?',![]);if(!_0x3c661d)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x7fb24b(0x173)]();const _0x5ebfc4=currentSession[_0x7fb24b(0x15f)],_0x95befd=currentSession['id'],[_0x31cfa1,_0x38843a]=currentSession['start'][_0x7fb24b(0x1e7)](':')['map'](Number),[_0x4e58a5,_0x5bb111]=currentSession[_0x7fb24b(0x1ce)]['split'](':')[_0x7fb24b(0x1f0)](Number),_0x5a7769=_0x4e58a5*0x3c+_0x5bb111-(_0x31cfa1*0x3c+_0x38843a),[_0x250308,_0xe7bdae]=_0x207205[_0x7fb24b(0x1e7)](':')['map'](Number),_0x7eed2f=_0x250308*0x3c+_0xe7bdae+_0x5a7769,_0x593d7c=Math['floor'](_0x7eed2f/0x3c),_0x334e80=_0x7eed2f%0x3c,_0x311cfa=String(_0x593d7c)['padStart'](0x2,'0')+':'+String(_0x334e80)[_0x7fb24b(0x23e)](0x2,'0'),_0x398fc1=sessions['findIndex'](_0xd1cca2=>_0xd1cca2['id']===_0x95befd);_0x398fc1!==-0x1&&(sessions[_0x398fc1][_0x7fb24b(0x15f)]=selectedRsDate,sessions[_0x398fc1][_0x7fb24b(0x1db)]=_0x207205,sessions[_0x398fc1][_0x7fb24b(0x1ce)]=_0x311cfa,reRenderBlocks());try{const _0x4e83e8=window[_0x7fb24b(0x194)]?.[_0x7fb24b(0x19e)],_0x3afd00=await fetch(API_URL,{'method':_0x7fb24b(0x189),'body':JSON[_0x7fb24b(0x226)]({'action':'reschedule','init_data':_0x4e83e8?.[_0x7fb24b(0x1fe)]||'','oldSessionId':_0x95befd,'oldDate':_0x5ebfc4,'newDate':selectedRsDate,'newTime':_0x207205,'coachId':currentSession['coachId']})}),_0x514be5=await _0x3afd00[_0x7fb24b(0x16e)]();!_0x514be5['ok']?(showToast(_0x7fb24b(0x1a5)),DataManager[_0x7fb24b(0x1a4)]()):(showToast(_0x7fb24b(0x246)),DataManager[_0x7fb24b(0x1c1)]());}catch(_0x235682){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x1fd957(0x1cf)](a3_0x1fd957(0x212),init);