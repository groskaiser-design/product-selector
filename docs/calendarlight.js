const a3_0x703e15=a3_0x5a26;(function(_0x3f5916,_0x2993c2){const _0x425467=a3_0x5a26,_0x464a7b=_0x3f5916();while(!![]){try{const _0x3355bf=parseInt(_0x425467(0x207))/0x1+parseInt(_0x425467(0x26e))/0x2+parseInt(_0x425467(0x20e))/0x3*(parseInt(_0x425467(0x22c))/0x4)+parseInt(_0x425467(0x243))/0x5+-parseInt(_0x425467(0x24a))/0x6+-parseInt(_0x425467(0x231))/0x7+-parseInt(_0x425467(0x294))/0x8;if(_0x3355bf===_0x2993c2)break;else _0x464a7b['push'](_0x464a7b['shift']());}catch(_0x32d6ea){_0x464a7b['push'](_0x464a7b['shift']());}}}(a3_0x2ae2,0xdad6a));const APP_VERSION=a3_0x703e15(0x209),API_URL=a3_0x703e15(0x277),GRID_H=0x3c,KEY_SESSIONS=a3_0x703e15(0x215),KEY_SETTINGS=a3_0x703e15(0x297),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x703e15(0x21e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x215cc8=a3_0x703e15,_0x2df507=(function(){let _0x19dd46=!![];return function(_0xd00a7,_0x1d7391){const _0x28e60e=_0x19dd46?function(){if(_0x1d7391){const _0x3f50c0=_0x1d7391['apply'](_0xd00a7,arguments);return _0x1d7391=null,_0x3f50c0;}}:function(){};return _0x19dd46=![],_0x28e60e;};}()),_0x109d06=_0x2df507(this,function(){const _0x985ffc=a3_0x5a26;return _0x109d06[_0x985ffc(0x2b5)]()[_0x985ffc(0x241)](_0x985ffc(0x2b6))[_0x985ffc(0x2b5)]()[_0x985ffc(0x213)](_0x109d06)[_0x985ffc(0x241)](_0x985ffc(0x2b6));});_0x109d06();try{const _0x46064e=window[_0x215cc8(0x2ba)]?.[_0x215cc8(0x2c5)];if(!_0x46064e)return;_0x46064e['ready'](),_0x46064e[_0x215cc8(0x2ae)]();try{_0x46064e[_0x215cc8(0x26f)](_0x215cc8(0x223)),_0x46064e[_0x215cc8(0x25f)]&&_0x46064e[_0x215cc8(0x25f)](_0x215cc8(0x223));}catch(_0x2d63dc){console[_0x215cc8(0x2af)](_0x215cc8(0x254),_0x2d63dc);}try{_0x46064e['BackButton']&&(_0x46064e['BackButton'][_0x215cc8(0x1ec)](),_0x46064e[_0x215cc8(0x266)][_0x215cc8(0x21b)](),_0x46064e['BackButton']['onClick'](function(){const _0x3e324c=_0x215cc8;window[_0x3e324c(0x219)]['href']=_0x3e324c(0x281);}));}catch(_0x248d43){console['log']('Error\x20setting\x20back\x20button:',_0x248d43);}try{if(_0x46064e[_0x215cc8(0x265)])_0x46064e[_0x215cc8(0x265)]();}catch(_0x323319){}}catch(_0x3b300c){console['error'](_0x215cc8(0x271),_0x3b300c);}}());function a3_0x2ae2(){const _0x18c2ee=['all','customConfirm','event-card','setBackgroundColor','toUpperCase','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','reschedule','scrollLeft','start','disableVerticalSwipes','BackButton','insertBefore','cancel_window','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','dateStr','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','div','borderLeftColor','2709442OwXWBh','setHeaderColor','analyticsSheet','Critical\x20TMA\x20Error:','calc(','detStatus','active','setDate','getAttribute','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','</div><div\x20class=\x22dch-num\x22>','analyticsList','day-col-header\x20','textContent','display','querySelectorAll','ranges','visible','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','router.html','gridColumns','pattern','json','saveLocally','isArray','syncLoad','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','keys','value','querySelector','backgroundPosition','stopPropagation','end','rgba(','#0a84ff','innerHTML','blocked-range-part\x20stripe-bg','scrollWidth','12542888vwKWgZ','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','var(--acc-green)','uc_client_settings','clients','var(--acc-blue)','coachId','length','createDocumentFragment','daysHeaderTrack','matrixViewport','anEnd','parse','forEach','toast','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20status-completed','data-date','rescheduleSheet','anStart','client_load','numeric','long','colIndex','coach_profiles','scrollTop','expand','log','anCustomDates','getElementById','<span>','done','today','toString','(((.+)+)+)+$','rgba(10,\x20132,\x20255,\x20','offsetLeft','color','Telegram','classList','clientWidth','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','backgroundColor','rsSlotsGrid','max','getHours','month','WebApp','style','charAt','time-label','anPercent','entries','total','strokeDashoffset','seriesId','day-off-overlay\x20stripe-bg','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':00</span>','ccTitle','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','globalTimeLine','timeLineBadge','setAttribute','anDonutCircle','timeColumn','client-stat-card','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','filter','<div\x20class=\x22dch-day\x22>','className','data-day-idx','createElement','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','cid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getTime','show','cancelled','data','getMonth','addEventListener','day-column\x20','planned','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','slice','.day-col-header[data-date=\x22','firstChild','getDate','find','open','cancelHint','top','headerMonth','POST','\x20—á.','client_cancel','now','height','push','stringify','.day-column','onclick','Unknown','1062559hbjtdo','map','v9.5-CLIENT-ANALYTICS','auto','.period-switch\x20.p-btn','zIndex','.btn-cancel','285aQixEF','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–∑–∞\x20','substr','anTotalStats','constructor','.rs-date-chip','uc_client_sessions','completed','split','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','location','rs-time-btn','offClick','\x20-\x20','getItem','week','.day-col-header','sort','padStart','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','#050505','</div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','add','findIndex','px\x20-','remove','getFullYear','getDay','18692oUNbPi','floor','then','setHours','exceptions','10290224yzCILQ','overlay','startsWith','applyData','round','button','detNote','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','join','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','none','rsDatesTrack','flex','appendChild','T23:59:59','rs-date-chip','search','fontWeight','5687795IEgoxX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.btn-reschedule','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','getMinutes','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','blocked-slot\x20stripe-bg','387114huZfyV','block','initData','left','T00:00:00','calendar','detTime','status','DOMContentLoaded','scrollTo','Error\x20setting\x20color:','scroll','setItem','–û—Ç–º–µ–Ω–µ–Ω–æ','settings','min','ru-RU','note'];a3_0x2ae2=function(){return _0x18c2ee;};return a3_0x2ae2();}function isAdmin(){const _0x331ddf=a3_0x703e15;try{const _0x32d608=Number(window[_0x331ddf(0x2ba)]?.[_0x331ddf(0x2c5)]?.['initDataUnsafe']?.['user']?.['id']);return _0x32d608===0xbaf7174;}catch(_0x273f2f){return![];}}const DataManager={'saveLocally'(){const _0xd7b4be=a3_0x703e15;try{localStorage[_0xd7b4be(0x256)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0xd7b4be(0x256)](KEY_CLIENTS,JSON[_0xd7b4be(0x203)](clients)),localStorage[_0xd7b4be(0x256)](KEY_SETTINGS,JSON[_0xd7b4be(0x203)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xf3bd8b){}},'loadLocal'(){const _0x2d6206=a3_0x703e15;try{const _0x2a6eb9=localStorage['getItem'](KEY_SESSIONS);if(_0x2a6eb9)sessions=JSON[_0x2d6206(0x2a0)](_0x2a6eb9);const _0x4c6a65=localStorage[_0x2d6206(0x21d)](KEY_CLIENTS);if(_0x4c6a65)clients=JSON[_0x2d6206(0x2a0)](_0x4c6a65);const _0x2f79b3=localStorage['getItem'](KEY_SETTINGS);if(_0x2f79b3){const _0x535670=JSON[_0x2d6206(0x2a0)](_0x2f79b3);if(_0x535670[_0x2d6206(0x283)])availabilityPattern=_0x535670[_0x2d6206(0x283)];if(_0x535670[_0x2d6206(0x27e)])specialRanges=_0x535670[_0x2d6206(0x27e)];if(_0x535670[_0x2d6206(0x230)])dateExceptions=_0x535670[_0x2d6206(0x230)];}}catch(_0x3bc90a){}},async 'syncLoad'(){const _0x2a2dc1=a3_0x703e15,_0x4b90fa=new Date(),_0x1d6ed2=_0x4b90fa['getFullYear']()+'-'+String(_0x4b90fa[_0x2a2dc1(0x1ef)]()+0x1)[_0x2a2dc1(0x221)](0x2,'0'),_0x29bcaa=new Date(_0x4b90fa);_0x29bcaa['setMonth'](_0x4b90fa[_0x2a2dc1(0x1ef)]()+0x1);const _0x2341c5=_0x29bcaa[_0x2a2dc1(0x22a)]()+'-'+String(_0x29bcaa[_0x2a2dc1(0x1ef)]()+0x1)[_0x2a2dc1(0x221)](0x2,'0'),_0x16725a=Date[_0x2a2dc1(0x200)]();try{const _0x781924=window[_0x2a2dc1(0x2ba)]?.[_0x2a2dc1(0x2c5)],_0xa849f7=_0x781924?.[_0x2a2dc1(0x24c)]||'',[_0x4c06e1,_0xc032fb]=await Promise[_0x2a2dc1(0x25c)]([fetch(API_URL,{'method':_0x2a2dc1(0x1fd),'body':JSON[_0x2a2dc1(0x203)]({'action':_0x2a2dc1(0x2a8),'init_data':_0xa849f7,'month_str':_0x1d6ed2})})['then'](_0x3e89b4=>_0x3e89b4[_0x2a2dc1(0x284)]()),fetch(API_URL,{'method':_0x2a2dc1(0x1fd),'body':JSON['stringify']({'action':_0x2a2dc1(0x2a8),'init_data':_0xa849f7,'month_str':_0x2341c5})})[_0x2a2dc1(0x22e)](_0x350a01=>_0x350a01[_0x2a2dc1(0x284)]())]);if(lastUserActionTime>_0x16725a){console['log'](_0x2a2dc1(0x288));return;}if(_0x4c06e1['ok'])this['applyData'](_0x4c06e1[_0x2a2dc1(0x1ee)],_0x1d6ed2);if(_0xc032fb['ok'])this[_0x2a2dc1(0x234)](_0xc032fb[_0x2a2dc1(0x1ee)],_0x2341c5);this[_0x2a2dc1(0x285)]();}catch(_0x5a0ad4){}},'applyData'(_0x299da6,_0x16eb8c){const _0x4d0332=a3_0x703e15;if(!_0x299da6)return;if(_0x299da6['settings']){if(_0x299da6[_0x4d0332(0x258)]['pattern'])availabilityPattern=_0x299da6[_0x4d0332(0x258)]['pattern'];if(_0x299da6[_0x4d0332(0x258)][_0x4d0332(0x27e)])specialRanges=_0x299da6['settings']['ranges'];if(_0x299da6[_0x4d0332(0x258)][_0x4d0332(0x230)])dateExceptions=_0x299da6[_0x4d0332(0x258)][_0x4d0332(0x230)];}if(_0x299da6[_0x4d0332(0x298)]&&Array[_0x4d0332(0x286)](_0x299da6[_0x4d0332(0x298)]))clients=_0x299da6[_0x4d0332(0x298)];_0x299da6[_0x4d0332(0x2ac)]&&(coachProfiles={...coachProfiles,..._0x299da6[_0x4d0332(0x2ac)]}),_0x299da6[_0x4d0332(0x24f)]&&(sessions=sessions[_0x4d0332(0x2dc)](_0x135e31=>!_0x135e31[_0x4d0332(0x26a)][_0x4d0332(0x233)](_0x16eb8c)),Object[_0x4d0332(0x289)](_0x299da6['calendar'])[_0x4d0332(0x2a1)](_0x59eae1=>{const _0x4e50a9=_0x4d0332,_0x558f23=_0x299da6[_0x4e50a9(0x24f)][_0x59eae1];_0x558f23[_0x4e50a9(0x2a1)](_0x37f5ce=>{const _0x3a246e=_0x4e50a9;sessions[_0x3a246e(0x202)]({'id':_0x37f5ce['i'],'clientId':_0x37f5ce['c'],'coachId':_0x37f5ce[_0x3a246e(0x1e9)],'dateStr':_0x16eb8c+'-'+_0x59eae1[_0x3a246e(0x221)](0x2,'0'),'start':_0x37f5ce['s'],'end':_0x37f5ce['e'],'note':_0x37f5ce['n']||'','status':_0x37f5ce['st']||_0x3a246e(0x1f2),'seriesId':_0x37f5ce['sid']});});})),reRenderBlocks();}};function init(){const _0x41aea9=a3_0x703e15;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x41aea9(0x2b1)](_0x41aea9(0x29e))[_0x41aea9(0x1f0)](_0x41aea9(0x255),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x41aea9(0x287)]();}function renderTimeColumn(){const _0x572b69=a3_0x703e15,_0x2d508b=document[_0x572b69(0x2b1)](_0x572b69(0x2d9)),_0x893304=document[_0x572b69(0x2b1)]('timeLineBadge');_0x2d508b[_0x572b69(0x291)]='',_0x2d508b[_0x572b69(0x23e)](_0x893304);for(let _0x25af1d=0x0;_0x25af1d<0x18;_0x25af1d++){const _0x21eed7=document[_0x572b69(0x1e7)](_0x572b69(0x26c));_0x21eed7[_0x572b69(0x2de)]=_0x572b69(0x2c8);if(_0x25af1d>0x0)_0x21eed7[_0x572b69(0x291)]=_0x572b69(0x2b2)+String(_0x25af1d)[_0x572b69(0x221)](0x2,'0')+_0x572b69(0x2d2);_0x2d508b[_0x572b69(0x23e)](_0x21eed7);}}function renderDayRange(_0x459219,_0x265b41){const _0xe059f0=a3_0x703e15,_0x3d1953=document[_0xe059f0(0x2b1)]('daysHeaderTrack'),_0x320ed2=document[_0xe059f0(0x2b1)](_0xe059f0(0x282)),_0x2e562c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54f4a5=new Date();_0x54f4a5[_0xe059f0(0x22f)](0x0,0x0,0x0,0x0);const _0x4a4a81=getLocalDateStr(new Date());for(let _0x85312c=_0x459219;_0x85312c<=_0x265b41;_0x85312c++){const _0x1f2863=new Date(_0x54f4a5);_0x1f2863[_0xe059f0(0x275)](_0x1f2863[_0xe059f0(0x1f7)]()+_0x85312c);const _0x5d4d1c=getLocalDateStr(_0x1f2863);let _0x1a2514=_0x1f2863[_0xe059f0(0x22b)]()-0x1;if(_0x1a2514===-0x1)_0x1a2514=0x6;const _0x23ee36=_0x5d4d1c===_0x4a4a81,_0x30d4fa=document[_0xe059f0(0x1e7)](_0xe059f0(0x26c));_0x30d4fa[_0xe059f0(0x2de)]=_0xe059f0(0x27a)+(_0x23ee36?'today':''),_0x30d4fa['setAttribute'](_0xe059f0(0x2a5),_0x5d4d1c),_0x30d4fa[_0xe059f0(0x291)]='<div\x20class=\x22dch-day\x22>'+_0x2e562c[_0x1a2514]+'</div><div\x20class=\x22dch-num\x22>'+_0x1f2863[_0xe059f0(0x1f7)]()+_0xe059f0(0x224),_0x3d1953['appendChild'](_0x30d4fa);const _0x4e3f78=document[_0xe059f0(0x1e7)]('div');_0x4e3f78[_0xe059f0(0x2de)]=_0xe059f0(0x1f1)+(_0x23ee36?_0xe059f0(0x2b4):''),_0x4e3f78['setAttribute']('data-date',_0x5d4d1c),_0x4e3f78[_0xe059f0(0x2d7)](_0xe059f0(0x2df),_0x1a2514),_0x320ed2[_0xe059f0(0x23e)](_0x4e3f78);}}function reRenderBlocks(){const _0x43496d=a3_0x703e15;document[_0x43496d(0x27d)](_0x43496d(0x204))[_0x43496d(0x2a1)](_0x579065=>{const _0x802a8b=_0x43496d;_0x579065[_0x802a8b(0x27d)](_0x802a8b(0x280))['forEach'](_0x361c0a=>_0x361c0a[_0x802a8b(0x229)]());const _0x4cae89=_0x579065[_0x802a8b(0x276)]('data-date'),_0x26605a=parseInt(_0x579065[_0x802a8b(0x276)](_0x802a8b(0x2df))),_0x3708f1=Math[_0x802a8b(0x235)](_0x579065[_0x802a8b(0x2b8)]);(availabilityPattern[_0x26605a]||[])['forEach'](_0x432f7e=>{const _0x473e8a=_0x802a8b,_0x2bf66f=document[_0x473e8a(0x1e7)](_0x473e8a(0x26c));_0x2bf66f[_0x473e8a(0x2de)]=_0x473e8a(0x249),_0x2bf66f[_0x473e8a(0x2c6)][_0x473e8a(0x1fb)]=_0x432f7e*GRID_H+'px',_0x2bf66f[_0x473e8a(0x2c6)][_0x473e8a(0x28c)]='-'+_0x3708f1+'px\x20-'+_0x432f7e*GRID_H+'px',_0x579065[_0x473e8a(0x23e)](_0x2bf66f);});if(specialRanges['length']>0x0){const _0x3e42aa=new Date(_0x4cae89+_0x802a8b(0x24e))[_0x802a8b(0x1eb)](),_0x2ee85c=new Date(_0x4cae89+_0x802a8b(0x23f))[_0x802a8b(0x1eb)]();specialRanges[_0x802a8b(0x2a1)](_0x38f6bb=>{const _0x19d053=_0x802a8b,_0x51081a=new Date(_0x38f6bb[_0x19d053(0x264)])[_0x19d053(0x1eb)](),_0x1200bd=new Date(_0x38f6bb[_0x19d053(0x28e)])['getTime'](),_0x4a65cb=Math['max'](_0x3e42aa,_0x51081a),_0x31c45d=Math[_0x19d053(0x259)](_0x2ee85c,_0x1200bd);if(_0x4a65cb<_0x31c45d){const _0xbffbe1=(_0x4a65cb-_0x3e42aa)/0x36ee80*GRID_H,_0x2b9163=(_0x31c45d-_0x4a65cb)/0x36ee80*GRID_H,_0x2fc24e=document['createElement'](_0x19d053(0x26c));_0x2b9163>=23.5*GRID_H?(_0x2fc24e[_0x19d053(0x2de)]=_0x19d053(0x2ce),_0x2fc24e['style'][_0x19d053(0x28c)]='-'+_0x3708f1+'px\x200px'):(_0x2fc24e['className']=_0x19d053(0x292),_0x2fc24e['style'][_0x19d053(0x1fb)]=_0xbffbe1+'px',_0x2fc24e[_0x19d053(0x2c6)]['height']=_0x2b9163+'px',_0x2fc24e[_0x19d053(0x2c6)][_0x19d053(0x28c)]='-'+_0x3708f1+_0x19d053(0x228)+_0xbffbe1+'px'),_0x579065[_0x19d053(0x23e)](_0x2fc24e);}});}renderEventsForColumn(_0x579065,_0x4cae89);});}function renderEventsForColumn(_0x5ec306,_0x4dcb67){const _0x4f93f7=a3_0x703e15,_0x107d31=sessions[_0x4f93f7(0x2dc)](_0x2a2f8f=>_0x2a2f8f[_0x4f93f7(0x26a)]===_0x4dcb67),_0x98f5f5=_0x107d31[_0x4f93f7(0x208)](_0x1cbe7c=>{const _0x2fc499=_0x4f93f7,[_0x21e171,_0x57232e]=_0x1cbe7c[_0x2fc499(0x264)]['split'](':')[_0x2fc499(0x208)](Number),[_0x3303b2,_0x2a9b6f]=_0x1cbe7c['end'][_0x2fc499(0x217)](':')['map'](Number);return{'data':_0x1cbe7c,'start':_0x21e171*0x3c+_0x57232e,'end':_0x3303b2*0x3c+_0x2a9b6f,'colIndex':0x0};});_0x98f5f5[_0x4f93f7(0x220)]((_0x435ec2,_0x53f3e2)=>_0x435ec2[_0x4f93f7(0x264)]-_0x53f3e2[_0x4f93f7(0x264)]||_0x53f3e2['end']-_0x53f3e2['start']-(_0x435ec2[_0x4f93f7(0x28e)]-_0x435ec2['start']));const _0x4010b5=[];_0x98f5f5['forEach'](_0x1c9344=>{const _0x3e0be7=_0x4f93f7;let _0x3a9627=![];for(let _0x1762d5=0x0;_0x1762d5<_0x4010b5[_0x3e0be7(0x29b)];_0x1762d5++){const _0x4aa626=_0x4010b5[_0x1762d5];if(_0x1c9344[_0x3e0be7(0x264)]>=_0x4aa626[_0x4aa626[_0x3e0be7(0x29b)]-0x1]['end']){_0x4aa626['push'](_0x1c9344),_0x1c9344['colIndex']=_0x1762d5,_0x3a9627=!![];break;}}!_0x3a9627&&(_0x4010b5[_0x3e0be7(0x202)]([_0x1c9344]),_0x1c9344[_0x3e0be7(0x2ab)]=_0x4010b5[_0x3e0be7(0x29b)]-0x1);}),_0x98f5f5['forEach'](_0x15d568=>{const _0x5c770f=_0x4f93f7;let _0x92a467=0x0;_0x98f5f5['forEach'](_0x537847=>{const _0x29de7c=a3_0x5a26;if(Math[_0x29de7c(0x2c2)](_0x15d568[_0x29de7c(0x264)],_0x537847[_0x29de7c(0x264)])<Math[_0x29de7c(0x259)](_0x15d568[_0x29de7c(0x28e)],_0x537847[_0x29de7c(0x28e)])&&_0x537847[_0x29de7c(0x2ab)]>_0x92a467)_0x92a467=_0x537847['colIndex'];});const _0x1ca5d4=_0x92a467+0x1,_0x1e9135=0x64/_0x1ca5d4,_0xcecbd0=_0x15d568[_0x5c770f(0x2ab)]*_0x1e9135,_0x58b72d=document['createElement'](_0x5c770f(0x26c)),_0x4ef0f0=_0x15d568['data'];let _0x48dbd0=_0x5c770f(0x290);if(clients&&clients[_0x5c770f(0x29b)]>0x0){const _0x4cb7c1=clients[_0x5c770f(0x1f8)](_0x392cc4=>String(_0x392cc4['id'])===String(_0x4ef0f0['clientId']));if(_0x4cb7c1&&_0x4cb7c1['color'])_0x48dbd0=_0x4cb7c1['color'];}const _0x2bba15=_0x4ef0f0[_0x5c770f(0x251)]===_0x5c770f(0x216),_0x44cdd6=_0x2bba15?0x1:0.45;_0x58b72d[_0x5c770f(0x2de)]=_0x5c770f(0x25e)+(_0x2bba15?_0x5c770f(0x2a4):''),_0x58b72d[_0x5c770f(0x2c6)][_0x5c770f(0x2c0)]=hexToRgba(_0x48dbd0,_0x44cdd6),_0x58b72d[_0x5c770f(0x2c6)][_0x5c770f(0x26d)]=_0x48dbd0;const _0x39c5b1=_0x15d568['start']/0x3c*GRID_H,_0x433f1e=(_0x15d568[_0x5c770f(0x28e)]-_0x15d568[_0x5c770f(0x264)])/0x3c*GRID_H;_0x58b72d['style'][_0x5c770f(0x1fb)]=_0x39c5b1+'px',_0x58b72d[_0x5c770f(0x2c6)][_0x5c770f(0x201)]=Math[_0x5c770f(0x2c2)](_0x433f1e,0x14)+'px',_0x58b72d['style']['width']=_0x5c770f(0x272)+_0x1e9135+'%\x20-\x204px)',_0x58b72d[_0x5c770f(0x2c6)][_0x5c770f(0x24d)]=_0x5c770f(0x272)+_0xcecbd0+'%\x20+\x202px)',_0x58b72d[_0x5c770f(0x2c6)][_0x5c770f(0x20c)]=0xa+_0x15d568[_0x5c770f(0x2ab)];if(_0x1e9135<0x55)_0x58b72d[_0x5c770f(0x2bb)][_0x5c770f(0x226)]('mini');let _0x2e222d='';if(_0x4ef0f0[_0x5c770f(0x2cd)])_0x2e222d+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x2bba15)_0x2e222d+=_0x5c770f(0x238);_0x58b72d[_0x5c770f(0x291)]=_0x5c770f(0x2be)+_0x4ef0f0['start']+'\x20-\x20'+_0x4ef0f0[_0x5c770f(0x28e)]+_0x5c770f(0x2d1)+_0x2e222d+_0x5c770f(0x244),_0x58b72d[_0x5c770f(0x205)]=_0x5696d9=>{const _0x58670e=_0x5c770f;_0x5696d9[_0x58670e(0x28d)](),openDetails(_0x4ef0f0);},_0x5ec306[_0x5c770f(0x23e)](_0x58b72d);});}function openAnalytics(){const _0x46a504=a3_0x703e15,_0x1c671b=document[_0x46a504(0x28b)](_0x46a504(0x20b));setAnalyticsPeriod('week',_0x1c671b),openSheet(_0x46a504(0x270));}function setAnalyticsPeriod(_0x4227ec,_0x11e211){const _0x526810=a3_0x703e15;currentAnPeriod=_0x4227ec,document[_0x526810(0x27d)](_0x526810(0x20b))['forEach'](_0x18b97e=>_0x18b97e[_0x526810(0x2bb)]['remove']('active'));if(_0x11e211)_0x11e211[_0x526810(0x2bb)][_0x526810(0x226)]('active');const _0x13c483=document[_0x526810(0x2b1)](_0x526810(0x2b0));_0x13c483[_0x526810(0x2c6)]['display']=_0x4227ec==='custom'?_0x526810(0x23d):_0x526810(0x23b);const _0xdc8c71=new Date();let _0x49e5db=new Date(),_0x23acb7=new Date();if(_0x4227ec===_0x526810(0x21e))_0x49e5db=getStartOfWeek(_0xdc8c71),_0x23acb7=new Date(_0x49e5db),_0x23acb7[_0x526810(0x275)](_0x23acb7[_0x526810(0x1f7)]()+0x6);else{if(_0x4227ec===_0x526810(0x2c4))_0x49e5db=new Date(_0xdc8c71[_0x526810(0x22a)](),_0xdc8c71[_0x526810(0x1ef)](),0x1),_0x23acb7=new Date(_0xdc8c71[_0x526810(0x22a)](),_0xdc8c71[_0x526810(0x1ef)]()+0x1,0x0);else{!document[_0x526810(0x2b1)]('anStart')[_0x526810(0x28a)]&&(document['getElementById'](_0x526810(0x2a7))[_0x526810(0x28a)]=getLocalDateStr(_0xdc8c71),document['getElementById'](_0x526810(0x29f))[_0x526810(0x28a)]=getLocalDateStr(_0xdc8c71));refreshAnalytics();return;}}document['getElementById'](_0x526810(0x2a7))['value']=getLocalDateStr(_0x49e5db),document[_0x526810(0x2b1)]('anEnd')['value']=getLocalDateStr(_0x23acb7),refreshAnalytics();}function refreshAnalytics(){const _0x19882d=a3_0x703e15,_0x6b3bc4=document[_0x19882d(0x2b1)](_0x19882d(0x2a7))['value'],_0x4227a7=document[_0x19882d(0x2b1)](_0x19882d(0x29f))[_0x19882d(0x28a)];if(!_0x6b3bc4||!_0x4227a7)return;const _0x505070=sessions['filter'](_0x51b2aa=>_0x51b2aa[_0x19882d(0x26a)]>=_0x6b3bc4&&_0x51b2aa[_0x19882d(0x26a)]<=_0x4227a7&&_0x51b2aa['status']!==_0x19882d(0x1ed)),_0x7966c1=_0x505070[_0x19882d(0x29b)],_0xa2101f=_0x505070[_0x19882d(0x2dc)](_0x2718e0=>_0x2718e0[_0x19882d(0x251)]===_0x19882d(0x216))[_0x19882d(0x29b)],_0xeca683=_0x7966c1>0x0?Math['round'](_0xa2101f/_0x7966c1*0x64):0x0;document[_0x19882d(0x2b1)](_0x19882d(0x2c9))['textContent']=_0xeca683+'%',document[_0x19882d(0x2b1)](_0x19882d(0x212))[_0x19882d(0x27b)]=_0xa2101f+'\x20–∏–∑\x20'+_0x7966c1+_0x19882d(0x269);const _0x4b4aa9=document[_0x19882d(0x2b1)](_0x19882d(0x2d8)),_0x2a109c=0x2*Math['PI']*0x23,_0x480064=_0x2a109c-_0xeca683/0x64*_0x2a109c;_0x4b4aa9['style'][_0x19882d(0x2cc)]=_0x480064;const _0x4672c9={};_0x505070['forEach'](_0x516a6c=>{const _0x2fd58f=_0x19882d,_0x19c5db=_0x516a6c[_0x2fd58f(0x29a)]||_0x2fd58f(0x206);if(!_0x4672c9[_0x19c5db]){const _0x2830ee='#'+_0x19c5db[_0x2fd58f(0x2b5)]()[_0x2fd58f(0x211)](0x0,0x6);_0x4672c9[_0x19c5db]={'total':0x0,'done':0x0,'color':_0x2830ee};}_0x4672c9[_0x19c5db]['total']++;if(_0x516a6c[_0x2fd58f(0x251)]===_0x2fd58f(0x216))_0x4672c9[_0x19c5db][_0x2fd58f(0x2b3)]++;});const _0x49c940=document[_0x19882d(0x2b1)](_0x19882d(0x279));_0x49c940[_0x19882d(0x291)]='';const _0x56a0b8=Object[_0x19882d(0x2ca)](_0x4672c9)[_0x19882d(0x220)]((_0x4f94f2,_0x5b5413)=>_0x5b5413[0x1][_0x19882d(0x2cb)]-_0x4f94f2[0x1]['total']);if(_0x56a0b8[_0x19882d(0x29b)]===0x0){_0x49c940[_0x19882d(0x291)]=_0x19882d(0x225);return;}_0x56a0b8[_0x19882d(0x2a1)](([_0x3137f9,_0x5a042c])=>{const _0x181833=_0x19882d,_0x257a1c=Math[_0x181833(0x235)](_0x5a042c[_0x181833(0x2b3)]/_0x5a042c[_0x181833(0x2cb)]*0x64),_0x143f2a=document['createElement'](_0x181833(0x26c));_0x143f2a['className']=_0x181833(0x2da),_0x143f2a[_0x181833(0x2c6)][_0x181833(0x26d)]=_0x5a042c[_0x181833(0x2b9)],_0x143f2a['innerHTML']=_0x181833(0x2d0)+_0x3137f9[_0x181833(0x211)](0x0,0x5)+_0x181833(0x20f)+_0x5a042c[_0x181833(0x2b3)]+'</span>\x20/\x20'+_0x5a042c[_0x181833(0x2cb)]+_0x181833(0x1ea)+_0x257a1c+_0x181833(0x2a3),_0x49c940[_0x181833(0x23e)](_0x143f2a);});}function openDetails(_0x27f8c1){const _0xf11c8b=a3_0x703e15;currentSession=_0x27f8c1;const _0x14f61d=new Date(_0x27f8c1[_0xf11c8b(0x26a)]),_0x306550=_0x14f61d[_0xf11c8b(0x2bd)]('ru-RU',{'weekday':_0xf11c8b(0x2aa),'day':'numeric','month':'long'});document[_0xf11c8b(0x2b1)]('detDate')[_0xf11c8b(0x27b)]=_0x306550[_0xf11c8b(0x2c7)](0x0)['toUpperCase']()+_0x306550[_0xf11c8b(0x1f4)](0x1),document['getElementById'](_0xf11c8b(0x250))[_0xf11c8b(0x27b)]=_0x27f8c1['start']+_0xf11c8b(0x21c)+_0x27f8c1[_0xf11c8b(0x28e)],document[_0xf11c8b(0x2b1)](_0xf11c8b(0x237))[_0xf11c8b(0x27b)]=_0x27f8c1[_0xf11c8b(0x25b)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x1909a0=document['getElementById'](_0xf11c8b(0x273)),_0x409a03=document[_0xf11c8b(0x2b1)]('cancelContainer'),_0x34bf9e=_0x409a03['querySelector'](_0xf11c8b(0x20d)),_0x466d6c=_0x409a03[_0xf11c8b(0x28b)](_0xf11c8b(0x245)),_0x1a36ed=document[_0xf11c8b(0x2b1)](_0xf11c8b(0x1fa));if(_0x27f8c1[_0xf11c8b(0x251)]===_0xf11c8b(0x216))_0x1909a0[_0xf11c8b(0x27b)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1909a0[_0xf11c8b(0x2c6)]['color']=_0xf11c8b(0x296),_0x409a03[_0xf11c8b(0x2c6)]['display']='none';else{_0x1909a0[_0xf11c8b(0x27b)]=_0xf11c8b(0x1f3),_0x1909a0[_0xf11c8b(0x2c6)][_0xf11c8b(0x2b9)]=_0xf11c8b(0x299),_0x409a03[_0xf11c8b(0x2c6)][_0xf11c8b(0x27c)]=_0xf11c8b(0x24b);const _0x21b324=new Date(_0x27f8c1[_0xf11c8b(0x26a)]+'T'+_0x27f8c1[_0xf11c8b(0x264)]),_0x312bd3=new Date(),_0x50d3ad=(_0x21b324-_0x312bd3)/(0x3e8*0x3c*0x3c),_0x3f239b=coachProfiles[_0x27f8c1[_0xf11c8b(0x29a)]]&&coachProfiles[_0x27f8c1[_0xf11c8b(0x29a)]][_0xf11c8b(0x268)]?parseInt(coachProfiles[_0x27f8c1[_0xf11c8b(0x29a)]][_0xf11c8b(0x268)]):0x18;if(_0x3f239b===0x0||_0x50d3ad>=_0x3f239b)_0x34bf9e[_0xf11c8b(0x2c6)][_0xf11c8b(0x27c)]=_0xf11c8b(0x24b),_0x466d6c['style'][_0xf11c8b(0x27c)]=_0xf11c8b(0x24b),_0x1a36ed[_0xf11c8b(0x2c6)][_0xf11c8b(0x27c)]=_0xf11c8b(0x23b);else{_0x34bf9e[_0xf11c8b(0x2c6)]['display']=_0xf11c8b(0x23b),_0x466d6c[_0xf11c8b(0x2c6)]['display']=_0xf11c8b(0x23b),_0x1a36ed[_0xf11c8b(0x2c6)][_0xf11c8b(0x27c)]=_0xf11c8b(0x24b);let _0x4e3e99=_0x3f239b===0x0?_0xf11c8b(0x2db):_0xf11c8b(0x210)+_0x3f239b+_0xf11c8b(0x1fe);_0x1a36ed[_0xf11c8b(0x27b)]=_0xf11c8b(0x2bf)+_0x4e3e99+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0xf11c8b(0x2b1)](_0xf11c8b(0x232))[_0xf11c8b(0x2bb)][_0xf11c8b(0x226)]('active'),document['getElementById']('detailsSheet')[_0xf11c8b(0x2bb)][_0xf11c8b(0x226)](_0xf11c8b(0x1f9));}function closeAllSheets(){const _0x17f457=a3_0x703e15;document[_0x17f457(0x2b1)](_0x17f457(0x232))['classList'][_0x17f457(0x229)](_0x17f457(0x274)),document[_0x17f457(0x27d)]('.sheet')[_0x17f457(0x2a1)](_0x5e15d7=>_0x5e15d7['classList'][_0x17f457(0x229)](_0x17f457(0x1f9)));}function openSheet(_0x378f09){const _0x576851=a3_0x703e15;document[_0x576851(0x2b1)](_0x576851(0x232))[_0x576851(0x2bb)][_0x576851(0x226)]('active'),document[_0x576851(0x2b1)](_0x378f09)[_0x576851(0x2bb)]['add']('open');}function getLocalDateStr(_0x1728b4){const _0xd67ad5=a3_0x703e15,_0x58df00=_0x1728b4[_0xd67ad5(0x22a)](),_0x21a1de=String(_0x1728b4[_0xd67ad5(0x1ef)]()+0x1)['padStart'](0x2,'0'),_0x11cee9=String(_0x1728b4[_0xd67ad5(0x1f7)]())[_0xd67ad5(0x221)](0x2,'0');return _0x58df00+'-'+_0x21a1de+'-'+_0x11cee9;}function getStartOfWeek(_0x3a02f3){const _0x587ba0=a3_0x703e15,_0x40cd03=new Date(_0x3a02f3),_0x39ff41=_0x40cd03['getDay'](),_0x5c82db=_0x40cd03[_0x587ba0(0x1f7)]()-_0x39ff41+(_0x39ff41===0x0?-0x6:0x1);return _0x40cd03[_0x587ba0(0x275)](_0x5c82db),_0x40cd03['setHours'](0x0,0x0,0x0,0x0),_0x40cd03;}function scrollToToday(){const _0x1822b6=getLocalDateStr(new Date());setTimeout(()=>{const _0x4e810a=a3_0x5a26,_0x110a85=document[_0x4e810a(0x28b)](_0x4e810a(0x1f5)+_0x1822b6+'\x22]');if(_0x110a85){const _0x4a7d93=document[_0x4e810a(0x2b1)](_0x4e810a(0x29e)),_0x4757e0=_0x110a85[_0x4e810a(0x2b8)]-_0x4a7d93['clientWidth']/0x2+_0x110a85['offsetWidth']/0x2;_0x4a7d93[_0x4e810a(0x253)]({'left':_0x4757e0,'behavior':_0x4e810a(0x20a)}),_0x4a7d93[_0x4e810a(0x2ad)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xc747b5=a3_0x703e15,_0x2fd5d0=new Date(),_0x5220ff=document[_0xc747b5(0x2b1)](_0xc747b5(0x2d5)),_0x4993c6=document['getElementById'](_0xc747b5(0x2d6)),_0x235d54=(_0x2fd5d0[_0xc747b5(0x2c3)]()*0x3c+_0x2fd5d0[_0xc747b5(0x247)]())/0x3c*GRID_H;_0x5220ff[_0xc747b5(0x2c6)]['top']=_0x235d54+'px',_0x5220ff[_0xc747b5(0x2c6)][_0xc747b5(0x27c)]=_0xc747b5(0x24b),_0x4993c6[_0xc747b5(0x2c6)][_0xc747b5(0x1fb)]=_0x235d54+'px',_0x4993c6[_0xc747b5(0x2c6)][_0xc747b5(0x27c)]=_0xc747b5(0x24b),_0x4993c6[_0xc747b5(0x27b)]=String(_0x2fd5d0['getHours']())['padStart'](0x2,'0')+':'+String(_0x2fd5d0[_0xc747b5(0x247)]())[_0xc747b5(0x221)](0x2,'0');}function onScroll(){const _0x5ea5fb=a3_0x703e15,_0x128a97=document['getElementById'](_0x5ea5fb(0x29e)),_0x1975fc=document[_0x5ea5fb(0x27d)](_0x5ea5fb(0x21f));for(let _0x4435a4 of _0x1975fc)if(_0x4435a4[_0x5ea5fb(0x2b8)]>=_0x128a97[_0x5ea5fb(0x263)]){const _0x3272d4=new Date(_0x4435a4[_0x5ea5fb(0x276)]('data-date'));document[_0x5ea5fb(0x2b1)](_0x5ea5fb(0x1fc))[_0x5ea5fb(0x27b)]=_0x3272d4['toLocaleString']('ru',{'month':_0x5ea5fb(0x2aa)})[_0x5ea5fb(0x260)]()+'\x20'+_0x3272d4[_0x5ea5fb(0x22a)]();break;}}function showToast(_0x6bcbfb){const _0x21a71a=a3_0x703e15,_0xb5abb9=document[_0x21a71a(0x2b1)](_0x21a71a(0x2a2));_0xb5abb9['textContent']=_0x6bcbfb,_0xb5abb9[_0x21a71a(0x2bb)][_0x21a71a(0x226)](_0x21a71a(0x1ec)),setTimeout(()=>_0xb5abb9['classList']['remove'](_0x21a71a(0x1ec)),0x7d0);}function handleInfiniteScroll(){const _0x133c8b=a3_0x703e15,_0x9a7ad6=document[_0x133c8b(0x2b1)]('matrixViewport'),_0x19ecf6=_0x9a7ad6[_0x133c8b(0x263)],_0x1fe229=_0x9a7ad6[_0x133c8b(0x293)],_0x3315a9=_0x9a7ad6[_0x133c8b(0x2bc)];if(_0x1fe229-(_0x19ecf6+_0x3315a9)<0x12c){const _0x5a3a29=endOffset;endOffset+=0xe,renderDayRange(_0x5a3a29+0x1,endOffset),reRenderBlocks();}if(_0x19ecf6<0x12c){const _0x3eb538=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3eb538-0x1),_0x9a7ad6[_0x133c8b(0x263)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x573d90,_0x2941cd){const _0x1fadb6=a3_0x703e15,_0x3c35dd=document[_0x1fadb6(0x2b1)](_0x1fadb6(0x29d)),_0x1d0f25=document[_0x1fadb6(0x2b1)]('gridColumns'),_0x40cad8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe90e24=new Date();_0xe90e24[_0x1fadb6(0x22f)](0x0,0x0,0x0,0x0);const _0x5d2726=getLocalDateStr(new Date()),_0x2f23fd=document[_0x1fadb6(0x29c)](),_0x3fb6b4=document[_0x1fadb6(0x29c)]();for(let _0x22231c=_0x573d90;_0x22231c<=_0x2941cd;_0x22231c++){const _0x4fce01=new Date(_0xe90e24);_0x4fce01[_0x1fadb6(0x275)](_0x4fce01[_0x1fadb6(0x1f7)]()+_0x22231c);const _0x35dc3e=getLocalDateStr(_0x4fce01);let _0x380167=_0x4fce01[_0x1fadb6(0x22b)]()-0x1;if(_0x380167===-0x1)_0x380167=0x6;const _0x45266b=_0x35dc3e===_0x5d2726,_0x3c2521=document['createElement']('div');_0x3c2521[_0x1fadb6(0x2de)]=_0x1fadb6(0x27a)+(_0x45266b?_0x1fadb6(0x2b4):''),_0x3c2521[_0x1fadb6(0x2d7)](_0x1fadb6(0x2a5),_0x35dc3e),_0x3c2521[_0x1fadb6(0x291)]=_0x1fadb6(0x2dd)+_0x40cad8[_0x380167]+_0x1fadb6(0x278)+_0x4fce01[_0x1fadb6(0x1f7)]()+'</div>',_0x2f23fd[_0x1fadb6(0x23e)](_0x3c2521);const _0x5ef0eb=document['createElement'](_0x1fadb6(0x26c));_0x5ef0eb[_0x1fadb6(0x2de)]=_0x1fadb6(0x1f1)+(_0x45266b?'today':''),_0x5ef0eb[_0x1fadb6(0x2d7)](_0x1fadb6(0x2a5),_0x35dc3e),_0x5ef0eb[_0x1fadb6(0x2d7)]('data-day-idx',_0x380167),_0x3fb6b4['appendChild'](_0x5ef0eb);}_0x3c35dd[_0x1fadb6(0x267)](_0x2f23fd,_0x3c35dd[_0x1fadb6(0x1f6)]),_0x1d0f25[_0x1fadb6(0x267)](_0x3fb6b4,_0x1d0f25['querySelector'](_0x1fadb6(0x204)));}function hexToRgba(_0x3004bd,_0x1928c2){const _0x5dcb41=a3_0x703e15;let _0x16d408;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3004bd))return _0x16d408=_0x3004bd[_0x5dcb41(0x2cf)](0x1)[_0x5dcb41(0x217)](''),_0x16d408[_0x5dcb41(0x29b)]==0x3&&(_0x16d408=[_0x16d408[0x0],_0x16d408[0x0],_0x16d408[0x1],_0x16d408[0x1],_0x16d408[0x2],_0x16d408[0x2]]),_0x16d408='0x'+_0x16d408[_0x5dcb41(0x239)](''),_0x5dcb41(0x28f)+[_0x16d408>>0x10&0xff,_0x16d408>>0x8&0xff,_0x16d408&0xff][_0x5dcb41(0x239)](',')+','+_0x1928c2+')';return _0x5dcb41(0x2b7)+_0x1928c2+')';}let confirmResolver=null;function showCustomConfirm(_0x3a655c,_0x2d3052,_0x3fab3c=!![]){const _0xe510a9=a3_0x703e15;document[_0xe510a9(0x2b1)](_0xe510a9(0x2d3))[_0xe510a9(0x27b)]=_0x3a655c,document[_0xe510a9(0x2b1)]('ccText')[_0xe510a9(0x27b)]=_0x2d3052;const _0x438f4b=document[_0xe510a9(0x2b1)]('ccYesBtn');return _0x3fab3c?(_0x438f4b[_0xe510a9(0x2c6)]['color']='#ff453a',_0x438f4b[_0xe510a9(0x2c6)][_0xe510a9(0x242)]='600'):(_0x438f4b[_0xe510a9(0x2c6)][_0xe510a9(0x2b9)]='#0a84ff',_0x438f4b[_0xe510a9(0x2c6)]['fontWeight']='600'),new Promise(_0x2e7e7f=>{const _0x3c85cb=_0xe510a9;confirmResolver=_0x2e7e7f,document['getElementById'](_0x3c85cb(0x25d))[_0x3c85cb(0x2bb)][_0x3c85cb(0x226)]('visible');});}function resolveCustomConfirm(_0x4f05d8){const _0x1b74a0=a3_0x703e15;document['getElementById'](_0x1b74a0(0x25d))[_0x1b74a0(0x2bb)][_0x1b74a0(0x229)](_0x1b74a0(0x27f));if(confirmResolver)confirmResolver(_0x4f05d8);}async function tryCancelCurrentSession(){const _0x18bb27=a3_0x703e15;if(!currentSession)return;const _0x13aaf6=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x18bb27(0x246),!![]);if(!_0x13aaf6)return;const _0x354bca=currentSession;closeAllSheets(),sessions=sessions[_0x18bb27(0x2dc)](_0x38ebeb=>_0x38ebeb['id']!==_0x354bca['id']),reRenderBlocks(),showToast(_0x18bb27(0x257)),lastUserActionTime=Date[_0x18bb27(0x200)]();try{const _0x4b1318=window[_0x18bb27(0x2ba)]?.[_0x18bb27(0x2c5)],_0x3a275d=await fetch(API_URL,{'method':_0x18bb27(0x1fd),'body':JSON[_0x18bb27(0x203)]({'action':_0x18bb27(0x1ff),'init_data':_0x4b1318?.['initData']||'','coachId':_0x354bca[_0x18bb27(0x29a)],'dateStr':_0x354bca[_0x18bb27(0x26a)],'sessionId':_0x354bca['id']})});if(_0x3a275d['ok'])DataManager[_0x18bb27(0x285)]();}catch(_0x49c30a){showToast(_0x18bb27(0x295));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x11d670=a3_0x703e15;if(!currentSession)return;document[_0x11d670(0x2b1)]('detailsSheet')[_0x11d670(0x2bb)][_0x11d670(0x229)]('open'),document['getElementById'](_0x11d670(0x2a6))[_0x11d670(0x2bb)][_0x11d670(0x226)]('open');const _0x118cb0=document[_0x11d670(0x2b1)](_0x11d670(0x23c)),_0x1ab89a=document[_0x11d670(0x2b1)](_0x11d670(0x2c1));_0x118cb0[_0x11d670(0x291)]='',_0x1ab89a[_0x11d670(0x291)]=_0x11d670(0x26b);const [_0x4f736b,_0x103104]=currentSession[_0x11d670(0x264)]['split'](':')['map'](Number),[_0x568c7d,_0xc130e2]=currentSession[_0x11d670(0x28e)][_0x11d670(0x217)](':')[_0x11d670(0x208)](Number),_0x24dd63=_0x568c7d*0x3c+_0xc130e2-(_0x4f736b*0x3c+_0x103104);try{const _0x3bcc2c=window['Telegram']?.[_0x11d670(0x2c5)],_0x45de21=await fetch(API_URL,{'method':_0x11d670(0x1fd),'body':JSON[_0x11d670(0x203)]({'action':'get_slots','coachId':currentSession[_0x11d670(0x29a)],'duration':_0x24dd63,'init_data':_0x3bcc2c?.['initData']||'','excludeSessionId':currentSession['id']})}),_0xe75379=await _0x45de21[_0x11d670(0x284)]();_0xe75379['ok']&&_0xe75379[_0x11d670(0x1ee)]?(availableSlotsCache=_0xe75379[_0x11d670(0x1ee)],renderRescheduleDates()):_0x1ab89a[_0x11d670(0x291)]=_0x11d670(0x23a);}catch(_0x493db7){_0x1ab89a['innerHTML']=_0x11d670(0x261);}}function a3_0x5a26(_0x15638d,_0xa42346){_0x15638d=_0x15638d-0x1e7;const _0xea1b61=a3_0x2ae2();let _0x9c2236=_0xea1b61[_0x15638d];return _0x9c2236;}function renderRescheduleDates(){const _0x2394bc=a3_0x703e15,_0x47f566=document['getElementById']('rsDatesTrack');_0x47f566[_0x2394bc(0x291)]='';const _0x258722=Object['keys'](availableSlotsCache)[_0x2394bc(0x220)](),_0x39d479=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x258722[_0x2394bc(0x29b)]===0x0){document[_0x2394bc(0x2b1)]('rsSlotsGrid')[_0x2394bc(0x291)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x258722[_0x2394bc(0x2a1)]((_0x568ea5,_0x5f24bc)=>{const _0x526d3c=_0x2394bc,_0x429e14=new Date(_0x568ea5),_0x5537ac=_0x39d479[_0x429e14[_0x526d3c(0x22b)]()],_0x2a303f=_0x429e14['getDate'](),_0x23e7e4=document['createElement'](_0x526d3c(0x26c));_0x23e7e4['className']=_0x526d3c(0x240);if(_0x5f24bc===0x0)_0x23e7e4['classList']['add'](_0x526d3c(0x274));_0x23e7e4[_0x526d3c(0x291)]='<div\x20class=\x22rs-day-name\x22>'+_0x5537ac+'</div><div\x20class=\x22rs-day-num\x22>'+_0x2a303f+_0x526d3c(0x224),_0x23e7e4[_0x526d3c(0x205)]=()=>selectRsDate(_0x568ea5,_0x23e7e4),_0x47f566[_0x526d3c(0x23e)](_0x23e7e4);}),selectRsDate(_0x258722[0x0],_0x47f566[_0x2394bc(0x1f6)]);}function selectRsDate(_0x1a613a,_0x5d7778){const _0x4a9cdf=a3_0x703e15;selectedRsDate=_0x1a613a,document[_0x4a9cdf(0x27d)](_0x4a9cdf(0x214))[_0x4a9cdf(0x2a1)](_0x168a7d=>_0x168a7d['classList']['remove'](_0x4a9cdf(0x274)));if(_0x5d7778)_0x5d7778[_0x4a9cdf(0x2bb)][_0x4a9cdf(0x226)](_0x4a9cdf(0x274));const _0x4892f7=document[_0x4a9cdf(0x2b1)](_0x4a9cdf(0x2c1));_0x4892f7[_0x4a9cdf(0x291)]='';const _0xd5484b=availableSlotsCache[_0x1a613a]||[];if(_0xd5484b[_0x4a9cdf(0x29b)]===0x0){_0x4892f7[_0x4a9cdf(0x291)]=_0x4a9cdf(0x23a);return;}_0xd5484b[_0x4a9cdf(0x2a1)](_0x513c24=>{const _0x243951=_0x4a9cdf,_0x3dc5d=document[_0x243951(0x1e7)](_0x243951(0x236));_0x3dc5d[_0x243951(0x2de)]=_0x243951(0x21a),_0x3dc5d[_0x243951(0x27b)]=_0x513c24,_0x3dc5d['onclick']=()=>confirmReschedule(_0x513c24),_0x4892f7[_0x243951(0x23e)](_0x3dc5d);});}async function confirmReschedule(_0x156f02){const _0x2d9a21=a3_0x703e15,_0x31c335=new Date(selectedRsDate),_0x4b9f80=_0x31c335[_0x2d9a21(0x2bd)](_0x2d9a21(0x25a),{'day':_0x2d9a21(0x2a9),'month':_0x2d9a21(0x2aa)}),_0x346389=await showCustomConfirm(_0x2d9a21(0x218),_0x2d9a21(0x248)+_0x4b9f80+'\x20–≤\x20'+_0x156f02+'?',![]);if(!_0x346389)return;closeAllSheets(),showToast(_0x2d9a21(0x1e8)),lastUserActionTime=Date[_0x2d9a21(0x200)]();const _0x267c1d=currentSession[_0x2d9a21(0x26a)],_0x384451=currentSession['id'],[_0x298489,_0x529cb0]=currentSession[_0x2d9a21(0x264)][_0x2d9a21(0x217)](':')[_0x2d9a21(0x208)](Number),[_0x30bf1b,_0x14c6a5]=currentSession[_0x2d9a21(0x28e)][_0x2d9a21(0x217)](':')[_0x2d9a21(0x208)](Number),_0x4cd8b8=_0x30bf1b*0x3c+_0x14c6a5-(_0x298489*0x3c+_0x529cb0),[_0x51b313,_0x402a3f]=_0x156f02[_0x2d9a21(0x217)](':')[_0x2d9a21(0x208)](Number),_0x488c1a=_0x51b313*0x3c+_0x402a3f+_0x4cd8b8,_0x1de28b=Math[_0x2d9a21(0x22d)](_0x488c1a/0x3c),_0x2c884a=_0x488c1a%0x3c,_0x2faf87=String(_0x1de28b)[_0x2d9a21(0x221)](0x2,'0')+':'+String(_0x2c884a)[_0x2d9a21(0x221)](0x2,'0'),_0x40d586=sessions[_0x2d9a21(0x227)](_0x2260c2=>_0x2260c2['id']===_0x384451);_0x40d586!==-0x1&&(sessions[_0x40d586][_0x2d9a21(0x26a)]=selectedRsDate,sessions[_0x40d586][_0x2d9a21(0x264)]=_0x156f02,sessions[_0x40d586]['end']=_0x2faf87,reRenderBlocks());try{const _0x1f7c7b=window[_0x2d9a21(0x2ba)]?.[_0x2d9a21(0x2c5)],_0xe6150d=await fetch(API_URL,{'method':_0x2d9a21(0x1fd),'body':JSON[_0x2d9a21(0x203)]({'action':_0x2d9a21(0x262),'init_data':_0x1f7c7b?.[_0x2d9a21(0x24c)]||'','oldSessionId':_0x384451,'oldDate':_0x267c1d,'newDate':selectedRsDate,'newTime':_0x156f02,'coachId':currentSession[_0x2d9a21(0x29a)]})}),_0x48a8f0=await _0xe6150d['json']();!_0x48a8f0['ok']?(showToast(_0x2d9a21(0x2d4)),DataManager['syncLoad']()):(showToast(_0x2d9a21(0x222)),DataManager[_0x2d9a21(0x285)]());}catch(_0x151fa0){showToast(_0x2d9a21(0x295));}}document[a3_0x703e15(0x1f0)](a3_0x703e15(0x252),init);