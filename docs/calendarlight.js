const a3_0xe58701=a3_0x1879;(function(_0x10a029,_0x41faf3){const _0x371965=a3_0x1879,_0x11e192=_0x10a029();while(!![]){try{const _0x3fbfdb=parseInt(_0x371965(0x2c9))/0x1*(-parseInt(_0x371965(0x2a9))/0x2)+parseInt(_0x371965(0x27d))/0x3+-parseInt(_0x371965(0x29e))/0x4+parseInt(_0x371965(0x2d8))/0x5+parseInt(_0x371965(0x1fb))/0x6*(parseInt(_0x371965(0x2a5))/0x7)+parseInt(_0x371965(0x280))/0x8+parseInt(_0x371965(0x2d6))/0x9*(-parseInt(_0x371965(0x206))/0xa);if(_0x3fbfdb===_0x41faf3)break;else _0x11e192['push'](_0x11e192['shift']());}catch(_0x327f17){_0x11e192['push'](_0x11e192['shift']());}}}(a3_0x100a,0x4a28d));const APP_VERSION=a3_0xe58701(0x283),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0xe58701(0x2b6),KEY_SETTINGS=a3_0xe58701(0x1fc),KEY_CLIENTS=a3_0xe58701(0x2b5);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2ab02d=a3_0xe58701,_0x33f9de=(function(){let _0x5d1c50=!![];return function(_0x3ca596,_0x18e41c){const _0x36951e=_0x5d1c50?function(){const _0x425dd1=a3_0x1879;if(_0x18e41c){const _0x343525=_0x18e41c[_0x425dd1(0x25c)](_0x3ca596,arguments);return _0x18e41c=null,_0x343525;}}:function(){};return _0x5d1c50=![],_0x36951e;};}()),_0xe37c4a=_0x33f9de(this,function(){const _0x54b40a=a3_0x1879;return _0xe37c4a[_0x54b40a(0x1fd)]()[_0x54b40a(0x2e0)]('(((.+)+)+)+$')[_0x54b40a(0x1fd)]()[_0x54b40a(0x239)](_0xe37c4a)[_0x54b40a(0x2e0)]('(((.+)+)+)+$');});_0xe37c4a();try{const _0x2565be=window[_0x2ab02d(0x28c)]?.[_0x2ab02d(0x2d0)];if(!_0x2565be)return;_0x2565be[_0x2ab02d(0x22a)](),_0x2565be['expand']();try{_0x2565be[_0x2ab02d(0x2b4)]('#050505'),_0x2565be[_0x2ab02d(0x1fa)]&&_0x2565be[_0x2ab02d(0x1fa)](_0x2ab02d(0x20a));}catch(_0x318d0a){console[_0x2ab02d(0x275)]('Error\x20setting\x20color:',_0x318d0a);}try{_0x2565be[_0x2ab02d(0x20d)]&&(_0x2565be[_0x2ab02d(0x20d)][_0x2ab02d(0x296)](),_0x2565be[_0x2ab02d(0x20d)][_0x2ab02d(0x203)](),_0x2565be[_0x2ab02d(0x20d)][_0x2ab02d(0x297)](function(){const _0x49be1b=_0x2ab02d;window[_0x49be1b(0x21d)]['href']=_0x49be1b(0x271);}));}catch(_0x6b712a){console[_0x2ab02d(0x275)](_0x2ab02d(0x257),_0x6b712a);}try{if(_0x2565be[_0x2ab02d(0x1ed)])_0x2565be[_0x2ab02d(0x1ed)]();}catch(_0x44a681){}}catch(_0x3fcdf3){console[_0x2ab02d(0x21e)](_0x2ab02d(0x254),_0x3fcdf3);}}());function isAdmin(){const _0x513ab3=a3_0xe58701;try{const _0xad6e94=Number(window[_0x513ab3(0x28c)]?.[_0x513ab3(0x2d0)]?.[_0x513ab3(0x2d2)]?.[_0x513ab3(0x2bb)]?.['id']);return _0xad6e94===0xbaf7174;}catch(_0x54021a){return![];}}const DataManager={'saveLocally'(){const _0xaa5800=a3_0xe58701;try{localStorage[_0xaa5800(0x2cb)](KEY_SESSIONS,JSON[_0xaa5800(0x298)](sessions)),localStorage[_0xaa5800(0x2cb)](KEY_CLIENTS,JSON[_0xaa5800(0x298)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0xaa5800(0x298)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x49d4e6){}},'loadLocal'(){const _0x38c3ec=a3_0xe58701;try{const _0x1ddbfe=localStorage[_0x38c3ec(0x1f7)](KEY_SESSIONS);if(_0x1ddbfe)sessions=JSON['parse'](_0x1ddbfe);const _0x28142b=localStorage[_0x38c3ec(0x1f7)](KEY_CLIENTS);if(_0x28142b)clients=JSON['parse'](_0x28142b);const _0x388a5a=localStorage[_0x38c3ec(0x1f7)](KEY_SETTINGS);if(_0x388a5a){const _0x1ad057=JSON[_0x38c3ec(0x22c)](_0x388a5a);if(_0x1ad057[_0x38c3ec(0x2a4)])availabilityPattern=_0x1ad057[_0x38c3ec(0x2a4)];if(_0x1ad057[_0x38c3ec(0x2be)])specialRanges=_0x1ad057[_0x38c3ec(0x2be)];if(_0x1ad057[_0x38c3ec(0x2c8)])dateExceptions=_0x1ad057[_0x38c3ec(0x2c8)];}}catch(_0x173378){}},async 'syncLoad'(){const _0x385766=a3_0xe58701,_0x511b99=new Date(),_0x3f6185=_0x511b99[_0x385766(0x1f1)]()+'-'+String(_0x511b99[_0x385766(0x1fe)]()+0x1)[_0x385766(0x237)](0x2,'0'),_0x10504f=new Date(_0x511b99);_0x10504f[_0x385766(0x246)](_0x511b99[_0x385766(0x1fe)]()+0x1);const _0x1cf39b=_0x10504f['getFullYear']()+'-'+String(_0x10504f[_0x385766(0x1fe)]()+0x1)[_0x385766(0x237)](0x2,'0'),_0x5f01a4=Date[_0x385766(0x2bd)]();try{const _0x210cb0=window['Telegram']?.['WebApp'],_0x309554=_0x210cb0?.[_0x385766(0x251)]||'',[_0x473d58,_0x12ab16]=await Promise[_0x385766(0x245)]([fetch(API_URL,{'method':_0x385766(0x22d),'body':JSON[_0x385766(0x298)]({'action':'client_load','init_data':_0x309554,'month_str':_0x3f6185})})['then'](_0x2d5ec2=>_0x2d5ec2[_0x385766(0x223)]()),fetch(API_URL,{'method':_0x385766(0x22d),'body':JSON['stringify']({'action':_0x385766(0x2a0),'init_data':_0x309554,'month_str':_0x1cf39b})})[_0x385766(0x1f6)](_0x17f81c=>_0x17f81c['json']())]);if(lastUserActionTime>_0x5f01a4){console[_0x385766(0x275)](_0x385766(0x24c));return;}if(_0x473d58['ok'])this[_0x385766(0x226)](_0x473d58[_0x385766(0x255)],_0x3f6185);if(_0x12ab16['ok'])this[_0x385766(0x226)](_0x12ab16[_0x385766(0x255)],_0x1cf39b);this[_0x385766(0x24e)]();}catch(_0x2aca1b){}},'applyData'(_0x296d6e,_0x221924){const _0x5e6604=a3_0xe58701;if(!_0x296d6e)return;if(_0x296d6e[_0x5e6604(0x235)]){if(_0x296d6e['settings']['pattern'])availabilityPattern=_0x296d6e['settings'][_0x5e6604(0x2a4)];if(_0x296d6e[_0x5e6604(0x235)][_0x5e6604(0x2be)])specialRanges=_0x296d6e[_0x5e6604(0x235)][_0x5e6604(0x2be)];if(_0x296d6e[_0x5e6604(0x235)][_0x5e6604(0x2c8)])dateExceptions=_0x296d6e[_0x5e6604(0x235)]['exceptions'];}if(_0x296d6e['clients']&&Array[_0x5e6604(0x21c)](_0x296d6e[_0x5e6604(0x227)]))clients=_0x296d6e['clients'];_0x296d6e[_0x5e6604(0x25f)]&&(coachProfiles={...coachProfiles,..._0x296d6e[_0x5e6604(0x25f)]}),_0x296d6e[_0x5e6604(0x1e1)]&&(sessions=sessions['filter'](_0x5674c7=>!_0x5674c7[_0x5e6604(0x2de)][_0x5e6604(0x2df)](_0x221924)),Object[_0x5e6604(0x256)](_0x296d6e[_0x5e6604(0x1e1)])[_0x5e6604(0x2ce)](_0x28cff4=>{const _0x4dae5f=_0x5e6604,_0x320ef4=_0x296d6e[_0x4dae5f(0x1e1)][_0x28cff4];_0x320ef4[_0x4dae5f(0x2ce)](_0x52bcef=>{const _0x35ea85=_0x4dae5f;sessions[_0x35ea85(0x26e)]({'id':_0x52bcef['i'],'clientId':_0x52bcef['c'],'coachId':_0x52bcef[_0x35ea85(0x27b)],'dateStr':_0x221924+'-'+_0x28cff4[_0x35ea85(0x237)](0x2,'0'),'start':_0x52bcef['s'],'end':_0x52bcef['e'],'note':_0x52bcef['n']||'','status':_0x52bcef['st']||'planned','seriesId':_0x52bcef['sid']});});})),reRenderBlocks();}};function init(){const _0x446b70=a3_0xe58701;DataManager[_0x446b70(0x2ad)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x446b70(0x240)]('matrixViewport')[_0x446b70(0x2db)](_0x446b70(0x264),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x446b70(0x1f9)]();}function a3_0x100a(){const _0x3592a0=['add','padStart','min','constructor','getHours','detTime','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','className','backgroundPosition','getElementById','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','event-card','DOMContentLoaded','rescheduleSheet','all','setMonth','zIndex','height','blocked-slot\x20stripe-bg','matrixViewport','T00:00:00','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','find','saveLocally','length','customConfirm','initData','toLocaleString','timeColumn','Critical\x20TMA\x20Error:','data','keys','Error\x20setting\x20back\x20button:','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','display','analyticsList','slice','apply','T23:59:59','globalTimeLine','coach_profiles','today','split','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','map','scroll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','active','cancel_window','getAttribute','note','calc(','done','onclick','push','\x20–≤\x20','floor','router.html','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','textContent','\x20–∏–∑\x20','</div><div\x20class=\x22rs-day-num\x22>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setAttribute','cid','createElement','595209nrtbql','ccText','getDay','2453560AWhWQB','stopPropagation','join','v9.5-CLIENT-ANALYTICS','insertBefore','.rs-date-chip','backgroundColor','gridColumns','setDate','colIndex','findIndex','data-date','Telegram','</div><div\x20class=\x22dch-num\x22>','open','long','cancelled',':00</span>','blocked-range-part\x20stripe-bg','cancelHint','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x20status-completed','show','onClick','stringify','.sheet','rsDatesTrack','total','clientId','\x20-\x20','972828SyniVl','#ff453a','client_load','innerHTML','var(--acc-green)','color','pattern','280301wuZKeS','appendChild','–∑–∞\x20','filter','10oKZkMa','day-off-overlay\x20stripe-bg','start','clientWidth','loadLocal','client-stat-card','scrollLeft','get_slots','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','left','charAt','setHeaderColor','uc_client_list','uc_client_sessions','end','button','value','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','user','px\x200px','now','ranges','div','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','flex','getMinutes','time-label','style','#0a84ff','sort','cancelContainer','exceptions','11501wruIGr','rgba(','setItem','querySelectorAll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','forEach','getTime','WebApp','fontWeight','initDataUnsafe','toLocaleDateString','.btn-reschedule','strokeDashoffset','18uraPdb','day-col-header\x20','2319455XbjemB','detDate','coachId','addEventListener','%\x20+\x202px)','%\x20-\x204px)','dateStr','startsWith','search','.day-col-header','detStatus','width','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','<div\x20class=\x22rs-day-name\x22>','calendar','top','getDate','scrollWidth','firstChild','classList','overlay','mini','anCustomDates','offsetLeft','test','timeLineBadge','disableVerticalSwipes','toast','ccYesBtn','toUpperCase','getFullYear','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','none','block','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','then','getItem','createDocumentFragment','syncLoad','setBackgroundColor','60AcBKST','uc_client_settings','toString','getMonth','day-column\x20','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','.day-column','status','offClick','scrollTo','detNote','3824750NRrglv','data-day-idx','rs-time-btn','completed','#050505','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','BackButton','</div>','ru-RU','anTotalStats','remove','<div\x20class=\x22dch-day\x22>','anEnd','entries','max','querySelector','\x20—á.','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','rsSlotsGrid','borderLeftColor','anStart','isArray','location','error','rs-date-chip','anPercent','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','px\x20-','json','.period-switch\x20.p-btn','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','applyData','clients','600','<span>','ready','anDonutCircle','parse','POST','visible','Unknown','numeric','client_cancel','week','</span>\x20/\x20','detailsSheet','settings'];a3_0x100a=function(){return _0x3592a0;};return a3_0x100a();}function renderTimeColumn(){const _0x4068ba=a3_0xe58701,_0x315a5d=document[_0x4068ba(0x240)](_0x4068ba(0x253)),_0xd3c5fb=document[_0x4068ba(0x240)]('timeLineBadge');_0x315a5d[_0x4068ba(0x2a1)]='',_0x315a5d[_0x4068ba(0x2a6)](_0xd3c5fb);for(let _0x777547=0x0;_0x777547<0x18;_0x777547++){const _0x3de8a1=document[_0x4068ba(0x27c)](_0x4068ba(0x2bf));_0x3de8a1[_0x4068ba(0x23e)]=_0x4068ba(0x2c3);if(_0x777547>0x0)_0x3de8a1[_0x4068ba(0x2a1)]=_0x4068ba(0x229)+String(_0x777547)[_0x4068ba(0x237)](0x2,'0')+_0x4068ba(0x291);_0x315a5d[_0x4068ba(0x2a6)](_0x3de8a1);}}function renderDayRange(_0x4fc6ea,_0xec1a60){const _0xec2794=a3_0xe58701,_0x1f2d65=document[_0xec2794(0x240)]('daysHeaderTrack'),_0x2783e3=document[_0xec2794(0x240)](_0xec2794(0x287)),_0x36efa9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x168248=new Date();_0x168248[_0xec2794(0x266)](0x0,0x0,0x0,0x0);const _0x3ec9c0=getLocalDateStr(new Date());for(let _0x2f67d1=_0x4fc6ea;_0x2f67d1<=_0xec1a60;_0x2f67d1++){const _0x52f3aa=new Date(_0x168248);_0x52f3aa[_0xec2794(0x288)](_0x52f3aa[_0xec2794(0x1e3)]()+_0x2f67d1);const _0x330b73=getLocalDateStr(_0x52f3aa);let _0x3dde2c=_0x52f3aa[_0xec2794(0x27f)]()-0x1;if(_0x3dde2c===-0x1)_0x3dde2c=0x6;const _0x3fd1ba=_0x330b73===_0x3ec9c0,_0x5a67cf=document[_0xec2794(0x27c)]('div');_0x5a67cf[_0xec2794(0x23e)]=_0xec2794(0x2d7)+(_0x3fd1ba?_0xec2794(0x260):''),_0x5a67cf['setAttribute'](_0xec2794(0x28b),_0x330b73),_0x5a67cf[_0xec2794(0x2a1)]=_0xec2794(0x212)+_0x36efa9[_0x3dde2c]+_0xec2794(0x28d)+_0x52f3aa['getDate']()+'</div>',_0x1f2d65[_0xec2794(0x2a6)](_0x5a67cf);const _0x152229=document[_0xec2794(0x27c)]('div');_0x152229[_0xec2794(0x23e)]='day-column\x20'+(_0x3fd1ba?'today':''),_0x152229[_0xec2794(0x27a)](_0xec2794(0x28b),_0x330b73),_0x152229['setAttribute'](_0xec2794(0x207),_0x3dde2c),_0x2783e3['appendChild'](_0x152229);}}function reRenderBlocks(){const _0x4d66fd=a3_0xe58701;document['querySelectorAll']('.day-column')[_0x4d66fd(0x2ce)](_0x1ae2ed=>{const _0x2e5900=_0x4d66fd;_0x1ae2ed['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2e5900(0x2ce)](_0x1a1628=>_0x1a1628['remove']());const _0x361060=_0x1ae2ed[_0x2e5900(0x269)]('data-date'),_0x209d16=parseInt(_0x1ae2ed[_0x2e5900(0x269)](_0x2e5900(0x207))),_0x5d91a1=Math[_0x2e5900(0x20b)](_0x1ae2ed[_0x2e5900(0x1ea)]);(availabilityPattern[_0x209d16]||[])[_0x2e5900(0x2ce)](_0x1fbda2=>{const _0x32c414=_0x2e5900,_0x5adfcc=document[_0x32c414(0x27c)](_0x32c414(0x2bf));_0x5adfcc[_0x32c414(0x23e)]=_0x32c414(0x249),_0x5adfcc[_0x32c414(0x2c4)]['top']=_0x1fbda2*GRID_H+'px',_0x5adfcc[_0x32c414(0x2c4)][_0x32c414(0x23f)]='-'+_0x5d91a1+_0x32c414(0x222)+_0x1fbda2*GRID_H+'px',_0x1ae2ed['appendChild'](_0x5adfcc);});if(specialRanges[_0x2e5900(0x24f)]>0x0){const _0x2bee22=new Date(_0x361060+_0x2e5900(0x24b))[_0x2e5900(0x2cf)](),_0x206c7e=new Date(_0x361060+_0x2e5900(0x25d))[_0x2e5900(0x2cf)]();specialRanges[_0x2e5900(0x2ce)](_0x2a6b3a=>{const _0x367623=_0x2e5900,_0x414ca2=new Date(_0x2a6b3a[_0x367623(0x2ab)])[_0x367623(0x2cf)](),_0x3dee64=new Date(_0x2a6b3a['end'])['getTime'](),_0x128beb=Math[_0x367623(0x215)](_0x2bee22,_0x414ca2),_0x143ed2=Math[_0x367623(0x238)](_0x206c7e,_0x3dee64);if(_0x128beb<_0x143ed2){const _0x4eb2db=(_0x128beb-_0x2bee22)/0x36ee80*GRID_H,_0x41b8a2=(_0x143ed2-_0x128beb)/0x36ee80*GRID_H,_0x3236bc=document['createElement'](_0x367623(0x2bf));_0x41b8a2>=23.5*GRID_H?(_0x3236bc[_0x367623(0x23e)]=_0x367623(0x2aa),_0x3236bc[_0x367623(0x2c4)][_0x367623(0x23f)]='-'+_0x5d91a1+_0x367623(0x2bc)):(_0x3236bc[_0x367623(0x23e)]=_0x367623(0x292),_0x3236bc[_0x367623(0x2c4)][_0x367623(0x1e2)]=_0x4eb2db+'px',_0x3236bc[_0x367623(0x2c4)][_0x367623(0x248)]=_0x41b8a2+'px',_0x3236bc[_0x367623(0x2c4)][_0x367623(0x23f)]='-'+_0x5d91a1+_0x367623(0x222)+_0x4eb2db+'px'),_0x1ae2ed[_0x367623(0x2a6)](_0x3236bc);}});}renderEventsForColumn(_0x1ae2ed,_0x361060);});}function renderEventsForColumn(_0x152806,_0x2c2669){const _0x504c0a=a3_0xe58701,_0x3f06f0=sessions[_0x504c0a(0x2a8)](_0x27d114=>_0x27d114['dateStr']===_0x2c2669),_0x6e3cd1=_0x3f06f0['map'](_0x1c6e70=>{const _0x16b0b2=_0x504c0a,[_0xc0bcdd,_0x41b9f1]=_0x1c6e70[_0x16b0b2(0x2ab)]['split'](':')[_0x16b0b2(0x263)](Number),[_0x1a3622,_0x3d3b53]=_0x1c6e70[_0x16b0b2(0x2b7)][_0x16b0b2(0x261)](':')[_0x16b0b2(0x263)](Number);return{'data':_0x1c6e70,'start':_0xc0bcdd*0x3c+_0x41b9f1,'end':_0x1a3622*0x3c+_0x3d3b53,'colIndex':0x0};});_0x6e3cd1['sort']((_0x17dcd7,_0x1bab5a)=>_0x17dcd7[_0x504c0a(0x2ab)]-_0x1bab5a[_0x504c0a(0x2ab)]||_0x1bab5a[_0x504c0a(0x2b7)]-_0x1bab5a['start']-(_0x17dcd7[_0x504c0a(0x2b7)]-_0x17dcd7[_0x504c0a(0x2ab)]));const _0x520e48=[];_0x6e3cd1[_0x504c0a(0x2ce)](_0x477649=>{const _0x364587=_0x504c0a;let _0x2e2502=![];for(let _0x1af872=0x0;_0x1af872<_0x520e48['length'];_0x1af872++){const _0xc475bd=_0x520e48[_0x1af872];if(_0x477649[_0x364587(0x2ab)]>=_0xc475bd[_0xc475bd['length']-0x1][_0x364587(0x2b7)]){_0xc475bd[_0x364587(0x26e)](_0x477649),_0x477649['colIndex']=_0x1af872,_0x2e2502=!![];break;}}!_0x2e2502&&(_0x520e48[_0x364587(0x26e)]([_0x477649]),_0x477649[_0x364587(0x289)]=_0x520e48[_0x364587(0x24f)]-0x1);}),_0x6e3cd1['forEach'](_0x59942e=>{const _0x4da268=_0x504c0a;let _0x2a7671=0x0;_0x6e3cd1['forEach'](_0x1ce2e4=>{const _0x127ae9=a3_0x1879;if(Math['max'](_0x59942e[_0x127ae9(0x2ab)],_0x1ce2e4['start'])<Math['min'](_0x59942e[_0x127ae9(0x2b7)],_0x1ce2e4[_0x127ae9(0x2b7)])&&_0x1ce2e4[_0x127ae9(0x289)]>_0x2a7671)_0x2a7671=_0x1ce2e4[_0x127ae9(0x289)];});const _0x232754=_0x2a7671+0x1,_0x2a2e17=0x64/_0x232754,_0x3fc582=_0x59942e[_0x4da268(0x289)]*_0x2a2e17,_0x4de10c=document[_0x4da268(0x27c)](_0x4da268(0x2bf)),_0xc110de=_0x59942e[_0x4da268(0x255)];let _0x4bc58e=_0x4da268(0x2c5);if(clients&&clients['length']>0x0){const _0x53ce3f=clients[_0x4da268(0x24d)](_0x569507=>String(_0x569507['id'])===String(_0xc110de[_0x4da268(0x29c)]));if(_0x53ce3f&&_0x53ce3f[_0x4da268(0x2a3)])_0x4bc58e=_0x53ce3f[_0x4da268(0x2a3)];}const _0x4357bb=_0xc110de['status']===_0x4da268(0x209),_0x3db62d=_0x4357bb?0x1:0.45;_0x4de10c['className']=_0x4da268(0x242)+(_0x4357bb?_0x4da268(0x295):''),_0x4de10c[_0x4da268(0x2c4)][_0x4da268(0x286)]=hexToRgba(_0x4bc58e,_0x3db62d),_0x4de10c[_0x4da268(0x2c4)]['borderLeftColor']=_0x4bc58e;const _0x449e69=_0x59942e[_0x4da268(0x2ab)]/0x3c*GRID_H,_0x17f7ee=(_0x59942e[_0x4da268(0x2b7)]-_0x59942e[_0x4da268(0x2ab)])/0x3c*GRID_H;_0x4de10c[_0x4da268(0x2c4)][_0x4da268(0x1e2)]=_0x449e69+'px',_0x4de10c[_0x4da268(0x2c4)][_0x4da268(0x248)]=Math[_0x4da268(0x215)](_0x17f7ee,0x14)+'px',_0x4de10c[_0x4da268(0x2c4)][_0x4da268(0x2e3)]=_0x4da268(0x26b)+_0x2a2e17+_0x4da268(0x2dd),_0x4de10c['style'][_0x4da268(0x2b2)]=_0x4da268(0x26b)+_0x3fc582+_0x4da268(0x2dc),_0x4de10c[_0x4da268(0x2c4)][_0x4da268(0x247)]=0xa+_0x59942e[_0x4da268(0x289)];if(_0x2a2e17<0x55)_0x4de10c[_0x4da268(0x1e6)][_0x4da268(0x236)](_0x4da268(0x1e8));let _0xb5f490='';if(_0xc110de['seriesId'])_0xb5f490+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x4357bb)_0xb5f490+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x4de10c['innerHTML']=_0x4da268(0x20c)+_0xc110de[_0x4da268(0x2ab)]+_0x4da268(0x29d)+_0xc110de['end']+_0x4da268(0x274)+_0xb5f490+_0x4da268(0x265),_0x4de10c[_0x4da268(0x26d)]=_0x509c1b=>{const _0x174f86=_0x4da268;_0x509c1b[_0x174f86(0x281)](),openDetails(_0xc110de);},_0x152806['appendChild'](_0x4de10c);});}function openAnalytics(){const _0x5d8396=a3_0xe58701,_0x4072e4=document[_0x5d8396(0x216)](_0x5d8396(0x224));setAnalyticsPeriod(_0x5d8396(0x232),_0x4072e4),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xd6b8dc,_0x20a643){const _0x51ba04=a3_0xe58701;currentAnPeriod=_0xd6b8dc,document['querySelectorAll'](_0x51ba04(0x224))[_0x51ba04(0x2ce)](_0x267a10=>_0x267a10[_0x51ba04(0x1e6)][_0x51ba04(0x211)]('active'));if(_0x20a643)_0x20a643[_0x51ba04(0x1e6)]['add']('active');const _0x3687bf=document[_0x51ba04(0x240)](_0x51ba04(0x1e9));_0x3687bf[_0x51ba04(0x2c4)][_0x51ba04(0x259)]=_0xd6b8dc==='custom'?_0x51ba04(0x2c1):_0x51ba04(0x1f3);const _0x4ddc68=new Date();let _0x2381d9=new Date(),_0xff13bc=new Date();if(_0xd6b8dc==='week')_0x2381d9=getStartOfWeek(_0x4ddc68),_0xff13bc=new Date(_0x2381d9),_0xff13bc[_0x51ba04(0x288)](_0xff13bc[_0x51ba04(0x1e3)]()+0x6);else{if(_0xd6b8dc==='month')_0x2381d9=new Date(_0x4ddc68[_0x51ba04(0x1f1)](),_0x4ddc68[_0x51ba04(0x1fe)](),0x1),_0xff13bc=new Date(_0x4ddc68[_0x51ba04(0x1f1)](),_0x4ddc68[_0x51ba04(0x1fe)]()+0x1,0x0);else{!document[_0x51ba04(0x240)](_0x51ba04(0x21b))[_0x51ba04(0x2b9)]&&(document['getElementById'](_0x51ba04(0x21b))[_0x51ba04(0x2b9)]=getLocalDateStr(_0x4ddc68),document[_0x51ba04(0x240)](_0x51ba04(0x213))[_0x51ba04(0x2b9)]=getLocalDateStr(_0x4ddc68));refreshAnalytics();return;}}document[_0x51ba04(0x240)]('anStart')['value']=getLocalDateStr(_0x2381d9),document[_0x51ba04(0x240)](_0x51ba04(0x213))[_0x51ba04(0x2b9)]=getLocalDateStr(_0xff13bc),refreshAnalytics();}function a3_0x1879(_0x1ff91e,_0x5f35b9){_0x1ff91e=_0x1ff91e-0x1df;const _0x523e3f=a3_0x100a();let _0x2e6a87=_0x523e3f[_0x1ff91e];return _0x2e6a87;}function refreshAnalytics(){const _0x4de9b9=a3_0xe58701,_0x2b104c=document[_0x4de9b9(0x240)](_0x4de9b9(0x21b))[_0x4de9b9(0x2b9)],_0x5caf19=document[_0x4de9b9(0x240)](_0x4de9b9(0x213))['value'];if(!_0x2b104c||!_0x5caf19)return;const _0x442484=sessions['filter'](_0xbf5534=>_0xbf5534[_0x4de9b9(0x2de)]>=_0x2b104c&&_0xbf5534['dateStr']<=_0x5caf19&&_0xbf5534[_0x4de9b9(0x202)]!==_0x4de9b9(0x290)),_0x1fc3bf=_0x442484['length'],_0x986e27=_0x442484[_0x4de9b9(0x2a8)](_0x2075cf=>_0x2075cf[_0x4de9b9(0x202)]===_0x4de9b9(0x209))[_0x4de9b9(0x24f)],_0x18e845=_0x1fc3bf>0x0?Math['round'](_0x986e27/_0x1fc3bf*0x64):0x0;document[_0x4de9b9(0x240)](_0x4de9b9(0x220))[_0x4de9b9(0x276)]=_0x18e845+'%',document[_0x4de9b9(0x240)](_0x4de9b9(0x210))[_0x4de9b9(0x276)]=_0x986e27+_0x4de9b9(0x277)+_0x1fc3bf+_0x4de9b9(0x262);const _0x5aff27=document[_0x4de9b9(0x240)](_0x4de9b9(0x22b)),_0x1ce5f2=0x2*Math['PI']*0x23,_0xd4cfb0=_0x1ce5f2-_0x18e845/0x64*_0x1ce5f2;_0x5aff27['style'][_0x4de9b9(0x2d5)]=_0xd4cfb0;const _0x1ee063={};_0x442484[_0x4de9b9(0x2ce)](_0x539c11=>{const _0xa9437e=_0x4de9b9,_0x5d2804=_0x539c11[_0xa9437e(0x2da)]||_0xa9437e(0x22f);if(!_0x1ee063[_0x5d2804]){const _0x266e13='#'+_0x5d2804['toString']()[_0xa9437e(0x273)](0x0,0x6);_0x1ee063[_0x5d2804]={'total':0x0,'done':0x0,'color':_0x266e13};}_0x1ee063[_0x5d2804]['total']++;if(_0x539c11[_0xa9437e(0x202)]==='completed')_0x1ee063[_0x5d2804][_0xa9437e(0x26c)]++;});const _0x4a5d98=document[_0x4de9b9(0x240)](_0x4de9b9(0x25a));_0x4a5d98[_0x4de9b9(0x2a1)]='';const _0x134554=Object[_0x4de9b9(0x214)](_0x1ee063)['sort']((_0x18aae9,_0xefcb13)=>_0xefcb13[0x1][_0x4de9b9(0x29b)]-_0x18aae9[0x1]['total']);if(_0x134554['length']===0x0){_0x4a5d98[_0x4de9b9(0x2a1)]=_0x4de9b9(0x225);return;}_0x134554[_0x4de9b9(0x2ce)](([_0x396ede,_0x1be958])=>{const _0x3dc614=_0x4de9b9,_0x4a9590=Math['round'](_0x1be958[_0x3dc614(0x26c)]/_0x1be958['total']*0x64),_0x2a6ce3=document[_0x3dc614(0x27c)]('div');_0x2a6ce3['className']=_0x3dc614(0x2ae),_0x2a6ce3[_0x3dc614(0x2c4)][_0x3dc614(0x21a)]=_0x1be958[_0x3dc614(0x2a3)],_0x2a6ce3['innerHTML']=_0x3dc614(0x23d)+_0x396ede[_0x3dc614(0x273)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1be958[_0x3dc614(0x26c)]+_0x3dc614(0x233)+_0x1be958[_0x3dc614(0x29b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4a9590+_0x3dc614(0x272),_0x4a5d98[_0x3dc614(0x2a6)](_0x2a6ce3);});}function openDetails(_0x335585){const _0x195884=a3_0xe58701;currentSession=_0x335585;const _0x3bbf6a=new Date(_0x335585[_0x195884(0x2de)]),_0x5abe51=_0x3bbf6a[_0x195884(0x2d3)](_0x195884(0x20f),{'weekday':_0x195884(0x28f),'day':_0x195884(0x230),'month':'long'});document['getElementById'](_0x195884(0x2d9))['textContent']=_0x5abe51[_0x195884(0x2b3)](0x0)[_0x195884(0x1f0)]()+_0x5abe51[_0x195884(0x25b)](0x1),document[_0x195884(0x240)](_0x195884(0x23b))[_0x195884(0x276)]=_0x335585['start']+'\x20-\x20'+_0x335585[_0x195884(0x2b7)],document[_0x195884(0x240)](_0x195884(0x205))['textContent']=_0x335585[_0x195884(0x26a)]||_0x195884(0x221);const _0x206b71=document[_0x195884(0x240)](_0x195884(0x2e2)),_0x15b162=document[_0x195884(0x240)](_0x195884(0x2c7)),_0x1f7c83=_0x15b162[_0x195884(0x216)]('.btn-cancel'),_0xdd0cb5=_0x15b162['querySelector'](_0x195884(0x2d4)),_0x33a216=document[_0x195884(0x240)](_0x195884(0x293));if(_0x335585[_0x195884(0x202)]===_0x195884(0x209))_0x206b71[_0x195884(0x276)]=_0x195884(0x294),_0x206b71[_0x195884(0x2c4)]['color']=_0x195884(0x2a2),_0x15b162[_0x195884(0x2c4)][_0x195884(0x259)]=_0x195884(0x1f3);else{_0x206b71[_0x195884(0x276)]=_0x195884(0x241),_0x206b71[_0x195884(0x2c4)][_0x195884(0x2a3)]='var(--acc-blue)',_0x15b162[_0x195884(0x2c4)][_0x195884(0x259)]=_0x195884(0x1f4);const _0x2be4e9=new Date(_0x335585[_0x195884(0x2de)]+'T'+_0x335585['start']),_0xa17793=new Date(),_0x3f4df5=(_0x2be4e9-_0xa17793)/(0x3e8*0x3c*0x3c),_0x5843a2=coachProfiles[_0x335585['coachId']]&&coachProfiles[_0x335585[_0x195884(0x2da)]][_0x195884(0x268)]?parseInt(coachProfiles[_0x335585[_0x195884(0x2da)]]['cancel_window']):0x18;if(_0x5843a2===0x0||_0x3f4df5>=_0x5843a2)_0x1f7c83[_0x195884(0x2c4)][_0x195884(0x259)]=_0x195884(0x1f4),_0xdd0cb5[_0x195884(0x2c4)]['display']=_0x195884(0x1f4),_0x33a216[_0x195884(0x2c4)][_0x195884(0x259)]='none';else{_0x1f7c83[_0x195884(0x2c4)][_0x195884(0x259)]=_0x195884(0x1f3),_0xdd0cb5['style'][_0x195884(0x259)]=_0x195884(0x1f3),_0x33a216[_0x195884(0x2c4)]['display']=_0x195884(0x1f4);let _0x57e41a=_0x5843a2===0x0?_0x195884(0x1f2):_0x195884(0x2a7)+_0x5843a2+_0x195884(0x217);_0x33a216['textContent']=_0x195884(0x218)+_0x57e41a+_0x195884(0x23c);}}document['getElementById'](_0x195884(0x1e7))[_0x195884(0x1e6)]['add'](_0x195884(0x267)),document[_0x195884(0x240)](_0x195884(0x234))[_0x195884(0x1e6)][_0x195884(0x236)](_0x195884(0x28e));}function closeAllSheets(){const _0x53ad1e=a3_0xe58701;document[_0x53ad1e(0x240)](_0x53ad1e(0x1e7))['classList']['remove']('active'),document[_0x53ad1e(0x2cc)](_0x53ad1e(0x299))[_0x53ad1e(0x2ce)](_0x10a28d=>_0x10a28d[_0x53ad1e(0x1e6)][_0x53ad1e(0x211)]('open'));}function openSheet(_0x4dbbe3){const _0x557a71=a3_0xe58701;document[_0x557a71(0x240)]('overlay')[_0x557a71(0x1e6)][_0x557a71(0x236)](_0x557a71(0x267)),document[_0x557a71(0x240)](_0x4dbbe3)[_0x557a71(0x1e6)]['add'](_0x557a71(0x28e));}function getLocalDateStr(_0xc84187){const _0x5190aa=a3_0xe58701,_0x1c7059=_0xc84187[_0x5190aa(0x1f1)](),_0x1f6de2=String(_0xc84187['getMonth']()+0x1)[_0x5190aa(0x237)](0x2,'0'),_0x2f5f87=String(_0xc84187['getDate']())[_0x5190aa(0x237)](0x2,'0');return _0x1c7059+'-'+_0x1f6de2+'-'+_0x2f5f87;}function getStartOfWeek(_0x1aa489){const _0xa3daa4=a3_0xe58701,_0xc73e50=new Date(_0x1aa489),_0x32c320=_0xc73e50[_0xa3daa4(0x27f)](),_0x298cc8=_0xc73e50[_0xa3daa4(0x1e3)]()-_0x32c320+(_0x32c320===0x0?-0x6:0x1);return _0xc73e50[_0xa3daa4(0x288)](_0x298cc8),_0xc73e50['setHours'](0x0,0x0,0x0,0x0),_0xc73e50;}function scrollToToday(){const _0xd6f4e3=getLocalDateStr(new Date());setTimeout(()=>{const _0x46ea2d=a3_0x1879,_0x561bcc=document[_0x46ea2d(0x216)]('.day-col-header[data-date=\x22'+_0xd6f4e3+'\x22]');if(_0x561bcc){const _0x397332=document[_0x46ea2d(0x240)](_0x46ea2d(0x24a)),_0x5a1dc7=_0x561bcc[_0x46ea2d(0x1ea)]-_0x397332[_0x46ea2d(0x2ac)]/0x2+_0x561bcc['offsetWidth']/0x2;_0x397332[_0x46ea2d(0x204)]({'left':_0x5a1dc7,'behavior':'auto'}),_0x397332['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4826a4=a3_0xe58701,_0x34707c=new Date(),_0x3613bf=document['getElementById'](_0x4826a4(0x25e)),_0x4efe47=document[_0x4826a4(0x240)](_0x4826a4(0x1ec)),_0x43a9da=(_0x34707c[_0x4826a4(0x23a)]()*0x3c+_0x34707c[_0x4826a4(0x2c2)]())/0x3c*GRID_H;_0x3613bf[_0x4826a4(0x2c4)][_0x4826a4(0x1e2)]=_0x43a9da+'px',_0x3613bf[_0x4826a4(0x2c4)][_0x4826a4(0x259)]=_0x4826a4(0x1f4),_0x4efe47[_0x4826a4(0x2c4)][_0x4826a4(0x1e2)]=_0x43a9da+'px',_0x4efe47[_0x4826a4(0x2c4)]['display']=_0x4826a4(0x1f4),_0x4efe47['textContent']=String(_0x34707c[_0x4826a4(0x23a)]())[_0x4826a4(0x237)](0x2,'0')+':'+String(_0x34707c[_0x4826a4(0x2c2)]())['padStart'](0x2,'0');}function onScroll(){const _0x33dc0b=a3_0xe58701,_0x52bea4=document[_0x33dc0b(0x240)](_0x33dc0b(0x24a)),_0x1beda6=document[_0x33dc0b(0x2cc)](_0x33dc0b(0x2e1));for(let _0x31618f of _0x1beda6)if(_0x31618f['offsetLeft']>=_0x52bea4[_0x33dc0b(0x2af)]){const _0x303c08=new Date(_0x31618f['getAttribute'](_0x33dc0b(0x28b)));document[_0x33dc0b(0x240)]('headerMonth')[_0x33dc0b(0x276)]=_0x303c08[_0x33dc0b(0x252)]('ru',{'month':_0x33dc0b(0x28f)})['toUpperCase']()+'\x20'+_0x303c08[_0x33dc0b(0x1f1)]();break;}}function showToast(_0x3ef2dd){const _0x2e5b61=a3_0xe58701,_0x344057=document[_0x2e5b61(0x240)](_0x2e5b61(0x1ee));_0x344057['textContent']=_0x3ef2dd,_0x344057[_0x2e5b61(0x1e6)][_0x2e5b61(0x236)]('show'),setTimeout(()=>_0x344057['classList'][_0x2e5b61(0x211)](_0x2e5b61(0x296)),0x7d0);}function handleInfiniteScroll(){const _0x3cf726=a3_0xe58701,_0x55f2aa=document[_0x3cf726(0x240)](_0x3cf726(0x24a)),_0x4eabd3=_0x55f2aa[_0x3cf726(0x2af)],_0x5295e4=_0x55f2aa[_0x3cf726(0x1e4)],_0x578681=_0x55f2aa[_0x3cf726(0x2ac)];if(_0x5295e4-(_0x4eabd3+_0x578681)<0x12c){const _0x394d3f=endOffset;endOffset+=0xe,renderDayRange(_0x394d3f+0x1,endOffset),reRenderBlocks();}if(_0x4eabd3<0x12c){const _0x31c1bb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x31c1bb-0x1),_0x55f2aa['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xd26118,_0x449b30){const _0x4d1f6b=a3_0xe58701,_0x5854ba=document[_0x4d1f6b(0x240)]('daysHeaderTrack'),_0x105520=document[_0x4d1f6b(0x240)](_0x4d1f6b(0x287)),_0xbf7da7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b9a7a=new Date();_0x3b9a7a[_0x4d1f6b(0x266)](0x0,0x0,0x0,0x0);const _0x3aec73=getLocalDateStr(new Date()),_0x715f19=document[_0x4d1f6b(0x1f8)](),_0x4c8211=document['createDocumentFragment']();for(let _0x29fe25=_0xd26118;_0x29fe25<=_0x449b30;_0x29fe25++){const _0x6a55f0=new Date(_0x3b9a7a);_0x6a55f0[_0x4d1f6b(0x288)](_0x6a55f0[_0x4d1f6b(0x1e3)]()+_0x29fe25);const _0x2e4e6b=getLocalDateStr(_0x6a55f0);let _0x1b9d4d=_0x6a55f0[_0x4d1f6b(0x27f)]()-0x1;if(_0x1b9d4d===-0x1)_0x1b9d4d=0x6;const _0xe1b452=_0x2e4e6b===_0x3aec73,_0x40d450=document['createElement'](_0x4d1f6b(0x2bf));_0x40d450['className']=_0x4d1f6b(0x2d7)+(_0xe1b452?_0x4d1f6b(0x260):''),_0x40d450['setAttribute']('data-date',_0x2e4e6b),_0x40d450['innerHTML']=_0x4d1f6b(0x212)+_0xbf7da7[_0x1b9d4d]+'</div><div\x20class=\x22dch-num\x22>'+_0x6a55f0[_0x4d1f6b(0x1e3)]()+_0x4d1f6b(0x20e),_0x715f19[_0x4d1f6b(0x2a6)](_0x40d450);const _0x2d4d3a=document[_0x4d1f6b(0x27c)]('div');_0x2d4d3a[_0x4d1f6b(0x23e)]=_0x4d1f6b(0x1ff)+(_0xe1b452?_0x4d1f6b(0x260):''),_0x2d4d3a['setAttribute']('data-date',_0x2e4e6b),_0x2d4d3a[_0x4d1f6b(0x27a)]('data-day-idx',_0x1b9d4d),_0x4c8211['appendChild'](_0x2d4d3a);}_0x5854ba[_0x4d1f6b(0x284)](_0x715f19,_0x5854ba[_0x4d1f6b(0x1e5)]),_0x105520['insertBefore'](_0x4c8211,_0x105520[_0x4d1f6b(0x216)](_0x4d1f6b(0x201)));}function hexToRgba(_0x52d60b,_0x154e6c){const _0x196be0=a3_0xe58701;let _0x492487;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x196be0(0x1eb)](_0x52d60b))return _0x492487=_0x52d60b['substring'](0x1)['split'](''),_0x492487[_0x196be0(0x24f)]==0x3&&(_0x492487=[_0x492487[0x0],_0x492487[0x0],_0x492487[0x1],_0x492487[0x1],_0x492487[0x2],_0x492487[0x2]]),_0x492487='0x'+_0x492487['join'](''),_0x196be0(0x2ca)+[_0x492487>>0x10&0xff,_0x492487>>0x8&0xff,_0x492487&0xff][_0x196be0(0x282)](',')+','+_0x154e6c+')';return'rgba(10,\x20132,\x20255,\x20'+_0x154e6c+')';}let confirmResolver=null;function showCustomConfirm(_0x42d04c,_0x35b40f,_0x119df6=!![]){const _0x3920dc=a3_0xe58701;document[_0x3920dc(0x240)]('ccTitle')[_0x3920dc(0x276)]=_0x42d04c,document['getElementById'](_0x3920dc(0x27e))[_0x3920dc(0x276)]=_0x35b40f;const _0x3eff9b=document[_0x3920dc(0x240)](_0x3920dc(0x1ef));return _0x119df6?(_0x3eff9b[_0x3920dc(0x2c4)][_0x3920dc(0x2a3)]=_0x3920dc(0x29f),_0x3eff9b[_0x3920dc(0x2c4)][_0x3920dc(0x2d1)]=_0x3920dc(0x228)):(_0x3eff9b['style'][_0x3920dc(0x2a3)]='#0a84ff',_0x3eff9b['style'][_0x3920dc(0x2d1)]=_0x3920dc(0x228)),new Promise(_0x12e8f7=>{const _0x1a1e45=_0x3920dc;confirmResolver=_0x12e8f7,document[_0x1a1e45(0x240)]('customConfirm')[_0x1a1e45(0x1e6)]['add'](_0x1a1e45(0x22e));});}function resolveCustomConfirm(_0x59c83c){const _0x3f4f39=a3_0xe58701;document[_0x3f4f39(0x240)](_0x3f4f39(0x250))[_0x3f4f39(0x1e6)]['remove'](_0x3f4f39(0x22e));if(confirmResolver)confirmResolver(_0x59c83c);}async function tryCancelCurrentSession(){const _0x53fd49=a3_0xe58701;if(!currentSession)return;const _0x41079f=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x53fd49(0x2ba),!![]);if(!_0x41079f)return;const _0x384e3f=currentSession;closeAllSheets(),sessions=sessions[_0x53fd49(0x2a8)](_0x137a6e=>_0x137a6e['id']!==_0x384e3f['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x53fd49(0x2bd)]();try{const _0x4afa0e=window[_0x53fd49(0x28c)]?.[_0x53fd49(0x2d0)],_0x3422f6=await fetch(API_URL,{'method':_0x53fd49(0x22d),'body':JSON[_0x53fd49(0x298)]({'action':_0x53fd49(0x231),'init_data':_0x4afa0e?.[_0x53fd49(0x251)]||'','coachId':_0x384e3f[_0x53fd49(0x2da)],'dateStr':_0x384e3f['dateStr'],'sessionId':_0x384e3f['id']})});if(_0x3422f6['ok'])DataManager[_0x53fd49(0x24e)]();}catch(_0x1e3d5b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4833cc=a3_0xe58701;if(!currentSession)return;document['getElementById']('detailsSheet')['classList']['remove'](_0x4833cc(0x28e)),document[_0x4833cc(0x240)](_0x4833cc(0x244))[_0x4833cc(0x1e6)][_0x4833cc(0x236)](_0x4833cc(0x28e));const _0x4305ed=document[_0x4833cc(0x240)](_0x4833cc(0x29a)),_0x5b68b6=document[_0x4833cc(0x240)]('rsSlotsGrid');_0x4305ed['innerHTML']='',_0x5b68b6[_0x4833cc(0x2a1)]=_0x4833cc(0x2c0);const [_0x5a9a22,_0x2fff79]=currentSession[_0x4833cc(0x2ab)]['split'](':')[_0x4833cc(0x263)](Number),[_0x26bece,_0x5dd19e]=currentSession[_0x4833cc(0x2b7)][_0x4833cc(0x261)](':')[_0x4833cc(0x263)](Number),_0x3ddae2=_0x26bece*0x3c+_0x5dd19e-(_0x5a9a22*0x3c+_0x2fff79);try{const _0x4207e4=window[_0x4833cc(0x28c)]?.['WebApp'],_0x42cc18=await fetch(API_URL,{'method':_0x4833cc(0x22d),'body':JSON['stringify']({'action':_0x4833cc(0x2b0),'coachId':currentSession['coachId'],'duration':_0x3ddae2,'init_data':_0x4207e4?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x3836ac=await _0x42cc18[_0x4833cc(0x223)]();_0x3836ac['ok']&&_0x3836ac[_0x4833cc(0x255)]?(availableSlotsCache=_0x3836ac[_0x4833cc(0x255)],renderRescheduleDates()):_0x5b68b6[_0x4833cc(0x2a1)]=_0x4833cc(0x258);}catch(_0x22b29a){_0x5b68b6[_0x4833cc(0x2a1)]=_0x4833cc(0x1df);}}function renderRescheduleDates(){const _0x54630d=a3_0xe58701,_0x278d37=document[_0x54630d(0x240)]('rsDatesTrack');_0x278d37[_0x54630d(0x2a1)]='';const _0x34e9bf=Object[_0x54630d(0x256)](availableSlotsCache)[_0x54630d(0x2c6)](),_0x5e0a9b=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x34e9bf[_0x54630d(0x24f)]===0x0){document[_0x54630d(0x240)](_0x54630d(0x219))[_0x54630d(0x2a1)]=_0x54630d(0x2cd);return;}_0x34e9bf[_0x54630d(0x2ce)]((_0x5f10f0,_0x16d446)=>{const _0x1da97d=_0x54630d,_0x5d5b9a=new Date(_0x5f10f0),_0x2ec1b8=_0x5e0a9b[_0x5d5b9a[_0x1da97d(0x27f)]()],_0x4ebab5=_0x5d5b9a[_0x1da97d(0x1e3)](),_0x1da53b=document[_0x1da97d(0x27c)](_0x1da97d(0x2bf));_0x1da53b[_0x1da97d(0x23e)]=_0x1da97d(0x21f);if(_0x16d446===0x0)_0x1da53b[_0x1da97d(0x1e6)][_0x1da97d(0x236)](_0x1da97d(0x267));_0x1da53b['innerHTML']=_0x1da97d(0x1e0)+_0x2ec1b8+_0x1da97d(0x278)+_0x4ebab5+_0x1da97d(0x20e),_0x1da53b['onclick']=()=>selectRsDate(_0x5f10f0,_0x1da53b),_0x278d37[_0x1da97d(0x2a6)](_0x1da53b);}),selectRsDate(_0x34e9bf[0x0],_0x278d37[_0x54630d(0x1e5)]);}function selectRsDate(_0x501f94,_0x3632c0){const _0x45af49=a3_0xe58701;selectedRsDate=_0x501f94,document[_0x45af49(0x2cc)](_0x45af49(0x285))[_0x45af49(0x2ce)](_0x3f038f=>_0x3f038f[_0x45af49(0x1e6)][_0x45af49(0x211)](_0x45af49(0x267)));if(_0x3632c0)_0x3632c0[_0x45af49(0x1e6)][_0x45af49(0x236)](_0x45af49(0x267));const _0x3bdf20=document['getElementById']('rsSlotsGrid');_0x3bdf20[_0x45af49(0x2a1)]='';const _0x2eaf7f=availableSlotsCache[_0x501f94]||[];if(_0x2eaf7f[_0x45af49(0x24f)]===0x0){_0x3bdf20[_0x45af49(0x2a1)]=_0x45af49(0x258);return;}_0x2eaf7f[_0x45af49(0x2ce)](_0x4b9b77=>{const _0x1a29eb=_0x45af49,_0x1da68e=document[_0x1a29eb(0x27c)](_0x1a29eb(0x2b8));_0x1da68e[_0x1a29eb(0x23e)]=_0x1a29eb(0x208),_0x1da68e[_0x1a29eb(0x276)]=_0x4b9b77,_0x1da68e[_0x1a29eb(0x26d)]=()=>confirmReschedule(_0x4b9b77),_0x3bdf20[_0x1a29eb(0x2a6)](_0x1da68e);});}async function confirmReschedule(_0x5573a3){const _0x80effc=a3_0xe58701,_0x1496c4=new Date(selectedRsDate),_0x31e01d=_0x1496c4['toLocaleDateString']('ru-RU',{'day':'numeric','month':_0x80effc(0x28f)}),_0x2bafdf=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x80effc(0x1f5)+_0x31e01d+_0x80effc(0x26f)+_0x5573a3+'?',![]);if(!_0x2bafdf)return;closeAllSheets(),showToast(_0x80effc(0x200)),lastUserActionTime=Date['now']();const _0x37bb80=currentSession[_0x80effc(0x2de)],_0x1ab988=currentSession['id'],[_0x3f61e9,_0x48894d]=currentSession[_0x80effc(0x2ab)][_0x80effc(0x261)](':')[_0x80effc(0x263)](Number),[_0x343436,_0x3ad00f]=currentSession[_0x80effc(0x2b7)][_0x80effc(0x261)](':')[_0x80effc(0x263)](Number),_0x3e3113=_0x343436*0x3c+_0x3ad00f-(_0x3f61e9*0x3c+_0x48894d),[_0x2f472c,_0x2f5270]=_0x5573a3['split'](':')[_0x80effc(0x263)](Number),_0x545eee=_0x2f472c*0x3c+_0x2f5270+_0x3e3113,_0x1cfe22=Math[_0x80effc(0x270)](_0x545eee/0x3c),_0x121348=_0x545eee%0x3c,_0x669ec9=String(_0x1cfe22)[_0x80effc(0x237)](0x2,'0')+':'+String(_0x121348)[_0x80effc(0x237)](0x2,'0'),_0x1a0690=sessions[_0x80effc(0x28a)](_0x13fbc2=>_0x13fbc2['id']===_0x1ab988);_0x1a0690!==-0x1&&(sessions[_0x1a0690][_0x80effc(0x2de)]=selectedRsDate,sessions[_0x1a0690]['start']=_0x5573a3,sessions[_0x1a0690][_0x80effc(0x2b7)]=_0x669ec9,reRenderBlocks());try{const _0x11b08e=window[_0x80effc(0x28c)]?.[_0x80effc(0x2d0)],_0x52551a=await fetch(API_URL,{'method':_0x80effc(0x22d),'body':JSON[_0x80effc(0x298)]({'action':'reschedule','init_data':_0x11b08e?.[_0x80effc(0x251)]||'','oldSessionId':_0x1ab988,'oldDate':_0x37bb80,'newDate':selectedRsDate,'newTime':_0x5573a3,'coachId':currentSession[_0x80effc(0x2da)]})}),_0xa8273e=await _0x52551a[_0x80effc(0x223)]();!_0xa8273e['ok']?(showToast(_0x80effc(0x279)),DataManager['syncLoad']()):(showToast(_0x80effc(0x2b1)),DataManager['saveLocally']());}catch(_0x63110e){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0xe58701(0x243),init);