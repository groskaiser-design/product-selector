const a3_0x2129e9=a3_0x15a6;(function(_0x4850a6,_0x1fc214){const _0x586c20=a3_0x15a6,_0x4c1f72=_0x4850a6();while(!![]){try{const _0x2a5948=-parseInt(_0x586c20(0x1f5))/0x1+parseInt(_0x586c20(0x1ea))/0x2*(parseInt(_0x586c20(0x291))/0x3)+parseInt(_0x586c20(0x229))/0x4+parseInt(_0x586c20(0x1ab))/0x5+-parseInt(_0x586c20(0x195))/0x6+-parseInt(_0x586c20(0x23d))/0x7*(parseInt(_0x586c20(0x1ca))/0x8)+parseInt(_0x586c20(0x1ee))/0x9;if(_0x2a5948===_0x1fc214)break;else _0x4c1f72['push'](_0x4c1f72['shift']());}catch(_0x1ed57c){_0x4c1f72['push'](_0x4c1f72['shift']());}}}(a3_0x43b4,0x1edc5));const APP_VERSION=a3_0x2129e9(0x25b),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x2129e9(0x22e),KEY_SETTINGS=a3_0x2129e9(0x21f),KEY_CLIENTS=a3_0x2129e9(0x251);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x50b56b=a3_0x2129e9,_0x172924=(function(){let _0x13579f=!![];return function(_0x2136ba,_0x46954e){const _0x53f2e3=_0x13579f?function(){if(_0x46954e){const _0x3fd5ca=_0x46954e['apply'](_0x2136ba,arguments);return _0x46954e=null,_0x3fd5ca;}}:function(){};return _0x13579f=![],_0x53f2e3;};}()),_0x269e66=_0x172924(this,function(){const _0x1ecba4=a3_0x15a6;return _0x269e66[_0x1ecba4(0x28c)]()[_0x1ecba4(0x28f)](_0x1ecba4(0x26f))[_0x1ecba4(0x28c)]()[_0x1ecba4(0x207)](_0x269e66)[_0x1ecba4(0x28f)](_0x1ecba4(0x26f));});_0x269e66();try{const _0x30fb75=window[_0x50b56b(0x1d5)]?.['WebApp'];if(!_0x30fb75)return;_0x30fb75[_0x50b56b(0x1ed)](),_0x30fb75['expand']();try{_0x30fb75[_0x50b56b(0x215)]('#050505'),_0x30fb75[_0x50b56b(0x214)]&&_0x30fb75['setBackgroundColor'](_0x50b56b(0x24f));}catch(_0x5cd5cb){console[_0x50b56b(0x235)](_0x50b56b(0x1a7),_0x5cd5cb);}try{_0x30fb75[_0x50b56b(0x20c)]&&(_0x30fb75[_0x50b56b(0x20c)][_0x50b56b(0x275)](),_0x30fb75['BackButton'][_0x50b56b(0x1ac)](),_0x30fb75[_0x50b56b(0x20c)]['onClick'](function(){const _0x345253=_0x50b56b;window[_0x345253(0x230)][_0x345253(0x24e)]=_0x345253(0x1a5);}));}catch(_0x304b87){console[_0x50b56b(0x235)](_0x50b56b(0x218),_0x304b87);}try{if(_0x30fb75[_0x50b56b(0x1ec)])_0x30fb75['disableVerticalSwipes']();}catch(_0x1b5e0e){}}catch(_0x2ac100){console['error'](_0x50b56b(0x1e0),_0x2ac100);}}());function isAdmin(){const _0x49322e=a3_0x2129e9;try{const _0x1b4693=Number(window[_0x49322e(0x1d5)]?.[_0x49322e(0x1cc)]?.[_0x49322e(0x244)]?.[_0x49322e(0x285)]?.['id']);return _0x1b4693===0xbaf7174;}catch(_0x17fa13){return![];}}const DataManager={'saveLocally'(){const _0x47388b=a3_0x2129e9;try{localStorage[_0x47388b(0x1b9)](KEY_SESSIONS,JSON[_0x47388b(0x27f)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x47388b(0x27f)](clients)),localStorage[_0x47388b(0x1b9)](KEY_SETTINGS,JSON[_0x47388b(0x27f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x598de4){}},'loadLocal'(){const _0x7a4c38=a3_0x2129e9;try{const _0x6173e6=localStorage['getItem'](KEY_SESSIONS);if(_0x6173e6)sessions=JSON['parse'](_0x6173e6);const _0x1310e8=localStorage[_0x7a4c38(0x261)](KEY_CLIENTS);if(_0x1310e8)clients=JSON[_0x7a4c38(0x273)](_0x1310e8);const _0x52c0f6=localStorage[_0x7a4c38(0x261)](KEY_SETTINGS);if(_0x52c0f6){const _0x131e12=JSON[_0x7a4c38(0x273)](_0x52c0f6);if(_0x131e12[_0x7a4c38(0x1f4)])availabilityPattern=_0x131e12[_0x7a4c38(0x1f4)];if(_0x131e12[_0x7a4c38(0x20f)])specialRanges=_0x131e12[_0x7a4c38(0x20f)];if(_0x131e12[_0x7a4c38(0x1a4)])dateExceptions=_0x131e12[_0x7a4c38(0x1a4)];}}catch(_0x1fcbc7){}},async 'syncLoad'(){const _0x1e7e47=a3_0x2129e9,_0xc464f3=new Date(),_0x37d3b7=_0xc464f3[_0x1e7e47(0x200)]()+'-'+String(_0xc464f3[_0x1e7e47(0x1c2)]()+0x1)['padStart'](0x2,'0'),_0xdecab1=new Date(_0xc464f3);_0xdecab1[_0x1e7e47(0x1bb)](_0xc464f3[_0x1e7e47(0x1c2)]()+0x1);const _0x940b3=_0xdecab1[_0x1e7e47(0x200)]()+'-'+String(_0xdecab1[_0x1e7e47(0x1c2)]()+0x1)[_0x1e7e47(0x219)](0x2,'0'),_0x2d7837=Date['now']();try{const _0xa84fa0=window['Telegram']?.[_0x1e7e47(0x1cc)],_0x204c1a=_0xa84fa0?.[_0x1e7e47(0x1c1)]||'',[_0x19b1f2,_0x437b09]=await Promise[_0x1e7e47(0x1c7)]([fetch(API_URL,{'method':_0x1e7e47(0x1fe),'body':JSON[_0x1e7e47(0x27f)]({'action':_0x1e7e47(0x1e5),'init_data':_0x204c1a,'month_str':_0x37d3b7})})[_0x1e7e47(0x1ba)](_0x574dc8=>_0x574dc8[_0x1e7e47(0x22b)]()),fetch(API_URL,{'method':_0x1e7e47(0x1fe),'body':JSON[_0x1e7e47(0x27f)]({'action':'client_load','init_data':_0x204c1a,'month_str':_0x940b3})})[_0x1e7e47(0x1ba)](_0x4be210=>_0x4be210[_0x1e7e47(0x22b)]())]);if(lastUserActionTime>_0x2d7837){console[_0x1e7e47(0x235)](_0x1e7e47(0x21b));return;}if(_0x19b1f2['ok'])this['applyData'](_0x19b1f2[_0x1e7e47(0x249)],_0x37d3b7);if(_0x437b09['ok'])this[_0x1e7e47(0x198)](_0x437b09[_0x1e7e47(0x249)],_0x940b3);this[_0x1e7e47(0x224)]();}catch(_0x4206ea){}},'applyData'(_0x1af20c,_0x33863d){const _0x571d4f=a3_0x2129e9;if(!_0x1af20c)return;if(_0x1af20c[_0x571d4f(0x20e)]){if(_0x1af20c[_0x571d4f(0x20e)][_0x571d4f(0x1f4)])availabilityPattern=_0x1af20c['settings'][_0x571d4f(0x1f4)];if(_0x1af20c[_0x571d4f(0x20e)][_0x571d4f(0x20f)])specialRanges=_0x1af20c['settings'][_0x571d4f(0x20f)];if(_0x1af20c[_0x571d4f(0x20e)][_0x571d4f(0x1a4)])dateExceptions=_0x1af20c[_0x571d4f(0x20e)][_0x571d4f(0x1a4)];}if(_0x1af20c[_0x571d4f(0x1d2)]&&Array[_0x571d4f(0x1a8)](_0x1af20c['clients']))clients=_0x1af20c['clients'];_0x1af20c[_0x571d4f(0x24b)]&&(coachProfiles={...coachProfiles,..._0x1af20c[_0x571d4f(0x24b)]}),_0x1af20c[_0x571d4f(0x1f1)]&&(sessions=sessions[_0x571d4f(0x1dd)](_0x64619c=>!_0x64619c[_0x571d4f(0x25e)][_0x571d4f(0x21d)](_0x33863d)),Object[_0x571d4f(0x1bd)](_0x1af20c['calendar'])[_0x571d4f(0x26d)](_0x4d8012=>{const _0x2bb2dd=_0x571d4f,_0x3d984c=_0x1af20c[_0x2bb2dd(0x1f1)][_0x4d8012];_0x3d984c[_0x2bb2dd(0x26d)](_0x37531c=>{const _0x88d56=_0x2bb2dd;sessions[_0x88d56(0x284)]({'id':_0x37531c['i'],'clientId':_0x37531c['c'],'coachId':_0x37531c[_0x88d56(0x23e)],'dateStr':_0x33863d+'-'+_0x4d8012[_0x88d56(0x219)](0x2,'0'),'start':_0x37531c['s'],'end':_0x37531c['e'],'note':_0x37531c['n']||'','status':_0x37531c['st']||_0x88d56(0x1ff),'seriesId':_0x37531c[_0x88d56(0x232)]});});})),reRenderBlocks();}};function init(){const _0x62e1c1=a3_0x2129e9;DataManager[_0x62e1c1(0x270)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x62e1c1(0x258)](_0x62e1c1(0x277),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x1d4d90=a3_0x2129e9,_0x574c4f=document['getElementById']('timeColumn'),_0x50082f=document[_0x1d4d90(0x1e9)](_0x1d4d90(0x238));_0x574c4f[_0x1d4d90(0x225)]='',_0x574c4f[_0x1d4d90(0x290)](_0x50082f);for(let _0xb7e843=0x0;_0xb7e843<0x18;_0xb7e843++){const _0x3fd997=document[_0x1d4d90(0x211)]('div');_0x3fd997[_0x1d4d90(0x226)]=_0x1d4d90(0x254);if(_0xb7e843>0x0)_0x3fd997['innerHTML']=_0x1d4d90(0x20d)+String(_0xb7e843)['padStart'](0x2,'0')+_0x1d4d90(0x1cb);_0x574c4f['appendChild'](_0x3fd997);}}function renderDayRange(_0x588eb6,_0x274fc3){const _0x22a7b6=a3_0x2129e9,_0x32c6ad=document[_0x22a7b6(0x1e9)](_0x22a7b6(0x294)),_0x140edf=document['getElementById'](_0x22a7b6(0x1ae)),_0x36f5ff=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bc427=new Date();_0x1bc427[_0x22a7b6(0x1d7)](0x0,0x0,0x0,0x0);const _0x3a2d0e=getLocalDateStr(new Date());for(let _0xcd4bfc=_0x588eb6;_0xcd4bfc<=_0x274fc3;_0xcd4bfc++){const _0x438c08=new Date(_0x1bc427);_0x438c08[_0x22a7b6(0x24c)](_0x438c08[_0x22a7b6(0x19a)]()+_0xcd4bfc);const _0x3dd0fd=getLocalDateStr(_0x438c08);let _0x29501b=_0x438c08[_0x22a7b6(0x1e1)]()-0x1;if(_0x29501b===-0x1)_0x29501b=0x6;const _0x21cc54=_0x3dd0fd===_0x3a2d0e,_0x3845ca=document[_0x22a7b6(0x211)](_0x22a7b6(0x267));_0x3845ca[_0x22a7b6(0x226)]='day-col-header\x20'+(_0x21cc54?_0x22a7b6(0x208):''),_0x3845ca[_0x22a7b6(0x212)]('data-date',_0x3dd0fd),_0x3845ca[_0x22a7b6(0x225)]=_0x22a7b6(0x281)+_0x36f5ff[_0x29501b]+_0x22a7b6(0x25a)+_0x438c08[_0x22a7b6(0x19a)]()+_0x22a7b6(0x1a3),_0x32c6ad[_0x22a7b6(0x290)](_0x3845ca);const _0x193918=document[_0x22a7b6(0x211)](_0x22a7b6(0x267));_0x193918[_0x22a7b6(0x226)]=_0x22a7b6(0x289)+(_0x21cc54?_0x22a7b6(0x208):''),_0x193918[_0x22a7b6(0x212)]('data-date',_0x3dd0fd),_0x193918['setAttribute']('data-day-idx',_0x29501b),_0x140edf[_0x22a7b6(0x290)](_0x193918);}}function reRenderBlocks(){const _0x5109df=a3_0x2129e9;document[_0x5109df(0x234)](_0x5109df(0x19f))[_0x5109df(0x26d)](_0x4f12f8=>{const _0xbaf955=_0x5109df;_0x4f12f8[_0xbaf955(0x234)](_0xbaf955(0x23f))[_0xbaf955(0x26d)](_0x1fbf72=>_0x1fbf72[_0xbaf955(0x1de)]());const _0x23b007=_0x4f12f8[_0xbaf955(0x20b)](_0xbaf955(0x21a)),_0x127a8d=parseInt(_0x4f12f8['getAttribute']('data-day-idx')),_0x2b4bfd=Math[_0xbaf955(0x192)](_0x4f12f8[_0xbaf955(0x1d4)]);(availabilityPattern[_0x127a8d]||[])[_0xbaf955(0x26d)](_0x3a8ac5=>{const _0x2180ff=_0xbaf955,_0xf86ba0=document['createElement']('div');_0xf86ba0[_0x2180ff(0x226)]=_0x2180ff(0x1e3),_0xf86ba0['style'][_0x2180ff(0x1a2)]=_0x3a8ac5*GRID_H+'px',_0xf86ba0['style'][_0x2180ff(0x1aa)]='-'+_0x2b4bfd+_0x2180ff(0x266)+_0x3a8ac5*GRID_H+'px',_0x4f12f8[_0x2180ff(0x290)](_0xf86ba0);});if(specialRanges[_0xbaf955(0x203)]>0x0){const _0x45416a=new Date(_0x23b007+_0xbaf955(0x259))['getTime'](),_0x4abb45=new Date(_0x23b007+_0xbaf955(0x279))[_0xbaf955(0x25c)]();specialRanges[_0xbaf955(0x26d)](_0x3db0db=>{const _0x2fd986=_0xbaf955,_0x540220=new Date(_0x3db0db[_0x2fd986(0x28d)])[_0x2fd986(0x25c)](),_0x50cda7=new Date(_0x3db0db['end'])[_0x2fd986(0x25c)](),_0x52f262=Math[_0x2fd986(0x21c)](_0x45416a,_0x540220),_0x2195a4=Math[_0x2fd986(0x1f3)](_0x4abb45,_0x50cda7);if(_0x52f262<_0x2195a4){const _0x5ad338=(_0x52f262-_0x45416a)/0x36ee80*GRID_H,_0x3c4532=(_0x2195a4-_0x52f262)/0x36ee80*GRID_H,_0x5306ee=document['createElement'](_0x2fd986(0x267));_0x3c4532>=23.5*GRID_H?(_0x5306ee[_0x2fd986(0x226)]=_0x2fd986(0x220),_0x5306ee[_0x2fd986(0x246)]['backgroundPosition']='-'+_0x2b4bfd+'px\x200px'):(_0x5306ee[_0x2fd986(0x226)]=_0x2fd986(0x1be),_0x5306ee[_0x2fd986(0x246)][_0x2fd986(0x1a2)]=_0x5ad338+'px',_0x5306ee[_0x2fd986(0x246)][_0x2fd986(0x255)]=_0x3c4532+'px',_0x5306ee[_0x2fd986(0x246)][_0x2fd986(0x1aa)]='-'+_0x2b4bfd+_0x2fd986(0x266)+_0x5ad338+'px'),_0x4f12f8[_0x2fd986(0x290)](_0x5306ee);}});}renderEventsForColumn(_0x4f12f8,_0x23b007);});}function renderEventsForColumn(_0x2ab57c,_0x260833){const _0x1f6a6c=a3_0x2129e9,_0x4606ed=sessions[_0x1f6a6c(0x1dd)](_0x2208b4=>_0x2208b4[_0x1f6a6c(0x25e)]===_0x260833),_0x1478e7=_0x4606ed[_0x1f6a6c(0x263)](_0x238f0e=>{const _0x3a1c02=_0x1f6a6c,[_0x212a11,_0x481b99]=_0x238f0e['start'][_0x3a1c02(0x288)](':')[_0x3a1c02(0x263)](Number),[_0x2cd95e,_0x46087d]=_0x238f0e[_0x3a1c02(0x233)]['split'](':')[_0x3a1c02(0x263)](Number);return{'data':_0x238f0e,'start':_0x212a11*0x3c+_0x481b99,'end':_0x2cd95e*0x3c+_0x46087d,'colIndex':0x0};});_0x1478e7[_0x1f6a6c(0x269)]((_0x1c26bb,_0x11ba75)=>_0x1c26bb[_0x1f6a6c(0x28d)]-_0x11ba75[_0x1f6a6c(0x28d)]||_0x11ba75[_0x1f6a6c(0x233)]-_0x11ba75[_0x1f6a6c(0x28d)]-(_0x1c26bb['end']-_0x1c26bb[_0x1f6a6c(0x28d)]));const _0x242cec=[];_0x1478e7[_0x1f6a6c(0x26d)](_0x20e6fb=>{const _0x2c52ae=_0x1f6a6c;let _0x3552ce=![];for(let _0xb9935=0x0;_0xb9935<_0x242cec['length'];_0xb9935++){const _0x4146fa=_0x242cec[_0xb9935];if(_0x20e6fb[_0x2c52ae(0x28d)]>=_0x4146fa[_0x4146fa[_0x2c52ae(0x203)]-0x1][_0x2c52ae(0x233)]){_0x4146fa[_0x2c52ae(0x284)](_0x20e6fb),_0x20e6fb[_0x2c52ae(0x194)]=_0xb9935,_0x3552ce=!![];break;}}!_0x3552ce&&(_0x242cec[_0x2c52ae(0x284)]([_0x20e6fb]),_0x20e6fb['colIndex']=_0x242cec[_0x2c52ae(0x203)]-0x1);}),_0x1478e7[_0x1f6a6c(0x26d)](_0x54bf16=>{const _0x1cb34=_0x1f6a6c;let _0x5c9ff5=0x0;_0x1478e7['forEach'](_0x3d745e=>{const _0x514f3b=a3_0x15a6;if(Math[_0x514f3b(0x21c)](_0x54bf16[_0x514f3b(0x28d)],_0x3d745e[_0x514f3b(0x28d)])<Math['min'](_0x54bf16[_0x514f3b(0x233)],_0x3d745e[_0x514f3b(0x233)])&&_0x3d745e['colIndex']>_0x5c9ff5)_0x5c9ff5=_0x3d745e['colIndex'];});const _0x28784a=_0x5c9ff5+0x1,_0x3d2362=0x64/_0x28784a,_0x5d49ef=_0x54bf16[_0x1cb34(0x194)]*_0x3d2362,_0x3fc561=document[_0x1cb34(0x211)](_0x1cb34(0x267)),_0x172760=_0x54bf16[_0x1cb34(0x249)];let _0x38143d='#0a84ff';if(clients&&clients[_0x1cb34(0x203)]>0x0){const _0x35484a=clients[_0x1cb34(0x292)](_0x4182f7=>String(_0x4182f7['id'])===String(_0x172760[_0x1cb34(0x201)]));if(_0x35484a&&_0x35484a[_0x1cb34(0x1fa)])_0x38143d=_0x35484a['color'];}const _0x1314f0=_0x172760[_0x1cb34(0x1c8)]===_0x1cb34(0x1f8),_0x44ada6=_0x1314f0?0x1:0.45;_0x3fc561[_0x1cb34(0x226)]='event-card'+(_0x1314f0?_0x1cb34(0x1d1):''),_0x3fc561[_0x1cb34(0x246)][_0x1cb34(0x1bf)]=hexToRgba(_0x38143d,_0x44ada6),_0x3fc561['style'][_0x1cb34(0x1da)]=_0x38143d;const _0x2b85f1=_0x54bf16[_0x1cb34(0x28d)]/0x3c*GRID_H,_0x46f488=(_0x54bf16['end']-_0x54bf16[_0x1cb34(0x28d)])/0x3c*GRID_H;_0x3fc561[_0x1cb34(0x246)]['top']=_0x2b85f1+'px',_0x3fc561['style'][_0x1cb34(0x255)]=Math[_0x1cb34(0x21c)](_0x46f488,0x14)+'px',_0x3fc561[_0x1cb34(0x246)][_0x1cb34(0x1b4)]='calc('+_0x3d2362+_0x1cb34(0x206),_0x3fc561[_0x1cb34(0x246)][_0x1cb34(0x271)]=_0x1cb34(0x260)+_0x5d49ef+'%\x20+\x202px)',_0x3fc561[_0x1cb34(0x246)][_0x1cb34(0x227)]=0xa+_0x54bf16[_0x1cb34(0x194)];if(_0x3d2362<0x55)_0x3fc561[_0x1cb34(0x196)][_0x1cb34(0x1a0)](_0x1cb34(0x26b));let _0x14cb39='';if(_0x172760[_0x1cb34(0x293)])_0x14cb39+=_0x1cb34(0x256);if(_0x1314f0)_0x14cb39+=_0x1cb34(0x1e6);_0x3fc561[_0x1cb34(0x225)]=_0x1cb34(0x1f0)+_0x172760[_0x1cb34(0x28d)]+_0x1cb34(0x222)+_0x172760[_0x1cb34(0x233)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14cb39+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3fc561[_0x1cb34(0x274)]=_0x2f1eac=>{const _0x5c37f2=_0x1cb34;_0x2f1eac[_0x5c37f2(0x27a)](),openDetails(_0x172760);},_0x2ab57c[_0x1cb34(0x290)](_0x3fc561);});}function openAnalytics(){const _0x56609b=a3_0x2129e9,_0x3c6fb9=document[_0x56609b(0x1e4)](_0x56609b(0x1f2));setAnalyticsPeriod(_0x56609b(0x265),_0x3c6fb9),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1c5b5d,_0x1b3d20){const _0x20f57e=a3_0x2129e9;currentAnPeriod=_0x1c5b5d,document['querySelectorAll'](_0x20f57e(0x1f2))['forEach'](_0x1fb15f=>_0x1fb15f[_0x20f57e(0x196)][_0x20f57e(0x1de)]('active'));if(_0x1b3d20)_0x1b3d20[_0x20f57e(0x196)][_0x20f57e(0x1a0)](_0x20f57e(0x1c5));const _0x15a58d=document[_0x20f57e(0x1e9)](_0x20f57e(0x1c4));_0x15a58d[_0x20f57e(0x246)][_0x20f57e(0x1bc)]=_0x1c5b5d===_0x20f57e(0x272)?_0x20f57e(0x213):_0x20f57e(0x241);const _0xc7810b=new Date();let _0x162a1f=new Date(),_0x1af3e3=new Date();if(_0x1c5b5d===_0x20f57e(0x265))_0x162a1f=getStartOfWeek(_0xc7810b),_0x1af3e3=new Date(_0x162a1f),_0x1af3e3[_0x20f57e(0x24c)](_0x1af3e3[_0x20f57e(0x19a)]()+0x6);else{if(_0x1c5b5d===_0x20f57e(0x22d))_0x162a1f=new Date(_0xc7810b[_0x20f57e(0x200)](),_0xc7810b['getMonth'](),0x1),_0x1af3e3=new Date(_0xc7810b['getFullYear'](),_0xc7810b[_0x20f57e(0x1c2)]()+0x1,0x0);else{!document[_0x20f57e(0x1e9)](_0x20f57e(0x1e7))[_0x20f57e(0x20a)]&&(document[_0x20f57e(0x1e9)]('anStart')[_0x20f57e(0x20a)]=getLocalDateStr(_0xc7810b),document['getElementById'](_0x20f57e(0x1d3))[_0x20f57e(0x20a)]=getLocalDateStr(_0xc7810b));refreshAnalytics();return;}}document[_0x20f57e(0x1e9)](_0x20f57e(0x1e7))['value']=getLocalDateStr(_0x162a1f),document[_0x20f57e(0x1e9)]('anEnd')[_0x20f57e(0x20a)]=getLocalDateStr(_0x1af3e3),refreshAnalytics();}function a3_0x15a6(_0x26326a,_0x54e6b5){_0x26326a=_0x26326a-0x191;const _0x1fcc95=a3_0x43b4();let _0x200b69=_0x1fcc95[_0x26326a];return _0x200b69;}function refreshAnalytics(){const _0x1d5d38=a3_0x2129e9,_0x2ac144=document['getElementById'](_0x1d5d38(0x1e7))[_0x1d5d38(0x20a)],_0x1781e9=document['getElementById']('anEnd')['value'];if(!_0x2ac144||!_0x1781e9)return;const _0x584550=sessions['filter'](_0x490d0b=>_0x490d0b[_0x1d5d38(0x25e)]>=_0x2ac144&&_0x490d0b[_0x1d5d38(0x25e)]<=_0x1781e9&&_0x490d0b[_0x1d5d38(0x1c8)]!==_0x1d5d38(0x1b7)),_0x20201c=_0x584550[_0x1d5d38(0x203)],_0x16a0b8=_0x584550[_0x1d5d38(0x1dd)](_0x13dce5=>_0x13dce5[_0x1d5d38(0x1c8)]===_0x1d5d38(0x1f8))[_0x1d5d38(0x203)],_0x4dfcce=_0x20201c>0x0?Math[_0x1d5d38(0x192)](_0x16a0b8/_0x20201c*0x64):0x0;document[_0x1d5d38(0x1e9)]('anPercent')[_0x1d5d38(0x19e)]=_0x4dfcce+'%',document[_0x1d5d38(0x1e9)](_0x1d5d38(0x26a))['textContent']=_0x16a0b8+_0x1d5d38(0x243)+_0x20201c+_0x1d5d38(0x27b);const _0x34c6b2=document[_0x1d5d38(0x1e9)](_0x1d5d38(0x1f7)),_0xd8781d=0x2*Math['PI']*0x23,_0x3a13c1=_0xd8781d-_0x4dfcce/0x64*_0xd8781d;_0x34c6b2[_0x1d5d38(0x246)]['strokeDashoffset']=_0x3a13c1;const _0x59af02={};_0x584550[_0x1d5d38(0x26d)](_0x4c0062=>{const _0x99a840=_0x1d5d38,_0x130da5=_0x4c0062[_0x99a840(0x19c)]||_0x99a840(0x27c);if(!_0x59af02[_0x130da5]){const _0x237655='#'+_0x130da5[_0x99a840(0x28c)]()[_0x99a840(0x262)](0x0,0x6);_0x59af02[_0x130da5]={'total':0x0,'done':0x0,'color':_0x237655};}_0x59af02[_0x130da5]['total']++;if(_0x4c0062[_0x99a840(0x1c8)]===_0x99a840(0x1f8))_0x59af02[_0x130da5][_0x99a840(0x1a6)]++;});const _0x1a03e7=document[_0x1d5d38(0x1e9)](_0x1d5d38(0x199));_0x1a03e7[_0x1d5d38(0x225)]='';const _0x5db89f=Object[_0x1d5d38(0x280)](_0x59af02)[_0x1d5d38(0x269)]((_0x20aa21,_0x2580fb)=>_0x2580fb[0x1]['total']-_0x20aa21[0x1][_0x1d5d38(0x19d)]);if(_0x5db89f['length']===0x0){_0x1a03e7[_0x1d5d38(0x225)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x5db89f[_0x1d5d38(0x26d)](([_0x309328,_0x4f17e7])=>{const _0x235895=_0x1d5d38,_0x299d45=Math['round'](_0x4f17e7[_0x235895(0x1a6)]/_0x4f17e7[_0x235895(0x19d)]*0x64),_0x4bc817=document[_0x235895(0x211)](_0x235895(0x267));_0x4bc817[_0x235895(0x226)]=_0x235895(0x23a),_0x4bc817[_0x235895(0x246)][_0x235895(0x1da)]=_0x4f17e7[_0x235895(0x1fa)],_0x4bc817[_0x235895(0x225)]=_0x235895(0x237)+_0x309328[_0x235895(0x262)](0x0,0x5)+_0x235895(0x19b)+_0x4f17e7[_0x235895(0x1a6)]+_0x235895(0x1c3)+_0x4f17e7[_0x235895(0x19d)]+_0x235895(0x1a1)+_0x299d45+_0x235895(0x1e2),_0x1a03e7[_0x235895(0x290)](_0x4bc817);});}function openDetails(_0x192123){const _0x5b7a3f=a3_0x2129e9;currentSession=_0x192123;const _0x57786f=new Date(_0x192123[_0x5b7a3f(0x25e)]),_0xbb77f4=_0x57786f['toLocaleDateString'](_0x5b7a3f(0x1b2),{'weekday':_0x5b7a3f(0x1f6),'day':_0x5b7a3f(0x217),'month':_0x5b7a3f(0x1f6)});document[_0x5b7a3f(0x1e9)](_0x5b7a3f(0x1dc))['textContent']=_0xbb77f4['charAt'](0x0)[_0x5b7a3f(0x23b)]()+_0xbb77f4[_0x5b7a3f(0x245)](0x1),document[_0x5b7a3f(0x1e9)]('detTime')[_0x5b7a3f(0x19e)]=_0x192123['start']+_0x5b7a3f(0x222)+_0x192123[_0x5b7a3f(0x233)],document[_0x5b7a3f(0x1e9)](_0x5b7a3f(0x24a))[_0x5b7a3f(0x19e)]=_0x192123['note']||_0x5b7a3f(0x22c);const _0x48668c=document[_0x5b7a3f(0x1e9)](_0x5b7a3f(0x27e)),_0x402fa5=document[_0x5b7a3f(0x1e9)](_0x5b7a3f(0x1d0)),_0x4f84e4=_0x402fa5['querySelector'](_0x5b7a3f(0x268)),_0x3a96c3=_0x402fa5['querySelector']('.btn-reschedule'),_0x52a1e3=document[_0x5b7a3f(0x1e9)](_0x5b7a3f(0x236));if(_0x192123[_0x5b7a3f(0x1c8)]==='completed')_0x48668c[_0x5b7a3f(0x19e)]=_0x5b7a3f(0x24d),_0x48668c[_0x5b7a3f(0x246)][_0x5b7a3f(0x1fa)]=_0x5b7a3f(0x1fc),_0x402fa5[_0x5b7a3f(0x246)]['display']=_0x5b7a3f(0x241);else{_0x48668c[_0x5b7a3f(0x19e)]=_0x5b7a3f(0x1cd),_0x48668c[_0x5b7a3f(0x246)]['color']=_0x5b7a3f(0x250),_0x402fa5[_0x5b7a3f(0x246)][_0x5b7a3f(0x1bc)]=_0x5b7a3f(0x1ef);const _0x12be75=new Date(_0x192123[_0x5b7a3f(0x25e)]+'T'+_0x192123[_0x5b7a3f(0x28d)]),_0x5c9775=new Date(),_0x400655=(_0x12be75-_0x5c9775)/(0x3e8*0x3c*0x3c),_0x5596b9=coachProfiles[_0x192123[_0x5b7a3f(0x19c)]]&&coachProfiles[_0x192123[_0x5b7a3f(0x19c)]][_0x5b7a3f(0x1eb)]?parseInt(coachProfiles[_0x192123[_0x5b7a3f(0x19c)]][_0x5b7a3f(0x1eb)]):0x18;if(_0x5596b9===0x0||_0x400655>=_0x5596b9)_0x4f84e4[_0x5b7a3f(0x246)][_0x5b7a3f(0x1bc)]=_0x5b7a3f(0x1ef),_0x3a96c3[_0x5b7a3f(0x246)][_0x5b7a3f(0x1bc)]=_0x5b7a3f(0x1ef),_0x52a1e3[_0x5b7a3f(0x246)][_0x5b7a3f(0x1bc)]=_0x5b7a3f(0x241);else{_0x4f84e4[_0x5b7a3f(0x246)]['display']=_0x5b7a3f(0x241),_0x3a96c3[_0x5b7a3f(0x246)][_0x5b7a3f(0x1bc)]='none',_0x52a1e3['style'][_0x5b7a3f(0x1bc)]=_0x5b7a3f(0x1ef);let _0x3b977e=_0x5596b9===0x0?_0x5b7a3f(0x23c):_0x5b7a3f(0x240)+_0x5596b9+_0x5b7a3f(0x1d6);_0x52a1e3['textContent']=_0x5b7a3f(0x253)+_0x3b977e+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x5b7a3f(0x1b6))['classList'][_0x5b7a3f(0x1a0)](_0x5b7a3f(0x1c5)),document['getElementById']('detailsSheet')[_0x5b7a3f(0x196)][_0x5b7a3f(0x1a0)](_0x5b7a3f(0x28b));}function closeAllSheets(){const _0x1f2ea6=a3_0x2129e9;document[_0x1f2ea6(0x1e9)](_0x1f2ea6(0x1b6))['classList'][_0x1f2ea6(0x1de)](_0x1f2ea6(0x1c5)),document['querySelectorAll'](_0x1f2ea6(0x21e))[_0x1f2ea6(0x26d)](_0x1612d9=>_0x1612d9[_0x1f2ea6(0x196)][_0x1f2ea6(0x1de)]('open'));}function openSheet(_0x45ba4b){const _0x1b80c3=a3_0x2129e9;document[_0x1b80c3(0x1e9)]('overlay')[_0x1b80c3(0x196)][_0x1b80c3(0x1a0)](_0x1b80c3(0x1c5)),document['getElementById'](_0x45ba4b)['classList'][_0x1b80c3(0x1a0)](_0x1b80c3(0x28b));}function getLocalDateStr(_0x10dc4f){const _0x238c50=a3_0x2129e9,_0x1d7e67=_0x10dc4f[_0x238c50(0x200)](),_0x3b3e85=String(_0x10dc4f['getMonth']()+0x1)[_0x238c50(0x219)](0x2,'0'),_0x1078d7=String(_0x10dc4f[_0x238c50(0x19a)]())[_0x238c50(0x219)](0x2,'0');return _0x1d7e67+'-'+_0x3b3e85+'-'+_0x1078d7;}function getStartOfWeek(_0x419b0b){const _0x4e4e24=a3_0x2129e9,_0x4bbd82=new Date(_0x419b0b),_0xb95c55=_0x4bbd82[_0x4e4e24(0x1e1)](),_0x432716=_0x4bbd82['getDate']()-_0xb95c55+(_0xb95c55===0x0?-0x6:0x1);return _0x4bbd82[_0x4e4e24(0x24c)](_0x432716),_0x4bbd82[_0x4e4e24(0x1d7)](0x0,0x0,0x0,0x0),_0x4bbd82;}function a3_0x43b4(){const _0x5785da=['setItem','then','setMonth','display','keys','blocked-range-part\x20stripe-bg','backgroundColor','scrollLeft','initData','getMonth','</span>\x20/\x20','anCustomDates','active','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','all','status','headerMonth','296aoxoNE',':00</span>','WebApp','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','scrollTo','auto','cancelContainer','\x20status-completed','clients','anEnd','offsetLeft','Telegram','\x20—á.','setHours','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','rescheduleSheet','borderLeftColor','detailsSheet','detDate','filter','remove','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','Critical\x20TMA\x20Error:','getDay','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-slot\x20stripe-bg','querySelector','client_load','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anStart','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','getElementById','179062RJeHYg','cancel_window','disableVerticalSwipes','ready','924930EVHqYm','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','calendar','.period-switch\x20.p-btn','min','pattern','102101VVtfGW','long','anDonutCircle','completed','now','color','600','var(--acc-green)','toLocaleString','POST','planned','getFullYear','clientId','join','length','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','#0a84ff','%\x20-\x204px)','constructor','today','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','value','getAttribute','BackButton','<span>','settings','ranges','customConfirm','createElement','setAttribute','flex','setBackgroundColor','setHeaderColor','matrixViewport','numeric','Error\x20setting\x20back\x20button:','padStart','data-date','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','max','startsWith','.sheet','uc_client_settings','day-off-overlay\x20stripe-bg','insertBefore','\x20-\x20','toast','saveLocally','innerHTML','className','zIndex','getHours','579056ixewRw','ccTitle','json','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','month','uc_client_sessions','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','location','</div><div\x20class=\x22rs-day-num\x22>','sid','end','querySelectorAll','log','cancelHint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','timeLineBadge','rs-date-chip','client-stat-card','toUpperCase','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','23653UmliBC','cid','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–∑–∞\x20','none','fontWeight','\x20–∏–∑\x20','initDataUnsafe','slice','style','reschedule','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','data','detNote','coach_profiles','setDate','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','href','#050505','var(--acc-blue)','uc_client_list','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','time-label','height','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','addEventListener','T00:00:00','</div><div\x20class=\x22dch-num\x22>','v9.5-CLIENT-ANALYTICS','getTime','rgba(10,\x20132,\x20255,\x20','dateStr','getMinutes','calc(','getItem','substr','map','data-day-idx','week','px\x20-','div','.btn-cancel','sort','anTotalStats','mini','rs-time-btn','forEach','.day-col-header','(((.+)+)+)+$','loadLocal','left','custom','parse','onclick','show','firstChild','scroll','ccText','T23:59:59','stopPropagation','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Unknown','scrollTop','detStatus','stringify','entries','<div\x20class=\x22dch-day\x22>','substring','scrollWidth','push','user','day-col-header\x20','\x20–≤\x20','split','day-column\x20','.day-col-header[data-date=\x22','open','toString','start','<div\x20class=\x22rs-day-name\x22>','search','appendChild','6DTsZIW','find','seriesId','daysHeaderTrack','clientWidth','round','rsDatesTrack','colIndex','1292688itPtVA','classList','syncLoad','applyData','analyticsList','getDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','coachId','total','textContent','.day-column','add','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','top','</div>','exceptions','router.html','done','Error\x20setting\x20color:','isArray','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','backgroundPosition','711905IBekod','offClick','offsetWidth','gridColumns','visible','rsSlotsGrid','#ff453a','ru-RU','findIndex','width','toLocaleDateString','overlay','cancelled','createDocumentFragment'];a3_0x43b4=function(){return _0x5785da;};return a3_0x43b4();}function scrollToToday(){const _0x1d8460=getLocalDateStr(new Date());setTimeout(()=>{const _0x4dffe2=a3_0x15a6,_0x1979ca=document[_0x4dffe2(0x1e4)](_0x4dffe2(0x28a)+_0x1d8460+'\x22]');if(_0x1979ca){const _0x33151e=document['getElementById'](_0x4dffe2(0x216)),_0x1ab66a=_0x1979ca[_0x4dffe2(0x1d4)]-_0x33151e[_0x4dffe2(0x191)]/0x2+_0x1979ca[_0x4dffe2(0x1ad)]/0x2;_0x33151e[_0x4dffe2(0x1ce)]({'left':_0x1ab66a,'behavior':_0x4dffe2(0x1cf)}),_0x33151e[_0x4dffe2(0x27d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x422919=a3_0x2129e9,_0x32cb88=new Date(),_0x1881cc=document[_0x422919(0x1e9)]('globalTimeLine'),_0x1aa453=document[_0x422919(0x1e9)]('timeLineBadge'),_0x35cb40=(_0x32cb88[_0x422919(0x228)]()*0x3c+_0x32cb88[_0x422919(0x25f)]())/0x3c*GRID_H;_0x1881cc['style'][_0x422919(0x1a2)]=_0x35cb40+'px',_0x1881cc[_0x422919(0x246)]['display']=_0x422919(0x1ef),_0x1aa453['style'][_0x422919(0x1a2)]=_0x35cb40+'px',_0x1aa453['style'][_0x422919(0x1bc)]=_0x422919(0x1ef),_0x1aa453['textContent']=String(_0x32cb88['getHours']())['padStart'](0x2,'0')+':'+String(_0x32cb88[_0x422919(0x25f)]())[_0x422919(0x219)](0x2,'0');}function onScroll(){const _0x7058c1=a3_0x2129e9,_0x438c06=document['getElementById'](_0x7058c1(0x216)),_0x50db70=document['querySelectorAll'](_0x7058c1(0x26e));for(let _0x2e6229 of _0x50db70)if(_0x2e6229['offsetLeft']>=_0x438c06[_0x7058c1(0x1c0)]){const _0x16037b=new Date(_0x2e6229[_0x7058c1(0x20b)](_0x7058c1(0x21a)));document['getElementById'](_0x7058c1(0x1c9))['textContent']=_0x16037b[_0x7058c1(0x1fd)]('ru',{'month':_0x7058c1(0x1f6)})[_0x7058c1(0x23b)]()+'\x20'+_0x16037b[_0x7058c1(0x200)]();break;}}function showToast(_0x5edf7e){const _0x21995b=a3_0x2129e9,_0x45fb63=document[_0x21995b(0x1e9)](_0x21995b(0x223));_0x45fb63[_0x21995b(0x19e)]=_0x5edf7e,_0x45fb63[_0x21995b(0x196)][_0x21995b(0x1a0)](_0x21995b(0x275)),setTimeout(()=>_0x45fb63['classList'][_0x21995b(0x1de)](_0x21995b(0x275)),0x7d0);}function handleInfiniteScroll(){const _0x26589f=a3_0x2129e9,_0x1334e5=document[_0x26589f(0x1e9)](_0x26589f(0x216)),_0x43a92b=_0x1334e5['scrollLeft'],_0x183728=_0x1334e5[_0x26589f(0x283)],_0x2db813=_0x1334e5[_0x26589f(0x191)];if(_0x183728-(_0x43a92b+_0x2db813)<0x12c){const _0x55f0ed=endOffset;endOffset+=0xe,renderDayRange(_0x55f0ed+0x1,endOffset),reRenderBlocks();}if(_0x43a92b<0x12c){const _0x583b1e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x583b1e-0x1),_0x1334e5[_0x26589f(0x1c0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x20b590,_0x1a2389){const _0x497027=a3_0x2129e9,_0x4a2f5f=document[_0x497027(0x1e9)](_0x497027(0x294)),_0x1a2fd1=document[_0x497027(0x1e9)](_0x497027(0x1ae)),_0x1422dc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47467b=new Date();_0x47467b[_0x497027(0x1d7)](0x0,0x0,0x0,0x0);const _0x288319=getLocalDateStr(new Date()),_0x525bd3=document['createDocumentFragment'](),_0x5d2e08=document[_0x497027(0x1b8)]();for(let _0x443b05=_0x20b590;_0x443b05<=_0x1a2389;_0x443b05++){const _0x5a39be=new Date(_0x47467b);_0x5a39be[_0x497027(0x24c)](_0x5a39be[_0x497027(0x19a)]()+_0x443b05);const _0x17c132=getLocalDateStr(_0x5a39be);let _0x37637e=_0x5a39be[_0x497027(0x1e1)]()-0x1;if(_0x37637e===-0x1)_0x37637e=0x6;const _0x5cd291=_0x17c132===_0x288319,_0x5e3735=document[_0x497027(0x211)]('div');_0x5e3735['className']=_0x497027(0x286)+(_0x5cd291?'today':''),_0x5e3735['setAttribute'](_0x497027(0x21a),_0x17c132),_0x5e3735[_0x497027(0x225)]=_0x497027(0x281)+_0x1422dc[_0x37637e]+_0x497027(0x25a)+_0x5a39be[_0x497027(0x19a)]()+'</div>',_0x525bd3[_0x497027(0x290)](_0x5e3735);const _0xc56944=document[_0x497027(0x211)](_0x497027(0x267));_0xc56944[_0x497027(0x226)]=_0x497027(0x289)+(_0x5cd291?_0x497027(0x208):''),_0xc56944[_0x497027(0x212)]('data-date',_0x17c132),_0xc56944['setAttribute'](_0x497027(0x264),_0x37637e),_0x5d2e08[_0x497027(0x290)](_0xc56944);}_0x4a2f5f[_0x497027(0x221)](_0x525bd3,_0x4a2f5f[_0x497027(0x276)]),_0x1a2fd1[_0x497027(0x221)](_0x5d2e08,_0x1a2fd1[_0x497027(0x1e4)]('.day-column'));}function hexToRgba(_0x5c4ea2,_0x56d054){const _0x5083bd=a3_0x2129e9;let _0x906c6d;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x5c4ea2))return _0x906c6d=_0x5c4ea2[_0x5083bd(0x282)](0x1)[_0x5083bd(0x288)](''),_0x906c6d[_0x5083bd(0x203)]==0x3&&(_0x906c6d=[_0x906c6d[0x0],_0x906c6d[0x0],_0x906c6d[0x1],_0x906c6d[0x1],_0x906c6d[0x2],_0x906c6d[0x2]]),_0x906c6d='0x'+_0x906c6d[_0x5083bd(0x202)](''),'rgba('+[_0x906c6d>>0x10&0xff,_0x906c6d>>0x8&0xff,_0x906c6d&0xff]['join'](',')+','+_0x56d054+')';return _0x5083bd(0x25d)+_0x56d054+')';}let confirmResolver=null;function showCustomConfirm(_0x5c71c9,_0x2f4b51,_0x1acdcb=!![]){const _0x25e406=a3_0x2129e9;document[_0x25e406(0x1e9)](_0x25e406(0x22a))[_0x25e406(0x19e)]=_0x5c71c9,document[_0x25e406(0x1e9)](_0x25e406(0x278))[_0x25e406(0x19e)]=_0x2f4b51;const _0x570d73=document[_0x25e406(0x1e9)]('ccYesBtn');return _0x1acdcb?(_0x570d73[_0x25e406(0x246)]['color']=_0x25e406(0x1b1),_0x570d73['style'][_0x25e406(0x242)]=_0x25e406(0x1fb)):(_0x570d73['style'][_0x25e406(0x1fa)]=_0x25e406(0x205),_0x570d73[_0x25e406(0x246)][_0x25e406(0x242)]='600'),new Promise(_0x466c95=>{const _0x431b47=_0x25e406;confirmResolver=_0x466c95,document['getElementById'](_0x431b47(0x210))['classList'][_0x431b47(0x1a0)]('visible');});}function resolveCustomConfirm(_0x14dbe4){const _0x2bd20f=a3_0x2129e9;document['getElementById']('customConfirm')[_0x2bd20f(0x196)][_0x2bd20f(0x1de)](_0x2bd20f(0x1af));if(confirmResolver)confirmResolver(_0x14dbe4);}async function tryCancelCurrentSession(){const _0x338b26=a3_0x2129e9;if(!currentSession)return;const _0x518ad2=await showCustomConfirm(_0x338b26(0x257),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x518ad2)return;const _0x3a34a9=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x42c296=>_0x42c296['id']!==_0x3a34a9['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x338b26(0x1f9)]();try{const _0xbaf40c=window[_0x338b26(0x1d5)]?.[_0x338b26(0x1cc)],_0x488eda=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0xbaf40c?.[_0x338b26(0x1c1)]||'','coachId':_0x3a34a9[_0x338b26(0x19c)],'dateStr':_0x3a34a9[_0x338b26(0x25e)],'sessionId':_0x3a34a9['id']})});if(_0x488eda['ok'])DataManager[_0x338b26(0x224)]();}catch(_0x437819){showToast(_0x338b26(0x1d8));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2dd93a=a3_0x2129e9;if(!currentSession)return;document[_0x2dd93a(0x1e9)](_0x2dd93a(0x1db))[_0x2dd93a(0x196)]['remove'](_0x2dd93a(0x28b)),document[_0x2dd93a(0x1e9)](_0x2dd93a(0x1d9))[_0x2dd93a(0x196)][_0x2dd93a(0x1a0)](_0x2dd93a(0x28b));const _0x1913d0=document[_0x2dd93a(0x1e9)]('rsDatesTrack'),_0x432c99=document[_0x2dd93a(0x1e9)](_0x2dd93a(0x1b0));_0x1913d0[_0x2dd93a(0x225)]='',_0x432c99[_0x2dd93a(0x225)]=_0x2dd93a(0x1a9);const [_0x2b11d0,_0x27c466]=currentSession[_0x2dd93a(0x28d)]['split'](':')['map'](Number),[_0x5ea335,_0x304423]=currentSession[_0x2dd93a(0x233)]['split'](':')['map'](Number),_0xc3fb90=_0x5ea335*0x3c+_0x304423-(_0x2b11d0*0x3c+_0x27c466);try{const _0x5cd87f=window[_0x2dd93a(0x1d5)]?.['WebApp'],_0xf2a600=await fetch(API_URL,{'method':'POST','body':JSON[_0x2dd93a(0x27f)]({'action':'get_slots','coachId':currentSession[_0x2dd93a(0x19c)],'duration':_0xc3fb90,'init_data':_0x5cd87f?.[_0x2dd93a(0x1c1)]||'','excludeSessionId':currentSession['id']})}),_0x3c92a9=await _0xf2a600[_0x2dd93a(0x22b)]();_0x3c92a9['ok']&&_0x3c92a9['data']?(availableSlotsCache=_0x3c92a9[_0x2dd93a(0x249)],renderRescheduleDates()):_0x432c99[_0x2dd93a(0x225)]=_0x2dd93a(0x252);}catch(_0x47b8cf){_0x432c99[_0x2dd93a(0x225)]=_0x2dd93a(0x204);}}function renderRescheduleDates(){const _0x167a55=a3_0x2129e9,_0x33366e=document[_0x167a55(0x1e9)](_0x167a55(0x193));_0x33366e[_0x167a55(0x225)]='';const _0x32ce05=Object[_0x167a55(0x1bd)](availableSlotsCache)['sort'](),_0x1e6ba0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x32ce05[_0x167a55(0x203)]===0x0){document['getElementById'](_0x167a55(0x1b0))['innerHTML']=_0x167a55(0x248);return;}_0x32ce05[_0x167a55(0x26d)]((_0x3182f6,_0x25e51f)=>{const _0x2213f9=_0x167a55,_0x12611f=new Date(_0x3182f6),_0x4746d3=_0x1e6ba0[_0x12611f[_0x2213f9(0x1e1)]()],_0x271ed5=_0x12611f[_0x2213f9(0x19a)](),_0xc46d04=document[_0x2213f9(0x211)](_0x2213f9(0x267));_0xc46d04[_0x2213f9(0x226)]=_0x2213f9(0x239);if(_0x25e51f===0x0)_0xc46d04['classList'][_0x2213f9(0x1a0)]('active');_0xc46d04['innerHTML']=_0x2213f9(0x28e)+_0x4746d3+_0x2213f9(0x231)+_0x271ed5+_0x2213f9(0x1a3),_0xc46d04[_0x2213f9(0x274)]=()=>selectRsDate(_0x3182f6,_0xc46d04),_0x33366e[_0x2213f9(0x290)](_0xc46d04);}),selectRsDate(_0x32ce05[0x0],_0x33366e['firstChild']);}function selectRsDate(_0x42d233,_0x18a0c3){const _0x503cb2=a3_0x2129e9;selectedRsDate=_0x42d233,document[_0x503cb2(0x234)]('.rs-date-chip')[_0x503cb2(0x26d)](_0x4cab52=>_0x4cab52[_0x503cb2(0x196)][_0x503cb2(0x1de)](_0x503cb2(0x1c5)));if(_0x18a0c3)_0x18a0c3[_0x503cb2(0x196)][_0x503cb2(0x1a0)]('active');const _0x55f8a6=document[_0x503cb2(0x1e9)](_0x503cb2(0x1b0));_0x55f8a6[_0x503cb2(0x225)]='';const _0x447ff5=availableSlotsCache[_0x42d233]||[];if(_0x447ff5[_0x503cb2(0x203)]===0x0){_0x55f8a6[_0x503cb2(0x225)]=_0x503cb2(0x252);return;}_0x447ff5['forEach'](_0x405919=>{const _0x3f9c76=_0x503cb2,_0x24bbe0=document[_0x3f9c76(0x211)]('button');_0x24bbe0[_0x3f9c76(0x226)]=_0x3f9c76(0x26c),_0x24bbe0[_0x3f9c76(0x19e)]=_0x405919,_0x24bbe0[_0x3f9c76(0x274)]=()=>confirmReschedule(_0x405919),_0x55f8a6[_0x3f9c76(0x290)](_0x24bbe0);});}async function confirmReschedule(_0x5ad7a9){const _0x48f60f=a3_0x2129e9,_0x378dc1=new Date(selectedRsDate),_0x285f10=_0x378dc1[_0x48f60f(0x1b5)](_0x48f60f(0x1b2),{'day':_0x48f60f(0x217),'month':_0x48f60f(0x1f6)}),_0xd08527=await showCustomConfirm(_0x48f60f(0x22f),_0x48f60f(0x1df)+_0x285f10+_0x48f60f(0x287)+_0x5ad7a9+'?',![]);if(!_0xd08527)return;closeAllSheets(),showToast(_0x48f60f(0x209)),lastUserActionTime=Date[_0x48f60f(0x1f9)]();const _0x4270bb=currentSession[_0x48f60f(0x25e)],_0x53e9b9=currentSession['id'],[_0x89e754,_0x30a5fe]=currentSession[_0x48f60f(0x28d)][_0x48f60f(0x288)](':')[_0x48f60f(0x263)](Number),[_0x2ce1ed,_0x129d3a]=currentSession['end'][_0x48f60f(0x288)](':')[_0x48f60f(0x263)](Number),_0xa63067=_0x2ce1ed*0x3c+_0x129d3a-(_0x89e754*0x3c+_0x30a5fe),[_0x1df264,_0x274714]=_0x5ad7a9[_0x48f60f(0x288)](':')['map'](Number),_0x2b3d91=_0x1df264*0x3c+_0x274714+_0xa63067,_0x3dcb46=Math['floor'](_0x2b3d91/0x3c),_0xfbe59f=_0x2b3d91%0x3c,_0x2e6b1e=String(_0x3dcb46)['padStart'](0x2,'0')+':'+String(_0xfbe59f)[_0x48f60f(0x219)](0x2,'0'),_0x3167e2=sessions[_0x48f60f(0x1b3)](_0x346179=>_0x346179['id']===_0x53e9b9);_0x3167e2!==-0x1&&(sessions[_0x3167e2][_0x48f60f(0x25e)]=selectedRsDate,sessions[_0x3167e2]['start']=_0x5ad7a9,sessions[_0x3167e2][_0x48f60f(0x233)]=_0x2e6b1e,reRenderBlocks());try{const _0x5d32a8=window[_0x48f60f(0x1d5)]?.[_0x48f60f(0x1cc)],_0x3b2bbd=await fetch(API_URL,{'method':_0x48f60f(0x1fe),'body':JSON[_0x48f60f(0x27f)]({'action':_0x48f60f(0x247),'init_data':_0x5d32a8?.[_0x48f60f(0x1c1)]||'','oldSessionId':_0x53e9b9,'oldDate':_0x4270bb,'newDate':selectedRsDate,'newTime':_0x5ad7a9,'coachId':currentSession['coachId']})}),_0x3ba395=await _0x3b2bbd['json']();!_0x3ba395['ok']?(showToast(_0x48f60f(0x1c6)),DataManager[_0x48f60f(0x197)]()):(showToast(_0x48f60f(0x1e8)),DataManager['saveLocally']());}catch(_0x48246e){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x2129e9(0x258)]('DOMContentLoaded',init);