const a3_0xd746bd=a3_0x2f29;(function(_0xd23d8,_0x4a3f46){const _0x7bf567=a3_0x2f29,_0x2992b1=_0xd23d8();while(!![]){try{const _0x1cd0b2=parseInt(_0x7bf567(0x206))/0x1+parseInt(_0x7bf567(0x22e))/0x2+parseInt(_0x7bf567(0x236))/0x3*(parseInt(_0x7bf567(0x185))/0x4)+-parseInt(_0x7bf567(0x19c))/0x5*(-parseInt(_0x7bf567(0x166))/0x6)+-parseInt(_0x7bf567(0x253))/0x7*(parseInt(_0x7bf567(0x220))/0x8)+parseInt(_0x7bf567(0x188))/0x9*(parseInt(_0x7bf567(0x242))/0xa)+parseInt(_0x7bf567(0x241))/0xb*(-parseInt(_0x7bf567(0x182))/0xc);if(_0x1cd0b2===_0x4a3f46)break;else _0x2992b1['push'](_0x2992b1['shift']());}catch(_0xf4dc84){_0x2992b1['push'](_0x2992b1['shift']());}}}(a3_0x43c7,0x2541e));const APP_VERSION=a3_0xd746bd(0x195),API_URL=a3_0xd746bd(0x1c9),GRID_H=0x3c,KEY_SESSIONS=a3_0xd746bd(0x1ef),KEY_SETTINGS=a3_0xd746bd(0x1e6),KEY_CLIENTS=a3_0xd746bd(0x1fa);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xd746bd(0x1f5),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x26c070=a3_0xd746bd,_0x310a25=(function(){let _0x5b205d=!![];return function(_0x154e5f,_0x309827){const _0x4bf4a0=_0x5b205d?function(){const _0x2226b4=a3_0x2f29;if(_0x309827){const _0x557dcc=_0x309827[_0x2226b4(0x16a)](_0x154e5f,arguments);return _0x309827=null,_0x557dcc;}}:function(){};return _0x5b205d=![],_0x4bf4a0;};}()),_0x47dec5=_0x310a25(this,function(){const _0x38f097=a3_0x2f29;return _0x47dec5[_0x38f097(0x1d4)]()[_0x38f097(0x1fb)]('(((.+)+)+)+$')[_0x38f097(0x1d4)]()[_0x38f097(0x1dc)](_0x47dec5)[_0x38f097(0x1fb)](_0x38f097(0x25e));});_0x47dec5();try{const _0x4ab8b6=window[_0x26c070(0x22c)]?.['WebApp'];if(!_0x4ab8b6)return;_0x4ab8b6[_0x26c070(0x207)](),_0x4ab8b6['expand']();try{_0x4ab8b6[_0x26c070(0x1f7)](_0x26c070(0x1bf)),_0x4ab8b6[_0x26c070(0x1b1)]&&_0x4ab8b6['setBackgroundColor'](_0x26c070(0x1bf));}catch(_0x9ca5bb){console[_0x26c070(0x247)](_0x26c070(0x1e7),_0x9ca5bb);}try{_0x4ab8b6['BackButton']&&(_0x4ab8b6[_0x26c070(0x20e)][_0x26c070(0x23b)](),_0x4ab8b6[_0x26c070(0x20e)]['offClick'](),_0x4ab8b6[_0x26c070(0x20e)]['onClick'](function(){const _0x2a271c=_0x26c070;window[_0x2a271c(0x1c6)][_0x2a271c(0x1a6)]='router.html';}));}catch(_0x53d40c){console['log'](_0x26c070(0x248),_0x53d40c);}try{if(_0x4ab8b6[_0x26c070(0x179)])_0x4ab8b6[_0x26c070(0x179)]();}catch(_0x451d4c){}}catch(_0xb5ffa0){console[_0x26c070(0x1ff)](_0x26c070(0x1d5),_0xb5ffa0);}}());function isAdmin(){const _0xa587aa=a3_0xd746bd;try{const _0x54c480=Number(window[_0xa587aa(0x22c)]?.['WebApp']?.[_0xa587aa(0x174)]?.[_0xa587aa(0x170)]?.['id']);return _0x54c480===0xbaf7174;}catch(_0x51135b){return![];}}const DataManager={'saveLocally'(){const _0x4aea1b=a3_0xd746bd;try{localStorage[_0x4aea1b(0x1fd)](KEY_SESSIONS,JSON[_0x4aea1b(0x1ca)](sessions)),localStorage[_0x4aea1b(0x1fd)](KEY_CLIENTS,JSON[_0x4aea1b(0x1ca)](clients)),localStorage[_0x4aea1b(0x1fd)](KEY_SETTINGS,JSON[_0x4aea1b(0x1ca)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x53e81e){}},'loadLocal'(){const _0x148f0c=a3_0xd746bd;try{const _0x14b73d=localStorage[_0x148f0c(0x1f8)](KEY_SESSIONS);if(_0x14b73d)sessions=JSON[_0x148f0c(0x17b)](_0x14b73d);const _0x56eac5=localStorage[_0x148f0c(0x1f8)](KEY_CLIENTS);if(_0x56eac5)clients=JSON[_0x148f0c(0x17b)](_0x56eac5);const _0x2a969a=localStorage['getItem'](KEY_SETTINGS);if(_0x2a969a){const _0x4b281e=JSON[_0x148f0c(0x17b)](_0x2a969a);if(_0x4b281e[_0x148f0c(0x1f3)])availabilityPattern=_0x4b281e[_0x148f0c(0x1f3)];if(_0x4b281e[_0x148f0c(0x21d)])specialRanges=_0x4b281e[_0x148f0c(0x21d)];if(_0x4b281e[_0x148f0c(0x1c7)])dateExceptions=_0x4b281e[_0x148f0c(0x1c7)];}}catch(_0x5742e2){}},async 'syncLoad'(){const _0x53a114=a3_0xd746bd,_0x348bae=new Date(),_0x24be2e=_0x348bae[_0x53a114(0x1aa)]()+'-'+String(_0x348bae[_0x53a114(0x24f)]()+0x1)[_0x53a114(0x245)](0x2,'0'),_0x5bf4ac=new Date(_0x348bae);_0x5bf4ac[_0x53a114(0x18b)](_0x348bae[_0x53a114(0x24f)]()+0x1);const _0x2fb0fa=_0x5bf4ac[_0x53a114(0x1aa)]()+'-'+String(_0x5bf4ac['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4c682b=Date[_0x53a114(0x23c)]();try{const _0x3abbea=window[_0x53a114(0x22c)]?.[_0x53a114(0x252)],_0x53b268=_0x3abbea?.['initData']||'',[_0x54ef32,_0x52ffad]=await Promise[_0x53a114(0x181)]([fetch(API_URL,{'method':_0x53a114(0x221),'body':JSON['stringify']({'action':_0x53a114(0x169),'init_data':_0x53b268,'month_str':_0x24be2e})})[_0x53a114(0x177)](_0x45ff7d=>_0x45ff7d[_0x53a114(0x25c)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x53a114(0x1ca)]({'action':_0x53a114(0x169),'init_data':_0x53b268,'month_str':_0x2fb0fa})})[_0x53a114(0x177)](_0x3c7e96=>_0x3c7e96[_0x53a114(0x25c)]())]);if(lastUserActionTime>_0x4c682b){console[_0x53a114(0x247)](_0x53a114(0x235));return;}if(_0x54ef32['ok'])this[_0x53a114(0x1e5)](_0x54ef32[_0x53a114(0x183)],_0x24be2e);if(_0x52ffad['ok'])this['applyData'](_0x52ffad[_0x53a114(0x183)],_0x2fb0fa);this[_0x53a114(0x1cd)]();}catch(_0x17af8d){}},'applyData'(_0x5281fd,_0x5628b2){const _0x3bbbba=a3_0xd746bd;if(!_0x5281fd)return;if(_0x5281fd[_0x3bbbba(0x1e1)]){if(_0x5281fd[_0x3bbbba(0x1e1)][_0x3bbbba(0x1f3)])availabilityPattern=_0x5281fd['settings'][_0x3bbbba(0x1f3)];if(_0x5281fd[_0x3bbbba(0x1e1)][_0x3bbbba(0x21d)])specialRanges=_0x5281fd[_0x3bbbba(0x1e1)][_0x3bbbba(0x21d)];if(_0x5281fd[_0x3bbbba(0x1e1)][_0x3bbbba(0x1c7)])dateExceptions=_0x5281fd[_0x3bbbba(0x1e1)]['exceptions'];}if(_0x5281fd[_0x3bbbba(0x16f)]&&Array[_0x3bbbba(0x1a0)](_0x5281fd[_0x3bbbba(0x16f)]))clients=_0x5281fd[_0x3bbbba(0x16f)];_0x5281fd[_0x3bbbba(0x18d)]&&(coachProfiles={...coachProfiles,..._0x5281fd[_0x3bbbba(0x18d)]}),_0x5281fd['calendar']&&(sessions=sessions['filter'](_0x13c752=>!_0x13c752['dateStr'][_0x3bbbba(0x246)](_0x5628b2)),Object[_0x3bbbba(0x254)](_0x5281fd[_0x3bbbba(0x190)])[_0x3bbbba(0x1ce)](_0x2d3dce=>{const _0x5062fe=_0x3bbbba,_0x33d1df=_0x5281fd[_0x5062fe(0x190)][_0x2d3dce];_0x33d1df[_0x5062fe(0x1ce)](_0x5ba1ed=>{const _0x2dac6e=_0x5062fe;sessions[_0x2dac6e(0x1b3)]({'id':_0x5ba1ed['i'],'clientId':_0x5ba1ed['c'],'coachId':_0x5ba1ed[_0x2dac6e(0x1af)],'dateStr':_0x5628b2+'-'+_0x2d3dce[_0x2dac6e(0x245)](0x2,'0'),'start':_0x5ba1ed['s'],'end':_0x5ba1ed['e'],'note':_0x5ba1ed['n']||'','status':_0x5ba1ed['st']||_0x2dac6e(0x1b8),'seriesId':_0x5ba1ed[_0x2dac6e(0x22b)]});});})),reRenderBlocks();}};function init(){const _0x38ceae=a3_0xd746bd;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x38ceae(0x222)](_0x38ceae(0x1fc),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x38ceae(0x1e0)]();}function renderTimeColumn(){const _0x6df4ae=a3_0xd746bd,_0x41e3a0=document[_0x6df4ae(0x203)](_0x6df4ae(0x1a1)),_0x25abc1=document[_0x6df4ae(0x203)](_0x6df4ae(0x1f9));_0x41e3a0[_0x6df4ae(0x1a9)]='',_0x41e3a0[_0x6df4ae(0x186)](_0x25abc1);for(let _0x399ea1=0x0;_0x399ea1<0x18;_0x399ea1++){const _0x279cc=document[_0x6df4ae(0x234)](_0x6df4ae(0x23e));_0x279cc[_0x6df4ae(0x208)]=_0x6df4ae(0x1db);if(_0x399ea1>0x0)_0x279cc['innerHTML']=_0x6df4ae(0x1ab)+String(_0x399ea1)[_0x6df4ae(0x245)](0x2,'0')+_0x6df4ae(0x21b);_0x41e3a0[_0x6df4ae(0x186)](_0x279cc);}}function renderDayRange(_0x482964,_0x1bc661){const _0x2b53b6=a3_0xd746bd,_0x30fefb=document[_0x2b53b6(0x203)](_0x2b53b6(0x256)),_0x5b903b=document[_0x2b53b6(0x203)](_0x2b53b6(0x178)),_0x2068b1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x400937=new Date();_0x400937['setHours'](0x0,0x0,0x0,0x0);const _0x5b7778=getLocalDateStr(new Date());for(let _0x300542=_0x482964;_0x300542<=_0x1bc661;_0x300542++){const _0x8f21cd=new Date(_0x400937);_0x8f21cd[_0x2b53b6(0x21a)](_0x8f21cd[_0x2b53b6(0x17c)]()+_0x300542);const _0x344936=getLocalDateStr(_0x8f21cd);let _0x138865=_0x8f21cd[_0x2b53b6(0x1e2)]()-0x1;if(_0x138865===-0x1)_0x138865=0x6;const _0xede912=_0x344936===_0x5b7778,_0xb679d2=document['createElement'](_0x2b53b6(0x23e));_0xb679d2[_0x2b53b6(0x208)]='day-col-header\x20'+(_0xede912?_0x2b53b6(0x1d6):''),_0xb679d2[_0x2b53b6(0x19b)](_0x2b53b6(0x19f),_0x344936),_0xb679d2[_0x2b53b6(0x1a9)]='<div\x20class=\x22dch-day\x22>'+_0x2068b1[_0x138865]+_0x2b53b6(0x1df)+_0x8f21cd[_0x2b53b6(0x17c)]()+_0x2b53b6(0x20a),_0x30fefb[_0x2b53b6(0x186)](_0xb679d2);const _0x28ded1=document[_0x2b53b6(0x234)](_0x2b53b6(0x23e));_0x28ded1[_0x2b53b6(0x208)]=_0x2b53b6(0x1e4)+(_0xede912?_0x2b53b6(0x1d6):''),_0x28ded1[_0x2b53b6(0x19b)](_0x2b53b6(0x19f),_0x344936),_0x28ded1[_0x2b53b6(0x19b)]('data-day-idx',_0x138865),_0x5b903b[_0x2b53b6(0x186)](_0x28ded1);}}function reRenderBlocks(){const _0x33ab42=a3_0xd746bd;document['querySelectorAll'](_0x33ab42(0x23f))[_0x33ab42(0x1ce)](_0x3ce8e0=>{const _0x1b2336=_0x33ab42;_0x3ce8e0['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x1d72f9=>_0x1d72f9[_0x1b2336(0x1c4)]());const _0x21370b=_0x3ce8e0[_0x1b2336(0x1a8)]('data-date'),_0x36b062=parseInt(_0x3ce8e0[_0x1b2336(0x1a8)]('data-day-idx')),_0x5d9c2=Math[_0x1b2336(0x23a)](_0x3ce8e0[_0x1b2336(0x228)]);(availabilityPattern[_0x36b062]||[])[_0x1b2336(0x1ce)](_0x1259f3=>{const _0x1c043e=_0x1b2336,_0x1bdfa5=document[_0x1c043e(0x234)](_0x1c043e(0x23e));_0x1bdfa5['className']=_0x1c043e(0x168),_0x1bdfa5[_0x1c043e(0x224)][_0x1c043e(0x1bb)]=_0x1259f3*GRID_H+'px',_0x1bdfa5[_0x1c043e(0x224)][_0x1c043e(0x22a)]='-'+_0x5d9c2+_0x1c043e(0x1cb)+_0x1259f3*GRID_H+'px',_0x3ce8e0[_0x1c043e(0x186)](_0x1bdfa5);});if(specialRanges[_0x1b2336(0x18a)]>0x0){const _0x16a81c=new Date(_0x21370b+_0x1b2336(0x175))[_0x1b2336(0x1a5)](),_0x18c0b9=new Date(_0x21370b+_0x1b2336(0x1e9))[_0x1b2336(0x1a5)]();specialRanges[_0x1b2336(0x1ce)](_0xede023=>{const _0x136ea5=_0x1b2336,_0x364bf3=new Date(_0xede023[_0x136ea5(0x214)])['getTime'](),_0xc39967=new Date(_0xede023[_0x136ea5(0x213)])[_0x136ea5(0x1a5)](),_0x4ebf00=Math[_0x136ea5(0x189)](_0x16a81c,_0x364bf3),_0x2dc183=Math[_0x136ea5(0x19e)](_0x18c0b9,_0xc39967);if(_0x4ebf00<_0x2dc183){const _0xb6cc09=(_0x4ebf00-_0x16a81c)/0x36ee80*GRID_H,_0x56e5a7=(_0x2dc183-_0x4ebf00)/0x36ee80*GRID_H,_0x389e1a=document[_0x136ea5(0x234)](_0x136ea5(0x23e));_0x56e5a7>=23.5*GRID_H?(_0x389e1a[_0x136ea5(0x208)]=_0x136ea5(0x1f4),_0x389e1a[_0x136ea5(0x224)]['backgroundPosition']='-'+_0x5d9c2+_0x136ea5(0x1f1)):(_0x389e1a['className']='blocked-range-part\x20stripe-bg',_0x389e1a[_0x136ea5(0x224)][_0x136ea5(0x1bb)]=_0xb6cc09+'px',_0x389e1a[_0x136ea5(0x224)][_0x136ea5(0x1fe)]=_0x56e5a7+'px',_0x389e1a[_0x136ea5(0x224)][_0x136ea5(0x22a)]='-'+_0x5d9c2+_0x136ea5(0x1cb)+_0xb6cc09+'px'),_0x3ce8e0['appendChild'](_0x389e1a);}});}renderEventsForColumn(_0x3ce8e0,_0x21370b);});}function renderEventsForColumn(_0x19aac5,_0x500ff4){const _0x2e769b=a3_0xd746bd,_0x1a1bc8=sessions[_0x2e769b(0x1dd)](_0x318761=>_0x318761['dateStr']===_0x500ff4),_0x343420=_0x1a1bc8[_0x2e769b(0x1d8)](_0x2cc359=>{const _0x31a8eb=_0x2e769b,[_0x3f6aa3,_0x13632c]=_0x2cc359[_0x31a8eb(0x214)][_0x31a8eb(0x196)](':')[_0x31a8eb(0x1d8)](Number),[_0x3fb029,_0x3ecfc7]=_0x2cc359[_0x31a8eb(0x213)][_0x31a8eb(0x196)](':')[_0x31a8eb(0x1d8)](Number);return{'data':_0x2cc359,'start':_0x3f6aa3*0x3c+_0x13632c,'end':_0x3fb029*0x3c+_0x3ecfc7,'colIndex':0x0};});_0x343420['sort']((_0x49a4c9,_0x50d8c1)=>_0x49a4c9['start']-_0x50d8c1['start']||_0x50d8c1['end']-_0x50d8c1[_0x2e769b(0x214)]-(_0x49a4c9['end']-_0x49a4c9[_0x2e769b(0x214)]));const _0x5565ab=[];_0x343420[_0x2e769b(0x1ce)](_0x407cf3=>{const _0x4dc76f=_0x2e769b;let _0x5037e5=![];for(let _0x521b24=0x0;_0x521b24<_0x5565ab[_0x4dc76f(0x18a)];_0x521b24++){const _0x2f46b3=_0x5565ab[_0x521b24];if(_0x407cf3[_0x4dc76f(0x214)]>=_0x2f46b3[_0x2f46b3['length']-0x1][_0x4dc76f(0x213)]){_0x2f46b3['push'](_0x407cf3),_0x407cf3[_0x4dc76f(0x1d0)]=_0x521b24,_0x5037e5=!![];break;}}!_0x5037e5&&(_0x5565ab[_0x4dc76f(0x1b3)]([_0x407cf3]),_0x407cf3[_0x4dc76f(0x1d0)]=_0x5565ab[_0x4dc76f(0x18a)]-0x1);}),_0x343420['forEach'](_0x1cb5d3=>{const _0x28b1eb=_0x2e769b;let _0x2a0385=0x0;_0x343420[_0x28b1eb(0x1ce)](_0x67b0fc=>{const _0x1a8da0=_0x28b1eb;if(Math[_0x1a8da0(0x189)](_0x1cb5d3[_0x1a8da0(0x214)],_0x67b0fc[_0x1a8da0(0x214)])<Math[_0x1a8da0(0x19e)](_0x1cb5d3[_0x1a8da0(0x213)],_0x67b0fc[_0x1a8da0(0x213)])&&_0x67b0fc['colIndex']>_0x2a0385)_0x2a0385=_0x67b0fc[_0x1a8da0(0x1d0)];});const _0xdfea89=_0x2a0385+0x1,_0x510b82=0x64/_0xdfea89,_0x56c09e=_0x1cb5d3[_0x28b1eb(0x1d0)]*_0x510b82,_0x397d7e=document[_0x28b1eb(0x234)](_0x28b1eb(0x23e)),_0x1ddd0f=_0x1cb5d3[_0x28b1eb(0x183)];let _0x4d6350='#0a84ff';if(clients&&clients['length']>0x0){const _0x140fbc=clients[_0x28b1eb(0x1ac)](_0x12b94c=>String(_0x12b94c['id'])===String(_0x1ddd0f['clientId']));if(_0x140fbc&&_0x140fbc[_0x28b1eb(0x24d)])_0x4d6350=_0x140fbc[_0x28b1eb(0x24d)];}const _0x35253b=_0x1ddd0f['status']===_0x28b1eb(0x1b6),_0x34070a=_0x35253b?0x1:0.45;_0x397d7e[_0x28b1eb(0x208)]='event-card'+(_0x35253b?_0x28b1eb(0x1be):''),_0x397d7e[_0x28b1eb(0x224)][_0x28b1eb(0x1c5)]=hexToRgba(_0x4d6350,_0x34070a),_0x397d7e[_0x28b1eb(0x224)][_0x28b1eb(0x18c)]=_0x4d6350;const _0x48f29a=_0x1cb5d3[_0x28b1eb(0x214)]/0x3c*GRID_H,_0x4e2f80=(_0x1cb5d3[_0x28b1eb(0x213)]-_0x1cb5d3[_0x28b1eb(0x214)])/0x3c*GRID_H;_0x397d7e[_0x28b1eb(0x224)]['top']=_0x48f29a+'px',_0x397d7e[_0x28b1eb(0x224)][_0x28b1eb(0x1fe)]=Math['max'](_0x4e2f80,0x14)+'px',_0x397d7e[_0x28b1eb(0x224)][_0x28b1eb(0x1d2)]=_0x28b1eb(0x209)+_0x510b82+_0x28b1eb(0x232),_0x397d7e[_0x28b1eb(0x224)][_0x28b1eb(0x1c2)]=_0x28b1eb(0x209)+_0x56c09e+_0x28b1eb(0x218),_0x397d7e[_0x28b1eb(0x224)]['zIndex']=0xa+_0x1cb5d3['colIndex'];if(_0x510b82<0x55)_0x397d7e[_0x28b1eb(0x1f0)]['add']('mini');let _0x2a78be='';if(_0x1ddd0f['seriesId'])_0x2a78be+=_0x28b1eb(0x24e);if(_0x35253b)_0x2a78be+=_0x28b1eb(0x1cc);_0x397d7e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1ddd0f['start']+_0x28b1eb(0x21f)+_0x1ddd0f[_0x28b1eb(0x213)]+_0x28b1eb(0x171)+_0x2a78be+_0x28b1eb(0x200),_0x397d7e[_0x28b1eb(0x1ee)]=_0x5d489d=>{const _0x357770=_0x28b1eb;_0x5d489d[_0x357770(0x18e)](),openDetails(_0x1ddd0f);},_0x19aac5[_0x28b1eb(0x186)](_0x397d7e);});}function openAnalytics(){const _0x44341c=a3_0xd746bd,_0x3080b8=document[_0x44341c(0x233)](_0x44341c(0x1d9));setAnalyticsPeriod(_0x44341c(0x1f5),_0x3080b8),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2c1b7d,_0x246461){const _0x224092=a3_0xd746bd;currentAnPeriod=_0x2c1b7d,document[_0x224092(0x193)](_0x224092(0x1d9))[_0x224092(0x1ce)](_0x52de63=>_0x52de63[_0x224092(0x1f0)][_0x224092(0x1c4)](_0x224092(0x21c)));if(_0x246461)_0x246461[_0x224092(0x1f0)][_0x224092(0x1b4)](_0x224092(0x21c));const _0x2ef2a3=document[_0x224092(0x203)](_0x224092(0x1c0));_0x2ef2a3['style'][_0x224092(0x167)]=_0x2c1b7d===_0x224092(0x1d7)?_0x224092(0x1b7):'none';const _0x8a4393=new Date();let _0x1524d6=new Date(),_0x472a08=new Date();if(_0x2c1b7d==='week')_0x1524d6=getStartOfWeek(_0x8a4393),_0x472a08=new Date(_0x1524d6),_0x472a08['setDate'](_0x472a08[_0x224092(0x17c)]()+0x6);else{if(_0x2c1b7d===_0x224092(0x17e))_0x1524d6=new Date(_0x8a4393[_0x224092(0x1aa)](),_0x8a4393[_0x224092(0x24f)](),0x1),_0x472a08=new Date(_0x8a4393[_0x224092(0x1aa)](),_0x8a4393[_0x224092(0x24f)]()+0x1,0x0);else{!document[_0x224092(0x203)](_0x224092(0x258))[_0x224092(0x24c)]&&(document[_0x224092(0x203)](_0x224092(0x258))[_0x224092(0x24c)]=getLocalDateStr(_0x8a4393),document[_0x224092(0x203)]('anEnd')[_0x224092(0x24c)]=getLocalDateStr(_0x8a4393));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x224092(0x24c)]=getLocalDateStr(_0x1524d6),document[_0x224092(0x203)](_0x224092(0x211))[_0x224092(0x24c)]=getLocalDateStr(_0x472a08),refreshAnalytics();}function refreshAnalytics(){const _0x1449b5=a3_0xd746bd,_0x31b089=document[_0x1449b5(0x203)](_0x1449b5(0x258))['value'],_0x8f9b64=document[_0x1449b5(0x203)]('anEnd')[_0x1449b5(0x24c)];if(!_0x31b089||!_0x8f9b64)return;const _0x539afc=sessions[_0x1449b5(0x1dd)](_0x1ef3e1=>_0x1ef3e1[_0x1449b5(0x217)]>=_0x31b089&&_0x1ef3e1[_0x1449b5(0x217)]<=_0x8f9b64&&_0x1ef3e1['status']!==_0x1449b5(0x1a4)),_0x442834=_0x539afc[_0x1449b5(0x18a)],_0x2cf110=_0x539afc[_0x1449b5(0x1dd)](_0x3029be=>_0x3029be[_0x1449b5(0x238)]===_0x1449b5(0x1b6))[_0x1449b5(0x18a)],_0x564c79=_0x442834>0x0?Math['round'](_0x2cf110/_0x442834*0x64):0x0;document[_0x1449b5(0x203)](_0x1449b5(0x227))['textContent']=_0x564c79+'%',document['getElementById'](_0x1449b5(0x1f2))[_0x1449b5(0x237)]=_0x2cf110+'\x20–∏–∑\x20'+_0x442834+_0x1449b5(0x225);const _0x43d79c=document[_0x1449b5(0x203)]('anDonutCircle'),_0x3e46ef=0x2*Math['PI']*0x23,_0x4c5705=_0x3e46ef-_0x564c79/0x64*_0x3e46ef;_0x43d79c[_0x1449b5(0x224)]['strokeDashoffset']=_0x4c5705;const _0x910de6={};_0x539afc[_0x1449b5(0x1ce)](_0x3ed576=>{const _0x48c5fa=_0x1449b5,_0x18fdd9=_0x3ed576[_0x48c5fa(0x1cf)]||'Unknown';if(!_0x910de6[_0x18fdd9]){const _0xe688a3='#'+_0x18fdd9[_0x48c5fa(0x1d4)]()[_0x48c5fa(0x240)](0x0,0x6);_0x910de6[_0x18fdd9]={'total':0x0,'done':0x0,'color':_0xe688a3};}_0x910de6[_0x18fdd9][_0x48c5fa(0x1eb)]++;if(_0x3ed576[_0x48c5fa(0x238)]===_0x48c5fa(0x1b6))_0x910de6[_0x18fdd9][_0x48c5fa(0x212)]++;});const _0x3bae35=document[_0x1449b5(0x203)](_0x1449b5(0x25b));_0x3bae35[_0x1449b5(0x1a9)]='';const _0x2773b8=Object['entries'](_0x910de6)[_0x1449b5(0x1c3)]((_0x2e4961,_0x691335)=>_0x691335[0x1][_0x1449b5(0x1eb)]-_0x2e4961[0x1][_0x1449b5(0x1eb)]);if(_0x2773b8[_0x1449b5(0x18a)]===0x0){_0x3bae35[_0x1449b5(0x1a9)]=_0x1449b5(0x202);return;}_0x2773b8[_0x1449b5(0x1ce)](([_0x4b6285,_0x5ab444])=>{const _0x5f16c7=_0x1449b5,_0x4acc30=Math['round'](_0x5ab444['done']/_0x5ab444[_0x5f16c7(0x1eb)]*0x64),_0x4b494f=document[_0x5f16c7(0x234)](_0x5f16c7(0x23e));_0x4b494f[_0x5f16c7(0x208)]=_0x5f16c7(0x201),_0x4b494f[_0x5f16c7(0x224)][_0x5f16c7(0x18c)]=_0x5ab444[_0x5f16c7(0x24d)],_0x4b494f['innerHTML']=_0x5f16c7(0x1ed)+_0x4b6285['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5ab444[_0x5f16c7(0x212)]+'</span>\x20/\x20'+_0x5ab444['total']+_0x5f16c7(0x1ba)+_0x4acc30+_0x5f16c7(0x194),_0x3bae35[_0x5f16c7(0x186)](_0x4b494f);});}function openDetails(_0x56ccda){const _0x3c8891=a3_0xd746bd;currentSession=_0x56ccda;const _0x8c9aec=new Date(_0x56ccda[_0x3c8891(0x217)]),_0x540f1d=_0x8c9aec[_0x3c8891(0x255)](_0x3c8891(0x259),{'weekday':_0x3c8891(0x17a),'day':_0x3c8891(0x204),'month':'long'});document[_0x3c8891(0x203)](_0x3c8891(0x176))[_0x3c8891(0x237)]=_0x540f1d[_0x3c8891(0x184)](0x0)[_0x3c8891(0x250)]()+_0x540f1d['slice'](0x1),document[_0x3c8891(0x203)]('detTime')[_0x3c8891(0x237)]=_0x56ccda[_0x3c8891(0x214)]+_0x3c8891(0x21f)+_0x56ccda[_0x3c8891(0x213)],document[_0x3c8891(0x203)](_0x3c8891(0x239))[_0x3c8891(0x237)]=_0x56ccda[_0x3c8891(0x1a7)]||_0x3c8891(0x20d);const _0xa5967d=document[_0x3c8891(0x203)](_0x3c8891(0x251)),_0x3e31a7=document[_0x3c8891(0x203)]('cancelContainer'),_0x3c0a22=_0x3e31a7[_0x3c8891(0x233)](_0x3c8891(0x17d)),_0x18ff0e=_0x3e31a7[_0x3c8891(0x233)](_0x3c8891(0x25a)),_0x1e59ad=document[_0x3c8891(0x203)](_0x3c8891(0x1b9));if(_0x56ccda[_0x3c8891(0x238)]===_0x3c8891(0x1b6))_0xa5967d[_0x3c8891(0x237)]=_0x3c8891(0x173),_0xa5967d['style'][_0x3c8891(0x24d)]=_0x3c8891(0x1ec),_0x3e31a7[_0x3c8891(0x224)][_0x3c8891(0x167)]=_0x3c8891(0x1c8);else{_0xa5967d[_0x3c8891(0x237)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0xa5967d['style'][_0x3c8891(0x24d)]=_0x3c8891(0x20b),_0x3e31a7[_0x3c8891(0x224)][_0x3c8891(0x167)]=_0x3c8891(0x180);const _0x179716=new Date(_0x56ccda[_0x3c8891(0x217)]+'T'+_0x56ccda[_0x3c8891(0x214)]),_0x964482=new Date(),_0x40e67a=(_0x179716-_0x964482)/(0x3e8*0x3c*0x3c),_0x61ee34=coachProfiles[_0x56ccda[_0x3c8891(0x1cf)]]&&coachProfiles[_0x56ccda[_0x3c8891(0x1cf)]][_0x3c8891(0x230)]?parseInt(coachProfiles[_0x56ccda['coachId']][_0x3c8891(0x230)]):0x18;if(_0x61ee34===0x0||_0x40e67a>=_0x61ee34)_0x3c0a22[_0x3c8891(0x224)][_0x3c8891(0x167)]=_0x3c8891(0x180),_0x18ff0e[_0x3c8891(0x224)]['display']=_0x3c8891(0x180),_0x1e59ad[_0x3c8891(0x224)][_0x3c8891(0x167)]=_0x3c8891(0x1c8);else{_0x3c0a22[_0x3c8891(0x224)]['display']=_0x3c8891(0x1c8),_0x18ff0e[_0x3c8891(0x224)][_0x3c8891(0x167)]='none',_0x1e59ad['style'][_0x3c8891(0x167)]='block';let _0x4c807d=_0x61ee34===0x0?_0x3c8891(0x1da):_0x3c8891(0x1e3)+_0x61ee34+_0x3c8891(0x172);_0x1e59ad[_0x3c8891(0x237)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x4c807d+_0x3c8891(0x20f);}}document[_0x3c8891(0x203)](_0x3c8891(0x1bc))[_0x3c8891(0x1f0)]['add'](_0x3c8891(0x21c)),document[_0x3c8891(0x203)]('detailsSheet')[_0x3c8891(0x1f0)][_0x3c8891(0x1b4)](_0x3c8891(0x17f));}function closeAllSheets(){const _0x4a83cc=a3_0xd746bd;document[_0x4a83cc(0x203)](_0x4a83cc(0x1bc))['classList'][_0x4a83cc(0x1c4)](_0x4a83cc(0x21c)),document[_0x4a83cc(0x193)](_0x4a83cc(0x226))[_0x4a83cc(0x1ce)](_0x4e1568=>_0x4e1568[_0x4a83cc(0x1f0)][_0x4a83cc(0x1c4)](_0x4a83cc(0x17f)));}function openSheet(_0x345bac){const _0x351613=a3_0xd746bd;document[_0x351613(0x203)](_0x351613(0x1bc))[_0x351613(0x1f0)][_0x351613(0x1b4)](_0x351613(0x21c)),document[_0x351613(0x203)](_0x345bac)['classList']['add'](_0x351613(0x17f));}function getLocalDateStr(_0x2185da){const _0x461474=a3_0xd746bd,_0x1b5b93=_0x2185da[_0x461474(0x1aa)](),_0x4867a6=String(_0x2185da[_0x461474(0x24f)]()+0x1)[_0x461474(0x245)](0x2,'0'),_0x29467a=String(_0x2185da['getDate']())[_0x461474(0x245)](0x2,'0');return _0x1b5b93+'-'+_0x4867a6+'-'+_0x29467a;}function getStartOfWeek(_0x5a8657){const _0x1bdc7f=a3_0xd746bd,_0x20a644=new Date(_0x5a8657),_0x2938bd=_0x20a644['getDay'](),_0x1e5b60=_0x20a644['getDate']()-_0x2938bd+(_0x2938bd===0x0?-0x6:0x1);return _0x20a644[_0x1bdc7f(0x21a)](_0x1e5b60),_0x20a644['setHours'](0x0,0x0,0x0,0x0),_0x20a644;}function scrollToToday(){const _0x3ac050=getLocalDateStr(new Date());setTimeout(()=>{const _0x39668f=a3_0x2f29,_0x2bf048=document['querySelector'](_0x39668f(0x205)+_0x3ac050+'\x22]');if(_0x2bf048){const _0x529570=document[_0x39668f(0x203)]('matrixViewport'),_0x1f5815=_0x2bf048['offsetLeft']-_0x529570[_0x39668f(0x16b)]/0x2+_0x2bf048[_0x39668f(0x1c1)]/0x2;_0x529570[_0x39668f(0x24a)]({'left':_0x1f5815,'behavior':_0x39668f(0x19a)}),_0x529570[_0x39668f(0x1b2)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x53691f=a3_0xd746bd,_0x4caafb=new Date(),_0x1ae758=document[_0x53691f(0x203)](_0x53691f(0x1de)),_0x145774=document[_0x53691f(0x203)](_0x53691f(0x1f9)),_0x171cc6=(_0x4caafb['getHours']()*0x3c+_0x4caafb[_0x53691f(0x16c)]())/0x3c*GRID_H;_0x1ae758[_0x53691f(0x224)][_0x53691f(0x1bb)]=_0x171cc6+'px',_0x1ae758[_0x53691f(0x224)][_0x53691f(0x167)]=_0x53691f(0x180),_0x145774['style'][_0x53691f(0x1bb)]=_0x171cc6+'px',_0x145774[_0x53691f(0x224)][_0x53691f(0x167)]='block',_0x145774[_0x53691f(0x237)]=String(_0x4caafb[_0x53691f(0x22f)]())[_0x53691f(0x245)](0x2,'0')+':'+String(_0x4caafb['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0x52ff0d=a3_0xd746bd,_0x377e3f=document['getElementById'](_0x52ff0d(0x1ea)),_0x55febf=document[_0x52ff0d(0x193)](_0x52ff0d(0x21e));for(let _0x2d6821 of _0x55febf)if(_0x2d6821[_0x52ff0d(0x228)]>=_0x377e3f[_0x52ff0d(0x20c)]){const _0x1b65f5=new Date(_0x2d6821['getAttribute'](_0x52ff0d(0x19f)));document[_0x52ff0d(0x203)]('headerMonth')[_0x52ff0d(0x237)]=_0x1b65f5[_0x52ff0d(0x1d3)]('ru',{'month':_0x52ff0d(0x17a)})[_0x52ff0d(0x250)]()+'\x20'+_0x1b65f5[_0x52ff0d(0x1aa)]();break;}}function showToast(_0x2f0379){const _0xa96abb=a3_0xd746bd,_0x52e812=document[_0xa96abb(0x203)]('toast');_0x52e812[_0xa96abb(0x237)]=_0x2f0379,_0x52e812[_0xa96abb(0x1f0)][_0xa96abb(0x1b4)]('show'),setTimeout(()=>_0x52e812[_0xa96abb(0x1f0)][_0xa96abb(0x1c4)](_0xa96abb(0x23b)),0x7d0);}function handleInfiniteScroll(){const _0x5a6b95=a3_0xd746bd,_0x3f82e9=document['getElementById'](_0x5a6b95(0x1ea)),_0x465ddd=_0x3f82e9[_0x5a6b95(0x20c)],_0x4be0f2=_0x3f82e9[_0x5a6b95(0x210)],_0x1f0c7a=_0x3f82e9['clientWidth'];if(_0x4be0f2-(_0x465ddd+_0x1f0c7a)<0x12c){const _0xc5646f=endOffset;endOffset+=0xe,renderDayRange(_0xc5646f+0x1,endOffset),reRenderBlocks();}if(_0x465ddd<0x12c){const _0x1e192a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1e192a-0x1),_0x3f82e9[_0x5a6b95(0x20c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x271410,_0x4c7d14){const _0x5a3405=a3_0xd746bd,_0x1ef866=document[_0x5a3405(0x203)](_0x5a3405(0x256)),_0x440244=document[_0x5a3405(0x203)](_0x5a3405(0x178)),_0xf8c1f5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x259ff9=new Date();_0x259ff9[_0x5a3405(0x19d)](0x0,0x0,0x0,0x0);const _0x22115c=getLocalDateStr(new Date()),_0x5bb93d=document[_0x5a3405(0x216)](),_0x13d4d7=document['createDocumentFragment']();for(let _0x879c67=_0x271410;_0x879c67<=_0x4c7d14;_0x879c67++){const _0x5852f7=new Date(_0x259ff9);_0x5852f7[_0x5a3405(0x21a)](_0x5852f7[_0x5a3405(0x17c)]()+_0x879c67);const _0x23c0e3=getLocalDateStr(_0x5852f7);let _0x282a27=_0x5852f7[_0x5a3405(0x1e2)]()-0x1;if(_0x282a27===-0x1)_0x282a27=0x6;const _0x1d02fb=_0x23c0e3===_0x22115c,_0x4b5179=document[_0x5a3405(0x234)](_0x5a3405(0x23e));_0x4b5179['className']='day-col-header\x20'+(_0x1d02fb?_0x5a3405(0x1d6):''),_0x4b5179[_0x5a3405(0x19b)](_0x5a3405(0x19f),_0x23c0e3),_0x4b5179['innerHTML']=_0x5a3405(0x223)+_0xf8c1f5[_0x282a27]+'</div><div\x20class=\x22dch-num\x22>'+_0x5852f7['getDate']()+'</div>',_0x5bb93d[_0x5a3405(0x186)](_0x4b5179);const _0x1183c=document[_0x5a3405(0x234)](_0x5a3405(0x23e));_0x1183c[_0x5a3405(0x208)]=_0x5a3405(0x1e4)+(_0x1d02fb?_0x5a3405(0x1d6):''),_0x1183c[_0x5a3405(0x19b)](_0x5a3405(0x19f),_0x23c0e3),_0x1183c['setAttribute']('data-day-idx',_0x282a27),_0x13d4d7[_0x5a3405(0x186)](_0x1183c);}_0x1ef866[_0x5a3405(0x257)](_0x5bb93d,_0x1ef866['firstChild']),_0x440244[_0x5a3405(0x257)](_0x13d4d7,_0x440244[_0x5a3405(0x233)](_0x5a3405(0x23f)));}function hexToRgba(_0xb53de9,_0x51df14){const _0x237730=a3_0xd746bd;let _0x2b4b44;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x237730(0x219)](_0xb53de9))return _0x2b4b44=_0xb53de9['substring'](0x1)[_0x237730(0x196)](''),_0x2b4b44['length']==0x3&&(_0x2b4b44=[_0x2b4b44[0x0],_0x2b4b44[0x0],_0x2b4b44[0x1],_0x2b4b44[0x1],_0x2b4b44[0x2],_0x2b4b44[0x2]]),_0x2b4b44='0x'+_0x2b4b44[_0x237730(0x199)](''),_0x237730(0x1b5)+[_0x2b4b44>>0x10&0xff,_0x2b4b44>>0x8&0xff,_0x2b4b44&0xff][_0x237730(0x199)](',')+','+_0x51df14+')';return _0x237730(0x187)+_0x51df14+')';}let confirmResolver=null;function showCustomConfirm(_0x5a718d,_0x7b742b,_0x3d89c3=!![]){const _0x520b9f=a3_0xd746bd;document[_0x520b9f(0x203)](_0x520b9f(0x1d1))['textContent']=_0x5a718d,document[_0x520b9f(0x203)](_0x520b9f(0x192))[_0x520b9f(0x237)]=_0x7b742b;const _0x2df583=document['getElementById'](_0x520b9f(0x16d));return _0x3d89c3?(_0x2df583[_0x520b9f(0x224)]['color']='#ff453a',_0x2df583[_0x520b9f(0x224)][_0x520b9f(0x1a3)]='600'):(_0x2df583[_0x520b9f(0x224)][_0x520b9f(0x24d)]='#0a84ff',_0x2df583[_0x520b9f(0x224)]['fontWeight']='600'),new Promise(_0x5d04c5=>{const _0x30b47c=_0x520b9f;confirmResolver=_0x5d04c5,document[_0x30b47c(0x203)]('customConfirm')[_0x30b47c(0x1f0)][_0x30b47c(0x1b4)](_0x30b47c(0x1f6));});}function resolveCustomConfirm(_0x913e93){const _0x1a7141=a3_0xd746bd;document[_0x1a7141(0x203)](_0x1a7141(0x16e))[_0x1a7141(0x1f0)]['remove']('visible');if(confirmResolver)confirmResolver(_0x913e93);}async function tryCancelCurrentSession(){const _0x27d5a9=a3_0xd746bd;if(!currentSession)return;const _0x3e20fd=await showCustomConfirm(_0x27d5a9(0x191),_0x27d5a9(0x18f),!![]);if(!_0x3e20fd)return;const _0x397124=currentSession;closeAllSheets(),sessions=sessions[_0x27d5a9(0x1dd)](_0x135c96=>_0x135c96['id']!==_0x397124['id']),reRenderBlocks(),showToast(_0x27d5a9(0x231)),lastUserActionTime=Date[_0x27d5a9(0x23c)]();try{const _0x442c05=window[_0x27d5a9(0x22c)]?.['WebApp'],_0x2eb9b7=await fetch(API_URL,{'method':_0x27d5a9(0x221),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x442c05?.['initData']||'','coachId':_0x397124[_0x27d5a9(0x1cf)],'dateStr':_0x397124[_0x27d5a9(0x217)],'sessionId':_0x397124['id']})});if(_0x2eb9b7['ok'])DataManager[_0x27d5a9(0x1cd)]();}catch(_0x146f7a){showToast(_0x27d5a9(0x244));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x43c7(){const _0x1f8962=['parse','getDate','.btn-cancel','month','open','block','all','9798564wGGIgo','data','charAt','73712kpNxZj','appendChild','rgba(10,\x20132,\x20255,\x20','35820QZGgcU','max','length','setMonth','borderLeftColor','coach_profiles','stopPropagation','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','calendar','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','ccText','querySelectorAll','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','v9.5-CLIENT-ANALYTICS','split','.rs-date-chip','initData','join','auto','setAttribute','972165PsOCSL','setHours','min','data-date','isArray','timeColumn','get_slots','fontWeight','cancelled','getTime','href','note','getAttribute','innerHTML','getFullYear','<span>','find','findIndex','rs-time-btn','cid','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','setBackgroundColor','scrollTop','push','add','rgba(','completed','flex','planned','cancelHint','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','top','overlay','rs-date-chip','\x20status-completed','#050505','anCustomDates','offsetWidth','left','sort','remove','backgroundColor','location','exceptions','none','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','stringify','px\x20-','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','saveLocally','forEach','coachId','colIndex','ccTitle','width','toLocaleString','toString','Critical\x20TMA\x20Error:','today','custom','map','.period-switch\x20.p-btn','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','time-label','constructor','filter','globalTimeLine','</div><div\x20class=\x22dch-num\x22>','syncLoad','settings','getDay','–∑–∞\x20','day-column\x20','applyData','uc_client_settings','Error\x20setting\x20color:','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','T23:59:59','matrixViewport','total','var(--acc-green)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','onclick','uc_client_sessions','classList','px\x200px','anTotalStats','pattern','day-off-overlay\x20stripe-bg','week','visible','setHeaderColor','getItem','timeLineBadge','uc_client_list','search','scroll','setItem','height','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','client-stat-card','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','getElementById','numeric','.day-col-header[data-date=\x22','207156uSXshJ','ready','className','calc(','</div>','var(--acc-blue)','scrollLeft','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','BackButton','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','scrollWidth','anEnd','done','end','start','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','createDocumentFragment','dateStr','%\x20+\x202px)','test','setDate',':00</span>','active','ranges','.day-col-header','\x20-\x20','40sixmqi','POST','addEventListener','<div\x20class=\x22dch-day\x22>','style','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.sheet','anPercent','offsetLeft','detailsSheet','backgroundPosition','sid','Telegram','rsDatesTrack','342190JDuznp','getHours','cancel_window','–û—Ç–º–µ–Ω–µ–Ω–æ','%\x20-\x204px)','querySelector','createElement','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','39AGwHyi','textContent','status','detNote','round','show','now','button','div','.day-column','substr','11CPxaSG','460EWefZh','</div><div\x20class=\x22rs-day-num\x22>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','padStart','startsWith','log','Error\x20setting\x20back\x20button:','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','scrollTo','floor','value','color','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getMonth','toUpperCase','detStatus','WebApp','36645FjMlDG','keys','toLocaleDateString','daysHeaderTrack','insertBefore','anStart','ru-RU','.btn-reschedule','analyticsList','json','\x20–≤\x20','(((.+)+)+)+$','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','rsSlotsGrid','6gcFhYb','display','blocked-slot\x20stripe-bg','client_load','apply','clientWidth','getMinutes','ccYesBtn','customConfirm','clients','user','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20—á.','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','initDataUnsafe','T00:00:00','detDate','then','gridColumns','disableVerticalSwipes','long'];a3_0x43c7=function(){return _0x1f8962;};return a3_0x43c7();}async function startRescheduleFlow(){const _0x1851b2=a3_0xd746bd;if(!currentSession)return;document['getElementById'](_0x1851b2(0x229))[_0x1851b2(0x1f0)][_0x1851b2(0x1c4)](_0x1851b2(0x17f)),document[_0x1851b2(0x203)]('rescheduleSheet')[_0x1851b2(0x1f0)]['add'](_0x1851b2(0x17f));const _0x84b879=document[_0x1851b2(0x203)](_0x1851b2(0x22d)),_0x1fc3ee=document[_0x1851b2(0x203)]('rsSlotsGrid');_0x84b879[_0x1851b2(0x1a9)]='',_0x1fc3ee[_0x1851b2(0x1a9)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x3d83d2,_0x13be57]=currentSession['start'][_0x1851b2(0x196)](':')[_0x1851b2(0x1d8)](Number),[_0x529b88,_0x1e5bec]=currentSession['end'][_0x1851b2(0x196)](':')[_0x1851b2(0x1d8)](Number),_0x2e89ca=_0x529b88*0x3c+_0x1e5bec-(_0x3d83d2*0x3c+_0x13be57);try{const _0x11ea5e=window[_0x1851b2(0x22c)]?.['WebApp'],_0x1a19bb=await fetch(API_URL,{'method':_0x1851b2(0x221),'body':JSON[_0x1851b2(0x1ca)]({'action':_0x1851b2(0x1a2),'coachId':currentSession[_0x1851b2(0x1cf)],'duration':_0x2e89ca,'init_data':_0x11ea5e?.[_0x1851b2(0x198)]||'','excludeSessionId':currentSession['id']})}),_0x9eecf1=await _0x1a19bb['json']();_0x9eecf1['ok']&&_0x9eecf1[_0x1851b2(0x183)]?(availableSlotsCache=_0x9eecf1[_0x1851b2(0x183)],renderRescheduleDates()):_0x1fc3ee[_0x1851b2(0x1a9)]=_0x1851b2(0x249);}catch(_0x49a825){_0x1fc3ee[_0x1851b2(0x1a9)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x1f4b08=a3_0xd746bd,_0x3fb68b=document[_0x1f4b08(0x203)](_0x1f4b08(0x22d));_0x3fb68b['innerHTML']='';const _0x58f311=Object[_0x1f4b08(0x254)](availableSlotsCache)[_0x1f4b08(0x1c3)](),_0x5a82a4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x58f311[_0x1f4b08(0x18a)]===0x0){document['getElementById'](_0x1f4b08(0x165))[_0x1f4b08(0x1a9)]=_0x1f4b08(0x1b0);return;}_0x58f311[_0x1f4b08(0x1ce)]((_0x5afca6,_0x261297)=>{const _0x431163=_0x1f4b08,_0x3d3212=new Date(_0x5afca6),_0x518f06=_0x5a82a4[_0x3d3212[_0x431163(0x1e2)]()],_0x5a719e=_0x3d3212['getDate'](),_0x1e6e98=document[_0x431163(0x234)](_0x431163(0x23e));_0x1e6e98[_0x431163(0x208)]=_0x431163(0x1bd);if(_0x261297===0x0)_0x1e6e98[_0x431163(0x1f0)][_0x431163(0x1b4)]('active');_0x1e6e98[_0x431163(0x1a9)]='<div\x20class=\x22rs-day-name\x22>'+_0x518f06+_0x431163(0x243)+_0x5a719e+_0x431163(0x20a),_0x1e6e98[_0x431163(0x1ee)]=()=>selectRsDate(_0x5afca6,_0x1e6e98),_0x3fb68b[_0x431163(0x186)](_0x1e6e98);}),selectRsDate(_0x58f311[0x0],_0x3fb68b['firstChild']);}function a3_0x2f29(_0x260a47,_0x50c985){_0x260a47=_0x260a47-0x165;const _0x40d53d=a3_0x43c7();let _0x365b6a=_0x40d53d[_0x260a47];return _0x365b6a;}function selectRsDate(_0x41afe1,_0x3bd9bf){const _0x158b79=a3_0xd746bd;selectedRsDate=_0x41afe1,document[_0x158b79(0x193)](_0x158b79(0x197))[_0x158b79(0x1ce)](_0x22b9a5=>_0x22b9a5[_0x158b79(0x1f0)]['remove'](_0x158b79(0x21c)));if(_0x3bd9bf)_0x3bd9bf['classList'][_0x158b79(0x1b4)](_0x158b79(0x21c));const _0x448866=document['getElementById'](_0x158b79(0x165));_0x448866[_0x158b79(0x1a9)]='';const _0x14ecd4=availableSlotsCache[_0x41afe1]||[];if(_0x14ecd4[_0x158b79(0x18a)]===0x0){_0x448866['innerHTML']=_0x158b79(0x249);return;}_0x14ecd4[_0x158b79(0x1ce)](_0x197bbb=>{const _0x1c7a42=_0x158b79,_0x55178f=document[_0x1c7a42(0x234)](_0x1c7a42(0x23d));_0x55178f[_0x1c7a42(0x208)]=_0x1c7a42(0x1ae),_0x55178f['textContent']=_0x197bbb,_0x55178f['onclick']=()=>confirmReschedule(_0x197bbb),_0x448866[_0x1c7a42(0x186)](_0x55178f);});}async function confirmReschedule(_0xbb5f6e){const _0x437f39=a3_0xd746bd,_0xa1f023=new Date(selectedRsDate),_0x40de89=_0xa1f023[_0x437f39(0x255)](_0x437f39(0x259),{'day':_0x437f39(0x204),'month':_0x437f39(0x17a)}),_0x39d931=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x437f39(0x1e8)+_0x40de89+_0x437f39(0x25d)+_0xbb5f6e+'?',![]);if(!_0x39d931)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x437f39(0x23c)]();const _0x2de8d1=currentSession['dateStr'],_0x3728d0=currentSession['id'],[_0x22555e,_0x3c73c0]=currentSession['start'][_0x437f39(0x196)](':')[_0x437f39(0x1d8)](Number),[_0x56f2a5,_0x3f3572]=currentSession[_0x437f39(0x213)][_0x437f39(0x196)](':')[_0x437f39(0x1d8)](Number),_0x2786b5=_0x56f2a5*0x3c+_0x3f3572-(_0x22555e*0x3c+_0x3c73c0),[_0xdfd92a,_0x6b07cf]=_0xbb5f6e['split'](':')[_0x437f39(0x1d8)](Number),_0x21034e=_0xdfd92a*0x3c+_0x6b07cf+_0x2786b5,_0x1323fa=Math[_0x437f39(0x24b)](_0x21034e/0x3c),_0x407b83=_0x21034e%0x3c,_0x50f7f6=String(_0x1323fa)['padStart'](0x2,'0')+':'+String(_0x407b83)[_0x437f39(0x245)](0x2,'0'),_0x5d1307=sessions[_0x437f39(0x1ad)](_0x4f7640=>_0x4f7640['id']===_0x3728d0);_0x5d1307!==-0x1&&(sessions[_0x5d1307][_0x437f39(0x217)]=selectedRsDate,sessions[_0x5d1307][_0x437f39(0x214)]=_0xbb5f6e,sessions[_0x5d1307][_0x437f39(0x213)]=_0x50f7f6,reRenderBlocks());try{const _0x2c3395=window[_0x437f39(0x22c)]?.[_0x437f39(0x252)],_0x470704=await fetch(API_URL,{'method':_0x437f39(0x221),'body':JSON['stringify']({'action':'reschedule','init_data':_0x2c3395?.[_0x437f39(0x198)]||'','oldSessionId':_0x3728d0,'oldDate':_0x2de8d1,'newDate':selectedRsDate,'newTime':_0xbb5f6e,'coachId':currentSession['coachId']})}),_0x2df310=await _0x470704['json']();!_0x2df310['ok']?(showToast(_0x437f39(0x215)),DataManager[_0x437f39(0x1e0)]()):(showToast(_0x437f39(0x25f)),DataManager[_0x437f39(0x1cd)]());}catch(_0x43b33c){showToast(_0x437f39(0x244));}}document[a3_0xd746bd(0x222)]('DOMContentLoaded',init);