const a3_0xc4439d=a3_0x3b9e;(function(_0x3f3273,_0x32dbcc){const _0x62c25d=a3_0x3b9e,_0x325e91=_0x3f3273();while(!![]){try{const _0x3d5278=-parseInt(_0x62c25d(0x171))/0x1+parseInt(_0x62c25d(0xf9))/0x2+-parseInt(_0x62c25d(0x172))/0x3+parseInt(_0x62c25d(0x162))/0x4+parseInt(_0x62c25d(0x1c8))/0x5+parseInt(_0x62c25d(0x1b2))/0x6*(-parseInt(_0x62c25d(0x17b))/0x7)+parseInt(_0x62c25d(0x113))/0x8;if(_0x3d5278===_0x32dbcc)break;else _0x325e91['push'](_0x325e91['shift']());}catch(_0x3537b3){_0x325e91['push'](_0x325e91['shift']());}}}(a3_0x2461,0xee369));const APP_VERSION=a3_0xc4439d(0x1cc),API_URL=a3_0xc4439d(0x126),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2ac591=a3_0xc4439d,_0x4fdd0b=(function(){let _0xedb8c=!![];return function(_0x2df493,_0x4ba129){const _0x43d8b9=_0xedb8c?function(){const _0x2f67d7=a3_0x3b9e;if(_0x4ba129){const _0x5d9a3d=_0x4ba129[_0x2f67d7(0x11c)](_0x2df493,arguments);return _0x4ba129=null,_0x5d9a3d;}}:function(){};return _0xedb8c=![],_0x43d8b9;};}()),_0x5d0d3a=_0x4fdd0b(this,function(){const _0x344524=a3_0x3b9e;return _0x5d0d3a['toString']()[_0x344524(0x12e)](_0x344524(0x1c1))['toString']()[_0x344524(0x157)](_0x5d0d3a)[_0x344524(0x12e)](_0x344524(0x1c1));});_0x5d0d3a();try{const _0x5057fe=window[_0x2ac591(0x17a)]?.[_0x2ac591(0x1a7)];if(!_0x5057fe)return;_0x5057fe[_0x2ac591(0x14c)](),_0x5057fe['expand']();try{_0x5057fe[_0x2ac591(0x1d4)](_0x2ac591(0x155)),_0x5057fe[_0x2ac591(0x15f)]&&_0x5057fe[_0x2ac591(0x15f)](_0x2ac591(0x155));}catch(_0x381db3){console[_0x2ac591(0x1bd)](_0x2ac591(0x1da),_0x381db3);}try{_0x5057fe[_0x2ac591(0xea)]&&(_0x5057fe[_0x2ac591(0xea)]['show'](),_0x5057fe[_0x2ac591(0xea)]['offClick'](),_0x5057fe['BackButton'][_0x2ac591(0x164)](function(){const _0x54b8e7=_0x2ac591;window[_0x54b8e7(0x19c)][_0x54b8e7(0xf7)]=_0x54b8e7(0x11a);}));}catch(_0xc194bd){console['log']('Error\x20setting\x20back\x20button:',_0xc194bd);}try{if(_0x5057fe[_0x2ac591(0x19b)])_0x5057fe[_0x2ac591(0x19b)]();}catch(_0x5a9868){}}catch(_0x2ff888){console[_0x2ac591(0x125)](_0x2ac591(0xf1),_0x2ff888);}}());function isAdmin(){const _0x367176=a3_0xc4439d;try{const _0x50d5d6=Number(window[_0x367176(0x17a)]?.[_0x367176(0x1a7)]?.[_0x367176(0x14f)]?.[_0x367176(0x149)]?.['id']);return _0x50d5d6===0xbaf7174;}catch(_0x133df){return![];}}const DataManager={'saveLocally'(){const _0x4b01ed=a3_0xc4439d;try{localStorage[_0x4b01ed(0x15c)](KEY_SESSIONS,JSON[_0x4b01ed(0x102)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x4b01ed(0x102)](clients)),localStorage[_0x4b01ed(0x15c)](KEY_SETTINGS,JSON[_0x4b01ed(0x102)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2c3263){}},'loadLocal'(){const _0x2807a3=a3_0xc4439d;try{const _0x31b4ae=localStorage[_0x2807a3(0x1ad)](KEY_SESSIONS);if(_0x31b4ae)sessions=JSON[_0x2807a3(0xfb)](_0x31b4ae);const _0x83e119=localStorage[_0x2807a3(0x1ad)](KEY_CLIENTS);if(_0x83e119)clients=JSON[_0x2807a3(0xfb)](_0x83e119);const _0x4975a4=localStorage[_0x2807a3(0x1ad)](KEY_SETTINGS);if(_0x4975a4){const _0x2c4824=JSON[_0x2807a3(0xfb)](_0x4975a4);if(_0x2c4824['pattern'])availabilityPattern=_0x2c4824['pattern'];if(_0x2c4824[_0x2807a3(0x1c7)])specialRanges=_0x2c4824[_0x2807a3(0x1c7)];if(_0x2c4824['exceptions'])dateExceptions=_0x2c4824[_0x2807a3(0x111)];}}catch(_0x74f341){}},async 'syncLoad'(){const _0x1ccc09=a3_0xc4439d,_0x181495=new Date(),_0x15407b=_0x181495[_0x1ccc09(0x163)]()+'-'+String(_0x181495['getMonth']()+0x1)[_0x1ccc09(0x15b)](0x2,'0'),_0x41cccb=new Date(_0x181495);_0x41cccb[_0x1ccc09(0x1e0)](_0x181495['getMonth']()+0x1);const _0x17536e=_0x41cccb[_0x1ccc09(0x163)]()+'-'+String(_0x41cccb[_0x1ccc09(0x11e)]()+0x1)['padStart'](0x2,'0'),_0x5a7df6=Date['now']();try{const _0x33c50e=window[_0x1ccc09(0x17a)]?.[_0x1ccc09(0x1a7)],_0x1d06dc=_0x33c50e?.['initData']||'',[_0x52cccb,_0xaeeaa9]=await Promise['all']([fetch(API_URL,{'method':_0x1ccc09(0x183),'body':JSON[_0x1ccc09(0x102)]({'action':_0x1ccc09(0x122),'init_data':_0x1d06dc,'month_str':_0x15407b})})[_0x1ccc09(0x1af)](_0x21d9ff=>_0x21d9ff[_0x1ccc09(0x140)]()),fetch(API_URL,{'method':_0x1ccc09(0x183),'body':JSON[_0x1ccc09(0x102)]({'action':_0x1ccc09(0x122),'init_data':_0x1d06dc,'month_str':_0x17536e})})[_0x1ccc09(0x1af)](_0x59769e=>_0x59769e[_0x1ccc09(0x140)]())]);if(lastUserActionTime>_0x5a7df6){console[_0x1ccc09(0x1bd)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x52cccb['ok'])this[_0x1ccc09(0x1a2)](_0x52cccb[_0x1ccc09(0x117)],_0x15407b);if(_0xaeeaa9['ok'])this[_0x1ccc09(0x1a2)](_0xaeeaa9[_0x1ccc09(0x117)],_0x17536e);this[_0x1ccc09(0x170)]();}catch(_0x1a2470){}},'applyData'(_0x20c985,_0x493bda){const _0x219c60=a3_0xc4439d;if(!_0x20c985)return;if(_0x20c985[_0x219c60(0x1c4)]){if(_0x20c985[_0x219c60(0x1c4)][_0x219c60(0x16a)])availabilityPattern=_0x20c985[_0x219c60(0x1c4)][_0x219c60(0x16a)];if(_0x20c985['settings'][_0x219c60(0x1c7)])specialRanges=_0x20c985[_0x219c60(0x1c4)][_0x219c60(0x1c7)];if(_0x20c985[_0x219c60(0x1c4)][_0x219c60(0x111)])dateExceptions=_0x20c985[_0x219c60(0x1c4)][_0x219c60(0x111)];}if(_0x20c985[_0x219c60(0x189)]&&Array[_0x219c60(0xe8)](_0x20c985[_0x219c60(0x189)]))clients=_0x20c985[_0x219c60(0x189)];_0x20c985[_0x219c60(0x13c)]&&(coachProfiles={...coachProfiles,..._0x20c985[_0x219c60(0x13c)]}),_0x20c985[_0x219c60(0x1ea)]&&(sessions=sessions[_0x219c60(0x190)](_0x15d100=>!_0x15d100[_0x219c60(0xed)]['startsWith'](_0x493bda)),Object[_0x219c60(0x1cf)](_0x20c985[_0x219c60(0x1ea)])[_0x219c60(0x118)](_0x1cf652=>{const _0x36df25=_0x20c985['calendar'][_0x1cf652];_0x36df25['forEach'](_0x178abc=>{const _0x27b634=a3_0x3b9e;sessions[_0x27b634(0x195)]({'id':_0x178abc['i'],'clientId':_0x178abc['c'],'coachId':_0x178abc[_0x27b634(0x179)],'dateStr':_0x493bda+'-'+_0x1cf652[_0x27b634(0x15b)](0x2,'0'),'start':_0x178abc['s'],'end':_0x178abc['e'],'note':_0x178abc['n']||'','status':_0x178abc['st']||_0x27b634(0x120),'seriesId':_0x178abc[_0x27b634(0x1b9)]});});})),reRenderBlocks();}};function init(){const _0x28f1a1=a3_0xc4439d;DataManager[_0x28f1a1(0x1b6)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x28f1a1(0x13e))[_0x28f1a1(0x1a5)](_0x28f1a1(0x1c3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x28f1a1(0x168)]();}function renderTimeColumn(){const _0x41f966=a3_0xc4439d,_0x224681=document[_0x41f966(0x124)](_0x41f966(0x15e)),_0x48369a=document[_0x41f966(0x124)](_0x41f966(0x169));_0x224681[_0x41f966(0x1ae)]='',_0x224681[_0x41f966(0x139)](_0x48369a);for(let _0x1d4182=0x0;_0x1d4182<0x18;_0x1d4182++){const _0xd285f8=document[_0x41f966(0x1d3)]('div');_0xd285f8['className']=_0x41f966(0x182);if(_0x1d4182>0x0)_0xd285f8[_0x41f966(0x1ae)]=_0x41f966(0x152)+String(_0x1d4182)['padStart'](0x2,'0')+_0x41f966(0x1d9);_0x224681['appendChild'](_0xd285f8);}}function renderDayRange(_0x456b15,_0x3a57a5){const _0x2e20e4=a3_0xc4439d,_0x3bac8e=document[_0x2e20e4(0x124)]('daysHeaderTrack'),_0x4dfbea=document[_0x2e20e4(0x124)](_0x2e20e4(0x178)),_0x1612c2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xa5d7c1=new Date();_0xa5d7c1[_0x2e20e4(0xf5)](0x0,0x0,0x0,0x0);const _0x57dada=getLocalDateStr(new Date());for(let _0x37b71a=_0x456b15;_0x37b71a<=_0x3a57a5;_0x37b71a++){const _0x33e0c9=new Date(_0xa5d7c1);_0x33e0c9['setDate'](_0x33e0c9[_0x2e20e4(0x11d)]()+_0x37b71a);const _0x1d7ddd=getLocalDateStr(_0x33e0c9);let _0x3b23f6=_0x33e0c9[_0x2e20e4(0x145)]()-0x1;if(_0x3b23f6===-0x1)_0x3b23f6=0x6;const _0x44b7f1=_0x1d7ddd===_0x57dada,_0x4b3bc0=document['createElement'](_0x2e20e4(0x144));_0x4b3bc0[_0x2e20e4(0x1aa)]=_0x2e20e4(0x19f)+(_0x44b7f1?_0x2e20e4(0x1b8):''),_0x4b3bc0['setAttribute']('data-date',_0x1d7ddd),_0x4b3bc0[_0x2e20e4(0x1ae)]=_0x2e20e4(0x17e)+_0x1612c2[_0x3b23f6]+'</div><div\x20class=\x22dch-num\x22>'+_0x33e0c9['getDate']()+_0x2e20e4(0xfc),_0x3bac8e[_0x2e20e4(0x139)](_0x4b3bc0);const _0x1c15eb=document[_0x2e20e4(0x1d3)](_0x2e20e4(0x144));_0x1c15eb[_0x2e20e4(0x1aa)]='day-column\x20'+(_0x44b7f1?_0x2e20e4(0x1b8):''),_0x1c15eb[_0x2e20e4(0x1dc)](_0x2e20e4(0x16c),_0x1d7ddd),_0x1c15eb['setAttribute'](_0x2e20e4(0xee),_0x3b23f6),_0x4dfbea[_0x2e20e4(0x139)](_0x1c15eb);}}function reRenderBlocks(){const _0x5aaa88=a3_0xc4439d;document[_0x5aaa88(0x104)](_0x5aaa88(0x16e))['forEach'](_0x529c9c=>{const _0x211bbf=_0x5aaa88;_0x529c9c['querySelectorAll'](_0x211bbf(0x101))[_0x211bbf(0x118)](_0x56f2e2=>_0x56f2e2[_0x211bbf(0x114)]());const _0xf739ab=_0x529c9c[_0x211bbf(0x131)](_0x211bbf(0x16c)),_0x489872=parseInt(_0x529c9c['getAttribute'](_0x211bbf(0xee))),_0x5b89a5=Math[_0x211bbf(0x1d1)](_0x529c9c[_0x211bbf(0x1ca)]);(availabilityPattern[_0x489872]||[])['forEach'](_0x3b6307=>{const _0x30fb8f=_0x211bbf,_0x55a4b2=document[_0x30fb8f(0x1d3)]('div');_0x55a4b2[_0x30fb8f(0x1aa)]=_0x30fb8f(0x1d5),_0x55a4b2['style']['top']=_0x3b6307*GRID_H+'px',_0x55a4b2[_0x30fb8f(0x138)][_0x30fb8f(0x1e3)]='-'+_0x5b89a5+_0x30fb8f(0x17c)+_0x3b6307*GRID_H+'px',_0x529c9c['appendChild'](_0x55a4b2);});if(specialRanges[_0x211bbf(0x18e)]>0x0){const _0x228541=new Date(_0xf739ab+_0x211bbf(0x151))[_0x211bbf(0x167)](),_0x5f50c5=new Date(_0xf739ab+_0x211bbf(0x19e))[_0x211bbf(0x167)]();specialRanges[_0x211bbf(0x118)](_0x13186f=>{const _0x208357=_0x211bbf,_0x5c4104=new Date(_0x13186f[_0x208357(0x1b4)])[_0x208357(0x167)](),_0x1dcaf6=new Date(_0x13186f[_0x208357(0x1bc)])[_0x208357(0x167)](),_0x2bb433=Math['max'](_0x228541,_0x5c4104),_0x59539d=Math[_0x208357(0x103)](_0x5f50c5,_0x1dcaf6);if(_0x2bb433<_0x59539d){const _0x192586=(_0x2bb433-_0x228541)/0x36ee80*GRID_H,_0x1f8472=(_0x59539d-_0x2bb433)/0x36ee80*GRID_H,_0x963ecc=document['createElement'](_0x208357(0x144));_0x1f8472>=23.5*GRID_H?(_0x963ecc[_0x208357(0x1aa)]=_0x208357(0xfe),_0x963ecc[_0x208357(0x138)][_0x208357(0x1e3)]='-'+_0x5b89a5+_0x208357(0x176)):(_0x963ecc[_0x208357(0x1aa)]=_0x208357(0xe7),_0x963ecc[_0x208357(0x138)][_0x208357(0x127)]=_0x192586+'px',_0x963ecc[_0x208357(0x138)]['height']=_0x1f8472+'px',_0x963ecc[_0x208357(0x138)]['backgroundPosition']='-'+_0x5b89a5+'px\x20-'+_0x192586+'px'),_0x529c9c[_0x208357(0x139)](_0x963ecc);}});}renderEventsForColumn(_0x529c9c,_0xf739ab);});}function renderEventsForColumn(_0xdf0d62,_0x32b9d8){const _0x1daa0a=a3_0xc4439d,_0x363665=sessions[_0x1daa0a(0x190)](_0x515430=>_0x515430['dateStr']===_0x32b9d8),_0x54f797=_0x363665['map'](_0x33ea71=>{const _0xb8eb27=_0x1daa0a,[_0x249bd2,_0x42614d]=_0x33ea71[_0xb8eb27(0x1b4)][_0xb8eb27(0x1eb)](':')[_0xb8eb27(0xec)](Number),[_0x354919,_0x3d7ba6]=_0x33ea71[_0xb8eb27(0x1bc)]['split'](':')[_0xb8eb27(0xec)](Number);return{'data':_0x33ea71,'start':_0x249bd2*0x3c+_0x42614d,'end':_0x354919*0x3c+_0x3d7ba6,'colIndex':0x0};});_0x54f797[_0x1daa0a(0x1bf)]((_0x3934b4,_0x4336f0)=>_0x3934b4[_0x1daa0a(0x1b4)]-_0x4336f0[_0x1daa0a(0x1b4)]||_0x4336f0[_0x1daa0a(0x1bc)]-_0x4336f0['start']-(_0x3934b4[_0x1daa0a(0x1bc)]-_0x3934b4[_0x1daa0a(0x1b4)]));const _0x178169=[];_0x54f797[_0x1daa0a(0x118)](_0x10a28b=>{const _0x475b1e=_0x1daa0a;let _0x3a2258=![];for(let _0x1c3b39=0x0;_0x1c3b39<_0x178169[_0x475b1e(0x18e)];_0x1c3b39++){const _0x591aa0=_0x178169[_0x1c3b39];if(_0x10a28b['start']>=_0x591aa0[_0x591aa0[_0x475b1e(0x18e)]-0x1][_0x475b1e(0x1bc)]){_0x591aa0[_0x475b1e(0x195)](_0x10a28b),_0x10a28b[_0x475b1e(0x17f)]=_0x1c3b39,_0x3a2258=!![];break;}}!_0x3a2258&&(_0x178169[_0x475b1e(0x195)]([_0x10a28b]),_0x10a28b[_0x475b1e(0x17f)]=_0x178169['length']-0x1);}),_0x54f797[_0x1daa0a(0x118)](_0x5546d4=>{const _0x194875=_0x1daa0a;let _0x57cfd5=0x0;_0x54f797[_0x194875(0x118)](_0x1d211a=>{const _0x14078c=_0x194875;if(Math[_0x14078c(0x16d)](_0x5546d4[_0x14078c(0x1b4)],_0x1d211a[_0x14078c(0x1b4)])<Math[_0x14078c(0x103)](_0x5546d4[_0x14078c(0x1bc)],_0x1d211a[_0x14078c(0x1bc)])&&_0x1d211a[_0x14078c(0x17f)]>_0x57cfd5)_0x57cfd5=_0x1d211a[_0x14078c(0x17f)];});const _0x2a7d71=_0x57cfd5+0x1,_0x2148c3=0x64/_0x2a7d71,_0x41f8a5=_0x5546d4[_0x194875(0x17f)]*_0x2148c3,_0x4305a7=document[_0x194875(0x1d3)](_0x194875(0x144)),_0x703abf=_0x5546d4['data'];let _0x120a79=_0x194875(0x106);if(clients&&clients['length']>0x0){const _0x3c9a3c=clients['find'](_0x226c05=>String(_0x226c05['id'])===String(_0x703abf[_0x194875(0x193)]));if(_0x3c9a3c&&_0x3c9a3c['color'])_0x120a79=_0x3c9a3c[_0x194875(0xf6)];}const _0x263a36=_0x703abf[_0x194875(0x12d)]===_0x194875(0x1ac),_0x403f28=_0x263a36?0x1:0.45;_0x4305a7['className']='event-card'+(_0x263a36?_0x194875(0x16f):''),_0x4305a7[_0x194875(0x138)][_0x194875(0x1ba)]=hexToRgba(_0x120a79,_0x403f28),_0x4305a7[_0x194875(0x138)]['borderLeftColor']=_0x120a79;const _0x4e2bb9=_0x5546d4[_0x194875(0x1b4)]/0x3c*GRID_H,_0x30646d=(_0x5546d4[_0x194875(0x1bc)]-_0x5546d4['start'])/0x3c*GRID_H;_0x4305a7[_0x194875(0x138)][_0x194875(0x127)]=_0x4e2bb9+'px',_0x4305a7[_0x194875(0x138)][_0x194875(0x1ce)]=Math[_0x194875(0x16d)](_0x30646d,0x14)+'px',_0x4305a7[_0x194875(0x138)][_0x194875(0x177)]=_0x194875(0x11f)+_0x2148c3+_0x194875(0x10a),_0x4305a7[_0x194875(0x138)][_0x194875(0xeb)]='calc('+_0x41f8a5+_0x194875(0x119),_0x4305a7[_0x194875(0x138)][_0x194875(0x156)]=0xa+_0x5546d4[_0x194875(0x17f)];if(_0x2148c3<0x55)_0x4305a7[_0x194875(0x1de)][_0x194875(0x15d)](_0x194875(0x175));let _0x210663='';if(_0x703abf[_0x194875(0x128)])_0x210663+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x263a36)_0x210663+=_0x194875(0x166);_0x4305a7[_0x194875(0x1ae)]=_0x194875(0x18b)+_0x703abf['start']+_0x194875(0x1dd)+_0x703abf[_0x194875(0x1bc)]+_0x194875(0x12a)+_0x210663+_0x194875(0x161),_0x4305a7[_0x194875(0x19a)]=_0x42b11e=>{const _0x5b6057=_0x194875;_0x42b11e[_0x5b6057(0x199)](),openDetails(_0x703abf);},_0xdf0d62[_0x194875(0x139)](_0x4305a7);});}function openAnalytics(){const _0x14bfb3=a3_0xc4439d,_0x50ffd5=document['querySelector'](_0x14bfb3(0x14e));setAnalyticsPeriod(_0x14bfb3(0xf4),_0x50ffd5),openSheet(_0x14bfb3(0x137));}function setAnalyticsPeriod(_0x14ec72,_0x3bb6a3){const _0x2ac8c5=a3_0xc4439d;currentAnPeriod=_0x14ec72,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x2ac8c5(0x118)](_0x223536=>_0x223536[_0x2ac8c5(0x1de)][_0x2ac8c5(0x114)](_0x2ac8c5(0x1a3)));if(_0x3bb6a3)_0x3bb6a3[_0x2ac8c5(0x1de)][_0x2ac8c5(0x15d)](_0x2ac8c5(0x1a3));const _0x1307fa=document['getElementById']('anCustomDates');_0x1307fa[_0x2ac8c5(0x138)][_0x2ac8c5(0xfd)]=_0x14ec72===_0x2ac8c5(0x158)?'flex':_0x2ac8c5(0x18a);const _0x1e9512=new Date();let _0x5a3a43=new Date(),_0x239de7=new Date();if(_0x14ec72===_0x2ac8c5(0xf4))_0x5a3a43=getStartOfWeek(_0x1e9512),_0x239de7=new Date(_0x5a3a43),_0x239de7[_0x2ac8c5(0x1a8)](_0x239de7[_0x2ac8c5(0x11d)]()+0x6);else{if(_0x14ec72===_0x2ac8c5(0x14b))_0x5a3a43=new Date(_0x1e9512[_0x2ac8c5(0x163)](),_0x1e9512[_0x2ac8c5(0x11e)](),0x1),_0x239de7=new Date(_0x1e9512[_0x2ac8c5(0x163)](),_0x1e9512[_0x2ac8c5(0x11e)]()+0x1,0x0);else{!document[_0x2ac8c5(0x124)](_0x2ac8c5(0xf8))['value']&&(document[_0x2ac8c5(0x124)](_0x2ac8c5(0xf8))[_0x2ac8c5(0x132)]=getLocalDateStr(_0x1e9512),document[_0x2ac8c5(0x124)](_0x2ac8c5(0x17d))['value']=getLocalDateStr(_0x1e9512));refreshAnalytics();return;}}document[_0x2ac8c5(0x124)](_0x2ac8c5(0xf8))[_0x2ac8c5(0x132)]=getLocalDateStr(_0x5a3a43),document[_0x2ac8c5(0x124)](_0x2ac8c5(0x17d))['value']=getLocalDateStr(_0x239de7),refreshAnalytics();}function refreshAnalytics(){const _0x448ceb=a3_0xc4439d,_0x482fd0=document['getElementById'](_0x448ceb(0xf8))[_0x448ceb(0x132)],_0x19f211=document[_0x448ceb(0x124)](_0x448ceb(0x17d))[_0x448ceb(0x132)];if(!_0x482fd0||!_0x19f211)return;const _0xcd0bfa=sessions[_0x448ceb(0x190)](_0x3825df=>_0x3825df[_0x448ceb(0xed)]>=_0x482fd0&&_0x3825df['dateStr']<=_0x19f211&&_0x3825df[_0x448ceb(0x12d)]!==_0x448ceb(0x135)),_0x261481=_0xcd0bfa[_0x448ceb(0x18e)],_0x3afa5f=_0xcd0bfa[_0x448ceb(0x190)](_0x137c3d=>_0x137c3d[_0x448ceb(0x12d)]===_0x448ceb(0x1ac))['length'],_0x443508=_0x261481>0x0?Math[_0x448ceb(0x1d1)](_0x3afa5f/_0x261481*0x64):0x0;document['getElementById'](_0x448ceb(0x146))[_0x448ceb(0x18d)]=_0x443508+'%',document[_0x448ceb(0x124)](_0x448ceb(0x154))[_0x448ceb(0x18d)]=_0x3afa5f+_0x448ceb(0x150)+_0x261481+_0x448ceb(0x1e7);const _0x4a83c1=document[_0x448ceb(0x124)](_0x448ceb(0x108)),_0x1bd182=0x2*Math['PI']*0x23,_0x38de21=_0x1bd182-_0x443508/0x64*_0x1bd182;_0x4a83c1[_0x448ceb(0x138)][_0x448ceb(0x100)]=_0x38de21;const _0x4a958b={};_0xcd0bfa[_0x448ceb(0x118)](_0x4f2fcd=>{const _0x2033d7=_0x448ceb,_0x58bbcb=_0x4f2fcd[_0x2033d7(0x129)]||_0x2033d7(0x133);if(!_0x4a958b[_0x58bbcb]){const _0xb26ab5='#'+_0x58bbcb[_0x2033d7(0x174)]()[_0x2033d7(0x10b)](0x0,0x6);_0x4a958b[_0x58bbcb]={'total':0x0,'done':0x0,'color':_0xb26ab5};}_0x4a958b[_0x58bbcb][_0x2033d7(0x1c2)]++;if(_0x4f2fcd['status']===_0x2033d7(0x1ac))_0x4a958b[_0x58bbcb][_0x2033d7(0x181)]++;});const _0x19430a=document['getElementById'](_0x448ceb(0x12f));_0x19430a[_0x448ceb(0x1ae)]='';const _0x3a92c2=Object[_0x448ceb(0x184)](_0x4a958b)[_0x448ceb(0x1bf)]((_0x450bea,_0x51f27d)=>_0x51f27d[0x1]['total']-_0x450bea[0x1][_0x448ceb(0x1c2)]);if(_0x3a92c2[_0x448ceb(0x18e)]===0x0){_0x19430a[_0x448ceb(0x1ae)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3a92c2['forEach'](([_0x168251,_0x515cfb])=>{const _0xad2a0c=_0x448ceb,_0x38dac4=Math[_0xad2a0c(0x1d1)](_0x515cfb[_0xad2a0c(0x181)]/_0x515cfb[_0xad2a0c(0x1c2)]*0x64),_0x48f3a8=document[_0xad2a0c(0x1d3)](_0xad2a0c(0x144));_0x48f3a8[_0xad2a0c(0x1aa)]=_0xad2a0c(0x141),_0x48f3a8[_0xad2a0c(0x138)][_0xad2a0c(0x1c0)]=_0x515cfb[_0xad2a0c(0xf6)],_0x48f3a8['innerHTML']=_0xad2a0c(0x109)+_0x168251[_0xad2a0c(0x10b)](0x0,0x5)+_0xad2a0c(0x1e4)+_0x515cfb[_0xad2a0c(0x181)]+_0xad2a0c(0x1d0)+_0x515cfb['total']+_0xad2a0c(0x1a9)+_0x38dac4+_0xad2a0c(0x186),_0x19430a['appendChild'](_0x48f3a8);});}function openDetails(_0x5394a7){const _0x253ebc=a3_0xc4439d;currentSession=_0x5394a7;const _0xac79a=new Date(_0x5394a7[_0x253ebc(0xed)]),_0x2730f9=_0xac79a['toLocaleDateString'](_0x253ebc(0xf0),{'weekday':'long','day':_0x253ebc(0xef),'month':'long'});document[_0x253ebc(0x124)](_0x253ebc(0x1b5))[_0x253ebc(0x18d)]=_0x2730f9[_0x253ebc(0x192)](0x0)[_0x253ebc(0x1d6)]()+_0x2730f9['slice'](0x1),document[_0x253ebc(0x124)](_0x253ebc(0x10f))[_0x253ebc(0x18d)]=_0x5394a7['start']+_0x253ebc(0x1dd)+_0x5394a7[_0x253ebc(0x1bc)],document['getElementById'](_0x253ebc(0x134))['textContent']=_0x5394a7[_0x253ebc(0x116)]||_0x253ebc(0x180);const _0x404d66=document[_0x253ebc(0x124)](_0x253ebc(0x1e8)),_0x219fc8=document[_0x253ebc(0x124)]('cancelContainer'),_0x5724dc=_0x219fc8[_0x253ebc(0x196)]('.btn-cancel'),_0x23fc58=_0x219fc8[_0x253ebc(0x196)](_0x253ebc(0x1a4)),_0x518678=document[_0x253ebc(0x124)](_0x253ebc(0x110));if(_0x5394a7[_0x253ebc(0x12d)]===_0x253ebc(0x1ac))_0x404d66[_0x253ebc(0x18d)]=_0x253ebc(0x13b),_0x404d66['style'][_0x253ebc(0xf6)]=_0x253ebc(0xfa),_0x219fc8[_0x253ebc(0x138)][_0x253ebc(0xfd)]=_0x253ebc(0x18a);else{_0x404d66[_0x253ebc(0x18d)]=_0x253ebc(0x142),_0x404d66[_0x253ebc(0x138)][_0x253ebc(0xf6)]=_0x253ebc(0x1cb),_0x219fc8[_0x253ebc(0x138)][_0x253ebc(0xfd)]=_0x253ebc(0x1b3);const _0xf933bb=new Date(_0x5394a7[_0x253ebc(0xed)]+'T'+_0x5394a7[_0x253ebc(0x1b4)]),_0x47a9cf=new Date(),_0x23fa3e=(_0xf933bb-_0x47a9cf)/(0x3e8*0x3c*0x3c),_0x24d128=coachProfiles[_0x5394a7['coachId']]&&coachProfiles[_0x5394a7[_0x253ebc(0x129)]][_0x253ebc(0x1d7)]?parseInt(coachProfiles[_0x5394a7[_0x253ebc(0x129)]][_0x253ebc(0x1d7)]):0x18;if(_0x24d128===0x0||_0x23fa3e>=_0x24d128)_0x5724dc['style']['display']=_0x253ebc(0x1b3),_0x23fc58[_0x253ebc(0x138)][_0x253ebc(0xfd)]='block',_0x518678[_0x253ebc(0x138)][_0x253ebc(0xfd)]=_0x253ebc(0x18a);else{_0x5724dc[_0x253ebc(0x138)][_0x253ebc(0xfd)]=_0x253ebc(0x18a),_0x23fc58[_0x253ebc(0x138)][_0x253ebc(0xfd)]=_0x253ebc(0x18a),_0x518678[_0x253ebc(0x138)][_0x253ebc(0xfd)]='block';let _0x4db018=_0x24d128===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x253ebc(0x112)+_0x24d128+_0x253ebc(0x1e2);_0x518678[_0x253ebc(0x18d)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x4db018+_0x253ebc(0x1e6);}}document[_0x253ebc(0x124)](_0x253ebc(0x173))[_0x253ebc(0x1de)][_0x253ebc(0x15d)](_0x253ebc(0x1a3)),document['getElementById'](_0x253ebc(0x13a))[_0x253ebc(0x1de)][_0x253ebc(0x15d)]('open');}function closeAllSheets(){const _0x1a0022=a3_0xc4439d;document['getElementById'](_0x1a0022(0x173))[_0x1a0022(0x1de)][_0x1a0022(0x114)](_0x1a0022(0x1a3)),document[_0x1a0022(0x104)](_0x1a0022(0x16b))[_0x1a0022(0x118)](_0x46eb3e=>_0x46eb3e[_0x1a0022(0x1de)][_0x1a0022(0x114)](_0x1a0022(0x12c)));}function openSheet(_0x4e3a2d){const _0x31309a=a3_0xc4439d;document['getElementById']('overlay')['classList']['add'](_0x31309a(0x1a3)),document[_0x31309a(0x124)](_0x4e3a2d)[_0x31309a(0x1de)][_0x31309a(0x15d)]('open');}function getLocalDateStr(_0x2e5b12){const _0x7fc410=a3_0xc4439d,_0x43254c=_0x2e5b12['getFullYear'](),_0x40ab78=String(_0x2e5b12[_0x7fc410(0x11e)]()+0x1)['padStart'](0x2,'0'),_0x3abc36=String(_0x2e5b12[_0x7fc410(0x11d)]())[_0x7fc410(0x15b)](0x2,'0');return _0x43254c+'-'+_0x40ab78+'-'+_0x3abc36;}function getStartOfWeek(_0x3b907d){const _0x3312c9=a3_0xc4439d,_0x168362=new Date(_0x3b907d),_0x41507e=_0x168362[_0x3312c9(0x145)](),_0x226f45=_0x168362['getDate']()-_0x41507e+(_0x41507e===0x0?-0x6:0x1);return _0x168362[_0x3312c9(0x1a8)](_0x226f45),_0x168362[_0x3312c9(0xf5)](0x0,0x0,0x0,0x0),_0x168362;}function a3_0x2461(){const _0x117d08=['\x20—á.','backgroundPosition','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','detStatus','ccTitle','calendar','split','blocked-range-part\x20stripe-bg','isArray','auto','BackButton','left','map','dateStr','data-day-idx','numeric','ru-RU','Critical\x20TMA\x20Error:','customConfirm','fontWeight','week','setHours','color','href','anStart','506778apCCtd','var(--acc-green)','parse','</div>','display','day-off-overlay\x20stripe-bg','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','strokeDashoffset','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','stringify','min','querySelectorAll','join','#0a84ff','daysHeaderTrack','anDonutCircle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','%\x20-\x204px)','substr','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','createDocumentFragment','insertBefore','detTime','cancelHint','exceptions','–∑–∞\x20','6192136dYYPHY','remove','rs-date-chip','note','data','forEach','%\x20+\x202px)','router.html','test','apply','getDate','getMonth','calc(','planned','button','client_load','client_cancel','getElementById','error','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','top','seriesId','coachId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalTimeLine','open','status','search','analyticsList','scrollLeft','getAttribute','value','Unknown','detNote','cancelled','scrollTo','analyticsSheet','style','appendChild','detailsSheet','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','coach_profiles','getHours','matrixViewport','show','json','client-stat-card','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','scrollTop','div','getDay','anPercent','DOMContentLoaded','ccYesBtn','user','<div\x20class=\x22rs-day-name\x22>','month','ready','toast','.period-switch\x20.p-btn','initDataUnsafe','\x20–∏–∑\x20','T00:00:00','<span>','ccText','anTotalStats','#050505','zIndex','constructor','custom','rgba(','getMinutes','padStart','setItem','add','timeColumn','setBackgroundColor','initData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','7682568zALtmL','getFullYear','onClick','</div><div\x20class=\x22rs-day-num\x22>','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getTime','syncLoad','timeLineBadge','pattern','.sheet','data-date','max','.day-column','\x20status-completed','saveLocally','1632988JTcrty','986382YxmVzq','overlay','toString','mini','px\x200px','width','gridColumns','cid','Telegram','6509370BZrBjC','px\x20-','anEnd','<div\x20class=\x22dch-day\x22>','colIndex','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','done','time-label','POST','entries','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','substring','clients','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','clientWidth','textContent','length','rs-time-btn','filter','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','charAt','clientId','–û—Ç–º–µ–Ω–µ–Ω–æ','push','querySelector','rescheduleSheet','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','stopPropagation','onclick','disableVerticalSwipes','location','firstChild','T23:59:59','day-col-header\x20','toLocaleString','rsDatesTrack','applyData','active','.btn-reschedule','addEventListener','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','WebApp','setDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','className','visible','completed','getItem','innerHTML','then','rgba(10,\x20132,\x20255,\x20','.day-col-header','12QrhOrL','block','start','detDate','loadLocal','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','today','sid','backgroundColor','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','end','log','600','sort','borderLeftColor','(((.+)+)+)+$','total','scroll','settings','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','rsSlotsGrid','ranges','9246375NIjOcz','long','offsetLeft','var(--acc-blue)','v9.5-CLIENT-ANALYTICS','offsetWidth','height','keys','</span>\x20/\x20','round','floor','createElement','setHeaderColor','blocked-slot\x20stripe-bg','toUpperCase','cancel_window','\x20–≤\x20',':00</span>','Error\x20setting\x20color:','</div><div\x20class=\x22dch-num\x22>','setAttribute','\x20-\x20','classList','now','setMonth','#ff453a'];a3_0x2461=function(){return _0x117d08;};return a3_0x2461();}function scrollToToday(){const _0x461e77=getLocalDateStr(new Date());setTimeout(()=>{const _0x593641=a3_0x3b9e,_0x3ab80c=document[_0x593641(0x196)]('.day-col-header[data-date=\x22'+_0x461e77+'\x22]');if(_0x3ab80c){const _0x2519a3=document[_0x593641(0x124)]('matrixViewport'),_0x385436=_0x3ab80c['offsetLeft']-_0x2519a3[_0x593641(0x18c)]/0x2+_0x3ab80c[_0x593641(0x1cd)]/0x2;_0x2519a3[_0x593641(0x136)]({'left':_0x385436,'behavior':_0x593641(0xe9)}),_0x2519a3[_0x593641(0x143)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2568b7=a3_0xc4439d,_0x2e0fca=new Date(),_0x5143ab=document['getElementById'](_0x2568b7(0x12b)),_0x45647b=document['getElementById'](_0x2568b7(0x169)),_0x31bd4f=(_0x2e0fca['getHours']()*0x3c+_0x2e0fca[_0x2568b7(0x15a)]())/0x3c*GRID_H;_0x5143ab['style'][_0x2568b7(0x127)]=_0x31bd4f+'px',_0x5143ab[_0x2568b7(0x138)][_0x2568b7(0xfd)]=_0x2568b7(0x1b3),_0x45647b[_0x2568b7(0x138)][_0x2568b7(0x127)]=_0x31bd4f+'px',_0x45647b[_0x2568b7(0x138)][_0x2568b7(0xfd)]=_0x2568b7(0x1b3),_0x45647b['textContent']=String(_0x2e0fca[_0x2568b7(0x13d)]())[_0x2568b7(0x15b)](0x2,'0')+':'+String(_0x2e0fca[_0x2568b7(0x15a)]())['padStart'](0x2,'0');}function onScroll(){const _0x1322cd=a3_0xc4439d,_0x5bb41b=document[_0x1322cd(0x124)](_0x1322cd(0x13e)),_0xe8db92=document['querySelectorAll'](_0x1322cd(0x1b1));for(let _0x283308 of _0xe8db92)if(_0x283308[_0x1322cd(0x1ca)]>=_0x5bb41b[_0x1322cd(0x130)]){const _0x109d21=new Date(_0x283308['getAttribute'](_0x1322cd(0x16c)));document[_0x1322cd(0x124)]('headerMonth')[_0x1322cd(0x18d)]=_0x109d21[_0x1322cd(0x1a0)]('ru',{'month':_0x1322cd(0x1c9)})['toUpperCase']()+'\x20'+_0x109d21[_0x1322cd(0x163)]();break;}}function showToast(_0x2dc1e8){const _0x1383d1=a3_0xc4439d,_0x44222f=document[_0x1383d1(0x124)](_0x1383d1(0x14d));_0x44222f[_0x1383d1(0x18d)]=_0x2dc1e8,_0x44222f[_0x1383d1(0x1de)][_0x1383d1(0x15d)](_0x1383d1(0x13f)),setTimeout(()=>_0x44222f[_0x1383d1(0x1de)][_0x1383d1(0x114)](_0x1383d1(0x13f)),0x7d0);}function handleInfiniteScroll(){const _0x15bf48=a3_0xc4439d,_0x1cee2c=document['getElementById'](_0x15bf48(0x13e)),_0x352218=_0x1cee2c[_0x15bf48(0x130)],_0x26669c=_0x1cee2c['scrollWidth'],_0xde76f2=_0x1cee2c['clientWidth'];if(_0x26669c-(_0x352218+_0xde76f2)<0x12c){const _0x5f91d0=endOffset;endOffset+=0xe,renderDayRange(_0x5f91d0+0x1,endOffset),reRenderBlocks();}if(_0x352218<0x12c){const _0x2422c4=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2422c4-0x1),_0x1cee2c[_0x15bf48(0x130)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x47ea53,_0x4cadcb){const _0x392056=a3_0xc4439d,_0x2e9dba=document[_0x392056(0x124)](_0x392056(0x107)),_0x288cdf=document[_0x392056(0x124)](_0x392056(0x178)),_0xb49e7c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5f5a3a=new Date();_0x5f5a3a[_0x392056(0xf5)](0x0,0x0,0x0,0x0);const _0x5d16ef=getLocalDateStr(new Date()),_0x22bdb5=document[_0x392056(0x10d)](),_0x1bb989=document['createDocumentFragment']();for(let _0xa02f7a=_0x47ea53;_0xa02f7a<=_0x4cadcb;_0xa02f7a++){const _0x42aa7a=new Date(_0x5f5a3a);_0x42aa7a['setDate'](_0x42aa7a[_0x392056(0x11d)]()+_0xa02f7a);const _0xb52b65=getLocalDateStr(_0x42aa7a);let _0x282ec2=_0x42aa7a[_0x392056(0x145)]()-0x1;if(_0x282ec2===-0x1)_0x282ec2=0x6;const _0x327003=_0xb52b65===_0x5d16ef,_0x58e4fc=document[_0x392056(0x1d3)]('div');_0x58e4fc[_0x392056(0x1aa)]=_0x392056(0x19f)+(_0x327003?_0x392056(0x1b8):''),_0x58e4fc[_0x392056(0x1dc)]('data-date',_0xb52b65),_0x58e4fc[_0x392056(0x1ae)]=_0x392056(0x17e)+_0xb49e7c[_0x282ec2]+_0x392056(0x1db)+_0x42aa7a['getDate']()+_0x392056(0xfc),_0x22bdb5[_0x392056(0x139)](_0x58e4fc);const _0xb903a2=document[_0x392056(0x1d3)](_0x392056(0x144));_0xb903a2[_0x392056(0x1aa)]='day-column\x20'+(_0x327003?'today':''),_0xb903a2[_0x392056(0x1dc)](_0x392056(0x16c),_0xb52b65),_0xb903a2[_0x392056(0x1dc)](_0x392056(0xee),_0x282ec2),_0x1bb989[_0x392056(0x139)](_0xb903a2);}_0x2e9dba[_0x392056(0x10e)](_0x22bdb5,_0x2e9dba[_0x392056(0x19d)]),_0x288cdf[_0x392056(0x10e)](_0x1bb989,_0x288cdf['querySelector'](_0x392056(0x16e)));}function hexToRgba(_0x44aa13,_0x977548){const _0x317a53=a3_0xc4439d;let _0x48b944;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x317a53(0x11b)](_0x44aa13))return _0x48b944=_0x44aa13[_0x317a53(0x188)](0x1)[_0x317a53(0x1eb)](''),_0x48b944[_0x317a53(0x18e)]==0x3&&(_0x48b944=[_0x48b944[0x0],_0x48b944[0x0],_0x48b944[0x1],_0x48b944[0x1],_0x48b944[0x2],_0x48b944[0x2]]),_0x48b944='0x'+_0x48b944['join'](''),_0x317a53(0x159)+[_0x48b944>>0x10&0xff,_0x48b944>>0x8&0xff,_0x48b944&0xff][_0x317a53(0x105)](',')+','+_0x977548+')';return _0x317a53(0x1b0)+_0x977548+')';}function a3_0x3b9e(_0x37f70d,_0x4f50f5){_0x37f70d=_0x37f70d-0xe7;const _0x1c9fe7=a3_0x2461();let _0x8ff385=_0x1c9fe7[_0x37f70d];return _0x8ff385;}let confirmResolver=null;function showCustomConfirm(_0x3a4563,_0x511632,_0x2942fc=!![]){const _0x455676=a3_0xc4439d;document[_0x455676(0x124)](_0x455676(0x1e9))['textContent']=_0x3a4563,document[_0x455676(0x124)](_0x455676(0x153))[_0x455676(0x18d)]=_0x511632;const _0x200c9d=document[_0x455676(0x124)](_0x455676(0x148));return _0x2942fc?(_0x200c9d[_0x455676(0x138)][_0x455676(0xf6)]=_0x455676(0x1e1),_0x200c9d[_0x455676(0x138)][_0x455676(0xf3)]=_0x455676(0x1be)):(_0x200c9d[_0x455676(0x138)]['color']=_0x455676(0x106),_0x200c9d[_0x455676(0x138)][_0x455676(0xf3)]=_0x455676(0x1be)),new Promise(_0x590f0c=>{const _0x48a148=_0x455676;confirmResolver=_0x590f0c,document[_0x48a148(0x124)](_0x48a148(0xf2))['classList']['add'](_0x48a148(0x1ab));});}function resolveCustomConfirm(_0x1c8c0c){const _0x1f1c26=a3_0xc4439d;document[_0x1f1c26(0x124)]('customConfirm')[_0x1f1c26(0x1de)][_0x1f1c26(0x114)](_0x1f1c26(0x1ab));if(confirmResolver)confirmResolver(_0x1c8c0c);}async function tryCancelCurrentSession(){const _0xbb4058=a3_0xc4439d;if(!currentSession)return;const _0x8ff087=await showCustomConfirm(_0xbb4058(0x1c5),_0xbb4058(0x1bb),!![]);if(!_0x8ff087)return;const _0x184e15=currentSession;closeAllSheets(),sessions=sessions[_0xbb4058(0x190)](_0x32efae=>_0x32efae['id']!==_0x184e15['id']),reRenderBlocks(),showToast(_0xbb4058(0x194)),lastUserActionTime=Date[_0xbb4058(0x1df)]();try{const _0x436d8b=window[_0xbb4058(0x17a)]?.[_0xbb4058(0x1a7)],_0x1887db=await fetch(API_URL,{'method':_0xbb4058(0x183),'body':JSON[_0xbb4058(0x102)]({'action':_0xbb4058(0x123),'init_data':_0x436d8b?.[_0xbb4058(0x160)]||'','coachId':_0x184e15[_0xbb4058(0x129)],'dateStr':_0x184e15[_0xbb4058(0xed)],'sessionId':_0x184e15['id']})});if(_0x1887db['ok'])DataManager[_0xbb4058(0x170)]();}catch(_0x56c7e8){showToast(_0xbb4058(0x185));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3ed5ca=a3_0xc4439d;if(!currentSession)return;document[_0x3ed5ca(0x124)](_0x3ed5ca(0x13a))[_0x3ed5ca(0x1de)][_0x3ed5ca(0x114)](_0x3ed5ca(0x12c)),document[_0x3ed5ca(0x124)](_0x3ed5ca(0x197))[_0x3ed5ca(0x1de)][_0x3ed5ca(0x15d)](_0x3ed5ca(0x12c));const _0x14f74f=document[_0x3ed5ca(0x124)](_0x3ed5ca(0x1a1)),_0x26df40=document[_0x3ed5ca(0x124)](_0x3ed5ca(0x1c6));_0x14f74f[_0x3ed5ca(0x1ae)]='',_0x26df40['innerHTML']=_0x3ed5ca(0x198);const [_0x553e99,_0x31fbb1]=currentSession[_0x3ed5ca(0x1b4)][_0x3ed5ca(0x1eb)](':')['map'](Number),[_0x5eb9bc,_0x2b2769]=currentSession[_0x3ed5ca(0x1bc)][_0x3ed5ca(0x1eb)](':')['map'](Number),_0x3bf73e=_0x5eb9bc*0x3c+_0x2b2769-(_0x553e99*0x3c+_0x31fbb1);try{const _0x191be2=window[_0x3ed5ca(0x17a)]?.[_0x3ed5ca(0x1a7)],_0x498f37=await fetch(API_URL,{'method':_0x3ed5ca(0x183),'body':JSON[_0x3ed5ca(0x102)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x3bf73e,'init_data':_0x191be2?.[_0x3ed5ca(0x160)]||'','excludeSessionId':currentSession['id']})}),_0x2fd50d=await _0x498f37[_0x3ed5ca(0x140)]();_0x2fd50d['ok']&&_0x2fd50d['data']?(availableSlotsCache=_0x2fd50d[_0x3ed5ca(0x117)],renderRescheduleDates()):_0x26df40[_0x3ed5ca(0x1ae)]=_0x3ed5ca(0x191);}catch(_0xbc4a6a){_0x26df40['innerHTML']=_0x3ed5ca(0x1e5);}}function renderRescheduleDates(){const _0x136eba=a3_0xc4439d,_0x2aaf17=document[_0x136eba(0x124)](_0x136eba(0x1a1));_0x2aaf17[_0x136eba(0x1ae)]='';const _0x4c6b4f=Object[_0x136eba(0x1cf)](availableSlotsCache)['sort'](),_0x48c797=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4c6b4f[_0x136eba(0x18e)]===0x0){document['getElementById'](_0x136eba(0x1c6))[_0x136eba(0x1ae)]=_0x136eba(0x1b7);return;}_0x4c6b4f['forEach']((_0x5cef65,_0x2e5f00)=>{const _0x2e5315=_0x136eba,_0x2b6ac4=new Date(_0x5cef65),_0x59f6e7=_0x48c797[_0x2b6ac4[_0x2e5315(0x145)]()],_0x184a9b=_0x2b6ac4['getDate'](),_0x2aedf2=document[_0x2e5315(0x1d3)](_0x2e5315(0x144));_0x2aedf2[_0x2e5315(0x1aa)]=_0x2e5315(0x115);if(_0x2e5f00===0x0)_0x2aedf2[_0x2e5315(0x1de)][_0x2e5315(0x15d)](_0x2e5315(0x1a3));_0x2aedf2[_0x2e5315(0x1ae)]=_0x2e5315(0x14a)+_0x59f6e7+_0x2e5315(0x165)+_0x184a9b+_0x2e5315(0xfc),_0x2aedf2['onclick']=()=>selectRsDate(_0x5cef65,_0x2aedf2),_0x2aaf17['appendChild'](_0x2aedf2);}),selectRsDate(_0x4c6b4f[0x0],_0x2aaf17[_0x136eba(0x19d)]);}function selectRsDate(_0x25e0e2,_0x110848){const _0x31a301=a3_0xc4439d;selectedRsDate=_0x25e0e2,document[_0x31a301(0x104)]('.rs-date-chip')[_0x31a301(0x118)](_0x30908c=>_0x30908c['classList'][_0x31a301(0x114)](_0x31a301(0x1a3)));if(_0x110848)_0x110848[_0x31a301(0x1de)]['add'](_0x31a301(0x1a3));const _0x7cf0b2=document['getElementById'](_0x31a301(0x1c6));_0x7cf0b2[_0x31a301(0x1ae)]='';const _0x58e705=availableSlotsCache[_0x25e0e2]||[];if(_0x58e705[_0x31a301(0x18e)]===0x0){_0x7cf0b2[_0x31a301(0x1ae)]=_0x31a301(0x191);return;}_0x58e705['forEach'](_0x1c61a1=>{const _0x3484b6=_0x31a301,_0x672a33=document[_0x3484b6(0x1d3)](_0x3484b6(0x121));_0x672a33[_0x3484b6(0x1aa)]=_0x3484b6(0x18f),_0x672a33[_0x3484b6(0x18d)]=_0x1c61a1,_0x672a33[_0x3484b6(0x19a)]=()=>confirmReschedule(_0x1c61a1),_0x7cf0b2[_0x3484b6(0x139)](_0x672a33);});}async function confirmReschedule(_0x1c0bb0){const _0x1fd11b=a3_0xc4439d,_0x391485=new Date(selectedRsDate),_0x8c62f4=_0x391485[_0x1fd11b(0x187)](_0x1fd11b(0xf0),{'day':_0x1fd11b(0xef),'month':_0x1fd11b(0x1c9)}),_0x56cee8=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x1fd11b(0x1a6)+_0x8c62f4+_0x1fd11b(0x1d8)+_0x1c0bb0+'?',![]);if(!_0x56cee8)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x1fd11b(0x1df)]();const _0x4bcfe7=currentSession[_0x1fd11b(0xed)],_0x411672=currentSession['id'],[_0x20ea19,_0x5662fe]=currentSession[_0x1fd11b(0x1b4)]['split'](':')['map'](Number),[_0x33a973,_0x2d2942]=currentSession[_0x1fd11b(0x1bc)]['split'](':')[_0x1fd11b(0xec)](Number),_0x69486c=_0x33a973*0x3c+_0x2d2942-(_0x20ea19*0x3c+_0x5662fe),[_0x41ad4b,_0x1670d3]=_0x1c0bb0[_0x1fd11b(0x1eb)](':')[_0x1fd11b(0xec)](Number),_0x4d468e=_0x41ad4b*0x3c+_0x1670d3+_0x69486c,_0x3f4159=Math[_0x1fd11b(0x1d2)](_0x4d468e/0x3c),_0x2c6ae1=_0x4d468e%0x3c,_0x5bded5=String(_0x3f4159)[_0x1fd11b(0x15b)](0x2,'0')+':'+String(_0x2c6ae1)[_0x1fd11b(0x15b)](0x2,'0'),_0x2bdcc6=sessions['findIndex'](_0x57b8da=>_0x57b8da['id']===_0x411672);_0x2bdcc6!==-0x1&&(sessions[_0x2bdcc6]['dateStr']=selectedRsDate,sessions[_0x2bdcc6][_0x1fd11b(0x1b4)]=_0x1c0bb0,sessions[_0x2bdcc6][_0x1fd11b(0x1bc)]=_0x5bded5,reRenderBlocks());try{const _0x157729=window[_0x1fd11b(0x17a)]?.[_0x1fd11b(0x1a7)],_0x3320b0=await fetch(API_URL,{'method':_0x1fd11b(0x183),'body':JSON['stringify']({'action':'reschedule','init_data':_0x157729?.[_0x1fd11b(0x160)]||'','oldSessionId':_0x411672,'oldDate':_0x4bcfe7,'newDate':selectedRsDate,'newTime':_0x1c0bb0,'coachId':currentSession[_0x1fd11b(0x129)]})}),_0x587db5=await _0x3320b0[_0x1fd11b(0x140)]();!_0x587db5['ok']?(showToast(_0x1fd11b(0x10c)),DataManager[_0x1fd11b(0x168)]()):(showToast(_0x1fd11b(0xff)),DataManager[_0x1fd11b(0x170)]());}catch(_0x356c99){showToast(_0x1fd11b(0x185));}}document[a3_0xc4439d(0x1a5)](a3_0xc4439d(0x147),init);