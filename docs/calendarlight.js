const a3_0x5b204c=a3_0x147d;(function(_0x4f9f2a,_0x44a542){const _0x35ab5f=a3_0x147d,_0x35c724=_0x4f9f2a();while(!![]){try{const _0x45376a=parseInt(_0x35ab5f(0x28c))/0x1+parseInt(_0x35ab5f(0x241))/0x2*(parseInt(_0x35ab5f(0x221))/0x3)+-parseInt(_0x35ab5f(0x283))/0x4*(-parseInt(_0x35ab5f(0x279))/0x5)+-parseInt(_0x35ab5f(0x220))/0x6+-parseInt(_0x35ab5f(0x1f6))/0x7+-parseInt(_0x35ab5f(0x268))/0x8*(parseInt(_0x35ab5f(0x230))/0x9)+-parseInt(_0x35ab5f(0x226))/0xa;if(_0x45376a===_0x44a542)break;else _0x35c724['push'](_0x35c724['shift']());}catch(_0x371659){_0x35c724['push'](_0x35c724['shift']());}}}(a3_0x1aea,0xaeac9));const APP_VERSION=a3_0x5b204c(0x295),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x5b204c(0x21c),KEY_SETTINGS=a3_0x5b204c(0x250),KEY_CLIENTS=a3_0x5b204c(0x24b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5b204c(0x296),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x833ec6=a3_0x5b204c,_0x2e25e2=(function(){let _0x503ad7=!![];return function(_0xb2a952,_0x58ddf2){const _0x1a9f78=_0x503ad7?function(){const _0x13a772=a3_0x147d;if(_0x58ddf2){const _0x1c66a0=_0x58ddf2[_0x13a772(0x29f)](_0xb2a952,arguments);return _0x58ddf2=null,_0x1c66a0;}}:function(){};return _0x503ad7=![],_0x1a9f78;};}()),_0x3b08b3=_0x2e25e2(this,function(){const _0x19f0f3=a3_0x147d;return _0x3b08b3[_0x19f0f3(0x28b)]()[_0x19f0f3(0x286)](_0x19f0f3(0x22f))[_0x19f0f3(0x28b)]()[_0x19f0f3(0x257)](_0x3b08b3)[_0x19f0f3(0x286)](_0x19f0f3(0x22f));});_0x3b08b3();try{const _0xd770b8=window[_0x833ec6(0x209)]?.['WebApp'];if(!_0xd770b8)return;_0xd770b8[_0x833ec6(0x2dc)](),_0xd770b8[_0x833ec6(0x2dd)]();try{_0xd770b8[_0x833ec6(0x2ae)](_0x833ec6(0x2ab)),_0xd770b8['setBackgroundColor']&&_0xd770b8[_0x833ec6(0x266)](_0x833ec6(0x2ab));}catch(_0x3dee46){console[_0x833ec6(0x27f)]('Error\x20setting\x20color:',_0x3dee46);}try{_0xd770b8[_0x833ec6(0x22a)]&&(_0xd770b8[_0x833ec6(0x22a)][_0x833ec6(0x211)](),_0xd770b8[_0x833ec6(0x22a)][_0x833ec6(0x23f)](),_0xd770b8[_0x833ec6(0x22a)][_0x833ec6(0x26c)](function(){const _0xdeb903=_0x833ec6;window[_0xdeb903(0x2ee)][_0xdeb903(0x2c1)]=_0xdeb903(0x2e6);}));}catch(_0x1e4823){console['log'](_0x833ec6(0x252),_0x1e4823);}try{if(_0xd770b8['disableVerticalSwipes'])_0xd770b8[_0x833ec6(0x232)]();}catch(_0x4019ee){}}catch(_0x511a5e){console[_0x833ec6(0x2eb)](_0x833ec6(0x2e0),_0x511a5e);}}());function isAdmin(){const _0x1f407b=a3_0x5b204c;try{const _0x569cee=Number(window[_0x1f407b(0x209)]?.[_0x1f407b(0x242)]?.[_0x1f407b(0x29e)]?.[_0x1f407b(0x246)]?.['id']);return _0x569cee===0xbaf7174;}catch(_0x121ca4){return![];}}const DataManager={'saveLocally'(){const _0x811d82=a3_0x5b204c;try{localStorage[_0x811d82(0x297)](KEY_SESSIONS,JSON[_0x811d82(0x2d4)](sessions)),localStorage[_0x811d82(0x297)](KEY_CLIENTS,JSON[_0x811d82(0x2d4)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4212ab){}},'loadLocal'(){const _0x3c5c0d=a3_0x5b204c;try{const _0x4c86d2=localStorage[_0x3c5c0d(0x2b8)](KEY_SESSIONS);if(_0x4c86d2)sessions=JSON['parse'](_0x4c86d2);const _0x58de4d=localStorage[_0x3c5c0d(0x2b8)](KEY_CLIENTS);if(_0x58de4d)clients=JSON[_0x3c5c0d(0x293)](_0x58de4d);const _0x2a7139=localStorage['getItem'](KEY_SETTINGS);if(_0x2a7139){const _0x4e4b1e=JSON[_0x3c5c0d(0x293)](_0x2a7139);if(_0x4e4b1e[_0x3c5c0d(0x29d)])availabilityPattern=_0x4e4b1e['pattern'];if(_0x4e4b1e[_0x3c5c0d(0x25b)])specialRanges=_0x4e4b1e[_0x3c5c0d(0x25b)];if(_0x4e4b1e['exceptions'])dateExceptions=_0x4e4b1e[_0x3c5c0d(0x1fa)];}}catch(_0x1a4be2){}},async 'syncLoad'(){const _0x25fa41=a3_0x5b204c,_0x539db4=new Date(),_0x55d00d=_0x539db4[_0x25fa41(0x2d2)]()+'-'+String(_0x539db4['getMonth']()+0x1)[_0x25fa41(0x2ba)](0x2,'0'),_0x56b2b7=new Date(_0x539db4);_0x56b2b7['setMonth'](_0x539db4[_0x25fa41(0x235)]()+0x1);const _0x4c61e9=_0x56b2b7[_0x25fa41(0x2d2)]()+'-'+String(_0x56b2b7[_0x25fa41(0x235)]()+0x1)[_0x25fa41(0x2ba)](0x2,'0'),_0x52c54e=Date[_0x25fa41(0x213)]();try{const _0x47902e=window['Telegram']?.[_0x25fa41(0x242)],_0x2f79b6=_0x47902e?.[_0x25fa41(0x247)]||'',[_0x2b41d6,_0x56333d]=await Promise[_0x25fa41(0x2e8)]([fetch(API_URL,{'method':_0x25fa41(0x2bc),'body':JSON['stringify']({'action':_0x25fa41(0x2ea),'init_data':_0x2f79b6,'month_str':_0x55d00d})})[_0x25fa41(0x2aa)](_0x508caa=>_0x508caa['json']()),fetch(API_URL,{'method':_0x25fa41(0x2bc),'body':JSON[_0x25fa41(0x2d4)]({'action':_0x25fa41(0x2ea),'init_data':_0x2f79b6,'month_str':_0x4c61e9})})[_0x25fa41(0x2aa)](_0x194acc=>_0x194acc[_0x25fa41(0x254)]())]);if(lastUserActionTime>_0x52c54e){console[_0x25fa41(0x27f)](_0x25fa41(0x2e3));return;}if(_0x2b41d6['ok'])this[_0x25fa41(0x202)](_0x2b41d6[_0x25fa41(0x2b4)],_0x55d00d);if(_0x56333d['ok'])this[_0x25fa41(0x202)](_0x56333d[_0x25fa41(0x2b4)],_0x4c61e9);this[_0x25fa41(0x2e7)]();}catch(_0x2591e1){}},'applyData'(_0x198570,_0x514a98){const _0x74cf62=a3_0x5b204c;if(!_0x198570)return;if(_0x198570[_0x74cf62(0x2b5)]){if(_0x198570[_0x74cf62(0x2b5)][_0x74cf62(0x29d)])availabilityPattern=_0x198570[_0x74cf62(0x2b5)][_0x74cf62(0x29d)];if(_0x198570[_0x74cf62(0x2b5)]['ranges'])specialRanges=_0x198570[_0x74cf62(0x2b5)][_0x74cf62(0x25b)];if(_0x198570[_0x74cf62(0x2b5)][_0x74cf62(0x1fa)])dateExceptions=_0x198570[_0x74cf62(0x2b5)]['exceptions'];}if(_0x198570[_0x74cf62(0x217)]&&Array[_0x74cf62(0x240)](_0x198570[_0x74cf62(0x217)]))clients=_0x198570['clients'];_0x198570[_0x74cf62(0x2c6)]&&(coachProfiles={...coachProfiles,..._0x198570[_0x74cf62(0x2c6)]}),_0x198570[_0x74cf62(0x299)]&&(sessions=sessions['filter'](_0x23caa4=>!_0x23caa4['dateStr']['startsWith'](_0x514a98)),Object['keys'](_0x198570[_0x74cf62(0x299)])['forEach'](_0x3756ad=>{const _0x5be9b0=_0x74cf62,_0x29f9cd=_0x198570[_0x5be9b0(0x299)][_0x3756ad];_0x29f9cd['forEach'](_0x4d1698=>{const _0x3e6647=_0x5be9b0;sessions[_0x3e6647(0x208)]({'id':_0x4d1698['i'],'clientId':_0x4d1698['c'],'coachId':_0x4d1698[_0x3e6647(0x2bd)],'dateStr':_0x514a98+'-'+_0x3756ad[_0x3e6647(0x2ba)](0x2,'0'),'start':_0x4d1698['s'],'end':_0x4d1698['e'],'note':_0x4d1698['n']||'','status':_0x4d1698['st']||_0x3e6647(0x23c),'seriesId':_0x4d1698[_0x3e6647(0x22b)]});});})),reRenderBlocks();}};function init(){const _0x4e793c=a3_0x5b204c;DataManager[_0x4e793c(0x284)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4e793c(0x25f)]('matrixViewport')[_0x4e793c(0x20a)](_0x4e793c(0x255),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4e793c(0x24d)]();}function renderTimeColumn(){const _0x2d7a2f=a3_0x5b204c,_0x5724f5=document[_0x2d7a2f(0x25f)](_0x2d7a2f(0x1ff)),_0x24146e=document[_0x2d7a2f(0x25f)](_0x2d7a2f(0x203));_0x5724f5['innerHTML']='',_0x5724f5[_0x2d7a2f(0x271)](_0x24146e);for(let _0xb5af61=0x0;_0xb5af61<0x18;_0xb5af61++){const _0x50ba0c=document['createElement'](_0x2d7a2f(0x201));_0x50ba0c[_0x2d7a2f(0x2c8)]=_0x2d7a2f(0x2b1);if(_0xb5af61>0x0)_0x50ba0c[_0x2d7a2f(0x261)]=_0x2d7a2f(0x23e)+String(_0xb5af61)[_0x2d7a2f(0x2ba)](0x2,'0')+_0x2d7a2f(0x2d9);_0x5724f5[_0x2d7a2f(0x271)](_0x50ba0c);}}function renderDayRange(_0x30a4a5,_0x34e0cb){const _0x1620c4=a3_0x5b204c,_0x4e0db0=document[_0x1620c4(0x25f)]('daysHeaderTrack'),_0x36b555=document['getElementById'](_0x1620c4(0x2db)),_0x3f99d1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46059d=new Date();_0x46059d[_0x1620c4(0x259)](0x0,0x0,0x0,0x0);const _0x116476=getLocalDateStr(new Date());for(let _0x135951=_0x30a4a5;_0x135951<=_0x34e0cb;_0x135951++){const _0x2c0cb3=new Date(_0x46059d);_0x2c0cb3[_0x1620c4(0x2e2)](_0x2c0cb3[_0x1620c4(0x229)]()+_0x135951);const _0x46cd80=getLocalDateStr(_0x2c0cb3);let _0x274d91=_0x2c0cb3[_0x1620c4(0x215)]()-0x1;if(_0x274d91===-0x1)_0x274d91=0x6;const _0x4ed3fb=_0x46cd80===_0x116476,_0x50e37f=document['createElement'](_0x1620c4(0x201));_0x50e37f['className']=_0x1620c4(0x287)+(_0x4ed3fb?_0x1620c4(0x2c5):''),_0x50e37f[_0x1620c4(0x23d)](_0x1620c4(0x272),_0x46cd80),_0x50e37f[_0x1620c4(0x261)]=_0x1620c4(0x224)+_0x3f99d1[_0x274d91]+_0x1620c4(0x2a4)+_0x2c0cb3[_0x1620c4(0x229)]()+_0x1620c4(0x2ac),_0x4e0db0[_0x1620c4(0x271)](_0x50e37f);const _0x16485f=document[_0x1620c4(0x219)]('div');_0x16485f[_0x1620c4(0x2c8)]=_0x1620c4(0x205)+(_0x4ed3fb?_0x1620c4(0x2c5):''),_0x16485f[_0x1620c4(0x23d)](_0x1620c4(0x272),_0x46cd80),_0x16485f['setAttribute'](_0x1620c4(0x25e),_0x274d91),_0x36b555[_0x1620c4(0x271)](_0x16485f);}}function reRenderBlocks(){const _0x2ec018=a3_0x5b204c;document['querySelectorAll'](_0x2ec018(0x2a0))['forEach'](_0x557147=>{const _0x53c3c9=_0x2ec018;_0x557147['querySelectorAll'](_0x53c3c9(0x29b))[_0x53c3c9(0x244)](_0x124f58=>_0x124f58[_0x53c3c9(0x298)]());const _0x185ea9=_0x557147['getAttribute'](_0x53c3c9(0x272)),_0x5f4c56=parseInt(_0x557147[_0x53c3c9(0x2a2)](_0x53c3c9(0x25e))),_0x27c37b=Math[_0x53c3c9(0x2be)](_0x557147[_0x53c3c9(0x251)]);(availabilityPattern[_0x5f4c56]||[])[_0x53c3c9(0x244)](_0x356400=>{const _0x43b366=_0x53c3c9,_0x2ebbca=document[_0x43b366(0x219)](_0x43b366(0x201));_0x2ebbca[_0x43b366(0x2c8)]='blocked-slot\x20stripe-bg',_0x2ebbca[_0x43b366(0x288)][_0x43b366(0x22c)]=_0x356400*GRID_H+'px',_0x2ebbca[_0x43b366(0x288)][_0x43b366(0x243)]='-'+_0x27c37b+_0x43b366(0x2d8)+_0x356400*GRID_H+'px',_0x557147['appendChild'](_0x2ebbca);});if(specialRanges['length']>0x0){const _0x109d7a=new Date(_0x185ea9+_0x53c3c9(0x2a1))['getTime'](),_0x957cf8=new Date(_0x185ea9+_0x53c3c9(0x265))[_0x53c3c9(0x277)]();specialRanges['forEach'](_0x3263c1=>{const _0x150226=_0x53c3c9,_0x1746fa=new Date(_0x3263c1['start'])[_0x150226(0x277)](),_0x39242f=new Date(_0x3263c1[_0x150226(0x2af)])[_0x150226(0x277)](),_0x32a5ee=Math[_0x150226(0x239)](_0x109d7a,_0x1746fa),_0x371588=Math['min'](_0x957cf8,_0x39242f);if(_0x32a5ee<_0x371588){const _0x395c99=(_0x32a5ee-_0x109d7a)/0x36ee80*GRID_H,_0x4700ff=(_0x371588-_0x32a5ee)/0x36ee80*GRID_H,_0xf2d695=document[_0x150226(0x219)](_0x150226(0x201));_0x4700ff>=23.5*GRID_H?(_0xf2d695[_0x150226(0x2c8)]=_0x150226(0x270),_0xf2d695[_0x150226(0x288)]['backgroundPosition']='-'+_0x27c37b+'px\x200px'):(_0xf2d695[_0x150226(0x2c8)]=_0x150226(0x28a),_0xf2d695['style']['top']=_0x395c99+'px',_0xf2d695['style']['height']=_0x4700ff+'px',_0xf2d695[_0x150226(0x288)][_0x150226(0x243)]='-'+_0x27c37b+_0x150226(0x2d8)+_0x395c99+'px'),_0x557147[_0x150226(0x271)](_0xf2d695);}});}renderEventsForColumn(_0x557147,_0x185ea9);});}function renderEventsForColumn(_0x4b8b96,_0x1f5cef){const _0x1f26d3=a3_0x5b204c,_0x38b042=sessions[_0x1f26d3(0x2de)](_0x5fef32=>_0x5fef32[_0x1f26d3(0x2cf)]===_0x1f5cef),_0x2d0e6d=_0x38b042[_0x1f26d3(0x2d5)](_0x539a1e=>{const _0x258989=_0x1f26d3,[_0x72d4b3,_0x20e465]=_0x539a1e[_0x258989(0x237)][_0x258989(0x24a)](':')[_0x258989(0x2d5)](Number),[_0x45f57c,_0x24826d]=_0x539a1e[_0x258989(0x2af)]['split'](':')[_0x258989(0x2d5)](Number);return{'data':_0x539a1e,'start':_0x72d4b3*0x3c+_0x20e465,'end':_0x45f57c*0x3c+_0x24826d,'colIndex':0x0};});_0x2d0e6d[_0x1f26d3(0x28f)]((_0x4918c2,_0x27b083)=>_0x4918c2[_0x1f26d3(0x237)]-_0x27b083['start']||_0x27b083[_0x1f26d3(0x2af)]-_0x27b083[_0x1f26d3(0x237)]-(_0x4918c2['end']-_0x4918c2[_0x1f26d3(0x237)]));const _0x1a8754=[];_0x2d0e6d[_0x1f26d3(0x244)](_0x1bcc7b=>{const _0x33d470=_0x1f26d3;let _0x5d0fca=![];for(let _0x5657c9=0x0;_0x5657c9<_0x1a8754[_0x33d470(0x210)];_0x5657c9++){const _0x578325=_0x1a8754[_0x5657c9];if(_0x1bcc7b[_0x33d470(0x237)]>=_0x578325[_0x578325[_0x33d470(0x210)]-0x1][_0x33d470(0x2af)]){_0x578325[_0x33d470(0x208)](_0x1bcc7b),_0x1bcc7b[_0x33d470(0x20f)]=_0x5657c9,_0x5d0fca=!![];break;}}!_0x5d0fca&&(_0x1a8754[_0x33d470(0x208)]([_0x1bcc7b]),_0x1bcc7b[_0x33d470(0x20f)]=_0x1a8754[_0x33d470(0x210)]-0x1);}),_0x2d0e6d[_0x1f26d3(0x244)](_0x1c57ee=>{const _0x4c1964=_0x1f26d3;let _0x37cb66=0x0;_0x2d0e6d[_0x4c1964(0x244)](_0x2c3b59=>{const _0x2a6538=_0x4c1964;if(Math['max'](_0x1c57ee['start'],_0x2c3b59['start'])<Math[_0x2a6538(0x1f8)](_0x1c57ee['end'],_0x2c3b59[_0x2a6538(0x2af)])&&_0x2c3b59[_0x2a6538(0x20f)]>_0x37cb66)_0x37cb66=_0x2c3b59[_0x2a6538(0x20f)];});const _0x33f579=_0x37cb66+0x1,_0x29d82b=0x64/_0x33f579,_0x5763eb=_0x1c57ee[_0x4c1964(0x20f)]*_0x29d82b,_0x4f10d7=document[_0x4c1964(0x219)](_0x4c1964(0x201)),_0xa2a01d=_0x1c57ee['data'];let _0x47fe2d='#0a84ff';if(clients&&clients['length']>0x0){const _0x1bad55=clients['find'](_0xf5f073=>String(_0xf5f073['id'])===String(_0xa2a01d['clientId']));if(_0x1bad55&&_0x1bad55[_0x4c1964(0x25a)])_0x47fe2d=_0x1bad55[_0x4c1964(0x25a)];}const _0x509523=_0xa2a01d[_0x4c1964(0x1fb)]===_0x4c1964(0x256),_0xd57f34=_0x509523?0x1:0.45;_0x4f10d7['className']=_0x4c1964(0x249)+(_0x509523?_0x4c1964(0x28d):''),_0x4f10d7[_0x4c1964(0x288)][_0x4c1964(0x2bb)]=hexToRgba(_0x47fe2d,_0xd57f34),_0x4f10d7[_0x4c1964(0x288)][_0x4c1964(0x1fc)]=_0x47fe2d;const _0xe59a92=_0x1c57ee[_0x4c1964(0x237)]/0x3c*GRID_H,_0x4e9f07=(_0x1c57ee[_0x4c1964(0x2af)]-_0x1c57ee[_0x4c1964(0x237)])/0x3c*GRID_H;_0x4f10d7[_0x4c1964(0x288)]['top']=_0xe59a92+'px',_0x4f10d7[_0x4c1964(0x288)][_0x4c1964(0x24e)]=Math[_0x4c1964(0x239)](_0x4e9f07,0x14)+'px',_0x4f10d7['style'][_0x4c1964(0x214)]='calc('+_0x29d82b+'%\x20-\x204px)',_0x4f10d7['style'][_0x4c1964(0x275)]=_0x4c1964(0x24f)+_0x5763eb+'%\x20+\x202px)',_0x4f10d7['style'][_0x4c1964(0x2d3)]=0xa+_0x1c57ee[_0x4c1964(0x20f)];if(_0x29d82b<0x55)_0x4f10d7[_0x4c1964(0x1f5)][_0x4c1964(0x2c4)](_0x4c1964(0x1f9));let _0xf94c8='';if(_0xa2a01d['seriesId'])_0xf94c8+=_0x4c1964(0x234);if(_0x509523)_0xf94c8+=_0x4c1964(0x2b9);_0x4f10d7[_0x4c1964(0x261)]=_0x4c1964(0x269)+_0xa2a01d[_0x4c1964(0x237)]+_0x4c1964(0x258)+_0xa2a01d[_0x4c1964(0x2af)]+_0x4c1964(0x29a)+_0xf94c8+_0x4c1964(0x21d),_0x4f10d7[_0x4c1964(0x225)]=_0x406110=>{_0x406110['stopPropagation'](),openDetails(_0xa2a01d);},_0x4b8b96[_0x4c1964(0x271)](_0x4f10d7);});}function openAnalytics(){const _0x51feaa=a3_0x5b204c,_0x291f11=document[_0x51feaa(0x2e4)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x291f11),openSheet(_0x51feaa(0x223));}function setAnalyticsPeriod(_0x5c4c46,_0x4dd74a){const _0x44910a=a3_0x5b204c;currentAnPeriod=_0x5c4c46,document[_0x44910a(0x2cc)](_0x44910a(0x2ad))[_0x44910a(0x244)](_0x3cc172=>_0x3cc172['classList'][_0x44910a(0x298)](_0x44910a(0x2d1)));if(_0x4dd74a)_0x4dd74a['classList']['add'](_0x44910a(0x2d1));const _0x335741=document['getElementById']('anCustomDates');_0x335741['style']['display']=_0x5c4c46==='custom'?'flex':_0x44910a(0x294);const _0x1285c8=new Date();let _0xc8ebc3=new Date(),_0x44c4ac=new Date();if(_0x5c4c46===_0x44910a(0x296))_0xc8ebc3=getStartOfWeek(_0x1285c8),_0x44c4ac=new Date(_0xc8ebc3),_0x44c4ac[_0x44910a(0x2e2)](_0x44c4ac[_0x44910a(0x229)]()+0x6);else{if(_0x5c4c46==='month')_0xc8ebc3=new Date(_0x1285c8[_0x44910a(0x2d2)](),_0x1285c8[_0x44910a(0x235)](),0x1),_0x44c4ac=new Date(_0x1285c8[_0x44910a(0x2d2)](),_0x1285c8[_0x44910a(0x235)]()+0x1,0x0);else{!document['getElementById'](_0x44910a(0x2df))[_0x44910a(0x2a5)]&&(document['getElementById'](_0x44910a(0x2df))[_0x44910a(0x2a5)]=getLocalDateStr(_0x1285c8),document[_0x44910a(0x25f)](_0x44910a(0x2a8))[_0x44910a(0x2a5)]=getLocalDateStr(_0x1285c8));refreshAnalytics();return;}}document[_0x44910a(0x25f)]('anStart')[_0x44910a(0x2a5)]=getLocalDateStr(_0xc8ebc3),document[_0x44910a(0x25f)](_0x44910a(0x2a8))['value']=getLocalDateStr(_0x44c4ac),refreshAnalytics();}function refreshAnalytics(){const _0x1d6ff0=a3_0x5b204c,_0x37467d=document[_0x1d6ff0(0x25f)](_0x1d6ff0(0x2df))['value'],_0x37b3cc=document[_0x1d6ff0(0x25f)](_0x1d6ff0(0x2a8))[_0x1d6ff0(0x2a5)];if(!_0x37467d||!_0x37b3cc)return;const _0x1e28b0=sessions[_0x1d6ff0(0x2de)](_0x26bc36=>_0x26bc36[_0x1d6ff0(0x2cf)]>=_0x37467d&&_0x26bc36[_0x1d6ff0(0x2cf)]<=_0x37b3cc&&_0x26bc36[_0x1d6ff0(0x1fb)]!==_0x1d6ff0(0x264)),_0x169ac5=_0x1e28b0[_0x1d6ff0(0x210)],_0x2b1a59=_0x1e28b0[_0x1d6ff0(0x2de)](_0x152e77=>_0x152e77[_0x1d6ff0(0x1fb)]==='completed')[_0x1d6ff0(0x210)],_0x43cd43=_0x169ac5>0x0?Math['round'](_0x2b1a59/_0x169ac5*0x64):0x0;document[_0x1d6ff0(0x25f)](_0x1d6ff0(0x2e1))[_0x1d6ff0(0x2bf)]=_0x43cd43+'%',document['getElementById'](_0x1d6ff0(0x2c7))[_0x1d6ff0(0x2bf)]=_0x2b1a59+_0x1d6ff0(0x263)+_0x169ac5+_0x1d6ff0(0x262);const _0x4ff617=document['getElementById']('anDonutCircle'),_0x573fce=0x2*Math['PI']*0x23,_0x55c91f=_0x573fce-_0x43cd43/0x64*_0x573fce;_0x4ff617['style'][_0x1d6ff0(0x218)]=_0x55c91f;const _0x506acf={};_0x1e28b0[_0x1d6ff0(0x244)](_0x5442e9=>{const _0x35c789=_0x1d6ff0,_0x5a4976=_0x5442e9[_0x35c789(0x2cd)]||_0x35c789(0x273);if(!_0x506acf[_0x5a4976]){const _0x40091d='#'+_0x5a4976[_0x35c789(0x28b)]()['substr'](0x0,0x6);_0x506acf[_0x5a4976]={'total':0x0,'done':0x0,'color':_0x40091d};}_0x506acf[_0x5a4976][_0x35c789(0x23b)]++;if(_0x5442e9['status']===_0x35c789(0x256))_0x506acf[_0x5a4976][_0x35c789(0x2a6)]++;});const _0x4362c5=document[_0x1d6ff0(0x25f)](_0x1d6ff0(0x204));_0x4362c5[_0x1d6ff0(0x261)]='';const _0x318aa9=Object[_0x1d6ff0(0x1fe)](_0x506acf)[_0x1d6ff0(0x28f)]((_0xf2ee12,_0x20633a)=>_0x20633a[0x1][_0x1d6ff0(0x23b)]-_0xf2ee12[0x1][_0x1d6ff0(0x23b)]);if(_0x318aa9[_0x1d6ff0(0x210)]===0x0){_0x4362c5[_0x1d6ff0(0x261)]=_0x1d6ff0(0x290);return;}_0x318aa9['forEach'](([_0x2b19e8,_0x5eadfb])=>{const _0x5355d8=_0x1d6ff0,_0x47a217=Math[_0x5355d8(0x2be)](_0x5eadfb[_0x5355d8(0x2a6)]/_0x5eadfb[_0x5355d8(0x23b)]*0x64),_0x78e137=document['createElement']('div');_0x78e137[_0x5355d8(0x2c8)]=_0x5355d8(0x2b6),_0x78e137[_0x5355d8(0x288)][_0x5355d8(0x1fc)]=_0x5eadfb[_0x5355d8(0x25a)],_0x78e137['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x2b19e8[_0x5355d8(0x260)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5eadfb[_0x5355d8(0x2a6)]+'</span>\x20/\x20'+_0x5eadfb[_0x5355d8(0x23b)]+_0x5355d8(0x2ca)+_0x47a217+_0x5355d8(0x212),_0x4362c5[_0x5355d8(0x271)](_0x78e137);});}function openDetails(_0x4eac50){const _0x3d7ca2=a3_0x5b204c;currentSession=_0x4eac50;const _0x541dc2=new Date(_0x4eac50[_0x3d7ca2(0x2cf)]),_0x3a0ddd=_0x541dc2[_0x3d7ca2(0x2b2)]('ru-RU',{'weekday':_0x3d7ca2(0x26f),'day':'numeric','month':_0x3d7ca2(0x26f)});document[_0x3d7ca2(0x25f)](_0x3d7ca2(0x292))['textContent']=_0x3a0ddd['charAt'](0x0)[_0x3d7ca2(0x27e)]()+_0x3a0ddd[_0x3d7ca2(0x24c)](0x1),document[_0x3d7ca2(0x25f)]('detTime')['textContent']=_0x4eac50[_0x3d7ca2(0x237)]+_0x3d7ca2(0x258)+_0x4eac50['end'],document[_0x3d7ca2(0x25f)]('detNote')[_0x3d7ca2(0x2bf)]=_0x4eac50['note']||_0x3d7ca2(0x27a);const _0x1e4a5a=document[_0x3d7ca2(0x25f)]('detStatus'),_0x1f0bb2=document[_0x3d7ca2(0x25f)](_0x3d7ca2(0x281)),_0x4178bc=_0x1f0bb2[_0x3d7ca2(0x2e4)](_0x3d7ca2(0x27c)),_0x1cc62e=_0x1f0bb2[_0x3d7ca2(0x2e4)]('.btn-reschedule'),_0x319548=document[_0x3d7ca2(0x25f)](_0x3d7ca2(0x20c));if(_0x4eac50[_0x3d7ca2(0x1fb)]===_0x3d7ca2(0x256))_0x1e4a5a['textContent']=_0x3d7ca2(0x2c3),_0x1e4a5a[_0x3d7ca2(0x288)][_0x3d7ca2(0x25a)]=_0x3d7ca2(0x2b7),_0x1f0bb2[_0x3d7ca2(0x288)][_0x3d7ca2(0x2e9)]='none';else{_0x1e4a5a[_0x3d7ca2(0x2bf)]=_0x3d7ca2(0x27d),_0x1e4a5a[_0x3d7ca2(0x288)][_0x3d7ca2(0x25a)]=_0x3d7ca2(0x2b0),_0x1f0bb2['style'][_0x3d7ca2(0x2e9)]=_0x3d7ca2(0x27b);const _0x3b6f85=new Date(_0x4eac50[_0x3d7ca2(0x2cf)]+'T'+_0x4eac50[_0x3d7ca2(0x237)]),_0xc47b46=new Date(),_0x228f62=(_0x3b6f85-_0xc47b46)/(0x3e8*0x3c*0x3c),_0x59c1a5=coachProfiles[_0x4eac50[_0x3d7ca2(0x2cd)]]&&coachProfiles[_0x4eac50['coachId']]['cancel_window']?parseInt(coachProfiles[_0x4eac50[_0x3d7ca2(0x2cd)]][_0x3d7ca2(0x276)]):0x18;if(_0x59c1a5===0x0||_0x228f62>=_0x59c1a5)_0x4178bc[_0x3d7ca2(0x288)][_0x3d7ca2(0x2e9)]=_0x3d7ca2(0x27b),_0x1cc62e[_0x3d7ca2(0x288)]['display']=_0x3d7ca2(0x27b),_0x319548[_0x3d7ca2(0x288)][_0x3d7ca2(0x2e9)]=_0x3d7ca2(0x294);else{_0x4178bc['style'][_0x3d7ca2(0x2e9)]=_0x3d7ca2(0x294),_0x1cc62e[_0x3d7ca2(0x288)][_0x3d7ca2(0x2e9)]=_0x3d7ca2(0x294),_0x319548[_0x3d7ca2(0x288)]['display']='block';let _0x4b0d60=_0x59c1a5===0x0?_0x3d7ca2(0x2da):_0x3d7ca2(0x2e5)+_0x59c1a5+'\x20—á.';_0x319548[_0x3d7ca2(0x2bf)]=_0x3d7ca2(0x227)+_0x4b0d60+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x3d7ca2(0x1f3))[_0x3d7ca2(0x1f5)][_0x3d7ca2(0x2c4)](_0x3d7ca2(0x2d1)),document['getElementById'](_0x3d7ca2(0x1f4))[_0x3d7ca2(0x1f5)][_0x3d7ca2(0x2c4)](_0x3d7ca2(0x23a));}function closeAllSheets(){const _0x2ee052=a3_0x5b204c;document['getElementById'](_0x2ee052(0x1f3))[_0x2ee052(0x1f5)][_0x2ee052(0x298)](_0x2ee052(0x2d1)),document['querySelectorAll']('.sheet')['forEach'](_0x53a555=>_0x53a555[_0x2ee052(0x1f5)][_0x2ee052(0x298)](_0x2ee052(0x23a)));}function openSheet(_0x29ca91){const _0x20eacf=a3_0x5b204c;document[_0x20eacf(0x25f)](_0x20eacf(0x1f3))[_0x20eacf(0x1f5)][_0x20eacf(0x2c4)](_0x20eacf(0x2d1)),document['getElementById'](_0x29ca91)[_0x20eacf(0x1f5)][_0x20eacf(0x2c4)](_0x20eacf(0x23a));}function getLocalDateStr(_0xd03b45){const _0x4d36d3=a3_0x5b204c,_0x217458=_0xd03b45[_0x4d36d3(0x2d2)](),_0x247569=String(_0xd03b45['getMonth']()+0x1)[_0x4d36d3(0x2ba)](0x2,'0'),_0x18f8df=String(_0xd03b45['getDate']())[_0x4d36d3(0x2ba)](0x2,'0');return _0x217458+'-'+_0x247569+'-'+_0x18f8df;}function getStartOfWeek(_0x42dbf8){const _0x3004b5=a3_0x5b204c,_0xdeebe=new Date(_0x42dbf8),_0x264172=_0xdeebe[_0x3004b5(0x215)](),_0x3f0f29=_0xdeebe[_0x3004b5(0x229)]()-_0x264172+(_0x264172===0x0?-0x6:0x1);return _0xdeebe['setDate'](_0x3f0f29),_0xdeebe[_0x3004b5(0x259)](0x0,0x0,0x0,0x0),_0xdeebe;}function scrollToToday(){const _0x4e7d91=getLocalDateStr(new Date());setTimeout(()=>{const _0x3d9d1d=a3_0x147d,_0x120a25=document[_0x3d9d1d(0x2e4)](_0x3d9d1d(0x26d)+_0x4e7d91+'\x22]');if(_0x120a25){const _0xdd07bd=document[_0x3d9d1d(0x25f)](_0x3d9d1d(0x2d0)),_0x1f7efe=_0x120a25[_0x3d9d1d(0x251)]-_0xdd07bd[_0x3d9d1d(0x26b)]/0x2+_0x120a25[_0x3d9d1d(0x22e)]/0x2;_0xdd07bd[_0x3d9d1d(0x278)]({'left':_0x1f7efe,'behavior':_0x3d9d1d(0x236)}),_0xdd07bd[_0x3d9d1d(0x20d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2891ee=a3_0x5b204c,_0x514bfa=new Date(),_0x2b90f5=document[_0x2891ee(0x25f)](_0x2891ee(0x267)),_0x52f34b=document[_0x2891ee(0x25f)](_0x2891ee(0x203)),_0x561e01=(_0x514bfa[_0x2891ee(0x222)]()*0x3c+_0x514bfa['getMinutes']())/0x3c*GRID_H;_0x2b90f5['style']['top']=_0x561e01+'px',_0x2b90f5[_0x2891ee(0x288)][_0x2891ee(0x2e9)]=_0x2891ee(0x27b),_0x52f34b[_0x2891ee(0x288)][_0x2891ee(0x22c)]=_0x561e01+'px',_0x52f34b[_0x2891ee(0x288)][_0x2891ee(0x2e9)]=_0x2891ee(0x27b),_0x52f34b[_0x2891ee(0x2bf)]=String(_0x514bfa[_0x2891ee(0x222)]())[_0x2891ee(0x2ba)](0x2,'0')+':'+String(_0x514bfa[_0x2891ee(0x2c0)]())[_0x2891ee(0x2ba)](0x2,'0');}function onScroll(){const _0x36ad45=a3_0x5b204c,_0x47684f=document[_0x36ad45(0x25f)](_0x36ad45(0x2d0)),_0x5a7335=document[_0x36ad45(0x2cc)](_0x36ad45(0x21b));for(let _0x1421c2 of _0x5a7335)if(_0x1421c2[_0x36ad45(0x251)]>=_0x47684f['scrollLeft']){const _0x51e00e=new Date(_0x1421c2[_0x36ad45(0x2a2)](_0x36ad45(0x272)));document[_0x36ad45(0x25f)](_0x36ad45(0x2c9))[_0x36ad45(0x2bf)]=_0x51e00e['toLocaleString']('ru',{'month':_0x36ad45(0x26f)})[_0x36ad45(0x27e)]()+'\x20'+_0x51e00e[_0x36ad45(0x2d2)]();break;}}function a3_0x1aea(){const _0x5e5a84=['<span>','offClick','isArray','4TouuaR','WebApp','backgroundPosition','forEach','scrollWidth','user','initData','\x20–≤\x20','event-card','split','uc_client_list','slice','syncLoad','height','calc(','uc_client_settings','offsetLeft','Error\x20setting\x20back\x20button:','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','json','scroll','completed','constructor','\x20-\x20','setHours','color','ranges','visible','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','data-day-idx','getElementById','substr','innerHTML','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20–∏–∑\x20','cancelled','T23:59:59','setBackgroundColor','globalTimeLine','2003912ohLmRo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','</div><div\x20class=\x22rs-day-num\x22>','clientWidth','onClick','.day-col-header[data-date=\x22','rsSlotsGrid','long','day-off-overlay\x20stripe-bg','appendChild','data-date','Unknown','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','left','cancel_window','getTime','scrollTo','3620PZDxnd','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','block','.btn-cancel','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toUpperCase','log','–û—Ç–º–µ–Ω–µ–Ω–æ','cancelContainer','ccText','7312HrGGlu','loadLocal','DOMContentLoaded','search','day-col-header\x20','style','rsDatesTrack','blocked-range-part\x20stripe-bg','toString','771653MscxwS','\x20status-completed','rescheduleSheet','sort','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','detDate','parse','none','v9.5-CLIENT-ANALYTICS','week','setItem','remove','calendar','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','ccTitle','pattern','initDataUnsafe','apply','.day-column','T00:00:00','getAttribute','scrollLeft','</div><div\x20class=\x22dch-num\x22>','value','done','ccYesBtn','anEnd','insertBefore','then','#050505','</div>','.period-switch\x20.p-btn','setHeaderColor','end','var(--acc-blue)','time-label','toLocaleDateString','customConfirm','data','settings','client-stat-card','var(--acc-green)','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','padStart','backgroundColor','POST','cid','round','textContent','getMinutes','href','join','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','add','today','coach_profiles','anTotalStats','className','headerMonth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','client_cancel','querySelectorAll','coachId','daysHeaderTrack','dateStr','matrixViewport','active','getFullYear','zIndex','stringify','map','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','px\x20-',':00</span>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','gridColumns','ready','expand','filter','anStart','Critical\x20TMA\x20Error:','anPercent','setDate','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','querySelector','–∑–∞\x20','router.html','saveLocally','all','display','client_load','error','substring','reschedule','location','overlay','detailsSheet','classList','9127230ySdBKe','ru-RU','min','mini','exceptions','status','borderLeftColor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','entries','timeColumn','rs-time-btn','div','applyData','timeLineBadge','analyticsList','day-column\x20','rgba(','numeric','push','Telegram','addEventListener','firstChild','cancelHint','scrollTop','#0a84ff','colIndex','length','show','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','width','getDay','keys','clients','strokeDashoffset','createElement','rgba(10,\x20132,\x20255,\x20','.day-col-header','uc_client_sessions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','floor','18258lvMTtH','1593069fXEjfN','getHours','analyticsSheet','<div\x20class=\x22dch-day\x22>','onclick','8842840FWgXnm','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','getDate','BackButton','sid','top','fontWeight','offsetWidth','(((.+)+)+)+$','9KQaQYD','button','disableVerticalSwipes','#ff453a','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getMonth','auto','start','toast','max','open','total','planned','setAttribute'];a3_0x1aea=function(){return _0x5e5a84;};return a3_0x1aea();}function showToast(_0x39c96b){const _0x36b29e=a3_0x5b204c,_0x1243b3=document[_0x36b29e(0x25f)](_0x36b29e(0x238));_0x1243b3[_0x36b29e(0x2bf)]=_0x39c96b,_0x1243b3[_0x36b29e(0x1f5)][_0x36b29e(0x2c4)](_0x36b29e(0x211)),setTimeout(()=>_0x1243b3['classList'][_0x36b29e(0x298)](_0x36b29e(0x211)),0x7d0);}function handleInfiniteScroll(){const _0x588dae=a3_0x5b204c,_0xe12a21=document[_0x588dae(0x25f)]('matrixViewport'),_0x30921d=_0xe12a21[_0x588dae(0x2a3)],_0x39eb24=_0xe12a21[_0x588dae(0x245)],_0x185991=_0xe12a21[_0x588dae(0x26b)];if(_0x39eb24-(_0x30921d+_0x185991)<0x12c){const _0x528dce=endOffset;endOffset+=0xe,renderDayRange(_0x528dce+0x1,endOffset),reRenderBlocks();}if(_0x30921d<0x12c){const _0x56062f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x56062f-0x1),_0xe12a21[_0x588dae(0x2a3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3a3e21,_0x138d28){const _0xe3011d=a3_0x5b204c,_0x54d53=document[_0xe3011d(0x25f)](_0xe3011d(0x2ce)),_0xb4db8f=document[_0xe3011d(0x25f)](_0xe3011d(0x2db)),_0x30a1a9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45de47=new Date();_0x45de47[_0xe3011d(0x259)](0x0,0x0,0x0,0x0);const _0x327ed7=getLocalDateStr(new Date()),_0x2f7635=document['createDocumentFragment'](),_0x3021e8=document['createDocumentFragment']();for(let _0x3e2e7b=_0x3a3e21;_0x3e2e7b<=_0x138d28;_0x3e2e7b++){const _0x44d2f7=new Date(_0x45de47);_0x44d2f7[_0xe3011d(0x2e2)](_0x44d2f7[_0xe3011d(0x229)]()+_0x3e2e7b);const _0x34f202=getLocalDateStr(_0x44d2f7);let _0x3aa168=_0x44d2f7['getDay']()-0x1;if(_0x3aa168===-0x1)_0x3aa168=0x6;const _0x399c84=_0x34f202===_0x327ed7,_0x1f1922=document['createElement'](_0xe3011d(0x201));_0x1f1922['className']=_0xe3011d(0x287)+(_0x399c84?_0xe3011d(0x2c5):''),_0x1f1922[_0xe3011d(0x23d)]('data-date',_0x34f202),_0x1f1922[_0xe3011d(0x261)]=_0xe3011d(0x224)+_0x30a1a9[_0x3aa168]+_0xe3011d(0x2a4)+_0x44d2f7[_0xe3011d(0x229)]()+_0xe3011d(0x2ac),_0x2f7635[_0xe3011d(0x271)](_0x1f1922);const _0x59165a=document[_0xe3011d(0x219)](_0xe3011d(0x201));_0x59165a[_0xe3011d(0x2c8)]='day-column\x20'+(_0x399c84?_0xe3011d(0x2c5):''),_0x59165a['setAttribute'](_0xe3011d(0x272),_0x34f202),_0x59165a[_0xe3011d(0x23d)](_0xe3011d(0x25e),_0x3aa168),_0x3021e8['appendChild'](_0x59165a);}_0x54d53[_0xe3011d(0x2a9)](_0x2f7635,_0x54d53[_0xe3011d(0x20b)]),_0xb4db8f[_0xe3011d(0x2a9)](_0x3021e8,_0xb4db8f['querySelector']('.day-column'));}function hexToRgba(_0x5e7e84,_0x4039f3){const _0x35bd33=a3_0x5b204c;let _0x26e635;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x5e7e84))return _0x26e635=_0x5e7e84[_0x35bd33(0x2ec)](0x1)[_0x35bd33(0x24a)](''),_0x26e635['length']==0x3&&(_0x26e635=[_0x26e635[0x0],_0x26e635[0x0],_0x26e635[0x1],_0x26e635[0x1],_0x26e635[0x2],_0x26e635[0x2]]),_0x26e635='0x'+_0x26e635['join'](''),_0x35bd33(0x206)+[_0x26e635>>0x10&0xff,_0x26e635>>0x8&0xff,_0x26e635&0xff][_0x35bd33(0x2c2)](',')+','+_0x4039f3+')';return _0x35bd33(0x21a)+_0x4039f3+')';}let confirmResolver=null;function showCustomConfirm(_0x38a859,_0x5e2d07,_0x1ea449=!![]){const _0x2f50a0=a3_0x5b204c;document['getElementById'](_0x2f50a0(0x29c))[_0x2f50a0(0x2bf)]=_0x38a859,document[_0x2f50a0(0x25f)](_0x2f50a0(0x282))[_0x2f50a0(0x2bf)]=_0x5e2d07;const _0x3beb5c=document['getElementById'](_0x2f50a0(0x2a7));return _0x1ea449?(_0x3beb5c[_0x2f50a0(0x288)][_0x2f50a0(0x25a)]=_0x2f50a0(0x233),_0x3beb5c[_0x2f50a0(0x288)][_0x2f50a0(0x22d)]='600'):(_0x3beb5c[_0x2f50a0(0x288)][_0x2f50a0(0x25a)]=_0x2f50a0(0x20e),_0x3beb5c['style']['fontWeight']='600'),new Promise(_0x57e62a=>{const _0x4b4f71=_0x2f50a0;confirmResolver=_0x57e62a,document[_0x4b4f71(0x25f)](_0x4b4f71(0x2b3))[_0x4b4f71(0x1f5)]['add'](_0x4b4f71(0x25c));});}function resolveCustomConfirm(_0x5001b3){const _0xa05bce=a3_0x5b204c;document[_0xa05bce(0x25f)](_0xa05bce(0x2b3))['classList'][_0xa05bce(0x298)](_0xa05bce(0x25c));if(confirmResolver)confirmResolver(_0x5001b3);}async function tryCancelCurrentSession(){const _0x7e9953=a3_0x5b204c;if(!currentSession)return;const _0x554833=await showCustomConfirm(_0x7e9953(0x228),_0x7e9953(0x21e),!![]);if(!_0x554833)return;const _0x132e5b=currentSession;closeAllSheets(),sessions=sessions[_0x7e9953(0x2de)](_0x1264f6=>_0x1264f6['id']!==_0x132e5b['id']),reRenderBlocks(),showToast(_0x7e9953(0x280)),lastUserActionTime=Date[_0x7e9953(0x213)]();try{const _0x3ca1a8=window[_0x7e9953(0x209)]?.[_0x7e9953(0x242)],_0x1b297b=await fetch(API_URL,{'method':_0x7e9953(0x2bc),'body':JSON[_0x7e9953(0x2d4)]({'action':_0x7e9953(0x2cb),'init_data':_0x3ca1a8?.[_0x7e9953(0x247)]||'','coachId':_0x132e5b[_0x7e9953(0x2cd)],'dateStr':_0x132e5b[_0x7e9953(0x2cf)],'sessionId':_0x132e5b['id']})});if(_0x1b297b['ok'])DataManager['saveLocally']();}catch(_0x454171){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;function a3_0x147d(_0x4f5735,_0x46a004){_0x4f5735=_0x4f5735-0x1f3;const _0x56b39a=a3_0x1aea();let _0x3391e3=_0x56b39a[_0x4f5735];return _0x3391e3;}async function startRescheduleFlow(){const _0x17654e=a3_0x5b204c;if(!currentSession)return;document[_0x17654e(0x25f)](_0x17654e(0x1f4))[_0x17654e(0x1f5)][_0x17654e(0x298)]('open'),document[_0x17654e(0x25f)](_0x17654e(0x28e))[_0x17654e(0x1f5)][_0x17654e(0x2c4)](_0x17654e(0x23a));const _0x5d261f=document[_0x17654e(0x25f)](_0x17654e(0x289)),_0x4d22ce=document[_0x17654e(0x25f)](_0x17654e(0x26e));_0x5d261f['innerHTML']='',_0x4d22ce[_0x17654e(0x261)]=_0x17654e(0x274);const [_0xaa7758,_0x26ffa0]=currentSession['start'][_0x17654e(0x24a)](':')[_0x17654e(0x2d5)](Number),[_0x1dd5d9,_0x4436df]=currentSession[_0x17654e(0x2af)]['split'](':')[_0x17654e(0x2d5)](Number),_0x54d0c7=_0x1dd5d9*0x3c+_0x4436df-(_0xaa7758*0x3c+_0x26ffa0);try{const _0x4191a5=window['Telegram']?.[_0x17654e(0x242)],_0x173b88=await fetch(API_URL,{'method':_0x17654e(0x2bc),'body':JSON[_0x17654e(0x2d4)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x54d0c7,'init_data':_0x4191a5?.[_0x17654e(0x247)]||'','excludeSessionId':currentSession['id']})}),_0x5dbe5d=await _0x173b88['json']();_0x5dbe5d['ok']&&_0x5dbe5d[_0x17654e(0x2b4)]?(availableSlotsCache=_0x5dbe5d['data'],renderRescheduleDates()):_0x4d22ce['innerHTML']=_0x17654e(0x253);}catch(_0x51711a){_0x4d22ce[_0x17654e(0x261)]=_0x17654e(0x291);}}function renderRescheduleDates(){const _0x566712=a3_0x5b204c,_0x314d95=document[_0x566712(0x25f)](_0x566712(0x289));_0x314d95[_0x566712(0x261)]='';const _0x58ecd6=Object[_0x566712(0x216)](availableSlotsCache)[_0x566712(0x28f)](),_0xea0724=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x58ecd6['length']===0x0){document[_0x566712(0x25f)](_0x566712(0x26e))[_0x566712(0x261)]=_0x566712(0x1fd);return;}_0x58ecd6[_0x566712(0x244)]((_0xda1659,_0x3a3c70)=>{const _0x3c6362=_0x566712,_0x3e99a6=new Date(_0xda1659),_0x4db690=_0xea0724[_0x3e99a6[_0x3c6362(0x215)]()],_0x2cd980=_0x3e99a6[_0x3c6362(0x229)](),_0x2d80cf=document[_0x3c6362(0x219)](_0x3c6362(0x201));_0x2d80cf['className']='rs-date-chip';if(_0x3a3c70===0x0)_0x2d80cf[_0x3c6362(0x1f5)][_0x3c6362(0x2c4)](_0x3c6362(0x2d1));_0x2d80cf['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x4db690+_0x3c6362(0x26a)+_0x2cd980+_0x3c6362(0x2ac),_0x2d80cf[_0x3c6362(0x225)]=()=>selectRsDate(_0xda1659,_0x2d80cf),_0x314d95[_0x3c6362(0x271)](_0x2d80cf);}),selectRsDate(_0x58ecd6[0x0],_0x314d95[_0x566712(0x20b)]);}function selectRsDate(_0x48ee5e,_0x525972){const _0x191b9a=a3_0x5b204c;selectedRsDate=_0x48ee5e,document[_0x191b9a(0x2cc)]('.rs-date-chip')['forEach'](_0x5e3622=>_0x5e3622[_0x191b9a(0x1f5)]['remove']('active'));if(_0x525972)_0x525972[_0x191b9a(0x1f5)]['add'](_0x191b9a(0x2d1));const _0x1820ad=document[_0x191b9a(0x25f)](_0x191b9a(0x26e));_0x1820ad['innerHTML']='';const _0x3a500a=availableSlotsCache[_0x48ee5e]||[];if(_0x3a500a[_0x191b9a(0x210)]===0x0){_0x1820ad['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3a500a[_0x191b9a(0x244)](_0x9cfd44=>{const _0x2563bb=_0x191b9a,_0x16b802=document[_0x2563bb(0x219)](_0x2563bb(0x231));_0x16b802[_0x2563bb(0x2c8)]=_0x2563bb(0x200),_0x16b802[_0x2563bb(0x2bf)]=_0x9cfd44,_0x16b802[_0x2563bb(0x225)]=()=>confirmReschedule(_0x9cfd44),_0x1820ad[_0x2563bb(0x271)](_0x16b802);});}async function confirmReschedule(_0x42371d){const _0x355bab=a3_0x5b204c,_0x48b996=new Date(selectedRsDate),_0x3ba56e=_0x48b996[_0x355bab(0x2b2)](_0x355bab(0x1f7),{'day':_0x355bab(0x207),'month':_0x355bab(0x26f)}),_0x40ee72=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3ba56e+_0x355bab(0x248)+_0x42371d+'?',![]);if(!_0x40ee72)return;closeAllSheets(),showToast(_0x355bab(0x25d)),lastUserActionTime=Date[_0x355bab(0x213)]();const _0x457e44=currentSession['dateStr'],_0xffb8cc=currentSession['id'],[_0x26d0b3,_0x4cfbf9]=currentSession[_0x355bab(0x237)][_0x355bab(0x24a)](':')[_0x355bab(0x2d5)](Number),[_0x4d56c7,_0x62d0c9]=currentSession['end'][_0x355bab(0x24a)](':')['map'](Number),_0x53e4c4=_0x4d56c7*0x3c+_0x62d0c9-(_0x26d0b3*0x3c+_0x4cfbf9),[_0x10bb77,_0x1870e0]=_0x42371d['split'](':')['map'](Number),_0x55befb=_0x10bb77*0x3c+_0x1870e0+_0x53e4c4,_0x150a6b=Math[_0x355bab(0x21f)](_0x55befb/0x3c),_0x44c721=_0x55befb%0x3c,_0x55589c=String(_0x150a6b)['padStart'](0x2,'0')+':'+String(_0x44c721)['padStart'](0x2,'0'),_0x1fda11=sessions['findIndex'](_0x3bfeb3=>_0x3bfeb3['id']===_0xffb8cc);_0x1fda11!==-0x1&&(sessions[_0x1fda11]['dateStr']=selectedRsDate,sessions[_0x1fda11][_0x355bab(0x237)]=_0x42371d,sessions[_0x1fda11][_0x355bab(0x2af)]=_0x55589c,reRenderBlocks());try{const _0x26649e=window[_0x355bab(0x209)]?.[_0x355bab(0x242)],_0x2a17aa=await fetch(API_URL,{'method':_0x355bab(0x2bc),'body':JSON[_0x355bab(0x2d4)]({'action':_0x355bab(0x2ed),'init_data':_0x26649e?.[_0x355bab(0x247)]||'','oldSessionId':_0xffb8cc,'oldDate':_0x457e44,'newDate':selectedRsDate,'newTime':_0x42371d,'coachId':currentSession[_0x355bab(0x2cd)]})}),_0x52efe8=await _0x2a17aa[_0x355bab(0x254)]();!_0x52efe8['ok']?(showToast(_0x355bab(0x2d6)),DataManager[_0x355bab(0x24d)]()):(showToast(_0x355bab(0x2d7)),DataManager[_0x355bab(0x2e7)]());}catch(_0x35d2dc){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x5b204c(0x285),init);