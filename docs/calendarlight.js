const a3_0x5b84a8=a3_0x21dd;(function(_0x5c1dc7,_0x3e225f){const _0x4d1319=a3_0x21dd,_0x377ba7=_0x5c1dc7();while(!![]){try{const _0x5ccf1b=-parseInt(_0x4d1319(0x20f))/0x1+-parseInt(_0x4d1319(0x1f4))/0x2+-parseInt(_0x4d1319(0x1cb))/0x3*(parseInt(_0x4d1319(0x173))/0x4)+parseInt(_0x4d1319(0x21a))/0x5*(-parseInt(_0x4d1319(0x181))/0x6)+-parseInt(_0x4d1319(0x25a))/0x7*(-parseInt(_0x4d1319(0x1e7))/0x8)+parseInt(_0x4d1319(0x238))/0x9+-parseInt(_0x4d1319(0x16a))/0xa*(-parseInt(_0x4d1319(0x1a4))/0xb);if(_0x5ccf1b===_0x3e225f)break;else _0x377ba7['push'](_0x377ba7['shift']());}catch(_0x35551c){_0x377ba7['push'](_0x377ba7['shift']());}}}(a3_0x1f45,0x7b44a));const APP_VERSION=a3_0x5b84a8(0x225),API_URL=a3_0x5b84a8(0x1d3),GRID_H=0x3c,KEY_SESSIONS=a3_0x5b84a8(0x186),KEY_SETTINGS=a3_0x5b84a8(0x20e),KEY_CLIENTS=a3_0x5b84a8(0x236);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5b84a8(0x217),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x438cf6=a3_0x5b84a8,_0x85925f=(function(){let _0x53ea5f=!![];return function(_0x53a330,_0x135812){const _0x32576f=_0x53ea5f?function(){const _0x210f26=a3_0x21dd;if(_0x135812){const _0x2aa53f=_0x135812[_0x210f26(0x220)](_0x53a330,arguments);return _0x135812=null,_0x2aa53f;}}:function(){};return _0x53ea5f=![],_0x32576f;};}()),_0x13c74b=_0x85925f(this,function(){const _0x5e9bd9=a3_0x21dd;return _0x13c74b[_0x5e9bd9(0x242)]()[_0x5e9bd9(0x1c5)](_0x5e9bd9(0x1b9))[_0x5e9bd9(0x242)]()[_0x5e9bd9(0x25b)](_0x13c74b)[_0x5e9bd9(0x1c5)](_0x5e9bd9(0x1b9));});_0x13c74b();try{const _0x5025ef=window[_0x438cf6(0x1c4)]?.[_0x438cf6(0x1f6)];if(!_0x5025ef)return;_0x5025ef['ready'](),_0x5025ef[_0x438cf6(0x16b)]();try{_0x5025ef[_0x438cf6(0x1fe)](_0x438cf6(0x1bd)),_0x5025ef[_0x438cf6(0x19f)]&&_0x5025ef['setBackgroundColor'](_0x438cf6(0x1bd));}catch(_0x1cdf15){console[_0x438cf6(0x19a)]('Error\x20setting\x20color:',_0x1cdf15);}try{_0x5025ef[_0x438cf6(0x1af)]&&(_0x5025ef[_0x438cf6(0x1af)][_0x438cf6(0x23a)](),_0x5025ef[_0x438cf6(0x1af)][_0x438cf6(0x1ca)](),_0x5025ef[_0x438cf6(0x1af)][_0x438cf6(0x201)](function(){const _0x2bc138=_0x438cf6;window[_0x2bc138(0x248)][_0x2bc138(0x20b)]=_0x2bc138(0x1c2);}));}catch(_0x42a12f){console[_0x438cf6(0x19a)]('Error\x20setting\x20back\x20button:',_0x42a12f);}try{if(_0x5025ef[_0x438cf6(0x192)])_0x5025ef['disableVerticalSwipes']();}catch(_0x579b8d){}}catch(_0x38320a){console['error'](_0x438cf6(0x175),_0x38320a);}}());function isAdmin(){const _0x3aa979=a3_0x5b84a8;try{const _0x10ba23=Number(window[_0x3aa979(0x1c4)]?.[_0x3aa979(0x1f6)]?.[_0x3aa979(0x1f7)]?.[_0x3aa979(0x257)]?.['id']);return _0x10ba23===0xbaf7174;}catch(_0xf0dce8){return![];}}const DataManager={'saveLocally'(){const _0x559a62=a3_0x5b84a8;try{localStorage[_0x559a62(0x261)](KEY_SESSIONS,JSON[_0x559a62(0x22b)](sessions)),localStorage[_0x559a62(0x261)](KEY_CLIENTS,JSON[_0x559a62(0x22b)](clients)),localStorage[_0x559a62(0x261)](KEY_SETTINGS,JSON[_0x559a62(0x22b)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x72ae37){}},'loadLocal'(){const _0x4e71a7=a3_0x5b84a8;try{const _0x2673ba=localStorage[_0x4e71a7(0x1ce)](KEY_SESSIONS);if(_0x2673ba)sessions=JSON[_0x4e71a7(0x1ad)](_0x2673ba);const _0x3a01ca=localStorage['getItem'](KEY_CLIENTS);if(_0x3a01ca)clients=JSON[_0x4e71a7(0x1ad)](_0x3a01ca);const _0xcab6d6=localStorage[_0x4e71a7(0x1ce)](KEY_SETTINGS);if(_0xcab6d6){const _0x112071=JSON[_0x4e71a7(0x1ad)](_0xcab6d6);if(_0x112071['pattern'])availabilityPattern=_0x112071[_0x4e71a7(0x22e)];if(_0x112071[_0x4e71a7(0x16d)])specialRanges=_0x112071[_0x4e71a7(0x16d)];if(_0x112071[_0x4e71a7(0x22c)])dateExceptions=_0x112071['exceptions'];}}catch(_0x179bfd){}},async 'syncLoad'(){const _0x4054de=a3_0x5b84a8,_0x5787ff=new Date(),_0x582f8b=_0x5787ff[_0x4054de(0x237)]()+'-'+String(_0x5787ff[_0x4054de(0x254)]()+0x1)[_0x4054de(0x1f0)](0x2,'0'),_0x35936c=new Date(_0x5787ff);_0x35936c[_0x4054de(0x1e3)](_0x5787ff['getMonth']()+0x1);const _0x28c0ec=_0x35936c[_0x4054de(0x237)]()+'-'+String(_0x35936c[_0x4054de(0x254)]()+0x1)[_0x4054de(0x1f0)](0x2,'0'),_0x35b1a3=Date[_0x4054de(0x251)]();try{const _0x586bbf=window['Telegram']?.[_0x4054de(0x1f6)],_0x135ebc=_0x586bbf?.['initData']||'',[_0x315b55,_0x45b8b5]=await Promise[_0x4054de(0x196)]([fetch(API_URL,{'method':_0x4054de(0x214),'body':JSON['stringify']({'action':_0x4054de(0x1fa),'init_data':_0x135ebc,'month_str':_0x582f8b})})[_0x4054de(0x252)](_0x513e1a=>_0x513e1a[_0x4054de(0x1e8)]()),fetch(API_URL,{'method':_0x4054de(0x214),'body':JSON[_0x4054de(0x22b)]({'action':_0x4054de(0x1fa),'init_data':_0x135ebc,'month_str':_0x28c0ec})})['then'](_0x5c6e4d=>_0x5c6e4d['json']())]);if(lastUserActionTime>_0x35b1a3){console[_0x4054de(0x19a)](_0x4054de(0x204));return;}if(_0x315b55['ok'])this[_0x4054de(0x19b)](_0x315b55[_0x4054de(0x23d)],_0x582f8b);if(_0x45b8b5['ok'])this['applyData'](_0x45b8b5[_0x4054de(0x23d)],_0x28c0ec);this[_0x4054de(0x18b)]();}catch(_0x18d13a){}},'applyData'(_0x52a842,_0xb9482f){const _0x599cf5=a3_0x5b84a8;if(!_0x52a842)return;if(_0x52a842['settings']){if(_0x52a842[_0x599cf5(0x258)][_0x599cf5(0x22e)])availabilityPattern=_0x52a842[_0x599cf5(0x258)][_0x599cf5(0x22e)];if(_0x52a842[_0x599cf5(0x258)]['ranges'])specialRanges=_0x52a842[_0x599cf5(0x258)]['ranges'];if(_0x52a842[_0x599cf5(0x258)]['exceptions'])dateExceptions=_0x52a842[_0x599cf5(0x258)]['exceptions'];}if(_0x52a842[_0x599cf5(0x1ed)]&&Array['isArray'](_0x52a842[_0x599cf5(0x1ed)]))clients=_0x52a842[_0x599cf5(0x1ed)];_0x52a842[_0x599cf5(0x182)]&&(coachProfiles={...coachProfiles,..._0x52a842['coach_profiles']}),_0x52a842[_0x599cf5(0x24d)]&&(sessions=sessions[_0x599cf5(0x191)](_0x52e36b=>!_0x52e36b[_0x599cf5(0x194)]['startsWith'](_0xb9482f)),Object[_0x599cf5(0x1c9)](_0x52a842[_0x599cf5(0x24d)])[_0x599cf5(0x1c6)](_0x2f1e98=>{const _0x3ed649=_0x599cf5,_0x452f56=_0x52a842['calendar'][_0x2f1e98];_0x452f56[_0x3ed649(0x1c6)](_0x542b76=>{const _0x51a0ac=_0x3ed649;sessions[_0x51a0ac(0x1e2)]({'id':_0x542b76['i'],'clientId':_0x542b76['c'],'coachId':_0x542b76[_0x51a0ac(0x1fc)],'dateStr':_0xb9482f+'-'+_0x2f1e98['padStart'](0x2,'0'),'start':_0x542b76['s'],'end':_0x542b76['e'],'note':_0x542b76['n']||'','status':_0x542b76['st']||_0x51a0ac(0x245),'seriesId':_0x542b76[_0x51a0ac(0x166)]});});})),reRenderBlocks();}};function init(){const _0x3e77f0=a3_0x5b84a8;DataManager[_0x3e77f0(0x232)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3e77f0(0x249)]('matrixViewport')['addEventListener'](_0x3e77f0(0x229),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3e77f0(0x209)]();}function a3_0x1f45(){const _0xe11d34=['disableVerticalSwipes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','dateStr','completed','all','substring','reschedule','block','log','applyData','numeric','querySelector','matrixViewport','setBackgroundColor','\x20—á.','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','start','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','2231449iWbWDW','rsSlotsGrid','\x20-\x20','createDocumentFragment','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','ccYesBtn','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.btn-reschedule','analyticsList','parse','month','BackButton','sort','overlay','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','fontWeight','scrollLeft','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','map','scrollTop','(((.+)+)+)+$','cancelContainer','.period-switch\x20.p-btn','entries','#050505','initData','seriesId','height','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','router.html','cancelled','Telegram','search','forEach','</div><div\x20class=\x22dch-num\x22>','%\x20+\x202px)','keys','offClick','3jjdtan','.rs-date-chip','globalTimeLine','getItem','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','appendChild','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','clientWidth','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','max','join','toUpperCase','day-col-header\x20','colIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','addEventListener','zIndex','getAttribute','#0a84ff','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','min','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','offsetLeft','push','setMonth','\x20–≤\x20','scrollTo','gridColumns','26408oEGoAB','json','add','getHours','detDate','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clients','stopPropagation','borderLeftColor','padStart','test','active','</div>','1261536OvSVjL','firstChild','WebApp','initDataUnsafe','.sheet','display','client_load','.btn-cancel','cid','length','setHeaderColor','anEnd','toast','onClick','rgba(','DOMContentLoaded','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setAttribute','</span>\x20/\x20','blocked-range-part\x20stripe-bg','<div\x20class=\x22dch-day\x22>','syncLoad','blocked-slot\x20stripe-bg','href','insertBefore','end','uc_client_settings','825842oBwEVb','time-label','ccTitle','innerHTML','get_slots','POST','onclick','customConfirm','week','open','querySelectorAll','15GdyDkq','value','width','total','status','ru-RU','apply','data-day-idx','setDate','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','.day-column','v9.5-CLIENT-ANALYTICS','backgroundPosition','day-off-overlay\x20stripe-bg','getTime','scroll','backgroundColor','stringify','exceptions','round','pattern','anStart','textContent','analyticsSheet','loadLocal','custom','detTime','auto','uc_client_list','getFullYear','5869953UEcHKp','split','show','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','scrollWidth','data','timeColumn','–∑–∞\x20','data-date','day-column\x20','toString','client_cancel','long','planned','cancelHint','today','location','getElementById','calc(','rescheduleSheet','setHours','calendar','strokeDashoffset','detailsSheet','\x20–∏–∑\x20','now','then','style','getMonth','timeLineBadge','color','user','settings','T23:59:59','637idFMCI','constructor','<span>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','done','remove','div','setItem','</div><div\x20class=\x22rs-day-num\x22>','px\x20-','visible','classList','cancel_window','find','#ff453a','sid','slice','anPercent','%\x20-\x204px)','100SkAJFR','expand','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ranges','getDay','anTotalStats','toLocaleDateString','clientId','headerMonth','197304gmQMRi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Critical\x20TMA\x20Error:','className','var(--acc-blue)','getMinutes','event-card','ccText','note','<div\x20class=\x22rs-day-name\x22>','rs-time-btn','rsDatesTrack','600','detNote','1940712RYGYQX','coach_profiles','getDate','createElement','daysHeaderTrack','uc_client_sessions','mini','charAt','none','coachId','saveLocally','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–û—Ç–º–µ–Ω–µ–Ω–æ','top','T00:00:00','anCustomDates','filter'];a3_0x1f45=function(){return _0xe11d34;};return a3_0x1f45();}function a3_0x21dd(_0x5d5462,_0xfa030c){_0x5d5462=_0x5d5462-0x15f;const _0x14bfd5=a3_0x1f45();let _0x3eeb0b=_0x14bfd5[_0x5d5462];return _0x3eeb0b;}function renderTimeColumn(){const _0x3eb271=a3_0x5b84a8,_0x106a31=document['getElementById'](_0x3eb271(0x23e)),_0x53024b=document['getElementById'](_0x3eb271(0x255));_0x106a31[_0x3eb271(0x212)]='',_0x106a31['appendChild'](_0x53024b);for(let _0x2d4ca7=0x0;_0x2d4ca7<0x18;_0x2d4ca7++){const _0x85300a=document['createElement'](_0x3eb271(0x260));_0x85300a[_0x3eb271(0x176)]=_0x3eb271(0x210);if(_0x2d4ca7>0x0)_0x85300a['innerHTML']=_0x3eb271(0x25c)+String(_0x2d4ca7)[_0x3eb271(0x1f0)](0x2,'0')+':00</span>';_0x106a31[_0x3eb271(0x1d0)](_0x85300a);}}function renderDayRange(_0x506820,_0x3cf000){const _0x54148f=a3_0x5b84a8,_0x58bfd8=document[_0x54148f(0x249)](_0x54148f(0x185)),_0x10aa57=document['getElementById'](_0x54148f(0x1e6)),_0x54d93f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41da89=new Date();_0x41da89['setHours'](0x0,0x0,0x0,0x0);const _0x5e62ba=getLocalDateStr(new Date());for(let _0x3d28a5=_0x506820;_0x3d28a5<=_0x3cf000;_0x3d28a5++){const _0x4a68c7=new Date(_0x41da89);_0x4a68c7[_0x54148f(0x222)](_0x4a68c7[_0x54148f(0x183)]()+_0x3d28a5);const _0x370c04=getLocalDateStr(_0x4a68c7);let _0x2c8463=_0x4a68c7[_0x54148f(0x16e)]()-0x1;if(_0x2c8463===-0x1)_0x2c8463=0x6;const _0x48002c=_0x370c04===_0x5e62ba,_0x16153a=document[_0x54148f(0x184)]('div');_0x16153a[_0x54148f(0x176)]=_0x54148f(0x1d7)+(_0x48002c?'today':''),_0x16153a[_0x54148f(0x205)](_0x54148f(0x240),_0x370c04),_0x16153a[_0x54148f(0x212)]=_0x54148f(0x208)+_0x54d93f[_0x2c8463]+_0x54148f(0x1c7)+_0x4a68c7['getDate']()+_0x54148f(0x1f3),_0x58bfd8['appendChild'](_0x16153a);const _0x27c8c6=document[_0x54148f(0x184)](_0x54148f(0x260));_0x27c8c6[_0x54148f(0x176)]=_0x54148f(0x241)+(_0x48002c?'today':''),_0x27c8c6[_0x54148f(0x205)](_0x54148f(0x240),_0x370c04),_0x27c8c6['setAttribute'](_0x54148f(0x221),_0x2c8463),_0x10aa57[_0x54148f(0x1d0)](_0x27c8c6);}}function reRenderBlocks(){const _0xf5bd3=a3_0x5b84a8;document[_0xf5bd3(0x219)](_0xf5bd3(0x224))['forEach'](_0x5a541e=>{const _0x24b7f6=_0xf5bd3;_0x5a541e[_0x24b7f6(0x219)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x24b7f6(0x1c6)](_0x522e30=>_0x522e30['remove']());const _0x162649=_0x5a541e[_0x24b7f6(0x1dc)]('data-date'),_0x28a97f=parseInt(_0x5a541e[_0x24b7f6(0x1dc)](_0x24b7f6(0x221))),_0x44f1b6=Math[_0x24b7f6(0x22d)](_0x5a541e[_0x24b7f6(0x1e1)]);(availabilityPattern[_0x28a97f]||[])['forEach'](_0x5b9cba=>{const _0x12bb97=_0x24b7f6,_0x4fa76e=document[_0x12bb97(0x184)](_0x12bb97(0x260));_0x4fa76e[_0x12bb97(0x176)]=_0x12bb97(0x20a),_0x4fa76e['style'][_0x12bb97(0x18e)]=_0x5b9cba*GRID_H+'px',_0x4fa76e[_0x12bb97(0x253)][_0x12bb97(0x226)]='-'+_0x44f1b6+'px\x20-'+_0x5b9cba*GRID_H+'px',_0x5a541e[_0x12bb97(0x1d0)](_0x4fa76e);});if(specialRanges[_0x24b7f6(0x1fd)]>0x0){const _0x29c75b=new Date(_0x162649+_0x24b7f6(0x18f))[_0x24b7f6(0x228)](),_0x148b52=new Date(_0x162649+_0x24b7f6(0x259))['getTime']();specialRanges[_0x24b7f6(0x1c6)](_0x140d3e=>{const _0x31a1d8=_0x24b7f6,_0xf3c235=new Date(_0x140d3e[_0x31a1d8(0x1a2)])[_0x31a1d8(0x228)](),_0x5111af=new Date(_0x140d3e[_0x31a1d8(0x20d)])['getTime'](),_0xbffa40=Math['max'](_0x29c75b,_0xf3c235),_0xd8023d=Math[_0x31a1d8(0x1df)](_0x148b52,_0x5111af);if(_0xbffa40<_0xd8023d){const _0x17d27e=(_0xbffa40-_0x29c75b)/0x36ee80*GRID_H,_0x2e966e=(_0xd8023d-_0xbffa40)/0x36ee80*GRID_H,_0x57c733=document[_0x31a1d8(0x184)](_0x31a1d8(0x260));_0x2e966e>=23.5*GRID_H?(_0x57c733[_0x31a1d8(0x176)]=_0x31a1d8(0x227),_0x57c733['style'][_0x31a1d8(0x226)]='-'+_0x44f1b6+'px\x200px'):(_0x57c733[_0x31a1d8(0x176)]=_0x31a1d8(0x207),_0x57c733[_0x31a1d8(0x253)][_0x31a1d8(0x18e)]=_0x17d27e+'px',_0x57c733[_0x31a1d8(0x253)][_0x31a1d8(0x1c0)]=_0x2e966e+'px',_0x57c733[_0x31a1d8(0x253)]['backgroundPosition']='-'+_0x44f1b6+_0x31a1d8(0x160)+_0x17d27e+'px'),_0x5a541e[_0x31a1d8(0x1d0)](_0x57c733);}});}renderEventsForColumn(_0x5a541e,_0x162649);});}function renderEventsForColumn(_0x1e4a52,_0x3870cc){const _0x36bf9a=a3_0x5b84a8,_0x22f9e0=sessions[_0x36bf9a(0x191)](_0x32d42d=>_0x32d42d['dateStr']===_0x3870cc),_0x4493fc=_0x22f9e0[_0x36bf9a(0x1b7)](_0x217efd=>{const _0x19de2e=_0x36bf9a,[_0x2acfbf,_0x4289ef]=_0x217efd['start'][_0x19de2e(0x239)](':')[_0x19de2e(0x1b7)](Number),[_0x36ae67,_0x4b66b2]=_0x217efd[_0x19de2e(0x20d)]['split'](':')[_0x19de2e(0x1b7)](Number);return{'data':_0x217efd,'start':_0x2acfbf*0x3c+_0x4289ef,'end':_0x36ae67*0x3c+_0x4b66b2,'colIndex':0x0};});_0x4493fc[_0x36bf9a(0x1b0)]((_0x11a076,_0x13ec78)=>_0x11a076[_0x36bf9a(0x1a2)]-_0x13ec78[_0x36bf9a(0x1a2)]||_0x13ec78['end']-_0x13ec78[_0x36bf9a(0x1a2)]-(_0x11a076[_0x36bf9a(0x20d)]-_0x11a076[_0x36bf9a(0x1a2)]));const _0x3c1544=[];_0x4493fc[_0x36bf9a(0x1c6)](_0x27b2d5=>{const _0x12a261=_0x36bf9a;let _0x12bc52=![];for(let _0x5dd058=0x0;_0x5dd058<_0x3c1544[_0x12a261(0x1fd)];_0x5dd058++){const _0x2ef27d=_0x3c1544[_0x5dd058];if(_0x27b2d5['start']>=_0x2ef27d[_0x2ef27d[_0x12a261(0x1fd)]-0x1]['end']){_0x2ef27d[_0x12a261(0x1e2)](_0x27b2d5),_0x27b2d5[_0x12a261(0x1d8)]=_0x5dd058,_0x12bc52=!![];break;}}!_0x12bc52&&(_0x3c1544[_0x12a261(0x1e2)]([_0x27b2d5]),_0x27b2d5['colIndex']=_0x3c1544['length']-0x1);}),_0x4493fc['forEach'](_0x53f0e2=>{const _0x320692=_0x36bf9a;let _0x5ac42f=0x0;_0x4493fc[_0x320692(0x1c6)](_0x3183bc=>{const _0x2aedd9=_0x320692;if(Math[_0x2aedd9(0x1d4)](_0x53f0e2[_0x2aedd9(0x1a2)],_0x3183bc[_0x2aedd9(0x1a2)])<Math[_0x2aedd9(0x1df)](_0x53f0e2[_0x2aedd9(0x20d)],_0x3183bc[_0x2aedd9(0x20d)])&&_0x3183bc[_0x2aedd9(0x1d8)]>_0x5ac42f)_0x5ac42f=_0x3183bc[_0x2aedd9(0x1d8)];});const _0x3f9e32=_0x5ac42f+0x1,_0x343b12=0x64/_0x3f9e32,_0xea069f=_0x53f0e2[_0x320692(0x1d8)]*_0x343b12,_0x4e6fd0=document['createElement']('div'),_0xf06b97=_0x53f0e2[_0x320692(0x23d)];let _0x1957c3=_0x320692(0x1dd);if(clients&&clients[_0x320692(0x1fd)]>0x0){const _0x5990e3=clients[_0x320692(0x164)](_0x40df1d=>String(_0x40df1d['id'])===String(_0xf06b97[_0x320692(0x171)]));if(_0x5990e3&&_0x5990e3[_0x320692(0x256)])_0x1957c3=_0x5990e3[_0x320692(0x256)];}const _0x4e96d2=_0xf06b97[_0x320692(0x21e)]===_0x320692(0x195),_0x12b96e=_0x4e96d2?0x1:0.45;_0x4e6fd0['className']=_0x320692(0x179)+(_0x4e96d2?'\x20status-completed':''),_0x4e6fd0[_0x320692(0x253)][_0x320692(0x22a)]=hexToRgba(_0x1957c3,_0x12b96e),_0x4e6fd0[_0x320692(0x253)][_0x320692(0x1ef)]=_0x1957c3;const _0x5ab59c=_0x53f0e2[_0x320692(0x1a2)]/0x3c*GRID_H,_0x1a89f2=(_0x53f0e2[_0x320692(0x20d)]-_0x53f0e2['start'])/0x3c*GRID_H;_0x4e6fd0[_0x320692(0x253)]['top']=_0x5ab59c+'px',_0x4e6fd0[_0x320692(0x253)][_0x320692(0x1c0)]=Math[_0x320692(0x1d4)](_0x1a89f2,0x14)+'px',_0x4e6fd0[_0x320692(0x253)][_0x320692(0x21c)]=_0x320692(0x24a)+_0x343b12+_0x320692(0x169),_0x4e6fd0[_0x320692(0x253)]['left']=_0x320692(0x24a)+_0xea069f+_0x320692(0x1c8),_0x4e6fd0[_0x320692(0x253)][_0x320692(0x1db)]=0xa+_0x53f0e2[_0x320692(0x1d8)];if(_0x343b12<0x55)_0x4e6fd0[_0x320692(0x162)][_0x320692(0x1e9)](_0x320692(0x187));let _0x59d9ed='';if(_0xf06b97[_0x320692(0x1bf)])_0x59d9ed+=_0x320692(0x1ec);if(_0x4e96d2)_0x59d9ed+=_0x320692(0x1e0);_0x4e6fd0[_0x320692(0x212)]=_0x320692(0x1d9)+_0xf06b97[_0x320692(0x1a2)]+_0x320692(0x1a6)+_0xf06b97[_0x320692(0x20d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59d9ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4e6fd0[_0x320692(0x215)]=_0x15858e=>{const _0x388e2b=_0x320692;_0x15858e[_0x388e2b(0x1ee)](),openDetails(_0xf06b97);},_0x1e4a52[_0x320692(0x1d0)](_0x4e6fd0);});}function openAnalytics(){const _0x506da1=a3_0x5b84a8,_0x175867=document[_0x506da1(0x19d)](_0x506da1(0x1bb));setAnalyticsPeriod('week',_0x175867),openSheet(_0x506da1(0x231));}function setAnalyticsPeriod(_0x358b4d,_0x27c812){const _0x86762d=a3_0x5b84a8;currentAnPeriod=_0x358b4d,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x86762d(0x1c6)](_0x574fc0=>_0x574fc0[_0x86762d(0x162)]['remove'](_0x86762d(0x1f2)));if(_0x27c812)_0x27c812[_0x86762d(0x162)]['add'](_0x86762d(0x1f2));const _0x32d450=document[_0x86762d(0x249)](_0x86762d(0x190));_0x32d450['style'][_0x86762d(0x1f9)]=_0x358b4d===_0x86762d(0x233)?'flex':_0x86762d(0x189);const _0x336f0e=new Date();let _0x8084e=new Date(),_0x4ba300=new Date();if(_0x358b4d==='week')_0x8084e=getStartOfWeek(_0x336f0e),_0x4ba300=new Date(_0x8084e),_0x4ba300[_0x86762d(0x222)](_0x4ba300[_0x86762d(0x183)]()+0x6);else{if(_0x358b4d===_0x86762d(0x1ae))_0x8084e=new Date(_0x336f0e[_0x86762d(0x237)](),_0x336f0e[_0x86762d(0x254)](),0x1),_0x4ba300=new Date(_0x336f0e['getFullYear'](),_0x336f0e[_0x86762d(0x254)]()+0x1,0x0);else{!document[_0x86762d(0x249)]('anStart')[_0x86762d(0x21b)]&&(document[_0x86762d(0x249)]('anStart')[_0x86762d(0x21b)]=getLocalDateStr(_0x336f0e),document[_0x86762d(0x249)](_0x86762d(0x1ff))[_0x86762d(0x21b)]=getLocalDateStr(_0x336f0e));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x8084e),document[_0x86762d(0x249)](_0x86762d(0x1ff))[_0x86762d(0x21b)]=getLocalDateStr(_0x4ba300),refreshAnalytics();}function refreshAnalytics(){const _0x3fb824=a3_0x5b84a8,_0x9088e5=document[_0x3fb824(0x249)](_0x3fb824(0x22f))[_0x3fb824(0x21b)],_0x454a73=document[_0x3fb824(0x249)](_0x3fb824(0x1ff))[_0x3fb824(0x21b)];if(!_0x9088e5||!_0x454a73)return;const _0x399bff=sessions[_0x3fb824(0x191)](_0x630cdf=>_0x630cdf[_0x3fb824(0x194)]>=_0x9088e5&&_0x630cdf[_0x3fb824(0x194)]<=_0x454a73&&_0x630cdf[_0x3fb824(0x21e)]!==_0x3fb824(0x1c3)),_0x3be2e3=_0x399bff[_0x3fb824(0x1fd)],_0x4b2bed=_0x399bff[_0x3fb824(0x191)](_0x23e0d8=>_0x23e0d8['status']===_0x3fb824(0x195))[_0x3fb824(0x1fd)],_0x2c6536=_0x3be2e3>0x0?Math[_0x3fb824(0x22d)](_0x4b2bed/_0x3be2e3*0x64):0x0;document[_0x3fb824(0x249)](_0x3fb824(0x168))['textContent']=_0x2c6536+'%',document[_0x3fb824(0x249)](_0x3fb824(0x16f))[_0x3fb824(0x230)]=_0x4b2bed+_0x3fb824(0x250)+_0x3be2e3+_0x3fb824(0x1cf);const _0x2742e8=document['getElementById']('anDonutCircle'),_0x4dbcf9=0x2*Math['PI']*0x23,_0x3c6345=_0x4dbcf9-_0x2c6536/0x64*_0x4dbcf9;_0x2742e8[_0x3fb824(0x253)][_0x3fb824(0x24e)]=_0x3c6345;const _0x137277={};_0x399bff[_0x3fb824(0x1c6)](_0x2d8966=>{const _0x5cf714=_0x3fb824,_0x208bad=_0x2d8966[_0x5cf714(0x18a)]||'Unknown';if(!_0x137277[_0x208bad]){const _0xacb833='#'+_0x208bad[_0x5cf714(0x242)]()['substr'](0x0,0x6);_0x137277[_0x208bad]={'total':0x0,'done':0x0,'color':_0xacb833};}_0x137277[_0x208bad][_0x5cf714(0x21d)]++;if(_0x2d8966[_0x5cf714(0x21e)]==='completed')_0x137277[_0x208bad][_0x5cf714(0x25e)]++;});const _0x44b691=document[_0x3fb824(0x249)](_0x3fb824(0x1ac));_0x44b691[_0x3fb824(0x212)]='';const _0x1b85a5=Object[_0x3fb824(0x1bc)](_0x137277)[_0x3fb824(0x1b0)]((_0x33b482,_0xb5c422)=>_0xb5c422[0x1][_0x3fb824(0x21d)]-_0x33b482[0x1]['total']);if(_0x1b85a5[_0x3fb824(0x1fd)]===0x0){_0x44b691[_0x3fb824(0x212)]=_0x3fb824(0x1a8);return;}_0x1b85a5[_0x3fb824(0x1c6)](([_0x1e287d,_0x4a93c0])=>{const _0x1578da=_0x3fb824,_0x29eaaa=Math['round'](_0x4a93c0[_0x1578da(0x25e)]/_0x4a93c0[_0x1578da(0x21d)]*0x64),_0x11b398=document['createElement'](_0x1578da(0x260));_0x11b398[_0x1578da(0x176)]='client-stat-card',_0x11b398[_0x1578da(0x253)][_0x1578da(0x1ef)]=_0x4a93c0[_0x1578da(0x256)],_0x11b398[_0x1578da(0x212)]=_0x1578da(0x174)+_0x1e287d['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4a93c0[_0x1578da(0x25e)]+_0x1578da(0x206)+_0x4a93c0[_0x1578da(0x21d)]+_0x1578da(0x193)+_0x29eaaa+_0x1578da(0x16c),_0x44b691[_0x1578da(0x1d0)](_0x11b398);});}function openDetails(_0x1e1861){const _0x26c4e6=a3_0x5b84a8;currentSession=_0x1e1861;const _0x31256e=new Date(_0x1e1861[_0x26c4e6(0x194)]),_0x3d9180=_0x31256e[_0x26c4e6(0x170)](_0x26c4e6(0x21f),{'weekday':_0x26c4e6(0x244),'day':'numeric','month':'long'});document['getElementById'](_0x26c4e6(0x1eb))[_0x26c4e6(0x230)]=_0x3d9180[_0x26c4e6(0x188)](0x0)[_0x26c4e6(0x1d6)]()+_0x3d9180[_0x26c4e6(0x167)](0x1),document[_0x26c4e6(0x249)](_0x26c4e6(0x234))[_0x26c4e6(0x230)]=_0x1e1861['start']+'\x20-\x20'+_0x1e1861[_0x26c4e6(0x20d)],document[_0x26c4e6(0x249)](_0x26c4e6(0x180))[_0x26c4e6(0x230)]=_0x1e1861[_0x26c4e6(0x17b)]||_0x26c4e6(0x1b2);const _0x427f09=document['getElementById']('detStatus'),_0x828330=document[_0x26c4e6(0x249)](_0x26c4e6(0x1ba)),_0x26f5c7=_0x828330[_0x26c4e6(0x19d)](_0x26c4e6(0x1fb)),_0x461bc9=_0x828330[_0x26c4e6(0x19d)](_0x26c4e6(0x1ab)),_0x2b4c44=document[_0x26c4e6(0x249)](_0x26c4e6(0x246));if(_0x1e1861[_0x26c4e6(0x21e)]===_0x26c4e6(0x195))_0x427f09[_0x26c4e6(0x230)]=_0x26c4e6(0x1aa),_0x427f09[_0x26c4e6(0x253)][_0x26c4e6(0x256)]='var(--acc-green)',_0x828330['style'][_0x26c4e6(0x1f9)]=_0x26c4e6(0x189);else{_0x427f09[_0x26c4e6(0x230)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x427f09[_0x26c4e6(0x253)][_0x26c4e6(0x256)]=_0x26c4e6(0x177),_0x828330[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]='block';const _0x53fe71=new Date(_0x1e1861[_0x26c4e6(0x194)]+'T'+_0x1e1861[_0x26c4e6(0x1a2)]),_0x4204c0=new Date(),_0x7f0800=(_0x53fe71-_0x4204c0)/(0x3e8*0x3c*0x3c),_0x3cd4d1=coachProfiles[_0x1e1861[_0x26c4e6(0x18a)]]&&coachProfiles[_0x1e1861[_0x26c4e6(0x18a)]][_0x26c4e6(0x163)]?parseInt(coachProfiles[_0x1e1861['coachId']][_0x26c4e6(0x163)]):0x18;if(_0x3cd4d1===0x0||_0x7f0800>=_0x3cd4d1)_0x26f5c7[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]=_0x26c4e6(0x199),_0x461bc9['style'][_0x26c4e6(0x1f9)]=_0x26c4e6(0x199),_0x2b4c44[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]=_0x26c4e6(0x189);else{_0x26f5c7[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]=_0x26c4e6(0x189),_0x461bc9[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]=_0x26c4e6(0x189),_0x2b4c44[_0x26c4e6(0x253)][_0x26c4e6(0x1f9)]=_0x26c4e6(0x199);let _0x10a136=_0x3cd4d1===0x0?_0x26c4e6(0x1c1):_0x26c4e6(0x23f)+_0x3cd4d1+_0x26c4e6(0x1a0);_0x2b4c44[_0x26c4e6(0x230)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x10a136+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x26c4e6(0x249)]('overlay')[_0x26c4e6(0x162)][_0x26c4e6(0x1e9)]('active'),document['getElementById']('detailsSheet')[_0x26c4e6(0x162)][_0x26c4e6(0x1e9)]('open');}function closeAllSheets(){const _0xb0a5f9=a3_0x5b84a8;document[_0xb0a5f9(0x249)](_0xb0a5f9(0x1b1))[_0xb0a5f9(0x162)]['remove']('active'),document['querySelectorAll'](_0xb0a5f9(0x1f8))[_0xb0a5f9(0x1c6)](_0x56737b=>_0x56737b['classList'][_0xb0a5f9(0x25f)](_0xb0a5f9(0x218)));}function openSheet(_0x535944){const _0x23d061=a3_0x5b84a8;document[_0x23d061(0x249)](_0x23d061(0x1b1))[_0x23d061(0x162)]['add'](_0x23d061(0x1f2)),document[_0x23d061(0x249)](_0x535944)[_0x23d061(0x162)][_0x23d061(0x1e9)](_0x23d061(0x218));}function getLocalDateStr(_0x2fd137){const _0x166c8f=a3_0x5b84a8,_0x446668=_0x2fd137[_0x166c8f(0x237)](),_0x57ec35=String(_0x2fd137[_0x166c8f(0x254)]()+0x1)[_0x166c8f(0x1f0)](0x2,'0'),_0x3d22b3=String(_0x2fd137[_0x166c8f(0x183)]())[_0x166c8f(0x1f0)](0x2,'0');return _0x446668+'-'+_0x57ec35+'-'+_0x3d22b3;}function getStartOfWeek(_0x1ca6f8){const _0x179862=a3_0x5b84a8,_0x18ee8f=new Date(_0x1ca6f8),_0x5db89e=_0x18ee8f['getDay'](),_0x566dec=_0x18ee8f[_0x179862(0x183)]()-_0x5db89e+(_0x5db89e===0x0?-0x6:0x1);return _0x18ee8f[_0x179862(0x222)](_0x566dec),_0x18ee8f[_0x179862(0x24c)](0x0,0x0,0x0,0x0),_0x18ee8f;}function scrollToToday(){const _0x54342f=getLocalDateStr(new Date());setTimeout(()=>{const _0x55d513=a3_0x21dd,_0x2b5783=document['querySelector']('.day-col-header[data-date=\x22'+_0x54342f+'\x22]');if(_0x2b5783){const _0x299bc7=document['getElementById'](_0x55d513(0x19e)),_0xfe012c=_0x2b5783[_0x55d513(0x1e1)]-_0x299bc7[_0x55d513(0x1d2)]/0x2+_0x2b5783['offsetWidth']/0x2;_0x299bc7[_0x55d513(0x1e5)]({'left':_0xfe012c,'behavior':_0x55d513(0x235)}),_0x299bc7[_0x55d513(0x1b8)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x465e55=a3_0x5b84a8,_0x4ba5e8=new Date(),_0x3ff662=document['getElementById'](_0x465e55(0x1cd)),_0x566edf=document[_0x465e55(0x249)](_0x465e55(0x255)),_0x471e43=(_0x4ba5e8[_0x465e55(0x1ea)]()*0x3c+_0x4ba5e8[_0x465e55(0x178)]())/0x3c*GRID_H;_0x3ff662[_0x465e55(0x253)][_0x465e55(0x18e)]=_0x471e43+'px',_0x3ff662[_0x465e55(0x253)][_0x465e55(0x1f9)]='block',_0x566edf['style']['top']=_0x471e43+'px',_0x566edf[_0x465e55(0x253)][_0x465e55(0x1f9)]=_0x465e55(0x199),_0x566edf['textContent']=String(_0x4ba5e8[_0x465e55(0x1ea)]())[_0x465e55(0x1f0)](0x2,'0')+':'+String(_0x4ba5e8[_0x465e55(0x178)]())[_0x465e55(0x1f0)](0x2,'0');}function onScroll(){const _0x1d1ada=a3_0x5b84a8,_0x53dca4=document['getElementById'](_0x1d1ada(0x19e)),_0x49926f=document[_0x1d1ada(0x219)]('.day-col-header');for(let _0x216e4f of _0x49926f)if(_0x216e4f['offsetLeft']>=_0x53dca4[_0x1d1ada(0x1b5)]){const _0x4415ff=new Date(_0x216e4f[_0x1d1ada(0x1dc)](_0x1d1ada(0x240)));document[_0x1d1ada(0x249)](_0x1d1ada(0x172))[_0x1d1ada(0x230)]=_0x4415ff['toLocaleString']('ru',{'month':_0x1d1ada(0x244)})[_0x1d1ada(0x1d6)]()+'\x20'+_0x4415ff['getFullYear']();break;}}function showToast(_0x133796){const _0x4feb0e=a3_0x5b84a8,_0x511f0e=document['getElementById'](_0x4feb0e(0x200));_0x511f0e[_0x4feb0e(0x230)]=_0x133796,_0x511f0e[_0x4feb0e(0x162)][_0x4feb0e(0x1e9)]('show'),setTimeout(()=>_0x511f0e[_0x4feb0e(0x162)][_0x4feb0e(0x25f)](_0x4feb0e(0x23a)),0x7d0);}function handleInfiniteScroll(){const _0x481a7e=a3_0x5b84a8,_0x6b4297=document[_0x481a7e(0x249)](_0x481a7e(0x19e)),_0x3aa477=_0x6b4297[_0x481a7e(0x1b5)],_0x4ef072=_0x6b4297[_0x481a7e(0x23c)],_0x5adccf=_0x6b4297[_0x481a7e(0x1d2)];if(_0x4ef072-(_0x3aa477+_0x5adccf)<0x12c){const _0xcdd4f0=endOffset;endOffset+=0xe,renderDayRange(_0xcdd4f0+0x1,endOffset),reRenderBlocks();}if(_0x3aa477<0x12c){const _0x544868=startOffset;startOffset-=0xe,prependDays(startOffset,_0x544868-0x1),_0x6b4297[_0x481a7e(0x1b5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9c8e9f,_0x5824e7){const _0xf0f58f=a3_0x5b84a8,_0x2efb7d=document[_0xf0f58f(0x249)](_0xf0f58f(0x185)),_0x24b0de=document[_0xf0f58f(0x249)](_0xf0f58f(0x1e6)),_0x47a7e6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x416aa6=new Date();_0x416aa6[_0xf0f58f(0x24c)](0x0,0x0,0x0,0x0);const _0x133a79=getLocalDateStr(new Date()),_0x5005d8=document[_0xf0f58f(0x1a7)](),_0x2782a9=document[_0xf0f58f(0x1a7)]();for(let _0x398925=_0x9c8e9f;_0x398925<=_0x5824e7;_0x398925++){const _0x2cc7df=new Date(_0x416aa6);_0x2cc7df['setDate'](_0x2cc7df[_0xf0f58f(0x183)]()+_0x398925);const _0x5c0d5f=getLocalDateStr(_0x2cc7df);let _0x1aee0e=_0x2cc7df[_0xf0f58f(0x16e)]()-0x1;if(_0x1aee0e===-0x1)_0x1aee0e=0x6;const _0x55a27b=_0x5c0d5f===_0x133a79,_0x440fdb=document[_0xf0f58f(0x184)](_0xf0f58f(0x260));_0x440fdb[_0xf0f58f(0x176)]=_0xf0f58f(0x1d7)+(_0x55a27b?_0xf0f58f(0x247):''),_0x440fdb[_0xf0f58f(0x205)](_0xf0f58f(0x240),_0x5c0d5f),_0x440fdb[_0xf0f58f(0x212)]=_0xf0f58f(0x208)+_0x47a7e6[_0x1aee0e]+'</div><div\x20class=\x22dch-num\x22>'+_0x2cc7df['getDate']()+_0xf0f58f(0x1f3),_0x5005d8['appendChild'](_0x440fdb);const _0x42cecb=document[_0xf0f58f(0x184)]('div');_0x42cecb['className']=_0xf0f58f(0x241)+(_0x55a27b?'today':''),_0x42cecb[_0xf0f58f(0x205)](_0xf0f58f(0x240),_0x5c0d5f),_0x42cecb[_0xf0f58f(0x205)](_0xf0f58f(0x221),_0x1aee0e),_0x2782a9['appendChild'](_0x42cecb);}_0x2efb7d[_0xf0f58f(0x20c)](_0x5005d8,_0x2efb7d[_0xf0f58f(0x1f5)]),_0x24b0de['insertBefore'](_0x2782a9,_0x24b0de[_0xf0f58f(0x19d)](_0xf0f58f(0x224)));}function hexToRgba(_0x5a4b54,_0x36f43d){const _0x28be82=a3_0x5b84a8;let _0x99ce1a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x28be82(0x1f1)](_0x5a4b54))return _0x99ce1a=_0x5a4b54[_0x28be82(0x197)](0x1)[_0x28be82(0x239)](''),_0x99ce1a['length']==0x3&&(_0x99ce1a=[_0x99ce1a[0x0],_0x99ce1a[0x0],_0x99ce1a[0x1],_0x99ce1a[0x1],_0x99ce1a[0x2],_0x99ce1a[0x2]]),_0x99ce1a='0x'+_0x99ce1a[_0x28be82(0x1d5)](''),_0x28be82(0x202)+[_0x99ce1a>>0x10&0xff,_0x99ce1a>>0x8&0xff,_0x99ce1a&0xff][_0x28be82(0x1d5)](',')+','+_0x36f43d+')';return'rgba(10,\x20132,\x20255,\x20'+_0x36f43d+')';}let confirmResolver=null;function showCustomConfirm(_0x45a5b5,_0x33218c,_0x2ac7f7=!![]){const _0x248cf5=a3_0x5b84a8;document['getElementById'](_0x248cf5(0x211))[_0x248cf5(0x230)]=_0x45a5b5,document[_0x248cf5(0x249)](_0x248cf5(0x17a))[_0x248cf5(0x230)]=_0x33218c;const _0xeebc6=document[_0x248cf5(0x249)](_0x248cf5(0x1a9));return _0x2ac7f7?(_0xeebc6[_0x248cf5(0x253)][_0x248cf5(0x256)]=_0x248cf5(0x165),_0xeebc6[_0x248cf5(0x253)][_0x248cf5(0x1b4)]=_0x248cf5(0x17f)):(_0xeebc6[_0x248cf5(0x253)][_0x248cf5(0x256)]=_0x248cf5(0x1dd),_0xeebc6[_0x248cf5(0x253)][_0x248cf5(0x1b4)]='600'),new Promise(_0x337138=>{const _0x2b9a47=_0x248cf5;confirmResolver=_0x337138,document['getElementById']('customConfirm')['classList'][_0x2b9a47(0x1e9)](_0x2b9a47(0x161));});}function resolveCustomConfirm(_0x166cbf){const _0x223039=a3_0x5b84a8;document[_0x223039(0x249)](_0x223039(0x216))['classList'][_0x223039(0x25f)](_0x223039(0x161));if(confirmResolver)confirmResolver(_0x166cbf);}async function tryCancelCurrentSession(){const _0x3ba84d=a3_0x5b84a8;if(!currentSession)return;const _0x2e352b=await showCustomConfirm(_0x3ba84d(0x23b),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x2e352b)return;const _0x586200=currentSession;closeAllSheets(),sessions=sessions[_0x3ba84d(0x191)](_0xf26372=>_0xf26372['id']!==_0x586200['id']),reRenderBlocks(),showToast(_0x3ba84d(0x18d)),lastUserActionTime=Date[_0x3ba84d(0x251)]();try{const _0x1bc3d4=window['Telegram']?.[_0x3ba84d(0x1f6)],_0x574ccd=await fetch(API_URL,{'method':_0x3ba84d(0x214),'body':JSON[_0x3ba84d(0x22b)]({'action':_0x3ba84d(0x243),'init_data':_0x1bc3d4?.[_0x3ba84d(0x1be)]||'','coachId':_0x586200[_0x3ba84d(0x18a)],'dateStr':_0x586200['dateStr'],'sessionId':_0x586200['id']})});if(_0x574ccd['ok'])DataManager[_0x3ba84d(0x18b)]();}catch(_0x48f170){showToast(_0x3ba84d(0x1a1));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x268724=a3_0x5b84a8;if(!currentSession)return;document['getElementById'](_0x268724(0x24f))['classList'][_0x268724(0x25f)](_0x268724(0x218)),document[_0x268724(0x249)](_0x268724(0x24b))[_0x268724(0x162)]['add'](_0x268724(0x218));const _0xa23687=document[_0x268724(0x249)]('rsDatesTrack'),_0x5b7cc0=document[_0x268724(0x249)](_0x268724(0x1a5));_0xa23687[_0x268724(0x212)]='',_0x5b7cc0[_0x268724(0x212)]=_0x268724(0x25d);const [_0x456cad,_0x1b9625]=currentSession[_0x268724(0x1a2)][_0x268724(0x239)](':')[_0x268724(0x1b7)](Number),[_0x3ef80e,_0x38731d]=currentSession[_0x268724(0x20d)][_0x268724(0x239)](':')[_0x268724(0x1b7)](Number),_0x33fb7d=_0x3ef80e*0x3c+_0x38731d-(_0x456cad*0x3c+_0x1b9625);try{const _0x4e383b=window[_0x268724(0x1c4)]?.[_0x268724(0x1f6)],_0x5db0fd=await fetch(API_URL,{'method':_0x268724(0x214),'body':JSON[_0x268724(0x22b)]({'action':_0x268724(0x213),'coachId':currentSession[_0x268724(0x18a)],'duration':_0x33fb7d,'init_data':_0x4e383b?.[_0x268724(0x1be)]||'','excludeSessionId':currentSession['id']})}),_0x224366=await _0x5db0fd[_0x268724(0x1e8)]();_0x224366['ok']&&_0x224366[_0x268724(0x23d)]?(availableSlotsCache=_0x224366[_0x268724(0x23d)],renderRescheduleDates()):_0x5b7cc0[_0x268724(0x212)]=_0x268724(0x1de);}catch(_0x1f229f){_0x5b7cc0[_0x268724(0x212)]=_0x268724(0x1a3);}}function renderRescheduleDates(){const _0x9affe=a3_0x5b84a8,_0x137350=document[_0x9affe(0x249)](_0x9affe(0x17e));_0x137350[_0x9affe(0x212)]='';const _0x2bf882=Object[_0x9affe(0x1c9)](availableSlotsCache)[_0x9affe(0x1b0)](),_0x42715b=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2bf882['length']===0x0){document[_0x9affe(0x249)](_0x9affe(0x1a5))[_0x9affe(0x212)]=_0x9affe(0x223);return;}_0x2bf882[_0x9affe(0x1c6)]((_0x254e32,_0x5249aa)=>{const _0x309332=_0x9affe,_0x41af95=new Date(_0x254e32),_0xc5c653=_0x42715b[_0x41af95[_0x309332(0x16e)]()],_0x50ff96=_0x41af95[_0x309332(0x183)](),_0x19de60=document['createElement']('div');_0x19de60[_0x309332(0x176)]='rs-date-chip';if(_0x5249aa===0x0)_0x19de60[_0x309332(0x162)][_0x309332(0x1e9)](_0x309332(0x1f2));_0x19de60['innerHTML']=_0x309332(0x17c)+_0xc5c653+_0x309332(0x15f)+_0x50ff96+'</div>',_0x19de60[_0x309332(0x215)]=()=>selectRsDate(_0x254e32,_0x19de60),_0x137350[_0x309332(0x1d0)](_0x19de60);}),selectRsDate(_0x2bf882[0x0],_0x137350['firstChild']);}function selectRsDate(_0x2de2e2,_0x2b3085){const _0x56fcd3=a3_0x5b84a8;selectedRsDate=_0x2de2e2,document[_0x56fcd3(0x219)](_0x56fcd3(0x1cc))[_0x56fcd3(0x1c6)](_0x4148dc=>_0x4148dc[_0x56fcd3(0x162)][_0x56fcd3(0x25f)]('active'));if(_0x2b3085)_0x2b3085['classList'][_0x56fcd3(0x1e9)]('active');const _0x44cbee=document[_0x56fcd3(0x249)](_0x56fcd3(0x1a5));_0x44cbee['innerHTML']='';const _0x130b25=availableSlotsCache[_0x2de2e2]||[];if(_0x130b25['length']===0x0){_0x44cbee['innerHTML']=_0x56fcd3(0x1de);return;}_0x130b25['forEach'](_0xa99fbb=>{const _0x1c05ac=_0x56fcd3,_0x5f4f8a=document['createElement']('button');_0x5f4f8a['className']=_0x1c05ac(0x17d),_0x5f4f8a['textContent']=_0xa99fbb,_0x5f4f8a[_0x1c05ac(0x215)]=()=>confirmReschedule(_0xa99fbb),_0x44cbee[_0x1c05ac(0x1d0)](_0x5f4f8a);});}async function confirmReschedule(_0x4a817c){const _0xd2f6a6=a3_0x5b84a8,_0x4ca53d=new Date(selectedRsDate),_0x219c8e=_0x4ca53d[_0xd2f6a6(0x170)](_0xd2f6a6(0x21f),{'day':_0xd2f6a6(0x19c),'month':_0xd2f6a6(0x244)}),_0xdde5bf=await showCustomConfirm(_0xd2f6a6(0x1d1),_0xd2f6a6(0x1b6)+_0x219c8e+_0xd2f6a6(0x1e4)+_0x4a817c+'?',![]);if(!_0xdde5bf)return;closeAllSheets(),showToast(_0xd2f6a6(0x1b3)),lastUserActionTime=Date['now']();const _0x9d43d=currentSession['dateStr'],_0x571963=currentSession['id'],[_0x167fb5,_0xa3379e]=currentSession[_0xd2f6a6(0x1a2)][_0xd2f6a6(0x239)](':')[_0xd2f6a6(0x1b7)](Number),[_0xfb787,_0x424523]=currentSession[_0xd2f6a6(0x20d)][_0xd2f6a6(0x239)](':')[_0xd2f6a6(0x1b7)](Number),_0x3296b4=_0xfb787*0x3c+_0x424523-(_0x167fb5*0x3c+_0xa3379e),[_0x1256bf,_0x572f86]=_0x4a817c[_0xd2f6a6(0x239)](':')[_0xd2f6a6(0x1b7)](Number),_0x47de2f=_0x1256bf*0x3c+_0x572f86+_0x3296b4,_0x387d4c=Math['floor'](_0x47de2f/0x3c),_0x15993b=_0x47de2f%0x3c,_0x5c1502=String(_0x387d4c)[_0xd2f6a6(0x1f0)](0x2,'0')+':'+String(_0x15993b)[_0xd2f6a6(0x1f0)](0x2,'0'),_0x55a492=sessions['findIndex'](_0xbe82d3=>_0xbe82d3['id']===_0x571963);_0x55a492!==-0x1&&(sessions[_0x55a492]['dateStr']=selectedRsDate,sessions[_0x55a492][_0xd2f6a6(0x1a2)]=_0x4a817c,sessions[_0x55a492][_0xd2f6a6(0x20d)]=_0x5c1502,reRenderBlocks());try{const _0x880127=window[_0xd2f6a6(0x1c4)]?.[_0xd2f6a6(0x1f6)],_0x4e3e8c=await fetch(API_URL,{'method':_0xd2f6a6(0x214),'body':JSON[_0xd2f6a6(0x22b)]({'action':_0xd2f6a6(0x198),'init_data':_0x880127?.[_0xd2f6a6(0x1be)]||'','oldSessionId':_0x571963,'oldDate':_0x9d43d,'newDate':selectedRsDate,'newTime':_0x4a817c,'coachId':currentSession['coachId']})}),_0x42b1de=await _0x4e3e8c[_0xd2f6a6(0x1e8)]();!_0x42b1de['ok']?(showToast(_0xd2f6a6(0x18c)),DataManager[_0xd2f6a6(0x209)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0xd2f6a6(0x18b)]());}catch(_0x4ef056){showToast(_0xd2f6a6(0x1a1));}}document[a3_0x5b84a8(0x1da)](a3_0x5b84a8(0x203),init);