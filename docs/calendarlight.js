const a3_0x2db876=a3_0x4388;(function(_0x4aaeb1,_0x2e213d){const _0x3c8e14=a3_0x4388,_0x46316c=_0x4aaeb1();while(!![]){try{const _0xf35154=-parseInt(_0x3c8e14(0x232))/0x1+-parseInt(_0x3c8e14(0x2a0))/0x2+parseInt(_0x3c8e14(0x25a))/0x3+-parseInt(_0x3c8e14(0x284))/0x4+-parseInt(_0x3c8e14(0x238))/0x5*(-parseInt(_0x3c8e14(0x283))/0x6)+-parseInt(_0x3c8e14(0x23b))/0x7*(-parseInt(_0x3c8e14(0x1cd))/0x8)+-parseInt(_0x3c8e14(0x2bf))/0x9*(parseInt(_0x3c8e14(0x2b6))/0xa);if(_0xf35154===_0x2e213d)break;else _0x46316c['push'](_0x46316c['shift']());}catch(_0x1bc9cc){_0x46316c['push'](_0x46316c['shift']());}}}(a3_0x5f40,0x1db83));const APP_VERSION=a3_0x2db876(0x28e),API_URL=a3_0x2db876(0x269),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2db876(0x230),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2db876(0x282),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3814eb=a3_0x2db876,_0x1dddd4=(function(){let _0x3d2df4=!![];return function(_0x334796,_0x26cbcd){const _0x5bd614=_0x3d2df4?function(){const _0x38bce8=a3_0x4388;if(_0x26cbcd){const _0x5b4c53=_0x26cbcd[_0x38bce8(0x1ec)](_0x334796,arguments);return _0x26cbcd=null,_0x5b4c53;}}:function(){};return _0x3d2df4=![],_0x5bd614;};}()),_0x873a44=_0x1dddd4(this,function(){const _0x311bd2=a3_0x4388;return _0x873a44[_0x311bd2(0x299)]()[_0x311bd2(0x2bd)](_0x311bd2(0x297))['toString']()[_0x311bd2(0x1dd)](_0x873a44)[_0x311bd2(0x2bd)](_0x311bd2(0x297));});_0x873a44();try{const _0x3febe5=window[_0x3814eb(0x1db)]?.[_0x3814eb(0x241)];if(!_0x3febe5)return;_0x3febe5[_0x3814eb(0x20c)](),_0x3febe5[_0x3814eb(0x2ab)]();try{_0x3febe5['setHeaderColor'](_0x3814eb(0x1f4)),_0x3febe5['setBackgroundColor']&&_0x3febe5[_0x3814eb(0x1e2)]('#050505');}catch(_0x300225){console['log'](_0x3814eb(0x26a),_0x300225);}try{_0x3febe5[_0x3814eb(0x1eb)]&&(_0x3febe5[_0x3814eb(0x1eb)]['show'](),_0x3febe5[_0x3814eb(0x1eb)][_0x3814eb(0x1f2)](),_0x3febe5['BackButton'][_0x3814eb(0x261)](function(){const _0x5b5d9c=_0x3814eb;window[_0x5b5d9c(0x2ad)][_0x5b5d9c(0x1f7)]=_0x5b5d9c(0x296);}));}catch(_0x3383a6){console['log']('Error\x20setting\x20back\x20button:',_0x3383a6);}try{if(_0x3febe5[_0x3814eb(0x1f9)])_0x3febe5[_0x3814eb(0x1f9)]();}catch(_0x1e21fe){}}catch(_0x35f78f){console[_0x3814eb(0x2a7)](_0x3814eb(0x2b2),_0x35f78f);}}());function isAdmin(){const _0x2197a5=a3_0x2db876;try{const _0x232b64=Number(window[_0x2197a5(0x1db)]?.[_0x2197a5(0x241)]?.[_0x2197a5(0x1cf)]?.[_0x2197a5(0x26d)]?.['id']);return _0x232b64===0xbaf7174;}catch(_0x1b1997){return![];}}const DataManager={'saveLocally'(){const _0x472efc=a3_0x2db876;try{localStorage[_0x472efc(0x252)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x472efc(0x252)](KEY_CLIENTS,JSON[_0x472efc(0x210)](clients)),localStorage[_0x472efc(0x252)](KEY_SETTINGS,JSON[_0x472efc(0x210)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1f8ee7){}},'loadLocal'(){const _0x67aa0=a3_0x2db876;try{const _0x2d6b31=localStorage[_0x67aa0(0x29f)](KEY_SESSIONS);if(_0x2d6b31)sessions=JSON['parse'](_0x2d6b31);const _0x53daa8=localStorage[_0x67aa0(0x29f)](KEY_CLIENTS);if(_0x53daa8)clients=JSON['parse'](_0x53daa8);const _0x11b097=localStorage[_0x67aa0(0x29f)](KEY_SETTINGS);if(_0x11b097){const _0x1a4e92=JSON[_0x67aa0(0x2bc)](_0x11b097);if(_0x1a4e92[_0x67aa0(0x1c1)])availabilityPattern=_0x1a4e92['pattern'];if(_0x1a4e92[_0x67aa0(0x226)])specialRanges=_0x1a4e92[_0x67aa0(0x226)];if(_0x1a4e92[_0x67aa0(0x2aa)])dateExceptions=_0x1a4e92[_0x67aa0(0x2aa)];}}catch(_0x55e89b){}},async 'syncLoad'(){const _0x20dc64=a3_0x2db876,_0xa3d59f=new Date(),_0x53bc71=_0xa3d59f[_0x20dc64(0x2b1)]()+'-'+String(_0xa3d59f[_0x20dc64(0x28d)]()+0x1)[_0x20dc64(0x222)](0x2,'0'),_0x1fa92a=new Date(_0xa3d59f);_0x1fa92a[_0x20dc64(0x1ce)](_0xa3d59f['getMonth']()+0x1);const _0x5e1d2a=_0x1fa92a[_0x20dc64(0x2b1)]()+'-'+String(_0x1fa92a[_0x20dc64(0x28d)]()+0x1)[_0x20dc64(0x222)](0x2,'0'),_0x6bc191=Date[_0x20dc64(0x2c4)]();try{const _0x52faea=window[_0x20dc64(0x1db)]?.['WebApp'],_0x5532a8=_0x52faea?.[_0x20dc64(0x21f)]||'',[_0x1a7865,_0x34f3a4]=await Promise[_0x20dc64(0x26c)]([fetch(API_URL,{'method':_0x20dc64(0x220),'body':JSON[_0x20dc64(0x210)]({'action':_0x20dc64(0x22f),'init_data':_0x5532a8,'month_str':_0x53bc71})})[_0x20dc64(0x24c)](_0xba4338=>_0xba4338[_0x20dc64(0x2bb)]()),fetch(API_URL,{'method':_0x20dc64(0x220),'body':JSON['stringify']({'action':_0x20dc64(0x22f),'init_data':_0x5532a8,'month_str':_0x5e1d2a})})[_0x20dc64(0x24c)](_0x46c122=>_0x46c122[_0x20dc64(0x2bb)]())]);if(lastUserActionTime>_0x6bc191){console['log'](_0x20dc64(0x2a5));return;}if(_0x1a7865['ok'])this[_0x20dc64(0x1d5)](_0x1a7865['data'],_0x53bc71);if(_0x34f3a4['ok'])this[_0x20dc64(0x1d5)](_0x34f3a4[_0x20dc64(0x24b)],_0x5e1d2a);this[_0x20dc64(0x248)]();}catch(_0x1fc166){}},'applyData'(_0x193a4c,_0xe561ca){const _0x32f0cf=a3_0x2db876;if(!_0x193a4c)return;if(_0x193a4c['settings']){if(_0x193a4c[_0x32f0cf(0x1f8)][_0x32f0cf(0x1c1)])availabilityPattern=_0x193a4c[_0x32f0cf(0x1f8)][_0x32f0cf(0x1c1)];if(_0x193a4c[_0x32f0cf(0x1f8)][_0x32f0cf(0x226)])specialRanges=_0x193a4c[_0x32f0cf(0x1f8)][_0x32f0cf(0x226)];if(_0x193a4c[_0x32f0cf(0x1f8)][_0x32f0cf(0x2aa)])dateExceptions=_0x193a4c['settings'][_0x32f0cf(0x2aa)];}if(_0x193a4c[_0x32f0cf(0x246)]&&Array['isArray'](_0x193a4c[_0x32f0cf(0x246)]))clients=_0x193a4c[_0x32f0cf(0x246)];_0x193a4c[_0x32f0cf(0x278)]&&(coachProfiles={...coachProfiles,..._0x193a4c[_0x32f0cf(0x278)]}),_0x193a4c['calendar']&&(sessions=sessions[_0x32f0cf(0x1dc)](_0x3f793c=>!_0x3f793c['dateStr'][_0x32f0cf(0x28b)](_0xe561ca)),Object[_0x32f0cf(0x277)](_0x193a4c['calendar'])[_0x32f0cf(0x260)](_0x5aa983=>{const _0x2b1b0c=_0x32f0cf,_0x267289=_0x193a4c[_0x2b1b0c(0x26b)][_0x5aa983];_0x267289['forEach'](_0x475fe1=>{const _0x10628e=_0x2b1b0c;sessions['push']({'id':_0x475fe1['i'],'clientId':_0x475fe1['c'],'coachId':_0x475fe1[_0x10628e(0x1fe)],'dateStr':_0xe561ca+'-'+_0x5aa983['padStart'](0x2,'0'),'start':_0x475fe1['s'],'end':_0x475fe1['e'],'note':_0x475fe1['n']||'','status':_0x475fe1['st']||_0x10628e(0x27a),'seriesId':_0x475fe1[_0x10628e(0x202)]});});})),reRenderBlocks();}};function init(){const _0xe0980c=a3_0x2db876;DataManager[_0xe0980c(0x279)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0xe0980c(0x237))[_0xe0980c(0x207)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xe0980c(0x25f)]();}function renderTimeColumn(){const _0x3b705c=a3_0x2db876,_0x5ea39f=document[_0x3b705c(0x1de)](_0x3b705c(0x1d2)),_0x2685b5=document[_0x3b705c(0x1de)](_0x3b705c(0x2c0));_0x5ea39f[_0x3b705c(0x2a3)]='',_0x5ea39f[_0x3b705c(0x255)](_0x2685b5);for(let _0x34d2b2=0x0;_0x34d2b2<0x18;_0x34d2b2++){const _0x4b4a6b=document[_0x3b705c(0x273)](_0x3b705c(0x2af));_0x4b4a6b[_0x3b705c(0x1d8)]=_0x3b705c(0x1c6);if(_0x34d2b2>0x0)_0x4b4a6b[_0x3b705c(0x2a3)]=_0x3b705c(0x294)+String(_0x34d2b2)[_0x3b705c(0x222)](0x2,'0')+_0x3b705c(0x20e);_0x5ea39f[_0x3b705c(0x255)](_0x4b4a6b);}}function renderDayRange(_0x35e016,_0x1cdd4f){const _0x7ed675=a3_0x2db876,_0x5a22a4=document[_0x7ed675(0x1de)]('daysHeaderTrack'),_0x52e397=document[_0x7ed675(0x1de)]('gridColumns'),_0x4890af=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5ff888=new Date();_0x5ff888['setHours'](0x0,0x0,0x0,0x0);const _0x571a32=getLocalDateStr(new Date());for(let _0x124e7b=_0x35e016;_0x124e7b<=_0x1cdd4f;_0x124e7b++){const _0x5a2bda=new Date(_0x5ff888);_0x5a2bda[_0x7ed675(0x270)](_0x5a2bda[_0x7ed675(0x25c)]()+_0x124e7b);const _0xcce4a0=getLocalDateStr(_0x5a2bda);let _0xc8fbdc=_0x5a2bda[_0x7ed675(0x2a9)]()-0x1;if(_0xc8fbdc===-0x1)_0xc8fbdc=0x6;const _0x594664=_0xcce4a0===_0x571a32,_0x3b05e8=document[_0x7ed675(0x273)](_0x7ed675(0x2af));_0x3b05e8['className']=_0x7ed675(0x24e)+(_0x594664?_0x7ed675(0x276):''),_0x3b05e8[_0x7ed675(0x1d1)](_0x7ed675(0x285),_0xcce4a0),_0x3b05e8[_0x7ed675(0x2a3)]=_0x7ed675(0x217)+_0x4890af[_0xc8fbdc]+_0x7ed675(0x290)+_0x5a2bda['getDate']()+'</div>',_0x5a22a4[_0x7ed675(0x255)](_0x3b05e8);const _0x5126e3=document[_0x7ed675(0x273)]('div');_0x5126e3[_0x7ed675(0x1d8)]=_0x7ed675(0x1f5)+(_0x594664?_0x7ed675(0x276):''),_0x5126e3['setAttribute'](_0x7ed675(0x285),_0xcce4a0),_0x5126e3[_0x7ed675(0x1d1)]('data-day-idx',_0xc8fbdc),_0x52e397[_0x7ed675(0x255)](_0x5126e3);}}function a3_0x4388(_0x2b3d76,_0x2b3df9){_0x2b3d76=_0x2b3d76-0x1c1;const _0x2799f5=a3_0x5f40();let _0x4e14f9=_0x2799f5[_0x2b3d76];return _0x4e14f9;}function reRenderBlocks(){const _0x50bd04=a3_0x2db876;document[_0x50bd04(0x256)](_0x50bd04(0x1df))[_0x50bd04(0x260)](_0x20799e=>{const _0x2f1e88=_0x50bd04;_0x20799e['querySelectorAll'](_0x2f1e88(0x1fc))['forEach'](_0xd2eff8=>_0xd2eff8[_0x2f1e88(0x2b0)]());const _0x405ba0=_0x20799e[_0x2f1e88(0x2ba)](_0x2f1e88(0x285)),_0x211cf9=parseInt(_0x20799e[_0x2f1e88(0x2ba)](_0x2f1e88(0x212))),_0x217b59=Math['round'](_0x20799e[_0x2f1e88(0x218)]);(availabilityPattern[_0x211cf9]||[])[_0x2f1e88(0x260)](_0x141fee=>{const _0x5799d6=_0x2f1e88,_0x2c37b4=document[_0x5799d6(0x273)]('div');_0x2c37b4[_0x5799d6(0x1d8)]='blocked-slot\x20stripe-bg',_0x2c37b4[_0x5799d6(0x2ae)][_0x5799d6(0x29e)]=_0x141fee*GRID_H+'px',_0x2c37b4['style'][_0x5799d6(0x242)]='-'+_0x217b59+_0x5799d6(0x233)+_0x141fee*GRID_H+'px',_0x20799e[_0x5799d6(0x255)](_0x2c37b4);});if(specialRanges['length']>0x0){const _0xb71af=new Date(_0x405ba0+_0x2f1e88(0x1f3))[_0x2f1e88(0x289)](),_0x5e9b89=new Date(_0x405ba0+_0x2f1e88(0x225))[_0x2f1e88(0x289)]();specialRanges[_0x2f1e88(0x260)](_0x1cdd26=>{const _0x2fc802=_0x2f1e88,_0xe92792=new Date(_0x1cdd26[_0x2fc802(0x2b4)])['getTime'](),_0x4f331c=new Date(_0x1cdd26[_0x2fc802(0x1e3)])['getTime'](),_0x3b36cb=Math['max'](_0xb71af,_0xe92792),_0x6c623b=Math[_0x2fc802(0x26e)](_0x5e9b89,_0x4f331c);if(_0x3b36cb<_0x6c623b){const _0x5cab36=(_0x3b36cb-_0xb71af)/0x36ee80*GRID_H,_0x448d85=(_0x6c623b-_0x3b36cb)/0x36ee80*GRID_H,_0x45f336=document[_0x2fc802(0x273)](_0x2fc802(0x2af));_0x448d85>=23.5*GRID_H?(_0x45f336[_0x2fc802(0x1d8)]=_0x2fc802(0x272),_0x45f336[_0x2fc802(0x2ae)][_0x2fc802(0x242)]='-'+_0x217b59+_0x2fc802(0x1e4)):(_0x45f336[_0x2fc802(0x1d8)]=_0x2fc802(0x271),_0x45f336[_0x2fc802(0x2ae)][_0x2fc802(0x29e)]=_0x5cab36+'px',_0x45f336[_0x2fc802(0x2ae)][_0x2fc802(0x1ee)]=_0x448d85+'px',_0x45f336[_0x2fc802(0x2ae)][_0x2fc802(0x242)]='-'+_0x217b59+_0x2fc802(0x233)+_0x5cab36+'px'),_0x20799e[_0x2fc802(0x255)](_0x45f336);}});}renderEventsForColumn(_0x20799e,_0x405ba0);});}function a3_0x5f40(){const _0x4982ab=['globalTimeLine','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','status','borderLeftColor','numeric','toLocaleDateString','initData','POST','cancelled','padStart','.period-switch\x20.p-btn','display','T23:59:59','ranges','custom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','scrollLeft','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','anDonutCircle','backgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','reschedule','client_load','uc_client_settings','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','42794afDHag','px\x20-','push','querySelector','stopPropagation','matrixViewport','15IxlJms','show','firstChild','13937JxHfHc','#0a84ff','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rs-date-chip','seriesId','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','WebApp','backgroundPosition','</div>','.rs-date-chip','findIndex','clients','charAt','saveLocally','var(--acc-blue)','colIndex','data','then','max','day-col-header\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rgba(10,\x20132,\x20255,\x20','long','setItem','substr','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','appendChild','querySelectorAll','analyticsList','visible','clientWidth','228288nQPtbt','getHours','getDate','rgba(','rs-time-btn','syncLoad','forEach','onClick','anCustomDates','color','ccText','join','scrollWidth','rsSlotsGrid','offsetWidth','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Error\x20setting\x20color:','calendar','all','user','min','#ff453a','setDate','blocked-range-part\x20stripe-bg','day-off-overlay\x20stripe-bg','createElement','</span>\x20/\x20','mini','today','keys','coach_profiles','loadLocal','planned','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','find','scrollTop','detStatus','calc(','\x20—á.','anTotalStats','week','440982EJqCsj','380728JyiuOn','data-date','cancelContainer','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','getTime','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','startsWith','analyticsSheet','getMonth','v9.5-CLIENT-ANALYTICS','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','</div><div\x20class=\x22dch-num\x22>','detDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','length','<span>','rsDatesTrack','router.html','(((.+)+)+)+$','auto','toString','block','onclick','getMinutes','total','top','getItem','278086WWTLxp','flex','\x20-\x20','innerHTML','zIndex','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','error','round','getDay','exceptions','expand','overlay','location','style','div','remove','getFullYear','Critical\x20TMA\x20Error:','dateStr','start','anStart','389490moHUfe','Unknown','toast','setHours','getAttribute','json','parse','search','anEnd','27yvdYQM','timeLineBadge','toUpperCase','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','customConfirm','now','pattern','ccYesBtn','test','none','scrollTo','time-label','map','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','ccTitle','ru-RU','active','width','880YFoXsJ','setMonth','initDataUnsafe','value','setAttribute','timeColumn','var(--acc-green)','fontWeight','applyData','coachId','button','className','</div><div\x20class=\x22rs-day-num\x22>','month','Telegram','filter','constructor','getElementById','.day-column','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20–∏–∑\x20','setBackgroundColor','end','px\x200px','strokeDashoffset','open','textContent','.day-col-header','done','note','BackButton','apply','.sheet','height','classList','slice','–û—Ç–º–µ–Ω–µ–Ω–æ','offClick','T00:00:00','#050505','day-column\x20','<div\x20class=\x22rs-day-name\x22>','href','settings','disableVerticalSwipes','clientId','toLocaleString','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','insertBefore','cid','detailsSheet','gridColumns','\x20–≤\x20','sid','add','split','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20status-completed','addEventListener','.btn-reschedule','DOMContentLoaded','client-stat-card','sort','ready','detNote',':00</span>','headerMonth','stringify','event-card','data-day-idx','rescheduleSheet','completed','%\x20-\x204px)','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','<div\x20class=\x22dch-day\x22>','offsetLeft'];a3_0x5f40=function(){return _0x4982ab;};return a3_0x5f40();}function renderEventsForColumn(_0x3338e0,_0x311d8d){const _0x514e15=a3_0x2db876,_0x4c024c=sessions['filter'](_0x22997d=>_0x22997d['dateStr']===_0x311d8d),_0x5af23a=_0x4c024c[_0x514e15(0x1c7)](_0x35776e=>{const _0x424a44=_0x514e15,[_0x12d043,_0x5d1355]=_0x35776e[_0x424a44(0x2b4)]['split'](':')[_0x424a44(0x1c7)](Number),[_0x23ebc9,_0x8b1115]=_0x35776e[_0x424a44(0x1e3)]['split'](':')[_0x424a44(0x1c7)](Number);return{'data':_0x35776e,'start':_0x12d043*0x3c+_0x5d1355,'end':_0x23ebc9*0x3c+_0x8b1115,'colIndex':0x0};});_0x5af23a[_0x514e15(0x20b)]((_0x196bfd,_0x33774e)=>_0x196bfd['start']-_0x33774e[_0x514e15(0x2b4)]||_0x33774e[_0x514e15(0x1e3)]-_0x33774e[_0x514e15(0x2b4)]-(_0x196bfd[_0x514e15(0x1e3)]-_0x196bfd['start']));const _0xafc3b1=[];_0x5af23a[_0x514e15(0x260)](_0x135e6b=>{const _0x2a0ee9=_0x514e15;let _0x5ca0cd=![];for(let _0x12bb2f=0x0;_0x12bb2f<_0xafc3b1['length'];_0x12bb2f++){const _0x11439d=_0xafc3b1[_0x12bb2f];if(_0x135e6b[_0x2a0ee9(0x2b4)]>=_0x11439d[_0x11439d[_0x2a0ee9(0x293)]-0x1][_0x2a0ee9(0x1e3)]){_0x11439d[_0x2a0ee9(0x234)](_0x135e6b),_0x135e6b['colIndex']=_0x12bb2f,_0x5ca0cd=!![];break;}}!_0x5ca0cd&&(_0xafc3b1[_0x2a0ee9(0x234)]([_0x135e6b]),_0x135e6b[_0x2a0ee9(0x24a)]=_0xafc3b1[_0x2a0ee9(0x293)]-0x1);}),_0x5af23a['forEach'](_0x7ee197=>{const _0x28067a=_0x514e15;let _0x54a45a=0x0;_0x5af23a[_0x28067a(0x260)](_0x1b9802=>{const _0x2f27ee=_0x28067a;if(Math['max'](_0x7ee197[_0x2f27ee(0x2b4)],_0x1b9802['start'])<Math[_0x2f27ee(0x26e)](_0x7ee197[_0x2f27ee(0x1e3)],_0x1b9802['end'])&&_0x1b9802['colIndex']>_0x54a45a)_0x54a45a=_0x1b9802[_0x2f27ee(0x24a)];});const _0x4d5f8b=_0x54a45a+0x1,_0x451fab=0x64/_0x4d5f8b,_0x4eded9=_0x7ee197['colIndex']*_0x451fab,_0x4bfe5d=document['createElement']('div'),_0x5040bf=_0x7ee197[_0x28067a(0x24b)];let _0x6bbfac=_0x28067a(0x23c);if(clients&&clients[_0x28067a(0x293)]>0x0){const _0x1256e1=clients[_0x28067a(0x27c)](_0xcd5b79=>String(_0xcd5b79['id'])===String(_0x5040bf[_0x28067a(0x1fa)]));if(_0x1256e1&&_0x1256e1[_0x28067a(0x263)])_0x6bbfac=_0x1256e1[_0x28067a(0x263)];}const _0x27f802=_0x5040bf[_0x28067a(0x21b)]===_0x28067a(0x214),_0x3ebb8c=_0x27f802?0x1:0.45;_0x4bfe5d[_0x28067a(0x1d8)]=_0x28067a(0x211)+(_0x27f802?_0x28067a(0x206):''),_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x22c)]=hexToRgba(_0x6bbfac,_0x3ebb8c),_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x21c)]=_0x6bbfac;const _0x3210ca=_0x7ee197[_0x28067a(0x2b4)]/0x3c*GRID_H,_0x34d87a=(_0x7ee197[_0x28067a(0x1e3)]-_0x7ee197[_0x28067a(0x2b4)])/0x3c*GRID_H;_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x29e)]=_0x3210ca+'px',_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x1ee)]=Math[_0x28067a(0x24d)](_0x34d87a,0x14)+'px',_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x1cc)]=_0x28067a(0x27f)+_0x451fab+_0x28067a(0x215),_0x4bfe5d[_0x28067a(0x2ae)]['left']='calc('+_0x4eded9+'%\x20+\x202px)',_0x4bfe5d[_0x28067a(0x2ae)][_0x28067a(0x2a4)]=0xa+_0x7ee197[_0x28067a(0x24a)];if(_0x451fab<0x55)_0x4bfe5d['classList'][_0x28067a(0x203)](_0x28067a(0x275));let _0x6b5d6='';if(_0x5040bf[_0x28067a(0x23f)])_0x6b5d6+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x27f802)_0x6b5d6+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x4bfe5d[_0x28067a(0x2a3)]=_0x28067a(0x228)+_0x5040bf[_0x28067a(0x2b4)]+_0x28067a(0x2a2)+_0x5040bf[_0x28067a(0x1e3)]+_0x28067a(0x1e0)+_0x6b5d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4bfe5d['onclick']=_0x333b34=>{const _0x1a28d8=_0x28067a;_0x333b34[_0x1a28d8(0x236)](),openDetails(_0x5040bf);},_0x3338e0[_0x28067a(0x255)](_0x4bfe5d);});}function openAnalytics(){const _0x4f4e37=a3_0x2db876,_0x4e0eb1=document[_0x4f4e37(0x235)](_0x4f4e37(0x223));setAnalyticsPeriod(_0x4f4e37(0x282),_0x4e0eb1),openSheet(_0x4f4e37(0x28c));}function setAnalyticsPeriod(_0x13f941,_0x2ce905){const _0x3fcae8=a3_0x2db876;currentAnPeriod=_0x13f941,document[_0x3fcae8(0x256)]('.period-switch\x20.p-btn')[_0x3fcae8(0x260)](_0xcc163d=>_0xcc163d[_0x3fcae8(0x1ef)][_0x3fcae8(0x2b0)]('active'));if(_0x2ce905)_0x2ce905[_0x3fcae8(0x1ef)][_0x3fcae8(0x203)](_0x3fcae8(0x1cb));const _0x123d82=document['getElementById'](_0x3fcae8(0x262));_0x123d82[_0x3fcae8(0x2ae)]['display']=_0x13f941===_0x3fcae8(0x227)?_0x3fcae8(0x2a1):_0x3fcae8(0x1c4);const _0x492602=new Date();let _0xff1636=new Date(),_0x15b972=new Date();if(_0x13f941==='week')_0xff1636=getStartOfWeek(_0x492602),_0x15b972=new Date(_0xff1636),_0x15b972['setDate'](_0x15b972[_0x3fcae8(0x25c)]()+0x6);else{if(_0x13f941===_0x3fcae8(0x1da))_0xff1636=new Date(_0x492602[_0x3fcae8(0x2b1)](),_0x492602[_0x3fcae8(0x28d)](),0x1),_0x15b972=new Date(_0x492602[_0x3fcae8(0x2b1)](),_0x492602[_0x3fcae8(0x28d)]()+0x1,0x0);else{!document[_0x3fcae8(0x1de)](_0x3fcae8(0x2b5))[_0x3fcae8(0x1d0)]&&(document[_0x3fcae8(0x1de)](_0x3fcae8(0x2b5))['value']=getLocalDateStr(_0x492602),document[_0x3fcae8(0x1de)](_0x3fcae8(0x2be))['value']=getLocalDateStr(_0x492602));refreshAnalytics();return;}}document[_0x3fcae8(0x1de)]('anStart')['value']=getLocalDateStr(_0xff1636),document['getElementById'](_0x3fcae8(0x2be))[_0x3fcae8(0x1d0)]=getLocalDateStr(_0x15b972),refreshAnalytics();}function refreshAnalytics(){const _0xbc065f=a3_0x2db876,_0x6e2b68=document['getElementById'](_0xbc065f(0x2b5))[_0xbc065f(0x1d0)],_0x2769e3=document[_0xbc065f(0x1de)](_0xbc065f(0x2be))[_0xbc065f(0x1d0)];if(!_0x6e2b68||!_0x2769e3)return;const _0x556f77=sessions[_0xbc065f(0x1dc)](_0xd514ca=>_0xd514ca[_0xbc065f(0x2b3)]>=_0x6e2b68&&_0xd514ca[_0xbc065f(0x2b3)]<=_0x2769e3&&_0xd514ca[_0xbc065f(0x21b)]!==_0xbc065f(0x221)),_0x15bb7=_0x556f77[_0xbc065f(0x293)],_0x3baca0=_0x556f77[_0xbc065f(0x1dc)](_0x556aa7=>_0x556aa7[_0xbc065f(0x21b)]===_0xbc065f(0x214))[_0xbc065f(0x293)],_0xa484b2=_0x15bb7>0x0?Math[_0xbc065f(0x2a8)](_0x3baca0/_0x15bb7*0x64):0x0;document['getElementById']('anPercent')[_0xbc065f(0x1e7)]=_0xa484b2+'%',document['getElementById'](_0xbc065f(0x281))['textContent']=_0x3baca0+_0xbc065f(0x1e1)+_0x15bb7+_0xbc065f(0x287);const _0x37022b=document[_0xbc065f(0x1de)](_0xbc065f(0x22b)),_0x2cc861=0x2*Math['PI']*0x23,_0x1a2278=_0x2cc861-_0xa484b2/0x64*_0x2cc861;_0x37022b[_0xbc065f(0x2ae)][_0xbc065f(0x1e5)]=_0x1a2278;const _0x4e14d7={};_0x556f77[_0xbc065f(0x260)](_0x252643=>{const _0x3c1e8e=_0xbc065f,_0x396fdc=_0x252643['coachId']||_0x3c1e8e(0x2b7);if(!_0x4e14d7[_0x396fdc]){const _0x2967df='#'+_0x396fdc[_0x3c1e8e(0x299)]()[_0x3c1e8e(0x253)](0x0,0x6);_0x4e14d7[_0x396fdc]={'total':0x0,'done':0x0,'color':_0x2967df};}_0x4e14d7[_0x396fdc][_0x3c1e8e(0x29d)]++;if(_0x252643[_0x3c1e8e(0x21b)]===_0x3c1e8e(0x214))_0x4e14d7[_0x396fdc][_0x3c1e8e(0x1e9)]++;});const _0x43e6dc=document[_0xbc065f(0x1de)](_0xbc065f(0x257));_0x43e6dc[_0xbc065f(0x2a3)]='';const _0x15f40f=Object['entries'](_0x4e14d7)[_0xbc065f(0x20b)]((_0x2e2f60,_0x3af3bf)=>_0x3af3bf[0x1][_0xbc065f(0x29d)]-_0x2e2f60[0x1][_0xbc065f(0x29d)]);if(_0x15f40f[_0xbc065f(0x293)]===0x0){_0x43e6dc['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x15f40f['forEach'](([_0x41da21,_0x2438ce])=>{const _0x48e12b=_0xbc065f,_0x199e36=Math['round'](_0x2438ce[_0x48e12b(0x1e9)]/_0x2438ce[_0x48e12b(0x29d)]*0x64),_0x3d763c=document[_0x48e12b(0x273)](_0x48e12b(0x2af));_0x3d763c['className']=_0x48e12b(0x20a),_0x3d763c[_0x48e12b(0x2ae)][_0x48e12b(0x21c)]=_0x2438ce['color'],_0x3d763c['innerHTML']=_0x48e12b(0x292)+_0x41da21[_0x48e12b(0x253)](0x0,0x5)+_0x48e12b(0x22d)+_0x2438ce[_0x48e12b(0x1e9)]+_0x48e12b(0x274)+_0x2438ce['total']+_0x48e12b(0x205)+_0x199e36+_0x48e12b(0x231),_0x43e6dc[_0x48e12b(0x255)](_0x3d763c);});}function openDetails(_0x3632dc){const _0x21937e=a3_0x2db876;currentSession=_0x3632dc;const _0x2c27c5=new Date(_0x3632dc[_0x21937e(0x2b3)]),_0x2703a5=_0x2c27c5[_0x21937e(0x21e)]('ru-RU',{'weekday':_0x21937e(0x251),'day':_0x21937e(0x21d),'month':_0x21937e(0x251)});document[_0x21937e(0x1de)](_0x21937e(0x291))[_0x21937e(0x1e7)]=_0x2703a5[_0x21937e(0x247)](0x0)[_0x21937e(0x2c1)]()+_0x2703a5[_0x21937e(0x1f0)](0x1),document[_0x21937e(0x1de)]('detTime')['textContent']=_0x3632dc[_0x21937e(0x2b4)]+_0x21937e(0x2a2)+_0x3632dc[_0x21937e(0x1e3)],document[_0x21937e(0x1de)](_0x21937e(0x20d))[_0x21937e(0x1e7)]=_0x3632dc[_0x21937e(0x1ea)]||_0x21937e(0x2c2);const _0x4ff74c=document['getElementById'](_0x21937e(0x27e)),_0x3c4f47=document[_0x21937e(0x1de)](_0x21937e(0x286)),_0x12a2c1=_0x3c4f47[_0x21937e(0x235)]('.btn-cancel'),_0x3c755e=_0x3c4f47[_0x21937e(0x235)](_0x21937e(0x208)),_0x1906c9=document[_0x21937e(0x1de)]('cancelHint');if(_0x3632dc[_0x21937e(0x21b)]===_0x21937e(0x214))_0x4ff74c['textContent']=_0x21937e(0x28a),_0x4ff74c[_0x21937e(0x2ae)][_0x21937e(0x263)]=_0x21937e(0x1d3),_0x3c4f47[_0x21937e(0x2ae)]['display']=_0x21937e(0x1c4);else{_0x4ff74c[_0x21937e(0x1e7)]=_0x21937e(0x24f),_0x4ff74c[_0x21937e(0x2ae)][_0x21937e(0x263)]=_0x21937e(0x249),_0x3c4f47['style'][_0x21937e(0x224)]=_0x21937e(0x29a);const _0x4bf62c=new Date(_0x3632dc['dateStr']+'T'+_0x3632dc[_0x21937e(0x2b4)]),_0xeedaff=new Date(),_0x400c5b=(_0x4bf62c-_0xeedaff)/(0x3e8*0x3c*0x3c),_0x2f0f91=coachProfiles[_0x3632dc[_0x21937e(0x1d6)]]&&coachProfiles[_0x3632dc['coachId']]['cancel_window']?parseInt(coachProfiles[_0x3632dc['coachId']]['cancel_window']):0x18;if(_0x2f0f91===0x0||_0x400c5b>=_0x2f0f91)_0x12a2c1[_0x21937e(0x2ae)][_0x21937e(0x224)]=_0x21937e(0x29a),_0x3c755e[_0x21937e(0x2ae)][_0x21937e(0x224)]=_0x21937e(0x29a),_0x1906c9[_0x21937e(0x2ae)][_0x21937e(0x224)]=_0x21937e(0x1c4);else{_0x12a2c1[_0x21937e(0x2ae)][_0x21937e(0x224)]='none',_0x3c755e[_0x21937e(0x2ae)][_0x21937e(0x224)]=_0x21937e(0x1c4),_0x1906c9[_0x21937e(0x2ae)][_0x21937e(0x224)]=_0x21937e(0x29a);let _0x476e17=_0x2f0f91===0x0?_0x21937e(0x1c8):'–∑–∞\x20'+_0x2f0f91+_0x21937e(0x280);_0x1906c9[_0x21937e(0x1e7)]=_0x21937e(0x240)+_0x476e17+_0x21937e(0x22a);}}document[_0x21937e(0x1de)](_0x21937e(0x2ac))[_0x21937e(0x1ef)][_0x21937e(0x203)](_0x21937e(0x1cb)),document[_0x21937e(0x1de)](_0x21937e(0x1ff))[_0x21937e(0x1ef)]['add'](_0x21937e(0x1e6));}function closeAllSheets(){const _0x13bc32=a3_0x2db876;document[_0x13bc32(0x1de)](_0x13bc32(0x2ac))[_0x13bc32(0x1ef)]['remove']('active'),document[_0x13bc32(0x256)](_0x13bc32(0x1ed))['forEach'](_0x1a7bb0=>_0x1a7bb0[_0x13bc32(0x1ef)][_0x13bc32(0x2b0)](_0x13bc32(0x1e6)));}function openSheet(_0x253967){const _0x4dc904=a3_0x2db876;document[_0x4dc904(0x1de)](_0x4dc904(0x2ac))[_0x4dc904(0x1ef)][_0x4dc904(0x203)]('active'),document[_0x4dc904(0x1de)](_0x253967)[_0x4dc904(0x1ef)][_0x4dc904(0x203)](_0x4dc904(0x1e6));}function getLocalDateStr(_0x1bd830){const _0x596909=a3_0x2db876,_0xb2ced5=_0x1bd830['getFullYear'](),_0x11e147=String(_0x1bd830[_0x596909(0x28d)]()+0x1)[_0x596909(0x222)](0x2,'0'),_0x57b632=String(_0x1bd830[_0x596909(0x25c)]())[_0x596909(0x222)](0x2,'0');return _0xb2ced5+'-'+_0x11e147+'-'+_0x57b632;}function getStartOfWeek(_0xd3b9a3){const _0x510caf=a3_0x2db876,_0x1610b6=new Date(_0xd3b9a3),_0x842b8=_0x1610b6[_0x510caf(0x2a9)](),_0x5b25e0=_0x1610b6[_0x510caf(0x25c)]()-_0x842b8+(_0x842b8===0x0?-0x6:0x1);return _0x1610b6[_0x510caf(0x270)](_0x5b25e0),_0x1610b6[_0x510caf(0x2b9)](0x0,0x0,0x0,0x0),_0x1610b6;}function scrollToToday(){const _0x3e39e3=getLocalDateStr(new Date());setTimeout(()=>{const _0x32995e=a3_0x4388,_0x45df8f=document[_0x32995e(0x235)]('.day-col-header[data-date=\x22'+_0x3e39e3+'\x22]');if(_0x45df8f){const _0x155cf5=document[_0x32995e(0x1de)](_0x32995e(0x237)),_0x589224=_0x45df8f['offsetLeft']-_0x155cf5[_0x32995e(0x259)]/0x2+_0x45df8f[_0x32995e(0x268)]/0x2;_0x155cf5[_0x32995e(0x1c5)]({'left':_0x589224,'behavior':_0x32995e(0x298)}),_0x155cf5[_0x32995e(0x27d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1ef0ed=a3_0x2db876,_0x43a0d0=new Date(),_0x484aac=document[_0x1ef0ed(0x1de)](_0x1ef0ed(0x219)),_0xb88915=document[_0x1ef0ed(0x1de)](_0x1ef0ed(0x2c0)),_0x4ffa94=(_0x43a0d0[_0x1ef0ed(0x25b)]()*0x3c+_0x43a0d0[_0x1ef0ed(0x29c)]())/0x3c*GRID_H;_0x484aac['style'][_0x1ef0ed(0x29e)]=_0x4ffa94+'px',_0x484aac[_0x1ef0ed(0x2ae)][_0x1ef0ed(0x224)]='block',_0xb88915[_0x1ef0ed(0x2ae)][_0x1ef0ed(0x29e)]=_0x4ffa94+'px',_0xb88915['style'][_0x1ef0ed(0x224)]=_0x1ef0ed(0x29a),_0xb88915['textContent']=String(_0x43a0d0[_0x1ef0ed(0x25b)]())[_0x1ef0ed(0x222)](0x2,'0')+':'+String(_0x43a0d0[_0x1ef0ed(0x29c)]())[_0x1ef0ed(0x222)](0x2,'0');}function onScroll(){const _0x92b437=a3_0x2db876,_0x3576e0=document[_0x92b437(0x1de)](_0x92b437(0x237)),_0x2f96df=document[_0x92b437(0x256)](_0x92b437(0x1e8));for(let _0x48d694 of _0x2f96df)if(_0x48d694[_0x92b437(0x218)]>=_0x3576e0[_0x92b437(0x229)]){const _0x4d8be9=new Date(_0x48d694[_0x92b437(0x2ba)]('data-date'));document['getElementById'](_0x92b437(0x20f))['textContent']=_0x4d8be9[_0x92b437(0x1fb)]('ru',{'month':_0x92b437(0x251)})[_0x92b437(0x2c1)]()+'\x20'+_0x4d8be9['getFullYear']();break;}}function showToast(_0x53e741){const _0x114f21=a3_0x2db876,_0x3b7ddb=document['getElementById'](_0x114f21(0x2b8));_0x3b7ddb['textContent']=_0x53e741,_0x3b7ddb[_0x114f21(0x1ef)][_0x114f21(0x203)](_0x114f21(0x239)),setTimeout(()=>_0x3b7ddb[_0x114f21(0x1ef)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x1becc9=a3_0x2db876,_0x4fcd9b=document[_0x1becc9(0x1de)](_0x1becc9(0x237)),_0x18eebb=_0x4fcd9b[_0x1becc9(0x229)],_0x501fb9=_0x4fcd9b[_0x1becc9(0x266)],_0x576ee6=_0x4fcd9b['clientWidth'];if(_0x501fb9-(_0x18eebb+_0x576ee6)<0x12c){const _0x4bcd20=endOffset;endOffset+=0xe,renderDayRange(_0x4bcd20+0x1,endOffset),reRenderBlocks();}if(_0x18eebb<0x12c){const _0x3274f6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3274f6-0x1),_0x4fcd9b[_0x1becc9(0x229)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x99e90,_0x7ae1d4){const _0x17c672=a3_0x2db876,_0x1fad67=document['getElementById']('daysHeaderTrack'),_0x29f20a=document['getElementById'](_0x17c672(0x200)),_0x4ecf00=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2c26f4=new Date();_0x2c26f4[_0x17c672(0x2b9)](0x0,0x0,0x0,0x0);const _0x3fa2f6=getLocalDateStr(new Date()),_0x3945ed=document['createDocumentFragment'](),_0x2ceb97=document['createDocumentFragment']();for(let _0x36fb9f=_0x99e90;_0x36fb9f<=_0x7ae1d4;_0x36fb9f++){const _0x2cefcd=new Date(_0x2c26f4);_0x2cefcd[_0x17c672(0x270)](_0x2cefcd['getDate']()+_0x36fb9f);const _0x2c1c6d=getLocalDateStr(_0x2cefcd);let _0xeb4723=_0x2cefcd['getDay']()-0x1;if(_0xeb4723===-0x1)_0xeb4723=0x6;const _0x5ad1a5=_0x2c1c6d===_0x3fa2f6,_0x4b1483=document[_0x17c672(0x273)](_0x17c672(0x2af));_0x4b1483[_0x17c672(0x1d8)]=_0x17c672(0x24e)+(_0x5ad1a5?_0x17c672(0x276):''),_0x4b1483['setAttribute']('data-date',_0x2c1c6d),_0x4b1483[_0x17c672(0x2a3)]=_0x17c672(0x217)+_0x4ecf00[_0xeb4723]+_0x17c672(0x290)+_0x2cefcd[_0x17c672(0x25c)]()+'</div>',_0x3945ed[_0x17c672(0x255)](_0x4b1483);const _0x2b44ba=document[_0x17c672(0x273)](_0x17c672(0x2af));_0x2b44ba[_0x17c672(0x1d8)]=_0x17c672(0x1f5)+(_0x5ad1a5?_0x17c672(0x276):''),_0x2b44ba[_0x17c672(0x1d1)]('data-date',_0x2c1c6d),_0x2b44ba[_0x17c672(0x1d1)]('data-day-idx',_0xeb4723),_0x2ceb97[_0x17c672(0x255)](_0x2b44ba);}_0x1fad67[_0x17c672(0x1fd)](_0x3945ed,_0x1fad67[_0x17c672(0x23a)]),_0x29f20a['insertBefore'](_0x2ceb97,_0x29f20a[_0x17c672(0x235)](_0x17c672(0x1df)));}function hexToRgba(_0x396ed6,_0x51b397){const _0x156652=a3_0x2db876;let _0x5a15cc;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x156652(0x1c3)](_0x396ed6))return _0x5a15cc=_0x396ed6['substring'](0x1)[_0x156652(0x204)](''),_0x5a15cc[_0x156652(0x293)]==0x3&&(_0x5a15cc=[_0x5a15cc[0x0],_0x5a15cc[0x0],_0x5a15cc[0x1],_0x5a15cc[0x1],_0x5a15cc[0x2],_0x5a15cc[0x2]]),_0x5a15cc='0x'+_0x5a15cc[_0x156652(0x265)](''),_0x156652(0x25d)+[_0x5a15cc>>0x10&0xff,_0x5a15cc>>0x8&0xff,_0x5a15cc&0xff]['join'](',')+','+_0x51b397+')';return _0x156652(0x250)+_0x51b397+')';}let confirmResolver=null;function showCustomConfirm(_0x183e92,_0x39c1d5,_0x5c9d79=!![]){const _0x594dbd=a3_0x2db876;document[_0x594dbd(0x1de)](_0x594dbd(0x1c9))[_0x594dbd(0x1e7)]=_0x183e92,document[_0x594dbd(0x1de)](_0x594dbd(0x264))[_0x594dbd(0x1e7)]=_0x39c1d5;const _0x67d9bb=document[_0x594dbd(0x1de)](_0x594dbd(0x1c2));return _0x5c9d79?(_0x67d9bb[_0x594dbd(0x2ae)][_0x594dbd(0x263)]=_0x594dbd(0x26f),_0x67d9bb['style'][_0x594dbd(0x1d4)]='600'):(_0x67d9bb[_0x594dbd(0x2ae)][_0x594dbd(0x263)]='#0a84ff',_0x67d9bb[_0x594dbd(0x2ae)][_0x594dbd(0x1d4)]='600'),new Promise(_0x19d107=>{const _0x3e9ce8=_0x594dbd;confirmResolver=_0x19d107,document['getElementById'](_0x3e9ce8(0x2c3))['classList'][_0x3e9ce8(0x203)]('visible');});}function resolveCustomConfirm(_0x1b7874){const _0x2edf65=a3_0x2db876;document[_0x2edf65(0x1de)](_0x2edf65(0x2c3))[_0x2edf65(0x1ef)]['remove'](_0x2edf65(0x258));if(confirmResolver)confirmResolver(_0x1b7874);}async function tryCancelCurrentSession(){const _0x226df6=a3_0x2db876;if(!currentSession)return;const _0x224f34=await showCustomConfirm(_0x226df6(0x21a),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x224f34)return;const _0x128536=currentSession;closeAllSheets(),sessions=sessions[_0x226df6(0x1dc)](_0x1e376d=>_0x1e376d['id']!==_0x128536['id']),reRenderBlocks(),showToast(_0x226df6(0x1f1)),lastUserActionTime=Date['now']();try{const _0x8fe784=window['Telegram']?.[_0x226df6(0x241)],_0x5564e9=await fetch(API_URL,{'method':'POST','body':JSON[_0x226df6(0x210)]({'action':'client_cancel','init_data':_0x8fe784?.[_0x226df6(0x21f)]||'','coachId':_0x128536[_0x226df6(0x1d6)],'dateStr':_0x128536[_0x226df6(0x2b3)],'sessionId':_0x128536['id']})});if(_0x5564e9['ok'])DataManager['saveLocally']();}catch(_0x3cf584){showToast(_0x226df6(0x216));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3db1fb=a3_0x2db876;if(!currentSession)return;document[_0x3db1fb(0x1de)](_0x3db1fb(0x1ff))[_0x3db1fb(0x1ef)][_0x3db1fb(0x2b0)](_0x3db1fb(0x1e6)),document[_0x3db1fb(0x1de)](_0x3db1fb(0x213))[_0x3db1fb(0x1ef)][_0x3db1fb(0x203)](_0x3db1fb(0x1e6));const _0x1fb8c3=document[_0x3db1fb(0x1de)](_0x3db1fb(0x295)),_0x14e6ee=document[_0x3db1fb(0x1de)](_0x3db1fb(0x267));_0x1fb8c3['innerHTML']='',_0x14e6ee[_0x3db1fb(0x2a3)]=_0x3db1fb(0x28f);const [_0x511951,_0x458b04]=currentSession[_0x3db1fb(0x2b4)][_0x3db1fb(0x204)](':')[_0x3db1fb(0x1c7)](Number),[_0x3cf18b,_0xdaa0a6]=currentSession[_0x3db1fb(0x1e3)][_0x3db1fb(0x204)](':')[_0x3db1fb(0x1c7)](Number),_0x1d6564=_0x3cf18b*0x3c+_0xdaa0a6-(_0x511951*0x3c+_0x458b04);try{const _0x97e9db=window['Telegram']?.[_0x3db1fb(0x241)],_0x2d28ca=await fetch(API_URL,{'method':_0x3db1fb(0x220),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x3db1fb(0x1d6)],'duration':_0x1d6564,'init_data':_0x97e9db?.['initData']||'','excludeSessionId':currentSession['id']})}),_0xc0a772=await _0x2d28ca[_0x3db1fb(0x2bb)]();_0xc0a772['ok']&&_0xc0a772[_0x3db1fb(0x24b)]?(availableSlotsCache=_0xc0a772[_0x3db1fb(0x24b)],renderRescheduleDates()):_0x14e6ee[_0x3db1fb(0x2a3)]=_0x3db1fb(0x2a6);}catch(_0x1f3093){_0x14e6ee['innerHTML']=_0x3db1fb(0x288);}}function renderRescheduleDates(){const _0x43ad3b=a3_0x2db876,_0x4ce2fd=document[_0x43ad3b(0x1de)](_0x43ad3b(0x295));_0x4ce2fd[_0x43ad3b(0x2a3)]='';const _0x416c82=Object['keys'](availableSlotsCache)[_0x43ad3b(0x20b)](),_0xe6893e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x416c82['length']===0x0){document[_0x43ad3b(0x1de)](_0x43ad3b(0x267))[_0x43ad3b(0x2a3)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x416c82[_0x43ad3b(0x260)]((_0x41eea8,_0x51642e)=>{const _0x27763d=_0x43ad3b,_0x1f8cbf=new Date(_0x41eea8),_0x4e94c2=_0xe6893e[_0x1f8cbf[_0x27763d(0x2a9)]()],_0x546a61=_0x1f8cbf[_0x27763d(0x25c)](),_0xe5bd6d=document['createElement'](_0x27763d(0x2af));_0xe5bd6d[_0x27763d(0x1d8)]=_0x27763d(0x23e);if(_0x51642e===0x0)_0xe5bd6d[_0x27763d(0x1ef)][_0x27763d(0x203)]('active');_0xe5bd6d[_0x27763d(0x2a3)]=_0x27763d(0x1f6)+_0x4e94c2+_0x27763d(0x1d9)+_0x546a61+_0x27763d(0x243),_0xe5bd6d['onclick']=()=>selectRsDate(_0x41eea8,_0xe5bd6d),_0x4ce2fd['appendChild'](_0xe5bd6d);}),selectRsDate(_0x416c82[0x0],_0x4ce2fd['firstChild']);}function selectRsDate(_0x417731,_0x21318f){const _0x4749dc=a3_0x2db876;selectedRsDate=_0x417731,document[_0x4749dc(0x256)](_0x4749dc(0x244))[_0x4749dc(0x260)](_0x239842=>_0x239842['classList'][_0x4749dc(0x2b0)](_0x4749dc(0x1cb)));if(_0x21318f)_0x21318f[_0x4749dc(0x1ef)][_0x4749dc(0x203)](_0x4749dc(0x1cb));const _0x270804=document[_0x4749dc(0x1de)](_0x4749dc(0x267));_0x270804[_0x4749dc(0x2a3)]='';const _0x2cbf71=availableSlotsCache[_0x417731]||[];if(_0x2cbf71[_0x4749dc(0x293)]===0x0){_0x270804[_0x4749dc(0x2a3)]=_0x4749dc(0x2a6);return;}_0x2cbf71['forEach'](_0x58e5a0=>{const _0x38d59f=_0x4749dc,_0x3ded91=document[_0x38d59f(0x273)](_0x38d59f(0x1d7));_0x3ded91['className']=_0x38d59f(0x25e),_0x3ded91[_0x38d59f(0x1e7)]=_0x58e5a0,_0x3ded91[_0x38d59f(0x29b)]=()=>confirmReschedule(_0x58e5a0),_0x270804[_0x38d59f(0x255)](_0x3ded91);});}async function confirmReschedule(_0x29f975){const _0x3f277f=a3_0x2db876,_0x416066=new Date(selectedRsDate),_0xdaaded=_0x416066['toLocaleDateString'](_0x3f277f(0x1ca),{'day':_0x3f277f(0x21d),'month':_0x3f277f(0x251)}),_0x56c21d=await showCustomConfirm(_0x3f277f(0x27b),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0xdaaded+_0x3f277f(0x201)+_0x29f975+'?',![]);if(!_0x56c21d)return;closeAllSheets(),showToast(_0x3f277f(0x23d)),lastUserActionTime=Date['now']();const _0x27d8c5=currentSession[_0x3f277f(0x2b3)],_0x59216a=currentSession['id'],[_0x1f60dc,_0x100d6a]=currentSession['start'][_0x3f277f(0x204)](':')[_0x3f277f(0x1c7)](Number),[_0x5df717,_0x52bd71]=currentSession[_0x3f277f(0x1e3)][_0x3f277f(0x204)](':')['map'](Number),_0x2a5edc=_0x5df717*0x3c+_0x52bd71-(_0x1f60dc*0x3c+_0x100d6a),[_0x2306c5,_0x528c2a]=_0x29f975[_0x3f277f(0x204)](':')[_0x3f277f(0x1c7)](Number),_0x1cf4d0=_0x2306c5*0x3c+_0x528c2a+_0x2a5edc,_0x2eac54=Math['floor'](_0x1cf4d0/0x3c),_0x1e33e2=_0x1cf4d0%0x3c,_0x2fa7c8=String(_0x2eac54)[_0x3f277f(0x222)](0x2,'0')+':'+String(_0x1e33e2)[_0x3f277f(0x222)](0x2,'0'),_0x5b438a=sessions[_0x3f277f(0x245)](_0x5aa59f=>_0x5aa59f['id']===_0x59216a);_0x5b438a!==-0x1&&(sessions[_0x5b438a][_0x3f277f(0x2b3)]=selectedRsDate,sessions[_0x5b438a]['start']=_0x29f975,sessions[_0x5b438a]['end']=_0x2fa7c8,reRenderBlocks());try{const _0x278e32=window[_0x3f277f(0x1db)]?.[_0x3f277f(0x241)],_0x2ab52f=await fetch(API_URL,{'method':'POST','body':JSON[_0x3f277f(0x210)]({'action':_0x3f277f(0x22e),'init_data':_0x278e32?.[_0x3f277f(0x21f)]||'','oldSessionId':_0x59216a,'oldDate':_0x27d8c5,'newDate':selectedRsDate,'newTime':_0x29f975,'coachId':currentSession[_0x3f277f(0x1d6)]})}),_0xec799c=await _0x2ab52f[_0x3f277f(0x2bb)]();!_0xec799c['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x3f277f(0x25f)]()):(showToast(_0x3f277f(0x254)),DataManager[_0x3f277f(0x248)]());}catch(_0x4ae72b){showToast(_0x3f277f(0x216));}}document['addEventListener'](a3_0x2db876(0x209),init);