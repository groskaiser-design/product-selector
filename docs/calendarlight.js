const a3_0x9bd694=a3_0x3c18;(function(_0x1f319b,_0x59211f){const _0x10df5d=a3_0x3c18,_0x20b7bf=_0x1f319b();while(!![]){try{const _0x3221d9=parseInt(_0x10df5d(0x1e0))/0x1+parseInt(_0x10df5d(0x233))/0x2*(-parseInt(_0x10df5d(0x1d4))/0x3)+-parseInt(_0x10df5d(0x29d))/0x4+-parseInt(_0x10df5d(0x21b))/0x5*(parseInt(_0x10df5d(0x284))/0x6)+-parseInt(_0x10df5d(0x29b))/0x7+parseInt(_0x10df5d(0x2a2))/0x8+parseInt(_0x10df5d(0x1a8))/0x9*(-parseInt(_0x10df5d(0x1c4))/0xa);if(_0x3221d9===_0x59211f)break;else _0x20b7bf['push'](_0x20b7bf['shift']());}catch(_0x170271){_0x20b7bf['push'](_0x20b7bf['shift']());}}}(a3_0x1de3,0x7998d));const APP_VERSION=a3_0x9bd694(0x267),API_URL=a3_0x9bd694(0x25b),GRID_H=0x3c,KEY_SESSIONS=a3_0x9bd694(0x22c),KEY_SETTINGS=a3_0x9bd694(0x1f6),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2b0256=a3_0x9bd694,_0x1f4d46=(function(){let _0x19539e=!![];return function(_0x303571,_0x368a0e){const _0x25f9bd=_0x19539e?function(){if(_0x368a0e){const _0x5f5667=_0x368a0e['apply'](_0x303571,arguments);return _0x368a0e=null,_0x5f5667;}}:function(){};return _0x19539e=![],_0x25f9bd;};}()),_0x27d3b2=_0x1f4d46(this,function(){const _0x5b6e08=a3_0x3c18;return _0x27d3b2['toString']()[_0x5b6e08(0x24f)](_0x5b6e08(0x1c7))[_0x5b6e08(0x1ba)]()[_0x5b6e08(0x23e)](_0x27d3b2)[_0x5b6e08(0x24f)](_0x5b6e08(0x1c7));});_0x27d3b2();try{const _0x16aac7=window[_0x2b0256(0x1b4)]?.[_0x2b0256(0x1cd)];if(!_0x16aac7)return;_0x16aac7[_0x2b0256(0x24c)](),_0x16aac7[_0x2b0256(0x1b5)]();try{_0x16aac7['setHeaderColor'](_0x2b0256(0x1de)),_0x16aac7[_0x2b0256(0x29e)]&&_0x16aac7[_0x2b0256(0x29e)](_0x2b0256(0x1de));}catch(_0x28050a){console['log']('Error\x20setting\x20color:',_0x28050a);}try{_0x16aac7['BackButton']&&(_0x16aac7[_0x2b0256(0x1ed)][_0x2b0256(0x280)](),_0x16aac7[_0x2b0256(0x1ed)][_0x2b0256(0x278)](),_0x16aac7['BackButton'][_0x2b0256(0x27c)](function(){const _0x3f4d37=_0x2b0256;window['location']['href']=_0x3f4d37(0x23b);}));}catch(_0x1baf88){console[_0x2b0256(0x1d6)](_0x2b0256(0x23f),_0x1baf88);}try{if(_0x16aac7[_0x2b0256(0x26f)])_0x16aac7[_0x2b0256(0x26f)]();}catch(_0x1182bc){}}catch(_0x266f67){console['error']('Critical\x20TMA\x20Error:',_0x266f67);}}());function isAdmin(){const _0x1460d0=a3_0x9bd694;try{const _0x158b64=Number(window[_0x1460d0(0x1b4)]?.['WebApp']?.[_0x1460d0(0x24e)]?.[_0x1460d0(0x290)]?.['id']);return _0x158b64===0xbaf7174;}catch(_0x5d056f){return![];}}const DataManager={'saveLocally'(){const _0xb87d64=a3_0x9bd694;try{localStorage[_0xb87d64(0x22a)](KEY_SESSIONS,JSON[_0xb87d64(0x287)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0xb87d64(0x287)](clients)),localStorage[_0xb87d64(0x22a)](KEY_SETTINGS,JSON[_0xb87d64(0x287)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1d2249){}},'loadLocal'(){const _0xe70a61=a3_0x9bd694;try{const _0x2ade4a=localStorage[_0xe70a61(0x218)](KEY_SESSIONS);if(_0x2ade4a)sessions=JSON['parse'](_0x2ade4a);const _0x1fc7b1=localStorage[_0xe70a61(0x218)](KEY_CLIENTS);if(_0x1fc7b1)clients=JSON['parse'](_0x1fc7b1);const _0x117441=localStorage['getItem'](KEY_SETTINGS);if(_0x117441){const _0x2004b9=JSON[_0xe70a61(0x231)](_0x117441);if(_0x2004b9['pattern'])availabilityPattern=_0x2004b9['pattern'];if(_0x2004b9[_0xe70a61(0x22b)])specialRanges=_0x2004b9[_0xe70a61(0x22b)];if(_0x2004b9['exceptions'])dateExceptions=_0x2004b9[_0xe70a61(0x1cb)];}}catch(_0x293a40){}},async 'syncLoad'(){const _0x4fb2d2=a3_0x9bd694,_0x392931=new Date(),_0x4fee59=_0x392931['getFullYear']()+'-'+String(_0x392931[_0x4fb2d2(0x26d)]()+0x1)[_0x4fb2d2(0x2a3)](0x2,'0'),_0x5a52b3=new Date(_0x392931);_0x5a52b3['setMonth'](_0x392931[_0x4fb2d2(0x26d)]()+0x1);const _0x49eaa4=_0x5a52b3[_0x4fb2d2(0x2a7)]()+'-'+String(_0x5a52b3[_0x4fb2d2(0x26d)]()+0x1)[_0x4fb2d2(0x2a3)](0x2,'0'),_0x10e45e=Date['now']();try{const _0x548730=window['Telegram']?.[_0x4fb2d2(0x1cd)],_0x17826e=_0x548730?.[_0x4fb2d2(0x1bb)]||'',[_0x54a989,_0x1c2dd3]=await Promise[_0x4fb2d2(0x1ac)]([fetch(API_URL,{'method':_0x4fb2d2(0x251),'body':JSON['stringify']({'action':_0x4fb2d2(0x205),'init_data':_0x17826e,'month_str':_0x4fee59})})[_0x4fb2d2(0x1e6)](_0x37ef00=>_0x37ef00[_0x4fb2d2(0x214)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x4fb2d2(0x287)]({'action':'client_load','init_data':_0x17826e,'month_str':_0x49eaa4})})[_0x4fb2d2(0x1e6)](_0x490dd8=>_0x490dd8['json']())]);if(lastUserActionTime>_0x10e45e){console['log'](_0x4fb2d2(0x28a));return;}if(_0x54a989['ok'])this['applyData'](_0x54a989[_0x4fb2d2(0x1c3)],_0x4fee59);if(_0x1c2dd3['ok'])this[_0x4fb2d2(0x1b7)](_0x1c2dd3[_0x4fb2d2(0x1c3)],_0x49eaa4);this['saveLocally']();}catch(_0xeac855){}},'applyData'(_0x380a7b,_0x4ba606){const _0x40a533=a3_0x9bd694;if(!_0x380a7b)return;if(_0x380a7b['settings']){if(_0x380a7b['settings']['pattern'])availabilityPattern=_0x380a7b[_0x40a533(0x23d)][_0x40a533(0x26c)];if(_0x380a7b['settings']['ranges'])specialRanges=_0x380a7b['settings'][_0x40a533(0x22b)];if(_0x380a7b[_0x40a533(0x23d)][_0x40a533(0x1cb)])dateExceptions=_0x380a7b[_0x40a533(0x23d)][_0x40a533(0x1cb)];}if(_0x380a7b['clients']&&Array[_0x40a533(0x228)](_0x380a7b[_0x40a533(0x271)]))clients=_0x380a7b[_0x40a533(0x271)];_0x380a7b[_0x40a533(0x1f0)]&&(coachProfiles={...coachProfiles,..._0x380a7b[_0x40a533(0x1f0)]}),_0x380a7b['calendar']&&(sessions=sessions[_0x40a533(0x1db)](_0x5851b0=>!_0x5851b0[_0x40a533(0x232)][_0x40a533(0x262)](_0x4ba606)),Object[_0x40a533(0x1d0)](_0x380a7b[_0x40a533(0x28d)])[_0x40a533(0x20a)](_0x24fd91=>{const _0x3919d6=_0x40a533,_0x132a2c=_0x380a7b[_0x3919d6(0x28d)][_0x24fd91];_0x132a2c[_0x3919d6(0x20a)](_0xa83dfa=>{const _0x302319=_0x3919d6;sessions[_0x302319(0x27e)]({'id':_0xa83dfa['i'],'clientId':_0xa83dfa['c'],'coachId':_0xa83dfa['cid'],'dateStr':_0x4ba606+'-'+_0x24fd91[_0x302319(0x2a3)](0x2,'0'),'start':_0xa83dfa['s'],'end':_0xa83dfa['e'],'note':_0xa83dfa['n']||'','status':_0xa83dfa['st']||_0x302319(0x207),'seriesId':_0xa83dfa[_0x302319(0x1f8)]});});})),reRenderBlocks();}};function init(){const _0xccae59=a3_0x9bd694;DataManager[_0xccae59(0x1ff)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xccae59(0x28c)]('matrixViewport')[_0xccae59(0x1dc)](_0xccae59(0x269),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xccae59(0x270)]();}function renderTimeColumn(){const _0x3eb18=a3_0x9bd694,_0x1816e1=document[_0x3eb18(0x28c)](_0x3eb18(0x1fb)),_0x74ca63=document['getElementById'](_0x3eb18(0x242));_0x1816e1[_0x3eb18(0x275)]='',_0x1816e1[_0x3eb18(0x21f)](_0x74ca63);for(let _0x25f655=0x0;_0x25f655<0x18;_0x25f655++){const _0x2d442b=document[_0x3eb18(0x1f7)]('div');_0x2d442b['className']='time-label';if(_0x25f655>0x0)_0x2d442b['innerHTML']=_0x3eb18(0x234)+String(_0x25f655)[_0x3eb18(0x2a3)](0x2,'0')+_0x3eb18(0x203);_0x1816e1[_0x3eb18(0x21f)](_0x2d442b);}}function a3_0x1de3(){const _0x5ce84c=['coach_profiles','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','toLocaleDateString','visible','day-column\x20','uc_client_settings','createElement','sid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','mini','timeColumn','done','anPercent','find','loadLocal','flex','event-card','anTotalStats',':00</span>','DOMContentLoaded','client_load','data-day-idx','planned','\x20–≤\x20','querySelectorAll','forEach','floor','%\x20-\x204px)','rs-date-chip','sort','anDonutCircle','status','rsDatesTrack','ccYesBtn','color','json','substr','–û—Ç–º–µ–Ω–µ–Ω–æ','T23:59:59','getItem','offsetWidth','length','1691860dFiFio','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','blocked-slot\x20stripe-bg','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','appendChild','getHours','display','rsSlotsGrid','rgba(','scrollWidth','scrollLeft','day-off-overlay\x20stripe-bg','colIndex','isArray','anEnd','setItem','ranges','uc_client_sessions','createDocumentFragment','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','now','parse','dateStr','766hgyQPx','<span>','blocked-range-part\x20stripe-bg','button','\x20status-completed','saveLocally','getTime','week','router.html','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','settings','constructor','Error\x20setting\x20back\x20button:','headerMonth','matrixViewport','timeLineBadge','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','.day-column','anStart','<div\x20class=\x22rs-day-name\x22>','</span>\x20/\x20','.period-switch\x20.p-btn','setDate','block','overlay','ready','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','initDataUnsafe','search','#ff453a','POST','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','div','active','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','ru-RU','long','rgba(10,\x20132,\x20255,\x20','calc(','note','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–∑–∞\x20','clientId','</div><div\x20class=\x22rs-day-num\x22>','detStatus','start','detNote','startsWith','month','onclick','rs-time-btn','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','v9.5-CLIENT-ANALYTICS','toLocaleString','scroll','analyticsSheet','cancelled','pattern','getMonth','anCustomDates','disableVerticalSwipes','syncLoad','clients','clientWidth','globalTimeLine','reschedule','innerHTML','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','custom','offClick','borderLeftColor','fontWeight','total','onClick','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','push','getMinutes','show','</div><div\x20class=\x22dch-num\x22>','<div\x20class=\x22dch-day\x22>','remove','6oorZNn','getAttribute','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','stringify','round','min','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','ccText','getElementById','calendar','seriesId','customConfirm','user','getDay','left','height','scrollTop','cancelHint','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','insertBefore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','1316hpasHU','%\x20+\x202px)','1217648ZxYsUf','setBackgroundColor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','textContent','querySelector','7796768dXWZys','padStart','max','join','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','getFullYear','.sheet','45hbfQCO','end','</div>','daysHeaderTrack','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','600','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','top','entries','open','zIndex','Telegram','expand','gridColumns','applyData','add','toUpperCase','toString','initData','toast','backgroundColor','charAt','client_cancel','today','split','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','data','418780GXHOBx','classList','completed','(((.+)+)+)+$','cancelContainer','getDate','numeric','exceptions','day-col-header\x20','WebApp','setAttribute','offsetLeft','keys','className','firstChild','\x20—á.','219twAlJV','coachId','log','value','var(--acc-blue)','scrollTo','rescheduleSheet','filter','addEventListener','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','#050505','cancel_window','403786krIRKb','\x20–∏–∑\x20','none','findIndex','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setHours','then','backgroundPosition','slice','var(--acc-green)','data-date','detailsSheet','#0a84ff','BackButton','style','.btn-reschedule'];a3_0x1de3=function(){return _0x5ce84c;};return a3_0x1de3();}function renderDayRange(_0x157c0c,_0x18c107){const _0x483d69=a3_0x9bd694,_0x26c8e6=document[_0x483d69(0x28c)](_0x483d69(0x1ab)),_0x243f60=document[_0x483d69(0x28c)](_0x483d69(0x1b6)),_0x111910=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b10a4=new Date();_0x3b10a4['setHours'](0x0,0x0,0x0,0x0);const _0x5436d0=getLocalDateStr(new Date());for(let _0x51ad73=_0x157c0c;_0x51ad73<=_0x18c107;_0x51ad73++){const _0x2c1d05=new Date(_0x3b10a4);_0x2c1d05['setDate'](_0x2c1d05[_0x483d69(0x1c9)]()+_0x51ad73);const _0x28464a=getLocalDateStr(_0x2c1d05);let _0x139209=_0x2c1d05[_0x483d69(0x291)]()-0x1;if(_0x139209===-0x1)_0x139209=0x6;const _0x587c5c=_0x28464a===_0x5436d0,_0x457bde=document[_0x483d69(0x1f7)](_0x483d69(0x253));_0x457bde['className']=_0x483d69(0x1cc)+(_0x587c5c?'today':''),_0x457bde['setAttribute'](_0x483d69(0x1ea),_0x28464a),_0x457bde[_0x483d69(0x275)]=_0x483d69(0x282)+_0x111910[_0x139209]+'</div><div\x20class=\x22dch-num\x22>'+_0x2c1d05[_0x483d69(0x1c9)]()+_0x483d69(0x1aa),_0x26c8e6['appendChild'](_0x457bde);const _0x58bda1=document[_0x483d69(0x1f7)](_0x483d69(0x253));_0x58bda1[_0x483d69(0x1d1)]=_0x483d69(0x1f5)+(_0x587c5c?_0x483d69(0x1c0):''),_0x58bda1[_0x483d69(0x1ce)](_0x483d69(0x1ea),_0x28464a),_0x58bda1[_0x483d69(0x1ce)](_0x483d69(0x206),_0x139209),_0x243f60['appendChild'](_0x58bda1);}}function reRenderBlocks(){const _0x3a80d7=a3_0x9bd694;document['querySelectorAll']('.day-column')[_0x3a80d7(0x20a)](_0x15daf6=>{const _0xc2b4e5=_0x3a80d7;_0x15daf6[_0xc2b4e5(0x209)](_0xc2b4e5(0x22f))['forEach'](_0x17f536=>_0x17f536[_0xc2b4e5(0x283)]());const _0x3d825f=_0x15daf6['getAttribute'](_0xc2b4e5(0x1ea)),_0x210bad=parseInt(_0x15daf6[_0xc2b4e5(0x285)](_0xc2b4e5(0x206))),_0x40b65e=Math[_0xc2b4e5(0x288)](_0x15daf6[_0xc2b4e5(0x1cf)]);(availabilityPattern[_0x210bad]||[])[_0xc2b4e5(0x20a)](_0xe8153e=>{const _0x1b5683=_0xc2b4e5,_0x1edcc7=document[_0x1b5683(0x1f7)](_0x1b5683(0x253));_0x1edcc7[_0x1b5683(0x1d1)]=_0x1b5683(0x21d),_0x1edcc7[_0x1b5683(0x1ee)][_0x1b5683(0x1b0)]=_0xe8153e*GRID_H+'px',_0x1edcc7[_0x1b5683(0x1ee)][_0x1b5683(0x1e7)]='-'+_0x40b65e+'px\x20-'+_0xe8153e*GRID_H+'px',_0x15daf6[_0x1b5683(0x21f)](_0x1edcc7);});if(specialRanges['length']>0x0){const _0x3d8347=new Date(_0x3d825f+'T00:00:00')['getTime'](),_0x4ca382=new Date(_0x3d825f+_0xc2b4e5(0x217))['getTime']();specialRanges['forEach'](_0x1bba47=>{const _0xd5f51d=_0xc2b4e5,_0x3234e=new Date(_0x1bba47[_0xd5f51d(0x260)])[_0xd5f51d(0x239)](),_0x4593ba=new Date(_0x1bba47[_0xd5f51d(0x1a9)])['getTime'](),_0x1ffbbd=Math[_0xd5f51d(0x2a4)](_0x3d8347,_0x3234e),_0x3fe810=Math[_0xd5f51d(0x289)](_0x4ca382,_0x4593ba);if(_0x1ffbbd<_0x3fe810){const _0x1815c1=(_0x1ffbbd-_0x3d8347)/0x36ee80*GRID_H,_0x14cb3b=(_0x3fe810-_0x1ffbbd)/0x36ee80*GRID_H,_0x128db0=document[_0xd5f51d(0x1f7)](_0xd5f51d(0x253));_0x14cb3b>=23.5*GRID_H?(_0x128db0['className']=_0xd5f51d(0x226),_0x128db0['style'][_0xd5f51d(0x1e7)]='-'+_0x40b65e+'px\x200px'):(_0x128db0['className']=_0xd5f51d(0x235),_0x128db0[_0xd5f51d(0x1ee)][_0xd5f51d(0x1b0)]=_0x1815c1+'px',_0x128db0[_0xd5f51d(0x1ee)][_0xd5f51d(0x293)]=_0x14cb3b+'px',_0x128db0[_0xd5f51d(0x1ee)]['backgroundPosition']='-'+_0x40b65e+'px\x20-'+_0x1815c1+'px'),_0x15daf6[_0xd5f51d(0x21f)](_0x128db0);}});}renderEventsForColumn(_0x15daf6,_0x3d825f);});}function renderEventsForColumn(_0x1b24fc,_0x39a8b2){const _0x53cfb3=a3_0x9bd694,_0x2bfa71=sessions[_0x53cfb3(0x1db)](_0x491a66=>_0x491a66[_0x53cfb3(0x232)]===_0x39a8b2),_0x2ef569=_0x2bfa71[_0x53cfb3(0x299)](_0x1cfb9a=>{const _0x5b8902=_0x53cfb3,[_0x5b946f,_0x455772]=_0x1cfb9a[_0x5b8902(0x260)]['split'](':')[_0x5b8902(0x299)](Number),[_0x5a49e2,_0xa229a1]=_0x1cfb9a[_0x5b8902(0x1a9)]['split'](':')['map'](Number);return{'data':_0x1cfb9a,'start':_0x5b946f*0x3c+_0x455772,'end':_0x5a49e2*0x3c+_0xa229a1,'colIndex':0x0};});_0x2ef569['sort']((_0x3dde43,_0x5b8b17)=>_0x3dde43['start']-_0x5b8b17[_0x53cfb3(0x260)]||_0x5b8b17[_0x53cfb3(0x1a9)]-_0x5b8b17[_0x53cfb3(0x260)]-(_0x3dde43[_0x53cfb3(0x1a9)]-_0x3dde43['start']));const _0x5d8e62=[];_0x2ef569[_0x53cfb3(0x20a)](_0x10fbaf=>{const _0x4c67e7=_0x53cfb3;let _0xa16e02=![];for(let _0x58413a=0x0;_0x58413a<_0x5d8e62[_0x4c67e7(0x21a)];_0x58413a++){const _0xc1aeac=_0x5d8e62[_0x58413a];if(_0x10fbaf['start']>=_0xc1aeac[_0xc1aeac['length']-0x1][_0x4c67e7(0x1a9)]){_0xc1aeac[_0x4c67e7(0x27e)](_0x10fbaf),_0x10fbaf[_0x4c67e7(0x227)]=_0x58413a,_0xa16e02=!![];break;}}!_0xa16e02&&(_0x5d8e62['push']([_0x10fbaf]),_0x10fbaf[_0x4c67e7(0x227)]=_0x5d8e62[_0x4c67e7(0x21a)]-0x1);}),_0x2ef569[_0x53cfb3(0x20a)](_0x5c34cf=>{const _0xeaa0b9=_0x53cfb3;let _0x2d6acd=0x0;_0x2ef569[_0xeaa0b9(0x20a)](_0x1ae4eb=>{const _0x41c1f5=_0xeaa0b9;if(Math[_0x41c1f5(0x2a4)](_0x5c34cf[_0x41c1f5(0x260)],_0x1ae4eb[_0x41c1f5(0x260)])<Math[_0x41c1f5(0x289)](_0x5c34cf[_0x41c1f5(0x1a9)],_0x1ae4eb[_0x41c1f5(0x1a9)])&&_0x1ae4eb[_0x41c1f5(0x227)]>_0x2d6acd)_0x2d6acd=_0x1ae4eb['colIndex'];});const _0xcdf60a=_0x2d6acd+0x1,_0xd19088=0x64/_0xcdf60a,_0x424516=_0x5c34cf[_0xeaa0b9(0x227)]*_0xd19088,_0x1f2f15=document['createElement'](_0xeaa0b9(0x253)),_0x577be1=_0x5c34cf[_0xeaa0b9(0x1c3)];let _0x399e80=_0xeaa0b9(0x1ec);if(clients&&clients[_0xeaa0b9(0x21a)]>0x0){const _0x413dca=clients[_0xeaa0b9(0x1fe)](_0x289dab=>String(_0x289dab['id'])===String(_0x577be1[_0xeaa0b9(0x25d)]));if(_0x413dca&&_0x413dca[_0xeaa0b9(0x213)])_0x399e80=_0x413dca['color'];}const _0x9df27d=_0x577be1[_0xeaa0b9(0x210)]==='completed',_0x51bb57=_0x9df27d?0x1:0.45;_0x1f2f15[_0xeaa0b9(0x1d1)]=_0xeaa0b9(0x201)+(_0x9df27d?_0xeaa0b9(0x237):''),_0x1f2f15['style'][_0xeaa0b9(0x1bd)]=hexToRgba(_0x399e80,_0x51bb57),_0x1f2f15[_0xeaa0b9(0x1ee)][_0xeaa0b9(0x279)]=_0x399e80;const _0x1a8e85=_0x5c34cf[_0xeaa0b9(0x260)]/0x3c*GRID_H,_0x441461=(_0x5c34cf[_0xeaa0b9(0x1a9)]-_0x5c34cf['start'])/0x3c*GRID_H;_0x1f2f15[_0xeaa0b9(0x1ee)]['top']=_0x1a8e85+'px',_0x1f2f15[_0xeaa0b9(0x1ee)][_0xeaa0b9(0x293)]=Math[_0xeaa0b9(0x2a4)](_0x441461,0x14)+'px',_0x1f2f15['style']['width']=_0xeaa0b9(0x259)+_0xd19088+_0xeaa0b9(0x20c),_0x1f2f15[_0xeaa0b9(0x1ee)][_0xeaa0b9(0x292)]=_0xeaa0b9(0x259)+_0x424516+_0xeaa0b9(0x29c),_0x1f2f15[_0xeaa0b9(0x1ee)][_0xeaa0b9(0x1b3)]=0xa+_0x5c34cf[_0xeaa0b9(0x227)];if(_0xd19088<0x55)_0x1f2f15[_0xeaa0b9(0x1c5)][_0xeaa0b9(0x1b8)](_0xeaa0b9(0x1fa));let _0x1109c4='';if(_0x577be1[_0xeaa0b9(0x28e)])_0x1109c4+=_0xeaa0b9(0x286);if(_0x9df27d)_0x1109c4+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1f2f15[_0xeaa0b9(0x275)]=_0xeaa0b9(0x29a)+_0x577be1[_0xeaa0b9(0x260)]+'\x20-\x20'+_0x577be1[_0xeaa0b9(0x1a9)]+_0xeaa0b9(0x298)+_0x1109c4+_0xeaa0b9(0x1ad),_0x1f2f15[_0xeaa0b9(0x264)]=_0x460320=>{_0x460320['stopPropagation'](),openDetails(_0x577be1);},_0x1b24fc[_0xeaa0b9(0x21f)](_0x1f2f15);});}function openAnalytics(){const _0x17e0e0=a3_0x9bd694,_0x210051=document[_0x17e0e0(0x2a1)](_0x17e0e0(0x248));setAnalyticsPeriod(_0x17e0e0(0x23a),_0x210051),openSheet(_0x17e0e0(0x26a));}function setAnalyticsPeriod(_0x1f0f50,_0x4b26b0){const _0x1c987e=a3_0x9bd694;currentAnPeriod=_0x1f0f50,document[_0x1c987e(0x209)](_0x1c987e(0x248))[_0x1c987e(0x20a)](_0x538b4b=>_0x538b4b[_0x1c987e(0x1c5)][_0x1c987e(0x283)](_0x1c987e(0x254)));if(_0x4b26b0)_0x4b26b0[_0x1c987e(0x1c5)][_0x1c987e(0x1b8)]('active');const _0x5201ac=document[_0x1c987e(0x28c)](_0x1c987e(0x26e));_0x5201ac[_0x1c987e(0x1ee)][_0x1c987e(0x221)]=_0x1f0f50===_0x1c987e(0x277)?_0x1c987e(0x200):'none';const _0x3d103e=new Date();let _0x5e2ac8=new Date(),_0x3b5d5c=new Date();if(_0x1f0f50===_0x1c987e(0x23a))_0x5e2ac8=getStartOfWeek(_0x3d103e),_0x3b5d5c=new Date(_0x5e2ac8),_0x3b5d5c[_0x1c987e(0x249)](_0x3b5d5c[_0x1c987e(0x1c9)]()+0x6);else{if(_0x1f0f50===_0x1c987e(0x263))_0x5e2ac8=new Date(_0x3d103e[_0x1c987e(0x2a7)](),_0x3d103e['getMonth'](),0x1),_0x3b5d5c=new Date(_0x3d103e[_0x1c987e(0x2a7)](),_0x3d103e[_0x1c987e(0x26d)]()+0x1,0x0);else{!document[_0x1c987e(0x28c)]('anStart')[_0x1c987e(0x1d7)]&&(document['getElementById'](_0x1c987e(0x245))['value']=getLocalDateStr(_0x3d103e),document[_0x1c987e(0x28c)](_0x1c987e(0x229))[_0x1c987e(0x1d7)]=getLocalDateStr(_0x3d103e));refreshAnalytics();return;}}document['getElementById'](_0x1c987e(0x245))[_0x1c987e(0x1d7)]=getLocalDateStr(_0x5e2ac8),document['getElementById'](_0x1c987e(0x229))['value']=getLocalDateStr(_0x3b5d5c),refreshAnalytics();}function refreshAnalytics(){const _0xe66c9e=a3_0x9bd694,_0x2378c9=document[_0xe66c9e(0x28c)]('anStart')[_0xe66c9e(0x1d7)],_0x2b408c=document[_0xe66c9e(0x28c)]('anEnd')[_0xe66c9e(0x1d7)];if(!_0x2378c9||!_0x2b408c)return;const _0x2c3802=sessions['filter'](_0x594b80=>_0x594b80[_0xe66c9e(0x232)]>=_0x2378c9&&_0x594b80[_0xe66c9e(0x232)]<=_0x2b408c&&_0x594b80[_0xe66c9e(0x210)]!==_0xe66c9e(0x26b)),_0x1f422d=_0x2c3802[_0xe66c9e(0x21a)],_0x499f47=_0x2c3802['filter'](_0x38053a=>_0x38053a[_0xe66c9e(0x210)]===_0xe66c9e(0x1c6))[_0xe66c9e(0x21a)],_0xea300a=_0x1f422d>0x0?Math[_0xe66c9e(0x288)](_0x499f47/_0x1f422d*0x64):0x0;document[_0xe66c9e(0x28c)](_0xe66c9e(0x1fd))[_0xe66c9e(0x2a0)]=_0xea300a+'%',document[_0xe66c9e(0x28c)](_0xe66c9e(0x202))['textContent']=_0x499f47+_0xe66c9e(0x1e1)+_0x1f422d+_0xe66c9e(0x1af);const _0x38099a=document['getElementById'](_0xe66c9e(0x20f)),_0x41db16=0x2*Math['PI']*0x23,_0x5ecbfb=_0x41db16-_0xea300a/0x64*_0x41db16;_0x38099a[_0xe66c9e(0x1ee)]['strokeDashoffset']=_0x5ecbfb;const _0x5a0a68={};_0x2c3802[_0xe66c9e(0x20a)](_0x384804=>{const _0x39fcb0=_0xe66c9e,_0x5e11b0=_0x384804[_0x39fcb0(0x1d5)]||'Unknown';if(!_0x5a0a68[_0x5e11b0]){const _0xc47887='#'+_0x5e11b0[_0x39fcb0(0x1ba)]()[_0x39fcb0(0x215)](0x0,0x6);_0x5a0a68[_0x5e11b0]={'total':0x0,'done':0x0,'color':_0xc47887};}_0x5a0a68[_0x5e11b0][_0x39fcb0(0x27b)]++;if(_0x384804[_0x39fcb0(0x210)]===_0x39fcb0(0x1c6))_0x5a0a68[_0x5e11b0][_0x39fcb0(0x1fc)]++;});const _0x149fba=document['getElementById']('analyticsList');_0x149fba[_0xe66c9e(0x275)]='';const _0x2f84a7=Object[_0xe66c9e(0x1b1)](_0x5a0a68)[_0xe66c9e(0x20e)]((_0x35080f,_0x2201f8)=>_0x2201f8[0x1]['total']-_0x35080f[0x1][_0xe66c9e(0x27b)]);if(_0x2f84a7[_0xe66c9e(0x21a)]===0x0){_0x149fba[_0xe66c9e(0x275)]=_0xe66c9e(0x1c2);return;}_0x2f84a7[_0xe66c9e(0x20a)](([_0x2f207d,_0x4351df])=>{const _0x4caaae=_0xe66c9e,_0x5d07d2=Math[_0x4caaae(0x288)](_0x4351df['done']/_0x4351df['total']*0x64),_0x37f835=document['createElement'](_0x4caaae(0x253));_0x37f835['className']='client-stat-card',_0x37f835[_0x4caaae(0x1ee)]['borderLeftColor']=_0x4351df[_0x4caaae(0x213)],_0x37f835[_0x4caaae(0x275)]=_0x4caaae(0x1f2)+_0x2f207d['substr'](0x0,0x5)+_0x4caaae(0x255)+_0x4351df[_0x4caaae(0x1fc)]+_0x4caaae(0x247)+_0x4351df[_0x4caaae(0x27b)]+_0x4caaae(0x1f9)+_0x5d07d2+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x149fba[_0x4caaae(0x21f)](_0x37f835);});}function openDetails(_0x556c6f){const _0x11d17f=a3_0x9bd694;currentSession=_0x556c6f;const _0x31240e=new Date(_0x556c6f[_0x11d17f(0x232)]),_0x1e6e6b=_0x31240e['toLocaleDateString']('ru-RU',{'weekday':_0x11d17f(0x257),'day':_0x11d17f(0x1ca),'month':'long'});document[_0x11d17f(0x28c)]('detDate')[_0x11d17f(0x2a0)]=_0x1e6e6b[_0x11d17f(0x1be)](0x0)[_0x11d17f(0x1b9)]()+_0x1e6e6b[_0x11d17f(0x1e8)](0x1),document['getElementById']('detTime')[_0x11d17f(0x2a0)]=_0x556c6f[_0x11d17f(0x260)]+'\x20-\x20'+_0x556c6f[_0x11d17f(0x1a9)],document[_0x11d17f(0x28c)](_0x11d17f(0x261))[_0x11d17f(0x2a0)]=_0x556c6f[_0x11d17f(0x25a)]||_0x11d17f(0x2a6);const _0x117b00=document['getElementById'](_0x11d17f(0x25f)),_0x5de8ab=document['getElementById'](_0x11d17f(0x1c8)),_0x6af5b9=_0x5de8ab[_0x11d17f(0x2a1)]('.btn-cancel'),_0x1733e0=_0x5de8ab[_0x11d17f(0x2a1)](_0x11d17f(0x1ef)),_0x3b7a51=document[_0x11d17f(0x28c)](_0x11d17f(0x295));if(_0x556c6f[_0x11d17f(0x210)]===_0x11d17f(0x1c6))_0x117b00['textContent']=_0x11d17f(0x27d),_0x117b00[_0x11d17f(0x1ee)][_0x11d17f(0x213)]=_0x11d17f(0x1e9),_0x5de8ab[_0x11d17f(0x1ee)][_0x11d17f(0x221)]='none';else{_0x117b00['textContent']=_0x11d17f(0x21c),_0x117b00[_0x11d17f(0x1ee)]['color']=_0x11d17f(0x1d8),_0x5de8ab['style'][_0x11d17f(0x221)]=_0x11d17f(0x24a);const _0x32194a=new Date(_0x556c6f[_0x11d17f(0x232)]+'T'+_0x556c6f[_0x11d17f(0x260)]),_0x81d13c=new Date(),_0x4fc610=(_0x32194a-_0x81d13c)/(0x3e8*0x3c*0x3c),_0x4120b8=coachProfiles[_0x556c6f[_0x11d17f(0x1d5)]]&&coachProfiles[_0x556c6f[_0x11d17f(0x1d5)]]['cancel_window']?parseInt(coachProfiles[_0x556c6f[_0x11d17f(0x1d5)]][_0x11d17f(0x1df)]):0x18;if(_0x4120b8===0x0||_0x4fc610>=_0x4120b8)_0x6af5b9['style']['display']='block',_0x1733e0['style']['display']='block',_0x3b7a51[_0x11d17f(0x1ee)][_0x11d17f(0x221)]=_0x11d17f(0x1e2);else{_0x6af5b9[_0x11d17f(0x1ee)][_0x11d17f(0x221)]=_0x11d17f(0x1e2),_0x1733e0[_0x11d17f(0x1ee)][_0x11d17f(0x221)]='none',_0x3b7a51['style'][_0x11d17f(0x221)]=_0x11d17f(0x24a);let _0x19ce43=_0x4120b8===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x11d17f(0x25c)+_0x4120b8+_0x11d17f(0x1d3);_0x3b7a51[_0x11d17f(0x2a0)]=_0x11d17f(0x21e)+_0x19ce43+_0x11d17f(0x23c);}}document['getElementById'](_0x11d17f(0x24b))[_0x11d17f(0x1c5)][_0x11d17f(0x1b8)](_0x11d17f(0x254)),document[_0x11d17f(0x28c)]('detailsSheet')['classList'][_0x11d17f(0x1b8)]('open');}function closeAllSheets(){const _0x300ada=a3_0x9bd694;document[_0x300ada(0x28c)](_0x300ada(0x24b))[_0x300ada(0x1c5)][_0x300ada(0x283)]('active'),document[_0x300ada(0x209)](_0x300ada(0x2a8))['forEach'](_0x271637=>_0x271637[_0x300ada(0x1c5)][_0x300ada(0x283)](_0x300ada(0x1b2)));}function openSheet(_0x196ae3){const _0x30ac0c=a3_0x9bd694;document[_0x30ac0c(0x28c)]('overlay')[_0x30ac0c(0x1c5)][_0x30ac0c(0x1b8)](_0x30ac0c(0x254)),document[_0x30ac0c(0x28c)](_0x196ae3)['classList'][_0x30ac0c(0x1b8)](_0x30ac0c(0x1b2));}function getLocalDateStr(_0x261e7c){const _0x5b005a=a3_0x9bd694,_0x4c0532=_0x261e7c[_0x5b005a(0x2a7)](),_0x421d7e=String(_0x261e7c[_0x5b005a(0x26d)]()+0x1)[_0x5b005a(0x2a3)](0x2,'0'),_0x4554f7=String(_0x261e7c[_0x5b005a(0x1c9)]())[_0x5b005a(0x2a3)](0x2,'0');return _0x4c0532+'-'+_0x421d7e+'-'+_0x4554f7;}function getStartOfWeek(_0x41bfd8){const _0x205f9a=a3_0x9bd694,_0x173af0=new Date(_0x41bfd8),_0x264e5a=_0x173af0[_0x205f9a(0x291)](),_0xaadb72=_0x173af0[_0x205f9a(0x1c9)]()-_0x264e5a+(_0x264e5a===0x0?-0x6:0x1);return _0x173af0[_0x205f9a(0x249)](_0xaadb72),_0x173af0[_0x205f9a(0x1e5)](0x0,0x0,0x0,0x0),_0x173af0;}function scrollToToday(){const _0x194694=getLocalDateStr(new Date());setTimeout(()=>{const _0x5e7eed=a3_0x3c18,_0x2b0a62=document[_0x5e7eed(0x2a1)]('.day-col-header[data-date=\x22'+_0x194694+'\x22]');if(_0x2b0a62){const _0x2d5c38=document['getElementById'](_0x5e7eed(0x241)),_0x15e4d5=_0x2b0a62[_0x5e7eed(0x1cf)]-_0x2d5c38[_0x5e7eed(0x272)]/0x2+_0x2b0a62[_0x5e7eed(0x219)]/0x2;_0x2d5c38[_0x5e7eed(0x1d9)]({'left':_0x15e4d5,'behavior':_0x5e7eed(0x1f1)}),_0x2d5c38[_0x5e7eed(0x294)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x37a2ed=a3_0x9bd694,_0x1559ae=new Date(),_0x3860af=document[_0x37a2ed(0x28c)](_0x37a2ed(0x273)),_0x38a6c6=document[_0x37a2ed(0x28c)]('timeLineBadge'),_0x2199b4=(_0x1559ae[_0x37a2ed(0x220)]()*0x3c+_0x1559ae[_0x37a2ed(0x27f)]())/0x3c*GRID_H;_0x3860af[_0x37a2ed(0x1ee)][_0x37a2ed(0x1b0)]=_0x2199b4+'px',_0x3860af['style'][_0x37a2ed(0x221)]='block',_0x38a6c6[_0x37a2ed(0x1ee)][_0x37a2ed(0x1b0)]=_0x2199b4+'px',_0x38a6c6[_0x37a2ed(0x1ee)][_0x37a2ed(0x221)]=_0x37a2ed(0x24a),_0x38a6c6[_0x37a2ed(0x2a0)]=String(_0x1559ae[_0x37a2ed(0x220)]())['padStart'](0x2,'0')+':'+String(_0x1559ae[_0x37a2ed(0x27f)]())[_0x37a2ed(0x2a3)](0x2,'0');}function onScroll(){const _0x208712=a3_0x9bd694,_0x2ba2d5=document[_0x208712(0x28c)]('matrixViewport'),_0x4c9317=document['querySelectorAll']('.day-col-header');for(let _0x24fc24 of _0x4c9317)if(_0x24fc24[_0x208712(0x1cf)]>=_0x2ba2d5['scrollLeft']){const _0x1e7403=new Date(_0x24fc24[_0x208712(0x285)]('data-date'));document[_0x208712(0x28c)](_0x208712(0x240))[_0x208712(0x2a0)]=_0x1e7403[_0x208712(0x268)]('ru',{'month':_0x208712(0x257)})[_0x208712(0x1b9)]()+'\x20'+_0x1e7403['getFullYear']();break;}}function showToast(_0x1885cc){const _0x2fa855=a3_0x9bd694,_0x1c4cc8=document[_0x2fa855(0x28c)](_0x2fa855(0x1bc));_0x1c4cc8[_0x2fa855(0x2a0)]=_0x1885cc,_0x1c4cc8[_0x2fa855(0x1c5)]['add']('show'),setTimeout(()=>_0x1c4cc8[_0x2fa855(0x1c5)][_0x2fa855(0x283)](_0x2fa855(0x280)),0x7d0);}function handleInfiniteScroll(){const _0x1bfbba=a3_0x9bd694,_0x4e20ef=document[_0x1bfbba(0x28c)](_0x1bfbba(0x241)),_0x4a23ac=_0x4e20ef[_0x1bfbba(0x225)],_0x12d6bd=_0x4e20ef[_0x1bfbba(0x224)],_0x420ebc=_0x4e20ef['clientWidth'];if(_0x12d6bd-(_0x4a23ac+_0x420ebc)<0x12c){const _0x2b4c40=endOffset;endOffset+=0xe,renderDayRange(_0x2b4c40+0x1,endOffset),reRenderBlocks();}if(_0x4a23ac<0x12c){const _0x252b17=startOffset;startOffset-=0xe,prependDays(startOffset,_0x252b17-0x1),_0x4e20ef['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function a3_0x3c18(_0x1e7248,_0xdf1b99){_0x1e7248=_0x1e7248-0x1a8;const _0x41b70=a3_0x1de3();let _0x3bf240=_0x41b70[_0x1e7248];return _0x3bf240;}function prependDays(_0x1b9801,_0x45c1d3){const _0x455bc2=a3_0x9bd694,_0x2cf2fa=document[_0x455bc2(0x28c)](_0x455bc2(0x1ab)),_0x435815=document[_0x455bc2(0x28c)]('gridColumns'),_0x3930e2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d3ca3=new Date();_0x4d3ca3['setHours'](0x0,0x0,0x0,0x0);const _0x494444=getLocalDateStr(new Date()),_0x3fc04f=document[_0x455bc2(0x22d)](),_0x4489d3=document[_0x455bc2(0x22d)]();for(let _0x21dbaa=_0x1b9801;_0x21dbaa<=_0x45c1d3;_0x21dbaa++){const _0x1013cc=new Date(_0x4d3ca3);_0x1013cc[_0x455bc2(0x249)](_0x1013cc[_0x455bc2(0x1c9)]()+_0x21dbaa);const _0x48a243=getLocalDateStr(_0x1013cc);let _0x1d0ca8=_0x1013cc[_0x455bc2(0x291)]()-0x1;if(_0x1d0ca8===-0x1)_0x1d0ca8=0x6;const _0x3a39e8=_0x48a243===_0x494444,_0x38aea0=document[_0x455bc2(0x1f7)](_0x455bc2(0x253));_0x38aea0[_0x455bc2(0x1d1)]=_0x455bc2(0x1cc)+(_0x3a39e8?_0x455bc2(0x1c0):''),_0x38aea0['setAttribute'](_0x455bc2(0x1ea),_0x48a243),_0x38aea0['innerHTML']=_0x455bc2(0x282)+_0x3930e2[_0x1d0ca8]+_0x455bc2(0x281)+_0x1013cc[_0x455bc2(0x1c9)]()+_0x455bc2(0x1aa),_0x3fc04f[_0x455bc2(0x21f)](_0x38aea0);const _0x55ec8a=document[_0x455bc2(0x1f7)](_0x455bc2(0x253));_0x55ec8a['className']=_0x455bc2(0x1f5)+(_0x3a39e8?'today':''),_0x55ec8a[_0x455bc2(0x1ce)]('data-date',_0x48a243),_0x55ec8a[_0x455bc2(0x1ce)](_0x455bc2(0x206),_0x1d0ca8),_0x4489d3[_0x455bc2(0x21f)](_0x55ec8a);}_0x2cf2fa[_0x455bc2(0x297)](_0x3fc04f,_0x2cf2fa[_0x455bc2(0x1d2)]),_0x435815[_0x455bc2(0x297)](_0x4489d3,_0x435815[_0x455bc2(0x2a1)](_0x455bc2(0x244)));}function hexToRgba(_0x24fc03,_0x941f19){const _0x51278d=a3_0x9bd694;let _0x477a30;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x24fc03))return _0x477a30=_0x24fc03['substring'](0x1)[_0x51278d(0x1c1)](''),_0x477a30[_0x51278d(0x21a)]==0x3&&(_0x477a30=[_0x477a30[0x0],_0x477a30[0x0],_0x477a30[0x1],_0x477a30[0x1],_0x477a30[0x2],_0x477a30[0x2]]),_0x477a30='0x'+_0x477a30[_0x51278d(0x2a5)](''),_0x51278d(0x223)+[_0x477a30>>0x10&0xff,_0x477a30>>0x8&0xff,_0x477a30&0xff][_0x51278d(0x2a5)](',')+','+_0x941f19+')';return _0x51278d(0x258)+_0x941f19+')';}let confirmResolver=null;function showCustomConfirm(_0x25ce97,_0x419f29,_0x228d95=!![]){const _0x4b64b4=a3_0x9bd694;document['getElementById']('ccTitle')['textContent']=_0x25ce97,document[_0x4b64b4(0x28c)](_0x4b64b4(0x28b))[_0x4b64b4(0x2a0)]=_0x419f29;const _0x5078da=document['getElementById'](_0x4b64b4(0x212));return _0x228d95?(_0x5078da[_0x4b64b4(0x1ee)][_0x4b64b4(0x213)]=_0x4b64b4(0x250),_0x5078da['style'][_0x4b64b4(0x27a)]=_0x4b64b4(0x1ae)):(_0x5078da['style'][_0x4b64b4(0x213)]=_0x4b64b4(0x1ec),_0x5078da['style']['fontWeight']='600'),new Promise(_0x4ef609=>{const _0x5ddf4d=_0x4b64b4;confirmResolver=_0x4ef609,document[_0x5ddf4d(0x28c)](_0x5ddf4d(0x28f))[_0x5ddf4d(0x1c5)][_0x5ddf4d(0x1b8)]('visible');});}function resolveCustomConfirm(_0x5941e5){const _0xd3a0e6=a3_0x9bd694;document[_0xd3a0e6(0x28c)](_0xd3a0e6(0x28f))[_0xd3a0e6(0x1c5)][_0xd3a0e6(0x283)](_0xd3a0e6(0x1f4));if(confirmResolver)confirmResolver(_0x5941e5);}async function tryCancelCurrentSession(){const _0x2b5fea=a3_0x9bd694;if(!currentSession)return;const _0x55e9bd=await showCustomConfirm(_0x2b5fea(0x252),_0x2b5fea(0x276),!![]);if(!_0x55e9bd)return;const _0x582e74=currentSession;closeAllSheets(),sessions=sessions[_0x2b5fea(0x1db)](_0x3cd449=>_0x3cd449['id']!==_0x582e74['id']),reRenderBlocks(),showToast(_0x2b5fea(0x216)),lastUserActionTime=Date[_0x2b5fea(0x230)]();try{const _0x426dfc=window[_0x2b5fea(0x1b4)]?.[_0x2b5fea(0x1cd)],_0xa47f03=await fetch(API_URL,{'method':_0x2b5fea(0x251),'body':JSON[_0x2b5fea(0x287)]({'action':_0x2b5fea(0x1bf),'init_data':_0x426dfc?.[_0x2b5fea(0x1bb)]||'','coachId':_0x582e74[_0x2b5fea(0x1d5)],'dateStr':_0x582e74[_0x2b5fea(0x232)],'sessionId':_0x582e74['id']})});if(_0xa47f03['ok'])DataManager['saveLocally']();}catch(_0xd98263){showToast(_0x2b5fea(0x1dd));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2e9749=a3_0x9bd694;if(!currentSession)return;document[_0x2e9749(0x28c)](_0x2e9749(0x1eb))['classList'][_0x2e9749(0x283)](_0x2e9749(0x1b2)),document[_0x2e9749(0x28c)](_0x2e9749(0x1da))['classList']['add'](_0x2e9749(0x1b2));const _0x268a07=document[_0x2e9749(0x28c)](_0x2e9749(0x211)),_0x4024ce=document[_0x2e9749(0x28c)](_0x2e9749(0x222));_0x268a07[_0x2e9749(0x275)]='',_0x4024ce[_0x2e9749(0x275)]=_0x2e9749(0x1e4);const [_0x2e3c38,_0x3459ab]=currentSession[_0x2e9749(0x260)][_0x2e9749(0x1c1)](':')[_0x2e9749(0x299)](Number),[_0x2cf154,_0x4cb4aa]=currentSession['end']['split'](':')[_0x2e9749(0x299)](Number),_0x9a9353=_0x2cf154*0x3c+_0x4cb4aa-(_0x2e3c38*0x3c+_0x3459ab);try{const _0x37bb50=window[_0x2e9749(0x1b4)]?.[_0x2e9749(0x1cd)],_0x344400=await fetch(API_URL,{'method':_0x2e9749(0x251),'body':JSON[_0x2e9749(0x287)]({'action':'get_slots','coachId':currentSession[_0x2e9749(0x1d5)],'duration':_0x9a9353,'init_data':_0x37bb50?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x114b11=await _0x344400['json']();_0x114b11['ok']&&_0x114b11['data']?(availableSlotsCache=_0x114b11[_0x2e9749(0x1c3)],renderRescheduleDates()):_0x4024ce['innerHTML']=_0x2e9749(0x243);}catch(_0x8c76e8){_0x4024ce['innerHTML']=_0x2e9749(0x24d);}}function renderRescheduleDates(){const _0x710bf9=a3_0x9bd694,_0x129869=document[_0x710bf9(0x28c)](_0x710bf9(0x211));_0x129869['innerHTML']='';const _0x175d46=Object[_0x710bf9(0x1d0)](availableSlotsCache)[_0x710bf9(0x20e)](),_0x49f7d6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x175d46[_0x710bf9(0x21a)]===0x0){document[_0x710bf9(0x28c)](_0x710bf9(0x222))[_0x710bf9(0x275)]=_0x710bf9(0x29f);return;}_0x175d46[_0x710bf9(0x20a)]((_0x16db9b,_0x8e0ba2)=>{const _0x200ad1=_0x710bf9,_0x2697ad=new Date(_0x16db9b),_0x443b1d=_0x49f7d6[_0x2697ad[_0x200ad1(0x291)]()],_0x38e620=_0x2697ad[_0x200ad1(0x1c9)](),_0x340de8=document['createElement']('div');_0x340de8[_0x200ad1(0x1d1)]=_0x200ad1(0x20d);if(_0x8e0ba2===0x0)_0x340de8[_0x200ad1(0x1c5)]['add'](_0x200ad1(0x254));_0x340de8[_0x200ad1(0x275)]=_0x200ad1(0x246)+_0x443b1d+_0x200ad1(0x25e)+_0x38e620+_0x200ad1(0x1aa),_0x340de8['onclick']=()=>selectRsDate(_0x16db9b,_0x340de8),_0x129869[_0x200ad1(0x21f)](_0x340de8);}),selectRsDate(_0x175d46[0x0],_0x129869[_0x710bf9(0x1d2)]);}function selectRsDate(_0x28cc48,_0x2c5419){const _0x431939=a3_0x9bd694;selectedRsDate=_0x28cc48,document[_0x431939(0x209)]('.rs-date-chip')['forEach'](_0x393066=>_0x393066[_0x431939(0x1c5)][_0x431939(0x283)]('active'));if(_0x2c5419)_0x2c5419[_0x431939(0x1c5)][_0x431939(0x1b8)](_0x431939(0x254));const _0x25d087=document[_0x431939(0x28c)](_0x431939(0x222));_0x25d087[_0x431939(0x275)]='';const _0x4e5f33=availableSlotsCache[_0x28cc48]||[];if(_0x4e5f33['length']===0x0){_0x25d087[_0x431939(0x275)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x4e5f33[_0x431939(0x20a)](_0x4ec6ee=>{const _0xcb158b=_0x431939,_0x2b49c5=document[_0xcb158b(0x1f7)](_0xcb158b(0x236));_0x2b49c5[_0xcb158b(0x1d1)]=_0xcb158b(0x265),_0x2b49c5[_0xcb158b(0x2a0)]=_0x4ec6ee,_0x2b49c5[_0xcb158b(0x264)]=()=>confirmReschedule(_0x4ec6ee),_0x25d087[_0xcb158b(0x21f)](_0x2b49c5);});}async function confirmReschedule(_0x4e1b32){const _0x37fe5=a3_0x9bd694,_0x59a6f9=new Date(selectedRsDate),_0x3f1021=_0x59a6f9[_0x37fe5(0x1f3)](_0x37fe5(0x256),{'day':_0x37fe5(0x1ca),'month':_0x37fe5(0x257)}),_0x839a55=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3f1021+_0x37fe5(0x208)+_0x4e1b32+'?',![]);if(!_0x839a55)return;closeAllSheets(),showToast(_0x37fe5(0x296)),lastUserActionTime=Date[_0x37fe5(0x230)]();const _0x3e2041=currentSession[_0x37fe5(0x232)],_0x52246b=currentSession['id'],[_0x35a5b3,_0x32720e]=currentSession[_0x37fe5(0x260)][_0x37fe5(0x1c1)](':')[_0x37fe5(0x299)](Number),[_0x28b554,_0x1a3613]=currentSession['end'][_0x37fe5(0x1c1)](':')[_0x37fe5(0x299)](Number),_0x296be3=_0x28b554*0x3c+_0x1a3613-(_0x35a5b3*0x3c+_0x32720e),[_0x29d818,_0x44ba31]=_0x4e1b32[_0x37fe5(0x1c1)](':')['map'](Number),_0x7e9ea1=_0x29d818*0x3c+_0x44ba31+_0x296be3,_0x2232c5=Math[_0x37fe5(0x20b)](_0x7e9ea1/0x3c),_0x40d9a4=_0x7e9ea1%0x3c,_0x37fe67=String(_0x2232c5)[_0x37fe5(0x2a3)](0x2,'0')+':'+String(_0x40d9a4)[_0x37fe5(0x2a3)](0x2,'0'),_0x37c8ee=sessions[_0x37fe5(0x1e3)](_0x2e88ec=>_0x2e88ec['id']===_0x52246b);_0x37c8ee!==-0x1&&(sessions[_0x37c8ee][_0x37fe5(0x232)]=selectedRsDate,sessions[_0x37c8ee][_0x37fe5(0x260)]=_0x4e1b32,sessions[_0x37c8ee][_0x37fe5(0x1a9)]=_0x37fe67,reRenderBlocks());try{const _0x524ecf=window[_0x37fe5(0x1b4)]?.[_0x37fe5(0x1cd)],_0x5a7e6a=await fetch(API_URL,{'method':_0x37fe5(0x251),'body':JSON['stringify']({'action':_0x37fe5(0x274),'init_data':_0x524ecf?.[_0x37fe5(0x1bb)]||'','oldSessionId':_0x52246b,'oldDate':_0x3e2041,'newDate':selectedRsDate,'newTime':_0x4e1b32,'coachId':currentSession[_0x37fe5(0x1d5)]})}),_0x33a990=await _0x5a7e6a['json']();!_0x33a990['ok']?(showToast(_0x37fe5(0x22e)),DataManager[_0x37fe5(0x270)]()):(showToast(_0x37fe5(0x266)),DataManager[_0x37fe5(0x238)]());}catch(_0xcb64fa){showToast(_0x37fe5(0x1dd));}}document[a3_0x9bd694(0x1dc)](a3_0x9bd694(0x204),init);