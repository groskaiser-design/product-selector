const a3_0x3ba30e=a3_0x20da;(function(_0x2b32a9,_0x2ea805){const _0x4279e8=a3_0x20da,_0x3cbf67=_0x2b32a9();while(!![]){try{const _0x43d440=-parseInt(_0x4279e8(0x16f))/0x1+parseInt(_0x4279e8(0x10e))/0x2*(-parseInt(_0x4279e8(0x174))/0x3)+-parseInt(_0x4279e8(0x18c))/0x4*(-parseInt(_0x4279e8(0x126))/0x5)+parseInt(_0x4279e8(0xff))/0x6+-parseInt(_0x4279e8(0x194))/0x7*(parseInt(_0x4279e8(0xfe))/0x8)+parseInt(_0x4279e8(0x1a7))/0x9+parseInt(_0x4279e8(0xeb))/0xa;if(_0x43d440===_0x2ea805)break;else _0x3cbf67['push'](_0x3cbf67['shift']());}catch(_0x14af12){_0x3cbf67['push'](_0x3cbf67['shift']());}}}(a3_0x4ba6,0x2d613));const APP_VERSION=a3_0x3ba30e(0xdb),API_URL=a3_0x3ba30e(0xee),GRID_H=0x3c,KEY_SESSIONS=a3_0x3ba30e(0x17c),KEY_SETTINGS=a3_0x3ba30e(0x18a),KEY_CLIENTS=a3_0x3ba30e(0x181);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2c604b=a3_0x3ba30e,_0xed206e=(function(){let _0x5e9ab6=!![];return function(_0x43be23,_0x40673f){const _0x1f9f91=_0x5e9ab6?function(){const _0xead08a=a3_0x20da;if(_0x40673f){const _0x4eb703=_0x40673f[_0xead08a(0x140)](_0x43be23,arguments);return _0x40673f=null,_0x4eb703;}}:function(){};return _0x5e9ab6=![],_0x1f9f91;};}()),_0x57d42d=_0xed206e(this,function(){const _0x13375f=a3_0x20da;return _0x57d42d[_0x13375f(0x133)]()[_0x13375f(0x183)](_0x13375f(0xd4))[_0x13375f(0x133)]()[_0x13375f(0x100)](_0x57d42d)[_0x13375f(0x183)](_0x13375f(0xd4));});_0x57d42d();try{const _0x587c6a=window['Telegram']?.['WebApp'];if(!_0x587c6a)return;_0x587c6a[_0x2c604b(0x16a)](),_0x587c6a[_0x2c604b(0x155)]();try{_0x587c6a[_0x2c604b(0x11c)](_0x2c604b(0x168)),_0x587c6a[_0x2c604b(0xe0)]&&_0x587c6a['setBackgroundColor']('#050505');}catch(_0x58280d){console[_0x2c604b(0xe4)]('Error\x20setting\x20color:',_0x58280d);}try{_0x587c6a[_0x2c604b(0x1c0)]&&(_0x587c6a[_0x2c604b(0x1c0)][_0x2c604b(0x114)](),_0x587c6a[_0x2c604b(0x1c0)][_0x2c604b(0x1bf)](),_0x587c6a[_0x2c604b(0x1c0)][_0x2c604b(0x128)](function(){const _0x416aa6=_0x2c604b;window[_0x416aa6(0x122)][_0x416aa6(0x180)]=_0x416aa6(0x191);}));}catch(_0x8b5fac){console[_0x2c604b(0xe4)]('Error\x20setting\x20back\x20button:',_0x8b5fac);}try{if(_0x587c6a[_0x2c604b(0x130)])_0x587c6a[_0x2c604b(0x130)]();}catch(_0x2d87f7){}}catch(_0x69a89c){console['error'](_0x2c604b(0x103),_0x69a89c);}}());function isAdmin(){const _0x1a0cd4=a3_0x3ba30e;try{const _0x4ff52e=Number(window[_0x1a0cd4(0x1c5)]?.[_0x1a0cd4(0x179)]?.[_0x1a0cd4(0x159)]?.['user']?.['id']);return _0x4ff52e===0xbaf7174;}catch(_0x28c1f3){return![];}}const DataManager={'saveLocally'(){const _0x38d945=a3_0x3ba30e;try{localStorage[_0x38d945(0xd3)](KEY_SESSIONS,JSON[_0x38d945(0x127)](sessions)),localStorage[_0x38d945(0xd3)](KEY_CLIENTS,JSON[_0x38d945(0x127)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x38d945(0x127)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5e9684){}},'loadLocal'(){const _0x1a1756=a3_0x3ba30e;try{const _0x142a31=localStorage[_0x1a1756(0x18e)](KEY_SESSIONS);if(_0x142a31)sessions=JSON['parse'](_0x142a31);const _0x2114e1=localStorage[_0x1a1756(0x18e)](KEY_CLIENTS);if(_0x2114e1)clients=JSON[_0x1a1756(0x13a)](_0x2114e1);const _0x180e7d=localStorage['getItem'](KEY_SETTINGS);if(_0x180e7d){const _0x1690aa=JSON[_0x1a1756(0x13a)](_0x180e7d);if(_0x1690aa[_0x1a1756(0xd6)])availabilityPattern=_0x1690aa[_0x1a1756(0xd6)];if(_0x1690aa[_0x1a1756(0xf5)])specialRanges=_0x1690aa[_0x1a1756(0xf5)];if(_0x1690aa[_0x1a1756(0x113)])dateExceptions=_0x1690aa[_0x1a1756(0x113)];}}catch(_0x3bdc20){}},async 'syncLoad'(){const _0x2727af=a3_0x3ba30e,_0x54bcbd=new Date(),_0x50e921=_0x54bcbd['getFullYear']()+'-'+String(_0x54bcbd['getMonth']()+0x1)[_0x2727af(0x185)](0x2,'0'),_0x184c2e=new Date(_0x54bcbd);_0x184c2e[_0x2727af(0x135)](_0x54bcbd[_0x2727af(0x176)]()+0x1);const _0x4488cf=_0x184c2e[_0x2727af(0xd2)]()+'-'+String(_0x184c2e[_0x2727af(0x176)]()+0x1)[_0x2727af(0x185)](0x2,'0'),_0xbd185f=Date[_0x2727af(0x18f)]();try{const _0x53c2d2=window[_0x2727af(0x1c5)]?.[_0x2727af(0x179)],_0x5f431f=_0x53c2d2?.['initData']||'',[_0x1cc29f,_0x1cd680]=await Promise[_0x2727af(0xe6)]([fetch(API_URL,{'method':'POST','body':JSON[_0x2727af(0x127)]({'action':_0x2727af(0x154),'init_data':_0x5f431f,'month_str':_0x50e921})})['then'](_0x4da832=>_0x4da832[_0x2727af(0x1ab)]()),fetch(API_URL,{'method':_0x2727af(0x178),'body':JSON['stringify']({'action':_0x2727af(0x154),'init_data':_0x5f431f,'month_str':_0x4488cf})})[_0x2727af(0x1c2)](_0x3412c3=>_0x3412c3[_0x2727af(0x1ab)]())]);if(lastUserActionTime>_0xbd185f){console[_0x2727af(0xe4)](_0x2727af(0x187));return;}if(_0x1cc29f['ok'])this[_0x2727af(0x1a6)](_0x1cc29f[_0x2727af(0x189)],_0x50e921);if(_0x1cd680['ok'])this[_0x2727af(0x1a6)](_0x1cd680[_0x2727af(0x189)],_0x4488cf);this[_0x2727af(0x12c)]();}catch(_0x222a0d){}},'applyData'(_0x54ba65,_0x160b77){const _0x1f9e9b=a3_0x3ba30e;if(!_0x54ba65)return;if(_0x54ba65[_0x1f9e9b(0x106)]){if(_0x54ba65[_0x1f9e9b(0x106)]['pattern'])availabilityPattern=_0x54ba65[_0x1f9e9b(0x106)][_0x1f9e9b(0xd6)];if(_0x54ba65[_0x1f9e9b(0x106)]['ranges'])specialRanges=_0x54ba65[_0x1f9e9b(0x106)][_0x1f9e9b(0xf5)];if(_0x54ba65['settings'][_0x1f9e9b(0x113)])dateExceptions=_0x54ba65[_0x1f9e9b(0x106)][_0x1f9e9b(0x113)];}if(_0x54ba65['clients']&&Array[_0x1f9e9b(0x1c4)](_0x54ba65[_0x1f9e9b(0x14f)]))clients=_0x54ba65[_0x1f9e9b(0x14f)];_0x54ba65[_0x1f9e9b(0x125)]&&(coachProfiles={...coachProfiles,..._0x54ba65[_0x1f9e9b(0x125)]}),_0x54ba65[_0x1f9e9b(0x193)]&&(sessions=sessions[_0x1f9e9b(0x172)](_0x3fa5a7=>!_0x3fa5a7['dateStr'][_0x1f9e9b(0x104)](_0x160b77)),Object[_0x1f9e9b(0xf3)](_0x54ba65[_0x1f9e9b(0x193)])['forEach'](_0x35809a=>{const _0x34191b=_0x1f9e9b,_0x4f447e=_0x54ba65['calendar'][_0x35809a];_0x4f447e[_0x34191b(0xe5)](_0x11ed31=>{const _0x87c233=_0x34191b;sessions[_0x87c233(0x11f)]({'id':_0x11ed31['i'],'clientId':_0x11ed31['c'],'coachId':_0x11ed31[_0x87c233(0x139)],'dateStr':_0x160b77+'-'+_0x35809a[_0x87c233(0x185)](0x2,'0'),'start':_0x11ed31['s'],'end':_0x11ed31['e'],'note':_0x11ed31['n']||'','status':_0x11ed31['st']||'planned','seriesId':_0x11ed31[_0x87c233(0xf2)]});});})),reRenderBlocks();}};function init(){const _0x4bcbaa=a3_0x3ba30e;DataManager[_0x4bcbaa(0x14d)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4bcbaa(0x136)](_0x4bcbaa(0x1ae))[_0x4bcbaa(0x112)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4bcbaa(0x10c)]();}function renderTimeColumn(){const _0x1e733e=a3_0x3ba30e,_0x51c264=document[_0x1e733e(0x136)]('timeColumn'),_0x55150a=document[_0x1e733e(0x136)](_0x1e733e(0xf6));_0x51c264[_0x1e733e(0x143)]='',_0x51c264[_0x1e733e(0x1a4)](_0x55150a);for(let _0x51657a=0x0;_0x51657a<0x18;_0x51657a++){const _0x710271=document['createElement'](_0x1e733e(0x107));_0x710271[_0x1e733e(0x12e)]=_0x1e733e(0x195);if(_0x51657a>0x0)_0x710271[_0x1e733e(0x143)]=_0x1e733e(0x1c3)+String(_0x51657a)[_0x1e733e(0x185)](0x2,'0')+':00</span>';_0x51c264['appendChild'](_0x710271);}}function renderDayRange(_0x2bfe9b,_0x498b07){const _0x39b752=a3_0x3ba30e,_0x56e280=document[_0x39b752(0x136)](_0x39b752(0xfd)),_0x1b7887=document[_0x39b752(0x136)](_0x39b752(0x129)),_0x286d23=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x234347=new Date();_0x234347[_0x39b752(0x124)](0x0,0x0,0x0,0x0);const _0x57213b=getLocalDateStr(new Date());for(let _0x54b68f=_0x2bfe9b;_0x54b68f<=_0x498b07;_0x54b68f++){const _0x2fed4b=new Date(_0x234347);_0x2fed4b['setDate'](_0x2fed4b[_0x39b752(0x15d)]()+_0x54b68f);const _0x10dd17=getLocalDateStr(_0x2fed4b);let _0x2c6631=_0x2fed4b[_0x39b752(0x186)]()-0x1;if(_0x2c6631===-0x1)_0x2c6631=0x6;const _0x2eeb05=_0x10dd17===_0x57213b,_0x466525=document['createElement'](_0x39b752(0x107));_0x466525['className']=_0x39b752(0x13b)+(_0x2eeb05?_0x39b752(0x148):''),_0x466525['setAttribute'](_0x39b752(0x145),_0x10dd17),_0x466525['innerHTML']=_0x39b752(0x13f)+_0x286d23[_0x2c6631]+_0x39b752(0x141)+_0x2fed4b['getDate']()+_0x39b752(0xd1),_0x56e280[_0x39b752(0x1a4)](_0x466525);const _0x51a90e=document[_0x39b752(0x165)]('div');_0x51a90e[_0x39b752(0x12e)]='day-column\x20'+(_0x2eeb05?_0x39b752(0x148):''),_0x51a90e['setAttribute'](_0x39b752(0x145),_0x10dd17),_0x51a90e[_0x39b752(0x17a)]('data-day-idx',_0x2c6631),_0x1b7887[_0x39b752(0x1a4)](_0x51a90e);}}function reRenderBlocks(){const _0x436bfc=a3_0x3ba30e;document[_0x436bfc(0xdd)](_0x436bfc(0x177))[_0x436bfc(0xe5)](_0xf2d866=>{const _0xbd0633=_0x436bfc;_0xf2d866[_0xbd0633(0xdd)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0xbd0633(0xe5)](_0x19404a=>_0x19404a[_0xbd0633(0x1a0)]());const _0x4ee66b=_0xf2d866[_0xbd0633(0xe1)](_0xbd0633(0x145)),_0x29e238=parseInt(_0xf2d866['getAttribute'](_0xbd0633(0x1bb))),_0x3dad55=Math[_0xbd0633(0x16c)](_0xf2d866[_0xbd0633(0x19f)]);(availabilityPattern[_0x29e238]||[])[_0xbd0633(0xe5)](_0xd5c79e=>{const _0x21cb0b=_0xbd0633,_0x172995=document['createElement'](_0x21cb0b(0x107));_0x172995[_0x21cb0b(0x12e)]=_0x21cb0b(0x119),_0x172995[_0x21cb0b(0x16b)][_0x21cb0b(0x11a)]=_0xd5c79e*GRID_H+'px',_0x172995['style'][_0x21cb0b(0x1a8)]='-'+_0x3dad55+_0x21cb0b(0x1a1)+_0xd5c79e*GRID_H+'px',_0xf2d866[_0x21cb0b(0x1a4)](_0x172995);});if(specialRanges[_0xbd0633(0x196)]>0x0){const _0x18b430=new Date(_0x4ee66b+_0xbd0633(0x111))[_0xbd0633(0x153)](),_0x3e93f6=new Date(_0x4ee66b+'T23:59:59')['getTime']();specialRanges[_0xbd0633(0xe5)](_0x2c65da=>{const _0x5b3e30=_0xbd0633,_0x39fa08=new Date(_0x2c65da[_0x5b3e30(0x132)])[_0x5b3e30(0x153)](),_0x28c528=new Date(_0x2c65da[_0x5b3e30(0x157)])[_0x5b3e30(0x153)](),_0x4bd020=Math[_0x5b3e30(0x134)](_0x18b430,_0x39fa08),_0x50afa4=Math[_0x5b3e30(0x1a3)](_0x3e93f6,_0x28c528);if(_0x4bd020<_0x50afa4){const _0x52997b=(_0x4bd020-_0x18b430)/0x36ee80*GRID_H,_0x1d4fc8=(_0x50afa4-_0x4bd020)/0x36ee80*GRID_H,_0x5982b1=document['createElement']('div');_0x1d4fc8>=23.5*GRID_H?(_0x5982b1[_0x5b3e30(0x12e)]=_0x5b3e30(0x152),_0x5982b1[_0x5b3e30(0x16b)]['backgroundPosition']='-'+_0x3dad55+_0x5b3e30(0x197)):(_0x5982b1[_0x5b3e30(0x12e)]='blocked-range-part\x20stripe-bg',_0x5982b1[_0x5b3e30(0x16b)][_0x5b3e30(0x11a)]=_0x52997b+'px',_0x5982b1['style'][_0x5b3e30(0x10f)]=_0x1d4fc8+'px',_0x5982b1[_0x5b3e30(0x16b)]['backgroundPosition']='-'+_0x3dad55+_0x5b3e30(0x1a1)+_0x52997b+'px'),_0xf2d866[_0x5b3e30(0x1a4)](_0x5982b1);}});}renderEventsForColumn(_0xf2d866,_0x4ee66b);});}function renderEventsForColumn(_0x55cef4,_0x45c23f){const _0x1f9957=a3_0x3ba30e,_0x28fa38=sessions[_0x1f9957(0x172)](_0x1cfdbe=>_0x1cfdbe[_0x1f9957(0x11b)]===_0x45c23f),_0x38a486=_0x28fa38['map'](_0x5f5147=>{const _0x37a822=_0x1f9957,[_0x1bb437,_0x343bee]=_0x5f5147[_0x37a822(0x132)][_0x37a822(0x118)](':')[_0x37a822(0x164)](Number),[_0x456700,_0x4338b4]=_0x5f5147[_0x37a822(0x157)][_0x37a822(0x118)](':')[_0x37a822(0x164)](Number);return{'data':_0x5f5147,'start':_0x1bb437*0x3c+_0x343bee,'end':_0x456700*0x3c+_0x4338b4,'colIndex':0x0};});_0x38a486[_0x1f9957(0xf9)]((_0x58e1e9,_0x2edc43)=>_0x58e1e9[_0x1f9957(0x132)]-_0x2edc43[_0x1f9957(0x132)]||_0x2edc43[_0x1f9957(0x157)]-_0x2edc43[_0x1f9957(0x132)]-(_0x58e1e9[_0x1f9957(0x157)]-_0x58e1e9[_0x1f9957(0x132)]));const _0x5c124f=[];_0x38a486[_0x1f9957(0xe5)](_0x4e41bf=>{const _0x34296b=_0x1f9957;let _0x14ff85=![];for(let _0x5017ae=0x0;_0x5017ae<_0x5c124f['length'];_0x5017ae++){const _0x3a007d=_0x5c124f[_0x5017ae];if(_0x4e41bf['start']>=_0x3a007d[_0x3a007d[_0x34296b(0x196)]-0x1][_0x34296b(0x157)]){_0x3a007d['push'](_0x4e41bf),_0x4e41bf[_0x34296b(0x108)]=_0x5017ae,_0x14ff85=!![];break;}}!_0x14ff85&&(_0x5c124f[_0x34296b(0x11f)]([_0x4e41bf]),_0x4e41bf['colIndex']=_0x5c124f[_0x34296b(0x196)]-0x1);}),_0x38a486['forEach'](_0x333d04=>{const _0x100a55=_0x1f9957;let _0x5c30ec=0x0;_0x38a486[_0x100a55(0xe5)](_0x50077a=>{const _0x3873af=_0x100a55;if(Math[_0x3873af(0x134)](_0x333d04[_0x3873af(0x132)],_0x50077a[_0x3873af(0x132)])<Math[_0x3873af(0x1a3)](_0x333d04[_0x3873af(0x157)],_0x50077a[_0x3873af(0x157)])&&_0x50077a[_0x3873af(0x108)]>_0x5c30ec)_0x5c30ec=_0x50077a[_0x3873af(0x108)];});const _0x54b6f5=_0x5c30ec+0x1,_0x167023=0x64/_0x54b6f5,_0x221e77=_0x333d04[_0x100a55(0x108)]*_0x167023,_0x184aa8=document[_0x100a55(0x165)](_0x100a55(0x107)),_0x56ca48=_0x333d04[_0x100a55(0x189)];let _0x16d9ed='#0a84ff';if(clients&&clients['length']>0x0){const _0x2daad6=clients['find'](_0xc3d480=>String(_0xc3d480['id'])===String(_0x56ca48[_0x100a55(0x1b5)]));if(_0x2daad6&&_0x2daad6[_0x100a55(0x1af)])_0x16d9ed=_0x2daad6['color'];}const _0xf581d0=_0x56ca48[_0x100a55(0x163)]==='completed',_0x239e86=_0xf581d0?0x1:0.45;_0x184aa8['className']='event-card'+(_0xf581d0?_0x100a55(0x17f):''),_0x184aa8[_0x100a55(0x16b)][_0x100a55(0x190)]=hexToRgba(_0x16d9ed,_0x239e86),_0x184aa8[_0x100a55(0x16b)]['borderLeftColor']=_0x16d9ed;const _0x1b5393=_0x333d04[_0x100a55(0x132)]/0x3c*GRID_H,_0x154112=(_0x333d04[_0x100a55(0x157)]-_0x333d04[_0x100a55(0x132)])/0x3c*GRID_H;_0x184aa8['style'][_0x100a55(0x11a)]=_0x1b5393+'px',_0x184aa8[_0x100a55(0x16b)][_0x100a55(0x10f)]=Math[_0x100a55(0x134)](_0x154112,0x14)+'px',_0x184aa8[_0x100a55(0x16b)]['width']=_0x100a55(0x12d)+_0x167023+_0x100a55(0xde),_0x184aa8[_0x100a55(0x16b)][_0x100a55(0x1ba)]=_0x100a55(0x12d)+_0x221e77+_0x100a55(0x105),_0x184aa8[_0x100a55(0x16b)]['zIndex']=0xa+_0x333d04['colIndex'];if(_0x167023<0x55)_0x184aa8[_0x100a55(0x117)]['add'](_0x100a55(0x10b));let _0x2f8732='';if(_0x56ca48['seriesId'])_0x2f8732+=_0x100a55(0x1ac);if(_0xf581d0)_0x2f8732+=_0x100a55(0x1bc);_0x184aa8['innerHTML']=_0x100a55(0xfa)+_0x56ca48['start']+_0x100a55(0x115)+_0x56ca48[_0x100a55(0x157)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f8732+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x184aa8[_0x100a55(0x138)]=_0x1ae6f3=>{_0x1ae6f3['stopPropagation'](),openDetails(_0x56ca48);},_0x55cef4[_0x100a55(0x1a4)](_0x184aa8);});}function openAnalytics(){const _0x56a9cb=a3_0x3ba30e,_0x12df5d=document[_0x56a9cb(0x198)](_0x56a9cb(0x142));setAnalyticsPeriod(_0x56a9cb(0x169),_0x12df5d),openSheet(_0x56a9cb(0x146));}function setAnalyticsPeriod(_0x2f3225,_0x1483b4){const _0x5781ba=a3_0x3ba30e;currentAnPeriod=_0x2f3225,document[_0x5781ba(0xdd)](_0x5781ba(0x142))[_0x5781ba(0xe5)](_0x32533e=>_0x32533e[_0x5781ba(0x117)]['remove'](_0x5781ba(0x1aa)));if(_0x1483b4)_0x1483b4[_0x5781ba(0x117)][_0x5781ba(0xdf)](_0x5781ba(0x1aa));const _0x5ad090=document[_0x5781ba(0x136)](_0x5781ba(0x11d));_0x5ad090[_0x5781ba(0x16b)][_0x5781ba(0x109)]=_0x2f3225===_0x5781ba(0x192)?_0x5781ba(0xef):_0x5781ba(0xf7);const _0x5b46a5=new Date();let _0x41ffb4=new Date(),_0x4290e6=new Date();if(_0x2f3225==='week')_0x41ffb4=getStartOfWeek(_0x5b46a5),_0x4290e6=new Date(_0x41ffb4),_0x4290e6[_0x5781ba(0x18b)](_0x4290e6[_0x5781ba(0x15d)]()+0x6);else{if(_0x2f3225===_0x5781ba(0x17e))_0x41ffb4=new Date(_0x5b46a5['getFullYear'](),_0x5b46a5[_0x5781ba(0x176)](),0x1),_0x4290e6=new Date(_0x5b46a5[_0x5781ba(0xd2)](),_0x5b46a5['getMonth']()+0x1,0x0);else{!document[_0x5781ba(0x136)](_0x5781ba(0x19b))[_0x5781ba(0x167)]&&(document['getElementById'](_0x5781ba(0x19b))[_0x5781ba(0x167)]=getLocalDateStr(_0x5b46a5),document[_0x5781ba(0x136)]('anEnd')['value']=getLocalDateStr(_0x5b46a5));refreshAnalytics();return;}}document[_0x5781ba(0x136)]('anStart')[_0x5781ba(0x167)]=getLocalDateStr(_0x41ffb4),document['getElementById'](_0x5781ba(0x15c))['value']=getLocalDateStr(_0x4290e6),refreshAnalytics();}function refreshAnalytics(){const _0xc0e69b=a3_0x3ba30e,_0x7d5ced=document[_0xc0e69b(0x136)](_0xc0e69b(0x19b))[_0xc0e69b(0x167)],_0x36f5d7=document[_0xc0e69b(0x136)]('anEnd')[_0xc0e69b(0x167)];if(!_0x7d5ced||!_0x36f5d7)return;const _0x56a083=sessions['filter'](_0x15aca3=>_0x15aca3['dateStr']>=_0x7d5ced&&_0x15aca3['dateStr']<=_0x36f5d7&&_0x15aca3[_0xc0e69b(0x163)]!=='cancelled'),_0x534dc3=_0x56a083['length'],_0x8833d=_0x56a083['filter'](_0x36a40b=>_0x36a40b['status']===_0xc0e69b(0xf8))[_0xc0e69b(0x196)],_0x3f89d9=_0x534dc3>0x0?Math['round'](_0x8833d/_0x534dc3*0x64):0x0;document[_0xc0e69b(0x136)](_0xc0e69b(0x10d))[_0xc0e69b(0x184)]=_0x3f89d9+'%',document[_0xc0e69b(0x136)](_0xc0e69b(0x15f))[_0xc0e69b(0x184)]=_0x8833d+'\x20–∏–∑\x20'+_0x534dc3+_0xc0e69b(0x17d);const _0x1ade45=document[_0xc0e69b(0x136)](_0xc0e69b(0x182)),_0x25c8ce=0x2*Math['PI']*0x23,_0x5be4db=_0x25c8ce-_0x3f89d9/0x64*_0x25c8ce;_0x1ade45[_0xc0e69b(0x16b)]['strokeDashoffset']=_0x5be4db;const _0x4f1f96={};_0x56a083[_0xc0e69b(0xe5)](_0x4bbf8=>{const _0x48b1c9=_0xc0e69b,_0x1df972=_0x4bbf8[_0x48b1c9(0x102)]||_0x48b1c9(0xd8);if(!_0x4f1f96[_0x1df972]){const _0x9276be='#'+_0x1df972[_0x48b1c9(0x133)]()[_0x48b1c9(0x19d)](0x0,0x6);_0x4f1f96[_0x1df972]={'total':0x0,'done':0x0,'color':_0x9276be};}_0x4f1f96[_0x1df972]['total']++;if(_0x4bbf8[_0x48b1c9(0x163)]==='completed')_0x4f1f96[_0x1df972][_0x48b1c9(0x158)]++;});const _0x54d021=document['getElementById'](_0xc0e69b(0x1a5));_0x54d021['innerHTML']='';const _0x3ce959=Object[_0xc0e69b(0x14b)](_0x4f1f96)[_0xc0e69b(0xf9)]((_0x4498ed,_0x4ded99)=>_0x4ded99[0x1]['total']-_0x4498ed[0x1]['total']);if(_0x3ce959[_0xc0e69b(0x196)]===0x0){_0x54d021[_0xc0e69b(0x143)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3ce959['forEach'](([_0x424889,_0x41bac9])=>{const _0x21a5fc=_0xc0e69b,_0x5960a5=Math[_0x21a5fc(0x16c)](_0x41bac9[_0x21a5fc(0x158)]/_0x41bac9[_0x21a5fc(0x14a)]*0x64),_0x21625c=document[_0x21a5fc(0x165)](_0x21a5fc(0x107));_0x21625c[_0x21a5fc(0x12e)]='client-stat-card',_0x21625c[_0x21a5fc(0x16b)][_0x21a5fc(0x1ad)]=_0x41bac9[_0x21a5fc(0x1af)],_0x21625c[_0x21a5fc(0x143)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x424889[_0x21a5fc(0x19d)](0x0,0x5)+_0x21a5fc(0x149)+_0x41bac9[_0x21a5fc(0x158)]+'</span>\x20/\x20'+_0x41bac9[_0x21a5fc(0x14a)]+_0x21a5fc(0x1b9)+_0x5960a5+_0x21a5fc(0x151),_0x54d021[_0x21a5fc(0x1a4)](_0x21625c);});}function openDetails(_0x5c2e78){const _0x2ef7fd=a3_0x3ba30e;currentSession=_0x5c2e78;const _0x3cab41=new Date(_0x5c2e78[_0x2ef7fd(0x11b)]),_0x5c07bc=_0x3cab41[_0x2ef7fd(0x11e)]('ru-RU',{'weekday':_0x2ef7fd(0xe2),'day':_0x2ef7fd(0x161),'month':_0x2ef7fd(0xe2)});document[_0x2ef7fd(0x136)](_0x2ef7fd(0xe9))[_0x2ef7fd(0x184)]=_0x5c07bc[_0x2ef7fd(0x1b8)](0x0)[_0x2ef7fd(0xf4)]()+_0x5c07bc['slice'](0x1),document[_0x2ef7fd(0x136)](_0x2ef7fd(0x1a9))[_0x2ef7fd(0x184)]=_0x5c2e78[_0x2ef7fd(0x132)]+'\x20-\x20'+_0x5c2e78['end'],document[_0x2ef7fd(0x136)]('detNote')[_0x2ef7fd(0x184)]=_0x5c2e78[_0x2ef7fd(0x15b)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x110c1d=document[_0x2ef7fd(0x136)](_0x2ef7fd(0xd7)),_0x620882=document['getElementById'](_0x2ef7fd(0xe8)),_0x4b5b43=_0x620882[_0x2ef7fd(0x198)](_0x2ef7fd(0x1b6)),_0x63e906=_0x620882[_0x2ef7fd(0x198)](_0x2ef7fd(0x1b4)),_0x59ed83=document['getElementById'](_0x2ef7fd(0xfb));if(_0x5c2e78[_0x2ef7fd(0x163)]===_0x2ef7fd(0xf8))_0x110c1d[_0x2ef7fd(0x184)]=_0x2ef7fd(0x19a),_0x110c1d['style'][_0x2ef7fd(0x1af)]='var(--acc-green)',_0x620882[_0x2ef7fd(0x16b)][_0x2ef7fd(0x109)]=_0x2ef7fd(0xf7);else{_0x110c1d[_0x2ef7fd(0x184)]=_0x2ef7fd(0x166),_0x110c1d['style']['color']=_0x2ef7fd(0x171),_0x620882[_0x2ef7fd(0x16b)]['display']=_0x2ef7fd(0x18d);const _0x5d6435=new Date(_0x5c2e78[_0x2ef7fd(0x11b)]+'T'+_0x5c2e78[_0x2ef7fd(0x132)]),_0x25d665=new Date(),_0x587a4b=(_0x5d6435-_0x25d665)/(0x3e8*0x3c*0x3c),_0x506678=coachProfiles[_0x5c2e78[_0x2ef7fd(0x102)]]&&coachProfiles[_0x5c2e78['coachId']][_0x2ef7fd(0x147)]?parseInt(coachProfiles[_0x5c2e78[_0x2ef7fd(0x102)]]['cancel_window']):0x18;if(_0x506678===0x0||_0x587a4b>=_0x506678)_0x4b5b43[_0x2ef7fd(0x16b)]['display']=_0x2ef7fd(0x18d),_0x63e906['style'][_0x2ef7fd(0x109)]=_0x2ef7fd(0x18d),_0x59ed83[_0x2ef7fd(0x16b)][_0x2ef7fd(0x109)]=_0x2ef7fd(0xf7);else{_0x4b5b43[_0x2ef7fd(0x16b)][_0x2ef7fd(0x109)]='none',_0x63e906[_0x2ef7fd(0x16b)][_0x2ef7fd(0x109)]=_0x2ef7fd(0xf7),_0x59ed83['style']['display']=_0x2ef7fd(0x18d);let _0x248cc8=_0x506678===0x0?_0x2ef7fd(0xec):'–∑–∞\x20'+_0x506678+'\x20—á.';_0x59ed83[_0x2ef7fd(0x184)]=_0x2ef7fd(0x13d)+_0x248cc8+_0x2ef7fd(0x12f);}}document[_0x2ef7fd(0x136)](_0x2ef7fd(0x1b3))[_0x2ef7fd(0x117)][_0x2ef7fd(0xdf)](_0x2ef7fd(0x1aa)),document[_0x2ef7fd(0x136)](_0x2ef7fd(0x19c))[_0x2ef7fd(0x117)][_0x2ef7fd(0xdf)](_0x2ef7fd(0x10a));}function closeAllSheets(){const _0x19f0fc=a3_0x3ba30e;document[_0x19f0fc(0x136)](_0x19f0fc(0x1b3))[_0x19f0fc(0x117)][_0x19f0fc(0x1a0)]('active'),document['querySelectorAll'](_0x19f0fc(0x13e))[_0x19f0fc(0xe5)](_0x3a16fa=>_0x3a16fa[_0x19f0fc(0x117)]['remove'](_0x19f0fc(0x10a)));}function openSheet(_0x5b8ccf){const _0x5c1599=a3_0x3ba30e;document[_0x5c1599(0x136)](_0x5c1599(0x1b3))['classList']['add'](_0x5c1599(0x1aa)),document[_0x5c1599(0x136)](_0x5b8ccf)[_0x5c1599(0x117)]['add'](_0x5c1599(0x10a));}function getLocalDateStr(_0xfa6dc3){const _0x5c96c5=a3_0x3ba30e,_0x39b42b=_0xfa6dc3[_0x5c96c5(0xd2)](),_0x30a29b=String(_0xfa6dc3[_0x5c96c5(0x176)]()+0x1)[_0x5c96c5(0x185)](0x2,'0'),_0x538754=String(_0xfa6dc3[_0x5c96c5(0x15d)]())[_0x5c96c5(0x185)](0x2,'0');return _0x39b42b+'-'+_0x30a29b+'-'+_0x538754;}function getStartOfWeek(_0x48b5ad){const _0x2af611=a3_0x3ba30e,_0x43e855=new Date(_0x48b5ad),_0x5ba9a9=_0x43e855[_0x2af611(0x186)](),_0x1b2184=_0x43e855[_0x2af611(0x15d)]()-_0x5ba9a9+(_0x5ba9a9===0x0?-0x6:0x1);return _0x43e855[_0x2af611(0x18b)](_0x1b2184),_0x43e855['setHours'](0x0,0x0,0x0,0x0),_0x43e855;}function scrollToToday(){const _0x36c1e7=getLocalDateStr(new Date());setTimeout(()=>{const _0xfed7e1=a3_0x20da,_0x25f71b=document[_0xfed7e1(0x198)](_0xfed7e1(0x1c6)+_0x36c1e7+'\x22]');if(_0x25f71b){const _0x4f6fc7=document[_0xfed7e1(0x136)](_0xfed7e1(0x1ae)),_0x423782=_0x25f71b[_0xfed7e1(0x19f)]-_0x4f6fc7[_0xfed7e1(0x14e)]/0x2+_0x25f71b[_0xfed7e1(0x173)]/0x2;_0x4f6fc7['scrollTo']({'left':_0x423782,'behavior':'auto'}),_0x4f6fc7[_0xfed7e1(0x1c1)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x50a7b2=a3_0x3ba30e,_0x15dc42=new Date(),_0x34fc1a=document['getElementById']('globalTimeLine'),_0x288d4b=document['getElementById']('timeLineBadge'),_0x2c9959=(_0x15dc42[_0x50a7b2(0x14c)]()*0x3c+_0x15dc42[_0x50a7b2(0x175)]())/0x3c*GRID_H;_0x34fc1a['style'][_0x50a7b2(0x11a)]=_0x2c9959+'px',_0x34fc1a[_0x50a7b2(0x16b)]['display']=_0x50a7b2(0x18d),_0x288d4b[_0x50a7b2(0x16b)][_0x50a7b2(0x11a)]=_0x2c9959+'px',_0x288d4b[_0x50a7b2(0x16b)][_0x50a7b2(0x109)]=_0x50a7b2(0x18d),_0x288d4b['textContent']=String(_0x15dc42['getHours']())[_0x50a7b2(0x185)](0x2,'0')+':'+String(_0x15dc42['getMinutes']())[_0x50a7b2(0x185)](0x2,'0');}function onScroll(){const _0x10d2b8=a3_0x3ba30e,_0xc82694=document['getElementById']('matrixViewport'),_0x1b0ff8=document[_0x10d2b8(0xdd)](_0x10d2b8(0x1a2));for(let _0x349da5 of _0x1b0ff8)if(_0x349da5[_0x10d2b8(0x19f)]>=_0xc82694[_0x10d2b8(0x170)]){const _0x223f2f=new Date(_0x349da5[_0x10d2b8(0xe1)](_0x10d2b8(0x145)));document[_0x10d2b8(0x136)](_0x10d2b8(0x12b))[_0x10d2b8(0x184)]=_0x223f2f['toLocaleString']('ru',{'month':_0x10d2b8(0xe2)})['toUpperCase']()+'\x20'+_0x223f2f[_0x10d2b8(0xd2)]();break;}}function showToast(_0xe8dba){const _0x35e2e3=a3_0x3ba30e,_0x371fd2=document[_0x35e2e3(0x136)](_0x35e2e3(0xe7));_0x371fd2[_0x35e2e3(0x184)]=_0xe8dba,_0x371fd2['classList'][_0x35e2e3(0xdf)]('show'),setTimeout(()=>_0x371fd2[_0x35e2e3(0x117)]['remove'](_0x35e2e3(0x114)),0x7d0);}function handleInfiniteScroll(){const _0x540419=a3_0x3ba30e,_0x3298f9=document[_0x540419(0x136)](_0x540419(0x1ae)),_0x5e34c0=_0x3298f9[_0x540419(0x170)],_0x25ec87=_0x3298f9[_0x540419(0xdc)],_0x39cd42=_0x3298f9['clientWidth'];if(_0x25ec87-(_0x5e34c0+_0x39cd42)<0x12c){const _0x1a48aa=endOffset;endOffset+=0xe,renderDayRange(_0x1a48aa+0x1,endOffset),reRenderBlocks();}if(_0x5e34c0<0x12c){const _0x3cdd6b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3cdd6b-0x1),_0x3298f9[_0x540419(0x170)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x17ef0c,_0x26ee0d){const _0x1763d9=a3_0x3ba30e,_0x2b599d=document[_0x1763d9(0x136)](_0x1763d9(0xfd)),_0x39c0dc=document[_0x1763d9(0x136)](_0x1763d9(0x129)),_0x1efbd0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5ce07b=new Date();_0x5ce07b[_0x1763d9(0x124)](0x0,0x0,0x0,0x0);const _0x51a7d0=getLocalDateStr(new Date()),_0x189978=document[_0x1763d9(0xd9)](),_0x486802=document[_0x1763d9(0xd9)]();for(let _0x30ec9e=_0x17ef0c;_0x30ec9e<=_0x26ee0d;_0x30ec9e++){const _0x9b0520=new Date(_0x5ce07b);_0x9b0520[_0x1763d9(0x18b)](_0x9b0520[_0x1763d9(0x15d)]()+_0x30ec9e);const _0x304100=getLocalDateStr(_0x9b0520);let _0x2b9908=_0x9b0520['getDay']()-0x1;if(_0x2b9908===-0x1)_0x2b9908=0x6;const _0x42ce2b=_0x304100===_0x51a7d0,_0x1ebfa0=document[_0x1763d9(0x165)]('div');_0x1ebfa0[_0x1763d9(0x12e)]=_0x1763d9(0x13b)+(_0x42ce2b?_0x1763d9(0x148):''),_0x1ebfa0[_0x1763d9(0x17a)](_0x1763d9(0x145),_0x304100),_0x1ebfa0[_0x1763d9(0x143)]='<div\x20class=\x22dch-day\x22>'+_0x1efbd0[_0x2b9908]+_0x1763d9(0x141)+_0x9b0520[_0x1763d9(0x15d)]()+_0x1763d9(0xd1),_0x189978['appendChild'](_0x1ebfa0);const _0xac1a86=document[_0x1763d9(0x165)](_0x1763d9(0x107));_0xac1a86['className']=_0x1763d9(0xf0)+(_0x42ce2b?_0x1763d9(0x148):''),_0xac1a86['setAttribute'](_0x1763d9(0x145),_0x304100),_0xac1a86[_0x1763d9(0x17a)]('data-day-idx',_0x2b9908),_0x486802[_0x1763d9(0x1a4)](_0xac1a86);}_0x2b599d[_0x1763d9(0x16e)](_0x189978,_0x2b599d[_0x1763d9(0x120)]),_0x39c0dc[_0x1763d9(0x16e)](_0x486802,_0x39c0dc['querySelector']('.day-column'));}function hexToRgba(_0x22f4ec,_0x19d556){const _0x1c1ab0=a3_0x3ba30e;let _0x21447e;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1c1ab0(0x17b)](_0x22f4ec))return _0x21447e=_0x22f4ec[_0x1c1ab0(0x199)](0x1)[_0x1c1ab0(0x118)](''),_0x21447e[_0x1c1ab0(0x196)]==0x3&&(_0x21447e=[_0x21447e[0x0],_0x21447e[0x0],_0x21447e[0x1],_0x21447e[0x1],_0x21447e[0x2],_0x21447e[0x2]]),_0x21447e='0x'+_0x21447e[_0x1c1ab0(0xed)](''),_0x1c1ab0(0x121)+[_0x21447e>>0x10&0xff,_0x21447e>>0x8&0xff,_0x21447e&0xff][_0x1c1ab0(0xed)](',')+','+_0x19d556+')';return _0x1c1ab0(0x1b0)+_0x19d556+')';}let confirmResolver=null;function a3_0x4ba6(){const _0x466c2b=['div','colIndex','display','open','mini','syncLoad','anPercent','5558LWkOVn','height','customConfirm','T00:00:00','addEventListener','exceptions','show','\x20-\x20','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','classList','split','blocked-slot\x20stripe-bg','top','dateStr','setHeaderColor','anCustomDates','toLocaleDateString','push','firstChild','rgba(','location','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','setHours','coach_profiles','44205TusHMd','stringify','onClick','gridColumns','</div><div\x20class=\x22rs-day-num\x22>','headerMonth','saveLocally','calc(','className','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','disableVerticalSwipes','rsDatesTrack','start','toString','max','setMonth','getElementById','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','onclick','cid','parse','day-col-header\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','.sheet','<div\x20class=\x22dch-day\x22>','apply','</div><div\x20class=\x22dch-num\x22>','.period-switch\x20.p-btn','innerHTML','reschedule','data-date','analyticsSheet','cancel_window','today','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','total','entries','getHours','loadLocal','clientWidth','clients','get_slots','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-off-overlay\x20stripe-bg','getTime','client_load','expand','fontWeight','end','done','initDataUnsafe','rescheduleSheet','note','anEnd','getDate','–û—Ç–º–µ–Ω–µ–Ω–æ','anTotalStats','ccTitle','numeric','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','status','map','createElement','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','value','#050505','week','ready','style','round','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','insertBefore','77238iYCnQq','scrollLeft','var(--acc-blue)','filter','offsetWidth','69hPEuYd','getMinutes','getMonth','.day-column','POST','WebApp','setAttribute','test','uc_client_sessions','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','month','\x20status-completed','href','uc_client_list','anDonutCircle','search','textContent','padStart','getDay','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','visible','data','uc_client_settings','setDate','28dpLnMX','block','getItem','now','backgroundColor','router.html','custom','calendar','28eVdrgb','time-label','length','px\x200px','querySelector','substring','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','anStart','detailsSheet','substr','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','offsetLeft','remove','px\x20-','.day-col-header','min','appendChild','analyticsList','applyData','20322dsOiVv','backgroundPosition','detTime','active','json','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','borderLeftColor','matrixViewport','color','rgba(10,\x20132,\x20255,\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','overlay','.btn-reschedule','clientId','.btn-cancel','rsSlotsGrid','charAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','left','data-day-idx','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','ccText','\x20–≤\x20','offClick','BackButton','scrollTop','then','<span>','isArray','Telegram','.day-col-header[data-date=\x22','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','#ff453a','</div>','getFullYear','setItem','(((.+)+)+)+$','<div\x20class=\x22rs-day-name\x22>','pattern','detStatus','Unknown','createDocumentFragment','floor','v9.5-CLIENT-ANALYTICS','scrollWidth','querySelectorAll','%\x20-\x204px)','add','setBackgroundColor','getAttribute','long','initData','log','forEach','all','toast','cancelContainer','detDate','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','4452050mREabo','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','join','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','flex','day-column\x20','ru-RU','sid','keys','toUpperCase','ranges','timeLineBadge','none','completed','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','cancelHint','600','daysHeaderTrack','602824ciutWS','714552jIgxDH','constructor','client_cancel','coachId','Critical\x20TMA\x20Error:','startsWith','%\x20+\x202px)','settings'];a3_0x4ba6=function(){return _0x466c2b;};return a3_0x4ba6();}function showCustomConfirm(_0x1be48b,_0x4abd5f,_0x113b9e=!![]){const _0x300e83=a3_0x3ba30e;document['getElementById'](_0x300e83(0x160))[_0x300e83(0x184)]=_0x1be48b,document[_0x300e83(0x136)](_0x300e83(0x1bd))[_0x300e83(0x184)]=_0x4abd5f;const _0x871ce0=document[_0x300e83(0x136)]('ccYesBtn');return _0x113b9e?(_0x871ce0[_0x300e83(0x16b)]['color']=_0x300e83(0xd0),_0x871ce0[_0x300e83(0x16b)]['fontWeight']=_0x300e83(0xfc)):(_0x871ce0['style'][_0x300e83(0x1af)]='#0a84ff',_0x871ce0['style'][_0x300e83(0x156)]=_0x300e83(0xfc)),new Promise(_0x19691b=>{const _0x3e5c96=_0x300e83;confirmResolver=_0x19691b,document['getElementById'](_0x3e5c96(0x110))['classList'][_0x3e5c96(0xdf)](_0x3e5c96(0x188));});}function a3_0x20da(_0x370b3a,_0x7d4cc2){_0x370b3a=_0x370b3a-0xd0;const _0x1c0e50=a3_0x4ba6();let _0x56e742=_0x1c0e50[_0x370b3a];return _0x56e742;}function resolveCustomConfirm(_0x47ff5d){const _0x135cd2=a3_0x3ba30e;document[_0x135cd2(0x136)](_0x135cd2(0x110))[_0x135cd2(0x117)][_0x135cd2(0x1a0)](_0x135cd2(0x188));if(confirmResolver)confirmResolver(_0x47ff5d);}async function tryCancelCurrentSession(){const _0x222118=a3_0x3ba30e;if(!currentSession)return;const _0x41b904=await showCustomConfirm(_0x222118(0x1b1),_0x222118(0x1b2),!![]);if(!_0x41b904)return;const _0x1a6eaa=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x1aa2de=>_0x1aa2de['id']!==_0x1a6eaa['id']),reRenderBlocks(),showToast(_0x222118(0x15e)),lastUserActionTime=Date[_0x222118(0x18f)]();try{const _0x2f2fed=window['Telegram']?.[_0x222118(0x179)],_0x4f86c0=await fetch(API_URL,{'method':_0x222118(0x178),'body':JSON[_0x222118(0x127)]({'action':_0x222118(0x101),'init_data':_0x2f2fed?.[_0x222118(0xe3)]||'','coachId':_0x1a6eaa[_0x222118(0x102)],'dateStr':_0x1a6eaa[_0x222118(0x11b)],'sessionId':_0x1a6eaa['id']})});if(_0x4f86c0['ok'])DataManager[_0x222118(0x12c)]();}catch(_0x5e5bd5){showToast(_0x222118(0x137));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5f41d0=a3_0x3ba30e;if(!currentSession)return;document[_0x5f41d0(0x136)](_0x5f41d0(0x19c))[_0x5f41d0(0x117)][_0x5f41d0(0x1a0)](_0x5f41d0(0x10a)),document[_0x5f41d0(0x136)](_0x5f41d0(0x15a))[_0x5f41d0(0x117)]['add']('open');const _0x88f6e1=document[_0x5f41d0(0x136)](_0x5f41d0(0x131)),_0x89b1d1=document[_0x5f41d0(0x136)](_0x5f41d0(0x1b7));_0x88f6e1[_0x5f41d0(0x143)]='',_0x89b1d1['innerHTML']=_0x5f41d0(0x16d);const [_0x51bab8,_0x52081c]=currentSession['start'][_0x5f41d0(0x118)](':')[_0x5f41d0(0x164)](Number),[_0x54ca97,_0x7abbb2]=currentSession[_0x5f41d0(0x157)][_0x5f41d0(0x118)](':')[_0x5f41d0(0x164)](Number),_0x2dc7b2=_0x54ca97*0x3c+_0x7abbb2-(_0x51bab8*0x3c+_0x52081c);try{const _0x2c4d4e=window[_0x5f41d0(0x1c5)]?.['WebApp'],_0x4e2956=await fetch(API_URL,{'method':_0x5f41d0(0x178),'body':JSON[_0x5f41d0(0x127)]({'action':_0x5f41d0(0x150),'coachId':currentSession[_0x5f41d0(0x102)],'duration':_0x2dc7b2,'init_data':_0x2c4d4e?.[_0x5f41d0(0xe3)]||'','excludeSessionId':currentSession['id']})}),_0x4a05cf=await _0x4e2956[_0x5f41d0(0x1ab)]();_0x4a05cf['ok']&&_0x4a05cf[_0x5f41d0(0x189)]?(availableSlotsCache=_0x4a05cf[_0x5f41d0(0x189)],renderRescheduleDates()):_0x89b1d1[_0x5f41d0(0x143)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x158d8d){_0x89b1d1[_0x5f41d0(0x143)]=_0x5f41d0(0x123);}}function renderRescheduleDates(){const _0x272cfe=a3_0x3ba30e,_0x33222a=document['getElementById'](_0x272cfe(0x131));_0x33222a['innerHTML']='';const _0x34a48c=Object[_0x272cfe(0xf3)](availableSlotsCache)[_0x272cfe(0xf9)](),_0x141062=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x34a48c['length']===0x0){document[_0x272cfe(0x136)](_0x272cfe(0x1b7))[_0x272cfe(0x143)]=_0x272cfe(0xea);return;}_0x34a48c[_0x272cfe(0xe5)]((_0x429142,_0x22ffce)=>{const _0x5a7cba=_0x272cfe,_0x4844d2=new Date(_0x429142),_0x3e64a6=_0x141062[_0x4844d2[_0x5a7cba(0x186)]()],_0x25f927=_0x4844d2['getDate'](),_0x3272c0=document['createElement']('div');_0x3272c0['className']='rs-date-chip';if(_0x22ffce===0x0)_0x3272c0[_0x5a7cba(0x117)][_0x5a7cba(0xdf)](_0x5a7cba(0x1aa));_0x3272c0[_0x5a7cba(0x143)]=_0x5a7cba(0xd5)+_0x3e64a6+_0x5a7cba(0x12a)+_0x25f927+'</div>',_0x3272c0[_0x5a7cba(0x138)]=()=>selectRsDate(_0x429142,_0x3272c0),_0x33222a[_0x5a7cba(0x1a4)](_0x3272c0);}),selectRsDate(_0x34a48c[0x0],_0x33222a[_0x272cfe(0x120)]);}function selectRsDate(_0x130e08,_0x404efb){const _0x1bfcd0=a3_0x3ba30e;selectedRsDate=_0x130e08,document[_0x1bfcd0(0xdd)]('.rs-date-chip')[_0x1bfcd0(0xe5)](_0x4a0819=>_0x4a0819['classList'][_0x1bfcd0(0x1a0)](_0x1bfcd0(0x1aa)));if(_0x404efb)_0x404efb['classList']['add'](_0x1bfcd0(0x1aa));const _0x382b30=document[_0x1bfcd0(0x136)]('rsSlotsGrid');_0x382b30[_0x1bfcd0(0x143)]='';const _0x19b909=availableSlotsCache[_0x130e08]||[];if(_0x19b909[_0x1bfcd0(0x196)]===0x0){_0x382b30[_0x1bfcd0(0x143)]=_0x1bfcd0(0x13c);return;}_0x19b909['forEach'](_0x290793=>{const _0x4398ce=_0x1bfcd0,_0x23adf7=document[_0x4398ce(0x165)]('button');_0x23adf7[_0x4398ce(0x12e)]='rs-time-btn',_0x23adf7[_0x4398ce(0x184)]=_0x290793,_0x23adf7[_0x4398ce(0x138)]=()=>confirmReschedule(_0x290793),_0x382b30[_0x4398ce(0x1a4)](_0x23adf7);});}async function confirmReschedule(_0x4ea44d){const _0x2fe34c=a3_0x3ba30e,_0xec3a56=new Date(selectedRsDate),_0x51f33e=_0xec3a56['toLocaleDateString'](_0x2fe34c(0xf1),{'day':'numeric','month':'long'}),_0x287fbd=await showCustomConfirm(_0x2fe34c(0x1c7),_0x2fe34c(0x19e)+_0x51f33e+_0x2fe34c(0x1be)+_0x4ea44d+'?',![]);if(!_0x287fbd)return;closeAllSheets(),showToast(_0x2fe34c(0x162)),lastUserActionTime=Date[_0x2fe34c(0x18f)]();const _0x40268a=currentSession['dateStr'],_0x2f01f7=currentSession['id'],[_0x4495a3,_0x2c650d]=currentSession['start'][_0x2fe34c(0x118)](':')['map'](Number),[_0x39cb95,_0x335c4c]=currentSession['end'][_0x2fe34c(0x118)](':')[_0x2fe34c(0x164)](Number),_0x8cb3b=_0x39cb95*0x3c+_0x335c4c-(_0x4495a3*0x3c+_0x2c650d),[_0x18ba49,_0x46be5d]=_0x4ea44d[_0x2fe34c(0x118)](':')['map'](Number),_0x32586f=_0x18ba49*0x3c+_0x46be5d+_0x8cb3b,_0x3bf1a5=Math[_0x2fe34c(0xda)](_0x32586f/0x3c),_0x3db194=_0x32586f%0x3c,_0x59e6a7=String(_0x3bf1a5)[_0x2fe34c(0x185)](0x2,'0')+':'+String(_0x3db194)[_0x2fe34c(0x185)](0x2,'0'),_0x4e381d=sessions['findIndex'](_0x128784=>_0x128784['id']===_0x2f01f7);_0x4e381d!==-0x1&&(sessions[_0x4e381d][_0x2fe34c(0x11b)]=selectedRsDate,sessions[_0x4e381d]['start']=_0x4ea44d,sessions[_0x4e381d][_0x2fe34c(0x157)]=_0x59e6a7,reRenderBlocks());try{const _0x571bb1=window[_0x2fe34c(0x1c5)]?.[_0x2fe34c(0x179)],_0x5a8a3c=await fetch(API_URL,{'method':_0x2fe34c(0x178),'body':JSON['stringify']({'action':_0x2fe34c(0x144),'init_data':_0x571bb1?.[_0x2fe34c(0xe3)]||'','oldSessionId':_0x2f01f7,'oldDate':_0x40268a,'newDate':selectedRsDate,'newTime':_0x4ea44d,'coachId':currentSession[_0x2fe34c(0x102)]})}),_0x31109f=await _0x5a8a3c['json']();!_0x31109f['ok']?(showToast(_0x2fe34c(0x116)),DataManager[_0x2fe34c(0x10c)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2fe34c(0x12c)]());}catch(_0x526fdb){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x3ba30e(0x112)]('DOMContentLoaded',init);