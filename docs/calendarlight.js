const a3_0x2f62d1=a3_0x57f6;(function(_0x170e0c,_0x169dd4){const _0x2115c1=a3_0x57f6,_0x496556=_0x170e0c();while(!![]){try{const _0x57608c=parseInt(_0x2115c1(0x12d))/0x1+-parseInt(_0x2115c1(0xcb))/0x2+parseInt(_0x2115c1(0xd9))/0x3*(parseInt(_0x2115c1(0x107))/0x4)+-parseInt(_0x2115c1(0xce))/0x5*(-parseInt(_0x2115c1(0xdb))/0x6)+-parseInt(_0x2115c1(0x10a))/0x7+parseInt(_0x2115c1(0x142))/0x8+-parseInt(_0x2115c1(0x135))/0x9;if(_0x57608c===_0x169dd4)break;else _0x496556['push'](_0x496556['shift']());}catch(_0x474885){_0x496556['push'](_0x496556['shift']());}}}(a3_0x46e6,0xe3bec));const APP_VERSION=a3_0x2f62d1(0x165),API_URL=a3_0x2f62d1(0x181),GRID_H=0x3c,KEY_SESSIONS=a3_0x2f62d1(0x161),KEY_SETTINGS=a3_0x2f62d1(0xe2),KEY_CLIENTS=a3_0x2f62d1(0x11a);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2f62d1(0x159),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x41bfaf=a3_0x2f62d1,_0x5a24bd=(function(){let _0x4eca91=!![];return function(_0x3c6b26,_0x2e94ed){const _0x41b42a=_0x4eca91?function(){const _0x234c3c=a3_0x57f6;if(_0x2e94ed){const _0x16ce76=_0x2e94ed[_0x234c3c(0x10d)](_0x3c6b26,arguments);return _0x2e94ed=null,_0x16ce76;}}:function(){};return _0x4eca91=![],_0x41b42a;};}()),_0x592ad7=_0x5a24bd(this,function(){const _0x2bcbc2=a3_0x57f6;return _0x592ad7[_0x2bcbc2(0x183)]()[_0x2bcbc2(0x151)]('(((.+)+)+)+$')[_0x2bcbc2(0x183)]()[_0x2bcbc2(0x157)](_0x592ad7)[_0x2bcbc2(0x151)](_0x2bcbc2(0xf0));});_0x592ad7();try{const _0x52b732=window[_0x41bfaf(0x164)]?.[_0x41bfaf(0xaf)];if(!_0x52b732)return;_0x52b732[_0x41bfaf(0xc7)](),_0x52b732[_0x41bfaf(0x170)]();try{_0x52b732['setHeaderColor'](_0x41bfaf(0xb4)),_0x52b732[_0x41bfaf(0x186)]&&_0x52b732[_0x41bfaf(0x186)]('#050505');}catch(_0x2daa4a){console[_0x41bfaf(0x9d)](_0x41bfaf(0x150),_0x2daa4a);}try{_0x52b732['BackButton']&&(_0x52b732['BackButton']['show'](),_0x52b732['BackButton']['offClick'](),_0x52b732['BackButton']['onClick'](function(){const _0x119b92=_0x41bfaf;window[_0x119b92(0xd2)]['href']=_0x119b92(0x153);}));}catch(_0x3940c9){console[_0x41bfaf(0x9d)](_0x41bfaf(0x146),_0x3940c9);}try{if(_0x52b732[_0x41bfaf(0x177)])_0x52b732[_0x41bfaf(0x177)]();}catch(_0x187975){}}catch(_0x3f6467){console[_0x41bfaf(0x14e)](_0x41bfaf(0xee),_0x3f6467);}}());function isAdmin(){const _0x523c63=a3_0x2f62d1;try{const _0x52e3ec=Number(window[_0x523c63(0x164)]?.[_0x523c63(0xaf)]?.[_0x523c63(0x136)]?.[_0x523c63(0x100)]?.['id']);return _0x52e3ec===0xbaf7174;}catch(_0x17c2d7){return![];}}function a3_0x46e6(){const _0x232849=['daysHeaderTrack','location','filter','detNote','start','setMonth','clientId','long','21QfwbHi','borderLeftColor','5527842bTRLNz','rsDatesTrack','cancelHint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','client-stat-card','\x20–∏–∑\x20','uc_client_settings','min','.period-switch\x20.p-btn','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','offsetWidth','find','mini','calc(','month','then','detailsSheet','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','Critical\x20TMA\x20Error:','anEnd','(((.+)+)+)+$','classList','today','colIndex','saveLocally','get_slots','T23:59:59','coachId','<div\x20class=\x22dch-day\x22>','none','event-card','color','querySelectorAll','time-label','button','total','user','charAt','sort','entries','#ff453a','scrollWidth','zIndex','516388vVdKpN','data-date','.day-col-header','2948911fLRebl','initData','getItem','apply','height','getElementById','setItem','slice','\x20–≤\x20','</div><div\x20class=\x22rs-day-num\x22>','backgroundPosition','firstChild','toLocaleDateString','anTotalStats','getFullYear','substring','uc_client_list','client_cancel','rs-time-btn','split','backgroundColor','headerMonth','applyData','cid','getDay','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rescheduleSheet','detDate','.day-column','completed','getDate','exceptions','rsSlotsGrid','429151iijxlO','detStatus','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','600','day-col-header\x20','\x20—á.','seriesId','</div>','1740906jirhrr','initDataUnsafe','createElement','anCustomDates','forEach','calendar','blocked-range-part\x20stripe-bg','blocked-slot\x20stripe-bg','setAttribute','getHours','done','value','client_load','7478872GcFasL','getMonth','auto','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Error\x20setting\x20back\x20button:','remove','planned','visible','all','matrixViewport','status','offsetLeft','error','loadLocal','Error\x20setting\x20color:','search','length','router.html','startsWith','anStart','toast','constructor','custom','week','add','customConfirm','<div\x20class=\x22rs-day-name\x22>','scrollLeft',':00</span>','floor','dateStr','uc_client_sessions','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','round','Telegram','v9.5-CLIENT-ANALYTICS','\x20status-completed','insertBefore','getMinutes','clientWidth','var(--acc-blue)','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','active','POST','fontWeight','pattern','expand','data','analyticsList','ranges','DOMContentLoaded','gridColumns','day-column\x20','disableVerticalSwipes','settings','ccYesBtn','numeric','div','.sheet','clients','px\x20-','.rs-date-chip','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','cancelled','toString','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coach_profiles','setBackgroundColor','reschedule','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTime','day-off-overlay\x20stripe-bg','findIndex','getAttribute','max','overlay','show','anDonutCircle','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x20-\x20','json','querySelector','–û—Ç–º–µ–Ω–µ–Ω–æ','</span>\x20/\x20','log','detTime','</div><div\x20class=\x22dch-num\x22>','syncLoad','appendChild','createDocumentFragment','join','parse','end','stringify','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','ccTitle','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','data-day-idx','setHours','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','WebApp','analyticsSheet','toUpperCase','block','keys','#050505','.day-col-header[data-date=\x22','setDate','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','padStart','now','.btn-cancel','style','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','open','rs-date-chip','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','push','<span>','scroll','top','cancelContainer','addEventListener','ready','#0a84ff','onclick','textContent','3282890rDhPem','className','timeLineBadge','5adpIjk','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','map'];a3_0x46e6=function(){return _0x232849;};return a3_0x46e6();}const DataManager={'saveLocally'(){const _0x2fe2c3=a3_0x2f62d1;try{localStorage[_0x2fe2c3(0x110)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x2fe2c3(0x110)](KEY_CLIENTS,JSON[_0x2fe2c3(0xa6)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x2fe2c3(0xa6)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1751e0){}},'loadLocal'(){const _0x49ad81=a3_0x2f62d1;try{const _0x3cde82=localStorage[_0x49ad81(0x10c)](KEY_SESSIONS);if(_0x3cde82)sessions=JSON[_0x49ad81(0xa4)](_0x3cde82);const _0x5434fd=localStorage[_0x49ad81(0x10c)](KEY_CLIENTS);if(_0x5434fd)clients=JSON['parse'](_0x5434fd);const _0x387c85=localStorage[_0x49ad81(0x10c)](KEY_SETTINGS);if(_0x387c85){const _0x5c8948=JSON[_0x49ad81(0xa4)](_0x387c85);if(_0x5c8948[_0x49ad81(0x16f)])availabilityPattern=_0x5c8948['pattern'];if(_0x5c8948[_0x49ad81(0x173)])specialRanges=_0x5c8948['ranges'];if(_0x5c8948['exceptions'])dateExceptions=_0x5c8948[_0x49ad81(0x12b)];}}catch(_0x1552ce){}},async 'syncLoad'(){const _0x3a1435=a3_0x2f62d1,_0x421bb6=new Date(),_0x3bf00b=_0x421bb6[_0x3a1435(0x118)]()+'-'+String(_0x421bb6[_0x3a1435(0x143)]()+0x1)['padStart'](0x2,'0'),_0x1cbb3e=new Date(_0x421bb6);_0x1cbb3e[_0x3a1435(0xd6)](_0x421bb6['getMonth']()+0x1);const _0x569d45=_0x1cbb3e[_0x3a1435(0x118)]()+'-'+String(_0x1cbb3e['getMonth']()+0x1)[_0x3a1435(0xb8)](0x2,'0'),_0x1a0f96=Date[_0x3a1435(0xb9)]();try{const _0xba817a=window[_0x3a1435(0x164)]?.[_0x3a1435(0xaf)],_0x104f5e=_0xba817a?.[_0x3a1435(0x10b)]||'',[_0x13f926,_0x2f4ad6]=await Promise[_0x3a1435(0x14a)]([fetch(API_URL,{'method':_0x3a1435(0x16d),'body':JSON['stringify']({'action':_0x3a1435(0x141),'init_data':_0x104f5e,'month_str':_0x3bf00b})})['then'](_0x2298d0=>_0x2298d0['json']()),fetch(API_URL,{'method':_0x3a1435(0x16d),'body':JSON[_0x3a1435(0xa6)]({'action':_0x3a1435(0x141),'init_data':_0x104f5e,'month_str':_0x569d45})})[_0x3a1435(0xeb)](_0x1f5a11=>_0x1f5a11[_0x3a1435(0x193)]())]);if(lastUserActionTime>_0x1a0f96){console[_0x3a1435(0x9d)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x13f926['ok'])this[_0x3a1435(0x120)](_0x13f926[_0x3a1435(0x171)],_0x3bf00b);if(_0x2f4ad6['ok'])this[_0x3a1435(0x120)](_0x2f4ad6[_0x3a1435(0x171)],_0x569d45);this[_0x3a1435(0xf4)]();}catch(_0x2feaf4){}},'applyData'(_0x1a1b53,_0x55fb02){const _0x380279=a3_0x2f62d1;if(!_0x1a1b53)return;if(_0x1a1b53[_0x380279(0x178)]){if(_0x1a1b53['settings'][_0x380279(0x16f)])availabilityPattern=_0x1a1b53[_0x380279(0x178)][_0x380279(0x16f)];if(_0x1a1b53[_0x380279(0x178)][_0x380279(0x173)])specialRanges=_0x1a1b53[_0x380279(0x178)][_0x380279(0x173)];if(_0x1a1b53[_0x380279(0x178)][_0x380279(0x12b)])dateExceptions=_0x1a1b53[_0x380279(0x178)][_0x380279(0x12b)];}if(_0x1a1b53['clients']&&Array['isArray'](_0x1a1b53[_0x380279(0x17d)]))clients=_0x1a1b53['clients'];_0x1a1b53[_0x380279(0x185)]&&(coachProfiles={...coachProfiles,..._0x1a1b53[_0x380279(0x185)]}),_0x1a1b53['calendar']&&(sessions=sessions['filter'](_0xda8a2d=>!_0xda8a2d['dateStr'][_0x380279(0x154)](_0x55fb02)),Object[_0x380279(0xb3)](_0x1a1b53[_0x380279(0x13a)])[_0x380279(0x139)](_0x52b690=>{const _0x202d1a=_0x380279,_0x586401=_0x1a1b53['calendar'][_0x52b690];_0x586401[_0x202d1a(0x139)](_0x54e476=>{const _0x3fe13d=_0x202d1a;sessions[_0x3fe13d(0xc1)]({'id':_0x54e476['i'],'clientId':_0x54e476['c'],'coachId':_0x54e476[_0x3fe13d(0x121)],'dateStr':_0x55fb02+'-'+_0x52b690['padStart'](0x2,'0'),'start':_0x54e476['s'],'end':_0x54e476['e'],'note':_0x54e476['n']||'','status':_0x54e476['st']||_0x3fe13d(0x148),'seriesId':_0x54e476['sid']});});})),reRenderBlocks();}};function init(){const _0x2643ce=a3_0x2f62d1;DataManager[_0x2643ce(0x14f)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2643ce(0x14b))['addEventListener'](_0x2643ce(0xc3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2643ce(0xa0)]();}function renderTimeColumn(){const _0x350789=a3_0x2f62d1,_0x508860=document['getElementById']('timeColumn'),_0x28674a=document[_0x350789(0x10f)](_0x350789(0xcd));_0x508860[_0x350789(0xbc)]='',_0x508860[_0x350789(0xa1)](_0x28674a);for(let _0x2160e3=0x0;_0x2160e3<0x18;_0x2160e3++){const _0x3ffa5b=document[_0x350789(0x137)]('div');_0x3ffa5b[_0x350789(0xcc)]=_0x350789(0xfd);if(_0x2160e3>0x0)_0x3ffa5b[_0x350789(0xbc)]=_0x350789(0xc2)+String(_0x2160e3)['padStart'](0x2,'0')+_0x350789(0x15e);_0x508860[_0x350789(0xa1)](_0x3ffa5b);}}function renderDayRange(_0x54b9fc,_0x1c701c){const _0x1dcc3f=a3_0x2f62d1,_0x4212e1=document['getElementById'](_0x1dcc3f(0xd1)),_0x38f0b2=document[_0x1dcc3f(0x10f)](_0x1dcc3f(0x175)),_0x427349=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ea212=new Date();_0x1ea212[_0x1dcc3f(0xad)](0x0,0x0,0x0,0x0);const _0x30fb43=getLocalDateStr(new Date());for(let _0x3b0bd2=_0x54b9fc;_0x3b0bd2<=_0x1c701c;_0x3b0bd2++){const _0x34e22c=new Date(_0x1ea212);_0x34e22c[_0x1dcc3f(0xb6)](_0x34e22c[_0x1dcc3f(0x12a)]()+_0x3b0bd2);const _0x163f3a=getLocalDateStr(_0x34e22c);let _0x444cda=_0x34e22c['getDay']()-0x1;if(_0x444cda===-0x1)_0x444cda=0x6;const _0x21aef2=_0x163f3a===_0x30fb43,_0x1d165d=document['createElement']('div');_0x1d165d[_0x1dcc3f(0xcc)]=_0x1dcc3f(0x131)+(_0x21aef2?'today':''),_0x1d165d[_0x1dcc3f(0x13d)](_0x1dcc3f(0x108),_0x163f3a),_0x1d165d[_0x1dcc3f(0xbc)]='<div\x20class=\x22dch-day\x22>'+_0x427349[_0x444cda]+_0x1dcc3f(0x9f)+_0x34e22c['getDate']()+'</div>',_0x4212e1[_0x1dcc3f(0xa1)](_0x1d165d);const _0x6b1b2e=document[_0x1dcc3f(0x137)]('div');_0x6b1b2e[_0x1dcc3f(0xcc)]=_0x1dcc3f(0x176)+(_0x21aef2?_0x1dcc3f(0xf2):''),_0x6b1b2e[_0x1dcc3f(0x13d)]('data-date',_0x163f3a),_0x6b1b2e[_0x1dcc3f(0x13d)](_0x1dcc3f(0xac),_0x444cda),_0x38f0b2[_0x1dcc3f(0xa1)](_0x6b1b2e);}}function reRenderBlocks(){const _0x5ddbe8=a3_0x2f62d1;document[_0x5ddbe8(0xfc)](_0x5ddbe8(0x128))[_0x5ddbe8(0x139)](_0x24ac2f=>{const _0x49ef39=_0x5ddbe8;_0x24ac2f[_0x49ef39(0xfc)](_0x49ef39(0xc0))[_0x49ef39(0x139)](_0x37c803=>_0x37c803[_0x49ef39(0x147)]());const _0x7bd1d0=_0x24ac2f[_0x49ef39(0x18c)](_0x49ef39(0x108)),_0x57a316=parseInt(_0x24ac2f[_0x49ef39(0x18c)]('data-day-idx')),_0x2da1b2=Math['round'](_0x24ac2f[_0x49ef39(0x14d)]);(availabilityPattern[_0x57a316]||[])['forEach'](_0x2cf4ae=>{const _0x35b135=_0x49ef39,_0x6ecfcc=document[_0x35b135(0x137)](_0x35b135(0x17b));_0x6ecfcc[_0x35b135(0xcc)]=_0x35b135(0x13c),_0x6ecfcc[_0x35b135(0xbb)][_0x35b135(0xc4)]=_0x2cf4ae*GRID_H+'px',_0x6ecfcc['style']['backgroundPosition']='-'+_0x2da1b2+_0x35b135(0x17e)+_0x2cf4ae*GRID_H+'px',_0x24ac2f['appendChild'](_0x6ecfcc);});if(specialRanges['length']>0x0){const _0x5e79a4=new Date(_0x7bd1d0+'T00:00:00')['getTime'](),_0x2a6225=new Date(_0x7bd1d0+_0x49ef39(0xf6))[_0x49ef39(0x189)]();specialRanges[_0x49ef39(0x139)](_0x23df10=>{const _0xd01882=_0x49ef39,_0x319a13=new Date(_0x23df10['start'])[_0xd01882(0x189)](),_0x14049c=new Date(_0x23df10[_0xd01882(0xa5)])['getTime'](),_0x1e7aee=Math[_0xd01882(0x18d)](_0x5e79a4,_0x319a13),_0x232f96=Math[_0xd01882(0xe3)](_0x2a6225,_0x14049c);if(_0x1e7aee<_0x232f96){const _0xfbf2db=(_0x1e7aee-_0x5e79a4)/0x36ee80*GRID_H,_0x2ad7b3=(_0x232f96-_0x1e7aee)/0x36ee80*GRID_H,_0x5d53e8=document['createElement'](_0xd01882(0x17b));_0x2ad7b3>=23.5*GRID_H?(_0x5d53e8[_0xd01882(0xcc)]=_0xd01882(0x18a),_0x5d53e8[_0xd01882(0xbb)][_0xd01882(0x114)]='-'+_0x2da1b2+'px\x200px'):(_0x5d53e8[_0xd01882(0xcc)]=_0xd01882(0x13b),_0x5d53e8['style'][_0xd01882(0xc4)]=_0xfbf2db+'px',_0x5d53e8[_0xd01882(0xbb)][_0xd01882(0x10e)]=_0x2ad7b3+'px',_0x5d53e8[_0xd01882(0xbb)][_0xd01882(0x114)]='-'+_0x2da1b2+_0xd01882(0x17e)+_0xfbf2db+'px'),_0x24ac2f[_0xd01882(0xa1)](_0x5d53e8);}});}renderEventsForColumn(_0x24ac2f,_0x7bd1d0);});}function renderEventsForColumn(_0x1ee771,_0x58bc13){const _0x474c54=a3_0x2f62d1,_0x4ce9b5=sessions['filter'](_0x41ffea=>_0x41ffea[_0x474c54(0x160)]===_0x58bc13),_0x4cee03=_0x4ce9b5[_0x474c54(0xd0)](_0x28db1e=>{const _0x5c714d=_0x474c54,[_0x48ba51,_0x1a634a]=_0x28db1e[_0x5c714d(0xd5)][_0x5c714d(0x11d)](':')[_0x5c714d(0xd0)](Number),[_0x3a91a7,_0x38452d]=_0x28db1e[_0x5c714d(0xa5)][_0x5c714d(0x11d)](':')[_0x5c714d(0xd0)](Number);return{'data':_0x28db1e,'start':_0x48ba51*0x3c+_0x1a634a,'end':_0x3a91a7*0x3c+_0x38452d,'colIndex':0x0};});_0x4cee03[_0x474c54(0x102)]((_0x49862a,_0x2f190e)=>_0x49862a['start']-_0x2f190e[_0x474c54(0xd5)]||_0x2f190e[_0x474c54(0xa5)]-_0x2f190e[_0x474c54(0xd5)]-(_0x49862a[_0x474c54(0xa5)]-_0x49862a['start']));const _0x47f78a=[];_0x4cee03[_0x474c54(0x139)](_0xb630a7=>{const _0x478551=_0x474c54;let _0xed8b25=![];for(let _0xfb9b0f=0x0;_0xfb9b0f<_0x47f78a[_0x478551(0x152)];_0xfb9b0f++){const _0x5f2ca0=_0x47f78a[_0xfb9b0f];if(_0xb630a7[_0x478551(0xd5)]>=_0x5f2ca0[_0x5f2ca0[_0x478551(0x152)]-0x1]['end']){_0x5f2ca0[_0x478551(0xc1)](_0xb630a7),_0xb630a7[_0x478551(0xf3)]=_0xfb9b0f,_0xed8b25=!![];break;}}!_0xed8b25&&(_0x47f78a[_0x478551(0xc1)]([_0xb630a7]),_0xb630a7[_0x478551(0xf3)]=_0x47f78a[_0x478551(0x152)]-0x1);}),_0x4cee03['forEach'](_0x5e21fd=>{const _0xa41230=_0x474c54;let _0x2e76c4=0x0;_0x4cee03['forEach'](_0xc7cdac=>{const _0x47c331=a3_0x57f6;if(Math[_0x47c331(0x18d)](_0x5e21fd['start'],_0xc7cdac[_0x47c331(0xd5)])<Math[_0x47c331(0xe3)](_0x5e21fd[_0x47c331(0xa5)],_0xc7cdac[_0x47c331(0xa5)])&&_0xc7cdac[_0x47c331(0xf3)]>_0x2e76c4)_0x2e76c4=_0xc7cdac['colIndex'];});const _0x24fcb7=_0x2e76c4+0x1,_0x40e13c=0x64/_0x24fcb7,_0x13809d=_0x5e21fd[_0xa41230(0xf3)]*_0x40e13c,_0x39409f=document[_0xa41230(0x137)]('div'),_0x5692d0=_0x5e21fd[_0xa41230(0x171)];let _0x1699f5=_0xa41230(0xc8);if(clients&&clients['length']>0x0){const _0x6c326f=clients[_0xa41230(0xe7)](_0x146fc7=>String(_0x146fc7['id'])===String(_0x5692d0[_0xa41230(0xd7)]));if(_0x6c326f&&_0x6c326f['color'])_0x1699f5=_0x6c326f[_0xa41230(0xfb)];}const _0x475066=_0x5692d0[_0xa41230(0x14c)]===_0xa41230(0x129),_0x14c570=_0x475066?0x1:0.45;_0x39409f[_0xa41230(0xcc)]=_0xa41230(0xfa)+(_0x475066?_0xa41230(0x166):''),_0x39409f[_0xa41230(0xbb)][_0xa41230(0x11e)]=hexToRgba(_0x1699f5,_0x14c570),_0x39409f[_0xa41230(0xbb)][_0xa41230(0xda)]=_0x1699f5;const _0x529a9f=_0x5e21fd[_0xa41230(0xd5)]/0x3c*GRID_H,_0x18b6b7=(_0x5e21fd[_0xa41230(0xa5)]-_0x5e21fd[_0xa41230(0xd5)])/0x3c*GRID_H;_0x39409f[_0xa41230(0xbb)][_0xa41230(0xc4)]=_0x529a9f+'px',_0x39409f[_0xa41230(0xbb)]['height']=Math[_0xa41230(0x18d)](_0x18b6b7,0x14)+'px',_0x39409f[_0xa41230(0xbb)]['width']=_0xa41230(0xe9)+_0x40e13c+'%\x20-\x204px)',_0x39409f[_0xa41230(0xbb)]['left']=_0xa41230(0xe9)+_0x13809d+'%\x20+\x202px)',_0x39409f[_0xa41230(0xbb)][_0xa41230(0x106)]=0xa+_0x5e21fd[_0xa41230(0xf3)];if(_0x40e13c<0x55)_0x39409f['classList'][_0xa41230(0x15a)](_0xa41230(0xe8));let _0x10fb79='';if(_0x5692d0[_0xa41230(0x133)])_0x10fb79+=_0xa41230(0x12f);if(_0x475066)_0x10fb79+=_0xa41230(0x145);_0x39409f[_0xa41230(0xbc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5692d0[_0xa41230(0xd5)]+_0xa41230(0x192)+_0x5692d0[_0xa41230(0xa5)]+_0xa41230(0x188)+_0x10fb79+_0xa41230(0xde),_0x39409f[_0xa41230(0xc9)]=_0x403702=>{_0x403702['stopPropagation'](),openDetails(_0x5692d0);},_0x1ee771['appendChild'](_0x39409f);});}function openAnalytics(){const _0x5d1ded=a3_0x2f62d1,_0x1e51eb=document[_0x5d1ded(0x194)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5d1ded(0x159),_0x1e51eb),openSheet(_0x5d1ded(0xb0));}function setAnalyticsPeriod(_0x133f10,_0x3cdd8e){const _0x348c16=a3_0x2f62d1;currentAnPeriod=_0x133f10,document[_0x348c16(0xfc)](_0x348c16(0xe4))[_0x348c16(0x139)](_0x49bb85=>_0x49bb85[_0x348c16(0xf1)][_0x348c16(0x147)](_0x348c16(0x16c)));if(_0x3cdd8e)_0x3cdd8e['classList']['add']('active');const _0x432930=document[_0x348c16(0x10f)](_0x348c16(0x138));_0x432930[_0x348c16(0xbb)][_0x348c16(0xdf)]=_0x133f10===_0x348c16(0x158)?'flex':_0x348c16(0xf9);const _0x387ad0=new Date();let _0x36ca24=new Date(),_0x3c8a4f=new Date();if(_0x133f10===_0x348c16(0x159))_0x36ca24=getStartOfWeek(_0x387ad0),_0x3c8a4f=new Date(_0x36ca24),_0x3c8a4f[_0x348c16(0xb6)](_0x3c8a4f[_0x348c16(0x12a)]()+0x6);else{if(_0x133f10===_0x348c16(0xea))_0x36ca24=new Date(_0x387ad0[_0x348c16(0x118)](),_0x387ad0['getMonth'](),0x1),_0x3c8a4f=new Date(_0x387ad0[_0x348c16(0x118)](),_0x387ad0[_0x348c16(0x143)]()+0x1,0x0);else{!document['getElementById'](_0x348c16(0x155))[_0x348c16(0x140)]&&(document[_0x348c16(0x10f)]('anStart')[_0x348c16(0x140)]=getLocalDateStr(_0x387ad0),document[_0x348c16(0x10f)](_0x348c16(0xef))[_0x348c16(0x140)]=getLocalDateStr(_0x387ad0));refreshAnalytics();return;}}document[_0x348c16(0x10f)](_0x348c16(0x155))[_0x348c16(0x140)]=getLocalDateStr(_0x36ca24),document['getElementById'](_0x348c16(0xef))['value']=getLocalDateStr(_0x3c8a4f),refreshAnalytics();}function refreshAnalytics(){const _0x179a88=a3_0x2f62d1,_0x2efb0a=document[_0x179a88(0x10f)](_0x179a88(0x155))[_0x179a88(0x140)],_0x44a2b1=document[_0x179a88(0x10f)](_0x179a88(0xef))['value'];if(!_0x2efb0a||!_0x44a2b1)return;const _0xe71ae0=sessions[_0x179a88(0xd3)](_0x2d8bc3=>_0x2d8bc3[_0x179a88(0x160)]>=_0x2efb0a&&_0x2d8bc3[_0x179a88(0x160)]<=_0x44a2b1&&_0x2d8bc3['status']!==_0x179a88(0x182)),_0x1f7f6f=_0xe71ae0[_0x179a88(0x152)],_0x2ca373=_0xe71ae0[_0x179a88(0xd3)](_0x2961b4=>_0x2961b4[_0x179a88(0x14c)]===_0x179a88(0x129))[_0x179a88(0x152)],_0x436d99=_0x1f7f6f>0x0?Math[_0x179a88(0x163)](_0x2ca373/_0x1f7f6f*0x64):0x0;document['getElementById']('anPercent')[_0x179a88(0xca)]=_0x436d99+'%',document['getElementById'](_0x179a88(0x117))['textContent']=_0x2ca373+_0x179a88(0xe1)+_0x1f7f6f+_0x179a88(0x16b);const _0x3dbab8=document[_0x179a88(0x10f)](_0x179a88(0x190)),_0x56f316=0x2*Math['PI']*0x23,_0x2eb1dd=_0x56f316-_0x436d99/0x64*_0x56f316;_0x3dbab8['style']['strokeDashoffset']=_0x2eb1dd;const _0x914e9f={};_0xe71ae0[_0x179a88(0x139)](_0x5aad1c=>{const _0x36d48a=_0x179a88,_0x4d0cf1=_0x5aad1c['coachId']||'Unknown';if(!_0x914e9f[_0x4d0cf1]){const _0x21ad60='#'+_0x4d0cf1['toString']()['substr'](0x0,0x6);_0x914e9f[_0x4d0cf1]={'total':0x0,'done':0x0,'color':_0x21ad60};}_0x914e9f[_0x4d0cf1][_0x36d48a(0xff)]++;if(_0x5aad1c[_0x36d48a(0x14c)]===_0x36d48a(0x129))_0x914e9f[_0x4d0cf1][_0x36d48a(0x13f)]++;});const _0x26eb6a=document['getElementById'](_0x179a88(0x172));_0x26eb6a[_0x179a88(0xbc)]='';const _0x289783=Object[_0x179a88(0x103)](_0x914e9f)[_0x179a88(0x102)]((_0x529e79,_0x22065d)=>_0x22065d[0x1][_0x179a88(0xff)]-_0x529e79[0x1][_0x179a88(0xff)]);if(_0x289783[_0x179a88(0x152)]===0x0){_0x26eb6a[_0x179a88(0xbc)]=_0x179a88(0xcf);return;}_0x289783[_0x179a88(0x139)](([_0x40e448,_0x115acb])=>{const _0x2287bb=_0x179a88,_0x41c174=Math[_0x2287bb(0x163)](_0x115acb[_0x2287bb(0x13f)]/_0x115acb[_0x2287bb(0xff)]*0x64),_0x3d3e4d=document['createElement'](_0x2287bb(0x17b));_0x3d3e4d[_0x2287bb(0xcc)]=_0x2287bb(0xe0),_0x3d3e4d['style']['borderLeftColor']=_0x115acb[_0x2287bb(0xfb)],_0x3d3e4d['innerHTML']=_0x2287bb(0xbd)+_0x40e448['substr'](0x0,0x5)+_0x2287bb(0x125)+_0x115acb[_0x2287bb(0x13f)]+_0x2287bb(0x9c)+_0x115acb['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x41c174+_0x2287bb(0x184),_0x26eb6a['appendChild'](_0x3d3e4d);});}function openDetails(_0x1e91a8){const _0x1cdb0b=a3_0x2f62d1;currentSession=_0x1e91a8;const _0x590e57=new Date(_0x1e91a8[_0x1cdb0b(0x160)]),_0x3894be=_0x590e57[_0x1cdb0b(0x116)]('ru-RU',{'weekday':_0x1cdb0b(0xd8),'day':'numeric','month':_0x1cdb0b(0xd8)});document[_0x1cdb0b(0x10f)](_0x1cdb0b(0x127))['textContent']=_0x3894be[_0x1cdb0b(0x101)](0x0)[_0x1cdb0b(0xb1)]()+_0x3894be[_0x1cdb0b(0x111)](0x1),document[_0x1cdb0b(0x10f)](_0x1cdb0b(0x9e))[_0x1cdb0b(0xca)]=_0x1e91a8[_0x1cdb0b(0xd5)]+_0x1cdb0b(0x192)+_0x1e91a8['end'],document[_0x1cdb0b(0x10f)](_0x1cdb0b(0xd4))[_0x1cdb0b(0xca)]=_0x1e91a8['note']||_0x1cdb0b(0x180);const _0x22bb0f=document[_0x1cdb0b(0x10f)](_0x1cdb0b(0x12e)),_0x3d0e39=document[_0x1cdb0b(0x10f)](_0x1cdb0b(0xc5)),_0x4f52d0=_0x3d0e39[_0x1cdb0b(0x194)](_0x1cdb0b(0xba)),_0xa6b995=_0x3d0e39['querySelector']('.btn-reschedule'),_0x2eefb2=document['getElementById'](_0x1cdb0b(0xdd));if(_0x1e91a8[_0x1cdb0b(0x14c)]===_0x1cdb0b(0x129))_0x22bb0f[_0x1cdb0b(0xca)]=_0x1cdb0b(0xed),_0x22bb0f[_0x1cdb0b(0xbb)][_0x1cdb0b(0xfb)]='var(--acc-green)',_0x3d0e39[_0x1cdb0b(0xbb)][_0x1cdb0b(0xdf)]=_0x1cdb0b(0xf9);else{_0x22bb0f[_0x1cdb0b(0xca)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x22bb0f[_0x1cdb0b(0xbb)][_0x1cdb0b(0xfb)]=_0x1cdb0b(0x16a),_0x3d0e39[_0x1cdb0b(0xbb)]['display']=_0x1cdb0b(0xb2);const _0x36c2fb=new Date(_0x1e91a8[_0x1cdb0b(0x160)]+'T'+_0x1e91a8['start']),_0x2f356d=new Date(),_0x455c6c=(_0x36c2fb-_0x2f356d)/(0x3e8*0x3c*0x3c),_0xd1cc98=coachProfiles[_0x1e91a8['coachId']]&&coachProfiles[_0x1e91a8[_0x1cdb0b(0xf7)]]['cancel_window']?parseInt(coachProfiles[_0x1e91a8[_0x1cdb0b(0xf7)]]['cancel_window']):0x18;if(_0xd1cc98===0x0||_0x455c6c>=_0xd1cc98)_0x4f52d0[_0x1cdb0b(0xbb)][_0x1cdb0b(0xdf)]='block',_0xa6b995[_0x1cdb0b(0xbb)][_0x1cdb0b(0xdf)]=_0x1cdb0b(0xb2),_0x2eefb2[_0x1cdb0b(0xbb)][_0x1cdb0b(0xdf)]=_0x1cdb0b(0xf9);else{_0x4f52d0[_0x1cdb0b(0xbb)]['display']=_0x1cdb0b(0xf9),_0xa6b995['style'][_0x1cdb0b(0xdf)]=_0x1cdb0b(0xf9),_0x2eefb2[_0x1cdb0b(0xbb)][_0x1cdb0b(0xdf)]='block';let _0x5b6863=_0xd1cc98===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0xd1cc98+_0x1cdb0b(0x132);_0x2eefb2[_0x1cdb0b(0xca)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x5b6863+_0x1cdb0b(0xa7);}}document[_0x1cdb0b(0x10f)](_0x1cdb0b(0x18e))[_0x1cdb0b(0xf1)][_0x1cdb0b(0x15a)](_0x1cdb0b(0x16c)),document['getElementById'](_0x1cdb0b(0xec))[_0x1cdb0b(0xf1)][_0x1cdb0b(0x15a)]('open');}function closeAllSheets(){const _0x14749f=a3_0x2f62d1;document[_0x14749f(0x10f)](_0x14749f(0x18e))[_0x14749f(0xf1)][_0x14749f(0x147)]('active'),document['querySelectorAll'](_0x14749f(0x17c))[_0x14749f(0x139)](_0x17f98a=>_0x17f98a[_0x14749f(0xf1)][_0x14749f(0x147)](_0x14749f(0xbe)));}function openSheet(_0x151e47){const _0x15133c=a3_0x2f62d1;document[_0x15133c(0x10f)](_0x15133c(0x18e))['classList'][_0x15133c(0x15a)]('active'),document[_0x15133c(0x10f)](_0x151e47)[_0x15133c(0xf1)][_0x15133c(0x15a)](_0x15133c(0xbe));}function getLocalDateStr(_0x2e862d){const _0x58909b=a3_0x2f62d1,_0x9c6f29=_0x2e862d[_0x58909b(0x118)](),_0x391a0e=String(_0x2e862d[_0x58909b(0x143)]()+0x1)[_0x58909b(0xb8)](0x2,'0'),_0x337225=String(_0x2e862d[_0x58909b(0x12a)]())[_0x58909b(0xb8)](0x2,'0');return _0x9c6f29+'-'+_0x391a0e+'-'+_0x337225;}function getStartOfWeek(_0x10362a){const _0x5cf0c1=a3_0x2f62d1,_0x48b7b4=new Date(_0x10362a),_0x488500=_0x48b7b4['getDay'](),_0x4b212a=_0x48b7b4['getDate']()-_0x488500+(_0x488500===0x0?-0x6:0x1);return _0x48b7b4[_0x5cf0c1(0xb6)](_0x4b212a),_0x48b7b4[_0x5cf0c1(0xad)](0x0,0x0,0x0,0x0),_0x48b7b4;}function scrollToToday(){const _0x4be5d0=getLocalDateStr(new Date());setTimeout(()=>{const _0x2c7581=a3_0x57f6,_0x416ab2=document[_0x2c7581(0x194)](_0x2c7581(0xb5)+_0x4be5d0+'\x22]');if(_0x416ab2){const _0x588c1a=document[_0x2c7581(0x10f)](_0x2c7581(0x14b)),_0x1608a7=_0x416ab2[_0x2c7581(0x14d)]-_0x588c1a[_0x2c7581(0x169)]/0x2+_0x416ab2[_0x2c7581(0xe6)]/0x2;_0x588c1a['scrollTo']({'left':_0x1608a7,'behavior':_0x2c7581(0x144)}),_0x588c1a['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x36df5c=a3_0x2f62d1,_0x464fec=new Date(),_0x339667=document['getElementById']('globalTimeLine'),_0x3d213a=document[_0x36df5c(0x10f)](_0x36df5c(0xcd)),_0x1c038a=(_0x464fec[_0x36df5c(0x13e)]()*0x3c+_0x464fec[_0x36df5c(0x168)]())/0x3c*GRID_H;_0x339667[_0x36df5c(0xbb)][_0x36df5c(0xc4)]=_0x1c038a+'px',_0x339667[_0x36df5c(0xbb)]['display']='block',_0x3d213a['style'][_0x36df5c(0xc4)]=_0x1c038a+'px',_0x3d213a['style'][_0x36df5c(0xdf)]='block',_0x3d213a[_0x36df5c(0xca)]=String(_0x464fec[_0x36df5c(0x13e)]())[_0x36df5c(0xb8)](0x2,'0')+':'+String(_0x464fec[_0x36df5c(0x168)]())[_0x36df5c(0xb8)](0x2,'0');}function onScroll(){const _0x4a95aa=a3_0x2f62d1,_0x5efdf3=document['getElementById'](_0x4a95aa(0x14b)),_0xe91344=document[_0x4a95aa(0xfc)](_0x4a95aa(0x109));for(let _0x2ddb47 of _0xe91344)if(_0x2ddb47[_0x4a95aa(0x14d)]>=_0x5efdf3[_0x4a95aa(0x15d)]){const _0x817f2b=new Date(_0x2ddb47['getAttribute'](_0x4a95aa(0x108)));document[_0x4a95aa(0x10f)](_0x4a95aa(0x11f))['textContent']=_0x817f2b['toLocaleString']('ru',{'month':_0x4a95aa(0xd8)})[_0x4a95aa(0xb1)]()+'\x20'+_0x817f2b['getFullYear']();break;}}function showToast(_0x1f019a){const _0x36dcfd=a3_0x2f62d1,_0x118f6f=document[_0x36dcfd(0x10f)](_0x36dcfd(0x156));_0x118f6f[_0x36dcfd(0xca)]=_0x1f019a,_0x118f6f[_0x36dcfd(0xf1)][_0x36dcfd(0x15a)](_0x36dcfd(0x18f)),setTimeout(()=>_0x118f6f['classList'][_0x36dcfd(0x147)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x137813=a3_0x2f62d1,_0x3e1ed4=document[_0x137813(0x10f)](_0x137813(0x14b)),_0x5a851b=_0x3e1ed4[_0x137813(0x15d)],_0x658914=_0x3e1ed4[_0x137813(0x105)],_0x2f1875=_0x3e1ed4[_0x137813(0x169)];if(_0x658914-(_0x5a851b+_0x2f1875)<0x12c){const _0x73800b=endOffset;endOffset+=0xe,renderDayRange(_0x73800b+0x1,endOffset),reRenderBlocks();}if(_0x5a851b<0x12c){const _0x303950=startOffset;startOffset-=0xe,prependDays(startOffset,_0x303950-0x1),_0x3e1ed4[_0x137813(0x15d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5bad4f,_0x2fae8a){const _0x20b539=a3_0x2f62d1,_0x48863a=document[_0x20b539(0x10f)](_0x20b539(0xd1)),_0x1772cd=document[_0x20b539(0x10f)](_0x20b539(0x175)),_0x251817=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x37b450=new Date();_0x37b450[_0x20b539(0xad)](0x0,0x0,0x0,0x0);const _0x5c7f44=getLocalDateStr(new Date()),_0xdc9d75=document[_0x20b539(0xa2)](),_0x5b7fd1=document[_0x20b539(0xa2)]();for(let _0x8c65c5=_0x5bad4f;_0x8c65c5<=_0x2fae8a;_0x8c65c5++){const _0x2994db=new Date(_0x37b450);_0x2994db[_0x20b539(0xb6)](_0x2994db['getDate']()+_0x8c65c5);const _0x2d2b13=getLocalDateStr(_0x2994db);let _0xeb07fb=_0x2994db['getDay']()-0x1;if(_0xeb07fb===-0x1)_0xeb07fb=0x6;const _0x1d3ea8=_0x2d2b13===_0x5c7f44,_0x2bf822=document[_0x20b539(0x137)](_0x20b539(0x17b));_0x2bf822[_0x20b539(0xcc)]=_0x20b539(0x131)+(_0x1d3ea8?_0x20b539(0xf2):''),_0x2bf822[_0x20b539(0x13d)](_0x20b539(0x108),_0x2d2b13),_0x2bf822[_0x20b539(0xbc)]=_0x20b539(0xf8)+_0x251817[_0xeb07fb]+_0x20b539(0x9f)+_0x2994db[_0x20b539(0x12a)]()+'</div>',_0xdc9d75['appendChild'](_0x2bf822);const _0x2a9013=document[_0x20b539(0x137)](_0x20b539(0x17b));_0x2a9013['className']=_0x20b539(0x176)+(_0x1d3ea8?'today':''),_0x2a9013[_0x20b539(0x13d)](_0x20b539(0x108),_0x2d2b13),_0x2a9013[_0x20b539(0x13d)](_0x20b539(0xac),_0xeb07fb),_0x5b7fd1[_0x20b539(0xa1)](_0x2a9013);}_0x48863a[_0x20b539(0x167)](_0xdc9d75,_0x48863a[_0x20b539(0x115)]),_0x1772cd[_0x20b539(0x167)](_0x5b7fd1,_0x1772cd[_0x20b539(0x194)](_0x20b539(0x128)));}function hexToRgba(_0x3d7e1f,_0x2ebab4){const _0x498dfe=a3_0x2f62d1;let _0x47c087;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3d7e1f))return _0x47c087=_0x3d7e1f[_0x498dfe(0x119)](0x1)[_0x498dfe(0x11d)](''),_0x47c087[_0x498dfe(0x152)]==0x3&&(_0x47c087=[_0x47c087[0x0],_0x47c087[0x0],_0x47c087[0x1],_0x47c087[0x1],_0x47c087[0x2],_0x47c087[0x2]]),_0x47c087='0x'+_0x47c087[_0x498dfe(0xa3)](''),'rgba('+[_0x47c087>>0x10&0xff,_0x47c087>>0x8&0xff,_0x47c087&0xff][_0x498dfe(0xa3)](',')+','+_0x2ebab4+')';return'rgba(10,\x20132,\x20255,\x20'+_0x2ebab4+')';}let confirmResolver=null;function showCustomConfirm(_0x4a5cca,_0x441ef0,_0x477a15=!![]){const _0x5f3ec8=a3_0x2f62d1;document['getElementById'](_0x5f3ec8(0xa9))[_0x5f3ec8(0xca)]=_0x4a5cca,document['getElementById']('ccText')[_0x5f3ec8(0xca)]=_0x441ef0;const _0x279634=document[_0x5f3ec8(0x10f)](_0x5f3ec8(0x179));return _0x477a15?(_0x279634[_0x5f3ec8(0xbb)][_0x5f3ec8(0xfb)]=_0x5f3ec8(0x104),_0x279634['style'][_0x5f3ec8(0x16e)]=_0x5f3ec8(0x130)):(_0x279634[_0x5f3ec8(0xbb)][_0x5f3ec8(0xfb)]=_0x5f3ec8(0xc8),_0x279634['style'][_0x5f3ec8(0x16e)]=_0x5f3ec8(0x130)),new Promise(_0x264be3=>{const _0x4e294c=_0x5f3ec8;confirmResolver=_0x264be3,document[_0x4e294c(0x10f)](_0x4e294c(0x15b))[_0x4e294c(0xf1)][_0x4e294c(0x15a)](_0x4e294c(0x149));});}function resolveCustomConfirm(_0x49ad74){const _0x567618=a3_0x2f62d1;document[_0x567618(0x10f)](_0x567618(0x15b))['classList'][_0x567618(0x147)](_0x567618(0x149));if(confirmResolver)confirmResolver(_0x49ad74);}async function tryCancelCurrentSession(){const _0x1cfb0d=a3_0x2f62d1;if(!currentSession)return;const _0x53dff5=await showCustomConfirm(_0x1cfb0d(0x124),_0x1cfb0d(0x162),!![]);if(!_0x53dff5)return;const _0xdfbe2d=currentSession;closeAllSheets(),sessions=sessions[_0x1cfb0d(0xd3)](_0x152e4e=>_0x152e4e['id']!==_0xdfbe2d['id']),reRenderBlocks(),showToast(_0x1cfb0d(0x195)),lastUserActionTime=Date['now']();try{const _0x4ad212=window['Telegram']?.[_0x1cfb0d(0xaf)],_0x33e805=await fetch(API_URL,{'method':'POST','body':JSON[_0x1cfb0d(0xa6)]({'action':_0x1cfb0d(0x11b),'init_data':_0x4ad212?.[_0x1cfb0d(0x10b)]||'','coachId':_0xdfbe2d[_0x1cfb0d(0xf7)],'dateStr':_0xdfbe2d['dateStr'],'sessionId':_0xdfbe2d['id']})});if(_0x33e805['ok'])DataManager[_0x1cfb0d(0xf4)]();}catch(_0x5b23c7){showToast(_0x1cfb0d(0xab));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x45b27e=a3_0x2f62d1;if(!currentSession)return;document[_0x45b27e(0x10f)](_0x45b27e(0xec))[_0x45b27e(0xf1)][_0x45b27e(0x147)]('open'),document[_0x45b27e(0x10f)](_0x45b27e(0x126))['classList'][_0x45b27e(0x15a)](_0x45b27e(0xbe));const _0x10b5b5=document[_0x45b27e(0x10f)](_0x45b27e(0xdc)),_0x266dd9=document[_0x45b27e(0x10f)](_0x45b27e(0x12c));_0x10b5b5[_0x45b27e(0xbc)]='',_0x266dd9[_0x45b27e(0xbc)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x4ce22c,_0x451301]=currentSession[_0x45b27e(0xd5)][_0x45b27e(0x11d)](':')[_0x45b27e(0xd0)](Number),[_0x3d3fca,_0x587f5d]=currentSession[_0x45b27e(0xa5)][_0x45b27e(0x11d)](':')[_0x45b27e(0xd0)](Number),_0x4b7797=_0x3d3fca*0x3c+_0x587f5d-(_0x4ce22c*0x3c+_0x451301);try{const _0x4c61d4=window[_0x45b27e(0x164)]?.['WebApp'],_0x3cfa8f=await fetch(API_URL,{'method':_0x45b27e(0x16d),'body':JSON[_0x45b27e(0xa6)]({'action':_0x45b27e(0xf5),'coachId':currentSession[_0x45b27e(0xf7)],'duration':_0x4b7797,'init_data':_0x4c61d4?.[_0x45b27e(0x10b)]||'','excludeSessionId':currentSession['id']})}),_0xd6aca1=await _0x3cfa8f[_0x45b27e(0x193)]();_0xd6aca1['ok']&&_0xd6aca1['data']?(availableSlotsCache=_0xd6aca1[_0x45b27e(0x171)],renderRescheduleDates()):_0x266dd9[_0x45b27e(0xbc)]=_0x45b27e(0xaa);}catch(_0xc86868){_0x266dd9[_0x45b27e(0xbc)]=_0x45b27e(0xa8);}}function a3_0x57f6(_0x5a88e8,_0x49115a){_0x5a88e8=_0x5a88e8-0x9c;const _0xad4c60=a3_0x46e6();let _0x1e8738=_0xad4c60[_0x5a88e8];return _0x1e8738;}function renderRescheduleDates(){const _0x18ea9b=a3_0x2f62d1,_0xb161c3=document[_0x18ea9b(0x10f)](_0x18ea9b(0xdc));_0xb161c3[_0x18ea9b(0xbc)]='';const _0x7eb9ac=Object[_0x18ea9b(0xb3)](availableSlotsCache)[_0x18ea9b(0x102)](),_0x3a1651=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x7eb9ac['length']===0x0){document[_0x18ea9b(0x10f)](_0x18ea9b(0x12c))[_0x18ea9b(0xbc)]=_0x18ea9b(0xe5);return;}_0x7eb9ac[_0x18ea9b(0x139)]((_0x59d41b,_0x2a89c6)=>{const _0xa4ae98=_0x18ea9b,_0x469c73=new Date(_0x59d41b),_0x3fba4d=_0x3a1651[_0x469c73[_0xa4ae98(0x122)]()],_0x4c8f12=_0x469c73[_0xa4ae98(0x12a)](),_0x355e38=document[_0xa4ae98(0x137)](_0xa4ae98(0x17b));_0x355e38[_0xa4ae98(0xcc)]=_0xa4ae98(0xbf);if(_0x2a89c6===0x0)_0x355e38[_0xa4ae98(0xf1)][_0xa4ae98(0x15a)](_0xa4ae98(0x16c));_0x355e38[_0xa4ae98(0xbc)]=_0xa4ae98(0x15c)+_0x3fba4d+_0xa4ae98(0x113)+_0x4c8f12+_0xa4ae98(0x134),_0x355e38[_0xa4ae98(0xc9)]=()=>selectRsDate(_0x59d41b,_0x355e38),_0xb161c3[_0xa4ae98(0xa1)](_0x355e38);}),selectRsDate(_0x7eb9ac[0x0],_0xb161c3[_0x18ea9b(0x115)]);}function selectRsDate(_0x3f41d7,_0xa033d2){const _0x4585ef=a3_0x2f62d1;selectedRsDate=_0x3f41d7,document[_0x4585ef(0xfc)](_0x4585ef(0x17f))[_0x4585ef(0x139)](_0x479528=>_0x479528['classList'][_0x4585ef(0x147)]('active'));if(_0xa033d2)_0xa033d2[_0x4585ef(0xf1)][_0x4585ef(0x15a)]('active');const _0x55b206=document['getElementById'](_0x4585ef(0x12c));_0x55b206[_0x4585ef(0xbc)]='';const _0x205979=availableSlotsCache[_0x3f41d7]||[];if(_0x205979[_0x4585ef(0x152)]===0x0){_0x55b206[_0x4585ef(0xbc)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x205979[_0x4585ef(0x139)](_0x10b6d8=>{const _0x26a5d9=_0x4585ef,_0x412d13=document[_0x26a5d9(0x137)](_0x26a5d9(0xfe));_0x412d13[_0x26a5d9(0xcc)]=_0x26a5d9(0x11c),_0x412d13[_0x26a5d9(0xca)]=_0x10b6d8,_0x412d13[_0x26a5d9(0xc9)]=()=>confirmReschedule(_0x10b6d8),_0x55b206[_0x26a5d9(0xa1)](_0x412d13);});}async function confirmReschedule(_0x58a2b3){const _0x2cd195=a3_0x2f62d1,_0x5e1180=new Date(selectedRsDate),_0x4ffca7=_0x5e1180['toLocaleDateString']('ru-RU',{'day':_0x2cd195(0x17a),'month':'long'}),_0x67ff0f=await showCustomConfirm(_0x2cd195(0xb7),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x4ffca7+_0x2cd195(0x112)+_0x58a2b3+'?',![]);if(!_0x67ff0f)return;closeAllSheets(),showToast(_0x2cd195(0xae)),lastUserActionTime=Date['now']();const _0x2c602c=currentSession[_0x2cd195(0x160)],_0x5dba3d=currentSession['id'],[_0x3cfa7b,_0x308d3b]=currentSession[_0x2cd195(0xd5)][_0x2cd195(0x11d)](':')[_0x2cd195(0xd0)](Number),[_0x30080e,_0x390c2d]=currentSession[_0x2cd195(0xa5)][_0x2cd195(0x11d)](':')[_0x2cd195(0xd0)](Number),_0x40e93d=_0x30080e*0x3c+_0x390c2d-(_0x3cfa7b*0x3c+_0x308d3b),[_0x48175a,_0xcbf745]=_0x58a2b3[_0x2cd195(0x11d)](':')[_0x2cd195(0xd0)](Number),_0x500007=_0x48175a*0x3c+_0xcbf745+_0x40e93d,_0x5ad005=Math[_0x2cd195(0x15f)](_0x500007/0x3c),_0x4b8328=_0x500007%0x3c,_0x21b321=String(_0x5ad005)[_0x2cd195(0xb8)](0x2,'0')+':'+String(_0x4b8328)[_0x2cd195(0xb8)](0x2,'0'),_0x561796=sessions[_0x2cd195(0x18b)](_0x5154e1=>_0x5154e1['id']===_0x5dba3d);_0x561796!==-0x1&&(sessions[_0x561796][_0x2cd195(0x160)]=selectedRsDate,sessions[_0x561796][_0x2cd195(0xd5)]=_0x58a2b3,sessions[_0x561796][_0x2cd195(0xa5)]=_0x21b321,reRenderBlocks());try{const _0x581f98=window['Telegram']?.[_0x2cd195(0xaf)],_0x3adeaf=await fetch(API_URL,{'method':_0x2cd195(0x16d),'body':JSON[_0x2cd195(0xa6)]({'action':_0x2cd195(0x187),'init_data':_0x581f98?.[_0x2cd195(0x10b)]||'','oldSessionId':_0x5dba3d,'oldDate':_0x2c602c,'newDate':selectedRsDate,'newTime':_0x58a2b3,'coachId':currentSession[_0x2cd195(0xf7)]})}),_0x39ac1a=await _0x3adeaf['json']();!_0x39ac1a['ok']?(showToast(_0x2cd195(0x123)),DataManager[_0x2cd195(0xa0)]()):(showToast(_0x2cd195(0x191)),DataManager['saveLocally']());}catch(_0x429273){showToast(_0x2cd195(0xab));}}document[a3_0x2f62d1(0xc6)](a3_0x2f62d1(0x174),init);