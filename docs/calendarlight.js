const a3_0x51f1c2=a3_0x3718;(function(_0x53909f,_0x97d472){const _0x4acd34=a3_0x3718,_0x5da079=_0x53909f();while(!![]){try{const _0xafda50=parseInt(_0x4acd34(0x1af))/0x1*(parseInt(_0x4acd34(0x221))/0x2)+parseInt(_0x4acd34(0x202))/0x3*(-parseInt(_0x4acd34(0x1cb))/0x4)+parseInt(_0x4acd34(0x290))/0x5*(-parseInt(_0x4acd34(0x201))/0x6)+parseInt(_0x4acd34(0x1fc))/0x7*(-parseInt(_0x4acd34(0x233))/0x8)+-parseInt(_0x4acd34(0x254))/0x9*(-parseInt(_0x4acd34(0x23b))/0xa)+-parseInt(_0x4acd34(0x24a))/0xb+-parseInt(_0x4acd34(0x1b9))/0xc*(-parseInt(_0x4acd34(0x1ec))/0xd);if(_0xafda50===_0x97d472)break;else _0x5da079['push'](_0x5da079['shift']());}catch(_0x6c40c){_0x5da079['push'](_0x5da079['shift']());}}}(a3_0x35c8,0xb8f64));const APP_VERSION=a3_0x51f1c2(0x195),API_URL=a3_0x51f1c2(0x23a),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x51f1c2(0x1a1),KEY_CLIENTS=a3_0x51f1c2(0x1ee);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x51f1c2(0x1b5),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x28e599=a3_0x51f1c2,_0x66905e=(function(){let _0xf73b9d=!![];return function(_0x24ee17,_0x2942d8){const _0x46c3aa=_0xf73b9d?function(){const _0x1b34e7=a3_0x3718;if(_0x2942d8){const _0x24309a=_0x2942d8[_0x1b34e7(0x1ac)](_0x24ee17,arguments);return _0x2942d8=null,_0x24309a;}}:function(){};return _0xf73b9d=![],_0x46c3aa;};}()),_0x1515da=_0x66905e(this,function(){const _0x15e6f2=a3_0x3718;return _0x1515da[_0x15e6f2(0x27c)]()['search'](_0x15e6f2(0x271))[_0x15e6f2(0x27c)]()['constructor'](_0x1515da)[_0x15e6f2(0x287)](_0x15e6f2(0x271));});_0x1515da();try{const _0x3213af=window['Telegram']?.[_0x28e599(0x27a)];if(!_0x3213af)return;_0x3213af['ready'](),_0x3213af[_0x28e599(0x1b1)]();try{_0x3213af['setHeaderColor'](_0x28e599(0x1b4)),_0x3213af[_0x28e599(0x22c)]&&_0x3213af[_0x28e599(0x22c)]('#050505');}catch(_0x4f5862){console['log'](_0x28e599(0x275),_0x4f5862);}try{_0x3213af[_0x28e599(0x26e)]&&(_0x3213af['BackButton'][_0x28e599(0x23d)](),_0x3213af[_0x28e599(0x26e)][_0x28e599(0x27e)](),_0x3213af['BackButton']['onClick'](function(){const _0x1af46a=_0x28e599;window[_0x1af46a(0x256)][_0x1af46a(0x25b)]=_0x1af46a(0x272);}));}catch(_0x226e01){console[_0x28e599(0x235)](_0x28e599(0x20d),_0x226e01);}try{if(_0x3213af[_0x28e599(0x1bf)])_0x3213af[_0x28e599(0x1bf)]();}catch(_0x310ca5){}}catch(_0x4327be){console[_0x28e599(0x26b)]('Critical\x20TMA\x20Error:',_0x4327be);}}());function isAdmin(){const _0x7b7e9b=a3_0x51f1c2;try{const _0x3629fb=Number(window[_0x7b7e9b(0x214)]?.[_0x7b7e9b(0x27a)]?.[_0x7b7e9b(0x247)]?.[_0x7b7e9b(0x208)]?.['id']);return _0x3629fb===0xbaf7174;}catch(_0x42280f){return![];}}const DataManager={'saveLocally'(){const _0x5a997f=a3_0x51f1c2;try{localStorage[_0x5a997f(0x1eb)](KEY_SESSIONS,JSON[_0x5a997f(0x284)](sessions)),localStorage[_0x5a997f(0x1eb)](KEY_CLIENTS,JSON[_0x5a997f(0x284)](clients)),localStorage[_0x5a997f(0x1eb)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x59f0b0){}},'loadLocal'(){const _0x2bbb6b=a3_0x51f1c2;try{const _0x55e784=localStorage[_0x2bbb6b(0x248)](KEY_SESSIONS);if(_0x55e784)sessions=JSON[_0x2bbb6b(0x1d5)](_0x55e784);const _0x92e5e7=localStorage['getItem'](KEY_CLIENTS);if(_0x92e5e7)clients=JSON[_0x2bbb6b(0x1d5)](_0x92e5e7);const _0x775712=localStorage[_0x2bbb6b(0x248)](KEY_SETTINGS);if(_0x775712){const _0x1f2851=JSON['parse'](_0x775712);if(_0x1f2851[_0x2bbb6b(0x1d2)])availabilityPattern=_0x1f2851[_0x2bbb6b(0x1d2)];if(_0x1f2851[_0x2bbb6b(0x209)])specialRanges=_0x1f2851['ranges'];if(_0x1f2851[_0x2bbb6b(0x240)])dateExceptions=_0x1f2851['exceptions'];}}catch(_0x215570){}},async 'syncLoad'(){const _0x58a4b6=a3_0x51f1c2,_0x272d0e=new Date(),_0x235a44=_0x272d0e[_0x58a4b6(0x21c)]()+'-'+String(_0x272d0e[_0x58a4b6(0x234)]()+0x1)[_0x58a4b6(0x1f0)](0x2,'0'),_0x5448f3=new Date(_0x272d0e);_0x5448f3[_0x58a4b6(0x283)](_0x272d0e[_0x58a4b6(0x234)]()+0x1);const _0x22fede=_0x5448f3['getFullYear']()+'-'+String(_0x5448f3[_0x58a4b6(0x234)]()+0x1)['padStart'](0x2,'0'),_0x3c5aa3=Date[_0x58a4b6(0x1f9)]();try{const _0x2d834d=window[_0x58a4b6(0x214)]?.['WebApp'],_0x2f4ece=_0x2d834d?.[_0x58a4b6(0x1d6)]||'',[_0x7ffdbb,_0x4da346]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x58a4b6(0x284)]({'action':'client_load','init_data':_0x2f4ece,'month_str':_0x235a44})})[_0x58a4b6(0x261)](_0x6e6f96=>_0x6e6f96[_0x58a4b6(0x1e4)]()),fetch(API_URL,{'method':_0x58a4b6(0x213),'body':JSON[_0x58a4b6(0x284)]({'action':_0x58a4b6(0x1f3),'init_data':_0x2f4ece,'month_str':_0x22fede})})['then'](_0x2add78=>_0x2add78[_0x58a4b6(0x1e4)]())]);if(lastUserActionTime>_0x3c5aa3){console[_0x58a4b6(0x235)](_0x58a4b6(0x288));return;}if(_0x7ffdbb['ok'])this[_0x58a4b6(0x1ab)](_0x7ffdbb[_0x58a4b6(0x263)],_0x235a44);if(_0x4da346['ok'])this['applyData'](_0x4da346[_0x58a4b6(0x263)],_0x22fede);this['saveLocally']();}catch(_0x4470ea){}},'applyData'(_0x18cb3e,_0x44c2da){const _0x5f43d6=a3_0x51f1c2;if(!_0x18cb3e)return;if(_0x18cb3e['settings']){if(_0x18cb3e[_0x5f43d6(0x1f6)][_0x5f43d6(0x1d2)])availabilityPattern=_0x18cb3e[_0x5f43d6(0x1f6)]['pattern'];if(_0x18cb3e[_0x5f43d6(0x1f6)][_0x5f43d6(0x209)])specialRanges=_0x18cb3e[_0x5f43d6(0x1f6)][_0x5f43d6(0x209)];if(_0x18cb3e[_0x5f43d6(0x1f6)][_0x5f43d6(0x240)])dateExceptions=_0x18cb3e[_0x5f43d6(0x1f6)][_0x5f43d6(0x240)];}if(_0x18cb3e[_0x5f43d6(0x19e)]&&Array[_0x5f43d6(0x229)](_0x18cb3e[_0x5f43d6(0x19e)]))clients=_0x18cb3e['clients'];_0x18cb3e[_0x5f43d6(0x24e)]&&(coachProfiles={...coachProfiles,..._0x18cb3e[_0x5f43d6(0x24e)]}),_0x18cb3e[_0x5f43d6(0x197)]&&(sessions=sessions[_0x5f43d6(0x220)](_0x115e59=>!_0x115e59[_0x5f43d6(0x1e9)][_0x5f43d6(0x231)](_0x44c2da)),Object[_0x5f43d6(0x1cf)](_0x18cb3e['calendar'])[_0x5f43d6(0x25e)](_0x1317bd=>{const _0x547992=_0x5f43d6,_0x362380=_0x18cb3e[_0x547992(0x197)][_0x1317bd];_0x362380[_0x547992(0x25e)](_0x2b54e6=>{const _0x1ce325=_0x547992;sessions[_0x1ce325(0x1a0)]({'id':_0x2b54e6['i'],'clientId':_0x2b54e6['c'],'coachId':_0x2b54e6[_0x1ce325(0x1c7)],'dateStr':_0x44c2da+'-'+_0x1317bd[_0x1ce325(0x1f0)](0x2,'0'),'start':_0x2b54e6['s'],'end':_0x2b54e6['e'],'note':_0x2b54e6['n']||'','status':_0x2b54e6['st']||_0x1ce325(0x22a),'seriesId':_0x2b54e6['sid']});});})),reRenderBlocks();}};function init(){const _0x5d9bb1=a3_0x51f1c2;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5d9bb1(0x246)](_0x5d9bb1(0x217))[_0x5d9bb1(0x1d0)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5d9bb1(0x1dc)]();}function renderTimeColumn(){const _0x3331b9=a3_0x51f1c2,_0x30009a=document[_0x3331b9(0x246)](_0x3331b9(0x1ad)),_0x30abb3=document['getElementById'](_0x3331b9(0x26a));_0x30009a[_0x3331b9(0x19d)]='',_0x30009a['appendChild'](_0x30abb3);for(let _0x598dcd=0x0;_0x598dcd<0x18;_0x598dcd++){const _0x3535d6=document[_0x3331b9(0x1b3)]('div');_0x3535d6['className']=_0x3331b9(0x1f5);if(_0x598dcd>0x0)_0x3535d6[_0x3331b9(0x19d)]='<span>'+String(_0x598dcd)[_0x3331b9(0x1f0)](0x2,'0')+_0x3331b9(0x253);_0x30009a[_0x3331b9(0x250)](_0x3535d6);}}function renderDayRange(_0x4f3aa2,_0x1c07b7){const _0x268be5=a3_0x51f1c2,_0x347a7b=document[_0x268be5(0x246)]('daysHeaderTrack'),_0x3c94fc=document[_0x268be5(0x246)]('gridColumns'),_0xa51589=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4de5cd=new Date();_0x4de5cd[_0x268be5(0x1e8)](0x0,0x0,0x0,0x0);const _0x51cf9d=getLocalDateStr(new Date());for(let _0x5c08e3=_0x4f3aa2;_0x5c08e3<=_0x1c07b7;_0x5c08e3++){const _0x5288ae=new Date(_0x4de5cd);_0x5288ae[_0x268be5(0x1e2)](_0x5288ae['getDate']()+_0x5c08e3);const _0x3301b2=getLocalDateStr(_0x5288ae);let _0x1b2961=_0x5288ae[_0x268be5(0x1da)]()-0x1;if(_0x1b2961===-0x1)_0x1b2961=0x6;const _0x1e2f92=_0x3301b2===_0x51cf9d,_0x45aa4d=document[_0x268be5(0x1b3)](_0x268be5(0x1fd));_0x45aa4d[_0x268be5(0x1ef)]=_0x268be5(0x1de)+(_0x1e2f92?_0x268be5(0x21d):''),_0x45aa4d[_0x268be5(0x25a)]('data-date',_0x3301b2),_0x45aa4d['innerHTML']=_0x268be5(0x23f)+_0xa51589[_0x1b2961]+_0x268be5(0x1f2)+_0x5288ae[_0x268be5(0x24f)]()+_0x268be5(0x19b),_0x347a7b[_0x268be5(0x250)](_0x45aa4d);const _0x378c19=document[_0x268be5(0x1b3)](_0x268be5(0x1fd));_0x378c19[_0x268be5(0x1ef)]=_0x268be5(0x1d8)+(_0x1e2f92?_0x268be5(0x21d):''),_0x378c19[_0x268be5(0x25a)]('data-date',_0x3301b2),_0x378c19[_0x268be5(0x25a)](_0x268be5(0x286),_0x1b2961),_0x3c94fc[_0x268be5(0x250)](_0x378c19);}}function reRenderBlocks(){const _0x3d98e2=a3_0x51f1c2;document['querySelectorAll'](_0x3d98e2(0x251))['forEach'](_0x3c2c67=>{const _0x82ddbc=_0x3d98e2;_0x3c2c67['querySelectorAll'](_0x82ddbc(0x1b7))[_0x82ddbc(0x25e)](_0x3ee833=>_0x3ee833[_0x82ddbc(0x243)]());const _0x2c6aac=_0x3c2c67[_0x82ddbc(0x216)](_0x82ddbc(0x245)),_0xc3fe1a=parseInt(_0x3c2c67[_0x82ddbc(0x216)](_0x82ddbc(0x286))),_0xd10105=Math[_0x82ddbc(0x266)](_0x3c2c67['offsetLeft']);(availabilityPattern[_0xc3fe1a]||[])[_0x82ddbc(0x25e)](_0x781d5e=>{const _0x4a4938=_0x82ddbc,_0x57b2cd=document[_0x4a4938(0x1b3)]('div');_0x57b2cd[_0x4a4938(0x1ef)]=_0x4a4938(0x28a),_0x57b2cd[_0x4a4938(0x21f)]['top']=_0x781d5e*GRID_H+'px',_0x57b2cd[_0x4a4938(0x21f)][_0x4a4938(0x226)]='-'+_0xd10105+_0x4a4938(0x249)+_0x781d5e*GRID_H+'px',_0x3c2c67['appendChild'](_0x57b2cd);});if(specialRanges[_0x82ddbc(0x28e)]>0x0){const _0x4818dc=new Date(_0x2c6aac+_0x82ddbc(0x1a4))['getTime'](),_0xce3e7=new Date(_0x2c6aac+_0x82ddbc(0x25f))[_0x82ddbc(0x1a3)]();specialRanges[_0x82ddbc(0x25e)](_0x3808b6=>{const _0x154554=_0x82ddbc,_0x96d3e5=new Date(_0x3808b6[_0x154554(0x23c)])[_0x154554(0x1a3)](),_0x12a860=new Date(_0x3808b6[_0x154554(0x1b0)])[_0x154554(0x1a3)](),_0x1a88af=Math[_0x154554(0x260)](_0x4818dc,_0x96d3e5),_0x1e6b61=Math[_0x154554(0x1dd)](_0xce3e7,_0x12a860);if(_0x1a88af<_0x1e6b61){const _0x3752a0=(_0x1a88af-_0x4818dc)/0x36ee80*GRID_H,_0x4d8db5=(_0x1e6b61-_0x1a88af)/0x36ee80*GRID_H,_0x1670f5=document[_0x154554(0x1b3)](_0x154554(0x1fd));_0x4d8db5>=23.5*GRID_H?(_0x1670f5[_0x154554(0x1ef)]=_0x154554(0x1c9),_0x1670f5[_0x154554(0x21f)][_0x154554(0x226)]='-'+_0xd10105+_0x154554(0x270)):(_0x1670f5[_0x154554(0x1ef)]=_0x154554(0x1fb),_0x1670f5[_0x154554(0x21f)][_0x154554(0x199)]=_0x3752a0+'px',_0x1670f5['style'][_0x154554(0x239)]=_0x4d8db5+'px',_0x1670f5['style'][_0x154554(0x226)]='-'+_0xd10105+_0x154554(0x249)+_0x3752a0+'px'),_0x3c2c67['appendChild'](_0x1670f5);}});}renderEventsForColumn(_0x3c2c67,_0x2c6aac);});}function renderEventsForColumn(_0x44a810,_0x2a318a){const _0x501ea1=a3_0x51f1c2,_0xb9580b=sessions['filter'](_0x199c22=>_0x199c22[_0x501ea1(0x1e9)]===_0x2a318a),_0x184d86=_0xb9580b[_0x501ea1(0x20f)](_0x2ecd94=>{const _0x515095=_0x501ea1,[_0x48736f,_0x27c0a9]=_0x2ecd94[_0x515095(0x23c)][_0x515095(0x22d)](':')[_0x515095(0x20f)](Number),[_0x3906d8,_0x363408]=_0x2ecd94[_0x515095(0x1b0)][_0x515095(0x22d)](':')[_0x515095(0x20f)](Number);return{'data':_0x2ecd94,'start':_0x48736f*0x3c+_0x27c0a9,'end':_0x3906d8*0x3c+_0x363408,'colIndex':0x0};});_0x184d86[_0x501ea1(0x24b)]((_0x42d7a7,_0x809710)=>_0x42d7a7[_0x501ea1(0x23c)]-_0x809710[_0x501ea1(0x23c)]||_0x809710[_0x501ea1(0x1b0)]-_0x809710[_0x501ea1(0x23c)]-(_0x42d7a7[_0x501ea1(0x1b0)]-_0x42d7a7[_0x501ea1(0x23c)]));const _0x56fb33=[];_0x184d86[_0x501ea1(0x25e)](_0x1f96b7=>{const _0x37ac17=_0x501ea1;let _0x5934bb=![];for(let _0x2a2296=0x0;_0x2a2296<_0x56fb33[_0x37ac17(0x28e)];_0x2a2296++){const _0x75b091=_0x56fb33[_0x2a2296];if(_0x1f96b7[_0x37ac17(0x23c)]>=_0x75b091[_0x75b091['length']-0x1][_0x37ac17(0x1b0)]){_0x75b091[_0x37ac17(0x1a0)](_0x1f96b7),_0x1f96b7['colIndex']=_0x2a2296,_0x5934bb=!![];break;}}!_0x5934bb&&(_0x56fb33[_0x37ac17(0x1a0)]([_0x1f96b7]),_0x1f96b7[_0x37ac17(0x1c0)]=_0x56fb33[_0x37ac17(0x28e)]-0x1);}),_0x184d86[_0x501ea1(0x25e)](_0x41251d=>{const _0x111519=_0x501ea1;let _0x2a8059=0x0;_0x184d86[_0x111519(0x25e)](_0x765c61=>{const _0x466c9c=_0x111519;if(Math[_0x466c9c(0x260)](_0x41251d['start'],_0x765c61[_0x466c9c(0x23c)])<Math[_0x466c9c(0x1dd)](_0x41251d[_0x466c9c(0x1b0)],_0x765c61[_0x466c9c(0x1b0)])&&_0x765c61[_0x466c9c(0x1c0)]>_0x2a8059)_0x2a8059=_0x765c61['colIndex'];});const _0x5d1e54=_0x2a8059+0x1,_0x5bf720=0x64/_0x5d1e54,_0x56b6b5=_0x41251d['colIndex']*_0x5bf720,_0x2a8262=document[_0x111519(0x1b3)](_0x111519(0x1fd)),_0x388e0d=_0x41251d[_0x111519(0x263)];let _0x355abe=_0x111519(0x1be);if(clients&&clients[_0x111519(0x28e)]>0x0){const _0x5c1729=clients[_0x111519(0x19c)](_0x4d7ff7=>String(_0x4d7ff7['id'])===String(_0x388e0d[_0x111519(0x259)]));if(_0x5c1729&&_0x5c1729[_0x111519(0x1aa)])_0x355abe=_0x5c1729[_0x111519(0x1aa)];}const _0x4b8ffb=_0x388e0d[_0x111519(0x20a)]===_0x111519(0x1d3),_0x75f640=_0x4b8ffb?0x1:0.45;_0x2a8262[_0x111519(0x1ef)]=_0x111519(0x222)+(_0x4b8ffb?_0x111519(0x21a):''),_0x2a8262['style']['backgroundColor']=hexToRgba(_0x355abe,_0x75f640),_0x2a8262[_0x111519(0x21f)][_0x111519(0x238)]=_0x355abe;const _0x53320c=_0x41251d['start']/0x3c*GRID_H,_0x9b7e0a=(_0x41251d[_0x111519(0x1b0)]-_0x41251d[_0x111519(0x23c)])/0x3c*GRID_H;_0x2a8262[_0x111519(0x21f)][_0x111519(0x199)]=_0x53320c+'px',_0x2a8262[_0x111519(0x21f)][_0x111519(0x239)]=Math[_0x111519(0x260)](_0x9b7e0a,0x14)+'px',_0x2a8262[_0x111519(0x21f)]['width']=_0x111519(0x267)+_0x5bf720+'%\x20-\x204px)',_0x2a8262[_0x111519(0x21f)][_0x111519(0x280)]=_0x111519(0x267)+_0x56b6b5+'%\x20+\x202px)',_0x2a8262[_0x111519(0x21f)][_0x111519(0x210)]=0xa+_0x41251d[_0x111519(0x1c0)];if(_0x5bf720<0x55)_0x2a8262[_0x111519(0x206)][_0x111519(0x255)](_0x111519(0x1d4));let _0x40e574='';if(_0x388e0d['seriesId'])_0x40e574+=_0x111519(0x1c1);if(_0x4b8ffb)_0x40e574+=_0x111519(0x204);_0x2a8262[_0x111519(0x19d)]=_0x111519(0x200)+_0x388e0d['start']+'\x20-\x20'+_0x388e0d[_0x111519(0x1b0)]+_0x111519(0x1e0)+_0x40e574+_0x111519(0x1a2),_0x2a8262[_0x111519(0x20e)]=_0xbc2a=>{const _0x3afb5b=_0x111519;_0xbc2a[_0x3afb5b(0x241)](),openDetails(_0x388e0d);},_0x44a810[_0x111519(0x250)](_0x2a8262);});}function openAnalytics(){const _0x355914=a3_0x51f1c2,_0x2c1fc1=document[_0x355914(0x257)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x2c1fc1),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2b98f8,_0x4221c9){const _0x15705a=a3_0x51f1c2;currentAnPeriod=_0x2b98f8,document['querySelectorAll'](_0x15705a(0x277))['forEach'](_0x34bbfb=>_0x34bbfb[_0x15705a(0x206)][_0x15705a(0x243)]('active'));if(_0x4221c9)_0x4221c9['classList'][_0x15705a(0x255)]('active');const _0x3a1199=document[_0x15705a(0x246)](_0x15705a(0x25d));_0x3a1199[_0x15705a(0x21f)][_0x15705a(0x1e5)]=_0x2b98f8==='custom'?_0x15705a(0x25c):_0x15705a(0x19a);const _0x2012f2=new Date();let _0x271316=new Date(),_0x400cc8=new Date();if(_0x2b98f8===_0x15705a(0x1b5))_0x271316=getStartOfWeek(_0x2012f2),_0x400cc8=new Date(_0x271316),_0x400cc8[_0x15705a(0x1e2)](_0x400cc8[_0x15705a(0x24f)]()+0x6);else{if(_0x2b98f8===_0x15705a(0x1c2))_0x271316=new Date(_0x2012f2[_0x15705a(0x21c)](),_0x2012f2[_0x15705a(0x234)](),0x1),_0x400cc8=new Date(_0x2012f2['getFullYear'](),_0x2012f2[_0x15705a(0x234)]()+0x1,0x0);else{!document['getElementById'](_0x15705a(0x225))[_0x15705a(0x203)]&&(document[_0x15705a(0x246)](_0x15705a(0x225))[_0x15705a(0x203)]=getLocalDateStr(_0x2012f2),document[_0x15705a(0x246)](_0x15705a(0x1a8))['value']=getLocalDateStr(_0x2012f2));refreshAnalytics();return;}}document[_0x15705a(0x246)](_0x15705a(0x225))[_0x15705a(0x203)]=getLocalDateStr(_0x271316),document[_0x15705a(0x246)](_0x15705a(0x1a8))[_0x15705a(0x203)]=getLocalDateStr(_0x400cc8),refreshAnalytics();}function refreshAnalytics(){const _0x140248=a3_0x51f1c2,_0x1c714d=document[_0x140248(0x246)](_0x140248(0x225))[_0x140248(0x203)],_0xd0ae67=document[_0x140248(0x246)]('anEnd')[_0x140248(0x203)];if(!_0x1c714d||!_0xd0ae67)return;const _0x1d6713=sessions[_0x140248(0x220)](_0x2f89d0=>_0x2f89d0[_0x140248(0x1e9)]>=_0x1c714d&&_0x2f89d0[_0x140248(0x1e9)]<=_0xd0ae67&&_0x2f89d0[_0x140248(0x20a)]!==_0x140248(0x1ed)),_0x50131a=_0x1d6713[_0x140248(0x28e)],_0x172eff=_0x1d6713[_0x140248(0x220)](_0x1c5c33=>_0x1c5c33[_0x140248(0x20a)]===_0x140248(0x1d3))[_0x140248(0x28e)],_0xbe398a=_0x50131a>0x0?Math[_0x140248(0x266)](_0x172eff/_0x50131a*0x64):0x0;document[_0x140248(0x246)]('anPercent')[_0x140248(0x211)]=_0xbe398a+'%',document['getElementById'](_0x140248(0x1d1))[_0x140248(0x211)]=_0x172eff+'\x20–∏–∑\x20'+_0x50131a+_0x140248(0x27b);const _0x5331f3=document[_0x140248(0x246)](_0x140248(0x289)),_0x568650=0x2*Math['PI']*0x23,_0x5547b2=_0x568650-_0xbe398a/0x64*_0x568650;_0x5331f3[_0x140248(0x21f)][_0x140248(0x1c4)]=_0x5547b2;const _0x53b5b3={};_0x1d6713[_0x140248(0x25e)](_0x3ed604=>{const _0x21c4ff=_0x140248,_0x1957ff=_0x3ed604[_0x21c4ff(0x1f1)]||'Unknown';if(!_0x53b5b3[_0x1957ff]){const _0x38c0eb='#'+_0x1957ff[_0x21c4ff(0x27c)]()[_0x21c4ff(0x22f)](0x0,0x6);_0x53b5b3[_0x1957ff]={'total':0x0,'done':0x0,'color':_0x38c0eb};}_0x53b5b3[_0x1957ff]['total']++;if(_0x3ed604[_0x21c4ff(0x20a)]===_0x21c4ff(0x1d3))_0x53b5b3[_0x1957ff][_0x21c4ff(0x1ca)]++;});const _0xb47ffc=document['getElementById'](_0x140248(0x1e7));_0xb47ffc[_0x140248(0x19d)]='';const _0x3a04c4=Object[_0x140248(0x22e)](_0x53b5b3)[_0x140248(0x24b)]((_0x37d245,_0x13d758)=>_0x13d758[0x1]['total']-_0x37d245[0x1][_0x140248(0x274)]);if(_0x3a04c4[_0x140248(0x28e)]===0x0){_0xb47ffc[_0x140248(0x19d)]=_0x140248(0x244);return;}_0x3a04c4['forEach'](([_0x38f5be,_0x485da9])=>{const _0x86e8b=_0x140248,_0x47b9bb=Math[_0x86e8b(0x266)](_0x485da9[_0x86e8b(0x1ca)]/_0x485da9[_0x86e8b(0x274)]*0x64),_0x41bb00=document['createElement'](_0x86e8b(0x1fd));_0x41bb00[_0x86e8b(0x1ef)]='client-stat-card',_0x41bb00['style']['borderLeftColor']=_0x485da9[_0x86e8b(0x1aa)],_0x41bb00[_0x86e8b(0x19d)]=_0x86e8b(0x1cd)+_0x38f5be[_0x86e8b(0x22f)](0x0,0x5)+_0x86e8b(0x28c)+_0x485da9[_0x86e8b(0x1ca)]+'</span>\x20/\x20'+_0x485da9[_0x86e8b(0x274)]+_0x86e8b(0x1c6)+_0x47b9bb+_0x86e8b(0x281),_0xb47ffc['appendChild'](_0x41bb00);});}function openDetails(_0x16fff9){const _0x9d33bc=a3_0x51f1c2;currentSession=_0x16fff9;const _0x2b658e=new Date(_0x16fff9['dateStr']),_0x2b41b0=_0x2b658e[_0x9d33bc(0x279)](_0x9d33bc(0x262),{'weekday':_0x9d33bc(0x1b6),'day':_0x9d33bc(0x1c8),'month':_0x9d33bc(0x1b6)});document[_0x9d33bc(0x246)](_0x9d33bc(0x28b))[_0x9d33bc(0x211)]=_0x2b41b0['charAt'](0x0)[_0x9d33bc(0x273)]()+_0x2b41b0[_0x9d33bc(0x215)](0x1),document[_0x9d33bc(0x246)](_0x9d33bc(0x252))[_0x9d33bc(0x211)]=_0x16fff9[_0x9d33bc(0x23c)]+_0x9d33bc(0x20b)+_0x16fff9[_0x9d33bc(0x1b0)],document[_0x9d33bc(0x246)](_0x9d33bc(0x237))['textContent']=_0x16fff9[_0x9d33bc(0x1ae)]||_0x9d33bc(0x28f);const _0x37c9c4=document[_0x9d33bc(0x246)](_0x9d33bc(0x219)),_0x296357=document[_0x9d33bc(0x246)]('cancelContainer'),_0x486dd9=_0x296357[_0x9d33bc(0x257)](_0x9d33bc(0x1ce)),_0x4aee6a=_0x296357[_0x9d33bc(0x257)](_0x9d33bc(0x1c5)),_0x7f1f64=document[_0x9d33bc(0x246)]('cancelHint');if(_0x16fff9[_0x9d33bc(0x20a)]===_0x9d33bc(0x1d3))_0x37c9c4[_0x9d33bc(0x211)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x37c9c4[_0x9d33bc(0x21f)][_0x9d33bc(0x1aa)]=_0x9d33bc(0x232),_0x296357[_0x9d33bc(0x21f)][_0x9d33bc(0x1e5)]=_0x9d33bc(0x19a);else{_0x37c9c4[_0x9d33bc(0x211)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x37c9c4[_0x9d33bc(0x21f)][_0x9d33bc(0x1aa)]=_0x9d33bc(0x228),_0x296357[_0x9d33bc(0x21f)]['display']=_0x9d33bc(0x223);const _0x565f28=new Date(_0x16fff9[_0x9d33bc(0x1e9)]+'T'+_0x16fff9[_0x9d33bc(0x23c)]),_0x4f51d0=new Date(),_0x411bad=(_0x565f28-_0x4f51d0)/(0x3e8*0x3c*0x3c),_0x50a7b6=coachProfiles[_0x16fff9[_0x9d33bc(0x1f1)]]&&coachProfiles[_0x16fff9[_0x9d33bc(0x1f1)]][_0x9d33bc(0x19f)]?parseInt(coachProfiles[_0x16fff9[_0x9d33bc(0x1f1)]][_0x9d33bc(0x19f)]):0x18;if(_0x50a7b6===0x0||_0x411bad>=_0x50a7b6)_0x486dd9['style'][_0x9d33bc(0x1e5)]=_0x9d33bc(0x223),_0x4aee6a[_0x9d33bc(0x21f)][_0x9d33bc(0x1e5)]='block',_0x7f1f64[_0x9d33bc(0x21f)][_0x9d33bc(0x1e5)]=_0x9d33bc(0x19a);else{_0x486dd9[_0x9d33bc(0x21f)][_0x9d33bc(0x1e5)]='none',_0x4aee6a[_0x9d33bc(0x21f)][_0x9d33bc(0x1e5)]=_0x9d33bc(0x19a),_0x7f1f64[_0x9d33bc(0x21f)]['display']=_0x9d33bc(0x223);let _0x465d5d=_0x50a7b6===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x9d33bc(0x27d)+_0x50a7b6+_0x9d33bc(0x24c);_0x7f1f64[_0x9d33bc(0x211)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x465d5d+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x9d33bc(0x246)](_0x9d33bc(0x1bb))[_0x9d33bc(0x206)]['add'](_0x9d33bc(0x24d)),document[_0x9d33bc(0x246)](_0x9d33bc(0x265))[_0x9d33bc(0x206)]['add'](_0x9d33bc(0x20c));}function closeAllSheets(){const _0x521a1c=a3_0x51f1c2;document[_0x521a1c(0x246)](_0x521a1c(0x1bb))[_0x521a1c(0x206)]['remove']('active'),document[_0x521a1c(0x269)](_0x521a1c(0x194))['forEach'](_0x18fb58=>_0x18fb58[_0x521a1c(0x206)][_0x521a1c(0x243)]('open'));}function openSheet(_0x352169){const _0x1da703=a3_0x51f1c2;document['getElementById']('overlay')[_0x1da703(0x206)][_0x1da703(0x255)](_0x1da703(0x24d)),document[_0x1da703(0x246)](_0x352169)['classList'][_0x1da703(0x255)](_0x1da703(0x20c));}function getLocalDateStr(_0x3cbc87){const _0x14b0b1=a3_0x51f1c2,_0x5e798d=_0x3cbc87[_0x14b0b1(0x21c)](),_0x307216=String(_0x3cbc87['getMonth']()+0x1)[_0x14b0b1(0x1f0)](0x2,'0'),_0x8f2620=String(_0x3cbc87[_0x14b0b1(0x24f)]())[_0x14b0b1(0x1f0)](0x2,'0');return _0x5e798d+'-'+_0x307216+'-'+_0x8f2620;}function getStartOfWeek(_0x13a1d0){const _0x50c079=a3_0x51f1c2,_0x58b53e=new Date(_0x13a1d0),_0x33191e=_0x58b53e[_0x50c079(0x1da)](),_0xed961c=_0x58b53e[_0x50c079(0x24f)]()-_0x33191e+(_0x33191e===0x0?-0x6:0x1);return _0x58b53e['setDate'](_0xed961c),_0x58b53e[_0x50c079(0x1e8)](0x0,0x0,0x0,0x0),_0x58b53e;}function scrollToToday(){const _0x451ea1=getLocalDateStr(new Date());setTimeout(()=>{const _0x5bfefc=a3_0x3718,_0x31f98a=document[_0x5bfefc(0x257)](_0x5bfefc(0x1cc)+_0x451ea1+'\x22]');if(_0x31f98a){const _0x3a3f76=document[_0x5bfefc(0x246)](_0x5bfefc(0x217)),_0x9d957a=_0x31f98a[_0x5bfefc(0x264)]-_0x3a3f76[_0x5bfefc(0x1b2)]/0x2+_0x31f98a[_0x5bfefc(0x1fe)]/0x2;_0x3a3f76[_0x5bfefc(0x26f)]({'left':_0x9d957a,'behavior':_0x5bfefc(0x198)}),_0x3a3f76[_0x5bfefc(0x1ba)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x471935=a3_0x51f1c2,_0x381b2c=new Date(),_0x56f7a0=document[_0x471935(0x246)](_0x471935(0x282)),_0x163880=document[_0x471935(0x246)]('timeLineBadge'),_0x539f86=(_0x381b2c['getHours']()*0x3c+_0x381b2c[_0x471935(0x1df)]())/0x3c*GRID_H;_0x56f7a0[_0x471935(0x21f)]['top']=_0x539f86+'px',_0x56f7a0[_0x471935(0x21f)][_0x471935(0x1e5)]='block',_0x163880[_0x471935(0x21f)][_0x471935(0x199)]=_0x539f86+'px',_0x163880['style'][_0x471935(0x1e5)]=_0x471935(0x223),_0x163880['textContent']=String(_0x381b2c[_0x471935(0x1a5)]())[_0x471935(0x1f0)](0x2,'0')+':'+String(_0x381b2c['getMinutes']())[_0x471935(0x1f0)](0x2,'0');}function onScroll(){const _0x5e1dd3=a3_0x51f1c2,_0x3723c0=document[_0x5e1dd3(0x246)](_0x5e1dd3(0x217)),_0x263900=document[_0x5e1dd3(0x269)]('.day-col-header');for(let _0x103289 of _0x263900)if(_0x103289[_0x5e1dd3(0x264)]>=_0x3723c0[_0x5e1dd3(0x1e3)]){const _0x4849b9=new Date(_0x103289['getAttribute'](_0x5e1dd3(0x245)));document[_0x5e1dd3(0x246)]('headerMonth')[_0x5e1dd3(0x211)]=_0x4849b9['toLocaleString']('ru',{'month':_0x5e1dd3(0x1b6)})['toUpperCase']()+'\x20'+_0x4849b9[_0x5e1dd3(0x21c)]();break;}}function showToast(_0xfdf4ee){const _0x34b9e8=a3_0x51f1c2,_0x3f1913=document[_0x34b9e8(0x246)](_0x34b9e8(0x236));_0x3f1913[_0x34b9e8(0x211)]=_0xfdf4ee,_0x3f1913[_0x34b9e8(0x206)]['add']('show'),setTimeout(()=>_0x3f1913[_0x34b9e8(0x206)][_0x34b9e8(0x243)](_0x34b9e8(0x23d)),0x7d0);}function handleInfiniteScroll(){const _0x6d36da=a3_0x51f1c2,_0x4c1fa5=document['getElementById']('matrixViewport'),_0x191e14=_0x4c1fa5[_0x6d36da(0x1e3)],_0x57e2ec=_0x4c1fa5[_0x6d36da(0x278)],_0x5c5dc6=_0x4c1fa5[_0x6d36da(0x1b2)];if(_0x57e2ec-(_0x191e14+_0x5c5dc6)<0x12c){const _0x1fb9bd=endOffset;endOffset+=0xe,renderDayRange(_0x1fb9bd+0x1,endOffset),reRenderBlocks();}if(_0x191e14<0x12c){const _0x9220c0=startOffset;startOffset-=0xe,prependDays(startOffset,_0x9220c0-0x1),_0x4c1fa5[_0x6d36da(0x1e3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2bf61e,_0x4c5df5){const _0x1ea54f=a3_0x51f1c2,_0x1e4bc4=document[_0x1ea54f(0x246)](_0x1ea54f(0x1bc)),_0x495031=document[_0x1ea54f(0x246)]('gridColumns'),_0x3db559=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x166b11=new Date();_0x166b11[_0x1ea54f(0x1e8)](0x0,0x0,0x0,0x0);const _0xb27eec=getLocalDateStr(new Date()),_0x17848e=document[_0x1ea54f(0x1b8)](),_0x53ce7c=document[_0x1ea54f(0x1b8)]();for(let _0x1cc59b=_0x2bf61e;_0x1cc59b<=_0x4c5df5;_0x1cc59b++){const _0x6dd2d0=new Date(_0x166b11);_0x6dd2d0['setDate'](_0x6dd2d0[_0x1ea54f(0x24f)]()+_0x1cc59b);const _0x5bfe12=getLocalDateStr(_0x6dd2d0);let _0x36fb7b=_0x6dd2d0['getDay']()-0x1;if(_0x36fb7b===-0x1)_0x36fb7b=0x6;const _0x501c9f=_0x5bfe12===_0xb27eec,_0x334698=document['createElement']('div');_0x334698[_0x1ea54f(0x1ef)]=_0x1ea54f(0x1de)+(_0x501c9f?'today':''),_0x334698['setAttribute'](_0x1ea54f(0x245),_0x5bfe12),_0x334698[_0x1ea54f(0x19d)]=_0x1ea54f(0x23f)+_0x3db559[_0x36fb7b]+_0x1ea54f(0x1f2)+_0x6dd2d0[_0x1ea54f(0x24f)]()+_0x1ea54f(0x19b),_0x17848e[_0x1ea54f(0x250)](_0x334698);const _0x5293aa=document[_0x1ea54f(0x1b3)](_0x1ea54f(0x1fd));_0x5293aa[_0x1ea54f(0x1ef)]=_0x1ea54f(0x1d8)+(_0x501c9f?_0x1ea54f(0x21d):''),_0x5293aa['setAttribute'](_0x1ea54f(0x245),_0x5bfe12),_0x5293aa[_0x1ea54f(0x25a)](_0x1ea54f(0x286),_0x36fb7b),_0x53ce7c[_0x1ea54f(0x250)](_0x5293aa);}_0x1e4bc4[_0x1ea54f(0x227)](_0x17848e,_0x1e4bc4['firstChild']),_0x495031[_0x1ea54f(0x227)](_0x53ce7c,_0x495031[_0x1ea54f(0x257)](_0x1ea54f(0x251)));}function hexToRgba(_0x4656b9,_0x47e13e){const _0x39c218=a3_0x51f1c2;let _0x2608e1;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x4656b9))return _0x2608e1=_0x4656b9[_0x39c218(0x1ff)](0x1)[_0x39c218(0x22d)](''),_0x2608e1[_0x39c218(0x28e)]==0x3&&(_0x2608e1=[_0x2608e1[0x0],_0x2608e1[0x0],_0x2608e1[0x1],_0x2608e1[0x1],_0x2608e1[0x2],_0x2608e1[0x2]]),_0x2608e1='0x'+_0x2608e1[_0x39c218(0x27f)](''),_0x39c218(0x242)+[_0x2608e1>>0x10&0xff,_0x2608e1>>0x8&0xff,_0x2608e1&0xff][_0x39c218(0x27f)](',')+','+_0x47e13e+')';return _0x39c218(0x26c)+_0x47e13e+')';}let confirmResolver=null;function showCustomConfirm(_0x35319d,_0x10a639,_0x16e581=!![]){const _0x5bca5d=a3_0x51f1c2;document[_0x5bca5d(0x246)](_0x5bca5d(0x276))[_0x5bca5d(0x211)]=_0x35319d,document['getElementById']('ccText')[_0x5bca5d(0x211)]=_0x10a639;const _0x2fd94b=document[_0x5bca5d(0x246)]('ccYesBtn');return _0x16e581?(_0x2fd94b[_0x5bca5d(0x21f)][_0x5bca5d(0x1aa)]=_0x5bca5d(0x1f7),_0x2fd94b[_0x5bca5d(0x21f)][_0x5bca5d(0x1a9)]='600'):(_0x2fd94b['style'][_0x5bca5d(0x1aa)]=_0x5bca5d(0x1be),_0x2fd94b['style'][_0x5bca5d(0x1a9)]=_0x5bca5d(0x224)),new Promise(_0x5675a8=>{const _0x5afed7=_0x5bca5d;confirmResolver=_0x5675a8,document[_0x5afed7(0x246)](_0x5afed7(0x1a6))[_0x5afed7(0x206)][_0x5afed7(0x255)](_0x5afed7(0x218));});}function resolveCustomConfirm(_0x2d5978){const _0x8943ff=a3_0x51f1c2;document[_0x8943ff(0x246)](_0x8943ff(0x1a6))['classList'][_0x8943ff(0x243)](_0x8943ff(0x218));if(confirmResolver)confirmResolver(_0x2d5978);}async function tryCancelCurrentSession(){const _0x27a65f=a3_0x51f1c2;if(!currentSession)return;const _0x500ab1=await showCustomConfirm(_0x27a65f(0x1ea),_0x27a65f(0x1db),!![]);if(!_0x500ab1)return;const _0x135684=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x14e573=>_0x14e573['id']!==_0x135684['id']),reRenderBlocks(),showToast(_0x27a65f(0x1a7)),lastUserActionTime=Date['now']();try{const _0x201480=window[_0x27a65f(0x214)]?.[_0x27a65f(0x27a)],_0x588344=await fetch(API_URL,{'method':_0x27a65f(0x213),'body':JSON[_0x27a65f(0x284)]({'action':_0x27a65f(0x285),'init_data':_0x201480?.[_0x27a65f(0x1d6)]||'','coachId':_0x135684[_0x27a65f(0x1f1)],'dateStr':_0x135684[_0x27a65f(0x1e9)],'sessionId':_0x135684['id']})});if(_0x588344['ok'])DataManager['saveLocally']();}catch(_0x27921d){showToast(_0x27a65f(0x21e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x39e39d=a3_0x51f1c2;if(!currentSession)return;document[_0x39e39d(0x246)](_0x39e39d(0x265))[_0x39e39d(0x206)][_0x39e39d(0x243)]('open'),document[_0x39e39d(0x246)]('rescheduleSheet')['classList']['add'](_0x39e39d(0x20c));const _0xf2889d=document[_0x39e39d(0x246)](_0x39e39d(0x1f8)),_0x51a1d6=document[_0x39e39d(0x246)](_0x39e39d(0x26d));_0xf2889d[_0x39e39d(0x19d)]='',_0x51a1d6[_0x39e39d(0x19d)]=_0x39e39d(0x1d9);const [_0x5cd777,_0x471105]=currentSession[_0x39e39d(0x23c)][_0x39e39d(0x22d)](':')['map'](Number),[_0x16161b,_0x4bb9c5]=currentSession[_0x39e39d(0x1b0)]['split'](':')[_0x39e39d(0x20f)](Number),_0x563616=_0x16161b*0x3c+_0x4bb9c5-(_0x5cd777*0x3c+_0x471105);try{const _0x3655ed=window[_0x39e39d(0x214)]?.[_0x39e39d(0x27a)],_0x5d8ad2=await fetch(API_URL,{'method':_0x39e39d(0x213),'body':JSON[_0x39e39d(0x284)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x563616,'init_data':_0x3655ed?.[_0x39e39d(0x1d6)]||'','excludeSessionId':currentSession['id']})}),_0x4aa0fa=await _0x5d8ad2['json']();_0x4aa0fa['ok']&&_0x4aa0fa[_0x39e39d(0x263)]?(availableSlotsCache=_0x4aa0fa[_0x39e39d(0x263)],renderRescheduleDates()):_0x51a1d6[_0x39e39d(0x19d)]=_0x39e39d(0x230);}catch(_0x5847a4){_0x51a1d6[_0x39e39d(0x19d)]=_0x39e39d(0x258);}}function renderRescheduleDates(){const _0x189b20=a3_0x51f1c2,_0xb9a1c0=document['getElementById'](_0x189b20(0x1f8));_0xb9a1c0[_0x189b20(0x19d)]='';const _0x47ad9b=Object[_0x189b20(0x1cf)](availableSlotsCache)[_0x189b20(0x24b)](),_0x4326e1=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x47ad9b[_0x189b20(0x28e)]===0x0){document['getElementById'](_0x189b20(0x26d))[_0x189b20(0x19d)]=_0x189b20(0x1f4);return;}_0x47ad9b[_0x189b20(0x25e)]((_0x359807,_0x2926d9)=>{const _0x3b6cf7=_0x189b20,_0x14c1a7=new Date(_0x359807),_0xc846ab=_0x4326e1[_0x14c1a7[_0x3b6cf7(0x1da)]()],_0x550500=_0x14c1a7[_0x3b6cf7(0x24f)](),_0xefbc46=document['createElement'](_0x3b6cf7(0x1fd));_0xefbc46[_0x3b6cf7(0x1ef)]=_0x3b6cf7(0x205);if(_0x2926d9===0x0)_0xefbc46['classList'][_0x3b6cf7(0x255)](_0x3b6cf7(0x24d));_0xefbc46['innerHTML']=_0x3b6cf7(0x1c3)+_0xc846ab+_0x3b6cf7(0x23e)+_0x550500+'</div>',_0xefbc46[_0x3b6cf7(0x20e)]=()=>selectRsDate(_0x359807,_0xefbc46),_0xb9a1c0['appendChild'](_0xefbc46);}),selectRsDate(_0x47ad9b[0x0],_0xb9a1c0[_0x189b20(0x1d7)]);}function a3_0x3718(_0x48de65,_0x47ed92){_0x48de65=_0x48de65-0x194;const _0x24a3c6=a3_0x35c8();let _0x1815b2=_0x24a3c6[_0x48de65];return _0x1815b2;}function a3_0x35c8(){const _0x4cb815=['toUpperCase','total','Error\x20setting\x20color:','ccTitle','.period-switch\x20.p-btn','scrollWidth','toLocaleDateString','WebApp','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toString','–∑–∞\x20','offClick','join','left','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalTimeLine','setMonth','stringify','client_cancel','data-day-idx','search','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','anDonutCircle','blocked-slot\x20stripe-bg','detDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x20–≤\x20','length','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','5hLQLIX','.sheet','v9.5-CLIENT-ANALYTICS','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','calendar','auto','top','none','</div>','find','innerHTML','clients','cancel_window','push','uc_client_settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTime','T00:00:00','getHours','customConfirm','–û—Ç–º–µ–Ω–µ–Ω–æ','anEnd','fontWeight','color','applyData','apply','timeColumn','note','40DGtxwB','end','expand','clientWidth','createElement','#050505','week','long','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','createDocumentFragment','31302552OchrIR','scrollTop','overlay','daysHeaderTrack','saveLocally','#0a84ff','disableVerticalSwipes','colIndex','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','month','<div\x20class=\x22rs-day-name\x22>','strokeDashoffset','.btn-reschedule','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','cid','numeric','day-off-overlay\x20stripe-bg','done','4ShwmEa','.day-col-header[data-date=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','.btn-cancel','keys','addEventListener','anTotalStats','pattern','completed','mini','parse','initData','firstChild','day-column\x20','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','getDay','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','syncLoad','min','day-col-header\x20','getMinutes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setDate','scrollLeft','json','display','reschedule','analyticsList','setHours','dateStr','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','setItem','13AjRSou','cancelled','uc_client_list','className','padStart','coachId','</div><div\x20class=\x22dch-num\x22>','client_load','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','time-label','settings','#ff453a','rsDatesTrack','now','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','blocked-range-part\x20stripe-bg','14bwCYxe','div','offsetWidth','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','2902674WmOblG','1362699yYGoLA','value','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rs-date-chip','classList','button','user','ranges','status','\x20-\x20','open','Error\x20setting\x20back\x20button:','onclick','map','zIndex','textContent','findIndex','POST','Telegram','slice','getAttribute','matrixViewport','visible','detStatus','\x20status-completed','DOMContentLoaded','getFullYear','today','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','style','filter','17054VVFFnp','event-card','block','600','anStart','backgroundPosition','insertBefore','var(--acc-blue)','isArray','planned','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setBackgroundColor','split','entries','substr','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','startsWith','var(--acc-green)','2125104oHYVVg','getMonth','log','toast','detNote','borderLeftColor','height','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','370PdJvQv','start','show','</div><div\x20class=\x22rs-day-num\x22>','<div\x20class=\x22dch-day\x22>','exceptions','stopPropagation','rgba(','remove','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','data-date','getElementById','initDataUnsafe','getItem','px\x20-','8745352fXpdQZ','sort','\x20—á.','active','coach_profiles','getDate','appendChild','.day-column','detTime',':00</span>','17586pfbTzs','add','location','querySelector','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','clientId','setAttribute','href','flex','anCustomDates','forEach','T23:59:59','max','then','ru-RU','data','offsetLeft','detailsSheet','round','calc(','floor','querySelectorAll','timeLineBadge','error','rgba(10,\x20132,\x20255,\x20','rsSlotsGrid','BackButton','scrollTo','px\x200px','(((.+)+)+)+$','router.html'];a3_0x35c8=function(){return _0x4cb815;};return a3_0x35c8();}function selectRsDate(_0x3635bf,_0x181ae8){const _0x438be3=a3_0x51f1c2;selectedRsDate=_0x3635bf,document['querySelectorAll']('.rs-date-chip')[_0x438be3(0x25e)](_0x16d4ec=>_0x16d4ec[_0x438be3(0x206)][_0x438be3(0x243)](_0x438be3(0x24d)));if(_0x181ae8)_0x181ae8[_0x438be3(0x206)][_0x438be3(0x255)](_0x438be3(0x24d));const _0x28467c=document['getElementById'](_0x438be3(0x26d));_0x28467c[_0x438be3(0x19d)]='';const _0x4d86d0=availableSlotsCache[_0x3635bf]||[];if(_0x4d86d0[_0x438be3(0x28e)]===0x0){_0x28467c['innerHTML']=_0x438be3(0x230);return;}_0x4d86d0[_0x438be3(0x25e)](_0x1551d4=>{const _0x30e81b=_0x438be3,_0x597a88=document[_0x30e81b(0x1b3)](_0x30e81b(0x207));_0x597a88['className']='rs-time-btn',_0x597a88[_0x30e81b(0x211)]=_0x1551d4,_0x597a88['onclick']=()=>confirmReschedule(_0x1551d4),_0x28467c[_0x30e81b(0x250)](_0x597a88);});}async function confirmReschedule(_0x5a5535){const _0x5b3859=a3_0x51f1c2,_0xe958e4=new Date(selectedRsDate),_0x2d7f6c=_0xe958e4[_0x5b3859(0x279)](_0x5b3859(0x262),{'day':'numeric','month':'long'}),_0x5da288=await showCustomConfirm(_0x5b3859(0x196),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x2d7f6c+_0x5b3859(0x28d)+_0x5a5535+'?',![]);if(!_0x5da288)return;closeAllSheets(),showToast(_0x5b3859(0x1fa)),lastUserActionTime=Date[_0x5b3859(0x1f9)]();const _0x7523df=currentSession[_0x5b3859(0x1e9)],_0x5afab6=currentSession['id'],[_0x536ca5,_0x5ae5eb]=currentSession[_0x5b3859(0x23c)][_0x5b3859(0x22d)](':')['map'](Number),[_0xcdb611,_0x2f1219]=currentSession['end'][_0x5b3859(0x22d)](':')['map'](Number),_0x2e0641=_0xcdb611*0x3c+_0x2f1219-(_0x536ca5*0x3c+_0x5ae5eb),[_0x2665be,_0x5a0f9f]=_0x5a5535[_0x5b3859(0x22d)](':')[_0x5b3859(0x20f)](Number),_0x41e10c=_0x2665be*0x3c+_0x5a0f9f+_0x2e0641,_0x592ad8=Math[_0x5b3859(0x268)](_0x41e10c/0x3c),_0x4d8b1a=_0x41e10c%0x3c,_0xd2a76e=String(_0x592ad8)['padStart'](0x2,'0')+':'+String(_0x4d8b1a)[_0x5b3859(0x1f0)](0x2,'0'),_0x29e05f=sessions[_0x5b3859(0x212)](_0x3f5a1c=>_0x3f5a1c['id']===_0x5afab6);_0x29e05f!==-0x1&&(sessions[_0x29e05f][_0x5b3859(0x1e9)]=selectedRsDate,sessions[_0x29e05f]['start']=_0x5a5535,sessions[_0x29e05f][_0x5b3859(0x1b0)]=_0xd2a76e,reRenderBlocks());try{const _0x12b612=window['Telegram']?.[_0x5b3859(0x27a)],_0x1cfe3a=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x5b3859(0x1e6),'init_data':_0x12b612?.[_0x5b3859(0x1d6)]||'','oldSessionId':_0x5afab6,'oldDate':_0x7523df,'newDate':selectedRsDate,'newTime':_0x5a5535,'coachId':currentSession['coachId']})}),_0x3ce191=await _0x1cfe3a[_0x5b3859(0x1e4)]();!_0x3ce191['ok']?(showToast(_0x5b3859(0x22b)),DataManager[_0x5b3859(0x1dc)]()):(showToast(_0x5b3859(0x1e1)),DataManager[_0x5b3859(0x1bd)]());}catch(_0x2b04b8){showToast(_0x5b3859(0x21e));}}document[a3_0x51f1c2(0x1d0)](a3_0x51f1c2(0x21b),init);