const a3_0x5e863c=a3_0x3b18;(function(_0xe383d1,_0x346291){const _0x490671=a3_0x3b18,_0x2c26db=_0xe383d1();while(!![]){try{const _0x1e7241=parseInt(_0x490671(0xb8))/0x1+parseInt(_0x490671(0x137))/0x2+parseInt(_0x490671(0x128))/0x3+-parseInt(_0x490671(0x181))/0x4*(-parseInt(_0x490671(0x13b))/0x5)+-parseInt(_0x490671(0xd1))/0x6*(parseInt(_0x490671(0xcf))/0x7)+parseInt(_0x490671(0xd8))/0x8+parseInt(_0x490671(0x16a))/0x9*(-parseInt(_0x490671(0x171))/0xa);if(_0x1e7241===_0x346291)break;else _0x2c26db['push'](_0x2c26db['shift']());}catch(_0x498e5f){_0x2c26db['push'](_0x2c26db['shift']());}}}(a3_0x2b8f,0x9f026));function a3_0x3b18(_0x108eac,_0x5a32aa){_0x108eac=_0x108eac-0xaf;const _0x29de73=a3_0x2b8f();let _0x2d4988=_0x29de73[_0x108eac];return _0x2d4988;}const APP_VERSION=a3_0x5e863c(0xe5),API_URL=a3_0x5e863c(0x13f),GRID_H=0x3c,KEY_SESSIONS=a3_0x5e863c(0x111),KEY_SETTINGS=a3_0x5e863c(0x195),KEY_CLIENTS=a3_0x5e863c(0x14b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5e863c(0xc7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2a350f=a3_0x5e863c,_0x50f908=(function(){let _0x2981df=!![];return function(_0x3dfa15,_0x552e28){const _0x487690=_0x2981df?function(){const _0x2b9837=a3_0x3b18;if(_0x552e28){const _0x17fd0c=_0x552e28[_0x2b9837(0x141)](_0x3dfa15,arguments);return _0x552e28=null,_0x17fd0c;}}:function(){};return _0x2981df=![],_0x487690;};}()),_0x7abe46=_0x50f908(this,function(){const _0x24a5ce=a3_0x3b18;return _0x7abe46[_0x24a5ce(0x10d)]()[_0x24a5ce(0x144)](_0x24a5ce(0xe6))[_0x24a5ce(0x10d)]()[_0x24a5ce(0x112)](_0x7abe46)[_0x24a5ce(0x144)](_0x24a5ce(0xe6));});_0x7abe46();try{const _0x5716f6=window['Telegram']?.[_0x2a350f(0x149)];if(!_0x5716f6)return;_0x5716f6['ready'](),_0x5716f6['expand']();try{_0x5716f6['setHeaderColor'](_0x2a350f(0x127)),_0x5716f6[_0x2a350f(0x13a)]&&_0x5716f6[_0x2a350f(0x13a)](_0x2a350f(0x127));}catch(_0x5c869e){console['log'](_0x2a350f(0x10b),_0x5c869e);}try{_0x5716f6[_0x2a350f(0xb1)]&&(_0x5716f6[_0x2a350f(0xb1)][_0x2a350f(0x13e)](),_0x5716f6['BackButton'][_0x2a350f(0x13c)](),_0x5716f6[_0x2a350f(0xb1)][_0x2a350f(0x108)](function(){const _0x5bc7e2=_0x2a350f;window[_0x5bc7e2(0xd9)][_0x5bc7e2(0xeb)]=_0x5bc7e2(0x150);}));}catch(_0x47835c){console['log'](_0x2a350f(0xbb),_0x47835c);}try{if(_0x5716f6[_0x2a350f(0x17f)])_0x5716f6['disableVerticalSwipes']();}catch(_0x5add0b){}}catch(_0x4b93ce){console['error'](_0x2a350f(0x132),_0x4b93ce);}}());function isAdmin(){const _0x58f392=a3_0x5e863c;try{const _0x46fd95=Number(window[_0x58f392(0xd7)]?.[_0x58f392(0x149)]?.[_0x58f392(0x106)]?.[_0x58f392(0x166)]?.['id']);return _0x46fd95===0xbaf7174;}catch(_0x44faa9){return![];}}const DataManager={'saveLocally'(){const _0x126ede=a3_0x5e863c;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x126ede(0x133)](sessions)),localStorage[_0x126ede(0x164)](KEY_CLIENTS,JSON[_0x126ede(0x133)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x126ede(0x133)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x295065){}},'loadLocal'(){const _0x25c2ae=a3_0x5e863c;try{const _0x8bf4b9=localStorage[_0x25c2ae(0xf7)](KEY_SESSIONS);if(_0x8bf4b9)sessions=JSON['parse'](_0x8bf4b9);const _0x40c007=localStorage[_0x25c2ae(0xf7)](KEY_CLIENTS);if(_0x40c007)clients=JSON[_0x25c2ae(0xec)](_0x40c007);const _0x5358e5=localStorage[_0x25c2ae(0xf7)](KEY_SETTINGS);if(_0x5358e5){const _0x2fae71=JSON[_0x25c2ae(0xec)](_0x5358e5);if(_0x2fae71['pattern'])availabilityPattern=_0x2fae71['pattern'];if(_0x2fae71[_0x25c2ae(0x102)])specialRanges=_0x2fae71[_0x25c2ae(0x102)];if(_0x2fae71[_0x25c2ae(0x14d)])dateExceptions=_0x2fae71['exceptions'];}}catch(_0x36d973){}},async 'syncLoad'(){const _0x63eca1=a3_0x5e863c,_0x36be0e=new Date(),_0x143476=_0x36be0e[_0x63eca1(0x147)]()+'-'+String(_0x36be0e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4c3abb=new Date(_0x36be0e);_0x4c3abb[_0x63eca1(0x174)](_0x36be0e[_0x63eca1(0xe8)]()+0x1);const _0x30cfd5=_0x4c3abb[_0x63eca1(0x147)]()+'-'+String(_0x4c3abb[_0x63eca1(0xe8)]()+0x1)['padStart'](0x2,'0'),_0x1cd291=Date[_0x63eca1(0x14a)]();try{const _0x388cee=window['Telegram']?.['WebApp'],_0x3c345c=_0x388cee?.[_0x63eca1(0x12c)]||'',[_0x2c7364,_0x575131]=await Promise[_0x63eca1(0x11b)]([fetch(API_URL,{'method':_0x63eca1(0x168),'body':JSON['stringify']({'action':'client_load','init_data':_0x3c345c,'month_str':_0x143476})})['then'](_0x3e5300=>_0x3e5300[_0x63eca1(0x124)]()),fetch(API_URL,{'method':_0x63eca1(0x168),'body':JSON[_0x63eca1(0x133)]({'action':_0x63eca1(0x10a),'init_data':_0x3c345c,'month_str':_0x30cfd5})})[_0x63eca1(0xde)](_0x541a29=>_0x541a29[_0x63eca1(0x124)]())]);if(lastUserActionTime>_0x1cd291){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x2c7364['ok'])this['applyData'](_0x2c7364['data'],_0x143476);if(_0x575131['ok'])this['applyData'](_0x575131[_0x63eca1(0x161)],_0x30cfd5);this[_0x63eca1(0x101)]();}catch(_0x4c99f8){}},'applyData'(_0x575dcc,_0x3fc214){const _0xafa434=a3_0x5e863c;if(!_0x575dcc)return;if(_0x575dcc[_0xafa434(0xe2)]){if(_0x575dcc[_0xafa434(0xe2)][_0xafa434(0x14c)])availabilityPattern=_0x575dcc[_0xafa434(0xe2)][_0xafa434(0x14c)];if(_0x575dcc[_0xafa434(0xe2)][_0xafa434(0x102)])specialRanges=_0x575dcc[_0xafa434(0xe2)][_0xafa434(0x102)];if(_0x575dcc[_0xafa434(0xe2)][_0xafa434(0x14d)])dateExceptions=_0x575dcc['settings'][_0xafa434(0x14d)];}if(_0x575dcc[_0xafa434(0x18a)]&&Array[_0xafa434(0x183)](_0x575dcc[_0xafa434(0x18a)]))clients=_0x575dcc[_0xafa434(0x18a)];_0x575dcc[_0xafa434(0xbf)]&&(coachProfiles={...coachProfiles,..._0x575dcc['coach_profiles']}),_0x575dcc['calendar']&&(sessions=sessions[_0xafa434(0x16c)](_0x2636e2=>!_0x2636e2[_0xafa434(0x167)][_0xafa434(0xf3)](_0x3fc214)),Object['keys'](_0x575dcc[_0xafa434(0x158)])['forEach'](_0x7648e9=>{const _0x11a458=_0xafa434,_0x22ffbc=_0x575dcc[_0x11a458(0x158)][_0x7648e9];_0x22ffbc[_0x11a458(0xd2)](_0x47615f=>{const _0x57e83f=_0x11a458;sessions[_0x57e83f(0x1a5)]({'id':_0x47615f['i'],'clientId':_0x47615f['c'],'coachId':_0x47615f[_0x57e83f(0xb3)],'dateStr':_0x3fc214+'-'+_0x7648e9[_0x57e83f(0x1a6)](0x2,'0'),'start':_0x47615f['s'],'end':_0x47615f['e'],'note':_0x47615f['n']||'','status':_0x47615f['st']||'planned','seriesId':_0x47615f[_0x57e83f(0x15e)]});});})),reRenderBlocks();}};function init(){const _0x10aeb6=a3_0x5e863c;DataManager[_0x10aeb6(0x186)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x10aeb6(0xe0)](_0x10aeb6(0x162))['addEventListener'](_0x10aeb6(0x130),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x3feabc=a3_0x5e863c,_0x81c8d5=document[_0x3feabc(0xe0)](_0x3feabc(0x119)),_0x3919fc=document['getElementById']('timeLineBadge');_0x81c8d5['innerHTML']='',_0x81c8d5['appendChild'](_0x3919fc);for(let _0x2ea8c3=0x0;_0x2ea8c3<0x18;_0x2ea8c3++){const _0x411b01=document[_0x3feabc(0xea)](_0x3feabc(0x107));_0x411b01[_0x3feabc(0x194)]=_0x3feabc(0x103);if(_0x2ea8c3>0x0)_0x411b01[_0x3feabc(0x159)]=_0x3feabc(0xba)+String(_0x2ea8c3)[_0x3feabc(0x1a6)](0x2,'0')+_0x3feabc(0x176);_0x81c8d5[_0x3feabc(0xdb)](_0x411b01);}}function renderDayRange(_0x307bd7,_0x4e9f69){const _0x5605c8=a3_0x5e863c,_0x104815=document[_0x5605c8(0xe0)](_0x5605c8(0xf2)),_0x2a919a=document['getElementById'](_0x5605c8(0x19c)),_0x2e426b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2525fe=new Date();_0x2525fe[_0x5605c8(0xb5)](0x0,0x0,0x0,0x0);const _0x2b89f7=getLocalDateStr(new Date());for(let _0x294b4e=_0x307bd7;_0x294b4e<=_0x4e9f69;_0x294b4e++){const _0xad85ee=new Date(_0x2525fe);_0xad85ee['setDate'](_0xad85ee[_0x5605c8(0x160)]()+_0x294b4e);const _0x17acba=getLocalDateStr(_0xad85ee);let _0x41bf2f=_0xad85ee[_0x5605c8(0x13d)]()-0x1;if(_0x41bf2f===-0x1)_0x41bf2f=0x6;const _0x5c5e44=_0x17acba===_0x2b89f7,_0x584545=document[_0x5605c8(0xea)](_0x5605c8(0x107));_0x584545[_0x5605c8(0x194)]=_0x5605c8(0xbc)+(_0x5c5e44?_0x5605c8(0x11e):''),_0x584545['setAttribute']('data-date',_0x17acba),_0x584545['innerHTML']=_0x5605c8(0x138)+_0x2e426b[_0x41bf2f]+_0x5605c8(0xff)+_0xad85ee['getDate']()+_0x5605c8(0x18b),_0x104815[_0x5605c8(0xdb)](_0x584545);const _0x431478=document[_0x5605c8(0xea)](_0x5605c8(0x107));_0x431478[_0x5605c8(0x194)]=_0x5605c8(0x154)+(_0x5c5e44?_0x5605c8(0x11e):''),_0x431478[_0x5605c8(0x192)](_0x5605c8(0x139),_0x17acba),_0x431478[_0x5605c8(0x192)]('data-day-idx',_0x41bf2f),_0x2a919a[_0x5605c8(0xdb)](_0x431478);}}function reRenderBlocks(){const _0x59b39f=a3_0x5e863c;document[_0x59b39f(0x12b)](_0x59b39f(0xdc))['forEach'](_0x455897=>{const _0x3947a8=_0x59b39f;_0x455897[_0x3947a8(0x12b)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x3947a8(0xd2)](_0x57f6ef=>_0x57f6ef['remove']());const _0x1d250d=_0x455897[_0x3947a8(0xf5)](_0x3947a8(0x139)),_0x288df6=parseInt(_0x455897[_0x3947a8(0xf5)](_0x3947a8(0xbd))),_0x5a2403=Math[_0x3947a8(0xdd)](_0x455897[_0x3947a8(0x14f)]);(availabilityPattern[_0x288df6]||[])['forEach'](_0x53ec78=>{const _0x43d599=_0x3947a8,_0x523c49=document[_0x43d599(0xea)](_0x43d599(0x107));_0x523c49[_0x43d599(0x194)]='blocked-slot\x20stripe-bg',_0x523c49[_0x43d599(0xf4)][_0x43d599(0x104)]=_0x53ec78*GRID_H+'px',_0x523c49[_0x43d599(0xf4)][_0x43d599(0xf8)]='-'+_0x5a2403+_0x43d599(0xcc)+_0x53ec78*GRID_H+'px',_0x455897['appendChild'](_0x523c49);});if(specialRanges[_0x3947a8(0xda)]>0x0){const _0x415328=new Date(_0x1d250d+_0x3947a8(0x142))[_0x3947a8(0x189)](),_0x19f0f7=new Date(_0x1d250d+_0x3947a8(0xcd))[_0x3947a8(0x189)]();specialRanges[_0x3947a8(0xd2)](_0x253990=>{const _0x237c4f=_0x3947a8,_0x51d5da=new Date(_0x253990['start'])[_0x237c4f(0x189)](),_0xd9e6af=new Date(_0x253990['end'])['getTime'](),_0x37d89c=Math[_0x237c4f(0x169)](_0x415328,_0x51d5da),_0x1327b0=Math[_0x237c4f(0x10e)](_0x19f0f7,_0xd9e6af);if(_0x37d89c<_0x1327b0){const _0x432108=(_0x37d89c-_0x415328)/0x36ee80*GRID_H,_0x3af139=(_0x1327b0-_0x37d89c)/0x36ee80*GRID_H,_0x32e8b8=document[_0x237c4f(0xea)](_0x237c4f(0x107));_0x3af139>=23.5*GRID_H?(_0x32e8b8[_0x237c4f(0x194)]=_0x237c4f(0x15f),_0x32e8b8[_0x237c4f(0xf4)][_0x237c4f(0xf8)]='-'+_0x5a2403+_0x237c4f(0x17b)):(_0x32e8b8[_0x237c4f(0x194)]=_0x237c4f(0x170),_0x32e8b8[_0x237c4f(0xf4)][_0x237c4f(0x104)]=_0x432108+'px',_0x32e8b8[_0x237c4f(0xf4)][_0x237c4f(0x157)]=_0x3af139+'px',_0x32e8b8[_0x237c4f(0xf4)][_0x237c4f(0xf8)]='-'+_0x5a2403+'px\x20-'+_0x432108+'px'),_0x455897[_0x237c4f(0xdb)](_0x32e8b8);}});}renderEventsForColumn(_0x455897,_0x1d250d);});}function renderEventsForColumn(_0x9aa5e7,_0x7ab3fd){const _0xc7048a=a3_0x5e863c,_0x30bf2f=sessions[_0xc7048a(0x16c)](_0x3fd72b=>_0x3fd72b['dateStr']===_0x7ab3fd),_0x14163f=_0x30bf2f[_0xc7048a(0x146)](_0x98857a=>{const _0x64774c=_0xc7048a,[_0x1c1814,_0x121fa9]=_0x98857a[_0x64774c(0xc6)][_0x64774c(0xc8)](':')[_0x64774c(0x146)](Number),[_0x11496b,_0x5ac597]=_0x98857a[_0x64774c(0x187)][_0x64774c(0xc8)](':')[_0x64774c(0x146)](Number);return{'data':_0x98857a,'start':_0x1c1814*0x3c+_0x121fa9,'end':_0x11496b*0x3c+_0x5ac597,'colIndex':0x0};});_0x14163f[_0xc7048a(0x15a)]((_0x5c69e4,_0x57dd5b)=>_0x5c69e4[_0xc7048a(0xc6)]-_0x57dd5b[_0xc7048a(0xc6)]||_0x57dd5b[_0xc7048a(0x187)]-_0x57dd5b[_0xc7048a(0xc6)]-(_0x5c69e4[_0xc7048a(0x187)]-_0x5c69e4[_0xc7048a(0xc6)]));const _0xbc23de=[];_0x14163f[_0xc7048a(0xd2)](_0x1ec0d5=>{const _0x2d99ff=_0xc7048a;let _0x4d3ff8=![];for(let _0x5c0f8d=0x0;_0x5c0f8d<_0xbc23de[_0x2d99ff(0xda)];_0x5c0f8d++){const _0x381d53=_0xbc23de[_0x5c0f8d];if(_0x1ec0d5['start']>=_0x381d53[_0x381d53[_0x2d99ff(0xda)]-0x1][_0x2d99ff(0x187)]){_0x381d53[_0x2d99ff(0x1a5)](_0x1ec0d5),_0x1ec0d5[_0x2d99ff(0xe9)]=_0x5c0f8d,_0x4d3ff8=!![];break;}}!_0x4d3ff8&&(_0xbc23de['push']([_0x1ec0d5]),_0x1ec0d5[_0x2d99ff(0xe9)]=_0xbc23de['length']-0x1);}),_0x14163f[_0xc7048a(0xd2)](_0x4d19b9=>{const _0x49ff5a=_0xc7048a;let _0x5010ed=0x0;_0x14163f[_0x49ff5a(0xd2)](_0x3e7f28=>{const _0x3a2b8e=_0x49ff5a;if(Math[_0x3a2b8e(0x169)](_0x4d19b9[_0x3a2b8e(0xc6)],_0x3e7f28[_0x3a2b8e(0xc6)])<Math[_0x3a2b8e(0x10e)](_0x4d19b9[_0x3a2b8e(0x187)],_0x3e7f28['end'])&&_0x3e7f28[_0x3a2b8e(0xe9)]>_0x5010ed)_0x5010ed=_0x3e7f28['colIndex'];});const _0x45d15f=_0x5010ed+0x1,_0x1a88de=0x64/_0x45d15f,_0x3be373=_0x4d19b9[_0x49ff5a(0xe9)]*_0x1a88de,_0x9cda7f=document['createElement']('div'),_0x434e32=_0x4d19b9['data'];let _0x5bdf05=_0x49ff5a(0xe1);if(clients&&clients[_0x49ff5a(0xda)]>0x0){const _0x52c6bd=clients['find'](_0x406212=>String(_0x406212['id'])===String(_0x434e32[_0x49ff5a(0xcb)]));if(_0x52c6bd&&_0x52c6bd[_0x49ff5a(0xc4)])_0x5bdf05=_0x52c6bd[_0x49ff5a(0xc4)];}const _0x4d5e8c=_0x434e32[_0x49ff5a(0x16f)]===_0x49ff5a(0x11f),_0x46a89f=_0x4d5e8c?0x1:0.45;_0x9cda7f[_0x49ff5a(0x194)]=_0x49ff5a(0x15c)+(_0x4d5e8c?'\x20status-completed':''),_0x9cda7f[_0x49ff5a(0xf4)]['backgroundColor']=hexToRgba(_0x5bdf05,_0x46a89f),_0x9cda7f[_0x49ff5a(0xf4)][_0x49ff5a(0x136)]=_0x5bdf05;const _0x41e344=_0x4d19b9['start']/0x3c*GRID_H,_0x245ff6=(_0x4d19b9[_0x49ff5a(0x187)]-_0x4d19b9[_0x49ff5a(0xc6)])/0x3c*GRID_H;_0x9cda7f[_0x49ff5a(0xf4)][_0x49ff5a(0x104)]=_0x41e344+'px',_0x9cda7f['style'][_0x49ff5a(0x157)]=Math[_0x49ff5a(0x169)](_0x245ff6,0x14)+'px',_0x9cda7f['style'][_0x49ff5a(0x173)]=_0x49ff5a(0x117)+_0x1a88de+'%\x20-\x204px)',_0x9cda7f['style'][_0x49ff5a(0xfc)]='calc('+_0x3be373+_0x49ff5a(0xc5),_0x9cda7f[_0x49ff5a(0xf4)][_0x49ff5a(0x179)]=0xa+_0x4d19b9['colIndex'];if(_0x1a88de<0x55)_0x9cda7f['classList'][_0x49ff5a(0x140)](_0x49ff5a(0x180));let _0xb0bb81='';if(_0x434e32['seriesId'])_0xb0bb81+=_0x49ff5a(0xe7);if(_0x4d5e8c)_0xb0bb81+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x9cda7f[_0x49ff5a(0x159)]=_0x49ff5a(0x10c)+_0x434e32[_0x49ff5a(0xc6)]+'\x20-\x20'+_0x434e32[_0x49ff5a(0x187)]+_0x49ff5a(0x1a4)+_0xb0bb81+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x9cda7f[_0x49ff5a(0x191)]=_0x139750=>{_0x139750['stopPropagation'](),openDetails(_0x434e32);},_0x9aa5e7[_0x49ff5a(0xdb)](_0x9cda7f);});}function openAnalytics(){const _0x38dc55=a3_0x5e863c,_0xb6ca2d=document['querySelector'](_0x38dc55(0x155));setAnalyticsPeriod(_0x38dc55(0xc7),_0xb6ca2d),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x507a11,_0x12f339){const _0x177a4e=a3_0x5e863c;currentAnPeriod=_0x507a11,document['querySelectorAll'](_0x177a4e(0x155))[_0x177a4e(0xd2)](_0x3a4d3b=>_0x3a4d3b[_0x177a4e(0x114)][_0x177a4e(0x15b)](_0x177a4e(0x121)));if(_0x12f339)_0x12f339[_0x177a4e(0x114)]['add'](_0x177a4e(0x121));const _0x1abde8=document[_0x177a4e(0xe0)](_0x177a4e(0x116));_0x1abde8[_0x177a4e(0xf4)]['display']=_0x507a11===_0x177a4e(0x145)?_0x177a4e(0x188):'none';const _0x36a792=new Date();let _0x3f2efc=new Date(),_0x2cb7e6=new Date();if(_0x507a11===_0x177a4e(0xc7))_0x3f2efc=getStartOfWeek(_0x36a792),_0x2cb7e6=new Date(_0x3f2efc),_0x2cb7e6[_0x177a4e(0x1a7)](_0x2cb7e6['getDate']()+0x6);else{if(_0x507a11===_0x177a4e(0x123))_0x3f2efc=new Date(_0x36a792[_0x177a4e(0x147)](),_0x36a792['getMonth'](),0x1),_0x2cb7e6=new Date(_0x36a792[_0x177a4e(0x147)](),_0x36a792[_0x177a4e(0xe8)]()+0x1,0x0);else{!document['getElementById'](_0x177a4e(0x153))['value']&&(document[_0x177a4e(0xe0)](_0x177a4e(0x153))[_0x177a4e(0xfd)]=getLocalDateStr(_0x36a792),document['getElementById'](_0x177a4e(0x17a))[_0x177a4e(0xfd)]=getLocalDateStr(_0x36a792));refreshAnalytics();return;}}document['getElementById'](_0x177a4e(0x153))['value']=getLocalDateStr(_0x3f2efc),document[_0x177a4e(0xe0)]('anEnd')[_0x177a4e(0xfd)]=getLocalDateStr(_0x2cb7e6),refreshAnalytics();}function refreshAnalytics(){const _0x529827=a3_0x5e863c,_0x1e415b=document[_0x529827(0xe0)]('anStart')[_0x529827(0xfd)],_0x49f78f=document['getElementById'](_0x529827(0x17a))[_0x529827(0xfd)];if(!_0x1e415b||!_0x49f78f)return;const _0x574693=sessions[_0x529827(0x16c)](_0x463407=>_0x463407[_0x529827(0x167)]>=_0x1e415b&&_0x463407[_0x529827(0x167)]<=_0x49f78f&&_0x463407['status']!==_0x529827(0x152)),_0x3bcfba=_0x574693[_0x529827(0xda)],_0x164d86=_0x574693[_0x529827(0x16c)](_0x2ae78d=>_0x2ae78d[_0x529827(0x16f)]===_0x529827(0x11f))[_0x529827(0xda)],_0x15c21a=_0x3bcfba>0x0?Math['round'](_0x164d86/_0x3bcfba*0x64):0x0;document[_0x529827(0xe0)](_0x529827(0xc9))[_0x529827(0xd3)]=_0x15c21a+'%',document[_0x529827(0xe0)](_0x529827(0x1a8))[_0x529827(0xd3)]=_0x164d86+_0x529827(0xfb)+_0x3bcfba+_0x529827(0x196);const _0x177506=document['getElementById'](_0x529827(0xed)),_0x1cc10f=0x2*Math['PI']*0x23,_0xbc674b=_0x1cc10f-_0x15c21a/0x64*_0x1cc10f;_0x177506[_0x529827(0xf4)][_0x529827(0x118)]=_0xbc674b;const _0x3a2091={};_0x574693[_0x529827(0xd2)](_0x3d5904=>{const _0x2f5395=_0x529827,_0x2102e4=_0x3d5904['coachId']||_0x2f5395(0xf1);if(!_0x3a2091[_0x2102e4]){const _0x22f3e3='#'+_0x2102e4[_0x2f5395(0x10d)]()['substr'](0x0,0x6);_0x3a2091[_0x2102e4]={'total':0x0,'done':0x0,'color':_0x22f3e3};}_0x3a2091[_0x2102e4][_0x2f5395(0x105)]++;if(_0x3d5904[_0x2f5395(0x16f)]===_0x2f5395(0x11f))_0x3a2091[_0x2102e4]['done']++;});const _0x4fdd43=document['getElementById'](_0x529827(0xd6));_0x4fdd43[_0x529827(0x159)]='';const _0x2cf945=Object[_0x529827(0x100)](_0x3a2091)['sort']((_0x2165b7,_0x2994d2)=>_0x2994d2[0x1][_0x529827(0x105)]-_0x2165b7[0x1][_0x529827(0x105)]);if(_0x2cf945[_0x529827(0xda)]===0x0){_0x4fdd43[_0x529827(0x159)]=_0x529827(0x18e);return;}_0x2cf945[_0x529827(0xd2)](([_0x1eec0f,_0x1f1873])=>{const _0x4dc1d6=_0x529827,_0x500d00=Math[_0x4dc1d6(0xdd)](_0x1f1873[_0x4dc1d6(0xf6)]/_0x1f1873[_0x4dc1d6(0x105)]*0x64),_0x35cc9c=document['createElement'](_0x4dc1d6(0x107));_0x35cc9c[_0x4dc1d6(0x194)]='client-stat-card',_0x35cc9c['style']['borderLeftColor']=_0x1f1873[_0x4dc1d6(0xc4)],_0x35cc9c[_0x4dc1d6(0x159)]=_0x4dc1d6(0xe3)+_0x1eec0f[_0x4dc1d6(0x15d)](0x0,0x5)+_0x4dc1d6(0x182)+_0x1f1873[_0x4dc1d6(0xf6)]+_0x4dc1d6(0x16b)+_0x1f1873[_0x4dc1d6(0x105)]+_0x4dc1d6(0x11d)+_0x500d00+_0x4dc1d6(0xbe),_0x4fdd43['appendChild'](_0x35cc9c);});}function openDetails(_0x15c489){const _0x589073=a3_0x5e863c;currentSession=_0x15c489;const _0x37d34b=new Date(_0x15c489['dateStr']),_0x575cbb=_0x37d34b[_0x589073(0x175)](_0x589073(0xaf),{'weekday':_0x589073(0xb7),'day':_0x589073(0x163),'month':_0x589073(0xb7)});document[_0x589073(0xe0)](_0x589073(0x19f))[_0x589073(0xd3)]=_0x575cbb[_0x589073(0x122)](0x0)['toUpperCase']()+_0x575cbb[_0x589073(0x184)](0x1),document[_0x589073(0xe0)](_0x589073(0xd0))[_0x589073(0xd3)]=_0x15c489['start']+'\x20-\x20'+_0x15c489[_0x589073(0x187)],document['getElementById']('detNote')[_0x589073(0xd3)]=_0x15c489[_0x589073(0x156)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x30265d=document[_0x589073(0xe0)](_0x589073(0x19d)),_0x2509fc=document[_0x589073(0xe0)](_0x589073(0x16d)),_0x4292b6=_0x2509fc['querySelector'](_0x589073(0xef)),_0x3b4c88=_0x2509fc[_0x589073(0x19b)]('.btn-reschedule'),_0x47af03=document[_0x589073(0xe0)]('cancelHint');if(_0x15c489[_0x589073(0x16f)]===_0x589073(0x11f))_0x30265d[_0x589073(0xd3)]=_0x589073(0x14e),_0x30265d[_0x589073(0xf4)][_0x589073(0xc4)]=_0x589073(0x120),_0x2509fc['style'][_0x589073(0x11c)]=_0x589073(0x1a3);else{_0x30265d['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x30265d[_0x589073(0xf4)]['color']='var(--acc-blue)',_0x2509fc['style'][_0x589073(0x11c)]=_0x589073(0x1a2);const _0x3c2016=new Date(_0x15c489[_0x589073(0x167)]+'T'+_0x15c489['start']),_0x355f65=new Date(),_0x586bc2=(_0x3c2016-_0x355f65)/(0x3e8*0x3c*0x3c),_0x5b34cb=coachProfiles[_0x15c489[_0x589073(0x19e)]]&&coachProfiles[_0x15c489[_0x589073(0x19e)]]['cancel_window']?parseInt(coachProfiles[_0x15c489[_0x589073(0x19e)]][_0x589073(0xfe)]):0x18;if(_0x5b34cb===0x0||_0x586bc2>=_0x5b34cb)_0x4292b6[_0x589073(0xf4)]['display']=_0x589073(0x1a2),_0x3b4c88[_0x589073(0xf4)][_0x589073(0x11c)]=_0x589073(0x1a2),_0x47af03[_0x589073(0xf4)][_0x589073(0x11c)]=_0x589073(0x1a3);else{_0x4292b6['style']['display']=_0x589073(0x1a3),_0x3b4c88[_0x589073(0xf4)][_0x589073(0x11c)]='none',_0x47af03['style'][_0x589073(0x11c)]=_0x589073(0x1a2);let _0x4a565c=_0x5b34cb===0x0?_0x589073(0x190):_0x589073(0x172)+_0x5b34cb+_0x589073(0x16e);_0x47af03['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x4a565c+_0x589073(0xc0);}}document[_0x589073(0xe0)](_0x589073(0x12f))[_0x589073(0x114)]['add']('active'),document[_0x589073(0xe0)](_0x589073(0xb6))['classList'][_0x589073(0x140)](_0x589073(0x131));}function closeAllSheets(){const _0x538e73=a3_0x5e863c;document['getElementById']('overlay')[_0x538e73(0x114)][_0x538e73(0x15b)]('active'),document[_0x538e73(0x12b)](_0x538e73(0x197))['forEach'](_0x44944a=>_0x44944a[_0x538e73(0x114)][_0x538e73(0x15b)]('open'));}function openSheet(_0x29bf80){const _0x20b7d6=a3_0x5e863c;document['getElementById'](_0x20b7d6(0x12f))[_0x20b7d6(0x114)]['add'](_0x20b7d6(0x121)),document[_0x20b7d6(0xe0)](_0x29bf80)[_0x20b7d6(0x114)]['add'](_0x20b7d6(0x131));}function getLocalDateStr(_0x5c7e64){const _0xc2d152=a3_0x5e863c,_0x58a561=_0x5c7e64[_0xc2d152(0x147)](),_0x277a00=String(_0x5c7e64[_0xc2d152(0xe8)]()+0x1)[_0xc2d152(0x1a6)](0x2,'0'),_0x52af7a=String(_0x5c7e64[_0xc2d152(0x160)]())[_0xc2d152(0x1a6)](0x2,'0');return _0x58a561+'-'+_0x277a00+'-'+_0x52af7a;}function getStartOfWeek(_0x49430){const _0x24c1c4=a3_0x5e863c,_0x5ea5c2=new Date(_0x49430),_0x1f903d=_0x5ea5c2[_0x24c1c4(0x13d)](),_0x331273=_0x5ea5c2['getDate']()-_0x1f903d+(_0x1f903d===0x0?-0x6:0x1);return _0x5ea5c2[_0x24c1c4(0x1a7)](_0x331273),_0x5ea5c2[_0x24c1c4(0xb5)](0x0,0x0,0x0,0x0),_0x5ea5c2;}function scrollToToday(){const _0x11e07f=getLocalDateStr(new Date());setTimeout(()=>{const _0x207585=a3_0x3b18,_0x20fc0d=document['querySelector'](_0x207585(0x193)+_0x11e07f+'\x22]');if(_0x20fc0d){const _0x4fca78=document[_0x207585(0xe0)](_0x207585(0x162)),_0x30d742=_0x20fc0d[_0x207585(0x14f)]-_0x4fca78[_0x207585(0x1a1)]/0x2+_0x20fc0d[_0x207585(0x178)]/0x2;_0x4fca78['scrollTo']({'left':_0x30d742,'behavior':_0x207585(0x12a)}),_0x4fca78[_0x207585(0xc3)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4f4efc=a3_0x5e863c,_0x1ead4d=new Date(),_0x4687ff=document[_0x4f4efc(0xe0)](_0x4f4efc(0x18d)),_0x177e20=document['getElementById'](_0x4f4efc(0x18f)),_0x31f31d=(_0x1ead4d[_0x4f4efc(0x12e)]()*0x3c+_0x1ead4d['getMinutes']())/0x3c*GRID_H;_0x4687ff[_0x4f4efc(0xf4)][_0x4f4efc(0x104)]=_0x31f31d+'px',_0x4687ff[_0x4f4efc(0xf4)]['display']=_0x4f4efc(0x1a2),_0x177e20[_0x4f4efc(0xf4)][_0x4f4efc(0x104)]=_0x31f31d+'px',_0x177e20[_0x4f4efc(0xf4)][_0x4f4efc(0x11c)]='block',_0x177e20[_0x4f4efc(0xd3)]=String(_0x1ead4d[_0x4f4efc(0x12e)]())[_0x4f4efc(0x1a6)](0x2,'0')+':'+String(_0x1ead4d[_0x4f4efc(0x126)]())[_0x4f4efc(0x1a6)](0x2,'0');}function onScroll(){const _0x4139f5=a3_0x5e863c,_0x39705a=document[_0x4139f5(0xe0)](_0x4139f5(0x162)),_0x2733a5=document[_0x4139f5(0x12b)](_0x4139f5(0xfa));for(let _0x278c6c of _0x2733a5)if(_0x278c6c[_0x4139f5(0x14f)]>=_0x39705a['scrollLeft']){const _0xfe12d0=new Date(_0x278c6c[_0x4139f5(0xf5)](_0x4139f5(0x139)));document['getElementById']('headerMonth')[_0x4139f5(0xd3)]=_0xfe12d0[_0x4139f5(0x177)]('ru',{'month':_0x4139f5(0xb7)})[_0x4139f5(0x185)]()+'\x20'+_0xfe12d0[_0x4139f5(0x147)]();break;}}function showToast(_0x57c189){const _0xb90336=a3_0x5e863c,_0x5af948=document[_0xb90336(0xe0)](_0xb90336(0xdf));_0x5af948[_0xb90336(0xd3)]=_0x57c189,_0x5af948['classList']['add']('show'),setTimeout(()=>_0x5af948[_0xb90336(0x114)][_0xb90336(0x15b)](_0xb90336(0x13e)),0x7d0);}function handleInfiniteScroll(){const _0x1a19fe=a3_0x5e863c,_0xd8bc63=document[_0x1a19fe(0xe0)](_0x1a19fe(0x162)),_0x169ff0=_0xd8bc63[_0x1a19fe(0xc1)],_0xbc75d2=_0xd8bc63['scrollWidth'],_0x571b96=_0xd8bc63['clientWidth'];if(_0xbc75d2-(_0x169ff0+_0x571b96)<0x12c){const _0x2c2b16=endOffset;endOffset+=0xe,renderDayRange(_0x2c2b16+0x1,endOffset),reRenderBlocks();}if(_0x169ff0<0x12c){const _0x343ee4=startOffset;startOffset-=0xe,prependDays(startOffset,_0x343ee4-0x1),_0xd8bc63['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x595b79,_0x26ac48){const _0x1b6f6c=a3_0x5e863c,_0x407bf9=document[_0x1b6f6c(0xe0)]('daysHeaderTrack'),_0x56f7fd=document[_0x1b6f6c(0xe0)]('gridColumns'),_0x18cdd1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2ec572=new Date();_0x2ec572['setHours'](0x0,0x0,0x0,0x0);const _0x447084=getLocalDateStr(new Date()),_0x554287=document['createDocumentFragment'](),_0x1afa8b=document['createDocumentFragment']();for(let _0xea152c=_0x595b79;_0xea152c<=_0x26ac48;_0xea152c++){const _0x202e8d=new Date(_0x2ec572);_0x202e8d['setDate'](_0x202e8d['getDate']()+_0xea152c);const _0x3dcfd1=getLocalDateStr(_0x202e8d);let _0x19153e=_0x202e8d[_0x1b6f6c(0x13d)]()-0x1;if(_0x19153e===-0x1)_0x19153e=0x6;const _0x7a67f=_0x3dcfd1===_0x447084,_0x51c54c=document['createElement'](_0x1b6f6c(0x107));_0x51c54c['className']=_0x1b6f6c(0xbc)+(_0x7a67f?_0x1b6f6c(0x11e):''),_0x51c54c['setAttribute']('data-date',_0x3dcfd1),_0x51c54c['innerHTML']=_0x1b6f6c(0x138)+_0x18cdd1[_0x19153e]+'</div><div\x20class=\x22dch-num\x22>'+_0x202e8d[_0x1b6f6c(0x160)]()+_0x1b6f6c(0x18b),_0x554287[_0x1b6f6c(0xdb)](_0x51c54c);const _0x1d4235=document['createElement'](_0x1b6f6c(0x107));_0x1d4235[_0x1b6f6c(0x194)]='day-column\x20'+(_0x7a67f?_0x1b6f6c(0x11e):''),_0x1d4235[_0x1b6f6c(0x192)](_0x1b6f6c(0x139),_0x3dcfd1),_0x1d4235[_0x1b6f6c(0x192)](_0x1b6f6c(0xbd),_0x19153e),_0x1afa8b[_0x1b6f6c(0xdb)](_0x1d4235);}_0x407bf9['insertBefore'](_0x554287,_0x407bf9[_0x1b6f6c(0x135)]),_0x56f7fd[_0x1b6f6c(0x129)](_0x1afa8b,_0x56f7fd['querySelector'](_0x1b6f6c(0xdc)));}function hexToRgba(_0x262b1a,_0x5a5490){const _0x18a6e3=a3_0x5e863c;let _0x48f13d;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x18a6e3(0x17d)](_0x262b1a))return _0x48f13d=_0x262b1a[_0x18a6e3(0xee)](0x1)[_0x18a6e3(0xc8)](''),_0x48f13d[_0x18a6e3(0xda)]==0x3&&(_0x48f13d=[_0x48f13d[0x0],_0x48f13d[0x0],_0x48f13d[0x1],_0x48f13d[0x1],_0x48f13d[0x2],_0x48f13d[0x2]]),_0x48f13d='0x'+_0x48f13d[_0x18a6e3(0xe4)](''),'rgba('+[_0x48f13d>>0x10&0xff,_0x48f13d>>0x8&0xff,_0x48f13d&0xff][_0x18a6e3(0xe4)](',')+','+_0x5a5490+')';return _0x18a6e3(0x143)+_0x5a5490+')';}let confirmResolver=null;function showCustomConfirm(_0x414382,_0x21017f,_0x54f5f2=!![]){const _0x5c019f=a3_0x5e863c;document[_0x5c019f(0xe0)](_0x5c019f(0x134))[_0x5c019f(0xd3)]=_0x414382,document[_0x5c019f(0xe0)](_0x5c019f(0x1a0))[_0x5c019f(0xd3)]=_0x21017f;const _0x4cc5c5=document[_0x5c019f(0xe0)](_0x5c019f(0x165));return _0x54f5f2?(_0x4cc5c5['style'][_0x5c019f(0xc4)]=_0x5c019f(0xca),_0x4cc5c5[_0x5c019f(0xf4)][_0x5c019f(0x17c)]=_0x5c019f(0x109)):(_0x4cc5c5[_0x5c019f(0xf4)][_0x5c019f(0xc4)]='#0a84ff',_0x4cc5c5[_0x5c019f(0xf4)][_0x5c019f(0x17c)]=_0x5c019f(0x109)),new Promise(_0x452cca=>{const _0x2b8aea=_0x5c019f;confirmResolver=_0x452cca,document[_0x2b8aea(0xe0)](_0x2b8aea(0x19a))[_0x2b8aea(0x114)][_0x2b8aea(0x140)]('visible');});}function a3_0x2b8f(){const _0x4a7483=['offClick','getDay','show','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','add','apply','T00:00:00','rgba(10,\x20132,\x20255,\x20','search','custom','map','getFullYear','DOMContentLoaded','WebApp','now','uc_client_list','pattern','exceptions','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','offsetLeft','router.html','rsDatesTrack','cancelled','anStart','day-column\x20','.period-switch\x20.p-btn','note','height','calendar','innerHTML','sort','remove','event-card','substr','sid','day-off-overlay\x20stripe-bg','getDate','data','matrixViewport','numeric','setItem','ccYesBtn','user','dateStr','POST','max','6474591Hlpiyy','</span>\x20/\x20','filter','cancelContainer','\x20—á.','status','blocked-range-part\x20stripe-bg','20NPtpVP','–∑–∞\x20','width','setMonth','toLocaleDateString',':00</span>','toLocaleString','offsetWidth','zIndex','anEnd','px\x200px','fontWeight','test','rescheduleSheet','disableVerticalSwipes','mini','552VEsNFP','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','isArray','slice','toUpperCase','loadLocal','end','flex','getTime','clients','</div>','findIndex','globalTimeLine','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','timeLineBadge','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','onclick','setAttribute','.day-col-header[data-date=\x22','className','uc_client_settings','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.sheet','rsSlotsGrid','</div><div\x20class=\x22rs-day-num\x22>','customConfirm','querySelector','gridColumns','detStatus','coachId','detDate','ccText','clientWidth','block','none','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','padStart','setDate','anTotalStats','ru-RU','syncLoad','BackButton','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cid','–û—Ç–º–µ–Ω–µ–Ω–æ','setHours','detailsSheet','long','128156lLlFvp','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<span>','Error\x20setting\x20back\x20button:','day-col-header\x20','data-day-idx','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coach_profiles','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','scrollLeft','floor','scrollTop','color','%\x20+\x202px)','start','week','split','anPercent','#ff453a','clientId','px\x20-','T23:59:59','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','43841tznDVh','detTime','978RHnccD','forEach','textContent','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','analyticsList','Telegram','9704696bhXszw','location','length','appendChild','.day-column','round','then','toast','getElementById','#0a84ff','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','join','v9.5-CLIENT-ANALYTICS','(((.+)+)+)+$','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getMonth','colIndex','createElement','href','parse','anDonutCircle','substring','.btn-cancel','reschedule','Unknown','daysHeaderTrack','startsWith','style','getAttribute','done','getItem','backgroundPosition','client_cancel','.day-col-header','\x20–∏–∑\x20','left','value','cancel_window','</div><div\x20class=\x22dch-num\x22>','entries','saveLocally','ranges','time-label','top','total','initDataUnsafe','div','onClick','600','client_load','Error\x20setting\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','toString','min','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','\x20–≤\x20','uc_client_sessions','constructor','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','classList','<div\x20class=\x22rs-day-name\x22>','anCustomDates','calc(','strokeDashoffset','timeColumn','.rs-date-chip','all','display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','today','completed','var(--acc-green)','active','charAt','month','json','button','getMinutes','#050505','623685RCyaSP','insertBefore','auto','querySelectorAll','initData','visible','getHours','overlay','scroll','open','Critical\x20TMA\x20Error:','stringify','ccTitle','firstChild','borderLeftColor','2442218EndHhG','<div\x20class=\x22dch-day\x22>','data-date','setBackgroundColor','12345ZnWVtK'];a3_0x2b8f=function(){return _0x4a7483;};return a3_0x2b8f();}function resolveCustomConfirm(_0x57c468){const _0x4c6e3c=a3_0x5e863c;document['getElementById'](_0x4c6e3c(0x19a))[_0x4c6e3c(0x114)][_0x4c6e3c(0x15b)](_0x4c6e3c(0x12d));if(confirmResolver)confirmResolver(_0x57c468);}async function tryCancelCurrentSession(){const _0x170cfe=a3_0x5e863c;if(!currentSession)return;const _0x11ecbe=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x170cfe(0x113),!![]);if(!_0x11ecbe)return;const _0x56bd71=currentSession;closeAllSheets(),sessions=sessions[_0x170cfe(0x16c)](_0x1844c1=>_0x1844c1['id']!==_0x56bd71['id']),reRenderBlocks(),showToast(_0x170cfe(0xb4)),lastUserActionTime=Date[_0x170cfe(0x14a)]();try{const _0x2b0bb9=window[_0x170cfe(0xd7)]?.['WebApp'],_0x23b6f3=await fetch(API_URL,{'method':_0x170cfe(0x168),'body':JSON['stringify']({'action':_0x170cfe(0xf9),'init_data':_0x2b0bb9?.[_0x170cfe(0x12c)]||'','coachId':_0x56bd71[_0x170cfe(0x19e)],'dateStr':_0x56bd71['dateStr'],'sessionId':_0x56bd71['id']})});if(_0x23b6f3['ok'])DataManager[_0x170cfe(0x101)]();}catch(_0x57df45){showToast(_0x170cfe(0xb2));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2f220e=a3_0x5e863c;if(!currentSession)return;document[_0x2f220e(0xe0)]('detailsSheet')[_0x2f220e(0x114)][_0x2f220e(0x15b)](_0x2f220e(0x131)),document[_0x2f220e(0xe0)](_0x2f220e(0x17e))[_0x2f220e(0x114)]['add']('open');const _0x4d52c0=document[_0x2f220e(0xe0)](_0x2f220e(0x151)),_0x11e7ee=document[_0x2f220e(0xe0)](_0x2f220e(0x198));_0x4d52c0['innerHTML']='',_0x11e7ee[_0x2f220e(0x159)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x2256de,_0x129242]=currentSession[_0x2f220e(0xc6)]['split'](':')[_0x2f220e(0x146)](Number),[_0x4a49d4,_0x42ecd7]=currentSession['end'][_0x2f220e(0xc8)](':')[_0x2f220e(0x146)](Number),_0x1fcea1=_0x4a49d4*0x3c+_0x42ecd7-(_0x2256de*0x3c+_0x129242);try{const _0x3ed933=window[_0x2f220e(0xd7)]?.[_0x2f220e(0x149)],_0x2e0d3b=await fetch(API_URL,{'method':_0x2f220e(0x168),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x2f220e(0x19e)],'duration':_0x1fcea1,'init_data':_0x3ed933?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x14db0d=await _0x2e0d3b[_0x2f220e(0x124)]();_0x14db0d['ok']&&_0x14db0d[_0x2f220e(0x161)]?(availableSlotsCache=_0x14db0d[_0x2f220e(0x161)],renderRescheduleDates()):_0x11e7ee[_0x2f220e(0x159)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x347e19){_0x11e7ee[_0x2f220e(0x159)]=_0x2f220e(0xd4);}}function renderRescheduleDates(){const _0x304ae1=a3_0x5e863c,_0xcd3330=document[_0x304ae1(0xe0)](_0x304ae1(0x151));_0xcd3330[_0x304ae1(0x159)]='';const _0x6456fd=Object['keys'](availableSlotsCache)[_0x304ae1(0x15a)](),_0x4a9395=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x6456fd[_0x304ae1(0xda)]===0x0){document[_0x304ae1(0xe0)](_0x304ae1(0x198))[_0x304ae1(0x159)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x6456fd[_0x304ae1(0xd2)]((_0x100fb2,_0x3553a7)=>{const _0x56c420=_0x304ae1,_0xbb7ec0=new Date(_0x100fb2),_0x190907=_0x4a9395[_0xbb7ec0[_0x56c420(0x13d)]()],_0x176a82=_0xbb7ec0[_0x56c420(0x160)](),_0xe3dc30=document['createElement'](_0x56c420(0x107));_0xe3dc30[_0x56c420(0x194)]='rs-date-chip';if(_0x3553a7===0x0)_0xe3dc30[_0x56c420(0x114)]['add'](_0x56c420(0x121));_0xe3dc30[_0x56c420(0x159)]=_0x56c420(0x115)+_0x190907+_0x56c420(0x199)+_0x176a82+_0x56c420(0x18b),_0xe3dc30[_0x56c420(0x191)]=()=>selectRsDate(_0x100fb2,_0xe3dc30),_0xcd3330[_0x56c420(0xdb)](_0xe3dc30);}),selectRsDate(_0x6456fd[0x0],_0xcd3330['firstChild']);}function selectRsDate(_0x42bf8e,_0x351332){const _0x162d33=a3_0x5e863c;selectedRsDate=_0x42bf8e,document[_0x162d33(0x12b)](_0x162d33(0x11a))[_0x162d33(0xd2)](_0x2eecfe=>_0x2eecfe[_0x162d33(0x114)]['remove'](_0x162d33(0x121)));if(_0x351332)_0x351332[_0x162d33(0x114)][_0x162d33(0x140)](_0x162d33(0x121));const _0x59da8f=document[_0x162d33(0xe0)]('rsSlotsGrid');_0x59da8f[_0x162d33(0x159)]='';const _0xccb6b3=availableSlotsCache[_0x42bf8e]||[];if(_0xccb6b3[_0x162d33(0xda)]===0x0){_0x59da8f[_0x162d33(0x159)]=_0x162d33(0x10f);return;}_0xccb6b3[_0x162d33(0xd2)](_0x1482a7=>{const _0x3bd422=_0x162d33,_0x5e3339=document['createElement'](_0x3bd422(0x125));_0x5e3339[_0x3bd422(0x194)]='rs-time-btn',_0x5e3339[_0x3bd422(0xd3)]=_0x1482a7,_0x5e3339['onclick']=()=>confirmReschedule(_0x1482a7),_0x59da8f['appendChild'](_0x5e3339);});}async function confirmReschedule(_0x1039e9){const _0x71774b=a3_0x5e863c,_0x35f207=new Date(selectedRsDate),_0x18fd5a=_0x35f207[_0x71774b(0x175)]('ru-RU',{'day':_0x71774b(0x163),'month':_0x71774b(0xb7)}),_0x2bcdef=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x71774b(0xb9)+_0x18fd5a+_0x71774b(0x110)+_0x1039e9+'?',![]);if(!_0x2bcdef)return;closeAllSheets(),showToast(_0x71774b(0xce)),lastUserActionTime=Date[_0x71774b(0x14a)]();const _0x49e4ff=currentSession['dateStr'],_0x195610=currentSession['id'],[_0x309038,_0x3d5f5b]=currentSession['start']['split'](':')[_0x71774b(0x146)](Number),[_0x5ef461,_0x143cb7]=currentSession[_0x71774b(0x187)]['split'](':')[_0x71774b(0x146)](Number),_0x1a7d3b=_0x5ef461*0x3c+_0x143cb7-(_0x309038*0x3c+_0x3d5f5b),[_0x43a131,_0x21f81b]=_0x1039e9[_0x71774b(0xc8)](':')[_0x71774b(0x146)](Number),_0x21b2cf=_0x43a131*0x3c+_0x21f81b+_0x1a7d3b,_0x51746e=Math[_0x71774b(0xc2)](_0x21b2cf/0x3c),_0x152e69=_0x21b2cf%0x3c,_0x51061b=String(_0x51746e)[_0x71774b(0x1a6)](0x2,'0')+':'+String(_0x152e69)['padStart'](0x2,'0'),_0x52fe00=sessions[_0x71774b(0x18c)](_0x4fd5b4=>_0x4fd5b4['id']===_0x195610);_0x52fe00!==-0x1&&(sessions[_0x52fe00]['dateStr']=selectedRsDate,sessions[_0x52fe00][_0x71774b(0xc6)]=_0x1039e9,sessions[_0x52fe00][_0x71774b(0x187)]=_0x51061b,reRenderBlocks());try{const _0x4740a7=window['Telegram']?.[_0x71774b(0x149)],_0x413c09=await fetch(API_URL,{'method':'POST','body':JSON[_0x71774b(0x133)]({'action':_0x71774b(0xf0),'init_data':_0x4740a7?.[_0x71774b(0x12c)]||'','oldSessionId':_0x195610,'oldDate':_0x49e4ff,'newDate':selectedRsDate,'newTime':_0x1039e9,'coachId':currentSession['coachId']})}),_0x5f512f=await _0x413c09[_0x71774b(0x124)]();!_0x5f512f['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x71774b(0xb0)]()):(showToast(_0x71774b(0xd5)),DataManager[_0x71774b(0x101)]());}catch(_0x5698f4){showToast(_0x71774b(0xb2));}}document['addEventListener'](a3_0x5e863c(0x148),init);