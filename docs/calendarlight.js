const a3_0x332def=a3_0x3a18;(function(_0x1bf41c,_0x3ef2b3){const _0x27dc8d=a3_0x3a18,_0x2a38e6=_0x1bf41c();while(!![]){try{const _0x986117=parseInt(_0x27dc8d(0x1d3))/0x1*(parseInt(_0x27dc8d(0x14b))/0x2)+parseInt(_0x27dc8d(0x199))/0x3*(-parseInt(_0x27dc8d(0x20a))/0x4)+-parseInt(_0x27dc8d(0x1f6))/0x5+-parseInt(_0x27dc8d(0x1c2))/0x6*(-parseInt(_0x27dc8d(0x14e))/0x7)+-parseInt(_0x27dc8d(0x1e1))/0x8+parseInt(_0x27dc8d(0x219))/0x9+parseInt(_0x27dc8d(0x1d1))/0xa*(parseInt(_0x27dc8d(0x196))/0xb);if(_0x986117===_0x3ef2b3)break;else _0x2a38e6['push'](_0x2a38e6['shift']());}catch(_0x836a97){_0x2a38e6['push'](_0x2a38e6['shift']());}}}(a3_0x3491,0xb5d5b));const APP_VERSION=a3_0x332def(0x157),API_URL=a3_0x332def(0x14c),GRID_H=0x3c,KEY_SESSIONS=a3_0x332def(0x1b9),KEY_SETTINGS=a3_0x332def(0x1b6),KEY_CLIENTS=a3_0x332def(0x186);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x332def(0x1bc),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x103104=a3_0x332def,_0x4336b5=(function(){let _0x2c9262=!![];return function(_0x5aa300,_0x3871ef){const _0x79f9ce=_0x2c9262?function(){const _0x5112d1=a3_0x3a18;if(_0x3871ef){const _0x3aab12=_0x3871ef[_0x5112d1(0x1a3)](_0x5aa300,arguments);return _0x3871ef=null,_0x3aab12;}}:function(){};return _0x2c9262=![],_0x79f9ce;};}()),_0x12e598=_0x4336b5(this,function(){const _0xe43558=a3_0x3a18;return _0x12e598[_0xe43558(0x152)]()[_0xe43558(0x13e)]('(((.+)+)+)+$')[_0xe43558(0x152)]()['constructor'](_0x12e598)[_0xe43558(0x13e)](_0xe43558(0x1ec));});_0x12e598();try{const _0xe0171e=window[_0x103104(0x1b5)]?.[_0x103104(0x14d)];if(!_0xe0171e)return;_0xe0171e[_0x103104(0x169)](),_0xe0171e[_0x103104(0x201)]();try{_0xe0171e[_0x103104(0x212)](_0x103104(0x1a5)),_0xe0171e['setBackgroundColor']&&_0xe0171e[_0x103104(0x1bd)]('#050505');}catch(_0x4762de){console[_0x103104(0x135)](_0x103104(0x15a),_0x4762de);}try{_0xe0171e[_0x103104(0x220)]&&(_0xe0171e[_0x103104(0x220)][_0x103104(0x149)](),_0xe0171e[_0x103104(0x220)][_0x103104(0x1eb)](),_0xe0171e[_0x103104(0x220)][_0x103104(0x1a7)](function(){const _0x4ebe45=_0x103104;window[_0x4ebe45(0x1be)][_0x4ebe45(0x136)]=_0x4ebe45(0x1e4);}));}catch(_0x1eb105){console[_0x103104(0x135)](_0x103104(0x1ae),_0x1eb105);}try{if(_0xe0171e[_0x103104(0x167)])_0xe0171e[_0x103104(0x167)]();}catch(_0x506725){}}catch(_0x27ff1b){console[_0x103104(0x1a1)](_0x103104(0x13c),_0x27ff1b);}}());function isAdmin(){const _0x4b7ce8=a3_0x332def;try{const _0x394e78=Number(window[_0x4b7ce8(0x1b5)]?.[_0x4b7ce8(0x14d)]?.[_0x4b7ce8(0x1aa)]?.['user']?.['id']);return _0x394e78===0xbaf7174;}catch(_0x19c0aa){return![];}}const DataManager={'saveLocally'(){const _0x3f3086=a3_0x332def;try{localStorage[_0x3f3086(0x14f)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3f3086(0x14f)](KEY_CLIENTS,JSON[_0x3f3086(0x13d)](clients)),localStorage[_0x3f3086(0x14f)](KEY_SETTINGS,JSON[_0x3f3086(0x13d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x513bb9){}},'loadLocal'(){const _0x3b28f8=a3_0x332def;try{const _0x5e749b=localStorage['getItem'](KEY_SESSIONS);if(_0x5e749b)sessions=JSON[_0x3b28f8(0x1d7)](_0x5e749b);const _0x49c908=localStorage[_0x3b28f8(0x1ac)](KEY_CLIENTS);if(_0x49c908)clients=JSON['parse'](_0x49c908);const _0x288470=localStorage[_0x3b28f8(0x1ac)](KEY_SETTINGS);if(_0x288470){const _0x3eeee6=JSON[_0x3b28f8(0x1d7)](_0x288470);if(_0x3eeee6['pattern'])availabilityPattern=_0x3eeee6[_0x3b28f8(0x1f0)];if(_0x3eeee6['ranges'])specialRanges=_0x3eeee6[_0x3b28f8(0x1d2)];if(_0x3eeee6[_0x3b28f8(0x177)])dateExceptions=_0x3eeee6[_0x3b28f8(0x177)];}}catch(_0x420d93){}},async 'syncLoad'(){const _0x48a73e=a3_0x332def,_0x46bcdc=new Date(),_0x17f70b=_0x46bcdc[_0x48a73e(0x17d)]()+'-'+String(_0x46bcdc[_0x48a73e(0x18c)]()+0x1)[_0x48a73e(0x160)](0x2,'0'),_0x243eae=new Date(_0x46bcdc);_0x243eae[_0x48a73e(0x20f)](_0x46bcdc['getMonth']()+0x1);const _0x176e3d=_0x243eae[_0x48a73e(0x17d)]()+'-'+String(_0x243eae[_0x48a73e(0x18c)]()+0x1)[_0x48a73e(0x160)](0x2,'0'),_0x287eda=Date[_0x48a73e(0x1a0)]();try{const _0xd8c7e6=window['Telegram']?.[_0x48a73e(0x14d)],_0x50a6a1=_0xd8c7e6?.[_0x48a73e(0x192)]||'',[_0x3cb299,_0x23f613]=await Promise[_0x48a73e(0x1f7)]([fetch(API_URL,{'method':_0x48a73e(0x139),'body':JSON[_0x48a73e(0x13d)]({'action':_0x48a73e(0x142),'init_data':_0x50a6a1,'month_str':_0x17f70b})})['then'](_0x50f4f6=>_0x50f4f6[_0x48a73e(0x161)]()),fetch(API_URL,{'method':_0x48a73e(0x139),'body':JSON[_0x48a73e(0x13d)]({'action':_0x48a73e(0x142),'init_data':_0x50a6a1,'month_str':_0x176e3d})})[_0x48a73e(0x175)](_0x14fba8=>_0x14fba8[_0x48a73e(0x161)]())]);if(lastUserActionTime>_0x287eda){console[_0x48a73e(0x135)](_0x48a73e(0x1b3));return;}if(_0x3cb299['ok'])this[_0x48a73e(0x227)](_0x3cb299[_0x48a73e(0x179)],_0x17f70b);if(_0x23f613['ok'])this[_0x48a73e(0x227)](_0x23f613[_0x48a73e(0x179)],_0x176e3d);this[_0x48a73e(0x1df)]();}catch(_0x193f64){}},'applyData'(_0x4408d3,_0x2d7d78){const _0x246c89=a3_0x332def;if(!_0x4408d3)return;if(_0x4408d3[_0x246c89(0x15d)]){if(_0x4408d3[_0x246c89(0x15d)][_0x246c89(0x1f0)])availabilityPattern=_0x4408d3['settings'][_0x246c89(0x1f0)];if(_0x4408d3['settings']['ranges'])specialRanges=_0x4408d3[_0x246c89(0x15d)]['ranges'];if(_0x4408d3[_0x246c89(0x15d)]['exceptions'])dateExceptions=_0x4408d3[_0x246c89(0x15d)][_0x246c89(0x177)];}if(_0x4408d3[_0x246c89(0x1e9)]&&Array['isArray'](_0x4408d3[_0x246c89(0x1e9)]))clients=_0x4408d3['clients'];_0x4408d3['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x4408d3[_0x246c89(0x20c)]}),_0x4408d3[_0x246c89(0x134)]&&(sessions=sessions[_0x246c89(0x154)](_0x2510d4=>!_0x2510d4[_0x246c89(0x1d6)][_0x246c89(0x1e5)](_0x2d7d78)),Object['keys'](_0x4408d3[_0x246c89(0x134)])[_0x246c89(0x16c)](_0x16e4f8=>{const _0x2be6b5=_0x246c89,_0xec25ce=_0x4408d3[_0x2be6b5(0x134)][_0x16e4f8];_0xec25ce[_0x2be6b5(0x16c)](_0x260fb6=>{const _0x255cd2=_0x2be6b5;sessions['push']({'id':_0x260fb6['i'],'clientId':_0x260fb6['c'],'coachId':_0x260fb6[_0x255cd2(0x182)],'dateStr':_0x2d7d78+'-'+_0x16e4f8[_0x255cd2(0x160)](0x2,'0'),'start':_0x260fb6['s'],'end':_0x260fb6['e'],'note':_0x260fb6['n']||'','status':_0x260fb6['st']||_0x255cd2(0x189),'seriesId':_0x260fb6['sid']});});})),reRenderBlocks();}};function init(){const _0x2a2478=a3_0x332def;DataManager[_0x2a2478(0x164)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2a2478(0x14a)]('matrixViewport')['addEventListener'](_0x2a2478(0x207),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2a2478(0x19f)]();}function renderTimeColumn(){const _0x516a57=a3_0x332def,_0x5ad0e5=document[_0x516a57(0x14a)](_0x516a57(0x166)),_0x2033a3=document[_0x516a57(0x14a)](_0x516a57(0x1fa));_0x5ad0e5[_0x516a57(0x1e6)]='',_0x5ad0e5[_0x516a57(0x176)](_0x2033a3);for(let _0x28bcfc=0x0;_0x28bcfc<0x18;_0x28bcfc++){const _0x457117=document[_0x516a57(0x225)](_0x516a57(0x1e7));_0x457117['className']='time-label';if(_0x28bcfc>0x0)_0x457117[_0x516a57(0x1e6)]=_0x516a57(0x16a)+String(_0x28bcfc)[_0x516a57(0x160)](0x2,'0')+_0x516a57(0x1b4);_0x5ad0e5['appendChild'](_0x457117);}}function renderDayRange(_0x432cd4,_0x1dda95){const _0x5768ef=a3_0x332def,_0x4e619e=document[_0x5768ef(0x14a)](_0x5768ef(0x145)),_0x2fb7af=document['getElementById']('gridColumns'),_0x420c19=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bcc18=new Date();_0x1bcc18[_0x5768ef(0x1fe)](0x0,0x0,0x0,0x0);const _0x171ae2=getLocalDateStr(new Date());for(let _0x2b49de=_0x432cd4;_0x2b49de<=_0x1dda95;_0x2b49de++){const _0x70cc4c=new Date(_0x1bcc18);_0x70cc4c['setDate'](_0x70cc4c['getDate']()+_0x2b49de);const _0x27e734=getLocalDateStr(_0x70cc4c);let _0x52111e=_0x70cc4c[_0x5768ef(0x229)]()-0x1;if(_0x52111e===-0x1)_0x52111e=0x6;const _0x5a58e3=_0x27e734===_0x171ae2,_0x1c6e35=document['createElement'](_0x5768ef(0x1e7));_0x1c6e35['className']='day-col-header\x20'+(_0x5a58e3?'today':''),_0x1c6e35[_0x5768ef(0x213)]('data-date',_0x27e734),_0x1c6e35[_0x5768ef(0x1e6)]=_0x5768ef(0x1cc)+_0x420c19[_0x52111e]+'</div><div\x20class=\x22dch-num\x22>'+_0x70cc4c['getDate']()+_0x5768ef(0x218),_0x4e619e[_0x5768ef(0x176)](_0x1c6e35);const _0x5629af=document[_0x5768ef(0x225)]('div');_0x5629af[_0x5768ef(0x1b7)]=_0x5768ef(0x1f9)+(_0x5a58e3?_0x5768ef(0x171):''),_0x5629af[_0x5768ef(0x213)](_0x5768ef(0x156),_0x27e734),_0x5629af[_0x5768ef(0x213)]('data-day-idx',_0x52111e),_0x2fb7af['appendChild'](_0x5629af);}}function reRenderBlocks(){const _0x910ccf=a3_0x332def;document[_0x910ccf(0x15e)](_0x910ccf(0x172))[_0x910ccf(0x16c)](_0x3f2a48=>{const _0x2224b1=_0x910ccf;_0x3f2a48[_0x2224b1(0x15e)](_0x2224b1(0x200))[_0x2224b1(0x16c)](_0x593df3=>_0x593df3[_0x2224b1(0x180)]());const _0x31ab74=_0x3f2a48[_0x2224b1(0x16b)](_0x2224b1(0x156)),_0x521f58=parseInt(_0x3f2a48[_0x2224b1(0x16b)](_0x2224b1(0x224))),_0x3f162f=Math['round'](_0x3f2a48['offsetLeft']);(availabilityPattern[_0x521f58]||[])[_0x2224b1(0x16c)](_0x226e40=>{const _0x3fcef5=_0x2224b1,_0x3a6b0a=document[_0x3fcef5(0x225)]('div');_0x3a6b0a[_0x3fcef5(0x1b7)]=_0x3fcef5(0x1db),_0x3a6b0a['style'][_0x3fcef5(0x13f)]=_0x226e40*GRID_H+'px',_0x3a6b0a['style'][_0x3fcef5(0x132)]='-'+_0x3f162f+_0x3fcef5(0x1b2)+_0x226e40*GRID_H+'px',_0x3f2a48[_0x3fcef5(0x176)](_0x3a6b0a);});if(specialRanges[_0x2224b1(0x173)]>0x0){const _0x29c481=new Date(_0x31ab74+'T00:00:00')[_0x2224b1(0x21a)](),_0x20ff06=new Date(_0x31ab74+_0x2224b1(0x194))[_0x2224b1(0x21a)]();specialRanges[_0x2224b1(0x16c)](_0x319e4e=>{const _0x4ed796=_0x2224b1,_0x54344e=new Date(_0x319e4e['start'])['getTime'](),_0x36d1e7=new Date(_0x319e4e[_0x4ed796(0x146)])[_0x4ed796(0x21a)](),_0x242aca=Math[_0x4ed796(0x1ee)](_0x29c481,_0x54344e),_0x4254da=Math[_0x4ed796(0x1c4)](_0x20ff06,_0x36d1e7);if(_0x242aca<_0x4254da){const _0xc79535=(_0x242aca-_0x29c481)/0x36ee80*GRID_H,_0x569a35=(_0x4254da-_0x242aca)/0x36ee80*GRID_H,_0xfe885d=document[_0x4ed796(0x225)](_0x4ed796(0x1e7));_0x569a35>=23.5*GRID_H?(_0xfe885d['className']=_0x4ed796(0x216),_0xfe885d['style'][_0x4ed796(0x132)]='-'+_0x3f162f+'px\x200px'):(_0xfe885d['className']='blocked-range-part\x20stripe-bg',_0xfe885d[_0x4ed796(0x204)][_0x4ed796(0x13f)]=_0xc79535+'px',_0xfe885d[_0x4ed796(0x204)][_0x4ed796(0x174)]=_0x569a35+'px',_0xfe885d[_0x4ed796(0x204)][_0x4ed796(0x132)]='-'+_0x3f162f+_0x4ed796(0x1b2)+_0xc79535+'px'),_0x3f2a48['appendChild'](_0xfe885d);}});}renderEventsForColumn(_0x3f2a48,_0x31ab74);});}function renderEventsForColumn(_0x3fb83f,_0x17ad51){const _0x258e97=a3_0x332def,_0x89f509=sessions['filter'](_0x2958d3=>_0x2958d3[_0x258e97(0x1d6)]===_0x17ad51),_0x5c8fae=_0x89f509[_0x258e97(0x205)](_0x64c941=>{const _0x1156b7=_0x258e97,[_0x281764,_0x4388e4]=_0x64c941[_0x1156b7(0x131)][_0x1156b7(0x1c5)](':')['map'](Number),[_0x3dfd85,_0x2673c0]=_0x64c941[_0x1156b7(0x146)]['split'](':')[_0x1156b7(0x205)](Number);return{'data':_0x64c941,'start':_0x281764*0x3c+_0x4388e4,'end':_0x3dfd85*0x3c+_0x2673c0,'colIndex':0x0};});_0x5c8fae[_0x258e97(0x138)]((_0x299bc8,_0x2e2ec8)=>_0x299bc8[_0x258e97(0x131)]-_0x2e2ec8[_0x258e97(0x131)]||_0x2e2ec8[_0x258e97(0x146)]-_0x2e2ec8['start']-(_0x299bc8[_0x258e97(0x146)]-_0x299bc8[_0x258e97(0x131)]));const _0x54dc31=[];_0x5c8fae[_0x258e97(0x16c)](_0x1b6196=>{const _0x55b43f=_0x258e97;let _0x18b836=![];for(let _0xee5a69=0x0;_0xee5a69<_0x54dc31[_0x55b43f(0x173)];_0xee5a69++){const _0x2944d5=_0x54dc31[_0xee5a69];if(_0x1b6196[_0x55b43f(0x131)]>=_0x2944d5[_0x2944d5['length']-0x1][_0x55b43f(0x146)]){_0x2944d5[_0x55b43f(0x183)](_0x1b6196),_0x1b6196[_0x55b43f(0x1c9)]=_0xee5a69,_0x18b836=!![];break;}}!_0x18b836&&(_0x54dc31[_0x55b43f(0x183)]([_0x1b6196]),_0x1b6196[_0x55b43f(0x1c9)]=_0x54dc31['length']-0x1);}),_0x5c8fae[_0x258e97(0x16c)](_0x5b6ce9=>{const _0x1a49c3=_0x258e97;let _0x113799=0x0;_0x5c8fae[_0x1a49c3(0x16c)](_0x4d701e=>{const _0x5a0197=_0x1a49c3;if(Math[_0x5a0197(0x1ee)](_0x5b6ce9[_0x5a0197(0x131)],_0x4d701e[_0x5a0197(0x131)])<Math[_0x5a0197(0x1c4)](_0x5b6ce9[_0x5a0197(0x146)],_0x4d701e[_0x5a0197(0x146)])&&_0x4d701e[_0x5a0197(0x1c9)]>_0x113799)_0x113799=_0x4d701e[_0x5a0197(0x1c9)];});const _0x396157=_0x113799+0x1,_0x58a784=0x64/_0x396157,_0x59c8bb=_0x5b6ce9[_0x1a49c3(0x1c9)]*_0x58a784,_0x193c0e=document[_0x1a49c3(0x225)](_0x1a49c3(0x1e7)),_0x395bb3=_0x5b6ce9[_0x1a49c3(0x179)];let _0x34d71c='#0a84ff';if(clients&&clients['length']>0x0){const _0xb1f170=clients['find'](_0x2a1713=>String(_0x2a1713['id'])===String(_0x395bb3[_0x1a49c3(0x1d0)]));if(_0xb1f170&&_0xb1f170[_0x1a49c3(0x20e)])_0x34d71c=_0xb1f170['color'];}const _0x1832d3=_0x395bb3[_0x1a49c3(0x17c)]==='completed',_0x2ee75c=_0x1832d3?0x1:0.45;_0x193c0e[_0x1a49c3(0x1b7)]=_0x1a49c3(0x17f)+(_0x1832d3?_0x1a49c3(0x1ed):''),_0x193c0e[_0x1a49c3(0x204)][_0x1a49c3(0x1d9)]=hexToRgba(_0x34d71c,_0x2ee75c),_0x193c0e[_0x1a49c3(0x204)]['borderLeftColor']=_0x34d71c;const _0x2844cb=_0x5b6ce9['start']/0x3c*GRID_H,_0x50b6ad=(_0x5b6ce9[_0x1a49c3(0x146)]-_0x5b6ce9[_0x1a49c3(0x131)])/0x3c*GRID_H;_0x193c0e[_0x1a49c3(0x204)][_0x1a49c3(0x13f)]=_0x2844cb+'px',_0x193c0e[_0x1a49c3(0x204)][_0x1a49c3(0x174)]=Math['max'](_0x50b6ad,0x14)+'px',_0x193c0e['style'][_0x1a49c3(0x21d)]=_0x1a49c3(0x1fc)+_0x58a784+_0x1a49c3(0x1ea),_0x193c0e[_0x1a49c3(0x204)]['left']=_0x1a49c3(0x1fc)+_0x59c8bb+'%\x20+\x202px)',_0x193c0e[_0x1a49c3(0x204)][_0x1a49c3(0x1ff)]=0xa+_0x5b6ce9[_0x1a49c3(0x1c9)];if(_0x58a784<0x55)_0x193c0e['classList'][_0x1a49c3(0x13b)](_0x1a49c3(0x12e));let _0x362b2c='';if(_0x395bb3['seriesId'])_0x362b2c+=_0x1a49c3(0x195);if(_0x1832d3)_0x362b2c+=_0x1a49c3(0x1ba);_0x193c0e[_0x1a49c3(0x1e6)]=_0x1a49c3(0x1d4)+_0x395bb3[_0x1a49c3(0x131)]+_0x1a49c3(0x217)+_0x395bb3[_0x1a49c3(0x146)]+_0x1a49c3(0x1c3)+_0x362b2c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x193c0e['onclick']=_0x11cce3=>{const _0x4415b7=_0x1a49c3;_0x11cce3[_0x4415b7(0x137)](),openDetails(_0x395bb3);},_0x3fb83f[_0x1a49c3(0x176)](_0x193c0e);});}function openAnalytics(){const _0x58706c=a3_0x332def,_0x36a6c3=document[_0x58706c(0x221)](_0x58706c(0x1a8));setAnalyticsPeriod('week',_0x36a6c3),openSheet(_0x58706c(0x190));}function setAnalyticsPeriod(_0x1ed0d6,_0x5b62f6){const _0x252dcd=a3_0x332def;currentAnPeriod=_0x1ed0d6,document[_0x252dcd(0x15e)]('.period-switch\x20.p-btn')['forEach'](_0x1c997b=>_0x1c997b[_0x252dcd(0x181)][_0x252dcd(0x180)](_0x252dcd(0x1b0)));if(_0x5b62f6)_0x5b62f6[_0x252dcd(0x181)]['add']('active');const _0x210c9b=document['getElementById'](_0x252dcd(0x1de));_0x210c9b[_0x252dcd(0x204)][_0x252dcd(0x1ce)]=_0x1ed0d6===_0x252dcd(0x206)?_0x252dcd(0x18d):'none';const _0x1f0e93=new Date();let _0x5a5fb8=new Date(),_0x2dcd00=new Date();if(_0x1ed0d6===_0x252dcd(0x1bc))_0x5a5fb8=getStartOfWeek(_0x1f0e93),_0x2dcd00=new Date(_0x5a5fb8),_0x2dcd00[_0x252dcd(0x1a9)](_0x2dcd00[_0x252dcd(0x165)]()+0x6);else{if(_0x1ed0d6===_0x252dcd(0x159))_0x5a5fb8=new Date(_0x1f0e93[_0x252dcd(0x17d)](),_0x1f0e93[_0x252dcd(0x18c)](),0x1),_0x2dcd00=new Date(_0x1f0e93['getFullYear'](),_0x1f0e93[_0x252dcd(0x18c)]()+0x1,0x0);else{!document[_0x252dcd(0x14a)]('anStart')[_0x252dcd(0x151)]&&(document[_0x252dcd(0x14a)](_0x252dcd(0x19d))[_0x252dcd(0x151)]=getLocalDateStr(_0x1f0e93),document[_0x252dcd(0x14a)](_0x252dcd(0x211))[_0x252dcd(0x151)]=getLocalDateStr(_0x1f0e93));refreshAnalytics();return;}}document[_0x252dcd(0x14a)](_0x252dcd(0x19d))['value']=getLocalDateStr(_0x5a5fb8),document[_0x252dcd(0x14a)](_0x252dcd(0x211))[_0x252dcd(0x151)]=getLocalDateStr(_0x2dcd00),refreshAnalytics();}function refreshAnalytics(){const _0x19d1c7=a3_0x332def,_0x52eaf7=document['getElementById'](_0x19d1c7(0x19d))[_0x19d1c7(0x151)],_0x25c37f=document[_0x19d1c7(0x14a)](_0x19d1c7(0x211))[_0x19d1c7(0x151)];if(!_0x52eaf7||!_0x25c37f)return;const _0x20dca7=sessions[_0x19d1c7(0x154)](_0x191ff2=>_0x191ff2[_0x19d1c7(0x1d6)]>=_0x52eaf7&&_0x191ff2['dateStr']<=_0x25c37f&&_0x191ff2[_0x19d1c7(0x17c)]!=='cancelled'),_0x18a04b=_0x20dca7[_0x19d1c7(0x173)],_0x36adb6=_0x20dca7['filter'](_0x5c5686=>_0x5c5686[_0x19d1c7(0x17c)]===_0x19d1c7(0x1dc))['length'],_0x4f6117=_0x18a04b>0x0?Math[_0x19d1c7(0x1cf)](_0x36adb6/_0x18a04b*0x64):0x0;document[_0x19d1c7(0x14a)](_0x19d1c7(0x202))['textContent']=_0x4f6117+'%',document[_0x19d1c7(0x14a)](_0x19d1c7(0x210))[_0x19d1c7(0x1b8)]=_0x36adb6+_0x19d1c7(0x1e0)+_0x18a04b+_0x19d1c7(0x1c6);const _0x54d369=document[_0x19d1c7(0x14a)]('anDonutCircle'),_0x4f17cd=0x2*Math['PI']*0x23,_0x1e4387=_0x4f17cd-_0x4f6117/0x64*_0x4f17cd;_0x54d369['style'][_0x19d1c7(0x1e8)]=_0x1e4387;const _0x2a145c={};_0x20dca7[_0x19d1c7(0x16c)](_0x4999b5=>{const _0xfc5938=_0x19d1c7,_0xc656e1=_0x4999b5['coachId']||_0xfc5938(0x1d8);if(!_0x2a145c[_0xc656e1]){const _0x38562b='#'+_0xc656e1[_0xfc5938(0x152)]()[_0xfc5938(0x178)](0x0,0x6);_0x2a145c[_0xc656e1]={'total':0x0,'done':0x0,'color':_0x38562b};}_0x2a145c[_0xc656e1][_0xfc5938(0x1af)]++;if(_0x4999b5[_0xfc5938(0x17c)]==='completed')_0x2a145c[_0xc656e1]['done']++;});const _0x1be7b6=document[_0x19d1c7(0x14a)](_0x19d1c7(0x222));_0x1be7b6[_0x19d1c7(0x1e6)]='';const _0x2b3eb8=Object[_0x19d1c7(0x1c8)](_0x2a145c)[_0x19d1c7(0x138)]((_0x22109a,_0xec75a2)=>_0xec75a2[0x1][_0x19d1c7(0x1af)]-_0x22109a[0x1][_0x19d1c7(0x1af)]);if(_0x2b3eb8['length']===0x0){_0x1be7b6['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x2b3eb8[_0x19d1c7(0x16c)](([_0x333482,_0x8db492])=>{const _0xdee0d2=_0x19d1c7,_0x29aca1=Math[_0xdee0d2(0x1cf)](_0x8db492['done']/_0x8db492[_0xdee0d2(0x1af)]*0x64),_0x1a3c3d=document[_0xdee0d2(0x225)](_0xdee0d2(0x1e7));_0x1a3c3d[_0xdee0d2(0x1b7)]='client-stat-card',_0x1a3c3d[_0xdee0d2(0x204)][_0xdee0d2(0x150)]=_0x8db492[_0xdee0d2(0x20e)],_0x1a3c3d[_0xdee0d2(0x1e6)]=_0xdee0d2(0x1fd)+_0x333482[_0xdee0d2(0x178)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x8db492[_0xdee0d2(0x198)]+_0xdee0d2(0x1c0)+_0x8db492[_0xdee0d2(0x1af)]+_0xdee0d2(0x18f)+_0x29aca1+_0xdee0d2(0x147),_0x1be7b6[_0xdee0d2(0x176)](_0x1a3c3d);});}function openDetails(_0x4d1a68){const _0x2fbbe9=a3_0x332def;currentSession=_0x4d1a68;const _0xe6f13c=new Date(_0x4d1a68[_0x2fbbe9(0x1d6)]),_0x1f816e=_0xe6f13c[_0x2fbbe9(0x184)]('ru-RU',{'weekday':_0x2fbbe9(0x1da),'day':'numeric','month':_0x2fbbe9(0x1da)});document[_0x2fbbe9(0x14a)](_0x2fbbe9(0x1a6))[_0x2fbbe9(0x1b8)]=_0x1f816e['charAt'](0x0)[_0x2fbbe9(0x1a2)]()+_0x1f816e['slice'](0x1),document['getElementById'](_0x2fbbe9(0x1c1))[_0x2fbbe9(0x1b8)]=_0x4d1a68[_0x2fbbe9(0x131)]+'\x20-\x20'+_0x4d1a68[_0x2fbbe9(0x146)],document['getElementById'](_0x2fbbe9(0x1ad))[_0x2fbbe9(0x1b8)]=_0x4d1a68['note']||_0x2fbbe9(0x1bb);const _0x5d5432=document['getElementById'](_0x2fbbe9(0x1f3)),_0x544f8a=document[_0x2fbbe9(0x14a)](_0x2fbbe9(0x22a)),_0x2c14b9=_0x544f8a[_0x2fbbe9(0x221)](_0x2fbbe9(0x1f2)),_0x3106d7=_0x544f8a[_0x2fbbe9(0x221)](_0x2fbbe9(0x1ab)),_0x482f0b=document[_0x2fbbe9(0x14a)](_0x2fbbe9(0x1dd));if(_0x4d1a68['status']===_0x2fbbe9(0x1dc))_0x5d5432[_0x2fbbe9(0x1b8)]=_0x2fbbe9(0x17a),_0x5d5432['style'][_0x2fbbe9(0x20e)]=_0x2fbbe9(0x19e),_0x544f8a['style'][_0x2fbbe9(0x1ce)]='none';else{_0x5d5432['textContent']=_0x2fbbe9(0x17e),_0x5d5432[_0x2fbbe9(0x204)][_0x2fbbe9(0x20e)]='var(--acc-blue)',_0x544f8a['style']['display']=_0x2fbbe9(0x223);const _0x31836a=new Date(_0x4d1a68['dateStr']+'T'+_0x4d1a68[_0x2fbbe9(0x131)]),_0x1977ca=new Date(),_0x3f58e5=(_0x31836a-_0x1977ca)/(0x3e8*0x3c*0x3c),_0x3a888b=coachProfiles[_0x4d1a68[_0x2fbbe9(0x1ef)]]&&coachProfiles[_0x4d1a68[_0x2fbbe9(0x1ef)]][_0x2fbbe9(0x185)]?parseInt(coachProfiles[_0x4d1a68[_0x2fbbe9(0x1ef)]]['cancel_window']):0x18;if(_0x3a888b===0x0||_0x3f58e5>=_0x3a888b)_0x2c14b9[_0x2fbbe9(0x204)][_0x2fbbe9(0x1ce)]=_0x2fbbe9(0x223),_0x3106d7[_0x2fbbe9(0x204)][_0x2fbbe9(0x1ce)]='block',_0x482f0b[_0x2fbbe9(0x204)]['display']=_0x2fbbe9(0x18b);else{_0x2c14b9[_0x2fbbe9(0x204)]['display']='none',_0x3106d7[_0x2fbbe9(0x204)][_0x2fbbe9(0x1ce)]='none',_0x482f0b['style'][_0x2fbbe9(0x1ce)]=_0x2fbbe9(0x223);let _0x58d5ec=_0x3a888b===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x3a888b+'\x20—á.';_0x482f0b[_0x2fbbe9(0x1b8)]=_0x2fbbe9(0x209)+_0x58d5ec+_0x2fbbe9(0x21c);}}document['getElementById'](_0x2fbbe9(0x16f))[_0x2fbbe9(0x181)][_0x2fbbe9(0x13b)](_0x2fbbe9(0x1b0)),document[_0x2fbbe9(0x14a)](_0x2fbbe9(0x20d))['classList']['add']('open');}function a3_0x3a18(_0x1d6a1d,_0x52645a){_0x1d6a1d=_0x1d6a1d-0x12d;const _0x1ee29d=a3_0x3491();let _0x34c5fc=_0x1ee29d[_0x1d6a1d];return _0x34c5fc;}function closeAllSheets(){const _0xc2fb3f=a3_0x332def;document[_0xc2fb3f(0x14a)](_0xc2fb3f(0x16f))[_0xc2fb3f(0x181)]['remove']('active'),document[_0xc2fb3f(0x15e)](_0xc2fb3f(0x1fb))[_0xc2fb3f(0x16c)](_0x1435f3=>_0x1435f3['classList']['remove'](_0xc2fb3f(0x15f)));}function openSheet(_0x21d658){const _0x4b3c0d=a3_0x332def;document['getElementById']('overlay')[_0x4b3c0d(0x181)][_0x4b3c0d(0x13b)](_0x4b3c0d(0x1b0)),document['getElementById'](_0x21d658)['classList'][_0x4b3c0d(0x13b)](_0x4b3c0d(0x15f));}function getLocalDateStr(_0x2aac45){const _0x3af945=a3_0x332def,_0x209786=_0x2aac45[_0x3af945(0x17d)](),_0x57f7f5=String(_0x2aac45['getMonth']()+0x1)[_0x3af945(0x160)](0x2,'0'),_0x2c92dd=String(_0x2aac45['getDate']())[_0x3af945(0x160)](0x2,'0');return _0x209786+'-'+_0x57f7f5+'-'+_0x2c92dd;}function getStartOfWeek(_0x56818b){const _0x149995=a3_0x332def,_0x2e6b77=new Date(_0x56818b),_0xce8a03=_0x2e6b77[_0x149995(0x229)](),_0x1d93a0=_0x2e6b77[_0x149995(0x165)]()-_0xce8a03+(_0xce8a03===0x0?-0x6:0x1);return _0x2e6b77[_0x149995(0x1a9)](_0x1d93a0),_0x2e6b77['setHours'](0x0,0x0,0x0,0x0),_0x2e6b77;}function scrollToToday(){const _0x181932=getLocalDateStr(new Date());setTimeout(()=>{const _0x2fac2f=a3_0x3a18,_0x52794d=document[_0x2fac2f(0x221)](_0x2fac2f(0x1f5)+_0x181932+'\x22]');if(_0x52794d){const _0x556d7f=document[_0x2fac2f(0x14a)](_0x2fac2f(0x158)),_0x4ef272=_0x52794d[_0x2fac2f(0x1f8)]-_0x556d7f[_0x2fac2f(0x12d)]/0x2+_0x52794d[_0x2fac2f(0x1e2)]/0x2;_0x556d7f[_0x2fac2f(0x133)]({'left':_0x4ef272,'behavior':_0x2fac2f(0x208)}),_0x556d7f[_0x2fac2f(0x155)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x53b83b=a3_0x332def,_0x2ec21d=new Date(),_0x2f8087=document['getElementById'](_0x53b83b(0x18e)),_0x53fa6b=document[_0x53b83b(0x14a)](_0x53b83b(0x1fa)),_0x24a5c5=(_0x2ec21d[_0x53b83b(0x12f)]()*0x3c+_0x2ec21d[_0x53b83b(0x13a)]())/0x3c*GRID_H;_0x2f8087['style'][_0x53b83b(0x13f)]=_0x24a5c5+'px',_0x2f8087[_0x53b83b(0x204)]['display']='block',_0x53fa6b['style'][_0x53b83b(0x13f)]=_0x24a5c5+'px',_0x53fa6b[_0x53b83b(0x204)][_0x53b83b(0x1ce)]=_0x53b83b(0x223),_0x53fa6b[_0x53b83b(0x1b8)]=String(_0x2ec21d[_0x53b83b(0x12f)]())[_0x53b83b(0x160)](0x2,'0')+':'+String(_0x2ec21d['getMinutes']())[_0x53b83b(0x160)](0x2,'0');}function onScroll(){const _0x293fd0=a3_0x332def,_0x59eb4b=document[_0x293fd0(0x14a)]('matrixViewport'),_0x2c159e=document[_0x293fd0(0x15e)](_0x293fd0(0x20b));for(let _0x50254f of _0x2c159e)if(_0x50254f[_0x293fd0(0x1f8)]>=_0x59eb4b[_0x293fd0(0x193)]){const _0xd9907a=new Date(_0x50254f['getAttribute'](_0x293fd0(0x156)));document[_0x293fd0(0x14a)](_0x293fd0(0x141))['textContent']=_0xd9907a[_0x293fd0(0x191)]('ru',{'month':'long'})[_0x293fd0(0x1a2)]()+'\x20'+_0xd9907a[_0x293fd0(0x17d)]();break;}}function showToast(_0x101abe){const _0x20b624=a3_0x332def,_0x457f83=document[_0x20b624(0x14a)]('toast');_0x457f83[_0x20b624(0x1b8)]=_0x101abe,_0x457f83[_0x20b624(0x181)]['add'](_0x20b624(0x149)),setTimeout(()=>_0x457f83[_0x20b624(0x181)][_0x20b624(0x180)](_0x20b624(0x149)),0x7d0);}function handleInfiniteScroll(){const _0x1bfb0b=a3_0x332def,_0x27697e=document['getElementById'](_0x1bfb0b(0x158)),_0x273dea=_0x27697e['scrollLeft'],_0x206614=_0x27697e[_0x1bfb0b(0x1cd)],_0x2984a6=_0x27697e[_0x1bfb0b(0x12d)];if(_0x206614-(_0x273dea+_0x2984a6)<0x12c){const _0x5b71bd=endOffset;endOffset+=0xe,renderDayRange(_0x5b71bd+0x1,endOffset),reRenderBlocks();}if(_0x273dea<0x12c){const _0x4e7052=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4e7052-0x1),_0x27697e[_0x1bfb0b(0x193)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x376755,_0x59ab8a){const _0x14f7ae=a3_0x332def,_0x780497=document[_0x14f7ae(0x14a)](_0x14f7ae(0x145)),_0x2b9baf=document['getElementById']('gridColumns'),_0x516045=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2434b7=new Date();_0x2434b7[_0x14f7ae(0x1fe)](0x0,0x0,0x0,0x0);const _0x402a42=getLocalDateStr(new Date()),_0x11d5c0=document[_0x14f7ae(0x1c7)](),_0x383f1a=document[_0x14f7ae(0x1c7)]();for(let _0x2c2e83=_0x376755;_0x2c2e83<=_0x59ab8a;_0x2c2e83++){const _0x195e66=new Date(_0x2434b7);_0x195e66[_0x14f7ae(0x1a9)](_0x195e66[_0x14f7ae(0x165)]()+_0x2c2e83);const _0x39c17f=getLocalDateStr(_0x195e66);let _0xe376f0=_0x195e66[_0x14f7ae(0x229)]()-0x1;if(_0xe376f0===-0x1)_0xe376f0=0x6;const _0xc2dd1f=_0x39c17f===_0x402a42,_0x4b23d0=document['createElement']('div');_0x4b23d0[_0x14f7ae(0x1b7)]=_0x14f7ae(0x148)+(_0xc2dd1f?_0x14f7ae(0x171):''),_0x4b23d0[_0x14f7ae(0x213)](_0x14f7ae(0x156),_0x39c17f),_0x4b23d0[_0x14f7ae(0x1e6)]='<div\x20class=\x22dch-day\x22>'+_0x516045[_0xe376f0]+'</div><div\x20class=\x22dch-num\x22>'+_0x195e66['getDate']()+_0x14f7ae(0x218),_0x11d5c0[_0x14f7ae(0x176)](_0x4b23d0);const _0x14c55a=document[_0x14f7ae(0x225)](_0x14f7ae(0x1e7));_0x14c55a['className']='day-column\x20'+(_0xc2dd1f?'today':''),_0x14c55a[_0x14f7ae(0x213)](_0x14f7ae(0x156),_0x39c17f),_0x14c55a[_0x14f7ae(0x213)](_0x14f7ae(0x224),_0xe376f0),_0x383f1a[_0x14f7ae(0x176)](_0x14c55a);}_0x780497[_0x14f7ae(0x1f4)](_0x11d5c0,_0x780497[_0x14f7ae(0x197)]),_0x2b9baf[_0x14f7ae(0x1f4)](_0x383f1a,_0x2b9baf[_0x14f7ae(0x221)]('.day-column'));}function hexToRgba(_0x2e8507,_0xc54d10){const _0x58ea5c=a3_0x332def;let _0x33b552;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x58ea5c(0x1cb)](_0x2e8507))return _0x33b552=_0x2e8507[_0x58ea5c(0x16e)](0x1)[_0x58ea5c(0x1c5)](''),_0x33b552[_0x58ea5c(0x173)]==0x3&&(_0x33b552=[_0x33b552[0x0],_0x33b552[0x0],_0x33b552[0x1],_0x33b552[0x1],_0x33b552[0x2],_0x33b552[0x2]]),_0x33b552='0x'+_0x33b552[_0x58ea5c(0x1a4)](''),_0x58ea5c(0x21b)+[_0x33b552>>0x10&0xff,_0x33b552>>0x8&0xff,_0x33b552&0xff][_0x58ea5c(0x1a4)](',')+','+_0xc54d10+')';return _0x58ea5c(0x215)+_0xc54d10+')';}let confirmResolver=null;function showCustomConfirm(_0x20005d,_0x49fd21,_0x1f6609=!![]){const _0x24ef36=a3_0x332def;document[_0x24ef36(0x14a)](_0x24ef36(0x21e))['textContent']=_0x20005d,document[_0x24ef36(0x14a)](_0x24ef36(0x143))['textContent']=_0x49fd21;const _0x10e671=document['getElementById'](_0x24ef36(0x21f));return _0x1f6609?(_0x10e671[_0x24ef36(0x204)][_0x24ef36(0x20e)]=_0x24ef36(0x214),_0x10e671['style'][_0x24ef36(0x17b)]=_0x24ef36(0x19c)):(_0x10e671[_0x24ef36(0x204)]['color']='#0a84ff',_0x10e671[_0x24ef36(0x204)][_0x24ef36(0x17b)]=_0x24ef36(0x19c)),new Promise(_0x571e13=>{const _0x95dfb0=_0x24ef36;confirmResolver=_0x571e13,document[_0x95dfb0(0x14a)](_0x95dfb0(0x226))['classList'][_0x95dfb0(0x13b)]('visible');});}function resolveCustomConfirm(_0x232d4a){const _0x93e52a=a3_0x332def;document[_0x93e52a(0x14a)]('customConfirm')[_0x93e52a(0x181)][_0x93e52a(0x180)]('visible');if(confirmResolver)confirmResolver(_0x232d4a);}async function tryCancelCurrentSession(){const _0x2315d0=a3_0x332def;if(!currentSession)return;const _0x1fb758=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x2315d0(0x16d),!![]);if(!_0x1fb758)return;const _0x3298d3=currentSession;closeAllSheets(),sessions=sessions[_0x2315d0(0x154)](_0x283327=>_0x283327['id']!==_0x3298d3['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x2315d0(0x1a0)]();try{const _0x29212f=window['Telegram']?.[_0x2315d0(0x14d)],_0x2e2925=await fetch(API_URL,{'method':_0x2315d0(0x139),'body':JSON[_0x2315d0(0x13d)]({'action':_0x2315d0(0x162),'init_data':_0x29212f?.[_0x2315d0(0x192)]||'','coachId':_0x3298d3[_0x2315d0(0x1ef)],'dateStr':_0x3298d3[_0x2315d0(0x1d6)],'sessionId':_0x3298d3['id']})});if(_0x2e2925['ok'])DataManager[_0x2315d0(0x1df)]();}catch(_0x1d62cd){showToast(_0x2315d0(0x18a));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4b9f1d=a3_0x332def;if(!currentSession)return;document[_0x4b9f1d(0x14a)](_0x4b9f1d(0x20d))[_0x4b9f1d(0x181)][_0x4b9f1d(0x180)](_0x4b9f1d(0x15f)),document[_0x4b9f1d(0x14a)](_0x4b9f1d(0x15b))[_0x4b9f1d(0x181)][_0x4b9f1d(0x13b)](_0x4b9f1d(0x15f));const _0x577d93=document[_0x4b9f1d(0x14a)](_0x4b9f1d(0x228)),_0x3e764a=document['getElementById'](_0x4b9f1d(0x1ca));_0x577d93[_0x4b9f1d(0x1e6)]='',_0x3e764a[_0x4b9f1d(0x1e6)]=_0x4b9f1d(0x168);const [_0x274801,_0x11a66e]=currentSession[_0x4b9f1d(0x131)][_0x4b9f1d(0x1c5)](':')[_0x4b9f1d(0x205)](Number),[_0x28dd4a,_0x9fd421]=currentSession[_0x4b9f1d(0x146)][_0x4b9f1d(0x1c5)](':')['map'](Number),_0xa00bc5=_0x28dd4a*0x3c+_0x9fd421-(_0x274801*0x3c+_0x11a66e);try{const _0x5c86ef=window[_0x4b9f1d(0x1b5)]?.['WebApp'],_0x2cc9b4=await fetch(API_URL,{'method':_0x4b9f1d(0x139),'body':JSON['stringify']({'action':_0x4b9f1d(0x1e3),'coachId':currentSession[_0x4b9f1d(0x1ef)],'duration':_0xa00bc5,'init_data':_0x5c86ef?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x263c0c=await _0x2cc9b4[_0x4b9f1d(0x161)]();_0x263c0c['ok']&&_0x263c0c[_0x4b9f1d(0x179)]?(availableSlotsCache=_0x263c0c[_0x4b9f1d(0x179)],renderRescheduleDates()):_0x3e764a[_0x4b9f1d(0x1e6)]=_0x4b9f1d(0x187);}catch(_0x2c89ee){_0x3e764a[_0x4b9f1d(0x1e6)]=_0x4b9f1d(0x170);}}function renderRescheduleDates(){const _0x5c14e7=a3_0x332def,_0x222ef9=document['getElementById'](_0x5c14e7(0x228));_0x222ef9[_0x5c14e7(0x1e6)]='';const _0x374dc7=Object['keys'](availableSlotsCache)['sort'](),_0x5a9578=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x374dc7['length']===0x0){document[_0x5c14e7(0x14a)](_0x5c14e7(0x1ca))[_0x5c14e7(0x1e6)]=_0x5c14e7(0x144);return;}_0x374dc7[_0x5c14e7(0x16c)]((_0xf0cf70,_0x18a243)=>{const _0x4899e3=_0x5c14e7,_0xb8c94d=new Date(_0xf0cf70),_0x2da8ef=_0x5a9578[_0xb8c94d[_0x4899e3(0x229)]()],_0x295baf=_0xb8c94d['getDate'](),_0x31b907=document[_0x4899e3(0x225)](_0x4899e3(0x1e7));_0x31b907[_0x4899e3(0x1b7)]=_0x4899e3(0x19b);if(_0x18a243===0x0)_0x31b907[_0x4899e3(0x181)]['add']('active');_0x31b907[_0x4899e3(0x1e6)]=_0x4899e3(0x153)+_0x2da8ef+'</div><div\x20class=\x22rs-day-num\x22>'+_0x295baf+_0x4899e3(0x218),_0x31b907['onclick']=()=>selectRsDate(_0xf0cf70,_0x31b907),_0x222ef9[_0x4899e3(0x176)](_0x31b907);}),selectRsDate(_0x374dc7[0x0],_0x222ef9[_0x5c14e7(0x197)]);}function selectRsDate(_0x31345f,_0x51ff8a){const _0x4fc829=a3_0x332def;selectedRsDate=_0x31345f,document[_0x4fc829(0x15e)]('.rs-date-chip')[_0x4fc829(0x16c)](_0x46935a=>_0x46935a[_0x4fc829(0x181)][_0x4fc829(0x180)](_0x4fc829(0x1b0)));if(_0x51ff8a)_0x51ff8a['classList'][_0x4fc829(0x13b)](_0x4fc829(0x1b0));const _0x1c854a=document[_0x4fc829(0x14a)]('rsSlotsGrid');_0x1c854a[_0x4fc829(0x1e6)]='';const _0x46a610=availableSlotsCache[_0x31345f]||[];if(_0x46a610['length']===0x0){_0x1c854a[_0x4fc829(0x1e6)]=_0x4fc829(0x187);return;}_0x46a610['forEach'](_0x522418=>{const _0x2b242d=_0x4fc829,_0x5dbacf=document[_0x2b242d(0x225)]('button');_0x5dbacf[_0x2b242d(0x1b7)]=_0x2b242d(0x163),_0x5dbacf[_0x2b242d(0x1b8)]=_0x522418,_0x5dbacf[_0x2b242d(0x188)]=()=>confirmReschedule(_0x522418),_0x1c854a[_0x2b242d(0x176)](_0x5dbacf);});}function a3_0x3491(){const _0x3e9dc1=['insertBefore','.day-col-header[data-date=\x22','2115060UZnqaR','all','offsetLeft','day-column\x20','timeLineBadge','.sheet','calc(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','setHours','zIndex','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','expand','anPercent','numeric','style','map','custom','scroll','auto','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','18548etXDDg','.day-col-header','coach_profiles','detailsSheet','color','setMonth','anTotalStats','anEnd','setHeaderColor','setAttribute','#ff453a','rgba(10,\x20132,\x20255,\x20','day-off-overlay\x20stripe-bg','\x20-\x20','</div>','3322251GFGfhK','getTime','rgba(','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','width','ccTitle','ccYesBtn','BackButton','querySelector','analyticsList','block','data-day-idx','createElement','customConfirm','applyData','rsDatesTrack','getDay','cancelContainer','clientWidth','mini','getHours','\x20–≤\x20','start','backgroundPosition','scrollTo','calendar','log','href','stopPropagation','sort','POST','getMinutes','add','Critical\x20TMA\x20Error:','stringify','search','top','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','headerMonth','client_load','ccText','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','daysHeaderTrack','end','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-col-header\x20','show','getElementById','2DRvpxk','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','WebApp','3417673gaDMZI','setItem','borderLeftColor','value','toString','<div\x20class=\x22rs-day-name\x22>','filter','scrollTop','data-date','v9.5-CLIENT-ANALYTICS','matrixViewport','month','Error\x20setting\x20color:','rescheduleSheet','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','settings','querySelectorAll','open','padStart','json','client_cancel','rs-time-btn','loadLocal','getDate','timeColumn','disableVerticalSwipes','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','ready','<span>','getAttribute','forEach','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','substring','overlay','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','today','.day-column','length','height','then','appendChild','exceptions','substr','data','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','fontWeight','status','getFullYear','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','event-card','remove','classList','cid','push','toLocaleDateString','cancel_window','uc_client_list','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','onclick','planned','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','none','getMonth','flex','globalTimeLine','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','analyticsSheet','toLocaleString','initData','scrollLeft','T23:59:59','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','4094354eqOLCk','firstChild','done','669CWXwyD','reschedule','rs-date-chip','600','anStart','var(--acc-green)','syncLoad','now','error','toUpperCase','apply','join','#050505','detDate','onClick','.period-switch\x20.p-btn','setDate','initDataUnsafe','.btn-reschedule','getItem','detNote','Error\x20setting\x20back\x20button:','total','active','findIndex','px\x20-','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response',':00</span>','Telegram','uc_client_settings','className','textContent','uc_client_sessions','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','week','setBackgroundColor','location','ru-RU','</span>\x20/\x20','detTime','6GwfhMC','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','split','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','createDocumentFragment','entries','colIndex','rsSlotsGrid','test','<div\x20class=\x22dch-day\x22>','scrollWidth','display','round','clientId','10WGKYJP','ranges','1140632NzMjvA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','DOMContentLoaded','dateStr','parse','Unknown','backgroundColor','long','blocked-slot\x20stripe-bg','completed','cancelHint','anCustomDates','saveLocally','\x20–∏–∑\x20','1346928ObCulF','offsetWidth','get_slots','router.html','startsWith','innerHTML','div','strokeDashoffset','clients','%\x20-\x204px)','offClick','(((.+)+)+)+$','\x20status-completed','max','coachId','pattern','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.btn-cancel','detStatus'];a3_0x3491=function(){return _0x3e9dc1;};return a3_0x3491();}async function confirmReschedule(_0x31c584){const _0x515094=a3_0x332def,_0x355254=new Date(selectedRsDate),_0x509319=_0x355254[_0x515094(0x184)](_0x515094(0x1bf),{'day':_0x515094(0x203),'month':'long'}),_0x39de43=await showCustomConfirm(_0x515094(0x140),_0x515094(0x1f1)+_0x509319+_0x515094(0x130)+_0x31c584+'?',![]);if(!_0x39de43)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x515094(0x1a0)]();const _0x17f91f=currentSession[_0x515094(0x1d6)],_0x1defe9=currentSession['id'],[_0x23e899,_0x4d32db]=currentSession[_0x515094(0x131)][_0x515094(0x1c5)](':')[_0x515094(0x205)](Number),[_0x38586b,_0x2ed64c]=currentSession[_0x515094(0x146)][_0x515094(0x1c5)](':')[_0x515094(0x205)](Number),_0x4eec19=_0x38586b*0x3c+_0x2ed64c-(_0x23e899*0x3c+_0x4d32db),[_0x579515,_0x331eb5]=_0x31c584['split'](':')[_0x515094(0x205)](Number),_0x3c9e85=_0x579515*0x3c+_0x331eb5+_0x4eec19,_0x738d2b=Math['floor'](_0x3c9e85/0x3c),_0x163e54=_0x3c9e85%0x3c,_0x49fa17=String(_0x738d2b)['padStart'](0x2,'0')+':'+String(_0x163e54)[_0x515094(0x160)](0x2,'0'),_0x3e75d6=sessions[_0x515094(0x1b1)](_0x46289a=>_0x46289a['id']===_0x1defe9);_0x3e75d6!==-0x1&&(sessions[_0x3e75d6][_0x515094(0x1d6)]=selectedRsDate,sessions[_0x3e75d6]['start']=_0x31c584,sessions[_0x3e75d6][_0x515094(0x146)]=_0x49fa17,reRenderBlocks());try{const _0x29988a=window['Telegram']?.[_0x515094(0x14d)],_0x596a89=await fetch(API_URL,{'method':_0x515094(0x139),'body':JSON[_0x515094(0x13d)]({'action':_0x515094(0x19a),'init_data':_0x29988a?.['initData']||'','oldSessionId':_0x1defe9,'oldDate':_0x17f91f,'newDate':selectedRsDate,'newTime':_0x31c584,'coachId':currentSession[_0x515094(0x1ef)]})}),_0x176941=await _0x596a89[_0x515094(0x161)]();!_0x176941['ok']?(showToast(_0x515094(0x15c)),DataManager[_0x515094(0x19f)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x515094(0x1df)]());}catch(_0x4b22ff){showToast(_0x515094(0x18a));}}document['addEventListener'](a3_0x332def(0x1d5),init);