const a3_0x2373d8=a3_0x5608;(function(_0x230fda,_0x35ff89){const _0x45f155=a3_0x5608,_0x4cc087=_0x230fda();while(!![]){try{const _0x45169f=parseInt(_0x45f155(0x2cf))/0x1*(-parseInt(_0x45f155(0x1e9))/0x2)+parseInt(_0x45f155(0x2c1))/0x3*(-parseInt(_0x45f155(0x2bb))/0x4)+-parseInt(_0x45f155(0x21b))/0x5*(parseInt(_0x45f155(0x237))/0x6)+parseInt(_0x45f155(0x271))/0x7+parseInt(_0x45f155(0x29b))/0x8+-parseInt(_0x45f155(0x2b4))/0x9+parseInt(_0x45f155(0x2c8))/0xa*(parseInt(_0x45f155(0x22f))/0xb);if(_0x45169f===_0x35ff89)break;else _0x4cc087['push'](_0x4cc087['shift']());}catch(_0x3f217f){_0x4cc087['push'](_0x4cc087['shift']());}}}(a3_0xfda6,0xdb72b));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x2373d8(0x238),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2373d8(0x29e),KEY_CLIENTS=a3_0x2373d8(0x204);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2373d8(0x23e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x176d69=a3_0x2373d8,_0x326d9a=(function(){let _0x19ed43=!![];return function(_0x41a71b,_0x4894a6){const _0x5b03ae=_0x19ed43?function(){const _0x5d34e7=a3_0x5608;if(_0x4894a6){const _0x32a70f=_0x4894a6[_0x5d34e7(0x2c7)](_0x41a71b,arguments);return _0x4894a6=null,_0x32a70f;}}:function(){};return _0x19ed43=![],_0x5b03ae;};}()),_0x577e67=_0x326d9a(this,function(){const _0x462a0a=a3_0x5608;return _0x577e67[_0x462a0a(0x1f3)]()[_0x462a0a(0x1ea)](_0x462a0a(0x217))[_0x462a0a(0x1f3)]()[_0x462a0a(0x261)](_0x577e67)['search'](_0x462a0a(0x217));});_0x577e67();try{const _0x266af0=window[_0x176d69(0x292)]?.[_0x176d69(0x22a)];if(!_0x266af0)return;_0x266af0[_0x176d69(0x1db)](),_0x266af0[_0x176d69(0x257)]();try{_0x266af0['setHeaderColor'](_0x176d69(0x1f2)),_0x266af0[_0x176d69(0x29a)]&&_0x266af0[_0x176d69(0x29a)](_0x176d69(0x1f2));}catch(_0x529066){console[_0x176d69(0x2b9)](_0x176d69(0x28f),_0x529066);}try{_0x266af0[_0x176d69(0x276)]&&(_0x266af0[_0x176d69(0x276)][_0x176d69(0x227)](),_0x266af0[_0x176d69(0x276)]['offClick'](),_0x266af0[_0x176d69(0x276)][_0x176d69(0x255)](function(){const _0x522f66=_0x176d69;window[_0x522f66(0x1de)][_0x522f66(0x2a8)]=_0x522f66(0x286);}));}catch(_0x3d8948){console[_0x176d69(0x2b9)]('Error\x20setting\x20back\x20button:',_0x3d8948);}try{if(_0x266af0[_0x176d69(0x1e5)])_0x266af0[_0x176d69(0x1e5)]();}catch(_0x2a8192){}}catch(_0x305aa3){console[_0x176d69(0x258)]('Critical\x20TMA\x20Error:',_0x305aa3);}}());function isAdmin(){const _0x5dee47=a3_0x2373d8;try{const _0x4978cd=Number(window[_0x5dee47(0x292)]?.[_0x5dee47(0x22a)]?.['initDataUnsafe']?.[_0x5dee47(0x23b)]?.['id']);return _0x4978cd===0xbaf7174;}catch(_0x1ba764){return![];}}const DataManager={'saveLocally'(){const _0x3c335c=a3_0x2373d8;try{localStorage[_0x3c335c(0x1dc)](KEY_SESSIONS,JSON[_0x3c335c(0x24a)](sessions)),localStorage[_0x3c335c(0x1dc)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3c335c(0x1dc)](KEY_SETTINGS,JSON[_0x3c335c(0x24a)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x43ec07){}},'loadLocal'(){const _0x46c464=a3_0x2373d8;try{const _0x3fed76=localStorage['getItem'](KEY_SESSIONS);if(_0x3fed76)sessions=JSON['parse'](_0x3fed76);const _0x11256d=localStorage[_0x46c464(0x211)](KEY_CLIENTS);if(_0x11256d)clients=JSON[_0x46c464(0x218)](_0x11256d);const _0x185601=localStorage[_0x46c464(0x211)](KEY_SETTINGS);if(_0x185601){const _0x51008b=JSON[_0x46c464(0x218)](_0x185601);if(_0x51008b[_0x46c464(0x26e)])availabilityPattern=_0x51008b['pattern'];if(_0x51008b[_0x46c464(0x23f)])specialRanges=_0x51008b[_0x46c464(0x23f)];if(_0x51008b[_0x46c464(0x2a3)])dateExceptions=_0x51008b[_0x46c464(0x2a3)];}}catch(_0x20d3c0){}},async 'syncLoad'(){const _0x5db28f=a3_0x2373d8,_0x1432d0=new Date(),_0x553a90=_0x1432d0[_0x5db28f(0x1ef)]()+'-'+String(_0x1432d0[_0x5db28f(0x20a)]()+0x1)[_0x5db28f(0x208)](0x2,'0'),_0x35265e=new Date(_0x1432d0);_0x35265e[_0x5db28f(0x228)](_0x1432d0[_0x5db28f(0x20a)]()+0x1);const _0x50c288=_0x35265e[_0x5db28f(0x1ef)]()+'-'+String(_0x35265e[_0x5db28f(0x20a)]()+0x1)[_0x5db28f(0x208)](0x2,'0'),_0x197bf4=Date[_0x5db28f(0x1e1)]();try{const _0x59b568=window[_0x5db28f(0x292)]?.[_0x5db28f(0x22a)],_0x20f077=_0x59b568?.[_0x5db28f(0x247)]||'',[_0x45457a,_0x3fab7c]=await Promise[_0x5db28f(0x1f9)]([fetch(API_URL,{'method':_0x5db28f(0x22c),'body':JSON['stringify']({'action':_0x5db28f(0x240),'init_data':_0x20f077,'month_str':_0x553a90})})[_0x5db28f(0x27f)](_0x561f7d=>_0x561f7d[_0x5db28f(0x20d)]()),fetch(API_URL,{'method':_0x5db28f(0x22c),'body':JSON[_0x5db28f(0x24a)]({'action':_0x5db28f(0x240),'init_data':_0x20f077,'month_str':_0x50c288})})[_0x5db28f(0x27f)](_0x10ee56=>_0x10ee56['json']())]);if(lastUserActionTime>_0x197bf4){console['log'](_0x5db28f(0x2a4));return;}if(_0x45457a['ok'])this[_0x5db28f(0x29f)](_0x45457a[_0x5db28f(0x1f8)],_0x553a90);if(_0x3fab7c['ok'])this[_0x5db28f(0x29f)](_0x3fab7c['data'],_0x50c288);this[_0x5db28f(0x2aa)]();}catch(_0x4c902f){}},'applyData'(_0x5d7497,_0xdb141){const _0x41ce18=a3_0x2373d8;if(!_0x5d7497)return;if(_0x5d7497['settings']){if(_0x5d7497[_0x41ce18(0x279)][_0x41ce18(0x26e)])availabilityPattern=_0x5d7497['settings'][_0x41ce18(0x26e)];if(_0x5d7497['settings'][_0x41ce18(0x23f)])specialRanges=_0x5d7497['settings'][_0x41ce18(0x23f)];if(_0x5d7497['settings'][_0x41ce18(0x2a3)])dateExceptions=_0x5d7497[_0x41ce18(0x279)][_0x41ce18(0x2a3)];}if(_0x5d7497[_0x41ce18(0x25a)]&&Array[_0x41ce18(0x2b7)](_0x5d7497[_0x41ce18(0x25a)]))clients=_0x5d7497['clients'];_0x5d7497['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5d7497['coach_profiles']}),_0x5d7497['calendar']&&(sessions=sessions[_0x41ce18(0x288)](_0x3764ea=>!_0x3764ea[_0x41ce18(0x214)]['startsWith'](_0xdb141)),Object[_0x41ce18(0x2bd)](_0x5d7497['calendar'])[_0x41ce18(0x24e)](_0x8a9d4=>{const _0x2b0961=_0x41ce18,_0x5b871c=_0x5d7497['calendar'][_0x8a9d4];_0x5b871c[_0x2b0961(0x24e)](_0x5b0d0d=>{const _0x538103=_0x2b0961;sessions[_0x538103(0x202)]({'id':_0x5b0d0d['i'],'clientId':_0x5b0d0d['c'],'coachId':_0x5b0d0d[_0x538103(0x278)],'dateStr':_0xdb141+'-'+_0x8a9d4[_0x538103(0x208)](0x2,'0'),'start':_0x5b0d0d['s'],'end':_0x5b0d0d['e'],'note':_0x5b0d0d['n']||'','status':_0x5b0d0d['st']||_0x538103(0x1d9),'seriesId':_0x5b0d0d[_0x538103(0x28e)]});});})),reRenderBlocks();}};function init(){const _0x1649da=a3_0x2373d8;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1649da(0x244))[_0x1649da(0x251)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1649da(0x21c)]();}function a3_0x5608(_0x4b82a1,_0x1a8527){_0x4b82a1=_0x4b82a1-0x1d6;const _0x14112c=a3_0xfda6();let _0x35ab1d=_0x14112c[_0x4b82a1];return _0x35ab1d;}function renderTimeColumn(){const _0x1aefd9=a3_0x2373d8,_0x132632=document['getElementById'](_0x1aefd9(0x1e7)),_0x3894ad=document[_0x1aefd9(0x20b)](_0x1aefd9(0x239));_0x132632[_0x1aefd9(0x206)]='',_0x132632[_0x1aefd9(0x2ba)](_0x3894ad);for(let _0x5f0f07=0x0;_0x5f0f07<0x18;_0x5f0f07++){const _0x47687b=document['createElement'](_0x1aefd9(0x281));_0x47687b[_0x1aefd9(0x23a)]='time-label';if(_0x5f0f07>0x0)_0x47687b[_0x1aefd9(0x206)]=_0x1aefd9(0x2b2)+String(_0x5f0f07)[_0x1aefd9(0x208)](0x2,'0')+_0x1aefd9(0x210);_0x132632['appendChild'](_0x47687b);}}function renderDayRange(_0x17f73f,_0x4eff15){const _0x464b42=a3_0x2373d8,_0x4fbe6a=document[_0x464b42(0x20b)](_0x464b42(0x222)),_0x58d289=document[_0x464b42(0x20b)](_0x464b42(0x24f)),_0x3bd99e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34c401=new Date();_0x34c401[_0x464b42(0x1f0)](0x0,0x0,0x0,0x0);const _0x454927=getLocalDateStr(new Date());for(let _0x8121c0=_0x17f73f;_0x8121c0<=_0x4eff15;_0x8121c0++){const _0x17df8e=new Date(_0x34c401);_0x17df8e[_0x464b42(0x264)](_0x17df8e[_0x464b42(0x1f7)]()+_0x8121c0);const _0x5303ee=getLocalDateStr(_0x17df8e);let _0x1395ea=_0x17df8e[_0x464b42(0x266)]()-0x1;if(_0x1395ea===-0x1)_0x1395ea=0x6;const _0x4d32c9=_0x5303ee===_0x454927,_0x2efcda=document[_0x464b42(0x2a2)](_0x464b42(0x281));_0x2efcda['className']='day-col-header\x20'+(_0x4d32c9?_0x464b42(0x26d):''),_0x2efcda[_0x464b42(0x241)](_0x464b42(0x277),_0x5303ee),_0x2efcda[_0x464b42(0x206)]=_0x464b42(0x28b)+_0x3bd99e[_0x1395ea]+_0x464b42(0x21a)+_0x17df8e[_0x464b42(0x1f7)]()+'</div>',_0x4fbe6a['appendChild'](_0x2efcda);const _0x5e9e2d=document[_0x464b42(0x2a2)]('div');_0x5e9e2d[_0x464b42(0x23a)]=_0x464b42(0x234)+(_0x4d32c9?_0x464b42(0x26d):''),_0x5e9e2d[_0x464b42(0x241)](_0x464b42(0x277),_0x5303ee),_0x5e9e2d[_0x464b42(0x241)](_0x464b42(0x2be),_0x1395ea),_0x58d289['appendChild'](_0x5e9e2d);}}function reRenderBlocks(){const _0x28e6a1=a3_0x2373d8;document[_0x28e6a1(0x1e2)](_0x28e6a1(0x1fa))[_0x28e6a1(0x24e)](_0x2cb134=>{const _0xee4660=_0x28e6a1;_0x2cb134['querySelectorAll'](_0xee4660(0x230))[_0xee4660(0x24e)](_0x4d0dfe=>_0x4d0dfe[_0xee4660(0x221)]());const _0x327230=_0x2cb134[_0xee4660(0x23c)](_0xee4660(0x277)),_0x2a4648=parseInt(_0x2cb134[_0xee4660(0x23c)](_0xee4660(0x2be))),_0x3c76b0=Math['round'](_0x2cb134[_0xee4660(0x20f)]);(availabilityPattern[_0x2a4648]||[])[_0xee4660(0x24e)](_0x4ba963=>{const _0x362e33=_0xee4660,_0x1780a1=document[_0x362e33(0x2a2)](_0x362e33(0x281));_0x1780a1[_0x362e33(0x23a)]=_0x362e33(0x1ec),_0x1780a1[_0x362e33(0x24b)][_0x362e33(0x2ca)]=_0x4ba963*GRID_H+'px',_0x1780a1[_0x362e33(0x24b)][_0x362e33(0x2ad)]='-'+_0x3c76b0+_0x362e33(0x24d)+_0x4ba963*GRID_H+'px',_0x2cb134[_0x362e33(0x2ba)](_0x1780a1);});if(specialRanges[_0xee4660(0x280)]>0x0){const _0x21d146=new Date(_0x327230+_0xee4660(0x25c))[_0xee4660(0x1ff)](),_0x52c63a=new Date(_0x327230+_0xee4660(0x201))[_0xee4660(0x1ff)]();specialRanges[_0xee4660(0x24e)](_0x5767e1=>{const _0x2fae0e=_0xee4660,_0x16aa6d=new Date(_0x5767e1[_0x2fae0e(0x27d)])[_0x2fae0e(0x1ff)](),_0x50d2fa=new Date(_0x5767e1[_0x2fae0e(0x296)])[_0x2fae0e(0x1ff)](),_0xc21b28=Math[_0x2fae0e(0x253)](_0x21d146,_0x16aa6d),_0x282cf7=Math['min'](_0x52c63a,_0x50d2fa);if(_0xc21b28<_0x282cf7){const _0x2abc0d=(_0xc21b28-_0x21d146)/0x36ee80*GRID_H,_0x5de302=(_0x282cf7-_0xc21b28)/0x36ee80*GRID_H,_0x410aa9=document['createElement'](_0x2fae0e(0x281));_0x5de302>=23.5*GRID_H?(_0x410aa9[_0x2fae0e(0x23a)]='day-off-overlay\x20stripe-bg',_0x410aa9['style']['backgroundPosition']='-'+_0x3c76b0+_0x2fae0e(0x1fb)):(_0x410aa9[_0x2fae0e(0x23a)]=_0x2fae0e(0x1f5),_0x410aa9['style'][_0x2fae0e(0x2ca)]=_0x2abc0d+'px',_0x410aa9[_0x2fae0e(0x24b)][_0x2fae0e(0x2c0)]=_0x5de302+'px',_0x410aa9[_0x2fae0e(0x24b)]['backgroundPosition']='-'+_0x3c76b0+_0x2fae0e(0x24d)+_0x2abc0d+'px'),_0x2cb134[_0x2fae0e(0x2ba)](_0x410aa9);}});}renderEventsForColumn(_0x2cb134,_0x327230);});}function renderEventsForColumn(_0xcc4c37,_0x46b7fa){const _0x342646=a3_0x2373d8,_0x103e15=sessions[_0x342646(0x288)](_0x6483d8=>_0x6483d8['dateStr']===_0x46b7fa),_0x1f3a08=_0x103e15[_0x342646(0x256)](_0x3a8873=>{const _0x470cd9=_0x342646,[_0x5d2cf7,_0x92d75e]=_0x3a8873[_0x470cd9(0x27d)]['split'](':')['map'](Number),[_0x57f56e,_0x4dfe49]=_0x3a8873[_0x470cd9(0x296)]['split'](':')[_0x470cd9(0x256)](Number);return{'data':_0x3a8873,'start':_0x5d2cf7*0x3c+_0x92d75e,'end':_0x57f56e*0x3c+_0x4dfe49,'colIndex':0x0};});_0x1f3a08[_0x342646(0x23d)]((_0x1589f4,_0x430085)=>_0x1589f4[_0x342646(0x27d)]-_0x430085[_0x342646(0x27d)]||_0x430085[_0x342646(0x296)]-_0x430085[_0x342646(0x27d)]-(_0x1589f4['end']-_0x1589f4['start']));const _0x146537=[];_0x1f3a08[_0x342646(0x24e)](_0x56dcfb=>{const _0x31f50e=_0x342646;let _0x5b17de=![];for(let _0x53a921=0x0;_0x53a921<_0x146537['length'];_0x53a921++){const _0x38cd8a=_0x146537[_0x53a921];if(_0x56dcfb[_0x31f50e(0x27d)]>=_0x38cd8a[_0x38cd8a[_0x31f50e(0x280)]-0x1][_0x31f50e(0x296)]){_0x38cd8a[_0x31f50e(0x202)](_0x56dcfb),_0x56dcfb['colIndex']=_0x53a921,_0x5b17de=!![];break;}}!_0x5b17de&&(_0x146537['push']([_0x56dcfb]),_0x56dcfb[_0x31f50e(0x297)]=_0x146537[_0x31f50e(0x280)]-0x1);}),_0x1f3a08['forEach'](_0x35f4a4=>{const _0x2edfbf=_0x342646;let _0xf73de0=0x0;_0x1f3a08[_0x2edfbf(0x24e)](_0x337b17=>{const _0x8e1ebd=_0x2edfbf;if(Math[_0x8e1ebd(0x253)](_0x35f4a4[_0x8e1ebd(0x27d)],_0x337b17['start'])<Math[_0x8e1ebd(0x273)](_0x35f4a4[_0x8e1ebd(0x296)],_0x337b17[_0x8e1ebd(0x296)])&&_0x337b17[_0x8e1ebd(0x297)]>_0xf73de0)_0xf73de0=_0x337b17['colIndex'];});const _0x4c0c25=_0xf73de0+0x1,_0x20cb9d=0x64/_0x4c0c25,_0x5bf447=_0x35f4a4['colIndex']*_0x20cb9d,_0x318ec3=document['createElement'](_0x2edfbf(0x281)),_0x427e84=_0x35f4a4[_0x2edfbf(0x1f8)];let _0x4442c7='#0a84ff';if(clients&&clients[_0x2edfbf(0x280)]>0x0){const _0xba9606=clients[_0x2edfbf(0x1e8)](_0xcd3421=>String(_0xcd3421['id'])===String(_0x427e84[_0x2edfbf(0x24c)]));if(_0xba9606&&_0xba9606[_0x2edfbf(0x219)])_0x4442c7=_0xba9606['color'];}const _0x3e5b62=_0x427e84[_0x2edfbf(0x2a5)]===_0x2edfbf(0x291),_0x454b4=_0x3e5b62?0x1:0.45;_0x318ec3[_0x2edfbf(0x23a)]='event-card'+(_0x3e5b62?'\x20status-completed':''),_0x318ec3['style'][_0x2edfbf(0x269)]=hexToRgba(_0x4442c7,_0x454b4),_0x318ec3[_0x2edfbf(0x24b)][_0x2edfbf(0x207)]=_0x4442c7;const _0x220a6c=_0x35f4a4[_0x2edfbf(0x27d)]/0x3c*GRID_H,_0xd4b790=(_0x35f4a4[_0x2edfbf(0x296)]-_0x35f4a4[_0x2edfbf(0x27d)])/0x3c*GRID_H;_0x318ec3[_0x2edfbf(0x24b)]['top']=_0x220a6c+'px',_0x318ec3[_0x2edfbf(0x24b)][_0x2edfbf(0x2c0)]=Math[_0x2edfbf(0x253)](_0xd4b790,0x14)+'px',_0x318ec3[_0x2edfbf(0x24b)]['width']=_0x2edfbf(0x2ac)+_0x20cb9d+_0x2edfbf(0x2d0),_0x318ec3[_0x2edfbf(0x24b)][_0x2edfbf(0x1f1)]=_0x2edfbf(0x2ac)+_0x5bf447+_0x2edfbf(0x213),_0x318ec3[_0x2edfbf(0x24b)][_0x2edfbf(0x260)]=0xa+_0x35f4a4[_0x2edfbf(0x297)];if(_0x20cb9d<0x55)_0x318ec3[_0x2edfbf(0x1fe)]['add'](_0x2edfbf(0x282));let _0x41670f='';if(_0x427e84[_0x2edfbf(0x26c)])_0x41670f+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3e5b62)_0x41670f+=_0x2edfbf(0x2cb);_0x318ec3[_0x2edfbf(0x206)]=_0x2edfbf(0x2a0)+_0x427e84[_0x2edfbf(0x27d)]+_0x2edfbf(0x25d)+_0x427e84[_0x2edfbf(0x296)]+_0x2edfbf(0x26a)+_0x41670f+_0x2edfbf(0x22d),_0x318ec3['onclick']=_0x50855a=>{const _0x4dd5ae=_0x2edfbf;_0x50855a[_0x4dd5ae(0x1e4)](),openDetails(_0x427e84);},_0xcc4c37[_0x2edfbf(0x2ba)](_0x318ec3);});}function openAnalytics(){const _0x5dfd80=a3_0x2373d8,_0x825f24=document[_0x5dfd80(0x1e6)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x5dfd80(0x23e),_0x825f24),openSheet(_0x5dfd80(0x243));}function setAnalyticsPeriod(_0x27ca36,_0x3cdb86){const _0x1e3ff2=a3_0x2373d8;currentAnPeriod=_0x27ca36,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x4f0e7a=>_0x4f0e7a[_0x1e3ff2(0x1fe)][_0x1e3ff2(0x221)]('active'));if(_0x3cdb86)_0x3cdb86['classList'][_0x1e3ff2(0x252)]('active');const _0x3ec918=document['getElementById'](_0x1e3ff2(0x2a7));_0x3ec918['style'][_0x1e3ff2(0x2c6)]=_0x27ca36===_0x1e3ff2(0x20c)?_0x1e3ff2(0x1fd):_0x1e3ff2(0x21f);const _0x32d045=new Date();let _0x23be88=new Date(),_0x31bf7c=new Date();if(_0x27ca36===_0x1e3ff2(0x23e))_0x23be88=getStartOfWeek(_0x32d045),_0x31bf7c=new Date(_0x23be88),_0x31bf7c['setDate'](_0x31bf7c[_0x1e3ff2(0x1f7)]()+0x6);else{if(_0x27ca36===_0x1e3ff2(0x25e))_0x23be88=new Date(_0x32d045[_0x1e3ff2(0x1ef)](),_0x32d045[_0x1e3ff2(0x20a)](),0x1),_0x31bf7c=new Date(_0x32d045[_0x1e3ff2(0x1ef)](),_0x32d045[_0x1e3ff2(0x20a)]()+0x1,0x0);else{!document[_0x1e3ff2(0x20b)](_0x1e3ff2(0x246))[_0x1e3ff2(0x290)]&&(document[_0x1e3ff2(0x20b)](_0x1e3ff2(0x246))[_0x1e3ff2(0x290)]=getLocalDateStr(_0x32d045),document[_0x1e3ff2(0x20b)](_0x1e3ff2(0x216))['value']=getLocalDateStr(_0x32d045));refreshAnalytics();return;}}document[_0x1e3ff2(0x20b)](_0x1e3ff2(0x246))[_0x1e3ff2(0x290)]=getLocalDateStr(_0x23be88),document[_0x1e3ff2(0x20b)](_0x1e3ff2(0x216))['value']=getLocalDateStr(_0x31bf7c),refreshAnalytics();}function refreshAnalytics(){const _0x875c06=a3_0x2373d8,_0x53c4e8=document[_0x875c06(0x20b)](_0x875c06(0x246))[_0x875c06(0x290)],_0x25b334=document[_0x875c06(0x20b)](_0x875c06(0x216))[_0x875c06(0x290)];if(!_0x53c4e8||!_0x25b334)return;const _0xf3343c=sessions[_0x875c06(0x288)](_0x2d9273=>_0x2d9273['dateStr']>=_0x53c4e8&&_0x2d9273[_0x875c06(0x214)]<=_0x25b334&&_0x2d9273['status']!==_0x875c06(0x2a9)),_0x1f4074=_0xf3343c[_0x875c06(0x280)],_0x6db4b6=_0xf3343c[_0x875c06(0x288)](_0x2a6b0b=>_0x2a6b0b[_0x875c06(0x2a5)]===_0x875c06(0x291))[_0x875c06(0x280)],_0x1d56b6=_0x1f4074>0x0?Math[_0x875c06(0x27a)](_0x6db4b6/_0x1f4074*0x64):0x0;document[_0x875c06(0x20b)](_0x875c06(0x275))[_0x875c06(0x2bf)]=_0x1d56b6+'%',document[_0x875c06(0x20b)](_0x875c06(0x2b3))[_0x875c06(0x2bf)]=_0x6db4b6+'\x20–∏–∑\x20'+_0x1f4074+_0x875c06(0x1da);const _0x5b1b7b=document[_0x875c06(0x20b)]('anDonutCircle'),_0x14e4b1=0x2*Math['PI']*0x23,_0x230e54=_0x14e4b1-_0x1d56b6/0x64*_0x14e4b1;_0x5b1b7b[_0x875c06(0x24b)][_0x875c06(0x1e3)]=_0x230e54;const _0x5ee7f5={};_0xf3343c[_0x875c06(0x24e)](_0x5bcd49=>{const _0x3ea82b=_0x875c06,_0x5ad19b=_0x5bcd49['coachId']||'Unknown';if(!_0x5ee7f5[_0x5ad19b]){const _0x4785ca='#'+_0x5ad19b[_0x3ea82b(0x1f3)]()[_0x3ea82b(0x22b)](0x0,0x6);_0x5ee7f5[_0x5ad19b]={'total':0x0,'done':0x0,'color':_0x4785ca};}_0x5ee7f5[_0x5ad19b]['total']++;if(_0x5bcd49['status']===_0x3ea82b(0x291))_0x5ee7f5[_0x5ad19b][_0x3ea82b(0x254)]++;});const _0x5014f7=document[_0x875c06(0x20b)](_0x875c06(0x248));_0x5014f7[_0x875c06(0x206)]='';const _0x5c74f7=Object[_0x875c06(0x22e)](_0x5ee7f5)['sort']((_0x1083a7,_0x152ef2)=>_0x152ef2[0x1][_0x875c06(0x2b8)]-_0x1083a7[0x1]['total']);if(_0x5c74f7['length']===0x0){_0x5014f7[_0x875c06(0x206)]=_0x875c06(0x1d8);return;}_0x5c74f7[_0x875c06(0x24e)](([_0xa71b8,_0x2c521f])=>{const _0x3d0e4d=_0x875c06,_0x3b054e=Math['round'](_0x2c521f[_0x3d0e4d(0x254)]/_0x2c521f[_0x3d0e4d(0x2b8)]*0x64),_0x124f42=document[_0x3d0e4d(0x2a2)](_0x3d0e4d(0x281));_0x124f42[_0x3d0e4d(0x23a)]='client-stat-card',_0x124f42[_0x3d0e4d(0x24b)][_0x3d0e4d(0x207)]=_0x2c521f[_0x3d0e4d(0x219)],_0x124f42['innerHTML']=_0x3d0e4d(0x2c3)+_0xa71b8[_0x3d0e4d(0x22b)](0x0,0x5)+_0x3d0e4d(0x242)+_0x2c521f['done']+_0x3d0e4d(0x235)+_0x2c521f[_0x3d0e4d(0x2b8)]+_0x3d0e4d(0x29d)+_0x3b054e+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5014f7['appendChild'](_0x124f42);});}function openDetails(_0x56b0a5){const _0x5ebb79=a3_0x2373d8;currentSession=_0x56b0a5;const _0x47bb54=new Date(_0x56b0a5['dateStr']),_0xc54610=_0x47bb54[_0x5ebb79(0x236)]('ru-RU',{'weekday':'long','day':_0x5ebb79(0x249),'month':'long'});document['getElementById'](_0x5ebb79(0x2c4))['textContent']=_0xc54610[_0x5ebb79(0x274)](0x0)[_0x5ebb79(0x2b6)]()+_0xc54610[_0x5ebb79(0x2cc)](0x1),document[_0x5ebb79(0x20b)](_0x5ebb79(0x1d6))[_0x5ebb79(0x2bf)]=_0x56b0a5[_0x5ebb79(0x27d)]+_0x5ebb79(0x25d)+_0x56b0a5[_0x5ebb79(0x296)],document[_0x5ebb79(0x20b)](_0x5ebb79(0x26b))[_0x5ebb79(0x2bf)]=_0x56b0a5[_0x5ebb79(0x262)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3474a1=document[_0x5ebb79(0x20b)]('detStatus'),_0x9d94a2=document[_0x5ebb79(0x20b)](_0x5ebb79(0x1fc)),_0x425301=_0x9d94a2['querySelector'](_0x5ebb79(0x2b0)),_0x4c5c24=_0x9d94a2[_0x5ebb79(0x1e6)](_0x5ebb79(0x2a1)),_0x4b5059=document[_0x5ebb79(0x20b)](_0x5ebb79(0x298));if(_0x56b0a5['status']===_0x5ebb79(0x291))_0x3474a1[_0x5ebb79(0x2bf)]=_0x5ebb79(0x295),_0x3474a1[_0x5ebb79(0x24b)][_0x5ebb79(0x219)]=_0x5ebb79(0x1ed),_0x9d94a2[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]=_0x5ebb79(0x21f);else{_0x3474a1['textContent']=_0x5ebb79(0x28a),_0x3474a1['style'][_0x5ebb79(0x219)]=_0x5ebb79(0x283),_0x9d94a2[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]='block';const _0x4f9248=new Date(_0x56b0a5['dateStr']+'T'+_0x56b0a5[_0x5ebb79(0x27d)]),_0x530b6e=new Date(),_0xf31fd3=(_0x4f9248-_0x530b6e)/(0x3e8*0x3c*0x3c),_0x21fc30=coachProfiles[_0x56b0a5[_0x5ebb79(0x2cd)]]&&coachProfiles[_0x56b0a5['coachId']][_0x5ebb79(0x220)]?parseInt(coachProfiles[_0x56b0a5[_0x5ebb79(0x2cd)]][_0x5ebb79(0x220)]):0x18;if(_0x21fc30===0x0||_0xf31fd3>=_0x21fc30)_0x425301['style'][_0x5ebb79(0x2c6)]='block',_0x4c5c24[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]=_0x5ebb79(0x231),_0x4b5059[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]=_0x5ebb79(0x21f);else{_0x425301[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]=_0x5ebb79(0x21f),_0x4c5c24['style']['display']=_0x5ebb79(0x21f),_0x4b5059[_0x5ebb79(0x24b)][_0x5ebb79(0x2c6)]=_0x5ebb79(0x231);let _0x556f6d=_0x21fc30===0x0?_0x5ebb79(0x20e):_0x5ebb79(0x2c2)+_0x21fc30+_0x5ebb79(0x29c);_0x4b5059[_0x5ebb79(0x2bf)]=_0x5ebb79(0x226)+_0x556f6d+_0x5ebb79(0x212);}}document[_0x5ebb79(0x20b)](_0x5ebb79(0x233))[_0x5ebb79(0x1fe)][_0x5ebb79(0x252)]('active'),document[_0x5ebb79(0x20b)](_0x5ebb79(0x287))[_0x5ebb79(0x1fe)][_0x5ebb79(0x252)]('open');}function closeAllSheets(){const _0x5ed21a=a3_0x2373d8;document[_0x5ed21a(0x20b)]('overlay')[_0x5ed21a(0x1fe)][_0x5ed21a(0x221)]('active'),document['querySelectorAll'](_0x5ed21a(0x289))[_0x5ed21a(0x24e)](_0x30991=>_0x30991[_0x5ed21a(0x1fe)][_0x5ed21a(0x221)](_0x5ed21a(0x1f4)));}function openSheet(_0x523f42){const _0x3c0dcb=a3_0x2373d8;document[_0x3c0dcb(0x20b)](_0x3c0dcb(0x233))[_0x3c0dcb(0x1fe)]['add'](_0x3c0dcb(0x223)),document['getElementById'](_0x523f42)[_0x3c0dcb(0x1fe)][_0x3c0dcb(0x252)]('open');}function getLocalDateStr(_0x4b0866){const _0x13fa28=a3_0x2373d8,_0x5a68f1=_0x4b0866[_0x13fa28(0x1ef)](),_0x6ab03f=String(_0x4b0866['getMonth']()+0x1)['padStart'](0x2,'0'),_0x1d073d=String(_0x4b0866[_0x13fa28(0x1f7)]())['padStart'](0x2,'0');return _0x5a68f1+'-'+_0x6ab03f+'-'+_0x1d073d;}function getStartOfWeek(_0x250b4a){const _0x5adf44=a3_0x2373d8,_0x10ffd9=new Date(_0x250b4a),_0xb8b182=_0x10ffd9[_0x5adf44(0x266)](),_0x35f0ca=_0x10ffd9[_0x5adf44(0x1f7)]()-_0xb8b182+(_0xb8b182===0x0?-0x6:0x1);return _0x10ffd9['setDate'](_0x35f0ca),_0x10ffd9[_0x5adf44(0x1f0)](0x0,0x0,0x0,0x0),_0x10ffd9;}function scrollToToday(){const _0x341ed4=getLocalDateStr(new Date());setTimeout(()=>{const _0x274396=a3_0x5608,_0xa02af2=document['querySelector'](_0x274396(0x2ab)+_0x341ed4+'\x22]');if(_0xa02af2){const _0x2760e1=document['getElementById'](_0x274396(0x244)),_0x2aab9e=_0xa02af2[_0x274396(0x20f)]-_0x2760e1['clientWidth']/0x2+_0xa02af2[_0x274396(0x25f)]/0x2;_0x2760e1[_0x274396(0x27e)]({'left':_0x2aab9e,'behavior':'auto'}),_0x2760e1['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1d490f=a3_0x2373d8,_0x4bc117=new Date(),_0x170b62=document['getElementById'](_0x1d490f(0x1dd)),_0x4f6e8d=document[_0x1d490f(0x20b)]('timeLineBadge'),_0x2d9c44=(_0x4bc117[_0x1d490f(0x1eb)]()*0x3c+_0x4bc117['getMinutes']())/0x3c*GRID_H;_0x170b62[_0x1d490f(0x24b)][_0x1d490f(0x2ca)]=_0x2d9c44+'px',_0x170b62['style'][_0x1d490f(0x2c6)]=_0x1d490f(0x231),_0x4f6e8d[_0x1d490f(0x24b)][_0x1d490f(0x2ca)]=_0x2d9c44+'px',_0x4f6e8d[_0x1d490f(0x24b)]['display']=_0x1d490f(0x231),_0x4f6e8d['textContent']=String(_0x4bc117[_0x1d490f(0x1eb)]())[_0x1d490f(0x208)](0x2,'0')+':'+String(_0x4bc117[_0x1d490f(0x2b5)]())['padStart'](0x2,'0');}function a3_0xfda6(){const _0x2eba10=['rgba(10,\x20132,\x20255,\x20','clients','get_slots','T00:00:00','\x20-\x20','month','offsetWidth','zIndex','constructor','note','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setDate','600','getDay','clientWidth','rsDatesTrack','backgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','detNote','seriesId','today','pattern','join','</div><div\x20class=\x22rs-day-num\x22>','3378529cYiRnb','–û—Ç–º–µ–Ω–µ–Ω–æ','min','charAt','anPercent','BackButton','data-date','cid','settings','round','#ff453a','test','start','scrollTo','then','length','div','mini','var(--acc-blue)','split','fontWeight','router.html','detailsSheet','filter','.sheet','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','<div\x20class=\x22dch-day\x22>','createDocumentFragment','long','sid','Error\x20setting\x20color:','value','completed','Telegram','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','firstChild','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','end','colIndex','cancelHint','ru-RU','setBackgroundColor','10999360kucpoE','\x20—á.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','uc_client_settings','applyData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','.btn-reschedule','createElement','exceptions','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','status','ccYesBtn','anCustomDates','href','cancelled','saveLocally','.day-col-header[data-date=\x22','calc(','backgroundPosition','toLocaleString','rs-time-btn','.btn-cancel','customConfirm','<span>','anTotalStats','1584117wQYZxV','getMinutes','toUpperCase','isArray','total','log','appendChild','81512pekSBt','toast','keys','data-day-idx','textContent','height','12UcWSdy','–∑–∞\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','detDate','.rs-date-chip','display','apply','9156230ZjsZua','</div>','top','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','slice','coachId','\x20–≤\x20','224109WIVwUx','%\x20-\x204px)','detTime','visible','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','planned','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','ready','setItem','globalTimeLine','location','rsSlotsGrid','substring','now','querySelectorAll','strokeDashoffset','stopPropagation','disableVerticalSwipes','querySelector','timeColumn','find','6HjFZWk','search','getHours','blocked-slot\x20stripe-bg','var(--acc-green)','scrollWidth','getFullYear','setHours','left','#050505','toString','open','blocked-range-part\x20stripe-bg','findIndex','getDate','data','all','.day-column','px\x200px','cancelContainer','flex','classList','getTime','floor','T23:59:59','push','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','uc_client_list','client_cancel','innerHTML','borderLeftColor','padStart','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getMonth','getElementById','custom','json','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','offsetLeft',':00</span>','getItem','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','%\x20+\x202px)','dateStr','DOMContentLoaded','anEnd','(((.+)+)+)+$','parse','color','</div><div\x20class=\x22dch-num\x22>','5lYhlfi','syncLoad','ccTitle','rescheduleSheet','none','cancel_window','remove','daysHeaderTrack','active','day-col-header\x20','onclick','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','show','setMonth','insertBefore','WebApp','substr','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','11PtUMsV','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','block','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','overlay','day-column\x20','</span>\x20/\x20','toLocaleDateString','5666874xZYfpl','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','timeLineBadge','className','user','getAttribute','sort','week','ranges','client_load','setAttribute','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','analyticsSheet','matrixViewport','#0a84ff','anStart','initData','analyticsList','numeric','stringify','style','clientId','px\x20-','forEach','gridColumns','scrollLeft','addEventListener','add','max','done','onClick','map','expand','error'];a3_0xfda6=function(){return _0x2eba10;};return a3_0xfda6();}function onScroll(){const _0x3a59a0=a3_0x2373d8,_0x2282df=document[_0x3a59a0(0x20b)](_0x3a59a0(0x244)),_0x2ce2ef=document['querySelectorAll']('.day-col-header');for(let _0x5e5130 of _0x2ce2ef)if(_0x5e5130['offsetLeft']>=_0x2282df['scrollLeft']){const _0x4e8d5f=new Date(_0x5e5130[_0x3a59a0(0x23c)](_0x3a59a0(0x277)));document[_0x3a59a0(0x20b)]('headerMonth')[_0x3a59a0(0x2bf)]=_0x4e8d5f[_0x3a59a0(0x2ae)]('ru',{'month':_0x3a59a0(0x28d)})[_0x3a59a0(0x2b6)]()+'\x20'+_0x4e8d5f[_0x3a59a0(0x1ef)]();break;}}function showToast(_0x414cb8){const _0x972bac=a3_0x2373d8,_0x10ed35=document[_0x972bac(0x20b)](_0x972bac(0x2bc));_0x10ed35[_0x972bac(0x2bf)]=_0x414cb8,_0x10ed35[_0x972bac(0x1fe)][_0x972bac(0x252)]('show'),setTimeout(()=>_0x10ed35[_0x972bac(0x1fe)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x2c52ec=a3_0x2373d8,_0x55fc6a=document['getElementById'](_0x2c52ec(0x244)),_0x2b9853=_0x55fc6a[_0x2c52ec(0x250)],_0x159372=_0x55fc6a[_0x2c52ec(0x1ee)],_0x50aaff=_0x55fc6a[_0x2c52ec(0x267)];if(_0x159372-(_0x2b9853+_0x50aaff)<0x12c){const _0x198a55=endOffset;endOffset+=0xe,renderDayRange(_0x198a55+0x1,endOffset),reRenderBlocks();}if(_0x2b9853<0x12c){const _0x5ca568=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5ca568-0x1),_0x55fc6a[_0x2c52ec(0x250)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x52df13,_0x5bbd62){const _0x364612=a3_0x2373d8,_0xc933f2=document[_0x364612(0x20b)](_0x364612(0x222)),_0xfa9330=document['getElementById'](_0x364612(0x24f)),_0x5afba9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2696b9=new Date();_0x2696b9['setHours'](0x0,0x0,0x0,0x0);const _0x58a79d=getLocalDateStr(new Date()),_0x10c6bb=document[_0x364612(0x28c)](),_0x2441bb=document[_0x364612(0x28c)]();for(let _0x4efadf=_0x52df13;_0x4efadf<=_0x5bbd62;_0x4efadf++){const _0x50d1ff=new Date(_0x2696b9);_0x50d1ff['setDate'](_0x50d1ff[_0x364612(0x1f7)]()+_0x4efadf);const _0x4ccb47=getLocalDateStr(_0x50d1ff);let _0x8979df=_0x50d1ff[_0x364612(0x266)]()-0x1;if(_0x8979df===-0x1)_0x8979df=0x6;const _0x22d686=_0x4ccb47===_0x58a79d,_0x5869a7=document[_0x364612(0x2a2)](_0x364612(0x281));_0x5869a7[_0x364612(0x23a)]=_0x364612(0x224)+(_0x22d686?_0x364612(0x26d):''),_0x5869a7[_0x364612(0x241)](_0x364612(0x277),_0x4ccb47),_0x5869a7['innerHTML']=_0x364612(0x28b)+_0x5afba9[_0x8979df]+'</div><div\x20class=\x22dch-num\x22>'+_0x50d1ff[_0x364612(0x1f7)]()+'</div>',_0x10c6bb[_0x364612(0x2ba)](_0x5869a7);const _0x18b839=document[_0x364612(0x2a2)]('div');_0x18b839[_0x364612(0x23a)]=_0x364612(0x234)+(_0x22d686?'today':''),_0x18b839[_0x364612(0x241)](_0x364612(0x277),_0x4ccb47),_0x18b839[_0x364612(0x241)]('data-day-idx',_0x8979df),_0x2441bb[_0x364612(0x2ba)](_0x18b839);}_0xc933f2[_0x364612(0x229)](_0x10c6bb,_0xc933f2['firstChild']),_0xfa9330[_0x364612(0x229)](_0x2441bb,_0xfa9330[_0x364612(0x1e6)](_0x364612(0x1fa)));}function hexToRgba(_0x1b510d,_0x27dde7){const _0x3392f2=a3_0x2373d8;let _0xcce0df;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3392f2(0x27c)](_0x1b510d))return _0xcce0df=_0x1b510d[_0x3392f2(0x1e0)](0x1)['split'](''),_0xcce0df[_0x3392f2(0x280)]==0x3&&(_0xcce0df=[_0xcce0df[0x0],_0xcce0df[0x0],_0xcce0df[0x1],_0xcce0df[0x1],_0xcce0df[0x2],_0xcce0df[0x2]]),_0xcce0df='0x'+_0xcce0df['join'](''),'rgba('+[_0xcce0df>>0x10&0xff,_0xcce0df>>0x8&0xff,_0xcce0df&0xff][_0x3392f2(0x26f)](',')+','+_0x27dde7+')';return _0x3392f2(0x259)+_0x27dde7+')';}let confirmResolver=null;function showCustomConfirm(_0x4ef121,_0xe3ca5a,_0x55a328=!![]){const _0x489433=a3_0x2373d8;document['getElementById'](_0x489433(0x21d))[_0x489433(0x2bf)]=_0x4ef121,document[_0x489433(0x20b)]('ccText')[_0x489433(0x2bf)]=_0xe3ca5a;const _0x5066c2=document[_0x489433(0x20b)](_0x489433(0x2a6));return _0x55a328?(_0x5066c2[_0x489433(0x24b)]['color']=_0x489433(0x27b),_0x5066c2[_0x489433(0x24b)]['fontWeight']=_0x489433(0x265)):(_0x5066c2[_0x489433(0x24b)][_0x489433(0x219)]=_0x489433(0x245),_0x5066c2[_0x489433(0x24b)][_0x489433(0x285)]=_0x489433(0x265)),new Promise(_0x44123f=>{const _0x318fcf=_0x489433;confirmResolver=_0x44123f,document['getElementById'](_0x318fcf(0x2b1))['classList'][_0x318fcf(0x252)](_0x318fcf(0x1d7));});}function resolveCustomConfirm(_0x1e77b9){const _0x10ad46=a3_0x2373d8;document[_0x10ad46(0x20b)](_0x10ad46(0x2b1))[_0x10ad46(0x1fe)][_0x10ad46(0x221)]('visible');if(confirmResolver)confirmResolver(_0x1e77b9);}async function tryCancelCurrentSession(){const _0x2efad1=a3_0x2373d8;if(!currentSession)return;const _0x4199c4=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x4199c4)return;const _0xb15bff=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x50d67a=>_0x50d67a['id']!==_0xb15bff['id']),reRenderBlocks(),showToast(_0x2efad1(0x272)),lastUserActionTime=Date[_0x2efad1(0x1e1)]();try{const _0x2728aa=window['Telegram']?.[_0x2efad1(0x22a)],_0x130f50=await fetch(API_URL,{'method':_0x2efad1(0x22c),'body':JSON['stringify']({'action':_0x2efad1(0x205),'init_data':_0x2728aa?.[_0x2efad1(0x247)]||'','coachId':_0xb15bff[_0x2efad1(0x2cd)],'dateStr':_0xb15bff[_0x2efad1(0x214)],'sessionId':_0xb15bff['id']})});if(_0x130f50['ok'])DataManager[_0x2efad1(0x2aa)]();}catch(_0x2e3c39){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2711f8=a3_0x2373d8;if(!currentSession)return;document[_0x2711f8(0x20b)]('detailsSheet')[_0x2711f8(0x1fe)][_0x2711f8(0x221)](_0x2711f8(0x1f4)),document[_0x2711f8(0x20b)](_0x2711f8(0x21e))['classList'][_0x2711f8(0x252)](_0x2711f8(0x1f4));const _0x3583fb=document['getElementById'](_0x2711f8(0x268)),_0x10eef1=document[_0x2711f8(0x20b)](_0x2711f8(0x1df));_0x3583fb['innerHTML']='',_0x10eef1[_0x2711f8(0x206)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x5b0200,_0x202082]=currentSession[_0x2711f8(0x27d)][_0x2711f8(0x284)](':')[_0x2711f8(0x256)](Number),[_0x5a89e9,_0x485037]=currentSession['end'][_0x2711f8(0x284)](':')['map'](Number),_0x4253ac=_0x5a89e9*0x3c+_0x485037-(_0x5b0200*0x3c+_0x202082);try{const _0x5d932b=window['Telegram']?.[_0x2711f8(0x22a)],_0x4e8179=await fetch(API_URL,{'method':_0x2711f8(0x22c),'body':JSON[_0x2711f8(0x24a)]({'action':_0x2711f8(0x25b),'coachId':currentSession[_0x2711f8(0x2cd)],'duration':_0x4253ac,'init_data':_0x5d932b?.[_0x2711f8(0x247)]||'','excludeSessionId':currentSession['id']})}),_0x5c2ad2=await _0x4e8179[_0x2711f8(0x20d)]();_0x5c2ad2['ok']&&_0x5c2ad2[_0x2711f8(0x1f8)]?(availableSlotsCache=_0x5c2ad2['data'],renderRescheduleDates()):_0x10eef1[_0x2711f8(0x206)]=_0x2711f8(0x232);}catch(_0x461c42){_0x10eef1[_0x2711f8(0x206)]=_0x2711f8(0x203);}}function renderRescheduleDates(){const _0x1fe3b0=a3_0x2373d8,_0x5094fc=document[_0x1fe3b0(0x20b)](_0x1fe3b0(0x268));_0x5094fc['innerHTML']='';const _0x2cd765=Object[_0x1fe3b0(0x2bd)](availableSlotsCache)['sort'](),_0x4e4abd=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2cd765[_0x1fe3b0(0x280)]===0x0){document['getElementById'](_0x1fe3b0(0x1df))[_0x1fe3b0(0x206)]=_0x1fe3b0(0x293);return;}_0x2cd765[_0x1fe3b0(0x24e)]((_0x2b44cf,_0x2b4e80)=>{const _0x3fdbca=_0x1fe3b0,_0x344c3f=new Date(_0x2b44cf),_0x511aa4=_0x4e4abd[_0x344c3f[_0x3fdbca(0x266)]()],_0x408919=_0x344c3f[_0x3fdbca(0x1f7)](),_0x48e955=document[_0x3fdbca(0x2a2)](_0x3fdbca(0x281));_0x48e955['className']='rs-date-chip';if(_0x2b4e80===0x0)_0x48e955[_0x3fdbca(0x1fe)]['add']('active');_0x48e955['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x511aa4+_0x3fdbca(0x270)+_0x408919+_0x3fdbca(0x2c9),_0x48e955[_0x3fdbca(0x225)]=()=>selectRsDate(_0x2b44cf,_0x48e955),_0x5094fc[_0x3fdbca(0x2ba)](_0x48e955);}),selectRsDate(_0x2cd765[0x0],_0x5094fc[_0x1fe3b0(0x294)]);}function selectRsDate(_0x2f1109,_0x3f4240){const _0xba93e0=a3_0x2373d8;selectedRsDate=_0x2f1109,document[_0xba93e0(0x1e2)](_0xba93e0(0x2c5))[_0xba93e0(0x24e)](_0x3c8d66=>_0x3c8d66[_0xba93e0(0x1fe)][_0xba93e0(0x221)](_0xba93e0(0x223)));if(_0x3f4240)_0x3f4240[_0xba93e0(0x1fe)]['add']('active');const _0x5ea8b6=document[_0xba93e0(0x20b)](_0xba93e0(0x1df));_0x5ea8b6[_0xba93e0(0x206)]='';const _0xf9690c=availableSlotsCache[_0x2f1109]||[];if(_0xf9690c[_0xba93e0(0x280)]===0x0){_0x5ea8b6[_0xba93e0(0x206)]=_0xba93e0(0x232);return;}_0xf9690c['forEach'](_0x462983=>{const _0x307b90=_0xba93e0,_0xbb5422=document[_0x307b90(0x2a2)]('button');_0xbb5422[_0x307b90(0x23a)]=_0x307b90(0x2af),_0xbb5422[_0x307b90(0x2bf)]=_0x462983,_0xbb5422['onclick']=()=>confirmReschedule(_0x462983),_0x5ea8b6['appendChild'](_0xbb5422);});}async function confirmReschedule(_0x3bdc0d){const _0x12b747=a3_0x2373d8,_0x3f19e5=new Date(selectedRsDate),_0x17ed6f=_0x3f19e5[_0x12b747(0x236)](_0x12b747(0x299),{'day':'numeric','month':_0x12b747(0x28d)}),_0x516687=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x17ed6f+_0x12b747(0x2ce)+_0x3bdc0d+'?',![]);if(!_0x516687)return;closeAllSheets(),showToast(_0x12b747(0x209)),lastUserActionTime=Date[_0x12b747(0x1e1)]();const _0x1de7be=currentSession[_0x12b747(0x214)],_0x20a47b=currentSession['id'],[_0x49b055,_0x1474aa]=currentSession[_0x12b747(0x27d)][_0x12b747(0x284)](':')[_0x12b747(0x256)](Number),[_0x47e446,_0x4949ff]=currentSession[_0x12b747(0x296)][_0x12b747(0x284)](':')[_0x12b747(0x256)](Number),_0x6ed764=_0x47e446*0x3c+_0x4949ff-(_0x49b055*0x3c+_0x1474aa),[_0x322ee4,_0x500046]=_0x3bdc0d[_0x12b747(0x284)](':')[_0x12b747(0x256)](Number),_0x1c861f=_0x322ee4*0x3c+_0x500046+_0x6ed764,_0x1f0f82=Math[_0x12b747(0x200)](_0x1c861f/0x3c),_0x1a7f7d=_0x1c861f%0x3c,_0x2b9ec0=String(_0x1f0f82)[_0x12b747(0x208)](0x2,'0')+':'+String(_0x1a7f7d)[_0x12b747(0x208)](0x2,'0'),_0x4bde78=sessions[_0x12b747(0x1f6)](_0x95ded4=>_0x95ded4['id']===_0x20a47b);_0x4bde78!==-0x1&&(sessions[_0x4bde78]['dateStr']=selectedRsDate,sessions[_0x4bde78][_0x12b747(0x27d)]=_0x3bdc0d,sessions[_0x4bde78][_0x12b747(0x296)]=_0x2b9ec0,reRenderBlocks());try{const _0x364490=window[_0x12b747(0x292)]?.[_0x12b747(0x22a)],_0x519a2e=await fetch(API_URL,{'method':_0x12b747(0x22c),'body':JSON[_0x12b747(0x24a)]({'action':'reschedule','init_data':_0x364490?.[_0x12b747(0x247)]||'','oldSessionId':_0x20a47b,'oldDate':_0x1de7be,'newDate':selectedRsDate,'newTime':_0x3bdc0d,'coachId':currentSession[_0x12b747(0x2cd)]})}),_0x3357a2=await _0x519a2e[_0x12b747(0x20d)]();!_0x3357a2['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x12b747(0x263)),DataManager[_0x12b747(0x2aa)]());}catch(_0x3a8126){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x2373d8(0x251)](a3_0x2373d8(0x215),init);