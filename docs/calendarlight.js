function a3_0x5e3b(_0x34dd4e,_0x3abe8e){_0x34dd4e=_0x34dd4e-0x14d;const _0x455c60=a3_0x43cd();let _0x8d7c69=_0x455c60[_0x34dd4e];return _0x8d7c69;}const a3_0x3a09bb=a3_0x5e3b;(function(_0x4afdb2,_0x2939be){const _0x5c4092=a3_0x5e3b,_0x549ac1=_0x4afdb2();while(!![]){try{const _0x159c04=-parseInt(_0x5c4092(0x16d))/0x1*(-parseInt(_0x5c4092(0x22a))/0x2)+parseInt(_0x5c4092(0x195))/0x3+-parseInt(_0x5c4092(0x173))/0x4+parseInt(_0x5c4092(0x235))/0x5+-parseInt(_0x5c4092(0x209))/0x6*(-parseInt(_0x5c4092(0x193))/0x7)+-parseInt(_0x5c4092(0x217))/0x8+-parseInt(_0x5c4092(0x18e))/0x9*(parseInt(_0x5c4092(0x1f6))/0xa);if(_0x159c04===_0x2939be)break;else _0x549ac1['push'](_0x549ac1['shift']());}catch(_0x2e2996){_0x549ac1['push'](_0x549ac1['shift']());}}}(a3_0x43cd,0xe593b));function a3_0x43cd(){const _0x8747ed=['cancelHint','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','cancelled','all','data','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','cancelContainer','setHours','querySelector','#0a84ff','join','getDay','getAttribute','split','startsWith','\x20–∏–∑\x20','DOMContentLoaded','today','timeColumn','Telegram','blocked-range-part\x20stripe-bg','#050505','top','client_load','(((.+)+)+)+$','classList','max','scrollTop','user','var(--acc-green)','end','length','uc_client_settings','firstChild','apply','BackButton','rsSlotsGrid','gridColumns','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','completed','.btn-cancel','ranges','.rs-date-chip','month','then','show','rgba(','</div><div\x20class=\x22rs-day-num\x22>','colIndex','11170mYXPpu','week','setMonth','onclick','<div\x20class=\x22dch-day\x22>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','map','WebApp','slice','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','button','exceptions','.day-col-header','rs-time-btn','matrixViewport','T00:00:00','1962QhOmkP','ccText','</div><div\x20class=\x22dch-num\x22>','anTotalStats','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','toast','analyticsSheet','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','className','flex','json','ready','%\x20-\x204px)','start','2025312KbvtyY','scrollTo','fontWeight','\x20-\x20','setAttribute','getFullYear','innerHTML','location','setHeaderColor','anEnd','client_cancel','createElement','height','disableVerticalSwipes','setBackgroundColor','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','day-off-overlay\x20stripe-bg','ru-RU','2aNhdIK','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','setDate','style','note','getTime','ccTitle','forEach','time-label','test','coachId','6277935fETKny','log','borderLeftColor','day-col-header\x20','padStart','pattern','.day-column','substr','scroll','expand','done','offsetLeft','entries','remove','customConfirm','charAt','clients','display','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','rescheduleSheet','block','appendChild','POST','active','Error\x20setting\x20color:','coach_profiles','rgba(10,\x20132,\x20255,\x20','Error\x20setting\x20back\x20button:','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','day-column\x20','constructor','detDate','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','long','cid','total','round','setItem','getItem','offClick','sort','dateStr','clientId','add','clientWidth','min','mini','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','querySelectorAll','color','keys','createDocumentFragment','daysHeaderTrack','1875875ZsspSZ','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','</div>','globalTimeLine','zIndex','calendar','4434704yzmJWr','seriesId','addEventListener','.sheet','syncLoad','search','blocked-slot\x20stripe-bg','detNote','</span>\x20/\x20','getMonth','data-day-idx','px\x20-','uc_client_list','anDonutCircle','numeric','insertBefore','planned','value','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rsDatesTrack','stringify','.period-switch\x20.p-btn','toString','calc(','<span>','parse','#ff453a','16704zHLQrl','headerMonth','textContent','600','uc_client_sessions','22582zQNvKF','var(--acc-blue)','566925eEocfw','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','applyData','Critical\x20TMA\x20Error:','–û—Ç–º–µ–Ω–µ–Ω–æ','client-stat-card','overlay','isArray','settings','findIndex','cancel_window','getElementById','detailsSheet','toUpperCase','T23:59:59','scrollLeft','open','data-date','status','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','backgroundColor','backgroundPosition','–∑–∞\x20','scrollWidth','getDate','error','rs-date-chip','saveLocally','router.html','initData','getMinutes','filter','anCustomDates','\x20status-completed','timeLineBadge','visible','none','stopPropagation','get_slots','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anStart','auto','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div'];a3_0x43cd=function(){return _0x8747ed;};return a3_0x43cd();}const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x3a09bb(0x192),KEY_SETTINGS=a3_0x3a09bb(0x1e5),KEY_CLIENTS=a3_0x3a09bb(0x17f);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3a09bb(0x1f7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5bb17f=a3_0x3a09bb,_0x2ba6bc=(function(){let _0x581558=!![];return function(_0x50fc86,_0x310f4d){const _0x525046=_0x581558?function(){const _0x34f75f=a3_0x5e3b;if(_0x310f4d){const _0x4043cd=_0x310f4d[_0x34f75f(0x1e7)](_0x50fc86,arguments);return _0x310f4d=null,_0x4043cd;}}:function(){};return _0x581558=![],_0x525046;};}()),_0x44fee9=_0x2ba6bc(this,function(){const _0x1b6daa=a3_0x5e3b;return _0x44fee9[_0x1b6daa(0x189)]()[_0x1b6daa(0x178)](_0x1b6daa(0x1dd))[_0x1b6daa(0x189)]()[_0x1b6daa(0x156)](_0x44fee9)['search'](_0x1b6daa(0x1dd));});_0x44fee9();try{const _0x27fb12=window[_0x5bb17f(0x1d8)]?.['WebApp'];if(!_0x27fb12)return;_0x27fb12[_0x5bb17f(0x214)](),_0x27fb12[_0x5bb17f(0x23e)]();try{_0x27fb12[_0x5bb17f(0x21f)](_0x5bb17f(0x1da)),_0x27fb12[_0x5bb17f(0x225)]&&_0x27fb12[_0x5bb17f(0x225)]('#050505');}catch(_0x45a98b){console[_0x5bb17f(0x236)](_0x5bb17f(0x14f),_0x45a98b);}try{_0x27fb12['BackButton']&&(_0x27fb12[_0x5bb17f(0x1e8)][_0x5bb17f(0x1f2)](),_0x27fb12[_0x5bb17f(0x1e8)][_0x5bb17f(0x15f)](),_0x27fb12[_0x5bb17f(0x1e8)]['onClick'](function(){const _0x4b284a=_0x5bb17f;window[_0x4b284a(0x21e)][_0x4b284a(0x1bc)]=_0x4b284a(0x1b1);}));}catch(_0x2a15a5){console[_0x5bb17f(0x236)](_0x5bb17f(0x152),_0x2a15a5);}try{if(_0x27fb12[_0x5bb17f(0x224)])_0x27fb12[_0x5bb17f(0x224)]();}catch(_0xfa80ce){}}catch(_0x26d7ac){console[_0x5bb17f(0x1ae)](_0x5bb17f(0x198),_0x26d7ac);}}());function isAdmin(){const _0x3994c7=a3_0x3a09bb;try{const _0x5723ce=Number(window[_0x3994c7(0x1d8)]?.[_0x3994c7(0x1fe)]?.['initDataUnsafe']?.[_0x3994c7(0x1e1)]?.['id']);return _0x5723ce===0xbaf7174;}catch(_0x5069da){return![];}}const DataManager={'saveLocally'(){const _0x3f0798=a3_0x3a09bb;try{localStorage[_0x3f0798(0x15d)](KEY_SESSIONS,JSON[_0x3f0798(0x187)](sessions)),localStorage[_0x3f0798(0x15d)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3f0798(0x15d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x15ee45){}},'loadLocal'(){const _0x463ce8=a3_0x3a09bb;try{const _0x37f8ef=localStorage[_0x463ce8(0x15e)](KEY_SESSIONS);if(_0x37f8ef)sessions=JSON[_0x463ce8(0x18c)](_0x37f8ef);const _0x133a31=localStorage['getItem'](KEY_CLIENTS);if(_0x133a31)clients=JSON[_0x463ce8(0x18c)](_0x133a31);const _0x411026=localStorage[_0x463ce8(0x15e)](KEY_SETTINGS);if(_0x411026){const _0x128d97=JSON['parse'](_0x411026);if(_0x128d97[_0x463ce8(0x23a)])availabilityPattern=_0x128d97[_0x463ce8(0x23a)];if(_0x128d97[_0x463ce8(0x1ee)])specialRanges=_0x128d97['ranges'];if(_0x128d97[_0x463ce8(0x204)])dateExceptions=_0x128d97[_0x463ce8(0x204)];}}catch(_0x3eaa96){}},async 'syncLoad'(){const _0xfc379d=a3_0x3a09bb,_0x4ea869=new Date(),_0x2fb243=_0x4ea869[_0xfc379d(0x21c)]()+'-'+String(_0x4ea869[_0xfc379d(0x17c)]()+0x1)['padStart'](0x2,'0'),_0x2dc95d=new Date(_0x4ea869);_0x2dc95d[_0xfc379d(0x1f8)](_0x4ea869[_0xfc379d(0x17c)]()+0x1);const _0x19e6f1=_0x2dc95d['getFullYear']()+'-'+String(_0x2dc95d[_0xfc379d(0x17c)]()+0x1)['padStart'](0x2,'0'),_0xd54f3e=Date[_0xfc379d(0x226)]();try{const _0x6aa200=window[_0xfc379d(0x1d8)]?.[_0xfc379d(0x1fe)],_0x5b7fa6=_0x6aa200?.[_0xfc379d(0x1b2)]||'',[_0x384a5d,_0x52b60a]=await Promise[_0xfc379d(0x1c8)]([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x5b7fa6,'month_str':_0x2fb243})})[_0xfc379d(0x1f1)](_0x4ed370=>_0x4ed370['json']()),fetch(API_URL,{'method':_0xfc379d(0x14d),'body':JSON[_0xfc379d(0x187)]({'action':_0xfc379d(0x1dc),'init_data':_0x5b7fa6,'month_str':_0x19e6f1})})[_0xfc379d(0x1f1)](_0x4f403b=>_0x4f403b[_0xfc379d(0x213)]())]);if(lastUserActionTime>_0xd54f3e){console[_0xfc379d(0x236)](_0xfc379d(0x167));return;}if(_0x384a5d['ok'])this[_0xfc379d(0x197)](_0x384a5d['data'],_0x2fb243);if(_0x52b60a['ok'])this[_0xfc379d(0x197)](_0x52b60a[_0xfc379d(0x1c9)],_0x19e6f1);this[_0xfc379d(0x1b0)]();}catch(_0x37772f){}},'applyData'(_0x189182,_0x545560){const _0x5a3127=a3_0x3a09bb;if(!_0x189182)return;if(_0x189182[_0x5a3127(0x19d)]){if(_0x189182[_0x5a3127(0x19d)]['pattern'])availabilityPattern=_0x189182['settings'][_0x5a3127(0x23a)];if(_0x189182[_0x5a3127(0x19d)][_0x5a3127(0x1ee)])specialRanges=_0x189182['settings'][_0x5a3127(0x1ee)];if(_0x189182[_0x5a3127(0x19d)][_0x5a3127(0x204)])dateExceptions=_0x189182[_0x5a3127(0x19d)][_0x5a3127(0x204)];}if(_0x189182[_0x5a3127(0x245)]&&Array[_0x5a3127(0x19c)](_0x189182['clients']))clients=_0x189182[_0x5a3127(0x245)];_0x189182[_0x5a3127(0x150)]&&(coachProfiles={...coachProfiles,..._0x189182[_0x5a3127(0x150)]}),_0x189182[_0x5a3127(0x172)]&&(sessions=sessions['filter'](_0x3bce1d=>!_0x3bce1d[_0x5a3127(0x161)][_0x5a3127(0x1d3)](_0x545560)),Object[_0x5a3127(0x16a)](_0x189182[_0x5a3127(0x172)])[_0x5a3127(0x231)](_0x5219fc=>{const _0x8ea311=_0x5a3127,_0x4bd4ce=_0x189182[_0x8ea311(0x172)][_0x5219fc];_0x4bd4ce[_0x8ea311(0x231)](_0x5bbea6=>{const _0x604bc4=_0x8ea311;sessions[_0x604bc4(0x201)]({'id':_0x5bbea6['i'],'clientId':_0x5bbea6['c'],'coachId':_0x5bbea6[_0x604bc4(0x15a)],'dateStr':_0x545560+'-'+_0x5219fc['padStart'](0x2,'0'),'start':_0x5bbea6['s'],'end':_0x5bbea6['e'],'note':_0x5bbea6['n']||'','status':_0x5bbea6['st']||_0x604bc4(0x183),'seriesId':_0x5bbea6['sid']});});})),reRenderBlocks();}};function init(){const _0x9b096f=a3_0x3a09bb;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x9b096f(0x1a0)](_0x9b096f(0x207))[_0x9b096f(0x175)](_0x9b096f(0x23d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x9b096f(0x177)]();}function renderTimeColumn(){const _0x3e603a=a3_0x3a09bb,_0xf7f42e=document[_0x3e603a(0x1a0)](_0x3e603a(0x1d7)),_0x56caf0=document['getElementById'](_0x3e603a(0x1b7));_0xf7f42e[_0x3e603a(0x21d)]='',_0xf7f42e['appendChild'](_0x56caf0);for(let _0x146188=0x0;_0x146188<0x18;_0x146188++){const _0x18bd33=document[_0x3e603a(0x222)](_0x3e603a(0x1c1));_0x18bd33[_0x3e603a(0x211)]=_0x3e603a(0x232);if(_0x146188>0x0)_0x18bd33[_0x3e603a(0x21d)]=_0x3e603a(0x18b)+String(_0x146188)[_0x3e603a(0x239)](0x2,'0')+':00</span>';_0xf7f42e['appendChild'](_0x18bd33);}}function renderDayRange(_0x4ea6eb,_0x4abd9e){const _0x4a1fdb=a3_0x3a09bb,_0x1242a9=document['getElementById'](_0x4a1fdb(0x16c)),_0x1a90d6=document[_0x4a1fdb(0x1a0)](_0x4a1fdb(0x1ea)),_0x13e5f1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3fe6f2=new Date();_0x3fe6f2['setHours'](0x0,0x0,0x0,0x0);const _0x4f32b7=getLocalDateStr(new Date());for(let _0x2fb8cd=_0x4ea6eb;_0x2fb8cd<=_0x4abd9e;_0x2fb8cd++){const _0x44b3f1=new Date(_0x3fe6f2);_0x44b3f1[_0x4a1fdb(0x22c)](_0x44b3f1[_0x4a1fdb(0x1ad)]()+_0x2fb8cd);const _0x425ee2=getLocalDateStr(_0x44b3f1);let _0x1b8959=_0x44b3f1[_0x4a1fdb(0x1d0)]()-0x1;if(_0x1b8959===-0x1)_0x1b8959=0x6;const _0xdbf91b=_0x425ee2===_0x4f32b7,_0x371d26=document['createElement'](_0x4a1fdb(0x1c1));_0x371d26[_0x4a1fdb(0x211)]='day-col-header\x20'+(_0xdbf91b?_0x4a1fdb(0x1d6):''),_0x371d26[_0x4a1fdb(0x21b)]('data-date',_0x425ee2),_0x371d26['innerHTML']=_0x4a1fdb(0x1fa)+_0x13e5f1[_0x1b8959]+_0x4a1fdb(0x20b)+_0x44b3f1[_0x4a1fdb(0x1ad)]()+_0x4a1fdb(0x16f),_0x1242a9[_0x4a1fdb(0x24a)](_0x371d26);const _0x14391e=document[_0x4a1fdb(0x222)](_0x4a1fdb(0x1c1));_0x14391e[_0x4a1fdb(0x211)]=_0x4a1fdb(0x155)+(_0xdbf91b?_0x4a1fdb(0x1d6):''),_0x14391e[_0x4a1fdb(0x21b)](_0x4a1fdb(0x1a6),_0x425ee2),_0x14391e[_0x4a1fdb(0x21b)](_0x4a1fdb(0x17d),_0x1b8959),_0x1a90d6[_0x4a1fdb(0x24a)](_0x14391e);}}function reRenderBlocks(){const _0x27f05a=a3_0x3a09bb;document[_0x27f05a(0x168)](_0x27f05a(0x23b))['forEach'](_0x180a60=>{const _0x229d0d=_0x27f05a;_0x180a60[_0x229d0d(0x168)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x1d98d0=>_0x1d98d0['remove']());const _0xe851c7=_0x180a60['getAttribute'](_0x229d0d(0x1a6)),_0x4cc1a5=parseInt(_0x180a60[_0x229d0d(0x1d1)](_0x229d0d(0x17d))),_0x211fc4=Math[_0x229d0d(0x15c)](_0x180a60[_0x229d0d(0x240)]);(availabilityPattern[_0x4cc1a5]||[])[_0x229d0d(0x231)](_0x893a9b=>{const _0x861650=_0x229d0d,_0x466553=document[_0x861650(0x222)]('div');_0x466553['className']=_0x861650(0x179),_0x466553[_0x861650(0x22d)][_0x861650(0x1db)]=_0x893a9b*GRID_H+'px',_0x466553[_0x861650(0x22d)]['backgroundPosition']='-'+_0x211fc4+_0x861650(0x17e)+_0x893a9b*GRID_H+'px',_0x180a60['appendChild'](_0x466553);});if(specialRanges[_0x229d0d(0x1e4)]>0x0){const _0x4b7eef=new Date(_0xe851c7+_0x229d0d(0x208))['getTime'](),_0x22246e=new Date(_0xe851c7+_0x229d0d(0x1a3))[_0x229d0d(0x22f)]();specialRanges[_0x229d0d(0x231)](_0x40a97a=>{const _0x4612a6=_0x229d0d,_0x401d18=new Date(_0x40a97a[_0x4612a6(0x216)])[_0x4612a6(0x22f)](),_0xe29f85=new Date(_0x40a97a[_0x4612a6(0x1e3)])[_0x4612a6(0x22f)](),_0x2470b8=Math[_0x4612a6(0x1df)](_0x4b7eef,_0x401d18),_0x339c98=Math[_0x4612a6(0x165)](_0x22246e,_0xe29f85);if(_0x2470b8<_0x339c98){const _0x226263=(_0x2470b8-_0x4b7eef)/0x36ee80*GRID_H,_0x4017a0=(_0x339c98-_0x2470b8)/0x36ee80*GRID_H,_0xd56b83=document[_0x4612a6(0x222)]('div');_0x4017a0>=23.5*GRID_H?(_0xd56b83[_0x4612a6(0x211)]=_0x4612a6(0x228),_0xd56b83[_0x4612a6(0x22d)][_0x4612a6(0x1aa)]='-'+_0x211fc4+'px\x200px'):(_0xd56b83[_0x4612a6(0x211)]=_0x4612a6(0x1d9),_0xd56b83[_0x4612a6(0x22d)][_0x4612a6(0x1db)]=_0x226263+'px',_0xd56b83[_0x4612a6(0x22d)][_0x4612a6(0x223)]=_0x4017a0+'px',_0xd56b83[_0x4612a6(0x22d)][_0x4612a6(0x1aa)]='-'+_0x211fc4+'px\x20-'+_0x226263+'px'),_0x180a60[_0x4612a6(0x24a)](_0xd56b83);}});}renderEventsForColumn(_0x180a60,_0xe851c7);});}function renderEventsForColumn(_0x281a31,_0x25cbee){const _0x23c032=a3_0x3a09bb,_0x346aae=sessions[_0x23c032(0x1b4)](_0x4ed495=>_0x4ed495[_0x23c032(0x161)]===_0x25cbee),_0xc92153=_0x346aae[_0x23c032(0x1fd)](_0x1eb00b=>{const _0x3aa0ee=_0x23c032,[_0x1ee9d6,_0x1ea75a]=_0x1eb00b[_0x3aa0ee(0x216)]['split'](':')[_0x3aa0ee(0x1fd)](Number),[_0x4a3e2b,_0x14460a]=_0x1eb00b[_0x3aa0ee(0x1e3)][_0x3aa0ee(0x1d2)](':')[_0x3aa0ee(0x1fd)](Number);return{'data':_0x1eb00b,'start':_0x1ee9d6*0x3c+_0x1ea75a,'end':_0x4a3e2b*0x3c+_0x14460a,'colIndex':0x0};});_0xc92153[_0x23c032(0x160)]((_0x562e38,_0x40afcf)=>_0x562e38['start']-_0x40afcf[_0x23c032(0x216)]||_0x40afcf[_0x23c032(0x1e3)]-_0x40afcf[_0x23c032(0x216)]-(_0x562e38[_0x23c032(0x1e3)]-_0x562e38[_0x23c032(0x216)]));const _0x4933ef=[];_0xc92153['forEach'](_0x428c53=>{const _0x8332d5=_0x23c032;let _0x12fa88=![];for(let _0x4a3079=0x0;_0x4a3079<_0x4933ef[_0x8332d5(0x1e4)];_0x4a3079++){const _0x4d2c55=_0x4933ef[_0x4a3079];if(_0x428c53['start']>=_0x4d2c55[_0x4d2c55[_0x8332d5(0x1e4)]-0x1]['end']){_0x4d2c55['push'](_0x428c53),_0x428c53[_0x8332d5(0x1f5)]=_0x4a3079,_0x12fa88=!![];break;}}!_0x12fa88&&(_0x4933ef['push']([_0x428c53]),_0x428c53['colIndex']=_0x4933ef[_0x8332d5(0x1e4)]-0x1);}),_0xc92153[_0x23c032(0x231)](_0x57ed91=>{const _0x4ab6ca=_0x23c032;let _0x3d387c=0x0;_0xc92153['forEach'](_0x2085e7=>{const _0x5d2330=a3_0x5e3b;if(Math[_0x5d2330(0x1df)](_0x57ed91[_0x5d2330(0x216)],_0x2085e7[_0x5d2330(0x216)])<Math[_0x5d2330(0x165)](_0x57ed91[_0x5d2330(0x1e3)],_0x2085e7[_0x5d2330(0x1e3)])&&_0x2085e7[_0x5d2330(0x1f5)]>_0x3d387c)_0x3d387c=_0x2085e7[_0x5d2330(0x1f5)];});const _0x10dfc8=_0x3d387c+0x1,_0x3b5b3b=0x64/_0x10dfc8,_0x1480ca=_0x57ed91[_0x4ab6ca(0x1f5)]*_0x3b5b3b,_0xa0abfb=document[_0x4ab6ca(0x222)](_0x4ab6ca(0x1c1)),_0x193b4e=_0x57ed91[_0x4ab6ca(0x1c9)];let _0x2a6f3c=_0x4ab6ca(0x1ce);if(clients&&clients[_0x4ab6ca(0x1e4)]>0x0){const _0x59c943=clients['find'](_0x511323=>String(_0x511323['id'])===String(_0x193b4e[_0x4ab6ca(0x162)]));if(_0x59c943&&_0x59c943['color'])_0x2a6f3c=_0x59c943['color'];}const _0x3386cc=_0x193b4e[_0x4ab6ca(0x1a7)]===_0x4ab6ca(0x1ec),_0x25841c=_0x3386cc?0x1:0.45;_0xa0abfb[_0x4ab6ca(0x211)]='event-card'+(_0x3386cc?_0x4ab6ca(0x1b6):''),_0xa0abfb['style'][_0x4ab6ca(0x1a9)]=hexToRgba(_0x2a6f3c,_0x25841c),_0xa0abfb[_0x4ab6ca(0x22d)][_0x4ab6ca(0x237)]=_0x2a6f3c;const _0x744d5a=_0x57ed91['start']/0x3c*GRID_H,_0x1583d9=(_0x57ed91[_0x4ab6ca(0x1e3)]-_0x57ed91[_0x4ab6ca(0x216)])/0x3c*GRID_H;_0xa0abfb[_0x4ab6ca(0x22d)][_0x4ab6ca(0x1db)]=_0x744d5a+'px',_0xa0abfb[_0x4ab6ca(0x22d)]['height']=Math[_0x4ab6ca(0x1df)](_0x1583d9,0x14)+'px',_0xa0abfb[_0x4ab6ca(0x22d)]['width']=_0x4ab6ca(0x18a)+_0x3b5b3b+_0x4ab6ca(0x215),_0xa0abfb[_0x4ab6ca(0x22d)]['left']=_0x4ab6ca(0x18a)+_0x1480ca+'%\x20+\x202px)',_0xa0abfb[_0x4ab6ca(0x22d)][_0x4ab6ca(0x171)]=0xa+_0x57ed91[_0x4ab6ca(0x1f5)];if(_0x3b5b3b<0x55)_0xa0abfb['classList']['add'](_0x4ab6ca(0x166));let _0x4f4796='';if(_0x193b4e[_0x4ab6ca(0x174)])_0x4f4796+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3386cc)_0x4f4796+=_0x4ab6ca(0x210);_0xa0abfb['innerHTML']=_0x4ab6ca(0x1c4)+_0x193b4e[_0x4ab6ca(0x216)]+_0x4ab6ca(0x21a)+_0x193b4e[_0x4ab6ca(0x1e3)]+_0x4ab6ca(0x1c0)+_0x4f4796+_0x4ab6ca(0x1bd),_0xa0abfb[_0x4ab6ca(0x1f9)]=_0x59c653=>{const _0x4d0f5b=_0x4ab6ca;_0x59c653[_0x4d0f5b(0x1ba)](),openDetails(_0x193b4e);},_0x281a31[_0x4ab6ca(0x24a)](_0xa0abfb);});}function openAnalytics(){const _0x4abca5=a3_0x3a09bb,_0x146a97=document['querySelector'](_0x4abca5(0x188));setAnalyticsPeriod('week',_0x146a97),openSheet(_0x4abca5(0x20f));}function setAnalyticsPeriod(_0x302f1f,_0x21486c){const _0x3ee094=a3_0x3a09bb;currentAnPeriod=_0x302f1f,document['querySelectorAll'](_0x3ee094(0x188))[_0x3ee094(0x231)](_0x5d069d=>_0x5d069d['classList']['remove'](_0x3ee094(0x14e)));if(_0x21486c)_0x21486c[_0x3ee094(0x1de)][_0x3ee094(0x163)](_0x3ee094(0x14e));const _0x5613a9=document[_0x3ee094(0x1a0)](_0x3ee094(0x1b5));_0x5613a9[_0x3ee094(0x22d)][_0x3ee094(0x246)]=_0x302f1f==='custom'?_0x3ee094(0x212):'none';const _0x5b77db=new Date();let _0x4b87f6=new Date(),_0x27eed1=new Date();if(_0x302f1f==='week')_0x4b87f6=getStartOfWeek(_0x5b77db),_0x27eed1=new Date(_0x4b87f6),_0x27eed1[_0x3ee094(0x22c)](_0x27eed1[_0x3ee094(0x1ad)]()+0x6);else{if(_0x302f1f===_0x3ee094(0x1f0))_0x4b87f6=new Date(_0x5b77db[_0x3ee094(0x21c)](),_0x5b77db[_0x3ee094(0x17c)](),0x1),_0x27eed1=new Date(_0x5b77db[_0x3ee094(0x21c)](),_0x5b77db[_0x3ee094(0x17c)]()+0x1,0x0);else{!document['getElementById'](_0x3ee094(0x1be))['value']&&(document[_0x3ee094(0x1a0)]('anStart')[_0x3ee094(0x184)]=getLocalDateStr(_0x5b77db),document[_0x3ee094(0x1a0)](_0x3ee094(0x220))[_0x3ee094(0x184)]=getLocalDateStr(_0x5b77db));refreshAnalytics();return;}}document[_0x3ee094(0x1a0)](_0x3ee094(0x1be))[_0x3ee094(0x184)]=getLocalDateStr(_0x4b87f6),document[_0x3ee094(0x1a0)](_0x3ee094(0x220))[_0x3ee094(0x184)]=getLocalDateStr(_0x27eed1),refreshAnalytics();}function refreshAnalytics(){const _0xd8a8e1=a3_0x3a09bb,_0x2ebbba=document[_0xd8a8e1(0x1a0)](_0xd8a8e1(0x1be))[_0xd8a8e1(0x184)],_0x219c2e=document['getElementById']('anEnd')[_0xd8a8e1(0x184)];if(!_0x2ebbba||!_0x219c2e)return;const _0x385e9e=sessions[_0xd8a8e1(0x1b4)](_0x11ff4a=>_0x11ff4a[_0xd8a8e1(0x161)]>=_0x2ebbba&&_0x11ff4a[_0xd8a8e1(0x161)]<=_0x219c2e&&_0x11ff4a[_0xd8a8e1(0x1a7)]!==_0xd8a8e1(0x1c7)),_0x16ec28=_0x385e9e[_0xd8a8e1(0x1e4)],_0x1dde4e=_0x385e9e['filter'](_0x26b50c=>_0x26b50c[_0xd8a8e1(0x1a7)]===_0xd8a8e1(0x1ec))[_0xd8a8e1(0x1e4)],_0x42f269=_0x16ec28>0x0?Math['round'](_0x1dde4e/_0x16ec28*0x64):0x0;document[_0xd8a8e1(0x1a0)]('anPercent')[_0xd8a8e1(0x190)]=_0x42f269+'%',document[_0xd8a8e1(0x1a0)](_0xd8a8e1(0x20c))[_0xd8a8e1(0x190)]=_0x1dde4e+_0xd8a8e1(0x1d4)+_0x16ec28+_0xd8a8e1(0x185);const _0x5fb0fe=document[_0xd8a8e1(0x1a0)](_0xd8a8e1(0x180)),_0x66fc84=0x2*Math['PI']*0x23,_0xf18e0c=_0x66fc84-_0x42f269/0x64*_0x66fc84;_0x5fb0fe[_0xd8a8e1(0x22d)]['strokeDashoffset']=_0xf18e0c;const _0x7f9177={};_0x385e9e[_0xd8a8e1(0x231)](_0x556520=>{const _0x3a5b67=_0xd8a8e1,_0x55829b=_0x556520[_0x3a5b67(0x234)]||'Unknown';if(!_0x7f9177[_0x55829b]){const _0x2dd0c5='#'+_0x55829b['toString']()[_0x3a5b67(0x23c)](0x0,0x6);_0x7f9177[_0x55829b]={'total':0x0,'done':0x0,'color':_0x2dd0c5};}_0x7f9177[_0x55829b][_0x3a5b67(0x15b)]++;if(_0x556520[_0x3a5b67(0x1a7)]===_0x3a5b67(0x1ec))_0x7f9177[_0x55829b][_0x3a5b67(0x23f)]++;});const _0x42ec35=document[_0xd8a8e1(0x1a0)]('analyticsList');_0x42ec35[_0xd8a8e1(0x21d)]='';const _0x54e5fb=Object[_0xd8a8e1(0x241)](_0x7f9177)[_0xd8a8e1(0x160)]((_0x290b68,_0x3ae0af)=>_0x3ae0af[0x1][_0xd8a8e1(0x15b)]-_0x290b68[0x1][_0xd8a8e1(0x15b)]);if(_0x54e5fb['length']===0x0){_0x42ec35[_0xd8a8e1(0x21d)]=_0xd8a8e1(0x22b);return;}_0x54e5fb[_0xd8a8e1(0x231)](([_0x5ad8eb,_0x5464eb])=>{const _0x442012=_0xd8a8e1,_0x2a364d=Math['round'](_0x5464eb[_0x442012(0x23f)]/_0x5464eb['total']*0x64),_0x438cb3=document[_0x442012(0x222)]('div');_0x438cb3[_0x442012(0x211)]=_0x442012(0x19a),_0x438cb3['style'][_0x442012(0x237)]=_0x5464eb[_0x442012(0x169)],_0x438cb3[_0x442012(0x21d)]=_0x442012(0x227)+_0x5ad8eb['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5464eb[_0x442012(0x23f)]+_0x442012(0x17b)+_0x5464eb[_0x442012(0x15b)]+_0x442012(0x1c6)+_0x2a364d+_0x442012(0x200),_0x42ec35['appendChild'](_0x438cb3);});}function openDetails(_0x23825b){const _0x2984be=a3_0x3a09bb;currentSession=_0x23825b;const _0x1cf8b2=new Date(_0x23825b[_0x2984be(0x161)]),_0x248372=_0x1cf8b2['toLocaleDateString'](_0x2984be(0x229),{'weekday':_0x2984be(0x159),'day':_0x2984be(0x181),'month':'long'});document[_0x2984be(0x1a0)](_0x2984be(0x157))[_0x2984be(0x190)]=_0x248372[_0x2984be(0x244)](0x0)[_0x2984be(0x1a2)]()+_0x248372[_0x2984be(0x1ff)](0x1),document[_0x2984be(0x1a0)]('detTime')['textContent']=_0x23825b[_0x2984be(0x216)]+_0x2984be(0x21a)+_0x23825b[_0x2984be(0x1e3)],document['getElementById'](_0x2984be(0x17a))[_0x2984be(0x190)]=_0x23825b[_0x2984be(0x22e)]||_0x2984be(0x1fb);const _0x57bcce=document[_0x2984be(0x1a0)]('detStatus'),_0x335d17=document[_0x2984be(0x1a0)](_0x2984be(0x1cb)),_0x8f2dae=_0x335d17[_0x2984be(0x1cd)](_0x2984be(0x1ed)),_0x122aef=_0x335d17['querySelector']('.btn-reschedule'),_0x540f21=document[_0x2984be(0x1a0)](_0x2984be(0x1c2));if(_0x23825b[_0x2984be(0x1a7)]===_0x2984be(0x1ec))_0x57bcce[_0x2984be(0x190)]=_0x2984be(0x1ca),_0x57bcce[_0x2984be(0x22d)][_0x2984be(0x169)]=_0x2984be(0x1e2),_0x335d17[_0x2984be(0x22d)]['display']=_0x2984be(0x1b9);else{_0x57bcce[_0x2984be(0x190)]=_0x2984be(0x16e),_0x57bcce['style']['color']=_0x2984be(0x194),_0x335d17['style']['display']=_0x2984be(0x249);const _0x2dee5d=new Date(_0x23825b[_0x2984be(0x161)]+'T'+_0x23825b[_0x2984be(0x216)]),_0x19eec2=new Date(),_0x43d5b9=(_0x2dee5d-_0x19eec2)/(0x3e8*0x3c*0x3c),_0x3717e3=coachProfiles[_0x23825b['coachId']]&&coachProfiles[_0x23825b[_0x2984be(0x234)]][_0x2984be(0x19f)]?parseInt(coachProfiles[_0x23825b[_0x2984be(0x234)]][_0x2984be(0x19f)]):0x18;if(_0x3717e3===0x0||_0x43d5b9>=_0x3717e3)_0x8f2dae[_0x2984be(0x22d)][_0x2984be(0x246)]=_0x2984be(0x249),_0x122aef[_0x2984be(0x22d)][_0x2984be(0x246)]=_0x2984be(0x249),_0x540f21[_0x2984be(0x22d)][_0x2984be(0x246)]=_0x2984be(0x1b9);else{_0x8f2dae['style']['display']=_0x2984be(0x1b9),_0x122aef['style'][_0x2984be(0x246)]=_0x2984be(0x1b9),_0x540f21[_0x2984be(0x22d)]['display']='block';let _0xe62fd0=_0x3717e3===0x0?_0x2984be(0x202):_0x2984be(0x1ab)+_0x3717e3+'\x20—á.';_0x540f21['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0xe62fd0+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x2984be(0x19b))[_0x2984be(0x1de)][_0x2984be(0x163)]('active'),document['getElementById'](_0x2984be(0x1a1))[_0x2984be(0x1de)][_0x2984be(0x163)](_0x2984be(0x1a5));}function closeAllSheets(){const _0x219995=a3_0x3a09bb;document['getElementById'](_0x219995(0x19b))['classList'][_0x219995(0x242)]('active'),document['querySelectorAll'](_0x219995(0x176))[_0x219995(0x231)](_0x50b76e=>_0x50b76e[_0x219995(0x1de)][_0x219995(0x242)](_0x219995(0x1a5)));}function openSheet(_0x1cfa76){const _0x47977e=a3_0x3a09bb;document[_0x47977e(0x1a0)](_0x47977e(0x19b))[_0x47977e(0x1de)][_0x47977e(0x163)]('active'),document[_0x47977e(0x1a0)](_0x1cfa76)[_0x47977e(0x1de)][_0x47977e(0x163)](_0x47977e(0x1a5));}function getLocalDateStr(_0x4eca0c){const _0x4b953a=a3_0x3a09bb,_0x57291a=_0x4eca0c['getFullYear'](),_0x3a6651=String(_0x4eca0c[_0x4b953a(0x17c)]()+0x1)[_0x4b953a(0x239)](0x2,'0'),_0x1b3ea3=String(_0x4eca0c['getDate']())['padStart'](0x2,'0');return _0x57291a+'-'+_0x3a6651+'-'+_0x1b3ea3;}function getStartOfWeek(_0x5b73f3){const _0x58a43f=a3_0x3a09bb,_0x265fcf=new Date(_0x5b73f3),_0x4a0cec=_0x265fcf['getDay'](),_0x31b550=_0x265fcf[_0x58a43f(0x1ad)]()-_0x4a0cec+(_0x4a0cec===0x0?-0x6:0x1);return _0x265fcf[_0x58a43f(0x22c)](_0x31b550),_0x265fcf[_0x58a43f(0x1cc)](0x0,0x0,0x0,0x0),_0x265fcf;}function scrollToToday(){const _0x37c365=getLocalDateStr(new Date());setTimeout(()=>{const _0x58c8f0=a3_0x5e3b,_0xdfdc8=document['querySelector']('.day-col-header[data-date=\x22'+_0x37c365+'\x22]');if(_0xdfdc8){const _0x34c5df=document[_0x58c8f0(0x1a0)](_0x58c8f0(0x207)),_0x2fc65d=_0xdfdc8[_0x58c8f0(0x240)]-_0x34c5df[_0x58c8f0(0x164)]/0x2+_0xdfdc8['offsetWidth']/0x2;_0x34c5df[_0x58c8f0(0x218)]({'left':_0x2fc65d,'behavior':_0x58c8f0(0x1bf)}),_0x34c5df[_0x58c8f0(0x1e0)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x25e0d6=a3_0x3a09bb,_0x2ee039=new Date(),_0x28aee9=document['getElementById'](_0x25e0d6(0x170)),_0x5d6c02=document[_0x25e0d6(0x1a0)](_0x25e0d6(0x1b7)),_0x2c7fc7=(_0x2ee039['getHours']()*0x3c+_0x2ee039[_0x25e0d6(0x1b3)]())/0x3c*GRID_H;_0x28aee9['style'][_0x25e0d6(0x1db)]=_0x2c7fc7+'px',_0x28aee9[_0x25e0d6(0x22d)][_0x25e0d6(0x246)]='block',_0x5d6c02[_0x25e0d6(0x22d)][_0x25e0d6(0x1db)]=_0x2c7fc7+'px',_0x5d6c02['style']['display']=_0x25e0d6(0x249),_0x5d6c02[_0x25e0d6(0x190)]=String(_0x2ee039['getHours']())[_0x25e0d6(0x239)](0x2,'0')+':'+String(_0x2ee039[_0x25e0d6(0x1b3)]())['padStart'](0x2,'0');}function onScroll(){const _0x1c7e8e=a3_0x3a09bb,_0x529efa=document[_0x1c7e8e(0x1a0)]('matrixViewport'),_0x45fe62=document[_0x1c7e8e(0x168)](_0x1c7e8e(0x205));for(let _0x443fb8 of _0x45fe62)if(_0x443fb8[_0x1c7e8e(0x240)]>=_0x529efa[_0x1c7e8e(0x1a4)]){const _0x172a35=new Date(_0x443fb8[_0x1c7e8e(0x1d1)](_0x1c7e8e(0x1a6)));document[_0x1c7e8e(0x1a0)](_0x1c7e8e(0x18f))['textContent']=_0x172a35['toLocaleString']('ru',{'month':'long'})[_0x1c7e8e(0x1a2)]()+'\x20'+_0x172a35[_0x1c7e8e(0x21c)]();break;}}function showToast(_0x27a284){const _0x590d8a=a3_0x3a09bb,_0x223d81=document['getElementById'](_0x590d8a(0x20e));_0x223d81[_0x590d8a(0x190)]=_0x27a284,_0x223d81[_0x590d8a(0x1de)][_0x590d8a(0x163)](_0x590d8a(0x1f2)),setTimeout(()=>_0x223d81[_0x590d8a(0x1de)]['remove'](_0x590d8a(0x1f2)),0x7d0);}function handleInfiniteScroll(){const _0x47b888=a3_0x3a09bb,_0x49cfb8=document[_0x47b888(0x1a0)](_0x47b888(0x207)),_0x2ee40=_0x49cfb8[_0x47b888(0x1a4)],_0x314cb3=_0x49cfb8[_0x47b888(0x1ac)],_0x555d92=_0x49cfb8[_0x47b888(0x164)];if(_0x314cb3-(_0x2ee40+_0x555d92)<0x12c){const _0x4bbbdc=endOffset;endOffset+=0xe,renderDayRange(_0x4bbbdc+0x1,endOffset),reRenderBlocks();}if(_0x2ee40<0x12c){const _0x554574=startOffset;startOffset-=0xe,prependDays(startOffset,_0x554574-0x1),_0x49cfb8[_0x47b888(0x1a4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3b1ee0,_0xca845a){const _0x107afe=a3_0x3a09bb,_0x49c1af=document[_0x107afe(0x1a0)](_0x107afe(0x16c)),_0x2d4548=document[_0x107afe(0x1a0)](_0x107afe(0x1ea)),_0x130bd7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x28310c=new Date();_0x28310c[_0x107afe(0x1cc)](0x0,0x0,0x0,0x0);const _0x355a51=getLocalDateStr(new Date()),_0x35548e=document[_0x107afe(0x16b)](),_0xa6c674=document['createDocumentFragment']();for(let _0x5a24ab=_0x3b1ee0;_0x5a24ab<=_0xca845a;_0x5a24ab++){const _0x2757cd=new Date(_0x28310c);_0x2757cd[_0x107afe(0x22c)](_0x2757cd[_0x107afe(0x1ad)]()+_0x5a24ab);const _0x11cd7c=getLocalDateStr(_0x2757cd);let _0x43d95c=_0x2757cd[_0x107afe(0x1d0)]()-0x1;if(_0x43d95c===-0x1)_0x43d95c=0x6;const _0xe34068=_0x11cd7c===_0x355a51,_0x47766e=document['createElement'](_0x107afe(0x1c1));_0x47766e[_0x107afe(0x211)]=_0x107afe(0x238)+(_0xe34068?'today':''),_0x47766e[_0x107afe(0x21b)](_0x107afe(0x1a6),_0x11cd7c),_0x47766e[_0x107afe(0x21d)]='<div\x20class=\x22dch-day\x22>'+_0x130bd7[_0x43d95c]+_0x107afe(0x20b)+_0x2757cd[_0x107afe(0x1ad)]()+_0x107afe(0x16f),_0x35548e[_0x107afe(0x24a)](_0x47766e);const _0x2bf1bb=document[_0x107afe(0x222)](_0x107afe(0x1c1));_0x2bf1bb[_0x107afe(0x211)]=_0x107afe(0x155)+(_0xe34068?_0x107afe(0x1d6):''),_0x2bf1bb[_0x107afe(0x21b)](_0x107afe(0x1a6),_0x11cd7c),_0x2bf1bb[_0x107afe(0x21b)]('data-day-idx',_0x43d95c),_0xa6c674[_0x107afe(0x24a)](_0x2bf1bb);}_0x49c1af['insertBefore'](_0x35548e,_0x49c1af[_0x107afe(0x1e6)]),_0x2d4548[_0x107afe(0x182)](_0xa6c674,_0x2d4548['querySelector'](_0x107afe(0x23b)));}function hexToRgba(_0x180063,_0x2f7e84){const _0x59ba3e=a3_0x3a09bb;let _0x246140;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x59ba3e(0x233)](_0x180063))return _0x246140=_0x180063[_0x59ba3e(0x1c3)](0x1)[_0x59ba3e(0x1d2)](''),_0x246140[_0x59ba3e(0x1e4)]==0x3&&(_0x246140=[_0x246140[0x0],_0x246140[0x0],_0x246140[0x1],_0x246140[0x1],_0x246140[0x2],_0x246140[0x2]]),_0x246140='0x'+_0x246140[_0x59ba3e(0x1cf)](''),_0x59ba3e(0x1f3)+[_0x246140>>0x10&0xff,_0x246140>>0x8&0xff,_0x246140&0xff][_0x59ba3e(0x1cf)](',')+','+_0x2f7e84+')';return _0x59ba3e(0x151)+_0x2f7e84+')';}let confirmResolver=null;function showCustomConfirm(_0x351456,_0x5aef41,_0x559e7d=!![]){const _0x261bbc=a3_0x3a09bb;document[_0x261bbc(0x1a0)](_0x261bbc(0x230))[_0x261bbc(0x190)]=_0x351456,document[_0x261bbc(0x1a0)](_0x261bbc(0x20a))[_0x261bbc(0x190)]=_0x5aef41;const _0x277b41=document[_0x261bbc(0x1a0)]('ccYesBtn');return _0x559e7d?(_0x277b41[_0x261bbc(0x22d)][_0x261bbc(0x169)]=_0x261bbc(0x18d),_0x277b41['style'][_0x261bbc(0x219)]=_0x261bbc(0x191)):(_0x277b41[_0x261bbc(0x22d)]['color']='#0a84ff',_0x277b41[_0x261bbc(0x22d)]['fontWeight']='600'),new Promise(_0x1263de=>{const _0xa35174=_0x261bbc;confirmResolver=_0x1263de,document['getElementById'](_0xa35174(0x243))[_0xa35174(0x1de)][_0xa35174(0x163)](_0xa35174(0x1b8));});}function resolveCustomConfirm(_0x3c1c87){const _0x42573a=a3_0x3a09bb;document[_0x42573a(0x1a0)](_0x42573a(0x243))[_0x42573a(0x1de)][_0x42573a(0x242)](_0x42573a(0x1b8));if(confirmResolver)confirmResolver(_0x3c1c87);}async function tryCancelCurrentSession(){const _0x3b0c41=a3_0x3a09bb;if(!currentSession)return;const _0x46781f=await showCustomConfirm(_0x3b0c41(0x1c5),_0x3b0c41(0x158),!![]);if(!_0x46781f)return;const _0x55e507=currentSession;closeAllSheets(),sessions=sessions[_0x3b0c41(0x1b4)](_0x5ea3ad=>_0x5ea3ad['id']!==_0x55e507['id']),reRenderBlocks(),showToast(_0x3b0c41(0x199)),lastUserActionTime=Date[_0x3b0c41(0x226)]();try{const _0x1f7c25=window[_0x3b0c41(0x1d8)]?.['WebApp'],_0x4dee40=await fetch(API_URL,{'method':'POST','body':JSON[_0x3b0c41(0x187)]({'action':_0x3b0c41(0x221),'init_data':_0x1f7c25?.[_0x3b0c41(0x1b2)]||'','coachId':_0x55e507[_0x3b0c41(0x234)],'dateStr':_0x55e507['dateStr'],'sessionId':_0x55e507['id']})});if(_0x4dee40['ok'])DataManager[_0x3b0c41(0x1b0)]();}catch(_0x2d8b44){showToast(_0x3b0c41(0x153));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x18378f=a3_0x3a09bb;if(!currentSession)return;document[_0x18378f(0x1a0)](_0x18378f(0x1a1))['classList'][_0x18378f(0x242)](_0x18378f(0x1a5)),document['getElementById'](_0x18378f(0x248))['classList'][_0x18378f(0x163)](_0x18378f(0x1a5));const _0x3dcf52=document[_0x18378f(0x1a0)]('rsDatesTrack'),_0x4b757e=document['getElementById'](_0x18378f(0x1e9));_0x3dcf52[_0x18378f(0x21d)]='',_0x4b757e[_0x18378f(0x21d)]=_0x18378f(0x20d);const [_0x25526f,_0x5d90d1]=currentSession[_0x18378f(0x216)][_0x18378f(0x1d2)](':')['map'](Number),[_0x3dbcf3,_0x18ee8f]=currentSession[_0x18378f(0x1e3)][_0x18378f(0x1d2)](':')[_0x18378f(0x1fd)](Number),_0x59caeb=_0x3dbcf3*0x3c+_0x18ee8f-(_0x25526f*0x3c+_0x5d90d1);try{const _0x5ca0fb=window['Telegram']?.[_0x18378f(0x1fe)],_0x5d169b=await fetch(API_URL,{'method':_0x18378f(0x14d),'body':JSON['stringify']({'action':_0x18378f(0x1bb),'coachId':currentSession['coachId'],'duration':_0x59caeb,'init_data':_0x5ca0fb?.['initData']||'','excludeSessionId':currentSession['id']})}),_0xb48130=await _0x5d169b[_0x18378f(0x213)]();_0xb48130['ok']&&_0xb48130[_0x18378f(0x1c9)]?(availableSlotsCache=_0xb48130[_0x18378f(0x1c9)],renderRescheduleDates()):_0x4b757e[_0x18378f(0x21d)]=_0x18378f(0x247);}catch(_0x596b7f){_0x4b757e['innerHTML']=_0x18378f(0x1fc);}}function renderRescheduleDates(){const _0x4e501f=a3_0x3a09bb,_0x4b1392=document['getElementById'](_0x4e501f(0x186));_0x4b1392['innerHTML']='';const _0x56446a=Object['keys'](availableSlotsCache)['sort'](),_0x4733df=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x56446a[_0x4e501f(0x1e4)]===0x0){document[_0x4e501f(0x1a0)](_0x4e501f(0x1e9))[_0x4e501f(0x21d)]=_0x4e501f(0x1a8);return;}_0x56446a[_0x4e501f(0x231)]((_0x573377,_0x27e52)=>{const _0x6dd364=_0x4e501f,_0x67f623=new Date(_0x573377),_0x5d62a5=_0x4733df[_0x67f623[_0x6dd364(0x1d0)]()],_0x1390d0=_0x67f623[_0x6dd364(0x1ad)](),_0x6b467=document[_0x6dd364(0x222)]('div');_0x6b467[_0x6dd364(0x211)]=_0x6dd364(0x1af);if(_0x27e52===0x0)_0x6b467[_0x6dd364(0x1de)]['add'](_0x6dd364(0x14e));_0x6b467[_0x6dd364(0x21d)]='<div\x20class=\x22rs-day-name\x22>'+_0x5d62a5+_0x6dd364(0x1f4)+_0x1390d0+_0x6dd364(0x16f),_0x6b467[_0x6dd364(0x1f9)]=()=>selectRsDate(_0x573377,_0x6b467),_0x4b1392['appendChild'](_0x6b467);}),selectRsDate(_0x56446a[0x0],_0x4b1392[_0x4e501f(0x1e6)]);}function selectRsDate(_0x331a4e,_0x42f8a5){const _0x45842e=a3_0x3a09bb;selectedRsDate=_0x331a4e,document[_0x45842e(0x168)](_0x45842e(0x1ef))[_0x45842e(0x231)](_0x2f302a=>_0x2f302a[_0x45842e(0x1de)][_0x45842e(0x242)](_0x45842e(0x14e)));if(_0x42f8a5)_0x42f8a5[_0x45842e(0x1de)][_0x45842e(0x163)](_0x45842e(0x14e));const _0xb3d90f=document[_0x45842e(0x1a0)](_0x45842e(0x1e9));_0xb3d90f[_0x45842e(0x21d)]='';const _0x370a3f=availableSlotsCache[_0x331a4e]||[];if(_0x370a3f[_0x45842e(0x1e4)]===0x0){_0xb3d90f[_0x45842e(0x21d)]=_0x45842e(0x247);return;}_0x370a3f[_0x45842e(0x231)](_0x9d02f7=>{const _0x35c7ff=_0x45842e,_0x1ba8de=document[_0x35c7ff(0x222)](_0x35c7ff(0x203));_0x1ba8de[_0x35c7ff(0x211)]=_0x35c7ff(0x206),_0x1ba8de['textContent']=_0x9d02f7,_0x1ba8de['onclick']=()=>confirmReschedule(_0x9d02f7),_0xb3d90f[_0x35c7ff(0x24a)](_0x1ba8de);});}async function confirmReschedule(_0x1fabfd){const _0x2cb3a9=a3_0x3a09bb,_0x397e06=new Date(selectedRsDate),_0x4c529f=_0x397e06['toLocaleDateString'](_0x2cb3a9(0x229),{'day':_0x2cb3a9(0x181),'month':_0x2cb3a9(0x159)}),_0x35ad7f=await showCustomConfirm(_0x2cb3a9(0x154),_0x2cb3a9(0x196)+_0x4c529f+'\x20–≤\x20'+_0x1fabfd+'?',![]);if(!_0x35ad7f)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x5246ea=currentSession['dateStr'],_0xaf36ce=currentSession['id'],[_0x598a6d,_0x32322a]=currentSession[_0x2cb3a9(0x216)][_0x2cb3a9(0x1d2)](':')[_0x2cb3a9(0x1fd)](Number),[_0x29fce0,_0x338183]=currentSession['end'][_0x2cb3a9(0x1d2)](':')[_0x2cb3a9(0x1fd)](Number),_0x405839=_0x29fce0*0x3c+_0x338183-(_0x598a6d*0x3c+_0x32322a),[_0x315137,_0x1d0446]=_0x1fabfd[_0x2cb3a9(0x1d2)](':')[_0x2cb3a9(0x1fd)](Number),_0x2c0431=_0x315137*0x3c+_0x1d0446+_0x405839,_0x5ea91b=Math['floor'](_0x2c0431/0x3c),_0x191729=_0x2c0431%0x3c,_0x806564=String(_0x5ea91b)['padStart'](0x2,'0')+':'+String(_0x191729)[_0x2cb3a9(0x239)](0x2,'0'),_0x10ab15=sessions[_0x2cb3a9(0x19e)](_0xf83b8=>_0xf83b8['id']===_0xaf36ce);_0x10ab15!==-0x1&&(sessions[_0x10ab15][_0x2cb3a9(0x161)]=selectedRsDate,sessions[_0x10ab15][_0x2cb3a9(0x216)]=_0x1fabfd,sessions[_0x10ab15][_0x2cb3a9(0x1e3)]=_0x806564,reRenderBlocks());try{const _0x390f26=window['Telegram']?.[_0x2cb3a9(0x1fe)],_0x4af376=await fetch(API_URL,{'method':_0x2cb3a9(0x14d),'body':JSON['stringify']({'action':'reschedule','init_data':_0x390f26?.[_0x2cb3a9(0x1b2)]||'','oldSessionId':_0xaf36ce,'oldDate':_0x5246ea,'newDate':selectedRsDate,'newTime':_0x1fabfd,'coachId':currentSession['coachId']})}),_0x25af4c=await _0x4af376[_0x2cb3a9(0x213)]();!_0x25af4c['ok']?(showToast(_0x2cb3a9(0x1eb)),DataManager[_0x2cb3a9(0x177)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2cb3a9(0x1b0)]());}catch(_0x1cf171){showToast(_0x2cb3a9(0x153));}}document[a3_0x3a09bb(0x175)](a3_0x3a09bb(0x1d5),init);