const a3_0x232ec9=a3_0x1748;(function(_0x5bcf4e,_0x190bc1){const _0x54ca38=a3_0x1748,_0x543b7e=_0x5bcf4e();while(!![]){try{const _0x137ab5=-parseInt(_0x54ca38(0x159))/0x1+-parseInt(_0x54ca38(0x1f1))/0x2+-parseInt(_0x54ca38(0xfb))/0x3+parseInt(_0x54ca38(0x1ab))/0x4+-parseInt(_0x54ca38(0x181))/0x5*(-parseInt(_0x54ca38(0x1b2))/0x6)+-parseInt(_0x54ca38(0x13f))/0x7+parseInt(_0x54ca38(0x1b7))/0x8;if(_0x137ab5===_0x190bc1)break;else _0x543b7e['push'](_0x543b7e['shift']());}catch(_0x3beb73){_0x543b7e['push'](_0x543b7e['shift']());}}}(a3_0x1562,0x295f2));const APP_VERSION=a3_0x232ec9(0x18d),API_URL=a3_0x232ec9(0x12e),GRID_H=0x3c,KEY_SESSIONS=a3_0x232ec9(0x114),KEY_SETTINGS=a3_0x232ec9(0x1d4),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x232ec9(0x109),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x53c353=a3_0x232ec9,_0x1e19be=(function(){let _0x6959e=!![];return function(_0xf8edd5,_0x48867e){const _0x3b1a33=_0x6959e?function(){const _0x3eec61=a3_0x1748;if(_0x48867e){const _0x28e115=_0x48867e[_0x3eec61(0x1e3)](_0xf8edd5,arguments);return _0x48867e=null,_0x28e115;}}:function(){};return _0x6959e=![],_0x3b1a33;};}()),_0x56f030=_0x1e19be(this,function(){const _0x74b450=a3_0x1748;return _0x56f030[_0x74b450(0x14f)]()[_0x74b450(0x151)](_0x74b450(0x1ea))[_0x74b450(0x14f)]()[_0x74b450(0x1b8)](_0x56f030)[_0x74b450(0x151)]('(((.+)+)+)+$');});_0x56f030();try{const _0x4ca490=window[_0x53c353(0x195)]?.[_0x53c353(0x16a)];if(!_0x4ca490)return;_0x4ca490['ready'](),_0x4ca490[_0x53c353(0x1e0)]();try{_0x4ca490[_0x53c353(0x14e)]('#050505'),_0x4ca490[_0x53c353(0x1dc)]&&_0x4ca490['setBackgroundColor'](_0x53c353(0xfe));}catch(_0x24bf90){console[_0x53c353(0x18b)](_0x53c353(0x164),_0x24bf90);}try{_0x4ca490[_0x53c353(0x1ee)]&&(_0x4ca490['BackButton'][_0x53c353(0x1eb)](),_0x4ca490[_0x53c353(0x1ee)][_0x53c353(0x126)](),_0x4ca490[_0x53c353(0x1ee)][_0x53c353(0x1b9)](function(){const _0x38d5d2=_0x53c353;window[_0x38d5d2(0xfc)][_0x38d5d2(0x1ec)]=_0x38d5d2(0x1ba);}));}catch(_0x131931){console[_0x53c353(0x18b)]('Error\x20setting\x20back\x20button:',_0x131931);}try{if(_0x4ca490[_0x53c353(0xf5)])_0x4ca490[_0x53c353(0xf5)]();}catch(_0xe180f6){}}catch(_0x2f83e2){console[_0x53c353(0x1e8)]('Critical\x20TMA\x20Error:',_0x2f83e2);}}());function isAdmin(){const _0x51af46=a3_0x232ec9;try{const _0x2f1f64=Number(window[_0x51af46(0x195)]?.[_0x51af46(0x16a)]?.[_0x51af46(0x16c)]?.[_0x51af46(0x14c)]?.['id']);return _0x2f1f64===0xbaf7174;}catch(_0x55063f){return![];}}function a3_0x1748(_0x8d2851,_0x573fc1){_0x8d2851=_0x8d2851-0xf1;const _0x1f1b28=a3_0x1562();let _0x2cf2a8=_0x1f1b28[_0x8d2851];return _0x2cf2a8;}function a3_0x1562(){const _0xd2f38=['anDonutCircle','rsSlotsGrid','330193QvWccz','.sheet','timeColumn','display','var(--acc-blue)','coachId','done','querySelector','scrollTop','px\x200px','className','Error\x20setting\x20color:','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','width','then','px\x20-','ru-RU','WebApp','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','initDataUnsafe','div','setAttribute','cancel_window','insertBefore','\x20status-completed','flex','rgba(10,\x20132,\x20255,\x20','client_cancel','data-day-idx','stringify','cancelContainer','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rs-date-chip','custom','long','</div>','gridColumns','anTotalStats','end','slice','165HwNYUk','colIndex','anCustomDates','getMonth','reschedule','anPercent','calc(','\x20–≤\x20','–∑–∞\x20','%\x20+\x202px)','log','color','v9.5-CLIENT-ANALYTICS','parse','stopPropagation','toUpperCase','getHours','setDate','map','note','Telegram','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','analyticsSheet','blocked-slot\x20stripe-bg','month','clientWidth','appendChild','ranges','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','scrollTo','top','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','backgroundColor','client_load','exceptions','detDate','status','coach_profiles','\x20–∏–∑\x20','total','getElementById','anEnd','875200WttIvz','customConfirm','.day-column','max','findIndex','</div><div\x20class=\x22rs-day-num\x22>','detNote','12102RQCFwh','detTime','left','start','applyData','5507496tbBKkM','constructor','onClick','router.html','time-label','day-off-overlay\x20stripe-bg','borderLeftColor','value','height','find','createElement','toast','client-stat-card','anStart','clientId','entries','blocked-range-part\x20stripe-bg','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','onclick','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','toLocaleDateString','all','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','clients','createDocumentFragment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','setHours','headerMonth','seriesId','uc_client_settings','detStatus','none','getDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rgba(','pattern','day-column\x20','setBackgroundColor','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overlay',':00</span>','expand','offsetLeft','visible','apply','classList','day-col-header\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.period-switch\x20.p-btn','error','getDay','(((.+)+)+)+$','show','href','active','BackButton','POST','planned','365754PhNDXu','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','#0a84ff','matrixViewport','scrollWidth','disableVerticalSwipes','<span>','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','.rs-date-chip','initData','data-date','458046xHihLX','location','globalTimeLine','#050505','.btn-cancel','substring','open','length','block','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','DOMContentLoaded','remove','getFullYear','json','week','push','detailsSheet','min','saveLocally','timeLineBadge','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','analyticsList','add','filter','isArray','uc_client_sessions','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','calendar','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–º–µ–Ω–µ–Ω–æ','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','syncLoad','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','completed','dateStr','T23:59:59','</span>\x20/\x20','style','round','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','offClick','daysHeaderTrack','mini','</div><div\x20class=\x22dch-num\x22>','fontWeight','scroll','sort','getTime','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','querySelectorAll','split','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','textContent','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','padStart','cid','setItem','forEach','rsDatesTrack','keys','floor','now','offsetWidth','data','substr','970116PtgLmm','addEventListener','setMonth','scrollLeft','firstChild','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','today','ccYesBtn','get_slots','backgroundPosition','button','event-card','settings','user','.day-col-header','setHeaderColor','toString','numeric','search','\x20-\x20','<div\x20class=\x22dch-day\x22>','innerHTML','getItem','loadLocal'];a3_0x1562=function(){return _0xd2f38;};return a3_0x1562();}const DataManager={'saveLocally'(){const _0x4d743e=a3_0x232ec9;try{localStorage[_0x4d743e(0x136)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4d743e(0x136)](KEY_CLIENTS,JSON[_0x4d743e(0x176)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x4d743e(0x176)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5efaf9){}},'loadLocal'(){const _0x1aa925=a3_0x232ec9;try{const _0x2aa985=localStorage['getItem'](KEY_SESSIONS);if(_0x2aa985)sessions=JSON[_0x1aa925(0x18e)](_0x2aa985);const _0x5c1685=localStorage['getItem'](KEY_CLIENTS);if(_0x5c1685)clients=JSON[_0x1aa925(0x18e)](_0x5c1685);const _0x27db16=localStorage[_0x1aa925(0x155)](KEY_SETTINGS);if(_0x27db16){const _0x2fd9dd=JSON[_0x1aa925(0x18e)](_0x27db16);if(_0x2fd9dd['pattern'])availabilityPattern=_0x2fd9dd['pattern'];if(_0x2fd9dd[_0x1aa925(0x19c)])specialRanges=_0x2fd9dd[_0x1aa925(0x19c)];if(_0x2fd9dd[_0x1aa925(0x1a3)])dateExceptions=_0x2fd9dd[_0x1aa925(0x1a3)];}}catch(_0x55fd93){}},async 'syncLoad'(){const _0x438fab=a3_0x232ec9,_0x38e52d=new Date(),_0x5dbf79=_0x38e52d[_0x438fab(0x107)]()+'-'+String(_0x38e52d[_0x438fab(0x184)]()+0x1)[_0x438fab(0x134)](0x2,'0'),_0x1149ba=new Date(_0x38e52d);_0x1149ba[_0x438fab(0x141)](_0x38e52d[_0x438fab(0x184)]()+0x1);const _0x284d84=_0x1149ba[_0x438fab(0x107)]()+'-'+String(_0x1149ba[_0x438fab(0x184)]()+0x1)[_0x438fab(0x134)](0x2,'0'),_0x24ce3d=Date['now']();try{const _0x2f3301=window[_0x438fab(0x195)]?.['WebApp'],_0x424e3f=_0x2f3301?.['initData']||'',[_0x53e252,_0x4523e4]=await Promise[_0x438fab(0x1cc)]([fetch(API_URL,{'method':_0x438fab(0x1ef),'body':JSON[_0x438fab(0x176)]({'action':_0x438fab(0x1a2),'init_data':_0x424e3f,'month_str':_0x5dbf79})})[_0x438fab(0x167)](_0x40b4a3=>_0x40b4a3[_0x438fab(0x108)]()),fetch(API_URL,{'method':_0x438fab(0x1ef),'body':JSON[_0x438fab(0x176)]({'action':'client_load','init_data':_0x424e3f,'month_str':_0x284d84})})[_0x438fab(0x167)](_0x3d58e2=>_0x3d58e2[_0x438fab(0x108)]())]);if(lastUserActionTime>_0x24ce3d){console[_0x438fab(0x18b)](_0x438fab(0x1e6));return;}if(_0x53e252['ok'])this[_0x438fab(0x1b6)](_0x53e252['data'],_0x5dbf79);if(_0x4523e4['ok'])this['applyData'](_0x4523e4['data'],_0x284d84);this[_0x438fab(0x10d)]();}catch(_0xa26a8d){}},'applyData'(_0x178b69,_0x4837ab){const _0x4e8f6c=a3_0x232ec9;if(!_0x178b69)return;if(_0x178b69[_0x4e8f6c(0x14b)]){if(_0x178b69[_0x4e8f6c(0x14b)][_0x4e8f6c(0x1da)])availabilityPattern=_0x178b69[_0x4e8f6c(0x14b)][_0x4e8f6c(0x1da)];if(_0x178b69['settings'][_0x4e8f6c(0x19c)])specialRanges=_0x178b69[_0x4e8f6c(0x14b)][_0x4e8f6c(0x19c)];if(_0x178b69[_0x4e8f6c(0x14b)][_0x4e8f6c(0x1a3)])dateExceptions=_0x178b69[_0x4e8f6c(0x14b)][_0x4e8f6c(0x1a3)];}if(_0x178b69[_0x4e8f6c(0x1ce)]&&Array[_0x4e8f6c(0x113)](_0x178b69['clients']))clients=_0x178b69[_0x4e8f6c(0x1ce)];_0x178b69[_0x4e8f6c(0x1a6)]&&(coachProfiles={...coachProfiles,..._0x178b69[_0x4e8f6c(0x1a6)]}),_0x178b69[_0x4e8f6c(0x116)]&&(sessions=sessions[_0x4e8f6c(0x112)](_0xe20441=>!_0xe20441[_0x4e8f6c(0x11f)]['startsWith'](_0x4837ab)),Object[_0x4e8f6c(0x139)](_0x178b69[_0x4e8f6c(0x116)])[_0x4e8f6c(0x137)](_0x35242a=>{const _0x17fbeb=_0x4e8f6c,_0x16b7b4=_0x178b69[_0x17fbeb(0x116)][_0x35242a];_0x16b7b4['forEach'](_0x1e5336=>{const _0x3e6329=_0x17fbeb;sessions[_0x3e6329(0x10a)]({'id':_0x1e5336['i'],'clientId':_0x1e5336['c'],'coachId':_0x1e5336[_0x3e6329(0x135)],'dateStr':_0x4837ab+'-'+_0x35242a['padStart'](0x2,'0'),'start':_0x1e5336['s'],'end':_0x1e5336['e'],'note':_0x1e5336['n']||'','status':_0x1e5336['st']||_0x3e6329(0x1f0),'seriesId':_0x1e5336['sid']});});})),reRenderBlocks();}};function init(){const _0xe00b9c=a3_0x232ec9;DataManager[_0xe00b9c(0x156)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0xe00b9c(0x140)](_0xe00b9c(0x12b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xe00b9c(0x11b)]();}function renderTimeColumn(){const _0x3aa051=a3_0x232ec9,_0x5270bf=document['getElementById'](_0x3aa051(0x15b)),_0x25c66c=document['getElementById'](_0x3aa051(0x10e));_0x5270bf['innerHTML']='',_0x5270bf[_0x3aa051(0x19b)](_0x25c66c);for(let _0x2d3e58=0x0;_0x2d3e58<0x18;_0x2d3e58++){const _0x41a506=document['createElement'](_0x3aa051(0x16d));_0x41a506['className']=_0x3aa051(0x1bb);if(_0x2d3e58>0x0)_0x41a506[_0x3aa051(0x154)]=_0x3aa051(0xf6)+String(_0x2d3e58)[_0x3aa051(0x134)](0x2,'0')+_0x3aa051(0x1df);_0x5270bf['appendChild'](_0x41a506);}}function renderDayRange(_0x5e26b4,_0x15d837){const _0x3ace7e=a3_0x232ec9,_0x24ec43=document[_0x3ace7e(0x1a9)](_0x3ace7e(0x127)),_0x5dd9c9=document[_0x3ace7e(0x1a9)](_0x3ace7e(0x17d)),_0x44f85a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xbefc97=new Date();_0xbefc97[_0x3ace7e(0x1d1)](0x0,0x0,0x0,0x0);const _0x50e4a2=getLocalDateStr(new Date());for(let _0x186866=_0x5e26b4;_0x186866<=_0x15d837;_0x186866++){const _0x4c1439=new Date(_0xbefc97);_0x4c1439[_0x3ace7e(0x192)](_0x4c1439[_0x3ace7e(0x1d7)]()+_0x186866);const _0x1ba815=getLocalDateStr(_0x4c1439);let _0x412781=_0x4c1439[_0x3ace7e(0x1e9)]()-0x1;if(_0x412781===-0x1)_0x412781=0x6;const _0x2e47f7=_0x1ba815===_0x50e4a2,_0x43c5de=document[_0x3ace7e(0x1c1)](_0x3ace7e(0x16d));_0x43c5de[_0x3ace7e(0x163)]='day-col-header\x20'+(_0x2e47f7?_0x3ace7e(0x145):''),_0x43c5de['setAttribute'](_0x3ace7e(0xfa),_0x1ba815),_0x43c5de[_0x3ace7e(0x154)]=_0x3ace7e(0x153)+_0x44f85a[_0x412781]+_0x3ace7e(0x129)+_0x4c1439[_0x3ace7e(0x1d7)]()+'</div>',_0x24ec43[_0x3ace7e(0x19b)](_0x43c5de);const _0x46fb91=document[_0x3ace7e(0x1c1)](_0x3ace7e(0x16d));_0x46fb91[_0x3ace7e(0x163)]=_0x3ace7e(0x1db)+(_0x2e47f7?_0x3ace7e(0x145):''),_0x46fb91[_0x3ace7e(0x16e)](_0x3ace7e(0xfa),_0x1ba815),_0x46fb91[_0x3ace7e(0x16e)](_0x3ace7e(0x175),_0x412781),_0x5dd9c9[_0x3ace7e(0x19b)](_0x46fb91);}}function reRenderBlocks(){const _0x1a0338=a3_0x232ec9;document[_0x1a0338(0x12f)]('.day-column')[_0x1a0338(0x137)](_0xe1cad9=>{const _0x26cece=_0x1a0338;_0xe1cad9['querySelectorAll'](_0x26cece(0x1ca))[_0x26cece(0x137)](_0x4bf28c=>_0x4bf28c['remove']());const _0x18b976=_0xe1cad9[_0x26cece(0x11c)]('data-date'),_0x10a5d2=parseInt(_0xe1cad9[_0x26cece(0x11c)](_0x26cece(0x175))),_0x567f65=Math[_0x26cece(0x123)](_0xe1cad9[_0x26cece(0x1e1)]);(availabilityPattern[_0x10a5d2]||[])[_0x26cece(0x137)](_0xc45107=>{const _0x475af1=_0x26cece,_0x27f289=document[_0x475af1(0x1c1)](_0x475af1(0x16d));_0x27f289[_0x475af1(0x163)]=_0x475af1(0x198),_0x27f289[_0x475af1(0x122)][_0x475af1(0x19f)]=_0xc45107*GRID_H+'px',_0x27f289['style'][_0x475af1(0x148)]='-'+_0x567f65+_0x475af1(0x168)+_0xc45107*GRID_H+'px',_0xe1cad9[_0x475af1(0x19b)](_0x27f289);});if(specialRanges[_0x26cece(0x102)]>0x0){const _0x5f49f4=new Date(_0x18b976+'T00:00:00')[_0x26cece(0x12d)](),_0x2c89e8=new Date(_0x18b976+_0x26cece(0x120))['getTime']();specialRanges[_0x26cece(0x137)](_0x41460e=>{const _0x2a25a1=_0x26cece,_0x13edf5=new Date(_0x41460e[_0x2a25a1(0x1b5)])[_0x2a25a1(0x12d)](),_0x501564=new Date(_0x41460e[_0x2a25a1(0x17f)])[_0x2a25a1(0x12d)](),_0x5376d5=Math[_0x2a25a1(0x1ae)](_0x5f49f4,_0x13edf5),_0x11fef1=Math[_0x2a25a1(0x10c)](_0x2c89e8,_0x501564);if(_0x5376d5<_0x11fef1){const _0x260fa8=(_0x5376d5-_0x5f49f4)/0x36ee80*GRID_H,_0x383000=(_0x11fef1-_0x5376d5)/0x36ee80*GRID_H,_0x5bd0a5=document[_0x2a25a1(0x1c1)](_0x2a25a1(0x16d));_0x383000>=23.5*GRID_H?(_0x5bd0a5[_0x2a25a1(0x163)]=_0x2a25a1(0x1bc),_0x5bd0a5['style'][_0x2a25a1(0x148)]='-'+_0x567f65+_0x2a25a1(0x162)):(_0x5bd0a5['className']=_0x2a25a1(0x1c7),_0x5bd0a5[_0x2a25a1(0x122)][_0x2a25a1(0x19f)]=_0x260fa8+'px',_0x5bd0a5[_0x2a25a1(0x122)][_0x2a25a1(0x1bf)]=_0x383000+'px',_0x5bd0a5[_0x2a25a1(0x122)]['backgroundPosition']='-'+_0x567f65+_0x2a25a1(0x168)+_0x260fa8+'px'),_0xe1cad9[_0x2a25a1(0x19b)](_0x5bd0a5);}});}renderEventsForColumn(_0xe1cad9,_0x18b976);});}function renderEventsForColumn(_0x3dbdf7,_0x4d286a){const _0x2ec56c=a3_0x232ec9,_0x36029c=sessions[_0x2ec56c(0x112)](_0x27b6e5=>_0x27b6e5[_0x2ec56c(0x11f)]===_0x4d286a),_0x2841b3=_0x36029c[_0x2ec56c(0x193)](_0x3dbbc9=>{const _0x1dcbf7=_0x2ec56c,[_0x3e7b45,_0x2b7a58]=_0x3dbbc9['start']['split'](':')['map'](Number),[_0x17de57,_0x4368f6]=_0x3dbbc9[_0x1dcbf7(0x17f)]['split'](':')[_0x1dcbf7(0x193)](Number);return{'data':_0x3dbbc9,'start':_0x3e7b45*0x3c+_0x2b7a58,'end':_0x17de57*0x3c+_0x4368f6,'colIndex':0x0};});_0x2841b3[_0x2ec56c(0x12c)]((_0xe8e342,_0x1f6e86)=>_0xe8e342[_0x2ec56c(0x1b5)]-_0x1f6e86[_0x2ec56c(0x1b5)]||_0x1f6e86[_0x2ec56c(0x17f)]-_0x1f6e86['start']-(_0xe8e342[_0x2ec56c(0x17f)]-_0xe8e342[_0x2ec56c(0x1b5)]));const _0xbee0b3=[];_0x2841b3[_0x2ec56c(0x137)](_0x4289a1=>{const _0x233219=_0x2ec56c;let _0x196c68=![];for(let _0x1eff05=0x0;_0x1eff05<_0xbee0b3[_0x233219(0x102)];_0x1eff05++){const _0x38c4a3=_0xbee0b3[_0x1eff05];if(_0x4289a1[_0x233219(0x1b5)]>=_0x38c4a3[_0x38c4a3['length']-0x1]['end']){_0x38c4a3[_0x233219(0x10a)](_0x4289a1),_0x4289a1[_0x233219(0x182)]=_0x1eff05,_0x196c68=!![];break;}}!_0x196c68&&(_0xbee0b3['push']([_0x4289a1]),_0x4289a1[_0x233219(0x182)]=_0xbee0b3[_0x233219(0x102)]-0x1);}),_0x2841b3[_0x2ec56c(0x137)](_0x32e900=>{const _0x5831f8=_0x2ec56c;let _0x3918b4=0x0;_0x2841b3[_0x5831f8(0x137)](_0x1e6049=>{const _0x412c47=_0x5831f8;if(Math['max'](_0x32e900[_0x412c47(0x1b5)],_0x1e6049[_0x412c47(0x1b5)])<Math[_0x412c47(0x10c)](_0x32e900[_0x412c47(0x17f)],_0x1e6049[_0x412c47(0x17f)])&&_0x1e6049[_0x412c47(0x182)]>_0x3918b4)_0x3918b4=_0x1e6049[_0x412c47(0x182)];});const _0x46f88c=_0x3918b4+0x1,_0x85987e=0x64/_0x46f88c,_0x509b4a=_0x32e900[_0x5831f8(0x182)]*_0x85987e,_0x26c544=document['createElement'](_0x5831f8(0x16d)),_0x2e3241=_0x32e900['data'];let _0x5649b9=_0x5831f8(0xf2);if(clients&&clients[_0x5831f8(0x102)]>0x0){const _0x20f4db=clients[_0x5831f8(0x1c0)](_0x422bf1=>String(_0x422bf1['id'])===String(_0x2e3241[_0x5831f8(0x1c5)]));if(_0x20f4db&&_0x20f4db[_0x5831f8(0x18c)])_0x5649b9=_0x20f4db[_0x5831f8(0x18c)];}const _0x244d3c=_0x2e3241[_0x5831f8(0x1a5)]===_0x5831f8(0x11e),_0x4a533c=_0x244d3c?0x1:0.45;_0x26c544[_0x5831f8(0x163)]=_0x5831f8(0x14a)+(_0x244d3c?_0x5831f8(0x171):''),_0x26c544[_0x5831f8(0x122)][_0x5831f8(0x1a1)]=hexToRgba(_0x5649b9,_0x4a533c),_0x26c544[_0x5831f8(0x122)][_0x5831f8(0x1bd)]=_0x5649b9;const _0xa144ab=_0x32e900['start']/0x3c*GRID_H,_0x2b7744=(_0x32e900[_0x5831f8(0x17f)]-_0x32e900[_0x5831f8(0x1b5)])/0x3c*GRID_H;_0x26c544['style'][_0x5831f8(0x19f)]=_0xa144ab+'px',_0x26c544['style'][_0x5831f8(0x1bf)]=Math[_0x5831f8(0x1ae)](_0x2b7744,0x14)+'px',_0x26c544[_0x5831f8(0x122)][_0x5831f8(0x166)]=_0x5831f8(0x187)+_0x85987e+'%\x20-\x204px)',_0x26c544['style'][_0x5831f8(0x1b4)]=_0x5831f8(0x187)+_0x509b4a+_0x5831f8(0x18a),_0x26c544['style']['zIndex']=0xa+_0x32e900[_0x5831f8(0x182)];if(_0x85987e<0x55)_0x26c544['classList'][_0x5831f8(0x111)](_0x5831f8(0x128));let _0x5af2df='';if(_0x2e3241[_0x5831f8(0x1d3)])_0x5af2df+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x244d3c)_0x5af2df+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x26c544[_0x5831f8(0x154)]=_0x5831f8(0x11d)+_0x2e3241['start']+'\x20-\x20'+_0x2e3241[_0x5831f8(0x17f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5af2df+_0x5831f8(0x118),_0x26c544[_0x5831f8(0x1c9)]=_0x2bfd8c=>{const _0x5c0e18=_0x5831f8;_0x2bfd8c[_0x5c0e18(0x18f)](),openDetails(_0x2e3241);},_0x3dbdf7['appendChild'](_0x26c544);});}function openAnalytics(){const _0x59c80e=a3_0x232ec9,_0x545170=document[_0x59c80e(0x160)](_0x59c80e(0x1e7));setAnalyticsPeriod(_0x59c80e(0x109),_0x545170),openSheet(_0x59c80e(0x197));}function setAnalyticsPeriod(_0x563e49,_0x72224d){const _0x43f2e3=a3_0x232ec9;currentAnPeriod=_0x563e49,document[_0x43f2e3(0x12f)](_0x43f2e3(0x1e7))[_0x43f2e3(0x137)](_0x36ad28=>_0x36ad28[_0x43f2e3(0x1e4)]['remove'](_0x43f2e3(0x1ed)));if(_0x72224d)_0x72224d[_0x43f2e3(0x1e4)][_0x43f2e3(0x111)](_0x43f2e3(0x1ed));const _0x53bf1a=document[_0x43f2e3(0x1a9)](_0x43f2e3(0x183));_0x53bf1a[_0x43f2e3(0x122)][_0x43f2e3(0x15c)]=_0x563e49===_0x43f2e3(0x17a)?_0x43f2e3(0x172):_0x43f2e3(0x1d6);const _0x197176=new Date();let _0x4e286a=new Date(),_0x2f48cf=new Date();if(_0x563e49==='week')_0x4e286a=getStartOfWeek(_0x197176),_0x2f48cf=new Date(_0x4e286a),_0x2f48cf['setDate'](_0x2f48cf[_0x43f2e3(0x1d7)]()+0x6);else{if(_0x563e49===_0x43f2e3(0x199))_0x4e286a=new Date(_0x197176[_0x43f2e3(0x107)](),_0x197176['getMonth'](),0x1),_0x2f48cf=new Date(_0x197176['getFullYear'](),_0x197176[_0x43f2e3(0x184)]()+0x1,0x0);else{!document[_0x43f2e3(0x1a9)](_0x43f2e3(0x1c4))[_0x43f2e3(0x1be)]&&(document[_0x43f2e3(0x1a9)](_0x43f2e3(0x1c4))[_0x43f2e3(0x1be)]=getLocalDateStr(_0x197176),document['getElementById']('anEnd')[_0x43f2e3(0x1be)]=getLocalDateStr(_0x197176));refreshAnalytics();return;}}document[_0x43f2e3(0x1a9)](_0x43f2e3(0x1c4))['value']=getLocalDateStr(_0x4e286a),document[_0x43f2e3(0x1a9)](_0x43f2e3(0x1aa))[_0x43f2e3(0x1be)]=getLocalDateStr(_0x2f48cf),refreshAnalytics();}function refreshAnalytics(){const _0x48384c=a3_0x232ec9,_0xaa6859=document['getElementById']('anStart')[_0x48384c(0x1be)],_0x2a7229=document[_0x48384c(0x1a9)](_0x48384c(0x1aa))[_0x48384c(0x1be)];if(!_0xaa6859||!_0x2a7229)return;const _0x45d516=sessions[_0x48384c(0x112)](_0x5e4dcf=>_0x5e4dcf[_0x48384c(0x11f)]>=_0xaa6859&&_0x5e4dcf['dateStr']<=_0x2a7229&&_0x5e4dcf[_0x48384c(0x1a5)]!=='cancelled'),_0x82aad1=_0x45d516[_0x48384c(0x102)],_0x157f82=_0x45d516[_0x48384c(0x112)](_0x2f9fbb=>_0x2f9fbb[_0x48384c(0x1a5)]==='completed')[_0x48384c(0x102)],_0x19b4ed=_0x82aad1>0x0?Math[_0x48384c(0x123)](_0x157f82/_0x82aad1*0x64):0x0;document['getElementById'](_0x48384c(0x186))[_0x48384c(0x132)]=_0x19b4ed+'%',document[_0x48384c(0x1a9)](_0x48384c(0x17e))[_0x48384c(0x132)]=_0x157f82+_0x48384c(0x1a7)+_0x82aad1+_0x48384c(0x178);const _0x3df850=document['getElementById'](_0x48384c(0x157)),_0x2c8685=0x2*Math['PI']*0x23,_0x334733=_0x2c8685-_0x19b4ed/0x64*_0x2c8685;_0x3df850[_0x48384c(0x122)]['strokeDashoffset']=_0x334733;const _0x3567b2={};_0x45d516[_0x48384c(0x137)](_0x145297=>{const _0x2bf16f=_0x48384c,_0x2e5fb7=_0x145297[_0x2bf16f(0x15e)]||'Unknown';if(!_0x3567b2[_0x2e5fb7]){const _0x3e8289='#'+_0x2e5fb7['toString']()[_0x2bf16f(0x13e)](0x0,0x6);_0x3567b2[_0x2e5fb7]={'total':0x0,'done':0x0,'color':_0x3e8289};}_0x3567b2[_0x2e5fb7]['total']++;if(_0x145297[_0x2bf16f(0x1a5)]==='completed')_0x3567b2[_0x2e5fb7][_0x2bf16f(0x15f)]++;});const _0x277307=document[_0x48384c(0x1a9)](_0x48384c(0x110));_0x277307['innerHTML']='';const _0xa1baa6=Object[_0x48384c(0x1c6)](_0x3567b2)[_0x48384c(0x12c)]((_0x39bc5e,_0x48cd5a)=>_0x48cd5a[0x1][_0x48384c(0x1a8)]-_0x39bc5e[0x1][_0x48384c(0x1a8)]);if(_0xa1baa6[_0x48384c(0x102)]===0x0){_0x277307[_0x48384c(0x154)]=_0x48384c(0x11a);return;}_0xa1baa6[_0x48384c(0x137)](([_0x253585,_0x449802])=>{const _0x53d54b=_0x48384c,_0x33eae4=Math[_0x53d54b(0x123)](_0x449802[_0x53d54b(0x15f)]/_0x449802[_0x53d54b(0x1a8)]*0x64),_0x4fa883=document['createElement'](_0x53d54b(0x16d));_0x4fa883[_0x53d54b(0x163)]=_0x53d54b(0x1c3),_0x4fa883[_0x53d54b(0x122)][_0x53d54b(0x1bd)]=_0x449802[_0x53d54b(0x18c)],_0x4fa883[_0x53d54b(0x154)]=_0x53d54b(0x1d0)+_0x253585[_0x53d54b(0x13e)](0x0,0x5)+_0x53d54b(0x1d8)+_0x449802['done']+_0x53d54b(0x121)+_0x449802[_0x53d54b(0x1a8)]+_0x53d54b(0x16b)+_0x33eae4+_0x53d54b(0x1dd),_0x277307[_0x53d54b(0x19b)](_0x4fa883);});}function openDetails(_0x4d9645){const _0x568d25=a3_0x232ec9;currentSession=_0x4d9645;const _0x1ab984=new Date(_0x4d9645[_0x568d25(0x11f)]),_0x2a0cde=_0x1ab984[_0x568d25(0x1cb)](_0x568d25(0x169),{'weekday':'long','day':_0x568d25(0x150),'month':_0x568d25(0x17b)});document[_0x568d25(0x1a9)](_0x568d25(0x1a4))[_0x568d25(0x132)]=_0x2a0cde['charAt'](0x0)[_0x568d25(0x190)]()+_0x2a0cde[_0x568d25(0x180)](0x1),document['getElementById'](_0x568d25(0x1b3))[_0x568d25(0x132)]=_0x4d9645[_0x568d25(0x1b5)]+_0x568d25(0x152)+_0x4d9645[_0x568d25(0x17f)],document['getElementById'](_0x568d25(0x1b1))[_0x568d25(0x132)]=_0x4d9645[_0x568d25(0x194)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3e7865=document['getElementById'](_0x568d25(0x1d5)),_0x428d4f=document['getElementById'](_0x568d25(0x177)),_0x4de333=_0x428d4f[_0x568d25(0x160)](_0x568d25(0xff)),_0x2a6c53=_0x428d4f[_0x568d25(0x160)]('.btn-reschedule'),_0x35c9f7=document['getElementById']('cancelHint');if(_0x4d9645[_0x568d25(0x1a5)]===_0x568d25(0x11e))_0x3e7865[_0x568d25(0x132)]=_0x568d25(0x1a0),_0x3e7865[_0x568d25(0x122)]['color']='var(--acc-green)',_0x428d4f['style'][_0x568d25(0x15c)]=_0x568d25(0x1d6);else{_0x3e7865[_0x568d25(0x132)]=_0x568d25(0xf1),_0x3e7865[_0x568d25(0x122)][_0x568d25(0x18c)]=_0x568d25(0x15d),_0x428d4f[_0x568d25(0x122)][_0x568d25(0x15c)]=_0x568d25(0x103);const _0x323dd4=new Date(_0x4d9645[_0x568d25(0x11f)]+'T'+_0x4d9645[_0x568d25(0x1b5)]),_0xb3738c=new Date(),_0x39cd92=(_0x323dd4-_0xb3738c)/(0x3e8*0x3c*0x3c),_0x37c95c=coachProfiles[_0x4d9645[_0x568d25(0x15e)]]&&coachProfiles[_0x4d9645['coachId']][_0x568d25(0x16f)]?parseInt(coachProfiles[_0x4d9645[_0x568d25(0x15e)]][_0x568d25(0x16f)]):0x18;if(_0x37c95c===0x0||_0x39cd92>=_0x37c95c)_0x4de333[_0x568d25(0x122)][_0x568d25(0x15c)]='block',_0x2a6c53[_0x568d25(0x122)][_0x568d25(0x15c)]=_0x568d25(0x103),_0x35c9f7[_0x568d25(0x122)][_0x568d25(0x15c)]=_0x568d25(0x1d6);else{_0x4de333[_0x568d25(0x122)][_0x568d25(0x15c)]='none',_0x2a6c53['style'][_0x568d25(0x15c)]=_0x568d25(0x1d6),_0x35c9f7[_0x568d25(0x122)]['display']=_0x568d25(0x103);let _0x500701=_0x37c95c===0x0?_0x568d25(0x196):_0x568d25(0x189)+_0x37c95c+'\x20—á.';_0x35c9f7[_0x568d25(0x132)]=_0x568d25(0x133)+_0x500701+_0x568d25(0x131);}}document['getElementById']('overlay')[_0x568d25(0x1e4)][_0x568d25(0x111)](_0x568d25(0x1ed)),document[_0x568d25(0x1a9)](_0x568d25(0x10b))[_0x568d25(0x1e4)][_0x568d25(0x111)](_0x568d25(0x101));}function closeAllSheets(){const _0x1d0e0d=a3_0x232ec9;document[_0x1d0e0d(0x1a9)](_0x1d0e0d(0x1de))[_0x1d0e0d(0x1e4)][_0x1d0e0d(0x106)](_0x1d0e0d(0x1ed)),document[_0x1d0e0d(0x12f)](_0x1d0e0d(0x15a))[_0x1d0e0d(0x137)](_0x43608a=>_0x43608a[_0x1d0e0d(0x1e4)][_0x1d0e0d(0x106)](_0x1d0e0d(0x101)));}function openSheet(_0x38599d){const _0x4017e3=a3_0x232ec9;document[_0x4017e3(0x1a9)](_0x4017e3(0x1de))[_0x4017e3(0x1e4)][_0x4017e3(0x111)](_0x4017e3(0x1ed)),document[_0x4017e3(0x1a9)](_0x38599d)[_0x4017e3(0x1e4)][_0x4017e3(0x111)](_0x4017e3(0x101));}function getLocalDateStr(_0x3b24cd){const _0x2b9ff7=a3_0x232ec9,_0x4f52e1=_0x3b24cd[_0x2b9ff7(0x107)](),_0x42c5a4=String(_0x3b24cd['getMonth']()+0x1)['padStart'](0x2,'0'),_0x21fae9=String(_0x3b24cd[_0x2b9ff7(0x1d7)]())['padStart'](0x2,'0');return _0x4f52e1+'-'+_0x42c5a4+'-'+_0x21fae9;}function getStartOfWeek(_0x2d1c05){const _0x5e4477=a3_0x232ec9,_0x412738=new Date(_0x2d1c05),_0x51874f=_0x412738[_0x5e4477(0x1e9)](),_0x2ce385=_0x412738[_0x5e4477(0x1d7)]()-_0x51874f+(_0x51874f===0x0?-0x6:0x1);return _0x412738[_0x5e4477(0x192)](_0x2ce385),_0x412738[_0x5e4477(0x1d1)](0x0,0x0,0x0,0x0),_0x412738;}function scrollToToday(){const _0x41963f=getLocalDateStr(new Date());setTimeout(()=>{const _0x1ea5a8=a3_0x1748,_0x3cc5b8=document[_0x1ea5a8(0x160)]('.day-col-header[data-date=\x22'+_0x41963f+'\x22]');if(_0x3cc5b8){const _0x2afa66=document[_0x1ea5a8(0x1a9)](_0x1ea5a8(0xf3)),_0x105421=_0x3cc5b8[_0x1ea5a8(0x1e1)]-_0x2afa66[_0x1ea5a8(0x19a)]/0x2+_0x3cc5b8[_0x1ea5a8(0x13c)]/0x2;_0x2afa66[_0x1ea5a8(0x19e)]({'left':_0x105421,'behavior':'auto'}),_0x2afa66[_0x1ea5a8(0x161)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2ae63e=a3_0x232ec9,_0x2a025c=new Date(),_0x68598=document[_0x2ae63e(0x1a9)](_0x2ae63e(0xfd)),_0x17c039=document[_0x2ae63e(0x1a9)](_0x2ae63e(0x10e)),_0x1aca7b=(_0x2a025c[_0x2ae63e(0x191)]()*0x3c+_0x2a025c['getMinutes']())/0x3c*GRID_H;_0x68598[_0x2ae63e(0x122)][_0x2ae63e(0x19f)]=_0x1aca7b+'px',_0x68598[_0x2ae63e(0x122)][_0x2ae63e(0x15c)]=_0x2ae63e(0x103),_0x17c039[_0x2ae63e(0x122)][_0x2ae63e(0x19f)]=_0x1aca7b+'px',_0x17c039[_0x2ae63e(0x122)]['display']=_0x2ae63e(0x103),_0x17c039[_0x2ae63e(0x132)]=String(_0x2a025c[_0x2ae63e(0x191)]())['padStart'](0x2,'0')+':'+String(_0x2a025c['getMinutes']())[_0x2ae63e(0x134)](0x2,'0');}function onScroll(){const _0x4b7aba=a3_0x232ec9,_0x37e20d=document[_0x4b7aba(0x1a9)](_0x4b7aba(0xf3)),_0x13e101=document['querySelectorAll'](_0x4b7aba(0x14d));for(let _0x5af128 of _0x13e101)if(_0x5af128['offsetLeft']>=_0x37e20d[_0x4b7aba(0x142)]){const _0x2945ee=new Date(_0x5af128[_0x4b7aba(0x11c)]('data-date'));document[_0x4b7aba(0x1a9)](_0x4b7aba(0x1d2))[_0x4b7aba(0x132)]=_0x2945ee['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x2945ee[_0x4b7aba(0x107)]();break;}}function showToast(_0x362018){const _0x399227=a3_0x232ec9,_0x4cc04d=document['getElementById'](_0x399227(0x1c2));_0x4cc04d[_0x399227(0x132)]=_0x362018,_0x4cc04d[_0x399227(0x1e4)][_0x399227(0x111)](_0x399227(0x1eb)),setTimeout(()=>_0x4cc04d['classList'][_0x399227(0x106)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x432048=a3_0x232ec9,_0x42573a=document[_0x432048(0x1a9)](_0x432048(0xf3)),_0x439f13=_0x42573a['scrollLeft'],_0x2c0ea6=_0x42573a[_0x432048(0xf4)],_0x4dddb1=_0x42573a[_0x432048(0x19a)];if(_0x2c0ea6-(_0x439f13+_0x4dddb1)<0x12c){const _0x278531=endOffset;endOffset+=0xe,renderDayRange(_0x278531+0x1,endOffset),reRenderBlocks();}if(_0x439f13<0x12c){const _0x50356a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x50356a-0x1),_0x42573a[_0x432048(0x142)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x21bec7,_0x5d7e9b){const _0x3e70c6=a3_0x232ec9,_0xa0ac4d=document[_0x3e70c6(0x1a9)](_0x3e70c6(0x127)),_0xe3eb1b=document[_0x3e70c6(0x1a9)](_0x3e70c6(0x17d)),_0x1609fb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4bc82b=new Date();_0x4bc82b['setHours'](0x0,0x0,0x0,0x0);const _0x3545a1=getLocalDateStr(new Date()),_0x2088ca=document[_0x3e70c6(0x1cf)](),_0x1bff2e=document[_0x3e70c6(0x1cf)]();for(let _0xbb6e28=_0x21bec7;_0xbb6e28<=_0x5d7e9b;_0xbb6e28++){const _0x2cb400=new Date(_0x4bc82b);_0x2cb400[_0x3e70c6(0x192)](_0x2cb400[_0x3e70c6(0x1d7)]()+_0xbb6e28);const _0x103a8a=getLocalDateStr(_0x2cb400);let _0x5a695c=_0x2cb400['getDay']()-0x1;if(_0x5a695c===-0x1)_0x5a695c=0x6;const _0x199c07=_0x103a8a===_0x3545a1,_0x4dc29f=document[_0x3e70c6(0x1c1)](_0x3e70c6(0x16d));_0x4dc29f[_0x3e70c6(0x163)]=_0x3e70c6(0x1e5)+(_0x199c07?_0x3e70c6(0x145):''),_0x4dc29f['setAttribute'](_0x3e70c6(0xfa),_0x103a8a),_0x4dc29f[_0x3e70c6(0x154)]=_0x3e70c6(0x153)+_0x1609fb[_0x5a695c]+'</div><div\x20class=\x22dch-num\x22>'+_0x2cb400[_0x3e70c6(0x1d7)]()+_0x3e70c6(0x17c),_0x2088ca[_0x3e70c6(0x19b)](_0x4dc29f);const _0x151aa6=document[_0x3e70c6(0x1c1)](_0x3e70c6(0x16d));_0x151aa6[_0x3e70c6(0x163)]=_0x3e70c6(0x1db)+(_0x199c07?_0x3e70c6(0x145):''),_0x151aa6[_0x3e70c6(0x16e)](_0x3e70c6(0xfa),_0x103a8a),_0x151aa6[_0x3e70c6(0x16e)](_0x3e70c6(0x175),_0x5a695c),_0x1bff2e[_0x3e70c6(0x19b)](_0x151aa6);}_0xa0ac4d['insertBefore'](_0x2088ca,_0xa0ac4d[_0x3e70c6(0x143)]),_0xe3eb1b[_0x3e70c6(0x170)](_0x1bff2e,_0xe3eb1b['querySelector'](_0x3e70c6(0x1ad)));}function hexToRgba(_0x42564e,_0x43cd48){const _0x437da3=a3_0x232ec9;let _0x5b1cd6;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x42564e))return _0x5b1cd6=_0x42564e[_0x437da3(0x100)](0x1)[_0x437da3(0x130)](''),_0x5b1cd6[_0x437da3(0x102)]==0x3&&(_0x5b1cd6=[_0x5b1cd6[0x0],_0x5b1cd6[0x0],_0x5b1cd6[0x1],_0x5b1cd6[0x1],_0x5b1cd6[0x2],_0x5b1cd6[0x2]]),_0x5b1cd6='0x'+_0x5b1cd6['join'](''),_0x437da3(0x1d9)+[_0x5b1cd6>>0x10&0xff,_0x5b1cd6>>0x8&0xff,_0x5b1cd6&0xff]['join'](',')+','+_0x43cd48+')';return _0x437da3(0x173)+_0x43cd48+')';}let confirmResolver=null;function showCustomConfirm(_0x20c1d2,_0x47399a,_0x3bb9c3=!![]){const _0x39da24=a3_0x232ec9;document[_0x39da24(0x1a9)]('ccTitle')['textContent']=_0x20c1d2,document['getElementById']('ccText')[_0x39da24(0x132)]=_0x47399a;const _0x584f3e=document[_0x39da24(0x1a9)](_0x39da24(0x146));return _0x3bb9c3?(_0x584f3e['style'][_0x39da24(0x18c)]='#ff453a',_0x584f3e[_0x39da24(0x122)][_0x39da24(0x12a)]='600'):(_0x584f3e[_0x39da24(0x122)][_0x39da24(0x18c)]='#0a84ff',_0x584f3e[_0x39da24(0x122)][_0x39da24(0x12a)]='600'),new Promise(_0x365ff6=>{const _0x210e7f=_0x39da24;confirmResolver=_0x365ff6,document[_0x210e7f(0x1a9)](_0x210e7f(0x1ac))[_0x210e7f(0x1e4)][_0x210e7f(0x111)](_0x210e7f(0x1e2));});}function resolveCustomConfirm(_0x4d39e4){const _0x10fbd3=a3_0x232ec9;document['getElementById'](_0x10fbd3(0x1ac))[_0x10fbd3(0x1e4)][_0x10fbd3(0x106)](_0x10fbd3(0x1e2));if(confirmResolver)confirmResolver(_0x4d39e4);}async function tryCancelCurrentSession(){const _0x1ccf5a=a3_0x232ec9;if(!currentSession)return;const _0x262720=await showCustomConfirm(_0x1ccf5a(0x1c8),_0x1ccf5a(0x19d),!![]);if(!_0x262720)return;const _0x57e5b3=currentSession;closeAllSheets(),sessions=sessions[_0x1ccf5a(0x112)](_0x20b807=>_0x20b807['id']!==_0x57e5b3['id']),reRenderBlocks(),showToast(_0x1ccf5a(0x119)),lastUserActionTime=Date[_0x1ccf5a(0x13b)]();try{const _0xfc3f67=window['Telegram']?.['WebApp'],_0x29a9d5=await fetch(API_URL,{'method':_0x1ccf5a(0x1ef),'body':JSON[_0x1ccf5a(0x176)]({'action':_0x1ccf5a(0x174),'init_data':_0xfc3f67?.[_0x1ccf5a(0xf9)]||'','coachId':_0x57e5b3['coachId'],'dateStr':_0x57e5b3[_0x1ccf5a(0x11f)],'sessionId':_0x57e5b3['id']})});if(_0x29a9d5['ok'])DataManager[_0x1ccf5a(0x10d)]();}catch(_0x15f205){showToast(_0x1ccf5a(0x125));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3336db=a3_0x232ec9;if(!currentSession)return;document[_0x3336db(0x1a9)]('detailsSheet')[_0x3336db(0x1e4)][_0x3336db(0x106)](_0x3336db(0x101)),document[_0x3336db(0x1a9)]('rescheduleSheet')[_0x3336db(0x1e4)][_0x3336db(0x111)]('open');const _0x585b1f=document['getElementById'](_0x3336db(0x138)),_0x2dd7a7=document[_0x3336db(0x1a9)](_0x3336db(0x158));_0x585b1f[_0x3336db(0x154)]='',_0x2dd7a7[_0x3336db(0x154)]=_0x3336db(0x1cd);const [_0x275f7e,_0x453893]=currentSession['start']['split'](':')['map'](Number),[_0xfc5af7,_0x598f7b]=currentSession[_0x3336db(0x17f)][_0x3336db(0x130)](':')[_0x3336db(0x193)](Number),_0x21aa79=_0xfc5af7*0x3c+_0x598f7b-(_0x275f7e*0x3c+_0x453893);try{const _0x3fd45c=window['Telegram']?.[_0x3336db(0x16a)],_0x125606=await fetch(API_URL,{'method':_0x3336db(0x1ef),'body':JSON[_0x3336db(0x176)]({'action':_0x3336db(0x147),'coachId':currentSession[_0x3336db(0x15e)],'duration':_0x21aa79,'init_data':_0x3fd45c?.[_0x3336db(0xf9)]||'','excludeSessionId':currentSession['id']})}),_0x1095d8=await _0x125606[_0x3336db(0x108)]();_0x1095d8['ok']&&_0x1095d8[_0x3336db(0x13d)]?(availableSlotsCache=_0x1095d8['data'],renderRescheduleDates()):_0x2dd7a7[_0x3336db(0x154)]=_0x3336db(0x104);}catch(_0x4cb092){_0x2dd7a7[_0x3336db(0x154)]=_0x3336db(0x124);}}function renderRescheduleDates(){const _0x3be589=a3_0x232ec9,_0x2f45ac=document['getElementById'](_0x3be589(0x138));_0x2f45ac['innerHTML']='';const _0x429bf7=Object['keys'](availableSlotsCache)[_0x3be589(0x12c)](),_0x46acc1=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x429bf7[_0x3be589(0x102)]===0x0){document[_0x3be589(0x1a9)](_0x3be589(0x158))['innerHTML']=_0x3be589(0x10f);return;}_0x429bf7[_0x3be589(0x137)]((_0x34865d,_0x1c9185)=>{const _0x5664cc=_0x3be589,_0x270380=new Date(_0x34865d),_0xef4f9d=_0x46acc1[_0x270380[_0x5664cc(0x1e9)]()],_0x45dea2=_0x270380[_0x5664cc(0x1d7)](),_0x4ab780=document['createElement'](_0x5664cc(0x16d));_0x4ab780[_0x5664cc(0x163)]=_0x5664cc(0x179);if(_0x1c9185===0x0)_0x4ab780[_0x5664cc(0x1e4)][_0x5664cc(0x111)](_0x5664cc(0x1ed));_0x4ab780[_0x5664cc(0x154)]='<div\x20class=\x22rs-day-name\x22>'+_0xef4f9d+_0x5664cc(0x1b0)+_0x45dea2+_0x5664cc(0x17c),_0x4ab780[_0x5664cc(0x1c9)]=()=>selectRsDate(_0x34865d,_0x4ab780),_0x2f45ac[_0x5664cc(0x19b)](_0x4ab780);}),selectRsDate(_0x429bf7[0x0],_0x2f45ac['firstChild']);}function selectRsDate(_0x2180bf,_0x23e98e){const _0x5c2332=a3_0x232ec9;selectedRsDate=_0x2180bf,document[_0x5c2332(0x12f)](_0x5c2332(0xf8))[_0x5c2332(0x137)](_0x408fe8=>_0x408fe8['classList'][_0x5c2332(0x106)](_0x5c2332(0x1ed)));if(_0x23e98e)_0x23e98e[_0x5c2332(0x1e4)][_0x5c2332(0x111)](_0x5c2332(0x1ed));const _0x5d19f2=document[_0x5c2332(0x1a9)](_0x5c2332(0x158));_0x5d19f2[_0x5c2332(0x154)]='';const _0x15ebc4=availableSlotsCache[_0x2180bf]||[];if(_0x15ebc4[_0x5c2332(0x102)]===0x0){_0x5d19f2[_0x5c2332(0x154)]=_0x5c2332(0x104);return;}_0x15ebc4[_0x5c2332(0x137)](_0x2ebcfd=>{const _0x24efa8=_0x5c2332,_0x352549=document[_0x24efa8(0x1c1)](_0x24efa8(0x149));_0x352549[_0x24efa8(0x163)]='rs-time-btn',_0x352549['textContent']=_0x2ebcfd,_0x352549[_0x24efa8(0x1c9)]=()=>confirmReschedule(_0x2ebcfd),_0x5d19f2[_0x24efa8(0x19b)](_0x352549);});}async function confirmReschedule(_0x1c4c63){const _0x321fde=a3_0x232ec9,_0x18c94f=new Date(selectedRsDate),_0x3e0685=_0x18c94f[_0x321fde(0x1cb)](_0x321fde(0x169),{'day':_0x321fde(0x150),'month':'long'}),_0x3bf1bd=await showCustomConfirm(_0x321fde(0xf7),_0x321fde(0x165)+_0x3e0685+_0x321fde(0x188)+_0x1c4c63+'?',![]);if(!_0x3bf1bd)return;closeAllSheets(),showToast(_0x321fde(0x115)),lastUserActionTime=Date['now']();const _0x55196a=currentSession[_0x321fde(0x11f)],_0x3cfac9=currentSession['id'],[_0x5b21dc,_0x3e66d9]=currentSession[_0x321fde(0x1b5)][_0x321fde(0x130)](':')[_0x321fde(0x193)](Number),[_0xfc996a,_0x1b277f]=currentSession[_0x321fde(0x17f)][_0x321fde(0x130)](':')[_0x321fde(0x193)](Number),_0xf51476=_0xfc996a*0x3c+_0x1b277f-(_0x5b21dc*0x3c+_0x3e66d9),[_0xc55f5f,_0xedb82b]=_0x1c4c63['split'](':')[_0x321fde(0x193)](Number),_0x4f5f4a=_0xc55f5f*0x3c+_0xedb82b+_0xf51476,_0x3dbc82=Math[_0x321fde(0x13a)](_0x4f5f4a/0x3c),_0x3b0786=_0x4f5f4a%0x3c,_0x5c086c=String(_0x3dbc82)['padStart'](0x2,'0')+':'+String(_0x3b0786)['padStart'](0x2,'0'),_0x1b6d11=sessions[_0x321fde(0x1af)](_0x40eea1=>_0x40eea1['id']===_0x3cfac9);_0x1b6d11!==-0x1&&(sessions[_0x1b6d11][_0x321fde(0x11f)]=selectedRsDate,sessions[_0x1b6d11][_0x321fde(0x1b5)]=_0x1c4c63,sessions[_0x1b6d11]['end']=_0x5c086c,reRenderBlocks());try{const _0x5df2d1=window['Telegram']?.['WebApp'],_0x23ebe4=await fetch(API_URL,{'method':_0x321fde(0x1ef),'body':JSON[_0x321fde(0x176)]({'action':_0x321fde(0x185),'init_data':_0x5df2d1?.['initData']||'','oldSessionId':_0x3cfac9,'oldDate':_0x55196a,'newDate':selectedRsDate,'newTime':_0x1c4c63,'coachId':currentSession[_0x321fde(0x15e)]})}),_0xaba5b3=await _0x23ebe4[_0x321fde(0x108)]();!_0xaba5b3['ok']?(showToast(_0x321fde(0x117)),DataManager[_0x321fde(0x11b)]()):(showToast(_0x321fde(0x144)),DataManager['saveLocally']());}catch(_0x3ff920){showToast(_0x321fde(0x125));}}document[a3_0x232ec9(0x140)](a3_0x232ec9(0x105),init);