const a3_0x3463b9=a3_0x18a4;(function(_0x1522f9,_0x5f1570){const _0x214e7f=a3_0x18a4,_0x23a60f=_0x1522f9();while(!![]){try{const _0x62cdba=-parseInt(_0x214e7f(0x208))/0x1*(parseInt(_0x214e7f(0x270))/0x2)+parseInt(_0x214e7f(0x216))/0x3*(-parseInt(_0x214e7f(0x24a))/0x4)+parseInt(_0x214e7f(0x1ed))/0x5+-parseInt(_0x214e7f(0x1fc))/0x6+-parseInt(_0x214e7f(0x2a8))/0x7+parseInt(_0x214e7f(0x287))/0x8+parseInt(_0x214e7f(0x231))/0x9;if(_0x62cdba===_0x5f1570)break;else _0x23a60f['push'](_0x23a60f['shift']());}catch(_0x52f09c){_0x23a60f['push'](_0x23a60f['shift']());}}}(a3_0x4578,0x81070));const APP_VERSION=a3_0x3463b9(0x2a0),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x3463b9(0x264),KEY_SETTINGS=a3_0x3463b9(0x24d),KEY_CLIENTS=a3_0x3463b9(0x292);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5c0b3b=a3_0x3463b9,_0x4be051=(function(){let _0x79ce52=!![];return function(_0x5a6c05,_0x5758c8){const _0x22b661=_0x79ce52?function(){const _0xacd584=a3_0x18a4;if(_0x5758c8){const _0x1a5a8b=_0x5758c8[_0xacd584(0x274)](_0x5a6c05,arguments);return _0x5758c8=null,_0x1a5a8b;}}:function(){};return _0x79ce52=![],_0x22b661;};}()),_0x685579=_0x4be051(this,function(){const _0x29a3c7=a3_0x18a4;return _0x685579['toString']()[_0x29a3c7(0x203)]('(((.+)+)+)+$')[_0x29a3c7(0x233)]()[_0x29a3c7(0x2ac)](_0x685579)[_0x29a3c7(0x203)]('(((.+)+)+)+$');});_0x685579();try{const _0x4c898b=window[_0x5c0b3b(0x207)]?.[_0x5c0b3b(0x25d)];if(!_0x4c898b)return;_0x4c898b[_0x5c0b3b(0x25c)](),_0x4c898b[_0x5c0b3b(0x291)]();try{_0x4c898b[_0x5c0b3b(0x299)]('#050505'),_0x4c898b[_0x5c0b3b(0x200)]&&_0x4c898b[_0x5c0b3b(0x200)]('#050505');}catch(_0xfee507){console['log']('Error\x20setting\x20color:',_0xfee507);}try{_0x4c898b[_0x5c0b3b(0x29c)]&&(_0x4c898b['BackButton'][_0x5c0b3b(0x1ee)](),_0x4c898b[_0x5c0b3b(0x29c)][_0x5c0b3b(0x239)](),_0x4c898b['BackButton'][_0x5c0b3b(0x290)](function(){const _0x2b49f6=_0x5c0b3b;window[_0x2b49f6(0x228)]['href']=_0x2b49f6(0x1e1);}));}catch(_0x5813cb){console[_0x5c0b3b(0x26b)](_0x5c0b3b(0x273),_0x5813cb);}try{if(_0x4c898b[_0x5c0b3b(0x214)])_0x4c898b[_0x5c0b3b(0x214)]();}catch(_0x19a17c){}}catch(_0x29170d){console[_0x5c0b3b(0x28e)](_0x5c0b3b(0x1fe),_0x29170d);}}());function isAdmin(){const _0x23d7fb=a3_0x3463b9;try{const _0x59758f=Number(window[_0x23d7fb(0x207)]?.[_0x23d7fb(0x25d)]?.[_0x23d7fb(0x22d)]?.[_0x23d7fb(0x25f)]?.['id']);return _0x59758f===0xbaf7174;}catch(_0x588df3){return![];}}const DataManager={'saveLocally'(){const _0x1875b1=a3_0x3463b9;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x1875b1(0x1f1)](sessions)),localStorage[_0x1875b1(0x257)](KEY_CLIENTS,JSON[_0x1875b1(0x1f1)](clients)),localStorage[_0x1875b1(0x257)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x57b3e4){}},'loadLocal'(){const _0x209179=a3_0x3463b9;try{const _0x21d021=localStorage[_0x209179(0x1f3)](KEY_SESSIONS);if(_0x21d021)sessions=JSON['parse'](_0x21d021);const _0x531684=localStorage[_0x209179(0x1f3)](KEY_CLIENTS);if(_0x531684)clients=JSON['parse'](_0x531684);const _0x2ab766=localStorage[_0x209179(0x1f3)](KEY_SETTINGS);if(_0x2ab766){const _0x4e4bc8=JSON['parse'](_0x2ab766);if(_0x4e4bc8[_0x209179(0x205)])availabilityPattern=_0x4e4bc8['pattern'];if(_0x4e4bc8['ranges'])specialRanges=_0x4e4bc8['ranges'];if(_0x4e4bc8[_0x209179(0x1c9)])dateExceptions=_0x4e4bc8['exceptions'];}}catch(_0x1fbaba){}},async 'syncLoad'(){const _0x34339a=a3_0x3463b9,_0x4ffcdb=new Date(),_0x200324=_0x4ffcdb['getFullYear']()+'-'+String(_0x4ffcdb[_0x34339a(0x23a)]()+0x1)['padStart'](0x2,'0'),_0x294af9=new Date(_0x4ffcdb);_0x294af9[_0x34339a(0x1d3)](_0x4ffcdb[_0x34339a(0x23a)]()+0x1);const _0x4907c0=_0x294af9[_0x34339a(0x2a7)]()+'-'+String(_0x294af9['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4ea2db=Date[_0x34339a(0x285)]();try{const _0x1b94a7=window['Telegram']?.[_0x34339a(0x25d)],_0x13835a=_0x1b94a7?.[_0x34339a(0x284)]||'',[_0x3169a9,_0x10e73d]=await Promise[_0x34339a(0x236)]([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x13835a,'month_str':_0x200324})})[_0x34339a(0x2ae)](_0x10295b=>_0x10295b[_0x34339a(0x29f)]()),fetch(API_URL,{'method':_0x34339a(0x26d),'body':JSON[_0x34339a(0x1f1)]({'action':'client_load','init_data':_0x13835a,'month_str':_0x4907c0})})[_0x34339a(0x2ae)](_0x5902bf=>_0x5902bf[_0x34339a(0x29f)]())]);if(lastUserActionTime>_0x4ea2db){console[_0x34339a(0x26b)](_0x34339a(0x1e4));return;}if(_0x3169a9['ok'])this['applyData'](_0x3169a9[_0x34339a(0x2a4)],_0x200324);if(_0x10e73d['ok'])this[_0x34339a(0x26f)](_0x10e73d[_0x34339a(0x2a4)],_0x4907c0);this[_0x34339a(0x212)]();}catch(_0x192359){}},'applyData'(_0x132738,_0x39953b){const _0x16bf49=a3_0x3463b9;if(!_0x132738)return;if(_0x132738[_0x16bf49(0x242)]){if(_0x132738[_0x16bf49(0x242)][_0x16bf49(0x205)])availabilityPattern=_0x132738[_0x16bf49(0x242)][_0x16bf49(0x205)];if(_0x132738['settings'][_0x16bf49(0x288)])specialRanges=_0x132738[_0x16bf49(0x242)][_0x16bf49(0x288)];if(_0x132738[_0x16bf49(0x242)][_0x16bf49(0x1c9)])dateExceptions=_0x132738[_0x16bf49(0x242)][_0x16bf49(0x1c9)];}if(_0x132738[_0x16bf49(0x293)]&&Array[_0x16bf49(0x1f2)](_0x132738[_0x16bf49(0x293)]))clients=_0x132738['clients'];_0x132738[_0x16bf49(0x25e)]&&(coachProfiles={...coachProfiles,..._0x132738[_0x16bf49(0x25e)]}),_0x132738[_0x16bf49(0x225)]&&(sessions=sessions[_0x16bf49(0x22b)](_0x35c3bb=>!_0x35c3bb[_0x16bf49(0x1e2)][_0x16bf49(0x26c)](_0x39953b)),Object['keys'](_0x132738['calendar'])[_0x16bf49(0x1b5)](_0x27f942=>{const _0x122e92=_0x16bf49,_0x42f558=_0x132738['calendar'][_0x27f942];_0x42f558[_0x122e92(0x1b5)](_0x3d2386=>{const _0x2ed421=_0x122e92;sessions[_0x2ed421(0x27a)]({'id':_0x3d2386['i'],'clientId':_0x3d2386['c'],'coachId':_0x3d2386[_0x2ed421(0x22f)],'dateStr':_0x39953b+'-'+_0x27f942[_0x2ed421(0x255)](0x2,'0'),'start':_0x3d2386['s'],'end':_0x3d2386['e'],'note':_0x3d2386['n']||'','status':_0x3d2386['st']||_0x2ed421(0x1b8),'seriesId':_0x3d2386[_0x2ed421(0x1e8)]});});})),reRenderBlocks();}};function init(){const _0x20d259=a3_0x3463b9;DataManager[_0x20d259(0x22a)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x20d259(0x1ec))[_0x20d259(0x232)](_0x20d259(0x213),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x20d259(0x1f5)]();}function renderTimeColumn(){const _0x10c273=a3_0x3463b9,_0x556b18=document['getElementById'](_0x10c273(0x210)),_0x573594=document[_0x10c273(0x282)](_0x10c273(0x1c1));_0x556b18[_0x10c273(0x1bb)]='',_0x556b18[_0x10c273(0x29e)](_0x573594);for(let _0x44c9f8=0x0;_0x44c9f8<0x18;_0x44c9f8++){const _0x143336=document['createElement'](_0x10c273(0x244));_0x143336[_0x10c273(0x1db)]=_0x10c273(0x20b);if(_0x44c9f8>0x0)_0x143336[_0x10c273(0x1bb)]=_0x10c273(0x28b)+String(_0x44c9f8)[_0x10c273(0x255)](0x2,'0')+_0x10c273(0x248);_0x556b18[_0x10c273(0x29e)](_0x143336);}}function renderDayRange(_0xf0c349,_0x51ddd3){const _0x58d979=a3_0x3463b9,_0x5c4162=document[_0x58d979(0x282)]('daysHeaderTrack'),_0x52b2b6=document[_0x58d979(0x282)]('gridColumns'),_0x302880=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x21180b=new Date();_0x21180b[_0x58d979(0x262)](0x0,0x0,0x0,0x0);const _0x12aa8f=getLocalDateStr(new Date());for(let _0x13e651=_0xf0c349;_0x13e651<=_0x51ddd3;_0x13e651++){const _0x56e752=new Date(_0x21180b);_0x56e752[_0x58d979(0x267)](_0x56e752['getDate']()+_0x13e651);const _0xe399cf=getLocalDateStr(_0x56e752);let _0x166ebd=_0x56e752[_0x58d979(0x235)]()-0x1;if(_0x166ebd===-0x1)_0x166ebd=0x6;const _0x2ca126=_0xe399cf===_0x12aa8f,_0x521659=document[_0x58d979(0x2a3)](_0x58d979(0x244));_0x521659[_0x58d979(0x1db)]=_0x58d979(0x234)+(_0x2ca126?_0x58d979(0x237):''),_0x521659[_0x58d979(0x2a2)]('data-date',_0xe399cf),_0x521659[_0x58d979(0x1bb)]=_0x58d979(0x20c)+_0x302880[_0x166ebd]+'</div><div\x20class=\x22dch-num\x22>'+_0x56e752[_0x58d979(0x1d6)]()+_0x58d979(0x1da),_0x5c4162['appendChild'](_0x521659);const _0x5e0573=document[_0x58d979(0x2a3)]('div');_0x5e0573['className']=_0x58d979(0x229)+(_0x2ca126?'today':''),_0x5e0573[_0x58d979(0x2a2)](_0x58d979(0x298),_0xe399cf),_0x5e0573['setAttribute'](_0x58d979(0x1de),_0x166ebd),_0x52b2b6[_0x58d979(0x29e)](_0x5e0573);}}function reRenderBlocks(){const _0x1edd0e=a3_0x3463b9;document[_0x1edd0e(0x1e9)]('.day-column')['forEach'](_0x50624e=>{const _0x494c63=_0x1edd0e;_0x50624e['querySelectorAll'](_0x494c63(0x1bf))[_0x494c63(0x1b5)](_0x9ce63e=>_0x9ce63e['remove']());const _0x52d83d=_0x50624e[_0x494c63(0x1e7)](_0x494c63(0x298)),_0x478e43=parseInt(_0x50624e[_0x494c63(0x1e7)](_0x494c63(0x1de))),_0x36d719=Math[_0x494c63(0x217)](_0x50624e['offsetLeft']);(availabilityPattern[_0x478e43]||[])[_0x494c63(0x1b5)](_0x46be5d=>{const _0x8a4571=_0x494c63,_0x1a88f9=document[_0x8a4571(0x2a3)](_0x8a4571(0x244));_0x1a88f9['className']=_0x8a4571(0x249),_0x1a88f9[_0x8a4571(0x1ce)][_0x8a4571(0x240)]=_0x46be5d*GRID_H+'px',_0x1a88f9['style']['backgroundPosition']='-'+_0x36d719+_0x8a4571(0x1b9)+_0x46be5d*GRID_H+'px',_0x50624e[_0x8a4571(0x29e)](_0x1a88f9);});if(specialRanges[_0x494c63(0x25b)]>0x0){const _0x16662e=new Date(_0x52d83d+'T00:00:00')[_0x494c63(0x2af)](),_0x123801=new Date(_0x52d83d+_0x494c63(0x209))[_0x494c63(0x2af)]();specialRanges['forEach'](_0x5db015=>{const _0x2907ac=_0x494c63,_0xfc095a=new Date(_0x5db015[_0x2907ac(0x1d5)])[_0x2907ac(0x2af)](),_0x5e83dd=new Date(_0x5db015['end'])[_0x2907ac(0x2af)](),_0x480603=Math['max'](_0x16662e,_0xfc095a),_0x479cc4=Math[_0x2907ac(0x294)](_0x123801,_0x5e83dd);if(_0x480603<_0x479cc4){const _0x24dbd3=(_0x480603-_0x16662e)/0x36ee80*GRID_H,_0x37aef6=(_0x479cc4-_0x480603)/0x36ee80*GRID_H,_0x50c05b=document[_0x2907ac(0x2a3)]('div');_0x37aef6>=23.5*GRID_H?(_0x50c05b[_0x2907ac(0x1db)]='day-off-overlay\x20stripe-bg',_0x50c05b['style']['backgroundPosition']='-'+_0x36d719+_0x2907ac(0x2ab)):(_0x50c05b[_0x2907ac(0x1db)]=_0x2907ac(0x215),_0x50c05b['style'][_0x2907ac(0x240)]=_0x24dbd3+'px',_0x50c05b['style']['height']=_0x37aef6+'px',_0x50c05b[_0x2907ac(0x1ce)][_0x2907ac(0x289)]='-'+_0x36d719+_0x2907ac(0x1b9)+_0x24dbd3+'px'),_0x50624e[_0x2907ac(0x29e)](_0x50c05b);}});}renderEventsForColumn(_0x50624e,_0x52d83d);});}function a3_0x18a4(_0x270b7c,_0xc721b4){_0x270b7c=_0x270b7c-0x1b4;const _0x2d084a=a3_0x4578();let _0x51eb50=_0x2d084a[_0x270b7c];return _0x51eb50;}function renderEventsForColumn(_0x2a6d74,_0x5cf793){const _0x235053=a3_0x3463b9,_0x360919=sessions[_0x235053(0x22b)](_0x28a606=>_0x28a606[_0x235053(0x1e2)]===_0x5cf793),_0x2928c4=_0x360919['map'](_0xc972cd=>{const _0x5b126b=_0x235053,[_0x3a9a12,_0x1c40ff]=_0xc972cd['start']['split'](':')[_0x5b126b(0x20d)](Number),[_0x16bf66,_0x586006]=_0xc972cd['end']['split'](':')[_0x5b126b(0x20d)](Number);return{'data':_0xc972cd,'start':_0x3a9a12*0x3c+_0x1c40ff,'end':_0x16bf66*0x3c+_0x586006,'colIndex':0x0};});_0x2928c4[_0x235053(0x219)]((_0x24b1ee,_0x25d783)=>_0x24b1ee[_0x235053(0x1d5)]-_0x25d783[_0x235053(0x1d5)]||_0x25d783[_0x235053(0x281)]-_0x25d783[_0x235053(0x1d5)]-(_0x24b1ee[_0x235053(0x281)]-_0x24b1ee[_0x235053(0x1d5)]));const _0x19550c=[];_0x2928c4[_0x235053(0x1b5)](_0x5e9f79=>{const _0x1ca140=_0x235053;let _0x1ff054=![];for(let _0x555423=0x0;_0x555423<_0x19550c[_0x1ca140(0x25b)];_0x555423++){const _0x46979f=_0x19550c[_0x555423];if(_0x5e9f79[_0x1ca140(0x1d5)]>=_0x46979f[_0x46979f[_0x1ca140(0x25b)]-0x1][_0x1ca140(0x281)]){_0x46979f[_0x1ca140(0x27a)](_0x5e9f79),_0x5e9f79[_0x1ca140(0x296)]=_0x555423,_0x1ff054=!![];break;}}!_0x1ff054&&(_0x19550c[_0x1ca140(0x27a)]([_0x5e9f79]),_0x5e9f79[_0x1ca140(0x296)]=_0x19550c['length']-0x1);}),_0x2928c4[_0x235053(0x1b5)](_0x2cad10=>{const _0x408f4b=_0x235053;let _0x5b1a57=0x0;_0x2928c4[_0x408f4b(0x1b5)](_0x133e47=>{const _0x3c7b4d=_0x408f4b;if(Math[_0x3c7b4d(0x226)](_0x2cad10['start'],_0x133e47[_0x3c7b4d(0x1d5)])<Math[_0x3c7b4d(0x294)](_0x2cad10['end'],_0x133e47[_0x3c7b4d(0x281)])&&_0x133e47[_0x3c7b4d(0x296)]>_0x5b1a57)_0x5b1a57=_0x133e47[_0x3c7b4d(0x296)];});const _0x209147=_0x5b1a57+0x1,_0x23d90f=0x64/_0x209147,_0x504417=_0x2cad10['colIndex']*_0x23d90f,_0xc0f249=document[_0x408f4b(0x2a3)]('div'),_0xd1faa0=_0x2cad10[_0x408f4b(0x2a4)];let _0x23fa35=_0x408f4b(0x261);if(clients&&clients[_0x408f4b(0x25b)]>0x0){const _0x447512=clients[_0x408f4b(0x1cc)](_0x340a8f=>String(_0x340a8f['id'])===String(_0xd1faa0[_0x408f4b(0x1c2)]));if(_0x447512&&_0x447512['color'])_0x23fa35=_0x447512[_0x408f4b(0x24f)];}const _0x1833dd=_0xd1faa0[_0x408f4b(0x27e)]===_0x408f4b(0x1ea),_0x465f40=_0x1833dd?0x1:0.45;_0xc0f249[_0x408f4b(0x1db)]='event-card'+(_0x1833dd?_0x408f4b(0x243):''),_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x21d)]=hexToRgba(_0x23fa35,_0x465f40),_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x202)]=_0x23fa35;const _0x2c11f9=_0x2cad10[_0x408f4b(0x1d5)]/0x3c*GRID_H,_0x25ad96=(_0x2cad10[_0x408f4b(0x281)]-_0x2cad10[_0x408f4b(0x1d5)])/0x3c*GRID_H;_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x240)]=_0x2c11f9+'px',_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x21b)]=Math[_0x408f4b(0x226)](_0x25ad96,0x14)+'px',_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x276)]=_0x408f4b(0x253)+_0x23d90f+_0x408f4b(0x224),_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x259)]='calc('+_0x504417+_0x408f4b(0x252),_0xc0f249[_0x408f4b(0x1ce)][_0x408f4b(0x263)]=0xa+_0x2cad10[_0x408f4b(0x296)];if(_0x23d90f<0x55)_0xc0f249[_0x408f4b(0x2b0)]['add'](_0x408f4b(0x1df));let _0x657735='';if(_0xd1faa0[_0x408f4b(0x29d)])_0x657735+=_0x408f4b(0x27c);if(_0x1833dd)_0x657735+=_0x408f4b(0x22e);_0xc0f249[_0x408f4b(0x1bb)]=_0x408f4b(0x1cd)+_0xd1faa0[_0x408f4b(0x1d5)]+_0x408f4b(0x20f)+_0xd1faa0['end']+_0x408f4b(0x1fa)+_0x657735+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xc0f249['onclick']=_0x2d2fab=>{const _0x3b3a68=_0x408f4b;_0x2d2fab[_0x3b3a68(0x23f)](),openDetails(_0xd1faa0);},_0x2a6d74['appendChild'](_0xc0f249);});}function openAnalytics(){const _0x59cd64=a3_0x3463b9,_0x4a4aaf=document[_0x59cd64(0x1c4)](_0x59cd64(0x1d8));setAnalyticsPeriod(_0x59cd64(0x1c7),_0x4a4aaf),openSheet(_0x59cd64(0x241));}function setAnalyticsPeriod(_0x189dea,_0x4d21c5){const _0x3e591f=a3_0x3463b9;currentAnPeriod=_0x189dea,document[_0x3e591f(0x1e9)]('.period-switch\x20.p-btn')['forEach'](_0x6c6e5=>_0x6c6e5[_0x3e591f(0x2b0)][_0x3e591f(0x295)]('active'));if(_0x4d21c5)_0x4d21c5[_0x3e591f(0x2b0)][_0x3e591f(0x1d0)](_0x3e591f(0x271));const _0xd961a7=document[_0x3e591f(0x282)](_0x3e591f(0x1c3));_0xd961a7['style'][_0x3e591f(0x1dc)]=_0x189dea===_0x3e591f(0x1d1)?_0x3e591f(0x266):'none';const _0x540c04=new Date();let _0x1ed6ec=new Date(),_0x1ea383=new Date();if(_0x189dea===_0x3e591f(0x1c7))_0x1ed6ec=getStartOfWeek(_0x540c04),_0x1ea383=new Date(_0x1ed6ec),_0x1ea383[_0x3e591f(0x267)](_0x1ea383[_0x3e591f(0x1d6)]()+0x6);else{if(_0x189dea===_0x3e591f(0x1c0))_0x1ed6ec=new Date(_0x540c04[_0x3e591f(0x2a7)](),_0x540c04[_0x3e591f(0x23a)](),0x1),_0x1ea383=new Date(_0x540c04[_0x3e591f(0x2a7)](),_0x540c04['getMonth']()+0x1,0x0);else{!document[_0x3e591f(0x282)](_0x3e591f(0x20a))[_0x3e591f(0x25a)]&&(document['getElementById'](_0x3e591f(0x20a))['value']=getLocalDateStr(_0x540c04),document[_0x3e591f(0x282)](_0x3e591f(0x250))['value']=getLocalDateStr(_0x540c04));refreshAnalytics();return;}}document[_0x3e591f(0x282)](_0x3e591f(0x20a))['value']=getLocalDateStr(_0x1ed6ec),document[_0x3e591f(0x282)]('anEnd')[_0x3e591f(0x25a)]=getLocalDateStr(_0x1ea383),refreshAnalytics();}function refreshAnalytics(){const _0x12013e=a3_0x3463b9,_0x8c3b5=document[_0x12013e(0x282)](_0x12013e(0x20a))[_0x12013e(0x25a)],_0x304df4=document[_0x12013e(0x282)](_0x12013e(0x250))[_0x12013e(0x25a)];if(!_0x8c3b5||!_0x304df4)return;const _0x136163=sessions[_0x12013e(0x22b)](_0x2e213b=>_0x2e213b[_0x12013e(0x1e2)]>=_0x8c3b5&&_0x2e213b[_0x12013e(0x1e2)]<=_0x304df4&&_0x2e213b[_0x12013e(0x27e)]!==_0x12013e(0x1f4)),_0x1966a0=_0x136163[_0x12013e(0x25b)],_0x59b73e=_0x136163['filter'](_0x69c457=>_0x69c457[_0x12013e(0x27e)]==='completed')[_0x12013e(0x25b)],_0x363d76=_0x1966a0>0x0?Math[_0x12013e(0x217)](_0x59b73e/_0x1966a0*0x64):0x0;document[_0x12013e(0x282)](_0x12013e(0x247))[_0x12013e(0x1b6)]=_0x363d76+'%',document[_0x12013e(0x282)](_0x12013e(0x275))[_0x12013e(0x1b6)]=_0x59b73e+_0x12013e(0x251)+_0x1966a0+_0x12013e(0x1ba);const _0x5e2ab8=document['getElementById'](_0x12013e(0x223)),_0x53129d=0x2*Math['PI']*0x23,_0x1bde74=_0x53129d-_0x363d76/0x64*_0x53129d;_0x5e2ab8[_0x12013e(0x1ce)]['strokeDashoffset']=_0x1bde74;const _0xbdb9a3={};_0x136163[_0x12013e(0x1b5)](_0x39c73b=>{const _0x3a7c73=_0x12013e,_0x51c732=_0x39c73b[_0x3a7c73(0x23d)]||_0x3a7c73(0x1d7);if(!_0xbdb9a3[_0x51c732]){const _0x16017b='#'+_0x51c732[_0x3a7c73(0x233)]()[_0x3a7c73(0x268)](0x0,0x6);_0xbdb9a3[_0x51c732]={'total':0x0,'done':0x0,'color':_0x16017b};}_0xbdb9a3[_0x51c732][_0x3a7c73(0x2a1)]++;if(_0x39c73b[_0x3a7c73(0x27e)]===_0x3a7c73(0x1ea))_0xbdb9a3[_0x51c732]['done']++;});const _0x4f8310=document[_0x12013e(0x282)](_0x12013e(0x1c5));_0x4f8310[_0x12013e(0x1bb)]='';const _0x161a8f=Object['entries'](_0xbdb9a3)['sort']((_0x3ebdb3,_0x2a83c8)=>_0x2a83c8[0x1][_0x12013e(0x2a1)]-_0x3ebdb3[0x1][_0x12013e(0x2a1)]);if(_0x161a8f[_0x12013e(0x25b)]===0x0){_0x4f8310[_0x12013e(0x1bb)]=_0x12013e(0x280);return;}_0x161a8f[_0x12013e(0x1b5)](([_0x5d8f2d,_0x2fcf66])=>{const _0x2436c8=_0x12013e,_0x5676c4=Math['round'](_0x2fcf66[_0x2436c8(0x1e3)]/_0x2fcf66[_0x2436c8(0x2a1)]*0x64),_0x4f945b=document[_0x2436c8(0x2a3)]('div');_0x4f945b[_0x2436c8(0x1db)]=_0x2436c8(0x230),_0x4f945b['style']['borderLeftColor']=_0x2fcf66[_0x2436c8(0x24f)],_0x4f945b[_0x2436c8(0x1bb)]=_0x2436c8(0x1dd)+_0x5d8f2d['substr'](0x0,0x5)+_0x2436c8(0x28c)+_0x2fcf66[_0x2436c8(0x1e3)]+_0x2436c8(0x1c6)+_0x2fcf66['total']+_0x2436c8(0x277)+_0x5676c4+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f8310['appendChild'](_0x4f945b);});}function openDetails(_0x606cca){const _0x1b1843=a3_0x3463b9;currentSession=_0x606cca;const _0x20d1d1=new Date(_0x606cca[_0x1b1843(0x1e2)]),_0x3c92c3=_0x20d1d1[_0x1b1843(0x1cf)](_0x1b1843(0x1fd),{'weekday':_0x1b1843(0x28a),'day':_0x1b1843(0x1b7),'month':'long'});document[_0x1b1843(0x282)](_0x1b1843(0x21e))[_0x1b1843(0x1b6)]=_0x3c92c3[_0x1b1843(0x23b)](0x0)[_0x1b1843(0x21c)]()+_0x3c92c3[_0x1b1843(0x201)](0x1),document[_0x1b1843(0x282)]('detTime')[_0x1b1843(0x1b6)]=_0x606cca['start']+_0x1b1843(0x20f)+_0x606cca[_0x1b1843(0x281)],document[_0x1b1843(0x282)](_0x1b1843(0x1eb))[_0x1b1843(0x1b6)]=_0x606cca['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3efd8d=document[_0x1b1843(0x282)]('detStatus'),_0x2dd17c=document[_0x1b1843(0x282)](_0x1b1843(0x1c8)),_0x4834a8=_0x2dd17c[_0x1b1843(0x1c4)](_0x1b1843(0x246)),_0x3eb4e0=_0x2dd17c[_0x1b1843(0x1c4)](_0x1b1843(0x206)),_0xa08979=document[_0x1b1843(0x282)](_0x1b1843(0x1fb));if(_0x606cca['status']===_0x1b1843(0x1ea))_0x3efd8d[_0x1b1843(0x1b6)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x3efd8d[_0x1b1843(0x1ce)]['color']=_0x1b1843(0x22c),_0x2dd17c['style']['display']=_0x1b1843(0x204);else{_0x3efd8d[_0x1b1843(0x1b6)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x3efd8d['style'][_0x1b1843(0x24f)]='var(--acc-blue)',_0x2dd17c[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]='block';const _0x315299=new Date(_0x606cca[_0x1b1843(0x1e2)]+'T'+_0x606cca[_0x1b1843(0x1d5)]),_0x1bea73=new Date(),_0x41250f=(_0x315299-_0x1bea73)/(0x3e8*0x3c*0x3c),_0x1603d8=coachProfiles[_0x606cca[_0x1b1843(0x23d)]]&&coachProfiles[_0x606cca[_0x1b1843(0x23d)]][_0x1b1843(0x27f)]?parseInt(coachProfiles[_0x606cca[_0x1b1843(0x23d)]][_0x1b1843(0x27f)]):0x18;if(_0x1603d8===0x0||_0x41250f>=_0x1603d8)_0x4834a8[_0x1b1843(0x1ce)]['display']=_0x1b1843(0x20e),_0x3eb4e0[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]='block',_0xa08979[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]='none';else{_0x4834a8[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]=_0x1b1843(0x204),_0x3eb4e0[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]=_0x1b1843(0x204),_0xa08979[_0x1b1843(0x1ce)][_0x1b1843(0x1dc)]=_0x1b1843(0x20e);let _0x155094=_0x1603d8===0x0?_0x1b1843(0x211):_0x1b1843(0x29b)+_0x1603d8+_0x1b1843(0x24b);_0xa08979[_0x1b1843(0x1b6)]=_0x1b1843(0x1bc)+_0x155094+_0x1b1843(0x1d9);}}document[_0x1b1843(0x282)](_0x1b1843(0x245))[_0x1b1843(0x2b0)]['add']('active'),document['getElementById'](_0x1b1843(0x21f))[_0x1b1843(0x2b0)][_0x1b1843(0x1d0)](_0x1b1843(0x1f0));}function closeAllSheets(){const _0x5d06f3=a3_0x3463b9;document[_0x5d06f3(0x282)](_0x5d06f3(0x245))[_0x5d06f3(0x2b0)]['remove'](_0x5d06f3(0x271)),document['querySelectorAll'](_0x5d06f3(0x227))[_0x5d06f3(0x1b5)](_0x5cea39=>_0x5cea39[_0x5d06f3(0x2b0)]['remove'](_0x5d06f3(0x1f0)));}function openSheet(_0x28f88d){const _0x169a7e=a3_0x3463b9;document[_0x169a7e(0x282)]('overlay')[_0x169a7e(0x2b0)][_0x169a7e(0x1d0)]('active'),document[_0x169a7e(0x282)](_0x28f88d)[_0x169a7e(0x2b0)][_0x169a7e(0x1d0)](_0x169a7e(0x1f0));}function getLocalDateStr(_0xc4db4d){const _0x16df68=a3_0x3463b9,_0x5ed952=_0xc4db4d['getFullYear'](),_0x41af41=String(_0xc4db4d[_0x16df68(0x23a)]()+0x1)[_0x16df68(0x255)](0x2,'0'),_0x413c3e=String(_0xc4db4d[_0x16df68(0x1d6)]())['padStart'](0x2,'0');return _0x5ed952+'-'+_0x41af41+'-'+_0x413c3e;}function getStartOfWeek(_0x59a749){const _0x5563a7=a3_0x3463b9,_0x1a55bb=new Date(_0x59a749),_0xd9bf3f=_0x1a55bb[_0x5563a7(0x235)](),_0x19069f=_0x1a55bb[_0x5563a7(0x1d6)]()-_0xd9bf3f+(_0xd9bf3f===0x0?-0x6:0x1);return _0x1a55bb[_0x5563a7(0x267)](_0x19069f),_0x1a55bb['setHours'](0x0,0x0,0x0,0x0),_0x1a55bb;}function scrollToToday(){const _0x4c5b83=getLocalDateStr(new Date());setTimeout(()=>{const _0x4b3c46=a3_0x18a4,_0x17b2f9=document['querySelector'](_0x4b3c46(0x24e)+_0x4c5b83+'\x22]');if(_0x17b2f9){const _0x4be5de=document[_0x4b3c46(0x282)](_0x4b3c46(0x1ec)),_0x4ad537=_0x17b2f9['offsetLeft']-_0x4be5de[_0x4b3c46(0x283)]/0x2+_0x17b2f9[_0x4b3c46(0x28f)]/0x2;_0x4be5de[_0x4b3c46(0x278)]({'left':_0x4ad537,'behavior':'auto'}),_0x4be5de[_0x4b3c46(0x238)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3f1879=a3_0x3463b9,_0x1f1735=new Date(),_0x182972=document[_0x3f1879(0x282)]('globalTimeLine'),_0x4bd18f=document[_0x3f1879(0x282)]('timeLineBadge'),_0x14b2b8=(_0x1f1735[_0x3f1879(0x2ad)]()*0x3c+_0x1f1735[_0x3f1879(0x265)]())/0x3c*GRID_H;_0x182972['style']['top']=_0x14b2b8+'px',_0x182972['style'][_0x3f1879(0x1dc)]='block',_0x4bd18f['style']['top']=_0x14b2b8+'px',_0x4bd18f['style'][_0x3f1879(0x1dc)]=_0x3f1879(0x20e),_0x4bd18f[_0x3f1879(0x1b6)]=String(_0x1f1735[_0x3f1879(0x2ad)]())[_0x3f1879(0x255)](0x2,'0')+':'+String(_0x1f1735[_0x3f1879(0x265)]())['padStart'](0x2,'0');}function onScroll(){const _0x1d0bd0=a3_0x3463b9,_0x35d271=document[_0x1d0bd0(0x282)](_0x1d0bd0(0x1ec)),_0x3aecdc=document[_0x1d0bd0(0x1e9)](_0x1d0bd0(0x1cb));for(let _0xa0e1cc of _0x3aecdc)if(_0xa0e1cc['offsetLeft']>=_0x35d271[_0x1d0bd0(0x23e)]){const _0x34b6a1=new Date(_0xa0e1cc[_0x1d0bd0(0x1e7)](_0x1d0bd0(0x298)));document['getElementById'](_0x1d0bd0(0x26e))[_0x1d0bd0(0x1b6)]=_0x34b6a1[_0x1d0bd0(0x1b4)]('ru',{'month':_0x1d0bd0(0x28a)})['toUpperCase']()+'\x20'+_0x34b6a1[_0x1d0bd0(0x2a7)]();break;}}function a3_0x4578(){const _0x453687=['</span>\x20/\x20','week','cancelContainer','exceptions','createDocumentFragment','.day-col-header','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','style','toLocaleDateString','add','custom','visible','setMonth','insertBefore','start','getDate','Unknown','.period-switch\x20.p-btn','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</div>','className','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','data-day-idx','mini','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','router.html','dateStr','done','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rs-time-btn','getAttribute','sid','querySelectorAll','completed','detNote','matrixViewport','1603600HrCnzT','show','floor','open','stringify','isArray','getItem','cancelled','syncLoad','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','</div><div\x20class=\x22dch-num\x22>','600','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancelHint','247140rALgaZ','ru-RU','Critical\x20TMA\x20Error:','firstChild','setBackgroundColor','slice','borderLeftColor','search','none','pattern','.btn-reschedule','Telegram','632106IfOukx','T23:59:59','anStart','time-label','<div\x20class=\x22dch-day\x22>','map','block','\x20-\x20','timeColumn','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','saveLocally','scroll','disableVerticalSwipes','blocked-range-part\x20stripe-bg','3AWdumn','round','keys','sort','substring','height','toUpperCase','backgroundColor','detDate','detailsSheet','onclick','\x20–≤\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','anDonutCircle','%\x20-\x204px)','calendar','max','.sheet','location','day-column\x20','loadLocal','filter','var(--acc-green)','initDataUnsafe','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','cid','client-stat-card','13639347qUgweF','addEventListener','toString','day-col-header\x20','getDay','all','today','scrollTop','offClick','getMonth','charAt','.rs-date-chip','coachId','scrollLeft','stopPropagation','top','analyticsSheet','settings','\x20status-completed','div','overlay','.btn-cancel','anPercent',':00</span>','blocked-slot\x20stripe-bg','1685076clvDEq','\x20—á.','rsDatesTrack','uc_client_settings','.day-col-header[data-date=\x22','color','anEnd','\x20–∏–∑\x20','%\x20+\x202px)','calc(','customConfirm','padStart','ccYesBtn','setItem','rgba(','left','value','length','ready','WebApp','coach_profiles','user','rsSlotsGrid','#0a84ff','setHours','zIndex','uc_client_sessions','getMinutes','flex','setDate','substr','rgba(10,\x20132,\x20255,\x20','scrollWidth','log','startsWith','POST','headerMonth','applyData','2qFeVyt','active','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','Error\x20setting\x20back\x20button:','apply','anTotalStats','width','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollTo','test','push','DOMContentLoaded','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','button','status','cancel_window','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','end','getElementById','clientWidth','initData','now','fontWeight','5321864aVvzfx','ranges','backgroundPosition','long','<span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','#ff453a','error','offsetWidth','onClick','expand','uc_client_list','clients','min','remove','colIndex','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','data-date','setHeaderColor','findIndex','–∑–∞\x20','BackButton','seriesId','appendChild','json','v9.5-CLIENT-ANALYTICS','total','setAttribute','createElement','data','toast','split','getFullYear','6148625AAfYEW','rs-date-chip','join','px\x200px','constructor','getHours','then','getTime','classList','toLocaleString','forEach','textContent','numeric','planned','px\x20-','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','innerHTML','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','month','timeLineBadge','clientId','anCustomDates','querySelector','analyticsList'];a3_0x4578=function(){return _0x453687;};return a3_0x4578();}function showToast(_0x590939){const _0x1aef28=a3_0x3463b9,_0x182d50=document[_0x1aef28(0x282)](_0x1aef28(0x2a5));_0x182d50[_0x1aef28(0x1b6)]=_0x590939,_0x182d50[_0x1aef28(0x2b0)][_0x1aef28(0x1d0)](_0x1aef28(0x1ee)),setTimeout(()=>_0x182d50[_0x1aef28(0x2b0)][_0x1aef28(0x295)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x1d1811=a3_0x3463b9,_0x51cbf6=document[_0x1d1811(0x282)](_0x1d1811(0x1ec)),_0x4ade69=_0x51cbf6[_0x1d1811(0x23e)],_0x137976=_0x51cbf6[_0x1d1811(0x26a)],_0x27a57f=_0x51cbf6['clientWidth'];if(_0x137976-(_0x4ade69+_0x27a57f)<0x12c){const _0x2e0284=endOffset;endOffset+=0xe,renderDayRange(_0x2e0284+0x1,endOffset),reRenderBlocks();}if(_0x4ade69<0x12c){const _0x2b445e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2b445e-0x1),_0x51cbf6[_0x1d1811(0x23e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2a0db5,_0x3ededc){const _0x16e559=a3_0x3463b9,_0x412e04=document['getElementById']('daysHeaderTrack'),_0x290356=document[_0x16e559(0x282)]('gridColumns'),_0x28b4e5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x344009=new Date();_0x344009[_0x16e559(0x262)](0x0,0x0,0x0,0x0);const _0x1424c8=getLocalDateStr(new Date()),_0xa3f4e3=document[_0x16e559(0x1ca)](),_0x1e290e=document['createDocumentFragment']();for(let _0x196c5c=_0x2a0db5;_0x196c5c<=_0x3ededc;_0x196c5c++){const _0x4e517c=new Date(_0x344009);_0x4e517c[_0x16e559(0x267)](_0x4e517c[_0x16e559(0x1d6)]()+_0x196c5c);const _0x26c6a4=getLocalDateStr(_0x4e517c);let _0x337f3d=_0x4e517c[_0x16e559(0x235)]()-0x1;if(_0x337f3d===-0x1)_0x337f3d=0x6;const _0x807688=_0x26c6a4===_0x1424c8,_0x46b0c1=document[_0x16e559(0x2a3)](_0x16e559(0x244));_0x46b0c1[_0x16e559(0x1db)]=_0x16e559(0x234)+(_0x807688?_0x16e559(0x237):''),_0x46b0c1[_0x16e559(0x2a2)](_0x16e559(0x298),_0x26c6a4),_0x46b0c1['innerHTML']=_0x16e559(0x20c)+_0x28b4e5[_0x337f3d]+_0x16e559(0x1f8)+_0x4e517c[_0x16e559(0x1d6)]()+'</div>',_0xa3f4e3[_0x16e559(0x29e)](_0x46b0c1);const _0xe41f94=document['createElement'](_0x16e559(0x244));_0xe41f94[_0x16e559(0x1db)]=_0x16e559(0x229)+(_0x807688?_0x16e559(0x237):''),_0xe41f94[_0x16e559(0x2a2)]('data-date',_0x26c6a4),_0xe41f94['setAttribute'](_0x16e559(0x1de),_0x337f3d),_0x1e290e[_0x16e559(0x29e)](_0xe41f94);}_0x412e04[_0x16e559(0x1d4)](_0xa3f4e3,_0x412e04[_0x16e559(0x1ff)]),_0x290356[_0x16e559(0x1d4)](_0x1e290e,_0x290356[_0x16e559(0x1c4)]('.day-column'));}function hexToRgba(_0x2a4db9,_0x17462e){const _0x513330=a3_0x3463b9;let _0x90afc4;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x513330(0x279)](_0x2a4db9))return _0x90afc4=_0x2a4db9[_0x513330(0x21a)](0x1)['split'](''),_0x90afc4[_0x513330(0x25b)]==0x3&&(_0x90afc4=[_0x90afc4[0x0],_0x90afc4[0x0],_0x90afc4[0x1],_0x90afc4[0x1],_0x90afc4[0x2],_0x90afc4[0x2]]),_0x90afc4='0x'+_0x90afc4[_0x513330(0x2aa)](''),_0x513330(0x258)+[_0x90afc4>>0x10&0xff,_0x90afc4>>0x8&0xff,_0x90afc4&0xff][_0x513330(0x2aa)](',')+','+_0x17462e+')';return _0x513330(0x269)+_0x17462e+')';}let confirmResolver=null;function showCustomConfirm(_0x3c7775,_0x264006,_0x10d171=!![]){const _0x12a821=a3_0x3463b9;document[_0x12a821(0x282)]('ccTitle')[_0x12a821(0x1b6)]=_0x3c7775,document[_0x12a821(0x282)]('ccText')['textContent']=_0x264006;const _0x939d99=document['getElementById'](_0x12a821(0x256));return _0x10d171?(_0x939d99[_0x12a821(0x1ce)][_0x12a821(0x24f)]=_0x12a821(0x28d),_0x939d99[_0x12a821(0x1ce)][_0x12a821(0x286)]=_0x12a821(0x1f9)):(_0x939d99[_0x12a821(0x1ce)][_0x12a821(0x24f)]=_0x12a821(0x261),_0x939d99['style'][_0x12a821(0x286)]='600'),new Promise(_0x124ca1=>{const _0xcd70d4=_0x12a821;confirmResolver=_0x124ca1,document[_0xcd70d4(0x282)](_0xcd70d4(0x254))[_0xcd70d4(0x2b0)][_0xcd70d4(0x1d0)](_0xcd70d4(0x1d2));});}function resolveCustomConfirm(_0x41c486){const _0x4c5911=a3_0x3463b9;document[_0x4c5911(0x282)](_0x4c5911(0x254))[_0x4c5911(0x2b0)][_0x4c5911(0x295)](_0x4c5911(0x1d2));if(confirmResolver)confirmResolver(_0x41c486);}async function tryCancelCurrentSession(){const _0x41d041=a3_0x3463b9;if(!currentSession)return;const _0x179dd8=await showCustomConfirm(_0x41d041(0x272),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x179dd8)return;const _0x33f350=currentSession;closeAllSheets(),sessions=sessions[_0x41d041(0x22b)](_0x1e9729=>_0x1e9729['id']!==_0x33f350['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x41d041(0x285)]();try{const _0x17f7b0=window[_0x41d041(0x207)]?.['WebApp'],_0x4c776d=await fetch(API_URL,{'method':_0x41d041(0x26d),'body':JSON[_0x41d041(0x1f1)]({'action':'client_cancel','init_data':_0x17f7b0?.[_0x41d041(0x284)]||'','coachId':_0x33f350[_0x41d041(0x23d)],'dateStr':_0x33f350[_0x41d041(0x1e2)],'sessionId':_0x33f350['id']})});if(_0x4c776d['ok'])DataManager['saveLocally']();}catch(_0x364d0f){showToast(_0x41d041(0x1be));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x33e94e=a3_0x3463b9;if(!currentSession)return;document['getElementById'](_0x33e94e(0x21f))[_0x33e94e(0x2b0)][_0x33e94e(0x295)](_0x33e94e(0x1f0)),document[_0x33e94e(0x282)]('rescheduleSheet')['classList'][_0x33e94e(0x1d0)](_0x33e94e(0x1f0));const _0x1250c2=document[_0x33e94e(0x282)]('rsDatesTrack'),_0x3924cc=document[_0x33e94e(0x282)](_0x33e94e(0x260));_0x1250c2[_0x33e94e(0x1bb)]='',_0x3924cc[_0x33e94e(0x1bb)]=_0x33e94e(0x1bd);const [_0x326742,_0xc82c86]=currentSession[_0x33e94e(0x1d5)][_0x33e94e(0x2a6)](':')[_0x33e94e(0x20d)](Number),[_0x33064f,_0x2114f8]=currentSession[_0x33e94e(0x281)][_0x33e94e(0x2a6)](':')['map'](Number),_0x5ca393=_0x33064f*0x3c+_0x2114f8-(_0x326742*0x3c+_0xc82c86);try{const _0x4adac0=window[_0x33e94e(0x207)]?.[_0x33e94e(0x25d)],_0x46d8ba=await fetch(API_URL,{'method':_0x33e94e(0x26d),'body':JSON[_0x33e94e(0x1f1)]({'action':'get_slots','coachId':currentSession[_0x33e94e(0x23d)],'duration':_0x5ca393,'init_data':_0x4adac0?.[_0x33e94e(0x284)]||'','excludeSessionId':currentSession['id']})}),_0x337c17=await _0x46d8ba['json']();_0x337c17['ok']&&_0x337c17[_0x33e94e(0x2a4)]?(availableSlotsCache=_0x337c17[_0x33e94e(0x2a4)],renderRescheduleDates()):_0x3924cc[_0x33e94e(0x1bb)]=_0x33e94e(0x1e0);}catch(_0x42fdfa){_0x3924cc[_0x33e94e(0x1bb)]=_0x33e94e(0x222);}}function renderRescheduleDates(){const _0x5deacc=a3_0x3463b9,_0xc65272=document['getElementById'](_0x5deacc(0x24c));_0xc65272['innerHTML']='';const _0x5f533e=Object[_0x5deacc(0x218)](availableSlotsCache)[_0x5deacc(0x219)](),_0x7c1b40=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5f533e[_0x5deacc(0x25b)]===0x0){document[_0x5deacc(0x282)](_0x5deacc(0x260))['innerHTML']=_0x5deacc(0x1f7);return;}_0x5f533e[_0x5deacc(0x1b5)]((_0xab3660,_0x19cfce)=>{const _0x5196b1=_0x5deacc,_0x11df6e=new Date(_0xab3660),_0x4bc929=_0x7c1b40[_0x11df6e[_0x5196b1(0x235)]()],_0x26b64a=_0x11df6e[_0x5196b1(0x1d6)](),_0x22be85=document['createElement'](_0x5196b1(0x244));_0x22be85[_0x5196b1(0x1db)]=_0x5196b1(0x2a9);if(_0x19cfce===0x0)_0x22be85['classList']['add'](_0x5196b1(0x271));_0x22be85['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x4bc929+'</div><div\x20class=\x22rs-day-num\x22>'+_0x26b64a+_0x5196b1(0x1da),_0x22be85[_0x5196b1(0x220)]=()=>selectRsDate(_0xab3660,_0x22be85),_0xc65272[_0x5196b1(0x29e)](_0x22be85);}),selectRsDate(_0x5f533e[0x0],_0xc65272[_0x5deacc(0x1ff)]);}function selectRsDate(_0x58e91c,_0x1f7169){const _0x3280b9=a3_0x3463b9;selectedRsDate=_0x58e91c,document[_0x3280b9(0x1e9)](_0x3280b9(0x23c))[_0x3280b9(0x1b5)](_0xf3b1=>_0xf3b1['classList'][_0x3280b9(0x295)](_0x3280b9(0x271)));if(_0x1f7169)_0x1f7169[_0x3280b9(0x2b0)]['add']('active');const _0x121228=document[_0x3280b9(0x282)](_0x3280b9(0x260));_0x121228['innerHTML']='';const _0x8ed252=availableSlotsCache[_0x58e91c]||[];if(_0x8ed252['length']===0x0){_0x121228[_0x3280b9(0x1bb)]=_0x3280b9(0x1e0);return;}_0x8ed252[_0x3280b9(0x1b5)](_0x2568c6=>{const _0x58c317=_0x3280b9,_0x4cbbc7=document['createElement'](_0x58c317(0x27d));_0x4cbbc7[_0x58c317(0x1db)]=_0x58c317(0x1e6),_0x4cbbc7[_0x58c317(0x1b6)]=_0x2568c6,_0x4cbbc7['onclick']=()=>confirmReschedule(_0x2568c6),_0x121228[_0x58c317(0x29e)](_0x4cbbc7);});}async function confirmReschedule(_0x2be1e7){const _0x3989dc=a3_0x3463b9,_0x5b6e58=new Date(selectedRsDate),_0x5749fc=_0x5b6e58['toLocaleDateString'](_0x3989dc(0x1fd),{'day':_0x3989dc(0x1b7),'month':_0x3989dc(0x28a)}),_0x143757=await showCustomConfirm(_0x3989dc(0x297),_0x3989dc(0x1f6)+_0x5749fc+_0x3989dc(0x221)+_0x2be1e7+'?',![]);if(!_0x143757)return;closeAllSheets(),showToast(_0x3989dc(0x1e5)),lastUserActionTime=Date[_0x3989dc(0x285)]();const _0x36e2a3=currentSession[_0x3989dc(0x1e2)],_0x202c29=currentSession['id'],[_0x51da30,_0x43790f]=currentSession[_0x3989dc(0x1d5)][_0x3989dc(0x2a6)](':')[_0x3989dc(0x20d)](Number),[_0x5196f3,_0x54468e]=currentSession['end'][_0x3989dc(0x2a6)](':')[_0x3989dc(0x20d)](Number),_0x341b46=_0x5196f3*0x3c+_0x54468e-(_0x51da30*0x3c+_0x43790f),[_0x583883,_0x28c2c4]=_0x2be1e7[_0x3989dc(0x2a6)](':')[_0x3989dc(0x20d)](Number),_0x24ebc1=_0x583883*0x3c+_0x28c2c4+_0x341b46,_0x34f1c4=Math[_0x3989dc(0x1ef)](_0x24ebc1/0x3c),_0x268c4b=_0x24ebc1%0x3c,_0x515251=String(_0x34f1c4)['padStart'](0x2,'0')+':'+String(_0x268c4b)[_0x3989dc(0x255)](0x2,'0'),_0x2e9967=sessions[_0x3989dc(0x29a)](_0x4d63b7=>_0x4d63b7['id']===_0x202c29);_0x2e9967!==-0x1&&(sessions[_0x2e9967]['dateStr']=selectedRsDate,sessions[_0x2e9967]['start']=_0x2be1e7,sessions[_0x2e9967][_0x3989dc(0x281)]=_0x515251,reRenderBlocks());try{const _0x405562=window[_0x3989dc(0x207)]?.['WebApp'],_0x4158f6=await fetch(API_URL,{'method':_0x3989dc(0x26d),'body':JSON['stringify']({'action':'reschedule','init_data':_0x405562?.[_0x3989dc(0x284)]||'','oldSessionId':_0x202c29,'oldDate':_0x36e2a3,'newDate':selectedRsDate,'newTime':_0x2be1e7,'coachId':currentSession[_0x3989dc(0x23d)]})}),_0x1f1b5d=await _0x4158f6[_0x3989dc(0x29f)]();!_0x1f1b5d['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x3989dc(0x1f5)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x3989dc(0x212)]());}catch(_0x378bed){showToast(_0x3989dc(0x1be));}}document[a3_0x3463b9(0x232)](a3_0x3463b9(0x27b),init);