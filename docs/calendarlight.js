const a3_0x444444=a3_0x141e;(function(_0x7535dc,_0x1ca2ff){const _0x2ca94a=a3_0x141e,_0x34fadd=_0x7535dc();while(!![]){try{const _0x5e7be8=parseInt(_0x2ca94a(0x24f))/0x1+parseInt(_0x2ca94a(0x272))/0x2+-parseInt(_0x2ca94a(0x1bb))/0x3*(parseInt(_0x2ca94a(0x23f))/0x4)+parseInt(_0x2ca94a(0x26e))/0x5+-parseInt(_0x2ca94a(0x1e2))/0x6*(-parseInt(_0x2ca94a(0x217))/0x7)+-parseInt(_0x2ca94a(0x220))/0x8+-parseInt(_0x2ca94a(0x205))/0x9;if(_0x5e7be8===_0x1ca2ff)break;else _0x34fadd['push'](_0x34fadd['shift']());}catch(_0x322f59){_0x34fadd['push'](_0x34fadd['shift']());}}}(a3_0xaa2d,0xc1e8d));const APP_VERSION=a3_0x444444(0x293),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x444444(0x1c4),KEY_SETTINGS=a3_0x444444(0x219),KEY_CLIENTS=a3_0x444444(0x1e1);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x444444(0x222),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x332a91=a3_0x444444,_0x2570cd=(function(){let _0x9d0f79=!![];return function(_0x4332a3,_0x5dec72){const _0x5c6821=_0x9d0f79?function(){const _0x38f09d=a3_0x141e;if(_0x5dec72){const _0x3226bf=_0x5dec72[_0x38f09d(0x1de)](_0x4332a3,arguments);return _0x5dec72=null,_0x3226bf;}}:function(){};return _0x9d0f79=![],_0x5c6821;};}()),_0x22ba5a=_0x2570cd(this,function(){const _0x41e7a6=a3_0x141e;return _0x22ba5a['toString']()['search'](_0x41e7a6(0x1fe))[_0x41e7a6(0x26c)]()['constructor'](_0x22ba5a)[_0x41e7a6(0x234)](_0x41e7a6(0x1fe));});_0x22ba5a();try{const _0x1cfd4b=window['Telegram']?.['WebApp'];if(!_0x1cfd4b)return;_0x1cfd4b[_0x332a91(0x223)](),_0x1cfd4b[_0x332a91(0x1f7)]();try{_0x1cfd4b[_0x332a91(0x285)](_0x332a91(0x1c2)),_0x1cfd4b['setBackgroundColor']&&_0x1cfd4b[_0x332a91(0x201)](_0x332a91(0x1c2));}catch(_0x5665e1){console['log'](_0x332a91(0x1ab),_0x5665e1);}try{_0x1cfd4b[_0x332a91(0x204)]&&(_0x1cfd4b[_0x332a91(0x204)][_0x332a91(0x1bc)](),_0x1cfd4b['BackButton'][_0x332a91(0x268)](),_0x1cfd4b[_0x332a91(0x204)][_0x332a91(0x26d)](function(){const _0x395d1b=_0x332a91;window['location']['href']=_0x395d1b(0x20e);}));}catch(_0x2cb870){console[_0x332a91(0x20b)](_0x332a91(0x22a),_0x2cb870);}try{if(_0x1cfd4b[_0x332a91(0x1fa)])_0x1cfd4b[_0x332a91(0x1fa)]();}catch(_0x6eeda){}}catch(_0x48f4b1){console[_0x332a91(0x1be)]('Critical\x20TMA\x20Error:',_0x48f4b1);}}());function isAdmin(){const _0x15c9bb=a3_0x444444;try{const _0x3d1b34=Number(window[_0x15c9bb(0x288)]?.[_0x15c9bb(0x1bd)]?.[_0x15c9bb(0x21a)]?.[_0x15c9bb(0x200)]?.['id']);return _0x3d1b34===0xbaf7174;}catch(_0x3c93df){return![];}}const DataManager={'saveLocally'(){const _0xe468f0=a3_0x444444;try{localStorage[_0xe468f0(0x213)](KEY_SESSIONS,JSON[_0xe468f0(0x24d)](sessions)),localStorage[_0xe468f0(0x213)](KEY_CLIENTS,JSON[_0xe468f0(0x24d)](clients)),localStorage[_0xe468f0(0x213)](KEY_SETTINGS,JSON[_0xe468f0(0x24d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x49eeb5){}},'loadLocal'(){const _0x5ec4e3=a3_0x444444;try{const _0x309f12=localStorage[_0x5ec4e3(0x21e)](KEY_SESSIONS);if(_0x309f12)sessions=JSON['parse'](_0x309f12);const _0x2248af=localStorage['getItem'](KEY_CLIENTS);if(_0x2248af)clients=JSON[_0x5ec4e3(0x28a)](_0x2248af);const _0x22856d=localStorage['getItem'](KEY_SETTINGS);if(_0x22856d){const _0x4e270d=JSON[_0x5ec4e3(0x28a)](_0x22856d);if(_0x4e270d[_0x5ec4e3(0x1da)])availabilityPattern=_0x4e270d[_0x5ec4e3(0x1da)];if(_0x4e270d[_0x5ec4e3(0x1f2)])specialRanges=_0x4e270d[_0x5ec4e3(0x1f2)];if(_0x4e270d[_0x5ec4e3(0x225)])dateExceptions=_0x4e270d['exceptions'];}}catch(_0x4afcf3){}},async 'syncLoad'(){const _0x57ec97=a3_0x444444,_0x29e67a=new Date(),_0x2536d0=_0x29e67a[_0x57ec97(0x261)]()+'-'+String(_0x29e67a[_0x57ec97(0x23d)]()+0x1)['padStart'](0x2,'0'),_0xd53376=new Date(_0x29e67a);_0xd53376[_0x57ec97(0x1f8)](_0x29e67a[_0x57ec97(0x23d)]()+0x1);const _0x4ff754=_0xd53376[_0x57ec97(0x261)]()+'-'+String(_0xd53376[_0x57ec97(0x23d)]()+0x1)['padStart'](0x2,'0'),_0x19a68d=Date[_0x57ec97(0x1e7)]();try{const _0x46d8fa=window[_0x57ec97(0x288)]?.[_0x57ec97(0x1bd)],_0x4fceb3=_0x46d8fa?.[_0x57ec97(0x1d4)]||'',[_0x28cdb8,_0x3aeb88]=await Promise['all']([fetch(API_URL,{'method':_0x57ec97(0x286),'body':JSON[_0x57ec97(0x24d)]({'action':'client_load','init_data':_0x4fceb3,'month_str':_0x2536d0})})[_0x57ec97(0x28b)](_0x314ea8=>_0x314ea8[_0x57ec97(0x1db)]()),fetch(API_URL,{'method':_0x57ec97(0x286),'body':JSON[_0x57ec97(0x24d)]({'action':_0x57ec97(0x238),'init_data':_0x4fceb3,'month_str':_0x4ff754})})[_0x57ec97(0x28b)](_0x366e03=>_0x366e03[_0x57ec97(0x1db)]())]);if(lastUserActionTime>_0x19a68d){console[_0x57ec97(0x20b)](_0x57ec97(0x202));return;}if(_0x28cdb8['ok'])this['applyData'](_0x28cdb8[_0x57ec97(0x1dc)],_0x2536d0);if(_0x3aeb88['ok'])this[_0x57ec97(0x1c0)](_0x3aeb88[_0x57ec97(0x1dc)],_0x4ff754);this[_0x57ec97(0x242)]();}catch(_0x2371b9){}},'applyData'(_0x18ac02,_0x920f19){const _0x14586a=a3_0x444444;if(!_0x18ac02)return;if(_0x18ac02[_0x14586a(0x28f)]){if(_0x18ac02[_0x14586a(0x28f)][_0x14586a(0x1da)])availabilityPattern=_0x18ac02[_0x14586a(0x28f)][_0x14586a(0x1da)];if(_0x18ac02[_0x14586a(0x28f)]['ranges'])specialRanges=_0x18ac02[_0x14586a(0x28f)][_0x14586a(0x1f2)];if(_0x18ac02['settings'][_0x14586a(0x225)])dateExceptions=_0x18ac02[_0x14586a(0x28f)][_0x14586a(0x225)];}if(_0x18ac02[_0x14586a(0x1fb)]&&Array[_0x14586a(0x211)](_0x18ac02['clients']))clients=_0x18ac02[_0x14586a(0x1fb)];_0x18ac02[_0x14586a(0x1ef)]&&(coachProfiles={...coachProfiles,..._0x18ac02[_0x14586a(0x1ef)]}),_0x18ac02[_0x14586a(0x276)]&&(sessions=sessions['filter'](_0x2f7689=>!_0x2f7689['dateStr'][_0x14586a(0x1ae)](_0x920f19)),Object['keys'](_0x18ac02[_0x14586a(0x276)])[_0x14586a(0x240)](_0x501c8c=>{const _0x31a0bd=_0x14586a,_0x5ce255=_0x18ac02['calendar'][_0x501c8c];_0x5ce255[_0x31a0bd(0x240)](_0x217a52=>{const _0xcf415=_0x31a0bd;sessions[_0xcf415(0x1c5)]({'id':_0x217a52['i'],'clientId':_0x217a52['c'],'coachId':_0x217a52[_0xcf415(0x27f)],'dateStr':_0x920f19+'-'+_0x501c8c['padStart'](0x2,'0'),'start':_0x217a52['s'],'end':_0x217a52['e'],'note':_0x217a52['n']||'','status':_0x217a52['st']||'planned','seriesId':_0x217a52[_0xcf415(0x233)]});});})),reRenderBlocks();}};function a3_0x141e(_0x1066e0,_0x31c1cb){_0x1066e0=_0x1066e0-0x1a5;const _0xbf38c1=a3_0xaa2d();let _0x5b8629=_0xbf38c1[_0x1066e0];return _0x5b8629;}function init(){const _0x4dff81=a3_0x444444;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4dff81(0x253)](_0x4dff81(0x280))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x183965=a3_0x444444,_0x11b154=document[_0x183965(0x253)]('timeColumn'),_0x4fbbeb=document[_0x183965(0x253)](_0x183965(0x28d));_0x11b154[_0x183965(0x265)]='',_0x11b154[_0x183965(0x22c)](_0x4fbbeb);for(let _0x57ad0a=0x0;_0x57ad0a<0x18;_0x57ad0a++){const _0x37e61b=document[_0x183965(0x275)](_0x183965(0x1f3));_0x37e61b[_0x183965(0x1c9)]='time-label';if(_0x57ad0a>0x0)_0x37e61b[_0x183965(0x265)]=_0x183965(0x22f)+String(_0x57ad0a)[_0x183965(0x1af)](0x2,'0')+':00</span>';_0x11b154[_0x183965(0x22c)](_0x37e61b);}}function renderDayRange(_0x5d3ae1,_0x3b6864){const _0x2b1aa9=a3_0x444444,_0x5c28a9=document[_0x2b1aa9(0x253)]('daysHeaderTrack'),_0x28819e=document[_0x2b1aa9(0x253)](_0x2b1aa9(0x236)),_0x1dfd5f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x224343=new Date();_0x224343[_0x2b1aa9(0x271)](0x0,0x0,0x0,0x0);const _0x27749d=getLocalDateStr(new Date());for(let _0x4788bb=_0x5d3ae1;_0x4788bb<=_0x3b6864;_0x4788bb++){const _0x1edf62=new Date(_0x224343);_0x1edf62[_0x2b1aa9(0x26a)](_0x1edf62[_0x2b1aa9(0x1ac)]()+_0x4788bb);const _0x1cce6e=getLocalDateStr(_0x1edf62);let _0x44b278=_0x1edf62[_0x2b1aa9(0x246)]()-0x1;if(_0x44b278===-0x1)_0x44b278=0x6;const _0x5d7e29=_0x1cce6e===_0x27749d,_0x5f125b=document[_0x2b1aa9(0x275)](_0x2b1aa9(0x1f3));_0x5f125b[_0x2b1aa9(0x1c9)]='day-col-header\x20'+(_0x5d7e29?_0x2b1aa9(0x206):''),_0x5f125b[_0x2b1aa9(0x241)](_0x2b1aa9(0x1ca),_0x1cce6e),_0x5f125b[_0x2b1aa9(0x265)]='<div\x20class=\x22dch-day\x22>'+_0x1dfd5f[_0x44b278]+_0x2b1aa9(0x23b)+_0x1edf62[_0x2b1aa9(0x1ac)]()+_0x2b1aa9(0x1b8),_0x5c28a9['appendChild'](_0x5f125b);const _0x4ebd4f=document[_0x2b1aa9(0x275)](_0x2b1aa9(0x1f3));_0x4ebd4f[_0x2b1aa9(0x1c9)]='day-column\x20'+(_0x5d7e29?'today':''),_0x4ebd4f[_0x2b1aa9(0x241)](_0x2b1aa9(0x1ca),_0x1cce6e),_0x4ebd4f[_0x2b1aa9(0x241)](_0x2b1aa9(0x1b4),_0x44b278),_0x28819e[_0x2b1aa9(0x22c)](_0x4ebd4f);}}function reRenderBlocks(){const _0x441f1e=a3_0x444444;document['querySelectorAll'](_0x441f1e(0x215))[_0x441f1e(0x240)](_0x34c49a=>{const _0x25a933=_0x441f1e;_0x34c49a[_0x25a933(0x27e)](_0x25a933(0x21c))[_0x25a933(0x240)](_0x5d528b=>_0x5d528b[_0x25a933(0x21d)]());const _0xcc5687=_0x34c49a[_0x25a933(0x28e)](_0x25a933(0x1ca)),_0x268eaf=parseInt(_0x34c49a['getAttribute']('data-day-idx')),_0x6b723=Math[_0x25a933(0x1d2)](_0x34c49a[_0x25a933(0x237)]);(availabilityPattern[_0x268eaf]||[])[_0x25a933(0x240)](_0x2f3cf3=>{const _0xe0a409=_0x25a933,_0x20f4ab=document['createElement']('div');_0x20f4ab[_0xe0a409(0x1c9)]=_0xe0a409(0x296),_0x20f4ab['style'][_0xe0a409(0x290)]=_0x2f3cf3*GRID_H+'px',_0x20f4ab[_0xe0a409(0x235)][_0xe0a409(0x20d)]='-'+_0x6b723+_0xe0a409(0x26f)+_0x2f3cf3*GRID_H+'px',_0x34c49a[_0xe0a409(0x22c)](_0x20f4ab);});if(specialRanges[_0x25a933(0x295)]>0x0){const _0x5a6c16=new Date(_0xcc5687+'T00:00:00')['getTime'](),_0x32b9d1=new Date(_0xcc5687+_0x25a933(0x25a))[_0x25a933(0x1f6)]();specialRanges[_0x25a933(0x240)](_0x3a1270=>{const _0x43ca44=_0x25a933,_0x52bca5=new Date(_0x3a1270[_0x43ca44(0x203)])[_0x43ca44(0x1f6)](),_0x2ec515=new Date(_0x3a1270['end'])['getTime'](),_0x5a9615=Math[_0x43ca44(0x294)](_0x5a6c16,_0x52bca5),_0x208761=Math['min'](_0x32b9d1,_0x2ec515);if(_0x5a9615<_0x208761){const _0x678da6=(_0x5a9615-_0x5a6c16)/0x36ee80*GRID_H,_0x363e1e=(_0x208761-_0x5a9615)/0x36ee80*GRID_H,_0x755461=document[_0x43ca44(0x275)]('div');_0x363e1e>=23.5*GRID_H?(_0x755461[_0x43ca44(0x1c9)]=_0x43ca44(0x1c3),_0x755461[_0x43ca44(0x235)][_0x43ca44(0x20d)]='-'+_0x6b723+_0x43ca44(0x22b)):(_0x755461[_0x43ca44(0x1c9)]=_0x43ca44(0x1f0),_0x755461[_0x43ca44(0x235)]['top']=_0x678da6+'px',_0x755461[_0x43ca44(0x235)]['height']=_0x363e1e+'px',_0x755461[_0x43ca44(0x235)][_0x43ca44(0x20d)]='-'+_0x6b723+'px\x20-'+_0x678da6+'px'),_0x34c49a[_0x43ca44(0x22c)](_0x755461);}});}renderEventsForColumn(_0x34c49a,_0xcc5687);});}function renderEventsForColumn(_0x43beea,_0x4cae71){const _0x161ad0=a3_0x444444,_0x411315=sessions[_0x161ad0(0x27a)](_0x98da6d=>_0x98da6d[_0x161ad0(0x216)]===_0x4cae71),_0xd4f6b1=_0x411315[_0x161ad0(0x1ea)](_0x566e52=>{const _0x486331=_0x161ad0,[_0x4b2bd9,_0x2a228b]=_0x566e52[_0x486331(0x203)]['split'](':')[_0x486331(0x1ea)](Number),[_0x5c21da,_0x4a1eba]=_0x566e52[_0x486331(0x212)][_0x486331(0x208)](':')[_0x486331(0x1ea)](Number);return{'data':_0x566e52,'start':_0x4b2bd9*0x3c+_0x2a228b,'end':_0x5c21da*0x3c+_0x4a1eba,'colIndex':0x0};});_0xd4f6b1[_0x161ad0(0x1d8)]((_0x47d4de,_0x3f4ca2)=>_0x47d4de[_0x161ad0(0x203)]-_0x3f4ca2[_0x161ad0(0x203)]||_0x3f4ca2[_0x161ad0(0x212)]-_0x3f4ca2[_0x161ad0(0x203)]-(_0x47d4de['end']-_0x47d4de['start']));const _0x11810c=[];_0xd4f6b1[_0x161ad0(0x240)](_0x1cf9cd=>{const _0x50dd2b=_0x161ad0;let _0x215fc5=![];for(let _0x3cf0ba=0x0;_0x3cf0ba<_0x11810c[_0x50dd2b(0x295)];_0x3cf0ba++){const _0x4a69d6=_0x11810c[_0x3cf0ba];if(_0x1cf9cd[_0x50dd2b(0x203)]>=_0x4a69d6[_0x4a69d6[_0x50dd2b(0x295)]-0x1]['end']){_0x4a69d6[_0x50dd2b(0x1c5)](_0x1cf9cd),_0x1cf9cd[_0x50dd2b(0x245)]=_0x3cf0ba,_0x215fc5=!![];break;}}!_0x215fc5&&(_0x11810c[_0x50dd2b(0x1c5)]([_0x1cf9cd]),_0x1cf9cd[_0x50dd2b(0x245)]=_0x11810c['length']-0x1);}),_0xd4f6b1['forEach'](_0x140e4e=>{const _0x2b1691=_0x161ad0;let _0x289b24=0x0;_0xd4f6b1[_0x2b1691(0x240)](_0x23750a=>{const _0x9ee40e=_0x2b1691;if(Math[_0x9ee40e(0x294)](_0x140e4e[_0x9ee40e(0x203)],_0x23750a['start'])<Math[_0x9ee40e(0x1d3)](_0x140e4e[_0x9ee40e(0x212)],_0x23750a[_0x9ee40e(0x212)])&&_0x23750a[_0x9ee40e(0x245)]>_0x289b24)_0x289b24=_0x23750a['colIndex'];});const _0x3ecee8=_0x289b24+0x1,_0x3f2948=0x64/_0x3ecee8,_0x2591e8=_0x140e4e['colIndex']*_0x3f2948,_0x356cb8=document[_0x2b1691(0x275)](_0x2b1691(0x1f3)),_0x10addf=_0x140e4e[_0x2b1691(0x1dc)];let _0x3e336f=_0x2b1691(0x24c);if(clients&&clients[_0x2b1691(0x295)]>0x0){const _0x410b1b=clients[_0x2b1691(0x26b)](_0x54a81c=>String(_0x54a81c['id'])===String(_0x10addf['clientId']));if(_0x410b1b&&_0x410b1b[_0x2b1691(0x1cb)])_0x3e336f=_0x410b1b[_0x2b1691(0x1cb)];}const _0x559b94=_0x10addf[_0x2b1691(0x1b1)]===_0x2b1691(0x269),_0xa15d32=_0x559b94?0x1:0.45;_0x356cb8[_0x2b1691(0x1c9)]=_0x2b1691(0x231)+(_0x559b94?_0x2b1691(0x1d7):''),_0x356cb8[_0x2b1691(0x235)]['backgroundColor']=hexToRgba(_0x3e336f,_0xa15d32),_0x356cb8['style']['borderLeftColor']=_0x3e336f;const _0x425991=_0x140e4e[_0x2b1691(0x203)]/0x3c*GRID_H,_0xec377e=(_0x140e4e[_0x2b1691(0x212)]-_0x140e4e[_0x2b1691(0x203)])/0x3c*GRID_H;_0x356cb8[_0x2b1691(0x235)][_0x2b1691(0x290)]=_0x425991+'px',_0x356cb8[_0x2b1691(0x235)][_0x2b1691(0x207)]=Math[_0x2b1691(0x294)](_0xec377e,0x14)+'px',_0x356cb8[_0x2b1691(0x235)]['width']=_0x2b1691(0x1f9)+_0x3f2948+_0x2b1691(0x1e5),_0x356cb8['style'][_0x2b1691(0x244)]=_0x2b1691(0x1f9)+_0x2591e8+'%\x20+\x202px)',_0x356cb8[_0x2b1691(0x235)][_0x2b1691(0x1d9)]=0xa+_0x140e4e['colIndex'];if(_0x3f2948<0x55)_0x356cb8[_0x2b1691(0x209)][_0x2b1691(0x221)](_0x2b1691(0x277));let _0x4d3f5c='';if(_0x10addf[_0x2b1691(0x247)])_0x4d3f5c+=_0x2b1691(0x1c1);if(_0x559b94)_0x4d3f5c+=_0x2b1691(0x22d);_0x356cb8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x10addf[_0x2b1691(0x203)]+_0x2b1691(0x1ce)+_0x10addf[_0x2b1691(0x212)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d3f5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x356cb8[_0x2b1691(0x1a7)]=_0x3abc3f=>{_0x3abc3f['stopPropagation'](),openDetails(_0x10addf);},_0x43beea[_0x2b1691(0x22c)](_0x356cb8);});}function openAnalytics(){const _0x439a6c=a3_0x444444,_0x327e15=document[_0x439a6c(0x278)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x439a6c(0x222),_0x327e15),openSheet(_0x439a6c(0x228));}function setAnalyticsPeriod(_0x550384,_0x151bf3){const _0x491c79=a3_0x444444;currentAnPeriod=_0x550384,document['querySelectorAll'](_0x491c79(0x263))[_0x491c79(0x240)](_0x22c47f=>_0x22c47f[_0x491c79(0x209)][_0x491c79(0x21d)](_0x491c79(0x1e0)));if(_0x151bf3)_0x151bf3[_0x491c79(0x209)]['add'](_0x491c79(0x1e0));const _0x46bfde=document[_0x491c79(0x253)](_0x491c79(0x28c));_0x46bfde[_0x491c79(0x235)][_0x491c79(0x1e4)]=_0x550384===_0x491c79(0x282)?_0x491c79(0x25c):_0x491c79(0x1b3);const _0x5e5dad=new Date();let _0x5a0823=new Date(),_0x433918=new Date();if(_0x550384==='week')_0x5a0823=getStartOfWeek(_0x5e5dad),_0x433918=new Date(_0x5a0823),_0x433918[_0x491c79(0x26a)](_0x433918[_0x491c79(0x1ac)]()+0x6);else{if(_0x550384===_0x491c79(0x258))_0x5a0823=new Date(_0x5e5dad[_0x491c79(0x261)](),_0x5e5dad[_0x491c79(0x23d)](),0x1),_0x433918=new Date(_0x5e5dad[_0x491c79(0x261)](),_0x5e5dad[_0x491c79(0x23d)]()+0x1,0x0);else{!document[_0x491c79(0x253)](_0x491c79(0x1d6))[_0x491c79(0x1e3)]&&(document[_0x491c79(0x253)]('anStart')['value']=getLocalDateStr(_0x5e5dad),document[_0x491c79(0x253)](_0x491c79(0x1a8))[_0x491c79(0x1e3)]=getLocalDateStr(_0x5e5dad));refreshAnalytics();return;}}document[_0x491c79(0x253)]('anStart')['value']=getLocalDateStr(_0x5a0823),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x433918),refreshAnalytics();}function refreshAnalytics(){const _0x4a611=a3_0x444444,_0x4c7ef3=document[_0x4a611(0x253)](_0x4a611(0x1d6))['value'],_0x29efdf=document[_0x4a611(0x253)]('anEnd')['value'];if(!_0x4c7ef3||!_0x29efdf)return;const _0x2909e9=sessions[_0x4a611(0x27a)](_0x1e3af0=>_0x1e3af0[_0x4a611(0x216)]>=_0x4c7ef3&&_0x1e3af0[_0x4a611(0x216)]<=_0x29efdf&&_0x1e3af0[_0x4a611(0x1b1)]!==_0x4a611(0x250)),_0x1f05ac=_0x2909e9['length'],_0x246b85=_0x2909e9[_0x4a611(0x27a)](_0x17422f=>_0x17422f[_0x4a611(0x1b1)]===_0x4a611(0x269))[_0x4a611(0x295)],_0x1af47f=_0x1f05ac>0x0?Math[_0x4a611(0x1d2)](_0x246b85/_0x1f05ac*0x64):0x0;document[_0x4a611(0x253)](_0x4a611(0x227))[_0x4a611(0x25f)]=_0x1af47f+'%',document[_0x4a611(0x253)]('anTotalStats')[_0x4a611(0x25f)]=_0x246b85+_0x4a611(0x248)+_0x1f05ac+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x18c1c4=document['getElementById'](_0x4a611(0x27b)),_0x55a0dc=0x2*Math['PI']*0x23,_0x34f07f=_0x55a0dc-_0x1af47f/0x64*_0x55a0dc;_0x18c1c4['style'][_0x4a611(0x291)]=_0x34f07f;const _0x57a897={};_0x2909e9[_0x4a611(0x240)](_0xed8b1e=>{const _0x3a1267=_0x4a611,_0x8c5097=_0xed8b1e[_0x3a1267(0x210)]||'Unknown';if(!_0x57a897[_0x8c5097]){const _0x50016a='#'+_0x8c5097[_0x3a1267(0x26c)]()[_0x3a1267(0x273)](0x0,0x6);_0x57a897[_0x8c5097]={'total':0x0,'done':0x0,'color':_0x50016a};}_0x57a897[_0x8c5097][_0x3a1267(0x230)]++;if(_0xed8b1e[_0x3a1267(0x1b1)]===_0x3a1267(0x269))_0x57a897[_0x8c5097]['done']++;});const _0x4900bb=document[_0x4a611(0x253)](_0x4a611(0x267));_0x4900bb[_0x4a611(0x265)]='';const _0x7e385=Object[_0x4a611(0x252)](_0x57a897)[_0x4a611(0x1d8)]((_0x4a650f,_0x5b077e)=>_0x5b077e[0x1][_0x4a611(0x230)]-_0x4a650f[0x1]['total']);if(_0x7e385[_0x4a611(0x295)]===0x0){_0x4900bb[_0x4a611(0x265)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x7e385['forEach'](([_0x51eae7,_0x3cfe53])=>{const _0xc0796f=_0x4a611,_0x402dde=Math[_0xc0796f(0x1d2)](_0x3cfe53[_0xc0796f(0x266)]/_0x3cfe53[_0xc0796f(0x230)]*0x64),_0x5ef35f=document[_0xc0796f(0x275)]('div');_0x5ef35f['className']=_0xc0796f(0x1b7),_0x5ef35f[_0xc0796f(0x235)][_0xc0796f(0x270)]=_0x3cfe53[_0xc0796f(0x1cb)],_0x5ef35f[_0xc0796f(0x265)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x51eae7['substr'](0x0,0x5)+_0xc0796f(0x1f4)+_0x3cfe53[_0xc0796f(0x266)]+_0xc0796f(0x262)+_0x3cfe53[_0xc0796f(0x230)]+_0xc0796f(0x287)+_0x402dde+_0xc0796f(0x257),_0x4900bb[_0xc0796f(0x22c)](_0x5ef35f);});}function openDetails(_0x52245f){const _0x2beceb=a3_0x444444;currentSession=_0x52245f;const _0x4fdc17=new Date(_0x52245f[_0x2beceb(0x216)]),_0x493310=_0x4fdc17['toLocaleDateString'](_0x2beceb(0x224),{'weekday':_0x2beceb(0x1b2),'day':'numeric','month':_0x2beceb(0x1b2)});document[_0x2beceb(0x253)](_0x2beceb(0x25e))[_0x2beceb(0x25f)]=_0x493310[_0x2beceb(0x20a)](0x0)[_0x2beceb(0x22e)]()+_0x493310[_0x2beceb(0x25b)](0x1),document[_0x2beceb(0x253)](_0x2beceb(0x1b0))['textContent']=_0x52245f[_0x2beceb(0x203)]+_0x2beceb(0x1ce)+_0x52245f[_0x2beceb(0x212)],document[_0x2beceb(0x253)](_0x2beceb(0x27c))[_0x2beceb(0x25f)]=_0x52245f[_0x2beceb(0x259)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0xeeccf0=document[_0x2beceb(0x253)]('detStatus'),_0x3ad94b=document[_0x2beceb(0x253)](_0x2beceb(0x1d0)),_0x4db955=_0x3ad94b[_0x2beceb(0x278)](_0x2beceb(0x289)),_0x280890=_0x3ad94b[_0x2beceb(0x278)]('.btn-reschedule'),_0x26ca84=document['getElementById'](_0x2beceb(0x218));if(_0x52245f[_0x2beceb(0x1b1)]==='completed')_0xeeccf0['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0xeeccf0[_0x2beceb(0x235)][_0x2beceb(0x1cb)]='var(--acc-green)',_0x3ad94b['style'][_0x2beceb(0x1e4)]='none';else{_0xeeccf0[_0x2beceb(0x25f)]=_0x2beceb(0x1ad),_0xeeccf0[_0x2beceb(0x235)][_0x2beceb(0x1cb)]=_0x2beceb(0x274),_0x3ad94b[_0x2beceb(0x235)][_0x2beceb(0x1e4)]=_0x2beceb(0x1cd);const _0x4f52e3=new Date(_0x52245f['dateStr']+'T'+_0x52245f['start']),_0x203244=new Date(),_0x3a7752=(_0x4f52e3-_0x203244)/(0x3e8*0x3c*0x3c),_0x5c901a=coachProfiles[_0x52245f[_0x2beceb(0x210)]]&&coachProfiles[_0x52245f['coachId']][_0x2beceb(0x1dd)]?parseInt(coachProfiles[_0x52245f['coachId']][_0x2beceb(0x1dd)]):0x18;if(_0x5c901a===0x0||_0x3a7752>=_0x5c901a)_0x4db955['style'][_0x2beceb(0x1e4)]='block',_0x280890[_0x2beceb(0x235)][_0x2beceb(0x1e4)]=_0x2beceb(0x1cd),_0x26ca84[_0x2beceb(0x235)][_0x2beceb(0x1e4)]=_0x2beceb(0x1b3);else{_0x4db955['style'][_0x2beceb(0x1e4)]=_0x2beceb(0x1b3),_0x280890[_0x2beceb(0x235)][_0x2beceb(0x1e4)]=_0x2beceb(0x1b3),_0x26ca84[_0x2beceb(0x235)][_0x2beceb(0x1e4)]='block';let _0x36c72=_0x5c901a===0x0?_0x2beceb(0x1fc):_0x2beceb(0x284)+_0x5c901a+_0x2beceb(0x1fd);_0x26ca84[_0x2beceb(0x25f)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x36c72+_0x2beceb(0x20f);}}document[_0x2beceb(0x253)]('overlay')['classList'][_0x2beceb(0x221)]('active'),document['getElementById']('detailsSheet')[_0x2beceb(0x209)][_0x2beceb(0x221)](_0x2beceb(0x239));}function closeAllSheets(){const _0x41cec5=a3_0x444444;document[_0x41cec5(0x253)]('overlay')[_0x41cec5(0x209)][_0x41cec5(0x21d)]('active'),document[_0x41cec5(0x27e)]('.sheet')[_0x41cec5(0x240)](_0x1972db=>_0x1972db[_0x41cec5(0x209)][_0x41cec5(0x21d)](_0x41cec5(0x239)));}function openSheet(_0x2ab3c9){const _0x53c68e=a3_0x444444;document[_0x53c68e(0x253)](_0x53c68e(0x1c6))[_0x53c68e(0x209)][_0x53c68e(0x221)](_0x53c68e(0x1e0)),document[_0x53c68e(0x253)](_0x2ab3c9)[_0x53c68e(0x209)]['add'](_0x53c68e(0x239));}function getLocalDateStr(_0x40f95a){const _0x219b3c=a3_0x444444,_0x2bcae0=_0x40f95a[_0x219b3c(0x261)](),_0x33762c=String(_0x40f95a['getMonth']()+0x1)[_0x219b3c(0x1af)](0x2,'0'),_0x250542=String(_0x40f95a[_0x219b3c(0x1ac)]())['padStart'](0x2,'0');return _0x2bcae0+'-'+_0x33762c+'-'+_0x250542;}function getStartOfWeek(_0x2adec5){const _0x3f2fcc=a3_0x444444,_0x34b05a=new Date(_0x2adec5),_0x348dff=_0x34b05a['getDay'](),_0x4ebaab=_0x34b05a[_0x3f2fcc(0x1ac)]()-_0x348dff+(_0x348dff===0x0?-0x6:0x1);return _0x34b05a['setDate'](_0x4ebaab),_0x34b05a[_0x3f2fcc(0x271)](0x0,0x0,0x0,0x0),_0x34b05a;}function scrollToToday(){const _0x55a9e5=getLocalDateStr(new Date());setTimeout(()=>{const _0x14efa5=a3_0x141e,_0x246a22=document['querySelector']('.day-col-header[data-date=\x22'+_0x55a9e5+'\x22]');if(_0x246a22){const _0x4af2e4=document['getElementById'](_0x14efa5(0x280)),_0x35e05b=_0x246a22[_0x14efa5(0x237)]-_0x4af2e4['clientWidth']/0x2+_0x246a22[_0x14efa5(0x1c8)]/0x2;_0x4af2e4[_0x14efa5(0x214)]({'left':_0x35e05b,'behavior':_0x14efa5(0x1ec)}),_0x4af2e4[_0x14efa5(0x1e6)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5eeb69=a3_0x444444,_0x52007f=new Date(),_0x3dacef=document[_0x5eeb69(0x253)](_0x5eeb69(0x279)),_0x243a1e=document['getElementById'](_0x5eeb69(0x28d)),_0x584652=(_0x52007f[_0x5eeb69(0x1d1)]()*0x3c+_0x52007f[_0x5eeb69(0x21b)]())/0x3c*GRID_H;_0x3dacef[_0x5eeb69(0x235)][_0x5eeb69(0x290)]=_0x584652+'px',_0x3dacef[_0x5eeb69(0x235)]['display']=_0x5eeb69(0x1cd),_0x243a1e['style'][_0x5eeb69(0x290)]=_0x584652+'px',_0x243a1e[_0x5eeb69(0x235)]['display']=_0x5eeb69(0x1cd),_0x243a1e[_0x5eeb69(0x25f)]=String(_0x52007f[_0x5eeb69(0x1d1)]())[_0x5eeb69(0x1af)](0x2,'0')+':'+String(_0x52007f[_0x5eeb69(0x21b)]())['padStart'](0x2,'0');}function onScroll(){const _0x1ef603=a3_0x444444,_0x1e4ef8=document[_0x1ef603(0x253)](_0x1ef603(0x280)),_0x3ae966=document[_0x1ef603(0x27e)]('.day-col-header');for(let _0x18c9f0 of _0x3ae966)if(_0x18c9f0[_0x1ef603(0x237)]>=_0x1e4ef8[_0x1ef603(0x24a)]){const _0x4a307b=new Date(_0x18c9f0[_0x1ef603(0x28e)](_0x1ef603(0x1ca)));document['getElementById'](_0x1ef603(0x256))[_0x1ef603(0x25f)]=_0x4a307b[_0x1ef603(0x24b)]('ru',{'month':_0x1ef603(0x1b2)})[_0x1ef603(0x22e)]()+'\x20'+_0x4a307b[_0x1ef603(0x261)]();break;}}function showToast(_0x3dbcfa){const _0x58fa56=a3_0x444444,_0x19516b=document[_0x58fa56(0x253)](_0x58fa56(0x1cf));_0x19516b[_0x58fa56(0x25f)]=_0x3dbcfa,_0x19516b['classList'][_0x58fa56(0x221)](_0x58fa56(0x1bc)),setTimeout(()=>_0x19516b[_0x58fa56(0x209)][_0x58fa56(0x21d)](_0x58fa56(0x1bc)),0x7d0);}function handleInfiniteScroll(){const _0x131bb9=a3_0x444444,_0x195458=document[_0x131bb9(0x253)](_0x131bb9(0x280)),_0x4f7181=_0x195458[_0x131bb9(0x24a)],_0x82c9b8=_0x195458[_0x131bb9(0x1eb)],_0x40fadf=_0x195458[_0x131bb9(0x1d5)];if(_0x82c9b8-(_0x4f7181+_0x40fadf)<0x12c){const _0x11feb0=endOffset;endOffset+=0xe,renderDayRange(_0x11feb0+0x1,endOffset),reRenderBlocks();}if(_0x4f7181<0x12c){const _0x285c7d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x285c7d-0x1),_0x195458[_0x131bb9(0x24a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x36ba35,_0x1e75e4){const _0x5b1dfc=a3_0x444444,_0x29db55=document[_0x5b1dfc(0x253)](_0x5b1dfc(0x23a)),_0x29eb02=document[_0x5b1dfc(0x253)](_0x5b1dfc(0x236)),_0xe9fb33=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4e937a=new Date();_0x4e937a[_0x5b1dfc(0x271)](0x0,0x0,0x0,0x0);const _0x9d771c=getLocalDateStr(new Date()),_0x53754a=document[_0x5b1dfc(0x292)](),_0x7c2b32=document['createDocumentFragment']();for(let _0x2c5b14=_0x36ba35;_0x2c5b14<=_0x1e75e4;_0x2c5b14++){const _0x47f916=new Date(_0x4e937a);_0x47f916[_0x5b1dfc(0x26a)](_0x47f916[_0x5b1dfc(0x1ac)]()+_0x2c5b14);const _0x29d0cd=getLocalDateStr(_0x47f916);let _0x213f02=_0x47f916[_0x5b1dfc(0x246)]()-0x1;if(_0x213f02===-0x1)_0x213f02=0x6;const _0x2d42f4=_0x29d0cd===_0x9d771c,_0x3ec811=document[_0x5b1dfc(0x275)](_0x5b1dfc(0x1f3));_0x3ec811[_0x5b1dfc(0x1c9)]='day-col-header\x20'+(_0x2d42f4?_0x5b1dfc(0x206):''),_0x3ec811['setAttribute'](_0x5b1dfc(0x1ca),_0x29d0cd),_0x3ec811[_0x5b1dfc(0x265)]=_0x5b1dfc(0x260)+_0xe9fb33[_0x213f02]+_0x5b1dfc(0x23b)+_0x47f916[_0x5b1dfc(0x1ac)]()+_0x5b1dfc(0x1b8),_0x53754a[_0x5b1dfc(0x22c)](_0x3ec811);const _0x11b544=document[_0x5b1dfc(0x275)](_0x5b1dfc(0x1f3));_0x11b544['className']=_0x5b1dfc(0x1b9)+(_0x2d42f4?_0x5b1dfc(0x206):''),_0x11b544[_0x5b1dfc(0x241)](_0x5b1dfc(0x1ca),_0x29d0cd),_0x11b544[_0x5b1dfc(0x241)](_0x5b1dfc(0x1b4),_0x213f02),_0x7c2b32[_0x5b1dfc(0x22c)](_0x11b544);}_0x29db55[_0x5b1dfc(0x1ff)](_0x53754a,_0x29db55['firstChild']),_0x29eb02[_0x5b1dfc(0x1ff)](_0x7c2b32,_0x29eb02[_0x5b1dfc(0x278)]('.day-column'));}function a3_0xaa2d(){const _0x27f837=['BackButton','23690034ixiamJ','today','height','split','classList','charAt','log','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','backgroundPosition','router.html','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','coachId','isArray','end','setItem','scrollTo','.day-column','dateStr','8178233nbGCqN','cancelHint','uc_client_settings','initDataUnsafe','getMinutes','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','remove','getItem','</div><div\x20class=\x22rs-day-num\x22>','4278728hHAVXI','add','week','ready','ru-RU','exceptions','customConfirm','anPercent','analyticsSheet','findIndex','Error\x20setting\x20back\x20button:','px\x200px','appendChild','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','toUpperCase','<span>','total','event-card','rs-date-chip','sid','search','style','gridColumns','offsetLeft','client_load','open','daysHeaderTrack','</div><div\x20class=\x22dch-num\x22>','rescheduleSheet','getMonth','ccText','2736428wshKTj','forEach','setAttribute','saveLocally','rsSlotsGrid','left','colIndex','getDay','seriesId','\x20–∏–∑\x20','floor','scrollLeft','toLocaleString','#0a84ff','stringify','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','1420859ULrvPh','cancelled','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','entries','getElementById','rgba(','keys','headerMonth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','month','note','T23:59:59','slice','flex','button','detDate','textContent','<div\x20class=\x22dch-day\x22>','getFullYear','</span>\x20/\x20','.period-switch\x20.p-btn','substring','innerHTML','done','analyticsList','offClick','completed','setDate','find','toString','onClick','5491660aUOaVs','px\x20-','borderLeftColor','setHours','1915834GDWNAj','substr','var(--acc-blue)','createElement','calendar','mini','querySelector','globalTimeLine','filter','anDonutCircle','detNote','firstChild','querySelectorAll','cid','matrixViewport','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','custom','–û—Ç–º–µ–Ω–µ–Ω–æ','–∑–∞\x20','setHeaderColor','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','Telegram','.btn-cancel','parse','then','anCustomDates','timeLineBadge','getAttribute','settings','top','strokeDashoffset','createDocumentFragment','v9.5-CLIENT-ANALYTICS','max','length','blocked-slot\x20stripe-bg','600','join','onclick','anEnd','<div\x20class=\x22rs-day-name\x22>','ccTitle','Error\x20setting\x20color:','getDate','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','startsWith','padStart','detTime','status','long','none','data-day-idx','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','client-stat-card','</div>','day-column\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','3ikCfOR','show','WebApp','error','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','applyData','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','#050505','day-off-overlay\x20stripe-bg','uc_client_sessions','push','overlay','ccYesBtn','offsetWidth','className','data-date','color','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','block','\x20-\x20','toast','cancelContainer','getHours','round','min','initData','clientWidth','anStart','\x20status-completed','sort','zIndex','pattern','json','data','cancel_window','apply','rsDatesTrack','active','uc_client_list','6AfuFRm','value','display','%\x20-\x204px)','scrollTop','now','detailsSheet','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','map','scrollWidth','auto','addEventListener','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','coach_profiles','blocked-range-part\x20stripe-bg','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','ranges','div','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rgba(10,\x20132,\x20255,\x20','getTime','expand','setMonth','calc(','disableVerticalSwipes','clients','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20—á.','(((.+)+)+)+$','insertBefore','user','setBackgroundColor','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','start'];a3_0xaa2d=function(){return _0x27f837;};return a3_0xaa2d();}function hexToRgba(_0x66663a,_0x54301a){const _0x42e2b4=a3_0x444444;let _0x5c533c;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x66663a))return _0x5c533c=_0x66663a[_0x42e2b4(0x264)](0x1)[_0x42e2b4(0x208)](''),_0x5c533c['length']==0x3&&(_0x5c533c=[_0x5c533c[0x0],_0x5c533c[0x0],_0x5c533c[0x1],_0x5c533c[0x1],_0x5c533c[0x2],_0x5c533c[0x2]]),_0x5c533c='0x'+_0x5c533c[_0x42e2b4(0x1a6)](''),_0x42e2b4(0x254)+[_0x5c533c>>0x10&0xff,_0x5c533c>>0x8&0xff,_0x5c533c&0xff]['join'](',')+','+_0x54301a+')';return _0x42e2b4(0x1f5)+_0x54301a+')';}let confirmResolver=null;function showCustomConfirm(_0x37265a,_0x54270d,_0x5d9ba4=!![]){const _0x2d5b01=a3_0x444444;document['getElementById'](_0x2d5b01(0x1aa))[_0x2d5b01(0x25f)]=_0x37265a,document['getElementById'](_0x2d5b01(0x23e))['textContent']=_0x54270d;const _0x284425=document['getElementById'](_0x2d5b01(0x1c7));return _0x5d9ba4?(_0x284425[_0x2d5b01(0x235)][_0x2d5b01(0x1cb)]='#ff453a',_0x284425[_0x2d5b01(0x235)]['fontWeight']=_0x2d5b01(0x1a5)):(_0x284425[_0x2d5b01(0x235)][_0x2d5b01(0x1cb)]='#0a84ff',_0x284425[_0x2d5b01(0x235)]['fontWeight']='600'),new Promise(_0x5c7ec7=>{const _0x46c3c9=_0x2d5b01;confirmResolver=_0x5c7ec7,document[_0x46c3c9(0x253)](_0x46c3c9(0x226))[_0x46c3c9(0x209)][_0x46c3c9(0x221)]('visible');});}function resolveCustomConfirm(_0x2e084d){const _0x342992=a3_0x444444;document[_0x342992(0x253)](_0x342992(0x226))[_0x342992(0x209)][_0x342992(0x21d)]('visible');if(confirmResolver)confirmResolver(_0x2e084d);}async function tryCancelCurrentSession(){const _0x4db5c6=a3_0x444444;if(!currentSession)return;const _0x1ee511=await showCustomConfirm(_0x4db5c6(0x1b5),_0x4db5c6(0x1cc),!![]);if(!_0x1ee511)return;const _0x51184c=currentSession;closeAllSheets(),sessions=sessions[_0x4db5c6(0x27a)](_0x3e6171=>_0x3e6171['id']!==_0x51184c['id']),reRenderBlocks(),showToast(_0x4db5c6(0x283)),lastUserActionTime=Date['now']();try{const _0xaaab50=window['Telegram']?.[_0x4db5c6(0x1bd)],_0x187380=await fetch(API_URL,{'method':_0x4db5c6(0x286),'body':JSON[_0x4db5c6(0x24d)]({'action':'client_cancel','init_data':_0xaaab50?.[_0x4db5c6(0x1d4)]||'','coachId':_0x51184c[_0x4db5c6(0x210)],'dateStr':_0x51184c['dateStr'],'sessionId':_0x51184c['id']})});if(_0x187380['ok'])DataManager[_0x4db5c6(0x242)]();}catch(_0x4e8b6f){showToast(_0x4db5c6(0x1ee));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3b9991=a3_0x444444;if(!currentSession)return;document[_0x3b9991(0x253)](_0x3b9991(0x1e8))[_0x3b9991(0x209)][_0x3b9991(0x21d)](_0x3b9991(0x239)),document[_0x3b9991(0x253)](_0x3b9991(0x23c))[_0x3b9991(0x209)]['add'](_0x3b9991(0x239));const _0x28741a=document[_0x3b9991(0x253)](_0x3b9991(0x1df)),_0x1a5c9d=document['getElementById'](_0x3b9991(0x243));_0x28741a[_0x3b9991(0x265)]='',_0x1a5c9d[_0x3b9991(0x265)]=_0x3b9991(0x1b6);const [_0x42f18e,_0x3509e2]=currentSession[_0x3b9991(0x203)]['split'](':')[_0x3b9991(0x1ea)](Number),[_0x18d30f,_0x2345c5]=currentSession['end'][_0x3b9991(0x208)](':')['map'](Number),_0x4acbb2=_0x18d30f*0x3c+_0x2345c5-(_0x42f18e*0x3c+_0x3509e2);try{const _0x310238=window[_0x3b9991(0x288)]?.[_0x3b9991(0x1bd)],_0x498130=await fetch(API_URL,{'method':_0x3b9991(0x286),'body':JSON[_0x3b9991(0x24d)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x4acbb2,'init_data':_0x310238?.[_0x3b9991(0x1d4)]||'','excludeSessionId':currentSession['id']})}),_0x4c03c4=await _0x498130[_0x3b9991(0x1db)]();_0x4c03c4['ok']&&_0x4c03c4[_0x3b9991(0x1dc)]?(availableSlotsCache=_0x4c03c4[_0x3b9991(0x1dc)],renderRescheduleDates()):_0x1a5c9d[_0x3b9991(0x265)]=_0x3b9991(0x251);}catch(_0x13a82e){_0x1a5c9d[_0x3b9991(0x265)]=_0x3b9991(0x1ba);}}function renderRescheduleDates(){const _0x21be50=a3_0x444444,_0x153025=document[_0x21be50(0x253)](_0x21be50(0x1df));_0x153025[_0x21be50(0x265)]='';const _0x54daf7=Object[_0x21be50(0x255)](availableSlotsCache)['sort'](),_0x37974c=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x54daf7[_0x21be50(0x295)]===0x0){document[_0x21be50(0x253)](_0x21be50(0x243))[_0x21be50(0x265)]=_0x21be50(0x24e);return;}_0x54daf7[_0x21be50(0x240)]((_0xd78f5a,_0x15b3a8)=>{const _0x2e8ec7=_0x21be50,_0x52158b=new Date(_0xd78f5a),_0x32d5ea=_0x37974c[_0x52158b[_0x2e8ec7(0x246)]()],_0x2fbc7f=_0x52158b[_0x2e8ec7(0x1ac)](),_0x1f3cf6=document['createElement'](_0x2e8ec7(0x1f3));_0x1f3cf6['className']=_0x2e8ec7(0x232);if(_0x15b3a8===0x0)_0x1f3cf6[_0x2e8ec7(0x209)][_0x2e8ec7(0x221)](_0x2e8ec7(0x1e0));_0x1f3cf6[_0x2e8ec7(0x265)]=_0x2e8ec7(0x1a9)+_0x32d5ea+_0x2e8ec7(0x21f)+_0x2fbc7f+'</div>',_0x1f3cf6[_0x2e8ec7(0x1a7)]=()=>selectRsDate(_0xd78f5a,_0x1f3cf6),_0x153025[_0x2e8ec7(0x22c)](_0x1f3cf6);}),selectRsDate(_0x54daf7[0x0],_0x153025[_0x21be50(0x27d)]);}function selectRsDate(_0x4b982e,_0x453a2f){const _0x1a1d87=a3_0x444444;selectedRsDate=_0x4b982e,document[_0x1a1d87(0x27e)]('.rs-date-chip')[_0x1a1d87(0x240)](_0x381595=>_0x381595['classList'][_0x1a1d87(0x21d)](_0x1a1d87(0x1e0)));if(_0x453a2f)_0x453a2f[_0x1a1d87(0x209)][_0x1a1d87(0x221)](_0x1a1d87(0x1e0));const _0x422caa=document['getElementById'](_0x1a1d87(0x243));_0x422caa[_0x1a1d87(0x265)]='';const _0x96f7b4=availableSlotsCache[_0x4b982e]||[];if(_0x96f7b4['length']===0x0){_0x422caa[_0x1a1d87(0x265)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x96f7b4[_0x1a1d87(0x240)](_0x351bd8=>{const _0x12ff70=_0x1a1d87,_0x29cad4=document[_0x12ff70(0x275)](_0x12ff70(0x25d));_0x29cad4[_0x12ff70(0x1c9)]='rs-time-btn',_0x29cad4[_0x12ff70(0x25f)]=_0x351bd8,_0x29cad4[_0x12ff70(0x1a7)]=()=>confirmReschedule(_0x351bd8),_0x422caa['appendChild'](_0x29cad4);});}async function confirmReschedule(_0x2dbdef){const _0x15c0b1=a3_0x444444,_0x3d7ed5=new Date(selectedRsDate),_0x288e99=_0x3d7ed5['toLocaleDateString'](_0x15c0b1(0x224),{'day':'numeric','month':_0x15c0b1(0x1b2)}),_0x1da684=await showCustomConfirm(_0x15c0b1(0x20c),_0x15c0b1(0x281)+_0x288e99+'\x20–≤\x20'+_0x2dbdef+'?',![]);if(!_0x1da684)return;closeAllSheets(),showToast(_0x15c0b1(0x1bf)),lastUserActionTime=Date[_0x15c0b1(0x1e7)]();const _0x5a489f=currentSession['dateStr'],_0x86e34c=currentSession['id'],[_0x4cb3bd,_0x491c03]=currentSession[_0x15c0b1(0x203)][_0x15c0b1(0x208)](':')['map'](Number),[_0x981f1b,_0x504b3a]=currentSession[_0x15c0b1(0x212)][_0x15c0b1(0x208)](':')[_0x15c0b1(0x1ea)](Number),_0x29db57=_0x981f1b*0x3c+_0x504b3a-(_0x4cb3bd*0x3c+_0x491c03),[_0x463660,_0x3b8f01]=_0x2dbdef[_0x15c0b1(0x208)](':')[_0x15c0b1(0x1ea)](Number),_0x4ca386=_0x463660*0x3c+_0x3b8f01+_0x29db57,_0xab3067=Math[_0x15c0b1(0x249)](_0x4ca386/0x3c),_0x128287=_0x4ca386%0x3c,_0x5edeaa=String(_0xab3067)[_0x15c0b1(0x1af)](0x2,'0')+':'+String(_0x128287)[_0x15c0b1(0x1af)](0x2,'0'),_0x339e1f=sessions[_0x15c0b1(0x229)](_0xd670b1=>_0xd670b1['id']===_0x86e34c);_0x339e1f!==-0x1&&(sessions[_0x339e1f][_0x15c0b1(0x216)]=selectedRsDate,sessions[_0x339e1f]['start']=_0x2dbdef,sessions[_0x339e1f][_0x15c0b1(0x212)]=_0x5edeaa,reRenderBlocks());try{const _0x18da7f=window[_0x15c0b1(0x288)]?.[_0x15c0b1(0x1bd)],_0x5f4f85=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'reschedule','init_data':_0x18da7f?.[_0x15c0b1(0x1d4)]||'','oldSessionId':_0x86e34c,'oldDate':_0x5a489f,'newDate':selectedRsDate,'newTime':_0x2dbdef,'coachId':currentSession[_0x15c0b1(0x210)]})}),_0x388e6f=await _0x5f4f85['json']();!_0x388e6f['ok']?(showToast(_0x15c0b1(0x1e9)),DataManager['syncLoad']()):(showToast(_0x15c0b1(0x1f1)),DataManager[_0x15c0b1(0x242)]());}catch(_0x1467be){showToast(_0x15c0b1(0x1ee));}}document[a3_0x444444(0x1ed)]('DOMContentLoaded',init);