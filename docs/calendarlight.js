const a3_0x3e7d18=a3_0x29bf;(function(_0x8bc54a,_0x40ca20){const _0x2a2d9c=a3_0x29bf,_0x329b13=_0x8bc54a();while(!![]){try{const _0x3e095c=-parseInt(_0x2a2d9c(0x2e9))/0x1*(-parseInt(_0x2a2d9c(0x222))/0x2)+-parseInt(_0x2a2d9c(0x1f3))/0x3+-parseInt(_0x2a2d9c(0x20a))/0x4*(-parseInt(_0x2a2d9c(0x2a6))/0x5)+-parseInt(_0x2a2d9c(0x26a))/0x6+-parseInt(_0x2a2d9c(0x22d))/0x7+-parseInt(_0x2a2d9c(0x292))/0x8*(-parseInt(_0x2a2d9c(0x2c9))/0x9)+parseInt(_0x2a2d9c(0x29a))/0xa*(parseInt(_0x2a2d9c(0x2a4))/0xb);if(_0x3e095c===_0x40ca20)break;else _0x329b13['push'](_0x329b13['shift']());}catch(_0x4eff67){_0x329b13['push'](_0x329b13['shift']());}}}(a3_0xa15c,0x31c1a));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x3e7d18(0x278),GRID_H=0x3c,KEY_SESSIONS=a3_0x3e7d18(0x245),KEY_SETTINGS=a3_0x3e7d18(0x26e),KEY_CLIENTS=a3_0x3e7d18(0x255);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3e7d18(0x227),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1f242e=a3_0x3e7d18,_0x5e9f40=(function(){let _0x187bd9=!![];return function(_0x45d041,_0x5e29d1){const _0x217d5c=_0x187bd9?function(){const _0x1cb648=a3_0x29bf;if(_0x5e29d1){const _0x4f0487=_0x5e29d1[_0x1cb648(0x2cd)](_0x45d041,arguments);return _0x5e29d1=null,_0x4f0487;}}:function(){};return _0x187bd9=![],_0x217d5c;};}()),_0x3a2e60=_0x5e9f40(this,function(){const _0x2c819f=a3_0x29bf;return _0x3a2e60[_0x2c819f(0x22a)]()['search'](_0x2c819f(0x217))[_0x2c819f(0x22a)]()[_0x2c819f(0x219)](_0x3a2e60)['search'](_0x2c819f(0x217));});_0x3a2e60();try{const _0x264b3e=window[_0x1f242e(0x2ab)]?.[_0x1f242e(0x296)];if(!_0x264b3e)return;_0x264b3e['ready'](),_0x264b3e['expand']();try{_0x264b3e[_0x1f242e(0x2b4)](_0x1f242e(0x29b)),_0x264b3e[_0x1f242e(0x269)]&&_0x264b3e[_0x1f242e(0x269)](_0x1f242e(0x29b));}catch(_0x1dadd1){console[_0x1f242e(0x28b)]('Error\x20setting\x20color:',_0x1dadd1);}try{_0x264b3e[_0x1f242e(0x2a1)]&&(_0x264b3e['BackButton']['show'](),_0x264b3e['BackButton'][_0x1f242e(0x24b)](),_0x264b3e[_0x1f242e(0x2a1)][_0x1f242e(0x2c5)](function(){const _0xf854b7=_0x1f242e;window[_0xf854b7(0x224)][_0xf854b7(0x29d)]=_0xf854b7(0x2a8);}));}catch(_0x292888){console[_0x1f242e(0x28b)](_0x1f242e(0x275),_0x292888);}try{if(_0x264b3e[_0x1f242e(0x24a)])_0x264b3e['disableVerticalSwipes']();}catch(_0x27610f){}}catch(_0x1f4b86){console[_0x1f242e(0x1f2)]('Critical\x20TMA\x20Error:',_0x1f4b86);}}());function isAdmin(){const _0x41b5de=a3_0x3e7d18;try{const _0x4891da=Number(window[_0x41b5de(0x2ab)]?.[_0x41b5de(0x296)]?.[_0x41b5de(0x2bd)]?.[_0x41b5de(0x2f0)]?.['id']);return _0x4891da===0xbaf7174;}catch(_0x5f1599){return![];}}const DataManager={'saveLocally'(){const _0x31655c=a3_0x3e7d18;try{localStorage[_0x31655c(0x211)](KEY_SESSIONS,JSON[_0x31655c(0x1ef)](sessions)),localStorage[_0x31655c(0x211)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x31655c(0x211)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1522a2){}},'loadLocal'(){const _0x16d618=a3_0x3e7d18;try{const _0x22a33b=localStorage[_0x16d618(0x2eb)](KEY_SESSIONS);if(_0x22a33b)sessions=JSON[_0x16d618(0x2e6)](_0x22a33b);const _0x562463=localStorage[_0x16d618(0x2eb)](KEY_CLIENTS);if(_0x562463)clients=JSON['parse'](_0x562463);const _0x2dbac9=localStorage['getItem'](KEY_SETTINGS);if(_0x2dbac9){const _0x334985=JSON[_0x16d618(0x2e6)](_0x2dbac9);if(_0x334985[_0x16d618(0x298)])availabilityPattern=_0x334985['pattern'];if(_0x334985['ranges'])specialRanges=_0x334985['ranges'];if(_0x334985[_0x16d618(0x200)])dateExceptions=_0x334985[_0x16d618(0x200)];}}catch(_0x2c05db){}},async 'syncLoad'(){const _0x3bb7a5=a3_0x3e7d18,_0x26c5c8=new Date(),_0x4d1986=_0x26c5c8[_0x3bb7a5(0x2c1)]()+'-'+String(_0x26c5c8[_0x3bb7a5(0x239)]()+0x1)[_0x3bb7a5(0x243)](0x2,'0'),_0x5d4c9b=new Date(_0x26c5c8);_0x5d4c9b[_0x3bb7a5(0x2ef)](_0x26c5c8[_0x3bb7a5(0x239)]()+0x1);const _0x8f5ed9=_0x5d4c9b[_0x3bb7a5(0x2c1)]()+'-'+String(_0x5d4c9b[_0x3bb7a5(0x239)]()+0x1)[_0x3bb7a5(0x243)](0x2,'0'),_0x2a77ef=Date[_0x3bb7a5(0x258)]();try{const _0xca2a46=window[_0x3bb7a5(0x2ab)]?.[_0x3bb7a5(0x296)],_0x299204=_0xca2a46?.[_0x3bb7a5(0x2c0)]||'',[_0x5ab2cb,_0x18201a]=await Promise[_0x3bb7a5(0x2ec)]([fetch(API_URL,{'method':_0x3bb7a5(0x2c2),'body':JSON[_0x3bb7a5(0x1ef)]({'action':_0x3bb7a5(0x2af),'init_data':_0x299204,'month_str':_0x4d1986})})[_0x3bb7a5(0x250)](_0xb1a91f=>_0xb1a91f[_0x3bb7a5(0x2dc)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x3bb7a5(0x1ef)]({'action':_0x3bb7a5(0x2af),'init_data':_0x299204,'month_str':_0x8f5ed9})})[_0x3bb7a5(0x250)](_0x44b3d5=>_0x44b3d5[_0x3bb7a5(0x2dc)]())]);if(lastUserActionTime>_0x2a77ef){console[_0x3bb7a5(0x28b)](_0x3bb7a5(0x216));return;}if(_0x5ab2cb['ok'])this['applyData'](_0x5ab2cb[_0x3bb7a5(0x223)],_0x4d1986);if(_0x18201a['ok'])this[_0x3bb7a5(0x2bb)](_0x18201a[_0x3bb7a5(0x223)],_0x8f5ed9);this[_0x3bb7a5(0x289)]();}catch(_0x1f65d0){}},'applyData'(_0x5d7c31,_0x39e476){const _0xa44019=a3_0x3e7d18;if(!_0x5d7c31)return;if(_0x5d7c31['settings']){if(_0x5d7c31[_0xa44019(0x209)][_0xa44019(0x298)])availabilityPattern=_0x5d7c31[_0xa44019(0x209)][_0xa44019(0x298)];if(_0x5d7c31['settings'][_0xa44019(0x2b2)])specialRanges=_0x5d7c31[_0xa44019(0x209)]['ranges'];if(_0x5d7c31[_0xa44019(0x209)][_0xa44019(0x200)])dateExceptions=_0x5d7c31[_0xa44019(0x209)][_0xa44019(0x200)];}if(_0x5d7c31[_0xa44019(0x2e4)]&&Array[_0xa44019(0x23c)](_0x5d7c31[_0xa44019(0x2e4)]))clients=_0x5d7c31[_0xa44019(0x2e4)];_0x5d7c31['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5d7c31[_0xa44019(0x1fa)]}),_0x5d7c31[_0xa44019(0x294)]&&(sessions=sessions[_0xa44019(0x240)](_0x76c5e6=>!_0x76c5e6[_0xa44019(0x27c)][_0xa44019(0x28c)](_0x39e476)),Object['keys'](_0x5d7c31[_0xa44019(0x294)])[_0xa44019(0x225)](_0x3543d1=>{const _0x5b698c=_0xa44019,_0x8043a7=_0x5d7c31['calendar'][_0x3543d1];_0x8043a7[_0x5b698c(0x225)](_0x21779b=>{const _0x1c85a6=_0x5b698c;sessions[_0x1c85a6(0x21a)]({'id':_0x21779b['i'],'clientId':_0x21779b['c'],'coachId':_0x21779b[_0x1c85a6(0x20c)],'dateStr':_0x39e476+'-'+_0x3543d1[_0x1c85a6(0x243)](0x2,'0'),'start':_0x21779b['s'],'end':_0x21779b['e'],'note':_0x21779b['n']||'','status':_0x21779b['st']||_0x1c85a6(0x286),'seriesId':_0x21779b['sid']});});})),reRenderBlocks();}};function init(){const _0x5933e6=a3_0x3e7d18;DataManager[_0x5933e6(0x1fb)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5933e6(0x232)]('matrixViewport')[_0x5933e6(0x27b)](_0x5933e6(0x25c),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x496fe4=a3_0x3e7d18,_0x205e60=document[_0x496fe4(0x232)](_0x496fe4(0x25a)),_0x5e94f3=document[_0x496fe4(0x232)](_0x496fe4(0x265));_0x205e60['innerHTML']='',_0x205e60[_0x496fe4(0x23e)](_0x5e94f3);for(let _0x1bb99f=0x0;_0x1bb99f<0x18;_0x1bb99f++){const _0x32ffa3=document[_0x496fe4(0x2d6)]('div');_0x32ffa3[_0x496fe4(0x28d)]='time-label';if(_0x1bb99f>0x0)_0x32ffa3['innerHTML']='<span>'+String(_0x1bb99f)['padStart'](0x2,'0')+_0x496fe4(0x20d);_0x205e60['appendChild'](_0x32ffa3);}}function renderDayRange(_0x142d95,_0x3e69b0){const _0x159850=a3_0x3e7d18,_0x5e88bc=document[_0x159850(0x232)](_0x159850(0x2a9)),_0x542d11=document[_0x159850(0x232)](_0x159850(0x2c6)),_0x1486e0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x201357=new Date();_0x201357['setHours'](0x0,0x0,0x0,0x0);const _0x4868b6=getLocalDateStr(new Date());for(let _0x5a55c1=_0x142d95;_0x5a55c1<=_0x3e69b0;_0x5a55c1++){const _0x5d5b03=new Date(_0x201357);_0x5d5b03[_0x159850(0x1ff)](_0x5d5b03[_0x159850(0x288)]()+_0x5a55c1);const _0x13ed00=getLocalDateStr(_0x5d5b03);let _0x1842f4=_0x5d5b03[_0x159850(0x25f)]()-0x1;if(_0x1842f4===-0x1)_0x1842f4=0x6;const _0x28f4aa=_0x13ed00===_0x4868b6,_0x4e1b86=document[_0x159850(0x2d6)](_0x159850(0x2d0));_0x4e1b86[_0x159850(0x28d)]='day-col-header\x20'+(_0x28f4aa?_0x159850(0x2b0):''),_0x4e1b86[_0x159850(0x237)](_0x159850(0x272),_0x13ed00),_0x4e1b86[_0x159850(0x2d3)]=_0x159850(0x259)+_0x1486e0[_0x1842f4]+_0x159850(0x2e1)+_0x5d5b03[_0x159850(0x288)]()+'</div>',_0x5e88bc[_0x159850(0x23e)](_0x4e1b86);const _0x26aca7=document[_0x159850(0x2d6)](_0x159850(0x2d0));_0x26aca7[_0x159850(0x28d)]='day-column\x20'+(_0x28f4aa?_0x159850(0x2b0):''),_0x26aca7[_0x159850(0x237)](_0x159850(0x272),_0x13ed00),_0x26aca7[_0x159850(0x237)]('data-day-idx',_0x1842f4),_0x542d11[_0x159850(0x23e)](_0x26aca7);}}function reRenderBlocks(){const _0x356170=a3_0x3e7d18;document[_0x356170(0x2da)](_0x356170(0x1f1))[_0x356170(0x225)](_0x445408=>{const _0x3420f4=_0x356170;_0x445408[_0x3420f4(0x2da)](_0x3420f4(0x21f))[_0x3420f4(0x225)](_0x15cac3=>_0x15cac3['remove']());const _0x4b4c4b=_0x445408[_0x3420f4(0x24c)](_0x3420f4(0x272)),_0x4878f1=parseInt(_0x445408[_0x3420f4(0x24c)](_0x3420f4(0x25e))),_0x53cf26=Math['round'](_0x445408['offsetLeft']);(availabilityPattern[_0x4878f1]||[])[_0x3420f4(0x225)](_0x4570bb=>{const _0x447292=_0x3420f4,_0x2d52d3=document[_0x447292(0x2d6)](_0x447292(0x2d0));_0x2d52d3[_0x447292(0x28d)]=_0x447292(0x2ca),_0x2d52d3[_0x447292(0x22b)][_0x447292(0x1ee)]=_0x4570bb*GRID_H+'px',_0x2d52d3['style']['backgroundPosition']='-'+_0x53cf26+'px\x20-'+_0x4570bb*GRID_H+'px',_0x445408[_0x447292(0x23e)](_0x2d52d3);});if(specialRanges[_0x3420f4(0x2be)]>0x0){const _0x11e669=new Date(_0x4b4c4b+_0x3420f4(0x213))[_0x3420f4(0x231)](),_0x2874f0=new Date(_0x4b4c4b+_0x3420f4(0x262))['getTime']();specialRanges[_0x3420f4(0x225)](_0x1c1628=>{const _0x45d597=_0x3420f4,_0x395566=new Date(_0x1c1628[_0x45d597(0x202)])[_0x45d597(0x231)](),_0x5d86f9=new Date(_0x1c1628[_0x45d597(0x273)])[_0x45d597(0x231)](),_0x352392=Math[_0x45d597(0x249)](_0x11e669,_0x395566),_0xf81ee1=Math[_0x45d597(0x266)](_0x2874f0,_0x5d86f9);if(_0x352392<_0xf81ee1){const _0x5e813e=(_0x352392-_0x11e669)/0x36ee80*GRID_H,_0x4e2e4a=(_0xf81ee1-_0x352392)/0x36ee80*GRID_H,_0x371047=document[_0x45d597(0x2d6)]('div');_0x4e2e4a>=23.5*GRID_H?(_0x371047['className']=_0x45d597(0x236),_0x371047[_0x45d597(0x22b)][_0x45d597(0x247)]='-'+_0x53cf26+_0x45d597(0x26f)):(_0x371047['className']=_0x45d597(0x1ed),_0x371047[_0x45d597(0x22b)][_0x45d597(0x1ee)]=_0x5e813e+'px',_0x371047[_0x45d597(0x22b)][_0x45d597(0x228)]=_0x4e2e4a+'px',_0x371047[_0x45d597(0x22b)]['backgroundPosition']='-'+_0x53cf26+'px\x20-'+_0x5e813e+'px'),_0x445408[_0x45d597(0x23e)](_0x371047);}});}renderEventsForColumn(_0x445408,_0x4b4c4b);});}function renderEventsForColumn(_0x2e9151,_0x1a29bd){const _0x5607b8=a3_0x3e7d18,_0x27cebd=sessions[_0x5607b8(0x240)](_0x57870c=>_0x57870c[_0x5607b8(0x27c)]===_0x1a29bd),_0x3e309b=_0x27cebd['map'](_0x5aa344=>{const _0x3905c3=_0x5607b8,[_0x4f01d2,_0x107234]=_0x5aa344['start'][_0x3905c3(0x27a)](':')[_0x3905c3(0x251)](Number),[_0x48a53d,_0x4e55f0]=_0x5aa344[_0x3905c3(0x273)]['split'](':')[_0x3905c3(0x251)](Number);return{'data':_0x5aa344,'start':_0x4f01d2*0x3c+_0x107234,'end':_0x48a53d*0x3c+_0x4e55f0,'colIndex':0x0};});_0x3e309b[_0x5607b8(0x248)]((_0x54c112,_0x3f395c)=>_0x54c112[_0x5607b8(0x202)]-_0x3f395c['start']||_0x3f395c[_0x5607b8(0x273)]-_0x3f395c[_0x5607b8(0x202)]-(_0x54c112[_0x5607b8(0x273)]-_0x54c112['start']));const _0x22edab=[];_0x3e309b[_0x5607b8(0x225)](_0x27a899=>{const _0xbb42a1=_0x5607b8;let _0x21f595=![];for(let _0x955775=0x0;_0x955775<_0x22edab[_0xbb42a1(0x2be)];_0x955775++){const _0x5d79b5=_0x22edab[_0x955775];if(_0x27a899['start']>=_0x5d79b5[_0x5d79b5[_0xbb42a1(0x2be)]-0x1][_0xbb42a1(0x273)]){_0x5d79b5[_0xbb42a1(0x21a)](_0x27a899),_0x27a899[_0xbb42a1(0x293)]=_0x955775,_0x21f595=!![];break;}}!_0x21f595&&(_0x22edab[_0xbb42a1(0x21a)]([_0x27a899]),_0x27a899[_0xbb42a1(0x293)]=_0x22edab[_0xbb42a1(0x2be)]-0x1);}),_0x3e309b[_0x5607b8(0x225)](_0x41efb5=>{const _0x48fbab=_0x5607b8;let _0x843e87=0x0;_0x3e309b['forEach'](_0x23ae68=>{const _0x10833c=a3_0x29bf;if(Math['max'](_0x41efb5[_0x10833c(0x202)],_0x23ae68[_0x10833c(0x202)])<Math[_0x10833c(0x266)](_0x41efb5[_0x10833c(0x273)],_0x23ae68[_0x10833c(0x273)])&&_0x23ae68['colIndex']>_0x843e87)_0x843e87=_0x23ae68[_0x10833c(0x293)];});const _0x860920=_0x843e87+0x1,_0xafdeb8=0x64/_0x860920,_0xf121d0=_0x41efb5['colIndex']*_0xafdeb8,_0x560917=document[_0x48fbab(0x2d6)](_0x48fbab(0x2d0)),_0x5794ee=_0x41efb5['data'];let _0x595ca9=_0x48fbab(0x280);if(clients&&clients[_0x48fbab(0x2be)]>0x0){const _0x5a8fd8=clients[_0x48fbab(0x244)](_0x1c0f35=>String(_0x1c0f35['id'])===String(_0x5794ee[_0x48fbab(0x281)]));if(_0x5a8fd8&&_0x5a8fd8[_0x48fbab(0x229)])_0x595ca9=_0x5a8fd8[_0x48fbab(0x229)];}const _0x469ded=_0x5794ee[_0x48fbab(0x285)]===_0x48fbab(0x20b),_0x2946f9=_0x469ded?0x1:0.45;_0x560917[_0x48fbab(0x28d)]=_0x48fbab(0x1f5)+(_0x469ded?'\x20status-completed':''),_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x1fe)]=hexToRgba(_0x595ca9,_0x2946f9),_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x226)]=_0x595ca9;const _0x2ec7d0=_0x41efb5['start']/0x3c*GRID_H,_0x394ac5=(_0x41efb5[_0x48fbab(0x273)]-_0x41efb5['start'])/0x3c*GRID_H;_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x1ee)]=_0x2ec7d0+'px',_0x560917[_0x48fbab(0x22b)]['height']=Math[_0x48fbab(0x249)](_0x394ac5,0x14)+'px',_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x2c3)]='calc('+_0xafdeb8+_0x48fbab(0x2aa),_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x20f)]=_0x48fbab(0x210)+_0xf121d0+'%\x20+\x202px)',_0x560917[_0x48fbab(0x22b)][_0x48fbab(0x2b1)]=0xa+_0x41efb5[_0x48fbab(0x293)];if(_0xafdeb8<0x55)_0x560917[_0x48fbab(0x25d)]['add']('mini');let _0x3e7928='';if(_0x5794ee[_0x48fbab(0x2b9)])_0x3e7928+=_0x48fbab(0x291);if(_0x469ded)_0x3e7928+=_0x48fbab(0x23b);_0x560917[_0x48fbab(0x2d3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5794ee[_0x48fbab(0x202)]+_0x48fbab(0x284)+_0x5794ee['end']+_0x48fbab(0x215)+_0x3e7928+_0x48fbab(0x23d),_0x560917[_0x48fbab(0x274)]=_0xb007d8=>{const _0x4fc784=_0x48fbab;_0xb007d8[_0x4fc784(0x2a2)](),openDetails(_0x5794ee);},_0x2e9151[_0x48fbab(0x23e)](_0x560917);});}function openAnalytics(){const _0x1c9755=a3_0x3e7d18,_0x38ac46=document['querySelector'](_0x1c9755(0x23a));setAnalyticsPeriod(_0x1c9755(0x227),_0x38ac46),openSheet(_0x1c9755(0x2a5));}function setAnalyticsPeriod(_0x1872ff,_0x5a7e09){const _0x511b21=a3_0x3e7d18;currentAnPeriod=_0x1872ff,document['querySelectorAll'](_0x511b21(0x23a))[_0x511b21(0x225)](_0x183357=>_0x183357[_0x511b21(0x25d)]['remove']('active'));if(_0x5a7e09)_0x5a7e09[_0x511b21(0x25d)][_0x511b21(0x2d4)](_0x511b21(0x205));const _0x52b1ec=document[_0x511b21(0x232)](_0x511b21(0x2a3));_0x52b1ec[_0x511b21(0x22b)][_0x511b21(0x2d8)]=_0x1872ff===_0x511b21(0x252)?_0x511b21(0x25b):_0x511b21(0x23f);const _0x19c7aa=new Date();let _0x2184ab=new Date(),_0x52eb5c=new Date();if(_0x1872ff===_0x511b21(0x227))_0x2184ab=getStartOfWeek(_0x19c7aa),_0x52eb5c=new Date(_0x2184ab),_0x52eb5c['setDate'](_0x52eb5c[_0x511b21(0x288)]()+0x6);else{if(_0x1872ff===_0x511b21(0x29c))_0x2184ab=new Date(_0x19c7aa[_0x511b21(0x2c1)](),_0x19c7aa[_0x511b21(0x239)](),0x1),_0x52eb5c=new Date(_0x19c7aa[_0x511b21(0x2c1)](),_0x19c7aa['getMonth']()+0x1,0x0);else{!document[_0x511b21(0x232)](_0x511b21(0x22f))['value']&&(document[_0x511b21(0x232)]('anStart')[_0x511b21(0x22c)]=getLocalDateStr(_0x19c7aa),document[_0x511b21(0x232)](_0x511b21(0x263))[_0x511b21(0x22c)]=getLocalDateStr(_0x19c7aa));refreshAnalytics();return;}}document['getElementById'](_0x511b21(0x22f))[_0x511b21(0x22c)]=getLocalDateStr(_0x2184ab),document['getElementById']('anEnd')[_0x511b21(0x22c)]=getLocalDateStr(_0x52eb5c),refreshAnalytics();}function refreshAnalytics(){const _0x413cf6=a3_0x3e7d18,_0x44940a=document[_0x413cf6(0x232)](_0x413cf6(0x22f))[_0x413cf6(0x22c)],_0x13a1a5=document[_0x413cf6(0x232)]('anEnd')[_0x413cf6(0x22c)];if(!_0x44940a||!_0x13a1a5)return;const _0x2a47f5=sessions['filter'](_0x151dba=>_0x151dba['dateStr']>=_0x44940a&&_0x151dba['dateStr']<=_0x13a1a5&&_0x151dba[_0x413cf6(0x285)]!=='cancelled'),_0xd07c4f=_0x2a47f5[_0x413cf6(0x2be)],_0x36e5a3=_0x2a47f5[_0x413cf6(0x240)](_0xbfda78=>_0xbfda78[_0x413cf6(0x285)]===_0x413cf6(0x20b))[_0x413cf6(0x2be)],_0x569910=_0xd07c4f>0x0?Math[_0x413cf6(0x2ed)](_0x36e5a3/_0xd07c4f*0x64):0x0;document[_0x413cf6(0x232)](_0x413cf6(0x21d))[_0x413cf6(0x208)]=_0x569910+'%',document[_0x413cf6(0x232)](_0x413cf6(0x1f7))[_0x413cf6(0x208)]=_0x36e5a3+'\x20–∏–∑\x20'+_0xd07c4f+_0x413cf6(0x2b8);const _0x17e903=document['getElementById'](_0x413cf6(0x28e)),_0x3761e9=0x2*Math['PI']*0x23,_0x2c61fb=_0x3761e9-_0x569910/0x64*_0x3761e9;_0x17e903[_0x413cf6(0x22b)][_0x413cf6(0x1f6)]=_0x2c61fb;const _0x476c92={};_0x2a47f5[_0x413cf6(0x225)](_0x38f15f=>{const _0x578469=_0x413cf6,_0x6bcda6=_0x38f15f[_0x578469(0x2e0)]||_0x578469(0x220);if(!_0x476c92[_0x6bcda6]){const _0x37e549='#'+_0x6bcda6[_0x578469(0x22a)]()[_0x578469(0x2e2)](0x0,0x6);_0x476c92[_0x6bcda6]={'total':0x0,'done':0x0,'color':_0x37e549};}_0x476c92[_0x6bcda6]['total']++;if(_0x38f15f['status']===_0x578469(0x20b))_0x476c92[_0x6bcda6][_0x578469(0x238)]++;});const _0x5d3099=document[_0x413cf6(0x232)](_0x413cf6(0x218));_0x5d3099['innerHTML']='';const _0x14395d=Object['entries'](_0x476c92)[_0x413cf6(0x248)]((_0x566724,_0x18d871)=>_0x18d871[0x1][_0x413cf6(0x2ee)]-_0x566724[0x1]['total']);if(_0x14395d[_0x413cf6(0x2be)]===0x0){_0x5d3099[_0x413cf6(0x2d3)]=_0x413cf6(0x2cc);return;}_0x14395d[_0x413cf6(0x225)](([_0x5a5224,_0x1d49fd])=>{const _0x363c9b=_0x413cf6,_0x379a79=Math[_0x363c9b(0x2ed)](_0x1d49fd['done']/_0x1d49fd[_0x363c9b(0x2ee)]*0x64),_0x3b3eec=document['createElement']('div');_0x3b3eec[_0x363c9b(0x28d)]=_0x363c9b(0x24d),_0x3b3eec[_0x363c9b(0x22b)][_0x363c9b(0x226)]=_0x1d49fd[_0x363c9b(0x229)],_0x3b3eec[_0x363c9b(0x2d3)]=_0x363c9b(0x246)+_0x5a5224[_0x363c9b(0x2e2)](0x0,0x5)+_0x363c9b(0x234)+_0x1d49fd[_0x363c9b(0x238)]+_0x363c9b(0x1f0)+_0x1d49fd[_0x363c9b(0x2ee)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x379a79+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5d3099[_0x363c9b(0x23e)](_0x3b3eec);});}function openDetails(_0xa69aca){const _0x2dd3ce=a3_0x3e7d18;currentSession=_0xa69aca;const _0x343a81=new Date(_0xa69aca[_0x2dd3ce(0x27c)]),_0x430ca9=_0x343a81['toLocaleDateString'](_0x2dd3ce(0x2b5),{'weekday':'long','day':_0x2dd3ce(0x2e5),'month':_0x2dd3ce(0x221)});document[_0x2dd3ce(0x232)]('detDate')[_0x2dd3ce(0x208)]=_0x430ca9[_0x2dd3ce(0x1f9)](0x0)[_0x2dd3ce(0x254)]()+_0x430ca9[_0x2dd3ce(0x260)](0x1),document[_0x2dd3ce(0x232)](_0x2dd3ce(0x2e3))[_0x2dd3ce(0x208)]=_0xa69aca[_0x2dd3ce(0x202)]+_0x2dd3ce(0x284)+_0xa69aca[_0x2dd3ce(0x273)],document[_0x2dd3ce(0x232)](_0x2dd3ce(0x2e8))[_0x2dd3ce(0x208)]=_0xa69aca[_0x2dd3ce(0x2dd)]||_0x2dd3ce(0x2d9);const _0x1b32e5=document[_0x2dd3ce(0x232)](_0x2dd3ce(0x2c7)),_0x3f0da7=document[_0x2dd3ce(0x232)](_0x2dd3ce(0x2d7)),_0x2022c6=_0x3f0da7[_0x2dd3ce(0x230)]('.btn-cancel'),_0x58de72=_0x3f0da7[_0x2dd3ce(0x230)](_0x2dd3ce(0x241)),_0x4974b6=document[_0x2dd3ce(0x232)](_0x2dd3ce(0x257));if(_0xa69aca[_0x2dd3ce(0x285)]===_0x2dd3ce(0x20b))_0x1b32e5['textContent']=_0x2dd3ce(0x297),_0x1b32e5['style'][_0x2dd3ce(0x229)]=_0x2dd3ce(0x27e),_0x3f0da7[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]=_0x2dd3ce(0x23f);else{_0x1b32e5['textContent']=_0x2dd3ce(0x277),_0x1b32e5[_0x2dd3ce(0x22b)][_0x2dd3ce(0x229)]=_0x2dd3ce(0x214),_0x3f0da7['style']['display']='block';const _0x55aca3=new Date(_0xa69aca[_0x2dd3ce(0x27c)]+'T'+_0xa69aca[_0x2dd3ce(0x202)]),_0x17c895=new Date(),_0x2f557b=(_0x55aca3-_0x17c895)/(0x3e8*0x3c*0x3c),_0xe607af=coachProfiles[_0xa69aca[_0x2dd3ce(0x2e0)]]&&coachProfiles[_0xa69aca[_0x2dd3ce(0x2e0)]][_0x2dd3ce(0x2ba)]?parseInt(coachProfiles[_0xa69aca['coachId']][_0x2dd3ce(0x2ba)]):0x18;if(_0xe607af===0x0||_0x2f557b>=_0xe607af)_0x2022c6[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]='block',_0x58de72['style']['display']='block',_0x4974b6[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]=_0x2dd3ce(0x23f);else{_0x2022c6[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]=_0x2dd3ce(0x23f),_0x58de72[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]=_0x2dd3ce(0x23f),_0x4974b6[_0x2dd3ce(0x22b)][_0x2dd3ce(0x2d8)]=_0x2dd3ce(0x267);let _0x35b91c=_0xe607af===0x0?_0x2dd3ce(0x264):_0x2dd3ce(0x2bf)+_0xe607af+_0x2dd3ce(0x28a);_0x4974b6[_0x2dd3ce(0x208)]=_0x2dd3ce(0x261)+_0x35b91c+_0x2dd3ce(0x2b3);}}document['getElementById'](_0x2dd3ce(0x2d1))[_0x2dd3ce(0x25d)][_0x2dd3ce(0x2d4)](_0x2dd3ce(0x205)),document[_0x2dd3ce(0x232)](_0x2dd3ce(0x27d))[_0x2dd3ce(0x25d)][_0x2dd3ce(0x2d4)](_0x2dd3ce(0x235));}function closeAllSheets(){const _0x498e50=a3_0x3e7d18;document['getElementById'](_0x498e50(0x2d1))[_0x498e50(0x25d)][_0x498e50(0x2c8)]('active'),document[_0x498e50(0x2da)](_0x498e50(0x2b6))['forEach'](_0x18e7f3=>_0x18e7f3['classList'][_0x498e50(0x2c8)](_0x498e50(0x235)));}function openSheet(_0x2e6658){const _0x4c6370=a3_0x3e7d18;document[_0x4c6370(0x232)](_0x4c6370(0x2d1))[_0x4c6370(0x25d)][_0x4c6370(0x2d4)]('active'),document['getElementById'](_0x2e6658)[_0x4c6370(0x25d)][_0x4c6370(0x2d4)]('open');}function getLocalDateStr(_0x1edcc2){const _0xcf3cb2=a3_0x3e7d18,_0xeaccd0=_0x1edcc2[_0xcf3cb2(0x2c1)](),_0x3eee9d=String(_0x1edcc2[_0xcf3cb2(0x239)]()+0x1)['padStart'](0x2,'0'),_0x484992=String(_0x1edcc2[_0xcf3cb2(0x288)]())[_0xcf3cb2(0x243)](0x2,'0');return _0xeaccd0+'-'+_0x3eee9d+'-'+_0x484992;}function getStartOfWeek(_0x4b6f62){const _0x208fe3=a3_0x3e7d18,_0x2ac14b=new Date(_0x4b6f62),_0x34120b=_0x2ac14b['getDay'](),_0x24c28f=_0x2ac14b[_0x208fe3(0x288)]()-_0x34120b+(_0x34120b===0x0?-0x6:0x1);return _0x2ac14b['setDate'](_0x24c28f),_0x2ac14b[_0x208fe3(0x283)](0x0,0x0,0x0,0x0),_0x2ac14b;}function scrollToToday(){const _0x5782d8=getLocalDateStr(new Date());setTimeout(()=>{const _0xb5ba84=a3_0x29bf,_0x1a6f3e=document['querySelector'](_0xb5ba84(0x2ea)+_0x5782d8+'\x22]');if(_0x1a6f3e){const _0x1dfd0f=document[_0xb5ba84(0x232)](_0xb5ba84(0x295)),_0x3528d6=_0x1a6f3e[_0xb5ba84(0x212)]-_0x1dfd0f['clientWidth']/0x2+_0x1a6f3e[_0xb5ba84(0x233)]/0x2;_0x1dfd0f[_0xb5ba84(0x24e)]({'left':_0x3528d6,'behavior':_0xb5ba84(0x2a0)}),_0x1dfd0f['scrollTop']=0x9*GRID_H;}},0x32);}function a3_0x29bf(_0x292456,_0x37da9e){_0x292456=_0x292456-0x1ed;const _0x1c63b0=a3_0xa15c();let _0x285590=_0x1c63b0[_0x292456];return _0x285590;}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5344c8=a3_0x3e7d18,_0x2dfb6b=new Date(),_0x1330ef=document['getElementById']('globalTimeLine'),_0x2eca85=document[_0x5344c8(0x232)]('timeLineBadge'),_0x5e733f=(_0x2dfb6b['getHours']()*0x3c+_0x2dfb6b[_0x5344c8(0x253)]())/0x3c*GRID_H;_0x1330ef[_0x5344c8(0x22b)][_0x5344c8(0x1ee)]=_0x5e733f+'px',_0x1330ef[_0x5344c8(0x22b)]['display']=_0x5344c8(0x267),_0x2eca85[_0x5344c8(0x22b)][_0x5344c8(0x1ee)]=_0x5e733f+'px',_0x2eca85[_0x5344c8(0x22b)][_0x5344c8(0x2d8)]='block',_0x2eca85[_0x5344c8(0x208)]=String(_0x2dfb6b[_0x5344c8(0x2c4)]())[_0x5344c8(0x243)](0x2,'0')+':'+String(_0x2dfb6b[_0x5344c8(0x253)]())['padStart'](0x2,'0');}function onScroll(){const _0x150a69=a3_0x3e7d18,_0x1e8057=document[_0x150a69(0x232)](_0x150a69(0x295)),_0x494009=document[_0x150a69(0x2da)](_0x150a69(0x206));for(let _0x4ea46f of _0x494009)if(_0x4ea46f['offsetLeft']>=_0x1e8057[_0x150a69(0x271)]){const _0xea8908=new Date(_0x4ea46f[_0x150a69(0x24c)]('data-date'));document[_0x150a69(0x232)](_0x150a69(0x270))[_0x150a69(0x208)]=_0xea8908[_0x150a69(0x2d2)]('ru',{'month':_0x150a69(0x221)})[_0x150a69(0x254)]()+'\x20'+_0xea8908[_0x150a69(0x2c1)]();break;}}function showToast(_0x495d39){const _0x5e7382=a3_0x3e7d18,_0xafb606=document[_0x5e7382(0x232)](_0x5e7382(0x2e7));_0xafb606[_0x5e7382(0x208)]=_0x495d39,_0xafb606[_0x5e7382(0x25d)][_0x5e7382(0x2d4)](_0x5e7382(0x299)),setTimeout(()=>_0xafb606['classList'][_0x5e7382(0x2c8)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x49fb5a=a3_0x3e7d18,_0x2f1c39=document[_0x49fb5a(0x232)](_0x49fb5a(0x295)),_0xa428a2=_0x2f1c39[_0x49fb5a(0x271)],_0x5b65bc=_0x2f1c39[_0x49fb5a(0x29f)],_0x5443d8=_0x2f1c39['clientWidth'];if(_0x5b65bc-(_0xa428a2+_0x5443d8)<0x12c){const _0x4e8d51=endOffset;endOffset+=0xe,renderDayRange(_0x4e8d51+0x1,endOffset),reRenderBlocks();}if(_0xa428a2<0x12c){const _0xcb0ff0=startOffset;startOffset-=0xe,prependDays(startOffset,_0xcb0ff0-0x1),_0x2f1c39[_0x49fb5a(0x271)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xc1a88c,_0x522bee){const _0xc3f514=a3_0x3e7d18,_0x49489d=document[_0xc3f514(0x232)]('daysHeaderTrack'),_0x136efe=document[_0xc3f514(0x232)](_0xc3f514(0x2c6)),_0xd8e46=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18fa18=new Date();_0x18fa18[_0xc3f514(0x283)](0x0,0x0,0x0,0x0);const _0x251dca=getLocalDateStr(new Date()),_0x6305a3=document['createDocumentFragment'](),_0x149e2a=document['createDocumentFragment']();for(let _0x57820f=_0xc1a88c;_0x57820f<=_0x522bee;_0x57820f++){const _0x870884=new Date(_0x18fa18);_0x870884[_0xc3f514(0x1ff)](_0x870884[_0xc3f514(0x288)]()+_0x57820f);const _0x94aa4d=getLocalDateStr(_0x870884);let _0x4e479e=_0x870884[_0xc3f514(0x25f)]()-0x1;if(_0x4e479e===-0x1)_0x4e479e=0x6;const _0x20b145=_0x94aa4d===_0x251dca,_0x2a7c17=document[_0xc3f514(0x2d6)](_0xc3f514(0x2d0));_0x2a7c17[_0xc3f514(0x28d)]=_0xc3f514(0x268)+(_0x20b145?_0xc3f514(0x2b0):''),_0x2a7c17[_0xc3f514(0x237)](_0xc3f514(0x272),_0x94aa4d),_0x2a7c17[_0xc3f514(0x2d3)]=_0xc3f514(0x259)+_0xd8e46[_0x4e479e]+_0xc3f514(0x2e1)+_0x870884[_0xc3f514(0x288)]()+_0xc3f514(0x20e),_0x6305a3['appendChild'](_0x2a7c17);const _0x5488e0=document[_0xc3f514(0x2d6)](_0xc3f514(0x2d0));_0x5488e0[_0xc3f514(0x28d)]='day-column\x20'+(_0x20b145?_0xc3f514(0x2b0):''),_0x5488e0[_0xc3f514(0x237)](_0xc3f514(0x272),_0x94aa4d),_0x5488e0[_0xc3f514(0x237)](_0xc3f514(0x25e),_0x4e479e),_0x149e2a['appendChild'](_0x5488e0);}_0x49489d[_0xc3f514(0x26b)](_0x6305a3,_0x49489d['firstChild']),_0x136efe['insertBefore'](_0x149e2a,_0x136efe['querySelector'](_0xc3f514(0x1f1)));}function hexToRgba(_0x17f89b,_0x2db39e){const _0x57eade=a3_0x3e7d18;let _0x3a3154;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x17f89b))return _0x3a3154=_0x17f89b[_0x57eade(0x26c)](0x1)[_0x57eade(0x27a)](''),_0x3a3154[_0x57eade(0x2be)]==0x3&&(_0x3a3154=[_0x3a3154[0x0],_0x3a3154[0x0],_0x3a3154[0x1],_0x3a3154[0x1],_0x3a3154[0x2],_0x3a3154[0x2]]),_0x3a3154='0x'+_0x3a3154[_0x57eade(0x2a7)](''),_0x57eade(0x2ce)+[_0x3a3154>>0x10&0xff,_0x3a3154>>0x8&0xff,_0x3a3154&0xff][_0x57eade(0x2a7)](',')+','+_0x2db39e+')';return _0x57eade(0x203)+_0x2db39e+')';}function a3_0xa15c(){const _0x54a4ee=['<div\x20class=\x22dch-day\x22>','timeColumn','flex','scroll','classList','data-day-idx','getDay','slice','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','T23:59:59','anEnd','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','timeLineBadge','min','block','day-col-header\x20','setBackgroundColor','760722xxygwb','insertBefore','substring','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','uc_client_settings','px\x200px','headerMonth','scrollLeft','data-date','end','onclick','Error\x20setting\x20back\x20button:','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20–≤\x20','split','addEventListener','dateStr','detailsSheet','var(--acc-green)','button','#0a84ff','clientId','floor','setHours','\x20-\x20','status','planned','</div><div\x20class=\x22rs-day-num\x22>','getDate','saveLocally','\x20—á.','log','startsWith','className','anDonutCircle','#ff453a','rsDatesTrack','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','3936iyHNQa','colIndex','calendar','matrixViewport','WebApp','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','pattern','show','118010lwFLFN','#050505','month','href','–û—Ç–º–µ–Ω–µ–Ω–æ','scrollWidth','auto','BackButton','stopPropagation','anCustomDates','88PPqqwq','analyticsSheet','8920XZytQl','join','router.html','daysHeaderTrack','%\x20-\x204px)','Telegram','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','DOMContentLoaded','ccYesBtn','client_load','today','zIndex','ranges','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','setHeaderColor','ru-RU','.sheet','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','seriesId','cancel_window','applyData','firstChild','initDataUnsafe','length','–∑–∞\x20','initData','getFullYear','POST','width','getHours','onClick','gridColumns','detStatus','remove','2376jDJOzb','blocked-slot\x20stripe-bg','600','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','apply','rgba(','rsSlotsGrid','div','overlay','toLocaleString','innerHTML','add','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','createElement','cancelContainer','display','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','querySelectorAll','customConfirm','json','note','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','visible','coachId','</div><div\x20class=\x22dch-num\x22>','substr','detTime','clients','numeric','parse','toast','detNote','24epydrk','.day-col-header[data-date=\x22','getItem','all','round','total','setMonth','user','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','blocked-range-part\x20stripe-bg','top','stringify','</span>\x20/\x20','.day-column','error','622734YjvfCm','rs-time-btn','event-card','strokeDashoffset','anTotalStats','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','charAt','coach_profiles','loadLocal','ccTitle','rescheduleSheet','backgroundColor','setDate','exceptions','keys','start','rgba(10,\x20132,\x20255,\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','active','.day-col-header','<div\x20class=\x22rs-day-name\x22>','textContent','settings','684slBPdd','completed','cid',':00</span>','</div>','left','calc(','setItem','offsetLeft','T00:00:00','var(--acc-blue)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','(((.+)+)+)+$','analyticsList','constructor','push','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','reschedule','anPercent','get_slots','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','Unknown','long','16304MpoDiJ','data','location','forEach','borderLeftColor','week','height','color','toString','style','value','1307887hhNFYF','findIndex','anStart','querySelector','getTime','getElementById','offsetWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','open','day-off-overlay\x20stripe-bg','setAttribute','done','getMonth','.period-switch\x20.p-btn','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','none','filter','.btn-reschedule','.rs-date-chip','padStart','find','uc_client_sessions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','backgroundPosition','sort','max','disableVerticalSwipes','offClick','getAttribute','client-stat-card','scrollTo','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','then','map','custom','getMinutes','toUpperCase','uc_client_list','ccText','cancelHint','now'];a3_0xa15c=function(){return _0x54a4ee;};return a3_0xa15c();}let confirmResolver=null;function showCustomConfirm(_0x519750,_0x43e24e,_0x32abda=!![]){const _0x2d59dd=a3_0x3e7d18;document[_0x2d59dd(0x232)](_0x2d59dd(0x1fc))[_0x2d59dd(0x208)]=_0x519750,document[_0x2d59dd(0x232)](_0x2d59dd(0x256))[_0x2d59dd(0x208)]=_0x43e24e;const _0x206e2c=document[_0x2d59dd(0x232)](_0x2d59dd(0x2ae));return _0x32abda?(_0x206e2c[_0x2d59dd(0x22b)]['color']=_0x2d59dd(0x28f),_0x206e2c[_0x2d59dd(0x22b)]['fontWeight']=_0x2d59dd(0x2cb)):(_0x206e2c[_0x2d59dd(0x22b)][_0x2d59dd(0x229)]='#0a84ff',_0x206e2c[_0x2d59dd(0x22b)]['fontWeight']=_0x2d59dd(0x2cb)),new Promise(_0x138b83=>{const _0x463237=_0x2d59dd;confirmResolver=_0x138b83,document[_0x463237(0x232)]('customConfirm')[_0x463237(0x25d)]['add'](_0x463237(0x2df));});}function resolveCustomConfirm(_0xa3ea8b){const _0x7b4d8=a3_0x3e7d18;document[_0x7b4d8(0x232)](_0x7b4d8(0x2db))['classList'][_0x7b4d8(0x2c8)](_0x7b4d8(0x2df));if(confirmResolver)confirmResolver(_0xa3ea8b);}async function tryCancelCurrentSession(){const _0x532f83=a3_0x3e7d18;if(!currentSession)return;const _0x54804f=await showCustomConfirm(_0x532f83(0x2b7),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x54804f)return;const _0x216aaf=currentSession;closeAllSheets(),sessions=sessions[_0x532f83(0x240)](_0x48da16=>_0x48da16['id']!==_0x216aaf['id']),reRenderBlocks(),showToast(_0x532f83(0x29e)),lastUserActionTime=Date[_0x532f83(0x258)]();try{const _0x4e78c0=window['Telegram']?.[_0x532f83(0x296)],_0x142d81=await fetch(API_URL,{'method':_0x532f83(0x2c2),'body':JSON[_0x532f83(0x1ef)]({'action':'client_cancel','init_data':_0x4e78c0?.[_0x532f83(0x2c0)]||'','coachId':_0x216aaf['coachId'],'dateStr':_0x216aaf[_0x532f83(0x27c)],'sessionId':_0x216aaf['id']})});if(_0x142d81['ok'])DataManager['saveLocally']();}catch(_0x289fe7){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x10b879=a3_0x3e7d18;if(!currentSession)return;document[_0x10b879(0x232)]('detailsSheet')[_0x10b879(0x25d)][_0x10b879(0x2c8)](_0x10b879(0x235)),document[_0x10b879(0x232)](_0x10b879(0x1fd))[_0x10b879(0x25d)][_0x10b879(0x2d4)]('open');const _0x57d6df=document[_0x10b879(0x232)](_0x10b879(0x290)),_0x20bd2d=document[_0x10b879(0x232)]('rsSlotsGrid');_0x57d6df['innerHTML']='',_0x20bd2d[_0x10b879(0x2d3)]=_0x10b879(0x2de);const [_0x338c38,_0x4d2319]=currentSession[_0x10b879(0x202)][_0x10b879(0x27a)](':')['map'](Number),[_0x581b23,_0x137541]=currentSession[_0x10b879(0x273)]['split'](':')[_0x10b879(0x251)](Number),_0x4619db=_0x581b23*0x3c+_0x137541-(_0x338c38*0x3c+_0x4d2319);try{const _0x47504a=window[_0x10b879(0x2ab)]?.[_0x10b879(0x296)],_0x5a0d8a=await fetch(API_URL,{'method':'POST','body':JSON[_0x10b879(0x1ef)]({'action':_0x10b879(0x21e),'coachId':currentSession[_0x10b879(0x2e0)],'duration':_0x4619db,'init_data':_0x47504a?.[_0x10b879(0x2c0)]||'','excludeSessionId':currentSession['id']})}),_0x53d2e8=await _0x5a0d8a[_0x10b879(0x2dc)]();_0x53d2e8['ok']&&_0x53d2e8['data']?(availableSlotsCache=_0x53d2e8['data'],renderRescheduleDates()):_0x20bd2d[_0x10b879(0x2d3)]=_0x10b879(0x2f1);}catch(_0x48ff26){_0x20bd2d['innerHTML']=_0x10b879(0x2ac);}}function renderRescheduleDates(){const _0x341c2f=a3_0x3e7d18,_0x259c9f=document[_0x341c2f(0x232)](_0x341c2f(0x290));_0x259c9f[_0x341c2f(0x2d3)]='';const _0xf9fe79=Object[_0x341c2f(0x201)](availableSlotsCache)[_0x341c2f(0x248)](),_0x51f20e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xf9fe79[_0x341c2f(0x2be)]===0x0){document[_0x341c2f(0x232)](_0x341c2f(0x2cf))['innerHTML']=_0x341c2f(0x1f8);return;}_0xf9fe79[_0x341c2f(0x225)]((_0x3b8bab,_0x44a1ef)=>{const _0x18bce5=_0x341c2f,_0x50d994=new Date(_0x3b8bab),_0x3096ac=_0x51f20e[_0x50d994[_0x18bce5(0x25f)]()],_0x3c6515=_0x50d994['getDate'](),_0x45d563=document[_0x18bce5(0x2d6)]('div');_0x45d563[_0x18bce5(0x28d)]='rs-date-chip';if(_0x44a1ef===0x0)_0x45d563[_0x18bce5(0x25d)][_0x18bce5(0x2d4)](_0x18bce5(0x205));_0x45d563[_0x18bce5(0x2d3)]=_0x18bce5(0x207)+_0x3096ac+_0x18bce5(0x287)+_0x3c6515+_0x18bce5(0x20e),_0x45d563['onclick']=()=>selectRsDate(_0x3b8bab,_0x45d563),_0x259c9f['appendChild'](_0x45d563);}),selectRsDate(_0xf9fe79[0x0],_0x259c9f[_0x341c2f(0x2bc)]);}function selectRsDate(_0x2a006b,_0x4466f4){const _0x3306e4=a3_0x3e7d18;selectedRsDate=_0x2a006b,document[_0x3306e4(0x2da)](_0x3306e4(0x242))[_0x3306e4(0x225)](_0x2844c7=>_0x2844c7[_0x3306e4(0x25d)][_0x3306e4(0x2c8)](_0x3306e4(0x205)));if(_0x4466f4)_0x4466f4[_0x3306e4(0x25d)]['add']('active');const _0x18bac8=document[_0x3306e4(0x232)]('rsSlotsGrid');_0x18bac8[_0x3306e4(0x2d3)]='';const _0x98c908=availableSlotsCache[_0x2a006b]||[];if(_0x98c908['length']===0x0){_0x18bac8['innerHTML']=_0x3306e4(0x2f1);return;}_0x98c908[_0x3306e4(0x225)](_0x35480c=>{const _0x57a861=_0x3306e4,_0x4236a7=document[_0x57a861(0x2d6)](_0x57a861(0x27f));_0x4236a7[_0x57a861(0x28d)]=_0x57a861(0x1f4),_0x4236a7[_0x57a861(0x208)]=_0x35480c,_0x4236a7[_0x57a861(0x274)]=()=>confirmReschedule(_0x35480c),_0x18bac8[_0x57a861(0x23e)](_0x4236a7);});}async function confirmReschedule(_0x37de22){const _0x4bd103=a3_0x3e7d18,_0x49f220=new Date(selectedRsDate),_0x2d9df4=_0x49f220['toLocaleDateString'](_0x4bd103(0x2b5),{'day':'numeric','month':_0x4bd103(0x221)}),_0x34767c=await showCustomConfirm(_0x4bd103(0x204),_0x4bd103(0x24f)+_0x2d9df4+_0x4bd103(0x279)+_0x37de22+'?',![]);if(!_0x34767c)return;closeAllSheets(),showToast(_0x4bd103(0x21b)),lastUserActionTime=Date[_0x4bd103(0x258)]();const _0x30aca8=currentSession[_0x4bd103(0x27c)],_0x495b7f=currentSession['id'],[_0x14238a,_0x20588f]=currentSession[_0x4bd103(0x202)][_0x4bd103(0x27a)](':')[_0x4bd103(0x251)](Number),[_0xeae7f9,_0x25be8a]=currentSession[_0x4bd103(0x273)][_0x4bd103(0x27a)](':')[_0x4bd103(0x251)](Number),_0x5c5ea9=_0xeae7f9*0x3c+_0x25be8a-(_0x14238a*0x3c+_0x20588f),[_0x80e15b,_0xc6f256]=_0x37de22[_0x4bd103(0x27a)](':')['map'](Number),_0x53e957=_0x80e15b*0x3c+_0xc6f256+_0x5c5ea9,_0x5e035d=Math[_0x4bd103(0x282)](_0x53e957/0x3c),_0x247e33=_0x53e957%0x3c,_0x1a304f=String(_0x5e035d)[_0x4bd103(0x243)](0x2,'0')+':'+String(_0x247e33)[_0x4bd103(0x243)](0x2,'0'),_0x1f1374=sessions[_0x4bd103(0x22e)](_0x1b6b5c=>_0x1b6b5c['id']===_0x495b7f);_0x1f1374!==-0x1&&(sessions[_0x1f1374][_0x4bd103(0x27c)]=selectedRsDate,sessions[_0x1f1374]['start']=_0x37de22,sessions[_0x1f1374][_0x4bd103(0x273)]=_0x1a304f,reRenderBlocks());try{const _0x14c1d7=window[_0x4bd103(0x2ab)]?.[_0x4bd103(0x296)],_0x5c0490=await fetch(API_URL,{'method':'POST','body':JSON[_0x4bd103(0x1ef)]({'action':_0x4bd103(0x21c),'init_data':_0x14c1d7?.[_0x4bd103(0x2c0)]||'','oldSessionId':_0x495b7f,'oldDate':_0x30aca8,'newDate':selectedRsDate,'newTime':_0x37de22,'coachId':currentSession[_0x4bd103(0x2e0)]})}),_0x2477eb=await _0x5c0490[_0x4bd103(0x2dc)]();!_0x2477eb['ok']?(showToast(_0x4bd103(0x26d)),DataManager['syncLoad']()):(showToast(_0x4bd103(0x276)),DataManager[_0x4bd103(0x289)]());}catch(_0x3b035a){showToast(_0x4bd103(0x2d5));}}document[a3_0x3e7d18(0x27b)](a3_0x3e7d18(0x2ad),init);