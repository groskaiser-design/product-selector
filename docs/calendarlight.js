const a3_0x32cbc4=a3_0x23dd;(function(_0x3d2a2a,_0x5e3539){const _0x511d28=a3_0x23dd,_0x4929a2=_0x3d2a2a();while(!![]){try{const _0x28937b=-parseInt(_0x511d28(0x215))/0x1*(-parseInt(_0x511d28(0x279))/0x2)+parseInt(_0x511d28(0x1a2))/0x3+-parseInt(_0x511d28(0x28d))/0x4+-parseInt(_0x511d28(0x245))/0x5+-parseInt(_0x511d28(0x27d))/0x6*(-parseInt(_0x511d28(0x204))/0x7)+-parseInt(_0x511d28(0x1cb))/0x8*(parseInt(_0x511d28(0x1cd))/0x9)+parseInt(_0x511d28(0x289))/0xa*(parseInt(_0x511d28(0x1bb))/0xb);if(_0x28937b===_0x5e3539)break;else _0x4929a2['push'](_0x4929a2['shift']());}catch(_0x5b15c6){_0x4929a2['push'](_0x4929a2['shift']());}}}(a3_0xc644,0x9082b));const APP_VERSION=a3_0x32cbc4(0x264),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x32cbc4(0x234),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x32cbc4(0x1b2);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x32cbc4(0x1d0),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x7db379=a3_0x32cbc4,_0x2d4f62=(function(){let _0x395105=!![];return function(_0x11e87,_0x4954a8){const _0xb4bf23=_0x395105?function(){const _0x793190=a3_0x23dd;if(_0x4954a8){const _0x44dccd=_0x4954a8[_0x793190(0x1dc)](_0x11e87,arguments);return _0x4954a8=null,_0x44dccd;}}:function(){};return _0x395105=![],_0xb4bf23;};}()),_0x4a14fd=_0x2d4f62(this,function(){const _0x56f6a3=a3_0x23dd;return _0x4a14fd[_0x56f6a3(0x23b)]()[_0x56f6a3(0x296)](_0x56f6a3(0x288))[_0x56f6a3(0x23b)]()['constructor'](_0x4a14fd)['search']('(((.+)+)+)+$');});_0x4a14fd();try{const _0x1034d3=window[_0x7db379(0x222)]?.[_0x7db379(0x1f5)];if(!_0x1034d3)return;_0x1034d3[_0x7db379(0x262)](),_0x1034d3[_0x7db379(0x1ea)]();try{_0x1034d3['setHeaderColor'](_0x7db379(0x260)),_0x1034d3[_0x7db379(0x205)]&&_0x1034d3[_0x7db379(0x205)](_0x7db379(0x260));}catch(_0x244db6){console[_0x7db379(0x21e)]('Error\x20setting\x20color:',_0x244db6);}try{_0x1034d3['BackButton']&&(_0x1034d3[_0x7db379(0x1bc)]['show'](),_0x1034d3[_0x7db379(0x1bc)][_0x7db379(0x1fd)](),_0x1034d3[_0x7db379(0x1bc)]['onClick'](function(){const _0x5619e7=_0x7db379;window[_0x5619e7(0x1e8)][_0x5619e7(0x24d)]=_0x5619e7(0x21d);}));}catch(_0x3140e1){console[_0x7db379(0x21e)]('Error\x20setting\x20back\x20button:',_0x3140e1);}try{if(_0x1034d3[_0x7db379(0x1d5)])_0x1034d3[_0x7db379(0x1d5)]();}catch(_0xa298d3){}}catch(_0x13b319){console[_0x7db379(0x1f4)](_0x7db379(0x214),_0x13b319);}}());function isAdmin(){const _0x5536a9=a3_0x32cbc4;try{const _0xc5db72=Number(window[_0x5536a9(0x222)]?.[_0x5536a9(0x1f5)]?.[_0x5536a9(0x295)]?.[_0x5536a9(0x297)]?.['id']);return _0xc5db72===0xbaf7174;}catch(_0x4c8378){return![];}}const DataManager={'saveLocally'(){const _0x457d02=a3_0x32cbc4;try{localStorage[_0x457d02(0x22a)](KEY_SESSIONS,JSON[_0x457d02(0x251)](sessions)),localStorage[_0x457d02(0x22a)](KEY_CLIENTS,JSON[_0x457d02(0x251)](clients)),localStorage[_0x457d02(0x22a)](KEY_SETTINGS,JSON[_0x457d02(0x251)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4b949f){}},'loadLocal'(){const _0x4212f4=a3_0x32cbc4;try{const _0x471e1e=localStorage[_0x4212f4(0x1c8)](KEY_SESSIONS);if(_0x471e1e)sessions=JSON['parse'](_0x471e1e);const _0x1d9680=localStorage[_0x4212f4(0x1c8)](KEY_CLIENTS);if(_0x1d9680)clients=JSON[_0x4212f4(0x1df)](_0x1d9680);const _0x2d81b3=localStorage[_0x4212f4(0x1c8)](KEY_SETTINGS);if(_0x2d81b3){const _0x15aa05=JSON[_0x4212f4(0x1df)](_0x2d81b3);if(_0x15aa05[_0x4212f4(0x1b9)])availabilityPattern=_0x15aa05[_0x4212f4(0x1b9)];if(_0x15aa05[_0x4212f4(0x235)])specialRanges=_0x15aa05[_0x4212f4(0x235)];if(_0x15aa05[_0x4212f4(0x226)])dateExceptions=_0x15aa05[_0x4212f4(0x226)];}}catch(_0x2ac026){}},async 'syncLoad'(){const _0x265ebc=a3_0x32cbc4,_0x221c22=new Date(),_0x3c3260=_0x221c22[_0x265ebc(0x1d3)]()+'-'+String(_0x221c22[_0x265ebc(0x1a3)]()+0x1)[_0x265ebc(0x26a)](0x2,'0'),_0x185950=new Date(_0x221c22);_0x185950['setMonth'](_0x221c22[_0x265ebc(0x1a3)]()+0x1);const _0x1bb364=_0x185950[_0x265ebc(0x1d3)]()+'-'+String(_0x185950['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3eabad=Date[_0x265ebc(0x294)]();try{const _0x5dacfc=window[_0x265ebc(0x222)]?.[_0x265ebc(0x1f5)],_0x5ce688=_0x5dacfc?.[_0x265ebc(0x1d6)]||'',[_0x52cf86,_0x3174e7]=await Promise[_0x265ebc(0x259)]([fetch(API_URL,{'method':_0x265ebc(0x27e),'body':JSON[_0x265ebc(0x251)]({'action':_0x265ebc(0x24e),'init_data':_0x5ce688,'month_str':_0x3c3260})})[_0x265ebc(0x216)](_0x2ccd04=>_0x2ccd04[_0x265ebc(0x284)]()),fetch(API_URL,{'method':_0x265ebc(0x27e),'body':JSON[_0x265ebc(0x251)]({'action':_0x265ebc(0x24e),'init_data':_0x5ce688,'month_str':_0x1bb364})})['then'](_0x1dbe55=>_0x1dbe55[_0x265ebc(0x284)]())]);if(lastUserActionTime>_0x3eabad){console[_0x265ebc(0x21e)](_0x265ebc(0x229));return;}if(_0x52cf86['ok'])this[_0x265ebc(0x1f3)](_0x52cf86[_0x265ebc(0x250)],_0x3c3260);if(_0x3174e7['ok'])this['applyData'](_0x3174e7[_0x265ebc(0x250)],_0x1bb364);this[_0x265ebc(0x23c)]();}catch(_0x4e98ec){}},'applyData'(_0x16ef87,_0x346e4c){const _0x16499d=a3_0x32cbc4;if(!_0x16ef87)return;if(_0x16ef87[_0x16499d(0x1c5)]){if(_0x16ef87[_0x16499d(0x1c5)]['pattern'])availabilityPattern=_0x16ef87[_0x16499d(0x1c5)][_0x16499d(0x1b9)];if(_0x16ef87[_0x16499d(0x1c5)][_0x16499d(0x235)])specialRanges=_0x16ef87['settings'][_0x16499d(0x235)];if(_0x16ef87[_0x16499d(0x1c5)]['exceptions'])dateExceptions=_0x16ef87['settings'][_0x16499d(0x226)];}if(_0x16ef87[_0x16499d(0x1d8)]&&Array[_0x16499d(0x299)](_0x16ef87['clients']))clients=_0x16ef87[_0x16499d(0x1d8)];_0x16ef87[_0x16499d(0x236)]&&(coachProfiles={...coachProfiles,..._0x16ef87[_0x16499d(0x236)]}),_0x16ef87[_0x16499d(0x20e)]&&(sessions=sessions[_0x16499d(0x228)](_0x9b0ce8=>!_0x9b0ce8[_0x16499d(0x272)][_0x16499d(0x21a)](_0x346e4c)),Object[_0x16499d(0x257)](_0x16ef87[_0x16499d(0x20e)])['forEach'](_0x1852ed=>{const _0x3b4dad=_0x16499d,_0x4ab9fc=_0x16ef87[_0x3b4dad(0x20e)][_0x1852ed];_0x4ab9fc[_0x3b4dad(0x208)](_0xb77748=>{const _0x16a3d0=_0x3b4dad;sessions[_0x16a3d0(0x1cc)]({'id':_0xb77748['i'],'clientId':_0xb77748['c'],'coachId':_0xb77748['cid'],'dateStr':_0x346e4c+'-'+_0x1852ed[_0x16a3d0(0x26a)](0x2,'0'),'start':_0xb77748['s'],'end':_0xb77748['e'],'note':_0xb77748['n']||'','status':_0xb77748['st']||_0x16a3d0(0x20d),'seriesId':_0xb77748[_0x16a3d0(0x223)]});});})),reRenderBlocks();}};function init(){const _0x271301=a3_0x32cbc4;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x271301(0x1b0)](_0x271301(0x25b))[_0x271301(0x221)](_0x271301(0x1c3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x271301(0x281)]();}function renderTimeColumn(){const _0x478952=a3_0x32cbc4,_0x3c84b1=document[_0x478952(0x1b0)](_0x478952(0x1a7)),_0x2c6f9f=document[_0x478952(0x1b0)](_0x478952(0x1cf));_0x3c84b1['innerHTML']='',_0x3c84b1[_0x478952(0x23a)](_0x2c6f9f);for(let _0x5d0a6e=0x0;_0x5d0a6e<0x18;_0x5d0a6e++){const _0xf95c20=document[_0x478952(0x1d9)](_0x478952(0x1e9));_0xf95c20[_0x478952(0x243)]=_0x478952(0x28b);if(_0x5d0a6e>0x0)_0xf95c20[_0x478952(0x255)]=_0x478952(0x271)+String(_0x5d0a6e)['padStart'](0x2,'0')+_0x478952(0x1ac);_0x3c84b1[_0x478952(0x23a)](_0xf95c20);}}function renderDayRange(_0x4c1d86,_0x3bf445){const _0x4eaf22=a3_0x32cbc4,_0x1db8f9=document[_0x4eaf22(0x1b0)]('daysHeaderTrack'),_0xe1312f=document[_0x4eaf22(0x1b0)](_0x4eaf22(0x1e3)),_0x4cad3e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x394d77=new Date();_0x394d77[_0x4eaf22(0x22c)](0x0,0x0,0x0,0x0);const _0x13c17a=getLocalDateStr(new Date());for(let _0x142119=_0x4c1d86;_0x142119<=_0x3bf445;_0x142119++){const _0x169961=new Date(_0x394d77);_0x169961['setDate'](_0x169961['getDate']()+_0x142119);const _0x5e9e0b=getLocalDateStr(_0x169961);let _0x54912f=_0x169961[_0x4eaf22(0x270)]()-0x1;if(_0x54912f===-0x1)_0x54912f=0x6;const _0x52b7a6=_0x5e9e0b===_0x13c17a,_0x22b385=document[_0x4eaf22(0x1d9)](_0x4eaf22(0x1e9));_0x22b385[_0x4eaf22(0x243)]=_0x4eaf22(0x1a5)+(_0x52b7a6?'today':''),_0x22b385[_0x4eaf22(0x202)]('data-date',_0x5e9e0b),_0x22b385['innerHTML']=_0x4eaf22(0x1f8)+_0x4cad3e[_0x54912f]+_0x4eaf22(0x27c)+_0x169961['getDate']()+_0x4eaf22(0x1fe),_0x1db8f9[_0x4eaf22(0x23a)](_0x22b385);const _0x1068e4=document[_0x4eaf22(0x1d9)](_0x4eaf22(0x1e9));_0x1068e4['className']=_0x4eaf22(0x1fa)+(_0x52b7a6?_0x4eaf22(0x1b6):''),_0x1068e4[_0x4eaf22(0x202)](_0x4eaf22(0x1ec),_0x5e9e0b),_0x1068e4[_0x4eaf22(0x202)](_0x4eaf22(0x258),_0x54912f),_0xe1312f[_0x4eaf22(0x23a)](_0x1068e4);}}function reRenderBlocks(){const _0x7c9b67=a3_0x32cbc4;document[_0x7c9b67(0x24c)](_0x7c9b67(0x282))['forEach'](_0x5657f5=>{const _0x270bc2=_0x7c9b67;_0x5657f5[_0x270bc2(0x24c)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x8e549d=>_0x8e549d[_0x270bc2(0x1b4)]());const _0x553a0c=_0x5657f5[_0x270bc2(0x1e5)](_0x270bc2(0x1ec)),_0x43e5d0=parseInt(_0x5657f5[_0x270bc2(0x1e5)](_0x270bc2(0x258))),_0x3fe921=Math['round'](_0x5657f5[_0x270bc2(0x231)]);(availabilityPattern[_0x43e5d0]||[])[_0x270bc2(0x208)](_0x506d47=>{const _0x55bd10=_0x270bc2,_0x79f426=document['createElement']('div');_0x79f426['className']=_0x55bd10(0x269),_0x79f426[_0x55bd10(0x218)][_0x55bd10(0x27b)]=_0x506d47*GRID_H+'px',_0x79f426[_0x55bd10(0x218)]['backgroundPosition']='-'+_0x3fe921+_0x55bd10(0x1ed)+_0x506d47*GRID_H+'px',_0x5657f5[_0x55bd10(0x23a)](_0x79f426);});if(specialRanges[_0x270bc2(0x26e)]>0x0){const _0x397953=new Date(_0x553a0c+'T00:00:00')[_0x270bc2(0x200)](),_0x89a88b=new Date(_0x553a0c+_0x270bc2(0x278))[_0x270bc2(0x200)]();specialRanges[_0x270bc2(0x208)](_0x5c50b7=>{const _0x464657=_0x270bc2,_0x3fdaf8=new Date(_0x5c50b7['start'])[_0x464657(0x200)](),_0xcd6702=new Date(_0x5c50b7[_0x464657(0x1e1)])['getTime'](),_0x4e844f=Math[_0x464657(0x22b)](_0x397953,_0x3fdaf8),_0x49891e=Math[_0x464657(0x1b7)](_0x89a88b,_0xcd6702);if(_0x4e844f<_0x49891e){const _0x555ccf=(_0x4e844f-_0x397953)/0x36ee80*GRID_H,_0x1a3937=(_0x49891e-_0x4e844f)/0x36ee80*GRID_H,_0x57fff9=document['createElement'](_0x464657(0x1e9));_0x1a3937>=23.5*GRID_H?(_0x57fff9[_0x464657(0x243)]=_0x464657(0x261),_0x57fff9[_0x464657(0x218)][_0x464657(0x1ba)]='-'+_0x3fe921+_0x464657(0x21f)):(_0x57fff9[_0x464657(0x243)]=_0x464657(0x1a8),_0x57fff9[_0x464657(0x218)][_0x464657(0x27b)]=_0x555ccf+'px',_0x57fff9['style'][_0x464657(0x265)]=_0x1a3937+'px',_0x57fff9['style'][_0x464657(0x1ba)]='-'+_0x3fe921+'px\x20-'+_0x555ccf+'px'),_0x5657f5[_0x464657(0x23a)](_0x57fff9);}});}renderEventsForColumn(_0x5657f5,_0x553a0c);});}function renderEventsForColumn(_0x540716,_0x3cb515){const _0x525125=a3_0x32cbc4,_0x1d74f7=sessions['filter'](_0xe5d3a9=>_0xe5d3a9['dateStr']===_0x3cb515),_0x284af3=_0x1d74f7[_0x525125(0x1ad)](_0x17bd04=>{const _0x486a29=_0x525125,[_0x4dfc34,_0x3eb444]=_0x17bd04['start']['split'](':')[_0x486a29(0x1ad)](Number),[_0x41f60f,_0x512e13]=_0x17bd04['end'][_0x486a29(0x283)](':')[_0x486a29(0x1ad)](Number);return{'data':_0x17bd04,'start':_0x4dfc34*0x3c+_0x3eb444,'end':_0x41f60f*0x3c+_0x512e13,'colIndex':0x0};});_0x284af3['sort']((_0x40d843,_0x2d09dc)=>_0x40d843[_0x525125(0x21c)]-_0x2d09dc['start']||_0x2d09dc[_0x525125(0x1e1)]-_0x2d09dc[_0x525125(0x21c)]-(_0x40d843['end']-_0x40d843[_0x525125(0x21c)]));const _0x5c256d=[];_0x284af3[_0x525125(0x208)](_0x100388=>{const _0x4f0e2b=_0x525125;let _0x2ba0cd=![];for(let _0x69bdf1=0x0;_0x69bdf1<_0x5c256d[_0x4f0e2b(0x26e)];_0x69bdf1++){const _0x3e0d2e=_0x5c256d[_0x69bdf1];if(_0x100388[_0x4f0e2b(0x21c)]>=_0x3e0d2e[_0x3e0d2e[_0x4f0e2b(0x26e)]-0x1][_0x4f0e2b(0x1e1)]){_0x3e0d2e[_0x4f0e2b(0x1cc)](_0x100388),_0x100388[_0x4f0e2b(0x201)]=_0x69bdf1,_0x2ba0cd=!![];break;}}!_0x2ba0cd&&(_0x5c256d[_0x4f0e2b(0x1cc)]([_0x100388]),_0x100388[_0x4f0e2b(0x201)]=_0x5c256d[_0x4f0e2b(0x26e)]-0x1);}),_0x284af3['forEach'](_0x2627c2=>{const _0x38312b=_0x525125;let _0x1bb6da=0x0;_0x284af3[_0x38312b(0x208)](_0x3b0ef8=>{const _0xa11322=_0x38312b;if(Math[_0xa11322(0x22b)](_0x2627c2[_0xa11322(0x21c)],_0x3b0ef8[_0xa11322(0x21c)])<Math[_0xa11322(0x1b7)](_0x2627c2[_0xa11322(0x1e1)],_0x3b0ef8[_0xa11322(0x1e1)])&&_0x3b0ef8[_0xa11322(0x201)]>_0x1bb6da)_0x1bb6da=_0x3b0ef8[_0xa11322(0x201)];});const _0x160d5a=_0x1bb6da+0x1,_0xe940d0=0x64/_0x160d5a,_0x1e7505=_0x2627c2['colIndex']*_0xe940d0,_0xcfffd4=document['createElement']('div'),_0x35f94a=_0x2627c2[_0x38312b(0x250)];let _0x1fcac1=_0x38312b(0x267);if(clients&&clients[_0x38312b(0x26e)]>0x0){const _0x2bf8e1=clients[_0x38312b(0x1a1)](_0x4fa1f8=>String(_0x4fa1f8['id'])===String(_0x35f94a[_0x38312b(0x27f)]));if(_0x2bf8e1&&_0x2bf8e1['color'])_0x1fcac1=_0x2bf8e1[_0x38312b(0x1bd)];}const _0x3fe7df=_0x35f94a['status']===_0x38312b(0x240),_0x2a1da5=_0x3fe7df?0x1:0.45;_0xcfffd4[_0x38312b(0x243)]=_0x38312b(0x1db)+(_0x3fe7df?'\x20status-completed':''),_0xcfffd4[_0x38312b(0x218)][_0x38312b(0x277)]=hexToRgba(_0x1fcac1,_0x2a1da5),_0xcfffd4[_0x38312b(0x218)][_0x38312b(0x1c4)]=_0x1fcac1;const _0x28caf8=_0x2627c2[_0x38312b(0x21c)]/0x3c*GRID_H,_0x375ce7=(_0x2627c2[_0x38312b(0x1e1)]-_0x2627c2[_0x38312b(0x21c)])/0x3c*GRID_H;_0xcfffd4['style'][_0x38312b(0x27b)]=_0x28caf8+'px',_0xcfffd4[_0x38312b(0x218)][_0x38312b(0x265)]=Math[_0x38312b(0x22b)](_0x375ce7,0x14)+'px',_0xcfffd4[_0x38312b(0x218)]['width']='calc('+_0xe940d0+_0x38312b(0x1e0),_0xcfffd4[_0x38312b(0x218)][_0x38312b(0x276)]=_0x38312b(0x1c7)+_0x1e7505+_0x38312b(0x1de),_0xcfffd4[_0x38312b(0x218)][_0x38312b(0x242)]=0xa+_0x2627c2[_0x38312b(0x201)];if(_0xe940d0<0x55)_0xcfffd4[_0x38312b(0x1be)][_0x38312b(0x207)]('mini');let _0x29e630='';if(_0x35f94a['seriesId'])_0x29e630+=_0x38312b(0x1ce);if(_0x3fe7df)_0x29e630+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0xcfffd4['innerHTML']=_0x38312b(0x246)+_0x35f94a['start']+_0x38312b(0x268)+_0x35f94a[_0x38312b(0x1e1)]+_0x38312b(0x232)+_0x29e630+_0x38312b(0x249),_0xcfffd4[_0x38312b(0x1e7)]=_0x17f61c=>{const _0x1e1130=_0x38312b;_0x17f61c[_0x1e1130(0x23f)](),openDetails(_0x35f94a);},_0x540716[_0x38312b(0x23a)](_0xcfffd4);});}function openAnalytics(){const _0x3584b2=a3_0x32cbc4,_0x345b24=document[_0x3584b2(0x291)](_0x3584b2(0x206));setAnalyticsPeriod(_0x3584b2(0x1d0),_0x345b24),openSheet(_0x3584b2(0x1e4));}function setAnalyticsPeriod(_0x13ff04,_0x53d34c){const _0x3f88ee=a3_0x32cbc4;currentAnPeriod=_0x13ff04,document[_0x3f88ee(0x24c)](_0x3f88ee(0x206))[_0x3f88ee(0x208)](_0x21dafc=>_0x21dafc[_0x3f88ee(0x1be)]['remove']('active'));if(_0x53d34c)_0x53d34c[_0x3f88ee(0x1be)][_0x3f88ee(0x207)]('active');const _0x1d6975=document[_0x3f88ee(0x1b0)]('anCustomDates');_0x1d6975[_0x3f88ee(0x218)][_0x3f88ee(0x1e6)]=_0x13ff04===_0x3f88ee(0x29a)?_0x3f88ee(0x298):_0x3f88ee(0x285);const _0x2487bc=new Date();let _0x509dc6=new Date(),_0x462c40=new Date();if(_0x13ff04===_0x3f88ee(0x1d0))_0x509dc6=getStartOfWeek(_0x2487bc),_0x462c40=new Date(_0x509dc6),_0x462c40[_0x3f88ee(0x224)](_0x462c40['getDate']()+0x6);else{if(_0x13ff04===_0x3f88ee(0x1e2))_0x509dc6=new Date(_0x2487bc['getFullYear'](),_0x2487bc['getMonth'](),0x1),_0x462c40=new Date(_0x2487bc[_0x3f88ee(0x1d3)](),_0x2487bc[_0x3f88ee(0x1a3)]()+0x1,0x0);else{!document[_0x3f88ee(0x1b0)](_0x3f88ee(0x1aa))[_0x3f88ee(0x1f0)]&&(document[_0x3f88ee(0x1b0)](_0x3f88ee(0x1aa))['value']=getLocalDateStr(_0x2487bc),document[_0x3f88ee(0x1b0)]('anEnd')[_0x3f88ee(0x1f0)]=getLocalDateStr(_0x2487bc));refreshAnalytics();return;}}document[_0x3f88ee(0x1b0)](_0x3f88ee(0x1aa))['value']=getLocalDateStr(_0x509dc6),document[_0x3f88ee(0x1b0)](_0x3f88ee(0x23e))[_0x3f88ee(0x1f0)]=getLocalDateStr(_0x462c40),refreshAnalytics();}function refreshAnalytics(){const _0x5ea462=a3_0x32cbc4,_0xb0861c=document[_0x5ea462(0x1b0)](_0x5ea462(0x1aa))['value'],_0x37eb40=document[_0x5ea462(0x1b0)]('anEnd')[_0x5ea462(0x1f0)];if(!_0xb0861c||!_0x37eb40)return;const _0x3f299e=sessions[_0x5ea462(0x228)](_0x5e22da=>_0x5e22da[_0x5ea462(0x272)]>=_0xb0861c&&_0x5e22da['dateStr']<=_0x37eb40&&_0x5e22da['status']!=='cancelled'),_0x18391c=_0x3f299e['length'],_0x4adbdf=_0x3f299e['filter'](_0x3b1396=>_0x3b1396[_0x5ea462(0x24f)]==='completed')['length'],_0x51427a=_0x18391c>0x0?Math['round'](_0x4adbdf/_0x18391c*0x64):0x0;document[_0x5ea462(0x1b0)]('anPercent')['textContent']=_0x51427a+'%',document[_0x5ea462(0x1b0)]('anTotalStats')[_0x5ea462(0x211)]=_0x4adbdf+_0x5ea462(0x1ae)+_0x18391c+_0x5ea462(0x1c0);const _0xafb2c=document[_0x5ea462(0x1b0)](_0x5ea462(0x233)),_0x376143=0x2*Math['PI']*0x23,_0x40443f=_0x376143-_0x51427a/0x64*_0x376143;_0xafb2c[_0x5ea462(0x218)][_0x5ea462(0x28e)]=_0x40443f;const _0x1f1ef3={};_0x3f299e[_0x5ea462(0x208)](_0x4af6a9=>{const _0xf5177d=_0x5ea462,_0x213612=_0x4af6a9['coachId']||_0xf5177d(0x28a);if(!_0x1f1ef3[_0x213612]){const _0x44115b='#'+_0x213612[_0xf5177d(0x23b)]()['substr'](0x0,0x6);_0x1f1ef3[_0x213612]={'total':0x0,'done':0x0,'color':_0x44115b};}_0x1f1ef3[_0x213612]['total']++;if(_0x4af6a9[_0xf5177d(0x24f)]===_0xf5177d(0x240))_0x1f1ef3[_0x213612][_0xf5177d(0x25e)]++;});const _0x12c975=document[_0x5ea462(0x1b0)](_0x5ea462(0x293));_0x12c975[_0x5ea462(0x255)]='';const _0xc535f7=Object[_0x5ea462(0x1eb)](_0x1f1ef3)['sort']((_0x11c9f0,_0x333fb2)=>_0x333fb2[0x1][_0x5ea462(0x1f6)]-_0x11c9f0[0x1]['total']);if(_0xc535f7[_0x5ea462(0x26e)]===0x0){_0x12c975['innerHTML']=_0x5ea462(0x25c);return;}_0xc535f7[_0x5ea462(0x208)](([_0x5adb95,_0x305e2])=>{const _0x2dcb90=_0x5ea462,_0xaecd3d=Math['round'](_0x305e2[_0x2dcb90(0x25e)]/_0x305e2[_0x2dcb90(0x1f6)]*0x64),_0x14c077=document['createElement'](_0x2dcb90(0x1e9));_0x14c077[_0x2dcb90(0x243)]=_0x2dcb90(0x23d),_0x14c077[_0x2dcb90(0x218)][_0x2dcb90(0x1c4)]=_0x305e2[_0x2dcb90(0x1bd)],_0x14c077[_0x2dcb90(0x255)]=_0x2dcb90(0x252)+_0x5adb95[_0x2dcb90(0x1c2)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x305e2['done']+_0x2dcb90(0x20a)+_0x305e2[_0x2dcb90(0x1f6)]+_0x2dcb90(0x286)+_0xaecd3d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x12c975[_0x2dcb90(0x23a)](_0x14c077);});}function openDetails(_0x1c6cfd){const _0x98f19d=a3_0x32cbc4;currentSession=_0x1c6cfd;const _0x5937d4=new Date(_0x1c6cfd[_0x98f19d(0x272)]),_0x377326=_0x5937d4[_0x98f19d(0x1a6)]('ru-RU',{'weekday':_0x98f19d(0x230),'day':_0x98f19d(0x266),'month':_0x98f19d(0x230)});document[_0x98f19d(0x1b0)]('detDate')['textContent']=_0x377326[_0x98f19d(0x27a)](0x0)[_0x98f19d(0x203)]()+_0x377326['slice'](0x1),document[_0x98f19d(0x1b0)](_0x98f19d(0x26f))['textContent']=_0x1c6cfd['start']+_0x98f19d(0x268)+_0x1c6cfd['end'],document[_0x98f19d(0x1b0)](_0x98f19d(0x275))[_0x98f19d(0x211)]=_0x1c6cfd[_0x98f19d(0x273)]||_0x98f19d(0x28f);const _0x395558=document[_0x98f19d(0x1b0)](_0x98f19d(0x210)),_0x524397=document[_0x98f19d(0x1b0)]('cancelContainer'),_0x30ae90=_0x524397[_0x98f19d(0x291)]('.btn-cancel'),_0x8b3a0e=_0x524397['querySelector'](_0x98f19d(0x1dd)),_0x4e7ea7=document[_0x98f19d(0x1b0)](_0x98f19d(0x238));if(_0x1c6cfd[_0x98f19d(0x24f)]===_0x98f19d(0x240))_0x395558[_0x98f19d(0x211)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x395558[_0x98f19d(0x218)][_0x98f19d(0x1bd)]='var(--acc-green)',_0x524397['style'][_0x98f19d(0x1e6)]=_0x98f19d(0x285);else{_0x395558['textContent']=_0x98f19d(0x1a9),_0x395558['style']['color']='var(--acc-blue)',_0x524397[_0x98f19d(0x218)][_0x98f19d(0x1e6)]=_0x98f19d(0x28c);const _0x53b777=new Date(_0x1c6cfd[_0x98f19d(0x272)]+'T'+_0x1c6cfd[_0x98f19d(0x21c)]),_0x44a1cb=new Date(),_0x4aee64=(_0x53b777-_0x44a1cb)/(0x3e8*0x3c*0x3c),_0x2ab260=coachProfiles[_0x1c6cfd['coachId']]&&coachProfiles[_0x1c6cfd[_0x98f19d(0x1f9)]][_0x98f19d(0x1b1)]?parseInt(coachProfiles[_0x1c6cfd[_0x98f19d(0x1f9)]]['cancel_window']):0x18;if(_0x2ab260===0x0||_0x4aee64>=_0x2ab260)_0x30ae90['style'][_0x98f19d(0x1e6)]=_0x98f19d(0x28c),_0x8b3a0e[_0x98f19d(0x218)]['display']=_0x98f19d(0x28c),_0x4e7ea7['style'][_0x98f19d(0x1e6)]=_0x98f19d(0x285);else{_0x30ae90[_0x98f19d(0x218)][_0x98f19d(0x1e6)]=_0x98f19d(0x285),_0x8b3a0e[_0x98f19d(0x218)][_0x98f19d(0x1e6)]='none',_0x4e7ea7[_0x98f19d(0x218)][_0x98f19d(0x1e6)]='block';let _0x20fb83=_0x2ab260===0x0?_0x98f19d(0x239):_0x98f19d(0x1d2)+_0x2ab260+_0x98f19d(0x1f2);_0x4e7ea7[_0x98f19d(0x211)]=_0x98f19d(0x1ef)+_0x20fb83+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x98f19d(0x263))[_0x98f19d(0x1be)]['add'](_0x98f19d(0x1bf)),document[_0x98f19d(0x1b0)]('detailsSheet')[_0x98f19d(0x1be)]['add'](_0x98f19d(0x1da));}function closeAllSheets(){const _0x4ab569=a3_0x32cbc4;document[_0x4ab569(0x1b0)](_0x4ab569(0x263))['classList'][_0x4ab569(0x1b4)](_0x4ab569(0x1bf)),document[_0x4ab569(0x24c)]('.sheet')['forEach'](_0x2a688c=>_0x2a688c['classList']['remove']('open'));}function openSheet(_0x15ebfc){const _0x8678f2=a3_0x32cbc4;document[_0x8678f2(0x1b0)](_0x8678f2(0x263))[_0x8678f2(0x1be)][_0x8678f2(0x207)](_0x8678f2(0x1bf)),document[_0x8678f2(0x1b0)](_0x15ebfc)['classList']['add'](_0x8678f2(0x1da));}function getLocalDateStr(_0x577b31){const _0x4f2699=a3_0x32cbc4,_0x58a30f=_0x577b31[_0x4f2699(0x1d3)](),_0x5cf979=String(_0x577b31['getMonth']()+0x1)[_0x4f2699(0x26a)](0x2,'0'),_0x4b764a=String(_0x577b31[_0x4f2699(0x1c9)]())[_0x4f2699(0x26a)](0x2,'0');return _0x58a30f+'-'+_0x5cf979+'-'+_0x4b764a;}function getStartOfWeek(_0x585a08){const _0xc3cd78=a3_0x32cbc4,_0x46bc55=new Date(_0x585a08),_0x16591a=_0x46bc55[_0xc3cd78(0x270)](),_0xd10b86=_0x46bc55['getDate']()-_0x16591a+(_0x16591a===0x0?-0x6:0x1);return _0x46bc55['setDate'](_0xd10b86),_0x46bc55[_0xc3cd78(0x22c)](0x0,0x0,0x0,0x0),_0x46bc55;}function scrollToToday(){const _0xf2c39d=getLocalDateStr(new Date());setTimeout(()=>{const _0x34aa14=a3_0x23dd,_0x4bd2a6=document[_0x34aa14(0x291)](_0x34aa14(0x253)+_0xf2c39d+'\x22]');if(_0x4bd2a6){const _0x3de214=document[_0x34aa14(0x1b0)](_0x34aa14(0x25b)),_0x5ec81d=_0x4bd2a6[_0x34aa14(0x231)]-_0x3de214[_0x34aa14(0x20c)]/0x2+_0x4bd2a6[_0x34aa14(0x241)]/0x2;_0x3de214['scrollTo']({'left':_0x5ec81d,'behavior':_0x34aa14(0x1fb)}),_0x3de214[_0x34aa14(0x25a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5051bf=a3_0x32cbc4,_0x32f430=new Date(),_0x1bbe7c=document['getElementById'](_0x5051bf(0x213)),_0x9f012b=document[_0x5051bf(0x1b0)]('timeLineBadge'),_0x5050c8=(_0x32f430['getHours']()*0x3c+_0x32f430[_0x5051bf(0x247)]())/0x3c*GRID_H;_0x1bbe7c['style']['top']=_0x5050c8+'px',_0x1bbe7c[_0x5051bf(0x218)][_0x5051bf(0x1e6)]=_0x5051bf(0x28c),_0x9f012b[_0x5051bf(0x218)][_0x5051bf(0x27b)]=_0x5050c8+'px',_0x9f012b[_0x5051bf(0x218)][_0x5051bf(0x1e6)]=_0x5051bf(0x28c),_0x9f012b[_0x5051bf(0x211)]=String(_0x32f430[_0x5051bf(0x1c1)]())[_0x5051bf(0x26a)](0x2,'0')+':'+String(_0x32f430[_0x5051bf(0x247)]())[_0x5051bf(0x26a)](0x2,'0');}function a3_0xc644(){const _0x5326c6=['9737jYIysF','setBackgroundColor','.period-switch\x20.p-btn','add','forEach','button','</span>\x20/\x20','fontWeight','clientWidth','planned','calendar','DOMContentLoaded','detStatus','textContent','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','globalTimeLine','Critical\x20TMA\x20Error:','9oEUbMT','then','.rs-date-chip','style','600','startsWith','customConfirm','start','router.html','log','px\x200px','client_cancel','addEventListener','Telegram','sid','setDate','sort','exceptions','headerMonth','filter','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setItem','max','setHours','rgba(10,\x20132,\x20255,\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','toast','long','offsetLeft','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anDonutCircle','uc_client_sessions','ranges','coach_profiles','substring','cancelHint','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','appendChild','toString','saveLocally','client-stat-card','anEnd','stopPropagation','completed','offsetWidth','zIndex','className','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','5091560XvcKby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getMinutes','createDocumentFragment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','querySelectorAll','href','client_load','status','data','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','.day-col-header[data-date=\x22','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','innerHTML','.day-col-header','keys','data-day-idx','all','scrollTop','matrixViewport','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','get_slots','done','rsSlotsGrid','#050505','day-off-overlay\x20stripe-bg','ready','overlay','v9.5-CLIENT-ANALYTICS','height','numeric','#0a84ff','\x20-\x20','blocked-slot\x20stripe-bg','padStart','floor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','\x20–≤\x20','length','detTime','getDay','<span>','dateStr','note','reschedule','detNote','left','backgroundColor','T23:59:59','147318kmAkfE','charAt','top','</div><div\x20class=\x22dch-num\x22>','2568QwIowQ','POST','clientId','ccTitle','syncLoad','.day-column','split','json','none','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollLeft','(((.+)+)+)+$','111260ECCijx','Unknown','time-label','block','2504044TsYXWL','strokeDashoffset','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<div\x20class=\x22rs-day-name\x22>','querySelector','rescheduleSheet','analyticsList','now','initDataUnsafe','search','user','flex','isArray','custom','toLocaleString','find','3300282tVFttE','getMonth','ccText','day-col-header\x20','toLocaleDateString','timeColumn','blocked-range-part\x20stripe-bg','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','anStart','scrollWidth',':00</span>','map','\x20–∏–∑\x20','visible','getElementById','cancel_window','uc_client_list','show','remove','–û—Ç–º–µ–Ω–µ–Ω–æ','today','min','detailsSheet','pattern','backgroundPosition','132ZucHIi','BackButton','color','classList','active','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getHours','substr','scroll','borderLeftColor','settings','rsDatesTrack','calc(','getItem','getDate','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','56bgXjKc','push','328689oNtagp','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','timeLineBadge','week','insertBefore','–∑–∞\x20','getFullYear','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','disableVerticalSwipes','initData','#ff453a','clients','createElement','open','event-card','apply','.btn-reschedule','%\x20+\x202px)','parse','%\x20-\x204px)','end','month','gridColumns','analyticsSheet','getAttribute','display','onclick','location','div','expand','entries','data-date','px\x20-','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','value','</div><div\x20class=\x22rs-day-num\x22>','\x20—á.','applyData','error','WebApp','total','daysHeaderTrack','<div\x20class=\x22dch-day\x22>','coachId','day-column\x20','auto','rs-time-btn','offClick','</div>','firstChild','getTime','colIndex','setAttribute','toUpperCase'];a3_0xc644=function(){return _0x5326c6;};return a3_0xc644();}function onScroll(){const _0x11ba0f=a3_0x32cbc4,_0xcf3ae5=document[_0x11ba0f(0x1b0)]('matrixViewport'),_0x2c7acd=document['querySelectorAll'](_0x11ba0f(0x256));for(let _0xaad182 of _0x2c7acd)if(_0xaad182[_0x11ba0f(0x231)]>=_0xcf3ae5[_0x11ba0f(0x287)]){const _0x4068f8=new Date(_0xaad182['getAttribute'](_0x11ba0f(0x1ec)));document[_0x11ba0f(0x1b0)](_0x11ba0f(0x227))['textContent']=_0x4068f8[_0x11ba0f(0x29b)]('ru',{'month':_0x11ba0f(0x230)})['toUpperCase']()+'\x20'+_0x4068f8[_0x11ba0f(0x1d3)]();break;}}function showToast(_0x4e9f8e){const _0x2be2d3=a3_0x32cbc4,_0xcc289c=document[_0x2be2d3(0x1b0)](_0x2be2d3(0x22f));_0xcc289c[_0x2be2d3(0x211)]=_0x4e9f8e,_0xcc289c[_0x2be2d3(0x1be)]['add'](_0x2be2d3(0x1b3)),setTimeout(()=>_0xcc289c[_0x2be2d3(0x1be)]['remove'](_0x2be2d3(0x1b3)),0x7d0);}function handleInfiniteScroll(){const _0x55a2ad=a3_0x32cbc4,_0x537dac=document[_0x55a2ad(0x1b0)](_0x55a2ad(0x25b)),_0x494698=_0x537dac['scrollLeft'],_0x4ea756=_0x537dac[_0x55a2ad(0x1ab)],_0x528b9a=_0x537dac['clientWidth'];if(_0x4ea756-(_0x494698+_0x528b9a)<0x12c){const _0x1b79fe=endOffset;endOffset+=0xe,renderDayRange(_0x1b79fe+0x1,endOffset),reRenderBlocks();}if(_0x494698<0x12c){const _0x38e2dd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x38e2dd-0x1),_0x537dac['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x30e473,_0x41878f){const _0x29d3f7=a3_0x32cbc4,_0x8b262f=document['getElementById'](_0x29d3f7(0x1f7)),_0x21e951=document[_0x29d3f7(0x1b0)]('gridColumns'),_0x15e6fb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x568117=new Date();_0x568117[_0x29d3f7(0x22c)](0x0,0x0,0x0,0x0);const _0x179fe6=getLocalDateStr(new Date()),_0x2fefef=document['createDocumentFragment'](),_0x2b6cfb=document[_0x29d3f7(0x248)]();for(let _0x40d626=_0x30e473;_0x40d626<=_0x41878f;_0x40d626++){const _0x59defc=new Date(_0x568117);_0x59defc[_0x29d3f7(0x224)](_0x59defc['getDate']()+_0x40d626);const _0x3c50bf=getLocalDateStr(_0x59defc);let _0x1326ed=_0x59defc['getDay']()-0x1;if(_0x1326ed===-0x1)_0x1326ed=0x6;const _0x6f9011=_0x3c50bf===_0x179fe6,_0x30be83=document['createElement'](_0x29d3f7(0x1e9));_0x30be83[_0x29d3f7(0x243)]=_0x29d3f7(0x1a5)+(_0x6f9011?_0x29d3f7(0x1b6):''),_0x30be83[_0x29d3f7(0x202)](_0x29d3f7(0x1ec),_0x3c50bf),_0x30be83[_0x29d3f7(0x255)]=_0x29d3f7(0x1f8)+_0x15e6fb[_0x1326ed]+_0x29d3f7(0x27c)+_0x59defc[_0x29d3f7(0x1c9)]()+'</div>',_0x2fefef[_0x29d3f7(0x23a)](_0x30be83);const _0x1ff9a5=document['createElement'](_0x29d3f7(0x1e9));_0x1ff9a5[_0x29d3f7(0x243)]=_0x29d3f7(0x1fa)+(_0x6f9011?_0x29d3f7(0x1b6):''),_0x1ff9a5['setAttribute'](_0x29d3f7(0x1ec),_0x3c50bf),_0x1ff9a5[_0x29d3f7(0x202)](_0x29d3f7(0x258),_0x1326ed),_0x2b6cfb['appendChild'](_0x1ff9a5);}_0x8b262f['insertBefore'](_0x2fefef,_0x8b262f[_0x29d3f7(0x1ff)]),_0x21e951[_0x29d3f7(0x1d1)](_0x2b6cfb,_0x21e951['querySelector']('.day-column'));}function hexToRgba(_0x35e03e,_0x46f5a7){const _0x2e42b6=a3_0x32cbc4;let _0x1e0265;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x35e03e))return _0x1e0265=_0x35e03e[_0x2e42b6(0x237)](0x1)[_0x2e42b6(0x283)](''),_0x1e0265[_0x2e42b6(0x26e)]==0x3&&(_0x1e0265=[_0x1e0265[0x0],_0x1e0265[0x0],_0x1e0265[0x1],_0x1e0265[0x1],_0x1e0265[0x2],_0x1e0265[0x2]]),_0x1e0265='0x'+_0x1e0265[_0x2e42b6(0x24a)](''),'rgba('+[_0x1e0265>>0x10&0xff,_0x1e0265>>0x8&0xff,_0x1e0265&0xff]['join'](',')+','+_0x46f5a7+')';return _0x2e42b6(0x22d)+_0x46f5a7+')';}let confirmResolver=null;function showCustomConfirm(_0x3242f4,_0xf0e157,_0x4f55bf=!![]){const _0x15191e=a3_0x32cbc4;document[_0x15191e(0x1b0)](_0x15191e(0x280))[_0x15191e(0x211)]=_0x3242f4,document[_0x15191e(0x1b0)](_0x15191e(0x1a4))[_0x15191e(0x211)]=_0xf0e157;const _0x568c83=document['getElementById']('ccYesBtn');return _0x4f55bf?(_0x568c83[_0x15191e(0x218)]['color']=_0x15191e(0x1d7),_0x568c83[_0x15191e(0x218)][_0x15191e(0x20b)]=_0x15191e(0x219)):(_0x568c83[_0x15191e(0x218)][_0x15191e(0x1bd)]=_0x15191e(0x267),_0x568c83[_0x15191e(0x218)]['fontWeight']=_0x15191e(0x219)),new Promise(_0x55015b=>{const _0x97ba76=_0x15191e;confirmResolver=_0x55015b,document[_0x97ba76(0x1b0)](_0x97ba76(0x21b))['classList'][_0x97ba76(0x207)]('visible');});}function resolveCustomConfirm(_0x5a358f){const _0x17b189=a3_0x32cbc4;document['getElementById']('customConfirm')[_0x17b189(0x1be)][_0x17b189(0x1b4)](_0x17b189(0x1af));if(confirmResolver)confirmResolver(_0x5a358f);}async function tryCancelCurrentSession(){const _0x25f3d1=a3_0x32cbc4;if(!currentSession)return;const _0x3739d4=await showCustomConfirm(_0x25f3d1(0x1ca),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x3739d4)return;const _0x1a3a6d=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x2faf11=>_0x2faf11['id']!==_0x1a3a6d['id']),reRenderBlocks(),showToast(_0x25f3d1(0x1b5)),lastUserActionTime=Date[_0x25f3d1(0x294)]();try{const _0x2d2653=window['Telegram']?.[_0x25f3d1(0x1f5)],_0x4f7904=await fetch(API_URL,{'method':_0x25f3d1(0x27e),'body':JSON[_0x25f3d1(0x251)]({'action':_0x25f3d1(0x220),'init_data':_0x2d2653?.['initData']||'','coachId':_0x1a3a6d['coachId'],'dateStr':_0x1a3a6d[_0x25f3d1(0x272)],'sessionId':_0x1a3a6d['id']})});if(_0x4f7904['ok'])DataManager[_0x25f3d1(0x23c)]();}catch(_0x5723b1){showToast(_0x25f3d1(0x22e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3ae390=a3_0x32cbc4;if(!currentSession)return;document[_0x3ae390(0x1b0)](_0x3ae390(0x1b8))[_0x3ae390(0x1be)][_0x3ae390(0x1b4)](_0x3ae390(0x1da)),document[_0x3ae390(0x1b0)](_0x3ae390(0x292))[_0x3ae390(0x1be)][_0x3ae390(0x207)](_0x3ae390(0x1da));const _0x410c62=document[_0x3ae390(0x1b0)](_0x3ae390(0x1c6)),_0x21ec90=document[_0x3ae390(0x1b0)](_0x3ae390(0x25f));_0x410c62[_0x3ae390(0x255)]='',_0x21ec90['innerHTML']=_0x3ae390(0x244);const [_0x538acc,_0x4a99ae]=currentSession[_0x3ae390(0x21c)][_0x3ae390(0x283)](':')[_0x3ae390(0x1ad)](Number),[_0x490596,_0x1835c5]=currentSession['end'][_0x3ae390(0x283)](':')[_0x3ae390(0x1ad)](Number),_0xaa7ea8=_0x490596*0x3c+_0x1835c5-(_0x538acc*0x3c+_0x4a99ae);try{const _0x4b6449=window[_0x3ae390(0x222)]?.[_0x3ae390(0x1f5)],_0x327c75=await fetch(API_URL,{'method':_0x3ae390(0x27e),'body':JSON[_0x3ae390(0x251)]({'action':_0x3ae390(0x25d),'coachId':currentSession[_0x3ae390(0x1f9)],'duration':_0xaa7ea8,'init_data':_0x4b6449?.[_0x3ae390(0x1d6)]||'','excludeSessionId':currentSession['id']})}),_0x13a1db=await _0x327c75[_0x3ae390(0x284)]();_0x13a1db['ok']&&_0x13a1db[_0x3ae390(0x250)]?(availableSlotsCache=_0x13a1db[_0x3ae390(0x250)],renderRescheduleDates()):_0x21ec90[_0x3ae390(0x255)]=_0x3ae390(0x26c);}catch(_0x21bfe0){_0x21ec90[_0x3ae390(0x255)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x28f0d1=a3_0x32cbc4,_0x34c646=document['getElementById'](_0x28f0d1(0x1c6));_0x34c646['innerHTML']='';const _0x5e4ccc=Object['keys'](availableSlotsCache)[_0x28f0d1(0x225)](),_0x31aa7e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5e4ccc[_0x28f0d1(0x26e)]===0x0){document[_0x28f0d1(0x1b0)](_0x28f0d1(0x25f))['innerHTML']=_0x28f0d1(0x24b);return;}_0x5e4ccc[_0x28f0d1(0x208)]((_0x25d91e,_0x2fcf52)=>{const _0xe8dfa2=_0x28f0d1,_0x1e54ba=new Date(_0x25d91e),_0x444d36=_0x31aa7e[_0x1e54ba[_0xe8dfa2(0x270)]()],_0x18682b=_0x1e54ba['getDate'](),_0x259162=document[_0xe8dfa2(0x1d9)](_0xe8dfa2(0x1e9));_0x259162[_0xe8dfa2(0x243)]='rs-date-chip';if(_0x2fcf52===0x0)_0x259162[_0xe8dfa2(0x1be)]['add'](_0xe8dfa2(0x1bf));_0x259162[_0xe8dfa2(0x255)]=_0xe8dfa2(0x290)+_0x444d36+_0xe8dfa2(0x1f1)+_0x18682b+_0xe8dfa2(0x1fe),_0x259162['onclick']=()=>selectRsDate(_0x25d91e,_0x259162),_0x34c646[_0xe8dfa2(0x23a)](_0x259162);}),selectRsDate(_0x5e4ccc[0x0],_0x34c646[_0x28f0d1(0x1ff)]);}function selectRsDate(_0x1143f0,_0x5e0cc3){const _0x1108e2=a3_0x32cbc4;selectedRsDate=_0x1143f0,document['querySelectorAll'](_0x1108e2(0x217))[_0x1108e2(0x208)](_0x379c33=>_0x379c33[_0x1108e2(0x1be)][_0x1108e2(0x1b4)]('active'));if(_0x5e0cc3)_0x5e0cc3['classList'][_0x1108e2(0x207)](_0x1108e2(0x1bf));const _0x5a7cf0=document[_0x1108e2(0x1b0)](_0x1108e2(0x25f));_0x5a7cf0[_0x1108e2(0x255)]='';const _0xa35d00=availableSlotsCache[_0x1143f0]||[];if(_0xa35d00['length']===0x0){_0x5a7cf0[_0x1108e2(0x255)]=_0x1108e2(0x26c);return;}_0xa35d00[_0x1108e2(0x208)](_0x56719b=>{const _0x4c833d=_0x1108e2,_0x5e0a3c=document['createElement'](_0x4c833d(0x209));_0x5e0a3c[_0x4c833d(0x243)]=_0x4c833d(0x1fc),_0x5e0a3c['textContent']=_0x56719b,_0x5e0a3c['onclick']=()=>confirmReschedule(_0x56719b),_0x5a7cf0['appendChild'](_0x5e0a3c);});}async function confirmReschedule(_0x47c0e1){const _0x3cea02=a3_0x32cbc4,_0x1d9716=new Date(selectedRsDate),_0x368f2f=_0x1d9716['toLocaleDateString']('ru-RU',{'day':'numeric','month':_0x3cea02(0x230)}),_0x8af32d=await showCustomConfirm(_0x3cea02(0x212),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x368f2f+_0x3cea02(0x26d)+_0x47c0e1+'?',![]);if(!_0x8af32d)return;closeAllSheets(),showToast(_0x3cea02(0x1d4)),lastUserActionTime=Date[_0x3cea02(0x294)]();const _0x37efa4=currentSession['dateStr'],_0x32adbb=currentSession['id'],[_0x158980,_0x1c565b]=currentSession[_0x3cea02(0x21c)][_0x3cea02(0x283)](':')['map'](Number),[_0x523832,_0x375680]=currentSession[_0x3cea02(0x1e1)][_0x3cea02(0x283)](':')[_0x3cea02(0x1ad)](Number),_0x594d34=_0x523832*0x3c+_0x375680-(_0x158980*0x3c+_0x1c565b),[_0x295a40,_0x4f73b6]=_0x47c0e1['split'](':')[_0x3cea02(0x1ad)](Number),_0x4ed665=_0x295a40*0x3c+_0x4f73b6+_0x594d34,_0x27183a=Math[_0x3cea02(0x26b)](_0x4ed665/0x3c),_0x436d0d=_0x4ed665%0x3c,_0x5117dc=String(_0x27183a)[_0x3cea02(0x26a)](0x2,'0')+':'+String(_0x436d0d)[_0x3cea02(0x26a)](0x2,'0'),_0x1d589d=sessions['findIndex'](_0x51dd7f=>_0x51dd7f['id']===_0x32adbb);_0x1d589d!==-0x1&&(sessions[_0x1d589d]['dateStr']=selectedRsDate,sessions[_0x1d589d]['start']=_0x47c0e1,sessions[_0x1d589d][_0x3cea02(0x1e1)]=_0x5117dc,reRenderBlocks());try{const _0x186be7=window[_0x3cea02(0x222)]?.[_0x3cea02(0x1f5)],_0x3c2465=await fetch(API_URL,{'method':'POST','body':JSON[_0x3cea02(0x251)]({'action':_0x3cea02(0x274),'init_data':_0x186be7?.[_0x3cea02(0x1d6)]||'','oldSessionId':_0x32adbb,'oldDate':_0x37efa4,'newDate':selectedRsDate,'newTime':_0x47c0e1,'coachId':currentSession[_0x3cea02(0x1f9)]})}),_0x4b7afa=await _0x3c2465[_0x3cea02(0x284)]();!_0x4b7afa['ok']?(showToast(_0x3cea02(0x1ee)),DataManager[_0x3cea02(0x281)]()):(showToast(_0x3cea02(0x254)),DataManager[_0x3cea02(0x23c)]());}catch(_0x417093){showToast(_0x3cea02(0x22e));}}function a3_0x23dd(_0x4e19ed,_0x191a06){_0x4e19ed=_0x4e19ed-0x1a1;const _0xc8a2e5=a3_0xc644();let _0x5eb562=_0xc8a2e5[_0x4e19ed];return _0x5eb562;}document[a3_0x32cbc4(0x221)](a3_0x32cbc4(0x20f),init);