const a3_0x279e54=a3_0x2320;(function(_0x551bf8,_0x2e04e2){const _0x22d735=a3_0x2320,_0x327e84=_0x551bf8();while(!![]){try{const _0x58be47=parseInt(_0x22d735(0x158))/0x1+-parseInt(_0x22d735(0x148))/0x2+parseInt(_0x22d735(0xe7))/0x3+-parseInt(_0x22d735(0x101))/0x4*(parseInt(_0x22d735(0x12f))/0x5)+-parseInt(_0x22d735(0x110))/0x6*(parseInt(_0x22d735(0x144))/0x7)+-parseInt(_0x22d735(0x125))/0x8+parseInt(_0x22d735(0xe9))/0x9*(parseInt(_0x22d735(0x192))/0xa);if(_0x58be47===_0x2e04e2)break;else _0x327e84['push'](_0x327e84['shift']());}catch(_0x12279c){_0x327e84['push'](_0x327e84['shift']());}}}(a3_0x58b3,0xcc4e9));const APP_VERSION=a3_0x279e54(0x13f),API_URL=a3_0x279e54(0x124),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x279e54(0x163);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x279e54(0x1b1),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56661a=a3_0x279e54,_0x1d8139=(function(){let _0x63c934=!![];return function(_0x2c25fc,_0x32357d){const _0x1f92aa=_0x63c934?function(){const _0x2d41f8=a3_0x2320;if(_0x32357d){const _0x520476=_0x32357d[_0x2d41f8(0x17b)](_0x2c25fc,arguments);return _0x32357d=null,_0x520476;}}:function(){};return _0x63c934=![],_0x1f92aa;};}()),_0x5bda24=_0x1d8139(this,function(){const _0xfbca18=a3_0x2320;return _0x5bda24[_0xfbca18(0x10e)]()[_0xfbca18(0x1c1)](_0xfbca18(0xf4))[_0xfbca18(0x10e)]()['constructor'](_0x5bda24)[_0xfbca18(0x1c1)](_0xfbca18(0xf4));});_0x5bda24();try{const _0x149bc1=window[_0x56661a(0x171)]?.[_0x56661a(0x10c)];if(!_0x149bc1)return;_0x149bc1['ready'](),_0x149bc1[_0x56661a(0x1c3)]();try{_0x149bc1[_0x56661a(0x116)](_0x56661a(0x155)),_0x149bc1[_0x56661a(0x103)]&&_0x149bc1['setBackgroundColor'](_0x56661a(0x155));}catch(_0x41e290){console[_0x56661a(0xdb)]('Error\x20setting\x20color:',_0x41e290);}try{_0x149bc1['BackButton']&&(_0x149bc1[_0x56661a(0x18f)][_0x56661a(0x1b6)](),_0x149bc1[_0x56661a(0x18f)]['offClick'](),_0x149bc1[_0x56661a(0x18f)][_0x56661a(0x105)](function(){const _0x2f14f9=_0x56661a;window[_0x2f14f9(0x1af)][_0x2f14f9(0x128)]=_0x2f14f9(0xeb);}));}catch(_0xe96fdd){console[_0x56661a(0xdb)](_0x56661a(0xd8),_0xe96fdd);}try{if(_0x149bc1['disableVerticalSwipes'])_0x149bc1[_0x56661a(0x177)]();}catch(_0x5dc7e8){}}catch(_0x474b18){console[_0x56661a(0x1a3)]('Critical\x20TMA\x20Error:',_0x474b18);}}());function isAdmin(){const _0x4dbb8f=a3_0x279e54;try{const _0x534b1c=Number(window[_0x4dbb8f(0x171)]?.[_0x4dbb8f(0x10c)]?.[_0x4dbb8f(0x157)]?.[_0x4dbb8f(0x1ae)]?.['id']);return _0x534b1c===0xbaf7174;}catch(_0x23965b){return![];}}function a3_0x58b3(){const _0x115cb7=['setDate','600','log','timeColumn','value','floor','–∑–∞\x20','applyData','open','day-off-overlay\x20stripe-bg','auto','height','insertBefore',':00</span>','938241mxuEwL','<div\x20class=\x22rs-day-name\x22>','294885mCTDcz','backgroundColor','router.html','ru-RU','getMonth','slice','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','toast','getAttribute','toLocaleDateString','note','(((.+)+)+)+$','globalTimeLine','data-day-idx','matrixViewport','Unknown','data','timeLineBadge','rsSlotsGrid','anEnd','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','total','#0a84ff','offsetWidth','2932644GdHNIe','sid','setBackgroundColor','day-column\x20','onClick','#ff453a','completed','\x20status-completed','classList','backgroundPosition','createDocumentFragment','WebApp','none','toString','add','740136yszxQZ','findIndex','<span>','.day-col-header[data-date=\x22','charAt','px\x20-','setHeaderColor','end','</span>\x20/\x20','month','colIndex','settings','querySelectorAll','rs-date-chip','data-date','client-stat-card','coachId','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','cancelled','gridColumns','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','5410872nZcomT','status','button','href','var(--acc-green)','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','stringify','detDate','syncLoad','sort','5CIrDzg','json','</div><div\x20class=\x22dch-num\x22>','getTime','get_slots','forEach','calc(','textContent','getHours','detTime','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','startsWith','anPercent','top','.rs-date-chip','v9.5-CLIENT-ANALYTICS','all','–û—Ç–º–µ–Ω–µ–Ω–æ','scrollLeft','planned','21orAWkz','analyticsList','round','clientWidth','3001788OweXBN','min','max','scrollWidth','substr','then','appendChild','firstChild','getMinutes','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.day-column','toLocaleString','</div>','#050505','anStart','initDataUnsafe','1281671ldcBbJ','setHours','div','customConfirm','visible','color','cancelHint','filter','saveLocally','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','loadLocal','uc_client_list','T23:59:59','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','px\x200px','cancelContainer','scroll','getDay','long','overlay','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','POST','today','style','entries','Telegram','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','split','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<div\x20class=\x22dch-day\x22>','active','disableVerticalSwipes','time-label','anTotalStats','clientId','apply','setItem','now','client_load','getDate','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','remove','.btn-reschedule','scrollTop','coach_profiles','scrollTo','done','initData','blocked-slot\x20stripe-bg','custom','dateStr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','ccYesBtn','BackButton','ccTitle','getElementById','770fvKwzi','.period-switch\x20.p-btn','start','offsetLeft','exceptions','.btn-cancel','pattern','getItem','reschedule','isArray','clients','T00:00:00','block','numeric','substring','keys','getFullYear','error','createElement','className','seriesId','ranges','parse','anDonutCircle','.day-col-header','padStart','%\x20-\x204px)','cancel_window','user','location','setAttribute','week','\x20–≤\x20','addEventListener','daysHeaderTrack','onclick','show','length','toUpperCase','test','\x20–∏–∑\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','push','detailsSheet','map','innerHTML','display','search','day-col-header\x20','expand','detStatus','left','rgba(','borderLeftColor','find','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','querySelector','cid','fontWeight','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','Error\x20setting\x20back\x20button:'];a3_0x58b3=function(){return _0x115cb7;};return a3_0x58b3();}const DataManager={'saveLocally'(){const _0x10cf16=a3_0x279e54;try{localStorage[_0x10cf16(0x17c)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x10cf16(0x17c)](KEY_CLIENTS,JSON[_0x10cf16(0x12b)](clients)),localStorage[_0x10cf16(0x17c)](KEY_SETTINGS,JSON[_0x10cf16(0x12b)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2ec692){}},'loadLocal'(){const _0x4d642e=a3_0x279e54;try{const _0xe65500=localStorage['getItem'](KEY_SESSIONS);if(_0xe65500)sessions=JSON['parse'](_0xe65500);const _0xda1ceb=localStorage[_0x4d642e(0x199)](KEY_CLIENTS);if(_0xda1ceb)clients=JSON['parse'](_0xda1ceb);const _0x14c893=localStorage[_0x4d642e(0x199)](KEY_SETTINGS);if(_0x14c893){const _0x21bac7=JSON[_0x4d642e(0x1a8)](_0x14c893);if(_0x21bac7[_0x4d642e(0x198)])availabilityPattern=_0x21bac7[_0x4d642e(0x198)];if(_0x21bac7[_0x4d642e(0x1a7)])specialRanges=_0x21bac7[_0x4d642e(0x1a7)];if(_0x21bac7[_0x4d642e(0x196)])dateExceptions=_0x21bac7['exceptions'];}}catch(_0x133962){}},async 'syncLoad'(){const _0x48fb31=a3_0x279e54,_0x47098d=new Date(),_0x1ed9f2=_0x47098d[_0x48fb31(0x1a2)]()+'-'+String(_0x47098d['getMonth']()+0x1)[_0x48fb31(0x1ab)](0x2,'0'),_0xcd1256=new Date(_0x47098d);_0xcd1256['setMonth'](_0x47098d[_0x48fb31(0xed)]()+0x1);const _0x501a9d=_0xcd1256[_0x48fb31(0x1a2)]()+'-'+String(_0xcd1256[_0x48fb31(0xed)]()+0x1)[_0x48fb31(0x1ab)](0x2,'0'),_0x3e9167=Date[_0x48fb31(0x17d)]();try{const _0x4affde=window[_0x48fb31(0x171)]?.[_0x48fb31(0x10c)],_0xc8e919=_0x4affde?.[_0x48fb31(0x189)]||'',[_0x3450ca,_0x33203c]=await Promise[_0x48fb31(0x140)]([fetch(API_URL,{'method':'POST','body':JSON[_0x48fb31(0x12b)]({'action':'client_load','init_data':_0xc8e919,'month_str':_0x1ed9f2})})[_0x48fb31(0x14d)](_0x1bbe2a=>_0x1bbe2a[_0x48fb31(0x130)]()),fetch(API_URL,{'method':_0x48fb31(0x16d),'body':JSON['stringify']({'action':_0x48fb31(0x17e),'init_data':_0xc8e919,'month_str':_0x501a9d})})['then'](_0x292bd0=>_0x292bd0[_0x48fb31(0x130)]())]);if(lastUserActionTime>_0x3e9167){console[_0x48fb31(0xdb)](_0x48fb31(0x16c));return;}if(_0x3450ca['ok'])this[_0x48fb31(0xe0)](_0x3450ca[_0x48fb31(0xf9)],_0x1ed9f2);if(_0x33203c['ok'])this['applyData'](_0x33203c[_0x48fb31(0xf9)],_0x501a9d);this[_0x48fb31(0x160)]();}catch(_0x22510f){}},'applyData'(_0x23dbcc,_0xf00e03){const _0xf58930=a3_0x279e54;if(!_0x23dbcc)return;if(_0x23dbcc['settings']){if(_0x23dbcc[_0xf58930(0x11b)][_0xf58930(0x198)])availabilityPattern=_0x23dbcc['settings'][_0xf58930(0x198)];if(_0x23dbcc[_0xf58930(0x11b)][_0xf58930(0x1a7)])specialRanges=_0x23dbcc[_0xf58930(0x11b)][_0xf58930(0x1a7)];if(_0x23dbcc[_0xf58930(0x11b)][_0xf58930(0x196)])dateExceptions=_0x23dbcc['settings'][_0xf58930(0x196)];}if(_0x23dbcc[_0xf58930(0x19c)]&&Array[_0xf58930(0x19b)](_0x23dbcc[_0xf58930(0x19c)]))clients=_0x23dbcc[_0xf58930(0x19c)];_0x23dbcc[_0xf58930(0x186)]&&(coachProfiles={...coachProfiles,..._0x23dbcc['coach_profiles']}),_0x23dbcc['calendar']&&(sessions=sessions[_0xf58930(0x15f)](_0x171cf6=>!_0x171cf6['dateStr'][_0xf58930(0x13b)](_0xf00e03)),Object[_0xf58930(0x1a1)](_0x23dbcc['calendar'])['forEach'](_0x543c2f=>{const _0x1be29f=_0xf58930,_0x216d7d=_0x23dbcc['calendar'][_0x543c2f];_0x216d7d[_0x1be29f(0x134)](_0x1900a6=>{const _0x1089b1=_0x1be29f;sessions[_0x1089b1(0x1bc)]({'id':_0x1900a6['i'],'clientId':_0x1900a6['c'],'coachId':_0x1900a6[_0x1089b1(0xd5)],'dateStr':_0xf00e03+'-'+_0x543c2f[_0x1089b1(0x1ab)](0x2,'0'),'start':_0x1900a6['s'],'end':_0x1900a6['e'],'note':_0x1900a6['n']||'','status':_0x1900a6['st']||_0x1089b1(0x143),'seriesId':_0x1900a6[_0x1089b1(0x102)]});});})),reRenderBlocks();}};function init(){const _0x38eada=a3_0x279e54;DataManager[_0x38eada(0x162)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x38eada(0x191)]('matrixViewport')['addEventListener'](_0x38eada(0x168),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x30a914=a3_0x279e54,_0x71a8d9=document[_0x30a914(0x191)](_0x30a914(0xdc)),_0x11b141=document[_0x30a914(0x191)](_0x30a914(0xfa));_0x71a8d9[_0x30a914(0x1bf)]='',_0x71a8d9[_0x30a914(0x14e)](_0x11b141);for(let _0x123648=0x0;_0x123648<0x18;_0x123648++){const _0x3351ab=document[_0x30a914(0x1a4)](_0x30a914(0x15a));_0x3351ab[_0x30a914(0x1a5)]=_0x30a914(0x178);if(_0x123648>0x0)_0x3351ab['innerHTML']=_0x30a914(0x112)+String(_0x123648)['padStart'](0x2,'0')+_0x30a914(0xe6);_0x71a8d9['appendChild'](_0x3351ab);}}function renderDayRange(_0x9d8441,_0x7a3d7){const _0x180fbe=a3_0x279e54,_0x2ed6f8=document[_0x180fbe(0x191)](_0x180fbe(0x1b4)),_0x1594b0=document[_0x180fbe(0x191)]('gridColumns'),_0x466fd2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2b4aed=new Date();_0x2b4aed[_0x180fbe(0x159)](0x0,0x0,0x0,0x0);const _0x2f1212=getLocalDateStr(new Date());for(let _0x15be30=_0x9d8441;_0x15be30<=_0x7a3d7;_0x15be30++){const _0x23d0df=new Date(_0x2b4aed);_0x23d0df['setDate'](_0x23d0df[_0x180fbe(0x17f)]()+_0x15be30);const _0x2b2b19=getLocalDateStr(_0x23d0df);let _0x565127=_0x23d0df[_0x180fbe(0x169)]()-0x1;if(_0x565127===-0x1)_0x565127=0x6;const _0x4c7574=_0x2b2b19===_0x2f1212,_0x1565d1=document['createElement'](_0x180fbe(0x15a));_0x1565d1[_0x180fbe(0x1a5)]=_0x180fbe(0x1c2)+(_0x4c7574?'today':''),_0x1565d1[_0x180fbe(0x1b0)](_0x180fbe(0x11e),_0x2b2b19),_0x1565d1['innerHTML']=_0x180fbe(0x175)+_0x466fd2[_0x565127]+_0x180fbe(0x131)+_0x23d0df[_0x180fbe(0x17f)]()+_0x180fbe(0x154),_0x2ed6f8[_0x180fbe(0x14e)](_0x1565d1);const _0x24e48a=document[_0x180fbe(0x1a4)]('div');_0x24e48a[_0x180fbe(0x1a5)]=_0x180fbe(0x104)+(_0x4c7574?_0x180fbe(0x16e):''),_0x24e48a['setAttribute'](_0x180fbe(0x11e),_0x2b2b19),_0x24e48a['setAttribute'](_0x180fbe(0xf6),_0x565127),_0x1594b0[_0x180fbe(0x14e)](_0x24e48a);}}function reRenderBlocks(){const _0x42d70e=a3_0x279e54;document['querySelectorAll'](_0x42d70e(0x152))[_0x42d70e(0x134)](_0x36c948=>{const _0x5ad694=_0x42d70e;_0x36c948['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x5ad694(0x134)](_0x21c084=>_0x21c084[_0x5ad694(0x183)]());const _0x573b1e=_0x36c948[_0x5ad694(0xf1)](_0x5ad694(0x11e)),_0x340fdf=parseInt(_0x36c948[_0x5ad694(0xf1)]('data-day-idx')),_0x1db297=Math[_0x5ad694(0x146)](_0x36c948[_0x5ad694(0x195)]);(availabilityPattern[_0x340fdf]||[])['forEach'](_0x400997=>{const _0x1950dc=_0x5ad694,_0x4c31c7=document['createElement'](_0x1950dc(0x15a));_0x4c31c7[_0x1950dc(0x1a5)]=_0x1950dc(0x18a),_0x4c31c7[_0x1950dc(0x16f)][_0x1950dc(0x13d)]=_0x400997*GRID_H+'px',_0x4c31c7[_0x1950dc(0x16f)][_0x1950dc(0x10a)]='-'+_0x1db297+_0x1950dc(0x115)+_0x400997*GRID_H+'px',_0x36c948[_0x1950dc(0x14e)](_0x4c31c7);});if(specialRanges[_0x5ad694(0x1b7)]>0x0){const _0xe3a6a=new Date(_0x573b1e+_0x5ad694(0x19d))[_0x5ad694(0x132)](),_0xe606ac=new Date(_0x573b1e+_0x5ad694(0x164))[_0x5ad694(0x132)]();specialRanges[_0x5ad694(0x134)](_0x42e827=>{const _0x3d1da3=_0x5ad694,_0x5d8c4e=new Date(_0x42e827[_0x3d1da3(0x194)])[_0x3d1da3(0x132)](),_0x25d396=new Date(_0x42e827[_0x3d1da3(0x117)])[_0x3d1da3(0x132)](),_0x54df40=Math[_0x3d1da3(0x14a)](_0xe3a6a,_0x5d8c4e),_0x5b418d=Math[_0x3d1da3(0x149)](_0xe606ac,_0x25d396);if(_0x54df40<_0x5b418d){const _0x35632c=(_0x54df40-_0xe3a6a)/0x36ee80*GRID_H,_0x15f1ef=(_0x5b418d-_0x54df40)/0x36ee80*GRID_H,_0x91b6a=document['createElement'](_0x3d1da3(0x15a));_0x15f1ef>=23.5*GRID_H?(_0x91b6a['className']=_0x3d1da3(0xe2),_0x91b6a[_0x3d1da3(0x16f)]['backgroundPosition']='-'+_0x1db297+_0x3d1da3(0x166)):(_0x91b6a[_0x3d1da3(0x1a5)]='blocked-range-part\x20stripe-bg',_0x91b6a[_0x3d1da3(0x16f)][_0x3d1da3(0x13d)]=_0x35632c+'px',_0x91b6a[_0x3d1da3(0x16f)][_0x3d1da3(0xe4)]=_0x15f1ef+'px',_0x91b6a[_0x3d1da3(0x16f)][_0x3d1da3(0x10a)]='-'+_0x1db297+_0x3d1da3(0x115)+_0x35632c+'px'),_0x36c948[_0x3d1da3(0x14e)](_0x91b6a);}});}renderEventsForColumn(_0x36c948,_0x573b1e);});}function renderEventsForColumn(_0x2006b0,_0x488bec){const _0x2ce39e=a3_0x279e54,_0x4f90c4=sessions[_0x2ce39e(0x15f)](_0x5b18a9=>_0x5b18a9[_0x2ce39e(0x18c)]===_0x488bec),_0x4a4b0e=_0x4f90c4[_0x2ce39e(0x1be)](_0x119c2b=>{const _0x25ce3e=_0x2ce39e,[_0x19ea64,_0x1f5166]=_0x119c2b[_0x25ce3e(0x194)]['split'](':')[_0x25ce3e(0x1be)](Number),[_0x2c5343,_0x2a2f92]=_0x119c2b[_0x25ce3e(0x117)][_0x25ce3e(0x173)](':')[_0x25ce3e(0x1be)](Number);return{'data':_0x119c2b,'start':_0x19ea64*0x3c+_0x1f5166,'end':_0x2c5343*0x3c+_0x2a2f92,'colIndex':0x0};});_0x4a4b0e[_0x2ce39e(0x12e)]((_0x1c8aaf,_0x4d7199)=>_0x1c8aaf[_0x2ce39e(0x194)]-_0x4d7199[_0x2ce39e(0x194)]||_0x4d7199[_0x2ce39e(0x117)]-_0x4d7199['start']-(_0x1c8aaf[_0x2ce39e(0x117)]-_0x1c8aaf[_0x2ce39e(0x194)]));const _0xf1f708=[];_0x4a4b0e[_0x2ce39e(0x134)](_0x3eff79=>{const _0x450ecf=_0x2ce39e;let _0x5ca4c1=![];for(let _0x262d41=0x0;_0x262d41<_0xf1f708['length'];_0x262d41++){const _0x357413=_0xf1f708[_0x262d41];if(_0x3eff79[_0x450ecf(0x194)]>=_0x357413[_0x357413[_0x450ecf(0x1b7)]-0x1]['end']){_0x357413[_0x450ecf(0x1bc)](_0x3eff79),_0x3eff79[_0x450ecf(0x11a)]=_0x262d41,_0x5ca4c1=!![];break;}}!_0x5ca4c1&&(_0xf1f708[_0x450ecf(0x1bc)]([_0x3eff79]),_0x3eff79[_0x450ecf(0x11a)]=_0xf1f708[_0x450ecf(0x1b7)]-0x1);}),_0x4a4b0e['forEach'](_0x38ad85=>{const _0x6a79bf=_0x2ce39e;let _0x35428d=0x0;_0x4a4b0e[_0x6a79bf(0x134)](_0x376a53=>{const _0xee466f=_0x6a79bf;if(Math[_0xee466f(0x14a)](_0x38ad85[_0xee466f(0x194)],_0x376a53[_0xee466f(0x194)])<Math['min'](_0x38ad85[_0xee466f(0x117)],_0x376a53['end'])&&_0x376a53['colIndex']>_0x35428d)_0x35428d=_0x376a53[_0xee466f(0x11a)];});const _0x464650=_0x35428d+0x1,_0x5c5ee0=0x64/_0x464650,_0x3f4e1d=_0x38ad85['colIndex']*_0x5c5ee0,_0x307ccd=document[_0x6a79bf(0x1a4)]('div'),_0x17322c=_0x38ad85[_0x6a79bf(0xf9)];let _0x3df263='#0a84ff';if(clients&&clients['length']>0x0){const _0x162093=clients[_0x6a79bf(0xd2)](_0x595a72=>String(_0x595a72['id'])===String(_0x17322c[_0x6a79bf(0x17a)]));if(_0x162093&&_0x162093[_0x6a79bf(0x15d)])_0x3df263=_0x162093[_0x6a79bf(0x15d)];}const _0x409542=_0x17322c[_0x6a79bf(0x126)]==='completed',_0x3be589=_0x409542?0x1:0.45;_0x307ccd['className']='event-card'+(_0x409542?_0x6a79bf(0x108):''),_0x307ccd[_0x6a79bf(0x16f)][_0x6a79bf(0xea)]=hexToRgba(_0x3df263,_0x3be589),_0x307ccd[_0x6a79bf(0x16f)][_0x6a79bf(0xd1)]=_0x3df263;const _0x4cb5d5=_0x38ad85[_0x6a79bf(0x194)]/0x3c*GRID_H,_0x1d5e70=(_0x38ad85[_0x6a79bf(0x117)]-_0x38ad85[_0x6a79bf(0x194)])/0x3c*GRID_H;_0x307ccd[_0x6a79bf(0x16f)][_0x6a79bf(0x13d)]=_0x4cb5d5+'px',_0x307ccd[_0x6a79bf(0x16f)]['height']=Math[_0x6a79bf(0x14a)](_0x1d5e70,0x14)+'px',_0x307ccd[_0x6a79bf(0x16f)]['width']=_0x6a79bf(0x135)+_0x5c5ee0+_0x6a79bf(0x1ac),_0x307ccd[_0x6a79bf(0x16f)][_0x6a79bf(0x1c5)]=_0x6a79bf(0x135)+_0x3f4e1d+'%\x20+\x202px)',_0x307ccd[_0x6a79bf(0x16f)]['zIndex']=0xa+_0x38ad85[_0x6a79bf(0x11a)];if(_0x5c5ee0<0x55)_0x307ccd[_0x6a79bf(0x109)][_0x6a79bf(0x10f)]('mini');let _0x2ae4ec='';if(_0x17322c[_0x6a79bf(0x1a6)])_0x2ae4ec+=_0x6a79bf(0x151);if(_0x409542)_0x2ae4ec+=_0x6a79bf(0x139);_0x307ccd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x17322c['start']+'\x20-\x20'+_0x17322c['end']+_0x6a79bf(0x181)+_0x2ae4ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x307ccd[_0x6a79bf(0x1b5)]=_0x267040=>{_0x267040['stopPropagation'](),openDetails(_0x17322c);},_0x2006b0[_0x6a79bf(0x14e)](_0x307ccd);});}function openAnalytics(){const _0x387e5a=a3_0x279e54,_0x40538a=document[_0x387e5a(0xd4)](_0x387e5a(0x193));setAnalyticsPeriod(_0x387e5a(0x1b1),_0x40538a),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3c980f,_0x345a10){const _0x11cc3a=a3_0x279e54;currentAnPeriod=_0x3c980f,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x11cc3a(0x134)](_0x1aeb2a=>_0x1aeb2a['classList'][_0x11cc3a(0x183)](_0x11cc3a(0x176)));if(_0x345a10)_0x345a10['classList'][_0x11cc3a(0x10f)](_0x11cc3a(0x176));const _0x41dfde=document[_0x11cc3a(0x191)]('anCustomDates');_0x41dfde[_0x11cc3a(0x16f)][_0x11cc3a(0x1c0)]=_0x3c980f===_0x11cc3a(0x18b)?'flex':'none';const _0x3881c6=new Date();let _0x5eace2=new Date(),_0x42f596=new Date();if(_0x3c980f==='week')_0x5eace2=getStartOfWeek(_0x3881c6),_0x42f596=new Date(_0x5eace2),_0x42f596['setDate'](_0x42f596[_0x11cc3a(0x17f)]()+0x6);else{if(_0x3c980f===_0x11cc3a(0x119))_0x5eace2=new Date(_0x3881c6[_0x11cc3a(0x1a2)](),_0x3881c6[_0x11cc3a(0xed)](),0x1),_0x42f596=new Date(_0x3881c6['getFullYear'](),_0x3881c6[_0x11cc3a(0xed)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x11cc3a(0x191)](_0x11cc3a(0x156))[_0x11cc3a(0xdd)]=getLocalDateStr(_0x3881c6),document[_0x11cc3a(0x191)]('anEnd')[_0x11cc3a(0xdd)]=getLocalDateStr(_0x3881c6));refreshAnalytics();return;}}document[_0x11cc3a(0x191)](_0x11cc3a(0x156))[_0x11cc3a(0xdd)]=getLocalDateStr(_0x5eace2),document['getElementById'](_0x11cc3a(0xfc))[_0x11cc3a(0xdd)]=getLocalDateStr(_0x42f596),refreshAnalytics();}function refreshAnalytics(){const _0x321696=a3_0x279e54,_0x5a6442=document['getElementById'](_0x321696(0x156))['value'],_0x288156=document['getElementById'](_0x321696(0xfc))['value'];if(!_0x5a6442||!_0x288156)return;const _0x2029f0=sessions[_0x321696(0x15f)](_0x4a350a=>_0x4a350a['dateStr']>=_0x5a6442&&_0x4a350a['dateStr']<=_0x288156&&_0x4a350a['status']!==_0x321696(0x122)),_0x547cbc=_0x2029f0[_0x321696(0x1b7)],_0x137f1e=_0x2029f0[_0x321696(0x15f)](_0x3051e3=>_0x3051e3[_0x321696(0x126)]===_0x321696(0x107))[_0x321696(0x1b7)],_0x1f5392=_0x547cbc>0x0?Math[_0x321696(0x146)](_0x137f1e/_0x547cbc*0x64):0x0;document[_0x321696(0x191)](_0x321696(0x13c))[_0x321696(0x136)]=_0x1f5392+'%',document[_0x321696(0x191)](_0x321696(0x179))['textContent']=_0x137f1e+_0x321696(0x1ba)+_0x547cbc+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x239203=document[_0x321696(0x191)](_0x321696(0x1a9)),_0x461263=0x2*Math['PI']*0x23,_0x2c6f94=_0x461263-_0x1f5392/0x64*_0x461263;_0x239203[_0x321696(0x16f)]['strokeDashoffset']=_0x2c6f94;const _0x69b6a4={};_0x2029f0[_0x321696(0x134)](_0xe0b133=>{const _0x5677e1=_0x321696,_0x512d91=_0xe0b133[_0x5677e1(0x120)]||_0x5677e1(0xf8);if(!_0x69b6a4[_0x512d91]){const _0x15c935='#'+_0x512d91[_0x5677e1(0x10e)]()[_0x5677e1(0x14c)](0x0,0x6);_0x69b6a4[_0x512d91]={'total':0x0,'done':0x0,'color':_0x15c935};}_0x69b6a4[_0x512d91][_0x5677e1(0xfe)]++;if(_0xe0b133[_0x5677e1(0x126)]===_0x5677e1(0x107))_0x69b6a4[_0x512d91][_0x5677e1(0x188)]++;});const _0x188bce=document[_0x321696(0x191)](_0x321696(0x145));_0x188bce['innerHTML']='';const _0x495ad3=Object[_0x321696(0x170)](_0x69b6a4)[_0x321696(0x12e)]((_0x29094d,_0xd79816)=>_0xd79816[0x1][_0x321696(0xfe)]-_0x29094d[0x1][_0x321696(0xfe)]);if(_0x495ad3[_0x321696(0x1b7)]===0x0){_0x188bce[_0x321696(0x1bf)]=_0x321696(0x180);return;}_0x495ad3[_0x321696(0x134)](([_0x251ec1,_0x523915])=>{const _0x175163=_0x321696,_0xf809e2=Math['round'](_0x523915[_0x175163(0x188)]/_0x523915[_0x175163(0xfe)]*0x64),_0x3571ca=document['createElement'](_0x175163(0x15a));_0x3571ca[_0x175163(0x1a5)]=_0x175163(0x11f),_0x3571ca[_0x175163(0x16f)]['borderLeftColor']=_0x523915[_0x175163(0x15d)],_0x3571ca['innerHTML']=_0x175163(0x18d)+_0x251ec1['substr'](0x0,0x5)+_0x175163(0x165)+_0x523915['done']+_0x175163(0x118)+_0x523915[_0x175163(0xfe)]+_0x175163(0x13a)+_0xf809e2+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x188bce[_0x175163(0x14e)](_0x3571ca);});}function openDetails(_0x4a8d61){const _0x4a1a70=a3_0x279e54;currentSession=_0x4a8d61;const _0x31aff4=new Date(_0x4a8d61['dateStr']),_0x1fa688=_0x31aff4[_0x4a1a70(0xf2)](_0x4a1a70(0xec),{'weekday':'long','day':_0x4a1a70(0x19f),'month':_0x4a1a70(0x16a)});document[_0x4a1a70(0x191)](_0x4a1a70(0x12c))[_0x4a1a70(0x136)]=_0x1fa688[_0x4a1a70(0x114)](0x0)[_0x4a1a70(0x1b8)]()+_0x1fa688[_0x4a1a70(0xee)](0x1),document[_0x4a1a70(0x191)](_0x4a1a70(0x138))[_0x4a1a70(0x136)]=_0x4a8d61[_0x4a1a70(0x194)]+'\x20-\x20'+_0x4a8d61['end'],document[_0x4a1a70(0x191)]('detNote')['textContent']=_0x4a8d61[_0x4a1a70(0xf3)]||_0x4a1a70(0x174);const _0x4e0ea6=document[_0x4a1a70(0x191)](_0x4a1a70(0x1c4)),_0x863a6d=document[_0x4a1a70(0x191)](_0x4a1a70(0x167)),_0x5585b0=_0x863a6d['querySelector'](_0x4a1a70(0x197)),_0x455b5a=_0x863a6d[_0x4a1a70(0xd4)](_0x4a1a70(0x184)),_0xf46c6d=document[_0x4a1a70(0x191)](_0x4a1a70(0x15e));if(_0x4a8d61[_0x4a1a70(0x126)]===_0x4a1a70(0x107))_0x4e0ea6[_0x4a1a70(0x136)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x4e0ea6[_0x4a1a70(0x16f)][_0x4a1a70(0x15d)]=_0x4a1a70(0x129),_0x863a6d[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]=_0x4a1a70(0x10d);else{_0x4e0ea6[_0x4a1a70(0x136)]=_0x4a1a70(0x1bb),_0x4e0ea6[_0x4a1a70(0x16f)][_0x4a1a70(0x15d)]='var(--acc-blue)',_0x863a6d[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]=_0x4a1a70(0x19e);const _0x75a974=new Date(_0x4a8d61[_0x4a1a70(0x18c)]+'T'+_0x4a8d61[_0x4a1a70(0x194)]),_0x50c296=new Date(),_0x41ac65=(_0x75a974-_0x50c296)/(0x3e8*0x3c*0x3c),_0x26d27f=coachProfiles[_0x4a8d61[_0x4a1a70(0x120)]]&&coachProfiles[_0x4a8d61[_0x4a1a70(0x120)]][_0x4a1a70(0x1ad)]?parseInt(coachProfiles[_0x4a8d61[_0x4a1a70(0x120)]][_0x4a1a70(0x1ad)]):0x18;if(_0x26d27f===0x0||_0x41ac65>=_0x26d27f)_0x5585b0[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]=_0x4a1a70(0x19e),_0x455b5a[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]=_0x4a1a70(0x19e),_0xf46c6d[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]='none';else{_0x5585b0[_0x4a1a70(0x16f)]['display']=_0x4a1a70(0x10d),_0x455b5a[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]='none',_0xf46c6d[_0x4a1a70(0x16f)][_0x4a1a70(0x1c0)]=_0x4a1a70(0x19e);let _0xaf2dbd=_0x26d27f===0x0?_0x4a1a70(0xef):_0x4a1a70(0xdf)+_0x26d27f+'\x20—á.';_0xf46c6d[_0x4a1a70(0x136)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0xaf2dbd+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x4a1a70(0x191)](_0x4a1a70(0x16b))[_0x4a1a70(0x109)][_0x4a1a70(0x10f)](_0x4a1a70(0x176)),document['getElementById'](_0x4a1a70(0x1bd))[_0x4a1a70(0x109)][_0x4a1a70(0x10f)](_0x4a1a70(0xe1));}function closeAllSheets(){const _0x1aedd1=a3_0x279e54;document[_0x1aedd1(0x191)](_0x1aedd1(0x16b))['classList'][_0x1aedd1(0x183)]('active'),document[_0x1aedd1(0x11c)]('.sheet')[_0x1aedd1(0x134)](_0x50423b=>_0x50423b[_0x1aedd1(0x109)][_0x1aedd1(0x183)](_0x1aedd1(0xe1)));}function openSheet(_0x35fc71){const _0x2a7fe2=a3_0x279e54;document['getElementById']('overlay')[_0x2a7fe2(0x109)]['add'](_0x2a7fe2(0x176)),document[_0x2a7fe2(0x191)](_0x35fc71)[_0x2a7fe2(0x109)][_0x2a7fe2(0x10f)](_0x2a7fe2(0xe1));}function getLocalDateStr(_0x44f977){const _0x5c2efd=a3_0x279e54,_0x239474=_0x44f977['getFullYear'](),_0x133835=String(_0x44f977[_0x5c2efd(0xed)]()+0x1)[_0x5c2efd(0x1ab)](0x2,'0'),_0x11f6f3=String(_0x44f977[_0x5c2efd(0x17f)]())[_0x5c2efd(0x1ab)](0x2,'0');return _0x239474+'-'+_0x133835+'-'+_0x11f6f3;}function getStartOfWeek(_0x1153d6){const _0x255c1b=a3_0x279e54,_0x4895a5=new Date(_0x1153d6),_0x429334=_0x4895a5[_0x255c1b(0x169)](),_0x1943b2=_0x4895a5[_0x255c1b(0x17f)]()-_0x429334+(_0x429334===0x0?-0x6:0x1);return _0x4895a5[_0x255c1b(0xd9)](_0x1943b2),_0x4895a5[_0x255c1b(0x159)](0x0,0x0,0x0,0x0),_0x4895a5;}function scrollToToday(){const _0x4fd5a1=getLocalDateStr(new Date());setTimeout(()=>{const _0x53a38c=a3_0x2320,_0x3dacac=document['querySelector'](_0x53a38c(0x113)+_0x4fd5a1+'\x22]');if(_0x3dacac){const _0x290a80=document[_0x53a38c(0x191)]('matrixViewport'),_0x291921=_0x3dacac[_0x53a38c(0x195)]-_0x290a80[_0x53a38c(0x147)]/0x2+_0x3dacac[_0x53a38c(0x100)]/0x2;_0x290a80[_0x53a38c(0x187)]({'left':_0x291921,'behavior':_0x53a38c(0xe3)}),_0x290a80[_0x53a38c(0x185)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x33836e=a3_0x279e54,_0x118130=new Date(),_0xaa5248=document[_0x33836e(0x191)](_0x33836e(0xf5)),_0x5cc978=document[_0x33836e(0x191)](_0x33836e(0xfa)),_0x10e0ee=(_0x118130[_0x33836e(0x137)]()*0x3c+_0x118130['getMinutes']())/0x3c*GRID_H;_0xaa5248[_0x33836e(0x16f)]['top']=_0x10e0ee+'px',_0xaa5248[_0x33836e(0x16f)][_0x33836e(0x1c0)]='block',_0x5cc978[_0x33836e(0x16f)][_0x33836e(0x13d)]=_0x10e0ee+'px',_0x5cc978[_0x33836e(0x16f)][_0x33836e(0x1c0)]=_0x33836e(0x19e),_0x5cc978[_0x33836e(0x136)]=String(_0x118130[_0x33836e(0x137)]())['padStart'](0x2,'0')+':'+String(_0x118130[_0x33836e(0x150)]())['padStart'](0x2,'0');}function onScroll(){const _0x3817ab=a3_0x279e54,_0x366014=document[_0x3817ab(0x191)](_0x3817ab(0xf7)),_0x227363=document[_0x3817ab(0x11c)](_0x3817ab(0x1aa));for(let _0x40888e of _0x227363)if(_0x40888e[_0x3817ab(0x195)]>=_0x366014[_0x3817ab(0x142)]){const _0x64bb11=new Date(_0x40888e[_0x3817ab(0xf1)](_0x3817ab(0x11e)));document[_0x3817ab(0x191)]('headerMonth')[_0x3817ab(0x136)]=_0x64bb11[_0x3817ab(0x153)]('ru',{'month':'long'})[_0x3817ab(0x1b8)]()+'\x20'+_0x64bb11[_0x3817ab(0x1a2)]();break;}}function showToast(_0x3e7e52){const _0x270774=a3_0x279e54,_0x125529=document[_0x270774(0x191)](_0x270774(0xf0));_0x125529[_0x270774(0x136)]=_0x3e7e52,_0x125529[_0x270774(0x109)][_0x270774(0x10f)](_0x270774(0x1b6)),setTimeout(()=>_0x125529[_0x270774(0x109)]['remove'](_0x270774(0x1b6)),0x7d0);}function handleInfiniteScroll(){const _0x4b3415=a3_0x279e54,_0x3a52da=document[_0x4b3415(0x191)](_0x4b3415(0xf7)),_0x360b12=_0x3a52da[_0x4b3415(0x142)],_0x539f50=_0x3a52da[_0x4b3415(0x14b)],_0x5a2c70=_0x3a52da[_0x4b3415(0x147)];if(_0x539f50-(_0x360b12+_0x5a2c70)<0x12c){const _0x5775ab=endOffset;endOffset+=0xe,renderDayRange(_0x5775ab+0x1,endOffset),reRenderBlocks();}if(_0x360b12<0x12c){const _0x8a05ac=startOffset;startOffset-=0xe,prependDays(startOffset,_0x8a05ac-0x1),_0x3a52da[_0x4b3415(0x142)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5880a2,_0x55938b){const _0x19712c=a3_0x279e54,_0x5f507e=document[_0x19712c(0x191)](_0x19712c(0x1b4)),_0x1ae33d=document[_0x19712c(0x191)](_0x19712c(0x123)),_0x309b0d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e3b4d=new Date();_0x1e3b4d[_0x19712c(0x159)](0x0,0x0,0x0,0x0);const _0x5eae9f=getLocalDateStr(new Date()),_0x4bfd28=document[_0x19712c(0x10b)](),_0x304503=document[_0x19712c(0x10b)]();for(let _0x35cccc=_0x5880a2;_0x35cccc<=_0x55938b;_0x35cccc++){const _0x4ab697=new Date(_0x1e3b4d);_0x4ab697[_0x19712c(0xd9)](_0x4ab697[_0x19712c(0x17f)]()+_0x35cccc);const _0x51661c=getLocalDateStr(_0x4ab697);let _0xda52fc=_0x4ab697[_0x19712c(0x169)]()-0x1;if(_0xda52fc===-0x1)_0xda52fc=0x6;const _0x2497fa=_0x51661c===_0x5eae9f,_0x7525d9=document['createElement'](_0x19712c(0x15a));_0x7525d9[_0x19712c(0x1a5)]=_0x19712c(0x1c2)+(_0x2497fa?_0x19712c(0x16e):''),_0x7525d9['setAttribute'](_0x19712c(0x11e),_0x51661c),_0x7525d9['innerHTML']=_0x19712c(0x175)+_0x309b0d[_0xda52fc]+_0x19712c(0x131)+_0x4ab697['getDate']()+'</div>',_0x4bfd28[_0x19712c(0x14e)](_0x7525d9);const _0x3e743e=document[_0x19712c(0x1a4)](_0x19712c(0x15a));_0x3e743e[_0x19712c(0x1a5)]=_0x19712c(0x104)+(_0x2497fa?_0x19712c(0x16e):''),_0x3e743e['setAttribute'](_0x19712c(0x11e),_0x51661c),_0x3e743e[_0x19712c(0x1b0)](_0x19712c(0xf6),_0xda52fc),_0x304503['appendChild'](_0x3e743e);}_0x5f507e[_0x19712c(0xe5)](_0x4bfd28,_0x5f507e[_0x19712c(0x14f)]),_0x1ae33d[_0x19712c(0xe5)](_0x304503,_0x1ae33d['querySelector']('.day-column'));}function hexToRgba(_0x32cc10,_0xe4359c){const _0x4d695b=a3_0x279e54;let _0x30beec;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4d695b(0x1b9)](_0x32cc10))return _0x30beec=_0x32cc10[_0x4d695b(0x1a0)](0x1)[_0x4d695b(0x173)](''),_0x30beec[_0x4d695b(0x1b7)]==0x3&&(_0x30beec=[_0x30beec[0x0],_0x30beec[0x0],_0x30beec[0x1],_0x30beec[0x1],_0x30beec[0x2],_0x30beec[0x2]]),_0x30beec='0x'+_0x30beec['join'](''),_0x4d695b(0x1c6)+[_0x30beec>>0x10&0xff,_0x30beec>>0x8&0xff,_0x30beec&0xff]['join'](',')+','+_0xe4359c+')';return'rgba(10,\x20132,\x20255,\x20'+_0xe4359c+')';}let confirmResolver=null;function showCustomConfirm(_0x49211b,_0x4634be,_0xeb5123=!![]){const _0x516cb0=a3_0x279e54;document[_0x516cb0(0x191)](_0x516cb0(0x190))['textContent']=_0x49211b,document[_0x516cb0(0x191)]('ccText')['textContent']=_0x4634be;const _0x203c7f=document['getElementById'](_0x516cb0(0x18e));return _0xeb5123?(_0x203c7f[_0x516cb0(0x16f)]['color']=_0x516cb0(0x106),_0x203c7f[_0x516cb0(0x16f)][_0x516cb0(0xd6)]='600'):(_0x203c7f['style']['color']=_0x516cb0(0xff),_0x203c7f[_0x516cb0(0x16f)][_0x516cb0(0xd6)]=_0x516cb0(0xda)),new Promise(_0x28e2a0=>{const _0x31f387=_0x516cb0;confirmResolver=_0x28e2a0,document['getElementById'](_0x31f387(0x15b))['classList'][_0x31f387(0x10f)](_0x31f387(0x15c));});}function resolveCustomConfirm(_0x4d1726){const _0x35cfa9=a3_0x279e54;document[_0x35cfa9(0x191)]('customConfirm')[_0x35cfa9(0x109)]['remove'](_0x35cfa9(0x15c));if(confirmResolver)confirmResolver(_0x4d1726);}async function tryCancelCurrentSession(){const _0x222152=a3_0x279e54;if(!currentSession)return;const _0x499d26=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x222152(0x182),!![]);if(!_0x499d26)return;const _0x4a0bc1=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x5423da=>_0x5423da['id']!==_0x4a0bc1['id']),reRenderBlocks(),showToast(_0x222152(0x141)),lastUserActionTime=Date[_0x222152(0x17d)]();try{const _0x30f8b8=window['Telegram']?.[_0x222152(0x10c)],_0x75026=await fetch(API_URL,{'method':_0x222152(0x16d),'body':JSON[_0x222152(0x12b)]({'action':'client_cancel','init_data':_0x30f8b8?.[_0x222152(0x189)]||'','coachId':_0x4a0bc1[_0x222152(0x120)],'dateStr':_0x4a0bc1[_0x222152(0x18c)],'sessionId':_0x4a0bc1['id']})});if(_0x75026['ok'])DataManager[_0x222152(0x160)]();}catch(_0x28ec5f){showToast(_0x222152(0x172));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x438869=a3_0x279e54;if(!currentSession)return;document[_0x438869(0x191)](_0x438869(0x1bd))['classList'][_0x438869(0x183)](_0x438869(0xe1)),document[_0x438869(0x191)]('rescheduleSheet')['classList'][_0x438869(0x10f)]('open');const _0x44cd37=document[_0x438869(0x191)]('rsDatesTrack'),_0x4b794c=document[_0x438869(0x191)]('rsSlotsGrid');_0x44cd37[_0x438869(0x1bf)]='',_0x4b794c[_0x438869(0x1bf)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x3c90a2,_0x11d2ba]=currentSession[_0x438869(0x194)][_0x438869(0x173)](':')[_0x438869(0x1be)](Number),[_0x6c85ed,_0x4eceae]=currentSession[_0x438869(0x117)][_0x438869(0x173)](':')[_0x438869(0x1be)](Number),_0x29f3f4=_0x6c85ed*0x3c+_0x4eceae-(_0x3c90a2*0x3c+_0x11d2ba);try{const _0x43dd2e=window['Telegram']?.[_0x438869(0x10c)],_0x2072a6=await fetch(API_URL,{'method':_0x438869(0x16d),'body':JSON[_0x438869(0x12b)]({'action':_0x438869(0x133),'coachId':currentSession[_0x438869(0x120)],'duration':_0x29f3f4,'init_data':_0x43dd2e?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x5a89e3=await _0x2072a6[_0x438869(0x130)]();_0x5a89e3['ok']&&_0x5a89e3[_0x438869(0xf9)]?(availableSlotsCache=_0x5a89e3[_0x438869(0xf9)],renderRescheduleDates()):_0x4b794c[_0x438869(0x1bf)]=_0x438869(0xd3);}catch(_0x175979){_0x4b794c[_0x438869(0x1bf)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x209215=a3_0x279e54,_0x57844b=document[_0x209215(0x191)]('rsDatesTrack');_0x57844b[_0x209215(0x1bf)]='';const _0xc37475=Object['keys'](availableSlotsCache)[_0x209215(0x12e)](),_0x56be40=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xc37475[_0x209215(0x1b7)]===0x0){document[_0x209215(0x191)]('rsSlotsGrid')[_0x209215(0x1bf)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0xc37475['forEach']((_0x764e2d,_0x16eee2)=>{const _0x15efa2=_0x209215,_0x396bff=new Date(_0x764e2d),_0x21473b=_0x56be40[_0x396bff[_0x15efa2(0x169)]()],_0x517760=_0x396bff['getDate'](),_0x353594=document[_0x15efa2(0x1a4)](_0x15efa2(0x15a));_0x353594[_0x15efa2(0x1a5)]=_0x15efa2(0x11d);if(_0x16eee2===0x0)_0x353594['classList'][_0x15efa2(0x10f)]('active');_0x353594[_0x15efa2(0x1bf)]=_0x15efa2(0xe8)+_0x21473b+'</div><div\x20class=\x22rs-day-num\x22>'+_0x517760+'</div>',_0x353594['onclick']=()=>selectRsDate(_0x764e2d,_0x353594),_0x57844b[_0x15efa2(0x14e)](_0x353594);}),selectRsDate(_0xc37475[0x0],_0x57844b[_0x209215(0x14f)]);}function a3_0x2320(_0xc97c0b,_0x1e1b0f){_0xc97c0b=_0xc97c0b-0xd1;const _0x2aabcb=a3_0x58b3();let _0x55fe6b=_0x2aabcb[_0xc97c0b];return _0x55fe6b;}function selectRsDate(_0x3c8cfd,_0x5e84c4){const _0x3112ef=a3_0x279e54;selectedRsDate=_0x3c8cfd,document[_0x3112ef(0x11c)](_0x3112ef(0x13e))[_0x3112ef(0x134)](_0x4ff818=>_0x4ff818[_0x3112ef(0x109)][_0x3112ef(0x183)](_0x3112ef(0x176)));if(_0x5e84c4)_0x5e84c4[_0x3112ef(0x109)][_0x3112ef(0x10f)](_0x3112ef(0x176));const _0xf94825=document[_0x3112ef(0x191)](_0x3112ef(0xfb));_0xf94825[_0x3112ef(0x1bf)]='';const _0x39f331=availableSlotsCache[_0x3c8cfd]||[];if(_0x39f331[_0x3112ef(0x1b7)]===0x0){_0xf94825[_0x3112ef(0x1bf)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x39f331[_0x3112ef(0x134)](_0x174100=>{const _0x35d484=_0x3112ef,_0xb8f14b=document['createElement'](_0x35d484(0x127));_0xb8f14b[_0x35d484(0x1a5)]='rs-time-btn',_0xb8f14b['textContent']=_0x174100,_0xb8f14b['onclick']=()=>confirmReschedule(_0x174100),_0xf94825['appendChild'](_0xb8f14b);});}async function confirmReschedule(_0x113cb8){const _0x20d465=a3_0x279e54,_0x43a6d4=new Date(selectedRsDate),_0x69e795=_0x43a6d4['toLocaleDateString'](_0x20d465(0xec),{'day':'numeric','month':'long'}),_0x4beb14=await showCustomConfirm(_0x20d465(0x161),_0x20d465(0x121)+_0x69e795+_0x20d465(0x1b2)+_0x113cb8+'?',![]);if(!_0x4beb14)return;closeAllSheets(),showToast(_0x20d465(0x12a)),lastUserActionTime=Date[_0x20d465(0x17d)]();const _0x21feb5=currentSession['dateStr'],_0x234613=currentSession['id'],[_0x8321a3,_0x46a593]=currentSession[_0x20d465(0x194)][_0x20d465(0x173)](':')[_0x20d465(0x1be)](Number),[_0xf27545,_0x507614]=currentSession[_0x20d465(0x117)]['split'](':')['map'](Number),_0x356f55=_0xf27545*0x3c+_0x507614-(_0x8321a3*0x3c+_0x46a593),[_0x348208,_0x4d57b8]=_0x113cb8['split'](':')[_0x20d465(0x1be)](Number),_0x1e180e=_0x348208*0x3c+_0x4d57b8+_0x356f55,_0x4260da=Math[_0x20d465(0xde)](_0x1e180e/0x3c),_0x12ecfe=_0x1e180e%0x3c,_0x4c06ba=String(_0x4260da)['padStart'](0x2,'0')+':'+String(_0x12ecfe)[_0x20d465(0x1ab)](0x2,'0'),_0xaaeb7=sessions[_0x20d465(0x111)](_0x45235f=>_0x45235f['id']===_0x234613);_0xaaeb7!==-0x1&&(sessions[_0xaaeb7][_0x20d465(0x18c)]=selectedRsDate,sessions[_0xaaeb7]['start']=_0x113cb8,sessions[_0xaaeb7][_0x20d465(0x117)]=_0x4c06ba,reRenderBlocks());try{const _0xa8a67b=window[_0x20d465(0x171)]?.['WebApp'],_0x4fba74=await fetch(API_URL,{'method':_0x20d465(0x16d),'body':JSON['stringify']({'action':_0x20d465(0x19a),'init_data':_0xa8a67b?.[_0x20d465(0x189)]||'','oldSessionId':_0x234613,'oldDate':_0x21feb5,'newDate':selectedRsDate,'newTime':_0x113cb8,'coachId':currentSession[_0x20d465(0x120)]})}),_0x59b3c0=await _0x4fba74[_0x20d465(0x130)]();!_0x59b3c0['ok']?(showToast(_0x20d465(0xd7)),DataManager[_0x20d465(0x12d)]()):(showToast(_0x20d465(0xfd)),DataManager[_0x20d465(0x160)]());}catch(_0x31b3e8){showToast(_0x20d465(0x172));}}document[a3_0x279e54(0x1b3)]('DOMContentLoaded',init);