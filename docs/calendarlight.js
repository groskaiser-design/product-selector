function a3_0xb5c8(_0x53b575,_0x184fa3){_0x53b575=_0x53b575-0x6c;const _0x53380d=a3_0x960a();let _0x5cbd82=_0x53380d[_0x53b575];return _0x5cbd82;}const a3_0xdd7bd2=a3_0xb5c8;(function(_0x3dffb4,_0x2844d8){const _0x59ec03=a3_0xb5c8,_0x396752=_0x3dffb4();while(!![]){try{const _0x5a2b58=parseInt(_0x59ec03(0x8f))/0x1*(parseInt(_0x59ec03(0xc1))/0x2)+-parseInt(_0x59ec03(0x122))/0x3+parseInt(_0x59ec03(0x14b))/0x4*(-parseInt(_0x59ec03(0x118))/0x5)+-parseInt(_0x59ec03(0xbc))/0x6*(-parseInt(_0x59ec03(0x139))/0x7)+parseInt(_0x59ec03(0xfa))/0x8+-parseInt(_0x59ec03(0xb8))/0x9+parseInt(_0x59ec03(0x105))/0xa*(parseInt(_0x59ec03(0x83))/0xb);if(_0x5a2b58===_0x2844d8)break;else _0x396752['push'](_0x396752['shift']());}catch(_0x308a77){_0x396752['push'](_0x396752['shift']());}}}(a3_0x960a,0xf3ecf));const APP_VERSION=a3_0xdd7bd2(0x107),API_URL=a3_0xdd7bd2(0xf5),GRID_H=0x3c,KEY_SESSIONS=a3_0xdd7bd2(0x11e),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0xdd7bd2(0x6d);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xdd7bd2(0x121),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x28a5a6=a3_0xdd7bd2,_0x5c1c89=(function(){let _0x290b3f=!![];return function(_0x51d6c8,_0x2bf816){const _0x5b61cf=_0x290b3f?function(){const _0x15d785=a3_0xb5c8;if(_0x2bf816){const _0x4c2d44=_0x2bf816[_0x15d785(0xfb)](_0x51d6c8,arguments);return _0x2bf816=null,_0x4c2d44;}}:function(){};return _0x290b3f=![],_0x5b61cf;};}()),_0x481d2d=_0x5c1c89(this,function(){const _0x3ce073=a3_0xb5c8;return _0x481d2d[_0x3ce073(0xbe)]()[_0x3ce073(0xe6)]('(((.+)+)+)+$')['toString']()[_0x3ce073(0x9c)](_0x481d2d)[_0x3ce073(0xe6)]('(((.+)+)+)+$');});_0x481d2d();try{const _0x1f55c2=window[_0x28a5a6(0x135)]?.[_0x28a5a6(0x9d)];if(!_0x1f55c2)return;_0x1f55c2['ready'](),_0x1f55c2['expand']();try{_0x1f55c2[_0x28a5a6(0xa5)](_0x28a5a6(0x6c)),_0x1f55c2['setBackgroundColor']&&_0x1f55c2[_0x28a5a6(0xf1)](_0x28a5a6(0x6c));}catch(_0x3eb96d){console[_0x28a5a6(0xc9)]('Error\x20setting\x20color:',_0x3eb96d);}try{_0x1f55c2[_0x28a5a6(0x7f)]&&(_0x1f55c2['BackButton'][_0x28a5a6(0x129)](),_0x1f55c2[_0x28a5a6(0x7f)][_0x28a5a6(0xb6)](),_0x1f55c2['BackButton'][_0x28a5a6(0x102)](function(){const _0x1ec88d=_0x28a5a6;window['location'][_0x1ec88d(0xa4)]=_0x1ec88d(0x77);}));}catch(_0x416697){console[_0x28a5a6(0xc9)](_0x28a5a6(0xd1),_0x416697);}try{if(_0x1f55c2[_0x28a5a6(0xac)])_0x1f55c2[_0x28a5a6(0xac)]();}catch(_0x5691ab){}}catch(_0x446d9f){console[_0x28a5a6(0x10b)]('Critical\x20TMA\x20Error:',_0x446d9f);}}());function isAdmin(){const _0x43fb5d=a3_0xdd7bd2;try{const _0x2d3bd6=Number(window[_0x43fb5d(0x135)]?.['WebApp']?.[_0x43fb5d(0xf7)]?.[_0x43fb5d(0xf9)]?.['id']);return _0x2d3bd6===0xbaf7174;}catch(_0x591c63){return![];}}const DataManager={'saveLocally'(){const _0x248a26=a3_0xdd7bd2;try{localStorage[_0x248a26(0xff)](KEY_SESSIONS,JSON[_0x248a26(0x15c)](sessions)),localStorage[_0x248a26(0xff)](KEY_CLIENTS,JSON[_0x248a26(0x15c)](clients)),localStorage[_0x248a26(0xff)](KEY_SETTINGS,JSON[_0x248a26(0x15c)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3e1a62){}},'loadLocal'(){const _0x57c588=a3_0xdd7bd2;try{const _0x52a79c=localStorage['getItem'](KEY_SESSIONS);if(_0x52a79c)sessions=JSON[_0x57c588(0x104)](_0x52a79c);const _0x46f242=localStorage[_0x57c588(0xa2)](KEY_CLIENTS);if(_0x46f242)clients=JSON[_0x57c588(0x104)](_0x46f242);const _0x1ce294=localStorage['getItem'](KEY_SETTINGS);if(_0x1ce294){const _0x758604=JSON['parse'](_0x1ce294);if(_0x758604[_0x57c588(0x11b)])availabilityPattern=_0x758604['pattern'];if(_0x758604['ranges'])specialRanges=_0x758604['ranges'];if(_0x758604[_0x57c588(0xa1)])dateExceptions=_0x758604['exceptions'];}}catch(_0x1687ff){}},async 'syncLoad'(){const _0xaaf1c2=a3_0xdd7bd2,_0x47d3e7=new Date(),_0x42b195=_0x47d3e7['getFullYear']()+'-'+String(_0x47d3e7[_0xaaf1c2(0x8b)]()+0x1)['padStart'](0x2,'0'),_0x579d95=new Date(_0x47d3e7);_0x579d95[_0xaaf1c2(0x157)](_0x47d3e7[_0xaaf1c2(0x8b)]()+0x1);const _0x2587fe=_0x579d95['getFullYear']()+'-'+String(_0x579d95[_0xaaf1c2(0x8b)]()+0x1)[_0xaaf1c2(0xc3)](0x2,'0'),_0x2930b1=Date[_0xaaf1c2(0x144)]();try{const _0x5691de=window[_0xaaf1c2(0x135)]?.['WebApp'],_0x2e618a=_0x5691de?.['initData']||'',[_0xd94db2,_0x54f9f5]=await Promise[_0xaaf1c2(0x15f)]([fetch(API_URL,{'method':'POST','body':JSON[_0xaaf1c2(0x15c)]({'action':_0xaaf1c2(0x11c),'init_data':_0x2e618a,'month_str':_0x42b195})})[_0xaaf1c2(0xd9)](_0x3db6db=>_0x3db6db[_0xaaf1c2(0x14e)]()),fetch(API_URL,{'method':_0xaaf1c2(0x147),'body':JSON[_0xaaf1c2(0x15c)]({'action':_0xaaf1c2(0x11c),'init_data':_0x2e618a,'month_str':_0x2587fe})})['then'](_0x384afd=>_0x384afd['json']())]);if(lastUserActionTime>_0x2930b1){console[_0xaaf1c2(0xc9)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0xd94db2['ok'])this[_0xaaf1c2(0x15d)](_0xd94db2[_0xaaf1c2(0x110)],_0x42b195);if(_0x54f9f5['ok'])this[_0xaaf1c2(0x15d)](_0x54f9f5['data'],_0x2587fe);this['saveLocally']();}catch(_0x530d44){}},'applyData'(_0x1164e6,_0x4aeec6){const _0x22613b=a3_0xdd7bd2;if(!_0x1164e6)return;if(_0x1164e6[_0x22613b(0x137)]){if(_0x1164e6[_0x22613b(0x137)][_0x22613b(0x11b)])availabilityPattern=_0x1164e6[_0x22613b(0x137)]['pattern'];if(_0x1164e6[_0x22613b(0x137)][_0x22613b(0xa0)])specialRanges=_0x1164e6[_0x22613b(0x137)]['ranges'];if(_0x1164e6[_0x22613b(0x137)][_0x22613b(0xa1)])dateExceptions=_0x1164e6[_0x22613b(0x137)]['exceptions'];}if(_0x1164e6[_0x22613b(0xbd)]&&Array[_0x22613b(0x134)](_0x1164e6[_0x22613b(0xbd)]))clients=_0x1164e6[_0x22613b(0xbd)];_0x1164e6[_0x22613b(0xe0)]&&(coachProfiles={...coachProfiles,..._0x1164e6[_0x22613b(0xe0)]}),_0x1164e6['calendar']&&(sessions=sessions[_0x22613b(0x13f)](_0x15ac9e=>!_0x15ac9e[_0x22613b(0xe1)]['startsWith'](_0x4aeec6)),Object[_0x22613b(0x73)](_0x1164e6[_0x22613b(0xa7)])['forEach'](_0x12ef42=>{const _0x45f545=_0x22613b,_0x2c98eb=_0x1164e6['calendar'][_0x12ef42];_0x2c98eb[_0x45f545(0x123)](_0x569e49=>{const _0x2eab4f=_0x45f545;sessions['push']({'id':_0x569e49['i'],'clientId':_0x569e49['c'],'coachId':_0x569e49[_0x2eab4f(0x133)],'dateStr':_0x4aeec6+'-'+_0x12ef42[_0x2eab4f(0xc3)](0x2,'0'),'start':_0x569e49['s'],'end':_0x569e49['e'],'note':_0x569e49['n']||'','status':_0x569e49['st']||'planned','seriesId':_0x569e49['sid']});});})),reRenderBlocks();}};function init(){const _0x11f904=a3_0xdd7bd2;DataManager[_0x11f904(0x7b)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x11f904(0x116)](_0x11f904(0x15e))[_0x11f904(0x153)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x11f904(0x117)]();}function renderTimeColumn(){const _0x5af779=a3_0xdd7bd2,_0xe02d8=document['getElementById'](_0x5af779(0xf3)),_0x1e2487=document[_0x5af779(0x116)](_0x5af779(0x165));_0xe02d8[_0x5af779(0x12e)]='',_0xe02d8[_0x5af779(0xbf)](_0x1e2487);for(let _0x127f44=0x0;_0x127f44<0x18;_0x127f44++){const _0x5ae482=document[_0x5af779(0xe3)](_0x5af779(0x13e));_0x5ae482[_0x5af779(0xad)]=_0x5af779(0x7c);if(_0x127f44>0x0)_0x5ae482['innerHTML']=_0x5af779(0xb1)+String(_0x127f44)[_0x5af779(0xc3)](0x2,'0')+_0x5af779(0xaf);_0xe02d8['appendChild'](_0x5ae482);}}function renderDayRange(_0x94bc1a,_0x4b87f4){const _0x1005a9=a3_0xdd7bd2,_0x4269ab=document[_0x1005a9(0x116)](_0x1005a9(0xd8)),_0x4b4b39=document[_0x1005a9(0x116)](_0x1005a9(0x12f)),_0x40884b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3fa105=new Date();_0x3fa105[_0x1005a9(0x167)](0x0,0x0,0x0,0x0);const _0x28dee2=getLocalDateStr(new Date());for(let _0x2305ac=_0x94bc1a;_0x2305ac<=_0x4b87f4;_0x2305ac++){const _0x18632b=new Date(_0x3fa105);_0x18632b['setDate'](_0x18632b[_0x1005a9(0xb9)]()+_0x2305ac);const _0x4c465b=getLocalDateStr(_0x18632b);let _0x36e11d=_0x18632b[_0x1005a9(0x130)]()-0x1;if(_0x36e11d===-0x1)_0x36e11d=0x6;const _0x468063=_0x4c465b===_0x28dee2,_0x5ad68b=document[_0x1005a9(0xe3)](_0x1005a9(0x13e));_0x5ad68b[_0x1005a9(0xad)]=_0x1005a9(0x81)+(_0x468063?'today':''),_0x5ad68b[_0x1005a9(0x8a)]('data-date',_0x4c465b),_0x5ad68b[_0x1005a9(0x12e)]=_0x1005a9(0xf8)+_0x40884b[_0x36e11d]+'</div><div\x20class=\x22dch-num\x22>'+_0x18632b['getDate']()+_0x1005a9(0x14a),_0x4269ab[_0x1005a9(0xbf)](_0x5ad68b);const _0x3bf690=document[_0x1005a9(0xe3)]('div');_0x3bf690['className']=_0x1005a9(0x70)+(_0x468063?_0x1005a9(0x156):''),_0x3bf690['setAttribute'](_0x1005a9(0x7a),_0x4c465b),_0x3bf690[_0x1005a9(0x8a)](_0x1005a9(0x132),_0x36e11d),_0x4b4b39[_0x1005a9(0xbf)](_0x3bf690);}}function reRenderBlocks(){const _0x28286c=a3_0xdd7bd2;document[_0x28286c(0x91)]('.day-column')['forEach'](_0x21efab=>{const _0x44613d=_0x28286c;_0x21efab[_0x44613d(0x91)](_0x44613d(0xe7))[_0x44613d(0x123)](_0x4d4491=>_0x4d4491['remove']());const _0x29a010=_0x21efab[_0x44613d(0x151)](_0x44613d(0x7a)),_0x1cf18e=parseInt(_0x21efab[_0x44613d(0x151)]('data-day-idx')),_0x110667=Math[_0x44613d(0x15a)](_0x21efab[_0x44613d(0x152)]);(availabilityPattern[_0x1cf18e]||[])['forEach'](_0x17323b=>{const _0x40f0be=_0x44613d,_0x303fcc=document[_0x40f0be(0xe3)](_0x40f0be(0x13e));_0x303fcc[_0x40f0be(0xad)]='blocked-slot\x20stripe-bg',_0x303fcc['style']['top']=_0x17323b*GRID_H+'px',_0x303fcc[_0x40f0be(0x10f)]['backgroundPosition']='-'+_0x110667+'px\x20-'+_0x17323b*GRID_H+'px',_0x21efab['appendChild'](_0x303fcc);});if(specialRanges[_0x44613d(0xea)]>0x0){const _0x20a1e6=new Date(_0x29a010+'T00:00:00')['getTime'](),_0x9861c9=new Date(_0x29a010+_0x44613d(0xd5))['getTime']();specialRanges['forEach'](_0x5ce3eb=>{const _0x3965b7=_0x44613d,_0x234607=new Date(_0x5ce3eb['start'])[_0x3965b7(0xdd)](),_0x531569=new Date(_0x5ce3eb[_0x3965b7(0x162)])['getTime'](),_0x46044e=Math['max'](_0x20a1e6,_0x234607),_0x304956=Math[_0x3965b7(0x6e)](_0x9861c9,_0x531569);if(_0x46044e<_0x304956){const _0x3c1f4e=(_0x46044e-_0x20a1e6)/0x36ee80*GRID_H,_0x4f34ea=(_0x304956-_0x46044e)/0x36ee80*GRID_H,_0x2e59ff=document['createElement'](_0x3965b7(0x13e));_0x4f34ea>=23.5*GRID_H?(_0x2e59ff[_0x3965b7(0xad)]=_0x3965b7(0xee),_0x2e59ff['style']['backgroundPosition']='-'+_0x110667+_0x3965b7(0x79)):(_0x2e59ff['className']=_0x3965b7(0x76),_0x2e59ff[_0x3965b7(0x10f)][_0x3965b7(0x128)]=_0x3c1f4e+'px',_0x2e59ff[_0x3965b7(0x10f)][_0x3965b7(0xe5)]=_0x4f34ea+'px',_0x2e59ff[_0x3965b7(0x10f)]['backgroundPosition']='-'+_0x110667+_0x3965b7(0x99)+_0x3c1f4e+'px'),_0x21efab[_0x3965b7(0xbf)](_0x2e59ff);}});}renderEventsForColumn(_0x21efab,_0x29a010);});}function renderEventsForColumn(_0x27fcb6,_0x2b85f6){const _0x3084b3=a3_0xdd7bd2,_0x12194c=sessions[_0x3084b3(0x13f)](_0x4a2d2f=>_0x4a2d2f[_0x3084b3(0xe1)]===_0x2b85f6),_0x4baaa1=_0x12194c[_0x3084b3(0x120)](_0x1741d9=>{const _0xe4d7f=_0x3084b3,[_0x2daf61,_0x52e048]=_0x1741d9[_0xe4d7f(0x112)]['split'](':')['map'](Number),[_0x3ced02,_0x31cff1]=_0x1741d9[_0xe4d7f(0x162)]['split'](':')['map'](Number);return{'data':_0x1741d9,'start':_0x2daf61*0x3c+_0x52e048,'end':_0x3ced02*0x3c+_0x31cff1,'colIndex':0x0};});_0x4baaa1[_0x3084b3(0x113)]((_0x33a082,_0x3a5b68)=>_0x33a082[_0x3084b3(0x112)]-_0x3a5b68['start']||_0x3a5b68['end']-_0x3a5b68[_0x3084b3(0x112)]-(_0x33a082['end']-_0x33a082[_0x3084b3(0x112)]));const _0x1a79f7=[];_0x4baaa1['forEach'](_0x2734f0=>{const _0x3cb6a2=_0x3084b3;let _0x4fcfd1=![];for(let _0x4fe979=0x0;_0x4fe979<_0x1a79f7['length'];_0x4fe979++){const _0x57cbc3=_0x1a79f7[_0x4fe979];if(_0x2734f0[_0x3cb6a2(0x112)]>=_0x57cbc3[_0x57cbc3[_0x3cb6a2(0xea)]-0x1][_0x3cb6a2(0x162)]){_0x57cbc3[_0x3cb6a2(0x100)](_0x2734f0),_0x2734f0[_0x3cb6a2(0x97)]=_0x4fe979,_0x4fcfd1=!![];break;}}!_0x4fcfd1&&(_0x1a79f7[_0x3cb6a2(0x100)]([_0x2734f0]),_0x2734f0['colIndex']=_0x1a79f7['length']-0x1);}),_0x4baaa1['forEach'](_0x31360f=>{const _0x38810e=_0x3084b3;let _0x5463e1=0x0;_0x4baaa1['forEach'](_0x3a2bb0=>{const _0xe885d7=a3_0xb5c8;if(Math[_0xe885d7(0xab)](_0x31360f[_0xe885d7(0x112)],_0x3a2bb0[_0xe885d7(0x112)])<Math[_0xe885d7(0x6e)](_0x31360f['end'],_0x3a2bb0['end'])&&_0x3a2bb0[_0xe885d7(0x97)]>_0x5463e1)_0x5463e1=_0x3a2bb0[_0xe885d7(0x97)];});const _0x531d16=_0x5463e1+0x1,_0x3fddab=0x64/_0x531d16,_0x28ccb7=_0x31360f[_0x38810e(0x97)]*_0x3fddab,_0x11fb1d=document[_0x38810e(0xe3)]('div'),_0x1e7bae=_0x31360f['data'];let _0x2db770=_0x38810e(0xa8);if(clients&&clients[_0x38810e(0xea)]>0x0){const _0x5dea88=clients[_0x38810e(0x140)](_0xb1530a=>String(_0xb1530a['id'])===String(_0x1e7bae[_0x38810e(0x6f)]));if(_0x5dea88&&_0x5dea88[_0x38810e(0xdb)])_0x2db770=_0x5dea88['color'];}const _0x11747b=_0x1e7bae[_0x38810e(0x109)]===_0x38810e(0xae),_0x3c3009=_0x11747b?0x1:0.45;_0x11fb1d[_0x38810e(0xad)]=_0x38810e(0xde)+(_0x11747b?_0x38810e(0x10e):''),_0x11fb1d[_0x38810e(0x10f)][_0x38810e(0x119)]=hexToRgba(_0x2db770,_0x3c3009),_0x11fb1d[_0x38810e(0x10f)]['borderLeftColor']=_0x2db770;const _0x4c1b8b=_0x31360f[_0x38810e(0x112)]/0x3c*GRID_H,_0x6da07f=(_0x31360f['end']-_0x31360f[_0x38810e(0x112)])/0x3c*GRID_H;_0x11fb1d[_0x38810e(0x10f)][_0x38810e(0x128)]=_0x4c1b8b+'px',_0x11fb1d[_0x38810e(0x10f)][_0x38810e(0xe5)]=Math[_0x38810e(0xab)](_0x6da07f,0x14)+'px',_0x11fb1d[_0x38810e(0x10f)]['width']=_0x38810e(0x8e)+_0x3fddab+'%\x20-\x204px)',_0x11fb1d[_0x38810e(0x10f)]['left']='calc('+_0x28ccb7+_0x38810e(0xb5),_0x11fb1d['style'][_0x38810e(0xaa)]=0xa+_0x31360f[_0x38810e(0x97)];if(_0x3fddab<0x55)_0x11fb1d['classList'][_0x38810e(0x85)](_0x38810e(0x9b));let _0x595a4f='';if(_0x1e7bae['seriesId'])_0x595a4f+=_0x38810e(0xd4);if(_0x11747b)_0x595a4f+=_0x38810e(0x101);_0x11fb1d['innerHTML']=_0x38810e(0x15b)+_0x1e7bae[_0x38810e(0x112)]+'\x20-\x20'+_0x1e7bae[_0x38810e(0x162)]+_0x38810e(0x13b)+_0x595a4f+_0x38810e(0xef),_0x11fb1d[_0x38810e(0x84)]=_0x24a279=>{const _0x5548fc=_0x38810e;_0x24a279[_0x5548fc(0xe9)](),openDetails(_0x1e7bae);},_0x27fcb6[_0x38810e(0xbf)](_0x11fb1d);});}function openAnalytics(){const _0x1d3c76=a3_0xdd7bd2,_0x27ae38=document[_0x1d3c76(0x126)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x1d3c76(0x121),_0x27ae38),openSheet(_0x1d3c76(0x13c));}function setAnalyticsPeriod(_0x33ff3b,_0x2ec271){const _0x504db6=a3_0xdd7bd2;currentAnPeriod=_0x33ff3b,document[_0x504db6(0x91)]('.period-switch\x20.p-btn')[_0x504db6(0x123)](_0x4717d9=>_0x4717d9[_0x504db6(0x115)]['remove'](_0x504db6(0xf4)));if(_0x2ec271)_0x2ec271['classList']['add'](_0x504db6(0xf4));const _0xe9bcfb=document['getElementById'](_0x504db6(0x141));_0xe9bcfb[_0x504db6(0x10f)][_0x504db6(0x88)]=_0x33ff3b===_0x504db6(0xe4)?'flex':_0x504db6(0x10a);const _0x201c4a=new Date();let _0x368f4c=new Date(),_0x20adc4=new Date();if(_0x33ff3b===_0x504db6(0x121))_0x368f4c=getStartOfWeek(_0x201c4a),_0x20adc4=new Date(_0x368f4c),_0x20adc4['setDate'](_0x20adc4[_0x504db6(0xb9)]()+0x6);else{if(_0x33ff3b===_0x504db6(0xb4))_0x368f4c=new Date(_0x201c4a[_0x504db6(0x11d)](),_0x201c4a[_0x504db6(0x8b)](),0x1),_0x20adc4=new Date(_0x201c4a['getFullYear'](),_0x201c4a[_0x504db6(0x8b)]()+0x1,0x0);else{!document[_0x504db6(0x116)](_0x504db6(0xa3))['value']&&(document[_0x504db6(0x116)](_0x504db6(0xa3))[_0x504db6(0xd2)]=getLocalDateStr(_0x201c4a),document[_0x504db6(0x116)](_0x504db6(0x9f))[_0x504db6(0xd2)]=getLocalDateStr(_0x201c4a));refreshAnalytics();return;}}document['getElementById'](_0x504db6(0xa3))['value']=getLocalDateStr(_0x368f4c),document['getElementById'](_0x504db6(0x9f))[_0x504db6(0xd2)]=getLocalDateStr(_0x20adc4),refreshAnalytics();}function refreshAnalytics(){const _0x4bc27b=a3_0xdd7bd2,_0x3f1395=document[_0x4bc27b(0x116)]('anStart')[_0x4bc27b(0xd2)],_0xec434c=document[_0x4bc27b(0x116)]('anEnd')[_0x4bc27b(0xd2)];if(!_0x3f1395||!_0xec434c)return;const _0x4b162a=sessions[_0x4bc27b(0x13f)](_0x2150db=>_0x2150db[_0x4bc27b(0xe1)]>=_0x3f1395&&_0x2150db[_0x4bc27b(0xe1)]<=_0xec434c&&_0x2150db[_0x4bc27b(0x109)]!==_0x4bc27b(0x142)),_0x3c994a=_0x4b162a[_0x4bc27b(0xea)],_0x3760dd=_0x4b162a[_0x4bc27b(0x13f)](_0x34e97a=>_0x34e97a['status']===_0x4bc27b(0xae))['length'],_0x39ffcc=_0x3c994a>0x0?Math[_0x4bc27b(0x15a)](_0x3760dd/_0x3c994a*0x64):0x0;document[_0x4bc27b(0x116)](_0x4bc27b(0x111))[_0x4bc27b(0x14f)]=_0x39ffcc+'%',document[_0x4bc27b(0x116)](_0x4bc27b(0x12b))['textContent']=_0x3760dd+_0x4bc27b(0xb0)+_0x3c994a+_0x4bc27b(0x10d);const _0x3c680b=document[_0x4bc27b(0x116)](_0x4bc27b(0xc5)),_0x1ae8d8=0x2*Math['PI']*0x23,_0x47bb55=_0x1ae8d8-_0x39ffcc/0x64*_0x1ae8d8;_0x3c680b[_0x4bc27b(0x10f)][_0x4bc27b(0x166)]=_0x47bb55;const _0x5e14b7={};_0x4b162a[_0x4bc27b(0x123)](_0x49a14e=>{const _0x57a3f7=_0x4bc27b,_0xe1da0b=_0x49a14e[_0x57a3f7(0x13d)]||'Unknown';if(!_0x5e14b7[_0xe1da0b]){const _0x5ed6e5='#'+_0xe1da0b['toString']()['substr'](0x0,0x6);_0x5e14b7[_0xe1da0b]={'total':0x0,'done':0x0,'color':_0x5ed6e5};}_0x5e14b7[_0xe1da0b][_0x57a3f7(0xda)]++;if(_0x49a14e['status']===_0x57a3f7(0xae))_0x5e14b7[_0xe1da0b]['done']++;});const _0x325291=document[_0x4bc27b(0x116)](_0x4bc27b(0x11f));_0x325291[_0x4bc27b(0x12e)]='';const _0x58ccfe=Object['entries'](_0x5e14b7)[_0x4bc27b(0x113)]((_0x34feb2,_0x3b1d2b)=>_0x3b1d2b[0x1][_0x4bc27b(0xda)]-_0x34feb2[0x1][_0x4bc27b(0xda)]);if(_0x58ccfe['length']===0x0){_0x325291[_0x4bc27b(0x12e)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x58ccfe[_0x4bc27b(0x123)](([_0x176c52,_0x3c14e1])=>{const _0x9a967c=_0x4bc27b,_0xf31fde=Math[_0x9a967c(0x15a)](_0x3c14e1[_0x9a967c(0x164)]/_0x3c14e1[_0x9a967c(0xda)]*0x64),_0x17c4d2=document['createElement']('div');_0x17c4d2[_0x9a967c(0xad)]=_0x9a967c(0x136),_0x17c4d2[_0x9a967c(0x10f)][_0x9a967c(0x146)]=_0x3c14e1[_0x9a967c(0xdb)],_0x17c4d2[_0x9a967c(0x12e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x176c52[_0x9a967c(0x106)](0x0,0x5)+_0x9a967c(0xce)+_0x3c14e1['done']+_0x9a967c(0x11a)+_0x3c14e1[_0x9a967c(0xda)]+_0x9a967c(0xdc)+_0xf31fde+_0x9a967c(0x8c),_0x325291[_0x9a967c(0xbf)](_0x17c4d2);});}function openDetails(_0xf67c2f){const _0xfd5c9b=a3_0xdd7bd2;currentSession=_0xf67c2f;const _0x102d67=new Date(_0xf67c2f['dateStr']),_0x9e530=_0x102d67[_0xfd5c9b(0xc7)]('ru-RU',{'weekday':'long','day':_0xfd5c9b(0x160),'month':'long'});document[_0xfd5c9b(0x116)]('detDate')[_0xfd5c9b(0x14f)]=_0x9e530[_0xfd5c9b(0x94)](0x0)[_0xfd5c9b(0xfe)]()+_0x9e530[_0xfd5c9b(0xd0)](0x1),document[_0xfd5c9b(0x116)](_0xfd5c9b(0xca))[_0xfd5c9b(0x14f)]=_0xf67c2f['start']+_0xfd5c9b(0x7e)+_0xf67c2f[_0xfd5c9b(0x162)],document[_0xfd5c9b(0x116)](_0xfd5c9b(0xcd))[_0xfd5c9b(0x14f)]=_0xf67c2f['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3a1f60=document['getElementById'](_0xfd5c9b(0xcb)),_0x37e0a0=document['getElementById'](_0xfd5c9b(0x74)),_0x2d141c=_0x37e0a0[_0xfd5c9b(0x126)](_0xfd5c9b(0xc8)),_0x34cfef=_0x37e0a0[_0xfd5c9b(0x126)](_0xfd5c9b(0xe2)),_0x51d8c9=document['getElementById']('cancelHint');if(_0xf67c2f[_0xfd5c9b(0x109)]==='completed')_0x3a1f60['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x3a1f60[_0xfd5c9b(0x10f)][_0xfd5c9b(0xdb)]=_0xfd5c9b(0x82),_0x37e0a0[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]=_0xfd5c9b(0x10a);else{_0x3a1f60['textContent']=_0xfd5c9b(0x158),_0x3a1f60[_0xfd5c9b(0x10f)][_0xfd5c9b(0xdb)]=_0xfd5c9b(0x14c),_0x37e0a0[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]=_0xfd5c9b(0x163);const _0x52dd44=new Date(_0xf67c2f['dateStr']+'T'+_0xf67c2f['start']),_0x4ba327=new Date(),_0x5af066=(_0x52dd44-_0x4ba327)/(0x3e8*0x3c*0x3c),_0x385151=coachProfiles[_0xf67c2f['coachId']]&&coachProfiles[_0xf67c2f[_0xfd5c9b(0x13d)]][_0xfd5c9b(0x92)]?parseInt(coachProfiles[_0xf67c2f[_0xfd5c9b(0x13d)]][_0xfd5c9b(0x92)]):0x18;if(_0x385151===0x0||_0x5af066>=_0x385151)_0x2d141c[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]=_0xfd5c9b(0x163),_0x34cfef['style']['display']=_0xfd5c9b(0x163),_0x51d8c9[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]=_0xfd5c9b(0x10a);else{_0x2d141c[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]=_0xfd5c9b(0x10a),_0x34cfef[_0xfd5c9b(0x10f)][_0xfd5c9b(0x88)]='none',_0x51d8c9['style'][_0xfd5c9b(0x88)]='block';let _0x528844=_0x385151===0x0?_0xfd5c9b(0x10c):_0xfd5c9b(0x155)+_0x385151+_0xfd5c9b(0xd7);_0x51d8c9[_0xfd5c9b(0x14f)]=_0xfd5c9b(0x12c)+_0x528844+_0xfd5c9b(0x149);}}document[_0xfd5c9b(0x116)]('overlay')[_0xfd5c9b(0x115)]['add']('active'),document['getElementById'](_0xfd5c9b(0x87))[_0xfd5c9b(0x115)][_0xfd5c9b(0x85)](_0xfd5c9b(0xbb));}function closeAllSheets(){const _0x59c4d8=a3_0xdd7bd2;document[_0x59c4d8(0x116)]('overlay')[_0x59c4d8(0x115)][_0x59c4d8(0xcf)](_0x59c4d8(0xf4)),document[_0x59c4d8(0x91)](_0x59c4d8(0x86))[_0x59c4d8(0x123)](_0x5e35fe=>_0x5e35fe[_0x59c4d8(0x115)]['remove']('open'));}function openSheet(_0x31cf49){const _0x5211d7=a3_0xdd7bd2;document['getElementById']('overlay')['classList'][_0x5211d7(0x85)]('active'),document[_0x5211d7(0x116)](_0x31cf49)[_0x5211d7(0x115)][_0x5211d7(0x85)](_0x5211d7(0xbb));}function getLocalDateStr(_0x3d7b57){const _0x5d8b86=a3_0xdd7bd2,_0x567d54=_0x3d7b57[_0x5d8b86(0x11d)](),_0x453643=String(_0x3d7b57[_0x5d8b86(0x8b)]()+0x1)[_0x5d8b86(0xc3)](0x2,'0'),_0x21a37a=String(_0x3d7b57[_0x5d8b86(0xb9)]())['padStart'](0x2,'0');return _0x567d54+'-'+_0x453643+'-'+_0x21a37a;}function getStartOfWeek(_0x3df175){const _0x891f74=a3_0xdd7bd2,_0x202f0a=new Date(_0x3df175),_0x302a01=_0x202f0a[_0x891f74(0x130)](),_0x74e869=_0x202f0a[_0x891f74(0xb9)]()-_0x302a01+(_0x302a01===0x0?-0x6:0x1);return _0x202f0a[_0x891f74(0xdf)](_0x74e869),_0x202f0a[_0x891f74(0x167)](0x0,0x0,0x0,0x0),_0x202f0a;}function scrollToToday(){const _0x520a1f=getLocalDateStr(new Date());setTimeout(()=>{const _0x54ad22=a3_0xb5c8,_0x1a2cea=document['querySelector'](_0x54ad22(0x78)+_0x520a1f+'\x22]');if(_0x1a2cea){const _0xf24a25=document[_0x54ad22(0x116)](_0x54ad22(0x15e)),_0x5f3fa7=_0x1a2cea[_0x54ad22(0x152)]-_0xf24a25[_0x54ad22(0x13a)]/0x2+_0x1a2cea[_0x54ad22(0x7d)]/0x2;_0xf24a25[_0x54ad22(0x93)]({'left':_0x5f3fa7,'behavior':'auto'}),_0xf24a25[_0x54ad22(0x89)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x596845=a3_0xdd7bd2,_0x4bc774=new Date(),_0x3ccced=document['getElementById'](_0x596845(0x71)),_0x1e25da=document['getElementById'](_0x596845(0x165)),_0x24ba73=(_0x4bc774[_0x596845(0xfc)]()*0x3c+_0x4bc774[_0x596845(0xfd)]())/0x3c*GRID_H;_0x3ccced[_0x596845(0x10f)]['top']=_0x24ba73+'px',_0x3ccced['style'][_0x596845(0x88)]=_0x596845(0x163),_0x1e25da['style'][_0x596845(0x128)]=_0x24ba73+'px',_0x1e25da[_0x596845(0x10f)]['display']=_0x596845(0x163),_0x1e25da[_0x596845(0x14f)]=String(_0x4bc774[_0x596845(0xfc)]())['padStart'](0x2,'0')+':'+String(_0x4bc774['getMinutes']())[_0x596845(0xc3)](0x2,'0');}function onScroll(){const _0x567bdc=a3_0xdd7bd2,_0xf8ba6d=document[_0x567bdc(0x116)](_0x567bdc(0x15e)),_0x3b272e=document[_0x567bdc(0x91)](_0x567bdc(0x127));for(let _0x36150d of _0x3b272e)if(_0x36150d[_0x567bdc(0x152)]>=_0xf8ba6d['scrollLeft']){const _0x1b738b=new Date(_0x36150d[_0x567bdc(0x151)](_0x567bdc(0x7a)));document[_0x567bdc(0x116)](_0x567bdc(0x161))[_0x567bdc(0x14f)]=_0x1b738b['toLocaleString']('ru',{'month':'long'})[_0x567bdc(0xfe)]()+'\x20'+_0x1b738b[_0x567bdc(0x11d)]();break;}}function showToast(_0x323f86){const _0x2f6a32=a3_0xdd7bd2,_0x58e8b9=document['getElementById'](_0x2f6a32(0xf0));_0x58e8b9[_0x2f6a32(0x14f)]=_0x323f86,_0x58e8b9['classList']['add']('show'),setTimeout(()=>_0x58e8b9['classList'][_0x2f6a32(0xcf)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x3a38c9=a3_0xdd7bd2,_0x251c5c=document[_0x3a38c9(0x116)](_0x3a38c9(0x15e)),_0x6d7f1a=_0x251c5c['scrollLeft'],_0x46a93e=_0x251c5c[_0x3a38c9(0xf2)],_0x4a214c=_0x251c5c[_0x3a38c9(0x13a)];if(_0x46a93e-(_0x6d7f1a+_0x4a214c)<0x12c){const _0x42995e=endOffset;endOffset+=0xe,renderDayRange(_0x42995e+0x1,endOffset),reRenderBlocks();}if(_0x6d7f1a<0x12c){const _0x53e786=startOffset;startOffset-=0xe,prependDays(startOffset,_0x53e786-0x1),_0x251c5c['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5d0394,_0x33d989){const _0x58e2bd=a3_0xdd7bd2,_0x5a1b0e=document['getElementById'](_0x58e2bd(0xd8)),_0x1a14eb=document['getElementById']('gridColumns'),_0x325edc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x343dd9=new Date();_0x343dd9[_0x58e2bd(0x167)](0x0,0x0,0x0,0x0);const _0xa7e285=getLocalDateStr(new Date()),_0x48e869=document['createDocumentFragment'](),_0x84cd9c=document[_0x58e2bd(0xc4)]();for(let _0x4b1e7a=_0x5d0394;_0x4b1e7a<=_0x33d989;_0x4b1e7a++){const _0x358337=new Date(_0x343dd9);_0x358337[_0x58e2bd(0xdf)](_0x358337['getDate']()+_0x4b1e7a);const _0x101481=getLocalDateStr(_0x358337);let _0x3fcd99=_0x358337[_0x58e2bd(0x130)]()-0x1;if(_0x3fcd99===-0x1)_0x3fcd99=0x6;const _0x524687=_0x101481===_0xa7e285,_0x745cdd=document[_0x58e2bd(0xe3)](_0x58e2bd(0x13e));_0x745cdd[_0x58e2bd(0xad)]='day-col-header\x20'+(_0x524687?_0x58e2bd(0x156):''),_0x745cdd[_0x58e2bd(0x8a)](_0x58e2bd(0x7a),_0x101481),_0x745cdd[_0x58e2bd(0x12e)]=_0x58e2bd(0xf8)+_0x325edc[_0x3fcd99]+'</div><div\x20class=\x22dch-num\x22>'+_0x358337[_0x58e2bd(0xb9)]()+'</div>',_0x48e869[_0x58e2bd(0xbf)](_0x745cdd);const _0x5d0fe6=document[_0x58e2bd(0xe3)](_0x58e2bd(0x13e));_0x5d0fe6['className']='day-column\x20'+(_0x524687?_0x58e2bd(0x156):''),_0x5d0fe6[_0x58e2bd(0x8a)](_0x58e2bd(0x7a),_0x101481),_0x5d0fe6[_0x58e2bd(0x8a)](_0x58e2bd(0x132),_0x3fcd99),_0x84cd9c[_0x58e2bd(0xbf)](_0x5d0fe6);}_0x5a1b0e['insertBefore'](_0x48e869,_0x5a1b0e[_0x58e2bd(0x114)]),_0x1a14eb['insertBefore'](_0x84cd9c,_0x1a14eb[_0x58e2bd(0x126)](_0x58e2bd(0x90)));}function hexToRgba(_0x555353,_0xfa5863){const _0x9a3e70=a3_0xdd7bd2;let _0xbadd34;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x9a3e70(0x12d)](_0x555353))return _0xbadd34=_0x555353[_0x9a3e70(0x80)](0x1)[_0x9a3e70(0x9e)](''),_0xbadd34[_0x9a3e70(0xea)]==0x3&&(_0xbadd34=[_0xbadd34[0x0],_0xbadd34[0x0],_0xbadd34[0x1],_0xbadd34[0x1],_0xbadd34[0x2],_0xbadd34[0x2]]),_0xbadd34='0x'+_0xbadd34[_0x9a3e70(0x72)](''),_0x9a3e70(0x14d)+[_0xbadd34>>0x10&0xff,_0xbadd34>>0x8&0xff,_0xbadd34&0xff][_0x9a3e70(0x72)](',')+','+_0xfa5863+')';return _0x9a3e70(0xc6)+_0xfa5863+')';}let confirmResolver=null;function showCustomConfirm(_0x22e101,_0x32652b,_0x355997=!![]){const _0xbd72bf=a3_0xdd7bd2;document[_0xbd72bf(0x116)](_0xbd72bf(0x108))[_0xbd72bf(0x14f)]=_0x22e101,document[_0xbd72bf(0x116)](_0xbd72bf(0xb2))[_0xbd72bf(0x14f)]=_0x32652b;const _0x25717c=document[_0xbd72bf(0x116)](_0xbd72bf(0x131));return _0x355997?(_0x25717c[_0xbd72bf(0x10f)][_0xbd72bf(0xdb)]=_0xbd72bf(0x125),_0x25717c[_0xbd72bf(0x10f)][_0xbd72bf(0xed)]=_0xbd72bf(0x138)):(_0x25717c[_0xbd72bf(0x10f)]['color']=_0xbd72bf(0xa8),_0x25717c[_0xbd72bf(0x10f)]['fontWeight']=_0xbd72bf(0x138)),new Promise(_0x301f4e=>{const _0x1be2b2=_0xbd72bf;confirmResolver=_0x301f4e,document[_0x1be2b2(0x116)](_0x1be2b2(0x145))[_0x1be2b2(0x115)][_0x1be2b2(0x85)](_0x1be2b2(0xc0));});}function resolveCustomConfirm(_0x4fbbc4){const _0x5a09df=a3_0xdd7bd2;document[_0x5a09df(0x116)](_0x5a09df(0x145))[_0x5a09df(0x115)][_0x5a09df(0xcf)](_0x5a09df(0xc0));if(confirmResolver)confirmResolver(_0x4fbbc4);}async function tryCancelCurrentSession(){const _0x265364=a3_0xdd7bd2;if(!currentSession)return;const _0x1df129=await showCustomConfirm(_0x265364(0x95),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x1df129)return;const _0x165453=currentSession;closeAllSheets(),sessions=sessions[_0x265364(0x13f)](_0x47fb5f=>_0x47fb5f['id']!==_0x165453['id']),reRenderBlocks(),showToast(_0x265364(0xb7)),lastUserActionTime=Date['now']();try{const _0x4762fd=window[_0x265364(0x135)]?.[_0x265364(0x9d)],_0x3fec32=await fetch(API_URL,{'method':'POST','body':JSON[_0x265364(0x15c)]({'action':_0x265364(0xcc),'init_data':_0x4762fd?.[_0x265364(0xe8)]||'','coachId':_0x165453[_0x265364(0x13d)],'dateStr':_0x165453[_0x265364(0xe1)],'sessionId':_0x165453['id']})});if(_0x3fec32['ok'])DataManager[_0x265364(0x148)]();}catch(_0x24902c){showToast(_0x265364(0x96));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1d2add=a3_0xdd7bd2;if(!currentSession)return;document[_0x1d2add(0x116)]('detailsSheet')[_0x1d2add(0x115)][_0x1d2add(0xcf)](_0x1d2add(0xbb)),document[_0x1d2add(0x116)]('rescheduleSheet')[_0x1d2add(0x115)][_0x1d2add(0x85)](_0x1d2add(0xbb));const _0x29f670=document['getElementById'](_0x1d2add(0xf6)),_0x3914ae=document['getElementById'](_0x1d2add(0x159));_0x29f670[_0x1d2add(0x12e)]='',_0x3914ae[_0x1d2add(0x12e)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0xe44ac6,_0x25be1b]=currentSession[_0x1d2add(0x112)][_0x1d2add(0x9e)](':')[_0x1d2add(0x120)](Number),[_0x54f95a,_0x129a3f]=currentSession['end']['split'](':')[_0x1d2add(0x120)](Number),_0x883ad6=_0x54f95a*0x3c+_0x129a3f-(_0xe44ac6*0x3c+_0x25be1b);try{const _0x3289aa=window[_0x1d2add(0x135)]?.[_0x1d2add(0x9d)],_0x1f2be8=await fetch(API_URL,{'method':_0x1d2add(0x147),'body':JSON['stringify']({'action':_0x1d2add(0x98),'coachId':currentSession[_0x1d2add(0x13d)],'duration':_0x883ad6,'init_data':_0x3289aa?.[_0x1d2add(0xe8)]||'','excludeSessionId':currentSession['id']})}),_0x3bf9c2=await _0x1f2be8[_0x1d2add(0x14e)]();_0x3bf9c2['ok']&&_0x3bf9c2[_0x1d2add(0x110)]?(availableSlotsCache=_0x3bf9c2[_0x1d2add(0x110)],renderRescheduleDates()):_0x3914ae[_0x1d2add(0x12e)]=_0x1d2add(0x124);}catch(_0x48699b){_0x3914ae[_0x1d2add(0x12e)]=_0x1d2add(0xd3);}}function renderRescheduleDates(){const _0x52b0cf=a3_0xdd7bd2,_0x15d51e=document[_0x52b0cf(0x116)](_0x52b0cf(0xf6));_0x15d51e['innerHTML']='';const _0x38c24d=Object[_0x52b0cf(0x73)](availableSlotsCache)['sort'](),_0x264ba6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x38c24d[_0x52b0cf(0xea)]===0x0){document[_0x52b0cf(0x116)](_0x52b0cf(0x159))[_0x52b0cf(0x12e)]=_0x52b0cf(0xec);return;}_0x38c24d[_0x52b0cf(0x123)]((_0x444a5d,_0x24a377)=>{const _0x17e3b6=_0x52b0cf,_0x5e852d=new Date(_0x444a5d),_0x541af0=_0x264ba6[_0x5e852d[_0x17e3b6(0x130)]()],_0x4e9f7b=_0x5e852d['getDate'](),_0x1ea280=document[_0x17e3b6(0xe3)](_0x17e3b6(0x13e));_0x1ea280[_0x17e3b6(0xad)]=_0x17e3b6(0xc2);if(_0x24a377===0x0)_0x1ea280[_0x17e3b6(0x115)][_0x17e3b6(0x85)](_0x17e3b6(0xf4));_0x1ea280['innerHTML']=_0x17e3b6(0x150)+_0x541af0+_0x17e3b6(0xd6)+_0x4e9f7b+_0x17e3b6(0x14a),_0x1ea280[_0x17e3b6(0x84)]=()=>selectRsDate(_0x444a5d,_0x1ea280),_0x15d51e[_0x17e3b6(0xbf)](_0x1ea280);}),selectRsDate(_0x38c24d[0x0],_0x15d51e[_0x52b0cf(0x114)]);}function selectRsDate(_0x46c931,_0x5dc22a){const _0x10558e=a3_0xdd7bd2;selectedRsDate=_0x46c931,document[_0x10558e(0x91)](_0x10558e(0xeb))[_0x10558e(0x123)](_0x24a8cf=>_0x24a8cf[_0x10558e(0x115)][_0x10558e(0xcf)](_0x10558e(0xf4)));if(_0x5dc22a)_0x5dc22a[_0x10558e(0x115)][_0x10558e(0x85)]('active');const _0x4cad45=document['getElementById'](_0x10558e(0x159));_0x4cad45[_0x10558e(0x12e)]='';const _0x455b7a=availableSlotsCache[_0x46c931]||[];if(_0x455b7a['length']===0x0){_0x4cad45['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x455b7a[_0x10558e(0x123)](_0x50ee7e=>{const _0x18f9e6=_0x10558e,_0x3c62f4=document[_0x18f9e6(0xe3)](_0x18f9e6(0x103));_0x3c62f4[_0x18f9e6(0xad)]=_0x18f9e6(0xa6),_0x3c62f4['textContent']=_0x50ee7e,_0x3c62f4['onclick']=()=>confirmReschedule(_0x50ee7e),_0x4cad45[_0x18f9e6(0xbf)](_0x3c62f4);});}function a3_0x960a(){const _0x29abbc=['search','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','initData','stopPropagation','length','.rs-date-chip','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','fontWeight','day-off-overlay\x20stripe-bg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toast','setBackgroundColor','scrollWidth','timeColumn','active','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rsDatesTrack','initDataUnsafe','<div\x20class=\x22dch-day\x22>','user','13116032AHbwub','apply','getHours','getMinutes','toUpperCase','setItem','push','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','onClick','button','parse','14346700sIbbOw','substr','v9.5-CLIENT-ANALYTICS','ccTitle','status','none','error','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20status-completed','style','data','anPercent','start','sort','firstChild','classList','getElementById','syncLoad','4190zksxKw','backgroundColor','</span>\x20/\x20','pattern','client_load','getFullYear','uc_client_sessions','analyticsList','map','week','5757135tzFhhz','forEach','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','#ff453a','querySelector','.day-col-header','top','show','findIndex','anTotalStats','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','test','innerHTML','gridColumns','getDay','ccYesBtn','data-day-idx','cid','isArray','Telegram','client-stat-card','settings','600','49sFtNVK','clientWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyticsSheet','coachId','div','filter','find','anCustomDates','cancelled','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','now','customConfirm','borderLeftColor','POST','saveLocally','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</div>','4876MluOOd','var(--acc-blue)','rgba(','json','textContent','<div\x20class=\x22rs-day-name\x22>','getAttribute','offsetLeft','addEventListener','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','–∑–∞\x20','today','setMonth','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rsSlotsGrid','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','stringify','applyData','matrixViewport','all','numeric','headerMonth','end','block','done','timeLineBadge','strokeDashoffset','setHours','#050505','uc_client_list','min','clientId','day-column\x20','globalTimeLine','join','keys','cancelContainer','ru-RU','blocked-range-part\x20stripe-bg','router.html','.day-col-header[data-date=\x22','px\x200px','data-date','loadLocal','time-label','offsetWidth','\x20-\x20','BackButton','substring','day-col-header\x20','var(--acc-green)','11sRWJHG','onclick','add','.sheet','detailsSheet','display','scrollTop','setAttribute','getMonth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','long','calc(','233123sRVhdR','.day-column','querySelectorAll','cancel_window','scrollTo','charAt','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','colIndex','get_slots','px\x20-','DOMContentLoaded','mini','constructor','WebApp','split','anEnd','ranges','exceptions','getItem','anStart','href','setHeaderColor','rs-time-btn','calendar','#0a84ff','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','zIndex','max','disableVerticalSwipes','className','completed',':00</span>','\x20–∏–∑\x20','<span>','ccText','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','month','%\x20+\x202px)','offClick','–û—Ç–º–µ–Ω–µ–Ω–æ','5170770bsVpGo','getDate','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','open','1034502GoVdaK','clients','toString','appendChild','visible','2ptRFDB','rs-date-chip','padStart','createDocumentFragment','anDonutCircle','rgba(10,\x20132,\x20255,\x20','toLocaleDateString','.btn-cancel','log','detTime','detStatus','client_cancel','detNote','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','remove','slice','Error\x20setting\x20back\x20button:','value','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','T23:59:59','</div><div\x20class=\x22rs-day-num\x22>','\x20—á.','daysHeaderTrack','then','total','color','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getTime','event-card','setDate','coach_profiles','dateStr','.btn-reschedule','createElement','custom','height'];a3_0x960a=function(){return _0x29abbc;};return a3_0x960a();}async function confirmReschedule(_0x3314e6){const _0x2b1fb4=a3_0xdd7bd2,_0x26d663=new Date(selectedRsDate),_0x254bd3=_0x26d663['toLocaleDateString'](_0x2b1fb4(0x75),{'day':_0x2b1fb4(0x160),'month':_0x2b1fb4(0x8d)}),_0x247531=await showCustomConfirm(_0x2b1fb4(0xb3),_0x2b1fb4(0x143)+_0x254bd3+'\x20–≤\x20'+_0x3314e6+'?',![]);if(!_0x247531)return;closeAllSheets(),showToast(_0x2b1fb4(0xba)),lastUserActionTime=Date[_0x2b1fb4(0x144)]();const _0x14ce3b=currentSession[_0x2b1fb4(0xe1)],_0x22c6e8=currentSession['id'],[_0x53e359,_0x4f9654]=currentSession[_0x2b1fb4(0x112)]['split'](':')[_0x2b1fb4(0x120)](Number),[_0x1a7cfe,_0x574f22]=currentSession[_0x2b1fb4(0x162)]['split'](':')[_0x2b1fb4(0x120)](Number),_0x3b15e8=_0x1a7cfe*0x3c+_0x574f22-(_0x53e359*0x3c+_0x4f9654),[_0x1f9e14,_0x1c39bf]=_0x3314e6[_0x2b1fb4(0x9e)](':')['map'](Number),_0x46311a=_0x1f9e14*0x3c+_0x1c39bf+_0x3b15e8,_0x598797=Math['floor'](_0x46311a/0x3c),_0x27d8ed=_0x46311a%0x3c,_0x16e337=String(_0x598797)[_0x2b1fb4(0xc3)](0x2,'0')+':'+String(_0x27d8ed)['padStart'](0x2,'0'),_0x32b612=sessions[_0x2b1fb4(0x12a)](_0x2d1f5a=>_0x2d1f5a['id']===_0x22c6e8);_0x32b612!==-0x1&&(sessions[_0x32b612]['dateStr']=selectedRsDate,sessions[_0x32b612][_0x2b1fb4(0x112)]=_0x3314e6,sessions[_0x32b612][_0x2b1fb4(0x162)]=_0x16e337,reRenderBlocks());try{const _0x2e6bdd=window[_0x2b1fb4(0x135)]?.[_0x2b1fb4(0x9d)],_0x38b474=await fetch(API_URL,{'method':_0x2b1fb4(0x147),'body':JSON[_0x2b1fb4(0x15c)]({'action':'reschedule','init_data':_0x2e6bdd?.[_0x2b1fb4(0xe8)]||'','oldSessionId':_0x22c6e8,'oldDate':_0x14ce3b,'newDate':selectedRsDate,'newTime':_0x3314e6,'coachId':currentSession[_0x2b1fb4(0x13d)]})}),_0x693898=await _0x38b474['json']();!_0x693898['ok']?(showToast(_0x2b1fb4(0xa9)),DataManager[_0x2b1fb4(0x117)]()):(showToast(_0x2b1fb4(0x154)),DataManager[_0x2b1fb4(0x148)]());}catch(_0x4bf145){showToast(_0x2b1fb4(0x96));}}document['addEventListener'](a3_0xdd7bd2(0x9a),init);