const a3_0x41de47=a3_0x3d9e;(function(_0x2c6409,_0x49f00d){const _0x359649=a3_0x3d9e,_0x25202f=_0x2c6409();while(!![]){try{const _0x1a4a09=-parseInt(_0x359649(0x2bb))/0x1+-parseInt(_0x359649(0x20e))/0x2*(parseInt(_0x359649(0x29e))/0x3)+-parseInt(_0x359649(0x2a6))/0x4+-parseInt(_0x359649(0x209))/0x5*(-parseInt(_0x359649(0x2b1))/0x6)+-parseInt(_0x359649(0x297))/0x7*(-parseInt(_0x359649(0x233))/0x8)+-parseInt(_0x359649(0x2bf))/0x9+parseInt(_0x359649(0x271))/0xa;if(_0x1a4a09===_0x49f00d)break;else _0x25202f['push'](_0x25202f['shift']());}catch(_0xb664b2){_0x25202f['push'](_0x25202f['shift']());}}}(a3_0x8698,0x4cd7d));const APP_VERSION=a3_0x41de47(0x25a),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x41de47(0x221),KEY_CLIENTS=a3_0x41de47(0x283);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x41de47(0x257),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2ebaaa=a3_0x41de47,_0x19189a=(function(){let _0x1d39c5=!![];return function(_0x800efa,_0x3b722f){const _0x365590=_0x1d39c5?function(){const _0xb7318=a3_0x3d9e;if(_0x3b722f){const _0xef0b05=_0x3b722f[_0xb7318(0x26b)](_0x800efa,arguments);return _0x3b722f=null,_0xef0b05;}}:function(){};return _0x1d39c5=![],_0x365590;};}()),_0x22e8fa=_0x19189a(this,function(){const _0x480fc1=a3_0x3d9e;return _0x22e8fa[_0x480fc1(0x231)]()[_0x480fc1(0x1ee)](_0x480fc1(0x2d9))[_0x480fc1(0x231)]()[_0x480fc1(0x2ba)](_0x22e8fa)[_0x480fc1(0x1ee)]('(((.+)+)+)+$');});_0x22e8fa();try{const _0x3a6daa=window[_0x2ebaaa(0x29f)]?.[_0x2ebaaa(0x2a0)];if(!_0x3a6daa)return;_0x3a6daa['ready'](),_0x3a6daa[_0x2ebaaa(0x23a)]();try{_0x3a6daa[_0x2ebaaa(0x2d3)](_0x2ebaaa(0x2c5)),_0x3a6daa['setBackgroundColor']&&_0x3a6daa[_0x2ebaaa(0x2aa)]('#050505');}catch(_0x192737){console['log']('Error\x20setting\x20color:',_0x192737);}try{_0x3a6daa[_0x2ebaaa(0x2dd)]&&(_0x3a6daa['BackButton'][_0x2ebaaa(0x218)](),_0x3a6daa['BackButton']['offClick'](),_0x3a6daa[_0x2ebaaa(0x2dd)][_0x2ebaaa(0x2df)](function(){const _0x3528a3=_0x2ebaaa;window[_0x3528a3(0x255)]['href']=_0x3528a3(0x24b);}));}catch(_0x1b552f){console[_0x2ebaaa(0x2ac)]('Error\x20setting\x20back\x20button:',_0x1b552f);}try{if(_0x3a6daa['disableVerticalSwipes'])_0x3a6daa[_0x2ebaaa(0x280)]();}catch(_0x14ab4e){}}catch(_0x337d0d){console['error']('Critical\x20TMA\x20Error:',_0x337d0d);}}());function isAdmin(){const _0x4dd61e=a3_0x41de47;try{const _0x1050c7=Number(window[_0x4dd61e(0x29f)]?.['WebApp']?.['initDataUnsafe']?.[_0x4dd61e(0x275)]?.['id']);return _0x1050c7===0xbaf7174;}catch(_0x9a21a2){return![];}}const DataManager={'saveLocally'(){const _0x3d43cd=a3_0x41de47;try{localStorage[_0x3d43cd(0x2d6)](KEY_SESSIONS,JSON[_0x3d43cd(0x279)](sessions)),localStorage[_0x3d43cd(0x2d6)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3d43cd(0x2d6)](KEY_SETTINGS,JSON[_0x3d43cd(0x279)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3c7bf2){}},'loadLocal'(){const _0x3f280f=a3_0x41de47;try{const _0x5248a2=localStorage['getItem'](KEY_SESSIONS);if(_0x5248a2)sessions=JSON['parse'](_0x5248a2);const _0x57b6fe=localStorage['getItem'](KEY_CLIENTS);if(_0x57b6fe)clients=JSON[_0x3f280f(0x2dc)](_0x57b6fe);const _0x2341c9=localStorage[_0x3f280f(0x1f3)](KEY_SETTINGS);if(_0x2341c9){const _0x4c34df=JSON[_0x3f280f(0x2dc)](_0x2341c9);if(_0x4c34df[_0x3f280f(0x242)])availabilityPattern=_0x4c34df[_0x3f280f(0x242)];if(_0x4c34df[_0x3f280f(0x25c)])specialRanges=_0x4c34df['ranges'];if(_0x4c34df['exceptions'])dateExceptions=_0x4c34df[_0x3f280f(0x2a8)];}}catch(_0x29da5e){}},async 'syncLoad'(){const _0x3cea13=a3_0x41de47,_0x4aece6=new Date(),_0x596d1d=_0x4aece6[_0x3cea13(0x29c)]()+'-'+String(_0x4aece6[_0x3cea13(0x234)]()+0x1)[_0x3cea13(0x214)](0x2,'0'),_0x5c430c=new Date(_0x4aece6);_0x5c430c['setMonth'](_0x4aece6[_0x3cea13(0x234)]()+0x1);const _0x338b6b=_0x5c430c[_0x3cea13(0x29c)]()+'-'+String(_0x5c430c[_0x3cea13(0x234)]()+0x1)[_0x3cea13(0x214)](0x2,'0'),_0xa3c660=Date[_0x3cea13(0x282)]();try{const _0x14f70d=window[_0x3cea13(0x29f)]?.[_0x3cea13(0x2a0)],_0x1add9a=_0x14f70d?.[_0x3cea13(0x25b)]||'',[_0x4c679f,_0x501781]=await Promise['all']([fetch(API_URL,{'method':_0x3cea13(0x26d),'body':JSON[_0x3cea13(0x279)]({'action':_0x3cea13(0x287),'init_data':_0x1add9a,'month_str':_0x596d1d})})[_0x3cea13(0x2d0)](_0x409ad4=>_0x409ad4['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x3cea13(0x279)]({'action':'client_load','init_data':_0x1add9a,'month_str':_0x338b6b})})[_0x3cea13(0x2d0)](_0x2cf968=>_0x2cf968[_0x3cea13(0x277)]())]);if(lastUserActionTime>_0xa3c660){console[_0x3cea13(0x2ac)](_0x3cea13(0x26a));return;}if(_0x4c679f['ok'])this[_0x3cea13(0x1f1)](_0x4c679f[_0x3cea13(0x25e)],_0x596d1d);if(_0x501781['ok'])this[_0x3cea13(0x1f1)](_0x501781['data'],_0x338b6b);this[_0x3cea13(0x2c4)]();}catch(_0x163891){}},'applyData'(_0x5ecd77,_0x339f6d){const _0x58e446=a3_0x41de47;if(!_0x5ecd77)return;if(_0x5ecd77[_0x58e446(0x2ab)]){if(_0x5ecd77[_0x58e446(0x2ab)][_0x58e446(0x242)])availabilityPattern=_0x5ecd77['settings']['pattern'];if(_0x5ecd77['settings'][_0x58e446(0x25c)])specialRanges=_0x5ecd77[_0x58e446(0x2ab)]['ranges'];if(_0x5ecd77[_0x58e446(0x2ab)][_0x58e446(0x2a8)])dateExceptions=_0x5ecd77[_0x58e446(0x2ab)][_0x58e446(0x2a8)];}if(_0x5ecd77[_0x58e446(0x226)]&&Array[_0x58e446(0x22e)](_0x5ecd77[_0x58e446(0x226)]))clients=_0x5ecd77[_0x58e446(0x226)];_0x5ecd77[_0x58e446(0x241)]&&(coachProfiles={...coachProfiles,..._0x5ecd77[_0x58e446(0x241)]}),_0x5ecd77['calendar']&&(sessions=sessions[_0x58e446(0x22c)](_0x3d4921=>!_0x3d4921[_0x58e446(0x229)][_0x58e446(0x252)](_0x339f6d)),Object[_0x58e446(0x1f9)](_0x5ecd77[_0x58e446(0x27f)])[_0x58e446(0x2a4)](_0x5dad79=>{const _0x75080c=_0x58e446,_0x3eabff=_0x5ecd77[_0x75080c(0x27f)][_0x5dad79];_0x3eabff[_0x75080c(0x2a4)](_0x591c9b=>{const _0x18236b=_0x75080c;sessions[_0x18236b(0x2c3)]({'id':_0x591c9b['i'],'clientId':_0x591c9b['c'],'coachId':_0x591c9b[_0x18236b(0x220)],'dateStr':_0x339f6d+'-'+_0x5dad79[_0x18236b(0x214)](0x2,'0'),'start':_0x591c9b['s'],'end':_0x591c9b['e'],'note':_0x591c9b['n']||'','status':_0x591c9b['st']||_0x18236b(0x2c8),'seriesId':_0x591c9b[_0x18236b(0x22d)]});});})),reRenderBlocks();}};function init(){const _0xe9a8de=a3_0x41de47;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xe9a8de(0x28d)](_0xe9a8de(0x1ff))[_0xe9a8de(0x2b5)](_0xe9a8de(0x201),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x4d3f69=a3_0x41de47,_0xf0661d=document[_0x4d3f69(0x28d)](_0x4d3f69(0x266)),_0x12ab8c=document['getElementById'](_0x4d3f69(0x2b4));_0xf0661d[_0x4d3f69(0x238)]='',_0xf0661d[_0x4d3f69(0x2db)](_0x12ab8c);for(let _0x15eeec=0x0;_0x15eeec<0x18;_0x15eeec++){const _0x2c9239=document['createElement'](_0x4d3f69(0x21c));_0x2c9239[_0x4d3f69(0x2cf)]='time-label';if(_0x15eeec>0x0)_0x2c9239['innerHTML']='<span>'+String(_0x15eeec)['padStart'](0x2,'0')+_0x4d3f69(0x272);_0xf0661d['appendChild'](_0x2c9239);}}function renderDayRange(_0x49a85a,_0x8f7f5f){const _0x2e0d3c=a3_0x41de47,_0x853cdf=document[_0x2e0d3c(0x28d)](_0x2e0d3c(0x2a1)),_0x54271a=document[_0x2e0d3c(0x28d)](_0x2e0d3c(0x206)),_0x3c186a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47727e=new Date();_0x47727e[_0x2e0d3c(0x281)](0x0,0x0,0x0,0x0);const _0x27f8c2=getLocalDateStr(new Date());for(let _0x408284=_0x49a85a;_0x408284<=_0x8f7f5f;_0x408284++){const _0x8b95d6=new Date(_0x47727e);_0x8b95d6[_0x2e0d3c(0x295)](_0x8b95d6['getDate']()+_0x408284);const _0x541764=getLocalDateStr(_0x8b95d6);let _0x2a7617=_0x8b95d6['getDay']()-0x1;if(_0x2a7617===-0x1)_0x2a7617=0x6;const _0xbd5d15=_0x541764===_0x27f8c2,_0x2693a7=document['createElement'](_0x2e0d3c(0x21c));_0x2693a7[_0x2e0d3c(0x2cf)]=_0x2e0d3c(0x27a)+(_0xbd5d15?'today':''),_0x2693a7[_0x2e0d3c(0x2e1)]('data-date',_0x541764),_0x2693a7[_0x2e0d3c(0x238)]=_0x2e0d3c(0x2d7)+_0x3c186a[_0x2a7617]+_0x2e0d3c(0x2ae)+_0x8b95d6[_0x2e0d3c(0x261)]()+'</div>',_0x853cdf['appendChild'](_0x2693a7);const _0x5134a2=document[_0x2e0d3c(0x260)](_0x2e0d3c(0x21c));_0x5134a2[_0x2e0d3c(0x2cf)]=_0x2e0d3c(0x2c7)+(_0xbd5d15?_0x2e0d3c(0x244):''),_0x5134a2[_0x2e0d3c(0x2e1)]('data-date',_0x541764),_0x5134a2[_0x2e0d3c(0x2e1)]('data-day-idx',_0x2a7617),_0x54271a[_0x2e0d3c(0x2db)](_0x5134a2);}}function reRenderBlocks(){document['querySelectorAll']('.day-column')['forEach'](_0x5d7b67=>{const _0x2c171c=a3_0x3d9e;_0x5d7b67['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2c171c(0x2a4)](_0x2d5c89=>_0x2d5c89[_0x2c171c(0x2b0)]());const _0x4a10a0=_0x5d7b67[_0x2c171c(0x274)](_0x2c171c(0x2b2)),_0xff8fd=parseInt(_0x5d7b67[_0x2c171c(0x274)]('data-day-idx')),_0x4247ce=Math[_0x2c171c(0x21e)](_0x5d7b67[_0x2c171c(0x205)]);(availabilityPattern[_0xff8fd]||[])[_0x2c171c(0x2a4)](_0x21b6ba=>{const _0x2cf2e=_0x2c171c,_0x3b2660=document[_0x2cf2e(0x260)](_0x2cf2e(0x21c));_0x3b2660['className']=_0x2cf2e(0x2c1),_0x3b2660[_0x2cf2e(0x24a)][_0x2cf2e(0x1f6)]=_0x21b6ba*GRID_H+'px',_0x3b2660[_0x2cf2e(0x24a)][_0x2cf2e(0x216)]='-'+_0x4247ce+_0x2cf2e(0x2b3)+_0x21b6ba*GRID_H+'px',_0x5d7b67[_0x2cf2e(0x2db)](_0x3b2660);});if(specialRanges['length']>0x0){const _0x22bdca=new Date(_0x4a10a0+_0x2c171c(0x290))[_0x2c171c(0x208)](),_0x3da5c3=new Date(_0x4a10a0+_0x2c171c(0x2a2))[_0x2c171c(0x208)]();specialRanges[_0x2c171c(0x2a4)](_0x18e93b=>{const _0x444528=_0x2c171c,_0x5d146d=new Date(_0x18e93b[_0x444528(0x2ce)])['getTime'](),_0x1ec9f7=new Date(_0x18e93b['end'])['getTime'](),_0x5e7c8b=Math['max'](_0x22bdca,_0x5d146d),_0x4d411c=Math[_0x444528(0x267)](_0x3da5c3,_0x1ec9f7);if(_0x5e7c8b<_0x4d411c){const _0x423205=(_0x5e7c8b-_0x22bdca)/0x36ee80*GRID_H,_0x578383=(_0x4d411c-_0x5e7c8b)/0x36ee80*GRID_H,_0x53c482=document[_0x444528(0x260)](_0x444528(0x21c));_0x578383>=23.5*GRID_H?(_0x53c482['className']='day-off-overlay\x20stripe-bg',_0x53c482[_0x444528(0x24a)][_0x444528(0x216)]='-'+_0x4247ce+_0x444528(0x296)):(_0x53c482[_0x444528(0x2cf)]='blocked-range-part\x20stripe-bg',_0x53c482[_0x444528(0x24a)][_0x444528(0x1f6)]=_0x423205+'px',_0x53c482[_0x444528(0x24a)][_0x444528(0x256)]=_0x578383+'px',_0x53c482['style']['backgroundPosition']='-'+_0x4247ce+_0x444528(0x2b3)+_0x423205+'px'),_0x5d7b67[_0x444528(0x2db)](_0x53c482);}});}renderEventsForColumn(_0x5d7b67,_0x4a10a0);});}function renderEventsForColumn(_0x19cf53,_0x12f6fa){const _0x3b865a=a3_0x41de47,_0x4ea6ed=sessions[_0x3b865a(0x22c)](_0x389eba=>_0x389eba['dateStr']===_0x12f6fa),_0x5695b1=_0x4ea6ed[_0x3b865a(0x251)](_0x1eb6ed=>{const _0x2d89b5=_0x3b865a,[_0x24e73f,_0x42a779]=_0x1eb6ed[_0x2d89b5(0x2ce)][_0x2d89b5(0x20a)](':')[_0x2d89b5(0x251)](Number),[_0x30a561,_0x1e8d5d]=_0x1eb6ed[_0x2d89b5(0x23b)]['split'](':')['map'](Number);return{'data':_0x1eb6ed,'start':_0x24e73f*0x3c+_0x42a779,'end':_0x30a561*0x3c+_0x1e8d5d,'colIndex':0x0};});_0x5695b1[_0x3b865a(0x1fd)]((_0x2fc1f7,_0x5df444)=>_0x2fc1f7[_0x3b865a(0x2ce)]-_0x5df444[_0x3b865a(0x2ce)]||_0x5df444[_0x3b865a(0x23b)]-_0x5df444[_0x3b865a(0x2ce)]-(_0x2fc1f7[_0x3b865a(0x23b)]-_0x2fc1f7['start']));const _0x371028=[];_0x5695b1[_0x3b865a(0x2a4)](_0x1255d4=>{const _0x5c2ded=_0x3b865a;let _0x16e4cb=![];for(let _0x418ef5=0x0;_0x418ef5<_0x371028[_0x5c2ded(0x235)];_0x418ef5++){const _0x2d4627=_0x371028[_0x418ef5];if(_0x1255d4[_0x5c2ded(0x2ce)]>=_0x2d4627[_0x2d4627[_0x5c2ded(0x235)]-0x1][_0x5c2ded(0x23b)]){_0x2d4627['push'](_0x1255d4),_0x1255d4[_0x5c2ded(0x1f2)]=_0x418ef5,_0x16e4cb=!![];break;}}!_0x16e4cb&&(_0x371028['push']([_0x1255d4]),_0x1255d4['colIndex']=_0x371028[_0x5c2ded(0x235)]-0x1);}),_0x5695b1[_0x3b865a(0x2a4)](_0x4f4ba8=>{const _0x2f91b3=_0x3b865a;let _0x47b155=0x0;_0x5695b1['forEach'](_0xe471a8=>{const _0x552921=a3_0x3d9e;if(Math[_0x552921(0x2cb)](_0x4f4ba8['start'],_0xe471a8['start'])<Math['min'](_0x4f4ba8['end'],_0xe471a8['end'])&&_0xe471a8['colIndex']>_0x47b155)_0x47b155=_0xe471a8[_0x552921(0x1f2)];});const _0x3be0a7=_0x47b155+0x1,_0x4cbef4=0x64/_0x3be0a7,_0x494b18=_0x4f4ba8[_0x2f91b3(0x1f2)]*_0x4cbef4,_0x40fd59=document['createElement'](_0x2f91b3(0x21c)),_0xfbc7be=_0x4f4ba8['data'];let _0x1bd482='#0a84ff';if(clients&&clients[_0x2f91b3(0x235)]>0x0){const _0x59039a=clients[_0x2f91b3(0x250)](_0x2d03fd=>String(_0x2d03fd['id'])===String(_0xfbc7be['clientId']));if(_0x59039a&&_0x59039a[_0x2f91b3(0x24d)])_0x1bd482=_0x59039a['color'];}const _0x16d89f=_0xfbc7be['status']==='completed',_0x1a51a6=_0x16d89f?0x1:0.45;_0x40fd59[_0x2f91b3(0x2cf)]=_0x2f91b3(0x28f)+(_0x16d89f?_0x2f91b3(0x232):''),_0x40fd59[_0x2f91b3(0x24a)][_0x2f91b3(0x22a)]=hexToRgba(_0x1bd482,_0x1a51a6),_0x40fd59[_0x2f91b3(0x24a)]['borderLeftColor']=_0x1bd482;const _0x45c54a=_0x4f4ba8[_0x2f91b3(0x2ce)]/0x3c*GRID_H,_0x1b77aa=(_0x4f4ba8[_0x2f91b3(0x23b)]-_0x4f4ba8['start'])/0x3c*GRID_H;_0x40fd59['style'][_0x2f91b3(0x1f6)]=_0x45c54a+'px',_0x40fd59[_0x2f91b3(0x24a)][_0x2f91b3(0x256)]=Math[_0x2f91b3(0x2cb)](_0x1b77aa,0x14)+'px',_0x40fd59['style'][_0x2f91b3(0x289)]='calc('+_0x4cbef4+_0x2f91b3(0x2ad),_0x40fd59['style'][_0x2f91b3(0x2e2)]='calc('+_0x494b18+_0x2f91b3(0x2a5),_0x40fd59[_0x2f91b3(0x24a)]['zIndex']=0xa+_0x4f4ba8[_0x2f91b3(0x1f2)];if(_0x4cbef4<0x55)_0x40fd59[_0x2f91b3(0x288)][_0x2f91b3(0x284)]('mini');let _0x919563='';if(_0xfbc7be[_0x2f91b3(0x2bd)])_0x919563+=_0x2f91b3(0x239);if(_0x16d89f)_0x919563+=_0x2f91b3(0x1f4);_0x40fd59[_0x2f91b3(0x238)]=_0x2f91b3(0x227)+_0xfbc7be[_0x2f91b3(0x2ce)]+_0x2f91b3(0x20f)+_0xfbc7be['end']+_0x2f91b3(0x27e)+_0x919563+_0x2f91b3(0x2b6),_0x40fd59[_0x2f91b3(0x212)]=_0x19b5c9=>{_0x19b5c9['stopPropagation'](),openDetails(_0xfbc7be);},_0x19cf53[_0x2f91b3(0x2db)](_0x40fd59);});}function openAnalytics(){const _0x5406e9=a3_0x41de47,_0x4c9c4d=document[_0x5406e9(0x258)](_0x5406e9(0x1fb));setAnalyticsPeriod(_0x5406e9(0x257),_0x4c9c4d),openSheet(_0x5406e9(0x299));}function setAnalyticsPeriod(_0x17ffc8,_0x191257){const _0x4ed3a7=a3_0x41de47;currentAnPeriod=_0x17ffc8,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x4ed3a7(0x2a4)](_0x1c2007=>_0x1c2007[_0x4ed3a7(0x288)]['remove'](_0x4ed3a7(0x22b)));if(_0x191257)_0x191257[_0x4ed3a7(0x288)][_0x4ed3a7(0x284)](_0x4ed3a7(0x22b));const _0x4bca5b=document[_0x4ed3a7(0x28d)](_0x4ed3a7(0x2b8));_0x4bca5b[_0x4ed3a7(0x24a)][_0x4ed3a7(0x2c0)]=_0x17ffc8===_0x4ed3a7(0x273)?_0x4ed3a7(0x230):'none';const _0x1951e7=new Date();let _0x32a14a=new Date(),_0x5b682e=new Date();if(_0x17ffc8==='week')_0x32a14a=getStartOfWeek(_0x1951e7),_0x5b682e=new Date(_0x32a14a),_0x5b682e[_0x4ed3a7(0x295)](_0x5b682e[_0x4ed3a7(0x261)]()+0x6);else{if(_0x17ffc8===_0x4ed3a7(0x2c9))_0x32a14a=new Date(_0x1951e7[_0x4ed3a7(0x29c)](),_0x1951e7[_0x4ed3a7(0x234)](),0x1),_0x5b682e=new Date(_0x1951e7[_0x4ed3a7(0x29c)](),_0x1951e7['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x4ed3a7(0x20d))['value']&&(document[_0x4ed3a7(0x28d)]('anStart')[_0x4ed3a7(0x25d)]=getLocalDateStr(_0x1951e7),document[_0x4ed3a7(0x28d)](_0x4ed3a7(0x28c))[_0x4ed3a7(0x25d)]=getLocalDateStr(_0x1951e7));refreshAnalytics();return;}}document[_0x4ed3a7(0x28d)](_0x4ed3a7(0x20d))['value']=getLocalDateStr(_0x32a14a),document['getElementById'](_0x4ed3a7(0x28c))['value']=getLocalDateStr(_0x5b682e),refreshAnalytics();}function refreshAnalytics(){const _0x31ceb7=a3_0x41de47,_0x1d991f=document[_0x31ceb7(0x28d)](_0x31ceb7(0x20d))[_0x31ceb7(0x25d)],_0x5af54d=document[_0x31ceb7(0x28d)](_0x31ceb7(0x28c))[_0x31ceb7(0x25d)];if(!_0x1d991f||!_0x5af54d)return;const _0x26ba56=sessions['filter'](_0x286cec=>_0x286cec[_0x31ceb7(0x229)]>=_0x1d991f&&_0x286cec[_0x31ceb7(0x229)]<=_0x5af54d&&_0x286cec[_0x31ceb7(0x1f7)]!==_0x31ceb7(0x247)),_0x53cdcc=_0x26ba56['length'],_0x3e73f9=_0x26ba56['filter'](_0x1a7e16=>_0x1a7e16['status']===_0x31ceb7(0x228))[_0x31ceb7(0x235)],_0x3f7acd=_0x53cdcc>0x0?Math[_0x31ceb7(0x21e)](_0x3e73f9/_0x53cdcc*0x64):0x0;document[_0x31ceb7(0x28d)](_0x31ceb7(0x2cd))['textContent']=_0x3f7acd+'%',document[_0x31ceb7(0x28d)]('anTotalStats')[_0x31ceb7(0x24e)]=_0x3e73f9+_0x31ceb7(0x269)+_0x53cdcc+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x5c1448=document[_0x31ceb7(0x28d)](_0x31ceb7(0x27c)),_0x1eaf0c=0x2*Math['PI']*0x23,_0x17d4bb=_0x1eaf0c-_0x3f7acd/0x64*_0x1eaf0c;_0x5c1448[_0x31ceb7(0x24a)][_0x31ceb7(0x2af)]=_0x17d4bb;const _0x1294de={};_0x26ba56[_0x31ceb7(0x2a4)](_0x1059f3=>{const _0xd21ea6=_0x31ceb7,_0x39efb1=_0x1059f3[_0xd21ea6(0x28a)]||'Unknown';if(!_0x1294de[_0x39efb1]){const _0x35af35='#'+_0x39efb1[_0xd21ea6(0x231)]()[_0xd21ea6(0x248)](0x0,0x6);_0x1294de[_0x39efb1]={'total':0x0,'done':0x0,'color':_0x35af35};}_0x1294de[_0x39efb1][_0xd21ea6(0x2d4)]++;if(_0x1059f3['status']===_0xd21ea6(0x228))_0x1294de[_0x39efb1]['done']++;});const _0x19b428=document['getElementById'](_0x31ceb7(0x2e3));_0x19b428[_0x31ceb7(0x238)]='';const _0x4843aa=Object[_0x31ceb7(0x268)](_0x1294de)[_0x31ceb7(0x1fd)]((_0x1dbb56,_0x47f13e)=>_0x47f13e[0x1][_0x31ceb7(0x2d4)]-_0x1dbb56[0x1][_0x31ceb7(0x2d4)]);if(_0x4843aa['length']===0x0){_0x19b428[_0x31ceb7(0x238)]=_0x31ceb7(0x22f);return;}_0x4843aa[_0x31ceb7(0x2a4)](([_0x35b3cb,_0x31f817])=>{const _0x4a5e74=_0x31ceb7,_0x3b6ada=Math[_0x4a5e74(0x21e)](_0x31f817[_0x4a5e74(0x262)]/_0x31f817[_0x4a5e74(0x2d4)]*0x64),_0x3f38a1=document[_0x4a5e74(0x260)](_0x4a5e74(0x21c));_0x3f38a1[_0x4a5e74(0x2cf)]=_0x4a5e74(0x225),_0x3f38a1[_0x4a5e74(0x24a)][_0x4a5e74(0x24c)]=_0x31f817[_0x4a5e74(0x24d)],_0x3f38a1[_0x4a5e74(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x35b3cb[_0x4a5e74(0x248)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x31f817['done']+'</span>\x20/\x20'+_0x31f817[_0x4a5e74(0x2d4)]+_0x4a5e74(0x292)+_0x3b6ada+_0x4a5e74(0x200),_0x19b428['appendChild'](_0x3f38a1);});}function openDetails(_0x5c40c9){const _0x38dfff=a3_0x41de47;currentSession=_0x5c40c9;const _0x34c42d=new Date(_0x5c40c9['dateStr']),_0x1b7f5c=_0x34c42d[_0x38dfff(0x2bc)](_0x38dfff(0x243),{'weekday':_0x38dfff(0x1f8),'day':_0x38dfff(0x23c),'month':_0x38dfff(0x1f8)});document[_0x38dfff(0x28d)]('detDate')['textContent']=_0x1b7f5c[_0x38dfff(0x25f)](0x0)[_0x38dfff(0x26f)]()+_0x1b7f5c[_0x38dfff(0x207)](0x1),document[_0x38dfff(0x28d)](_0x38dfff(0x217))[_0x38dfff(0x24e)]=_0x5c40c9[_0x38dfff(0x2ce)]+_0x38dfff(0x20f)+_0x5c40c9[_0x38dfff(0x23b)],document[_0x38dfff(0x28d)]('detNote')[_0x38dfff(0x24e)]=_0x5c40c9[_0x38dfff(0x253)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x2c3775=document[_0x38dfff(0x28d)](_0x38dfff(0x1fe)),_0x4767b8=document[_0x38dfff(0x28d)](_0x38dfff(0x293)),_0x5ae945=_0x4767b8['querySelector'](_0x38dfff(0x254)),_0x169673=_0x4767b8[_0x38dfff(0x258)]('.btn-reschedule'),_0x2ddf88=document[_0x38dfff(0x28d)]('cancelHint');if(_0x5c40c9['status']===_0x38dfff(0x228))_0x2c3775[_0x38dfff(0x24e)]=_0x38dfff(0x1f5),_0x2c3775[_0x38dfff(0x24a)][_0x38dfff(0x24d)]='var(--acc-green)',_0x4767b8[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]=_0x38dfff(0x2a7);else{_0x2c3775[_0x38dfff(0x24e)]=_0x38dfff(0x202),_0x2c3775[_0x38dfff(0x24a)][_0x38dfff(0x24d)]=_0x38dfff(0x2b7),_0x4767b8['style'][_0x38dfff(0x2c0)]=_0x38dfff(0x263);const _0x3fec21=new Date(_0x5c40c9[_0x38dfff(0x229)]+'T'+_0x5c40c9[_0x38dfff(0x2ce)]),_0x710f0=new Date(),_0x5b2e86=(_0x3fec21-_0x710f0)/(0x3e8*0x3c*0x3c),_0x63cd1c=coachProfiles[_0x5c40c9[_0x38dfff(0x28a)]]&&coachProfiles[_0x5c40c9[_0x38dfff(0x28a)]][_0x38dfff(0x20c)]?parseInt(coachProfiles[_0x5c40c9[_0x38dfff(0x28a)]][_0x38dfff(0x20c)]):0x18;if(_0x63cd1c===0x0||_0x5b2e86>=_0x63cd1c)_0x5ae945[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]=_0x38dfff(0x263),_0x169673[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]=_0x38dfff(0x263),_0x2ddf88[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]=_0x38dfff(0x2a7);else{_0x5ae945[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]='none',_0x169673[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]='none',_0x2ddf88[_0x38dfff(0x24a)][_0x38dfff(0x2c0)]='block';let _0x33afe7=_0x63cd1c===0x0?_0x38dfff(0x246):_0x38dfff(0x2e7)+_0x63cd1c+_0x38dfff(0x2a3);_0x2ddf88['textContent']=_0x38dfff(0x2e6)+_0x33afe7+_0x38dfff(0x21b);}}document[_0x38dfff(0x28d)](_0x38dfff(0x298))[_0x38dfff(0x288)][_0x38dfff(0x284)](_0x38dfff(0x22b)),document[_0x38dfff(0x28d)]('detailsSheet')[_0x38dfff(0x288)][_0x38dfff(0x284)]('open');}function closeAllSheets(){const _0x30982d=a3_0x41de47;document['getElementById'](_0x30982d(0x298))[_0x30982d(0x288)][_0x30982d(0x2b0)](_0x30982d(0x22b)),document[_0x30982d(0x211)]('.sheet')[_0x30982d(0x2a4)](_0x469121=>_0x469121[_0x30982d(0x288)][_0x30982d(0x2b0)](_0x30982d(0x2ca)));}function openSheet(_0x114be0){const _0x295375=a3_0x41de47;document[_0x295375(0x28d)](_0x295375(0x298))[_0x295375(0x288)][_0x295375(0x284)](_0x295375(0x22b)),document[_0x295375(0x28d)](_0x114be0)[_0x295375(0x288)][_0x295375(0x284)](_0x295375(0x2ca));}function getLocalDateStr(_0x446dbd){const _0x337c26=a3_0x41de47,_0x285f4b=_0x446dbd[_0x337c26(0x29c)](),_0x2a4120=String(_0x446dbd[_0x337c26(0x234)]()+0x1)[_0x337c26(0x214)](0x2,'0'),_0x41e056=String(_0x446dbd[_0x337c26(0x261)]())['padStart'](0x2,'0');return _0x285f4b+'-'+_0x2a4120+'-'+_0x41e056;}function getStartOfWeek(_0xf24bff){const _0x4a7890=a3_0x41de47,_0xaa9b39=new Date(_0xf24bff),_0x2d2a27=_0xaa9b39[_0x4a7890(0x219)](),_0x4f629a=_0xaa9b39['getDate']()-_0x2d2a27+(_0x2d2a27===0x0?-0x6:0x1);return _0xaa9b39[_0x4a7890(0x295)](_0x4f629a),_0xaa9b39[_0x4a7890(0x281)](0x0,0x0,0x0,0x0),_0xaa9b39;}function a3_0x3d9e(_0x4bd38c,_0x6e2598){_0x4bd38c=_0x4bd38c-0x1ee;const _0xd48521=a3_0x8698();let _0x4c9664=_0xd48521[_0x4bd38c];return _0x4c9664;}function scrollToToday(){const _0x559cf2=getLocalDateStr(new Date());setTimeout(()=>{const _0x18e8e5=a3_0x3d9e,_0x58cc30=document[_0x18e8e5(0x258)](_0x18e8e5(0x204)+_0x559cf2+'\x22]');if(_0x58cc30){const _0x211db1=document['getElementById'](_0x18e8e5(0x1ff)),_0x3e0a74=_0x58cc30['offsetLeft']-_0x211db1[_0x18e8e5(0x2da)]/0x2+_0x58cc30[_0x18e8e5(0x23f)]/0x2;_0x211db1['scrollTo']({'left':_0x3e0a74,'behavior':_0x18e8e5(0x224)}),_0x211db1[_0x18e8e5(0x2d8)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x138c05=a3_0x41de47,_0x3a0454=new Date(),_0x51d204=document[_0x138c05(0x28d)](_0x138c05(0x2d5)),_0x3a165e=document[_0x138c05(0x28d)]('timeLineBadge'),_0xb56d19=(_0x3a0454[_0x138c05(0x237)]()*0x3c+_0x3a0454['getMinutes']())/0x3c*GRID_H;_0x51d204[_0x138c05(0x24a)]['top']=_0xb56d19+'px',_0x51d204[_0x138c05(0x24a)][_0x138c05(0x2c0)]=_0x138c05(0x263),_0x3a165e[_0x138c05(0x24a)]['top']=_0xb56d19+'px',_0x3a165e['style'][_0x138c05(0x2c0)]=_0x138c05(0x263),_0x3a165e[_0x138c05(0x24e)]=String(_0x3a0454[_0x138c05(0x237)]())[_0x138c05(0x214)](0x2,'0')+':'+String(_0x3a0454[_0x138c05(0x2de)]())[_0x138c05(0x214)](0x2,'0');}function onScroll(){const _0x1c5977=a3_0x41de47,_0x59c1b9=document[_0x1c5977(0x28d)]('matrixViewport'),_0x3cb0ef=document[_0x1c5977(0x211)](_0x1c5977(0x26e));for(let _0x30046b of _0x3cb0ef)if(_0x30046b[_0x1c5977(0x205)]>=_0x59c1b9[_0x1c5977(0x264)]){const _0x5469cb=new Date(_0x30046b['getAttribute']('data-date'));document['getElementById'](_0x1c5977(0x2e0))[_0x1c5977(0x24e)]=_0x5469cb[_0x1c5977(0x2cc)]('ru',{'month':_0x1c5977(0x1f8)})['toUpperCase']()+'\x20'+_0x5469cb['getFullYear']();break;}}function showToast(_0x4394b4){const _0xea7fb7=a3_0x41de47,_0x126b83=document[_0xea7fb7(0x28d)](_0xea7fb7(0x285));_0x126b83[_0xea7fb7(0x24e)]=_0x4394b4,_0x126b83['classList'][_0xea7fb7(0x284)](_0xea7fb7(0x218)),setTimeout(()=>_0x126b83[_0xea7fb7(0x288)][_0xea7fb7(0x2b0)](_0xea7fb7(0x218)),0x7d0);}function handleInfiniteScroll(){const _0x17c471=a3_0x41de47,_0x24c1f8=document[_0x17c471(0x28d)](_0x17c471(0x1ff)),_0x557381=_0x24c1f8[_0x17c471(0x264)],_0x108367=_0x24c1f8[_0x17c471(0x223)],_0x184a96=_0x24c1f8[_0x17c471(0x2da)];if(_0x108367-(_0x557381+_0x184a96)<0x12c){const _0xf2e01=endOffset;endOffset+=0xe,renderDayRange(_0xf2e01+0x1,endOffset),reRenderBlocks();}if(_0x557381<0x12c){const _0x2e1838=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2e1838-0x1),_0x24c1f8[_0x17c471(0x264)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x57cdb3,_0x8f8785){const _0x432a73=a3_0x41de47,_0xefd2bb=document[_0x432a73(0x28d)](_0x432a73(0x2a1)),_0x389f3d=document[_0x432a73(0x28d)](_0x432a73(0x206)),_0x11b367=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x215c5e=new Date();_0x215c5e[_0x432a73(0x281)](0x0,0x0,0x0,0x0);const _0xe3d06c=getLocalDateStr(new Date()),_0x51fcff=document[_0x432a73(0x23e)](),_0x51238=document[_0x432a73(0x23e)]();for(let _0x4989c8=_0x57cdb3;_0x4989c8<=_0x8f8785;_0x4989c8++){const _0x77adf4=new Date(_0x215c5e);_0x77adf4[_0x432a73(0x295)](_0x77adf4[_0x432a73(0x261)]()+_0x4989c8);const _0x348f79=getLocalDateStr(_0x77adf4);let _0x11161c=_0x77adf4[_0x432a73(0x219)]()-0x1;if(_0x11161c===-0x1)_0x11161c=0x6;const _0x4049c3=_0x348f79===_0xe3d06c,_0x2b7b03=document[_0x432a73(0x260)](_0x432a73(0x21c));_0x2b7b03[_0x432a73(0x2cf)]=_0x432a73(0x27a)+(_0x4049c3?_0x432a73(0x244):''),_0x2b7b03[_0x432a73(0x2e1)]('data-date',_0x348f79),_0x2b7b03[_0x432a73(0x238)]='<div\x20class=\x22dch-day\x22>'+_0x11b367[_0x11161c]+_0x432a73(0x2ae)+_0x77adf4[_0x432a73(0x261)]()+_0x432a73(0x29d),_0x51fcff[_0x432a73(0x2db)](_0x2b7b03);const _0x562d7a=document[_0x432a73(0x260)](_0x432a73(0x21c));_0x562d7a[_0x432a73(0x2cf)]='day-column\x20'+(_0x4049c3?'today':''),_0x562d7a[_0x432a73(0x2e1)](_0x432a73(0x2b2),_0x348f79),_0x562d7a[_0x432a73(0x2e1)](_0x432a73(0x28b),_0x11161c),_0x51238[_0x432a73(0x2db)](_0x562d7a);}_0xefd2bb[_0x432a73(0x2d1)](_0x51fcff,_0xefd2bb['firstChild']),_0x389f3d['insertBefore'](_0x51238,_0x389f3d[_0x432a73(0x258)](_0x432a73(0x2d2)));}function hexToRgba(_0x3c7c7b,_0x51108f){const _0x377fe0=a3_0x41de47;let _0x399e21;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x377fe0(0x1fc)](_0x3c7c7b))return _0x399e21=_0x3c7c7b['substring'](0x1)['split'](''),_0x399e21[_0x377fe0(0x235)]==0x3&&(_0x399e21=[_0x399e21[0x0],_0x399e21[0x0],_0x399e21[0x1],_0x399e21[0x1],_0x399e21[0x2],_0x399e21[0x2]]),_0x399e21='0x'+_0x399e21[_0x377fe0(0x240)](''),_0x377fe0(0x291)+[_0x399e21>>0x10&0xff,_0x399e21>>0x8&0xff,_0x399e21&0xff]['join'](',')+','+_0x51108f+')';return'rgba(10,\x20132,\x20255,\x20'+_0x51108f+')';}let confirmResolver=null;function showCustomConfirm(_0xf688c,_0x51876b,_0x42f1df=!![]){const _0x2565d9=a3_0x41de47;document[_0x2565d9(0x28d)](_0x2565d9(0x270))['textContent']=_0xf688c,document['getElementById'](_0x2565d9(0x222))[_0x2565d9(0x24e)]=_0x51876b;const _0x2ff7a2=document[_0x2565d9(0x28d)](_0x2565d9(0x259));return _0x42f1df?(_0x2ff7a2['style'][_0x2565d9(0x24d)]=_0x2565d9(0x210),_0x2ff7a2[_0x2565d9(0x24a)]['fontWeight']=_0x2565d9(0x20b)):(_0x2ff7a2['style'][_0x2565d9(0x24d)]=_0x2565d9(0x28e),_0x2ff7a2[_0x2565d9(0x24a)][_0x2565d9(0x203)]=_0x2565d9(0x20b)),new Promise(_0x1e5f18=>{const _0x3b82e0=_0x2565d9;confirmResolver=_0x1e5f18,document[_0x3b82e0(0x28d)](_0x3b82e0(0x29b))[_0x3b82e0(0x288)][_0x3b82e0(0x284)](_0x3b82e0(0x29a));});}function resolveCustomConfirm(_0x1dae08){const _0x325447=a3_0x41de47;document[_0x325447(0x28d)](_0x325447(0x29b))['classList']['remove'](_0x325447(0x29a));if(confirmResolver)confirmResolver(_0x1dae08);}async function tryCancelCurrentSession(){const _0x61b047=a3_0x41de47;if(!currentSession)return;const _0x47fbff=await showCustomConfirm(_0x61b047(0x276),_0x61b047(0x27b),!![]);if(!_0x47fbff)return;const _0x20ae25=currentSession;closeAllSheets(),sessions=sessions[_0x61b047(0x22c)](_0x79a9b9=>_0x79a9b9['id']!==_0x20ae25['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x61b047(0x282)]();try{const _0xba10ad=window['Telegram']?.[_0x61b047(0x2a0)],_0x4bd724=await fetch(API_URL,{'method':_0x61b047(0x26d),'body':JSON[_0x61b047(0x279)]({'action':_0x61b047(0x2c2),'init_data':_0xba10ad?.[_0x61b047(0x25b)]||'','coachId':_0x20ae25[_0x61b047(0x28a)],'dateStr':_0x20ae25[_0x61b047(0x229)],'sessionId':_0x20ae25['id']})});if(_0x4bd724['ok'])DataManager['saveLocally']();}catch(_0x1ecee1){showToast(_0x61b047(0x21a));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5399ae=a3_0x41de47;if(!currentSession)return;document[_0x5399ae(0x28d)](_0x5399ae(0x1ef))['classList']['remove'](_0x5399ae(0x2ca)),document[_0x5399ae(0x28d)](_0x5399ae(0x2e4))['classList'][_0x5399ae(0x284)](_0x5399ae(0x2ca));const _0x22e4de=document[_0x5399ae(0x28d)](_0x5399ae(0x24f)),_0x241914=document[_0x5399ae(0x28d)](_0x5399ae(0x1f0));_0x22e4de[_0x5399ae(0x238)]='',_0x241914[_0x5399ae(0x238)]=_0x5399ae(0x294);const [_0x266974,_0xc4a3d5]=currentSession[_0x5399ae(0x2ce)][_0x5399ae(0x20a)](':')[_0x5399ae(0x251)](Number),[_0x16682f,_0x2f7cdf]=currentSession[_0x5399ae(0x23b)][_0x5399ae(0x20a)](':')[_0x5399ae(0x251)](Number),_0x4e4195=_0x16682f*0x3c+_0x2f7cdf-(_0x266974*0x3c+_0xc4a3d5);try{const _0xe218c4=window[_0x5399ae(0x29f)]?.['WebApp'],_0x3838bb=await fetch(API_URL,{'method':_0x5399ae(0x26d),'body':JSON['stringify']({'action':_0x5399ae(0x2e5),'coachId':currentSession[_0x5399ae(0x28a)],'duration':_0x4e4195,'init_data':_0xe218c4?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x59e2e3=await _0x3838bb['json']();_0x59e2e3['ok']&&_0x59e2e3['data']?(availableSlotsCache=_0x59e2e3[_0x5399ae(0x25e)],renderRescheduleDates()):_0x241914[_0x5399ae(0x238)]=_0x5399ae(0x21d);}catch(_0x23aaf9){_0x241914[_0x5399ae(0x238)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function a3_0x8698(){const _0x46e966=['json','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','stringify','day-col-header\x20','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','anDonutCircle','</div><div\x20class=\x22rs-day-num\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','disableVerticalSwipes','setHours','now','uc_client_list','add','toast','.rs-date-chip','client_load','classList','width','coachId','data-day-idx','anEnd','getElementById','#0a84ff','event-card','T00:00:00','rgba(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','cancelContainer','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setDate','px\x200px','203DbDFdn','overlay','analyticsSheet','visible','customConfirm','getFullYear','</div>','550323PudjUu','Telegram','WebApp','daysHeaderTrack','T23:59:59','\x20—á.','forEach','%\x20+\x202px)','1027480esQlOd','none','exceptions','syncLoad','setBackgroundColor','settings','log','%\x20-\x204px)','</div><div\x20class=\x22dch-num\x22>','strokeDashoffset','remove','1074834LLBQOF','data-date','px\x20-','timeLineBadge','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','var(--acc-blue)','anCustomDates','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','constructor','382186WczLrW','toLocaleDateString','seriesId','reschedule','1911375yoNyEu','display','blocked-slot\x20stripe-bg','client_cancel','push','saveLocally','#050505','DOMContentLoaded','day-column\x20','planned','month','open','max','toLocaleString','anPercent','start','className','then','insertBefore','.day-column','setHeaderColor','total','globalTimeLine','setItem','<div\x20class=\x22dch-day\x22>','scrollTop','(((.+)+)+)+$','clientWidth','appendChild','parse','BackButton','getMinutes','onClick','headerMonth','setAttribute','left','analyticsList','rescheduleSheet','get_slots','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–∑–∞\x20','search','detailsSheet','rsSlotsGrid','applyData','colIndex','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','top','status','long','keys','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','.period-switch\x20.p-btn','test','sort','detStatus','matrixViewport','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scroll','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','fontWeight','.day-col-header[data-date=\x22','offsetLeft','gridColumns','slice','getTime','10gJKqGU','split','600','cancel_window','anStart','2cXocvk','\x20-\x20','#ff453a','querySelectorAll','onclick','rs-time-btn','padStart','firstChild','backgroundPosition','detTime','show','getDay','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','div','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','round','findIndex','cid','uc_client_settings','ccText','scrollWidth','auto','client-stat-card','clients','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','completed','dateStr','backgroundColor','active','filter','sid','isArray','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','flex','toString','\x20status-completed','87672OhaPzY','getMonth','length','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','getHours','innerHTML','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','expand','end','numeric','<div\x20class=\x22rs-day-name\x22>','createDocumentFragment','offsetWidth','join','coach_profiles','pattern','ru-RU','today','rs-date-chip','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','cancelled','substr','floor','style','router.html','borderLeftColor','color','textContent','rsDatesTrack','find','map','startsWith','note','.btn-cancel','location','height','week','querySelector','ccYesBtn','v9.5-CLIENT-ANALYTICS','initData','ranges','value','data','charAt','createElement','getDate','done','block','scrollLeft','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','timeColumn','min','entries','\x20–∏–∑\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','apply','\x20–≤\x20','POST','.day-col-header','toUpperCase','ccTitle','6735320jvNDZA',':00</span>','custom','getAttribute','user','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏'];a3_0x8698=function(){return _0x46e966;};return a3_0x8698();}function renderRescheduleDates(){const _0x348295=a3_0x41de47,_0x3068f9=document['getElementById'](_0x348295(0x24f));_0x3068f9[_0x348295(0x238)]='';const _0x4a2d12=Object[_0x348295(0x1f9)](availableSlotsCache)[_0x348295(0x1fd)](),_0x5bd474=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4a2d12[_0x348295(0x235)]===0x0){document[_0x348295(0x28d)]('rsSlotsGrid')[_0x348295(0x238)]=_0x348295(0x265);return;}_0x4a2d12[_0x348295(0x2a4)]((_0xc4f98,_0x776afc)=>{const _0x3b3d5e=_0x348295,_0xbb74ab=new Date(_0xc4f98),_0x3b130b=_0x5bd474[_0xbb74ab[_0x3b3d5e(0x219)]()],_0x20d220=_0xbb74ab[_0x3b3d5e(0x261)](),_0x33960c=document[_0x3b3d5e(0x260)]('div');_0x33960c[_0x3b3d5e(0x2cf)]=_0x3b3d5e(0x245);if(_0x776afc===0x0)_0x33960c['classList'][_0x3b3d5e(0x284)](_0x3b3d5e(0x22b));_0x33960c[_0x3b3d5e(0x238)]=_0x3b3d5e(0x23d)+_0x3b130b+_0x3b3d5e(0x27d)+_0x20d220+_0x3b3d5e(0x29d),_0x33960c[_0x3b3d5e(0x212)]=()=>selectRsDate(_0xc4f98,_0x33960c),_0x3068f9[_0x3b3d5e(0x2db)](_0x33960c);}),selectRsDate(_0x4a2d12[0x0],_0x3068f9[_0x348295(0x215)]);}function selectRsDate(_0x46b950,_0x20eb34){const _0x53c596=a3_0x41de47;selectedRsDate=_0x46b950,document['querySelectorAll'](_0x53c596(0x286))[_0x53c596(0x2a4)](_0x26a15b=>_0x26a15b[_0x53c596(0x288)][_0x53c596(0x2b0)](_0x53c596(0x22b)));if(_0x20eb34)_0x20eb34[_0x53c596(0x288)][_0x53c596(0x284)](_0x53c596(0x22b));const _0x12bde1=document[_0x53c596(0x28d)](_0x53c596(0x1f0));_0x12bde1[_0x53c596(0x238)]='';const _0x3df559=availableSlotsCache[_0x46b950]||[];if(_0x3df559[_0x53c596(0x235)]===0x0){_0x12bde1[_0x53c596(0x238)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3df559[_0x53c596(0x2a4)](_0x573817=>{const _0x23273f=_0x53c596,_0x101483=document['createElement']('button');_0x101483['className']=_0x23273f(0x213),_0x101483[_0x23273f(0x24e)]=_0x573817,_0x101483['onclick']=()=>confirmReschedule(_0x573817),_0x12bde1[_0x23273f(0x2db)](_0x101483);});}async function confirmReschedule(_0x5ab8bf){const _0x2c2068=a3_0x41de47,_0x34bef7=new Date(selectedRsDate),_0x3f4a55=_0x34bef7[_0x2c2068(0x2bc)](_0x2c2068(0x243),{'day':_0x2c2068(0x23c),'month':'long'}),_0x271b4d=await showCustomConfirm(_0x2c2068(0x2b9),_0x2c2068(0x236)+_0x3f4a55+_0x2c2068(0x26c)+_0x5ab8bf+'?',![]);if(!_0x271b4d)return;closeAllSheets(),showToast(_0x2c2068(0x1fa)),lastUserActionTime=Date[_0x2c2068(0x282)]();const _0x78f1f8=currentSession[_0x2c2068(0x229)],_0x108ef3=currentSession['id'],[_0xc58719,_0xa28e70]=currentSession[_0x2c2068(0x2ce)][_0x2c2068(0x20a)](':')['map'](Number),[_0x42b0be,_0x21de7d]=currentSession[_0x2c2068(0x23b)]['split'](':')['map'](Number),_0x2ce217=_0x42b0be*0x3c+_0x21de7d-(_0xc58719*0x3c+_0xa28e70),[_0x3a6dda,_0x2bc83]=_0x5ab8bf[_0x2c2068(0x20a)](':')[_0x2c2068(0x251)](Number),_0x54d52f=_0x3a6dda*0x3c+_0x2bc83+_0x2ce217,_0x4db831=Math[_0x2c2068(0x249)](_0x54d52f/0x3c),_0x4e64ce=_0x54d52f%0x3c,_0x28496b=String(_0x4db831)[_0x2c2068(0x214)](0x2,'0')+':'+String(_0x4e64ce)[_0x2c2068(0x214)](0x2,'0'),_0x51f1d7=sessions[_0x2c2068(0x21f)](_0x156456=>_0x156456['id']===_0x108ef3);_0x51f1d7!==-0x1&&(sessions[_0x51f1d7][_0x2c2068(0x229)]=selectedRsDate,sessions[_0x51f1d7]['start']=_0x5ab8bf,sessions[_0x51f1d7][_0x2c2068(0x23b)]=_0x28496b,reRenderBlocks());try{const _0x11a376=window[_0x2c2068(0x29f)]?.[_0x2c2068(0x2a0)],_0x2ca514=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2c2068(0x2be),'init_data':_0x11a376?.['initData']||'','oldSessionId':_0x108ef3,'oldDate':_0x78f1f8,'newDate':selectedRsDate,'newTime':_0x5ab8bf,'coachId':currentSession[_0x2c2068(0x28a)]})}),_0xee3786=await _0x2ca514['json']();!_0xee3786['ok']?(showToast(_0x2c2068(0x278)),DataManager[_0x2c2068(0x2a9)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2c2068(0x2c4)]());}catch(_0x44034c){showToast(_0x2c2068(0x21a));}}document[a3_0x41de47(0x2b5)](a3_0x41de47(0x2c6),init);