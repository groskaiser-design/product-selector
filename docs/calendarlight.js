const a3_0xf817b2=a3_0x52f6;(function(_0xd90798,_0xb399d5){const _0x132798=a3_0x52f6,_0x154b84=_0xd90798();while(!![]){try{const _0xf6272e=parseInt(_0x132798(0x167))/0x1+-parseInt(_0x132798(0x1be))/0x2*(parseInt(_0x132798(0x15d))/0x3)+parseInt(_0x132798(0x20b))/0x4*(-parseInt(_0x132798(0x149))/0x5)+parseInt(_0x132798(0x148))/0x6*(-parseInt(_0x132798(0x1ab))/0x7)+parseInt(_0x132798(0x1d2))/0x8+parseInt(_0x132798(0x220))/0x9+-parseInt(_0x132798(0x1c0))/0xa*(-parseInt(_0x132798(0x17e))/0xb);if(_0xf6272e===_0xb399d5)break;else _0x154b84['push'](_0x154b84['shift']());}catch(_0x2cfd46){_0x154b84['push'](_0x154b84['shift']());}}}(a3_0x1645,0x44659));const APP_VERSION=a3_0xf817b2(0x1d4),API_URL=a3_0xf817b2(0x152),GRID_H=0x3c,KEY_SESSIONS=a3_0xf817b2(0x164),KEY_SETTINGS=a3_0xf817b2(0x21b),KEY_CLIENTS=a3_0xf817b2(0x134);function a3_0x52f6(_0x367bf8,_0x3cbfef){_0x367bf8=_0x367bf8-0x126;const _0x20609a=a3_0x1645();let _0x19df98=_0x20609a[_0x367bf8];return _0x19df98;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2c9912=a3_0xf817b2,_0x212cea=(function(){let _0x13243e=!![];return function(_0x22f25d,_0x28c00c){const _0x529a12=_0x13243e?function(){const _0x1d0ea5=a3_0x52f6;if(_0x28c00c){const _0x20ed1a=_0x28c00c[_0x1d0ea5(0x142)](_0x22f25d,arguments);return _0x28c00c=null,_0x20ed1a;}}:function(){};return _0x13243e=![],_0x529a12;};}()),_0x37cf55=_0x212cea(this,function(){const _0x19433e=a3_0x52f6;return _0x37cf55[_0x19433e(0x141)]()[_0x19433e(0x13a)](_0x19433e(0x126))[_0x19433e(0x141)]()['constructor'](_0x37cf55)[_0x19433e(0x13a)](_0x19433e(0x126));});_0x37cf55();try{const _0x527d87=window['Telegram']?.['WebApp'];if(!_0x527d87)return;_0x527d87['ready'](),_0x527d87[_0x2c9912(0x130)]();try{_0x527d87['setHeaderColor'](_0x2c9912(0x14c)),_0x527d87[_0x2c9912(0x17c)]&&_0x527d87['setBackgroundColor'](_0x2c9912(0x14c));}catch(_0x13af37){console[_0x2c9912(0x204)](_0x2c9912(0x16a),_0x13af37);}try{_0x527d87[_0x2c9912(0x155)]&&(_0x527d87[_0x2c9912(0x155)][_0x2c9912(0x206)](),_0x527d87[_0x2c9912(0x155)][_0x2c9912(0x1c9)](),_0x527d87[_0x2c9912(0x155)]['onClick'](function(){const _0x7e71fa=_0x2c9912;window[_0x7e71fa(0x143)]['href']=_0x7e71fa(0x1f1);}));}catch(_0x18f6c7){console[_0x2c9912(0x204)](_0x2c9912(0x20d),_0x18f6c7);}try{if(_0x527d87[_0x2c9912(0x1bf)])_0x527d87[_0x2c9912(0x1bf)]();}catch(_0x569630){}}catch(_0xf71d63){console[_0x2c9912(0x1ec)](_0x2c9912(0x1ee),_0xf71d63);}}());function isAdmin(){const _0x4019be=a3_0xf817b2;try{const _0x3a9a8e=Number(window[_0x4019be(0x17a)]?.[_0x4019be(0x179)]?.['initDataUnsafe']?.[_0x4019be(0x168)]?.['id']);return _0x3a9a8e===0xbaf7174;}catch(_0x5f0013){return![];}}const DataManager={'saveLocally'(){const _0x3d648d=a3_0xf817b2;try{localStorage[_0x3d648d(0x20c)](KEY_SESSIONS,JSON[_0x3d648d(0x1c6)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3d648d(0x1c6)](clients)),localStorage[_0x3d648d(0x20c)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x127750){}},'loadLocal'(){const _0x117537=a3_0xf817b2;try{const _0x52ebbd=localStorage['getItem'](KEY_SESSIONS);if(_0x52ebbd)sessions=JSON[_0x117537(0x226)](_0x52ebbd);const _0x184bfe=localStorage['getItem'](KEY_CLIENTS);if(_0x184bfe)clients=JSON[_0x117537(0x226)](_0x184bfe);const _0x4700a6=localStorage[_0x117537(0x1de)](KEY_SETTINGS);if(_0x4700a6){const _0x1a1b00=JSON[_0x117537(0x226)](_0x4700a6);if(_0x1a1b00[_0x117537(0x19e)])availabilityPattern=_0x1a1b00[_0x117537(0x19e)];if(_0x1a1b00[_0x117537(0x1f8)])specialRanges=_0x1a1b00[_0x117537(0x1f8)];if(_0x1a1b00['exceptions'])dateExceptions=_0x1a1b00[_0x117537(0x18a)];}}catch(_0x3c1281){}},async 'syncLoad'(){const _0x3b1c19=a3_0xf817b2,_0x4fb75c=new Date(),_0x3c5297=_0x4fb75c[_0x3b1c19(0x162)]()+'-'+String(_0x4fb75c[_0x3b1c19(0x1e7)]()+0x1)[_0x3b1c19(0x17f)](0x2,'0'),_0x2b3eba=new Date(_0x4fb75c);_0x2b3eba[_0x3b1c19(0x19a)](_0x4fb75c[_0x3b1c19(0x1e7)]()+0x1);const _0x186f37=_0x2b3eba[_0x3b1c19(0x162)]()+'-'+String(_0x2b3eba[_0x3b1c19(0x1e7)]()+0x1)['padStart'](0x2,'0'),_0x41d665=Date[_0x3b1c19(0x1ed)]();try{const _0x40026f=window[_0x3b1c19(0x17a)]?.[_0x3b1c19(0x179)],_0x1f39fd=_0x40026f?.[_0x3b1c19(0x182)]||'',[_0x24bbcb,_0x3b0865]=await Promise[_0x3b1c19(0x12e)]([fetch(API_URL,{'method':_0x3b1c19(0x135),'body':JSON[_0x3b1c19(0x1c6)]({'action':_0x3b1c19(0x12a),'init_data':_0x1f39fd,'month_str':_0x3c5297})})[_0x3b1c19(0x184)](_0x57c1a6=>_0x57c1a6['json']()),fetch(API_URL,{'method':_0x3b1c19(0x135),'body':JSON['stringify']({'action':_0x3b1c19(0x12a),'init_data':_0x1f39fd,'month_str':_0x186f37})})['then'](_0xdddd21=>_0xdddd21['json']())]);if(lastUserActionTime>_0x41d665){console[_0x3b1c19(0x204)](_0x3b1c19(0x139));return;}if(_0x24bbcb['ok'])this['applyData'](_0x24bbcb[_0x3b1c19(0x20e)],_0x3c5297);if(_0x3b0865['ok'])this[_0x3b1c19(0x147)](_0x3b0865['data'],_0x186f37);this['saveLocally']();}catch(_0x647667){}},'applyData'(_0x1e06ea,_0x2c626a){const _0x2bbb80=a3_0xf817b2;if(!_0x1e06ea)return;if(_0x1e06ea[_0x2bbb80(0x1b1)]){if(_0x1e06ea[_0x2bbb80(0x1b1)]['pattern'])availabilityPattern=_0x1e06ea[_0x2bbb80(0x1b1)][_0x2bbb80(0x19e)];if(_0x1e06ea[_0x2bbb80(0x1b1)][_0x2bbb80(0x1f8)])specialRanges=_0x1e06ea[_0x2bbb80(0x1b1)][_0x2bbb80(0x1f8)];if(_0x1e06ea[_0x2bbb80(0x1b1)]['exceptions'])dateExceptions=_0x1e06ea['settings'][_0x2bbb80(0x18a)];}if(_0x1e06ea[_0x2bbb80(0x203)]&&Array[_0x2bbb80(0x1cb)](_0x1e06ea[_0x2bbb80(0x203)]))clients=_0x1e06ea[_0x2bbb80(0x203)];_0x1e06ea['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x1e06ea['coach_profiles']}),_0x1e06ea['calendar']&&(sessions=sessions['filter'](_0x49eda1=>!_0x49eda1[_0x2bbb80(0x146)][_0x2bbb80(0x17b)](_0x2c626a)),Object[_0x2bbb80(0x170)](_0x1e06ea[_0x2bbb80(0x128)])[_0x2bbb80(0x190)](_0x5c1a85=>{const _0x1b28d4=_0x2bbb80,_0x1ca5fc=_0x1e06ea[_0x1b28d4(0x128)][_0x5c1a85];_0x1ca5fc[_0x1b28d4(0x190)](_0x1bd1c9=>{const _0x728f1=_0x1b28d4;sessions[_0x728f1(0x1eb)]({'id':_0x1bd1c9['i'],'clientId':_0x1bd1c9['c'],'coachId':_0x1bd1c9[_0x728f1(0x173)],'dateStr':_0x2c626a+'-'+_0x5c1a85[_0x728f1(0x17f)](0x2,'0'),'start':_0x1bd1c9['s'],'end':_0x1bd1c9['e'],'note':_0x1bd1c9['n']||'','status':_0x1bd1c9['st']||_0x728f1(0x145),'seriesId':_0x1bd1c9[_0x728f1(0x202)]});});})),reRenderBlocks();}};function init(){const _0x641c77=a3_0xf817b2;DataManager[_0x641c77(0x1bb)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x641c77(0x133))[_0x641c77(0x151)](_0x641c77(0x200),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x641c77(0x166)]();}function renderTimeColumn(){const _0x267eb5=a3_0xf817b2,_0x4d53e0=document[_0x267eb5(0x1a6)](_0x267eb5(0x1d9)),_0x1df04c=document[_0x267eb5(0x1a6)](_0x267eb5(0x1da));_0x4d53e0[_0x267eb5(0x192)]='',_0x4d53e0[_0x267eb5(0x13c)](_0x1df04c);for(let _0x237ecf=0x0;_0x237ecf<0x18;_0x237ecf++){const _0x2d9d4f=document[_0x267eb5(0x1c5)](_0x267eb5(0x1db));_0x2d9d4f[_0x267eb5(0x197)]='time-label';if(_0x237ecf>0x0)_0x2d9d4f['innerHTML']='<span>'+String(_0x237ecf)[_0x267eb5(0x17f)](0x2,'0')+':00</span>';_0x4d53e0[_0x267eb5(0x13c)](_0x2d9d4f);}}function renderDayRange(_0x51d516,_0x1978e3){const _0x165424=a3_0xf817b2,_0x4b772a=document['getElementById']('daysHeaderTrack'),_0x9eaf22=document[_0x165424(0x1a6)]('gridColumns'),_0x2bf158=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5b2491=new Date();_0x5b2491[_0x165424(0x15e)](0x0,0x0,0x0,0x0);const _0x46ded3=getLocalDateStr(new Date());for(let _0xca773b=_0x51d516;_0xca773b<=_0x1978e3;_0xca773b++){const _0x2fad16=new Date(_0x5b2491);_0x2fad16['setDate'](_0x2fad16[_0x165424(0x1d6)]()+_0xca773b);const _0x50fbc5=getLocalDateStr(_0x2fad16);let _0x15cd21=_0x2fad16[_0x165424(0x172)]()-0x1;if(_0x15cd21===-0x1)_0x15cd21=0x6;const _0x48c26b=_0x50fbc5===_0x46ded3,_0xdf185e=document[_0x165424(0x1c5)]('div');_0xdf185e[_0x165424(0x197)]=_0x165424(0x1bc)+(_0x48c26b?_0x165424(0x136):''),_0xdf185e[_0x165424(0x194)](_0x165424(0x1e9),_0x50fbc5),_0xdf185e[_0x165424(0x192)]=_0x165424(0x161)+_0x2bf158[_0x15cd21]+_0x165424(0x1e8)+_0x2fad16['getDate']()+_0x165424(0x224),_0x4b772a[_0x165424(0x13c)](_0xdf185e);const _0x5c74ef=document[_0x165424(0x1c5)](_0x165424(0x1db));_0x5c74ef[_0x165424(0x197)]=_0x165424(0x1c7)+(_0x48c26b?'today':''),_0x5c74ef[_0x165424(0x194)](_0x165424(0x1e9),_0x50fbc5),_0x5c74ef[_0x165424(0x194)](_0x165424(0x21d),_0x15cd21),_0x9eaf22[_0x165424(0x13c)](_0x5c74ef);}}function reRenderBlocks(){const _0x1dafa3=a3_0xf817b2;document['querySelectorAll'](_0x1dafa3(0x1d0))['forEach'](_0x5188e5=>{const _0x18de9c=_0x1dafa3;_0x5188e5[_0x18de9c(0x19f)](_0x18de9c(0x185))[_0x18de9c(0x190)](_0xef50ef=>_0xef50ef[_0x18de9c(0x1b0)]());const _0x43f3a6=_0x5188e5['getAttribute']('data-date'),_0x4236fe=parseInt(_0x5188e5['getAttribute']('data-day-idx')),_0x3a93e7=Math[_0x18de9c(0x17d)](_0x5188e5[_0x18de9c(0x16c)]);(availabilityPattern[_0x4236fe]||[])['forEach'](_0x1cc241=>{const _0x279525=_0x18de9c,_0x1d954b=document['createElement'](_0x279525(0x1db));_0x1d954b[_0x279525(0x197)]=_0x279525(0x1c2),_0x1d954b[_0x279525(0x15b)][_0x279525(0x21e)]=_0x1cc241*GRID_H+'px',_0x1d954b['style'][_0x279525(0x1d8)]='-'+_0x3a93e7+_0x279525(0x127)+_0x1cc241*GRID_H+'px',_0x5188e5[_0x279525(0x13c)](_0x1d954b);});if(specialRanges[_0x18de9c(0x186)]>0x0){const _0x225e4a=new Date(_0x43f3a6+'T00:00:00')['getTime'](),_0x130c61=new Date(_0x43f3a6+_0x18de9c(0x183))['getTime']();specialRanges['forEach'](_0x3fc355=>{const _0x1eee85=_0x18de9c,_0x251cf9=new Date(_0x3fc355[_0x1eee85(0x223)])[_0x1eee85(0x18d)](),_0xe19ee4=new Date(_0x3fc355['end'])[_0x1eee85(0x18d)](),_0x3b622b=Math[_0x1eee85(0x14f)](_0x225e4a,_0x251cf9),_0x4a34a1=Math[_0x1eee85(0x16f)](_0x130c61,_0xe19ee4);if(_0x3b622b<_0x4a34a1){const _0x3692c1=(_0x3b622b-_0x225e4a)/0x36ee80*GRID_H,_0x254ead=(_0x4a34a1-_0x3b622b)/0x36ee80*GRID_H,_0x14188c=document[_0x1eee85(0x1c5)](_0x1eee85(0x1db));_0x254ead>=23.5*GRID_H?(_0x14188c[_0x1eee85(0x197)]=_0x1eee85(0x1c1),_0x14188c[_0x1eee85(0x15b)][_0x1eee85(0x1d8)]='-'+_0x3a93e7+_0x1eee85(0x13d)):(_0x14188c[_0x1eee85(0x197)]='blocked-range-part\x20stripe-bg',_0x14188c[_0x1eee85(0x15b)][_0x1eee85(0x21e)]=_0x3692c1+'px',_0x14188c['style']['height']=_0x254ead+'px',_0x14188c[_0x1eee85(0x15b)][_0x1eee85(0x1d8)]='-'+_0x3a93e7+_0x1eee85(0x127)+_0x3692c1+'px'),_0x5188e5[_0x1eee85(0x13c)](_0x14188c);}});}renderEventsForColumn(_0x5188e5,_0x43f3a6);});}function renderEventsForColumn(_0x3dfd27,_0x480e82){const _0x53ff49=a3_0xf817b2,_0x16acbe=sessions[_0x53ff49(0x18e)](_0x56ab42=>_0x56ab42['dateStr']===_0x480e82),_0x4cccf5=_0x16acbe[_0x53ff49(0x18b)](_0x297ebe=>{const _0x3d2ef5=_0x53ff49,[_0x55b891,_0x11a08c]=_0x297ebe[_0x3d2ef5(0x223)][_0x3d2ef5(0x15c)](':')[_0x3d2ef5(0x18b)](Number),[_0x2e5fe2,_0x575885]=_0x297ebe[_0x3d2ef5(0x21c)][_0x3d2ef5(0x15c)](':')['map'](Number);return{'data':_0x297ebe,'start':_0x55b891*0x3c+_0x11a08c,'end':_0x2e5fe2*0x3c+_0x575885,'colIndex':0x0};});_0x4cccf5[_0x53ff49(0x21f)]((_0x3f83a2,_0x1974d7)=>_0x3f83a2[_0x53ff49(0x223)]-_0x1974d7['start']||_0x1974d7[_0x53ff49(0x21c)]-_0x1974d7['start']-(_0x3f83a2[_0x53ff49(0x21c)]-_0x3f83a2[_0x53ff49(0x223)]));const _0x410b9b=[];_0x4cccf5[_0x53ff49(0x190)](_0x5497bb=>{const _0x4f2182=_0x53ff49;let _0x464e31=![];for(let _0xc11b29=0x0;_0xc11b29<_0x410b9b[_0x4f2182(0x186)];_0xc11b29++){const _0x3d8dad=_0x410b9b[_0xc11b29];if(_0x5497bb['start']>=_0x3d8dad[_0x3d8dad[_0x4f2182(0x186)]-0x1]['end']){_0x3d8dad[_0x4f2182(0x1eb)](_0x5497bb),_0x5497bb[_0x4f2182(0x205)]=_0xc11b29,_0x464e31=!![];break;}}!_0x464e31&&(_0x410b9b[_0x4f2182(0x1eb)]([_0x5497bb]),_0x5497bb[_0x4f2182(0x205)]=_0x410b9b[_0x4f2182(0x186)]-0x1);}),_0x4cccf5[_0x53ff49(0x190)](_0x565acb=>{const _0x39316d=_0x53ff49;let _0x414b02=0x0;_0x4cccf5[_0x39316d(0x190)](_0x355a54=>{const _0x2d05a3=_0x39316d;if(Math['max'](_0x565acb['start'],_0x355a54[_0x2d05a3(0x223)])<Math[_0x2d05a3(0x16f)](_0x565acb[_0x2d05a3(0x21c)],_0x355a54[_0x2d05a3(0x21c)])&&_0x355a54['colIndex']>_0x414b02)_0x414b02=_0x355a54[_0x2d05a3(0x205)];});const _0x34581a=_0x414b02+0x1,_0x15d87a=0x64/_0x34581a,_0x3108f3=_0x565acb[_0x39316d(0x205)]*_0x15d87a,_0x52861e=document[_0x39316d(0x1c5)](_0x39316d(0x1db)),_0x41c8b4=_0x565acb[_0x39316d(0x20e)];let _0x226ed2=_0x39316d(0x159);if(clients&&clients[_0x39316d(0x186)]>0x0){const _0x3d4a8a=clients['find'](_0x123296=>String(_0x123296['id'])===String(_0x41c8b4[_0x39316d(0x1a5)]));if(_0x3d4a8a&&_0x3d4a8a[_0x39316d(0x188)])_0x226ed2=_0x3d4a8a[_0x39316d(0x188)];}const _0x29877a=_0x41c8b4['status']===_0x39316d(0x1b8),_0x2237f0=_0x29877a?0x1:0.45;_0x52861e[_0x39316d(0x197)]=_0x39316d(0x1b9)+(_0x29877a?_0x39316d(0x1d5):''),_0x52861e['style'][_0x39316d(0x1a9)]=hexToRgba(_0x226ed2,_0x2237f0),_0x52861e['style'][_0x39316d(0x1dc)]=_0x226ed2;const _0x1e7808=_0x565acb[_0x39316d(0x223)]/0x3c*GRID_H,_0x11ab09=(_0x565acb[_0x39316d(0x21c)]-_0x565acb[_0x39316d(0x223)])/0x3c*GRID_H;_0x52861e[_0x39316d(0x15b)]['top']=_0x1e7808+'px',_0x52861e['style'][_0x39316d(0x1a7)]=Math[_0x39316d(0x14f)](_0x11ab09,0x14)+'px',_0x52861e[_0x39316d(0x15b)][_0x39316d(0x1c4)]=_0x39316d(0x201)+_0x15d87a+_0x39316d(0x18f),_0x52861e[_0x39316d(0x15b)][_0x39316d(0x1f7)]='calc('+_0x3108f3+'%\x20+\x202px)',_0x52861e[_0x39316d(0x15b)][_0x39316d(0x19c)]=0xa+_0x565acb[_0x39316d(0x205)];if(_0x15d87a<0x55)_0x52861e[_0x39316d(0x14d)][_0x39316d(0x12b)](_0x39316d(0x213));let _0x10115c='';if(_0x41c8b4[_0x39316d(0x1ae)])_0x10115c+=_0x39316d(0x1fb);if(_0x29877a)_0x10115c+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x52861e[_0x39316d(0x192)]=_0x39316d(0x211)+_0x41c8b4[_0x39316d(0x223)]+_0x39316d(0x157)+_0x41c8b4['end']+_0x39316d(0x20f)+_0x10115c+_0x39316d(0x13f),_0x52861e[_0x39316d(0x1a1)]=_0x53cbd7=>{_0x53cbd7['stopPropagation'](),openDetails(_0x41c8b4);},_0x3dfd27[_0x39316d(0x13c)](_0x52861e);});}function openAnalytics(){const _0x2e1bdf=a3_0xf817b2,_0x3ca775=document[_0x2e1bdf(0x137)](_0x2e1bdf(0x1e4));setAnalyticsPeriod(_0x2e1bdf(0x138),_0x3ca775),openSheet(_0x2e1bdf(0x18c));}function setAnalyticsPeriod(_0x2baac0,_0x1e7c38){const _0x15f1d7=a3_0xf817b2;currentAnPeriod=_0x2baac0,document[_0x15f1d7(0x19f)](_0x15f1d7(0x1e4))['forEach'](_0x2d334a=>_0x2d334a['classList'][_0x15f1d7(0x1b0)](_0x15f1d7(0x15f)));if(_0x1e7c38)_0x1e7c38[_0x15f1d7(0x14d)][_0x15f1d7(0x12b)]('active');const _0x21afae=document['getElementById']('anCustomDates');_0x21afae[_0x15f1d7(0x15b)]['display']=_0x2baac0===_0x15f1d7(0x1a4)?_0x15f1d7(0x175):_0x15f1d7(0x1bd);const _0x256cba=new Date();let _0x26cbd1=new Date(),_0x5f30a0=new Date();if(_0x2baac0===_0x15f1d7(0x138))_0x26cbd1=getStartOfWeek(_0x256cba),_0x5f30a0=new Date(_0x26cbd1),_0x5f30a0[_0x15f1d7(0x1a8)](_0x5f30a0['getDate']()+0x6);else{if(_0x2baac0==='month')_0x26cbd1=new Date(_0x256cba[_0x15f1d7(0x162)](),_0x256cba['getMonth'](),0x1),_0x5f30a0=new Date(_0x256cba[_0x15f1d7(0x162)](),_0x256cba[_0x15f1d7(0x1e7)]()+0x1,0x0);else{!document[_0x15f1d7(0x1a6)](_0x15f1d7(0x1d7))[_0x15f1d7(0x1b6)]&&(document[_0x15f1d7(0x1a6)](_0x15f1d7(0x1d7))[_0x15f1d7(0x1b6)]=getLocalDateStr(_0x256cba),document['getElementById'](_0x15f1d7(0x178))[_0x15f1d7(0x1b6)]=getLocalDateStr(_0x256cba));refreshAnalytics();return;}}document[_0x15f1d7(0x1a6)](_0x15f1d7(0x1d7))[_0x15f1d7(0x1b6)]=getLocalDateStr(_0x26cbd1),document['getElementById'](_0x15f1d7(0x178))['value']=getLocalDateStr(_0x5f30a0),refreshAnalytics();}function refreshAnalytics(){const _0x1f6cfe=a3_0xf817b2,_0x36eeb8=document[_0x1f6cfe(0x1a6)](_0x1f6cfe(0x1d7))[_0x1f6cfe(0x1b6)],_0x52f805=document['getElementById']('anEnd')[_0x1f6cfe(0x1b6)];if(!_0x36eeb8||!_0x52f805)return;const _0x16616d=sessions[_0x1f6cfe(0x18e)](_0x4f7be8=>_0x4f7be8['dateStr']>=_0x36eeb8&&_0x4f7be8[_0x1f6cfe(0x146)]<=_0x52f805&&_0x4f7be8['status']!==_0x1f6cfe(0x187)),_0x4fc461=_0x16616d[_0x1f6cfe(0x186)],_0x4a583f=_0x16616d[_0x1f6cfe(0x18e)](_0x331c08=>_0x331c08[_0x1f6cfe(0x160)]==='completed')[_0x1f6cfe(0x186)],_0x47d7e9=_0x4fc461>0x0?Math[_0x1f6cfe(0x17d)](_0x4a583f/_0x4fc461*0x64):0x0;document['getElementById']('anPercent')['textContent']=_0x47d7e9+'%',document[_0x1f6cfe(0x1a6)]('anTotalStats')[_0x1f6cfe(0x12c)]=_0x4a583f+_0x1f6cfe(0x1e5)+_0x4fc461+_0x1f6cfe(0x14e);const _0x15cab1=document[_0x1f6cfe(0x1a6)]('anDonutCircle'),_0x406838=0x2*Math['PI']*0x23,_0x5356d7=_0x406838-_0x47d7e9/0x64*_0x406838;_0x15cab1[_0x1f6cfe(0x15b)][_0x1f6cfe(0x1cc)]=_0x5356d7;const _0x540e70={};_0x16616d[_0x1f6cfe(0x190)](_0x432ee6=>{const _0x5d143b=_0x1f6cfe,_0x10cc68=_0x432ee6['coachId']||_0x5d143b(0x144);if(!_0x540e70[_0x10cc68]){const _0x10d7e3='#'+_0x10cc68[_0x5d143b(0x141)]()['substr'](0x0,0x6);_0x540e70[_0x10cc68]={'total':0x0,'done':0x0,'color':_0x10d7e3};}_0x540e70[_0x10cc68][_0x5d143b(0x1b4)]++;if(_0x432ee6['status']==='completed')_0x540e70[_0x10cc68][_0x5d143b(0x1fa)]++;});const _0x2bcd8f=document[_0x1f6cfe(0x1a6)](_0x1f6cfe(0x218));_0x2bcd8f[_0x1f6cfe(0x192)]='';const _0x354690=Object[_0x1f6cfe(0x1c3)](_0x540e70)['sort']((_0x5485ef,_0x3b022e)=>_0x3b022e[0x1]['total']-_0x5485ef[0x1][_0x1f6cfe(0x1b4)]);if(_0x354690[_0x1f6cfe(0x186)]===0x0){_0x2bcd8f[_0x1f6cfe(0x192)]=_0x1f6cfe(0x1ca);return;}_0x354690[_0x1f6cfe(0x190)](([_0x3985fa,_0xb442dc])=>{const _0x5e4b28=_0x1f6cfe,_0x16313e=Math['round'](_0xb442dc[_0x5e4b28(0x1fa)]/_0xb442dc['total']*0x64),_0x2e2e59=document[_0x5e4b28(0x1c5)](_0x5e4b28(0x1db));_0x2e2e59[_0x5e4b28(0x197)]=_0x5e4b28(0x1a2),_0x2e2e59['style'][_0x5e4b28(0x1dc)]=_0xb442dc[_0x5e4b28(0x188)],_0x2e2e59[_0x5e4b28(0x192)]=_0x5e4b28(0x171)+_0x3985fa[_0x5e4b28(0x16d)](0x0,0x5)+_0x5e4b28(0x13b)+_0xb442dc[_0x5e4b28(0x1fa)]+_0x5e4b28(0x1f2)+_0xb442dc['total']+_0x5e4b28(0x222)+_0x16313e+_0x5e4b28(0x208),_0x2bcd8f[_0x5e4b28(0x13c)](_0x2e2e59);});}function a3_0x1645(){const _0x38ccc1=['className','cancelContainer','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','setMonth','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','zIndex','daysHeaderTrack','pattern','querySelectorAll','–û—Ç–º–µ–Ω–µ–Ω–æ','onclick','client-stat-card','ccTitle','custom','clientId','getElementById','height','setDate','backgroundColor','scrollWidth','28wuKbvx','long','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','seriesId','headerMonth','remove','settings','display','visible','total','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','value','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','completed','event-card','clientWidth','loadLocal','day-col-header\x20','none','2WQkNJC','disableVerticalSwipes','1676510UvjCmN','day-off-overlay\x20stripe-bg','blocked-slot\x20stripe-bg','entries','width','createElement','stringify','day-column\x20','customConfirm','offClick','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','isArray','strokeDashoffset','rs-time-btn','open','detStatus','.day-column','detTime','3840624ZqqerQ','600','v9.5-CLIENT-ANALYTICS','\x20status-completed','getDate','anStart','backgroundPosition','timeColumn','timeLineBadge','div','borderLeftColor','note','getItem','.day-col-header[data-date=\x22','–∑–∞\x20','substring','ccYesBtn','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','.period-switch\x20.p-btn','\x20–∏–∑\x20','createDocumentFragment','getMonth','</div><div\x20class=\x22dch-num\x22>','data-date','test','push','error','now','Critical\x20TMA\x20Error:','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','get_slots','router.html','</span>\x20/\x20','gridColumns','detNote','insertBefore','\x20–≤\x20','left','ranges','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','done','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','charAt','rsDatesTrack','<div\x20class=\x22rs-day-name\x22>','rsSlotsGrid','scroll','calc(','sid','clients','log','colIndex','show','toast','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalTimeLine','json','5284QGxrFM','setItem','Error\x20setting\x20back\x20button:','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','toUpperCase','mini','client_cancel','join','scrollLeft','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','analyticsList','ccText','saveLocally','uc_client_settings','end','data-day-idx','top','sort','2775735OSxzJB','rgba(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','start','</div>','toLocaleDateString','parse','(((.+)+)+)+$','px\x20-','calendar','coachId','client_load','add','textContent','#ff453a','all','numeric','expand','overlay','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','matrixViewport','uc_client_list','POST','today','querySelector','week','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','search','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','appendChild','px\x200px','detailsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header','toString','apply','location','Unknown','planned','dateStr','applyData','446658uXbJQW','705obyUAq','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','.btn-reschedule','#050505','classList','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','max','findIndex','addEventListener','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rescheduleSheet','.rs-date-chip','BackButton','reschedule','\x20-\x20','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','#0a84ff','block','style','split','1412133zhCeGT','setHours','active','status','<div\x20class=\x22dch-day\x22>','getFullYear','offsetWidth','uc_client_sessions','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','syncLoad','278753sWCUMN','user','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','Error\x20setting\x20color:','rgba(10,\x20132,\x20255,\x20','offsetLeft','substr','DOMContentLoaded','min','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getDay','cid','getMinutes','flex','.sheet','ru-RU','anEnd','WebApp','Telegram','startsWith','setBackgroundColor','round','11QHxwgR','padStart','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','initData','T23:59:59','then','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','length','cancelled','color','fontWeight','exceptions','map','analyticsSheet','getTime','filter','%\x20-\x204px)','forEach','getHours','innerHTML','firstChild','setAttribute','floor','\x20—á.'];a3_0x1645=function(){return _0x38ccc1;};return a3_0x1645();}function openDetails(_0x3217f9){const _0x5e4f7a=a3_0xf817b2;currentSession=_0x3217f9;const _0x40b357=new Date(_0x3217f9[_0x5e4f7a(0x146)]),_0xba81f2=_0x40b357[_0x5e4f7a(0x225)](_0x5e4f7a(0x177),{'weekday':_0x5e4f7a(0x1ac),'day':_0x5e4f7a(0x12f),'month':'long'});document['getElementById']('detDate')[_0x5e4f7a(0x12c)]=_0xba81f2[_0x5e4f7a(0x1fc)](0x0)[_0x5e4f7a(0x212)]()+_0xba81f2['slice'](0x1),document[_0x5e4f7a(0x1a6)](_0x5e4f7a(0x1d1))[_0x5e4f7a(0x12c)]=_0x3217f9[_0x5e4f7a(0x223)]+_0x5e4f7a(0x157)+_0x3217f9['end'],document[_0x5e4f7a(0x1a6)](_0x5e4f7a(0x1f4))['textContent']=_0x3217f9[_0x5e4f7a(0x1dd)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x11a420=document[_0x5e4f7a(0x1a6)](_0x5e4f7a(0x1cf)),_0x29c3e8=document['getElementById'](_0x5e4f7a(0x198)),_0x2f03ee=_0x29c3e8[_0x5e4f7a(0x137)]('.btn-cancel'),_0x5591b8=_0x29c3e8[_0x5e4f7a(0x137)](_0x5e4f7a(0x14b)),_0x4f7773=document[_0x5e4f7a(0x1a6)]('cancelHint');if(_0x3217f9[_0x5e4f7a(0x160)]===_0x5e4f7a(0x1b8))_0x11a420[_0x5e4f7a(0x12c)]=_0x5e4f7a(0x180),_0x11a420[_0x5e4f7a(0x15b)][_0x5e4f7a(0x188)]='var(--acc-green)',_0x29c3e8['style']['display']=_0x5e4f7a(0x1bd);else{_0x11a420[_0x5e4f7a(0x12c)]=_0x5e4f7a(0x1b7),_0x11a420['style'][_0x5e4f7a(0x188)]='var(--acc-blue)',_0x29c3e8[_0x5e4f7a(0x15b)]['display']=_0x5e4f7a(0x15a);const _0x5cf9a5=new Date(_0x3217f9[_0x5e4f7a(0x146)]+'T'+_0x3217f9[_0x5e4f7a(0x223)]),_0x8c2c9a=new Date(),_0xb43941=(_0x5cf9a5-_0x8c2c9a)/(0x3e8*0x3c*0x3c),_0x48bf7e=coachProfiles[_0x3217f9[_0x5e4f7a(0x129)]]&&coachProfiles[_0x3217f9['coachId']][_0x5e4f7a(0x210)]?parseInt(coachProfiles[_0x3217f9[_0x5e4f7a(0x129)]]['cancel_window']):0x18;if(_0x48bf7e===0x0||_0xb43941>=_0x48bf7e)_0x2f03ee[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]=_0x5e4f7a(0x15a),_0x5591b8[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]='block',_0x4f7773[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]='none';else{_0x2f03ee[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]=_0x5e4f7a(0x1bd),_0x5591b8[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]=_0x5e4f7a(0x1bd),_0x4f7773[_0x5e4f7a(0x15b)][_0x5e4f7a(0x1b2)]=_0x5e4f7a(0x15a);let _0xf9a907=_0x48bf7e===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x5e4f7a(0x1e0)+_0x48bf7e+_0x5e4f7a(0x196);_0x4f7773[_0x5e4f7a(0x12c)]=_0x5e4f7a(0x158)+_0xf9a907+_0x5e4f7a(0x169);}}document[_0x5e4f7a(0x1a6)](_0x5e4f7a(0x131))[_0x5e4f7a(0x14d)][_0x5e4f7a(0x12b)](_0x5e4f7a(0x15f)),document[_0x5e4f7a(0x1a6)](_0x5e4f7a(0x13e))[_0x5e4f7a(0x14d)][_0x5e4f7a(0x12b)](_0x5e4f7a(0x1ce));}function closeAllSheets(){const _0x4ee39b=a3_0xf817b2;document[_0x4ee39b(0x1a6)](_0x4ee39b(0x131))['classList'][_0x4ee39b(0x1b0)](_0x4ee39b(0x15f)),document[_0x4ee39b(0x19f)](_0x4ee39b(0x176))[_0x4ee39b(0x190)](_0x29a64c=>_0x29a64c[_0x4ee39b(0x14d)][_0x4ee39b(0x1b0)](_0x4ee39b(0x1ce)));}function openSheet(_0x1781a6){const _0x3a89aa=a3_0xf817b2;document['getElementById'](_0x3a89aa(0x131))[_0x3a89aa(0x14d)]['add'](_0x3a89aa(0x15f)),document['getElementById'](_0x1781a6)[_0x3a89aa(0x14d)]['add']('open');}function getLocalDateStr(_0xbc4721){const _0x358762=a3_0xf817b2,_0x4793a0=_0xbc4721[_0x358762(0x162)](),_0x187e42=String(_0xbc4721['getMonth']()+0x1)[_0x358762(0x17f)](0x2,'0'),_0x51a3db=String(_0xbc4721['getDate']())['padStart'](0x2,'0');return _0x4793a0+'-'+_0x187e42+'-'+_0x51a3db;}function getStartOfWeek(_0x1c4a9c){const _0x79cf18=a3_0xf817b2,_0x20ca06=new Date(_0x1c4a9c),_0x1538b3=_0x20ca06[_0x79cf18(0x172)](),_0x653eb2=_0x20ca06[_0x79cf18(0x1d6)]()-_0x1538b3+(_0x1538b3===0x0?-0x6:0x1);return _0x20ca06[_0x79cf18(0x1a8)](_0x653eb2),_0x20ca06['setHours'](0x0,0x0,0x0,0x0),_0x20ca06;}function scrollToToday(){const _0x4b8850=getLocalDateStr(new Date());setTimeout(()=>{const _0x1eb633=a3_0x52f6,_0x38622e=document[_0x1eb633(0x137)](_0x1eb633(0x1df)+_0x4b8850+'\x22]');if(_0x38622e){const _0x584cd0=document[_0x1eb633(0x1a6)](_0x1eb633(0x133)),_0x1f97e1=_0x38622e['offsetLeft']-_0x584cd0['clientWidth']/0x2+_0x38622e[_0x1eb633(0x163)]/0x2;_0x584cd0['scrollTo']({'left':_0x1f97e1,'behavior':'auto'}),_0x584cd0['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x44fe2e=a3_0xf817b2,_0x4330b6=new Date(),_0x504061=document[_0x44fe2e(0x1a6)](_0x44fe2e(0x209)),_0x5e7485=document[_0x44fe2e(0x1a6)](_0x44fe2e(0x1da)),_0x5a0ada=(_0x4330b6[_0x44fe2e(0x191)]()*0x3c+_0x4330b6[_0x44fe2e(0x174)]())/0x3c*GRID_H;_0x504061[_0x44fe2e(0x15b)][_0x44fe2e(0x21e)]=_0x5a0ada+'px',_0x504061[_0x44fe2e(0x15b)]['display']=_0x44fe2e(0x15a),_0x5e7485['style'][_0x44fe2e(0x21e)]=_0x5a0ada+'px',_0x5e7485[_0x44fe2e(0x15b)][_0x44fe2e(0x1b2)]=_0x44fe2e(0x15a),_0x5e7485[_0x44fe2e(0x12c)]=String(_0x4330b6[_0x44fe2e(0x191)]())[_0x44fe2e(0x17f)](0x2,'0')+':'+String(_0x4330b6[_0x44fe2e(0x174)]())['padStart'](0x2,'0');}function onScroll(){const _0x3b941b=a3_0xf817b2,_0x6b7e89=document[_0x3b941b(0x1a6)]('matrixViewport'),_0x2cb61e=document['querySelectorAll'](_0x3b941b(0x140));for(let _0x50ea06 of _0x2cb61e)if(_0x50ea06[_0x3b941b(0x16c)]>=_0x6b7e89['scrollLeft']){const _0x5ba12f=new Date(_0x50ea06['getAttribute'](_0x3b941b(0x1e9)));document['getElementById'](_0x3b941b(0x1af))[_0x3b941b(0x12c)]=_0x5ba12f['toLocaleString']('ru',{'month':_0x3b941b(0x1ac)})[_0x3b941b(0x212)]()+'\x20'+_0x5ba12f[_0x3b941b(0x162)]();break;}}function showToast(_0x490400){const _0x943b75=a3_0xf817b2,_0x31fdc6=document['getElementById'](_0x943b75(0x207));_0x31fdc6['textContent']=_0x490400,_0x31fdc6[_0x943b75(0x14d)][_0x943b75(0x12b)](_0x943b75(0x206)),setTimeout(()=>_0x31fdc6[_0x943b75(0x14d)][_0x943b75(0x1b0)](_0x943b75(0x206)),0x7d0);}function handleInfiniteScroll(){const _0x528e26=a3_0xf817b2,_0x590c90=document[_0x528e26(0x1a6)](_0x528e26(0x133)),_0x5d32a8=_0x590c90['scrollLeft'],_0x1dd4ec=_0x590c90[_0x528e26(0x1aa)],_0x1b4f92=_0x590c90[_0x528e26(0x1ba)];if(_0x1dd4ec-(_0x5d32a8+_0x1b4f92)<0x12c){const _0x999165=endOffset;endOffset+=0xe,renderDayRange(_0x999165+0x1,endOffset),reRenderBlocks();}if(_0x5d32a8<0x12c){const _0x2627ed=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2627ed-0x1),_0x590c90[_0x528e26(0x216)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x46791f,_0x193f91){const _0x4f4fd3=a3_0xf817b2,_0x16ed0d=document['getElementById'](_0x4f4fd3(0x19d)),_0x5f46ba=document['getElementById'](_0x4f4fd3(0x1f3)),_0x2e8e82=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x141115=new Date();_0x141115[_0x4f4fd3(0x15e)](0x0,0x0,0x0,0x0);const _0x5d9a14=getLocalDateStr(new Date()),_0x4bfd66=document[_0x4f4fd3(0x1e6)](),_0x9e4d38=document[_0x4f4fd3(0x1e6)]();for(let _0x530ff4=_0x46791f;_0x530ff4<=_0x193f91;_0x530ff4++){const _0x4233d1=new Date(_0x141115);_0x4233d1[_0x4f4fd3(0x1a8)](_0x4233d1[_0x4f4fd3(0x1d6)]()+_0x530ff4);const _0xeab303=getLocalDateStr(_0x4233d1);let _0x249882=_0x4233d1[_0x4f4fd3(0x172)]()-0x1;if(_0x249882===-0x1)_0x249882=0x6;const _0xd050fe=_0xeab303===_0x5d9a14,_0x17a5cf=document[_0x4f4fd3(0x1c5)](_0x4f4fd3(0x1db));_0x17a5cf['className']=_0x4f4fd3(0x1bc)+(_0xd050fe?'today':''),_0x17a5cf['setAttribute'](_0x4f4fd3(0x1e9),_0xeab303),_0x17a5cf[_0x4f4fd3(0x192)]='<div\x20class=\x22dch-day\x22>'+_0x2e8e82[_0x249882]+'</div><div\x20class=\x22dch-num\x22>'+_0x4233d1[_0x4f4fd3(0x1d6)]()+_0x4f4fd3(0x224),_0x4bfd66[_0x4f4fd3(0x13c)](_0x17a5cf);const _0xc623be=document[_0x4f4fd3(0x1c5)]('div');_0xc623be['className']=_0x4f4fd3(0x1c7)+(_0xd050fe?_0x4f4fd3(0x136):''),_0xc623be['setAttribute'](_0x4f4fd3(0x1e9),_0xeab303),_0xc623be[_0x4f4fd3(0x194)](_0x4f4fd3(0x21d),_0x249882),_0x9e4d38[_0x4f4fd3(0x13c)](_0xc623be);}_0x16ed0d[_0x4f4fd3(0x1f5)](_0x4bfd66,_0x16ed0d[_0x4f4fd3(0x193)]),_0x5f46ba[_0x4f4fd3(0x1f5)](_0x9e4d38,_0x5f46ba[_0x4f4fd3(0x137)](_0x4f4fd3(0x1d0)));}function hexToRgba(_0x3690e3,_0x2a42cc){const _0x17d8f2=a3_0xf817b2;let _0x5ec9b4;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x17d8f2(0x1ea)](_0x3690e3))return _0x5ec9b4=_0x3690e3[_0x17d8f2(0x1e1)](0x1)[_0x17d8f2(0x15c)](''),_0x5ec9b4['length']==0x3&&(_0x5ec9b4=[_0x5ec9b4[0x0],_0x5ec9b4[0x0],_0x5ec9b4[0x1],_0x5ec9b4[0x1],_0x5ec9b4[0x2],_0x5ec9b4[0x2]]),_0x5ec9b4='0x'+_0x5ec9b4[_0x17d8f2(0x215)](''),_0x17d8f2(0x221)+[_0x5ec9b4>>0x10&0xff,_0x5ec9b4>>0x8&0xff,_0x5ec9b4&0xff][_0x17d8f2(0x215)](',')+','+_0x2a42cc+')';return _0x17d8f2(0x16b)+_0x2a42cc+')';}let confirmResolver=null;function showCustomConfirm(_0x39e11a,_0xa17e9b,_0x3288ec=!![]){const _0x14a996=a3_0xf817b2;document['getElementById'](_0x14a996(0x1a3))[_0x14a996(0x12c)]=_0x39e11a,document[_0x14a996(0x1a6)](_0x14a996(0x219))[_0x14a996(0x12c)]=_0xa17e9b;const _0x43ddc3=document[_0x14a996(0x1a6)](_0x14a996(0x1e2));return _0x3288ec?(_0x43ddc3['style']['color']=_0x14a996(0x12d),_0x43ddc3[_0x14a996(0x15b)][_0x14a996(0x189)]='600'):(_0x43ddc3['style'][_0x14a996(0x188)]=_0x14a996(0x159),_0x43ddc3[_0x14a996(0x15b)]['fontWeight']=_0x14a996(0x1d3)),new Promise(_0x19c779=>{const _0x50bbf0=_0x14a996;confirmResolver=_0x19c779,document[_0x50bbf0(0x1a6)]('customConfirm')[_0x50bbf0(0x14d)][_0x50bbf0(0x12b)](_0x50bbf0(0x1b3));});}function resolveCustomConfirm(_0x130a2e){const _0x1637e6=a3_0xf817b2;document[_0x1637e6(0x1a6)](_0x1637e6(0x1c8))[_0x1637e6(0x14d)][_0x1637e6(0x1b0)](_0x1637e6(0x1b3));if(confirmResolver)confirmResolver(_0x130a2e);}async function tryCancelCurrentSession(){const _0x5ae174=a3_0xf817b2;if(!currentSession)return;const _0x3b8cb0=await showCustomConfirm(_0x5ae174(0x1ef),_0x5ae174(0x1e3),!![]);if(!_0x3b8cb0)return;const _0x2fc111=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x59cc95=>_0x59cc95['id']!==_0x2fc111['id']),reRenderBlocks(),showToast(_0x5ae174(0x1a0)),lastUserActionTime=Date[_0x5ae174(0x1ed)]();try{const _0x575b0f=window['Telegram']?.[_0x5ae174(0x179)],_0x270633=await fetch(API_URL,{'method':'POST','body':JSON[_0x5ae174(0x1c6)]({'action':_0x5ae174(0x214),'init_data':_0x575b0f?.[_0x5ae174(0x182)]||'','coachId':_0x2fc111[_0x5ae174(0x129)],'dateStr':_0x2fc111[_0x5ae174(0x146)],'sessionId':_0x2fc111['id']})});if(_0x270633['ok'])DataManager[_0x5ae174(0x21a)]();}catch(_0x36f285){showToast(_0x5ae174(0x181));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x274713=a3_0xf817b2;if(!currentSession)return;document[_0x274713(0x1a6)](_0x274713(0x13e))[_0x274713(0x14d)][_0x274713(0x1b0)](_0x274713(0x1ce)),document[_0x274713(0x1a6)](_0x274713(0x153))[_0x274713(0x14d)][_0x274713(0x12b)]('open');const _0x399172=document[_0x274713(0x1a6)](_0x274713(0x1fd)),_0x3b0301=document['getElementById'](_0x274713(0x1ff));_0x399172[_0x274713(0x192)]='',_0x3b0301[_0x274713(0x192)]=_0x274713(0x1ad);const [_0x4daa06,_0x456838]=currentSession[_0x274713(0x223)][_0x274713(0x15c)](':')['map'](Number),[_0x592225,_0x1578f1]=currentSession[_0x274713(0x21c)][_0x274713(0x15c)](':')[_0x274713(0x18b)](Number),_0x4effdd=_0x592225*0x3c+_0x1578f1-(_0x4daa06*0x3c+_0x456838);try{const _0x135906=window[_0x274713(0x17a)]?.[_0x274713(0x179)],_0x5a4439=await fetch(API_URL,{'method':_0x274713(0x135),'body':JSON[_0x274713(0x1c6)]({'action':_0x274713(0x1f0),'coachId':currentSession[_0x274713(0x129)],'duration':_0x4effdd,'init_data':_0x135906?.[_0x274713(0x182)]||'','excludeSessionId':currentSession['id']})}),_0x13c7ea=await _0x5a4439['json']();_0x13c7ea['ok']&&_0x13c7ea[_0x274713(0x20e)]?(availableSlotsCache=_0x13c7ea[_0x274713(0x20e)],renderRescheduleDates()):_0x3b0301[_0x274713(0x192)]=_0x274713(0x217);}catch(_0x3500ca){_0x3b0301[_0x274713(0x192)]=_0x274713(0x132);}}function renderRescheduleDates(){const _0x18e241=a3_0xf817b2,_0x47c67b=document[_0x18e241(0x1a6)](_0x18e241(0x1fd));_0x47c67b[_0x18e241(0x192)]='';const _0x3cae9f=Object[_0x18e241(0x170)](availableSlotsCache)[_0x18e241(0x21f)](),_0x3a7a33=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3cae9f['length']===0x0){document[_0x18e241(0x1a6)](_0x18e241(0x1ff))['innerHTML']=_0x18e241(0x199);return;}_0x3cae9f[_0x18e241(0x190)]((_0x3c606f,_0x4ef40d)=>{const _0x11db3b=_0x18e241,_0x4e5b40=new Date(_0x3c606f),_0x1d2015=_0x3a7a33[_0x4e5b40[_0x11db3b(0x172)]()],_0x371863=_0x4e5b40[_0x11db3b(0x1d6)](),_0x2951c7=document[_0x11db3b(0x1c5)](_0x11db3b(0x1db));_0x2951c7['className']='rs-date-chip';if(_0x4ef40d===0x0)_0x2951c7[_0x11db3b(0x14d)]['add']('active');_0x2951c7['innerHTML']=_0x11db3b(0x1fe)+_0x1d2015+'</div><div\x20class=\x22rs-day-num\x22>'+_0x371863+_0x11db3b(0x224),_0x2951c7['onclick']=()=>selectRsDate(_0x3c606f,_0x2951c7),_0x47c67b[_0x11db3b(0x13c)](_0x2951c7);}),selectRsDate(_0x3cae9f[0x0],_0x47c67b['firstChild']);}function selectRsDate(_0x29e905,_0x209c79){const _0x445645=a3_0xf817b2;selectedRsDate=_0x29e905,document['querySelectorAll'](_0x445645(0x154))['forEach'](_0x5ebe7b=>_0x5ebe7b[_0x445645(0x14d)][_0x445645(0x1b0)](_0x445645(0x15f)));if(_0x209c79)_0x209c79[_0x445645(0x14d)][_0x445645(0x12b)]('active');const _0x25104a=document[_0x445645(0x1a6)]('rsSlotsGrid');_0x25104a[_0x445645(0x192)]='';const _0x1f88d3=availableSlotsCache[_0x29e905]||[];if(_0x1f88d3[_0x445645(0x186)]===0x0){_0x25104a[_0x445645(0x192)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x1f88d3['forEach'](_0xc5b38b=>{const _0x2e766c=_0x445645,_0x2167cb=document[_0x2e766c(0x1c5)]('button');_0x2167cb[_0x2e766c(0x197)]=_0x2e766c(0x1cd),_0x2167cb[_0x2e766c(0x12c)]=_0xc5b38b,_0x2167cb[_0x2e766c(0x1a1)]=()=>confirmReschedule(_0xc5b38b),_0x25104a[_0x2e766c(0x13c)](_0x2167cb);});}async function confirmReschedule(_0x311009){const _0x580fc1=a3_0xf817b2,_0x36c0ad=new Date(selectedRsDate),_0x4b1c60=_0x36c0ad[_0x580fc1(0x225)](_0x580fc1(0x177),{'day':_0x580fc1(0x12f),'month':_0x580fc1(0x1ac)}),_0x289467=await showCustomConfirm(_0x580fc1(0x1f9),_0x580fc1(0x19b)+_0x4b1c60+_0x580fc1(0x1f6)+_0x311009+'?',![]);if(!_0x289467)return;closeAllSheets(),showToast(_0x580fc1(0x1b5)),lastUserActionTime=Date[_0x580fc1(0x1ed)]();const _0x119309=currentSession[_0x580fc1(0x146)],_0x1fcb13=currentSession['id'],[_0x5a48af,_0x481fb1]=currentSession[_0x580fc1(0x223)][_0x580fc1(0x15c)](':')[_0x580fc1(0x18b)](Number),[_0x136a8c,_0x1086f0]=currentSession[_0x580fc1(0x21c)]['split'](':')[_0x580fc1(0x18b)](Number),_0x2d103a=_0x136a8c*0x3c+_0x1086f0-(_0x5a48af*0x3c+_0x481fb1),[_0xbcbd16,_0x40af38]=_0x311009[_0x580fc1(0x15c)](':')[_0x580fc1(0x18b)](Number),_0x19099a=_0xbcbd16*0x3c+_0x40af38+_0x2d103a,_0x38bce2=Math[_0x580fc1(0x195)](_0x19099a/0x3c),_0x5441cf=_0x19099a%0x3c,_0x59264c=String(_0x38bce2)['padStart'](0x2,'0')+':'+String(_0x5441cf)[_0x580fc1(0x17f)](0x2,'0'),_0x3e2aa1=sessions[_0x580fc1(0x150)](_0x56725d=>_0x56725d['id']===_0x1fcb13);_0x3e2aa1!==-0x1&&(sessions[_0x3e2aa1]['dateStr']=selectedRsDate,sessions[_0x3e2aa1]['start']=_0x311009,sessions[_0x3e2aa1][_0x580fc1(0x21c)]=_0x59264c,reRenderBlocks());try{const _0x4665d8=window[_0x580fc1(0x17a)]?.[_0x580fc1(0x179)],_0x4b4606=await fetch(API_URL,{'method':_0x580fc1(0x135),'body':JSON[_0x580fc1(0x1c6)]({'action':_0x580fc1(0x156),'init_data':_0x4665d8?.[_0x580fc1(0x182)]||'','oldSessionId':_0x1fcb13,'oldDate':_0x119309,'newDate':selectedRsDate,'newTime':_0x311009,'coachId':currentSession[_0x580fc1(0x129)]})}),_0x1bd768=await _0x4b4606[_0x580fc1(0x20a)]();!_0x1bd768['ok']?(showToast(_0x580fc1(0x14a)),DataManager[_0x580fc1(0x166)]()):(showToast(_0x580fc1(0x165)),DataManager[_0x580fc1(0x21a)]());}catch(_0x2533cc){showToast(_0x580fc1(0x181));}}document[a3_0xf817b2(0x151)](a3_0xf817b2(0x16e),init);