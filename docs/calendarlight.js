const a3_0x57cd79=a3_0x1688;(function(_0x24c632,_0x18b581){const _0x486715=a3_0x1688,_0x3ef306=_0x24c632();while(!![]){try{const _0x50be71=-parseInt(_0x486715(0x20b))/0x1*(parseInt(_0x486715(0x24f))/0x2)+parseInt(_0x486715(0x1c3))/0x3*(-parseInt(_0x486715(0x1c6))/0x4)+-parseInt(_0x486715(0x248))/0x5+parseInt(_0x486715(0x1d7))/0x6*(-parseInt(_0x486715(0x1f5))/0x7)+parseInt(_0x486715(0x206))/0x8+parseInt(_0x486715(0x280))/0x9*(parseInt(_0x486715(0x1c5))/0xa)+-parseInt(_0x486715(0x21c))/0xb*(-parseInt(_0x486715(0x1a8))/0xc);if(_0x50be71===_0x18b581)break;else _0x3ef306['push'](_0x3ef306['shift']());}catch(_0x4ea6c6){_0x3ef306['push'](_0x3ef306['shift']());}}}(a3_0x275c,0x91655));const APP_VERSION=a3_0x57cd79(0x25f),API_URL=a3_0x57cd79(0x1cd),GRID_H=0x3c,KEY_SESSIONS=a3_0x57cd79(0x19a),KEY_SETTINGS=a3_0x57cd79(0x260),KEY_CLIENTS=a3_0x57cd79(0x289);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x57cd79(0x27f),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56fc1a=a3_0x57cd79,_0x4ded97=(function(){let _0x56de68=!![];return function(_0x33546f,_0x254550){const _0x7d67e4=_0x56de68?function(){const _0xcaa99d=a3_0x1688;if(_0x254550){const _0x47614e=_0x254550[_0xcaa99d(0x279)](_0x33546f,arguments);return _0x254550=null,_0x47614e;}}:function(){};return _0x56de68=![],_0x7d67e4;};}()),_0x57b28d=_0x4ded97(this,function(){const _0x4ba2b6=a3_0x1688;return _0x57b28d[_0x4ba2b6(0x205)]()[_0x4ba2b6(0x286)](_0x4ba2b6(0x198))[_0x4ba2b6(0x205)]()[_0x4ba2b6(0x201)](_0x57b28d)['search'](_0x4ba2b6(0x198));});_0x57b28d();try{const _0x4284bc=window[_0x56fc1a(0x230)]?.[_0x56fc1a(0x249)];if(!_0x4284bc)return;_0x4284bc[_0x56fc1a(0x1b8)](),_0x4284bc[_0x56fc1a(0x234)]();try{_0x4284bc[_0x56fc1a(0x252)](_0x56fc1a(0x19f)),_0x4284bc['setBackgroundColor']&&_0x4284bc['setBackgroundColor'](_0x56fc1a(0x19f));}catch(_0x1f1d10){console['log'](_0x56fc1a(0x22c),_0x1f1d10);}try{_0x4284bc[_0x56fc1a(0x1d0)]&&(_0x4284bc['BackButton'][_0x56fc1a(0x258)](),_0x4284bc[_0x56fc1a(0x1d0)][_0x56fc1a(0x1ac)](),_0x4284bc['BackButton'][_0x56fc1a(0x1f1)](function(){const _0x3c2147=_0x56fc1a;window[_0x3c2147(0x212)][_0x3c2147(0x1d8)]=_0x3c2147(0x225);}));}catch(_0x519900){console[_0x56fc1a(0x229)]('Error\x20setting\x20back\x20button:',_0x519900);}try{if(_0x4284bc[_0x56fc1a(0x1fb)])_0x4284bc[_0x56fc1a(0x1fb)]();}catch(_0x240266){}}catch(_0x41f06e){console[_0x56fc1a(0x210)](_0x56fc1a(0x19e),_0x41f06e);}}());function isAdmin(){const _0x401103=a3_0x57cd79;try{const _0x230f6f=Number(window[_0x401103(0x230)]?.[_0x401103(0x249)]?.[_0x401103(0x23b)]?.['user']?.['id']);return _0x230f6f===0xbaf7174;}catch(_0x40011b){return![];}}const DataManager={'saveLocally'(){const _0x3d15f6=a3_0x57cd79;try{localStorage[_0x3d15f6(0x1ab)](KEY_SESSIONS,JSON[_0x3d15f6(0x24b)](sessions)),localStorage[_0x3d15f6(0x1ab)](KEY_CLIENTS,JSON[_0x3d15f6(0x24b)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x3d15f6(0x24b)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x54076c){}},'loadLocal'(){const _0x450d42=a3_0x57cd79;try{const _0x2e8e46=localStorage[_0x450d42(0x276)](KEY_SESSIONS);if(_0x2e8e46)sessions=JSON[_0x450d42(0x24c)](_0x2e8e46);const _0x242b38=localStorage[_0x450d42(0x276)](KEY_CLIENTS);if(_0x242b38)clients=JSON[_0x450d42(0x24c)](_0x242b38);const _0x185b20=localStorage[_0x450d42(0x276)](KEY_SETTINGS);if(_0x185b20){const _0x4ff3e7=JSON['parse'](_0x185b20);if(_0x4ff3e7[_0x450d42(0x1fc)])availabilityPattern=_0x4ff3e7[_0x450d42(0x1fc)];if(_0x4ff3e7[_0x450d42(0x1d9)])specialRanges=_0x4ff3e7[_0x450d42(0x1d9)];if(_0x4ff3e7[_0x450d42(0x1b9)])dateExceptions=_0x4ff3e7['exceptions'];}}catch(_0x434b33){}},async 'syncLoad'(){const _0x196ad7=a3_0x57cd79,_0x2d2472=new Date(),_0x1d8c24=_0x2d2472[_0x196ad7(0x1b3)]()+'-'+String(_0x2d2472['getMonth']()+0x1)[_0x196ad7(0x204)](0x2,'0'),_0x389804=new Date(_0x2d2472);_0x389804['setMonth'](_0x2d2472[_0x196ad7(0x1d2)]()+0x1);const _0x5f56c7=_0x389804[_0x196ad7(0x1b3)]()+'-'+String(_0x389804[_0x196ad7(0x1d2)]()+0x1)[_0x196ad7(0x204)](0x2,'0'),_0x3125bd=Date[_0x196ad7(0x257)]();try{const _0x5ecb4b=window['Telegram']?.[_0x196ad7(0x249)],_0x2e5437=_0x5ecb4b?.['initData']||'',[_0x32db22,_0x3c96f3]=await Promise[_0x196ad7(0x1eb)]([fetch(API_URL,{'method':_0x196ad7(0x1e9),'body':JSON[_0x196ad7(0x24b)]({'action':_0x196ad7(0x28a),'init_data':_0x2e5437,'month_str':_0x1d8c24})})[_0x196ad7(0x1d5)](_0x7804bc=>_0x7804bc[_0x196ad7(0x1b2)]()),fetch(API_URL,{'method':_0x196ad7(0x1e9),'body':JSON['stringify']({'action':'client_load','init_data':_0x2e5437,'month_str':_0x5f56c7})})[_0x196ad7(0x1d5)](_0x785e12=>_0x785e12[_0x196ad7(0x1b2)]())]);if(lastUserActionTime>_0x3125bd){console[_0x196ad7(0x229)](_0x196ad7(0x1a1));return;}if(_0x32db22['ok'])this[_0x196ad7(0x1dd)](_0x32db22[_0x196ad7(0x215)],_0x1d8c24);if(_0x3c96f3['ok'])this[_0x196ad7(0x1dd)](_0x3c96f3[_0x196ad7(0x215)],_0x5f56c7);this[_0x196ad7(0x26a)]();}catch(_0x44502f){}},'applyData'(_0x356c29,_0x2705a1){const _0x1a9c23=a3_0x57cd79;if(!_0x356c29)return;if(_0x356c29[_0x1a9c23(0x233)]){if(_0x356c29['settings'][_0x1a9c23(0x1fc)])availabilityPattern=_0x356c29['settings'][_0x1a9c23(0x1fc)];if(_0x356c29[_0x1a9c23(0x233)]['ranges'])specialRanges=_0x356c29['settings'][_0x1a9c23(0x1d9)];if(_0x356c29['settings'][_0x1a9c23(0x1b9)])dateExceptions=_0x356c29[_0x1a9c23(0x233)]['exceptions'];}if(_0x356c29['clients']&&Array['isArray'](_0x356c29[_0x1a9c23(0x25b)]))clients=_0x356c29['clients'];_0x356c29[_0x1a9c23(0x27d)]&&(coachProfiles={...coachProfiles,..._0x356c29[_0x1a9c23(0x27d)]}),_0x356c29['calendar']&&(sessions=sessions[_0x1a9c23(0x268)](_0x3dcafa=>!_0x3dcafa['dateStr']['startsWith'](_0x2705a1)),Object[_0x1a9c23(0x200)](_0x356c29[_0x1a9c23(0x196)])[_0x1a9c23(0x232)](_0x4f2b0f=>{const _0x15b404=_0x1a9c23,_0x3fb5ea=_0x356c29[_0x15b404(0x196)][_0x4f2b0f];_0x3fb5ea[_0x15b404(0x232)](_0x356a59=>{const _0x824709=_0x15b404;sessions[_0x824709(0x24a)]({'id':_0x356a59['i'],'clientId':_0x356a59['c'],'coachId':_0x356a59['cid'],'dateStr':_0x2705a1+'-'+_0x4f2b0f[_0x824709(0x204)](0x2,'0'),'start':_0x356a59['s'],'end':_0x356a59['e'],'note':_0x356a59['n']||'','status':_0x356a59['st']||_0x824709(0x1f8),'seriesId':_0x356a59[_0x824709(0x251)]});});})),reRenderBlocks();}};function init(){const _0x3b6c9e=a3_0x57cd79;DataManager[_0x3b6c9e(0x238)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x3b6c9e(0x227))[_0x3b6c9e(0x202)](_0x3b6c9e(0x1db),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3b6c9e(0x237)]();}function renderTimeColumn(){const _0x46ed22=a3_0x57cd79,_0x3a198e=document[_0x46ed22(0x1ec)](_0x46ed22(0x1a3)),_0x1c453a=document[_0x46ed22(0x1ec)](_0x46ed22(0x288));_0x3a198e[_0x46ed22(0x245)]='',_0x3a198e[_0x46ed22(0x194)](_0x1c453a);for(let _0x1b925b=0x0;_0x1b925b<0x18;_0x1b925b++){const _0x129a30=document[_0x46ed22(0x1b7)](_0x46ed22(0x26e));_0x129a30[_0x46ed22(0x222)]='time-label';if(_0x1b925b>0x0)_0x129a30[_0x46ed22(0x245)]='<span>'+String(_0x1b925b)[_0x46ed22(0x204)](0x2,'0')+_0x46ed22(0x28d);_0x3a198e['appendChild'](_0x129a30);}}function renderDayRange(_0x1abc77,_0x496e72){const _0x2dfa9c=a3_0x57cd79,_0x301e95=document[_0x2dfa9c(0x1ec)](_0x2dfa9c(0x242)),_0x874927=document['getElementById'](_0x2dfa9c(0x213)),_0x116841=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4b8837=new Date();_0x4b8837['setHours'](0x0,0x0,0x0,0x0);const _0x2ef611=getLocalDateStr(new Date());for(let _0x1e7bfc=_0x1abc77;_0x1e7bfc<=_0x496e72;_0x1e7bfc++){const _0x518037=new Date(_0x4b8837);_0x518037[_0x2dfa9c(0x1e1)](_0x518037[_0x2dfa9c(0x21e)]()+_0x1e7bfc);const _0x194922=getLocalDateStr(_0x518037);let _0x789b53=_0x518037[_0x2dfa9c(0x23e)]()-0x1;if(_0x789b53===-0x1)_0x789b53=0x6;const _0x181c27=_0x194922===_0x2ef611,_0x5ab722=document['createElement'](_0x2dfa9c(0x26e));_0x5ab722[_0x2dfa9c(0x222)]=_0x2dfa9c(0x22d)+(_0x181c27?_0x2dfa9c(0x26c):''),_0x5ab722[_0x2dfa9c(0x217)](_0x2dfa9c(0x1cb),_0x194922),_0x5ab722[_0x2dfa9c(0x245)]=_0x2dfa9c(0x283)+_0x116841[_0x789b53]+_0x2dfa9c(0x1ba)+_0x518037['getDate']()+_0x2dfa9c(0x1ff),_0x301e95[_0x2dfa9c(0x194)](_0x5ab722);const _0x43d531=document[_0x2dfa9c(0x1b7)]('div');_0x43d531['className']=_0x2dfa9c(0x20a)+(_0x181c27?'today':''),_0x43d531[_0x2dfa9c(0x217)]('data-date',_0x194922),_0x43d531[_0x2dfa9c(0x217)](_0x2dfa9c(0x1b1),_0x789b53),_0x874927[_0x2dfa9c(0x194)](_0x43d531);}}function reRenderBlocks(){const _0x803a12=a3_0x57cd79;document[_0x803a12(0x208)](_0x803a12(0x263))[_0x803a12(0x232)](_0x554ab0=>{const _0x5467ac=_0x803a12;_0x554ab0[_0x5467ac(0x208)](_0x5467ac(0x267))[_0x5467ac(0x232)](_0x55c6d1=>_0x55c6d1[_0x5467ac(0x1d1)]());const _0x4c6d03=_0x554ab0[_0x5467ac(0x1fa)](_0x5467ac(0x1cb)),_0x15f6c8=parseInt(_0x554ab0[_0x5467ac(0x1fa)](_0x5467ac(0x1b1))),_0xe6e7cc=Math['round'](_0x554ab0['offsetLeft']);(availabilityPattern[_0x15f6c8]||[])[_0x5467ac(0x232)](_0x16594f=>{const _0x22ede9=_0x5467ac,_0x912c06=document[_0x22ede9(0x1b7)](_0x22ede9(0x26e));_0x912c06['className']=_0x22ede9(0x20f),_0x912c06['style'][_0x22ede9(0x219)]=_0x16594f*GRID_H+'px',_0x912c06[_0x22ede9(0x1a9)][_0x22ede9(0x26b)]='-'+_0xe6e7cc+_0x22ede9(0x241)+_0x16594f*GRID_H+'px',_0x554ab0[_0x22ede9(0x194)](_0x912c06);});if(specialRanges[_0x5467ac(0x1bf)]>0x0){const _0xab644f=new Date(_0x4c6d03+_0x5467ac(0x214))[_0x5467ac(0x243)](),_0x57dd37=new Date(_0x4c6d03+'T23:59:59')[_0x5467ac(0x243)]();specialRanges[_0x5467ac(0x232)](_0x18eaa0=>{const _0x37c9f7=_0x5467ac,_0x4a5d14=new Date(_0x18eaa0['start'])[_0x37c9f7(0x243)](),_0x345877=new Date(_0x18eaa0['end'])['getTime'](),_0x3ebcc2=Math[_0x37c9f7(0x247)](_0xab644f,_0x4a5d14),_0x5c4d00=Math[_0x37c9f7(0x264)](_0x57dd37,_0x345877);if(_0x3ebcc2<_0x5c4d00){const _0x104055=(_0x3ebcc2-_0xab644f)/0x36ee80*GRID_H,_0x288c7e=(_0x5c4d00-_0x3ebcc2)/0x36ee80*GRID_H,_0x1de407=document[_0x37c9f7(0x1b7)](_0x37c9f7(0x26e));_0x288c7e>=23.5*GRID_H?(_0x1de407[_0x37c9f7(0x222)]=_0x37c9f7(0x1d3),_0x1de407[_0x37c9f7(0x1a9)][_0x37c9f7(0x26b)]='-'+_0xe6e7cc+_0x37c9f7(0x1f4)):(_0x1de407['className']=_0x37c9f7(0x270),_0x1de407[_0x37c9f7(0x1a9)][_0x37c9f7(0x219)]=_0x104055+'px',_0x1de407[_0x37c9f7(0x1a9)][_0x37c9f7(0x262)]=_0x288c7e+'px',_0x1de407[_0x37c9f7(0x1a9)][_0x37c9f7(0x26b)]='-'+_0xe6e7cc+_0x37c9f7(0x241)+_0x104055+'px'),_0x554ab0[_0x37c9f7(0x194)](_0x1de407);}});}renderEventsForColumn(_0x554ab0,_0x4c6d03);});}function renderEventsForColumn(_0xaa977a,_0x99acfd){const _0x60b5bd=a3_0x57cd79,_0x253eae=sessions[_0x60b5bd(0x268)](_0x85a852=>_0x85a852[_0x60b5bd(0x20e)]===_0x99acfd),_0x33a38c=_0x253eae[_0x60b5bd(0x221)](_0x16252c=>{const _0x13dd75=_0x60b5bd,[_0x48d806,_0x4ef5f3]=_0x16252c[_0x13dd75(0x21a)]['split'](':')[_0x13dd75(0x221)](Number),[_0x141828,_0x15cc45]=_0x16252c['end'][_0x13dd75(0x244)](':')[_0x13dd75(0x221)](Number);return{'data':_0x16252c,'start':_0x48d806*0x3c+_0x4ef5f3,'end':_0x141828*0x3c+_0x15cc45,'colIndex':0x0};});_0x33a38c[_0x60b5bd(0x273)]((_0x1815f1,_0xec6e93)=>_0x1815f1['start']-_0xec6e93['start']||_0xec6e93[_0x60b5bd(0x1f3)]-_0xec6e93[_0x60b5bd(0x21a)]-(_0x1815f1[_0x60b5bd(0x1f3)]-_0x1815f1['start']));const _0x200190=[];_0x33a38c['forEach'](_0x3eb61f=>{const _0x3979f2=_0x60b5bd;let _0x5e7e52=![];for(let _0x1ecaa4=0x0;_0x1ecaa4<_0x200190[_0x3979f2(0x1bf)];_0x1ecaa4++){const _0x41a00b=_0x200190[_0x1ecaa4];if(_0x3eb61f[_0x3979f2(0x21a)]>=_0x41a00b[_0x41a00b['length']-0x1]['end']){_0x41a00b['push'](_0x3eb61f),_0x3eb61f['colIndex']=_0x1ecaa4,_0x5e7e52=!![];break;}}!_0x5e7e52&&(_0x200190[_0x3979f2(0x24a)]([_0x3eb61f]),_0x3eb61f[_0x3979f2(0x1cc)]=_0x200190[_0x3979f2(0x1bf)]-0x1);}),_0x33a38c['forEach'](_0x5771ba=>{const _0xa14233=_0x60b5bd;let _0x271b89=0x0;_0x33a38c[_0xa14233(0x232)](_0x493981=>{const _0x5a9472=_0xa14233;if(Math[_0x5a9472(0x247)](_0x5771ba[_0x5a9472(0x21a)],_0x493981[_0x5a9472(0x21a)])<Math[_0x5a9472(0x264)](_0x5771ba['end'],_0x493981[_0x5a9472(0x1f3)])&&_0x493981['colIndex']>_0x271b89)_0x271b89=_0x493981[_0x5a9472(0x1cc)];});const _0x1e45c8=_0x271b89+0x1,_0x2b435e=0x64/_0x1e45c8,_0x240305=_0x5771ba[_0xa14233(0x1cc)]*_0x2b435e,_0x49ad47=document[_0xa14233(0x1b7)](_0xa14233(0x26e)),_0x5e0d9f=_0x5771ba[_0xa14233(0x215)];let _0x534b86=_0xa14233(0x240);if(clients&&clients[_0xa14233(0x1bf)]>0x0){const _0xf321ce=clients['find'](_0x41c025=>String(_0x41c025['id'])===String(_0x5e0d9f[_0xa14233(0x256)]));if(_0xf321ce&&_0xf321ce[_0xa14233(0x261)])_0x534b86=_0xf321ce[_0xa14233(0x261)];}const _0x52bacd=_0x5e0d9f['status']===_0xa14233(0x1c0),_0x38b99b=_0x52bacd?0x1:0.45;_0x49ad47['className']='event-card'+(_0x52bacd?'\x20status-completed':''),_0x49ad47[_0xa14233(0x1a9)][_0xa14233(0x1a2)]=hexToRgba(_0x534b86,_0x38b99b),_0x49ad47[_0xa14233(0x1a9)][_0xa14233(0x1a7)]=_0x534b86;const _0x497059=_0x5771ba[_0xa14233(0x21a)]/0x3c*GRID_H,_0xb8cda7=(_0x5771ba['end']-_0x5771ba[_0xa14233(0x21a)])/0x3c*GRID_H;_0x49ad47['style'][_0xa14233(0x219)]=_0x497059+'px',_0x49ad47['style'][_0xa14233(0x262)]=Math[_0xa14233(0x247)](_0xb8cda7,0x14)+'px',_0x49ad47['style']['width']='calc('+_0x2b435e+'%\x20-\x204px)',_0x49ad47[_0xa14233(0x1a9)][_0xa14233(0x28c)]=_0xa14233(0x21d)+_0x240305+_0xa14233(0x207),_0x49ad47[_0xa14233(0x1a9)][_0xa14233(0x193)]=0xa+_0x5771ba[_0xa14233(0x1cc)];if(_0x2b435e<0x55)_0x49ad47[_0xa14233(0x1a6)][_0xa14233(0x1f0)](_0xa14233(0x21b));let _0x368bcf='';if(_0x5e0d9f[_0xa14233(0x22a)])_0x368bcf+=_0xa14233(0x1b0);if(_0x52bacd)_0x368bcf+=_0xa14233(0x285);_0x49ad47[_0xa14233(0x245)]=_0xa14233(0x1cf)+_0x5e0d9f[_0xa14233(0x21a)]+_0xa14233(0x220)+_0x5e0d9f['end']+_0xa14233(0x197)+_0x368bcf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x49ad47['onclick']=_0x2b10dc=>{_0x2b10dc['stopPropagation'](),openDetails(_0x5e0d9f);},_0xaa977a[_0xa14233(0x194)](_0x49ad47);});}function openAnalytics(){const _0x1bb686=a3_0x57cd79,_0x55bc27=document['querySelector'](_0x1bb686(0x1c9));setAnalyticsPeriod(_0x1bb686(0x27f),_0x55bc27),openSheet(_0x1bb686(0x1e4));}function setAnalyticsPeriod(_0x23e92c,_0xf37fea){const _0x5837f5=a3_0x57cd79;currentAnPeriod=_0x23e92c,document[_0x5837f5(0x208)](_0x5837f5(0x1c9))[_0x5837f5(0x232)](_0x4ac679=>_0x4ac679['classList'][_0x5837f5(0x1d1)](_0x5837f5(0x239)));if(_0xf37fea)_0xf37fea[_0x5837f5(0x1a6)]['add'](_0x5837f5(0x239));const _0x151b6a=document['getElementById']('anCustomDates');_0x151b6a[_0x5837f5(0x1a9)][_0x5837f5(0x218)]=_0x23e92c==='custom'?_0x5837f5(0x22f):_0x5837f5(0x24d);const _0x3e14f1=new Date();let _0x25155e=new Date(),_0x7cf563=new Date();if(_0x23e92c===_0x5837f5(0x27f))_0x25155e=getStartOfWeek(_0x3e14f1),_0x7cf563=new Date(_0x25155e),_0x7cf563[_0x5837f5(0x1e1)](_0x7cf563['getDate']()+0x6);else{if(_0x23e92c===_0x5837f5(0x287))_0x25155e=new Date(_0x3e14f1['getFullYear'](),_0x3e14f1[_0x5837f5(0x1d2)](),0x1),_0x7cf563=new Date(_0x3e14f1['getFullYear'](),_0x3e14f1['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x5837f5(0x211)]&&(document[_0x5837f5(0x1ec)](_0x5837f5(0x1c4))[_0x5837f5(0x211)]=getLocalDateStr(_0x3e14f1),document[_0x5837f5(0x1ec)]('anEnd')['value']=getLocalDateStr(_0x3e14f1));refreshAnalytics();return;}}document[_0x5837f5(0x1ec)](_0x5837f5(0x1c4))[_0x5837f5(0x211)]=getLocalDateStr(_0x25155e),document[_0x5837f5(0x1ec)]('anEnd')[_0x5837f5(0x211)]=getLocalDateStr(_0x7cf563),refreshAnalytics();}function a3_0x1688(_0x275c2e,_0x12f9dc){_0x275c2e=_0x275c2e-0x18e;const _0x48d5ef=a3_0x275c();let _0x308dad=_0x48d5ef[_0x275c2e];return _0x308dad;}function refreshAnalytics(){const _0x12b81d=a3_0x57cd79,_0x3ec8a9=document['getElementById'](_0x12b81d(0x1c4))[_0x12b81d(0x211)],_0xc08621=document['getElementById'](_0x12b81d(0x271))[_0x12b81d(0x211)];if(!_0x3ec8a9||!_0xc08621)return;const _0x39560a=sessions['filter'](_0x409203=>_0x409203[_0x12b81d(0x20e)]>=_0x3ec8a9&&_0x409203[_0x12b81d(0x20e)]<=_0xc08621&&_0x409203[_0x12b81d(0x1a5)]!==_0x12b81d(0x1be)),_0x234097=_0x39560a[_0x12b81d(0x1bf)],_0x521279=_0x39560a[_0x12b81d(0x268)](_0x1ff0d9=>_0x1ff0d9[_0x12b81d(0x1a5)]==='completed')['length'],_0x199dbf=_0x234097>0x0?Math[_0x12b81d(0x1aa)](_0x521279/_0x234097*0x64):0x0;document[_0x12b81d(0x1ec)]('anPercent')[_0x12b81d(0x1e2)]=_0x199dbf+'%',document['getElementById'](_0x12b81d(0x1d6))['textContent']=_0x521279+'\x20–∏–∑\x20'+_0x234097+_0x12b81d(0x1b6);const _0x43c549=document[_0x12b81d(0x1ec)]('anDonutCircle'),_0x5a1b22=0x2*Math['PI']*0x23,_0x1b8d10=_0x5a1b22-_0x199dbf/0x64*_0x5a1b22;_0x43c549[_0x12b81d(0x1a9)][_0x12b81d(0x1fe)]=_0x1b8d10;const _0x275ea2={};_0x39560a[_0x12b81d(0x232)](_0x5b8d27=>{const _0x60f057=_0x12b81d,_0x1f2ed7=_0x5b8d27['coachId']||_0x60f057(0x224);if(!_0x275ea2[_0x1f2ed7]){const _0xc440fa='#'+_0x1f2ed7[_0x60f057(0x205)]()[_0x60f057(0x254)](0x0,0x6);_0x275ea2[_0x1f2ed7]={'total':0x0,'done':0x0,'color':_0xc440fa};}_0x275ea2[_0x1f2ed7][_0x60f057(0x1dc)]++;if(_0x5b8d27[_0x60f057(0x1a5)]===_0x60f057(0x1c0))_0x275ea2[_0x1f2ed7][_0x60f057(0x226)]++;});const _0x44feef=document[_0x12b81d(0x1ec)]('analyticsList');_0x44feef['innerHTML']='';const _0x1b053b=Object[_0x12b81d(0x1a4)](_0x275ea2)[_0x12b81d(0x273)]((_0x33e4f2,_0x3b49cf)=>_0x3b49cf[0x1][_0x12b81d(0x1dc)]-_0x33e4f2[0x1]['total']);if(_0x1b053b[_0x12b81d(0x1bf)]===0x0){_0x44feef[_0x12b81d(0x245)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x1b053b[_0x12b81d(0x232)](([_0x52a962,_0x4d794f])=>{const _0x47b518=_0x12b81d,_0x105227=Math[_0x47b518(0x1aa)](_0x4d794f[_0x47b518(0x226)]/_0x4d794f['total']*0x64),_0x242cff=document['createElement'](_0x47b518(0x26e));_0x242cff[_0x47b518(0x222)]=_0x47b518(0x1ce),_0x242cff['style'][_0x47b518(0x1a7)]=_0x4d794f[_0x47b518(0x261)],_0x242cff[_0x47b518(0x245)]=_0x47b518(0x23a)+_0x52a962[_0x47b518(0x254)](0x0,0x5)+_0x47b518(0x1ea)+_0x4d794f[_0x47b518(0x226)]+'</span>\x20/\x20'+_0x4d794f[_0x47b518(0x1dc)]+_0x47b518(0x191)+_0x105227+_0x47b518(0x250),_0x44feef['appendChild'](_0x242cff);});}function openDetails(_0x60e4fd){const _0xd57b=a3_0x57cd79;currentSession=_0x60e4fd;const _0x172f22=new Date(_0x60e4fd[_0xd57b(0x20e)]),_0x33ba25=_0x172f22[_0xd57b(0x255)](_0xd57b(0x236),{'weekday':_0xd57b(0x1ad),'day':_0xd57b(0x209),'month':_0xd57b(0x1ad)});document[_0xd57b(0x1ec)](_0xd57b(0x1e0))['textContent']=_0x33ba25[_0xd57b(0x1e8)](0x0)[_0xd57b(0x1fd)]()+_0x33ba25[_0xd57b(0x1b5)](0x1),document[_0xd57b(0x1ec)](_0xd57b(0x1e7))[_0xd57b(0x1e2)]=_0x60e4fd[_0xd57b(0x21a)]+_0xd57b(0x220)+_0x60e4fd[_0xd57b(0x1f3)],document[_0xd57b(0x1ec)]('detNote')[_0xd57b(0x1e2)]=_0x60e4fd[_0xd57b(0x269)]||_0xd57b(0x1df);const _0x10b50f=document[_0xd57b(0x1ec)](_0xd57b(0x1af)),_0x416c1b=document[_0xd57b(0x1ec)](_0xd57b(0x272)),_0x1a566e=_0x416c1b[_0xd57b(0x1f6)](_0xd57b(0x19c)),_0x407f30=_0x416c1b[_0xd57b(0x1f6)]('.btn-reschedule'),_0x4f4e0a=document['getElementById'](_0xd57b(0x20c));if(_0x60e4fd[_0xd57b(0x1a5)]===_0xd57b(0x1c0))_0x10b50f[_0xd57b(0x1e2)]=_0xd57b(0x27e),_0x10b50f[_0xd57b(0x1a9)][_0xd57b(0x261)]=_0xd57b(0x22e),_0x416c1b[_0xd57b(0x1a9)]['display']=_0xd57b(0x24d);else{_0x10b50f[_0xd57b(0x1e2)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x10b50f['style']['color']=_0xd57b(0x21f),_0x416c1b[_0xd57b(0x1a9)]['display']=_0xd57b(0x27c);const _0x4ec021=new Date(_0x60e4fd[_0xd57b(0x20e)]+'T'+_0x60e4fd[_0xd57b(0x21a)]),_0x4ef411=new Date(),_0x1a2c09=(_0x4ec021-_0x4ef411)/(0x3e8*0x3c*0x3c),_0x2ed13a=coachProfiles[_0x60e4fd['coachId']]&&coachProfiles[_0x60e4fd[_0xd57b(0x26d)]]['cancel_window']?parseInt(coachProfiles[_0x60e4fd[_0xd57b(0x26d)]][_0xd57b(0x18e)]):0x18;if(_0x2ed13a===0x0||_0x1a2c09>=_0x2ed13a)_0x1a566e[_0xd57b(0x1a9)][_0xd57b(0x218)]=_0xd57b(0x27c),_0x407f30[_0xd57b(0x1a9)][_0xd57b(0x218)]='block',_0x4f4e0a['style'][_0xd57b(0x218)]=_0xd57b(0x24d);else{_0x1a566e[_0xd57b(0x1a9)]['display']=_0xd57b(0x24d),_0x407f30[_0xd57b(0x1a9)][_0xd57b(0x218)]=_0xd57b(0x24d),_0x4f4e0a[_0xd57b(0x1a9)][_0xd57b(0x218)]=_0xd57b(0x27c);let _0x1c1436=_0x2ed13a===0x0?_0xd57b(0x1bb):'–∑–∞\x20'+_0x2ed13a+_0xd57b(0x1f2);_0x4f4e0a[_0xd57b(0x1e2)]=_0xd57b(0x18f)+_0x1c1436+_0xd57b(0x231);}}document[_0xd57b(0x1ec)](_0xd57b(0x23f))[_0xd57b(0x1a6)][_0xd57b(0x1f0)]('active'),document['getElementById']('detailsSheet')[_0xd57b(0x1a6)]['add']('open');}function closeAllSheets(){const _0x2e851e=a3_0x57cd79;document[_0x2e851e(0x1ec)](_0x2e851e(0x23f))[_0x2e851e(0x1a6)][_0x2e851e(0x1d1)](_0x2e851e(0x239)),document[_0x2e851e(0x208)](_0x2e851e(0x278))[_0x2e851e(0x232)](_0x4bc3ef=>_0x4bc3ef[_0x2e851e(0x1a6)][_0x2e851e(0x1d1)]('open'));}function openSheet(_0x3021fc){const _0x49b54f=a3_0x57cd79;document[_0x49b54f(0x1ec)](_0x49b54f(0x23f))['classList'][_0x49b54f(0x1f0)](_0x49b54f(0x239)),document['getElementById'](_0x3021fc)[_0x49b54f(0x1a6)][_0x49b54f(0x1f0)]('open');}function getLocalDateStr(_0x5d11ce){const _0x28e089=a3_0x57cd79,_0x14e3bb=_0x5d11ce[_0x28e089(0x1b3)](),_0x24321b=String(_0x5d11ce[_0x28e089(0x1d2)]()+0x1)[_0x28e089(0x204)](0x2,'0'),_0x30c09c=String(_0x5d11ce[_0x28e089(0x21e)]())[_0x28e089(0x204)](0x2,'0');return _0x14e3bb+'-'+_0x24321b+'-'+_0x30c09c;}function getStartOfWeek(_0x22606c){const _0x478d0c=a3_0x57cd79,_0x3a6b61=new Date(_0x22606c),_0x1eb0d4=_0x3a6b61[_0x478d0c(0x23e)](),_0x434a16=_0x3a6b61[_0x478d0c(0x21e)]()-_0x1eb0d4+(_0x1eb0d4===0x0?-0x6:0x1);return _0x3a6b61['setDate'](_0x434a16),_0x3a6b61[_0x478d0c(0x246)](0x0,0x0,0x0,0x0),_0x3a6b61;}function scrollToToday(){const _0x4aa9bc=getLocalDateStr(new Date());setTimeout(()=>{const _0x3fc195=a3_0x1688,_0x500792=document[_0x3fc195(0x1f6)](_0x3fc195(0x282)+_0x4aa9bc+'\x22]');if(_0x500792){const _0x1d20f3=document['getElementById'](_0x3fc195(0x227)),_0x12f215=_0x500792[_0x3fc195(0x27a)]-_0x1d20f3[_0x3fc195(0x23d)]/0x2+_0x500792[_0x3fc195(0x265)]/0x2;_0x1d20f3[_0x3fc195(0x1c1)]({'left':_0x12f215,'behavior':_0x3fc195(0x25a)}),_0x1d20f3[_0x3fc195(0x1e5)]=0x9*GRID_H;}},0x32);}function a3_0x275c(){const _0x163158=['px\x20-','daysHeaderTrack','getTime','split','innerHTML','setHours','max','5677880qAKkGU','WebApp','push','stringify','parse','none','createDocumentFragment','507950nihusj','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sid','setHeaderColor','</div><div\x20class=\x22rs-day-num\x22>','substr','toLocaleDateString','clientId','now','show','rs-date-chip','auto','clients','DOMContentLoaded','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','v9.5-CLIENT-ANALYTICS','uc_client_settings','color','height','.day-column','min','offsetWidth','ccText','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','filter','note','saveLocally','backgroundPosition','today','coachId','div','\x20–≤\x20','blocked-range-part\x20stripe-bg','anEnd','cancelContainer','sort','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','ccTitle','getItem','onclick','.sheet','apply','offsetLeft','firstChild','block','coach_profiles','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','week','59832ZWEayj','join','.day-col-header[data-date=\x22','<div\x20class=\x22dch-day\x22>','substring','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','search','month','timeLineBadge','uc_client_list','client_load','rescheduleSheet','left',':00</span>','test','cancel_window','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','initData','zIndex','appendChild','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','calendar','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','.rs-date-chip','uc_client_sessions','.day-col-header','.btn-cancel','600','Critical\x20TMA\x20Error:','#050505','toLocaleString','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','backgroundColor','timeColumn','entries','status','classList','borderLeftColor','26720748QkLrRg','style','round','setItem','offClick','long','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','detStatus','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','data-day-idx','json','getFullYear','getMinutes','slice','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','createElement','ready','exceptions','</div><div\x20class=\x22dch-num\x22>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','fontWeight','ccYesBtn','cancelled','length','completed','scrollTo','globalTimeLine','2761056CqPKfe','anStart','1610niglWg','4CcjRml','getHours','rsSlotsGrid','.period-switch\x20.p-btn','visible','data-date','colIndex','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','client-stat-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','BackButton','remove','getMonth','day-off-overlay\x20stripe-bg','detailsSheet','then','anTotalStats','725508hFrHkM','href','ranges','rsDatesTrack','scroll','total','applyData','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','detDate','setDate','textContent','button','analyticsSheet','scrollTop','findIndex','detTime','charAt','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','all','getElementById','customConfirm','open','get_slots','add','onClick','\x20—á.','end','px\x200px','35mghrRN','querySelector','rgba(10,\x20132,\x20255,\x20','planned','toast','getAttribute','disableVerticalSwipes','pattern','toUpperCase','strokeDashoffset','</div>','keys','constructor','addEventListener','scrollLeft','padStart','toString','3735616kwcOqo','%\x20+\x202px)','querySelectorAll','numeric','day-column\x20','2XTATAe','cancelHint','floor','dateStr','blocked-slot\x20stripe-bg','error','value','location','gridColumns','T00:00:00','data','reschedule','setAttribute','display','top','start','mini','11NpskKG','calc(','getDate','var(--acc-blue)','\x20-\x20','map','className','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','Unknown','router.html','done','matrixViewport','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','log','seriesId','client_cancel','Error\x20setting\x20color:','day-col-header\x20','var(--acc-green)','flex','Telegram','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','forEach','settings','expand','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','ru-RU','syncLoad','loadLocal','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','initDataUnsafe','insertBefore','clientWidth','getDay','overlay','#0a84ff'];a3_0x275c=function(){return _0x163158;};return a3_0x275c();}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2c89a7=a3_0x57cd79,_0x51d4a3=new Date(),_0x46ad1a=document['getElementById'](_0x2c89a7(0x1c2)),_0x3c2904=document['getElementById'](_0x2c89a7(0x288)),_0x29e979=(_0x51d4a3[_0x2c89a7(0x1c7)]()*0x3c+_0x51d4a3[_0x2c89a7(0x1b4)]())/0x3c*GRID_H;_0x46ad1a[_0x2c89a7(0x1a9)][_0x2c89a7(0x219)]=_0x29e979+'px',_0x46ad1a[_0x2c89a7(0x1a9)][_0x2c89a7(0x218)]='block',_0x3c2904['style']['top']=_0x29e979+'px',_0x3c2904[_0x2c89a7(0x1a9)][_0x2c89a7(0x218)]=_0x2c89a7(0x27c),_0x3c2904[_0x2c89a7(0x1e2)]=String(_0x51d4a3[_0x2c89a7(0x1c7)]())[_0x2c89a7(0x204)](0x2,'0')+':'+String(_0x51d4a3[_0x2c89a7(0x1b4)]())[_0x2c89a7(0x204)](0x2,'0');}function onScroll(){const _0x210842=a3_0x57cd79,_0x4b541c=document[_0x210842(0x1ec)](_0x210842(0x227)),_0x18e552=document[_0x210842(0x208)](_0x210842(0x19b));for(let _0x5c7232 of _0x18e552)if(_0x5c7232['offsetLeft']>=_0x4b541c[_0x210842(0x203)]){const _0x1b1494=new Date(_0x5c7232[_0x210842(0x1fa)](_0x210842(0x1cb)));document['getElementById']('headerMonth')[_0x210842(0x1e2)]=_0x1b1494[_0x210842(0x1a0)]('ru',{'month':_0x210842(0x1ad)})['toUpperCase']()+'\x20'+_0x1b1494['getFullYear']();break;}}function showToast(_0x2ac24e){const _0x4327e4=a3_0x57cd79,_0x29014e=document[_0x4327e4(0x1ec)](_0x4327e4(0x1f9));_0x29014e['textContent']=_0x2ac24e,_0x29014e[_0x4327e4(0x1a6)][_0x4327e4(0x1f0)]('show'),setTimeout(()=>_0x29014e[_0x4327e4(0x1a6)]['remove'](_0x4327e4(0x258)),0x7d0);}function handleInfiniteScroll(){const _0x553e7f=a3_0x57cd79,_0x831f16=document[_0x553e7f(0x1ec)](_0x553e7f(0x227)),_0x292136=_0x831f16[_0x553e7f(0x203)],_0x28c210=_0x831f16['scrollWidth'],_0x16198f=_0x831f16['clientWidth'];if(_0x28c210-(_0x292136+_0x16198f)<0x12c){const _0x1ca354=endOffset;endOffset+=0xe,renderDayRange(_0x1ca354+0x1,endOffset),reRenderBlocks();}if(_0x292136<0x12c){const _0x57563d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x57563d-0x1),_0x831f16[_0x553e7f(0x203)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5eef55,_0x1a99d4){const _0x226f04=a3_0x57cd79,_0x24ae51=document[_0x226f04(0x1ec)](_0x226f04(0x242)),_0x253949=document['getElementById']('gridColumns'),_0x5c8159=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcfcac=new Date();_0xcfcac[_0x226f04(0x246)](0x0,0x0,0x0,0x0);const _0x2fc015=getLocalDateStr(new Date()),_0xd9a5c7=document[_0x226f04(0x24e)](),_0x25c82a=document[_0x226f04(0x24e)]();for(let _0xb133bf=_0x5eef55;_0xb133bf<=_0x1a99d4;_0xb133bf++){const _0x63b595=new Date(_0xcfcac);_0x63b595[_0x226f04(0x1e1)](_0x63b595[_0x226f04(0x21e)]()+_0xb133bf);const _0x3c4269=getLocalDateStr(_0x63b595);let _0x4952d8=_0x63b595[_0x226f04(0x23e)]()-0x1;if(_0x4952d8===-0x1)_0x4952d8=0x6;const _0x1feb66=_0x3c4269===_0x2fc015,_0x127abc=document[_0x226f04(0x1b7)](_0x226f04(0x26e));_0x127abc[_0x226f04(0x222)]=_0x226f04(0x22d)+(_0x1feb66?'today':''),_0x127abc[_0x226f04(0x217)](_0x226f04(0x1cb),_0x3c4269),_0x127abc['innerHTML']=_0x226f04(0x283)+_0x5c8159[_0x4952d8]+_0x226f04(0x1ba)+_0x63b595['getDate']()+_0x226f04(0x1ff),_0xd9a5c7[_0x226f04(0x194)](_0x127abc);const _0x11860d=document[_0x226f04(0x1b7)](_0x226f04(0x26e));_0x11860d[_0x226f04(0x222)]='day-column\x20'+(_0x1feb66?_0x226f04(0x26c):''),_0x11860d[_0x226f04(0x217)](_0x226f04(0x1cb),_0x3c4269),_0x11860d[_0x226f04(0x217)](_0x226f04(0x1b1),_0x4952d8),_0x25c82a[_0x226f04(0x194)](_0x11860d);}_0x24ae51[_0x226f04(0x23c)](_0xd9a5c7,_0x24ae51[_0x226f04(0x27b)]),_0x253949[_0x226f04(0x23c)](_0x25c82a,_0x253949[_0x226f04(0x1f6)]('.day-column'));}function hexToRgba(_0x53e5ac,_0x377c32){const _0x56d3f5=a3_0x57cd79;let _0x4b0e02;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x56d3f5(0x28e)](_0x53e5ac))return _0x4b0e02=_0x53e5ac[_0x56d3f5(0x284)](0x1)[_0x56d3f5(0x244)](''),_0x4b0e02['length']==0x3&&(_0x4b0e02=[_0x4b0e02[0x0],_0x4b0e02[0x0],_0x4b0e02[0x1],_0x4b0e02[0x1],_0x4b0e02[0x2],_0x4b0e02[0x2]]),_0x4b0e02='0x'+_0x4b0e02[_0x56d3f5(0x281)](''),'rgba('+[_0x4b0e02>>0x10&0xff,_0x4b0e02>>0x8&0xff,_0x4b0e02&0xff][_0x56d3f5(0x281)](',')+','+_0x377c32+')';return _0x56d3f5(0x1f7)+_0x377c32+')';}let confirmResolver=null;function showCustomConfirm(_0x17814a,_0x1cf561,_0x1624fa=!![]){const _0x1089c6=a3_0x57cd79;document[_0x1089c6(0x1ec)](_0x1089c6(0x275))['textContent']=_0x17814a,document[_0x1089c6(0x1ec)](_0x1089c6(0x266))[_0x1089c6(0x1e2)]=_0x1cf561;const _0x1bb719=document[_0x1089c6(0x1ec)](_0x1089c6(0x1bd));return _0x1624fa?(_0x1bb719['style'][_0x1089c6(0x261)]='#ff453a',_0x1bb719[_0x1089c6(0x1a9)][_0x1089c6(0x1bc)]=_0x1089c6(0x19d)):(_0x1bb719[_0x1089c6(0x1a9)][_0x1089c6(0x261)]=_0x1089c6(0x240),_0x1bb719[_0x1089c6(0x1a9)][_0x1089c6(0x1bc)]=_0x1089c6(0x19d)),new Promise(_0xded426=>{const _0x5ca8e3=_0x1089c6;confirmResolver=_0xded426,document[_0x5ca8e3(0x1ec)](_0x5ca8e3(0x1ed))[_0x5ca8e3(0x1a6)][_0x5ca8e3(0x1f0)]('visible');});}function resolveCustomConfirm(_0x5196ce){const _0x1378a8=a3_0x57cd79;document[_0x1378a8(0x1ec)](_0x1378a8(0x1ed))[_0x1378a8(0x1a6)][_0x1378a8(0x1d1)](_0x1378a8(0x1ca));if(confirmResolver)confirmResolver(_0x5196ce);}async function tryCancelCurrentSession(){const _0x3696f0=a3_0x57cd79;if(!currentSession)return;const _0x4d00e1=await showCustomConfirm(_0x3696f0(0x25d),_0x3696f0(0x1de),!![]);if(!_0x4d00e1)return;const _0x8dc15c=currentSession;closeAllSheets(),sessions=sessions[_0x3696f0(0x268)](_0x2ab7dd=>_0x2ab7dd['id']!==_0x8dc15c['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x559fba=window[_0x3696f0(0x230)]?.['WebApp'],_0x3ecc81=await fetch(API_URL,{'method':_0x3696f0(0x1e9),'body':JSON[_0x3696f0(0x24b)]({'action':_0x3696f0(0x22b),'init_data':_0x559fba?.[_0x3696f0(0x192)]||'','coachId':_0x8dc15c[_0x3696f0(0x26d)],'dateStr':_0x8dc15c['dateStr'],'sessionId':_0x8dc15c['id']})});if(_0x3ecc81['ok'])DataManager[_0x3696f0(0x26a)]();}catch(_0x202fb0){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5df1b4=a3_0x57cd79;if(!currentSession)return;document['getElementById'](_0x5df1b4(0x1d4))[_0x5df1b4(0x1a6)][_0x5df1b4(0x1d1)]('open'),document['getElementById'](_0x5df1b4(0x28b))[_0x5df1b4(0x1a6)][_0x5df1b4(0x1f0)](_0x5df1b4(0x1ee));const _0x5ad1e2=document['getElementById'](_0x5df1b4(0x1da)),_0x344864=document['getElementById'](_0x5df1b4(0x1c8));_0x5ad1e2[_0x5df1b4(0x245)]='',_0x344864[_0x5df1b4(0x245)]=_0x5df1b4(0x274);const [_0x4a9eb4,_0x2c8b02]=currentSession[_0x5df1b4(0x21a)]['split'](':')[_0x5df1b4(0x221)](Number),[_0x180561,_0x51336d]=currentSession['end'][_0x5df1b4(0x244)](':')[_0x5df1b4(0x221)](Number),_0x374409=_0x180561*0x3c+_0x51336d-(_0x4a9eb4*0x3c+_0x2c8b02);try{const _0x3a87fb=window['Telegram']?.['WebApp'],_0x3e6c98=await fetch(API_URL,{'method':_0x5df1b4(0x1e9),'body':JSON[_0x5df1b4(0x24b)]({'action':_0x5df1b4(0x1ef),'coachId':currentSession['coachId'],'duration':_0x374409,'init_data':_0x3a87fb?.[_0x5df1b4(0x192)]||'','excludeSessionId':currentSession['id']})}),_0x5e981f=await _0x3e6c98[_0x5df1b4(0x1b2)]();_0x5e981f['ok']&&_0x5e981f[_0x5df1b4(0x215)]?(availableSlotsCache=_0x5e981f[_0x5df1b4(0x215)],renderRescheduleDates()):_0x344864[_0x5df1b4(0x245)]=_0x5df1b4(0x223);}catch(_0x3317b7){_0x344864[_0x5df1b4(0x245)]=_0x5df1b4(0x228);}}function renderRescheduleDates(){const _0x3aca79=a3_0x57cd79,_0x42098f=document['getElementById']('rsDatesTrack');_0x42098f[_0x3aca79(0x245)]='';const _0x37017e=Object[_0x3aca79(0x200)](availableSlotsCache)[_0x3aca79(0x273)](),_0xff0ddf=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x37017e[_0x3aca79(0x1bf)]===0x0){document[_0x3aca79(0x1ec)](_0x3aca79(0x1c8))[_0x3aca79(0x245)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x37017e['forEach']((_0x3d73cb,_0x3f25d5)=>{const _0x3547bb=_0x3aca79,_0x179d35=new Date(_0x3d73cb),_0x11182e=_0xff0ddf[_0x179d35['getDay']()],_0x10b0f5=_0x179d35[_0x3547bb(0x21e)](),_0x30e63f=document[_0x3547bb(0x1b7)](_0x3547bb(0x26e));_0x30e63f[_0x3547bb(0x222)]=_0x3547bb(0x259);if(_0x3f25d5===0x0)_0x30e63f[_0x3547bb(0x1a6)]['add']('active');_0x30e63f[_0x3547bb(0x245)]='<div\x20class=\x22rs-day-name\x22>'+_0x11182e+_0x3547bb(0x253)+_0x10b0f5+_0x3547bb(0x1ff),_0x30e63f[_0x3547bb(0x277)]=()=>selectRsDate(_0x3d73cb,_0x30e63f),_0x42098f['appendChild'](_0x30e63f);}),selectRsDate(_0x37017e[0x0],_0x42098f[_0x3aca79(0x27b)]);}function selectRsDate(_0x5846a6,_0x309158){const _0x665008=a3_0x57cd79;selectedRsDate=_0x5846a6,document['querySelectorAll'](_0x665008(0x199))[_0x665008(0x232)](_0x2efc1a=>_0x2efc1a[_0x665008(0x1a6)][_0x665008(0x1d1)](_0x665008(0x239)));if(_0x309158)_0x309158['classList'][_0x665008(0x1f0)]('active');const _0x3977e5=document['getElementById'](_0x665008(0x1c8));_0x3977e5[_0x665008(0x245)]='';const _0x35ebbd=availableSlotsCache[_0x5846a6]||[];if(_0x35ebbd[_0x665008(0x1bf)]===0x0){_0x3977e5['innerHTML']=_0x665008(0x223);return;}_0x35ebbd[_0x665008(0x232)](_0x4a8f3e=>{const _0x14514a=_0x665008,_0x1cf2d9=document['createElement'](_0x14514a(0x1e3));_0x1cf2d9['className']='rs-time-btn',_0x1cf2d9[_0x14514a(0x1e2)]=_0x4a8f3e,_0x1cf2d9['onclick']=()=>confirmReschedule(_0x4a8f3e),_0x3977e5[_0x14514a(0x194)](_0x1cf2d9);});}async function confirmReschedule(_0x31890b){const _0x5e4d0e=a3_0x57cd79,_0x3855b3=new Date(selectedRsDate),_0x12942a=_0x3855b3[_0x5e4d0e(0x255)](_0x5e4d0e(0x236),{'day':_0x5e4d0e(0x209),'month':'long'}),_0x640637=await showCustomConfirm(_0x5e4d0e(0x190),_0x5e4d0e(0x195)+_0x12942a+_0x5e4d0e(0x26f)+_0x31890b+'?',![]);if(!_0x640637)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0xd2e1c6=currentSession['dateStr'],_0x2a27d6=currentSession['id'],[_0x2a33c5,_0x1b8e4e]=currentSession[_0x5e4d0e(0x21a)][_0x5e4d0e(0x244)](':')['map'](Number),[_0x2c763d,_0x5c7149]=currentSession[_0x5e4d0e(0x1f3)][_0x5e4d0e(0x244)](':')[_0x5e4d0e(0x221)](Number),_0x2c3a35=_0x2c763d*0x3c+_0x5c7149-(_0x2a33c5*0x3c+_0x1b8e4e),[_0x1a4e58,_0x492bb0]=_0x31890b['split'](':')['map'](Number),_0x48ce81=_0x1a4e58*0x3c+_0x492bb0+_0x2c3a35,_0x1c8c65=Math[_0x5e4d0e(0x20d)](_0x48ce81/0x3c),_0x52f9fa=_0x48ce81%0x3c,_0x5559c8=String(_0x1c8c65)[_0x5e4d0e(0x204)](0x2,'0')+':'+String(_0x52f9fa)['padStart'](0x2,'0'),_0xa447ad=sessions[_0x5e4d0e(0x1e6)](_0x3cb89e=>_0x3cb89e['id']===_0x2a27d6);_0xa447ad!==-0x1&&(sessions[_0xa447ad][_0x5e4d0e(0x20e)]=selectedRsDate,sessions[_0xa447ad][_0x5e4d0e(0x21a)]=_0x31890b,sessions[_0xa447ad][_0x5e4d0e(0x1f3)]=_0x5559c8,reRenderBlocks());try{const _0x54cbbb=window[_0x5e4d0e(0x230)]?.[_0x5e4d0e(0x249)],_0x50fac0=await fetch(API_URL,{'method':_0x5e4d0e(0x1e9),'body':JSON[_0x5e4d0e(0x24b)]({'action':_0x5e4d0e(0x216),'init_data':_0x54cbbb?.[_0x5e4d0e(0x192)]||'','oldSessionId':_0x2a27d6,'oldDate':_0xd2e1c6,'newDate':selectedRsDate,'newTime':_0x31890b,'coachId':currentSession[_0x5e4d0e(0x26d)]})}),_0x2d2a87=await _0x50fac0[_0x5e4d0e(0x1b2)]();!_0x2d2a87['ok']?(showToast(_0x5e4d0e(0x235)),DataManager[_0x5e4d0e(0x237)]()):(showToast(_0x5e4d0e(0x1ae)),DataManager[_0x5e4d0e(0x26a)]());}catch(_0x18b47d){showToast(_0x5e4d0e(0x25e));}}document[a3_0x57cd79(0x202)](a3_0x57cd79(0x25c),init);