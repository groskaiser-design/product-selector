const a3_0x542496=a3_0x4f0c;(function(_0x579250,_0x3f8e1c){const _0x2a8723=a3_0x4f0c,_0x322616=_0x579250();while(!![]){try{const _0x11f4b1=parseInt(_0x2a8723(0x23b))/0x1*(parseInt(_0x2a8723(0x154))/0x2)+-parseInt(_0x2a8723(0x1ae))/0x3+-parseInt(_0x2a8723(0x241))/0x4*(parseInt(_0x2a8723(0x1fc))/0x5)+-parseInt(_0x2a8723(0x219))/0x6+-parseInt(_0x2a8723(0x1b7))/0x7*(parseInt(_0x2a8723(0x208))/0x8)+parseInt(_0x2a8723(0x1eb))/0x9*(-parseInt(_0x2a8723(0x1ca))/0xa)+parseInt(_0x2a8723(0x176))/0xb*(parseInt(_0x2a8723(0x16f))/0xc);if(_0x11f4b1===_0x3f8e1c)break;else _0x322616['push'](_0x322616['shift']());}catch(_0x57f9f2){_0x322616['push'](_0x322616['shift']());}}}(a3_0x2715,0x8de09));const APP_VERSION=a3_0x542496(0x1de),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x542496(0x1c0),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x542496(0x177);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x542496(0x1ec),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56fd90=a3_0x542496,_0x4cdd4a=(function(){let _0x598983=!![];return function(_0x4adfe1,_0x592f20){const _0x168806=_0x598983?function(){if(_0x592f20){const _0x5784dc=_0x592f20['apply'](_0x4adfe1,arguments);return _0x592f20=null,_0x5784dc;}}:function(){};return _0x598983=![],_0x168806;};}()),_0x136fbb=_0x4cdd4a(this,function(){const _0x257028=a3_0x4f0c;return _0x136fbb[_0x257028(0x1a9)]()['search'](_0x257028(0x227))[_0x257028(0x1a9)]()[_0x257028(0x194)](_0x136fbb)[_0x257028(0x1c8)](_0x257028(0x227));});_0x136fbb();try{const _0x2cf4ba=window['Telegram']?.[_0x56fd90(0x1f0)];if(!_0x2cf4ba)return;_0x2cf4ba[_0x56fd90(0x1b3)](),_0x2cf4ba[_0x56fd90(0x196)]();try{_0x2cf4ba['setHeaderColor']('#050505'),_0x2cf4ba[_0x56fd90(0x22b)]&&_0x2cf4ba[_0x56fd90(0x22b)](_0x56fd90(0x187));}catch(_0x17fc14){console[_0x56fd90(0x17e)](_0x56fd90(0x148),_0x17fc14);}try{_0x2cf4ba[_0x56fd90(0x1f5)]&&(_0x2cf4ba[_0x56fd90(0x1f5)]['show'](),_0x2cf4ba[_0x56fd90(0x1f5)]['offClick'](),_0x2cf4ba[_0x56fd90(0x1f5)][_0x56fd90(0x211)](function(){const _0x426204=_0x56fd90;window[_0x426204(0x1e2)][_0x426204(0x17d)]=_0x426204(0x189);}));}catch(_0x17b150){console[_0x56fd90(0x17e)](_0x56fd90(0x1dd),_0x17b150);}try{if(_0x2cf4ba[_0x56fd90(0x152)])_0x2cf4ba['disableVerticalSwipes']();}catch(_0xaeade0){}}catch(_0x3ecc86){console['error'](_0x56fd90(0x1b0),_0x3ecc86);}}());function isAdmin(){const _0x5c3217=a3_0x542496;try{const _0x542b43=Number(window['Telegram']?.['WebApp']?.[_0x5c3217(0x17c)]?.[_0x5c3217(0x1fb)]?.['id']);return _0x542b43===0xbaf7174;}catch(_0x38e563){return![];}}const DataManager={'saveLocally'(){const _0x305359=a3_0x542496;try{localStorage[_0x305359(0x151)](KEY_SESSIONS,JSON[_0x305359(0x20e)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x305359(0x20e)](clients)),localStorage[_0x305359(0x151)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3cecb5){}},'loadLocal'(){const _0x3ab8d6=a3_0x542496;try{const _0x2a0680=localStorage[_0x3ab8d6(0x1ea)](KEY_SESSIONS);if(_0x2a0680)sessions=JSON[_0x3ab8d6(0x240)](_0x2a0680);const _0x5a23bc=localStorage[_0x3ab8d6(0x1ea)](KEY_CLIENTS);if(_0x5a23bc)clients=JSON['parse'](_0x5a23bc);const _0x1490af=localStorage[_0x3ab8d6(0x1ea)](KEY_SETTINGS);if(_0x1490af){const _0x2ebb51=JSON[_0x3ab8d6(0x240)](_0x1490af);if(_0x2ebb51[_0x3ab8d6(0x1d2)])availabilityPattern=_0x2ebb51[_0x3ab8d6(0x1d2)];if(_0x2ebb51['ranges'])specialRanges=_0x2ebb51[_0x3ab8d6(0x1b6)];if(_0x2ebb51[_0x3ab8d6(0x233)])dateExceptions=_0x2ebb51['exceptions'];}}catch(_0x31b9e6){}},async 'syncLoad'(){const _0x146e6a=a3_0x542496,_0xad1a04=new Date(),_0x19940c=_0xad1a04['getFullYear']()+'-'+String(_0xad1a04[_0x146e6a(0x229)]()+0x1)[_0x146e6a(0x1cd)](0x2,'0'),_0x20bcc0=new Date(_0xad1a04);_0x20bcc0[_0x146e6a(0x157)](_0xad1a04[_0x146e6a(0x229)]()+0x1);const _0x26ba34=_0x20bcc0['getFullYear']()+'-'+String(_0x20bcc0[_0x146e6a(0x229)]()+0x1)[_0x146e6a(0x1cd)](0x2,'0'),_0x17c7cb=Date[_0x146e6a(0x153)]();try{const _0x5c469d=window[_0x146e6a(0x175)]?.[_0x146e6a(0x1f0)],_0x2b40a4=_0x5c469d?.[_0x146e6a(0x204)]||'',[_0xf83895,_0x52b09c]=await Promise[_0x146e6a(0x243)]([fetch(API_URL,{'method':_0x146e6a(0x173),'body':JSON[_0x146e6a(0x20e)]({'action':_0x146e6a(0x19e),'init_data':_0x2b40a4,'month_str':_0x19940c})})[_0x146e6a(0x1a1)](_0x3dc33b=>_0x3dc33b[_0x146e6a(0x170)]()),fetch(API_URL,{'method':_0x146e6a(0x173),'body':JSON['stringify']({'action':_0x146e6a(0x19e),'init_data':_0x2b40a4,'month_str':_0x26ba34})})[_0x146e6a(0x1a1)](_0x38dd86=>_0x38dd86[_0x146e6a(0x170)]())]);if(lastUserActionTime>_0x17c7cb){console[_0x146e6a(0x17e)](_0x146e6a(0x19a));return;}if(_0xf83895['ok'])this[_0x146e6a(0x160)](_0xf83895[_0x146e6a(0x16e)],_0x19940c);if(_0x52b09c['ok'])this[_0x146e6a(0x160)](_0x52b09c['data'],_0x26ba34);this[_0x146e6a(0x23c)]();}catch(_0x199328){}},'applyData'(_0x1672df,_0x1c3503){const _0x1673d4=a3_0x542496;if(!_0x1672df)return;if(_0x1672df[_0x1673d4(0x1a8)]){if(_0x1672df[_0x1673d4(0x1a8)][_0x1673d4(0x1d2)])availabilityPattern=_0x1672df[_0x1673d4(0x1a8)][_0x1673d4(0x1d2)];if(_0x1672df[_0x1673d4(0x1a8)][_0x1673d4(0x1b6)])specialRanges=_0x1672df[_0x1673d4(0x1a8)][_0x1673d4(0x1b6)];if(_0x1672df[_0x1673d4(0x1a8)][_0x1673d4(0x233)])dateExceptions=_0x1672df['settings'][_0x1673d4(0x233)];}if(_0x1672df[_0x1673d4(0x191)]&&Array['isArray'](_0x1672df['clients']))clients=_0x1672df[_0x1673d4(0x191)];_0x1672df['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x1672df[_0x1673d4(0x1b1)]}),_0x1672df[_0x1673d4(0x1ac)]&&(sessions=sessions[_0x1673d4(0x168)](_0x208fba=>!_0x208fba[_0x1673d4(0x1cb)][_0x1673d4(0x1f3)](_0x1c3503)),Object['keys'](_0x1672df[_0x1673d4(0x1ac)])[_0x1673d4(0x1d6)](_0x60900d=>{const _0x5bf87d=_0x1673d4,_0x2009d1=_0x1672df[_0x5bf87d(0x1ac)][_0x60900d];_0x2009d1[_0x5bf87d(0x1d6)](_0x3d0574=>{const _0x33832b=_0x5bf87d;sessions[_0x33832b(0x1ee)]({'id':_0x3d0574['i'],'clientId':_0x3d0574['c'],'coachId':_0x3d0574[_0x33832b(0x19d)],'dateStr':_0x1c3503+'-'+_0x60900d[_0x33832b(0x1cd)](0x2,'0'),'start':_0x3d0574['s'],'end':_0x3d0574['e'],'note':_0x3d0574['n']||'','status':_0x3d0574['st']||'planned','seriesId':_0x3d0574[_0x33832b(0x16c)]});});})),reRenderBlocks();}};function init(){const _0x17840d=a3_0x542496;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x17840d(0x1a4)](_0x17840d(0x214))[_0x17840d(0x1e0)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x17840d(0x1dc)]();}function renderTimeColumn(){const _0xfea41a=a3_0x542496,_0x32b9b6=document[_0xfea41a(0x1a4)](_0xfea41a(0x213)),_0x30a000=document[_0xfea41a(0x1a4)]('timeLineBadge');_0x32b9b6[_0xfea41a(0x18f)]='',_0x32b9b6['appendChild'](_0x30a000);for(let _0x4ea88e=0x0;_0x4ea88e<0x18;_0x4ea88e++){const _0x4c4c0d=document[_0xfea41a(0x1c1)]('div');_0x4c4c0d[_0xfea41a(0x15f)]=_0xfea41a(0x1d7);if(_0x4ea88e>0x0)_0x4c4c0d['innerHTML']=_0xfea41a(0x1be)+String(_0x4ea88e)['padStart'](0x2,'0')+_0xfea41a(0x216);_0x32b9b6[_0xfea41a(0x1c3)](_0x4c4c0d);}}function renderDayRange(_0x517cda,_0x47a2b5){const _0x4b5d8f=a3_0x542496,_0xff394e=document['getElementById'](_0x4b5d8f(0x1a6)),_0x17e5b7=document['getElementById'](_0x4b5d8f(0x200)),_0x349bbe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4fbfc2=new Date();_0x4fbfc2[_0x4b5d8f(0x22c)](0x0,0x0,0x0,0x0);const _0x25b567=getLocalDateStr(new Date());for(let _0x3ba902=_0x517cda;_0x3ba902<=_0x47a2b5;_0x3ba902++){const _0x50970a=new Date(_0x4fbfc2);_0x50970a[_0x4b5d8f(0x1ff)](_0x50970a[_0x4b5d8f(0x1b9)]()+_0x3ba902);const _0x1b794e=getLocalDateStr(_0x50970a);let _0x43be68=_0x50970a[_0x4b5d8f(0x1b5)]()-0x1;if(_0x43be68===-0x1)_0x43be68=0x6;const _0x9c375=_0x1b794e===_0x25b567,_0x2c30c1=document[_0x4b5d8f(0x1c1)]('div');_0x2c30c1[_0x4b5d8f(0x15f)]=_0x4b5d8f(0x1ab)+(_0x9c375?_0x4b5d8f(0x14b):''),_0x2c30c1['setAttribute'](_0x4b5d8f(0x14d),_0x1b794e),_0x2c30c1[_0x4b5d8f(0x18f)]=_0x4b5d8f(0x1a3)+_0x349bbe[_0x43be68]+_0x4b5d8f(0x1cf)+_0x50970a[_0x4b5d8f(0x1b9)]()+_0x4b5d8f(0x155),_0xff394e['appendChild'](_0x2c30c1);const _0x1442fb=document[_0x4b5d8f(0x1c1)](_0x4b5d8f(0x1e6));_0x1442fb[_0x4b5d8f(0x15f)]=_0x4b5d8f(0x166)+(_0x9c375?'today':''),_0x1442fb[_0x4b5d8f(0x15b)](_0x4b5d8f(0x14d),_0x1b794e),_0x1442fb[_0x4b5d8f(0x15b)](_0x4b5d8f(0x244),_0x43be68),_0x17e5b7[_0x4b5d8f(0x1c3)](_0x1442fb);}}function reRenderBlocks(){const _0x253845=a3_0x542496;document['querySelectorAll'](_0x253845(0x1ba))[_0x253845(0x1d6)](_0x2feefe=>{const _0x5cba86=_0x253845;_0x2feefe['querySelectorAll'](_0x5cba86(0x203))[_0x5cba86(0x1d6)](_0x4157b6=>_0x4157b6[_0x5cba86(0x178)]());const _0x2e6965=_0x2feefe['getAttribute'](_0x5cba86(0x14d)),_0x495406=parseInt(_0x2feefe[_0x5cba86(0x22a)](_0x5cba86(0x244))),_0x36df85=Math['round'](_0x2feefe[_0x5cba86(0x236)]);(availabilityPattern[_0x495406]||[])[_0x5cba86(0x1d6)](_0x4a2b63=>{const _0x300525=_0x5cba86,_0x483e69=document[_0x300525(0x1c1)]('div');_0x483e69[_0x300525(0x15f)]='blocked-slot\x20stripe-bg',_0x483e69[_0x300525(0x1ed)][_0x300525(0x172)]=_0x4a2b63*GRID_H+'px',_0x483e69[_0x300525(0x1ed)]['backgroundPosition']='-'+_0x36df85+_0x300525(0x238)+_0x4a2b63*GRID_H+'px',_0x2feefe[_0x300525(0x1c3)](_0x483e69);});if(specialRanges[_0x5cba86(0x1b4)]>0x0){const _0x356053=new Date(_0x2e6965+_0x5cba86(0x1af))[_0x5cba86(0x188)](),_0x4f75b9=new Date(_0x2e6965+'T23:59:59')[_0x5cba86(0x188)]();specialRanges['forEach'](_0xe79b2a=>{const _0x3f6030=_0x5cba86,_0x38311e=new Date(_0xe79b2a['start'])[_0x3f6030(0x188)](),_0x5431a8=new Date(_0xe79b2a[_0x3f6030(0x20b)])[_0x3f6030(0x188)](),_0x15b3ed=Math[_0x3f6030(0x1bf)](_0x356053,_0x38311e),_0x1d9a35=Math['min'](_0x4f75b9,_0x5431a8);if(_0x15b3ed<_0x1d9a35){const _0x495206=(_0x15b3ed-_0x356053)/0x36ee80*GRID_H,_0x4e8338=(_0x1d9a35-_0x15b3ed)/0x36ee80*GRID_H,_0x247afe=document[_0x3f6030(0x1c1)](_0x3f6030(0x1e6));_0x4e8338>=23.5*GRID_H?(_0x247afe[_0x3f6030(0x15f)]='day-off-overlay\x20stripe-bg',_0x247afe[_0x3f6030(0x1ed)][_0x3f6030(0x165)]='-'+_0x36df85+'px\x200px'):(_0x247afe[_0x3f6030(0x15f)]='blocked-range-part\x20stripe-bg',_0x247afe[_0x3f6030(0x1ed)][_0x3f6030(0x172)]=_0x495206+'px',_0x247afe['style'][_0x3f6030(0x18e)]=_0x4e8338+'px',_0x247afe[_0x3f6030(0x1ed)]['backgroundPosition']='-'+_0x36df85+_0x3f6030(0x238)+_0x495206+'px'),_0x2feefe[_0x3f6030(0x1c3)](_0x247afe);}});}renderEventsForColumn(_0x2feefe,_0x2e6965);});}function renderEventsForColumn(_0x3ffacb,_0x56de43){const _0x184767=a3_0x542496,_0x14dc39=sessions[_0x184767(0x168)](_0x16aa8a=>_0x16aa8a[_0x184767(0x1cb)]===_0x56de43),_0xf2d116=_0x14dc39[_0x184767(0x179)](_0x18a6f6=>{const _0x4d7053=_0x184767,[_0x3eee50,_0x49a9d3]=_0x18a6f6[_0x4d7053(0x21f)][_0x4d7053(0x23f)](':')[_0x4d7053(0x179)](Number),[_0x101d56,_0x81a751]=_0x18a6f6['end'][_0x4d7053(0x23f)](':')[_0x4d7053(0x179)](Number);return{'data':_0x18a6f6,'start':_0x3eee50*0x3c+_0x49a9d3,'end':_0x101d56*0x3c+_0x81a751,'colIndex':0x0};});_0xf2d116[_0x184767(0x221)]((_0x5959ea,_0x5e35f7)=>_0x5959ea[_0x184767(0x21f)]-_0x5e35f7[_0x184767(0x21f)]||_0x5e35f7['end']-_0x5e35f7[_0x184767(0x21f)]-(_0x5959ea['end']-_0x5959ea[_0x184767(0x21f)]));const _0x2fb65c=[];_0xf2d116[_0x184767(0x1d6)](_0xf98fc4=>{const _0x257b06=_0x184767;let _0x5bc03c=![];for(let _0x1ff493=0x0;_0x1ff493<_0x2fb65c[_0x257b06(0x1b4)];_0x1ff493++){const _0x3eab77=_0x2fb65c[_0x1ff493];if(_0xf98fc4[_0x257b06(0x21f)]>=_0x3eab77[_0x3eab77[_0x257b06(0x1b4)]-0x1][_0x257b06(0x20b)]){_0x3eab77[_0x257b06(0x1ee)](_0xf98fc4),_0xf98fc4[_0x257b06(0x1fa)]=_0x1ff493,_0x5bc03c=!![];break;}}!_0x5bc03c&&(_0x2fb65c[_0x257b06(0x1ee)]([_0xf98fc4]),_0xf98fc4[_0x257b06(0x1fa)]=_0x2fb65c[_0x257b06(0x1b4)]-0x1);}),_0xf2d116[_0x184767(0x1d6)](_0x31e4ca=>{const _0x4624bc=_0x184767;let _0x1da072=0x0;_0xf2d116[_0x4624bc(0x1d6)](_0x31f717=>{const _0x3acffd=_0x4624bc;if(Math['max'](_0x31e4ca['start'],_0x31f717[_0x3acffd(0x21f)])<Math['min'](_0x31e4ca[_0x3acffd(0x20b)],_0x31f717[_0x3acffd(0x20b)])&&_0x31f717['colIndex']>_0x1da072)_0x1da072=_0x31f717[_0x3acffd(0x1fa)];});const _0x44cbb3=_0x1da072+0x1,_0x359667=0x64/_0x44cbb3,_0x2b4cb8=_0x31e4ca['colIndex']*_0x359667,_0x27cead=document[_0x4624bc(0x1c1)](_0x4624bc(0x1e6)),_0x3fef2d=_0x31e4ca[_0x4624bc(0x16e)];let _0x59450d=_0x4624bc(0x150);if(clients&&clients[_0x4624bc(0x1b4)]>0x0){const _0x8e715b=clients['find'](_0x4cbd52=>String(_0x4cbd52['id'])===String(_0x3fef2d[_0x4624bc(0x22f)]));if(_0x8e715b&&_0x8e715b[_0x4624bc(0x18c)])_0x59450d=_0x8e715b[_0x4624bc(0x18c)];}const _0x47cd7d=_0x3fef2d['status']===_0x4624bc(0x159),_0x561fc4=_0x47cd7d?0x1:0.45;_0x27cead[_0x4624bc(0x15f)]=_0x4624bc(0x16d)+(_0x47cd7d?_0x4624bc(0x226):''),_0x27cead[_0x4624bc(0x1ed)][_0x4624bc(0x202)]=hexToRgba(_0x59450d,_0x561fc4),_0x27cead[_0x4624bc(0x1ed)][_0x4624bc(0x21c)]=_0x59450d;const _0x4c6de9=_0x31e4ca[_0x4624bc(0x21f)]/0x3c*GRID_H,_0x549b2b=(_0x31e4ca['end']-_0x31e4ca[_0x4624bc(0x21f)])/0x3c*GRID_H;_0x27cead['style'][_0x4624bc(0x172)]=_0x4c6de9+'px',_0x27cead[_0x4624bc(0x1ed)][_0x4624bc(0x18e)]=Math[_0x4624bc(0x1bf)](_0x549b2b,0x14)+'px',_0x27cead['style'][_0x4624bc(0x1d9)]='calc('+_0x359667+_0x4624bc(0x20d),_0x27cead[_0x4624bc(0x1ed)][_0x4624bc(0x222)]=_0x4624bc(0x230)+_0x2b4cb8+_0x4624bc(0x20a),_0x27cead[_0x4624bc(0x1ed)][_0x4624bc(0x23d)]=0xa+_0x31e4ca[_0x4624bc(0x1fa)];if(_0x359667<0x55)_0x27cead['classList'][_0x4624bc(0x167)](_0x4624bc(0x149));let _0x256ccd='';if(_0x3fef2d['seriesId'])_0x256ccd+=_0x4624bc(0x16b);if(_0x47cd7d)_0x256ccd+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x27cead[_0x4624bc(0x18f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x3fef2d[_0x4624bc(0x21f)]+_0x4624bc(0x1db)+_0x3fef2d[_0x4624bc(0x20b)]+_0x4624bc(0x16a)+_0x256ccd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x27cead[_0x4624bc(0x15c)]=_0x58337f=>{const _0x3bd9af=_0x4624bc;_0x58337f[_0x3bd9af(0x180)](),openDetails(_0x3fef2d);},_0x3ffacb[_0x4624bc(0x1c3)](_0x27cead);});}function openAnalytics(){const _0x54956e=a3_0x542496,_0x480e86=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x54956e(0x1ec),_0x480e86),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x280053,_0x14f5c5){const _0x332a98=a3_0x542496;currentAnPeriod=_0x280053,document['querySelectorAll'](_0x332a98(0x14f))[_0x332a98(0x1d6)](_0xe04ffb=>_0xe04ffb[_0x332a98(0x1c2)][_0x332a98(0x178)]('active'));if(_0x14f5c5)_0x14f5c5[_0x332a98(0x1c2)][_0x332a98(0x167)](_0x332a98(0x1bd));const _0x120891=document[_0x332a98(0x1a4)](_0x332a98(0x161));_0x120891['style'][_0x332a98(0x1bb)]=_0x280053===_0x332a98(0x1c7)?_0x332a98(0x1aa):_0x332a98(0x1f4);const _0x130775=new Date();let _0x50d726=new Date(),_0x5dada1=new Date();if(_0x280053===_0x332a98(0x1ec))_0x50d726=getStartOfWeek(_0x130775),_0x5dada1=new Date(_0x50d726),_0x5dada1[_0x332a98(0x1ff)](_0x5dada1[_0x332a98(0x1b9)]()+0x6);else{if(_0x280053===_0x332a98(0x1e3))_0x50d726=new Date(_0x130775[_0x332a98(0x164)](),_0x130775[_0x332a98(0x229)](),0x1),_0x5dada1=new Date(_0x130775['getFullYear'](),_0x130775['getMonth']()+0x1,0x0);else{!document[_0x332a98(0x1a4)](_0x332a98(0x235))['value']&&(document['getElementById'](_0x332a98(0x235))[_0x332a98(0x19b)]=getLocalDateStr(_0x130775),document[_0x332a98(0x1a4)](_0x332a98(0x223))['value']=getLocalDateStr(_0x130775));refreshAnalytics();return;}}document[_0x332a98(0x1a4)]('anStart')[_0x332a98(0x19b)]=getLocalDateStr(_0x50d726),document[_0x332a98(0x1a4)](_0x332a98(0x223))[_0x332a98(0x19b)]=getLocalDateStr(_0x5dada1),refreshAnalytics();}function refreshAnalytics(){const _0x1ef85e=a3_0x542496,_0x152ed6=document['getElementById']('anStart')[_0x1ef85e(0x19b)],_0x5088bd=document[_0x1ef85e(0x1a4)](_0x1ef85e(0x223))['value'];if(!_0x152ed6||!_0x5088bd)return;const _0x75d76d=sessions[_0x1ef85e(0x168)](_0x27daec=>_0x27daec['dateStr']>=_0x152ed6&&_0x27daec[_0x1ef85e(0x1cb)]<=_0x5088bd&&_0x27daec[_0x1ef85e(0x1e4)]!==_0x1ef85e(0x206)),_0x17386a=_0x75d76d[_0x1ef85e(0x1b4)],_0x2eef53=_0x75d76d[_0x1ef85e(0x168)](_0x2cd481=>_0x2cd481[_0x1ef85e(0x1e4)]==='completed')[_0x1ef85e(0x1b4)],_0x360e8e=_0x17386a>0x0?Math[_0x1ef85e(0x1e7)](_0x2eef53/_0x17386a*0x64):0x0;document[_0x1ef85e(0x1a4)](_0x1ef85e(0x190))[_0x1ef85e(0x1f7)]=_0x360e8e+'%',document[_0x1ef85e(0x1a4)](_0x1ef85e(0x197))[_0x1ef85e(0x1f7)]=_0x2eef53+_0x1ef85e(0x195)+_0x17386a+_0x1ef85e(0x1f2);const _0x5becc4=document[_0x1ef85e(0x1a4)](_0x1ef85e(0x212)),_0x537dc5=0x2*Math['PI']*0x23,_0x3cd781=_0x537dc5-_0x360e8e/0x64*_0x537dc5;_0x5becc4[_0x1ef85e(0x1ed)][_0x1ef85e(0x21a)]=_0x3cd781;const _0x2b304d={};_0x75d76d[_0x1ef85e(0x1d6)](_0xfb9efe=>{const _0x1f3952=_0x1ef85e,_0x8bc48f=_0xfb9efe[_0x1f3952(0x1d3)]||_0x1f3952(0x19c);if(!_0x2b304d[_0x8bc48f]){const _0xe9d000='#'+_0x8bc48f[_0x1f3952(0x1a9)]()[_0x1f3952(0x171)](0x0,0x6);_0x2b304d[_0x8bc48f]={'total':0x0,'done':0x0,'color':_0xe9d000};}_0x2b304d[_0x8bc48f]['total']++;if(_0xfb9efe[_0x1f3952(0x1e4)]===_0x1f3952(0x159))_0x2b304d[_0x8bc48f][_0x1f3952(0x1d1)]++;});const _0x2fd286=document[_0x1ef85e(0x1a4)]('analyticsList');_0x2fd286[_0x1ef85e(0x18f)]='';const _0x5d633f=Object['entries'](_0x2b304d)[_0x1ef85e(0x221)]((_0x2de965,_0x52a806)=>_0x52a806[0x1][_0x1ef85e(0x220)]-_0x2de965[0x1]['total']);if(_0x5d633f[_0x1ef85e(0x1b4)]===0x0){_0x2fd286[_0x1ef85e(0x18f)]=_0x1ef85e(0x158);return;}_0x5d633f[_0x1ef85e(0x1d6)](([_0x3b3537,_0x27d4b8])=>{const _0x43df35=_0x1ef85e,_0xd1530f=Math[_0x43df35(0x1e7)](_0x27d4b8[_0x43df35(0x1d1)]/_0x27d4b8[_0x43df35(0x220)]*0x64),_0x84958a=document['createElement'](_0x43df35(0x1e6));_0x84958a[_0x43df35(0x15f)]='client-stat-card',_0x84958a[_0x43df35(0x1ed)]['borderLeftColor']=_0x27d4b8[_0x43df35(0x18c)],_0x84958a[_0x43df35(0x18f)]=_0x43df35(0x1f1)+_0x3b3537[_0x43df35(0x171)](0x0,0x5)+_0x43df35(0x18b)+_0x27d4b8[_0x43df35(0x1d1)]+_0x43df35(0x205)+_0x27d4b8[_0x43df35(0x220)]+_0x43df35(0x193)+_0xd1530f+_0x43df35(0x225),_0x2fd286['appendChild'](_0x84958a);});}function openDetails(_0x261f72){const _0x124dce=a3_0x542496;currentSession=_0x261f72;const _0x4167fc=new Date(_0x261f72[_0x124dce(0x1cb)]),_0x35df5d=_0x4167fc[_0x124dce(0x183)]('ru-RU',{'weekday':_0x124dce(0x20f),'day':'numeric','month':_0x124dce(0x20f)});document[_0x124dce(0x1a4)]('detDate')[_0x124dce(0x1f7)]=_0x35df5d[_0x124dce(0x1c9)](0x0)['toUpperCase']()+_0x35df5d[_0x124dce(0x1d4)](0x1),document[_0x124dce(0x1a4)](_0x124dce(0x1da))[_0x124dce(0x1f7)]=_0x261f72[_0x124dce(0x21f)]+_0x124dce(0x1db)+_0x261f72[_0x124dce(0x20b)],document[_0x124dce(0x1a4)]('detNote')[_0x124dce(0x1f7)]=_0x261f72[_0x124dce(0x192)]||_0x124dce(0x224);const _0x17b447=document[_0x124dce(0x1a4)](_0x124dce(0x215)),_0x45e0d5=document[_0x124dce(0x1a4)](_0x124dce(0x185)),_0x581b6b=_0x45e0d5[_0x124dce(0x237)](_0x124dce(0x21b)),_0x25cff1=_0x45e0d5['querySelector'](_0x124dce(0x181)),_0x1e2a90=document[_0x124dce(0x1a4)](_0x124dce(0x163));if(_0x261f72[_0x124dce(0x1e4)]===_0x124dce(0x159))_0x17b447[_0x124dce(0x1f7)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x17b447['style'][_0x124dce(0x18c)]=_0x124dce(0x1a0),_0x45e0d5['style'][_0x124dce(0x1bb)]=_0x124dce(0x1f4);else{_0x17b447[_0x124dce(0x1f7)]=_0x124dce(0x1d5),_0x17b447[_0x124dce(0x1ed)][_0x124dce(0x18c)]=_0x124dce(0x1bc),_0x45e0d5[_0x124dce(0x1ed)]['display']=_0x124dce(0x201);const _0x2e59c6=new Date(_0x261f72[_0x124dce(0x1cb)]+'T'+_0x261f72[_0x124dce(0x21f)]),_0x150ffa=new Date(),_0x1f4ca3=(_0x2e59c6-_0x150ffa)/(0x3e8*0x3c*0x3c),_0x431883=coachProfiles[_0x261f72['coachId']]&&coachProfiles[_0x261f72['coachId']][_0x124dce(0x14a)]?parseInt(coachProfiles[_0x261f72['coachId']][_0x124dce(0x14a)]):0x18;if(_0x431883===0x0||_0x1f4ca3>=_0x431883)_0x581b6b[_0x124dce(0x1ed)][_0x124dce(0x1bb)]=_0x124dce(0x201),_0x25cff1[_0x124dce(0x1ed)][_0x124dce(0x1bb)]=_0x124dce(0x201),_0x1e2a90['style']['display']='none';else{_0x581b6b['style'][_0x124dce(0x1bb)]='none',_0x25cff1['style'][_0x124dce(0x1bb)]=_0x124dce(0x1f4),_0x1e2a90[_0x124dce(0x1ed)][_0x124dce(0x1bb)]='block';let _0xb1ae50=_0x431883===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x124dce(0x1fd)+_0x431883+_0x124dce(0x210);_0x1e2a90[_0x124dce(0x1f7)]=_0x124dce(0x242)+_0xb1ae50+_0x124dce(0x21e);}}document[_0x124dce(0x1a4)](_0x124dce(0x19f))[_0x124dce(0x1c2)]['add'](_0x124dce(0x1bd)),document[_0x124dce(0x1a4)]('detailsSheet')['classList'][_0x124dce(0x167)]('open');}function closeAllSheets(){const _0x43cf69=a3_0x542496;document['getElementById']('overlay')[_0x43cf69(0x1c2)][_0x43cf69(0x178)](_0x43cf69(0x1bd)),document[_0x43cf69(0x186)]('.sheet')['forEach'](_0x5b6eea=>_0x5b6eea['classList']['remove'](_0x43cf69(0x14c)));}function openSheet(_0x346aa5){const _0x5dd40e=a3_0x542496;document[_0x5dd40e(0x1a4)]('overlay')['classList'][_0x5dd40e(0x167)](_0x5dd40e(0x1bd)),document[_0x5dd40e(0x1a4)](_0x346aa5)['classList'][_0x5dd40e(0x167)](_0x5dd40e(0x14c));}function getLocalDateStr(_0x4fed18){const _0x4a2014=a3_0x542496,_0x585f2d=_0x4fed18['getFullYear'](),_0x51e242=String(_0x4fed18[_0x4a2014(0x229)]()+0x1)[_0x4a2014(0x1cd)](0x2,'0'),_0x12bc7e=String(_0x4fed18[_0x4a2014(0x1b9)]())[_0x4a2014(0x1cd)](0x2,'0');return _0x585f2d+'-'+_0x51e242+'-'+_0x12bc7e;}function a3_0x2715(){const _0x550f6a=['end','scrollLeft','%\x20-\x204px)','stringify','long','\x20—á.','onClick','anDonutCircle','timeColumn','matrixViewport','detStatus',':00</span>','show','reschedule','3380916pRpuul','strokeDashoffset','.btn-cancel','borderLeftColor','detailsSheet','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','start','total','sort','left','anEnd','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20status-completed','(((.+)+)+)+$','client_cancel','getMonth','getAttribute','setBackgroundColor','setHours','timeLineBadge','createDocumentFragment','clientId','calc(','keys','clientWidth','exceptions','firstChild','anStart','offsetLeft','querySelector','px\x20-','visible','rsSlotsGrid','410SIUZrn','saveLocally','zIndex','floor','split','parse','12gaYDkk','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','all','data-day-idx','Error\x20setting\x20color:','mini','cancel_window','today','open','data-date','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','.period-switch\x20.p-btn','#0a84ff','setItem','disableVerticalSwipes','now','718cmEDnB','</div>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','setMonth','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','completed','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','setAttribute','onclick','–û—Ç–º–µ–Ω–µ–Ω–æ','rescheduleSheet','className','applyData','anCustomDates','join','cancelHint','getFullYear','backgroundPosition','day-column\x20','add','filter','substring','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','sid','event-card','data','144qnpzNA','json','substr','top','POST','rs-date-chip','Telegram','4396304UUtdRY','uc_client_list','remove','map','customConfirm','<div\x20class=\x22rs-day-name\x22>','initDataUnsafe','href','log','getHours','stopPropagation','.btn-reschedule','.rs-date-chip','toLocaleDateString','button','cancelContainer','querySelectorAll','#050505','getTime','router.html','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','color','rs-time-btn','height','innerHTML','anPercent','clients','note','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','constructor','\x20–∏–∑\x20','expand','anTotalStats','600','toUpperCase','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','value','Unknown','cid','client_load','overlay','var(--acc-green)','then','scrollTo','<div\x20class=\x22dch-day\x22>','getElementById','getMinutes','daysHeaderTrack','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','settings','toString','flex','day-col-header\x20','calendar','get_slots','3050541WQmXWv','T00:00:00','Critical\x20TMA\x20Error:','coach_profiles','ccTitle','ready','length','getDay','ranges','1325366LtfinP','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getDate','.day-column','display','var(--acc-blue)','active','<span>','max','uc_client_sessions','createElement','classList','appendChild','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','auto','custom','search','charAt','1042810xtxsxl','dateStr','scrollTop','padStart','numeric','</div><div\x20class=\x22dch-num\x22>','toast','done','pattern','coachId','slice','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','forEach','time-label','offsetWidth','width','detTime','\x20-\x20','syncLoad','Error\x20setting\x20back\x20button:','v9.5-CLIENT-ANALYTICS','.day-col-header','addEventListener','fontWeight','location','month','status','test','div','round','globalTimeLine','rgba(10,\x20132,\x20255,\x20','getItem','81PuAYxZ','week','style','push','headerMonth','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','startsWith','none','BackButton','rsDatesTrack','textContent','#ff453a','findIndex','colIndex','user','1178565TuZQWo','–∑–∞\x20','scrollWidth','setDate','gridColumns','block','backgroundColor','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','initData','</span>\x20/\x20','cancelled','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','48XqeIiW','insertBefore','%\x20+\x202px)'];a3_0x2715=function(){return _0x550f6a;};return a3_0x2715();}function getStartOfWeek(_0x52c0e8){const _0x4fc12e=a3_0x542496,_0x4b0eb3=new Date(_0x52c0e8),_0x5bba98=_0x4b0eb3['getDay'](),_0x31f33d=_0x4b0eb3[_0x4fc12e(0x1b9)]()-_0x5bba98+(_0x5bba98===0x0?-0x6:0x1);return _0x4b0eb3[_0x4fc12e(0x1ff)](_0x31f33d),_0x4b0eb3['setHours'](0x0,0x0,0x0,0x0),_0x4b0eb3;}function scrollToToday(){const _0x53274f=getLocalDateStr(new Date());setTimeout(()=>{const _0x44513c=a3_0x4f0c,_0x27ffda=document[_0x44513c(0x237)]('.day-col-header[data-date=\x22'+_0x53274f+'\x22]');if(_0x27ffda){const _0x295cab=document['getElementById'](_0x44513c(0x214)),_0xafa254=_0x27ffda[_0x44513c(0x236)]-_0x295cab[_0x44513c(0x232)]/0x2+_0x27ffda[_0x44513c(0x1d8)]/0x2;_0x295cab[_0x44513c(0x1a2)]({'left':_0xafa254,'behavior':_0x44513c(0x1c6)}),_0x295cab[_0x44513c(0x1cc)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1dd2a3=a3_0x542496,_0x2a9ca5=new Date(),_0x3ce147=document[_0x1dd2a3(0x1a4)](_0x1dd2a3(0x1e8)),_0x2c1e4a=document['getElementById'](_0x1dd2a3(0x22d)),_0x5607ac=(_0x2a9ca5['getHours']()*0x3c+_0x2a9ca5[_0x1dd2a3(0x1a5)]())/0x3c*GRID_H;_0x3ce147['style'][_0x1dd2a3(0x172)]=_0x5607ac+'px',_0x3ce147[_0x1dd2a3(0x1ed)][_0x1dd2a3(0x1bb)]=_0x1dd2a3(0x201),_0x2c1e4a[_0x1dd2a3(0x1ed)]['top']=_0x5607ac+'px',_0x2c1e4a[_0x1dd2a3(0x1ed)][_0x1dd2a3(0x1bb)]='block',_0x2c1e4a[_0x1dd2a3(0x1f7)]=String(_0x2a9ca5[_0x1dd2a3(0x17f)]())['padStart'](0x2,'0')+':'+String(_0x2a9ca5[_0x1dd2a3(0x1a5)]())[_0x1dd2a3(0x1cd)](0x2,'0');}function onScroll(){const _0x49d15e=a3_0x542496,_0x2e89f8=document['getElementById']('matrixViewport'),_0x14290d=document[_0x49d15e(0x186)](_0x49d15e(0x1df));for(let _0x33ef3d of _0x14290d)if(_0x33ef3d['offsetLeft']>=_0x2e89f8[_0x49d15e(0x20c)]){const _0xf3ddb5=new Date(_0x33ef3d[_0x49d15e(0x22a)](_0x49d15e(0x14d)));document[_0x49d15e(0x1a4)](_0x49d15e(0x1ef))['textContent']=_0xf3ddb5['toLocaleString']('ru',{'month':_0x49d15e(0x20f)})[_0x49d15e(0x199)]()+'\x20'+_0xf3ddb5[_0x49d15e(0x164)]();break;}}function showToast(_0x14f1ef){const _0x318a2a=a3_0x542496,_0x1535ef=document[_0x318a2a(0x1a4)](_0x318a2a(0x1d0));_0x1535ef[_0x318a2a(0x1f7)]=_0x14f1ef,_0x1535ef['classList'][_0x318a2a(0x167)](_0x318a2a(0x217)),setTimeout(()=>_0x1535ef['classList'][_0x318a2a(0x178)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x164442=a3_0x542496,_0x404a9f=document[_0x164442(0x1a4)](_0x164442(0x214)),_0x19a0fb=_0x404a9f[_0x164442(0x20c)],_0x227cb1=_0x404a9f[_0x164442(0x1fe)],_0x464990=_0x404a9f[_0x164442(0x232)];if(_0x227cb1-(_0x19a0fb+_0x464990)<0x12c){const _0x1a584d=endOffset;endOffset+=0xe,renderDayRange(_0x1a584d+0x1,endOffset),reRenderBlocks();}if(_0x19a0fb<0x12c){const _0x19147d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x19147d-0x1),_0x404a9f[_0x164442(0x20c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x94dd20,_0x1e6452){const _0x45e08f=a3_0x542496,_0x3b8275=document[_0x45e08f(0x1a4)](_0x45e08f(0x1a6)),_0xf2c698=document['getElementById'](_0x45e08f(0x200)),_0x317a0a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xb8a268=new Date();_0xb8a268[_0x45e08f(0x22c)](0x0,0x0,0x0,0x0);const _0x199936=getLocalDateStr(new Date()),_0x2d8c0d=document[_0x45e08f(0x22e)](),_0x4c820d=document['createDocumentFragment']();for(let _0x27ab4e=_0x94dd20;_0x27ab4e<=_0x1e6452;_0x27ab4e++){const _0x4a1329=new Date(_0xb8a268);_0x4a1329['setDate'](_0x4a1329[_0x45e08f(0x1b9)]()+_0x27ab4e);const _0x2bbc4f=getLocalDateStr(_0x4a1329);let _0x3786ee=_0x4a1329['getDay']()-0x1;if(_0x3786ee===-0x1)_0x3786ee=0x6;const _0x17a89a=_0x2bbc4f===_0x199936,_0x2b4c3e=document[_0x45e08f(0x1c1)](_0x45e08f(0x1e6));_0x2b4c3e['className']=_0x45e08f(0x1ab)+(_0x17a89a?_0x45e08f(0x14b):''),_0x2b4c3e[_0x45e08f(0x15b)](_0x45e08f(0x14d),_0x2bbc4f),_0x2b4c3e[_0x45e08f(0x18f)]=_0x45e08f(0x1a3)+_0x317a0a[_0x3786ee]+_0x45e08f(0x1cf)+_0x4a1329[_0x45e08f(0x1b9)]()+_0x45e08f(0x155),_0x2d8c0d['appendChild'](_0x2b4c3e);const _0x2c498b=document[_0x45e08f(0x1c1)]('div');_0x2c498b['className']=_0x45e08f(0x166)+(_0x17a89a?_0x45e08f(0x14b):''),_0x2c498b[_0x45e08f(0x15b)](_0x45e08f(0x14d),_0x2bbc4f),_0x2c498b[_0x45e08f(0x15b)](_0x45e08f(0x244),_0x3786ee),_0x4c820d[_0x45e08f(0x1c3)](_0x2c498b);}_0x3b8275['insertBefore'](_0x2d8c0d,_0x3b8275[_0x45e08f(0x234)]),_0xf2c698[_0x45e08f(0x209)](_0x4c820d,_0xf2c698['querySelector']('.day-column'));}function hexToRgba(_0x4a7a14,_0x323950){const _0x283b4f=a3_0x542496;let _0x28dcce;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x283b4f(0x1e5)](_0x4a7a14))return _0x28dcce=_0x4a7a14[_0x283b4f(0x169)](0x1)[_0x283b4f(0x23f)](''),_0x28dcce[_0x283b4f(0x1b4)]==0x3&&(_0x28dcce=[_0x28dcce[0x0],_0x28dcce[0x0],_0x28dcce[0x1],_0x28dcce[0x1],_0x28dcce[0x2],_0x28dcce[0x2]]),_0x28dcce='0x'+_0x28dcce['join'](''),'rgba('+[_0x28dcce>>0x10&0xff,_0x28dcce>>0x8&0xff,_0x28dcce&0xff][_0x283b4f(0x162)](',')+','+_0x323950+')';return _0x283b4f(0x1e9)+_0x323950+')';}let confirmResolver=null;function showCustomConfirm(_0x40b869,_0x26c24f,_0x4e7796=!![]){const _0x335ea4=a3_0x542496;document[_0x335ea4(0x1a4)](_0x335ea4(0x1b2))[_0x335ea4(0x1f7)]=_0x40b869,document[_0x335ea4(0x1a4)]('ccText')[_0x335ea4(0x1f7)]=_0x26c24f;const _0x3855f3=document[_0x335ea4(0x1a4)]('ccYesBtn');return _0x4e7796?(_0x3855f3[_0x335ea4(0x1ed)]['color']=_0x335ea4(0x1f8),_0x3855f3[_0x335ea4(0x1ed)][_0x335ea4(0x1e1)]=_0x335ea4(0x198)):(_0x3855f3[_0x335ea4(0x1ed)]['color']=_0x335ea4(0x150),_0x3855f3[_0x335ea4(0x1ed)][_0x335ea4(0x1e1)]='600'),new Promise(_0x457786=>{const _0x4a7860=_0x335ea4;confirmResolver=_0x457786,document[_0x4a7860(0x1a4)](_0x4a7860(0x17a))[_0x4a7860(0x1c2)][_0x4a7860(0x167)]('visible');});}function resolveCustomConfirm(_0x4f93ff){const _0x1ab7e4=a3_0x542496;document[_0x1ab7e4(0x1a4)](_0x1ab7e4(0x17a))[_0x1ab7e4(0x1c2)][_0x1ab7e4(0x178)](_0x1ab7e4(0x239));if(confirmResolver)confirmResolver(_0x4f93ff);}async function tryCancelCurrentSession(){const _0x186135=a3_0x542496;if(!currentSession)return;const _0x3a0bad=await showCustomConfirm(_0x186135(0x156),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x3a0bad)return;const _0x3d12ab=currentSession;closeAllSheets(),sessions=sessions[_0x186135(0x168)](_0x4404c0=>_0x4404c0['id']!==_0x3d12ab['id']),reRenderBlocks(),showToast(_0x186135(0x15d)),lastUserActionTime=Date[_0x186135(0x153)]();try{const _0x520361=window['Telegram']?.[_0x186135(0x1f0)],_0xfbbcf1=await fetch(API_URL,{'method':'POST','body':JSON[_0x186135(0x20e)]({'action':_0x186135(0x228),'init_data':_0x520361?.[_0x186135(0x204)]||'','coachId':_0x3d12ab[_0x186135(0x1d3)],'dateStr':_0x3d12ab['dateStr'],'sessionId':_0x3d12ab['id']})});if(_0xfbbcf1['ok'])DataManager[_0x186135(0x23c)]();}catch(_0x316a8e){showToast(_0x186135(0x1a7));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x113311=a3_0x542496;if(!currentSession)return;document['getElementById'](_0x113311(0x21d))[_0x113311(0x1c2)]['remove'](_0x113311(0x14c)),document[_0x113311(0x1a4)](_0x113311(0x15e))['classList'][_0x113311(0x167)]('open');const _0x464a62=document[_0x113311(0x1a4)](_0x113311(0x1f6)),_0x1ac0bf=document[_0x113311(0x1a4)](_0x113311(0x23a));_0x464a62['innerHTML']='',_0x1ac0bf[_0x113311(0x18f)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0xd7f5ea,_0x252b10]=currentSession[_0x113311(0x21f)][_0x113311(0x23f)](':')[_0x113311(0x179)](Number),[_0x556958,_0x1600c6]=currentSession[_0x113311(0x20b)][_0x113311(0x23f)](':')[_0x113311(0x179)](Number),_0x15b7dd=_0x556958*0x3c+_0x1600c6-(_0xd7f5ea*0x3c+_0x252b10);try{const _0x3201a4=window[_0x113311(0x175)]?.[_0x113311(0x1f0)],_0x4af269=await fetch(API_URL,{'method':_0x113311(0x173),'body':JSON[_0x113311(0x20e)]({'action':_0x113311(0x1ad),'coachId':currentSession[_0x113311(0x1d3)],'duration':_0x15b7dd,'init_data':_0x3201a4?.[_0x113311(0x204)]||'','excludeSessionId':currentSession['id']})}),_0x57c1ed=await _0x4af269[_0x113311(0x170)]();_0x57c1ed['ok']&&_0x57c1ed[_0x113311(0x16e)]?(availableSlotsCache=_0x57c1ed['data'],renderRescheduleDates()):_0x1ac0bf[_0x113311(0x18f)]=_0x113311(0x1c4);}catch(_0x409082){_0x1ac0bf[_0x113311(0x18f)]=_0x113311(0x207);}}function a3_0x4f0c(_0x15c485,_0x2aa831){_0x15c485=_0x15c485-0x148;const _0xfb597c=a3_0x2715();let _0x29ebd7=_0xfb597c[_0x15c485];return _0x29ebd7;}function renderRescheduleDates(){const _0x3c4849=a3_0x542496,_0x42e330=document[_0x3c4849(0x1a4)](_0x3c4849(0x1f6));_0x42e330['innerHTML']='';const _0x167e0d=Object[_0x3c4849(0x231)](availableSlotsCache)[_0x3c4849(0x221)](),_0x1dab2b=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x167e0d[_0x3c4849(0x1b4)]===0x0){document['getElementById'](_0x3c4849(0x23a))[_0x3c4849(0x18f)]=_0x3c4849(0x1b8);return;}_0x167e0d[_0x3c4849(0x1d6)]((_0x526257,_0x5a8ec3)=>{const _0x218f68=_0x3c4849,_0x321b0b=new Date(_0x526257),_0x57ddf8=_0x1dab2b[_0x321b0b['getDay']()],_0x29d94a=_0x321b0b[_0x218f68(0x1b9)](),_0x39c73e=document[_0x218f68(0x1c1)](_0x218f68(0x1e6));_0x39c73e[_0x218f68(0x15f)]=_0x218f68(0x174);if(_0x5a8ec3===0x0)_0x39c73e[_0x218f68(0x1c2)]['add'](_0x218f68(0x1bd));_0x39c73e['innerHTML']=_0x218f68(0x17b)+_0x57ddf8+'</div><div\x20class=\x22rs-day-num\x22>'+_0x29d94a+_0x218f68(0x155),_0x39c73e[_0x218f68(0x15c)]=()=>selectRsDate(_0x526257,_0x39c73e),_0x42e330[_0x218f68(0x1c3)](_0x39c73e);}),selectRsDate(_0x167e0d[0x0],_0x42e330[_0x3c4849(0x234)]);}function selectRsDate(_0x25d4e8,_0x2f8a8b){const _0x1a96d7=a3_0x542496;selectedRsDate=_0x25d4e8,document['querySelectorAll'](_0x1a96d7(0x182))[_0x1a96d7(0x1d6)](_0x1ca164=>_0x1ca164[_0x1a96d7(0x1c2)][_0x1a96d7(0x178)](_0x1a96d7(0x1bd)));if(_0x2f8a8b)_0x2f8a8b['classList']['add'](_0x1a96d7(0x1bd));const _0x34763c=document[_0x1a96d7(0x1a4)](_0x1a96d7(0x23a));_0x34763c[_0x1a96d7(0x18f)]='';const _0x323164=availableSlotsCache[_0x25d4e8]||[];if(_0x323164['length']===0x0){_0x34763c[_0x1a96d7(0x18f)]=_0x1a96d7(0x1c4);return;}_0x323164[_0x1a96d7(0x1d6)](_0x9b5cc3=>{const _0x4703c2=_0x1a96d7,_0x4cf5ec=document['createElement'](_0x4703c2(0x184));_0x4cf5ec[_0x4703c2(0x15f)]=_0x4703c2(0x18d),_0x4cf5ec[_0x4703c2(0x1f7)]=_0x9b5cc3,_0x4cf5ec[_0x4703c2(0x15c)]=()=>confirmReschedule(_0x9b5cc3),_0x34763c[_0x4703c2(0x1c3)](_0x4cf5ec);});}async function confirmReschedule(_0x2d51b1){const _0x2e7579=a3_0x542496,_0xa91972=new Date(selectedRsDate),_0x59b134=_0xa91972['toLocaleDateString']('ru-RU',{'day':_0x2e7579(0x1ce),'month':_0x2e7579(0x20f)}),_0x5956de=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2e7579(0x15a)+_0x59b134+'\x20–≤\x20'+_0x2d51b1+'?',![]);if(!_0x5956de)return;closeAllSheets(),showToast(_0x2e7579(0x18a)),lastUserActionTime=Date[_0x2e7579(0x153)]();const _0xd97ce1=currentSession[_0x2e7579(0x1cb)],_0x13fc0a=currentSession['id'],[_0x3707df,_0x4ab0f4]=currentSession[_0x2e7579(0x21f)][_0x2e7579(0x23f)](':')[_0x2e7579(0x179)](Number),[_0xedf6fc,_0x147f80]=currentSession[_0x2e7579(0x20b)][_0x2e7579(0x23f)](':')[_0x2e7579(0x179)](Number),_0x5c263a=_0xedf6fc*0x3c+_0x147f80-(_0x3707df*0x3c+_0x4ab0f4),[_0x5206b7,_0x4feb48]=_0x2d51b1[_0x2e7579(0x23f)](':')[_0x2e7579(0x179)](Number),_0x562b83=_0x5206b7*0x3c+_0x4feb48+_0x5c263a,_0x3cefa9=Math[_0x2e7579(0x23e)](_0x562b83/0x3c),_0x344284=_0x562b83%0x3c,_0x117d8e=String(_0x3cefa9)[_0x2e7579(0x1cd)](0x2,'0')+':'+String(_0x344284)[_0x2e7579(0x1cd)](0x2,'0'),_0x482188=sessions[_0x2e7579(0x1f9)](_0x377ee9=>_0x377ee9['id']===_0x13fc0a);_0x482188!==-0x1&&(sessions[_0x482188][_0x2e7579(0x1cb)]=selectedRsDate,sessions[_0x482188][_0x2e7579(0x21f)]=_0x2d51b1,sessions[_0x482188][_0x2e7579(0x20b)]=_0x117d8e,reRenderBlocks());try{const _0x1a3f1a=window[_0x2e7579(0x175)]?.[_0x2e7579(0x1f0)],_0x243061=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2e7579(0x218),'init_data':_0x1a3f1a?.[_0x2e7579(0x204)]||'','oldSessionId':_0x13fc0a,'oldDate':_0xd97ce1,'newDate':selectedRsDate,'newTime':_0x2d51b1,'coachId':currentSession['coachId']})}),_0x2382fe=await _0x243061['json']();!_0x2382fe['ok']?(showToast(_0x2e7579(0x14e)),DataManager[_0x2e7579(0x1dc)]()):(showToast(_0x2e7579(0x1c5)),DataManager['saveLocally']());}catch(_0x216dea){showToast(_0x2e7579(0x1a7));}}document['addEventListener']('DOMContentLoaded',init);