const a3_0x190ceb=a3_0x2e8b;(function(_0x32252d,_0x52f097){const _0x8ea78a=a3_0x2e8b,_0x10a1e3=_0x32252d();while(!![]){try{const _0x569e4d=-parseInt(_0x8ea78a(0x1f5))/0x1*(parseInt(_0x8ea78a(0x20c))/0x2)+-parseInt(_0x8ea78a(0x244))/0x3*(parseInt(_0x8ea78a(0x291))/0x4)+parseInt(_0x8ea78a(0x1f0))/0x5+-parseInt(_0x8ea78a(0x28e))/0x6+parseInt(_0x8ea78a(0x26f))/0x7+-parseInt(_0x8ea78a(0x261))/0x8*(parseInt(_0x8ea78a(0x1e1))/0x9)+parseInt(_0x8ea78a(0x219))/0xa*(parseInt(_0x8ea78a(0x1c1))/0xb);if(_0x569e4d===_0x52f097)break;else _0x10a1e3['push'](_0x10a1e3['shift']());}catch(_0x4794c2){_0x10a1e3['push'](_0x10a1e3['shift']());}}}(a3_0x2d60,0xd148b));const APP_VERSION=a3_0x190ceb(0x1f1),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x190ceb(0x1ec),KEY_SETTINGS=a3_0x190ceb(0x23c),KEY_CLIENTS=a3_0x190ceb(0x218);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x190ceb(0x1d2),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x41df0d=a3_0x190ceb,_0x389c59=(function(){let _0x217768=!![];return function(_0x1f63ce,_0x4d1a6b){const _0x1b89f8=_0x217768?function(){const _0x488901=a3_0x2e8b;if(_0x4d1a6b){const _0x485d06=_0x4d1a6b[_0x488901(0x280)](_0x1f63ce,arguments);return _0x4d1a6b=null,_0x485d06;}}:function(){};return _0x217768=![],_0x1b89f8;};}()),_0x27cad9=_0x389c59(this,function(){const _0x139dbe=a3_0x2e8b;return _0x27cad9[_0x139dbe(0x1e4)]()['search'](_0x139dbe(0x1d8))[_0x139dbe(0x1e4)]()[_0x139dbe(0x1f8)](_0x27cad9)['search'](_0x139dbe(0x1d8));});_0x27cad9();try{const _0x245f2a=window['Telegram']?.[_0x41df0d(0x27f)];if(!_0x245f2a)return;_0x245f2a[_0x41df0d(0x201)](),_0x245f2a[_0x41df0d(0x1e9)]();try{_0x245f2a['setHeaderColor'](_0x41df0d(0x1bd)),_0x245f2a[_0x41df0d(0x283)]&&_0x245f2a[_0x41df0d(0x283)](_0x41df0d(0x1bd));}catch(_0x4b6698){console['log'](_0x41df0d(0x231),_0x4b6698);}try{_0x245f2a['BackButton']&&(_0x245f2a['BackButton']['show'](),_0x245f2a[_0x41df0d(0x2a1)]['offClick'](),_0x245f2a['BackButton']['onClick'](function(){const _0x3a1d96=_0x41df0d;window[_0x3a1d96(0x217)][_0x3a1d96(0x1db)]='router.html';}));}catch(_0x1dedcb){console['log']('Error\x20setting\x20back\x20button:',_0x1dedcb);}try{if(_0x245f2a[_0x41df0d(0x20a)])_0x245f2a[_0x41df0d(0x20a)]();}catch(_0x5044a6){}}catch(_0x49eb2a){console['error'](_0x41df0d(0x1b8),_0x49eb2a);}}());function isAdmin(){const _0x4263e1=a3_0x190ceb;try{const _0x5cc6be=Number(window[_0x4263e1(0x1b6)]?.[_0x4263e1(0x27f)]?.['initDataUnsafe']?.[_0x4263e1(0x1d4)]?.['id']);return _0x5cc6be===0xbaf7174;}catch(_0x4a624a){return![];}}const DataManager={'saveLocally'(){const _0x489649=a3_0x190ceb;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x489649(0x29f)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x489649(0x29f)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x489649(0x29f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x57467c){}},'loadLocal'(){const _0x5bc7ea=a3_0x190ceb;try{const _0x54a154=localStorage[_0x5bc7ea(0x1ee)](KEY_SESSIONS);if(_0x54a154)sessions=JSON[_0x5bc7ea(0x22b)](_0x54a154);const _0x191456=localStorage[_0x5bc7ea(0x1ee)](KEY_CLIENTS);if(_0x191456)clients=JSON[_0x5bc7ea(0x22b)](_0x191456);const _0x1cb04e=localStorage[_0x5bc7ea(0x1ee)](KEY_SETTINGS);if(_0x1cb04e){const _0x6ee7a9=JSON[_0x5bc7ea(0x22b)](_0x1cb04e);if(_0x6ee7a9[_0x5bc7ea(0x29d)])availabilityPattern=_0x6ee7a9['pattern'];if(_0x6ee7a9[_0x5bc7ea(0x28b)])specialRanges=_0x6ee7a9[_0x5bc7ea(0x28b)];if(_0x6ee7a9['exceptions'])dateExceptions=_0x6ee7a9[_0x5bc7ea(0x24b)];}}catch(_0x164384){}},async 'syncLoad'(){const _0x191fed=a3_0x190ceb,_0x323c71=new Date(),_0x53b351=_0x323c71[_0x191fed(0x1fa)]()+'-'+String(_0x323c71[_0x191fed(0x254)]()+0x1)[_0x191fed(0x1ed)](0x2,'0'),_0xa3adb6=new Date(_0x323c71);_0xa3adb6['setMonth'](_0x323c71[_0x191fed(0x254)]()+0x1);const _0x241472=_0xa3adb6[_0x191fed(0x1fa)]()+'-'+String(_0xa3adb6[_0x191fed(0x254)]()+0x1)[_0x191fed(0x1ed)](0x2,'0'),_0x240829=Date[_0x191fed(0x264)]();try{const _0x5ab7ed=window[_0x191fed(0x1b6)]?.['WebApp'],_0x578bef=_0x5ab7ed?.[_0x191fed(0x269)]||'',[_0x718cf2,_0x46aeda]=await Promise[_0x191fed(0x26b)]([fetch(API_URL,{'method':'POST','body':JSON[_0x191fed(0x29f)]({'action':_0x191fed(0x290),'init_data':_0x578bef,'month_str':_0x53b351})})[_0x191fed(0x1e8)](_0x1a4111=>_0x1a4111[_0x191fed(0x1fb)]()),fetch(API_URL,{'method':_0x191fed(0x25d),'body':JSON[_0x191fed(0x29f)]({'action':_0x191fed(0x290),'init_data':_0x578bef,'month_str':_0x241472})})['then'](_0x34cc19=>_0x34cc19[_0x191fed(0x1fb)]())]);if(lastUserActionTime>_0x240829){console[_0x191fed(0x1bc)](_0x191fed(0x249));return;}if(_0x718cf2['ok'])this[_0x191fed(0x287)](_0x718cf2[_0x191fed(0x24a)],_0x53b351);if(_0x46aeda['ok'])this['applyData'](_0x46aeda[_0x191fed(0x24a)],_0x241472);this[_0x191fed(0x252)]();}catch(_0x12132e){}},'applyData'(_0x3dcdca,_0x197022){const _0x17f630=a3_0x190ceb;if(!_0x3dcdca)return;if(_0x3dcdca[_0x17f630(0x209)]){if(_0x3dcdca[_0x17f630(0x209)]['pattern'])availabilityPattern=_0x3dcdca[_0x17f630(0x209)]['pattern'];if(_0x3dcdca['settings'][_0x17f630(0x28b)])specialRanges=_0x3dcdca[_0x17f630(0x209)]['ranges'];if(_0x3dcdca[_0x17f630(0x209)]['exceptions'])dateExceptions=_0x3dcdca[_0x17f630(0x209)][_0x17f630(0x24b)];}if(_0x3dcdca[_0x17f630(0x1fd)]&&Array['isArray'](_0x3dcdca[_0x17f630(0x1fd)]))clients=_0x3dcdca[_0x17f630(0x1fd)];_0x3dcdca[_0x17f630(0x210)]&&(coachProfiles={...coachProfiles,..._0x3dcdca[_0x17f630(0x210)]}),_0x3dcdca[_0x17f630(0x246)]&&(sessions=sessions['filter'](_0x9f870e=>!_0x9f870e[_0x17f630(0x222)][_0x17f630(0x1c3)](_0x197022)),Object[_0x17f630(0x267)](_0x3dcdca[_0x17f630(0x246)])[_0x17f630(0x1b3)](_0x23640f=>{const _0x486f62=_0x17f630,_0x4cffd7=_0x3dcdca[_0x486f62(0x246)][_0x23640f];_0x4cffd7[_0x486f62(0x1b3)](_0x44d3d5=>{const _0x33b4dc=_0x486f62;sessions[_0x33b4dc(0x23d)]({'id':_0x44d3d5['i'],'clientId':_0x44d3d5['c'],'coachId':_0x44d3d5['cid'],'dateStr':_0x197022+'-'+_0x23640f[_0x33b4dc(0x1ed)](0x2,'0'),'start':_0x44d3d5['s'],'end':_0x44d3d5['e'],'note':_0x44d3d5['n']||'','status':_0x44d3d5['st']||'planned','seriesId':_0x44d3d5[_0x33b4dc(0x1d5)]});});})),reRenderBlocks();}};function init(){const _0x2358da=a3_0x190ceb;DataManager[_0x2358da(0x220)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x2358da(0x1ea)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x23ce63=a3_0x190ceb,_0xfbe410=document[_0x23ce63(0x275)]('timeColumn'),_0x595dca=document[_0x23ce63(0x275)](_0x23ce63(0x257));_0xfbe410[_0x23ce63(0x299)]='',_0xfbe410[_0x23ce63(0x255)](_0x595dca);for(let _0x43fae6=0x0;_0x43fae6<0x18;_0x43fae6++){const _0x575582=document[_0x23ce63(0x239)]('div');_0x575582[_0x23ce63(0x1b5)]='time-label';if(_0x43fae6>0x0)_0x575582[_0x23ce63(0x299)]='<span>'+String(_0x43fae6)[_0x23ce63(0x1ed)](0x2,'0')+':00</span>';_0xfbe410[_0x23ce63(0x255)](_0x575582);}}function renderDayRange(_0x402436,_0x4e7d2b){const _0x103a6f=a3_0x190ceb,_0x1179a4=document['getElementById'](_0x103a6f(0x281)),_0x7f2cd=document['getElementById']('gridColumns'),_0x23ad04=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1d9043=new Date();_0x1d9043[_0x103a6f(0x2a3)](0x0,0x0,0x0,0x0);const _0xe32d1c=getLocalDateStr(new Date());for(let _0x4e9839=_0x402436;_0x4e9839<=_0x4e7d2b;_0x4e9839++){const _0xc0185a=new Date(_0x1d9043);_0xc0185a[_0x103a6f(0x1c8)](_0xc0185a[_0x103a6f(0x24d)]()+_0x4e9839);const _0x173069=getLocalDateStr(_0xc0185a);let _0xd05127=_0xc0185a['getDay']()-0x1;if(_0xd05127===-0x1)_0xd05127=0x6;const _0x416bf7=_0x173069===_0xe32d1c,_0x2d6f36=document[_0x103a6f(0x239)]('div');_0x2d6f36['className']=_0x103a6f(0x1c4)+(_0x416bf7?_0x103a6f(0x274):''),_0x2d6f36[_0x103a6f(0x250)](_0x103a6f(0x230),_0x173069),_0x2d6f36[_0x103a6f(0x299)]=_0x103a6f(0x1eb)+_0x23ad04[_0xd05127]+_0x103a6f(0x27a)+_0xc0185a[_0x103a6f(0x24d)]()+_0x103a6f(0x1cd),_0x1179a4[_0x103a6f(0x255)](_0x2d6f36);const _0x420e47=document[_0x103a6f(0x239)](_0x103a6f(0x236));_0x420e47[_0x103a6f(0x1b5)]=_0x103a6f(0x1da)+(_0x416bf7?'today':''),_0x420e47[_0x103a6f(0x250)](_0x103a6f(0x230),_0x173069),_0x420e47[_0x103a6f(0x250)](_0x103a6f(0x1fc),_0xd05127),_0x7f2cd[_0x103a6f(0x255)](_0x420e47);}}function reRenderBlocks(){const _0x48271e=a3_0x190ceb;document['querySelectorAll'](_0x48271e(0x28d))[_0x48271e(0x1b3)](_0x54ba15=>{const _0x50c348=_0x48271e;_0x54ba15[_0x50c348(0x213)](_0x50c348(0x1d3))[_0x50c348(0x1b3)](_0x199b3c=>_0x199b3c['remove']());const _0x50114d=_0x54ba15['getAttribute'](_0x50c348(0x230)),_0x3e1d56=parseInt(_0x54ba15[_0x50c348(0x22c)](_0x50c348(0x1fc))),_0xc6f362=Math['round'](_0x54ba15[_0x50c348(0x282)]);(availabilityPattern[_0x3e1d56]||[])['forEach'](_0x53d7b7=>{const _0x42a048=_0x50c348,_0x13c072=document[_0x42a048(0x239)]('div');_0x13c072[_0x42a048(0x1b5)]=_0x42a048(0x20f),_0x13c072['style'][_0x42a048(0x26e)]=_0x53d7b7*GRID_H+'px',_0x13c072[_0x42a048(0x1df)][_0x42a048(0x25e)]='-'+_0xc6f362+_0x42a048(0x1ae)+_0x53d7b7*GRID_H+'px',_0x54ba15[_0x42a048(0x255)](_0x13c072);});if(specialRanges[_0x50c348(0x23f)]>0x0){const _0xe1dfd=new Date(_0x50114d+_0x50c348(0x266))[_0x50c348(0x286)](),_0x203c1a=new Date(_0x50114d+_0x50c348(0x26c))['getTime']();specialRanges[_0x50c348(0x1b3)](_0x322b74=>{const _0x182185=_0x50c348,_0x50afa4=new Date(_0x322b74['start'])['getTime'](),_0x1e0a84=new Date(_0x322b74[_0x182185(0x29e)])['getTime'](),_0x33ef24=Math[_0x182185(0x288)](_0xe1dfd,_0x50afa4),_0x57e3bf=Math[_0x182185(0x205)](_0x203c1a,_0x1e0a84);if(_0x33ef24<_0x57e3bf){const _0x31c45f=(_0x33ef24-_0xe1dfd)/0x36ee80*GRID_H,_0x275c87=(_0x57e3bf-_0x33ef24)/0x36ee80*GRID_H,_0x4bf0e7=document['createElement']('div');_0x275c87>=23.5*GRID_H?(_0x4bf0e7['className']=_0x182185(0x26d),_0x4bf0e7[_0x182185(0x1df)][_0x182185(0x25e)]='-'+_0xc6f362+_0x182185(0x26a)):(_0x4bf0e7['className']=_0x182185(0x1c7),_0x4bf0e7[_0x182185(0x1df)][_0x182185(0x26e)]=_0x31c45f+'px',_0x4bf0e7[_0x182185(0x1df)][_0x182185(0x297)]=_0x275c87+'px',_0x4bf0e7[_0x182185(0x1df)][_0x182185(0x25e)]='-'+_0xc6f362+'px\x20-'+_0x31c45f+'px'),_0x54ba15[_0x182185(0x255)](_0x4bf0e7);}});}renderEventsForColumn(_0x54ba15,_0x50114d);});}function renderEventsForColumn(_0x111e18,_0x3ca0ce){const _0x2e383e=a3_0x190ceb,_0x4988a4=sessions[_0x2e383e(0x1cf)](_0x236a44=>_0x236a44[_0x2e383e(0x222)]===_0x3ca0ce),_0x3fc566=_0x4988a4[_0x2e383e(0x1d7)](_0x4931d8=>{const _0x1b6113=_0x2e383e,[_0x317b73,_0x5b4999]=_0x4931d8['start'][_0x1b6113(0x1ef)](':')['map'](Number),[_0x3652d8,_0x206a2b]=_0x4931d8[_0x1b6113(0x29e)][_0x1b6113(0x1ef)](':')[_0x1b6113(0x1d7)](Number);return{'data':_0x4931d8,'start':_0x317b73*0x3c+_0x5b4999,'end':_0x3652d8*0x3c+_0x206a2b,'colIndex':0x0};});_0x3fc566['sort']((_0x19102a,_0x42c64b)=>_0x19102a['start']-_0x42c64b[_0x2e383e(0x20d)]||_0x42c64b[_0x2e383e(0x29e)]-_0x42c64b[_0x2e383e(0x20d)]-(_0x19102a['end']-_0x19102a['start']));const _0x69c0c7=[];_0x3fc566[_0x2e383e(0x1b3)](_0x1a5e2d=>{const _0x6c28c=_0x2e383e;let _0x470c0=![];for(let _0x5d4ab0=0x0;_0x5d4ab0<_0x69c0c7[_0x6c28c(0x23f)];_0x5d4ab0++){const _0x17d862=_0x69c0c7[_0x5d4ab0];if(_0x1a5e2d[_0x6c28c(0x20d)]>=_0x17d862[_0x17d862[_0x6c28c(0x23f)]-0x1][_0x6c28c(0x29e)]){_0x17d862[_0x6c28c(0x23d)](_0x1a5e2d),_0x1a5e2d['colIndex']=_0x5d4ab0,_0x470c0=!![];break;}}!_0x470c0&&(_0x69c0c7[_0x6c28c(0x23d)]([_0x1a5e2d]),_0x1a5e2d[_0x6c28c(0x265)]=_0x69c0c7['length']-0x1);}),_0x3fc566['forEach'](_0x22142b=>{const _0x3f772a=_0x2e383e;let _0x5627da=0x0;_0x3fc566[_0x3f772a(0x1b3)](_0x31c710=>{const _0x56a41c=_0x3f772a;if(Math[_0x56a41c(0x288)](_0x22142b['start'],_0x31c710['start'])<Math[_0x56a41c(0x205)](_0x22142b[_0x56a41c(0x29e)],_0x31c710[_0x56a41c(0x29e)])&&_0x31c710[_0x56a41c(0x265)]>_0x5627da)_0x5627da=_0x31c710[_0x56a41c(0x265)];});const _0x444279=_0x5627da+0x1,_0x5d6340=0x64/_0x444279,_0x315225=_0x22142b[_0x3f772a(0x265)]*_0x5d6340,_0x522401=document[_0x3f772a(0x239)](_0x3f772a(0x236)),_0x22132a=_0x22142b[_0x3f772a(0x24a)];let _0x5d0c7e=_0x3f772a(0x21f);if(clients&&clients[_0x3f772a(0x23f)]>0x0){const _0x1184ab=clients[_0x3f772a(0x1f7)](_0x581727=>String(_0x581727['id'])===String(_0x22132a[_0x3f772a(0x200)]));if(_0x1184ab&&_0x1184ab[_0x3f772a(0x245)])_0x5d0c7e=_0x1184ab[_0x3f772a(0x245)];}const _0x137a6f=_0x22132a[_0x3f772a(0x1d0)]===_0x3f772a(0x225),_0x4ae91d=_0x137a6f?0x1:0.45;_0x522401[_0x3f772a(0x1b5)]=_0x3f772a(0x212)+(_0x137a6f?_0x3f772a(0x253):''),_0x522401['style'][_0x3f772a(0x1ba)]=hexToRgba(_0x5d0c7e,_0x4ae91d),_0x522401['style']['borderLeftColor']=_0x5d0c7e;const _0x191433=_0x22142b['start']/0x3c*GRID_H,_0x411f10=(_0x22142b[_0x3f772a(0x29e)]-_0x22142b[_0x3f772a(0x20d)])/0x3c*GRID_H;_0x522401[_0x3f772a(0x1df)][_0x3f772a(0x26e)]=_0x191433+'px',_0x522401[_0x3f772a(0x1df)][_0x3f772a(0x297)]=Math[_0x3f772a(0x288)](_0x411f10,0x14)+'px',_0x522401[_0x3f772a(0x1df)][_0x3f772a(0x258)]=_0x3f772a(0x289)+_0x5d6340+_0x3f772a(0x247),_0x522401['style'][_0x3f772a(0x1e3)]=_0x3f772a(0x289)+_0x315225+_0x3f772a(0x248),_0x522401['style']['zIndex']=0xa+_0x22142b[_0x3f772a(0x265)];if(_0x5d6340<0x55)_0x522401[_0x3f772a(0x1e6)][_0x3f772a(0x1cb)](_0x3f772a(0x22a));let _0x33640e='';if(_0x22132a['seriesId'])_0x33640e+=_0x3f772a(0x294);if(_0x137a6f)_0x33640e+=_0x3f772a(0x1e5);_0x522401['innerHTML']=_0x3f772a(0x202)+_0x22132a[_0x3f772a(0x20d)]+_0x3f772a(0x228)+_0x22132a[_0x3f772a(0x29e)]+_0x3f772a(0x22e)+_0x33640e+_0x3f772a(0x203),_0x522401[_0x3f772a(0x1d1)]=_0x1347f7=>{const _0x50c700=_0x3f772a;_0x1347f7[_0x50c700(0x1bb)](),openDetails(_0x22132a);},_0x111e18[_0x3f772a(0x255)](_0x522401);});}function openAnalytics(){const _0x4f72ed=a3_0x190ceb,_0x24268c=document[_0x4f72ed(0x27c)](_0x4f72ed(0x28a));setAnalyticsPeriod('week',_0x24268c),openSheet(_0x4f72ed(0x1e7));}function setAnalyticsPeriod(_0xb33043,_0x544257){const _0x13c957=a3_0x190ceb;currentAnPeriod=_0xb33043,document[_0x13c957(0x213)](_0x13c957(0x28a))[_0x13c957(0x1b3)](_0x1be3f7=>_0x1be3f7['classList'][_0x13c957(0x1e0)](_0x13c957(0x270)));if(_0x544257)_0x544257['classList'][_0x13c957(0x1cb)](_0x13c957(0x270));const _0x254111=document[_0x13c957(0x275)](_0x13c957(0x259));_0x254111[_0x13c957(0x1df)][_0x13c957(0x2a2)]=_0xb33043==='custom'?_0x13c957(0x29a):_0x13c957(0x271);const _0x90e4ec=new Date();let _0x450ff1=new Date(),_0xb4efac=new Date();if(_0xb33043===_0x13c957(0x1d2))_0x450ff1=getStartOfWeek(_0x90e4ec),_0xb4efac=new Date(_0x450ff1),_0xb4efac['setDate'](_0xb4efac[_0x13c957(0x24d)]()+0x6);else{if(_0xb33043===_0x13c957(0x226))_0x450ff1=new Date(_0x90e4ec['getFullYear'](),_0x90e4ec[_0x13c957(0x254)](),0x1),_0xb4efac=new Date(_0x90e4ec['getFullYear'](),_0x90e4ec[_0x13c957(0x254)]()+0x1,0x0);else{!document[_0x13c957(0x275)](_0x13c957(0x223))['value']&&(document[_0x13c957(0x275)]('anStart')[_0x13c957(0x1bf)]=getLocalDateStr(_0x90e4ec),document[_0x13c957(0x275)](_0x13c957(0x214))[_0x13c957(0x1bf)]=getLocalDateStr(_0x90e4ec));refreshAnalytics();return;}}document[_0x13c957(0x275)](_0x13c957(0x223))[_0x13c957(0x1bf)]=getLocalDateStr(_0x450ff1),document['getElementById'](_0x13c957(0x214))[_0x13c957(0x1bf)]=getLocalDateStr(_0xb4efac),refreshAnalytics();}function refreshAnalytics(){const _0x3db044=a3_0x190ceb,_0x4db407=document[_0x3db044(0x275)]('anStart')[_0x3db044(0x1bf)],_0x4028ff=document[_0x3db044(0x275)](_0x3db044(0x214))[_0x3db044(0x1bf)];if(!_0x4db407||!_0x4028ff)return;const _0x52439f=sessions[_0x3db044(0x1cf)](_0x3a0fcb=>_0x3a0fcb[_0x3db044(0x222)]>=_0x4db407&&_0x3a0fcb['dateStr']<=_0x4028ff&&_0x3a0fcb['status']!==_0x3db044(0x235)),_0x38e667=_0x52439f['length'],_0x2f0eb2=_0x52439f[_0x3db044(0x1cf)](_0xe8b689=>_0xe8b689['status']===_0x3db044(0x225))[_0x3db044(0x23f)],_0x4a092e=_0x38e667>0x0?Math[_0x3db044(0x204)](_0x2f0eb2/_0x38e667*0x64):0x0;document[_0x3db044(0x275)](_0x3db044(0x28f))[_0x3db044(0x1dc)]=_0x4a092e+'%',document[_0x3db044(0x275)](_0x3db044(0x237))[_0x3db044(0x1dc)]=_0x2f0eb2+_0x3db044(0x24c)+_0x38e667+_0x3db044(0x1d9);const _0x35740a=document[_0x3db044(0x275)](_0x3db044(0x260)),_0x4d4677=0x2*Math['PI']*0x23,_0x26eb8d=_0x4d4677-_0x4a092e/0x64*_0x4d4677;_0x35740a[_0x3db044(0x1df)][_0x3db044(0x24e)]=_0x26eb8d;const _0xf986a3={};_0x52439f[_0x3db044(0x1b3)](_0x3077ba=>{const _0x42d8de=_0x3db044,_0x38d746=_0x3077ba[_0x42d8de(0x1ce)]||_0x42d8de(0x298);if(!_0xf986a3[_0x38d746]){const _0x1791a9='#'+_0x38d746['toString']()[_0x42d8de(0x256)](0x0,0x6);_0xf986a3[_0x38d746]={'total':0x0,'done':0x0,'color':_0x1791a9};}_0xf986a3[_0x38d746][_0x42d8de(0x1c0)]++;if(_0x3077ba['status']===_0x42d8de(0x225))_0xf986a3[_0x38d746][_0x42d8de(0x293)]++;});const _0x4086fe=document['getElementById'](_0x3db044(0x263));_0x4086fe['innerHTML']='';const _0x460116=Object[_0x3db044(0x1c2)](_0xf986a3)['sort']((_0x4e8ec1,_0x3fabc5)=>_0x3fabc5[0x1]['total']-_0x4e8ec1[0x1][_0x3db044(0x1c0)]);if(_0x460116[_0x3db044(0x23f)]===0x0){_0x4086fe['innerHTML']=_0x3db044(0x23e);return;}_0x460116[_0x3db044(0x1b3)](([_0x2915f6,_0x1ae397])=>{const _0x19d5e6=_0x3db044,_0x32f011=Math[_0x19d5e6(0x204)](_0x1ae397[_0x19d5e6(0x293)]/_0x1ae397[_0x19d5e6(0x1c0)]*0x64),_0x19ec86=document[_0x19d5e6(0x239)](_0x19d5e6(0x236));_0x19ec86['className']=_0x19d5e6(0x229),_0x19ec86[_0x19d5e6(0x1df)]['borderLeftColor']=_0x1ae397[_0x19d5e6(0x245)],_0x19ec86[_0x19d5e6(0x299)]=_0x19d5e6(0x1b1)+_0x2915f6['substr'](0x0,0x5)+_0x19d5e6(0x234)+_0x1ae397[_0x19d5e6(0x293)]+_0x19d5e6(0x25b)+_0x1ae397[_0x19d5e6(0x1c0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x32f011+_0x19d5e6(0x207),_0x4086fe[_0x19d5e6(0x255)](_0x19ec86);});}function openDetails(_0x411910){const _0x3225bd=a3_0x190ceb;currentSession=_0x411910;const _0x525230=new Date(_0x411910[_0x3225bd(0x222)]),_0x170141=_0x525230['toLocaleDateString']('ru-RU',{'weekday':_0x3225bd(0x1b9),'day':'numeric','month':_0x3225bd(0x1b9)});document[_0x3225bd(0x275)](_0x3225bd(0x296))[_0x3225bd(0x1dc)]=_0x170141[_0x3225bd(0x1c9)](0x0)[_0x3225bd(0x215)]()+_0x170141['slice'](0x1),document[_0x3225bd(0x275)](_0x3225bd(0x21e))[_0x3225bd(0x1dc)]=_0x411910[_0x3225bd(0x20d)]+_0x3225bd(0x228)+_0x411910[_0x3225bd(0x29e)],document[_0x3225bd(0x275)](_0x3225bd(0x233))['textContent']=_0x411910['note']||_0x3225bd(0x232);const _0x3bf9a9=document[_0x3225bd(0x275)](_0x3225bd(0x27b)),_0x5cd991=document['getElementById']('cancelContainer'),_0x3814b3=_0x5cd991[_0x3225bd(0x27c)](_0x3225bd(0x21c)),_0x1cd6e3=_0x5cd991[_0x3225bd(0x27c)]('.btn-reschedule'),_0x200adb=document[_0x3225bd(0x275)](_0x3225bd(0x276));if(_0x411910[_0x3225bd(0x1d0)]===_0x3225bd(0x225))_0x3bf9a9[_0x3225bd(0x1dc)]=_0x3225bd(0x295),_0x3bf9a9[_0x3225bd(0x1df)]['color']=_0x3225bd(0x1b7),_0x5cd991[_0x3225bd(0x1df)]['display']=_0x3225bd(0x271);else{_0x3bf9a9[_0x3225bd(0x1dc)]=_0x3225bd(0x25c),_0x3bf9a9[_0x3225bd(0x1df)]['color']=_0x3225bd(0x24f),_0x5cd991[_0x3225bd(0x1df)]['display']=_0x3225bd(0x240);const _0x5cac8c=new Date(_0x411910[_0x3225bd(0x222)]+'T'+_0x411910[_0x3225bd(0x20d)]),_0x5573b0=new Date(),_0x274180=(_0x5cac8c-_0x5573b0)/(0x3e8*0x3c*0x3c),_0x2f6b8a=coachProfiles[_0x411910[_0x3225bd(0x1ce)]]&&coachProfiles[_0x411910['coachId']][_0x3225bd(0x1c6)]?parseInt(coachProfiles[_0x411910[_0x3225bd(0x1ce)]][_0x3225bd(0x1c6)]):0x18;if(_0x2f6b8a===0x0||_0x274180>=_0x2f6b8a)_0x3814b3[_0x3225bd(0x1df)][_0x3225bd(0x2a2)]=_0x3225bd(0x240),_0x1cd6e3[_0x3225bd(0x1df)]['display']=_0x3225bd(0x240),_0x200adb['style'][_0x3225bd(0x2a2)]=_0x3225bd(0x271);else{_0x3814b3['style'][_0x3225bd(0x2a2)]=_0x3225bd(0x271),_0x1cd6e3['style'][_0x3225bd(0x2a2)]='none',_0x200adb['style'][_0x3225bd(0x2a2)]=_0x3225bd(0x240);let _0x41879c=_0x2f6b8a===0x0?_0x3225bd(0x221):_0x3225bd(0x1f6)+_0x2f6b8a+_0x3225bd(0x1ff);_0x200adb[_0x3225bd(0x1dc)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x41879c+_0x3225bd(0x224);}}document[_0x3225bd(0x275)]('overlay')[_0x3225bd(0x1e6)][_0x3225bd(0x1cb)](_0x3225bd(0x270)),document[_0x3225bd(0x275)](_0x3225bd(0x216))[_0x3225bd(0x1e6)][_0x3225bd(0x1cb)](_0x3225bd(0x1ca));}function closeAllSheets(){const _0x416bab=a3_0x190ceb;document[_0x416bab(0x275)](_0x416bab(0x206))['classList'][_0x416bab(0x1e0)](_0x416bab(0x270)),document['querySelectorAll'](_0x416bab(0x238))[_0x416bab(0x1b3)](_0x59856c=>_0x59856c[_0x416bab(0x1e6)]['remove'](_0x416bab(0x1ca)));}function openSheet(_0xc427ed){const _0x1de8a2=a3_0x190ceb;document['getElementById'](_0x1de8a2(0x206))['classList'][_0x1de8a2(0x1cb)](_0x1de8a2(0x270)),document[_0x1de8a2(0x275)](_0xc427ed)[_0x1de8a2(0x1e6)][_0x1de8a2(0x1cb)](_0x1de8a2(0x1ca));}function getLocalDateStr(_0x1c8c4b){const _0x3be44c=a3_0x190ceb,_0x3cb392=_0x1c8c4b['getFullYear'](),_0x3f0213=String(_0x1c8c4b[_0x3be44c(0x254)]()+0x1)['padStart'](0x2,'0'),_0x42ff71=String(_0x1c8c4b['getDate']())[_0x3be44c(0x1ed)](0x2,'0');return _0x3cb392+'-'+_0x3f0213+'-'+_0x42ff71;}function getStartOfWeek(_0x4e66c4){const _0x4077d2=a3_0x190ceb,_0x432939=new Date(_0x4e66c4),_0x58a9de=_0x432939[_0x4077d2(0x285)](),_0x107ddf=_0x432939[_0x4077d2(0x24d)]()-_0x58a9de+(_0x58a9de===0x0?-0x6:0x1);return _0x432939['setDate'](_0x107ddf),_0x432939[_0x4077d2(0x2a3)](0x0,0x0,0x0,0x0),_0x432939;}function scrollToToday(){const _0x340adc=getLocalDateStr(new Date());setTimeout(()=>{const _0x2334d6=a3_0x2e8b,_0x8049bd=document['querySelector'](_0x2334d6(0x262)+_0x340adc+'\x22]');if(_0x8049bd){const _0xb1e043=document['getElementById'](_0x2334d6(0x23a)),_0x9e7909=_0x8049bd['offsetLeft']-_0xb1e043[_0x2334d6(0x27e)]/0x2+_0x8049bd['offsetWidth']/0x2;_0xb1e043[_0x2334d6(0x278)]({'left':_0x9e7909,'behavior':_0x2334d6(0x29c)}),_0xb1e043[_0x2334d6(0x1f9)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x94d172=a3_0x190ceb,_0x2c8ee6=new Date(),_0x3c8847=document[_0x94d172(0x275)](_0x94d172(0x27d)),_0x250e2c=document[_0x94d172(0x275)](_0x94d172(0x257)),_0x19dea2=(_0x2c8ee6['getHours']()*0x3c+_0x2c8ee6[_0x94d172(0x243)]())/0x3c*GRID_H;_0x3c8847[_0x94d172(0x1df)]['top']=_0x19dea2+'px',_0x3c8847[_0x94d172(0x1df)][_0x94d172(0x2a2)]=_0x94d172(0x240),_0x250e2c[_0x94d172(0x1df)][_0x94d172(0x26e)]=_0x19dea2+'px',_0x250e2c[_0x94d172(0x1df)][_0x94d172(0x2a2)]=_0x94d172(0x240),_0x250e2c[_0x94d172(0x1dc)]=String(_0x2c8ee6['getHours']())[_0x94d172(0x1ed)](0x2,'0')+':'+String(_0x2c8ee6[_0x94d172(0x243)]())[_0x94d172(0x1ed)](0x2,'0');}function onScroll(){const _0x590744=a3_0x190ceb,_0xd79759=document[_0x590744(0x275)](_0x590744(0x23a)),_0x2f37eb=document['querySelectorAll']('.day-col-header');for(let _0x1a2fb1 of _0x2f37eb)if(_0x1a2fb1[_0x590744(0x282)]>=_0xd79759[_0x590744(0x242)]){const _0x333c7f=new Date(_0x1a2fb1[_0x590744(0x22c)](_0x590744(0x230)));document[_0x590744(0x275)](_0x590744(0x1be))[_0x590744(0x1dc)]=_0x333c7f['toLocaleString']('ru',{'month':_0x590744(0x1b9)})[_0x590744(0x215)]()+'\x20'+_0x333c7f[_0x590744(0x1fa)]();break;}}function showToast(_0x4c5754){const _0x3079e9=a3_0x190ceb,_0x974088=document[_0x3079e9(0x275)](_0x3079e9(0x251));_0x974088['textContent']=_0x4c5754,_0x974088[_0x3079e9(0x1e6)]['add']('show'),setTimeout(()=>_0x974088[_0x3079e9(0x1e6)][_0x3079e9(0x1e0)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x4a4e6d=a3_0x190ceb,_0x1c2306=document[_0x4a4e6d(0x275)](_0x4a4e6d(0x23a)),_0x2e5540=_0x1c2306['scrollLeft'],_0x493a4d=_0x1c2306['scrollWidth'],_0x2a9ea9=_0x1c2306['clientWidth'];if(_0x493a4d-(_0x2e5540+_0x2a9ea9)<0x12c){const _0x292ce7=endOffset;endOffset+=0xe,renderDayRange(_0x292ce7+0x1,endOffset),reRenderBlocks();}if(_0x2e5540<0x12c){const _0x240196=startOffset;startOffset-=0xe,prependDays(startOffset,_0x240196-0x1),_0x1c2306['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4416c6,_0x2545a4){const _0x486e8e=a3_0x190ceb,_0x41d797=document[_0x486e8e(0x275)](_0x486e8e(0x281)),_0x1e004c=document[_0x486e8e(0x275)](_0x486e8e(0x1c5)),_0x5316b0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5dbb89=new Date();_0x5dbb89[_0x486e8e(0x2a3)](0x0,0x0,0x0,0x0);const _0x3b5e0f=getLocalDateStr(new Date()),_0x2b5dac=document[_0x486e8e(0x1de)](),_0x578aa1=document['createDocumentFragment']();for(let _0x261a66=_0x4416c6;_0x261a66<=_0x2545a4;_0x261a66++){const _0x3af218=new Date(_0x5dbb89);_0x3af218[_0x486e8e(0x1c8)](_0x3af218[_0x486e8e(0x24d)]()+_0x261a66);const _0x3d125a=getLocalDateStr(_0x3af218);let _0x336ad5=_0x3af218[_0x486e8e(0x285)]()-0x1;if(_0x336ad5===-0x1)_0x336ad5=0x6;const _0xe7831a=_0x3d125a===_0x3b5e0f,_0x9291af=document['createElement'](_0x486e8e(0x236));_0x9291af[_0x486e8e(0x1b5)]=_0x486e8e(0x1c4)+(_0xe7831a?_0x486e8e(0x274):''),_0x9291af[_0x486e8e(0x250)](_0x486e8e(0x230),_0x3d125a),_0x9291af[_0x486e8e(0x299)]='<div\x20class=\x22dch-day\x22>'+_0x5316b0[_0x336ad5]+_0x486e8e(0x27a)+_0x3af218[_0x486e8e(0x24d)]()+_0x486e8e(0x1cd),_0x2b5dac['appendChild'](_0x9291af);const _0x89a3a=document[_0x486e8e(0x239)]('div');_0x89a3a[_0x486e8e(0x1b5)]='day-column\x20'+(_0xe7831a?_0x486e8e(0x274):''),_0x89a3a[_0x486e8e(0x250)](_0x486e8e(0x230),_0x3d125a),_0x89a3a[_0x486e8e(0x250)](_0x486e8e(0x1fc),_0x336ad5),_0x578aa1[_0x486e8e(0x255)](_0x89a3a);}_0x41d797[_0x486e8e(0x1fe)](_0x2b5dac,_0x41d797[_0x486e8e(0x284)]),_0x1e004c[_0x486e8e(0x1fe)](_0x578aa1,_0x1e004c[_0x486e8e(0x27c)]('.day-column'));}function hexToRgba(_0x3bf030,_0x1cb973){const _0x899ce7=a3_0x190ceb;let _0x911175;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3bf030))return _0x911175=_0x3bf030['substring'](0x1)['split'](''),_0x911175[_0x899ce7(0x23f)]==0x3&&(_0x911175=[_0x911175[0x0],_0x911175[0x0],_0x911175[0x1],_0x911175[0x1],_0x911175[0x2],_0x911175[0x2]]),_0x911175='0x'+_0x911175[_0x899ce7(0x21d)](''),_0x899ce7(0x1f3)+[_0x911175>>0x10&0xff,_0x911175>>0x8&0xff,_0x911175&0xff]['join'](',')+','+_0x1cb973+')';return _0x899ce7(0x1b4)+_0x1cb973+')';}function a3_0x2e8b(_0x2499aa,_0x25d2b3){_0x2499aa=_0x2499aa-0x1ae;const _0x3b521c=a3_0x2d60();let _0x23fa05=_0x3b521c[_0x2499aa];return _0x23fa05;}let confirmResolver=null;function showCustomConfirm(_0x4623ba,_0x144030,_0x3f7639=!![]){const _0x158927=a3_0x190ceb;document[_0x158927(0x275)](_0x158927(0x22d))[_0x158927(0x1dc)]=_0x4623ba,document[_0x158927(0x275)](_0x158927(0x1b2))[_0x158927(0x1dc)]=_0x144030;const _0x1bbc97=document[_0x158927(0x275)](_0x158927(0x21a));return _0x3f7639?(_0x1bbc97[_0x158927(0x1df)][_0x158927(0x245)]=_0x158927(0x20b),_0x1bbc97[_0x158927(0x1df)][_0x158927(0x2a0)]=_0x158927(0x227)):(_0x1bbc97[_0x158927(0x1df)][_0x158927(0x245)]='#0a84ff',_0x1bbc97[_0x158927(0x1df)][_0x158927(0x2a0)]=_0x158927(0x227)),new Promise(_0x460393=>{const _0x583fbb=_0x158927;confirmResolver=_0x460393,document['getElementById'](_0x583fbb(0x1af))[_0x583fbb(0x1e6)]['add'](_0x583fbb(0x1d6));});}function resolveCustomConfirm(_0x1b1b89){const _0x24aa32=a3_0x190ceb;document[_0x24aa32(0x275)]('customConfirm')[_0x24aa32(0x1e6)][_0x24aa32(0x1e0)](_0x24aa32(0x1d6));if(confirmResolver)confirmResolver(_0x1b1b89);}async function tryCancelCurrentSession(){const _0x5bda92=a3_0x190ceb;if(!currentSession)return;const _0x5df541=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x5bda92(0x279),!![]);if(!_0x5df541)return;const _0x17a1f1=currentSession;closeAllSheets(),sessions=sessions[_0x5bda92(0x1cf)](_0x4ae813=>_0x4ae813['id']!==_0x17a1f1['id']),reRenderBlocks(),showToast(_0x5bda92(0x1f4)),lastUserActionTime=Date[_0x5bda92(0x264)]();try{const _0x2416e4=window[_0x5bda92(0x1b6)]?.[_0x5bda92(0x27f)],_0xb098b6=await fetch(API_URL,{'method':_0x5bda92(0x25d),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x2416e4?.[_0x5bda92(0x269)]||'','coachId':_0x17a1f1['coachId'],'dateStr':_0x17a1f1[_0x5bda92(0x222)],'sessionId':_0x17a1f1['id']})});if(_0xb098b6['ok'])DataManager['saveLocally']();}catch(_0x41865b){showToast(_0x5bda92(0x273));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x559d6b=a3_0x190ceb;if(!currentSession)return;document['getElementById'](_0x559d6b(0x216))[_0x559d6b(0x1e6)][_0x559d6b(0x1e0)]('open'),document[_0x559d6b(0x275)](_0x559d6b(0x268))['classList'][_0x559d6b(0x1cb)](_0x559d6b(0x1ca));const _0x38d011=document['getElementById'](_0x559d6b(0x1e2)),_0x1e19f5=document[_0x559d6b(0x275)](_0x559d6b(0x208));_0x38d011['innerHTML']='',_0x1e19f5[_0x559d6b(0x299)]=_0x559d6b(0x1f2);const [_0x1042ea,_0x234040]=currentSession[_0x559d6b(0x20d)][_0x559d6b(0x1ef)](':')['map'](Number),[_0x54bda3,_0x599e5f]=currentSession[_0x559d6b(0x29e)][_0x559d6b(0x1ef)](':')[_0x559d6b(0x1d7)](Number),_0x618fe3=_0x54bda3*0x3c+_0x599e5f-(_0x1042ea*0x3c+_0x234040);try{const _0x57e83e=window[_0x559d6b(0x1b6)]?.[_0x559d6b(0x27f)],_0x40bbdf=await fetch(API_URL,{'method':_0x559d6b(0x25d),'body':JSON[_0x559d6b(0x29f)]({'action':_0x559d6b(0x1dd),'coachId':currentSession[_0x559d6b(0x1ce)],'duration':_0x618fe3,'init_data':_0x57e83e?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1df26c=await _0x40bbdf[_0x559d6b(0x1fb)]();_0x1df26c['ok']&&_0x1df26c['data']?(availableSlotsCache=_0x1df26c[_0x559d6b(0x24a)],renderRescheduleDates()):_0x1e19f5['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x4ee92a){_0x1e19f5[_0x559d6b(0x299)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x1fbe03=a3_0x190ceb,_0x3c80a6=document[_0x1fbe03(0x275)](_0x1fbe03(0x1e2));_0x3c80a6[_0x1fbe03(0x299)]='';const _0x2b1a96=Object[_0x1fbe03(0x267)](availableSlotsCache)[_0x1fbe03(0x241)](),_0x1ed156=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2b1a96[_0x1fbe03(0x23f)]===0x0){document[_0x1fbe03(0x275)](_0x1fbe03(0x208))[_0x1fbe03(0x299)]=_0x1fbe03(0x211);return;}_0x2b1a96[_0x1fbe03(0x1b3)]((_0x50b1ee,_0x5e41c5)=>{const _0x38034c=_0x1fbe03,_0x46d12b=new Date(_0x50b1ee),_0x79046d=_0x1ed156[_0x46d12b[_0x38034c(0x285)]()],_0x49ebd4=_0x46d12b['getDate'](),_0x340f66=document['createElement'](_0x38034c(0x236));_0x340f66[_0x38034c(0x1b5)]=_0x38034c(0x23b);if(_0x5e41c5===0x0)_0x340f66['classList'][_0x38034c(0x1cb)]('active');_0x340f66['innerHTML']=_0x38034c(0x25f)+_0x79046d+'</div><div\x20class=\x22rs-day-num\x22>'+_0x49ebd4+'</div>',_0x340f66[_0x38034c(0x1d1)]=()=>selectRsDate(_0x50b1ee,_0x340f66),_0x3c80a6[_0x38034c(0x255)](_0x340f66);}),selectRsDate(_0x2b1a96[0x0],_0x3c80a6[_0x1fbe03(0x284)]);}function selectRsDate(_0x31def0,_0x283e7e){const _0x5b0549=a3_0x190ceb;selectedRsDate=_0x31def0,document[_0x5b0549(0x213)](_0x5b0549(0x29b))['forEach'](_0x5e573a=>_0x5e573a[_0x5b0549(0x1e6)][_0x5b0549(0x1e0)]('active'));if(_0x283e7e)_0x283e7e[_0x5b0549(0x1e6)][_0x5b0549(0x1cb)](_0x5b0549(0x270));const _0xb62973=document[_0x5b0549(0x275)](_0x5b0549(0x208));_0xb62973[_0x5b0549(0x299)]='';const _0x52092a=availableSlotsCache[_0x31def0]||[];if(_0x52092a['length']===0x0){_0xb62973[_0x5b0549(0x299)]=_0x5b0549(0x28c);return;}_0x52092a[_0x5b0549(0x1b3)](_0x72c613=>{const _0x53c20a=_0x5b0549,_0x21e58d=document[_0x53c20a(0x239)](_0x53c20a(0x22f));_0x21e58d[_0x53c20a(0x1b5)]='rs-time-btn',_0x21e58d[_0x53c20a(0x1dc)]=_0x72c613,_0x21e58d[_0x53c20a(0x1d1)]=()=>confirmReschedule(_0x72c613),_0xb62973[_0x53c20a(0x255)](_0x21e58d);});}async function confirmReschedule(_0x5da17e){const _0x1106b9=a3_0x190ceb,_0x144f77=new Date(selectedRsDate),_0x14ff5f=_0x144f77['toLocaleDateString'](_0x1106b9(0x21b),{'day':_0x1106b9(0x292),'month':'long'}),_0x53384e=await showCustomConfirm(_0x1106b9(0x25a),_0x1106b9(0x1b0)+_0x14ff5f+_0x1106b9(0x20e)+_0x5da17e+'?',![]);if(!_0x53384e)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x1106b9(0x264)]();const _0x4ba3f6=currentSession[_0x1106b9(0x222)],_0x471a6e=currentSession['id'],[_0x4806ce,_0x4c2785]=currentSession[_0x1106b9(0x20d)][_0x1106b9(0x1ef)](':')['map'](Number),[_0x549cf6,_0x4f2a75]=currentSession[_0x1106b9(0x29e)][_0x1106b9(0x1ef)](':')[_0x1106b9(0x1d7)](Number),_0x413b14=_0x549cf6*0x3c+_0x4f2a75-(_0x4806ce*0x3c+_0x4c2785),[_0x66e894,_0x4caebb]=_0x5da17e[_0x1106b9(0x1ef)](':')[_0x1106b9(0x1d7)](Number),_0x203e74=_0x66e894*0x3c+_0x4caebb+_0x413b14,_0x5d48df=Math['floor'](_0x203e74/0x3c),_0x4e754e=_0x203e74%0x3c,_0x4ca4d2=String(_0x5d48df)[_0x1106b9(0x1ed)](0x2,'0')+':'+String(_0x4e754e)[_0x1106b9(0x1ed)](0x2,'0'),_0x5d73b9=sessions['findIndex'](_0x2a3e83=>_0x2a3e83['id']===_0x471a6e);_0x5d73b9!==-0x1&&(sessions[_0x5d73b9][_0x1106b9(0x222)]=selectedRsDate,sessions[_0x5d73b9][_0x1106b9(0x20d)]=_0x5da17e,sessions[_0x5d73b9]['end']=_0x4ca4d2,reRenderBlocks());try{const _0x4105fe=window['Telegram']?.['WebApp'],_0x27466a=await fetch(API_URL,{'method':_0x1106b9(0x25d),'body':JSON[_0x1106b9(0x29f)]({'action':_0x1106b9(0x1cc),'init_data':_0x4105fe?.[_0x1106b9(0x269)]||'','oldSessionId':_0x471a6e,'oldDate':_0x4ba3f6,'newDate':selectedRsDate,'newTime':_0x5da17e,'coachId':currentSession[_0x1106b9(0x1ce)]})}),_0x1d2e5e=await _0x27466a[_0x1106b9(0x1fb)]();!_0x1d2e5e['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x1106b9(0x277)),DataManager[_0x1106b9(0x252)]());}catch(_0x2068f2){showToast(_0x1106b9(0x273));}}document['addEventListener'](a3_0x190ceb(0x272),init);function a3_0x2d60(){const _0x1ffcfa=['div','anTotalStats','.sheet','createElement','matrixViewport','rs-date-chip','uc_client_settings','push','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','length','block','sort','scrollLeft','getMinutes','3976770MTtTUW','color','calendar','%\x20-\x204px)','%\x20+\x202px)','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','data','exceptions','\x20–∏–∑\x20','getDate','strokeDashoffset','var(--acc-blue)','setAttribute','toast','saveLocally','\x20status-completed','getMonth','appendChild','substr','timeLineBadge','width','anCustomDates','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</span>\x20/\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','POST','backgroundPosition','<div\x20class=\x22rs-day-name\x22>','anDonutCircle','8eqhMWd','.day-col-header[data-date=\x22','analyticsList','now','colIndex','T00:00:00','keys','rescheduleSheet','initData','px\x200px','all','T23:59:59','day-off-overlay\x20stripe-bg','top','11718399wsKWFz','active','none','DOMContentLoaded','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','today','getElementById','cancelHint','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','scrollTo','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','</div><div\x20class=\x22dch-num\x22>','detStatus','querySelector','globalTimeLine','clientWidth','WebApp','apply','daysHeaderTrack','offsetLeft','setBackgroundColor','firstChild','getDay','getTime','applyData','max','calc(','.period-switch\x20.p-btn','ranges','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','.day-column','8387838aSNSXC','anPercent','client_load','4SBzZwc','numeric','done','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','detDate','height','Unknown','innerHTML','flex','.rs-date-chip','auto','pattern','end','stringify','fontWeight','BackButton','display','setHours','px\x20-','customConfirm','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','ccText','forEach','rgba(10,\x20132,\x20255,\x20','className','Telegram','var(--acc-green)','Critical\x20TMA\x20Error:','long','backgroundColor','stopPropagation','log','#050505','headerMonth','value','total','991551IEOEKu','entries','startsWith','day-col-header\x20','gridColumns','cancel_window','blocked-range-part\x20stripe-bg','setDate','charAt','open','add','reschedule','</div>','coachId','filter','status','onclick','week','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','user','sid','visible','map','(((.+)+)+)+$','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','day-column\x20','href','textContent','get_slots','createDocumentFragment','style','remove','8721585jYanIC','rsDatesTrack','left','toString','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','classList','analyticsSheet','then','expand','addEventListener','<div\x20class=\x22dch-day\x22>','uc_client_sessions','padStart','getItem','split','7223120ciQjet','v9.5-CLIENT-ANALYTICS','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','rgba(','–û—Ç–º–µ–Ω–µ–Ω–æ','68991yDGKCY','–∑–∞\x20','find','constructor','scrollTop','getFullYear','json','data-day-idx','clients','insertBefore','\x20—á.','clientId','ready','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','min','overlay','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsSlotsGrid','settings','disableVerticalSwipes','#ff453a','16ijThry','start','\x20–≤\x20','blocked-slot\x20stripe-bg','coach_profiles','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','event-card','querySelectorAll','anEnd','toUpperCase','detailsSheet','location','uc_client_list','220xgYFXp','ccYesBtn','ru-RU','.btn-cancel','join','detTime','#0a84ff','loadLocal','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','dateStr','anStart','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','completed','month','600','\x20-\x20','client-stat-card','mini','parse','getAttribute','ccTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','data-date','Error\x20setting\x20color:','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','detNote','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','cancelled'];a3_0x2d60=function(){return _0x1ffcfa;};return a3_0x2d60();}