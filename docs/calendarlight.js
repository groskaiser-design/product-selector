const a3_0x415dc0=a3_0x2e3c;(function(_0x3da959,_0xf03ec9){const _0x8a79fe=a3_0x2e3c,_0x1baed0=_0x3da959();while(!![]){try{const _0x4b8806=parseInt(_0x8a79fe(0x15f))/0x1*(-parseInt(_0x8a79fe(0x202))/0x2)+-parseInt(_0x8a79fe(0x1ca))/0x3+-parseInt(_0x8a79fe(0x186))/0x4+parseInt(_0x8a79fe(0x191))/0x5+parseInt(_0x8a79fe(0x1c0))/0x6+parseInt(_0x8a79fe(0x1bf))/0x7*(parseInt(_0x8a79fe(0x18b))/0x8)+parseInt(_0x8a79fe(0x14d))/0x9*(parseInt(_0x8a79fe(0x1bb))/0xa);if(_0x4b8806===_0xf03ec9)break;else _0x1baed0['push'](_0x1baed0['shift']());}catch(_0x2050f4){_0x1baed0['push'](_0x1baed0['shift']());}}}(a3_0xa804,0x870a2));const APP_VERSION=a3_0x415dc0(0x1ec),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x415dc0(0x13b),KEY_SETTINGS=a3_0x415dc0(0x187),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x415dc0(0x1b7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xb36ab2=a3_0x415dc0,_0x4c4005=(function(){let _0x2b4e6c=!![];return function(_0x128834,_0x37bf1f){const _0xfac842=_0x2b4e6c?function(){const _0x194014=a3_0x2e3c;if(_0x37bf1f){const _0x297ac5=_0x37bf1f[_0x194014(0x162)](_0x128834,arguments);return _0x37bf1f=null,_0x297ac5;}}:function(){};return _0x2b4e6c=![],_0xfac842;};}()),_0x294c8e=_0x4c4005(this,function(){const _0x829c04=a3_0x2e3c;return _0x294c8e[_0x829c04(0x205)]()[_0x829c04(0x13d)]('(((.+)+)+)+$')[_0x829c04(0x205)]()[_0x829c04(0x134)](_0x294c8e)[_0x829c04(0x13d)](_0x829c04(0x136));});_0x294c8e();try{const _0x2e01f0=window[_0xb36ab2(0x200)]?.[_0xb36ab2(0x143)];if(!_0x2e01f0)return;_0x2e01f0[_0xb36ab2(0x17f)](),_0x2e01f0['expand']();try{_0x2e01f0[_0xb36ab2(0x150)](_0xb36ab2(0x1ae)),_0x2e01f0[_0xb36ab2(0x1e4)]&&_0x2e01f0[_0xb36ab2(0x1e4)](_0xb36ab2(0x1ae));}catch(_0x4fee19){console['log'](_0xb36ab2(0x140),_0x4fee19);}try{_0x2e01f0[_0xb36ab2(0x181)]&&(_0x2e01f0['BackButton']['show'](),_0x2e01f0['BackButton']['offClick'](),_0x2e01f0['BackButton'][_0xb36ab2(0x1c1)](function(){const _0x44f2db=_0xb36ab2;window[_0x44f2db(0x11f)][_0x44f2db(0x1cd)]='router.html';}));}catch(_0x3e67b0){console['log'](_0xb36ab2(0x155),_0x3e67b0);}try{if(_0x2e01f0[_0xb36ab2(0x1b9)])_0x2e01f0[_0xb36ab2(0x1b9)]();}catch(_0x3244db){}}catch(_0x247aa9){console['error'](_0xb36ab2(0x1a4),_0x247aa9);}}());function a3_0xa804(){const _0x27f92b=['color','\x20-\x20','POST',':00</span>','day-col-header\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','find','startsWith','Critical\x20TMA\x20Error:','all','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','600','scrollTo','matrixViewport','%\x20-\x204px)','analyticsList','timeColumn','done','#050505','left','ccText','querySelector','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','max','data-date','getHours','anStart','week','anEnd','disableVerticalSwipes','T23:59:59','10WYwmUC','active','filter','completed','7EFyfJS','2630250vjydFu','onClick','seriesId','timeLineBadge','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.day-col-header[data-date=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2933697VLepJc','map','client_cancel','href','sid','createElement','log','backgroundPosition','var(--acc-blue)','stopPropagation','findIndex','getDay','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','visible','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','round','saveLocally','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','clientWidth','clients','toUpperCase','.btn-reschedule','<span>','long','anCustomDates','gridColumns','setBackgroundColor','\x20–≤\x20','classList','remove','ranges','backgroundColor','day-off-overlay\x20stripe-bg','push','v9.5-CLIENT-ANALYTICS','anDonutCircle','sort','json','initData','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','today','<div\x20class=\x22dch-day\x22>','top','px\x20-','value','coachId','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toLocaleDateString','dateStr','T00:00:00','getElementById','charAt','setDate','offsetLeft','Telegram','zIndex','522VImitI','rescheduleSheet','anTotalStats','toString','start','numeric','client-stat-card','#0a84ff','syncLoad','slice','style','height','%\x20+\x202px)','rgba(','<div\x20class=\x22rs-day-name\x22>','now','add','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','blocked-slot\x20stripe-bg','forEach','querySelectorAll','createDocumentFragment','getFullYear','insertBefore','setItem','className','flex','getMinutes','auto','location','stringify','total','status','rsDatesTrack','coach_profiles','\x20—á.','var(--acc-green)','exceptions','settings','onclick','.sheet','isArray','–∑–∞\x20','div','block','–û—Ç–º–µ–Ω–µ–Ω–æ','floor','scrollTop','calendar','firstChild','constructor','Unknown','(((.+)+)+)+$','.btn-cancel','offsetWidth','min','clientId','uc_client_sessions','appendChild','search','time-label','</div>','Error\x20setting\x20color:','getMonth','headerMonth','WebApp','client_load','padStart','rs-time-btn','note','button','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','scrollLeft','custom','length','15420204QEJvnU','.period-switch\x20.p-btn','day-column\x20','setHeaderColor','open','user','test','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','Error\x20setting\x20back\x20button:','anPercent','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','cid','initDataUnsafe','px\x200px','end','cancel_window','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','planned','3183NiyyHZ','overlay','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','apply','</span>\x20/\x20','toLocaleString','show','blocked-range-part\x20stripe-bg','globalTimeLine','ccTitle','month','setHours','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','</div><div\x20class=\x22dch-num\x22>','display','.day-column','get_slots','customConfirm','scrollWidth','applyData','parse','addEventListener','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','detailsSheet','ru-RU','split','strokeDashoffset','setMonth','then','rs-date-chip','innerHTML','data-day-idx','ready','reschedule','BackButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','setAttribute','cancelled','3942176YkYnkZ','uc_client_settings','</div><div\x20class=\x22rs-day-num\x22>','\x20–∏–∑\x20','substr','6494472wgKyEO','loadLocal','width','DOMContentLoaded','pattern','toast','1918940LhSdhp','entries','detDate','getTime','getDate','rsSlotsGrid','colIndex','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','data','daysHeaderTrack'];a3_0xa804=function(){return _0x27f92b;};return a3_0xa804();}function isAdmin(){const _0x477168=a3_0x415dc0;try{const _0x458055=Number(window[_0x477168(0x200)]?.[_0x477168(0x143)]?.[_0x477168(0x159)]?.[_0x477168(0x152)]?.['id']);return _0x458055===0xbaf7174;}catch(_0xebe934){return![];}}const DataManager={'saveLocally'(){const _0x3690aa=a3_0x415dc0;try{localStorage[_0x3690aa(0x11a)](KEY_SESSIONS,JSON[_0x3690aa(0x120)](sessions)),localStorage[_0x3690aa(0x11a)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3690aa(0x11a)](KEY_SETTINGS,JSON[_0x3690aa(0x120)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2c7acc){}},'loadLocal'(){const _0x52a29c=a3_0x415dc0;try{const _0x1716cc=localStorage['getItem'](KEY_SESSIONS);if(_0x1716cc)sessions=JSON[_0x52a29c(0x173)](_0x1716cc);const _0x368c41=localStorage[_0x52a29c(0x1c6)](KEY_CLIENTS);if(_0x368c41)clients=JSON[_0x52a29c(0x173)](_0x368c41);const _0x48e96e=localStorage[_0x52a29c(0x1c6)](KEY_SETTINGS);if(_0x48e96e){const _0x3926e9=JSON[_0x52a29c(0x173)](_0x48e96e);if(_0x3926e9[_0x52a29c(0x18f)])availabilityPattern=_0x3926e9[_0x52a29c(0x18f)];if(_0x3926e9['ranges'])specialRanges=_0x3926e9[_0x52a29c(0x1e8)];if(_0x3926e9[_0x52a29c(0x127)])dateExceptions=_0x3926e9[_0x52a29c(0x127)];}}catch(_0x3c421c){}},async 'syncLoad'(){const _0x511f00=a3_0x415dc0,_0x3e3d66=new Date(),_0x1c510b=_0x3e3d66[_0x511f00(0x118)]()+'-'+String(_0x3e3d66['getMonth']()+0x1)['padStart'](0x2,'0'),_0x50470e=new Date(_0x3e3d66);_0x50470e[_0x511f00(0x17a)](_0x3e3d66[_0x511f00(0x141)]()+0x1);const _0x19f659=_0x50470e[_0x511f00(0x118)]()+'-'+String(_0x50470e[_0x511f00(0x141)]()+0x1)[_0x511f00(0x145)](0x2,'0'),_0x2f0741=Date[_0x511f00(0x111)]();try{const _0x333952=window['Telegram']?.[_0x511f00(0x143)],_0x2cccea=_0x333952?.[_0x511f00(0x1f0)]||'',[_0x30fe43,_0x222d11]=await Promise[_0x511f00(0x1a5)]([fetch(API_URL,{'method':_0x511f00(0x19d),'body':JSON['stringify']({'action':_0x511f00(0x144),'init_data':_0x2cccea,'month_str':_0x1c510b})})[_0x511f00(0x17b)](_0x22041f=>_0x22041f['json']()),fetch(API_URL,{'method':_0x511f00(0x19d),'body':JSON[_0x511f00(0x120)]({'action':'client_load','init_data':_0x2cccea,'month_str':_0x19f659})})['then'](_0x4345ee=>_0x4345ee['json']())]);if(lastUserActionTime>_0x2f0741){console[_0x511f00(0x1d0)](_0x511f00(0x1b2));return;}if(_0x30fe43['ok'])this[_0x511f00(0x172)](_0x30fe43['data'],_0x1c510b);if(_0x222d11['ok'])this[_0x511f00(0x172)](_0x222d11['data'],_0x19f659);this[_0x511f00(0x1da)]();}catch(_0x906f9d){}},'applyData'(_0xb93d04,_0x4e4a0b){const _0x1a5803=a3_0x415dc0;if(!_0xb93d04)return;if(_0xb93d04['settings']){if(_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x18f)])availabilityPattern=_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x18f)];if(_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x1e8)])specialRanges=_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x1e8)];if(_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x127)])dateExceptions=_0xb93d04[_0x1a5803(0x128)][_0x1a5803(0x127)];}if(_0xb93d04[_0x1a5803(0x1dd)]&&Array[_0x1a5803(0x12b)](_0xb93d04[_0x1a5803(0x1dd)]))clients=_0xb93d04[_0x1a5803(0x1dd)];_0xb93d04[_0x1a5803(0x124)]&&(coachProfiles={...coachProfiles,..._0xb93d04[_0x1a5803(0x124)]}),_0xb93d04[_0x1a5803(0x132)]&&(sessions=sessions[_0x1a5803(0x1bd)](_0x35f1de=>!_0x35f1de[_0x1a5803(0x1fa)][_0x1a5803(0x1a3)](_0x4e4a0b)),Object['keys'](_0xb93d04['calendar'])['forEach'](_0x30347d=>{const _0x3d3d81=_0x1a5803,_0x3cbbc6=_0xb93d04[_0x3d3d81(0x132)][_0x30347d];_0x3cbbc6[_0x3d3d81(0x115)](_0x2a5572=>{const _0xc33700=_0x3d3d81;sessions[_0xc33700(0x1eb)]({'id':_0x2a5572['i'],'clientId':_0x2a5572['c'],'coachId':_0x2a5572[_0xc33700(0x158)],'dateStr':_0x4e4a0b+'-'+_0x30347d[_0xc33700(0x145)](0x2,'0'),'start':_0x2a5572['s'],'end':_0x2a5572['e'],'note':_0x2a5572['n']||'','status':_0x2a5572['st']||_0xc33700(0x15e),'seriesId':_0x2a5572[_0xc33700(0x1ce)]});});})),reRenderBlocks();}};function init(){const _0x1b5f70=a3_0x415dc0;DataManager[_0x1b5f70(0x18c)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1b5f70(0x1a9))[_0x1b5f70(0x174)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x1329e1=a3_0x415dc0,_0x474a20=document[_0x1329e1(0x1fc)](_0x1329e1(0x1ac)),_0x244a47=document[_0x1329e1(0x1fc)](_0x1329e1(0x1c3));_0x474a20[_0x1329e1(0x17d)]='',_0x474a20[_0x1329e1(0x13c)](_0x244a47);for(let _0x20bcf1=0x0;_0x20bcf1<0x18;_0x20bcf1++){const _0x2f93bd=document[_0x1329e1(0x1cf)]('div');_0x2f93bd['className']=_0x1329e1(0x13e);if(_0x20bcf1>0x0)_0x2f93bd[_0x1329e1(0x17d)]=_0x1329e1(0x1e0)+String(_0x20bcf1)[_0x1329e1(0x145)](0x2,'0')+_0x1329e1(0x19e);_0x474a20[_0x1329e1(0x13c)](_0x2f93bd);}}function renderDayRange(_0x1be16f,_0x156a13){const _0x38efc6=a3_0x415dc0,_0x26eaad=document[_0x38efc6(0x1fc)]('daysHeaderTrack'),_0x3cc882=document[_0x38efc6(0x1fc)](_0x38efc6(0x1e3)),_0x2f9319=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d2f15=new Date();_0x2d2f15[_0x38efc6(0x16a)](0x0,0x0,0x0,0x0);const _0x457f0a=getLocalDateStr(new Date());for(let _0x59bc2d=_0x1be16f;_0x59bc2d<=_0x156a13;_0x59bc2d++){const _0x3e55fe=new Date(_0x2d2f15);_0x3e55fe[_0x38efc6(0x1fe)](_0x3e55fe[_0x38efc6(0x195)]()+_0x59bc2d);const _0x6d4bd3=getLocalDateStr(_0x3e55fe);let _0x182fed=_0x3e55fe[_0x38efc6(0x1d5)]()-0x1;if(_0x182fed===-0x1)_0x182fed=0x6;const _0x2edd6a=_0x6d4bd3===_0x457f0a,_0x31bc85=document[_0x38efc6(0x1cf)](_0x38efc6(0x12d));_0x31bc85['className']=_0x38efc6(0x19f)+(_0x2edd6a?'today':''),_0x31bc85[_0x38efc6(0x184)](_0x38efc6(0x1b4),_0x6d4bd3),_0x31bc85['innerHTML']=_0x38efc6(0x1f3)+_0x2f9319[_0x182fed]+_0x38efc6(0x16c)+_0x3e55fe[_0x38efc6(0x195)]()+_0x38efc6(0x13f),_0x26eaad[_0x38efc6(0x13c)](_0x31bc85);const _0x316ee2=document['createElement']('div');_0x316ee2[_0x38efc6(0x11b)]=_0x38efc6(0x14f)+(_0x2edd6a?_0x38efc6(0x1f2):''),_0x316ee2['setAttribute']('data-date',_0x6d4bd3),_0x316ee2[_0x38efc6(0x184)](_0x38efc6(0x17e),_0x182fed),_0x3cc882[_0x38efc6(0x13c)](_0x316ee2);}}function reRenderBlocks(){const _0x51c5d3=a3_0x415dc0;document[_0x51c5d3(0x116)](_0x51c5d3(0x16e))[_0x51c5d3(0x115)](_0x85b1c0=>{const _0x359737=_0x51c5d3;_0x85b1c0[_0x359737(0x116)](_0x359737(0x1a0))[_0x359737(0x115)](_0x3eed89=>_0x3eed89[_0x359737(0x1e7)]());const _0x177baa=_0x85b1c0['getAttribute'](_0x359737(0x1b4)),_0x991d90=parseInt(_0x85b1c0['getAttribute'](_0x359737(0x17e))),_0x3596f9=Math[_0x359737(0x1d9)](_0x85b1c0[_0x359737(0x1ff)]);(availabilityPattern[_0x991d90]||[])[_0x359737(0x115)](_0xbc6750=>{const _0x4a59a9=_0x359737,_0x14c987=document[_0x4a59a9(0x1cf)](_0x4a59a9(0x12d));_0x14c987[_0x4a59a9(0x11b)]=_0x4a59a9(0x114),_0x14c987['style'][_0x4a59a9(0x1f4)]=_0xbc6750*GRID_H+'px',_0x14c987[_0x4a59a9(0x10c)][_0x4a59a9(0x1d1)]='-'+_0x3596f9+_0x4a59a9(0x1f5)+_0xbc6750*GRID_H+'px',_0x85b1c0[_0x4a59a9(0x13c)](_0x14c987);});if(specialRanges[_0x359737(0x14c)]>0x0){const _0x240938=new Date(_0x177baa+_0x359737(0x1fb))[_0x359737(0x194)](),_0x367cd4=new Date(_0x177baa+_0x359737(0x1ba))[_0x359737(0x194)]();specialRanges['forEach'](_0x3e9937=>{const _0x2565be=_0x359737,_0x258604=new Date(_0x3e9937['start'])[_0x2565be(0x194)](),_0x522bcc=new Date(_0x3e9937['end'])[_0x2565be(0x194)](),_0x2b4793=Math[_0x2565be(0x1b3)](_0x240938,_0x258604),_0x4cdb04=Math[_0x2565be(0x139)](_0x367cd4,_0x522bcc);if(_0x2b4793<_0x4cdb04){const _0x276f7a=(_0x2b4793-_0x240938)/0x36ee80*GRID_H,_0x2c2aa3=(_0x4cdb04-_0x2b4793)/0x36ee80*GRID_H,_0xa29cc2=document[_0x2565be(0x1cf)]('div');_0x2c2aa3>=23.5*GRID_H?(_0xa29cc2[_0x2565be(0x11b)]=_0x2565be(0x1ea),_0xa29cc2[_0x2565be(0x10c)][_0x2565be(0x1d1)]='-'+_0x3596f9+_0x2565be(0x15a)):(_0xa29cc2['className']=_0x2565be(0x166),_0xa29cc2[_0x2565be(0x10c)]['top']=_0x276f7a+'px',_0xa29cc2[_0x2565be(0x10c)][_0x2565be(0x10d)]=_0x2c2aa3+'px',_0xa29cc2[_0x2565be(0x10c)][_0x2565be(0x1d1)]='-'+_0x3596f9+_0x2565be(0x1f5)+_0x276f7a+'px'),_0x85b1c0[_0x2565be(0x13c)](_0xa29cc2);}});}renderEventsForColumn(_0x85b1c0,_0x177baa);});}function renderEventsForColumn(_0x3908b2,_0x5f21d2){const _0xa16718=a3_0x415dc0,_0x3d4c9b=sessions['filter'](_0x8ccaf3=>_0x8ccaf3[_0xa16718(0x1fa)]===_0x5f21d2),_0x9ab59d=_0x3d4c9b[_0xa16718(0x1cb)](_0x30258f=>{const _0x201d30=_0xa16718,[_0x4156cc,_0x2a1120]=_0x30258f[_0x201d30(0x206)][_0x201d30(0x178)](':')[_0x201d30(0x1cb)](Number),[_0x409063,_0x3d370b]=_0x30258f['end'][_0x201d30(0x178)](':')[_0x201d30(0x1cb)](Number);return{'data':_0x30258f,'start':_0x4156cc*0x3c+_0x2a1120,'end':_0x409063*0x3c+_0x3d370b,'colIndex':0x0};});_0x9ab59d['sort']((_0x4ab1a0,_0x1b28cf)=>_0x4ab1a0[_0xa16718(0x206)]-_0x1b28cf[_0xa16718(0x206)]||_0x1b28cf['end']-_0x1b28cf['start']-(_0x4ab1a0[_0xa16718(0x15b)]-_0x4ab1a0['start']));const _0xb9490=[];_0x9ab59d[_0xa16718(0x115)](_0x5a39e2=>{const _0x5843f6=_0xa16718;let _0x4b9cd2=![];for(let _0x375fe1=0x0;_0x375fe1<_0xb9490[_0x5843f6(0x14c)];_0x375fe1++){const _0x3ff19a=_0xb9490[_0x375fe1];if(_0x5a39e2[_0x5843f6(0x206)]>=_0x3ff19a[_0x3ff19a[_0x5843f6(0x14c)]-0x1][_0x5843f6(0x15b)]){_0x3ff19a[_0x5843f6(0x1eb)](_0x5a39e2),_0x5a39e2['colIndex']=_0x375fe1,_0x4b9cd2=!![];break;}}!_0x4b9cd2&&(_0xb9490[_0x5843f6(0x1eb)]([_0x5a39e2]),_0x5a39e2['colIndex']=_0xb9490[_0x5843f6(0x14c)]-0x1);}),_0x9ab59d[_0xa16718(0x115)](_0x4c3365=>{const _0x4361f1=_0xa16718;let _0xa0cd9e=0x0;_0x9ab59d['forEach'](_0x19aba6=>{const _0x4c2592=a3_0x2e3c;if(Math[_0x4c2592(0x1b3)](_0x4c3365[_0x4c2592(0x206)],_0x19aba6[_0x4c2592(0x206)])<Math[_0x4c2592(0x139)](_0x4c3365[_0x4c2592(0x15b)],_0x19aba6[_0x4c2592(0x15b)])&&_0x19aba6[_0x4c2592(0x197)]>_0xa0cd9e)_0xa0cd9e=_0x19aba6[_0x4c2592(0x197)];});const _0x59cb5c=_0xa0cd9e+0x1,_0x580af4=0x64/_0x59cb5c,_0x4fc1a3=_0x4c3365[_0x4361f1(0x197)]*_0x580af4,_0x3257ca=document['createElement']('div'),_0x1fe4c8=_0x4c3365[_0x4361f1(0x199)];let _0x3405fa=_0x4361f1(0x109);if(clients&&clients[_0x4361f1(0x14c)]>0x0){const _0x28494b=clients[_0x4361f1(0x1a2)](_0x2b6af1=>String(_0x2b6af1['id'])===String(_0x1fe4c8[_0x4361f1(0x13a)]));if(_0x28494b&&_0x28494b[_0x4361f1(0x19b)])_0x3405fa=_0x28494b[_0x4361f1(0x19b)];}const _0x3adf66=_0x1fe4c8[_0x4361f1(0x122)]==='completed',_0x3c3ffd=_0x3adf66?0x1:0.45;_0x3257ca[_0x4361f1(0x11b)]='event-card'+(_0x3adf66?'\x20status-completed':''),_0x3257ca['style'][_0x4361f1(0x1e9)]=hexToRgba(_0x3405fa,_0x3c3ffd),_0x3257ca[_0x4361f1(0x10c)]['borderLeftColor']=_0x3405fa;const _0x2f3cc0=_0x4c3365[_0x4361f1(0x206)]/0x3c*GRID_H,_0x5045b1=(_0x4c3365['end']-_0x4c3365[_0x4361f1(0x206)])/0x3c*GRID_H;_0x3257ca[_0x4361f1(0x10c)][_0x4361f1(0x1f4)]=_0x2f3cc0+'px',_0x3257ca[_0x4361f1(0x10c)][_0x4361f1(0x10d)]=Math[_0x4361f1(0x1b3)](_0x5045b1,0x14)+'px',_0x3257ca[_0x4361f1(0x10c)][_0x4361f1(0x18d)]='calc('+_0x580af4+_0x4361f1(0x1aa),_0x3257ca[_0x4361f1(0x10c)][_0x4361f1(0x1af)]='calc('+_0x4fc1a3+_0x4361f1(0x10e),_0x3257ca[_0x4361f1(0x10c)][_0x4361f1(0x201)]=0xa+_0x4c3365['colIndex'];if(_0x580af4<0x55)_0x3257ca[_0x4361f1(0x1e6)][_0x4361f1(0x112)]('mini');let _0x4020ad='';if(_0x1fe4c8[_0x4361f1(0x1c2)])_0x4020ad+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3adf66)_0x4020ad+=_0x4361f1(0x1c7);_0x3257ca[_0x4361f1(0x17d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1fe4c8['start']+_0x4361f1(0x19c)+_0x1fe4c8['end']+_0x4361f1(0x1c9)+_0x4020ad+_0x4361f1(0x182),_0x3257ca['onclick']=_0x59d0bb=>{const _0x5a76ab=_0x4361f1;_0x59d0bb[_0x5a76ab(0x1d3)](),openDetails(_0x1fe4c8);},_0x3908b2['appendChild'](_0x3257ca);});}function openAnalytics(){const _0x4162aa=a3_0x415dc0,_0x132b24=document[_0x4162aa(0x1b1)](_0x4162aa(0x14e));setAnalyticsPeriod(_0x4162aa(0x1b7),_0x132b24),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x56ce4a,_0x2ddda1){const _0x3bfbc4=a3_0x415dc0;currentAnPeriod=_0x56ce4a,document['querySelectorAll'](_0x3bfbc4(0x14e))[_0x3bfbc4(0x115)](_0x16b61c=>_0x16b61c[_0x3bfbc4(0x1e6)][_0x3bfbc4(0x1e7)](_0x3bfbc4(0x1bc)));if(_0x2ddda1)_0x2ddda1[_0x3bfbc4(0x1e6)][_0x3bfbc4(0x112)]('active');const _0x3ca929=document['getElementById'](_0x3bfbc4(0x1e2));_0x3ca929[_0x3bfbc4(0x10c)][_0x3bfbc4(0x16d)]=_0x56ce4a===_0x3bfbc4(0x14b)?_0x3bfbc4(0x11c):_0x3bfbc4(0x183);const _0x16fccb=new Date();let _0x4fdf35=new Date(),_0x561698=new Date();if(_0x56ce4a===_0x3bfbc4(0x1b7))_0x4fdf35=getStartOfWeek(_0x16fccb),_0x561698=new Date(_0x4fdf35),_0x561698[_0x3bfbc4(0x1fe)](_0x561698[_0x3bfbc4(0x195)]()+0x6);else{if(_0x56ce4a===_0x3bfbc4(0x169))_0x4fdf35=new Date(_0x16fccb[_0x3bfbc4(0x118)](),_0x16fccb[_0x3bfbc4(0x141)](),0x1),_0x561698=new Date(_0x16fccb[_0x3bfbc4(0x118)](),_0x16fccb[_0x3bfbc4(0x141)]()+0x1,0x0);else{!document[_0x3bfbc4(0x1fc)]('anStart')[_0x3bfbc4(0x1f6)]&&(document['getElementById']('anStart')[_0x3bfbc4(0x1f6)]=getLocalDateStr(_0x16fccb),document[_0x3bfbc4(0x1fc)](_0x3bfbc4(0x1b8))[_0x3bfbc4(0x1f6)]=getLocalDateStr(_0x16fccb));refreshAnalytics();return;}}document[_0x3bfbc4(0x1fc)](_0x3bfbc4(0x1b6))[_0x3bfbc4(0x1f6)]=getLocalDateStr(_0x4fdf35),document[_0x3bfbc4(0x1fc)](_0x3bfbc4(0x1b8))[_0x3bfbc4(0x1f6)]=getLocalDateStr(_0x561698),refreshAnalytics();}function refreshAnalytics(){const _0xc4789=a3_0x415dc0,_0xa2299b=document[_0xc4789(0x1fc)](_0xc4789(0x1b6))['value'],_0x581fc3=document[_0xc4789(0x1fc)]('anEnd')[_0xc4789(0x1f6)];if(!_0xa2299b||!_0x581fc3)return;const _0x4e0445=sessions[_0xc4789(0x1bd)](_0x2bd938=>_0x2bd938['dateStr']>=_0xa2299b&&_0x2bd938['dateStr']<=_0x581fc3&&_0x2bd938[_0xc4789(0x122)]!==_0xc4789(0x185)),_0x40e269=_0x4e0445[_0xc4789(0x14c)],_0x1bbfa9=_0x4e0445[_0xc4789(0x1bd)](_0x27fb33=>_0x27fb33['status']===_0xc4789(0x1be))[_0xc4789(0x14c)],_0x515108=_0x40e269>0x0?Math[_0xc4789(0x1d9)](_0x1bbfa9/_0x40e269*0x64):0x0;document[_0xc4789(0x1fc)](_0xc4789(0x156))[_0xc4789(0x1c4)]=_0x515108+'%',document[_0xc4789(0x1fc)](_0xc4789(0x204))[_0xc4789(0x1c4)]=_0x1bbfa9+_0xc4789(0x189)+_0x40e269+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2d3ac4=document[_0xc4789(0x1fc)](_0xc4789(0x1ed)),_0x9fd8d9=0x2*Math['PI']*0x23,_0x5e0052=_0x9fd8d9-_0x515108/0x64*_0x9fd8d9;_0x2d3ac4[_0xc4789(0x10c)][_0xc4789(0x179)]=_0x5e0052;const _0x1d239c={};_0x4e0445[_0xc4789(0x115)](_0xca121b=>{const _0x108b3c=_0xc4789,_0x56d402=_0xca121b[_0x108b3c(0x1f7)]||_0x108b3c(0x135);if(!_0x1d239c[_0x56d402]){const _0x4a3d8a='#'+_0x56d402[_0x108b3c(0x205)]()[_0x108b3c(0x18a)](0x0,0x6);_0x1d239c[_0x56d402]={'total':0x0,'done':0x0,'color':_0x4a3d8a};}_0x1d239c[_0x56d402][_0x108b3c(0x121)]++;if(_0xca121b[_0x108b3c(0x122)]==='completed')_0x1d239c[_0x56d402]['done']++;});const _0x95460b=document[_0xc4789(0x1fc)](_0xc4789(0x1ab));_0x95460b[_0xc4789(0x17d)]='';const _0x374a15=Object[_0xc4789(0x192)](_0x1d239c)[_0xc4789(0x1ee)]((_0x3f0cf1,_0x35106e)=>_0x35106e[0x1][_0xc4789(0x121)]-_0x3f0cf1[0x1]['total']);if(_0x374a15['length']===0x0){_0x95460b[_0xc4789(0x17d)]=_0xc4789(0x15d);return;}_0x374a15['forEach'](([_0x3c3c51,_0x464ac0])=>{const _0x15bc61=_0xc4789,_0x33fe84=Math[_0x15bc61(0x1d9)](_0x464ac0[_0x15bc61(0x1ad)]/_0x464ac0[_0x15bc61(0x121)]*0x64),_0x203d12=document[_0x15bc61(0x1cf)](_0x15bc61(0x12d));_0x203d12[_0x15bc61(0x11b)]=_0x15bc61(0x108),_0x203d12[_0x15bc61(0x10c)]['borderLeftColor']=_0x464ac0['color'],_0x203d12[_0x15bc61(0x17d)]=_0x15bc61(0x1c5)+_0x3c3c51[_0x15bc61(0x18a)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x464ac0['done']+_0x15bc61(0x163)+_0x464ac0['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x33fe84+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x95460b['appendChild'](_0x203d12);});}function openDetails(_0xbafa9c){const _0x312a49=a3_0x415dc0;currentSession=_0xbafa9c;const _0x4663ae=new Date(_0xbafa9c[_0x312a49(0x1fa)]),_0x54beeb=_0x4663ae[_0x312a49(0x1f9)](_0x312a49(0x177),{'weekday':'long','day':_0x312a49(0x207),'month':_0x312a49(0x1e1)});document[_0x312a49(0x1fc)](_0x312a49(0x193))[_0x312a49(0x1c4)]=_0x54beeb[_0x312a49(0x1fd)](0x0)['toUpperCase']()+_0x54beeb[_0x312a49(0x10b)](0x1),document[_0x312a49(0x1fc)]('detTime')['textContent']=_0xbafa9c['start']+_0x312a49(0x19c)+_0xbafa9c[_0x312a49(0x15b)],document[_0x312a49(0x1fc)]('detNote')['textContent']=_0xbafa9c[_0x312a49(0x147)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x137b41=document['getElementById']('detStatus'),_0x516bca=document[_0x312a49(0x1fc)]('cancelContainer'),_0x332540=_0x516bca[_0x312a49(0x1b1)](_0x312a49(0x137)),_0x5b415a=_0x516bca['querySelector'](_0x312a49(0x1df)),_0x577aed=document[_0x312a49(0x1fc)]('cancelHint');if(_0xbafa9c[_0x312a49(0x122)]==='completed')_0x137b41[_0x312a49(0x1c4)]=_0x312a49(0x149),_0x137b41[_0x312a49(0x10c)]['color']=_0x312a49(0x126),_0x516bca[_0x312a49(0x10c)][_0x312a49(0x16d)]=_0x312a49(0x183);else{_0x137b41[_0x312a49(0x1c4)]=_0x312a49(0x1f8),_0x137b41[_0x312a49(0x10c)][_0x312a49(0x19b)]=_0x312a49(0x1d2),_0x516bca[_0x312a49(0x10c)][_0x312a49(0x16d)]=_0x312a49(0x12e);const _0x17b1b2=new Date(_0xbafa9c[_0x312a49(0x1fa)]+'T'+_0xbafa9c[_0x312a49(0x206)]),_0x3741f8=new Date(),_0x5e519c=(_0x17b1b2-_0x3741f8)/(0x3e8*0x3c*0x3c),_0x55f8bb=coachProfiles[_0xbafa9c['coachId']]&&coachProfiles[_0xbafa9c['coachId']][_0x312a49(0x15c)]?parseInt(coachProfiles[_0xbafa9c[_0x312a49(0x1f7)]][_0x312a49(0x15c)]):0x18;if(_0x55f8bb===0x0||_0x5e519c>=_0x55f8bb)_0x332540[_0x312a49(0x10c)][_0x312a49(0x16d)]=_0x312a49(0x12e),_0x5b415a[_0x312a49(0x10c)][_0x312a49(0x16d)]='block',_0x577aed[_0x312a49(0x10c)][_0x312a49(0x16d)]='none';else{_0x332540[_0x312a49(0x10c)][_0x312a49(0x16d)]=_0x312a49(0x183),_0x5b415a['style']['display']='none',_0x577aed[_0x312a49(0x10c)][_0x312a49(0x16d)]=_0x312a49(0x12e);let _0x519774=_0x55f8bb===0x0?_0x312a49(0x1d6):_0x312a49(0x12c)+_0x55f8bb+_0x312a49(0x125);_0x577aed['textContent']=_0x312a49(0x1f1)+_0x519774+_0x312a49(0x154);}}document[_0x312a49(0x1fc)](_0x312a49(0x160))[_0x312a49(0x1e6)][_0x312a49(0x112)](_0x312a49(0x1bc)),document[_0x312a49(0x1fc)](_0x312a49(0x176))[_0x312a49(0x1e6)][_0x312a49(0x112)]('open');}function closeAllSheets(){const _0x112bcf=a3_0x415dc0;document[_0x112bcf(0x1fc)](_0x112bcf(0x160))['classList'][_0x112bcf(0x1e7)](_0x112bcf(0x1bc)),document[_0x112bcf(0x116)](_0x112bcf(0x12a))[_0x112bcf(0x115)](_0x102e10=>_0x102e10['classList'][_0x112bcf(0x1e7)]('open'));}function openSheet(_0x443959){const _0x46c035=a3_0x415dc0;document[_0x46c035(0x1fc)](_0x46c035(0x160))[_0x46c035(0x1e6)][_0x46c035(0x112)](_0x46c035(0x1bc)),document[_0x46c035(0x1fc)](_0x443959)[_0x46c035(0x1e6)]['add'](_0x46c035(0x151));}function getLocalDateStr(_0x14824a){const _0x2716b3=a3_0x415dc0,_0x52c53c=_0x14824a[_0x2716b3(0x118)](),_0x1a2b97=String(_0x14824a['getMonth']()+0x1)[_0x2716b3(0x145)](0x2,'0'),_0x2b4720=String(_0x14824a[_0x2716b3(0x195)]())[_0x2716b3(0x145)](0x2,'0');return _0x52c53c+'-'+_0x1a2b97+'-'+_0x2b4720;}function getStartOfWeek(_0x5d9ad8){const _0x4338e9=a3_0x415dc0,_0x2f5e12=new Date(_0x5d9ad8),_0x5d2f68=_0x2f5e12[_0x4338e9(0x1d5)](),_0x5bf8be=_0x2f5e12[_0x4338e9(0x195)]()-_0x5d2f68+(_0x5d2f68===0x0?-0x6:0x1);return _0x2f5e12[_0x4338e9(0x1fe)](_0x5bf8be),_0x2f5e12[_0x4338e9(0x16a)](0x0,0x0,0x0,0x0),_0x2f5e12;}function scrollToToday(){const _0x2fdad5=getLocalDateStr(new Date());setTimeout(()=>{const _0x4d1fe0=a3_0x2e3c,_0x2751c7=document[_0x4d1fe0(0x1b1)](_0x4d1fe0(0x1c8)+_0x2fdad5+'\x22]');if(_0x2751c7){const _0x2d3216=document['getElementById'](_0x4d1fe0(0x1a9)),_0x2f8496=_0x2751c7[_0x4d1fe0(0x1ff)]-_0x2d3216[_0x4d1fe0(0x1dc)]/0x2+_0x2751c7[_0x4d1fe0(0x138)]/0x2;_0x2d3216[_0x4d1fe0(0x1a8)]({'left':_0x2f8496,'behavior':_0x4d1fe0(0x11e)}),_0x2d3216[_0x4d1fe0(0x131)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xb33e0a=a3_0x415dc0,_0x815dd=new Date(),_0x2b1305=document['getElementById'](_0xb33e0a(0x167)),_0x1dfe47=document[_0xb33e0a(0x1fc)](_0xb33e0a(0x1c3)),_0x2f9461=(_0x815dd[_0xb33e0a(0x1b5)]()*0x3c+_0x815dd[_0xb33e0a(0x11d)]())/0x3c*GRID_H;_0x2b1305[_0xb33e0a(0x10c)][_0xb33e0a(0x1f4)]=_0x2f9461+'px',_0x2b1305[_0xb33e0a(0x10c)][_0xb33e0a(0x16d)]='block',_0x1dfe47['style']['top']=_0x2f9461+'px',_0x1dfe47[_0xb33e0a(0x10c)][_0xb33e0a(0x16d)]=_0xb33e0a(0x12e),_0x1dfe47[_0xb33e0a(0x1c4)]=String(_0x815dd[_0xb33e0a(0x1b5)]())[_0xb33e0a(0x145)](0x2,'0')+':'+String(_0x815dd[_0xb33e0a(0x11d)]())[_0xb33e0a(0x145)](0x2,'0');}function onScroll(){const _0x41c374=a3_0x415dc0,_0x129265=document['getElementById'](_0x41c374(0x1a9)),_0x455c13=document['querySelectorAll']('.day-col-header');for(let _0x2f4ef7 of _0x455c13)if(_0x2f4ef7[_0x41c374(0x1ff)]>=_0x129265[_0x41c374(0x14a)]){const _0x26bcd5=new Date(_0x2f4ef7['getAttribute']('data-date'));document[_0x41c374(0x1fc)](_0x41c374(0x142))[_0x41c374(0x1c4)]=_0x26bcd5[_0x41c374(0x164)]('ru',{'month':'long'})[_0x41c374(0x1de)]()+'\x20'+_0x26bcd5[_0x41c374(0x118)]();break;}}function showToast(_0x29c461){const _0x4eafe1=a3_0x415dc0,_0xc028b2=document[_0x4eafe1(0x1fc)](_0x4eafe1(0x190));_0xc028b2[_0x4eafe1(0x1c4)]=_0x29c461,_0xc028b2[_0x4eafe1(0x1e6)][_0x4eafe1(0x112)]('show'),setTimeout(()=>_0xc028b2[_0x4eafe1(0x1e6)][_0x4eafe1(0x1e7)](_0x4eafe1(0x165)),0x7d0);}function handleInfiniteScroll(){const _0x46ebdb=a3_0x415dc0,_0x3e61c1=document[_0x46ebdb(0x1fc)](_0x46ebdb(0x1a9)),_0x5e2c1a=_0x3e61c1[_0x46ebdb(0x14a)],_0x45d152=_0x3e61c1[_0x46ebdb(0x171)],_0x1ee3c7=_0x3e61c1['clientWidth'];if(_0x45d152-(_0x5e2c1a+_0x1ee3c7)<0x12c){const _0x1306f1=endOffset;endOffset+=0xe,renderDayRange(_0x1306f1+0x1,endOffset),reRenderBlocks();}if(_0x5e2c1a<0x12c){const _0x1340e8=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1340e8-0x1),_0x3e61c1[_0x46ebdb(0x14a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x366122,_0x2cbb95){const _0x30d993=a3_0x415dc0,_0x369060=document[_0x30d993(0x1fc)](_0x30d993(0x19a)),_0x54907d=document['getElementById'](_0x30d993(0x1e3)),_0x1963c1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x58a735=new Date();_0x58a735[_0x30d993(0x16a)](0x0,0x0,0x0,0x0);const _0x33765e=getLocalDateStr(new Date()),_0x1da2e3=document[_0x30d993(0x117)](),_0x50ce25=document[_0x30d993(0x117)]();for(let _0x6d0fbb=_0x366122;_0x6d0fbb<=_0x2cbb95;_0x6d0fbb++){const _0x236dae=new Date(_0x58a735);_0x236dae[_0x30d993(0x1fe)](_0x236dae[_0x30d993(0x195)]()+_0x6d0fbb);const _0x302a1f=getLocalDateStr(_0x236dae);let _0x296a0e=_0x236dae[_0x30d993(0x1d5)]()-0x1;if(_0x296a0e===-0x1)_0x296a0e=0x6;const _0x5d59c0=_0x302a1f===_0x33765e,_0x562e80=document['createElement'](_0x30d993(0x12d));_0x562e80[_0x30d993(0x11b)]=_0x30d993(0x19f)+(_0x5d59c0?_0x30d993(0x1f2):''),_0x562e80['setAttribute'](_0x30d993(0x1b4),_0x302a1f),_0x562e80[_0x30d993(0x17d)]=_0x30d993(0x1f3)+_0x1963c1[_0x296a0e]+_0x30d993(0x16c)+_0x236dae[_0x30d993(0x195)]()+'</div>',_0x1da2e3[_0x30d993(0x13c)](_0x562e80);const _0x5b55f8=document[_0x30d993(0x1cf)](_0x30d993(0x12d));_0x5b55f8[_0x30d993(0x11b)]='day-column\x20'+(_0x5d59c0?_0x30d993(0x1f2):''),_0x5b55f8['setAttribute'](_0x30d993(0x1b4),_0x302a1f),_0x5b55f8['setAttribute'](_0x30d993(0x17e),_0x296a0e),_0x50ce25[_0x30d993(0x13c)](_0x5b55f8);}_0x369060['insertBefore'](_0x1da2e3,_0x369060[_0x30d993(0x133)]),_0x54907d[_0x30d993(0x119)](_0x50ce25,_0x54907d[_0x30d993(0x1b1)](_0x30d993(0x16e)));}function hexToRgba(_0x3a162a,_0x108738){const _0x16f6c9=a3_0x415dc0;let _0x2ae553;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x16f6c9(0x153)](_0x3a162a))return _0x2ae553=_0x3a162a['substring'](0x1)[_0x16f6c9(0x178)](''),_0x2ae553[_0x16f6c9(0x14c)]==0x3&&(_0x2ae553=[_0x2ae553[0x0],_0x2ae553[0x0],_0x2ae553[0x1],_0x2ae553[0x1],_0x2ae553[0x2],_0x2ae553[0x2]]),_0x2ae553='0x'+_0x2ae553['join'](''),_0x16f6c9(0x10f)+[_0x2ae553>>0x10&0xff,_0x2ae553>>0x8&0xff,_0x2ae553&0xff]['join'](',')+','+_0x108738+')';return'rgba(10,\x20132,\x20255,\x20'+_0x108738+')';}let confirmResolver=null;function showCustomConfirm(_0x217379,_0x475f26,_0xfce5f=!![]){const _0x57ea99=a3_0x415dc0;document[_0x57ea99(0x1fc)](_0x57ea99(0x168))[_0x57ea99(0x1c4)]=_0x217379,document['getElementById'](_0x57ea99(0x1b0))[_0x57ea99(0x1c4)]=_0x475f26;const _0x68066a=document[_0x57ea99(0x1fc)]('ccYesBtn');return _0xfce5f?(_0x68066a[_0x57ea99(0x10c)][_0x57ea99(0x19b)]='#ff453a',_0x68066a['style']['fontWeight']='600'):(_0x68066a[_0x57ea99(0x10c)][_0x57ea99(0x19b)]='#0a84ff',_0x68066a['style']['fontWeight']=_0x57ea99(0x1a7)),new Promise(_0x530507=>{const _0x4f13f7=_0x57ea99;confirmResolver=_0x530507,document[_0x4f13f7(0x1fc)](_0x4f13f7(0x170))[_0x4f13f7(0x1e6)][_0x4f13f7(0x112)](_0x4f13f7(0x1d7));});}function resolveCustomConfirm(_0x186b6c){const _0x22c6a0=a3_0x415dc0;document['getElementById'](_0x22c6a0(0x170))[_0x22c6a0(0x1e6)][_0x22c6a0(0x1e7)](_0x22c6a0(0x1d7));if(confirmResolver)confirmResolver(_0x186b6c);}async function tryCancelCurrentSession(){const _0x32c29f=a3_0x415dc0;if(!currentSession)return;const _0x58431e=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x32c29f(0x1a1),!![]);if(!_0x58431e)return;const _0xc63660=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x4f238a=>_0x4f238a['id']!==_0xc63660['id']),reRenderBlocks(),showToast(_0x32c29f(0x12f)),lastUserActionTime=Date[_0x32c29f(0x111)]();try{const _0x128ec7=window['Telegram']?.[_0x32c29f(0x143)],_0x1da0a2=await fetch(API_URL,{'method':_0x32c29f(0x19d),'body':JSON[_0x32c29f(0x120)]({'action':_0x32c29f(0x1cc),'init_data':_0x128ec7?.[_0x32c29f(0x1f0)]||'','coachId':_0xc63660[_0x32c29f(0x1f7)],'dateStr':_0xc63660['dateStr'],'sessionId':_0xc63660['id']})});if(_0x1da0a2['ok'])DataManager[_0x32c29f(0x1da)]();}catch(_0x2a4b82){showToast(_0x32c29f(0x1db));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x34fa63=a3_0x415dc0;if(!currentSession)return;document['getElementById'](_0x34fa63(0x176))['classList'][_0x34fa63(0x1e7)]('open'),document[_0x34fa63(0x1fc)](_0x34fa63(0x203))[_0x34fa63(0x1e6)]['add']('open');const _0x47c8ef=document[_0x34fa63(0x1fc)](_0x34fa63(0x123)),_0x3331d4=document[_0x34fa63(0x1fc)](_0x34fa63(0x196));_0x47c8ef['innerHTML']='',_0x3331d4[_0x34fa63(0x17d)]=_0x34fa63(0x16b);const [_0x162100,_0x3fc424]=currentSession['start'][_0x34fa63(0x178)](':')[_0x34fa63(0x1cb)](Number),[_0x23c204,_0x239dfb]=currentSession[_0x34fa63(0x15b)][_0x34fa63(0x178)](':')['map'](Number),_0x236e42=_0x23c204*0x3c+_0x239dfb-(_0x162100*0x3c+_0x3fc424);try{const _0x35477b=window[_0x34fa63(0x200)]?.[_0x34fa63(0x143)],_0x47be1a=await fetch(API_URL,{'method':_0x34fa63(0x19d),'body':JSON[_0x34fa63(0x120)]({'action':_0x34fa63(0x16f),'coachId':currentSession[_0x34fa63(0x1f7)],'duration':_0x236e42,'init_data':_0x35477b?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x53b38c=await _0x47be1a[_0x34fa63(0x1ef)]();_0x53b38c['ok']&&_0x53b38c[_0x34fa63(0x199)]?(availableSlotsCache=_0x53b38c['data'],renderRescheduleDates()):_0x3331d4[_0x34fa63(0x17d)]=_0x34fa63(0x198);}catch(_0x28ffe7){_0x3331d4[_0x34fa63(0x17d)]=_0x34fa63(0x161);}}function renderRescheduleDates(){const _0x933750=a3_0x415dc0,_0x57d681=document[_0x933750(0x1fc)](_0x933750(0x123));_0x57d681[_0x933750(0x17d)]='';const _0x5e87d1=Object['keys'](availableSlotsCache)[_0x933750(0x1ee)](),_0x11b596=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5e87d1['length']===0x0){document[_0x933750(0x1fc)](_0x933750(0x196))['innerHTML']=_0x933750(0x1a6);return;}_0x5e87d1[_0x933750(0x115)]((_0x495087,_0x264780)=>{const _0x37db98=_0x933750,_0x3a0064=new Date(_0x495087),_0xb9ee1d=_0x11b596[_0x3a0064['getDay']()],_0x5a2d2e=_0x3a0064[_0x37db98(0x195)](),_0x2a3a55=document['createElement']('div');_0x2a3a55['className']=_0x37db98(0x17c);if(_0x264780===0x0)_0x2a3a55[_0x37db98(0x1e6)][_0x37db98(0x112)](_0x37db98(0x1bc));_0x2a3a55[_0x37db98(0x17d)]=_0x37db98(0x110)+_0xb9ee1d+_0x37db98(0x188)+_0x5a2d2e+_0x37db98(0x13f),_0x2a3a55[_0x37db98(0x129)]=()=>selectRsDate(_0x495087,_0x2a3a55),_0x57d681[_0x37db98(0x13c)](_0x2a3a55);}),selectRsDate(_0x5e87d1[0x0],_0x57d681[_0x933750(0x133)]);}function a3_0x2e3c(_0x4bc756,_0x76918c){_0x4bc756=_0x4bc756-0x108;const _0x302b56=a3_0xa804();let _0x221a15=_0x302b56[_0x4bc756];return _0x221a15;}function selectRsDate(_0x2e7130,_0x9f6d78){const _0x542f67=a3_0x415dc0;selectedRsDate=_0x2e7130,document[_0x542f67(0x116)]('.rs-date-chip')[_0x542f67(0x115)](_0x19d1ed=>_0x19d1ed[_0x542f67(0x1e6)][_0x542f67(0x1e7)]('active'));if(_0x9f6d78)_0x9f6d78[_0x542f67(0x1e6)][_0x542f67(0x112)](_0x542f67(0x1bc));const _0x4debcf=document['getElementById'](_0x542f67(0x196));_0x4debcf[_0x542f67(0x17d)]='';const _0xf0cf46=availableSlotsCache[_0x2e7130]||[];if(_0xf0cf46[_0x542f67(0x14c)]===0x0){_0x4debcf['innerHTML']=_0x542f67(0x198);return;}_0xf0cf46[_0x542f67(0x115)](_0x21e382=>{const _0x510d7a=_0x542f67,_0x2cf42c=document[_0x510d7a(0x1cf)](_0x510d7a(0x148));_0x2cf42c[_0x510d7a(0x11b)]=_0x510d7a(0x146),_0x2cf42c['textContent']=_0x21e382,_0x2cf42c[_0x510d7a(0x129)]=()=>confirmReschedule(_0x21e382),_0x4debcf[_0x510d7a(0x13c)](_0x2cf42c);});}async function confirmReschedule(_0x349fca){const _0x22939b=a3_0x415dc0,_0x2f0469=new Date(selectedRsDate),_0xe215a1=_0x2f0469[_0x22939b(0x1f9)](_0x22939b(0x177),{'day':_0x22939b(0x207),'month':'long'}),_0xffbaf8=await showCustomConfirm(_0x22939b(0x1d8),_0x22939b(0x175)+_0xe215a1+_0x22939b(0x1e5)+_0x349fca+'?',![]);if(!_0xffbaf8)return;closeAllSheets(),showToast(_0x22939b(0x157)),lastUserActionTime=Date[_0x22939b(0x111)]();const _0x39a407=currentSession[_0x22939b(0x1fa)],_0x1f1042=currentSession['id'],[_0x111539,_0x5523c3]=currentSession[_0x22939b(0x206)][_0x22939b(0x178)](':')[_0x22939b(0x1cb)](Number),[_0x36d818,_0x346ab2]=currentSession['end'][_0x22939b(0x178)](':')['map'](Number),_0x1e8439=_0x36d818*0x3c+_0x346ab2-(_0x111539*0x3c+_0x5523c3),[_0xa09cd,_0xd8744b]=_0x349fca[_0x22939b(0x178)](':')[_0x22939b(0x1cb)](Number),_0x1c9c1d=_0xa09cd*0x3c+_0xd8744b+_0x1e8439,_0x245bc0=Math[_0x22939b(0x130)](_0x1c9c1d/0x3c),_0x43c5b5=_0x1c9c1d%0x3c,_0x112e99=String(_0x245bc0)[_0x22939b(0x145)](0x2,'0')+':'+String(_0x43c5b5)[_0x22939b(0x145)](0x2,'0'),_0xef88ea=sessions[_0x22939b(0x1d4)](_0x44b110=>_0x44b110['id']===_0x1f1042);_0xef88ea!==-0x1&&(sessions[_0xef88ea][_0x22939b(0x1fa)]=selectedRsDate,sessions[_0xef88ea]['start']=_0x349fca,sessions[_0xef88ea][_0x22939b(0x15b)]=_0x112e99,reRenderBlocks());try{const _0x3d78e7=window[_0x22939b(0x200)]?.['WebApp'],_0x325725=await fetch(API_URL,{'method':_0x22939b(0x19d),'body':JSON[_0x22939b(0x120)]({'action':_0x22939b(0x180),'init_data':_0x3d78e7?.[_0x22939b(0x1f0)]||'','oldSessionId':_0x1f1042,'oldDate':_0x39a407,'newDate':selectedRsDate,'newTime':_0x349fca,'coachId':currentSession['coachId']})}),_0x294f27=await _0x325725['json']();!_0x294f27['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x22939b(0x10a)]()):(showToast(_0x22939b(0x113)),DataManager[_0x22939b(0x1da)]());}catch(_0x11edab){showToast(_0x22939b(0x1db));}}document['addEventListener'](a3_0x415dc0(0x18e),init);