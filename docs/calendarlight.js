const a3_0x10c166=a3_0x50bc;(function(_0x15f674,_0x41ad0a){const _0x4e8a47=a3_0x50bc,_0x5aeef2=_0x15f674();while(!![]){try{const _0x4f2e54=-parseInt(_0x4e8a47(0x160))/0x1*(parseInt(_0x4e8a47(0x202))/0x2)+parseInt(_0x4e8a47(0x1da))/0x3*(-parseInt(_0x4e8a47(0x22c))/0x4)+-parseInt(_0x4e8a47(0x1d5))/0x5*(-parseInt(_0x4e8a47(0x1e4))/0x6)+parseInt(_0x4e8a47(0x190))/0x7+parseInt(_0x4e8a47(0x1e3))/0x8+-parseInt(_0x4e8a47(0x1e8))/0x9+parseInt(_0x4e8a47(0x24a))/0xa;if(_0x4f2e54===_0x41ad0a)break;else _0x5aeef2['push'](_0x5aeef2['shift']());}catch(_0x37d1aa){_0x5aeef2['push'](_0x5aeef2['shift']());}}}(a3_0x4068,0x36011));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x10c166(0x1ef),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x10c166(0x23f),KEY_CLIENTS='uc_client_list';function a3_0x50bc(_0x16c5d6,_0x332ac1){_0x16c5d6=_0x16c5d6-0x15f;const _0x4901fc=a3_0x4068();let _0x2768fc=_0x4901fc[_0x16c5d6];return _0x2768fc;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x10c166(0x1ba),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x68ffc0=a3_0x10c166,_0x3fc0d4=(function(){let _0x1c8862=!![];return function(_0xc61fdc,_0xc44a52){const _0x52e2e5=_0x1c8862?function(){const _0x3bb494=a3_0x50bc;if(_0xc44a52){const _0x1024cc=_0xc44a52[_0x3bb494(0x1ca)](_0xc61fdc,arguments);return _0xc44a52=null,_0x1024cc;}}:function(){};return _0x1c8862=![],_0x52e2e5;};}()),_0x4d068a=_0x3fc0d4(this,function(){const _0x250c20=a3_0x50bc;return _0x4d068a['toString']()[_0x250c20(0x208)](_0x250c20(0x1ae))['toString']()[_0x250c20(0x1cb)](_0x4d068a)[_0x250c20(0x208)](_0x250c20(0x1ae));});_0x4d068a();try{const _0x2f11d2=window['Telegram']?.[_0x68ffc0(0x1d9)];if(!_0x2f11d2)return;_0x2f11d2[_0x68ffc0(0x16f)](),_0x2f11d2[_0x68ffc0(0x1cf)]();try{_0x2f11d2[_0x68ffc0(0x164)](_0x68ffc0(0x1bb)),_0x2f11d2[_0x68ffc0(0x1c5)]&&_0x2f11d2[_0x68ffc0(0x1c5)](_0x68ffc0(0x1bb));}catch(_0x5ef312){console['log'](_0x68ffc0(0x201),_0x5ef312);}try{_0x2f11d2[_0x68ffc0(0x233)]&&(_0x2f11d2[_0x68ffc0(0x233)][_0x68ffc0(0x187)](),_0x2f11d2[_0x68ffc0(0x233)]['offClick'](),_0x2f11d2[_0x68ffc0(0x233)]['onClick'](function(){const _0x4a2ae7=_0x68ffc0;window[_0x4a2ae7(0x1d3)][_0x4a2ae7(0x1f7)]='router.html';}));}catch(_0x2a0810){console[_0x68ffc0(0x249)](_0x68ffc0(0x1c6),_0x2a0810);}try{if(_0x2f11d2[_0x68ffc0(0x1ec)])_0x2f11d2[_0x68ffc0(0x1ec)]();}catch(_0x17313e){}}catch(_0x445d16){console['error'](_0x68ffc0(0x239),_0x445d16);}}());function isAdmin(){const _0x2b1eed=a3_0x10c166;try{const _0x43899c=Number(window[_0x2b1eed(0x219)]?.[_0x2b1eed(0x1d9)]?.['initDataUnsafe']?.[_0x2b1eed(0x16d)]?.['id']);return _0x43899c===0xbaf7174;}catch(_0x52c9aa){return![];}}const DataManager={'saveLocally'(){const _0x172876=a3_0x10c166;try{localStorage[_0x172876(0x17f)](KEY_SESSIONS,JSON[_0x172876(0x244)](sessions)),localStorage[_0x172876(0x17f)](KEY_CLIENTS,JSON[_0x172876(0x244)](clients)),localStorage[_0x172876(0x17f)](KEY_SETTINGS,JSON[_0x172876(0x244)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x36edad){}},'loadLocal'(){const _0x222b78=a3_0x10c166;try{const _0x502c66=localStorage[_0x222b78(0x1f0)](KEY_SESSIONS);if(_0x502c66)sessions=JSON[_0x222b78(0x176)](_0x502c66);const _0xf3c0c4=localStorage['getItem'](KEY_CLIENTS);if(_0xf3c0c4)clients=JSON[_0x222b78(0x176)](_0xf3c0c4);const _0x31e3b9=localStorage[_0x222b78(0x1f0)](KEY_SETTINGS);if(_0x31e3b9){const _0x4647ee=JSON[_0x222b78(0x176)](_0x31e3b9);if(_0x4647ee[_0x222b78(0x218)])availabilityPattern=_0x4647ee[_0x222b78(0x218)];if(_0x4647ee['ranges'])specialRanges=_0x4647ee[_0x222b78(0x203)];if(_0x4647ee[_0x222b78(0x22d)])dateExceptions=_0x4647ee['exceptions'];}}catch(_0x4b5959){}},async 'syncLoad'(){const _0xc51074=a3_0x10c166,_0x2f424b=new Date(),_0x4f1463=_0x2f424b[_0xc51074(0x23b)]()+'-'+String(_0x2f424b[_0xc51074(0x162)]()+0x1)['padStart'](0x2,'0'),_0x3b4706=new Date(_0x2f424b);_0x3b4706[_0xc51074(0x210)](_0x2f424b[_0xc51074(0x162)]()+0x1);const _0x27c3f2=_0x3b4706[_0xc51074(0x23b)]()+'-'+String(_0x3b4706[_0xc51074(0x162)]()+0x1)[_0xc51074(0x21d)](0x2,'0'),_0x140b93=Date[_0xc51074(0x224)]();try{const _0x3dbe12=window[_0xc51074(0x219)]?.[_0xc51074(0x1d9)],_0x5de448=_0x3dbe12?.['initData']||'',[_0x576ab3,_0x1ed570]=await Promise['all']([fetch(API_URL,{'method':_0xc51074(0x163),'body':JSON[_0xc51074(0x244)]({'action':_0xc51074(0x1dd),'init_data':_0x5de448,'month_str':_0x4f1463})})[_0xc51074(0x22b)](_0x5c0f08=>_0x5c0f08['json']()),fetch(API_URL,{'method':_0xc51074(0x163),'body':JSON['stringify']({'action':_0xc51074(0x1dd),'init_data':_0x5de448,'month_str':_0x27c3f2})})[_0xc51074(0x22b)](_0x273c1f=>_0x273c1f[_0xc51074(0x1f5)]())]);if(lastUserActionTime>_0x140b93){console[_0xc51074(0x249)](_0xc51074(0x173));return;}if(_0x576ab3['ok'])this[_0xc51074(0x1df)](_0x576ab3['data'],_0x4f1463);if(_0x1ed570['ok'])this[_0xc51074(0x1df)](_0x1ed570[_0xc51074(0x19c)],_0x27c3f2);this[_0xc51074(0x1f6)]();}catch(_0xc8d72c){}},'applyData'(_0xd418fa,_0x36b6e9){const _0x3dd842=a3_0x10c166;if(!_0xd418fa)return;if(_0xd418fa[_0x3dd842(0x1fe)]){if(_0xd418fa[_0x3dd842(0x1fe)]['pattern'])availabilityPattern=_0xd418fa[_0x3dd842(0x1fe)][_0x3dd842(0x218)];if(_0xd418fa['settings'][_0x3dd842(0x203)])specialRanges=_0xd418fa[_0x3dd842(0x1fe)][_0x3dd842(0x203)];if(_0xd418fa['settings']['exceptions'])dateExceptions=_0xd418fa[_0x3dd842(0x1fe)][_0x3dd842(0x22d)];}if(_0xd418fa[_0x3dd842(0x1be)]&&Array[_0x3dd842(0x194)](_0xd418fa[_0x3dd842(0x1be)]))clients=_0xd418fa[_0x3dd842(0x1be)];_0xd418fa[_0x3dd842(0x236)]&&(coachProfiles={...coachProfiles,..._0xd418fa[_0x3dd842(0x236)]}),_0xd418fa['calendar']&&(sessions=sessions['filter'](_0x117613=>!_0x117613[_0x3dd842(0x1dc)][_0x3dd842(0x197)](_0x36b6e9)),Object[_0x3dd842(0x1c9)](_0xd418fa[_0x3dd842(0x22e)])['forEach'](_0x4a69bd=>{const _0x1d4ba8=_0x3dd842,_0x3081b0=_0xd418fa[_0x1d4ba8(0x22e)][_0x4a69bd];_0x3081b0['forEach'](_0x3975da=>{const _0xaff255=_0x1d4ba8;sessions[_0xaff255(0x184)]({'id':_0x3975da['i'],'clientId':_0x3975da['c'],'coachId':_0x3975da['cid'],'dateStr':_0x36b6e9+'-'+_0x4a69bd[_0xaff255(0x21d)](0x2,'0'),'start':_0x3975da['s'],'end':_0x3975da['e'],'note':_0x3975da['n']||'','status':_0x3975da['st']||'planned','seriesId':_0x3975da[_0xaff255(0x175)]});});})),reRenderBlocks();}};function init(){const _0x1505bb=a3_0x10c166;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1505bb(0x1e1)](_0x1505bb(0x1c3))[_0x1505bb(0x1f8)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1505bb(0x165)]();}function renderTimeColumn(){const _0x209d62=a3_0x10c166,_0x31fab7=document[_0x209d62(0x1e1)](_0x209d62(0x223)),_0x58fab0=document['getElementById'](_0x209d62(0x15f));_0x31fab7[_0x209d62(0x209)]='',_0x31fab7[_0x209d62(0x228)](_0x58fab0);for(let _0x22f70b=0x0;_0x22f70b<0x18;_0x22f70b++){const _0x333282=document['createElement'](_0x209d62(0x22a));_0x333282['className']=_0x209d62(0x204);if(_0x22f70b>0x0)_0x333282[_0x209d62(0x209)]=_0x209d62(0x1b3)+String(_0x22f70b)[_0x209d62(0x21d)](0x2,'0')+_0x209d62(0x1fb);_0x31fab7[_0x209d62(0x228)](_0x333282);}}function renderDayRange(_0xdbeedd,_0x343d0c){const _0x19388d=a3_0x10c166,_0x35011c=document['getElementById'](_0x19388d(0x220)),_0x5d8276=document[_0x19388d(0x1e1)](_0x19388d(0x17a)),_0xbe03c6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c44be=new Date();_0x1c44be['setHours'](0x0,0x0,0x0,0x0);const _0x2184b9=getLocalDateStr(new Date());for(let _0x29224d=_0xdbeedd;_0x29224d<=_0x343d0c;_0x29224d++){const _0x562341=new Date(_0x1c44be);_0x562341[_0x19388d(0x18b)](_0x562341[_0x19388d(0x1a0)]()+_0x29224d);const _0x457a3d=getLocalDateStr(_0x562341);let _0x415004=_0x562341['getDay']()-0x1;if(_0x415004===-0x1)_0x415004=0x6;const _0x164922=_0x457a3d===_0x2184b9,_0x4d5f6d=document[_0x19388d(0x232)]('div');_0x4d5f6d['className']='day-col-header\x20'+(_0x164922?_0x19388d(0x22f):''),_0x4d5f6d[_0x19388d(0x1b2)](_0x19388d(0x186),_0x457a3d),_0x4d5f6d[_0x19388d(0x209)]=_0x19388d(0x1c2)+_0xbe03c6[_0x415004]+_0x19388d(0x1ea)+_0x562341[_0x19388d(0x1a0)]()+'</div>',_0x35011c[_0x19388d(0x228)](_0x4d5f6d);const _0x56c9d0=document[_0x19388d(0x232)](_0x19388d(0x22a));_0x56c9d0[_0x19388d(0x1ed)]=_0x19388d(0x20f)+(_0x164922?'today':''),_0x56c9d0[_0x19388d(0x1b2)](_0x19388d(0x186),_0x457a3d),_0x56c9d0[_0x19388d(0x1b2)]('data-day-idx',_0x415004),_0x5d8276[_0x19388d(0x228)](_0x56c9d0);}}function a3_0x4068(){const _0x33e200=['day-col-header\x20','startsWith','overlay','.rs-date-chip','.btn-reschedule','auto','data','numeric','value','end','getDate','getDay','backgroundColor','analyticsSheet','forEach','color','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','blocked-slot\x20stripe-bg','getTime','T23:59:59','insertBefore','cancel_window','(((.+)+)+)+$','join','remove','completed','setAttribute','<span>','round','ccYesBtn','</span>\x20/\x20','display','toLocaleDateString','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','week','#050505','style','map','clients','–∑–∞\x20','anCustomDates','visible','<div\x20class=\x22dch-day\x22>','matrixViewport','scrollTop','setBackgroundColor','Error\x20setting\x20back\x20button:','client_cancel','querySelectorAll','keys','apply','constructor','globalTimeLine','</div><div\x20class=\x22rs-day-num\x22>','rgba(','expand','ru-RU','substr','block','location','note','10FOjnmz','px\x200px','.day-col-header[data-date=\x22','createDocumentFragment','WebApp','3GBBlKj','test','dateStr','client_load','findIndex','applyData','length','getElementById','classList','1621816XSKRQN','1084980wXopQK','charAt','flex','strokeDashoffset','12510wScJMb','cancelContainer','</div><div\x20class=\x22dch-num\x22>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','disableVerticalSwipes','className','customConfirm','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getItem','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','initData','anStart','coachId','json','saveLocally','href','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','detailsSheet',':00</span>','mini','scrollWidth','settings','total','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Error\x20setting\x20color:','4LtYChW','ranges','time-label','cancelHint','getHours','%\x20+\x202px)','search','innerHTML','T00:00:00','textContent','find','blocked-range-part\x20stripe-bg','var(--acc-green)','day-column\x20','setMonth','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','get_slots','px\x20-','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','DOMContentLoaded','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','min','pattern','Telegram','status','\x20-\x20','filter','padStart','scrollLeft','detDate','daysHeaderTrack','–û—Ç–º–µ–Ω–µ–Ω–æ','colIndex','timeColumn','now','data-day-idx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','#0a84ff','appendChild','setHours','div','then','1509596PWZgXd','exceptions','calendar','today','anPercent','zIndex','createElement','BackButton','detStatus','detTime','coach_profiles','button','rs-time-btn','Critical\x20TMA\x20Error:','none','getFullYear','active','stopPropagation','custom','uc_client_settings','ccText','sort','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','ccTitle','stringify','analyticsList','toLocaleString','top','headerMonth','log','2242840GAeWMF','day-off-overlay\x20stripe-bg','firstChild','.period-switch\x20.p-btn','cancelled','offsetLeft','height','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.day-column','max','getMinutes','long','clientWidth','fontWeight','\x20—á.','timeLineBadge','100387WtcgJA','anTotalStats','getMonth','POST','setHeaderColor','syncLoad','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','\x20status-completed','.day-col-header','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start','rsDatesTrack','\x20–≤\x20','user','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','ready','rsSlotsGrid','month','anEnd','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','onclick','sid','parse','</div>','calc(','getAttribute','gridColumns','toString','.btn-cancel','client-stat-card','entries','setItem','toast','substring','backgroundPosition','toUpperCase','push','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','data-date','show','reschedule','querySelector','\x20–∏–∑\x20','setDate','open','split','600','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','84651GSgxvS','add','done','left','isArray','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>'];a3_0x4068=function(){return _0x33e200;};return a3_0x4068();}function reRenderBlocks(){const _0x4326a0=a3_0x10c166;document[_0x4326a0(0x1c8)](_0x4326a0(0x253))['forEach'](_0x5ac877=>{const _0x4204f7=_0x4326a0;_0x5ac877[_0x4204f7(0x1c8)](_0x4204f7(0x251))[_0x4204f7(0x1a4)](_0x2fb0a6=>_0x2fb0a6[_0x4204f7(0x1b0)]());const _0x5454eb=_0x5ac877[_0x4204f7(0x179)](_0x4204f7(0x186)),_0x3ff729=parseInt(_0x5ac877[_0x4204f7(0x179)](_0x4204f7(0x225))),_0x2fefb7=Math['round'](_0x5ac877['offsetLeft']);(availabilityPattern[_0x3ff729]||[])[_0x4204f7(0x1a4)](_0x4d64da=>{const _0x249916=_0x4204f7,_0x4b18af=document[_0x249916(0x232)](_0x249916(0x22a));_0x4b18af[_0x249916(0x1ed)]=_0x249916(0x1a9),_0x4b18af[_0x249916(0x1bc)][_0x249916(0x247)]=_0x4d64da*GRID_H+'px',_0x4b18af['style']['backgroundPosition']='-'+_0x2fefb7+_0x249916(0x213)+_0x4d64da*GRID_H+'px',_0x5ac877[_0x249916(0x228)](_0x4b18af);});if(specialRanges[_0x4204f7(0x1e0)]>0x0){const _0x211970=new Date(_0x5454eb+_0x4204f7(0x20a))[_0x4204f7(0x1aa)](),_0x1836fa=new Date(_0x5454eb+_0x4204f7(0x1ab))[_0x4204f7(0x1aa)]();specialRanges[_0x4204f7(0x1a4)](_0x1216a5=>{const _0x2913b0=_0x4204f7,_0x2231ac=new Date(_0x1216a5[_0x2913b0(0x16a)])[_0x2913b0(0x1aa)](),_0x8906ca=new Date(_0x1216a5['end'])[_0x2913b0(0x1aa)](),_0x590e3d=Math[_0x2913b0(0x254)](_0x211970,_0x2231ac),_0xacfae0=Math['min'](_0x1836fa,_0x8906ca);if(_0x590e3d<_0xacfae0){const _0x3b4f4f=(_0x590e3d-_0x211970)/0x36ee80*GRID_H,_0x381d7b=(_0xacfae0-_0x590e3d)/0x36ee80*GRID_H,_0x340752=document[_0x2913b0(0x232)](_0x2913b0(0x22a));_0x381d7b>=23.5*GRID_H?(_0x340752[_0x2913b0(0x1ed)]=_0x2913b0(0x24b),_0x340752[_0x2913b0(0x1bc)][_0x2913b0(0x182)]='-'+_0x2fefb7+_0x2913b0(0x1d6)):(_0x340752[_0x2913b0(0x1ed)]=_0x2913b0(0x20d),_0x340752[_0x2913b0(0x1bc)][_0x2913b0(0x247)]=_0x3b4f4f+'px',_0x340752[_0x2913b0(0x1bc)][_0x2913b0(0x250)]=_0x381d7b+'px',_0x340752[_0x2913b0(0x1bc)][_0x2913b0(0x182)]='-'+_0x2fefb7+_0x2913b0(0x213)+_0x3b4f4f+'px'),_0x5ac877[_0x2913b0(0x228)](_0x340752);}});}renderEventsForColumn(_0x5ac877,_0x5454eb);});}function renderEventsForColumn(_0x59017e,_0x43695a){const _0x1a1fcc=a3_0x10c166,_0x25dc37=sessions[_0x1a1fcc(0x21c)](_0x2738fd=>_0x2738fd[_0x1a1fcc(0x1dc)]===_0x43695a),_0x121aa4=_0x25dc37['map'](_0x6e35cd=>{const _0x1bd6ee=_0x1a1fcc,[_0x5c41b5,_0x439dda]=_0x6e35cd[_0x1bd6ee(0x16a)][_0x1bd6ee(0x18d)](':')[_0x1bd6ee(0x1bd)](Number),[_0xa0fb61,_0x26214a]=_0x6e35cd[_0x1bd6ee(0x19f)][_0x1bd6ee(0x18d)](':')['map'](Number);return{'data':_0x6e35cd,'start':_0x5c41b5*0x3c+_0x439dda,'end':_0xa0fb61*0x3c+_0x26214a,'colIndex':0x0};});_0x121aa4['sort']((_0x53e84c,_0x303f24)=>_0x53e84c['start']-_0x303f24[_0x1a1fcc(0x16a)]||_0x303f24['end']-_0x303f24[_0x1a1fcc(0x16a)]-(_0x53e84c[_0x1a1fcc(0x19f)]-_0x53e84c['start']));const _0x1b5012=[];_0x121aa4[_0x1a1fcc(0x1a4)](_0x53973d=>{const _0x305023=_0x1a1fcc;let _0x3726ca=![];for(let _0x247c99=0x0;_0x247c99<_0x1b5012[_0x305023(0x1e0)];_0x247c99++){const _0x553bd7=_0x1b5012[_0x247c99];if(_0x53973d[_0x305023(0x16a)]>=_0x553bd7[_0x553bd7[_0x305023(0x1e0)]-0x1][_0x305023(0x19f)]){_0x553bd7[_0x305023(0x184)](_0x53973d),_0x53973d[_0x305023(0x222)]=_0x247c99,_0x3726ca=!![];break;}}!_0x3726ca&&(_0x1b5012[_0x305023(0x184)]([_0x53973d]),_0x53973d['colIndex']=_0x1b5012['length']-0x1);}),_0x121aa4[_0x1a1fcc(0x1a4)](_0x4c5367=>{const _0x4e0b88=_0x1a1fcc;let _0xde31fe=0x0;_0x121aa4[_0x4e0b88(0x1a4)](_0x35982d=>{const _0x4d1e45=_0x4e0b88;if(Math[_0x4d1e45(0x254)](_0x4c5367[_0x4d1e45(0x16a)],_0x35982d[_0x4d1e45(0x16a)])<Math[_0x4d1e45(0x217)](_0x4c5367['end'],_0x35982d[_0x4d1e45(0x19f)])&&_0x35982d['colIndex']>_0xde31fe)_0xde31fe=_0x35982d[_0x4d1e45(0x222)];});const _0x13c92d=_0xde31fe+0x1,_0x117db4=0x64/_0x13c92d,_0xd349ba=_0x4c5367[_0x4e0b88(0x222)]*_0x117db4,_0x5a09ca=document[_0x4e0b88(0x232)](_0x4e0b88(0x22a)),_0x3d4291=_0x4c5367[_0x4e0b88(0x19c)];let _0x597945=_0x4e0b88(0x227);if(clients&&clients[_0x4e0b88(0x1e0)]>0x0){const _0x2f980b=clients[_0x4e0b88(0x20c)](_0x5eb430=>String(_0x5eb430['id'])===String(_0x3d4291['clientId']));if(_0x2f980b&&_0x2f980b[_0x4e0b88(0x1a5)])_0x597945=_0x2f980b[_0x4e0b88(0x1a5)];}const _0x310a5f=_0x3d4291[_0x4e0b88(0x21a)]==='completed',_0x409460=_0x310a5f?0x1:0.45;_0x5a09ca[_0x4e0b88(0x1ed)]='event-card'+(_0x310a5f?_0x4e0b88(0x167):''),_0x5a09ca[_0x4e0b88(0x1bc)][_0x4e0b88(0x1a2)]=hexToRgba(_0x597945,_0x409460),_0x5a09ca[_0x4e0b88(0x1bc)]['borderLeftColor']=_0x597945;const _0x59d3fb=_0x4c5367[_0x4e0b88(0x16a)]/0x3c*GRID_H,_0x1ffcb4=(_0x4c5367[_0x4e0b88(0x19f)]-_0x4c5367[_0x4e0b88(0x16a)])/0x3c*GRID_H;_0x5a09ca[_0x4e0b88(0x1bc)][_0x4e0b88(0x247)]=_0x59d3fb+'px',_0x5a09ca['style']['height']=Math[_0x4e0b88(0x254)](_0x1ffcb4,0x14)+'px',_0x5a09ca[_0x4e0b88(0x1bc)]['width']='calc('+_0x117db4+'%\x20-\x204px)',_0x5a09ca['style'][_0x4e0b88(0x193)]=_0x4e0b88(0x178)+_0xd349ba+_0x4e0b88(0x207),_0x5a09ca['style'][_0x4e0b88(0x231)]=0xa+_0x4c5367['colIndex'];if(_0x117db4<0x55)_0x5a09ca[_0x4e0b88(0x1e2)]['add'](_0x4e0b88(0x1fc));let _0x1424fe='';if(_0x3d4291['seriesId'])_0x1424fe+=_0x4e0b88(0x216);if(_0x310a5f)_0x1424fe+=_0x4e0b88(0x18f);_0x5a09ca[_0x4e0b88(0x209)]=_0x4e0b88(0x226)+_0x3d4291[_0x4e0b88(0x16a)]+_0x4e0b88(0x21b)+_0x3d4291[_0x4e0b88(0x19f)]+_0x4e0b88(0x1f9)+_0x1424fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5a09ca[_0x4e0b88(0x174)]=_0x4f6549=>{const _0x256526=_0x4e0b88;_0x4f6549[_0x256526(0x23d)](),openDetails(_0x3d4291);},_0x59017e[_0x4e0b88(0x228)](_0x5a09ca);});}function openAnalytics(){const _0x55c568=a3_0x10c166,_0x3b09f6=document['querySelector'](_0x55c568(0x24d));setAnalyticsPeriod(_0x55c568(0x1ba),_0x3b09f6),openSheet(_0x55c568(0x1a3));}function setAnalyticsPeriod(_0x2758ab,_0x37d1d0){const _0x4125e9=a3_0x10c166;currentAnPeriod=_0x2758ab,document[_0x4125e9(0x1c8)](_0x4125e9(0x24d))[_0x4125e9(0x1a4)](_0x2a91ff=>_0x2a91ff[_0x4125e9(0x1e2)]['remove']('active'));if(_0x37d1d0)_0x37d1d0['classList'][_0x4125e9(0x191)](_0x4125e9(0x23c));const _0x5c73af=document['getElementById'](_0x4125e9(0x1c0));_0x5c73af[_0x4125e9(0x1bc)][_0x4125e9(0x1b7)]=_0x2758ab===_0x4125e9(0x23e)?_0x4125e9(0x1e6):'none';const _0x285f92=new Date();let _0x3bafcc=new Date(),_0x81c959=new Date();if(_0x2758ab===_0x4125e9(0x1ba))_0x3bafcc=getStartOfWeek(_0x285f92),_0x81c959=new Date(_0x3bafcc),_0x81c959['setDate'](_0x81c959['getDate']()+0x6);else{if(_0x2758ab===_0x4125e9(0x171))_0x3bafcc=new Date(_0x285f92[_0x4125e9(0x23b)](),_0x285f92['getMonth'](),0x1),_0x81c959=new Date(_0x285f92['getFullYear'](),_0x285f92[_0x4125e9(0x162)]()+0x1,0x0);else{!document[_0x4125e9(0x1e1)]('anStart')['value']&&(document[_0x4125e9(0x1e1)](_0x4125e9(0x1f3))['value']=getLocalDateStr(_0x285f92),document[_0x4125e9(0x1e1)](_0x4125e9(0x172))[_0x4125e9(0x19e)]=getLocalDateStr(_0x285f92));refreshAnalytics();return;}}document[_0x4125e9(0x1e1)](_0x4125e9(0x1f3))[_0x4125e9(0x19e)]=getLocalDateStr(_0x3bafcc),document['getElementById'](_0x4125e9(0x172))[_0x4125e9(0x19e)]=getLocalDateStr(_0x81c959),refreshAnalytics();}function refreshAnalytics(){const _0x3f3977=a3_0x10c166,_0x5844c2=document[_0x3f3977(0x1e1)](_0x3f3977(0x1f3))[_0x3f3977(0x19e)],_0x30dce5=document[_0x3f3977(0x1e1)](_0x3f3977(0x172))[_0x3f3977(0x19e)];if(!_0x5844c2||!_0x30dce5)return;const _0x2b8067=sessions[_0x3f3977(0x21c)](_0x414beb=>_0x414beb['dateStr']>=_0x5844c2&&_0x414beb[_0x3f3977(0x1dc)]<=_0x30dce5&&_0x414beb[_0x3f3977(0x21a)]!==_0x3f3977(0x24e)),_0x4dd3f7=_0x2b8067[_0x3f3977(0x1e0)],_0x3a79ad=_0x2b8067[_0x3f3977(0x21c)](_0x49dac7=>_0x49dac7[_0x3f3977(0x21a)]===_0x3f3977(0x1b1))[_0x3f3977(0x1e0)],_0x1d7cc1=_0x4dd3f7>0x0?Math[_0x3f3977(0x1b4)](_0x3a79ad/_0x4dd3f7*0x64):0x0;document['getElementById'](_0x3f3977(0x230))[_0x3f3977(0x20b)]=_0x1d7cc1+'%',document[_0x3f3977(0x1e1)](_0x3f3977(0x161))[_0x3f3977(0x20b)]=_0x3a79ad+_0x3f3977(0x18a)+_0x4dd3f7+_0x3f3977(0x200);const _0x47445f=document[_0x3f3977(0x1e1)]('anDonutCircle'),_0x2aafe0=0x2*Math['PI']*0x23,_0x5a6602=_0x2aafe0-_0x1d7cc1/0x64*_0x2aafe0;_0x47445f[_0x3f3977(0x1bc)][_0x3f3977(0x1e7)]=_0x5a6602;const _0x92cf37={};_0x2b8067['forEach'](_0xac7a93=>{const _0x463bfa=_0x3f3977,_0x56fae0=_0xac7a93[_0x463bfa(0x1f4)]||'Unknown';if(!_0x92cf37[_0x56fae0]){const _0x10ee8d='#'+_0x56fae0[_0x463bfa(0x17b)]()[_0x463bfa(0x1d1)](0x0,0x6);_0x92cf37[_0x56fae0]={'total':0x0,'done':0x0,'color':_0x10ee8d};}_0x92cf37[_0x56fae0][_0x463bfa(0x1ff)]++;if(_0xac7a93[_0x463bfa(0x21a)]===_0x463bfa(0x1b1))_0x92cf37[_0x56fae0][_0x463bfa(0x192)]++;});const _0xfbb201=document[_0x3f3977(0x1e1)](_0x3f3977(0x245));_0xfbb201[_0x3f3977(0x209)]='';const _0x6046a3=Object[_0x3f3977(0x17e)](_0x92cf37)[_0x3f3977(0x241)]((_0x3307d5,_0x47efc5)=>_0x47efc5[0x1][_0x3f3977(0x1ff)]-_0x3307d5[0x1]['total']);if(_0x6046a3[_0x3f3977(0x1e0)]===0x0){_0xfbb201[_0x3f3977(0x209)]=_0x3f3977(0x195);return;}_0x6046a3[_0x3f3977(0x1a4)](([_0x4b2434,_0x5d27ab])=>{const _0x4cd4a0=_0x3f3977,_0x2d46f1=Math[_0x4cd4a0(0x1b4)](_0x5d27ab[_0x4cd4a0(0x192)]/_0x5d27ab['total']*0x64),_0x1d61f3=document['createElement'](_0x4cd4a0(0x22a));_0x1d61f3[_0x4cd4a0(0x1ed)]=_0x4cd4a0(0x17d),_0x1d61f3[_0x4cd4a0(0x1bc)]['borderLeftColor']=_0x5d27ab[_0x4cd4a0(0x1a5)],_0x1d61f3['innerHTML']=_0x4cd4a0(0x1a7)+_0x4b2434[_0x4cd4a0(0x1d1)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5d27ab[_0x4cd4a0(0x192)]+_0x4cd4a0(0x1b6)+_0x5d27ab['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x2d46f1+_0x4cd4a0(0x169),_0xfbb201[_0x4cd4a0(0x228)](_0x1d61f3);});}function openDetails(_0x4df915){const _0x38ae72=a3_0x10c166;currentSession=_0x4df915;const _0x58d095=new Date(_0x4df915[_0x38ae72(0x1dc)]),_0x361182=_0x58d095[_0x38ae72(0x1b8)](_0x38ae72(0x1d0),{'weekday':_0x38ae72(0x256),'day':'numeric','month':_0x38ae72(0x256)});document[_0x38ae72(0x1e1)](_0x38ae72(0x21f))[_0x38ae72(0x20b)]=_0x361182[_0x38ae72(0x1e5)](0x0)[_0x38ae72(0x183)]()+_0x361182['slice'](0x1),document[_0x38ae72(0x1e1)](_0x38ae72(0x235))[_0x38ae72(0x20b)]=_0x4df915[_0x38ae72(0x16a)]+_0x38ae72(0x21b)+_0x4df915[_0x38ae72(0x19f)],document[_0x38ae72(0x1e1)]('detNote')[_0x38ae72(0x20b)]=_0x4df915[_0x38ae72(0x1d4)]||_0x38ae72(0x1eb);const _0x5b7951=document[_0x38ae72(0x1e1)](_0x38ae72(0x234)),_0x51f610=document[_0x38ae72(0x1e1)](_0x38ae72(0x1e9)),_0x4bff87=_0x51f610[_0x38ae72(0x189)](_0x38ae72(0x17c)),_0x4f1bf4=_0x51f610['querySelector'](_0x38ae72(0x19a)),_0x2fbf08=document[_0x38ae72(0x1e1)](_0x38ae72(0x205));if(_0x4df915[_0x38ae72(0x21a)]===_0x38ae72(0x1b1))_0x5b7951['textContent']=_0x38ae72(0x1a6),_0x5b7951[_0x38ae72(0x1bc)]['color']=_0x38ae72(0x20e),_0x51f610['style']['display']='none';else{_0x5b7951[_0x38ae72(0x20b)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x5b7951[_0x38ae72(0x1bc)][_0x38ae72(0x1a5)]='var(--acc-blue)',_0x51f610[_0x38ae72(0x1bc)][_0x38ae72(0x1b7)]=_0x38ae72(0x1d2);const _0x5a30d6=new Date(_0x4df915[_0x38ae72(0x1dc)]+'T'+_0x4df915[_0x38ae72(0x16a)]),_0x60d494=new Date(),_0x3b0076=(_0x5a30d6-_0x60d494)/(0x3e8*0x3c*0x3c),_0x312f47=coachProfiles[_0x4df915[_0x38ae72(0x1f4)]]&&coachProfiles[_0x4df915[_0x38ae72(0x1f4)]]['cancel_window']?parseInt(coachProfiles[_0x4df915[_0x38ae72(0x1f4)]][_0x38ae72(0x1ad)]):0x18;if(_0x312f47===0x0||_0x3b0076>=_0x312f47)_0x4bff87['style'][_0x38ae72(0x1b7)]=_0x38ae72(0x1d2),_0x4f1bf4[_0x38ae72(0x1bc)][_0x38ae72(0x1b7)]='block',_0x2fbf08[_0x38ae72(0x1bc)][_0x38ae72(0x1b7)]=_0x38ae72(0x23a);else{_0x4bff87['style'][_0x38ae72(0x1b7)]=_0x38ae72(0x23a),_0x4f1bf4[_0x38ae72(0x1bc)][_0x38ae72(0x1b7)]='none',_0x2fbf08['style'][_0x38ae72(0x1b7)]='block';let _0x209e5c=_0x312f47===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x38ae72(0x1bf)+_0x312f47+_0x38ae72(0x259);_0x2fbf08[_0x38ae72(0x20b)]=_0x38ae72(0x214)+_0x209e5c+_0x38ae72(0x16e);}}document[_0x38ae72(0x1e1)](_0x38ae72(0x198))[_0x38ae72(0x1e2)][_0x38ae72(0x191)](_0x38ae72(0x23c)),document[_0x38ae72(0x1e1)](_0x38ae72(0x1fa))[_0x38ae72(0x1e2)][_0x38ae72(0x191)](_0x38ae72(0x18c));}function closeAllSheets(){const _0x160fc7=a3_0x10c166;document['getElementById'](_0x160fc7(0x198))['classList'][_0x160fc7(0x1b0)](_0x160fc7(0x23c)),document['querySelectorAll']('.sheet')[_0x160fc7(0x1a4)](_0x3a1958=>_0x3a1958['classList'][_0x160fc7(0x1b0)](_0x160fc7(0x18c)));}function openSheet(_0x430890){const _0x5187d8=a3_0x10c166;document[_0x5187d8(0x1e1)](_0x5187d8(0x198))[_0x5187d8(0x1e2)][_0x5187d8(0x191)](_0x5187d8(0x23c)),document['getElementById'](_0x430890)[_0x5187d8(0x1e2)][_0x5187d8(0x191)]('open');}function getLocalDateStr(_0x2619bf){const _0x480426=a3_0x10c166,_0x338f63=_0x2619bf['getFullYear'](),_0x50c679=String(_0x2619bf[_0x480426(0x162)]()+0x1)[_0x480426(0x21d)](0x2,'0'),_0x13f346=String(_0x2619bf[_0x480426(0x1a0)]())[_0x480426(0x21d)](0x2,'0');return _0x338f63+'-'+_0x50c679+'-'+_0x13f346;}function getStartOfWeek(_0x38664b){const _0x5e317d=a3_0x10c166,_0x2cddf1=new Date(_0x38664b),_0x585572=_0x2cddf1['getDay'](),_0x296a31=_0x2cddf1[_0x5e317d(0x1a0)]()-_0x585572+(_0x585572===0x0?-0x6:0x1);return _0x2cddf1[_0x5e317d(0x18b)](_0x296a31),_0x2cddf1[_0x5e317d(0x229)](0x0,0x0,0x0,0x0),_0x2cddf1;}function scrollToToday(){const _0x17fd6c=getLocalDateStr(new Date());setTimeout(()=>{const _0xd15d3=a3_0x50bc,_0x120985=document[_0xd15d3(0x189)](_0xd15d3(0x1d7)+_0x17fd6c+'\x22]');if(_0x120985){const _0x231f1c=document[_0xd15d3(0x1e1)](_0xd15d3(0x1c3)),_0x40780=_0x120985[_0xd15d3(0x24f)]-_0x231f1c[_0xd15d3(0x257)]/0x2+_0x120985['offsetWidth']/0x2;_0x231f1c['scrollTo']({'left':_0x40780,'behavior':_0xd15d3(0x19b)}),_0x231f1c[_0xd15d3(0x1c4)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1897ac=a3_0x10c166,_0xaa26d5=new Date(),_0x131bea=document['getElementById'](_0x1897ac(0x1cc)),_0x13a8a9=document['getElementById'](_0x1897ac(0x15f)),_0x26728f=(_0xaa26d5[_0x1897ac(0x206)]()*0x3c+_0xaa26d5['getMinutes']())/0x3c*GRID_H;_0x131bea[_0x1897ac(0x1bc)]['top']=_0x26728f+'px',_0x131bea[_0x1897ac(0x1bc)][_0x1897ac(0x1b7)]=_0x1897ac(0x1d2),_0x13a8a9['style'][_0x1897ac(0x247)]=_0x26728f+'px',_0x13a8a9[_0x1897ac(0x1bc)][_0x1897ac(0x1b7)]=_0x1897ac(0x1d2),_0x13a8a9[_0x1897ac(0x20b)]=String(_0xaa26d5[_0x1897ac(0x206)]())['padStart'](0x2,'0')+':'+String(_0xaa26d5[_0x1897ac(0x255)]())[_0x1897ac(0x21d)](0x2,'0');}function onScroll(){const _0x40a389=a3_0x10c166,_0x3174c2=document['getElementById'](_0x40a389(0x1c3)),_0x220d6f=document[_0x40a389(0x1c8)](_0x40a389(0x168));for(let _0x305f1a of _0x220d6f)if(_0x305f1a[_0x40a389(0x24f)]>=_0x3174c2[_0x40a389(0x21e)]){const _0x4890ae=new Date(_0x305f1a['getAttribute']('data-date'));document[_0x40a389(0x1e1)](_0x40a389(0x248))[_0x40a389(0x20b)]=_0x4890ae[_0x40a389(0x246)]('ru',{'month':'long'})[_0x40a389(0x183)]()+'\x20'+_0x4890ae[_0x40a389(0x23b)]();break;}}function showToast(_0xf3f017){const _0x5c7459=a3_0x10c166,_0x4e860f=document['getElementById'](_0x5c7459(0x180));_0x4e860f[_0x5c7459(0x20b)]=_0xf3f017,_0x4e860f[_0x5c7459(0x1e2)][_0x5c7459(0x191)](_0x5c7459(0x187)),setTimeout(()=>_0x4e860f[_0x5c7459(0x1e2)]['remove'](_0x5c7459(0x187)),0x7d0);}function handleInfiniteScroll(){const _0x30c939=a3_0x10c166,_0x46ddee=document[_0x30c939(0x1e1)](_0x30c939(0x1c3)),_0x1f8591=_0x46ddee[_0x30c939(0x21e)],_0x17bc1c=_0x46ddee[_0x30c939(0x1fd)],_0x17cf56=_0x46ddee[_0x30c939(0x257)];if(_0x17bc1c-(_0x1f8591+_0x17cf56)<0x12c){const _0x4bebbd=endOffset;endOffset+=0xe,renderDayRange(_0x4bebbd+0x1,endOffset),reRenderBlocks();}if(_0x1f8591<0x12c){const _0x2d1540=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2d1540-0x1),_0x46ddee[_0x30c939(0x21e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1a20a7,_0x39520e){const _0x45f4bb=a3_0x10c166,_0x32a01d=document[_0x45f4bb(0x1e1)](_0x45f4bb(0x220)),_0x17748c=document[_0x45f4bb(0x1e1)](_0x45f4bb(0x17a)),_0x12a4ab=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3d1ac6=new Date();_0x3d1ac6[_0x45f4bb(0x229)](0x0,0x0,0x0,0x0);const _0x4cca28=getLocalDateStr(new Date()),_0x540309=document[_0x45f4bb(0x1d8)](),_0x25f3fe=document[_0x45f4bb(0x1d8)]();for(let _0xffb4ec=_0x1a20a7;_0xffb4ec<=_0x39520e;_0xffb4ec++){const _0x18c2ea=new Date(_0x3d1ac6);_0x18c2ea['setDate'](_0x18c2ea[_0x45f4bb(0x1a0)]()+_0xffb4ec);const _0x4f1bf3=getLocalDateStr(_0x18c2ea);let _0x129ab4=_0x18c2ea[_0x45f4bb(0x1a1)]()-0x1;if(_0x129ab4===-0x1)_0x129ab4=0x6;const _0x197f02=_0x4f1bf3===_0x4cca28,_0x2fc4e3=document[_0x45f4bb(0x232)](_0x45f4bb(0x22a));_0x2fc4e3[_0x45f4bb(0x1ed)]=_0x45f4bb(0x196)+(_0x197f02?_0x45f4bb(0x22f):''),_0x2fc4e3[_0x45f4bb(0x1b2)]('data-date',_0x4f1bf3),_0x2fc4e3[_0x45f4bb(0x209)]=_0x45f4bb(0x1c2)+_0x12a4ab[_0x129ab4]+_0x45f4bb(0x1ea)+_0x18c2ea['getDate']()+_0x45f4bb(0x177),_0x540309[_0x45f4bb(0x228)](_0x2fc4e3);const _0x344f81=document[_0x45f4bb(0x232)](_0x45f4bb(0x22a));_0x344f81[_0x45f4bb(0x1ed)]=_0x45f4bb(0x20f)+(_0x197f02?_0x45f4bb(0x22f):''),_0x344f81['setAttribute']('data-date',_0x4f1bf3),_0x344f81[_0x45f4bb(0x1b2)](_0x45f4bb(0x225),_0x129ab4),_0x25f3fe[_0x45f4bb(0x228)](_0x344f81);}_0x32a01d[_0x45f4bb(0x1ac)](_0x540309,_0x32a01d[_0x45f4bb(0x24c)]),_0x17748c[_0x45f4bb(0x1ac)](_0x25f3fe,_0x17748c[_0x45f4bb(0x189)](_0x45f4bb(0x253)));}function hexToRgba(_0x4925b4,_0x59ada3){const _0x1b777c=a3_0x10c166;let _0x384517;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1b777c(0x1db)](_0x4925b4))return _0x384517=_0x4925b4[_0x1b777c(0x181)](0x1)[_0x1b777c(0x18d)](''),_0x384517['length']==0x3&&(_0x384517=[_0x384517[0x0],_0x384517[0x0],_0x384517[0x1],_0x384517[0x1],_0x384517[0x2],_0x384517[0x2]]),_0x384517='0x'+_0x384517[_0x1b777c(0x1af)](''),_0x1b777c(0x1ce)+[_0x384517>>0x10&0xff,_0x384517>>0x8&0xff,_0x384517&0xff][_0x1b777c(0x1af)](',')+','+_0x59ada3+')';return'rgba(10,\x20132,\x20255,\x20'+_0x59ada3+')';}let confirmResolver=null;function showCustomConfirm(_0x3c87ee,_0x4fdd38,_0x4e95fe=!![]){const _0x576725=a3_0x10c166;document[_0x576725(0x1e1)](_0x576725(0x243))[_0x576725(0x20b)]=_0x3c87ee,document[_0x576725(0x1e1)](_0x576725(0x240))[_0x576725(0x20b)]=_0x4fdd38;const _0x58ef12=document[_0x576725(0x1e1)](_0x576725(0x1b5));return _0x4e95fe?(_0x58ef12[_0x576725(0x1bc)][_0x576725(0x1a5)]='#ff453a',_0x58ef12[_0x576725(0x1bc)][_0x576725(0x258)]=_0x576725(0x18e)):(_0x58ef12[_0x576725(0x1bc)][_0x576725(0x1a5)]=_0x576725(0x227),_0x58ef12[_0x576725(0x1bc)][_0x576725(0x258)]='600'),new Promise(_0x21037c=>{const _0x179977=_0x576725;confirmResolver=_0x21037c,document[_0x179977(0x1e1)](_0x179977(0x1ee))[_0x179977(0x1e2)][_0x179977(0x191)](_0x179977(0x1c1));});}function resolveCustomConfirm(_0x23c854){const _0x4b04a6=a3_0x10c166;document[_0x4b04a6(0x1e1)](_0x4b04a6(0x1ee))[_0x4b04a6(0x1e2)][_0x4b04a6(0x1b0)](_0x4b04a6(0x1c1));if(confirmResolver)confirmResolver(_0x23c854);}async function tryCancelCurrentSession(){const _0x53c4a6=a3_0x10c166;if(!currentSession)return;const _0x902de7=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x902de7)return;const _0x2b9c56=currentSession;closeAllSheets(),sessions=sessions[_0x53c4a6(0x21c)](_0x3651ff=>_0x3651ff['id']!==_0x2b9c56['id']),reRenderBlocks(),showToast(_0x53c4a6(0x221)),lastUserActionTime=Date[_0x53c4a6(0x224)]();try{const _0x3a8f02=window[_0x53c4a6(0x219)]?.[_0x53c4a6(0x1d9)],_0x1016e0=await fetch(API_URL,{'method':_0x53c4a6(0x163),'body':JSON['stringify']({'action':_0x53c4a6(0x1c7),'init_data':_0x3a8f02?.[_0x53c4a6(0x1f2)]||'','coachId':_0x2b9c56[_0x53c4a6(0x1f4)],'dateStr':_0x2b9c56[_0x53c4a6(0x1dc)],'sessionId':_0x2b9c56['id']})});if(_0x1016e0['ok'])DataManager[_0x53c4a6(0x1f6)]();}catch(_0x536632){showToast(_0x53c4a6(0x166));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x31e454=a3_0x10c166;if(!currentSession)return;document['getElementById'](_0x31e454(0x1fa))[_0x31e454(0x1e2)][_0x31e454(0x1b0)](_0x31e454(0x18c)),document[_0x31e454(0x1e1)]('rescheduleSheet')[_0x31e454(0x1e2)][_0x31e454(0x191)](_0x31e454(0x18c));const _0x10b89a=document['getElementById'](_0x31e454(0x16b)),_0x5b243b=document['getElementById'](_0x31e454(0x170));_0x10b89a['innerHTML']='',_0x5b243b['innerHTML']=_0x31e454(0x242);const [_0x264e55,_0x5ed605]=currentSession[_0x31e454(0x16a)][_0x31e454(0x18d)](':')[_0x31e454(0x1bd)](Number),[_0x2a2bc3,_0x177568]=currentSession['end']['split'](':')[_0x31e454(0x1bd)](Number),_0x551ed8=_0x2a2bc3*0x3c+_0x177568-(_0x264e55*0x3c+_0x5ed605);try{const _0x196445=window[_0x31e454(0x219)]?.['WebApp'],_0xfbbc07=await fetch(API_URL,{'method':_0x31e454(0x163),'body':JSON['stringify']({'action':_0x31e454(0x212),'coachId':currentSession['coachId'],'duration':_0x551ed8,'init_data':_0x196445?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x305f92=await _0xfbbc07[_0x31e454(0x1f5)]();_0x305f92['ok']&&_0x305f92[_0x31e454(0x19c)]?(availableSlotsCache=_0x305f92['data'],renderRescheduleDates()):_0x5b243b['innerHTML']=_0x31e454(0x1b9);}catch(_0x3812bb){_0x5b243b['innerHTML']=_0x31e454(0x185);}}function renderRescheduleDates(){const _0x5b327d=a3_0x10c166,_0x339d6e=document[_0x5b327d(0x1e1)](_0x5b327d(0x16b));_0x339d6e[_0x5b327d(0x209)]='';const _0x53b1c7=Object[_0x5b327d(0x1c9)](availableSlotsCache)[_0x5b327d(0x241)](),_0x365c67=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x53b1c7[_0x5b327d(0x1e0)]===0x0){document[_0x5b327d(0x1e1)]('rsSlotsGrid')[_0x5b327d(0x209)]=_0x5b327d(0x1f1);return;}_0x53b1c7[_0x5b327d(0x1a4)]((_0x100eb2,_0x5e9b2f)=>{const _0x4636e0=_0x5b327d,_0x3a61fc=new Date(_0x100eb2),_0x28839e=_0x365c67[_0x3a61fc[_0x4636e0(0x1a1)]()],_0x4765ba=_0x3a61fc[_0x4636e0(0x1a0)](),_0x3bda4a=document[_0x4636e0(0x232)]('div');_0x3bda4a[_0x4636e0(0x1ed)]='rs-date-chip';if(_0x5e9b2f===0x0)_0x3bda4a[_0x4636e0(0x1e2)]['add'](_0x4636e0(0x23c));_0x3bda4a['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x28839e+_0x4636e0(0x1cd)+_0x4765ba+_0x4636e0(0x177),_0x3bda4a[_0x4636e0(0x174)]=()=>selectRsDate(_0x100eb2,_0x3bda4a),_0x339d6e[_0x4636e0(0x228)](_0x3bda4a);}),selectRsDate(_0x53b1c7[0x0],_0x339d6e[_0x5b327d(0x24c)]);}function selectRsDate(_0x10c54a,_0x526880){const _0x19abb2=a3_0x10c166;selectedRsDate=_0x10c54a,document[_0x19abb2(0x1c8)](_0x19abb2(0x199))[_0x19abb2(0x1a4)](_0xc64465=>_0xc64465[_0x19abb2(0x1e2)][_0x19abb2(0x1b0)](_0x19abb2(0x23c)));if(_0x526880)_0x526880['classList'][_0x19abb2(0x191)]('active');const _0x34b3ff=document['getElementById'](_0x19abb2(0x170));_0x34b3ff['innerHTML']='';const _0x4bc40e=availableSlotsCache[_0x10c54a]||[];if(_0x4bc40e[_0x19abb2(0x1e0)]===0x0){_0x34b3ff[_0x19abb2(0x209)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x4bc40e[_0x19abb2(0x1a4)](_0x5f1a48=>{const _0x12e974=_0x19abb2,_0x3dbaf6=document[_0x12e974(0x232)](_0x12e974(0x237));_0x3dbaf6[_0x12e974(0x1ed)]=_0x12e974(0x238),_0x3dbaf6[_0x12e974(0x20b)]=_0x5f1a48,_0x3dbaf6['onclick']=()=>confirmReschedule(_0x5f1a48),_0x34b3ff[_0x12e974(0x228)](_0x3dbaf6);});}async function confirmReschedule(_0x40239b){const _0x548bed=a3_0x10c166,_0x54d1cf=new Date(selectedRsDate),_0x2fbc21=_0x54d1cf[_0x548bed(0x1b8)](_0x548bed(0x1d0),{'day':_0x548bed(0x19d),'month':_0x548bed(0x256)}),_0x316a36=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x548bed(0x252)+_0x2fbc21+_0x548bed(0x16c)+_0x40239b+'?',![]);if(!_0x316a36)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x548bed(0x224)]();const _0x3e413f=currentSession[_0x548bed(0x1dc)],_0x65f0=currentSession['id'],[_0xb9706d,_0x446dee]=currentSession[_0x548bed(0x16a)][_0x548bed(0x18d)](':')['map'](Number),[_0x479a4e,_0x42daca]=currentSession[_0x548bed(0x19f)]['split'](':')[_0x548bed(0x1bd)](Number),_0x30b433=_0x479a4e*0x3c+_0x42daca-(_0xb9706d*0x3c+_0x446dee),[_0x5414d4,_0x270e91]=_0x40239b[_0x548bed(0x18d)](':')[_0x548bed(0x1bd)](Number),_0x3d7e53=_0x5414d4*0x3c+_0x270e91+_0x30b433,_0x2b2047=Math['floor'](_0x3d7e53/0x3c),_0x36beef=_0x3d7e53%0x3c,_0x574dc8=String(_0x2b2047)[_0x548bed(0x21d)](0x2,'0')+':'+String(_0x36beef)[_0x548bed(0x21d)](0x2,'0'),_0x24af47=sessions[_0x548bed(0x1de)](_0x2617f4=>_0x2617f4['id']===_0x65f0);_0x24af47!==-0x1&&(sessions[_0x24af47][_0x548bed(0x1dc)]=selectedRsDate,sessions[_0x24af47][_0x548bed(0x16a)]=_0x40239b,sessions[_0x24af47]['end']=_0x574dc8,reRenderBlocks());try{const _0x233ea6=window[_0x548bed(0x219)]?.[_0x548bed(0x1d9)],_0x2da746=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x548bed(0x188),'init_data':_0x233ea6?.[_0x548bed(0x1f2)]||'','oldSessionId':_0x65f0,'oldDate':_0x3e413f,'newDate':selectedRsDate,'newTime':_0x40239b,'coachId':currentSession[_0x548bed(0x1f4)]})}),_0x55f2ec=await _0x2da746[_0x548bed(0x1f5)]();!_0x55f2ec['ok']?(showToast(_0x548bed(0x1a8)),DataManager[_0x548bed(0x165)]()):(showToast(_0x548bed(0x211)),DataManager[_0x548bed(0x1f6)]());}catch(_0x55fd0c){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x10c166(0x215),init);