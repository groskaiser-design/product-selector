const a3_0x4f4495=a3_0x5e18;(function(_0x2ffa92,_0x59926c){const _0x1425a7=a3_0x5e18,_0x3971e0=_0x2ffa92();while(!![]){try{const _0x379778=-parseInt(_0x1425a7(0xe8))/0x1*(parseInt(_0x1425a7(0x128))/0x2)+-parseInt(_0x1425a7(0xd0))/0x3*(-parseInt(_0x1425a7(0x12d))/0x4)+-parseInt(_0x1425a7(0x135))/0x5+-parseInt(_0x1425a7(0xcf))/0x6*(-parseInt(_0x1425a7(0x18e))/0x7)+parseInt(_0x1425a7(0x158))/0x8*(-parseInt(_0x1425a7(0x15c))/0x9)+-parseInt(_0x1425a7(0xaf))/0xa*(-parseInt(_0x1425a7(0x119))/0xb)+-parseInt(_0x1425a7(0x142))/0xc*(-parseInt(_0x1425a7(0xf8))/0xd);if(_0x379778===_0x59926c)break;else _0x3971e0['push'](_0x3971e0['shift']());}catch(_0x30aed2){_0x3971e0['push'](_0x3971e0['shift']());}}}(a3_0x17f6,0x8ae45));const APP_VERSION=a3_0x4f4495(0xff),API_URL=a3_0x4f4495(0xb6),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x4f4495(0xac),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4f4495(0xc2),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xdedcd2=a3_0x4f4495,_0x3bca4e=(function(){let _0x2ff959=!![];return function(_0x5e23cc,_0xde4ec1){const _0x2b330c=_0x2ff959?function(){const _0x2bf509=a3_0x5e18;if(_0xde4ec1){const _0x2a878f=_0xde4ec1[_0x2bf509(0x10e)](_0x5e23cc,arguments);return _0xde4ec1=null,_0x2a878f;}}:function(){};return _0x2ff959=![],_0x2b330c;};}()),_0xbc7eb6=_0x3bca4e(this,function(){const _0x48a97f=a3_0x5e18;return _0xbc7eb6[_0x48a97f(0xdf)]()['search'](_0x48a97f(0x154))[_0x48a97f(0xdf)]()[_0x48a97f(0xb1)](_0xbc7eb6)['search'](_0x48a97f(0x154));});_0xbc7eb6();try{const _0x3e71d5=window[_0xdedcd2(0xea)]?.[_0xdedcd2(0x13b)];if(!_0x3e71d5)return;_0x3e71d5[_0xdedcd2(0xf4)](),_0x3e71d5['expand']();try{_0x3e71d5['setHeaderColor'](_0xdedcd2(0xbf)),_0x3e71d5[_0xdedcd2(0x127)]&&_0x3e71d5[_0xdedcd2(0x127)](_0xdedcd2(0xbf));}catch(_0x2475f4){console[_0xdedcd2(0x16f)]('Error\x20setting\x20color:',_0x2475f4);}try{_0x3e71d5[_0xdedcd2(0x170)]&&(_0x3e71d5['BackButton']['show'](),_0x3e71d5[_0xdedcd2(0x170)]['offClick'](),_0x3e71d5['BackButton']['onClick'](function(){window['location']['href']='router.html';}));}catch(_0x193479){console[_0xdedcd2(0x16f)]('Error\x20setting\x20back\x20button:',_0x193479);}try{if(_0x3e71d5['disableVerticalSwipes'])_0x3e71d5['disableVerticalSwipes']();}catch(_0x7b8de7){}}catch(_0xb7dc09){console[_0xdedcd2(0xc1)](_0xdedcd2(0x16d),_0xb7dc09);}}());function isAdmin(){const _0x520c97=a3_0x4f4495;try{const _0x331704=Number(window[_0x520c97(0xea)]?.[_0x520c97(0x13b)]?.['initDataUnsafe']?.[_0x520c97(0x164)]?.['id']);return _0x331704===0xbaf7174;}catch(_0x296ef5){return![];}}const DataManager={'saveLocally'(){const _0x20e861=a3_0x4f4495;try{localStorage[_0x20e861(0x14e)](KEY_SESSIONS,JSON[_0x20e861(0xc0)](sessions)),localStorage[_0x20e861(0x14e)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x20e861(0xc0)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x16ff94){}},'loadLocal'(){const _0x35afe3=a3_0x4f4495;try{const _0x5872b6=localStorage['getItem'](KEY_SESSIONS);if(_0x5872b6)sessions=JSON[_0x35afe3(0xcb)](_0x5872b6);const _0x4ccede=localStorage[_0x35afe3(0xbe)](KEY_CLIENTS);if(_0x4ccede)clients=JSON[_0x35afe3(0xcb)](_0x4ccede);const _0x1b8ca8=localStorage[_0x35afe3(0xbe)](KEY_SETTINGS);if(_0x1b8ca8){const _0x2c57df=JSON[_0x35afe3(0xcb)](_0x1b8ca8);if(_0x2c57df[_0x35afe3(0x15e)])availabilityPattern=_0x2c57df['pattern'];if(_0x2c57df['ranges'])specialRanges=_0x2c57df['ranges'];if(_0x2c57df[_0x35afe3(0x16a)])dateExceptions=_0x2c57df[_0x35afe3(0x16a)];}}catch(_0x49e118){}},async 'syncLoad'(){const _0x2b12e2=a3_0x4f4495,_0x3d879a=new Date(),_0x20c32c=_0x3d879a[_0x2b12e2(0x11e)]()+'-'+String(_0x3d879a[_0x2b12e2(0x131)]()+0x1)[_0x2b12e2(0x138)](0x2,'0'),_0x24dce3=new Date(_0x3d879a);_0x24dce3[_0x2b12e2(0xed)](_0x3d879a[_0x2b12e2(0x131)]()+0x1);const _0x1ca183=_0x24dce3[_0x2b12e2(0x11e)]()+'-'+String(_0x24dce3[_0x2b12e2(0x131)]()+0x1)[_0x2b12e2(0x138)](0x2,'0'),_0x4ba524=Date[_0x2b12e2(0xef)]();try{const _0x19ad55=window[_0x2b12e2(0xea)]?.[_0x2b12e2(0x13b)],_0x3ff11e=_0x19ad55?.['initData']||'',[_0x13ee7d,_0x1f2297]=await Promise[_0x2b12e2(0xb5)]([fetch(API_URL,{'method':_0x2b12e2(0x190),'body':JSON[_0x2b12e2(0xc0)]({'action':_0x2b12e2(0xf7),'init_data':_0x3ff11e,'month_str':_0x20c32c})})['then'](_0x5e95a2=>_0x5e95a2[_0x2b12e2(0x134)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2b12e2(0xf7),'init_data':_0x3ff11e,'month_str':_0x1ca183})})['then'](_0x14a6a3=>_0x14a6a3['json']())]);if(lastUserActionTime>_0x4ba524){console[_0x2b12e2(0x16f)](_0x2b12e2(0x10a));return;}if(_0x13ee7d['ok'])this['applyData'](_0x13ee7d[_0x2b12e2(0xf1)],_0x20c32c);if(_0x1f2297['ok'])this[_0x2b12e2(0x124)](_0x1f2297[_0x2b12e2(0xf1)],_0x1ca183);this['saveLocally']();}catch(_0x589e31){}},'applyData'(_0x134c9d,_0x332c65){const _0x18c9b6=a3_0x4f4495;if(!_0x134c9d)return;if(_0x134c9d[_0x18c9b6(0xfb)]){if(_0x134c9d[_0x18c9b6(0xfb)][_0x18c9b6(0x15e)])availabilityPattern=_0x134c9d[_0x18c9b6(0xfb)][_0x18c9b6(0x15e)];if(_0x134c9d[_0x18c9b6(0xfb)]['ranges'])specialRanges=_0x134c9d[_0x18c9b6(0xfb)][_0x18c9b6(0x194)];if(_0x134c9d['settings'][_0x18c9b6(0x16a)])dateExceptions=_0x134c9d['settings'][_0x18c9b6(0x16a)];}if(_0x134c9d['clients']&&Array['isArray'](_0x134c9d[_0x18c9b6(0xdc)]))clients=_0x134c9d[_0x18c9b6(0xdc)];_0x134c9d[_0x18c9b6(0x157)]&&(coachProfiles={...coachProfiles,..._0x134c9d[_0x18c9b6(0x157)]}),_0x134c9d[_0x18c9b6(0xb8)]&&(sessions=sessions['filter'](_0x58d61b=>!_0x58d61b[_0x18c9b6(0x10c)][_0x18c9b6(0xe2)](_0x332c65)),Object[_0x18c9b6(0xe9)](_0x134c9d[_0x18c9b6(0xb8)])[_0x18c9b6(0xb2)](_0x187135=>{const _0x9d3c51=_0x18c9b6,_0xc873f3=_0x134c9d[_0x9d3c51(0xb8)][_0x187135];_0xc873f3[_0x9d3c51(0xb2)](_0xbc1937=>{const _0x45bba0=_0x9d3c51;sessions[_0x45bba0(0x139)]({'id':_0xbc1937['i'],'clientId':_0xbc1937['c'],'coachId':_0xbc1937[_0x45bba0(0x15b)],'dateStr':_0x332c65+'-'+_0x187135[_0x45bba0(0x138)](0x2,'0'),'start':_0xbc1937['s'],'end':_0xbc1937['e'],'note':_0xbc1937['n']||'','status':_0xbc1937['st']||'planned','seriesId':_0xbc1937[_0x45bba0(0x175)]});});})),reRenderBlocks();}};function init(){const _0x338bf2=a3_0x4f4495;DataManager[_0x338bf2(0xa8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x338bf2(0xb9)](_0x338bf2(0x180))['addEventListener'](_0x338bf2(0x150),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x338bf2(0x108)]();}function renderTimeColumn(){const _0x10c2dc=a3_0x4f4495,_0x193742=document['getElementById'](_0x10c2dc(0x11b)),_0x31ee3f=document[_0x10c2dc(0xb9)]('timeLineBadge');_0x193742[_0x10c2dc(0x112)]='',_0x193742[_0x10c2dc(0x118)](_0x31ee3f);for(let _0x2fcd6c=0x0;_0x2fcd6c<0x18;_0x2fcd6c++){const _0x5dad41=document[_0x10c2dc(0xe4)](_0x10c2dc(0x11f));_0x5dad41[_0x10c2dc(0xe6)]=_0x10c2dc(0x17c);if(_0x2fcd6c>0x0)_0x5dad41['innerHTML']=_0x10c2dc(0x152)+String(_0x2fcd6c)[_0x10c2dc(0x138)](0x2,'0')+':00</span>';_0x193742[_0x10c2dc(0x118)](_0x5dad41);}}function renderDayRange(_0x4f1b36,_0x5c79f7){const _0x3cee5c=a3_0x4f4495,_0x422cc3=document['getElementById']('daysHeaderTrack'),_0x251dc5=document[_0x3cee5c(0xb9)]('gridColumns'),_0x549cd0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x17bedb=new Date();_0x17bedb[_0x3cee5c(0x10f)](0x0,0x0,0x0,0x0);const _0x2b937e=getLocalDateStr(new Date());for(let _0x142a15=_0x4f1b36;_0x142a15<=_0x5c79f7;_0x142a15++){const _0x4562c9=new Date(_0x17bedb);_0x4562c9['setDate'](_0x4562c9[_0x3cee5c(0x17a)]()+_0x142a15);const _0x3b5529=getLocalDateStr(_0x4562c9);let _0x6bc136=_0x4562c9[_0x3cee5c(0x16e)]()-0x1;if(_0x6bc136===-0x1)_0x6bc136=0x6;const _0x32fd4c=_0x3b5529===_0x2b937e,_0x55eb14=document[_0x3cee5c(0xe4)]('div');_0x55eb14['className']=_0x3cee5c(0x162)+(_0x32fd4c?_0x3cee5c(0x140):''),_0x55eb14[_0x3cee5c(0x179)](_0x3cee5c(0x13e),_0x3b5529),_0x55eb14[_0x3cee5c(0x112)]=_0x3cee5c(0x191)+_0x549cd0[_0x6bc136]+_0x3cee5c(0x177)+_0x4562c9[_0x3cee5c(0x17a)]()+_0x3cee5c(0x110),_0x422cc3[_0x3cee5c(0x118)](_0x55eb14);const _0x3f0953=document['createElement'](_0x3cee5c(0x11f));_0x3f0953[_0x3cee5c(0xe6)]=_0x3cee5c(0x17d)+(_0x32fd4c?_0x3cee5c(0x140):''),_0x3f0953[_0x3cee5c(0x179)](_0x3cee5c(0x13e),_0x3b5529),_0x3f0953[_0x3cee5c(0x179)](_0x3cee5c(0xd1),_0x6bc136),_0x251dc5[_0x3cee5c(0x118)](_0x3f0953);}}function reRenderBlocks(){const _0x148322=a3_0x4f4495;document[_0x148322(0x13a)](_0x148322(0xf3))[_0x148322(0xb2)](_0x5ab6d7=>{const _0x396036=_0x148322;_0x5ab6d7[_0x396036(0x13a)](_0x396036(0xb7))[_0x396036(0xb2)](_0x5e48a6=>_0x5e48a6['remove']());const _0x4b0c8c=_0x5ab6d7[_0x396036(0xbb)](_0x396036(0x13e)),_0x19f45d=parseInt(_0x5ab6d7[_0x396036(0xbb)]('data-day-idx')),_0x351c8e=Math[_0x396036(0xfa)](_0x5ab6d7[_0x396036(0x189)]);(availabilityPattern[_0x19f45d]||[])[_0x396036(0xb2)](_0x28a096=>{const _0x43ab81=_0x396036,_0x392431=document[_0x43ab81(0xe4)](_0x43ab81(0x11f));_0x392431[_0x43ab81(0xe6)]=_0x43ab81(0xa7),_0x392431[_0x43ab81(0xfe)][_0x43ab81(0x187)]=_0x28a096*GRID_H+'px',_0x392431['style'][_0x43ab81(0x10d)]='-'+_0x351c8e+_0x43ab81(0x13c)+_0x28a096*GRID_H+'px',_0x5ab6d7[_0x43ab81(0x118)](_0x392431);});if(specialRanges[_0x396036(0xd3)]>0x0){const _0x24a7a9=new Date(_0x4b0c8c+_0x396036(0x17e))[_0x396036(0x122)](),_0x3f94c9=new Date(_0x4b0c8c+_0x396036(0x126))[_0x396036(0x122)]();specialRanges['forEach'](_0x283a73=>{const _0x1f25fe=_0x396036,_0x417408=new Date(_0x283a73[_0x1f25fe(0x116)])[_0x1f25fe(0x122)](),_0x262d64=new Date(_0x283a73[_0x1f25fe(0x12c)])[_0x1f25fe(0x122)](),_0x52b9c4=Math['max'](_0x24a7a9,_0x417408),_0x5c6842=Math['min'](_0x3f94c9,_0x262d64);if(_0x52b9c4<_0x5c6842){const _0x402b44=(_0x52b9c4-_0x24a7a9)/0x36ee80*GRID_H,_0x179e53=(_0x5c6842-_0x52b9c4)/0x36ee80*GRID_H,_0x4c8d9c=document[_0x1f25fe(0xe4)](_0x1f25fe(0x11f));_0x179e53>=23.5*GRID_H?(_0x4c8d9c[_0x1f25fe(0xe6)]=_0x1f25fe(0x12f),_0x4c8d9c['style'][_0x1f25fe(0x10d)]='-'+_0x351c8e+_0x1f25fe(0xc5)):(_0x4c8d9c[_0x1f25fe(0xe6)]=_0x1f25fe(0x102),_0x4c8d9c[_0x1f25fe(0xfe)][_0x1f25fe(0x187)]=_0x402b44+'px',_0x4c8d9c[_0x1f25fe(0xfe)][_0x1f25fe(0x166)]=_0x179e53+'px',_0x4c8d9c[_0x1f25fe(0xfe)][_0x1f25fe(0x10d)]='-'+_0x351c8e+_0x1f25fe(0x13c)+_0x402b44+'px'),_0x5ab6d7['appendChild'](_0x4c8d9c);}});}renderEventsForColumn(_0x5ab6d7,_0x4b0c8c);});}function renderEventsForColumn(_0x47808d,_0x431e40){const _0x21e40b=a3_0x4f4495,_0x2f0e80=sessions['filter'](_0x2ee463=>_0x2ee463[_0x21e40b(0x10c)]===_0x431e40),_0x5cd3b8=_0x2f0e80['map'](_0x1d07b0=>{const _0x3d8dc8=_0x21e40b,[_0x3b61ae,_0x22d96b]=_0x1d07b0[_0x3d8dc8(0x116)][_0x3d8dc8(0xca)](':')[_0x3d8dc8(0x115)](Number),[_0x3a7e55,_0x271cda]=_0x1d07b0[_0x3d8dc8(0x12c)][_0x3d8dc8(0xca)](':')[_0x3d8dc8(0x115)](Number);return{'data':_0x1d07b0,'start':_0x3b61ae*0x3c+_0x22d96b,'end':_0x3a7e55*0x3c+_0x271cda,'colIndex':0x0};});_0x5cd3b8[_0x21e40b(0x165)]((_0x1ffa91,_0x3056c3)=>_0x1ffa91[_0x21e40b(0x116)]-_0x3056c3[_0x21e40b(0x116)]||_0x3056c3[_0x21e40b(0x12c)]-_0x3056c3[_0x21e40b(0x116)]-(_0x1ffa91[_0x21e40b(0x12c)]-_0x1ffa91[_0x21e40b(0x116)]));const _0x4af83f=[];_0x5cd3b8[_0x21e40b(0xb2)](_0x2b4bff=>{const _0x961796=_0x21e40b;let _0x58534d=![];for(let _0x5e3568=0x0;_0x5e3568<_0x4af83f[_0x961796(0xd3)];_0x5e3568++){const _0x5575bc=_0x4af83f[_0x5e3568];if(_0x2b4bff[_0x961796(0x116)]>=_0x5575bc[_0x5575bc['length']-0x1][_0x961796(0x12c)]){_0x5575bc[_0x961796(0x139)](_0x2b4bff),_0x2b4bff['colIndex']=_0x5e3568,_0x58534d=!![];break;}}!_0x58534d&&(_0x4af83f[_0x961796(0x139)]([_0x2b4bff]),_0x2b4bff[_0x961796(0x14c)]=_0x4af83f[_0x961796(0xd3)]-0x1);}),_0x5cd3b8[_0x21e40b(0xb2)](_0x4b5f5e=>{const _0x4b6d8d=_0x21e40b;let _0x59179c=0x0;_0x5cd3b8[_0x4b6d8d(0xb2)](_0x3e7a0e=>{const _0x13194d=_0x4b6d8d;if(Math[_0x13194d(0x18b)](_0x4b5f5e[_0x13194d(0x116)],_0x3e7a0e['start'])<Math[_0x13194d(0x104)](_0x4b5f5e[_0x13194d(0x12c)],_0x3e7a0e[_0x13194d(0x12c)])&&_0x3e7a0e[_0x13194d(0x14c)]>_0x59179c)_0x59179c=_0x3e7a0e[_0x13194d(0x14c)];});const _0x592f3a=_0x59179c+0x1,_0x57c193=0x64/_0x592f3a,_0x2820b1=_0x4b5f5e[_0x4b6d8d(0x14c)]*_0x57c193,_0x4343d6=document['createElement'](_0x4b6d8d(0x11f)),_0x113eb4=_0x4b5f5e['data'];let _0x3946fe=_0x4b6d8d(0xd6);if(clients&&clients[_0x4b6d8d(0xd3)]>0x0){const _0x5d327c=clients['find'](_0x38c2c0=>String(_0x38c2c0['id'])===String(_0x113eb4[_0x4b6d8d(0xc6)]));if(_0x5d327c&&_0x5d327c['color'])_0x3946fe=_0x5d327c['color'];}const _0x26666d=_0x113eb4[_0x4b6d8d(0x101)]==='completed',_0x38c180=_0x26666d?0x1:0.45;_0x4343d6[_0x4b6d8d(0xe6)]=_0x4b6d8d(0xcc)+(_0x26666d?'\x20status-completed':''),_0x4343d6[_0x4b6d8d(0xfe)]['backgroundColor']=hexToRgba(_0x3946fe,_0x38c180),_0x4343d6[_0x4b6d8d(0xfe)][_0x4b6d8d(0x130)]=_0x3946fe;const _0x43b341=_0x4b5f5e[_0x4b6d8d(0x116)]/0x3c*GRID_H,_0x1d08a9=(_0x4b5f5e[_0x4b6d8d(0x12c)]-_0x4b5f5e[_0x4b6d8d(0x116)])/0x3c*GRID_H;_0x4343d6[_0x4b6d8d(0xfe)][_0x4b6d8d(0x187)]=_0x43b341+'px',_0x4343d6['style']['height']=Math[_0x4b6d8d(0x18b)](_0x1d08a9,0x14)+'px',_0x4343d6[_0x4b6d8d(0xfe)][_0x4b6d8d(0xd9)]=_0x4b6d8d(0x123)+_0x57c193+_0x4b6d8d(0x18c),_0x4343d6[_0x4b6d8d(0xfe)][_0x4b6d8d(0x111)]='calc('+_0x2820b1+_0x4b6d8d(0xec),_0x4343d6['style']['zIndex']=0xa+_0x4b5f5e[_0x4b6d8d(0x14c)];if(_0x57c193<0x55)_0x4343d6[_0x4b6d8d(0xad)][_0x4b6d8d(0x12e)](_0x4b6d8d(0xf6));let _0x21110a='';if(_0x113eb4[_0x4b6d8d(0x168)])_0x21110a+=_0x4b6d8d(0xb4);if(_0x26666d)_0x21110a+=_0x4b6d8d(0x14f);_0x4343d6[_0x4b6d8d(0x112)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x113eb4[_0x4b6d8d(0x116)]+'\x20-\x20'+_0x113eb4[_0x4b6d8d(0x12c)]+_0x4b6d8d(0xe3)+_0x21110a+_0x4b6d8d(0xc7),_0x4343d6[_0x4b6d8d(0x155)]=_0x3e5984=>{const _0x2663d1=_0x4b6d8d;_0x3e5984[_0x2663d1(0xcd)](),openDetails(_0x113eb4);},_0x47808d[_0x4b6d8d(0x118)](_0x4343d6);});}function openAnalytics(){const _0xac73ff=a3_0x4f4495,_0x5d0ddd=document[_0xac73ff(0x12a)](_0xac73ff(0xba));setAnalyticsPeriod('week',_0x5d0ddd),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xe0eb42,_0x3de18c){const _0x170627=a3_0x4f4495;currentAnPeriod=_0xe0eb42,document[_0x170627(0x13a)](_0x170627(0xba))[_0x170627(0xb2)](_0x3f8e48=>_0x3f8e48['classList']['remove']('active'));if(_0x3de18c)_0x3de18c[_0x170627(0xad)][_0x170627(0x12e)](_0x170627(0x159));const _0x371451=document[_0x170627(0xb9)]('anCustomDates');_0x371451[_0x170627(0xfe)]['display']=_0xe0eb42===_0x170627(0x117)?_0x170627(0x16b):'none';const _0x2deba8=new Date();let _0xf218a5=new Date(),_0x47cf34=new Date();if(_0xe0eb42===_0x170627(0xc2))_0xf218a5=getStartOfWeek(_0x2deba8),_0x47cf34=new Date(_0xf218a5),_0x47cf34['setDate'](_0x47cf34[_0x170627(0x17a)]()+0x6);else{if(_0xe0eb42==='month')_0xf218a5=new Date(_0x2deba8[_0x170627(0x11e)](),_0x2deba8[_0x170627(0x131)](),0x1),_0x47cf34=new Date(_0x2deba8['getFullYear'](),_0x2deba8['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')[_0x170627(0x145)]&&(document[_0x170627(0xb9)]('anStart')[_0x170627(0x145)]=getLocalDateStr(_0x2deba8),document['getElementById'](_0x170627(0x107))[_0x170627(0x145)]=getLocalDateStr(_0x2deba8));refreshAnalytics();return;}}document['getElementById'](_0x170627(0xf9))[_0x170627(0x145)]=getLocalDateStr(_0xf218a5),document[_0x170627(0xb9)](_0x170627(0x107))[_0x170627(0x145)]=getLocalDateStr(_0x47cf34),refreshAnalytics();}function refreshAnalytics(){const _0x434d2c=a3_0x4f4495,_0x323ced=document[_0x434d2c(0xb9)]('anStart')['value'],_0x4c9311=document[_0x434d2c(0xb9)](_0x434d2c(0x107))['value'];if(!_0x323ced||!_0x4c9311)return;const _0x4d1336=sessions[_0x434d2c(0x148)](_0x5c4b57=>_0x5c4b57[_0x434d2c(0x10c)]>=_0x323ced&&_0x5c4b57[_0x434d2c(0x10c)]<=_0x4c9311&&_0x5c4b57[_0x434d2c(0x101)]!==_0x434d2c(0x17f)),_0x33adb1=_0x4d1336[_0x434d2c(0xd3)],_0x34c021=_0x4d1336[_0x434d2c(0x148)](_0x29adc4=>_0x29adc4[_0x434d2c(0x101)]===_0x434d2c(0x196))['length'],_0x4ca2f4=_0x33adb1>0x0?Math[_0x434d2c(0xfa)](_0x34c021/_0x33adb1*0x64):0x0;document['getElementById'](_0x434d2c(0xbd))[_0x434d2c(0x18a)]=_0x4ca2f4+'%',document['getElementById'](_0x434d2c(0x186))[_0x434d2c(0x18a)]=_0x34c021+_0x434d2c(0xee)+_0x33adb1+_0x434d2c(0xd4);const _0x205364=document[_0x434d2c(0xb9)](_0x434d2c(0xc8)),_0x5cabbc=0x2*Math['PI']*0x23,_0x3cbc4a=_0x5cabbc-_0x4ca2f4/0x64*_0x5cabbc;_0x205364[_0x434d2c(0xfe)][_0x434d2c(0x14b)]=_0x3cbc4a;const _0x5227ae={};_0x4d1336[_0x434d2c(0xb2)](_0x1403d1=>{const _0x46b0a0=_0x434d2c,_0x3db009=_0x1403d1[_0x46b0a0(0x11a)]||_0x46b0a0(0x192);if(!_0x5227ae[_0x3db009]){const _0x5e3330='#'+_0x3db009[_0x46b0a0(0xdf)]()[_0x46b0a0(0x14a)](0x0,0x6);_0x5227ae[_0x3db009]={'total':0x0,'done':0x0,'color':_0x5e3330};}_0x5227ae[_0x3db009][_0x46b0a0(0x136)]++;if(_0x1403d1[_0x46b0a0(0x101)]===_0x46b0a0(0x196))_0x5227ae[_0x3db009][_0x46b0a0(0x15f)]++;});const _0x11da75=document[_0x434d2c(0xb9)](_0x434d2c(0x106));_0x11da75[_0x434d2c(0x112)]='';const _0x402917=Object[_0x434d2c(0xf5)](_0x5227ae)['sort']((_0x30f39d,_0x45d04e)=>_0x45d04e[0x1][_0x434d2c(0x136)]-_0x30f39d[0x1][_0x434d2c(0x136)]);if(_0x402917[_0x434d2c(0xd3)]===0x0){_0x11da75[_0x434d2c(0x112)]=_0x434d2c(0xce);return;}_0x402917[_0x434d2c(0xb2)](([_0x2eb95f,_0x34fa29])=>{const _0x12d307=_0x434d2c,_0x45acb0=Math['round'](_0x34fa29[_0x12d307(0x15f)]/_0x34fa29[_0x12d307(0x136)]*0x64),_0x2c68cf=document[_0x12d307(0xe4)](_0x12d307(0x11f));_0x2c68cf[_0x12d307(0xe6)]=_0x12d307(0x161),_0x2c68cf['style'][_0x12d307(0x130)]=_0x34fa29['color'],_0x2c68cf['innerHTML']=_0x12d307(0x109)+_0x2eb95f['substr'](0x0,0x5)+_0x12d307(0x160)+_0x34fa29[_0x12d307(0x15f)]+'</span>\x20/\x20'+_0x34fa29[_0x12d307(0x136)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x45acb0+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x11da75[_0x12d307(0x118)](_0x2c68cf);});}function openDetails(_0x58e56b){const _0x4369ac=a3_0x4f4495;currentSession=_0x58e56b;const _0x130f0d=new Date(_0x58e56b[_0x4369ac(0x10c)]),_0x4aa82d=_0x130f0d[_0x4369ac(0xfd)]('ru-RU',{'weekday':_0x4369ac(0xe7),'day':_0x4369ac(0x14d),'month':_0x4369ac(0xe7)});document[_0x4369ac(0xb9)](_0x4369ac(0x182))[_0x4369ac(0x18a)]=_0x4aa82d[_0x4369ac(0x153)](0x0)[_0x4369ac(0xae)]()+_0x4aa82d[_0x4369ac(0x144)](0x1),document[_0x4369ac(0xb9)](_0x4369ac(0x129))[_0x4369ac(0x18a)]=_0x58e56b[_0x4369ac(0x116)]+'\x20-\x20'+_0x58e56b[_0x4369ac(0x12c)],document[_0x4369ac(0xb9)](_0x4369ac(0x16c))[_0x4369ac(0x18a)]=_0x58e56b['note']||_0x4369ac(0x171);const _0x38fa3d=document[_0x4369ac(0xb9)](_0x4369ac(0x113)),_0x2f6d6d=document[_0x4369ac(0xb9)](_0x4369ac(0x185)),_0x3e9c25=_0x2f6d6d[_0x4369ac(0x12a)](_0x4369ac(0xe5)),_0x2235d1=_0x2f6d6d[_0x4369ac(0x12a)](_0x4369ac(0x12b)),_0x422996=document[_0x4369ac(0xb9)](_0x4369ac(0xde));if(_0x58e56b[_0x4369ac(0x101)]===_0x4369ac(0x196))_0x38fa3d[_0x4369ac(0x18a)]=_0x4369ac(0x17b),_0x38fa3d[_0x4369ac(0xfe)][_0x4369ac(0x146)]=_0x4369ac(0x183),_0x2f6d6d['style'][_0x4369ac(0xa6)]='none';else{_0x38fa3d['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x38fa3d[_0x4369ac(0xfe)][_0x4369ac(0x146)]=_0x4369ac(0x105),_0x2f6d6d[_0x4369ac(0xfe)][_0x4369ac(0xa6)]=_0x4369ac(0x143);const _0xa15b44=new Date(_0x58e56b[_0x4369ac(0x10c)]+'T'+_0x58e56b[_0x4369ac(0x116)]),_0x54dee1=new Date(),_0x1fab4a=(_0xa15b44-_0x54dee1)/(0x3e8*0x3c*0x3c),_0x4e56b7=coachProfiles[_0x58e56b[_0x4369ac(0x11a)]]&&coachProfiles[_0x58e56b[_0x4369ac(0x11a)]]['cancel_window']?parseInt(coachProfiles[_0x58e56b[_0x4369ac(0x11a)]][_0x4369ac(0xdd)]):0x18;if(_0x4e56b7===0x0||_0x1fab4a>=_0x4e56b7)_0x3e9c25['style'][_0x4369ac(0xa6)]='block',_0x2235d1[_0x4369ac(0xfe)][_0x4369ac(0xa6)]=_0x4369ac(0x143),_0x422996[_0x4369ac(0xfe)]['display']=_0x4369ac(0x169);else{_0x3e9c25[_0x4369ac(0xfe)][_0x4369ac(0xa6)]=_0x4369ac(0x169),_0x2235d1['style']['display']='none',_0x422996[_0x4369ac(0xfe)][_0x4369ac(0xa6)]=_0x4369ac(0x143);let _0x367e5f=_0x4e56b7===0x0?_0x4369ac(0x173):_0x4369ac(0x174)+_0x4e56b7+_0x4369ac(0xfc);_0x422996[_0x4369ac(0x18a)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x367e5f+_0x4369ac(0xeb);}}document['getElementById'](_0x4369ac(0x149))[_0x4369ac(0xad)]['add']('active'),document[_0x4369ac(0xb9)](_0x4369ac(0x172))[_0x4369ac(0xad)][_0x4369ac(0x12e)]('open');}function closeAllSheets(){const _0x1c0279=a3_0x4f4495;document[_0x1c0279(0xb9)](_0x1c0279(0x149))[_0x1c0279(0xad)][_0x1c0279(0xa4)](_0x1c0279(0x159)),document['querySelectorAll']('.sheet')['forEach'](_0x26b8d4=>_0x26b8d4[_0x1c0279(0xad)]['remove'](_0x1c0279(0x15a)));}function openSheet(_0x7986a2){const _0x2bab7e=a3_0x4f4495;document[_0x2bab7e(0xb9)]('overlay')[_0x2bab7e(0xad)][_0x2bab7e(0x12e)](_0x2bab7e(0x159)),document['getElementById'](_0x7986a2)['classList'][_0x2bab7e(0x12e)]('open');}function getLocalDateStr(_0x4c1d83){const _0xd5c6aa=a3_0x4f4495,_0x33ec4d=_0x4c1d83[_0xd5c6aa(0x11e)](),_0x44fa67=String(_0x4c1d83[_0xd5c6aa(0x131)]()+0x1)[_0xd5c6aa(0x138)](0x2,'0'),_0x296ad0=String(_0x4c1d83[_0xd5c6aa(0x17a)]())[_0xd5c6aa(0x138)](0x2,'0');return _0x33ec4d+'-'+_0x44fa67+'-'+_0x296ad0;}function getStartOfWeek(_0x5db71b){const _0x38c309=a3_0x4f4495,_0x2013fe=new Date(_0x5db71b),_0x4c5e7f=_0x2013fe[_0x38c309(0x16e)](),_0x3c48ff=_0x2013fe['getDate']()-_0x4c5e7f+(_0x4c5e7f===0x0?-0x6:0x1);return _0x2013fe[_0x38c309(0xd2)](_0x3c48ff),_0x2013fe[_0x38c309(0x10f)](0x0,0x0,0x0,0x0),_0x2013fe;}function scrollToToday(){const _0x556d19=getLocalDateStr(new Date());setTimeout(()=>{const _0x21b488=a3_0x5e18,_0x41b2ea=document[_0x21b488(0x12a)](_0x21b488(0xaa)+_0x556d19+'\x22]');if(_0x41b2ea){const _0x3b673e=document['getElementById'](_0x21b488(0x180)),_0x1867ba=_0x41b2ea['offsetLeft']-_0x3b673e[_0x21b488(0x137)]/0x2+_0x41b2ea['offsetWidth']/0x2;_0x3b673e[_0x21b488(0xe0)]({'left':_0x1867ba,'behavior':_0x21b488(0xe1)}),_0x3b673e[_0x21b488(0x100)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x5e18(_0x3a8372,_0x40be62){_0x3a8372=_0x3a8372-0xa4;const _0x89d620=a3_0x17f6();let _0x475a83=_0x89d620[_0x3a8372];return _0x475a83;}function updateClock(){const _0x380b35=a3_0x4f4495,_0x42e70a=new Date(),_0x1fec2f=document[_0x380b35(0xb9)](_0x380b35(0xb3)),_0x2621ed=document[_0x380b35(0xb9)](_0x380b35(0x103)),_0x5640a5=(_0x42e70a[_0x380b35(0xda)]()*0x3c+_0x42e70a['getMinutes']())/0x3c*GRID_H;_0x1fec2f['style'][_0x380b35(0x187)]=_0x5640a5+'px',_0x1fec2f[_0x380b35(0xfe)][_0x380b35(0xa6)]='block',_0x2621ed['style']['top']=_0x5640a5+'px',_0x2621ed['style'][_0x380b35(0xa6)]='block',_0x2621ed[_0x380b35(0x18a)]=String(_0x42e70a[_0x380b35(0xda)]())[_0x380b35(0x138)](0x2,'0')+':'+String(_0x42e70a[_0x380b35(0x178)]())[_0x380b35(0x138)](0x2,'0');}function a3_0x17f6(){const _0x3bf6f5=['data','rs-date-chip','.day-column','ready','entries','mini','client_load','3763526gjudhX','anStart','round','settings','\x20—á.','toLocaleDateString','style','v9.5-CLIENT-ANALYTICS','scrollTop','status','blocked-range-part\x20stripe-bg','timeLineBadge','min','var(--acc-blue)','analyticsList','anEnd','syncLoad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','initData','dateStr','backgroundPosition','apply','setHours','</div>','left','innerHTML','detStatus','\x20–≤\x20','map','start','custom','appendChild','7987661jeOefl','coachId','timeColumn','test','rgba(10,\x20132,\x20255,\x20','getFullYear','div','saveLocally','headerMonth','getTime','calc(','applyData','ccTitle','T23:59:59','setBackgroundColor','10JHsDqL','detTime','querySelector','.btn-reschedule','end','8zwqMPL','add','day-off-overlay\x20stripe-bg','borderLeftColor','getMonth','rgba(','daysHeaderTrack','json','5576675mgaZmz','total','clientWidth','padStart','push','querySelectorAll','WebApp','px\x20-','rsSlotsGrid','data-date','get_slots','today','toLocaleString','60RaBsEg','block','slice','value','color','floor','filter','overlay','substr','strokeDashoffset','colIndex','numeric','setItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','scroll','findIndex','<span>','charAt','(((.+)+)+)+$','onclick','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','coach_profiles','284912IyVMNh','active','open','cid','153dJMNmx','substring','pattern','done','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','client-stat-card','day-col-header\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','user','sort','height','</div><div\x20class=\x22rs-day-num\x22>','seriesId','none','exceptions','flex','detNote','Critical\x20TMA\x20Error:','getDay','log','BackButton','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','detailsSheet','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–∑–∞\x20','sid','gridColumns','</div><div\x20class=\x22dch-num\x22>','getMinutes','setAttribute','getDate','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','time-label','day-column\x20','T00:00:00','cancelled','matrixViewport','button','detDate','var(--acc-green)','show','cancelContainer','anTotalStats','top','–û—Ç–º–µ–Ω–µ–Ω–æ','offsetLeft','textContent','max','%\x20-\x204px)','client_cancel','329pfFFmM','fontWeight','POST','<div\x20class=\x22dch-day\x22>','Unknown','insertBefore','ranges','createDocumentFragment','completed','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','customConfirm','600','scrollWidth','remove','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','display','blocked-slot\x20stripe-bg','loadLocal','rsDatesTrack','.day-col-header[data-date=\x22','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','uc_client_settings','classList','toUpperCase','10RbLZyX','scrollLeft','constructor','forEach','globalTimeLine','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','all','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','calendar','getElementById','.period-switch\x20.p-btn','getAttribute','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','anPercent','getItem','#050505','stringify','error','week','.day-col-header','<div\x20class=\x22rs-day-name\x22>','px\x200px','clientId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anDonutCircle','ccText','split','parse','event-card','stopPropagation','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','85566aMVHKS','333159ZRptXv','data-day-idx','setDate','length','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','firstChild','#0a84ff','#ff453a','visible','width','getHours','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','clients','cancel_window','cancelHint','toString','scrollTo','auto','startsWith','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','.btn-cancel','className','long','155272UZvjvU','keys','Telegram','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','%\x20+\x202px)','setMonth','\x20–∏–∑\x20','now','join'];a3_0x17f6=function(){return _0x3bf6f5;};return a3_0x17f6();}function onScroll(){const _0x38d5ad=a3_0x4f4495,_0x47133c=document[_0x38d5ad(0xb9)](_0x38d5ad(0x180)),_0x2108e5=document[_0x38d5ad(0x13a)](_0x38d5ad(0xc3));for(let _0x56b2d8 of _0x2108e5)if(_0x56b2d8[_0x38d5ad(0x189)]>=_0x47133c[_0x38d5ad(0xb0)]){const _0x143779=new Date(_0x56b2d8[_0x38d5ad(0xbb)](_0x38d5ad(0x13e)));document['getElementById'](_0x38d5ad(0x121))[_0x38d5ad(0x18a)]=_0x143779[_0x38d5ad(0x141)]('ru',{'month':'long'})[_0x38d5ad(0xae)]()+'\x20'+_0x143779['getFullYear']();break;}}function showToast(_0x2654c6){const _0x42d1f1=a3_0x4f4495,_0x52809a=document[_0x42d1f1(0xb9)]('toast');_0x52809a[_0x42d1f1(0x18a)]=_0x2654c6,_0x52809a[_0x42d1f1(0xad)]['add'](_0x42d1f1(0x184)),setTimeout(()=>_0x52809a[_0x42d1f1(0xad)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x599ed2=a3_0x4f4495,_0x48f7d2=document[_0x599ed2(0xb9)](_0x599ed2(0x180)),_0x13372c=_0x48f7d2['scrollLeft'],_0x242155=_0x48f7d2[_0x599ed2(0x19a)],_0x488a67=_0x48f7d2['clientWidth'];if(_0x242155-(_0x13372c+_0x488a67)<0x12c){const _0x3261b4=endOffset;endOffset+=0xe,renderDayRange(_0x3261b4+0x1,endOffset),reRenderBlocks();}if(_0x13372c<0x12c){const _0x1421c6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1421c6-0x1),_0x48f7d2[_0x599ed2(0xb0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3def6b,_0x339883){const _0x343d45=a3_0x4f4495,_0x22599d=document[_0x343d45(0xb9)](_0x343d45(0x133)),_0x4b9bc3=document[_0x343d45(0xb9)](_0x343d45(0x176)),_0x5608c8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4a5c42=new Date();_0x4a5c42[_0x343d45(0x10f)](0x0,0x0,0x0,0x0);const _0x58f206=getLocalDateStr(new Date()),_0x4be8fc=document[_0x343d45(0x195)](),_0x4ba5b8=document[_0x343d45(0x195)]();for(let _0x58a368=_0x3def6b;_0x58a368<=_0x339883;_0x58a368++){const _0x5de5c2=new Date(_0x4a5c42);_0x5de5c2[_0x343d45(0xd2)](_0x5de5c2['getDate']()+_0x58a368);const _0xf16aac=getLocalDateStr(_0x5de5c2);let _0x1ba4d4=_0x5de5c2[_0x343d45(0x16e)]()-0x1;if(_0x1ba4d4===-0x1)_0x1ba4d4=0x6;const _0x4e6171=_0xf16aac===_0x58f206,_0x9699=document[_0x343d45(0xe4)](_0x343d45(0x11f));_0x9699[_0x343d45(0xe6)]=_0x343d45(0x162)+(_0x4e6171?_0x343d45(0x140):''),_0x9699[_0x343d45(0x179)](_0x343d45(0x13e),_0xf16aac),_0x9699['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5608c8[_0x1ba4d4]+_0x343d45(0x177)+_0x5de5c2[_0x343d45(0x17a)]()+'</div>',_0x4be8fc[_0x343d45(0x118)](_0x9699);const _0x47b707=document[_0x343d45(0xe4)](_0x343d45(0x11f));_0x47b707[_0x343d45(0xe6)]=_0x343d45(0x17d)+(_0x4e6171?_0x343d45(0x140):''),_0x47b707[_0x343d45(0x179)](_0x343d45(0x13e),_0xf16aac),_0x47b707[_0x343d45(0x179)](_0x343d45(0xd1),_0x1ba4d4),_0x4ba5b8[_0x343d45(0x118)](_0x47b707);}_0x22599d[_0x343d45(0x193)](_0x4be8fc,_0x22599d[_0x343d45(0xd5)]),_0x4b9bc3[_0x343d45(0x193)](_0x4ba5b8,_0x4b9bc3[_0x343d45(0x12a)](_0x343d45(0xf3)));}function hexToRgba(_0x5068a3,_0x562f39){const _0x1620fe=a3_0x4f4495;let _0x2f9ca5;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1620fe(0x11c)](_0x5068a3))return _0x2f9ca5=_0x5068a3[_0x1620fe(0x15d)](0x1)['split'](''),_0x2f9ca5['length']==0x3&&(_0x2f9ca5=[_0x2f9ca5[0x0],_0x2f9ca5[0x0],_0x2f9ca5[0x1],_0x2f9ca5[0x1],_0x2f9ca5[0x2],_0x2f9ca5[0x2]]),_0x2f9ca5='0x'+_0x2f9ca5[_0x1620fe(0xf0)](''),_0x1620fe(0x132)+[_0x2f9ca5>>0x10&0xff,_0x2f9ca5>>0x8&0xff,_0x2f9ca5&0xff][_0x1620fe(0xf0)](',')+','+_0x562f39+')';return _0x1620fe(0x11d)+_0x562f39+')';}let confirmResolver=null;function showCustomConfirm(_0x5b3fee,_0x39f342,_0x14826a=!![]){const _0x1a9bd3=a3_0x4f4495;document['getElementById'](_0x1a9bd3(0x125))[_0x1a9bd3(0x18a)]=_0x5b3fee,document[_0x1a9bd3(0xb9)](_0x1a9bd3(0xc9))[_0x1a9bd3(0x18a)]=_0x39f342;const _0x258062=document[_0x1a9bd3(0xb9)]('ccYesBtn');return _0x14826a?(_0x258062[_0x1a9bd3(0xfe)]['color']=_0x1a9bd3(0xd7),_0x258062['style'][_0x1a9bd3(0x18f)]='600'):(_0x258062[_0x1a9bd3(0xfe)][_0x1a9bd3(0x146)]=_0x1a9bd3(0xd6),_0x258062[_0x1a9bd3(0xfe)][_0x1a9bd3(0x18f)]=_0x1a9bd3(0x199)),new Promise(_0x3e6b7b=>{const _0x4c1e86=_0x1a9bd3;confirmResolver=_0x3e6b7b,document[_0x4c1e86(0xb9)](_0x4c1e86(0x198))[_0x4c1e86(0xad)][_0x4c1e86(0x12e)](_0x4c1e86(0xd8));});}function resolveCustomConfirm(_0x59f493){const _0xe07bfe=a3_0x4f4495;document['getElementById'](_0xe07bfe(0x198))[_0xe07bfe(0xad)]['remove']('visible');if(confirmResolver)confirmResolver(_0x59f493);}async function tryCancelCurrentSession(){const _0xea830=a3_0x4f4495;if(!currentSession)return;const _0x522025=await showCustomConfirm(_0xea830(0xab),_0xea830(0x197),!![]);if(!_0x522025)return;const _0x151309=currentSession;closeAllSheets(),sessions=sessions[_0xea830(0x148)](_0x370d7d=>_0x370d7d['id']!==_0x151309['id']),reRenderBlocks(),showToast(_0xea830(0x188)),lastUserActionTime=Date['now']();try{const _0x23b05c=window['Telegram']?.[_0xea830(0x13b)],_0x58f0a5=await fetch(API_URL,{'method':_0xea830(0x190),'body':JSON[_0xea830(0xc0)]({'action':_0xea830(0x18d),'init_data':_0x23b05c?.[_0xea830(0x10b)]||'','coachId':_0x151309[_0xea830(0x11a)],'dateStr':_0x151309[_0xea830(0x10c)],'sessionId':_0x151309['id']})});if(_0x58f0a5['ok'])DataManager[_0xea830(0x120)]();}catch(_0x1ae85b){showToast(_0xea830(0x163));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5a3413=a3_0x4f4495;if(!currentSession)return;document[_0x5a3413(0xb9)](_0x5a3413(0x172))[_0x5a3413(0xad)][_0x5a3413(0xa4)](_0x5a3413(0x15a)),document[_0x5a3413(0xb9)]('rescheduleSheet')['classList'][_0x5a3413(0x12e)]('open');const _0x35ebaf=document[_0x5a3413(0xb9)](_0x5a3413(0xa9)),_0xf7c67=document[_0x5a3413(0xb9)](_0x5a3413(0x13d));_0x35ebaf[_0x5a3413(0x112)]='',_0xf7c67[_0x5a3413(0x112)]=_0x5a3413(0xa5);const [_0x35b601,_0x515526]=currentSession['start'][_0x5a3413(0xca)](':')[_0x5a3413(0x115)](Number),[_0x4650bf,_0xad5383]=currentSession[_0x5a3413(0x12c)][_0x5a3413(0xca)](':')[_0x5a3413(0x115)](Number),_0x4ad0f2=_0x4650bf*0x3c+_0xad5383-(_0x35b601*0x3c+_0x515526);try{const _0x43f5ed=window[_0x5a3413(0xea)]?.[_0x5a3413(0x13b)],_0x3857be=await fetch(API_URL,{'method':'POST','body':JSON[_0x5a3413(0xc0)]({'action':_0x5a3413(0x13f),'coachId':currentSession[_0x5a3413(0x11a)],'duration':_0x4ad0f2,'init_data':_0x43f5ed?.[_0x5a3413(0x10b)]||'','excludeSessionId':currentSession['id']})}),_0x439104=await _0x3857be['json']();_0x439104['ok']&&_0x439104[_0x5a3413(0xf1)]?(availableSlotsCache=_0x439104[_0x5a3413(0xf1)],renderRescheduleDates()):_0xf7c67[_0x5a3413(0x112)]=_0x5a3413(0xdb);}catch(_0x2a5ce7){_0xf7c67['innerHTML']=_0x5a3413(0x156);}}function renderRescheduleDates(){const _0x12894e=a3_0x4f4495,_0x4af54f=document[_0x12894e(0xb9)](_0x12894e(0xa9));_0x4af54f[_0x12894e(0x112)]='';const _0x427628=Object['keys'](availableSlotsCache)['sort'](),_0x13fb17=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x427628[_0x12894e(0xd3)]===0x0){document[_0x12894e(0xb9)]('rsSlotsGrid')[_0x12894e(0x112)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x427628[_0x12894e(0xb2)]((_0x5ad8c5,_0x266e9b)=>{const _0x3d65c8=_0x12894e,_0x1309c8=new Date(_0x5ad8c5),_0x3ee321=_0x13fb17[_0x1309c8[_0x3d65c8(0x16e)]()],_0x2d5ea3=_0x1309c8[_0x3d65c8(0x17a)](),_0x36ccd1=document[_0x3d65c8(0xe4)](_0x3d65c8(0x11f));_0x36ccd1[_0x3d65c8(0xe6)]=_0x3d65c8(0xf2);if(_0x266e9b===0x0)_0x36ccd1[_0x3d65c8(0xad)]['add'](_0x3d65c8(0x159));_0x36ccd1[_0x3d65c8(0x112)]=_0x3d65c8(0xc4)+_0x3ee321+_0x3d65c8(0x167)+_0x2d5ea3+_0x3d65c8(0x110),_0x36ccd1[_0x3d65c8(0x155)]=()=>selectRsDate(_0x5ad8c5,_0x36ccd1),_0x4af54f[_0x3d65c8(0x118)](_0x36ccd1);}),selectRsDate(_0x427628[0x0],_0x4af54f['firstChild']);}function selectRsDate(_0x32f1ad,_0x29d6da){const _0x56a997=a3_0x4f4495;selectedRsDate=_0x32f1ad,document[_0x56a997(0x13a)]('.rs-date-chip')['forEach'](_0x12642b=>_0x12642b[_0x56a997(0xad)][_0x56a997(0xa4)]('active'));if(_0x29d6da)_0x29d6da['classList']['add'](_0x56a997(0x159));const _0x4e0a2f=document[_0x56a997(0xb9)](_0x56a997(0x13d));_0x4e0a2f['innerHTML']='';const _0x53d094=availableSlotsCache[_0x32f1ad]||[];if(_0x53d094[_0x56a997(0xd3)]===0x0){_0x4e0a2f[_0x56a997(0x112)]=_0x56a997(0xdb);return;}_0x53d094['forEach'](_0x8dfb4=>{const _0x313bb6=_0x56a997,_0x2b51d1=document['createElement'](_0x313bb6(0x181));_0x2b51d1[_0x313bb6(0xe6)]='rs-time-btn',_0x2b51d1['textContent']=_0x8dfb4,_0x2b51d1['onclick']=()=>confirmReschedule(_0x8dfb4),_0x4e0a2f[_0x313bb6(0x118)](_0x2b51d1);});}async function confirmReschedule(_0x3262ec){const _0x40ef9c=a3_0x4f4495,_0x1c561f=new Date(selectedRsDate),_0x2ec8b1=_0x1c561f[_0x40ef9c(0xfd)]('ru-RU',{'day':_0x40ef9c(0x14d),'month':_0x40ef9c(0xe7)}),_0x4a2620=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x40ef9c(0xbc)+_0x2ec8b1+_0x40ef9c(0x114)+_0x3262ec+'?',![]);if(!_0x4a2620)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x40ef9c(0xef)]();const _0x5563a6=currentSession['dateStr'],_0x3520ae=currentSession['id'],[_0x4dfd7f,_0x14f923]=currentSession[_0x40ef9c(0x116)][_0x40ef9c(0xca)](':')[_0x40ef9c(0x115)](Number),[_0x134a6a,_0x157c04]=currentSession[_0x40ef9c(0x12c)][_0x40ef9c(0xca)](':')['map'](Number),_0x227830=_0x134a6a*0x3c+_0x157c04-(_0x4dfd7f*0x3c+_0x14f923),[_0x51e25e,_0x462637]=_0x3262ec[_0x40ef9c(0xca)](':')[_0x40ef9c(0x115)](Number),_0x499de0=_0x51e25e*0x3c+_0x462637+_0x227830,_0x3dd4c6=Math[_0x40ef9c(0x147)](_0x499de0/0x3c),_0x4f0de2=_0x499de0%0x3c,_0x794902=String(_0x3dd4c6)[_0x40ef9c(0x138)](0x2,'0')+':'+String(_0x4f0de2)[_0x40ef9c(0x138)](0x2,'0'),_0x508d20=sessions[_0x40ef9c(0x151)](_0x97ae86=>_0x97ae86['id']===_0x3520ae);_0x508d20!==-0x1&&(sessions[_0x508d20][_0x40ef9c(0x10c)]=selectedRsDate,sessions[_0x508d20][_0x40ef9c(0x116)]=_0x3262ec,sessions[_0x508d20][_0x40ef9c(0x12c)]=_0x794902,reRenderBlocks());try{const _0x43c3f6=window[_0x40ef9c(0xea)]?.[_0x40ef9c(0x13b)],_0x5d8b2d=await fetch(API_URL,{'method':_0x40ef9c(0x190),'body':JSON['stringify']({'action':'reschedule','init_data':_0x43c3f6?.[_0x40ef9c(0x10b)]||'','oldSessionId':_0x3520ae,'oldDate':_0x5563a6,'newDate':selectedRsDate,'newTime':_0x3262ec,'coachId':currentSession[_0x40ef9c(0x11a)]})}),_0x187c79=await _0x5d8b2d[_0x40ef9c(0x134)]();!_0x187c79['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x40ef9c(0x108)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x40ef9c(0x120)]());}catch(_0x1a8448){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener']('DOMContentLoaded',init);