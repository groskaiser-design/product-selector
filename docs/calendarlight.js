const a3_0x38e6dd=a3_0x8dbd;(function(_0x12356c,_0x850133){const _0x30fb67=a3_0x8dbd,_0x54ae91=_0x12356c();while(!![]){try{const _0x46120b=parseInt(_0x30fb67(0xf6))/0x1*(parseInt(_0x30fb67(0x167))/0x2)+-parseInt(_0x30fb67(0x89))/0x3*(parseInt(_0x30fb67(0x16e))/0x4)+-parseInt(_0x30fb67(0x14a))/0x5*(parseInt(_0x30fb67(0x152))/0x6)+-parseInt(_0x30fb67(0xf2))/0x7+parseInt(_0x30fb67(0x8c))/0x8+parseInt(_0x30fb67(0x140))/0x9*(-parseInt(_0x30fb67(0x12c))/0xa)+parseInt(_0x30fb67(0x166))/0xb;if(_0x46120b===_0x850133)break;else _0x54ae91['push'](_0x54ae91['shift']());}catch(_0x1b873c){_0x54ae91['push'](_0x54ae91['shift']());}}}(a3_0x1b01,0x3c87a));const APP_VERSION=a3_0x38e6dd(0xa8),API_URL=a3_0x38e6dd(0xe7),GRID_H=0x3c,KEY_SESSIONS=a3_0x38e6dd(0xe8),KEY_SETTINGS=a3_0x38e6dd(0x12a),KEY_CLIENTS=a3_0x38e6dd(0x9a);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x236a93=a3_0x38e6dd,_0x87a3b9=(function(){let _0xe3b3a3=!![];return function(_0x5f1904,_0x1e9b50){const _0x1d988d=_0xe3b3a3?function(){if(_0x1e9b50){const _0x501e00=_0x1e9b50['apply'](_0x5f1904,arguments);return _0x1e9b50=null,_0x501e00;}}:function(){};return _0xe3b3a3=![],_0x1d988d;};}()),_0x241db5=_0x87a3b9(this,function(){const _0x1a595d=a3_0x8dbd;return _0x241db5[_0x1a595d(0x181)]()[_0x1a595d(0x162)](_0x1a595d(0x137))[_0x1a595d(0x181)]()[_0x1a595d(0xc5)](_0x241db5)[_0x1a595d(0x162)](_0x1a595d(0x137));});_0x241db5();try{const _0x5ec0ec=window[_0x236a93(0xe9)]?.['WebApp'];if(!_0x5ec0ec)return;_0x5ec0ec['ready'](),_0x5ec0ec[_0x236a93(0x17d)]();try{_0x5ec0ec[_0x236a93(0xe6)](_0x236a93(0x138)),_0x5ec0ec[_0x236a93(0xb8)]&&_0x5ec0ec['setBackgroundColor'](_0x236a93(0x138));}catch(_0xeac88c){console['log'](_0x236a93(0xaa),_0xeac88c);}try{_0x5ec0ec['BackButton']&&(_0x5ec0ec[_0x236a93(0xb9)]['show'](),_0x5ec0ec[_0x236a93(0xb9)][_0x236a93(0x107)](),_0x5ec0ec['BackButton'][_0x236a93(0xbc)](function(){const _0x5e705c=_0x236a93;window[_0x5e705c(0x13b)]['href']=_0x5e705c(0x160);}));}catch(_0x4d9a0a){console[_0x236a93(0x15a)]('Error\x20setting\x20back\x20button:',_0x4d9a0a);}try{if(_0x5ec0ec[_0x236a93(0xfb)])_0x5ec0ec[_0x236a93(0xfb)]();}catch(_0x43f9f4){}}catch(_0x152950){console[_0x236a93(0x88)](_0x236a93(0x101),_0x152950);}}());function isAdmin(){const _0x29cf21=a3_0x38e6dd;try{const _0x4a3f96=Number(window[_0x29cf21(0xe9)]?.[_0x29cf21(0x105)]?.[_0x29cf21(0xc1)]?.[_0x29cf21(0xd4)]?.['id']);return _0x4a3f96===0xbaf7174;}catch(_0x1c5436){return![];}}const DataManager={'saveLocally'(){const _0x1fabbd=a3_0x38e6dd;try{localStorage[_0x1fabbd(0xde)](KEY_SESSIONS,JSON[_0x1fabbd(0xf9)](sessions)),localStorage[_0x1fabbd(0xde)](KEY_CLIENTS,JSON[_0x1fabbd(0xf9)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5801af){}},'loadLocal'(){const _0x35d6eb=a3_0x38e6dd;try{const _0x60f49d=localStorage[_0x35d6eb(0x156)](KEY_SESSIONS);if(_0x60f49d)sessions=JSON[_0x35d6eb(0x115)](_0x60f49d);const _0x4d3ff6=localStorage[_0x35d6eb(0x156)](KEY_CLIENTS);if(_0x4d3ff6)clients=JSON[_0x35d6eb(0x115)](_0x4d3ff6);const _0x358570=localStorage[_0x35d6eb(0x156)](KEY_SETTINGS);if(_0x358570){const _0x42707d=JSON[_0x35d6eb(0x115)](_0x358570);if(_0x42707d[_0x35d6eb(0x8d)])availabilityPattern=_0x42707d[_0x35d6eb(0x8d)];if(_0x42707d[_0x35d6eb(0x14b)])specialRanges=_0x42707d[_0x35d6eb(0x14b)];if(_0x42707d[_0x35d6eb(0x114)])dateExceptions=_0x42707d[_0x35d6eb(0x114)];}}catch(_0x57b2b0){}},async 'syncLoad'(){const _0x30754e=a3_0x38e6dd,_0x122f69=new Date(),_0x1ace56=_0x122f69[_0x30754e(0x17b)]()+'-'+String(_0x122f69['getMonth']()+0x1)['padStart'](0x2,'0'),_0x313931=new Date(_0x122f69);_0x313931[_0x30754e(0xa5)](_0x122f69['getMonth']()+0x1);const _0xb42359=_0x313931[_0x30754e(0x17b)]()+'-'+String(_0x313931[_0x30754e(0x135)]()+0x1)[_0x30754e(0xdb)](0x2,'0'),_0x9e9548=Date['now']();try{const _0x170fe7=window[_0x30754e(0xe9)]?.['WebApp'],_0x4fcd04=_0x170fe7?.[_0x30754e(0x11e)]||'',[_0x248b96,_0x16568a]=await Promise['all']([fetch(API_URL,{'method':_0x30754e(0xcb),'body':JSON[_0x30754e(0xf9)]({'action':_0x30754e(0x130),'init_data':_0x4fcd04,'month_str':_0x1ace56})})['then'](_0x5b11b6=>_0x5b11b6[_0x30754e(0xe2)]()),fetch(API_URL,{'method':_0x30754e(0xcb),'body':JSON[_0x30754e(0xf9)]({'action':'client_load','init_data':_0x4fcd04,'month_str':_0xb42359})})[_0x30754e(0xed)](_0x58b3ec=>_0x58b3ec[_0x30754e(0xe2)]())]);if(lastUserActionTime>_0x9e9548){console[_0x30754e(0x15a)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x248b96['ok'])this[_0x30754e(0xab)](_0x248b96[_0x30754e(0x108)],_0x1ace56);if(_0x16568a['ok'])this['applyData'](_0x16568a[_0x30754e(0x108)],_0xb42359);this['saveLocally']();}catch(_0x434af6){}},'applyData'(_0x3009eb,_0x4a3225){const _0x3db2c2=a3_0x38e6dd;if(!_0x3009eb)return;if(_0x3009eb[_0x3db2c2(0x17c)]){if(_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x8d)])availabilityPattern=_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x8d)];if(_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x14b)])specialRanges=_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x14b)];if(_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x114)])dateExceptions=_0x3009eb[_0x3db2c2(0x17c)][_0x3db2c2(0x114)];}if(_0x3009eb[_0x3db2c2(0xef)]&&Array['isArray'](_0x3009eb['clients']))clients=_0x3009eb[_0x3db2c2(0xef)];_0x3009eb[_0x3db2c2(0x12d)]&&(coachProfiles={...coachProfiles,..._0x3009eb[_0x3db2c2(0x12d)]}),_0x3009eb[_0x3db2c2(0xc8)]&&(sessions=sessions[_0x3db2c2(0xee)](_0x5a7c83=>!_0x5a7c83['dateStr'][_0x3db2c2(0xb6)](_0x4a3225)),Object['keys'](_0x3009eb['calendar'])[_0x3db2c2(0xa6)](_0x3521a9=>{const _0x3835e8=_0x3db2c2,_0x1eac64=_0x3009eb[_0x3835e8(0xc8)][_0x3521a9];_0x1eac64[_0x3835e8(0xa6)](_0x3bfe2b=>{const _0x398900=_0x3835e8;sessions['push']({'id':_0x3bfe2b['i'],'clientId':_0x3bfe2b['c'],'coachId':_0x3bfe2b[_0x398900(0x145)],'dateStr':_0x4a3225+'-'+_0x3521a9[_0x398900(0xdb)](0x2,'0'),'start':_0x3bfe2b['s'],'end':_0x3bfe2b['e'],'note':_0x3bfe2b['n']||'','status':_0x3bfe2b['st']||'planned','seriesId':_0x3bfe2b[_0x398900(0xcf)]});});})),reRenderBlocks();}};function init(){const _0x2237c8=a3_0x38e6dd;DataManager[_0x2237c8(0xd2)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2237c8(0x15d)](_0x2237c8(0x142))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2237c8(0x134)]();}function a3_0x1b01(){const _0x4151ae=['WebApp','detTime','offClick','data','timeLineBadge','map','cancelContainer','rescheduleSheet','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','getHours','offsetWidth','blocked-range-part\x20stripe-bg','\x20status-completed','getDate','exceptions','parse','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','charAt','textContent','getTime','timeColumn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','onclick','initData','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','test','anStart','keys','getMinutes','.period-switch\x20.p-btn','#0a84ff','analyticsList','scrollWidth','clientWidth','querySelectorAll','uc_client_settings','rgba(10,\x20132,\x20255,\x20','80sKagvJ','coach_profiles','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','style','client_load','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','day-column\x20','value','syncLoad','getMonth','add','(((.+)+)+)+$','#050505','numeric','detDate','location','week','ccYesBtn','total','%\x20-\x204px)','274977QWRORq','done','matrixViewport','today','display','cid','backgroundPosition','appendChild','detNote','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','6230ceXGNd','ranges','setHours','length','createDocumentFragment','firstChild','cancel_window','globalTimeLine','2076NoLDnz','show','%\x20+\x202px)','cancelled','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','zIndex','div','log','.btn-reschedule','scrollTop','getElementById','offsetLeft','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','router.html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','auto','className','strokeDashoffset','11781099VyPwWK','745728jytpOZ','visible','rs-time-btn','rsSlotsGrid','toLocaleDateString','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','get_slots','48fIfRHR','height','</div><div\x20class=\x22rs-day-num\x22>','block','substring','borderLeftColor','getAttribute','none','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','scrollTo','color','ru-RU','sort','getFullYear','settings','expand','DOMContentLoaded','width','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','toString','setDate','createElement','error','85320WtcmRO','flex','getDay','1617168hCSbtR','pattern','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','month','\x20-\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','seriesId','remove','var(--acc-blue)','detailsSheet','analyticsSheet',':00</span>','uc_client_list','toast','data-day-idx','top','daysHeaderTrack','ccText','mini','classList','stopPropagation','setAttribute','backgroundColor','setMonth','forEach','querySelector','v9.5-CLIENT-ANALYTICS','ccTitle','Error\x20setting\x20color:','applyData','–∑–∞\x20','scrollLeft','#ff453a','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','\x20–∏–∑\x20','gridColumns','dateStr','anCustomDates','max','anEnd','startsWith','active','setBackgroundColor','BackButton','substr','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','onClick','px\x20-','round','rs-date-chip','start','initDataUnsafe','<div\x20class=\x22dch-day\x22>','split','–û—Ç–º–µ–Ω–µ–Ω–æ','constructor','clientId','find','calendar','rsDatesTrack','day-col-header\x20','POST','</span>\x20/\x20','overlay','coachId','sid','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','Unknown','loadLocal','now','user','blocked-slot\x20stripe-bg','join','status','push','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','padStart','<div\x20class=\x22rs-day-name\x22>','completed','setItem','600','end','long','json','data-date','colIndex','cancelHint','setHeaderColor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','uc_client_sessions','Telegram','\x20–≤\x20','fontWeight','customConfirm','then','filter','clients','client-stat-card','open','2668883SqcVsY','calc(','T23:59:59','anTotalStats','1znEork','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22dch-num\x22>','stringify','client_cancel','disableVerticalSwipes','innerHTML','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toLocaleString','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','anPercent','Critical\x20TMA\x20Error:','.day-column','button','</div>'];a3_0x1b01=function(){return _0x4151ae;};return a3_0x1b01();}function renderTimeColumn(){const _0x20f464=a3_0x38e6dd,_0x3afc08=document[_0x20f464(0x15d)](_0x20f464(0x11a)),_0x130fba=document['getElementById'](_0x20f464(0x109));_0x3afc08[_0x20f464(0xfc)]='',_0x3afc08[_0x20f464(0x147)](_0x130fba);for(let _0x2e8f4b=0x0;_0x2e8f4b<0x18;_0x2e8f4b++){const _0x742f05=document[_0x20f464(0x87)](_0x20f464(0x159));_0x742f05[_0x20f464(0x164)]='time-label';if(_0x2e8f4b>0x0)_0x742f05['innerHTML']='<span>'+String(_0x2e8f4b)[_0x20f464(0xdb)](0x2,'0')+_0x20f464(0x99);_0x3afc08[_0x20f464(0x147)](_0x742f05);}}function renderDayRange(_0x3b38ed,_0x36060e){const _0x4b5418=a3_0x38e6dd,_0x11c5a3=document[_0x4b5418(0x15d)](_0x4b5418(0x9e)),_0x444000=document[_0x4b5418(0x15d)](_0x4b5418(0xb1)),_0x4f620b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xa3f41b=new Date();_0xa3f41b[_0x4b5418(0x14c)](0x0,0x0,0x0,0x0);const _0x50d521=getLocalDateStr(new Date());for(let _0x3c5f62=_0x3b38ed;_0x3c5f62<=_0x36060e;_0x3c5f62++){const _0x9a278d=new Date(_0xa3f41b);_0x9a278d[_0x4b5418(0x182)](_0x9a278d[_0x4b5418(0x113)]()+_0x3c5f62);const _0xfc5522=getLocalDateStr(_0x9a278d);let _0x26ad1b=_0x9a278d['getDay']()-0x1;if(_0x26ad1b===-0x1)_0x26ad1b=0x6;const _0x5995b8=_0xfc5522===_0x50d521,_0x2d5277=document[_0x4b5418(0x87)]('div');_0x2d5277[_0x4b5418(0x164)]=_0x4b5418(0xca)+(_0x5995b8?_0x4b5418(0x143):''),_0x2d5277[_0x4b5418(0xa3)](_0x4b5418(0xe3),_0xfc5522),_0x2d5277[_0x4b5418(0xfc)]=_0x4b5418(0xc2)+_0x4f620b[_0x26ad1b]+_0x4b5418(0xf8)+_0x9a278d[_0x4b5418(0x113)]()+_0x4b5418(0x104),_0x11c5a3[_0x4b5418(0x147)](_0x2d5277);const _0x14ac4c=document[_0x4b5418(0x87)](_0x4b5418(0x159));_0x14ac4c[_0x4b5418(0x164)]=_0x4b5418(0x132)+(_0x5995b8?_0x4b5418(0x143):''),_0x14ac4c['setAttribute'](_0x4b5418(0xe3),_0xfc5522),_0x14ac4c[_0x4b5418(0xa3)]('data-day-idx',_0x26ad1b),_0x444000[_0x4b5418(0x147)](_0x14ac4c);}}function reRenderBlocks(){const _0x486dd4=a3_0x38e6dd;document['querySelectorAll'](_0x486dd4(0x102))[_0x486dd4(0xa6)](_0x28f6d1=>{const _0x3a7da1=_0x486dd4;_0x28f6d1[_0x3a7da1(0x129)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x3a7da1(0xa6)](_0x2493e6=>_0x2493e6[_0x3a7da1(0x95)]());const _0x493b03=_0x28f6d1[_0x3a7da1(0x174)](_0x3a7da1(0xe3)),_0x236c75=parseInt(_0x28f6d1[_0x3a7da1(0x174)](_0x3a7da1(0x9c))),_0x3ce3dc=Math[_0x3a7da1(0xbe)](_0x28f6d1[_0x3a7da1(0x15e)]);(availabilityPattern[_0x236c75]||[])[_0x3a7da1(0xa6)](_0x23cc58=>{const _0x2240e0=_0x3a7da1,_0x21b65a=document[_0x2240e0(0x87)](_0x2240e0(0x159));_0x21b65a['className']=_0x2240e0(0xd5),_0x21b65a['style'][_0x2240e0(0x9d)]=_0x23cc58*GRID_H+'px',_0x21b65a[_0x2240e0(0x12f)][_0x2240e0(0x146)]='-'+_0x3ce3dc+_0x2240e0(0xbd)+_0x23cc58*GRID_H+'px',_0x28f6d1['appendChild'](_0x21b65a);});if(specialRanges[_0x3a7da1(0x14d)]>0x0){const _0x260566=new Date(_0x493b03+'T00:00:00')[_0x3a7da1(0x119)](),_0x1c9a03=new Date(_0x493b03+_0x3a7da1(0xf4))[_0x3a7da1(0x119)]();specialRanges[_0x3a7da1(0xa6)](_0x58de79=>{const _0x1cbb72=_0x3a7da1,_0x3f4ab1=new Date(_0x58de79[_0x1cbb72(0xc0)])[_0x1cbb72(0x119)](),_0x28b491=new Date(_0x58de79['end'])[_0x1cbb72(0x119)](),_0xc27bb3=Math['max'](_0x260566,_0x3f4ab1),_0x1f3933=Math['min'](_0x1c9a03,_0x28b491);if(_0xc27bb3<_0x1f3933){const _0xde227c=(_0xc27bb3-_0x260566)/0x36ee80*GRID_H,_0x53a853=(_0x1f3933-_0xc27bb3)/0x36ee80*GRID_H,_0x4c26ac=document[_0x1cbb72(0x87)](_0x1cbb72(0x159));_0x53a853>=23.5*GRID_H?(_0x4c26ac[_0x1cbb72(0x164)]='day-off-overlay\x20stripe-bg',_0x4c26ac[_0x1cbb72(0x12f)][_0x1cbb72(0x146)]='-'+_0x3ce3dc+'px\x200px'):(_0x4c26ac[_0x1cbb72(0x164)]=_0x1cbb72(0x111),_0x4c26ac[_0x1cbb72(0x12f)][_0x1cbb72(0x9d)]=_0xde227c+'px',_0x4c26ac[_0x1cbb72(0x12f)][_0x1cbb72(0x16f)]=_0x53a853+'px',_0x4c26ac[_0x1cbb72(0x12f)][_0x1cbb72(0x146)]='-'+_0x3ce3dc+'px\x20-'+_0xde227c+'px'),_0x28f6d1[_0x1cbb72(0x147)](_0x4c26ac);}});}renderEventsForColumn(_0x28f6d1,_0x493b03);});}function renderEventsForColumn(_0x43c438,_0xb85d89){const _0x158051=a3_0x38e6dd,_0x1f5475=sessions[_0x158051(0xee)](_0x2bb19a=>_0x2bb19a[_0x158051(0xb2)]===_0xb85d89),_0xf4bca2=_0x1f5475['map'](_0x6c54ae=>{const _0x20ed35=_0x158051,[_0x4e8636,_0x57892a]=_0x6c54ae[_0x20ed35(0xc0)][_0x20ed35(0xc3)](':')[_0x20ed35(0x10a)](Number),[_0x1bb577,_0x5bc5d9]=_0x6c54ae[_0x20ed35(0xe0)][_0x20ed35(0xc3)](':')[_0x20ed35(0x10a)](Number);return{'data':_0x6c54ae,'start':_0x4e8636*0x3c+_0x57892a,'end':_0x1bb577*0x3c+_0x5bc5d9,'colIndex':0x0};});_0xf4bca2[_0x158051(0x17a)]((_0x5d56b3,_0x1b6b5e)=>_0x5d56b3[_0x158051(0xc0)]-_0x1b6b5e[_0x158051(0xc0)]||_0x1b6b5e[_0x158051(0xe0)]-_0x1b6b5e['start']-(_0x5d56b3[_0x158051(0xe0)]-_0x5d56b3[_0x158051(0xc0)]));const _0x76db04=[];_0xf4bca2[_0x158051(0xa6)](_0x348287=>{const _0x40624b=_0x158051;let _0x545d22=![];for(let _0x28078e=0x0;_0x28078e<_0x76db04[_0x40624b(0x14d)];_0x28078e++){const _0x3424af=_0x76db04[_0x28078e];if(_0x348287['start']>=_0x3424af[_0x3424af[_0x40624b(0x14d)]-0x1][_0x40624b(0xe0)]){_0x3424af[_0x40624b(0xd8)](_0x348287),_0x348287[_0x40624b(0xe4)]=_0x28078e,_0x545d22=!![];break;}}!_0x545d22&&(_0x76db04['push']([_0x348287]),_0x348287[_0x40624b(0xe4)]=_0x76db04[_0x40624b(0x14d)]-0x1);}),_0xf4bca2['forEach'](_0x7dcd2c=>{const _0x2f1d59=_0x158051;let _0x506de8=0x0;_0xf4bca2[_0x2f1d59(0xa6)](_0x5d0941=>{const _0x75fc08=_0x2f1d59;if(Math[_0x75fc08(0xb4)](_0x7dcd2c[_0x75fc08(0xc0)],_0x5d0941[_0x75fc08(0xc0)])<Math['min'](_0x7dcd2c[_0x75fc08(0xe0)],_0x5d0941[_0x75fc08(0xe0)])&&_0x5d0941['colIndex']>_0x506de8)_0x506de8=_0x5d0941[_0x75fc08(0xe4)];});const _0x34601c=_0x506de8+0x1,_0x2e72f0=0x64/_0x34601c,_0x51795f=_0x7dcd2c[_0x2f1d59(0xe4)]*_0x2e72f0,_0x2167b8=document[_0x2f1d59(0x87)](_0x2f1d59(0x159)),_0x19a2cd=_0x7dcd2c['data'];let _0x249822=_0x2f1d59(0x125);if(clients&&clients[_0x2f1d59(0x14d)]>0x0){const _0x4f9c0f=clients[_0x2f1d59(0xc7)](_0x2cb759=>String(_0x2cb759['id'])===String(_0x19a2cd[_0x2f1d59(0xc6)]));if(_0x4f9c0f&&_0x4f9c0f[_0x2f1d59(0x178)])_0x249822=_0x4f9c0f[_0x2f1d59(0x178)];}const _0x1d0398=_0x19a2cd[_0x2f1d59(0xd7)]===_0x2f1d59(0xdd),_0x20872e=_0x1d0398?0x1:0.45;_0x2167b8[_0x2f1d59(0x164)]='event-card'+(_0x1d0398?_0x2f1d59(0x112):''),_0x2167b8[_0x2f1d59(0x12f)][_0x2f1d59(0xa4)]=hexToRgba(_0x249822,_0x20872e),_0x2167b8[_0x2f1d59(0x12f)]['borderLeftColor']=_0x249822;const _0x549669=_0x7dcd2c[_0x2f1d59(0xc0)]/0x3c*GRID_H,_0x531b2c=(_0x7dcd2c[_0x2f1d59(0xe0)]-_0x7dcd2c[_0x2f1d59(0xc0)])/0x3c*GRID_H;_0x2167b8[_0x2f1d59(0x12f)][_0x2f1d59(0x9d)]=_0x549669+'px',_0x2167b8[_0x2f1d59(0x12f)]['height']=Math[_0x2f1d59(0xb4)](_0x531b2c,0x14)+'px',_0x2167b8['style'][_0x2f1d59(0x17f)]=_0x2f1d59(0xf3)+_0x2e72f0+_0x2f1d59(0x13f),_0x2167b8[_0x2f1d59(0x12f)]['left']='calc('+_0x51795f+_0x2f1d59(0x154),_0x2167b8[_0x2f1d59(0x12f)][_0x2f1d59(0x158)]=0xa+_0x7dcd2c[_0x2f1d59(0xe4)];if(_0x2e72f0<0x55)_0x2167b8[_0x2f1d59(0xa1)]['add'](_0x2f1d59(0xa0));let _0x3c78b5='';if(_0x19a2cd[_0x2f1d59(0x94)])_0x3c78b5+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x1d0398)_0x3c78b5+=_0x2f1d59(0x157);_0x2167b8['innerHTML']=_0x2f1d59(0x8f)+_0x19a2cd['start']+_0x2f1d59(0x91)+_0x19a2cd['end']+_0x2f1d59(0xf7)+_0x3c78b5+_0x2f1d59(0x161),_0x2167b8[_0x2f1d59(0x11d)]=_0x4dd241=>{const _0xcc1188=_0x2f1d59;_0x4dd241[_0xcc1188(0xa2)](),openDetails(_0x19a2cd);},_0x43c438[_0x2f1d59(0x147)](_0x2167b8);});}function openAnalytics(){const _0x145dd1=a3_0x38e6dd,_0x4fdf44=document[_0x145dd1(0xa7)](_0x145dd1(0x124));setAnalyticsPeriod(_0x145dd1(0x13c),_0x4fdf44),openSheet(_0x145dd1(0x98));}function setAnalyticsPeriod(_0x13bb78,_0x2c172d){const _0x3a0125=a3_0x38e6dd;currentAnPeriod=_0x13bb78,document[_0x3a0125(0x129)]('.period-switch\x20.p-btn')[_0x3a0125(0xa6)](_0x16cba6=>_0x16cba6[_0x3a0125(0xa1)][_0x3a0125(0x95)](_0x3a0125(0xb7)));if(_0x2c172d)_0x2c172d[_0x3a0125(0xa1)]['add'](_0x3a0125(0xb7));const _0x2265cf=document[_0x3a0125(0x15d)](_0x3a0125(0xb3));_0x2265cf[_0x3a0125(0x12f)][_0x3a0125(0x144)]=_0x13bb78==='custom'?_0x3a0125(0x8a):'none';const _0x5a1de2=new Date();let _0x353196=new Date(),_0x1d7455=new Date();if(_0x13bb78===_0x3a0125(0x13c))_0x353196=getStartOfWeek(_0x5a1de2),_0x1d7455=new Date(_0x353196),_0x1d7455['setDate'](_0x1d7455[_0x3a0125(0x113)]()+0x6);else{if(_0x13bb78===_0x3a0125(0x90))_0x353196=new Date(_0x5a1de2[_0x3a0125(0x17b)](),_0x5a1de2[_0x3a0125(0x135)](),0x1),_0x1d7455=new Date(_0x5a1de2[_0x3a0125(0x17b)](),_0x5a1de2[_0x3a0125(0x135)]()+0x1,0x0);else{!document[_0x3a0125(0x15d)](_0x3a0125(0x121))[_0x3a0125(0x133)]&&(document[_0x3a0125(0x15d)](_0x3a0125(0x121))['value']=getLocalDateStr(_0x5a1de2),document[_0x3a0125(0x15d)](_0x3a0125(0xb5))['value']=getLocalDateStr(_0x5a1de2));refreshAnalytics();return;}}document[_0x3a0125(0x15d)](_0x3a0125(0x121))[_0x3a0125(0x133)]=getLocalDateStr(_0x353196),document[_0x3a0125(0x15d)](_0x3a0125(0xb5))[_0x3a0125(0x133)]=getLocalDateStr(_0x1d7455),refreshAnalytics();}function refreshAnalytics(){const _0x3be5fb=a3_0x38e6dd,_0x3a3bbd=document['getElementById'](_0x3be5fb(0x121))[_0x3be5fb(0x133)],_0x404c45=document[_0x3be5fb(0x15d)]('anEnd')[_0x3be5fb(0x133)];if(!_0x3a3bbd||!_0x404c45)return;const _0x3cd2d1=sessions[_0x3be5fb(0xee)](_0x129f61=>_0x129f61[_0x3be5fb(0xb2)]>=_0x3a3bbd&&_0x129f61[_0x3be5fb(0xb2)]<=_0x404c45&&_0x129f61['status']!==_0x3be5fb(0x155)),_0x12fdeb=_0x3cd2d1['length'],_0x444e83=_0x3cd2d1[_0x3be5fb(0xee)](_0x439bba=>_0x439bba[_0x3be5fb(0xd7)]==='completed')[_0x3be5fb(0x14d)],_0x2c9116=_0x12fdeb>0x0?Math[_0x3be5fb(0xbe)](_0x444e83/_0x12fdeb*0x64):0x0;document[_0x3be5fb(0x15d)](_0x3be5fb(0x100))[_0x3be5fb(0x118)]=_0x2c9116+'%',document[_0x3be5fb(0x15d)](_0x3be5fb(0xf5))[_0x3be5fb(0x118)]=_0x444e83+_0x3be5fb(0xb0)+_0x12fdeb+_0x3be5fb(0x92);const _0x261032=document[_0x3be5fb(0x15d)]('anDonutCircle'),_0x543a6c=0x2*Math['PI']*0x23,_0x4226ad=_0x543a6c-_0x2c9116/0x64*_0x543a6c;_0x261032['style'][_0x3be5fb(0x165)]=_0x4226ad;const _0x2d2827={};_0x3cd2d1[_0x3be5fb(0xa6)](_0x5d0658=>{const _0x47f8b9=_0x3be5fb,_0x5b08ea=_0x5d0658[_0x47f8b9(0xce)]||_0x47f8b9(0xd1);if(!_0x2d2827[_0x5b08ea]){const _0x1ff0fa='#'+_0x5b08ea[_0x47f8b9(0x181)]()[_0x47f8b9(0xba)](0x0,0x6);_0x2d2827[_0x5b08ea]={'total':0x0,'done':0x0,'color':_0x1ff0fa};}_0x2d2827[_0x5b08ea][_0x47f8b9(0x13e)]++;if(_0x5d0658[_0x47f8b9(0xd7)]===_0x47f8b9(0xdd))_0x2d2827[_0x5b08ea][_0x47f8b9(0x141)]++;});const _0x452237=document[_0x3be5fb(0x15d)](_0x3be5fb(0x126));_0x452237[_0x3be5fb(0xfc)]='';const _0x5804e3=Object['entries'](_0x2d2827)[_0x3be5fb(0x17a)]((_0x549b11,_0x11bc15)=>_0x11bc15[0x1][_0x3be5fb(0x13e)]-_0x549b11[0x1][_0x3be5fb(0x13e)]);if(_0x5804e3[_0x3be5fb(0x14d)]===0x0){_0x452237['innerHTML']=_0x3be5fb(0x16c);return;}_0x5804e3[_0x3be5fb(0xa6)](([_0x56aab9,_0x1f437d])=>{const _0x31ccdd=_0x3be5fb,_0x16804d=Math[_0x31ccdd(0xbe)](_0x1f437d[_0x31ccdd(0x141)]/_0x1f437d[_0x31ccdd(0x13e)]*0x64),_0x33af22=document[_0x31ccdd(0x87)](_0x31ccdd(0x159));_0x33af22[_0x31ccdd(0x164)]=_0x31ccdd(0xf0),_0x33af22[_0x31ccdd(0x12f)][_0x31ccdd(0x173)]=_0x1f437d[_0x31ccdd(0x178)],_0x33af22[_0x31ccdd(0xfc)]=_0x31ccdd(0x131)+_0x56aab9[_0x31ccdd(0xba)](0x0,0x5)+_0x31ccdd(0x11b)+_0x1f437d[_0x31ccdd(0x141)]+_0x31ccdd(0xcc)+_0x1f437d['total']+_0x31ccdd(0x15f)+_0x16804d+_0x31ccdd(0xd9),_0x452237[_0x31ccdd(0x147)](_0x33af22);});}function openDetails(_0x1c7204){const _0x15c5ff=a3_0x38e6dd;currentSession=_0x1c7204;const _0x2a2fd9=new Date(_0x1c7204[_0x15c5ff(0xb2)]),_0x26b79b=_0x2a2fd9[_0x15c5ff(0x16b)](_0x15c5ff(0x179),{'weekday':_0x15c5ff(0xe1),'day':_0x15c5ff(0x139),'month':_0x15c5ff(0xe1)});document[_0x15c5ff(0x15d)](_0x15c5ff(0x13a))[_0x15c5ff(0x118)]=_0x26b79b[_0x15c5ff(0x117)](0x0)['toUpperCase']()+_0x26b79b['slice'](0x1),document[_0x15c5ff(0x15d)](_0x15c5ff(0x106))['textContent']=_0x1c7204[_0x15c5ff(0xc0)]+_0x15c5ff(0x91)+_0x1c7204['end'],document['getElementById'](_0x15c5ff(0x148))['textContent']=_0x1c7204['note']||_0x15c5ff(0xbb);const _0x57aba7=document['getElementById']('detStatus'),_0x4ad684=document[_0x15c5ff(0x15d)](_0x15c5ff(0x10b)),_0x12ffc4=_0x4ad684[_0x15c5ff(0xa7)]('.btn-cancel'),_0x57ae1a=_0x4ad684[_0x15c5ff(0xa7)](_0x15c5ff(0x15b)),_0x35d951=document[_0x15c5ff(0x15d)](_0x15c5ff(0xe5));if(_0x1c7204[_0x15c5ff(0xd7)]===_0x15c5ff(0xdd))_0x57aba7['textContent']=_0x15c5ff(0x176),_0x57aba7[_0x15c5ff(0x12f)][_0x15c5ff(0x178)]='var(--acc-green)',_0x4ad684[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]=_0x15c5ff(0x175);else{_0x57aba7[_0x15c5ff(0x118)]=_0x15c5ff(0xfd),_0x57aba7[_0x15c5ff(0x12f)][_0x15c5ff(0x178)]=_0x15c5ff(0x96),_0x4ad684[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]=_0x15c5ff(0x171);const _0x81faed=new Date(_0x1c7204['dateStr']+'T'+_0x1c7204[_0x15c5ff(0xc0)]),_0x50768f=new Date(),_0x2e7010=(_0x81faed-_0x50768f)/(0x3e8*0x3c*0x3c),_0x29372f=coachProfiles[_0x1c7204['coachId']]&&coachProfiles[_0x1c7204[_0x15c5ff(0xce)]][_0x15c5ff(0x150)]?parseInt(coachProfiles[_0x1c7204[_0x15c5ff(0xce)]][_0x15c5ff(0x150)]):0x18;if(_0x29372f===0x0||_0x2e7010>=_0x29372f)_0x12ffc4[_0x15c5ff(0x12f)]['display']=_0x15c5ff(0x171),_0x57ae1a[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]='block',_0x35d951[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]='none';else{_0x12ffc4[_0x15c5ff(0x12f)]['display']=_0x15c5ff(0x175),_0x57ae1a[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]=_0x15c5ff(0x175),_0x35d951[_0x15c5ff(0x12f)][_0x15c5ff(0x144)]=_0x15c5ff(0x171);let _0x17eff9=_0x29372f===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x15c5ff(0xac)+_0x29372f+'\x20—á.';_0x35d951[_0x15c5ff(0x118)]=_0x15c5ff(0x10d)+_0x17eff9+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x15c5ff(0x15d)]('overlay')[_0x15c5ff(0xa1)][_0x15c5ff(0x136)](_0x15c5ff(0xb7)),document[_0x15c5ff(0x15d)](_0x15c5ff(0x97))[_0x15c5ff(0xa1)][_0x15c5ff(0x136)]('open');}function a3_0x8dbd(_0xcb5f90,_0x558c62){_0xcb5f90=_0xcb5f90-0x87;const _0x2ca791=a3_0x1b01();let _0x3d9cf0=_0x2ca791[_0xcb5f90];return _0x3d9cf0;}function closeAllSheets(){const _0x304592=a3_0x38e6dd;document[_0x304592(0x15d)](_0x304592(0xcd))[_0x304592(0xa1)][_0x304592(0x95)]('active'),document['querySelectorAll']('.sheet')[_0x304592(0xa6)](_0x1e0c0f=>_0x1e0c0f[_0x304592(0xa1)][_0x304592(0x95)](_0x304592(0xf1)));}function openSheet(_0x16c33b){const _0x1f5c59=a3_0x38e6dd;document[_0x1f5c59(0x15d)](_0x1f5c59(0xcd))['classList'][_0x1f5c59(0x136)]('active'),document[_0x1f5c59(0x15d)](_0x16c33b)[_0x1f5c59(0xa1)][_0x1f5c59(0x136)](_0x1f5c59(0xf1));}function getLocalDateStr(_0x5dd742){const _0x4dd50b=a3_0x38e6dd,_0x4fdd40=_0x5dd742['getFullYear'](),_0x49285d=String(_0x5dd742[_0x4dd50b(0x135)]()+0x1)[_0x4dd50b(0xdb)](0x2,'0'),_0x2cd7a8=String(_0x5dd742[_0x4dd50b(0x113)]())[_0x4dd50b(0xdb)](0x2,'0');return _0x4fdd40+'-'+_0x49285d+'-'+_0x2cd7a8;}function getStartOfWeek(_0x32d3f5){const _0x483f6d=a3_0x38e6dd,_0x288e30=new Date(_0x32d3f5),_0x98656b=_0x288e30[_0x483f6d(0x8b)](),_0x4a2709=_0x288e30[_0x483f6d(0x113)]()-_0x98656b+(_0x98656b===0x0?-0x6:0x1);return _0x288e30[_0x483f6d(0x182)](_0x4a2709),_0x288e30[_0x483f6d(0x14c)](0x0,0x0,0x0,0x0),_0x288e30;}function scrollToToday(){const _0x359dff=getLocalDateStr(new Date());setTimeout(()=>{const _0x167615=a3_0x8dbd,_0x586e3a=document[_0x167615(0xa7)]('.day-col-header[data-date=\x22'+_0x359dff+'\x22]');if(_0x586e3a){const _0x328fe3=document[_0x167615(0x15d)]('matrixViewport'),_0x7f43d6=_0x586e3a['offsetLeft']-_0x328fe3[_0x167615(0x128)]/0x2+_0x586e3a[_0x167615(0x110)]/0x2;_0x328fe3[_0x167615(0x177)]({'left':_0x7f43d6,'behavior':_0x167615(0x163)}),_0x328fe3[_0x167615(0x15c)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x12e565=a3_0x38e6dd,_0x42a38c=new Date(),_0x202872=document[_0x12e565(0x15d)](_0x12e565(0x151)),_0x5c20a0=document[_0x12e565(0x15d)]('timeLineBadge'),_0x190e4a=(_0x42a38c[_0x12e565(0x10f)]()*0x3c+_0x42a38c[_0x12e565(0x123)]())/0x3c*GRID_H;_0x202872[_0x12e565(0x12f)][_0x12e565(0x9d)]=_0x190e4a+'px',_0x202872[_0x12e565(0x12f)][_0x12e565(0x144)]=_0x12e565(0x171),_0x5c20a0[_0x12e565(0x12f)]['top']=_0x190e4a+'px',_0x5c20a0['style']['display']='block',_0x5c20a0[_0x12e565(0x118)]=String(_0x42a38c['getHours']())[_0x12e565(0xdb)](0x2,'0')+':'+String(_0x42a38c[_0x12e565(0x123)]())['padStart'](0x2,'0');}function onScroll(){const _0x2f6e9c=a3_0x38e6dd,_0x4d6a10=document[_0x2f6e9c(0x15d)](_0x2f6e9c(0x142)),_0x4e4eef=document[_0x2f6e9c(0x129)](_0x2f6e9c(0x8e));for(let _0xd50b89 of _0x4e4eef)if(_0xd50b89[_0x2f6e9c(0x15e)]>=_0x4d6a10['scrollLeft']){const _0x1fca3d=new Date(_0xd50b89['getAttribute']('data-date'));document['getElementById']('headerMonth')[_0x2f6e9c(0x118)]=_0x1fca3d[_0x2f6e9c(0xfe)]('ru',{'month':_0x2f6e9c(0xe1)})['toUpperCase']()+'\x20'+_0x1fca3d[_0x2f6e9c(0x17b)]();break;}}function showToast(_0x43b7a2){const _0x26df65=a3_0x38e6dd,_0x342808=document[_0x26df65(0x15d)](_0x26df65(0x9b));_0x342808['textContent']=_0x43b7a2,_0x342808[_0x26df65(0xa1)][_0x26df65(0x136)](_0x26df65(0x153)),setTimeout(()=>_0x342808[_0x26df65(0xa1)][_0x26df65(0x95)](_0x26df65(0x153)),0x7d0);}function handleInfiniteScroll(){const _0x4061ba=a3_0x38e6dd,_0x4dd9f0=document['getElementById']('matrixViewport'),_0x21f42c=_0x4dd9f0['scrollLeft'],_0x47825c=_0x4dd9f0[_0x4061ba(0x127)],_0xfbb3ae=_0x4dd9f0[_0x4061ba(0x128)];if(_0x47825c-(_0x21f42c+_0xfbb3ae)<0x12c){const _0x2e6f90=endOffset;endOffset+=0xe,renderDayRange(_0x2e6f90+0x1,endOffset),reRenderBlocks();}if(_0x21f42c<0x12c){const _0x74df66=startOffset;startOffset-=0xe,prependDays(startOffset,_0x74df66-0x1),_0x4dd9f0[_0x4061ba(0xad)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2bebc4,_0x25ffbd){const _0x51a0f4=a3_0x38e6dd,_0x43e8fb=document['getElementById'](_0x51a0f4(0x9e)),_0x42d5d7=document[_0x51a0f4(0x15d)]('gridColumns'),_0x1bf0f3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x450df8=new Date();_0x450df8[_0x51a0f4(0x14c)](0x0,0x0,0x0,0x0);const _0x581826=getLocalDateStr(new Date()),_0x3c5ea4=document['createDocumentFragment'](),_0x1bdb15=document[_0x51a0f4(0x14e)]();for(let _0x33e2bc=_0x2bebc4;_0x33e2bc<=_0x25ffbd;_0x33e2bc++){const _0x1829c4=new Date(_0x450df8);_0x1829c4['setDate'](_0x1829c4[_0x51a0f4(0x113)]()+_0x33e2bc);const _0x5f3431=getLocalDateStr(_0x1829c4);let _0x107b87=_0x1829c4['getDay']()-0x1;if(_0x107b87===-0x1)_0x107b87=0x6;const _0x15eff8=_0x5f3431===_0x581826,_0x3cbe76=document[_0x51a0f4(0x87)](_0x51a0f4(0x159));_0x3cbe76['className']=_0x51a0f4(0xca)+(_0x15eff8?_0x51a0f4(0x143):''),_0x3cbe76[_0x51a0f4(0xa3)](_0x51a0f4(0xe3),_0x5f3431),_0x3cbe76[_0x51a0f4(0xfc)]=_0x51a0f4(0xc2)+_0x1bf0f3[_0x107b87]+_0x51a0f4(0xf8)+_0x1829c4[_0x51a0f4(0x113)]()+_0x51a0f4(0x104),_0x3c5ea4[_0x51a0f4(0x147)](_0x3cbe76);const _0x4d75d3=document[_0x51a0f4(0x87)](_0x51a0f4(0x159));_0x4d75d3[_0x51a0f4(0x164)]='day-column\x20'+(_0x15eff8?_0x51a0f4(0x143):''),_0x4d75d3['setAttribute']('data-date',_0x5f3431),_0x4d75d3[_0x51a0f4(0xa3)](_0x51a0f4(0x9c),_0x107b87),_0x1bdb15['appendChild'](_0x4d75d3);}_0x43e8fb['insertBefore'](_0x3c5ea4,_0x43e8fb[_0x51a0f4(0x14f)]),_0x42d5d7['insertBefore'](_0x1bdb15,_0x42d5d7[_0x51a0f4(0xa7)](_0x51a0f4(0x102)));}function hexToRgba(_0xf66ba9,_0x2eea83){const _0x3d6c46=a3_0x38e6dd;let _0x437f90;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3d6c46(0x120)](_0xf66ba9))return _0x437f90=_0xf66ba9[_0x3d6c46(0x172)](0x1)['split'](''),_0x437f90['length']==0x3&&(_0x437f90=[_0x437f90[0x0],_0x437f90[0x0],_0x437f90[0x1],_0x437f90[0x1],_0x437f90[0x2],_0x437f90[0x2]]),_0x437f90='0x'+_0x437f90[_0x3d6c46(0xd6)](''),'rgba('+[_0x437f90>>0x10&0xff,_0x437f90>>0x8&0xff,_0x437f90&0xff]['join'](',')+','+_0x2eea83+')';return _0x3d6c46(0x12b)+_0x2eea83+')';}let confirmResolver=null;function showCustomConfirm(_0x202621,_0x3b9693,_0x29b445=!![]){const _0x26c67c=a3_0x38e6dd;document[_0x26c67c(0x15d)](_0x26c67c(0xa9))[_0x26c67c(0x118)]=_0x202621,document['getElementById'](_0x26c67c(0x9f))[_0x26c67c(0x118)]=_0x3b9693;const _0x437359=document[_0x26c67c(0x15d)](_0x26c67c(0x13d));return _0x29b445?(_0x437359[_0x26c67c(0x12f)]['color']=_0x26c67c(0xae),_0x437359[_0x26c67c(0x12f)][_0x26c67c(0xeb)]='600'):(_0x437359[_0x26c67c(0x12f)][_0x26c67c(0x178)]=_0x26c67c(0x125),_0x437359[_0x26c67c(0x12f)][_0x26c67c(0xeb)]=_0x26c67c(0xdf)),new Promise(_0x1bffb4=>{const _0x6a66d5=_0x26c67c;confirmResolver=_0x1bffb4,document[_0x6a66d5(0x15d)](_0x6a66d5(0xec))[_0x6a66d5(0xa1)][_0x6a66d5(0x136)](_0x6a66d5(0x168));});}function resolveCustomConfirm(_0x58711b){const _0x296d77=a3_0x38e6dd;document[_0x296d77(0x15d)]('customConfirm')[_0x296d77(0xa1)]['remove'](_0x296d77(0x168));if(confirmResolver)confirmResolver(_0x58711b);}async function tryCancelCurrentSession(){const _0x297d5e=a3_0x38e6dd;if(!currentSession)return;const _0x2ef801=await showCustomConfirm(_0x297d5e(0x12e),_0x297d5e(0xd0),!![]);if(!_0x2ef801)return;const _0x236f7d=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x33bfad=>_0x33bfad['id']!==_0x236f7d['id']),reRenderBlocks(),showToast(_0x297d5e(0xc4)),lastUserActionTime=Date[_0x297d5e(0xd3)]();try{const _0x470ecf=window[_0x297d5e(0xe9)]?.['WebApp'],_0xe96f4d=await fetch(API_URL,{'method':_0x297d5e(0xcb),'body':JSON['stringify']({'action':_0x297d5e(0xfa),'init_data':_0x470ecf?.['initData']||'','coachId':_0x236f7d[_0x297d5e(0xce)],'dateStr':_0x236f7d['dateStr'],'sessionId':_0x236f7d['id']})});if(_0xe96f4d['ok'])DataManager['saveLocally']();}catch(_0x57eafb){showToast(_0x297d5e(0x11c));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x29e65c=a3_0x38e6dd;if(!currentSession)return;document[_0x29e65c(0x15d)](_0x29e65c(0x97))[_0x29e65c(0xa1)][_0x29e65c(0x95)]('open'),document[_0x29e65c(0x15d)](_0x29e65c(0x10c))[_0x29e65c(0xa1)][_0x29e65c(0x136)]('open');const _0x3aabaa=document[_0x29e65c(0x15d)](_0x29e65c(0xc9)),_0x188bf3=document[_0x29e65c(0x15d)](_0x29e65c(0x16a));_0x3aabaa[_0x29e65c(0xfc)]='',_0x188bf3['innerHTML']=_0x29e65c(0x180);const [_0x3e428c,_0x179320]=currentSession[_0x29e65c(0xc0)][_0x29e65c(0xc3)](':')[_0x29e65c(0x10a)](Number),[_0x50ef33,_0x4583a5]=currentSession[_0x29e65c(0xe0)][_0x29e65c(0xc3)](':')[_0x29e65c(0x10a)](Number),_0x540579=_0x50ef33*0x3c+_0x4583a5-(_0x3e428c*0x3c+_0x179320);try{const _0x4352f4=window[_0x29e65c(0xe9)]?.['WebApp'],_0x504e55=await fetch(API_URL,{'method':'POST','body':JSON[_0x29e65c(0xf9)]({'action':_0x29e65c(0x16d),'coachId':currentSession[_0x29e65c(0xce)],'duration':_0x540579,'init_data':_0x4352f4?.[_0x29e65c(0x11e)]||'','excludeSessionId':currentSession['id']})}),_0x583f64=await _0x504e55['json']();_0x583f64['ok']&&_0x583f64[_0x29e65c(0x108)]?(availableSlotsCache=_0x583f64[_0x29e65c(0x108)],renderRescheduleDates()):_0x188bf3[_0x29e65c(0xfc)]=_0x29e65c(0x149);}catch(_0x3c6512){_0x188bf3['innerHTML']=_0x29e65c(0x116);}}function renderRescheduleDates(){const _0x2233b9=a3_0x38e6dd,_0x4e65e5=document[_0x2233b9(0x15d)]('rsDatesTrack');_0x4e65e5[_0x2233b9(0xfc)]='';const _0x13807c=Object[_0x2233b9(0x122)](availableSlotsCache)['sort'](),_0x5dcdf6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x13807c[_0x2233b9(0x14d)]===0x0){document[_0x2233b9(0x15d)](_0x2233b9(0x16a))[_0x2233b9(0xfc)]=_0x2233b9(0xda);return;}_0x13807c[_0x2233b9(0xa6)]((_0x5dc411,_0x3171b1)=>{const _0x37eca7=_0x2233b9,_0x3bf0c7=new Date(_0x5dc411),_0x25d8eb=_0x5dcdf6[_0x3bf0c7[_0x37eca7(0x8b)]()],_0x57de77=_0x3bf0c7[_0x37eca7(0x113)](),_0x507d44=document[_0x37eca7(0x87)](_0x37eca7(0x159));_0x507d44[_0x37eca7(0x164)]=_0x37eca7(0xbf);if(_0x3171b1===0x0)_0x507d44[_0x37eca7(0xa1)][_0x37eca7(0x136)](_0x37eca7(0xb7));_0x507d44[_0x37eca7(0xfc)]=_0x37eca7(0xdc)+_0x25d8eb+_0x37eca7(0x170)+_0x57de77+_0x37eca7(0x104),_0x507d44[_0x37eca7(0x11d)]=()=>selectRsDate(_0x5dc411,_0x507d44),_0x4e65e5[_0x37eca7(0x147)](_0x507d44);}),selectRsDate(_0x13807c[0x0],_0x4e65e5[_0x2233b9(0x14f)]);}function selectRsDate(_0x2e387f,_0x18c236){const _0x435367=a3_0x38e6dd;selectedRsDate=_0x2e387f,document[_0x435367(0x129)]('.rs-date-chip')[_0x435367(0xa6)](_0x4dc062=>_0x4dc062[_0x435367(0xa1)]['remove'](_0x435367(0xb7)));if(_0x18c236)_0x18c236[_0x435367(0xa1)][_0x435367(0x136)](_0x435367(0xb7));const _0x41bbed=document[_0x435367(0x15d)](_0x435367(0x16a));_0x41bbed[_0x435367(0xfc)]='';const _0x1f6f2c=availableSlotsCache[_0x2e387f]||[];if(_0x1f6f2c['length']===0x0){_0x41bbed[_0x435367(0xfc)]=_0x435367(0x149);return;}_0x1f6f2c['forEach'](_0x2513c1=>{const _0x1b84da=_0x435367,_0x2e1308=document[_0x1b84da(0x87)](_0x1b84da(0x103));_0x2e1308['className']=_0x1b84da(0x169),_0x2e1308[_0x1b84da(0x118)]=_0x2513c1,_0x2e1308['onclick']=()=>confirmReschedule(_0x2513c1),_0x41bbed['appendChild'](_0x2e1308);});}async function confirmReschedule(_0x2bc408){const _0x5a7446=a3_0x38e6dd,_0x32b6db=new Date(selectedRsDate),_0x53cf6c=_0x32b6db['toLocaleDateString'](_0x5a7446(0x179),{'day':_0x5a7446(0x139),'month':_0x5a7446(0xe1)}),_0x3c591e=await showCustomConfirm(_0x5a7446(0x93),_0x5a7446(0x11f)+_0x53cf6c+_0x5a7446(0xea)+_0x2bc408+'?',![]);if(!_0x3c591e)return;closeAllSheets(),showToast(_0x5a7446(0xff)),lastUserActionTime=Date[_0x5a7446(0xd3)]();const _0x4886d2=currentSession['dateStr'],_0x3ec8e0=currentSession['id'],[_0xebb70b,_0x18ec66]=currentSession[_0x5a7446(0xc0)][_0x5a7446(0xc3)](':')[_0x5a7446(0x10a)](Number),[_0x495fdc,_0x40edfd]=currentSession[_0x5a7446(0xe0)][_0x5a7446(0xc3)](':')[_0x5a7446(0x10a)](Number),_0x49a0c9=_0x495fdc*0x3c+_0x40edfd-(_0xebb70b*0x3c+_0x18ec66),[_0x3c136d,_0x522185]=_0x2bc408[_0x5a7446(0xc3)](':')['map'](Number),_0x5354e3=_0x3c136d*0x3c+_0x522185+_0x49a0c9,_0x5a8569=Math['floor'](_0x5354e3/0x3c),_0x254f43=_0x5354e3%0x3c,_0x29f81e=String(_0x5a8569)[_0x5a7446(0xdb)](0x2,'0')+':'+String(_0x254f43)[_0x5a7446(0xdb)](0x2,'0'),_0x3f3bab=sessions['findIndex'](_0x348ba7=>_0x348ba7['id']===_0x3ec8e0);_0x3f3bab!==-0x1&&(sessions[_0x3f3bab][_0x5a7446(0xb2)]=selectedRsDate,sessions[_0x3f3bab][_0x5a7446(0xc0)]=_0x2bc408,sessions[_0x3f3bab]['end']=_0x29f81e,reRenderBlocks());try{const _0x1a1005=window[_0x5a7446(0xe9)]?.[_0x5a7446(0x105)],_0x4bd612=await fetch(API_URL,{'method':_0x5a7446(0xcb),'body':JSON[_0x5a7446(0xf9)]({'action':'reschedule','init_data':_0x1a1005?.[_0x5a7446(0x11e)]||'','oldSessionId':_0x3ec8e0,'oldDate':_0x4886d2,'newDate':selectedRsDate,'newTime':_0x2bc408,'coachId':currentSession[_0x5a7446(0xce)]})}),_0x12081a=await _0x4bd612[_0x5a7446(0xe2)]();!_0x12081a['ok']?(showToast(_0x5a7446(0xaf)),DataManager[_0x5a7446(0x134)]()):(showToast(_0x5a7446(0x10e)),DataManager['saveLocally']());}catch(_0x1a87d6){showToast(_0x5a7446(0x11c));}}document['addEventListener'](a3_0x38e6dd(0x17e),init);