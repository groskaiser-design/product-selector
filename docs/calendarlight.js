const a3_0x25b13e=a3_0x5594;(function(_0x4fc839,_0x34dfe6){const _0x9dab2b=a3_0x5594,_0x592df4=_0x4fc839();while(!![]){try{const _0x390e46=parseInt(_0x9dab2b(0x1c5))/0x1*(parseInt(_0x9dab2b(0x212))/0x2)+-parseInt(_0x9dab2b(0x21f))/0x3+-parseInt(_0x9dab2b(0x1fe))/0x4+-parseInt(_0x9dab2b(0x2a8))/0x5*(-parseInt(_0x9dab2b(0x1d9))/0x6)+-parseInt(_0x9dab2b(0x1d2))/0x7*(parseInt(_0x9dab2b(0x223))/0x8)+-parseInt(_0x9dab2b(0x1f9))/0x9+parseInt(_0x9dab2b(0x1c4))/0xa;if(_0x390e46===_0x34dfe6)break;else _0x592df4['push'](_0x592df4['shift']());}catch(_0x1bfdf0){_0x592df4['push'](_0x592df4['shift']());}}}(a3_0x11b0,0xd49ab));const APP_VERSION=a3_0x25b13e(0x271),API_URL=a3_0x25b13e(0x24e),GRID_H=0x3c,KEY_SESSIONS=a3_0x25b13e(0x1ec),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x25b13e(0x2a4);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x25b13e(0x1ee),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x120755=a3_0x25b13e,_0x197d00=(function(){let _0x42edfe=!![];return function(_0x5ae93f,_0x4d1949){const _0x3d4e37=_0x42edfe?function(){const _0x574d1e=a3_0x5594;if(_0x4d1949){const _0x5f1b0e=_0x4d1949[_0x574d1e(0x2b1)](_0x5ae93f,arguments);return _0x4d1949=null,_0x5f1b0e;}}:function(){};return _0x42edfe=![],_0x3d4e37;};}()),_0x4ef8d3=_0x197d00(this,function(){const _0x10bb09=a3_0x5594;return _0x4ef8d3[_0x10bb09(0x275)]()[_0x10bb09(0x26d)]('(((.+)+)+)+$')[_0x10bb09(0x275)]()[_0x10bb09(0x213)](_0x4ef8d3)[_0x10bb09(0x26d)](_0x10bb09(0x26f));});_0x4ef8d3();try{const _0x5d8b8c=window[_0x120755(0x281)]?.[_0x120755(0x24c)];if(!_0x5d8b8c)return;_0x5d8b8c[_0x120755(0x1f1)](),_0x5d8b8c[_0x120755(0x266)]();try{_0x5d8b8c[_0x120755(0x25b)]('#050505'),_0x5d8b8c[_0x120755(0x2ae)]&&_0x5d8b8c['setBackgroundColor'](_0x120755(0x278));}catch(_0x59afd0){console[_0x120755(0x22c)](_0x120755(0x24a),_0x59afd0);}try{_0x5d8b8c['BackButton']&&(_0x5d8b8c[_0x120755(0x255)][_0x120755(0x284)](),_0x5d8b8c[_0x120755(0x255)][_0x120755(0x270)](),_0x5d8b8c[_0x120755(0x255)][_0x120755(0x2a1)](function(){const _0x4a8934=_0x120755;window['location'][_0x4a8934(0x268)]='router.html';}));}catch(_0x1645fc){console[_0x120755(0x22c)]('Error\x20setting\x20back\x20button:',_0x1645fc);}try{if(_0x5d8b8c[_0x120755(0x1e8)])_0x5d8b8c['disableVerticalSwipes']();}catch(_0x236a58){}}catch(_0x305f3f){console[_0x120755(0x2b5)]('Critical\x20TMA\x20Error:',_0x305f3f);}}());function isAdmin(){const _0x1d1d71=a3_0x25b13e;try{const _0x47abf2=Number(window[_0x1d1d71(0x281)]?.[_0x1d1d71(0x24c)]?.[_0x1d1d71(0x247)]?.[_0x1d1d71(0x2aa)]?.['id']);return _0x47abf2===0xbaf7174;}catch(_0x22ee3e){return![];}}const DataManager={'saveLocally'(){const _0x502357=a3_0x25b13e;try{localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x502357(0x282)](KEY_CLIENTS,JSON[_0x502357(0x1f0)](clients)),localStorage[_0x502357(0x282)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4629a2){}},'loadLocal'(){const _0x5db81c=a3_0x25b13e;try{const _0x2c7331=localStorage[_0x5db81c(0x1ff)](KEY_SESSIONS);if(_0x2c7331)sessions=JSON['parse'](_0x2c7331);const _0x10d33f=localStorage[_0x5db81c(0x1ff)](KEY_CLIENTS);if(_0x10d33f)clients=JSON[_0x5db81c(0x20a)](_0x10d33f);const _0xbab84b=localStorage['getItem'](KEY_SETTINGS);if(_0xbab84b){const _0x2b920d=JSON[_0x5db81c(0x20a)](_0xbab84b);if(_0x2b920d[_0x5db81c(0x294)])availabilityPattern=_0x2b920d['pattern'];if(_0x2b920d[_0x5db81c(0x221)])specialRanges=_0x2b920d[_0x5db81c(0x221)];if(_0x2b920d[_0x5db81c(0x289)])dateExceptions=_0x2b920d[_0x5db81c(0x289)];}}catch(_0x4d6068){}},async 'syncLoad'(){const _0x2171eb=a3_0x25b13e,_0x27d1b2=new Date(),_0x3ee732=_0x27d1b2[_0x2171eb(0x204)]()+'-'+String(_0x27d1b2[_0x2171eb(0x2ac)]()+0x1)[_0x2171eb(0x1ed)](0x2,'0'),_0x52b99c=new Date(_0x27d1b2);_0x52b99c['setMonth'](_0x27d1b2[_0x2171eb(0x2ac)]()+0x1);const _0x516d47=_0x52b99c[_0x2171eb(0x204)]()+'-'+String(_0x52b99c['getMonth']()+0x1)[_0x2171eb(0x1ed)](0x2,'0'),_0x15656f=Date['now']();try{const _0x2a8510=window['Telegram']?.['WebApp'],_0x88d40=_0x2a8510?.[_0x2171eb(0x1d8)]||'',[_0x2b138a,_0x2d9a80]=await Promise[_0x2171eb(0x299)]([fetch(API_URL,{'method':'POST','body':JSON[_0x2171eb(0x1f0)]({'action':'client_load','init_data':_0x88d40,'month_str':_0x3ee732})})['then'](_0x54f61a=>_0x54f61a[_0x2171eb(0x1fd)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x88d40,'month_str':_0x516d47})})[_0x2171eb(0x28f)](_0x28c40e=>_0x28c40e[_0x2171eb(0x1fd)]())]);if(lastUserActionTime>_0x15656f){console[_0x2171eb(0x22c)](_0x2171eb(0x228));return;}if(_0x2b138a['ok'])this[_0x2171eb(0x25c)](_0x2b138a[_0x2171eb(0x256)],_0x3ee732);if(_0x2d9a80['ok'])this[_0x2171eb(0x25c)](_0x2d9a80[_0x2171eb(0x256)],_0x516d47);this[_0x2171eb(0x1e6)]();}catch(_0x3cdc06){}},'applyData'(_0x4970d2,_0x2bf635){const _0x3f374b=a3_0x25b13e;if(!_0x4970d2)return;if(_0x4970d2['settings']){if(_0x4970d2[_0x3f374b(0x1dd)][_0x3f374b(0x294)])availabilityPattern=_0x4970d2[_0x3f374b(0x1dd)][_0x3f374b(0x294)];if(_0x4970d2[_0x3f374b(0x1dd)][_0x3f374b(0x221)])specialRanges=_0x4970d2['settings'][_0x3f374b(0x221)];if(_0x4970d2['settings'][_0x3f374b(0x289)])dateExceptions=_0x4970d2['settings'][_0x3f374b(0x289)];}if(_0x4970d2[_0x3f374b(0x1f6)]&&Array['isArray'](_0x4970d2[_0x3f374b(0x1f6)]))clients=_0x4970d2[_0x3f374b(0x1f6)];_0x4970d2[_0x3f374b(0x2a2)]&&(coachProfiles={...coachProfiles,..._0x4970d2['coach_profiles']}),_0x4970d2[_0x3f374b(0x297)]&&(sessions=sessions['filter'](_0x18103f=>!_0x18103f[_0x3f374b(0x1c1)]['startsWith'](_0x2bf635)),Object[_0x3f374b(0x22f)](_0x4970d2[_0x3f374b(0x297)])[_0x3f374b(0x1d4)](_0x530762=>{const _0x383067=_0x3f374b,_0x36950b=_0x4970d2['calendar'][_0x530762];_0x36950b[_0x383067(0x1d4)](_0x41d0f1=>{const _0x3b8927=_0x383067;sessions[_0x3b8927(0x227)]({'id':_0x41d0f1['i'],'clientId':_0x41d0f1['c'],'coachId':_0x41d0f1[_0x3b8927(0x231)],'dateStr':_0x2bf635+'-'+_0x530762[_0x3b8927(0x1ed)](0x2,'0'),'start':_0x41d0f1['s'],'end':_0x41d0f1['e'],'note':_0x41d0f1['n']||'','status':_0x41d0f1['st']||'planned','seriesId':_0x41d0f1[_0x3b8927(0x1fc)]});});})),reRenderBlocks();}};function init(){const _0x1eb84f=a3_0x25b13e;DataManager[_0x1eb84f(0x201)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1eb84f(0x225)]('matrixViewport')['addEventListener'](_0x1eb84f(0x1be),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x229f41=a3_0x25b13e,_0x19c69c=document[_0x229f41(0x225)](_0x229f41(0x264)),_0x2a3d49=document[_0x229f41(0x225)](_0x229f41(0x1fb));_0x19c69c[_0x229f41(0x290)]='',_0x19c69c[_0x229f41(0x1f4)](_0x2a3d49);for(let _0xbe03f0=0x0;_0xbe03f0<0x18;_0xbe03f0++){const _0x3d9c00=document[_0x229f41(0x272)](_0x229f41(0x293));_0x3d9c00[_0x229f41(0x1da)]=_0x229f41(0x21b);if(_0xbe03f0>0x0)_0x3d9c00['innerHTML']=_0x229f41(0x249)+String(_0xbe03f0)[_0x229f41(0x1ed)](0x2,'0')+_0x229f41(0x29d);_0x19c69c[_0x229f41(0x1f4)](_0x3d9c00);}}function renderDayRange(_0x2d096e,_0x27b083){const _0x565e2c=a3_0x25b13e,_0x54c1d9=document[_0x565e2c(0x225)](_0x565e2c(0x20d)),_0x108521=document['getElementById']('gridColumns'),_0x1af39e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x7cd417=new Date();_0x7cd417[_0x565e2c(0x20b)](0x0,0x0,0x0,0x0);const _0x34887f=getLocalDateStr(new Date());for(let _0x49f6e6=_0x2d096e;_0x49f6e6<=_0x27b083;_0x49f6e6++){const _0x29de33=new Date(_0x7cd417);_0x29de33[_0x565e2c(0x240)](_0x29de33[_0x565e2c(0x279)]()+_0x49f6e6);const _0x26f882=getLocalDateStr(_0x29de33);let _0xb8b9ce=_0x29de33[_0x565e2c(0x29e)]()-0x1;if(_0xb8b9ce===-0x1)_0xb8b9ce=0x6;const _0x514c23=_0x26f882===_0x34887f,_0xca6382=document['createElement']('div');_0xca6382[_0x565e2c(0x1da)]=_0x565e2c(0x251)+(_0x514c23?'today':''),_0xca6382[_0x565e2c(0x21c)](_0x565e2c(0x23b),_0x26f882),_0xca6382[_0x565e2c(0x290)]=_0x565e2c(0x27d)+_0x1af39e[_0xb8b9ce]+_0x565e2c(0x1f3)+_0x29de33[_0x565e2c(0x279)]()+_0x565e2c(0x239),_0x54c1d9['appendChild'](_0xca6382);const _0xdfac39=document[_0x565e2c(0x272)](_0x565e2c(0x293));_0xdfac39[_0x565e2c(0x1da)]=_0x565e2c(0x25d)+(_0x514c23?'today':''),_0xdfac39[_0x565e2c(0x21c)](_0x565e2c(0x23b),_0x26f882),_0xdfac39[_0x565e2c(0x21c)]('data-day-idx',_0xb8b9ce),_0x108521[_0x565e2c(0x1f4)](_0xdfac39);}}function reRenderBlocks(){const _0x732dab=a3_0x25b13e;document[_0x732dab(0x234)]('.day-column')[_0x732dab(0x1d4)](_0x2e31ed=>{const _0x1cdf9f=_0x732dab;_0x2e31ed['querySelectorAll'](_0x1cdf9f(0x1dc))[_0x1cdf9f(0x1d4)](_0x437929=>_0x437929[_0x1cdf9f(0x244)]());const _0xe011a4=_0x2e31ed[_0x1cdf9f(0x295)](_0x1cdf9f(0x23b)),_0x11e0ff=parseInt(_0x2e31ed[_0x1cdf9f(0x295)](_0x1cdf9f(0x2b3))),_0x382738=Math[_0x1cdf9f(0x219)](_0x2e31ed[_0x1cdf9f(0x28e)]);(availabilityPattern[_0x11e0ff]||[])[_0x1cdf9f(0x1d4)](_0x2c2b0e=>{const _0x2ac431=_0x1cdf9f,_0x2138ae=document[_0x2ac431(0x272)](_0x2ac431(0x293));_0x2138ae[_0x2ac431(0x1da)]=_0x2ac431(0x23a),_0x2138ae[_0x2ac431(0x2a7)][_0x2ac431(0x1eb)]=_0x2c2b0e*GRID_H+'px',_0x2138ae['style'][_0x2ac431(0x245)]='-'+_0x382738+_0x2ac431(0x1d3)+_0x2c2b0e*GRID_H+'px',_0x2e31ed[_0x2ac431(0x1f4)](_0x2138ae);});if(specialRanges[_0x1cdf9f(0x23d)]>0x0){const _0x370ab2=new Date(_0xe011a4+_0x1cdf9f(0x27c))[_0x1cdf9f(0x257)](),_0x16ba80=new Date(_0xe011a4+_0x1cdf9f(0x1e7))[_0x1cdf9f(0x257)]();specialRanges['forEach'](_0x76877c=>{const _0x4c0cc1=_0x1cdf9f,_0x53975a=new Date(_0x76877c['start'])[_0x4c0cc1(0x257)](),_0x5eb00b=new Date(_0x76877c[_0x4c0cc1(0x2a0)])[_0x4c0cc1(0x257)](),_0x52ddb6=Math[_0x4c0cc1(0x292)](_0x370ab2,_0x53975a),_0x3b8563=Math[_0x4c0cc1(0x254)](_0x16ba80,_0x5eb00b);if(_0x52ddb6<_0x3b8563){const _0x27d637=(_0x52ddb6-_0x370ab2)/0x36ee80*GRID_H,_0x739048=(_0x3b8563-_0x52ddb6)/0x36ee80*GRID_H,_0x31329f=document[_0x4c0cc1(0x272)](_0x4c0cc1(0x293));_0x739048>=23.5*GRID_H?(_0x31329f[_0x4c0cc1(0x1da)]=_0x4c0cc1(0x27f),_0x31329f['style']['backgroundPosition']='-'+_0x382738+_0x4c0cc1(0x265)):(_0x31329f[_0x4c0cc1(0x1da)]=_0x4c0cc1(0x1c0),_0x31329f[_0x4c0cc1(0x2a7)][_0x4c0cc1(0x1eb)]=_0x27d637+'px',_0x31329f['style'][_0x4c0cc1(0x287)]=_0x739048+'px',_0x31329f['style'][_0x4c0cc1(0x245)]='-'+_0x382738+'px\x20-'+_0x27d637+'px'),_0x2e31ed['appendChild'](_0x31329f);}});}renderEventsForColumn(_0x2e31ed,_0xe011a4);});}function renderEventsForColumn(_0x35afbc,_0x37ea1d){const _0x4db639=a3_0x25b13e,_0xdc905d=sessions[_0x4db639(0x237)](_0x4d1c10=>_0x4d1c10['dateStr']===_0x37ea1d),_0x375aac=_0xdc905d['map'](_0x4d0b62=>{const _0x1201d5=_0x4db639,[_0x190e1b,_0x48d260]=_0x4d0b62[_0x1201d5(0x1c6)][_0x1201d5(0x1f7)](':')['map'](Number),[_0x5ef39a,_0x32f6cd]=_0x4d0b62[_0x1201d5(0x2a0)][_0x1201d5(0x1f7)](':')[_0x1201d5(0x29f)](Number);return{'data':_0x4d0b62,'start':_0x190e1b*0x3c+_0x48d260,'end':_0x5ef39a*0x3c+_0x32f6cd,'colIndex':0x0};});_0x375aac['sort']((_0x5922da,_0x4a2da7)=>_0x5922da[_0x4db639(0x1c6)]-_0x4a2da7[_0x4db639(0x1c6)]||_0x4a2da7[_0x4db639(0x2a0)]-_0x4a2da7['start']-(_0x5922da[_0x4db639(0x2a0)]-_0x5922da[_0x4db639(0x1c6)]));const _0xa576a9=[];_0x375aac['forEach'](_0x442458=>{const _0x291f70=_0x4db639;let _0x44a569=![];for(let _0x185696=0x0;_0x185696<_0xa576a9[_0x291f70(0x23d)];_0x185696++){const _0x75a24c=_0xa576a9[_0x185696];if(_0x442458[_0x291f70(0x1c6)]>=_0x75a24c[_0x75a24c[_0x291f70(0x23d)]-0x1]['end']){_0x75a24c['push'](_0x442458),_0x442458['colIndex']=_0x185696,_0x44a569=!![];break;}}!_0x44a569&&(_0xa576a9[_0x291f70(0x227)]([_0x442458]),_0x442458[_0x291f70(0x2a9)]=_0xa576a9[_0x291f70(0x23d)]-0x1);}),_0x375aac[_0x4db639(0x1d4)](_0x58ec74=>{const _0x188b64=_0x4db639;let _0x20352b=0x0;_0x375aac[_0x188b64(0x1d4)](_0x17b95f=>{const _0x4c3786=_0x188b64;if(Math[_0x4c3786(0x292)](_0x58ec74['start'],_0x17b95f['start'])<Math['min'](_0x58ec74[_0x4c3786(0x2a0)],_0x17b95f[_0x4c3786(0x2a0)])&&_0x17b95f[_0x4c3786(0x2a9)]>_0x20352b)_0x20352b=_0x17b95f[_0x4c3786(0x2a9)];});const _0x221f52=_0x20352b+0x1,_0x27ecde=0x64/_0x221f52,_0x55ef7a=_0x58ec74[_0x188b64(0x2a9)]*_0x27ecde,_0x1e26d9=document[_0x188b64(0x272)](_0x188b64(0x293)),_0x34e422=_0x58ec74[_0x188b64(0x256)];let _0x1863f5=_0x188b64(0x1d5);if(clients&&clients[_0x188b64(0x23d)]>0x0){const _0x44cbb1=clients[_0x188b64(0x274)](_0x3a66a4=>String(_0x3a66a4['id'])===String(_0x34e422[_0x188b64(0x1f5)]));if(_0x44cbb1&&_0x44cbb1[_0x188b64(0x28b)])_0x1863f5=_0x44cbb1[_0x188b64(0x28b)];}const _0x539688=_0x34e422[_0x188b64(0x28a)]===_0x188b64(0x226),_0x5a9a50=_0x539688?0x1:0.45;_0x1e26d9[_0x188b64(0x1da)]=_0x188b64(0x216)+(_0x539688?_0x188b64(0x205):''),_0x1e26d9[_0x188b64(0x2a7)][_0x188b64(0x208)]=hexToRgba(_0x1863f5,_0x5a9a50),_0x1e26d9[_0x188b64(0x2a7)][_0x188b64(0x25a)]=_0x1863f5;const _0x2f90b4=_0x58ec74[_0x188b64(0x1c6)]/0x3c*GRID_H,_0x4e005b=(_0x58ec74['end']-_0x58ec74[_0x188b64(0x1c6)])/0x3c*GRID_H;_0x1e26d9['style'][_0x188b64(0x1eb)]=_0x2f90b4+'px',_0x1e26d9['style'][_0x188b64(0x287)]=Math['max'](_0x4e005b,0x14)+'px',_0x1e26d9[_0x188b64(0x2a7)][_0x188b64(0x22d)]='calc('+_0x27ecde+_0x188b64(0x1ea),_0x1e26d9[_0x188b64(0x2a7)][_0x188b64(0x2af)]='calc('+_0x55ef7a+_0x188b64(0x23c),_0x1e26d9[_0x188b64(0x2a7)]['zIndex']=0xa+_0x58ec74[_0x188b64(0x2a9)];if(_0x27ecde<0x55)_0x1e26d9[_0x188b64(0x1cb)]['add'](_0x188b64(0x1de));let _0x55d6db='';if(_0x34e422[_0x188b64(0x1c9)])_0x55d6db+=_0x188b64(0x29a);if(_0x539688)_0x55d6db+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1e26d9[_0x188b64(0x290)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x34e422['start']+_0x188b64(0x1e1)+_0x34e422['end']+_0x188b64(0x28d)+_0x55d6db+_0x188b64(0x210),_0x1e26d9[_0x188b64(0x298)]=_0x5abde2=>{_0x5abde2['stopPropagation'](),openDetails(_0x34e422);},_0x35afbc[_0x188b64(0x1f4)](_0x1e26d9);});}function openAnalytics(){const _0x4c94c5=a3_0x25b13e,_0x355bee=document['querySelector'](_0x4c94c5(0x209));setAnalyticsPeriod(_0x4c94c5(0x1ee),_0x355bee),openSheet(_0x4c94c5(0x262));}function setAnalyticsPeriod(_0x17d43d,_0x1e95e3){const _0x584e95=a3_0x25b13e;currentAnPeriod=_0x17d43d,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x584e95(0x1d4)](_0x3e3204=>_0x3e3204[_0x584e95(0x1cb)][_0x584e95(0x244)](_0x584e95(0x24f)));if(_0x1e95e3)_0x1e95e3[_0x584e95(0x1cb)][_0x584e95(0x27a)]('active');const _0x2ba05b=document[_0x584e95(0x225)](_0x584e95(0x286));_0x2ba05b['style'][_0x584e95(0x1d6)]=_0x17d43d===_0x584e95(0x296)?_0x584e95(0x258):_0x584e95(0x1ca);const _0x2150f8=new Date();let _0x2c6794=new Date(),_0x311d52=new Date();if(_0x17d43d==='week')_0x2c6794=getStartOfWeek(_0x2150f8),_0x311d52=new Date(_0x2c6794),_0x311d52[_0x584e95(0x240)](_0x311d52[_0x584e95(0x279)]()+0x6);else{if(_0x17d43d==='month')_0x2c6794=new Date(_0x2150f8[_0x584e95(0x204)](),_0x2150f8[_0x584e95(0x2ac)](),0x1),_0x311d52=new Date(_0x2150f8['getFullYear'](),_0x2150f8[_0x584e95(0x2ac)]()+0x1,0x0);else{!document[_0x584e95(0x225)]('anStart')[_0x584e95(0x222)]&&(document[_0x584e95(0x225)](_0x584e95(0x28c))['value']=getLocalDateStr(_0x2150f8),document[_0x584e95(0x225)]('anEnd')[_0x584e95(0x222)]=getLocalDateStr(_0x2150f8));refreshAnalytics();return;}}document['getElementById'](_0x584e95(0x28c))['value']=getLocalDateStr(_0x2c6794),document[_0x584e95(0x225)]('anEnd')[_0x584e95(0x222)]=getLocalDateStr(_0x311d52),refreshAnalytics();}function refreshAnalytics(){const _0x4103b0=a3_0x25b13e,_0x577875=document[_0x4103b0(0x225)](_0x4103b0(0x28c))[_0x4103b0(0x222)],_0x175cf4=document[_0x4103b0(0x225)](_0x4103b0(0x26e))['value'];if(!_0x577875||!_0x175cf4)return;const _0x4c13c1=sessions[_0x4103b0(0x237)](_0x5582e2=>_0x5582e2[_0x4103b0(0x1c1)]>=_0x577875&&_0x5582e2[_0x4103b0(0x1c1)]<=_0x175cf4&&_0x5582e2[_0x4103b0(0x28a)]!=='cancelled'),_0x48e0f1=_0x4c13c1[_0x4103b0(0x23d)],_0x146b89=_0x4c13c1['filter'](_0x37e341=>_0x37e341[_0x4103b0(0x28a)]===_0x4103b0(0x226))[_0x4103b0(0x23d)],_0x101d1b=_0x48e0f1>0x0?Math['round'](_0x146b89/_0x48e0f1*0x64):0x0;document[_0x4103b0(0x225)](_0x4103b0(0x261))['textContent']=_0x101d1b+'%',document[_0x4103b0(0x225)]('anTotalStats')[_0x4103b0(0x23e)]=_0x146b89+_0x4103b0(0x1c7)+_0x48e0f1+_0x4103b0(0x20e);const _0xed14e3=document[_0x4103b0(0x225)]('anDonutCircle'),_0x2fec9f=0x2*Math['PI']*0x23,_0x3de24b=_0x2fec9f-_0x101d1b/0x64*_0x2fec9f;_0xed14e3[_0x4103b0(0x2a7)]['strokeDashoffset']=_0x3de24b;const _0x433b37={};_0x4c13c1[_0x4103b0(0x1d4)](_0x32151e=>{const _0x352e62=_0x4103b0,_0x4be921=_0x32151e['coachId']||_0x352e62(0x1d7);if(!_0x433b37[_0x4be921]){const _0x2e5ccf='#'+_0x4be921['toString']()[_0x352e62(0x248)](0x0,0x6);_0x433b37[_0x4be921]={'total':0x0,'done':0x0,'color':_0x2e5ccf};}_0x433b37[_0x4be921]['total']++;if(_0x32151e[_0x352e62(0x28a)]===_0x352e62(0x226))_0x433b37[_0x4be921]['done']++;});const _0x14afb8=document[_0x4103b0(0x225)](_0x4103b0(0x1d0));_0x14afb8[_0x4103b0(0x290)]='';const _0x411b40=Object[_0x4103b0(0x25f)](_0x433b37)['sort']((_0x36af76,_0x516d67)=>_0x516d67[0x1][_0x4103b0(0x259)]-_0x36af76[0x1]['total']);if(_0x411b40[_0x4103b0(0x23d)]===0x0){_0x14afb8[_0x4103b0(0x290)]=_0x4103b0(0x26b);return;}_0x411b40[_0x4103b0(0x1d4)](([_0xfbaa8c,_0x6da471])=>{const _0x5810c2=_0x4103b0,_0x31b04b=Math['round'](_0x6da471[_0x5810c2(0x267)]/_0x6da471[_0x5810c2(0x259)]*0x64),_0x213114=document[_0x5810c2(0x272)](_0x5810c2(0x293));_0x213114[_0x5810c2(0x1da)]='client-stat-card',_0x213114['style'][_0x5810c2(0x25a)]=_0x6da471[_0x5810c2(0x28b)],_0x213114[_0x5810c2(0x290)]=_0x5810c2(0x215)+_0xfbaa8c[_0x5810c2(0x248)](0x0,0x5)+_0x5810c2(0x252)+_0x6da471[_0x5810c2(0x267)]+_0x5810c2(0x203)+_0x6da471[_0x5810c2(0x259)]+_0x5810c2(0x1f2)+_0x31b04b+_0x5810c2(0x2ad),_0x14afb8[_0x5810c2(0x1f4)](_0x213114);});}function openDetails(_0x1f4fcf){const _0x41b46e=a3_0x25b13e;currentSession=_0x1f4fcf;const _0xeb79f0=new Date(_0x1f4fcf[_0x41b46e(0x1c1)]),_0x91e90a=_0xeb79f0['toLocaleDateString'](_0x41b46e(0x1c3),{'weekday':_0x41b46e(0x24d),'day':'numeric','month':'long'});document[_0x41b46e(0x225)]('detDate')[_0x41b46e(0x23e)]=_0x91e90a[_0x41b46e(0x283)](0x0)['toUpperCase']()+_0x91e90a[_0x41b46e(0x236)](0x1),document['getElementById']('detTime')[_0x41b46e(0x23e)]=_0x1f4fcf['start']+_0x41b46e(0x1e1)+_0x1f4fcf[_0x41b46e(0x2a0)],document['getElementById'](_0x41b46e(0x243))[_0x41b46e(0x23e)]=_0x1f4fcf['note']||_0x41b46e(0x20c);const _0xfc00a6=document[_0x41b46e(0x225)](_0x41b46e(0x1ef)),_0x4a2129=document[_0x41b46e(0x225)](_0x41b46e(0x1c2)),_0xd7070=_0x4a2129['querySelector'](_0x41b46e(0x207)),_0x3b9869=_0x4a2129[_0x41b46e(0x242)](_0x41b46e(0x1e9)),_0x1dca2d=document[_0x41b46e(0x225)]('cancelHint');if(_0x1f4fcf['status']==='completed')_0xfc00a6['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0xfc00a6[_0x41b46e(0x2a7)][_0x41b46e(0x28b)]=_0x41b46e(0x1ce),_0x4a2129[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]=_0x41b46e(0x1ca);else{_0xfc00a6[_0x41b46e(0x23e)]=_0x41b46e(0x1e4),_0xfc00a6[_0x41b46e(0x2a7)][_0x41b46e(0x28b)]=_0x41b46e(0x1e3),_0x4a2129[_0x41b46e(0x2a7)]['display']=_0x41b46e(0x202);const _0x3d8387=new Date(_0x1f4fcf['dateStr']+'T'+_0x1f4fcf[_0x41b46e(0x1c6)]),_0x5df960=new Date(),_0x29733d=(_0x3d8387-_0x5df960)/(0x3e8*0x3c*0x3c),_0x384e92=coachProfiles[_0x1f4fcf[_0x41b46e(0x29c)]]&&coachProfiles[_0x1f4fcf[_0x41b46e(0x29c)]][_0x41b46e(0x1e5)]?parseInt(coachProfiles[_0x1f4fcf[_0x41b46e(0x29c)]]['cancel_window']):0x18;if(_0x384e92===0x0||_0x29733d>=_0x384e92)_0xd7070[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]=_0x41b46e(0x202),_0x3b9869[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]='block',_0x1dca2d[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]=_0x41b46e(0x1ca);else{_0xd7070['style']['display']=_0x41b46e(0x1ca),_0x3b9869[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]=_0x41b46e(0x1ca),_0x1dca2d[_0x41b46e(0x2a7)][_0x41b46e(0x1d6)]=_0x41b46e(0x202);let _0x3dc643=_0x384e92===0x0?_0x41b46e(0x269):_0x41b46e(0x224)+_0x384e92+_0x41b46e(0x2a5);_0x1dca2d['textContent']=_0x41b46e(0x230)+_0x3dc643+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x41b46e(0x225)]('overlay')[_0x41b46e(0x1cb)]['add']('active'),document[_0x41b46e(0x225)](_0x41b46e(0x1e0))[_0x41b46e(0x1cb)][_0x41b46e(0x27a)]('open');}function a3_0x5594(_0x2457e9,_0x22e42b){_0x2457e9=_0x2457e9-0x1be;const _0x59105c=a3_0x11b0();let _0x4eb0d6=_0x59105c[_0x2457e9];return _0x4eb0d6;}function closeAllSheets(){const _0x5d94d1=a3_0x25b13e;document[_0x5d94d1(0x225)](_0x5d94d1(0x21e))[_0x5d94d1(0x1cb)][_0x5d94d1(0x244)](_0x5d94d1(0x24f)),document['querySelectorAll']('.sheet')[_0x5d94d1(0x1d4)](_0x2b5fcd=>_0x2b5fcd[_0x5d94d1(0x1cb)][_0x5d94d1(0x244)](_0x5d94d1(0x273)));}function openSheet(_0xa47b6b){const _0x4ede0a=a3_0x25b13e;document[_0x4ede0a(0x225)]('overlay')['classList']['add']('active'),document[_0x4ede0a(0x225)](_0xa47b6b)['classList']['add'](_0x4ede0a(0x273));}function getLocalDateStr(_0x18b01c){const _0x33b906=a3_0x25b13e,_0x9833a5=_0x18b01c[_0x33b906(0x204)](),_0x2296c4=String(_0x18b01c[_0x33b906(0x2ac)]()+0x1)[_0x33b906(0x1ed)](0x2,'0'),_0x36f297=String(_0x18b01c['getDate']())[_0x33b906(0x1ed)](0x2,'0');return _0x9833a5+'-'+_0x2296c4+'-'+_0x36f297;}function getStartOfWeek(_0x476389){const _0x1c2d38=a3_0x25b13e,_0x4ebd82=new Date(_0x476389),_0x51cc09=_0x4ebd82[_0x1c2d38(0x29e)](),_0x10fe9a=_0x4ebd82[_0x1c2d38(0x279)]()-_0x51cc09+(_0x51cc09===0x0?-0x6:0x1);return _0x4ebd82[_0x1c2d38(0x240)](_0x10fe9a),_0x4ebd82[_0x1c2d38(0x20b)](0x0,0x0,0x0,0x0),_0x4ebd82;}function scrollToToday(){const _0x204b07=getLocalDateStr(new Date());setTimeout(()=>{const _0x438ad1=a3_0x5594,_0x4bd234=document[_0x438ad1(0x242)](_0x438ad1(0x241)+_0x204b07+'\x22]');if(_0x4bd234){const _0x328c3f=document[_0x438ad1(0x225)](_0x438ad1(0x1e2)),_0x2f6941=_0x4bd234[_0x438ad1(0x28e)]-_0x328c3f['clientWidth']/0x2+_0x4bd234[_0x438ad1(0x24b)]/0x2;_0x328c3f[_0x438ad1(0x2b2)]({'left':_0x2f6941,'behavior':_0x438ad1(0x1d1)}),_0x328c3f[_0x438ad1(0x22a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x29075d=a3_0x25b13e,_0x36e767=new Date(),_0x43209b=document[_0x29075d(0x225)](_0x29075d(0x200)),_0x1a971b=document[_0x29075d(0x225)](_0x29075d(0x1fb)),_0xf8ea1c=(_0x36e767[_0x29075d(0x211)]()*0x3c+_0x36e767['getMinutes']())/0x3c*GRID_H;_0x43209b[_0x29075d(0x2a7)][_0x29075d(0x1eb)]=_0xf8ea1c+'px',_0x43209b[_0x29075d(0x2a7)]['display']=_0x29075d(0x202),_0x1a971b[_0x29075d(0x2a7)][_0x29075d(0x1eb)]=_0xf8ea1c+'px',_0x1a971b[_0x29075d(0x2a7)][_0x29075d(0x1d6)]=_0x29075d(0x202),_0x1a971b['textContent']=String(_0x36e767['getHours']())[_0x29075d(0x1ed)](0x2,'0')+':'+String(_0x36e767[_0x29075d(0x1c8)]())[_0x29075d(0x1ed)](0x2,'0');}function onScroll(){const _0x4fb56f=a3_0x25b13e,_0x2d875c=document['getElementById'](_0x4fb56f(0x1e2)),_0x19c258=document[_0x4fb56f(0x234)](_0x4fb56f(0x206));for(let _0x8e9476 of _0x19c258)if(_0x8e9476[_0x4fb56f(0x28e)]>=_0x2d875c[_0x4fb56f(0x1df)]){const _0x397a2a=new Date(_0x8e9476['getAttribute']('data-date'));document[_0x4fb56f(0x225)](_0x4fb56f(0x277))[_0x4fb56f(0x23e)]=_0x397a2a[_0x4fb56f(0x2b4)]('ru',{'month':'long'})[_0x4fb56f(0x1cc)]()+'\x20'+_0x397a2a[_0x4fb56f(0x204)]();break;}}function showToast(_0x4bab3a){const _0x2da7d2=a3_0x25b13e,_0x4f0f0d=document[_0x2da7d2(0x225)]('toast');_0x4f0f0d[_0x2da7d2(0x23e)]=_0x4bab3a,_0x4f0f0d['classList'][_0x2da7d2(0x27a)](_0x2da7d2(0x284)),setTimeout(()=>_0x4f0f0d[_0x2da7d2(0x1cb)]['remove'](_0x2da7d2(0x284)),0x7d0);}function a3_0x11b0(){const _0x129bc0=['cancelContainer','ru-RU','24348250VRiWoF','13lZvPIP','start','\x20–∏–∑\x20','getMinutes','seriesId','none','classList','toUpperCase','.day-column','var(--acc-green)','rsDatesTrack','analyticsList','auto','69965csoccU','px\x20-','forEach','#0a84ff','display','Unknown','initData','18YMnePN','className','–û—Ç–º–µ–Ω–µ–Ω–æ','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','settings','mini','scrollLeft','detailsSheet','\x20-\x20','matrixViewport','var(--acc-blue)','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','cancel_window','saveLocally','T23:59:59','disableVerticalSwipes','.btn-reschedule','%\x20-\x204px)','top','uc_client_sessions','padStart','week','detStatus','stringify','ready','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</div><div\x20class=\x22dch-num\x22>','appendChild','clientId','clients','split','.rs-date-chip','7938045QQGCjD','rgba(10,\x20132,\x20255,\x20','timeLineBadge','sid','json','2170688NaxzTQ','getItem','globalTimeLine','loadLocal','block','</span>\x20/\x20','getFullYear','\x20status-completed','.day-col-header','.btn-cancel','backgroundColor','.period-switch\x20.p-btn','parse','setHours','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','daysHeaderTrack','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','syncLoad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getHours','82138oudmTf','constructor','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','event-card','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','get_slots','round','button','time-label','setAttribute','now','overlay','1909374ZQwwAg','600','ranges','value','712eXfccc','–∑–∞\x20','getElementById','completed','push','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','fontWeight','scrollTop','firstChild','log','width','numeric','keys','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','cid','POST','today','querySelectorAll','gridColumns','slice','filter','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','</div>','blocked-slot\x20stripe-bg','data-date','%\x20+\x202px)','length','textContent','<div\x20class=\x22rs-day-name\x22>','setDate','.day-col-header[data-date=\x22','querySelector','detNote','remove','backgroundPosition','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','initDataUnsafe','substr','<span>','Error\x20setting\x20color:','offsetWidth','WebApp','long','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','active','rescheduleSheet','day-col-header\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','rsSlotsGrid','min','BackButton','data','getTime','flex','total','borderLeftColor','setHeaderColor','applyData','day-column\x20','createDocumentFragment','entries','rs-time-btn','anPercent','analyticsSheet','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','timeColumn','px\x200px','expand','done','href','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','search','anEnd','(((.+)+)+)+$','offClick','v9.5-CLIENT-ANALYTICS','createElement','open','find','toString','findIndex','headerMonth','#050505','getDate','add','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','T00:00:00','<div\x20class=\x22dch-day\x22>','DOMContentLoaded','day-off-overlay\x20stripe-bg','join','Telegram','setItem','charAt','show','clientWidth','anCustomDates','height','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','exceptions','status','color','anStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetLeft','then','innerHTML','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','max','div','pattern','getAttribute','custom','calendar','onclick','all','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','visible','coachId',':00</span>','getDay','map','end','onClick','coach_profiles','scrollWidth','uc_client_list','\x20—á.','ccTitle','style','1421325USOmYg','colIndex','user','insertBefore','getMonth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','left','customConfirm','apply','scrollTo','data-day-idx','toLocaleString','error','rgba(','scroll','rs-date-chip','blocked-range-part\x20stripe-bg','dateStr'];a3_0x11b0=function(){return _0x129bc0;};return a3_0x11b0();}function handleInfiniteScroll(){const _0x1ad18f=a3_0x25b13e,_0x47e339=document[_0x1ad18f(0x225)](_0x1ad18f(0x1e2)),_0xaeea1e=_0x47e339[_0x1ad18f(0x1df)],_0x5dcc39=_0x47e339[_0x1ad18f(0x2a3)],_0x4ed73a=_0x47e339[_0x1ad18f(0x285)];if(_0x5dcc39-(_0xaeea1e+_0x4ed73a)<0x12c){const _0x204eab=endOffset;endOffset+=0xe,renderDayRange(_0x204eab+0x1,endOffset),reRenderBlocks();}if(_0xaeea1e<0x12c){const _0x325788=startOffset;startOffset-=0xe,prependDays(startOffset,_0x325788-0x1),_0x47e339[_0x1ad18f(0x1df)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1420e9,_0x1b6b14){const _0x4bcbfe=a3_0x25b13e,_0x4572f6=document[_0x4bcbfe(0x225)](_0x4bcbfe(0x20d)),_0x2c7cc4=document[_0x4bcbfe(0x225)](_0x4bcbfe(0x235)),_0x582398=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4614ef=new Date();_0x4614ef['setHours'](0x0,0x0,0x0,0x0);const _0x431c3d=getLocalDateStr(new Date()),_0x44e5b7=document[_0x4bcbfe(0x25e)](),_0x3f10d2=document['createDocumentFragment']();for(let _0x539f77=_0x1420e9;_0x539f77<=_0x1b6b14;_0x539f77++){const _0x1cf837=new Date(_0x4614ef);_0x1cf837[_0x4bcbfe(0x240)](_0x1cf837[_0x4bcbfe(0x279)]()+_0x539f77);const _0x443ec8=getLocalDateStr(_0x1cf837);let _0x2e314d=_0x1cf837['getDay']()-0x1;if(_0x2e314d===-0x1)_0x2e314d=0x6;const _0x9d8a35=_0x443ec8===_0x431c3d,_0x384a45=document['createElement']('div');_0x384a45[_0x4bcbfe(0x1da)]='day-col-header\x20'+(_0x9d8a35?_0x4bcbfe(0x233):''),_0x384a45['setAttribute'](_0x4bcbfe(0x23b),_0x443ec8),_0x384a45['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x582398[_0x2e314d]+_0x4bcbfe(0x1f3)+_0x1cf837[_0x4bcbfe(0x279)]()+_0x4bcbfe(0x239),_0x44e5b7[_0x4bcbfe(0x1f4)](_0x384a45);const _0x2fc475=document[_0x4bcbfe(0x272)](_0x4bcbfe(0x293));_0x2fc475[_0x4bcbfe(0x1da)]='day-column\x20'+(_0x9d8a35?'today':''),_0x2fc475[_0x4bcbfe(0x21c)](_0x4bcbfe(0x23b),_0x443ec8),_0x2fc475[_0x4bcbfe(0x21c)]('data-day-idx',_0x2e314d),_0x3f10d2['appendChild'](_0x2fc475);}_0x4572f6[_0x4bcbfe(0x2ab)](_0x44e5b7,_0x4572f6[_0x4bcbfe(0x22b)]),_0x2c7cc4['insertBefore'](_0x3f10d2,_0x2c7cc4[_0x4bcbfe(0x242)](_0x4bcbfe(0x1cd)));}function hexToRgba(_0x5e546c,_0x39c9c0){const _0x3e597b=a3_0x25b13e;let _0x51a438;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3e597b(0x214)](_0x5e546c))return _0x51a438=_0x5e546c['substring'](0x1)['split'](''),_0x51a438[_0x3e597b(0x23d)]==0x3&&(_0x51a438=[_0x51a438[0x0],_0x51a438[0x0],_0x51a438[0x1],_0x51a438[0x1],_0x51a438[0x2],_0x51a438[0x2]]),_0x51a438='0x'+_0x51a438[_0x3e597b(0x280)](''),_0x3e597b(0x2b6)+[_0x51a438>>0x10&0xff,_0x51a438>>0x8&0xff,_0x51a438&0xff][_0x3e597b(0x280)](',')+','+_0x39c9c0+')';return _0x3e597b(0x1fa)+_0x39c9c0+')';}let confirmResolver=null;function showCustomConfirm(_0x240d8e,_0x7365c2,_0x553d30=!![]){const _0x278449=a3_0x25b13e;document[_0x278449(0x225)](_0x278449(0x2a6))[_0x278449(0x23e)]=_0x240d8e,document['getElementById']('ccText')[_0x278449(0x23e)]=_0x7365c2;const _0x3fca7f=document[_0x278449(0x225)]('ccYesBtn');return _0x553d30?(_0x3fca7f[_0x278449(0x2a7)][_0x278449(0x28b)]='#ff453a',_0x3fca7f[_0x278449(0x2a7)][_0x278449(0x229)]='600'):(_0x3fca7f['style']['color']=_0x278449(0x1d5),_0x3fca7f[_0x278449(0x2a7)][_0x278449(0x229)]=_0x278449(0x220)),new Promise(_0x3e77d0=>{const _0x26a466=_0x278449;confirmResolver=_0x3e77d0,document[_0x26a466(0x225)](_0x26a466(0x2b0))[_0x26a466(0x1cb)][_0x26a466(0x27a)](_0x26a466(0x29b));});}function resolveCustomConfirm(_0x17e806){const _0x57b9d2=a3_0x25b13e;document[_0x57b9d2(0x225)](_0x57b9d2(0x2b0))['classList'][_0x57b9d2(0x244)](_0x57b9d2(0x29b));if(confirmResolver)confirmResolver(_0x17e806);}async function tryCancelCurrentSession(){const _0x5c0e9e=a3_0x25b13e;if(!currentSession)return;const _0x49bff8=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x5c0e9e(0x246),!![]);if(!_0x49bff8)return;const _0x2ada41=currentSession;closeAllSheets(),sessions=sessions[_0x5c0e9e(0x237)](_0x5b1f1a=>_0x5b1f1a['id']!==_0x2ada41['id']),reRenderBlocks(),showToast(_0x5c0e9e(0x1db)),lastUserActionTime=Date[_0x5c0e9e(0x21d)]();try{const _0x5107aa=window[_0x5c0e9e(0x281)]?.[_0x5c0e9e(0x24c)],_0x161304=await fetch(API_URL,{'method':_0x5c0e9e(0x232),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x5107aa?.[_0x5c0e9e(0x1d8)]||'','coachId':_0x2ada41[_0x5c0e9e(0x29c)],'dateStr':_0x2ada41[_0x5c0e9e(0x1c1)],'sessionId':_0x2ada41['id']})});if(_0x161304['ok'])DataManager[_0x5c0e9e(0x1e6)]();}catch(_0x35c783){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xf75365=a3_0x25b13e;if(!currentSession)return;document['getElementById'](_0xf75365(0x1e0))[_0xf75365(0x1cb)][_0xf75365(0x244)](_0xf75365(0x273)),document[_0xf75365(0x225)](_0xf75365(0x250))[_0xf75365(0x1cb)][_0xf75365(0x27a)](_0xf75365(0x273));const _0x4c6731=document['getElementById'](_0xf75365(0x1cf)),_0x243ec9=document[_0xf75365(0x225)](_0xf75365(0x253));_0x4c6731['innerHTML']='',_0x243ec9[_0xf75365(0x290)]=_0xf75365(0x288);const [_0x1fdd83,_0x436a85]=currentSession[_0xf75365(0x1c6)][_0xf75365(0x1f7)](':')[_0xf75365(0x29f)](Number),[_0x534081,_0x13435b]=currentSession[_0xf75365(0x2a0)][_0xf75365(0x1f7)](':')[_0xf75365(0x29f)](Number),_0x58470d=_0x534081*0x3c+_0x13435b-(_0x1fdd83*0x3c+_0x436a85);try{const _0x51f3cb=window[_0xf75365(0x281)]?.['WebApp'],_0x151e43=await fetch(API_URL,{'method':'POST','body':JSON[_0xf75365(0x1f0)]({'action':_0xf75365(0x218),'coachId':currentSession[_0xf75365(0x29c)],'duration':_0x58470d,'init_data':_0x51f3cb?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x536472=await _0x151e43[_0xf75365(0x1fd)]();_0x536472['ok']&&_0x536472[_0xf75365(0x256)]?(availableSlotsCache=_0x536472['data'],renderRescheduleDates()):_0x243ec9[_0xf75365(0x290)]=_0xf75365(0x263);}catch(_0x5c1fa6){_0x243ec9['innerHTML']=_0xf75365(0x291);}}function renderRescheduleDates(){const _0x1cf7c7=a3_0x25b13e,_0x2307d9=document['getElementById'](_0x1cf7c7(0x1cf));_0x2307d9[_0x1cf7c7(0x290)]='';const _0x8b3203=Object[_0x1cf7c7(0x22f)](availableSlotsCache)['sort'](),_0x3fd965=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x8b3203[_0x1cf7c7(0x23d)]===0x0){document[_0x1cf7c7(0x225)](_0x1cf7c7(0x253))[_0x1cf7c7(0x290)]=_0x1cf7c7(0x26a);return;}_0x8b3203[_0x1cf7c7(0x1d4)]((_0x2ce411,_0x1f8286)=>{const _0x40e1d6=_0x1cf7c7,_0x1ea362=new Date(_0x2ce411),_0x56b9bf=_0x3fd965[_0x1ea362[_0x40e1d6(0x29e)]()],_0x316e39=_0x1ea362[_0x40e1d6(0x279)](),_0x21dbcd=document[_0x40e1d6(0x272)]('div');_0x21dbcd['className']=_0x40e1d6(0x1bf);if(_0x1f8286===0x0)_0x21dbcd[_0x40e1d6(0x1cb)][_0x40e1d6(0x27a)](_0x40e1d6(0x24f));_0x21dbcd[_0x40e1d6(0x290)]=_0x40e1d6(0x23f)+_0x56b9bf+'</div><div\x20class=\x22rs-day-num\x22>'+_0x316e39+_0x40e1d6(0x239),_0x21dbcd[_0x40e1d6(0x298)]=()=>selectRsDate(_0x2ce411,_0x21dbcd),_0x2307d9[_0x40e1d6(0x1f4)](_0x21dbcd);}),selectRsDate(_0x8b3203[0x0],_0x2307d9[_0x1cf7c7(0x22b)]);}function selectRsDate(_0x42776b,_0x4870bf){const _0x39eba9=a3_0x25b13e;selectedRsDate=_0x42776b,document[_0x39eba9(0x234)](_0x39eba9(0x1f8))[_0x39eba9(0x1d4)](_0x37ee10=>_0x37ee10[_0x39eba9(0x1cb)][_0x39eba9(0x244)](_0x39eba9(0x24f)));if(_0x4870bf)_0x4870bf[_0x39eba9(0x1cb)][_0x39eba9(0x27a)](_0x39eba9(0x24f));const _0x11c074=document[_0x39eba9(0x225)](_0x39eba9(0x253));_0x11c074[_0x39eba9(0x290)]='';const _0x23d0e6=availableSlotsCache[_0x42776b]||[];if(_0x23d0e6[_0x39eba9(0x23d)]===0x0){_0x11c074[_0x39eba9(0x290)]=_0x39eba9(0x263);return;}_0x23d0e6[_0x39eba9(0x1d4)](_0x225fb3=>{const _0xe9feb2=_0x39eba9,_0x250bc6=document[_0xe9feb2(0x272)](_0xe9feb2(0x21a));_0x250bc6[_0xe9feb2(0x1da)]=_0xe9feb2(0x260),_0x250bc6[_0xe9feb2(0x23e)]=_0x225fb3,_0x250bc6[_0xe9feb2(0x298)]=()=>confirmReschedule(_0x225fb3),_0x11c074[_0xe9feb2(0x1f4)](_0x250bc6);});}async function confirmReschedule(_0x2efd96){const _0x1ebda9=a3_0x25b13e,_0x1b4c08=new Date(selectedRsDate),_0x114f12=_0x1b4c08['toLocaleDateString'](_0x1ebda9(0x1c3),{'day':_0x1ebda9(0x22e),'month':_0x1ebda9(0x24d)}),_0x80fba=await showCustomConfirm(_0x1ebda9(0x27b),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x114f12+'\x20–≤\x20'+_0x2efd96+'?',![]);if(!_0x80fba)return;closeAllSheets(),showToast(_0x1ebda9(0x26c)),lastUserActionTime=Date['now']();const _0x23427b=currentSession['dateStr'],_0x7eb6f2=currentSession['id'],[_0x3f5dc0,_0x1c3d5c]=currentSession[_0x1ebda9(0x1c6)]['split'](':')[_0x1ebda9(0x29f)](Number),[_0x35a9dc,_0x5e1d0e]=currentSession[_0x1ebda9(0x2a0)]['split'](':')['map'](Number),_0x23541f=_0x35a9dc*0x3c+_0x5e1d0e-(_0x3f5dc0*0x3c+_0x1c3d5c),[_0x39a54f,_0x3a6460]=_0x2efd96[_0x1ebda9(0x1f7)](':')[_0x1ebda9(0x29f)](Number),_0x5ab589=_0x39a54f*0x3c+_0x3a6460+_0x23541f,_0x192a04=Math['floor'](_0x5ab589/0x3c),_0x451bea=_0x5ab589%0x3c,_0x1d897b=String(_0x192a04)['padStart'](0x2,'0')+':'+String(_0x451bea)['padStart'](0x2,'0'),_0x3954ed=sessions[_0x1ebda9(0x276)](_0x3685fa=>_0x3685fa['id']===_0x7eb6f2);_0x3954ed!==-0x1&&(sessions[_0x3954ed][_0x1ebda9(0x1c1)]=selectedRsDate,sessions[_0x3954ed][_0x1ebda9(0x1c6)]=_0x2efd96,sessions[_0x3954ed][_0x1ebda9(0x2a0)]=_0x1d897b,reRenderBlocks());try{const _0x3fb0af=window[_0x1ebda9(0x281)]?.[_0x1ebda9(0x24c)],_0x4f889a=await fetch(API_URL,{'method':_0x1ebda9(0x232),'body':JSON[_0x1ebda9(0x1f0)]({'action':'reschedule','init_data':_0x3fb0af?.[_0x1ebda9(0x1d8)]||'','oldSessionId':_0x7eb6f2,'oldDate':_0x23427b,'newDate':selectedRsDate,'newTime':_0x2efd96,'coachId':currentSession['coachId']})}),_0x3ef39c=await _0x4f889a[_0x1ebda9(0x1fd)]();!_0x3ef39c['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x1ebda9(0x20f)]()):(showToast(_0x1ebda9(0x217)),DataManager[_0x1ebda9(0x1e6)]());}catch(_0x52dfcb){showToast(_0x1ebda9(0x238));}}document['addEventListener'](a3_0x25b13e(0x27e),init);