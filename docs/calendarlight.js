const a3_0x429b30=a3_0x5d0a;(function(_0x13133c,_0x34a247){const _0x2f5de6=a3_0x5d0a,_0x2f6e81=_0x13133c();while(!![]){try{const _0x327cb4=-parseInt(_0x2f5de6(0x2ac))/0x1*(-parseInt(_0x2f5de6(0x1cf))/0x2)+parseInt(_0x2f5de6(0x1f9))/0x3+-parseInt(_0x2f5de6(0x277))/0x4+parseInt(_0x2f5de6(0x281))/0x5+-parseInt(_0x2f5de6(0x215))/0x6*(-parseInt(_0x2f5de6(0x20c))/0x7)+-parseInt(_0x2f5de6(0x1be))/0x8*(parseInt(_0x2f5de6(0x24d))/0x9)+parseInt(_0x2f5de6(0x1dc))/0xa*(parseInt(_0x2f5de6(0x1cc))/0xb);if(_0x327cb4===_0x34a247)break;else _0x2f6e81['push'](_0x2f6e81['shift']());}catch(_0x5d9cd6){_0x2f6e81['push'](_0x2f6e81['shift']());}}}(a3_0x4a87,0x5369d));const APP_VERSION=a3_0x429b30(0x255),API_URL=a3_0x429b30(0x20e),GRID_H=0x3c,KEY_SESSIONS=a3_0x429b30(0x1e4),KEY_SETTINGS=a3_0x429b30(0x27e),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5b311d=a3_0x429b30,_0x41f18f=(function(){let _0x5594d0=!![];return function(_0x4f4293,_0xf8f237){const _0x1379b1=_0x5594d0?function(){const _0x3a7dcc=a3_0x5d0a;if(_0xf8f237){const _0xc7e64b=_0xf8f237[_0x3a7dcc(0x217)](_0x4f4293,arguments);return _0xf8f237=null,_0xc7e64b;}}:function(){};return _0x5594d0=![],_0x1379b1;};}()),_0x3393cb=_0x41f18f(this,function(){const _0x59c871=a3_0x5d0a;return _0x3393cb[_0x59c871(0x21c)]()[_0x59c871(0x262)]('(((.+)+)+)+$')[_0x59c871(0x21c)]()['constructor'](_0x3393cb)[_0x59c871(0x262)](_0x59c871(0x248));});_0x3393cb();try{const _0xd1020d=window['Telegram']?.['WebApp'];if(!_0xd1020d)return;_0xd1020d[_0x5b311d(0x2a0)](),_0xd1020d[_0x5b311d(0x1f1)]();try{_0xd1020d[_0x5b311d(0x2a8)](_0x5b311d(0x1e6)),_0xd1020d[_0x5b311d(0x1f2)]&&_0xd1020d[_0x5b311d(0x1f2)](_0x5b311d(0x1e6));}catch(_0x105a24){console[_0x5b311d(0x1b8)](_0x5b311d(0x238),_0x105a24);}try{_0xd1020d[_0x5b311d(0x24e)]&&(_0xd1020d[_0x5b311d(0x24e)][_0x5b311d(0x22d)](),_0xd1020d['BackButton']['offClick'](),_0xd1020d['BackButton'][_0x5b311d(0x21b)](function(){const _0x246bcd=_0x5b311d;window[_0x246bcd(0x2ad)][_0x246bcd(0x244)]='router.html';}));}catch(_0x125e51){console['log']('Error\x20setting\x20back\x20button:',_0x125e51);}try{if(_0xd1020d['disableVerticalSwipes'])_0xd1020d[_0x5b311d(0x20f)]();}catch(_0x5912b0){}}catch(_0xb6b24b){console[_0x5b311d(0x25c)](_0x5b311d(0x214),_0xb6b24b);}}());function isAdmin(){const _0xfc5d15=a3_0x429b30;try{const _0x3d6809=Number(window['Telegram']?.[_0xfc5d15(0x1d2)]?.[_0xfc5d15(0x26b)]?.[_0xfc5d15(0x1d4)]?.['id']);return _0x3d6809===0xbaf7174;}catch(_0x5bb914){return![];}}const DataManager={'saveLocally'(){const _0x2f0aa0=a3_0x429b30;try{localStorage[_0x2f0aa0(0x29c)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x2f0aa0(0x1b9)](clients)),localStorage[_0x2f0aa0(0x29c)](KEY_SETTINGS,JSON[_0x2f0aa0(0x1b9)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5f4527){}},'loadLocal'(){const _0x501262=a3_0x429b30;try{const _0xbfe354=localStorage[_0x501262(0x2a9)](KEY_SESSIONS);if(_0xbfe354)sessions=JSON[_0x501262(0x20b)](_0xbfe354);const _0x19202f=localStorage[_0x501262(0x2a9)](KEY_CLIENTS);if(_0x19202f)clients=JSON[_0x501262(0x20b)](_0x19202f);const _0x62ae5=localStorage['getItem'](KEY_SETTINGS);if(_0x62ae5){const _0x3b7193=JSON[_0x501262(0x20b)](_0x62ae5);if(_0x3b7193[_0x501262(0x1fc)])availabilityPattern=_0x3b7193[_0x501262(0x1fc)];if(_0x3b7193['ranges'])specialRanges=_0x3b7193[_0x501262(0x218)];if(_0x3b7193[_0x501262(0x270)])dateExceptions=_0x3b7193[_0x501262(0x270)];}}catch(_0x334949){}},async 'syncLoad'(){const _0x3fdcb3=a3_0x429b30,_0x2bd807=new Date(),_0x248c77=_0x2bd807[_0x3fdcb3(0x299)]()+'-'+String(_0x2bd807[_0x3fdcb3(0x288)]()+0x1)['padStart'](0x2,'0'),_0x103b17=new Date(_0x2bd807);_0x103b17[_0x3fdcb3(0x1dd)](_0x2bd807[_0x3fdcb3(0x288)]()+0x1);const _0x3cfdbd=_0x103b17[_0x3fdcb3(0x299)]()+'-'+String(_0x103b17[_0x3fdcb3(0x288)]()+0x1)['padStart'](0x2,'0'),_0x2e4512=Date[_0x3fdcb3(0x2a7)]();try{const _0x693b79=window[_0x3fdcb3(0x297)]?.[_0x3fdcb3(0x1d2)],_0x4dcc8a=_0x693b79?.['initData']||'',[_0x2639a5,_0x5c685e]=await Promise[_0x3fdcb3(0x278)]([fetch(API_URL,{'method':_0x3fdcb3(0x1bb),'body':JSON[_0x3fdcb3(0x1b9)]({'action':_0x3fdcb3(0x1ee),'init_data':_0x4dcc8a,'month_str':_0x248c77})})[_0x3fdcb3(0x283)](_0x3f5b0b=>_0x3f5b0b[_0x3fdcb3(0x1c3)]()),fetch(API_URL,{'method':_0x3fdcb3(0x1bb),'body':JSON[_0x3fdcb3(0x1b9)]({'action':_0x3fdcb3(0x1ee),'init_data':_0x4dcc8a,'month_str':_0x3cfdbd})})['then'](_0x30cf1c=>_0x30cf1c['json']())]);if(lastUserActionTime>_0x2e4512){console[_0x3fdcb3(0x1b8)](_0x3fdcb3(0x231));return;}if(_0x2639a5['ok'])this[_0x3fdcb3(0x207)](_0x2639a5[_0x3fdcb3(0x1c1)],_0x248c77);if(_0x5c685e['ok'])this[_0x3fdcb3(0x207)](_0x5c685e['data'],_0x3cfdbd);this[_0x3fdcb3(0x29d)]();}catch(_0x2575c8){}},'applyData'(_0x47fce1,_0x52acc4){const _0x28dbe1=a3_0x429b30;if(!_0x47fce1)return;if(_0x47fce1[_0x28dbe1(0x287)]){if(_0x47fce1[_0x28dbe1(0x287)]['pattern'])availabilityPattern=_0x47fce1[_0x28dbe1(0x287)][_0x28dbe1(0x1fc)];if(_0x47fce1[_0x28dbe1(0x287)]['ranges'])specialRanges=_0x47fce1['settings'][_0x28dbe1(0x218)];if(_0x47fce1[_0x28dbe1(0x287)][_0x28dbe1(0x270)])dateExceptions=_0x47fce1['settings']['exceptions'];}if(_0x47fce1[_0x28dbe1(0x239)]&&Array[_0x28dbe1(0x289)](_0x47fce1[_0x28dbe1(0x239)]))clients=_0x47fce1[_0x28dbe1(0x239)];_0x47fce1['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x47fce1['coach_profiles']}),_0x47fce1[_0x28dbe1(0x21f)]&&(sessions=sessions[_0x28dbe1(0x227)](_0x49b238=>!_0x49b238[_0x28dbe1(0x2af)][_0x28dbe1(0x1ce)](_0x52acc4)),Object[_0x28dbe1(0x272)](_0x47fce1[_0x28dbe1(0x21f)])[_0x28dbe1(0x26a)](_0xd7c804=>{const _0x468096=_0x28dbe1,_0x49b093=_0x47fce1[_0x468096(0x21f)][_0xd7c804];_0x49b093[_0x468096(0x26a)](_0x59ba2f=>{const _0x3e92af=_0x468096;sessions[_0x3e92af(0x265)]({'id':_0x59ba2f['i'],'clientId':_0x59ba2f['c'],'coachId':_0x59ba2f[_0x3e92af(0x216)],'dateStr':_0x52acc4+'-'+_0xd7c804[_0x3e92af(0x224)](0x2,'0'),'start':_0x59ba2f['s'],'end':_0x59ba2f['e'],'note':_0x59ba2f['n']||'','status':_0x59ba2f['st']||_0x3e92af(0x210),'seriesId':_0x59ba2f['sid']});});})),reRenderBlocks();}};function init(){const _0x4b4c21=a3_0x429b30;DataManager[_0x4b4c21(0x251)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4b4c21(0x245)](_0x4b4c21(0x222))[_0x4b4c21(0x23a)](_0x4b4c21(0x24a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4b4c21(0x213)]();}function renderTimeColumn(){const _0x599e89=a3_0x429b30,_0x508fa5=document['getElementById'](_0x599e89(0x276)),_0x4b870e=document[_0x599e89(0x245)](_0x599e89(0x201));_0x508fa5[_0x599e89(0x28c)]='',_0x508fa5[_0x599e89(0x295)](_0x4b870e);for(let _0x2be00e=0x0;_0x2be00e<0x18;_0x2be00e++){const _0x2baea3=document[_0x599e89(0x254)](_0x599e89(0x252));_0x2baea3[_0x599e89(0x1d1)]='time-label';if(_0x2be00e>0x0)_0x2baea3[_0x599e89(0x28c)]=_0x599e89(0x1f4)+String(_0x2be00e)[_0x599e89(0x224)](0x2,'0')+':00</span>';_0x508fa5[_0x599e89(0x295)](_0x2baea3);}}function renderDayRange(_0x546851,_0x1e9f34){const _0x64fc38=a3_0x429b30,_0x16c996=document[_0x64fc38(0x245)](_0x64fc38(0x279)),_0x2255e3=document['getElementById']('gridColumns'),_0x1f67aa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3db187=new Date();_0x3db187[_0x64fc38(0x1b4)](0x0,0x0,0x0,0x0);const _0x4f92af=getLocalDateStr(new Date());for(let _0x58b748=_0x546851;_0x58b748<=_0x1e9f34;_0x58b748++){const _0xf0b245=new Date(_0x3db187);_0xf0b245[_0x64fc38(0x1ec)](_0xf0b245[_0x64fc38(0x240)]()+_0x58b748);const _0xb2e98=getLocalDateStr(_0xf0b245);let _0x42582a=_0xf0b245['getDay']()-0x1;if(_0x42582a===-0x1)_0x42582a=0x6;const _0x5855ec=_0xb2e98===_0x4f92af,_0x70fcc7=document['createElement']('div');_0x70fcc7[_0x64fc38(0x1d1)]='day-col-header\x20'+(_0x5855ec?_0x64fc38(0x22e):''),_0x70fcc7[_0x64fc38(0x2a3)](_0x64fc38(0x23c),_0xb2e98),_0x70fcc7['innerHTML']=_0x64fc38(0x29b)+_0x1f67aa[_0x42582a]+_0x64fc38(0x1cd)+_0xf0b245['getDate']()+_0x64fc38(0x282),_0x16c996[_0x64fc38(0x295)](_0x70fcc7);const _0x20c162=document[_0x64fc38(0x254)]('div');_0x20c162[_0x64fc38(0x1d1)]=_0x64fc38(0x1e3)+(_0x5855ec?_0x64fc38(0x22e):''),_0x20c162[_0x64fc38(0x2a3)](_0x64fc38(0x23c),_0xb2e98),_0x20c162[_0x64fc38(0x2a3)]('data-day-idx',_0x42582a),_0x2255e3['appendChild'](_0x20c162);}}function reRenderBlocks(){document['querySelectorAll']('.day-column')['forEach'](_0x50f5b6=>{const _0x2abb36=a3_0x5d0a;_0x50f5b6[_0x2abb36(0x1c6)](_0x2abb36(0x26e))[_0x2abb36(0x26a)](_0x518321=>_0x518321['remove']());const _0x234825=_0x50f5b6['getAttribute'](_0x2abb36(0x23c)),_0x43a9a8=parseInt(_0x50f5b6[_0x2abb36(0x271)]('data-day-idx')),_0x4c7b82=Math[_0x2abb36(0x1e9)](_0x50f5b6[_0x2abb36(0x1d7)]);(availabilityPattern[_0x43a9a8]||[])[_0x2abb36(0x26a)](_0x49a902=>{const _0x281a72=_0x2abb36,_0x5eb7b3=document['createElement'](_0x281a72(0x252));_0x5eb7b3[_0x281a72(0x1d1)]=_0x281a72(0x1e2),_0x5eb7b3['style']['top']=_0x49a902*GRID_H+'px',_0x5eb7b3['style'][_0x281a72(0x208)]='-'+_0x4c7b82+_0x281a72(0x1c8)+_0x49a902*GRID_H+'px',_0x50f5b6['appendChild'](_0x5eb7b3);});if(specialRanges[_0x2abb36(0x1c4)]>0x0){const _0x55be69=new Date(_0x234825+'T00:00:00')[_0x2abb36(0x1f5)](),_0x1fc84f=new Date(_0x234825+'T23:59:59')[_0x2abb36(0x1f5)]();specialRanges[_0x2abb36(0x26a)](_0x3297bd=>{const _0x2877db=_0x2abb36,_0x3664f6=new Date(_0x3297bd[_0x2877db(0x1d3)])[_0x2877db(0x1f5)](),_0x26157c=new Date(_0x3297bd[_0x2877db(0x1fe)])['getTime'](),_0x283fdf=Math['max'](_0x55be69,_0x3664f6),_0xf2bd2c=Math[_0x2877db(0x223)](_0x1fc84f,_0x26157c);if(_0x283fdf<_0xf2bd2c){const _0x48eb3b=(_0x283fdf-_0x55be69)/0x36ee80*GRID_H,_0x35bda0=(_0xf2bd2c-_0x283fdf)/0x36ee80*GRID_H,_0x33e719=document[_0x2877db(0x254)](_0x2877db(0x252));_0x35bda0>=23.5*GRID_H?(_0x33e719['className']=_0x2877db(0x1cb),_0x33e719[_0x2877db(0x24f)]['backgroundPosition']='-'+_0x4c7b82+_0x2877db(0x209)):(_0x33e719[_0x2877db(0x1d1)]=_0x2877db(0x243),_0x33e719[_0x2877db(0x24f)][_0x2877db(0x284)]=_0x48eb3b+'px',_0x33e719[_0x2877db(0x24f)][_0x2877db(0x1e8)]=_0x35bda0+'px',_0x33e719[_0x2877db(0x24f)]['backgroundPosition']='-'+_0x4c7b82+_0x2877db(0x1c8)+_0x48eb3b+'px'),_0x50f5b6[_0x2877db(0x295)](_0x33e719);}});}renderEventsForColumn(_0x50f5b6,_0x234825);});}function renderEventsForColumn(_0x54ce97,_0x459801){const _0xff61e9=a3_0x429b30,_0x4f4a89=sessions[_0xff61e9(0x227)](_0x19c2a8=>_0x19c2a8['dateStr']===_0x459801),_0x156051=_0x4f4a89[_0xff61e9(0x2a1)](_0x16bf33=>{const _0xb6de68=_0xff61e9,[_0xc6528f,_0x44f243]=_0x16bf33[_0xb6de68(0x1d3)][_0xb6de68(0x1c7)](':')[_0xb6de68(0x2a1)](Number),[_0x263219,_0x5848b3]=_0x16bf33[_0xb6de68(0x1fe)][_0xb6de68(0x1c7)](':')[_0xb6de68(0x2a1)](Number);return{'data':_0x16bf33,'start':_0xc6528f*0x3c+_0x44f243,'end':_0x263219*0x3c+_0x5848b3,'colIndex':0x0};});_0x156051[_0xff61e9(0x1eb)]((_0x326971,_0x654fa7)=>_0x326971[_0xff61e9(0x1d3)]-_0x654fa7['start']||_0x654fa7[_0xff61e9(0x1fe)]-_0x654fa7[_0xff61e9(0x1d3)]-(_0x326971[_0xff61e9(0x1fe)]-_0x326971[_0xff61e9(0x1d3)]));const _0x6a72e7=[];_0x156051[_0xff61e9(0x26a)](_0x3ea61f=>{const _0x1da26e=_0xff61e9;let _0x24cdfe=![];for(let _0x2c66ef=0x0;_0x2c66ef<_0x6a72e7['length'];_0x2c66ef++){const _0x563b85=_0x6a72e7[_0x2c66ef];if(_0x3ea61f[_0x1da26e(0x1d3)]>=_0x563b85[_0x563b85['length']-0x1]['end']){_0x563b85[_0x1da26e(0x265)](_0x3ea61f),_0x3ea61f[_0x1da26e(0x1da)]=_0x2c66ef,_0x24cdfe=!![];break;}}!_0x24cdfe&&(_0x6a72e7[_0x1da26e(0x265)]([_0x3ea61f]),_0x3ea61f['colIndex']=_0x6a72e7[_0x1da26e(0x1c4)]-0x1);}),_0x156051[_0xff61e9(0x26a)](_0xe5f955=>{const _0x2fac8=_0xff61e9;let _0x78c322=0x0;_0x156051[_0x2fac8(0x26a)](_0x33d2e3=>{const _0x1674f2=_0x2fac8;if(Math[_0x1674f2(0x1ea)](_0xe5f955[_0x1674f2(0x1d3)],_0x33d2e3[_0x1674f2(0x1d3)])<Math['min'](_0xe5f955[_0x1674f2(0x1fe)],_0x33d2e3[_0x1674f2(0x1fe)])&&_0x33d2e3['colIndex']>_0x78c322)_0x78c322=_0x33d2e3['colIndex'];});const _0x2548e3=_0x78c322+0x1,_0xe69ca9=0x64/_0x2548e3,_0x3c6d23=_0xe5f955[_0x2fac8(0x1da)]*_0xe69ca9,_0x1c3d07=document[_0x2fac8(0x254)](_0x2fac8(0x252)),_0xb3cfcb=_0xe5f955[_0x2fac8(0x1c1)];let _0x408bc8='#0a84ff';if(clients&&clients[_0x2fac8(0x1c4)]>0x0){const _0x21df2d=clients[_0x2fac8(0x2a4)](_0x3ebc7a=>String(_0x3ebc7a['id'])===String(_0xb3cfcb[_0x2fac8(0x221)]));if(_0x21df2d&&_0x21df2d[_0x2fac8(0x1fa)])_0x408bc8=_0x21df2d[_0x2fac8(0x1fa)];}const _0x28e435=_0xb3cfcb[_0x2fac8(0x219)]===_0x2fac8(0x259),_0x3c822e=_0x28e435?0x1:0.45;_0x1c3d07[_0x2fac8(0x1d1)]=_0x2fac8(0x294)+(_0x28e435?'\x20status-completed':''),_0x1c3d07[_0x2fac8(0x24f)][_0x2fac8(0x250)]=hexToRgba(_0x408bc8,_0x3c822e),_0x1c3d07[_0x2fac8(0x24f)][_0x2fac8(0x226)]=_0x408bc8;const _0xd0f3e0=_0xe5f955[_0x2fac8(0x1d3)]/0x3c*GRID_H,_0x30bdb1=(_0xe5f955[_0x2fac8(0x1fe)]-_0xe5f955[_0x2fac8(0x1d3)])/0x3c*GRID_H;_0x1c3d07[_0x2fac8(0x24f)][_0x2fac8(0x284)]=_0xd0f3e0+'px',_0x1c3d07['style'][_0x2fac8(0x1e8)]=Math[_0x2fac8(0x1ea)](_0x30bdb1,0x14)+'px',_0x1c3d07['style'][_0x2fac8(0x24c)]=_0x2fac8(0x1e0)+_0xe69ca9+_0x2fac8(0x264),_0x1c3d07[_0x2fac8(0x24f)]['left']='calc('+_0x3c6d23+_0x2fac8(0x1ff),_0x1c3d07['style'][_0x2fac8(0x22f)]=0xa+_0xe5f955[_0x2fac8(0x1da)];if(_0xe69ca9<0x55)_0x1c3d07[_0x2fac8(0x206)][_0x2fac8(0x22a)](_0x2fac8(0x229));let _0x3e5666='';if(_0xb3cfcb['seriesId'])_0x3e5666+=_0x2fac8(0x280);if(_0x28e435)_0x3e5666+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1c3d07[_0x2fac8(0x28c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0xb3cfcb[_0x2fac8(0x1d3)]+_0x2fac8(0x200)+_0xb3cfcb[_0x2fac8(0x1fe)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e5666+_0x2fac8(0x1b5),_0x1c3d07[_0x2fac8(0x28b)]=_0x3b4665=>{const _0x5b78c2=_0x2fac8;_0x3b4665[_0x5b78c2(0x242)](),openDetails(_0xb3cfcb);},_0x54ce97['appendChild'](_0x1c3d07);});}function openAnalytics(){const _0x28b513=a3_0x429b30,_0x296f53=document['querySelector'](_0x28b513(0x241));setAnalyticsPeriod(_0x28b513(0x1d8),_0x296f53),openSheet(_0x28b513(0x29f));}function setAnalyticsPeriod(_0x56daa0,_0x17bf63){const _0xcbbc54=a3_0x429b30;currentAnPeriod=_0x56daa0,document[_0xcbbc54(0x1c6)](_0xcbbc54(0x241))[_0xcbbc54(0x26a)](_0x17ee12=>_0x17ee12[_0xcbbc54(0x206)]['remove']('active'));if(_0x17bf63)_0x17bf63[_0xcbbc54(0x206)][_0xcbbc54(0x22a)](_0xcbbc54(0x253));const _0x18110d=document['getElementById'](_0xcbbc54(0x205));_0x18110d[_0xcbbc54(0x24f)][_0xcbbc54(0x292)]=_0x56daa0===_0xcbbc54(0x21d)?_0xcbbc54(0x1f0):_0xcbbc54(0x290);const _0x341931=new Date();let _0x10042=new Date(),_0x2a3942=new Date();if(_0x56daa0===_0xcbbc54(0x1d8))_0x10042=getStartOfWeek(_0x341931),_0x2a3942=new Date(_0x10042),_0x2a3942['setDate'](_0x2a3942[_0xcbbc54(0x240)]()+0x6);else{if(_0x56daa0===_0xcbbc54(0x204))_0x10042=new Date(_0x341931[_0xcbbc54(0x299)](),_0x341931[_0xcbbc54(0x288)](),0x1),_0x2a3942=new Date(_0x341931[_0xcbbc54(0x299)](),_0x341931[_0xcbbc54(0x288)]()+0x1,0x0);else{!document[_0xcbbc54(0x245)](_0xcbbc54(0x1fd))['value']&&(document[_0xcbbc54(0x245)](_0xcbbc54(0x1fd))['value']=getLocalDateStr(_0x341931),document['getElementById'](_0xcbbc54(0x28f))[_0xcbbc54(0x266)]=getLocalDateStr(_0x341931));refreshAnalytics();return;}}document[_0xcbbc54(0x245)](_0xcbbc54(0x1fd))[_0xcbbc54(0x266)]=getLocalDateStr(_0x10042),document[_0xcbbc54(0x245)](_0xcbbc54(0x28f))['value']=getLocalDateStr(_0x2a3942),refreshAnalytics();}function refreshAnalytics(){const _0x514e03=a3_0x429b30,_0x110c38=document[_0x514e03(0x245)](_0x514e03(0x1fd))[_0x514e03(0x266)],_0x2c1307=document['getElementById'](_0x514e03(0x28f))['value'];if(!_0x110c38||!_0x2c1307)return;const _0x50a32d=sessions[_0x514e03(0x227)](_0x2bfc6a=>_0x2bfc6a[_0x514e03(0x2af)]>=_0x110c38&&_0x2bfc6a[_0x514e03(0x2af)]<=_0x2c1307&&_0x2bfc6a[_0x514e03(0x219)]!==_0x514e03(0x27c)),_0x20c378=_0x50a32d[_0x514e03(0x1c4)],_0x3b7553=_0x50a32d[_0x514e03(0x227)](_0x2daed9=>_0x2daed9[_0x514e03(0x219)]===_0x514e03(0x259))[_0x514e03(0x1c4)],_0x54be37=_0x20c378>0x0?Math[_0x514e03(0x1e9)](_0x3b7553/_0x20c378*0x64):0x0;document['getElementById']('anPercent')[_0x514e03(0x275)]=_0x54be37+'%',document['getElementById']('anTotalStats')[_0x514e03(0x275)]=_0x3b7553+_0x514e03(0x1bd)+_0x20c378+_0x514e03(0x236);const _0x3d39b4=document['getElementById'](_0x514e03(0x25d)),_0x5d00b3=0x2*Math['PI']*0x23,_0x1a070f=_0x5d00b3-_0x54be37/0x64*_0x5d00b3;_0x3d39b4[_0x514e03(0x24f)][_0x514e03(0x1b6)]=_0x1a070f;const _0x58dd74={};_0x50a32d[_0x514e03(0x26a)](_0x140879=>{const _0x22bed4=_0x514e03,_0x32c092=_0x140879[_0x22bed4(0x1b2)]||_0x22bed4(0x20d);if(!_0x58dd74[_0x32c092]){const _0x5a598e='#'+_0x32c092[_0x22bed4(0x21c)]()[_0x22bed4(0x2b0)](0x0,0x6);_0x58dd74[_0x32c092]={'total':0x0,'done':0x0,'color':_0x5a598e};}_0x58dd74[_0x32c092][_0x22bed4(0x234)]++;if(_0x140879[_0x22bed4(0x219)]===_0x22bed4(0x259))_0x58dd74[_0x32c092]['done']++;});const _0x9f0a8e=document[_0x514e03(0x245)](_0x514e03(0x225));_0x9f0a8e[_0x514e03(0x28c)]='';const _0x2f3d7d=Object['entries'](_0x58dd74)['sort']((_0x367eb7,_0x33f551)=>_0x33f551[0x1][_0x514e03(0x234)]-_0x367eb7[0x1]['total']);if(_0x2f3d7d[_0x514e03(0x1c4)]===0x0){_0x9f0a8e['innerHTML']=_0x514e03(0x1b1);return;}_0x2f3d7d[_0x514e03(0x26a)](([_0x45f871,_0x5e997c])=>{const _0x56c9c7=_0x514e03,_0x378e31=Math[_0x56c9c7(0x1e9)](_0x5e997c[_0x56c9c7(0x260)]/_0x5e997c['total']*0x64),_0x57fcf4=document[_0x56c9c7(0x254)](_0x56c9c7(0x252));_0x57fcf4['className']=_0x56c9c7(0x1bf),_0x57fcf4[_0x56c9c7(0x24f)]['borderLeftColor']=_0x5e997c['color'],_0x57fcf4[_0x56c9c7(0x28c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x45f871['substr'](0x0,0x5)+_0x56c9c7(0x1c5)+_0x5e997c[_0x56c9c7(0x260)]+_0x56c9c7(0x25e)+_0x5e997c[_0x56c9c7(0x234)]+_0x56c9c7(0x1c2)+_0x378e31+_0x56c9c7(0x1ba),_0x9f0a8e[_0x56c9c7(0x295)](_0x57fcf4);});}function openDetails(_0xb18ba4){const _0x4ce95a=a3_0x429b30;currentSession=_0xb18ba4;const _0x92aaf6=new Date(_0xb18ba4[_0x4ce95a(0x2af)]),_0x2b5d82=_0x92aaf6[_0x4ce95a(0x203)](_0x4ce95a(0x1ca),{'weekday':_0x4ce95a(0x269),'day':_0x4ce95a(0x23d),'month':_0x4ce95a(0x269)});document[_0x4ce95a(0x245)](_0x4ce95a(0x2ae))['textContent']=_0x2b5d82[_0x4ce95a(0x27f)](0x0)[_0x4ce95a(0x26f)]()+_0x2b5d82[_0x4ce95a(0x257)](0x1),document[_0x4ce95a(0x245)](_0x4ce95a(0x256))[_0x4ce95a(0x275)]=_0xb18ba4[_0x4ce95a(0x1d3)]+'\x20-\x20'+_0xb18ba4[_0x4ce95a(0x1fe)],document['getElementById'](_0x4ce95a(0x291))['textContent']=_0xb18ba4[_0x4ce95a(0x1c0)]||_0x4ce95a(0x27d);const _0x47a561=document['getElementById'](_0x4ce95a(0x212)),_0x2b2c6d=document[_0x4ce95a(0x245)](_0x4ce95a(0x1db)),_0x254a57=_0x2b2c6d[_0x4ce95a(0x25b)]('.btn-cancel'),_0x5a7ba2=_0x2b2c6d[_0x4ce95a(0x25b)](_0x4ce95a(0x247)),_0x195480=document[_0x4ce95a(0x245)](_0x4ce95a(0x1c9));if(_0xb18ba4['status']===_0x4ce95a(0x259))_0x47a561[_0x4ce95a(0x275)]=_0x4ce95a(0x28a),_0x47a561[_0x4ce95a(0x24f)]['color']=_0x4ce95a(0x228),_0x2b2c6d[_0x4ce95a(0x24f)][_0x4ce95a(0x292)]=_0x4ce95a(0x290);else{_0x47a561[_0x4ce95a(0x275)]=_0x4ce95a(0x1bc),_0x47a561[_0x4ce95a(0x24f)][_0x4ce95a(0x1fa)]=_0x4ce95a(0x1d5),_0x2b2c6d[_0x4ce95a(0x24f)][_0x4ce95a(0x292)]=_0x4ce95a(0x26d);const _0x179a04=new Date(_0xb18ba4[_0x4ce95a(0x2af)]+'T'+_0xb18ba4[_0x4ce95a(0x1d3)]),_0x910750=new Date(),_0xf7532c=(_0x179a04-_0x910750)/(0x3e8*0x3c*0x3c),_0x2f04a0=coachProfiles[_0xb18ba4[_0x4ce95a(0x1b2)]]&&coachProfiles[_0xb18ba4[_0x4ce95a(0x1b2)]][_0x4ce95a(0x267)]?parseInt(coachProfiles[_0xb18ba4['coachId']]['cancel_window']):0x18;if(_0x2f04a0===0x0||_0xf7532c>=_0x2f04a0)_0x254a57[_0x4ce95a(0x24f)][_0x4ce95a(0x292)]=_0x4ce95a(0x26d),_0x5a7ba2['style'][_0x4ce95a(0x292)]=_0x4ce95a(0x26d),_0x195480[_0x4ce95a(0x24f)][_0x4ce95a(0x292)]=_0x4ce95a(0x290);else{_0x254a57['style'][_0x4ce95a(0x292)]=_0x4ce95a(0x290),_0x5a7ba2[_0x4ce95a(0x24f)][_0x4ce95a(0x292)]='none',_0x195480[_0x4ce95a(0x24f)]['display']=_0x4ce95a(0x26d);let _0x5d4d39=_0x2f04a0===0x0?_0x4ce95a(0x230):'–∑–∞\x20'+_0x2f04a0+_0x4ce95a(0x1e7);_0x195480[_0x4ce95a(0x275)]=_0x4ce95a(0x22c)+_0x5d4d39+_0x4ce95a(0x23b);}}document['getElementById'](_0x4ce95a(0x296))['classList'][_0x4ce95a(0x22a)](_0x4ce95a(0x253)),document[_0x4ce95a(0x245)](_0x4ce95a(0x1e5))[_0x4ce95a(0x206)]['add'](_0x4ce95a(0x22b));}function closeAllSheets(){const _0x22f948=a3_0x429b30;document[_0x22f948(0x245)](_0x22f948(0x296))[_0x22f948(0x206)][_0x22f948(0x258)](_0x22f948(0x253)),document[_0x22f948(0x1c6)]('.sheet')['forEach'](_0x5060ec=>_0x5060ec[_0x22f948(0x206)][_0x22f948(0x258)]('open'));}function openSheet(_0x4a3d06){const _0x2a9fbb=a3_0x429b30;document[_0x2a9fbb(0x245)](_0x2a9fbb(0x296))[_0x2a9fbb(0x206)][_0x2a9fbb(0x22a)](_0x2a9fbb(0x253)),document['getElementById'](_0x4a3d06)[_0x2a9fbb(0x206)][_0x2a9fbb(0x22a)](_0x2a9fbb(0x22b));}function getLocalDateStr(_0x21cb5a){const _0x4f3078=a3_0x429b30,_0x57ac14=_0x21cb5a[_0x4f3078(0x299)](),_0x34d947=String(_0x21cb5a[_0x4f3078(0x288)]()+0x1)[_0x4f3078(0x224)](0x2,'0'),_0x3b7e57=String(_0x21cb5a['getDate']())[_0x4f3078(0x224)](0x2,'0');return _0x57ac14+'-'+_0x34d947+'-'+_0x3b7e57;}function getStartOfWeek(_0x818bcf){const _0x5be6d5=a3_0x429b30,_0x408622=new Date(_0x818bcf),_0x21e8c4=_0x408622['getDay'](),_0x2c4e82=_0x408622[_0x5be6d5(0x240)]()-_0x21e8c4+(_0x21e8c4===0x0?-0x6:0x1);return _0x408622[_0x5be6d5(0x1ec)](_0x2c4e82),_0x408622[_0x5be6d5(0x1b4)](0x0,0x0,0x0,0x0),_0x408622;}function scrollToToday(){const _0x73a4ab=getLocalDateStr(new Date());setTimeout(()=>{const _0xa77ce6=a3_0x5d0a,_0x461024=document[_0xa77ce6(0x25b)](_0xa77ce6(0x27a)+_0x73a4ab+'\x22]');if(_0x461024){const _0x503b27=document[_0xa77ce6(0x245)](_0xa77ce6(0x222)),_0x3d0ec7=_0x461024['offsetLeft']-_0x503b27[_0xa77ce6(0x1f7)]/0x2+_0x461024['offsetWidth']/0x2;_0x503b27[_0xa77ce6(0x21a)]({'left':_0x3d0ec7,'behavior':'auto'}),_0x503b27[_0xa77ce6(0x2ab)]=0x9*GRID_H;}},0x32);}function a3_0x5d0a(_0x597d68,_0x2f5b20){_0x597d68=_0x597d68-0x1b1;const _0x3463b9=a3_0x4a87();let _0x11261d=_0x3463b9[_0x597d68];return _0x11261d;}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1877e9=a3_0x429b30,_0x51246d=new Date(),_0x249951=document[_0x1877e9(0x245)](_0x1877e9(0x232)),_0x3ee18c=document['getElementById'](_0x1877e9(0x201)),_0xa401c=(_0x51246d['getHours']()*0x3c+_0x51246d[_0x1877e9(0x211)]())/0x3c*GRID_H;_0x249951['style']['top']=_0xa401c+'px',_0x249951[_0x1877e9(0x24f)][_0x1877e9(0x292)]=_0x1877e9(0x26d),_0x3ee18c[_0x1877e9(0x24f)]['top']=_0xa401c+'px',_0x3ee18c['style'][_0x1877e9(0x292)]='block',_0x3ee18c[_0x1877e9(0x275)]=String(_0x51246d[_0x1877e9(0x246)]())[_0x1877e9(0x224)](0x2,'0')+':'+String(_0x51246d[_0x1877e9(0x211)]())[_0x1877e9(0x224)](0x2,'0');}function onScroll(){const _0x22c2fc=a3_0x429b30,_0xdbfe03=document[_0x22c2fc(0x245)](_0x22c2fc(0x222)),_0x1952aa=document[_0x22c2fc(0x1c6)](_0x22c2fc(0x1f3));for(let _0xdccb52 of _0x1952aa)if(_0xdccb52[_0x22c2fc(0x1d7)]>=_0xdbfe03[_0x22c2fc(0x1df)]){const _0x21113a=new Date(_0xdccb52[_0x22c2fc(0x271)](_0x22c2fc(0x23c)));document[_0x22c2fc(0x245)](_0x22c2fc(0x268))[_0x22c2fc(0x275)]=_0x21113a[_0x22c2fc(0x1de)]('ru',{'month':_0x22c2fc(0x269)})[_0x22c2fc(0x26f)]()+'\x20'+_0x21113a[_0x22c2fc(0x299)]();break;}}function showToast(_0x34d263){const _0x5374df=a3_0x429b30,_0x3fb3a8=document['getElementById'](_0x5374df(0x2a5));_0x3fb3a8[_0x5374df(0x275)]=_0x34d263,_0x3fb3a8[_0x5374df(0x206)][_0x5374df(0x22a)](_0x5374df(0x22d)),setTimeout(()=>_0x3fb3a8[_0x5374df(0x206)][_0x5374df(0x258)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x236e27=a3_0x429b30,_0x7d08ba=document[_0x236e27(0x245)](_0x236e27(0x222)),_0x52352a=_0x7d08ba['scrollLeft'],_0x974bc3=_0x7d08ba['scrollWidth'],_0x449605=_0x7d08ba[_0x236e27(0x1f7)];if(_0x974bc3-(_0x52352a+_0x449605)<0x12c){const _0x369379=endOffset;endOffset+=0xe,renderDayRange(_0x369379+0x1,endOffset),reRenderBlocks();}if(_0x52352a<0x12c){const _0x257897=startOffset;startOffset-=0xe,prependDays(startOffset,_0x257897-0x1),_0x7d08ba[_0x236e27(0x1df)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2b8746,_0x45e361){const _0x423c22=a3_0x429b30,_0x583fb9=document['getElementById'](_0x423c22(0x279)),_0x18de8f=document[_0x423c22(0x245)]('gridColumns'),_0x56890a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x19ac00=new Date();_0x19ac00['setHours'](0x0,0x0,0x0,0x0);const _0x85a09a=getLocalDateStr(new Date()),_0x4bdf8c=document[_0x423c22(0x26c)](),_0x376b80=document[_0x423c22(0x26c)]();for(let _0x553039=_0x2b8746;_0x553039<=_0x45e361;_0x553039++){const _0x398414=new Date(_0x19ac00);_0x398414[_0x423c22(0x1ec)](_0x398414[_0x423c22(0x240)]()+_0x553039);const _0x17d0b7=getLocalDateStr(_0x398414);let _0x955916=_0x398414[_0x423c22(0x298)]()-0x1;if(_0x955916===-0x1)_0x955916=0x6;const _0x4cbf9f=_0x17d0b7===_0x85a09a,_0x4b5a25=document[_0x423c22(0x254)]('div');_0x4b5a25[_0x423c22(0x1d1)]='day-col-header\x20'+(_0x4cbf9f?_0x423c22(0x22e):''),_0x4b5a25[_0x423c22(0x2a3)](_0x423c22(0x23c),_0x17d0b7),_0x4b5a25[_0x423c22(0x28c)]=_0x423c22(0x29b)+_0x56890a[_0x955916]+_0x423c22(0x1cd)+_0x398414[_0x423c22(0x240)]()+'</div>',_0x4bdf8c[_0x423c22(0x295)](_0x4b5a25);const _0x3b2e48=document[_0x423c22(0x254)](_0x423c22(0x252));_0x3b2e48[_0x423c22(0x1d1)]=_0x423c22(0x1e3)+(_0x4cbf9f?_0x423c22(0x22e):''),_0x3b2e48[_0x423c22(0x2a3)](_0x423c22(0x23c),_0x17d0b7),_0x3b2e48[_0x423c22(0x2a3)](_0x423c22(0x1f6),_0x955916),_0x376b80[_0x423c22(0x295)](_0x3b2e48);}_0x583fb9[_0x423c22(0x1b3)](_0x4bdf8c,_0x583fb9[_0x423c22(0x237)]),_0x18de8f['insertBefore'](_0x376b80,_0x18de8f[_0x423c22(0x25b)](_0x423c22(0x293)));}function hexToRgba(_0x38f473,_0x5d7594){const _0x40de46=a3_0x429b30;let _0x24e8a4;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x40de46(0x1ef)](_0x38f473))return _0x24e8a4=_0x38f473[_0x40de46(0x273)](0x1)[_0x40de46(0x1c7)](''),_0x24e8a4[_0x40de46(0x1c4)]==0x3&&(_0x24e8a4=[_0x24e8a4[0x0],_0x24e8a4[0x0],_0x24e8a4[0x1],_0x24e8a4[0x1],_0x24e8a4[0x2],_0x24e8a4[0x2]]),_0x24e8a4='0x'+_0x24e8a4[_0x40de46(0x1f8)](''),_0x40de46(0x1fb)+[_0x24e8a4>>0x10&0xff,_0x24e8a4>>0x8&0xff,_0x24e8a4&0xff]['join'](',')+','+_0x5d7594+')';return'rgba(10,\x20132,\x20255,\x20'+_0x5d7594+')';}let confirmResolver=null;function showCustomConfirm(_0x15b37a,_0x2031c3,_0x5264d6=!![]){const _0xa7d043=a3_0x429b30;document[_0xa7d043(0x245)](_0xa7d043(0x24b))[_0xa7d043(0x275)]=_0x15b37a,document['getElementById']('ccText')[_0xa7d043(0x275)]=_0x2031c3;const _0x236ace=document[_0xa7d043(0x245)](_0xa7d043(0x1d6));return _0x5264d6?(_0x236ace[_0xa7d043(0x24f)][_0xa7d043(0x1fa)]=_0xa7d043(0x235),_0x236ace[_0xa7d043(0x24f)][_0xa7d043(0x25f)]='600'):(_0x236ace[_0xa7d043(0x24f)][_0xa7d043(0x1fa)]='#0a84ff',_0x236ace[_0xa7d043(0x24f)]['fontWeight']='600'),new Promise(_0x524e19=>{const _0x3fc575=_0xa7d043;confirmResolver=_0x524e19,document[_0x3fc575(0x245)](_0x3fc575(0x2aa))[_0x3fc575(0x206)][_0x3fc575(0x22a)](_0x3fc575(0x274));});}function resolveCustomConfirm(_0x52db1a){const _0x551d76=a3_0x429b30;document[_0x551d76(0x245)]('customConfirm')[_0x551d76(0x206)][_0x551d76(0x258)](_0x551d76(0x274));if(confirmResolver)confirmResolver(_0x52db1a);}async function tryCancelCurrentSession(){const _0x2bb618=a3_0x429b30;if(!currentSession)return;const _0x49bea9=await showCustomConfirm(_0x2bb618(0x202),_0x2bb618(0x1d0),!![]);if(!_0x49bea9)return;const _0x39c13a=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x203ba3=>_0x203ba3['id']!==_0x39c13a['id']),reRenderBlocks(),showToast(_0x2bb618(0x20a)),lastUserActionTime=Date[_0x2bb618(0x2a7)]();try{const _0x579350=window['Telegram']?.[_0x2bb618(0x1d2)],_0x446666=await fetch(API_URL,{'method':_0x2bb618(0x1bb),'body':JSON[_0x2bb618(0x1b9)]({'action':_0x2bb618(0x27b),'init_data':_0x579350?.[_0x2bb618(0x25a)]||'','coachId':_0x39c13a[_0x2bb618(0x1b2)],'dateStr':_0x39c13a[_0x2bb618(0x2af)],'sessionId':_0x39c13a['id']})});if(_0x446666['ok'])DataManager[_0x2bb618(0x29d)]();}catch(_0x13cf55){showToast(_0x2bb618(0x28d));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3450f8=a3_0x429b30;if(!currentSession)return;document[_0x3450f8(0x245)]('detailsSheet')[_0x3450f8(0x206)]['remove'](_0x3450f8(0x22b)),document['getElementById']('rescheduleSheet')[_0x3450f8(0x206)][_0x3450f8(0x22a)](_0x3450f8(0x22b));const _0x9d3c18=document['getElementById'](_0x3450f8(0x2a6)),_0x3d53fb=document['getElementById'](_0x3450f8(0x261));_0x9d3c18['innerHTML']='',_0x3d53fb[_0x3450f8(0x28c)]=_0x3450f8(0x1b7);const [_0x70d08b,_0x4f574b]=currentSession[_0x3450f8(0x1d3)][_0x3450f8(0x1c7)](':')[_0x3450f8(0x2a1)](Number),[_0xbb979a,_0x4eebd4]=currentSession[_0x3450f8(0x1fe)][_0x3450f8(0x1c7)](':')[_0x3450f8(0x2a1)](Number),_0x47b595=_0xbb979a*0x3c+_0x4eebd4-(_0x70d08b*0x3c+_0x4f574b);try{const _0x2f271c=window['Telegram']?.[_0x3450f8(0x1d2)],_0x304bca=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x3450f8(0x233),'coachId':currentSession['coachId'],'duration':_0x47b595,'init_data':_0x2f271c?.[_0x3450f8(0x25a)]||'','excludeSessionId':currentSession['id']})}),_0x474ac1=await _0x304bca[_0x3450f8(0x1c3)]();_0x474ac1['ok']&&_0x474ac1[_0x3450f8(0x1c1)]?(availableSlotsCache=_0x474ac1[_0x3450f8(0x1c1)],renderRescheduleDates()):_0x3d53fb[_0x3450f8(0x28c)]=_0x3450f8(0x249);}catch(_0x28eb42){_0x3d53fb[_0x3450f8(0x28c)]=_0x3450f8(0x21e);}}function renderRescheduleDates(){const _0xc1a249=a3_0x429b30,_0x19c05d=document['getElementById'](_0xc1a249(0x2a6));_0x19c05d[_0xc1a249(0x28c)]='';const _0x38a187=Object[_0xc1a249(0x272)](availableSlotsCache)[_0xc1a249(0x1eb)](),_0x1a0dfb=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x38a187[_0xc1a249(0x1c4)]===0x0){document[_0xc1a249(0x245)](_0xc1a249(0x261))[_0xc1a249(0x28c)]=_0xc1a249(0x23f);return;}_0x38a187[_0xc1a249(0x26a)]((_0x10eab6,_0x5d5d7b)=>{const _0x5d13e3=_0xc1a249,_0x1a4689=new Date(_0x10eab6),_0x2fd89e=_0x1a0dfb[_0x1a4689[_0x5d13e3(0x298)]()],_0x5e657e=_0x1a4689[_0x5d13e3(0x240)](),_0x5c4eef=document[_0x5d13e3(0x254)]('div');_0x5c4eef[_0x5d13e3(0x1d1)]=_0x5d13e3(0x263);if(_0x5d5d7b===0x0)_0x5c4eef[_0x5d13e3(0x206)][_0x5d13e3(0x22a)](_0x5d13e3(0x253));_0x5c4eef[_0x5d13e3(0x28c)]=_0x5d13e3(0x285)+_0x2fd89e+_0x5d13e3(0x1ed)+_0x5e657e+_0x5d13e3(0x282),_0x5c4eef[_0x5d13e3(0x28b)]=()=>selectRsDate(_0x10eab6,_0x5c4eef),_0x19c05d[_0x5d13e3(0x295)](_0x5c4eef);}),selectRsDate(_0x38a187[0x0],_0x19c05d[_0xc1a249(0x237)]);}function selectRsDate(_0x1abd65,_0x3d73f6){const _0x245f5b=a3_0x429b30;selectedRsDate=_0x1abd65,document[_0x245f5b(0x1c6)](_0x245f5b(0x29e))[_0x245f5b(0x26a)](_0x19882f=>_0x19882f['classList'][_0x245f5b(0x258)]('active'));if(_0x3d73f6)_0x3d73f6[_0x245f5b(0x206)][_0x245f5b(0x22a)]('active');const _0x44b4b4=document[_0x245f5b(0x245)](_0x245f5b(0x261));_0x44b4b4['innerHTML']='';const _0x5bd9bb=availableSlotsCache[_0x1abd65]||[];if(_0x5bd9bb[_0x245f5b(0x1c4)]===0x0){_0x44b4b4[_0x245f5b(0x28c)]=_0x245f5b(0x249);return;}_0x5bd9bb[_0x245f5b(0x26a)](_0x3d7321=>{const _0x2cc5db=_0x245f5b,_0x32de47=document['createElement'](_0x2cc5db(0x29a));_0x32de47[_0x2cc5db(0x1d1)]=_0x2cc5db(0x220),_0x32de47[_0x2cc5db(0x275)]=_0x3d7321,_0x32de47[_0x2cc5db(0x28b)]=()=>confirmReschedule(_0x3d7321),_0x44b4b4[_0x2cc5db(0x295)](_0x32de47);});}function a3_0x4a87(){const _0x5572eb=['Telegram','getDay','getFullYear','button','<div\x20class=\x22dch-day\x22>','setItem','saveLocally','.rs-date-chip','analyticsSheet','ready','map','\x20–≤\x20','setAttribute','find','toast','rsDatesTrack','now','setHeaderColor','getItem','customConfirm','scrollTop','223mSCWin','location','detDate','dateStr','substr','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','coachId','insertBefore','setHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeDashoffset','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','log','stringify','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','\x20–∏–∑\x20','5354504DYrFLC','client-stat-card','note','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','json','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','querySelectorAll','split','px\x20-','cancelHint','ru-RU','day-off-overlay\x20stripe-bg','244233rdgiwh','</div><div\x20class=\x22dch-num\x22>','startsWith','2638sEeSOD','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','className','WebApp','start','user','var(--acc-blue)','ccYesBtn','offsetLeft','week','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','colIndex','cancelContainer','110sQjYZz','setMonth','toLocaleString','scrollLeft','calc(','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','blocked-slot\x20stripe-bg','day-column\x20','uc_client_sessions','detailsSheet','#050505','\x20—á.','height','round','max','sort','setDate','</div><div\x20class=\x22rs-day-num\x22>','client_load','test','flex','expand','setBackgroundColor','.day-col-header','<span>','getTime','data-day-idx','clientWidth','join','860352swPtls','color','rgba(','pattern','anStart','end','%\x20+\x202px)','\x20-\x20','timeLineBadge','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','toLocaleDateString','month','anCustomDates','classList','applyData','backgroundPosition','px\x200px','–û—Ç–º–µ–Ω–µ–Ω–æ','parse','294xwHRUw','Unknown','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','disableVerticalSwipes','planned','getMinutes','detStatus','syncLoad','Critical\x20TMA\x20Error:','15192GSvRcd','cid','apply','ranges','status','scrollTo','onClick','toString','custom','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','calendar','rs-time-btn','clientId','matrixViewport','min','padStart','analyticsList','borderLeftColor','filter','var(--acc-green)','mini','add','open','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','show','today','zIndex','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','globalTimeLine','get_slots','total','#ff453a','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','firstChild','Error\x20setting\x20color:','clients','addEventListener','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','data-date','numeric','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getDate','.period-switch\x20.p-btn','stopPropagation','blocked-range-part\x20stripe-bg','href','getElementById','getHours','.btn-reschedule','(((.+)+)+)+$','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','scroll','ccTitle','width','9MnrkkK','BackButton','style','backgroundColor','loadLocal','div','active','createElement','v9.5-CLIENT-ANALYTICS','detTime','slice','remove','completed','initData','querySelector','error','anDonutCircle','</span>\x20/\x20','fontWeight','done','rsSlotsGrid','search','rs-date-chip','%\x20-\x204px)','push','value','cancel_window','headerMonth','long','forEach','initDataUnsafe','createDocumentFragment','block','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','toUpperCase','exceptions','getAttribute','keys','substring','visible','textContent','timeColumn','1163924UIoZOM','all','daysHeaderTrack','.day-col-header[data-date=\x22','client_cancel','cancelled','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','uc_client_settings','charAt','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','1852285Eohjkq','</div>','then','top','<div\x20class=\x22rs-day-name\x22>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','settings','getMonth','isArray','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','onclick','innerHTML','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','anEnd','none','detNote','display','.day-column','event-card','appendChild','overlay'];a3_0x4a87=function(){return _0x5572eb;};return a3_0x4a87();}async function confirmReschedule(_0x5c2957){const _0x1e4151=a3_0x429b30,_0x1d0d60=new Date(selectedRsDate),_0x397bff=_0x1d0d60[_0x1e4151(0x203)](_0x1e4151(0x1ca),{'day':_0x1e4151(0x23d),'month':_0x1e4151(0x269)}),_0x5a5419=await showCustomConfirm(_0x1e4151(0x1e1),_0x1e4151(0x28e)+_0x397bff+_0x1e4151(0x2a2)+_0x5c2957+'?',![]);if(!_0x5a5419)return;closeAllSheets(),showToast(_0x1e4151(0x1d9)),lastUserActionTime=Date[_0x1e4151(0x2a7)]();const _0x30bf68=currentSession[_0x1e4151(0x2af)],_0x5c56ac=currentSession['id'],[_0x5b07cd,_0x1872b5]=currentSession[_0x1e4151(0x1d3)][_0x1e4151(0x1c7)](':')[_0x1e4151(0x2a1)](Number),[_0x2b44e4,_0x427a59]=currentSession['end'][_0x1e4151(0x1c7)](':')[_0x1e4151(0x2a1)](Number),_0x22f059=_0x2b44e4*0x3c+_0x427a59-(_0x5b07cd*0x3c+_0x1872b5),[_0x3e2ef2,_0x1bb706]=_0x5c2957[_0x1e4151(0x1c7)](':')[_0x1e4151(0x2a1)](Number),_0x16b50d=_0x3e2ef2*0x3c+_0x1bb706+_0x22f059,_0x1f42c8=Math['floor'](_0x16b50d/0x3c),_0x56c5b3=_0x16b50d%0x3c,_0x8945eb=String(_0x1f42c8)[_0x1e4151(0x224)](0x2,'0')+':'+String(_0x56c5b3)[_0x1e4151(0x224)](0x2,'0'),_0x27929a=sessions['findIndex'](_0x4ced31=>_0x4ced31['id']===_0x5c56ac);_0x27929a!==-0x1&&(sessions[_0x27929a]['dateStr']=selectedRsDate,sessions[_0x27929a][_0x1e4151(0x1d3)]=_0x5c2957,sessions[_0x27929a][_0x1e4151(0x1fe)]=_0x8945eb,reRenderBlocks());try{const _0x539ec3=window['Telegram']?.[_0x1e4151(0x1d2)],_0x118153=await fetch(API_URL,{'method':_0x1e4151(0x1bb),'body':JSON[_0x1e4151(0x1b9)]({'action':'reschedule','init_data':_0x539ec3?.[_0x1e4151(0x25a)]||'','oldSessionId':_0x5c56ac,'oldDate':_0x30bf68,'newDate':selectedRsDate,'newTime':_0x5c2957,'coachId':currentSession[_0x1e4151(0x1b2)]})}),_0x5e2ce6=await _0x118153['json']();!_0x5e2ce6['ok']?(showToast(_0x1e4151(0x286)),DataManager[_0x1e4151(0x213)]()):(showToast(_0x1e4151(0x23e)),DataManager[_0x1e4151(0x29d)]());}catch(_0x5e6d8e){showToast(_0x1e4151(0x28d));}}document['addEventListener']('DOMContentLoaded',init);