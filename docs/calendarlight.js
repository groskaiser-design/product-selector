const a3_0x29be8a=a3_0x1134;(function(_0x2186bf,_0xc12a03){const _0x2468f5=a3_0x1134,_0x13fda2=_0x2186bf();while(!![]){try{const _0x2382a3=-parseInt(_0x2468f5(0x1b5))/0x1*(-parseInt(_0x2468f5(0x259))/0x2)+parseInt(_0x2468f5(0x1bb))/0x3+parseInt(_0x2468f5(0x239))/0x4+parseInt(_0x2468f5(0x1a6))/0x5+parseInt(_0x2468f5(0x1d1))/0x6+parseInt(_0x2468f5(0x1cb))/0x7*(parseInt(_0x2468f5(0x274))/0x8)+-parseInt(_0x2468f5(0x221))/0x9;if(_0x2382a3===_0xc12a03)break;else _0x13fda2['push'](_0x13fda2['shift']());}catch(_0x4d598c){_0x13fda2['push'](_0x13fda2['shift']());}}}(a3_0x2d2f,0x99dc8));const APP_VERSION=a3_0x29be8a(0x22a),API_URL=a3_0x29be8a(0x1dd),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x29be8a(0x229),KEY_CLIENTS=a3_0x29be8a(0x192);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x29be8a(0x26e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x324cd5=a3_0x29be8a,_0x158e55=(function(){let _0x1df8f0=!![];return function(_0x5dfa3f,_0x5a0d6b){const _0x38ee48=_0x1df8f0?function(){const _0x52e020=a3_0x1134;if(_0x5a0d6b){const _0x539c38=_0x5a0d6b[_0x52e020(0x1b8)](_0x5dfa3f,arguments);return _0x5a0d6b=null,_0x539c38;}}:function(){};return _0x1df8f0=![],_0x38ee48;};}()),_0x212ecc=_0x158e55(this,function(){const _0x205676=a3_0x1134;return _0x212ecc[_0x205676(0x205)]()[_0x205676(0x24b)]('(((.+)+)+)+$')[_0x205676(0x205)]()['constructor'](_0x212ecc)[_0x205676(0x24b)](_0x205676(0x25a));});_0x212ecc();try{const _0x3b717d=window[_0x324cd5(0x191)]?.[_0x324cd5(0x1a9)];if(!_0x3b717d)return;_0x3b717d[_0x324cd5(0x210)](),_0x3b717d[_0x324cd5(0x203)]();try{_0x3b717d[_0x324cd5(0x194)](_0x324cd5(0x1e8)),_0x3b717d['setBackgroundColor']&&_0x3b717d[_0x324cd5(0x1d9)](_0x324cd5(0x1e8));}catch(_0x2f240f){console[_0x324cd5(0x253)](_0x324cd5(0x228),_0x2f240f);}try{_0x3b717d[_0x324cd5(0x1c3)]&&(_0x3b717d[_0x324cd5(0x1c3)][_0x324cd5(0x19d)](),_0x3b717d['BackButton'][_0x324cd5(0x1e1)](),_0x3b717d['BackButton'][_0x324cd5(0x226)](function(){const _0x196fae=_0x324cd5;window['location'][_0x196fae(0x227)]='router.html';}));}catch(_0x5be653){console[_0x324cd5(0x253)](_0x324cd5(0x1ad),_0x5be653);}try{if(_0x3b717d['disableVerticalSwipes'])_0x3b717d['disableVerticalSwipes']();}catch(_0x3cfa1e){}}catch(_0x2fec9d){console[_0x324cd5(0x1a4)](_0x324cd5(0x20a),_0x2fec9d);}}());function isAdmin(){const _0x1d44a0=a3_0x29be8a;try{const _0x3b82b8=Number(window[_0x1d44a0(0x191)]?.['WebApp']?.['initDataUnsafe']?.[_0x1d44a0(0x1c2)]?.['id']);return _0x3b82b8===0xbaf7174;}catch(_0x1ff024){return![];}}const DataManager={'saveLocally'(){const _0x316751=a3_0x29be8a;try{localStorage[_0x316751(0x211)](KEY_SESSIONS,JSON[_0x316751(0x25c)](sessions)),localStorage[_0x316751(0x211)](KEY_CLIENTS,JSON[_0x316751(0x25c)](clients)),localStorage[_0x316751(0x211)](KEY_SETTINGS,JSON[_0x316751(0x25c)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3faa55){}},'loadLocal'(){const _0x59d5fc=a3_0x29be8a;try{const _0x409f62=localStorage['getItem'](KEY_SESSIONS);if(_0x409f62)sessions=JSON['parse'](_0x409f62);const _0x52fcc5=localStorage[_0x59d5fc(0x21b)](KEY_CLIENTS);if(_0x52fcc5)clients=JSON['parse'](_0x52fcc5);const _0x410486=localStorage[_0x59d5fc(0x21b)](KEY_SETTINGS);if(_0x410486){const _0x1a4a83=JSON['parse'](_0x410486);if(_0x1a4a83[_0x59d5fc(0x1bc)])availabilityPattern=_0x1a4a83[_0x59d5fc(0x1bc)];if(_0x1a4a83['ranges'])specialRanges=_0x1a4a83[_0x59d5fc(0x1ef)];if(_0x1a4a83[_0x59d5fc(0x285)])dateExceptions=_0x1a4a83[_0x59d5fc(0x285)];}}catch(_0x5a39a7){}},async 'syncLoad'(){const _0x2ead14=a3_0x29be8a,_0x59237e=new Date(),_0x5c54b8=_0x59237e[_0x2ead14(0x1ab)]()+'-'+String(_0x59237e[_0x2ead14(0x235)]()+0x1)[_0x2ead14(0x275)](0x2,'0'),_0x554cf8=new Date(_0x59237e);_0x554cf8[_0x2ead14(0x26c)](_0x59237e['getMonth']()+0x1);const _0x5e2bf4=_0x554cf8[_0x2ead14(0x1ab)]()+'-'+String(_0x554cf8['getMonth']()+0x1)[_0x2ead14(0x275)](0x2,'0'),_0x38eb73=Date[_0x2ead14(0x197)]();try{const _0x70cc6b=window[_0x2ead14(0x191)]?.['WebApp'],_0x401b2a=_0x70cc6b?.[_0x2ead14(0x25e)]||'',[_0x3995cb,_0x4e90a4]=await Promise[_0x2ead14(0x1a1)]([fetch(API_URL,{'method':'POST','body':JSON[_0x2ead14(0x25c)]({'action':_0x2ead14(0x280),'init_data':_0x401b2a,'month_str':_0x5c54b8})})[_0x2ead14(0x286)](_0x395f8e=>_0x395f8e['json']()),fetch(API_URL,{'method':_0x2ead14(0x234),'body':JSON[_0x2ead14(0x25c)]({'action':_0x2ead14(0x280),'init_data':_0x401b2a,'month_str':_0x5e2bf4})})[_0x2ead14(0x286)](_0x2789b3=>_0x2789b3[_0x2ead14(0x25d)]())]);if(lastUserActionTime>_0x38eb73){console[_0x2ead14(0x253)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x3995cb['ok'])this[_0x2ead14(0x282)](_0x3995cb[_0x2ead14(0x247)],_0x5c54b8);if(_0x4e90a4['ok'])this[_0x2ead14(0x282)](_0x4e90a4[_0x2ead14(0x247)],_0x5e2bf4);this[_0x2ead14(0x1de)]();}catch(_0x3cfe1d){}},'applyData'(_0x127aee,_0x21cecc){const _0x55a684=a3_0x29be8a;if(!_0x127aee)return;if(_0x127aee[_0x55a684(0x213)]){if(_0x127aee[_0x55a684(0x213)][_0x55a684(0x1bc)])availabilityPattern=_0x127aee[_0x55a684(0x213)]['pattern'];if(_0x127aee[_0x55a684(0x213)][_0x55a684(0x1ef)])specialRanges=_0x127aee[_0x55a684(0x213)][_0x55a684(0x1ef)];if(_0x127aee['settings']['exceptions'])dateExceptions=_0x127aee[_0x55a684(0x213)][_0x55a684(0x285)];}if(_0x127aee[_0x55a684(0x1e7)]&&Array[_0x55a684(0x254)](_0x127aee[_0x55a684(0x1e7)]))clients=_0x127aee[_0x55a684(0x1e7)];_0x127aee['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x127aee[_0x55a684(0x26a)]}),_0x127aee[_0x55a684(0x23e)]&&(sessions=sessions[_0x55a684(0x217)](_0x1a6ac9=>!_0x1a6ac9[_0x55a684(0x198)]['startsWith'](_0x21cecc)),Object[_0x55a684(0x20c)](_0x127aee[_0x55a684(0x23e)])[_0x55a684(0x1ec)](_0x479756=>{const _0x54c90e=_0x55a684,_0x2edbf9=_0x127aee[_0x54c90e(0x23e)][_0x479756];_0x2edbf9['forEach'](_0x3beee4=>{const _0x3a4d9d=_0x54c90e;sessions[_0x3a4d9d(0x1c4)]({'id':_0x3beee4['i'],'clientId':_0x3beee4['c'],'coachId':_0x3beee4[_0x3a4d9d(0x268)],'dateStr':_0x21cecc+'-'+_0x479756[_0x3a4d9d(0x275)](0x2,'0'),'start':_0x3beee4['s'],'end':_0x3beee4['e'],'note':_0x3beee4['n']||'','status':_0x3beee4['st']||_0x3a4d9d(0x278),'seriesId':_0x3beee4[_0x3a4d9d(0x1ff)]});});})),reRenderBlocks();}};function init(){const _0x31d37f=a3_0x29be8a;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x31d37f(0x27a))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x31d37f(0x220)]();}function renderTimeColumn(){const _0x4a9dc1=a3_0x29be8a,_0x371ab7=document['getElementById'](_0x4a9dc1(0x1d8)),_0x1e65a6=document[_0x4a9dc1(0x195)](_0x4a9dc1(0x277));_0x371ab7[_0x4a9dc1(0x251)]='',_0x371ab7['appendChild'](_0x1e65a6);for(let _0x937ec9=0x0;_0x937ec9<0x18;_0x937ec9++){const _0x567bce=document[_0x4a9dc1(0x1ac)](_0x4a9dc1(0x1d5));_0x567bce[_0x4a9dc1(0x1d7)]=_0x4a9dc1(0x1aa);if(_0x937ec9>0x0)_0x567bce['innerHTML']='<span>'+String(_0x937ec9)[_0x4a9dc1(0x275)](0x2,'0')+_0x4a9dc1(0x23b);_0x371ab7[_0x4a9dc1(0x1e4)](_0x567bce);}}function renderDayRange(_0x398c38,_0x239bb7){const _0xab739a=a3_0x29be8a,_0x5a9a7a=document[_0xab739a(0x195)](_0xab739a(0x193)),_0x24a48e=document[_0xab739a(0x195)](_0xab739a(0x262)),_0x176c84=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5b1dc8=new Date();_0x5b1dc8['setHours'](0x0,0x0,0x0,0x0);const _0x675b4b=getLocalDateStr(new Date());for(let _0x47aa04=_0x398c38;_0x47aa04<=_0x239bb7;_0x47aa04++){const _0x142e28=new Date(_0x5b1dc8);_0x142e28[_0xab739a(0x1fc)](_0x142e28[_0xab739a(0x201)]()+_0x47aa04);const _0x4d9380=getLocalDateStr(_0x142e28);let _0x4230b7=_0x142e28[_0xab739a(0x1b3)]()-0x1;if(_0x4230b7===-0x1)_0x4230b7=0x6;const _0x114fe0=_0x4d9380===_0x675b4b,_0x30e479=document[_0xab739a(0x1ac)](_0xab739a(0x1d5));_0x30e479[_0xab739a(0x1d7)]=_0xab739a(0x1b6)+(_0x114fe0?_0xab739a(0x1f9):''),_0x30e479['setAttribute'](_0xab739a(0x22f),_0x4d9380),_0x30e479['innerHTML']=_0xab739a(0x1d4)+_0x176c84[_0x4230b7]+_0xab739a(0x23c)+_0x142e28[_0xab739a(0x201)]()+'</div>',_0x5a9a7a[_0xab739a(0x1e4)](_0x30e479);const _0x4b13d5=document[_0xab739a(0x1ac)]('div');_0x4b13d5[_0xab739a(0x1d7)]=_0xab739a(0x1f8)+(_0x114fe0?_0xab739a(0x1f9):''),_0x4b13d5['setAttribute']('data-date',_0x4d9380),_0x4b13d5['setAttribute']('data-day-idx',_0x4230b7),_0x24a48e['appendChild'](_0x4b13d5);}}function reRenderBlocks(){const _0x502730=a3_0x29be8a;document[_0x502730(0x248)]('.day-column')[_0x502730(0x1ec)](_0x3cfb3c=>{const _0x26de9e=_0x502730;_0x3cfb3c[_0x26de9e(0x248)](_0x26de9e(0x21d))[_0x26de9e(0x1ec)](_0x2f0f9d=>_0x2f0f9d['remove']());const _0x15d43f=_0x3cfb3c[_0x26de9e(0x1ba)](_0x26de9e(0x22f)),_0x5d0655=parseInt(_0x3cfb3c[_0x26de9e(0x1ba)]('data-day-idx')),_0x4e0d27=Math['round'](_0x3cfb3c[_0x26de9e(0x26b)]);(availabilityPattern[_0x5d0655]||[])[_0x26de9e(0x1ec)](_0x2164b9=>{const _0x35d362=_0x26de9e,_0x15a0c1=document[_0x35d362(0x1ac)](_0x35d362(0x1d5));_0x15a0c1[_0x35d362(0x1d7)]=_0x35d362(0x1ca),_0x15a0c1[_0x35d362(0x1d0)][_0x35d362(0x27d)]=_0x2164b9*GRID_H+'px',_0x15a0c1[_0x35d362(0x1d0)][_0x35d362(0x1bd)]='-'+_0x4e0d27+_0x35d362(0x255)+_0x2164b9*GRID_H+'px',_0x3cfb3c[_0x35d362(0x1e4)](_0x15a0c1);});if(specialRanges['length']>0x0){const _0x2885a9=new Date(_0x15d43f+_0x26de9e(0x287))['getTime'](),_0x2984d7=new Date(_0x15d43f+'T23:59:59')['getTime']();specialRanges[_0x26de9e(0x1ec)](_0x4c3f26=>{const _0xc330d8=_0x26de9e,_0x1b06bd=new Date(_0x4c3f26[_0xc330d8(0x272)])['getTime'](),_0x1b643a=new Date(_0x4c3f26[_0xc330d8(0x1f1)])[_0xc330d8(0x199)](),_0x4ea3f5=Math[_0xc330d8(0x279)](_0x2885a9,_0x1b06bd),_0x1396b7=Math[_0xc330d8(0x206)](_0x2984d7,_0x1b643a);if(_0x4ea3f5<_0x1396b7){const _0x2de7cc=(_0x4ea3f5-_0x2885a9)/0x36ee80*GRID_H,_0x198a2a=(_0x1396b7-_0x4ea3f5)/0x36ee80*GRID_H,_0x4630ce=document[_0xc330d8(0x1ac)](_0xc330d8(0x1d5));_0x198a2a>=23.5*GRID_H?(_0x4630ce[_0xc330d8(0x1d7)]=_0xc330d8(0x244),_0x4630ce[_0xc330d8(0x1d0)][_0xc330d8(0x1bd)]='-'+_0x4e0d27+'px\x200px'):(_0x4630ce['className']=_0xc330d8(0x1c5),_0x4630ce[_0xc330d8(0x1d0)][_0xc330d8(0x27d)]=_0x2de7cc+'px',_0x4630ce[_0xc330d8(0x1d0)][_0xc330d8(0x1f4)]=_0x198a2a+'px',_0x4630ce[_0xc330d8(0x1d0)][_0xc330d8(0x1bd)]='-'+_0x4e0d27+_0xc330d8(0x255)+_0x2de7cc+'px'),_0x3cfb3c[_0xc330d8(0x1e4)](_0x4630ce);}});}renderEventsForColumn(_0x3cfb3c,_0x15d43f);});}function renderEventsForColumn(_0x59f309,_0x2e0314){const _0x50270c=a3_0x29be8a,_0x1706d2=sessions[_0x50270c(0x217)](_0x230189=>_0x230189[_0x50270c(0x198)]===_0x2e0314),_0x451d33=_0x1706d2['map'](_0x44e7df=>{const _0x12285a=_0x50270c,[_0x30f53f,_0x402c34]=_0x44e7df[_0x12285a(0x272)]['split'](':')[_0x12285a(0x20e)](Number),[_0x859b6d,_0x1cf05f]=_0x44e7df[_0x12285a(0x1f1)][_0x12285a(0x1ee)](':')[_0x12285a(0x20e)](Number);return{'data':_0x44e7df,'start':_0x30f53f*0x3c+_0x402c34,'end':_0x859b6d*0x3c+_0x1cf05f,'colIndex':0x0};});_0x451d33[_0x50270c(0x1f0)]((_0x3368a8,_0x4dc535)=>_0x3368a8[_0x50270c(0x272)]-_0x4dc535[_0x50270c(0x272)]||_0x4dc535[_0x50270c(0x1f1)]-_0x4dc535['start']-(_0x3368a8['end']-_0x3368a8[_0x50270c(0x272)]));const _0x3d3789=[];_0x451d33[_0x50270c(0x1ec)](_0x26a4f8=>{const _0x1426d=_0x50270c;let _0x575da8=![];for(let _0x2a5db5=0x0;_0x2a5db5<_0x3d3789[_0x1426d(0x242)];_0x2a5db5++){const _0x30cf95=_0x3d3789[_0x2a5db5];if(_0x26a4f8[_0x1426d(0x272)]>=_0x30cf95[_0x30cf95[_0x1426d(0x242)]-0x1][_0x1426d(0x1f1)]){_0x30cf95['push'](_0x26a4f8),_0x26a4f8[_0x1426d(0x1c9)]=_0x2a5db5,_0x575da8=!![];break;}}!_0x575da8&&(_0x3d3789[_0x1426d(0x1c4)]([_0x26a4f8]),_0x26a4f8[_0x1426d(0x1c9)]=_0x3d3789[_0x1426d(0x242)]-0x1);}),_0x451d33[_0x50270c(0x1ec)](_0x2e781a=>{const _0x3f3145=_0x50270c;let _0x48528e=0x0;_0x451d33[_0x3f3145(0x1ec)](_0x251a82=>{const _0x441b99=_0x3f3145;if(Math[_0x441b99(0x279)](_0x2e781a[_0x441b99(0x272)],_0x251a82['start'])<Math[_0x441b99(0x206)](_0x2e781a[_0x441b99(0x1f1)],_0x251a82['end'])&&_0x251a82['colIndex']>_0x48528e)_0x48528e=_0x251a82[_0x441b99(0x1c9)];});const _0x5171ad=_0x48528e+0x1,_0x24e830=0x64/_0x5171ad,_0x285601=_0x2e781a['colIndex']*_0x24e830,_0x190678=document[_0x3f3145(0x1ac)](_0x3f3145(0x1d5)),_0x3be6dd=_0x2e781a[_0x3f3145(0x247)];let _0x42147d=_0x3f3145(0x1f6);if(clients&&clients[_0x3f3145(0x242)]>0x0){const _0x1753c=clients[_0x3f3145(0x22e)](_0x3fd804=>String(_0x3fd804['id'])===String(_0x3be6dd[_0x3f3145(0x27f)]));if(_0x1753c&&_0x1753c[_0x3f3145(0x1eb)])_0x42147d=_0x1753c[_0x3f3145(0x1eb)];}const _0x34b0a0=_0x3be6dd['status']===_0x3f3145(0x20f),_0x277c65=_0x34b0a0?0x1:0.45;_0x190678[_0x3f3145(0x1d7)]=_0x3f3145(0x1b7)+(_0x34b0a0?_0x3f3145(0x25b):''),_0x190678[_0x3f3145(0x1d0)][_0x3f3145(0x1a7)]=hexToRgba(_0x42147d,_0x277c65),_0x190678[_0x3f3145(0x1d0)]['borderLeftColor']=_0x42147d;const _0x229227=_0x2e781a['start']/0x3c*GRID_H,_0x1c6b2a=(_0x2e781a[_0x3f3145(0x1f1)]-_0x2e781a[_0x3f3145(0x272)])/0x3c*GRID_H;_0x190678[_0x3f3145(0x1d0)][_0x3f3145(0x27d)]=_0x229227+'px',_0x190678[_0x3f3145(0x1d0)][_0x3f3145(0x1f4)]=Math['max'](_0x1c6b2a,0x14)+'px',_0x190678[_0x3f3145(0x1d0)][_0x3f3145(0x1e6)]='calc('+_0x24e830+_0x3f3145(0x222),_0x190678[_0x3f3145(0x1d0)]['left']=_0x3f3145(0x219)+_0x285601+_0x3f3145(0x1c8),_0x190678[_0x3f3145(0x1d0)][_0x3f3145(0x1ed)]=0xa+_0x2e781a['colIndex'];if(_0x24e830<0x55)_0x190678['classList'][_0x3f3145(0x1b0)](_0x3f3145(0x1ae));let _0x273558='';if(_0x3be6dd[_0x3f3145(0x230)])_0x273558+=_0x3f3145(0x284);if(_0x34b0a0)_0x273558+=_0x3f3145(0x19c);_0x190678[_0x3f3145(0x251)]=_0x3f3145(0x1cc)+_0x3be6dd[_0x3f3145(0x272)]+_0x3f3145(0x24f)+_0x3be6dd['end']+_0x3f3145(0x1f2)+_0x273558+_0x3f3145(0x1a8),_0x190678['onclick']=_0x51e36d=>{const _0x28008e=_0x3f3145;_0x51e36d[_0x28008e(0x243)](),openDetails(_0x3be6dd);},_0x59f309[_0x3f3145(0x1e4)](_0x190678);});}function openAnalytics(){const _0x37564b=a3_0x29be8a,_0x2e285d=document['querySelector'](_0x37564b(0x208));setAnalyticsPeriod('week',_0x2e285d),openSheet(_0x37564b(0x1db));}function setAnalyticsPeriod(_0x1890d0,_0x4b5076){const _0x38ea30=a3_0x29be8a;currentAnPeriod=_0x1890d0,document['querySelectorAll'](_0x38ea30(0x208))[_0x38ea30(0x1ec)](_0x9dff63=>_0x9dff63[_0x38ea30(0x1bf)]['remove'](_0x38ea30(0x1a5)));if(_0x4b5076)_0x4b5076[_0x38ea30(0x1bf)][_0x38ea30(0x1b0)](_0x38ea30(0x1a5));const _0xabad2c=document[_0x38ea30(0x195)](_0x38ea30(0x209));_0xabad2c[_0x38ea30(0x1d0)][_0x38ea30(0x267)]=_0x1890d0===_0x38ea30(0x22c)?_0x38ea30(0x1be):_0x38ea30(0x216);const _0x1abc6f=new Date();let _0x36b830=new Date(),_0x1dd065=new Date();if(_0x1890d0==='week')_0x36b830=getStartOfWeek(_0x1abc6f),_0x1dd065=new Date(_0x36b830),_0x1dd065[_0x38ea30(0x1fc)](_0x1dd065['getDate']()+0x6);else{if(_0x1890d0===_0x38ea30(0x245))_0x36b830=new Date(_0x1abc6f[_0x38ea30(0x1ab)](),_0x1abc6f[_0x38ea30(0x235)](),0x1),_0x1dd065=new Date(_0x1abc6f[_0x38ea30(0x1ab)](),_0x1abc6f['getMonth']()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x38ea30(0x195)](_0x38ea30(0x214))[_0x38ea30(0x26f)]=getLocalDateStr(_0x1abc6f),document[_0x38ea30(0x195)](_0x38ea30(0x252))[_0x38ea30(0x26f)]=getLocalDateStr(_0x1abc6f));refreshAnalytics();return;}}document[_0x38ea30(0x195)](_0x38ea30(0x214))[_0x38ea30(0x26f)]=getLocalDateStr(_0x36b830),document['getElementById']('anEnd')[_0x38ea30(0x26f)]=getLocalDateStr(_0x1dd065),refreshAnalytics();}function refreshAnalytics(){const _0x148b4e=a3_0x29be8a,_0x53bbd6=document[_0x148b4e(0x195)](_0x148b4e(0x214))['value'],_0x3e0505=document[_0x148b4e(0x195)]('anEnd')['value'];if(!_0x53bbd6||!_0x3e0505)return;const _0x3aa886=sessions['filter'](_0x2d5f15=>_0x2d5f15[_0x148b4e(0x198)]>=_0x53bbd6&&_0x2d5f15['dateStr']<=_0x3e0505&&_0x2d5f15[_0x148b4e(0x1f3)]!=='cancelled'),_0x44e984=_0x3aa886['length'],_0x4c2123=_0x3aa886[_0x148b4e(0x217)](_0x26c17f=>_0x26c17f[_0x148b4e(0x1f3)]==='completed')['length'],_0x500093=_0x44e984>0x0?Math[_0x148b4e(0x1e9)](_0x4c2123/_0x44e984*0x64):0x0;document[_0x148b4e(0x195)](_0x148b4e(0x25f))[_0x148b4e(0x196)]=_0x500093+'%',document[_0x148b4e(0x195)](_0x148b4e(0x27e))[_0x148b4e(0x196)]=_0x4c2123+_0x148b4e(0x240)+_0x44e984+_0x148b4e(0x260);const _0x57a9a4=document[_0x148b4e(0x195)](_0x148b4e(0x269)),_0x888be0=0x2*Math['PI']*0x23,_0x398145=_0x888be0-_0x500093/0x64*_0x888be0;_0x57a9a4[_0x148b4e(0x1d0)][_0x148b4e(0x200)]=_0x398145;const _0xd37707={};_0x3aa886[_0x148b4e(0x1ec)](_0x47318b=>{const _0xa7d197=_0x148b4e,_0x198890=_0x47318b[_0xa7d197(0x20b)]||_0xa7d197(0x23a);if(!_0xd37707[_0x198890]){const _0x40b54a='#'+_0x198890[_0xa7d197(0x205)]()[_0xa7d197(0x241)](0x0,0x6);_0xd37707[_0x198890]={'total':0x0,'done':0x0,'color':_0x40b54a};}_0xd37707[_0x198890][_0xa7d197(0x1c1)]++;if(_0x47318b[_0xa7d197(0x1f3)]===_0xa7d197(0x20f))_0xd37707[_0x198890][_0xa7d197(0x1ea)]++;});const _0x2a3901=document[_0x148b4e(0x195)](_0x148b4e(0x23f));_0x2a3901['innerHTML']='';const _0x330690=Object[_0x148b4e(0x1f7)](_0xd37707)['sort']((_0x1e57e7,_0x3de291)=>_0x3de291[0x1][_0x148b4e(0x1c1)]-_0x1e57e7[0x1][_0x148b4e(0x1c1)]);if(_0x330690[_0x148b4e(0x242)]===0x0){_0x2a3901['innerHTML']=_0x148b4e(0x231);return;}_0x330690[_0x148b4e(0x1ec)](([_0xc59937,_0x122566])=>{const _0x23f216=_0x148b4e,_0x1c42eb=Math[_0x23f216(0x1e9)](_0x122566['done']/_0x122566[_0x23f216(0x1c1)]*0x64),_0x18cc78=document['createElement'](_0x23f216(0x1d5));_0x18cc78[_0x23f216(0x1d7)]='client-stat-card',_0x18cc78['style'][_0x23f216(0x1d3)]=_0x122566['color'],_0x18cc78[_0x23f216(0x251)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0xc59937[_0x23f216(0x241)](0x0,0x5)+_0x23f216(0x1d2)+_0x122566[_0x23f216(0x1ea)]+_0x23f216(0x19f)+_0x122566[_0x23f216(0x1c1)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1c42eb+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a3901[_0x23f216(0x1e4)](_0x18cc78);});}function openDetails(_0x31aa10){const _0x1d0049=a3_0x29be8a;currentSession=_0x31aa10;const _0x45f7e6=new Date(_0x31aa10[_0x1d0049(0x198)]),_0x5d1f05=_0x45f7e6['toLocaleDateString'](_0x1d0049(0x237),{'weekday':_0x1d0049(0x202),'day':_0x1d0049(0x288),'month':_0x1d0049(0x202)});document[_0x1d0049(0x195)]('detDate')[_0x1d0049(0x196)]=_0x5d1f05[_0x1d0049(0x1b1)](0x0)[_0x1d0049(0x238)]()+_0x5d1f05[_0x1d0049(0x1fb)](0x1),document[_0x1d0049(0x195)](_0x1d0049(0x1fe))[_0x1d0049(0x196)]=_0x31aa10[_0x1d0049(0x272)]+'\x20-\x20'+_0x31aa10['end'],document[_0x1d0049(0x195)](_0x1d0049(0x283))['textContent']=_0x31aa10['note']||_0x1d0049(0x224);const _0x5ac9c3=document[_0x1d0049(0x195)](_0x1d0049(0x250)),_0x5227dc=document[_0x1d0049(0x195)](_0x1d0049(0x1c0)),_0x92d792=_0x5227dc['querySelector'](_0x1d0049(0x249)),_0x355a3f=_0x5227dc['querySelector']('.btn-reschedule'),_0x154f60=document[_0x1d0049(0x195)]('cancelHint');if(_0x31aa10[_0x1d0049(0x1f3)]===_0x1d0049(0x20f))_0x5ac9c3['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x5ac9c3[_0x1d0049(0x1d0)][_0x1d0049(0x1eb)]=_0x1d0049(0x22b),_0x5227dc['style'][_0x1d0049(0x267)]='none';else{_0x5ac9c3[_0x1d0049(0x196)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x5ac9c3[_0x1d0049(0x1d0)]['color']='var(--acc-blue)',_0x5227dc['style'][_0x1d0049(0x267)]=_0x1d0049(0x1c6);const _0x1d8532=new Date(_0x31aa10[_0x1d0049(0x198)]+'T'+_0x31aa10[_0x1d0049(0x272)]),_0x1ef83e=new Date(),_0x20ed48=(_0x1d8532-_0x1ef83e)/(0x3e8*0x3c*0x3c),_0x2ba1f3=coachProfiles[_0x31aa10[_0x1d0049(0x20b)]]&&coachProfiles[_0x31aa10[_0x1d0049(0x20b)]]['cancel_window']?parseInt(coachProfiles[_0x31aa10[_0x1d0049(0x20b)]][_0x1d0049(0x218)]):0x18;if(_0x2ba1f3===0x0||_0x20ed48>=_0x2ba1f3)_0x92d792[_0x1d0049(0x1d0)][_0x1d0049(0x267)]='block',_0x355a3f[_0x1d0049(0x1d0)]['display']=_0x1d0049(0x1c6),_0x154f60[_0x1d0049(0x1d0)]['display']=_0x1d0049(0x216);else{_0x92d792[_0x1d0049(0x1d0)][_0x1d0049(0x267)]=_0x1d0049(0x216),_0x355a3f[_0x1d0049(0x1d0)][_0x1d0049(0x267)]='none',_0x154f60[_0x1d0049(0x1d0)]['display']=_0x1d0049(0x1c6);let _0x2a22a1=_0x2ba1f3===0x0?_0x1d0049(0x223):_0x1d0049(0x19b)+_0x2ba1f3+_0x1d0049(0x1f5);_0x154f60['textContent']=_0x1d0049(0x20d)+_0x2a22a1+_0x1d0049(0x24e);}}document[_0x1d0049(0x195)](_0x1d0049(0x1a0))[_0x1d0049(0x1bf)][_0x1d0049(0x1b0)](_0x1d0049(0x1a5)),document['getElementById'](_0x1d0049(0x281))[_0x1d0049(0x1bf)][_0x1d0049(0x1b0)](_0x1d0049(0x19e));}function closeAllSheets(){const _0x5ab948=a3_0x29be8a;document[_0x5ab948(0x195)](_0x5ab948(0x1a0))['classList'][_0x5ab948(0x22d)](_0x5ab948(0x1a5)),document[_0x5ab948(0x248)]('.sheet')[_0x5ab948(0x1ec)](_0x37b682=>_0x37b682[_0x5ab948(0x1bf)]['remove'](_0x5ab948(0x19e)));}function openSheet(_0x2b28b9){const _0x1bc306=a3_0x29be8a;document[_0x1bc306(0x195)](_0x1bc306(0x1a0))['classList'][_0x1bc306(0x1b0)](_0x1bc306(0x1a5)),document[_0x1bc306(0x195)](_0x2b28b9)[_0x1bc306(0x1bf)][_0x1bc306(0x1b0)](_0x1bc306(0x19e));}function getLocalDateStr(_0x18d9a8){const _0x541327=a3_0x29be8a,_0x568293=_0x18d9a8[_0x541327(0x1ab)](),_0x452a86=String(_0x18d9a8[_0x541327(0x235)]()+0x1)[_0x541327(0x275)](0x2,'0'),_0x3ae8b8=String(_0x18d9a8[_0x541327(0x201)]())[_0x541327(0x275)](0x2,'0');return _0x568293+'-'+_0x452a86+'-'+_0x3ae8b8;}function getStartOfWeek(_0x5158ca){const _0x6a597d=a3_0x29be8a,_0xfec56b=new Date(_0x5158ca),_0x228b31=_0xfec56b[_0x6a597d(0x1b3)](),_0x476340=_0xfec56b['getDate']()-_0x228b31+(_0x228b31===0x0?-0x6:0x1);return _0xfec56b[_0x6a597d(0x1fc)](_0x476340),_0xfec56b[_0x6a597d(0x270)](0x0,0x0,0x0,0x0),_0xfec56b;}function scrollToToday(){const _0x3599fb=getLocalDateStr(new Date());setTimeout(()=>{const _0x4a1e06=a3_0x1134,_0x1e37db=document[_0x4a1e06(0x1ce)](_0x4a1e06(0x266)+_0x3599fb+'\x22]');if(_0x1e37db){const _0x30afe6=document[_0x4a1e06(0x195)](_0x4a1e06(0x27a)),_0xcb52b8=_0x1e37db[_0x4a1e06(0x26b)]-_0x30afe6[_0x4a1e06(0x256)]/0x2+_0x1e37db[_0x4a1e06(0x24d)]/0x2;_0x30afe6[_0x4a1e06(0x257)]({'left':_0xcb52b8,'behavior':_0x4a1e06(0x1fd)}),_0x30afe6['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x1134(_0x1ac47a,_0x3b27cf){_0x1ac47a=_0x1ac47a-0x191;const _0x19d6e2=a3_0x2d2f();let _0x435221=_0x19d6e2[_0x1ac47a];return _0x435221;}function updateClock(){const _0x25b4ad=a3_0x29be8a,_0x22b675=new Date(),_0x2ca1ee=document[_0x25b4ad(0x195)](_0x25b4ad(0x1df)),_0xcdb562=document[_0x25b4ad(0x195)](_0x25b4ad(0x277)),_0x21fc69=(_0x22b675[_0x25b4ad(0x21c)]()*0x3c+_0x22b675[_0x25b4ad(0x207)]())/0x3c*GRID_H;_0x2ca1ee[_0x25b4ad(0x1d0)][_0x25b4ad(0x27d)]=_0x21fc69+'px',_0x2ca1ee[_0x25b4ad(0x1d0)][_0x25b4ad(0x267)]=_0x25b4ad(0x1c6),_0xcdb562['style'][_0x25b4ad(0x27d)]=_0x21fc69+'px',_0xcdb562[_0x25b4ad(0x1d0)][_0x25b4ad(0x267)]=_0x25b4ad(0x1c6),_0xcdb562['textContent']=String(_0x22b675['getHours']())[_0x25b4ad(0x275)](0x2,'0')+':'+String(_0x22b675[_0x25b4ad(0x207)]())['padStart'](0x2,'0');}function onScroll(){const _0x3f1c6a=a3_0x29be8a,_0x4c6957=document[_0x3f1c6a(0x195)](_0x3f1c6a(0x27a)),_0x5d3651=document[_0x3f1c6a(0x248)]('.day-col-header');for(let _0x25c5e4 of _0x5d3651)if(_0x25c5e4['offsetLeft']>=_0x4c6957['scrollLeft']){const _0x43086e=new Date(_0x25c5e4[_0x3f1c6a(0x1ba)](_0x3f1c6a(0x22f)));document[_0x3f1c6a(0x195)](_0x3f1c6a(0x24a))['textContent']=_0x43086e[_0x3f1c6a(0x1dc)]('ru',{'month':_0x3f1c6a(0x202)})['toUpperCase']()+'\x20'+_0x43086e['getFullYear']();break;}}function showToast(_0x4bbba3){const _0x226dbd=a3_0x29be8a,_0x28d7c4=document['getElementById'](_0x226dbd(0x276));_0x28d7c4[_0x226dbd(0x196)]=_0x4bbba3,_0x28d7c4['classList'][_0x226dbd(0x1b0)](_0x226dbd(0x19d)),setTimeout(()=>_0x28d7c4[_0x226dbd(0x1bf)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x4fd6ed=a3_0x29be8a,_0x513a78=document[_0x4fd6ed(0x195)]('matrixViewport'),_0x11da39=_0x513a78['scrollLeft'],_0x26bfc7=_0x513a78[_0x4fd6ed(0x204)],_0x7565f6=_0x513a78[_0x4fd6ed(0x256)];if(_0x26bfc7-(_0x11da39+_0x7565f6)<0x12c){const _0x2f38dd=endOffset;endOffset+=0xe,renderDayRange(_0x2f38dd+0x1,endOffset),reRenderBlocks();}if(_0x11da39<0x12c){const _0x54cff1=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54cff1-0x1),_0x513a78[_0x4fd6ed(0x23d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x459a40,_0x25e43a){const _0x3e1708=a3_0x29be8a,_0x5af38f=document[_0x3e1708(0x195)]('daysHeaderTrack'),_0x450160=document[_0x3e1708(0x195)](_0x3e1708(0x262)),_0x4fd839=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd82530=new Date();_0xd82530['setHours'](0x0,0x0,0x0,0x0);const _0x42c198=getLocalDateStr(new Date()),_0x435e62=document[_0x3e1708(0x233)](),_0xd3165d=document[_0x3e1708(0x233)]();for(let _0x3dcc2b=_0x459a40;_0x3dcc2b<=_0x25e43a;_0x3dcc2b++){const _0x3b5e26=new Date(_0xd82530);_0x3b5e26[_0x3e1708(0x1fc)](_0x3b5e26[_0x3e1708(0x201)]()+_0x3dcc2b);const _0x157ff8=getLocalDateStr(_0x3b5e26);let _0x2fc06d=_0x3b5e26[_0x3e1708(0x1b3)]()-0x1;if(_0x2fc06d===-0x1)_0x2fc06d=0x6;const _0x2b2529=_0x157ff8===_0x42c198,_0x2d33c2=document[_0x3e1708(0x1ac)]('div');_0x2d33c2[_0x3e1708(0x1d7)]=_0x3e1708(0x1b6)+(_0x2b2529?'today':''),_0x2d33c2[_0x3e1708(0x1fa)](_0x3e1708(0x22f),_0x157ff8),_0x2d33c2['innerHTML']=_0x3e1708(0x1d4)+_0x4fd839[_0x2fc06d]+_0x3e1708(0x23c)+_0x3b5e26[_0x3e1708(0x201)]()+_0x3e1708(0x215),_0x435e62[_0x3e1708(0x1e4)](_0x2d33c2);const _0x50245b=document[_0x3e1708(0x1ac)](_0x3e1708(0x1d5));_0x50245b[_0x3e1708(0x1d7)]=_0x3e1708(0x1f8)+(_0x2b2529?_0x3e1708(0x1f9):''),_0x50245b[_0x3e1708(0x1fa)](_0x3e1708(0x22f),_0x157ff8),_0x50245b[_0x3e1708(0x1fa)]('data-day-idx',_0x2fc06d),_0xd3165d[_0x3e1708(0x1e4)](_0x50245b);}_0x5af38f[_0x3e1708(0x1b2)](_0x435e62,_0x5af38f[_0x3e1708(0x21f)]),_0x450160[_0x3e1708(0x1b2)](_0xd3165d,_0x450160[_0x3e1708(0x1ce)](_0x3e1708(0x271)));}function hexToRgba(_0x15d357,_0x5ac46d){const _0x580a7a=a3_0x29be8a;let _0x409738;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x580a7a(0x27b)](_0x15d357))return _0x409738=_0x15d357[_0x580a7a(0x1cd)](0x1)['split'](''),_0x409738[_0x580a7a(0x242)]==0x3&&(_0x409738=[_0x409738[0x0],_0x409738[0x0],_0x409738[0x1],_0x409738[0x1],_0x409738[0x2],_0x409738[0x2]]),_0x409738='0x'+_0x409738[_0x580a7a(0x1d6)](''),_0x580a7a(0x21a)+[_0x409738>>0x10&0xff,_0x409738>>0x8&0xff,_0x409738&0xff][_0x580a7a(0x1d6)](',')+','+_0x5ac46d+')';return _0x580a7a(0x1a3)+_0x5ac46d+')';}let confirmResolver=null;function showCustomConfirm(_0x8ff6aa,_0x1deec3,_0x1b8376=!![]){const _0x45adad=a3_0x29be8a;document['getElementById']('ccTitle')[_0x45adad(0x196)]=_0x8ff6aa,document['getElementById']('ccText')['textContent']=_0x1deec3;const _0x401f53=document[_0x45adad(0x195)](_0x45adad(0x1af));return _0x1b8376?(_0x401f53['style'][_0x45adad(0x1eb)]='#ff453a',_0x401f53['style'][_0x45adad(0x263)]=_0x45adad(0x1e2)):(_0x401f53['style'][_0x45adad(0x1eb)]='#0a84ff',_0x401f53[_0x45adad(0x1d0)]['fontWeight']=_0x45adad(0x1e2)),new Promise(_0x4a173c=>{const _0x35b677=_0x45adad;confirmResolver=_0x4a173c,document[_0x35b677(0x195)](_0x35b677(0x261))['classList'][_0x35b677(0x1b0)](_0x35b677(0x232));});}function resolveCustomConfirm(_0xda2a45){const _0x4b7b8d=a3_0x29be8a;document['getElementById'](_0x4b7b8d(0x261))[_0x4b7b8d(0x1bf)][_0x4b7b8d(0x22d)](_0x4b7b8d(0x232));if(confirmResolver)confirmResolver(_0xda2a45);}async function tryCancelCurrentSession(){const _0x522107=a3_0x29be8a;if(!currentSession)return;const _0x567f9c=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x522107(0x1a2),!![]);if(!_0x567f9c)return;const _0x28a3bc=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x5042a4=>_0x5042a4['id']!==_0x28a3bc['id']),reRenderBlocks(),showToast(_0x522107(0x258)),lastUserActionTime=Date['now']();try{const _0x1306c8=window[_0x522107(0x191)]?.[_0x522107(0x1a9)],_0x5256ae=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x522107(0x26d),'init_data':_0x1306c8?.['initData']||'','coachId':_0x28a3bc[_0x522107(0x20b)],'dateStr':_0x28a3bc[_0x522107(0x198)],'sessionId':_0x28a3bc['id']})});if(_0x5256ae['ok'])DataManager[_0x522107(0x1de)]();}catch(_0x5738b0){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}function a3_0x2d2f(){const _0x351557=['toLocaleDateString','getAttribute','3172641AQaJDt','pattern','backgroundPosition','flex','classList','cancelContainer','total','user','BackButton','push','blocked-range-part\x20stripe-bg','block','rsSlotsGrid','%\x20+\x202px)','colIndex','blocked-slot\x20stripe-bg','308gngpqo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','substring','querySelector','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','style','4160376cUyXgK','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','borderLeftColor','<div\x20class=\x22dch-day\x22>','div','join','className','timeColumn','setBackgroundColor','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','analyticsSheet','toLocaleString','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','saveLocally','globalTimeLine','rs-date-chip','offClick','600','<div\x20class=\x22rs-day-name\x22>','appendChild','</div><div\x20class=\x22rs-day-num\x22>','width','clients','#050505','round','done','color','forEach','zIndex','split','ranges','sort','end','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','height','\x20—á.','#0a84ff','entries','day-column\x20','today','setAttribute','slice','setDate','auto','detTime','sid','strokeDashoffset','getDate','long','expand','scrollWidth','toString','min','getMinutes','.period-switch\x20.p-btn','anCustomDates','Critical\x20TMA\x20Error:','coachId','keys','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','map','completed','ready','setItem','rescheduleSheet','settings','anStart','</div>','none','filter','cancel_window','calc(','rgba(','getItem','getHours','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','onclick','firstChild','syncLoad','32216634fShXbU','%\x20-\x204px)','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','floor','onClick','href','Error\x20setting\x20color:','uc_client_settings','v9.5-CLIENT-ANALYTICS','var(--acc-green)','custom','remove','find','data-date','seriesId','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','visible','createDocumentFragment','POST','getMonth','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','ru-RU','toUpperCase','1102820WKqmVB','Unknown',':00</span>','</div><div\x20class=\x22dch-num\x22>','scrollLeft','calendar','analyticsList','\x20–∏–∑\x20','substr','length','stopPropagation','day-off-overlay\x20stripe-bg','month','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','data','querySelectorAll','.btn-cancel','headerMonth','search','.rs-date-chip','offsetWidth','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','\x20-\x20','detStatus','innerHTML','anEnd','log','isArray','px\x20-','clientWidth','scrollTo','–û—Ç–º–µ–Ω–µ–Ω–æ','39538Vkgomh','(((.+)+)+)+$','\x20status-completed','stringify','json','initData','anPercent','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','customConfirm','gridColumns','fontWeight','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','\x20–≤\x20','.day-col-header[data-date=\x22','display','cid','anDonutCircle','coach_profiles','offsetLeft','setMonth','client_cancel','week','value','setHours','.day-column','start','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','60904jfAEwr','padStart','toast','timeLineBadge','planned','max','matrixViewport','test','addEventListener','top','anTotalStats','clientId','client_load','detailsSheet','applyData','detNote','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','exceptions','then','T00:00:00','numeric','Telegram','uc_client_list','daysHeaderTrack','setHeaderColor','getElementById','textContent','now','dateStr','getTime','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','–∑–∞\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','show','open','</span>\x20/\x20','overlay','all','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','rgba(10,\x20132,\x20255,\x20','error','active','5188465JcHYAM','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','WebApp','time-label','getFullYear','createElement','Error\x20setting\x20back\x20button:','mini','ccYesBtn','add','charAt','insertBefore','getDay','rs-time-btn','41YrfjlJ','day-col-header\x20','event-card','apply'];a3_0x2d2f=function(){return _0x351557;};return a3_0x2d2f();}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4377c6=a3_0x29be8a;if(!currentSession)return;document[_0x4377c6(0x195)](_0x4377c6(0x281))[_0x4377c6(0x1bf)][_0x4377c6(0x22d)](_0x4377c6(0x19e)),document[_0x4377c6(0x195)](_0x4377c6(0x212))[_0x4377c6(0x1bf)][_0x4377c6(0x1b0)](_0x4377c6(0x19e));const _0x31eed0=document[_0x4377c6(0x195)]('rsDatesTrack'),_0x5bc0a5=document[_0x4377c6(0x195)](_0x4377c6(0x1c7));_0x31eed0[_0x4377c6(0x251)]='',_0x5bc0a5[_0x4377c6(0x251)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x4e6d91,_0x384126]=currentSession['start'][_0x4377c6(0x1ee)](':')[_0x4377c6(0x20e)](Number),[_0x47e333,_0x54b741]=currentSession[_0x4377c6(0x1f1)][_0x4377c6(0x1ee)](':')[_0x4377c6(0x20e)](Number),_0x5ab462=_0x47e333*0x3c+_0x54b741-(_0x4e6d91*0x3c+_0x384126);try{const _0x5204a9=window['Telegram']?.[_0x4377c6(0x1a9)],_0xff3dd4=await fetch(API_URL,{'method':_0x4377c6(0x234),'body':JSON[_0x4377c6(0x25c)]({'action':'get_slots','coachId':currentSession[_0x4377c6(0x20b)],'duration':_0x5ab462,'init_data':_0x5204a9?.['initData']||'','excludeSessionId':currentSession['id']})}),_0xc464d3=await _0xff3dd4[_0x4377c6(0x25d)]();_0xc464d3['ok']&&_0xc464d3['data']?(availableSlotsCache=_0xc464d3[_0x4377c6(0x247)],renderRescheduleDates()):_0x5bc0a5[_0x4377c6(0x251)]=_0x4377c6(0x236);}catch(_0x26208b){_0x5bc0a5['innerHTML']=_0x4377c6(0x246);}}function renderRescheduleDates(){const _0x30c586=a3_0x29be8a,_0x279332=document[_0x30c586(0x195)]('rsDatesTrack');_0x279332[_0x30c586(0x251)]='';const _0x3501d2=Object[_0x30c586(0x20c)](availableSlotsCache)[_0x30c586(0x1f0)](),_0x20460a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3501d2[_0x30c586(0x242)]===0x0){document[_0x30c586(0x195)](_0x30c586(0x1c7))[_0x30c586(0x251)]=_0x30c586(0x264);return;}_0x3501d2[_0x30c586(0x1ec)]((_0x5aa811,_0x458505)=>{const _0x4e0d33=_0x30c586,_0x3b18a4=new Date(_0x5aa811),_0x18afb6=_0x20460a[_0x3b18a4['getDay']()],_0x34ca25=_0x3b18a4['getDate'](),_0x1540df=document['createElement']('div');_0x1540df[_0x4e0d33(0x1d7)]=_0x4e0d33(0x1e0);if(_0x458505===0x0)_0x1540df[_0x4e0d33(0x1bf)][_0x4e0d33(0x1b0)](_0x4e0d33(0x1a5));_0x1540df[_0x4e0d33(0x251)]=_0x4e0d33(0x1e3)+_0x18afb6+_0x4e0d33(0x1e5)+_0x34ca25+'</div>',_0x1540df[_0x4e0d33(0x21e)]=()=>selectRsDate(_0x5aa811,_0x1540df),_0x279332[_0x4e0d33(0x1e4)](_0x1540df);}),selectRsDate(_0x3501d2[0x0],_0x279332[_0x30c586(0x21f)]);}function selectRsDate(_0x1ccd7b,_0x557758){const _0x354689=a3_0x29be8a;selectedRsDate=_0x1ccd7b,document[_0x354689(0x248)](_0x354689(0x24c))[_0x354689(0x1ec)](_0x48529f=>_0x48529f[_0x354689(0x1bf)][_0x354689(0x22d)](_0x354689(0x1a5)));if(_0x557758)_0x557758[_0x354689(0x1bf)][_0x354689(0x1b0)](_0x354689(0x1a5));const _0x15ff6a=document[_0x354689(0x195)](_0x354689(0x1c7));_0x15ff6a[_0x354689(0x251)]='';const _0x1c811e=availableSlotsCache[_0x1ccd7b]||[];if(_0x1c811e[_0x354689(0x242)]===0x0){_0x15ff6a[_0x354689(0x251)]=_0x354689(0x236);return;}_0x1c811e[_0x354689(0x1ec)](_0x2a1ce2=>{const _0x2ce928=_0x354689,_0x5968a9=document[_0x2ce928(0x1ac)]('button');_0x5968a9['className']=_0x2ce928(0x1b4),_0x5968a9['textContent']=_0x2a1ce2,_0x5968a9[_0x2ce928(0x21e)]=()=>confirmReschedule(_0x2a1ce2),_0x15ff6a['appendChild'](_0x5968a9);});}async function confirmReschedule(_0x1e5586){const _0x98385=a3_0x29be8a,_0x41605b=new Date(selectedRsDate),_0x210587=_0x41605b[_0x98385(0x1b9)]('ru-RU',{'day':'numeric','month':_0x98385(0x202)}),_0x4d32db=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x210587+_0x98385(0x265)+_0x1e5586+'?',![]);if(!_0x4d32db)return;closeAllSheets(),showToast(_0x98385(0x19a)),lastUserActionTime=Date[_0x98385(0x197)]();const _0x812033=currentSession['dateStr'],_0x27eaf8=currentSession['id'],[_0x436f9a,_0x18fee5]=currentSession[_0x98385(0x272)]['split'](':')['map'](Number),[_0x23fc6,_0xb9c801]=currentSession[_0x98385(0x1f1)][_0x98385(0x1ee)](':')[_0x98385(0x20e)](Number),_0x3b6c92=_0x23fc6*0x3c+_0xb9c801-(_0x436f9a*0x3c+_0x18fee5),[_0x164756,_0x129480]=_0x1e5586[_0x98385(0x1ee)](':')[_0x98385(0x20e)](Number),_0x1e61aa=_0x164756*0x3c+_0x129480+_0x3b6c92,_0x243ad0=Math[_0x98385(0x225)](_0x1e61aa/0x3c),_0x533076=_0x1e61aa%0x3c,_0x30235c=String(_0x243ad0)[_0x98385(0x275)](0x2,'0')+':'+String(_0x533076)['padStart'](0x2,'0'),_0x17a50f=sessions['findIndex'](_0x3528b3=>_0x3528b3['id']===_0x27eaf8);_0x17a50f!==-0x1&&(sessions[_0x17a50f]['dateStr']=selectedRsDate,sessions[_0x17a50f][_0x98385(0x272)]=_0x1e5586,sessions[_0x17a50f][_0x98385(0x1f1)]=_0x30235c,reRenderBlocks());try{const _0x585c9d=window[_0x98385(0x191)]?.[_0x98385(0x1a9)],_0xd03bf3=await fetch(API_URL,{'method':_0x98385(0x234),'body':JSON[_0x98385(0x25c)]({'action':'reschedule','init_data':_0x585c9d?.[_0x98385(0x25e)]||'','oldSessionId':_0x27eaf8,'oldDate':_0x812033,'newDate':selectedRsDate,'newTime':_0x1e5586,'coachId':currentSession[_0x98385(0x20b)]})}),_0x5264cd=await _0xd03bf3[_0x98385(0x25d)]();!_0x5264cd['ok']?(showToast(_0x98385(0x1cf)),DataManager['syncLoad']()):(showToast(_0x98385(0x273)),DataManager[_0x98385(0x1de)]());}catch(_0x528608){showToast(_0x98385(0x1da));}}document[a3_0x29be8a(0x27c)]('DOMContentLoaded',init);