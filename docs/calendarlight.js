const a3_0x5c0589=a3_0x4d1a;(function(_0x332cc2,_0x386712){const _0x3beb29=a3_0x4d1a,_0x13d1b2=_0x332cc2();while(!![]){try{const _0x597e16=-parseInt(_0x3beb29(0x184))/0x1*(parseInt(_0x3beb29(0x1b4))/0x2)+parseInt(_0x3beb29(0x137))/0x3*(-parseInt(_0x3beb29(0x169))/0x4)+parseInt(_0x3beb29(0x1d1))/0x5*(parseInt(_0x3beb29(0x135))/0x6)+parseInt(_0x3beb29(0x1b6))/0x7*(-parseInt(_0x3beb29(0xfb))/0x8)+-parseInt(_0x3beb29(0x1dc))/0x9+parseInt(_0x3beb29(0x1b3))/0xa*(-parseInt(_0x3beb29(0x174))/0xb)+parseInt(_0x3beb29(0xfa))/0xc;if(_0x597e16===_0x386712)break;else _0x13d1b2['push'](_0x13d1b2['shift']());}catch(_0xd7316a){_0x13d1b2['push'](_0x13d1b2['shift']());}}}(a3_0x1f3a,0xba7cf));const APP_VERSION=a3_0x5c0589(0x117),API_URL=a3_0x5c0589(0x1d6),GRID_H=0x3c,KEY_SESSIONS=a3_0x5c0589(0x14f),KEY_SETTINGS=a3_0x5c0589(0x1d3),KEY_CLIENTS=a3_0x5c0589(0x17e);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5c0589(0x1ba),coachProfiles={},currentSession=null,lastUserActionTime=0x0;function a3_0x4d1a(_0x5a879c,_0x3124b8){_0x5a879c=_0x5a879c-0xe8;const _0x12f34d=a3_0x1f3a();let _0x38fd98=_0x12f34d[_0x5a879c];return _0x38fd98;}(function initTMA(){const _0x1b3025=a3_0x5c0589,_0x194d91=(function(){let _0xb2c71=!![];return function(_0x10e733,_0x583972){const _0x3d3e5a=_0xb2c71?function(){if(_0x583972){const _0x53fa61=_0x583972['apply'](_0x10e733,arguments);return _0x583972=null,_0x53fa61;}}:function(){};return _0xb2c71=![],_0x3d3e5a;};}()),_0x200c19=_0x194d91(this,function(){const _0x7bce89=a3_0x4d1a;return _0x200c19[_0x7bce89(0x162)]()[_0x7bce89(0x1d8)]('(((.+)+)+)+$')[_0x7bce89(0x162)]()[_0x7bce89(0x1b7)](_0x200c19)[_0x7bce89(0x1d8)](_0x7bce89(0x126));});_0x200c19();try{const _0x199c2d=window[_0x1b3025(0x165)]?.[_0x1b3025(0x12b)];if(!_0x199c2d)return;_0x199c2d[_0x1b3025(0x1da)](),_0x199c2d[_0x1b3025(0x110)]();try{_0x199c2d[_0x1b3025(0x17c)](_0x1b3025(0x139)),_0x199c2d[_0x1b3025(0x1c9)]&&_0x199c2d['setBackgroundColor'](_0x1b3025(0x139));}catch(_0x1246f1){console[_0x1b3025(0x187)](_0x1b3025(0x16c),_0x1246f1);}try{_0x199c2d[_0x1b3025(0x155)]&&(_0x199c2d['BackButton'][_0x1b3025(0x1aa)](),_0x199c2d['BackButton'][_0x1b3025(0x149)](),_0x199c2d[_0x1b3025(0x155)][_0x1b3025(0x15b)](function(){window['location']['href']='router.html';}));}catch(_0x2cbb26){console[_0x1b3025(0x187)]('Error\x20setting\x20back\x20button:',_0x2cbb26);}try{if(_0x199c2d[_0x1b3025(0x10a)])_0x199c2d[_0x1b3025(0x10a)]();}catch(_0x19e321){}}catch(_0x505835){console[_0x1b3025(0x1e7)](_0x1b3025(0x11a),_0x505835);}}());function isAdmin(){const _0x20d313=a3_0x5c0589;try{const _0x3983a4=Number(window[_0x20d313(0x165)]?.[_0x20d313(0x12b)]?.['initDataUnsafe']?.[_0x20d313(0x167)]?.['id']);return _0x3983a4===0xbaf7174;}catch(_0xe7f7fe){return![];}}const DataManager={'saveLocally'(){const _0x4fec98=a3_0x5c0589;try{localStorage[_0x4fec98(0x163)](KEY_SESSIONS,JSON[_0x4fec98(0x1de)](sessions)),localStorage[_0x4fec98(0x163)](KEY_CLIENTS,JSON[_0x4fec98(0x1de)](clients)),localStorage[_0x4fec98(0x163)](KEY_SETTINGS,JSON[_0x4fec98(0x1de)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5a10a5){}},'loadLocal'(){const _0x80fe2b=a3_0x5c0589;try{const _0x52f85a=localStorage[_0x80fe2b(0x19f)](KEY_SESSIONS);if(_0x52f85a)sessions=JSON[_0x80fe2b(0x142)](_0x52f85a);const _0x3837ce=localStorage[_0x80fe2b(0x19f)](KEY_CLIENTS);if(_0x3837ce)clients=JSON[_0x80fe2b(0x142)](_0x3837ce);const _0x386471=localStorage['getItem'](KEY_SETTINGS);if(_0x386471){const _0x414c30=JSON['parse'](_0x386471);if(_0x414c30[_0x80fe2b(0x16b)])availabilityPattern=_0x414c30[_0x80fe2b(0x16b)];if(_0x414c30[_0x80fe2b(0x141)])specialRanges=_0x414c30[_0x80fe2b(0x141)];if(_0x414c30[_0x80fe2b(0xec)])dateExceptions=_0x414c30[_0x80fe2b(0xec)];}}catch(_0x1d1e8b){}},async 'syncLoad'(){const _0xb398b3=a3_0x5c0589,_0x30e85a=new Date(),_0x493986=_0x30e85a['getFullYear']()+'-'+String(_0x30e85a[_0xb398b3(0x104)]()+0x1)[_0xb398b3(0x10b)](0x2,'0'),_0x3f264d=new Date(_0x30e85a);_0x3f264d[_0xb398b3(0x18f)](_0x30e85a['getMonth']()+0x1);const _0x2e7e05=_0x3f264d[_0xb398b3(0x12c)]()+'-'+String(_0x3f264d[_0xb398b3(0x104)]()+0x1)[_0xb398b3(0x10b)](0x2,'0'),_0x2d9dd3=Date[_0xb398b3(0x153)]();try{const _0x207b70=window[_0xb398b3(0x165)]?.[_0xb398b3(0x12b)],_0x14722a=_0x207b70?.[_0xb398b3(0x16a)]||'',[_0x57476e,_0x212e19]=await Promise[_0xb398b3(0x1be)]([fetch(API_URL,{'method':_0xb398b3(0x118),'body':JSON[_0xb398b3(0x1de)]({'action':'client_load','init_data':_0x14722a,'month_str':_0x493986})})[_0xb398b3(0x18c)](_0x234c88=>_0x234c88['json']()),fetch(API_URL,{'method':_0xb398b3(0x118),'body':JSON[_0xb398b3(0x1de)]({'action':_0xb398b3(0x115),'init_data':_0x14722a,'month_str':_0x2e7e05})})[_0xb398b3(0x18c)](_0xdcc49b=>_0xdcc49b[_0xb398b3(0xf6)]())]);if(lastUserActionTime>_0x2d9dd3){console[_0xb398b3(0x187)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x57476e['ok'])this[_0xb398b3(0x148)](_0x57476e['data'],_0x493986);if(_0x212e19['ok'])this[_0xb398b3(0x148)](_0x212e19[_0xb398b3(0x17a)],_0x2e7e05);this['saveLocally']();}catch(_0x462047){}},'applyData'(_0x3a7a30,_0x4c044b){const _0x218276=a3_0x5c0589;if(!_0x3a7a30)return;if(_0x3a7a30[_0x218276(0x144)]){if(_0x3a7a30[_0x218276(0x144)][_0x218276(0x16b)])availabilityPattern=_0x3a7a30[_0x218276(0x144)][_0x218276(0x16b)];if(_0x3a7a30[_0x218276(0x144)]['ranges'])specialRanges=_0x3a7a30[_0x218276(0x144)][_0x218276(0x141)];if(_0x3a7a30[_0x218276(0x144)]['exceptions'])dateExceptions=_0x3a7a30['settings']['exceptions'];}if(_0x3a7a30[_0x218276(0x1af)]&&Array[_0x218276(0x1e2)](_0x3a7a30[_0x218276(0x1af)]))clients=_0x3a7a30[_0x218276(0x1af)];_0x3a7a30[_0x218276(0x177)]&&(coachProfiles={...coachProfiles,..._0x3a7a30[_0x218276(0x177)]}),_0x3a7a30[_0x218276(0xfd)]&&(sessions=sessions[_0x218276(0x123)](_0x1876bf=>!_0x1876bf[_0x218276(0x19b)][_0x218276(0x1e3)](_0x4c044b)),Object[_0x218276(0x154)](_0x3a7a30[_0x218276(0xfd)])['forEach'](_0x471446=>{const _0x37cfe3=_0x3a7a30['calendar'][_0x471446];_0x37cfe3['forEach'](_0x224165=>{const _0x493ae9=a3_0x4d1a;sessions[_0x493ae9(0x15d)]({'id':_0x224165['i'],'clientId':_0x224165['c'],'coachId':_0x224165[_0x493ae9(0x1c8)],'dateStr':_0x4c044b+'-'+_0x471446[_0x493ae9(0x10b)](0x2,'0'),'start':_0x224165['s'],'end':_0x224165['e'],'note':_0x224165['n']||'','status':_0x224165['st']||'planned','seriesId':_0x224165[_0x493ae9(0x10f)]});});})),reRenderBlocks();}};function init(){const _0x117b66=a3_0x5c0589;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x117b66(0x13e)](_0x117b66(0x178))[_0x117b66(0x179)](_0x117b66(0xf0),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x117b66(0x1e1)]();}function renderTimeColumn(){const _0xce8f1c=a3_0x5c0589,_0x2412da=document[_0xce8f1c(0x13e)](_0xce8f1c(0x186)),_0x3abe40=document['getElementById'](_0xce8f1c(0x1ca));_0x2412da[_0xce8f1c(0x158)]='',_0x2412da[_0xce8f1c(0x190)](_0x3abe40);for(let _0x1acc58=0x0;_0x1acc58<0x18;_0x1acc58++){const _0x29fa31=document[_0xce8f1c(0x111)](_0xce8f1c(0xea));_0x29fa31[_0xce8f1c(0x170)]=_0xce8f1c(0x143);if(_0x1acc58>0x0)_0x29fa31[_0xce8f1c(0x158)]=_0xce8f1c(0x1ab)+String(_0x1acc58)[_0xce8f1c(0x10b)](0x2,'0')+':00</span>';_0x2412da['appendChild'](_0x29fa31);}}function a3_0x1f3a(){const _0x589ca3=['scrollLeft','push','anTotalStats','completed','px\x20-','.rs-date-chip','toString','setItem','detailsSheet','Telegram','split','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','12712oCFHFr','initData','pattern','Error\x20setting\x20color:','get_slots','height','ccText','className','.btn-cancel','.period-switch\x20.p-btn','clientId','11DjZXaD','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-date','coach_profiles','matrixViewport','addEventListener','data','#ff453a','setHeaderColor','.day-col-header[data-date=\x22','uc_client_list','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','color','substr','rs-date-chip','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','752083MBTijt','max','timeColumn','log','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','block','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','saveLocally','then','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','insertBefore','setMonth','appendChild','strokeDashoffset','stopPropagation','flex','T23:59:59','top','overlay','analyticsList','getDay','onclick','total','dateStr','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','var(--acc-green)','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','getItem','rgba(10,\x20132,\x20255,\x20','open','T00:00:00','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','none','coachId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','offsetLeft','entries','show','<span>','done','anPercent','scrollTo','clients','getHours','<div\x20class=\x22dch-day\x22>','%\x20-\x204px)','13025410BXILlI','2gpKapm','client_cancel','7078645ALMLNO','constructor','backgroundPosition','ru-RU','week','<div\x20class=\x22rs-day-name\x22>','daysHeaderTrack','remove','all','active','querySelectorAll','rsSlotsGrid','detNote','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','clientWidth','fontWeight','analyticsSheet','cid','setBackgroundColor','timeLineBadge','createDocumentFragment','note','anStart','length','style','add','63445eToSdN','join','uc_client_settings','setAttribute','getDate','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getMinutes','search','day-off-overlay\x20stripe-bg','ready','calc(','3387897IoaQaB','gridColumns','stringify','customConfirm','scrollWidth','syncLoad','isArray','startsWith','cancelHint','sort','auto','error','substring','cancel_window','div','setDate','exceptions','getTime','setHours','globalTimeLine','scroll','month','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','querySelector','toUpperCase','left','json','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','forEach','borderLeftColor','37993308TQwxhy','8hWcVLF','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','calendar','firstChild','getAttribute','slice','min','find','offsetWidth','getMonth','</span>\x20/\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','numeric','#0a84ff','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','disableVerticalSwipes','padStart','classList','event-card','map','sid','expand','createElement','test','.day-col-header','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','client_load','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','v9.5-CLIENT-ANALYTICS','POST','scrollTop','Critical\x20TMA\x20Error:','headerMonth','end','rsDatesTrack','detStatus','day-col-header\x20','\x20–∏–∑\x20','\x20—á.','reschedule','filter','textContent','start','(((.+)+)+)+$','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','px\x200px','600','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','WebApp','getFullYear','colIndex','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</div><div\x20class=\x22dch-num\x22>','long','seriesId','var(--acc-blue)','day-column\x20','rescheduleSheet','612FXaGis','round','240HhGzRd','detTime','#050505','ccYesBtn','value','anEnd','rs-time-btn','getElementById','.day-column','toast','ranges','parse','time-label','settings','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','mini','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applyData','offClick','display','status','charAt','DOMContentLoaded','data-day-idx','uc_client_sessions','ccTitle','today','\x20-\x20','now','keys','BackButton','anDonutCircle','toLocaleDateString','innerHTML','button','</div>','onClick'];a3_0x1f3a=function(){return _0x589ca3;};return a3_0x1f3a();}function renderDayRange(_0x1ffced,_0x2c79f2){const _0x337b46=a3_0x5c0589,_0x48a5ba=document[_0x337b46(0x13e)](_0x337b46(0x1bc)),_0x19eda2=document[_0x337b46(0x13e)]('gridColumns'),_0x56064f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x152ee9=new Date();_0x152ee9[_0x337b46(0xee)](0x0,0x0,0x0,0x0);const _0x32c029=getLocalDateStr(new Date());for(let _0x1d60eb=_0x1ffced;_0x1d60eb<=_0x2c79f2;_0x1d60eb++){const _0x25c6f3=new Date(_0x152ee9);_0x25c6f3[_0x337b46(0xeb)](_0x25c6f3['getDate']()+_0x1d60eb);const _0x360189=getLocalDateStr(_0x25c6f3);let _0x213b97=_0x25c6f3[_0x337b46(0x198)]()-0x1;if(_0x213b97===-0x1)_0x213b97=0x6;const _0x2a2bc6=_0x360189===_0x32c029,_0xbc2625=document[_0x337b46(0x111)](_0x337b46(0xea));_0xbc2625[_0x337b46(0x170)]=_0x337b46(0x11f)+(_0x2a2bc6?'today':''),_0xbc2625[_0x337b46(0x1d4)]('data-date',_0x360189),_0xbc2625[_0x337b46(0x158)]=_0x337b46(0x1b1)+_0x56064f[_0x213b97]+'</div><div\x20class=\x22dch-num\x22>'+_0x25c6f3['getDate']()+'</div>',_0x48a5ba[_0x337b46(0x190)](_0xbc2625);const _0x3c29e3=document[_0x337b46(0x111)](_0x337b46(0xea));_0x3c29e3[_0x337b46(0x170)]=_0x337b46(0x133)+(_0x2a2bc6?'today':''),_0x3c29e3[_0x337b46(0x1d4)](_0x337b46(0x176),_0x360189),_0x3c29e3[_0x337b46(0x1d4)]('data-day-idx',_0x213b97),_0x19eda2[_0x337b46(0x190)](_0x3c29e3);}}function reRenderBlocks(){const _0x1f810f=a3_0x5c0589;document[_0x1f810f(0x1c0)](_0x1f810f(0x13f))[_0x1f810f(0xf8)](_0x25e767=>{const _0x270e80=_0x1f810f;_0x25e767[_0x270e80(0x1c0)](_0x270e80(0x109))[_0x270e80(0xf8)](_0x14f214=>_0x14f214['remove']());const _0x492afe=_0x25e767[_0x270e80(0xff)](_0x270e80(0x176)),_0x467d0b=parseInt(_0x25e767[_0x270e80(0xff)](_0x270e80(0x14e))),_0x4b061f=Math['round'](_0x25e767[_0x270e80(0x1a8)]);(availabilityPattern[_0x467d0b]||[])[_0x270e80(0xf8)](_0x5f2082=>{const _0xbaf087=_0x270e80,_0x4ffef6=document[_0xbaf087(0x111)](_0xbaf087(0xea));_0x4ffef6[_0xbaf087(0x170)]='blocked-slot\x20stripe-bg',_0x4ffef6[_0xbaf087(0x1cf)][_0xbaf087(0x195)]=_0x5f2082*GRID_H+'px',_0x4ffef6['style'][_0xbaf087(0x1b8)]='-'+_0x4b061f+_0xbaf087(0x160)+_0x5f2082*GRID_H+'px',_0x25e767[_0xbaf087(0x190)](_0x4ffef6);});if(specialRanges[_0x270e80(0x1ce)]>0x0){const _0x2ef025=new Date(_0x492afe+_0x270e80(0x1a2))[_0x270e80(0xed)](),_0x36b0eb=new Date(_0x492afe+_0x270e80(0x194))['getTime']();specialRanges[_0x270e80(0xf8)](_0x33b43d=>{const _0xd994bc=_0x270e80,_0x30ac37=new Date(_0x33b43d[_0xd994bc(0x125)])[_0xd994bc(0xed)](),_0x57de60=new Date(_0x33b43d['end'])[_0xd994bc(0xed)](),_0x3168f7=Math[_0xd994bc(0x185)](_0x2ef025,_0x30ac37),_0x5040ff=Math[_0xd994bc(0x101)](_0x36b0eb,_0x57de60);if(_0x3168f7<_0x5040ff){const _0x673800=(_0x3168f7-_0x2ef025)/0x36ee80*GRID_H,_0x369b0a=(_0x5040ff-_0x3168f7)/0x36ee80*GRID_H,_0x14bf68=document[_0xd994bc(0x111)](_0xd994bc(0xea));_0x369b0a>=23.5*GRID_H?(_0x14bf68[_0xd994bc(0x170)]=_0xd994bc(0x1d9),_0x14bf68[_0xd994bc(0x1cf)][_0xd994bc(0x1b8)]='-'+_0x4b061f+_0xd994bc(0x128)):(_0x14bf68['className']='blocked-range-part\x20stripe-bg',_0x14bf68[_0xd994bc(0x1cf)]['top']=_0x673800+'px',_0x14bf68[_0xd994bc(0x1cf)][_0xd994bc(0x16e)]=_0x369b0a+'px',_0x14bf68[_0xd994bc(0x1cf)]['backgroundPosition']='-'+_0x4b061f+_0xd994bc(0x160)+_0x673800+'px'),_0x25e767[_0xd994bc(0x190)](_0x14bf68);}});}renderEventsForColumn(_0x25e767,_0x492afe);});}function renderEventsForColumn(_0x28a6dc,_0x43e66a){const _0x57bea8=a3_0x5c0589,_0x4ad76b=sessions[_0x57bea8(0x123)](_0x320885=>_0x320885[_0x57bea8(0x19b)]===_0x43e66a),_0xb5d6e1=_0x4ad76b[_0x57bea8(0x10e)](_0x5365b3=>{const _0x4fe188=_0x57bea8,[_0x26c15e,_0x258e73]=_0x5365b3['start']['split'](':')['map'](Number),[_0x8c5718,_0x4efca2]=_0x5365b3[_0x4fe188(0x11c)][_0x4fe188(0x166)](':')[_0x4fe188(0x10e)](Number);return{'data':_0x5365b3,'start':_0x26c15e*0x3c+_0x258e73,'end':_0x8c5718*0x3c+_0x4efca2,'colIndex':0x0};});_0xb5d6e1[_0x57bea8(0x1e5)]((_0x1ffb05,_0xd4944b)=>_0x1ffb05['start']-_0xd4944b[_0x57bea8(0x125)]||_0xd4944b[_0x57bea8(0x11c)]-_0xd4944b[_0x57bea8(0x125)]-(_0x1ffb05[_0x57bea8(0x11c)]-_0x1ffb05[_0x57bea8(0x125)]));const _0x270c5b=[];_0xb5d6e1[_0x57bea8(0xf8)](_0xd3a690=>{const _0x4403c6=_0x57bea8;let _0x3eea9c=![];for(let _0x39e199=0x0;_0x39e199<_0x270c5b[_0x4403c6(0x1ce)];_0x39e199++){const _0x299b7f=_0x270c5b[_0x39e199];if(_0xd3a690[_0x4403c6(0x125)]>=_0x299b7f[_0x299b7f[_0x4403c6(0x1ce)]-0x1][_0x4403c6(0x11c)]){_0x299b7f[_0x4403c6(0x15d)](_0xd3a690),_0xd3a690[_0x4403c6(0x12d)]=_0x39e199,_0x3eea9c=!![];break;}}!_0x3eea9c&&(_0x270c5b[_0x4403c6(0x15d)]([_0xd3a690]),_0xd3a690[_0x4403c6(0x12d)]=_0x270c5b[_0x4403c6(0x1ce)]-0x1);}),_0xb5d6e1[_0x57bea8(0xf8)](_0x59ec13=>{const _0x3be954=_0x57bea8;let _0x19cb44=0x0;_0xb5d6e1[_0x3be954(0xf8)](_0x53481a=>{const _0x115e26=_0x3be954;if(Math['max'](_0x59ec13[_0x115e26(0x125)],_0x53481a[_0x115e26(0x125)])<Math[_0x115e26(0x101)](_0x59ec13[_0x115e26(0x11c)],_0x53481a[_0x115e26(0x11c)])&&_0x53481a[_0x115e26(0x12d)]>_0x19cb44)_0x19cb44=_0x53481a[_0x115e26(0x12d)];});const _0xeccc30=_0x19cb44+0x1,_0x439320=0x64/_0xeccc30,_0x56b464=_0x59ec13[_0x3be954(0x12d)]*_0x439320,_0xdd41cb=document['createElement'](_0x3be954(0xea)),_0x37165f=_0x59ec13[_0x3be954(0x17a)];let _0x2055fd='#0a84ff';if(clients&&clients[_0x3be954(0x1ce)]>0x0){const _0x4d49df=clients[_0x3be954(0x102)](_0xa60170=>String(_0xa60170['id'])===String(_0x37165f[_0x3be954(0x173)]));if(_0x4d49df&&_0x4d49df[_0x3be954(0x180)])_0x2055fd=_0x4d49df[_0x3be954(0x180)];}const _0x10bca8=_0x37165f[_0x3be954(0x14b)]===_0x3be954(0x15f),_0x1c55ca=_0x10bca8?0x1:0.45;_0xdd41cb['className']=_0x3be954(0x10d)+(_0x10bca8?'\x20status-completed':''),_0xdd41cb[_0x3be954(0x1cf)]['backgroundColor']=hexToRgba(_0x2055fd,_0x1c55ca),_0xdd41cb['style'][_0x3be954(0xf9)]=_0x2055fd;const _0x190c13=_0x59ec13['start']/0x3c*GRID_H,_0x1c4711=(_0x59ec13[_0x3be954(0x11c)]-_0x59ec13['start'])/0x3c*GRID_H;_0xdd41cb[_0x3be954(0x1cf)][_0x3be954(0x195)]=_0x190c13+'px',_0xdd41cb[_0x3be954(0x1cf)]['height']=Math['max'](_0x1c4711,0x14)+'px',_0xdd41cb[_0x3be954(0x1cf)]['width']=_0x3be954(0x1db)+_0x439320+_0x3be954(0x1b2),_0xdd41cb[_0x3be954(0x1cf)][_0x3be954(0xf5)]=_0x3be954(0x1db)+_0x56b464+'%\x20+\x202px)',_0xdd41cb[_0x3be954(0x1cf)]['zIndex']=0xa+_0x59ec13[_0x3be954(0x12d)];if(_0x439320<0x55)_0xdd41cb[_0x3be954(0x10c)][_0x3be954(0x1d0)](_0x3be954(0x146));let _0x10f6a4='';if(_0x37165f[_0x3be954(0x131)])_0x10f6a4+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x10bca8)_0x10f6a4+=_0x3be954(0x17f);_0xdd41cb['innerHTML']=_0x3be954(0x168)+_0x37165f[_0x3be954(0x125)]+_0x3be954(0x152)+_0x37165f[_0x3be954(0x11c)]+_0x3be954(0x175)+_0x10f6a4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xdd41cb['onclick']=_0x2d704b=>{const _0x4fbb9a=_0x3be954;_0x2d704b[_0x4fbb9a(0x192)](),openDetails(_0x37165f);},_0x28a6dc[_0x3be954(0x190)](_0xdd41cb);});}function openAnalytics(){const _0x3d4da6=a3_0x5c0589,_0x4f19b3=document[_0x3d4da6(0xf3)](_0x3d4da6(0x172));setAnalyticsPeriod(_0x3d4da6(0x1ba),_0x4f19b3),openSheet(_0x3d4da6(0x1c7));}function setAnalyticsPeriod(_0x4555a2,_0x5cd202){const _0x28a700=a3_0x5c0589;currentAnPeriod=_0x4555a2,document['querySelectorAll'](_0x28a700(0x172))[_0x28a700(0xf8)](_0x4bc554=>_0x4bc554['classList'][_0x28a700(0x1bd)](_0x28a700(0x1bf)));if(_0x5cd202)_0x5cd202[_0x28a700(0x10c)][_0x28a700(0x1d0)](_0x28a700(0x1bf));const _0x177ae7=document['getElementById']('anCustomDates');_0x177ae7[_0x28a700(0x1cf)][_0x28a700(0x14a)]=_0x4555a2==='custom'?_0x28a700(0x193):'none';const _0x514fa5=new Date();let _0x4367dc=new Date(),_0x3ba63a=new Date();if(_0x4555a2==='week')_0x4367dc=getStartOfWeek(_0x514fa5),_0x3ba63a=new Date(_0x4367dc),_0x3ba63a[_0x28a700(0xeb)](_0x3ba63a[_0x28a700(0x1d5)]()+0x6);else{if(_0x4555a2===_0x28a700(0xf1))_0x4367dc=new Date(_0x514fa5[_0x28a700(0x12c)](),_0x514fa5[_0x28a700(0x104)](),0x1),_0x3ba63a=new Date(_0x514fa5[_0x28a700(0x12c)](),_0x514fa5[_0x28a700(0x104)]()+0x1,0x0);else{!document[_0x28a700(0x13e)]('anStart')['value']&&(document[_0x28a700(0x13e)](_0x28a700(0x1cd))[_0x28a700(0x13b)]=getLocalDateStr(_0x514fa5),document['getElementById'](_0x28a700(0x13c))[_0x28a700(0x13b)]=getLocalDateStr(_0x514fa5));refreshAnalytics();return;}}document[_0x28a700(0x13e)](_0x28a700(0x1cd))[_0x28a700(0x13b)]=getLocalDateStr(_0x4367dc),document[_0x28a700(0x13e)](_0x28a700(0x13c))[_0x28a700(0x13b)]=getLocalDateStr(_0x3ba63a),refreshAnalytics();}function refreshAnalytics(){const _0x366b1e=a3_0x5c0589,_0x2a3892=document[_0x366b1e(0x13e)](_0x366b1e(0x1cd))[_0x366b1e(0x13b)],_0x3be291=document['getElementById'](_0x366b1e(0x13c))[_0x366b1e(0x13b)];if(!_0x2a3892||!_0x3be291)return;const _0xe7bd9d=sessions['filter'](_0x276abc=>_0x276abc['dateStr']>=_0x2a3892&&_0x276abc[_0x366b1e(0x19b)]<=_0x3be291&&_0x276abc[_0x366b1e(0x14b)]!=='cancelled'),_0x19f5dd=_0xe7bd9d[_0x366b1e(0x1ce)],_0x2f770f=_0xe7bd9d[_0x366b1e(0x123)](_0x22a685=>_0x22a685[_0x366b1e(0x14b)]===_0x366b1e(0x15f))[_0x366b1e(0x1ce)],_0x516cea=_0x19f5dd>0x0?Math['round'](_0x2f770f/_0x19f5dd*0x64):0x0;document[_0x366b1e(0x13e)](_0x366b1e(0x1ad))[_0x366b1e(0x124)]=_0x516cea+'%',document['getElementById'](_0x366b1e(0x15e))[_0x366b1e(0x124)]=_0x2f770f+_0x366b1e(0x120)+_0x19f5dd+_0x366b1e(0xf7);const _0x3ce692=document[_0x366b1e(0x13e)](_0x366b1e(0x156)),_0x128346=0x2*Math['PI']*0x23,_0x4150e1=_0x128346-_0x516cea/0x64*_0x128346;_0x3ce692[_0x366b1e(0x1cf)][_0x366b1e(0x191)]=_0x4150e1;const _0xccc530={};_0xe7bd9d[_0x366b1e(0xf8)](_0x5948ca=>{const _0xe6cc7d=_0x366b1e,_0x4ad5c8=_0x5948ca[_0xe6cc7d(0x1a5)]||'Unknown';if(!_0xccc530[_0x4ad5c8]){const _0x51bb5b='#'+_0x4ad5c8[_0xe6cc7d(0x162)]()[_0xe6cc7d(0x181)](0x0,0x6);_0xccc530[_0x4ad5c8]={'total':0x0,'done':0x0,'color':_0x51bb5b};}_0xccc530[_0x4ad5c8][_0xe6cc7d(0x19a)]++;if(_0x5948ca['status']===_0xe6cc7d(0x15f))_0xccc530[_0x4ad5c8][_0xe6cc7d(0x1ac)]++;});const _0x2fdbd6=document[_0x366b1e(0x13e)](_0x366b1e(0x197));_0x2fdbd6[_0x366b1e(0x158)]='';const _0x2418e7=Object[_0x366b1e(0x1a9)](_0xccc530)[_0x366b1e(0x1e5)]((_0x48249e,_0x1c64bd)=>_0x1c64bd[0x1]['total']-_0x48249e[0x1][_0x366b1e(0x19a)]);if(_0x2418e7['length']===0x0){_0x2fdbd6[_0x366b1e(0x158)]=_0x366b1e(0x114);return;}_0x2418e7['forEach'](([_0x55f599,_0x48f909])=>{const _0x1a6cdb=_0x366b1e,_0x5e2e6a=Math[_0x1a6cdb(0x136)](_0x48f909[_0x1a6cdb(0x1ac)]/_0x48f909['total']*0x64),_0x185c30=document[_0x1a6cdb(0x111)](_0x1a6cdb(0xea));_0x185c30[_0x1a6cdb(0x170)]='client-stat-card',_0x185c30[_0x1a6cdb(0x1cf)][_0x1a6cdb(0xf9)]=_0x48f909[_0x1a6cdb(0x180)],_0x185c30[_0x1a6cdb(0x158)]=_0x1a6cdb(0x1a6)+_0x55f599[_0x1a6cdb(0x181)](0x0,0x5)+_0x1a6cdb(0x18d)+_0x48f909[_0x1a6cdb(0x1ac)]+_0x1a6cdb(0x105)+_0x48f909[_0x1a6cdb(0x19a)]+_0x1a6cdb(0x116)+_0x5e2e6a+_0x1a6cdb(0x147),_0x2fdbd6[_0x1a6cdb(0x190)](_0x185c30);});}function openDetails(_0x4c7e7b){const _0x1ea3c3=a3_0x5c0589;currentSession=_0x4c7e7b;const _0x254b90=new Date(_0x4c7e7b[_0x1ea3c3(0x19b)]),_0x52c63b=_0x254b90[_0x1ea3c3(0x157)](_0x1ea3c3(0x1b9),{'weekday':_0x1ea3c3(0x130),'day':'numeric','month':'long'});document['getElementById']('detDate')['textContent']=_0x52c63b[_0x1ea3c3(0x14c)](0x0)['toUpperCase']()+_0x52c63b[_0x1ea3c3(0x100)](0x1),document[_0x1ea3c3(0x13e)](_0x1ea3c3(0x138))[_0x1ea3c3(0x124)]=_0x4c7e7b[_0x1ea3c3(0x125)]+'\x20-\x20'+_0x4c7e7b[_0x1ea3c3(0x11c)],document[_0x1ea3c3(0x13e)](_0x1ea3c3(0x1c2))[_0x1ea3c3(0x124)]=_0x4c7e7b[_0x1ea3c3(0x1cc)]||_0x1ea3c3(0x183);const _0x39dce5=document['getElementById'](_0x1ea3c3(0x11e)),_0x15dd85=document[_0x1ea3c3(0x13e)]('cancelContainer'),_0x34c3a0=_0x15dd85['querySelector'](_0x1ea3c3(0x171)),_0x205e20=_0x15dd85[_0x1ea3c3(0xf3)]('.btn-reschedule'),_0x2ef8c0=document[_0x1ea3c3(0x13e)](_0x1ea3c3(0x1e4));if(_0x4c7e7b['status']===_0x1ea3c3(0x15f))_0x39dce5[_0x1ea3c3(0x124)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x39dce5[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x180)]=_0x1ea3c3(0x19d),_0x15dd85[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x14a)]=_0x1ea3c3(0x1a4);else{_0x39dce5['textContent']=_0x1ea3c3(0x1a3),_0x39dce5[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x180)]=_0x1ea3c3(0x132),_0x15dd85[_0x1ea3c3(0x1cf)]['display']=_0x1ea3c3(0x189);const _0x2e50c2=new Date(_0x4c7e7b['dateStr']+'T'+_0x4c7e7b['start']),_0x37c0a6=new Date(),_0x14a12e=(_0x2e50c2-_0x37c0a6)/(0x3e8*0x3c*0x3c),_0x1e2a01=coachProfiles[_0x4c7e7b['coachId']]&&coachProfiles[_0x4c7e7b[_0x1ea3c3(0x1a5)]][_0x1ea3c3(0xe9)]?parseInt(coachProfiles[_0x4c7e7b[_0x1ea3c3(0x1a5)]][_0x1ea3c3(0xe9)]):0x18;if(_0x1e2a01===0x0||_0x14a12e>=_0x1e2a01)_0x34c3a0[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x14a)]=_0x1ea3c3(0x189),_0x205e20[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x14a)]=_0x1ea3c3(0x189),_0x2ef8c0[_0x1ea3c3(0x1cf)]['display']=_0x1ea3c3(0x1a4);else{_0x34c3a0[_0x1ea3c3(0x1cf)]['display']=_0x1ea3c3(0x1a4),_0x205e20[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x14a)]=_0x1ea3c3(0x1a4),_0x2ef8c0[_0x1ea3c3(0x1cf)][_0x1ea3c3(0x14a)]=_0x1ea3c3(0x189);let _0x3097a1=_0x1e2a01===0x0?_0x1ea3c3(0x12a):'–∑–∞\x20'+_0x1e2a01+_0x1ea3c3(0x121);_0x2ef8c0[_0x1ea3c3(0x124)]=_0x1ea3c3(0x18a)+_0x3097a1+_0x1ea3c3(0x1c3);}}document[_0x1ea3c3(0x13e)](_0x1ea3c3(0x196))['classList'][_0x1ea3c3(0x1d0)](_0x1ea3c3(0x1bf)),document[_0x1ea3c3(0x13e)](_0x1ea3c3(0x164))[_0x1ea3c3(0x10c)][_0x1ea3c3(0x1d0)](_0x1ea3c3(0x1a1));}function closeAllSheets(){const _0x5771bd=a3_0x5c0589;document[_0x5771bd(0x13e)](_0x5771bd(0x196))[_0x5771bd(0x10c)][_0x5771bd(0x1bd)](_0x5771bd(0x1bf)),document[_0x5771bd(0x1c0)]('.sheet')[_0x5771bd(0xf8)](_0x25b21b=>_0x25b21b[_0x5771bd(0x10c)]['remove'](_0x5771bd(0x1a1)));}function openSheet(_0x3da820){const _0x401a1c=a3_0x5c0589;document['getElementById'](_0x401a1c(0x196))['classList'][_0x401a1c(0x1d0)]('active'),document[_0x401a1c(0x13e)](_0x3da820)['classList'][_0x401a1c(0x1d0)](_0x401a1c(0x1a1));}function getLocalDateStr(_0x9fe570){const _0x520a63=a3_0x5c0589,_0x5de5f2=_0x9fe570[_0x520a63(0x12c)](),_0x197fb9=String(_0x9fe570[_0x520a63(0x104)]()+0x1)[_0x520a63(0x10b)](0x2,'0'),_0x5280b9=String(_0x9fe570['getDate']())[_0x520a63(0x10b)](0x2,'0');return _0x5de5f2+'-'+_0x197fb9+'-'+_0x5280b9;}function getStartOfWeek(_0x21a67d){const _0x169313=a3_0x5c0589,_0x33b7bc=new Date(_0x21a67d),_0x2da2c9=_0x33b7bc[_0x169313(0x198)](),_0x5dea99=_0x33b7bc[_0x169313(0x1d5)]()-_0x2da2c9+(_0x2da2c9===0x0?-0x6:0x1);return _0x33b7bc[_0x169313(0xeb)](_0x5dea99),_0x33b7bc['setHours'](0x0,0x0,0x0,0x0),_0x33b7bc;}function scrollToToday(){const _0x1d9636=getLocalDateStr(new Date());setTimeout(()=>{const _0x4592aa=a3_0x4d1a,_0x4c8be6=document['querySelector'](_0x4592aa(0x17d)+_0x1d9636+'\x22]');if(_0x4c8be6){const _0x449280=document['getElementById'](_0x4592aa(0x178)),_0x2f6bfa=_0x4c8be6['offsetLeft']-_0x449280[_0x4592aa(0x1c5)]/0x2+_0x4c8be6[_0x4592aa(0x103)]/0x2;_0x449280[_0x4592aa(0x1ae)]({'left':_0x2f6bfa,'behavior':_0x4592aa(0x1e6)}),_0x449280[_0x4592aa(0x119)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xd189ef=a3_0x5c0589,_0x56c670=new Date(),_0x2f1ed0=document[_0xd189ef(0x13e)](_0xd189ef(0xef)),_0x59e610=document[_0xd189ef(0x13e)]('timeLineBadge'),_0x54c5a4=(_0x56c670[_0xd189ef(0x1b0)]()*0x3c+_0x56c670[_0xd189ef(0x1d7)]())/0x3c*GRID_H;_0x2f1ed0['style']['top']=_0x54c5a4+'px',_0x2f1ed0[_0xd189ef(0x1cf)]['display']='block',_0x59e610['style']['top']=_0x54c5a4+'px',_0x59e610[_0xd189ef(0x1cf)]['display']=_0xd189ef(0x189),_0x59e610[_0xd189ef(0x124)]=String(_0x56c670['getHours']())['padStart'](0x2,'0')+':'+String(_0x56c670[_0xd189ef(0x1d7)]())[_0xd189ef(0x10b)](0x2,'0');}function onScroll(){const _0x402b4a=a3_0x5c0589,_0x280ebf=document[_0x402b4a(0x13e)](_0x402b4a(0x178)),_0x217086=document[_0x402b4a(0x1c0)](_0x402b4a(0x113));for(let _0x478afc of _0x217086)if(_0x478afc['offsetLeft']>=_0x280ebf[_0x402b4a(0x15c)]){const _0x515d1c=new Date(_0x478afc[_0x402b4a(0xff)]('data-date'));document['getElementById'](_0x402b4a(0x11b))[_0x402b4a(0x124)]=_0x515d1c['toLocaleString']('ru',{'month':_0x402b4a(0x130)})[_0x402b4a(0xf4)]()+'\x20'+_0x515d1c['getFullYear']();break;}}function showToast(_0x48696b){const _0x5ed888=a3_0x5c0589,_0x311864=document[_0x5ed888(0x13e)](_0x5ed888(0x140));_0x311864['textContent']=_0x48696b,_0x311864[_0x5ed888(0x10c)][_0x5ed888(0x1d0)](_0x5ed888(0x1aa)),setTimeout(()=>_0x311864['classList']['remove'](_0x5ed888(0x1aa)),0x7d0);}function handleInfiniteScroll(){const _0x708b9c=a3_0x5c0589,_0x4e3808=document['getElementById']('matrixViewport'),_0x5e5852=_0x4e3808[_0x708b9c(0x15c)],_0x3e18b4=_0x4e3808[_0x708b9c(0x1e0)],_0x543325=_0x4e3808[_0x708b9c(0x1c5)];if(_0x3e18b4-(_0x5e5852+_0x543325)<0x12c){const _0x1d7ae4=endOffset;endOffset+=0xe,renderDayRange(_0x1d7ae4+0x1,endOffset),reRenderBlocks();}if(_0x5e5852<0x12c){const _0x4e8160=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4e8160-0x1),_0x4e3808[_0x708b9c(0x15c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x27d2f0,_0x5ef48b){const _0x49cf9f=a3_0x5c0589,_0x2eece7=document[_0x49cf9f(0x13e)](_0x49cf9f(0x1bc)),_0x4f19af=document[_0x49cf9f(0x13e)](_0x49cf9f(0x1dd)),_0x57c8cc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x501946=new Date();_0x501946[_0x49cf9f(0xee)](0x0,0x0,0x0,0x0);const _0x550091=getLocalDateStr(new Date()),_0x21ad0d=document[_0x49cf9f(0x1cb)](),_0x40ccf3=document[_0x49cf9f(0x1cb)]();for(let _0x202392=_0x27d2f0;_0x202392<=_0x5ef48b;_0x202392++){const _0x2dcf52=new Date(_0x501946);_0x2dcf52['setDate'](_0x2dcf52[_0x49cf9f(0x1d5)]()+_0x202392);const _0x3e4bd6=getLocalDateStr(_0x2dcf52);let _0xf8134a=_0x2dcf52[_0x49cf9f(0x198)]()-0x1;if(_0xf8134a===-0x1)_0xf8134a=0x6;const _0x4fff6a=_0x3e4bd6===_0x550091,_0x23cd82=document[_0x49cf9f(0x111)](_0x49cf9f(0xea));_0x23cd82[_0x49cf9f(0x170)]=_0x49cf9f(0x11f)+(_0x4fff6a?_0x49cf9f(0x151):''),_0x23cd82[_0x49cf9f(0x1d4)](_0x49cf9f(0x176),_0x3e4bd6),_0x23cd82[_0x49cf9f(0x158)]='<div\x20class=\x22dch-day\x22>'+_0x57c8cc[_0xf8134a]+_0x49cf9f(0x12f)+_0x2dcf52[_0x49cf9f(0x1d5)]()+_0x49cf9f(0x15a),_0x21ad0d[_0x49cf9f(0x190)](_0x23cd82);const _0x4ce90f=document['createElement']('div');_0x4ce90f[_0x49cf9f(0x170)]='day-column\x20'+(_0x4fff6a?_0x49cf9f(0x151):''),_0x4ce90f[_0x49cf9f(0x1d4)](_0x49cf9f(0x176),_0x3e4bd6),_0x4ce90f[_0x49cf9f(0x1d4)](_0x49cf9f(0x14e),_0xf8134a),_0x40ccf3[_0x49cf9f(0x190)](_0x4ce90f);}_0x2eece7['insertBefore'](_0x21ad0d,_0x2eece7['firstChild']),_0x4f19af[_0x49cf9f(0x18e)](_0x40ccf3,_0x4f19af[_0x49cf9f(0xf3)](_0x49cf9f(0x13f)));}function hexToRgba(_0x3a9a43,_0x559f05){const _0xa91e36=a3_0x5c0589;let _0x211ef9;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0xa91e36(0x112)](_0x3a9a43))return _0x211ef9=_0x3a9a43[_0xa91e36(0xe8)](0x1)[_0xa91e36(0x166)](''),_0x211ef9[_0xa91e36(0x1ce)]==0x3&&(_0x211ef9=[_0x211ef9[0x0],_0x211ef9[0x0],_0x211ef9[0x1],_0x211ef9[0x1],_0x211ef9[0x2],_0x211ef9[0x2]]),_0x211ef9='0x'+_0x211ef9[_0xa91e36(0x1d2)](''),'rgba('+[_0x211ef9>>0x10&0xff,_0x211ef9>>0x8&0xff,_0x211ef9&0xff][_0xa91e36(0x1d2)](',')+','+_0x559f05+')';return _0xa91e36(0x1a0)+_0x559f05+')';}let confirmResolver=null;function showCustomConfirm(_0x18ac22,_0x4643ec,_0x53c51a=!![]){const _0x54c40e=a3_0x5c0589;document[_0x54c40e(0x13e)](_0x54c40e(0x150))[_0x54c40e(0x124)]=_0x18ac22,document[_0x54c40e(0x13e)](_0x54c40e(0x16f))[_0x54c40e(0x124)]=_0x4643ec;const _0x49874d=document[_0x54c40e(0x13e)](_0x54c40e(0x13a));return _0x53c51a?(_0x49874d[_0x54c40e(0x1cf)][_0x54c40e(0x180)]=_0x54c40e(0x17b),_0x49874d[_0x54c40e(0x1cf)][_0x54c40e(0x1c6)]='600'):(_0x49874d[_0x54c40e(0x1cf)][_0x54c40e(0x180)]=_0x54c40e(0x108),_0x49874d[_0x54c40e(0x1cf)][_0x54c40e(0x1c6)]=_0x54c40e(0x129)),new Promise(_0x556d6f=>{const _0x47f2e5=_0x54c40e;confirmResolver=_0x556d6f,document[_0x47f2e5(0x13e)](_0x47f2e5(0x1df))[_0x47f2e5(0x10c)][_0x47f2e5(0x1d0)]('visible');});}function resolveCustomConfirm(_0x486046){const _0x4a0aa6=a3_0x5c0589;document[_0x4a0aa6(0x13e)](_0x4a0aa6(0x1df))[_0x4a0aa6(0x10c)][_0x4a0aa6(0x1bd)]('visible');if(confirmResolver)confirmResolver(_0x486046);}async function tryCancelCurrentSession(){const _0x149784=a3_0x5c0589;if(!currentSession)return;const _0x16d436=await showCustomConfirm(_0x149784(0x12e),_0x149784(0x188),!![]);if(!_0x16d436)return;const _0x4e7640=currentSession;closeAllSheets(),sessions=sessions[_0x149784(0x123)](_0x5ec765=>_0x5ec765['id']!==_0x4e7640['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x149784(0x153)]();try{const _0x53dcac=window[_0x149784(0x165)]?.[_0x149784(0x12b)],_0x4f2b0d=await fetch(API_URL,{'method':_0x149784(0x118),'body':JSON['stringify']({'action':_0x149784(0x1b5),'init_data':_0x53dcac?.[_0x149784(0x16a)]||'','coachId':_0x4e7640[_0x149784(0x1a5)],'dateStr':_0x4e7640[_0x149784(0x19b)],'sessionId':_0x4e7640['id']})});if(_0x4f2b0d['ok'])DataManager[_0x149784(0x18b)]();}catch(_0x4c7b61){showToast(_0x149784(0x19e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2993c3=a3_0x5c0589;if(!currentSession)return;document[_0x2993c3(0x13e)](_0x2993c3(0x164))[_0x2993c3(0x10c)][_0x2993c3(0x1bd)](_0x2993c3(0x1a1)),document[_0x2993c3(0x13e)](_0x2993c3(0x134))[_0x2993c3(0x10c)][_0x2993c3(0x1d0)](_0x2993c3(0x1a1));const _0x5caa21=document['getElementById']('rsDatesTrack'),_0x54d698=document[_0x2993c3(0x13e)]('rsSlotsGrid');_0x5caa21[_0x2993c3(0x158)]='',_0x54d698['innerHTML']=_0x2993c3(0x1c4);const [_0x26c7a6,_0x19a108]=currentSession[_0x2993c3(0x125)][_0x2993c3(0x166)](':')[_0x2993c3(0x10e)](Number),[_0x41960b,_0xf7ce89]=currentSession['end'][_0x2993c3(0x166)](':')['map'](Number),_0x3fbcb5=_0x41960b*0x3c+_0xf7ce89-(_0x26c7a6*0x3c+_0x19a108);try{const _0x459ce4=window[_0x2993c3(0x165)]?.[_0x2993c3(0x12b)],_0x336137=await fetch(API_URL,{'method':_0x2993c3(0x118),'body':JSON[_0x2993c3(0x1de)]({'action':_0x2993c3(0x16d),'coachId':currentSession[_0x2993c3(0x1a5)],'duration':_0x3fbcb5,'init_data':_0x459ce4?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x14521e=await _0x336137[_0x2993c3(0xf6)]();_0x14521e['ok']&&_0x14521e[_0x2993c3(0x17a)]?(availableSlotsCache=_0x14521e[_0x2993c3(0x17a)],renderRescheduleDates()):_0x54d698[_0x2993c3(0x158)]=_0x2993c3(0xf2);}catch(_0x5403fb){_0x54d698[_0x2993c3(0x158)]=_0x2993c3(0x19c);}}function renderRescheduleDates(){const _0x485aa1=a3_0x5c0589,_0x223e6e=document[_0x485aa1(0x13e)](_0x485aa1(0x11d));_0x223e6e[_0x485aa1(0x158)]='';const _0x5e6fe4=Object[_0x485aa1(0x154)](availableSlotsCache)[_0x485aa1(0x1e5)](),_0x4f3f11=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5e6fe4[_0x485aa1(0x1ce)]===0x0){document[_0x485aa1(0x13e)](_0x485aa1(0x1c1))[_0x485aa1(0x158)]=_0x485aa1(0x1a7);return;}_0x5e6fe4[_0x485aa1(0xf8)]((_0x22043d,_0x3ffd26)=>{const _0x500691=_0x485aa1,_0x4f57c5=new Date(_0x22043d),_0x59bc97=_0x4f3f11[_0x4f57c5[_0x500691(0x198)]()],_0x5d34fa=_0x4f57c5[_0x500691(0x1d5)](),_0x59e0d7=document['createElement'](_0x500691(0xea));_0x59e0d7[_0x500691(0x170)]=_0x500691(0x182);if(_0x3ffd26===0x0)_0x59e0d7[_0x500691(0x10c)][_0x500691(0x1d0)](_0x500691(0x1bf));_0x59e0d7[_0x500691(0x158)]=_0x500691(0x1bb)+_0x59bc97+'</div><div\x20class=\x22rs-day-num\x22>'+_0x5d34fa+'</div>',_0x59e0d7['onclick']=()=>selectRsDate(_0x22043d,_0x59e0d7),_0x223e6e[_0x500691(0x190)](_0x59e0d7);}),selectRsDate(_0x5e6fe4[0x0],_0x223e6e[_0x485aa1(0xfe)]);}function selectRsDate(_0x176d81,_0x5a41d0){const _0x6f60e4=a3_0x5c0589;selectedRsDate=_0x176d81,document[_0x6f60e4(0x1c0)](_0x6f60e4(0x161))[_0x6f60e4(0xf8)](_0x2d38f1=>_0x2d38f1[_0x6f60e4(0x10c)][_0x6f60e4(0x1bd)](_0x6f60e4(0x1bf)));if(_0x5a41d0)_0x5a41d0['classList']['add'](_0x6f60e4(0x1bf));const _0x3d691a=document['getElementById']('rsSlotsGrid');_0x3d691a[_0x6f60e4(0x158)]='';const _0xb0fd79=availableSlotsCache[_0x176d81]||[];if(_0xb0fd79[_0x6f60e4(0x1ce)]===0x0){_0x3d691a[_0x6f60e4(0x158)]=_0x6f60e4(0xf2);return;}_0xb0fd79[_0x6f60e4(0xf8)](_0x13ca3d=>{const _0x589187=_0x6f60e4,_0x56d280=document[_0x589187(0x111)](_0x589187(0x159));_0x56d280['className']=_0x589187(0x13d),_0x56d280[_0x589187(0x124)]=_0x13ca3d,_0x56d280[_0x589187(0x199)]=()=>confirmReschedule(_0x13ca3d),_0x3d691a[_0x589187(0x190)](_0x56d280);});}async function confirmReschedule(_0x2f6efd){const _0x2a9f95=a3_0x5c0589,_0x161251=new Date(selectedRsDate),_0x35c007=_0x161251[_0x2a9f95(0x157)](_0x2a9f95(0x1b9),{'day':_0x2a9f95(0x107),'month':'long'}),_0x5ea6f9=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2a9f95(0xfc)+_0x35c007+'\x20–≤\x20'+_0x2f6efd+'?',![]);if(!_0x5ea6f9)return;closeAllSheets(),showToast(_0x2a9f95(0x145)),lastUserActionTime=Date[_0x2a9f95(0x153)]();const _0x47b1f8=currentSession[_0x2a9f95(0x19b)],_0x2cc68c=currentSession['id'],[_0x1d6adc,_0x3973f2]=currentSession[_0x2a9f95(0x125)][_0x2a9f95(0x166)](':')[_0x2a9f95(0x10e)](Number),[_0x5ae8c0,_0x184fac]=currentSession['end']['split'](':')[_0x2a9f95(0x10e)](Number),_0x29119c=_0x5ae8c0*0x3c+_0x184fac-(_0x1d6adc*0x3c+_0x3973f2),[_0x25e0cb,_0x19009d]=_0x2f6efd[_0x2a9f95(0x166)](':')[_0x2a9f95(0x10e)](Number),_0x45b30a=_0x25e0cb*0x3c+_0x19009d+_0x29119c,_0x2beacd=Math['floor'](_0x45b30a/0x3c),_0x2bf451=_0x45b30a%0x3c,_0x1c2ecd=String(_0x2beacd)[_0x2a9f95(0x10b)](0x2,'0')+':'+String(_0x2bf451)['padStart'](0x2,'0'),_0x3533fa=sessions['findIndex'](_0x4b84b2=>_0x4b84b2['id']===_0x2cc68c);_0x3533fa!==-0x1&&(sessions[_0x3533fa][_0x2a9f95(0x19b)]=selectedRsDate,sessions[_0x3533fa][_0x2a9f95(0x125)]=_0x2f6efd,sessions[_0x3533fa][_0x2a9f95(0x11c)]=_0x1c2ecd,reRenderBlocks());try{const _0x437738=window[_0x2a9f95(0x165)]?.['WebApp'],_0x27281f=await fetch(API_URL,{'method':_0x2a9f95(0x118),'body':JSON[_0x2a9f95(0x1de)]({'action':_0x2a9f95(0x122),'init_data':_0x437738?.[_0x2a9f95(0x16a)]||'','oldSessionId':_0x2cc68c,'oldDate':_0x47b1f8,'newDate':selectedRsDate,'newTime':_0x2f6efd,'coachId':currentSession[_0x2a9f95(0x1a5)]})}),_0x37e9a5=await _0x27281f['json']();!_0x37e9a5['ok']?(showToast(_0x2a9f95(0x127)),DataManager[_0x2a9f95(0x1e1)]()):(showToast(_0x2a9f95(0x106)),DataManager['saveLocally']());}catch(_0x25a4cf){showToast(_0x2a9f95(0x19e));}}document[a3_0x5c0589(0x179)](a3_0x5c0589(0x14d),init);