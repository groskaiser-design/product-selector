const a3_0x1535aa=a3_0x5cb5;function a3_0x22b0(){const _0xf1f180=['#0a84ff','<div\x20class=\x22rs-day-name\x22>','applyData','anEnd','ready','json','block','.btn-reschedule','#ff453a','\x20-\x20','</div>','rgba(10,\x20132,\x20255,\x20','scrollTop','scrollTo','600','max','borderLeftColor','backgroundPosition','matrixViewport','day-column\x20','numeric','saveLocally','\x20–∏–∑\x20','</div><div\x20class=\x22dch-num\x22>','detNote','analyticsList','toLocaleString','timeLineBadge','filter','show','slice','60708yJPCDI','–∑–∞\x20','cid','total','none','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','style','setHeaderColor','status','6ykPVKV','div','.sheet','getTime','find','pattern','visible','overlay','appendChild','1737939DZmxCV','long','custom','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','globalTimeLine','BackButton','<div\x20class=\x22dch-day\x22>','gridColumns','2216795hpLERT','colIndex','calendar','\x20status-completed','remove','toString','data-date','now','calc(','month','addEventListener','setAttribute','2996155kBJhnr','getAttribute','time-label','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','ranges','textContent','startsWith','POST','reschedule','getDate','T00:00:00','px\x200px','length','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','var(--acc-green)','anStart','sort','detailsSheet','scroll','2yaGCAx','clientId','detStatus','toLocaleDateString','join','analyticsSheet','all','setItem','left','setDate','Telegram','uc_client_settings','scrollLeft','day-off-overlay\x20stripe-bg','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','createDocumentFragment','disableVerticalSwipes','open','value','T23:59:59','rsDatesTrack','setHours','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getItem','end','offsetLeft','cancelHint','split','search','map','backgroundColor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','client-stat-card','active','customConfirm','firstChild','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','add','px\x20-','.day-column','getFullYear','getDay','#050505','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','display','substr','rescheduleSheet','var(--acc-blue)','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','expand','391596UtAVzM','initData','event-card','ru-RU','clientWidth','round','color','DOMContentLoaded','findIndex','uc_client_list','.btn-cancel','padStart','today','scrollWidth','start','keys','stringify','blocked-slot\x20stripe-bg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','v9.5-CLIENT-ANALYTICS','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','data','177956XufZLa','exceptions','coach_profiles','fontWeight','height','toast','ccTitle','week','Error\x20setting\x20color:','test','rs-time-btn','\x20–≤\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','user','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','clients','anPercent','top','data-day-idx','onclick','charAt','(((.+)+)+)+$','className','88eVlhez','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','sid','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','syncLoad','.rs-date-chip','done','then','8ZSYCHx','completed','constructor','day-col-header\x20','coachId','min','width','blocked-range-part\x20stripe-bg','onClick','anCustomDates','%\x20-\x204px)','get_slots','headerMonth','location','push','getMonth','zIndex','router.html','cancelContainer','client_load','classList','cancel_window','WebApp','getElementById','40QxzezG','strokeDashoffset','log','floor','stopPropagation','1094580MyttRV','.period-switch\x20.p-btn','settings','querySelectorAll','createElement','insertBefore','rgba(','auto','offsetWidth','dateStr','forEach','Unknown','getHours','mini','offClick','<span>','setBackgroundColor','Critical\x20TMA\x20Error:','daysHeaderTrack','initDataUnsafe'];a3_0x22b0=function(){return _0xf1f180;};return a3_0x22b0();}(function(_0x33fa97,_0x16aa48){const _0x2f5918=a3_0x5cb5,_0x407313=_0x33fa97();while(!![]){try{const _0x4c15bf=-parseInt(_0x2f5918(0x1d2))/0x1+-parseInt(_0x2f5918(0x27e))/0x2*(parseInt(_0x2f5918(0x254))/0x3)+-parseInt(_0x2f5918(0x241))/0x4+parseInt(_0x2f5918(0x26a))/0x5*(parseInt(_0x2f5918(0x24b))/0x6)+parseInt(_0x2f5918(0x25e))/0x7*(parseInt(_0x2f5918(0x1f1))/0x8)+-parseInt(_0x2f5918(0x20e))/0x9*(-parseInt(_0x2f5918(0x209))/0xa)+parseInt(_0x2f5918(0x1e9))/0xb*(-parseInt(_0x2f5918(0x2b0))/0xc);if(_0x4c15bf===_0x16aa48)break;else _0x407313['push'](_0x407313['shift']());}catch(_0x462461){_0x407313['push'](_0x407313['shift']());}}}(a3_0x22b0,0x5a0f6));const APP_VERSION=a3_0x1535aa(0x1cf),API_URL=a3_0x1535aa(0x1de),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x1535aa(0x289),KEY_CLIENTS=a3_0x1535aa(0x2b9);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1535aa(0x1d9),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4eeb80=a3_0x1535aa,_0x542bb3=(function(){let _0x4577cd=!![];return function(_0x3bab5a,_0x106976){const _0xbf04d8=_0x4577cd?function(){if(_0x106976){const _0x435b22=_0x106976['apply'](_0x3bab5a,arguments);return _0x106976=null,_0x435b22;}}:function(){};return _0x4577cd=![],_0xbf04d8;};}()),_0x48d79f=_0x542bb3(this,function(){const _0x333413=a3_0x5cb5;return _0x48d79f['toString']()['search'](_0x333413(0x1e7))[_0x333413(0x263)]()[_0x333413(0x1f3)](_0x48d79f)[_0x333413(0x29a)](_0x333413(0x1e7));});_0x48d79f();try{const _0x3afd54=window[_0x4eeb80(0x288)]?.['WebApp'];if(!_0x3afd54)return;_0x3afd54[_0x4eeb80(0x226)](),_0x3afd54[_0x4eeb80(0x2af)]();try{_0x3afd54[_0x4eeb80(0x249)](_0x4eeb80(0x2a8)),_0x3afd54[_0x4eeb80(0x21e)]&&_0x3afd54[_0x4eeb80(0x21e)]('#050505');}catch(_0x2b5f45){console[_0x4eeb80(0x20b)](_0x4eeb80(0x1da),_0x2b5f45);}try{_0x3afd54[_0x4eeb80(0x25b)]&&(_0x3afd54[_0x4eeb80(0x25b)]['show'](),_0x3afd54[_0x4eeb80(0x25b)][_0x4eeb80(0x21c)](),_0x3afd54[_0x4eeb80(0x25b)][_0x4eeb80(0x1f9)](function(){const _0x275e20=_0x4eeb80;window[_0x275e20(0x1fe)]['href']=_0x275e20(0x202);}));}catch(_0x65246e){console[_0x4eeb80(0x20b)]('Error\x20setting\x20back\x20button:',_0x65246e);}try{if(_0x3afd54[_0x4eeb80(0x28e)])_0x3afd54[_0x4eeb80(0x28e)]();}catch(_0x5e5d26){}}catch(_0x7f0b0d){console['error'](_0x4eeb80(0x21f),_0x7f0b0d);}}());function isAdmin(){const _0x3271cf=a3_0x1535aa;try{const _0x427889=Number(window[_0x3271cf(0x288)]?.[_0x3271cf(0x207)]?.[_0x3271cf(0x221)]?.[_0x3271cf(0x1df)]?.['id']);return _0x427889===0xbaf7174;}catch(_0x4c2c83){return![];}}const DataManager={'saveLocally'(){const _0x1efad1=a3_0x1535aa;try{localStorage[_0x1efad1(0x285)](KEY_SESSIONS,JSON[_0x1efad1(0x1cc)](sessions)),localStorage[_0x1efad1(0x285)](KEY_CLIENTS,JSON[_0x1efad1(0x1cc)](clients)),localStorage[_0x1efad1(0x285)](KEY_SETTINGS,JSON[_0x1efad1(0x1cc)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5d0426){}},'loadLocal'(){const _0x401540=a3_0x1535aa;try{const _0x2532cc=localStorage['getItem'](KEY_SESSIONS);if(_0x2532cc)sessions=JSON['parse'](_0x2532cc);const _0x468ead=localStorage[_0x401540(0x295)](KEY_CLIENTS);if(_0x468ead)clients=JSON['parse'](_0x468ead);const _0xb2c792=localStorage['getItem'](KEY_SETTINGS);if(_0xb2c792){const _0x5e244f=JSON['parse'](_0xb2c792);if(_0x5e244f[_0x401540(0x250)])availabilityPattern=_0x5e244f[_0x401540(0x250)];if(_0x5e244f[_0x401540(0x26f)])specialRanges=_0x5e244f[_0x401540(0x26f)];if(_0x5e244f[_0x401540(0x1d3)])dateExceptions=_0x5e244f[_0x401540(0x1d3)];}}catch(_0x4d86f4){}},async 'syncLoad'(){const _0x146ed0=a3_0x1535aa,_0x41ecf1=new Date(),_0x241812=_0x41ecf1[_0x146ed0(0x2a6)]()+'-'+String(_0x41ecf1['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2dd118=new Date(_0x41ecf1);_0x2dd118['setMonth'](_0x41ecf1['getMonth']()+0x1);const _0x1e7789=_0x2dd118[_0x146ed0(0x2a6)]()+'-'+String(_0x2dd118[_0x146ed0(0x200)]()+0x1)[_0x146ed0(0x2bb)](0x2,'0'),_0xa69d63=Date['now']();try{const _0x1abec6=window[_0x146ed0(0x288)]?.[_0x146ed0(0x207)],_0x15f9a4=_0x1abec6?.[_0x146ed0(0x2b1)]||'',[_0x247e91,_0x67a862]=await Promise[_0x146ed0(0x284)]([fetch(API_URL,{'method':_0x146ed0(0x272),'body':JSON['stringify']({'action':_0x146ed0(0x204),'init_data':_0x15f9a4,'month_str':_0x241812})})[_0x146ed0(0x1f0)](_0x572b54=>_0x572b54[_0x146ed0(0x227)]()),fetch(API_URL,{'method':_0x146ed0(0x272),'body':JSON[_0x146ed0(0x1cc)]({'action':_0x146ed0(0x204),'init_data':_0x15f9a4,'month_str':_0x1e7789})})['then'](_0x20d72f=>_0x20d72f['json']())]);if(lastUserActionTime>_0xa69d63){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x247e91['ok'])this[_0x146ed0(0x224)](_0x247e91[_0x146ed0(0x1d1)],_0x241812);if(_0x67a862['ok'])this[_0x146ed0(0x224)](_0x67a862['data'],_0x1e7789);this[_0x146ed0(0x237)]();}catch(_0x3c6587){}},'applyData'(_0x1deecd,_0x67c2ca){const _0x4e3fc7=a3_0x1535aa;if(!_0x1deecd)return;if(_0x1deecd[_0x4e3fc7(0x210)]){if(_0x1deecd[_0x4e3fc7(0x210)][_0x4e3fc7(0x250)])availabilityPattern=_0x1deecd['settings']['pattern'];if(_0x1deecd[_0x4e3fc7(0x210)][_0x4e3fc7(0x26f)])specialRanges=_0x1deecd[_0x4e3fc7(0x210)][_0x4e3fc7(0x26f)];if(_0x1deecd[_0x4e3fc7(0x210)][_0x4e3fc7(0x1d3)])dateExceptions=_0x1deecd['settings'][_0x4e3fc7(0x1d3)];}if(_0x1deecd[_0x4e3fc7(0x1e1)]&&Array['isArray'](_0x1deecd[_0x4e3fc7(0x1e1)]))clients=_0x1deecd['clients'];_0x1deecd[_0x4e3fc7(0x1d4)]&&(coachProfiles={...coachProfiles,..._0x1deecd['coach_profiles']}),_0x1deecd[_0x4e3fc7(0x260)]&&(sessions=sessions[_0x4e3fc7(0x23e)](_0x3349d9=>!_0x3349d9[_0x4e3fc7(0x217)][_0x4e3fc7(0x271)](_0x67c2ca)),Object[_0x4e3fc7(0x1cb)](_0x1deecd[_0x4e3fc7(0x260)])[_0x4e3fc7(0x218)](_0x4c26dd=>{const _0x55dd52=_0x4e3fc7,_0x491352=_0x1deecd['calendar'][_0x4c26dd];_0x491352[_0x55dd52(0x218)](_0x155a8f=>{const _0x292a2a=_0x55dd52;sessions[_0x292a2a(0x1ff)]({'id':_0x155a8f['i'],'clientId':_0x155a8f['c'],'coachId':_0x155a8f[_0x292a2a(0x243)],'dateStr':_0x67c2ca+'-'+_0x4c26dd[_0x292a2a(0x2bb)](0x2,'0'),'start':_0x155a8f['s'],'end':_0x155a8f['e'],'note':_0x155a8f['n']||'','status':_0x155a8f['st']||'planned','seriesId':_0x155a8f[_0x292a2a(0x1eb)]});});})),reRenderBlocks();}};function init(){const _0x38780c=a3_0x1535aa;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x38780c(0x208)](_0x38780c(0x234))[_0x38780c(0x268)](_0x38780c(0x27d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x38780c(0x1ed)]();}function renderTimeColumn(){const _0x4ecdb8=a3_0x1535aa,_0x11cb95=document[_0x4ecdb8(0x208)]('timeColumn'),_0xc57da=document[_0x4ecdb8(0x208)](_0x4ecdb8(0x23d));_0x11cb95[_0x4ecdb8(0x257)]='',_0x11cb95[_0x4ecdb8(0x253)](_0xc57da);for(let _0x2fc2af=0x0;_0x2fc2af<0x18;_0x2fc2af++){const _0x5c4602=document[_0x4ecdb8(0x212)](_0x4ecdb8(0x24c));_0x5c4602[_0x4ecdb8(0x1e8)]=_0x4ecdb8(0x26c);if(_0x2fc2af>0x0)_0x5c4602[_0x4ecdb8(0x257)]=_0x4ecdb8(0x21d)+String(_0x2fc2af)[_0x4ecdb8(0x2bb)](0x2,'0')+':00</span>';_0x11cb95[_0x4ecdb8(0x253)](_0x5c4602);}}function renderDayRange(_0x4a0828,_0x4688ba){const _0x343bdf=a3_0x1535aa,_0x4b47a6=document[_0x343bdf(0x208)](_0x343bdf(0x220)),_0x56edea=document['getElementById'](_0x343bdf(0x25d)),_0x9d18f8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x619c0d=new Date();_0x619c0d[_0x343bdf(0x293)](0x0,0x0,0x0,0x0);const _0x673cd7=getLocalDateStr(new Date());for(let _0x458aa6=_0x4a0828;_0x458aa6<=_0x4688ba;_0x458aa6++){const _0x4228e6=new Date(_0x619c0d);_0x4228e6['setDate'](_0x4228e6[_0x343bdf(0x274)]()+_0x458aa6);const _0x2f8c81=getLocalDateStr(_0x4228e6);let _0x15639f=_0x4228e6[_0x343bdf(0x2a7)]()-0x1;if(_0x15639f===-0x1)_0x15639f=0x6;const _0x297cf4=_0x2f8c81===_0x673cd7,_0x5c016b=document[_0x343bdf(0x212)](_0x343bdf(0x24c));_0x5c016b['className']=_0x343bdf(0x1f4)+(_0x297cf4?_0x343bdf(0x2bc):''),_0x5c016b[_0x343bdf(0x269)]('data-date',_0x2f8c81),_0x5c016b[_0x343bdf(0x257)]=_0x343bdf(0x25c)+_0x9d18f8[_0x15639f]+'</div><div\x20class=\x22dch-num\x22>'+_0x4228e6[_0x343bdf(0x274)]()+'</div>',_0x4b47a6[_0x343bdf(0x253)](_0x5c016b);const _0x541371=document['createElement'](_0x343bdf(0x24c));_0x541371[_0x343bdf(0x1e8)]=_0x343bdf(0x235)+(_0x297cf4?_0x343bdf(0x2bc):''),_0x541371[_0x343bdf(0x269)](_0x343bdf(0x264),_0x2f8c81),_0x541371[_0x343bdf(0x269)](_0x343bdf(0x1e4),_0x15639f),_0x56edea[_0x343bdf(0x253)](_0x541371);}}function reRenderBlocks(){const _0x5cd01a=a3_0x1535aa;document[_0x5cd01a(0x211)](_0x5cd01a(0x2a5))[_0x5cd01a(0x218)](_0x4e9878=>{const _0x44ea59=_0x5cd01a;_0x4e9878[_0x44ea59(0x211)](_0x44ea59(0x26d))['forEach'](_0x5eef87=>_0x5eef87[_0x44ea59(0x262)]());const _0x24e081=_0x4e9878[_0x44ea59(0x26b)](_0x44ea59(0x264)),_0x24556f=parseInt(_0x4e9878[_0x44ea59(0x26b)]('data-day-idx')),_0x1f3e5d=Math[_0x44ea59(0x2b5)](_0x4e9878[_0x44ea59(0x297)]);(availabilityPattern[_0x24556f]||[])[_0x44ea59(0x218)](_0xfe9d0=>{const _0x40933d=_0x44ea59,_0xee3368=document[_0x40933d(0x212)](_0x40933d(0x24c));_0xee3368[_0x40933d(0x1e8)]=_0x40933d(0x1cd),_0xee3368[_0x40933d(0x248)][_0x40933d(0x1e3)]=_0xfe9d0*GRID_H+'px',_0xee3368[_0x40933d(0x248)]['backgroundPosition']='-'+_0x1f3e5d+'px\x20-'+_0xfe9d0*GRID_H+'px',_0x4e9878['appendChild'](_0xee3368);});if(specialRanges[_0x44ea59(0x277)]>0x0){const _0x105679=new Date(_0x24e081+_0x44ea59(0x275))[_0x44ea59(0x24e)](),_0x469a0c=new Date(_0x24e081+_0x44ea59(0x291))['getTime']();specialRanges[_0x44ea59(0x218)](_0x1e4c00=>{const _0x157fd9=_0x44ea59,_0x7ce93b=new Date(_0x1e4c00[_0x157fd9(0x1ca)])[_0x157fd9(0x24e)](),_0x4c1214=new Date(_0x1e4c00['end'])[_0x157fd9(0x24e)](),_0x13d3f7=Math['max'](_0x105679,_0x7ce93b),_0x3f0e9f=Math[_0x157fd9(0x1f6)](_0x469a0c,_0x4c1214);if(_0x13d3f7<_0x3f0e9f){const _0x157f50=(_0x13d3f7-_0x105679)/0x36ee80*GRID_H,_0x47341c=(_0x3f0e9f-_0x13d3f7)/0x36ee80*GRID_H,_0x15bb31=document[_0x157fd9(0x212)](_0x157fd9(0x24c));_0x47341c>=23.5*GRID_H?(_0x15bb31[_0x157fd9(0x1e8)]=_0x157fd9(0x28b),_0x15bb31[_0x157fd9(0x248)][_0x157fd9(0x233)]='-'+_0x1f3e5d+_0x157fd9(0x276)):(_0x15bb31[_0x157fd9(0x1e8)]=_0x157fd9(0x1f8),_0x15bb31[_0x157fd9(0x248)][_0x157fd9(0x1e3)]=_0x157f50+'px',_0x15bb31[_0x157fd9(0x248)][_0x157fd9(0x1d6)]=_0x47341c+'px',_0x15bb31[_0x157fd9(0x248)]['backgroundPosition']='-'+_0x1f3e5d+_0x157fd9(0x2a4)+_0x157f50+'px'),_0x4e9878[_0x157fd9(0x253)](_0x15bb31);}});}renderEventsForColumn(_0x4e9878,_0x24e081);});}function renderEventsForColumn(_0x277d39,_0x2a93d3){const _0x4f03d6=a3_0x1535aa,_0x166ebf=sessions[_0x4f03d6(0x23e)](_0x2233c3=>_0x2233c3[_0x4f03d6(0x217)]===_0x2a93d3),_0x5e27b2=_0x166ebf['map'](_0x55473e=>{const _0x46878a=_0x4f03d6,[_0x146f5f,_0x18827b]=_0x55473e['start'][_0x46878a(0x299)](':')['map'](Number),[_0x331136,_0x3f20dc]=_0x55473e['end'][_0x46878a(0x299)](':')[_0x46878a(0x29b)](Number);return{'data':_0x55473e,'start':_0x146f5f*0x3c+_0x18827b,'end':_0x331136*0x3c+_0x3f20dc,'colIndex':0x0};});_0x5e27b2[_0x4f03d6(0x27b)]((_0x5f18e9,_0x229dc1)=>_0x5f18e9['start']-_0x229dc1[_0x4f03d6(0x1ca)]||_0x229dc1[_0x4f03d6(0x296)]-_0x229dc1[_0x4f03d6(0x1ca)]-(_0x5f18e9[_0x4f03d6(0x296)]-_0x5f18e9[_0x4f03d6(0x1ca)]));const _0x5ca80d=[];_0x5e27b2['forEach'](_0x347618=>{const _0xa0dacd=_0x4f03d6;let _0x452545=![];for(let _0x195e74=0x0;_0x195e74<_0x5ca80d['length'];_0x195e74++){const _0x620dbf=_0x5ca80d[_0x195e74];if(_0x347618[_0xa0dacd(0x1ca)]>=_0x620dbf[_0x620dbf['length']-0x1][_0xa0dacd(0x296)]){_0x620dbf['push'](_0x347618),_0x347618['colIndex']=_0x195e74,_0x452545=!![];break;}}!_0x452545&&(_0x5ca80d[_0xa0dacd(0x1ff)]([_0x347618]),_0x347618[_0xa0dacd(0x25f)]=_0x5ca80d[_0xa0dacd(0x277)]-0x1);}),_0x5e27b2[_0x4f03d6(0x218)](_0x1d40fb=>{const _0x2d129c=_0x4f03d6;let _0x211084=0x0;_0x5e27b2[_0x2d129c(0x218)](_0x47e3ba=>{const _0x5d7514=_0x2d129c;if(Math[_0x5d7514(0x231)](_0x1d40fb[_0x5d7514(0x1ca)],_0x47e3ba[_0x5d7514(0x1ca)])<Math[_0x5d7514(0x1f6)](_0x1d40fb[_0x5d7514(0x296)],_0x47e3ba[_0x5d7514(0x296)])&&_0x47e3ba[_0x5d7514(0x25f)]>_0x211084)_0x211084=_0x47e3ba[_0x5d7514(0x25f)];});const _0x3cb446=_0x211084+0x1,_0x2b0ce1=0x64/_0x3cb446,_0x53e8d0=_0x1d40fb['colIndex']*_0x2b0ce1,_0x2a3a1d=document['createElement'](_0x2d129c(0x24c)),_0x3937cd=_0x1d40fb[_0x2d129c(0x1d1)];let _0xfce3f0=_0x2d129c(0x222);if(clients&&clients[_0x2d129c(0x277)]>0x0){const _0x44e629=clients[_0x2d129c(0x24f)](_0x358ef1=>String(_0x358ef1['id'])===String(_0x3937cd[_0x2d129c(0x27f)]));if(_0x44e629&&_0x44e629[_0x2d129c(0x2b6)])_0xfce3f0=_0x44e629[_0x2d129c(0x2b6)];}const _0x2b23b8=_0x3937cd[_0x2d129c(0x24a)]===_0x2d129c(0x1f2),_0x5cde4e=_0x2b23b8?0x1:0.45;_0x2a3a1d[_0x2d129c(0x1e8)]=_0x2d129c(0x2b2)+(_0x2b23b8?_0x2d129c(0x261):''),_0x2a3a1d['style'][_0x2d129c(0x29c)]=hexToRgba(_0xfce3f0,_0x5cde4e),_0x2a3a1d[_0x2d129c(0x248)][_0x2d129c(0x232)]=_0xfce3f0;const _0x349068=_0x1d40fb[_0x2d129c(0x1ca)]/0x3c*GRID_H,_0x3cbb5c=(_0x1d40fb[_0x2d129c(0x296)]-_0x1d40fb[_0x2d129c(0x1ca)])/0x3c*GRID_H;_0x2a3a1d['style'][_0x2d129c(0x1e3)]=_0x349068+'px',_0x2a3a1d[_0x2d129c(0x248)][_0x2d129c(0x1d6)]=Math['max'](_0x3cbb5c,0x14)+'px',_0x2a3a1d[_0x2d129c(0x248)][_0x2d129c(0x1f7)]=_0x2d129c(0x266)+_0x2b0ce1+_0x2d129c(0x1fb),_0x2a3a1d[_0x2d129c(0x248)][_0x2d129c(0x286)]=_0x2d129c(0x266)+_0x53e8d0+'%\x20+\x202px)',_0x2a3a1d[_0x2d129c(0x248)][_0x2d129c(0x201)]=0xa+_0x1d40fb[_0x2d129c(0x25f)];if(_0x2b0ce1<0x55)_0x2a3a1d['classList']['add'](_0x2d129c(0x21b));let _0x201f45='';if(_0x3937cd['seriesId'])_0x201f45+=_0x2d129c(0x278);if(_0x2b23b8)_0x201f45+=_0x2d129c(0x1ec);_0x2a3a1d[_0x2d129c(0x257)]=_0x2d129c(0x1ce)+_0x3937cd['start']+_0x2d129c(0x22b)+_0x3937cd[_0x2d129c(0x296)]+_0x2d129c(0x258)+_0x201f45+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a3a1d['onclick']=_0x72ff74=>{const _0x407c1f=_0x2d129c;_0x72ff74[_0x407c1f(0x20d)](),openDetails(_0x3937cd);},_0x277d39[_0x2d129c(0x253)](_0x2a3a1d);});}function openAnalytics(){const _0x49aa16=a3_0x1535aa,_0x24faf8=document[_0x49aa16(0x247)](_0x49aa16(0x20f));setAnalyticsPeriod('week',_0x24faf8),openSheet(_0x49aa16(0x283));}function setAnalyticsPeriod(_0x2554fb,_0x232cef){const _0xb1d129=a3_0x1535aa;currentAnPeriod=_0x2554fb,document[_0xb1d129(0x211)](_0xb1d129(0x20f))[_0xb1d129(0x218)](_0x10975d=>_0x10975d['classList']['remove']('active'));if(_0x232cef)_0x232cef[_0xb1d129(0x205)][_0xb1d129(0x2a3)](_0xb1d129(0x29f));const _0x5953df=document[_0xb1d129(0x208)](_0xb1d129(0x1fa));_0x5953df['style'][_0xb1d129(0x2aa)]=_0x2554fb===_0xb1d129(0x256)?'flex':_0xb1d129(0x245);const _0x144395=new Date();let _0x56fe59=new Date(),_0x192474=new Date();if(_0x2554fb==='week')_0x56fe59=getStartOfWeek(_0x144395),_0x192474=new Date(_0x56fe59),_0x192474[_0xb1d129(0x287)](_0x192474[_0xb1d129(0x274)]()+0x6);else{if(_0x2554fb===_0xb1d129(0x267))_0x56fe59=new Date(_0x144395['getFullYear'](),_0x144395[_0xb1d129(0x200)](),0x1),_0x192474=new Date(_0x144395[_0xb1d129(0x2a6)](),_0x144395[_0xb1d129(0x200)]()+0x1,0x0);else{!document[_0xb1d129(0x208)](_0xb1d129(0x27a))['value']&&(document[_0xb1d129(0x208)]('anStart')[_0xb1d129(0x290)]=getLocalDateStr(_0x144395),document[_0xb1d129(0x208)](_0xb1d129(0x225))[_0xb1d129(0x290)]=getLocalDateStr(_0x144395));refreshAnalytics();return;}}document['getElementById'](_0xb1d129(0x27a))[_0xb1d129(0x290)]=getLocalDateStr(_0x56fe59),document[_0xb1d129(0x208)](_0xb1d129(0x225))[_0xb1d129(0x290)]=getLocalDateStr(_0x192474),refreshAnalytics();}function refreshAnalytics(){const _0x452e22=a3_0x1535aa,_0x20adf1=document[_0x452e22(0x208)](_0x452e22(0x27a))[_0x452e22(0x290)],_0x59bfcc=document[_0x452e22(0x208)](_0x452e22(0x225))['value'];if(!_0x20adf1||!_0x59bfcc)return;const _0x52ddb5=sessions[_0x452e22(0x23e)](_0x4061bf=>_0x4061bf[_0x452e22(0x217)]>=_0x20adf1&&_0x4061bf[_0x452e22(0x217)]<=_0x59bfcc&&_0x4061bf['status']!=='cancelled'),_0x46c47d=_0x52ddb5[_0x452e22(0x277)],_0x458843=_0x52ddb5[_0x452e22(0x23e)](_0xfe49b=>_0xfe49b['status']===_0x452e22(0x1f2))['length'],_0x587af1=_0x46c47d>0x0?Math[_0x452e22(0x2b5)](_0x458843/_0x46c47d*0x64):0x0;document[_0x452e22(0x208)](_0x452e22(0x1e2))['textContent']=_0x587af1+'%',document['getElementById']('anTotalStats')[_0x452e22(0x270)]=_0x458843+_0x452e22(0x238)+_0x46c47d+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2e502d=document[_0x452e22(0x208)]('anDonutCircle'),_0x3effe1=0x2*Math['PI']*0x23,_0x1c915f=_0x3effe1-_0x587af1/0x64*_0x3effe1;_0x2e502d[_0x452e22(0x248)][_0x452e22(0x20a)]=_0x1c915f;const _0x1adee6={};_0x52ddb5[_0x452e22(0x218)](_0x12f85a=>{const _0xb5d664=_0x452e22,_0x3650f6=_0x12f85a[_0xb5d664(0x1f5)]||_0xb5d664(0x219);if(!_0x1adee6[_0x3650f6]){const _0xf747cb='#'+_0x3650f6[_0xb5d664(0x263)]()[_0xb5d664(0x2ab)](0x0,0x6);_0x1adee6[_0x3650f6]={'total':0x0,'done':0x0,'color':_0xf747cb};}_0x1adee6[_0x3650f6]['total']++;if(_0x12f85a[_0xb5d664(0x24a)]==='completed')_0x1adee6[_0x3650f6]['done']++;});const _0x3ec299=document[_0x452e22(0x208)](_0x452e22(0x23b));_0x3ec299[_0x452e22(0x257)]='';const _0x341922=Object[_0x452e22(0x259)](_0x1adee6)['sort']((_0x5d53ad,_0x5956a0)=>_0x5956a0[0x1][_0x452e22(0x244)]-_0x5d53ad[0x1][_0x452e22(0x244)]);if(_0x341922['length']===0x0){_0x3ec299[_0x452e22(0x257)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x341922['forEach'](([_0x347e93,_0x34888c])=>{const _0x13dd59=_0x452e22,_0x26ea6a=Math['round'](_0x34888c[_0x13dd59(0x1ef)]/_0x34888c['total']*0x64),_0x27ef0c=document['createElement'](_0x13dd59(0x24c));_0x27ef0c[_0x13dd59(0x1e8)]=_0x13dd59(0x29e),_0x27ef0c['style'][_0x13dd59(0x232)]=_0x34888c['color'],_0x27ef0c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x347e93[_0x13dd59(0x2ab)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x34888c['done']+'</span>\x20/\x20'+_0x34888c[_0x13dd59(0x244)]+_0x13dd59(0x294)+_0x26ea6a+_0x13dd59(0x246),_0x3ec299[_0x13dd59(0x253)](_0x27ef0c);});}function openDetails(_0x365ec7){const _0x2df767=a3_0x1535aa;currentSession=_0x365ec7;const _0x457f25=new Date(_0x365ec7[_0x2df767(0x217)]),_0x38b517=_0x457f25['toLocaleDateString'](_0x2df767(0x2b3),{'weekday':_0x2df767(0x255),'day':_0x2df767(0x236),'month':_0x2df767(0x255)});document['getElementById']('detDate')[_0x2df767(0x270)]=_0x38b517[_0x2df767(0x1e6)](0x0)['toUpperCase']()+_0x38b517[_0x2df767(0x240)](0x1),document[_0x2df767(0x208)]('detTime')['textContent']=_0x365ec7['start']+'\x20-\x20'+_0x365ec7[_0x2df767(0x296)],document[_0x2df767(0x208)](_0x2df767(0x23a))[_0x2df767(0x270)]=_0x365ec7['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x2ee1f0=document[_0x2df767(0x208)](_0x2df767(0x280)),_0x2343dd=document[_0x2df767(0x208)](_0x2df767(0x203)),_0x2a551b=_0x2343dd[_0x2df767(0x247)](_0x2df767(0x2ba)),_0x374183=_0x2343dd[_0x2df767(0x247)](_0x2df767(0x229)),_0x52e837=document[_0x2df767(0x208)](_0x2df767(0x298));if(_0x365ec7['status']==='completed')_0x2ee1f0['textContent']=_0x2df767(0x2a2),_0x2ee1f0[_0x2df767(0x248)][_0x2df767(0x2b6)]=_0x2df767(0x279),_0x2343dd[_0x2df767(0x248)][_0x2df767(0x2aa)]=_0x2df767(0x245);else{_0x2ee1f0[_0x2df767(0x270)]=_0x2df767(0x1ea),_0x2ee1f0[_0x2df767(0x248)][_0x2df767(0x2b6)]=_0x2df767(0x2ad),_0x2343dd[_0x2df767(0x248)]['display']=_0x2df767(0x228);const _0x2c2a17=new Date(_0x365ec7[_0x2df767(0x217)]+'T'+_0x365ec7['start']),_0x569ac5=new Date(),_0x46ab5e=(_0x2c2a17-_0x569ac5)/(0x3e8*0x3c*0x3c),_0x10f417=coachProfiles[_0x365ec7['coachId']]&&coachProfiles[_0x365ec7[_0x2df767(0x1f5)]][_0x2df767(0x206)]?parseInt(coachProfiles[_0x365ec7[_0x2df767(0x1f5)]][_0x2df767(0x206)]):0x18;if(_0x10f417===0x0||_0x46ab5e>=_0x10f417)_0x2a551b['style'][_0x2df767(0x2aa)]=_0x2df767(0x228),_0x374183['style'][_0x2df767(0x2aa)]='block',_0x52e837[_0x2df767(0x248)][_0x2df767(0x2aa)]=_0x2df767(0x245);else{_0x2a551b[_0x2df767(0x248)]['display']=_0x2df767(0x245),_0x374183[_0x2df767(0x248)][_0x2df767(0x2aa)]='none',_0x52e837[_0x2df767(0x248)]['display']='block';let _0x5d79c8=_0x10f417===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x2df767(0x242)+_0x10f417+'\x20—á.';_0x52e837[_0x2df767(0x270)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x5d79c8+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x2df767(0x208)](_0x2df767(0x252))['classList'][_0x2df767(0x2a3)](_0x2df767(0x29f)),document['getElementById']('detailsSheet')[_0x2df767(0x205)][_0x2df767(0x2a3)]('open');}function closeAllSheets(){const _0x16e654=a3_0x1535aa;document[_0x16e654(0x208)](_0x16e654(0x252))['classList'][_0x16e654(0x262)]('active'),document[_0x16e654(0x211)](_0x16e654(0x24d))[_0x16e654(0x218)](_0x588f6a=>_0x588f6a['classList'][_0x16e654(0x262)](_0x16e654(0x28f)));}function openSheet(_0x5aa47e){const _0x86ede4=a3_0x1535aa;document[_0x86ede4(0x208)]('overlay')['classList']['add'](_0x86ede4(0x29f)),document['getElementById'](_0x5aa47e)['classList']['add'](_0x86ede4(0x28f));}function getLocalDateStr(_0x595a2f){const _0x3ab6a3=a3_0x1535aa,_0x3cb3e7=_0x595a2f[_0x3ab6a3(0x2a6)](),_0x5b749a=String(_0x595a2f[_0x3ab6a3(0x200)]()+0x1)[_0x3ab6a3(0x2bb)](0x2,'0'),_0xeab8be=String(_0x595a2f[_0x3ab6a3(0x274)]())[_0x3ab6a3(0x2bb)](0x2,'0');return _0x3cb3e7+'-'+_0x5b749a+'-'+_0xeab8be;}function getStartOfWeek(_0x58db24){const _0x4060f9=a3_0x1535aa,_0x226ebe=new Date(_0x58db24),_0x35e99f=_0x226ebe[_0x4060f9(0x2a7)](),_0x2e41f4=_0x226ebe['getDate']()-_0x35e99f+(_0x35e99f===0x0?-0x6:0x1);return _0x226ebe[_0x4060f9(0x287)](_0x2e41f4),_0x226ebe[_0x4060f9(0x293)](0x0,0x0,0x0,0x0),_0x226ebe;}function scrollToToday(){const _0x441cd6=getLocalDateStr(new Date());setTimeout(()=>{const _0xe177d1=a3_0x5cb5,_0x1f41b4=document[_0xe177d1(0x247)]('.day-col-header[data-date=\x22'+_0x441cd6+'\x22]');if(_0x1f41b4){const _0x4183f6=document[_0xe177d1(0x208)](_0xe177d1(0x234)),_0x3d9ff0=_0x1f41b4[_0xe177d1(0x297)]-_0x4183f6[_0xe177d1(0x2b4)]/0x2+_0x1f41b4[_0xe177d1(0x216)]/0x2;_0x4183f6[_0xe177d1(0x22f)]({'left':_0x3d9ff0,'behavior':_0xe177d1(0x215)}),_0x4183f6[_0xe177d1(0x22e)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3e9e2e=a3_0x1535aa,_0x2c3196=new Date(),_0x1edeee=document[_0x3e9e2e(0x208)](_0x3e9e2e(0x25a)),_0x184b12=document[_0x3e9e2e(0x208)]('timeLineBadge'),_0x493c2d=(_0x2c3196[_0x3e9e2e(0x21a)]()*0x3c+_0x2c3196['getMinutes']())/0x3c*GRID_H;_0x1edeee[_0x3e9e2e(0x248)]['top']=_0x493c2d+'px',_0x1edeee[_0x3e9e2e(0x248)]['display']=_0x3e9e2e(0x228),_0x184b12[_0x3e9e2e(0x248)]['top']=_0x493c2d+'px',_0x184b12[_0x3e9e2e(0x248)][_0x3e9e2e(0x2aa)]=_0x3e9e2e(0x228),_0x184b12[_0x3e9e2e(0x270)]=String(_0x2c3196['getHours']())[_0x3e9e2e(0x2bb)](0x2,'0')+':'+String(_0x2c3196['getMinutes']())[_0x3e9e2e(0x2bb)](0x2,'0');}function onScroll(){const _0x3226c3=a3_0x1535aa,_0x4083b8=document['getElementById']('matrixViewport'),_0x3f2bd4=document[_0x3226c3(0x211)]('.day-col-header');for(let _0x97bdaf of _0x3f2bd4)if(_0x97bdaf['offsetLeft']>=_0x4083b8[_0x3226c3(0x28a)]){const _0x1ddb96=new Date(_0x97bdaf[_0x3226c3(0x26b)](_0x3226c3(0x264)));document[_0x3226c3(0x208)](_0x3226c3(0x1fd))[_0x3226c3(0x270)]=_0x1ddb96[_0x3226c3(0x23c)]('ru',{'month':_0x3226c3(0x255)})['toUpperCase']()+'\x20'+_0x1ddb96['getFullYear']();break;}}function showToast(_0x43e56f){const _0x32c0a3=a3_0x1535aa,_0x7b7960=document[_0x32c0a3(0x208)](_0x32c0a3(0x1d7));_0x7b7960[_0x32c0a3(0x270)]=_0x43e56f,_0x7b7960[_0x32c0a3(0x205)]['add'](_0x32c0a3(0x23f)),setTimeout(()=>_0x7b7960[_0x32c0a3(0x205)]['remove'](_0x32c0a3(0x23f)),0x7d0);}function handleInfiniteScroll(){const _0x75bf0b=a3_0x1535aa,_0xc6a27c=document[_0x75bf0b(0x208)]('matrixViewport'),_0x5ca080=_0xc6a27c[_0x75bf0b(0x28a)],_0x1045e9=_0xc6a27c[_0x75bf0b(0x2bd)],_0x435379=_0xc6a27c['clientWidth'];if(_0x1045e9-(_0x5ca080+_0x435379)<0x12c){const _0xaa5efb=endOffset;endOffset+=0xe,renderDayRange(_0xaa5efb+0x1,endOffset),reRenderBlocks();}if(_0x5ca080<0x12c){const _0x418a5c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x418a5c-0x1),_0xc6a27c[_0x75bf0b(0x28a)]+=0xe*0x41,reRenderBlocks();}}function a3_0x5cb5(_0x3f7b4d,_0x3ce4b0){_0x3f7b4d=_0x3f7b4d-0x1ca;const _0x4ba159=a3_0x22b0();let _0x5d31c7=_0x4ba159[_0x3f7b4d];return _0x5d31c7;}function prependDays(_0x111547,_0x1f64d1){const _0x7407e2=a3_0x1535aa,_0x3da742=document[_0x7407e2(0x208)](_0x7407e2(0x220)),_0x225714=document['getElementById'](_0x7407e2(0x25d)),_0x470d07=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x228676=new Date();_0x228676[_0x7407e2(0x293)](0x0,0x0,0x0,0x0);const _0x4be5b1=getLocalDateStr(new Date()),_0x1f8d1d=document[_0x7407e2(0x28d)](),_0x1240c8=document['createDocumentFragment']();for(let _0x9f7672=_0x111547;_0x9f7672<=_0x1f64d1;_0x9f7672++){const _0x1a2cb5=new Date(_0x228676);_0x1a2cb5[_0x7407e2(0x287)](_0x1a2cb5[_0x7407e2(0x274)]()+_0x9f7672);const _0x54cad4=getLocalDateStr(_0x1a2cb5);let _0x244d4d=_0x1a2cb5['getDay']()-0x1;if(_0x244d4d===-0x1)_0x244d4d=0x6;const _0x1c29a0=_0x54cad4===_0x4be5b1,_0xec04f9=document[_0x7407e2(0x212)]('div');_0xec04f9[_0x7407e2(0x1e8)]='day-col-header\x20'+(_0x1c29a0?'today':''),_0xec04f9[_0x7407e2(0x269)](_0x7407e2(0x264),_0x54cad4),_0xec04f9[_0x7407e2(0x257)]='<div\x20class=\x22dch-day\x22>'+_0x470d07[_0x244d4d]+_0x7407e2(0x239)+_0x1a2cb5[_0x7407e2(0x274)]()+_0x7407e2(0x22c),_0x1f8d1d[_0x7407e2(0x253)](_0xec04f9);const _0x1372b7=document[_0x7407e2(0x212)](_0x7407e2(0x24c));_0x1372b7['className']=_0x7407e2(0x235)+(_0x1c29a0?_0x7407e2(0x2bc):''),_0x1372b7[_0x7407e2(0x269)](_0x7407e2(0x264),_0x54cad4),_0x1372b7['setAttribute'](_0x7407e2(0x1e4),_0x244d4d),_0x1240c8[_0x7407e2(0x253)](_0x1372b7);}_0x3da742[_0x7407e2(0x213)](_0x1f8d1d,_0x3da742['firstChild']),_0x225714[_0x7407e2(0x213)](_0x1240c8,_0x225714[_0x7407e2(0x247)](_0x7407e2(0x2a5)));}function hexToRgba(_0x314e4b,_0x207d25){const _0x4abcd3=a3_0x1535aa;let _0x10b2cc;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4abcd3(0x1db)](_0x314e4b))return _0x10b2cc=_0x314e4b['substring'](0x1)[_0x4abcd3(0x299)](''),_0x10b2cc['length']==0x3&&(_0x10b2cc=[_0x10b2cc[0x0],_0x10b2cc[0x0],_0x10b2cc[0x1],_0x10b2cc[0x1],_0x10b2cc[0x2],_0x10b2cc[0x2]]),_0x10b2cc='0x'+_0x10b2cc[_0x4abcd3(0x282)](''),_0x4abcd3(0x214)+[_0x10b2cc>>0x10&0xff,_0x10b2cc>>0x8&0xff,_0x10b2cc&0xff][_0x4abcd3(0x282)](',')+','+_0x207d25+')';return _0x4abcd3(0x22d)+_0x207d25+')';}let confirmResolver=null;function showCustomConfirm(_0x3f070c,_0x5a20e3,_0x4a671c=!![]){const _0x2c74ad=a3_0x1535aa;document[_0x2c74ad(0x208)](_0x2c74ad(0x1d8))[_0x2c74ad(0x270)]=_0x3f070c,document[_0x2c74ad(0x208)]('ccText')[_0x2c74ad(0x270)]=_0x5a20e3;const _0xdd1f11=document['getElementById']('ccYesBtn');return _0x4a671c?(_0xdd1f11[_0x2c74ad(0x248)]['color']=_0x2c74ad(0x22a),_0xdd1f11['style'][_0x2c74ad(0x1d5)]=_0x2c74ad(0x230)):(_0xdd1f11[_0x2c74ad(0x248)][_0x2c74ad(0x2b6)]='#0a84ff',_0xdd1f11[_0x2c74ad(0x248)]['fontWeight']=_0x2c74ad(0x230)),new Promise(_0x3d6600=>{const _0x3dc8f0=_0x2c74ad;confirmResolver=_0x3d6600,document[_0x3dc8f0(0x208)](_0x3dc8f0(0x2a0))[_0x3dc8f0(0x205)]['add'](_0x3dc8f0(0x251));});}function resolveCustomConfirm(_0x43ee21){const _0x51947a=a3_0x1535aa;document[_0x51947a(0x208)](_0x51947a(0x2a0))[_0x51947a(0x205)]['remove'](_0x51947a(0x251));if(confirmResolver)confirmResolver(_0x43ee21);}async function tryCancelCurrentSession(){const _0x1ce8c1=a3_0x1535aa;if(!currentSession)return;const _0x3716fe=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x3716fe)return;const _0x42a8d5=currentSession;closeAllSheets(),sessions=sessions[_0x1ce8c1(0x23e)](_0x5b754a=>_0x5b754a['id']!==_0x42a8d5['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x31431c=window[_0x1ce8c1(0x288)]?.['WebApp'],_0x3c99f3=await fetch(API_URL,{'method':'POST','body':JSON[_0x1ce8c1(0x1cc)]({'action':'client_cancel','init_data':_0x31431c?.[_0x1ce8c1(0x2b1)]||'','coachId':_0x42a8d5[_0x1ce8c1(0x1f5)],'dateStr':_0x42a8d5['dateStr'],'sessionId':_0x42a8d5['id']})});if(_0x3c99f3['ok'])DataManager[_0x1ce8c1(0x237)]();}catch(_0x3a0476){showToast(_0x1ce8c1(0x2ae));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x30db0c=a3_0x1535aa;if(!currentSession)return;document[_0x30db0c(0x208)](_0x30db0c(0x27c))['classList']['remove'](_0x30db0c(0x28f)),document[_0x30db0c(0x208)](_0x30db0c(0x2ac))[_0x30db0c(0x205)][_0x30db0c(0x2a3)](_0x30db0c(0x28f));const _0x3cd21f=document[_0x30db0c(0x208)]('rsDatesTrack'),_0x4bf4a8=document['getElementById']('rsSlotsGrid');_0x3cd21f[_0x30db0c(0x257)]='',_0x4bf4a8['innerHTML']=_0x30db0c(0x2a9);const [_0x398fdb,_0x582afa]=currentSession[_0x30db0c(0x1ca)][_0x30db0c(0x299)](':')[_0x30db0c(0x29b)](Number),[_0x5d43ff,_0x4c8876]=currentSession[_0x30db0c(0x296)][_0x30db0c(0x299)](':')[_0x30db0c(0x29b)](Number),_0x18abc8=_0x5d43ff*0x3c+_0x4c8876-(_0x398fdb*0x3c+_0x582afa);try{const _0x5a4c22=window[_0x30db0c(0x288)]?.[_0x30db0c(0x207)],_0x5bb267=await fetch(API_URL,{'method':_0x30db0c(0x272),'body':JSON[_0x30db0c(0x1cc)]({'action':_0x30db0c(0x1fc),'coachId':currentSession[_0x30db0c(0x1f5)],'duration':_0x18abc8,'init_data':_0x5a4c22?.[_0x30db0c(0x2b1)]||'','excludeSessionId':currentSession['id']})}),_0x4fec72=await _0x5bb267[_0x30db0c(0x227)]();_0x4fec72['ok']&&_0x4fec72[_0x30db0c(0x1d1)]?(availableSlotsCache=_0x4fec72[_0x30db0c(0x1d1)],renderRescheduleDates()):_0x4bf4a8[_0x30db0c(0x257)]=_0x30db0c(0x1e0);}catch(_0x5db26b){_0x4bf4a8['innerHTML']=_0x30db0c(0x1d0);}}function renderRescheduleDates(){const _0xd395e8=a3_0x1535aa,_0x8cae4c=document['getElementById'](_0xd395e8(0x292));_0x8cae4c[_0xd395e8(0x257)]='';const _0x40a72a=Object['keys'](availableSlotsCache)[_0xd395e8(0x27b)](),_0x441d6a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x40a72a['length']===0x0){document[_0xd395e8(0x208)]('rsSlotsGrid')[_0xd395e8(0x257)]=_0xd395e8(0x29d);return;}_0x40a72a[_0xd395e8(0x218)]((_0x4b2a22,_0x1add23)=>{const _0x4360f2=_0xd395e8,_0x50ca9b=new Date(_0x4b2a22),_0x2bc05b=_0x441d6a[_0x50ca9b[_0x4360f2(0x2a7)]()],_0x4588ad=_0x50ca9b[_0x4360f2(0x274)](),_0x40a571=document['createElement'](_0x4360f2(0x24c));_0x40a571[_0x4360f2(0x1e8)]='rs-date-chip';if(_0x1add23===0x0)_0x40a571[_0x4360f2(0x205)][_0x4360f2(0x2a3)]('active');_0x40a571[_0x4360f2(0x257)]=_0x4360f2(0x223)+_0x2bc05b+'</div><div\x20class=\x22rs-day-num\x22>'+_0x4588ad+_0x4360f2(0x22c),_0x40a571[_0x4360f2(0x1e5)]=()=>selectRsDate(_0x4b2a22,_0x40a571),_0x8cae4c[_0x4360f2(0x253)](_0x40a571);}),selectRsDate(_0x40a72a[0x0],_0x8cae4c[_0xd395e8(0x2a1)]);}function selectRsDate(_0xd7edff,_0xbf6165){const _0x18ca5c=a3_0x1535aa;selectedRsDate=_0xd7edff,document[_0x18ca5c(0x211)](_0x18ca5c(0x1ee))['forEach'](_0x42c891=>_0x42c891[_0x18ca5c(0x205)][_0x18ca5c(0x262)](_0x18ca5c(0x29f)));if(_0xbf6165)_0xbf6165[_0x18ca5c(0x205)]['add'](_0x18ca5c(0x29f));const _0xa3e9a3=document['getElementById']('rsSlotsGrid');_0xa3e9a3[_0x18ca5c(0x257)]='';const _0x4181ca=availableSlotsCache[_0xd7edff]||[];if(_0x4181ca[_0x18ca5c(0x277)]===0x0){_0xa3e9a3[_0x18ca5c(0x257)]=_0x18ca5c(0x1e0);return;}_0x4181ca[_0x18ca5c(0x218)](_0x58ac04=>{const _0x12e9cc=_0x18ca5c,_0x1de44d=document['createElement']('button');_0x1de44d[_0x12e9cc(0x1e8)]=_0x12e9cc(0x1dc),_0x1de44d[_0x12e9cc(0x270)]=_0x58ac04,_0x1de44d[_0x12e9cc(0x1e5)]=()=>confirmReschedule(_0x58ac04),_0xa3e9a3[_0x12e9cc(0x253)](_0x1de44d);});}async function confirmReschedule(_0x4b8579){const _0xc68c03=a3_0x1535aa,_0xed2e4d=new Date(selectedRsDate),_0x530025=_0xed2e4d[_0xc68c03(0x281)]('ru-RU',{'day':_0xc68c03(0x236),'month':_0xc68c03(0x255)}),_0x534673=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x530025+_0xc68c03(0x1dd)+_0x4b8579+'?',![]);if(!_0x534673)return;closeAllSheets(),showToast(_0xc68c03(0x26e)),lastUserActionTime=Date[_0xc68c03(0x265)]();const _0x115c2e=currentSession['dateStr'],_0x5e641d=currentSession['id'],[_0x35c3bf,_0x45b63f]=currentSession['start'][_0xc68c03(0x299)](':')[_0xc68c03(0x29b)](Number),[_0x1b924b,_0xb03536]=currentSession[_0xc68c03(0x296)][_0xc68c03(0x299)](':')[_0xc68c03(0x29b)](Number),_0x1bd04a=_0x1b924b*0x3c+_0xb03536-(_0x35c3bf*0x3c+_0x45b63f),[_0xb9bdc5,_0x391a3b]=_0x4b8579[_0xc68c03(0x299)](':')[_0xc68c03(0x29b)](Number),_0x371a0b=_0xb9bdc5*0x3c+_0x391a3b+_0x1bd04a,_0x3358d9=Math[_0xc68c03(0x20c)](_0x371a0b/0x3c),_0x430df4=_0x371a0b%0x3c,_0x4a2471=String(_0x3358d9)[_0xc68c03(0x2bb)](0x2,'0')+':'+String(_0x430df4)['padStart'](0x2,'0'),_0x26f8a6=sessions[_0xc68c03(0x2b8)](_0x2b9794=>_0x2b9794['id']===_0x5e641d);_0x26f8a6!==-0x1&&(sessions[_0x26f8a6]['dateStr']=selectedRsDate,sessions[_0x26f8a6]['start']=_0x4b8579,sessions[_0x26f8a6]['end']=_0x4a2471,reRenderBlocks());try{const _0x2e5def=window['Telegram']?.[_0xc68c03(0x207)],_0x466891=await fetch(API_URL,{'method':_0xc68c03(0x272),'body':JSON['stringify']({'action':_0xc68c03(0x273),'init_data':_0x2e5def?.[_0xc68c03(0x2b1)]||'','oldSessionId':_0x5e641d,'oldDate':_0x115c2e,'newDate':selectedRsDate,'newTime':_0x4b8579,'coachId':currentSession[_0xc68c03(0x1f5)]})}),_0x574a60=await _0x466891[_0xc68c03(0x227)]();!_0x574a60['ok']?(showToast(_0xc68c03(0x28c)),DataManager[_0xc68c03(0x1ed)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x3c87dc){showToast(_0xc68c03(0x2ae));}}document[a3_0x1535aa(0x268)](a3_0x1535aa(0x2b7),init);