const a3_0x4f6a40=a3_0x18f8;function a3_0x18f8(_0x428572,_0x55d381){_0x428572=_0x428572-0x13d;const _0x1120b5=a3_0x2cc5();let _0x338da2=_0x1120b5[_0x428572];return _0x338da2;}(function(_0x2da355,_0x590ac7){const _0x59df1e=a3_0x18f8,_0x575146=_0x2da355();while(!![]){try{const _0x49eee8=parseInt(_0x59df1e(0x151))/0x1*(-parseInt(_0x59df1e(0x228))/0x2)+parseInt(_0x59df1e(0x204))/0x3*(parseInt(_0x59df1e(0x1ff))/0x4)+-parseInt(_0x59df1e(0x22a))/0x5+parseInt(_0x59df1e(0x143))/0x6+-parseInt(_0x59df1e(0x1ba))/0x7*(-parseInt(_0x59df1e(0x1f7))/0x8)+parseInt(_0x59df1e(0x187))/0x9*(-parseInt(_0x59df1e(0x209))/0xa)+parseInt(_0x59df1e(0x15d))/0xb;if(_0x49eee8===_0x590ac7)break;else _0x575146['push'](_0x575146['shift']());}catch(_0x3a0563){_0x575146['push'](_0x575146['shift']());}}}(a3_0x2cc5,0x3b1b6));const APP_VERSION=a3_0x4f6a40(0x16b),API_URL=a3_0x4f6a40(0x145),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x4f6a40(0x233),KEY_CLIENTS=a3_0x4f6a40(0x1e3);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4f6a40(0x179),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56946d=a3_0x4f6a40,_0x5f1fc9=(function(){let _0x4be229=!![];return function(_0x37506a,_0x26e8bf){const _0x4bdcb2=_0x4be229?function(){const _0x2205dc=a3_0x18f8;if(_0x26e8bf){const _0x372a97=_0x26e8bf[_0x2205dc(0x225)](_0x37506a,arguments);return _0x26e8bf=null,_0x372a97;}}:function(){};return _0x4be229=![],_0x4bdcb2;};}()),_0x53d18d=_0x5f1fc9(this,function(){const _0x25091f=a3_0x18f8;return _0x53d18d['toString']()[_0x25091f(0x1cf)](_0x25091f(0x1ca))[_0x25091f(0x231)]()[_0x25091f(0x146)](_0x53d18d)[_0x25091f(0x1cf)](_0x25091f(0x1ca));});_0x53d18d();try{const _0x3c2bf2=window[_0x56946d(0x172)]?.[_0x56946d(0x21b)];if(!_0x3c2bf2)return;_0x3c2bf2[_0x56946d(0x1a9)](),_0x3c2bf2[_0x56946d(0x1fa)]();try{_0x3c2bf2['setHeaderColor'](_0x56946d(0x1e9)),_0x3c2bf2[_0x56946d(0x200)]&&_0x3c2bf2[_0x56946d(0x200)]('#050505');}catch(_0x41a08e){console[_0x56946d(0x194)](_0x56946d(0x17c),_0x41a08e);}try{_0x3c2bf2[_0x56946d(0x184)]&&(_0x3c2bf2[_0x56946d(0x184)][_0x56946d(0x1aa)](),_0x3c2bf2['BackButton'][_0x56946d(0x211)](),_0x3c2bf2[_0x56946d(0x184)][_0x56946d(0x155)](function(){const _0x25fe3e=_0x56946d;window[_0x25fe3e(0x165)][_0x25fe3e(0x18f)]=_0x25fe3e(0x192);}));}catch(_0x38dde4){console[_0x56946d(0x194)]('Error\x20setting\x20back\x20button:',_0x38dde4);}try{if(_0x3c2bf2[_0x56946d(0x22d)])_0x3c2bf2[_0x56946d(0x22d)]();}catch(_0x1e579a){}}catch(_0x200751){console[_0x56946d(0x15f)](_0x56946d(0x13f),_0x200751);}}());function a3_0x2cc5(){const _0x1fdf31=['</div>','note','9ixnZBq','querySelector','long','strokeDashoffset','cid','cancel_window','saveLocally','planned','href','findIndex','rs-time-btn','router.html','sid','log','status','Unknown','600','DOMContentLoaded','seriesId','min','firstChild','.rs-date-chip','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','color','rgba(10,\x20132,\x20255,\x20','getHours','coach_profiles','getTime','fontWeight','charAt','today','dateStr','scrollTo','ru-RU','ready','show','user','appendChild','length','pattern','daysHeaderTrack','setHours','POST','setMonth','–∑–∞\x20','substr','day-column\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','overlay','offsetLeft','className','91392cwPhYn','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','setAttribute','syncLoad','coachId','forEach','analyticsSheet','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','onclick','left','cancelled','getElementById','toLocaleString','max','offsetWidth','(((.+)+)+)+$','createElement','calendar','detailsSheet','find','search','</div><div\x20class=\x22dch-num\x22>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','div','setDate','getAttribute','filter','%\x20-\x204px)',':00</span>','headerMonth','innerHTML','toUpperCase','timeColumn','rsSlotsGrid','toast','<span>','.sheet','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.btn-cancel','colIndex','uc_client_list','completed','width','event-card','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','gridColumns','#050505','startsWith','split','rescheduleSheet','borderLeftColor','client_cancel','add','isArray','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','open','setItem','active','clientId','keys','80Mhlwvt','height','<div\x20class=\x22dch-day\x22>','expand','blocked-slot\x20stripe-bg','settings','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','getDate','87708dGmlum','setBackgroundColor','mini','var(--acc-green)','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','48KFZnqC','\x20–∏–∑\x20','done','initDataUnsafe','customConfirm','4109860ZUdDMu','data-day-idx','all','clientWidth','T23:59:59','initData','value','anEnd','offClick','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','map','.day-col-header[data-date=\x22','getDay','addEventListener','toLocaleDateString','classList','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','WebApp','auto','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','insertBefore','floor','cancelContainer','clients','apply','getMonth','getFullYear','30zcxbNz','data-date','403205GEbUYZ','–û—Ç–º–µ–Ω–µ–Ω–æ','%\x20+\x202px)','disableVerticalSwipes','var(--acc-blue)','scroll','scrollTop','toString','anStart','uc_client_settings','.period-switch\x20.p-btn','display','push','block','join','ccYesBtn','month','flex','\x20-\x20','analyticsList','Critical\x20TMA\x20Error:','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','json','data','2090082cHqYIF','loadLocal','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','constructor','ccText','scrollLeft','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getMinutes','<div\x20class=\x22rs-day-name\x22>','#0a84ff','numeric','rsDatesTrack','rs-date-chip','scrollWidth','14325yOiWfm','none','time-label','day-col-header\x20','onClick','padStart','anDonutCircle','end','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','textContent','total','1307515vWMtvH','createDocumentFragment','error','</div><div\x20class=\x22rs-day-num\x22>','visible','calc(','backgroundPosition','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','location','client-stat-card','detTime','slice','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.btn-reschedule','v9.5-CLIENT-ANALYTICS','sort','</span>\x20/\x20','style','start','top','#ff453a','Telegram','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','getItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','remove','parse','rgba(','week','ranges','.day-column','Error\x20setting\x20color:','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','querySelectorAll','matrixViewport','button','stringify','then','BackButton'];a3_0x2cc5=function(){return _0x1fdf31;};return a3_0x2cc5();}function isAdmin(){const _0x5d8f17=a3_0x4f6a40;try{const _0x56dcf8=Number(window[_0x5d8f17(0x172)]?.[_0x5d8f17(0x21b)]?.[_0x5d8f17(0x207)]?.[_0x5d8f17(0x1ab)]?.['id']);return _0x56dcf8===0xbaf7174;}catch(_0x5da266){return![];}}const DataManager={'saveLocally'(){const _0x381776=a3_0x4f6a40;try{localStorage[_0x381776(0x1f3)](KEY_SESSIONS,JSON[_0x381776(0x182)](sessions)),localStorage[_0x381776(0x1f3)](KEY_CLIENTS,JSON[_0x381776(0x182)](clients)),localStorage[_0x381776(0x1f3)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x418aa9){}},'loadLocal'(){const _0x6c9dce=a3_0x4f6a40;try{const _0x382ffa=localStorage[_0x6c9dce(0x174)](KEY_SESSIONS);if(_0x382ffa)sessions=JSON[_0x6c9dce(0x177)](_0x382ffa);const _0x399d5c=localStorage[_0x6c9dce(0x174)](KEY_CLIENTS);if(_0x399d5c)clients=JSON['parse'](_0x399d5c);const _0x103aa3=localStorage[_0x6c9dce(0x174)](KEY_SETTINGS);if(_0x103aa3){const _0x739a30=JSON['parse'](_0x103aa3);if(_0x739a30['pattern'])availabilityPattern=_0x739a30[_0x6c9dce(0x1ae)];if(_0x739a30[_0x6c9dce(0x17a)])specialRanges=_0x739a30[_0x6c9dce(0x17a)];if(_0x739a30['exceptions'])dateExceptions=_0x739a30[_0x6c9dce(0x21e)];}}catch(_0x3a87f6){}},async 'syncLoad'(){const _0x2693b1=a3_0x4f6a40,_0xb7b08b=new Date(),_0x449a41=_0xb7b08b[_0x2693b1(0x227)]()+'-'+String(_0xb7b08b[_0x2693b1(0x226)]()+0x1)['padStart'](0x2,'0'),_0x17c835=new Date(_0xb7b08b);_0x17c835[_0x2693b1(0x1b2)](_0xb7b08b[_0x2693b1(0x226)]()+0x1);const _0x693971=_0x17c835['getFullYear']()+'-'+String(_0x17c835[_0x2693b1(0x226)]()+0x1)['padStart'](0x2,'0'),_0x569b39=Date[_0x2693b1(0x17d)]();try{const _0x5670bc=window[_0x2693b1(0x172)]?.[_0x2693b1(0x21b)],_0x59efdb=_0x5670bc?.[_0x2693b1(0x20e)]||'',[_0x25ce94,_0x39fb6d]=await Promise[_0x2693b1(0x20b)]([fetch(API_URL,{'method':_0x2693b1(0x1b1),'body':JSON['stringify']({'action':'client_load','init_data':_0x59efdb,'month_str':_0x449a41})})[_0x2693b1(0x183)](_0x1d8d9e=>_0x1d8d9e[_0x2693b1(0x141)]()),fetch(API_URL,{'method':_0x2693b1(0x1b1),'body':JSON[_0x2693b1(0x182)]({'action':'client_load','init_data':_0x59efdb,'month_str':_0x693971})})['then'](_0x26bd97=>_0x26bd97['json']())]);if(lastUserActionTime>_0x569b39){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x25ce94['ok'])this['applyData'](_0x25ce94[_0x2693b1(0x142)],_0x449a41);if(_0x39fb6d['ok'])this['applyData'](_0x39fb6d[_0x2693b1(0x142)],_0x693971);this['saveLocally']();}catch(_0xf77f9a){}},'applyData'(_0x4ed731,_0x11bcc0){const _0x45e137=a3_0x4f6a40;if(!_0x4ed731)return;if(_0x4ed731['settings']){if(_0x4ed731[_0x45e137(0x1fc)]['pattern'])availabilityPattern=_0x4ed731[_0x45e137(0x1fc)]['pattern'];if(_0x4ed731[_0x45e137(0x1fc)][_0x45e137(0x17a)])specialRanges=_0x4ed731[_0x45e137(0x1fc)][_0x45e137(0x17a)];if(_0x4ed731[_0x45e137(0x1fc)]['exceptions'])dateExceptions=_0x4ed731[_0x45e137(0x1fc)][_0x45e137(0x21e)];}if(_0x4ed731['clients']&&Array[_0x45e137(0x1f0)](_0x4ed731[_0x45e137(0x224)]))clients=_0x4ed731[_0x45e137(0x224)];_0x4ed731[_0x45e137(0x1a1)]&&(coachProfiles={...coachProfiles,..._0x4ed731[_0x45e137(0x1a1)]}),_0x4ed731['calendar']&&(sessions=sessions[_0x45e137(0x1d5)](_0x3cdb20=>!_0x3cdb20[_0x45e137(0x1a6)][_0x45e137(0x1ea)](_0x11bcc0)),Object['keys'](_0x4ed731[_0x45e137(0x1cc)])[_0x45e137(0x1c0)](_0x3eccb7=>{const _0x3e01dc=_0x45e137,_0x114160=_0x4ed731[_0x3e01dc(0x1cc)][_0x3eccb7];_0x114160[_0x3e01dc(0x1c0)](_0x5444f9=>{const _0x445c5e=_0x3e01dc;sessions[_0x445c5e(0x236)]({'id':_0x5444f9['i'],'clientId':_0x5444f9['c'],'coachId':_0x5444f9[_0x445c5e(0x18b)],'dateStr':_0x11bcc0+'-'+_0x3eccb7[_0x445c5e(0x156)](0x2,'0'),'start':_0x5444f9['s'],'end':_0x5444f9['e'],'note':_0x5444f9['n']||'','status':_0x5444f9['st']||_0x445c5e(0x18e),'seriesId':_0x5444f9[_0x445c5e(0x193)]});});})),reRenderBlocks();}};function init(){const _0x46537b=a3_0x4f6a40;DataManager[_0x46537b(0x144)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x46537b(0x180))[_0x46537b(0x217)](_0x46537b(0x22f),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x3096cb=a3_0x4f6a40,_0x16197b=document[_0x3096cb(0x1c6)](_0x3096cb(0x1db)),_0x2d50ee=document[_0x3096cb(0x1c6)]('timeLineBadge');_0x16197b[_0x3096cb(0x1d9)]='',_0x16197b[_0x3096cb(0x1ac)](_0x2d50ee);for(let _0x3efb63=0x0;_0x3efb63<0x18;_0x3efb63++){const _0x19c342=document[_0x3096cb(0x1cb)](_0x3096cb(0x1d2));_0x19c342['className']=_0x3096cb(0x153);if(_0x3efb63>0x0)_0x19c342[_0x3096cb(0x1d9)]=_0x3096cb(0x1de)+String(_0x3efb63)['padStart'](0x2,'0')+_0x3096cb(0x1d7);_0x16197b['appendChild'](_0x19c342);}}function renderDayRange(_0x1aa686,_0x52c1d9){const _0x3833c7=a3_0x4f6a40,_0x565c97=document[_0x3833c7(0x1c6)](_0x3833c7(0x1af)),_0x46e3f0=document[_0x3833c7(0x1c6)](_0x3833c7(0x1e8)),_0x5b4039=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5313f1=new Date();_0x5313f1[_0x3833c7(0x1b0)](0x0,0x0,0x0,0x0);const _0x41e9a0=getLocalDateStr(new Date());for(let _0x101c27=_0x1aa686;_0x101c27<=_0x52c1d9;_0x101c27++){const _0x4edb14=new Date(_0x5313f1);_0x4edb14[_0x3833c7(0x1d3)](_0x4edb14[_0x3833c7(0x1fe)]()+_0x101c27);const _0x346044=getLocalDateStr(_0x4edb14);let _0x21b5d1=_0x4edb14[_0x3833c7(0x216)]()-0x1;if(_0x21b5d1===-0x1)_0x21b5d1=0x6;const _0x4f8ae7=_0x346044===_0x41e9a0,_0x5362a6=document['createElement']('div');_0x5362a6[_0x3833c7(0x1b9)]=_0x3833c7(0x154)+(_0x4f8ae7?_0x3833c7(0x1a5):''),_0x5362a6[_0x3833c7(0x1bd)](_0x3833c7(0x229),_0x346044),_0x5362a6[_0x3833c7(0x1d9)]='<div\x20class=\x22dch-day\x22>'+_0x5b4039[_0x21b5d1]+_0x3833c7(0x1d0)+_0x4edb14[_0x3833c7(0x1fe)]()+_0x3833c7(0x185),_0x565c97[_0x3833c7(0x1ac)](_0x5362a6);const _0xc825f2=document[_0x3833c7(0x1cb)](_0x3833c7(0x1d2));_0xc825f2[_0x3833c7(0x1b9)]=_0x3833c7(0x1b5)+(_0x4f8ae7?_0x3833c7(0x1a5):''),_0xc825f2[_0x3833c7(0x1bd)](_0x3833c7(0x229),_0x346044),_0xc825f2['setAttribute'](_0x3833c7(0x20a),_0x21b5d1),_0x46e3f0[_0x3833c7(0x1ac)](_0xc825f2);}}function reRenderBlocks(){const _0x5e259d=a3_0x4f6a40;document[_0x5e259d(0x17f)](_0x5e259d(0x17b))[_0x5e259d(0x1c0)](_0x31d216=>{const _0x1fc424=_0x5e259d;_0x31d216[_0x1fc424(0x17f)](_0x1fc424(0x164))[_0x1fc424(0x1c0)](_0x21a214=>_0x21a214[_0x1fc424(0x176)]());const _0x50660f=_0x31d216['getAttribute']('data-date'),_0xb22e64=parseInt(_0x31d216['getAttribute'](_0x1fc424(0x20a))),_0x53b771=Math[_0x1fc424(0x220)](_0x31d216[_0x1fc424(0x1b8)]);(availabilityPattern[_0xb22e64]||[])['forEach'](_0x519320=>{const _0x92661e=_0x1fc424,_0x4e1fc1=document[_0x92661e(0x1cb)](_0x92661e(0x1d2));_0x4e1fc1['className']=_0x92661e(0x1fb),_0x4e1fc1['style'][_0x92661e(0x170)]=_0x519320*GRID_H+'px',_0x4e1fc1[_0x92661e(0x16e)]['backgroundPosition']='-'+_0x53b771+'px\x20-'+_0x519320*GRID_H+'px',_0x31d216[_0x92661e(0x1ac)](_0x4e1fc1);});if(specialRanges[_0x1fc424(0x1ad)]>0x0){const _0x5ab62c=new Date(_0x50660f+'T00:00:00')['getTime'](),_0x1c4e7a=new Date(_0x50660f+_0x1fc424(0x20d))[_0x1fc424(0x1a2)]();specialRanges[_0x1fc424(0x1c0)](_0xb4dcb5=>{const _0xf12069=_0x1fc424,_0x447f8e=new Date(_0xb4dcb5[_0xf12069(0x16f)])['getTime'](),_0x12ea6f=new Date(_0xb4dcb5[_0xf12069(0x158)])[_0xf12069(0x1a2)](),_0x508a6a=Math[_0xf12069(0x1c8)](_0x5ab62c,_0x447f8e),_0x5011bb=Math[_0xf12069(0x19a)](_0x1c4e7a,_0x12ea6f);if(_0x508a6a<_0x5011bb){const _0x1faccc=(_0x508a6a-_0x5ab62c)/0x36ee80*GRID_H,_0xb6d366=(_0x5011bb-_0x508a6a)/0x36ee80*GRID_H,_0x18f97d=document['createElement']('div');_0xb6d366>=23.5*GRID_H?(_0x18f97d[_0xf12069(0x1b9)]='day-off-overlay\x20stripe-bg',_0x18f97d['style'][_0xf12069(0x163)]='-'+_0x53b771+'px\x200px'):(_0x18f97d['className']='blocked-range-part\x20stripe-bg',_0x18f97d['style'][_0xf12069(0x170)]=_0x1faccc+'px',_0x18f97d[_0xf12069(0x16e)][_0xf12069(0x1f8)]=_0xb6d366+'px',_0x18f97d['style'][_0xf12069(0x163)]='-'+_0x53b771+'px\x20-'+_0x1faccc+'px'),_0x31d216['appendChild'](_0x18f97d);}});}renderEventsForColumn(_0x31d216,_0x50660f);});}function renderEventsForColumn(_0x1d239a,_0x196bbd){const _0x2f09bc=a3_0x4f6a40,_0x5040b3=sessions[_0x2f09bc(0x1d5)](_0x1d04c8=>_0x1d04c8[_0x2f09bc(0x1a6)]===_0x196bbd),_0x207888=_0x5040b3[_0x2f09bc(0x214)](_0x8c312e=>{const _0x467409=_0x2f09bc,[_0x460d41,_0x3c1be9]=_0x8c312e[_0x467409(0x16f)][_0x467409(0x1eb)](':')[_0x467409(0x214)](Number),[_0xfb8bfa,_0x297951]=_0x8c312e[_0x467409(0x158)][_0x467409(0x1eb)](':')[_0x467409(0x214)](Number);return{'data':_0x8c312e,'start':_0x460d41*0x3c+_0x3c1be9,'end':_0xfb8bfa*0x3c+_0x297951,'colIndex':0x0};});_0x207888[_0x2f09bc(0x16c)]((_0x5a3de2,_0x27a279)=>_0x5a3de2[_0x2f09bc(0x16f)]-_0x27a279[_0x2f09bc(0x16f)]||_0x27a279[_0x2f09bc(0x158)]-_0x27a279[_0x2f09bc(0x16f)]-(_0x5a3de2[_0x2f09bc(0x158)]-_0x5a3de2['start']));const _0xf43f4b=[];_0x207888[_0x2f09bc(0x1c0)](_0x133477=>{const _0x4969b4=_0x2f09bc;let _0x1ba418=![];for(let _0x187f7b=0x0;_0x187f7b<_0xf43f4b['length'];_0x187f7b++){const _0x21fa0e=_0xf43f4b[_0x187f7b];if(_0x133477[_0x4969b4(0x16f)]>=_0x21fa0e[_0x21fa0e['length']-0x1][_0x4969b4(0x158)]){_0x21fa0e['push'](_0x133477),_0x133477[_0x4969b4(0x1e2)]=_0x187f7b,_0x1ba418=!![];break;}}!_0x1ba418&&(_0xf43f4b[_0x4969b4(0x236)]([_0x133477]),_0x133477[_0x4969b4(0x1e2)]=_0xf43f4b[_0x4969b4(0x1ad)]-0x1);}),_0x207888[_0x2f09bc(0x1c0)](_0x3df77f=>{const _0x1c196e=_0x2f09bc;let _0x47f03c=0x0;_0x207888[_0x1c196e(0x1c0)](_0x30e96d=>{const _0x794919=_0x1c196e;if(Math[_0x794919(0x1c8)](_0x3df77f[_0x794919(0x16f)],_0x30e96d['start'])<Math[_0x794919(0x19a)](_0x3df77f[_0x794919(0x158)],_0x30e96d['end'])&&_0x30e96d[_0x794919(0x1e2)]>_0x47f03c)_0x47f03c=_0x30e96d[_0x794919(0x1e2)];});const _0xf44dd4=_0x47f03c+0x1,_0x39700e=0x64/_0xf44dd4,_0x7ac0e7=_0x3df77f['colIndex']*_0x39700e,_0x35e38a=document['createElement'](_0x1c196e(0x1d2)),_0x365099=_0x3df77f[_0x1c196e(0x142)];let _0x455443=_0x1c196e(0x14c);if(clients&&clients[_0x1c196e(0x1ad)]>0x0){const _0x1ecf64=clients[_0x1c196e(0x1ce)](_0x380b94=>String(_0x380b94['id'])===String(_0x365099[_0x1c196e(0x1f5)]));if(_0x1ecf64&&_0x1ecf64['color'])_0x455443=_0x1ecf64[_0x1c196e(0x19e)];}const _0x5d15dc=_0x365099[_0x1c196e(0x195)]===_0x1c196e(0x1e4),_0x4a3319=_0x5d15dc?0x1:0.45;_0x35e38a[_0x1c196e(0x1b9)]=_0x1c196e(0x1e6)+(_0x5d15dc?'\x20status-completed':''),_0x35e38a[_0x1c196e(0x16e)]['backgroundColor']=hexToRgba(_0x455443,_0x4a3319),_0x35e38a[_0x1c196e(0x16e)][_0x1c196e(0x1ed)]=_0x455443;const _0x173fe6=_0x3df77f['start']/0x3c*GRID_H,_0x1aedcb=(_0x3df77f[_0x1c196e(0x158)]-_0x3df77f[_0x1c196e(0x16f)])/0x3c*GRID_H;_0x35e38a[_0x1c196e(0x16e)][_0x1c196e(0x170)]=_0x173fe6+'px',_0x35e38a[_0x1c196e(0x16e)][_0x1c196e(0x1f8)]=Math[_0x1c196e(0x1c8)](_0x1aedcb,0x14)+'px',_0x35e38a[_0x1c196e(0x16e)][_0x1c196e(0x1e5)]=_0x1c196e(0x162)+_0x39700e+_0x1c196e(0x1d6),_0x35e38a[_0x1c196e(0x16e)][_0x1c196e(0x1c4)]='calc('+_0x7ac0e7+_0x1c196e(0x22c),_0x35e38a[_0x1c196e(0x16e)]['zIndex']=0xa+_0x3df77f['colIndex'];if(_0x39700e<0x55)_0x35e38a['classList'][_0x1c196e(0x1ef)](_0x1c196e(0x201));let _0xc8ab9a='';if(_0x365099[_0x1c196e(0x199)])_0xc8ab9a+=_0x1c196e(0x1f1);if(_0x5d15dc)_0xc8ab9a+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x35e38a[_0x1c196e(0x1d9)]=_0x1c196e(0x1bc)+_0x365099[_0x1c196e(0x16f)]+_0x1c196e(0x13d)+_0x365099[_0x1c196e(0x158)]+_0x1c196e(0x169)+_0xc8ab9a+_0x1c196e(0x21f),_0x35e38a['onclick']=_0x229d07=>{_0x229d07['stopPropagation'](),openDetails(_0x365099);},_0x1d239a['appendChild'](_0x35e38a);});}function openAnalytics(){const _0x17f431=a3_0x4f6a40,_0x51d553=document[_0x17f431(0x188)](_0x17f431(0x234));setAnalyticsPeriod('week',_0x51d553),openSheet(_0x17f431(0x1c1));}function setAnalyticsPeriod(_0x228085,_0x113df4){const _0x304378=a3_0x4f6a40;currentAnPeriod=_0x228085,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x10aff3=>_0x10aff3[_0x304378(0x219)][_0x304378(0x176)](_0x304378(0x1f4)));if(_0x113df4)_0x113df4[_0x304378(0x219)][_0x304378(0x1ef)](_0x304378(0x1f4));const _0x211f7f=document[_0x304378(0x1c6)]('anCustomDates');_0x211f7f[_0x304378(0x16e)][_0x304378(0x235)]=_0x228085==='custom'?_0x304378(0x23b):_0x304378(0x152);const _0x15b43b=new Date();let _0x412fe4=new Date(),_0x5eabde=new Date();if(_0x228085===_0x304378(0x179))_0x412fe4=getStartOfWeek(_0x15b43b),_0x5eabde=new Date(_0x412fe4),_0x5eabde[_0x304378(0x1d3)](_0x5eabde[_0x304378(0x1fe)]()+0x6);else{if(_0x228085===_0x304378(0x23a))_0x412fe4=new Date(_0x15b43b[_0x304378(0x227)](),_0x15b43b[_0x304378(0x226)](),0x1),_0x5eabde=new Date(_0x15b43b[_0x304378(0x227)](),_0x15b43b['getMonth']()+0x1,0x0);else{!document[_0x304378(0x1c6)](_0x304378(0x232))[_0x304378(0x20f)]&&(document[_0x304378(0x1c6)](_0x304378(0x232))[_0x304378(0x20f)]=getLocalDateStr(_0x15b43b),document[_0x304378(0x1c6)](_0x304378(0x210))[_0x304378(0x20f)]=getLocalDateStr(_0x15b43b));refreshAnalytics();return;}}document[_0x304378(0x1c6)](_0x304378(0x232))['value']=getLocalDateStr(_0x412fe4),document[_0x304378(0x1c6)](_0x304378(0x210))['value']=getLocalDateStr(_0x5eabde),refreshAnalytics();}function refreshAnalytics(){const _0xa7f445=a3_0x4f6a40,_0x9a5a7=document[_0xa7f445(0x1c6)]('anStart')['value'],_0x46ce61=document[_0xa7f445(0x1c6)](_0xa7f445(0x210))['value'];if(!_0x9a5a7||!_0x46ce61)return;const _0x532b99=sessions['filter'](_0x5cc471=>_0x5cc471[_0xa7f445(0x1a6)]>=_0x9a5a7&&_0x5cc471[_0xa7f445(0x1a6)]<=_0x46ce61&&_0x5cc471[_0xa7f445(0x195)]!==_0xa7f445(0x1c5)),_0x496ae0=_0x532b99[_0xa7f445(0x1ad)],_0x4e0403=_0x532b99[_0xa7f445(0x1d5)](_0x356c52=>_0x356c52[_0xa7f445(0x195)]==='completed')['length'],_0x2d0ebe=_0x496ae0>0x0?Math[_0xa7f445(0x220)](_0x4e0403/_0x496ae0*0x64):0x0;document[_0xa7f445(0x1c6)]('anPercent')[_0xa7f445(0x15b)]=_0x2d0ebe+'%',document[_0xa7f445(0x1c6)]('anTotalStats')[_0xa7f445(0x15b)]=_0x4e0403+_0xa7f445(0x205)+_0x496ae0+_0xa7f445(0x1e0);const _0x2ad0dd=document[_0xa7f445(0x1c6)](_0xa7f445(0x157)),_0x317a43=0x2*Math['PI']*0x23,_0x17e57e=_0x317a43-_0x2d0ebe/0x64*_0x317a43;_0x2ad0dd[_0xa7f445(0x16e)][_0xa7f445(0x18a)]=_0x17e57e;const _0x13b921={};_0x532b99['forEach'](_0xaf0c29=>{const _0x5bf913=_0xa7f445,_0x4688ea=_0xaf0c29[_0x5bf913(0x1bf)]||_0x5bf913(0x196);if(!_0x13b921[_0x4688ea]){const _0x57c8a6='#'+_0x4688ea[_0x5bf913(0x231)]()['substr'](0x0,0x6);_0x13b921[_0x4688ea]={'total':0x0,'done':0x0,'color':_0x57c8a6};}_0x13b921[_0x4688ea][_0x5bf913(0x15c)]++;if(_0xaf0c29[_0x5bf913(0x195)]==='completed')_0x13b921[_0x4688ea][_0x5bf913(0x206)]++;});const _0x5f383d=document[_0xa7f445(0x1c6)](_0xa7f445(0x13e));_0x5f383d[_0xa7f445(0x1d9)]='';const _0x5f0bcc=Object['entries'](_0x13b921)['sort']((_0x5e6bd9,_0x53bae6)=>_0x53bae6[0x1]['total']-_0x5e6bd9[0x1]['total']);if(_0x5f0bcc[_0xa7f445(0x1ad)]===0x0){_0x5f383d[_0xa7f445(0x1d9)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x5f0bcc['forEach'](([_0xdfef79,_0x4d4f37])=>{const _0x534932=_0xa7f445,_0x31cd5d=Math[_0x534932(0x220)](_0x4d4f37[_0x534932(0x206)]/_0x4d4f37[_0x534932(0x15c)]*0x64),_0x21e1b9=document[_0x534932(0x1cb)](_0x534932(0x1d2));_0x21e1b9[_0x534932(0x1b9)]=_0x534932(0x166),_0x21e1b9[_0x534932(0x16e)][_0x534932(0x1ed)]=_0x4d4f37[_0x534932(0x19e)],_0x21e1b9['innerHTML']=_0x534932(0x17e)+_0xdfef79[_0x534932(0x1b4)](0x0,0x5)+_0x534932(0x175)+_0x4d4f37[_0x534932(0x206)]+_0x534932(0x16d)+_0x4d4f37[_0x534932(0x15c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x31cd5d+_0x534932(0x21a),_0x5f383d[_0x534932(0x1ac)](_0x21e1b9);});}function openDetails(_0x588683){const _0x26fe74=a3_0x4f6a40;currentSession=_0x588683;const _0x4c7963=new Date(_0x588683[_0x26fe74(0x1a6)]),_0x9c3d99=_0x4c7963[_0x26fe74(0x218)](_0x26fe74(0x1a8),{'weekday':_0x26fe74(0x189),'day':_0x26fe74(0x14d),'month':_0x26fe74(0x189)});document[_0x26fe74(0x1c6)]('detDate')[_0x26fe74(0x15b)]=_0x9c3d99[_0x26fe74(0x1a4)](0x0)[_0x26fe74(0x1da)]()+_0x9c3d99[_0x26fe74(0x168)](0x1),document[_0x26fe74(0x1c6)](_0x26fe74(0x167))[_0x26fe74(0x15b)]=_0x588683[_0x26fe74(0x16f)]+_0x26fe74(0x13d)+_0x588683[_0x26fe74(0x158)],document[_0x26fe74(0x1c6)]('detNote')['textContent']=_0x588683[_0x26fe74(0x186)]||_0x26fe74(0x213);const _0x44f525=document[_0x26fe74(0x1c6)]('detStatus'),_0x3cb3da=document[_0x26fe74(0x1c6)](_0x26fe74(0x223)),_0x524f62=_0x3cb3da[_0x26fe74(0x188)](_0x26fe74(0x1e1)),_0x3d53da=_0x3cb3da[_0x26fe74(0x188)](_0x26fe74(0x16a)),_0x4a011e=document['getElementById']('cancelHint');if(_0x588683[_0x26fe74(0x195)]===_0x26fe74(0x1e4))_0x44f525[_0x26fe74(0x15b)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x44f525['style'][_0x26fe74(0x19e)]=_0x26fe74(0x202),_0x3cb3da[_0x26fe74(0x16e)][_0x26fe74(0x235)]=_0x26fe74(0x152);else{_0x44f525[_0x26fe74(0x15b)]=_0x26fe74(0x1d1),_0x44f525['style']['color']=_0x26fe74(0x22e),_0x3cb3da[_0x26fe74(0x16e)][_0x26fe74(0x235)]=_0x26fe74(0x237);const _0x1b395c=new Date(_0x588683[_0x26fe74(0x1a6)]+'T'+_0x588683[_0x26fe74(0x16f)]),_0x3f4d33=new Date(),_0x192270=(_0x1b395c-_0x3f4d33)/(0x3e8*0x3c*0x3c),_0xff66d6=coachProfiles[_0x588683[_0x26fe74(0x1bf)]]&&coachProfiles[_0x588683[_0x26fe74(0x1bf)]]['cancel_window']?parseInt(coachProfiles[_0x588683[_0x26fe74(0x1bf)]][_0x26fe74(0x18c)]):0x18;if(_0xff66d6===0x0||_0x192270>=_0xff66d6)_0x524f62['style'][_0x26fe74(0x235)]=_0x26fe74(0x237),_0x3d53da['style'][_0x26fe74(0x235)]='block',_0x4a011e[_0x26fe74(0x16e)][_0x26fe74(0x235)]=_0x26fe74(0x152);else{_0x524f62[_0x26fe74(0x16e)][_0x26fe74(0x235)]=_0x26fe74(0x152),_0x3d53da[_0x26fe74(0x16e)]['display']=_0x26fe74(0x152),_0x4a011e['style'][_0x26fe74(0x235)]=_0x26fe74(0x237);let _0x3d6331=_0xff66d6===0x0?_0x26fe74(0x1fd):_0x26fe74(0x1b3)+_0xff66d6+'\x20—á.';_0x4a011e['textContent']=_0x26fe74(0x159)+_0x3d6331+_0x26fe74(0x212);}}document[_0x26fe74(0x1c6)]('overlay')['classList'][_0x26fe74(0x1ef)](_0x26fe74(0x1f4)),document[_0x26fe74(0x1c6)](_0x26fe74(0x1cd))[_0x26fe74(0x219)]['add']('open');}function closeAllSheets(){const _0x333c5a=a3_0x4f6a40;document[_0x333c5a(0x1c6)](_0x333c5a(0x1b7))[_0x333c5a(0x219)][_0x333c5a(0x176)](_0x333c5a(0x1f4)),document[_0x333c5a(0x17f)](_0x333c5a(0x1df))[_0x333c5a(0x1c0)](_0xf7f1b6=>_0xf7f1b6[_0x333c5a(0x219)][_0x333c5a(0x176)](_0x333c5a(0x1f2)));}function openSheet(_0x4af38c){const _0x57aa20=a3_0x4f6a40;document[_0x57aa20(0x1c6)]('overlay')[_0x57aa20(0x219)][_0x57aa20(0x1ef)](_0x57aa20(0x1f4)),document[_0x57aa20(0x1c6)](_0x4af38c)['classList']['add'](_0x57aa20(0x1f2));}function getLocalDateStr(_0x45acec){const _0x14cd84=a3_0x4f6a40,_0x53112c=_0x45acec[_0x14cd84(0x227)](),_0x3b1a35=String(_0x45acec[_0x14cd84(0x226)]()+0x1)[_0x14cd84(0x156)](0x2,'0'),_0x1948bd=String(_0x45acec['getDate']())['padStart'](0x2,'0');return _0x53112c+'-'+_0x3b1a35+'-'+_0x1948bd;}function getStartOfWeek(_0x12d40f){const _0x5ab9d5=a3_0x4f6a40,_0x2a9c3d=new Date(_0x12d40f),_0x4c217f=_0x2a9c3d[_0x5ab9d5(0x216)](),_0x1dc68a=_0x2a9c3d[_0x5ab9d5(0x1fe)]()-_0x4c217f+(_0x4c217f===0x0?-0x6:0x1);return _0x2a9c3d['setDate'](_0x1dc68a),_0x2a9c3d[_0x5ab9d5(0x1b0)](0x0,0x0,0x0,0x0),_0x2a9c3d;}function scrollToToday(){const _0x3a44da=getLocalDateStr(new Date());setTimeout(()=>{const _0x149b0f=a3_0x18f8,_0x34004a=document['querySelector'](_0x149b0f(0x215)+_0x3a44da+'\x22]');if(_0x34004a){const _0x2c82f0=document[_0x149b0f(0x1c6)](_0x149b0f(0x180)),_0x1fcc92=_0x34004a[_0x149b0f(0x1b8)]-_0x2c82f0[_0x149b0f(0x20c)]/0x2+_0x34004a[_0x149b0f(0x1c9)]/0x2;_0x2c82f0[_0x149b0f(0x1a7)]({'left':_0x1fcc92,'behavior':_0x149b0f(0x21c)}),_0x2c82f0[_0x149b0f(0x230)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x415471=a3_0x4f6a40,_0x38b003=new Date(),_0x2c9bbf=document[_0x415471(0x1c6)]('globalTimeLine'),_0x529a7b=document['getElementById']('timeLineBadge'),_0x2690e4=(_0x38b003[_0x415471(0x1a0)]()*0x3c+_0x38b003['getMinutes']())/0x3c*GRID_H;_0x2c9bbf[_0x415471(0x16e)][_0x415471(0x170)]=_0x2690e4+'px',_0x2c9bbf['style'][_0x415471(0x235)]=_0x415471(0x237),_0x529a7b[_0x415471(0x16e)][_0x415471(0x170)]=_0x2690e4+'px',_0x529a7b[_0x415471(0x16e)][_0x415471(0x235)]='block',_0x529a7b[_0x415471(0x15b)]=String(_0x38b003[_0x415471(0x1a0)]())['padStart'](0x2,'0')+':'+String(_0x38b003[_0x415471(0x14a)]())[_0x415471(0x156)](0x2,'0');}function onScroll(){const _0x5b39b3=a3_0x4f6a40,_0x2aaacb=document['getElementById']('matrixViewport'),_0x4aa22c=document['querySelectorAll'](_0x5b39b3(0x1bb));for(let _0x50e302 of _0x4aa22c)if(_0x50e302[_0x5b39b3(0x1b8)]>=_0x2aaacb[_0x5b39b3(0x148)]){const _0x108b7d=new Date(_0x50e302[_0x5b39b3(0x1d4)]('data-date'));document[_0x5b39b3(0x1c6)](_0x5b39b3(0x1d8))[_0x5b39b3(0x15b)]=_0x108b7d[_0x5b39b3(0x1c7)]('ru',{'month':_0x5b39b3(0x189)})[_0x5b39b3(0x1da)]()+'\x20'+_0x108b7d[_0x5b39b3(0x227)]();break;}}function showToast(_0x4a7d0a){const _0x28d518=a3_0x4f6a40,_0x89a206=document[_0x28d518(0x1c6)](_0x28d518(0x1dd));_0x89a206[_0x28d518(0x15b)]=_0x4a7d0a,_0x89a206[_0x28d518(0x219)]['add'](_0x28d518(0x1aa)),setTimeout(()=>_0x89a206['classList'][_0x28d518(0x176)](_0x28d518(0x1aa)),0x7d0);}function handleInfiniteScroll(){const _0x53915a=a3_0x4f6a40,_0x11f4fe=document[_0x53915a(0x1c6)]('matrixViewport'),_0x519da9=_0x11f4fe[_0x53915a(0x148)],_0x1ad69c=_0x11f4fe[_0x53915a(0x150)],_0x5578d1=_0x11f4fe['clientWidth'];if(_0x1ad69c-(_0x519da9+_0x5578d1)<0x12c){const _0x39cdad=endOffset;endOffset+=0xe,renderDayRange(_0x39cdad+0x1,endOffset),reRenderBlocks();}if(_0x519da9<0x12c){const _0x91c9a6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x91c9a6-0x1),_0x11f4fe['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x10f1f0,_0x308e1b){const _0x2f64ad=a3_0x4f6a40,_0x2ebf0b=document['getElementById'](_0x2f64ad(0x1af)),_0x5e83ed=document[_0x2f64ad(0x1c6)](_0x2f64ad(0x1e8)),_0x5a8762=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3fa937=new Date();_0x3fa937[_0x2f64ad(0x1b0)](0x0,0x0,0x0,0x0);const _0x37841=getLocalDateStr(new Date()),_0x647460=document[_0x2f64ad(0x15e)](),_0x4d4d57=document[_0x2f64ad(0x15e)]();for(let _0x2b842f=_0x10f1f0;_0x2b842f<=_0x308e1b;_0x2b842f++){const _0x3ff7ab=new Date(_0x3fa937);_0x3ff7ab[_0x2f64ad(0x1d3)](_0x3ff7ab[_0x2f64ad(0x1fe)]()+_0x2b842f);const _0x13e4e1=getLocalDateStr(_0x3ff7ab);let _0x56f10e=_0x3ff7ab[_0x2f64ad(0x216)]()-0x1;if(_0x56f10e===-0x1)_0x56f10e=0x6;const _0x1c5570=_0x13e4e1===_0x37841,_0x148416=document[_0x2f64ad(0x1cb)](_0x2f64ad(0x1d2));_0x148416[_0x2f64ad(0x1b9)]=_0x2f64ad(0x154)+(_0x1c5570?_0x2f64ad(0x1a5):''),_0x148416[_0x2f64ad(0x1bd)](_0x2f64ad(0x229),_0x13e4e1),_0x148416[_0x2f64ad(0x1d9)]=_0x2f64ad(0x1f9)+_0x5a8762[_0x56f10e]+_0x2f64ad(0x1d0)+_0x3ff7ab[_0x2f64ad(0x1fe)]()+_0x2f64ad(0x185),_0x647460[_0x2f64ad(0x1ac)](_0x148416);const _0x5cfcad=document['createElement'](_0x2f64ad(0x1d2));_0x5cfcad[_0x2f64ad(0x1b9)]=_0x2f64ad(0x1b5)+(_0x1c5570?_0x2f64ad(0x1a5):''),_0x5cfcad['setAttribute']('data-date',_0x13e4e1),_0x5cfcad[_0x2f64ad(0x1bd)](_0x2f64ad(0x20a),_0x56f10e),_0x4d4d57['appendChild'](_0x5cfcad);}_0x2ebf0b[_0x2f64ad(0x221)](_0x647460,_0x2ebf0b['firstChild']),_0x5e83ed[_0x2f64ad(0x221)](_0x4d4d57,_0x5e83ed[_0x2f64ad(0x188)](_0x2f64ad(0x17b)));}function hexToRgba(_0x4ad463,_0x6caf1f){const _0x51116c=a3_0x4f6a40;let _0xeb9cf7;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x4ad463))return _0xeb9cf7=_0x4ad463['substring'](0x1)[_0x51116c(0x1eb)](''),_0xeb9cf7['length']==0x3&&(_0xeb9cf7=[_0xeb9cf7[0x0],_0xeb9cf7[0x0],_0xeb9cf7[0x1],_0xeb9cf7[0x1],_0xeb9cf7[0x2],_0xeb9cf7[0x2]]),_0xeb9cf7='0x'+_0xeb9cf7[_0x51116c(0x238)](''),_0x51116c(0x178)+[_0xeb9cf7>>0x10&0xff,_0xeb9cf7>>0x8&0xff,_0xeb9cf7&0xff][_0x51116c(0x238)](',')+','+_0x6caf1f+')';return _0x51116c(0x19f)+_0x6caf1f+')';}let confirmResolver=null;function showCustomConfirm(_0x3522ea,_0x47d7a2,_0x485e94=!![]){const _0x3d8ed5=a3_0x4f6a40;document[_0x3d8ed5(0x1c6)]('ccTitle')['textContent']=_0x3522ea,document[_0x3d8ed5(0x1c6)](_0x3d8ed5(0x147))[_0x3d8ed5(0x15b)]=_0x47d7a2;const _0x9f49d8=document[_0x3d8ed5(0x1c6)](_0x3d8ed5(0x239));return _0x485e94?(_0x9f49d8[_0x3d8ed5(0x16e)]['color']=_0x3d8ed5(0x171),_0x9f49d8[_0x3d8ed5(0x16e)][_0x3d8ed5(0x1a3)]='600'):(_0x9f49d8[_0x3d8ed5(0x16e)][_0x3d8ed5(0x19e)]=_0x3d8ed5(0x14c),_0x9f49d8[_0x3d8ed5(0x16e)][_0x3d8ed5(0x1a3)]=_0x3d8ed5(0x197)),new Promise(_0x23875b=>{const _0x19199e=_0x3d8ed5;confirmResolver=_0x23875b,document[_0x19199e(0x1c6)](_0x19199e(0x208))[_0x19199e(0x219)][_0x19199e(0x1ef)]('visible');});}function resolveCustomConfirm(_0x51ecbd){const _0x38be41=a3_0x4f6a40;document[_0x38be41(0x1c6)](_0x38be41(0x208))[_0x38be41(0x219)][_0x38be41(0x176)](_0x38be41(0x161));if(confirmResolver)confirmResolver(_0x51ecbd);}async function tryCancelCurrentSession(){const _0x1d4c71=a3_0x4f6a40;if(!currentSession)return;const _0x29a00d=await showCustomConfirm(_0x1d4c71(0x140),_0x1d4c71(0x203),!![]);if(!_0x29a00d)return;const _0x42d6ab=currentSession;closeAllSheets(),sessions=sessions[_0x1d4c71(0x1d5)](_0x4c3829=>_0x4c3829['id']!==_0x42d6ab['id']),reRenderBlocks(),showToast(_0x1d4c71(0x22b)),lastUserActionTime=Date[_0x1d4c71(0x17d)]();try{const _0x22c7ff=window[_0x1d4c71(0x172)]?.['WebApp'],_0x285510=await fetch(API_URL,{'method':_0x1d4c71(0x1b1),'body':JSON[_0x1d4c71(0x182)]({'action':_0x1d4c71(0x1ee),'init_data':_0x22c7ff?.[_0x1d4c71(0x20e)]||'','coachId':_0x42d6ab['coachId'],'dateStr':_0x42d6ab[_0x1d4c71(0x1a6)],'sessionId':_0x42d6ab['id']})});if(_0x285510['ok'])DataManager[_0x1d4c71(0x18d)]();}catch(_0x59d13c){showToast(_0x1d4c71(0x19d));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x11f8bb=a3_0x4f6a40;if(!currentSession)return;document[_0x11f8bb(0x1c6)](_0x11f8bb(0x1cd))['classList'][_0x11f8bb(0x176)](_0x11f8bb(0x1f2)),document[_0x11f8bb(0x1c6)](_0x11f8bb(0x1ec))['classList'][_0x11f8bb(0x1ef)](_0x11f8bb(0x1f2));const _0x46d029=document[_0x11f8bb(0x1c6)]('rsDatesTrack'),_0x2b3dda=document[_0x11f8bb(0x1c6)](_0x11f8bb(0x1dc));_0x46d029[_0x11f8bb(0x1d9)]='',_0x2b3dda[_0x11f8bb(0x1d9)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0xf58847,_0x33bbc3]=currentSession['start'][_0x11f8bb(0x1eb)](':')[_0x11f8bb(0x214)](Number),[_0x476181,_0x5eb403]=currentSession[_0x11f8bb(0x158)][_0x11f8bb(0x1eb)](':')['map'](Number),_0x3a295f=_0x476181*0x3c+_0x5eb403-(_0xf58847*0x3c+_0x33bbc3);try{const _0x5c47ad=window[_0x11f8bb(0x172)]?.[_0x11f8bb(0x21b)],_0xc40414=await fetch(API_URL,{'method':'POST','body':JSON[_0x11f8bb(0x182)]({'action':'get_slots','coachId':currentSession[_0x11f8bb(0x1bf)],'duration':_0x3a295f,'init_data':_0x5c47ad?.[_0x11f8bb(0x20e)]||'','excludeSessionId':currentSession['id']})}),_0x1e4aa3=await _0xc40414[_0x11f8bb(0x141)]();_0x1e4aa3['ok']&&_0x1e4aa3[_0x11f8bb(0x142)]?(availableSlotsCache=_0x1e4aa3['data'],renderRescheduleDates()):_0x2b3dda['innerHTML']=_0x11f8bb(0x21d);}catch(_0x823edd){_0x2b3dda[_0x11f8bb(0x1d9)]=_0x11f8bb(0x1c2);}}function renderRescheduleDates(){const _0x33ff92=a3_0x4f6a40,_0xd89d57=document[_0x33ff92(0x1c6)](_0x33ff92(0x14e));_0xd89d57[_0x33ff92(0x1d9)]='';const _0x30af56=Object[_0x33ff92(0x1f6)](availableSlotsCache)[_0x33ff92(0x16c)](),_0x3aab38=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x30af56[_0x33ff92(0x1ad)]===0x0){document['getElementById'](_0x33ff92(0x1dc))['innerHTML']=_0x33ff92(0x15a);return;}_0x30af56['forEach']((_0x2f93df,_0x29c5c6)=>{const _0x1cef19=_0x33ff92,_0x1c5366=new Date(_0x2f93df),_0x440265=_0x3aab38[_0x1c5366[_0x1cef19(0x216)]()],_0x1bbebe=_0x1c5366[_0x1cef19(0x1fe)](),_0x4f9a8d=document[_0x1cef19(0x1cb)](_0x1cef19(0x1d2));_0x4f9a8d['className']=_0x1cef19(0x14f);if(_0x29c5c6===0x0)_0x4f9a8d[_0x1cef19(0x219)][_0x1cef19(0x1ef)](_0x1cef19(0x1f4));_0x4f9a8d[_0x1cef19(0x1d9)]=_0x1cef19(0x14b)+_0x440265+_0x1cef19(0x160)+_0x1bbebe+_0x1cef19(0x185),_0x4f9a8d[_0x1cef19(0x1c3)]=()=>selectRsDate(_0x2f93df,_0x4f9a8d),_0xd89d57['appendChild'](_0x4f9a8d);}),selectRsDate(_0x30af56[0x0],_0xd89d57[_0x33ff92(0x19b)]);}function selectRsDate(_0x118c39,_0x3d93bd){const _0x4f7c9e=a3_0x4f6a40;selectedRsDate=_0x118c39,document['querySelectorAll'](_0x4f7c9e(0x19c))[_0x4f7c9e(0x1c0)](_0x29d0d6=>_0x29d0d6['classList'][_0x4f7c9e(0x176)](_0x4f7c9e(0x1f4)));if(_0x3d93bd)_0x3d93bd['classList'][_0x4f7c9e(0x1ef)]('active');const _0x1d646b=document[_0x4f7c9e(0x1c6)](_0x4f7c9e(0x1dc));_0x1d646b[_0x4f7c9e(0x1d9)]='';const _0x16acbb=availableSlotsCache[_0x118c39]||[];if(_0x16acbb[_0x4f7c9e(0x1ad)]===0x0){_0x1d646b[_0x4f7c9e(0x1d9)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x16acbb[_0x4f7c9e(0x1c0)](_0x468af1=>{const _0x3c0066=_0x4f7c9e,_0x48659f=document[_0x3c0066(0x1cb)](_0x3c0066(0x181));_0x48659f[_0x3c0066(0x1b9)]=_0x3c0066(0x191),_0x48659f[_0x3c0066(0x15b)]=_0x468af1,_0x48659f[_0x3c0066(0x1c3)]=()=>confirmReschedule(_0x468af1),_0x1d646b[_0x3c0066(0x1ac)](_0x48659f);});}async function confirmReschedule(_0x365736){const _0x1cb906=a3_0x4f6a40,_0x556c17=new Date(selectedRsDate),_0x1d1458=_0x556c17[_0x1cb906(0x218)]('ru-RU',{'day':'numeric','month':_0x1cb906(0x189)}),_0x589e2f=await showCustomConfirm(_0x1cb906(0x1b6),_0x1cb906(0x173)+_0x1d1458+'\x20–≤\x20'+_0x365736+'?',![]);if(!_0x589e2f)return;closeAllSheets(),showToast(_0x1cb906(0x149)),lastUserActionTime=Date[_0x1cb906(0x17d)]();const _0x295068=currentSession['dateStr'],_0x224eba=currentSession['id'],[_0x276a4e,_0x3c0398]=currentSession['start']['split'](':')[_0x1cb906(0x214)](Number),[_0x4bd43e,_0x323a78]=currentSession[_0x1cb906(0x158)]['split'](':')['map'](Number),_0xe25697=_0x4bd43e*0x3c+_0x323a78-(_0x276a4e*0x3c+_0x3c0398),[_0x444a27,_0x3a433e]=_0x365736['split'](':')['map'](Number),_0x34cb7f=_0x444a27*0x3c+_0x3a433e+_0xe25697,_0x190cc0=Math[_0x1cb906(0x222)](_0x34cb7f/0x3c),_0x3f8792=_0x34cb7f%0x3c,_0x139179=String(_0x190cc0)[_0x1cb906(0x156)](0x2,'0')+':'+String(_0x3f8792)['padStart'](0x2,'0'),_0x3d7f54=sessions[_0x1cb906(0x190)](_0x2fc8bf=>_0x2fc8bf['id']===_0x224eba);_0x3d7f54!==-0x1&&(sessions[_0x3d7f54][_0x1cb906(0x1a6)]=selectedRsDate,sessions[_0x3d7f54][_0x1cb906(0x16f)]=_0x365736,sessions[_0x3d7f54]['end']=_0x139179,reRenderBlocks());try{const _0x2f850f=window[_0x1cb906(0x172)]?.['WebApp'],_0xc4df2d=await fetch(API_URL,{'method':_0x1cb906(0x1b1),'body':JSON[_0x1cb906(0x182)]({'action':'reschedule','init_data':_0x2f850f?.[_0x1cb906(0x20e)]||'','oldSessionId':_0x224eba,'oldDate':_0x295068,'newDate':selectedRsDate,'newTime':_0x365736,'coachId':currentSession[_0x1cb906(0x1bf)]})}),_0x29f5a2=await _0xc4df2d[_0x1cb906(0x141)]();!_0x29f5a2['ok']?(showToast(_0x1cb906(0x1e7)),DataManager[_0x1cb906(0x1be)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x1cb906(0x18d)]());}catch(_0x5a448e){showToast(_0x1cb906(0x19d));}}document['addEventListener'](a3_0x4f6a40(0x198),init);