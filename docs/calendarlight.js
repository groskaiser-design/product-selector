function a3_0x43c1(_0x3b5bbe,_0x205ef4){_0x3b5bbe=_0x3b5bbe-0x1c8;const _0x320a36=a3_0x5e72();let _0x2e1c21=_0x320a36[_0x3b5bbe];return _0x2e1c21;}const a3_0x51a1a8=a3_0x43c1;(function(_0x58bfe2,_0x48f74b){const _0x4c68a0=a3_0x43c1,_0x33cb4b=_0x58bfe2();while(!![]){try{const _0x4ffbb2=parseInt(_0x4c68a0(0x2c6))/0x1*(-parseInt(_0x4c68a0(0x297))/0x2)+-parseInt(_0x4c68a0(0x1cc))/0x3*(parseInt(_0x4c68a0(0x2a2))/0x4)+-parseInt(_0x4c68a0(0x290))/0x5*(parseInt(_0x4c68a0(0x273))/0x6)+-parseInt(_0x4c68a0(0x1d1))/0x7*(parseInt(_0x4c68a0(0x2b1))/0x8)+parseInt(_0x4c68a0(0x2a1))/0x9+-parseInt(_0x4c68a0(0x1f9))/0xa*(-parseInt(_0x4c68a0(0x24b))/0xb)+parseInt(_0x4c68a0(0x255))/0xc*(parseInt(_0x4c68a0(0x225))/0xd);if(_0x4ffbb2===_0x48f74b)break;else _0x33cb4b['push'](_0x33cb4b['shift']());}catch(_0x20565d){_0x33cb4b['push'](_0x33cb4b['shift']());}}}(a3_0x5e72,0xa86d4));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x51a1a8(0x280),GRID_H=0x3c,KEY_SESSIONS=a3_0x51a1a8(0x245),KEY_SETTINGS=a3_0x51a1a8(0x1d7),KEY_CLIENTS=a3_0x51a1a8(0x229);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x51a1a8(0x23e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5687af=a3_0x51a1a8,_0xd27d05=(function(){let _0x95c44b=!![];return function(_0x55157e,_0x45f6ed){const _0x38ffa2=_0x95c44b?function(){const _0x372122=a3_0x43c1;if(_0x45f6ed){const _0x3c546f=_0x45f6ed[_0x372122(0x239)](_0x55157e,arguments);return _0x45f6ed=null,_0x3c546f;}}:function(){};return _0x95c44b=![],_0x38ffa2;};}()),_0x415301=_0xd27d05(this,function(){const _0x442e2c=a3_0x43c1;return _0x415301[_0x442e2c(0x206)]()[_0x442e2c(0x275)](_0x442e2c(0x259))[_0x442e2c(0x206)]()[_0x442e2c(0x1d6)](_0x415301)[_0x442e2c(0x275)](_0x442e2c(0x259));});_0x415301();try{const _0x3a6104=window[_0x5687af(0x21d)]?.[_0x5687af(0x29b)];if(!_0x3a6104)return;_0x3a6104[_0x5687af(0x28e)](),_0x3a6104[_0x5687af(0x269)]();try{_0x3a6104[_0x5687af(0x299)]('#050505'),_0x3a6104[_0x5687af(0x25e)]&&_0x3a6104[_0x5687af(0x25e)]('#050505');}catch(_0x445b95){console[_0x5687af(0x1d0)](_0x5687af(0x2b8),_0x445b95);}try{_0x3a6104['BackButton']&&(_0x3a6104[_0x5687af(0x29d)][_0x5687af(0x29f)](),_0x3a6104['BackButton']['offClick'](),_0x3a6104[_0x5687af(0x29d)]['onClick'](function(){const _0x5c4f38=_0x5687af;window[_0x5c4f38(0x2bc)]['href']=_0x5c4f38(0x1e7);}));}catch(_0xf0bddd){console[_0x5687af(0x1d0)](_0x5687af(0x2a9),_0xf0bddd);}try{if(_0x3a6104[_0x5687af(0x27f)])_0x3a6104[_0x5687af(0x27f)]();}catch(_0x1838e1){}}catch(_0x291abe){console[_0x5687af(0x233)](_0x5687af(0x25d),_0x291abe);}}());function isAdmin(){const _0x395633=a3_0x51a1a8;try{const _0x4b69d5=Number(window[_0x395633(0x21d)]?.[_0x395633(0x29b)]?.[_0x395633(0x1c8)]?.[_0x395633(0x1fb)]?.['id']);return _0x4b69d5===0xbaf7174;}catch(_0x6f5c03){return![];}}const DataManager={'saveLocally'(){const _0x41bfdc=a3_0x51a1a8;try{localStorage[_0x41bfdc(0x226)](KEY_SESSIONS,JSON[_0x41bfdc(0x213)](sessions)),localStorage[_0x41bfdc(0x226)](KEY_CLIENTS,JSON[_0x41bfdc(0x213)](clients)),localStorage[_0x41bfdc(0x226)](KEY_SETTINGS,JSON[_0x41bfdc(0x213)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x429a3a){}},'loadLocal'(){const _0x969bb8=a3_0x51a1a8;try{const _0x165781=localStorage['getItem'](KEY_SESSIONS);if(_0x165781)sessions=JSON[_0x969bb8(0x281)](_0x165781);const _0x16cdee=localStorage[_0x969bb8(0x217)](KEY_CLIENTS);if(_0x16cdee)clients=JSON[_0x969bb8(0x281)](_0x16cdee);const _0x3631b8=localStorage[_0x969bb8(0x217)](KEY_SETTINGS);if(_0x3631b8){const _0x30d41c=JSON[_0x969bb8(0x281)](_0x3631b8);if(_0x30d41c[_0x969bb8(0x2c9)])availabilityPattern=_0x30d41c[_0x969bb8(0x2c9)];if(_0x30d41c[_0x969bb8(0x295)])specialRanges=_0x30d41c[_0x969bb8(0x295)];if(_0x30d41c[_0x969bb8(0x296)])dateExceptions=_0x30d41c[_0x969bb8(0x296)];}}catch(_0x384dd9){}},async 'syncLoad'(){const _0x78acdd=a3_0x51a1a8,_0x1b4d6d=new Date(),_0x50bae5=_0x1b4d6d[_0x78acdd(0x279)]()+'-'+String(_0x1b4d6d[_0x78acdd(0x2c8)]()+0x1)[_0x78acdd(0x242)](0x2,'0'),_0x300369=new Date(_0x1b4d6d);_0x300369['setMonth'](_0x1b4d6d[_0x78acdd(0x2c8)]()+0x1);const _0x345d4f=_0x300369[_0x78acdd(0x279)]()+'-'+String(_0x300369[_0x78acdd(0x2c8)]()+0x1)[_0x78acdd(0x242)](0x2,'0'),_0x25dfb1=Date['now']();try{const _0x4bd3ff=window[_0x78acdd(0x21d)]?.[_0x78acdd(0x29b)],_0x3aee2a=_0x4bd3ff?.['initData']||'',[_0x571884,_0x4441b2]=await Promise[_0x78acdd(0x256)]([fetch(API_URL,{'method':_0x78acdd(0x240),'body':JSON[_0x78acdd(0x213)]({'action':_0x78acdd(0x1f2),'init_data':_0x3aee2a,'month_str':_0x50bae5})})['then'](_0x1b0058=>_0x1b0058[_0x78acdd(0x204)]()),fetch(API_URL,{'method':_0x78acdd(0x240),'body':JSON[_0x78acdd(0x213)]({'action':'client_load','init_data':_0x3aee2a,'month_str':_0x345d4f})})[_0x78acdd(0x1d3)](_0x4f2a85=>_0x4f2a85[_0x78acdd(0x204)]())]);if(lastUserActionTime>_0x25dfb1){console[_0x78acdd(0x1d0)](_0x78acdd(0x2b0));return;}if(_0x571884['ok'])this[_0x78acdd(0x291)](_0x571884[_0x78acdd(0x271)],_0x50bae5);if(_0x4441b2['ok'])this[_0x78acdd(0x291)](_0x4441b2[_0x78acdd(0x271)],_0x345d4f);this[_0x78acdd(0x22f)]();}catch(_0x26a5f3){}},'applyData'(_0x5e3c2d,_0x1ef829){const _0x358004=a3_0x51a1a8;if(!_0x5e3c2d)return;if(_0x5e3c2d[_0x358004(0x214)]){if(_0x5e3c2d[_0x358004(0x214)][_0x358004(0x2c9)])availabilityPattern=_0x5e3c2d[_0x358004(0x214)]['pattern'];if(_0x5e3c2d[_0x358004(0x214)][_0x358004(0x295)])specialRanges=_0x5e3c2d[_0x358004(0x214)]['ranges'];if(_0x5e3c2d[_0x358004(0x214)][_0x358004(0x296)])dateExceptions=_0x5e3c2d[_0x358004(0x214)][_0x358004(0x296)];}if(_0x5e3c2d[_0x358004(0x209)]&&Array[_0x358004(0x287)](_0x5e3c2d[_0x358004(0x209)]))clients=_0x5e3c2d['clients'];_0x5e3c2d['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5e3c2d[_0x358004(0x288)]}),_0x5e3c2d[_0x358004(0x1ce)]&&(sessions=sessions[_0x358004(0x201)](_0x4b17af=>!_0x4b17af[_0x358004(0x1da)][_0x358004(0x2b5)](_0x1ef829)),Object[_0x358004(0x1fc)](_0x5e3c2d[_0x358004(0x1ce)])[_0x358004(0x2c2)](_0x19b131=>{const _0x472a3b=_0x358004,_0x145ea2=_0x5e3c2d['calendar'][_0x19b131];_0x145ea2[_0x472a3b(0x2c2)](_0x4428e1=>{const _0x4b9a9b=_0x472a3b;sessions['push']({'id':_0x4428e1['i'],'clientId':_0x4428e1['c'],'coachId':_0x4428e1[_0x4b9a9b(0x1ed)],'dateStr':_0x1ef829+'-'+_0x19b131[_0x4b9a9b(0x242)](0x2,'0'),'start':_0x4428e1['s'],'end':_0x4428e1['e'],'note':_0x4428e1['n']||'','status':_0x4428e1['st']||_0x4b9a9b(0x2c5),'seriesId':_0x4428e1[_0x4b9a9b(0x270)]});});})),reRenderBlocks();}};function init(){const _0x2aa897=a3_0x51a1a8;DataManager[_0x2aa897(0x1fa)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2aa897(0x23f))[_0x2aa897(0x20a)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x7bd8de=a3_0x51a1a8,_0x4c5490=document[_0x7bd8de(0x25a)]('timeColumn'),_0x535fcb=document[_0x7bd8de(0x25a)](_0x7bd8de(0x298));_0x4c5490[_0x7bd8de(0x2aa)]='',_0x4c5490['appendChild'](_0x535fcb);for(let _0x84e670=0x0;_0x84e670<0x18;_0x84e670++){const _0x1f6334=document['createElement'](_0x7bd8de(0x22e));_0x1f6334[_0x7bd8de(0x29a)]=_0x7bd8de(0x23a);if(_0x84e670>0x0)_0x1f6334[_0x7bd8de(0x2aa)]=_0x7bd8de(0x1d9)+String(_0x84e670)[_0x7bd8de(0x242)](0x2,'0')+_0x7bd8de(0x2ca);_0x4c5490[_0x7bd8de(0x2b4)](_0x1f6334);}}function renderDayRange(_0x228dc9,_0x3050aa){const _0x2d2d15=a3_0x51a1a8,_0x13437b=document[_0x2d2d15(0x25a)]('daysHeaderTrack'),_0x495d68=document[_0x2d2d15(0x25a)](_0x2d2d15(0x24c)),_0x961dd6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4dbfba=new Date();_0x4dbfba[_0x2d2d15(0x1f5)](0x0,0x0,0x0,0x0);const _0x594e96=getLocalDateStr(new Date());for(let _0x2c2147=_0x228dc9;_0x2c2147<=_0x3050aa;_0x2c2147++){const _0x43fdcc=new Date(_0x4dbfba);_0x43fdcc[_0x2d2d15(0x22b)](_0x43fdcc[_0x2d2d15(0x251)]()+_0x2c2147);const _0x396765=getLocalDateStr(_0x43fdcc);let _0xf7fd60=_0x43fdcc[_0x2d2d15(0x1fd)]()-0x1;if(_0xf7fd60===-0x1)_0xf7fd60=0x6;const _0x471a61=_0x396765===_0x594e96,_0x5894b1=document['createElement'](_0x2d2d15(0x22e));_0x5894b1[_0x2d2d15(0x29a)]=_0x2d2d15(0x2b9)+(_0x471a61?'today':''),_0x5894b1[_0x2d2d15(0x237)](_0x2d2d15(0x22a),_0x396765),_0x5894b1[_0x2d2d15(0x2aa)]=_0x2d2d15(0x1e4)+_0x961dd6[_0xf7fd60]+_0x2d2d15(0x1f6)+_0x43fdcc[_0x2d2d15(0x251)]()+_0x2d2d15(0x248),_0x13437b[_0x2d2d15(0x2b4)](_0x5894b1);const _0x437880=document[_0x2d2d15(0x2a6)](_0x2d2d15(0x22e));_0x437880[_0x2d2d15(0x29a)]=_0x2d2d15(0x211)+(_0x471a61?_0x2d2d15(0x1ea):''),_0x437880[_0x2d2d15(0x237)](_0x2d2d15(0x22a),_0x396765),_0x437880[_0x2d2d15(0x237)](_0x2d2d15(0x220),_0xf7fd60),_0x495d68[_0x2d2d15(0x2b4)](_0x437880);}}function reRenderBlocks(){const _0x3b9b3b=a3_0x51a1a8;document['querySelectorAll'](_0x3b9b3b(0x244))['forEach'](_0x24097d=>{const _0x253b97=_0x3b9b3b;_0x24097d[_0x253b97(0x219)](_0x253b97(0x27d))[_0x253b97(0x2c2)](_0x196d1a=>_0x196d1a[_0x253b97(0x228)]());const _0x1107fb=_0x24097d[_0x253b97(0x232)]('data-date'),_0x21ff77=parseInt(_0x24097d[_0x253b97(0x232)](_0x253b97(0x220))),_0x405b89=Math[_0x253b97(0x263)](_0x24097d['offsetLeft']);(availabilityPattern[_0x21ff77]||[])[_0x253b97(0x2c2)](_0x3ead77=>{const _0x5d48c2=_0x253b97,_0x121873=document['createElement'](_0x5d48c2(0x22e));_0x121873[_0x5d48c2(0x29a)]=_0x5d48c2(0x26d),_0x121873[_0x5d48c2(0x2ba)][_0x5d48c2(0x246)]=_0x3ead77*GRID_H+'px',_0x121873[_0x5d48c2(0x2ba)][_0x5d48c2(0x278)]='-'+_0x405b89+_0x5d48c2(0x274)+_0x3ead77*GRID_H+'px',_0x24097d['appendChild'](_0x121873);});if(specialRanges[_0x253b97(0x2ad)]>0x0){const _0x3e65d8=new Date(_0x1107fb+_0x253b97(0x208))['getTime'](),_0x3f0df6=new Date(_0x1107fb+_0x253b97(0x266))[_0x253b97(0x247)]();specialRanges[_0x253b97(0x2c2)](_0x4caf3c=>{const _0x2ddae9=_0x253b97,_0x1774db=new Date(_0x4caf3c['start'])[_0x2ddae9(0x247)](),_0x406c77=new Date(_0x4caf3c[_0x2ddae9(0x1ef)])[_0x2ddae9(0x247)](),_0x456536=Math[_0x2ddae9(0x27c)](_0x3e65d8,_0x1774db),_0x203f0e=Math[_0x2ddae9(0x28a)](_0x3f0df6,_0x406c77);if(_0x456536<_0x203f0e){const _0x217690=(_0x456536-_0x3e65d8)/0x36ee80*GRID_H,_0x2e78cb=(_0x203f0e-_0x456536)/0x36ee80*GRID_H,_0x33b61f=document['createElement'](_0x2ddae9(0x22e));_0x2e78cb>=23.5*GRID_H?(_0x33b61f[_0x2ddae9(0x29a)]=_0x2ddae9(0x2bb),_0x33b61f['style'][_0x2ddae9(0x278)]='-'+_0x405b89+_0x2ddae9(0x235)):(_0x33b61f['className']=_0x2ddae9(0x223),_0x33b61f['style']['top']=_0x217690+'px',_0x33b61f[_0x2ddae9(0x2ba)][_0x2ddae9(0x249)]=_0x2e78cb+'px',_0x33b61f[_0x2ddae9(0x2ba)][_0x2ddae9(0x278)]='-'+_0x405b89+_0x2ddae9(0x274)+_0x217690+'px'),_0x24097d[_0x2ddae9(0x2b4)](_0x33b61f);}});}renderEventsForColumn(_0x24097d,_0x1107fb);});}function renderEventsForColumn(_0x26e9c4,_0x4aec77){const _0xdcced0=a3_0x51a1a8,_0x238c5e=sessions['filter'](_0x3888ce=>_0x3888ce['dateStr']===_0x4aec77),_0x103db7=_0x238c5e[_0xdcced0(0x2a4)](_0x298e96=>{const _0x3b705d=_0xdcced0,[_0x46cd44,_0x56feb8]=_0x298e96[_0x3b705d(0x27a)][_0x3b705d(0x27b)](':')['map'](Number),[_0x33d58a,_0x4dbdff]=_0x298e96['end'][_0x3b705d(0x27b)](':')['map'](Number);return{'data':_0x298e96,'start':_0x46cd44*0x3c+_0x56feb8,'end':_0x33d58a*0x3c+_0x4dbdff,'colIndex':0x0};});_0x103db7[_0xdcced0(0x283)]((_0x236900,_0x48c74d)=>_0x236900[_0xdcced0(0x27a)]-_0x48c74d[_0xdcced0(0x27a)]||_0x48c74d[_0xdcced0(0x1ef)]-_0x48c74d['start']-(_0x236900[_0xdcced0(0x1ef)]-_0x236900[_0xdcced0(0x27a)]));const _0x93813=[];_0x103db7[_0xdcced0(0x2c2)](_0x276885=>{const _0x13125f=_0xdcced0;let _0x495721=![];for(let _0x25dcc4=0x0;_0x25dcc4<_0x93813[_0x13125f(0x2ad)];_0x25dcc4++){const _0x2f3f9e=_0x93813[_0x25dcc4];if(_0x276885['start']>=_0x2f3f9e[_0x2f3f9e[_0x13125f(0x2ad)]-0x1][_0x13125f(0x1ef)]){_0x2f3f9e[_0x13125f(0x2ac)](_0x276885),_0x276885[_0x13125f(0x1ee)]=_0x25dcc4,_0x495721=!![];break;}}!_0x495721&&(_0x93813[_0x13125f(0x2ac)]([_0x276885]),_0x276885[_0x13125f(0x1ee)]=_0x93813[_0x13125f(0x2ad)]-0x1);}),_0x103db7[_0xdcced0(0x2c2)](_0x5ded1c=>{const _0x1b8f37=_0xdcced0;let _0x224cd9=0x0;_0x103db7[_0x1b8f37(0x2c2)](_0x59cc82=>{const _0x5ca64e=_0x1b8f37;if(Math[_0x5ca64e(0x27c)](_0x5ded1c['start'],_0x59cc82[_0x5ca64e(0x27a)])<Math['min'](_0x5ded1c['end'],_0x59cc82['end'])&&_0x59cc82['colIndex']>_0x224cd9)_0x224cd9=_0x59cc82['colIndex'];});const _0x2a1212=_0x224cd9+0x1,_0x35094a=0x64/_0x2a1212,_0x32c3eb=_0x5ded1c['colIndex']*_0x35094a,_0x39aaee=document['createElement'](_0x1b8f37(0x22e)),_0x376b97=_0x5ded1c['data'];let _0x5adfc0=_0x1b8f37(0x1de);if(clients&&clients[_0x1b8f37(0x2ad)]>0x0){const _0x448d1f=clients[_0x1b8f37(0x1dd)](_0xa0a820=>String(_0xa0a820['id'])===String(_0x376b97['clientId']));if(_0x448d1f&&_0x448d1f[_0x1b8f37(0x1e3)])_0x5adfc0=_0x448d1f[_0x1b8f37(0x1e3)];}const _0x77f8f1=_0x376b97[_0x1b8f37(0x264)]===_0x1b8f37(0x1db),_0x1c6530=_0x77f8f1?0x1:0.45;_0x39aaee['className']='event-card'+(_0x77f8f1?_0x1b8f37(0x21c):''),_0x39aaee[_0x1b8f37(0x2ba)][_0x1b8f37(0x20f)]=hexToRgba(_0x5adfc0,_0x1c6530),_0x39aaee[_0x1b8f37(0x2ba)][_0x1b8f37(0x28b)]=_0x5adfc0;const _0x1fa069=_0x5ded1c[_0x1b8f37(0x27a)]/0x3c*GRID_H,_0x364de1=(_0x5ded1c['end']-_0x5ded1c['start'])/0x3c*GRID_H;_0x39aaee[_0x1b8f37(0x2ba)][_0x1b8f37(0x246)]=_0x1fa069+'px',_0x39aaee[_0x1b8f37(0x2ba)]['height']=Math[_0x1b8f37(0x27c)](_0x364de1,0x14)+'px',_0x39aaee[_0x1b8f37(0x2ba)]['width']=_0x1b8f37(0x25f)+_0x35094a+'%\x20-\x204px)',_0x39aaee[_0x1b8f37(0x2ba)]['left']=_0x1b8f37(0x25f)+_0x32c3eb+_0x1b8f37(0x257),_0x39aaee['style']['zIndex']=0xa+_0x5ded1c[_0x1b8f37(0x1ee)];if(_0x35094a<0x55)_0x39aaee[_0x1b8f37(0x25b)][_0x1b8f37(0x26a)](_0x1b8f37(0x2bd));let _0x3a04da='';if(_0x376b97[_0x1b8f37(0x285)])_0x3a04da+=_0x1b8f37(0x2a0);if(_0x77f8f1)_0x3a04da+=_0x1b8f37(0x23c);_0x39aaee[_0x1b8f37(0x2aa)]=_0x1b8f37(0x258)+_0x376b97[_0x1b8f37(0x27a)]+_0x1b8f37(0x212)+_0x376b97[_0x1b8f37(0x1ef)]+_0x1b8f37(0x276)+_0x3a04da+_0x1b8f37(0x20b),_0x39aaee[_0x1b8f37(0x294)]=_0x30a579=>{_0x30a579['stopPropagation'](),openDetails(_0x376b97);},_0x26e9c4['appendChild'](_0x39aaee);});}function openAnalytics(){const _0x168c47=a3_0x51a1a8,_0x2018ca=document['querySelector'](_0x168c47(0x1ff));setAnalyticsPeriod(_0x168c47(0x23e),_0x2018ca),openSheet(_0x168c47(0x224));}function setAnalyticsPeriod(_0x1c7db7,_0x1a4ebc){const _0x5c4971=a3_0x51a1a8;currentAnPeriod=_0x1c7db7,document[_0x5c4971(0x219)](_0x5c4971(0x1ff))['forEach'](_0x1efc00=>_0x1efc00[_0x5c4971(0x25b)][_0x5c4971(0x228)](_0x5c4971(0x2c0)));if(_0x1a4ebc)_0x1a4ebc[_0x5c4971(0x25b)][_0x5c4971(0x26a)](_0x5c4971(0x2c0));const _0x2b5565=document['getElementById'](_0x5c4971(0x2be));_0x2b5565['style']['display']=_0x1c7db7===_0x5c4971(0x2af)?_0x5c4971(0x2a8):_0x5c4971(0x1f8);const _0x2e8baa=new Date();let _0x96028c=new Date(),_0x56ffde=new Date();if(_0x1c7db7==='week')_0x96028c=getStartOfWeek(_0x2e8baa),_0x56ffde=new Date(_0x96028c),_0x56ffde['setDate'](_0x56ffde[_0x5c4971(0x251)]()+0x6);else{if(_0x1c7db7===_0x5c4971(0x2c3))_0x96028c=new Date(_0x2e8baa[_0x5c4971(0x279)](),_0x2e8baa[_0x5c4971(0x2c8)](),0x1),_0x56ffde=new Date(_0x2e8baa[_0x5c4971(0x279)](),_0x2e8baa[_0x5c4971(0x2c8)]()+0x1,0x0);else{!document[_0x5c4971(0x25a)](_0x5c4971(0x24a))[_0x5c4971(0x28d)]&&(document[_0x5c4971(0x25a)]('anStart')[_0x5c4971(0x28d)]=getLocalDateStr(_0x2e8baa),document[_0x5c4971(0x25a)](_0x5c4971(0x1cb))['value']=getLocalDateStr(_0x2e8baa));refreshAnalytics();return;}}document[_0x5c4971(0x25a)]('anStart')[_0x5c4971(0x28d)]=getLocalDateStr(_0x96028c),document['getElementById'](_0x5c4971(0x1cb))[_0x5c4971(0x28d)]=getLocalDateStr(_0x56ffde),refreshAnalytics();}function refreshAnalytics(){const _0x53ee6c=a3_0x51a1a8,_0x114c89=document['getElementById'](_0x53ee6c(0x24a))[_0x53ee6c(0x28d)],_0x4475c3=document[_0x53ee6c(0x25a)](_0x53ee6c(0x1cb))['value'];if(!_0x114c89||!_0x4475c3)return;const _0x41a02c=sessions[_0x53ee6c(0x201)](_0x318b4e=>_0x318b4e['dateStr']>=_0x114c89&&_0x318b4e[_0x53ee6c(0x1da)]<=_0x4475c3&&_0x318b4e[_0x53ee6c(0x264)]!==_0x53ee6c(0x2a3)),_0x1004e6=_0x41a02c[_0x53ee6c(0x2ad)],_0x46159b=_0x41a02c[_0x53ee6c(0x201)](_0x3126c7=>_0x3126c7['status']===_0x53ee6c(0x1db))['length'],_0x47487f=_0x1004e6>0x0?Math[_0x53ee6c(0x263)](_0x46159b/_0x1004e6*0x64):0x0;document['getElementById'](_0x53ee6c(0x1d5))['textContent']=_0x47487f+'%',document[_0x53ee6c(0x25a)]('anTotalStats')['textContent']=_0x46159b+_0x53ee6c(0x222)+_0x1004e6+_0x53ee6c(0x2b3);const _0x30a229=document[_0x53ee6c(0x25a)]('anDonutCircle'),_0x5530c9=0x2*Math['PI']*0x23,_0x59aa77=_0x5530c9-_0x47487f/0x64*_0x5530c9;_0x30a229['style'][_0x53ee6c(0x289)]=_0x59aa77;const _0x472c27={};_0x41a02c[_0x53ee6c(0x2c2)](_0x3490a7=>{const _0x52e3e7=_0x53ee6c,_0x16b0c7=_0x3490a7[_0x52e3e7(0x20c)]||'Unknown';if(!_0x472c27[_0x16b0c7]){const _0x49267c='#'+_0x16b0c7['toString']()['substr'](0x0,0x6);_0x472c27[_0x16b0c7]={'total':0x0,'done':0x0,'color':_0x49267c};}_0x472c27[_0x16b0c7]['total']++;if(_0x3490a7[_0x52e3e7(0x264)]===_0x52e3e7(0x1db))_0x472c27[_0x16b0c7]['done']++;});const _0x35a71c=document[_0x53ee6c(0x25a)](_0x53ee6c(0x292));_0x35a71c[_0x53ee6c(0x2aa)]='';const _0x26088f=Object[_0x53ee6c(0x1dc)](_0x472c27)['sort']((_0x1f7d7d,_0xce8ed0)=>_0xce8ed0[0x1]['total']-_0x1f7d7d[0x1][_0x53ee6c(0x24f)]);if(_0x26088f['length']===0x0){_0x35a71c[_0x53ee6c(0x2aa)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x26088f[_0x53ee6c(0x2c2)](([_0x3483ca,_0x4a0c0d])=>{const _0x3a28ad=_0x53ee6c,_0x40ee1f=Math[_0x3a28ad(0x263)](_0x4a0c0d[_0x3a28ad(0x286)]/_0x4a0c0d[_0x3a28ad(0x24f)]*0x64),_0x117954=document['createElement']('div');_0x117954['className']=_0x3a28ad(0x20e),_0x117954['style'][_0x3a28ad(0x28b)]=_0x4a0c0d[_0x3a28ad(0x1e3)],_0x117954['innerHTML']=_0x3a28ad(0x265)+_0x3483ca[_0x3a28ad(0x1c9)](0x0,0x5)+_0x3a28ad(0x1ca)+_0x4a0c0d['done']+_0x3a28ad(0x1e1)+_0x4a0c0d[_0x3a28ad(0x24f)]+_0x3a28ad(0x221)+_0x40ee1f+_0x3a28ad(0x2c7),_0x35a71c[_0x3a28ad(0x2b4)](_0x117954);});}function openDetails(_0x26026b){const _0x4e4cb=a3_0x51a1a8;currentSession=_0x26026b;const _0x413233=new Date(_0x26026b[_0x4e4cb(0x1da)]),_0x443552=_0x413233[_0x4e4cb(0x268)](_0x4e4cb(0x1e5),{'weekday':_0x4e4cb(0x210),'day':_0x4e4cb(0x202),'month':_0x4e4cb(0x210)});document[_0x4e4cb(0x25a)](_0x4e4cb(0x254))[_0x4e4cb(0x2b6)]=_0x443552[_0x4e4cb(0x1f0)](0x0)[_0x4e4cb(0x25c)]()+_0x443552['slice'](0x1),document[_0x4e4cb(0x25a)](_0x4e4cb(0x238))[_0x4e4cb(0x2b6)]=_0x26026b[_0x4e4cb(0x27a)]+_0x4e4cb(0x212)+_0x26026b[_0x4e4cb(0x1ef)],document[_0x4e4cb(0x25a)](_0x4e4cb(0x26f))[_0x4e4cb(0x2b6)]=_0x26026b[_0x4e4cb(0x24e)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x17c341=document[_0x4e4cb(0x25a)](_0x4e4cb(0x218)),_0x1b7dcd=document[_0x4e4cb(0x25a)]('cancelContainer'),_0x5e80c0=_0x1b7dcd[_0x4e4cb(0x215)](_0x4e4cb(0x231)),_0x1dbb53=_0x1b7dcd[_0x4e4cb(0x215)](_0x4e4cb(0x21a)),_0xfafcff=document['getElementById'](_0x4e4cb(0x282));if(_0x26026b[_0x4e4cb(0x264)]===_0x4e4cb(0x1db))_0x17c341['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x17c341[_0x4e4cb(0x2ba)][_0x4e4cb(0x1e3)]=_0x4e4cb(0x1e6),_0x1b7dcd[_0x4e4cb(0x2ba)][_0x4e4cb(0x1eb)]=_0x4e4cb(0x1f8);else{_0x17c341[_0x4e4cb(0x2b6)]=_0x4e4cb(0x1d2),_0x17c341['style'][_0x4e4cb(0x1e3)]=_0x4e4cb(0x2c1),_0x1b7dcd[_0x4e4cb(0x2ba)][_0x4e4cb(0x1eb)]=_0x4e4cb(0x253);const _0x490aaa=new Date(_0x26026b[_0x4e4cb(0x1da)]+'T'+_0x26026b[_0x4e4cb(0x27a)]),_0x1497e6=new Date(),_0x11695f=(_0x490aaa-_0x1497e6)/(0x3e8*0x3c*0x3c),_0x30973d=coachProfiles[_0x26026b[_0x4e4cb(0x20c)]]&&coachProfiles[_0x26026b[_0x4e4cb(0x20c)]][_0x4e4cb(0x2a7)]?parseInt(coachProfiles[_0x26026b['coachId']]['cancel_window']):0x18;if(_0x30973d===0x0||_0x11695f>=_0x30973d)_0x5e80c0['style'][_0x4e4cb(0x1eb)]=_0x4e4cb(0x253),_0x1dbb53[_0x4e4cb(0x2ba)][_0x4e4cb(0x1eb)]=_0x4e4cb(0x253),_0xfafcff[_0x4e4cb(0x2ba)][_0x4e4cb(0x1eb)]=_0x4e4cb(0x1f8);else{_0x5e80c0[_0x4e4cb(0x2ba)]['display']=_0x4e4cb(0x1f8),_0x1dbb53[_0x4e4cb(0x2ba)]['display']=_0x4e4cb(0x1f8),_0xfafcff[_0x4e4cb(0x2ba)][_0x4e4cb(0x1eb)]='block';let _0x16021d=_0x30973d===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x30973d+_0x4e4cb(0x2ae);_0xfafcff[_0x4e4cb(0x2b6)]=_0x4e4cb(0x21e)+_0x16021d+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x4e4cb(0x284))['classList']['add']('active'),document['getElementById'](_0x4e4cb(0x243))[_0x4e4cb(0x25b)][_0x4e4cb(0x26a)]('open');}function closeAllSheets(){const _0x5d83b5=a3_0x51a1a8;document[_0x5d83b5(0x25a)](_0x5d83b5(0x284))[_0x5d83b5(0x25b)][_0x5d83b5(0x228)](_0x5d83b5(0x2c0)),document[_0x5d83b5(0x219)](_0x5d83b5(0x20d))['forEach'](_0x1b905a=>_0x1b905a['classList'][_0x5d83b5(0x228)](_0x5d83b5(0x21b)));}function openSheet(_0x598a48){const _0x4e6a65=a3_0x51a1a8;document[_0x4e6a65(0x25a)](_0x4e6a65(0x284))[_0x4e6a65(0x25b)]['add']('active'),document[_0x4e6a65(0x25a)](_0x598a48)[_0x4e6a65(0x25b)][_0x4e6a65(0x26a)](_0x4e6a65(0x21b));}function getLocalDateStr(_0x5f4be9){const _0x6bf818=a3_0x51a1a8,_0x50c36e=_0x5f4be9['getFullYear'](),_0x425756=String(_0x5f4be9[_0x6bf818(0x2c8)]()+0x1)[_0x6bf818(0x242)](0x2,'0'),_0x1b1755=String(_0x5f4be9['getDate']())[_0x6bf818(0x242)](0x2,'0');return _0x50c36e+'-'+_0x425756+'-'+_0x1b1755;}function getStartOfWeek(_0x3d2aef){const _0x395c7b=a3_0x51a1a8,_0x3fea8d=new Date(_0x3d2aef),_0x4f0a38=_0x3fea8d[_0x395c7b(0x1fd)](),_0x2b4dd1=_0x3fea8d['getDate']()-_0x4f0a38+(_0x4f0a38===0x0?-0x6:0x1);return _0x3fea8d[_0x395c7b(0x22b)](_0x2b4dd1),_0x3fea8d['setHours'](0x0,0x0,0x0,0x0),_0x3fea8d;}function scrollToToday(){const _0x18c7af=getLocalDateStr(new Date());setTimeout(()=>{const _0x148b14=a3_0x43c1,_0x322b8a=document['querySelector']('.day-col-header[data-date=\x22'+_0x18c7af+'\x22]');if(_0x322b8a){const _0x52e31e=document[_0x148b14(0x25a)]('matrixViewport'),_0x2a2635=_0x322b8a[_0x148b14(0x21f)]-_0x52e31e[_0x148b14(0x205)]/0x2+_0x322b8a[_0x148b14(0x24d)]/0x2;_0x52e31e[_0x148b14(0x2ab)]({'left':_0x2a2635,'behavior':_0x148b14(0x1df)}),_0x52e31e[_0x148b14(0x26e)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x45aeb7=a3_0x51a1a8,_0x5b694f=new Date(),_0x5850d3=document[_0x45aeb7(0x25a)](_0x45aeb7(0x216)),_0xef397c=document['getElementById'](_0x45aeb7(0x298)),_0x1d4893=(_0x5b694f[_0x45aeb7(0x203)]()*0x3c+_0x5b694f[_0x45aeb7(0x27e)]())/0x3c*GRID_H;_0x5850d3['style'][_0x45aeb7(0x246)]=_0x1d4893+'px',_0x5850d3[_0x45aeb7(0x2ba)]['display']=_0x45aeb7(0x253),_0xef397c[_0x45aeb7(0x2ba)][_0x45aeb7(0x246)]=_0x1d4893+'px',_0xef397c[_0x45aeb7(0x2ba)][_0x45aeb7(0x1eb)]=_0x45aeb7(0x253),_0xef397c[_0x45aeb7(0x2b6)]=String(_0x5b694f['getHours']())[_0x45aeb7(0x242)](0x2,'0')+':'+String(_0x5b694f[_0x45aeb7(0x27e)]())[_0x45aeb7(0x242)](0x2,'0');}function onScroll(){const _0x312460=a3_0x51a1a8,_0x2614c0=document[_0x312460(0x25a)](_0x312460(0x23f)),_0xb69dc7=document[_0x312460(0x219)]('.day-col-header');for(let _0x50cb2a of _0xb69dc7)if(_0x50cb2a[_0x312460(0x21f)]>=_0x2614c0[_0x312460(0x2bf)]){const _0x398424=new Date(_0x50cb2a[_0x312460(0x232)](_0x312460(0x22a)));document[_0x312460(0x25a)](_0x312460(0x28c))['textContent']=_0x398424[_0x312460(0x207)]('ru',{'month':_0x312460(0x210)})[_0x312460(0x25c)]()+'\x20'+_0x398424[_0x312460(0x279)]();break;}}function showToast(_0x387742){const _0x2feb0d=a3_0x51a1a8,_0x1c87a6=document[_0x2feb0d(0x25a)](_0x2feb0d(0x1f4));_0x1c87a6[_0x2feb0d(0x2b6)]=_0x387742,_0x1c87a6['classList']['add'](_0x2feb0d(0x29f)),setTimeout(()=>_0x1c87a6[_0x2feb0d(0x25b)][_0x2feb0d(0x228)](_0x2feb0d(0x29f)),0x7d0);}function handleInfiniteScroll(){const _0x5243fe=a3_0x51a1a8,_0x13accc=document[_0x5243fe(0x25a)]('matrixViewport'),_0x14aa6e=_0x13accc[_0x5243fe(0x2bf)],_0x48c038=_0x13accc['scrollWidth'],_0xd41680=_0x13accc[_0x5243fe(0x205)];if(_0x48c038-(_0x14aa6e+_0xd41680)<0x12c){const _0x266fa3=endOffset;endOffset+=0xe,renderDayRange(_0x266fa3+0x1,endOffset),reRenderBlocks();}if(_0x14aa6e<0x12c){const _0x5573d6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5573d6-0x1),_0x13accc[_0x5243fe(0x2bf)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4a7ba0,_0x213639){const _0x551261=a3_0x51a1a8,_0x55a765=document[_0x551261(0x25a)](_0x551261(0x26c)),_0x2edb48=document[_0x551261(0x25a)](_0x551261(0x24c)),_0x3f91c1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24fea2=new Date();_0x24fea2['setHours'](0x0,0x0,0x0,0x0);const _0x5ebba3=getLocalDateStr(new Date()),_0x5b01a7=document[_0x551261(0x2a5)](),_0xb88179=document[_0x551261(0x2a5)]();for(let _0x14d345=_0x4a7ba0;_0x14d345<=_0x213639;_0x14d345++){const _0x625318=new Date(_0x24fea2);_0x625318[_0x551261(0x22b)](_0x625318[_0x551261(0x251)]()+_0x14d345);const _0x49a258=getLocalDateStr(_0x625318);let _0x4652ef=_0x625318[_0x551261(0x1fd)]()-0x1;if(_0x4652ef===-0x1)_0x4652ef=0x6;const _0x2f99bf=_0x49a258===_0x5ebba3,_0xb7d3d7=document[_0x551261(0x2a6)](_0x551261(0x22e));_0xb7d3d7[_0x551261(0x29a)]=_0x551261(0x2b9)+(_0x2f99bf?_0x551261(0x1ea):''),_0xb7d3d7['setAttribute'](_0x551261(0x22a),_0x49a258),_0xb7d3d7['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x3f91c1[_0x4652ef]+'</div><div\x20class=\x22dch-num\x22>'+_0x625318['getDate']()+_0x551261(0x248),_0x5b01a7['appendChild'](_0xb7d3d7);const _0x4dea65=document[_0x551261(0x2a6)](_0x551261(0x22e));_0x4dea65[_0x551261(0x29a)]=_0x551261(0x211)+(_0x2f99bf?_0x551261(0x1ea):''),_0x4dea65[_0x551261(0x237)](_0x551261(0x22a),_0x49a258),_0x4dea65[_0x551261(0x237)](_0x551261(0x220),_0x4652ef),_0xb88179[_0x551261(0x2b4)](_0x4dea65);}_0x55a765[_0x551261(0x1cf)](_0x5b01a7,_0x55a765[_0x551261(0x29e)]),_0x2edb48[_0x551261(0x1cf)](_0xb88179,_0x2edb48[_0x551261(0x215)](_0x551261(0x244)));}function hexToRgba(_0x2dd7de,_0x3d5aed){const _0x3fb7d5=a3_0x51a1a8;let _0x2a175f;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x2dd7de))return _0x2a175f=_0x2dd7de[_0x3fb7d5(0x1e8)](0x1)['split'](''),_0x2a175f[_0x3fb7d5(0x2ad)]==0x3&&(_0x2a175f=[_0x2a175f[0x0],_0x2a175f[0x0],_0x2a175f[0x1],_0x2a175f[0x1],_0x2a175f[0x2],_0x2a175f[0x2]]),_0x2a175f='0x'+_0x2a175f['join'](''),_0x3fb7d5(0x261)+[_0x2a175f>>0x10&0xff,_0x2a175f>>0x8&0xff,_0x2a175f&0xff][_0x3fb7d5(0x262)](',')+','+_0x3d5aed+')';return _0x3fb7d5(0x2b2)+_0x3d5aed+')';}let confirmResolver=null;function showCustomConfirm(_0x1a18d7,_0x3a065d,_0x2a3096=!![]){const _0x3fbccf=a3_0x51a1a8;document[_0x3fbccf(0x25a)](_0x3fbccf(0x1f3))['textContent']=_0x1a18d7,document['getElementById'](_0x3fbccf(0x2c4))[_0x3fbccf(0x2b6)]=_0x3a065d;const _0x4b6b64=document['getElementById'](_0x3fbccf(0x1ec));return _0x2a3096?(_0x4b6b64[_0x3fbccf(0x2ba)][_0x3fbccf(0x1e3)]=_0x3fbccf(0x29c),_0x4b6b64[_0x3fbccf(0x2ba)]['fontWeight']='600'):(_0x4b6b64[_0x3fbccf(0x2ba)][_0x3fbccf(0x1e3)]=_0x3fbccf(0x1de),_0x4b6b64['style'][_0x3fbccf(0x1d4)]=_0x3fbccf(0x252)),new Promise(_0x413ed8=>{const _0x3faae6=_0x3fbccf;confirmResolver=_0x413ed8,document['getElementById']('customConfirm')[_0x3faae6(0x25b)][_0x3faae6(0x26a)]('visible');});}function resolveCustomConfirm(_0x3f58ac){const _0xd496a6=a3_0x51a1a8;document[_0xd496a6(0x25a)]('customConfirm')['classList'][_0xd496a6(0x228)](_0xd496a6(0x1cd));if(confirmResolver)confirmResolver(_0x3f58ac);}async function tryCancelCurrentSession(){const _0x41cba7=a3_0x51a1a8;if(!currentSession)return;const _0x351710=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x351710)return;const _0x57da4c=currentSession;closeAllSheets(),sessions=sessions[_0x41cba7(0x201)](_0x3c7c10=>_0x3c7c10['id']!==_0x57da4c['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x353c1=window[_0x41cba7(0x21d)]?.[_0x41cba7(0x29b)],_0x27f966=await fetch(API_URL,{'method':_0x41cba7(0x240),'body':JSON[_0x41cba7(0x213)]({'action':_0x41cba7(0x241),'init_data':_0x353c1?.[_0x41cba7(0x28f)]||'','coachId':_0x57da4c[_0x41cba7(0x20c)],'dateStr':_0x57da4c[_0x41cba7(0x1da)],'sessionId':_0x57da4c['id']})});if(_0x27f966['ok'])DataManager[_0x41cba7(0x22f)]();}catch(_0x28881e){showToast(_0x41cba7(0x2b7));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x358cf2=a3_0x51a1a8;if(!currentSession)return;document[_0x358cf2(0x25a)](_0x358cf2(0x243))['classList'][_0x358cf2(0x228)](_0x358cf2(0x21b)),document[_0x358cf2(0x25a)](_0x358cf2(0x1f1))['classList'][_0x358cf2(0x26a)]('open');const _0x2502ed=document[_0x358cf2(0x25a)]('rsDatesTrack'),_0x528760=document[_0x358cf2(0x25a)]('rsSlotsGrid');_0x2502ed[_0x358cf2(0x2aa)]='',_0x528760['innerHTML']=_0x358cf2(0x267);const [_0x27c5f7,_0x4867e5]=currentSession['start'][_0x358cf2(0x27b)](':')[_0x358cf2(0x2a4)](Number),[_0x176e17,_0xe45992]=currentSession[_0x358cf2(0x1ef)]['split'](':')['map'](Number),_0x26a455=_0x176e17*0x3c+_0xe45992-(_0x27c5f7*0x3c+_0x4867e5);try{const _0x5b8313=window['Telegram']?.[_0x358cf2(0x29b)],_0x3628db=await fetch(API_URL,{'method':_0x358cf2(0x240),'body':JSON[_0x358cf2(0x213)]({'action':_0x358cf2(0x1e2),'coachId':currentSession[_0x358cf2(0x20c)],'duration':_0x26a455,'init_data':_0x5b8313?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x26b2eb=await _0x3628db['json']();_0x26b2eb['ok']&&_0x26b2eb[_0x358cf2(0x271)]?(availableSlotsCache=_0x26b2eb[_0x358cf2(0x271)],renderRescheduleDates()):_0x528760['innerHTML']=_0x358cf2(0x272);}catch(_0x109cc9){_0x528760[_0x358cf2(0x2aa)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x1f93b4=a3_0x51a1a8,_0x447a9d=document[_0x1f93b4(0x25a)](_0x1f93b4(0x23d));_0x447a9d[_0x1f93b4(0x2aa)]='';const _0x588fdc=Object[_0x1f93b4(0x1fc)](availableSlotsCache)[_0x1f93b4(0x283)](),_0x5536b9=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x588fdc['length']===0x0){document[_0x1f93b4(0x25a)](_0x1f93b4(0x250))[_0x1f93b4(0x2aa)]=_0x1f93b4(0x1f7);return;}_0x588fdc[_0x1f93b4(0x2c2)]((_0x532e4b,_0x56cda3)=>{const _0x509128=_0x1f93b4,_0x4ee62d=new Date(_0x532e4b),_0x4a86a5=_0x5536b9[_0x4ee62d[_0x509128(0x1fd)]()],_0x3f8826=_0x4ee62d[_0x509128(0x251)](),_0x527c7e=document[_0x509128(0x2a6)]('div');_0x527c7e['className']=_0x509128(0x1d8);if(_0x56cda3===0x0)_0x527c7e['classList']['add'](_0x509128(0x2c0));_0x527c7e[_0x509128(0x2aa)]=_0x509128(0x1fe)+_0x4a86a5+_0x509128(0x22c)+_0x3f8826+_0x509128(0x248),_0x527c7e[_0x509128(0x294)]=()=>selectRsDate(_0x532e4b,_0x527c7e),_0x447a9d[_0x509128(0x2b4)](_0x527c7e);}),selectRsDate(_0x588fdc[0x0],_0x447a9d[_0x1f93b4(0x29e)]);}function a3_0x5e72(){const _0x4b8a6a=['planned','345062oLdULX','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMonth','pattern',':00</span>','initDataUnsafe','substr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','anEnd','1845453mTujGF','visible','calendar','insertBefore','log','7TiGsib','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','then','fontWeight','anPercent','constructor','uc_client_settings','rs-date-chip','<span>','dateStr','completed','entries','find','#0a84ff','auto','now','</span>\x20/\x20','get_slots','color','<div\x20class=\x22dch-day\x22>','ru-RU','var(--acc-green)','router.html','substring','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','today','display','ccYesBtn','cid','colIndex','end','charAt','rescheduleSheet','client_load','ccTitle','toast','setHours','</div><div\x20class=\x22dch-num\x22>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','none','11035870okrZxW','loadLocal','user','keys','getDay','<div\x20class=\x22rs-day-name\x22>','.period-switch\x20.p-btn','.rs-date-chip','filter','numeric','getHours','json','clientWidth','toString','toLocaleString','T00:00:00','clients','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coachId','.sheet','client-stat-card','backgroundColor','long','day-column\x20','\x20-\x20','stringify','settings','querySelector','globalTimeLine','getItem','detStatus','querySelectorAll','.btn-reschedule','open','\x20status-completed','Telegram','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','offsetLeft','data-day-idx','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20–∏–∑\x20','blocked-range-part\x20stripe-bg','analyticsSheet','343434Yannrx','setItem','button','remove','uc_client_list','data-date','setDate','</div><div\x20class=\x22rs-day-num\x22>','DOMContentLoaded','div','saveLocally','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','.btn-cancel','getAttribute','error','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','px\x200px','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','setAttribute','detTime','apply','time-label','findIndex','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rsDatesTrack','week','matrixViewport','POST','client_cancel','padStart','detailsSheet','.day-column','uc_client_sessions','top','getTime','</div>','height','anStart','11XVRQfN','gridColumns','offsetWidth','note','total','rsSlotsGrid','getDate','600','block','detDate','732kbHKxn','all','%\x20+\x202px)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','(((.+)+)+)+$','getElementById','classList','toUpperCase','Critical\x20TMA\x20Error:','setBackgroundColor','calc(','reschedule','rgba(','join','round','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','T23:59:59','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','toLocaleDateString','expand','add','syncLoad','daysHeaderTrack','blocked-slot\x20stripe-bg','scrollTop','detNote','sid','data','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','517854paQsfL','px\x20-','search','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20–≤\x20','backgroundPosition','getFullYear','start','split','max','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getMinutes','disableVerticalSwipes','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','parse','cancelHint','sort','overlay','seriesId','done','isArray','coach_profiles','strokeDashoffset','min','borderLeftColor','headerMonth','value','ready','initData','55HdZLGy','applyData','analyticsList','rs-time-btn','onclick','ranges','exceptions','4ZDDDNx','timeLineBadge','setHeaderColor','className','WebApp','#ff453a','BackButton','firstChild','show','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','2649744SEATLI','4IjCSRc','cancelled','map','createDocumentFragment','createElement','cancel_window','flex','Error\x20setting\x20back\x20button:','innerHTML','scrollTo','push','length','\x20—á.','custom','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','519608WpOmgD','rgba(10,\x20132,\x20255,\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','appendChild','startsWith','textContent','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','Error\x20setting\x20color:','day-col-header\x20','style','day-off-overlay\x20stripe-bg','location','mini','anCustomDates','scrollLeft','active','var(--acc-blue)','forEach','month','ccText'];a3_0x5e72=function(){return _0x4b8a6a;};return a3_0x5e72();}function selectRsDate(_0x59828b,_0x575cf3){const _0xf26a=a3_0x51a1a8;selectedRsDate=_0x59828b,document[_0xf26a(0x219)](_0xf26a(0x200))['forEach'](_0x3d810f=>_0x3d810f[_0xf26a(0x25b)]['remove']('active'));if(_0x575cf3)_0x575cf3[_0xf26a(0x25b)][_0xf26a(0x26a)](_0xf26a(0x2c0));const _0x12bf9a=document[_0xf26a(0x25a)](_0xf26a(0x250));_0x12bf9a[_0xf26a(0x2aa)]='';const _0xcefc0f=availableSlotsCache[_0x59828b]||[];if(_0xcefc0f[_0xf26a(0x2ad)]===0x0){_0x12bf9a['innerHTML']=_0xf26a(0x272);return;}_0xcefc0f[_0xf26a(0x2c2)](_0x1d8e0e=>{const _0x5b75e0=_0xf26a,_0x1ee16b=document[_0x5b75e0(0x2a6)](_0x5b75e0(0x227));_0x1ee16b['className']=_0x5b75e0(0x293),_0x1ee16b[_0x5b75e0(0x2b6)]=_0x1d8e0e,_0x1ee16b[_0x5b75e0(0x294)]=()=>confirmReschedule(_0x1d8e0e),_0x12bf9a[_0x5b75e0(0x2b4)](_0x1ee16b);});}async function confirmReschedule(_0x71fbba){const _0x2c7de0=a3_0x51a1a8,_0x5e1976=new Date(selectedRsDate),_0x2ecbd6=_0x5e1976['toLocaleDateString'](_0x2c7de0(0x1e5),{'day':_0x2c7de0(0x202),'month':_0x2c7de0(0x210)}),_0x337523=await showCustomConfirm(_0x2c7de0(0x230),_0x2c7de0(0x236)+_0x2ecbd6+_0x2c7de0(0x277)+_0x71fbba+'?',![]);if(!_0x337523)return;closeAllSheets(),showToast(_0x2c7de0(0x1e9)),lastUserActionTime=Date[_0x2c7de0(0x1e0)]();const _0x1538d6=currentSession['dateStr'],_0x5b6981=currentSession['id'],[_0x53bd50,_0xa75b81]=currentSession['start'][_0x2c7de0(0x27b)](':')[_0x2c7de0(0x2a4)](Number),[_0x5521b5,_0x3650d3]=currentSession['end'][_0x2c7de0(0x27b)](':')['map'](Number),_0x1c148d=_0x5521b5*0x3c+_0x3650d3-(_0x53bd50*0x3c+_0xa75b81),[_0x18f58c,_0x1c40d9]=_0x71fbba[_0x2c7de0(0x27b)](':')['map'](Number),_0x8dc2a6=_0x18f58c*0x3c+_0x1c40d9+_0x1c148d,_0x5f1203=Math['floor'](_0x8dc2a6/0x3c),_0x265570=_0x8dc2a6%0x3c,_0x24ab07=String(_0x5f1203)[_0x2c7de0(0x242)](0x2,'0')+':'+String(_0x265570)[_0x2c7de0(0x242)](0x2,'0'),_0x492de6=sessions[_0x2c7de0(0x23b)](_0x2e7d72=>_0x2e7d72['id']===_0x5b6981);_0x492de6!==-0x1&&(sessions[_0x492de6][_0x2c7de0(0x1da)]=selectedRsDate,sessions[_0x492de6]['start']=_0x71fbba,sessions[_0x492de6][_0x2c7de0(0x1ef)]=_0x24ab07,reRenderBlocks());try{const _0x5f0da7=window[_0x2c7de0(0x21d)]?.[_0x2c7de0(0x29b)],_0x148a0e=await fetch(API_URL,{'method':_0x2c7de0(0x240),'body':JSON[_0x2c7de0(0x213)]({'action':_0x2c7de0(0x260),'init_data':_0x5f0da7?.[_0x2c7de0(0x28f)]||'','oldSessionId':_0x5b6981,'oldDate':_0x1538d6,'newDate':selectedRsDate,'newTime':_0x71fbba,'coachId':currentSession[_0x2c7de0(0x20c)]})}),_0x10601a=await _0x148a0e['json']();!_0x10601a['ok']?(showToast(_0x2c7de0(0x234)),DataManager[_0x2c7de0(0x26b)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x470ec3){showToast(_0x2c7de0(0x2b7));}}document[a3_0x51a1a8(0x20a)](a3_0x51a1a8(0x22d),init);