function a3_0x3b17(_0x106f46,_0x19830a){_0x106f46=_0x106f46-0x1c9;const _0x36d046=a3_0x19d4();let _0x53ab7e=_0x36d046[_0x106f46];return _0x53ab7e;}const a3_0x349ff1=a3_0x3b17;(function(_0x2e77fe,_0x164b5e){const _0x14a05d=a3_0x3b17,_0xa42c25=_0x2e77fe();while(!![]){try{const _0x10b653=-parseInt(_0x14a05d(0x1ca))/0x1+parseInt(_0x14a05d(0x2b6))/0x2+parseInt(_0x14a05d(0x1e4))/0x3+parseInt(_0x14a05d(0x2a2))/0x4*(-parseInt(_0x14a05d(0x288))/0x5)+parseInt(_0x14a05d(0x277))/0x6*(parseInt(_0x14a05d(0x296))/0x7)+-parseInt(_0x14a05d(0x22d))/0x8*(parseInt(_0x14a05d(0x210))/0x9)+parseInt(_0x14a05d(0x286))/0xa*(parseInt(_0x14a05d(0x24d))/0xb);if(_0x10b653===_0x164b5e)break;else _0xa42c25['push'](_0xa42c25['shift']());}catch(_0x17b3c8){_0xa42c25['push'](_0xa42c25['shift']());}}}(a3_0x19d4,0x1a105));const APP_VERSION=a3_0x349ff1(0x2b3),API_URL=a3_0x349ff1(0x279),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x349ff1(0x1d8),KEY_CLIENTS=a3_0x349ff1(0x2b4);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x349ff1(0x203),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x17dac0=a3_0x349ff1,_0x6ffce9=(function(){let _0x1e5727=!![];return function(_0x19bd34,_0x4df819){const _0x4dc8be=_0x1e5727?function(){if(_0x4df819){const _0x1844d0=_0x4df819['apply'](_0x19bd34,arguments);return _0x4df819=null,_0x1844d0;}}:function(){};return _0x1e5727=![],_0x4dc8be;};}()),_0x151181=_0x6ffce9(this,function(){const _0x4a9819=a3_0x3b17;return _0x151181['toString']()['search']('(((.+)+)+)+$')[_0x4a9819(0x235)]()[_0x4a9819(0x2a5)](_0x151181)['search']('(((.+)+)+)+$');});_0x151181();try{const _0x209b51=window['Telegram']?.[_0x17dac0(0x29d)];if(!_0x209b51)return;_0x209b51[_0x17dac0(0x1f2)](),_0x209b51['expand']();try{_0x209b51['setHeaderColor']('#050505'),_0x209b51[_0x17dac0(0x1f1)]&&_0x209b51[_0x17dac0(0x1f1)]('#050505');}catch(_0x268337){console[_0x17dac0(0x22c)](_0x17dac0(0x23e),_0x268337);}try{_0x209b51[_0x17dac0(0x24f)]&&(_0x209b51[_0x17dac0(0x24f)][_0x17dac0(0x23d)](),_0x209b51[_0x17dac0(0x24f)][_0x17dac0(0x23a)](),_0x209b51['BackButton']['onClick'](function(){const _0x51eb9c=_0x17dac0;window['location'][_0x51eb9c(0x29c)]=_0x51eb9c(0x219);}));}catch(_0x54e14d){console[_0x17dac0(0x22c)]('Error\x20setting\x20back\x20button:',_0x54e14d);}try{if(_0x209b51[_0x17dac0(0x25e)])_0x209b51[_0x17dac0(0x25e)]();}catch(_0x312c6f){}}catch(_0x4fa19c){console[_0x17dac0(0x1ef)](_0x17dac0(0x262),_0x4fa19c);}}());function isAdmin(){const _0x11a810=a3_0x349ff1;try{const _0x3fde62=Number(window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x11a810(0x1d5)]?.['id']);return _0x3fde62===0xbaf7174;}catch(_0x1cf0cd){return![];}}const DataManager={'saveLocally'(){const _0x503e44=a3_0x349ff1;try{localStorage[_0x503e44(0x278)](KEY_SESSIONS,JSON[_0x503e44(0x26c)](sessions)),localStorage[_0x503e44(0x278)](KEY_CLIENTS,JSON[_0x503e44(0x26c)](clients)),localStorage[_0x503e44(0x278)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3210d4){}},'loadLocal'(){const _0x7be21d=a3_0x349ff1;try{const _0x113b39=localStorage[_0x7be21d(0x2a8)](KEY_SESSIONS);if(_0x113b39)sessions=JSON[_0x7be21d(0x2c1)](_0x113b39);const _0x4ab6ab=localStorage[_0x7be21d(0x2a8)](KEY_CLIENTS);if(_0x4ab6ab)clients=JSON['parse'](_0x4ab6ab);const _0x178efa=localStorage['getItem'](KEY_SETTINGS);if(_0x178efa){const _0x50ac6a=JSON[_0x7be21d(0x2c1)](_0x178efa);if(_0x50ac6a[_0x7be21d(0x207)])availabilityPattern=_0x50ac6a['pattern'];if(_0x50ac6a[_0x7be21d(0x2bc)])specialRanges=_0x50ac6a['ranges'];if(_0x50ac6a[_0x7be21d(0x266)])dateExceptions=_0x50ac6a['exceptions'];}}catch(_0x40826b){}},async 'syncLoad'(){const _0x2b5d45=a3_0x349ff1,_0x2a0236=new Date(),_0x14fa4c=_0x2a0236[_0x2b5d45(0x267)]()+'-'+String(_0x2a0236['getMonth']()+0x1)[_0x2b5d45(0x2a7)](0x2,'0'),_0x1b4339=new Date(_0x2a0236);_0x1b4339[_0x2b5d45(0x24a)](_0x2a0236['getMonth']()+0x1);const _0x46e63d=_0x1b4339['getFullYear']()+'-'+String(_0x1b4339[_0x2b5d45(0x237)]()+0x1)[_0x2b5d45(0x2a7)](0x2,'0'),_0x1720a0=Date[_0x2b5d45(0x2ab)]();try{const _0x1661e1=window[_0x2b5d45(0x2bf)]?.['WebApp'],_0x47d7f9=_0x1661e1?.[_0x2b5d45(0x224)]||'',[_0x1b61fb,_0x5dac74]=await Promise[_0x2b5d45(0x2a9)]([fetch(API_URL,{'method':_0x2b5d45(0x1e5),'body':JSON[_0x2b5d45(0x26c)]({'action':_0x2b5d45(0x258),'init_data':_0x47d7f9,'month_str':_0x14fa4c})})['then'](_0xd74243=>_0xd74243[_0x2b5d45(0x209)]()),fetch(API_URL,{'method':_0x2b5d45(0x1e5),'body':JSON[_0x2b5d45(0x26c)]({'action':_0x2b5d45(0x258),'init_data':_0x47d7f9,'month_str':_0x46e63d})})[_0x2b5d45(0x1d4)](_0x1e5f48=>_0x1e5f48[_0x2b5d45(0x209)]())]);if(lastUserActionTime>_0x1720a0){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x1b61fb['ok'])this['applyData'](_0x1b61fb[_0x2b5d45(0x1f8)],_0x14fa4c);if(_0x5dac74['ok'])this[_0x2b5d45(0x294)](_0x5dac74[_0x2b5d45(0x1f8)],_0x46e63d);this[_0x2b5d45(0x247)]();}catch(_0x3e36dd){}},'applyData'(_0x574e37,_0x4ba0fb){const _0x4062eb=a3_0x349ff1;if(!_0x574e37)return;if(_0x574e37[_0x4062eb(0x240)]){if(_0x574e37[_0x4062eb(0x240)][_0x4062eb(0x207)])availabilityPattern=_0x574e37['settings']['pattern'];if(_0x574e37[_0x4062eb(0x240)][_0x4062eb(0x2bc)])specialRanges=_0x574e37[_0x4062eb(0x240)]['ranges'];if(_0x574e37[_0x4062eb(0x240)][_0x4062eb(0x266)])dateExceptions=_0x574e37[_0x4062eb(0x240)][_0x4062eb(0x266)];}if(_0x574e37[_0x4062eb(0x212)]&&Array[_0x4062eb(0x2aa)](_0x574e37[_0x4062eb(0x212)]))clients=_0x574e37[_0x4062eb(0x212)];_0x574e37[_0x4062eb(0x1cd)]&&(coachProfiles={...coachProfiles,..._0x574e37[_0x4062eb(0x1cd)]}),_0x574e37[_0x4062eb(0x220)]&&(sessions=sessions[_0x4062eb(0x231)](_0x4f5d9f=>!_0x4f5d9f[_0x4062eb(0x1fb)][_0x4062eb(0x20f)](_0x4ba0fb)),Object[_0x4062eb(0x20e)](_0x574e37[_0x4062eb(0x220)])['forEach'](_0x523a1e=>{const _0x3b2c9c=_0x4062eb,_0x438c9e=_0x574e37[_0x3b2c9c(0x220)][_0x523a1e];_0x438c9e['forEach'](_0x2893d5=>{const _0x2cadf9=_0x3b2c9c;sessions[_0x2cadf9(0x23f)]({'id':_0x2893d5['i'],'clientId':_0x2893d5['c'],'coachId':_0x2893d5[_0x2cadf9(0x21c)],'dateStr':_0x4ba0fb+'-'+_0x523a1e[_0x2cadf9(0x2a7)](0x2,'0'),'start':_0x2893d5['s'],'end':_0x2893d5['e'],'note':_0x2893d5['n']||'','status':_0x2893d5['st']||_0x2cadf9(0x273),'seriesId':_0x2893d5[_0x2cadf9(0x1db)]});});})),reRenderBlocks();}};function init(){const _0x265d23=a3_0x349ff1;DataManager[_0x265d23(0x26b)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x265d23(0x299)](_0x265d23(0x25a))[_0x265d23(0x284)](_0x265d23(0x20a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x265d23(0x238)]();}function renderTimeColumn(){const _0x5e7d7c=a3_0x349ff1,_0x25be81=document[_0x5e7d7c(0x299)](_0x5e7d7c(0x28e)),_0x2dab3d=document[_0x5e7d7c(0x299)](_0x5e7d7c(0x2a6));_0x25be81[_0x5e7d7c(0x1d1)]='',_0x25be81[_0x5e7d7c(0x1fa)](_0x2dab3d);for(let _0x21bfb7=0x0;_0x21bfb7<0x18;_0x21bfb7++){const _0x3d9ffa=document[_0x5e7d7c(0x2b8)](_0x5e7d7c(0x28a));_0x3d9ffa[_0x5e7d7c(0x2b9)]=_0x5e7d7c(0x274);if(_0x21bfb7>0x0)_0x3d9ffa[_0x5e7d7c(0x1d1)]=_0x5e7d7c(0x27c)+String(_0x21bfb7)[_0x5e7d7c(0x2a7)](0x2,'0')+_0x5e7d7c(0x26f);_0x25be81['appendChild'](_0x3d9ffa);}}function renderDayRange(_0x1d1fc6,_0x1e5846){const _0x321943=a3_0x349ff1,_0x3eb2c7=document[_0x321943(0x299)](_0x321943(0x269)),_0x401a40=document[_0x321943(0x299)]('gridColumns'),_0x11e387=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x388f04=new Date();_0x388f04[_0x321943(0x1d6)](0x0,0x0,0x0,0x0);const _0x21b357=getLocalDateStr(new Date());for(let _0x44c413=_0x1d1fc6;_0x44c413<=_0x1e5846;_0x44c413++){const _0x4e43b9=new Date(_0x388f04);_0x4e43b9[_0x321943(0x1dd)](_0x4e43b9[_0x321943(0x297)]()+_0x44c413);const _0x226508=getLocalDateStr(_0x4e43b9);let _0x3ad468=_0x4e43b9[_0x321943(0x1d9)]()-0x1;if(_0x3ad468===-0x1)_0x3ad468=0x6;const _0x2336d5=_0x226508===_0x21b357,_0x20662e=document[_0x321943(0x2b8)](_0x321943(0x28a));_0x20662e[_0x321943(0x2b9)]=_0x321943(0x249)+(_0x2336d5?'today':''),_0x20662e[_0x321943(0x1c9)](_0x321943(0x22f),_0x226508),_0x20662e[_0x321943(0x1d1)]=_0x321943(0x2ad)+_0x11e387[_0x3ad468]+_0x321943(0x1ce)+_0x4e43b9['getDate']()+_0x321943(0x1f7),_0x3eb2c7[_0x321943(0x1fa)](_0x20662e);const _0x105585=document[_0x321943(0x2b8)](_0x321943(0x28a));_0x105585[_0x321943(0x2b9)]=_0x321943(0x259)+(_0x2336d5?'today':''),_0x105585[_0x321943(0x1c9)]('data-date',_0x226508),_0x105585['setAttribute'](_0x321943(0x24b),_0x3ad468),_0x401a40[_0x321943(0x1fa)](_0x105585);}}function reRenderBlocks(){const _0x8dfa9c=a3_0x349ff1;document[_0x8dfa9c(0x225)](_0x8dfa9c(0x255))[_0x8dfa9c(0x245)](_0x13d450=>{const _0x3ea026=_0x8dfa9c;_0x13d450[_0x3ea026(0x225)](_0x3ea026(0x1fd))['forEach'](_0x171927=>_0x171927[_0x3ea026(0x28c)]());const _0x262bc4=_0x13d450[_0x3ea026(0x1ff)]('data-date'),_0x39d2a1=parseInt(_0x13d450[_0x3ea026(0x1ff)](_0x3ea026(0x24b))),_0x19fc0b=Math[_0x3ea026(0x27d)](_0x13d450[_0x3ea026(0x1f9)]);(availabilityPattern[_0x39d2a1]||[])['forEach'](_0x1f8241=>{const _0x5a8ea4=_0x3ea026,_0x51ca30=document[_0x5a8ea4(0x2b8)](_0x5a8ea4(0x28a));_0x51ca30[_0x5a8ea4(0x2b9)]=_0x5a8ea4(0x2be),_0x51ca30[_0x5a8ea4(0x217)][_0x5a8ea4(0x227)]=_0x1f8241*GRID_H+'px',_0x51ca30[_0x5a8ea4(0x217)][_0x5a8ea4(0x1df)]='-'+_0x19fc0b+_0x5a8ea4(0x1d3)+_0x1f8241*GRID_H+'px',_0x13d450[_0x5a8ea4(0x1fa)](_0x51ca30);});if(specialRanges['length']>0x0){const _0x1fab0=new Date(_0x262bc4+_0x3ea026(0x29e))[_0x3ea026(0x2a4)](),_0xcfb077=new Date(_0x262bc4+_0x3ea026(0x200))[_0x3ea026(0x2a4)]();specialRanges['forEach'](_0x3484a0=>{const _0x191a0d=_0x3ea026,_0x27782f=new Date(_0x3484a0[_0x191a0d(0x280)])[_0x191a0d(0x2a4)](),_0x5cea89=new Date(_0x3484a0[_0x191a0d(0x264)])['getTime'](),_0x341411=Math[_0x191a0d(0x25f)](_0x1fab0,_0x27782f),_0x57ba3e=Math[_0x191a0d(0x226)](_0xcfb077,_0x5cea89);if(_0x341411<_0x57ba3e){const _0x5c2c90=(_0x341411-_0x1fab0)/0x36ee80*GRID_H,_0x4d03c0=(_0x57ba3e-_0x341411)/0x36ee80*GRID_H,_0x26e1b2=document[_0x191a0d(0x2b8)](_0x191a0d(0x28a));_0x4d03c0>=23.5*GRID_H?(_0x26e1b2[_0x191a0d(0x2b9)]=_0x191a0d(0x254),_0x26e1b2['style'][_0x191a0d(0x1df)]='-'+_0x19fc0b+'px\x200px'):(_0x26e1b2['className']=_0x191a0d(0x2af),_0x26e1b2['style'][_0x191a0d(0x227)]=_0x5c2c90+'px',_0x26e1b2[_0x191a0d(0x217)][_0x191a0d(0x246)]=_0x4d03c0+'px',_0x26e1b2[_0x191a0d(0x217)][_0x191a0d(0x1df)]='-'+_0x19fc0b+_0x191a0d(0x1d3)+_0x5c2c90+'px'),_0x13d450[_0x191a0d(0x1fa)](_0x26e1b2);}});}renderEventsForColumn(_0x13d450,_0x262bc4);});}function renderEventsForColumn(_0x20ef3a,_0x21b444){const _0x15a569=a3_0x349ff1,_0x17ade4=sessions[_0x15a569(0x231)](_0x7d74aa=>_0x7d74aa[_0x15a569(0x1fb)]===_0x21b444),_0x1b4552=_0x17ade4[_0x15a569(0x257)](_0x3ed3a2=>{const _0x19a596=_0x15a569,[_0x2320c4,_0x4ae936]=_0x3ed3a2[_0x19a596(0x280)][_0x19a596(0x2ae)](':')[_0x19a596(0x257)](Number),[_0x52b2a1,_0x963a3f]=_0x3ed3a2[_0x19a596(0x264)][_0x19a596(0x2ae)](':')[_0x19a596(0x257)](Number);return{'data':_0x3ed3a2,'start':_0x2320c4*0x3c+_0x4ae936,'end':_0x52b2a1*0x3c+_0x963a3f,'colIndex':0x0};});_0x1b4552['sort']((_0xf4a8be,_0x9407a1)=>_0xf4a8be[_0x15a569(0x280)]-_0x9407a1[_0x15a569(0x280)]||_0x9407a1[_0x15a569(0x264)]-_0x9407a1[_0x15a569(0x280)]-(_0xf4a8be[_0x15a569(0x264)]-_0xf4a8be['start']));const _0x36d1f1=[];_0x1b4552[_0x15a569(0x245)](_0x1ab9c6=>{const _0x5d5140=_0x15a569;let _0x1dce3d=![];for(let _0x47902a=0x0;_0x47902a<_0x36d1f1['length'];_0x47902a++){const _0x3d8762=_0x36d1f1[_0x47902a];if(_0x1ab9c6['start']>=_0x3d8762[_0x3d8762[_0x5d5140(0x289)]-0x1][_0x5d5140(0x264)]){_0x3d8762[_0x5d5140(0x23f)](_0x1ab9c6),_0x1ab9c6[_0x5d5140(0x20b)]=_0x47902a,_0x1dce3d=!![];break;}}!_0x1dce3d&&(_0x36d1f1[_0x5d5140(0x23f)]([_0x1ab9c6]),_0x1ab9c6[_0x5d5140(0x20b)]=_0x36d1f1['length']-0x1);}),_0x1b4552[_0x15a569(0x245)](_0x27d28a=>{const _0x2e7806=_0x15a569;let _0x5d4568=0x0;_0x1b4552[_0x2e7806(0x245)](_0x43a680=>{const _0x2d4ddc=_0x2e7806;if(Math[_0x2d4ddc(0x25f)](_0x27d28a[_0x2d4ddc(0x280)],_0x43a680[_0x2d4ddc(0x280)])<Math[_0x2d4ddc(0x226)](_0x27d28a['end'],_0x43a680[_0x2d4ddc(0x264)])&&_0x43a680['colIndex']>_0x5d4568)_0x5d4568=_0x43a680[_0x2d4ddc(0x20b)];});const _0x6677e=_0x5d4568+0x1,_0x756a5c=0x64/_0x6677e,_0x4fe068=_0x27d28a[_0x2e7806(0x20b)]*_0x756a5c,_0x2a645c=document[_0x2e7806(0x2b8)](_0x2e7806(0x28a)),_0x1eb08b=_0x27d28a[_0x2e7806(0x1f8)];let _0x5263a2='#0a84ff';if(clients&&clients[_0x2e7806(0x289)]>0x0){const _0x50b19b=clients[_0x2e7806(0x1d7)](_0x1ca601=>String(_0x1ca601['id'])===String(_0x1eb08b['clientId']));if(_0x50b19b&&_0x50b19b[_0x2e7806(0x1fc)])_0x5263a2=_0x50b19b[_0x2e7806(0x1fc)];}const _0x320c7e=_0x1eb08b[_0x2e7806(0x250)]===_0x2e7806(0x1ee),_0x1b0148=_0x320c7e?0x1:0.45;_0x2a645c[_0x2e7806(0x2b9)]='event-card'+(_0x320c7e?_0x2e7806(0x2b1):''),_0x2a645c[_0x2e7806(0x217)]['backgroundColor']=hexToRgba(_0x5263a2,_0x1b0148),_0x2a645c[_0x2e7806(0x217)][_0x2e7806(0x256)]=_0x5263a2;const _0x2e30dc=_0x27d28a[_0x2e7806(0x280)]/0x3c*GRID_H,_0x369eb9=(_0x27d28a[_0x2e7806(0x264)]-_0x27d28a[_0x2e7806(0x280)])/0x3c*GRID_H;_0x2a645c['style']['top']=_0x2e30dc+'px',_0x2a645c[_0x2e7806(0x217)]['height']=Math['max'](_0x369eb9,0x14)+'px',_0x2a645c[_0x2e7806(0x217)]['width']=_0x2e7806(0x1ed)+_0x756a5c+_0x2e7806(0x2ac),_0x2a645c[_0x2e7806(0x217)][_0x2e7806(0x1f6)]=_0x2e7806(0x1ed)+_0x4fe068+_0x2e7806(0x268),_0x2a645c[_0x2e7806(0x217)][_0x2e7806(0x285)]=0xa+_0x27d28a[_0x2e7806(0x20b)];if(_0x756a5c<0x55)_0x2a645c[_0x2e7806(0x283)][_0x2e7806(0x2bd)](_0x2e7806(0x204));let _0x206765='';if(_0x1eb08b[_0x2e7806(0x28d)])_0x206765+=_0x2e7806(0x221);if(_0x320c7e)_0x206765+=_0x2e7806(0x229);_0x2a645c[_0x2e7806(0x1d1)]=_0x2e7806(0x29f)+_0x1eb08b[_0x2e7806(0x280)]+'\x20-\x20'+_0x1eb08b[_0x2e7806(0x264)]+_0x2e7806(0x27e)+_0x206765+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a645c[_0x2e7806(0x239)]=_0x596711=>{const _0x495562=_0x2e7806;_0x596711[_0x495562(0x213)](),openDetails(_0x1eb08b);},_0x20ef3a[_0x2e7806(0x1fa)](_0x2a645c);});}function openAnalytics(){const _0xfe2862=a3_0x349ff1,_0x5d90aa=document[_0xfe2862(0x27f)](_0xfe2862(0x2c0));setAnalyticsPeriod(_0xfe2862(0x203),_0x5d90aa),openSheet(_0xfe2862(0x28b));}function setAnalyticsPeriod(_0x493ba4,_0x53a798){const _0x42691d=a3_0x349ff1;currentAnPeriod=_0x493ba4,document[_0x42691d(0x225)](_0x42691d(0x2c0))[_0x42691d(0x245)](_0x1e4b5c=>_0x1e4b5c[_0x42691d(0x283)][_0x42691d(0x28c)](_0x42691d(0x275)));if(_0x53a798)_0x53a798[_0x42691d(0x283)][_0x42691d(0x2bd)]('active');const _0x1b3815=document[_0x42691d(0x299)](_0x42691d(0x1e7));_0x1b3815['style'][_0x42691d(0x215)]=_0x493ba4==='custom'?'flex':_0x42691d(0x242);const _0x1c8bb6=new Date();let _0x348bc6=new Date(),_0x7c06d2=new Date();if(_0x493ba4===_0x42691d(0x203))_0x348bc6=getStartOfWeek(_0x1c8bb6),_0x7c06d2=new Date(_0x348bc6),_0x7c06d2[_0x42691d(0x1dd)](_0x7c06d2[_0x42691d(0x297)]()+0x6);else{if(_0x493ba4===_0x42691d(0x1e2))_0x348bc6=new Date(_0x1c8bb6[_0x42691d(0x267)](),_0x1c8bb6[_0x42691d(0x237)](),0x1),_0x7c06d2=new Date(_0x1c8bb6[_0x42691d(0x267)](),_0x1c8bb6['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x42691d(0x208))['value']&&(document[_0x42691d(0x299)](_0x42691d(0x208))['value']=getLocalDateStr(_0x1c8bb6),document[_0x42691d(0x299)](_0x42691d(0x22b))[_0x42691d(0x216)]=getLocalDateStr(_0x1c8bb6));refreshAnalytics();return;}}document[_0x42691d(0x299)]('anStart')['value']=getLocalDateStr(_0x348bc6),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x7c06d2),refreshAnalytics();}function refreshAnalytics(){const _0x2d0251=a3_0x349ff1,_0x3731cf=document[_0x2d0251(0x299)](_0x2d0251(0x208))['value'],_0x13a9c3=document[_0x2d0251(0x299)](_0x2d0251(0x22b))[_0x2d0251(0x216)];if(!_0x3731cf||!_0x13a9c3)return;const _0x22ac2b=sessions[_0x2d0251(0x231)](_0x22bcfb=>_0x22bcfb[_0x2d0251(0x1fb)]>=_0x3731cf&&_0x22bcfb['dateStr']<=_0x13a9c3&&_0x22bcfb[_0x2d0251(0x250)]!==_0x2d0251(0x1dc)),_0x2adc83=_0x22ac2b[_0x2d0251(0x289)],_0x4d8ed6=_0x22ac2b['filter'](_0x17affc=>_0x17affc[_0x2d0251(0x250)]===_0x2d0251(0x1ee))['length'],_0x9cb88b=_0x2adc83>0x0?Math[_0x2d0251(0x27d)](_0x4d8ed6/_0x2adc83*0x64):0x0;document[_0x2d0251(0x299)](_0x2d0251(0x241))['textContent']=_0x9cb88b+'%',document['getElementById']('anTotalStats')[_0x2d0251(0x21b)]=_0x4d8ed6+_0x2d0251(0x234)+_0x2adc83+_0x2d0251(0x276);const _0x3ab41d=document[_0x2d0251(0x299)](_0x2d0251(0x2a3)),_0x4d01b6=0x2*Math['PI']*0x23,_0x5522a7=_0x4d01b6-_0x9cb88b/0x64*_0x4d01b6;_0x3ab41d[_0x2d0251(0x217)][_0x2d0251(0x1f5)]=_0x5522a7;const _0x555a72={};_0x22ac2b['forEach'](_0x26ad23=>{const _0x219b69=_0x2d0251,_0x1b8385=_0x26ad23[_0x219b69(0x2b0)]||_0x219b69(0x282);if(!_0x555a72[_0x1b8385]){const _0x141cac='#'+_0x1b8385['toString']()[_0x219b69(0x261)](0x0,0x6);_0x555a72[_0x1b8385]={'total':0x0,'done':0x0,'color':_0x141cac};}_0x555a72[_0x1b8385]['total']++;if(_0x26ad23[_0x219b69(0x250)]===_0x219b69(0x1ee))_0x555a72[_0x1b8385][_0x219b69(0x1f3)]++;});const _0x2cc8b5=document[_0x2d0251(0x299)](_0x2d0251(0x2c2));_0x2cc8b5['innerHTML']='';const _0x548779=Object[_0x2d0251(0x252)](_0x555a72)[_0x2d0251(0x22e)]((_0x868613,_0x31aedf)=>_0x31aedf[0x1][_0x2d0251(0x1e1)]-_0x868613[0x1]['total']);if(_0x548779['length']===0x0){_0x2cc8b5[_0x2d0251(0x1d1)]=_0x2d0251(0x222);return;}_0x548779[_0x2d0251(0x245)](([_0x1572f7,_0x2f6e98])=>{const _0x4e83c5=_0x2d0251,_0x33cbc8=Math[_0x4e83c5(0x27d)](_0x2f6e98[_0x4e83c5(0x1f3)]/_0x2f6e98[_0x4e83c5(0x1e1)]*0x64),_0xb4deac=document[_0x4e83c5(0x2b8)](_0x4e83c5(0x28a));_0xb4deac[_0x4e83c5(0x2b9)]='client-stat-card',_0xb4deac[_0x4e83c5(0x217)][_0x4e83c5(0x256)]=_0x2f6e98[_0x4e83c5(0x1fc)],_0xb4deac[_0x4e83c5(0x1d1)]=_0x4e83c5(0x26e)+_0x1572f7[_0x4e83c5(0x261)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2f6e98[_0x4e83c5(0x1f3)]+_0x4e83c5(0x206)+_0x2f6e98[_0x4e83c5(0x1e1)]+_0x4e83c5(0x21a)+_0x33cbc8+_0x4e83c5(0x26d),_0x2cc8b5[_0x4e83c5(0x1fa)](_0xb4deac);});}function openDetails(_0x36a96c){const _0x12e435=a3_0x349ff1;currentSession=_0x36a96c;const _0x5946af=new Date(_0x36a96c[_0x12e435(0x1fb)]),_0x3c9ea5=_0x5946af[_0x12e435(0x2ba)](_0x12e435(0x263),{'weekday':_0x12e435(0x211),'day':_0x12e435(0x1ea),'month':'long'});document[_0x12e435(0x299)](_0x12e435(0x2b5))[_0x12e435(0x21b)]=_0x3c9ea5[_0x12e435(0x205)](0x0)['toUpperCase']()+_0x3c9ea5[_0x12e435(0x2bb)](0x1),document['getElementById'](_0x12e435(0x27b))[_0x12e435(0x21b)]=_0x36a96c[_0x12e435(0x280)]+_0x12e435(0x293)+_0x36a96c[_0x12e435(0x264)],document['getElementById']('detNote')[_0x12e435(0x21b)]=_0x36a96c[_0x12e435(0x21e)]||_0x12e435(0x287);const _0xeab4d2=document[_0x12e435(0x299)]('detStatus'),_0x214489=document[_0x12e435(0x299)](_0x12e435(0x1f4)),_0x34502a=_0x214489[_0x12e435(0x27f)]('.btn-cancel'),_0x4ce7ee=_0x214489[_0x12e435(0x27f)](_0x12e435(0x25c)),_0x64b32=document['getElementById']('cancelHint');if(_0x36a96c[_0x12e435(0x250)]==='completed')_0xeab4d2[_0x12e435(0x21b)]=_0x12e435(0x1e0),_0xeab4d2[_0x12e435(0x217)][_0x12e435(0x1fc)]=_0x12e435(0x218),_0x214489[_0x12e435(0x217)][_0x12e435(0x215)]='none';else{_0xeab4d2[_0x12e435(0x21b)]=_0x12e435(0x1da),_0xeab4d2['style']['color']='var(--acc-blue)',_0x214489[_0x12e435(0x217)][_0x12e435(0x215)]='block';const _0x541f81=new Date(_0x36a96c[_0x12e435(0x1fb)]+'T'+_0x36a96c[_0x12e435(0x280)]),_0x20d30f=new Date(),_0x396255=(_0x541f81-_0x20d30f)/(0x3e8*0x3c*0x3c),_0x34ee0f=coachProfiles[_0x36a96c['coachId']]&&coachProfiles[_0x36a96c[_0x12e435(0x2b0)]]['cancel_window']?parseInt(coachProfiles[_0x36a96c['coachId']]['cancel_window']):0x18;if(_0x34ee0f===0x0||_0x396255>=_0x34ee0f)_0x34502a[_0x12e435(0x217)]['display']=_0x12e435(0x1eb),_0x4ce7ee[_0x12e435(0x217)][_0x12e435(0x215)]=_0x12e435(0x1eb),_0x64b32['style'][_0x12e435(0x215)]=_0x12e435(0x242);else{_0x34502a[_0x12e435(0x217)][_0x12e435(0x215)]='none',_0x4ce7ee[_0x12e435(0x217)][_0x12e435(0x215)]=_0x12e435(0x242),_0x64b32[_0x12e435(0x217)][_0x12e435(0x215)]=_0x12e435(0x1eb);let _0x52037b=_0x34ee0f===0x0?_0x12e435(0x2b7):'–∑–∞\x20'+_0x34ee0f+_0x12e435(0x1e6);_0x64b32[_0x12e435(0x21b)]=_0x12e435(0x271)+_0x52037b+_0x12e435(0x25b);}}document[_0x12e435(0x299)](_0x12e435(0x1e3))[_0x12e435(0x283)][_0x12e435(0x2bd)]('active'),document[_0x12e435(0x299)]('detailsSheet')[_0x12e435(0x283)][_0x12e435(0x2bd)](_0x12e435(0x201));}function closeAllSheets(){const _0x313f7c=a3_0x349ff1;document[_0x313f7c(0x299)]('overlay')['classList'][_0x313f7c(0x28c)](_0x313f7c(0x275)),document[_0x313f7c(0x225)](_0x313f7c(0x23b))['forEach'](_0x4537ba=>_0x4537ba[_0x313f7c(0x283)][_0x313f7c(0x28c)]('open'));}function openSheet(_0x47d496){const _0x2e8633=a3_0x349ff1;document[_0x2e8633(0x299)](_0x2e8633(0x1e3))[_0x2e8633(0x283)][_0x2e8633(0x2bd)]('active'),document['getElementById'](_0x47d496)[_0x2e8633(0x283)][_0x2e8633(0x2bd)](_0x2e8633(0x201));}function getLocalDateStr(_0x1c39f5){const _0x350549=a3_0x349ff1,_0x1f3711=_0x1c39f5[_0x350549(0x267)](),_0x2ea517=String(_0x1c39f5[_0x350549(0x237)]()+0x1)[_0x350549(0x2a7)](0x2,'0'),_0x7009df=String(_0x1c39f5[_0x350549(0x297)]())[_0x350549(0x2a7)](0x2,'0');return _0x1f3711+'-'+_0x2ea517+'-'+_0x7009df;}function getStartOfWeek(_0x140053){const _0x4cc5e3=a3_0x349ff1,_0x7888b6=new Date(_0x140053),_0x1b5aba=_0x7888b6['getDay'](),_0x2e16e8=_0x7888b6['getDate']()-_0x1b5aba+(_0x1b5aba===0x0?-0x6:0x1);return _0x7888b6[_0x4cc5e3(0x1dd)](_0x2e16e8),_0x7888b6[_0x4cc5e3(0x1d6)](0x0,0x0,0x0,0x0),_0x7888b6;}function scrollToToday(){const _0x25fd6e=getLocalDateStr(new Date());setTimeout(()=>{const _0x40710f=a3_0x3b17,_0x166c5e=document[_0x40710f(0x27f)](_0x40710f(0x202)+_0x25fd6e+'\x22]');if(_0x166c5e){const _0x24971e=document[_0x40710f(0x299)](_0x40710f(0x25a)),_0x295d0d=_0x166c5e[_0x40710f(0x1f9)]-_0x24971e[_0x40710f(0x270)]/0x2+_0x166c5e[_0x40710f(0x1ec)]/0x2;_0x24971e['scrollTo']({'left':_0x295d0d,'behavior':_0x40710f(0x251)}),_0x24971e[_0x40710f(0x228)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x7b246e=a3_0x349ff1,_0x3a8fa5=new Date(),_0x5ab2c0=document[_0x7b246e(0x299)](_0x7b246e(0x1cb)),_0x55dbcd=document[_0x7b246e(0x299)](_0x7b246e(0x2a6)),_0x5271b2=(_0x3a8fa5['getHours']()*0x3c+_0x3a8fa5[_0x7b246e(0x232)]())/0x3c*GRID_H;_0x5ab2c0[_0x7b246e(0x217)]['top']=_0x5271b2+'px',_0x5ab2c0[_0x7b246e(0x217)][_0x7b246e(0x215)]='block',_0x55dbcd[_0x7b246e(0x217)][_0x7b246e(0x227)]=_0x5271b2+'px',_0x55dbcd[_0x7b246e(0x217)]['display']='block',_0x55dbcd['textContent']=String(_0x3a8fa5['getHours']())['padStart'](0x2,'0')+':'+String(_0x3a8fa5[_0x7b246e(0x232)]())[_0x7b246e(0x2a7)](0x2,'0');}function onScroll(){const _0xbb0752=a3_0x349ff1,_0x379dfa=document['getElementById'](_0xbb0752(0x25a)),_0x1909b1=document[_0xbb0752(0x225)]('.day-col-header');for(let _0x366cc2 of _0x1909b1)if(_0x366cc2[_0xbb0752(0x1f9)]>=_0x379dfa[_0xbb0752(0x236)]){const _0x5d5f6e=new Date(_0x366cc2['getAttribute'](_0xbb0752(0x22f)));document[_0xbb0752(0x299)](_0xbb0752(0x1f0))[_0xbb0752(0x21b)]=_0x5d5f6e[_0xbb0752(0x28f)]('ru',{'month':_0xbb0752(0x211)})[_0xbb0752(0x233)]()+'\x20'+_0x5d5f6e['getFullYear']();break;}}function showToast(_0x3fffee){const _0x46190c=a3_0x349ff1,_0x449769=document[_0x46190c(0x299)]('toast');_0x449769[_0x46190c(0x21b)]=_0x3fffee,_0x449769[_0x46190c(0x283)]['add'](_0x46190c(0x23d)),setTimeout(()=>_0x449769[_0x46190c(0x283)][_0x46190c(0x28c)](_0x46190c(0x23d)),0x7d0);}function handleInfiniteScroll(){const _0x480342=a3_0x349ff1,_0x1bba86=document[_0x480342(0x299)](_0x480342(0x25a)),_0x1fef05=_0x1bba86[_0x480342(0x236)],_0x5f3e6a=_0x1bba86[_0x480342(0x27a)],_0x2e9ca4=_0x1bba86[_0x480342(0x270)];if(_0x5f3e6a-(_0x1fef05+_0x2e9ca4)<0x12c){const _0x401c9f=endOffset;endOffset+=0xe,renderDayRange(_0x401c9f+0x1,endOffset),reRenderBlocks();}if(_0x1fef05<0x12c){const _0x4e8ecf=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4e8ecf-0x1),_0x1bba86[_0x480342(0x236)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x31c9d1,_0x77722b){const _0x5a1fa1=a3_0x349ff1,_0x481456=document['getElementById'](_0x5a1fa1(0x269)),_0x48e4c2=document['getElementById']('gridColumns'),_0x588e6b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39cb29=new Date();_0x39cb29['setHours'](0x0,0x0,0x0,0x0);const _0x4e781e=getLocalDateStr(new Date()),_0x28bf35=document[_0x5a1fa1(0x292)](),_0x36d450=document[_0x5a1fa1(0x292)]();for(let _0x203dd0=_0x31c9d1;_0x203dd0<=_0x77722b;_0x203dd0++){const _0x1585db=new Date(_0x39cb29);_0x1585db['setDate'](_0x1585db[_0x5a1fa1(0x297)]()+_0x203dd0);const _0x2f74c8=getLocalDateStr(_0x1585db);let _0xf50c2d=_0x1585db[_0x5a1fa1(0x1d9)]()-0x1;if(_0xf50c2d===-0x1)_0xf50c2d=0x6;const _0x84cdd7=_0x2f74c8===_0x4e781e,_0x5795a1=document[_0x5a1fa1(0x2b8)]('div');_0x5795a1['className']=_0x5a1fa1(0x249)+(_0x84cdd7?_0x5a1fa1(0x214):''),_0x5795a1[_0x5a1fa1(0x1c9)](_0x5a1fa1(0x22f),_0x2f74c8),_0x5795a1['innerHTML']=_0x5a1fa1(0x2ad)+_0x588e6b[_0xf50c2d]+_0x5a1fa1(0x1ce)+_0x1585db[_0x5a1fa1(0x297)]()+_0x5a1fa1(0x1f7),_0x28bf35[_0x5a1fa1(0x1fa)](_0x5795a1);const _0x3f4989=document[_0x5a1fa1(0x2b8)]('div');_0x3f4989[_0x5a1fa1(0x2b9)]=_0x5a1fa1(0x259)+(_0x84cdd7?_0x5a1fa1(0x214):''),_0x3f4989[_0x5a1fa1(0x1c9)](_0x5a1fa1(0x22f),_0x2f74c8),_0x3f4989[_0x5a1fa1(0x1c9)](_0x5a1fa1(0x24b),_0xf50c2d),_0x36d450[_0x5a1fa1(0x1fa)](_0x3f4989);}_0x481456[_0x5a1fa1(0x1e8)](_0x28bf35,_0x481456[_0x5a1fa1(0x248)]),_0x48e4c2[_0x5a1fa1(0x1e8)](_0x36d450,_0x48e4c2[_0x5a1fa1(0x27f)]('.day-column'));}function hexToRgba(_0xcc9f24,_0x618c9d){const _0x2e5037=a3_0x349ff1;let _0x1406b8;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2e5037(0x290)](_0xcc9f24))return _0x1406b8=_0xcc9f24[_0x2e5037(0x24e)](0x1)['split'](''),_0x1406b8[_0x2e5037(0x289)]==0x3&&(_0x1406b8=[_0x1406b8[0x0],_0x1406b8[0x0],_0x1406b8[0x1],_0x1406b8[0x1],_0x1406b8[0x2],_0x1406b8[0x2]]),_0x1406b8='0x'+_0x1406b8[_0x2e5037(0x20c)](''),_0x2e5037(0x272)+[_0x1406b8>>0x10&0xff,_0x1406b8>>0x8&0xff,_0x1406b8&0xff][_0x2e5037(0x20c)](',')+','+_0x618c9d+')';return _0x2e5037(0x24c)+_0x618c9d+')';}let confirmResolver=null;function showCustomConfirm(_0x41f85b,_0x4cd516,_0x347e6d=!![]){const _0x5765=a3_0x349ff1;document[_0x5765(0x299)](_0x5765(0x243))[_0x5765(0x21b)]=_0x41f85b,document[_0x5765(0x299)]('ccText')['textContent']=_0x4cd516;const _0x8c6e9e=document[_0x5765(0x299)](_0x5765(0x1cc));return _0x347e6d?(_0x8c6e9e[_0x5765(0x217)][_0x5765(0x1fc)]=_0x5765(0x21d),_0x8c6e9e[_0x5765(0x217)]['fontWeight']='600'):(_0x8c6e9e[_0x5765(0x217)][_0x5765(0x1fc)]=_0x5765(0x22a),_0x8c6e9e[_0x5765(0x217)][_0x5765(0x1d0)]='600'),new Promise(_0x2f59fb=>{const _0x3cc19d=_0x5765;confirmResolver=_0x2f59fb,document['getElementById'](_0x3cc19d(0x1cf))[_0x3cc19d(0x283)]['add'](_0x3cc19d(0x298));});}function resolveCustomConfirm(_0x5e2221){const _0x2c9849=a3_0x349ff1;document[_0x2c9849(0x299)](_0x2c9849(0x1cf))['classList'][_0x2c9849(0x28c)](_0x2c9849(0x298));if(confirmResolver)confirmResolver(_0x5e2221);}async function tryCancelCurrentSession(){const _0x149ead=a3_0x349ff1;if(!currentSession)return;const _0xe7240c=await showCustomConfirm(_0x149ead(0x29a),_0x149ead(0x21f),!![]);if(!_0xe7240c)return;const _0x1f04c8=currentSession;closeAllSheets(),sessions=sessions[_0x149ead(0x231)](_0x2ed204=>_0x2ed204['id']!==_0x1f04c8['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x4ee4be=window['Telegram']?.['WebApp'],_0x32a2f4=await fetch(API_URL,{'method':_0x149ead(0x1e5),'body':JSON[_0x149ead(0x26c)]({'action':_0x149ead(0x1e9),'init_data':_0x4ee4be?.['initData']||'','coachId':_0x1f04c8[_0x149ead(0x2b0)],'dateStr':_0x1f04c8['dateStr'],'sessionId':_0x1f04c8['id']})});if(_0x32a2f4['ok'])DataManager[_0x149ead(0x247)]();}catch(_0x126c13){showToast(_0x149ead(0x20d));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x19d4(){const _0x22baac=['floor','backgroundPosition','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','total','month','overlay','223113Kmntag','POST','\x20—á.','anCustomDates','insertBefore','client_cancel','numeric','block','offsetWidth','calc(','completed','error','headerMonth','setBackgroundColor','ready','done','cancelContainer','strokeDashoffset','left','</div>','data','offsetLeft','appendChild','dateStr','color','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','getAttribute','T23:59:59','open','.day-col-header[data-date=\x22','week','mini','charAt','</span>\x20/\x20','pattern','anStart','json','scroll','colIndex','join','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','keys','startsWith','36JqYdHI','long','clients','stopPropagation','today','display','value','style','var(--acc-green)','router.html','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','textContent','cid','#ff453a','note','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','calendar','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','DOMContentLoaded','initData','querySelectorAll','min','top','scrollTop','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#0a84ff','anEnd','log','55816LdVpir','sort','data-date','button','filter','getMinutes','toUpperCase','\x20–∏–∑\x20','toString','scrollLeft','getMonth','syncLoad','onclick','offClick','.sheet','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','show','Error\x20setting\x20color:','push','settings','anPercent','none','ccTitle','findIndex','forEach','height','saveLocally','firstChild','day-col-header\x20','setMonth','data-day-idx','rgba(10,\x20132,\x20255,\x20','11ylbxnS','substring','BackButton','status','auto','entries','get_slots','day-off-overlay\x20stripe-bg','.day-column','borderLeftColor','map','client_load','day-column\x20','matrixViewport','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','.btn-reschedule','.rs-date-chip','disableVerticalSwipes','max','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','substr','Critical\x20TMA\x20Error:','ru-RU','end','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','exceptions','getFullYear','%\x20+\x202px)','daysHeaderTrack','reschedule','loadLocal','stringify','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#',':00</span>','clientWidth','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','rgba(','planned','time-label','active','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','543846adKgkY','setItem','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','scrollWidth','detTime','<span>','round','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','start','rsSlotsGrid','Unknown','classList','addEventListener','zIndex','1742650eGIEHz','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','5pqAeHY','length','div','analyticsSheet','remove','seriesId','timeColumn','toLocaleString','test','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','createDocumentFragment','\x20-\x20','applyData','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','7EetVWZ','getDate','visible','getElementById','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','rs-time-btn','href','WebApp','T00:00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','</div><div\x20class=\x22rs-day-num\x22>','772556Iwnvlm','anDonutCircle','getTime','constructor','timeLineBadge','padStart','getItem','all','isArray','now','%\x20-\x204px)','<div\x20class=\x22dch-day\x22>','split','blocked-range-part\x20stripe-bg','coachId','\x20status-completed','rescheduleSheet','v9.5-CLIENT-ANALYTICS','uc_client_list','detDate','207792LfeRFP','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','createElement','className','toLocaleDateString','slice','ranges','add','blocked-slot\x20stripe-bg','Telegram','.period-switch\x20.p-btn','parse','analyticsList','setAttribute','115369BZdOTY','globalTimeLine','ccYesBtn','coach_profiles','</div><div\x20class=\x22dch-num\x22>','customConfirm','fontWeight','innerHTML','rsDatesTrack','px\x20-','then','user','setHours','find','uc_client_settings','getDay','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','sid','cancelled','setDate'];a3_0x19d4=function(){return _0x22baac;};return a3_0x19d4();}async function startRescheduleFlow(){const _0x2c2f4c=a3_0x349ff1;if(!currentSession)return;document[_0x2c2f4c(0x299)]('detailsSheet')['classList'][_0x2c2f4c(0x28c)](_0x2c2f4c(0x201)),document[_0x2c2f4c(0x299)](_0x2c2f4c(0x2b2))[_0x2c2f4c(0x283)]['add'](_0x2c2f4c(0x201));const _0x2390f3=document[_0x2c2f4c(0x299)](_0x2c2f4c(0x1d2)),_0x5a8685=document[_0x2c2f4c(0x299)](_0x2c2f4c(0x281));_0x2390f3[_0x2c2f4c(0x1d1)]='',_0x5a8685[_0x2c2f4c(0x1d1)]=_0x2c2f4c(0x2a0);const [_0x94c7,_0xa01313]=currentSession['start'][_0x2c2f4c(0x2ae)](':')[_0x2c2f4c(0x257)](Number),[_0x286670,_0x176a5f]=currentSession[_0x2c2f4c(0x264)][_0x2c2f4c(0x2ae)](':')[_0x2c2f4c(0x257)](Number),_0x58c5b6=_0x286670*0x3c+_0x176a5f-(_0x94c7*0x3c+_0xa01313);try{const _0x41b3b9=window[_0x2c2f4c(0x2bf)]?.[_0x2c2f4c(0x29d)],_0x4fdcac=await fetch(API_URL,{'method':_0x2c2f4c(0x1e5),'body':JSON[_0x2c2f4c(0x26c)]({'action':_0x2c2f4c(0x253),'coachId':currentSession['coachId'],'duration':_0x58c5b6,'init_data':_0x41b3b9?.[_0x2c2f4c(0x224)]||'','excludeSessionId':currentSession['id']})}),_0x5c39dc=await _0x4fdcac[_0x2c2f4c(0x209)]();_0x5c39dc['ok']&&_0x5c39dc[_0x2c2f4c(0x1f8)]?(availableSlotsCache=_0x5c39dc[_0x2c2f4c(0x1f8)],renderRescheduleDates()):_0x5a8685[_0x2c2f4c(0x1d1)]=_0x2c2f4c(0x23c);}catch(_0xb96093){_0x5a8685[_0x2c2f4c(0x1d1)]=_0x2c2f4c(0x291);}}function renderRescheduleDates(){const _0x53d52c=a3_0x349ff1,_0x35e5a8=document[_0x53d52c(0x299)](_0x53d52c(0x1d2));_0x35e5a8[_0x53d52c(0x1d1)]='';const _0x5ac3f7=Object[_0x53d52c(0x20e)](availableSlotsCache)[_0x53d52c(0x22e)](),_0x33a3b8=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5ac3f7[_0x53d52c(0x289)]===0x0){document[_0x53d52c(0x299)](_0x53d52c(0x281))[_0x53d52c(0x1d1)]=_0x53d52c(0x260);return;}_0x5ac3f7[_0x53d52c(0x245)]((_0x2b20e9,_0x3a3df4)=>{const _0x232db9=_0x53d52c,_0x4b5de3=new Date(_0x2b20e9),_0x3f70a1=_0x33a3b8[_0x4b5de3['getDay']()],_0x3b13ba=_0x4b5de3[_0x232db9(0x297)](),_0x4efb6a=document['createElement'](_0x232db9(0x28a));_0x4efb6a[_0x232db9(0x2b9)]='rs-date-chip';if(_0x3a3df4===0x0)_0x4efb6a[_0x232db9(0x283)][_0x232db9(0x2bd)](_0x232db9(0x275));_0x4efb6a['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x3f70a1+_0x232db9(0x2a1)+_0x3b13ba+_0x232db9(0x1f7),_0x4efb6a[_0x232db9(0x239)]=()=>selectRsDate(_0x2b20e9,_0x4efb6a),_0x35e5a8[_0x232db9(0x1fa)](_0x4efb6a);}),selectRsDate(_0x5ac3f7[0x0],_0x35e5a8['firstChild']);}function selectRsDate(_0x4b9704,_0x5e8bb1){const _0x5c2b11=a3_0x349ff1;selectedRsDate=_0x4b9704,document[_0x5c2b11(0x225)](_0x5c2b11(0x25d))['forEach'](_0x458ab2=>_0x458ab2[_0x5c2b11(0x283)]['remove'](_0x5c2b11(0x275)));if(_0x5e8bb1)_0x5e8bb1['classList'][_0x5c2b11(0x2bd)](_0x5c2b11(0x275));const _0x9188f6=document[_0x5c2b11(0x299)]('rsSlotsGrid');_0x9188f6[_0x5c2b11(0x1d1)]='';const _0x3daf89=availableSlotsCache[_0x4b9704]||[];if(_0x3daf89[_0x5c2b11(0x289)]===0x0){_0x9188f6[_0x5c2b11(0x1d1)]=_0x5c2b11(0x23c);return;}_0x3daf89['forEach'](_0xf16daa=>{const _0x5482b3=_0x5c2b11,_0x3db5cc=document[_0x5482b3(0x2b8)](_0x5482b3(0x230));_0x3db5cc[_0x5482b3(0x2b9)]=_0x5482b3(0x29b),_0x3db5cc['textContent']=_0xf16daa,_0x3db5cc[_0x5482b3(0x239)]=()=>confirmReschedule(_0xf16daa),_0x9188f6['appendChild'](_0x3db5cc);});}async function confirmReschedule(_0x1c27b7){const _0x5511c0=a3_0x349ff1,_0xd528d9=new Date(selectedRsDate),_0x1592bc=_0xd528d9['toLocaleDateString'](_0x5511c0(0x263),{'day':_0x5511c0(0x1ea),'month':_0x5511c0(0x211)}),_0x158a68=await showCustomConfirm(_0x5511c0(0x265),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x1592bc+'\x20–≤\x20'+_0x1c27b7+'?',![]);if(!_0x158a68)return;closeAllSheets(),showToast(_0x5511c0(0x295)),lastUserActionTime=Date[_0x5511c0(0x2ab)]();const _0x445c20=currentSession['dateStr'],_0x1f69ec=currentSession['id'],[_0x55d6c3,_0x12fede]=currentSession[_0x5511c0(0x280)][_0x5511c0(0x2ae)](':')[_0x5511c0(0x257)](Number),[_0x4b0939,_0xe74a4f]=currentSession[_0x5511c0(0x264)][_0x5511c0(0x2ae)](':')['map'](Number),_0x46071e=_0x4b0939*0x3c+_0xe74a4f-(_0x55d6c3*0x3c+_0x12fede),[_0x2ebd34,_0xf7965c]=_0x1c27b7[_0x5511c0(0x2ae)](':')[_0x5511c0(0x257)](Number),_0x464091=_0x2ebd34*0x3c+_0xf7965c+_0x46071e,_0x5a18e6=Math[_0x5511c0(0x1de)](_0x464091/0x3c),_0x115713=_0x464091%0x3c,_0x2879ba=String(_0x5a18e6)['padStart'](0x2,'0')+':'+String(_0x115713)[_0x5511c0(0x2a7)](0x2,'0'),_0x4954c3=sessions[_0x5511c0(0x244)](_0x582aee=>_0x582aee['id']===_0x1f69ec);_0x4954c3!==-0x1&&(sessions[_0x4954c3][_0x5511c0(0x1fb)]=selectedRsDate,sessions[_0x4954c3][_0x5511c0(0x280)]=_0x1c27b7,sessions[_0x4954c3]['end']=_0x2879ba,reRenderBlocks());try{const _0x552d65=window[_0x5511c0(0x2bf)]?.[_0x5511c0(0x29d)],_0x22a6d2=await fetch(API_URL,{'method':'POST','body':JSON[_0x5511c0(0x26c)]({'action':_0x5511c0(0x26a),'init_data':_0x552d65?.[_0x5511c0(0x224)]||'','oldSessionId':_0x1f69ec,'oldDate':_0x445c20,'newDate':selectedRsDate,'newTime':_0x1c27b7,'coachId':currentSession[_0x5511c0(0x2b0)]})}),_0x45e6f2=await _0x22a6d2[_0x5511c0(0x209)]();!_0x45e6f2['ok']?(showToast(_0x5511c0(0x1fe)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x5511c0(0x247)]());}catch(_0x56bd8a){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x349ff1(0x223),init);