const a3_0x62c5a7=a3_0x5ef3;(function(_0x1c1a48,_0x55a1eb){const _0x1a99b0=a3_0x5ef3,_0x57e133=_0x1c1a48();while(!![]){try{const _0x3d26fe=-parseInt(_0x1a99b0(0x1b2))/0x1*(parseInt(_0x1a99b0(0x111))/0x2)+parseInt(_0x1a99b0(0x11d))/0x3+parseInt(_0x1a99b0(0x175))/0x4*(-parseInt(_0x1a99b0(0x1cd))/0x5)+-parseInt(_0x1a99b0(0x10b))/0x6*(parseInt(_0x1a99b0(0x154))/0x7)+-parseInt(_0x1a99b0(0xfe))/0x8*(parseInt(_0x1a99b0(0x13b))/0x9)+parseInt(_0x1a99b0(0x115))/0xa+parseInt(_0x1a99b0(0x131))/0xb*(parseInt(_0x1a99b0(0xfb))/0xc);if(_0x3d26fe===_0x55a1eb)break;else _0x57e133['push'](_0x57e133['shift']());}catch(_0x4bd55e){_0x57e133['push'](_0x57e133['shift']());}}}(a3_0x2b6e,0xd17ed));function a3_0x2b6e(){const _0x3a6386=['settings','now','test','none','</div>','numeric','createElement','<span>','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','get_slots','split','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.day-col-header','auto','push','today','day-column\x20','onClick','rs-time-btn','applyData','remove','forEach','querySelector','seriesId','data','note','rgba(','setItem','#050505','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','end','location','uc_client_sessions','offsetLeft','</div><div\x20class=\x22dch-num\x22>','block','day-off-overlay\x20stripe-bg','<div\x20class=\x22dch-day\x22>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','floor','keys','borderLeftColor','log','Error\x20setting\x20color:','error','className','exceptions','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','detailsSheet','detDate','setHeaderColor','%\x20+\x202px)','saveLocally','custom','color','anDonutCircle','getFullYear','(((.+)+)+)+$','setAttribute','2pwsdqy','scrollLeft','getElementById','getDate','top','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initData','stringify','start','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','var(--acc-blue)','value','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','addEventListener','parse','overlay','find','\x20-\x20','coachId','.btn-cancel','firstChild','ranges','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','analyticsSheet','button','pattern','10ulhMYz','total','#0a84ff','show','active','event-card','Telegram','blocked-slot\x20stripe-bg','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','insertBefore','scrollTop','toString','rescheduleSheet','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–û—Ç–º–µ–Ω–µ–Ω–æ','syncLoad','#ff453a','globalTimeLine','status','strokeDashoffset','clients','done','min','<div\x20class=\x22rs-day-name\x22>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','toast','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','ccTitle','innerHTML','rsDatesTrack','customConfirm','timeLineBadge','gridColumns','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','day-col-header\x20','appendChild','14713476hTMsPz','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','planned','784FUUqbM','rgba(10,\x20132,\x20255,\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DOMContentLoaded','substring','data-day-idx','substr','week','round','getHours','daysHeaderTrack','style','zIndex','1362ycJNSu','month','user','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','createDocumentFragment','search','797428YYkmBP','time-label','completed','getDay','13438730aMGshw','long','join','–∑–∞\x20','POST','anEnd','cancelHint','detTime','991416qgWIuO','entries','open','setHours','length','textContent','display','getMonth','T00:00:00','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','uc_client_settings','anStart','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','ready','getAttribute','dateStr','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','map','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','div','11TIcaun','toUpperCase','WebApp','sid','scrollWidth','600','offClick','\x20–≤\x20','max','toLocaleString','657MNozKE','querySelectorAll','startsWith','backgroundPosition','calendar','client-stat-card','initDataUnsafe','disableVerticalSwipes','offsetWidth','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','filter','sort','v9.5-CLIENT-ANALYTICS','cancel_window','getMinutes','BackButton','onclick','constructor','classList','px\x20-','then','visible','json','headerMonth','all','18011ypprVb','calc(','anCustomDates','.btn-reschedule','setBackgroundColor','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.day-column','colIndex','height','add','ru-RU','setDate','width','ccText','px\x200px','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','matrixViewport','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','\x20—á.','rsSlotsGrid','toLocaleDateString','scrollTo','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','.period-switch\x20.p-btn','client_load','flex','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','Unknown','data-date','clientWidth','reschedule','getTime','stopPropagation','1307444viEXPs','padStart'];a3_0x2b6e=function(){return _0x3a6386;};return a3_0x2b6e();}const APP_VERSION=a3_0x62c5a7(0x147),API_URL=a3_0x62c5a7(0x1e5),GRID_H=0x3c,KEY_SESSIONS=a3_0x62c5a7(0x197),KEY_SETTINGS=a3_0x62c5a7(0x127),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2669ee=a3_0x62c5a7,_0x13d326=(function(){let _0x3304fc=!![];return function(_0x3444e8,_0x463e0a){const _0x8ad2b0=_0x3304fc?function(){if(_0x463e0a){const _0xe43c05=_0x463e0a['apply'](_0x3444e8,arguments);return _0x463e0a=null,_0xe43c05;}}:function(){};return _0x3304fc=![],_0x8ad2b0;};}()),_0xe03d9d=_0x13d326(this,function(){const _0x1af014=a3_0x5ef3;return _0xe03d9d['toString']()[_0x1af014(0x110)](_0x1af014(0x1b0))[_0x1af014(0x1d8)]()[_0x1af014(0x14c)](_0xe03d9d)[_0x1af014(0x110)](_0x1af014(0x1b0));});_0xe03d9d();try{const _0x37375d=window['Telegram']?.['WebApp'];if(!_0x37375d)return;_0x37375d[_0x2669ee(0x12a)](),_0x37375d['expand']();try{_0x37375d[_0x2669ee(0x1a9)](_0x2669ee(0x193)),_0x37375d[_0x2669ee(0x158)]&&_0x37375d[_0x2669ee(0x158)](_0x2669ee(0x193));}catch(_0x5c7be9){console[_0x2669ee(0x1a1)](_0x2669ee(0x1a2),_0x5c7be9);}try{_0x37375d[_0x2669ee(0x14a)]&&(_0x37375d[_0x2669ee(0x14a)][_0x2669ee(0x1d0)](),_0x37375d['BackButton'][_0x2669ee(0x137)](),_0x37375d[_0x2669ee(0x14a)][_0x2669ee(0x188)](function(){const _0x54fd5e=_0x2669ee;window[_0x54fd5e(0x196)]['href']='router.html';}));}catch(_0x2d6bfe){console[_0x2669ee(0x1a1)]('Error\x20setting\x20back\x20button:',_0x2d6bfe);}try{if(_0x37375d[_0x2669ee(0x142)])_0x37375d[_0x2669ee(0x142)]();}catch(_0xb7b221){}}catch(_0x2b1885){console[_0x2669ee(0x1a3)]('Critical\x20TMA\x20Error:',_0x2b1885);}}());function isAdmin(){const _0x43541e=a3_0x62c5a7;try{const _0x128a77=Number(window[_0x43541e(0x1d3)]?.['WebApp']?.[_0x43541e(0x141)]?.[_0x43541e(0x10d)]?.['id']);return _0x128a77===0xbaf7174;}catch(_0x8fb73f){return![];}}const DataManager={'saveLocally'(){const _0x365417=a3_0x62c5a7;try{localStorage[_0x365417(0x192)](KEY_SESSIONS,JSON[_0x365417(0x1b9)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x365417(0x1b9)](clients)),localStorage[_0x365417(0x192)](KEY_SETTINGS,JSON[_0x365417(0x1b9)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xdb1a78){}},'loadLocal'(){const _0x2089ae=a3_0x62c5a7;try{const _0x2adece=localStorage[_0x2089ae(0x1bb)](KEY_SESSIONS);if(_0x2adece)sessions=JSON['parse'](_0x2adece);const _0x545a29=localStorage['getItem'](KEY_CLIENTS);if(_0x545a29)clients=JSON[_0x2089ae(0x1c1)](_0x545a29);const _0x676ac9=localStorage[_0x2089ae(0x1bb)](KEY_SETTINGS);if(_0x676ac9){const _0x4b6c72=JSON[_0x2089ae(0x1c1)](_0x676ac9);if(_0x4b6c72['pattern'])availabilityPattern=_0x4b6c72[_0x2089ae(0x1cc)];if(_0x4b6c72[_0x2089ae(0x1c8)])specialRanges=_0x4b6c72['ranges'];if(_0x4b6c72[_0x2089ae(0x1a5)])dateExceptions=_0x4b6c72[_0x2089ae(0x1a5)];}}catch(_0x3c0339){}},async 'syncLoad'(){const _0x430dc5=a3_0x62c5a7,_0x1b33b8=new Date(),_0x16d95b=_0x1b33b8[_0x430dc5(0x1af)]()+'-'+String(_0x1b33b8[_0x430dc5(0x124)]()+0x1)[_0x430dc5(0x176)](0x2,'0'),_0x3e0cf1=new Date(_0x1b33b8);_0x3e0cf1['setMonth'](_0x1b33b8['getMonth']()+0x1);const _0x398b35=_0x3e0cf1[_0x430dc5(0x1af)]()+'-'+String(_0x3e0cf1['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3efeb1=Date['now']();try{const _0xbb8247=window[_0x430dc5(0x1d3)]?.[_0x430dc5(0x133)],_0x1e7026=_0xbb8247?.['initData']||'',[_0x3bcb16,_0x1138c6]=await Promise[_0x430dc5(0x153)]([fetch(API_URL,{'method':'POST','body':JSON[_0x430dc5(0x1b9)]({'action':'client_load','init_data':_0x1e7026,'month_str':_0x16d95b})})[_0x430dc5(0x14f)](_0xc78351=>_0xc78351[_0x430dc5(0x151)]()),fetch(API_URL,{'method':_0x430dc5(0x119),'body':JSON['stringify']({'action':_0x430dc5(0x16c),'init_data':_0x1e7026,'month_str':_0x398b35})})[_0x430dc5(0x14f)](_0x27406e=>_0x27406e[_0x430dc5(0x151)]())]);if(lastUserActionTime>_0x3efeb1){console[_0x430dc5(0x1a1)](_0x430dc5(0x182));return;}if(_0x3bcb16['ok'])this['applyData'](_0x3bcb16[_0x430dc5(0x18f)],_0x16d95b);if(_0x1138c6['ok'])this[_0x430dc5(0x18a)](_0x1138c6['data'],_0x398b35);this['saveLocally']();}catch(_0x4db5ef){}},'applyData'(_0x16f86d,_0x122be4){const _0x2ff9b4=a3_0x62c5a7;if(!_0x16f86d)return;if(_0x16f86d[_0x2ff9b4(0x177)]){if(_0x16f86d[_0x2ff9b4(0x177)][_0x2ff9b4(0x1cc)])availabilityPattern=_0x16f86d[_0x2ff9b4(0x177)]['pattern'];if(_0x16f86d[_0x2ff9b4(0x177)]['ranges'])specialRanges=_0x16f86d['settings'][_0x2ff9b4(0x1c8)];if(_0x16f86d[_0x2ff9b4(0x177)][_0x2ff9b4(0x1a5)])dateExceptions=_0x16f86d[_0x2ff9b4(0x177)]['exceptions'];}if(_0x16f86d['clients']&&Array['isArray'](_0x16f86d[_0x2ff9b4(0x1e1)]))clients=_0x16f86d[_0x2ff9b4(0x1e1)];_0x16f86d['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x16f86d['coach_profiles']}),_0x16f86d['calendar']&&(sessions=sessions['filter'](_0x1509a5=>!_0x1509a5[_0x2ff9b4(0x12c)][_0x2ff9b4(0x13d)](_0x122be4)),Object[_0x2ff9b4(0x19f)](_0x16f86d[_0x2ff9b4(0x13f)])[_0x2ff9b4(0x18c)](_0x2a1fa0=>{const _0x3c2a21=_0x2ff9b4,_0x534a4f=_0x16f86d[_0x3c2a21(0x13f)][_0x2a1fa0];_0x534a4f[_0x3c2a21(0x18c)](_0x15873a=>{const _0x40840f=_0x3c2a21;sessions[_0x40840f(0x185)]({'id':_0x15873a['i'],'clientId':_0x15873a['c'],'coachId':_0x15873a['cid'],'dateStr':_0x122be4+'-'+_0x2a1fa0['padStart'](0x2,'0'),'start':_0x15873a['s'],'end':_0x15873a['e'],'note':_0x15873a['n']||'','status':_0x15873a['st']||_0x40840f(0xfd),'seriesId':_0x15873a[_0x40840f(0x134)]});});})),reRenderBlocks();}};function a3_0x5ef3(_0x58c92d,_0x28f8c8){_0x58c92d=_0x58c92d-0xf0;const _0x107a6f=a3_0x2b6e();let _0x180c2e=_0x107a6f[_0x58c92d];return _0x180c2e;}function init(){const _0x4ca572=a3_0x62c5a7;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4ca572(0x1b4)](_0x4ca572(0x164))[_0x4ca572(0x1c0)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4ca572(0x1dc)]();}function renderTimeColumn(){const _0x2fee0a=a3_0x62c5a7,_0x1e1737=document[_0x2fee0a(0x1b4)]('timeColumn'),_0x7f3e52=document['getElementById'](_0x2fee0a(0xf6));_0x1e1737['innerHTML']='',_0x1e1737[_0x2fee0a(0xfa)](_0x7f3e52);for(let _0x4f65f8=0x0;_0x4f65f8<0x18;_0x4f65f8++){const _0x50cc7c=document['createElement'](_0x2fee0a(0x130));_0x50cc7c['className']=_0x2fee0a(0x112);if(_0x4f65f8>0x0)_0x50cc7c[_0x2fee0a(0xf3)]=_0x2fee0a(0x17e)+String(_0x4f65f8)['padStart'](0x2,'0')+':00</span>';_0x1e1737[_0x2fee0a(0xfa)](_0x50cc7c);}}function renderDayRange(_0x382a8e,_0x246d6d){const _0x5b0e6a=a3_0x62c5a7,_0xafa6c7=document['getElementById'](_0x5b0e6a(0x108)),_0x15d6a6=document[_0x5b0e6a(0x1b4)](_0x5b0e6a(0xf7)),_0x2dede9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b6662=new Date();_0x1b6662[_0x5b0e6a(0x120)](0x0,0x0,0x0,0x0);const _0x14e423=getLocalDateStr(new Date());for(let _0x3941e4=_0x382a8e;_0x3941e4<=_0x246d6d;_0x3941e4++){const _0x44010a=new Date(_0x1b6662);_0x44010a[_0x5b0e6a(0x15f)](_0x44010a[_0x5b0e6a(0x1b5)]()+_0x3941e4);const _0x442846=getLocalDateStr(_0x44010a);let _0x1ec5b7=_0x44010a[_0x5b0e6a(0x114)]()-0x1;if(_0x1ec5b7===-0x1)_0x1ec5b7=0x6;const _0x15d10c=_0x442846===_0x14e423,_0x360250=document['createElement'](_0x5b0e6a(0x130));_0x360250[_0x5b0e6a(0x1a4)]=_0x5b0e6a(0xf9)+(_0x15d10c?_0x5b0e6a(0x186):''),_0x360250[_0x5b0e6a(0x1b1)](_0x5b0e6a(0x170),_0x442846),_0x360250[_0x5b0e6a(0xf3)]=_0x5b0e6a(0x19c)+_0x2dede9[_0x1ec5b7]+_0x5b0e6a(0x199)+_0x44010a[_0x5b0e6a(0x1b5)]()+_0x5b0e6a(0x17b),_0xafa6c7['appendChild'](_0x360250);const _0x296041=document[_0x5b0e6a(0x17d)](_0x5b0e6a(0x130));_0x296041['className']=_0x5b0e6a(0x187)+(_0x15d10c?_0x5b0e6a(0x186):''),_0x296041['setAttribute'](_0x5b0e6a(0x170),_0x442846),_0x296041['setAttribute']('data-day-idx',_0x1ec5b7),_0x15d6a6[_0x5b0e6a(0xfa)](_0x296041);}}function reRenderBlocks(){const _0xdbd80d=a3_0x62c5a7;document[_0xdbd80d(0x13c)]('.day-column')[_0xdbd80d(0x18c)](_0x4e2ff9=>{const _0x5807ec=_0xdbd80d;_0x4e2ff9[_0x5807ec(0x13c)](_0x5807ec(0x144))['forEach'](_0x410ab1=>_0x410ab1[_0x5807ec(0x18b)]());const _0x3d15ed=_0x4e2ff9[_0x5807ec(0x12b)](_0x5807ec(0x170)),_0x4e8255=parseInt(_0x4e2ff9[_0x5807ec(0x12b)](_0x5807ec(0x103))),_0x13a54d=Math[_0x5807ec(0x106)](_0x4e2ff9['offsetLeft']);(availabilityPattern[_0x4e8255]||[])[_0x5807ec(0x18c)](_0x123e1c=>{const _0x37d4f3=_0x5807ec,_0x496604=document[_0x37d4f3(0x17d)](_0x37d4f3(0x130));_0x496604[_0x37d4f3(0x1a4)]=_0x37d4f3(0x1d4),_0x496604[_0x37d4f3(0x109)]['top']=_0x123e1c*GRID_H+'px',_0x496604[_0x37d4f3(0x109)][_0x37d4f3(0x13e)]='-'+_0x13a54d+_0x37d4f3(0x14e)+_0x123e1c*GRID_H+'px',_0x4e2ff9[_0x37d4f3(0xfa)](_0x496604);});if(specialRanges[_0x5807ec(0x121)]>0x0){const _0x2d9b60=new Date(_0x3d15ed+_0x5807ec(0x125))[_0x5807ec(0x173)](),_0x3c9ecc=new Date(_0x3d15ed+'T23:59:59')[_0x5807ec(0x173)]();specialRanges[_0x5807ec(0x18c)](_0x34cced=>{const _0x2233a8=_0x5807ec,_0x2a1351=new Date(_0x34cced['start'])[_0x2233a8(0x173)](),_0x53801a=new Date(_0x34cced[_0x2233a8(0x195)])[_0x2233a8(0x173)](),_0x1c2447=Math[_0x2233a8(0x139)](_0x2d9b60,_0x2a1351),_0x41236c=Math[_0x2233a8(0x1e3)](_0x3c9ecc,_0x53801a);if(_0x1c2447<_0x41236c){const _0x203b0e=(_0x1c2447-_0x2d9b60)/0x36ee80*GRID_H,_0x363e55=(_0x41236c-_0x1c2447)/0x36ee80*GRID_H,_0x22dea7=document[_0x2233a8(0x17d)]('div');_0x363e55>=23.5*GRID_H?(_0x22dea7[_0x2233a8(0x1a4)]=_0x2233a8(0x19b),_0x22dea7['style']['backgroundPosition']='-'+_0x13a54d+_0x2233a8(0x162)):(_0x22dea7[_0x2233a8(0x1a4)]='blocked-range-part\x20stripe-bg',_0x22dea7[_0x2233a8(0x109)]['top']=_0x203b0e+'px',_0x22dea7[_0x2233a8(0x109)][_0x2233a8(0x15c)]=_0x363e55+'px',_0x22dea7['style'][_0x2233a8(0x13e)]='-'+_0x13a54d+_0x2233a8(0x14e)+_0x203b0e+'px'),_0x4e2ff9[_0x2233a8(0xfa)](_0x22dea7);}});}renderEventsForColumn(_0x4e2ff9,_0x3d15ed);});}function renderEventsForColumn(_0xe80822,_0x2368c9){const _0x50e272=a3_0x62c5a7,_0x5b3a96=sessions[_0x50e272(0x145)](_0x1fe4de=>_0x1fe4de['dateStr']===_0x2368c9),_0x391dcb=_0x5b3a96[_0x50e272(0x12e)](_0x9ce15f=>{const _0x21053a=_0x50e272,[_0x41b896,_0x3c75df]=_0x9ce15f[_0x21053a(0x1ba)]['split'](':')[_0x21053a(0x12e)](Number),[_0x4189aa,_0x4dfce2]=_0x9ce15f[_0x21053a(0x195)]['split'](':')[_0x21053a(0x12e)](Number);return{'data':_0x9ce15f,'start':_0x41b896*0x3c+_0x3c75df,'end':_0x4189aa*0x3c+_0x4dfce2,'colIndex':0x0};});_0x391dcb['sort']((_0xd90f3b,_0x18bb67)=>_0xd90f3b[_0x50e272(0x1ba)]-_0x18bb67[_0x50e272(0x1ba)]||_0x18bb67['end']-_0x18bb67[_0x50e272(0x1ba)]-(_0xd90f3b['end']-_0xd90f3b[_0x50e272(0x1ba)]));const _0x4b4a0b=[];_0x391dcb[_0x50e272(0x18c)](_0xfd751c=>{const _0x57070c=_0x50e272;let _0x3b9c4e=![];for(let _0x47abf6=0x0;_0x47abf6<_0x4b4a0b[_0x57070c(0x121)];_0x47abf6++){const _0x18d23d=_0x4b4a0b[_0x47abf6];if(_0xfd751c[_0x57070c(0x1ba)]>=_0x18d23d[_0x18d23d['length']-0x1]['end']){_0x18d23d[_0x57070c(0x185)](_0xfd751c),_0xfd751c['colIndex']=_0x47abf6,_0x3b9c4e=!![];break;}}!_0x3b9c4e&&(_0x4b4a0b[_0x57070c(0x185)]([_0xfd751c]),_0xfd751c[_0x57070c(0x15b)]=_0x4b4a0b['length']-0x1);}),_0x391dcb[_0x50e272(0x18c)](_0x2d887d=>{const _0x30230e=_0x50e272;let _0xe8d7a6=0x0;_0x391dcb[_0x30230e(0x18c)](_0x2fefb2=>{const _0x177dbc=_0x30230e;if(Math[_0x177dbc(0x139)](_0x2d887d[_0x177dbc(0x1ba)],_0x2fefb2['start'])<Math[_0x177dbc(0x1e3)](_0x2d887d[_0x177dbc(0x195)],_0x2fefb2[_0x177dbc(0x195)])&&_0x2fefb2['colIndex']>_0xe8d7a6)_0xe8d7a6=_0x2fefb2['colIndex'];});const _0x31d09b=_0xe8d7a6+0x1,_0x3adb10=0x64/_0x31d09b,_0x5d1f1b=_0x2d887d[_0x30230e(0x15b)]*_0x3adb10,_0x353523=document[_0x30230e(0x17d)]('div'),_0x27bc02=_0x2d887d['data'];let _0x2a4999='#0a84ff';if(clients&&clients[_0x30230e(0x121)]>0x0){const _0x306c45=clients[_0x30230e(0x1c3)](_0x28c978=>String(_0x28c978['id'])===String(_0x27bc02['clientId']));if(_0x306c45&&_0x306c45[_0x30230e(0x1ad)])_0x2a4999=_0x306c45[_0x30230e(0x1ad)];}const _0x4d388c=_0x27bc02['status']===_0x30230e(0x113),_0x37f9eb=_0x4d388c?0x1:0.45;_0x353523['className']=_0x30230e(0x1d2)+(_0x4d388c?'\x20status-completed':''),_0x353523[_0x30230e(0x109)]['backgroundColor']=hexToRgba(_0x2a4999,_0x37f9eb),_0x353523[_0x30230e(0x109)][_0x30230e(0x1a0)]=_0x2a4999;const _0xf6227=_0x2d887d[_0x30230e(0x1ba)]/0x3c*GRID_H,_0x21c96c=(_0x2d887d[_0x30230e(0x195)]-_0x2d887d[_0x30230e(0x1ba)])/0x3c*GRID_H;_0x353523[_0x30230e(0x109)][_0x30230e(0x1b6)]=_0xf6227+'px',_0x353523[_0x30230e(0x109)]['height']=Math[_0x30230e(0x139)](_0x21c96c,0x14)+'px',_0x353523[_0x30230e(0x109)][_0x30230e(0x160)]=_0x30230e(0x155)+_0x3adb10+'%\x20-\x204px)',_0x353523[_0x30230e(0x109)]['left']='calc('+_0x5d1f1b+_0x30230e(0x1aa),_0x353523[_0x30230e(0x109)][_0x30230e(0x10a)]=0xa+_0x2d887d[_0x30230e(0x15b)];if(_0x3adb10<0x55)_0x353523['classList']['add']('mini');let _0x4eff1a='';if(_0x27bc02[_0x30230e(0x18e)])_0x4eff1a+=_0x30230e(0x19d);if(_0x4d388c)_0x4eff1a+=_0x30230e(0x129);_0x353523[_0x30230e(0xf3)]=_0x30230e(0x1bc)+_0x27bc02[_0x30230e(0x1ba)]+_0x30230e(0x1c4)+_0x27bc02[_0x30230e(0x195)]+_0x30230e(0x1b7)+_0x4eff1a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x353523[_0x30230e(0x14b)]=_0x602f46=>{const _0x48dd8b=_0x30230e;_0x602f46[_0x48dd8b(0x174)](),openDetails(_0x27bc02);},_0xe80822[_0x30230e(0xfa)](_0x353523);});}function openAnalytics(){const _0x111270=a3_0x62c5a7,_0x1a34a8=document['querySelector'](_0x111270(0x16b));setAnalyticsPeriod(_0x111270(0x105),_0x1a34a8),openSheet(_0x111270(0x1ca));}function setAnalyticsPeriod(_0x302704,_0x1406f5){const _0x29cf02=a3_0x62c5a7;currentAnPeriod=_0x302704,document['querySelectorAll'](_0x29cf02(0x16b))[_0x29cf02(0x18c)](_0x88634=>_0x88634['classList'][_0x29cf02(0x18b)]('active'));if(_0x1406f5)_0x1406f5[_0x29cf02(0x14d)][_0x29cf02(0x15d)]('active');const _0x52fed1=document[_0x29cf02(0x1b4)](_0x29cf02(0x156));_0x52fed1[_0x29cf02(0x109)]['display']=_0x302704===_0x29cf02(0x1ac)?_0x29cf02(0x16d):_0x29cf02(0x17a);const _0x1be774=new Date();let _0x3f7868=new Date(),_0x33df04=new Date();if(_0x302704===_0x29cf02(0x105))_0x3f7868=getStartOfWeek(_0x1be774),_0x33df04=new Date(_0x3f7868),_0x33df04[_0x29cf02(0x15f)](_0x33df04[_0x29cf02(0x1b5)]()+0x6);else{if(_0x302704===_0x29cf02(0x10c))_0x3f7868=new Date(_0x1be774[_0x29cf02(0x1af)](),_0x1be774[_0x29cf02(0x124)](),0x1),_0x33df04=new Date(_0x1be774['getFullYear'](),_0x1be774['getMonth']()+0x1,0x0);else{!document[_0x29cf02(0x1b4)](_0x29cf02(0x128))[_0x29cf02(0x1be)]&&(document[_0x29cf02(0x1b4)](_0x29cf02(0x128))[_0x29cf02(0x1be)]=getLocalDateStr(_0x1be774),document['getElementById'](_0x29cf02(0x11a))[_0x29cf02(0x1be)]=getLocalDateStr(_0x1be774));refreshAnalytics();return;}}document[_0x29cf02(0x1b4)](_0x29cf02(0x128))[_0x29cf02(0x1be)]=getLocalDateStr(_0x3f7868),document[_0x29cf02(0x1b4)](_0x29cf02(0x11a))['value']=getLocalDateStr(_0x33df04),refreshAnalytics();}function refreshAnalytics(){const _0x41a863=a3_0x62c5a7,_0x20a2fd=document[_0x41a863(0x1b4)](_0x41a863(0x128))[_0x41a863(0x1be)],_0x2a88d8=document[_0x41a863(0x1b4)](_0x41a863(0x11a))['value'];if(!_0x20a2fd||!_0x2a88d8)return;const _0x9eb3c7=sessions[_0x41a863(0x145)](_0x19df9e=>_0x19df9e[_0x41a863(0x12c)]>=_0x20a2fd&&_0x19df9e[_0x41a863(0x12c)]<=_0x2a88d8&&_0x19df9e[_0x41a863(0x1df)]!=='cancelled'),_0x1cffb2=_0x9eb3c7[_0x41a863(0x121)],_0x2cae1a=_0x9eb3c7[_0x41a863(0x145)](_0x2272ad=>_0x2272ad[_0x41a863(0x1df)]===_0x41a863(0x113))[_0x41a863(0x121)],_0x57328b=_0x1cffb2>0x0?Math[_0x41a863(0x106)](_0x2cae1a/_0x1cffb2*0x64):0x0;document[_0x41a863(0x1b4)]('anPercent')[_0x41a863(0x122)]=_0x57328b+'%',document[_0x41a863(0x1b4)]('anTotalStats')['textContent']=_0x2cae1a+'\x20–∏–∑\x20'+_0x1cffb2+_0x41a863(0x1da);const _0x508bca=document[_0x41a863(0x1b4)](_0x41a863(0x1ae)),_0x914630=0x2*Math['PI']*0x23,_0x637446=_0x914630-_0x57328b/0x64*_0x914630;_0x508bca[_0x41a863(0x109)][_0x41a863(0x1e0)]=_0x637446;const _0x413cd3={};_0x9eb3c7[_0x41a863(0x18c)](_0x486d3e=>{const _0xb79dd3=_0x41a863,_0xecf356=_0x486d3e['coachId']||_0xb79dd3(0x16f);if(!_0x413cd3[_0xecf356]){const _0x34067e='#'+_0xecf356['toString']()['substr'](0x0,0x6);_0x413cd3[_0xecf356]={'total':0x0,'done':0x0,'color':_0x34067e};}_0x413cd3[_0xecf356][_0xb79dd3(0x1ce)]++;if(_0x486d3e['status']===_0xb79dd3(0x113))_0x413cd3[_0xecf356][_0xb79dd3(0x1e2)]++;});const _0x441bcd=document['getElementById']('analyticsList');_0x441bcd[_0x41a863(0xf3)]='';const _0x28e44b=Object[_0x41a863(0x11e)](_0x413cd3)[_0x41a863(0x146)]((_0x407e31,_0x1cd9e6)=>_0x1cd9e6[0x1][_0x41a863(0x1ce)]-_0x407e31[0x1]['total']);if(_0x28e44b[_0x41a863(0x121)]===0x0){_0x441bcd[_0x41a863(0xf3)]=_0x41a863(0xfc);return;}_0x28e44b[_0x41a863(0x18c)](([_0x2ef1ad,_0x5a2a15])=>{const _0x54d6f8=_0x41a863,_0x38d14e=Math[_0x54d6f8(0x106)](_0x5a2a15[_0x54d6f8(0x1e2)]/_0x5a2a15['total']*0x64),_0x4d8c9a=document[_0x54d6f8(0x17d)](_0x54d6f8(0x130));_0x4d8c9a[_0x54d6f8(0x1a4)]=_0x54d6f8(0x140),_0x4d8c9a[_0x54d6f8(0x109)][_0x54d6f8(0x1a0)]=_0x5a2a15[_0x54d6f8(0x1ad)],_0x4d8c9a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x2ef1ad[_0x54d6f8(0x104)](0x0,0x5)+_0x54d6f8(0x10e)+_0x5a2a15['done']+'</span>\x20/\x20'+_0x5a2a15[_0x54d6f8(0x1ce)]+_0x54d6f8(0x1d5)+_0x38d14e+_0x54d6f8(0x100),_0x441bcd['appendChild'](_0x4d8c9a);});}function openDetails(_0x577c78){const _0xad9686=a3_0x62c5a7;currentSession=_0x577c78;const _0x70478b=new Date(_0x577c78[_0xad9686(0x12c)]),_0x3fb832=_0x70478b[_0xad9686(0x168)](_0xad9686(0x15e),{'weekday':_0xad9686(0x116),'day':_0xad9686(0x17c),'month':_0xad9686(0x116)});document['getElementById'](_0xad9686(0x1a8))[_0xad9686(0x122)]=_0x3fb832['charAt'](0x0)[_0xad9686(0x132)]()+_0x3fb832['slice'](0x1),document['getElementById'](_0xad9686(0x11c))[_0xad9686(0x122)]=_0x577c78[_0xad9686(0x1ba)]+'\x20-\x20'+_0x577c78[_0xad9686(0x195)],document[_0xad9686(0x1b4)]('detNote')[_0xad9686(0x122)]=_0x577c78[_0xad9686(0x190)]||_0xad9686(0xf1);const _0x331304=document[_0xad9686(0x1b4)]('detStatus'),_0x411db3=document[_0xad9686(0x1b4)]('cancelContainer'),_0xbccdd8=_0x411db3[_0xad9686(0x18d)](_0xad9686(0x1c6)),_0x141ada=_0x411db3[_0xad9686(0x18d)](_0xad9686(0x157)),_0x59782e=document[_0xad9686(0x1b4)](_0xad9686(0x11b));if(_0x577c78[_0xad9686(0x1df)]===_0xad9686(0x113))_0x331304[_0xad9686(0x122)]=_0xad9686(0x159),_0x331304[_0xad9686(0x109)][_0xad9686(0x1ad)]='var(--acc-green)',_0x411db3[_0xad9686(0x109)]['display']=_0xad9686(0x17a);else{_0x331304[_0xad9686(0x122)]=_0xad9686(0x1a6),_0x331304[_0xad9686(0x109)][_0xad9686(0x1ad)]=_0xad9686(0x1bd),_0x411db3['style'][_0xad9686(0x123)]=_0xad9686(0x19a);const _0x180332=new Date(_0x577c78[_0xad9686(0x12c)]+'T'+_0x577c78[_0xad9686(0x1ba)]),_0x9d9305=new Date(),_0x58439e=(_0x180332-_0x9d9305)/(0x3e8*0x3c*0x3c),_0x1a3d71=coachProfiles[_0x577c78[_0xad9686(0x1c5)]]&&coachProfiles[_0x577c78['coachId']][_0xad9686(0x148)]?parseInt(coachProfiles[_0x577c78['coachId']][_0xad9686(0x148)]):0x18;if(_0x1a3d71===0x0||_0x58439e>=_0x1a3d71)_0xbccdd8['style'][_0xad9686(0x123)]=_0xad9686(0x19a),_0x141ada['style'][_0xad9686(0x123)]=_0xad9686(0x19a),_0x59782e[_0xad9686(0x109)][_0xad9686(0x123)]='none';else{_0xbccdd8[_0xad9686(0x109)]['display']='none',_0x141ada[_0xad9686(0x109)][_0xad9686(0x123)]=_0xad9686(0x17a),_0x59782e[_0xad9686(0x109)][_0xad9686(0x123)]=_0xad9686(0x19a);let _0x363b4c=_0x1a3d71===0x0?_0xad9686(0x16a):_0xad9686(0x118)+_0x1a3d71+_0xad9686(0x166);_0x59782e[_0xad9686(0x122)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x363b4c+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0xad9686(0x1b4)](_0xad9686(0x1c2))['classList'][_0xad9686(0x15d)](_0xad9686(0x1d1)),document['getElementById'](_0xad9686(0x1a7))['classList'][_0xad9686(0x15d)](_0xad9686(0x11f));}function closeAllSheets(){const _0x188208=a3_0x62c5a7;document[_0x188208(0x1b4)](_0x188208(0x1c2))[_0x188208(0x14d)][_0x188208(0x18b)](_0x188208(0x1d1)),document[_0x188208(0x13c)]('.sheet')['forEach'](_0x47a109=>_0x47a109[_0x188208(0x14d)][_0x188208(0x18b)]('open'));}function openSheet(_0x4d483d){const _0xaea577=a3_0x62c5a7;document[_0xaea577(0x1b4)](_0xaea577(0x1c2))[_0xaea577(0x14d)]['add']('active'),document[_0xaea577(0x1b4)](_0x4d483d)[_0xaea577(0x14d)][_0xaea577(0x15d)](_0xaea577(0x11f));}function getLocalDateStr(_0x4c441b){const _0x15947a=a3_0x62c5a7,_0x223de9=_0x4c441b[_0x15947a(0x1af)](),_0x44e060=String(_0x4c441b['getMonth']()+0x1)[_0x15947a(0x176)](0x2,'0'),_0x22823c=String(_0x4c441b[_0x15947a(0x1b5)]())['padStart'](0x2,'0');return _0x223de9+'-'+_0x44e060+'-'+_0x22823c;}function getStartOfWeek(_0x503cd1){const _0x1bf3c1=a3_0x62c5a7,_0x11ff22=new Date(_0x503cd1),_0xc35e6d=_0x11ff22[_0x1bf3c1(0x114)](),_0x12f63d=_0x11ff22['getDate']()-_0xc35e6d+(_0xc35e6d===0x0?-0x6:0x1);return _0x11ff22['setDate'](_0x12f63d),_0x11ff22['setHours'](0x0,0x0,0x0,0x0),_0x11ff22;}function scrollToToday(){const _0x4a182e=getLocalDateStr(new Date());setTimeout(()=>{const _0x2a88ae=a3_0x5ef3,_0x9d5c84=document[_0x2a88ae(0x18d)]('.day-col-header[data-date=\x22'+_0x4a182e+'\x22]');if(_0x9d5c84){const _0x1a4eb7=document['getElementById'](_0x2a88ae(0x164)),_0x11f826=_0x9d5c84[_0x2a88ae(0x198)]-_0x1a4eb7[_0x2a88ae(0x171)]/0x2+_0x9d5c84[_0x2a88ae(0x143)]/0x2;_0x1a4eb7[_0x2a88ae(0x169)]({'left':_0x11f826,'behavior':_0x2a88ae(0x184)}),_0x1a4eb7[_0x2a88ae(0x1d7)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4de6a2=a3_0x62c5a7,_0x534f8e=new Date(),_0x149771=document['getElementById'](_0x4de6a2(0x1de)),_0x394ce9=document[_0x4de6a2(0x1b4)]('timeLineBadge'),_0x26bcf3=(_0x534f8e[_0x4de6a2(0x107)]()*0x3c+_0x534f8e[_0x4de6a2(0x149)]())/0x3c*GRID_H;_0x149771[_0x4de6a2(0x109)][_0x4de6a2(0x1b6)]=_0x26bcf3+'px',_0x149771[_0x4de6a2(0x109)][_0x4de6a2(0x123)]=_0x4de6a2(0x19a),_0x394ce9[_0x4de6a2(0x109)]['top']=_0x26bcf3+'px',_0x394ce9['style']['display']=_0x4de6a2(0x19a),_0x394ce9[_0x4de6a2(0x122)]=String(_0x534f8e[_0x4de6a2(0x107)]())['padStart'](0x2,'0')+':'+String(_0x534f8e[_0x4de6a2(0x149)]())['padStart'](0x2,'0');}function onScroll(){const _0x51431a=a3_0x62c5a7,_0x13a675=document[_0x51431a(0x1b4)](_0x51431a(0x164)),_0x5da891=document[_0x51431a(0x13c)](_0x51431a(0x183));for(let _0x492528 of _0x5da891)if(_0x492528['offsetLeft']>=_0x13a675[_0x51431a(0x1b3)]){const _0x3b919e=new Date(_0x492528[_0x51431a(0x12b)](_0x51431a(0x170)));document[_0x51431a(0x1b4)](_0x51431a(0x152))[_0x51431a(0x122)]=_0x3b919e[_0x51431a(0x13a)]('ru',{'month':_0x51431a(0x116)})['toUpperCase']()+'\x20'+_0x3b919e[_0x51431a(0x1af)]();break;}}function showToast(_0x5048c0){const _0xab3ce2=a3_0x62c5a7,_0x572fc4=document[_0xab3ce2(0x1b4)](_0xab3ce2(0xf0));_0x572fc4[_0xab3ce2(0x122)]=_0x5048c0,_0x572fc4[_0xab3ce2(0x14d)][_0xab3ce2(0x15d)](_0xab3ce2(0x1d0)),setTimeout(()=>_0x572fc4[_0xab3ce2(0x14d)][_0xab3ce2(0x18b)](_0xab3ce2(0x1d0)),0x7d0);}function handleInfiniteScroll(){const _0x56173f=a3_0x62c5a7,_0x2a6ea4=document['getElementById'](_0x56173f(0x164)),_0x5629ba=_0x2a6ea4[_0x56173f(0x1b3)],_0x44c17f=_0x2a6ea4[_0x56173f(0x135)],_0x3e29dd=_0x2a6ea4['clientWidth'];if(_0x44c17f-(_0x5629ba+_0x3e29dd)<0x12c){const _0x5b9bb0=endOffset;endOffset+=0xe,renderDayRange(_0x5b9bb0+0x1,endOffset),reRenderBlocks();}if(_0x5629ba<0x12c){const _0x35f755=startOffset;startOffset-=0xe,prependDays(startOffset,_0x35f755-0x1),_0x2a6ea4[_0x56173f(0x1b3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2ced37,_0x2d3063){const _0x3fc7ba=a3_0x62c5a7,_0x49f68d=document['getElementById'](_0x3fc7ba(0x108)),_0x2c29d6=document[_0x3fc7ba(0x1b4)](_0x3fc7ba(0xf7)),_0x11b9e4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3c6490=new Date();_0x3c6490['setHours'](0x0,0x0,0x0,0x0);const _0x4c7a4f=getLocalDateStr(new Date()),_0x512483=document['createDocumentFragment'](),_0x59595b=document[_0x3fc7ba(0x10f)]();for(let _0x3b7d0b=_0x2ced37;_0x3b7d0b<=_0x2d3063;_0x3b7d0b++){const _0x4faba1=new Date(_0x3c6490);_0x4faba1['setDate'](_0x4faba1[_0x3fc7ba(0x1b5)]()+_0x3b7d0b);const _0x14151b=getLocalDateStr(_0x4faba1);let _0x3cc40d=_0x4faba1[_0x3fc7ba(0x114)]()-0x1;if(_0x3cc40d===-0x1)_0x3cc40d=0x6;const _0x3d5ace=_0x14151b===_0x4c7a4f,_0x56c001=document[_0x3fc7ba(0x17d)](_0x3fc7ba(0x130));_0x56c001[_0x3fc7ba(0x1a4)]=_0x3fc7ba(0xf9)+(_0x3d5ace?_0x3fc7ba(0x186):''),_0x56c001['setAttribute']('data-date',_0x14151b),_0x56c001[_0x3fc7ba(0xf3)]='<div\x20class=\x22dch-day\x22>'+_0x11b9e4[_0x3cc40d]+_0x3fc7ba(0x199)+_0x4faba1[_0x3fc7ba(0x1b5)]()+_0x3fc7ba(0x17b),_0x512483['appendChild'](_0x56c001);const _0xce54f4=document[_0x3fc7ba(0x17d)](_0x3fc7ba(0x130));_0xce54f4[_0x3fc7ba(0x1a4)]='day-column\x20'+(_0x3d5ace?_0x3fc7ba(0x186):''),_0xce54f4[_0x3fc7ba(0x1b1)](_0x3fc7ba(0x170),_0x14151b),_0xce54f4[_0x3fc7ba(0x1b1)](_0x3fc7ba(0x103),_0x3cc40d),_0x59595b[_0x3fc7ba(0xfa)](_0xce54f4);}_0x49f68d[_0x3fc7ba(0x1d6)](_0x512483,_0x49f68d[_0x3fc7ba(0x1c7)]),_0x2c29d6[_0x3fc7ba(0x1d6)](_0x59595b,_0x2c29d6['querySelector'](_0x3fc7ba(0x15a)));}function hexToRgba(_0x430857,_0x4eeab2){const _0x3a4182=a3_0x62c5a7;let _0x42d47d;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3a4182(0x179)](_0x430857))return _0x42d47d=_0x430857[_0x3a4182(0x102)](0x1)[_0x3a4182(0x181)](''),_0x42d47d[_0x3a4182(0x121)]==0x3&&(_0x42d47d=[_0x42d47d[0x0],_0x42d47d[0x0],_0x42d47d[0x1],_0x42d47d[0x1],_0x42d47d[0x2],_0x42d47d[0x2]]),_0x42d47d='0x'+_0x42d47d[_0x3a4182(0x117)](''),_0x3a4182(0x191)+[_0x42d47d>>0x10&0xff,_0x42d47d>>0x8&0xff,_0x42d47d&0xff]['join'](',')+','+_0x4eeab2+')';return _0x3a4182(0xff)+_0x4eeab2+')';}let confirmResolver=null;function showCustomConfirm(_0x1500fe,_0x775a47,_0x12e203=!![]){const _0x567918=a3_0x62c5a7;document[_0x567918(0x1b4)](_0x567918(0xf2))[_0x567918(0x122)]=_0x1500fe,document[_0x567918(0x1b4)](_0x567918(0x161))['textContent']=_0x775a47;const _0x4ab1fe=document[_0x567918(0x1b4)]('ccYesBtn');return _0x12e203?(_0x4ab1fe['style'][_0x567918(0x1ad)]=_0x567918(0x1dd),_0x4ab1fe[_0x567918(0x109)]['fontWeight']=_0x567918(0x136)):(_0x4ab1fe[_0x567918(0x109)][_0x567918(0x1ad)]=_0x567918(0x1cf),_0x4ab1fe[_0x567918(0x109)]['fontWeight']=_0x567918(0x136)),new Promise(_0x2cff0a=>{const _0x2803ea=_0x567918;confirmResolver=_0x2cff0a,document[_0x2803ea(0x1b4)](_0x2803ea(0xf5))[_0x2803ea(0x14d)][_0x2803ea(0x15d)](_0x2803ea(0x150));});}function resolveCustomConfirm(_0x13257b){const _0x2f4796=a3_0x62c5a7;document[_0x2f4796(0x1b4)](_0x2f4796(0xf5))[_0x2f4796(0x14d)][_0x2f4796(0x18b)](_0x2f4796(0x150));if(confirmResolver)confirmResolver(_0x13257b);}async function tryCancelCurrentSession(){const _0x5bc33f=a3_0x62c5a7;if(!currentSession)return;const _0x4c0bb0=await showCustomConfirm(_0x5bc33f(0x194),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x4c0bb0)return;const _0x2b7c93=currentSession;closeAllSheets(),sessions=sessions[_0x5bc33f(0x145)](_0x119044=>_0x119044['id']!==_0x2b7c93['id']),reRenderBlocks(),showToast(_0x5bc33f(0x1db)),lastUserActionTime=Date[_0x5bc33f(0x178)]();try{const _0x3633e0=window[_0x5bc33f(0x1d3)]?.['WebApp'],_0x2140df=await fetch(API_URL,{'method':_0x5bc33f(0x119),'body':JSON[_0x5bc33f(0x1b9)]({'action':'client_cancel','init_data':_0x3633e0?.['initData']||'','coachId':_0x2b7c93[_0x5bc33f(0x1c5)],'dateStr':_0x2b7c93[_0x5bc33f(0x12c)],'sessionId':_0x2b7c93['id']})});if(_0x2140df['ok'])DataManager[_0x5bc33f(0x1ab)]();}catch(_0x903da5){showToast(_0x5bc33f(0x163));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x24ac9e=a3_0x62c5a7;if(!currentSession)return;document[_0x24ac9e(0x1b4)](_0x24ac9e(0x1a7))['classList'][_0x24ac9e(0x18b)](_0x24ac9e(0x11f)),document[_0x24ac9e(0x1b4)](_0x24ac9e(0x1d9))[_0x24ac9e(0x14d)][_0x24ac9e(0x15d)](_0x24ac9e(0x11f));const _0x4eeac1=document['getElementById'](_0x24ac9e(0xf4)),_0x2ca81c=document['getElementById'](_0x24ac9e(0x167));_0x4eeac1[_0x24ac9e(0xf3)]='',_0x2ca81c[_0x24ac9e(0xf3)]=_0x24ac9e(0x1c9);const [_0x461831,_0x33344f]=currentSession[_0x24ac9e(0x1ba)][_0x24ac9e(0x181)](':')[_0x24ac9e(0x12e)](Number),[_0x590cf2,_0x356db9]=currentSession['end']['split'](':')['map'](Number),_0x4c0b08=_0x590cf2*0x3c+_0x356db9-(_0x461831*0x3c+_0x33344f);try{const _0x25ac87=window['Telegram']?.['WebApp'],_0x162ecf=await fetch(API_URL,{'method':_0x24ac9e(0x119),'body':JSON['stringify']({'action':_0x24ac9e(0x180),'coachId':currentSession['coachId'],'duration':_0x4c0b08,'init_data':_0x25ac87?.[_0x24ac9e(0x1b8)]||'','excludeSessionId':currentSession['id']})}),_0x3013a9=await _0x162ecf[_0x24ac9e(0x151)]();_0x3013a9['ok']&&_0x3013a9[_0x24ac9e(0x18f)]?(availableSlotsCache=_0x3013a9[_0x24ac9e(0x18f)],renderRescheduleDates()):_0x2ca81c[_0x24ac9e(0xf3)]=_0x24ac9e(0x126);}catch(_0x1defce){_0x2ca81c[_0x24ac9e(0xf3)]=_0x24ac9e(0x165);}}function renderRescheduleDates(){const _0x1c8a50=a3_0x62c5a7,_0x20006d=document[_0x1c8a50(0x1b4)](_0x1c8a50(0xf4));_0x20006d['innerHTML']='';const _0x162922=Object[_0x1c8a50(0x19f)](availableSlotsCache)[_0x1c8a50(0x146)](),_0x46b710=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x162922[_0x1c8a50(0x121)]===0x0){document[_0x1c8a50(0x1b4)]('rsSlotsGrid')[_0x1c8a50(0xf3)]=_0x1c8a50(0x12f);return;}_0x162922['forEach']((_0x13be7a,_0x576935)=>{const _0x42ec16=_0x1c8a50,_0x3986bf=new Date(_0x13be7a),_0x3a69ef=_0x46b710[_0x3986bf['getDay']()],_0x559eb1=_0x3986bf['getDate'](),_0x1e094c=document['createElement'](_0x42ec16(0x130));_0x1e094c[_0x42ec16(0x1a4)]='rs-date-chip';if(_0x576935===0x0)_0x1e094c[_0x42ec16(0x14d)][_0x42ec16(0x15d)]('active');_0x1e094c[_0x42ec16(0xf3)]=_0x42ec16(0x1e4)+_0x3a69ef+'</div><div\x20class=\x22rs-day-num\x22>'+_0x559eb1+_0x42ec16(0x17b),_0x1e094c['onclick']=()=>selectRsDate(_0x13be7a,_0x1e094c),_0x20006d[_0x42ec16(0xfa)](_0x1e094c);}),selectRsDate(_0x162922[0x0],_0x20006d[_0x1c8a50(0x1c7)]);}function selectRsDate(_0x5f579d,_0x491a7d){const _0x594a41=a3_0x62c5a7;selectedRsDate=_0x5f579d,document[_0x594a41(0x13c)]('.rs-date-chip')[_0x594a41(0x18c)](_0x9c09c4=>_0x9c09c4['classList']['remove'](_0x594a41(0x1d1)));if(_0x491a7d)_0x491a7d['classList']['add'](_0x594a41(0x1d1));const _0x55200e=document[_0x594a41(0x1b4)]('rsSlotsGrid');_0x55200e['innerHTML']='';const _0x69a719=availableSlotsCache[_0x5f579d]||[];if(_0x69a719['length']===0x0){_0x55200e[_0x594a41(0xf3)]=_0x594a41(0x126);return;}_0x69a719[_0x594a41(0x18c)](_0x1bf15c=>{const _0x35d5d4=_0x594a41,_0x243bfd=document[_0x35d5d4(0x17d)](_0x35d5d4(0x1cb));_0x243bfd[_0x35d5d4(0x1a4)]=_0x35d5d4(0x189),_0x243bfd['textContent']=_0x1bf15c,_0x243bfd[_0x35d5d4(0x14b)]=()=>confirmReschedule(_0x1bf15c),_0x55200e[_0x35d5d4(0xfa)](_0x243bfd);});}async function confirmReschedule(_0x43100d){const _0x18be8b=a3_0x62c5a7,_0x4fbd26=new Date(selectedRsDate),_0x390a40=_0x4fbd26['toLocaleDateString'](_0x18be8b(0x15e),{'day':_0x18be8b(0x17c),'month':_0x18be8b(0x116)}),_0x5d924e=await showCustomConfirm(_0x18be8b(0x17f),_0x18be8b(0xf8)+_0x390a40+_0x18be8b(0x138)+_0x43100d+'?',![]);if(!_0x5d924e)return;closeAllSheets(),showToast(_0x18be8b(0x1bf)),lastUserActionTime=Date[_0x18be8b(0x178)]();const _0x479ce7=currentSession[_0x18be8b(0x12c)],_0x4e7a0b=currentSession['id'],[_0x4ae7eb,_0x1846a3]=currentSession[_0x18be8b(0x1ba)][_0x18be8b(0x181)](':')[_0x18be8b(0x12e)](Number),[_0x1496c1,_0x26ff5c]=currentSession[_0x18be8b(0x195)][_0x18be8b(0x181)](':')[_0x18be8b(0x12e)](Number),_0x5cf956=_0x1496c1*0x3c+_0x26ff5c-(_0x4ae7eb*0x3c+_0x1846a3),[_0x50a530,_0xa63dd8]=_0x43100d[_0x18be8b(0x181)](':')[_0x18be8b(0x12e)](Number),_0x33d3c5=_0x50a530*0x3c+_0xa63dd8+_0x5cf956,_0x43b919=Math[_0x18be8b(0x19e)](_0x33d3c5/0x3c),_0x417860=_0x33d3c5%0x3c,_0x272786=String(_0x43b919)['padStart'](0x2,'0')+':'+String(_0x417860)[_0x18be8b(0x176)](0x2,'0'),_0x3c96cf=sessions['findIndex'](_0x3222ec=>_0x3222ec['id']===_0x4e7a0b);_0x3c96cf!==-0x1&&(sessions[_0x3c96cf][_0x18be8b(0x12c)]=selectedRsDate,sessions[_0x3c96cf][_0x18be8b(0x1ba)]=_0x43100d,sessions[_0x3c96cf][_0x18be8b(0x195)]=_0x272786,reRenderBlocks());try{const _0x49b755=window['Telegram']?.['WebApp'],_0x171340=await fetch(API_URL,{'method':_0x18be8b(0x119),'body':JSON['stringify']({'action':_0x18be8b(0x172),'init_data':_0x49b755?.[_0x18be8b(0x1b8)]||'','oldSessionId':_0x4e7a0b,'oldDate':_0x479ce7,'newDate':selectedRsDate,'newTime':_0x43100d,'coachId':currentSession['coachId']})}),_0x44e94e=await _0x171340[_0x18be8b(0x151)]();!_0x44e94e['ok']?(showToast(_0x18be8b(0x16e)),DataManager['syncLoad']()):(showToast(_0x18be8b(0x12d)),DataManager[_0x18be8b(0x1ab)]());}catch(_0x1d9734){showToast(_0x18be8b(0x163));}}document[a3_0x62c5a7(0x1c0)](a3_0x62c5a7(0x101),init);