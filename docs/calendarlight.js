const a3_0x2f8d6c=a3_0x1dac;(function(_0x1823c0,_0x14619b){const _0x462884=a3_0x1dac,_0x43998a=_0x1823c0();while(!![]){try{const _0x2e5338=-parseInt(_0x462884(0x1be))/0x1+parseInt(_0x462884(0x25e))/0x2+parseInt(_0x462884(0x2b2))/0x3*(parseInt(_0x462884(0x22b))/0x4)+-parseInt(_0x462884(0x23a))/0x5+-parseInt(_0x462884(0x283))/0x6*(-parseInt(_0x462884(0x29a))/0x7)+-parseInt(_0x462884(0x269))/0x8+-parseInt(_0x462884(0x1fe))/0x9*(-parseInt(_0x462884(0x235))/0xa);if(_0x2e5338===_0x14619b)break;else _0x43998a['push'](_0x43998a['shift']());}catch(_0x5c33f8){_0x43998a['push'](_0x43998a['shift']());}}}(a3_0x1771,0x19b8a));const APP_VERSION=a3_0x2f8d6c(0x1f4),API_URL=a3_0x2f8d6c(0x281),GRID_H=0x3c,KEY_SESSIONS=a3_0x2f8d6c(0x270),KEY_SETTINGS=a3_0x2f8d6c(0x1dd),KEY_CLIENTS=a3_0x2f8d6c(0x27d);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2f8d6c(0x1e9),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x448b7d=a3_0x2f8d6c,_0x3f356b=(function(){let _0xe55f95=!![];return function(_0x35ee06,_0x50df95){const _0x302cce=_0xe55f95?function(){const _0x3a2e9b=a3_0x1dac;if(_0x50df95){const _0xe7f5d4=_0x50df95[_0x3a2e9b(0x214)](_0x35ee06,arguments);return _0x50df95=null,_0xe7f5d4;}}:function(){};return _0xe55f95=![],_0x302cce;};}()),_0x1b8829=_0x3f356b(this,function(){const _0x118948=a3_0x1dac;return _0x1b8829['toString']()['search'](_0x118948(0x27b))['toString']()[_0x118948(0x266)](_0x1b8829)['search']('(((.+)+)+)+$');});_0x1b8829();try{const _0x23115e=window[_0x448b7d(0x234)]?.['WebApp'];if(!_0x23115e)return;_0x23115e['ready'](),_0x23115e[_0x448b7d(0x1e6)]();try{_0x23115e[_0x448b7d(0x288)](_0x448b7d(0x29f)),_0x23115e[_0x448b7d(0x20c)]&&_0x23115e[_0x448b7d(0x20c)](_0x448b7d(0x29f));}catch(_0x396ce3){console['log'](_0x448b7d(0x2a9),_0x396ce3);}try{_0x23115e[_0x448b7d(0x28d)]&&(_0x23115e['BackButton'][_0x448b7d(0x229)](),_0x23115e[_0x448b7d(0x28d)]['offClick'](),_0x23115e[_0x448b7d(0x28d)][_0x448b7d(0x23b)](function(){window['location']['href']='router.html';}));}catch(_0x417db8){console[_0x448b7d(0x204)]('Error\x20setting\x20back\x20button:',_0x417db8);}try{if(_0x23115e['disableVerticalSwipes'])_0x23115e[_0x448b7d(0x29d)]();}catch(_0x2f3ccf){}}catch(_0x521495){console[_0x448b7d(0x28a)](_0x448b7d(0x1c9),_0x521495);}}());function isAdmin(){const _0x1e3000=a3_0x2f8d6c;try{const _0x5cf260=Number(window[_0x1e3000(0x234)]?.['WebApp']?.[_0x1e3000(0x298)]?.[_0x1e3000(0x290)]?.['id']);return _0x5cf260===0xbaf7174;}catch(_0x7b0cdb){return![];}}const DataManager={'saveLocally'(){const _0x1aee08=a3_0x2f8d6c;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x1aee08(0x22a)](sessions)),localStorage[_0x1aee08(0x282)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x1aee08(0x282)](KEY_SETTINGS,JSON[_0x1aee08(0x22a)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1ac7e2){}},'loadLocal'(){const _0x166bb3=a3_0x2f8d6c;try{const _0x50ea24=localStorage[_0x166bb3(0x25f)](KEY_SESSIONS);if(_0x50ea24)sessions=JSON['parse'](_0x50ea24);const _0x57f765=localStorage['getItem'](KEY_CLIENTS);if(_0x57f765)clients=JSON[_0x166bb3(0x1eb)](_0x57f765);const _0x1ad6f2=localStorage[_0x166bb3(0x25f)](KEY_SETTINGS);if(_0x1ad6f2){const _0x12888a=JSON['parse'](_0x1ad6f2);if(_0x12888a[_0x166bb3(0x21c)])availabilityPattern=_0x12888a['pattern'];if(_0x12888a['ranges'])specialRanges=_0x12888a[_0x166bb3(0x2b1)];if(_0x12888a['exceptions'])dateExceptions=_0x12888a['exceptions'];}}catch(_0x164f29){}},async 'syncLoad'(){const _0x327cc0=a3_0x2f8d6c,_0x101aad=new Date(),_0x4b9c75=_0x101aad[_0x327cc0(0x1e4)]()+'-'+String(_0x101aad[_0x327cc0(0x210)]()+0x1)['padStart'](0x2,'0'),_0x1f6ebc=new Date(_0x101aad);_0x1f6ebc['setMonth'](_0x101aad[_0x327cc0(0x210)]()+0x1);const _0x5e8ab1=_0x1f6ebc['getFullYear']()+'-'+String(_0x1f6ebc[_0x327cc0(0x210)]()+0x1)[_0x327cc0(0x1f8)](0x2,'0'),_0x1adb15=Date[_0x327cc0(0x258)]();try{const _0x1964bd=window['Telegram']?.[_0x327cc0(0x1e1)],_0x1e8784=_0x1964bd?.[_0x327cc0(0x1fd)]||'',[_0x4106d7,_0x366d75]=await Promise[_0x327cc0(0x232)]([fetch(API_URL,{'method':_0x327cc0(0x251),'body':JSON[_0x327cc0(0x22a)]({'action':_0x327cc0(0x1f2),'init_data':_0x1e8784,'month_str':_0x4b9c75})})[_0x327cc0(0x1c8)](_0x24c7fd=>_0x24c7fd['json']()),fetch(API_URL,{'method':_0x327cc0(0x251),'body':JSON[_0x327cc0(0x22a)]({'action':'client_load','init_data':_0x1e8784,'month_str':_0x5e8ab1})})[_0x327cc0(0x1c8)](_0xad7c2c=>_0xad7c2c['json']())]);if(lastUserActionTime>_0x1adb15){console[_0x327cc0(0x204)](_0x327cc0(0x23f));return;}if(_0x4106d7['ok'])this[_0x327cc0(0x245)](_0x4106d7[_0x327cc0(0x257)],_0x4b9c75);if(_0x366d75['ok'])this[_0x327cc0(0x245)](_0x366d75[_0x327cc0(0x257)],_0x5e8ab1);this[_0x327cc0(0x1df)]();}catch(_0x3a5c2f){}},'applyData'(_0x2fdfc5,_0x400dc5){const _0x34d3fa=a3_0x2f8d6c;if(!_0x2fdfc5)return;if(_0x2fdfc5[_0x34d3fa(0x21a)]){if(_0x2fdfc5[_0x34d3fa(0x21a)][_0x34d3fa(0x21c)])availabilityPattern=_0x2fdfc5[_0x34d3fa(0x21a)]['pattern'];if(_0x2fdfc5['settings']['ranges'])specialRanges=_0x2fdfc5[_0x34d3fa(0x21a)][_0x34d3fa(0x2b1)];if(_0x2fdfc5[_0x34d3fa(0x21a)][_0x34d3fa(0x20d)])dateExceptions=_0x2fdfc5['settings'][_0x34d3fa(0x20d)];}if(_0x2fdfc5[_0x34d3fa(0x20b)]&&Array[_0x34d3fa(0x2a5)](_0x2fdfc5['clients']))clients=_0x2fdfc5[_0x34d3fa(0x20b)];_0x2fdfc5[_0x34d3fa(0x24a)]&&(coachProfiles={...coachProfiles,..._0x2fdfc5[_0x34d3fa(0x24a)]}),_0x2fdfc5[_0x34d3fa(0x1fb)]&&(sessions=sessions[_0x34d3fa(0x26f)](_0x11f805=>!_0x11f805[_0x34d3fa(0x1f9)][_0x34d3fa(0x1d3)](_0x400dc5)),Object['keys'](_0x2fdfc5[_0x34d3fa(0x1fb)])[_0x34d3fa(0x241)](_0x1a53c9=>{const _0x5a41f8=_0x34d3fa,_0x33ace5=_0x2fdfc5[_0x5a41f8(0x1fb)][_0x1a53c9];_0x33ace5[_0x5a41f8(0x241)](_0x3f7b24=>{const _0x225f54=_0x5a41f8;sessions[_0x225f54(0x289)]({'id':_0x3f7b24['i'],'clientId':_0x3f7b24['c'],'coachId':_0x3f7b24[_0x225f54(0x26c)],'dateStr':_0x400dc5+'-'+_0x1a53c9[_0x225f54(0x1f8)](0x2,'0'),'start':_0x3f7b24['s'],'end':_0x3f7b24['e'],'note':_0x3f7b24['n']||'','status':_0x3f7b24['st']||'planned','seriesId':_0x3f7b24[_0x225f54(0x276)]});});})),reRenderBlocks();}};function init(){const _0x41e05c=a3_0x2f8d6c;DataManager[_0x41e05c(0x295)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x41e05c(0x250)](_0x41e05c(0x1dc))[_0x41e05c(0x2a7)](_0x41e05c(0x238),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x41e05c(0x212)]();}function renderTimeColumn(){const _0x291fbc=a3_0x2f8d6c,_0x3ac13e=document[_0x291fbc(0x250)](_0x291fbc(0x244)),_0x63291d=document[_0x291fbc(0x250)]('timeLineBadge');_0x3ac13e[_0x291fbc(0x201)]='',_0x3ac13e[_0x291fbc(0x264)](_0x63291d);for(let _0x45ef85=0x0;_0x45ef85<0x18;_0x45ef85++){const _0x2120f1=document[_0x291fbc(0x216)](_0x291fbc(0x2ad));_0x2120f1[_0x291fbc(0x294)]=_0x291fbc(0x1cc);if(_0x45ef85>0x0)_0x2120f1['innerHTML']='<span>'+String(_0x45ef85)[_0x291fbc(0x1f8)](0x2,'0')+':00</span>';_0x3ac13e[_0x291fbc(0x264)](_0x2120f1);}}function renderDayRange(_0x3f7e70,_0x51a674){const _0x26bf81=a3_0x2f8d6c,_0x3f597d=document[_0x26bf81(0x250)](_0x26bf81(0x275)),_0x477e0b=document['getElementById'](_0x26bf81(0x249)),_0x10ba66=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x572cd3=new Date();_0x572cd3[_0x26bf81(0x246)](0x0,0x0,0x0,0x0);const _0xfde0d2=getLocalDateStr(new Date());for(let _0x44fd97=_0x3f7e70;_0x44fd97<=_0x51a674;_0x44fd97++){const _0x3c8f96=new Date(_0x572cd3);_0x3c8f96[_0x26bf81(0x287)](_0x3c8f96[_0x26bf81(0x1cb)]()+_0x44fd97);const _0x5af9f1=getLocalDateStr(_0x3c8f96);let _0x5ef369=_0x3c8f96['getDay']()-0x1;if(_0x5ef369===-0x1)_0x5ef369=0x6;const _0x367563=_0x5af9f1===_0xfde0d2,_0x39d60b=document['createElement']('div');_0x39d60b[_0x26bf81(0x294)]=_0x26bf81(0x233)+(_0x367563?'today':''),_0x39d60b[_0x26bf81(0x285)]('data-date',_0x5af9f1),_0x39d60b[_0x26bf81(0x201)]='<div\x20class=\x22dch-day\x22>'+_0x10ba66[_0x5ef369]+'</div><div\x20class=\x22dch-num\x22>'+_0x3c8f96[_0x26bf81(0x1cb)]()+_0x26bf81(0x1ed),_0x3f597d[_0x26bf81(0x264)](_0x39d60b);const _0x2dfccc=document[_0x26bf81(0x216)](_0x26bf81(0x2ad));_0x2dfccc[_0x26bf81(0x294)]=_0x26bf81(0x202)+(_0x367563?'today':''),_0x2dfccc[_0x26bf81(0x285)](_0x26bf81(0x255),_0x5af9f1),_0x2dfccc[_0x26bf81(0x285)](_0x26bf81(0x24e),_0x5ef369),_0x477e0b[_0x26bf81(0x264)](_0x2dfccc);}}function reRenderBlocks(){const _0x3e6f19=a3_0x2f8d6c;document[_0x3e6f19(0x27a)](_0x3e6f19(0x1f3))[_0x3e6f19(0x241)](_0x4fb776=>{const _0x5f4723=_0x3e6f19;_0x4fb776[_0x5f4723(0x27a)](_0x5f4723(0x256))[_0x5f4723(0x241)](_0x30c21e=>_0x30c21e[_0x5f4723(0x291)]());const _0x5331b9=_0x4fb776[_0x5f4723(0x1db)](_0x5f4723(0x255)),_0x116ef8=parseInt(_0x4fb776[_0x5f4723(0x1db)]('data-day-idx')),_0x1be9b9=Math[_0x5f4723(0x2ae)](_0x4fb776[_0x5f4723(0x1c6)]);(availabilityPattern[_0x116ef8]||[])[_0x5f4723(0x241)](_0x5244ab=>{const _0x473b1c=_0x5f4723,_0x55a2fa=document[_0x473b1c(0x216)](_0x473b1c(0x2ad));_0x55a2fa[_0x473b1c(0x294)]=_0x473b1c(0x22d),_0x55a2fa[_0x473b1c(0x219)][_0x473b1c(0x284)]=_0x5244ab*GRID_H+'px',_0x55a2fa['style'][_0x473b1c(0x299)]='-'+_0x1be9b9+'px\x20-'+_0x5244ab*GRID_H+'px',_0x4fb776[_0x473b1c(0x264)](_0x55a2fa);});if(specialRanges[_0x5f4723(0x1da)]>0x0){const _0x2a4fb1=new Date(_0x5331b9+_0x5f4723(0x1c1))[_0x5f4723(0x239)](),_0x56ba61=new Date(_0x5331b9+_0x5f4723(0x1fa))[_0x5f4723(0x239)]();specialRanges[_0x5f4723(0x241)](_0x240fbf=>{const _0x479b32=_0x5f4723,_0x515085=new Date(_0x240fbf[_0x479b32(0x21e)])[_0x479b32(0x239)](),_0x25e74f=new Date(_0x240fbf[_0x479b32(0x1d1)])[_0x479b32(0x239)](),_0x51ab91=Math[_0x479b32(0x27e)](_0x2a4fb1,_0x515085),_0x385150=Math[_0x479b32(0x252)](_0x56ba61,_0x25e74f);if(_0x51ab91<_0x385150){const _0x2213eb=(_0x51ab91-_0x2a4fb1)/0x36ee80*GRID_H,_0x284217=(_0x385150-_0x51ab91)/0x36ee80*GRID_H,_0x4889e6=document[_0x479b32(0x216)](_0x479b32(0x2ad));_0x284217>=23.5*GRID_H?(_0x4889e6[_0x479b32(0x294)]=_0x479b32(0x25c),_0x4889e6[_0x479b32(0x219)][_0x479b32(0x299)]='-'+_0x1be9b9+_0x479b32(0x237)):(_0x4889e6[_0x479b32(0x294)]=_0x479b32(0x1d7),_0x4889e6['style']['top']=_0x2213eb+'px',_0x4889e6[_0x479b32(0x219)][_0x479b32(0x265)]=_0x284217+'px',_0x4889e6[_0x479b32(0x219)]['backgroundPosition']='-'+_0x1be9b9+_0x479b32(0x2a2)+_0x2213eb+'px'),_0x4fb776['appendChild'](_0x4889e6);}});}renderEventsForColumn(_0x4fb776,_0x5331b9);});}function renderEventsForColumn(_0x2375a1,_0x543963){const _0x5f4d7f=a3_0x2f8d6c,_0x336d99=sessions[_0x5f4d7f(0x26f)](_0x3f9b19=>_0x3f9b19['dateStr']===_0x543963),_0x2dd7d5=_0x336d99[_0x5f4d7f(0x24d)](_0x529dfc=>{const _0x336ef5=_0x5f4d7f,[_0x4d6c66,_0x551a7e]=_0x529dfc[_0x336ef5(0x21e)]['split'](':')['map'](Number),[_0x21afc4,_0x201cd6]=_0x529dfc[_0x336ef5(0x1d1)][_0x336ef5(0x1f5)](':')[_0x336ef5(0x24d)](Number);return{'data':_0x529dfc,'start':_0x4d6c66*0x3c+_0x551a7e,'end':_0x21afc4*0x3c+_0x201cd6,'colIndex':0x0};});_0x2dd7d5[_0x5f4d7f(0x260)]((_0x21a39c,_0x47e571)=>_0x21a39c[_0x5f4d7f(0x21e)]-_0x47e571[_0x5f4d7f(0x21e)]||_0x47e571[_0x5f4d7f(0x1d1)]-_0x47e571[_0x5f4d7f(0x21e)]-(_0x21a39c['end']-_0x21a39c['start']));const _0x4836d1=[];_0x2dd7d5[_0x5f4d7f(0x241)](_0x169066=>{const _0x46187e=_0x5f4d7f;let _0x21a18c=![];for(let _0x1ace1d=0x0;_0x1ace1d<_0x4836d1[_0x46187e(0x1da)];_0x1ace1d++){const _0x25cb14=_0x4836d1[_0x1ace1d];if(_0x169066['start']>=_0x25cb14[_0x25cb14[_0x46187e(0x1da)]-0x1][_0x46187e(0x1d1)]){_0x25cb14['push'](_0x169066),_0x169066[_0x46187e(0x263)]=_0x1ace1d,_0x21a18c=!![];break;}}!_0x21a18c&&(_0x4836d1[_0x46187e(0x289)]([_0x169066]),_0x169066[_0x46187e(0x263)]=_0x4836d1[_0x46187e(0x1da)]-0x1);}),_0x2dd7d5[_0x5f4d7f(0x241)](_0x1d7495=>{const _0x3a94fd=_0x5f4d7f;let _0x1b1946=0x0;_0x2dd7d5[_0x3a94fd(0x241)](_0x19873b=>{const _0x341702=_0x3a94fd;if(Math[_0x341702(0x27e)](_0x1d7495[_0x341702(0x21e)],_0x19873b[_0x341702(0x21e)])<Math['min'](_0x1d7495[_0x341702(0x1d1)],_0x19873b[_0x341702(0x1d1)])&&_0x19873b[_0x341702(0x263)]>_0x1b1946)_0x1b1946=_0x19873b[_0x341702(0x263)];});const _0x133be5=_0x1b1946+0x1,_0x368338=0x64/_0x133be5,_0x53c20d=_0x1d7495[_0x3a94fd(0x263)]*_0x368338,_0x387416=document[_0x3a94fd(0x216)](_0x3a94fd(0x2ad)),_0x74b13b=_0x1d7495[_0x3a94fd(0x257)];let _0x400f31=_0x3a94fd(0x293);if(clients&&clients[_0x3a94fd(0x1da)]>0x0){const _0x4b0e71=clients['find'](_0x339bd7=>String(_0x339bd7['id'])===String(_0x74b13b[_0x3a94fd(0x23d)]));if(_0x4b0e71&&_0x4b0e71[_0x3a94fd(0x1ca)])_0x400f31=_0x4b0e71[_0x3a94fd(0x1ca)];}const _0x1a5ffb=_0x74b13b[_0x3a94fd(0x220)]===_0x3a94fd(0x2a4),_0x2f8371=_0x1a5ffb?0x1:0.45;_0x387416[_0x3a94fd(0x294)]=_0x3a94fd(0x28f)+(_0x1a5ffb?'\x20status-completed':''),_0x387416['style'][_0x3a94fd(0x28e)]=hexToRgba(_0x400f31,_0x2f8371),_0x387416[_0x3a94fd(0x219)][_0x3a94fd(0x253)]=_0x400f31;const _0x512ad8=_0x1d7495[_0x3a94fd(0x21e)]/0x3c*GRID_H,_0x521606=(_0x1d7495[_0x3a94fd(0x1d1)]-_0x1d7495[_0x3a94fd(0x21e)])/0x3c*GRID_H;_0x387416['style'][_0x3a94fd(0x284)]=_0x512ad8+'px',_0x387416[_0x3a94fd(0x219)][_0x3a94fd(0x265)]=Math[_0x3a94fd(0x27e)](_0x521606,0x14)+'px',_0x387416['style'][_0x3a94fd(0x21f)]=_0x3a94fd(0x1de)+_0x368338+_0x3a94fd(0x1e3),_0x387416[_0x3a94fd(0x219)][_0x3a94fd(0x2b6)]=_0x3a94fd(0x1de)+_0x53c20d+_0x3a94fd(0x22c),_0x387416[_0x3a94fd(0x219)][_0x3a94fd(0x2ac)]=0xa+_0x1d7495['colIndex'];if(_0x368338<0x55)_0x387416[_0x3a94fd(0x272)][_0x3a94fd(0x2a1)]('mini');let _0x2e0199='';if(_0x74b13b[_0x3a94fd(0x2ab)])_0x2e0199+=_0x3a94fd(0x2a6);if(_0x1a5ffb)_0x2e0199+=_0x3a94fd(0x279);_0x387416['innerHTML']=_0x3a94fd(0x1e0)+_0x74b13b[_0x3a94fd(0x21e)]+_0x3a94fd(0x28b)+_0x74b13b[_0x3a94fd(0x1d1)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e0199+_0x3a94fd(0x28c),_0x387416['onclick']=_0x125969=>{const _0xed5165=_0x3a94fd;_0x125969[_0xed5165(0x262)](),openDetails(_0x74b13b);},_0x2375a1[_0x3a94fd(0x264)](_0x387416);});}function openAnalytics(){const _0x13656f=a3_0x2f8d6c,_0x3f262d=document[_0x13656f(0x286)](_0x13656f(0x1ef));setAnalyticsPeriod('week',_0x3f262d),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2a4215,_0x3e91ba){const _0x218288=a3_0x2f8d6c;currentAnPeriod=_0x2a4215,document[_0x218288(0x27a)]('.period-switch\x20.p-btn')[_0x218288(0x241)](_0x3e15dd=>_0x3e15dd[_0x218288(0x272)][_0x218288(0x291)](_0x218288(0x29b)));if(_0x3e91ba)_0x3e91ba[_0x218288(0x272)][_0x218288(0x2a1)]('active');const _0x58908b=document['getElementById'](_0x218288(0x24b));_0x58908b[_0x218288(0x219)][_0x218288(0x2b3)]=_0x2a4215===_0x218288(0x26d)?_0x218288(0x22f):'none';const _0x311c0a=new Date();let _0x564383=new Date(),_0x3a51ba=new Date();if(_0x2a4215===_0x218288(0x1e9))_0x564383=getStartOfWeek(_0x311c0a),_0x3a51ba=new Date(_0x564383),_0x3a51ba[_0x218288(0x287)](_0x3a51ba['getDate']()+0x6);else{if(_0x2a4215==='month')_0x564383=new Date(_0x311c0a[_0x218288(0x1e4)](),_0x311c0a[_0x218288(0x210)](),0x1),_0x3a51ba=new Date(_0x311c0a['getFullYear'](),_0x311c0a[_0x218288(0x210)]()+0x1,0x0);else{!document['getElementById'](_0x218288(0x1c3))[_0x218288(0x254)]&&(document[_0x218288(0x250)](_0x218288(0x1c3))[_0x218288(0x254)]=getLocalDateStr(_0x311c0a),document[_0x218288(0x250)]('anEnd')['value']=getLocalDateStr(_0x311c0a));refreshAnalytics();return;}}document[_0x218288(0x250)](_0x218288(0x1c3))[_0x218288(0x254)]=getLocalDateStr(_0x564383),document[_0x218288(0x250)](_0x218288(0x209))['value']=getLocalDateStr(_0x3a51ba),refreshAnalytics();}function refreshAnalytics(){const _0x4392d8=a3_0x2f8d6c,_0x4cfaa0=document[_0x4392d8(0x250)](_0x4392d8(0x1c3))[_0x4392d8(0x254)],_0x2182f9=document[_0x4392d8(0x250)](_0x4392d8(0x209))[_0x4392d8(0x254)];if(!_0x4cfaa0||!_0x2182f9)return;const _0x474682=sessions[_0x4392d8(0x26f)](_0x1a1cf6=>_0x1a1cf6[_0x4392d8(0x1f9)]>=_0x4cfaa0&&_0x1a1cf6['dateStr']<=_0x2182f9&&_0x1a1cf6['status']!==_0x4392d8(0x225)),_0x4b559a=_0x474682[_0x4392d8(0x1da)],_0x188179=_0x474682['filter'](_0x8ea864=>_0x8ea864['status']===_0x4392d8(0x2a4))[_0x4392d8(0x1da)],_0x27dccc=_0x4b559a>0x0?Math['round'](_0x188179/_0x4b559a*0x64):0x0;document[_0x4392d8(0x250)](_0x4392d8(0x240))[_0x4392d8(0x271)]=_0x27dccc+'%',document[_0x4392d8(0x250)]('anTotalStats')[_0x4392d8(0x271)]=_0x188179+_0x4392d8(0x296)+_0x4b559a+_0x4392d8(0x23e);const _0x21ddd4=document[_0x4392d8(0x250)](_0x4392d8(0x203)),_0x3cc32e=0x2*Math['PI']*0x23,_0x7ba3f7=_0x3cc32e-_0x27dccc/0x64*_0x3cc32e;_0x21ddd4[_0x4392d8(0x219)][_0x4392d8(0x1e8)]=_0x7ba3f7;const _0x238393={};_0x474682[_0x4392d8(0x241)](_0x2ed503=>{const _0x251323=_0x4392d8,_0x509a9e=_0x2ed503[_0x251323(0x273)]||'Unknown';if(!_0x238393[_0x509a9e]){const _0xfbfcdc='#'+_0x509a9e['toString']()[_0x251323(0x20e)](0x0,0x6);_0x238393[_0x509a9e]={'total':0x0,'done':0x0,'color':_0xfbfcdc};}_0x238393[_0x509a9e][_0x251323(0x1d9)]++;if(_0x2ed503[_0x251323(0x220)]===_0x251323(0x2a4))_0x238393[_0x509a9e][_0x251323(0x2aa)]++;});const _0x5e5873=document[_0x4392d8(0x250)](_0x4392d8(0x227));_0x5e5873[_0x4392d8(0x201)]='';const _0x30a899=Object[_0x4392d8(0x25d)](_0x238393)[_0x4392d8(0x260)]((_0x4dfda3,_0x103dfc)=>_0x103dfc[0x1][_0x4392d8(0x1d9)]-_0x4dfda3[0x1]['total']);if(_0x30a899[_0x4392d8(0x1da)]===0x0){_0x5e5873[_0x4392d8(0x201)]=_0x4392d8(0x222);return;}_0x30a899[_0x4392d8(0x241)](([_0x543f57,_0x48b6b4])=>{const _0x136ae9=_0x4392d8,_0x5e1847=Math[_0x136ae9(0x2ae)](_0x48b6b4[_0x136ae9(0x2aa)]/_0x48b6b4[_0x136ae9(0x1d9)]*0x64),_0x48a9b1=document[_0x136ae9(0x216)](_0x136ae9(0x2ad));_0x48a9b1[_0x136ae9(0x294)]=_0x136ae9(0x277),_0x48a9b1[_0x136ae9(0x219)][_0x136ae9(0x253)]=_0x48b6b4[_0x136ae9(0x1ca)],_0x48a9b1[_0x136ae9(0x201)]=_0x136ae9(0x1cf)+_0x543f57[_0x136ae9(0x20e)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x48b6b4[_0x136ae9(0x2aa)]+_0x136ae9(0x1ea)+_0x48b6b4[_0x136ae9(0x1d9)]+_0x136ae9(0x1f6)+_0x5e1847+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5e5873[_0x136ae9(0x264)](_0x48a9b1);});}function openDetails(_0x2e6490){const _0x1098a9=a3_0x2f8d6c;currentSession=_0x2e6490;const _0x9cc13e=new Date(_0x2e6490['dateStr']),_0x1036cb=_0x9cc13e[_0x1098a9(0x1e5)](_0x1098a9(0x224),{'weekday':'long','day':_0x1098a9(0x1cd),'month':_0x1098a9(0x24f)});document[_0x1098a9(0x250)]('detDate')['textContent']=_0x1036cb['charAt'](0x0)[_0x1098a9(0x236)]()+_0x1036cb[_0x1098a9(0x211)](0x1),document[_0x1098a9(0x250)](_0x1098a9(0x1f7))[_0x1098a9(0x271)]=_0x2e6490[_0x1098a9(0x21e)]+'\x20-\x20'+_0x2e6490[_0x1098a9(0x1d1)],document['getElementById']('detNote')[_0x1098a9(0x271)]=_0x2e6490['note']||_0x1098a9(0x25a);const _0x1e33d4=document['getElementById'](_0x1098a9(0x1f0)),_0x28fbf4=document[_0x1098a9(0x250)]('cancelContainer'),_0x3ab23a=_0x28fbf4[_0x1098a9(0x286)](_0x1098a9(0x1c4)),_0xc31706=_0x28fbf4[_0x1098a9(0x286)](_0x1098a9(0x1d5)),_0x3437f8=document[_0x1098a9(0x250)](_0x1098a9(0x226));if(_0x2e6490[_0x1098a9(0x220)]===_0x1098a9(0x2a4))_0x1e33d4['textContent']=_0x1098a9(0x231),_0x1e33d4['style'][_0x1098a9(0x1ca)]=_0x1098a9(0x205),_0x28fbf4[_0x1098a9(0x219)][_0x1098a9(0x2b3)]=_0x1098a9(0x26e);else{_0x1e33d4[_0x1098a9(0x271)]=_0x1098a9(0x1d2),_0x1e33d4[_0x1098a9(0x219)][_0x1098a9(0x1ca)]=_0x1098a9(0x1ee),_0x28fbf4[_0x1098a9(0x219)][_0x1098a9(0x2b3)]=_0x1098a9(0x2b0);const _0x3c47f7=new Date(_0x2e6490[_0x1098a9(0x1f9)]+'T'+_0x2e6490['start']),_0x51408f=new Date(),_0xeabbe4=(_0x3c47f7-_0x51408f)/(0x3e8*0x3c*0x3c),_0x2e6ef6=coachProfiles[_0x2e6490[_0x1098a9(0x273)]]&&coachProfiles[_0x2e6490['coachId']][_0x1098a9(0x1bf)]?parseInt(coachProfiles[_0x2e6490[_0x1098a9(0x273)]][_0x1098a9(0x1bf)]):0x18;if(_0x2e6ef6===0x0||_0xeabbe4>=_0x2e6ef6)_0x3ab23a['style'][_0x1098a9(0x2b3)]=_0x1098a9(0x2b0),_0xc31706[_0x1098a9(0x219)][_0x1098a9(0x2b3)]=_0x1098a9(0x2b0),_0x3437f8[_0x1098a9(0x219)][_0x1098a9(0x2b3)]=_0x1098a9(0x26e);else{_0x3ab23a[_0x1098a9(0x219)]['display']=_0x1098a9(0x26e),_0xc31706[_0x1098a9(0x219)][_0x1098a9(0x2b3)]='none',_0x3437f8[_0x1098a9(0x219)][_0x1098a9(0x2b3)]=_0x1098a9(0x2b0);let _0x1f4f21=_0x2e6ef6===0x0?_0x1098a9(0x213):_0x1098a9(0x218)+_0x2e6ef6+_0x1098a9(0x2a3);_0x3437f8[_0x1098a9(0x271)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x1f4f21+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x1098a9(0x250)](_0x1098a9(0x27c))['classList'][_0x1098a9(0x2a1)]('active'),document[_0x1098a9(0x250)](_0x1098a9(0x274))['classList'][_0x1098a9(0x2a1)](_0x1098a9(0x21d));}function closeAllSheets(){const _0x2226e9=a3_0x2f8d6c;document[_0x2226e9(0x250)]('overlay')[_0x2226e9(0x272)]['remove']('active'),document['querySelectorAll']('.sheet')[_0x2226e9(0x241)](_0x136afe=>_0x136afe[_0x2226e9(0x272)][_0x2226e9(0x291)](_0x2226e9(0x21d)));}function openSheet(_0xec7c1d){const _0x4bb818=a3_0x2f8d6c;document[_0x4bb818(0x250)](_0x4bb818(0x27c))[_0x4bb818(0x272)][_0x4bb818(0x2a1)](_0x4bb818(0x29b)),document['getElementById'](_0xec7c1d)[_0x4bb818(0x272)]['add'](_0x4bb818(0x21d));}function getLocalDateStr(_0x27fd21){const _0x5045fe=a3_0x2f8d6c,_0x51fd45=_0x27fd21[_0x5045fe(0x1e4)](),_0x1f3857=String(_0x27fd21[_0x5045fe(0x210)]()+0x1)[_0x5045fe(0x1f8)](0x2,'0'),_0x138205=String(_0x27fd21[_0x5045fe(0x1cb)]())[_0x5045fe(0x1f8)](0x2,'0');return _0x51fd45+'-'+_0x1f3857+'-'+_0x138205;}function getStartOfWeek(_0x3515b5){const _0x542448=a3_0x2f8d6c,_0x239a85=new Date(_0x3515b5),_0x28dc23=_0x239a85[_0x542448(0x217)](),_0x20d4b3=_0x239a85[_0x542448(0x1cb)]()-_0x28dc23+(_0x28dc23===0x0?-0x6:0x1);return _0x239a85[_0x542448(0x287)](_0x20d4b3),_0x239a85[_0x542448(0x246)](0x0,0x0,0x0,0x0),_0x239a85;}function scrollToToday(){const _0xf3c4bd=getLocalDateStr(new Date());setTimeout(()=>{const _0x598599=a3_0x1dac,_0x581239=document[_0x598599(0x286)](_0x598599(0x1ff)+_0xf3c4bd+'\x22]');if(_0x581239){const _0x30deeb=document[_0x598599(0x250)](_0x598599(0x1dc)),_0x59a551=_0x581239[_0x598599(0x1c6)]-_0x30deeb[_0x598599(0x1d4)]/0x2+_0x581239[_0x598599(0x278)]/0x2;_0x30deeb[_0x598599(0x223)]({'left':_0x59a551,'behavior':_0x598599(0x228)}),_0x30deeb[_0x598599(0x208)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x54327b=a3_0x2f8d6c,_0x56f0c0=new Date(),_0x58dc7b=document[_0x54327b(0x250)](_0x54327b(0x22e)),_0x410ca7=document[_0x54327b(0x250)](_0x54327b(0x259)),_0x3c286f=(_0x56f0c0['getHours']()*0x3c+_0x56f0c0[_0x54327b(0x280)]())/0x3c*GRID_H;_0x58dc7b[_0x54327b(0x219)]['top']=_0x3c286f+'px',_0x58dc7b[_0x54327b(0x219)]['display']='block',_0x410ca7[_0x54327b(0x219)][_0x54327b(0x284)]=_0x3c286f+'px',_0x410ca7[_0x54327b(0x219)][_0x54327b(0x2b3)]=_0x54327b(0x2b0),_0x410ca7[_0x54327b(0x271)]=String(_0x56f0c0[_0x54327b(0x26b)]())[_0x54327b(0x1f8)](0x2,'0')+':'+String(_0x56f0c0[_0x54327b(0x280)]())['padStart'](0x2,'0');}function a3_0x1dac(_0x147e29,_0x4c538a){_0x147e29=_0x147e29-0x1be;const _0x5c6615=a3_0x1771();let _0x5800a1=_0x5c6615[_0x147e29];return _0x5800a1;}function onScroll(){const _0x94ef49=a3_0x2f8d6c,_0x1f65f4=document[_0x94ef49(0x250)](_0x94ef49(0x1dc)),_0x27f3c2=document[_0x94ef49(0x27a)](_0x94ef49(0x261));for(let _0x16f849 of _0x27f3c2)if(_0x16f849[_0x94ef49(0x1c6)]>=_0x1f65f4[_0x94ef49(0x20f)]){const _0x812573=new Date(_0x16f849[_0x94ef49(0x1db)]('data-date'));document[_0x94ef49(0x250)]('headerMonth')['textContent']=_0x812573[_0x94ef49(0x247)]('ru',{'month':_0x94ef49(0x24f)})['toUpperCase']()+'\x20'+_0x812573[_0x94ef49(0x1e4)]();break;}}function showToast(_0x18bf10){const _0x3dab9e=a3_0x2f8d6c,_0x14ca46=document[_0x3dab9e(0x250)](_0x3dab9e(0x2b5));_0x14ca46[_0x3dab9e(0x271)]=_0x18bf10,_0x14ca46[_0x3dab9e(0x272)][_0x3dab9e(0x2a1)](_0x3dab9e(0x229)),setTimeout(()=>_0x14ca46['classList'][_0x3dab9e(0x291)](_0x3dab9e(0x229)),0x7d0);}function handleInfiniteScroll(){const _0x3308a1=a3_0x2f8d6c,_0x419469=document[_0x3308a1(0x250)](_0x3308a1(0x1dc)),_0x1f6de1=_0x419469['scrollLeft'],_0xe627bb=_0x419469[_0x3308a1(0x292)],_0x7d90ff=_0x419469[_0x3308a1(0x1d4)];if(_0xe627bb-(_0x1f6de1+_0x7d90ff)<0x12c){const _0x385e71=endOffset;endOffset+=0xe,renderDayRange(_0x385e71+0x1,endOffset),reRenderBlocks();}if(_0x1f6de1<0x12c){const _0xdfe4f0=startOffset;startOffset-=0xe,prependDays(startOffset,_0xdfe4f0-0x1),_0x419469[_0x3308a1(0x20f)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x468f16,_0x39edc1){const _0x20fa9b=a3_0x2f8d6c,_0x193b43=document[_0x20fa9b(0x250)](_0x20fa9b(0x275)),_0x4c5d56=document[_0x20fa9b(0x250)]('gridColumns'),_0x56f9fa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x42823c=new Date();_0x42823c[_0x20fa9b(0x246)](0x0,0x0,0x0,0x0);const _0x56e65d=getLocalDateStr(new Date()),_0x431e91=document[_0x20fa9b(0x206)](),_0x3c22b9=document[_0x20fa9b(0x206)]();for(let _0xc4756a=_0x468f16;_0xc4756a<=_0x39edc1;_0xc4756a++){const _0x2de5e7=new Date(_0x42823c);_0x2de5e7['setDate'](_0x2de5e7[_0x20fa9b(0x1cb)]()+_0xc4756a);const _0xdd86ba=getLocalDateStr(_0x2de5e7);let _0x417622=_0x2de5e7[_0x20fa9b(0x217)]()-0x1;if(_0x417622===-0x1)_0x417622=0x6;const _0x1c125c=_0xdd86ba===_0x56e65d,_0x581d78=document[_0x20fa9b(0x216)]('div');_0x581d78[_0x20fa9b(0x294)]='day-col-header\x20'+(_0x1c125c?_0x20fa9b(0x2af):''),_0x581d78['setAttribute'](_0x20fa9b(0x255),_0xdd86ba),_0x581d78[_0x20fa9b(0x201)]=_0x20fa9b(0x215)+_0x56f9fa[_0x417622]+'</div><div\x20class=\x22dch-num\x22>'+_0x2de5e7[_0x20fa9b(0x1cb)]()+_0x20fa9b(0x1ed),_0x431e91['appendChild'](_0x581d78);const _0xc63f31=document['createElement'](_0x20fa9b(0x2ad));_0xc63f31[_0x20fa9b(0x294)]=_0x20fa9b(0x202)+(_0x1c125c?_0x20fa9b(0x2af):''),_0xc63f31['setAttribute']('data-date',_0xdd86ba),_0xc63f31[_0x20fa9b(0x285)](_0x20fa9b(0x24e),_0x417622),_0x3c22b9[_0x20fa9b(0x264)](_0xc63f31);}_0x193b43[_0x20fa9b(0x207)](_0x431e91,_0x193b43[_0x20fa9b(0x1d6)]),_0x4c5d56[_0x20fa9b(0x207)](_0x3c22b9,_0x4c5d56[_0x20fa9b(0x286)]('.day-column'));}function hexToRgba(_0xeaed32,_0x34cefe){const _0x3251ff=a3_0x2f8d6c;let _0x33e652;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3251ff(0x29e)](_0xeaed32))return _0x33e652=_0xeaed32[_0x3251ff(0x26a)](0x1)['split'](''),_0x33e652[_0x3251ff(0x1da)]==0x3&&(_0x33e652=[_0x33e652[0x0],_0x33e652[0x0],_0x33e652[0x1],_0x33e652[0x1],_0x33e652[0x2],_0x33e652[0x2]]),_0x33e652='0x'+_0x33e652[_0x3251ff(0x2a8)](''),_0x3251ff(0x27f)+[_0x33e652>>0x10&0xff,_0x33e652>>0x8&0xff,_0x33e652&0xff][_0x3251ff(0x2a8)](',')+','+_0x34cefe+')';return'rgba(10,\x20132,\x20255,\x20'+_0x34cefe+')';}let confirmResolver=null;function showCustomConfirm(_0x41daed,_0x5d3fb3,_0xc4141a=!![]){const _0xb38ca1=a3_0x2f8d6c;document[_0xb38ca1(0x250)](_0xb38ca1(0x230))['textContent']=_0x41daed,document[_0xb38ca1(0x250)]('ccText')[_0xb38ca1(0x271)]=_0x5d3fb3;const _0x35be95=document['getElementById'](_0xb38ca1(0x1d8));return _0xc4141a?(_0x35be95['style']['color']=_0xb38ca1(0x1d0),_0x35be95[_0xb38ca1(0x219)]['fontWeight']=_0xb38ca1(0x248)):(_0x35be95['style'][_0xb38ca1(0x1ca)]=_0xb38ca1(0x293),_0x35be95[_0xb38ca1(0x219)]['fontWeight']='600'),new Promise(_0xf5a490=>{const _0x42ddfc=_0xb38ca1;confirmResolver=_0xf5a490,document['getElementById'](_0x42ddfc(0x1fc))['classList'][_0x42ddfc(0x2a1)](_0x42ddfc(0x221));});}function resolveCustomConfirm(_0x3cedeb){const _0x5e4bb7=a3_0x2f8d6c;document[_0x5e4bb7(0x250)](_0x5e4bb7(0x1fc))[_0x5e4bb7(0x272)][_0x5e4bb7(0x291)](_0x5e4bb7(0x221));if(confirmResolver)confirmResolver(_0x3cedeb);}async function tryCancelCurrentSession(){const _0x4cbaff=a3_0x2f8d6c;if(!currentSession)return;const _0x2de352=await showCustomConfirm(_0x4cbaff(0x1e2),_0x4cbaff(0x242),!![]);if(!_0x2de352)return;const _0x433c79=currentSession;closeAllSheets(),sessions=sessions[_0x4cbaff(0x26f)](_0xe80c9b=>_0xe80c9b['id']!==_0x433c79['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x4cbaff(0x258)]();try{const _0x448ef3=window[_0x4cbaff(0x234)]?.[_0x4cbaff(0x1e1)],_0x262599=await fetch(API_URL,{'method':_0x4cbaff(0x251),'body':JSON[_0x4cbaff(0x22a)]({'action':_0x4cbaff(0x1c7),'init_data':_0x448ef3?.[_0x4cbaff(0x1fd)]||'','coachId':_0x433c79['coachId'],'dateStr':_0x433c79['dateStr'],'sessionId':_0x433c79['id']})});if(_0x262599['ok'])DataManager[_0x4cbaff(0x1df)]();}catch(_0x538257){showToast(_0x4cbaff(0x29c));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x19d057=a3_0x2f8d6c;if(!currentSession)return;document['getElementById']('detailsSheet')['classList']['remove'](_0x19d057(0x21d)),document['getElementById'](_0x19d057(0x243))[_0x19d057(0x272)]['add']('open');const _0x46aac4=document[_0x19d057(0x250)]('rsDatesTrack'),_0x4c9dfd=document[_0x19d057(0x250)](_0x19d057(0x1c2));_0x46aac4['innerHTML']='',_0x4c9dfd[_0x19d057(0x201)]=_0x19d057(0x1e7);const [_0x2542c0,_0x4e13b2]=currentSession[_0x19d057(0x21e)][_0x19d057(0x1f5)](':')['map'](Number),[_0x398796,_0x5571ff]=currentSession[_0x19d057(0x1d1)][_0x19d057(0x1f5)](':')[_0x19d057(0x24d)](Number),_0x1884e4=_0x398796*0x3c+_0x5571ff-(_0x2542c0*0x3c+_0x4e13b2);try{const _0xd24b27=window[_0x19d057(0x234)]?.[_0x19d057(0x1e1)],_0x219919=await fetch(API_URL,{'method':_0x19d057(0x251),'body':JSON['stringify']({'action':_0x19d057(0x1c5),'coachId':currentSession['coachId'],'duration':_0x1884e4,'init_data':_0xd24b27?.[_0x19d057(0x1fd)]||'','excludeSessionId':currentSession['id']})}),_0x1a1aec=await _0x219919['json']();_0x1a1aec['ok']&&_0x1a1aec[_0x19d057(0x257)]?(availableSlotsCache=_0x1a1aec[_0x19d057(0x257)],renderRescheduleDates()):_0x4c9dfd['innerHTML']=_0x19d057(0x267);}catch(_0xf33c88){_0x4c9dfd['innerHTML']=_0x19d057(0x1c0);}}function renderRescheduleDates(){const _0x207f68=a3_0x2f8d6c,_0x193ec9=document['getElementById']('rsDatesTrack');_0x193ec9[_0x207f68(0x201)]='';const _0xa69c61=Object[_0x207f68(0x24c)](availableSlotsCache)[_0x207f68(0x260)](),_0x34580f=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xa69c61['length']===0x0){document[_0x207f68(0x250)]('rsSlotsGrid')[_0x207f68(0x201)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0xa69c61[_0x207f68(0x241)]((_0x1018ca,_0x5434b0)=>{const _0x13d38b=_0x207f68,_0xefbdbb=new Date(_0x1018ca),_0x20751b=_0x34580f[_0xefbdbb[_0x13d38b(0x217)]()],_0x51f7f5=_0xefbdbb[_0x13d38b(0x1cb)](),_0x23ba1f=document[_0x13d38b(0x216)]('div');_0x23ba1f[_0x13d38b(0x294)]=_0x13d38b(0x1f1);if(_0x5434b0===0x0)_0x23ba1f[_0x13d38b(0x272)]['add']('active');_0x23ba1f[_0x13d38b(0x201)]=_0x13d38b(0x200)+_0x20751b+_0x13d38b(0x21b)+_0x51f7f5+_0x13d38b(0x1ed),_0x23ba1f['onclick']=()=>selectRsDate(_0x1018ca,_0x23ba1f),_0x193ec9[_0x13d38b(0x264)](_0x23ba1f);}),selectRsDate(_0xa69c61[0x0],_0x193ec9[_0x207f68(0x1d6)]);}function selectRsDate(_0x3cade9,_0x16e0c1){const _0xd671b4=a3_0x2f8d6c;selectedRsDate=_0x3cade9,document[_0xd671b4(0x27a)](_0xd671b4(0x23c))[_0xd671b4(0x241)](_0x58ee48=>_0x58ee48[_0xd671b4(0x272)][_0xd671b4(0x291)](_0xd671b4(0x29b)));if(_0x16e0c1)_0x16e0c1['classList'][_0xd671b4(0x2a1)](_0xd671b4(0x29b));const _0x33c07b=document[_0xd671b4(0x250)](_0xd671b4(0x1c2));_0x33c07b[_0xd671b4(0x201)]='';const _0x5c20bc=availableSlotsCache[_0x3cade9]||[];if(_0x5c20bc['length']===0x0){_0x33c07b['innerHTML']=_0xd671b4(0x267);return;}_0x5c20bc[_0xd671b4(0x241)](_0x35d985=>{const _0x47fa2b=_0xd671b4,_0x4a7568=document[_0x47fa2b(0x216)](_0x47fa2b(0x20a));_0x4a7568[_0x47fa2b(0x294)]='rs-time-btn',_0x4a7568[_0x47fa2b(0x271)]=_0x35d985,_0x4a7568['onclick']=()=>confirmReschedule(_0x35d985),_0x33c07b['appendChild'](_0x4a7568);});}async function confirmReschedule(_0x4751f7){const _0x5c3b3f=a3_0x2f8d6c,_0x1dcf3e=new Date(selectedRsDate),_0x5c5b58=_0x1dcf3e['toLocaleDateString'](_0x5c3b3f(0x224),{'day':_0x5c3b3f(0x1cd),'month':_0x5c3b3f(0x24f)}),_0x3838ec=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x5c5b58+_0x5c3b3f(0x1ec)+_0x4751f7+'?',![]);if(!_0x3838ec)return;closeAllSheets(),showToast(_0x5c3b3f(0x2a0)),lastUserActionTime=Date[_0x5c3b3f(0x258)]();const _0x13cf9a=currentSession[_0x5c3b3f(0x1f9)],_0xafda2a=currentSession['id'],[_0xa15bda,_0x947d52]=currentSession[_0x5c3b3f(0x21e)][_0x5c3b3f(0x1f5)](':')[_0x5c3b3f(0x24d)](Number),[_0x372377,_0x5c9c2e]=currentSession[_0x5c3b3f(0x1d1)]['split'](':')[_0x5c3b3f(0x24d)](Number),_0x64051a=_0x372377*0x3c+_0x5c9c2e-(_0xa15bda*0x3c+_0x947d52),[_0x33b04b,_0xe010c2]=_0x4751f7[_0x5c3b3f(0x1f5)](':')[_0x5c3b3f(0x24d)](Number),_0x391d0e=_0x33b04b*0x3c+_0xe010c2+_0x64051a,_0x1db5cf=Math[_0x5c3b3f(0x2b4)](_0x391d0e/0x3c),_0x553d65=_0x391d0e%0x3c,_0x1d983f=String(_0x1db5cf)[_0x5c3b3f(0x1f8)](0x2,'0')+':'+String(_0x553d65)[_0x5c3b3f(0x1f8)](0x2,'0'),_0xc79620=sessions['findIndex'](_0x56ff5e=>_0x56ff5e['id']===_0xafda2a);_0xc79620!==-0x1&&(sessions[_0xc79620][_0x5c3b3f(0x1f9)]=selectedRsDate,sessions[_0xc79620][_0x5c3b3f(0x21e)]=_0x4751f7,sessions[_0xc79620][_0x5c3b3f(0x1d1)]=_0x1d983f,reRenderBlocks());try{const _0x287bd2=window['Telegram']?.[_0x5c3b3f(0x1e1)],_0x16429b=await fetch(API_URL,{'method':_0x5c3b3f(0x251),'body':JSON[_0x5c3b3f(0x22a)]({'action':_0x5c3b3f(0x268),'init_data':_0x287bd2?.[_0x5c3b3f(0x1fd)]||'','oldSessionId':_0xafda2a,'oldDate':_0x13cf9a,'newDate':selectedRsDate,'newTime':_0x4751f7,'coachId':currentSession[_0x5c3b3f(0x273)]})}),_0x750392=await _0x16429b['json']();!_0x750392['ok']?(showToast(_0x5c3b3f(0x25b)),DataManager[_0x5c3b3f(0x212)]()):(showToast(_0x5c3b3f(0x297)),DataManager[_0x5c3b3f(0x1df)]());}catch(_0x23eb3e){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x2f8d6c(0x2a7)](a3_0x2f8d6c(0x1ce),init);function a3_0x1771(){const _0x1c8186=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','#ff453a','end','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','startsWith','clientWidth','.btn-reschedule','firstChild','blocked-range-part\x20stripe-bg','ccYesBtn','total','length','getAttribute','matrixViewport','uc_client_settings','calc(','saveLocally','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','WebApp','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','%\x20-\x204px)','getFullYear','toLocaleDateString','expand','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','strokeDashoffset','week','</span>\x20/\x20','parse','\x20–≤\x20','</div>','var(--acc-blue)','.period-switch\x20.p-btn','detStatus','rs-date-chip','client_load','.day-column','v9.5-CLIENT-ANALYTICS','split','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','detTime','padStart','dateStr','T23:59:59','calendar','customConfirm','initData','18YVtkRr','.day-col-header[data-date=\x22','<div\x20class=\x22rs-day-name\x22>','innerHTML','day-column\x20','anDonutCircle','log','var(--acc-green)','createDocumentFragment','insertBefore','scrollTop','anEnd','button','clients','setBackgroundColor','exceptions','substr','scrollLeft','getMonth','slice','syncLoad','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','apply','<div\x20class=\x22dch-day\x22>','createElement','getDay','–∑–∞\x20','style','settings','</div><div\x20class=\x22rs-day-num\x22>','pattern','open','start','width','status','visible','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','scrollTo','ru-RU','cancelled','cancelHint','analyticsList','auto','show','stringify','288556bBtAOp','%\x20+\x202px)','blocked-slot\x20stripe-bg','globalTimeLine','flex','ccTitle','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','all','day-col-header\x20','Telegram','1038410dbgpCr','toUpperCase','px\x200px','scroll','getTime','571375yGrSgr','onClick','.rs-date-chip','clientId','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','anPercent','forEach','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','rescheduleSheet','timeColumn','applyData','setHours','toLocaleString','600','gridColumns','coach_profiles','anCustomDates','keys','map','data-day-idx','long','getElementById','POST','min','borderLeftColor','value','data-date','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','data','now','timeLineBadge','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','day-off-overlay\x20stripe-bg','entries','219272paYbnD','getItem','sort','.day-col-header','stopPropagation','colIndex','appendChild','height','constructor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','reschedule','867344LJpdZp','substring','getHours','cid','custom','none','filter','uc_client_sessions','textContent','classList','coachId','detailsSheet','daysHeaderTrack','sid','client-stat-card','offsetWidth','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','querySelectorAll','(((.+)+)+)+$','overlay','uc_client_list','max','rgba(','getMinutes','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setItem','8598ZOqojP','top','setAttribute','querySelector','setDate','setHeaderColor','push','error','\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackButton','backgroundColor','event-card','user','remove','scrollWidth','#0a84ff','className','loadLocal','\x20–∏–∑\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','initDataUnsafe','backgroundPosition','140zkFovd','active','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','disableVerticalSwipes','test','#050505','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','add','px\x20-','\x20—á.','completed','isArray','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','addEventListener','join','Error\x20setting\x20color:','done','seriesId','zIndex','div','round','today','block','ranges','3slxpuO','display','floor','toast','left','90070SaCwne','cancel_window','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','T00:00:00','rsSlotsGrid','anStart','.btn-cancel','get_slots','offsetLeft','client_cancel','then','Critical\x20TMA\x20Error:','color','getDate','time-label','numeric','DOMContentLoaded'];a3_0x1771=function(){return _0x1c8186;};return a3_0x1771();}