const a3_0x3c45c9=a3_0x17c3;(function(_0xf8a2f3,_0x2a5f10){const _0x1a3795=a3_0x17c3,_0x389712=_0xf8a2f3();while(!![]){try{const _0x1cff86=-parseInt(_0x1a3795(0x1ad))/0x1*(-parseInt(_0x1a3795(0x1b3))/0x2)+-parseInt(_0x1a3795(0x174))/0x3+-parseInt(_0x1a3795(0x153))/0x4*(-parseInt(_0x1a3795(0x184))/0x5)+parseInt(_0x1a3795(0x207))/0x6*(-parseInt(_0x1a3795(0x1dd))/0x7)+parseInt(_0x1a3795(0x1d0))/0x8+parseInt(_0x1a3795(0x200))/0x9+-parseInt(_0x1a3795(0x20a))/0xa;if(_0x1cff86===_0x2a5f10)break;else _0x389712['push'](_0x389712['shift']());}catch(_0x47a944){_0x389712['push'](_0x389712['shift']());}}}(a3_0x3fde,0x27803));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x3c45c9(0x1ef),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3c45c9(0x1f2),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x15b450=a3_0x3c45c9,_0x25c7f8=(function(){let _0x475c7c=!![];return function(_0x4af226,_0x35f56c){const _0x334523=_0x475c7c?function(){if(_0x35f56c){const _0x43d2ab=_0x35f56c['apply'](_0x4af226,arguments);return _0x35f56c=null,_0x43d2ab;}}:function(){};return _0x475c7c=![],_0x334523;};}()),_0x16d7d9=_0x25c7f8(this,function(){const _0x2a690b=a3_0x17c3;return _0x16d7d9[_0x2a690b(0x178)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x16d7d9)[_0x2a690b(0x133)](_0x2a690b(0x159));});_0x16d7d9();try{const _0xe6ff6e=window[_0x15b450(0x155)]?.[_0x15b450(0x1cc)];if(!_0xe6ff6e)return;_0xe6ff6e['ready'](),_0xe6ff6e[_0x15b450(0x135)]();try{_0xe6ff6e[_0x15b450(0x172)]('#050505'),_0xe6ff6e[_0x15b450(0x151)]&&_0xe6ff6e[_0x15b450(0x151)](_0x15b450(0x1f8));}catch(_0x376194){console[_0x15b450(0x168)](_0x15b450(0x1ae),_0x376194);}try{_0xe6ff6e[_0x15b450(0x1d4)]&&(_0xe6ff6e[_0x15b450(0x1d4)][_0x15b450(0x13e)](),_0xe6ff6e['BackButton']['offClick'](),_0xe6ff6e['BackButton'][_0x15b450(0x1e9)](function(){const _0x21e50c=_0x15b450;window[_0x21e50c(0x199)]['href']=_0x21e50c(0x208);}));}catch(_0x4dddc3){console[_0x15b450(0x168)]('Error\x20setting\x20back\x20button:',_0x4dddc3);}try{if(_0xe6ff6e['disableVerticalSwipes'])_0xe6ff6e[_0x15b450(0x132)]();}catch(_0x276b62){}}catch(_0x5520f2){console['error'](_0x15b450(0x14f),_0x5520f2);}}());function isAdmin(){const _0x367985=a3_0x3c45c9;try{const _0x2a81f1=Number(window[_0x367985(0x155)]?.['WebApp']?.[_0x367985(0x1c3)]?.[_0x367985(0x1c6)]?.['id']);return _0x2a81f1===0xbaf7174;}catch(_0x355869){return![];}}const DataManager={'saveLocally'(){const _0x423391=a3_0x3c45c9;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x423391(0x1fd)](sessions)),localStorage[_0x423391(0x12b)](KEY_CLIENTS,JSON[_0x423391(0x1fd)](clients)),localStorage[_0x423391(0x12b)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x8e7129){}},'loadLocal'(){const _0x36e88e=a3_0x3c45c9;try{const _0x59744d=localStorage['getItem'](KEY_SESSIONS);if(_0x59744d)sessions=JSON[_0x36e88e(0x162)](_0x59744d);const _0x273879=localStorage['getItem'](KEY_CLIENTS);if(_0x273879)clients=JSON[_0x36e88e(0x162)](_0x273879);const _0x52afc7=localStorage['getItem'](KEY_SETTINGS);if(_0x52afc7){const _0x47b363=JSON[_0x36e88e(0x162)](_0x52afc7);if(_0x47b363[_0x36e88e(0x196)])availabilityPattern=_0x47b363['pattern'];if(_0x47b363['ranges'])specialRanges=_0x47b363['ranges'];if(_0x47b363['exceptions'])dateExceptions=_0x47b363[_0x36e88e(0x1c1)];}}catch(_0x1a1c11){}},async 'syncLoad'(){const _0x5a756f=a3_0x3c45c9,_0x13dfcb=new Date(),_0x5b37cf=_0x13dfcb['getFullYear']()+'-'+String(_0x13dfcb[_0x5a756f(0x1e7)]()+0x1)['padStart'](0x2,'0'),_0x3991d7=new Date(_0x13dfcb);_0x3991d7['setMonth'](_0x13dfcb[_0x5a756f(0x1e7)]()+0x1);const _0x3d3d30=_0x3991d7[_0x5a756f(0x149)]()+'-'+String(_0x3991d7[_0x5a756f(0x1e7)]()+0x1)['padStart'](0x2,'0'),_0x30e194=Date[_0x5a756f(0x203)]();try{const _0x152c84=window[_0x5a756f(0x155)]?.[_0x5a756f(0x1cc)],_0x5946b5=_0x152c84?.['initData']||'',[_0x1b86b0,_0x1f1859]=await Promise[_0x5a756f(0x1e0)]([fetch(API_URL,{'method':'POST','body':JSON[_0x5a756f(0x1fd)]({'action':_0x5a756f(0x1dc),'init_data':_0x5946b5,'month_str':_0x5b37cf})})[_0x5a756f(0x1be)](_0x53f5bb=>_0x53f5bb[_0x5a756f(0x20e)]()),fetch(API_URL,{'method':_0x5a756f(0x1ff),'body':JSON[_0x5a756f(0x1fd)]({'action':_0x5a756f(0x1dc),'init_data':_0x5946b5,'month_str':_0x3d3d30})})[_0x5a756f(0x1be)](_0x1966f1=>_0x1966f1[_0x5a756f(0x20e)]())]);if(lastUserActionTime>_0x30e194){console[_0x5a756f(0x168)](_0x5a756f(0x140));return;}if(_0x1b86b0['ok'])this[_0x5a756f(0x163)](_0x1b86b0[_0x5a756f(0x198)],_0x5b37cf);if(_0x1f1859['ok'])this['applyData'](_0x1f1859[_0x5a756f(0x198)],_0x3d3d30);this['saveLocally']();}catch(_0xc71f91){}},'applyData'(_0x2cc23d,_0xb566f8){const _0x5dd246=a3_0x3c45c9;if(!_0x2cc23d)return;if(_0x2cc23d[_0x5dd246(0x1ac)]){if(_0x2cc23d[_0x5dd246(0x1ac)][_0x5dd246(0x196)])availabilityPattern=_0x2cc23d['settings'][_0x5dd246(0x196)];if(_0x2cc23d[_0x5dd246(0x1ac)][_0x5dd246(0x1b8)])specialRanges=_0x2cc23d['settings'][_0x5dd246(0x1b8)];if(_0x2cc23d[_0x5dd246(0x1ac)][_0x5dd246(0x1c1)])dateExceptions=_0x2cc23d[_0x5dd246(0x1ac)]['exceptions'];}if(_0x2cc23d[_0x5dd246(0x154)]&&Array[_0x5dd246(0x14b)](_0x2cc23d[_0x5dd246(0x154)]))clients=_0x2cc23d[_0x5dd246(0x154)];_0x2cc23d[_0x5dd246(0x1c2)]&&(coachProfiles={...coachProfiles,..._0x2cc23d[_0x5dd246(0x1c2)]}),_0x2cc23d[_0x5dd246(0x131)]&&(sessions=sessions[_0x5dd246(0x1c4)](_0x157d3b=>!_0x157d3b['dateStr']['startsWith'](_0xb566f8)),Object[_0x5dd246(0x1c8)](_0x2cc23d[_0x5dd246(0x131)])[_0x5dd246(0x141)](_0x3ae439=>{const _0x19be1c=_0x5dd246,_0x13ec85=_0x2cc23d[_0x19be1c(0x131)][_0x3ae439];_0x13ec85['forEach'](_0x161f76=>{const _0x356036=_0x19be1c;sessions[_0x356036(0x1fe)]({'id':_0x161f76['i'],'clientId':_0x161f76['c'],'coachId':_0x161f76['cid'],'dateStr':_0xb566f8+'-'+_0x3ae439['padStart'](0x2,'0'),'start':_0x161f76['s'],'end':_0x161f76['e'],'note':_0x161f76['n']||'','status':_0x161f76['st']||_0x356036(0x1d2),'seriesId':_0x161f76[_0x356036(0x1f5)]});});})),reRenderBlocks();}};function init(){const _0x30baaf=a3_0x3c45c9;DataManager[_0x30baaf(0x15b)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x30baaf(0x192),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x25c444=a3_0x3c45c9,_0xef39da=document['getElementById'](_0x25c444(0x166)),_0x3735e6=document['getElementById'](_0x25c444(0x18d));_0xef39da['innerHTML']='',_0xef39da[_0x25c444(0x1f3)](_0x3735e6);for(let _0x53a558=0x0;_0x53a558<0x18;_0x53a558++){const _0x59cd6d=document[_0x25c444(0x136)](_0x25c444(0x142));_0x59cd6d[_0x25c444(0x20b)]=_0x25c444(0x186);if(_0x53a558>0x0)_0x59cd6d[_0x25c444(0x15f)]='<span>'+String(_0x53a558)['padStart'](0x2,'0')+_0x25c444(0x189);_0xef39da['appendChild'](_0x59cd6d);}}function renderDayRange(_0x383501,_0x23e002){const _0x39a64c=a3_0x3c45c9,_0x5190e4=document[_0x39a64c(0x1f1)](_0x39a64c(0x143)),_0x5a6873=document[_0x39a64c(0x1f1)]('gridColumns'),_0x3102c3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32b96c=new Date();_0x32b96c['setHours'](0x0,0x0,0x0,0x0);const _0x4b5a02=getLocalDateStr(new Date());for(let _0x9f51e3=_0x383501;_0x9f51e3<=_0x23e002;_0x9f51e3++){const _0x8446aa=new Date(_0x32b96c);_0x8446aa[_0x39a64c(0x13f)](_0x8446aa[_0x39a64c(0x18a)]()+_0x9f51e3);const _0x1e6347=getLocalDateStr(_0x8446aa);let _0x5f3c56=_0x8446aa[_0x39a64c(0x1bb)]()-0x1;if(_0x5f3c56===-0x1)_0x5f3c56=0x6;const _0x58cb0c=_0x1e6347===_0x4b5a02,_0x492de6=document[_0x39a64c(0x136)](_0x39a64c(0x142));_0x492de6[_0x39a64c(0x20b)]=_0x39a64c(0x1e8)+(_0x58cb0c?_0x39a64c(0x171):''),_0x492de6[_0x39a64c(0x197)](_0x39a64c(0x201),_0x1e6347),_0x492de6[_0x39a64c(0x15f)]='<div\x20class=\x22dch-day\x22>'+_0x3102c3[_0x5f3c56]+_0x39a64c(0x169)+_0x8446aa[_0x39a64c(0x18a)]()+_0x39a64c(0x16a),_0x5190e4['appendChild'](_0x492de6);const _0x178290=document[_0x39a64c(0x136)](_0x39a64c(0x142));_0x178290['className']=_0x39a64c(0x1cd)+(_0x58cb0c?'today':''),_0x178290[_0x39a64c(0x197)](_0x39a64c(0x201),_0x1e6347),_0x178290[_0x39a64c(0x197)](_0x39a64c(0x180),_0x5f3c56),_0x5a6873[_0x39a64c(0x1f3)](_0x178290);}}function reRenderBlocks(){const _0x482b34=a3_0x3c45c9;document[_0x482b34(0x1a0)]('.day-column')[_0x482b34(0x141)](_0x5779a1=>{const _0x41b537=_0x482b34;_0x5779a1[_0x41b537(0x1a0)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x2a9e06=>_0x2a9e06[_0x41b537(0x12c)]());const _0x546428=_0x5779a1[_0x41b537(0x12d)](_0x41b537(0x201)),_0x5e683e=parseInt(_0x5779a1[_0x41b537(0x12d)](_0x41b537(0x180))),_0x498ec6=Math[_0x41b537(0x185)](_0x5779a1[_0x41b537(0x1b1)]);(availabilityPattern[_0x5e683e]||[])[_0x41b537(0x141)](_0x474ae1=>{const _0x25ad25=_0x41b537,_0xe6132a=document['createElement'](_0x25ad25(0x142));_0xe6132a[_0x25ad25(0x20b)]=_0x25ad25(0x1d1),_0xe6132a['style'][_0x25ad25(0x13a)]=_0x474ae1*GRID_H+'px',_0xe6132a[_0x25ad25(0x20d)]['backgroundPosition']='-'+_0x498ec6+'px\x20-'+_0x474ae1*GRID_H+'px',_0x5779a1[_0x25ad25(0x1f3)](_0xe6132a);});if(specialRanges[_0x41b537(0x13d)]>0x0){const _0x14404a=new Date(_0x546428+_0x41b537(0x182))[_0x41b537(0x1f9)](),_0x214ad2=new Date(_0x546428+'T23:59:59')[_0x41b537(0x1f9)]();specialRanges['forEach'](_0x2f1c50=>{const _0x488457=_0x41b537,_0x268ae4=new Date(_0x2f1c50[_0x488457(0x19b)])[_0x488457(0x1f9)](),_0x2f4723=new Date(_0x2f1c50[_0x488457(0x1b0)])[_0x488457(0x1f9)](),_0x42b9cb=Math[_0x488457(0x165)](_0x14404a,_0x268ae4),_0x25eed7=Math[_0x488457(0x1a5)](_0x214ad2,_0x2f4723);if(_0x42b9cb<_0x25eed7){const _0x2719dc=(_0x42b9cb-_0x14404a)/0x36ee80*GRID_H,_0x592203=(_0x25eed7-_0x42b9cb)/0x36ee80*GRID_H,_0x480456=document[_0x488457(0x136)](_0x488457(0x142));_0x592203>=23.5*GRID_H?(_0x480456[_0x488457(0x20b)]='day-off-overlay\x20stripe-bg',_0x480456[_0x488457(0x20d)][_0x488457(0x209)]='-'+_0x498ec6+_0x488457(0x1bf)):(_0x480456[_0x488457(0x20b)]='blocked-range-part\x20stripe-bg',_0x480456[_0x488457(0x20d)][_0x488457(0x13a)]=_0x2719dc+'px',_0x480456[_0x488457(0x20d)]['height']=_0x592203+'px',_0x480456[_0x488457(0x20d)][_0x488457(0x209)]='-'+_0x498ec6+_0x488457(0x1df)+_0x2719dc+'px'),_0x5779a1[_0x488457(0x1f3)](_0x480456);}});}renderEventsForColumn(_0x5779a1,_0x546428);});}function renderEventsForColumn(_0x47d28b,_0x5cd12d){const _0x1db099=a3_0x3c45c9,_0x1583e9=sessions[_0x1db099(0x1c4)](_0x21a1f0=>_0x21a1f0[_0x1db099(0x183)]===_0x5cd12d),_0x54483d=_0x1583e9[_0x1db099(0x1c0)](_0x2b1195=>{const _0x7fb750=_0x1db099,[_0x33fc96,_0x1b98c9]=_0x2b1195[_0x7fb750(0x19b)]['split'](':')[_0x7fb750(0x1c0)](Number),[_0x24ff19,_0x101cfd]=_0x2b1195[_0x7fb750(0x1b0)]['split'](':')['map'](Number);return{'data':_0x2b1195,'start':_0x33fc96*0x3c+_0x1b98c9,'end':_0x24ff19*0x3c+_0x101cfd,'colIndex':0x0};});_0x54483d[_0x1db099(0x1a7)]((_0x2cc4b1,_0x489f2b)=>_0x2cc4b1[_0x1db099(0x19b)]-_0x489f2b[_0x1db099(0x19b)]||_0x489f2b['end']-_0x489f2b['start']-(_0x2cc4b1[_0x1db099(0x1b0)]-_0x2cc4b1[_0x1db099(0x19b)]));const _0x658b65=[];_0x54483d[_0x1db099(0x141)](_0x371316=>{const _0x3783b5=_0x1db099;let _0x4c048d=![];for(let _0x4d1b95=0x0;_0x4d1b95<_0x658b65['length'];_0x4d1b95++){const _0x3a1619=_0x658b65[_0x4d1b95];if(_0x371316[_0x3783b5(0x19b)]>=_0x3a1619[_0x3a1619[_0x3783b5(0x13d)]-0x1]['end']){_0x3a1619['push'](_0x371316),_0x371316['colIndex']=_0x4d1b95,_0x4c048d=!![];break;}}!_0x4c048d&&(_0x658b65[_0x3783b5(0x1fe)]([_0x371316]),_0x371316['colIndex']=_0x658b65[_0x3783b5(0x13d)]-0x1);}),_0x54483d[_0x1db099(0x141)](_0x119dc2=>{const _0x118146=_0x1db099;let _0x2b5ca9=0x0;_0x54483d['forEach'](_0x46018e=>{const _0x57266b=a3_0x17c3;if(Math[_0x57266b(0x165)](_0x119dc2[_0x57266b(0x19b)],_0x46018e[_0x57266b(0x19b)])<Math[_0x57266b(0x1a5)](_0x119dc2[_0x57266b(0x1b0)],_0x46018e[_0x57266b(0x1b0)])&&_0x46018e[_0x57266b(0x20c)]>_0x2b5ca9)_0x2b5ca9=_0x46018e['colIndex'];});const _0x880ca=_0x2b5ca9+0x1,_0x208e9d=0x64/_0x880ca,_0xb2920b=_0x119dc2[_0x118146(0x20c)]*_0x208e9d,_0x32496c=document[_0x118146(0x136)](_0x118146(0x142)),_0x433fac=_0x119dc2[_0x118146(0x198)];let _0x549e67='#0a84ff';if(clients&&clients[_0x118146(0x13d)]>0x0){const _0x1a8d42=clients[_0x118146(0x1ed)](_0x4424d8=>String(_0x4424d8['id'])===String(_0x433fac['clientId']));if(_0x1a8d42&&_0x1a8d42[_0x118146(0x17c)])_0x549e67=_0x1a8d42['color'];}const _0x3d7a9a=_0x433fac[_0x118146(0x1f4)]===_0x118146(0x13c),_0x28c8f9=_0x3d7a9a?0x1:0.45;_0x32496c[_0x118146(0x20b)]='event-card'+(_0x3d7a9a?_0x118146(0x161):''),_0x32496c[_0x118146(0x20d)][_0x118146(0x1cf)]=hexToRgba(_0x549e67,_0x28c8f9),_0x32496c['style']['borderLeftColor']=_0x549e67;const _0x43d234=_0x119dc2['start']/0x3c*GRID_H,_0x7ea2ce=(_0x119dc2[_0x118146(0x1b0)]-_0x119dc2[_0x118146(0x19b)])/0x3c*GRID_H;_0x32496c[_0x118146(0x20d)][_0x118146(0x13a)]=_0x43d234+'px',_0x32496c[_0x118146(0x20d)]['height']=Math['max'](_0x7ea2ce,0x14)+'px',_0x32496c[_0x118146(0x20d)]['width']=_0x118146(0x19e)+_0x208e9d+'%\x20-\x204px)',_0x32496c['style'][_0x118146(0x15a)]=_0x118146(0x19e)+_0xb2920b+_0x118146(0x187),_0x32496c[_0x118146(0x20d)]['zIndex']=0xa+_0x119dc2[_0x118146(0x20c)];if(_0x208e9d<0x55)_0x32496c[_0x118146(0x1db)][_0x118146(0x195)](_0x118146(0x138));let _0x252ed9='';if(_0x433fac['seriesId'])_0x252ed9+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3d7a9a)_0x252ed9+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x32496c[_0x118146(0x15f)]=_0x118146(0x1b9)+_0x433fac[_0x118146(0x19b)]+_0x118146(0x202)+_0x433fac['end']+_0x118146(0x1ee)+_0x252ed9+_0x118146(0x15e),_0x32496c['onclick']=_0x6b5f10=>{const _0xfcc9d9=_0x118146;_0x6b5f10[_0xfcc9d9(0x144)](),openDetails(_0x433fac);},_0x47d28b['appendChild'](_0x32496c);});}function openAnalytics(){const _0x4368fc=a3_0x3c45c9,_0x5f0eec=document[_0x4368fc(0x1d8)](_0x4368fc(0x1a1));setAnalyticsPeriod(_0x4368fc(0x1f2),_0x5f0eec),openSheet(_0x4368fc(0x1ba));}function setAnalyticsPeriod(_0x418f43,_0x1762f5){const _0x19aefe=a3_0x3c45c9;currentAnPeriod=_0x418f43,document[_0x19aefe(0x1a0)](_0x19aefe(0x1a1))[_0x19aefe(0x141)](_0x597fa4=>_0x597fa4[_0x19aefe(0x1db)]['remove']('active'));if(_0x1762f5)_0x1762f5[_0x19aefe(0x1db)][_0x19aefe(0x195)](_0x19aefe(0x1fa));const _0x4066e6=document[_0x19aefe(0x1f1)](_0x19aefe(0x191));_0x4066e6[_0x19aefe(0x20d)][_0x19aefe(0x181)]=_0x418f43===_0x19aefe(0x17a)?_0x19aefe(0x194):_0x19aefe(0x1d5);const _0x487f1a=new Date();let _0x57901d=new Date(),_0x1e4ed8=new Date();if(_0x418f43===_0x19aefe(0x1f2))_0x57901d=getStartOfWeek(_0x487f1a),_0x1e4ed8=new Date(_0x57901d),_0x1e4ed8[_0x19aefe(0x13f)](_0x1e4ed8[_0x19aefe(0x18a)]()+0x6);else{if(_0x418f43===_0x19aefe(0x20f))_0x57901d=new Date(_0x487f1a[_0x19aefe(0x149)](),_0x487f1a[_0x19aefe(0x1e7)](),0x1),_0x1e4ed8=new Date(_0x487f1a[_0x19aefe(0x149)](),_0x487f1a['getMonth']()+0x1,0x0);else{!document[_0x19aefe(0x1f1)](_0x19aefe(0x1fc))[_0x19aefe(0x1c9)]&&(document[_0x19aefe(0x1f1)]('anStart')[_0x19aefe(0x1c9)]=getLocalDateStr(_0x487f1a),document[_0x19aefe(0x1f1)](_0x19aefe(0x1a2))[_0x19aefe(0x1c9)]=getLocalDateStr(_0x487f1a));refreshAnalytics();return;}}document['getElementById'](_0x19aefe(0x1fc))[_0x19aefe(0x1c9)]=getLocalDateStr(_0x57901d),document[_0x19aefe(0x1f1)](_0x19aefe(0x1a2))['value']=getLocalDateStr(_0x1e4ed8),refreshAnalytics();}function refreshAnalytics(){const _0x55f6cd=a3_0x3c45c9,_0x19f19b=document[_0x55f6cd(0x1f1)](_0x55f6cd(0x1fc))[_0x55f6cd(0x1c9)],_0x1106cc=document['getElementById'](_0x55f6cd(0x1a2))[_0x55f6cd(0x1c9)];if(!_0x19f19b||!_0x1106cc)return;const _0x521637=sessions[_0x55f6cd(0x1c4)](_0x1d9cc2=>_0x1d9cc2[_0x55f6cd(0x183)]>=_0x19f19b&&_0x1d9cc2[_0x55f6cd(0x183)]<=_0x1106cc&&_0x1d9cc2[_0x55f6cd(0x1f4)]!==_0x55f6cd(0x14a)),_0x4573c7=_0x521637['length'],_0x486579=_0x521637[_0x55f6cd(0x1c4)](_0x1c073a=>_0x1c073a['status']===_0x55f6cd(0x13c))[_0x55f6cd(0x13d)],_0x27cc90=_0x4573c7>0x0?Math[_0x55f6cd(0x185)](_0x486579/_0x4573c7*0x64):0x0;document[_0x55f6cd(0x1f1)](_0x55f6cd(0x18f))[_0x55f6cd(0x1b7)]=_0x27cc90+'%',document[_0x55f6cd(0x1f1)](_0x55f6cd(0x137))['textContent']=_0x486579+_0x55f6cd(0x12f)+_0x4573c7+_0x55f6cd(0x1bc);const _0x45aa97=document['getElementById']('anDonutCircle'),_0x1719c1=0x2*Math['PI']*0x23,_0x55c210=_0x1719c1-_0x27cc90/0x64*_0x1719c1;_0x45aa97[_0x55f6cd(0x20d)]['strokeDashoffset']=_0x55c210;const _0x5f4f3c={};_0x521637['forEach'](_0x316d64=>{const _0x466ecf=_0x55f6cd,_0x2d2ec1=_0x316d64['coachId']||_0x466ecf(0x1cb);if(!_0x5f4f3c[_0x2d2ec1]){const _0x51d2da='#'+_0x2d2ec1[_0x466ecf(0x178)]()[_0x466ecf(0x1aa)](0x0,0x6);_0x5f4f3c[_0x2d2ec1]={'total':0x0,'done':0x0,'color':_0x51d2da};}_0x5f4f3c[_0x2d2ec1][_0x466ecf(0x160)]++;if(_0x316d64[_0x466ecf(0x1f4)]==='completed')_0x5f4f3c[_0x2d2ec1][_0x466ecf(0x14c)]++;});const _0x40fa7c=document[_0x55f6cd(0x1f1)](_0x55f6cd(0x210));_0x40fa7c[_0x55f6cd(0x15f)]='';const _0x43e010=Object[_0x55f6cd(0x175)](_0x5f4f3c)['sort']((_0x747f1f,_0x32d800)=>_0x32d800[0x1][_0x55f6cd(0x160)]-_0x747f1f[0x1][_0x55f6cd(0x160)]);if(_0x43e010['length']===0x0){_0x40fa7c[_0x55f6cd(0x15f)]=_0x55f6cd(0x152);return;}_0x43e010[_0x55f6cd(0x141)](([_0x1a8973,_0x35fec1])=>{const _0x2627d4=_0x55f6cd,_0x3ff0dd=Math[_0x2627d4(0x185)](_0x35fec1[_0x2627d4(0x14c)]/_0x35fec1[_0x2627d4(0x160)]*0x64),_0x2251d6=document[_0x2627d4(0x136)](_0x2627d4(0x142));_0x2251d6['className']=_0x2627d4(0x16f),_0x2251d6['style']['borderLeftColor']=_0x35fec1['color'],_0x2251d6[_0x2627d4(0x15f)]=_0x2627d4(0x1f6)+_0x1a8973[_0x2627d4(0x1aa)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x35fec1[_0x2627d4(0x14c)]+_0x2627d4(0x1ec)+_0x35fec1[_0x2627d4(0x160)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3ff0dd+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x40fa7c[_0x2627d4(0x1f3)](_0x2251d6);});}function openDetails(_0x1b8343){const _0x460e94=a3_0x3c45c9;currentSession=_0x1b8343;const _0x4e149a=new Date(_0x1b8343[_0x460e94(0x183)]),_0x8973ba=_0x4e149a['toLocaleDateString'](_0x460e94(0x157),{'weekday':_0x460e94(0x146),'day':_0x460e94(0x164),'month':_0x460e94(0x146)});document[_0x460e94(0x1f1)](_0x460e94(0x205))[_0x460e94(0x1b7)]=_0x8973ba['charAt'](0x0)['toUpperCase']()+_0x8973ba[_0x460e94(0x1a9)](0x1),document[_0x460e94(0x1f1)](_0x460e94(0x1da))[_0x460e94(0x1b7)]=_0x1b8343[_0x460e94(0x19b)]+_0x460e94(0x202)+_0x1b8343[_0x460e94(0x1b0)],document['getElementById']('detNote')[_0x460e94(0x1b7)]=_0x1b8343['note']||_0x460e94(0x1e5);const _0x27de5c=document[_0x460e94(0x1f1)](_0x460e94(0x1ce)),_0x2b4f19=document[_0x460e94(0x1f1)](_0x460e94(0x19a)),_0x10a19b=_0x2b4f19[_0x460e94(0x1d8)](_0x460e94(0x177)),_0x2fb4fe=_0x2b4f19[_0x460e94(0x1d8)](_0x460e94(0x156)),_0x43f8c0=document[_0x460e94(0x1f1)](_0x460e94(0x1b5));if(_0x1b8343[_0x460e94(0x1f4)]==='completed')_0x27de5c[_0x460e94(0x1b7)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x27de5c['style'][_0x460e94(0x17c)]=_0x460e94(0x14d),_0x2b4f19[_0x460e94(0x20d)][_0x460e94(0x181)]=_0x460e94(0x1d5);else{_0x27de5c[_0x460e94(0x1b7)]=_0x460e94(0x145),_0x27de5c[_0x460e94(0x20d)][_0x460e94(0x17c)]=_0x460e94(0x17e),_0x2b4f19[_0x460e94(0x20d)][_0x460e94(0x181)]=_0x460e94(0x1a6);const _0x51e9a6=new Date(_0x1b8343[_0x460e94(0x183)]+'T'+_0x1b8343[_0x460e94(0x19b)]),_0x4d3b76=new Date(),_0x1882e7=(_0x51e9a6-_0x4d3b76)/(0x3e8*0x3c*0x3c),_0x5ef4d1=coachProfiles[_0x1b8343[_0x460e94(0x19c)]]&&coachProfiles[_0x1b8343[_0x460e94(0x19c)]][_0x460e94(0x1d3)]?parseInt(coachProfiles[_0x1b8343[_0x460e94(0x19c)]][_0x460e94(0x1d3)]):0x18;if(_0x5ef4d1===0x0||_0x1882e7>=_0x5ef4d1)_0x10a19b[_0x460e94(0x20d)]['display']=_0x460e94(0x1a6),_0x2fb4fe[_0x460e94(0x20d)][_0x460e94(0x181)]=_0x460e94(0x1a6),_0x43f8c0[_0x460e94(0x20d)]['display']=_0x460e94(0x1d5);else{_0x10a19b['style'][_0x460e94(0x181)]=_0x460e94(0x1d5),_0x2fb4fe[_0x460e94(0x20d)]['display']=_0x460e94(0x1d5),_0x43f8c0[_0x460e94(0x20d)][_0x460e94(0x181)]='block';let _0x54f85e=_0x5ef4d1===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x460e94(0x1b4)+_0x5ef4d1+'\x20—á.';_0x43f8c0[_0x460e94(0x1b7)]=_0x460e94(0x18e)+_0x54f85e+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x460e94(0x1f1)](_0x460e94(0x1a8))['classList'][_0x460e94(0x195)](_0x460e94(0x1fa)),document[_0x460e94(0x1f1)]('detailsSheet')[_0x460e94(0x1db)][_0x460e94(0x195)]('open');}function closeAllSheets(){const _0x21b082=a3_0x3c45c9;document[_0x21b082(0x1f1)]('overlay')['classList'][_0x21b082(0x12c)](_0x21b082(0x1fa)),document[_0x21b082(0x1a0)]('.sheet')[_0x21b082(0x141)](_0x54c3dc=>_0x54c3dc[_0x21b082(0x1db)][_0x21b082(0x12c)](_0x21b082(0x134)));}function openSheet(_0x1623cc){const _0x2a329c=a3_0x3c45c9;document['getElementById'](_0x2a329c(0x1a8))[_0x2a329c(0x1db)][_0x2a329c(0x195)](_0x2a329c(0x1fa)),document[_0x2a329c(0x1f1)](_0x1623cc)['classList']['add']('open');}function getLocalDateStr(_0x26c482){const _0xe25ffe=a3_0x3c45c9,_0xbe0420=_0x26c482[_0xe25ffe(0x149)](),_0x523be9=String(_0x26c482[_0xe25ffe(0x1e7)]()+0x1)['padStart'](0x2,'0'),_0x580030=String(_0x26c482[_0xe25ffe(0x18a)]())[_0xe25ffe(0x1e4)](0x2,'0');return _0xbe0420+'-'+_0x523be9+'-'+_0x580030;}function getStartOfWeek(_0x327684){const _0x27c351=a3_0x3c45c9,_0xdc3b97=new Date(_0x327684),_0x37361b=_0xdc3b97[_0x27c351(0x1bb)](),_0x5241ac=_0xdc3b97['getDate']()-_0x37361b+(_0x37361b===0x0?-0x6:0x1);return _0xdc3b97[_0x27c351(0x13f)](_0x5241ac),_0xdc3b97[_0x27c351(0x15c)](0x0,0x0,0x0,0x0),_0xdc3b97;}function scrollToToday(){const _0x45364f=getLocalDateStr(new Date());setTimeout(()=>{const _0x1a9e13=a3_0x17c3,_0x2afc95=document[_0x1a9e13(0x1d8)](_0x1a9e13(0x16d)+_0x45364f+'\x22]');if(_0x2afc95){const _0x1db247=document['getElementById'](_0x1a9e13(0x1f7)),_0xfe557c=_0x2afc95[_0x1a9e13(0x1b1)]-_0x1db247[_0x1a9e13(0x1c5)]/0x2+_0x2afc95[_0x1a9e13(0x18b)]/0x2;_0x1db247['scrollTo']({'left':_0xfe557c,'behavior':_0x1a9e13(0x1d9)}),_0x1db247[_0x1a9e13(0x1b6)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x39317f=a3_0x3c45c9,_0x17f244=new Date(),_0x234d4c=document['getElementById'](_0x39317f(0x15d)),_0x3fb50f=document['getElementById'](_0x39317f(0x18d)),_0x2b1f1f=(_0x17f244[_0x39317f(0x211)]()*0x3c+_0x17f244[_0x39317f(0x190)]())/0x3c*GRID_H;_0x234d4c[_0x39317f(0x20d)][_0x39317f(0x13a)]=_0x2b1f1f+'px',_0x234d4c[_0x39317f(0x20d)][_0x39317f(0x181)]=_0x39317f(0x1a6),_0x3fb50f[_0x39317f(0x20d)][_0x39317f(0x13a)]=_0x2b1f1f+'px',_0x3fb50f[_0x39317f(0x20d)][_0x39317f(0x181)]=_0x39317f(0x1a6),_0x3fb50f[_0x39317f(0x1b7)]=String(_0x17f244['getHours']())['padStart'](0x2,'0')+':'+String(_0x17f244[_0x39317f(0x190)]())['padStart'](0x2,'0');}function onScroll(){const _0xb53cfe=a3_0x3c45c9,_0x29587f=document[_0xb53cfe(0x1f1)](_0xb53cfe(0x1f7)),_0x41588e=document['querySelectorAll'](_0xb53cfe(0x130));for(let _0x3466c7 of _0x41588e)if(_0x3466c7[_0xb53cfe(0x1b1)]>=_0x29587f['scrollLeft']){const _0x3c5e86=new Date(_0x3466c7[_0xb53cfe(0x12d)]('data-date'));document[_0xb53cfe(0x1f1)](_0xb53cfe(0x1eb))['textContent']=_0x3c5e86[_0xb53cfe(0x1ea)]('ru',{'month':_0xb53cfe(0x146)})['toUpperCase']()+'\x20'+_0x3c5e86[_0xb53cfe(0x149)]();break;}}function showToast(_0x232f6f){const _0x84eaaa=a3_0x3c45c9,_0x2b8c72=document[_0x84eaaa(0x1f1)](_0x84eaaa(0x16b));_0x2b8c72[_0x84eaaa(0x1b7)]=_0x232f6f,_0x2b8c72[_0x84eaaa(0x1db)]['add'](_0x84eaaa(0x13e)),setTimeout(()=>_0x2b8c72[_0x84eaaa(0x1db)][_0x84eaaa(0x12c)](_0x84eaaa(0x13e)),0x7d0);}function handleInfiniteScroll(){const _0x4ac0db=a3_0x3c45c9,_0x5badb8=document[_0x4ac0db(0x1f1)](_0x4ac0db(0x1f7)),_0x4b7e25=_0x5badb8[_0x4ac0db(0x158)],_0x3ab49d=_0x5badb8['scrollWidth'],_0x5192c6=_0x5badb8[_0x4ac0db(0x1c5)];if(_0x3ab49d-(_0x4b7e25+_0x5192c6)<0x12c){const _0x19d46b=endOffset;endOffset+=0xe,renderDayRange(_0x19d46b+0x1,endOffset),reRenderBlocks();}if(_0x4b7e25<0x12c){const _0x293011=startOffset;startOffset-=0xe,prependDays(startOffset,_0x293011-0x1),_0x5badb8[_0x4ac0db(0x158)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x13e7b5,_0x4afed0){const _0x16d235=a3_0x3c45c9,_0x3076f5=document[_0x16d235(0x1f1)]('daysHeaderTrack'),_0x55f6ee=document[_0x16d235(0x1f1)](_0x16d235(0x1c7)),_0x1bc055=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1a6a25=new Date();_0x1a6a25[_0x16d235(0x15c)](0x0,0x0,0x0,0x0);const _0x2fec9f=getLocalDateStr(new Date()),_0x20819c=document[_0x16d235(0x1ca)](),_0x4f4a67=document[_0x16d235(0x1ca)]();for(let _0x443be5=_0x13e7b5;_0x443be5<=_0x4afed0;_0x443be5++){const _0x26cdfe=new Date(_0x1a6a25);_0x26cdfe[_0x16d235(0x13f)](_0x26cdfe[_0x16d235(0x18a)]()+_0x443be5);const _0x282559=getLocalDateStr(_0x26cdfe);let _0x36e3e9=_0x26cdfe[_0x16d235(0x1bb)]()-0x1;if(_0x36e3e9===-0x1)_0x36e3e9=0x6;const _0x109ed9=_0x282559===_0x2fec9f,_0x55ebf2=document[_0x16d235(0x136)](_0x16d235(0x142));_0x55ebf2['className']='day-col-header\x20'+(_0x109ed9?_0x16d235(0x171):''),_0x55ebf2['setAttribute'](_0x16d235(0x201),_0x282559),_0x55ebf2[_0x16d235(0x15f)]='<div\x20class=\x22dch-day\x22>'+_0x1bc055[_0x36e3e9]+_0x16d235(0x169)+_0x26cdfe['getDate']()+_0x16d235(0x16a),_0x20819c[_0x16d235(0x1f3)](_0x55ebf2);const _0x885b87=document[_0x16d235(0x136)](_0x16d235(0x142));_0x885b87[_0x16d235(0x20b)]=_0x16d235(0x1cd)+(_0x109ed9?_0x16d235(0x171):''),_0x885b87[_0x16d235(0x197)](_0x16d235(0x201),_0x282559),_0x885b87[_0x16d235(0x197)]('data-day-idx',_0x36e3e9),_0x4f4a67['appendChild'](_0x885b87);}_0x3076f5[_0x16d235(0x1d6)](_0x20819c,_0x3076f5[_0x16d235(0x204)]),_0x55f6ee[_0x16d235(0x1d6)](_0x4f4a67,_0x55f6ee['querySelector'](_0x16d235(0x1a3)));}function hexToRgba(_0x79efef,_0x2f3c40){const _0x150ea1=a3_0x3c45c9;let _0x30a2ce;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x79efef))return _0x30a2ce=_0x79efef[_0x150ea1(0x139)](0x1)[_0x150ea1(0x16c)](''),_0x30a2ce[_0x150ea1(0x13d)]==0x3&&(_0x30a2ce=[_0x30a2ce[0x0],_0x30a2ce[0x0],_0x30a2ce[0x1],_0x30a2ce[0x1],_0x30a2ce[0x2],_0x30a2ce[0x2]]),_0x30a2ce='0x'+_0x30a2ce[_0x150ea1(0x14e)](''),'rgba('+[_0x30a2ce>>0x10&0xff,_0x30a2ce>>0x8&0xff,_0x30a2ce&0xff][_0x150ea1(0x14e)](',')+','+_0x2f3c40+')';return _0x150ea1(0x1de)+_0x2f3c40+')';}let confirmResolver=null;function showCustomConfirm(_0x9cb8a1,_0x31b8dc,_0x4ae152=!![]){const _0x1ac505=a3_0x3c45c9;document[_0x1ac505(0x1f1)](_0x1ac505(0x1e2))[_0x1ac505(0x1b7)]=_0x9cb8a1,document[_0x1ac505(0x1f1)](_0x1ac505(0x179))[_0x1ac505(0x1b7)]=_0x31b8dc;const _0x3527d4=document[_0x1ac505(0x1f1)]('ccYesBtn');return _0x4ae152?(_0x3527d4[_0x1ac505(0x20d)][_0x1ac505(0x17c)]=_0x1ac505(0x1e3),_0x3527d4[_0x1ac505(0x20d)]['fontWeight']=_0x1ac505(0x12e)):(_0x3527d4['style'][_0x1ac505(0x17c)]=_0x1ac505(0x1ab),_0x3527d4[_0x1ac505(0x20d)]['fontWeight']=_0x1ac505(0x12e)),new Promise(_0xa981cb=>{const _0x137b92=_0x1ac505;confirmResolver=_0xa981cb,document[_0x137b92(0x1f1)](_0x137b92(0x1bd))[_0x137b92(0x1db)][_0x137b92(0x195)](_0x137b92(0x188));});}function resolveCustomConfirm(_0x2bd2e2){const _0x3b069f=a3_0x3c45c9;document[_0x3b069f(0x1f1)](_0x3b069f(0x1bd))['classList']['remove'](_0x3b069f(0x188));if(confirmResolver)confirmResolver(_0x2bd2e2);}async function tryCancelCurrentSession(){const _0x2d350a=a3_0x3c45c9;if(!currentSession)return;const _0x289781=await showCustomConfirm(_0x2d350a(0x147),_0x2d350a(0x17b),!![]);if(!_0x289781)return;const _0x544fc5=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x26ec66=>_0x26ec66['id']!==_0x544fc5['id']),reRenderBlocks(),showToast(_0x2d350a(0x12a)),lastUserActionTime=Date['now']();try{const _0x4dd346=window['Telegram']?.[_0x2d350a(0x1cc)],_0x378ea8=await fetch(API_URL,{'method':'POST','body':JSON[_0x2d350a(0x1fd)]({'action':_0x2d350a(0x206),'init_data':_0x4dd346?.[_0x2d350a(0x1a4)]||'','coachId':_0x544fc5[_0x2d350a(0x19c)],'dateStr':_0x544fc5[_0x2d350a(0x183)],'sessionId':_0x544fc5['id']})});if(_0x378ea8['ok'])DataManager['saveLocally']();}catch(_0x1b556e){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}function a3_0x17c3(_0x50ffa3,_0x3e79c3){_0x50ffa3=_0x50ffa3-0x129;const _0x7bf719=a3_0x3fde();let _0x595e3f=_0x7bf719[_0x50ffa3];return _0x595e3f;}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2191a1=a3_0x3c45c9;if(!currentSession)return;document[_0x2191a1(0x1f1)]('detailsSheet')[_0x2191a1(0x1db)][_0x2191a1(0x12c)](_0x2191a1(0x134)),document[_0x2191a1(0x1f1)](_0x2191a1(0x176))[_0x2191a1(0x1db)]['add']('open');const _0x5eaf9d=document[_0x2191a1(0x1f1)]('rsDatesTrack'),_0x5a514e=document[_0x2191a1(0x1f1)](_0x2191a1(0x1af));_0x5eaf9d[_0x2191a1(0x15f)]='',_0x5a514e[_0x2191a1(0x15f)]=_0x2191a1(0x170);const [_0x34a213,_0x5a5f1a]=currentSession[_0x2191a1(0x19b)]['split'](':')[_0x2191a1(0x1c0)](Number),[_0x2b5731,_0x2c1d7a]=currentSession['end'][_0x2191a1(0x16c)](':')['map'](Number),_0x3d7cf4=_0x2b5731*0x3c+_0x2c1d7a-(_0x34a213*0x3c+_0x5a5f1a);try{const _0xb34abf=window['Telegram']?.[_0x2191a1(0x1cc)],_0x253ffc=await fetch(API_URL,{'method':'POST','body':JSON[_0x2191a1(0x1fd)]({'action':_0x2191a1(0x173),'coachId':currentSession['coachId'],'duration':_0x3d7cf4,'init_data':_0xb34abf?.[_0x2191a1(0x1a4)]||'','excludeSessionId':currentSession['id']})}),_0x318d0b=await _0x253ffc[_0x2191a1(0x20e)]();_0x318d0b['ok']&&_0x318d0b[_0x2191a1(0x198)]?(availableSlotsCache=_0x318d0b['data'],renderRescheduleDates()):_0x5a514e['innerHTML']=_0x2191a1(0x1b2);}catch(_0x2fa8a9){_0x5a514e[_0x2191a1(0x15f)]=_0x2191a1(0x13b);}}function renderRescheduleDates(){const _0x4c8927=a3_0x3c45c9,_0x4a3394=document[_0x4c8927(0x1f1)](_0x4c8927(0x18c));_0x4a3394[_0x4c8927(0x15f)]='';const _0x511fca=Object[_0x4c8927(0x1c8)](availableSlotsCache)[_0x4c8927(0x1a7)](),_0x458ae5=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x511fca[_0x4c8927(0x13d)]===0x0){document[_0x4c8927(0x1f1)](_0x4c8927(0x1af))[_0x4c8927(0x15f)]=_0x4c8927(0x1fb);return;}_0x511fca[_0x4c8927(0x141)]((_0x1a2361,_0x4906bc)=>{const _0xbdcdde=_0x4c8927,_0x3dc922=new Date(_0x1a2361),_0x113b0b=_0x458ae5[_0x3dc922['getDay']()],_0x8b5ab7=_0x3dc922[_0xbdcdde(0x18a)](),_0x2f763f=document[_0xbdcdde(0x136)]('div');_0x2f763f[_0xbdcdde(0x20b)]=_0xbdcdde(0x193);if(_0x4906bc===0x0)_0x2f763f[_0xbdcdde(0x1db)][_0xbdcdde(0x195)](_0xbdcdde(0x1fa));_0x2f763f['innerHTML']=_0xbdcdde(0x19d)+_0x113b0b+'</div><div\x20class=\x22rs-day-num\x22>'+_0x8b5ab7+_0xbdcdde(0x16a),_0x2f763f[_0xbdcdde(0x1e1)]=()=>selectRsDate(_0x1a2361,_0x2f763f),_0x4a3394[_0xbdcdde(0x1f3)](_0x2f763f);}),selectRsDate(_0x511fca[0x0],_0x4a3394[_0x4c8927(0x204)]);}function selectRsDate(_0x274f4a,_0x550ff4){const _0x36c39e=a3_0x3c45c9;selectedRsDate=_0x274f4a,document[_0x36c39e(0x1a0)]('.rs-date-chip')[_0x36c39e(0x141)](_0x1b173c=>_0x1b173c[_0x36c39e(0x1db)][_0x36c39e(0x12c)]('active'));if(_0x550ff4)_0x550ff4[_0x36c39e(0x1db)][_0x36c39e(0x195)]('active');const _0x2b10b2=document[_0x36c39e(0x1f1)](_0x36c39e(0x1af));_0x2b10b2[_0x36c39e(0x15f)]='';const _0xa8896a=availableSlotsCache[_0x274f4a]||[];if(_0xa8896a[_0x36c39e(0x13d)]===0x0){_0x2b10b2[_0x36c39e(0x15f)]=_0x36c39e(0x1b2);return;}_0xa8896a[_0x36c39e(0x141)](_0x390b4a=>{const _0x556bef=_0x36c39e,_0x3335f0=document['createElement']('button');_0x3335f0[_0x556bef(0x20b)]=_0x556bef(0x1f0),_0x3335f0['textContent']=_0x390b4a,_0x3335f0['onclick']=()=>confirmReschedule(_0x390b4a),_0x2b10b2[_0x556bef(0x1f3)](_0x3335f0);});}async function confirmReschedule(_0x3a9188){const _0x49178a=a3_0x3c45c9,_0x2beabe=new Date(selectedRsDate),_0x28f1f9=_0x2beabe[_0x49178a(0x1d7)](_0x49178a(0x157),{'day':_0x49178a(0x164),'month':_0x49178a(0x146)}),_0x7aa232=await showCustomConfirm(_0x49178a(0x19f),_0x49178a(0x150)+_0x28f1f9+'\x20–≤\x20'+_0x3a9188+'?',![]);if(!_0x7aa232)return;closeAllSheets(),showToast(_0x49178a(0x1e6)),lastUserActionTime=Date['now']();const _0x26a937=currentSession['dateStr'],_0x51cd50=currentSession['id'],[_0x5ea6,_0x534b65]=currentSession[_0x49178a(0x19b)]['split'](':')[_0x49178a(0x1c0)](Number),[_0x4ab253,_0x4154c8]=currentSession[_0x49178a(0x1b0)][_0x49178a(0x16c)](':')[_0x49178a(0x1c0)](Number),_0x6b542d=_0x4ab253*0x3c+_0x4154c8-(_0x5ea6*0x3c+_0x534b65),[_0x30b877,_0x557e7f]=_0x3a9188['split'](':')[_0x49178a(0x1c0)](Number),_0x2888d7=_0x30b877*0x3c+_0x557e7f+_0x6b542d,_0x433c94=Math['floor'](_0x2888d7/0x3c),_0x2de4f4=_0x2888d7%0x3c,_0xe25e46=String(_0x433c94)[_0x49178a(0x1e4)](0x2,'0')+':'+String(_0x2de4f4)[_0x49178a(0x1e4)](0x2,'0'),_0x2e6c9b=sessions[_0x49178a(0x17d)](_0x5f5d72=>_0x5f5d72['id']===_0x51cd50);_0x2e6c9b!==-0x1&&(sessions[_0x2e6c9b][_0x49178a(0x183)]=selectedRsDate,sessions[_0x2e6c9b][_0x49178a(0x19b)]=_0x3a9188,sessions[_0x2e6c9b][_0x49178a(0x1b0)]=_0xe25e46,reRenderBlocks());try{const _0x35ccf1=window[_0x49178a(0x155)]?.[_0x49178a(0x1cc)],_0x5727b8=await fetch(API_URL,{'method':_0x49178a(0x1ff),'body':JSON[_0x49178a(0x1fd)]({'action':'reschedule','init_data':_0x35ccf1?.[_0x49178a(0x1a4)]||'','oldSessionId':_0x51cd50,'oldDate':_0x26a937,'newDate':selectedRsDate,'newTime':_0x3a9188,'coachId':currentSession[_0x49178a(0x19c)]})}),_0x46c070=await _0x5727b8[_0x49178a(0x20e)]();!_0x46c070['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x49178a(0x129)]()):(showToast(_0x49178a(0x17f)),DataManager[_0x49178a(0x16e)]());}catch(_0x1533a0){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x3c45c9(0x148)](a3_0x3c45c9(0x167),init);function a3_0x3fde(){const _0x52ea50=['long','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','addEventListener','getFullYear','cancelled','isArray','done','var(--acc-green)','join','Critical\x20TMA\x20Error:','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','setBackgroundColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','247612MXREOU','clients','Telegram','.btn-reschedule','ru-RU','scrollLeft','(((.+)+)+)+$','left','loadLocal','setHours','globalTimeLine','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','total','\x20status-completed','parse','applyData','numeric','max','timeColumn','DOMContentLoaded','log','</div><div\x20class=\x22dch-num\x22>','</div>','toast','split','.day-col-header[data-date=\x22','saveLocally','client-stat-card','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','today','setHeaderColor','get_slots','604326yWJDRT','entries','rescheduleSheet','.btn-cancel','toString','ccText','custom','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','color','findIndex','var(--acc-blue)','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','data-day-idx','display','T00:00:00','dateStr','5HnXXjy','round','time-label','%\x20+\x202px)','visible',':00</span>','getDate','offsetWidth','rsDatesTrack','timeLineBadge','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','anPercent','getMinutes','anCustomDates','scroll','rs-date-chip','flex','add','pattern','setAttribute','data','location','cancelContainer','start','coachId','<div\x20class=\x22rs-day-name\x22>','calc(','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','querySelectorAll','.period-switch\x20.p-btn','anEnd','.day-column','initData','min','block','sort','overlay','slice','substr','#0a84ff','settings','113381DniMMn','Error\x20setting\x20color:','rsSlotsGrid','end','offsetLeft','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','2MkmUQW','–∑–∞\x20','cancelHint','scrollTop','textContent','ranges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','analyticsSheet','getDay','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','customConfirm','then','px\x200px','map','exceptions','coach_profiles','initDataUnsafe','filter','clientWidth','user','gridColumns','keys','value','createDocumentFragment','Unknown','WebApp','day-column\x20','detStatus','backgroundColor','2312312sjIksh','blocked-slot\x20stripe-bg','planned','cancel_window','BackButton','none','insertBefore','toLocaleDateString','querySelector','auto','detTime','classList','client_load','154AFUODX','rgba(10,\x20132,\x20255,\x20','px\x20-','all','onclick','ccTitle','#ff453a','padStart','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getMonth','day-col-header\x20','onClick','toLocaleString','headerMonth','</span>\x20/\x20','find','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uc_client_sessions','rs-time-btn','getElementById','week','appendChild','status','sid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','matrixViewport','#050505','getTime','active','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','anStart','stringify','push','POST','1960479DQXLPy','data-date','\x20-\x20','now','firstChild','detDate','client_cancel','9444jpLsyZ','router.html','backgroundPosition','2842890uOOmsb','className','colIndex','style','json','month','analyticsList','getHours','syncLoad','–û—Ç–º–µ–Ω–µ–Ω–æ','setItem','remove','getAttribute','600','\x20–∏–∑\x20','.day-col-header','calendar','disableVerticalSwipes','search','open','expand','createElement','anTotalStats','mini','substring','top','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','completed','length','show','setDate','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','forEach','div','daysHeaderTrack','stopPropagation','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞'];a3_0x3fde=function(){return _0x52ea50;};return a3_0x3fde();}