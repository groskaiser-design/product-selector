const a3_0x3af4bd=a3_0x6018;(function(_0x2797c7,_0x58be9a){const _0x160ec2=a3_0x6018,_0x32c36f=_0x2797c7();while(!![]){try{const _0x440c2f=parseInt(_0x160ec2(0x1b8))/0x1+parseInt(_0x160ec2(0x1ad))/0x2+parseInt(_0x160ec2(0x206))/0x3*(-parseInt(_0x160ec2(0x277))/0x4)+parseInt(_0x160ec2(0x1e0))/0x5+parseInt(_0x160ec2(0x286))/0x6+parseInt(_0x160ec2(0x1a7))/0x7*(parseInt(_0x160ec2(0x280))/0x8)+-parseInt(_0x160ec2(0x232))/0x9;if(_0x440c2f===_0x58be9a)break;else _0x32c36f['push'](_0x32c36f['shift']());}catch(_0x4f905b){_0x32c36f['push'](_0x32c36f['shift']());}}}(a3_0x3876,0x2e7e0));const APP_VERSION=a3_0x3af4bd(0x237),API_URL=a3_0x3af4bd(0x258),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x3af4bd(0x1e2);function a3_0x3876(){const _0x110359=['classList','offsetLeft','router.html','POST','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','142529ZmsIpn','backgroundPosition','</div><div\x20class=\x22rs-day-num\x22>','charAt','anTotalStats','sid','rs-date-chip','getTime','display','getHours','–∑–∞\x20','blocked-slot\x20stripe-bg','syncLoad','min','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','total','day-off-overlay\x20stripe-bg','month','none','</div>','(((.+)+)+)+$','stringify','className','auto','button','scroll','#050505','constructor','visible','scrollLeft','done','globalTimeLine','push','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','Error\x20setting\x20color:','.btn-cancel','T23:59:59','detailsSheet','today','note','846080VqCJif','search','uc_client_list','analyticsList','log','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','innerHTML','settings','.btn-reschedule','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','user','then','detNote','block','DOMContentLoaded','keys','numeric','rsDatesTrack','week','top','rgba(10,\x20132,\x20255,\x20','applyData','parse','gridColumns','max','exceptions','</div><div\x20class=\x22dch-num\x22>','client_load','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','textContent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','start','offsetWidth','long','\x20–≤\x20','rsSlotsGrid','26946orWRaK','zIndex','colIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end','day-column\x20','anDonutCircle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fontWeight','scrollTo','style','scrollWidth','expand','data-day-idx','scrollTop','clientId','disableVerticalSwipes','now','–û—Ç–º–µ–Ω–µ–Ω–æ','toString','.day-col-header','600','width','ccYesBtn','strokeDashoffset','pattern','saveLocally','join','analyticsSheet','getDay','cancel_window','onclick','querySelector','length','event-card','\x20—á.','all','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','time-label','querySelectorAll','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','entries',':00</span>','T00:00:00','5622795KRHTbH','forEach','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','left','active','v9.5-CLIENT-ANALYTICS','apply','split','createDocumentFragment','floor','initDataUnsafe','data-date','toLocaleDateString','substring','insertBefore','<div\x20class=\x22dch-day\x22>','getAttribute','location','color','client-stat-card','status','getElementById','detTime','addEventListener','slice','show','appendChild','substr','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','calc(','ru-RU','coachId','createElement','startsWith','setAttribute','px\x20-','%\x20-\x204px)','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','add','getMinutes','initData','data','Unknown','toUpperCase','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getDate','loadLocal','getItem','open','setHours','getFullYear','error','test','.rs-date-chip','cancelContainer','\x20status-completed','sort','padStart','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','matrixViewport','headerMonth','anStart','Telegram','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','ranges','rs-time-btn','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','104lEYFCs','completed','remove','day-col-header\x20','find','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20-\x20','.period-switch\x20.p-btn','BackButton','216grpOzj','daysHeaderTrack','setDate','clientWidth','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','div','1908594YxUBnR','flex','cancelHint','customConfirm','setItem','<span>','calendar','Error\x20setting\x20back\x20button:','seriesId','#ff453a','.day-column','detStatus','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','height','#0a84ff','stopPropagation','px\x200px','json','timeLineBadge','anEnd','clients','dateStr','map','WebApp','var(--acc-blue)','getMonth','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','11949pfpvuj','overlay','onClick','ready','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','borderLeftColor','745572ywwkHh','value','%\x20+\x202px)','filter','round','ccTitle'];a3_0x3876=function(){return _0x110359;};return a3_0x3876();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3af4bd(0x1f3),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4b608c=a3_0x3af4bd,_0x230d51=(function(){let _0x2d28f4=!![];return function(_0x455984,_0x20f16e){const _0x10bcbc=_0x2d28f4?function(){const _0xfd0467=a3_0x6018;if(_0x20f16e){const _0x3d438f=_0x20f16e[_0xfd0467(0x238)](_0x455984,arguments);return _0x20f16e=null,_0x3d438f;}}:function(){};return _0x2d28f4=![],_0x10bcbc;};}()),_0x3aebb5=_0x230d51(this,function(){const _0x42f7a1=a3_0x6018;return _0x3aebb5['toString']()['search'](_0x42f7a1(0x1cc))[_0x42f7a1(0x219)]()[_0x42f7a1(0x1d3)](_0x3aebb5)[_0x42f7a1(0x1e1)](_0x42f7a1(0x1cc));});_0x3aebb5();try{const _0x51d7a0=window['Telegram']?.[_0x4b608c(0x1a3)];if(!_0x51d7a0)return;_0x51d7a0[_0x4b608c(0x1aa)](),_0x51d7a0[_0x4b608c(0x212)]();try{_0x51d7a0['setHeaderColor'](_0x4b608c(0x1d2)),_0x51d7a0['setBackgroundColor']&&_0x51d7a0['setBackgroundColor']('#050505');}catch(_0xf0ee61){console['log'](_0x4b608c(0x1da),_0xf0ee61);}try{_0x51d7a0[_0x4b608c(0x27f)]&&(_0x51d7a0['BackButton'][_0x4b608c(0x24b)](),_0x51d7a0[_0x4b608c(0x27f)]['offClick'](),_0x51d7a0[_0x4b608c(0x27f)][_0x4b608c(0x1a9)](function(){const _0x1eef5c=_0x4b608c;window[_0x1eef5c(0x243)]['href']=_0x1eef5c(0x1b5);}));}catch(_0x3d14dc){console['log'](_0x4b608c(0x28d),_0x3d14dc);}try{if(_0x51d7a0[_0x4b608c(0x216)])_0x51d7a0[_0x4b608c(0x216)]();}catch(_0x3d6ebb){}}catch(_0x36fcaa){console[_0x4b608c(0x267)]('Critical\x20TMA\x20Error:',_0x36fcaa);}}());function isAdmin(){const _0x5a9409=a3_0x3af4bd;try{const _0x1fe91a=Number(window[_0x5a9409(0x272)]?.[_0x5a9409(0x1a3)]?.[_0x5a9409(0x23c)]?.[_0x5a9409(0x1eb)]?.['id']);return _0x1fe91a===0xbaf7174;}catch(_0x4e8bdf){return![];}}const DataManager={'saveLocally'(){const _0x6efb0a=a3_0x3af4bd;try{localStorage[_0x6efb0a(0x28a)](KEY_SESSIONS,JSON[_0x6efb0a(0x1cd)](sessions)),localStorage[_0x6efb0a(0x28a)](KEY_CLIENTS,JSON[_0x6efb0a(0x1cd)](clients)),localStorage[_0x6efb0a(0x28a)](KEY_SETTINGS,JSON[_0x6efb0a(0x1cd)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x375947){}},'loadLocal'(){const _0x313434=a3_0x3af4bd;try{const _0x3e13d9=localStorage[_0x313434(0x263)](KEY_SESSIONS);if(_0x3e13d9)sessions=JSON['parse'](_0x3e13d9);const _0x2d2b90=localStorage[_0x313434(0x263)](KEY_CLIENTS);if(_0x2d2b90)clients=JSON[_0x313434(0x1f7)](_0x2d2b90);const _0x3b0463=localStorage[_0x313434(0x263)](KEY_SETTINGS);if(_0x3b0463){const _0x41e610=JSON['parse'](_0x3b0463);if(_0x41e610['pattern'])availabilityPattern=_0x41e610[_0x313434(0x21f)];if(_0x41e610[_0x313434(0x274)])specialRanges=_0x41e610[_0x313434(0x274)];if(_0x41e610[_0x313434(0x1fa)])dateExceptions=_0x41e610[_0x313434(0x1fa)];}}catch(_0x4673b8){}},async 'syncLoad'(){const _0x30f65a=a3_0x3af4bd,_0x347e98=new Date(),_0x2eb987=_0x347e98[_0x30f65a(0x266)]()+'-'+String(_0x347e98[_0x30f65a(0x1a5)]()+0x1)['padStart'](0x2,'0'),_0x5f2a10=new Date(_0x347e98);_0x5f2a10['setMonth'](_0x347e98['getMonth']()+0x1);const _0x24af63=_0x5f2a10[_0x30f65a(0x266)]()+'-'+String(_0x5f2a10[_0x30f65a(0x1a5)]()+0x1)[_0x30f65a(0x26d)](0x2,'0'),_0x2621b5=Date[_0x30f65a(0x217)]();try{const _0x26cb6d=window[_0x30f65a(0x272)]?.['WebApp'],_0x326447=_0x26cb6d?.[_0x30f65a(0x25b)]||'',[_0x37f0f5,_0x3bc256]=await Promise[_0x30f65a(0x22a)]([fetch(API_URL,{'method':_0x30f65a(0x1b6),'body':JSON['stringify']({'action':_0x30f65a(0x1fc),'init_data':_0x326447,'month_str':_0x2eb987})})[_0x30f65a(0x1ec)](_0x2a593a=>_0x2a593a[_0x30f65a(0x19d)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x30f65a(0x1cd)]({'action':_0x30f65a(0x1fc),'init_data':_0x326447,'month_str':_0x24af63})})[_0x30f65a(0x1ec)](_0x5afe49=>_0x5afe49[_0x30f65a(0x19d)]())]);if(lastUserActionTime>_0x2621b5){console[_0x30f65a(0x1e4)](_0x30f65a(0x260));return;}if(_0x37f0f5['ok'])this[_0x30f65a(0x1f6)](_0x37f0f5[_0x30f65a(0x25c)],_0x2eb987);if(_0x3bc256['ok'])this[_0x30f65a(0x1f6)](_0x3bc256[_0x30f65a(0x25c)],_0x24af63);this['saveLocally']();}catch(_0x147199){}},'applyData'(_0x394592,_0x298ab0){const _0x2940dd=a3_0x3af4bd;if(!_0x394592)return;if(_0x394592[_0x2940dd(0x1e7)]){if(_0x394592['settings'][_0x2940dd(0x21f)])availabilityPattern=_0x394592[_0x2940dd(0x1e7)][_0x2940dd(0x21f)];if(_0x394592[_0x2940dd(0x1e7)][_0x2940dd(0x274)])specialRanges=_0x394592[_0x2940dd(0x1e7)][_0x2940dd(0x274)];if(_0x394592['settings'][_0x2940dd(0x1fa)])dateExceptions=_0x394592[_0x2940dd(0x1e7)]['exceptions'];}if(_0x394592[_0x2940dd(0x1a0)]&&Array['isArray'](_0x394592[_0x2940dd(0x1a0)]))clients=_0x394592[_0x2940dd(0x1a0)];_0x394592['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x394592['coach_profiles']}),_0x394592['calendar']&&(sessions=sessions['filter'](_0x12215a=>!_0x12215a[_0x2940dd(0x1a1)][_0x2940dd(0x254)](_0x298ab0)),Object[_0x2940dd(0x1f0)](_0x394592[_0x2940dd(0x28c)])[_0x2940dd(0x233)](_0x5b4460=>{const _0x1304b5=_0x2940dd,_0x36aa5f=_0x394592[_0x1304b5(0x28c)][_0x5b4460];_0x36aa5f['forEach'](_0x271814=>{const _0x1e37bb=_0x1304b5;sessions[_0x1e37bb(0x1d8)]({'id':_0x271814['i'],'clientId':_0x271814['c'],'coachId':_0x271814['cid'],'dateStr':_0x298ab0+'-'+_0x5b4460[_0x1e37bb(0x26d)](0x2,'0'),'start':_0x271814['s'],'end':_0x271814['e'],'note':_0x271814['n']||'','status':_0x271814['st']||'planned','seriesId':_0x271814[_0x1e37bb(0x1bd)]});});})),reRenderBlocks();}};function init(){const _0x58eb22=a3_0x3af4bd;DataManager[_0x58eb22(0x262)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x58eb22(0x247)](_0x58eb22(0x26f))[_0x58eb22(0x249)](_0x58eb22(0x1d1),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x58eb22(0x1c4)]();}function renderTimeColumn(){const _0x3509fd=a3_0x3af4bd,_0x4d679f=document[_0x3509fd(0x247)]('timeColumn'),_0x2c78f5=document['getElementById'](_0x3509fd(0x19e));_0x4d679f[_0x3509fd(0x1e6)]='',_0x4d679f[_0x3509fd(0x24c)](_0x2c78f5);for(let _0x2e402c=0x0;_0x2e402c<0x18;_0x2e402c++){const _0x1168ac=document['createElement'](_0x3509fd(0x285));_0x1168ac['className']=_0x3509fd(0x22c);if(_0x2e402c>0x0)_0x1168ac[_0x3509fd(0x1e6)]=_0x3509fd(0x28b)+String(_0x2e402c)[_0x3509fd(0x26d)](0x2,'0')+_0x3509fd(0x230);_0x4d679f['appendChild'](_0x1168ac);}}function renderDayRange(_0x492e96,_0x515cfe){const _0x4aca4a=a3_0x3af4bd,_0x3710f3=document[_0x4aca4a(0x247)](_0x4aca4a(0x281)),_0x2eae19=document[_0x4aca4a(0x247)](_0x4aca4a(0x1f8)),_0x4c2d6b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a5bcf=new Date();_0x2a5bcf[_0x4aca4a(0x265)](0x0,0x0,0x0,0x0);const _0x389b4c=getLocalDateStr(new Date());for(let _0x3de413=_0x492e96;_0x3de413<=_0x515cfe;_0x3de413++){const _0xbc1dec=new Date(_0x2a5bcf);_0xbc1dec[_0x4aca4a(0x282)](_0xbc1dec[_0x4aca4a(0x261)]()+_0x3de413);const _0x155dc1=getLocalDateStr(_0xbc1dec);let _0x12937e=_0xbc1dec[_0x4aca4a(0x223)]()-0x1;if(_0x12937e===-0x1)_0x12937e=0x6;const _0x1e8f40=_0x155dc1===_0x389b4c,_0x9987f7=document[_0x4aca4a(0x253)]('div');_0x9987f7[_0x4aca4a(0x1ce)]=_0x4aca4a(0x27a)+(_0x1e8f40?_0x4aca4a(0x1de):''),_0x9987f7['setAttribute'](_0x4aca4a(0x23d),_0x155dc1),_0x9987f7[_0x4aca4a(0x1e6)]=_0x4aca4a(0x241)+_0x4c2d6b[_0x12937e]+_0x4aca4a(0x1fb)+_0xbc1dec[_0x4aca4a(0x261)]()+_0x4aca4a(0x1cb),_0x3710f3[_0x4aca4a(0x24c)](_0x9987f7);const _0x3f757f=document[_0x4aca4a(0x253)](_0x4aca4a(0x285));_0x3f757f[_0x4aca4a(0x1ce)]=_0x4aca4a(0x20b)+(_0x1e8f40?_0x4aca4a(0x1de):''),_0x3f757f[_0x4aca4a(0x255)]('data-date',_0x155dc1),_0x3f757f[_0x4aca4a(0x255)]('data-day-idx',_0x12937e),_0x2eae19[_0x4aca4a(0x24c)](_0x3f757f);}}function reRenderBlocks(){const _0x4ea9bc=a3_0x3af4bd;document[_0x4ea9bc(0x22d)]('.day-column')[_0x4ea9bc(0x233)](_0x3af2f3=>{const _0xfa42ab=_0x4ea9bc;_0x3af2f3['querySelectorAll'](_0xfa42ab(0x273))[_0xfa42ab(0x233)](_0x3a340a=>_0x3a340a[_0xfa42ab(0x279)]());const _0x2f0c4c=_0x3af2f3['getAttribute'](_0xfa42ab(0x23d)),_0x4aa1a4=parseInt(_0x3af2f3[_0xfa42ab(0x242)](_0xfa42ab(0x213))),_0x581d05=Math[_0xfa42ab(0x1b1)](_0x3af2f3['offsetLeft']);(availabilityPattern[_0x4aa1a4]||[])[_0xfa42ab(0x233)](_0x49a16c=>{const _0xac123a=_0xfa42ab,_0x5d50cd=document[_0xac123a(0x253)](_0xac123a(0x285));_0x5d50cd[_0xac123a(0x1ce)]=_0xac123a(0x1c3),_0x5d50cd[_0xac123a(0x210)][_0xac123a(0x1f4)]=_0x49a16c*GRID_H+'px',_0x5d50cd[_0xac123a(0x210)][_0xac123a(0x1b9)]='-'+_0x581d05+_0xac123a(0x256)+_0x49a16c*GRID_H+'px',_0x3af2f3[_0xac123a(0x24c)](_0x5d50cd);});if(specialRanges[_0xfa42ab(0x227)]>0x0){const _0x5a535f=new Date(_0x2f0c4c+_0xfa42ab(0x231))['getTime'](),_0x35e02e=new Date(_0x2f0c4c+_0xfa42ab(0x1dc))[_0xfa42ab(0x1bf)]();specialRanges[_0xfa42ab(0x233)](_0x254c49=>{const _0x2c3d62=_0xfa42ab,_0x22ac10=new Date(_0x254c49[_0x2c3d62(0x201)])[_0x2c3d62(0x1bf)](),_0xfd88b4=new Date(_0x254c49[_0x2c3d62(0x20a)])[_0x2c3d62(0x1bf)](),_0x21b92b=Math[_0x2c3d62(0x1f9)](_0x5a535f,_0x22ac10),_0xe496a4=Math[_0x2c3d62(0x1c5)](_0x35e02e,_0xfd88b4);if(_0x21b92b<_0xe496a4){const _0x16408f=(_0x21b92b-_0x5a535f)/0x36ee80*GRID_H,_0x2a2e0e=(_0xe496a4-_0x21b92b)/0x36ee80*GRID_H,_0x61a57d=document[_0x2c3d62(0x253)](_0x2c3d62(0x285));_0x2a2e0e>=23.5*GRID_H?(_0x61a57d['className']=_0x2c3d62(0x1c8),_0x61a57d[_0x2c3d62(0x210)]['backgroundPosition']='-'+_0x581d05+_0x2c3d62(0x296)):(_0x61a57d[_0x2c3d62(0x1ce)]='blocked-range-part\x20stripe-bg',_0x61a57d[_0x2c3d62(0x210)][_0x2c3d62(0x1f4)]=_0x16408f+'px',_0x61a57d['style']['height']=_0x2a2e0e+'px',_0x61a57d['style'][_0x2c3d62(0x1b9)]='-'+_0x581d05+_0x2c3d62(0x256)+_0x16408f+'px'),_0x3af2f3[_0x2c3d62(0x24c)](_0x61a57d);}});}renderEventsForColumn(_0x3af2f3,_0x2f0c4c);});}function renderEventsForColumn(_0x54a111,_0x21302e){const _0x524aa4=a3_0x3af4bd,_0x115714=sessions[_0x524aa4(0x1b0)](_0x1bd998=>_0x1bd998[_0x524aa4(0x1a1)]===_0x21302e),_0x1ec63e=_0x115714[_0x524aa4(0x1a2)](_0x18603b=>{const _0xcb5915=_0x524aa4,[_0x39fb69,_0x2cfbf1]=_0x18603b[_0xcb5915(0x201)][_0xcb5915(0x239)](':')['map'](Number),[_0x5f5830,_0x211308]=_0x18603b[_0xcb5915(0x20a)][_0xcb5915(0x239)](':')[_0xcb5915(0x1a2)](Number);return{'data':_0x18603b,'start':_0x39fb69*0x3c+_0x2cfbf1,'end':_0x5f5830*0x3c+_0x211308,'colIndex':0x0};});_0x1ec63e[_0x524aa4(0x26c)]((_0x332894,_0x56879a)=>_0x332894['start']-_0x56879a[_0x524aa4(0x201)]||_0x56879a[_0x524aa4(0x20a)]-_0x56879a[_0x524aa4(0x201)]-(_0x332894['end']-_0x332894[_0x524aa4(0x201)]));const _0x491df0=[];_0x1ec63e[_0x524aa4(0x233)](_0x475234=>{const _0x403bc3=_0x524aa4;let _0x3c1dc0=![];for(let _0x3c9650=0x0;_0x3c9650<_0x491df0[_0x403bc3(0x227)];_0x3c9650++){const _0x422dac=_0x491df0[_0x3c9650];if(_0x475234['start']>=_0x422dac[_0x422dac['length']-0x1][_0x403bc3(0x20a)]){_0x422dac['push'](_0x475234),_0x475234[_0x403bc3(0x208)]=_0x3c9650,_0x3c1dc0=!![];break;}}!_0x3c1dc0&&(_0x491df0[_0x403bc3(0x1d8)]([_0x475234]),_0x475234[_0x403bc3(0x208)]=_0x491df0[_0x403bc3(0x227)]-0x1);}),_0x1ec63e['forEach'](_0x38e5e3=>{const _0x3386a9=_0x524aa4;let _0x266c55=0x0;_0x1ec63e[_0x3386a9(0x233)](_0x51258d=>{const _0x3ea28b=_0x3386a9;if(Math['max'](_0x38e5e3['start'],_0x51258d[_0x3ea28b(0x201)])<Math[_0x3ea28b(0x1c5)](_0x38e5e3[_0x3ea28b(0x20a)],_0x51258d[_0x3ea28b(0x20a)])&&_0x51258d[_0x3ea28b(0x208)]>_0x266c55)_0x266c55=_0x51258d[_0x3ea28b(0x208)];});const _0x56d4a6=_0x266c55+0x1,_0x5b2452=0x64/_0x56d4a6,_0x52ed3d=_0x38e5e3['colIndex']*_0x5b2452,_0x55d5ff=document[_0x3386a9(0x253)](_0x3386a9(0x285)),_0x4f3ae7=_0x38e5e3[_0x3386a9(0x25c)];let _0x31856c=_0x3386a9(0x294);if(clients&&clients[_0x3386a9(0x227)]>0x0){const _0x4b63d2=clients[_0x3386a9(0x27b)](_0x4064b5=>String(_0x4064b5['id'])===String(_0x4f3ae7[_0x3386a9(0x215)]));if(_0x4b63d2&&_0x4b63d2[_0x3386a9(0x244)])_0x31856c=_0x4b63d2[_0x3386a9(0x244)];}const _0x4940da=_0x4f3ae7[_0x3386a9(0x246)]===_0x3386a9(0x278),_0x5ec071=_0x4940da?0x1:0.45;_0x55d5ff[_0x3386a9(0x1ce)]=_0x3386a9(0x228)+(_0x4940da?_0x3386a9(0x26b):''),_0x55d5ff[_0x3386a9(0x210)]['backgroundColor']=hexToRgba(_0x31856c,_0x5ec071),_0x55d5ff['style'][_0x3386a9(0x1ac)]=_0x31856c;const _0x42f3ae=_0x38e5e3['start']/0x3c*GRID_H,_0x3755bf=(_0x38e5e3['end']-_0x38e5e3[_0x3386a9(0x201)])/0x3c*GRID_H;_0x55d5ff[_0x3386a9(0x210)][_0x3386a9(0x1f4)]=_0x42f3ae+'px',_0x55d5ff[_0x3386a9(0x210)][_0x3386a9(0x293)]=Math[_0x3386a9(0x1f9)](_0x3755bf,0x14)+'px',_0x55d5ff['style'][_0x3386a9(0x21c)]=_0x3386a9(0x250)+_0x5b2452+_0x3386a9(0x257),_0x55d5ff[_0x3386a9(0x210)][_0x3386a9(0x235)]=_0x3386a9(0x250)+_0x52ed3d+_0x3386a9(0x1af),_0x55d5ff[_0x3386a9(0x210)][_0x3386a9(0x207)]=0xa+_0x38e5e3['colIndex'];if(_0x5b2452<0x55)_0x55d5ff[_0x3386a9(0x1b3)][_0x3386a9(0x259)]('mini');let _0x41816b='';if(_0x4f3ae7[_0x3386a9(0x28e)])_0x41816b+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x4940da)_0x41816b+=_0x3386a9(0x22b);_0x55d5ff[_0x3386a9(0x1e6)]=_0x3386a9(0x1ea)+_0x4f3ae7[_0x3386a9(0x201)]+_0x3386a9(0x27d)+_0x4f3ae7[_0x3386a9(0x20a)]+_0x3386a9(0x209)+_0x41816b+_0x3386a9(0x20d),_0x55d5ff['onclick']=_0x432e36=>{const _0x23a19c=_0x3386a9;_0x432e36[_0x23a19c(0x295)](),openDetails(_0x4f3ae7);},_0x54a111[_0x3386a9(0x24c)](_0x55d5ff);});}function openAnalytics(){const _0x1bb0de=a3_0x3af4bd,_0x4c42a3=document['querySelector'](_0x1bb0de(0x27e));setAnalyticsPeriod(_0x1bb0de(0x1f3),_0x4c42a3),openSheet(_0x1bb0de(0x222));}function setAnalyticsPeriod(_0x14a329,_0x4eee2e){const _0x119041=a3_0x3af4bd;currentAnPeriod=_0x14a329,document[_0x119041(0x22d)](_0x119041(0x27e))[_0x119041(0x233)](_0x4e3951=>_0x4e3951[_0x119041(0x1b3)][_0x119041(0x279)]('active'));if(_0x4eee2e)_0x4eee2e[_0x119041(0x1b3)][_0x119041(0x259)]('active');const _0x4b0689=document[_0x119041(0x247)]('anCustomDates');_0x4b0689[_0x119041(0x210)][_0x119041(0x1c0)]=_0x14a329==='custom'?_0x119041(0x287):'none';const _0x3b3cbe=new Date();let _0x52f221=new Date(),_0x2679bd=new Date();if(_0x14a329===_0x119041(0x1f3))_0x52f221=getStartOfWeek(_0x3b3cbe),_0x2679bd=new Date(_0x52f221),_0x2679bd[_0x119041(0x282)](_0x2679bd[_0x119041(0x261)]()+0x6);else{if(_0x14a329===_0x119041(0x1c9))_0x52f221=new Date(_0x3b3cbe['getFullYear'](),_0x3b3cbe['getMonth'](),0x1),_0x2679bd=new Date(_0x3b3cbe['getFullYear'](),_0x3b3cbe['getMonth']()+0x1,0x0);else{!document[_0x119041(0x247)](_0x119041(0x271))[_0x119041(0x1ae)]&&(document[_0x119041(0x247)]('anStart')[_0x119041(0x1ae)]=getLocalDateStr(_0x3b3cbe),document['getElementById'](_0x119041(0x19f))['value']=getLocalDateStr(_0x3b3cbe));refreshAnalytics();return;}}document[_0x119041(0x247)](_0x119041(0x271))[_0x119041(0x1ae)]=getLocalDateStr(_0x52f221),document['getElementById'](_0x119041(0x19f))[_0x119041(0x1ae)]=getLocalDateStr(_0x2679bd),refreshAnalytics();}function refreshAnalytics(){const _0x2b0b77=a3_0x3af4bd,_0x4a3cc8=document[_0x2b0b77(0x247)]('anStart')['value'],_0x474218=document['getElementById'](_0x2b0b77(0x19f))[_0x2b0b77(0x1ae)];if(!_0x4a3cc8||!_0x474218)return;const _0xbaadf=sessions[_0x2b0b77(0x1b0)](_0x28a286=>_0x28a286[_0x2b0b77(0x1a1)]>=_0x4a3cc8&&_0x28a286['dateStr']<=_0x474218&&_0x28a286['status']!=='cancelled'),_0x1908a1=_0xbaadf[_0x2b0b77(0x227)],_0x460c7c=_0xbaadf['filter'](_0x1d44aa=>_0x1d44aa[_0x2b0b77(0x246)]==='completed')[_0x2b0b77(0x227)],_0x193666=_0x1908a1>0x0?Math['round'](_0x460c7c/_0x1908a1*0x64):0x0;document[_0x2b0b77(0x247)]('anPercent')['textContent']=_0x193666+'%',document[_0x2b0b77(0x247)](_0x2b0b77(0x1bc))[_0x2b0b77(0x1ff)]=_0x460c7c+'\x20–∏–∑\x20'+_0x1908a1+_0x2b0b77(0x1e9);const _0x4520b3=document[_0x2b0b77(0x247)](_0x2b0b77(0x20c)),_0x355e42=0x2*Math['PI']*0x23,_0x2f25e9=_0x355e42-_0x193666/0x64*_0x355e42;_0x4520b3[_0x2b0b77(0x210)][_0x2b0b77(0x21e)]=_0x2f25e9;const _0x2e6305={};_0xbaadf[_0x2b0b77(0x233)](_0x25342c=>{const _0x47f841=_0x2b0b77,_0x80c086=_0x25342c[_0x47f841(0x252)]||_0x47f841(0x25d);if(!_0x2e6305[_0x80c086]){const _0x1cb8fd='#'+_0x80c086[_0x47f841(0x219)]()[_0x47f841(0x24d)](0x0,0x6);_0x2e6305[_0x80c086]={'total':0x0,'done':0x0,'color':_0x1cb8fd};}_0x2e6305[_0x80c086][_0x47f841(0x1c7)]++;if(_0x25342c[_0x47f841(0x246)]==='completed')_0x2e6305[_0x80c086][_0x47f841(0x1d6)]++;});const _0x369509=document[_0x2b0b77(0x247)](_0x2b0b77(0x1e3));_0x369509[_0x2b0b77(0x1e6)]='';const _0x5c0a4b=Object[_0x2b0b77(0x22f)](_0x2e6305)['sort']((_0x58990d,_0x2e4bc5)=>_0x2e4bc5[0x1][_0x2b0b77(0x1c7)]-_0x58990d[0x1][_0x2b0b77(0x1c7)]);if(_0x5c0a4b[_0x2b0b77(0x227)]===0x0){_0x369509[_0x2b0b77(0x1e6)]=_0x2b0b77(0x1b7);return;}_0x5c0a4b['forEach'](([_0x192166,_0x40589d])=>{const _0x234471=_0x2b0b77,_0x2f3475=Math[_0x234471(0x1b1)](_0x40589d['done']/_0x40589d[_0x234471(0x1c7)]*0x64),_0x1c89d2=document[_0x234471(0x253)](_0x234471(0x285));_0x1c89d2[_0x234471(0x1ce)]=_0x234471(0x245),_0x1c89d2[_0x234471(0x210)][_0x234471(0x1ac)]=_0x40589d[_0x234471(0x244)],_0x1c89d2[_0x234471(0x1e6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x192166[_0x234471(0x24d)](0x0,0x5)+_0x234471(0x200)+_0x40589d['done']+'</span>\x20/\x20'+_0x40589d[_0x234471(0x1c7)]+_0x234471(0x27c)+_0x2f3475+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x369509[_0x234471(0x24c)](_0x1c89d2);});}function openDetails(_0x2a6a13){const _0x5aaf42=a3_0x3af4bd;currentSession=_0x2a6a13;const _0x4a10f9=new Date(_0x2a6a13[_0x5aaf42(0x1a1)]),_0x1867e8=_0x4a10f9[_0x5aaf42(0x23e)](_0x5aaf42(0x251),{'weekday':_0x5aaf42(0x203),'day':_0x5aaf42(0x1f1),'month':_0x5aaf42(0x203)});document['getElementById']('detDate')[_0x5aaf42(0x1ff)]=_0x1867e8[_0x5aaf42(0x1bb)](0x0)[_0x5aaf42(0x25e)]()+_0x1867e8[_0x5aaf42(0x24a)](0x1),document[_0x5aaf42(0x247)](_0x5aaf42(0x248))[_0x5aaf42(0x1ff)]=_0x2a6a13[_0x5aaf42(0x201)]+_0x5aaf42(0x27d)+_0x2a6a13[_0x5aaf42(0x20a)],document[_0x5aaf42(0x247)](_0x5aaf42(0x1ed))[_0x5aaf42(0x1ff)]=_0x2a6a13[_0x5aaf42(0x1df)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x465154=document[_0x5aaf42(0x247)](_0x5aaf42(0x291)),_0x3922c9=document['getElementById'](_0x5aaf42(0x26a)),_0x39bc8c=_0x3922c9[_0x5aaf42(0x226)](_0x5aaf42(0x1db)),_0x2a5867=_0x3922c9[_0x5aaf42(0x226)](_0x5aaf42(0x1e8)),_0x315321=document[_0x5aaf42(0x247)](_0x5aaf42(0x288));if(_0x2a6a13[_0x5aaf42(0x246)]===_0x5aaf42(0x278))_0x465154[_0x5aaf42(0x1ff)]=_0x5aaf42(0x1a6),_0x465154[_0x5aaf42(0x210)][_0x5aaf42(0x244)]='var(--acc-green)',_0x3922c9[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]='none';else{_0x465154[_0x5aaf42(0x1ff)]=_0x5aaf42(0x276),_0x465154['style'][_0x5aaf42(0x244)]=_0x5aaf42(0x1a4),_0x3922c9[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]=_0x5aaf42(0x1ee);const _0x44ebf1=new Date(_0x2a6a13[_0x5aaf42(0x1a1)]+'T'+_0x2a6a13['start']),_0x483820=new Date(),_0x9b6ff2=(_0x44ebf1-_0x483820)/(0x3e8*0x3c*0x3c),_0x3e6e5a=coachProfiles[_0x2a6a13['coachId']]&&coachProfiles[_0x2a6a13[_0x5aaf42(0x252)]][_0x5aaf42(0x224)]?parseInt(coachProfiles[_0x2a6a13[_0x5aaf42(0x252)]]['cancel_window']):0x18;if(_0x3e6e5a===0x0||_0x9b6ff2>=_0x3e6e5a)_0x39bc8c['style'][_0x5aaf42(0x1c0)]=_0x5aaf42(0x1ee),_0x2a5867[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]=_0x5aaf42(0x1ee),_0x315321[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]='none';else{_0x39bc8c[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]=_0x5aaf42(0x1ca),_0x2a5867[_0x5aaf42(0x210)][_0x5aaf42(0x1c0)]=_0x5aaf42(0x1ca),_0x315321['style']['display']=_0x5aaf42(0x1ee);let _0x16ec79=_0x3e6e5a===0x0?_0x5aaf42(0x1d9):_0x5aaf42(0x1c2)+_0x3e6e5a+_0x5aaf42(0x229);_0x315321[_0x5aaf42(0x1ff)]=_0x5aaf42(0x24f)+_0x16ec79+_0x5aaf42(0x25f);}}document[_0x5aaf42(0x247)](_0x5aaf42(0x1a8))[_0x5aaf42(0x1b3)][_0x5aaf42(0x259)](_0x5aaf42(0x236)),document[_0x5aaf42(0x247)](_0x5aaf42(0x1dd))['classList'][_0x5aaf42(0x259)](_0x5aaf42(0x264));}function closeAllSheets(){const _0x502b7a=a3_0x3af4bd;document[_0x502b7a(0x247)](_0x502b7a(0x1a8))[_0x502b7a(0x1b3)]['remove']('active'),document[_0x502b7a(0x22d)]('.sheet')[_0x502b7a(0x233)](_0x5e196c=>_0x5e196c[_0x502b7a(0x1b3)]['remove'](_0x502b7a(0x264)));}function openSheet(_0x173194){const _0x131839=a3_0x3af4bd;document[_0x131839(0x247)](_0x131839(0x1a8))['classList'][_0x131839(0x259)](_0x131839(0x236)),document[_0x131839(0x247)](_0x173194)[_0x131839(0x1b3)]['add'](_0x131839(0x264));}function getLocalDateStr(_0x3f5afd){const _0x21726f=a3_0x3af4bd,_0x41c82d=_0x3f5afd[_0x21726f(0x266)](),_0x2b40f3=String(_0x3f5afd[_0x21726f(0x1a5)]()+0x1)[_0x21726f(0x26d)](0x2,'0'),_0x329c61=String(_0x3f5afd['getDate']())[_0x21726f(0x26d)](0x2,'0');return _0x41c82d+'-'+_0x2b40f3+'-'+_0x329c61;}function getStartOfWeek(_0x6b185d){const _0x45d037=a3_0x3af4bd,_0x58adf6=new Date(_0x6b185d),_0x17dd18=_0x58adf6[_0x45d037(0x223)](),_0x4df996=_0x58adf6[_0x45d037(0x261)]()-_0x17dd18+(_0x17dd18===0x0?-0x6:0x1);return _0x58adf6[_0x45d037(0x282)](_0x4df996),_0x58adf6[_0x45d037(0x265)](0x0,0x0,0x0,0x0),_0x58adf6;}function scrollToToday(){const _0x4c11d3=getLocalDateStr(new Date());setTimeout(()=>{const _0x563a70=a3_0x6018,_0x2889ef=document[_0x563a70(0x226)]('.day-col-header[data-date=\x22'+_0x4c11d3+'\x22]');if(_0x2889ef){const _0x471a70=document[_0x563a70(0x247)](_0x563a70(0x26f)),_0x5c1ef4=_0x2889ef[_0x563a70(0x1b4)]-_0x471a70['clientWidth']/0x2+_0x2889ef[_0x563a70(0x202)]/0x2;_0x471a70[_0x563a70(0x20f)]({'left':_0x5c1ef4,'behavior':_0x563a70(0x1cf)}),_0x471a70[_0x563a70(0x214)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x47f8e8=a3_0x3af4bd,_0x1eebb7=new Date(),_0x1f9dce=document[_0x47f8e8(0x247)](_0x47f8e8(0x1d7)),_0x504f34=document[_0x47f8e8(0x247)](_0x47f8e8(0x19e)),_0x315b8a=(_0x1eebb7[_0x47f8e8(0x1c1)]()*0x3c+_0x1eebb7[_0x47f8e8(0x25a)]())/0x3c*GRID_H;_0x1f9dce[_0x47f8e8(0x210)]['top']=_0x315b8a+'px',_0x1f9dce['style']['display']='block',_0x504f34[_0x47f8e8(0x210)][_0x47f8e8(0x1f4)]=_0x315b8a+'px',_0x504f34[_0x47f8e8(0x210)][_0x47f8e8(0x1c0)]=_0x47f8e8(0x1ee),_0x504f34[_0x47f8e8(0x1ff)]=String(_0x1eebb7[_0x47f8e8(0x1c1)]())['padStart'](0x2,'0')+':'+String(_0x1eebb7['getMinutes']())[_0x47f8e8(0x26d)](0x2,'0');}function onScroll(){const _0x2a6ce0=a3_0x3af4bd,_0x1d8e00=document[_0x2a6ce0(0x247)]('matrixViewport'),_0x153efc=document['querySelectorAll'](_0x2a6ce0(0x21a));for(let _0x362ce4 of _0x153efc)if(_0x362ce4[_0x2a6ce0(0x1b4)]>=_0x1d8e00[_0x2a6ce0(0x1d5)]){const _0x45b965=new Date(_0x362ce4['getAttribute'](_0x2a6ce0(0x23d)));document['getElementById'](_0x2a6ce0(0x270))[_0x2a6ce0(0x1ff)]=_0x45b965['toLocaleString']('ru',{'month':_0x2a6ce0(0x203)})['toUpperCase']()+'\x20'+_0x45b965[_0x2a6ce0(0x266)]();break;}}function showToast(_0x4556a7){const _0x545743=a3_0x3af4bd,_0x267537=document[_0x545743(0x247)]('toast');_0x267537[_0x545743(0x1ff)]=_0x4556a7,_0x267537[_0x545743(0x1b3)][_0x545743(0x259)](_0x545743(0x24b)),setTimeout(()=>_0x267537[_0x545743(0x1b3)]['remove'](_0x545743(0x24b)),0x7d0);}function handleInfiniteScroll(){const _0x1f0010=a3_0x3af4bd,_0x223390=document['getElementById'](_0x1f0010(0x26f)),_0x4662c0=_0x223390['scrollLeft'],_0x511f78=_0x223390[_0x1f0010(0x211)],_0x55d823=_0x223390[_0x1f0010(0x283)];if(_0x511f78-(_0x4662c0+_0x55d823)<0x12c){const _0x3c0cef=endOffset;endOffset+=0xe,renderDayRange(_0x3c0cef+0x1,endOffset),reRenderBlocks();}if(_0x4662c0<0x12c){const _0x1a42d4=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1a42d4-0x1),_0x223390[_0x1f0010(0x1d5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x12c895,_0x4842f5){const _0x18d993=a3_0x3af4bd,_0x40a950=document[_0x18d993(0x247)](_0x18d993(0x281)),_0x2aee47=document[_0x18d993(0x247)](_0x18d993(0x1f8)),_0x28e0f3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a67db=new Date();_0x2a67db['setHours'](0x0,0x0,0x0,0x0);const _0xa87081=getLocalDateStr(new Date()),_0xf5c69c=document[_0x18d993(0x23a)](),_0x661193=document[_0x18d993(0x23a)]();for(let _0x4c4e8a=_0x12c895;_0x4c4e8a<=_0x4842f5;_0x4c4e8a++){const _0x26c3db=new Date(_0x2a67db);_0x26c3db[_0x18d993(0x282)](_0x26c3db[_0x18d993(0x261)]()+_0x4c4e8a);const _0x4eb8bc=getLocalDateStr(_0x26c3db);let _0x2a512c=_0x26c3db[_0x18d993(0x223)]()-0x1;if(_0x2a512c===-0x1)_0x2a512c=0x6;const _0x3cd1cd=_0x4eb8bc===_0xa87081,_0x24442b=document[_0x18d993(0x253)](_0x18d993(0x285));_0x24442b[_0x18d993(0x1ce)]=_0x18d993(0x27a)+(_0x3cd1cd?_0x18d993(0x1de):''),_0x24442b[_0x18d993(0x255)](_0x18d993(0x23d),_0x4eb8bc),_0x24442b['innerHTML']=_0x18d993(0x241)+_0x28e0f3[_0x2a512c]+'</div><div\x20class=\x22dch-num\x22>'+_0x26c3db[_0x18d993(0x261)]()+'</div>',_0xf5c69c['appendChild'](_0x24442b);const _0x25b3ca=document[_0x18d993(0x253)](_0x18d993(0x285));_0x25b3ca[_0x18d993(0x1ce)]=_0x18d993(0x20b)+(_0x3cd1cd?'today':''),_0x25b3ca[_0x18d993(0x255)](_0x18d993(0x23d),_0x4eb8bc),_0x25b3ca[_0x18d993(0x255)](_0x18d993(0x213),_0x2a512c),_0x661193[_0x18d993(0x24c)](_0x25b3ca);}_0x40a950['insertBefore'](_0xf5c69c,_0x40a950['firstChild']),_0x2aee47[_0x18d993(0x240)](_0x661193,_0x2aee47['querySelector'](_0x18d993(0x290)));}function hexToRgba(_0x138570,_0x24197d){const _0x168963=a3_0x3af4bd;let _0x2c7081;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x168963(0x268)](_0x138570))return _0x2c7081=_0x138570[_0x168963(0x23f)](0x1)[_0x168963(0x239)](''),_0x2c7081[_0x168963(0x227)]==0x3&&(_0x2c7081=[_0x2c7081[0x0],_0x2c7081[0x0],_0x2c7081[0x1],_0x2c7081[0x1],_0x2c7081[0x2],_0x2c7081[0x2]]),_0x2c7081='0x'+_0x2c7081[_0x168963(0x221)](''),'rgba('+[_0x2c7081>>0x10&0xff,_0x2c7081>>0x8&0xff,_0x2c7081&0xff]['join'](',')+','+_0x24197d+')';return _0x168963(0x1f5)+_0x24197d+')';}let confirmResolver=null;function a3_0x6018(_0x46d9f7,_0x59d9e2){_0x46d9f7=_0x46d9f7-0x19d;const _0x44b1dd=a3_0x3876();let _0x5d4539=_0x44b1dd[_0x46d9f7];return _0x5d4539;}function showCustomConfirm(_0x37f864,_0x43bb51,_0x11cc35=!![]){const _0x25d7a1=a3_0x3af4bd;document['getElementById'](_0x25d7a1(0x1b2))[_0x25d7a1(0x1ff)]=_0x37f864,document[_0x25d7a1(0x247)]('ccText')[_0x25d7a1(0x1ff)]=_0x43bb51;const _0x128d6b=document[_0x25d7a1(0x247)](_0x25d7a1(0x21d));return _0x11cc35?(_0x128d6b['style'][_0x25d7a1(0x244)]=_0x25d7a1(0x28f),_0x128d6b['style'][_0x25d7a1(0x20e)]=_0x25d7a1(0x21b)):(_0x128d6b[_0x25d7a1(0x210)][_0x25d7a1(0x244)]='#0a84ff',_0x128d6b[_0x25d7a1(0x210)][_0x25d7a1(0x20e)]=_0x25d7a1(0x21b)),new Promise(_0x430cb9=>{const _0x4135db=_0x25d7a1;confirmResolver=_0x430cb9,document['getElementById'](_0x4135db(0x289))[_0x4135db(0x1b3)]['add'](_0x4135db(0x1d4));});}function resolveCustomConfirm(_0x557ffe){const _0x3783fd=a3_0x3af4bd;document['getElementById'](_0x3783fd(0x289))['classList'][_0x3783fd(0x279)](_0x3783fd(0x1d4));if(confirmResolver)confirmResolver(_0x557ffe);}async function tryCancelCurrentSession(){const _0x502748=a3_0x3af4bd;if(!currentSession)return;const _0x57919c=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x502748(0x26e),!![]);if(!_0x57919c)return;const _0x14c464=currentSession;closeAllSheets(),sessions=sessions[_0x502748(0x1b0)](_0x4464ce=>_0x4464ce['id']!==_0x14c464['id']),reRenderBlocks(),showToast(_0x502748(0x218)),lastUserActionTime=Date[_0x502748(0x217)]();try{const _0x3a8176=window[_0x502748(0x272)]?.[_0x502748(0x1a3)],_0x5a5583=await fetch(API_URL,{'method':_0x502748(0x1b6),'body':JSON[_0x502748(0x1cd)]({'action':'client_cancel','init_data':_0x3a8176?.[_0x502748(0x25b)]||'','coachId':_0x14c464[_0x502748(0x252)],'dateStr':_0x14c464[_0x502748(0x1a1)],'sessionId':_0x14c464['id']})});if(_0x5a5583['ok'])DataManager[_0x502748(0x220)]();}catch(_0xd5cdb4){showToast(_0x502748(0x1fd));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x352258=a3_0x3af4bd;if(!currentSession)return;document[_0x352258(0x247)](_0x352258(0x1dd))[_0x352258(0x1b3)][_0x352258(0x279)](_0x352258(0x264)),document[_0x352258(0x247)]('rescheduleSheet')[_0x352258(0x1b3)][_0x352258(0x259)](_0x352258(0x264));const _0x2aeec0=document[_0x352258(0x247)]('rsDatesTrack'),_0x1e47b2=document[_0x352258(0x247)]('rsSlotsGrid');_0x2aeec0[_0x352258(0x1e6)]='',_0x1e47b2[_0x352258(0x1e6)]=_0x352258(0x1ab);const [_0x42625f,_0x2fc9dc]=currentSession['start'][_0x352258(0x239)](':')[_0x352258(0x1a2)](Number),[_0x251b01,_0x5922e3]=currentSession['end']['split'](':')[_0x352258(0x1a2)](Number),_0x9f9ce4=_0x251b01*0x3c+_0x5922e3-(_0x42625f*0x3c+_0x2fc9dc);try{const _0x5ef5a4=window[_0x352258(0x272)]?.[_0x352258(0x1a3)],_0xc5cb99=await fetch(API_URL,{'method':_0x352258(0x1b6),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x352258(0x252)],'duration':_0x9f9ce4,'init_data':_0x5ef5a4?.[_0x352258(0x25b)]||'','excludeSessionId':currentSession['id']})}),_0x19beba=await _0xc5cb99[_0x352258(0x19d)]();_0x19beba['ok']&&_0x19beba[_0x352258(0x25c)]?(availableSlotsCache=_0x19beba[_0x352258(0x25c)],renderRescheduleDates()):_0x1e47b2[_0x352258(0x1e6)]=_0x352258(0x1c6);}catch(_0x52a30c){_0x1e47b2['innerHTML']=_0x352258(0x284);}}function renderRescheduleDates(){const _0x50f90f=a3_0x3af4bd,_0x28a52c=document[_0x50f90f(0x247)](_0x50f90f(0x1f2));_0x28a52c[_0x50f90f(0x1e6)]='';const _0x4ce12b=Object['keys'](availableSlotsCache)[_0x50f90f(0x26c)](),_0x20766e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4ce12b[_0x50f90f(0x227)]===0x0){document[_0x50f90f(0x247)](_0x50f90f(0x205))[_0x50f90f(0x1e6)]=_0x50f90f(0x1e5);return;}_0x4ce12b[_0x50f90f(0x233)]((_0x3a8385,_0xbf39fd)=>{const _0x245965=_0x50f90f,_0x27fcf7=new Date(_0x3a8385),_0x544855=_0x20766e[_0x27fcf7[_0x245965(0x223)]()],_0x2174df=_0x27fcf7[_0x245965(0x261)](),_0x21054f=document[_0x245965(0x253)](_0x245965(0x285));_0x21054f[_0x245965(0x1ce)]=_0x245965(0x1be);if(_0xbf39fd===0x0)_0x21054f[_0x245965(0x1b3)]['add']('active');_0x21054f[_0x245965(0x1e6)]='<div\x20class=\x22rs-day-name\x22>'+_0x544855+_0x245965(0x1ba)+_0x2174df+_0x245965(0x1cb),_0x21054f[_0x245965(0x225)]=()=>selectRsDate(_0x3a8385,_0x21054f),_0x28a52c[_0x245965(0x24c)](_0x21054f);}),selectRsDate(_0x4ce12b[0x0],_0x28a52c['firstChild']);}function selectRsDate(_0x4096ed,_0x408342){const _0x318644=a3_0x3af4bd;selectedRsDate=_0x4096ed,document[_0x318644(0x22d)](_0x318644(0x269))[_0x318644(0x233)](_0x3af39a=>_0x3af39a['classList'][_0x318644(0x279)](_0x318644(0x236)));if(_0x408342)_0x408342['classList'][_0x318644(0x259)](_0x318644(0x236));const _0x1c8aed=document[_0x318644(0x247)]('rsSlotsGrid');_0x1c8aed['innerHTML']='';const _0x35087f=availableSlotsCache[_0x4096ed]||[];if(_0x35087f['length']===0x0){_0x1c8aed[_0x318644(0x1e6)]=_0x318644(0x1c6);return;}_0x35087f[_0x318644(0x233)](_0x49204e=>{const _0x47815d=_0x318644,_0x53f3bf=document['createElement'](_0x47815d(0x1d0));_0x53f3bf[_0x47815d(0x1ce)]=_0x47815d(0x275),_0x53f3bf[_0x47815d(0x1ff)]=_0x49204e,_0x53f3bf[_0x47815d(0x225)]=()=>confirmReschedule(_0x49204e),_0x1c8aed[_0x47815d(0x24c)](_0x53f3bf);});}async function confirmReschedule(_0x299411){const _0x28c4b0=a3_0x3af4bd,_0x1d5c95=new Date(selectedRsDate),_0x494567=_0x1d5c95[_0x28c4b0(0x23e)](_0x28c4b0(0x251),{'day':_0x28c4b0(0x1f1),'month':_0x28c4b0(0x203)}),_0x2133a5=await showCustomConfirm(_0x28c4b0(0x234),_0x28c4b0(0x1fe)+_0x494567+_0x28c4b0(0x204)+_0x299411+'?',![]);if(!_0x2133a5)return;closeAllSheets(),showToast(_0x28c4b0(0x292)),lastUserActionTime=Date[_0x28c4b0(0x217)]();const _0x40d13b=currentSession[_0x28c4b0(0x1a1)],_0x1ecc87=currentSession['id'],[_0x1793f1,_0x51432a]=currentSession[_0x28c4b0(0x201)][_0x28c4b0(0x239)](':')[_0x28c4b0(0x1a2)](Number),[_0x242c56,_0x188433]=currentSession[_0x28c4b0(0x20a)]['split'](':')[_0x28c4b0(0x1a2)](Number),_0x4c1129=_0x242c56*0x3c+_0x188433-(_0x1793f1*0x3c+_0x51432a),[_0x206ddd,_0x29181d]=_0x299411[_0x28c4b0(0x239)](':')[_0x28c4b0(0x1a2)](Number),_0x2762bf=_0x206ddd*0x3c+_0x29181d+_0x4c1129,_0x5cc598=Math[_0x28c4b0(0x23b)](_0x2762bf/0x3c),_0xc04e4a=_0x2762bf%0x3c,_0x1752e3=String(_0x5cc598)[_0x28c4b0(0x26d)](0x2,'0')+':'+String(_0xc04e4a)[_0x28c4b0(0x26d)](0x2,'0'),_0x5aa17c=sessions['findIndex'](_0x1feb47=>_0x1feb47['id']===_0x1ecc87);_0x5aa17c!==-0x1&&(sessions[_0x5aa17c][_0x28c4b0(0x1a1)]=selectedRsDate,sessions[_0x5aa17c][_0x28c4b0(0x201)]=_0x299411,sessions[_0x5aa17c][_0x28c4b0(0x20a)]=_0x1752e3,reRenderBlocks());try{const _0x1ae518=window[_0x28c4b0(0x272)]?.['WebApp'],_0x20451c=await fetch(API_URL,{'method':_0x28c4b0(0x1b6),'body':JSON[_0x28c4b0(0x1cd)]({'action':'reschedule','init_data':_0x1ae518?.['initData']||'','oldSessionId':_0x1ecc87,'oldDate':_0x40d13b,'newDate':selectedRsDate,'newTime':_0x299411,'coachId':currentSession[_0x28c4b0(0x252)]})}),_0x3532bc=await _0x20451c[_0x28c4b0(0x19d)]();!_0x3532bc['ok']?(showToast(_0x28c4b0(0x24e)),DataManager[_0x28c4b0(0x1c4)]()):(showToast(_0x28c4b0(0x22e)),DataManager[_0x28c4b0(0x220)]());}catch(_0x2c1ac9){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x3af4bd(0x249)](a3_0x3af4bd(0x1ef),init);