const a3_0x42bac1=a3_0x89ed;(function(_0x2e2b26,_0x11cb92){const _0x370dc8=a3_0x89ed,_0x20543e=_0x2e2b26();while(!![]){try{const _0x12f663=parseInt(_0x370dc8(0x2b9))/0x1+-parseInt(_0x370dc8(0x261))/0x2+-parseInt(_0x370dc8(0x21a))/0x3*(parseInt(_0x370dc8(0x2ad))/0x4)+parseInt(_0x370dc8(0x201))/0x5+-parseInt(_0x370dc8(0x2ae))/0x6*(parseInt(_0x370dc8(0x224))/0x7)+-parseInt(_0x370dc8(0x20a))/0x8*(-parseInt(_0x370dc8(0x23e))/0x9)+-parseInt(_0x370dc8(0x2a8))/0xa;if(_0x12f663===_0x11cb92)break;else _0x20543e['push'](_0x20543e['shift']());}catch(_0xb0060){_0x20543e['push'](_0x20543e['shift']());}}}(a3_0x4b35,0xbbba6));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x42bac1(0x27a),GRID_H=0x3c,KEY_SESSIONS=a3_0x42bac1(0x2ca),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x541608=a3_0x42bac1,_0x43d58f=(function(){let _0x19fc52=!![];return function(_0x30f00c,_0x54eec4){const _0x27b5a6=_0x19fc52?function(){const _0xe58b80=a3_0x89ed;if(_0x54eec4){const _0x29f593=_0x54eec4[_0xe58b80(0x2b7)](_0x30f00c,arguments);return _0x54eec4=null,_0x29f593;}}:function(){};return _0x19fc52=![],_0x27b5a6;};}()),_0x2d7dea=_0x43d58f(this,function(){const _0x38c026=a3_0x89ed;return _0x2d7dea[_0x38c026(0x29a)]()[_0x38c026(0x28c)](_0x38c026(0x2a0))[_0x38c026(0x29a)]()[_0x38c026(0x29d)](_0x2d7dea)[_0x38c026(0x28c)](_0x38c026(0x2a0));});_0x2d7dea();try{const _0x250ce6=window[_0x541608(0x2ed)]?.[_0x541608(0x2c9)];if(!_0x250ce6)return;_0x250ce6['ready'](),_0x250ce6[_0x541608(0x253)]();try{_0x250ce6[_0x541608(0x203)](_0x541608(0x26c)),_0x250ce6[_0x541608(0x1f9)]&&_0x250ce6[_0x541608(0x1f9)](_0x541608(0x26c));}catch(_0x50b5c9){console['log'](_0x541608(0x2ab),_0x50b5c9);}try{_0x250ce6[_0x541608(0x240)]&&(_0x250ce6[_0x541608(0x240)]['show'](),_0x250ce6['BackButton'][_0x541608(0x265)](),_0x250ce6['BackButton'][_0x541608(0x260)](function(){const _0x2ead5c=_0x541608;window['location'][_0x2ead5c(0x2eb)]='router.html';}));}catch(_0x489732){console[_0x541608(0x269)](_0x541608(0x208),_0x489732);}try{if(_0x250ce6['disableVerticalSwipes'])_0x250ce6[_0x541608(0x2d4)]();}catch(_0x4465bd){}}catch(_0x35ebfb){console[_0x541608(0x1fa)]('Critical\x20TMA\x20Error:',_0x35ebfb);}}());function isAdmin(){const _0x545ecc=a3_0x42bac1;try{const _0x350a18=Number(window[_0x545ecc(0x2ed)]?.['WebApp']?.[_0x545ecc(0x244)]?.[_0x545ecc(0x236)]?.['id']);return _0x350a18===0xbaf7174;}catch(_0x505f1f){return![];}}const DataManager={'saveLocally'(){const _0x5c5eeb=a3_0x42bac1;try{localStorage[_0x5c5eeb(0x210)](KEY_SESSIONS,JSON[_0x5c5eeb(0x28d)](sessions)),localStorage[_0x5c5eeb(0x210)](KEY_CLIENTS,JSON[_0x5c5eeb(0x28d)](clients)),localStorage[_0x5c5eeb(0x210)](KEY_SETTINGS,JSON[_0x5c5eeb(0x28d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x19b105){}},'loadLocal'(){const _0x18f4f0=a3_0x42bac1;try{const _0x47b655=localStorage['getItem'](KEY_SESSIONS);if(_0x47b655)sessions=JSON[_0x18f4f0(0x24b)](_0x47b655);const _0x56d9b1=localStorage[_0x18f4f0(0x26b)](KEY_CLIENTS);if(_0x56d9b1)clients=JSON[_0x18f4f0(0x24b)](_0x56d9b1);const _0x48b51a=localStorage['getItem'](KEY_SETTINGS);if(_0x48b51a){const _0x766c7e=JSON[_0x18f4f0(0x24b)](_0x48b51a);if(_0x766c7e[_0x18f4f0(0x1f7)])availabilityPattern=_0x766c7e[_0x18f4f0(0x1f7)];if(_0x766c7e['ranges'])specialRanges=_0x766c7e['ranges'];if(_0x766c7e['exceptions'])dateExceptions=_0x766c7e['exceptions'];}}catch(_0x4cb0cc){}},async 'syncLoad'(){const _0x243eb9=a3_0x42bac1,_0x4e1163=new Date(),_0x54a419=_0x4e1163[_0x243eb9(0x2e9)]()+'-'+String(_0x4e1163['getMonth']()+0x1)[_0x243eb9(0x235)](0x2,'0'),_0xdbacc5=new Date(_0x4e1163);_0xdbacc5['setMonth'](_0x4e1163[_0x243eb9(0x24c)]()+0x1);const _0x5ddd6c=_0xdbacc5[_0x243eb9(0x2e9)]()+'-'+String(_0xdbacc5[_0x243eb9(0x24c)]()+0x1)[_0x243eb9(0x235)](0x2,'0'),_0x32467b=Date[_0x243eb9(0x23d)]();try{const _0x4cbd16=window['Telegram']?.['WebApp'],_0x3ecd4b=_0x4cbd16?.['initData']||'',[_0x27dfb1,_0x2f8b46]=await Promise[_0x243eb9(0x202)]([fetch(API_URL,{'method':_0x243eb9(0x2b8),'body':JSON[_0x243eb9(0x28d)]({'action':'client_load','init_data':_0x3ecd4b,'month_str':_0x54a419})})[_0x243eb9(0x2df)](_0x39c143=>_0x39c143['json']()),fetch(API_URL,{'method':_0x243eb9(0x2b8),'body':JSON[_0x243eb9(0x28d)]({'action':'client_load','init_data':_0x3ecd4b,'month_str':_0x5ddd6c})})[_0x243eb9(0x2df)](_0x307396=>_0x307396[_0x243eb9(0x28f)]())]);if(lastUserActionTime>_0x32467b){console[_0x243eb9(0x269)](_0x243eb9(0x20f));return;}if(_0x27dfb1['ok'])this[_0x243eb9(0x20c)](_0x27dfb1['data'],_0x54a419);if(_0x2f8b46['ok'])this['applyData'](_0x2f8b46[_0x243eb9(0x255)],_0x5ddd6c);this[_0x243eb9(0x298)]();}catch(_0x98671a){}},'applyData'(_0x59e880,_0x102e75){const _0x4fb5a6=a3_0x42bac1;if(!_0x59e880)return;if(_0x59e880[_0x4fb5a6(0x227)]){if(_0x59e880[_0x4fb5a6(0x227)][_0x4fb5a6(0x1f7)])availabilityPattern=_0x59e880[_0x4fb5a6(0x227)][_0x4fb5a6(0x1f7)];if(_0x59e880[_0x4fb5a6(0x227)]['ranges'])specialRanges=_0x59e880[_0x4fb5a6(0x227)][_0x4fb5a6(0x242)];if(_0x59e880[_0x4fb5a6(0x227)][_0x4fb5a6(0x1f8)])dateExceptions=_0x59e880[_0x4fb5a6(0x227)]['exceptions'];}if(_0x59e880['clients']&&Array['isArray'](_0x59e880[_0x4fb5a6(0x2aa)]))clients=_0x59e880[_0x4fb5a6(0x2aa)];_0x59e880['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x59e880[_0x4fb5a6(0x2b4)]}),_0x59e880[_0x4fb5a6(0x207)]&&(sessions=sessions[_0x4fb5a6(0x273)](_0x44d484=>!_0x44d484[_0x4fb5a6(0x205)][_0x4fb5a6(0x212)](_0x102e75)),Object[_0x4fb5a6(0x248)](_0x59e880[_0x4fb5a6(0x207)])[_0x4fb5a6(0x2b3)](_0x2dd410=>{const _0x36cbaf=_0x4fb5a6,_0x54b357=_0x59e880[_0x36cbaf(0x207)][_0x2dd410];_0x54b357[_0x36cbaf(0x2b3)](_0x2f1af8=>{const _0x304a1e=_0x36cbaf;sessions[_0x304a1e(0x217)]({'id':_0x2f1af8['i'],'clientId':_0x2f1af8['c'],'coachId':_0x2f1af8[_0x304a1e(0x282)],'dateStr':_0x102e75+'-'+_0x2dd410[_0x304a1e(0x235)](0x2,'0'),'start':_0x2f1af8['s'],'end':_0x2f1af8['e'],'note':_0x2f1af8['n']||'','status':_0x2f1af8['st']||_0x304a1e(0x250),'seriesId':_0x2f1af8[_0x304a1e(0x20d)]});});})),reRenderBlocks();}};function init(){const _0x41a84a=a3_0x42bac1;DataManager[_0x41a84a(0x266)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x41a84a(0x234)](_0x41a84a(0x28b))[_0x41a84a(0x29c)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x41a84a(0x2d9)]();}function a3_0x4b35(){const _0x428af9=['setAttribute','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calc(','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','rgba(10,\x20132,\x20255,\x20','then','onclick','auto','max','textContent','var(--acc-green)','scrollTop','getMinutes','find','–∑–∞\x20','getFullYear','completed','href','visible','Telegram','zIndex','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','ccText','note','pattern','exceptions','setBackgroundColor','error','createDocumentFragment','gridColumns','analyticsList','setDate','height','getHours','6313920naGtGe','all','setHeaderColor','T00:00:00','dateStr','active','calendar','Error\x20setting\x20back\x20button:','querySelector','24736eewwXE','remove','applyData','sid','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','setItem','substring','startsWith','none','detailsSheet','style','findIndex','push','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','ru-RU','849789QIyNtt','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x20–∏–∑\x20','firstChild','initData','toLocaleDateString','rgba(','top','join','long','7uKczaF','</div><div\x20class=\x22dch-num\x22>','insertBefore','settings','#0a84ff','.btn-reschedule','headerMonth','cancelContainer','.sheet','event-card','stopPropagation','day-col-header\x20','<div\x20class=\x22rs-day-name\x22>','\x20status-completed','offsetLeft','length','getElementById','padStart','user','substr','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','detStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','week','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','now','2619AwwmxP','colIndex','BackButton','split','ranges','blocked-range-part\x20stripe-bg','initDataUnsafe','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','getDay','createElement','keys','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','rsDatesTrack','parse','getMonth','classList','<div\x20class=\x22dch-day\x22>','day-column\x20','planned','ccYesBtn','cancelHint','expand','fontWeight','data','600','total','.day-col-header','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','setHours','anTotalStats','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','map','scrollLeft','onClick','304256ocaLmq','display','</div><div\x20class=\x22rs-day-num\x22>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','offClick','loadLocal','.btn-cancel','anStart','log','px\x20-','getItem','#050505','get_slots','strokeDashoffset','toLocaleString','customConfirm','#ff453a','getDate','filter','className','rescheduleSheet','backgroundPosition','rs-time-btn','numeric','slice','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getAttribute','cancelled','start','</span>\x20/\x20','open','detDate','</div>','cid','end','client-stat-card','DOMContentLoaded','add','seriesId','test','anPercent','coachId','matrixViewport','search','stringify','%\x20-\x204px)','json','%\x20+\x202px)','getTime','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','scrollWidth','reschedule','data-day-idx','anDonutCircle','analyticsSheet','saveLocally','\x20—á.','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','addEventListener','constructor','.period-switch\x20.p-btn','show','(((.+)+)+)+$','month','data-date','flex','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','overlay','6487210gVWVVX','today','clients','Error\x20setting\x20color:','floor','4QResVL','6311784ivjBTc','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x20–≤\x20','anCustomDates','sort','forEach','coach_profiles','.rs-date-chip','div','apply','POST','742454KufkIG','borderLeftColor','\x20-\x20','ccTitle','timeLineBadge','daysHeaderTrack','rsSlotsGrid','querySelectorAll','timeColumn','anEnd','color','custom','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientId','button','appendChild','WebApp','uc_client_sessions','day-off-overlay\x20stripe-bg','value','innerHTML','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','status','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cancel_window','min','block','disableVerticalSwipes','entries','round','offsetWidth','left','syncLoad'];a3_0x4b35=function(){return _0x428af9;};return a3_0x4b35();}function renderTimeColumn(){const _0x134c70=a3_0x42bac1,_0x447ee5=document[_0x134c70(0x234)](_0x134c70(0x2c1)),_0x395b1=document['getElementById'](_0x134c70(0x2bd));_0x447ee5[_0x134c70(0x2cd)]='',_0x447ee5[_0x134c70(0x2c8)](_0x395b1);for(let _0x5554f8=0x0;_0x5554f8<0x18;_0x5554f8++){const _0x1242f6=document[_0x134c70(0x247)]('div');_0x1242f6[_0x134c70(0x274)]='time-label';if(_0x5554f8>0x0)_0x1242f6[_0x134c70(0x2cd)]='<span>'+String(_0x5554f8)['padStart'](0x2,'0')+':00</span>';_0x447ee5[_0x134c70(0x2c8)](_0x1242f6);}}function renderDayRange(_0x314700,_0x1a53af){const _0x22040f=a3_0x42bac1,_0x9588a9=document['getElementById']('daysHeaderTrack'),_0x510dcb=document[_0x22040f(0x234)](_0x22040f(0x1fc)),_0x2eac11=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x418f5d=new Date();_0x418f5d[_0x22040f(0x25b)](0x0,0x0,0x0,0x0);const _0x1ee11d=getLocalDateStr(new Date());for(let _0x36d01d=_0x314700;_0x36d01d<=_0x1a53af;_0x36d01d++){const _0x1e923a=new Date(_0x418f5d);_0x1e923a[_0x22040f(0x1fe)](_0x1e923a[_0x22040f(0x272)]()+_0x36d01d);const _0xc11a75=getLocalDateStr(_0x1e923a);let _0x17bee4=_0x1e923a[_0x22040f(0x246)]()-0x1;if(_0x17bee4===-0x1)_0x17bee4=0x6;const _0x39e80c=_0xc11a75===_0x1ee11d,_0x289e5b=document['createElement'](_0x22040f(0x2b6));_0x289e5b[_0x22040f(0x274)]=_0x22040f(0x22f)+(_0x39e80c?'today':''),_0x289e5b[_0x22040f(0x2da)]('data-date',_0xc11a75),_0x289e5b['innerHTML']=_0x22040f(0x24e)+_0x2eac11[_0x17bee4]+_0x22040f(0x225)+_0x1e923a[_0x22040f(0x272)]()+_0x22040f(0x281),_0x9588a9['appendChild'](_0x289e5b);const _0x11d9fa=document[_0x22040f(0x247)](_0x22040f(0x2b6));_0x11d9fa[_0x22040f(0x274)]=_0x22040f(0x24f)+(_0x39e80c?_0x22040f(0x2a9):''),_0x11d9fa[_0x22040f(0x2da)](_0x22040f(0x2a2),_0xc11a75),_0x11d9fa[_0x22040f(0x2da)](_0x22040f(0x295),_0x17bee4),_0x510dcb[_0x22040f(0x2c8)](_0x11d9fa);}}function reRenderBlocks(){const _0x388999=a3_0x42bac1;document['querySelectorAll']('.day-column')[_0x388999(0x2b3)](_0x239d80=>{const _0x4c264e=_0x388999;_0x239d80[_0x4c264e(0x2c0)](_0x4c264e(0x2ce))[_0x4c264e(0x2b3)](_0x552bb3=>_0x552bb3['remove']());const _0x6e008e=_0x239d80[_0x4c264e(0x27b)](_0x4c264e(0x2a2)),_0xb14d02=parseInt(_0x239d80[_0x4c264e(0x27b)]('data-day-idx')),_0x253400=Math[_0x4c264e(0x2d6)](_0x239d80[_0x4c264e(0x232)]);(availabilityPattern[_0xb14d02]||[])[_0x4c264e(0x2b3)](_0x5a37e7=>{const _0x5607bb=_0x4c264e,_0x590d2a=document['createElement'](_0x5607bb(0x2b6));_0x590d2a[_0x5607bb(0x274)]='blocked-slot\x20stripe-bg',_0x590d2a[_0x5607bb(0x215)]['top']=_0x5a37e7*GRID_H+'px',_0x590d2a[_0x5607bb(0x215)][_0x5607bb(0x276)]='-'+_0x253400+_0x5607bb(0x26a)+_0x5a37e7*GRID_H+'px',_0x239d80[_0x5607bb(0x2c8)](_0x590d2a);});if(specialRanges[_0x4c264e(0x233)]>0x0){const _0x10c701=new Date(_0x6e008e+_0x4c264e(0x204))[_0x4c264e(0x291)](),_0x3224a6=new Date(_0x6e008e+'T23:59:59')['getTime']();specialRanges[_0x4c264e(0x2b3)](_0x23be31=>{const _0x321504=_0x4c264e,_0x16a612=new Date(_0x23be31[_0x321504(0x27d)])[_0x321504(0x291)](),_0x1dc633=new Date(_0x23be31[_0x321504(0x283)])[_0x321504(0x291)](),_0xb85da8=Math[_0x321504(0x2e2)](_0x10c701,_0x16a612),_0x5e2ab8=Math[_0x321504(0x2d2)](_0x3224a6,_0x1dc633);if(_0xb85da8<_0x5e2ab8){const _0x4905cd=(_0xb85da8-_0x10c701)/0x36ee80*GRID_H,_0x169d4d=(_0x5e2ab8-_0xb85da8)/0x36ee80*GRID_H,_0x5e30ac=document[_0x321504(0x247)](_0x321504(0x2b6));_0x169d4d>=23.5*GRID_H?(_0x5e30ac['className']=_0x321504(0x2cb),_0x5e30ac['style'][_0x321504(0x276)]='-'+_0x253400+'px\x200px'):(_0x5e30ac[_0x321504(0x274)]=_0x321504(0x243),_0x5e30ac[_0x321504(0x215)][_0x321504(0x221)]=_0x4905cd+'px',_0x5e30ac[_0x321504(0x215)][_0x321504(0x1ff)]=_0x169d4d+'px',_0x5e30ac[_0x321504(0x215)]['backgroundPosition']='-'+_0x253400+'px\x20-'+_0x4905cd+'px'),_0x239d80[_0x321504(0x2c8)](_0x5e30ac);}});}renderEventsForColumn(_0x239d80,_0x6e008e);});}function renderEventsForColumn(_0x544069,_0x543548){const _0x39376c=a3_0x42bac1,_0x1db1e1=sessions[_0x39376c(0x273)](_0x12c983=>_0x12c983[_0x39376c(0x205)]===_0x543548),_0x4008e6=_0x1db1e1[_0x39376c(0x25e)](_0x3bb2da=>{const _0x33c3cc=_0x39376c,[_0x3eaa89,_0x518852]=_0x3bb2da['start'][_0x33c3cc(0x241)](':')[_0x33c3cc(0x25e)](Number),[_0x3cf4fb,_0x19e1e1]=_0x3bb2da[_0x33c3cc(0x283)][_0x33c3cc(0x241)](':')[_0x33c3cc(0x25e)](Number);return{'data':_0x3bb2da,'start':_0x3eaa89*0x3c+_0x518852,'end':_0x3cf4fb*0x3c+_0x19e1e1,'colIndex':0x0};});_0x4008e6['sort']((_0x230e7b,_0x3e03c3)=>_0x230e7b['start']-_0x3e03c3[_0x39376c(0x27d)]||_0x3e03c3[_0x39376c(0x283)]-_0x3e03c3[_0x39376c(0x27d)]-(_0x230e7b[_0x39376c(0x283)]-_0x230e7b[_0x39376c(0x27d)]));const _0x3aa672=[];_0x4008e6[_0x39376c(0x2b3)](_0x332017=>{const _0x1988ea=_0x39376c;let _0x50b5b9=![];for(let _0x48a27b=0x0;_0x48a27b<_0x3aa672[_0x1988ea(0x233)];_0x48a27b++){const _0x247657=_0x3aa672[_0x48a27b];if(_0x332017[_0x1988ea(0x27d)]>=_0x247657[_0x247657[_0x1988ea(0x233)]-0x1][_0x1988ea(0x283)]){_0x247657[_0x1988ea(0x217)](_0x332017),_0x332017[_0x1988ea(0x23f)]=_0x48a27b,_0x50b5b9=!![];break;}}!_0x50b5b9&&(_0x3aa672[_0x1988ea(0x217)]([_0x332017]),_0x332017['colIndex']=_0x3aa672[_0x1988ea(0x233)]-0x1);}),_0x4008e6[_0x39376c(0x2b3)](_0x55dd33=>{const _0x454e03=_0x39376c;let _0x4e32a2=0x0;_0x4008e6[_0x454e03(0x2b3)](_0x20b505=>{const _0x3db3d1=_0x454e03;if(Math[_0x3db3d1(0x2e2)](_0x55dd33[_0x3db3d1(0x27d)],_0x20b505[_0x3db3d1(0x27d)])<Math[_0x3db3d1(0x2d2)](_0x55dd33[_0x3db3d1(0x283)],_0x20b505[_0x3db3d1(0x283)])&&_0x20b505[_0x3db3d1(0x23f)]>_0x4e32a2)_0x4e32a2=_0x20b505[_0x3db3d1(0x23f)];});const _0xc83c0c=_0x4e32a2+0x1,_0x36c36c=0x64/_0xc83c0c,_0x548ee0=_0x55dd33[_0x454e03(0x23f)]*_0x36c36c,_0x34125d=document[_0x454e03(0x247)](_0x454e03(0x2b6)),_0x1e7771=_0x55dd33[_0x454e03(0x255)];let _0x1c5bed=_0x454e03(0x228);if(clients&&clients[_0x454e03(0x233)]>0x0){const _0x23e6a8=clients[_0x454e03(0x2e7)](_0x48263e=>String(_0x48263e['id'])===String(_0x1e7771[_0x454e03(0x2c6)]));if(_0x23e6a8&&_0x23e6a8[_0x454e03(0x2c3)])_0x1c5bed=_0x23e6a8[_0x454e03(0x2c3)];}const _0x1182c1=_0x1e7771['status']==='completed',_0x27112f=_0x1182c1?0x1:0.45;_0x34125d[_0x454e03(0x274)]=_0x454e03(0x22d)+(_0x1182c1?_0x454e03(0x231):''),_0x34125d[_0x454e03(0x215)]['backgroundColor']=hexToRgba(_0x1c5bed,_0x27112f),_0x34125d[_0x454e03(0x215)][_0x454e03(0x2ba)]=_0x1c5bed;const _0x56fafd=_0x55dd33[_0x454e03(0x27d)]/0x3c*GRID_H,_0x22be22=(_0x55dd33[_0x454e03(0x283)]-_0x55dd33[_0x454e03(0x27d)])/0x3c*GRID_H;_0x34125d[_0x454e03(0x215)][_0x454e03(0x221)]=_0x56fafd+'px',_0x34125d[_0x454e03(0x215)][_0x454e03(0x1ff)]=Math[_0x454e03(0x2e2)](_0x22be22,0x14)+'px',_0x34125d[_0x454e03(0x215)]['width']=_0x454e03(0x2dc)+_0x36c36c+_0x454e03(0x28e),_0x34125d['style'][_0x454e03(0x2d8)]=_0x454e03(0x2dc)+_0x548ee0+_0x454e03(0x290),_0x34125d[_0x454e03(0x215)][_0x454e03(0x2ee)]=0xa+_0x55dd33[_0x454e03(0x23f)];if(_0x36c36c<0x55)_0x34125d[_0x454e03(0x24d)]['add']('mini');let _0x23f4d1='';if(_0x1e7771[_0x454e03(0x287)])_0x23f4d1+=_0x454e03(0x2dd);if(_0x1182c1)_0x23f4d1+=_0x454e03(0x2a4);_0x34125d[_0x454e03(0x2cd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1e7771['start']+'\x20-\x20'+_0x1e7771[_0x454e03(0x283)]+_0x454e03(0x2c5)+_0x23f4d1+_0x454e03(0x23a),_0x34125d[_0x454e03(0x2e0)]=_0x5876a2=>{const _0x226252=_0x454e03;_0x5876a2[_0x226252(0x22e)](),openDetails(_0x1e7771);},_0x544069[_0x454e03(0x2c8)](_0x34125d);});}function openAnalytics(){const _0x4404f4=a3_0x42bac1,_0x118cbb=document['querySelector'](_0x4404f4(0x29e));setAnalyticsPeriod(_0x4404f4(0x23b),_0x118cbb),openSheet(_0x4404f4(0x297));}function setAnalyticsPeriod(_0x15aa29,_0x4305e8){const _0x2887f8=a3_0x42bac1;currentAnPeriod=_0x15aa29,document['querySelectorAll'](_0x2887f8(0x29e))[_0x2887f8(0x2b3)](_0x26cadb=>_0x26cadb[_0x2887f8(0x24d)][_0x2887f8(0x20b)](_0x2887f8(0x206)));if(_0x4305e8)_0x4305e8['classList']['add'](_0x2887f8(0x206));const _0x3c137e=document[_0x2887f8(0x234)](_0x2887f8(0x2b1));_0x3c137e[_0x2887f8(0x215)][_0x2887f8(0x262)]=_0x15aa29===_0x2887f8(0x2c4)?_0x2887f8(0x2a3):_0x2887f8(0x213);const _0x101889=new Date();let _0x22cf12=new Date(),_0x3e632c=new Date();if(_0x15aa29==='week')_0x22cf12=getStartOfWeek(_0x101889),_0x3e632c=new Date(_0x22cf12),_0x3e632c[_0x2887f8(0x1fe)](_0x3e632c['getDate']()+0x6);else{if(_0x15aa29===_0x2887f8(0x2a1))_0x22cf12=new Date(_0x101889['getFullYear'](),_0x101889[_0x2887f8(0x24c)](),0x1),_0x3e632c=new Date(_0x101889[_0x2887f8(0x2e9)](),_0x101889['getMonth']()+0x1,0x0);else{!document[_0x2887f8(0x234)]('anStart')[_0x2887f8(0x2cc)]&&(document[_0x2887f8(0x234)](_0x2887f8(0x268))[_0x2887f8(0x2cc)]=getLocalDateStr(_0x101889),document['getElementById']('anEnd')[_0x2887f8(0x2cc)]=getLocalDateStr(_0x101889));refreshAnalytics();return;}}document['getElementById'](_0x2887f8(0x268))[_0x2887f8(0x2cc)]=getLocalDateStr(_0x22cf12),document[_0x2887f8(0x234)](_0x2887f8(0x2c2))[_0x2887f8(0x2cc)]=getLocalDateStr(_0x3e632c),refreshAnalytics();}function refreshAnalytics(){const _0x7ea521=a3_0x42bac1,_0xa8f445=document[_0x7ea521(0x234)]('anStart')[_0x7ea521(0x2cc)],_0x278c59=document[_0x7ea521(0x234)]('anEnd')[_0x7ea521(0x2cc)];if(!_0xa8f445||!_0x278c59)return;const _0x23b214=sessions[_0x7ea521(0x273)](_0x2c38af=>_0x2c38af[_0x7ea521(0x205)]>=_0xa8f445&&_0x2c38af[_0x7ea521(0x205)]<=_0x278c59&&_0x2c38af['status']!==_0x7ea521(0x27c)),_0x329b79=_0x23b214[_0x7ea521(0x233)],_0x4cd554=_0x23b214[_0x7ea521(0x273)](_0x1134fd=>_0x1134fd[_0x7ea521(0x2cf)]===_0x7ea521(0x2ea))[_0x7ea521(0x233)],_0x18736e=_0x329b79>0x0?Math[_0x7ea521(0x2d6)](_0x4cd554/_0x329b79*0x64):0x0;document[_0x7ea521(0x234)](_0x7ea521(0x289))['textContent']=_0x18736e+'%',document[_0x7ea521(0x234)](_0x7ea521(0x25c))[_0x7ea521(0x2e3)]=_0x4cd554+_0x7ea521(0x21c)+_0x329b79+_0x7ea521(0x2a5);const _0x1dd083=document[_0x7ea521(0x234)](_0x7ea521(0x296)),_0x1c0759=0x2*Math['PI']*0x23,_0x54f196=_0x1c0759-_0x18736e/0x64*_0x1c0759;_0x1dd083['style'][_0x7ea521(0x26e)]=_0x54f196;const _0x2283ec={};_0x23b214[_0x7ea521(0x2b3)](_0x5c58b6=>{const _0x4d33bb=_0x7ea521,_0x1c7a77=_0x5c58b6[_0x4d33bb(0x28a)]||'Unknown';if(!_0x2283ec[_0x1c7a77]){const _0x554b30='#'+_0x1c7a77['toString']()[_0x4d33bb(0x237)](0x0,0x6);_0x2283ec[_0x1c7a77]={'total':0x0,'done':0x0,'color':_0x554b30};}_0x2283ec[_0x1c7a77][_0x4d33bb(0x257)]++;if(_0x5c58b6['status']===_0x4d33bb(0x2ea))_0x2283ec[_0x1c7a77]['done']++;});const _0x5d346c=document['getElementById'](_0x7ea521(0x1fd));_0x5d346c[_0x7ea521(0x2cd)]='';const _0x1948c9=Object[_0x7ea521(0x2d5)](_0x2283ec)[_0x7ea521(0x2b2)]((_0x3525cb,_0x533437)=>_0x533437[0x1][_0x7ea521(0x257)]-_0x3525cb[0x1][_0x7ea521(0x257)]);if(_0x1948c9[_0x7ea521(0x233)]===0x0){_0x5d346c[_0x7ea521(0x2cd)]=_0x7ea521(0x20e);return;}_0x1948c9[_0x7ea521(0x2b3)](([_0x57a2a6,_0x124d21])=>{const _0x1f8b1a=_0x7ea521,_0x5f4e8c=Math[_0x1f8b1a(0x2d6)](_0x124d21['done']/_0x124d21[_0x1f8b1a(0x257)]*0x64),_0x106a34=document[_0x1f8b1a(0x247)](_0x1f8b1a(0x2b6));_0x106a34['className']=_0x1f8b1a(0x284),_0x106a34[_0x1f8b1a(0x215)][_0x1f8b1a(0x2ba)]=_0x124d21[_0x1f8b1a(0x2c3)],_0x106a34[_0x1f8b1a(0x2cd)]=_0x1f8b1a(0x29b)+_0x57a2a6[_0x1f8b1a(0x237)](0x0,0x5)+_0x1f8b1a(0x25a)+_0x124d21['done']+_0x1f8b1a(0x27e)+_0x124d21['total']+_0x1f8b1a(0x23c)+_0x5f4e8c+_0x1f8b1a(0x2db),_0x5d346c[_0x1f8b1a(0x2c8)](_0x106a34);});}function openDetails(_0x21b402){const _0x24ddfd=a3_0x42bac1;currentSession=_0x21b402;const _0x2cde05=new Date(_0x21b402['dateStr']),_0x3223d9=_0x2cde05['toLocaleDateString']('ru-RU',{'weekday':'long','day':_0x24ddfd(0x278),'month':_0x24ddfd(0x223)});document['getElementById'](_0x24ddfd(0x280))[_0x24ddfd(0x2e3)]=_0x3223d9['charAt'](0x0)['toUpperCase']()+_0x3223d9[_0x24ddfd(0x279)](0x1),document[_0x24ddfd(0x234)]('detTime')[_0x24ddfd(0x2e3)]=_0x21b402[_0x24ddfd(0x27d)]+_0x24ddfd(0x2bb)+_0x21b402[_0x24ddfd(0x283)],document[_0x24ddfd(0x234)]('detNote')[_0x24ddfd(0x2e3)]=_0x21b402[_0x24ddfd(0x1f6)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3f02c0=document[_0x24ddfd(0x234)](_0x24ddfd(0x239)),_0x31fab3=document[_0x24ddfd(0x234)](_0x24ddfd(0x22b)),_0x4d7d75=_0x31fab3['querySelector'](_0x24ddfd(0x267)),_0xb6199a=_0x31fab3[_0x24ddfd(0x209)](_0x24ddfd(0x229)),_0x4dbe80=document[_0x24ddfd(0x234)](_0x24ddfd(0x252));if(_0x21b402['status']==='completed')_0x3f02c0['textContent']=_0x24ddfd(0x21b),_0x3f02c0['style'][_0x24ddfd(0x2c3)]=_0x24ddfd(0x2e4),_0x31fab3[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x213);else{_0x3f02c0['textContent']=_0x24ddfd(0x2a6),_0x3f02c0[_0x24ddfd(0x215)][_0x24ddfd(0x2c3)]='var(--acc-blue)',_0x31fab3[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x2d3);const _0x377d2b=new Date(_0x21b402[_0x24ddfd(0x205)]+'T'+_0x21b402['start']),_0x520274=new Date(),_0x4805cd=(_0x377d2b-_0x520274)/(0x3e8*0x3c*0x3c),_0x43f5d3=coachProfiles[_0x21b402[_0x24ddfd(0x28a)]]&&coachProfiles[_0x21b402[_0x24ddfd(0x28a)]][_0x24ddfd(0x2d1)]?parseInt(coachProfiles[_0x21b402[_0x24ddfd(0x28a)]][_0x24ddfd(0x2d1)]):0x18;if(_0x43f5d3===0x0||_0x4805cd>=_0x43f5d3)_0x4d7d75[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x2d3),_0xb6199a[_0x24ddfd(0x215)]['display']='block',_0x4dbe80[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x213);else{_0x4d7d75[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x213),_0xb6199a['style'][_0x24ddfd(0x262)]=_0x24ddfd(0x213),_0x4dbe80[_0x24ddfd(0x215)][_0x24ddfd(0x262)]=_0x24ddfd(0x2d3);let _0x2d50d0=_0x43f5d3===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x24ddfd(0x2e8)+_0x43f5d3+_0x24ddfd(0x299);_0x4dbe80[_0x24ddfd(0x2e3)]=_0x24ddfd(0x238)+_0x2d50d0+_0x24ddfd(0x1f4);}}document['getElementById']('overlay')[_0x24ddfd(0x24d)][_0x24ddfd(0x286)]('active'),document[_0x24ddfd(0x234)](_0x24ddfd(0x214))[_0x24ddfd(0x24d)][_0x24ddfd(0x286)](_0x24ddfd(0x27f));}function closeAllSheets(){const _0x2fd1cb=a3_0x42bac1;document[_0x2fd1cb(0x234)](_0x2fd1cb(0x2a7))[_0x2fd1cb(0x24d)][_0x2fd1cb(0x20b)](_0x2fd1cb(0x206)),document[_0x2fd1cb(0x2c0)](_0x2fd1cb(0x22c))[_0x2fd1cb(0x2b3)](_0x49c6a2=>_0x49c6a2[_0x2fd1cb(0x24d)][_0x2fd1cb(0x20b)]('open'));}function openSheet(_0x1f67e4){const _0xf27c20=a3_0x42bac1;document[_0xf27c20(0x234)](_0xf27c20(0x2a7))[_0xf27c20(0x24d)][_0xf27c20(0x286)](_0xf27c20(0x206)),document[_0xf27c20(0x234)](_0x1f67e4)['classList']['add'](_0xf27c20(0x27f));}function getLocalDateStr(_0x5213aa){const _0x4e065a=a3_0x42bac1,_0x371cdf=_0x5213aa[_0x4e065a(0x2e9)](),_0x5a1172=String(_0x5213aa[_0x4e065a(0x24c)]()+0x1)['padStart'](0x2,'0'),_0x52680b=String(_0x5213aa[_0x4e065a(0x272)]())['padStart'](0x2,'0');return _0x371cdf+'-'+_0x5a1172+'-'+_0x52680b;}function getStartOfWeek(_0x6fa909){const _0x1f2fd0=a3_0x42bac1,_0xea61ec=new Date(_0x6fa909),_0x316fe7=_0xea61ec[_0x1f2fd0(0x246)](),_0x4223e5=_0xea61ec[_0x1f2fd0(0x272)]()-_0x316fe7+(_0x316fe7===0x0?-0x6:0x1);return _0xea61ec[_0x1f2fd0(0x1fe)](_0x4223e5),_0xea61ec[_0x1f2fd0(0x25b)](0x0,0x0,0x0,0x0),_0xea61ec;}function scrollToToday(){const _0x4b241a=getLocalDateStr(new Date());setTimeout(()=>{const _0x8cb4bd=a3_0x89ed,_0x12558a=document[_0x8cb4bd(0x209)]('.day-col-header[data-date=\x22'+_0x4b241a+'\x22]');if(_0x12558a){const _0x9eb82a=document[_0x8cb4bd(0x234)](_0x8cb4bd(0x28b)),_0x174b67=_0x12558a[_0x8cb4bd(0x232)]-_0x9eb82a['clientWidth']/0x2+_0x12558a[_0x8cb4bd(0x2d7)]/0x2;_0x9eb82a['scrollTo']({'left':_0x174b67,'behavior':_0x8cb4bd(0x2e1)}),_0x9eb82a[_0x8cb4bd(0x2e5)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x19a1d9=a3_0x42bac1,_0x485c40=new Date(),_0x56b396=document['getElementById']('globalTimeLine'),_0x1f33e4=document[_0x19a1d9(0x234)](_0x19a1d9(0x2bd)),_0x43db8a=(_0x485c40[_0x19a1d9(0x200)]()*0x3c+_0x485c40[_0x19a1d9(0x2e6)]())/0x3c*GRID_H;_0x56b396[_0x19a1d9(0x215)][_0x19a1d9(0x221)]=_0x43db8a+'px',_0x56b396['style'][_0x19a1d9(0x262)]=_0x19a1d9(0x2d3),_0x1f33e4[_0x19a1d9(0x215)][_0x19a1d9(0x221)]=_0x43db8a+'px',_0x1f33e4['style'][_0x19a1d9(0x262)]=_0x19a1d9(0x2d3),_0x1f33e4['textContent']=String(_0x485c40[_0x19a1d9(0x200)]())[_0x19a1d9(0x235)](0x2,'0')+':'+String(_0x485c40[_0x19a1d9(0x2e6)]())[_0x19a1d9(0x235)](0x2,'0');}function onScroll(){const _0x1715d3=a3_0x42bac1,_0x58120b=document[_0x1715d3(0x234)]('matrixViewport'),_0xf37c21=document['querySelectorAll'](_0x1715d3(0x258));for(let _0x587c23 of _0xf37c21)if(_0x587c23[_0x1715d3(0x232)]>=_0x58120b['scrollLeft']){const _0x9cf7c2=new Date(_0x587c23['getAttribute'](_0x1715d3(0x2a2)));document[_0x1715d3(0x234)](_0x1715d3(0x22a))['textContent']=_0x9cf7c2[_0x1715d3(0x26f)]('ru',{'month':_0x1715d3(0x223)})['toUpperCase']()+'\x20'+_0x9cf7c2[_0x1715d3(0x2e9)]();break;}}function showToast(_0x535b8e){const _0x146a67=a3_0x42bac1,_0x566ceb=document['getElementById']('toast');_0x566ceb['textContent']=_0x535b8e,_0x566ceb[_0x146a67(0x24d)][_0x146a67(0x286)](_0x146a67(0x29f)),setTimeout(()=>_0x566ceb[_0x146a67(0x24d)][_0x146a67(0x20b)](_0x146a67(0x29f)),0x7d0);}function handleInfiniteScroll(){const _0x40477e=a3_0x42bac1,_0x454b9f=document['getElementById'](_0x40477e(0x28b)),_0x3c35bb=_0x454b9f['scrollLeft'],_0x3b7132=_0x454b9f[_0x40477e(0x293)],_0x1286b9=_0x454b9f['clientWidth'];if(_0x3b7132-(_0x3c35bb+_0x1286b9)<0x12c){const _0x2873eb=endOffset;endOffset+=0xe,renderDayRange(_0x2873eb+0x1,endOffset),reRenderBlocks();}if(_0x3c35bb<0x12c){const _0x404dfc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x404dfc-0x1),_0x454b9f[_0x40477e(0x25f)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1f4c4b,_0x1d3cde){const _0x1b5c76=a3_0x42bac1,_0x1333d6=document['getElementById'](_0x1b5c76(0x2be)),_0x3a1a98=document[_0x1b5c76(0x234)]('gridColumns'),_0x56e0c9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x330b81=new Date();_0x330b81[_0x1b5c76(0x25b)](0x0,0x0,0x0,0x0);const _0x3bdfc8=getLocalDateStr(new Date()),_0x2d7316=document[_0x1b5c76(0x1fb)](),_0x53b379=document[_0x1b5c76(0x1fb)]();for(let _0x54c8d2=_0x1f4c4b;_0x54c8d2<=_0x1d3cde;_0x54c8d2++){const _0x3ddab8=new Date(_0x330b81);_0x3ddab8['setDate'](_0x3ddab8['getDate']()+_0x54c8d2);const _0x129627=getLocalDateStr(_0x3ddab8);let _0x529fc7=_0x3ddab8[_0x1b5c76(0x246)]()-0x1;if(_0x529fc7===-0x1)_0x529fc7=0x6;const _0x15b497=_0x129627===_0x3bdfc8,_0x58d140=document[_0x1b5c76(0x247)](_0x1b5c76(0x2b6));_0x58d140[_0x1b5c76(0x274)]=_0x1b5c76(0x22f)+(_0x15b497?_0x1b5c76(0x2a9):''),_0x58d140['setAttribute'](_0x1b5c76(0x2a2),_0x129627),_0x58d140['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x56e0c9[_0x529fc7]+_0x1b5c76(0x225)+_0x3ddab8[_0x1b5c76(0x272)]()+_0x1b5c76(0x281),_0x2d7316[_0x1b5c76(0x2c8)](_0x58d140);const _0x1d5a0e=document['createElement']('div');_0x1d5a0e[_0x1b5c76(0x274)]='day-column\x20'+(_0x15b497?_0x1b5c76(0x2a9):''),_0x1d5a0e[_0x1b5c76(0x2da)](_0x1b5c76(0x2a2),_0x129627),_0x1d5a0e[_0x1b5c76(0x2da)](_0x1b5c76(0x295),_0x529fc7),_0x53b379[_0x1b5c76(0x2c8)](_0x1d5a0e);}_0x1333d6[_0x1b5c76(0x226)](_0x2d7316,_0x1333d6[_0x1b5c76(0x21d)]),_0x3a1a98[_0x1b5c76(0x226)](_0x53b379,_0x3a1a98[_0x1b5c76(0x209)]('.day-column'));}function hexToRgba(_0x54f51a,_0x456e9b){const _0x622b62=a3_0x42bac1;let _0x271f40;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x622b62(0x288)](_0x54f51a))return _0x271f40=_0x54f51a[_0x622b62(0x211)](0x1)[_0x622b62(0x241)](''),_0x271f40[_0x622b62(0x233)]==0x3&&(_0x271f40=[_0x271f40[0x0],_0x271f40[0x0],_0x271f40[0x1],_0x271f40[0x1],_0x271f40[0x2],_0x271f40[0x2]]),_0x271f40='0x'+_0x271f40['join'](''),_0x622b62(0x220)+[_0x271f40>>0x10&0xff,_0x271f40>>0x8&0xff,_0x271f40&0xff][_0x622b62(0x222)](',')+','+_0x456e9b+')';return _0x622b62(0x2de)+_0x456e9b+')';}let confirmResolver=null;function showCustomConfirm(_0x22d968,_0x42639a,_0x343ed8=!![]){const _0x104122=a3_0x42bac1;document[_0x104122(0x234)](_0x104122(0x2bc))['textContent']=_0x22d968,document[_0x104122(0x234)](_0x104122(0x1f5))['textContent']=_0x42639a;const _0x30c288=document[_0x104122(0x234)](_0x104122(0x251));return _0x343ed8?(_0x30c288['style']['color']=_0x104122(0x271),_0x30c288[_0x104122(0x215)][_0x104122(0x254)]=_0x104122(0x256)):(_0x30c288[_0x104122(0x215)][_0x104122(0x2c3)]=_0x104122(0x228),_0x30c288['style'][_0x104122(0x254)]='600'),new Promise(_0xbbfcc6=>{const _0x17a3b4=_0x104122;confirmResolver=_0xbbfcc6,document[_0x17a3b4(0x234)](_0x17a3b4(0x270))['classList'][_0x17a3b4(0x286)]('visible');});}function resolveCustomConfirm(_0x2f3f17){const _0x2b0d6e=a3_0x42bac1;document[_0x2b0d6e(0x234)](_0x2b0d6e(0x270))['classList'][_0x2b0d6e(0x20b)](_0x2b0d6e(0x2ec));if(confirmResolver)confirmResolver(_0x2f3f17);}async function tryCancelCurrentSession(){const _0x2c973e=a3_0x42bac1;if(!currentSession)return;const _0x4417b0=await showCustomConfirm(_0x2c973e(0x2d0),_0x2c973e(0x292),!![]);if(!_0x4417b0)return;const _0x3c87ea=currentSession;closeAllSheets(),sessions=sessions[_0x2c973e(0x273)](_0x175818=>_0x175818['id']!==_0x3c87ea['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x448d15=window['Telegram']?.[_0x2c973e(0x2c9)],_0x4c1a13=await fetch(API_URL,{'method':_0x2c973e(0x2b8),'body':JSON[_0x2c973e(0x28d)]({'action':'client_cancel','init_data':_0x448d15?.[_0x2c973e(0x21e)]||'','coachId':_0x3c87ea['coachId'],'dateStr':_0x3c87ea['dateStr'],'sessionId':_0x3c87ea['id']})});if(_0x4c1a13['ok'])DataManager[_0x2c973e(0x298)]();}catch(_0x4afbf3){showToast(_0x2c973e(0x218));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x89ed(_0x31d86,_0x1c8de7){_0x31d86=_0x31d86-0x1f4;const _0x5c0103=a3_0x4b35();let _0x1cd9cb=_0x5c0103[_0x31d86];return _0x1cd9cb;}async function startRescheduleFlow(){const _0x1ff897=a3_0x42bac1;if(!currentSession)return;document[_0x1ff897(0x234)](_0x1ff897(0x214))[_0x1ff897(0x24d)][_0x1ff897(0x20b)](_0x1ff897(0x27f)),document[_0x1ff897(0x234)](_0x1ff897(0x275))[_0x1ff897(0x24d)][_0x1ff897(0x286)](_0x1ff897(0x27f));const _0x570a0b=document[_0x1ff897(0x234)]('rsDatesTrack'),_0x2068a2=document[_0x1ff897(0x234)](_0x1ff897(0x2bf));_0x570a0b[_0x1ff897(0x2cd)]='',_0x2068a2['innerHTML']=_0x1ff897(0x264);const [_0x3085b7,_0x63a7f1]=currentSession[_0x1ff897(0x27d)][_0x1ff897(0x241)](':')['map'](Number),[_0x59511f,_0xe2bf6b]=currentSession[_0x1ff897(0x283)][_0x1ff897(0x241)](':')[_0x1ff897(0x25e)](Number),_0x12f246=_0x59511f*0x3c+_0xe2bf6b-(_0x3085b7*0x3c+_0x63a7f1);try{const _0x27e80a=window[_0x1ff897(0x2ed)]?.[_0x1ff897(0x2c9)],_0x5d8ad2=await fetch(API_URL,{'method':_0x1ff897(0x2b8),'body':JSON[_0x1ff897(0x28d)]({'action':_0x1ff897(0x26d),'coachId':currentSession[_0x1ff897(0x28a)],'duration':_0x12f246,'init_data':_0x27e80a?.[_0x1ff897(0x21e)]||'','excludeSessionId':currentSession['id']})}),_0x30227a=await _0x5d8ad2[_0x1ff897(0x28f)]();_0x30227a['ok']&&_0x30227a[_0x1ff897(0x255)]?(availableSlotsCache=_0x30227a[_0x1ff897(0x255)],renderRescheduleDates()):_0x2068a2[_0x1ff897(0x2cd)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x5cbc9e){_0x2068a2[_0x1ff897(0x2cd)]=_0x1ff897(0x249);}}function renderRescheduleDates(){const _0x3621b2=a3_0x42bac1,_0x2a185e=document['getElementById'](_0x3621b2(0x24a));_0x2a185e[_0x3621b2(0x2cd)]='';const _0x53d106=Object['keys'](availableSlotsCache)[_0x3621b2(0x2b2)](),_0x2d238a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x53d106[_0x3621b2(0x233)]===0x0){document[_0x3621b2(0x234)](_0x3621b2(0x2bf))[_0x3621b2(0x2cd)]=_0x3621b2(0x25d);return;}_0x53d106[_0x3621b2(0x2b3)]((_0x1bd189,_0x4bf82f)=>{const _0x47932a=_0x3621b2,_0x48e15c=new Date(_0x1bd189),_0x56cf09=_0x2d238a[_0x48e15c[_0x47932a(0x246)]()],_0x1f6ff2=_0x48e15c[_0x47932a(0x272)](),_0x199988=document[_0x47932a(0x247)](_0x47932a(0x2b6));_0x199988[_0x47932a(0x274)]='rs-date-chip';if(_0x4bf82f===0x0)_0x199988[_0x47932a(0x24d)][_0x47932a(0x286)](_0x47932a(0x206));_0x199988[_0x47932a(0x2cd)]=_0x47932a(0x230)+_0x56cf09+_0x47932a(0x263)+_0x1f6ff2+_0x47932a(0x281),_0x199988['onclick']=()=>selectRsDate(_0x1bd189,_0x199988),_0x2a185e[_0x47932a(0x2c8)](_0x199988);}),selectRsDate(_0x53d106[0x0],_0x2a185e[_0x3621b2(0x21d)]);}function selectRsDate(_0x524330,_0x285d70){const _0xc3d8a2=a3_0x42bac1;selectedRsDate=_0x524330,document[_0xc3d8a2(0x2c0)](_0xc3d8a2(0x2b5))[_0xc3d8a2(0x2b3)](_0xd05dc2=>_0xd05dc2[_0xc3d8a2(0x24d)][_0xc3d8a2(0x20b)](_0xc3d8a2(0x206)));if(_0x285d70)_0x285d70['classList'][_0xc3d8a2(0x286)]('active');const _0x19af79=document[_0xc3d8a2(0x234)](_0xc3d8a2(0x2bf));_0x19af79[_0xc3d8a2(0x2cd)]='';const _0x36e02b=availableSlotsCache[_0x524330]||[];if(_0x36e02b[_0xc3d8a2(0x233)]===0x0){_0x19af79[_0xc3d8a2(0x2cd)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x36e02b['forEach'](_0x4b9a70=>{const _0x232882=_0xc3d8a2,_0x6c7ac7=document[_0x232882(0x247)](_0x232882(0x2c7));_0x6c7ac7[_0x232882(0x274)]=_0x232882(0x277),_0x6c7ac7[_0x232882(0x2e3)]=_0x4b9a70,_0x6c7ac7[_0x232882(0x2e0)]=()=>confirmReschedule(_0x4b9a70),_0x19af79[_0x232882(0x2c8)](_0x6c7ac7);});}async function confirmReschedule(_0x10b30c){const _0x3fad02=a3_0x42bac1,_0x4bebc2=new Date(selectedRsDate),_0x119992=_0x4bebc2[_0x3fad02(0x21f)](_0x3fad02(0x219),{'day':_0x3fad02(0x278),'month':'long'}),_0x5a5011=await showCustomConfirm(_0x3fad02(0x259),_0x3fad02(0x245)+_0x119992+_0x3fad02(0x2b0)+_0x10b30c+'?',![]);if(!_0x5a5011)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x3fad02(0x23d)]();const _0x2e54=currentSession[_0x3fad02(0x205)],_0x4397dc=currentSession['id'],[_0x53f80f,_0x578cc3]=currentSession[_0x3fad02(0x27d)][_0x3fad02(0x241)](':')[_0x3fad02(0x25e)](Number),[_0x4078b2,_0x530b5d]=currentSession[_0x3fad02(0x283)][_0x3fad02(0x241)](':')[_0x3fad02(0x25e)](Number),_0x9ed7b5=_0x4078b2*0x3c+_0x530b5d-(_0x53f80f*0x3c+_0x578cc3),[_0x16f590,_0x215c1b]=_0x10b30c[_0x3fad02(0x241)](':')['map'](Number),_0x31caa7=_0x16f590*0x3c+_0x215c1b+_0x9ed7b5,_0x23301a=Math[_0x3fad02(0x2ac)](_0x31caa7/0x3c),_0x5c2162=_0x31caa7%0x3c,_0x2bdcd2=String(_0x23301a)[_0x3fad02(0x235)](0x2,'0')+':'+String(_0x5c2162)[_0x3fad02(0x235)](0x2,'0'),_0x26c4a9=sessions[_0x3fad02(0x216)](_0x59018a=>_0x59018a['id']===_0x4397dc);_0x26c4a9!==-0x1&&(sessions[_0x26c4a9][_0x3fad02(0x205)]=selectedRsDate,sessions[_0x26c4a9][_0x3fad02(0x27d)]=_0x10b30c,sessions[_0x26c4a9][_0x3fad02(0x283)]=_0x2bdcd2,reRenderBlocks());try{const _0xb3451=window[_0x3fad02(0x2ed)]?.[_0x3fad02(0x2c9)],_0x2ff2f4=await fetch(API_URL,{'method':'POST','body':JSON[_0x3fad02(0x28d)]({'action':_0x3fad02(0x294),'init_data':_0xb3451?.[_0x3fad02(0x21e)]||'','oldSessionId':_0x4397dc,'oldDate':_0x2e54,'newDate':selectedRsDate,'newTime':_0x10b30c,'coachId':currentSession['coachId']})}),_0x16d1db=await _0x2ff2f4['json']();!_0x16d1db['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x3fad02(0x2d9)]()):(showToast(_0x3fad02(0x2af)),DataManager[_0x3fad02(0x298)]());}catch(_0x5f3881){showToast(_0x3fad02(0x218));}}document[a3_0x42bac1(0x29c)](a3_0x42bac1(0x285),init);