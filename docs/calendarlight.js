const a3_0x5cd80e=a3_0x310d;(function(_0x121f1a,_0x3468af){const _0x12fcf6=a3_0x310d,_0x3be2ae=_0x121f1a();while(!![]){try{const _0x1303cd=-parseInt(_0x12fcf6(0x230))/0x1+parseInt(_0x12fcf6(0x24b))/0x2*(parseInt(_0x12fcf6(0x275))/0x3)+parseInt(_0x12fcf6(0x279))/0x4+-parseInt(_0x12fcf6(0x1d6))/0x5*(-parseInt(_0x12fcf6(0x273))/0x6)+parseInt(_0x12fcf6(0x22f))/0x7*(parseInt(_0x12fcf6(0x1af))/0x8)+-parseInt(_0x12fcf6(0x278))/0x9*(parseInt(_0x12fcf6(0x274))/0xa)+parseInt(_0x12fcf6(0x19d))/0xb;if(_0x1303cd===_0x3468af)break;else _0x3be2ae['push'](_0x3be2ae['shift']());}catch(_0x60ad7d){_0x3be2ae['push'](_0x3be2ae['shift']());}}}(a3_0x2711,0x69676));const APP_VERSION=a3_0x5cd80e(0x1f7),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x5cd80e(0x241),KEY_SETTINGS=a3_0x5cd80e(0x225),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5cd80e(0x1eb),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x122dc3=a3_0x5cd80e,_0x3eb072=(function(){let _0x41cc91=!![];return function(_0x3f71dd,_0x39508c){const _0x4a36e3=_0x41cc91?function(){const _0x57e6a5=a3_0x310d;if(_0x39508c){const _0x2528be=_0x39508c[_0x57e6a5(0x23c)](_0x3f71dd,arguments);return _0x39508c=null,_0x2528be;}}:function(){};return _0x41cc91=![],_0x4a36e3;};}()),_0x1be586=_0x3eb072(this,function(){const _0x168650=a3_0x310d;return _0x1be586[_0x168650(0x21e)]()[_0x168650(0x1d9)]('(((.+)+)+)+$')[_0x168650(0x21e)]()[_0x168650(0x1e6)](_0x1be586)[_0x168650(0x1d9)](_0x168650(0x1b8));});_0x1be586();try{const _0x15a457=window[_0x122dc3(0x1d3)]?.[_0x122dc3(0x19a)];if(!_0x15a457)return;_0x15a457[_0x122dc3(0x26c)](),_0x15a457['expand']();try{_0x15a457[_0x122dc3(0x21d)](_0x122dc3(0x221)),_0x15a457[_0x122dc3(0x1a4)]&&_0x15a457[_0x122dc3(0x1a4)](_0x122dc3(0x221));}catch(_0x362455){console[_0x122dc3(0x240)](_0x122dc3(0x249),_0x362455);}try{_0x15a457['BackButton']&&(_0x15a457[_0x122dc3(0x285)][_0x122dc3(0x283)](),_0x15a457[_0x122dc3(0x285)][_0x122dc3(0x231)](),_0x15a457[_0x122dc3(0x285)][_0x122dc3(0x276)](function(){const _0x47b851=_0x122dc3;window['location'][_0x47b851(0x232)]='router.html';}));}catch(_0x41a06c){console[_0x122dc3(0x240)]('Error\x20setting\x20back\x20button:',_0x41a06c);}try{if(_0x15a457[_0x122dc3(0x250)])_0x15a457[_0x122dc3(0x250)]();}catch(_0x114c98){}}catch(_0x23690a){console['error'](_0x122dc3(0x1b6),_0x23690a);}}());function isAdmin(){const _0x5ee725=a3_0x5cd80e;try{const _0x434bc3=Number(window[_0x5ee725(0x1d3)]?.[_0x5ee725(0x19a)]?.['initDataUnsafe']?.[_0x5ee725(0x1c0)]?.['id']);return _0x434bc3===0xbaf7174;}catch(_0xf50b4){return![];}}const DataManager={'saveLocally'(){const _0x1a5359=a3_0x5cd80e;try{localStorage[_0x1a5359(0x1a3)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x1a5359(0x23d)](clients)),localStorage[_0x1a5359(0x1a3)](KEY_SETTINGS,JSON[_0x1a5359(0x23d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1e23b2){}},'loadLocal'(){const _0x5f2985=a3_0x5cd80e;try{const _0x56b780=localStorage[_0x5f2985(0x1c9)](KEY_SESSIONS);if(_0x56b780)sessions=JSON[_0x5f2985(0x1d4)](_0x56b780);const _0x1fed7a=localStorage[_0x5f2985(0x1c9)](KEY_CLIENTS);if(_0x1fed7a)clients=JSON[_0x5f2985(0x1d4)](_0x1fed7a);const _0x32aeb5=localStorage['getItem'](KEY_SETTINGS);if(_0x32aeb5){const _0x1d4bb5=JSON[_0x5f2985(0x1d4)](_0x32aeb5);if(_0x1d4bb5['pattern'])availabilityPattern=_0x1d4bb5['pattern'];if(_0x1d4bb5[_0x5f2985(0x1ba)])specialRanges=_0x1d4bb5['ranges'];if(_0x1d4bb5['exceptions'])dateExceptions=_0x1d4bb5['exceptions'];}}catch(_0x30e5e0){}},async 'syncLoad'(){const _0x51deda=a3_0x5cd80e,_0x36961c=new Date(),_0x3213f2=_0x36961c['getFullYear']()+'-'+String(_0x36961c[_0x51deda(0x1f8)]()+0x1)[_0x51deda(0x244)](0x2,'0'),_0x289b1=new Date(_0x36961c);_0x289b1[_0x51deda(0x267)](_0x36961c['getMonth']()+0x1);const _0x196970=_0x289b1[_0x51deda(0x266)]()+'-'+String(_0x289b1['getMonth']()+0x1)[_0x51deda(0x244)](0x2,'0'),_0x507c30=Date[_0x51deda(0x222)]();try{const _0x1b79e5=window[_0x51deda(0x1d3)]?.[_0x51deda(0x19a)],_0x48ac70=_0x1b79e5?.['initData']||'',[_0x5c2abb,_0x3964d8]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x51deda(0x23d)]({'action':_0x51deda(0x1da),'init_data':_0x48ac70,'month_str':_0x3213f2})})[_0x51deda(0x217)](_0x5d1284=>_0x5d1284[_0x51deda(0x228)]()),fetch(API_URL,{'method':_0x51deda(0x27a),'body':JSON[_0x51deda(0x23d)]({'action':_0x51deda(0x1da),'init_data':_0x48ac70,'month_str':_0x196970})})['then'](_0x8c28bf=>_0x8c28bf[_0x51deda(0x228)]())]);if(lastUserActionTime>_0x507c30){console[_0x51deda(0x240)](_0x51deda(0x258));return;}if(_0x5c2abb['ok'])this[_0x51deda(0x25b)](_0x5c2abb[_0x51deda(0x265)],_0x3213f2);if(_0x3964d8['ok'])this['applyData'](_0x3964d8[_0x51deda(0x265)],_0x196970);this[_0x51deda(0x216)]();}catch(_0x2af5c4){}},'applyData'(_0x1cfbaa,_0x4d8827){const _0x25f15f=a3_0x5cd80e;if(!_0x1cfbaa)return;if(_0x1cfbaa[_0x25f15f(0x1ec)]){if(_0x1cfbaa['settings'][_0x25f15f(0x248)])availabilityPattern=_0x1cfbaa[_0x25f15f(0x1ec)]['pattern'];if(_0x1cfbaa[_0x25f15f(0x1ec)]['ranges'])specialRanges=_0x1cfbaa[_0x25f15f(0x1ec)][_0x25f15f(0x1ba)];if(_0x1cfbaa[_0x25f15f(0x1ec)]['exceptions'])dateExceptions=_0x1cfbaa[_0x25f15f(0x1ec)][_0x25f15f(0x261)];}if(_0x1cfbaa[_0x25f15f(0x1f3)]&&Array[_0x25f15f(0x252)](_0x1cfbaa[_0x25f15f(0x1f3)]))clients=_0x1cfbaa[_0x25f15f(0x1f3)];_0x1cfbaa[_0x25f15f(0x20f)]&&(coachProfiles={...coachProfiles,..._0x1cfbaa['coach_profiles']}),_0x1cfbaa[_0x25f15f(0x26e)]&&(sessions=sessions[_0x25f15f(0x1c6)](_0x9823eb=>!_0x9823eb['dateStr'][_0x25f15f(0x21b)](_0x4d8827)),Object[_0x25f15f(0x21a)](_0x1cfbaa['calendar'])[_0x25f15f(0x1e3)](_0x4c357d=>{const _0x18a139=_0x25f15f,_0x54dd6d=_0x1cfbaa[_0x18a139(0x26e)][_0x4c357d];_0x54dd6d[_0x18a139(0x1e3)](_0x156fd9=>{const _0x11e3c8=_0x18a139;sessions['push']({'id':_0x156fd9['i'],'clientId':_0x156fd9['c'],'coachId':_0x156fd9[_0x11e3c8(0x1a2)],'dateStr':_0x4d8827+'-'+_0x4c357d[_0x11e3c8(0x244)](0x2,'0'),'start':_0x156fd9['s'],'end':_0x156fd9['e'],'note':_0x156fd9['n']||'','status':_0x156fd9['st']||_0x11e3c8(0x205),'seriesId':_0x156fd9[_0x11e3c8(0x22d)]});});})),reRenderBlocks();}};function init(){const _0x10e117=a3_0x5cd80e;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x10e117(0x24a)](_0x10e117(0x206))[_0x10e117(0x25d)](_0x10e117(0x20d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x10e117(0x1be)]();}function renderTimeColumn(){const _0x44620b=a3_0x5cd80e,_0x51c4fb=document[_0x44620b(0x24a)](_0x44620b(0x25f)),_0x6171b7=document['getElementById'](_0x44620b(0x223));_0x51c4fb[_0x44620b(0x1f5)]='',_0x51c4fb['appendChild'](_0x6171b7);for(let _0x106058=0x0;_0x106058<0x18;_0x106058++){const _0x134b52=document['createElement']('div');_0x134b52[_0x44620b(0x1b7)]=_0x44620b(0x1de);if(_0x106058>0x0)_0x134b52[_0x44620b(0x1f5)]=_0x44620b(0x23b)+String(_0x106058)[_0x44620b(0x244)](0x2,'0')+_0x44620b(0x207);_0x51c4fb[_0x44620b(0x1cb)](_0x134b52);}}function renderDayRange(_0x52afde,_0x4685d5){const _0x31f12b=a3_0x5cd80e,_0x10ca0e=document['getElementById']('daysHeaderTrack'),_0x5acab8=document[_0x31f12b(0x24a)](_0x31f12b(0x226)),_0x2c0404=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3107c5=new Date();_0x3107c5['setHours'](0x0,0x0,0x0,0x0);const _0x32e349=getLocalDateStr(new Date());for(let _0x1a7d7e=_0x52afde;_0x1a7d7e<=_0x4685d5;_0x1a7d7e++){const _0x2a6162=new Date(_0x3107c5);_0x2a6162[_0x31f12b(0x284)](_0x2a6162[_0x31f12b(0x20b)]()+_0x1a7d7e);const _0x1cff91=getLocalDateStr(_0x2a6162);let _0x37a3a0=_0x2a6162[_0x31f12b(0x19c)]()-0x1;if(_0x37a3a0===-0x1)_0x37a3a0=0x6;const _0x11eb05=_0x1cff91===_0x32e349,_0x109689=document[_0x31f12b(0x1ff)](_0x31f12b(0x24e));_0x109689[_0x31f12b(0x1b7)]=_0x31f12b(0x215)+(_0x11eb05?_0x31f12b(0x1dd):''),_0x109689['setAttribute'](_0x31f12b(0x200),_0x1cff91),_0x109689[_0x31f12b(0x1f5)]=_0x31f12b(0x204)+_0x2c0404[_0x37a3a0]+_0x31f12b(0x1f2)+_0x2a6162['getDate']()+_0x31f12b(0x22a),_0x10ca0e[_0x31f12b(0x1cb)](_0x109689);const _0x40f409=document[_0x31f12b(0x1ff)](_0x31f12b(0x24e));_0x40f409[_0x31f12b(0x1b7)]=_0x31f12b(0x1e2)+(_0x11eb05?_0x31f12b(0x1dd):''),_0x40f409[_0x31f12b(0x227)](_0x31f12b(0x200),_0x1cff91),_0x40f409[_0x31f12b(0x227)](_0x31f12b(0x1ee),_0x37a3a0),_0x5acab8[_0x31f12b(0x1cb)](_0x40f409);}}function reRenderBlocks(){const _0x43c7e0=a3_0x5cd80e;document[_0x43c7e0(0x214)](_0x43c7e0(0x19f))[_0x43c7e0(0x1e3)](_0x2d507d=>{const _0x32f249=_0x43c7e0;_0x2d507d[_0x32f249(0x214)](_0x32f249(0x24d))[_0x32f249(0x1e3)](_0x1d705e=>_0x1d705e[_0x32f249(0x1fb)]());const _0x12367c=_0x2d507d[_0x32f249(0x1d2)](_0x32f249(0x200)),_0x22035b=parseInt(_0x2d507d[_0x32f249(0x1d2)](_0x32f249(0x1ee))),_0x579e3d=Math[_0x32f249(0x1d5)](_0x2d507d[_0x32f249(0x262)]);(availabilityPattern[_0x22035b]||[])['forEach'](_0x4ad3ce=>{const _0x28e006=_0x32f249,_0x4c7c6e=document[_0x28e006(0x1ff)](_0x28e006(0x24e));_0x4c7c6e[_0x28e006(0x1b7)]=_0x28e006(0x1f0),_0x4c7c6e['style'][_0x28e006(0x28c)]=_0x4ad3ce*GRID_H+'px',_0x4c7c6e[_0x28e006(0x1a7)][_0x28e006(0x28a)]='-'+_0x579e3d+'px\x20-'+_0x4ad3ce*GRID_H+'px',_0x2d507d[_0x28e006(0x1cb)](_0x4c7c6e);});if(specialRanges['length']>0x0){const _0x15c984=new Date(_0x12367c+_0x32f249(0x202))['getTime'](),_0x24356b=new Date(_0x12367c+_0x32f249(0x198))[_0x32f249(0x23f)]();specialRanges[_0x32f249(0x1e3)](_0x4f4cff=>{const _0x324e4c=_0x32f249,_0x32dba2=new Date(_0x4f4cff[_0x324e4c(0x1a5)])[_0x324e4c(0x23f)](),_0x136d9f=new Date(_0x4f4cff['end'])[_0x324e4c(0x23f)](),_0x19045a=Math['max'](_0x15c984,_0x32dba2),_0x1c9908=Math[_0x324e4c(0x1ac)](_0x24356b,_0x136d9f);if(_0x19045a<_0x1c9908){const _0x3d97ab=(_0x19045a-_0x15c984)/0x36ee80*GRID_H,_0x2ce2d5=(_0x1c9908-_0x19045a)/0x36ee80*GRID_H,_0x5cdade=document['createElement'](_0x324e4c(0x24e));_0x2ce2d5>=23.5*GRID_H?(_0x5cdade[_0x324e4c(0x1b7)]=_0x324e4c(0x1a6),_0x5cdade[_0x324e4c(0x1a7)]['backgroundPosition']='-'+_0x579e3d+_0x324e4c(0x24c)):(_0x5cdade['className']=_0x324e4c(0x269),_0x5cdade[_0x324e4c(0x1a7)][_0x324e4c(0x28c)]=_0x3d97ab+'px',_0x5cdade[_0x324e4c(0x1a7)][_0x324e4c(0x1bc)]=_0x2ce2d5+'px',_0x5cdade[_0x324e4c(0x1a7)]['backgroundPosition']='-'+_0x579e3d+_0x324e4c(0x1aa)+_0x3d97ab+'px'),_0x2d507d['appendChild'](_0x5cdade);}});}renderEventsForColumn(_0x2d507d,_0x12367c);});}function renderEventsForColumn(_0x41a67b,_0x880841){const _0x318414=a3_0x5cd80e,_0x1e12b6=sessions[_0x318414(0x1c6)](_0x30f175=>_0x30f175[_0x318414(0x22b)]===_0x880841),_0x12c6da=_0x1e12b6[_0x318414(0x1e0)](_0x4b0113=>{const _0xd40e71=_0x318414,[_0x40a211,_0x4f53e5]=_0x4b0113[_0xd40e71(0x1a5)][_0xd40e71(0x1db)](':')['map'](Number),[_0x35f890,_0x20388f]=_0x4b0113[_0xd40e71(0x1a8)]['split'](':')[_0xd40e71(0x1e0)](Number);return{'data':_0x4b0113,'start':_0x40a211*0x3c+_0x4f53e5,'end':_0x35f890*0x3c+_0x20388f,'colIndex':0x0};});_0x12c6da[_0x318414(0x263)]((_0x5d634e,_0x279b08)=>_0x5d634e[_0x318414(0x1a5)]-_0x279b08['start']||_0x279b08[_0x318414(0x1a8)]-_0x279b08[_0x318414(0x1a5)]-(_0x5d634e[_0x318414(0x1a8)]-_0x5d634e[_0x318414(0x1a5)]));const _0x94771b=[];_0x12c6da[_0x318414(0x1e3)](_0x360d63=>{const _0x22aede=_0x318414;let _0x14f504=![];for(let _0x2d4f0a=0x0;_0x2d4f0a<_0x94771b[_0x22aede(0x280)];_0x2d4f0a++){const _0x5815e0=_0x94771b[_0x2d4f0a];if(_0x360d63[_0x22aede(0x1a5)]>=_0x5815e0[_0x5815e0[_0x22aede(0x280)]-0x1]['end']){_0x5815e0[_0x22aede(0x213)](_0x360d63),_0x360d63[_0x22aede(0x289)]=_0x2d4f0a,_0x14f504=!![];break;}}!_0x14f504&&(_0x94771b[_0x22aede(0x213)]([_0x360d63]),_0x360d63[_0x22aede(0x289)]=_0x94771b[_0x22aede(0x280)]-0x1);}),_0x12c6da['forEach'](_0x350200=>{const _0x551af0=_0x318414;let _0x517068=0x0;_0x12c6da[_0x551af0(0x1e3)](_0x21e409=>{const _0x28be6c=_0x551af0;if(Math[_0x28be6c(0x1f4)](_0x350200[_0x28be6c(0x1a5)],_0x21e409['start'])<Math['min'](_0x350200[_0x28be6c(0x1a8)],_0x21e409[_0x28be6c(0x1a8)])&&_0x21e409[_0x28be6c(0x289)]>_0x517068)_0x517068=_0x21e409['colIndex'];});const _0x52c921=_0x517068+0x1,_0x1e8f73=0x64/_0x52c921,_0x3efe68=_0x350200['colIndex']*_0x1e8f73,_0x2e5982=document[_0x551af0(0x1ff)](_0x551af0(0x24e)),_0x45ae30=_0x350200[_0x551af0(0x265)];let _0x2a6ddd=_0x551af0(0x272);if(clients&&clients[_0x551af0(0x280)]>0x0){const _0x5d8faf=clients[_0x551af0(0x245)](_0x1c0a81=>String(_0x1c0a81['id'])===String(_0x45ae30['clientId']));if(_0x5d8faf&&_0x5d8faf[_0x551af0(0x27c)])_0x2a6ddd=_0x5d8faf[_0x551af0(0x27c)];}const _0x52e378=_0x45ae30[_0x551af0(0x24f)]===_0x551af0(0x21c),_0x18f951=_0x52e378?0x1:0.45;_0x2e5982['className']='event-card'+(_0x52e378?'\x20status-completed':''),_0x2e5982[_0x551af0(0x1a7)]['backgroundColor']=hexToRgba(_0x2a6ddd,_0x18f951),_0x2e5982[_0x551af0(0x1a7)]['borderLeftColor']=_0x2a6ddd;const _0x94cae7=_0x350200[_0x551af0(0x1a5)]/0x3c*GRID_H,_0x5b43b9=(_0x350200[_0x551af0(0x1a8)]-_0x350200['start'])/0x3c*GRID_H;_0x2e5982[_0x551af0(0x1a7)]['top']=_0x94cae7+'px',_0x2e5982[_0x551af0(0x1a7)][_0x551af0(0x1bc)]=Math[_0x551af0(0x1f4)](_0x5b43b9,0x14)+'px',_0x2e5982[_0x551af0(0x1a7)]['width']=_0x551af0(0x253)+_0x1e8f73+_0x551af0(0x259),_0x2e5982[_0x551af0(0x1a7)]['left']='calc('+_0x3efe68+_0x551af0(0x1fe),_0x2e5982[_0x551af0(0x1a7)][_0x551af0(0x1d1)]=0xa+_0x350200[_0x551af0(0x289)];if(_0x1e8f73<0x55)_0x2e5982[_0x551af0(0x203)][_0x551af0(0x281)](_0x551af0(0x27f));let _0x4b5346='';if(_0x45ae30[_0x551af0(0x20e)])_0x4b5346+=_0x551af0(0x277);if(_0x52e378)_0x4b5346+=_0x551af0(0x242);_0x2e5982['innerHTML']=_0x551af0(0x256)+_0x45ae30[_0x551af0(0x1a5)]+_0x551af0(0x1e7)+_0x45ae30['end']+_0x551af0(0x1bf)+_0x4b5346+_0x551af0(0x1b9),_0x2e5982['onclick']=_0x21f7f4=>{_0x21f7f4['stopPropagation'](),openDetails(_0x45ae30);},_0x41a67b[_0x551af0(0x1cb)](_0x2e5982);});}function openAnalytics(){const _0x520cba=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x520cba),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x4228ff,_0x309933){const _0x160596=a3_0x5cd80e;currentAnPeriod=_0x4228ff,document['querySelectorAll'](_0x160596(0x1ad))[_0x160596(0x1e3)](_0x485119=>_0x485119[_0x160596(0x203)]['remove'](_0x160596(0x1cc)));if(_0x309933)_0x309933[_0x160596(0x203)][_0x160596(0x281)](_0x160596(0x1cc));const _0x38a6e8=document[_0x160596(0x24a)]('anCustomDates');_0x38a6e8[_0x160596(0x1a7)]['display']=_0x4228ff===_0x160596(0x238)?_0x160596(0x239):_0x160596(0x1fd);const _0x1baa4b=new Date();let _0x35377e=new Date(),_0x2d23a7=new Date();if(_0x4228ff===_0x160596(0x1eb))_0x35377e=getStartOfWeek(_0x1baa4b),_0x2d23a7=new Date(_0x35377e),_0x2d23a7[_0x160596(0x284)](_0x2d23a7['getDate']()+0x6);else{if(_0x4228ff==='month')_0x35377e=new Date(_0x1baa4b[_0x160596(0x266)](),_0x1baa4b[_0x160596(0x1f8)](),0x1),_0x2d23a7=new Date(_0x1baa4b[_0x160596(0x266)](),_0x1baa4b[_0x160596(0x1f8)]()+0x1,0x0);else{!document[_0x160596(0x24a)](_0x160596(0x26a))[_0x160596(0x210)]&&(document[_0x160596(0x24a)](_0x160596(0x26a))[_0x160596(0x210)]=getLocalDateStr(_0x1baa4b),document['getElementById'](_0x160596(0x1fa))['value']=getLocalDateStr(_0x1baa4b));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x160596(0x210)]=getLocalDateStr(_0x35377e),document[_0x160596(0x24a)](_0x160596(0x1fa))[_0x160596(0x210)]=getLocalDateStr(_0x2d23a7),refreshAnalytics();}function refreshAnalytics(){const _0xdaa95a=a3_0x5cd80e,_0x3077d2=document[_0xdaa95a(0x24a)](_0xdaa95a(0x26a))[_0xdaa95a(0x210)],_0x4d6ea4=document[_0xdaa95a(0x24a)](_0xdaa95a(0x1fa))[_0xdaa95a(0x210)];if(!_0x3077d2||!_0x4d6ea4)return;const _0x33d2cf=sessions[_0xdaa95a(0x1c6)](_0x4bf843=>_0x4bf843[_0xdaa95a(0x22b)]>=_0x3077d2&&_0x4bf843['dateStr']<=_0x4d6ea4&&_0x4bf843['status']!==_0xdaa95a(0x1b4)),_0x448257=_0x33d2cf[_0xdaa95a(0x280)],_0x569da9=_0x33d2cf[_0xdaa95a(0x1c6)](_0x3993c0=>_0x3993c0[_0xdaa95a(0x24f)]==='completed')[_0xdaa95a(0x280)],_0x4a7a1a=_0x448257>0x0?Math['round'](_0x569da9/_0x448257*0x64):0x0;document[_0xdaa95a(0x24a)](_0xdaa95a(0x211))[_0xdaa95a(0x23a)]=_0x4a7a1a+'%',document[_0xdaa95a(0x24a)](_0xdaa95a(0x208))['textContent']=_0x569da9+_0xdaa95a(0x247)+_0x448257+_0xdaa95a(0x20a);const _0x338eac=document['getElementById'](_0xdaa95a(0x1df)),_0x3fa12f=0x2*Math['PI']*0x23,_0x25b761=_0x3fa12f-_0x4a7a1a/0x64*_0x3fa12f;_0x338eac['style'][_0xdaa95a(0x27e)]=_0x25b761;const _0xcf2b8b={};_0x33d2cf[_0xdaa95a(0x1e3)](_0x202f15=>{const _0x3e2dac=_0xdaa95a,_0x2e3dfd=_0x202f15['coachId']||_0x3e2dac(0x1bd);if(!_0xcf2b8b[_0x2e3dfd]){const _0x58cc1a='#'+_0x2e3dfd[_0x3e2dac(0x21e)]()['substr'](0x0,0x6);_0xcf2b8b[_0x2e3dfd]={'total':0x0,'done':0x0,'color':_0x58cc1a};}_0xcf2b8b[_0x2e3dfd][_0x3e2dac(0x1c2)]++;if(_0x202f15[_0x3e2dac(0x24f)]===_0x3e2dac(0x21c))_0xcf2b8b[_0x2e3dfd]['done']++;});const _0x4b97fc=document[_0xdaa95a(0x24a)](_0xdaa95a(0x224));_0x4b97fc[_0xdaa95a(0x1f5)]='';const _0x54172e=Object[_0xdaa95a(0x288)](_0xcf2b8b)['sort']((_0x4d5d61,_0x1daaad)=>_0x1daaad[0x1][_0xdaa95a(0x1c2)]-_0x4d5d61[0x1][_0xdaa95a(0x1c2)]);if(_0x54172e[_0xdaa95a(0x280)]===0x0){_0x4b97fc[_0xdaa95a(0x1f5)]=_0xdaa95a(0x1b0);return;}_0x54172e[_0xdaa95a(0x1e3)](([_0x45c83d,_0x42cdbd])=>{const _0xcd8919=_0xdaa95a,_0x1dbf51=Math['round'](_0x42cdbd[_0xcd8919(0x1ca)]/_0x42cdbd[_0xcd8919(0x1c2)]*0x64),_0x3f2077=document[_0xcd8919(0x1ff)](_0xcd8919(0x24e));_0x3f2077[_0xcd8919(0x1b7)]=_0xcd8919(0x260),_0x3f2077[_0xcd8919(0x1a7)][_0xcd8919(0x25e)]=_0x42cdbd[_0xcd8919(0x27c)],_0x3f2077[_0xcd8919(0x1f5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x45c83d[_0xcd8919(0x19b)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x42cdbd[_0xcd8919(0x1ca)]+'</span>\x20/\x20'+_0x42cdbd[_0xcd8919(0x1c2)]+_0xcd8919(0x1ef)+_0x1dbf51+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b97fc[_0xcd8919(0x1cb)](_0x3f2077);});}function openDetails(_0x47de82){const _0x17dfd3=a3_0x5cd80e;currentSession=_0x47de82;const _0x586cdc=new Date(_0x47de82[_0x17dfd3(0x22b)]),_0x54fc5f=_0x586cdc['toLocaleDateString'](_0x17dfd3(0x201),{'weekday':_0x17dfd3(0x255),'day':'numeric','month':_0x17dfd3(0x255)});document[_0x17dfd3(0x24a)](_0x17dfd3(0x1ae))[_0x17dfd3(0x23a)]=_0x54fc5f[_0x17dfd3(0x1e1)](0x0)[_0x17dfd3(0x1d8)]()+_0x54fc5f[_0x17dfd3(0x254)](0x1),document[_0x17dfd3(0x24a)](_0x17dfd3(0x1b2))[_0x17dfd3(0x23a)]=_0x47de82[_0x17dfd3(0x1a5)]+_0x17dfd3(0x1e7)+_0x47de82['end'],document[_0x17dfd3(0x24a)](_0x17dfd3(0x1e8))[_0x17dfd3(0x23a)]=_0x47de82[_0x17dfd3(0x20c)]||_0x17dfd3(0x1c7);const _0x1d6228=document[_0x17dfd3(0x24a)](_0x17dfd3(0x1b5)),_0x428ee5=document[_0x17dfd3(0x24a)]('cancelContainer'),_0x101ad=_0x428ee5[_0x17dfd3(0x22e)]('.btn-cancel'),_0x11e39d=_0x428ee5[_0x17dfd3(0x22e)](_0x17dfd3(0x229)),_0x2cf81e=document[_0x17dfd3(0x24a)](_0x17dfd3(0x237));if(_0x47de82['status']===_0x17dfd3(0x21c))_0x1d6228[_0x17dfd3(0x23a)]=_0x17dfd3(0x1f1),_0x1d6228['style']['color']=_0x17dfd3(0x26b),_0x428ee5[_0x17dfd3(0x1a7)]['display']=_0x17dfd3(0x1fd);else{_0x1d6228[_0x17dfd3(0x23a)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x1d6228[_0x17dfd3(0x1a7)][_0x17dfd3(0x27c)]='var(--acc-blue)',_0x428ee5[_0x17dfd3(0x1a7)][_0x17dfd3(0x219)]=_0x17dfd3(0x25c);const _0x4baadd=new Date(_0x47de82[_0x17dfd3(0x22b)]+'T'+_0x47de82[_0x17dfd3(0x1a5)]),_0x1acb4f=new Date(),_0x4133c6=(_0x4baadd-_0x1acb4f)/(0x3e8*0x3c*0x3c),_0x3e37b7=coachProfiles[_0x47de82[_0x17dfd3(0x1ed)]]&&coachProfiles[_0x47de82[_0x17dfd3(0x1ed)]][_0x17dfd3(0x268)]?parseInt(coachProfiles[_0x47de82[_0x17dfd3(0x1ed)]]['cancel_window']):0x18;if(_0x3e37b7===0x0||_0x4133c6>=_0x3e37b7)_0x101ad[_0x17dfd3(0x1a7)]['display']='block',_0x11e39d['style'][_0x17dfd3(0x219)]=_0x17dfd3(0x25c),_0x2cf81e['style'][_0x17dfd3(0x219)]='none';else{_0x101ad['style']['display']=_0x17dfd3(0x1fd),_0x11e39d[_0x17dfd3(0x1a7)]['display']=_0x17dfd3(0x1fd),_0x2cf81e[_0x17dfd3(0x1a7)][_0x17dfd3(0x219)]='block';let _0x3e5fbe=_0x3e37b7===0x0?_0x17dfd3(0x1cd):'–∑–∞\x20'+_0x3e37b7+_0x17dfd3(0x1f6);_0x2cf81e['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x3e5fbe+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x17dfd3(0x24a)]('overlay')[_0x17dfd3(0x203)][_0x17dfd3(0x281)](_0x17dfd3(0x1cc)),document[_0x17dfd3(0x24a)](_0x17dfd3(0x251))[_0x17dfd3(0x203)]['add'](_0x17dfd3(0x1c4));}function closeAllSheets(){const _0x5e44a6=a3_0x5cd80e;document[_0x5e44a6(0x24a)](_0x5e44a6(0x1e4))[_0x5e44a6(0x203)][_0x5e44a6(0x1fb)](_0x5e44a6(0x1cc)),document[_0x5e44a6(0x214)]('.sheet')[_0x5e44a6(0x1e3)](_0x2e3877=>_0x2e3877[_0x5e44a6(0x203)][_0x5e44a6(0x1fb)](_0x5e44a6(0x1c4)));}function a3_0x310d(_0x34539b,_0x3dcbde){_0x34539b=_0x34539b-0x198;const _0x461834=a3_0x2711();let _0xb37c32=_0x461834[_0x34539b];return _0xb37c32;}function openSheet(_0x10df09){const _0x28cfc2=a3_0x5cd80e;document[_0x28cfc2(0x24a)](_0x28cfc2(0x1e4))['classList'][_0x28cfc2(0x281)](_0x28cfc2(0x1cc)),document[_0x28cfc2(0x24a)](_0x10df09)[_0x28cfc2(0x203)]['add'](_0x28cfc2(0x1c4));}function getLocalDateStr(_0x176db9){const _0xd2d7cc=a3_0x5cd80e,_0x2f5da3=_0x176db9['getFullYear'](),_0x471e78=String(_0x176db9[_0xd2d7cc(0x1f8)]()+0x1)['padStart'](0x2,'0'),_0x43fa99=String(_0x176db9['getDate']())['padStart'](0x2,'0');return _0x2f5da3+'-'+_0x471e78+'-'+_0x43fa99;}function getStartOfWeek(_0x485492){const _0x2296ab=a3_0x5cd80e,_0x2f9834=new Date(_0x485492),_0x469a7c=_0x2f9834[_0x2296ab(0x19c)](),_0x48fc25=_0x2f9834[_0x2296ab(0x20b)]()-_0x469a7c+(_0x469a7c===0x0?-0x6:0x1);return _0x2f9834['setDate'](_0x48fc25),_0x2f9834[_0x2296ab(0x26f)](0x0,0x0,0x0,0x0),_0x2f9834;}function scrollToToday(){const _0x4d2ef1=getLocalDateStr(new Date());setTimeout(()=>{const _0x425b48=a3_0x310d,_0x40a71e=document[_0x425b48(0x22e)](_0x425b48(0x21f)+_0x4d2ef1+'\x22]');if(_0x40a71e){const _0x2f6bd6=document[_0x425b48(0x24a)](_0x425b48(0x206)),_0x5d0d2e=_0x40a71e['offsetLeft']-_0x2f6bd6[_0x425b48(0x1fc)]/0x2+_0x40a71e[_0x425b48(0x25a)]/0x2;_0x2f6bd6[_0x425b48(0x282)]({'left':_0x5d0d2e,'behavior':'auto'}),_0x2f6bd6['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x25e99f=a3_0x5cd80e,_0x1970ef=new Date(),_0x74f7d9=document['getElementById'](_0x25e99f(0x1b1)),_0x3bbb2f=document[_0x25e99f(0x24a)]('timeLineBadge'),_0x5203a5=(_0x1970ef[_0x25e99f(0x1c1)]()*0x3c+_0x1970ef[_0x25e99f(0x235)]())/0x3c*GRID_H;_0x74f7d9[_0x25e99f(0x1a7)]['top']=_0x5203a5+'px',_0x74f7d9['style'][_0x25e99f(0x219)]=_0x25e99f(0x25c),_0x3bbb2f['style'][_0x25e99f(0x28c)]=_0x5203a5+'px',_0x3bbb2f['style'][_0x25e99f(0x219)]=_0x25e99f(0x25c),_0x3bbb2f['textContent']=String(_0x1970ef['getHours']())['padStart'](0x2,'0')+':'+String(_0x1970ef[_0x25e99f(0x235)]())[_0x25e99f(0x244)](0x2,'0');}function onScroll(){const _0x276672=a3_0x5cd80e,_0x12b42f=document[_0x276672(0x24a)](_0x276672(0x206)),_0x374349=document['querySelectorAll']('.day-col-header');for(let _0x467cf0 of _0x374349)if(_0x467cf0[_0x276672(0x262)]>=_0x12b42f[_0x276672(0x257)]){const _0x5b92c3=new Date(_0x467cf0[_0x276672(0x1d2)](_0x276672(0x200)));document[_0x276672(0x24a)](_0x276672(0x1bb))['textContent']=_0x5b92c3[_0x276672(0x23e)]('ru',{'month':'long'})[_0x276672(0x1d8)]()+'\x20'+_0x5b92c3[_0x276672(0x266)]();break;}}function showToast(_0x1ca19a){const _0x1c5722=a3_0x5cd80e,_0x590ce1=document[_0x1c5722(0x24a)](_0x1c5722(0x236));_0x590ce1[_0x1c5722(0x23a)]=_0x1ca19a,_0x590ce1[_0x1c5722(0x203)][_0x1c5722(0x281)](_0x1c5722(0x283)),setTimeout(()=>_0x590ce1[_0x1c5722(0x203)][_0x1c5722(0x1fb)](_0x1c5722(0x283)),0x7d0);}function handleInfiniteScroll(){const _0x1e53a8=a3_0x5cd80e,_0x350df3=document['getElementById'](_0x1e53a8(0x206)),_0x331e52=_0x350df3[_0x1e53a8(0x257)],_0x2a20db=_0x350df3[_0x1e53a8(0x218)],_0x58a7d6=_0x350df3[_0x1e53a8(0x1fc)];if(_0x2a20db-(_0x331e52+_0x58a7d6)<0x12c){const _0x3ef317=endOffset;endOffset+=0xe,renderDayRange(_0x3ef317+0x1,endOffset),reRenderBlocks();}if(_0x331e52<0x12c){const _0x5288e8=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5288e8-0x1),_0x350df3[_0x1e53a8(0x257)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x41ebb6,_0x59aded){const _0x23448c=a3_0x5cd80e,_0x5afd0b=document[_0x23448c(0x24a)](_0x23448c(0x1c8)),_0xdb00d9=document[_0x23448c(0x24a)](_0x23448c(0x226)),_0x227682=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x595c85=new Date();_0x595c85['setHours'](0x0,0x0,0x0,0x0);const _0x27b8a6=getLocalDateStr(new Date()),_0x59b0c6=document[_0x23448c(0x264)](),_0x4003e2=document[_0x23448c(0x264)]();for(let _0x290b77=_0x41ebb6;_0x290b77<=_0x59aded;_0x290b77++){const _0xa70b91=new Date(_0x595c85);_0xa70b91[_0x23448c(0x284)](_0xa70b91['getDate']()+_0x290b77);const _0x1e8e20=getLocalDateStr(_0xa70b91);let _0x124e9d=_0xa70b91[_0x23448c(0x19c)]()-0x1;if(_0x124e9d===-0x1)_0x124e9d=0x6;const _0x5e05fc=_0x1e8e20===_0x27b8a6,_0x3a5f0f=document[_0x23448c(0x1ff)](_0x23448c(0x24e));_0x3a5f0f[_0x23448c(0x1b7)]=_0x23448c(0x215)+(_0x5e05fc?'today':''),_0x3a5f0f[_0x23448c(0x227)](_0x23448c(0x200),_0x1e8e20),_0x3a5f0f['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x227682[_0x124e9d]+'</div><div\x20class=\x22dch-num\x22>'+_0xa70b91[_0x23448c(0x20b)]()+_0x23448c(0x22a),_0x59b0c6[_0x23448c(0x1cb)](_0x3a5f0f);const _0xf47ca8=document['createElement'](_0x23448c(0x24e));_0xf47ca8[_0x23448c(0x1b7)]=_0x23448c(0x1e2)+(_0x5e05fc?_0x23448c(0x1dd):''),_0xf47ca8['setAttribute']('data-date',_0x1e8e20),_0xf47ca8[_0x23448c(0x227)](_0x23448c(0x1ee),_0x124e9d),_0x4003e2[_0x23448c(0x1cb)](_0xf47ca8);}_0x5afd0b[_0x23448c(0x234)](_0x59b0c6,_0x5afd0b[_0x23448c(0x209)]),_0xdb00d9['insertBefore'](_0x4003e2,_0xdb00d9[_0x23448c(0x22e)](_0x23448c(0x19f)));}function hexToRgba(_0x254fc1,_0x21772b){const _0x27abe6=a3_0x5cd80e;let _0x5d17a5;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x27abe6(0x1e5)](_0x254fc1))return _0x5d17a5=_0x254fc1[_0x27abe6(0x1ea)](0x1)[_0x27abe6(0x1db)](''),_0x5d17a5[_0x27abe6(0x280)]==0x3&&(_0x5d17a5=[_0x5d17a5[0x0],_0x5d17a5[0x0],_0x5d17a5[0x1],_0x5d17a5[0x1],_0x5d17a5[0x2],_0x5d17a5[0x2]]),_0x5d17a5='0x'+_0x5d17a5[_0x27abe6(0x1c3)](''),_0x27abe6(0x199)+[_0x5d17a5>>0x10&0xff,_0x5d17a5>>0x8&0xff,_0x5d17a5&0xff]['join'](',')+','+_0x21772b+')';return'rgba(10,\x20132,\x20255,\x20'+_0x21772b+')';}let confirmResolver=null;function showCustomConfirm(_0x3f9fdf,_0x5af089,_0x241e62=!![]){const _0xa0fc16=a3_0x5cd80e;document[_0xa0fc16(0x24a)](_0xa0fc16(0x1c5))[_0xa0fc16(0x23a)]=_0x3f9fdf,document[_0xa0fc16(0x24a)](_0xa0fc16(0x1a1))[_0xa0fc16(0x23a)]=_0x5af089;const _0xf4c1fd=document['getElementById']('ccYesBtn');return _0x241e62?(_0xf4c1fd['style'][_0xa0fc16(0x27c)]=_0xa0fc16(0x287),_0xf4c1fd[_0xa0fc16(0x1a7)][_0xa0fc16(0x1ab)]=_0xa0fc16(0x270)):(_0xf4c1fd[_0xa0fc16(0x1a7)][_0xa0fc16(0x27c)]='#0a84ff',_0xf4c1fd[_0xa0fc16(0x1a7)][_0xa0fc16(0x1ab)]=_0xa0fc16(0x270)),new Promise(_0x3220bd=>{const _0x396d91=_0xa0fc16;confirmResolver=_0x3220bd,document[_0x396d91(0x24a)]('customConfirm')[_0x396d91(0x203)][_0x396d91(0x281)](_0x396d91(0x233));});}function resolveCustomConfirm(_0xdb224f){const _0x5c1ead=a3_0x5cd80e;document[_0x5c1ead(0x24a)](_0x5c1ead(0x1f9))[_0x5c1ead(0x203)][_0x5c1ead(0x1fb)](_0x5c1ead(0x233));if(confirmResolver)confirmResolver(_0xdb224f);}async function tryCancelCurrentSession(){const _0x260c61=a3_0x5cd80e;if(!currentSession)return;const _0x345983=await showCustomConfirm(_0x260c61(0x243),_0x260c61(0x1a9),!![]);if(!_0x345983)return;const _0x1d2f8f=currentSession;closeAllSheets(),sessions=sessions[_0x260c61(0x1c6)](_0x812fb6=>_0x812fb6['id']!==_0x1d2f8f['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x260c61(0x222)]();try{const _0x3ae332=window[_0x260c61(0x1d3)]?.['WebApp'],_0x29d861=await fetch(API_URL,{'method':_0x260c61(0x27a),'body':JSON[_0x260c61(0x23d)]({'action':'client_cancel','init_data':_0x3ae332?.['initData']||'','coachId':_0x1d2f8f['coachId'],'dateStr':_0x1d2f8f[_0x260c61(0x22b)],'sessionId':_0x1d2f8f['id']})});if(_0x29d861['ok'])DataManager[_0x260c61(0x216)]();}catch(_0x565388){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x18177f=a3_0x5cd80e;if(!currentSession)return;document['getElementById'](_0x18177f(0x251))[_0x18177f(0x203)][_0x18177f(0x1fb)]('open'),document[_0x18177f(0x24a)](_0x18177f(0x1a0))['classList'][_0x18177f(0x281)](_0x18177f(0x1c4));const _0x57ebbf=document[_0x18177f(0x24a)](_0x18177f(0x27d)),_0x364f83=document[_0x18177f(0x24a)](_0x18177f(0x1d0));_0x57ebbf['innerHTML']='',_0x364f83[_0x18177f(0x1f5)]=_0x18177f(0x1b3);const [_0x326620,_0x307113]=currentSession[_0x18177f(0x1a5)][_0x18177f(0x1db)](':')[_0x18177f(0x1e0)](Number),[_0x439e1b,_0xdcdbee]=currentSession[_0x18177f(0x1a8)][_0x18177f(0x1db)](':')[_0x18177f(0x1e0)](Number),_0xea5bdb=_0x439e1b*0x3c+_0xdcdbee-(_0x326620*0x3c+_0x307113);try{const _0x3209cf=window[_0x18177f(0x1d3)]?.['WebApp'],_0x50b23f=await fetch(API_URL,{'method':_0x18177f(0x27a),'body':JSON['stringify']({'action':_0x18177f(0x27b),'coachId':currentSession[_0x18177f(0x1ed)],'duration':_0xea5bdb,'init_data':_0x3209cf?.[_0x18177f(0x19e)]||'','excludeSessionId':currentSession['id']})}),_0x2a287b=await _0x50b23f[_0x18177f(0x228)]();_0x2a287b['ok']&&_0x2a287b[_0x18177f(0x265)]?(availableSlotsCache=_0x2a287b['data'],renderRescheduleDates()):_0x364f83[_0x18177f(0x1f5)]=_0x18177f(0x220);}catch(_0x90794c){_0x364f83[_0x18177f(0x1f5)]=_0x18177f(0x1cf);}}function renderRescheduleDates(){const _0x4df1be=a3_0x5cd80e,_0x5ac0ba=document[_0x4df1be(0x24a)](_0x4df1be(0x27d));_0x5ac0ba[_0x4df1be(0x1f5)]='';const _0x1fe393=Object['keys'](availableSlotsCache)[_0x4df1be(0x263)](),_0x7159d=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1fe393[_0x4df1be(0x280)]===0x0){document[_0x4df1be(0x24a)](_0x4df1be(0x1d0))[_0x4df1be(0x1f5)]=_0x4df1be(0x26d);return;}_0x1fe393[_0x4df1be(0x1e3)]((_0x25f020,_0x21fd49)=>{const _0x37efcc=_0x4df1be,_0x2d4c94=new Date(_0x25f020),_0x47dd73=_0x7159d[_0x2d4c94[_0x37efcc(0x19c)]()],_0x311ea9=_0x2d4c94[_0x37efcc(0x20b)](),_0x4e19a7=document[_0x37efcc(0x1ff)](_0x37efcc(0x24e));_0x4e19a7[_0x37efcc(0x1b7)]=_0x37efcc(0x1e9);if(_0x21fd49===0x0)_0x4e19a7[_0x37efcc(0x203)][_0x37efcc(0x281)](_0x37efcc(0x1cc));_0x4e19a7[_0x37efcc(0x1f5)]='<div\x20class=\x22rs-day-name\x22>'+_0x47dd73+_0x37efcc(0x1dc)+_0x311ea9+_0x37efcc(0x22a),_0x4e19a7['onclick']=()=>selectRsDate(_0x25f020,_0x4e19a7),_0x5ac0ba[_0x37efcc(0x1cb)](_0x4e19a7);}),selectRsDate(_0x1fe393[0x0],_0x5ac0ba[_0x4df1be(0x209)]);}function a3_0x2711(){const _0x14624c=['anEnd','remove','clientWidth','none','%\x20+\x202px)','createElement','data-date','ru-RU','T00:00:00','classList','<div\x20class=\x22dch-day\x22>','planned','matrixViewport',':00</span>','anTotalStats','firstChild','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getDate','note','scroll','seriesId','coach_profiles','value','anPercent','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','push','querySelectorAll','day-col-header\x20','saveLocally','then','scrollWidth','display','keys','startsWith','completed','setHeaderColor','toString','.day-col-header[data-date=\x22','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','#050505','now','timeLineBadge','analyticsList','uc_client_settings','gridColumns','setAttribute','json','.btn-reschedule','</div>','dateStr','button','sid','querySelector','1031996vwwioU','560484gjkyKh','offClick','href','visible','insertBefore','getMinutes','toast','cancelHint','custom','flex','textContent','<span>','apply','stringify','toLocaleString','getTime','log','uc_client_sessions','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','padStart','find','findIndex','\x20–∏–∑\x20','pattern','Error\x20setting\x20color:','getElementById','30oAvdPC','px\x200px','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','div','status','disableVerticalSwipes','detailsSheet','isArray','calc(','slice','long','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','scrollLeft','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','%\x20-\x204px)','offsetWidth','applyData','block','addEventListener','borderLeftColor','timeColumn','client-stat-card','exceptions','offsetLeft','sort','createDocumentFragment','data','getFullYear','setMonth','cancel_window','blocked-range-part\x20stripe-bg','anStart','var(--acc-green)','ready','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','calendar','setHours','600','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','#0a84ff','6jWHJco','180wMkUfH','161433UdcRva','onClick','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','401643TNJZPG','917324rDMljK','POST','get_slots','color','rsDatesTrack','strokeDashoffset','mini','length','add','scrollTo','show','setDate','BackButton','numeric','#ff453a','entries','colIndex','backgroundPosition','\x20–≤\x20','top','floor','T23:59:59','rgba(','WebApp','substr','getDay','193094XXHMoX','initData','.day-column','rescheduleSheet','ccText','cid','setItem','setBackgroundColor','start','day-off-overlay\x20stripe-bg','style','end','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','px\x20-','fontWeight','min','.period-switch\x20.p-btn','detDate','24KSPBhx','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','globalTimeLine','detTime','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','cancelled','detStatus','Critical\x20TMA\x20Error:','className','(((.+)+)+)+$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ranges','headerMonth','height','Unknown','syncLoad','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','getHours','total','join','open','ccTitle','filter','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','daysHeaderTrack','getItem','done','appendChild','active','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','toLocaleDateString','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','rsSlotsGrid','zIndex','getAttribute','Telegram','parse','round','1495850VlaPhd','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','toUpperCase','search','client_load','split','</div><div\x20class=\x22rs-day-num\x22>','today','time-label','anDonutCircle','map','charAt','day-column\x20','forEach','overlay','test','constructor','\x20-\x20','detNote','rs-date-chip','substring','week','settings','coachId','data-day-idx','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','blocked-slot\x20stripe-bg','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','</div><div\x20class=\x22dch-num\x22>','clients','max','innerHTML','\x20—á.','v9.5-CLIENT-ANALYTICS','getMonth','customConfirm'];a3_0x2711=function(){return _0x14624c;};return a3_0x2711();}function selectRsDate(_0x80eb94,_0x133a03){const _0x415cd0=a3_0x5cd80e;selectedRsDate=_0x80eb94,document[_0x415cd0(0x214)]('.rs-date-chip')['forEach'](_0x374bac=>_0x374bac[_0x415cd0(0x203)][_0x415cd0(0x1fb)]('active'));if(_0x133a03)_0x133a03[_0x415cd0(0x203)][_0x415cd0(0x281)](_0x415cd0(0x1cc));const _0x3c8bf9=document[_0x415cd0(0x24a)](_0x415cd0(0x1d0));_0x3c8bf9['innerHTML']='';const _0x1a06ed=availableSlotsCache[_0x80eb94]||[];if(_0x1a06ed[_0x415cd0(0x280)]===0x0){_0x3c8bf9[_0x415cd0(0x1f5)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x1a06ed[_0x415cd0(0x1e3)](_0x512a5c=>{const _0x467249=_0x415cd0,_0x1ac0dc=document[_0x467249(0x1ff)](_0x467249(0x22c));_0x1ac0dc['className']='rs-time-btn',_0x1ac0dc[_0x467249(0x23a)]=_0x512a5c,_0x1ac0dc['onclick']=()=>confirmReschedule(_0x512a5c),_0x3c8bf9['appendChild'](_0x1ac0dc);});}async function confirmReschedule(_0x44fe9a){const _0x2bc394=a3_0x5cd80e,_0x4766a8=new Date(selectedRsDate),_0x3444cb=_0x4766a8[_0x2bc394(0x1ce)]('ru-RU',{'day':_0x2bc394(0x286),'month':_0x2bc394(0x255)}),_0x1ad176=await showCustomConfirm(_0x2bc394(0x1d7),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3444cb+_0x2bc394(0x28b)+_0x44fe9a+'?',![]);if(!_0x1ad176)return;closeAllSheets(),showToast(_0x2bc394(0x271)),lastUserActionTime=Date[_0x2bc394(0x222)]();const _0xc2882b=currentSession[_0x2bc394(0x22b)],_0x9a2d1b=currentSession['id'],[_0x4ed9b0,_0x473f81]=currentSession[_0x2bc394(0x1a5)]['split'](':')[_0x2bc394(0x1e0)](Number),[_0xf101a5,_0x9a73b1]=currentSession[_0x2bc394(0x1a8)][_0x2bc394(0x1db)](':')[_0x2bc394(0x1e0)](Number),_0x15c759=_0xf101a5*0x3c+_0x9a73b1-(_0x4ed9b0*0x3c+_0x473f81),[_0x4712a7,_0x5d7821]=_0x44fe9a['split'](':')[_0x2bc394(0x1e0)](Number),_0x1d1a7e=_0x4712a7*0x3c+_0x5d7821+_0x15c759,_0x1509bc=Math[_0x2bc394(0x28d)](_0x1d1a7e/0x3c),_0x392dda=_0x1d1a7e%0x3c,_0x291442=String(_0x1509bc)['padStart'](0x2,'0')+':'+String(_0x392dda)[_0x2bc394(0x244)](0x2,'0'),_0x1729b5=sessions[_0x2bc394(0x246)](_0x4995c2=>_0x4995c2['id']===_0x9a2d1b);_0x1729b5!==-0x1&&(sessions[_0x1729b5][_0x2bc394(0x22b)]=selectedRsDate,sessions[_0x1729b5][_0x2bc394(0x1a5)]=_0x44fe9a,sessions[_0x1729b5][_0x2bc394(0x1a8)]=_0x291442,reRenderBlocks());try{const _0x92259e=window[_0x2bc394(0x1d3)]?.[_0x2bc394(0x19a)],_0x16a300=await fetch(API_URL,{'method':_0x2bc394(0x27a),'body':JSON[_0x2bc394(0x23d)]({'action':'reschedule','init_data':_0x92259e?.[_0x2bc394(0x19e)]||'','oldSessionId':_0x9a2d1b,'oldDate':_0xc2882b,'newDate':selectedRsDate,'newTime':_0x44fe9a,'coachId':currentSession[_0x2bc394(0x1ed)]})}),_0x45fca4=await _0x16a300[_0x2bc394(0x228)]();!_0x45fca4['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x2bc394(0x1be)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2bc394(0x216)]());}catch(_0x2aad95){showToast(_0x2bc394(0x212));}}document[a3_0x5cd80e(0x25d)]('DOMContentLoaded',init);