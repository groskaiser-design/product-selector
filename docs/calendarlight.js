const a3_0x181753=a3_0x51da;(function(_0x2a5637,_0x42a14d){const _0x1a7a77=a3_0x51da,_0x1b3cd4=_0x2a5637();while(!![]){try{const _0x296986=-parseInt(_0x1a7a77(0x202))/0x1*(parseInt(_0x1a7a77(0x20b))/0x2)+-parseInt(_0x1a7a77(0x229))/0x3+-parseInt(_0x1a7a77(0x255))/0x4*(-parseInt(_0x1a7a77(0x247))/0x5)+parseInt(_0x1a7a77(0x1ce))/0x6*(-parseInt(_0x1a7a77(0x218))/0x7)+-parseInt(_0x1a7a77(0x209))/0x8+parseInt(_0x1a7a77(0x1e1))/0x9*(parseInt(_0x1a7a77(0x1f3))/0xa)+parseInt(_0x1a7a77(0x25d))/0xb;if(_0x296986===_0x42a14d)break;else _0x1b3cd4['push'](_0x1b3cd4['shift']());}catch(_0x52c8cb){_0x1b3cd4['push'](_0x1b3cd4['shift']());}}}(a3_0x4c0d,0x51be2));const APP_VERSION=a3_0x181753(0x21c),API_URL=a3_0x181753(0x1b4),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x181753(0x1fd),KEY_CLIENTS=a3_0x181753(0x268);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x181753(0x22f),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x533946=a3_0x181753,_0x2d8dbd=(function(){let _0x45cb46=!![];return function(_0x1c4e25,_0xde7ab8){const _0x372e7d=_0x45cb46?function(){const _0x36ff68=a3_0x51da;if(_0xde7ab8){const _0x328606=_0xde7ab8[_0x36ff68(0x1a0)](_0x1c4e25,arguments);return _0xde7ab8=null,_0x328606;}}:function(){};return _0x45cb46=![],_0x372e7d;};}()),_0x3efd47=_0x2d8dbd(this,function(){const _0x2d0cb9=a3_0x51da;return _0x3efd47[_0x2d0cb9(0x1b2)]()[_0x2d0cb9(0x201)](_0x2d0cb9(0x224))[_0x2d0cb9(0x1b2)]()[_0x2d0cb9(0x1d6)](_0x3efd47)[_0x2d0cb9(0x201)](_0x2d0cb9(0x224));});_0x3efd47();try{const _0x447438=window['Telegram']?.['WebApp'];if(!_0x447438)return;_0x447438['ready'](),_0x447438['expand']();try{_0x447438[_0x533946(0x1ad)](_0x533946(0x22c)),_0x447438[_0x533946(0x287)]&&_0x447438[_0x533946(0x287)](_0x533946(0x22c));}catch(_0x21750f){console[_0x533946(0x22b)](_0x533946(0x1b1),_0x21750f);}try{_0x447438[_0x533946(0x244)]&&(_0x447438['BackButton']['show'](),_0x447438['BackButton'][_0x533946(0x267)](),_0x447438[_0x533946(0x244)]['onClick'](function(){const _0x48c018=_0x533946;window['location'][_0x48c018(0x27e)]='router.html';}));}catch(_0x5b265f){console['log'](_0x533946(0x237),_0x5b265f);}try{if(_0x447438[_0x533946(0x1c7)])_0x447438[_0x533946(0x1c7)]();}catch(_0x4237ca){}}catch(_0x4e45c2){console['error'](_0x533946(0x284),_0x4e45c2);}}());function isAdmin(){const _0x6b4c72=a3_0x181753;try{const _0x44325a=Number(window['Telegram']?.['WebApp']?.[_0x6b4c72(0x246)]?.[_0x6b4c72(0x1b9)]?.['id']);return _0x44325a===0xbaf7174;}catch(_0x6c81d4){return![];}}const DataManager={'saveLocally'(){const _0x101e8a=a3_0x181753;try{localStorage[_0x101e8a(0x1d9)](KEY_SESSIONS,JSON[_0x101e8a(0x288)](sessions)),localStorage[_0x101e8a(0x1d9)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x101e8a(0x1d9)](KEY_SETTINGS,JSON[_0x101e8a(0x288)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2cf41a){}},'loadLocal'(){const _0x1c1659=a3_0x181753;try{const _0xc6b969=localStorage[_0x1c1659(0x1a3)](KEY_SESSIONS);if(_0xc6b969)sessions=JSON[_0x1c1659(0x252)](_0xc6b969);const _0x52a6b5=localStorage[_0x1c1659(0x1a3)](KEY_CLIENTS);if(_0x52a6b5)clients=JSON['parse'](_0x52a6b5);const _0x1c8972=localStorage[_0x1c1659(0x1a3)](KEY_SETTINGS);if(_0x1c8972){const _0x5b4512=JSON[_0x1c1659(0x252)](_0x1c8972);if(_0x5b4512[_0x1c1659(0x1f9)])availabilityPattern=_0x5b4512[_0x1c1659(0x1f9)];if(_0x5b4512[_0x1c1659(0x1b8)])specialRanges=_0x5b4512['ranges'];if(_0x5b4512[_0x1c1659(0x26e)])dateExceptions=_0x5b4512[_0x1c1659(0x26e)];}}catch(_0xd2c81){}},async 'syncLoad'(){const _0x17667b=a3_0x181753,_0x887f3d=new Date(),_0x2f368a=_0x887f3d[_0x17667b(0x24b)]()+'-'+String(_0x887f3d[_0x17667b(0x1ee)]()+0x1)['padStart'](0x2,'0'),_0x59d891=new Date(_0x887f3d);_0x59d891['setMonth'](_0x887f3d[_0x17667b(0x1ee)]()+0x1);const _0x177871=_0x59d891['getFullYear']()+'-'+String(_0x59d891[_0x17667b(0x1ee)]()+0x1)[_0x17667b(0x1c3)](0x2,'0'),_0x363485=Date[_0x17667b(0x220)]();try{const _0x1a6737=window[_0x17667b(0x1a1)]?.[_0x17667b(0x222)],_0xf646fe=_0x1a6737?.[_0x17667b(0x22d)]||'',[_0x3095ab,_0x57ecb2]=await Promise[_0x17667b(0x24c)]([fetch(API_URL,{'method':_0x17667b(0x241),'body':JSON[_0x17667b(0x288)]({'action':_0x17667b(0x1ba),'init_data':_0xf646fe,'month_str':_0x2f368a})})[_0x17667b(0x28b)](_0x512c09=>_0x512c09['json']()),fetch(API_URL,{'method':_0x17667b(0x241),'body':JSON[_0x17667b(0x288)]({'action':_0x17667b(0x1ba),'init_data':_0xf646fe,'month_str':_0x177871})})[_0x17667b(0x28b)](_0x11d6b0=>_0x11d6b0[_0x17667b(0x228)]())]);if(lastUserActionTime>_0x363485){console[_0x17667b(0x22b)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x3095ab['ok'])this[_0x17667b(0x1e0)](_0x3095ab['data'],_0x2f368a);if(_0x57ecb2['ok'])this[_0x17667b(0x1e0)](_0x57ecb2[_0x17667b(0x1f4)],_0x177871);this[_0x17667b(0x1d8)]();}catch(_0xe0786b){}},'applyData'(_0x2312ee,_0x45d8ba){const _0x1b2674=a3_0x181753;if(!_0x2312ee)return;if(_0x2312ee[_0x1b2674(0x240)]){if(_0x2312ee['settings']['pattern'])availabilityPattern=_0x2312ee[_0x1b2674(0x240)]['pattern'];if(_0x2312ee[_0x1b2674(0x240)][_0x1b2674(0x1b8)])specialRanges=_0x2312ee[_0x1b2674(0x240)][_0x1b2674(0x1b8)];if(_0x2312ee[_0x1b2674(0x240)][_0x1b2674(0x26e)])dateExceptions=_0x2312ee[_0x1b2674(0x240)][_0x1b2674(0x26e)];}if(_0x2312ee[_0x1b2674(0x27a)]&&Array[_0x1b2674(0x1a5)](_0x2312ee['clients']))clients=_0x2312ee[_0x1b2674(0x27a)];_0x2312ee[_0x1b2674(0x256)]&&(coachProfiles={...coachProfiles,..._0x2312ee[_0x1b2674(0x256)]}),_0x2312ee[_0x1b2674(0x295)]&&(sessions=sessions[_0x1b2674(0x1af)](_0x409b94=>!_0x409b94[_0x1b2674(0x1dc)]['startsWith'](_0x45d8ba)),Object[_0x1b2674(0x27c)](_0x2312ee['calendar'])['forEach'](_0x5b517b=>{const _0x1bfe01=_0x1b2674,_0x5e6276=_0x2312ee[_0x1bfe01(0x295)][_0x5b517b];_0x5e6276[_0x1bfe01(0x270)](_0x119ad9=>{const _0x70f48a=_0x1bfe01;sessions[_0x70f48a(0x1bc)]({'id':_0x119ad9['i'],'clientId':_0x119ad9['c'],'coachId':_0x119ad9[_0x70f48a(0x28f)],'dateStr':_0x45d8ba+'-'+_0x5b517b[_0x70f48a(0x1c3)](0x2,'0'),'start':_0x119ad9['s'],'end':_0x119ad9['e'],'note':_0x119ad9['n']||'','status':_0x119ad9['st']||'planned','seriesId':_0x119ad9['sid']});});})),reRenderBlocks();}};function init(){const _0x162171=a3_0x181753;DataManager[_0x162171(0x283)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x162171(0x227)](_0x162171(0x21a))[_0x162171(0x1a4)](_0x162171(0x280),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x162171(0x281)]();}function renderTimeColumn(){const _0x43f6f7=a3_0x181753,_0x12ae8d=document[_0x43f6f7(0x227)](_0x43f6f7(0x26c)),_0xde8fd1=document[_0x43f6f7(0x227)]('timeLineBadge');_0x12ae8d[_0x43f6f7(0x203)]='',_0x12ae8d[_0x43f6f7(0x250)](_0xde8fd1);for(let _0x5080b0=0x0;_0x5080b0<0x18;_0x5080b0++){const _0x59f712=document[_0x43f6f7(0x21e)]('div');_0x59f712[_0x43f6f7(0x208)]=_0x43f6f7(0x23b);if(_0x5080b0>0x0)_0x59f712['innerHTML']=_0x43f6f7(0x248)+String(_0x5080b0)[_0x43f6f7(0x1c3)](0x2,'0')+_0x43f6f7(0x242);_0x12ae8d['appendChild'](_0x59f712);}}function renderDayRange(_0x6f588d,_0x51057c){const _0x4ac74a=a3_0x181753,_0x2bb153=document[_0x4ac74a(0x227)](_0x4ac74a(0x1f2)),_0x4e723e=document[_0x4ac74a(0x227)](_0x4ac74a(0x1eb)),_0x3b04c2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x745415=new Date();_0x745415[_0x4ac74a(0x214)](0x0,0x0,0x0,0x0);const _0x4909b2=getLocalDateStr(new Date());for(let _0x2ea11c=_0x6f588d;_0x2ea11c<=_0x51057c;_0x2ea11c++){const _0x5aa723=new Date(_0x745415);_0x5aa723[_0x4ac74a(0x23a)](_0x5aa723[_0x4ac74a(0x289)]()+_0x2ea11c);const _0x55c004=getLocalDateStr(_0x5aa723);let _0x16dac4=_0x5aa723[_0x4ac74a(0x249)]()-0x1;if(_0x16dac4===-0x1)_0x16dac4=0x6;const _0x25c656=_0x55c004===_0x4909b2,_0x2d089a=document['createElement']('div');_0x2d089a[_0x4ac74a(0x208)]=_0x4ac74a(0x21d)+(_0x25c656?'today':''),_0x2d089a[_0x4ac74a(0x1cc)](_0x4ac74a(0x1d0),_0x55c004),_0x2d089a[_0x4ac74a(0x203)]=_0x4ac74a(0x269)+_0x3b04c2[_0x16dac4]+_0x4ac74a(0x1f8)+_0x5aa723[_0x4ac74a(0x289)]()+'</div>',_0x2bb153[_0x4ac74a(0x250)](_0x2d089a);const _0x1f6169=document[_0x4ac74a(0x21e)](_0x4ac74a(0x215));_0x1f6169['className']=_0x4ac74a(0x271)+(_0x25c656?_0x4ac74a(0x225):''),_0x1f6169['setAttribute'](_0x4ac74a(0x1d0),_0x55c004),_0x1f6169[_0x4ac74a(0x1cc)](_0x4ac74a(0x21b),_0x16dac4),_0x4e723e[_0x4ac74a(0x250)](_0x1f6169);}}function reRenderBlocks(){const _0xd70832=a3_0x181753;document['querySelectorAll']('.day-column')[_0xd70832(0x270)](_0x2735e7=>{const _0x5f428b=_0xd70832;_0x2735e7[_0x5f428b(0x260)](_0x5f428b(0x1d7))['forEach'](_0xd34c48=>_0xd34c48[_0x5f428b(0x223)]());const _0x37a5fe=_0x2735e7['getAttribute'](_0x5f428b(0x1d0)),_0x459aa5=parseInt(_0x2735e7[_0x5f428b(0x1e2)](_0x5f428b(0x21b))),_0x100824=Math[_0x5f428b(0x1ac)](_0x2735e7['offsetLeft']);(availabilityPattern[_0x459aa5]||[])['forEach'](_0x58dc4d=>{const _0xe6f52c=_0x5f428b,_0x18be46=document[_0xe6f52c(0x21e)]('div');_0x18be46['className']=_0xe6f52c(0x243),_0x18be46[_0xe6f52c(0x1fb)]['top']=_0x58dc4d*GRID_H+'px',_0x18be46[_0xe6f52c(0x1fb)][_0xe6f52c(0x206)]='-'+_0x100824+_0xe6f52c(0x277)+_0x58dc4d*GRID_H+'px',_0x2735e7[_0xe6f52c(0x250)](_0x18be46);});if(specialRanges[_0x5f428b(0x26a)]>0x0){const _0x52532e=new Date(_0x37a5fe+'T00:00:00')[_0x5f428b(0x1dd)](),_0x2e78b4=new Date(_0x37a5fe+'T23:59:59')[_0x5f428b(0x1dd)]();specialRanges[_0x5f428b(0x270)](_0x26f54e=>{const _0x4464e6=_0x5f428b,_0x4d74cd=new Date(_0x26f54e[_0x4464e6(0x1f1)])[_0x4464e6(0x1dd)](),_0x243d52=new Date(_0x26f54e[_0x4464e6(0x1df)])['getTime'](),_0x5180b8=Math[_0x4464e6(0x285)](_0x52532e,_0x4d74cd),_0x5ad57b=Math['min'](_0x2e78b4,_0x243d52);if(_0x5180b8<_0x5ad57b){const _0xf4d492=(_0x5180b8-_0x52532e)/0x36ee80*GRID_H,_0x50fcee=(_0x5ad57b-_0x5180b8)/0x36ee80*GRID_H,_0x5309c6=document[_0x4464e6(0x21e)](_0x4464e6(0x215));_0x50fcee>=23.5*GRID_H?(_0x5309c6['className']=_0x4464e6(0x28e),_0x5309c6[_0x4464e6(0x1fb)]['backgroundPosition']='-'+_0x100824+_0x4464e6(0x213)):(_0x5309c6['className']='blocked-range-part\x20stripe-bg',_0x5309c6[_0x4464e6(0x1fb)][_0x4464e6(0x1c8)]=_0xf4d492+'px',_0x5309c6[_0x4464e6(0x1fb)]['height']=_0x50fcee+'px',_0x5309c6[_0x4464e6(0x1fb)][_0x4464e6(0x206)]='-'+_0x100824+_0x4464e6(0x277)+_0xf4d492+'px'),_0x2735e7[_0x4464e6(0x250)](_0x5309c6);}});}renderEventsForColumn(_0x2735e7,_0x37a5fe);});}function renderEventsForColumn(_0x46ba88,_0x4c1767){const _0x20d437=a3_0x181753,_0x2d97a6=sessions[_0x20d437(0x1af)](_0x557c3e=>_0x557c3e[_0x20d437(0x1dc)]===_0x4c1767),_0x122dcb=_0x2d97a6['map'](_0x5adbda=>{const _0x324a9f=_0x20d437,[_0x5a25ab,_0xf5c989]=_0x5adbda[_0x324a9f(0x1f1)]['split'](':')[_0x324a9f(0x26f)](Number),[_0x218fa5,_0x49532b]=_0x5adbda[_0x324a9f(0x1df)][_0x324a9f(0x1fe)](':')['map'](Number);return{'data':_0x5adbda,'start':_0x5a25ab*0x3c+_0xf5c989,'end':_0x218fa5*0x3c+_0x49532b,'colIndex':0x0};});_0x122dcb['sort']((_0x4b142e,_0xc19259)=>_0x4b142e['start']-_0xc19259['start']||_0xc19259['end']-_0xc19259[_0x20d437(0x1f1)]-(_0x4b142e[_0x20d437(0x1df)]-_0x4b142e[_0x20d437(0x1f1)]));const _0x5d8932=[];_0x122dcb[_0x20d437(0x270)](_0x430eb0=>{const _0x392a00=_0x20d437;let _0x2b996f=![];for(let _0x37f501=0x0;_0x37f501<_0x5d8932[_0x392a00(0x26a)];_0x37f501++){const _0x5f48b8=_0x5d8932[_0x37f501];if(_0x430eb0[_0x392a00(0x1f1)]>=_0x5f48b8[_0x5f48b8[_0x392a00(0x26a)]-0x1][_0x392a00(0x1df)]){_0x5f48b8['push'](_0x430eb0),_0x430eb0[_0x392a00(0x1c4)]=_0x37f501,_0x2b996f=!![];break;}}!_0x2b996f&&(_0x5d8932[_0x392a00(0x1bc)]([_0x430eb0]),_0x430eb0['colIndex']=_0x5d8932['length']-0x1);}),_0x122dcb[_0x20d437(0x270)](_0x4e0bb4=>{const _0x5b9c90=_0x20d437;let _0x29dd32=0x0;_0x122dcb[_0x5b9c90(0x270)](_0x5edce1=>{const _0xc71c8e=_0x5b9c90;if(Math[_0xc71c8e(0x285)](_0x4e0bb4[_0xc71c8e(0x1f1)],_0x5edce1['start'])<Math['min'](_0x4e0bb4[_0xc71c8e(0x1df)],_0x5edce1['end'])&&_0x5edce1[_0xc71c8e(0x1c4)]>_0x29dd32)_0x29dd32=_0x5edce1[_0xc71c8e(0x1c4)];});const _0x5ea9d1=_0x29dd32+0x1,_0x393cef=0x64/_0x5ea9d1,_0x17b0f5=_0x4e0bb4[_0x5b9c90(0x1c4)]*_0x393cef,_0x495bfe=document[_0x5b9c90(0x21e)](_0x5b9c90(0x215)),_0x507c1f=_0x4e0bb4[_0x5b9c90(0x1f4)];let _0x378a38=_0x5b9c90(0x1db);if(clients&&clients['length']>0x0){const _0x3f912b=clients[_0x5b9c90(0x1b5)](_0x54bee4=>String(_0x54bee4['id'])===String(_0x507c1f['clientId']));if(_0x3f912b&&_0x3f912b[_0x5b9c90(0x1ea)])_0x378a38=_0x3f912b[_0x5b9c90(0x1ea)];}const _0x12bda1=_0x507c1f[_0x5b9c90(0x25e)]===_0x5b9c90(0x1a8),_0x2d2bb9=_0x12bda1?0x1:0.45;_0x495bfe['className']=_0x5b9c90(0x1c0)+(_0x12bda1?'\x20status-completed':''),_0x495bfe[_0x5b9c90(0x1fb)][_0x5b9c90(0x286)]=hexToRgba(_0x378a38,_0x2d2bb9),_0x495bfe[_0x5b9c90(0x1fb)][_0x5b9c90(0x272)]=_0x378a38;const _0x3dd0c5=_0x4e0bb4[_0x5b9c90(0x1f1)]/0x3c*GRID_H,_0x32638f=(_0x4e0bb4['end']-_0x4e0bb4['start'])/0x3c*GRID_H;_0x495bfe[_0x5b9c90(0x1fb)][_0x5b9c90(0x1c8)]=_0x3dd0c5+'px',_0x495bfe['style'][_0x5b9c90(0x297)]=Math[_0x5b9c90(0x285)](_0x32638f,0x14)+'px',_0x495bfe['style'][_0x5b9c90(0x292)]=_0x5b9c90(0x1c9)+_0x393cef+_0x5b9c90(0x261),_0x495bfe[_0x5b9c90(0x1fb)]['left']='calc('+_0x17b0f5+_0x5b9c90(0x254),_0x495bfe[_0x5b9c90(0x1fb)][_0x5b9c90(0x1a6)]=0xa+_0x4e0bb4[_0x5b9c90(0x1c4)];if(_0x393cef<0x55)_0x495bfe[_0x5b9c90(0x20e)][_0x5b9c90(0x1aa)](_0x5b9c90(0x28d));let _0x456d60='';if(_0x507c1f[_0x5b9c90(0x25b)])_0x456d60+=_0x5b9c90(0x1e5);if(_0x12bda1)_0x456d60+=_0x5b9c90(0x28a);_0x495bfe[_0x5b9c90(0x203)]=_0x5b9c90(0x207)+_0x507c1f[_0x5b9c90(0x1f1)]+_0x5b9c90(0x211)+_0x507c1f[_0x5b9c90(0x1df)]+_0x5b9c90(0x1be)+_0x456d60+_0x5b9c90(0x1f7),_0x495bfe[_0x5b9c90(0x245)]=_0x3b772a=>{const _0x11b800=_0x5b9c90;_0x3b772a[_0x11b800(0x257)](),openDetails(_0x507c1f);},_0x46ba88[_0x5b9c90(0x250)](_0x495bfe);});}function openAnalytics(){const _0x85a8ea=a3_0x181753,_0xfa7e34=document['querySelector'](_0x85a8ea(0x235));setAnalyticsPeriod(_0x85a8ea(0x22f),_0xfa7e34),openSheet(_0x85a8ea(0x1d2));}function setAnalyticsPeriod(_0xb936d9,_0x54d662){const _0x1c2ab7=a3_0x181753;currentAnPeriod=_0xb936d9,document['querySelectorAll'](_0x1c2ab7(0x235))[_0x1c2ab7(0x270)](_0x482509=>_0x482509[_0x1c2ab7(0x20e)]['remove'](_0x1c2ab7(0x1cf)));if(_0x54d662)_0x54d662['classList'][_0x1c2ab7(0x1aa)](_0x1c2ab7(0x1cf));const _0x41d0da=document[_0x1c2ab7(0x227)]('anCustomDates');_0x41d0da[_0x1c2ab7(0x1fb)][_0x1c2ab7(0x231)]=_0xb936d9===_0x1c2ab7(0x226)?_0x1c2ab7(0x1ff):_0x1c2ab7(0x1e7);const _0x487acc=new Date();let _0x1b3c32=new Date(),_0x2c71a0=new Date();if(_0xb936d9===_0x1c2ab7(0x22f))_0x1b3c32=getStartOfWeek(_0x487acc),_0x2c71a0=new Date(_0x1b3c32),_0x2c71a0['setDate'](_0x2c71a0[_0x1c2ab7(0x289)]()+0x6);else{if(_0xb936d9===_0x1c2ab7(0x20c))_0x1b3c32=new Date(_0x487acc[_0x1c2ab7(0x24b)](),_0x487acc['getMonth'](),0x1),_0x2c71a0=new Date(_0x487acc[_0x1c2ab7(0x24b)](),_0x487acc[_0x1c2ab7(0x1ee)]()+0x1,0x0);else{!document['getElementById'](_0x1c2ab7(0x27b))[_0x1c2ab7(0x1ca)]&&(document[_0x1c2ab7(0x227)](_0x1c2ab7(0x27b))['value']=getLocalDateStr(_0x487acc),document[_0x1c2ab7(0x227)](_0x1c2ab7(0x239))[_0x1c2ab7(0x1ca)]=getLocalDateStr(_0x487acc));refreshAnalytics();return;}}document[_0x1c2ab7(0x227)]('anStart')['value']=getLocalDateStr(_0x1b3c32),document[_0x1c2ab7(0x227)](_0x1c2ab7(0x239))[_0x1c2ab7(0x1ca)]=getLocalDateStr(_0x2c71a0),refreshAnalytics();}function refreshAnalytics(){const _0x10864c=a3_0x181753,_0x5a41f5=document['getElementById'](_0x10864c(0x27b))[_0x10864c(0x1ca)],_0x55c609=document['getElementById'](_0x10864c(0x239))[_0x10864c(0x1ca)];if(!_0x5a41f5||!_0x55c609)return;const _0x295c67=sessions['filter'](_0x33eec8=>_0x33eec8[_0x10864c(0x1dc)]>=_0x5a41f5&&_0x33eec8[_0x10864c(0x1dc)]<=_0x55c609&&_0x33eec8[_0x10864c(0x25e)]!==_0x10864c(0x29a)),_0x365d08=_0x295c67[_0x10864c(0x26a)],_0x2343f2=_0x295c67['filter'](_0x7984b=>_0x7984b[_0x10864c(0x25e)]===_0x10864c(0x1a8))[_0x10864c(0x26a)],_0x3a55f5=_0x365d08>0x0?Math[_0x10864c(0x1ac)](_0x2343f2/_0x365d08*0x64):0x0;document[_0x10864c(0x227)](_0x10864c(0x28c))[_0x10864c(0x1d1)]=_0x3a55f5+'%',document[_0x10864c(0x227)](_0x10864c(0x293))[_0x10864c(0x1d1)]=_0x2343f2+_0x10864c(0x24a)+_0x365d08+_0x10864c(0x1b0);const _0x11483a=document[_0x10864c(0x227)](_0x10864c(0x1fc)),_0x4f0473=0x2*Math['PI']*0x23,_0x4fbbe4=_0x4f0473-_0x3a55f5/0x64*_0x4f0473;_0x11483a[_0x10864c(0x1fb)][_0x10864c(0x1bd)]=_0x4fbbe4;const _0x255465={};_0x295c67[_0x10864c(0x270)](_0x34df75=>{const _0x57291d=_0x10864c,_0x398756=_0x34df75[_0x57291d(0x24f)]||'Unknown';if(!_0x255465[_0x398756]){const _0x4d3c00='#'+_0x398756['toString']()[_0x57291d(0x1de)](0x0,0x6);_0x255465[_0x398756]={'total':0x0,'done':0x0,'color':_0x4d3c00};}_0x255465[_0x398756][_0x57291d(0x273)]++;if(_0x34df75[_0x57291d(0x25e)]===_0x57291d(0x1a8))_0x255465[_0x398756][_0x57291d(0x1f6)]++;});const _0x48dd34=document[_0x10864c(0x227)](_0x10864c(0x1c6));_0x48dd34['innerHTML']='';const _0x632ad0=Object[_0x10864c(0x276)](_0x255465)[_0x10864c(0x264)]((_0xd5a9a6,_0x17a946)=>_0x17a946[0x1][_0x10864c(0x273)]-_0xd5a9a6[0x1][_0x10864c(0x273)]);if(_0x632ad0[_0x10864c(0x26a)]===0x0){_0x48dd34['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x632ad0[_0x10864c(0x270)](([_0x50a47f,_0x1cd5a6])=>{const _0x2372eb=_0x10864c,_0xfbb5b9=Math[_0x2372eb(0x1ac)](_0x1cd5a6[_0x2372eb(0x1f6)]/_0x1cd5a6[_0x2372eb(0x273)]*0x64),_0x244ffd=document[_0x2372eb(0x21e)](_0x2372eb(0x215));_0x244ffd['className']=_0x2372eb(0x1ae),_0x244ffd[_0x2372eb(0x1fb)][_0x2372eb(0x272)]=_0x1cd5a6['color'],_0x244ffd[_0x2372eb(0x203)]=_0x2372eb(0x1cd)+_0x50a47f[_0x2372eb(0x1de)](0x0,0x5)+_0x2372eb(0x23e)+_0x1cd5a6[_0x2372eb(0x1f6)]+_0x2372eb(0x299)+_0x1cd5a6[_0x2372eb(0x273)]+_0x2372eb(0x1bf)+_0xfbb5b9+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x48dd34[_0x2372eb(0x250)](_0x244ffd);});}function openDetails(_0x1fb7fb){const _0x4e8f74=a3_0x181753;currentSession=_0x1fb7fb;const _0x52153f=new Date(_0x1fb7fb['dateStr']),_0x54631c=_0x52153f[_0x4e8f74(0x221)]('ru-RU',{'weekday':'long','day':'numeric','month':'long'});document[_0x4e8f74(0x227)](_0x4e8f74(0x1d4))[_0x4e8f74(0x1d1)]=_0x54631c[_0x4e8f74(0x20d)](0x0)['toUpperCase']()+_0x54631c['slice'](0x1),document[_0x4e8f74(0x227)](_0x4e8f74(0x274))[_0x4e8f74(0x1d1)]=_0x1fb7fb[_0x4e8f74(0x1f1)]+_0x4e8f74(0x211)+_0x1fb7fb[_0x4e8f74(0x1df)],document[_0x4e8f74(0x227)](_0x4e8f74(0x23c))[_0x4e8f74(0x1d1)]=_0x1fb7fb[_0x4e8f74(0x1fa)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x55067a=document[_0x4e8f74(0x227)]('detStatus'),_0xe8e04f=document[_0x4e8f74(0x227)](_0x4e8f74(0x24e)),_0x243aec=_0xe8e04f[_0x4e8f74(0x1d5)](_0x4e8f74(0x27f)),_0x3089f8=_0xe8e04f['querySelector'](_0x4e8f74(0x1bb)),_0xa44171=document[_0x4e8f74(0x227)]('cancelHint');if(_0x1fb7fb[_0x4e8f74(0x25e)]==='completed')_0x55067a[_0x4e8f74(0x1d1)]=_0x4e8f74(0x29b),_0x55067a[_0x4e8f74(0x1fb)]['color']=_0x4e8f74(0x1c1),_0xe8e04f[_0x4e8f74(0x1fb)][_0x4e8f74(0x231)]=_0x4e8f74(0x1e7);else{_0x55067a[_0x4e8f74(0x1d1)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x55067a[_0x4e8f74(0x1fb)]['color']=_0x4e8f74(0x26b),_0xe8e04f['style'][_0x4e8f74(0x231)]=_0x4e8f74(0x204);const _0xf72e2=new Date(_0x1fb7fb['dateStr']+'T'+_0x1fb7fb[_0x4e8f74(0x1f1)]),_0x4b8d37=new Date(),_0x4b1cf5=(_0xf72e2-_0x4b8d37)/(0x3e8*0x3c*0x3c),_0x1fade9=coachProfiles[_0x1fb7fb[_0x4e8f74(0x24f)]]&&coachProfiles[_0x1fb7fb['coachId']][_0x4e8f74(0x1b7)]?parseInt(coachProfiles[_0x1fb7fb['coachId']][_0x4e8f74(0x1b7)]):0x18;if(_0x1fade9===0x0||_0x4b1cf5>=_0x1fade9)_0x243aec[_0x4e8f74(0x1fb)][_0x4e8f74(0x231)]=_0x4e8f74(0x204),_0x3089f8[_0x4e8f74(0x1fb)][_0x4e8f74(0x231)]=_0x4e8f74(0x204),_0xa44171['style'][_0x4e8f74(0x231)]=_0x4e8f74(0x1e7);else{_0x243aec['style'][_0x4e8f74(0x231)]=_0x4e8f74(0x1e7),_0x3089f8['style'][_0x4e8f74(0x231)]=_0x4e8f74(0x1e7),_0xa44171[_0x4e8f74(0x1fb)][_0x4e8f74(0x231)]=_0x4e8f74(0x204);let _0x3dc365=_0x1fade9===0x0?_0x4e8f74(0x236):'–∑–∞\x20'+_0x1fade9+'\x20—á.';_0xa44171[_0x4e8f74(0x1d1)]=_0x4e8f74(0x238)+_0x3dc365+_0x4e8f74(0x1ed);}}document['getElementById'](_0x4e8f74(0x253))[_0x4e8f74(0x20e)][_0x4e8f74(0x1aa)](_0x4e8f74(0x1cf)),document[_0x4e8f74(0x227)]('detailsSheet')[_0x4e8f74(0x20e)][_0x4e8f74(0x1aa)]('open');}function closeAllSheets(){const _0x389fac=a3_0x181753;document[_0x389fac(0x227)](_0x389fac(0x253))['classList'][_0x389fac(0x223)](_0x389fac(0x1cf)),document[_0x389fac(0x260)](_0x389fac(0x219))[_0x389fac(0x270)](_0x3f2c76=>_0x3f2c76['classList'][_0x389fac(0x223)](_0x389fac(0x258)));}function openSheet(_0x8c06f6){const _0x21c84d=a3_0x181753;document[_0x21c84d(0x227)](_0x21c84d(0x253))[_0x21c84d(0x20e)][_0x21c84d(0x1aa)](_0x21c84d(0x1cf)),document['getElementById'](_0x8c06f6)['classList'][_0x21c84d(0x1aa)](_0x21c84d(0x258));}function getLocalDateStr(_0xf33f18){const _0x54bf68=a3_0x181753,_0x35c2fb=_0xf33f18['getFullYear'](),_0x144704=String(_0xf33f18[_0x54bf68(0x1ee)]()+0x1)['padStart'](0x2,'0'),_0x27cd34=String(_0xf33f18['getDate']())[_0x54bf68(0x1c3)](0x2,'0');return _0x35c2fb+'-'+_0x144704+'-'+_0x27cd34;}function getStartOfWeek(_0xbcdc00){const _0x49baf0=a3_0x181753,_0xde233d=new Date(_0xbcdc00),_0x4d186d=_0xde233d[_0x49baf0(0x249)](),_0x50fd5b=_0xde233d[_0x49baf0(0x289)]()-_0x4d186d+(_0x4d186d===0x0?-0x6:0x1);return _0xde233d[_0x49baf0(0x23a)](_0x50fd5b),_0xde233d[_0x49baf0(0x214)](0x0,0x0,0x0,0x0),_0xde233d;}function scrollToToday(){const _0x230493=getLocalDateStr(new Date());setTimeout(()=>{const _0x167226=a3_0x51da,_0x38f5f2=document[_0x167226(0x1d5)](_0x167226(0x1e6)+_0x230493+'\x22]');if(_0x38f5f2){const _0x4bae6e=document['getElementById'](_0x167226(0x21a)),_0x33d32c=_0x38f5f2[_0x167226(0x1e3)]-_0x4bae6e[_0x167226(0x1a9)]/0x2+_0x38f5f2[_0x167226(0x24d)]/0x2;_0x4bae6e[_0x167226(0x212)]({'left':_0x33d32c,'behavior':_0x167226(0x294)}),_0x4bae6e[_0x167226(0x233)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xd0e59f=a3_0x181753,_0x287ea5=new Date(),_0x16df1e=document['getElementById'](_0xd0e59f(0x265)),_0x33baf8=document[_0xd0e59f(0x227)](_0xd0e59f(0x1a2)),_0x371604=(_0x287ea5[_0xd0e59f(0x1b3)]()*0x3c+_0x287ea5[_0xd0e59f(0x217)]())/0x3c*GRID_H;_0x16df1e[_0xd0e59f(0x1fb)][_0xd0e59f(0x1c8)]=_0x371604+'px',_0x16df1e['style']['display']=_0xd0e59f(0x204),_0x33baf8[_0xd0e59f(0x1fb)][_0xd0e59f(0x1c8)]=_0x371604+'px',_0x33baf8[_0xd0e59f(0x1fb)]['display']='block',_0x33baf8[_0xd0e59f(0x1d1)]=String(_0x287ea5['getHours']())['padStart'](0x2,'0')+':'+String(_0x287ea5[_0xd0e59f(0x217)]())[_0xd0e59f(0x1c3)](0x2,'0');}function onScroll(){const _0x5965a7=a3_0x181753,_0x22d94e=document[_0x5965a7(0x227)]('matrixViewport'),_0x133dc3=document[_0x5965a7(0x260)](_0x5965a7(0x1cb));for(let _0x152e0a of _0x133dc3)if(_0x152e0a[_0x5965a7(0x1e3)]>=_0x22d94e[_0x5965a7(0x278)]){const _0x1f2967=new Date(_0x152e0a[_0x5965a7(0x1e2)](_0x5965a7(0x1d0)));document[_0x5965a7(0x227)](_0x5965a7(0x1ec))[_0x5965a7(0x1d1)]=_0x1f2967['toLocaleString']('ru',{'month':_0x5965a7(0x22a)})[_0x5965a7(0x1e8)]()+'\x20'+_0x1f2967[_0x5965a7(0x24b)]();break;}}function a3_0x51da(_0x1e080e,_0x1ffb20){_0x1e080e=_0x1e080e-0x1a0;const _0x1c6556=a3_0x4c0d();let _0x1e6eba=_0x1c6556[_0x1e080e];return _0x1e6eba;}function showToast(_0x454a10){const _0x2dcf80=a3_0x181753,_0x1ca65f=document[_0x2dcf80(0x227)](_0x2dcf80(0x1e4));_0x1ca65f[_0x2dcf80(0x1d1)]=_0x454a10,_0x1ca65f[_0x2dcf80(0x20e)][_0x2dcf80(0x1aa)](_0x2dcf80(0x1f5)),setTimeout(()=>_0x1ca65f['classList'][_0x2dcf80(0x223)](_0x2dcf80(0x1f5)),0x7d0);}function handleInfiniteScroll(){const _0x57204a=a3_0x181753,_0x374874=document['getElementById'](_0x57204a(0x21a)),_0x241a15=_0x374874['scrollLeft'],_0x114959=_0x374874[_0x57204a(0x1c5)],_0x57ff88=_0x374874[_0x57204a(0x1a9)];if(_0x114959-(_0x241a15+_0x57ff88)<0x12c){const _0x4c6267=endOffset;endOffset+=0xe,renderDayRange(_0x4c6267+0x1,endOffset),reRenderBlocks();}if(_0x241a15<0x12c){const _0x49ec0a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x49ec0a-0x1),_0x374874[_0x57204a(0x278)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x246ffb,_0x57a91c){const _0x420953=a3_0x181753,_0x2c4233=document[_0x420953(0x227)]('daysHeaderTrack'),_0x243213=document['getElementById'](_0x420953(0x1eb)),_0x38b530=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x16bee8=new Date();_0x16bee8[_0x420953(0x214)](0x0,0x0,0x0,0x0);const _0x13b2e7=getLocalDateStr(new Date()),_0x2cfa27=document[_0x420953(0x210)](),_0x417891=document[_0x420953(0x210)]();for(let _0x15ed89=_0x246ffb;_0x15ed89<=_0x57a91c;_0x15ed89++){const _0x46e501=new Date(_0x16bee8);_0x46e501[_0x420953(0x23a)](_0x46e501[_0x420953(0x289)]()+_0x15ed89);const _0x4371ef=getLocalDateStr(_0x46e501);let _0x244471=_0x46e501[_0x420953(0x249)]()-0x1;if(_0x244471===-0x1)_0x244471=0x6;const _0x56a84c=_0x4371ef===_0x13b2e7,_0x4c79f9=document[_0x420953(0x21e)](_0x420953(0x215));_0x4c79f9[_0x420953(0x208)]=_0x420953(0x21d)+(_0x56a84c?_0x420953(0x225):''),_0x4c79f9[_0x420953(0x1cc)](_0x420953(0x1d0),_0x4371ef),_0x4c79f9[_0x420953(0x203)]=_0x420953(0x269)+_0x38b530[_0x244471]+'</div><div\x20class=\x22dch-num\x22>'+_0x46e501[_0x420953(0x289)]()+_0x420953(0x232),_0x2cfa27['appendChild'](_0x4c79f9);const _0x42bf4a=document[_0x420953(0x21e)](_0x420953(0x215));_0x42bf4a[_0x420953(0x208)]='day-column\x20'+(_0x56a84c?_0x420953(0x225):''),_0x42bf4a[_0x420953(0x1cc)](_0x420953(0x1d0),_0x4371ef),_0x42bf4a[_0x420953(0x1cc)](_0x420953(0x21b),_0x244471),_0x417891['appendChild'](_0x42bf4a);}_0x2c4233[_0x420953(0x230)](_0x2cfa27,_0x2c4233['firstChild']),_0x243213[_0x420953(0x230)](_0x417891,_0x243213[_0x420953(0x1d5)](_0x420953(0x21f)));}function hexToRgba(_0xe1e7f,_0x450aa0){const _0x1a6618=a3_0x181753;let _0x316cb4;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1a6618(0x216)](_0xe1e7f))return _0x316cb4=_0xe1e7f['substring'](0x1)[_0x1a6618(0x1fe)](''),_0x316cb4[_0x1a6618(0x26a)]==0x3&&(_0x316cb4=[_0x316cb4[0x0],_0x316cb4[0x0],_0x316cb4[0x1],_0x316cb4[0x1],_0x316cb4[0x2],_0x316cb4[0x2]]),_0x316cb4='0x'+_0x316cb4[_0x1a6618(0x291)](''),'rgba('+[_0x316cb4>>0x10&0xff,_0x316cb4>>0x8&0xff,_0x316cb4&0xff]['join'](',')+','+_0x450aa0+')';return'rgba(10,\x20132,\x20255,\x20'+_0x450aa0+')';}let confirmResolver=null;function showCustomConfirm(_0x520e42,_0x5012be,_0x76b4c6=!![]){const _0x2a522b=a3_0x181753;document['getElementById'](_0x2a522b(0x26d))[_0x2a522b(0x1d1)]=_0x520e42,document[_0x2a522b(0x227)](_0x2a522b(0x298))[_0x2a522b(0x1d1)]=_0x5012be;const _0x5d7213=document[_0x2a522b(0x227)](_0x2a522b(0x1f0));return _0x76b4c6?(_0x5d7213[_0x2a522b(0x1fb)][_0x2a522b(0x1ea)]=_0x2a522b(0x263),_0x5d7213[_0x2a522b(0x1fb)][_0x2a522b(0x27d)]=_0x2a522b(0x282)):(_0x5d7213[_0x2a522b(0x1fb)]['color']=_0x2a522b(0x1db),_0x5d7213['style'][_0x2a522b(0x27d)]=_0x2a522b(0x282)),new Promise(_0x56b989=>{const _0x416b61=_0x2a522b;confirmResolver=_0x56b989,document[_0x416b61(0x227)]('customConfirm')[_0x416b61(0x20e)][_0x416b61(0x1aa)]('visible');});}function resolveCustomConfirm(_0x470037){const _0x1ba387=a3_0x181753;document[_0x1ba387(0x227)](_0x1ba387(0x251))[_0x1ba387(0x20e)]['remove'](_0x1ba387(0x29d));if(confirmResolver)confirmResolver(_0x470037);}function a3_0x4c0d(){const _0x16dde0=['event-card','var(--acc-green)','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','padStart','colIndex','scrollWidth','analyticsList','disableVerticalSwipes','top','calc(','value','.day-col-header','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','294qfIUCR','active','data-date','textContent','analyticsSheet','detailsSheet','detDate','querySelector','constructor','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','saveLocally','setItem','–û—Ç–º–µ–Ω–µ–Ω–æ','#0a84ff','dateStr','getTime','substr','end','applyData','4187817syYwdo','getAttribute','offsetLeft','toast','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.day-col-header[data-date=\x22','none','toUpperCase','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','color','gridColumns','headerMonth','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','getMonth','</div><div\x20class=\x22rs-day-num\x22>','ccYesBtn','start','daysHeaderTrack','10hDSBfE','data','show','done','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22dch-num\x22>','pattern','note','style','anDonutCircle','uc_client_settings','split','flex','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','search','1WAZrRr','innerHTML','block','DOMContentLoaded','backgroundPosition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','className','3765296phnjDu','rsSlotsGrid','781324IghcrI','month','charAt','classList','rsDatesTrack','createDocumentFragment','\x20-\x20','scrollTo','px\x200px','setHours','div','test','getMinutes','58086boNnwk','.sheet','matrixViewport','data-day-idx','v9.5-CLIENT-ANALYTICS','day-col-header\x20','createElement','.day-column','now','toLocaleDateString','WebApp','remove','(((.+)+)+)+$','today','custom','getElementById','json','1365801knlpfM','long','log','#050505','initData','rescheduleSheet','week','insertBefore','display','</div>','scrollTop','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','.period-switch\x20.p-btn','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','Error\x20setting\x20back\x20button:','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','anEnd','setDate','time-label','detNote','ru-RU','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','findIndex','settings','POST',':00</span>','blocked-slot\x20stripe-bg','BackButton','onclick','initDataUnsafe','314245Otroar','<span>','getDay','\x20–∏–∑\x20','getFullYear','all','offsetWidth','cancelContainer','coachId','appendChild','customConfirm','parse','overlay','%\x20+\x202px)','24fLxEFs','coach_profiles','stopPropagation','open','reschedule','\x20–≤\x20','seriesId','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','13371644cErXIC','status','<div\x20class=\x22rs-day-name\x22>','querySelectorAll','%\x20-\x204px)','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','#ff453a','sort','globalTimeLine','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','offClick','uc_client_list','<div\x20class=\x22dch-day\x22>','length','var(--acc-blue)','timeColumn','ccTitle','exceptions','map','forEach','day-column\x20','borderLeftColor','total','detTime','floor','entries','px\x20-','scrollLeft','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','clients','anStart','keys','fontWeight','href','.btn-cancel','scroll','syncLoad','600','loadLocal','Critical\x20TMA\x20Error:','max','backgroundColor','setBackgroundColor','stringify','getDate','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','then','anPercent','mini','day-off-overlay\x20stripe-bg','cid','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','join','width','anTotalStats','auto','calendar','firstChild','height','ccText','</span>\x20/\x20','cancelled','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','.rs-date-chip','visible','button','apply','Telegram','timeLineBadge','getItem','addEventListener','isArray','zIndex','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','completed','clientWidth','add','rs-time-btn','round','setHeaderColor','client-stat-card','filter','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Error\x20setting\x20color:','toString','getHours','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','find','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cancel_window','ranges','user','client_load','.btn-reschedule','push','strokeDashoffset','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'];a3_0x4c0d=function(){return _0x16dde0;};return a3_0x4c0d();}async function tryCancelCurrentSession(){const _0x1325f2=a3_0x181753;if(!currentSession)return;const _0x19a24a=await showCustomConfirm(_0x1325f2(0x1c2),_0x1325f2(0x200),!![]);if(!_0x19a24a)return;const _0x2093bf=currentSession;closeAllSheets(),sessions=sessions[_0x1325f2(0x1af)](_0x2c8233=>_0x2c8233['id']!==_0x2093bf['id']),reRenderBlocks(),showToast(_0x1325f2(0x1da)),lastUserActionTime=Date[_0x1325f2(0x220)]();try{const _0x3e87cf=window[_0x1325f2(0x1a1)]?.[_0x1325f2(0x222)],_0x25f261=await fetch(API_URL,{'method':'POST','body':JSON[_0x1325f2(0x288)]({'action':'client_cancel','init_data':_0x3e87cf?.[_0x1325f2(0x22d)]||'','coachId':_0x2093bf[_0x1325f2(0x24f)],'dateStr':_0x2093bf[_0x1325f2(0x1dc)],'sessionId':_0x2093bf['id']})});if(_0x25f261['ok'])DataManager[_0x1325f2(0x1d8)]();}catch(_0x26f3c2){showToast(_0x1325f2(0x1b6));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x50e9c8=a3_0x181753;if(!currentSession)return;document[_0x50e9c8(0x227)](_0x50e9c8(0x1d3))['classList']['remove'](_0x50e9c8(0x258)),document[_0x50e9c8(0x227)](_0x50e9c8(0x22e))['classList'][_0x50e9c8(0x1aa)](_0x50e9c8(0x258));const _0x53e318=document[_0x50e9c8(0x227)](_0x50e9c8(0x20f)),_0x1ed371=document['getElementById'](_0x50e9c8(0x20a));_0x53e318[_0x50e9c8(0x203)]='',_0x1ed371[_0x50e9c8(0x203)]=_0x50e9c8(0x266);const [_0x1633dd,_0x23200e]=currentSession[_0x50e9c8(0x1f1)][_0x50e9c8(0x1fe)](':')['map'](Number),[_0x101c0c,_0x4fab9a]=currentSession[_0x50e9c8(0x1df)][_0x50e9c8(0x1fe)](':')[_0x50e9c8(0x26f)](Number),_0xd8341c=_0x101c0c*0x3c+_0x4fab9a-(_0x1633dd*0x3c+_0x23200e);try{const _0x184fcb=window['Telegram']?.[_0x50e9c8(0x222)],_0x5bda85=await fetch(API_URL,{'method':_0x50e9c8(0x241),'body':JSON[_0x50e9c8(0x288)]({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0xd8341c,'init_data':_0x184fcb?.[_0x50e9c8(0x22d)]||'','excludeSessionId':currentSession['id']})}),_0x4c407e=await _0x5bda85[_0x50e9c8(0x228)]();_0x4c407e['ok']&&_0x4c407e[_0x50e9c8(0x1f4)]?(availableSlotsCache=_0x4c407e['data'],renderRescheduleDates()):_0x1ed371[_0x50e9c8(0x203)]=_0x50e9c8(0x1e9);}catch(_0x3ea8a5){_0x1ed371[_0x50e9c8(0x203)]=_0x50e9c8(0x262);}}function renderRescheduleDates(){const _0x6be0b8=a3_0x181753,_0x21a2f0=document[_0x6be0b8(0x227)](_0x6be0b8(0x20f));_0x21a2f0[_0x6be0b8(0x203)]='';const _0x4864c4=Object['keys'](availableSlotsCache)[_0x6be0b8(0x264)](),_0x88ce71=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4864c4[_0x6be0b8(0x26a)]===0x0){document['getElementById'](_0x6be0b8(0x20a))['innerHTML']=_0x6be0b8(0x290);return;}_0x4864c4[_0x6be0b8(0x270)]((_0x579d67,_0x411888)=>{const _0x3c43e2=_0x6be0b8,_0x1d0fae=new Date(_0x579d67),_0x3c9cee=_0x88ce71[_0x1d0fae[_0x3c43e2(0x249)]()],_0x25ecc3=_0x1d0fae[_0x3c43e2(0x289)](),_0x404c81=document[_0x3c43e2(0x21e)](_0x3c43e2(0x215));_0x404c81[_0x3c43e2(0x208)]='rs-date-chip';if(_0x411888===0x0)_0x404c81[_0x3c43e2(0x20e)]['add']('active');_0x404c81[_0x3c43e2(0x203)]=_0x3c43e2(0x25f)+_0x3c9cee+_0x3c43e2(0x1ef)+_0x25ecc3+_0x3c43e2(0x232),_0x404c81[_0x3c43e2(0x245)]=()=>selectRsDate(_0x579d67,_0x404c81),_0x21a2f0[_0x3c43e2(0x250)](_0x404c81);}),selectRsDate(_0x4864c4[0x0],_0x21a2f0[_0x6be0b8(0x296)]);}function selectRsDate(_0x1b4dff,_0x142418){const _0x94fb19=a3_0x181753;selectedRsDate=_0x1b4dff,document[_0x94fb19(0x260)](_0x94fb19(0x29c))[_0x94fb19(0x270)](_0x5253b6=>_0x5253b6[_0x94fb19(0x20e)][_0x94fb19(0x223)](_0x94fb19(0x1cf)));if(_0x142418)_0x142418[_0x94fb19(0x20e)]['add'](_0x94fb19(0x1cf));const _0x49adda=document['getElementById']('rsSlotsGrid');_0x49adda[_0x94fb19(0x203)]='';const _0x37d4ee=availableSlotsCache[_0x1b4dff]||[];if(_0x37d4ee[_0x94fb19(0x26a)]===0x0){_0x49adda[_0x94fb19(0x203)]=_0x94fb19(0x1e9);return;}_0x37d4ee[_0x94fb19(0x270)](_0x3f6351=>{const _0x3d009f=_0x94fb19,_0x5a0001=document['createElement'](_0x3d009f(0x29e));_0x5a0001[_0x3d009f(0x208)]=_0x3d009f(0x1ab),_0x5a0001[_0x3d009f(0x1d1)]=_0x3f6351,_0x5a0001[_0x3d009f(0x245)]=()=>confirmReschedule(_0x3f6351),_0x49adda[_0x3d009f(0x250)](_0x5a0001);});}async function confirmReschedule(_0x454742){const _0x85c525=a3_0x181753,_0x14c81c=new Date(selectedRsDate),_0x4acf29=_0x14c81c[_0x85c525(0x221)](_0x85c525(0x23d),{'day':'numeric','month':_0x85c525(0x22a)}),_0x3067be=await showCustomConfirm(_0x85c525(0x234),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x4acf29+_0x85c525(0x25a)+_0x454742+'?',![]);if(!_0x3067be)return;closeAllSheets(),showToast(_0x85c525(0x25c)),lastUserActionTime=Date[_0x85c525(0x220)]();const _0x5428ae=currentSession[_0x85c525(0x1dc)],_0x441676=currentSession['id'],[_0x30fe30,_0x4cada7]=currentSession[_0x85c525(0x1f1)]['split'](':')[_0x85c525(0x26f)](Number),[_0x2eb6e1,_0x31519e]=currentSession[_0x85c525(0x1df)][_0x85c525(0x1fe)](':')['map'](Number),_0x2f003d=_0x2eb6e1*0x3c+_0x31519e-(_0x30fe30*0x3c+_0x4cada7),[_0x286d90,_0x2d25e0]=_0x454742[_0x85c525(0x1fe)](':')['map'](Number),_0x53be25=_0x286d90*0x3c+_0x2d25e0+_0x2f003d,_0x4038d1=Math[_0x85c525(0x275)](_0x53be25/0x3c),_0x41acfd=_0x53be25%0x3c,_0x1d46a3=String(_0x4038d1)[_0x85c525(0x1c3)](0x2,'0')+':'+String(_0x41acfd)[_0x85c525(0x1c3)](0x2,'0'),_0x28c01f=sessions[_0x85c525(0x23f)](_0x106846=>_0x106846['id']===_0x441676);_0x28c01f!==-0x1&&(sessions[_0x28c01f][_0x85c525(0x1dc)]=selectedRsDate,sessions[_0x28c01f][_0x85c525(0x1f1)]=_0x454742,sessions[_0x28c01f][_0x85c525(0x1df)]=_0x1d46a3,reRenderBlocks());try{const _0x55c65e=window[_0x85c525(0x1a1)]?.[_0x85c525(0x222)],_0x2efc77=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x85c525(0x259),'init_data':_0x55c65e?.[_0x85c525(0x22d)]||'','oldSessionId':_0x441676,'oldDate':_0x5428ae,'newDate':selectedRsDate,'newTime':_0x454742,'coachId':currentSession['coachId']})}),_0x4416d7=await _0x2efc77[_0x85c525(0x228)]();!_0x4416d7['ok']?(showToast(_0x85c525(0x1a7)),DataManager[_0x85c525(0x281)]()):(showToast(_0x85c525(0x279)),DataManager[_0x85c525(0x1d8)]());}catch(_0x47917f){showToast(_0x85c525(0x1b6));}}document[a3_0x181753(0x1a4)](a3_0x181753(0x205),init);