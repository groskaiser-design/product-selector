const a3_0x8f0e33=a3_0x1b34;(function(_0x134b18,_0x420f80){const _0xd0d9e5=a3_0x1b34,_0x3fc8d6=_0x134b18();while(!![]){try{const _0x38e9ee=-parseInt(_0xd0d9e5(0x1af))/0x1*(-parseInt(_0xd0d9e5(0x1c4))/0x2)+-parseInt(_0xd0d9e5(0x1ea))/0x3*(-parseInt(_0xd0d9e5(0x144))/0x4)+-parseInt(_0xd0d9e5(0x1fd))/0x5+-parseInt(_0xd0d9e5(0x10b))/0x6+-parseInt(_0xd0d9e5(0x122))/0x7*(parseInt(_0xd0d9e5(0x1c5))/0x8)+-parseInt(_0xd0d9e5(0x1cb))/0x9+-parseInt(_0xd0d9e5(0x138))/0xa*(-parseInt(_0xd0d9e5(0x18e))/0xb);if(_0x38e9ee===_0x420f80)break;else _0x3fc8d6['push'](_0x3fc8d6['shift']());}catch(_0x41e9c2){_0x3fc8d6['push'](_0x3fc8d6['shift']());}}}(a3_0xf2fc,0xdfd52));const APP_VERSION=a3_0x8f0e33(0x16f),API_URL=a3_0x8f0e33(0x185),GRID_H=0x3c,KEY_SESSIONS=a3_0x8f0e33(0x163),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x8f0e33(0x112);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x8f0e33(0x1c2),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x21a09c=a3_0x8f0e33,_0x4dfc6d=(function(){let _0x3c53e0=!![];return function(_0x271dab,_0x2f9592){const _0x359dc3=_0x3c53e0?function(){const _0x54223e=a3_0x1b34;if(_0x2f9592){const _0x3831d0=_0x2f9592[_0x54223e(0x1cc)](_0x271dab,arguments);return _0x2f9592=null,_0x3831d0;}}:function(){};return _0x3c53e0=![],_0x359dc3;};}()),_0x53ab46=_0x4dfc6d(this,function(){const _0x5a7fc7=a3_0x1b34;return _0x53ab46[_0x5a7fc7(0x18f)]()['search'](_0x5a7fc7(0x137))[_0x5a7fc7(0x18f)]()[_0x5a7fc7(0x191)](_0x53ab46)['search']('(((.+)+)+)+$');});_0x53ab46();try{const _0x234495=window[_0x21a09c(0x14c)]?.['WebApp'];if(!_0x234495)return;_0x234495[_0x21a09c(0x141)](),_0x234495['expand']();try{_0x234495[_0x21a09c(0x13e)](_0x21a09c(0x177)),_0x234495[_0x21a09c(0x142)]&&_0x234495['setBackgroundColor'](_0x21a09c(0x177));}catch(_0x1b9f2b){console[_0x21a09c(0x1f0)](_0x21a09c(0x1ec),_0x1b9f2b);}try{_0x234495[_0x21a09c(0x1fa)]&&(_0x234495['BackButton'][_0x21a09c(0x1cf)](),_0x234495[_0x21a09c(0x1fa)]['offClick'](),_0x234495[_0x21a09c(0x1fa)][_0x21a09c(0x1ae)](function(){const _0x55e316=_0x21a09c;window[_0x55e316(0x11c)][_0x55e316(0x161)]='router.html';}));}catch(_0x21e8ce){console[_0x21a09c(0x1f0)](_0x21a09c(0x146),_0x21e8ce);}try{if(_0x234495[_0x21a09c(0x1b8)])_0x234495['disableVerticalSwipes']();}catch(_0x3d22c4){}}catch(_0x1c952c){console[_0x21a09c(0x157)](_0x21a09c(0x199),_0x1c952c);}}());function isAdmin(){const _0x58f744=a3_0x8f0e33;try{const _0xd73f64=Number(window[_0x58f744(0x14c)]?.['WebApp']?.[_0x58f744(0x188)]?.[_0x58f744(0x119)]?.['id']);return _0xd73f64===0xbaf7174;}catch(_0x210d8e){return![];}}const DataManager={'saveLocally'(){const _0x253a11=a3_0x8f0e33;try{localStorage[_0x253a11(0x1bf)](KEY_SESSIONS,JSON[_0x253a11(0x1ce)](sessions)),localStorage[_0x253a11(0x1bf)](KEY_CLIENTS,JSON[_0x253a11(0x1ce)](clients)),localStorage[_0x253a11(0x1bf)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x30ea1a){}},'loadLocal'(){const _0x477d3d=a3_0x8f0e33;try{const _0x399353=localStorage[_0x477d3d(0x1b2)](KEY_SESSIONS);if(_0x399353)sessions=JSON[_0x477d3d(0x16d)](_0x399353);const _0x1e9496=localStorage[_0x477d3d(0x1b2)](KEY_CLIENTS);if(_0x1e9496)clients=JSON[_0x477d3d(0x16d)](_0x1e9496);const _0x5a43ff=localStorage[_0x477d3d(0x1b2)](KEY_SETTINGS);if(_0x5a43ff){const _0x1b1481=JSON[_0x477d3d(0x16d)](_0x5a43ff);if(_0x1b1481[_0x477d3d(0x200)])availabilityPattern=_0x1b1481[_0x477d3d(0x200)];if(_0x1b1481[_0x477d3d(0x1c1)])specialRanges=_0x1b1481[_0x477d3d(0x1c1)];if(_0x1b1481[_0x477d3d(0x1d1)])dateExceptions=_0x1b1481[_0x477d3d(0x1d1)];}}catch(_0x2714bb){}},async 'syncLoad'(){const _0x40c36e=a3_0x8f0e33,_0x5f4fd2=new Date(),_0x25a764=_0x5f4fd2[_0x40c36e(0x151)]()+'-'+String(_0x5f4fd2[_0x40c36e(0x1e0)]()+0x1)[_0x40c36e(0x128)](0x2,'0'),_0x1f6132=new Date(_0x5f4fd2);_0x1f6132['setMonth'](_0x5f4fd2['getMonth']()+0x1);const _0x54bdca=_0x1f6132[_0x40c36e(0x151)]()+'-'+String(_0x1f6132['getMonth']()+0x1)[_0x40c36e(0x128)](0x2,'0'),_0xe936a0=Date['now']();try{const _0x3b9a0d=window[_0x40c36e(0x14c)]?.[_0x40c36e(0x19e)],_0x3d601e=_0x3b9a0d?.['initData']||'',[_0x4da907,_0x4fc762]=await Promise[_0x40c36e(0x173)]([fetch(API_URL,{'method':_0x40c36e(0x126),'body':JSON['stringify']({'action':_0x40c36e(0x1e6),'init_data':_0x3d601e,'month_str':_0x25a764})})[_0x40c36e(0x1e5)](_0x27021b=>_0x27021b[_0x40c36e(0x1e9)]()),fetch(API_URL,{'method':_0x40c36e(0x126),'body':JSON[_0x40c36e(0x1ce)]({'action':'client_load','init_data':_0x3d601e,'month_str':_0x54bdca})})['then'](_0x116544=>_0x116544[_0x40c36e(0x1e9)]())]);if(lastUserActionTime>_0xe936a0){console[_0x40c36e(0x1f0)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x4da907['ok'])this[_0x40c36e(0x120)](_0x4da907[_0x40c36e(0x194)],_0x25a764);if(_0x4fc762['ok'])this[_0x40c36e(0x120)](_0x4fc762[_0x40c36e(0x194)],_0x54bdca);this[_0x40c36e(0x1dc)]();}catch(_0x2e8040){}},'applyData'(_0x5c7f7e,_0x47606d){const _0x120f82=a3_0x8f0e33;if(!_0x5c7f7e)return;if(_0x5c7f7e[_0x120f82(0x184)]){if(_0x5c7f7e[_0x120f82(0x184)][_0x120f82(0x200)])availabilityPattern=_0x5c7f7e[_0x120f82(0x184)][_0x120f82(0x200)];if(_0x5c7f7e[_0x120f82(0x184)]['ranges'])specialRanges=_0x5c7f7e['settings']['ranges'];if(_0x5c7f7e[_0x120f82(0x184)][_0x120f82(0x1d1)])dateExceptions=_0x5c7f7e[_0x120f82(0x184)][_0x120f82(0x1d1)];}if(_0x5c7f7e[_0x120f82(0x17a)]&&Array[_0x120f82(0x162)](_0x5c7f7e['clients']))clients=_0x5c7f7e[_0x120f82(0x17a)];_0x5c7f7e['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5c7f7e[_0x120f82(0x15b)]}),_0x5c7f7e[_0x120f82(0x147)]&&(sessions=sessions[_0x120f82(0x1a5)](_0x3bff55=>!_0x3bff55[_0x120f82(0x1f4)][_0x120f82(0x1fc)](_0x47606d)),Object[_0x120f82(0x1c3)](_0x5c7f7e['calendar'])[_0x120f82(0x1f7)](_0x435298=>{const _0x2c70ed=_0x5c7f7e['calendar'][_0x435298];_0x2c70ed['forEach'](_0x14ac8e=>{const _0xde6b3c=a3_0x1b34;sessions[_0xde6b3c(0x14f)]({'id':_0x14ac8e['i'],'clientId':_0x14ac8e['c'],'coachId':_0x14ac8e[_0xde6b3c(0x166)],'dateStr':_0x47606d+'-'+_0x435298[_0xde6b3c(0x128)](0x2,'0'),'start':_0x14ac8e['s'],'end':_0x14ac8e['e'],'note':_0x14ac8e['n']||'','status':_0x14ac8e['st']||_0xde6b3c(0x10d),'seriesId':_0x14ac8e['sid']});});})),reRenderBlocks();}};function init(){const _0x201d04=a3_0x8f0e33;DataManager[_0x201d04(0x180)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x201d04(0x133),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x201d04(0x114)]();}function a3_0x1b34(_0x21d7ea,_0x284b33){_0x21d7ea=_0x21d7ea-0x105;const _0x4a0bc4=a3_0xf2fc();let _0x33ac63=_0x4a0bc4[_0x21d7ea];return _0x33ac63;}function renderTimeColumn(){const _0x2407fa=a3_0x8f0e33,_0x2aefa5=document[_0x2407fa(0x155)]('timeColumn'),_0x76d0be=document[_0x2407fa(0x155)](_0x2407fa(0x193));_0x2aefa5[_0x2407fa(0x14d)]='',_0x2aefa5[_0x2407fa(0x170)](_0x76d0be);for(let _0x168085=0x0;_0x168085<0x18;_0x168085++){const _0x56fa22=document[_0x2407fa(0x1b9)](_0x2407fa(0x16e));_0x56fa22[_0x2407fa(0x11d)]=_0x2407fa(0x148);if(_0x168085>0x0)_0x56fa22[_0x2407fa(0x14d)]=_0x2407fa(0x18b)+String(_0x168085)[_0x2407fa(0x128)](0x2,'0')+':00</span>';_0x2aefa5['appendChild'](_0x56fa22);}}function a3_0xf2fc(){const _0x313376=['setBackgroundColor','–∑–∞\x20','4672uxbXos','zIndex','Error\x20setting\x20back\x20button:','calendar','time-label','done','setHours','anStart','Telegram','innerHTML','day-column\x20','push','daysHeaderTrack','getFullYear','event-card','T00:00:00','seriesId','getElementById','</div>','error','offsetLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','block','coach_profiles','.day-col-header','</span>\x20/\x20','#ff453a','visible','\x20–∏–∑\x20','href','isArray','uc_client_sessions','scrollTop','colIndex','cid','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-slot\x20stripe-bg','.btn-reschedule','width','find','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','parse','div','v9.5-CLIENT-ANALYTICS','appendChild','start','getAttribute','all','px\x200px','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','max','#050505','note','<div\x20class=\x22dch-day\x22>','clients','split','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','add','createDocumentFragment','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','loadLocal','long','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','min','settings','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20status-completed','today','initDataUnsafe','open','coachId','<span>','insertBefore','cancelHint','7481078CJFsrT','toString','none','constructor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','timeLineBadge','data','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initData','floor','Unknown','Critical\x20TMA\x20Error:','total','scrollWidth','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','day-col-header\x20','WebApp','data-day-idx','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','offsetWidth','ccTitle','anEnd','backgroundColor','filter','headerMonth','day-off-overlay\x20stripe-bg','%\x20-\x204px)','getDay','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rgba(10,\x20132,\x20255,\x20','<div\x20class=\x22rs-day-name\x22>','getHours','onClick','155215VwQGOA','findIndex','anDonutCircle','getItem','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','height','blocked-range-part\x20stripe-bg','cancel_window','.day-col-header[data-date=\x22','disableVerticalSwipes','createElement','classList','fontWeight','end','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','setDate','setItem','rsSlotsGrid','ranges','week','keys','10QQLUKQ','448fmdcKo','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getMinutes','T23:59:59','rs-time-btn','anPercent','3784923nVkMGd','apply','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','stringify','show','rs-date-chip','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-date','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','remove','ccYesBtn','map','scrollLeft','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','analyticsList','entries','saveLocally','var(--acc-green)','–û—Ç–º–µ–Ω–µ–Ω–æ','auto','getMonth','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','color','clientId','cancelContainer','then','client_load','anTotalStats','length','json','4131CTBTFc','substring','Error\x20setting\x20color:','detStatus','join','customConfirm','log','querySelector','.period-switch\x20.p-btn','reschedule','dateStr','detailsSheet','\x20-\x20','forEach','style','getTime','BackButton','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','startsWith','7254265ywvkGs','setAttribute','.day-column','pattern','cancelled','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','slice','numeric','active','top','px\x20-','textContent','borderLeftColor','button','toUpperCase','1576170IrhFNp','value','planned','rsDatesTrack','round','completed','ru-RU','uc_client_list','sort','syncLoad','600','anCustomDates','left','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','user','</div><div\x20class=\x22rs-day-num\x22>','display','location','className','client_cancel','status','applyData','.rs-date-chip','171724sPjgJM','detNote','flex','querySelectorAll','POST','matrixViewport','padStart','gridColumns','clientWidth','test','overlay','rgba(','</div><div\x20class=\x22dch-num\x22>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','toLocaleString','%\x20+\x202px)','scroll','getDate','\x20–≤\x20','analyticsSheet','(((.+)+)+)+$','30gDROmP','backgroundPosition','firstChild','onclick','substr','charAt','setHeaderColor','calc(','now','ready'];a3_0xf2fc=function(){return _0x313376;};return a3_0xf2fc();}function renderDayRange(_0x4319a2,_0x17cee3){const _0x39d7e4=a3_0x8f0e33,_0x58d9ef=document['getElementById'](_0x39d7e4(0x150)),_0x170581=document[_0x39d7e4(0x155)](_0x39d7e4(0x129)),_0x43375c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ab72e=new Date();_0x4ab72e['setHours'](0x0,0x0,0x0,0x0);const _0x173e0c=getLocalDateStr(new Date());for(let _0x2ea2c6=_0x4319a2;_0x2ea2c6<=_0x17cee3;_0x2ea2c6++){const _0x1ac37b=new Date(_0x4ab72e);_0x1ac37b[_0x39d7e4(0x1be)](_0x1ac37b[_0x39d7e4(0x134)]()+_0x2ea2c6);const _0x19c9c4=getLocalDateStr(_0x1ac37b);let _0x23fe32=_0x1ac37b[_0x39d7e4(0x1a9)]()-0x1;if(_0x23fe32===-0x1)_0x23fe32=0x6;const _0x5303fa=_0x19c9c4===_0x173e0c,_0x45b228=document[_0x39d7e4(0x1b9)](_0x39d7e4(0x16e));_0x45b228[_0x39d7e4(0x11d)]=_0x39d7e4(0x19d)+(_0x5303fa?'today':''),_0x45b228[_0x39d7e4(0x1fe)](_0x39d7e4(0x1d3),_0x19c9c4),_0x45b228[_0x39d7e4(0x14d)]=_0x39d7e4(0x179)+_0x43375c[_0x23fe32]+_0x39d7e4(0x12e)+_0x1ac37b[_0x39d7e4(0x134)]()+_0x39d7e4(0x156),_0x58d9ef[_0x39d7e4(0x170)](_0x45b228);const _0x52abad=document['createElement']('div');_0x52abad[_0x39d7e4(0x11d)]=_0x39d7e4(0x14e)+(_0x5303fa?_0x39d7e4(0x187):''),_0x52abad[_0x39d7e4(0x1fe)](_0x39d7e4(0x1d3),_0x19c9c4),_0x52abad['setAttribute'](_0x39d7e4(0x19f),_0x23fe32),_0x170581[_0x39d7e4(0x170)](_0x52abad);}}function reRenderBlocks(){const _0x5c4260=a3_0x8f0e33;document[_0x5c4260(0x125)]('.day-column')[_0x5c4260(0x1f7)](_0x4b6ae4=>{const _0xe4c84e=_0x5c4260;_0x4b6ae4[_0xe4c84e(0x125)](_0xe4c84e(0x16c))[_0xe4c84e(0x1f7)](_0x6b6f37=>_0x6b6f37[_0xe4c84e(0x1d5)]());const _0x338506=_0x4b6ae4[_0xe4c84e(0x172)](_0xe4c84e(0x1d3)),_0x58949e=parseInt(_0x4b6ae4['getAttribute'](_0xe4c84e(0x19f))),_0xf9c6a5=Math[_0xe4c84e(0x10f)](_0x4b6ae4[_0xe4c84e(0x158)]);(availabilityPattern[_0x58949e]||[])['forEach'](_0x2884a4=>{const _0x38186e=_0xe4c84e,_0x399f9b=document[_0x38186e(0x1b9)](_0x38186e(0x16e));_0x399f9b[_0x38186e(0x11d)]=_0x38186e(0x168),_0x399f9b['style'][_0x38186e(0x105)]=_0x2884a4*GRID_H+'px',_0x399f9b[_0x38186e(0x1f8)]['backgroundPosition']='-'+_0xf9c6a5+_0x38186e(0x106)+_0x2884a4*GRID_H+'px',_0x4b6ae4[_0x38186e(0x170)](_0x399f9b);});if(specialRanges[_0xe4c84e(0x1e8)]>0x0){const _0x5660bf=new Date(_0x338506+_0xe4c84e(0x153))[_0xe4c84e(0x1f9)](),_0x29afb1=new Date(_0x338506+_0xe4c84e(0x1c8))[_0xe4c84e(0x1f9)]();specialRanges[_0xe4c84e(0x1f7)](_0xd137f5=>{const _0x52d2f1=_0xe4c84e,_0x3b9765=new Date(_0xd137f5[_0x52d2f1(0x171)])[_0x52d2f1(0x1f9)](),_0x3d077d=new Date(_0xd137f5['end'])[_0x52d2f1(0x1f9)](),_0x125552=Math[_0x52d2f1(0x176)](_0x5660bf,_0x3b9765),_0x53dc5b=Math[_0x52d2f1(0x183)](_0x29afb1,_0x3d077d);if(_0x125552<_0x53dc5b){const _0x4659f6=(_0x125552-_0x5660bf)/0x36ee80*GRID_H,_0x4d73d6=(_0x53dc5b-_0x125552)/0x36ee80*GRID_H,_0x274553=document[_0x52d2f1(0x1b9)]('div');_0x4d73d6>=23.5*GRID_H?(_0x274553[_0x52d2f1(0x11d)]=_0x52d2f1(0x1a7),_0x274553[_0x52d2f1(0x1f8)][_0x52d2f1(0x139)]='-'+_0xf9c6a5+_0x52d2f1(0x174)):(_0x274553[_0x52d2f1(0x11d)]=_0x52d2f1(0x1b5),_0x274553['style'][_0x52d2f1(0x105)]=_0x4659f6+'px',_0x274553[_0x52d2f1(0x1f8)][_0x52d2f1(0x1b4)]=_0x4d73d6+'px',_0x274553[_0x52d2f1(0x1f8)][_0x52d2f1(0x139)]='-'+_0xf9c6a5+_0x52d2f1(0x106)+_0x4659f6+'px'),_0x4b6ae4[_0x52d2f1(0x170)](_0x274553);}});}renderEventsForColumn(_0x4b6ae4,_0x338506);});}function renderEventsForColumn(_0x2fe544,_0x52785c){const _0x8f0aec=a3_0x8f0e33,_0x4caf58=sessions['filter'](_0x41ba95=>_0x41ba95[_0x8f0aec(0x1f4)]===_0x52785c),_0x1f7cee=_0x4caf58['map'](_0x4c71cb=>{const _0x2a5839=_0x8f0aec,[_0x2c2202,_0xb1d295]=_0x4c71cb[_0x2a5839(0x171)][_0x2a5839(0x17b)](':')['map'](Number),[_0x3fa0f5,_0x4a2420]=_0x4c71cb[_0x2a5839(0x1bc)][_0x2a5839(0x17b)](':')[_0x2a5839(0x1d7)](Number);return{'data':_0x4c71cb,'start':_0x2c2202*0x3c+_0xb1d295,'end':_0x3fa0f5*0x3c+_0x4a2420,'colIndex':0x0};});_0x1f7cee[_0x8f0aec(0x113)]((_0x345179,_0xfde7fa)=>_0x345179[_0x8f0aec(0x171)]-_0xfde7fa['start']||_0xfde7fa[_0x8f0aec(0x1bc)]-_0xfde7fa[_0x8f0aec(0x171)]-(_0x345179[_0x8f0aec(0x1bc)]-_0x345179['start']));const _0x29ae98=[];_0x1f7cee[_0x8f0aec(0x1f7)](_0x2042ba=>{const _0x583b00=_0x8f0aec;let _0xe7ceb3=![];for(let _0x4fd1cc=0x0;_0x4fd1cc<_0x29ae98['length'];_0x4fd1cc++){const _0xee2102=_0x29ae98[_0x4fd1cc];if(_0x2042ba['start']>=_0xee2102[_0xee2102[_0x583b00(0x1e8)]-0x1][_0x583b00(0x1bc)]){_0xee2102[_0x583b00(0x14f)](_0x2042ba),_0x2042ba[_0x583b00(0x165)]=_0x4fd1cc,_0xe7ceb3=!![];break;}}!_0xe7ceb3&&(_0x29ae98[_0x583b00(0x14f)]([_0x2042ba]),_0x2042ba[_0x583b00(0x165)]=_0x29ae98[_0x583b00(0x1e8)]-0x1);}),_0x1f7cee[_0x8f0aec(0x1f7)](_0x384a92=>{const _0x2c8ba4=_0x8f0aec;let _0x15acf3=0x0;_0x1f7cee[_0x2c8ba4(0x1f7)](_0x1cfb08=>{const _0x2e3857=_0x2c8ba4;if(Math[_0x2e3857(0x176)](_0x384a92[_0x2e3857(0x171)],_0x1cfb08[_0x2e3857(0x171)])<Math[_0x2e3857(0x183)](_0x384a92[_0x2e3857(0x1bc)],_0x1cfb08[_0x2e3857(0x1bc)])&&_0x1cfb08[_0x2e3857(0x165)]>_0x15acf3)_0x15acf3=_0x1cfb08['colIndex'];});const _0x617965=_0x15acf3+0x1,_0x10f249=0x64/_0x617965,_0x5c5992=_0x384a92[_0x2c8ba4(0x165)]*_0x10f249,_0x1f782f=document[_0x2c8ba4(0x1b9)]('div'),_0x5e4aac=_0x384a92['data'];let _0x3780cf='#0a84ff';if(clients&&clients['length']>0x0){const _0x3a5303=clients[_0x2c8ba4(0x16b)](_0x114ba0=>String(_0x114ba0['id'])===String(_0x5e4aac[_0x2c8ba4(0x1e3)]));if(_0x3a5303&&_0x3a5303[_0x2c8ba4(0x1e2)])_0x3780cf=_0x3a5303['color'];}const _0x20af62=_0x5e4aac['status']===_0x2c8ba4(0x110),_0x5a9454=_0x20af62?0x1:0.45;_0x1f782f[_0x2c8ba4(0x11d)]=_0x2c8ba4(0x152)+(_0x20af62?_0x2c8ba4(0x186):''),_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x1a4)]=hexToRgba(_0x3780cf,_0x5a9454),_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x108)]=_0x3780cf;const _0x20833f=_0x384a92[_0x2c8ba4(0x171)]/0x3c*GRID_H,_0x3c6237=(_0x384a92[_0x2c8ba4(0x1bc)]-_0x384a92[_0x2c8ba4(0x171)])/0x3c*GRID_H;_0x1f782f['style'][_0x2c8ba4(0x105)]=_0x20833f+'px',_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x1b4)]=Math[_0x2c8ba4(0x176)](_0x3c6237,0x14)+'px',_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x16a)]=_0x2c8ba4(0x13f)+_0x10f249+_0x2c8ba4(0x1a8),_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x117)]=_0x2c8ba4(0x13f)+_0x5c5992+_0x2c8ba4(0x132),_0x1f782f[_0x2c8ba4(0x1f8)][_0x2c8ba4(0x145)]=0xa+_0x384a92['colIndex'];if(_0x10f249<0x55)_0x1f782f[_0x2c8ba4(0x1ba)][_0x2c8ba4(0x17d)]('mini');let _0x415c04='';if(_0x5e4aac[_0x2c8ba4(0x154)])_0x415c04+=_0x2c8ba4(0x175);if(_0x20af62)_0x415c04+=_0x2c8ba4(0x1aa);_0x1f782f[_0x2c8ba4(0x14d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5e4aac[_0x2c8ba4(0x171)]+_0x2c8ba4(0x1f6)+_0x5e4aac[_0x2c8ba4(0x1bc)]+_0x2c8ba4(0x195)+_0x415c04+_0x2c8ba4(0x1d2),_0x1f782f[_0x2c8ba4(0x13b)]=_0x2cf4c8=>{_0x2cf4c8['stopPropagation'](),openDetails(_0x5e4aac);},_0x2fe544[_0x2c8ba4(0x170)](_0x1f782f);});}function openAnalytics(){const _0x9c1701=a3_0x8f0e33,_0x545cba=document['querySelector'](_0x9c1701(0x1f2));setAnalyticsPeriod('week',_0x545cba),openSheet(_0x9c1701(0x136));}function setAnalyticsPeriod(_0x19fb01,_0x34fde4){const _0x4d4e4e=a3_0x8f0e33;currentAnPeriod=_0x19fb01,document[_0x4d4e4e(0x125)](_0x4d4e4e(0x1f2))['forEach'](_0x957257=>_0x957257[_0x4d4e4e(0x1ba)][_0x4d4e4e(0x1d5)](_0x4d4e4e(0x205)));if(_0x34fde4)_0x34fde4[_0x4d4e4e(0x1ba)][_0x4d4e4e(0x17d)](_0x4d4e4e(0x205));const _0x46426f=document[_0x4d4e4e(0x155)](_0x4d4e4e(0x116));_0x46426f['style'][_0x4d4e4e(0x11b)]=_0x19fb01==='custom'?_0x4d4e4e(0x124):_0x4d4e4e(0x190);const _0x490f44=new Date();let _0x4ae5f5=new Date(),_0x4dec37=new Date();if(_0x19fb01==='week')_0x4ae5f5=getStartOfWeek(_0x490f44),_0x4dec37=new Date(_0x4ae5f5),_0x4dec37[_0x4d4e4e(0x1be)](_0x4dec37['getDate']()+0x6);else{if(_0x19fb01==='month')_0x4ae5f5=new Date(_0x490f44[_0x4d4e4e(0x151)](),_0x490f44['getMonth'](),0x1),_0x4dec37=new Date(_0x490f44[_0x4d4e4e(0x151)](),_0x490f44[_0x4d4e4e(0x1e0)]()+0x1,0x0);else{!document[_0x4d4e4e(0x155)](_0x4d4e4e(0x14b))[_0x4d4e4e(0x10c)]&&(document[_0x4d4e4e(0x155)](_0x4d4e4e(0x14b))[_0x4d4e4e(0x10c)]=getLocalDateStr(_0x490f44),document[_0x4d4e4e(0x155)](_0x4d4e4e(0x1a3))[_0x4d4e4e(0x10c)]=getLocalDateStr(_0x490f44));refreshAnalytics();return;}}document[_0x4d4e4e(0x155)](_0x4d4e4e(0x14b))[_0x4d4e4e(0x10c)]=getLocalDateStr(_0x4ae5f5),document['getElementById'](_0x4d4e4e(0x1a3))[_0x4d4e4e(0x10c)]=getLocalDateStr(_0x4dec37),refreshAnalytics();}function refreshAnalytics(){const _0x104d20=a3_0x8f0e33,_0x5c640c=document[_0x104d20(0x155)]('anStart')['value'],_0x570cd2=document[_0x104d20(0x155)](_0x104d20(0x1a3))['value'];if(!_0x5c640c||!_0x570cd2)return;const _0x2f1c7f=sessions[_0x104d20(0x1a5)](_0x164c4b=>_0x164c4b[_0x104d20(0x1f4)]>=_0x5c640c&&_0x164c4b[_0x104d20(0x1f4)]<=_0x570cd2&&_0x164c4b['status']!==_0x104d20(0x201)),_0x3acda2=_0x2f1c7f['length'],_0x1945dc=_0x2f1c7f[_0x104d20(0x1a5)](_0x390c35=>_0x390c35[_0x104d20(0x11f)]===_0x104d20(0x110))['length'],_0x4f9194=_0x3acda2>0x0?Math[_0x104d20(0x10f)](_0x1945dc/_0x3acda2*0x64):0x0;document['getElementById'](_0x104d20(0x1ca))['textContent']=_0x4f9194+'%',document[_0x104d20(0x155)](_0x104d20(0x1e7))[_0x104d20(0x107)]=_0x1945dc+_0x104d20(0x160)+_0x3acda2+_0x104d20(0x202);const _0x20b3e=document[_0x104d20(0x155)](_0x104d20(0x1b1)),_0x37af35=0x2*Math['PI']*0x23,_0x34f836=_0x37af35-_0x4f9194/0x64*_0x37af35;_0x20b3e[_0x104d20(0x1f8)]['strokeDashoffset']=_0x34f836;const _0x316057={};_0x2f1c7f[_0x104d20(0x1f7)](_0x2d9261=>{const _0x5db442=_0x104d20,_0x4349ad=_0x2d9261['coachId']||_0x5db442(0x198);if(!_0x316057[_0x4349ad]){const _0x314707='#'+_0x4349ad[_0x5db442(0x18f)]()[_0x5db442(0x13c)](0x0,0x6);_0x316057[_0x4349ad]={'total':0x0,'done':0x0,'color':_0x314707};}_0x316057[_0x4349ad]['total']++;if(_0x2d9261[_0x5db442(0x11f)]==='completed')_0x316057[_0x4349ad][_0x5db442(0x149)]++;});const _0x20f19c=document[_0x104d20(0x155)](_0x104d20(0x1da));_0x20f19c[_0x104d20(0x14d)]='';const _0x712b9c=Object[_0x104d20(0x1db)](_0x316057)['sort']((_0x235e1b,_0x5e8865)=>_0x5e8865[0x1]['total']-_0x235e1b[0x1][_0x104d20(0x19a)]);if(_0x712b9c['length']===0x0){_0x20f19c['innerHTML']=_0x104d20(0x17f);return;}_0x712b9c[_0x104d20(0x1f7)](([_0x243f4e,_0x44e232])=>{const _0x48ffaf=_0x104d20,_0x5e5907=Math[_0x48ffaf(0x10f)](_0x44e232[_0x48ffaf(0x149)]/_0x44e232[_0x48ffaf(0x19a)]*0x64),_0x463efd=document['createElement'](_0x48ffaf(0x16e));_0x463efd[_0x48ffaf(0x11d)]='client-stat-card',_0x463efd[_0x48ffaf(0x1f8)][_0x48ffaf(0x108)]=_0x44e232['color'],_0x463efd[_0x48ffaf(0x14d)]=_0x48ffaf(0x159)+_0x243f4e[_0x48ffaf(0x13c)](0x0,0x5)+_0x48ffaf(0x1fb)+_0x44e232[_0x48ffaf(0x149)]+_0x48ffaf(0x15d)+_0x44e232[_0x48ffaf(0x19a)]+_0x48ffaf(0x182)+_0x5e5907+_0x48ffaf(0x167),_0x20f19c[_0x48ffaf(0x170)](_0x463efd);});}function openDetails(_0x177f07){const _0x3e236e=a3_0x8f0e33;currentSession=_0x177f07;const _0xfd929f=new Date(_0x177f07[_0x3e236e(0x1f4)]),_0x426a91=_0xfd929f['toLocaleDateString'](_0x3e236e(0x111),{'weekday':_0x3e236e(0x181),'day':_0x3e236e(0x204),'month':_0x3e236e(0x181)});document[_0x3e236e(0x155)]('detDate')[_0x3e236e(0x107)]=_0x426a91[_0x3e236e(0x13d)](0x0)[_0x3e236e(0x10a)]()+_0x426a91[_0x3e236e(0x203)](0x1),document[_0x3e236e(0x155)]('detTime')['textContent']=_0x177f07[_0x3e236e(0x171)]+'\x20-\x20'+_0x177f07[_0x3e236e(0x1bc)],document['getElementById'](_0x3e236e(0x123))[_0x3e236e(0x107)]=_0x177f07[_0x3e236e(0x178)]||_0x3e236e(0x130);const _0x32ecaf=document[_0x3e236e(0x155)](_0x3e236e(0x1ed)),_0x33e7ef=document['getElementById'](_0x3e236e(0x1e4)),_0x106b81=_0x33e7ef[_0x3e236e(0x1f1)]('.btn-cancel'),_0x4c8728=_0x33e7ef[_0x3e236e(0x1f1)](_0x3e236e(0x169)),_0x8bd3dd=document['getElementById'](_0x3e236e(0x18d));if(_0x177f07['status']===_0x3e236e(0x110))_0x32ecaf['textContent']=_0x3e236e(0x1bd),_0x32ecaf[_0x3e236e(0x1f8)][_0x3e236e(0x1e2)]=_0x3e236e(0x1dd),_0x33e7ef[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]=_0x3e236e(0x190);else{_0x32ecaf['textContent']=_0x3e236e(0x17c),_0x32ecaf[_0x3e236e(0x1f8)][_0x3e236e(0x1e2)]='var(--acc-blue)',_0x33e7ef[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]=_0x3e236e(0x15a);const _0x42115=new Date(_0x177f07[_0x3e236e(0x1f4)]+'T'+_0x177f07[_0x3e236e(0x171)]),_0xa54974=new Date(),_0x29c6b9=(_0x42115-_0xa54974)/(0x3e8*0x3c*0x3c),_0x22f3ba=coachProfiles[_0x177f07['coachId']]&&coachProfiles[_0x177f07['coachId']][_0x3e236e(0x1b6)]?parseInt(coachProfiles[_0x177f07[_0x3e236e(0x18a)]][_0x3e236e(0x1b6)]):0x18;if(_0x22f3ba===0x0||_0x29c6b9>=_0x22f3ba)_0x106b81[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]=_0x3e236e(0x15a),_0x4c8728[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]='block',_0x8bd3dd[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]='none';else{_0x106b81[_0x3e236e(0x1f8)][_0x3e236e(0x11b)]=_0x3e236e(0x190),_0x4c8728[_0x3e236e(0x1f8)]['display']='none',_0x8bd3dd[_0x3e236e(0x1f8)]['display']=_0x3e236e(0x15a);let _0x32d5ca=_0x22f3ba===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x3e236e(0x143)+_0x22f3ba+'\x20—á.';_0x8bd3dd['textContent']=_0x3e236e(0x1d9)+_0x32d5ca+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x3e236e(0x12c))[_0x3e236e(0x1ba)]['add'](_0x3e236e(0x205)),document['getElementById'](_0x3e236e(0x1f5))[_0x3e236e(0x1ba)][_0x3e236e(0x17d)](_0x3e236e(0x189));}function closeAllSheets(){const _0x260e61=a3_0x8f0e33;document[_0x260e61(0x155)]('overlay')[_0x260e61(0x1ba)]['remove'](_0x260e61(0x205)),document[_0x260e61(0x125)]('.sheet')[_0x260e61(0x1f7)](_0x5f2e93=>_0x5f2e93[_0x260e61(0x1ba)][_0x260e61(0x1d5)](_0x260e61(0x189)));}function openSheet(_0xf812b6){const _0x297fa7=a3_0x8f0e33;document[_0x297fa7(0x155)](_0x297fa7(0x12c))[_0x297fa7(0x1ba)]['add']('active'),document[_0x297fa7(0x155)](_0xf812b6)[_0x297fa7(0x1ba)][_0x297fa7(0x17d)](_0x297fa7(0x189));}function getLocalDateStr(_0x265bc3){const _0x583aa2=a3_0x8f0e33,_0xeca3ee=_0x265bc3['getFullYear'](),_0xff3f69=String(_0x265bc3[_0x583aa2(0x1e0)]()+0x1)[_0x583aa2(0x128)](0x2,'0'),_0x1f2035=String(_0x265bc3[_0x583aa2(0x134)]())['padStart'](0x2,'0');return _0xeca3ee+'-'+_0xff3f69+'-'+_0x1f2035;}function getStartOfWeek(_0x4d9ea7){const _0x593c2c=a3_0x8f0e33,_0x44a0e9=new Date(_0x4d9ea7),_0x2810fa=_0x44a0e9['getDay'](),_0x3d5d10=_0x44a0e9['getDate']()-_0x2810fa+(_0x2810fa===0x0?-0x6:0x1);return _0x44a0e9[_0x593c2c(0x1be)](_0x3d5d10),_0x44a0e9[_0x593c2c(0x14a)](0x0,0x0,0x0,0x0),_0x44a0e9;}function scrollToToday(){const _0x40ab70=getLocalDateStr(new Date());setTimeout(()=>{const _0x4e5fcc=a3_0x1b34,_0x15c31b=document[_0x4e5fcc(0x1f1)](_0x4e5fcc(0x1b7)+_0x40ab70+'\x22]');if(_0x15c31b){const _0x7875ff=document[_0x4e5fcc(0x155)]('matrixViewport'),_0x1d2d16=_0x15c31b[_0x4e5fcc(0x158)]-_0x7875ff[_0x4e5fcc(0x12a)]/0x2+_0x15c31b[_0x4e5fcc(0x1a1)]/0x2;_0x7875ff['scrollTo']({'left':_0x1d2d16,'behavior':_0x4e5fcc(0x1df)}),_0x7875ff[_0x4e5fcc(0x164)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x113698=a3_0x8f0e33,_0x87416a=new Date(),_0x4d8401=document['getElementById']('globalTimeLine'),_0x55d3f6=document[_0x113698(0x155)]('timeLineBadge'),_0x1d800c=(_0x87416a[_0x113698(0x1ad)]()*0x3c+_0x87416a[_0x113698(0x1c7)]())/0x3c*GRID_H;_0x4d8401[_0x113698(0x1f8)][_0x113698(0x105)]=_0x1d800c+'px',_0x4d8401[_0x113698(0x1f8)][_0x113698(0x11b)]=_0x113698(0x15a),_0x55d3f6['style'][_0x113698(0x105)]=_0x1d800c+'px',_0x55d3f6[_0x113698(0x1f8)]['display']='block',_0x55d3f6[_0x113698(0x107)]=String(_0x87416a[_0x113698(0x1ad)]())[_0x113698(0x128)](0x2,'0')+':'+String(_0x87416a['getMinutes']())[_0x113698(0x128)](0x2,'0');}function onScroll(){const _0x5cf7e2=a3_0x8f0e33,_0x1dc5ab=document[_0x5cf7e2(0x155)](_0x5cf7e2(0x127)),_0x3c2c59=document[_0x5cf7e2(0x125)](_0x5cf7e2(0x15c));for(let _0x2cae51 of _0x3c2c59)if(_0x2cae51[_0x5cf7e2(0x158)]>=_0x1dc5ab[_0x5cf7e2(0x1d8)]){const _0x30770f=new Date(_0x2cae51[_0x5cf7e2(0x172)](_0x5cf7e2(0x1d3)));document['getElementById'](_0x5cf7e2(0x1a6))[_0x5cf7e2(0x107)]=_0x30770f[_0x5cf7e2(0x131)]('ru',{'month':_0x5cf7e2(0x181)})['toUpperCase']()+'\x20'+_0x30770f[_0x5cf7e2(0x151)]();break;}}function showToast(_0x4abfd9){const _0x541f40=a3_0x8f0e33,_0x3f6efc=document[_0x541f40(0x155)]('toast');_0x3f6efc[_0x541f40(0x107)]=_0x4abfd9,_0x3f6efc['classList'][_0x541f40(0x17d)](_0x541f40(0x1cf)),setTimeout(()=>_0x3f6efc['classList'][_0x541f40(0x1d5)](_0x541f40(0x1cf)),0x7d0);}function handleInfiniteScroll(){const _0x6e52f9=a3_0x8f0e33,_0x1b436a=document[_0x6e52f9(0x155)](_0x6e52f9(0x127)),_0x3fa099=_0x1b436a[_0x6e52f9(0x1d8)],_0x3c8e01=_0x1b436a[_0x6e52f9(0x19b)],_0x30c9b4=_0x1b436a['clientWidth'];if(_0x3c8e01-(_0x3fa099+_0x30c9b4)<0x12c){const _0x4aec57=endOffset;endOffset+=0xe,renderDayRange(_0x4aec57+0x1,endOffset),reRenderBlocks();}if(_0x3fa099<0x12c){const _0x48dd6e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x48dd6e-0x1),_0x1b436a['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4ac4eb,_0x5f4b55){const _0x3d92ba=a3_0x8f0e33,_0x4c587a=document[_0x3d92ba(0x155)](_0x3d92ba(0x150)),_0x467a51=document['getElementById'](_0x3d92ba(0x129)),_0x2cea40=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1af264=new Date();_0x1af264['setHours'](0x0,0x0,0x0,0x0);const _0x262205=getLocalDateStr(new Date()),_0x492f02=document[_0x3d92ba(0x17e)](),_0x4926ee=document[_0x3d92ba(0x17e)]();for(let _0x5cc3d1=_0x4ac4eb;_0x5cc3d1<=_0x5f4b55;_0x5cc3d1++){const _0x1ba26a=new Date(_0x1af264);_0x1ba26a['setDate'](_0x1ba26a[_0x3d92ba(0x134)]()+_0x5cc3d1);const _0x214aaf=getLocalDateStr(_0x1ba26a);let _0x4a9434=_0x1ba26a[_0x3d92ba(0x1a9)]()-0x1;if(_0x4a9434===-0x1)_0x4a9434=0x6;const _0x3266b0=_0x214aaf===_0x262205,_0x44dbfa=document['createElement'](_0x3d92ba(0x16e));_0x44dbfa[_0x3d92ba(0x11d)]='day-col-header\x20'+(_0x3266b0?_0x3d92ba(0x187):''),_0x44dbfa[_0x3d92ba(0x1fe)](_0x3d92ba(0x1d3),_0x214aaf),_0x44dbfa[_0x3d92ba(0x14d)]=_0x3d92ba(0x179)+_0x2cea40[_0x4a9434]+_0x3d92ba(0x12e)+_0x1ba26a[_0x3d92ba(0x134)]()+'</div>',_0x492f02['appendChild'](_0x44dbfa);const _0x264b6c=document[_0x3d92ba(0x1b9)]('div');_0x264b6c[_0x3d92ba(0x11d)]=_0x3d92ba(0x14e)+(_0x3266b0?_0x3d92ba(0x187):''),_0x264b6c[_0x3d92ba(0x1fe)](_0x3d92ba(0x1d3),_0x214aaf),_0x264b6c['setAttribute'](_0x3d92ba(0x19f),_0x4a9434),_0x4926ee[_0x3d92ba(0x170)](_0x264b6c);}_0x4c587a[_0x3d92ba(0x18c)](_0x492f02,_0x4c587a[_0x3d92ba(0x13a)]),_0x467a51[_0x3d92ba(0x18c)](_0x4926ee,_0x467a51['querySelector'](_0x3d92ba(0x1ff)));}function hexToRgba(_0x7c6935,_0x3a0f1c){const _0x454cb5=a3_0x8f0e33;let _0x4f95a7;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x454cb5(0x12b)](_0x7c6935))return _0x4f95a7=_0x7c6935[_0x454cb5(0x1eb)](0x1)[_0x454cb5(0x17b)](''),_0x4f95a7[_0x454cb5(0x1e8)]==0x3&&(_0x4f95a7=[_0x4f95a7[0x0],_0x4f95a7[0x0],_0x4f95a7[0x1],_0x4f95a7[0x1],_0x4f95a7[0x2],_0x4f95a7[0x2]]),_0x4f95a7='0x'+_0x4f95a7[_0x454cb5(0x1ee)](''),_0x454cb5(0x12d)+[_0x4f95a7>>0x10&0xff,_0x4f95a7>>0x8&0xff,_0x4f95a7&0xff][_0x454cb5(0x1ee)](',')+','+_0x3a0f1c+')';return _0x454cb5(0x1ab)+_0x3a0f1c+')';}let confirmResolver=null;function showCustomConfirm(_0x2f7eae,_0x577825,_0x15a5bb=!![]){const _0x40132d=a3_0x8f0e33;document[_0x40132d(0x155)](_0x40132d(0x1a2))['textContent']=_0x2f7eae,document[_0x40132d(0x155)]('ccText')[_0x40132d(0x107)]=_0x577825;const _0x12e3f2=document[_0x40132d(0x155)](_0x40132d(0x1d6));return _0x15a5bb?(_0x12e3f2[_0x40132d(0x1f8)][_0x40132d(0x1e2)]=_0x40132d(0x15e),_0x12e3f2[_0x40132d(0x1f8)][_0x40132d(0x1bb)]='600'):(_0x12e3f2['style'][_0x40132d(0x1e2)]='#0a84ff',_0x12e3f2[_0x40132d(0x1f8)][_0x40132d(0x1bb)]=_0x40132d(0x115)),new Promise(_0x194f50=>{const _0x560f64=_0x40132d;confirmResolver=_0x194f50,document[_0x560f64(0x155)](_0x560f64(0x1ef))[_0x560f64(0x1ba)][_0x560f64(0x17d)](_0x560f64(0x15f));});}function resolveCustomConfirm(_0x43c5d9){const _0x312262=a3_0x8f0e33;document['getElementById'](_0x312262(0x1ef))[_0x312262(0x1ba)][_0x312262(0x1d5)]('visible');if(confirmResolver)confirmResolver(_0x43c5d9);}async function tryCancelCurrentSession(){const _0x561629=a3_0x8f0e33;if(!currentSession)return;const _0x4d8b30=await showCustomConfirm(_0x561629(0x1b3),_0x561629(0x19c),!![]);if(!_0x4d8b30)return;const _0x184fe3=currentSession;closeAllSheets(),sessions=sessions[_0x561629(0x1a5)](_0x39f39f=>_0x39f39f['id']!==_0x184fe3['id']),reRenderBlocks(),showToast(_0x561629(0x1de)),lastUserActionTime=Date[_0x561629(0x140)]();try{const _0x4507d6=window['Telegram']?.[_0x561629(0x19e)],_0x310750=await fetch(API_URL,{'method':_0x561629(0x126),'body':JSON[_0x561629(0x1ce)]({'action':_0x561629(0x11e),'init_data':_0x4507d6?.[_0x561629(0x196)]||'','coachId':_0x184fe3[_0x561629(0x18a)],'dateStr':_0x184fe3[_0x561629(0x1f4)],'sessionId':_0x184fe3['id']})});if(_0x310750['ok'])DataManager['saveLocally']();}catch(_0x3fc2f2){showToast(_0x561629(0x1a0));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x43fe94=a3_0x8f0e33;if(!currentSession)return;document[_0x43fe94(0x155)](_0x43fe94(0x1f5))['classList'][_0x43fe94(0x1d5)](_0x43fe94(0x189)),document[_0x43fe94(0x155)]('rescheduleSheet')[_0x43fe94(0x1ba)][_0x43fe94(0x17d)]('open');const _0x2b336a=document['getElementById'](_0x43fe94(0x10e)),_0x4e21f7=document['getElementById']('rsSlotsGrid');_0x2b336a['innerHTML']='',_0x4e21f7[_0x43fe94(0x14d)]=_0x43fe94(0x118);const [_0x536a6e,_0x463391]=currentSession['start'][_0x43fe94(0x17b)](':')[_0x43fe94(0x1d7)](Number),[_0x45705f,_0x512ab8]=currentSession[_0x43fe94(0x1bc)][_0x43fe94(0x17b)](':')[_0x43fe94(0x1d7)](Number),_0x52c3c1=_0x45705f*0x3c+_0x512ab8-(_0x536a6e*0x3c+_0x463391);try{const _0x45777e=window[_0x43fe94(0x14c)]?.['WebApp'],_0x37268a=await fetch(API_URL,{'method':_0x43fe94(0x126),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x52c3c1,'init_data':_0x45777e?.[_0x43fe94(0x196)]||'','excludeSessionId':currentSession['id']})}),_0x125102=await _0x37268a['json']();_0x125102['ok']&&_0x125102[_0x43fe94(0x194)]?(availableSlotsCache=_0x125102[_0x43fe94(0x194)],renderRescheduleDates()):_0x4e21f7[_0x43fe94(0x14d)]=_0x43fe94(0x192);}catch(_0x590d18){_0x4e21f7[_0x43fe94(0x14d)]=_0x43fe94(0x12f);}}function renderRescheduleDates(){const _0x301567=a3_0x8f0e33,_0x1fdf0b=document[_0x301567(0x155)](_0x301567(0x10e));_0x1fdf0b[_0x301567(0x14d)]='';const _0x26193d=Object[_0x301567(0x1c3)](availableSlotsCache)['sort'](),_0x14dc9a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x26193d[_0x301567(0x1e8)]===0x0){document['getElementById'](_0x301567(0x1c0))[_0x301567(0x14d)]=_0x301567(0x1c6);return;}_0x26193d['forEach']((_0xf61b91,_0x115d19)=>{const _0x2ed8a1=_0x301567,_0x3c1b4a=new Date(_0xf61b91),_0x521e62=_0x14dc9a[_0x3c1b4a['getDay']()],_0x55cc60=_0x3c1b4a['getDate'](),_0x574f8f=document[_0x2ed8a1(0x1b9)](_0x2ed8a1(0x16e));_0x574f8f['className']=_0x2ed8a1(0x1d0);if(_0x115d19===0x0)_0x574f8f['classList'][_0x2ed8a1(0x17d)]('active');_0x574f8f[_0x2ed8a1(0x14d)]=_0x2ed8a1(0x1ac)+_0x521e62+_0x2ed8a1(0x11a)+_0x55cc60+_0x2ed8a1(0x156),_0x574f8f[_0x2ed8a1(0x13b)]=()=>selectRsDate(_0xf61b91,_0x574f8f),_0x1fdf0b[_0x2ed8a1(0x170)](_0x574f8f);}),selectRsDate(_0x26193d[0x0],_0x1fdf0b[_0x301567(0x13a)]);}function selectRsDate(_0x1eeeec,_0x2a7a08){const _0x141b66=a3_0x8f0e33;selectedRsDate=_0x1eeeec,document['querySelectorAll'](_0x141b66(0x121))[_0x141b66(0x1f7)](_0x29bb0c=>_0x29bb0c[_0x141b66(0x1ba)][_0x141b66(0x1d5)](_0x141b66(0x205)));if(_0x2a7a08)_0x2a7a08['classList'][_0x141b66(0x17d)](_0x141b66(0x205));const _0x3eab70=document['getElementById'](_0x141b66(0x1c0));_0x3eab70[_0x141b66(0x14d)]='';const _0x3f7966=availableSlotsCache[_0x1eeeec]||[];if(_0x3f7966[_0x141b66(0x1e8)]===0x0){_0x3eab70[_0x141b66(0x14d)]=_0x141b66(0x192);return;}_0x3f7966[_0x141b66(0x1f7)](_0x416b01=>{const _0x219a7b=_0x141b66,_0x58a0dc=document[_0x219a7b(0x1b9)](_0x219a7b(0x109));_0x58a0dc[_0x219a7b(0x11d)]=_0x219a7b(0x1c9),_0x58a0dc[_0x219a7b(0x107)]=_0x416b01,_0x58a0dc[_0x219a7b(0x13b)]=()=>confirmReschedule(_0x416b01),_0x3eab70[_0x219a7b(0x170)](_0x58a0dc);});}async function confirmReschedule(_0xd9eb6b){const _0x2e5d8d=a3_0x8f0e33,_0x53496e=new Date(selectedRsDate),_0x3caeff=_0x53496e['toLocaleDateString'](_0x2e5d8d(0x111),{'day':'numeric','month':'long'}),_0x5a6b5a=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2e5d8d(0x1e1)+_0x3caeff+_0x2e5d8d(0x135)+_0xd9eb6b+'?',![]);if(!_0x5a6b5a)return;closeAllSheets(),showToast(_0x2e5d8d(0x1cd)),lastUserActionTime=Date[_0x2e5d8d(0x140)]();const _0x3f395b=currentSession[_0x2e5d8d(0x1f4)],_0xaba9c6=currentSession['id'],[_0x10a84f,_0x2687d7]=currentSession[_0x2e5d8d(0x171)][_0x2e5d8d(0x17b)](':')[_0x2e5d8d(0x1d7)](Number),[_0x550e7a,_0x31b0b8]=currentSession[_0x2e5d8d(0x1bc)][_0x2e5d8d(0x17b)](':')[_0x2e5d8d(0x1d7)](Number),_0x277361=_0x550e7a*0x3c+_0x31b0b8-(_0x10a84f*0x3c+_0x2687d7),[_0x2fa9d7,_0x4e8620]=_0xd9eb6b[_0x2e5d8d(0x17b)](':')[_0x2e5d8d(0x1d7)](Number),_0x4d0bec=_0x2fa9d7*0x3c+_0x4e8620+_0x277361,_0x25a641=Math[_0x2e5d8d(0x197)](_0x4d0bec/0x3c),_0x469dbe=_0x4d0bec%0x3c,_0x320968=String(_0x25a641)[_0x2e5d8d(0x128)](0x2,'0')+':'+String(_0x469dbe)[_0x2e5d8d(0x128)](0x2,'0'),_0xdfca0f=sessions[_0x2e5d8d(0x1b0)](_0x5d7c58=>_0x5d7c58['id']===_0xaba9c6);_0xdfca0f!==-0x1&&(sessions[_0xdfca0f][_0x2e5d8d(0x1f4)]=selectedRsDate,sessions[_0xdfca0f][_0x2e5d8d(0x171)]=_0xd9eb6b,sessions[_0xdfca0f][_0x2e5d8d(0x1bc)]=_0x320968,reRenderBlocks());try{const _0x240129=window[_0x2e5d8d(0x14c)]?.[_0x2e5d8d(0x19e)],_0x4d4ddf=await fetch(API_URL,{'method':_0x2e5d8d(0x126),'body':JSON[_0x2e5d8d(0x1ce)]({'action':_0x2e5d8d(0x1f3),'init_data':_0x240129?.[_0x2e5d8d(0x196)]||'','oldSessionId':_0xaba9c6,'oldDate':_0x3f395b,'newDate':selectedRsDate,'newTime':_0xd9eb6b,'coachId':currentSession[_0x2e5d8d(0x18a)]})}),_0x4d9b63=await _0x4d4ddf[_0x2e5d8d(0x1e9)]();!_0x4d9b63['ok']?(showToast(_0x2e5d8d(0x1d4)),DataManager[_0x2e5d8d(0x114)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2e5d8d(0x1dc)]());}catch(_0x48f9e2){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener']('DOMContentLoaded',init);