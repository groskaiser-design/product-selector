const a3_0x3639c2=a3_0x5e5f;(function(_0xdc0b3b,_0x1ee70c){const _0x917306=a3_0x5e5f,_0x532321=_0xdc0b3b();while(!![]){try{const _0x2e144c=-parseInt(_0x917306(0x168))/0x1*(parseInt(_0x917306(0x11d))/0x2)+-parseInt(_0x917306(0xd9))/0x3+-parseInt(_0x917306(0x104))/0x4+parseInt(_0x917306(0x13d))/0x5+-parseInt(_0x917306(0x156))/0x6*(parseInt(_0x917306(0x16a))/0x7)+parseInt(_0x917306(0x17c))/0x8*(-parseInt(_0x917306(0x155))/0x9)+parseInt(_0x917306(0x137))/0xa;if(_0x2e144c===_0x1ee70c)break;else _0x532321['push'](_0x532321['shift']());}catch(_0x344e73){_0x532321['push'](_0x532321['shift']());}}}(a3_0x5924,0xb45db));const APP_VERSION=a3_0x3639c2(0x148),API_URL=a3_0x3639c2(0xdc),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x3639c2(0x12a),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3639c2(0xb7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x17e884=a3_0x3639c2,_0x3995cf=(function(){let _0x5cab04=!![];return function(_0x216a28,_0x1d34d0){const _0x18f526=_0x5cab04?function(){const _0xa976b5=a3_0x5e5f;if(_0x1d34d0){const _0x4f45c8=_0x1d34d0[_0xa976b5(0x188)](_0x216a28,arguments);return _0x1d34d0=null,_0x4f45c8;}}:function(){};return _0x5cab04=![],_0x18f526;};}()),_0x1d0857=_0x3995cf(this,function(){const _0x545fdc=a3_0x5e5f;return _0x1d0857[_0x545fdc(0xdd)]()[_0x545fdc(0xe0)]('(((.+)+)+)+$')[_0x545fdc(0xdd)]()[_0x545fdc(0xb3)](_0x1d0857)[_0x545fdc(0xe0)](_0x545fdc(0xd6));});_0x1d0857();try{const _0x3da9c6=window[_0x17e884(0x152)]?.[_0x17e884(0x108)];if(!_0x3da9c6)return;_0x3da9c6[_0x17e884(0x173)](),_0x3da9c6[_0x17e884(0x13c)]();try{_0x3da9c6[_0x17e884(0xe6)](_0x17e884(0xf6)),_0x3da9c6['setBackgroundColor']&&_0x3da9c6[_0x17e884(0xc1)]('#050505');}catch(_0x45af3d){console[_0x17e884(0x8e)](_0x17e884(0x146),_0x45af3d);}try{_0x3da9c6[_0x17e884(0x129)]&&(_0x3da9c6[_0x17e884(0x129)][_0x17e884(0x102)](),_0x3da9c6[_0x17e884(0x129)][_0x17e884(0x98)](),_0x3da9c6['BackButton'][_0x17e884(0xb0)](function(){const _0x263999=_0x17e884;window[_0x263999(0x111)]['href']=_0x263999(0xcf);}));}catch(_0x2dde83){console[_0x17e884(0x8e)](_0x17e884(0x14b),_0x2dde83);}try{if(_0x3da9c6['disableVerticalSwipes'])_0x3da9c6['disableVerticalSwipes']();}catch(_0x158ed7){}}catch(_0x4ef33f){console[_0x17e884(0x95)](_0x17e884(0x12c),_0x4ef33f);}}());function isAdmin(){const _0xad90c9=a3_0x3639c2;try{const _0x3a2cd2=Number(window[_0xad90c9(0x152)]?.[_0xad90c9(0x108)]?.[_0xad90c9(0x162)]?.['user']?.['id']);return _0x3a2cd2===0xbaf7174;}catch(_0x1be174){return![];}}const DataManager={'saveLocally'(){const _0x2eb375=a3_0x3639c2;try{localStorage[_0x2eb375(0x170)](KEY_SESSIONS,JSON[_0x2eb375(0x9b)](sessions)),localStorage[_0x2eb375(0x170)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x2eb375(0x170)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3738ae){}},'loadLocal'(){const _0x493190=a3_0x3639c2;try{const _0x177429=localStorage[_0x493190(0x9a)](KEY_SESSIONS);if(_0x177429)sessions=JSON['parse'](_0x177429);const _0x26463b=localStorage[_0x493190(0x9a)](KEY_CLIENTS);if(_0x26463b)clients=JSON[_0x493190(0x17d)](_0x26463b);const _0x340e0f=localStorage[_0x493190(0x9a)](KEY_SETTINGS);if(_0x340e0f){const _0x7802a8=JSON['parse'](_0x340e0f);if(_0x7802a8[_0x493190(0x16c)])availabilityPattern=_0x7802a8[_0x493190(0x16c)];if(_0x7802a8[_0x493190(0x92)])specialRanges=_0x7802a8['ranges'];if(_0x7802a8[_0x493190(0x142)])dateExceptions=_0x7802a8[_0x493190(0x142)];}}catch(_0xb76d4d){}},async 'syncLoad'(){const _0x400d7c=a3_0x3639c2,_0x577bb1=new Date(),_0x31aa49=_0x577bb1['getFullYear']()+'-'+String(_0x577bb1[_0x400d7c(0x9f)]()+0x1)[_0x400d7c(0x15a)](0x2,'0'),_0x20ec06=new Date(_0x577bb1);_0x20ec06[_0x400d7c(0x15c)](_0x577bb1[_0x400d7c(0x9f)]()+0x1);const _0xb0121e=_0x20ec06['getFullYear']()+'-'+String(_0x20ec06[_0x400d7c(0x9f)]()+0x1)[_0x400d7c(0x15a)](0x2,'0'),_0x434f56=Date['now']();try{const _0x2013e9=window[_0x400d7c(0x152)]?.[_0x400d7c(0x108)],_0x35ba68=_0x2013e9?.[_0x400d7c(0xe9)]||'',[_0x19a5d2,_0x304c4c]=await Promise[_0x400d7c(0x157)]([fetch(API_URL,{'method':_0x400d7c(0x8d),'body':JSON[_0x400d7c(0x9b)]({'action':_0x400d7c(0xce),'init_data':_0x35ba68,'month_str':_0x31aa49})})[_0x400d7c(0x186)](_0x3927da=>_0x3927da[_0x400d7c(0x181)]()),fetch(API_URL,{'method':_0x400d7c(0x8d),'body':JSON[_0x400d7c(0x9b)]({'action':_0x400d7c(0xce),'init_data':_0x35ba68,'month_str':_0xb0121e})})[_0x400d7c(0x186)](_0x2fff33=>_0x2fff33[_0x400d7c(0x181)]())]);if(lastUserActionTime>_0x434f56){console[_0x400d7c(0x8e)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x19a5d2['ok'])this[_0x400d7c(0x15f)](_0x19a5d2[_0x400d7c(0x150)],_0x31aa49);if(_0x304c4c['ok'])this[_0x400d7c(0x15f)](_0x304c4c['data'],_0xb0121e);this[_0x400d7c(0x116)]();}catch(_0x598285){}},'applyData'(_0x3f33f2,_0x5bf401){const _0x47b834=a3_0x3639c2;if(!_0x3f33f2)return;if(_0x3f33f2[_0x47b834(0x12b)]){if(_0x3f33f2['settings']['pattern'])availabilityPattern=_0x3f33f2[_0x47b834(0x12b)][_0x47b834(0x16c)];if(_0x3f33f2[_0x47b834(0x12b)][_0x47b834(0x92)])specialRanges=_0x3f33f2[_0x47b834(0x12b)][_0x47b834(0x92)];if(_0x3f33f2[_0x47b834(0x12b)][_0x47b834(0x142)])dateExceptions=_0x3f33f2[_0x47b834(0x12b)]['exceptions'];}if(_0x3f33f2[_0x47b834(0x185)]&&Array[_0x47b834(0xb4)](_0x3f33f2[_0x47b834(0x185)]))clients=_0x3f33f2[_0x47b834(0x185)];_0x3f33f2[_0x47b834(0x15b)]&&(coachProfiles={...coachProfiles,..._0x3f33f2['coach_profiles']}),_0x3f33f2['calendar']&&(sessions=sessions[_0x47b834(0x13e)](_0x1db0cb=>!_0x1db0cb[_0x47b834(0xdf)][_0x47b834(0xed)](_0x5bf401)),Object['keys'](_0x3f33f2[_0x47b834(0xde)])[_0x47b834(0x179)](_0x5ddb32=>{const _0x26bb7f=_0x47b834,_0x16627e=_0x3f33f2[_0x26bb7f(0xde)][_0x5ddb32];_0x16627e[_0x26bb7f(0x179)](_0x4d4caf=>{const _0x4e92b6=_0x26bb7f;sessions[_0x4e92b6(0x14a)]({'id':_0x4d4caf['i'],'clientId':_0x4d4caf['c'],'coachId':_0x4d4caf[_0x4e92b6(0x8a)],'dateStr':_0x5bf401+'-'+_0x5ddb32['padStart'](0x2,'0'),'start':_0x4d4caf['s'],'end':_0x4d4caf['e'],'note':_0x4d4caf['n']||'','status':_0x4d4caf['st']||_0x4e92b6(0x11a),'seriesId':_0x4d4caf['sid']});});})),reRenderBlocks();}};function init(){const _0x126575=a3_0x3639c2;DataManager[_0x126575(0x13f)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x126575(0x165)](_0x126575(0xbb))[_0x126575(0x17f)](_0x126575(0x171),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x2c0e48=a3_0x3639c2,_0x2ce556=document[_0x2c0e48(0x165)](_0x2c0e48(0xa4)),_0x26fa6b=document[_0x2c0e48(0x165)](_0x2c0e48(0xe7));_0x2ce556[_0x2c0e48(0xd0)]='',_0x2ce556[_0x2c0e48(0xff)](_0x26fa6b);for(let _0x7bb7de=0x0;_0x7bb7de<0x18;_0x7bb7de++){const _0x3c5d8f=document[_0x2c0e48(0x100)](_0x2c0e48(0xf2));_0x3c5d8f[_0x2c0e48(0x99)]=_0x2c0e48(0xef);if(_0x7bb7de>0x0)_0x3c5d8f[_0x2c0e48(0xd0)]=_0x2c0e48(0x126)+String(_0x7bb7de)[_0x2c0e48(0x15a)](0x2,'0')+_0x2c0e48(0x153);_0x2ce556[_0x2c0e48(0xff)](_0x3c5d8f);}}function renderDayRange(_0x199e72,_0x226750){const _0x3ffb89=a3_0x3639c2,_0x4dd1b9=document[_0x3ffb89(0x165)](_0x3ffb89(0xa1)),_0x2d02f3=document[_0x3ffb89(0x165)]('gridColumns'),_0xfe3fd1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x25211e=new Date();_0x25211e[_0x3ffb89(0xa2)](0x0,0x0,0x0,0x0);const _0x3df36b=getLocalDateStr(new Date());for(let _0x22f25c=_0x199e72;_0x22f25c<=_0x226750;_0x22f25c++){const _0x1246ad=new Date(_0x25211e);_0x1246ad[_0x3ffb89(0x119)](_0x1246ad[_0x3ffb89(0x133)]()+_0x22f25c);const _0x6ad47d=getLocalDateStr(_0x1246ad);let _0x268982=_0x1246ad['getDay']()-0x1;if(_0x268982===-0x1)_0x268982=0x6;const _0x51d56f=_0x6ad47d===_0x3df36b,_0x1d25e7=document['createElement']('div');_0x1d25e7[_0x3ffb89(0x99)]=_0x3ffb89(0x17b)+(_0x51d56f?_0x3ffb89(0xab):''),_0x1d25e7['setAttribute'](_0x3ffb89(0xbc),_0x6ad47d),_0x1d25e7['innerHTML']=_0x3ffb89(0x118)+_0xfe3fd1[_0x268982]+_0x3ffb89(0xd4)+_0x1246ad[_0x3ffb89(0x133)]()+_0x3ffb89(0xe5),_0x4dd1b9[_0x3ffb89(0xff)](_0x1d25e7);const _0xe4893a=document['createElement'](_0x3ffb89(0xf2));_0xe4893a[_0x3ffb89(0x99)]=_0x3ffb89(0x121)+(_0x51d56f?'today':''),_0xe4893a[_0x3ffb89(0x174)](_0x3ffb89(0xbc),_0x6ad47d),_0xe4893a[_0x3ffb89(0x174)](_0x3ffb89(0x124),_0x268982),_0x2d02f3[_0x3ffb89(0xff)](_0xe4893a);}}function reRenderBlocks(){const _0x215ce3=a3_0x3639c2;document[_0x215ce3(0x10a)](_0x215ce3(0x103))[_0x215ce3(0x179)](_0x83f5b9=>{const _0xafa10c=_0x215ce3;_0x83f5b9['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0xafa10c(0x179)](_0x110781=>_0x110781[_0xafa10c(0x113)]());const _0x3d96be=_0x83f5b9[_0xafa10c(0x110)](_0xafa10c(0xbc)),_0xdb27b9=parseInt(_0x83f5b9[_0xafa10c(0x110)](_0xafa10c(0x124))),_0x183d4c=Math[_0xafa10c(0xd8)](_0x83f5b9[_0xafa10c(0xb5)]);(availabilityPattern[_0xdb27b9]||[])[_0xafa10c(0x179)](_0x23acb0=>{const _0x701044=_0xafa10c,_0xcd9905=document[_0x701044(0x100)](_0x701044(0xf2));_0xcd9905[_0x701044(0x99)]=_0x701044(0x122),_0xcd9905['style'][_0x701044(0x164)]=_0x23acb0*GRID_H+'px',_0xcd9905['style'][_0x701044(0xba)]='-'+_0x183d4c+_0x701044(0x96)+_0x23acb0*GRID_H+'px',_0x83f5b9[_0x701044(0xff)](_0xcd9905);});if(specialRanges['length']>0x0){const _0x1fa94a=new Date(_0x3d96be+_0xafa10c(0xa9))[_0xafa10c(0xc4)](),_0x204b04=new Date(_0x3d96be+_0xafa10c(0x12e))['getTime']();specialRanges[_0xafa10c(0x179)](_0x4d6922=>{const _0x4153d8=_0xafa10c,_0x466152=new Date(_0x4d6922[_0x4153d8(0xc9)])[_0x4153d8(0xc4)](),_0x390546=new Date(_0x4d6922[_0x4153d8(0x128)])[_0x4153d8(0xc4)](),_0x3ddbaa=Math[_0x4153d8(0x11f)](_0x1fa94a,_0x466152),_0x431cbb=Math[_0x4153d8(0x16d)](_0x204b04,_0x390546);if(_0x3ddbaa<_0x431cbb){const _0x30d04e=(_0x3ddbaa-_0x1fa94a)/0x36ee80*GRID_H,_0xa64343=(_0x431cbb-_0x3ddbaa)/0x36ee80*GRID_H,_0x24d46e=document['createElement']('div');_0xa64343>=23.5*GRID_H?(_0x24d46e[_0x4153d8(0x99)]='day-off-overlay\x20stripe-bg',_0x24d46e[_0x4153d8(0xeb)]['backgroundPosition']='-'+_0x183d4c+_0x4153d8(0x10d)):(_0x24d46e[_0x4153d8(0x99)]=_0x4153d8(0x13b),_0x24d46e[_0x4153d8(0xeb)][_0x4153d8(0x164)]=_0x30d04e+'px',_0x24d46e[_0x4153d8(0xeb)][_0x4153d8(0x163)]=_0xa64343+'px',_0x24d46e['style'][_0x4153d8(0xba)]='-'+_0x183d4c+'px\x20-'+_0x30d04e+'px'),_0x83f5b9[_0x4153d8(0xff)](_0x24d46e);}});}renderEventsForColumn(_0x83f5b9,_0x3d96be);});}function renderEventsForColumn(_0x3c745f,_0x164bd9){const _0x394bf4=a3_0x3639c2,_0x297df6=sessions[_0x394bf4(0x13e)](_0xa51097=>_0xa51097[_0x394bf4(0xdf)]===_0x164bd9),_0x28c0b2=_0x297df6[_0x394bf4(0x175)](_0x54435a=>{const _0x3fe49e=_0x394bf4,[_0x2ed20b,_0x23e536]=_0x54435a['start']['split'](':')[_0x3fe49e(0x175)](Number),[_0x46a526,_0x359c5f]=_0x54435a[_0x3fe49e(0x128)][_0x3fe49e(0x109)](':')[_0x3fe49e(0x175)](Number);return{'data':_0x54435a,'start':_0x2ed20b*0x3c+_0x23e536,'end':_0x46a526*0x3c+_0x359c5f,'colIndex':0x0};});_0x28c0b2[_0x394bf4(0xca)]((_0x5e4c84,_0x3a87a0)=>_0x5e4c84['start']-_0x3a87a0[_0x394bf4(0xc9)]||_0x3a87a0[_0x394bf4(0x128)]-_0x3a87a0[_0x394bf4(0xc9)]-(_0x5e4c84['end']-_0x5e4c84[_0x394bf4(0xc9)]));const _0x45d6ab=[];_0x28c0b2[_0x394bf4(0x179)](_0x158b30=>{const _0x58e3c8=_0x394bf4;let _0x4aeabd=![];for(let _0xb88a77=0x0;_0xb88a77<_0x45d6ab[_0x58e3c8(0xac)];_0xb88a77++){const _0x2cb42a=_0x45d6ab[_0xb88a77];if(_0x158b30['start']>=_0x2cb42a[_0x2cb42a['length']-0x1][_0x58e3c8(0x128)]){_0x2cb42a[_0x58e3c8(0x14a)](_0x158b30),_0x158b30['colIndex']=_0xb88a77,_0x4aeabd=!![];break;}}!_0x4aeabd&&(_0x45d6ab['push']([_0x158b30]),_0x158b30[_0x58e3c8(0x158)]=_0x45d6ab[_0x58e3c8(0xac)]-0x1);}),_0x28c0b2[_0x394bf4(0x179)](_0x23aabd=>{const _0x3d453e=_0x394bf4;let _0x35ab0b=0x0;_0x28c0b2[_0x3d453e(0x179)](_0xab0755=>{const _0x2b4f28=_0x3d453e;if(Math['max'](_0x23aabd[_0x2b4f28(0xc9)],_0xab0755[_0x2b4f28(0xc9)])<Math[_0x2b4f28(0x16d)](_0x23aabd[_0x2b4f28(0x128)],_0xab0755[_0x2b4f28(0x128)])&&_0xab0755[_0x2b4f28(0x158)]>_0x35ab0b)_0x35ab0b=_0xab0755['colIndex'];});const _0x3fc874=_0x35ab0b+0x1,_0x50828e=0x64/_0x3fc874,_0xfbe578=_0x23aabd[_0x3d453e(0x158)]*_0x50828e,_0x39af8a=document[_0x3d453e(0x100)](_0x3d453e(0xf2)),_0x392070=_0x23aabd[_0x3d453e(0x150)];let _0x35dba4=_0x3d453e(0x15d);if(clients&&clients[_0x3d453e(0xac)]>0x0){const _0x138af6=clients['find'](_0x54204f=>String(_0x54204f['id'])===String(_0x392070[_0x3d453e(0xa8)]));if(_0x138af6&&_0x138af6['color'])_0x35dba4=_0x138af6[_0x3d453e(0xf0)];}const _0x361908=_0x392070['status']==='completed',_0x11bf73=_0x361908?0x1:0.45;_0x39af8a['className']=_0x3d453e(0xa5)+(_0x361908?_0x3d453e(0xdb):''),_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0xae)]=hexToRgba(_0x35dba4,_0x11bf73),_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0xaa)]=_0x35dba4;const _0xe44558=_0x23aabd['start']/0x3c*GRID_H,_0x41f7b8=(_0x23aabd[_0x3d453e(0x128)]-_0x23aabd[_0x3d453e(0xc9)])/0x3c*GRID_H;_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0x164)]=_0xe44558+'px',_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0x163)]=Math[_0x3d453e(0x11f)](_0x41f7b8,0x14)+'px',_0x39af8a['style']['width']=_0x3d453e(0xf1)+_0x50828e+_0x3d453e(0xad),_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0x12f)]=_0x3d453e(0xf1)+_0xfbe578+_0x3d453e(0xc3),_0x39af8a[_0x3d453e(0xeb)][_0x3d453e(0xc0)]=0xa+_0x23aabd['colIndex'];if(_0x50828e<0x55)_0x39af8a[_0x3d453e(0x125)][_0x3d453e(0xfb)](_0x3d453e(0x166));let _0x184e5b='';if(_0x392070['seriesId'])_0x184e5b+=_0x3d453e(0x17a);if(_0x361908)_0x184e5b+=_0x3d453e(0x10b);_0x39af8a['innerHTML']=_0x3d453e(0x9c)+_0x392070[_0x3d453e(0xc9)]+'\x20-\x20'+_0x392070[_0x3d453e(0x128)]+_0x3d453e(0x8f)+_0x184e5b+_0x3d453e(0x101),_0x39af8a['onclick']=_0x294eaf=>{const _0x37ea96=_0x3d453e;_0x294eaf[_0x37ea96(0xec)](),openDetails(_0x392070);},_0x3c745f[_0x3d453e(0xff)](_0x39af8a);});}function openAnalytics(){const _0x4178bb=a3_0x3639c2,_0x40cfbf=document[_0x4178bb(0x115)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4178bb(0xb7),_0x40cfbf),openSheet(_0x4178bb(0x141));}function setAnalyticsPeriod(_0x142a95,_0xce2bf6){const _0x37e1f1=a3_0x3639c2;currentAnPeriod=_0x142a95,document[_0x37e1f1(0x10a)](_0x37e1f1(0x14e))['forEach'](_0x2f5e9f=>_0x2f5e9f[_0x37e1f1(0x125)][_0x37e1f1(0x113)](_0x37e1f1(0xda)));if(_0xce2bf6)_0xce2bf6[_0x37e1f1(0x125)]['add']('active');const _0x10f138=document['getElementById'](_0x37e1f1(0xc6));_0x10f138[_0x37e1f1(0xeb)][_0x37e1f1(0x14f)]=_0x142a95==='custom'?_0x37e1f1(0x169):_0x37e1f1(0xfa);const _0x363c80=new Date();let _0x2ecc05=new Date(),_0x3f34b5=new Date();if(_0x142a95===_0x37e1f1(0xb7))_0x2ecc05=getStartOfWeek(_0x363c80),_0x3f34b5=new Date(_0x2ecc05),_0x3f34b5['setDate'](_0x3f34b5[_0x37e1f1(0x133)]()+0x6);else{if(_0x142a95===_0x37e1f1(0x11c))_0x2ecc05=new Date(_0x363c80['getFullYear'](),_0x363c80[_0x37e1f1(0x9f)](),0x1),_0x3f34b5=new Date(_0x363c80[_0x37e1f1(0x149)](),_0x363c80['getMonth']()+0x1,0x0);else{!document[_0x37e1f1(0x165)]('anStart')[_0x37e1f1(0xa0)]&&(document['getElementById']('anStart')[_0x37e1f1(0xa0)]=getLocalDateStr(_0x363c80),document[_0x37e1f1(0x165)](_0x37e1f1(0x189))['value']=getLocalDateStr(_0x363c80));refreshAnalytics();return;}}document[_0x37e1f1(0x165)](_0x37e1f1(0x15e))[_0x37e1f1(0xa0)]=getLocalDateStr(_0x2ecc05),document[_0x37e1f1(0x165)](_0x37e1f1(0x189))[_0x37e1f1(0xa0)]=getLocalDateStr(_0x3f34b5),refreshAnalytics();}function a3_0x5e5f(_0x5100ec,_0x57d95f){_0x5100ec=_0x5100ec-0x8a;const _0xbb02f6=a3_0x5924();let _0x4397f5=_0xbb02f6[_0x5100ec];return _0x4397f5;}function refreshAnalytics(){const _0x5a8b0d=a3_0x3639c2,_0x529e81=document['getElementById'](_0x5a8b0d(0x15e))[_0x5a8b0d(0xa0)],_0x2f6e42=document[_0x5a8b0d(0x165)](_0x5a8b0d(0x189))[_0x5a8b0d(0xa0)];if(!_0x529e81||!_0x2f6e42)return;const _0x417d61=sessions[_0x5a8b0d(0x13e)](_0x211296=>_0x211296[_0x5a8b0d(0xdf)]>=_0x529e81&&_0x211296['dateStr']<=_0x2f6e42&&_0x211296[_0x5a8b0d(0x147)]!==_0x5a8b0d(0x151)),_0x383b5d=_0x417d61[_0x5a8b0d(0xac)],_0x1036aa=_0x417d61[_0x5a8b0d(0x13e)](_0x32f69a=>_0x32f69a[_0x5a8b0d(0x147)]===_0x5a8b0d(0xcd))[_0x5a8b0d(0xac)],_0x2ae773=_0x383b5d>0x0?Math['round'](_0x1036aa/_0x383b5d*0x64):0x0;document['getElementById'](_0x5a8b0d(0xc5))[_0x5a8b0d(0x107)]=_0x2ae773+'%',document['getElementById'](_0x5a8b0d(0x159))[_0x5a8b0d(0x107)]=_0x1036aa+_0x5a8b0d(0xfc)+_0x383b5d+_0x5a8b0d(0x183);const _0x552e11=document['getElementById'](_0x5a8b0d(0x106)),_0x1087df=0x2*Math['PI']*0x23,_0x34e8b3=_0x1087df-_0x2ae773/0x64*_0x1087df;_0x552e11[_0x5a8b0d(0xeb)][_0x5a8b0d(0x187)]=_0x34e8b3;const _0x5bbd02={};_0x417d61[_0x5a8b0d(0x179)](_0x2d3764=>{const _0xdaa72=_0x5a8b0d,_0x1bf63a=_0x2d3764[_0xdaa72(0xd3)]||_0xdaa72(0x9e);if(!_0x5bbd02[_0x1bf63a]){const _0x52e7fc='#'+_0x1bf63a['toString']()[_0xdaa72(0xaf)](0x0,0x6);_0x5bbd02[_0x1bf63a]={'total':0x0,'done':0x0,'color':_0x52e7fc};}_0x5bbd02[_0x1bf63a]['total']++;if(_0x2d3764[_0xdaa72(0x147)]===_0xdaa72(0xcd))_0x5bbd02[_0x1bf63a]['done']++;});const _0x488359=document[_0x5a8b0d(0x165)](_0x5a8b0d(0xa6));_0x488359[_0x5a8b0d(0xd0)]='';const _0x4b4ec8=Object['entries'](_0x5bbd02)[_0x5a8b0d(0xca)]((_0x391909,_0x39209c)=>_0x39209c[0x1]['total']-_0x391909[0x1][_0x5a8b0d(0x8b)]);if(_0x4b4ec8[_0x5a8b0d(0xac)]===0x0){_0x488359[_0x5a8b0d(0xd0)]=_0x5a8b0d(0x14c);return;}_0x4b4ec8[_0x5a8b0d(0x179)](([_0x4caa58,_0x32c541])=>{const _0x2800c9=_0x5a8b0d,_0x532dfc=Math[_0x2800c9(0xd8)](_0x32c541[_0x2800c9(0xd5)]/_0x32c541[_0x2800c9(0x8b)]*0x64),_0x14d089=document[_0x2800c9(0x100)](_0x2800c9(0xf2));_0x14d089[_0x2800c9(0x99)]=_0x2800c9(0x16f),_0x14d089['style'][_0x2800c9(0xaa)]=_0x32c541['color'],_0x14d089[_0x2800c9(0xd0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x4caa58[_0x2800c9(0xaf)](0x0,0x5)+_0x2800c9(0x138)+_0x32c541['done']+_0x2800c9(0x10f)+_0x32c541[_0x2800c9(0x8b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x532dfc+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x488359[_0x2800c9(0xff)](_0x14d089);});}function openDetails(_0x3fac6e){const _0x851e6d=a3_0x3639c2;currentSession=_0x3fac6e;const _0x5c506f=new Date(_0x3fac6e['dateStr']),_0x546d85=_0x5c506f[_0x851e6d(0xe3)](_0x851e6d(0xb6),{'weekday':'long','day':'numeric','month':_0x851e6d(0x10c)});document[_0x851e6d(0x165)]('detDate')[_0x851e6d(0x107)]=_0x546d85[_0x851e6d(0x13a)](0x0)[_0x851e6d(0x10e)]()+_0x546d85[_0x851e6d(0x134)](0x1),document[_0x851e6d(0x165)](_0x851e6d(0xd7))[_0x851e6d(0x107)]=_0x3fac6e[_0x851e6d(0xc9)]+_0x851e6d(0xbd)+_0x3fac6e[_0x851e6d(0x128)],document['getElementById'](_0x851e6d(0x120))[_0x851e6d(0x107)]=_0x3fac6e[_0x851e6d(0x178)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x21bd6e=document['getElementById']('detStatus'),_0x38928d=document[_0x851e6d(0x165)](_0x851e6d(0xf3)),_0x2c00bf=_0x38928d[_0x851e6d(0x115)](_0x851e6d(0x12d)),_0x3efb14=_0x38928d[_0x851e6d(0x115)](_0x851e6d(0xf9)),_0x369449=document[_0x851e6d(0x165)](_0x851e6d(0xcb));if(_0x3fac6e[_0x851e6d(0x147)]===_0x851e6d(0xcd))_0x21bd6e[_0x851e6d(0x107)]=_0x851e6d(0xee),_0x21bd6e[_0x851e6d(0xeb)][_0x851e6d(0xf0)]='var(--acc-green)',_0x38928d[_0x851e6d(0xeb)][_0x851e6d(0x14f)]=_0x851e6d(0xfa);else{_0x21bd6e[_0x851e6d(0x107)]=_0x851e6d(0x154),_0x21bd6e[_0x851e6d(0xeb)][_0x851e6d(0xf0)]=_0x851e6d(0xb2),_0x38928d[_0x851e6d(0xeb)][_0x851e6d(0x14f)]=_0x851e6d(0x144);const _0x50e2c4=new Date(_0x3fac6e['dateStr']+'T'+_0x3fac6e[_0x851e6d(0xc9)]),_0xd93dd=new Date(),_0x8b963d=(_0x50e2c4-_0xd93dd)/(0x3e8*0x3c*0x3c),_0x1611af=coachProfiles[_0x3fac6e[_0x851e6d(0xd3)]]&&coachProfiles[_0x3fac6e[_0x851e6d(0xd3)]][_0x851e6d(0xe4)]?parseInt(coachProfiles[_0x3fac6e[_0x851e6d(0xd3)]][_0x851e6d(0xe4)]):0x18;if(_0x1611af===0x0||_0x8b963d>=_0x1611af)_0x2c00bf[_0x851e6d(0xeb)]['display']='block',_0x3efb14[_0x851e6d(0xeb)][_0x851e6d(0x14f)]='block',_0x369449['style'][_0x851e6d(0x14f)]=_0x851e6d(0xfa);else{_0x2c00bf[_0x851e6d(0xeb)]['display']=_0x851e6d(0xfa),_0x3efb14[_0x851e6d(0xeb)][_0x851e6d(0x14f)]=_0x851e6d(0xfa),_0x369449['style'][_0x851e6d(0x14f)]=_0x851e6d(0x144);let _0x5533b3=_0x1611af===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x851e6d(0x139)+_0x1611af+_0x851e6d(0x93);_0x369449[_0x851e6d(0x107)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x5533b3+_0x851e6d(0xd1);}}document[_0x851e6d(0x165)]('overlay')[_0x851e6d(0x125)][_0x851e6d(0xfb)]('active'),document['getElementById'](_0x851e6d(0xa7))[_0x851e6d(0x125)][_0x851e6d(0xfb)](_0x851e6d(0x112));}function closeAllSheets(){const _0x20b398=a3_0x3639c2;document[_0x20b398(0x165)](_0x20b398(0xa3))[_0x20b398(0x125)][_0x20b398(0x113)](_0x20b398(0xda)),document[_0x20b398(0x10a)](_0x20b398(0x145))['forEach'](_0x157002=>_0x157002[_0x20b398(0x125)]['remove'](_0x20b398(0x112)));}function openSheet(_0x153d64){const _0x35fd4b=a3_0x3639c2;document[_0x35fd4b(0x165)](_0x35fd4b(0xa3))[_0x35fd4b(0x125)]['add'](_0x35fd4b(0xda)),document[_0x35fd4b(0x165)](_0x153d64)[_0x35fd4b(0x125)][_0x35fd4b(0xfb)](_0x35fd4b(0x112));}function getLocalDateStr(_0x1aa064){const _0x4eb4ae=a3_0x3639c2,_0x128060=_0x1aa064['getFullYear'](),_0x4b0245=String(_0x1aa064[_0x4eb4ae(0x9f)]()+0x1)['padStart'](0x2,'0'),_0x42a234=String(_0x1aa064[_0x4eb4ae(0x133)]())[_0x4eb4ae(0x15a)](0x2,'0');return _0x128060+'-'+_0x4b0245+'-'+_0x42a234;}function getStartOfWeek(_0xa582d9){const _0x426fdf=a3_0x3639c2,_0x1797de=new Date(_0xa582d9),_0x2dbe3f=_0x1797de[_0x426fdf(0x9d)](),_0xe38cf1=_0x1797de[_0x426fdf(0x133)]()-_0x2dbe3f+(_0x2dbe3f===0x0?-0x6:0x1);return _0x1797de['setDate'](_0xe38cf1),_0x1797de['setHours'](0x0,0x0,0x0,0x0),_0x1797de;}function scrollToToday(){const _0x2067fb=getLocalDateStr(new Date());setTimeout(()=>{const _0x35be79=a3_0x5e5f,_0x4ccbca=document['querySelector']('.day-col-header[data-date=\x22'+_0x2067fb+'\x22]');if(_0x4ccbca){const _0x13b3be=document[_0x35be79(0x165)](_0x35be79(0xbb)),_0x2b6171=_0x4ccbca[_0x35be79(0xb5)]-_0x13b3be[_0x35be79(0xc8)]/0x2+_0x4ccbca[_0x35be79(0x16e)]/0x2;_0x13b3be[_0x35be79(0x105)]({'left':_0x2b6171,'behavior':_0x35be79(0xfd)}),_0x13b3be[_0x35be79(0x94)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x217539=a3_0x3639c2,_0x20ba2c=new Date(),_0x5befa3=document[_0x217539(0x165)]('globalTimeLine'),_0x5a3cc2=document[_0x217539(0x165)](_0x217539(0xe7)),_0x24fe56=(_0x20ba2c[_0x217539(0x177)]()*0x3c+_0x20ba2c[_0x217539(0xf7)]())/0x3c*GRID_H;_0x5befa3[_0x217539(0xeb)][_0x217539(0x164)]=_0x24fe56+'px',_0x5befa3[_0x217539(0xeb)][_0x217539(0x14f)]=_0x217539(0x144),_0x5a3cc2[_0x217539(0xeb)][_0x217539(0x164)]=_0x24fe56+'px',_0x5a3cc2['style'][_0x217539(0x14f)]=_0x217539(0x144),_0x5a3cc2[_0x217539(0x107)]=String(_0x20ba2c[_0x217539(0x177)]())['padStart'](0x2,'0')+':'+String(_0x20ba2c[_0x217539(0xf7)]())[_0x217539(0x15a)](0x2,'0');}function onScroll(){const _0x5d1188=a3_0x3639c2,_0x231e92=document[_0x5d1188(0x165)](_0x5d1188(0xbb)),_0x11d252=document[_0x5d1188(0x10a)](_0x5d1188(0x90));for(let _0x1d5148 of _0x11d252)if(_0x1d5148['offsetLeft']>=_0x231e92[_0x5d1188(0xf4)]){const _0x189de2=new Date(_0x1d5148[_0x5d1188(0x110)](_0x5d1188(0xbc)));document[_0x5d1188(0x165)]('headerMonth')['textContent']=_0x189de2[_0x5d1188(0xbf)]('ru',{'month':_0x5d1188(0x10c)})['toUpperCase']()+'\x20'+_0x189de2[_0x5d1188(0x149)]();break;}}function showToast(_0x173f84){const _0x1ab52f=a3_0x3639c2,_0x5b75af=document['getElementById'](_0x1ab52f(0xe1));_0x5b75af['textContent']=_0x173f84,_0x5b75af[_0x1ab52f(0x125)][_0x1ab52f(0xfb)](_0x1ab52f(0x102)),setTimeout(()=>_0x5b75af[_0x1ab52f(0x125)][_0x1ab52f(0x113)](_0x1ab52f(0x102)),0x7d0);}function handleInfiniteScroll(){const _0x24ab3b=a3_0x3639c2,_0x9205f1=document[_0x24ab3b(0x165)](_0x24ab3b(0xbb)),_0x5b17c8=_0x9205f1['scrollLeft'],_0x10b07c=_0x9205f1[_0x24ab3b(0xb1)],_0x19b4bc=_0x9205f1['clientWidth'];if(_0x10b07c-(_0x5b17c8+_0x19b4bc)<0x12c){const _0x49c04a=endOffset;endOffset+=0xe,renderDayRange(_0x49c04a+0x1,endOffset),reRenderBlocks();}if(_0x5b17c8<0x12c){const _0x38055d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x38055d-0x1),_0x9205f1[_0x24ab3b(0xf4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xbaa659,_0x2b4bc4){const _0x3f284b=a3_0x3639c2,_0x215d90=document[_0x3f284b(0x165)]('daysHeaderTrack'),_0x594f83=document[_0x3f284b(0x165)](_0x3f284b(0xe8)),_0x23927b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x338df7=new Date();_0x338df7[_0x3f284b(0xa2)](0x0,0x0,0x0,0x0);const _0x587d79=getLocalDateStr(new Date()),_0x24eb08=document[_0x3f284b(0x11b)](),_0x186965=document[_0x3f284b(0x11b)]();for(let _0x3c401d=_0xbaa659;_0x3c401d<=_0x2b4bc4;_0x3c401d++){const _0x934c9d=new Date(_0x338df7);_0x934c9d[_0x3f284b(0x119)](_0x934c9d[_0x3f284b(0x133)]()+_0x3c401d);const _0x24845c=getLocalDateStr(_0x934c9d);let _0x42cda5=_0x934c9d[_0x3f284b(0x9d)]()-0x1;if(_0x42cda5===-0x1)_0x42cda5=0x6;const _0x38c3bb=_0x24845c===_0x587d79,_0x532ffe=document[_0x3f284b(0x100)](_0x3f284b(0xf2));_0x532ffe[_0x3f284b(0x99)]='day-col-header\x20'+(_0x38c3bb?_0x3f284b(0xab):''),_0x532ffe['setAttribute'](_0x3f284b(0xbc),_0x24845c),_0x532ffe[_0x3f284b(0xd0)]=_0x3f284b(0x118)+_0x23927b[_0x42cda5]+_0x3f284b(0xd4)+_0x934c9d[_0x3f284b(0x133)]()+_0x3f284b(0xe5),_0x24eb08[_0x3f284b(0xff)](_0x532ffe);const _0x18881d=document['createElement'](_0x3f284b(0xf2));_0x18881d[_0x3f284b(0x99)]=_0x3f284b(0x121)+(_0x38c3bb?_0x3f284b(0xab):''),_0x18881d[_0x3f284b(0x174)]('data-date',_0x24845c),_0x18881d[_0x3f284b(0x174)](_0x3f284b(0x124),_0x42cda5),_0x186965['appendChild'](_0x18881d);}_0x215d90['insertBefore'](_0x24eb08,_0x215d90[_0x3f284b(0xc2)]),_0x594f83[_0x3f284b(0x130)](_0x186965,_0x594f83[_0x3f284b(0x115)](_0x3f284b(0x103)));}function hexToRgba(_0x803679,_0x24630b){const _0x4c7301=a3_0x3639c2;let _0x1bf2ca;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4c7301(0x127)](_0x803679))return _0x1bf2ca=_0x803679[_0x4c7301(0x11e)](0x1)[_0x4c7301(0x109)](''),_0x1bf2ca[_0x4c7301(0xac)]==0x3&&(_0x1bf2ca=[_0x1bf2ca[0x0],_0x1bf2ca[0x0],_0x1bf2ca[0x1],_0x1bf2ca[0x1],_0x1bf2ca[0x2],_0x1bf2ca[0x2]]),_0x1bf2ca='0x'+_0x1bf2ca[_0x4c7301(0xbe)](''),_0x4c7301(0xb8)+[_0x1bf2ca>>0x10&0xff,_0x1bf2ca>>0x8&0xff,_0x1bf2ca&0xff]['join'](',')+','+_0x24630b+')';return _0x4c7301(0xea)+_0x24630b+')';}let confirmResolver=null;function showCustomConfirm(_0x4795c1,_0xc0c11,_0xea4fc3=!![]){const _0x4fd182=a3_0x3639c2;document[_0x4fd182(0x165)](_0x4fd182(0x161))[_0x4fd182(0x107)]=_0x4795c1,document['getElementById'](_0x4fd182(0x114))['textContent']=_0xc0c11;const _0x16524a=document[_0x4fd182(0x165)](_0x4fd182(0x97));return _0xea4fc3?(_0x16524a[_0x4fd182(0xeb)][_0x4fd182(0xf0)]=_0x4fd182(0xcc),_0x16524a[_0x4fd182(0xeb)][_0x4fd182(0x91)]=_0x4fd182(0xf5)):(_0x16524a[_0x4fd182(0xeb)]['color']=_0x4fd182(0x15d),_0x16524a[_0x4fd182(0xeb)][_0x4fd182(0x91)]=_0x4fd182(0xf5)),new Promise(_0x852f4c=>{const _0x59cdb3=_0x4fd182;confirmResolver=_0x852f4c,document[_0x59cdb3(0x165)](_0x59cdb3(0xc7))[_0x59cdb3(0x125)][_0x59cdb3(0xfb)](_0x59cdb3(0x132));});}function resolveCustomConfirm(_0x5afea0){const _0x2213a3=a3_0x3639c2;document[_0x2213a3(0x165)](_0x2213a3(0xc7))[_0x2213a3(0x125)]['remove'](_0x2213a3(0x132));if(confirmResolver)confirmResolver(_0x5afea0);}async function tryCancelCurrentSession(){const _0x2a7308=a3_0x3639c2;if(!currentSession)return;const _0x3fd03b=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x2a7308(0x131),!![]);if(!_0x3fd03b)return;const _0x41423a=currentSession;closeAllSheets(),sessions=sessions[_0x2a7308(0x13e)](_0x4ec564=>_0x4ec564['id']!==_0x41423a['id']),reRenderBlocks(),showToast(_0x2a7308(0x17e)),lastUserActionTime=Date['now']();try{const _0x186d34=window[_0x2a7308(0x152)]?.['WebApp'],_0x1e8468=await fetch(API_URL,{'method':_0x2a7308(0x8d),'body':JSON[_0x2a7308(0x9b)]({'action':_0x2a7308(0x172),'init_data':_0x186d34?.['initData']||'','coachId':_0x41423a[_0x2a7308(0xd3)],'dateStr':_0x41423a[_0x2a7308(0xdf)],'sessionId':_0x41423a['id']})});if(_0x1e8468['ok'])DataManager['saveLocally']();}catch(_0x4fd51b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2cdcab=a3_0x3639c2;if(!currentSession)return;document[_0x2cdcab(0x165)](_0x2cdcab(0xa7))['classList'][_0x2cdcab(0x113)](_0x2cdcab(0x112)),document[_0x2cdcab(0x165)]('rescheduleSheet')[_0x2cdcab(0x125)][_0x2cdcab(0xfb)](_0x2cdcab(0x112));const _0x5bcce1=document[_0x2cdcab(0x165)](_0x2cdcab(0xd2)),_0x2e34b8=document[_0x2cdcab(0x165)](_0x2cdcab(0x182));_0x5bcce1['innerHTML']='',_0x2e34b8[_0x2cdcab(0xd0)]=_0x2cdcab(0x140);const [_0x5d8b7f,_0xb40cf6]=currentSession[_0x2cdcab(0xc9)][_0x2cdcab(0x109)](':')['map'](Number),[_0xf70eee,_0x3fe119]=currentSession[_0x2cdcab(0x128)][_0x2cdcab(0x109)](':')[_0x2cdcab(0x175)](Number),_0x21f4d1=_0xf70eee*0x3c+_0x3fe119-(_0x5d8b7f*0x3c+_0xb40cf6);try{const _0x50a0=window['Telegram']?.[_0x2cdcab(0x108)],_0x486d0f=await fetch(API_URL,{'method':_0x2cdcab(0x8d),'body':JSON['stringify']({'action':_0x2cdcab(0x160),'coachId':currentSession[_0x2cdcab(0xd3)],'duration':_0x21f4d1,'init_data':_0x50a0?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1c8857=await _0x486d0f[_0x2cdcab(0x181)]();_0x1c8857['ok']&&_0x1c8857[_0x2cdcab(0x150)]?(availableSlotsCache=_0x1c8857[_0x2cdcab(0x150)],renderRescheduleDates()):_0x2e34b8[_0x2cdcab(0xd0)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0xe2e1d3){_0x2e34b8['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0xefc438=a3_0x3639c2,_0x277346=document['getElementById'](_0xefc438(0xd2));_0x277346['innerHTML']='';const _0x378d30=Object[_0xefc438(0xe2)](availableSlotsCache)['sort'](),_0xf1c464=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x378d30['length']===0x0){document[_0xefc438(0x165)](_0xefc438(0x182))[_0xefc438(0xd0)]=_0xefc438(0x8c);return;}_0x378d30[_0xefc438(0x179)]((_0x4a15ad,_0x1a426c)=>{const _0x5bf34b=_0xefc438,_0x3d3d35=new Date(_0x4a15ad),_0x25269b=_0xf1c464[_0x3d3d35[_0x5bf34b(0x9d)]()],_0xb4cc46=_0x3d3d35['getDate'](),_0x209667=document['createElement'](_0x5bf34b(0xf2));_0x209667[_0x5bf34b(0x99)]=_0x5bf34b(0x180);if(_0x1a426c===0x0)_0x209667[_0x5bf34b(0x125)][_0x5bf34b(0xfb)](_0x5bf34b(0xda));_0x209667[_0x5bf34b(0xd0)]='<div\x20class=\x22rs-day-name\x22>'+_0x25269b+'</div><div\x20class=\x22rs-day-num\x22>'+_0xb4cc46+'</div>',_0x209667[_0x5bf34b(0x123)]=()=>selectRsDate(_0x4a15ad,_0x209667),_0x277346[_0x5bf34b(0xff)](_0x209667);}),selectRsDate(_0x378d30[0x0],_0x277346[_0xefc438(0xc2)]);}function selectRsDate(_0x182635,_0x36bd77){const _0x46e289=a3_0x3639c2;selectedRsDate=_0x182635,document[_0x46e289(0x10a)](_0x46e289(0x184))[_0x46e289(0x179)](_0x196849=>_0x196849['classList'][_0x46e289(0x113)](_0x46e289(0xda)));if(_0x36bd77)_0x36bd77[_0x46e289(0x125)][_0x46e289(0xfb)](_0x46e289(0xda));const _0x145f44=document[_0x46e289(0x165)]('rsSlotsGrid');_0x145f44[_0x46e289(0xd0)]='';const _0x45c31f=availableSlotsCache[_0x182635]||[];if(_0x45c31f['length']===0x0){_0x145f44[_0x46e289(0xd0)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x45c31f[_0x46e289(0x179)](_0x247afc=>{const _0x8ff429=_0x46e289,_0x152f3e=document['createElement']('button');_0x152f3e['className']=_0x8ff429(0x143),_0x152f3e[_0x8ff429(0x107)]=_0x247afc,_0x152f3e[_0x8ff429(0x123)]=()=>confirmReschedule(_0x247afc),_0x145f44[_0x8ff429(0xff)](_0x152f3e);});}function a3_0x5924(){const _0xbcc7ff=['active','\x20status-completed','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','toString','calendar','dateStr','search','toast','keys','toLocaleDateString','cancel_window','</div>','setHeaderColor','timeLineBadge','gridColumns','initData','rgba(10,\x20132,\x20255,\x20','style','stopPropagation','startsWith','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','time-label','color','calc(','div','cancelContainer','scrollLeft','600','#050505','getMinutes','now','.btn-reschedule','none','add','\x20–∏–∑\x20','auto','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','appendChild','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show','.day-column','2376012ZAAplo','scrollTo','anDonutCircle','textContent','WebApp','split','querySelectorAll','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','long','px\x200px','toUpperCase','</span>\x20/\x20','getAttribute','location','open','remove','ccText','querySelector','saveLocally','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','<div\x20class=\x22dch-day\x22>','setDate','planned','createDocumentFragment','month','866AlfIrJ','substring','max','detNote','day-column\x20','blocked-slot\x20stripe-bg','onclick','data-day-idx','classList','<span>','test','end','BackButton','uc_client_settings','settings','Critical\x20TMA\x20Error:','.btn-cancel','T23:59:59','left','insertBefore','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','visible','getDate','slice','findIndex','numeric','22635940MLbsBV','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–∑–∞\x20','charAt','blocked-range-part\x20stripe-bg','expand','2604745VzSLmH','filter','loadLocal','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','analyticsSheet','exceptions','rs-time-btn','block','.sheet','Error\x20setting\x20color:','status','v9.5-CLIENT-ANALYTICS','getFullYear','push','Error\x20setting\x20back\x20button:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','reschedule','.period-switch\x20.p-btn','display','data','cancelled','Telegram',':00</span>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','207SWXQnB','6DvoYMU','all','colIndex','anTotalStats','padStart','coach_profiles','setMonth','#0a84ff','anStart','applyData','get_slots','ccTitle','initDataUnsafe','height','top','getElementById','mini','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','79vLesPw','flex','1805153UgGpRn','floor','pattern','min','offsetWidth','client-stat-card','setItem','scroll','client_cancel','ready','setAttribute','map','DOMContentLoaded','getHours','note','forEach','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','day-col-header\x20','25000WKQYaC','parse','–û—Ç–º–µ–Ω–µ–Ω–æ','addEventListener','rs-date-chip','json','rsSlotsGrid','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.rs-date-chip','clients','then','strokeDashoffset','apply','anEnd','cid','total','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','POST','log','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header','fontWeight','ranges','\x20—á.','scrollTop','error','px\x20-','ccYesBtn','offClick','className','getItem','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getDay','Unknown','getMonth','value','daysHeaderTrack','setHours','overlay','timeColumn','event-card','analyticsList','detailsSheet','clientId','T00:00:00','borderLeftColor','today','length','%\x20-\x204px)','backgroundColor','substr','onClick','scrollWidth','var(--acc-blue)','constructor','isArray','offsetLeft','ru-RU','week','rgba(','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','backgroundPosition','matrixViewport','data-date','\x20-\x20','join','toLocaleString','zIndex','setBackgroundColor','firstChild','%\x20+\x202px)','getTime','anPercent','anCustomDates','customConfirm','clientWidth','start','sort','cancelHint','#ff453a','completed','client_load','router.html','innerHTML','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','rsDatesTrack','coachId','</div><div\x20class=\x22dch-num\x22>','done','(((.+)+)+)+$','detTime','round','3263400haLuuL'];a3_0x5924=function(){return _0xbcc7ff;};return a3_0x5924();}async function confirmReschedule(_0x2d73ca){const _0x100ba4=a3_0x3639c2,_0xf2f4fc=new Date(selectedRsDate),_0x1cba10=_0xf2f4fc[_0x100ba4(0xe3)](_0x100ba4(0xb6),{'day':_0x100ba4(0x136),'month':'long'}),_0x4fc46a=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x100ba4(0xfe)+_0x1cba10+'\x20–≤\x20'+_0x2d73ca+'?',![]);if(!_0x4fc46a)return;closeAllSheets(),showToast(_0x100ba4(0x167)),lastUserActionTime=Date[_0x100ba4(0xf8)]();const _0x3466d8=currentSession[_0x100ba4(0xdf)],_0x236bb6=currentSession['id'],[_0x167e67,_0x2921c5]=currentSession[_0x100ba4(0xc9)][_0x100ba4(0x109)](':')[_0x100ba4(0x175)](Number),[_0x47e55f,_0x5148ee]=currentSession[_0x100ba4(0x128)]['split'](':')[_0x100ba4(0x175)](Number),_0x2e5dc7=_0x47e55f*0x3c+_0x5148ee-(_0x167e67*0x3c+_0x2921c5),[_0x1881e5,_0x1f168c]=_0x2d73ca['split'](':')[_0x100ba4(0x175)](Number),_0x74208d=_0x1881e5*0x3c+_0x1f168c+_0x2e5dc7,_0x57bd8c=Math[_0x100ba4(0x16b)](_0x74208d/0x3c),_0xb4db63=_0x74208d%0x3c,_0x29a3e5=String(_0x57bd8c)[_0x100ba4(0x15a)](0x2,'0')+':'+String(_0xb4db63)[_0x100ba4(0x15a)](0x2,'0'),_0x575eea=sessions[_0x100ba4(0x135)](_0x1650bf=>_0x1650bf['id']===_0x236bb6);_0x575eea!==-0x1&&(sessions[_0x575eea]['dateStr']=selectedRsDate,sessions[_0x575eea][_0x100ba4(0xc9)]=_0x2d73ca,sessions[_0x575eea][_0x100ba4(0x128)]=_0x29a3e5,reRenderBlocks());try{const _0x1937de=window[_0x100ba4(0x152)]?.[_0x100ba4(0x108)],_0xc37231=await fetch(API_URL,{'method':_0x100ba4(0x8d),'body':JSON[_0x100ba4(0x9b)]({'action':_0x100ba4(0x14d),'init_data':_0x1937de?.[_0x100ba4(0xe9)]||'','oldSessionId':_0x236bb6,'oldDate':_0x3466d8,'newDate':selectedRsDate,'newTime':_0x2d73ca,'coachId':currentSession[_0x100ba4(0xd3)]})}),_0x34cbb5=await _0xc37231['json']();!_0x34cbb5['ok']?(showToast(_0x100ba4(0x117)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x41f9f5){showToast(_0x100ba4(0xb9));}}document['addEventListener'](a3_0x3639c2(0x176),init);