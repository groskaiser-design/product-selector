const a3_0x4efd6d=a3_0xc173;(function(_0x142e70,_0x370b97){const _0x2cdbe0=a3_0xc173,_0x37a930=_0x142e70();while(!![]){try{const _0x50e931=-parseInt(_0x2cdbe0(0x13c))/0x1*(-parseInt(_0x2cdbe0(0xa5))/0x2)+-parseInt(_0x2cdbe0(0xc1))/0x3*(parseInt(_0x2cdbe0(0x16c))/0x4)+-parseInt(_0x2cdbe0(0x166))/0x5*(parseInt(_0x2cdbe0(0x14e))/0x6)+-parseInt(_0x2cdbe0(0x131))/0x7*(-parseInt(_0x2cdbe0(0x165))/0x8)+-parseInt(_0x2cdbe0(0xfe))/0x9+parseInt(_0x2cdbe0(0x7b))/0xa*(-parseInt(_0x2cdbe0(0x82))/0xb)+parseInt(_0x2cdbe0(0xba))/0xc*(parseInt(_0x2cdbe0(0xb6))/0xd);if(_0x50e931===_0x370b97)break;else _0x37a930['push'](_0x37a930['shift']());}catch(_0x3cc75b){_0x37a930['push'](_0x37a930['shift']());}}}(a3_0x9014,0x5a3d1));const APP_VERSION=a3_0x4efd6d(0xfb),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x4efd6d(0x7e);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5cf942=a3_0x4efd6d,_0x4ceeaa=(function(){let _0x53e1a2=!![];return function(_0x16fb0e,_0x21f127){const _0x551796=_0x53e1a2?function(){const _0x3d5390=a3_0xc173;if(_0x21f127){const _0x5d2626=_0x21f127[_0x3d5390(0xbf)](_0x16fb0e,arguments);return _0x21f127=null,_0x5d2626;}}:function(){};return _0x53e1a2=![],_0x551796;};}()),_0x4e08d4=_0x4ceeaa(this,function(){const _0x54efe0=a3_0xc173;return _0x4e08d4[_0x54efe0(0x10b)]()['search']('(((.+)+)+)+$')['toString']()[_0x54efe0(0xc5)](_0x4e08d4)['search'](_0x54efe0(0x119));});_0x4e08d4();try{const _0x1ae7c1=window[_0x5cf942(0x160)]?.['WebApp'];if(!_0x1ae7c1)return;_0x1ae7c1[_0x5cf942(0xca)](),_0x1ae7c1[_0x5cf942(0xd3)]();try{_0x1ae7c1[_0x5cf942(0x129)](_0x5cf942(0x162)),_0x1ae7c1[_0x5cf942(0xe8)]&&_0x1ae7c1[_0x5cf942(0xe8)](_0x5cf942(0x162));}catch(_0x3407d7){console[_0x5cf942(0x8c)](_0x5cf942(0x167),_0x3407d7);}try{_0x1ae7c1[_0x5cf942(0x100)]&&(_0x1ae7c1[_0x5cf942(0x100)][_0x5cf942(0x146)](),_0x1ae7c1['BackButton'][_0x5cf942(0x13e)](),_0x1ae7c1['BackButton'][_0x5cf942(0x15e)](function(){window['location']['href']='router.html';}));}catch(_0x206a5b){console['log'](_0x5cf942(0xbc),_0x206a5b);}try{if(_0x1ae7c1[_0x5cf942(0xe2)])_0x1ae7c1['disableVerticalSwipes']();}catch(_0x62a019){}}catch(_0x4b769a){console[_0x5cf942(0x158)]('Critical\x20TMA\x20Error:',_0x4b769a);}}());function isAdmin(){const _0x216117=a3_0x4efd6d;try{const _0x181c54=Number(window[_0x216117(0x160)]?.[_0x216117(0xac)]?.['initDataUnsafe']?.[_0x216117(0xbe)]?.['id']);return _0x181c54===0xbaf7174;}catch(_0x1e7f66){return![];}}const DataManager={'saveLocally'(){const _0x1258ae=a3_0x4efd6d;try{localStorage[_0x1258ae(0x9d)](KEY_SESSIONS,JSON[_0x1258ae(0xd5)](sessions)),localStorage[_0x1258ae(0x9d)](KEY_CLIENTS,JSON[_0x1258ae(0xd5)](clients)),localStorage[_0x1258ae(0x9d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x370274){}},'loadLocal'(){const _0x993253=a3_0x4efd6d;try{const _0x2a9ad8=localStorage[_0x993253(0xcf)](KEY_SESSIONS);if(_0x2a9ad8)sessions=JSON[_0x993253(0xcd)](_0x2a9ad8);const _0x168acc=localStorage['getItem'](KEY_CLIENTS);if(_0x168acc)clients=JSON[_0x993253(0xcd)](_0x168acc);const _0x2e34e8=localStorage[_0x993253(0xcf)](KEY_SETTINGS);if(_0x2e34e8){const _0x5133e9=JSON['parse'](_0x2e34e8);if(_0x5133e9['pattern'])availabilityPattern=_0x5133e9[_0x993253(0xd4)];if(_0x5133e9[_0x993253(0xc2)])specialRanges=_0x5133e9[_0x993253(0xc2)];if(_0x5133e9[_0x993253(0xd2)])dateExceptions=_0x5133e9[_0x993253(0xd2)];}}catch(_0x38eb45){}},async 'syncLoad'(){const _0x4496ad=a3_0x4efd6d,_0x10b802=new Date(),_0x23e971=_0x10b802['getFullYear']()+'-'+String(_0x10b802['getMonth']()+0x1)[_0x4496ad(0x138)](0x2,'0'),_0x479c68=new Date(_0x10b802);_0x479c68[_0x4496ad(0x114)](_0x10b802[_0x4496ad(0x85)]()+0x1);const _0x6c0ffa=_0x479c68[_0x4496ad(0x121)]()+'-'+String(_0x479c68['getMonth']()+0x1)[_0x4496ad(0x138)](0x2,'0'),_0x3259cb=Date[_0x4496ad(0x91)]();try{const _0x135dde=window[_0x4496ad(0x160)]?.['WebApp'],_0x26e52a=_0x135dde?.[_0x4496ad(0x108)]||'',[_0x474092,_0x2ffc59]=await Promise['all']([fetch(API_URL,{'method':_0x4496ad(0xf0),'body':JSON[_0x4496ad(0xd5)]({'action':_0x4496ad(0x139),'init_data':_0x26e52a,'month_str':_0x23e971})})[_0x4496ad(0x95)](_0x2f606f=>_0x2f606f[_0x4496ad(0xc4)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x4496ad(0xd5)]({'action':_0x4496ad(0x139),'init_data':_0x26e52a,'month_str':_0x6c0ffa})})[_0x4496ad(0x95)](_0x43e7ec=>_0x43e7ec['json']())]);if(lastUserActionTime>_0x3259cb){console[_0x4496ad(0x8c)](_0x4496ad(0x12b));return;}if(_0x474092['ok'])this['applyData'](_0x474092[_0x4496ad(0xb2)],_0x23e971);if(_0x2ffc59['ok'])this[_0x4496ad(0xa0)](_0x2ffc59['data'],_0x6c0ffa);this[_0x4496ad(0x11a)]();}catch(_0x348c29){}},'applyData'(_0x57d433,_0x1ee4b5){const _0x22d591=a3_0x4efd6d;if(!_0x57d433)return;if(_0x57d433[_0x22d591(0x96)]){if(_0x57d433[_0x22d591(0x96)][_0x22d591(0xd4)])availabilityPattern=_0x57d433[_0x22d591(0x96)]['pattern'];if(_0x57d433[_0x22d591(0x96)][_0x22d591(0xc2)])specialRanges=_0x57d433['settings'][_0x22d591(0xc2)];if(_0x57d433[_0x22d591(0x96)]['exceptions'])dateExceptions=_0x57d433[_0x22d591(0x96)][_0x22d591(0xd2)];}if(_0x57d433[_0x22d591(0xff)]&&Array[_0x22d591(0x102)](_0x57d433['clients']))clients=_0x57d433[_0x22d591(0xff)];_0x57d433[_0x22d591(0x11c)]&&(coachProfiles={...coachProfiles,..._0x57d433[_0x22d591(0x11c)]}),_0x57d433['calendar']&&(sessions=sessions[_0x22d591(0x126)](_0x1ecabd=>!_0x1ecabd['dateStr'][_0x22d591(0x9f)](_0x1ee4b5)),Object['keys'](_0x57d433[_0x22d591(0xf8)])[_0x22d591(0x107)](_0x51e0dc=>{const _0x1d836e=_0x57d433['calendar'][_0x51e0dc];_0x1d836e['forEach'](_0x2440e7=>{const _0x5a1295=a3_0xc173;sessions['push']({'id':_0x2440e7['i'],'clientId':_0x2440e7['c'],'coachId':_0x2440e7[_0x5a1295(0x118)],'dateStr':_0x1ee4b5+'-'+_0x51e0dc[_0x5a1295(0x138)](0x2,'0'),'start':_0x2440e7['s'],'end':_0x2440e7['e'],'note':_0x2440e7['n']||'','status':_0x2440e7['st']||_0x5a1295(0x80),'seriesId':_0x2440e7[_0x5a1295(0xbd)]});});})),reRenderBlocks();}};function init(){const _0x450e57=a3_0x4efd6d;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x450e57(0x169))[_0x450e57(0x14b)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x47c7e0=a3_0x4efd6d,_0x487dca=document[_0x47c7e0(0x159)](_0x47c7e0(0x93)),_0x5e0c43=document['getElementById'](_0x47c7e0(0xd6));_0x487dca[_0x47c7e0(0x94)]='',_0x487dca[_0x47c7e0(0x10d)](_0x5e0c43);for(let _0x512602=0x0;_0x512602<0x18;_0x512602++){const _0x2a6c65=document[_0x47c7e0(0xd1)]('div');_0x2a6c65[_0x47c7e0(0x171)]=_0x47c7e0(0x128);if(_0x512602>0x0)_0x2a6c65[_0x47c7e0(0x94)]=_0x47c7e0(0x13f)+String(_0x512602)[_0x47c7e0(0x138)](0x2,'0')+_0x47c7e0(0x133);_0x487dca[_0x47c7e0(0x10d)](_0x2a6c65);}}function renderDayRange(_0x1170af,_0x17c69c){const _0x5b4a74=a3_0x4efd6d,_0x5747e1=document[_0x5b4a74(0x159)](_0x5b4a74(0xe3)),_0x3b529e=document[_0x5b4a74(0x159)]('gridColumns'),_0x57d5da=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3037f8=new Date();_0x3037f8[_0x5b4a74(0x16a)](0x0,0x0,0x0,0x0);const _0xd2e507=getLocalDateStr(new Date());for(let _0x9af62e=_0x1170af;_0x9af62e<=_0x17c69c;_0x9af62e++){const _0x3c6c27=new Date(_0x3037f8);_0x3c6c27[_0x5b4a74(0x170)](_0x3c6c27[_0x5b4a74(0xa6)]()+_0x9af62e);const _0x176724=getLocalDateStr(_0x3c6c27);let _0x546859=_0x3c6c27[_0x5b4a74(0xf9)]()-0x1;if(_0x546859===-0x1)_0x546859=0x6;const _0x20f1ef=_0x176724===_0xd2e507,_0x819a46=document[_0x5b4a74(0xd1)](_0x5b4a74(0xea));_0x819a46[_0x5b4a74(0x171)]=_0x5b4a74(0x156)+(_0x20f1ef?_0x5b4a74(0xb8):''),_0x819a46[_0x5b4a74(0x110)]('data-date',_0x176724),_0x819a46[_0x5b4a74(0x94)]='<div\x20class=\x22dch-day\x22>'+_0x57d5da[_0x546859]+'</div><div\x20class=\x22dch-num\x22>'+_0x3c6c27[_0x5b4a74(0xa6)]()+_0x5b4a74(0x9b),_0x5747e1[_0x5b4a74(0x10d)](_0x819a46);const _0x5d159b=document['createElement']('div');_0x5d159b[_0x5b4a74(0x171)]='day-column\x20'+(_0x20f1ef?_0x5b4a74(0xb8):''),_0x5d159b[_0x5b4a74(0x110)]('data-date',_0x176724),_0x5d159b['setAttribute'](_0x5b4a74(0x15a),_0x546859),_0x3b529e[_0x5b4a74(0x10d)](_0x5d159b);}}function reRenderBlocks(){const _0x502ce0=a3_0x4efd6d;document[_0x502ce0(0xab)](_0x502ce0(0xee))[_0x502ce0(0x107)](_0x35a49c=>{const _0xb8bfed=_0x502ce0;_0x35a49c[_0xb8bfed(0xab)](_0xb8bfed(0x164))[_0xb8bfed(0x107)](_0x48c107=>_0x48c107[_0xb8bfed(0x12a)]());const _0x5bcc97=_0x35a49c[_0xb8bfed(0x7a)](_0xb8bfed(0xda)),_0x20e4bf=parseInt(_0x35a49c[_0xb8bfed(0x7a)](_0xb8bfed(0x15a))),_0x3a3212=Math[_0xb8bfed(0xa8)](_0x35a49c[_0xb8bfed(0x15f)]);(availabilityPattern[_0x20e4bf]||[])[_0xb8bfed(0x107)](_0x46a825=>{const _0x16f687=_0xb8bfed,_0x20ee8a=document[_0x16f687(0xd1)](_0x16f687(0xea));_0x20ee8a['className']=_0x16f687(0x87),_0x20ee8a['style'][_0x16f687(0x10a)]=_0x46a825*GRID_H+'px',_0x20ee8a['style']['backgroundPosition']='-'+_0x3a3212+_0x16f687(0x12f)+_0x46a825*GRID_H+'px',_0x35a49c[_0x16f687(0x10d)](_0x20ee8a);});if(specialRanges[_0xb8bfed(0x86)]>0x0){const _0x13315a=new Date(_0x5bcc97+_0xb8bfed(0x11d))[_0xb8bfed(0x168)](),_0x44e9bd=new Date(_0x5bcc97+'T23:59:59')[_0xb8bfed(0x168)]();specialRanges['forEach'](_0x16c2f0=>{const _0xb60c65=_0xb8bfed,_0x195f0b=new Date(_0x16c2f0[_0xb60c65(0xae)])[_0xb60c65(0x168)](),_0x402130=new Date(_0x16c2f0[_0xb60c65(0x151)])['getTime'](),_0x128c89=Math[_0xb60c65(0xce)](_0x13315a,_0x195f0b),_0x2e62cc=Math[_0xb60c65(0xfc)](_0x44e9bd,_0x402130);if(_0x128c89<_0x2e62cc){const _0x42ea61=(_0x128c89-_0x13315a)/0x36ee80*GRID_H,_0xfaf36d=(_0x2e62cc-_0x128c89)/0x36ee80*GRID_H,_0x4b2c82=document[_0xb60c65(0xd1)]('div');_0xfaf36d>=23.5*GRID_H?(_0x4b2c82['className']=_0xb60c65(0x145),_0x4b2c82[_0xb60c65(0x109)][_0xb60c65(0x115)]='-'+_0x3a3212+_0xb60c65(0xe5)):(_0x4b2c82['className']=_0xb60c65(0x13a),_0x4b2c82[_0xb60c65(0x109)][_0xb60c65(0x10a)]=_0x42ea61+'px',_0x4b2c82['style'][_0xb60c65(0xbb)]=_0xfaf36d+'px',_0x4b2c82['style']['backgroundPosition']='-'+_0x3a3212+_0xb60c65(0x12f)+_0x42ea61+'px'),_0x35a49c[_0xb60c65(0x10d)](_0x4b2c82);}});}renderEventsForColumn(_0x35a49c,_0x5bcc97);});}function renderEventsForColumn(_0x5dcf21,_0x54cce7){const _0x26b212=a3_0x4efd6d,_0x46c135=sessions[_0x26b212(0x126)](_0x6767ba=>_0x6767ba[_0x26b212(0xec)]===_0x54cce7),_0x353890=_0x46c135[_0x26b212(0x16d)](_0x24b054=>{const _0x537348=_0x26b212,[_0x3e495f,_0x5f0f15]=_0x24b054[_0x537348(0xae)][_0x537348(0x120)](':')[_0x537348(0x16d)](Number),[_0x3dba2d,_0x2016ba]=_0x24b054['end'][_0x537348(0x120)](':')['map'](Number);return{'data':_0x24b054,'start':_0x3e495f*0x3c+_0x5f0f15,'end':_0x3dba2d*0x3c+_0x2016ba,'colIndex':0x0};});_0x353890[_0x26b212(0xa4)]((_0x7f28c7,_0x190ab9)=>_0x7f28c7[_0x26b212(0xae)]-_0x190ab9['start']||_0x190ab9[_0x26b212(0x151)]-_0x190ab9['start']-(_0x7f28c7[_0x26b212(0x151)]-_0x7f28c7[_0x26b212(0xae)]));const _0x490666=[];_0x353890[_0x26b212(0x107)](_0x4c6305=>{const _0x204948=_0x26b212;let _0x544964=![];for(let _0x2dcc47=0x0;_0x2dcc47<_0x490666[_0x204948(0x86)];_0x2dcc47++){const _0x53f5df=_0x490666[_0x2dcc47];if(_0x4c6305[_0x204948(0xae)]>=_0x53f5df[_0x53f5df[_0x204948(0x86)]-0x1]['end']){_0x53f5df[_0x204948(0xdc)](_0x4c6305),_0x4c6305[_0x204948(0x16e)]=_0x2dcc47,_0x544964=!![];break;}}!_0x544964&&(_0x490666[_0x204948(0xdc)]([_0x4c6305]),_0x4c6305['colIndex']=_0x490666[_0x204948(0x86)]-0x1);}),_0x353890[_0x26b212(0x107)](_0x46a877=>{const _0x1d04c3=_0x26b212;let _0x3b2446=0x0;_0x353890['forEach'](_0x130027=>{const _0x5565fc=a3_0xc173;if(Math[_0x5565fc(0xce)](_0x46a877[_0x5565fc(0xae)],_0x130027['start'])<Math[_0x5565fc(0xfc)](_0x46a877[_0x5565fc(0x151)],_0x130027[_0x5565fc(0x151)])&&_0x130027[_0x5565fc(0x16e)]>_0x3b2446)_0x3b2446=_0x130027[_0x5565fc(0x16e)];});const _0x4aa591=_0x3b2446+0x1,_0x3b94fa=0x64/_0x4aa591,_0x417d43=_0x46a877[_0x1d04c3(0x16e)]*_0x3b94fa,_0x1d2151=document[_0x1d04c3(0xd1)](_0x1d04c3(0xea)),_0x3235e5=_0x46a877['data'];let _0xc6c2b=_0x1d04c3(0x14f);if(clients&&clients[_0x1d04c3(0x86)]>0x0){const _0x4c49d7=clients[_0x1d04c3(0x163)](_0x2059ac=>String(_0x2059ac['id'])===String(_0x3235e5[_0x1d04c3(0x11f)]));if(_0x4c49d7&&_0x4c49d7[_0x1d04c3(0x7c)])_0xc6c2b=_0x4c49d7[_0x1d04c3(0x7c)];}const _0x5432b7=_0x3235e5[_0x1d04c3(0xb7)]===_0x1d04c3(0x101),_0x2ccf87=_0x5432b7?0x1:0.45;_0x1d2151['className']=_0x1d04c3(0xc3)+(_0x5432b7?_0x1d04c3(0x9c):''),_0x1d2151[_0x1d04c3(0x109)]['backgroundColor']=hexToRgba(_0xc6c2b,_0x2ccf87),_0x1d2151['style'][_0x1d04c3(0x88)]=_0xc6c2b;const _0x1ae24b=_0x46a877['start']/0x3c*GRID_H,_0x4fa65c=(_0x46a877[_0x1d04c3(0x151)]-_0x46a877[_0x1d04c3(0xae)])/0x3c*GRID_H;_0x1d2151[_0x1d04c3(0x109)][_0x1d04c3(0x10a)]=_0x1ae24b+'px',_0x1d2151['style'][_0x1d04c3(0xbb)]=Math[_0x1d04c3(0xce)](_0x4fa65c,0x14)+'px',_0x1d2151[_0x1d04c3(0x109)][_0x1d04c3(0xf5)]=_0x1d04c3(0xe9)+_0x3b94fa+'%\x20-\x204px)',_0x1d2151[_0x1d04c3(0x109)]['left']=_0x1d04c3(0xe9)+_0x417d43+_0x1d04c3(0x97),_0x1d2151[_0x1d04c3(0x109)][_0x1d04c3(0x103)]=0xa+_0x46a877[_0x1d04c3(0x16e)];if(_0x3b94fa<0x55)_0x1d2151[_0x1d04c3(0xc8)][_0x1d04c3(0xb0)](_0x1d04c3(0x12d));let _0xeb6cc7='';if(_0x3235e5[_0x1d04c3(0xb5)])_0xeb6cc7+=_0x1d04c3(0x161);if(_0x5432b7)_0xeb6cc7+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1d2151[_0x1d04c3(0x94)]=_0x1d04c3(0x15c)+_0x3235e5['start']+'\x20-\x20'+_0x3235e5[_0x1d04c3(0x151)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xeb6cc7+_0x1d04c3(0xde),_0x1d2151[_0x1d04c3(0x13d)]=_0x308fed=>{const _0x1e7851=_0x1d04c3;_0x308fed[_0x1e7851(0x7f)](),openDetails(_0x3235e5);},_0x5dcf21[_0x1d04c3(0x10d)](_0x1d2151);});}function openAnalytics(){const _0x1c1152=a3_0x4efd6d,_0xc13a5d=document[_0x1c1152(0x106)](_0x1c1152(0xe7));setAnalyticsPeriod('week',_0xc13a5d),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x54243d,_0xe24f2){const _0x299677=a3_0x4efd6d;currentAnPeriod=_0x54243d,document[_0x299677(0xab)](_0x299677(0xe7))[_0x299677(0x107)](_0x31009a=>_0x31009a['classList'][_0x299677(0x12a)](_0x299677(0x10e)));if(_0xe24f2)_0xe24f2['classList'][_0x299677(0xb0)](_0x299677(0x10e));const _0x2ec038=document['getElementById']('anCustomDates');_0x2ec038['style'][_0x299677(0x8a)]=_0x54243d==='custom'?'flex':_0x299677(0xd0);const _0x5141e3=new Date();let _0x23e9b9=new Date(),_0x5ef397=new Date();if(_0x54243d===_0x299677(0xa1))_0x23e9b9=getStartOfWeek(_0x5141e3),_0x5ef397=new Date(_0x23e9b9),_0x5ef397[_0x299677(0x170)](_0x5ef397[_0x299677(0xa6)]()+0x6);else{if(_0x54243d===_0x299677(0x7d))_0x23e9b9=new Date(_0x5141e3['getFullYear'](),_0x5141e3['getMonth'](),0x1),_0x5ef397=new Date(_0x5141e3[_0x299677(0x121)](),_0x5141e3[_0x299677(0x85)]()+0x1,0x0);else{!document[_0x299677(0x159)]('anStart')['value']&&(document[_0x299677(0x159)](_0x299677(0x104))[_0x299677(0x122)]=getLocalDateStr(_0x5141e3),document[_0x299677(0x159)](_0x299677(0x140))[_0x299677(0x122)]=getLocalDateStr(_0x5141e3));refreshAnalytics();return;}}document[_0x299677(0x159)](_0x299677(0x104))[_0x299677(0x122)]=getLocalDateStr(_0x23e9b9),document['getElementById'](_0x299677(0x140))[_0x299677(0x122)]=getLocalDateStr(_0x5ef397),refreshAnalytics();}function refreshAnalytics(){const _0xbda0bd=a3_0x4efd6d,_0x5a1081=document['getElementById']('anStart')[_0xbda0bd(0x122)],_0x545f51=document[_0xbda0bd(0x159)](_0xbda0bd(0x140))[_0xbda0bd(0x122)];if(!_0x5a1081||!_0x545f51)return;const _0x5c2913=sessions[_0xbda0bd(0x126)](_0x1d30c6=>_0x1d30c6[_0xbda0bd(0xec)]>=_0x5a1081&&_0x1d30c6[_0xbda0bd(0xec)]<=_0x545f51&&_0x1d30c6[_0xbda0bd(0xb7)]!=='cancelled'),_0x4ad91e=_0x5c2913[_0xbda0bd(0x86)],_0x41df10=_0x5c2913[_0xbda0bd(0x126)](_0x2ffbf0=>_0x2ffbf0['status']===_0xbda0bd(0x101))[_0xbda0bd(0x86)],_0x6117e7=_0x4ad91e>0x0?Math['round'](_0x41df10/_0x4ad91e*0x64):0x0;document['getElementById'](_0xbda0bd(0x132))[_0xbda0bd(0x124)]=_0x6117e7+'%',document['getElementById'](_0xbda0bd(0xa9))[_0xbda0bd(0x124)]=_0x41df10+_0xbda0bd(0x89)+_0x4ad91e+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x101074=document['getElementById'](_0xbda0bd(0x92)),_0xc833ae=0x2*Math['PI']*0x23,_0x12f747=_0xc833ae-_0x6117e7/0x64*_0xc833ae;_0x101074['style'][_0xbda0bd(0x137)]=_0x12f747;const _0xeca928={};_0x5c2913[_0xbda0bd(0x107)](_0x5ef041=>{const _0x5a180f=_0xbda0bd,_0x4dd245=_0x5ef041['coachId']||_0x5a180f(0x130);if(!_0xeca928[_0x4dd245]){const _0x3c8d8f='#'+_0x4dd245['toString']()[_0x5a180f(0x16f)](0x0,0x6);_0xeca928[_0x4dd245]={'total':0x0,'done':0x0,'color':_0x3c8d8f};}_0xeca928[_0x4dd245][_0x5a180f(0x84)]++;if(_0x5ef041['status']===_0x5a180f(0x101))_0xeca928[_0x4dd245][_0x5a180f(0x111)]++;});const _0x41c084=document[_0xbda0bd(0x159)]('analyticsList');_0x41c084[_0xbda0bd(0x94)]='';const _0x3d201f=Object[_0xbda0bd(0x12c)](_0xeca928)[_0xbda0bd(0xa4)]((_0x5062e1,_0x3a4b30)=>_0x3a4b30[0x1]['total']-_0x5062e1[0x1]['total']);if(_0x3d201f['length']===0x0){_0x41c084[_0xbda0bd(0x94)]=_0xbda0bd(0x175);return;}_0x3d201f[_0xbda0bd(0x107)](([_0x3bf5d1,_0x1834fb])=>{const _0x3cd757=_0xbda0bd,_0x31be9e=Math[_0x3cd757(0xa8)](_0x1834fb[_0x3cd757(0x111)]/_0x1834fb['total']*0x64),_0x1b8f24=document[_0x3cd757(0xd1)]('div');_0x1b8f24[_0x3cd757(0x171)]=_0x3cd757(0x15d),_0x1b8f24[_0x3cd757(0x109)]['borderLeftColor']=_0x1834fb[_0x3cd757(0x7c)],_0x1b8f24['innerHTML']=_0x3cd757(0xed)+_0x3bf5d1['substr'](0x0,0x5)+_0x3cd757(0x142)+_0x1834fb[_0x3cd757(0x111)]+'</span>\x20/\x20'+_0x1834fb[_0x3cd757(0x84)]+_0x3cd757(0xef)+_0x31be9e+_0x3cd757(0xcc),_0x41c084[_0x3cd757(0x10d)](_0x1b8f24);});}function openDetails(_0x2e3bb4){const _0x49e374=a3_0x4efd6d;currentSession=_0x2e3bb4;const _0x13af75=new Date(_0x2e3bb4[_0x49e374(0xec)]),_0x2faf06=_0x13af75[_0x49e374(0x143)]('ru-RU',{'weekday':_0x49e374(0xfd),'day':_0x49e374(0xfa),'month':'long'});document[_0x49e374(0x159)](_0x49e374(0x153))[_0x49e374(0x124)]=_0x2faf06[_0x49e374(0x112)](0x0)['toUpperCase']()+_0x2faf06[_0x49e374(0x12e)](0x1),document[_0x49e374(0x159)](_0x49e374(0xe4))[_0x49e374(0x124)]=_0x2e3bb4[_0x49e374(0xae)]+_0x49e374(0x14a)+_0x2e3bb4[_0x49e374(0x151)],document[_0x49e374(0x159)](_0x49e374(0xb9))['textContent']=_0x2e3bb4[_0x49e374(0xd9)]||_0x49e374(0xaf);const _0x10e472=document['getElementById'](_0x49e374(0x79)),_0x464f09=document[_0x49e374(0x159)](_0x49e374(0x155)),_0x506258=_0x464f09[_0x49e374(0x106)](_0x49e374(0x8b)),_0x3aed8c=_0x464f09['querySelector'](_0x49e374(0xc9)),_0x4ba89f=document[_0x49e374(0x159)](_0x49e374(0x8d));if(_0x2e3bb4[_0x49e374(0xb7)]===_0x49e374(0x101))_0x10e472[_0x49e374(0x124)]=_0x49e374(0x16b),_0x10e472[_0x49e374(0x109)][_0x49e374(0x7c)]=_0x49e374(0x14c),_0x464f09[_0x49e374(0x109)][_0x49e374(0x8a)]='none';else{_0x10e472[_0x49e374(0x124)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x10e472[_0x49e374(0x109)]['color']=_0x49e374(0x134),_0x464f09[_0x49e374(0x109)][_0x49e374(0x8a)]=_0x49e374(0x105);const _0x3af8de=new Date(_0x2e3bb4[_0x49e374(0xec)]+'T'+_0x2e3bb4['start']),_0x3ec5f1=new Date(),_0x30522b=(_0x3af8de-_0x3ec5f1)/(0x3e8*0x3c*0x3c),_0x5dcf5f=coachProfiles[_0x2e3bb4[_0x49e374(0xa7)]]&&coachProfiles[_0x2e3bb4[_0x49e374(0xa7)]][_0x49e374(0xc6)]?parseInt(coachProfiles[_0x2e3bb4[_0x49e374(0xa7)]][_0x49e374(0xc6)]):0x18;if(_0x5dcf5f===0x0||_0x30522b>=_0x5dcf5f)_0x506258[_0x49e374(0x109)]['display']=_0x49e374(0x105),_0x3aed8c[_0x49e374(0x109)][_0x49e374(0x8a)]=_0x49e374(0x105),_0x4ba89f[_0x49e374(0x109)][_0x49e374(0x8a)]=_0x49e374(0xd0);else{_0x506258[_0x49e374(0x109)][_0x49e374(0x8a)]='none',_0x3aed8c[_0x49e374(0x109)][_0x49e374(0x8a)]=_0x49e374(0xd0),_0x4ba89f[_0x49e374(0x109)][_0x49e374(0x8a)]=_0x49e374(0x105);let _0xadbf78=_0x5dcf5f===0x0?_0x49e374(0x14d):_0x49e374(0x144)+_0x5dcf5f+_0x49e374(0xf7);_0x4ba89f[_0x49e374(0x124)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0xadbf78+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById'](_0x49e374(0x147))[_0x49e374(0xc8)][_0x49e374(0xb0)]('active'),document['getElementById'](_0x49e374(0xf2))[_0x49e374(0xc8)][_0x49e374(0xb0)](_0x49e374(0x135));}function closeAllSheets(){const _0x14d7eb=a3_0x4efd6d;document[_0x14d7eb(0x159)](_0x14d7eb(0x147))[_0x14d7eb(0xc8)]['remove'](_0x14d7eb(0x10e)),document[_0x14d7eb(0xab)]('.sheet')['forEach'](_0x27038=>_0x27038[_0x14d7eb(0xc8)]['remove'](_0x14d7eb(0x135)));}function openSheet(_0x3336cb){const _0x5f5330=a3_0x4efd6d;document[_0x5f5330(0x159)]('overlay')['classList'][_0x5f5330(0xb0)](_0x5f5330(0x10e)),document[_0x5f5330(0x159)](_0x3336cb)['classList'][_0x5f5330(0xb0)]('open');}function getLocalDateStr(_0x1102ea){const _0x425a14=a3_0x4efd6d,_0x589cb7=_0x1102ea[_0x425a14(0x121)](),_0x4264d8=String(_0x1102ea[_0x425a14(0x85)]()+0x1)[_0x425a14(0x138)](0x2,'0'),_0x7152b3=String(_0x1102ea[_0x425a14(0xa6)]())[_0x425a14(0x138)](0x2,'0');return _0x589cb7+'-'+_0x4264d8+'-'+_0x7152b3;}function getStartOfWeek(_0x3e35c5){const _0x2be9b2=a3_0x4efd6d,_0x27ee71=new Date(_0x3e35c5),_0x5a206b=_0x27ee71[_0x2be9b2(0xf9)](),_0x14924e=_0x27ee71['getDate']()-_0x5a206b+(_0x5a206b===0x0?-0x6:0x1);return _0x27ee71[_0x2be9b2(0x170)](_0x14924e),_0x27ee71['setHours'](0x0,0x0,0x0,0x0),_0x27ee71;}function scrollToToday(){const _0x4c9271=getLocalDateStr(new Date());setTimeout(()=>{const _0x441aa8=a3_0xc173,_0x85802b=document[_0x441aa8(0x106)](_0x441aa8(0x11b)+_0x4c9271+'\x22]');if(_0x85802b){const _0xda5754=document[_0x441aa8(0x159)](_0x441aa8(0x169)),_0x342908=_0x85802b[_0x441aa8(0x15f)]-_0xda5754[_0x441aa8(0x9a)]/0x2+_0x85802b[_0x441aa8(0xdb)]/0x2;_0xda5754[_0x441aa8(0xe1)]({'left':_0x342908,'behavior':_0x441aa8(0x172)}),_0xda5754['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3bb3a0=a3_0x4efd6d,_0x1903dd=new Date(),_0x1b6188=document[_0x3bb3a0(0x159)](_0x3bb3a0(0xeb)),_0x453fe5=document[_0x3bb3a0(0x159)](_0x3bb3a0(0xd6)),_0x38ae56=(_0x1903dd[_0x3bb3a0(0xb3)]()*0x3c+_0x1903dd[_0x3bb3a0(0xf3)]())/0x3c*GRID_H;_0x1b6188[_0x3bb3a0(0x109)][_0x3bb3a0(0x10a)]=_0x38ae56+'px',_0x1b6188[_0x3bb3a0(0x109)]['display']=_0x3bb3a0(0x105),_0x453fe5[_0x3bb3a0(0x109)][_0x3bb3a0(0x10a)]=_0x38ae56+'px',_0x453fe5['style'][_0x3bb3a0(0x8a)]=_0x3bb3a0(0x105),_0x453fe5[_0x3bb3a0(0x124)]=String(_0x1903dd['getHours']())[_0x3bb3a0(0x138)](0x2,'0')+':'+String(_0x1903dd[_0x3bb3a0(0xf3)]())['padStart'](0x2,'0');}function onScroll(){const _0x34341c=a3_0x4efd6d,_0x42d35d=document['getElementById'](_0x34341c(0x169)),_0x292ac4=document[_0x34341c(0xab)](_0x34341c(0xdf));for(let _0x19353f of _0x292ac4)if(_0x19353f['offsetLeft']>=_0x42d35d[_0x34341c(0xe0)]){const _0x3a2085=new Date(_0x19353f[_0x34341c(0x7a)](_0x34341c(0xda)));document[_0x34341c(0x159)](_0x34341c(0xcb))[_0x34341c(0x124)]=_0x3a2085[_0x34341c(0x81)]('ru',{'month':_0x34341c(0xfd)})[_0x34341c(0x173)]()+'\x20'+_0x3a2085[_0x34341c(0x121)]();break;}}function showToast(_0x22c40a){const _0x2b35b8=a3_0x4efd6d,_0x3b00d6=document[_0x2b35b8(0x159)](_0x2b35b8(0x141));_0x3b00d6[_0x2b35b8(0x124)]=_0x22c40a,_0x3b00d6[_0x2b35b8(0xc8)][_0x2b35b8(0xb0)](_0x2b35b8(0x146)),setTimeout(()=>_0x3b00d6[_0x2b35b8(0xc8)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0xe044ad=a3_0x4efd6d,_0x30da0c=document[_0xe044ad(0x159)](_0xe044ad(0x169)),_0x345d0e=_0x30da0c[_0xe044ad(0xe0)],_0x18842c=_0x30da0c[_0xe044ad(0x157)],_0x19f3df=_0x30da0c['clientWidth'];if(_0x18842c-(_0x345d0e+_0x19f3df)<0x12c){const _0x324a5b=endOffset;endOffset+=0xe,renderDayRange(_0x324a5b+0x1,endOffset),reRenderBlocks();}if(_0x345d0e<0x12c){const _0x3d1d29=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3d1d29-0x1),_0x30da0c[_0xe044ad(0xe0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x15318c,_0x35a018){const _0x47d005=a3_0x4efd6d,_0x191be9=document[_0x47d005(0x159)](_0x47d005(0xe3)),_0x2d3ee8=document[_0x47d005(0x159)](_0x47d005(0x152)),_0x48ffe3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3b3338=new Date();_0x3b3338[_0x47d005(0x16a)](0x0,0x0,0x0,0x0);const _0x21922f=getLocalDateStr(new Date()),_0x360dcf=document[_0x47d005(0x83)](),_0x19c301=document['createDocumentFragment']();for(let _0x510674=_0x15318c;_0x510674<=_0x35a018;_0x510674++){const _0x321ea3=new Date(_0x3b3338);_0x321ea3[_0x47d005(0x170)](_0x321ea3['getDate']()+_0x510674);const _0x429bd1=getLocalDateStr(_0x321ea3);let _0x552e09=_0x321ea3[_0x47d005(0xf9)]()-0x1;if(_0x552e09===-0x1)_0x552e09=0x6;const _0x5f3f28=_0x429bd1===_0x21922f,_0x1b94e0=document[_0x47d005(0xd1)]('div');_0x1b94e0[_0x47d005(0x171)]=_0x47d005(0x156)+(_0x5f3f28?_0x47d005(0xb8):''),_0x1b94e0[_0x47d005(0x110)](_0x47d005(0xda),_0x429bd1),_0x1b94e0[_0x47d005(0x94)]=_0x47d005(0x90)+_0x48ffe3[_0x552e09]+_0x47d005(0x8e)+_0x321ea3['getDate']()+_0x47d005(0x9b),_0x360dcf[_0x47d005(0x10d)](_0x1b94e0);const _0x15b00e=document[_0x47d005(0xd1)](_0x47d005(0xea));_0x15b00e[_0x47d005(0x171)]=_0x47d005(0x98)+(_0x5f3f28?_0x47d005(0xb8):''),_0x15b00e[_0x47d005(0x110)](_0x47d005(0xda),_0x429bd1),_0x15b00e[_0x47d005(0x110)]('data-day-idx',_0x552e09),_0x19c301[_0x47d005(0x10d)](_0x15b00e);}_0x191be9['insertBefore'](_0x360dcf,_0x191be9[_0x47d005(0x15b)]),_0x2d3ee8[_0x47d005(0xc0)](_0x19c301,_0x2d3ee8[_0x47d005(0x106)]('.day-column'));}function a3_0xc173(_0x564a16,_0x24b830){_0x564a16=_0x564a16-0x79;const _0x16e9f1=a3_0x9014();let _0x473d09=_0x16e9f1[_0x564a16];return _0x473d09;}function hexToRgba(_0x50392a,_0xca4f04){const _0x328405=a3_0x4efd6d;let _0x37fe72;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x328405(0xa2)](_0x50392a))return _0x37fe72=_0x50392a[_0x328405(0xd7)](0x1)[_0x328405(0x120)](''),_0x37fe72['length']==0x3&&(_0x37fe72=[_0x37fe72[0x0],_0x37fe72[0x0],_0x37fe72[0x1],_0x37fe72[0x1],_0x37fe72[0x2],_0x37fe72[0x2]]),_0x37fe72='0x'+_0x37fe72[_0x328405(0x127)](''),'rgba('+[_0x37fe72>>0x10&0xff,_0x37fe72>>0x8&0xff,_0x37fe72&0xff][_0x328405(0x127)](',')+','+_0xca4f04+')';return _0x328405(0x10c)+_0xca4f04+')';}let confirmResolver=null;function showCustomConfirm(_0x5a7f7d,_0x3362bc,_0x47be33=!![]){const _0x2ce986=a3_0x4efd6d;document[_0x2ce986(0x159)](_0x2ce986(0x9e))['textContent']=_0x5a7f7d,document['getElementById'](_0x2ce986(0x8f))[_0x2ce986(0x124)]=_0x3362bc;const _0x47a8cd=document[_0x2ce986(0x159)](_0x2ce986(0xf4));return _0x47be33?(_0x47a8cd[_0x2ce986(0x109)][_0x2ce986(0x7c)]=_0x2ce986(0x13b),_0x47a8cd[_0x2ce986(0x109)][_0x2ce986(0xa3)]=_0x2ce986(0x154)):(_0x47a8cd[_0x2ce986(0x109)][_0x2ce986(0x7c)]=_0x2ce986(0x14f),_0x47a8cd[_0x2ce986(0x109)][_0x2ce986(0xa3)]=_0x2ce986(0x154)),new Promise(_0x334a57=>{const _0xce485=_0x2ce986;confirmResolver=_0x334a57,document['getElementById'](_0xce485(0xad))['classList'][_0xce485(0xb0)]('visible');});}function resolveCustomConfirm(_0x536a79){const _0x52f4da=a3_0x4efd6d;document[_0x52f4da(0x159)](_0x52f4da(0xad))[_0x52f4da(0xc8)][_0x52f4da(0x12a)](_0x52f4da(0x117));if(confirmResolver)confirmResolver(_0x536a79);}async function tryCancelCurrentSession(){const _0x83b8cd=a3_0x4efd6d;if(!currentSession)return;const _0x2be183=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x83b8cd(0x116),!![]);if(!_0x2be183)return;const _0x146197=currentSession;closeAllSheets(),sessions=sessions[_0x83b8cd(0x126)](_0x50f22e=>_0x50f22e['id']!==_0x146197['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x4538d8=window[_0x83b8cd(0x160)]?.['WebApp'],_0xea23=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x4538d8?.[_0x83b8cd(0x108)]||'','coachId':_0x146197[_0x83b8cd(0xa7)],'dateStr':_0x146197[_0x83b8cd(0xec)],'sessionId':_0x146197['id']})});if(_0xea23['ok'])DataManager[_0x83b8cd(0x11a)]();}catch(_0x1dc84b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x259382=a3_0x4efd6d;if(!currentSession)return;document[_0x259382(0x159)](_0x259382(0xf2))[_0x259382(0xc8)][_0x259382(0x12a)](_0x259382(0x135)),document[_0x259382(0x159)]('rescheduleSheet')[_0x259382(0xc8)][_0x259382(0xb0)]('open');const _0x46f80c=document[_0x259382(0x159)](_0x259382(0xc7)),_0x1eac20=document[_0x259382(0x159)](_0x259382(0xd8));_0x46f80c[_0x259382(0x94)]='',_0x1eac20['innerHTML']=_0x259382(0x113);const [_0x51cafa,_0x42a59d]=currentSession['start']['split'](':')['map'](Number),[_0x2c673b,_0x5ca7ca]=currentSession['end'][_0x259382(0x120)](':')[_0x259382(0x16d)](Number),_0x2b0fb9=_0x2c673b*0x3c+_0x5ca7ca-(_0x51cafa*0x3c+_0x42a59d);try{const _0x5892ec=window['Telegram']?.[_0x259382(0xac)],_0x137229=await fetch(API_URL,{'method':_0x259382(0xf0),'body':JSON['stringify']({'action':_0x259382(0x148),'coachId':currentSession[_0x259382(0xa7)],'duration':_0x2b0fb9,'init_data':_0x5892ec?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x505f5d=await _0x137229[_0x259382(0xc4)]();_0x505f5d['ok']&&_0x505f5d[_0x259382(0xb2)]?(availableSlotsCache=_0x505f5d[_0x259382(0xb2)],renderRescheduleDates()):_0x1eac20[_0x259382(0x94)]=_0x259382(0xb4);}catch(_0x312d17){_0x1eac20[_0x259382(0x94)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x390fe1=a3_0x4efd6d,_0x47435b=document[_0x390fe1(0x159)](_0x390fe1(0xc7));_0x47435b[_0x390fe1(0x94)]='';const _0x1b6183=Object[_0x390fe1(0x136)](availableSlotsCache)[_0x390fe1(0xa4)](),_0x379f12=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1b6183[_0x390fe1(0x86)]===0x0){document['getElementById']('rsSlotsGrid')[_0x390fe1(0x94)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x1b6183[_0x390fe1(0x107)]((_0xec9838,_0x477998)=>{const _0x37f040=_0x390fe1,_0x3a4638=new Date(_0xec9838),_0x176847=_0x379f12[_0x3a4638[_0x37f040(0xf9)]()],_0x307cfe=_0x3a4638[_0x37f040(0xa6)](),_0x2d0c86=document[_0x37f040(0xd1)]('div');_0x2d0c86[_0x37f040(0x171)]='rs-date-chip';if(_0x477998===0x0)_0x2d0c86[_0x37f040(0xc8)][_0x37f040(0xb0)](_0x37f040(0x10e));_0x2d0c86[_0x37f040(0x94)]=_0x37f040(0x150)+_0x176847+_0x37f040(0x123)+_0x307cfe+_0x37f040(0x9b),_0x2d0c86[_0x37f040(0x13d)]=()=>selectRsDate(_0xec9838,_0x2d0c86),_0x47435b[_0x37f040(0x10d)](_0x2d0c86);}),selectRsDate(_0x1b6183[0x0],_0x47435b[_0x390fe1(0x15b)]);}function selectRsDate(_0x31c87c,_0x2c5059){const _0x39019d=a3_0x4efd6d;selectedRsDate=_0x31c87c,document['querySelectorAll'](_0x39019d(0xdd))[_0x39019d(0x107)](_0x3b26fa=>_0x3b26fa[_0x39019d(0xc8)][_0x39019d(0x12a)](_0x39019d(0x10e)));if(_0x2c5059)_0x2c5059['classList'][_0x39019d(0xb0)](_0x39019d(0x10e));const _0x3c6a38=document['getElementById'](_0x39019d(0xd8));_0x3c6a38[_0x39019d(0x94)]='';const _0xe38fe2=availableSlotsCache[_0x31c87c]||[];if(_0xe38fe2['length']===0x0){_0x3c6a38['innerHTML']=_0x39019d(0xb4);return;}_0xe38fe2[_0x39019d(0x107)](_0x5b7fd5=>{const _0x345c3a=_0x39019d,_0xd3bcd9=document[_0x345c3a(0xd1)](_0x345c3a(0x125));_0xd3bcd9[_0x345c3a(0x171)]=_0x345c3a(0x174),_0xd3bcd9[_0x345c3a(0x124)]=_0x5b7fd5,_0xd3bcd9[_0x345c3a(0x13d)]=()=>confirmReschedule(_0x5b7fd5),_0x3c6a38[_0x345c3a(0x10d)](_0xd3bcd9);});}function a3_0x9014(){const _0x1502e3=['ready','headerMonth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','max','getItem','none','createElement','exceptions','expand','pattern','stringify','timeLineBadge','substring','rsSlotsGrid','note','data-date','offsetWidth','push','.rs-date-chip','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header','scrollLeft','scrollTo','disableVerticalSwipes','daysHeaderTrack','detTime','px\x200px','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','.period-switch\x20.p-btn','setBackgroundColor','calc(','div','globalTimeLine','dateStr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','.day-column','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','POST','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','detailsSheet','getMinutes','ccYesBtn','width','findIndex','\x20—á.','calendar','getDay','numeric','v9.5-CLIENT-ANALYTICS','min','long','830763nkKzBQ','clients','BackButton','completed','isArray','zIndex','anStart','block','querySelector','forEach','initData','style','top','toString','rgba(10,\x20132,\x20255,\x20','appendChild','active','ru-RU','setAttribute','done','charAt','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setMonth','backgroundPosition','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','visible','cid','(((.+)+)+)+$','saveLocally','.day-col-header[data-date=\x22','coach_profiles','T00:00:00','DOMContentLoaded','clientId','split','getFullYear','value','</div><div\x20class=\x22rs-day-num\x22>','textContent','button','filter','join','time-label','setHeaderColor','remove','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','entries','mini','slice','px\x20-','Unknown','35opWdah','anPercent',':00</span>','var(--acc-blue)','open','keys','strokeDashoffset','padStart','client_load','blocked-range-part\x20stripe-bg','#ff453a','41NMffWF','onclick','offClick','<span>','anEnd','toast','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','toLocaleDateString','–∑–∞\x20','day-off-overlay\x20stripe-bg','show','overlay','get_slots','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','\x20-\x20','addEventListener','var(--acc-green)','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','12siwybc','#0a84ff','<div\x20class=\x22rs-day-name\x22>','end','gridColumns','detDate','600','cancelContainer','day-col-header\x20','scrollWidth','error','getElementById','data-day-idx','firstChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','client-stat-card','onClick','offsetLeft','Telegram','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','#050505','find','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','23560UTvqTh','1337660mNmDqQ','Error\x20setting\x20color:','getTime','matrixViewport','setHours','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','408596agvPDE','map','colIndex','substr','setDate','className','auto','toUpperCase','rs-time-btn','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','detStatus','getAttribute','180iLVcfd','color','month','uc_client_list','stopPropagation','planned','toLocaleString','214027iQdufP','createDocumentFragment','total','getMonth','length','blocked-slot\x20stripe-bg','borderLeftColor','\x20–∏–∑\x20','display','.btn-cancel','log','cancelHint','</div><div\x20class=\x22dch-num\x22>','ccText','<div\x20class=\x22dch-day\x22>','now','anDonutCircle','timeColumn','innerHTML','then','settings','%\x20+\x202px)','day-column\x20','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','clientWidth','</div>','\x20status-completed','setItem','ccTitle','startsWith','applyData','week','test','fontWeight','sort','30536hqSLNi','getDate','coachId','round','anTotalStats','syncLoad','querySelectorAll','WebApp','customConfirm','start','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','add','floor','data','getHours','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','seriesId','11840387knfasr','status','today','detNote','12COPRtQ','height','Error\x20setting\x20back\x20button:','sid','user','apply','insertBefore','6nancFf','ranges','event-card','json','constructor','cancel_window','rsDatesTrack','classList','.btn-reschedule'];a3_0x9014=function(){return _0x1502e3;};return a3_0x9014();}async function confirmReschedule(_0x4e3525){const _0x40bbc2=a3_0x4efd6d,_0x5ee02a=new Date(selectedRsDate),_0x2165a5=_0x5ee02a[_0x40bbc2(0x143)](_0x40bbc2(0x10f),{'day':'numeric','month':'long'}),_0x48d78d=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x40bbc2(0x149)+_0x2165a5+'\x20–≤\x20'+_0x4e3525+'?',![]);if(!_0x48d78d)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x63d1bd=currentSession['dateStr'],_0x2c0afa=currentSession['id'],[_0x2f3206,_0x404f56]=currentSession['start'][_0x40bbc2(0x120)](':')[_0x40bbc2(0x16d)](Number),[_0x5c1532,_0x30625c]=currentSession['end']['split'](':')[_0x40bbc2(0x16d)](Number),_0x57a20d=_0x5c1532*0x3c+_0x30625c-(_0x2f3206*0x3c+_0x404f56),[_0x2eb8d6,_0x34c92d]=_0x4e3525[_0x40bbc2(0x120)](':')[_0x40bbc2(0x16d)](Number),_0x300fbf=_0x2eb8d6*0x3c+_0x34c92d+_0x57a20d,_0x5a1739=Math[_0x40bbc2(0xb1)](_0x300fbf/0x3c),_0x4f059d=_0x300fbf%0x3c,_0x44eb58=String(_0x5a1739)[_0x40bbc2(0x138)](0x2,'0')+':'+String(_0x4f059d)['padStart'](0x2,'0'),_0x1eccce=sessions[_0x40bbc2(0xf6)](_0x18e365=>_0x18e365['id']===_0x2c0afa);_0x1eccce!==-0x1&&(sessions[_0x1eccce]['dateStr']=selectedRsDate,sessions[_0x1eccce][_0x40bbc2(0xae)]=_0x4e3525,sessions[_0x1eccce]['end']=_0x44eb58,reRenderBlocks());try{const _0x4eaa59=window['Telegram']?.[_0x40bbc2(0xac)],_0x22e649=await fetch(API_URL,{'method':'POST','body':JSON[_0x40bbc2(0xd5)]({'action':'reschedule','init_data':_0x4eaa59?.[_0x40bbc2(0x108)]||'','oldSessionId':_0x2c0afa,'oldDate':_0x63d1bd,'newDate':selectedRsDate,'newTime':_0x4e3525,'coachId':currentSession[_0x40bbc2(0xa7)]})}),_0x344f9a=await _0x22e649[_0x40bbc2(0xc4)]();!_0x344f9a['ok']?(showToast(_0x40bbc2(0xf1)),DataManager[_0x40bbc2(0xaa)]()):(showToast(_0x40bbc2(0x99)),DataManager['saveLocally']());}catch(_0x41b1a7){showToast(_0x40bbc2(0xe6));}}document['addEventListener'](a3_0x4efd6d(0x11e),init);