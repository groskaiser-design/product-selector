const a3_0x454d02=a3_0x4c08;(function(_0x1f72c6,_0x3bf83a){const _0x3d60e2=a3_0x4c08,_0x16e0f8=_0x1f72c6();while(!![]){try{const _0x211ff0=-parseInt(_0x3d60e2(0xb8))/0x1+-parseInt(_0x3d60e2(0xb7))/0x2+-parseInt(_0x3d60e2(0x102))/0x3*(-parseInt(_0x3d60e2(0xce))/0x4)+-parseInt(_0x3d60e2(0xd7))/0x5*(-parseInt(_0x3d60e2(0x195))/0x6)+-parseInt(_0x3d60e2(0x10f))/0x7*(-parseInt(_0x3d60e2(0x17d))/0x8)+parseInt(_0x3d60e2(0x1a8))/0x9*(parseInt(_0x3d60e2(0x1a3))/0xa)+-parseInt(_0x3d60e2(0xed))/0xb;if(_0x211ff0===_0x3bf83a)break;else _0x16e0f8['push'](_0x16e0f8['shift']());}catch(_0x22397b){_0x16e0f8['push'](_0x16e0f8['shift']());}}}(a3_0x3a0c,0x478dc));const APP_VERSION=a3_0x454d02(0x107),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x454d02(0x105),KEY_CLIENTS=a3_0x454d02(0x1ae);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5ebcc1=a3_0x454d02,_0x256018=(function(){let _0x561a2b=!![];return function(_0x5e20e6,_0x289dcd){const _0x5b45fe=_0x561a2b?function(){if(_0x289dcd){const _0x107ca1=_0x289dcd['apply'](_0x5e20e6,arguments);return _0x289dcd=null,_0x107ca1;}}:function(){};return _0x561a2b=![],_0x5b45fe;};}()),_0x544ad9=_0x256018(this,function(){const _0x1814c7=a3_0x4c08;return _0x544ad9['toString']()['search'](_0x1814c7(0x17c))['toString']()[_0x1814c7(0x142)](_0x544ad9)[_0x1814c7(0xf7)](_0x1814c7(0x17c));});_0x544ad9();try{const _0x5bb2dc=window[_0x5ebcc1(0x122)]?.[_0x5ebcc1(0xd3)];if(!_0x5bb2dc)return;_0x5bb2dc['ready'](),_0x5bb2dc[_0x5ebcc1(0x125)]();try{_0x5bb2dc[_0x5ebcc1(0x198)](_0x5ebcc1(0x15f)),_0x5bb2dc[_0x5ebcc1(0xbb)]&&_0x5bb2dc[_0x5ebcc1(0xbb)](_0x5ebcc1(0x15f));}catch(_0x40ea8e){console[_0x5ebcc1(0x15c)](_0x5ebcc1(0x130),_0x40ea8e);}try{_0x5bb2dc['BackButton']&&(_0x5bb2dc['BackButton']['show'](),_0x5bb2dc[_0x5ebcc1(0xee)][_0x5ebcc1(0x18f)](),_0x5bb2dc[_0x5ebcc1(0xee)]['onClick'](function(){const _0x52173c=_0x5ebcc1;window['location']['href']=_0x52173c(0xf6);}));}catch(_0x5a4a1e){console[_0x5ebcc1(0x15c)](_0x5ebcc1(0xd9),_0x5a4a1e);}try{if(_0x5bb2dc[_0x5ebcc1(0xc4)])_0x5bb2dc[_0x5ebcc1(0xc4)]();}catch(_0x5c3149){}}catch(_0x5884f6){console['error'](_0x5ebcc1(0x11b),_0x5884f6);}}());function isAdmin(){const _0x33957a=a3_0x454d02;try{const _0x346c61=Number(window[_0x33957a(0x122)]?.[_0x33957a(0xd3)]?.[_0x33957a(0x192)]?.['user']?.['id']);return _0x346c61===0xbaf7174;}catch(_0xc392c5){return![];}}const DataManager={'saveLocally'(){const _0x330bc1=a3_0x454d02;try{localStorage[_0x330bc1(0xd5)](KEY_SESSIONS,JSON[_0x330bc1(0xba)](sessions)),localStorage[_0x330bc1(0xd5)](KEY_CLIENTS,JSON[_0x330bc1(0xba)](clients)),localStorage[_0x330bc1(0xd5)](KEY_SETTINGS,JSON[_0x330bc1(0xba)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x46ec0a){}},'loadLocal'(){const _0x1d1717=a3_0x454d02;try{const _0x3ae0d4=localStorage['getItem'](KEY_SESSIONS);if(_0x3ae0d4)sessions=JSON['parse'](_0x3ae0d4);const _0x354497=localStorage['getItem'](KEY_CLIENTS);if(_0x354497)clients=JSON['parse'](_0x354497);const _0x1d8a06=localStorage['getItem'](KEY_SETTINGS);if(_0x1d8a06){const _0x465b45=JSON[_0x1d1717(0xd6)](_0x1d8a06);if(_0x465b45[_0x1d1717(0xb9)])availabilityPattern=_0x465b45[_0x1d1717(0xb9)];if(_0x465b45[_0x1d1717(0xff)])specialRanges=_0x465b45[_0x1d1717(0xff)];if(_0x465b45[_0x1d1717(0x1a5)])dateExceptions=_0x465b45[_0x1d1717(0x1a5)];}}catch(_0x462323){}},async 'syncLoad'(){const _0x16141b=a3_0x454d02,_0x30aab6=new Date(),_0x19707e=_0x30aab6['getFullYear']()+'-'+String(_0x30aab6[_0x16141b(0xe8)]()+0x1)[_0x16141b(0x104)](0x2,'0'),_0x2386d6=new Date(_0x30aab6);_0x2386d6[_0x16141b(0x170)](_0x30aab6['getMonth']()+0x1);const _0x103888=_0x2386d6[_0x16141b(0xec)]()+'-'+String(_0x2386d6[_0x16141b(0xe8)]()+0x1)['padStart'](0x2,'0'),_0x35b675=Date['now']();try{const _0x39d188=window[_0x16141b(0x122)]?.[_0x16141b(0xd3)],_0x205026=_0x39d188?.['initData']||'',[_0x49c58a,_0x51905e]=await Promise[_0x16141b(0xc2)]([fetch(API_URL,{'method':_0x16141b(0x193),'body':JSON['stringify']({'action':_0x16141b(0x166),'init_data':_0x205026,'month_str':_0x19707e})})['then'](_0x4d42f2=>_0x4d42f2[_0x16141b(0x15b)]()),fetch(API_URL,{'method':_0x16141b(0x193),'body':JSON[_0x16141b(0xba)]({'action':'client_load','init_data':_0x205026,'month_str':_0x103888})})[_0x16141b(0x141)](_0x3472d3=>_0x3472d3['json']())]);if(lastUserActionTime>_0x35b675){console[_0x16141b(0x15c)](_0x16141b(0x19f));return;}if(_0x49c58a['ok'])this[_0x16141b(0x14c)](_0x49c58a[_0x16141b(0xc5)],_0x19707e);if(_0x51905e['ok'])this['applyData'](_0x51905e[_0x16141b(0xc5)],_0x103888);this[_0x16141b(0x190)]();}catch(_0x348ed4){}},'applyData'(_0x1d0de4,_0x162447){const _0x4f7b66=a3_0x454d02;if(!_0x1d0de4)return;if(_0x1d0de4[_0x4f7b66(0xc8)]){if(_0x1d0de4[_0x4f7b66(0xc8)][_0x4f7b66(0xb9)])availabilityPattern=_0x1d0de4[_0x4f7b66(0xc8)][_0x4f7b66(0xb9)];if(_0x1d0de4[_0x4f7b66(0xc8)][_0x4f7b66(0xff)])specialRanges=_0x1d0de4[_0x4f7b66(0xc8)][_0x4f7b66(0xff)];if(_0x1d0de4[_0x4f7b66(0xc8)][_0x4f7b66(0x1a5)])dateExceptions=_0x1d0de4['settings'][_0x4f7b66(0x1a5)];}if(_0x1d0de4[_0x4f7b66(0x114)]&&Array[_0x4f7b66(0x177)](_0x1d0de4['clients']))clients=_0x1d0de4[_0x4f7b66(0x114)];_0x1d0de4[_0x4f7b66(0x196)]&&(coachProfiles={...coachProfiles,..._0x1d0de4[_0x4f7b66(0x196)]}),_0x1d0de4[_0x4f7b66(0xe5)]&&(sessions=sessions['filter'](_0x52e157=>!_0x52e157['dateStr'][_0x4f7b66(0x183)](_0x162447)),Object[_0x4f7b66(0x1a4)](_0x1d0de4[_0x4f7b66(0xe5)])[_0x4f7b66(0xde)](_0x41e60c=>{const _0x27bffa=_0x4f7b66,_0x88dbd5=_0x1d0de4[_0x27bffa(0xe5)][_0x41e60c];_0x88dbd5[_0x27bffa(0xde)](_0x2f5e52=>{const _0x51e77=_0x27bffa;sessions[_0x51e77(0x12a)]({'id':_0x2f5e52['i'],'clientId':_0x2f5e52['c'],'coachId':_0x2f5e52[_0x51e77(0x1a6)],'dateStr':_0x162447+'-'+_0x41e60c[_0x51e77(0x104)](0x2,'0'),'start':_0x2f5e52['s'],'end':_0x2f5e52['e'],'note':_0x2f5e52['n']||'','status':_0x2f5e52['st']||_0x51e77(0x162),'seriesId':_0x2f5e52[_0x51e77(0x163)]});});})),reRenderBlocks();}};function init(){const _0x5f4a11=a3_0x454d02;DataManager[_0x5f4a11(0xe0)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x5f4a11(0x191))[_0x5f4a11(0xf1)](_0x5f4a11(0xfb),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5f4a11(0x188)]();}function renderTimeColumn(){const _0x362593=a3_0x454d02,_0x571d61=document[_0x362593(0xef)]('timeColumn'),_0x23a314=document[_0x362593(0xef)](_0x362593(0x108));_0x571d61[_0x362593(0x182)]='',_0x571d61[_0x362593(0xe3)](_0x23a314);for(let _0x1e19bc=0x0;_0x1e19bc<0x18;_0x1e19bc++){const _0x26ce0d=document[_0x362593(0xc1)](_0x362593(0x19c));_0x26ce0d[_0x362593(0x187)]=_0x362593(0x116);if(_0x1e19bc>0x0)_0x26ce0d[_0x362593(0x182)]='<span>'+String(_0x1e19bc)[_0x362593(0x104)](0x2,'0')+_0x362593(0x16c);_0x571d61[_0x362593(0xe3)](_0x26ce0d);}}function renderDayRange(_0x704d17,_0x40285f){const _0x1ebc1c=a3_0x454d02,_0x30e440=document[_0x1ebc1c(0xef)](_0x1ebc1c(0x13a)),_0x5a2fe3=document[_0x1ebc1c(0xef)](_0x1ebc1c(0x19b)),_0x541a6e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5b8adc=new Date();_0x5b8adc[_0x1ebc1c(0x1a9)](0x0,0x0,0x0,0x0);const _0x3f4b2e=getLocalDateStr(new Date());for(let _0x385686=_0x704d17;_0x385686<=_0x40285f;_0x385686++){const _0x399dbd=new Date(_0x5b8adc);_0x399dbd['setDate'](_0x399dbd[_0x1ebc1c(0x115)]()+_0x385686);const _0x57bc04=getLocalDateStr(_0x399dbd);let _0x245d04=_0x399dbd[_0x1ebc1c(0x16d)]()-0x1;if(_0x245d04===-0x1)_0x245d04=0x6;const _0x84514=_0x57bc04===_0x3f4b2e,_0x314560=document['createElement'](_0x1ebc1c(0x19c));_0x314560[_0x1ebc1c(0x187)]=_0x1ebc1c(0xeb)+(_0x84514?'today':''),_0x314560[_0x1ebc1c(0x14f)]('data-date',_0x57bc04),_0x314560[_0x1ebc1c(0x182)]='<div\x20class=\x22dch-day\x22>'+_0x541a6e[_0x245d04]+_0x1ebc1c(0x19a)+_0x399dbd[_0x1ebc1c(0x115)]()+'</div>',_0x30e440['appendChild'](_0x314560);const _0x34a387=document[_0x1ebc1c(0xc1)](_0x1ebc1c(0x19c));_0x34a387[_0x1ebc1c(0x187)]=_0x1ebc1c(0xf5)+(_0x84514?_0x1ebc1c(0x10d):''),_0x34a387[_0x1ebc1c(0x14f)](_0x1ebc1c(0xf2),_0x57bc04),_0x34a387[_0x1ebc1c(0x14f)]('data-day-idx',_0x245d04),_0x5a2fe3[_0x1ebc1c(0xe3)](_0x34a387);}}function reRenderBlocks(){const _0x42325f=a3_0x454d02;document[_0x42325f(0x110)]('.day-column')[_0x42325f(0xde)](_0x11b73c=>{const _0x1ced1a=_0x42325f;_0x11b73c[_0x1ced1a(0x110)](_0x1ced1a(0x15d))[_0x1ced1a(0xde)](_0x379f12=>_0x379f12['remove']());const _0x1b16f1=_0x11b73c[_0x1ced1a(0x169)](_0x1ced1a(0xf2)),_0x6b6632=parseInt(_0x11b73c[_0x1ced1a(0x169)](_0x1ced1a(0x13c))),_0x2ec12b=Math[_0x1ced1a(0x197)](_0x11b73c['offsetLeft']);(availabilityPattern[_0x6b6632]||[])[_0x1ced1a(0xde)](_0x3119c1=>{const _0x25efba=_0x1ced1a,_0x2caf78=document[_0x25efba(0xc1)]('div');_0x2caf78['className']=_0x25efba(0x103),_0x2caf78[_0x25efba(0x135)]['top']=_0x3119c1*GRID_H+'px',_0x2caf78[_0x25efba(0x135)][_0x25efba(0x111)]='-'+_0x2ec12b+_0x25efba(0x127)+_0x3119c1*GRID_H+'px',_0x11b73c[_0x25efba(0xe3)](_0x2caf78);});if(specialRanges['length']>0x0){const _0x2560f3=new Date(_0x1b16f1+'T00:00:00')[_0x1ced1a(0x18b)](),_0x456fe9=new Date(_0x1b16f1+'T23:59:59')['getTime']();specialRanges[_0x1ced1a(0xde)](_0x2bc4b7=>{const _0x5f38e8=_0x1ced1a,_0x370e1d=new Date(_0x2bc4b7[_0x5f38e8(0x11d)])['getTime'](),_0x10c2a8=new Date(_0x2bc4b7['end'])['getTime'](),_0x482954=Math['max'](_0x2560f3,_0x370e1d),_0x26f5d6=Math['min'](_0x456fe9,_0x10c2a8);if(_0x482954<_0x26f5d6){const _0x3407d8=(_0x482954-_0x2560f3)/0x36ee80*GRID_H,_0x5f2388=(_0x26f5d6-_0x482954)/0x36ee80*GRID_H,_0x12e21e=document[_0x5f38e8(0xc1)](_0x5f38e8(0x19c));_0x5f2388>=23.5*GRID_H?(_0x12e21e[_0x5f38e8(0x187)]=_0x5f38e8(0x167),_0x12e21e[_0x5f38e8(0x135)][_0x5f38e8(0x111)]='-'+_0x2ec12b+'px\x200px'):(_0x12e21e[_0x5f38e8(0x187)]=_0x5f38e8(0x11c),_0x12e21e[_0x5f38e8(0x135)][_0x5f38e8(0xc3)]=_0x3407d8+'px',_0x12e21e[_0x5f38e8(0x135)][_0x5f38e8(0x151)]=_0x5f2388+'px',_0x12e21e[_0x5f38e8(0x135)]['backgroundPosition']='-'+_0x2ec12b+'px\x20-'+_0x3407d8+'px'),_0x11b73c['appendChild'](_0x12e21e);}});}renderEventsForColumn(_0x11b73c,_0x1b16f1);});}function renderEventsForColumn(_0x5422d9,_0x9b31dd){const _0x4522d2=a3_0x454d02,_0x4a7e61=sessions[_0x4522d2(0x1ab)](_0x525010=>_0x525010[_0x4522d2(0x101)]===_0x9b31dd),_0x2a1291=_0x4a7e61[_0x4522d2(0x15a)](_0xb71c86=>{const _0x58775c=_0x4522d2,[_0x35eb24,_0x3bce9b]=_0xb71c86[_0x58775c(0x11d)][_0x58775c(0x14a)](':')['map'](Number),[_0x238122,_0x356716]=_0xb71c86[_0x58775c(0xcd)][_0x58775c(0x14a)](':')[_0x58775c(0x15a)](Number);return{'data':_0xb71c86,'start':_0x35eb24*0x3c+_0x3bce9b,'end':_0x238122*0x3c+_0x356716,'colIndex':0x0};});_0x2a1291['sort']((_0x3a82a9,_0x2ed28b)=>_0x3a82a9[_0x4522d2(0x11d)]-_0x2ed28b['start']||_0x2ed28b[_0x4522d2(0xcd)]-_0x2ed28b[_0x4522d2(0x11d)]-(_0x3a82a9[_0x4522d2(0xcd)]-_0x3a82a9['start']));const _0x1f6e87=[];_0x2a1291[_0x4522d2(0xde)](_0x3e45a6=>{const _0x54562b=_0x4522d2;let _0x8e3e6d=![];for(let _0x50331e=0x0;_0x50331e<_0x1f6e87[_0x54562b(0x136)];_0x50331e++){const _0x3b21b7=_0x1f6e87[_0x50331e];if(_0x3e45a6[_0x54562b(0x11d)]>=_0x3b21b7[_0x3b21b7[_0x54562b(0x136)]-0x1][_0x54562b(0xcd)]){_0x3b21b7[_0x54562b(0x12a)](_0x3e45a6),_0x3e45a6[_0x54562b(0x100)]=_0x50331e,_0x8e3e6d=!![];break;}}!_0x8e3e6d&&(_0x1f6e87[_0x54562b(0x12a)]([_0x3e45a6]),_0x3e45a6[_0x54562b(0x100)]=_0x1f6e87[_0x54562b(0x136)]-0x1);}),_0x2a1291[_0x4522d2(0xde)](_0x4b1eca=>{const _0x194a05=_0x4522d2;let _0x340b28=0x0;_0x2a1291['forEach'](_0xa33d31=>{const _0x21a976=a3_0x4c08;if(Math[_0x21a976(0x143)](_0x4b1eca[_0x21a976(0x11d)],_0xa33d31['start'])<Math[_0x21a976(0x14e)](_0x4b1eca[_0x21a976(0xcd)],_0xa33d31['end'])&&_0xa33d31[_0x21a976(0x100)]>_0x340b28)_0x340b28=_0xa33d31['colIndex'];});const _0x157f78=_0x340b28+0x1,_0x31df01=0x64/_0x157f78,_0x137083=_0x4b1eca[_0x194a05(0x100)]*_0x31df01,_0x110909=document[_0x194a05(0xc1)](_0x194a05(0x19c)),_0x271641=_0x4b1eca[_0x194a05(0xc5)];let _0xe45417=_0x194a05(0x146);if(clients&&clients[_0x194a05(0x136)]>0x0){const _0x357eb4=clients[_0x194a05(0x19e)](_0x4d6cf3=>String(_0x4d6cf3['id'])===String(_0x271641[_0x194a05(0x179)]));if(_0x357eb4&&_0x357eb4[_0x194a05(0x194)])_0xe45417=_0x357eb4[_0x194a05(0x194)];}const _0x988d85=_0x271641[_0x194a05(0x13d)]===_0x194a05(0x181),_0x2873e5=_0x988d85?0x1:0.45;_0x110909['className']='event-card'+(_0x988d85?_0x194a05(0x16b):''),_0x110909[_0x194a05(0x135)][_0x194a05(0x176)]=hexToRgba(_0xe45417,_0x2873e5),_0x110909[_0x194a05(0x135)]['borderLeftColor']=_0xe45417;const _0x1faf3d=_0x4b1eca[_0x194a05(0x11d)]/0x3c*GRID_H,_0x3c7e4f=(_0x4b1eca[_0x194a05(0xcd)]-_0x4b1eca[_0x194a05(0x11d)])/0x3c*GRID_H;_0x110909[_0x194a05(0x135)][_0x194a05(0xc3)]=_0x1faf3d+'px',_0x110909['style'][_0x194a05(0x151)]=Math[_0x194a05(0x143)](_0x3c7e4f,0x14)+'px',_0x110909[_0x194a05(0x135)][_0x194a05(0xe2)]=_0x194a05(0xfe)+_0x31df01+_0x194a05(0xdc),_0x110909['style'][_0x194a05(0x171)]=_0x194a05(0xfe)+_0x137083+'%\x20+\x202px)',_0x110909[_0x194a05(0x135)][_0x194a05(0x199)]=0xa+_0x4b1eca['colIndex'];if(_0x31df01<0x55)_0x110909[_0x194a05(0x17b)][_0x194a05(0xf0)](_0x194a05(0x147));let _0x19d47b='';if(_0x271641['seriesId'])_0x19d47b+=_0x194a05(0x165);if(_0x988d85)_0x19d47b+=_0x194a05(0xc7);_0x110909['innerHTML']=_0x194a05(0x11a)+_0x271641['start']+_0x194a05(0x159)+_0x271641[_0x194a05(0xcd)]+_0x194a05(0x126)+_0x19d47b+_0x194a05(0x149),_0x110909[_0x194a05(0xda)]=_0x2acce1=>{const _0x2a90ac=_0x194a05;_0x2acce1[_0x2a90ac(0xb5)](),openDetails(_0x271641);},_0x5422d9['appendChild'](_0x110909);});}function openAnalytics(){const _0x52fd58=a3_0x454d02,_0x4abbdd=document[_0x52fd58(0x184)](_0x52fd58(0x17e));setAnalyticsPeriod(_0x52fd58(0x138),_0x4abbdd),openSheet(_0x52fd58(0xd8));}function setAnalyticsPeriod(_0x20884d,_0xc0c264){const _0x179da0=a3_0x454d02;currentAnPeriod=_0x20884d,document[_0x179da0(0x110)](_0x179da0(0x17e))['forEach'](_0x51a396=>_0x51a396[_0x179da0(0x17b)][_0x179da0(0x10c)](_0x179da0(0x16a)));if(_0xc0c264)_0xc0c264[_0x179da0(0x17b)][_0x179da0(0xf0)]('active');const _0x421bcd=document[_0x179da0(0xef)]('anCustomDates');_0x421bcd[_0x179da0(0x135)][_0x179da0(0x14b)]=_0x20884d===_0x179da0(0xbe)?_0x179da0(0x168):_0x179da0(0x137);const _0x68e868=new Date();let _0x49ca80=new Date(),_0x4f7bee=new Date();if(_0x20884d===_0x179da0(0x138))_0x49ca80=getStartOfWeek(_0x68e868),_0x4f7bee=new Date(_0x49ca80),_0x4f7bee[_0x179da0(0xdb)](_0x4f7bee[_0x179da0(0x115)]()+0x6);else{if(_0x20884d===_0x179da0(0xf8))_0x49ca80=new Date(_0x68e868[_0x179da0(0xec)](),_0x68e868['getMonth'](),0x1),_0x4f7bee=new Date(_0x68e868[_0x179da0(0xec)](),_0x68e868[_0x179da0(0xe8)]()+0x1,0x0);else{!document[_0x179da0(0xef)]('anStart')['value']&&(document[_0x179da0(0xef)](_0x179da0(0xf9))[_0x179da0(0x18c)]=getLocalDateStr(_0x68e868),document['getElementById']('anEnd')[_0x179da0(0x18c)]=getLocalDateStr(_0x68e868));refreshAnalytics();return;}}document[_0x179da0(0xef)](_0x179da0(0xf9))['value']=getLocalDateStr(_0x49ca80),document[_0x179da0(0xef)]('anEnd')[_0x179da0(0x18c)]=getLocalDateStr(_0x4f7bee),refreshAnalytics();}function refreshAnalytics(){const _0x2f2d86=a3_0x454d02,_0x3c4c15=document[_0x2f2d86(0xef)](_0x2f2d86(0xf9))[_0x2f2d86(0x18c)],_0x5c12d3=document[_0x2f2d86(0xef)]('anEnd')[_0x2f2d86(0x18c)];if(!_0x3c4c15||!_0x5c12d3)return;const _0x59e88d=sessions[_0x2f2d86(0x1ab)](_0x14afb3=>_0x14afb3[_0x2f2d86(0x101)]>=_0x3c4c15&&_0x14afb3[_0x2f2d86(0x101)]<=_0x5c12d3&&_0x14afb3[_0x2f2d86(0x13d)]!==_0x2f2d86(0xe6)),_0x5f4023=_0x59e88d['length'],_0x358e68=_0x59e88d[_0x2f2d86(0x1ab)](_0x601a9=>_0x601a9[_0x2f2d86(0x13d)]===_0x2f2d86(0x181))[_0x2f2d86(0x136)],_0x17252c=_0x5f4023>0x0?Math[_0x2f2d86(0x197)](_0x358e68/_0x5f4023*0x64):0x0;document['getElementById']('anPercent')[_0x2f2d86(0x175)]=_0x17252c+'%',document[_0x2f2d86(0xef)](_0x2f2d86(0xcc))[_0x2f2d86(0x175)]=_0x358e68+_0x2f2d86(0x158)+_0x5f4023+_0x2f2d86(0x152);const _0x2fdd06=document[_0x2f2d86(0xef)](_0x2f2d86(0x134)),_0x124c46=0x2*Math['PI']*0x23,_0xd8c842=_0x124c46-_0x17252c/0x64*_0x124c46;_0x2fdd06[_0x2f2d86(0x135)][_0x2f2d86(0x11f)]=_0xd8c842;const _0x35e69c={};_0x59e88d['forEach'](_0x393af7=>{const _0x16937c=_0x2f2d86,_0x5d2200=_0x393af7[_0x16937c(0x148)]||_0x16937c(0x15e);if(!_0x35e69c[_0x5d2200]){const _0x455ece='#'+_0x5d2200['toString']()[_0x16937c(0xd0)](0x0,0x6);_0x35e69c[_0x5d2200]={'total':0x0,'done':0x0,'color':_0x455ece};}_0x35e69c[_0x5d2200]['total']++;if(_0x393af7[_0x16937c(0x13d)]===_0x16937c(0x181))_0x35e69c[_0x5d2200][_0x16937c(0xea)]++;});const _0x2c09b9=document[_0x2f2d86(0xef)](_0x2f2d86(0x186));_0x2c09b9[_0x2f2d86(0x182)]='';const _0x59e6bf=Object[_0x2f2d86(0x113)](_0x35e69c)[_0x2f2d86(0xfa)]((_0x5eecc0,_0xf247aa)=>_0xf247aa[0x1][_0x2f2d86(0x18d)]-_0x5eecc0[0x1][_0x2f2d86(0x18d)]);if(_0x59e6bf[_0x2f2d86(0x136)]===0x0){_0x2c09b9[_0x2f2d86(0x182)]=_0x2f2d86(0x1aa);return;}_0x59e6bf[_0x2f2d86(0xde)](([_0x79c86d,_0x3fe44f])=>{const _0x2ff243=_0x2f2d86,_0x5cae3d=Math[_0x2ff243(0x197)](_0x3fe44f[_0x2ff243(0xea)]/_0x3fe44f[_0x2ff243(0x18d)]*0x64),_0x2c84f3=document[_0x2ff243(0xc1)]('div');_0x2c84f3['className']=_0x2ff243(0xdf),_0x2c84f3['style']['borderLeftColor']=_0x3fe44f[_0x2ff243(0x194)],_0x2c84f3[_0x2ff243(0x182)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x79c86d[_0x2ff243(0xd0)](0x0,0x5)+_0x2ff243(0x121)+_0x3fe44f['done']+'</span>\x20/\x20'+_0x3fe44f['total']+_0x2ff243(0x140)+_0x5cae3d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c09b9[_0x2ff243(0xe3)](_0x2c84f3);});}function openDetails(_0x2a62c5){const _0x5bca94=a3_0x454d02;currentSession=_0x2a62c5;const _0x13cd89=new Date(_0x2a62c5[_0x5bca94(0x101)]),_0x6c170f=_0x13cd89[_0x5bca94(0x17f)](_0x5bca94(0x1a2),{'weekday':_0x5bca94(0x10a),'day':_0x5bca94(0x1a1),'month':_0x5bca94(0x10a)});document[_0x5bca94(0xef)](_0x5bca94(0x133))[_0x5bca94(0x175)]=_0x6c170f[_0x5bca94(0x17a)](0x0)[_0x5bca94(0x160)]()+_0x6c170f[_0x5bca94(0x185)](0x1),document[_0x5bca94(0xef)](_0x5bca94(0x139))[_0x5bca94(0x175)]=_0x2a62c5[_0x5bca94(0x11d)]+'\x20-\x20'+_0x2a62c5[_0x5bca94(0xcd)],document['getElementById'](_0x5bca94(0xca))[_0x5bca94(0x175)]=_0x2a62c5[_0x5bca94(0x129)]||_0x5bca94(0xb2);const _0x364633=document[_0x5bca94(0xef)](_0x5bca94(0xc6)),_0xec7eb2=document[_0x5bca94(0xef)](_0x5bca94(0x109)),_0x197276=_0xec7eb2['querySelector'](_0x5bca94(0xf4)),_0x46672d=_0xec7eb2[_0x5bca94(0x184)](_0x5bca94(0x13b)),_0x40f426=document['getElementById'](_0x5bca94(0x131));if(_0x2a62c5[_0x5bca94(0x13d)]===_0x5bca94(0x181))_0x364633[_0x5bca94(0x175)]=_0x5bca94(0x16f),_0x364633[_0x5bca94(0x135)][_0x5bca94(0x194)]=_0x5bca94(0x174),_0xec7eb2[_0x5bca94(0x135)][_0x5bca94(0x14b)]='none';else{_0x364633[_0x5bca94(0x175)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x364633[_0x5bca94(0x135)][_0x5bca94(0x194)]=_0x5bca94(0x156),_0xec7eb2['style'][_0x5bca94(0x14b)]=_0x5bca94(0x1a7);const _0x1f8af9=new Date(_0x2a62c5[_0x5bca94(0x101)]+'T'+_0x2a62c5[_0x5bca94(0x11d)]),_0x48654d=new Date(),_0x36a085=(_0x1f8af9-_0x48654d)/(0x3e8*0x3c*0x3c),_0x4a16d4=coachProfiles[_0x2a62c5[_0x5bca94(0x148)]]&&coachProfiles[_0x2a62c5[_0x5bca94(0x148)]][_0x5bca94(0xb6)]?parseInt(coachProfiles[_0x2a62c5[_0x5bca94(0x148)]]['cancel_window']):0x18;if(_0x4a16d4===0x0||_0x36a085>=_0x4a16d4)_0x197276[_0x5bca94(0x135)][_0x5bca94(0x14b)]=_0x5bca94(0x1a7),_0x46672d['style'][_0x5bca94(0x14b)]=_0x5bca94(0x1a7),_0x40f426[_0x5bca94(0x135)][_0x5bca94(0x14b)]=_0x5bca94(0x137);else{_0x197276[_0x5bca94(0x135)][_0x5bca94(0x14b)]=_0x5bca94(0x137),_0x46672d[_0x5bca94(0x135)][_0x5bca94(0x14b)]='none',_0x40f426[_0x5bca94(0x135)]['display']=_0x5bca94(0x1a7);let _0xfc3aa9=_0x4a16d4===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x4a16d4+'\x20—á.';_0x40f426[_0x5bca94(0x175)]=_0x5bca94(0xe7)+_0xfc3aa9+_0x5bca94(0x155);}}document[_0x5bca94(0xef)](_0x5bca94(0xd2))[_0x5bca94(0x17b)][_0x5bca94(0xf0)](_0x5bca94(0x16a)),document[_0x5bca94(0xef)](_0x5bca94(0x12b))[_0x5bca94(0x17b)]['add'](_0x5bca94(0xbf));}function closeAllSheets(){const _0x4324a2=a3_0x454d02;document[_0x4324a2(0xef)]('overlay')[_0x4324a2(0x17b)]['remove'](_0x4324a2(0x16a)),document[_0x4324a2(0x110)](_0x4324a2(0x189))['forEach'](_0x1bc313=>_0x1bc313[_0x4324a2(0x17b)][_0x4324a2(0x10c)]('open'));}function openSheet(_0x1c14bc){const _0x489bbf=a3_0x454d02;document[_0x489bbf(0xef)](_0x489bbf(0xd2))['classList'][_0x489bbf(0xf0)](_0x489bbf(0x16a)),document[_0x489bbf(0xef)](_0x1c14bc)[_0x489bbf(0x17b)][_0x489bbf(0xf0)](_0x489bbf(0xbf));}function getLocalDateStr(_0x55adf2){const _0x2809af=a3_0x454d02,_0x5a1ee1=_0x55adf2['getFullYear'](),_0x525639=String(_0x55adf2[_0x2809af(0xe8)]()+0x1)[_0x2809af(0x104)](0x2,'0'),_0x4dfbf1=String(_0x55adf2[_0x2809af(0x115)]())[_0x2809af(0x104)](0x2,'0');return _0x5a1ee1+'-'+_0x525639+'-'+_0x4dfbf1;}function a3_0x3a0c(){const _0x45e59b=['scrollTo','forEach','client-stat-card','loadLocal','getMinutes','width','appendChild','.day-col-header','calendar','cancelled','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getMonth','ccText','done','day-col-header\x20','getFullYear','10852314maaMPh','BackButton','getElementById','add','addEventListener','data-date','rsSlotsGrid','.btn-cancel','day-column\x20','router.html','search','month','anStart','sort','scroll','scrollLeft','</div>','calc(','ranges','colIndex','dateStr','891wQRZmB','blocked-slot\x20stripe-bg','padStart','uc_client_settings','rgba(','v9.5-CLIENT-ANALYTICS','timeLineBadge','cancelContainer','long','offsetLeft','remove','today','get_slots','7IizDtr','querySelectorAll','backgroundPosition','–û—Ç–º–µ–Ω–µ–Ω–æ','entries','clients','getDate','time-label','ccYesBtn','rs-date-chip','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','Critical\x20TMA\x20Error:','blocked-range-part\x20stripe-bg','start','visible','strokeDashoffset','findIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','Telegram','getHours','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','expand','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','note','push','detailsSheet','firstChild','rs-time-btn','clientWidth','floor','Error\x20setting\x20color:','cancelHint','</div><div\x20class=\x22rs-day-num\x22>','detDate','anDonutCircle','style','length','none','week','detTime','daysHeaderTrack','.btn-reschedule','data-day-idx','status','600','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','then','constructor','max','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','fontWeight','#0a84ff','mini','coachId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','display','applyData','offsetWidth','min','setAttribute','rsDatesTrack','height','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','scrollWidth','ccTitle','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','var(--acc-blue)','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','\x20–∏–∑\x20','\x20-\x20','map','json','log','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','Unknown','#050505','toUpperCase','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','planned','sid','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','client_load','day-off-overlay\x20stripe-bg','flex','getAttribute','active','\x20status-completed',':00</span>','getDay','initData','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','setMonth','left','customConfirm','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','var(--acc-green)','textContent','backgroundColor','isArray','createDocumentFragment','clientId','charAt','classList','(((.+)+)+)+$','392496KhuWaH','.period-switch\x20.p-btn','toLocaleDateString','show','completed','innerHTML','startsWith','querySelector','slice','analyticsList','className','syncLoad','.sheet','globalTimeLine','getTime','value','total','DOMContentLoaded','offClick','saveLocally','matrixViewport','initDataUnsafe','POST','color','6QDMClX','coach_profiles','round','setHeaderColor','zIndex','</div><div\x20class=\x22dch-num\x22>','gridColumns','div','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','find','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','client_cancel','numeric','ru-RU','114420GrebDy','keys','exceptions','cid','block','432HZDrhL','setHours','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','filter','test','insertBefore','uc_client_list','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','rescheduleSheet','\x20–≤\x20','stopPropagation','cancel_window','233100grZvEJ','293452RxGxNY','pattern','stringify','setBackgroundColor','.rs-date-chip','auto','custom','open','<div\x20class=\x22rs-day-name\x22>','createElement','all','top','disableVerticalSwipes','data','detStatus','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','settings','.day-column','detNote','toast','anTotalStats','end','7036mWBjOi','substring','substr','reschedule','overlay','WebApp','now','setItem','parse','2844795ENSfUr','analyticsSheet','Error\x20setting\x20back\x20button:','onclick','setDate','%\x20-\x204px)'];a3_0x3a0c=function(){return _0x45e59b;};return a3_0x3a0c();}function getStartOfWeek(_0x54319b){const _0x35a5b5=a3_0x454d02,_0x299d31=new Date(_0x54319b),_0x1da6b2=_0x299d31[_0x35a5b5(0x16d)](),_0x4fb41b=_0x299d31['getDate']()-_0x1da6b2+(_0x1da6b2===0x0?-0x6:0x1);return _0x299d31[_0x35a5b5(0xdb)](_0x4fb41b),_0x299d31[_0x35a5b5(0x1a9)](0x0,0x0,0x0,0x0),_0x299d31;}function scrollToToday(){const _0x4c05c6=getLocalDateStr(new Date());setTimeout(()=>{const _0x59ee97=a3_0x4c08,_0x26f9bb=document[_0x59ee97(0x184)]('.day-col-header[data-date=\x22'+_0x4c05c6+'\x22]');if(_0x26f9bb){const _0x5b3d94=document[_0x59ee97(0xef)](_0x59ee97(0x191)),_0x3c3f92=_0x26f9bb[_0x59ee97(0x10b)]-_0x5b3d94[_0x59ee97(0x12e)]/0x2+_0x26f9bb[_0x59ee97(0x14d)]/0x2;_0x5b3d94[_0x59ee97(0xdd)]({'left':_0x3c3f92,'behavior':_0x59ee97(0xbd)}),_0x5b3d94['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x4c08(_0x1c8fe1,_0x740479){_0x1c8fe1=_0x1c8fe1-0xb2;const _0x28946e=a3_0x3a0c();let _0x4fa969=_0x28946e[_0x1c8fe1];return _0x4fa969;}function updateClock(){const _0x309142=a3_0x454d02,_0x37cefb=new Date(),_0x2e9f97=document['getElementById'](_0x309142(0x18a)),_0xfb4603=document[_0x309142(0xef)]('timeLineBadge'),_0x44af94=(_0x37cefb[_0x309142(0x123)]()*0x3c+_0x37cefb[_0x309142(0xe1)]())/0x3c*GRID_H;_0x2e9f97[_0x309142(0x135)][_0x309142(0xc3)]=_0x44af94+'px',_0x2e9f97[_0x309142(0x135)]['display']=_0x309142(0x1a7),_0xfb4603[_0x309142(0x135)]['top']=_0x44af94+'px',_0xfb4603[_0x309142(0x135)][_0x309142(0x14b)]=_0x309142(0x1a7),_0xfb4603[_0x309142(0x175)]=String(_0x37cefb[_0x309142(0x123)]())[_0x309142(0x104)](0x2,'0')+':'+String(_0x37cefb[_0x309142(0xe1)]())[_0x309142(0x104)](0x2,'0');}function onScroll(){const _0x1ff873=a3_0x454d02,_0x55cced=document[_0x1ff873(0xef)](_0x1ff873(0x191)),_0x184799=document['querySelectorAll'](_0x1ff873(0xe4));for(let _0x58f4ef of _0x184799)if(_0x58f4ef[_0x1ff873(0x10b)]>=_0x55cced[_0x1ff873(0xfc)]){const _0x10692e=new Date(_0x58f4ef[_0x1ff873(0x169)](_0x1ff873(0xf2)));document[_0x1ff873(0xef)]('headerMonth')[_0x1ff873(0x175)]=_0x10692e['toLocaleString']('ru',{'month':_0x1ff873(0x10a)})[_0x1ff873(0x160)]()+'\x20'+_0x10692e[_0x1ff873(0xec)]();break;}}function showToast(_0x52d845){const _0x3051c7=a3_0x454d02,_0xcf281c=document['getElementById'](_0x3051c7(0xcb));_0xcf281c[_0x3051c7(0x175)]=_0x52d845,_0xcf281c[_0x3051c7(0x17b)]['add'](_0x3051c7(0x180)),setTimeout(()=>_0xcf281c[_0x3051c7(0x17b)][_0x3051c7(0x10c)](_0x3051c7(0x180)),0x7d0);}function handleInfiniteScroll(){const _0x3f8e8a=a3_0x454d02,_0x9721f5=document['getElementById'](_0x3f8e8a(0x191)),_0x387b56=_0x9721f5[_0x3f8e8a(0xfc)],_0x1d63fd=_0x9721f5[_0x3f8e8a(0x153)],_0x2b9fa8=_0x9721f5['clientWidth'];if(_0x1d63fd-(_0x387b56+_0x2b9fa8)<0x12c){const _0x4cbad5=endOffset;endOffset+=0xe,renderDayRange(_0x4cbad5+0x1,endOffset),reRenderBlocks();}if(_0x387b56<0x12c){const _0x24c552=startOffset;startOffset-=0xe,prependDays(startOffset,_0x24c552-0x1),_0x9721f5['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x47dfbf,_0x33c96b){const _0x441029=a3_0x454d02,_0x25b336=document['getElementById'](_0x441029(0x13a)),_0x2d9e02=document[_0x441029(0xef)]('gridColumns'),_0x5e6e1b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x16f27e=new Date();_0x16f27e['setHours'](0x0,0x0,0x0,0x0);const _0x509f1c=getLocalDateStr(new Date()),_0x3b1036=document[_0x441029(0x178)](),_0x2c3a1a=document[_0x441029(0x178)]();for(let _0x2eea69=_0x47dfbf;_0x2eea69<=_0x33c96b;_0x2eea69++){const _0x16e103=new Date(_0x16f27e);_0x16e103['setDate'](_0x16e103[_0x441029(0x115)]()+_0x2eea69);const _0x4beab5=getLocalDateStr(_0x16e103);let _0x51dda1=_0x16e103[_0x441029(0x16d)]()-0x1;if(_0x51dda1===-0x1)_0x51dda1=0x6;const _0x4543b2=_0x4beab5===_0x509f1c,_0x51c84e=document[_0x441029(0xc1)](_0x441029(0x19c));_0x51c84e['className']='day-col-header\x20'+(_0x4543b2?_0x441029(0x10d):''),_0x51c84e['setAttribute'](_0x441029(0xf2),_0x4beab5),_0x51c84e[_0x441029(0x182)]='<div\x20class=\x22dch-day\x22>'+_0x5e6e1b[_0x51dda1]+'</div><div\x20class=\x22dch-num\x22>'+_0x16e103[_0x441029(0x115)]()+_0x441029(0xfd),_0x3b1036[_0x441029(0xe3)](_0x51c84e);const _0x1e27d8=document[_0x441029(0xc1)](_0x441029(0x19c));_0x1e27d8[_0x441029(0x187)]=_0x441029(0xf5)+(_0x4543b2?_0x441029(0x10d):''),_0x1e27d8[_0x441029(0x14f)]('data-date',_0x4beab5),_0x1e27d8[_0x441029(0x14f)](_0x441029(0x13c),_0x51dda1),_0x2c3a1a[_0x441029(0xe3)](_0x1e27d8);}_0x25b336[_0x441029(0x1ad)](_0x3b1036,_0x25b336[_0x441029(0x12c)]),_0x2d9e02[_0x441029(0x1ad)](_0x2c3a1a,_0x2d9e02[_0x441029(0x184)](_0x441029(0xc9)));}function hexToRgba(_0x43ca61,_0xcedbc2){const _0x397476=a3_0x454d02;let _0x5890f0;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x397476(0x1ac)](_0x43ca61))return _0x5890f0=_0x43ca61[_0x397476(0xcf)](0x1)[_0x397476(0x14a)](''),_0x5890f0['length']==0x3&&(_0x5890f0=[_0x5890f0[0x0],_0x5890f0[0x0],_0x5890f0[0x1],_0x5890f0[0x1],_0x5890f0[0x2],_0x5890f0[0x2]]),_0x5890f0='0x'+_0x5890f0['join'](''),_0x397476(0x106)+[_0x5890f0>>0x10&0xff,_0x5890f0>>0x8&0xff,_0x5890f0&0xff][_0x397476(0x119)](',')+','+_0xcedbc2+')';return'rgba(10,\x20132,\x20255,\x20'+_0xcedbc2+')';}let confirmResolver=null;function showCustomConfirm(_0x1aedce,_0xb519cd,_0x294ecb=!![]){const _0x419c69=a3_0x454d02;document['getElementById'](_0x419c69(0x154))[_0x419c69(0x175)]=_0x1aedce,document['getElementById'](_0x419c69(0xe9))[_0x419c69(0x175)]=_0xb519cd;const _0x1f52e9=document[_0x419c69(0xef)](_0x419c69(0x117));return _0x294ecb?(_0x1f52e9['style']['color']='#ff453a',_0x1f52e9['style'][_0x419c69(0x145)]=_0x419c69(0x13e)):(_0x1f52e9[_0x419c69(0x135)][_0x419c69(0x194)]=_0x419c69(0x146),_0x1f52e9[_0x419c69(0x135)][_0x419c69(0x145)]=_0x419c69(0x13e)),new Promise(_0x5c1d66=>{const _0x55e6c1=_0x419c69;confirmResolver=_0x5c1d66,document[_0x55e6c1(0xef)](_0x55e6c1(0x172))[_0x55e6c1(0x17b)][_0x55e6c1(0xf0)](_0x55e6c1(0x11e));});}function resolveCustomConfirm(_0x5a9465){const _0x161f7a=a3_0x454d02;document[_0x161f7a(0xef)](_0x161f7a(0x172))[_0x161f7a(0x17b)][_0x161f7a(0x10c)](_0x161f7a(0x11e));if(confirmResolver)confirmResolver(_0x5a9465);}async function tryCancelCurrentSession(){const _0x21ce5e=a3_0x454d02;if(!currentSession)return;const _0x516713=await showCustomConfirm(_0x21ce5e(0x19d),_0x21ce5e(0x161),!![]);if(!_0x516713)return;const _0x54f89d=currentSession;closeAllSheets(),sessions=sessions[_0x21ce5e(0x1ab)](_0x3234e7=>_0x3234e7['id']!==_0x54f89d['id']),reRenderBlocks(),showToast(_0x21ce5e(0x112)),lastUserActionTime=Date[_0x21ce5e(0xd4)]();try{const _0x373a66=window[_0x21ce5e(0x122)]?.[_0x21ce5e(0xd3)],_0x490686=await fetch(API_URL,{'method':_0x21ce5e(0x193),'body':JSON[_0x21ce5e(0xba)]({'action':_0x21ce5e(0x1a0),'init_data':_0x373a66?.[_0x21ce5e(0x16e)]||'','coachId':_0x54f89d[_0x21ce5e(0x148)],'dateStr':_0x54f89d[_0x21ce5e(0x101)],'sessionId':_0x54f89d['id']})});if(_0x490686['ok'])DataManager[_0x21ce5e(0x190)]();}catch(_0x5a5db3){showToast(_0x21ce5e(0x128));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4fb9b0=a3_0x454d02;if(!currentSession)return;document[_0x4fb9b0(0xef)](_0x4fb9b0(0x12b))[_0x4fb9b0(0x17b)][_0x4fb9b0(0x10c)]('open'),document[_0x4fb9b0(0xef)](_0x4fb9b0(0xb3))[_0x4fb9b0(0x17b)][_0x4fb9b0(0xf0)](_0x4fb9b0(0xbf));const _0x1be8f2=document[_0x4fb9b0(0xef)](_0x4fb9b0(0x150)),_0x36464e=document[_0x4fb9b0(0xef)](_0x4fb9b0(0xf3));_0x1be8f2['innerHTML']='',_0x36464e[_0x4fb9b0(0x182)]=_0x4fb9b0(0x144);const [_0xd8dfde,_0x113f28]=currentSession[_0x4fb9b0(0x11d)]['split'](':')[_0x4fb9b0(0x15a)](Number),[_0x32d07d,_0x10ae03]=currentSession[_0x4fb9b0(0xcd)][_0x4fb9b0(0x14a)](':')[_0x4fb9b0(0x15a)](Number),_0x1e5ad2=_0x32d07d*0x3c+_0x10ae03-(_0xd8dfde*0x3c+_0x113f28);try{const _0x2fad54=window[_0x4fb9b0(0x122)]?.[_0x4fb9b0(0xd3)],_0x55f534=await fetch(API_URL,{'method':_0x4fb9b0(0x193),'body':JSON[_0x4fb9b0(0xba)]({'action':_0x4fb9b0(0x10e),'coachId':currentSession[_0x4fb9b0(0x148)],'duration':_0x1e5ad2,'init_data':_0x2fad54?.[_0x4fb9b0(0x16e)]||'','excludeSessionId':currentSession['id']})}),_0x181a96=await _0x55f534[_0x4fb9b0(0x15b)]();_0x181a96['ok']&&_0x181a96[_0x4fb9b0(0xc5)]?(availableSlotsCache=_0x181a96[_0x4fb9b0(0xc5)],renderRescheduleDates()):_0x36464e[_0x4fb9b0(0x182)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x225b69){_0x36464e[_0x4fb9b0(0x182)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x350bd5=a3_0x454d02,_0x14d7e8=document[_0x350bd5(0xef)](_0x350bd5(0x150));_0x14d7e8[_0x350bd5(0x182)]='';const _0x5718ce=Object[_0x350bd5(0x1a4)](availableSlotsCache)[_0x350bd5(0xfa)](),_0x42c3a6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5718ce[_0x350bd5(0x136)]===0x0){document[_0x350bd5(0xef)](_0x350bd5(0xf3))[_0x350bd5(0x182)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x5718ce['forEach']((_0x4b48b6,_0x5120a1)=>{const _0x359f48=_0x350bd5,_0x2a3014=new Date(_0x4b48b6),_0x123db5=_0x42c3a6[_0x2a3014['getDay']()],_0x2bb2d3=_0x2a3014['getDate'](),_0x538e89=document['createElement'](_0x359f48(0x19c));_0x538e89[_0x359f48(0x187)]=_0x359f48(0x118);if(_0x5120a1===0x0)_0x538e89['classList']['add']('active');_0x538e89[_0x359f48(0x182)]=_0x359f48(0xc0)+_0x123db5+_0x359f48(0x132)+_0x2bb2d3+_0x359f48(0xfd),_0x538e89[_0x359f48(0xda)]=()=>selectRsDate(_0x4b48b6,_0x538e89),_0x14d7e8[_0x359f48(0xe3)](_0x538e89);}),selectRsDate(_0x5718ce[0x0],_0x14d7e8['firstChild']);}function selectRsDate(_0x569fcd,_0x3a1cd9){const _0x19a5d6=a3_0x454d02;selectedRsDate=_0x569fcd,document[_0x19a5d6(0x110)](_0x19a5d6(0xbc))[_0x19a5d6(0xde)](_0xcfc693=>_0xcfc693['classList'][_0x19a5d6(0x10c)](_0x19a5d6(0x16a)));if(_0x3a1cd9)_0x3a1cd9[_0x19a5d6(0x17b)]['add']('active');const _0x3b2134=document[_0x19a5d6(0xef)]('rsSlotsGrid');_0x3b2134['innerHTML']='';const _0x1db73c=availableSlotsCache[_0x569fcd]||[];if(_0x1db73c[_0x19a5d6(0x136)]===0x0){_0x3b2134[_0x19a5d6(0x182)]=_0x19a5d6(0x173);return;}_0x1db73c[_0x19a5d6(0xde)](_0x345d94=>{const _0x3e4622=_0x19a5d6,_0x53c1de=document['createElement']('button');_0x53c1de['className']=_0x3e4622(0x12d),_0x53c1de[_0x3e4622(0x175)]=_0x345d94,_0x53c1de['onclick']=()=>confirmReschedule(_0x345d94),_0x3b2134[_0x3e4622(0xe3)](_0x53c1de);});}async function confirmReschedule(_0x98533c){const _0x2e7017=a3_0x454d02,_0x1127e0=new Date(selectedRsDate),_0x2db35f=_0x1127e0['toLocaleDateString']('ru-RU',{'day':_0x2e7017(0x1a1),'month':_0x2e7017(0x10a)}),_0x4c70d6=await showCustomConfirm(_0x2e7017(0x13f),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x2db35f+_0x2e7017(0xb4)+_0x98533c+'?',![]);if(!_0x4c70d6)return;closeAllSheets(),showToast(_0x2e7017(0x157)),lastUserActionTime=Date['now']();const _0x2aa30b=currentSession[_0x2e7017(0x101)],_0x1b584d=currentSession['id'],[_0x4bd9a6,_0x334f3e]=currentSession[_0x2e7017(0x11d)][_0x2e7017(0x14a)](':')['map'](Number),[_0x26ba89,_0x3e1999]=currentSession[_0x2e7017(0xcd)][_0x2e7017(0x14a)](':')[_0x2e7017(0x15a)](Number),_0x4583fe=_0x26ba89*0x3c+_0x3e1999-(_0x4bd9a6*0x3c+_0x334f3e),[_0x58517c,_0x5a2902]=_0x98533c[_0x2e7017(0x14a)](':')['map'](Number),_0x6361ee=_0x58517c*0x3c+_0x5a2902+_0x4583fe,_0x19bc06=Math[_0x2e7017(0x12f)](_0x6361ee/0x3c),_0x2b1151=_0x6361ee%0x3c,_0x1c8dc5=String(_0x19bc06)[_0x2e7017(0x104)](0x2,'0')+':'+String(_0x2b1151)[_0x2e7017(0x104)](0x2,'0'),_0x1b2c7d=sessions[_0x2e7017(0x120)](_0x27ff8c=>_0x27ff8c['id']===_0x1b584d);_0x1b2c7d!==-0x1&&(sessions[_0x1b2c7d][_0x2e7017(0x101)]=selectedRsDate,sessions[_0x1b2c7d][_0x2e7017(0x11d)]=_0x98533c,sessions[_0x1b2c7d][_0x2e7017(0xcd)]=_0x1c8dc5,reRenderBlocks());try{const _0x4bc02d=window[_0x2e7017(0x122)]?.[_0x2e7017(0xd3)],_0x3fbbe9=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2e7017(0xd1),'init_data':_0x4bc02d?.['initData']||'','oldSessionId':_0x1b584d,'oldDate':_0x2aa30b,'newDate':selectedRsDate,'newTime':_0x98533c,'coachId':currentSession[_0x2e7017(0x148)]})}),_0x41dee9=await _0x3fbbe9[_0x2e7017(0x15b)]();!_0x41dee9['ok']?(showToast(_0x2e7017(0x164)),DataManager[_0x2e7017(0x188)]()):(showToast(_0x2e7017(0x124)),DataManager[_0x2e7017(0x190)]());}catch(_0x44ec7c){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x454d02(0x18e),init);