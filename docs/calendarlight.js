const a3_0x26af7a=a3_0x1414;(function(_0x6fc1ae,_0x5d48ca){const _0x2b34d2=a3_0x1414,_0x1ae777=_0x6fc1ae();while(!![]){try{const _0x3a9ed4=parseInt(_0x2b34d2(0x1ec))/0x1+parseInt(_0x2b34d2(0x277))/0x2*(-parseInt(_0x2b34d2(0x2d8))/0x3)+parseInt(_0x2b34d2(0x235))/0x4+-parseInt(_0x2b34d2(0x25b))/0x5*(parseInt(_0x2b34d2(0x2ab))/0x6)+parseInt(_0x2b34d2(0x2a4))/0x7+parseInt(_0x2b34d2(0x247))/0x8+-parseInt(_0x2b34d2(0x274))/0x9*(-parseInt(_0x2b34d2(0x243))/0xa);if(_0x3a9ed4===_0x5d48ca)break;else _0x1ae777['push'](_0x1ae777['shift']());}catch(_0x40dd41){_0x1ae777['push'](_0x1ae777['shift']());}}}(a3_0x4974,0x8b411));const APP_VERSION=a3_0x26af7a(0x21b),API_URL=a3_0x26af7a(0x258),GRID_H=0x3c,KEY_SESSIONS=a3_0x26af7a(0x1f8),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x26af7a(0x273),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2b979a=a3_0x26af7a,_0x4a59f2=(function(){let _0xfa76a3=!![];return function(_0x1b1dbf,_0x522088){const _0x124342=_0xfa76a3?function(){if(_0x522088){const _0x2b2cec=_0x522088['apply'](_0x1b1dbf,arguments);return _0x522088=null,_0x2b2cec;}}:function(){};return _0xfa76a3=![],_0x124342;};}()),_0x5ba612=_0x4a59f2(this,function(){const _0x12a57d=a3_0x1414;return _0x5ba612[_0x12a57d(0x28b)]()[_0x12a57d(0x2d6)]('(((.+)+)+)+$')[_0x12a57d(0x28b)]()[_0x12a57d(0x204)](_0x5ba612)[_0x12a57d(0x2d6)](_0x12a57d(0x230));});_0x5ba612();try{const _0x283882=window[_0x2b979a(0x237)]?.[_0x2b979a(0x28d)];if(!_0x283882)return;_0x283882[_0x2b979a(0x2a1)](),_0x283882['expand']();try{_0x283882[_0x2b979a(0x21a)](_0x2b979a(0x24c)),_0x283882[_0x2b979a(0x220)]&&_0x283882[_0x2b979a(0x220)]('#050505');}catch(_0x23c296){console[_0x2b979a(0x2df)]('Error\x20setting\x20color:',_0x23c296);}try{_0x283882['BackButton']&&(_0x283882[_0x2b979a(0x1ed)][_0x2b979a(0x2c8)](),_0x283882[_0x2b979a(0x1ed)][_0x2b979a(0x20a)](),_0x283882[_0x2b979a(0x1ed)][_0x2b979a(0x22b)](function(){const _0x4a7a75=_0x2b979a;window[_0x4a7a75(0x2b3)][_0x4a7a75(0x289)]=_0x4a7a75(0x2e1);}));}catch(_0x39fccd){console[_0x2b979a(0x2df)](_0x2b979a(0x278),_0x39fccd);}try{if(_0x283882[_0x2b979a(0x27a)])_0x283882[_0x2b979a(0x27a)]();}catch(_0x3a8f38){}}catch(_0x1e9c6c){console['error'](_0x2b979a(0x1fd),_0x1e9c6c);}}());function isAdmin(){const _0x1802e9=a3_0x26af7a;try{const _0x386155=Number(window[_0x1802e9(0x237)]?.['WebApp']?.['initDataUnsafe']?.['user']?.['id']);return _0x386155===0xbaf7174;}catch(_0x120805){return![];}}const DataManager={'saveLocally'(){const _0x1431fd=a3_0x26af7a;try{localStorage[_0x1431fd(0x24e)](KEY_SESSIONS,JSON[_0x1431fd(0x25a)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x1431fd(0x25a)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x291614){}},'loadLocal'(){const _0x43666b=a3_0x26af7a;try{const _0x1c2551=localStorage[_0x43666b(0x2dc)](KEY_SESSIONS);if(_0x1c2551)sessions=JSON[_0x43666b(0x28a)](_0x1c2551);const _0x7822de=localStorage[_0x43666b(0x2dc)](KEY_CLIENTS);if(_0x7822de)clients=JSON[_0x43666b(0x28a)](_0x7822de);const _0x48eba7=localStorage[_0x43666b(0x2dc)](KEY_SETTINGS);if(_0x48eba7){const _0x3f595d=JSON['parse'](_0x48eba7);if(_0x3f595d[_0x43666b(0x221)])availabilityPattern=_0x3f595d[_0x43666b(0x221)];if(_0x3f595d[_0x43666b(0x210)])specialRanges=_0x3f595d[_0x43666b(0x210)];if(_0x3f595d[_0x43666b(0x2a8)])dateExceptions=_0x3f595d[_0x43666b(0x2a8)];}}catch(_0x24487e){}},async 'syncLoad'(){const _0x5e15d3=a3_0x26af7a,_0x234f65=new Date(),_0x56517f=_0x234f65['getFullYear']()+'-'+String(_0x234f65['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3dac06=new Date(_0x234f65);_0x3dac06[_0x5e15d3(0x29f)](_0x234f65[_0x5e15d3(0x2de)]()+0x1);const _0x502934=_0x3dac06[_0x5e15d3(0x25d)]()+'-'+String(_0x3dac06[_0x5e15d3(0x2de)]()+0x1)['padStart'](0x2,'0'),_0x6f7885=Date[_0x5e15d3(0x269)]();try{const _0x59dacf=window[_0x5e15d3(0x237)]?.['WebApp'],_0x5bf787=_0x59dacf?.['initData']||'',[_0x22f02c,_0x832643]=await Promise['all']([fetch(API_URL,{'method':_0x5e15d3(0x2b6),'body':JSON[_0x5e15d3(0x25a)]({'action':_0x5e15d3(0x268),'init_data':_0x5bf787,'month_str':_0x56517f})})[_0x5e15d3(0x25c)](_0x85bafd=>_0x85bafd['json']()),fetch(API_URL,{'method':_0x5e15d3(0x2b6),'body':JSON[_0x5e15d3(0x25a)]({'action':'client_load','init_data':_0x5bf787,'month_str':_0x502934})})[_0x5e15d3(0x25c)](_0x4c8acb=>_0x4c8acb['json']())]);if(lastUserActionTime>_0x6f7885){console[_0x5e15d3(0x2df)](_0x5e15d3(0x249));return;}if(_0x22f02c['ok'])this[_0x5e15d3(0x2a0)](_0x22f02c['data'],_0x56517f);if(_0x832643['ok'])this[_0x5e15d3(0x2a0)](_0x832643[_0x5e15d3(0x203)],_0x502934);this[_0x5e15d3(0x2c6)]();}catch(_0x23eb28){}},'applyData'(_0x542872,_0x16bd59){const _0x11c6ea=a3_0x26af7a;if(!_0x542872)return;if(_0x542872[_0x11c6ea(0x212)]){if(_0x542872[_0x11c6ea(0x212)]['pattern'])availabilityPattern=_0x542872['settings']['pattern'];if(_0x542872[_0x11c6ea(0x212)]['ranges'])specialRanges=_0x542872[_0x11c6ea(0x212)][_0x11c6ea(0x210)];if(_0x542872[_0x11c6ea(0x212)][_0x11c6ea(0x2a8)])dateExceptions=_0x542872[_0x11c6ea(0x212)]['exceptions'];}if(_0x542872[_0x11c6ea(0x2d1)]&&Array[_0x11c6ea(0x206)](_0x542872[_0x11c6ea(0x2d1)]))clients=_0x542872[_0x11c6ea(0x2d1)];_0x542872[_0x11c6ea(0x282)]&&(coachProfiles={...coachProfiles,..._0x542872[_0x11c6ea(0x282)]}),_0x542872[_0x11c6ea(0x265)]&&(sessions=sessions['filter'](_0x1bc6d8=>!_0x1bc6d8['dateStr']['startsWith'](_0x16bd59)),Object[_0x11c6ea(0x2d0)](_0x542872[_0x11c6ea(0x265)])[_0x11c6ea(0x29d)](_0x3e05bd=>{const _0x2a5f32=_0x11c6ea,_0x534b82=_0x542872[_0x2a5f32(0x265)][_0x3e05bd];_0x534b82[_0x2a5f32(0x29d)](_0x55ab2f=>{const _0x4a7fff=_0x2a5f32;sessions['push']({'id':_0x55ab2f['i'],'clientId':_0x55ab2f['c'],'coachId':_0x55ab2f[_0x4a7fff(0x270)],'dateStr':_0x16bd59+'-'+_0x3e05bd[_0x4a7fff(0x2cb)](0x2,'0'),'start':_0x55ab2f['s'],'end':_0x55ab2f['e'],'note':_0x55ab2f['n']||'','status':_0x55ab2f['st']||_0x4a7fff(0x202),'seriesId':_0x55ab2f[_0x4a7fff(0x22c)]});});})),reRenderBlocks();}};function init(){const _0x5074f9=a3_0x26af7a;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5074f9(0x23e)](_0x5074f9(0x2cd))[_0x5074f9(0x26b)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x26cb37=a3_0x26af7a,_0x1e08f2=document['getElementById'](_0x26cb37(0x251)),_0x153ab=document[_0x26cb37(0x23e)](_0x26cb37(0x23f));_0x1e08f2['innerHTML']='',_0x1e08f2[_0x26cb37(0x246)](_0x153ab);for(let _0x30ba07=0x0;_0x30ba07<0x18;_0x30ba07++){const _0x57b97d=document[_0x26cb37(0x284)]('div');_0x57b97d[_0x26cb37(0x279)]='time-label';if(_0x30ba07>0x0)_0x57b97d[_0x26cb37(0x1f1)]=_0x26cb37(0x2c0)+String(_0x30ba07)[_0x26cb37(0x2cb)](0x2,'0')+_0x26cb37(0x2c7);_0x1e08f2[_0x26cb37(0x246)](_0x57b97d);}}function renderDayRange(_0x123c4f,_0x1518b4){const _0x1cc004=a3_0x26af7a,_0x185f60=document[_0x1cc004(0x23e)](_0x1cc004(0x263)),_0x5e9959=document[_0x1cc004(0x23e)]('gridColumns'),_0x5d5f34=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6b201=new Date();_0x6b201[_0x1cc004(0x28e)](0x0,0x0,0x0,0x0);const _0x24ab98=getLocalDateStr(new Date());for(let _0x430d9e=_0x123c4f;_0x430d9e<=_0x1518b4;_0x430d9e++){const _0x3187aa=new Date(_0x6b201);_0x3187aa[_0x1cc004(0x254)](_0x3187aa[_0x1cc004(0x226)]()+_0x430d9e);const _0x310084=getLocalDateStr(_0x3187aa);let _0x8fb88b=_0x3187aa[_0x1cc004(0x241)]()-0x1;if(_0x8fb88b===-0x1)_0x8fb88b=0x6;const _0x54324b=_0x310084===_0x24ab98,_0xab2a6d=document[_0x1cc004(0x284)](_0x1cc004(0x223));_0xab2a6d[_0x1cc004(0x279)]=_0x1cc004(0x280)+(_0x54324b?'today':''),_0xab2a6d[_0x1cc004(0x2db)]('data-date',_0x310084),_0xab2a6d[_0x1cc004(0x1f1)]='<div\x20class=\x22dch-day\x22>'+_0x5d5f34[_0x8fb88b]+_0x1cc004(0x24b)+_0x3187aa[_0x1cc004(0x226)]()+_0x1cc004(0x299),_0x185f60['appendChild'](_0xab2a6d);const _0x91b720=document[_0x1cc004(0x284)](_0x1cc004(0x223));_0x91b720[_0x1cc004(0x279)]=_0x1cc004(0x2c1)+(_0x54324b?_0x1cc004(0x287):''),_0x91b720['setAttribute'](_0x1cc004(0x27f),_0x310084),_0x91b720['setAttribute'](_0x1cc004(0x298),_0x8fb88b),_0x5e9959[_0x1cc004(0x246)](_0x91b720);}}function reRenderBlocks(){const _0x5543f1=a3_0x26af7a;document[_0x5543f1(0x216)](_0x5543f1(0x2ca))[_0x5543f1(0x29d)](_0x35e4c5=>{const _0x5c0fe5=_0x5543f1;_0x35e4c5[_0x5c0fe5(0x216)](_0x5c0fe5(0x293))['forEach'](_0x50af70=>_0x50af70['remove']());const _0x1f7561=_0x35e4c5['getAttribute'](_0x5c0fe5(0x27f)),_0x1da29e=parseInt(_0x35e4c5[_0x5c0fe5(0x271)](_0x5c0fe5(0x298))),_0x2ac479=Math['round'](_0x35e4c5[_0x5c0fe5(0x23a)]);(availabilityPattern[_0x1da29e]||[])[_0x5c0fe5(0x29d)](_0x30a2c9=>{const _0x59e2b5=_0x5c0fe5,_0x26fa79=document[_0x59e2b5(0x284)](_0x59e2b5(0x223));_0x26fa79[_0x59e2b5(0x279)]='blocked-slot\x20stripe-bg',_0x26fa79[_0x59e2b5(0x261)]['top']=_0x30a2c9*GRID_H+'px',_0x26fa79[_0x59e2b5(0x261)][_0x59e2b5(0x219)]='-'+_0x2ac479+_0x59e2b5(0x1ff)+_0x30a2c9*GRID_H+'px',_0x35e4c5[_0x59e2b5(0x246)](_0x26fa79);});if(specialRanges[_0x5c0fe5(0x292)]>0x0){const _0x30789a=new Date(_0x1f7561+'T00:00:00')[_0x5c0fe5(0x2af)](),_0x1c6177=new Date(_0x1f7561+_0x5c0fe5(0x285))[_0x5c0fe5(0x2af)]();specialRanges[_0x5c0fe5(0x29d)](_0xfa430a=>{const _0x2732ed=_0x5c0fe5,_0x3b40e5=new Date(_0xfa430a[_0x2732ed(0x2a5)])[_0x2732ed(0x2af)](),_0x2d7073=new Date(_0xfa430a[_0x2732ed(0x23c)])['getTime'](),_0x2396b5=Math['max'](_0x30789a,_0x3b40e5),_0x4bc4ad=Math[_0x2732ed(0x2c2)](_0x1c6177,_0x2d7073);if(_0x2396b5<_0x4bc4ad){const _0x4b8ec4=(_0x2396b5-_0x30789a)/0x36ee80*GRID_H,_0x6fd967=(_0x4bc4ad-_0x2396b5)/0x36ee80*GRID_H,_0xed69b6=document[_0x2732ed(0x284)](_0x2732ed(0x223));_0x6fd967>=23.5*GRID_H?(_0xed69b6['className']=_0x2732ed(0x21d),_0xed69b6['style'][_0x2732ed(0x219)]='-'+_0x2ac479+_0x2732ed(0x283)):(_0xed69b6[_0x2732ed(0x279)]='blocked-range-part\x20stripe-bg',_0xed69b6[_0x2732ed(0x261)]['top']=_0x4b8ec4+'px',_0xed69b6[_0x2732ed(0x261)][_0x2732ed(0x1f0)]=_0x6fd967+'px',_0xed69b6[_0x2732ed(0x261)][_0x2732ed(0x219)]='-'+_0x2ac479+_0x2732ed(0x1ff)+_0x4b8ec4+'px'),_0x35e4c5[_0x2732ed(0x246)](_0xed69b6);}});}renderEventsForColumn(_0x35e4c5,_0x1f7561);});}function renderEventsForColumn(_0x4b2b3c,_0x592ab4){const _0x5084bb=a3_0x26af7a,_0x4c58d0=sessions[_0x5084bb(0x21f)](_0x7d91cb=>_0x7d91cb['dateStr']===_0x592ab4),_0x491888=_0x4c58d0['map'](_0x5eebe7=>{const _0x24e5ad=_0x5084bb,[_0x20992b,_0x145787]=_0x5eebe7[_0x24e5ad(0x2a5)][_0x24e5ad(0x21e)](':')['map'](Number),[_0x5665e6,_0x36bd0a]=_0x5eebe7[_0x24e5ad(0x23c)][_0x24e5ad(0x21e)](':')['map'](Number);return{'data':_0x5eebe7,'start':_0x20992b*0x3c+_0x145787,'end':_0x5665e6*0x3c+_0x36bd0a,'colIndex':0x0};});_0x491888['sort']((_0x166c63,_0x1641a6)=>_0x166c63[_0x5084bb(0x2a5)]-_0x1641a6[_0x5084bb(0x2a5)]||_0x1641a6[_0x5084bb(0x23c)]-_0x1641a6[_0x5084bb(0x2a5)]-(_0x166c63[_0x5084bb(0x23c)]-_0x166c63[_0x5084bb(0x2a5)]));const _0x7c0f90=[];_0x491888['forEach'](_0x4eac9f=>{const _0x2a8102=_0x5084bb;let _0x5979bc=![];for(let _0x2bfd11=0x0;_0x2bfd11<_0x7c0f90['length'];_0x2bfd11++){const _0x4b3d4e=_0x7c0f90[_0x2bfd11];if(_0x4eac9f[_0x2a8102(0x2a5)]>=_0x4b3d4e[_0x4b3d4e['length']-0x1][_0x2a8102(0x23c)]){_0x4b3d4e[_0x2a8102(0x2d2)](_0x4eac9f),_0x4eac9f[_0x2a8102(0x2d4)]=_0x2bfd11,_0x5979bc=!![];break;}}!_0x5979bc&&(_0x7c0f90['push']([_0x4eac9f]),_0x4eac9f['colIndex']=_0x7c0f90[_0x2a8102(0x292)]-0x1);}),_0x491888[_0x5084bb(0x29d)](_0xc025c1=>{const _0xb9a32=_0x5084bb;let _0x5ed0b5=0x0;_0x491888[_0xb9a32(0x29d)](_0x50398e=>{const _0x10ebcb=_0xb9a32;if(Math[_0x10ebcb(0x266)](_0xc025c1[_0x10ebcb(0x2a5)],_0x50398e[_0x10ebcb(0x2a5)])<Math['min'](_0xc025c1['end'],_0x50398e[_0x10ebcb(0x23c)])&&_0x50398e[_0x10ebcb(0x2d4)]>_0x5ed0b5)_0x5ed0b5=_0x50398e['colIndex'];});const _0x122eea=_0x5ed0b5+0x1,_0x12baa7=0x64/_0x122eea,_0x5470b2=_0xc025c1[_0xb9a32(0x2d4)]*_0x12baa7,_0x280aa4=document['createElement']('div'),_0x2b803d=_0xc025c1[_0xb9a32(0x203)];let _0x560a54=_0xb9a32(0x2ce);if(clients&&clients['length']>0x0){const _0x327edb=clients[_0xb9a32(0x26e)](_0x2e6be8=>String(_0x2e6be8['id'])===String(_0x2b803d['clientId']));if(_0x327edb&&_0x327edb['color'])_0x560a54=_0x327edb[_0xb9a32(0x209)];}const _0x3b6a33=_0x2b803d[_0xb9a32(0x2d3)]===_0xb9a32(0x29b),_0x141d7c=_0x3b6a33?0x1:0.45;_0x280aa4[_0xb9a32(0x279)]=_0xb9a32(0x2cf)+(_0x3b6a33?'\x20status-completed':''),_0x280aa4[_0xb9a32(0x261)]['backgroundColor']=hexToRgba(_0x560a54,_0x141d7c),_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x229)]=_0x560a54;const _0x2febe3=_0xc025c1['start']/0x3c*GRID_H,_0x570de7=(_0xc025c1['end']-_0xc025c1[_0xb9a32(0x2a5)])/0x3c*GRID_H;_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x1fb)]=_0x2febe3+'px',_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x1f0)]=Math[_0xb9a32(0x266)](_0x570de7,0x14)+'px',_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x24d)]='calc('+_0x12baa7+_0xb9a32(0x215),_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x1f2)]=_0xb9a32(0x259)+_0x5470b2+_0xb9a32(0x2bc),_0x280aa4[_0xb9a32(0x261)][_0xb9a32(0x260)]=0xa+_0xc025c1['colIndex'];if(_0x12baa7<0x55)_0x280aa4[_0xb9a32(0x2a9)][_0xb9a32(0x231)](_0xb9a32(0x2be));let _0x30448a='';if(_0x2b803d[_0xb9a32(0x2a3)])_0x30448a+=_0xb9a32(0x2b1);if(_0x3b6a33)_0x30448a+=_0xb9a32(0x2e0);_0x280aa4[_0xb9a32(0x1f1)]=_0xb9a32(0x25e)+_0x2b803d[_0xb9a32(0x2a5)]+_0xb9a32(0x2cc)+_0x2b803d[_0xb9a32(0x23c)]+_0xb9a32(0x2b8)+_0x30448a+_0xb9a32(0x22a),_0x280aa4[_0xb9a32(0x27b)]=_0x4f11ff=>{const _0xea382e=_0xb9a32;_0x4f11ff[_0xea382e(0x255)](),openDetails(_0x2b803d);},_0x4b2b3c[_0xb9a32(0x246)](_0x280aa4);});}function openAnalytics(){const _0x1d19e3=a3_0x26af7a,_0x14af76=document['querySelector'](_0x1d19e3(0x294));setAnalyticsPeriod(_0x1d19e3(0x273),_0x14af76),openSheet(_0x1d19e3(0x2bf));}function setAnalyticsPeriod(_0x23101a,_0x48ddea){const _0x479f0c=a3_0x26af7a;currentAnPeriod=_0x23101a,document[_0x479f0c(0x216)](_0x479f0c(0x294))[_0x479f0c(0x29d)](_0x1961bf=>_0x1961bf[_0x479f0c(0x2a9)][_0x479f0c(0x252)]('active'));if(_0x48ddea)_0x48ddea['classList'][_0x479f0c(0x231)](_0x479f0c(0x2c3));const _0x2483f3=document[_0x479f0c(0x23e)]('anCustomDates');_0x2483f3[_0x479f0c(0x261)][_0x479f0c(0x22d)]=_0x23101a===_0x479f0c(0x22e)?_0x479f0c(0x22f):_0x479f0c(0x257);const _0xbdc4fc=new Date();let _0x4a9c0b=new Date(),_0x4645b0=new Date();if(_0x23101a===_0x479f0c(0x273))_0x4a9c0b=getStartOfWeek(_0xbdc4fc),_0x4645b0=new Date(_0x4a9c0b),_0x4645b0[_0x479f0c(0x254)](_0x4645b0[_0x479f0c(0x226)]()+0x6);else{if(_0x23101a===_0x479f0c(0x1f5))_0x4a9c0b=new Date(_0xbdc4fc[_0x479f0c(0x25d)](),_0xbdc4fc[_0x479f0c(0x2de)](),0x1),_0x4645b0=new Date(_0xbdc4fc[_0x479f0c(0x25d)](),_0xbdc4fc[_0x479f0c(0x2de)]()+0x1,0x0);else{!document['getElementById'](_0x479f0c(0x1f6))[_0x479f0c(0x2b4)]&&(document[_0x479f0c(0x23e)]('anStart')[_0x479f0c(0x2b4)]=getLocalDateStr(_0xbdc4fc),document[_0x479f0c(0x23e)]('anEnd')[_0x479f0c(0x2b4)]=getLocalDateStr(_0xbdc4fc));refreshAnalytics();return;}}document[_0x479f0c(0x23e)]('anStart')[_0x479f0c(0x2b4)]=getLocalDateStr(_0x4a9c0b),document[_0x479f0c(0x23e)](_0x479f0c(0x1fa))[_0x479f0c(0x2b4)]=getLocalDateStr(_0x4645b0),refreshAnalytics();}function refreshAnalytics(){const _0x166b42=a3_0x26af7a,_0xec743f=document[_0x166b42(0x23e)](_0x166b42(0x1f6))['value'],_0x254408=document[_0x166b42(0x23e)](_0x166b42(0x1fa))[_0x166b42(0x2b4)];if(!_0xec743f||!_0x254408)return;const _0x5151aa=sessions[_0x166b42(0x21f)](_0x2cb5cb=>_0x2cb5cb['dateStr']>=_0xec743f&&_0x2cb5cb[_0x166b42(0x1ef)]<=_0x254408&&_0x2cb5cb[_0x166b42(0x2d3)]!=='cancelled'),_0x492374=_0x5151aa[_0x166b42(0x292)],_0x26e738=_0x5151aa[_0x166b42(0x21f)](_0xbe2376=>_0xbe2376[_0x166b42(0x2d3)]==='completed')[_0x166b42(0x292)],_0x1c4f9a=_0x492374>0x0?Math['round'](_0x26e738/_0x492374*0x64):0x0;document[_0x166b42(0x23e)]('anPercent')['textContent']=_0x1c4f9a+'%',document[_0x166b42(0x23e)]('anTotalStats')['textContent']=_0x26e738+_0x166b42(0x248)+_0x492374+_0x166b42(0x26f);const _0x27931d=document[_0x166b42(0x23e)](_0x166b42(0x272)),_0x2f3581=0x2*Math['PI']*0x23,_0x1e31b3=_0x2f3581-_0x1c4f9a/0x64*_0x2f3581;_0x27931d[_0x166b42(0x261)][_0x166b42(0x2ac)]=_0x1e31b3;const _0x5a5778={};_0x5151aa[_0x166b42(0x29d)](_0x286e3b=>{const _0x111403=_0x166b42,_0x9f0c12=_0x286e3b[_0x111403(0x2b5)]||_0x111403(0x250);if(!_0x5a5778[_0x9f0c12]){const _0x1a08f3='#'+_0x9f0c12['toString']()[_0x111403(0x276)](0x0,0x6);_0x5a5778[_0x9f0c12]={'total':0x0,'done':0x0,'color':_0x1a08f3};}_0x5a5778[_0x9f0c12]['total']++;if(_0x286e3b[_0x111403(0x2d3)]===_0x111403(0x29b))_0x5a5778[_0x9f0c12][_0x111403(0x207)]++;});const _0x522ed6=document['getElementById'](_0x166b42(0x2d7));_0x522ed6[_0x166b42(0x1f1)]='';const _0x52b824=Object[_0x166b42(0x2da)](_0x5a5778)[_0x166b42(0x256)]((_0x48fa6c,_0x1d786d)=>_0x1d786d[0x1][_0x166b42(0x2ad)]-_0x48fa6c[0x1][_0x166b42(0x2ad)]);if(_0x52b824['length']===0x0){_0x522ed6[_0x166b42(0x1f1)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x52b824['forEach'](([_0x5d300a,_0x5e6087])=>{const _0xd2502=_0x166b42,_0x437c5d=Math[_0xd2502(0x240)](_0x5e6087[_0xd2502(0x207)]/_0x5e6087[_0xd2502(0x2ad)]*0x64),_0x204a8a=document[_0xd2502(0x284)](_0xd2502(0x223));_0x204a8a[_0xd2502(0x279)]=_0xd2502(0x236),_0x204a8a[_0xd2502(0x261)][_0xd2502(0x229)]=_0x5e6087['color'],_0x204a8a[_0xd2502(0x1f1)]=_0xd2502(0x2b2)+_0x5d300a[_0xd2502(0x276)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x5e6087[_0xd2502(0x207)]+'</span>\x20/\x20'+_0x5e6087[_0xd2502(0x2ad)]+_0xd2502(0x245)+_0x437c5d+_0xd2502(0x24a),_0x522ed6[_0xd2502(0x246)](_0x204a8a);});}function openDetails(_0x4545e6){const _0x438133=a3_0x26af7a;currentSession=_0x4545e6;const _0x499cc6=new Date(_0x4545e6[_0x438133(0x1ef)]),_0x470b0f=_0x499cc6[_0x438133(0x205)](_0x438133(0x20f),{'weekday':_0x438133(0x2c9),'day':_0x438133(0x1f4),'month':'long'});document['getElementById']('detDate')['textContent']=_0x470b0f[_0x438133(0x2dd)](0x0)['toUpperCase']()+_0x470b0f[_0x438133(0x2bd)](0x1),document[_0x438133(0x23e)]('detTime')[_0x438133(0x20b)]=_0x4545e6[_0x438133(0x2a5)]+_0x438133(0x2cc)+_0x4545e6[_0x438133(0x23c)],document['getElementById'](_0x438133(0x2aa))[_0x438133(0x20b)]=_0x4545e6['note']||_0x438133(0x200);const _0x4efd91=document[_0x438133(0x23e)](_0x438133(0x281)),_0x1da638=document['getElementById'](_0x438133(0x29e)),_0xc9c9bd=_0x1da638[_0x438133(0x242)]('.btn-cancel'),_0x496828=_0x1da638[_0x438133(0x242)]('.btn-reschedule'),_0x1b0f60=document['getElementById'](_0x438133(0x29a));if(_0x4545e6[_0x438133(0x2d3)]===_0x438133(0x29b))_0x4efd91[_0x438133(0x20b)]=_0x438133(0x297),_0x4efd91[_0x438133(0x261)][_0x438133(0x209)]='var(--acc-green)',_0x1da638[_0x438133(0x261)][_0x438133(0x22d)]=_0x438133(0x257);else{_0x4efd91[_0x438133(0x20b)]=_0x438133(0x2ba),_0x4efd91[_0x438133(0x261)][_0x438133(0x209)]=_0x438133(0x295),_0x1da638[_0x438133(0x261)][_0x438133(0x22d)]=_0x438133(0x201);const _0x13ee8e=new Date(_0x4545e6[_0x438133(0x1ef)]+'T'+_0x4545e6[_0x438133(0x2a5)]),_0x4c5bd2=new Date(),_0x241a4d=(_0x13ee8e-_0x4c5bd2)/(0x3e8*0x3c*0x3c),_0x15f7c4=coachProfiles[_0x4545e6[_0x438133(0x2b5)]]&&coachProfiles[_0x4545e6['coachId']]['cancel_window']?parseInt(coachProfiles[_0x4545e6['coachId']][_0x438133(0x290)]):0x18;if(_0x15f7c4===0x0||_0x241a4d>=_0x15f7c4)_0xc9c9bd[_0x438133(0x261)][_0x438133(0x22d)]=_0x438133(0x201),_0x496828['style'][_0x438133(0x22d)]=_0x438133(0x201),_0x1b0f60['style'][_0x438133(0x22d)]=_0x438133(0x257);else{_0xc9c9bd[_0x438133(0x261)][_0x438133(0x22d)]=_0x438133(0x257),_0x496828[_0x438133(0x261)][_0x438133(0x22d)]=_0x438133(0x257),_0x1b0f60[_0x438133(0x261)][_0x438133(0x22d)]='block';let _0x21322a=_0x15f7c4===0x0?_0x438133(0x2d9):'–∑–∞\x20'+_0x15f7c4+_0x438133(0x234);_0x1b0f60[_0x438133(0x20b)]=_0x438133(0x26d)+_0x21322a+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x438133(0x23e)]('overlay')[_0x438133(0x2a9)][_0x438133(0x231)](_0x438133(0x2c3)),document[_0x438133(0x23e)]('detailsSheet')['classList'][_0x438133(0x231)]('open');}function closeAllSheets(){const _0xaba4f2=a3_0x26af7a;document[_0xaba4f2(0x23e)](_0xaba4f2(0x24f))['classList'][_0xaba4f2(0x252)]('active'),document[_0xaba4f2(0x216)](_0xaba4f2(0x28c))[_0xaba4f2(0x29d)](_0xd17501=>_0xd17501[_0xaba4f2(0x2a9)][_0xaba4f2(0x252)](_0xaba4f2(0x2ae)));}function openSheet(_0x20a94f){const _0x5b1ca3=a3_0x26af7a;document['getElementById'](_0x5b1ca3(0x24f))[_0x5b1ca3(0x2a9)]['add'](_0x5b1ca3(0x2c3)),document[_0x5b1ca3(0x23e)](_0x20a94f)['classList']['add'](_0x5b1ca3(0x2ae));}function getLocalDateStr(_0x56a762){const _0x3f9c5d=a3_0x26af7a,_0x28f89f=_0x56a762[_0x3f9c5d(0x25d)](),_0x1791e6=String(_0x56a762[_0x3f9c5d(0x2de)]()+0x1)[_0x3f9c5d(0x2cb)](0x2,'0'),_0x49a652=String(_0x56a762[_0x3f9c5d(0x226)]())[_0x3f9c5d(0x2cb)](0x2,'0');return _0x28f89f+'-'+_0x1791e6+'-'+_0x49a652;}function getStartOfWeek(_0x54f16e){const _0x588b97=a3_0x26af7a,_0x1e48ea=new Date(_0x54f16e),_0x8fc57d=_0x1e48ea[_0x588b97(0x241)](),_0xcea199=_0x1e48ea[_0x588b97(0x226)]()-_0x8fc57d+(_0x8fc57d===0x0?-0x6:0x1);return _0x1e48ea['setDate'](_0xcea199),_0x1e48ea[_0x588b97(0x28e)](0x0,0x0,0x0,0x0),_0x1e48ea;}function scrollToToday(){const _0x9ba556=getLocalDateStr(new Date());setTimeout(()=>{const _0x335ad7=a3_0x1414,_0x316f06=document[_0x335ad7(0x242)](_0x335ad7(0x291)+_0x9ba556+'\x22]');if(_0x316f06){const _0x11c26d=document[_0x335ad7(0x23e)]('matrixViewport'),_0x187abf=_0x316f06[_0x335ad7(0x23a)]-_0x11c26d[_0x335ad7(0x27d)]/0x2+_0x316f06[_0x335ad7(0x218)]/0x2;_0x11c26d[_0x335ad7(0x1f7)]({'left':_0x187abf,'behavior':_0x335ad7(0x23d)}),_0x11c26d[_0x335ad7(0x238)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x1414(_0x42936e,_0x128667){_0x42936e=_0x42936e-0x1ec;const _0x439c5a=a3_0x4974();let _0x3cb77b=_0x439c5a[_0x42936e];return _0x3cb77b;}function updateClock(){const _0x2cbff8=a3_0x26af7a,_0x280563=new Date(),_0x27e40a=document['getElementById']('globalTimeLine'),_0x1e36a1=document[_0x2cbff8(0x23e)](_0x2cbff8(0x23f)),_0x132d1e=(_0x280563['getHours']()*0x3c+_0x280563['getMinutes']())/0x3c*GRID_H;_0x27e40a[_0x2cbff8(0x261)][_0x2cbff8(0x1fb)]=_0x132d1e+'px',_0x27e40a[_0x2cbff8(0x261)]['display']=_0x2cbff8(0x201),_0x1e36a1['style'][_0x2cbff8(0x1fb)]=_0x132d1e+'px',_0x1e36a1[_0x2cbff8(0x261)]['display']=_0x2cbff8(0x201),_0x1e36a1[_0x2cbff8(0x20b)]=String(_0x280563[_0x2cbff8(0x29c)]())[_0x2cbff8(0x2cb)](0x2,'0')+':'+String(_0x280563['getMinutes']())[_0x2cbff8(0x2cb)](0x2,'0');}function a3_0x4974(){const _0x61d332=['getMonth','log','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','router.html','557999fLenGl','BackButton','test','dateStr','height','innerHTML','left','json','numeric','month','anStart','scrollTo','uc_client_sessions','get_slots','anEnd','top','<div\x20class=\x22rs-day-name\x22>','Critical\x20TMA\x20Error:','rgba(','px\x20-','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','block','planned','data','constructor','toLocaleDateString','isArray','done','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','color','offClick','textContent','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','firstChild','fontWeight','ru-RU','ranges','floor','settings','initData','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','%\x20-\x204px)','querySelectorAll','createDocumentFragment','offsetWidth','backgroundPosition','setHeaderColor','v9.5-CLIENT-ANALYTICS','DOMContentLoaded','day-off-overlay\x20stripe-bg','split','filter','setBackgroundColor','pattern','join','div','syncLoad','\x20–≤\x20','getDate','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–û—Ç–º–µ–Ω–µ–Ω–æ','borderLeftColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onClick','sid','display','custom','flex','(((.+)+)+)+$','add','scrollLeft','toUpperCase','\x20—á.','1861628YqitXi','client-stat-card','Telegram','scrollTop','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','offsetLeft','600','end','auto','getElementById','timeLineBadge','round','getDay','querySelector','30czeNez','gridColumns','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','appendChild','8829160gDlKNt','\x20–∏–∑\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22dch-num\x22>','#050505','width','setItem','overlay','Unknown','timeColumn','remove','headerMonth','setDate','stopPropagation','sort','none','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','calc(','stringify','10OhTmrv','then','getFullYear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','insertBefore','zIndex','style','customConfirm','daysHeaderTrack','</div><div\x20class=\x22rs-day-num\x22>','calendar','max','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','client_load','now','client_cancel','addEventListener','.rs-date-chip','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','find','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','cid','getAttribute','anDonutCircle','week','775152wakHZL','toLocaleString','substr','182bCUtnM','Error\x20setting\x20back\x20button:','className','disableVerticalSwipes','onclick','ccYesBtn','clientWidth','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','data-date','day-col-header\x20','detStatus','coach_profiles','px\x200px','createElement','T23:59:59','rgba(10,\x20132,\x20255,\x20','today','substring','href','parse','toString','.sheet','WebApp','setHours','visible','cancel_window','.day-col-header[data-date=\x22','length','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','.period-switch\x20.p-btn','var(--acc-blue)','<div\x20class=\x22dch-day\x22>','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','data-day-idx','</div>','cancelHint','completed','getHours','forEach','cancelContainer','setMonth','applyData','ready','rescheduleSheet','seriesId','1539671dXZRDl','start','detailsSheet','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','exceptions','classList','detNote','2827098zrFSxQ','strokeDashoffset','total','open','getTime','rsDatesTrack','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','location','value','coachId','POST','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toast','%\x20+\x202px)','slice','mini','analyticsSheet','<span>','day-column\x20','min','active','ccTitle','rsSlotsGrid','saveLocally',':00</span>','show','long','.day-column','padStart','\x20-\x20','matrixViewport','#0a84ff','event-card','keys','clients','push','status','colIndex','scrollWidth','search','analyticsList','36021QgVJeg','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','entries','setAttribute','getItem','charAt'];a3_0x4974=function(){return _0x61d332;};return a3_0x4974();}function onScroll(){const _0xb38177=a3_0x26af7a,_0x584f42=document[_0xb38177(0x23e)]('matrixViewport'),_0x2e7123=document[_0xb38177(0x216)]('.day-col-header');for(let _0x4a7b7d of _0x2e7123)if(_0x4a7b7d[_0xb38177(0x23a)]>=_0x584f42[_0xb38177(0x232)]){const _0xfff513=new Date(_0x4a7b7d[_0xb38177(0x271)](_0xb38177(0x27f)));document[_0xb38177(0x23e)](_0xb38177(0x253))['textContent']=_0xfff513[_0xb38177(0x275)]('ru',{'month':'long'})[_0xb38177(0x233)]()+'\x20'+_0xfff513[_0xb38177(0x25d)]();break;}}function showToast(_0x13c7ba){const _0x297a97=a3_0x26af7a,_0x3e9f54=document[_0x297a97(0x23e)](_0x297a97(0x2bb));_0x3e9f54[_0x297a97(0x20b)]=_0x13c7ba,_0x3e9f54[_0x297a97(0x2a9)]['add']('show'),setTimeout(()=>_0x3e9f54['classList']['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x37bd57=a3_0x26af7a,_0x6b43e2=document[_0x37bd57(0x23e)](_0x37bd57(0x2cd)),_0xd1072b=_0x6b43e2[_0x37bd57(0x232)],_0x1c5990=_0x6b43e2[_0x37bd57(0x2d5)],_0x104781=_0x6b43e2['clientWidth'];if(_0x1c5990-(_0xd1072b+_0x104781)<0x12c){const _0x40f6dd=endOffset;endOffset+=0xe,renderDayRange(_0x40f6dd+0x1,endOffset),reRenderBlocks();}if(_0xd1072b<0x12c){const _0x144e1a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x144e1a-0x1),_0x6b43e2[_0x37bd57(0x232)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1dc269,_0x3090fb){const _0x161c98=a3_0x26af7a,_0x1e3be7=document['getElementById'](_0x161c98(0x263)),_0x145992=document[_0x161c98(0x23e)](_0x161c98(0x244)),_0x2e33af=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x245692=new Date();_0x245692['setHours'](0x0,0x0,0x0,0x0);const _0x47a0b6=getLocalDateStr(new Date()),_0xdecb2=document[_0x161c98(0x217)](),_0x4883e1=document[_0x161c98(0x217)]();for(let _0x1c5b7a=_0x1dc269;_0x1c5b7a<=_0x3090fb;_0x1c5b7a++){const _0x5da08f=new Date(_0x245692);_0x5da08f['setDate'](_0x5da08f[_0x161c98(0x226)]()+_0x1c5b7a);const _0x3042dc=getLocalDateStr(_0x5da08f);let _0x3ae67c=_0x5da08f['getDay']()-0x1;if(_0x3ae67c===-0x1)_0x3ae67c=0x6;const _0x1ea374=_0x3042dc===_0x47a0b6,_0x4cfd30=document['createElement'](_0x161c98(0x223));_0x4cfd30['className']=_0x161c98(0x280)+(_0x1ea374?'today':''),_0x4cfd30[_0x161c98(0x2db)](_0x161c98(0x27f),_0x3042dc),_0x4cfd30[_0x161c98(0x1f1)]=_0x161c98(0x296)+_0x2e33af[_0x3ae67c]+_0x161c98(0x24b)+_0x5da08f['getDate']()+_0x161c98(0x299),_0xdecb2[_0x161c98(0x246)](_0x4cfd30);const _0x29cf49=document[_0x161c98(0x284)](_0x161c98(0x223));_0x29cf49[_0x161c98(0x279)]=_0x161c98(0x2c1)+(_0x1ea374?'today':''),_0x29cf49[_0x161c98(0x2db)](_0x161c98(0x27f),_0x3042dc),_0x29cf49[_0x161c98(0x2db)](_0x161c98(0x298),_0x3ae67c),_0x4883e1[_0x161c98(0x246)](_0x29cf49);}_0x1e3be7['insertBefore'](_0xdecb2,_0x1e3be7[_0x161c98(0x20d)]),_0x145992[_0x161c98(0x25f)](_0x4883e1,_0x145992[_0x161c98(0x242)](_0x161c98(0x2ca)));}function hexToRgba(_0x85bdc7,_0x33bc67){const _0x417811=a3_0x26af7a;let _0xe0f6f2;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x417811(0x1ee)](_0x85bdc7))return _0xe0f6f2=_0x85bdc7[_0x417811(0x288)](0x1)[_0x417811(0x21e)](''),_0xe0f6f2[_0x417811(0x292)]==0x3&&(_0xe0f6f2=[_0xe0f6f2[0x0],_0xe0f6f2[0x0],_0xe0f6f2[0x1],_0xe0f6f2[0x1],_0xe0f6f2[0x2],_0xe0f6f2[0x2]]),_0xe0f6f2='0x'+_0xe0f6f2[_0x417811(0x222)](''),_0x417811(0x1fe)+[_0xe0f6f2>>0x10&0xff,_0xe0f6f2>>0x8&0xff,_0xe0f6f2&0xff]['join'](',')+','+_0x33bc67+')';return _0x417811(0x286)+_0x33bc67+')';}let confirmResolver=null;function showCustomConfirm(_0x1113c1,_0x3ce47e,_0x49b11f=!![]){const _0x554508=a3_0x26af7a;document['getElementById'](_0x554508(0x2c4))['textContent']=_0x1113c1,document[_0x554508(0x23e)]('ccText')['textContent']=_0x3ce47e;const _0x1ba231=document[_0x554508(0x23e)](_0x554508(0x27c));return _0x49b11f?(_0x1ba231[_0x554508(0x261)]['color']='#ff453a',_0x1ba231[_0x554508(0x261)][_0x554508(0x20e)]=_0x554508(0x23b)):(_0x1ba231[_0x554508(0x261)][_0x554508(0x209)]=_0x554508(0x2ce),_0x1ba231[_0x554508(0x261)]['fontWeight']='600'),new Promise(_0x5db48b=>{const _0x5b41b0=_0x554508;confirmResolver=_0x5db48b,document['getElementById'](_0x5b41b0(0x262))[_0x5b41b0(0x2a9)][_0x5b41b0(0x231)](_0x5b41b0(0x28f));});}function resolveCustomConfirm(_0x2c26d7){const _0x4008c0=a3_0x26af7a;document[_0x4008c0(0x23e)](_0x4008c0(0x262))[_0x4008c0(0x2a9)][_0x4008c0(0x252)](_0x4008c0(0x28f));if(confirmResolver)confirmResolver(_0x2c26d7);}async function tryCancelCurrentSession(){const _0x40d72c=a3_0x26af7a;if(!currentSession)return;const _0x5edbea=await showCustomConfirm(_0x40d72c(0x239),_0x40d72c(0x2a7),!![]);if(!_0x5edbea)return;const _0x538538=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x58e494=>_0x58e494['id']!==_0x538538['id']),reRenderBlocks(),showToast(_0x40d72c(0x228)),lastUserActionTime=Date[_0x40d72c(0x269)]();try{const _0xa617e2=window[_0x40d72c(0x237)]?.['WebApp'],_0x47ef27=await fetch(API_URL,{'method':_0x40d72c(0x2b6),'body':JSON['stringify']({'action':_0x40d72c(0x26a),'init_data':_0xa617e2?.[_0x40d72c(0x213)]||'','coachId':_0x538538[_0x40d72c(0x2b5)],'dateStr':_0x538538[_0x40d72c(0x1ef)],'sessionId':_0x538538['id']})});if(_0x47ef27['ok'])DataManager[_0x40d72c(0x2c6)]();}catch(_0x863364){showToast(_0x40d72c(0x208));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x550041=a3_0x26af7a;if(!currentSession)return;document[_0x550041(0x23e)](_0x550041(0x2a6))[_0x550041(0x2a9)][_0x550041(0x252)](_0x550041(0x2ae)),document[_0x550041(0x23e)](_0x550041(0x2a2))[_0x550041(0x2a9)][_0x550041(0x231)](_0x550041(0x2ae));const _0x2b5fce=document['getElementById'](_0x550041(0x2b0)),_0x387907=document[_0x550041(0x23e)]('rsSlotsGrid');_0x2b5fce[_0x550041(0x1f1)]='',_0x387907[_0x550041(0x1f1)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x34d800,_0x1770d2]=currentSession[_0x550041(0x2a5)][_0x550041(0x21e)](':')[_0x550041(0x2b7)](Number),[_0x131c1b,_0x5dd3b3]=currentSession[_0x550041(0x23c)][_0x550041(0x21e)](':')['map'](Number),_0x10f622=_0x131c1b*0x3c+_0x5dd3b3-(_0x34d800*0x3c+_0x1770d2);try{const _0x1612a0=window[_0x550041(0x237)]?.[_0x550041(0x28d)],_0x438d55=await fetch(API_URL,{'method':_0x550041(0x2b6),'body':JSON[_0x550041(0x25a)]({'action':_0x550041(0x1f9),'coachId':currentSession[_0x550041(0x2b5)],'duration':_0x10f622,'init_data':_0x1612a0?.[_0x550041(0x213)]||'','excludeSessionId':currentSession['id']})}),_0x459257=await _0x438d55[_0x550041(0x1f3)]();_0x459257['ok']&&_0x459257[_0x550041(0x203)]?(availableSlotsCache=_0x459257[_0x550041(0x203)],renderRescheduleDates()):_0x387907[_0x550041(0x1f1)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x4a8c5d){_0x387907['innerHTML']=_0x550041(0x227);}}function renderRescheduleDates(){const _0x27ddaf=a3_0x26af7a,_0x3260fb=document[_0x27ddaf(0x23e)](_0x27ddaf(0x2b0));_0x3260fb[_0x27ddaf(0x1f1)]='';const _0x4d67d3=Object[_0x27ddaf(0x2d0)](availableSlotsCache)[_0x27ddaf(0x256)](),_0x172a3c=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4d67d3['length']===0x0){document['getElementById']('rsSlotsGrid')[_0x27ddaf(0x1f1)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x4d67d3[_0x27ddaf(0x29d)]((_0xc20535,_0x4a533f)=>{const _0x3be80d=_0x27ddaf,_0x19d228=new Date(_0xc20535),_0x46f886=_0x172a3c[_0x19d228[_0x3be80d(0x241)]()],_0x2b89a6=_0x19d228[_0x3be80d(0x226)](),_0x4acb22=document[_0x3be80d(0x284)](_0x3be80d(0x223));_0x4acb22[_0x3be80d(0x279)]='rs-date-chip';if(_0x4a533f===0x0)_0x4acb22[_0x3be80d(0x2a9)]['add'](_0x3be80d(0x2c3));_0x4acb22['innerHTML']=_0x3be80d(0x1fc)+_0x46f886+_0x3be80d(0x264)+_0x2b89a6+_0x3be80d(0x299),_0x4acb22[_0x3be80d(0x27b)]=()=>selectRsDate(_0xc20535,_0x4acb22),_0x3260fb[_0x3be80d(0x246)](_0x4acb22);}),selectRsDate(_0x4d67d3[0x0],_0x3260fb[_0x27ddaf(0x20d)]);}function selectRsDate(_0x1f65f6,_0x145d6b){const _0x18bee0=a3_0x26af7a;selectedRsDate=_0x1f65f6,document[_0x18bee0(0x216)](_0x18bee0(0x26c))['forEach'](_0x3633b7=>_0x3633b7[_0x18bee0(0x2a9)][_0x18bee0(0x252)](_0x18bee0(0x2c3)));if(_0x145d6b)_0x145d6b['classList'][_0x18bee0(0x231)]('active');const _0x4a002f=document['getElementById'](_0x18bee0(0x2c5));_0x4a002f[_0x18bee0(0x1f1)]='';const _0x2920cc=availableSlotsCache[_0x1f65f6]||[];if(_0x2920cc['length']===0x0){_0x4a002f[_0x18bee0(0x1f1)]=_0x18bee0(0x267);return;}_0x2920cc[_0x18bee0(0x29d)](_0x236fff=>{const _0x506ec5=_0x18bee0,_0xa2f096=document[_0x506ec5(0x284)]('button');_0xa2f096[_0x506ec5(0x279)]='rs-time-btn',_0xa2f096[_0x506ec5(0x20b)]=_0x236fff,_0xa2f096[_0x506ec5(0x27b)]=()=>confirmReschedule(_0x236fff),_0x4a002f['appendChild'](_0xa2f096);});}async function confirmReschedule(_0x52966e){const _0x20cfc3=a3_0x26af7a,_0x5ec70e=new Date(selectedRsDate),_0x53520b=_0x5ec70e[_0x20cfc3(0x205)](_0x20cfc3(0x20f),{'day':_0x20cfc3(0x1f4),'month':_0x20cfc3(0x2c9)}),_0xafd63f=await showCustomConfirm(_0x20cfc3(0x214),_0x20cfc3(0x2b9)+_0x53520b+_0x20cfc3(0x225)+_0x52966e+'?',![]);if(!_0xafd63f)return;closeAllSheets(),showToast(_0x20cfc3(0x27e)),lastUserActionTime=Date[_0x20cfc3(0x269)]();const _0x164116=currentSession['dateStr'],_0x3da41c=currentSession['id'],[_0x5d5a5d,_0x2d5786]=currentSession[_0x20cfc3(0x2a5)][_0x20cfc3(0x21e)](':')[_0x20cfc3(0x2b7)](Number),[_0x48a0a5,_0x613310]=currentSession['end'][_0x20cfc3(0x21e)](':')[_0x20cfc3(0x2b7)](Number),_0x2948ef=_0x48a0a5*0x3c+_0x613310-(_0x5d5a5d*0x3c+_0x2d5786),[_0x401dd4,_0x59afdc]=_0x52966e[_0x20cfc3(0x21e)](':')[_0x20cfc3(0x2b7)](Number),_0x38df51=_0x401dd4*0x3c+_0x59afdc+_0x2948ef,_0x310a2a=Math[_0x20cfc3(0x211)](_0x38df51/0x3c),_0x3f6c60=_0x38df51%0x3c,_0x5da50e=String(_0x310a2a)['padStart'](0x2,'0')+':'+String(_0x3f6c60)[_0x20cfc3(0x2cb)](0x2,'0'),_0x47733c=sessions['findIndex'](_0x2e8a30=>_0x2e8a30['id']===_0x3da41c);_0x47733c!==-0x1&&(sessions[_0x47733c][_0x20cfc3(0x1ef)]=selectedRsDate,sessions[_0x47733c]['start']=_0x52966e,sessions[_0x47733c]['end']=_0x5da50e,reRenderBlocks());try{const _0x2e9e20=window[_0x20cfc3(0x237)]?.[_0x20cfc3(0x28d)],_0x137324=await fetch(API_URL,{'method':'POST','body':JSON[_0x20cfc3(0x25a)]({'action':'reschedule','init_data':_0x2e9e20?.['initData']||'','oldSessionId':_0x3da41c,'oldDate':_0x164116,'newDate':selectedRsDate,'newTime':_0x52966e,'coachId':currentSession[_0x20cfc3(0x2b5)]})}),_0x5289f2=await _0x137324[_0x20cfc3(0x1f3)]();!_0x5289f2['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x20cfc3(0x224)]()):(showToast(_0x20cfc3(0x20c)),DataManager[_0x20cfc3(0x2c6)]());}catch(_0x9dc76a){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x26af7a(0x21c),init);