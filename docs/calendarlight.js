const a3_0x1001f4=a3_0x5c07;(function(_0x5f2222,_0x2bd365){const _0x2e515a=a3_0x5c07,_0x175af9=_0x5f2222();while(!![]){try{const _0x5c1b6d=parseInt(_0x2e515a(0x9f))/0x1+parseInt(_0x2e515a(0x12c))/0x2+parseInt(_0x2e515a(0xc0))/0x3+-parseInt(_0x2e515a(0xa1))/0x4+-parseInt(_0x2e515a(0xa0))/0x5*(parseInt(_0x2e515a(0x131))/0x6)+-parseInt(_0x2e515a(0xbf))/0x7*(parseInt(_0x2e515a(0x80))/0x8)+-parseInt(_0x2e515a(0x15e))/0x9;if(_0x5c1b6d===_0x2bd365)break;else _0x175af9['push'](_0x175af9['shift']());}catch(_0x283f31){_0x175af9['push'](_0x175af9['shift']());}}}(a3_0xbd51,0x43864));const APP_VERSION=a3_0x1001f4(0xba),API_URL=a3_0x1001f4(0xdb),GRID_H=0x3c,KEY_SESSIONS=a3_0x1001f4(0x98),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1001f4(0x85),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xfe39ea=a3_0x1001f4,_0x34242f=(function(){let _0x1d2c14=!![];return function(_0x1fedef,_0x261ed0){const _0x2a4417=_0x1d2c14?function(){if(_0x261ed0){const _0x32a891=_0x261ed0['apply'](_0x1fedef,arguments);return _0x261ed0=null,_0x32a891;}}:function(){};return _0x1d2c14=![],_0x2a4417;};}()),_0x2e5925=_0x34242f(this,function(){const _0x3b75f9=a3_0x5c07;return _0x2e5925[_0x3b75f9(0x10d)]()['search'](_0x3b75f9(0xf9))[_0x3b75f9(0x10d)]()[_0x3b75f9(0xa4)](_0x2e5925)['search'](_0x3b75f9(0xf9));});_0x2e5925();try{const _0x4ac11b=window[_0xfe39ea(0x7f)]?.[_0xfe39ea(0xd4)];if(!_0x4ac11b)return;_0x4ac11b[_0xfe39ea(0x121)](),_0x4ac11b['expand']();try{_0x4ac11b[_0xfe39ea(0xbd)]('#050505'),_0x4ac11b[_0xfe39ea(0x14d)]&&_0x4ac11b[_0xfe39ea(0x14d)]('#050505');}catch(_0x4392b5){console[_0xfe39ea(0x135)](_0xfe39ea(0x15f),_0x4392b5);}try{_0x4ac11b[_0xfe39ea(0xd1)]&&(_0x4ac11b['BackButton']['show'](),_0x4ac11b['BackButton'][_0xfe39ea(0x110)](),_0x4ac11b[_0xfe39ea(0xd1)][_0xfe39ea(0xbe)](function(){const _0x16acd0=_0xfe39ea;window[_0x16acd0(0x13d)][_0x16acd0(0xff)]=_0x16acd0(0x89);}));}catch(_0x494d01){console[_0xfe39ea(0x135)](_0xfe39ea(0x13e),_0x494d01);}try{if(_0x4ac11b[_0xfe39ea(0xe2)])_0x4ac11b[_0xfe39ea(0xe2)]();}catch(_0x50f5cc){}}catch(_0x5d020a){console['error']('Critical\x20TMA\x20Error:',_0x5d020a);}}());function isAdmin(){const _0xf67b5c=a3_0x1001f4;try{const _0x1764b0=Number(window[_0xf67b5c(0x7f)]?.[_0xf67b5c(0xd4)]?.[_0xf67b5c(0xc5)]?.['user']?.['id']);return _0x1764b0===0xbaf7174;}catch(_0xdd558){return![];}}const DataManager={'saveLocally'(){const _0x5d8408=a3_0x1001f4;try{localStorage[_0x5d8408(0x160)](KEY_SESSIONS,JSON[_0x5d8408(0xec)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x5d8408(0xec)](clients)),localStorage[_0x5d8408(0x160)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x752e62){}},'loadLocal'(){const _0x2e2f1c=a3_0x1001f4;try{const _0x3d500d=localStorage[_0x2e2f1c(0x148)](KEY_SESSIONS);if(_0x3d500d)sessions=JSON['parse'](_0x3d500d);const _0x5b2350=localStorage['getItem'](KEY_CLIENTS);if(_0x5b2350)clients=JSON[_0x2e2f1c(0x123)](_0x5b2350);const _0x2b7612=localStorage['getItem'](KEY_SETTINGS);if(_0x2b7612){const _0x5b3ca5=JSON[_0x2e2f1c(0x123)](_0x2b7612);if(_0x5b3ca5[_0x2e2f1c(0x111)])availabilityPattern=_0x5b3ca5[_0x2e2f1c(0x111)];if(_0x5b3ca5[_0x2e2f1c(0xaa)])specialRanges=_0x5b3ca5[_0x2e2f1c(0xaa)];if(_0x5b3ca5['exceptions'])dateExceptions=_0x5b3ca5[_0x2e2f1c(0x134)];}}catch(_0x38521d){}},async 'syncLoad'(){const _0x477954=a3_0x1001f4,_0x170d12=new Date(),_0x4f99ed=_0x170d12[_0x477954(0x167)]()+'-'+String(_0x170d12[_0x477954(0xa6)]()+0x1)[_0x477954(0x161)](0x2,'0'),_0x3e9002=new Date(_0x170d12);_0x3e9002['setMonth'](_0x170d12[_0x477954(0xa6)]()+0x1);const _0x3d8ef4=_0x3e9002[_0x477954(0x167)]()+'-'+String(_0x3e9002[_0x477954(0xa6)]()+0x1)[_0x477954(0x161)](0x2,'0'),_0x882644=Date[_0x477954(0x104)]();try{const _0x491932=window[_0x477954(0x7f)]?.['WebApp'],_0x4ebc96=_0x491932?.[_0x477954(0x145)]||'',[_0x5869b8,_0x53439a]=await Promise[_0x477954(0x88)]([fetch(API_URL,{'method':'POST','body':JSON[_0x477954(0xec)]({'action':_0x477954(0x10b),'init_data':_0x4ebc96,'month_str':_0x4f99ed})})['then'](_0x3e1425=>_0x3e1425['json']()),fetch(API_URL,{'method':_0x477954(0x12a),'body':JSON[_0x477954(0xec)]({'action':_0x477954(0x10b),'init_data':_0x4ebc96,'month_str':_0x3d8ef4})})['then'](_0x57116a=>_0x57116a[_0x477954(0xfd)]())]);if(lastUserActionTime>_0x882644){console[_0x477954(0x135)](_0x477954(0x10e));return;}if(_0x5869b8['ok'])this['applyData'](_0x5869b8[_0x477954(0x8e)],_0x4f99ed);if(_0x53439a['ok'])this[_0x477954(0xc8)](_0x53439a['data'],_0x3d8ef4);this['saveLocally']();}catch(_0x4f861e){}},'applyData'(_0x5020b7,_0x35179b){const _0x25ece1=a3_0x1001f4;if(!_0x5020b7)return;if(_0x5020b7[_0x25ece1(0xd6)]){if(_0x5020b7[_0x25ece1(0xd6)][_0x25ece1(0x111)])availabilityPattern=_0x5020b7['settings']['pattern'];if(_0x5020b7[_0x25ece1(0xd6)]['ranges'])specialRanges=_0x5020b7[_0x25ece1(0xd6)][_0x25ece1(0xaa)];if(_0x5020b7['settings']['exceptions'])dateExceptions=_0x5020b7['settings']['exceptions'];}if(_0x5020b7[_0x25ece1(0x155)]&&Array[_0x25ece1(0xef)](_0x5020b7[_0x25ece1(0x155)]))clients=_0x5020b7[_0x25ece1(0x155)];_0x5020b7[_0x25ece1(0x10f)]&&(coachProfiles={...coachProfiles,..._0x5020b7[_0x25ece1(0x10f)]}),_0x5020b7[_0x25ece1(0x119)]&&(sessions=sessions[_0x25ece1(0x14a)](_0x836b84=>!_0x836b84[_0x25ece1(0x136)]['startsWith'](_0x35179b)),Object[_0x25ece1(0xac)](_0x5020b7[_0x25ece1(0x119)])[_0x25ece1(0x9d)](_0x69658e=>{const _0x2332a6=_0x25ece1,_0x5c6a57=_0x5020b7[_0x2332a6(0x119)][_0x69658e];_0x5c6a57['forEach'](_0x110b83=>{const _0x1658c3=_0x2332a6;sessions[_0x1658c3(0x128)]({'id':_0x110b83['i'],'clientId':_0x110b83['c'],'coachId':_0x110b83['cid'],'dateStr':_0x35179b+'-'+_0x69658e[_0x1658c3(0x161)](0x2,'0'),'start':_0x110b83['s'],'end':_0x110b83['e'],'note':_0x110b83['n']||'','status':_0x110b83['st']||'planned','seriesId':_0x110b83[_0x1658c3(0x124)]});});})),reRenderBlocks();}};function init(){const _0x4515db=a3_0x1001f4;DataManager[_0x4515db(0x103)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4515db(0x144)](_0x4515db(0xb1))['addEventListener'](_0x4515db(0x86),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x217ee9=a3_0x1001f4,_0x4690b0=document['getElementById'](_0x217ee9(0xbc)),_0x1b3861=document['getElementById']('timeLineBadge');_0x4690b0[_0x217ee9(0xda)]='',_0x4690b0[_0x217ee9(0x11a)](_0x1b3861);for(let _0xbefcaf=0x0;_0xbefcaf<0x18;_0xbefcaf++){const _0x36985e=document[_0x217ee9(0xc1)](_0x217ee9(0x140));_0x36985e[_0x217ee9(0x15d)]=_0x217ee9(0x82);if(_0xbefcaf>0x0)_0x36985e['innerHTML']=_0x217ee9(0x14c)+String(_0xbefcaf)[_0x217ee9(0x161)](0x2,'0')+_0x217ee9(0x16a);_0x4690b0['appendChild'](_0x36985e);}}function renderDayRange(_0x3f3adf,_0x134104){const _0x3df9cf=a3_0x1001f4,_0x37809c=document[_0x3df9cf(0x144)](_0x3df9cf(0xea)),_0x4b2d6f=document[_0x3df9cf(0x144)](_0x3df9cf(0x12b)),_0x1eb635=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34cbb2=new Date();_0x34cbb2[_0x3df9cf(0xd3)](0x0,0x0,0x0,0x0);const _0x5d4417=getLocalDateStr(new Date());for(let _0x432e8e=_0x3f3adf;_0x432e8e<=_0x134104;_0x432e8e++){const _0x2b0ea3=new Date(_0x34cbb2);_0x2b0ea3[_0x3df9cf(0xe3)](_0x2b0ea3[_0x3df9cf(0x115)]()+_0x432e8e);const _0x46ef37=getLocalDateStr(_0x2b0ea3);let _0x171be1=_0x2b0ea3[_0x3df9cf(0x165)]()-0x1;if(_0x171be1===-0x1)_0x171be1=0x6;const _0x5ef464=_0x46ef37===_0x5d4417,_0x16ea52=document['createElement']('div');_0x16ea52[_0x3df9cf(0x15d)]=_0x3df9cf(0xdf)+(_0x5ef464?'today':''),_0x16ea52[_0x3df9cf(0xde)]('data-date',_0x46ef37),_0x16ea52[_0x3df9cf(0xda)]=_0x3df9cf(0xca)+_0x1eb635[_0x171be1]+_0x3df9cf(0xd0)+_0x2b0ea3[_0x3df9cf(0x115)]()+_0x3df9cf(0x12e),_0x37809c[_0x3df9cf(0x11a)](_0x16ea52);const _0x2d7fcc=document[_0x3df9cf(0xc1)]('div');_0x2d7fcc['className']=_0x3df9cf(0xe9)+(_0x5ef464?'today':''),_0x2d7fcc[_0x3df9cf(0xde)](_0x3df9cf(0x15a),_0x46ef37),_0x2d7fcc['setAttribute'](_0x3df9cf(0x120),_0x171be1),_0x4b2d6f[_0x3df9cf(0x11a)](_0x2d7fcc);}}function reRenderBlocks(){const _0x4bc62b=a3_0x1001f4;document['querySelectorAll'](_0x4bc62b(0x139))[_0x4bc62b(0x9d)](_0x84cc03=>{const _0x210c1e=_0x4bc62b;_0x84cc03[_0x210c1e(0x109)](_0x210c1e(0x157))['forEach'](_0x4e6470=>_0x4e6470[_0x210c1e(0xfb)]());const _0x3ac90c=_0x84cc03[_0x210c1e(0xcb)](_0x210c1e(0x15a)),_0xe71eee=parseInt(_0x84cc03['getAttribute']('data-day-idx')),_0x45761e=Math[_0x210c1e(0x13b)](_0x84cc03[_0x210c1e(0x169)]);(availabilityPattern[_0xe71eee]||[])[_0x210c1e(0x9d)](_0x1aee0a=>{const _0x58312f=_0x210c1e,_0x43d668=document[_0x58312f(0xc1)](_0x58312f(0x140));_0x43d668[_0x58312f(0x15d)]='blocked-slot\x20stripe-bg',_0x43d668[_0x58312f(0x8a)][_0x58312f(0xaf)]=_0x1aee0a*GRID_H+'px',_0x43d668[_0x58312f(0x8a)][_0x58312f(0x138)]='-'+_0x45761e+_0x58312f(0xf3)+_0x1aee0a*GRID_H+'px',_0x84cc03[_0x58312f(0x11a)](_0x43d668);});if(specialRanges[_0x210c1e(0x114)]>0x0){const _0x50cca9=new Date(_0x3ac90c+_0x210c1e(0xb3))[_0x210c1e(0x11e)](),_0x131d14=new Date(_0x3ac90c+_0x210c1e(0x142))[_0x210c1e(0x11e)]();specialRanges[_0x210c1e(0x9d)](_0x35be84=>{const _0x32516d=_0x210c1e,_0x151d9f=new Date(_0x35be84[_0x32516d(0x151)])[_0x32516d(0x11e)](),_0x1ebcb2=new Date(_0x35be84[_0x32516d(0x147)])['getTime'](),_0x80707=Math[_0x32516d(0x11b)](_0x50cca9,_0x151d9f),_0x240ca7=Math[_0x32516d(0xcf)](_0x131d14,_0x1ebcb2);if(_0x80707<_0x240ca7){const _0x4459f2=(_0x80707-_0x50cca9)/0x36ee80*GRID_H,_0x1026b3=(_0x240ca7-_0x80707)/0x36ee80*GRID_H,_0x138ce7=document[_0x32516d(0xc1)](_0x32516d(0x140));_0x1026b3>=23.5*GRID_H?(_0x138ce7[_0x32516d(0x15d)]=_0x32516d(0xe8),_0x138ce7[_0x32516d(0x8a)]['backgroundPosition']='-'+_0x45761e+_0x32516d(0x116)):(_0x138ce7[_0x32516d(0x15d)]=_0x32516d(0x158),_0x138ce7[_0x32516d(0x8a)]['top']=_0x4459f2+'px',_0x138ce7['style'][_0x32516d(0xa9)]=_0x1026b3+'px',_0x138ce7['style'][_0x32516d(0x138)]='-'+_0x45761e+_0x32516d(0xf3)+_0x4459f2+'px'),_0x84cc03[_0x32516d(0x11a)](_0x138ce7);}});}renderEventsForColumn(_0x84cc03,_0x3ac90c);});}function renderEventsForColumn(_0x1e57de,_0x46214a){const _0x696860=a3_0x1001f4,_0x549977=sessions[_0x696860(0x14a)](_0x525900=>_0x525900[_0x696860(0x136)]===_0x46214a),_0x34c134=_0x549977[_0x696860(0x14e)](_0x5eed41=>{const _0x3d15d9=_0x696860,[_0x17fb92,_0xe86d72]=_0x5eed41[_0x3d15d9(0x151)][_0x3d15d9(0x107)](':')['map'](Number),[_0xd57ad8,_0x5344ff]=_0x5eed41[_0x3d15d9(0x147)]['split'](':')[_0x3d15d9(0x14e)](Number);return{'data':_0x5eed41,'start':_0x17fb92*0x3c+_0xe86d72,'end':_0xd57ad8*0x3c+_0x5344ff,'colIndex':0x0};});_0x34c134[_0x696860(0xfe)]((_0x3b2b7a,_0x35782d)=>_0x3b2b7a[_0x696860(0x151)]-_0x35782d[_0x696860(0x151)]||_0x35782d[_0x696860(0x147)]-_0x35782d[_0x696860(0x151)]-(_0x3b2b7a[_0x696860(0x147)]-_0x3b2b7a[_0x696860(0x151)]));const _0x2e9802=[];_0x34c134[_0x696860(0x9d)](_0x263ba7=>{const _0x1f00e5=_0x696860;let _0x462c76=![];for(let _0x39b9cc=0x0;_0x39b9cc<_0x2e9802[_0x1f00e5(0x114)];_0x39b9cc++){const _0x203fcd=_0x2e9802[_0x39b9cc];if(_0x263ba7['start']>=_0x203fcd[_0x203fcd[_0x1f00e5(0x114)]-0x1]['end']){_0x203fcd['push'](_0x263ba7),_0x263ba7[_0x1f00e5(0x152)]=_0x39b9cc,_0x462c76=!![];break;}}!_0x462c76&&(_0x2e9802[_0x1f00e5(0x128)]([_0x263ba7]),_0x263ba7[_0x1f00e5(0x152)]=_0x2e9802[_0x1f00e5(0x114)]-0x1);}),_0x34c134['forEach'](_0x50a186=>{const _0x25efd1=_0x696860;let _0x5d8814=0x0;_0x34c134['forEach'](_0x348fa0=>{const _0x5d5b84=a3_0x5c07;if(Math['max'](_0x50a186[_0x5d5b84(0x151)],_0x348fa0['start'])<Math[_0x5d5b84(0xcf)](_0x50a186['end'],_0x348fa0['end'])&&_0x348fa0[_0x5d5b84(0x152)]>_0x5d8814)_0x5d8814=_0x348fa0[_0x5d5b84(0x152)];});const _0x240bb8=_0x5d8814+0x1,_0x4ac3ed=0x64/_0x240bb8,_0x1d0e9d=_0x50a186[_0x25efd1(0x152)]*_0x4ac3ed,_0x5a2106=document['createElement'](_0x25efd1(0x140)),_0x146af4=_0x50a186['data'];let _0x28163e='#0a84ff';if(clients&&clients['length']>0x0){const _0x41ddb3=clients[_0x25efd1(0xf7)](_0x14ae03=>String(_0x14ae03['id'])===String(_0x146af4['clientId']));if(_0x41ddb3&&_0x41ddb3[_0x25efd1(0x150)])_0x28163e=_0x41ddb3[_0x25efd1(0x150)];}const _0x273f4e=_0x146af4['status']===_0x25efd1(0x94),_0xf02616=_0x273f4e?0x1:0.45;_0x5a2106[_0x25efd1(0x15d)]=_0x25efd1(0x101)+(_0x273f4e?_0x25efd1(0xc4):''),_0x5a2106['style'][_0x25efd1(0x130)]=hexToRgba(_0x28163e,_0xf02616),_0x5a2106[_0x25efd1(0x8a)][_0x25efd1(0x99)]=_0x28163e;const _0x483a79=_0x50a186[_0x25efd1(0x151)]/0x3c*GRID_H,_0x49e6ed=(_0x50a186[_0x25efd1(0x147)]-_0x50a186[_0x25efd1(0x151)])/0x3c*GRID_H;_0x5a2106[_0x25efd1(0x8a)][_0x25efd1(0xaf)]=_0x483a79+'px',_0x5a2106['style'][_0x25efd1(0xa9)]=Math['max'](_0x49e6ed,0x14)+'px',_0x5a2106[_0x25efd1(0x8a)][_0x25efd1(0xa2)]='calc('+_0x4ac3ed+'%\x20-\x204px)',_0x5a2106[_0x25efd1(0x8a)][_0x25efd1(0x105)]=_0x25efd1(0xb2)+_0x1d0e9d+_0x25efd1(0xd5),_0x5a2106[_0x25efd1(0x8a)][_0x25efd1(0xa3)]=0xa+_0x50a186[_0x25efd1(0x152)];if(_0x4ac3ed<0x55)_0x5a2106[_0x25efd1(0xa7)][_0x25efd1(0xd8)](_0x25efd1(0x10a));let _0x5a30dd='';if(_0x146af4[_0x25efd1(0x97)])_0x5a30dd+=_0x25efd1(0x127);if(_0x273f4e)_0x5a30dd+=_0x25efd1(0xf4);_0x5a2106[_0x25efd1(0xda)]=_0x25efd1(0x15b)+_0x146af4[_0x25efd1(0x151)]+'\x20-\x20'+_0x146af4[_0x25efd1(0x147)]+_0x25efd1(0x7c)+_0x5a30dd+_0x25efd1(0xae),_0x5a2106[_0x25efd1(0x149)]=_0x4382b9=>{const _0x37027f=_0x25efd1;_0x4382b9[_0x37027f(0x117)](),openDetails(_0x146af4);},_0x1e57de[_0x25efd1(0x11a)](_0x5a2106);});}function openAnalytics(){const _0x438f97=a3_0x1001f4,_0x1fa475=document['querySelector'](_0x438f97(0xa8));setAnalyticsPeriod(_0x438f97(0x85),_0x1fa475),openSheet(_0x438f97(0xeb));}function setAnalyticsPeriod(_0x53a27e,_0x580aea){const _0x2bfc5d=a3_0x1001f4;currentAnPeriod=_0x53a27e,document[_0x2bfc5d(0x109)](_0x2bfc5d(0xa8))['forEach'](_0x178325=>_0x178325[_0x2bfc5d(0xa7)][_0x2bfc5d(0xfb)](_0x2bfc5d(0x132)));if(_0x580aea)_0x580aea[_0x2bfc5d(0xa7)][_0x2bfc5d(0xd8)](_0x2bfc5d(0x132));const _0x4f64ed=document['getElementById'](_0x2bfc5d(0xb9));_0x4f64ed['style']['display']=_0x53a27e===_0x2bfc5d(0x81)?_0x2bfc5d(0x129):_0x2bfc5d(0xe5);const _0x9394bd=new Date();let _0x490828=new Date(),_0x577490=new Date();if(_0x53a27e===_0x2bfc5d(0x85))_0x490828=getStartOfWeek(_0x9394bd),_0x577490=new Date(_0x490828),_0x577490[_0x2bfc5d(0xe3)](_0x577490[_0x2bfc5d(0x115)]()+0x6);else{if(_0x53a27e===_0x2bfc5d(0x164))_0x490828=new Date(_0x9394bd[_0x2bfc5d(0x167)](),_0x9394bd[_0x2bfc5d(0xa6)](),0x1),_0x577490=new Date(_0x9394bd[_0x2bfc5d(0x167)](),_0x9394bd['getMonth']()+0x1,0x0);else{!document[_0x2bfc5d(0x144)](_0x2bfc5d(0xfa))[_0x2bfc5d(0x102)]&&(document['getElementById'](_0x2bfc5d(0xfa))[_0x2bfc5d(0x102)]=getLocalDateStr(_0x9394bd),document[_0x2bfc5d(0x144)](_0x2bfc5d(0x153))[_0x2bfc5d(0x102)]=getLocalDateStr(_0x9394bd));refreshAnalytics();return;}}document['getElementById'](_0x2bfc5d(0xfa))[_0x2bfc5d(0x102)]=getLocalDateStr(_0x490828),document[_0x2bfc5d(0x144)](_0x2bfc5d(0x153))[_0x2bfc5d(0x102)]=getLocalDateStr(_0x577490),refreshAnalytics();}function a3_0x5c07(_0x159cc3,_0x500ab5){_0x159cc3=_0x159cc3-0x7b;const _0x119c22=a3_0xbd51();let _0x17213f=_0x119c22[_0x159cc3];return _0x17213f;}function refreshAnalytics(){const _0x46a8db=a3_0x1001f4,_0x5866fb=document[_0x46a8db(0x144)](_0x46a8db(0xfa))[_0x46a8db(0x102)],_0x2888ec=document[_0x46a8db(0x144)](_0x46a8db(0x153))[_0x46a8db(0x102)];if(!_0x5866fb||!_0x2888ec)return;const _0x12088e=sessions[_0x46a8db(0x14a)](_0x1f6b59=>_0x1f6b59[_0x46a8db(0x136)]>=_0x5866fb&&_0x1f6b59[_0x46a8db(0x136)]<=_0x2888ec&&_0x1f6b59[_0x46a8db(0x13a)]!==_0x46a8db(0xc2)),_0x57d57a=_0x12088e['length'],_0x362454=_0x12088e[_0x46a8db(0x14a)](_0x5c6322=>_0x5c6322['status']===_0x46a8db(0x94))[_0x46a8db(0x114)],_0x15f4b0=_0x57d57a>0x0?Math[_0x46a8db(0x13b)](_0x362454/_0x57d57a*0x64):0x0;document[_0x46a8db(0x144)](_0x46a8db(0x159))[_0x46a8db(0x11f)]=_0x15f4b0+'%',document[_0x46a8db(0x144)]('anTotalStats')[_0x46a8db(0x11f)]=_0x362454+_0x46a8db(0x9b)+_0x57d57a+_0x46a8db(0x15c);const _0x328c10=document[_0x46a8db(0x144)]('anDonutCircle'),_0x5dd8d5=0x2*Math['PI']*0x23,_0x5d1f6d=_0x5dd8d5-_0x15f4b0/0x64*_0x5dd8d5;_0x328c10['style'][_0x46a8db(0x8f)]=_0x5d1f6d;const _0x2462ff={};_0x12088e['forEach'](_0x1dac79=>{const _0x5c1bca=_0x46a8db,_0x5aca71=_0x1dac79['coachId']||_0x5c1bca(0xe6);if(!_0x2462ff[_0x5aca71]){const _0x75faf0='#'+_0x5aca71[_0x5c1bca(0x10d)]()[_0x5c1bca(0xee)](0x0,0x6);_0x2462ff[_0x5aca71]={'total':0x0,'done':0x0,'color':_0x75faf0};}_0x2462ff[_0x5aca71]['total']++;if(_0x1dac79['status']==='completed')_0x2462ff[_0x5aca71][_0x5c1bca(0xed)]++;});const _0x4c1820=document[_0x46a8db(0x144)]('analyticsList');_0x4c1820[_0x46a8db(0xda)]='';const _0x201b60=Object['entries'](_0x2462ff)[_0x46a8db(0xfe)]((_0x2abf35,_0x1341ad)=>_0x1341ad[0x1][_0x46a8db(0xd2)]-_0x2abf35[0x1][_0x46a8db(0xd2)]);if(_0x201b60[_0x46a8db(0x114)]===0x0){_0x4c1820[_0x46a8db(0xda)]=_0x46a8db(0xab);return;}_0x201b60[_0x46a8db(0x9d)](([_0x533149,_0x281fc5])=>{const _0x9472ab=_0x46a8db,_0x5682a2=Math[_0x9472ab(0x13b)](_0x281fc5['done']/_0x281fc5[_0x9472ab(0xd2)]*0x64),_0x463ae2=document[_0x9472ab(0xc1)](_0x9472ab(0x140));_0x463ae2[_0x9472ab(0x15d)]=_0x9472ab(0x95),_0x463ae2[_0x9472ab(0x8a)][_0x9472ab(0x99)]=_0x281fc5[_0x9472ab(0x150)],_0x463ae2[_0x9472ab(0xda)]=_0x9472ab(0x108)+_0x533149['substr'](0x0,0x5)+_0x9472ab(0x9c)+_0x281fc5[_0x9472ab(0xed)]+_0x9472ab(0xb4)+_0x281fc5[_0x9472ab(0xd2)]+_0x9472ab(0x137)+_0x5682a2+_0x9472ab(0x141),_0x4c1820[_0x9472ab(0x11a)](_0x463ae2);});}function openDetails(_0x5c49db){const _0x167d2a=a3_0x1001f4;currentSession=_0x5c49db;const _0x13bc49=new Date(_0x5c49db[_0x167d2a(0x136)]),_0x446b8d=_0x13bc49[_0x167d2a(0x11d)]('ru-RU',{'weekday':'long','day':_0x167d2a(0xb8),'month':_0x167d2a(0x8b)});document[_0x167d2a(0x144)](_0x167d2a(0x112))[_0x167d2a(0x11f)]=_0x446b8d[_0x167d2a(0x154)](0x0)[_0x167d2a(0x9a)]()+_0x446b8d[_0x167d2a(0x7d)](0x1),document[_0x167d2a(0x144)]('detTime')['textContent']=_0x5c49db[_0x167d2a(0x151)]+'\x20-\x20'+_0x5c49db['end'],document[_0x167d2a(0x144)](_0x167d2a(0xc3))[_0x167d2a(0x11f)]=_0x5c49db[_0x167d2a(0x7e)]||_0x167d2a(0xe4);const _0x124b29=document[_0x167d2a(0x144)](_0x167d2a(0xf2)),_0x59ab50=document[_0x167d2a(0x144)]('cancelContainer'),_0x5ec0ac=_0x59ab50[_0x167d2a(0x8d)](_0x167d2a(0x12f)),_0x44ad9e=_0x59ab50[_0x167d2a(0x8d)]('.btn-reschedule'),_0x8bad2d=document['getElementById'](_0x167d2a(0x93));if(_0x5c49db['status']==='completed')_0x124b29['textContent']=_0x167d2a(0x126),_0x124b29[_0x167d2a(0x8a)]['color']='var(--acc-green)',_0x59ab50[_0x167d2a(0x8a)]['display']='none';else{_0x124b29[_0x167d2a(0x11f)]=_0x167d2a(0x84),_0x124b29[_0x167d2a(0x8a)]['color']='var(--acc-blue)',_0x59ab50['style']['display']=_0x167d2a(0x163);const _0x11d48c=new Date(_0x5c49db[_0x167d2a(0x136)]+'T'+_0x5c49db[_0x167d2a(0x151)]),_0x456b59=new Date(),_0x201e39=(_0x11d48c-_0x456b59)/(0x3e8*0x3c*0x3c),_0x12bf14=coachProfiles[_0x5c49db['coachId']]&&coachProfiles[_0x5c49db[_0x167d2a(0xcd)]]['cancel_window']?parseInt(coachProfiles[_0x5c49db['coachId']][_0x167d2a(0xa5)]):0x18;if(_0x12bf14===0x0||_0x201e39>=_0x12bf14)_0x5ec0ac[_0x167d2a(0x8a)][_0x167d2a(0x106)]=_0x167d2a(0x163),_0x44ad9e['style']['display']=_0x167d2a(0x163),_0x8bad2d[_0x167d2a(0x8a)][_0x167d2a(0x106)]=_0x167d2a(0xe5);else{_0x5ec0ac[_0x167d2a(0x8a)][_0x167d2a(0x106)]='none',_0x44ad9e[_0x167d2a(0x8a)][_0x167d2a(0x106)]=_0x167d2a(0xe5),_0x8bad2d['style']['display']=_0x167d2a(0x163);let _0x28ddc6=_0x12bf14===0x0?_0x167d2a(0xb7):'–∑–∞\x20'+_0x12bf14+_0x167d2a(0xce);_0x8bad2d[_0x167d2a(0x11f)]=_0x167d2a(0xc6)+_0x28ddc6+_0x167d2a(0x143);}}document[_0x167d2a(0x144)](_0x167d2a(0x91))['classList'][_0x167d2a(0xd8)]('active'),document['getElementById']('detailsSheet')[_0x167d2a(0xa7)]['add'](_0x167d2a(0x13c));}function closeAllSheets(){const _0x195039=a3_0x1001f4;document[_0x195039(0x144)](_0x195039(0x91))['classList'][_0x195039(0xfb)](_0x195039(0x132)),document[_0x195039(0x109)](_0x195039(0xfc))[_0x195039(0x9d)](_0x12456e=>_0x12456e[_0x195039(0xa7)][_0x195039(0xfb)]('open'));}function openSheet(_0x5c7fac){const _0x413307=a3_0x1001f4;document[_0x413307(0x144)](_0x413307(0x91))[_0x413307(0xa7)]['add']('active'),document[_0x413307(0x144)](_0x5c7fac)[_0x413307(0xa7)][_0x413307(0xd8)](_0x413307(0x13c));}function getLocalDateStr(_0x3f7dd6){const _0x5d25fe=a3_0x1001f4,_0x15c8f9=_0x3f7dd6[_0x5d25fe(0x167)](),_0x2c0067=String(_0x3f7dd6['getMonth']()+0x1)['padStart'](0x2,'0'),_0x5678d9=String(_0x3f7dd6[_0x5d25fe(0x115)]())['padStart'](0x2,'0');return _0x15c8f9+'-'+_0x2c0067+'-'+_0x5678d9;}function getStartOfWeek(_0x550734){const _0x3a164c=a3_0x1001f4,_0x1e10af=new Date(_0x550734),_0x1bb3e6=_0x1e10af[_0x3a164c(0x165)](),_0x412818=_0x1e10af[_0x3a164c(0x115)]()-_0x1bb3e6+(_0x1bb3e6===0x0?-0x6:0x1);return _0x1e10af['setDate'](_0x412818),_0x1e10af[_0x3a164c(0xd3)](0x0,0x0,0x0,0x0),_0x1e10af;}function scrollToToday(){const _0x289b51=getLocalDateStr(new Date());setTimeout(()=>{const _0x217d93=a3_0x5c07,_0x10f33c=document[_0x217d93(0x8d)]('.day-col-header[data-date=\x22'+_0x289b51+'\x22]');if(_0x10f33c){const _0x33675a=document[_0x217d93(0x144)](_0x217d93(0xb1)),_0x49e24=_0x10f33c['offsetLeft']-_0x33675a['clientWidth']/0x2+_0x10f33c[_0x217d93(0x146)]/0x2;_0x33675a[_0x217d93(0xdc)]({'left':_0x49e24,'behavior':'auto'}),_0x33675a[_0x217d93(0xcc)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x367165=a3_0x1001f4,_0x5b3cd1=new Date(),_0x49cc0b=document[_0x367165(0x144)](_0x367165(0xe7)),_0x1da69e=document[_0x367165(0x144)](_0x367165(0xf6)),_0x4cfbae=(_0x5b3cd1[_0x367165(0x90)]()*0x3c+_0x5b3cd1['getMinutes']())/0x3c*GRID_H;_0x49cc0b[_0x367165(0x8a)][_0x367165(0xaf)]=_0x4cfbae+'px',_0x49cc0b[_0x367165(0x8a)][_0x367165(0x106)]=_0x367165(0x163),_0x1da69e['style'][_0x367165(0xaf)]=_0x4cfbae+'px',_0x1da69e[_0x367165(0x8a)][_0x367165(0x106)]=_0x367165(0x163),_0x1da69e[_0x367165(0x11f)]=String(_0x5b3cd1[_0x367165(0x90)]())[_0x367165(0x161)](0x2,'0')+':'+String(_0x5b3cd1['getMinutes']())[_0x367165(0x161)](0x2,'0');}function onScroll(){const _0x15b7b0=a3_0x1001f4,_0x49400e=document[_0x15b7b0(0x144)]('matrixViewport'),_0x569bff=document[_0x15b7b0(0x109)](_0x15b7b0(0x87));for(let _0x25ed66 of _0x569bff)if(_0x25ed66[_0x15b7b0(0x169)]>=_0x49400e[_0x15b7b0(0x156)]){const _0x44482c=new Date(_0x25ed66[_0x15b7b0(0xcb)](_0x15b7b0(0x15a)));document[_0x15b7b0(0x144)](_0x15b7b0(0x83))[_0x15b7b0(0x11f)]=_0x44482c[_0x15b7b0(0xf8)]('ru',{'month':_0x15b7b0(0x8b)})[_0x15b7b0(0x9a)]()+'\x20'+_0x44482c[_0x15b7b0(0x167)]();break;}}function showToast(_0xfca71f){const _0x1fcd46=a3_0x1001f4,_0x31a3da=document['getElementById'](_0x1fcd46(0x8c));_0x31a3da[_0x1fcd46(0x11f)]=_0xfca71f,_0x31a3da[_0x1fcd46(0xa7)][_0x1fcd46(0xd8)]('show'),setTimeout(()=>_0x31a3da['classList'][_0x1fcd46(0xfb)](_0x1fcd46(0x100)),0x7d0);}function handleInfiniteScroll(){const _0x53075d=a3_0x1001f4,_0x36fca0=document[_0x53075d(0x144)]('matrixViewport'),_0x39d906=_0x36fca0[_0x53075d(0x156)],_0x3fce65=_0x36fca0[_0x53075d(0xb5)],_0x4f5e26=_0x36fca0['clientWidth'];if(_0x3fce65-(_0x39d906+_0x4f5e26)<0x12c){const _0x284c77=endOffset;endOffset+=0xe,renderDayRange(_0x284c77+0x1,endOffset),reRenderBlocks();}if(_0x39d906<0x12c){const _0x5283af=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5283af-0x1),_0x36fca0['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x405fe4,_0x31d6ea){const _0x5adee4=a3_0x1001f4,_0x1cff67=document['getElementById'](_0x5adee4(0xea)),_0x31f6fc=document[_0x5adee4(0x144)]('gridColumns'),_0x1a4fb1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x50d13c=new Date();_0x50d13c['setHours'](0x0,0x0,0x0,0x0);const _0x31f2a5=getLocalDateStr(new Date()),_0x86226c=document[_0x5adee4(0x113)](),_0x70cac=document['createDocumentFragment']();for(let _0x38118c=_0x405fe4;_0x38118c<=_0x31d6ea;_0x38118c++){const _0x17a2c7=new Date(_0x50d13c);_0x17a2c7[_0x5adee4(0xe3)](_0x17a2c7['getDate']()+_0x38118c);const _0x4f1434=getLocalDateStr(_0x17a2c7);let _0x292f11=_0x17a2c7['getDay']()-0x1;if(_0x292f11===-0x1)_0x292f11=0x6;const _0x523de5=_0x4f1434===_0x31f2a5,_0x1053b7=document[_0x5adee4(0xc1)](_0x5adee4(0x140));_0x1053b7['className']=_0x5adee4(0xdf)+(_0x523de5?_0x5adee4(0x16c):''),_0x1053b7[_0x5adee4(0xde)](_0x5adee4(0x15a),_0x4f1434),_0x1053b7[_0x5adee4(0xda)]='<div\x20class=\x22dch-day\x22>'+_0x1a4fb1[_0x292f11]+'</div><div\x20class=\x22dch-num\x22>'+_0x17a2c7['getDate']()+_0x5adee4(0x12e),_0x86226c[_0x5adee4(0x11a)](_0x1053b7);const _0xb229d=document[_0x5adee4(0xc1)](_0x5adee4(0x140));_0xb229d[_0x5adee4(0x15d)]=_0x5adee4(0xe9)+(_0x523de5?_0x5adee4(0x16c):''),_0xb229d[_0x5adee4(0xde)](_0x5adee4(0x15a),_0x4f1434),_0xb229d[_0x5adee4(0xde)](_0x5adee4(0x120),_0x292f11),_0x70cac[_0x5adee4(0x11a)](_0xb229d);}_0x1cff67[_0x5adee4(0x11c)](_0x86226c,_0x1cff67['firstChild']),_0x31f6fc[_0x5adee4(0x11c)](_0x70cac,_0x31f6fc['querySelector'](_0x5adee4(0x139)));}function hexToRgba(_0x272aea,_0xc282dc){const _0x724663=a3_0x1001f4;let _0xe7ff4a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x724663(0xad)](_0x272aea))return _0xe7ff4a=_0x272aea[_0x724663(0x14b)](0x1)[_0x724663(0x107)](''),_0xe7ff4a['length']==0x3&&(_0xe7ff4a=[_0xe7ff4a[0x0],_0xe7ff4a[0x0],_0xe7ff4a[0x1],_0xe7ff4a[0x1],_0xe7ff4a[0x2],_0xe7ff4a[0x2]]),_0xe7ff4a='0x'+_0xe7ff4a[_0x724663(0x118)](''),_0x724663(0xd9)+[_0xe7ff4a>>0x10&0xff,_0xe7ff4a>>0x8&0xff,_0xe7ff4a&0xff][_0x724663(0x118)](',')+','+_0xc282dc+')';return _0x724663(0xb6)+_0xc282dc+')';}let confirmResolver=null;function showCustomConfirm(_0x2bbe9a,_0x55dd04,_0x6e24aa=!![]){const _0x43604d=a3_0x1001f4;document[_0x43604d(0x144)]('ccTitle')[_0x43604d(0x11f)]=_0x2bbe9a,document[_0x43604d(0x144)]('ccText')['textContent']=_0x55dd04;const _0x250d4b=document[_0x43604d(0x144)]('ccYesBtn');return _0x6e24aa?(_0x250d4b[_0x43604d(0x8a)]['color']=_0x43604d(0x14f),_0x250d4b[_0x43604d(0x8a)][_0x43604d(0x9e)]='600'):(_0x250d4b[_0x43604d(0x8a)][_0x43604d(0x150)]='#0a84ff',_0x250d4b[_0x43604d(0x8a)][_0x43604d(0x9e)]='600'),new Promise(_0x599889=>{const _0x53a82c=_0x43604d;confirmResolver=_0x599889,document[_0x53a82c(0x144)](_0x53a82c(0x162))[_0x53a82c(0xa7)][_0x53a82c(0xd8)](_0x53a82c(0xf5));});}function resolveCustomConfirm(_0x28216b){const _0x361899=a3_0x1001f4;document[_0x361899(0x144)](_0x361899(0x162))[_0x361899(0xa7)][_0x361899(0xfb)](_0x361899(0xf5));if(confirmResolver)confirmResolver(_0x28216b);}function a3_0xbd51(){const _0xb8057f=['color','start','colIndex','anEnd','charAt','clients','scrollLeft','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','blocked-range-part\x20stripe-bg','anPercent','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','className','983709pvnGZt','Error\x20setting\x20color:','setItem','padStart','customConfirm','block','month','getDay','button','getFullYear','–û—Ç–º–µ–Ω–µ–Ω–æ','offsetLeft',':00</span>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','today','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','note','Telegram','5688ujTCCR','custom','time-label','headerMonth','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','week','scroll','.day-col-header','all','router.html','style','long','toast','querySelector','data','strokeDashoffset','getHours','overlay','saveLocally','cancelHint','completed','client-stat-card','rsSlotsGrid','seriesId','uc_client_sessions','borderLeftColor','toUpperCase','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','forEach','fontWeight','308090hMSgWe','1310nmgEsH','483644qWFPMi','width','zIndex','constructor','cancel_window','getMonth','classList','.period-switch\x20.p-btn','height','ranges','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','keys','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','detailsSheet','matrixViewport','calc(','T00:00:00','</span>\x20/\x20','scrollWidth','rgba(10,\x20132,\x20255,\x20','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','numeric','anCustomDates','v9.5-CLIENT-ANALYTICS','addEventListener','timeColumn','setHeaderColor','onClick','1869qrVExD','27282FzpTed','createElement','cancelled','detNote','\x20status-completed','initDataUnsafe','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','applyData','rsDatesTrack','<div\x20class=\x22dch-day\x22>','getAttribute','scrollTop','coachId','\x20—á.','min','</div><div\x20class=\x22dch-num\x22>','BackButton','total','setHours','WebApp','%\x20+\x202px)','settings','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','add','rgba(','innerHTML','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','scrollTo','\x20–≤\x20','setAttribute','day-col-header\x20','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','DOMContentLoaded','disableVerticalSwipes','setDate','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','none','Unknown','globalTimeLine','day-off-overlay\x20stripe-bg','day-column\x20','daysHeaderTrack','analyticsSheet','stringify','done','substr','isArray','reschedule','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','detStatus','px\x20-','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','visible','timeLineBadge','find','toLocaleString','(((.+)+)+)+$','anStart','remove','.sheet','json','sort','href','show','event-card','value','loadLocal','now','left','display','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','querySelectorAll','mini','client_load','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','toString','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','coach_profiles','offClick','pattern','detDate','createDocumentFragment','length','getDate','px\x200px','stopPropagation','join','calendar','appendChild','max','insertBefore','toLocaleDateString','getTime','textContent','data-day-idx','ready','floor','parse','sid','firstChild','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','push','flex','POST','gridColumns','1010934ynvIGL','rescheduleSheet','</div>','.btn-cancel','backgroundColor','2886sWzGuG','active','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','exceptions','log','dateStr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','backgroundPosition','.day-column','status','round','open','location','Error\x20setting\x20back\x20button:','client_cancel','div','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','T23:59:59','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','getElementById','initData','offsetWidth','end','getItem','onclick','filter','substring','<span>','setBackgroundColor','map','#ff453a'];a3_0xbd51=function(){return _0xb8057f;};return a3_0xbd51();}async function tryCancelCurrentSession(){const _0xaa36c=a3_0x1001f4;if(!currentSession)return;const _0x538df1=await showCustomConfirm(_0xaa36c(0xf1),_0xaa36c(0xe0),!![]);if(!_0x538df1)return;const _0xc4b35a=currentSession;closeAllSheets(),sessions=sessions[_0xaa36c(0x14a)](_0x3f059e=>_0x3f059e['id']!==_0xc4b35a['id']),reRenderBlocks(),showToast(_0xaa36c(0x168)),lastUserActionTime=Date[_0xaa36c(0x104)]();try{const _0x2304b7=window[_0xaa36c(0x7f)]?.[_0xaa36c(0xd4)],_0x513882=await fetch(API_URL,{'method':_0xaa36c(0x12a),'body':JSON['stringify']({'action':_0xaa36c(0x13f),'init_data':_0x2304b7?.[_0xaa36c(0x145)]||'','coachId':_0xc4b35a[_0xaa36c(0xcd)],'dateStr':_0xc4b35a['dateStr'],'sessionId':_0xc4b35a['id']})});if(_0x513882['ok'])DataManager['saveLocally']();}catch(_0x761466){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x14942e=a3_0x1001f4;if(!currentSession)return;document[_0x14942e(0x144)](_0x14942e(0xb0))[_0x14942e(0xa7)][_0x14942e(0xfb)]('open'),document[_0x14942e(0x144)](_0x14942e(0x12d))['classList'][_0x14942e(0xd8)](_0x14942e(0x13c));const _0x234d66=document['getElementById']('rsDatesTrack'),_0x5ad6ad=document[_0x14942e(0x144)](_0x14942e(0x96));_0x234d66[_0x14942e(0xda)]='',_0x5ad6ad[_0x14942e(0xda)]=_0x14942e(0xd7);const [_0x86abd2,_0x54830e]=currentSession[_0x14942e(0x151)][_0x14942e(0x107)](':')[_0x14942e(0x14e)](Number),[_0x3117e7,_0x5a031b]=currentSession['end']['split'](':')['map'](Number),_0x1c5b3c=_0x3117e7*0x3c+_0x5a031b-(_0x86abd2*0x3c+_0x54830e);try{const _0x2e27ca=window['Telegram']?.[_0x14942e(0xd4)],_0x58e17b=await fetch(API_URL,{'method':'POST','body':JSON[_0x14942e(0xec)]({'action':'get_slots','coachId':currentSession[_0x14942e(0xcd)],'duration':_0x1c5b3c,'init_data':_0x2e27ca?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x6627d6=await _0x58e17b[_0x14942e(0xfd)]();_0x6627d6['ok']&&_0x6627d6[_0x14942e(0x8e)]?(availableSlotsCache=_0x6627d6[_0x14942e(0x8e)],renderRescheduleDates()):_0x5ad6ad[_0x14942e(0xda)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x535fdc){_0x5ad6ad['innerHTML']=_0x14942e(0x10c);}}function renderRescheduleDates(){const _0x3bd3d9=a3_0x1001f4,_0x4200b4=document[_0x3bd3d9(0x144)](_0x3bd3d9(0xc9));_0x4200b4['innerHTML']='';const _0x14b761=Object[_0x3bd3d9(0xac)](availableSlotsCache)[_0x3bd3d9(0xfe)](),_0xc25a5b=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x14b761['length']===0x0){document[_0x3bd3d9(0x144)](_0x3bd3d9(0x96))[_0x3bd3d9(0xda)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x14b761[_0x3bd3d9(0x9d)]((_0x3ca21e,_0x162236)=>{const _0x5addc9=_0x3bd3d9,_0x548a54=new Date(_0x3ca21e),_0x3dacd9=_0xc25a5b[_0x548a54[_0x5addc9(0x165)]()],_0x52f816=_0x548a54['getDate'](),_0x4c60cb=document[_0x5addc9(0xc1)](_0x5addc9(0x140));_0x4c60cb['className']='rs-date-chip';if(_0x162236===0x0)_0x4c60cb[_0x5addc9(0xa7)][_0x5addc9(0xd8)](_0x5addc9(0x132));_0x4c60cb[_0x5addc9(0xda)]='<div\x20class=\x22rs-day-name\x22>'+_0x3dacd9+'</div><div\x20class=\x22rs-day-num\x22>'+_0x52f816+'</div>',_0x4c60cb[_0x5addc9(0x149)]=()=>selectRsDate(_0x3ca21e,_0x4c60cb),_0x4200b4[_0x5addc9(0x11a)](_0x4c60cb);}),selectRsDate(_0x14b761[0x0],_0x4200b4[_0x3bd3d9(0x125)]);}function selectRsDate(_0x2d8875,_0x3df8ff){const _0x3d746a=a3_0x1001f4;selectedRsDate=_0x2d8875,document[_0x3d746a(0x109)]('.rs-date-chip')[_0x3d746a(0x9d)](_0x417a93=>_0x417a93[_0x3d746a(0xa7)][_0x3d746a(0xfb)](_0x3d746a(0x132)));if(_0x3df8ff)_0x3df8ff[_0x3d746a(0xa7)]['add']('active');const _0x2d0f50=document[_0x3d746a(0x144)](_0x3d746a(0x96));_0x2d0f50[_0x3d746a(0xda)]='';const _0x53d4ee=availableSlotsCache[_0x2d8875]||[];if(_0x53d4ee[_0x3d746a(0x114)]===0x0){_0x2d0f50[_0x3d746a(0xda)]=_0x3d746a(0x7b);return;}_0x53d4ee[_0x3d746a(0x9d)](_0x557947=>{const _0xdf30a6=_0x3d746a,_0xf0e58f=document[_0xdf30a6(0xc1)](_0xdf30a6(0x166));_0xf0e58f[_0xdf30a6(0x15d)]='rs-time-btn',_0xf0e58f['textContent']=_0x557947,_0xf0e58f[_0xdf30a6(0x149)]=()=>confirmReschedule(_0x557947),_0x2d0f50[_0xdf30a6(0x11a)](_0xf0e58f);});}async function confirmReschedule(_0x5296fb){const _0x1983e2=a3_0x1001f4,_0x28e349=new Date(selectedRsDate),_0x206f59=_0x28e349['toLocaleDateString']('ru-RU',{'day':_0x1983e2(0xb8),'month':_0x1983e2(0x8b)}),_0x5542da=await showCustomConfirm(_0x1983e2(0xc7),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x206f59+_0x1983e2(0xdd)+_0x5296fb+'?',![]);if(!_0x5542da)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x1983e2(0x104)]();const _0x22cb4d=currentSession[_0x1983e2(0x136)],_0x4ccdc8=currentSession['id'],[_0x30edc1,_0x51c017]=currentSession[_0x1983e2(0x151)]['split'](':')[_0x1983e2(0x14e)](Number),[_0x5a4c72,_0xae139e]=currentSession['end'][_0x1983e2(0x107)](':')[_0x1983e2(0x14e)](Number),_0x3f187b=_0x5a4c72*0x3c+_0xae139e-(_0x30edc1*0x3c+_0x51c017),[_0x97b417,_0x5105f1]=_0x5296fb[_0x1983e2(0x107)](':')[_0x1983e2(0x14e)](Number),_0x5eee8c=_0x97b417*0x3c+_0x5105f1+_0x3f187b,_0x5bab4e=Math[_0x1983e2(0x122)](_0x5eee8c/0x3c),_0x452ef1=_0x5eee8c%0x3c,_0x22e238=String(_0x5bab4e)['padStart'](0x2,'0')+':'+String(_0x452ef1)[_0x1983e2(0x161)](0x2,'0'),_0x163363=sessions['findIndex'](_0x2cb120=>_0x2cb120['id']===_0x4ccdc8);_0x163363!==-0x1&&(sessions[_0x163363]['dateStr']=selectedRsDate,sessions[_0x163363][_0x1983e2(0x151)]=_0x5296fb,sessions[_0x163363][_0x1983e2(0x147)]=_0x22e238,reRenderBlocks());try{const _0x42d3bb=window['Telegram']?.[_0x1983e2(0xd4)],_0x238188=await fetch(API_URL,{'method':'POST','body':JSON[_0x1983e2(0xec)]({'action':_0x1983e2(0xf0),'init_data':_0x42d3bb?.['initData']||'','oldSessionId':_0x4ccdc8,'oldDate':_0x22cb4d,'newDate':selectedRsDate,'newTime':_0x5296fb,'coachId':currentSession[_0x1983e2(0xcd)]})}),_0x3fc7ff=await _0x238188['json']();!_0x3fc7ff['ok']?(showToast(_0x1983e2(0x133)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x1983e2(0x92)]());}catch(_0x388686){showToast(_0x1983e2(0x16b));}}document[a3_0x1001f4(0xbb)](a3_0x1001f4(0xe1),init);