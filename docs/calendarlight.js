const a3_0x340068=a3_0x3220;(function(_0x571919,_0x528cd6){const _0x243ea=a3_0x3220,_0x51c8db=_0x571919();while(!![]){try{const _0x361e0c=parseInt(_0x243ea(0x175))/0x1+parseInt(_0x243ea(0xf5))/0x2+-parseInt(_0x243ea(0x15f))/0x3*(-parseInt(_0x243ea(0x19d))/0x4)+parseInt(_0x243ea(0x1bd))/0x5*(parseInt(_0x243ea(0x1af))/0x6)+-parseInt(_0x243ea(0x14f))/0x7+-parseInt(_0x243ea(0xe2))/0x8+-parseInt(_0x243ea(0x132))/0x9;if(_0x361e0c===_0x528cd6)break;else _0x51c8db['push'](_0x51c8db['shift']());}catch(_0x1737b5){_0x51c8db['push'](_0x51c8db['shift']());}}}(a3_0x1bb7,0xa34f9));const APP_VERSION=a3_0x340068(0x113),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x340068(0x198),KEY_SETTINGS=a3_0x340068(0x1ae),KEY_CLIENTS=a3_0x340068(0x166);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x340068(0x16e),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x267705=a3_0x340068,_0x56d6e1=(function(){let _0x5d41c6=!![];return function(_0xc1f07f,_0x38cc09){const _0x5e0127=_0x5d41c6?function(){const _0x572113=a3_0x3220;if(_0x38cc09){const _0x30220a=_0x38cc09[_0x572113(0x119)](_0xc1f07f,arguments);return _0x38cc09=null,_0x30220a;}}:function(){};return _0x5d41c6=![],_0x5e0127;};}()),_0x1f34aa=_0x56d6e1(this,function(){const _0x4b1a5b=a3_0x3220;return _0x1f34aa[_0x4b1a5b(0x11a)]()['search'](_0x4b1a5b(0xcc))[_0x4b1a5b(0x11a)]()['constructor'](_0x1f34aa)[_0x4b1a5b(0x126)]('(((.+)+)+)+$');});_0x1f34aa();try{const _0x35aa6e=window[_0x267705(0x129)]?.['WebApp'];if(!_0x35aa6e)return;_0x35aa6e[_0x267705(0x17a)](),_0x35aa6e[_0x267705(0x1b4)]();try{_0x35aa6e['setHeaderColor'](_0x267705(0xd5)),_0x35aa6e['setBackgroundColor']&&_0x35aa6e[_0x267705(0x171)](_0x267705(0xd5));}catch(_0x51a078){console[_0x267705(0x1c6)](_0x267705(0x109),_0x51a078);}try{_0x35aa6e['BackButton']&&(_0x35aa6e[_0x267705(0x10b)]['show'](),_0x35aa6e[_0x267705(0x10b)][_0x267705(0x16f)](),_0x35aa6e['BackButton']['onClick'](function(){const _0x108f37=_0x267705;window[_0x108f37(0x1b0)][_0x108f37(0x1b8)]=_0x108f37(0x1b6);}));}catch(_0x285e7b){console['log'](_0x267705(0x12a),_0x285e7b);}try{if(_0x35aa6e[_0x267705(0xe5)])_0x35aa6e[_0x267705(0xe5)]();}catch(_0x3eb8b7){}}catch(_0x5635f6){console['error'](_0x267705(0xf1),_0x5635f6);}}());function isAdmin(){const _0x197aa1=a3_0x340068;try{const _0x2720c3=Number(window[_0x197aa1(0x129)]?.[_0x197aa1(0x121)]?.[_0x197aa1(0x16b)]?.[_0x197aa1(0xfc)]?.['id']);return _0x2720c3===0xbaf7174;}catch(_0x51d696){return![];}}const DataManager={'saveLocally'(){const _0x2ab36f=a3_0x340068;try{localStorage[_0x2ab36f(0x1a7)](KEY_SESSIONS,JSON[_0x2ab36f(0x112)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x2ab36f(0x112)](clients)),localStorage[_0x2ab36f(0x1a7)](KEY_SETTINGS,JSON[_0x2ab36f(0x112)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5463f5){}},'loadLocal'(){const _0x676248=a3_0x340068;try{const _0x1bb59c=localStorage[_0x676248(0x131)](KEY_SESSIONS);if(_0x1bb59c)sessions=JSON[_0x676248(0xd1)](_0x1bb59c);const _0x12d281=localStorage['getItem'](KEY_CLIENTS);if(_0x12d281)clients=JSON[_0x676248(0xd1)](_0x12d281);const _0x2c57cd=localStorage['getItem'](KEY_SETTINGS);if(_0x2c57cd){const _0x32a941=JSON['parse'](_0x2c57cd);if(_0x32a941[_0x676248(0x1b1)])availabilityPattern=_0x32a941[_0x676248(0x1b1)];if(_0x32a941[_0x676248(0x197)])specialRanges=_0x32a941['ranges'];if(_0x32a941[_0x676248(0x118)])dateExceptions=_0x32a941['exceptions'];}}catch(_0x172682){}},async 'syncLoad'(){const _0x4d165c=a3_0x340068,_0x27927d=new Date(),_0x1989fe=_0x27927d[_0x4d165c(0x1a5)]()+'-'+String(_0x27927d[_0x4d165c(0xe1)]()+0x1)[_0x4d165c(0x151)](0x2,'0'),_0x5070ac=new Date(_0x27927d);_0x5070ac[_0x4d165c(0x194)](_0x27927d[_0x4d165c(0xe1)]()+0x1);const _0x1c8d97=_0x5070ac['getFullYear']()+'-'+String(_0x5070ac[_0x4d165c(0xe1)]()+0x1)['padStart'](0x2,'0'),_0x443df6=Date[_0x4d165c(0xf9)]();try{const _0x4a7bc9=window['Telegram']?.[_0x4d165c(0x121)],_0x50fed7=_0x4a7bc9?.[_0x4d165c(0x103)]||'',[_0x3f0026,_0x1ad7bf]=await Promise[_0x4d165c(0xd7)]([fetch(API_URL,{'method':'POST','body':JSON[_0x4d165c(0x112)]({'action':_0x4d165c(0xfa),'init_data':_0x50fed7,'month_str':_0x1989fe})})[_0x4d165c(0xe6)](_0x4bb290=>_0x4bb290[_0x4d165c(0x16d)]()),fetch(API_URL,{'method':_0x4d165c(0x1c5),'body':JSON[_0x4d165c(0x112)]({'action':_0x4d165c(0xfa),'init_data':_0x50fed7,'month_str':_0x1c8d97})})[_0x4d165c(0xe6)](_0x5986b3=>_0x5986b3['json']())]);if(lastUserActionTime>_0x443df6){console[_0x4d165c(0x1c6)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x3f0026['ok'])this[_0x4d165c(0x11b)](_0x3f0026[_0x4d165c(0xe8)],_0x1989fe);if(_0x1ad7bf['ok'])this[_0x4d165c(0x11b)](_0x1ad7bf['data'],_0x1c8d97);this['saveLocally']();}catch(_0x54075c){}},'applyData'(_0x75b555,_0x3b0d20){const _0x410612=a3_0x340068;if(!_0x75b555)return;if(_0x75b555['settings']){if(_0x75b555[_0x410612(0x16c)][_0x410612(0x1b1)])availabilityPattern=_0x75b555[_0x410612(0x16c)]['pattern'];if(_0x75b555[_0x410612(0x16c)]['ranges'])specialRanges=_0x75b555[_0x410612(0x16c)][_0x410612(0x197)];if(_0x75b555[_0x410612(0x16c)]['exceptions'])dateExceptions=_0x75b555[_0x410612(0x16c)][_0x410612(0x118)];}if(_0x75b555['clients']&&Array['isArray'](_0x75b555[_0x410612(0xd3)]))clients=_0x75b555[_0x410612(0xd3)];_0x75b555[_0x410612(0x100)]&&(coachProfiles={...coachProfiles,..._0x75b555[_0x410612(0x100)]}),_0x75b555[_0x410612(0x116)]&&(sessions=sessions[_0x410612(0x1a8)](_0x11c500=>!_0x11c500[_0x410612(0x17e)][_0x410612(0x158)](_0x3b0d20)),Object[_0x410612(0x138)](_0x75b555['calendar'])[_0x410612(0x18e)](_0x1b1df8=>{const _0x8f7dd8=_0x410612,_0x5a1802=_0x75b555['calendar'][_0x1b1df8];_0x5a1802[_0x8f7dd8(0x18e)](_0x35d3ce=>{const _0x178918=_0x8f7dd8;sessions['push']({'id':_0x35d3ce['i'],'clientId':_0x35d3ce['c'],'coachId':_0x35d3ce[_0x178918(0x1c2)],'dateStr':_0x3b0d20+'-'+_0x1b1df8['padStart'](0x2,'0'),'start':_0x35d3ce['s'],'end':_0x35d3ce['e'],'note':_0x35d3ce['n']||'','status':_0x35d3ce['st']||'planned','seriesId':_0x35d3ce[_0x178918(0x1b5)]});});})),reRenderBlocks();}};function init(){const _0x1d2bea=a3_0x340068;DataManager[_0x1d2bea(0x18a)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1d2bea(0xef))[_0x1d2bea(0x161)](_0x1d2bea(0x12d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1d2bea(0x1b2)]();}function renderTimeColumn(){const _0x1d640e=a3_0x340068,_0x5946e5=document[_0x1d640e(0x15d)](_0x1d640e(0x19a)),_0x51df5c=document['getElementById']('timeLineBadge');_0x5946e5[_0x1d640e(0xff)]='',_0x5946e5[_0x1d640e(0x149)](_0x51df5c);for(let _0x5d7ba3=0x0;_0x5d7ba3<0x18;_0x5d7ba3++){const _0x3eb718=document['createElement']('div');_0x3eb718[_0x1d640e(0x10c)]=_0x1d640e(0x137);if(_0x5d7ba3>0x0)_0x3eb718[_0x1d640e(0xff)]=_0x1d640e(0x152)+String(_0x5d7ba3)[_0x1d640e(0x151)](0x2,'0')+_0x1d640e(0xf4);_0x5946e5['appendChild'](_0x3eb718);}}function a3_0x1bb7(){const _0x4f0c57=['–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','insertBefore','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','setAttribute','sort','blocked-slot\x20stripe-bg','rgba(10,\x20132,\x20255,\x20','clientId','loadLocal','completed','remove','add','forEach','anDonutCircle','\x20—á.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','detDate','color','setMonth','.period-switch\x20.p-btn','max','ranges','uc_client_sessions','anPercent','timeColumn','visible','seriesId','4OojRpE','fontWeight','style','client_cancel','px\x200px','calc(','status','length','getFullYear','colIndex','setItem','filter','querySelector','get_slots','push','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','createElement','uc_client_settings','1986432dRjJRC','location','pattern','syncLoad','reschedule','expand','sid','router.html','long','href','coachId','scrollWidth','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','10iGuXVN','today','charAt','open','textContent','cid','left','overlay','POST','log','DOMContentLoaded','(((.+)+)+)+$','min','headerMonth','entries','getTime','parse','onclick','clients','findIndex','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','all','start','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','day-off-overlay\x20stripe-bg','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','classList','value','detNote','setHours','.btn-reschedule','getMonth','6526656AguCZy','createDocumentFragment','–û—Ç–º–µ–Ω–µ–Ω–æ','disableVerticalSwipes','then','cancel_window','data','firstChild','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detailsSheet','daysHeaderTrack','anEnd','scrollTo','matrixViewport','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Critical\x20TMA\x20Error:','scrollLeft','var(--acc-blue)',':00</span>','2467982BRgLbB','auto','show','\x20-\x20','now','client_load','.day-column','user','custom','data-date','innerHTML','coach_profiles','rsSlotsGrid','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','initData','.sheet','blocked-range-part\x20stripe-bg','#0a84ff','button','.rs-date-chip','Error\x20setting\x20color:','backgroundColor','BackButton','className','data-day-idx','flex','end','round','day-column\x20','stringify','v9.5-CLIENT-ANALYTICS','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','var(--acc-green)','exceptions','apply','toString','applyData','600','test','setDate','toLocaleString','%\x20-\x204px)','WebApp','getHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','analyticsSheet','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','search','ccTitle','total','Telegram','Error\x20setting\x20back\x20button:','analyticsList','<div\x20class=\x22dch-day\x22>','scroll','display','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','stopPropagation','getItem','15836580sdLFPn','.day-col-header','ccYesBtn','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','cancelHint','time-label','keys','cancelContainer','gridColumns','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','toLocaleDateString','detTime','toUpperCase','borderLeftColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','strokeDashoffset','T23:59:59','\x20–∏–∑\x20','</div><div\x20class=\x22dch-num\x22>','active','anStart','appendChild','find','map','scrollTop','substring','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','820288ZBkgbX','T00:00:00','padStart','<span>','\x20–≤\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','</div>','\x20status-completed','startsWith','clientWidth','floor','getDate','split','getElementById','ru-RU','1724493kTydXV','rescheduleSheet','addEventListener','top','block','offsetLeft','timeLineBadge','uc_client_list','rs-time-btn','day-col-header\x20','slice','height','initDataUnsafe','settings','json','week','offClick','ccText','setBackgroundColor','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','done','getDay','890591iplAOX','.btn-cancel','customConfirm','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','div','ready','querySelectorAll','getMinutes','month','dateStr','saveLocally','backgroundPosition','none'];a3_0x1bb7=function(){return _0x4f0c57;};return a3_0x1bb7();}function renderDayRange(_0x53465f,_0x20c088){const _0x18613f=a3_0x340068,_0x14a808=document[_0x18613f(0x15d)](_0x18613f(0xec)),_0x528564=document[_0x18613f(0x15d)](_0x18613f(0x13a)),_0x5ec025=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1f8641=new Date();_0x1f8641[_0x18613f(0xdf)](0x0,0x0,0x0,0x0);const _0xd727aa=getLocalDateStr(new Date());for(let _0x39fdf0=_0x53465f;_0x39fdf0<=_0x20c088;_0x39fdf0++){const _0x205b76=new Date(_0x1f8641);_0x205b76['setDate'](_0x205b76['getDate']()+_0x39fdf0);const _0x35603e=getLocalDateStr(_0x205b76);let _0x22e46a=_0x205b76[_0x18613f(0x174)]()-0x1;if(_0x22e46a===-0x1)_0x22e46a=0x6;const _0x30e65f=_0x35603e===_0xd727aa,_0x2b8b20=document[_0x18613f(0x1ad)]('div');_0x2b8b20[_0x18613f(0x10c)]=_0x18613f(0x168)+(_0x30e65f?'today':''),_0x2b8b20[_0x18613f(0x185)](_0x18613f(0xfe),_0x35603e),_0x2b8b20[_0x18613f(0xff)]=_0x18613f(0x12c)+_0x5ec025[_0x22e46a]+_0x18613f(0x146)+_0x205b76[_0x18613f(0x15b)]()+_0x18613f(0x156),_0x14a808[_0x18613f(0x149)](_0x2b8b20);const _0x52abfd=document['createElement'](_0x18613f(0x179));_0x52abfd[_0x18613f(0x10c)]=_0x18613f(0x111)+(_0x30e65f?_0x18613f(0x1be):''),_0x52abfd[_0x18613f(0x185)](_0x18613f(0xfe),_0x35603e),_0x52abfd[_0x18613f(0x185)](_0x18613f(0x10d),_0x22e46a),_0x528564['appendChild'](_0x52abfd);}}function reRenderBlocks(){const _0x435274=a3_0x340068;document[_0x435274(0x17b)](_0x435274(0xfb))[_0x435274(0x18e)](_0x36a3a3=>{const _0x4ea00d=_0x435274;_0x36a3a3[_0x4ea00d(0x17b)](_0x4ea00d(0xea))[_0x4ea00d(0x18e)](_0x2a1332=>_0x2a1332[_0x4ea00d(0x18c)]());const _0x46a381=_0x36a3a3['getAttribute']('data-date'),_0x46dc98=parseInt(_0x36a3a3['getAttribute']('data-day-idx')),_0x2a9249=Math[_0x4ea00d(0x110)](_0x36a3a3[_0x4ea00d(0x164)]);(availabilityPattern[_0x46dc98]||[])[_0x4ea00d(0x18e)](_0xb744ac=>{const _0x302d09=_0x4ea00d,_0x938e66=document[_0x302d09(0x1ad)]('div');_0x938e66['className']=_0x302d09(0x187),_0x938e66['style'][_0x302d09(0x162)]=_0xb744ac*GRID_H+'px',_0x938e66[_0x302d09(0x19f)][_0x302d09(0x180)]='-'+_0x2a9249+_0x302d09(0x155)+_0xb744ac*GRID_H+'px',_0x36a3a3[_0x302d09(0x149)](_0x938e66);});if(specialRanges[_0x4ea00d(0x1a4)]>0x0){const _0x5ad223=new Date(_0x46a381+_0x4ea00d(0x150))[_0x4ea00d(0xd0)](),_0x5ae250=new Date(_0x46a381+_0x4ea00d(0x144))[_0x4ea00d(0xd0)]();specialRanges[_0x4ea00d(0x18e)](_0x30c141=>{const _0x208608=_0x4ea00d,_0x5aeaa8=new Date(_0x30c141['start'])['getTime'](),_0x214299=new Date(_0x30c141[_0x208608(0x10f)])[_0x208608(0xd0)](),_0x166588=Math[_0x208608(0x196)](_0x5ad223,_0x5aeaa8),_0x12ddb8=Math[_0x208608(0xcd)](_0x5ae250,_0x214299);if(_0x166588<_0x12ddb8){const _0x191cbe=(_0x166588-_0x5ad223)/0x36ee80*GRID_H,_0x4de5e4=(_0x12ddb8-_0x166588)/0x36ee80*GRID_H,_0x20eb3a=document[_0x208608(0x1ad)]('div');_0x4de5e4>=23.5*GRID_H?(_0x20eb3a[_0x208608(0x10c)]=_0x208608(0xda),_0x20eb3a[_0x208608(0x19f)][_0x208608(0x180)]='-'+_0x2a9249+_0x208608(0x1a1)):(_0x20eb3a[_0x208608(0x10c)]=_0x208608(0x105),_0x20eb3a['style'][_0x208608(0x162)]=_0x191cbe+'px',_0x20eb3a[_0x208608(0x19f)][_0x208608(0x16a)]=_0x4de5e4+'px',_0x20eb3a[_0x208608(0x19f)]['backgroundPosition']='-'+_0x2a9249+_0x208608(0x155)+_0x191cbe+'px'),_0x36a3a3['appendChild'](_0x20eb3a);}});}renderEventsForColumn(_0x36a3a3,_0x46a381);});}function renderEventsForColumn(_0x2ebf64,_0x40b9d2){const _0x4b8265=a3_0x340068,_0x220b16=sessions[_0x4b8265(0x1a8)](_0xe6610d=>_0xe6610d[_0x4b8265(0x17e)]===_0x40b9d2),_0x4e0abe=_0x220b16[_0x4b8265(0x14b)](_0x1a71e2=>{const _0x1915d0=_0x4b8265,[_0x32578c,_0x26085f]=_0x1a71e2[_0x1915d0(0xd8)][_0x1915d0(0x15c)](':')[_0x1915d0(0x14b)](Number),[_0x291907,_0x578909]=_0x1a71e2[_0x1915d0(0x10f)]['split'](':')[_0x1915d0(0x14b)](Number);return{'data':_0x1a71e2,'start':_0x32578c*0x3c+_0x26085f,'end':_0x291907*0x3c+_0x578909,'colIndex':0x0};});_0x4e0abe['sort']((_0xa54295,_0x2e1d9d)=>_0xa54295[_0x4b8265(0xd8)]-_0x2e1d9d[_0x4b8265(0xd8)]||_0x2e1d9d[_0x4b8265(0x10f)]-_0x2e1d9d['start']-(_0xa54295[_0x4b8265(0x10f)]-_0xa54295[_0x4b8265(0xd8)]));const _0x5725ea=[];_0x4e0abe[_0x4b8265(0x18e)](_0x68494=>{const _0x5a2f0a=_0x4b8265;let _0x4b8c83=![];for(let _0x34f086=0x0;_0x34f086<_0x5725ea[_0x5a2f0a(0x1a4)];_0x34f086++){const _0x1cabf6=_0x5725ea[_0x34f086];if(_0x68494[_0x5a2f0a(0xd8)]>=_0x1cabf6[_0x1cabf6[_0x5a2f0a(0x1a4)]-0x1][_0x5a2f0a(0x10f)]){_0x1cabf6[_0x5a2f0a(0x1ab)](_0x68494),_0x68494[_0x5a2f0a(0x1a6)]=_0x34f086,_0x4b8c83=!![];break;}}!_0x4b8c83&&(_0x5725ea[_0x5a2f0a(0x1ab)]([_0x68494]),_0x68494[_0x5a2f0a(0x1a6)]=_0x5725ea[_0x5a2f0a(0x1a4)]-0x1);}),_0x4e0abe['forEach'](_0x3cc441=>{const _0xa8fbc4=_0x4b8265;let _0x31a433=0x0;_0x4e0abe[_0xa8fbc4(0x18e)](_0x5a5324=>{const _0x3d5e02=_0xa8fbc4;if(Math[_0x3d5e02(0x196)](_0x3cc441[_0x3d5e02(0xd8)],_0x5a5324[_0x3d5e02(0xd8)])<Math[_0x3d5e02(0xcd)](_0x3cc441['end'],_0x5a5324[_0x3d5e02(0x10f)])&&_0x5a5324['colIndex']>_0x31a433)_0x31a433=_0x5a5324['colIndex'];});const _0x2f4347=_0x31a433+0x1,_0x399e4f=0x64/_0x2f4347,_0xc22975=_0x3cc441[_0xa8fbc4(0x1a6)]*_0x399e4f,_0x230829=document[_0xa8fbc4(0x1ad)](_0xa8fbc4(0x179)),_0x28fd54=_0x3cc441[_0xa8fbc4(0xe8)];let _0x5f07f5='#0a84ff';if(clients&&clients[_0xa8fbc4(0x1a4)]>0x0){const _0x2bc326=clients[_0xa8fbc4(0x14a)](_0x1c838d=>String(_0x1c838d['id'])===String(_0x28fd54[_0xa8fbc4(0x189)]));if(_0x2bc326&&_0x2bc326['color'])_0x5f07f5=_0x2bc326['color'];}const _0x3291ae=_0x28fd54[_0xa8fbc4(0x1a3)]===_0xa8fbc4(0x18b),_0x406dc1=_0x3291ae?0x1:0.45;_0x230829[_0xa8fbc4(0x10c)]='event-card'+(_0x3291ae?_0xa8fbc4(0x157):''),_0x230829[_0xa8fbc4(0x19f)][_0xa8fbc4(0x10a)]=hexToRgba(_0x5f07f5,_0x406dc1),_0x230829[_0xa8fbc4(0x19f)][_0xa8fbc4(0x141)]=_0x5f07f5;const _0x5ca103=_0x3cc441[_0xa8fbc4(0xd8)]/0x3c*GRID_H,_0x3329c6=(_0x3cc441[_0xa8fbc4(0x10f)]-_0x3cc441[_0xa8fbc4(0xd8)])/0x3c*GRID_H;_0x230829[_0xa8fbc4(0x19f)]['top']=_0x5ca103+'px',_0x230829[_0xa8fbc4(0x19f)][_0xa8fbc4(0x16a)]=Math['max'](_0x3329c6,0x14)+'px',_0x230829[_0xa8fbc4(0x19f)]['width']=_0xa8fbc4(0x1a2)+_0x399e4f+_0xa8fbc4(0x120),_0x230829['style'][_0xa8fbc4(0x1c3)]='calc('+_0xc22975+'%\x20+\x202px)',_0x230829[_0xa8fbc4(0x19f)]['zIndex']=0xa+_0x3cc441['colIndex'];if(_0x399e4f<0x55)_0x230829[_0xa8fbc4(0xdc)][_0xa8fbc4(0x18d)]('mini');let _0x901f5f='';if(_0x28fd54[_0xa8fbc4(0x19c)])_0x901f5f+=_0xa8fbc4(0x125);if(_0x3291ae)_0x901f5f+=_0xa8fbc4(0x13c);_0x230829[_0xa8fbc4(0xff)]=_0xa8fbc4(0xd6)+_0x28fd54[_0xa8fbc4(0xd8)]+'\x20-\x20'+_0x28fd54['end']+_0xa8fbc4(0xf0)+_0x901f5f+_0xa8fbc4(0x115),_0x230829[_0xa8fbc4(0xd2)]=_0x481de3=>{const _0x5ccd6a=_0xa8fbc4;_0x481de3[_0x5ccd6a(0x130)](),openDetails(_0x28fd54);},_0x2ebf64[_0xa8fbc4(0x149)](_0x230829);});}function openAnalytics(){const _0x27f3c7=a3_0x340068,_0x5b25d9=document['querySelector'](_0x27f3c7(0x195));setAnalyticsPeriod('week',_0x5b25d9),openSheet(_0x27f3c7(0x124));}function setAnalyticsPeriod(_0x47504f,_0x333d72){const _0x39609a=a3_0x340068;currentAnPeriod=_0x47504f,document[_0x39609a(0x17b)](_0x39609a(0x195))[_0x39609a(0x18e)](_0x599b47=>_0x599b47[_0x39609a(0xdc)][_0x39609a(0x18c)]('active'));if(_0x333d72)_0x333d72[_0x39609a(0xdc)][_0x39609a(0x18d)](_0x39609a(0x147));const _0x52d22d=document['getElementById']('anCustomDates');_0x52d22d[_0x39609a(0x19f)][_0x39609a(0x12e)]=_0x47504f===_0x39609a(0xfd)?_0x39609a(0x10e):_0x39609a(0x181);const _0x11f2f4=new Date();let _0x177684=new Date(),_0x4e137c=new Date();if(_0x47504f===_0x39609a(0x16e))_0x177684=getStartOfWeek(_0x11f2f4),_0x4e137c=new Date(_0x177684),_0x4e137c['setDate'](_0x4e137c[_0x39609a(0x15b)]()+0x6);else{if(_0x47504f===_0x39609a(0x17d))_0x177684=new Date(_0x11f2f4[_0x39609a(0x1a5)](),_0x11f2f4[_0x39609a(0xe1)](),0x1),_0x4e137c=new Date(_0x11f2f4[_0x39609a(0x1a5)](),_0x11f2f4['getMonth']()+0x1,0x0);else{!document[_0x39609a(0x15d)](_0x39609a(0x148))[_0x39609a(0xdd)]&&(document['getElementById']('anStart')[_0x39609a(0xdd)]=getLocalDateStr(_0x11f2f4),document['getElementById'](_0x39609a(0xed))[_0x39609a(0xdd)]=getLocalDateStr(_0x11f2f4));refreshAnalytics();return;}}document[_0x39609a(0x15d)](_0x39609a(0x148))[_0x39609a(0xdd)]=getLocalDateStr(_0x177684),document[_0x39609a(0x15d)](_0x39609a(0xed))[_0x39609a(0xdd)]=getLocalDateStr(_0x4e137c),refreshAnalytics();}function refreshAnalytics(){const _0x53a90e=a3_0x340068,_0x577bb5=document[_0x53a90e(0x15d)]('anStart')[_0x53a90e(0xdd)],_0x414d22=document[_0x53a90e(0x15d)](_0x53a90e(0xed))[_0x53a90e(0xdd)];if(!_0x577bb5||!_0x414d22)return;const _0x161a89=sessions[_0x53a90e(0x1a8)](_0xa16b59=>_0xa16b59[_0x53a90e(0x17e)]>=_0x577bb5&&_0xa16b59[_0x53a90e(0x17e)]<=_0x414d22&&_0xa16b59['status']!=='cancelled'),_0x4c35c7=_0x161a89[_0x53a90e(0x1a4)],_0x3efb08=_0x161a89['filter'](_0xc05d4d=>_0xc05d4d[_0x53a90e(0x1a3)]==='completed')[_0x53a90e(0x1a4)],_0xd871e9=_0x4c35c7>0x0?Math[_0x53a90e(0x110)](_0x3efb08/_0x4c35c7*0x64):0x0;document[_0x53a90e(0x15d)](_0x53a90e(0x199))[_0x53a90e(0x1c1)]=_0xd871e9+'%',document['getElementById']('anTotalStats')[_0x53a90e(0x1c1)]=_0x3efb08+_0x53a90e(0x145)+_0x4c35c7+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x406619=document['getElementById'](_0x53a90e(0x18f)),_0xd2653f=0x2*Math['PI']*0x23,_0x2d2671=_0xd2653f-_0xd871e9/0x64*_0xd2653f;_0x406619[_0x53a90e(0x19f)][_0x53a90e(0x143)]=_0x2d2671;const _0x326132={};_0x161a89[_0x53a90e(0x18e)](_0x274bdd=>{const _0x4e6abc=_0x53a90e,_0x16617c=_0x274bdd[_0x4e6abc(0x1b9)]||'Unknown';if(!_0x326132[_0x16617c]){const _0xc3a4ba='#'+_0x16617c['toString']()['substr'](0x0,0x6);_0x326132[_0x16617c]={'total':0x0,'done':0x0,'color':_0xc3a4ba};}_0x326132[_0x16617c]['total']++;if(_0x274bdd['status']===_0x4e6abc(0x18b))_0x326132[_0x16617c][_0x4e6abc(0x173)]++;});const _0x536dd7=document[_0x53a90e(0x15d)](_0x53a90e(0x12b));_0x536dd7['innerHTML']='';const _0x1cf691=Object[_0x53a90e(0xcf)](_0x326132)[_0x53a90e(0x186)]((_0x5d297b,_0x4231b1)=>_0x4231b1[0x1][_0x53a90e(0x128)]-_0x5d297b[0x1][_0x53a90e(0x128)]);if(_0x1cf691[_0x53a90e(0x1a4)]===0x0){_0x536dd7[_0x53a90e(0xff)]=_0x53a90e(0x184);return;}_0x1cf691[_0x53a90e(0x18e)](([_0x17ce7f,_0x2ee694])=>{const _0x20cd20=_0x53a90e,_0x5b384d=Math[_0x20cd20(0x110)](_0x2ee694[_0x20cd20(0x173)]/_0x2ee694[_0x20cd20(0x128)]*0x64),_0x51072f=document[_0x20cd20(0x1ad)](_0x20cd20(0x179));_0x51072f[_0x20cd20(0x10c)]='client-stat-card',_0x51072f['style'][_0x20cd20(0x141)]=_0x2ee694[_0x20cd20(0x193)],_0x51072f[_0x20cd20(0xff)]=_0x20cd20(0x123)+_0x17ce7f['substr'](0x0,0x5)+_0x20cd20(0x142)+_0x2ee694[_0x20cd20(0x173)]+'</span>\x20/\x20'+_0x2ee694['total']+_0x20cd20(0x191)+_0x5b384d+_0x20cd20(0x154),_0x536dd7[_0x20cd20(0x149)](_0x51072f);});}function openDetails(_0x59ba09){const _0x4eb7d0=a3_0x340068;currentSession=_0x59ba09;const _0x3df384=new Date(_0x59ba09[_0x4eb7d0(0x17e)]),_0x307ee9=_0x3df384[_0x4eb7d0(0x13e)](_0x4eb7d0(0x15e),{'weekday':_0x4eb7d0(0x1b7),'day':'numeric','month':_0x4eb7d0(0x1b7)});document['getElementById'](_0x4eb7d0(0x192))['textContent']=_0x307ee9[_0x4eb7d0(0x1bf)](0x0)[_0x4eb7d0(0x140)]()+_0x307ee9[_0x4eb7d0(0x169)](0x1),document['getElementById'](_0x4eb7d0(0x13f))[_0x4eb7d0(0x1c1)]=_0x59ba09['start']+_0x4eb7d0(0xf8)+_0x59ba09[_0x4eb7d0(0x10f)],document['getElementById'](_0x4eb7d0(0xde))[_0x4eb7d0(0x1c1)]=_0x59ba09['note']||_0x4eb7d0(0x102);const _0x4b636e=document[_0x4eb7d0(0x15d)]('detStatus'),_0x2d196c=document[_0x4eb7d0(0x15d)](_0x4eb7d0(0x139)),_0x23fcb1=_0x2d196c[_0x4eb7d0(0x1a9)](_0x4eb7d0(0x176)),_0x5c710f=_0x2d196c['querySelector'](_0x4eb7d0(0xe0)),_0x21fd76=document[_0x4eb7d0(0x15d)](_0x4eb7d0(0x136));if(_0x59ba09[_0x4eb7d0(0x1a3)]===_0x4eb7d0(0x18b))_0x4b636e[_0x4eb7d0(0x1c1)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x4b636e['style'][_0x4eb7d0(0x193)]=_0x4eb7d0(0x117),_0x2d196c[_0x4eb7d0(0x19f)][_0x4eb7d0(0x12e)]='none';else{_0x4b636e[_0x4eb7d0(0x1c1)]=_0x4eb7d0(0x114),_0x4b636e[_0x4eb7d0(0x19f)][_0x4eb7d0(0x193)]=_0x4eb7d0(0xf3),_0x2d196c['style'][_0x4eb7d0(0x12e)]=_0x4eb7d0(0x163);const _0x42eaee=new Date(_0x59ba09[_0x4eb7d0(0x17e)]+'T'+_0x59ba09[_0x4eb7d0(0xd8)]),_0xa6abed=new Date(),_0x222708=(_0x42eaee-_0xa6abed)/(0x3e8*0x3c*0x3c),_0x47cbea=coachProfiles[_0x59ba09[_0x4eb7d0(0x1b9)]]&&coachProfiles[_0x59ba09[_0x4eb7d0(0x1b9)]][_0x4eb7d0(0xe7)]?parseInt(coachProfiles[_0x59ba09[_0x4eb7d0(0x1b9)]]['cancel_window']):0x18;if(_0x47cbea===0x0||_0x222708>=_0x47cbea)_0x23fcb1[_0x4eb7d0(0x19f)][_0x4eb7d0(0x12e)]=_0x4eb7d0(0x163),_0x5c710f[_0x4eb7d0(0x19f)]['display']='block',_0x21fd76[_0x4eb7d0(0x19f)][_0x4eb7d0(0x12e)]=_0x4eb7d0(0x181);else{_0x23fcb1[_0x4eb7d0(0x19f)][_0x4eb7d0(0x12e)]=_0x4eb7d0(0x181),_0x5c710f[_0x4eb7d0(0x19f)][_0x4eb7d0(0x12e)]=_0x4eb7d0(0x181),_0x21fd76[_0x4eb7d0(0x19f)]['display']=_0x4eb7d0(0x163);let _0x2852f9=_0x47cbea===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x47cbea+_0x4eb7d0(0x190);_0x21fd76[_0x4eb7d0(0x1c1)]=_0x4eb7d0(0x14e)+_0x2852f9+_0x4eb7d0(0x1bb);}}document[_0x4eb7d0(0x15d)](_0x4eb7d0(0x1c4))['classList'][_0x4eb7d0(0x18d)]('active'),document['getElementById'](_0x4eb7d0(0xeb))[_0x4eb7d0(0xdc)][_0x4eb7d0(0x18d)](_0x4eb7d0(0x1c0));}function closeAllSheets(){const _0x44b0d8=a3_0x340068;document[_0x44b0d8(0x15d)](_0x44b0d8(0x1c4))['classList'][_0x44b0d8(0x18c)](_0x44b0d8(0x147)),document['querySelectorAll'](_0x44b0d8(0x104))[_0x44b0d8(0x18e)](_0x5b0d96=>_0x5b0d96['classList'][_0x44b0d8(0x18c)](_0x44b0d8(0x1c0)));}function openSheet(_0x4cc5f8){const _0x409dbe=a3_0x340068;document[_0x409dbe(0x15d)](_0x409dbe(0x1c4))[_0x409dbe(0xdc)]['add'](_0x409dbe(0x147)),document['getElementById'](_0x4cc5f8)[_0x409dbe(0xdc)]['add'](_0x409dbe(0x1c0));}function getLocalDateStr(_0x46a943){const _0xcbe64a=a3_0x340068,_0x431647=_0x46a943[_0xcbe64a(0x1a5)](),_0x50dc03=String(_0x46a943[_0xcbe64a(0xe1)]()+0x1)[_0xcbe64a(0x151)](0x2,'0'),_0x4ed25b=String(_0x46a943[_0xcbe64a(0x15b)]())[_0xcbe64a(0x151)](0x2,'0');return _0x431647+'-'+_0x50dc03+'-'+_0x4ed25b;}function getStartOfWeek(_0x50c97c){const _0x127329=a3_0x340068,_0x32c2cb=new Date(_0x50c97c),_0x2d43dd=_0x32c2cb[_0x127329(0x174)](),_0x27028c=_0x32c2cb['getDate']()-_0x2d43dd+(_0x2d43dd===0x0?-0x6:0x1);return _0x32c2cb[_0x127329(0x11e)](_0x27028c),_0x32c2cb[_0x127329(0xdf)](0x0,0x0,0x0,0x0),_0x32c2cb;}function scrollToToday(){const _0x584ecb=getLocalDateStr(new Date());setTimeout(()=>{const _0x1d7127=a3_0x3220,_0x41c1a5=document[_0x1d7127(0x1a9)]('.day-col-header[data-date=\x22'+_0x584ecb+'\x22]');if(_0x41c1a5){const _0x5b7c93=document[_0x1d7127(0x15d)]('matrixViewport'),_0x40476e=_0x41c1a5[_0x1d7127(0x164)]-_0x5b7c93[_0x1d7127(0x159)]/0x2+_0x41c1a5['offsetWidth']/0x2;_0x5b7c93[_0x1d7127(0xee)]({'left':_0x40476e,'behavior':_0x1d7127(0xf6)}),_0x5b7c93[_0x1d7127(0x14c)]=0x9*GRID_H;}},0x32);}function a3_0x3220(_0x1f27e9,_0x1daf4b){_0x1f27e9=_0x1f27e9-0xcb;const _0x4a2d60=a3_0x1bb7();let _0x22760a=_0x4a2d60[_0x1f27e9];return _0x22760a;}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1a7351=a3_0x340068,_0x1a1888=new Date(),_0x56dcaf=document[_0x1a7351(0x15d)]('globalTimeLine'),_0x41a229=document[_0x1a7351(0x15d)](_0x1a7351(0x165)),_0x21280f=(_0x1a1888[_0x1a7351(0x122)]()*0x3c+_0x1a1888[_0x1a7351(0x17c)]())/0x3c*GRID_H;_0x56dcaf['style'][_0x1a7351(0x162)]=_0x21280f+'px',_0x56dcaf[_0x1a7351(0x19f)][_0x1a7351(0x12e)]=_0x1a7351(0x163),_0x41a229[_0x1a7351(0x19f)][_0x1a7351(0x162)]=_0x21280f+'px',_0x41a229[_0x1a7351(0x19f)][_0x1a7351(0x12e)]='block',_0x41a229[_0x1a7351(0x1c1)]=String(_0x1a1888[_0x1a7351(0x122)]())['padStart'](0x2,'0')+':'+String(_0x1a1888[_0x1a7351(0x17c)]())[_0x1a7351(0x151)](0x2,'0');}function onScroll(){const _0x3b3eca=a3_0x340068,_0x19dccc=document[_0x3b3eca(0x15d)](_0x3b3eca(0xef)),_0x1a5668=document[_0x3b3eca(0x17b)](_0x3b3eca(0x133));for(let _0x4c62e1 of _0x1a5668)if(_0x4c62e1[_0x3b3eca(0x164)]>=_0x19dccc['scrollLeft']){const _0x4d98c5=new Date(_0x4c62e1['getAttribute']('data-date'));document[_0x3b3eca(0x15d)](_0x3b3eca(0xce))['textContent']=_0x4d98c5[_0x3b3eca(0x11f)]('ru',{'month':_0x3b3eca(0x1b7)})[_0x3b3eca(0x140)]()+'\x20'+_0x4d98c5['getFullYear']();break;}}function showToast(_0xb04e78){const _0x860f74=a3_0x340068,_0x20aea5=document[_0x860f74(0x15d)]('toast');_0x20aea5['textContent']=_0xb04e78,_0x20aea5[_0x860f74(0xdc)]['add'](_0x860f74(0xf7)),setTimeout(()=>_0x20aea5['classList'][_0x860f74(0x18c)](_0x860f74(0xf7)),0x7d0);}function handleInfiniteScroll(){const _0x1feb5c=a3_0x340068,_0x5ca1cd=document[_0x1feb5c(0x15d)](_0x1feb5c(0xef)),_0x5847a2=_0x5ca1cd[_0x1feb5c(0xf2)],_0xf230cf=_0x5ca1cd[_0x1feb5c(0x1ba)],_0x5ac0ca=_0x5ca1cd['clientWidth'];if(_0xf230cf-(_0x5847a2+_0x5ac0ca)<0x12c){const _0x1eadfa=endOffset;endOffset+=0xe,renderDayRange(_0x1eadfa+0x1,endOffset),reRenderBlocks();}if(_0x5847a2<0x12c){const _0x1576e7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1576e7-0x1),_0x5ca1cd['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5cb24c,_0x34fc21){const _0x5df79a=a3_0x340068,_0x5e340b=document[_0x5df79a(0x15d)]('daysHeaderTrack'),_0x3d2166=document[_0x5df79a(0x15d)](_0x5df79a(0x13a)),_0x39abad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3139ab=new Date();_0x3139ab['setHours'](0x0,0x0,0x0,0x0);const _0x1e8937=getLocalDateStr(new Date()),_0x3ea782=document[_0x5df79a(0xe3)](),_0x3a7d8f=document['createDocumentFragment']();for(let _0x8196ae=_0x5cb24c;_0x8196ae<=_0x34fc21;_0x8196ae++){const _0x3f1ef0=new Date(_0x3139ab);_0x3f1ef0[_0x5df79a(0x11e)](_0x3f1ef0[_0x5df79a(0x15b)]()+_0x8196ae);const _0x28cf98=getLocalDateStr(_0x3f1ef0);let _0x418438=_0x3f1ef0['getDay']()-0x1;if(_0x418438===-0x1)_0x418438=0x6;const _0x271148=_0x28cf98===_0x1e8937,_0x562c0e=document[_0x5df79a(0x1ad)]('div');_0x562c0e[_0x5df79a(0x10c)]='day-col-header\x20'+(_0x271148?'today':''),_0x562c0e['setAttribute'](_0x5df79a(0xfe),_0x28cf98),_0x562c0e[_0x5df79a(0xff)]=_0x5df79a(0x12c)+_0x39abad[_0x418438]+_0x5df79a(0x146)+_0x3f1ef0[_0x5df79a(0x15b)]()+'</div>',_0x3ea782[_0x5df79a(0x149)](_0x562c0e);const _0x1cb7c8=document[_0x5df79a(0x1ad)](_0x5df79a(0x179));_0x1cb7c8[_0x5df79a(0x10c)]='day-column\x20'+(_0x271148?'today':''),_0x1cb7c8[_0x5df79a(0x185)](_0x5df79a(0xfe),_0x28cf98),_0x1cb7c8[_0x5df79a(0x185)](_0x5df79a(0x10d),_0x418438),_0x3a7d8f[_0x5df79a(0x149)](_0x1cb7c8);}_0x5e340b[_0x5df79a(0x183)](_0x3ea782,_0x5e340b[_0x5df79a(0xe9)]),_0x3d2166['insertBefore'](_0x3a7d8f,_0x3d2166[_0x5df79a(0x1a9)](_0x5df79a(0xfb)));}function hexToRgba(_0x53131d,_0x2d52dd){const _0x43b497=a3_0x340068;let _0x489b40;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x43b497(0x11d)](_0x53131d))return _0x489b40=_0x53131d[_0x43b497(0x14d)](0x1)[_0x43b497(0x15c)](''),_0x489b40['length']==0x3&&(_0x489b40=[_0x489b40[0x0],_0x489b40[0x0],_0x489b40[0x1],_0x489b40[0x1],_0x489b40[0x2],_0x489b40[0x2]]),_0x489b40='0x'+_0x489b40['join'](''),'rgba('+[_0x489b40>>0x10&0xff,_0x489b40>>0x8&0xff,_0x489b40&0xff]['join'](',')+','+_0x2d52dd+')';return _0x43b497(0x188)+_0x2d52dd+')';}let confirmResolver=null;function showCustomConfirm(_0x2314a2,_0x1f0065,_0xbfd9d9=!![]){const _0x3de2f1=a3_0x340068;document[_0x3de2f1(0x15d)](_0x3de2f1(0x127))[_0x3de2f1(0x1c1)]=_0x2314a2,document[_0x3de2f1(0x15d)](_0x3de2f1(0x170))[_0x3de2f1(0x1c1)]=_0x1f0065;const _0x379f4b=document[_0x3de2f1(0x15d)](_0x3de2f1(0x134));return _0xbfd9d9?(_0x379f4b[_0x3de2f1(0x19f)][_0x3de2f1(0x193)]='#ff453a',_0x379f4b[_0x3de2f1(0x19f)][_0x3de2f1(0x19e)]=_0x3de2f1(0x11c)):(_0x379f4b['style'][_0x3de2f1(0x193)]=_0x3de2f1(0x106),_0x379f4b[_0x3de2f1(0x19f)][_0x3de2f1(0x19e)]=_0x3de2f1(0x11c)),new Promise(_0x12c4e1=>{const _0x4f8c43=_0x3de2f1;confirmResolver=_0x12c4e1,document[_0x4f8c43(0x15d)](_0x4f8c43(0x177))[_0x4f8c43(0xdc)][_0x4f8c43(0x18d)](_0x4f8c43(0x19b));});}function resolveCustomConfirm(_0x3b3c7e){const _0x37dbf3=a3_0x340068;document[_0x37dbf3(0x15d)](_0x37dbf3(0x177))[_0x37dbf3(0xdc)][_0x37dbf3(0x18c)](_0x37dbf3(0x19b));if(confirmResolver)confirmResolver(_0x3b3c7e);}async function tryCancelCurrentSession(){const _0x55fbb4=a3_0x340068;if(!currentSession)return;const _0x41dfeb=await showCustomConfirm(_0x55fbb4(0x172),_0x55fbb4(0x13d),!![]);if(!_0x41dfeb)return;const _0x2be9bf=currentSession;closeAllSheets(),sessions=sessions[_0x55fbb4(0x1a8)](_0x3876b2=>_0x3876b2['id']!==_0x2be9bf['id']),reRenderBlocks(),showToast(_0x55fbb4(0xe4)),lastUserActionTime=Date[_0x55fbb4(0xf9)]();try{const _0x5d5d3f=window[_0x55fbb4(0x129)]?.[_0x55fbb4(0x121)],_0xd591ee=await fetch(API_URL,{'method':_0x55fbb4(0x1c5),'body':JSON[_0x55fbb4(0x112)]({'action':_0x55fbb4(0x1a0),'init_data':_0x5d5d3f?.[_0x55fbb4(0x103)]||'','coachId':_0x2be9bf['coachId'],'dateStr':_0x2be9bf[_0x55fbb4(0x17e)],'sessionId':_0x2be9bf['id']})});if(_0xd591ee['ok'])DataManager[_0x55fbb4(0x17f)]();}catch(_0x30d831){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x5a8ad3=a3_0x340068;if(!currentSession)return;document[_0x5a8ad3(0x15d)](_0x5a8ad3(0xeb))[_0x5a8ad3(0xdc)][_0x5a8ad3(0x18c)]('open'),document[_0x5a8ad3(0x15d)](_0x5a8ad3(0x160))['classList'][_0x5a8ad3(0x18d)](_0x5a8ad3(0x1c0));const _0x2f480b=document['getElementById']('rsDatesTrack'),_0x136d3a=document[_0x5a8ad3(0x15d)](_0x5a8ad3(0x101));_0x2f480b[_0x5a8ad3(0xff)]='',_0x136d3a[_0x5a8ad3(0xff)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x470c9e,_0x3dc647]=currentSession[_0x5a8ad3(0xd8)][_0x5a8ad3(0x15c)](':')['map'](Number),[_0x15884d,_0x3106aa]=currentSession[_0x5a8ad3(0x10f)][_0x5a8ad3(0x15c)](':')[_0x5a8ad3(0x14b)](Number),_0x38b31c=_0x15884d*0x3c+_0x3106aa-(_0x470c9e*0x3c+_0x3dc647);try{const _0x3c5caf=window[_0x5a8ad3(0x129)]?.[_0x5a8ad3(0x121)],_0x41798e=await fetch(API_URL,{'method':'POST','body':JSON[_0x5a8ad3(0x112)]({'action':_0x5a8ad3(0x1aa),'coachId':currentSession['coachId'],'duration':_0x38b31c,'init_data':_0x3c5caf?.[_0x5a8ad3(0x103)]||'','excludeSessionId':currentSession['id']})}),_0x4362e6=await _0x41798e['json']();_0x4362e6['ok']&&_0x4362e6[_0x5a8ad3(0xe8)]?(availableSlotsCache=_0x4362e6[_0x5a8ad3(0xe8)],renderRescheduleDates()):_0x136d3a[_0x5a8ad3(0xff)]=_0x5a8ad3(0x12f);}catch(_0x4f5384){_0x136d3a[_0x5a8ad3(0xff)]=_0x5a8ad3(0xdb);}}function renderRescheduleDates(){const _0x1f69a0=a3_0x340068,_0x4bb915=document[_0x1f69a0(0x15d)]('rsDatesTrack');_0x4bb915['innerHTML']='';const _0x1dae60=Object[_0x1f69a0(0x138)](availableSlotsCache)[_0x1f69a0(0x186)](),_0x208318=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1dae60[_0x1f69a0(0x1a4)]===0x0){document[_0x1f69a0(0x15d)](_0x1f69a0(0x101))['innerHTML']=_0x1f69a0(0x1ac);return;}_0x1dae60[_0x1f69a0(0x18e)]((_0x415409,_0x54edea)=>{const _0x4a48f8=_0x1f69a0,_0x3646ca=new Date(_0x415409),_0x3fe04a=_0x208318[_0x3646ca[_0x4a48f8(0x174)]()],_0x3ec2b5=_0x3646ca[_0x4a48f8(0x15b)](),_0x400879=document[_0x4a48f8(0x1ad)](_0x4a48f8(0x179));_0x400879[_0x4a48f8(0x10c)]='rs-date-chip';if(_0x54edea===0x0)_0x400879[_0x4a48f8(0xdc)][_0x4a48f8(0x18d)]('active');_0x400879[_0x4a48f8(0xff)]='<div\x20class=\x22rs-day-name\x22>'+_0x3fe04a+'</div><div\x20class=\x22rs-day-num\x22>'+_0x3ec2b5+_0x4a48f8(0x156),_0x400879[_0x4a48f8(0xd2)]=()=>selectRsDate(_0x415409,_0x400879),_0x4bb915[_0x4a48f8(0x149)](_0x400879);}),selectRsDate(_0x1dae60[0x0],_0x4bb915[_0x1f69a0(0xe9)]);}function selectRsDate(_0x53cf73,_0x55befe){const _0x1e6fe5=a3_0x340068;selectedRsDate=_0x53cf73,document[_0x1e6fe5(0x17b)](_0x1e6fe5(0x108))[_0x1e6fe5(0x18e)](_0x23f3d7=>_0x23f3d7[_0x1e6fe5(0xdc)]['remove'](_0x1e6fe5(0x147)));if(_0x55befe)_0x55befe[_0x1e6fe5(0xdc)][_0x1e6fe5(0x18d)](_0x1e6fe5(0x147));const _0x416e50=document[_0x1e6fe5(0x15d)](_0x1e6fe5(0x101));_0x416e50[_0x1e6fe5(0xff)]='';const _0xc37c40=availableSlotsCache[_0x53cf73]||[];if(_0xc37c40[_0x1e6fe5(0x1a4)]===0x0){_0x416e50['innerHTML']=_0x1e6fe5(0x12f);return;}_0xc37c40['forEach'](_0x1de035=>{const _0x10729e=_0x1e6fe5,_0x5fc154=document[_0x10729e(0x1ad)](_0x10729e(0x107));_0x5fc154['className']=_0x10729e(0x167),_0x5fc154[_0x10729e(0x1c1)]=_0x1de035,_0x5fc154[_0x10729e(0xd2)]=()=>confirmReschedule(_0x1de035),_0x416e50[_0x10729e(0x149)](_0x5fc154);});}async function confirmReschedule(_0x393306){const _0x4850b1=a3_0x340068,_0x6c1d4=new Date(selectedRsDate),_0x57a57e=_0x6c1d4[_0x4850b1(0x13e)](_0x4850b1(0x15e),{'day':'numeric','month':_0x4850b1(0x1b7)}),_0x452ebc=await showCustomConfirm(_0x4850b1(0xd9),_0x4850b1(0x13b)+_0x57a57e+_0x4850b1(0x153)+_0x393306+'?',![]);if(!_0x452ebc)return;closeAllSheets(),showToast(_0x4850b1(0x182)),lastUserActionTime=Date['now']();const _0x1a03ce=currentSession[_0x4850b1(0x17e)],_0x2d7d1b=currentSession['id'],[_0x4afd91,_0x567ee7]=currentSession['start'][_0x4850b1(0x15c)](':')[_0x4850b1(0x14b)](Number),[_0x40cfc9,_0x16786a]=currentSession[_0x4850b1(0x10f)][_0x4850b1(0x15c)](':')[_0x4850b1(0x14b)](Number),_0x210214=_0x40cfc9*0x3c+_0x16786a-(_0x4afd91*0x3c+_0x567ee7),[_0x33c6a4,_0x12e9c5]=_0x393306['split'](':')['map'](Number),_0x41020b=_0x33c6a4*0x3c+_0x12e9c5+_0x210214,_0x3ea177=Math[_0x4850b1(0x15a)](_0x41020b/0x3c),_0x2c2814=_0x41020b%0x3c,_0x25e031=String(_0x3ea177)[_0x4850b1(0x151)](0x2,'0')+':'+String(_0x2c2814)[_0x4850b1(0x151)](0x2,'0'),_0x4bb967=sessions[_0x4850b1(0xd4)](_0x32f9b4=>_0x32f9b4['id']===_0x2d7d1b);_0x4bb967!==-0x1&&(sessions[_0x4bb967]['dateStr']=selectedRsDate,sessions[_0x4bb967]['start']=_0x393306,sessions[_0x4bb967][_0x4850b1(0x10f)]=_0x25e031,reRenderBlocks());try{const _0x4712b9=window[_0x4850b1(0x129)]?.[_0x4850b1(0x121)],_0xad4446=await fetch(API_URL,{'method':_0x4850b1(0x1c5),'body':JSON[_0x4850b1(0x112)]({'action':_0x4850b1(0x1b3),'init_data':_0x4712b9?.[_0x4850b1(0x103)]||'','oldSessionId':_0x2d7d1b,'oldDate':_0x1a03ce,'newDate':selectedRsDate,'newTime':_0x393306,'coachId':currentSession['coachId']})}),_0x29a83f=await _0xad4446[_0x4850b1(0x16d)]();!_0x29a83f['ok']?(showToast(_0x4850b1(0x178)),DataManager['syncLoad']()):(showToast(_0x4850b1(0x135)),DataManager[_0x4850b1(0x17f)]());}catch(_0x46a8d2){showToast(_0x4850b1(0x1bc));}}document[a3_0x340068(0x161)](a3_0x340068(0xcb),init);