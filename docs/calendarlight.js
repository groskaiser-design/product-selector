const a3_0x300f83=a3_0xd2b5;(function(_0x32b0ee,_0x2fc0db){const _0x13ec41=a3_0xd2b5,_0x32fed9=_0x32b0ee();while(!![]){try{const _0x2d69ba=parseInt(_0x13ec41(0x156))/0x1+-parseInt(_0x13ec41(0x162))/0x2+parseInt(_0x13ec41(0x1fb))/0x3+parseInt(_0x13ec41(0x1c4))/0x4+-parseInt(_0x13ec41(0x193))/0x5+-parseInt(_0x13ec41(0x1cd))/0x6*(parseInt(_0x13ec41(0x175))/0x7)+parseInt(_0x13ec41(0x12b))/0x8*(-parseInt(_0x13ec41(0x127))/0x9);if(_0x2d69ba===_0x2fc0db)break;else _0x32fed9['push'](_0x32fed9['shift']());}catch(_0x481f54){_0x32fed9['push'](_0x32fed9['shift']());}}}(a3_0x20f4,0x45680));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x300f83(0x12f),GRID_H=0x3c,KEY_SESSIONS=a3_0x300f83(0x207),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x300f83(0x16f);function a3_0x20f4(){const _0x4cf09a=['anEnd','div','sid','978111uyFnzj','firstChild','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','WebApp','disableVerticalSwipes','stringify','button','clientWidth','block','Error\x20setting\x20color:','padStart','<div\x20class=\x22dch-day\x22>','uc_client_sessions','calc(','numeric','getMinutes','#050505','expand','\x20—á.','data-date','user','min','onclick','toLocaleDateString','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','rgba(','9FZZnSw','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','all','detDate','2165432NmWvwM','</div><div\x20class=\x22dch-num\x22>','\x20status-completed','test','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','height','.day-col-header','scrollLeft','then','Telegram','T00:00:00','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</span>\x20/\x20','pattern','–∑–∞\x20','textContent','initDataUnsafe','mini','error','clientId','600','innerHTML','anTotalStats','week','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','matrixViewport','querySelectorAll','strokeDashoffset','visible','getAttribute','classList','filter','Error\x20setting\x20back\x20button:','custom','scrollTop','none','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.rs-date-chip','timeColumn','var(--acc-blue)','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','.day-column','color','509939UAUWUK','ru-RU','#ff453a','daysHeaderTrack','search','createElement','join','location',':00</span>','anDonutCircle','constructor','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','229770Ymkzkt','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','client-stat-card','isArray','width','overlay','rs-time-btn','querySelector','substring','borderLeftColor','long','fontWeight','anPercent','uc_client_list','parse','DOMContentLoaded','getElementById','getDay','blocked-range-part\x20stripe-bg','7jFsrPO','settings','dateStr','detTime','ccYesBtn','keys','toast','time-label','calendar','rescheduleSheet','rs-date-chip','%\x20+\x202px)','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','getDate','setHours','client_load','coach_profiles','analyticsList','loadLocal','cancel_window','add','className','forEach','Unknown','clients','#0a84ff','event-card','now','zIndex','detNote','742145jIkULH','getFullYear','analyticsSheet','map','insertBefore','appendChild','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','syncLoad','exceptions','setDate','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','toLocaleString','globalTimeLine','total','scrollWidth','day-col-header\x20','ccTitle','anCustomDates','getItem','getHours','startsWith','px\x200px','toString','timeLineBadge','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','Critical\x20TMA\x20Error:','auto','reschedule','setMonth','today','push','addEventListener','.btn-cancel','setAttribute','</div>','ccText','getTime','display','anStart','style','backgroundPosition','\x20–≤\x20','.day-col-header[data-date=\x22','left','cancelled','POST','data','applyData','var(--acc-green)','327752PjgeeP','.sheet','month','open','length','findIndex','getMonth','status','coachId','597798pwzdsL','gridColumns','find','\x20–∏–∑\x20','done','floor','day-column\x20','colIndex','json','rsSlotsGrid','ranges','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','remove','end','active','setItem','sort','scroll','data-day-idx','top','saveLocally','BackButton','setHeaderColor','initData','<div\x20class=\x22rs-day-name\x22>','completed','detailsSheet','\x20-\x20','planned','log','show','detStatus','max','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','(((.+)+)+)+$','start','rsDatesTrack','offsetLeft','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','createDocumentFragment','value','toUpperCase','split'];a3_0x20f4=function(){return _0x4cf09a;};return a3_0x20f4();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x300f83(0x142),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5d79a4=a3_0x300f83,_0x2f9ba3=(function(){let _0x525494=!![];return function(_0xfb9c22,_0x530c8c){const _0x33b954=_0x525494?function(){if(_0x530c8c){const _0xa4d8e6=_0x530c8c['apply'](_0xfb9c22,arguments);return _0x530c8c=null,_0xa4d8e6;}}:function(){};return _0x525494=![],_0x33b954;};}()),_0x2c23ba=_0x2f9ba3(this,function(){const _0x8d7d50=a3_0xd2b5;return _0x2c23ba[_0x8d7d50(0x1a9)]()[_0x8d7d50(0x15a)]('(((.+)+)+)+$')[_0x8d7d50(0x1a9)]()[_0x8d7d50(0x160)](_0x2c23ba)['search'](_0x8d7d50(0x1ef));});_0x2c23ba();try{const _0xb01ff5=window[_0x5d79a4(0x134)]?.[_0x5d79a4(0x1fe)];if(!_0xb01ff5)return;_0xb01ff5['ready'](),_0xb01ff5[_0x5d79a4(0x11e)]();try{_0xb01ff5[_0x5d79a4(0x1e3)](_0x5d79a4(0x20b)),_0xb01ff5['setBackgroundColor']&&_0xb01ff5['setBackgroundColor'](_0x5d79a4(0x20b));}catch(_0xae5581){console[_0x5d79a4(0x1ea)](_0x5d79a4(0x204),_0xae5581);}try{_0xb01ff5['BackButton']&&(_0xb01ff5[_0x5d79a4(0x1e2)][_0x5d79a4(0x1eb)](),_0xb01ff5['BackButton']['offClick'](),_0xb01ff5['BackButton']['onClick'](function(){const _0x37f716=_0x5d79a4;window[_0x37f716(0x15d)]['href']='router.html';}));}catch(_0x29e4bd){console[_0x5d79a4(0x1ea)](_0x5d79a4(0x14b),_0x29e4bd);}try{if(_0xb01ff5[_0x5d79a4(0x1ff)])_0xb01ff5[_0x5d79a4(0x1ff)]();}catch(_0x5aa06b){}}catch(_0x30db1a){console[_0x5d79a4(0x13d)](_0x5d79a4(0x1ac),_0x30db1a);}}());function isAdmin(){const _0x885434=a3_0x300f83;try{const _0x50db3f=Number(window[_0x885434(0x134)]?.[_0x885434(0x1fe)]?.[_0x885434(0x13b)]?.[_0x885434(0x121)]?.['id']);return _0x50db3f===0xbaf7174;}catch(_0x1dac3b){return![];}}const DataManager={'saveLocally'(){const _0x1639c7=a3_0x300f83;try{localStorage[_0x1639c7(0x1dc)](KEY_SESSIONS,JSON[_0x1639c7(0x200)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x1639c7(0x200)](clients)),localStorage[_0x1639c7(0x1dc)](KEY_SETTINGS,JSON[_0x1639c7(0x200)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2b30af){}},'loadLocal'(){const _0x1cf955=a3_0x300f83;try{const _0x1c5de1=localStorage[_0x1cf955(0x1a5)](KEY_SESSIONS);if(_0x1c5de1)sessions=JSON['parse'](_0x1c5de1);const _0x2eb910=localStorage[_0x1cf955(0x1a5)](KEY_CLIENTS);if(_0x2eb910)clients=JSON[_0x1cf955(0x170)](_0x2eb910);const _0x3db794=localStorage['getItem'](KEY_SETTINGS);if(_0x3db794){const _0x144c86=JSON['parse'](_0x3db794);if(_0x144c86[_0x1cf955(0x138)])availabilityPattern=_0x144c86[_0x1cf955(0x138)];if(_0x144c86[_0x1cf955(0x1d7)])specialRanges=_0x144c86[_0x1cf955(0x1d7)];if(_0x144c86['exceptions'])dateExceptions=_0x144c86['exceptions'];}}catch(_0x2d5605){}},async 'syncLoad'(){const _0x66cafc=a3_0x300f83,_0x547cda=new Date(),_0x122f9a=_0x547cda[_0x66cafc(0x194)]()+'-'+String(_0x547cda[_0x66cafc(0x1ca)]()+0x1)[_0x66cafc(0x205)](0x2,'0'),_0x153ac9=new Date(_0x547cda);_0x153ac9[_0x66cafc(0x1af)](_0x547cda[_0x66cafc(0x1ca)]()+0x1);const _0x5027b6=_0x153ac9[_0x66cafc(0x194)]()+'-'+String(_0x153ac9[_0x66cafc(0x1ca)]()+0x1)[_0x66cafc(0x205)](0x2,'0'),_0x179553=Date[_0x66cafc(0x190)]();try{const _0x397036=window[_0x66cafc(0x134)]?.[_0x66cafc(0x1fe)],_0x257b6e=_0x397036?.['initData']||'',[_0x413d11,_0x476593]=await Promise[_0x66cafc(0x129)]([fetch(API_URL,{'method':_0x66cafc(0x1c0),'body':JSON['stringify']({'action':_0x66cafc(0x184),'init_data':_0x257b6e,'month_str':_0x122f9a})})[_0x66cafc(0x133)](_0x490c6c=>_0x490c6c[_0x66cafc(0x1d5)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x257b6e,'month_str':_0x5027b6})})[_0x66cafc(0x133)](_0x5f31b2=>_0x5f31b2[_0x66cafc(0x1d5)]())]);if(lastUserActionTime>_0x179553){console[_0x66cafc(0x1ea)](_0x66cafc(0x1fd));return;}if(_0x413d11['ok'])this[_0x66cafc(0x1c2)](_0x413d11[_0x66cafc(0x1c1)],_0x122f9a);if(_0x476593['ok'])this[_0x66cafc(0x1c2)](_0x476593['data'],_0x5027b6);this[_0x66cafc(0x1e1)]();}catch(_0xeaea13){}},'applyData'(_0x3ab63e,_0x4a214c){const _0xc05857=a3_0x300f83;if(!_0x3ab63e)return;if(_0x3ab63e[_0xc05857(0x176)]){if(_0x3ab63e[_0xc05857(0x176)][_0xc05857(0x138)])availabilityPattern=_0x3ab63e[_0xc05857(0x176)][_0xc05857(0x138)];if(_0x3ab63e[_0xc05857(0x176)]['ranges'])specialRanges=_0x3ab63e[_0xc05857(0x176)]['ranges'];if(_0x3ab63e[_0xc05857(0x176)][_0xc05857(0x19b)])dateExceptions=_0x3ab63e[_0xc05857(0x176)][_0xc05857(0x19b)];}if(_0x3ab63e[_0xc05857(0x18d)]&&Array[_0xc05857(0x165)](_0x3ab63e[_0xc05857(0x18d)]))clients=_0x3ab63e[_0xc05857(0x18d)];_0x3ab63e[_0xc05857(0x185)]&&(coachProfiles={...coachProfiles,..._0x3ab63e['coach_profiles']}),_0x3ab63e['calendar']&&(sessions=sessions['filter'](_0x1fc4d4=>!_0x1fc4d4[_0xc05857(0x177)][_0xc05857(0x1a7)](_0x4a214c)),Object[_0xc05857(0x17a)](_0x3ab63e[_0xc05857(0x17d)])['forEach'](_0x4ff8=>{const _0x2032ef=_0xc05857,_0x432357=_0x3ab63e[_0x2032ef(0x17d)][_0x4ff8];_0x432357['forEach'](_0x196dd8=>{const _0x19dd7f=_0x2032ef;sessions['push']({'id':_0x196dd8['i'],'clientId':_0x196dd8['c'],'coachId':_0x196dd8['cid'],'dateStr':_0x4a214c+'-'+_0x4ff8[_0x19dd7f(0x205)](0x2,'0'),'start':_0x196dd8['s'],'end':_0x196dd8['e'],'note':_0x196dd8['n']||'','status':_0x196dd8['st']||_0x19dd7f(0x1e9),'seriesId':_0x196dd8[_0x19dd7f(0x1fa)]});});})),reRenderBlocks();}};function init(){const _0x4f18ff=a3_0x300f83;DataManager[_0x4f18ff(0x187)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4f18ff(0x172)](_0x4f18ff(0x144))[_0x4f18ff(0x1b2)](_0x4f18ff(0x1de),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4f18ff(0x19a)]();}function renderTimeColumn(){const _0x59ad29=a3_0x300f83,_0x323260=document[_0x59ad29(0x172)](_0x59ad29(0x151)),_0x2d406e=document[_0x59ad29(0x172)](_0x59ad29(0x1aa));_0x323260[_0x59ad29(0x140)]='',_0x323260[_0x59ad29(0x198)](_0x2d406e);for(let _0x35f085=0x0;_0x35f085<0x18;_0x35f085++){const _0x382c26=document[_0x59ad29(0x15b)](_0x59ad29(0x1f9));_0x382c26['className']=_0x59ad29(0x17c);if(_0x35f085>0x0)_0x382c26[_0x59ad29(0x140)]='<span>'+String(_0x35f085)[_0x59ad29(0x205)](0x2,'0')+_0x59ad29(0x15e);_0x323260[_0x59ad29(0x198)](_0x382c26);}}function renderDayRange(_0x27a515,_0x2fa250){const _0x3ca7e2=a3_0x300f83,_0x3ed647=document['getElementById'](_0x3ca7e2(0x159)),_0x4ebd20=document[_0x3ca7e2(0x172)](_0x3ca7e2(0x1ce)),_0x59341f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x178e6b=new Date();_0x178e6b[_0x3ca7e2(0x183)](0x0,0x0,0x0,0x0);const _0x439ad2=getLocalDateStr(new Date());for(let _0xfed901=_0x27a515;_0xfed901<=_0x2fa250;_0xfed901++){const _0x5ea79b=new Date(_0x178e6b);_0x5ea79b[_0x3ca7e2(0x19c)](_0x5ea79b[_0x3ca7e2(0x182)]()+_0xfed901);const _0x46d506=getLocalDateStr(_0x5ea79b);let _0x1ec806=_0x5ea79b[_0x3ca7e2(0x173)]()-0x1;if(_0x1ec806===-0x1)_0x1ec806=0x6;const _0x234f8f=_0x46d506===_0x439ad2,_0x3f1f0a=document[_0x3ca7e2(0x15b)](_0x3ca7e2(0x1f9));_0x3f1f0a[_0x3ca7e2(0x18a)]='day-col-header\x20'+(_0x234f8f?_0x3ca7e2(0x1b0):''),_0x3f1f0a[_0x3ca7e2(0x1b4)](_0x3ca7e2(0x120),_0x46d506),_0x3f1f0a[_0x3ca7e2(0x140)]=_0x3ca7e2(0x206)+_0x59341f[_0x1ec806]+_0x3ca7e2(0x12c)+_0x5ea79b[_0x3ca7e2(0x182)]()+_0x3ca7e2(0x1b5),_0x3ed647['appendChild'](_0x3f1f0a);const _0x4968b7=document[_0x3ca7e2(0x15b)]('div');_0x4968b7['className']=_0x3ca7e2(0x1d3)+(_0x234f8f?_0x3ca7e2(0x1b0):''),_0x4968b7['setAttribute'](_0x3ca7e2(0x120),_0x46d506),_0x4968b7[_0x3ca7e2(0x1b4)]('data-day-idx',_0x1ec806),_0x4ebd20[_0x3ca7e2(0x198)](_0x4968b7);}}function reRenderBlocks(){const _0x28fb03=a3_0x300f83;document['querySelectorAll'](_0x28fb03(0x154))['forEach'](_0x5b20b5=>{const _0x87d209=_0x28fb03;_0x5b20b5[_0x87d209(0x145)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x87d209(0x18b)](_0x11816e=>_0x11816e[_0x87d209(0x1d9)]());const _0xa44b42=_0x5b20b5[_0x87d209(0x148)](_0x87d209(0x120)),_0x31c419=parseInt(_0x5b20b5[_0x87d209(0x148)](_0x87d209(0x1df))),_0x5e89c1=Math['round'](_0x5b20b5[_0x87d209(0x1f2)]);(availabilityPattern[_0x31c419]||[])[_0x87d209(0x18b)](_0x4c2933=>{const _0x3a5bff=_0x87d209,_0x1bd6f9=document['createElement']('div');_0x1bd6f9['className']='blocked-slot\x20stripe-bg',_0x1bd6f9[_0x3a5bff(0x1ba)][_0x3a5bff(0x1e0)]=_0x4c2933*GRID_H+'px',_0x1bd6f9[_0x3a5bff(0x1ba)][_0x3a5bff(0x1bb)]='-'+_0x5e89c1+'px\x20-'+_0x4c2933*GRID_H+'px',_0x5b20b5[_0x3a5bff(0x198)](_0x1bd6f9);});if(specialRanges[_0x87d209(0x1c8)]>0x0){const _0xf3bdcf=new Date(_0xa44b42+_0x87d209(0x135))[_0x87d209(0x1b7)](),_0x19a24a=new Date(_0xa44b42+'T23:59:59')[_0x87d209(0x1b7)]();specialRanges[_0x87d209(0x18b)](_0x6f3a6b=>{const _0x5b1957=_0x87d209,_0x4cb6d0=new Date(_0x6f3a6b[_0x5b1957(0x1f0)])['getTime'](),_0x5d14d5=new Date(_0x6f3a6b[_0x5b1957(0x1da)])[_0x5b1957(0x1b7)](),_0x3bf978=Math['max'](_0xf3bdcf,_0x4cb6d0),_0xdde03b=Math[_0x5b1957(0x122)](_0x19a24a,_0x5d14d5);if(_0x3bf978<_0xdde03b){const _0x314aad=(_0x3bf978-_0xf3bdcf)/0x36ee80*GRID_H,_0xe05be5=(_0xdde03b-_0x3bf978)/0x36ee80*GRID_H,_0x12b24e=document[_0x5b1957(0x15b)](_0x5b1957(0x1f9));_0xe05be5>=23.5*GRID_H?(_0x12b24e[_0x5b1957(0x18a)]='day-off-overlay\x20stripe-bg',_0x12b24e[_0x5b1957(0x1ba)][_0x5b1957(0x1bb)]='-'+_0x5e89c1+_0x5b1957(0x1a8)):(_0x12b24e['className']=_0x5b1957(0x174),_0x12b24e[_0x5b1957(0x1ba)][_0x5b1957(0x1e0)]=_0x314aad+'px',_0x12b24e[_0x5b1957(0x1ba)]['height']=_0xe05be5+'px',_0x12b24e['style'][_0x5b1957(0x1bb)]='-'+_0x5e89c1+'px\x20-'+_0x314aad+'px'),_0x5b20b5[_0x5b1957(0x198)](_0x12b24e);}});}renderEventsForColumn(_0x5b20b5,_0xa44b42);});}function renderEventsForColumn(_0x256f9b,_0x559e39){const _0x15f817=a3_0x300f83,_0xe69483=sessions[_0x15f817(0x14a)](_0x2978d3=>_0x2978d3[_0x15f817(0x177)]===_0x559e39),_0x320a4e=_0xe69483[_0x15f817(0x196)](_0x41e76c=>{const _0x243838=_0x15f817,[_0xc9bcba,_0x11d83a]=_0x41e76c[_0x243838(0x1f0)][_0x243838(0x1f7)](':')['map'](Number),[_0x526d2f,_0x3818ec]=_0x41e76c[_0x243838(0x1da)]['split'](':')[_0x243838(0x196)](Number);return{'data':_0x41e76c,'start':_0xc9bcba*0x3c+_0x11d83a,'end':_0x526d2f*0x3c+_0x3818ec,'colIndex':0x0};});_0x320a4e[_0x15f817(0x1dd)]((_0xdd924c,_0xac9f05)=>_0xdd924c[_0x15f817(0x1f0)]-_0xac9f05[_0x15f817(0x1f0)]||_0xac9f05[_0x15f817(0x1da)]-_0xac9f05['start']-(_0xdd924c['end']-_0xdd924c[_0x15f817(0x1f0)]));const _0x3dd4c7=[];_0x320a4e[_0x15f817(0x18b)](_0x4bfbf9=>{const _0x582e9e=_0x15f817;let _0x3cfb41=![];for(let _0x41ac82=0x0;_0x41ac82<_0x3dd4c7[_0x582e9e(0x1c8)];_0x41ac82++){const _0xbd2d40=_0x3dd4c7[_0x41ac82];if(_0x4bfbf9[_0x582e9e(0x1f0)]>=_0xbd2d40[_0xbd2d40['length']-0x1][_0x582e9e(0x1da)]){_0xbd2d40['push'](_0x4bfbf9),_0x4bfbf9['colIndex']=_0x41ac82,_0x3cfb41=!![];break;}}!_0x3cfb41&&(_0x3dd4c7[_0x582e9e(0x1b1)]([_0x4bfbf9]),_0x4bfbf9[_0x582e9e(0x1d4)]=_0x3dd4c7[_0x582e9e(0x1c8)]-0x1);}),_0x320a4e['forEach'](_0x4fbfa4=>{const _0x5a5bf2=_0x15f817;let _0x136351=0x0;_0x320a4e[_0x5a5bf2(0x18b)](_0x21f1eb=>{const _0x24f0e5=_0x5a5bf2;if(Math['max'](_0x4fbfa4[_0x24f0e5(0x1f0)],_0x21f1eb[_0x24f0e5(0x1f0)])<Math['min'](_0x4fbfa4['end'],_0x21f1eb[_0x24f0e5(0x1da)])&&_0x21f1eb[_0x24f0e5(0x1d4)]>_0x136351)_0x136351=_0x21f1eb['colIndex'];});const _0x2e9f13=_0x136351+0x1,_0x4b556d=0x64/_0x2e9f13,_0x382173=_0x4fbfa4[_0x5a5bf2(0x1d4)]*_0x4b556d,_0x26f6ce=document[_0x5a5bf2(0x15b)](_0x5a5bf2(0x1f9)),_0x2bb2ad=_0x4fbfa4[_0x5a5bf2(0x1c1)];let _0x41a1ca='#0a84ff';if(clients&&clients[_0x5a5bf2(0x1c8)]>0x0){const _0x1c77b6=clients[_0x5a5bf2(0x1cf)](_0x22ba1c=>String(_0x22ba1c['id'])===String(_0x2bb2ad[_0x5a5bf2(0x13e)]));if(_0x1c77b6&&_0x1c77b6['color'])_0x41a1ca=_0x1c77b6[_0x5a5bf2(0x155)];}const _0x4157fa=_0x2bb2ad['status']==='completed',_0x35b7b7=_0x4157fa?0x1:0.45;_0x26f6ce[_0x5a5bf2(0x18a)]=_0x5a5bf2(0x18f)+(_0x4157fa?_0x5a5bf2(0x12d):''),_0x26f6ce[_0x5a5bf2(0x1ba)]['backgroundColor']=hexToRgba(_0x41a1ca,_0x35b7b7),_0x26f6ce[_0x5a5bf2(0x1ba)][_0x5a5bf2(0x16b)]=_0x41a1ca;const _0x230384=_0x4fbfa4[_0x5a5bf2(0x1f0)]/0x3c*GRID_H,_0x398180=(_0x4fbfa4[_0x5a5bf2(0x1da)]-_0x4fbfa4['start'])/0x3c*GRID_H;_0x26f6ce[_0x5a5bf2(0x1ba)][_0x5a5bf2(0x1e0)]=_0x230384+'px',_0x26f6ce[_0x5a5bf2(0x1ba)][_0x5a5bf2(0x130)]=Math[_0x5a5bf2(0x1ed)](_0x398180,0x14)+'px',_0x26f6ce['style'][_0x5a5bf2(0x166)]=_0x5a5bf2(0x208)+_0x4b556d+'%\x20-\x204px)',_0x26f6ce['style'][_0x5a5bf2(0x1be)]=_0x5a5bf2(0x208)+_0x382173+_0x5a5bf2(0x180),_0x26f6ce[_0x5a5bf2(0x1ba)][_0x5a5bf2(0x191)]=0xa+_0x4fbfa4[_0x5a5bf2(0x1d4)];if(_0x4b556d<0x55)_0x26f6ce['classList']['add'](_0x5a5bf2(0x13c));let _0x326d19='';if(_0x2bb2ad['seriesId'])_0x326d19+=_0x5a5bf2(0x136);if(_0x4157fa)_0x326d19+=_0x5a5bf2(0x163);_0x26f6ce['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x2bb2ad[_0x5a5bf2(0x1f0)]+_0x5a5bf2(0x1e8)+_0x2bb2ad[_0x5a5bf2(0x1da)]+_0x5a5bf2(0x14f)+_0x326d19+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x26f6ce[_0x5a5bf2(0x123)]=_0x3d9d6b=>{_0x3d9d6b['stopPropagation'](),openDetails(_0x2bb2ad);},_0x256f9b[_0x5a5bf2(0x198)](_0x26f6ce);});}function openAnalytics(){const _0x43d2e5=a3_0x300f83,_0x12e13a=document[_0x43d2e5(0x169)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x12e13a),openSheet(_0x43d2e5(0x195));}function setAnalyticsPeriod(_0x4b5695,_0x253e34){const _0x2d804f=a3_0x300f83;currentAnPeriod=_0x4b5695,document[_0x2d804f(0x145)]('.period-switch\x20.p-btn')['forEach'](_0x140041=>_0x140041[_0x2d804f(0x149)][_0x2d804f(0x1d9)](_0x2d804f(0x1db)));if(_0x253e34)_0x253e34[_0x2d804f(0x149)][_0x2d804f(0x189)](_0x2d804f(0x1db));const _0x133d21=document[_0x2d804f(0x172)](_0x2d804f(0x1a4));_0x133d21[_0x2d804f(0x1ba)][_0x2d804f(0x1b8)]=_0x4b5695===_0x2d804f(0x14c)?'flex':'none';const _0xdb8da2=new Date();let _0x51068f=new Date(),_0x452364=new Date();if(_0x4b5695==='week')_0x51068f=getStartOfWeek(_0xdb8da2),_0x452364=new Date(_0x51068f),_0x452364[_0x2d804f(0x19c)](_0x452364[_0x2d804f(0x182)]()+0x6);else{if(_0x4b5695===_0x2d804f(0x1c6))_0x51068f=new Date(_0xdb8da2[_0x2d804f(0x194)](),_0xdb8da2['getMonth'](),0x1),_0x452364=new Date(_0xdb8da2[_0x2d804f(0x194)](),_0xdb8da2['getMonth']()+0x1,0x0);else{!document[_0x2d804f(0x172)](_0x2d804f(0x1b9))[_0x2d804f(0x1f5)]&&(document[_0x2d804f(0x172)]('anStart')['value']=getLocalDateStr(_0xdb8da2),document[_0x2d804f(0x172)](_0x2d804f(0x1f8))['value']=getLocalDateStr(_0xdb8da2));refreshAnalytics();return;}}document[_0x2d804f(0x172)](_0x2d804f(0x1b9))[_0x2d804f(0x1f5)]=getLocalDateStr(_0x51068f),document[_0x2d804f(0x172)](_0x2d804f(0x1f8))[_0x2d804f(0x1f5)]=getLocalDateStr(_0x452364),refreshAnalytics();}function refreshAnalytics(){const _0x3b6a50=a3_0x300f83,_0x156186=document['getElementById'](_0x3b6a50(0x1b9))[_0x3b6a50(0x1f5)],_0x3224ec=document[_0x3b6a50(0x172)](_0x3b6a50(0x1f8))[_0x3b6a50(0x1f5)];if(!_0x156186||!_0x3224ec)return;const _0x23ad97=sessions[_0x3b6a50(0x14a)](_0x43cdb9=>_0x43cdb9[_0x3b6a50(0x177)]>=_0x156186&&_0x43cdb9[_0x3b6a50(0x177)]<=_0x3224ec&&_0x43cdb9[_0x3b6a50(0x1cb)]!==_0x3b6a50(0x1bf)),_0x41b918=_0x23ad97['length'],_0x5a991e=_0x23ad97[_0x3b6a50(0x14a)](_0x40c375=>_0x40c375[_0x3b6a50(0x1cb)]===_0x3b6a50(0x1e6))[_0x3b6a50(0x1c8)],_0x3aff74=_0x41b918>0x0?Math['round'](_0x5a991e/_0x41b918*0x64):0x0;document['getElementById'](_0x3b6a50(0x16e))[_0x3b6a50(0x13a)]=_0x3aff74+'%',document[_0x3b6a50(0x172)](_0x3b6a50(0x141))['textContent']=_0x5a991e+_0x3b6a50(0x1d0)+_0x41b918+_0x3b6a50(0x1d8);const _0x5cfba5=document['getElementById'](_0x3b6a50(0x15f)),_0x14d449=0x2*Math['PI']*0x23,_0x3e8c8d=_0x14d449-_0x3aff74/0x64*_0x14d449;_0x5cfba5['style'][_0x3b6a50(0x146)]=_0x3e8c8d;const _0x599f8f={};_0x23ad97[_0x3b6a50(0x18b)](_0x54e87e=>{const _0x145a25=_0x3b6a50,_0x1c316a=_0x54e87e['coachId']||_0x145a25(0x18c);if(!_0x599f8f[_0x1c316a]){const _0x52ff2e='#'+_0x1c316a[_0x145a25(0x1a9)]()['substr'](0x0,0x6);_0x599f8f[_0x1c316a]={'total':0x0,'done':0x0,'color':_0x52ff2e};}_0x599f8f[_0x1c316a]['total']++;if(_0x54e87e['status']==='completed')_0x599f8f[_0x1c316a][_0x145a25(0x1d1)]++;});const _0x1aab1b=document[_0x3b6a50(0x172)](_0x3b6a50(0x186));_0x1aab1b['innerHTML']='';const _0x5e6e40=Object['entries'](_0x599f8f)[_0x3b6a50(0x1dd)]((_0x57a309,_0x5a92f6)=>_0x5a92f6[0x1][_0x3b6a50(0x1a0)]-_0x57a309[0x1][_0x3b6a50(0x1a0)]);if(_0x5e6e40[_0x3b6a50(0x1c8)]===0x0){_0x1aab1b[_0x3b6a50(0x140)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x5e6e40[_0x3b6a50(0x18b)](([_0x43d36e,_0x52c6c6])=>{const _0x2e92c8=_0x3b6a50,_0x199c19=Math['round'](_0x52c6c6[_0x2e92c8(0x1d1)]/_0x52c6c6[_0x2e92c8(0x1a0)]*0x64),_0x3c3eb7=document[_0x2e92c8(0x15b)](_0x2e92c8(0x1f9));_0x3c3eb7['className']=_0x2e92c8(0x164),_0x3c3eb7[_0x2e92c8(0x1ba)][_0x2e92c8(0x16b)]=_0x52c6c6[_0x2e92c8(0x155)],_0x3c3eb7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x43d36e['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x52c6c6['done']+_0x2e92c8(0x137)+_0x52c6c6[_0x2e92c8(0x1a0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x199c19+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1aab1b[_0x2e92c8(0x198)](_0x3c3eb7);});}function openDetails(_0x338955){const _0x3c0ee3=a3_0x300f83;currentSession=_0x338955;const _0x3c4caa=new Date(_0x338955[_0x3c0ee3(0x177)]),_0x212148=_0x3c4caa[_0x3c0ee3(0x124)](_0x3c0ee3(0x157),{'weekday':_0x3c0ee3(0x16c),'day':_0x3c0ee3(0x209),'month':'long'});document[_0x3c0ee3(0x172)](_0x3c0ee3(0x12a))[_0x3c0ee3(0x13a)]=_0x212148['charAt'](0x0)[_0x3c0ee3(0x1f6)]()+_0x212148['slice'](0x1),document[_0x3c0ee3(0x172)](_0x3c0ee3(0x178))[_0x3c0ee3(0x13a)]=_0x338955[_0x3c0ee3(0x1f0)]+'\x20-\x20'+_0x338955[_0x3c0ee3(0x1da)],document['getElementById'](_0x3c0ee3(0x192))[_0x3c0ee3(0x13a)]=_0x338955['note']||_0x3c0ee3(0x153);const _0x3bcab5=document[_0x3c0ee3(0x172)](_0x3c0ee3(0x1ec)),_0x4550e1=document[_0x3c0ee3(0x172)]('cancelContainer'),_0x574f47=_0x4550e1[_0x3c0ee3(0x169)](_0x3c0ee3(0x1b3)),_0xb66cf3=_0x4550e1[_0x3c0ee3(0x169)]('.btn-reschedule'),_0x4fb066=document['getElementById']('cancelHint');if(_0x338955[_0x3c0ee3(0x1cb)]===_0x3c0ee3(0x1e6))_0x3bcab5[_0x3c0ee3(0x13a)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x3bcab5[_0x3c0ee3(0x1ba)]['color']=_0x3c0ee3(0x1c3),_0x4550e1[_0x3c0ee3(0x1ba)][_0x3c0ee3(0x1b8)]='none';else{_0x3bcab5[_0x3c0ee3(0x13a)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x3bcab5[_0x3c0ee3(0x1ba)][_0x3c0ee3(0x155)]=_0x3c0ee3(0x152),_0x4550e1['style'][_0x3c0ee3(0x1b8)]='block';const _0x577e0c=new Date(_0x338955[_0x3c0ee3(0x177)]+'T'+_0x338955[_0x3c0ee3(0x1f0)]),_0x4d9598=new Date(),_0x3b8a30=(_0x577e0c-_0x4d9598)/(0x3e8*0x3c*0x3c),_0x120951=coachProfiles[_0x338955[_0x3c0ee3(0x1cc)]]&&coachProfiles[_0x338955[_0x3c0ee3(0x1cc)]]['cancel_window']?parseInt(coachProfiles[_0x338955[_0x3c0ee3(0x1cc)]][_0x3c0ee3(0x188)]):0x18;if(_0x120951===0x0||_0x3b8a30>=_0x120951)_0x574f47[_0x3c0ee3(0x1ba)]['display']=_0x3c0ee3(0x203),_0xb66cf3[_0x3c0ee3(0x1ba)][_0x3c0ee3(0x1b8)]=_0x3c0ee3(0x203),_0x4fb066['style']['display']=_0x3c0ee3(0x14e);else{_0x574f47[_0x3c0ee3(0x1ba)][_0x3c0ee3(0x1b8)]=_0x3c0ee3(0x14e),_0xb66cf3[_0x3c0ee3(0x1ba)]['display']=_0x3c0ee3(0x14e),_0x4fb066['style']['display']='block';let _0x2f9444=_0x120951===0x0?_0x3c0ee3(0x19d):_0x3c0ee3(0x139)+_0x120951+_0x3c0ee3(0x11f);_0x4fb066[_0x3c0ee3(0x13a)]=_0x3c0ee3(0x199)+_0x2f9444+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document['getElementById']('overlay')[_0x3c0ee3(0x149)]['add'](_0x3c0ee3(0x1db)),document['getElementById'](_0x3c0ee3(0x1e7))['classList'][_0x3c0ee3(0x189)](_0x3c0ee3(0x1c7));}function closeAllSheets(){const _0x18ee3a=a3_0x300f83;document[_0x18ee3a(0x172)](_0x18ee3a(0x167))[_0x18ee3a(0x149)][_0x18ee3a(0x1d9)](_0x18ee3a(0x1db)),document[_0x18ee3a(0x145)](_0x18ee3a(0x1c5))[_0x18ee3a(0x18b)](_0x22574e=>_0x22574e[_0x18ee3a(0x149)]['remove'](_0x18ee3a(0x1c7)));}function openSheet(_0x4d25b5){const _0x23f10e=a3_0x300f83;document[_0x23f10e(0x172)](_0x23f10e(0x167))['classList']['add'](_0x23f10e(0x1db)),document['getElementById'](_0x4d25b5)[_0x23f10e(0x149)][_0x23f10e(0x189)]('open');}function getLocalDateStr(_0x2be2f0){const _0x17abe8=a3_0x300f83,_0x16f280=_0x2be2f0[_0x17abe8(0x194)](),_0x4b128b=String(_0x2be2f0['getMonth']()+0x1)['padStart'](0x2,'0'),_0x1e3ff4=String(_0x2be2f0[_0x17abe8(0x182)]())[_0x17abe8(0x205)](0x2,'0');return _0x16f280+'-'+_0x4b128b+'-'+_0x1e3ff4;}function getStartOfWeek(_0x16f5ed){const _0x3a6d58=a3_0x300f83,_0x1d3808=new Date(_0x16f5ed),_0x53292d=_0x1d3808[_0x3a6d58(0x173)](),_0x2d759f=_0x1d3808[_0x3a6d58(0x182)]()-_0x53292d+(_0x53292d===0x0?-0x6:0x1);return _0x1d3808['setDate'](_0x2d759f),_0x1d3808['setHours'](0x0,0x0,0x0,0x0),_0x1d3808;}function scrollToToday(){const _0x5921f8=getLocalDateStr(new Date());setTimeout(()=>{const _0x112b34=a3_0xd2b5,_0x531376=document[_0x112b34(0x169)](_0x112b34(0x1bd)+_0x5921f8+'\x22]');if(_0x531376){const _0x1e2646=document['getElementById']('matrixViewport'),_0x337426=_0x531376[_0x112b34(0x1f2)]-_0x1e2646[_0x112b34(0x202)]/0x2+_0x531376['offsetWidth']/0x2;_0x1e2646['scrollTo']({'left':_0x337426,'behavior':_0x112b34(0x1ad)}),_0x1e2646[_0x112b34(0x14d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x368cf7=a3_0x300f83,_0x5827fd=new Date(),_0x5f1de8=document[_0x368cf7(0x172)](_0x368cf7(0x19f)),_0x61975f=document[_0x368cf7(0x172)](_0x368cf7(0x1aa)),_0x1c5846=(_0x5827fd[_0x368cf7(0x1a6)]()*0x3c+_0x5827fd['getMinutes']())/0x3c*GRID_H;_0x5f1de8['style']['top']=_0x1c5846+'px',_0x5f1de8[_0x368cf7(0x1ba)][_0x368cf7(0x1b8)]=_0x368cf7(0x203),_0x61975f[_0x368cf7(0x1ba)]['top']=_0x1c5846+'px',_0x61975f[_0x368cf7(0x1ba)]['display']=_0x368cf7(0x203),_0x61975f['textContent']=String(_0x5827fd[_0x368cf7(0x1a6)]())[_0x368cf7(0x205)](0x2,'0')+':'+String(_0x5827fd[_0x368cf7(0x20a)]())['padStart'](0x2,'0');}function onScroll(){const _0x58b87f=a3_0x300f83,_0x3dbb13=document[_0x58b87f(0x172)](_0x58b87f(0x144)),_0x493156=document[_0x58b87f(0x145)](_0x58b87f(0x131));for(let _0x7b1e5 of _0x493156)if(_0x7b1e5[_0x58b87f(0x1f2)]>=_0x3dbb13[_0x58b87f(0x132)]){const _0xe58bff=new Date(_0x7b1e5[_0x58b87f(0x148)](_0x58b87f(0x120)));document['getElementById']('headerMonth')['textContent']=_0xe58bff[_0x58b87f(0x19e)]('ru',{'month':_0x58b87f(0x16c)})[_0x58b87f(0x1f6)]()+'\x20'+_0xe58bff[_0x58b87f(0x194)]();break;}}function showToast(_0xd969ff){const _0x2f9632=a3_0x300f83,_0x5873e9=document['getElementById'](_0x2f9632(0x17b));_0x5873e9['textContent']=_0xd969ff,_0x5873e9[_0x2f9632(0x149)][_0x2f9632(0x189)](_0x2f9632(0x1eb)),setTimeout(()=>_0x5873e9[_0x2f9632(0x149)][_0x2f9632(0x1d9)](_0x2f9632(0x1eb)),0x7d0);}function handleInfiniteScroll(){const _0x749ab9=a3_0x300f83,_0x1c6633=document[_0x749ab9(0x172)](_0x749ab9(0x144)),_0x192879=_0x1c6633[_0x749ab9(0x132)],_0x4f7b2e=_0x1c6633[_0x749ab9(0x1a1)],_0x2b63ad=_0x1c6633[_0x749ab9(0x202)];if(_0x4f7b2e-(_0x192879+_0x2b63ad)<0x12c){const _0x406259=endOffset;endOffset+=0xe,renderDayRange(_0x406259+0x1,endOffset),reRenderBlocks();}if(_0x192879<0x12c){const _0x5dc8b4=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5dc8b4-0x1),_0x1c6633[_0x749ab9(0x132)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x57bfb1,_0xc60eb1){const _0x5e980d=a3_0x300f83,_0x569fc8=document[_0x5e980d(0x172)](_0x5e980d(0x159)),_0x21ffad=document[_0x5e980d(0x172)](_0x5e980d(0x1ce)),_0x52ccf9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d938=new Date();_0x4d938['setHours'](0x0,0x0,0x0,0x0);const _0x4794aa=getLocalDateStr(new Date()),_0xbd5e5c=document['createDocumentFragment'](),_0x2dacd7=document[_0x5e980d(0x1f4)]();for(let _0x32801c=_0x57bfb1;_0x32801c<=_0xc60eb1;_0x32801c++){const _0x5db24e=new Date(_0x4d938);_0x5db24e[_0x5e980d(0x19c)](_0x5db24e[_0x5e980d(0x182)]()+_0x32801c);const _0x5c3cc0=getLocalDateStr(_0x5db24e);let _0x46142b=_0x5db24e[_0x5e980d(0x173)]()-0x1;if(_0x46142b===-0x1)_0x46142b=0x6;const _0x56af59=_0x5c3cc0===_0x4794aa,_0x4fa926=document[_0x5e980d(0x15b)](_0x5e980d(0x1f9));_0x4fa926['className']=_0x5e980d(0x1a2)+(_0x56af59?_0x5e980d(0x1b0):''),_0x4fa926[_0x5e980d(0x1b4)](_0x5e980d(0x120),_0x5c3cc0),_0x4fa926[_0x5e980d(0x140)]=_0x5e980d(0x206)+_0x52ccf9[_0x46142b]+'</div><div\x20class=\x22dch-num\x22>'+_0x5db24e[_0x5e980d(0x182)]()+'</div>',_0xbd5e5c[_0x5e980d(0x198)](_0x4fa926);const _0xdd12bf=document[_0x5e980d(0x15b)]('div');_0xdd12bf['className']=_0x5e980d(0x1d3)+(_0x56af59?'today':''),_0xdd12bf[_0x5e980d(0x1b4)](_0x5e980d(0x120),_0x5c3cc0),_0xdd12bf['setAttribute'](_0x5e980d(0x1df),_0x46142b),_0x2dacd7[_0x5e980d(0x198)](_0xdd12bf);}_0x569fc8[_0x5e980d(0x197)](_0xbd5e5c,_0x569fc8[_0x5e980d(0x1fc)]),_0x21ffad[_0x5e980d(0x197)](_0x2dacd7,_0x21ffad[_0x5e980d(0x169)](_0x5e980d(0x154)));}function hexToRgba(_0x4430e7,_0x4e8217){const _0x80e64b=a3_0x300f83;let _0x46700c;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x80e64b(0x12e)](_0x4430e7))return _0x46700c=_0x4430e7[_0x80e64b(0x16a)](0x1)[_0x80e64b(0x1f7)](''),_0x46700c[_0x80e64b(0x1c8)]==0x3&&(_0x46700c=[_0x46700c[0x0],_0x46700c[0x0],_0x46700c[0x1],_0x46700c[0x1],_0x46700c[0x2],_0x46700c[0x2]]),_0x46700c='0x'+_0x46700c[_0x80e64b(0x15c)](''),_0x80e64b(0x126)+[_0x46700c>>0x10&0xff,_0x46700c>>0x8&0xff,_0x46700c&0xff][_0x80e64b(0x15c)](',')+','+_0x4e8217+')';return'rgba(10,\x20132,\x20255,\x20'+_0x4e8217+')';}let confirmResolver=null;function showCustomConfirm(_0x95b97a,_0x284c42,_0x13a3c9=!![]){const _0x43477a=a3_0x300f83;document[_0x43477a(0x172)](_0x43477a(0x1a3))[_0x43477a(0x13a)]=_0x95b97a,document['getElementById'](_0x43477a(0x1b6))['textContent']=_0x284c42;const _0x20bb6f=document['getElementById'](_0x43477a(0x179));return _0x13a3c9?(_0x20bb6f['style'][_0x43477a(0x155)]=_0x43477a(0x158),_0x20bb6f[_0x43477a(0x1ba)][_0x43477a(0x16d)]=_0x43477a(0x13f)):(_0x20bb6f[_0x43477a(0x1ba)][_0x43477a(0x155)]=_0x43477a(0x18e),_0x20bb6f[_0x43477a(0x1ba)][_0x43477a(0x16d)]=_0x43477a(0x13f)),new Promise(_0x1a433a=>{const _0x4c4e05=_0x43477a;confirmResolver=_0x1a433a,document['getElementById']('customConfirm')[_0x4c4e05(0x149)][_0x4c4e05(0x189)]('visible');});}function resolveCustomConfirm(_0x591758){const _0x36d33a=a3_0x300f83;document[_0x36d33a(0x172)]('customConfirm')['classList'][_0x36d33a(0x1d9)](_0x36d33a(0x147));if(confirmResolver)confirmResolver(_0x591758);}function a3_0xd2b5(_0x38fcd,_0x1dc484){_0x38fcd=_0x38fcd-0x11e;const _0x56fe6d=a3_0x20f4();let _0x16e12e=_0x56fe6d[_0x38fcd];return _0x16e12e;}async function tryCancelCurrentSession(){const _0xfa9981=a3_0x300f83;if(!currentSession)return;const _0x48ea34=await showCustomConfirm(_0xfa9981(0x125),_0xfa9981(0x128),!![]);if(!_0x48ea34)return;const _0x3e8e59=currentSession;closeAllSheets(),sessions=sessions[_0xfa9981(0x14a)](_0x35286b=>_0x35286b['id']!==_0x3e8e59['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0xfa9981(0x190)]();try{const _0x17f6d2=window[_0xfa9981(0x134)]?.[_0xfa9981(0x1fe)],_0x352017=await fetch(API_URL,{'method':_0xfa9981(0x1c0),'body':JSON[_0xfa9981(0x200)]({'action':'client_cancel','init_data':_0x17f6d2?.[_0xfa9981(0x1e4)]||'','coachId':_0x3e8e59['coachId'],'dateStr':_0x3e8e59[_0xfa9981(0x177)],'sessionId':_0x3e8e59['id']})});if(_0x352017['ok'])DataManager[_0xfa9981(0x1e1)]();}catch(_0x384317){showToast(_0xfa9981(0x161));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x6bd735=a3_0x300f83;if(!currentSession)return;document[_0x6bd735(0x172)](_0x6bd735(0x1e7))[_0x6bd735(0x149)][_0x6bd735(0x1d9)]('open'),document[_0x6bd735(0x172)](_0x6bd735(0x17e))[_0x6bd735(0x149)][_0x6bd735(0x189)](_0x6bd735(0x1c7));const _0x4a47c8=document[_0x6bd735(0x172)]('rsDatesTrack'),_0x958eb8=document[_0x6bd735(0x172)](_0x6bd735(0x1d6));_0x4a47c8[_0x6bd735(0x140)]='',_0x958eb8[_0x6bd735(0x140)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x1c0687,_0x28373e]=currentSession[_0x6bd735(0x1f0)]['split'](':')[_0x6bd735(0x196)](Number),[_0x1470eb,_0x182e79]=currentSession['end']['split'](':')[_0x6bd735(0x196)](Number),_0x51cb46=_0x1470eb*0x3c+_0x182e79-(_0x1c0687*0x3c+_0x28373e);try{const _0x474679=window[_0x6bd735(0x134)]?.['WebApp'],_0x1ecc94=await fetch(API_URL,{'method':_0x6bd735(0x1c0),'body':JSON[_0x6bd735(0x200)]({'action':'get_slots','coachId':currentSession[_0x6bd735(0x1cc)],'duration':_0x51cb46,'init_data':_0x474679?.[_0x6bd735(0x1e4)]||'','excludeSessionId':currentSession['id']})}),_0x323699=await _0x1ecc94[_0x6bd735(0x1d5)]();_0x323699['ok']&&_0x323699[_0x6bd735(0x1c1)]?(availableSlotsCache=_0x323699[_0x6bd735(0x1c1)],renderRescheduleDates()):_0x958eb8[_0x6bd735(0x140)]=_0x6bd735(0x143);}catch(_0x3c024d){_0x958eb8[_0x6bd735(0x140)]=_0x6bd735(0x1f3);}}function renderRescheduleDates(){const _0x464160=a3_0x300f83,_0x4db821=document[_0x464160(0x172)](_0x464160(0x1f1));_0x4db821[_0x464160(0x140)]='';const _0xec6855=Object[_0x464160(0x17a)](availableSlotsCache)[_0x464160(0x1dd)](),_0x3ca1c8=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xec6855[_0x464160(0x1c8)]===0x0){document[_0x464160(0x172)](_0x464160(0x1d6))[_0x464160(0x140)]=_0x464160(0x1ab);return;}_0xec6855[_0x464160(0x18b)]((_0x7807c6,_0x48e87c)=>{const _0x4d3d0b=_0x464160,_0x299857=new Date(_0x7807c6),_0x2b03bc=_0x3ca1c8[_0x299857[_0x4d3d0b(0x173)]()],_0x4d55ea=_0x299857[_0x4d3d0b(0x182)](),_0xea8297=document[_0x4d3d0b(0x15b)](_0x4d3d0b(0x1f9));_0xea8297['className']=_0x4d3d0b(0x17f);if(_0x48e87c===0x0)_0xea8297['classList'][_0x4d3d0b(0x189)]('active');_0xea8297[_0x4d3d0b(0x140)]=_0x4d3d0b(0x1e5)+_0x2b03bc+'</div><div\x20class=\x22rs-day-num\x22>'+_0x4d55ea+_0x4d3d0b(0x1b5),_0xea8297[_0x4d3d0b(0x123)]=()=>selectRsDate(_0x7807c6,_0xea8297),_0x4db821['appendChild'](_0xea8297);}),selectRsDate(_0xec6855[0x0],_0x4db821[_0x464160(0x1fc)]);}function selectRsDate(_0x860dff,_0x1b7ddf){const _0xc3c8cd=a3_0x300f83;selectedRsDate=_0x860dff,document[_0xc3c8cd(0x145)](_0xc3c8cd(0x150))[_0xc3c8cd(0x18b)](_0x17137c=>_0x17137c[_0xc3c8cd(0x149)][_0xc3c8cd(0x1d9)]('active'));if(_0x1b7ddf)_0x1b7ddf[_0xc3c8cd(0x149)][_0xc3c8cd(0x189)](_0xc3c8cd(0x1db));const _0x4245dc=document['getElementById'](_0xc3c8cd(0x1d6));_0x4245dc['innerHTML']='';const _0x3c4438=availableSlotsCache[_0x860dff]||[];if(_0x3c4438[_0xc3c8cd(0x1c8)]===0x0){_0x4245dc[_0xc3c8cd(0x140)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3c4438[_0xc3c8cd(0x18b)](_0x2c7318=>{const _0x371466=_0xc3c8cd,_0x1cba6c=document[_0x371466(0x15b)](_0x371466(0x201));_0x1cba6c[_0x371466(0x18a)]=_0x371466(0x168),_0x1cba6c[_0x371466(0x13a)]=_0x2c7318,_0x1cba6c[_0x371466(0x123)]=()=>confirmReschedule(_0x2c7318),_0x4245dc[_0x371466(0x198)](_0x1cba6c);});}async function confirmReschedule(_0x496a36){const _0x2cfa9b=a3_0x300f83,_0xece9cb=new Date(selectedRsDate),_0x34e33f=_0xece9cb['toLocaleDateString'](_0x2cfa9b(0x157),{'day':_0x2cfa9b(0x209),'month':_0x2cfa9b(0x16c)}),_0x3b4f45=await showCustomConfirm(_0x2cfa9b(0x1ee),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x34e33f+_0x2cfa9b(0x1bc)+_0x496a36+'?',![]);if(!_0x3b4f45)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x2cfa9b(0x190)]();const _0x2fdf61=currentSession['dateStr'],_0x3610b0=currentSession['id'],[_0x2c634a,_0x249cb9]=currentSession['start'][_0x2cfa9b(0x1f7)](':')[_0x2cfa9b(0x196)](Number),[_0x49fc3c,_0x5a87a0]=currentSession[_0x2cfa9b(0x1da)][_0x2cfa9b(0x1f7)](':')[_0x2cfa9b(0x196)](Number),_0x321e90=_0x49fc3c*0x3c+_0x5a87a0-(_0x2c634a*0x3c+_0x249cb9),[_0x4c78ca,_0x208534]=_0x496a36['split'](':')[_0x2cfa9b(0x196)](Number),_0x521d55=_0x4c78ca*0x3c+_0x208534+_0x321e90,_0x2743e5=Math[_0x2cfa9b(0x1d2)](_0x521d55/0x3c),_0x12a1e9=_0x521d55%0x3c,_0x35a1bc=String(_0x2743e5)[_0x2cfa9b(0x205)](0x2,'0')+':'+String(_0x12a1e9)['padStart'](0x2,'0'),_0x241961=sessions[_0x2cfa9b(0x1c9)](_0x272a85=>_0x272a85['id']===_0x3610b0);_0x241961!==-0x1&&(sessions[_0x241961][_0x2cfa9b(0x177)]=selectedRsDate,sessions[_0x241961]['start']=_0x496a36,sessions[_0x241961][_0x2cfa9b(0x1da)]=_0x35a1bc,reRenderBlocks());try{const _0x4c119c=window['Telegram']?.[_0x2cfa9b(0x1fe)],_0x59363a=await fetch(API_URL,{'method':_0x2cfa9b(0x1c0),'body':JSON[_0x2cfa9b(0x200)]({'action':_0x2cfa9b(0x1ae),'init_data':_0x4c119c?.[_0x2cfa9b(0x1e4)]||'','oldSessionId':_0x3610b0,'oldDate':_0x2fdf61,'newDate':selectedRsDate,'newTime':_0x496a36,'coachId':currentSession[_0x2cfa9b(0x1cc)]})}),_0x36e6fb=await _0x59363a[_0x2cfa9b(0x1d5)]();!_0x36e6fb['ok']?(showToast(_0x2cfa9b(0x181)),DataManager[_0x2cfa9b(0x19a)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2cfa9b(0x1e1)]());}catch(_0x6b9f8e){showToast(_0x2cfa9b(0x161));}}document['addEventListener'](a3_0x300f83(0x171),init);