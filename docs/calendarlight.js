const a3_0x488562=a3_0x4f29;(function(_0x414e18,_0x45e691){const _0x24ad80=a3_0x4f29,_0x2f4d87=_0x414e18();while(!![]){try{const _0x397837=parseInt(_0x24ad80(0x1bc))/0x1*(parseInt(_0x24ad80(0x1a3))/0x2)+parseInt(_0x24ad80(0x1e7))/0x3+parseInt(_0x24ad80(0x178))/0x4*(-parseInt(_0x24ad80(0x15a))/0x5)+-parseInt(_0x24ad80(0x215))/0x6*(parseInt(_0x24ad80(0x133))/0x7)+-parseInt(_0x24ad80(0x12a))/0x8*(-parseInt(_0x24ad80(0x1f5))/0x9)+parseInt(_0x24ad80(0x1e6))/0xa*(-parseInt(_0x24ad80(0x154))/0xb)+-parseInt(_0x24ad80(0x14e))/0xc*(parseInt(_0x24ad80(0x1fe))/0xd);if(_0x397837===_0x45e691)break;else _0x2f4d87['push'](_0x2f4d87['shift']());}catch(_0x528723){_0x2f4d87['push'](_0x2f4d87['shift']());}}}(a3_0x396c,0xcd3c5));const APP_VERSION=a3_0x488562(0x1a6),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x488562(0x186),KEY_SETTINGS=a3_0x488562(0x147),KEY_CLIENTS=a3_0x488562(0x144);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x488562(0x150),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x59fa3e=a3_0x488562,_0x1ac667=(function(){let _0x2f9220=!![];return function(_0x46d74d,_0x2a0bdf){const _0x4b940a=_0x2f9220?function(){const _0x4c06b1=a3_0x4f29;if(_0x2a0bdf){const _0x15e506=_0x2a0bdf[_0x4c06b1(0x177)](_0x46d74d,arguments);return _0x2a0bdf=null,_0x15e506;}}:function(){};return _0x2f9220=![],_0x4b940a;};}()),_0x29170a=_0x1ac667(this,function(){const _0x534060=a3_0x4f29;return _0x29170a[_0x534060(0x17a)]()[_0x534060(0x19a)](_0x534060(0x205))['toString']()[_0x534060(0x168)](_0x29170a)[_0x534060(0x19a)]('(((.+)+)+)+$');});_0x29170a();try{const _0x2e017b=window[_0x59fa3e(0x12e)]?.[_0x59fa3e(0x1f7)];if(!_0x2e017b)return;_0x2e017b[_0x59fa3e(0x129)](),_0x2e017b['expand']();try{_0x2e017b[_0x59fa3e(0x148)]('#050505'),_0x2e017b[_0x59fa3e(0x1fb)]&&_0x2e017b[_0x59fa3e(0x1fb)]('#050505');}catch(_0x40d7d6){console[_0x59fa3e(0x1c8)](_0x59fa3e(0x15f),_0x40d7d6);}try{_0x2e017b[_0x59fa3e(0x1c7)]&&(_0x2e017b[_0x59fa3e(0x1c7)]['show'](),_0x2e017b[_0x59fa3e(0x1c7)][_0x59fa3e(0x12f)](),_0x2e017b[_0x59fa3e(0x1c7)][_0x59fa3e(0x1d3)](function(){const _0xf35a79=_0x59fa3e;window[_0xf35a79(0x17d)]['href']=_0xf35a79(0x20f);}));}catch(_0x5839d9){console[_0x59fa3e(0x1c8)](_0x59fa3e(0x184),_0x5839d9);}try{if(_0x2e017b[_0x59fa3e(0x19b)])_0x2e017b[_0x59fa3e(0x19b)]();}catch(_0x3e7887){}}catch(_0x4b1aa7){console[_0x59fa3e(0x18b)](_0x59fa3e(0x1af),_0x4b1aa7);}}());function isAdmin(){const _0x6a2c01=a3_0x488562;try{const _0xf00630=Number(window[_0x6a2c01(0x12e)]?.[_0x6a2c01(0x1f7)]?.[_0x6a2c01(0x15b)]?.[_0x6a2c01(0x1d1)]?.['id']);return _0xf00630===0xbaf7174;}catch(_0x444d9f){return![];}}const DataManager={'saveLocally'(){const _0x1ef8ac=a3_0x488562;try{localStorage[_0x1ef8ac(0x1a1)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x1ef8ac(0x1a1)](KEY_CLIENTS,JSON[_0x1ef8ac(0x1a8)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x628df2){}},'loadLocal'(){const _0x1d224d=a3_0x488562;try{const _0x59a639=localStorage[_0x1d224d(0x15d)](KEY_SESSIONS);if(_0x59a639)sessions=JSON[_0x1d224d(0x21c)](_0x59a639);const _0x2ae96b=localStorage[_0x1d224d(0x15d)](KEY_CLIENTS);if(_0x2ae96b)clients=JSON[_0x1d224d(0x21c)](_0x2ae96b);const _0x22aa4d=localStorage[_0x1d224d(0x15d)](KEY_SETTINGS);if(_0x22aa4d){const _0x1c4acb=JSON[_0x1d224d(0x21c)](_0x22aa4d);if(_0x1c4acb['pattern'])availabilityPattern=_0x1c4acb[_0x1d224d(0x169)];if(_0x1c4acb[_0x1d224d(0x188)])specialRanges=_0x1c4acb[_0x1d224d(0x188)];if(_0x1c4acb[_0x1d224d(0x17c)])dateExceptions=_0x1c4acb[_0x1d224d(0x17c)];}}catch(_0x1264b4){}},async 'syncLoad'(){const _0x56a9c0=a3_0x488562,_0xd509c1=new Date(),_0x56d1a4=_0xd509c1['getFullYear']()+'-'+String(_0xd509c1[_0x56a9c0(0x212)]()+0x1)[_0x56a9c0(0x1a4)](0x2,'0'),_0xbf7d78=new Date(_0xd509c1);_0xbf7d78[_0x56a9c0(0x1d5)](_0xd509c1[_0x56a9c0(0x212)]()+0x1);const _0xb1d068=_0xbf7d78[_0x56a9c0(0x14c)]()+'-'+String(_0xbf7d78[_0x56a9c0(0x212)]()+0x1)['padStart'](0x2,'0'),_0x7580a5=Date['now']();try{const _0x4dab8b=window[_0x56a9c0(0x12e)]?.[_0x56a9c0(0x1f7)],_0x84babd=_0x4dab8b?.[_0x56a9c0(0x191)]||'',[_0x19dbec,_0x32f312]=await Promise['all']([fetch(API_URL,{'method':_0x56a9c0(0x14b),'body':JSON['stringify']({'action':_0x56a9c0(0x18a),'init_data':_0x84babd,'month_str':_0x56d1a4})})['then'](_0x153eb8=>_0x153eb8[_0x56a9c0(0x1dd)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x56a9c0(0x18a),'init_data':_0x84babd,'month_str':_0xb1d068})})[_0x56a9c0(0x220)](_0x200aab=>_0x200aab[_0x56a9c0(0x1dd)]())]);if(lastUserActionTime>_0x7580a5){console[_0x56a9c0(0x1c8)](_0x56a9c0(0x204));return;}if(_0x19dbec['ok'])this[_0x56a9c0(0x1c5)](_0x19dbec[_0x56a9c0(0x153)],_0x56d1a4);if(_0x32f312['ok'])this[_0x56a9c0(0x1c5)](_0x32f312[_0x56a9c0(0x153)],_0xb1d068);this['saveLocally']();}catch(_0x11bc6e){}},'applyData'(_0x850abf,_0x4b386a){const _0x2146d9=a3_0x488562;if(!_0x850abf)return;if(_0x850abf[_0x2146d9(0x1dc)]){if(_0x850abf[_0x2146d9(0x1dc)]['pattern'])availabilityPattern=_0x850abf[_0x2146d9(0x1dc)][_0x2146d9(0x169)];if(_0x850abf['settings'][_0x2146d9(0x188)])specialRanges=_0x850abf['settings'][_0x2146d9(0x188)];if(_0x850abf['settings'][_0x2146d9(0x17c)])dateExceptions=_0x850abf[_0x2146d9(0x1dc)][_0x2146d9(0x17c)];}if(_0x850abf[_0x2146d9(0x131)]&&Array[_0x2146d9(0x164)](_0x850abf[_0x2146d9(0x131)]))clients=_0x850abf['clients'];_0x850abf['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x850abf['coach_profiles']}),_0x850abf['calendar']&&(sessions=sessions['filter'](_0x388f20=>!_0x388f20[_0x2146d9(0x155)][_0x2146d9(0x146)](_0x4b386a)),Object[_0x2146d9(0x1ca)](_0x850abf[_0x2146d9(0x1ec)])[_0x2146d9(0x209)](_0x32c1c8=>{const _0x46958e=_0x2146d9,_0x3718e7=_0x850abf[_0x46958e(0x1ec)][_0x32c1c8];_0x3718e7[_0x46958e(0x209)](_0x83384a=>{const _0x3dfbd4=_0x46958e;sessions[_0x3dfbd4(0x207)]({'id':_0x83384a['i'],'clientId':_0x83384a['c'],'coachId':_0x83384a[_0x3dfbd4(0x139)],'dateStr':_0x4b386a+'-'+_0x32c1c8[_0x3dfbd4(0x1a4)](0x2,'0'),'start':_0x83384a['s'],'end':_0x83384a['e'],'note':_0x83384a['n']||'','status':_0x83384a['st']||_0x3dfbd4(0x1de),'seriesId':_0x83384a[_0x3dfbd4(0x1b7)]});});})),reRenderBlocks();}};function init(){const _0x237996=a3_0x488562;DataManager[_0x237996(0x181)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x237996(0x1b4)]('matrixViewport')[_0x237996(0x19d)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x237996(0x1eb)]();}function renderTimeColumn(){const _0x243041=a3_0x488562,_0x867780=document[_0x243041(0x1b4)](_0x243041(0x1e9)),_0x45df98=document[_0x243041(0x1b4)]('timeLineBadge');_0x867780['innerHTML']='',_0x867780[_0x243041(0x15e)](_0x45df98);for(let _0x31f932=0x0;_0x31f932<0x18;_0x31f932++){const _0x5a9391=document[_0x243041(0x1d2)](_0x243041(0x1bb));_0x5a9391[_0x243041(0x1cb)]=_0x243041(0x1ed);if(_0x31f932>0x0)_0x5a9391[_0x243041(0x1a7)]=_0x243041(0x214)+String(_0x31f932)['padStart'](0x2,'0')+_0x243041(0x223);_0x867780['appendChild'](_0x5a9391);}}function renderDayRange(_0x13aadf,_0x434cf0){const _0x44cc59=a3_0x488562,_0x58b1fe=document[_0x44cc59(0x1b4)]('daysHeaderTrack'),_0x367b63=document[_0x44cc59(0x1b4)](_0x44cc59(0x1bd)),_0x491df0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ad1ae=new Date();_0x1ad1ae[_0x44cc59(0x16b)](0x0,0x0,0x0,0x0);const _0x42e1fa=getLocalDateStr(new Date());for(let _0xde7eed=_0x13aadf;_0xde7eed<=_0x434cf0;_0xde7eed++){const _0x467184=new Date(_0x1ad1ae);_0x467184[_0x44cc59(0x19e)](_0x467184[_0x44cc59(0x130)]()+_0xde7eed);const _0x330dbe=getLocalDateStr(_0x467184);let _0x184d51=_0x467184[_0x44cc59(0x21d)]()-0x1;if(_0x184d51===-0x1)_0x184d51=0x6;const _0x19f544=_0x330dbe===_0x42e1fa,_0x374d33=document['createElement'](_0x44cc59(0x1bb));_0x374d33[_0x44cc59(0x1cb)]=_0x44cc59(0x14a)+(_0x19f544?'today':''),_0x374d33[_0x44cc59(0x158)](_0x44cc59(0x13c),_0x330dbe),_0x374d33[_0x44cc59(0x1a7)]=_0x44cc59(0x18d)+_0x491df0[_0x184d51]+'</div><div\x20class=\x22dch-num\x22>'+_0x467184[_0x44cc59(0x130)]()+'</div>',_0x58b1fe['appendChild'](_0x374d33);const _0x181a0e=document[_0x44cc59(0x1d2)](_0x44cc59(0x1bb));_0x181a0e['className']=_0x44cc59(0x1bf)+(_0x19f544?'today':''),_0x181a0e[_0x44cc59(0x158)](_0x44cc59(0x13c),_0x330dbe),_0x181a0e[_0x44cc59(0x158)](_0x44cc59(0x134),_0x184d51),_0x367b63[_0x44cc59(0x15e)](_0x181a0e);}}function reRenderBlocks(){const _0x40286c=a3_0x488562;document[_0x40286c(0x17e)](_0x40286c(0x1f3))[_0x40286c(0x209)](_0x43739e=>{const _0x41ebd5=_0x40286c;_0x43739e[_0x41ebd5(0x17e)](_0x41ebd5(0x1b1))[_0x41ebd5(0x209)](_0x5077f1=>_0x5077f1[_0x41ebd5(0x1c2)]());const _0x5abeda=_0x43739e['getAttribute'](_0x41ebd5(0x13c)),_0x52ef6f=parseInt(_0x43739e[_0x41ebd5(0x157)](_0x41ebd5(0x134))),_0x14def3=Math['round'](_0x43739e[_0x41ebd5(0x14d)]);(availabilityPattern[_0x52ef6f]||[])[_0x41ebd5(0x209)](_0x2a96cd=>{const _0x34b39d=_0x41ebd5,_0x46c0b0=document[_0x34b39d(0x1d2)](_0x34b39d(0x1bb));_0x46c0b0[_0x34b39d(0x1cb)]=_0x34b39d(0x1ee),_0x46c0b0[_0x34b39d(0x1b0)][_0x34b39d(0x1e2)]=_0x2a96cd*GRID_H+'px',_0x46c0b0[_0x34b39d(0x1b0)][_0x34b39d(0x1ae)]='-'+_0x14def3+'px\x20-'+_0x2a96cd*GRID_H+'px',_0x43739e[_0x34b39d(0x15e)](_0x46c0b0);});if(specialRanges[_0x41ebd5(0x1ef)]>0x0){const _0x218399=new Date(_0x5abeda+'T00:00:00')[_0x41ebd5(0x1c9)](),_0x443ba5=new Date(_0x5abeda+_0x41ebd5(0x196))[_0x41ebd5(0x1c9)]();specialRanges[_0x41ebd5(0x209)](_0x480bc2=>{const _0x486e55=_0x41ebd5,_0x1ff9f9=new Date(_0x480bc2[_0x486e55(0x198)])[_0x486e55(0x1c9)](),_0x4d2cc8=new Date(_0x480bc2['end'])[_0x486e55(0x1c9)](),_0x402bd7=Math['max'](_0x218399,_0x1ff9f9),_0x3759fb=Math['min'](_0x443ba5,_0x4d2cc8);if(_0x402bd7<_0x3759fb){const _0x8d3232=(_0x402bd7-_0x218399)/0x36ee80*GRID_H,_0x2e5ea5=(_0x3759fb-_0x402bd7)/0x36ee80*GRID_H,_0x1e4ddf=document[_0x486e55(0x1d2)]('div');_0x2e5ea5>=23.5*GRID_H?(_0x1e4ddf[_0x486e55(0x1cb)]=_0x486e55(0x219),_0x1e4ddf[_0x486e55(0x1b0)][_0x486e55(0x1ae)]='-'+_0x14def3+_0x486e55(0x192)):(_0x1e4ddf['className']=_0x486e55(0x1e3),_0x1e4ddf['style'][_0x486e55(0x1e2)]=_0x8d3232+'px',_0x1e4ddf['style']['height']=_0x2e5ea5+'px',_0x1e4ddf[_0x486e55(0x1b0)][_0x486e55(0x1ae)]='-'+_0x14def3+_0x486e55(0x190)+_0x8d3232+'px'),_0x43739e[_0x486e55(0x15e)](_0x1e4ddf);}});}renderEventsForColumn(_0x43739e,_0x5abeda);});}function renderEventsForColumn(_0x54c7f3,_0x2a1a9f){const _0x587c0a=a3_0x488562,_0x10f672=sessions[_0x587c0a(0x1d8)](_0x226e74=>_0x226e74[_0x587c0a(0x155)]===_0x2a1a9f),_0x111985=_0x10f672[_0x587c0a(0x20a)](_0x170f79=>{const _0x3f087b=_0x587c0a,[_0x3a843f,_0x2f8ed5]=_0x170f79[_0x3f087b(0x198)][_0x3f087b(0x142)](':')[_0x3f087b(0x20a)](Number),[_0x464233,_0x41ad18]=_0x170f79[_0x3f087b(0x127)][_0x3f087b(0x142)](':')[_0x3f087b(0x20a)](Number);return{'data':_0x170f79,'start':_0x3a843f*0x3c+_0x2f8ed5,'end':_0x464233*0x3c+_0x41ad18,'colIndex':0x0};});_0x111985[_0x587c0a(0x183)]((_0x5786df,_0x524850)=>_0x5786df[_0x587c0a(0x198)]-_0x524850[_0x587c0a(0x198)]||_0x524850[_0x587c0a(0x127)]-_0x524850['start']-(_0x5786df[_0x587c0a(0x127)]-_0x5786df[_0x587c0a(0x198)]));const _0x554096=[];_0x111985[_0x587c0a(0x209)](_0x3fc593=>{const _0x5cd438=_0x587c0a;let _0x4fd3a6=![];for(let _0x59f13f=0x0;_0x59f13f<_0x554096[_0x5cd438(0x1ef)];_0x59f13f++){const _0x8ea7ec=_0x554096[_0x59f13f];if(_0x3fc593['start']>=_0x8ea7ec[_0x8ea7ec[_0x5cd438(0x1ef)]-0x1]['end']){_0x8ea7ec[_0x5cd438(0x207)](_0x3fc593),_0x3fc593[_0x5cd438(0x222)]=_0x59f13f,_0x4fd3a6=!![];break;}}!_0x4fd3a6&&(_0x554096[_0x5cd438(0x207)]([_0x3fc593]),_0x3fc593['colIndex']=_0x554096[_0x5cd438(0x1ef)]-0x1);}),_0x111985['forEach'](_0x47461b=>{const _0x2bc007=_0x587c0a;let _0x41647f=0x0;_0x111985['forEach'](_0x1f3aa4=>{const _0x42ecac=a3_0x4f29;if(Math[_0x42ecac(0x1be)](_0x47461b[_0x42ecac(0x198)],_0x1f3aa4[_0x42ecac(0x198)])<Math[_0x42ecac(0x1c1)](_0x47461b[_0x42ecac(0x127)],_0x1f3aa4[_0x42ecac(0x127)])&&_0x1f3aa4[_0x42ecac(0x222)]>_0x41647f)_0x41647f=_0x1f3aa4[_0x42ecac(0x222)];});const _0x1d58bb=_0x41647f+0x1,_0x1cd3af=0x64/_0x1d58bb,_0x58f3f4=_0x47461b['colIndex']*_0x1cd3af,_0x49395c=document[_0x2bc007(0x1d2)](_0x2bc007(0x1bb)),_0x2090ff=_0x47461b[_0x2bc007(0x153)];let _0x55a40c=_0x2bc007(0x216);if(clients&&clients[_0x2bc007(0x1ef)]>0x0){const _0xe7f500=clients[_0x2bc007(0x187)](_0x48ff46=>String(_0x48ff46['id'])===String(_0x2090ff[_0x2bc007(0x152)]));if(_0xe7f500&&_0xe7f500[_0x2bc007(0x195)])_0x55a40c=_0xe7f500[_0x2bc007(0x195)];}const _0x7b5130=_0x2090ff['status']===_0x2bc007(0x1a5),_0x47d3e2=_0x7b5130?0x1:0.45;_0x49395c[_0x2bc007(0x1cb)]=_0x2bc007(0x221)+(_0x7b5130?_0x2bc007(0x136):''),_0x49395c[_0x2bc007(0x1b0)]['backgroundColor']=hexToRgba(_0x55a40c,_0x47d3e2),_0x49395c[_0x2bc007(0x1b0)]['borderLeftColor']=_0x55a40c;const _0x4287f6=_0x47461b[_0x2bc007(0x198)]/0x3c*GRID_H,_0x23fe9b=(_0x47461b['end']-_0x47461b[_0x2bc007(0x198)])/0x3c*GRID_H;_0x49395c[_0x2bc007(0x1b0)][_0x2bc007(0x1e2)]=_0x4287f6+'px',_0x49395c[_0x2bc007(0x1b0)][_0x2bc007(0x156)]=Math[_0x2bc007(0x1be)](_0x23fe9b,0x14)+'px',_0x49395c[_0x2bc007(0x1b0)][_0x2bc007(0x1ff)]=_0x2bc007(0x1b2)+_0x1cd3af+_0x2bc007(0x1da),_0x49395c[_0x2bc007(0x1b0)]['left']=_0x2bc007(0x1b2)+_0x58f3f4+'%\x20+\x202px)',_0x49395c[_0x2bc007(0x1b0)][_0x2bc007(0x1cd)]=0xa+_0x47461b['colIndex'];if(_0x1cd3af<0x55)_0x49395c[_0x2bc007(0x161)]['add'](_0x2bc007(0x203));let _0x4f2277='';if(_0x2090ff[_0x2bc007(0x1a2)])_0x4f2277+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x7b5130)_0x4f2277+=_0x2bc007(0x17f);_0x49395c[_0x2bc007(0x1a7)]=_0x2bc007(0x1b5)+_0x2090ff['start']+'\x20-\x20'+_0x2090ff[_0x2bc007(0x127)]+_0x2bc007(0x1ea)+_0x4f2277+_0x2bc007(0x13b),_0x49395c[_0x2bc007(0x189)]=_0x37a0c8=>{_0x37a0c8['stopPropagation'](),openDetails(_0x2090ff);},_0x54c7f3['appendChild'](_0x49395c);});}function openAnalytics(){const _0xe3c6d0=a3_0x488562,_0x3f15a0=document[_0xe3c6d0(0x163)](_0xe3c6d0(0x1f6));setAnalyticsPeriod('week',_0x3f15a0),openSheet(_0xe3c6d0(0x12b));}function setAnalyticsPeriod(_0x2145da,_0x885f71){const _0x4ca30e=a3_0x488562;currentAnPeriod=_0x2145da,document[_0x4ca30e(0x17e)]('.period-switch\x20.p-btn')[_0x4ca30e(0x209)](_0x52f2b2=>_0x52f2b2[_0x4ca30e(0x161)][_0x4ca30e(0x1c2)](_0x4ca30e(0x21e)));if(_0x885f71)_0x885f71[_0x4ca30e(0x161)][_0x4ca30e(0x1f2)]('active');const _0x3038d0=document[_0x4ca30e(0x1b4)](_0x4ca30e(0x165));_0x3038d0[_0x4ca30e(0x1b0)][_0x4ca30e(0x1cf)]=_0x2145da===_0x4ca30e(0x197)?_0x4ca30e(0x182):_0x4ca30e(0x16d);const _0x30256e=new Date();let _0x49f2f9=new Date(),_0x4ca6cf=new Date();if(_0x2145da==='week')_0x49f2f9=getStartOfWeek(_0x30256e),_0x4ca6cf=new Date(_0x49f2f9),_0x4ca6cf['setDate'](_0x4ca6cf[_0x4ca30e(0x130)]()+0x6);else{if(_0x2145da===_0x4ca30e(0x145))_0x49f2f9=new Date(_0x30256e[_0x4ca30e(0x14c)](),_0x30256e['getMonth'](),0x1),_0x4ca6cf=new Date(_0x30256e[_0x4ca30e(0x14c)](),_0x30256e[_0x4ca30e(0x212)]()+0x1,0x0);else{!document[_0x4ca30e(0x1b4)](_0x4ca30e(0x162))[_0x4ca30e(0x1aa)]&&(document[_0x4ca30e(0x1b4)]('anStart')[_0x4ca30e(0x1aa)]=getLocalDateStr(_0x30256e),document[_0x4ca30e(0x1b4)](_0x4ca30e(0x1a0))['value']=getLocalDateStr(_0x30256e));refreshAnalytics();return;}}document['getElementById'](_0x4ca30e(0x162))[_0x4ca30e(0x1aa)]=getLocalDateStr(_0x49f2f9),document[_0x4ca30e(0x1b4)](_0x4ca30e(0x1a0))['value']=getLocalDateStr(_0x4ca6cf),refreshAnalytics();}function refreshAnalytics(){const _0x5ca4c1=a3_0x488562,_0x111068=document['getElementById'](_0x5ca4c1(0x162))[_0x5ca4c1(0x1aa)],_0x3726e2=document[_0x5ca4c1(0x1b4)](_0x5ca4c1(0x1a0))[_0x5ca4c1(0x1aa)];if(!_0x111068||!_0x3726e2)return;const _0x392bff=sessions['filter'](_0x1402af=>_0x1402af[_0x5ca4c1(0x155)]>=_0x111068&&_0x1402af[_0x5ca4c1(0x155)]<=_0x3726e2&&_0x1402af[_0x5ca4c1(0x213)]!==_0x5ca4c1(0x151)),_0x1cfdcf=_0x392bff[_0x5ca4c1(0x1ef)],_0x4aa610=_0x392bff[_0x5ca4c1(0x1d8)](_0x24053c=>_0x24053c[_0x5ca4c1(0x213)]===_0x5ca4c1(0x1a5))[_0x5ca4c1(0x1ef)],_0xc2ee6a=_0x1cfdcf>0x0?Math[_0x5ca4c1(0x1e4)](_0x4aa610/_0x1cfdcf*0x64):0x0;document[_0x5ca4c1(0x1b4)]('anPercent')[_0x5ca4c1(0x226)]=_0xc2ee6a+'%',document[_0x5ca4c1(0x1b4)](_0x5ca4c1(0x16e))[_0x5ca4c1(0x226)]=_0x4aa610+_0x5ca4c1(0x1b9)+_0x1cfdcf+_0x5ca4c1(0x126);const _0x2b30b6=document[_0x5ca4c1(0x1b4)](_0x5ca4c1(0x194)),_0x90daf7=0x2*Math['PI']*0x23,_0x336229=_0x90daf7-_0xc2ee6a/0x64*_0x90daf7;_0x2b30b6[_0x5ca4c1(0x1b0)][_0x5ca4c1(0x1d9)]=_0x336229;const _0x459cd2={};_0x392bff[_0x5ca4c1(0x209)](_0x14796a=>{const _0xfc2049=_0x5ca4c1,_0x3db5d8=_0x14796a[_0xfc2049(0x14f)]||_0xfc2049(0x160);if(!_0x459cd2[_0x3db5d8]){const _0x32efc4='#'+_0x3db5d8['toString']()[_0xfc2049(0x159)](0x0,0x6);_0x459cd2[_0x3db5d8]={'total':0x0,'done':0x0,'color':_0x32efc4};}_0x459cd2[_0x3db5d8][_0xfc2049(0x1e5)]++;if(_0x14796a[_0xfc2049(0x213)]==='completed')_0x459cd2[_0x3db5d8][_0xfc2049(0x1c6)]++;});const _0x5900a4=document[_0x5ca4c1(0x1b4)]('analyticsList');_0x5900a4[_0x5ca4c1(0x1a7)]='';const _0x3bf15c=Object[_0x5ca4c1(0x12c)](_0x459cd2)['sort']((_0x384a15,_0x19c153)=>_0x19c153[0x1]['total']-_0x384a15[0x1][_0x5ca4c1(0x1e5)]);if(_0x3bf15c[_0x5ca4c1(0x1ef)]===0x0){_0x5900a4[_0x5ca4c1(0x1a7)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3bf15c['forEach'](([_0x46fca5,_0x4938ae])=>{const _0x16c97f=_0x5ca4c1,_0x2db7f0=Math['round'](_0x4938ae[_0x16c97f(0x1c6)]/_0x4938ae['total']*0x64),_0x3eeda0=document[_0x16c97f(0x1d2)]('div');_0x3eeda0[_0x16c97f(0x1cb)]='client-stat-card',_0x3eeda0[_0x16c97f(0x1b0)][_0x16c97f(0x175)]=_0x4938ae['color'],_0x3eeda0[_0x16c97f(0x1a7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x46fca5[_0x16c97f(0x159)](0x0,0x5)+_0x16c97f(0x132)+_0x4938ae[_0x16c97f(0x1c6)]+'</span>\x20/\x20'+_0x4938ae[_0x16c97f(0x1e5)]+_0x16c97f(0x19c)+_0x2db7f0+_0x16c97f(0x1e8),_0x5900a4['appendChild'](_0x3eeda0);});}function openDetails(_0x1dc014){const _0x52d096=a3_0x488562;currentSession=_0x1dc014;const _0x46f359=new Date(_0x1dc014[_0x52d096(0x155)]),_0xb3b7d0=_0x46f359[_0x52d096(0x1e0)](_0x52d096(0x19f),{'weekday':'long','day':_0x52d096(0x15c),'month':_0x52d096(0x1d7)});document['getElementById'](_0x52d096(0x211))[_0x52d096(0x226)]=_0xb3b7d0[_0x52d096(0x1f8)](0x0)[_0x52d096(0x1ba)]()+_0xb3b7d0[_0x52d096(0x21b)](0x1),document[_0x52d096(0x1b4)](_0x52d096(0x1b3))[_0x52d096(0x226)]=_0x1dc014[_0x52d096(0x198)]+'\x20-\x20'+_0x1dc014[_0x52d096(0x127)],document[_0x52d096(0x1b4)]('detNote')[_0x52d096(0x226)]=_0x1dc014['note']||_0x52d096(0x21f);const _0x4d3ab2=document[_0x52d096(0x1b4)]('detStatus'),_0x5ce89e=document['getElementById'](_0x52d096(0x1ad)),_0x84a49c=_0x5ce89e['querySelector'](_0x52d096(0x20c)),_0x5b2cb4=_0x5ce89e['querySelector'](_0x52d096(0x13a)),_0x41e016=document[_0x52d096(0x1b4)](_0x52d096(0x1df));if(_0x1dc014[_0x52d096(0x213)]===_0x52d096(0x1a5))_0x4d3ab2[_0x52d096(0x226)]=_0x52d096(0x1f1),_0x4d3ab2[_0x52d096(0x1b0)][_0x52d096(0x195)]=_0x52d096(0x1a9),_0x5ce89e[_0x52d096(0x1b0)][_0x52d096(0x1cf)]=_0x52d096(0x16d);else{_0x4d3ab2['textContent']=_0x52d096(0x20d),_0x4d3ab2['style'][_0x52d096(0x195)]=_0x52d096(0x1b6),_0x5ce89e[_0x52d096(0x1b0)][_0x52d096(0x1cf)]='block';const _0x15a399=new Date(_0x1dc014[_0x52d096(0x155)]+'T'+_0x1dc014[_0x52d096(0x198)]),_0x3d29b2=new Date(),_0x144cd4=(_0x15a399-_0x3d29b2)/(0x3e8*0x3c*0x3c),_0x226a47=coachProfiles[_0x1dc014['coachId']]&&coachProfiles[_0x1dc014[_0x52d096(0x14f)]]['cancel_window']?parseInt(coachProfiles[_0x1dc014['coachId']]['cancel_window']):0x18;if(_0x226a47===0x0||_0x144cd4>=_0x226a47)_0x84a49c[_0x52d096(0x1b0)][_0x52d096(0x1cf)]='block',_0x5b2cb4[_0x52d096(0x1b0)][_0x52d096(0x1cf)]=_0x52d096(0x1e1),_0x41e016[_0x52d096(0x1b0)][_0x52d096(0x1cf)]=_0x52d096(0x16d);else{_0x84a49c[_0x52d096(0x1b0)][_0x52d096(0x1cf)]=_0x52d096(0x16d),_0x5b2cb4['style'][_0x52d096(0x1cf)]=_0x52d096(0x16d),_0x41e016[_0x52d096(0x1b0)]['display']=_0x52d096(0x1e1);let _0x32802d=_0x226a47===0x0?_0x52d096(0x172):_0x52d096(0x1db)+_0x226a47+_0x52d096(0x1fc);_0x41e016[_0x52d096(0x226)]=_0x52d096(0x185)+_0x32802d+_0x52d096(0x202);}}document[_0x52d096(0x1b4)](_0x52d096(0x20b))[_0x52d096(0x161)]['add'](_0x52d096(0x21e)),document[_0x52d096(0x1b4)](_0x52d096(0x1c3))[_0x52d096(0x161)]['add'](_0x52d096(0x173));}function closeAllSheets(){const _0x540bd9=a3_0x488562;document[_0x540bd9(0x1b4)](_0x540bd9(0x20b))[_0x540bd9(0x161)][_0x540bd9(0x1c2)](_0x540bd9(0x21e)),document[_0x540bd9(0x17e)](_0x540bd9(0x149))[_0x540bd9(0x209)](_0x29774c=>_0x29774c[_0x540bd9(0x161)][_0x540bd9(0x1c2)](_0x540bd9(0x173)));}function openSheet(_0x1c4b2c){const _0x456b51=a3_0x488562;document[_0x456b51(0x1b4)](_0x456b51(0x20b))[_0x456b51(0x161)][_0x456b51(0x1f2)](_0x456b51(0x21e)),document[_0x456b51(0x1b4)](_0x1c4b2c)[_0x456b51(0x161)][_0x456b51(0x1f2)](_0x456b51(0x173));}function getLocalDateStr(_0x42659e){const _0x3e32b6=a3_0x488562,_0x78f29e=_0x42659e['getFullYear'](),_0x406d8b=String(_0x42659e[_0x3e32b6(0x212)]()+0x1)[_0x3e32b6(0x1a4)](0x2,'0'),_0x1ea94a=String(_0x42659e['getDate']())[_0x3e32b6(0x1a4)](0x2,'0');return _0x78f29e+'-'+_0x406d8b+'-'+_0x1ea94a;}function getStartOfWeek(_0xa87809){const _0x1f68bd=a3_0x488562,_0x16b2b7=new Date(_0xa87809),_0x40cee3=_0x16b2b7[_0x1f68bd(0x21d)](),_0x1da351=_0x16b2b7['getDate']()-_0x40cee3+(_0x40cee3===0x0?-0x6:0x1);return _0x16b2b7[_0x1f68bd(0x19e)](_0x1da351),_0x16b2b7['setHours'](0x0,0x0,0x0,0x0),_0x16b2b7;}function scrollToToday(){const _0x142a00=getLocalDateStr(new Date());setTimeout(()=>{const _0x188c52=a3_0x4f29,_0x4f3b2b=document[_0x188c52(0x163)](_0x188c52(0x1c0)+_0x142a00+'\x22]');if(_0x4f3b2b){const _0x3871fb=document['getElementById'](_0x188c52(0x12d)),_0x184a75=_0x4f3b2b[_0x188c52(0x14d)]-_0x3871fb[_0x188c52(0x1f4)]/0x2+_0x4f3b2b['offsetWidth']/0x2;_0x3871fb[_0x188c52(0x1fd)]({'left':_0x184a75,'behavior':_0x188c52(0x201)}),_0x3871fb['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x4f29(_0x5c925b,_0x39162b){_0x5c925b=_0x5c925b-0x125;const _0x13c790=a3_0x396c();let _0x16f569=_0x13c790[_0x5c925b];return _0x16f569;}function updateClock(){const _0x43ef60=a3_0x488562,_0x3226b0=new Date(),_0x312a35=document['getElementById'](_0x43ef60(0x1ab)),_0x2ee991=document[_0x43ef60(0x1b4)]('timeLineBadge'),_0x311b83=(_0x3226b0[_0x43ef60(0x140)]()*0x3c+_0x3226b0[_0x43ef60(0x1ac)]())/0x3c*GRID_H;_0x312a35['style'][_0x43ef60(0x1e2)]=_0x311b83+'px',_0x312a35[_0x43ef60(0x1b0)][_0x43ef60(0x1cf)]=_0x43ef60(0x1e1),_0x2ee991[_0x43ef60(0x1b0)][_0x43ef60(0x1e2)]=_0x311b83+'px',_0x2ee991[_0x43ef60(0x1b0)][_0x43ef60(0x1cf)]=_0x43ef60(0x1e1),_0x2ee991[_0x43ef60(0x226)]=String(_0x3226b0[_0x43ef60(0x140)]())[_0x43ef60(0x1a4)](0x2,'0')+':'+String(_0x3226b0[_0x43ef60(0x1ac)]())['padStart'](0x2,'0');}function onScroll(){const _0x432daf=a3_0x488562,_0x158736=document[_0x432daf(0x1b4)](_0x432daf(0x12d)),_0x2bf987=document[_0x432daf(0x17e)](_0x432daf(0x1b8));for(let _0x6e6f5a of _0x2bf987)if(_0x6e6f5a['offsetLeft']>=_0x158736['scrollLeft']){const _0x388dd1=new Date(_0x6e6f5a['getAttribute']('data-date'));document[_0x432daf(0x1b4)](_0x432daf(0x18f))[_0x432daf(0x226)]=_0x388dd1[_0x432daf(0x218)]('ru',{'month':_0x432daf(0x1d7)})[_0x432daf(0x1ba)]()+'\x20'+_0x388dd1[_0x432daf(0x14c)]();break;}}function showToast(_0x64e31c){const _0xd5f23e=a3_0x488562,_0x162e4f=document[_0xd5f23e(0x1b4)](_0xd5f23e(0x13d));_0x162e4f[_0xd5f23e(0x226)]=_0x64e31c,_0x162e4f[_0xd5f23e(0x161)][_0xd5f23e(0x1f2)](_0xd5f23e(0x166)),setTimeout(()=>_0x162e4f['classList'][_0xd5f23e(0x1c2)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x2dcb93=a3_0x488562,_0x3ea7cb=document[_0x2dcb93(0x1b4)](_0x2dcb93(0x12d)),_0xcd2d7a=_0x3ea7cb['scrollLeft'],_0x4c865d=_0x3ea7cb[_0x2dcb93(0x1fa)],_0x583238=_0x3ea7cb[_0x2dcb93(0x1f4)];if(_0x4c865d-(_0xcd2d7a+_0x583238)<0x12c){const _0x18d14e=endOffset;endOffset+=0xe,renderDayRange(_0x18d14e+0x1,endOffset),reRenderBlocks();}if(_0xcd2d7a<0x12c){const _0x1fb836=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1fb836-0x1),_0x3ea7cb['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x19a0ff,_0xf88e0f){const _0x2b0bff=a3_0x488562,_0x391d17=document[_0x2b0bff(0x1b4)](_0x2b0bff(0x16a)),_0x25c6b6=document['getElementById'](_0x2b0bff(0x1bd)),_0x4f85a3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x51c7c5=new Date();_0x51c7c5['setHours'](0x0,0x0,0x0,0x0);const _0x13ba58=getLocalDateStr(new Date()),_0x353735=document[_0x2b0bff(0x167)](),_0xffa464=document[_0x2b0bff(0x167)]();for(let _0x20add7=_0x19a0ff;_0x20add7<=_0xf88e0f;_0x20add7++){const _0x2be4b0=new Date(_0x51c7c5);_0x2be4b0[_0x2b0bff(0x19e)](_0x2be4b0[_0x2b0bff(0x130)]()+_0x20add7);const _0x1f6b14=getLocalDateStr(_0x2be4b0);let _0x3db49d=_0x2be4b0[_0x2b0bff(0x21d)]()-0x1;if(_0x3db49d===-0x1)_0x3db49d=0x6;const _0x205740=_0x1f6b14===_0x13ba58,_0x3c5b42=document['createElement'](_0x2b0bff(0x1bb));_0x3c5b42['className']=_0x2b0bff(0x14a)+(_0x205740?'today':''),_0x3c5b42['setAttribute'](_0x2b0bff(0x13c),_0x1f6b14),_0x3c5b42[_0x2b0bff(0x1a7)]=_0x2b0bff(0x18d)+_0x4f85a3[_0x3db49d]+_0x2b0bff(0x21a)+_0x2be4b0[_0x2b0bff(0x130)]()+_0x2b0bff(0x137),_0x353735[_0x2b0bff(0x15e)](_0x3c5b42);const _0x4ee043=document[_0x2b0bff(0x1d2)](_0x2b0bff(0x1bb));_0x4ee043[_0x2b0bff(0x1cb)]=_0x2b0bff(0x1bf)+(_0x205740?_0x2b0bff(0x1c4):''),_0x4ee043[_0x2b0bff(0x158)](_0x2b0bff(0x13c),_0x1f6b14),_0x4ee043['setAttribute']('data-day-idx',_0x3db49d),_0xffa464[_0x2b0bff(0x15e)](_0x4ee043);}_0x391d17['insertBefore'](_0x353735,_0x391d17[_0x2b0bff(0x206)]),_0x25c6b6['insertBefore'](_0xffa464,_0x25c6b6[_0x2b0bff(0x163)](_0x2b0bff(0x1f3)));}function a3_0x396c(){const _0x156b52=['disableVerticalSwipes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','addEventListener','setDate','ru-RU','anEnd','setItem','seriesId','12eaCkbz','padStart','completed','v9.5-CLIENT-ANALYTICS','innerHTML','stringify','var(--acc-green)','value','globalTimeLine','getMinutes','cancelContainer','backgroundPosition','Critical\x20TMA\x20Error:','style','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','calc(','detTime','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','var(--acc-blue)','sid','.day-col-header','\x20–∏–∑\x20','toUpperCase','div','182794lDtVGb','gridColumns','max','day-column\x20','.day-col-header[data-date=\x22','min','remove','detailsSheet','today','applyData','done','BackButton','log','getTime','keys','className','customConfirm','zIndex','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','display','saveLocally','user','createElement','onClick','ccTitle','setMonth','600','long','filter','strokeDashoffset','%\x20-\x204px)','–∑–∞\x20','settings','json','planned','cancelHint','toLocaleDateString','block','top','blocked-range-part\x20stripe-bg','round','total','429510kuiiYM','360282AHThPM','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeColumn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','syncLoad','calendar','time-label','blocked-slot\x20stripe-bg','length','rsSlotsGrid','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','add','.day-column','clientWidth','45ExIQUk','.period-switch\x20.p-btn','WebApp','charAt','rescheduleSheet','scrollWidth','setBackgroundColor','\x20—á.','scrollTo','13qEckhB','width','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','auto','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','mini','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','(((.+)+)+)+$','firstChild','push','fontWeight','forEach','map','overlay','.btn-cancel','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','button','router.html','get_slots','detDate','getMonth','status','<span>','6rYOTJC','#0a84ff','reschedule','toLocaleString','day-off-overlay\x20stripe-bg','</div><div\x20class=\x22dch-num\x22>','slice','parse','getDay','active','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','then','event-card','colIndex',':00</span>','client_cancel','floor','textContent','rgba(10,\x20132,\x20255,\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','end','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','ready','729304yWIQLM','analyticsSheet','entries','matrixViewport','Telegram','offClick','getDate','clients','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','3006472vggdoK','data-day-idx','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','\x20status-completed','</div>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cid','.btn-reschedule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-date','toast','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','test','getHours','now','split','<div\x20class=\x22rs-day-name\x22>','uc_client_list','month','startsWith','uc_client_settings','setHeaderColor','.sheet','day-col-header\x20','POST','getFullYear','offsetLeft','2576424HobTgW','coachId','week','cancelled','clientId','data','33HGedqG','dateStr','height','getAttribute','setAttribute','substr','32765bnfboK','initDataUnsafe','numeric','getItem','appendChild','Error\x20setting\x20color:','Unknown','classList','anStart','querySelector','isArray','anCustomDates','show','createDocumentFragment','constructor','pattern','daysHeaderTrack','setHours','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','none','anTotalStats','rsDatesTrack','ccYesBtn','join','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','open','</div><div\x20class=\x22rs-day-num\x22>','borderLeftColor','.rs-date-chip','apply','36CXWVJS','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','toString','rs-time-btn','exceptions','location','querySelectorAll','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','loadLocal','flex','sort','Error\x20setting\x20back\x20button:','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','uc_client_sessions','find','ranges','onclick','client_load','error','visible','<div\x20class=\x22dch-day\x22>','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','headerMonth','px\x20-','initData','px\x200px','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','anDonutCircle','color','T23:59:59','custom','start','–û—Ç–º–µ–Ω–µ–Ω–æ','search'];a3_0x396c=function(){return _0x156b52;};return a3_0x396c();}function hexToRgba(_0x45d73c,_0x1d9aad){const _0x33f091=a3_0x488562;let _0x53c334;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x33f091(0x13f)](_0x45d73c))return _0x53c334=_0x45d73c['substring'](0x1)['split'](''),_0x53c334['length']==0x3&&(_0x53c334=[_0x53c334[0x0],_0x53c334[0x0],_0x53c334[0x1],_0x53c334[0x1],_0x53c334[0x2],_0x53c334[0x2]]),_0x53c334='0x'+_0x53c334[_0x33f091(0x171)](''),'rgba('+[_0x53c334>>0x10&0xff,_0x53c334>>0x8&0xff,_0x53c334&0xff][_0x33f091(0x171)](',')+','+_0x1d9aad+')';return _0x33f091(0x125)+_0x1d9aad+')';}let confirmResolver=null;function showCustomConfirm(_0x3af83f,_0x5a5eb5,_0x5612e8=!![]){const _0x426239=a3_0x488562;document[_0x426239(0x1b4)](_0x426239(0x1d4))[_0x426239(0x226)]=_0x3af83f,document[_0x426239(0x1b4)]('ccText')[_0x426239(0x226)]=_0x5a5eb5;const _0x154134=document['getElementById'](_0x426239(0x170));return _0x5612e8?(_0x154134['style'][_0x426239(0x195)]='#ff453a',_0x154134['style'][_0x426239(0x208)]='600'):(_0x154134[_0x426239(0x1b0)][_0x426239(0x195)]=_0x426239(0x216),_0x154134['style'][_0x426239(0x208)]=_0x426239(0x1d6)),new Promise(_0x570360=>{const _0x40ef2e=_0x426239;confirmResolver=_0x570360,document[_0x40ef2e(0x1b4)](_0x40ef2e(0x1cc))[_0x40ef2e(0x161)][_0x40ef2e(0x1f2)](_0x40ef2e(0x18c));});}function resolveCustomConfirm(_0x3ddcdd){const _0x2fc389=a3_0x488562;document[_0x2fc389(0x1b4)]('customConfirm')['classList']['remove'](_0x2fc389(0x18c));if(confirmResolver)confirmResolver(_0x3ddcdd);}async function tryCancelCurrentSession(){const _0x1af544=a3_0x488562;if(!currentSession)return;const _0x3cbf2d=await showCustomConfirm(_0x1af544(0x179),_0x1af544(0x180),!![]);if(!_0x3cbf2d)return;const _0x53bd10=currentSession;closeAllSheets(),sessions=sessions[_0x1af544(0x1d8)](_0x13ab8e=>_0x13ab8e['id']!==_0x53bd10['id']),reRenderBlocks(),showToast(_0x1af544(0x199)),lastUserActionTime=Date[_0x1af544(0x141)]();try{const _0x1b5a46=window[_0x1af544(0x12e)]?.[_0x1af544(0x1f7)],_0x704ef5=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x1af544(0x224),'init_data':_0x1b5a46?.['initData']||'','coachId':_0x53bd10[_0x1af544(0x14f)],'dateStr':_0x53bd10['dateStr'],'sessionId':_0x53bd10['id']})});if(_0x704ef5['ok'])DataManager['saveLocally']();}catch(_0x395041){showToast(_0x1af544(0x138));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xd83f77=a3_0x488562;if(!currentSession)return;document[_0xd83f77(0x1b4)](_0xd83f77(0x1c3))[_0xd83f77(0x161)][_0xd83f77(0x1c2)](_0xd83f77(0x173)),document[_0xd83f77(0x1b4)](_0xd83f77(0x1f9))['classList'][_0xd83f77(0x1f2)](_0xd83f77(0x173));const _0x2817ed=document[_0xd83f77(0x1b4)](_0xd83f77(0x16f)),_0xb459b=document[_0xd83f77(0x1b4)](_0xd83f77(0x1f0));_0x2817ed[_0xd83f77(0x1a7)]='',_0xb459b[_0xd83f77(0x1a7)]=_0xd83f77(0x200);const [_0x32420e,_0x1992d2]=currentSession[_0xd83f77(0x198)][_0xd83f77(0x142)](':')['map'](Number),[_0x243da1,_0x323ad8]=currentSession['end'][_0xd83f77(0x142)](':')[_0xd83f77(0x20a)](Number),_0xf46038=_0x243da1*0x3c+_0x323ad8-(_0x32420e*0x3c+_0x1992d2);try{const _0x358f57=window[_0xd83f77(0x12e)]?.[_0xd83f77(0x1f7)],_0x4e46ca=await fetch(API_URL,{'method':_0xd83f77(0x14b),'body':JSON['stringify']({'action':_0xd83f77(0x210),'coachId':currentSession['coachId'],'duration':_0xf46038,'init_data':_0x358f57?.[_0xd83f77(0x191)]||'','excludeSessionId':currentSession['id']})}),_0x175543=await _0x4e46ca[_0xd83f77(0x1dd)]();_0x175543['ok']&&_0x175543[_0xd83f77(0x153)]?(availableSlotsCache=_0x175543['data'],renderRescheduleDates()):_0xb459b[_0xd83f77(0x1a7)]=_0xd83f77(0x193);}catch(_0x4b1e5f){_0xb459b[_0xd83f77(0x1a7)]=_0xd83f77(0x128);}}function renderRescheduleDates(){const _0x21c3c4=a3_0x488562,_0x4482b6=document[_0x21c3c4(0x1b4)](_0x21c3c4(0x16f));_0x4482b6[_0x21c3c4(0x1a7)]='';const _0x39bba3=Object[_0x21c3c4(0x1ca)](availableSlotsCache)[_0x21c3c4(0x183)](),_0x269bd6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x39bba3[_0x21c3c4(0x1ef)]===0x0){document[_0x21c3c4(0x1b4)](_0x21c3c4(0x1f0))[_0x21c3c4(0x1a7)]=_0x21c3c4(0x13e);return;}_0x39bba3[_0x21c3c4(0x209)]((_0x2febd8,_0x312631)=>{const _0x50e742=_0x21c3c4,_0x3bd1b4=new Date(_0x2febd8),_0x5eccce=_0x269bd6[_0x3bd1b4[_0x50e742(0x21d)]()],_0x4c90d5=_0x3bd1b4[_0x50e742(0x130)](),_0x20c272=document[_0x50e742(0x1d2)](_0x50e742(0x1bb));_0x20c272[_0x50e742(0x1cb)]='rs-date-chip';if(_0x312631===0x0)_0x20c272['classList'][_0x50e742(0x1f2)](_0x50e742(0x21e));_0x20c272[_0x50e742(0x1a7)]=_0x50e742(0x143)+_0x5eccce+_0x50e742(0x174)+_0x4c90d5+_0x50e742(0x137),_0x20c272[_0x50e742(0x189)]=()=>selectRsDate(_0x2febd8,_0x20c272),_0x4482b6[_0x50e742(0x15e)](_0x20c272);}),selectRsDate(_0x39bba3[0x0],_0x4482b6[_0x21c3c4(0x206)]);}function selectRsDate(_0x23e13d,_0x5eb096){const _0x1a2504=a3_0x488562;selectedRsDate=_0x23e13d,document[_0x1a2504(0x17e)](_0x1a2504(0x176))[_0x1a2504(0x209)](_0x2f114c=>_0x2f114c['classList']['remove']('active'));if(_0x5eb096)_0x5eb096['classList']['add'](_0x1a2504(0x21e));const _0x4782ac=document['getElementById'](_0x1a2504(0x1f0));_0x4782ac[_0x1a2504(0x1a7)]='';const _0x216824=availableSlotsCache[_0x23e13d]||[];if(_0x216824[_0x1a2504(0x1ef)]===0x0){_0x4782ac[_0x1a2504(0x1a7)]=_0x1a2504(0x193);return;}_0x216824[_0x1a2504(0x209)](_0x2a8bee=>{const _0x3535f4=_0x1a2504,_0x33df73=document['createElement'](_0x3535f4(0x20e));_0x33df73[_0x3535f4(0x1cb)]=_0x3535f4(0x17b),_0x33df73['textContent']=_0x2a8bee,_0x33df73[_0x3535f4(0x189)]=()=>confirmReschedule(_0x2a8bee),_0x4782ac[_0x3535f4(0x15e)](_0x33df73);});}async function confirmReschedule(_0x2ed206){const _0x22c581=a3_0x488562,_0x8d4a74=new Date(selectedRsDate),_0x21c9d3=_0x8d4a74[_0x22c581(0x1e0)](_0x22c581(0x19f),{'day':_0x22c581(0x15c),'month':'long'}),_0xbeffb4=await showCustomConfirm(_0x22c581(0x18e),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x21c9d3+'\x20–≤\x20'+_0x2ed206+'?',![]);if(!_0xbeffb4)return;closeAllSheets(),showToast(_0x22c581(0x16c)),lastUserActionTime=Date[_0x22c581(0x141)]();const _0x53d0d7=currentSession[_0x22c581(0x155)],_0x21e807=currentSession['id'],[_0x37e206,_0x1b7b66]=currentSession[_0x22c581(0x198)][_0x22c581(0x142)](':')[_0x22c581(0x20a)](Number),[_0x173f98,_0x388992]=currentSession[_0x22c581(0x127)][_0x22c581(0x142)](':')[_0x22c581(0x20a)](Number),_0x328ceb=_0x173f98*0x3c+_0x388992-(_0x37e206*0x3c+_0x1b7b66),[_0x1a61b7,_0x48b15e]=_0x2ed206['split'](':')[_0x22c581(0x20a)](Number),_0x8a10d2=_0x1a61b7*0x3c+_0x48b15e+_0x328ceb,_0x3c384a=Math[_0x22c581(0x225)](_0x8a10d2/0x3c),_0x5bb0a6=_0x8a10d2%0x3c,_0x39435c=String(_0x3c384a)[_0x22c581(0x1a4)](0x2,'0')+':'+String(_0x5bb0a6)[_0x22c581(0x1a4)](0x2,'0'),_0xea5bc9=sessions['findIndex'](_0x17d8d9=>_0x17d8d9['id']===_0x21e807);_0xea5bc9!==-0x1&&(sessions[_0xea5bc9][_0x22c581(0x155)]=selectedRsDate,sessions[_0xea5bc9][_0x22c581(0x198)]=_0x2ed206,sessions[_0xea5bc9]['end']=_0x39435c,reRenderBlocks());try{const _0x3ee843=window[_0x22c581(0x12e)]?.[_0x22c581(0x1f7)],_0x57f0c6=await fetch(API_URL,{'method':'POST','body':JSON[_0x22c581(0x1a8)]({'action':_0x22c581(0x217),'init_data':_0x3ee843?.[_0x22c581(0x191)]||'','oldSessionId':_0x21e807,'oldDate':_0x53d0d7,'newDate':selectedRsDate,'newTime':_0x2ed206,'coachId':currentSession[_0x22c581(0x14f)]})}),_0x13a8ef=await _0x57f0c6[_0x22c581(0x1dd)]();!_0x13a8ef['ok']?(showToast(_0x22c581(0x1ce)),DataManager['syncLoad']()):(showToast(_0x22c581(0x135)),DataManager[_0x22c581(0x1d0)]());}catch(_0x1eef81){showToast(_0x22c581(0x138));}}document[a3_0x488562(0x19d)]('DOMContentLoaded',init);