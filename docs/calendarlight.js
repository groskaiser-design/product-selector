const a3_0x548af6=a3_0x275a;(function(_0x3371a4,_0x15453b){const _0x3e777d=a3_0x275a,_0x51925a=_0x3371a4();while(!![]){try{const _0x571c1a=-parseInt(_0x3e777d(0x1f4))/0x1+-parseInt(_0x3e777d(0x164))/0x2+parseInt(_0x3e777d(0x140))/0x3+-parseInt(_0x3e777d(0x215))/0x4*(parseInt(_0x3e777d(0x197))/0x5)+parseInt(_0x3e777d(0x1f9))/0x6+-parseInt(_0x3e777d(0x18a))/0x7+parseInt(_0x3e777d(0x1dd))/0x8*(parseInt(_0x3e777d(0x189))/0x9);if(_0x571c1a===_0x15453b)break;else _0x51925a['push'](_0x51925a['shift']());}catch(_0x182e82){_0x51925a['push'](_0x51925a['shift']());}}}(a3_0x3112,0xc6ad2));const APP_VERSION=a3_0x548af6(0x202),API_URL=a3_0x548af6(0x219),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x548af6(0x1cd),KEY_CLIENTS=a3_0x548af6(0x1b6);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x548af6(0x15b),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x582618=a3_0x548af6,_0x352706=(function(){let _0x24b0ea=!![];return function(_0x2c4763,_0x36461e){const _0x5f45c0=_0x24b0ea?function(){const _0x24d0d4=a3_0x275a;if(_0x36461e){const _0x55f17d=_0x36461e[_0x24d0d4(0x1cc)](_0x2c4763,arguments);return _0x36461e=null,_0x55f17d;}}:function(){};return _0x24b0ea=![],_0x5f45c0;};}()),_0x40092a=_0x352706(this,function(){const _0x2b848a=a3_0x275a;return _0x40092a[_0x2b848a(0x1d0)]()[_0x2b848a(0x1d2)]('(((.+)+)+)+$')[_0x2b848a(0x1d0)]()[_0x2b848a(0x12c)](_0x40092a)[_0x2b848a(0x1d2)](_0x2b848a(0x1d7));});_0x40092a();try{const _0x1c9fd7=window['Telegram']?.[_0x582618(0x1b7)];if(!_0x1c9fd7)return;_0x1c9fd7['ready'](),_0x1c9fd7[_0x582618(0x191)]();try{_0x1c9fd7[_0x582618(0x179)](_0x582618(0x166)),_0x1c9fd7[_0x582618(0x1ab)]&&_0x1c9fd7['setBackgroundColor'](_0x582618(0x166));}catch(_0xada35b){console[_0x582618(0x1c2)](_0x582618(0x14a),_0xada35b);}try{_0x1c9fd7[_0x582618(0x190)]&&(_0x1c9fd7[_0x582618(0x190)][_0x582618(0x1e1)](),_0x1c9fd7[_0x582618(0x190)][_0x582618(0x1f0)](),_0x1c9fd7['BackButton'][_0x582618(0x129)](function(){const _0x2ccc21=_0x582618;window[_0x2ccc21(0x1a4)][_0x2ccc21(0x204)]='router.html';}));}catch(_0x1afe75){console['log']('Error\x20setting\x20back\x20button:',_0x1afe75);}try{if(_0x1c9fd7[_0x582618(0x16b)])_0x1c9fd7[_0x582618(0x16b)]();}catch(_0x12f187){}}catch(_0x31f817){console[_0x582618(0x1ac)]('Critical\x20TMA\x20Error:',_0x31f817);}}());function isAdmin(){const _0x53c097=a3_0x548af6;try{const _0x16981d=Number(window[_0x53c097(0x1fa)]?.[_0x53c097(0x1b7)]?.['initDataUnsafe']?.['user']?.['id']);return _0x16981d===0xbaf7174;}catch(_0x2726d5){return![];}}const DataManager={'saveLocally'(){const _0x4d1d25=a3_0x548af6;try{localStorage[_0x4d1d25(0x1b1)](KEY_SESSIONS,JSON[_0x4d1d25(0x20f)](sessions)),localStorage[_0x4d1d25(0x1b1)](KEY_CLIENTS,JSON[_0x4d1d25(0x20f)](clients)),localStorage[_0x4d1d25(0x1b1)](KEY_SETTINGS,JSON[_0x4d1d25(0x20f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1b770b){}},'loadLocal'(){const _0x289127=a3_0x548af6;try{const _0x283f94=localStorage[_0x289127(0x210)](KEY_SESSIONS);if(_0x283f94)sessions=JSON[_0x289127(0x150)](_0x283f94);const _0x111ebd=localStorage[_0x289127(0x210)](KEY_CLIENTS);if(_0x111ebd)clients=JSON['parse'](_0x111ebd);const _0x25eb69=localStorage['getItem'](KEY_SETTINGS);if(_0x25eb69){const _0x3ae9e7=JSON['parse'](_0x25eb69);if(_0x3ae9e7[_0x289127(0x159)])availabilityPattern=_0x3ae9e7[_0x289127(0x159)];if(_0x3ae9e7[_0x289127(0x1d6)])specialRanges=_0x3ae9e7[_0x289127(0x1d6)];if(_0x3ae9e7[_0x289127(0x13a)])dateExceptions=_0x3ae9e7['exceptions'];}}catch(_0x1e426f){}},async 'syncLoad'(){const _0x4ca0ca=a3_0x548af6,_0x389314=new Date(),_0x3b7917=_0x389314[_0x4ca0ca(0x13c)]()+'-'+String(_0x389314[_0x4ca0ca(0x1cf)]()+0x1)[_0x4ca0ca(0x144)](0x2,'0'),_0x105b9d=new Date(_0x389314);_0x105b9d[_0x4ca0ca(0x1a3)](_0x389314[_0x4ca0ca(0x1cf)]()+0x1);const _0x561bc7=_0x105b9d['getFullYear']()+'-'+String(_0x105b9d['getMonth']()+0x1)[_0x4ca0ca(0x144)](0x2,'0'),_0x310b61=Date[_0x4ca0ca(0x157)]();try{const _0x1ea88e=window[_0x4ca0ca(0x1fa)]?.['WebApp'],_0x245164=_0x1ea88e?.[_0x4ca0ca(0x1e7)]||'',[_0x117da1,_0xdfe739]=await Promise[_0x4ca0ca(0x163)]([fetch(API_URL,{'method':_0x4ca0ca(0x1e9),'body':JSON[_0x4ca0ca(0x20f)]({'action':_0x4ca0ca(0x171),'init_data':_0x245164,'month_str':_0x3b7917})})['then'](_0x3c8d2d=>_0x3c8d2d[_0x4ca0ca(0x1c1)]()),fetch(API_URL,{'method':_0x4ca0ca(0x1e9),'body':JSON[_0x4ca0ca(0x20f)]({'action':'client_load','init_data':_0x245164,'month_str':_0x561bc7})})[_0x4ca0ca(0x15d)](_0x214568=>_0x214568['json']())]);if(lastUserActionTime>_0x310b61){console[_0x4ca0ca(0x1c2)](_0x4ca0ca(0x1d3));return;}if(_0x117da1['ok'])this[_0x4ca0ca(0x201)](_0x117da1[_0x4ca0ca(0x1a7)],_0x3b7917);if(_0xdfe739['ok'])this['applyData'](_0xdfe739['data'],_0x561bc7);this['saveLocally']();}catch(_0x1e271e){}},'applyData'(_0x803654,_0x11f018){const _0xbd5e1a=a3_0x548af6;if(!_0x803654)return;if(_0x803654[_0xbd5e1a(0x149)]){if(_0x803654[_0xbd5e1a(0x149)][_0xbd5e1a(0x159)])availabilityPattern=_0x803654[_0xbd5e1a(0x149)]['pattern'];if(_0x803654[_0xbd5e1a(0x149)][_0xbd5e1a(0x1d6)])specialRanges=_0x803654['settings'][_0xbd5e1a(0x1d6)];if(_0x803654[_0xbd5e1a(0x149)][_0xbd5e1a(0x13a)])dateExceptions=_0x803654[_0xbd5e1a(0x149)][_0xbd5e1a(0x13a)];}if(_0x803654[_0xbd5e1a(0x1fe)]&&Array['isArray'](_0x803654[_0xbd5e1a(0x1fe)]))clients=_0x803654[_0xbd5e1a(0x1fe)];_0x803654['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x803654['coach_profiles']}),_0x803654['calendar']&&(sessions=sessions[_0xbd5e1a(0x1c8)](_0x442f50=>!_0x442f50[_0xbd5e1a(0x20a)][_0xbd5e1a(0x16c)](_0x11f018)),Object[_0xbd5e1a(0x142)](_0x803654[_0xbd5e1a(0x1c4)])['forEach'](_0x549db8=>{const _0x315cc4=_0xbd5e1a,_0x2beb24=_0x803654[_0x315cc4(0x1c4)][_0x549db8];_0x2beb24[_0x315cc4(0x1d5)](_0x3d5014=>{const _0x144214=_0x315cc4;sessions['push']({'id':_0x3d5014['i'],'clientId':_0x3d5014['c'],'coachId':_0x3d5014[_0x144214(0x1bd)],'dateStr':_0x11f018+'-'+_0x549db8[_0x144214(0x144)](0x2,'0'),'start':_0x3d5014['s'],'end':_0x3d5014['e'],'note':_0x3d5014['n']||'','status':_0x3d5014['st']||'planned','seriesId':_0x3d5014[_0x144214(0x19e)]});});})),reRenderBlocks();}};function init(){const _0xca17f1=a3_0x548af6;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xca17f1(0x16f)](_0xca17f1(0x1ee))[_0xca17f1(0x1bf)](_0xca17f1(0x1aa),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x12e993=a3_0x548af6,_0x269ec2=document['getElementById'](_0x12e993(0x1f6)),_0x1d359f=document['getElementById']('timeLineBadge');_0x269ec2['innerHTML']='',_0x269ec2[_0x12e993(0x135)](_0x1d359f);for(let _0x52b1cf=0x0;_0x52b1cf<0x18;_0x52b1cf++){const _0x5719a3=document[_0x12e993(0x1a9)](_0x12e993(0x183));_0x5719a3[_0x12e993(0x21a)]=_0x12e993(0x165);if(_0x52b1cf>0x0)_0x5719a3[_0x12e993(0x1e2)]=_0x12e993(0x151)+String(_0x52b1cf)['padStart'](0x2,'0')+_0x12e993(0x200);_0x269ec2[_0x12e993(0x135)](_0x5719a3);}}function renderDayRange(_0x2864d1,_0x399cf5){const _0x3ec411=a3_0x548af6,_0x135276=document['getElementById']('daysHeaderTrack'),_0x19f75a=document[_0x3ec411(0x16f)]('gridColumns'),_0x2150fe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x839020=new Date();_0x839020['setHours'](0x0,0x0,0x0,0x0);const _0x3e7044=getLocalDateStr(new Date());for(let _0x2422d0=_0x2864d1;_0x2422d0<=_0x399cf5;_0x2422d0++){const _0x488d81=new Date(_0x839020);_0x488d81[_0x3ec411(0x18c)](_0x488d81['getDate']()+_0x2422d0);const _0x2c8e5f=getLocalDateStr(_0x488d81);let _0x55bdb8=_0x488d81[_0x3ec411(0x1b0)]()-0x1;if(_0x55bdb8===-0x1)_0x55bdb8=0x6;const _0x5d5670=_0x2c8e5f===_0x3e7044,_0x1c9700=document[_0x3ec411(0x1a9)]('div');_0x1c9700[_0x3ec411(0x21a)]=_0x3ec411(0x167)+(_0x5d5670?_0x3ec411(0x139):''),_0x1c9700[_0x3ec411(0x181)]('data-date',_0x2c8e5f),_0x1c9700[_0x3ec411(0x1e2)]=_0x3ec411(0x12f)+_0x2150fe[_0x55bdb8]+'</div><div\x20class=\x22dch-num\x22>'+_0x488d81[_0x3ec411(0x1fd)]()+_0x3ec411(0x1ef),_0x135276['appendChild'](_0x1c9700);const _0x3c6efc=document[_0x3ec411(0x1a9)](_0x3ec411(0x183));_0x3c6efc[_0x3ec411(0x21a)]='day-column\x20'+(_0x5d5670?'today':''),_0x3c6efc[_0x3ec411(0x181)]('data-date',_0x2c8e5f),_0x3c6efc[_0x3ec411(0x181)](_0x3ec411(0x143),_0x55bdb8),_0x19f75a[_0x3ec411(0x135)](_0x3c6efc);}}function reRenderBlocks(){const _0x6618d7=a3_0x548af6;document[_0x6618d7(0x1e6)]('.day-column')[_0x6618d7(0x1d5)](_0x4f8e1a=>{const _0x586162=_0x6618d7;_0x4f8e1a[_0x586162(0x1e6)](_0x586162(0x1ed))[_0x586162(0x1d5)](_0x587d0b=>_0x587d0b[_0x586162(0x126)]());const _0x306b34=_0x4f8e1a[_0x586162(0x1c9)](_0x586162(0x1e0)),_0x2bbafa=parseInt(_0x4f8e1a[_0x586162(0x1c9)](_0x586162(0x143))),_0x2f115f=Math[_0x586162(0x153)](_0x4f8e1a[_0x586162(0x19a)]);(availabilityPattern[_0x2bbafa]||[])[_0x586162(0x1d5)](_0x5b29d5=>{const _0x5ab854=_0x586162,_0x300dd5=document['createElement']('div');_0x300dd5[_0x5ab854(0x21a)]=_0x5ab854(0x178),_0x300dd5[_0x5ab854(0x1ea)][_0x5ab854(0x1db)]=_0x5b29d5*GRID_H+'px',_0x300dd5[_0x5ab854(0x1ea)][_0x5ab854(0x1e5)]='-'+_0x2f115f+_0x5ab854(0x1c6)+_0x5b29d5*GRID_H+'px',_0x4f8e1a[_0x5ab854(0x135)](_0x300dd5);});if(specialRanges['length']>0x0){const _0x2bba1b=new Date(_0x306b34+_0x586162(0x1b2))[_0x586162(0x15a)](),_0x5b3a95=new Date(_0x306b34+_0x586162(0x12a))[_0x586162(0x15a)]();specialRanges['forEach'](_0x12c0b3=>{const _0x5cdcf9=_0x586162,_0x25314a=new Date(_0x12c0b3[_0x5cdcf9(0x132)])[_0x5cdcf9(0x15a)](),_0x4a974b=new Date(_0x12c0b3[_0x5cdcf9(0x1ec)])[_0x5cdcf9(0x15a)](),_0x3d4bdb=Math['max'](_0x2bba1b,_0x25314a),_0x2cddb9=Math[_0x5cdcf9(0x187)](_0x5b3a95,_0x4a974b);if(_0x3d4bdb<_0x2cddb9){const _0x145a99=(_0x3d4bdb-_0x2bba1b)/0x36ee80*GRID_H,_0x55fe79=(_0x2cddb9-_0x3d4bdb)/0x36ee80*GRID_H,_0x323a26=document[_0x5cdcf9(0x1a9)]('div');_0x55fe79>=23.5*GRID_H?(_0x323a26[_0x5cdcf9(0x21a)]=_0x5cdcf9(0x145),_0x323a26['style'][_0x5cdcf9(0x1e5)]='-'+_0x2f115f+'px\x200px'):(_0x323a26[_0x5cdcf9(0x21a)]=_0x5cdcf9(0x1df),_0x323a26[_0x5cdcf9(0x1ea)][_0x5cdcf9(0x1db)]=_0x145a99+'px',_0x323a26[_0x5cdcf9(0x1ea)][_0x5cdcf9(0x1ca)]=_0x55fe79+'px',_0x323a26[_0x5cdcf9(0x1ea)][_0x5cdcf9(0x1e5)]='-'+_0x2f115f+'px\x20-'+_0x145a99+'px'),_0x4f8e1a[_0x5cdcf9(0x135)](_0x323a26);}});}renderEventsForColumn(_0x4f8e1a,_0x306b34);});}function renderEventsForColumn(_0x38bd5f,_0x18ff60){const _0x5653d3=a3_0x548af6,_0x5d7a30=sessions[_0x5653d3(0x1c8)](_0x5610c4=>_0x5610c4[_0x5653d3(0x20a)]===_0x18ff60),_0x4f36e6=_0x5d7a30['map'](_0x465ce8=>{const _0x395ff3=_0x5653d3,[_0x50b07e,_0x4ca303]=_0x465ce8[_0x395ff3(0x132)][_0x395ff3(0x1f5)](':')[_0x395ff3(0x174)](Number),[_0x35adac,_0x239d83]=_0x465ce8[_0x395ff3(0x1ec)][_0x395ff3(0x1f5)](':')[_0x395ff3(0x174)](Number);return{'data':_0x465ce8,'start':_0x50b07e*0x3c+_0x4ca303,'end':_0x35adac*0x3c+_0x239d83,'colIndex':0x0};});_0x4f36e6[_0x5653d3(0x160)]((_0x5c3fc2,_0x3ea132)=>_0x5c3fc2[_0x5653d3(0x132)]-_0x3ea132[_0x5653d3(0x132)]||_0x3ea132[_0x5653d3(0x1ec)]-_0x3ea132['start']-(_0x5c3fc2[_0x5653d3(0x1ec)]-_0x5c3fc2[_0x5653d3(0x132)]));const _0x4ccf23=[];_0x4f36e6[_0x5653d3(0x1d5)](_0x682e16=>{const _0xa4ddfc=_0x5653d3;let _0x47bc92=![];for(let _0x56842f=0x0;_0x56842f<_0x4ccf23[_0xa4ddfc(0x176)];_0x56842f++){const _0x5f3da5=_0x4ccf23[_0x56842f];if(_0x682e16[_0xa4ddfc(0x132)]>=_0x5f3da5[_0x5f3da5[_0xa4ddfc(0x176)]-0x1][_0xa4ddfc(0x1ec)]){_0x5f3da5[_0xa4ddfc(0x1b9)](_0x682e16),_0x682e16[_0xa4ddfc(0x208)]=_0x56842f,_0x47bc92=!![];break;}}!_0x47bc92&&(_0x4ccf23['push']([_0x682e16]),_0x682e16[_0xa4ddfc(0x208)]=_0x4ccf23[_0xa4ddfc(0x176)]-0x1);}),_0x4f36e6['forEach'](_0x4b55a6=>{const _0x4b2a71=_0x5653d3;let _0x308ec2=0x0;_0x4f36e6[_0x4b2a71(0x1d5)](_0x12b3b3=>{const _0x8aef98=_0x4b2a71;if(Math[_0x8aef98(0x1c5)](_0x4b55a6[_0x8aef98(0x132)],_0x12b3b3[_0x8aef98(0x132)])<Math[_0x8aef98(0x187)](_0x4b55a6[_0x8aef98(0x1ec)],_0x12b3b3[_0x8aef98(0x1ec)])&&_0x12b3b3[_0x8aef98(0x208)]>_0x308ec2)_0x308ec2=_0x12b3b3[_0x8aef98(0x208)];});const _0xa5ae91=_0x308ec2+0x1,_0x4892b8=0x64/_0xa5ae91,_0x34c515=_0x4b55a6[_0x4b2a71(0x208)]*_0x4892b8,_0x3774df=document['createElement'](_0x4b2a71(0x183)),_0x42040e=_0x4b55a6['data'];let _0x19d041='#0a84ff';if(clients&&clients['length']>0x0){const _0x3ceb20=clients[_0x4b2a71(0x14b)](_0x82227d=>String(_0x82227d['id'])===String(_0x42040e[_0x4b2a71(0x14f)]));if(_0x3ceb20&&_0x3ceb20[_0x4b2a71(0x1b8)])_0x19d041=_0x3ceb20[_0x4b2a71(0x1b8)];}const _0x4bf059=_0x42040e[_0x4b2a71(0x1be)]==='completed',_0x5ca219=_0x4bf059?0x1:0.45;_0x3774df[_0x4b2a71(0x21a)]=_0x4b2a71(0x15f)+(_0x4bf059?_0x4b2a71(0x16e):''),_0x3774df['style'][_0x4b2a71(0x1a8)]=hexToRgba(_0x19d041,_0x5ca219),_0x3774df[_0x4b2a71(0x1ea)][_0x4b2a71(0x209)]=_0x19d041;const _0x44d4b8=_0x4b55a6['start']/0x3c*GRID_H,_0xd083d3=(_0x4b55a6[_0x4b2a71(0x1ec)]-_0x4b55a6[_0x4b2a71(0x132)])/0x3c*GRID_H;_0x3774df[_0x4b2a71(0x1ea)]['top']=_0x44d4b8+'px',_0x3774df[_0x4b2a71(0x1ea)]['height']=Math[_0x4b2a71(0x1c5)](_0xd083d3,0x14)+'px',_0x3774df[_0x4b2a71(0x1ea)]['width']='calc('+_0x4892b8+_0x4b2a71(0x13e),_0x3774df[_0x4b2a71(0x1ea)][_0x4b2a71(0x186)]=_0x4b2a71(0x1c0)+_0x34c515+_0x4b2a71(0x170),_0x3774df['style'][_0x4b2a71(0x1e8)]=0xa+_0x4b55a6[_0x4b2a71(0x208)];if(_0x4892b8<0x55)_0x3774df['classList'][_0x4b2a71(0x148)](_0x4b2a71(0x1a0));let _0x562cb2='';if(_0x42040e[_0x4b2a71(0x18f)])_0x562cb2+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x4bf059)_0x562cb2+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x3774df[_0x4b2a71(0x1e2)]=_0x4b2a71(0x1fc)+_0x42040e['start']+_0x4b2a71(0x213)+_0x42040e[_0x4b2a71(0x1ec)]+_0x4b2a71(0x1f2)+_0x562cb2+_0x4b2a71(0x1d9),_0x3774df['onclick']=_0x40ea8a=>{_0x40ea8a['stopPropagation'](),openDetails(_0x42040e);},_0x38bd5f['appendChild'](_0x3774df);});}function a3_0x275a(_0x1a914b,_0x476066){_0x1a914b=_0x1a914b-0x122;const _0x585672=a3_0x3112();let _0x150d2c=_0x585672[_0x1a914b];return _0x150d2c;}function openAnalytics(){const _0x20c144=a3_0x548af6,_0x5c121c=document['querySelector'](_0x20c144(0x175));setAnalyticsPeriod(_0x20c144(0x15b),_0x5c121c),openSheet(_0x20c144(0x1e3));}function setAnalyticsPeriod(_0x47dcd5,_0x5f569e){const _0x1ea5d0=a3_0x548af6;currentAnPeriod=_0x47dcd5,document[_0x1ea5d0(0x1e6)](_0x1ea5d0(0x175))[_0x1ea5d0(0x1d5)](_0x31ae56=>_0x31ae56[_0x1ea5d0(0x1ce)][_0x1ea5d0(0x126)](_0x1ea5d0(0x134)));if(_0x5f569e)_0x5f569e[_0x1ea5d0(0x1ce)][_0x1ea5d0(0x148)](_0x1ea5d0(0x134));const _0x1eb967=document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x18d));_0x1eb967[_0x1ea5d0(0x1ea)]['display']=_0x47dcd5===_0x1ea5d0(0x218)?_0x1ea5d0(0x124):_0x1ea5d0(0x1e4);const _0x2da31f=new Date();let _0x1d376e=new Date(),_0x2b1e57=new Date();if(_0x47dcd5===_0x1ea5d0(0x15b))_0x1d376e=getStartOfWeek(_0x2da31f),_0x2b1e57=new Date(_0x1d376e),_0x2b1e57[_0x1ea5d0(0x18c)](_0x2b1e57['getDate']()+0x6);else{if(_0x47dcd5==='month')_0x1d376e=new Date(_0x2da31f[_0x1ea5d0(0x13c)](),_0x2da31f[_0x1ea5d0(0x1cf)](),0x1),_0x2b1e57=new Date(_0x2da31f[_0x1ea5d0(0x13c)](),_0x2da31f[_0x1ea5d0(0x1cf)]()+0x1,0x0);else{!document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x1b3))['value']&&(document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x1b3))[_0x1ea5d0(0x13b)]=getLocalDateStr(_0x2da31f),document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x16a))['value']=getLocalDateStr(_0x2da31f));refreshAnalytics();return;}}document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x1b3))[_0x1ea5d0(0x13b)]=getLocalDateStr(_0x1d376e),document[_0x1ea5d0(0x16f)](_0x1ea5d0(0x16a))['value']=getLocalDateStr(_0x2b1e57),refreshAnalytics();}function refreshAnalytics(){const _0x34e3fb=a3_0x548af6,_0x45adff=document[_0x34e3fb(0x16f)](_0x34e3fb(0x1b3))[_0x34e3fb(0x13b)],_0x1b7e74=document[_0x34e3fb(0x16f)]('anEnd')[_0x34e3fb(0x13b)];if(!_0x45adff||!_0x1b7e74)return;const _0x1cd3d0=sessions['filter'](_0x5ab18a=>_0x5ab18a[_0x34e3fb(0x20a)]>=_0x45adff&&_0x5ab18a[_0x34e3fb(0x20a)]<=_0x1b7e74&&_0x5ab18a[_0x34e3fb(0x1be)]!==_0x34e3fb(0x130)),_0x4c6529=_0x1cd3d0[_0x34e3fb(0x176)],_0x5e397b=_0x1cd3d0[_0x34e3fb(0x1c8)](_0x58a657=>_0x58a657[_0x34e3fb(0x1be)]==='completed')[_0x34e3fb(0x176)],_0x39c18c=_0x4c6529>0x0?Math[_0x34e3fb(0x153)](_0x5e397b/_0x4c6529*0x64):0x0;document['getElementById'](_0x34e3fb(0x128))['textContent']=_0x39c18c+'%',document['getElementById'](_0x34e3fb(0x146))[_0x34e3fb(0x196)]=_0x5e397b+'\x20–∏–∑\x20'+_0x4c6529+_0x34e3fb(0x217);const _0x54195f=document[_0x34e3fb(0x16f)](_0x34e3fb(0x1d1)),_0x273920=0x2*Math['PI']*0x23,_0x4b3277=_0x273920-_0x39c18c/0x64*_0x273920;_0x54195f[_0x34e3fb(0x1ea)][_0x34e3fb(0x206)]=_0x4b3277;const _0x42c513={};_0x1cd3d0[_0x34e3fb(0x1d5)](_0x510718=>{const _0x4bb0ad=_0x34e3fb,_0x87dcce=_0x510718['coachId']||_0x4bb0ad(0x1ba);if(!_0x42c513[_0x87dcce]){const _0x47c404='#'+_0x87dcce[_0x4bb0ad(0x1d0)]()['substr'](0x0,0x6);_0x42c513[_0x87dcce]={'total':0x0,'done':0x0,'color':_0x47c404};}_0x42c513[_0x87dcce]['total']++;if(_0x510718[_0x4bb0ad(0x1be)]===_0x4bb0ad(0x122))_0x42c513[_0x87dcce][_0x4bb0ad(0x1a1)]++;});const _0x176b0e=document[_0x34e3fb(0x16f)](_0x34e3fb(0x1ae));_0x176b0e[_0x34e3fb(0x1e2)]='';const _0x53ef1a=Object[_0x34e3fb(0x155)](_0x42c513)[_0x34e3fb(0x160)]((_0x3dc3be,_0x53834c)=>_0x53834c[0x1][_0x34e3fb(0x180)]-_0x3dc3be[0x1][_0x34e3fb(0x180)]);if(_0x53ef1a[_0x34e3fb(0x176)]===0x0){_0x176b0e[_0x34e3fb(0x1e2)]=_0x34e3fb(0x162);return;}_0x53ef1a['forEach'](([_0x3c6a5b,_0x30c589])=>{const _0x3d1652=_0x34e3fb,_0x108baa=Math[_0x3d1652(0x153)](_0x30c589['done']/_0x30c589[_0x3d1652(0x180)]*0x64),_0x58970e=document[_0x3d1652(0x1a9)](_0x3d1652(0x183));_0x58970e[_0x3d1652(0x21a)]='client-stat-card',_0x58970e['style'][_0x3d1652(0x209)]=_0x30c589[_0x3d1652(0x1b8)],_0x58970e[_0x3d1652(0x1e2)]=_0x3d1652(0x17b)+_0x3c6a5b[_0x3d1652(0x12d)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x30c589['done']+'</span>\x20/\x20'+_0x30c589[_0x3d1652(0x180)]+_0x3d1652(0x1f3)+_0x108baa+_0x3d1652(0x1ad),_0x176b0e['appendChild'](_0x58970e);});}function openDetails(_0x58e9a1){const _0x579ae9=a3_0x548af6;currentSession=_0x58e9a1;const _0x3f7fa7=new Date(_0x58e9a1[_0x579ae9(0x20a)]),_0x2d6dda=_0x3f7fa7['toLocaleDateString']('ru-RU',{'weekday':_0x579ae9(0x199),'day':_0x579ae9(0x1fb),'month':_0x579ae9(0x199)});document[_0x579ae9(0x16f)]('detDate')['textContent']=_0x2d6dda[_0x579ae9(0x193)](0x0)[_0x579ae9(0x188)]()+_0x2d6dda['slice'](0x1),document[_0x579ae9(0x16f)](_0x579ae9(0x216))[_0x579ae9(0x196)]=_0x58e9a1[_0x579ae9(0x132)]+_0x579ae9(0x213)+_0x58e9a1[_0x579ae9(0x1ec)],document[_0x579ae9(0x16f)](_0x579ae9(0x17e))[_0x579ae9(0x196)]=_0x58e9a1[_0x579ae9(0x1da)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x431a45=document[_0x579ae9(0x16f)](_0x579ae9(0x169)),_0x409715=document[_0x579ae9(0x16f)](_0x579ae9(0x1c7)),_0x4983e2=_0x409715[_0x579ae9(0x19f)](_0x579ae9(0x154)),_0x3a8354=_0x409715[_0x579ae9(0x19f)](_0x579ae9(0x12e)),_0x5af594=document[_0x579ae9(0x16f)]('cancelHint');if(_0x58e9a1[_0x579ae9(0x1be)]===_0x579ae9(0x122))_0x431a45[_0x579ae9(0x196)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x431a45[_0x579ae9(0x1ea)][_0x579ae9(0x1b8)]=_0x579ae9(0x138),_0x409715[_0x579ae9(0x1ea)][_0x579ae9(0x13d)]=_0x579ae9(0x1e4);else{_0x431a45[_0x579ae9(0x196)]=_0x579ae9(0x17a),_0x431a45[_0x579ae9(0x1ea)][_0x579ae9(0x1b8)]=_0x579ae9(0x1dc),_0x409715[_0x579ae9(0x1ea)][_0x579ae9(0x13d)]=_0x579ae9(0x1af);const _0x37e14e=new Date(_0x58e9a1[_0x579ae9(0x20a)]+'T'+_0x58e9a1[_0x579ae9(0x132)]),_0x20bc85=new Date(),_0x361590=(_0x37e14e-_0x20bc85)/(0x3e8*0x3c*0x3c),_0x460d2a=coachProfiles[_0x58e9a1[_0x579ae9(0x207)]]&&coachProfiles[_0x58e9a1[_0x579ae9(0x207)]]['cancel_window']?parseInt(coachProfiles[_0x58e9a1[_0x579ae9(0x207)]]['cancel_window']):0x18;if(_0x460d2a===0x0||_0x361590>=_0x460d2a)_0x4983e2[_0x579ae9(0x1ea)][_0x579ae9(0x13d)]=_0x579ae9(0x1af),_0x3a8354['style'][_0x579ae9(0x13d)]=_0x579ae9(0x1af),_0x5af594[_0x579ae9(0x1ea)][_0x579ae9(0x13d)]=_0x579ae9(0x1e4);else{_0x4983e2['style'][_0x579ae9(0x13d)]='none',_0x3a8354[_0x579ae9(0x1ea)][_0x579ae9(0x13d)]=_0x579ae9(0x1e4),_0x5af594[_0x579ae9(0x1ea)]['display']=_0x579ae9(0x1af);let _0x6fbc1=_0x460d2a===0x0?_0x579ae9(0x195):_0x579ae9(0x1b4)+_0x460d2a+_0x579ae9(0x12b);_0x5af594[_0x579ae9(0x196)]=_0x579ae9(0x13f)+_0x6fbc1+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x579ae9(0x16f)](_0x579ae9(0x14d))['classList']['add'](_0x579ae9(0x134)),document[_0x579ae9(0x16f)](_0x579ae9(0x182))[_0x579ae9(0x1ce)][_0x579ae9(0x148)](_0x579ae9(0x17c));}function closeAllSheets(){const _0x1a07c9=a3_0x548af6;document[_0x1a07c9(0x16f)](_0x1a07c9(0x14d))['classList'][_0x1a07c9(0x126)](_0x1a07c9(0x134)),document['querySelectorAll'](_0x1a07c9(0x214))['forEach'](_0x5bac18=>_0x5bac18[_0x1a07c9(0x1ce)][_0x1a07c9(0x126)](_0x1a07c9(0x17c)));}function openSheet(_0x2e965b){const _0x222881=a3_0x548af6;document[_0x222881(0x16f)](_0x222881(0x14d))['classList'][_0x222881(0x148)](_0x222881(0x134)),document['getElementById'](_0x2e965b)[_0x222881(0x1ce)][_0x222881(0x148)](_0x222881(0x17c));}function getLocalDateStr(_0x3d223e){const _0x167548=a3_0x548af6,_0x159092=_0x3d223e[_0x167548(0x13c)](),_0xc424e5=String(_0x3d223e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3e1fc8=String(_0x3d223e[_0x167548(0x1fd)]())[_0x167548(0x144)](0x2,'0');return _0x159092+'-'+_0xc424e5+'-'+_0x3e1fc8;}function getStartOfWeek(_0x582f3d){const _0x2d36f7=a3_0x548af6,_0x102d2c=new Date(_0x582f3d),_0x5bc37a=_0x102d2c[_0x2d36f7(0x1b0)](),_0x2135ec=_0x102d2c[_0x2d36f7(0x1fd)]()-_0x5bc37a+(_0x5bc37a===0x0?-0x6:0x1);return _0x102d2c['setDate'](_0x2135ec),_0x102d2c['setHours'](0x0,0x0,0x0,0x0),_0x102d2c;}function scrollToToday(){const _0x484656=getLocalDateStr(new Date());setTimeout(()=>{const _0x31a6e1=a3_0x275a,_0x58baed=document['querySelector'](_0x31a6e1(0x1f1)+_0x484656+'\x22]');if(_0x58baed){const _0x45e63e=document['getElementById'](_0x31a6e1(0x1ee)),_0x1aa182=_0x58baed['offsetLeft']-_0x45e63e[_0x31a6e1(0x1d8)]/0x2+_0x58baed[_0x31a6e1(0x18b)]/0x2;_0x45e63e[_0x31a6e1(0x14e)]({'left':_0x1aa182,'behavior':_0x31a6e1(0x136)}),_0x45e63e['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5b9436=a3_0x548af6,_0x4dacd6=new Date(),_0x58b452=document['getElementById'](_0x5b9436(0x198)),_0x26aa07=document[_0x5b9436(0x16f)]('timeLineBadge'),_0x5e3734=(_0x4dacd6[_0x5b9436(0x1f7)]()*0x3c+_0x4dacd6['getMinutes']())/0x3c*GRID_H;_0x58b452['style']['top']=_0x5e3734+'px',_0x58b452[_0x5b9436(0x1ea)][_0x5b9436(0x13d)]='block',_0x26aa07[_0x5b9436(0x1ea)][_0x5b9436(0x1db)]=_0x5e3734+'px',_0x26aa07[_0x5b9436(0x1ea)][_0x5b9436(0x13d)]=_0x5b9436(0x1af),_0x26aa07[_0x5b9436(0x196)]=String(_0x4dacd6[_0x5b9436(0x1f7)]())['padStart'](0x2,'0')+':'+String(_0x4dacd6[_0x5b9436(0x20d)]())[_0x5b9436(0x144)](0x2,'0');}function onScroll(){const _0x4553e4=a3_0x548af6,_0xf73cb3=document['getElementById'](_0x4553e4(0x1ee)),_0x199884=document[_0x4553e4(0x1e6)](_0x4553e4(0x1de));for(let _0x164c24 of _0x199884)if(_0x164c24[_0x4553e4(0x19a)]>=_0xf73cb3[_0x4553e4(0x141)]){const _0xd14971=new Date(_0x164c24[_0x4553e4(0x1c9)](_0x4553e4(0x1e0)));document['getElementById'](_0x4553e4(0x1f8))[_0x4553e4(0x196)]=_0xd14971['toLocaleString']('ru',{'month':_0x4553e4(0x199)})['toUpperCase']()+'\x20'+_0xd14971[_0x4553e4(0x13c)]();break;}}function showToast(_0xa53c57){const _0x2aab58=a3_0x548af6,_0x38b8cc=document['getElementById']('toast');_0x38b8cc[_0x2aab58(0x196)]=_0xa53c57,_0x38b8cc['classList'][_0x2aab58(0x148)](_0x2aab58(0x1e1)),setTimeout(()=>_0x38b8cc[_0x2aab58(0x1ce)]['remove'](_0x2aab58(0x1e1)),0x7d0);}function handleInfiniteScroll(){const _0x3cc025=a3_0x548af6,_0x124c51=document[_0x3cc025(0x16f)]('matrixViewport'),_0x5712f5=_0x124c51[_0x3cc025(0x141)],_0x2bf602=_0x124c51['scrollWidth'],_0x82b429=_0x124c51[_0x3cc025(0x1d8)];if(_0x2bf602-(_0x5712f5+_0x82b429)<0x12c){const _0x1366f1=endOffset;endOffset+=0xe,renderDayRange(_0x1366f1+0x1,endOffset),reRenderBlocks();}if(_0x5712f5<0x12c){const _0x620c1d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x620c1d-0x1),_0x124c51[_0x3cc025(0x141)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x468077,_0x4391e9){const _0xaccc60=a3_0x548af6,_0x9af7a5=document[_0xaccc60(0x16f)](_0xaccc60(0x133)),_0x5acd82=document['getElementById'](_0xaccc60(0x168)),_0x16180a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x459d4a=new Date();_0x459d4a[_0xaccc60(0x20b)](0x0,0x0,0x0,0x0);const _0x5c9699=getLocalDateStr(new Date()),_0x222b31=document[_0xaccc60(0x1a2)](),_0x3e25fd=document[_0xaccc60(0x1a2)]();for(let _0x49ca81=_0x468077;_0x49ca81<=_0x4391e9;_0x49ca81++){const _0x5819cc=new Date(_0x459d4a);_0x5819cc[_0xaccc60(0x18c)](_0x5819cc['getDate']()+_0x49ca81);const _0x12d2ea=getLocalDateStr(_0x5819cc);let _0xa8b79=_0x5819cc[_0xaccc60(0x1b0)]()-0x1;if(_0xa8b79===-0x1)_0xa8b79=0x6;const _0x29203e=_0x12d2ea===_0x5c9699,_0x7eb072=document[_0xaccc60(0x1a9)](_0xaccc60(0x183));_0x7eb072['className']=_0xaccc60(0x167)+(_0x29203e?_0xaccc60(0x139):''),_0x7eb072[_0xaccc60(0x181)](_0xaccc60(0x1e0),_0x12d2ea),_0x7eb072[_0xaccc60(0x1e2)]=_0xaccc60(0x12f)+_0x16180a[_0xa8b79]+_0xaccc60(0x127)+_0x5819cc[_0xaccc60(0x1fd)]()+_0xaccc60(0x1ef),_0x222b31[_0xaccc60(0x135)](_0x7eb072);const _0x214b6c=document[_0xaccc60(0x1a9)](_0xaccc60(0x183));_0x214b6c['className']=_0xaccc60(0x17f)+(_0x29203e?_0xaccc60(0x139):''),_0x214b6c[_0xaccc60(0x181)](_0xaccc60(0x1e0),_0x12d2ea),_0x214b6c[_0xaccc60(0x181)](_0xaccc60(0x143),_0xa8b79),_0x3e25fd[_0xaccc60(0x135)](_0x214b6c);}_0x9af7a5[_0xaccc60(0x1a6)](_0x222b31,_0x9af7a5[_0xaccc60(0x185)]),_0x5acd82[_0xaccc60(0x1a6)](_0x3e25fd,_0x5acd82[_0xaccc60(0x19f)](_0xaccc60(0x1a5)));}function a3_0x3112(){const _0x1fd7e0=['.btn-reschedule','<div\x20class=\x22dch-day\x22>','cancelled','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','start','daysHeaderTrack','active','appendChild','auto','rsSlotsGrid','var(--acc-green)','today','exceptions','value','getFullYear','display','%\x20-\x204px)','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','2318763ABgXKl','scrollLeft','keys','data-day-idx','padStart','day-off-overlay\x20stripe-bg','anTotalStats','–û—Ç–º–µ–Ω–µ–Ω–æ','add','settings','Error\x20setting\x20color:','find','600','overlay','scrollTo','clientId','parse','<span>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','round','.btn-cancel','entries','substring','now','visible','pattern','getTime','week','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','then','fontWeight','event-card','sort','<div\x20class=\x22rs-day-name\x22>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','all','585918pZBFRi','time-label','#050505','day-col-header\x20','gridColumns','detStatus','anEnd','disableVerticalSwipes','startsWith','client_cancel','\x20status-completed','getElementById','%\x20+\x202px)','client_load','button','test','map','.period-switch\x20.p-btn','length','ccText','blocked-slot\x20stripe-bg','setHeaderColor','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','open','rs-time-btn','detNote','day-column\x20','total','setAttribute','detailsSheet','div','rsDatesTrack','firstChild','left','min','toUpperCase','27uPAMEl','900130IZnBit','offsetWidth','setDate','anCustomDates','floor','seriesId','BackButton','expand','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','charAt','rs-date-chip','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','textContent','30ezyMyA','globalTimeLine','long','offsetLeft','</div><div\x20class=\x22rs-day-num\x22>','ru-RU','saveLocally','sid','querySelector','mini','done','createDocumentFragment','setMonth','location','.day-column','insertBefore','data','backgroundColor','createElement','scroll','setBackgroundColor','error','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyticsList','block','getDay','setItem','T00:00:00','anStart','–∑–∞\x20','ccYesBtn','uc_client_list','WebApp','color','push','Unknown','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','cid','status','addEventListener','calc(','json','log','onclick','calendar','max','px\x20-','cancelContainer','filter','getAttribute','height','join','apply','uc_client_settings','classList','getMonth','toString','anDonutCircle','search','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','forEach','ranges','(((.+)+)+)+$','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','top','var(--acc-blue)','3542384IJddtp','.day-col-header','blocked-range-part\x20stripe-bg','data-date','show','innerHTML','analyticsSheet','none','backgroundPosition','querySelectorAll','initData','zIndex','POST','style','customConfirm','end','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','matrixViewport','</div>','offClick','.day-col-header[data-date=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','1223970owFlGg','split','timeColumn','getHours','headerMonth','7832472JyLucM','Telegram','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getDate','clients','rgba(10,\x20132,\x20255,\x20',':00</span>','applyData','v9.5-CLIENT-ANALYTICS','rescheduleSheet','href','DOMContentLoaded','strokeDashoffset','coachId','colIndex','borderLeftColor','dateStr','setHours','.rs-date-chip','getMinutes','get_slots','stringify','getItem','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','\x20–≤\x20','\x20-\x20','.sheet','631620TYnsze','detTime','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','custom','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','className','completed','syncLoad','flex','ccTitle','remove','</div><div\x20class=\x22dch-num\x22>','anPercent','onClick','T23:59:59','\x20—á.','constructor','substr'];a3_0x3112=function(){return _0x1fd7e0;};return a3_0x3112();}function hexToRgba(_0x16a51f,_0x478042){const _0x2f5729=a3_0x548af6;let _0x1b4c08;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2f5729(0x173)](_0x16a51f))return _0x1b4c08=_0x16a51f[_0x2f5729(0x156)](0x1)[_0x2f5729(0x1f5)](''),_0x1b4c08[_0x2f5729(0x176)]==0x3&&(_0x1b4c08=[_0x1b4c08[0x0],_0x1b4c08[0x0],_0x1b4c08[0x1],_0x1b4c08[0x1],_0x1b4c08[0x2],_0x1b4c08[0x2]]),_0x1b4c08='0x'+_0x1b4c08[_0x2f5729(0x1cb)](''),'rgba('+[_0x1b4c08>>0x10&0xff,_0x1b4c08>>0x8&0xff,_0x1b4c08&0xff][_0x2f5729(0x1cb)](',')+','+_0x478042+')';return _0x2f5729(0x1ff)+_0x478042+')';}let confirmResolver=null;function showCustomConfirm(_0x242eed,_0x2ecbca,_0x670409=!![]){const _0x19628a=a3_0x548af6;document[_0x19628a(0x16f)](_0x19628a(0x125))[_0x19628a(0x196)]=_0x242eed,document['getElementById'](_0x19628a(0x177))[_0x19628a(0x196)]=_0x2ecbca;const _0x4bbe02=document[_0x19628a(0x16f)](_0x19628a(0x1b5));return _0x670409?(_0x4bbe02[_0x19628a(0x1ea)][_0x19628a(0x1b8)]='#ff453a',_0x4bbe02['style'][_0x19628a(0x15e)]='600'):(_0x4bbe02[_0x19628a(0x1ea)][_0x19628a(0x1b8)]='#0a84ff',_0x4bbe02[_0x19628a(0x1ea)][_0x19628a(0x15e)]=_0x19628a(0x14c)),new Promise(_0x894254=>{const _0x2f4687=_0x19628a;confirmResolver=_0x894254,document['getElementById']('customConfirm')[_0x2f4687(0x1ce)][_0x2f4687(0x148)](_0x2f4687(0x158));});}function resolveCustomConfirm(_0xcf1904){const _0xab68c6=a3_0x548af6;document[_0xab68c6(0x16f)](_0xab68c6(0x1eb))[_0xab68c6(0x1ce)]['remove'](_0xab68c6(0x158));if(confirmResolver)confirmResolver(_0xcf1904);}async function tryCancelCurrentSession(){const _0x35a8fc=a3_0x548af6;if(!currentSession)return;const _0x124c63=await showCustomConfirm(_0x35a8fc(0x152),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x124c63)return;const _0x2d4d70=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x1665dd=>_0x1665dd['id']!==_0x2d4d70['id']),reRenderBlocks(),showToast(_0x35a8fc(0x147)),lastUserActionTime=Date[_0x35a8fc(0x157)]();try{const _0x1f7fbd=window['Telegram']?.[_0x35a8fc(0x1b7)],_0x3be0a4=await fetch(API_URL,{'method':_0x35a8fc(0x1e9),'body':JSON[_0x35a8fc(0x20f)]({'action':_0x35a8fc(0x16d),'init_data':_0x1f7fbd?.[_0x35a8fc(0x1e7)]||'','coachId':_0x2d4d70[_0x35a8fc(0x207)],'dateStr':_0x2d4d70[_0x35a8fc(0x20a)],'sessionId':_0x2d4d70['id']})});if(_0x3be0a4['ok'])DataManager[_0x35a8fc(0x19d)]();}catch(_0x18471a){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4570ca=a3_0x548af6;if(!currentSession)return;document['getElementById'](_0x4570ca(0x182))['classList'][_0x4570ca(0x126)]('open'),document[_0x4570ca(0x16f)](_0x4570ca(0x203))[_0x4570ca(0x1ce)]['add']('open');const _0x1105b2=document[_0x4570ca(0x16f)]('rsDatesTrack'),_0x3ec723=document[_0x4570ca(0x16f)](_0x4570ca(0x137));_0x1105b2['innerHTML']='',_0x3ec723[_0x4570ca(0x1e2)]=_0x4570ca(0x1bb);const [_0x256250,_0x5da636]=currentSession[_0x4570ca(0x132)][_0x4570ca(0x1f5)](':')['map'](Number),[_0x47cad0,_0x5c9773]=currentSession[_0x4570ca(0x1ec)]['split'](':')['map'](Number),_0x32d7d4=_0x47cad0*0x3c+_0x5c9773-(_0x256250*0x3c+_0x5da636);try{const _0x5d01ac=window['Telegram']?.['WebApp'],_0x277139=await fetch(API_URL,{'method':_0x4570ca(0x1e9),'body':JSON[_0x4570ca(0x20f)]({'action':_0x4570ca(0x20e),'coachId':currentSession[_0x4570ca(0x207)],'duration':_0x32d7d4,'init_data':_0x5d01ac?.[_0x4570ca(0x1e7)]||'','excludeSessionId':currentSession['id']})}),_0x54ee7c=await _0x277139['json']();_0x54ee7c['ok']&&_0x54ee7c['data']?(availableSlotsCache=_0x54ee7c[_0x4570ca(0x1a7)],renderRescheduleDates()):_0x3ec723[_0x4570ca(0x1e2)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x1166a4){_0x3ec723[_0x4570ca(0x1e2)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x1ad746=a3_0x548af6,_0x15985e=document[_0x1ad746(0x16f)](_0x1ad746(0x184));_0x15985e['innerHTML']='';const _0x47c18d=Object[_0x1ad746(0x142)](availableSlotsCache)[_0x1ad746(0x160)](),_0x7e5797=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x47c18d[_0x1ad746(0x176)]===0x0){document[_0x1ad746(0x16f)](_0x1ad746(0x137))['innerHTML']=_0x1ad746(0x1d4);return;}_0x47c18d['forEach']((_0x312af6,_0x33bb19)=>{const _0x56c3d3=_0x1ad746,_0x4ffd8e=new Date(_0x312af6),_0x166881=_0x7e5797[_0x4ffd8e['getDay']()],_0x245484=_0x4ffd8e['getDate'](),_0x1adfdd=document[_0x56c3d3(0x1a9)](_0x56c3d3(0x183));_0x1adfdd[_0x56c3d3(0x21a)]=_0x56c3d3(0x194);if(_0x33bb19===0x0)_0x1adfdd[_0x56c3d3(0x1ce)][_0x56c3d3(0x148)](_0x56c3d3(0x134));_0x1adfdd['innerHTML']=_0x56c3d3(0x161)+_0x166881+_0x56c3d3(0x19b)+_0x245484+_0x56c3d3(0x1ef),_0x1adfdd['onclick']=()=>selectRsDate(_0x312af6,_0x1adfdd),_0x15985e[_0x56c3d3(0x135)](_0x1adfdd);}),selectRsDate(_0x47c18d[0x0],_0x15985e['firstChild']);}function selectRsDate(_0x1ccaef,_0x29df22){const _0xf681ec=a3_0x548af6;selectedRsDate=_0x1ccaef,document[_0xf681ec(0x1e6)](_0xf681ec(0x20c))[_0xf681ec(0x1d5)](_0x31e717=>_0x31e717[_0xf681ec(0x1ce)][_0xf681ec(0x126)](_0xf681ec(0x134)));if(_0x29df22)_0x29df22[_0xf681ec(0x1ce)][_0xf681ec(0x148)]('active');const _0x5395f4=document['getElementById'](_0xf681ec(0x137));_0x5395f4[_0xf681ec(0x1e2)]='';const _0x50f2d=availableSlotsCache[_0x1ccaef]||[];if(_0x50f2d[_0xf681ec(0x176)]===0x0){_0x5395f4['innerHTML']=_0xf681ec(0x131);return;}_0x50f2d[_0xf681ec(0x1d5)](_0x23184c=>{const _0x53ec2e=_0xf681ec,_0x3be592=document[_0x53ec2e(0x1a9)](_0x53ec2e(0x172));_0x3be592['className']=_0x53ec2e(0x17d),_0x3be592[_0x53ec2e(0x196)]=_0x23184c,_0x3be592[_0x53ec2e(0x1c3)]=()=>confirmReschedule(_0x23184c),_0x5395f4['appendChild'](_0x3be592);});}async function confirmReschedule(_0x5afbc0){const _0x220940=a3_0x548af6,_0x294b72=new Date(selectedRsDate),_0x36874c=_0x294b72['toLocaleDateString'](_0x220940(0x19c),{'day':'numeric','month':_0x220940(0x199)}),_0x4adad3=await showCustomConfirm(_0x220940(0x15c),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x36874c+_0x220940(0x212)+_0x5afbc0+'?',![]);if(!_0x4adad3)return;closeAllSheets(),showToast(_0x220940(0x211)),lastUserActionTime=Date['now']();const _0x3e8b11=currentSession[_0x220940(0x20a)],_0x1a912c=currentSession['id'],[_0x82e786,_0x439b20]=currentSession[_0x220940(0x132)][_0x220940(0x1f5)](':')[_0x220940(0x174)](Number),[_0x480def,_0x1a5131]=currentSession[_0x220940(0x1ec)][_0x220940(0x1f5)](':')[_0x220940(0x174)](Number),_0x578c90=_0x480def*0x3c+_0x1a5131-(_0x82e786*0x3c+_0x439b20),[_0x6640f4,_0x47230d]=_0x5afbc0[_0x220940(0x1f5)](':')[_0x220940(0x174)](Number),_0x244284=_0x6640f4*0x3c+_0x47230d+_0x578c90,_0xaf21c=Math[_0x220940(0x18e)](_0x244284/0x3c),_0x381ec6=_0x244284%0x3c,_0x240684=String(_0xaf21c)[_0x220940(0x144)](0x2,'0')+':'+String(_0x381ec6)['padStart'](0x2,'0'),_0x116bbf=sessions['findIndex'](_0x4ca603=>_0x4ca603['id']===_0x1a912c);_0x116bbf!==-0x1&&(sessions[_0x116bbf][_0x220940(0x20a)]=selectedRsDate,sessions[_0x116bbf]['start']=_0x5afbc0,sessions[_0x116bbf][_0x220940(0x1ec)]=_0x240684,reRenderBlocks());try{const _0x5e8c18=window[_0x220940(0x1fa)]?.['WebApp'],_0x3728a0=await fetch(API_URL,{'method':_0x220940(0x1e9),'body':JSON[_0x220940(0x20f)]({'action':'reschedule','init_data':_0x5e8c18?.['initData']||'','oldSessionId':_0x1a912c,'oldDate':_0x3e8b11,'newDate':selectedRsDate,'newTime':_0x5afbc0,'coachId':currentSession[_0x220940(0x207)]})}),_0x2d5be5=await _0x3728a0['json']();!_0x2d5be5['ok']?(showToast(_0x220940(0x192)),DataManager[_0x220940(0x123)]()):(showToast(_0x220940(0x1bc)),DataManager[_0x220940(0x19d)]());}catch(_0x1abf40){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x548af6(0x1bf)](a3_0x548af6(0x205),init);