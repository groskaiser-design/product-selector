const a3_0x27454d=a3_0x39eb;(function(_0x30294f,_0x35f933){const _0x564059=a3_0x39eb,_0x1908b5=_0x30294f();while(!![]){try{const _0x25ad58=-parseInt(_0x564059(0x110))/0x1*(parseInt(_0x564059(0x134))/0x2)+parseInt(_0x564059(0x116))/0x3+parseInt(_0x564059(0xff))/0x4+parseInt(_0x564059(0xda))/0x5*(parseInt(_0x564059(0xf1))/0x6)+-parseInt(_0x564059(0xe3))/0x7+-parseInt(_0x564059(0xce))/0x8*(parseInt(_0x564059(0x178))/0x9)+parseInt(_0x564059(0x15a))/0xa;if(_0x25ad58===_0x35f933)break;else _0x1908b5['push'](_0x1908b5['shift']());}catch(_0x39beec){_0x1908b5['push'](_0x1908b5['shift']());}}}(a3_0x1050,0xbd86d));const APP_VERSION=a3_0x27454d(0x14b),API_URL=a3_0x27454d(0xca),GRID_H=0x3c,KEY_SESSIONS=a3_0x27454d(0x197),KEY_SETTINGS=a3_0x27454d(0x154),KEY_CLIENTS=a3_0x27454d(0x193);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x27454d(0x14a),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1f8693=a3_0x27454d,_0x256645=(function(){let _0x3f7187=!![];return function(_0x233879,_0xe1cd37){const _0x518cac=_0x3f7187?function(){if(_0xe1cd37){const _0x1d00c2=_0xe1cd37['apply'](_0x233879,arguments);return _0xe1cd37=null,_0x1d00c2;}}:function(){};return _0x3f7187=![],_0x518cac;};}()),_0x2592fe=_0x256645(this,function(){const _0x150d3d=a3_0x39eb;return _0x2592fe[_0x150d3d(0x122)]()['search'](_0x150d3d(0x114))[_0x150d3d(0x122)]()[_0x150d3d(0x169)](_0x2592fe)[_0x150d3d(0xbc)]('(((.+)+)+)+$');});_0x2592fe();try{const _0x12d0d7=window['Telegram']?.[_0x1f8693(0xea)];if(!_0x12d0d7)return;_0x12d0d7[_0x1f8693(0xeb)](),_0x12d0d7[_0x1f8693(0x143)]();try{_0x12d0d7[_0x1f8693(0x126)](_0x1f8693(0xfb)),_0x12d0d7[_0x1f8693(0xe9)]&&_0x12d0d7[_0x1f8693(0xe9)](_0x1f8693(0xfb));}catch(_0x3fe22c){console[_0x1f8693(0x174)](_0x1f8693(0x164),_0x3fe22c);}try{_0x12d0d7[_0x1f8693(0x18c)]&&(_0x12d0d7[_0x1f8693(0x18c)][_0x1f8693(0x173)](),_0x12d0d7['BackButton'][_0x1f8693(0x15c)](),_0x12d0d7['BackButton'][_0x1f8693(0x1ab)](function(){const _0x3424a8=_0x1f8693;window[_0x3424a8(0x111)][_0x3424a8(0x150)]=_0x3424a8(0x18d);}));}catch(_0x4b06b9){console[_0x1f8693(0x174)](_0x1f8693(0xed),_0x4b06b9);}try{if(_0x12d0d7[_0x1f8693(0x17c)])_0x12d0d7[_0x1f8693(0x17c)]();}catch(_0xc19b0f){}}catch(_0x44c1c9){console['error'](_0x1f8693(0x182),_0x44c1c9);}}());function a3_0x1050(){const _0x250f6c=['‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','split','4857167xvSnDH','anCustomDates','all','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','rescheduleSheet','setBackgroundColor','WebApp','ready','getMinutes','Error\x20setting\x20back\x20button:','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','stopPropagation','analyticsSheet','12126uDsNEl','cancelContainer','long','</div><div\x20class=\x22dch-num\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','anPercent','setAttribute','div','%\x20-\x204px)','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','parse','var(--acc-green)','2836840nAsgNl','padStart','clientId','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','textContent','ccYesBtn','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','forEach','then','gridColumns','detStatus','matrixViewport','done','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','getDate','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','data-day-idx','1uRztJC','location','rgba(10,\x20132,\x20255,\x20','backgroundColor','(((.+)+)+)+$','anEnd','126771OBQkMX','setItem','daysHeaderTrack','analyticsList','getDay','anStart','innerHTML','day-off-overlay\x20stripe-bg','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','toast','appendChild','#0a84ff','toString','ranges','toLocaleDateString','zIndex','setHeaderColor','fontWeight','value','client-stat-card','map','insertBefore','offsetLeft','addEventListener','cancel_window','<div\x20class=\x22dch-day\x22>','calc(','color','none','keys','444310AkfWlm','</div><div\x20class=\x22rs-day-num\x22>','scrollTo','coachId','detailsSheet','</span>\x20/\x20','600','custom','cid','getFullYear','blocked-range-part\x20stripe-bg','getItem','sort','–û—Ç–º–µ–Ω–µ–Ω–æ','clientWidth','expand','</div>','var(--acc-blue)','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','user','floor','active','week','v9.5-CLIENT-ANALYTICS','min','today','slice','json','href','open','calendar','round','uc_client_settings','completed','px\x20-','flex','globalTimeLine','querySelectorAll','14869060BKYYPl','width','offClick','<span>','isArray','ccText','note','length','timeLineBadge','backgroundPosition','Error\x20setting\x20color:','rsDatesTrack','now','top','settings','constructor','pattern','numeric','detNote','client_load','scrollTop','ru-RU','POST','getHours','getTime','show','log','end','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','substr','9nHPRla','overlay','data','detDate','disableVerticalSwipes','scrollLeft','max','className','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','querySelector','Critical\x20TMA\x20Error:','cancelHint','.period-switch\x20.p-btn','T23:59:59','start','colIndex','initData','remove','getAttribute','setDate','BackButton','router.html','getElementById','\x20-\x20','.day-column','find','classList','uc_client_list','toLocaleString','saveLocally','total','uc_client_sessions','.btn-cancel','block','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','time-label','onclick','day-column\x20','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','initDataUnsafe','data-date','.sheet','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','stringify','Telegram','coach_profiles','#ff453a','status','join','timeColumn','charAt','onClick','push','display','\x20–∏–∑\x20',':00</span>','planned','createDocumentFragment','\x20–≤\x20','.btn-reschedule','search','toUpperCase','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header','cancelled','loadLocal','rgba(','auto','borderLeftColor','getMonth','exceptions','substring','.day-col-header[data-date=\x22','strokeDashoffset','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','style','mini','day-col-header\x20','4740152dtEcoU','dateStr','anTotalStats','startsWith','rsSlotsGrid','add','createElement','\x20—á.','setHours','.rs-date-chip','visible','height','115pbheib','customConfirm','reschedule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x200px','filter','button'];a3_0x1050=function(){return _0x250f6c;};return a3_0x1050();}function isAdmin(){const _0x35067b=a3_0x27454d;try{const _0x4b67be=Number(window[_0x35067b(0x1a4)]?.[_0x35067b(0xea)]?.[_0x35067b(0x19f)]?.[_0x35067b(0x147)]?.['id']);return _0x4b67be===0xbaf7174;}catch(_0xebb1f){return![];}}const DataManager={'saveLocally'(){const _0x53fd0b=a3_0x27454d;try{localStorage[_0x53fd0b(0x117)](KEY_SESSIONS,JSON[_0x53fd0b(0x1a3)](sessions)),localStorage[_0x53fd0b(0x117)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x53fd0b(0x117)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x18a5c6){}},'loadLocal'(){const _0x30ea65=a3_0x27454d;try{const _0x920571=localStorage[_0x30ea65(0x13f)](KEY_SESSIONS);if(_0x920571)sessions=JSON[_0x30ea65(0xfd)](_0x920571);const _0xae35c3=localStorage[_0x30ea65(0x13f)](KEY_CLIENTS);if(_0xae35c3)clients=JSON[_0x30ea65(0xfd)](_0xae35c3);const _0x57b867=localStorage['getItem'](KEY_SETTINGS);if(_0x57b867){const _0x5c201b=JSON[_0x30ea65(0xfd)](_0x57b867);if(_0x5c201b[_0x30ea65(0x16a)])availabilityPattern=_0x5c201b[_0x30ea65(0x16a)];if(_0x5c201b[_0x30ea65(0x123)])specialRanges=_0x5c201b[_0x30ea65(0x123)];if(_0x5c201b['exceptions'])dateExceptions=_0x5c201b[_0x30ea65(0xc6)];}}catch(_0x174d7f){}},async 'syncLoad'(){const _0x11e02d=a3_0x27454d,_0x9e164f=new Date(),_0x3475d4=_0x9e164f[_0x11e02d(0x13d)]()+'-'+String(_0x9e164f['getMonth']()+0x1)[_0x11e02d(0x100)](0x2,'0'),_0xcf5966=new Date(_0x9e164f);_0xcf5966['setMonth'](_0x9e164f[_0x11e02d(0xc5)]()+0x1);const _0x4f1bf7=_0xcf5966[_0x11e02d(0x13d)]()+'-'+String(_0xcf5966[_0x11e02d(0xc5)]()+0x1)[_0x11e02d(0x100)](0x2,'0'),_0x555c66=Date['now']();try{const _0x17d5c7=window['Telegram']?.['WebApp'],_0x473aea=_0x17d5c7?.['initData']||'',[_0xccddc0,_0x1a526b]=await Promise[_0x11e02d(0xe5)]([fetch(API_URL,{'method':'POST','body':JSON[_0x11e02d(0x1a3)]({'action':'client_load','init_data':_0x473aea,'month_str':_0x3475d4})})[_0x11e02d(0x107)](_0x331502=>_0x331502[_0x11e02d(0x14f)]()),fetch(API_URL,{'method':_0x11e02d(0x170),'body':JSON['stringify']({'action':_0x11e02d(0x16d),'init_data':_0x473aea,'month_str':_0x4f1bf7})})['then'](_0x5e1e4f=>_0x5e1e4f['json']())]);if(lastUserActionTime>_0x555c66){console[_0x11e02d(0x174)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0xccddc0['ok'])this['applyData'](_0xccddc0[_0x11e02d(0x17a)],_0x3475d4);if(_0x1a526b['ok'])this['applyData'](_0x1a526b[_0x11e02d(0x17a)],_0x4f1bf7);this['saveLocally']();}catch(_0x95b224){}},'applyData'(_0x48350d,_0x20b992){const _0x49df2a=a3_0x27454d;if(!_0x48350d)return;if(_0x48350d['settings']){if(_0x48350d[_0x49df2a(0x168)]['pattern'])availabilityPattern=_0x48350d['settings'][_0x49df2a(0x16a)];if(_0x48350d[_0x49df2a(0x168)][_0x49df2a(0x123)])specialRanges=_0x48350d[_0x49df2a(0x168)][_0x49df2a(0x123)];if(_0x48350d['settings']['exceptions'])dateExceptions=_0x48350d['settings'][_0x49df2a(0xc6)];}if(_0x48350d['clients']&&Array[_0x49df2a(0x15e)](_0x48350d['clients']))clients=_0x48350d['clients'];_0x48350d[_0x49df2a(0x1a5)]&&(coachProfiles={...coachProfiles,..._0x48350d[_0x49df2a(0x1a5)]}),_0x48350d[_0x49df2a(0x152)]&&(sessions=sessions[_0x49df2a(0xdf)](_0x28bbaa=>!_0x28bbaa['dateStr'][_0x49df2a(0xd1)](_0x20b992)),Object[_0x49df2a(0x133)](_0x48350d[_0x49df2a(0x152)])[_0x49df2a(0x106)](_0x42e26f=>{const _0xe874a6=_0x49df2a,_0x3ae4bc=_0x48350d['calendar'][_0x42e26f];_0x3ae4bc[_0xe874a6(0x106)](_0x47d46e=>{const _0x390612=_0xe874a6;sessions[_0x390612(0xb4)]({'id':_0x47d46e['i'],'clientId':_0x47d46e['c'],'coachId':_0x47d46e[_0x390612(0x13c)],'dateStr':_0x20b992+'-'+_0x42e26f[_0x390612(0x100)](0x2,'0'),'start':_0x47d46e['s'],'end':_0x47d46e['e'],'note':_0x47d46e['n']||'','status':_0x47d46e['st']||_0x390612(0xb8),'seriesId':_0x47d46e['sid']});});})),reRenderBlocks();}};function init(){const _0x3d6170=a3_0x27454d;DataManager[_0x3d6170(0xc1)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3d6170(0x18e)]('matrixViewport')['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x15d1c3=a3_0x27454d,_0x36a2fa=document[_0x15d1c3(0x18e)](_0x15d1c3(0x1a9)),_0x455705=document[_0x15d1c3(0x18e)](_0x15d1c3(0x162));_0x36a2fa['innerHTML']='',_0x36a2fa[_0x15d1c3(0x120)](_0x455705);for(let _0x3f1830=0x0;_0x3f1830<0x18;_0x3f1830++){const _0x258d6b=document[_0x15d1c3(0xd4)](_0x15d1c3(0xf9));_0x258d6b['className']=_0x15d1c3(0x19b);if(_0x3f1830>0x0)_0x258d6b[_0x15d1c3(0x11c)]=_0x15d1c3(0x15d)+String(_0x3f1830)[_0x15d1c3(0x100)](0x2,'0')+_0x15d1c3(0xb7);_0x36a2fa[_0x15d1c3(0x120)](_0x258d6b);}}function renderDayRange(_0x5ebd18,_0x1b288c){const _0x7e73d0=a3_0x27454d,_0x3d6e3f=document[_0x7e73d0(0x18e)](_0x7e73d0(0x118)),_0x43c56a=document['getElementById'](_0x7e73d0(0x108)),_0x175ed0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xff47de=new Date();_0xff47de[_0x7e73d0(0xd6)](0x0,0x0,0x0,0x0);const _0x2bd527=getLocalDateStr(new Date());for(let _0x32bd38=_0x5ebd18;_0x32bd38<=_0x1b288c;_0x32bd38++){const _0x5c8eb0=new Date(_0xff47de);_0x5c8eb0[_0x7e73d0(0x18b)](_0x5c8eb0[_0x7e73d0(0x10d)]()+_0x32bd38);const _0x383dcd=getLocalDateStr(_0x5c8eb0);let _0x565dbc=_0x5c8eb0[_0x7e73d0(0x11a)]()-0x1;if(_0x565dbc===-0x1)_0x565dbc=0x6;const _0x4a61eb=_0x383dcd===_0x2bd527,_0x44fd02=document['createElement'](_0x7e73d0(0xf9));_0x44fd02[_0x7e73d0(0x17f)]=_0x7e73d0(0xcd)+(_0x4a61eb?_0x7e73d0(0x14d):''),_0x44fd02[_0x7e73d0(0xf8)](_0x7e73d0(0x1a0),_0x383dcd),_0x44fd02[_0x7e73d0(0x11c)]=_0x7e73d0(0x12f)+_0x175ed0[_0x565dbc]+_0x7e73d0(0xf4)+_0x5c8eb0[_0x7e73d0(0x10d)]()+_0x7e73d0(0x144),_0x3d6e3f[_0x7e73d0(0x120)](_0x44fd02);const _0x3a3ec1=document[_0x7e73d0(0xd4)](_0x7e73d0(0xf9));_0x3a3ec1[_0x7e73d0(0x17f)]='day-column\x20'+(_0x4a61eb?_0x7e73d0(0x14d):''),_0x3a3ec1[_0x7e73d0(0xf8)](_0x7e73d0(0x1a0),_0x383dcd),_0x3a3ec1['setAttribute'](_0x7e73d0(0x10f),_0x565dbc),_0x43c56a[_0x7e73d0(0x120)](_0x3a3ec1);}}function reRenderBlocks(){const _0x484356=a3_0x27454d;document[_0x484356(0x159)](_0x484356(0x190))['forEach'](_0x4cc1ef=>{const _0x5aa406=_0x484356;_0x4cc1ef['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x5aa406(0x106)](_0x2d098d=>_0x2d098d['remove']());const _0x43ebbb=_0x4cc1ef[_0x5aa406(0x18a)](_0x5aa406(0x1a0)),_0x3a3894=parseInt(_0x4cc1ef['getAttribute'](_0x5aa406(0x10f))),_0x5a5968=Math[_0x5aa406(0x153)](_0x4cc1ef[_0x5aa406(0x12c)]);(availabilityPattern[_0x3a3894]||[])[_0x5aa406(0x106)](_0x3debae=>{const _0x13f814=_0x5aa406,_0x47d4df=document[_0x13f814(0xd4)](_0x13f814(0xf9));_0x47d4df['className']='blocked-slot\x20stripe-bg',_0x47d4df[_0x13f814(0xcb)][_0x13f814(0x167)]=_0x3debae*GRID_H+'px',_0x47d4df['style'][_0x13f814(0x163)]='-'+_0x5a5968+_0x13f814(0x156)+_0x3debae*GRID_H+'px',_0x4cc1ef[_0x13f814(0x120)](_0x47d4df);});if(specialRanges[_0x5aa406(0x161)]>0x0){const _0x54c8d9=new Date(_0x43ebbb+'T00:00:00')[_0x5aa406(0x172)](),_0x3f3d54=new Date(_0x43ebbb+_0x5aa406(0x185))[_0x5aa406(0x172)]();specialRanges[_0x5aa406(0x106)](_0x5a99da=>{const _0x5073fe=_0x5aa406,_0x452c6f=new Date(_0x5a99da[_0x5073fe(0x186)])['getTime'](),_0x47bf8d=new Date(_0x5a99da[_0x5073fe(0x175)])[_0x5073fe(0x172)](),_0x3b933c=Math[_0x5073fe(0x17e)](_0x54c8d9,_0x452c6f),_0x4a01e7=Math['min'](_0x3f3d54,_0x47bf8d);if(_0x3b933c<_0x4a01e7){const _0xa50a59=(_0x3b933c-_0x54c8d9)/0x36ee80*GRID_H,_0x3faa50=(_0x4a01e7-_0x3b933c)/0x36ee80*GRID_H,_0x158ec1=document[_0x5073fe(0xd4)](_0x5073fe(0xf9));_0x3faa50>=23.5*GRID_H?(_0x158ec1[_0x5073fe(0x17f)]=_0x5073fe(0x11d),_0x158ec1[_0x5073fe(0xcb)][_0x5073fe(0x163)]='-'+_0x5a5968+_0x5073fe(0xde)):(_0x158ec1[_0x5073fe(0x17f)]=_0x5073fe(0x13e),_0x158ec1[_0x5073fe(0xcb)][_0x5073fe(0x167)]=_0xa50a59+'px',_0x158ec1[_0x5073fe(0xcb)][_0x5073fe(0xd9)]=_0x3faa50+'px',_0x158ec1['style']['backgroundPosition']='-'+_0x5a5968+_0x5073fe(0x156)+_0xa50a59+'px'),_0x4cc1ef['appendChild'](_0x158ec1);}});}renderEventsForColumn(_0x4cc1ef,_0x43ebbb);});}function renderEventsForColumn(_0xd1236b,_0x594b8c){const _0x267096=a3_0x27454d,_0x326182=sessions[_0x267096(0xdf)](_0x8ad60d=>_0x8ad60d[_0x267096(0xcf)]===_0x594b8c),_0x362256=_0x326182[_0x267096(0x12a)](_0x43c0e0=>{const _0x5e8522=_0x267096,[_0x118afd,_0x59ebd6]=_0x43c0e0['start'][_0x5e8522(0xe2)](':')[_0x5e8522(0x12a)](Number),[_0x3657ca,_0x4af118]=_0x43c0e0[_0x5e8522(0x175)][_0x5e8522(0xe2)](':')[_0x5e8522(0x12a)](Number);return{'data':_0x43c0e0,'start':_0x118afd*0x3c+_0x59ebd6,'end':_0x3657ca*0x3c+_0x4af118,'colIndex':0x0};});_0x362256[_0x267096(0x140)]((_0x24703e,_0x1a9ec1)=>_0x24703e['start']-_0x1a9ec1[_0x267096(0x186)]||_0x1a9ec1[_0x267096(0x175)]-_0x1a9ec1[_0x267096(0x186)]-(_0x24703e['end']-_0x24703e['start']));const _0xfa7559=[];_0x362256[_0x267096(0x106)](_0xde296c=>{const _0x28fe86=_0x267096;let _0x1bfd21=![];for(let _0x29b55f=0x0;_0x29b55f<_0xfa7559[_0x28fe86(0x161)];_0x29b55f++){const _0x36388e=_0xfa7559[_0x29b55f];if(_0xde296c['start']>=_0x36388e[_0x36388e[_0x28fe86(0x161)]-0x1][_0x28fe86(0x175)]){_0x36388e[_0x28fe86(0xb4)](_0xde296c),_0xde296c['colIndex']=_0x29b55f,_0x1bfd21=!![];break;}}!_0x1bfd21&&(_0xfa7559[_0x28fe86(0xb4)]([_0xde296c]),_0xde296c['colIndex']=_0xfa7559[_0x28fe86(0x161)]-0x1);}),_0x362256[_0x267096(0x106)](_0x2bed15=>{const _0x4675f0=_0x267096;let _0x16200b=0x0;_0x362256['forEach'](_0x292246=>{const _0x36aa56=a3_0x39eb;if(Math['max'](_0x2bed15['start'],_0x292246['start'])<Math[_0x36aa56(0x14c)](_0x2bed15[_0x36aa56(0x175)],_0x292246[_0x36aa56(0x175)])&&_0x292246['colIndex']>_0x16200b)_0x16200b=_0x292246['colIndex'];});const _0x4ed9c2=_0x16200b+0x1,_0x4c7cd8=0x64/_0x4ed9c2,_0x536905=_0x2bed15[_0x4675f0(0x187)]*_0x4c7cd8,_0x5d4bba=document[_0x4675f0(0xd4)]('div'),_0x2dcb31=_0x2bed15['data'];let _0x42b353=_0x4675f0(0x121);if(clients&&clients[_0x4675f0(0x161)]>0x0){const _0x18ec64=clients[_0x4675f0(0x191)](_0x36d890=>String(_0x36d890['id'])===String(_0x2dcb31[_0x4675f0(0x101)]));if(_0x18ec64&&_0x18ec64[_0x4675f0(0x131)])_0x42b353=_0x18ec64[_0x4675f0(0x131)];}const _0x255f59=_0x2dcb31[_0x4675f0(0x1a7)]===_0x4675f0(0x155),_0x18bfbc=_0x255f59?0x1:0.45;_0x5d4bba['className']='event-card'+(_0x255f59?'\x20status-completed':''),_0x5d4bba[_0x4675f0(0xcb)][_0x4675f0(0x113)]=hexToRgba(_0x42b353,_0x18bfbc),_0x5d4bba[_0x4675f0(0xcb)][_0x4675f0(0xc4)]=_0x42b353;const _0x4b97d2=_0x2bed15[_0x4675f0(0x186)]/0x3c*GRID_H,_0xa86eb8=(_0x2bed15[_0x4675f0(0x175)]-_0x2bed15['start'])/0x3c*GRID_H;_0x5d4bba['style']['top']=_0x4b97d2+'px',_0x5d4bba[_0x4675f0(0xcb)]['height']=Math['max'](_0xa86eb8,0x14)+'px',_0x5d4bba[_0x4675f0(0xcb)][_0x4675f0(0x15b)]=_0x4675f0(0x130)+_0x4c7cd8+_0x4675f0(0xfa),_0x5d4bba[_0x4675f0(0xcb)]['left']='calc('+_0x536905+'%\x20+\x202px)',_0x5d4bba[_0x4675f0(0xcb)][_0x4675f0(0x125)]=0xa+_0x2bed15[_0x4675f0(0x187)];if(_0x4c7cd8<0x55)_0x5d4bba[_0x4675f0(0x192)][_0x4675f0(0xd3)](_0x4675f0(0xcc));let _0x484c78='';if(_0x2dcb31['seriesId'])_0x484c78+=_0x4675f0(0x19a);if(_0x255f59)_0x484c78+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x5d4bba[_0x4675f0(0x11c)]=_0x4675f0(0xf5)+_0x2dcb31['start']+_0x4675f0(0x18f)+_0x2dcb31[_0x4675f0(0x175)]+_0x4675f0(0xbe)+_0x484c78+_0x4675f0(0xdd),_0x5d4bba[_0x4675f0(0x19c)]=_0x324f75=>{const _0x475578=_0x4675f0;_0x324f75[_0x475578(0xef)](),openDetails(_0x2dcb31);},_0xd1236b['appendChild'](_0x5d4bba);});}function openAnalytics(){const _0xaa8cd5=a3_0x27454d,_0x51b721=document[_0xaa8cd5(0x181)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0xaa8cd5(0x14a),_0x51b721),openSheet(_0xaa8cd5(0xf0));}function setAnalyticsPeriod(_0x2bcd24,_0x2db43e){const _0x6845cb=a3_0x27454d;currentAnPeriod=_0x2bcd24,document[_0x6845cb(0x159)](_0x6845cb(0x184))[_0x6845cb(0x106)](_0x5cca81=>_0x5cca81[_0x6845cb(0x192)][_0x6845cb(0x189)](_0x6845cb(0x149)));if(_0x2db43e)_0x2db43e[_0x6845cb(0x192)][_0x6845cb(0xd3)](_0x6845cb(0x149));const _0x471eea=document[_0x6845cb(0x18e)](_0x6845cb(0xe4));_0x471eea[_0x6845cb(0xcb)][_0x6845cb(0xb5)]=_0x2bcd24===_0x6845cb(0x13b)?_0x6845cb(0x157):'none';const _0x1654ce=new Date();let _0x9af7a0=new Date(),_0x416257=new Date();if(_0x2bcd24===_0x6845cb(0x14a))_0x9af7a0=getStartOfWeek(_0x1654ce),_0x416257=new Date(_0x9af7a0),_0x416257[_0x6845cb(0x18b)](_0x416257['getDate']()+0x6);else{if(_0x2bcd24==='month')_0x9af7a0=new Date(_0x1654ce[_0x6845cb(0x13d)](),_0x1654ce[_0x6845cb(0xc5)](),0x1),_0x416257=new Date(_0x1654ce[_0x6845cb(0x13d)](),_0x1654ce[_0x6845cb(0xc5)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x6845cb(0x128)]&&(document[_0x6845cb(0x18e)](_0x6845cb(0x11b))[_0x6845cb(0x128)]=getLocalDateStr(_0x1654ce),document['getElementById'](_0x6845cb(0x115))['value']=getLocalDateStr(_0x1654ce));refreshAnalytics();return;}}document[_0x6845cb(0x18e)](_0x6845cb(0x11b))['value']=getLocalDateStr(_0x9af7a0),document[_0x6845cb(0x18e)](_0x6845cb(0x115))['value']=getLocalDateStr(_0x416257),refreshAnalytics();}function refreshAnalytics(){const _0x2faa93=a3_0x27454d,_0x48e0ac=document[_0x2faa93(0x18e)](_0x2faa93(0x11b))['value'],_0x28ff61=document['getElementById'](_0x2faa93(0x115))['value'];if(!_0x48e0ac||!_0x28ff61)return;const _0x17b9c8=sessions['filter'](_0x53f4c5=>_0x53f4c5['dateStr']>=_0x48e0ac&&_0x53f4c5[_0x2faa93(0xcf)]<=_0x28ff61&&_0x53f4c5['status']!==_0x2faa93(0xc0)),_0x2f742f=_0x17b9c8['length'],_0x1665b8=_0x17b9c8['filter'](_0x1a60e8=>_0x1a60e8['status']===_0x2faa93(0x155))['length'],_0x96eac0=_0x2f742f>0x0?Math['round'](_0x1665b8/_0x2f742f*0x64):0x0;document[_0x2faa93(0x18e)](_0x2faa93(0xf7))[_0x2faa93(0x103)]=_0x96eac0+'%',document[_0x2faa93(0x18e)](_0x2faa93(0xd0))[_0x2faa93(0x103)]=_0x1665b8+_0x2faa93(0xb6)+_0x2f742f+_0x2faa93(0x102);const _0x2ad7fa=document[_0x2faa93(0x18e)]('anDonutCircle'),_0x5cca27=0x2*Math['PI']*0x23,_0x49ee1e=_0x5cca27-_0x96eac0/0x64*_0x5cca27;_0x2ad7fa[_0x2faa93(0xcb)][_0x2faa93(0xc9)]=_0x49ee1e;const _0x529df9={};_0x17b9c8[_0x2faa93(0x106)](_0x1e5fe8=>{const _0x2488b5=_0x2faa93,_0x43af64=_0x1e5fe8[_0x2488b5(0x137)]||'Unknown';if(!_0x529df9[_0x43af64]){const _0x2b2674='#'+_0x43af64[_0x2488b5(0x122)]()[_0x2488b5(0x177)](0x0,0x6);_0x529df9[_0x43af64]={'total':0x0,'done':0x0,'color':_0x2b2674};}_0x529df9[_0x43af64]['total']++;if(_0x1e5fe8[_0x2488b5(0x1a7)]===_0x2488b5(0x155))_0x529df9[_0x43af64]['done']++;});const _0x56c47b=document[_0x2faa93(0x18e)](_0x2faa93(0x119));_0x56c47b[_0x2faa93(0x11c)]='';const _0x403c8b=Object['entries'](_0x529df9)[_0x2faa93(0x140)]((_0x57336d,_0x4f257f)=>_0x4f257f[0x1]['total']-_0x57336d[0x1][_0x2faa93(0x196)]);if(_0x403c8b[_0x2faa93(0x161)]===0x0){_0x56c47b[_0x2faa93(0x11c)]=_0x2faa93(0x10e);return;}_0x403c8b[_0x2faa93(0x106)](([_0x13226d,_0xbc130c])=>{const _0x2f67e2=_0x2faa93,_0x8c056d=Math[_0x2f67e2(0x153)](_0xbc130c[_0x2f67e2(0x10b)]/_0xbc130c[_0x2f67e2(0x196)]*0x64),_0x32f503=document[_0x2f67e2(0xd4)](_0x2f67e2(0xf9));_0x32f503[_0x2f67e2(0x17f)]=_0x2f67e2(0x129),_0x32f503[_0x2f67e2(0xcb)][_0x2f67e2(0xc4)]=_0xbc130c['color'],_0x32f503[_0x2f67e2(0x11c)]=_0x2f67e2(0xfc)+_0x13226d['substr'](0x0,0x5)+_0x2f67e2(0x10c)+_0xbc130c[_0x2f67e2(0x10b)]+_0x2f67e2(0x139)+_0xbc130c[_0x2f67e2(0x196)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x8c056d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x56c47b['appendChild'](_0x32f503);});}function openDetails(_0x19b60f){const _0x39df46=a3_0x27454d;currentSession=_0x19b60f;const _0x2422a8=new Date(_0x19b60f[_0x39df46(0xcf)]),_0x71e363=_0x2422a8[_0x39df46(0x124)](_0x39df46(0x16f),{'weekday':_0x39df46(0xf3),'day':_0x39df46(0x16b),'month':_0x39df46(0xf3)});document['getElementById'](_0x39df46(0x17b))[_0x39df46(0x103)]=_0x71e363[_0x39df46(0x1aa)](0x0)[_0x39df46(0xbd)]()+_0x71e363[_0x39df46(0x14e)](0x1),document[_0x39df46(0x18e)]('detTime')[_0x39df46(0x103)]=_0x19b60f[_0x39df46(0x186)]+_0x39df46(0x18f)+_0x19b60f['end'],document['getElementById'](_0x39df46(0x16c))[_0x39df46(0x103)]=_0x19b60f[_0x39df46(0x160)]||_0x39df46(0xe6);const _0x428238=document[_0x39df46(0x18e)](_0x39df46(0x109)),_0x13d765=document[_0x39df46(0x18e)](_0x39df46(0xf2)),_0x4a3348=_0x13d765[_0x39df46(0x181)](_0x39df46(0x198)),_0xaf4cbf=_0x13d765[_0x39df46(0x181)](_0x39df46(0xbb)),_0x16aebc=document[_0x39df46(0x18e)](_0x39df46(0x183));if(_0x19b60f[_0x39df46(0x1a7)]===_0x39df46(0x155))_0x428238[_0x39df46(0x103)]=_0x39df46(0xe1),_0x428238[_0x39df46(0xcb)][_0x39df46(0x131)]=_0x39df46(0xfe),_0x13d765['style'][_0x39df46(0xb5)]=_0x39df46(0x132);else{_0x428238['textContent']=_0x39df46(0x105),_0x428238[_0x39df46(0xcb)]['color']=_0x39df46(0x145),_0x13d765[_0x39df46(0xcb)][_0x39df46(0xb5)]='block';const _0x303b0c=new Date(_0x19b60f['dateStr']+'T'+_0x19b60f[_0x39df46(0x186)]),_0x771c2c=new Date(),_0x28fe1a=(_0x303b0c-_0x771c2c)/(0x3e8*0x3c*0x3c),_0x16e4b1=coachProfiles[_0x19b60f[_0x39df46(0x137)]]&&coachProfiles[_0x19b60f['coachId']]['cancel_window']?parseInt(coachProfiles[_0x19b60f[_0x39df46(0x137)]][_0x39df46(0x12e)]):0x18;if(_0x16e4b1===0x0||_0x28fe1a>=_0x16e4b1)_0x4a3348[_0x39df46(0xcb)]['display']=_0x39df46(0x199),_0xaf4cbf[_0x39df46(0xcb)][_0x39df46(0xb5)]=_0x39df46(0x199),_0x16aebc[_0x39df46(0xcb)][_0x39df46(0xb5)]=_0x39df46(0x132);else{_0x4a3348[_0x39df46(0xcb)][_0x39df46(0xb5)]=_0x39df46(0x132),_0xaf4cbf['style']['display']='none',_0x16aebc[_0x39df46(0xcb)][_0x39df46(0xb5)]=_0x39df46(0x199);let _0x158bdc=_0x16e4b1===0x0?_0x39df46(0x146):'–∑–∞\x20'+_0x16e4b1+_0x39df46(0xd5);_0x16aebc['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x158bdc+_0x39df46(0xee);}}document[_0x39df46(0x18e)]('overlay')[_0x39df46(0x192)]['add']('active'),document[_0x39df46(0x18e)](_0x39df46(0x138))[_0x39df46(0x192)][_0x39df46(0xd3)](_0x39df46(0x151));}function closeAllSheets(){const _0x214c5f=a3_0x27454d;document[_0x214c5f(0x18e)](_0x214c5f(0x179))[_0x214c5f(0x192)][_0x214c5f(0x189)](_0x214c5f(0x149)),document[_0x214c5f(0x159)](_0x214c5f(0x1a1))[_0x214c5f(0x106)](_0x781823=>_0x781823[_0x214c5f(0x192)][_0x214c5f(0x189)](_0x214c5f(0x151)));}function openSheet(_0x3dc3fe){const _0x31edd2=a3_0x27454d;document[_0x31edd2(0x18e)]('overlay')[_0x31edd2(0x192)]['add'](_0x31edd2(0x149)),document[_0x31edd2(0x18e)](_0x3dc3fe)['classList']['add'](_0x31edd2(0x151));}function getLocalDateStr(_0x3e3922){const _0x363a89=a3_0x27454d,_0x5857f7=_0x3e3922[_0x363a89(0x13d)](),_0x499348=String(_0x3e3922[_0x363a89(0xc5)]()+0x1)[_0x363a89(0x100)](0x2,'0'),_0x519cf2=String(_0x3e3922[_0x363a89(0x10d)]())[_0x363a89(0x100)](0x2,'0');return _0x5857f7+'-'+_0x499348+'-'+_0x519cf2;}function getStartOfWeek(_0x202e01){const _0x179e81=a3_0x27454d,_0x3d4bd0=new Date(_0x202e01),_0x1a58be=_0x3d4bd0[_0x179e81(0x11a)](),_0x5586ca=_0x3d4bd0[_0x179e81(0x10d)]()-_0x1a58be+(_0x1a58be===0x0?-0x6:0x1);return _0x3d4bd0[_0x179e81(0x18b)](_0x5586ca),_0x3d4bd0['setHours'](0x0,0x0,0x0,0x0),_0x3d4bd0;}function scrollToToday(){const _0x370386=getLocalDateStr(new Date());setTimeout(()=>{const _0xa721ae=a3_0x39eb,_0x267bc5=document['querySelector'](_0xa721ae(0xc8)+_0x370386+'\x22]');if(_0x267bc5){const _0x2832f6=document['getElementById']('matrixViewport'),_0xb0d13c=_0x267bc5[_0xa721ae(0x12c)]-_0x2832f6[_0xa721ae(0x142)]/0x2+_0x267bc5['offsetWidth']/0x2;_0x2832f6[_0xa721ae(0x136)]({'left':_0xb0d13c,'behavior':_0xa721ae(0xc3)}),_0x2832f6[_0xa721ae(0x16e)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x30127e=a3_0x27454d,_0x264931=new Date(),_0x1eca99=document['getElementById'](_0x30127e(0x158)),_0x2a2f7b=document[_0x30127e(0x18e)](_0x30127e(0x162)),_0x49b29a=(_0x264931['getHours']()*0x3c+_0x264931[_0x30127e(0xec)]())/0x3c*GRID_H;_0x1eca99[_0x30127e(0xcb)]['top']=_0x49b29a+'px',_0x1eca99[_0x30127e(0xcb)]['display']=_0x30127e(0x199),_0x2a2f7b[_0x30127e(0xcb)][_0x30127e(0x167)]=_0x49b29a+'px',_0x2a2f7b[_0x30127e(0xcb)][_0x30127e(0xb5)]=_0x30127e(0x199),_0x2a2f7b[_0x30127e(0x103)]=String(_0x264931[_0x30127e(0x171)]())['padStart'](0x2,'0')+':'+String(_0x264931['getMinutes']())[_0x30127e(0x100)](0x2,'0');}function onScroll(){const _0x2e7713=a3_0x27454d,_0x41ca53=document[_0x2e7713(0x18e)](_0x2e7713(0x10a)),_0x542252=document[_0x2e7713(0x159)](_0x2e7713(0xbf));for(let _0x20bb9c of _0x542252)if(_0x20bb9c[_0x2e7713(0x12c)]>=_0x41ca53['scrollLeft']){const _0x2f0bec=new Date(_0x20bb9c[_0x2e7713(0x18a)](_0x2e7713(0x1a0)));document[_0x2e7713(0x18e)]('headerMonth')[_0x2e7713(0x103)]=_0x2f0bec[_0x2e7713(0x194)]('ru',{'month':_0x2e7713(0xf3)})[_0x2e7713(0xbd)]()+'\x20'+_0x2f0bec[_0x2e7713(0x13d)]();break;}}function showToast(_0x1f1156){const _0x5ab54a=a3_0x27454d,_0x290a6a=document['getElementById'](_0x5ab54a(0x11f));_0x290a6a[_0x5ab54a(0x103)]=_0x1f1156,_0x290a6a[_0x5ab54a(0x192)][_0x5ab54a(0xd3)](_0x5ab54a(0x173)),setTimeout(()=>_0x290a6a['classList'][_0x5ab54a(0x189)](_0x5ab54a(0x173)),0x7d0);}function handleInfiniteScroll(){const _0x2f67ff=a3_0x27454d,_0x5c1657=document[_0x2f67ff(0x18e)](_0x2f67ff(0x10a)),_0xfbc525=_0x5c1657[_0x2f67ff(0x17d)],_0x2ab3c7=_0x5c1657['scrollWidth'],_0x14838f=_0x5c1657[_0x2f67ff(0x142)];if(_0x2ab3c7-(_0xfbc525+_0x14838f)<0x12c){const _0x475256=endOffset;endOffset+=0xe,renderDayRange(_0x475256+0x1,endOffset),reRenderBlocks();}if(_0xfbc525<0x12c){const _0x3bf897=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3bf897-0x1),_0x5c1657['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x162e6a,_0x440162){const _0x373cb4=a3_0x27454d,_0x5cff5d=document[_0x373cb4(0x18e)]('daysHeaderTrack'),_0x2c116f=document['getElementById']('gridColumns'),_0x5eeed5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5484f3=new Date();_0x5484f3[_0x373cb4(0xd6)](0x0,0x0,0x0,0x0);const _0x7249fe=getLocalDateStr(new Date()),_0x19f9a2=document[_0x373cb4(0xb9)](),_0xeec68b=document[_0x373cb4(0xb9)]();for(let _0x4c2727=_0x162e6a;_0x4c2727<=_0x440162;_0x4c2727++){const _0x15a44a=new Date(_0x5484f3);_0x15a44a[_0x373cb4(0x18b)](_0x15a44a[_0x373cb4(0x10d)]()+_0x4c2727);const _0x6c7496=getLocalDateStr(_0x15a44a);let _0x44b044=_0x15a44a[_0x373cb4(0x11a)]()-0x1;if(_0x44b044===-0x1)_0x44b044=0x6;const _0x3f7e28=_0x6c7496===_0x7249fe,_0x10fef0=document[_0x373cb4(0xd4)](_0x373cb4(0xf9));_0x10fef0[_0x373cb4(0x17f)]=_0x373cb4(0xcd)+(_0x3f7e28?_0x373cb4(0x14d):''),_0x10fef0[_0x373cb4(0xf8)]('data-date',_0x6c7496),_0x10fef0['innerHTML']=_0x373cb4(0x12f)+_0x5eeed5[_0x44b044]+_0x373cb4(0xf4)+_0x15a44a[_0x373cb4(0x10d)]()+_0x373cb4(0x144),_0x19f9a2[_0x373cb4(0x120)](_0x10fef0);const _0xc12d8a=document[_0x373cb4(0xd4)](_0x373cb4(0xf9));_0xc12d8a[_0x373cb4(0x17f)]=_0x373cb4(0x19d)+(_0x3f7e28?_0x373cb4(0x14d):''),_0xc12d8a[_0x373cb4(0xf8)](_0x373cb4(0x1a0),_0x6c7496),_0xc12d8a[_0x373cb4(0xf8)](_0x373cb4(0x10f),_0x44b044),_0xeec68b[_0x373cb4(0x120)](_0xc12d8a);}_0x5cff5d[_0x373cb4(0x12b)](_0x19f9a2,_0x5cff5d['firstChild']),_0x2c116f[_0x373cb4(0x12b)](_0xeec68b,_0x2c116f[_0x373cb4(0x181)]('.day-column'));}function hexToRgba(_0x3fd1fd,_0x523bd4){const _0x28a376=a3_0x27454d;let _0x5ce516;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3fd1fd))return _0x5ce516=_0x3fd1fd[_0x28a376(0xc7)](0x1)['split'](''),_0x5ce516[_0x28a376(0x161)]==0x3&&(_0x5ce516=[_0x5ce516[0x0],_0x5ce516[0x0],_0x5ce516[0x1],_0x5ce516[0x1],_0x5ce516[0x2],_0x5ce516[0x2]]),_0x5ce516='0x'+_0x5ce516[_0x28a376(0x1a8)](''),_0x28a376(0xc2)+[_0x5ce516>>0x10&0xff,_0x5ce516>>0x8&0xff,_0x5ce516&0xff][_0x28a376(0x1a8)](',')+','+_0x523bd4+')';return _0x28a376(0x112)+_0x523bd4+')';}let confirmResolver=null;function showCustomConfirm(_0x3db9f7,_0x1c5ec8,_0x3abf31=!![]){const _0x31bfcc=a3_0x27454d;document[_0x31bfcc(0x18e)]('ccTitle')['textContent']=_0x3db9f7,document[_0x31bfcc(0x18e)](_0x31bfcc(0x15f))[_0x31bfcc(0x103)]=_0x1c5ec8;const _0x5b3c60=document['getElementById'](_0x31bfcc(0x104));return _0x3abf31?(_0x5b3c60[_0x31bfcc(0xcb)][_0x31bfcc(0x131)]=_0x31bfcc(0x1a6),_0x5b3c60['style'][_0x31bfcc(0x127)]='600'):(_0x5b3c60['style']['color']=_0x31bfcc(0x121),_0x5b3c60[_0x31bfcc(0xcb)]['fontWeight']=_0x31bfcc(0x13a)),new Promise(_0x4e8b21=>{const _0x4ac220=_0x31bfcc;confirmResolver=_0x4e8b21,document['getElementById'](_0x4ac220(0xdb))[_0x4ac220(0x192)][_0x4ac220(0xd3)](_0x4ac220(0xd8));});}function resolveCustomConfirm(_0x3eb454){const _0x3dfdb0=a3_0x27454d;document[_0x3dfdb0(0x18e)](_0x3dfdb0(0xdb))[_0x3dfdb0(0x192)][_0x3dfdb0(0x189)]('visible');if(confirmResolver)confirmResolver(_0x3eb454);}async function tryCancelCurrentSession(){const _0x16ecfd=a3_0x27454d;if(!currentSession)return;const _0x4b4ae7=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x16ecfd(0x180),!![]);if(!_0x4b4ae7)return;const _0x3591ec=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x107c8c=>_0x107c8c['id']!==_0x3591ec['id']),reRenderBlocks(),showToast(_0x16ecfd(0x141)),lastUserActionTime=Date[_0x16ecfd(0x166)]();try{const _0x10f35b=window[_0x16ecfd(0x1a4)]?.[_0x16ecfd(0xea)],_0x367c61=await fetch(API_URL,{'method':'POST','body':JSON[_0x16ecfd(0x1a3)]({'action':'client_cancel','init_data':_0x10f35b?.[_0x16ecfd(0x188)]||'','coachId':_0x3591ec[_0x16ecfd(0x137)],'dateStr':_0x3591ec[_0x16ecfd(0xcf)],'sessionId':_0x3591ec['id']})});if(_0x367c61['ok'])DataManager[_0x16ecfd(0x195)]();}catch(_0x5a3384){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x15f3b7=a3_0x27454d;if(!currentSession)return;document[_0x15f3b7(0x18e)](_0x15f3b7(0x138))[_0x15f3b7(0x192)][_0x15f3b7(0x189)](_0x15f3b7(0x151)),document['getElementById'](_0x15f3b7(0xe8))[_0x15f3b7(0x192)][_0x15f3b7(0xd3)]('open');const _0x4ee347=document[_0x15f3b7(0x18e)]('rsDatesTrack'),_0x38317b=document['getElementById'](_0x15f3b7(0xd2));_0x4ee347[_0x15f3b7(0x11c)]='',_0x38317b[_0x15f3b7(0x11c)]=_0x15f3b7(0x1a2);const [_0x51be3a,_0x191800]=currentSession[_0x15f3b7(0x186)][_0x15f3b7(0xe2)](':')['map'](Number),[_0x1d3bb1,_0x2fc29f]=currentSession[_0x15f3b7(0x175)][_0x15f3b7(0xe2)](':')[_0x15f3b7(0x12a)](Number),_0x3f5598=_0x1d3bb1*0x3c+_0x2fc29f-(_0x51be3a*0x3c+_0x191800);try{const _0x75b29f=window['Telegram']?.[_0x15f3b7(0xea)],_0x440d63=await fetch(API_URL,{'method':_0x15f3b7(0x170),'body':JSON[_0x15f3b7(0x1a3)]({'action':'get_slots','coachId':currentSession[_0x15f3b7(0x137)],'duration':_0x3f5598,'init_data':_0x75b29f?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x3ae4bb=await _0x440d63[_0x15f3b7(0x14f)]();_0x3ae4bb['ok']&&_0x3ae4bb[_0x15f3b7(0x17a)]?(availableSlotsCache=_0x3ae4bb[_0x15f3b7(0x17a)],renderRescheduleDates()):_0x38317b['innerHTML']=_0x15f3b7(0x11e);}catch(_0x28c14c){_0x38317b[_0x15f3b7(0x11c)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function a3_0x39eb(_0x19f39f,_0x326c62){_0x19f39f=_0x19f39f-0xb4;const _0x59f185=a3_0x1050();let _0xd99abb=_0x59f185[_0x19f39f];return _0xd99abb;}function renderRescheduleDates(){const _0x5acdf5=a3_0x27454d,_0x156b58=document[_0x5acdf5(0x18e)](_0x5acdf5(0x165));_0x156b58[_0x5acdf5(0x11c)]='';const _0x151386=Object[_0x5acdf5(0x133)](availableSlotsCache)['sort'](),_0x31f2c9=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x151386['length']===0x0){document['getElementById'](_0x5acdf5(0xd2))[_0x5acdf5(0x11c)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x151386[_0x5acdf5(0x106)]((_0x2f9a8a,_0x8dd883)=>{const _0x3507ac=_0x5acdf5,_0x44c0bf=new Date(_0x2f9a8a),_0x23a445=_0x31f2c9[_0x44c0bf[_0x3507ac(0x11a)]()],_0x1aa8f9=_0x44c0bf[_0x3507ac(0x10d)](),_0x5dbade=document['createElement'](_0x3507ac(0xf9));_0x5dbade[_0x3507ac(0x17f)]='rs-date-chip';if(_0x8dd883===0x0)_0x5dbade[_0x3507ac(0x192)][_0x3507ac(0xd3)](_0x3507ac(0x149));_0x5dbade[_0x3507ac(0x11c)]='<div\x20class=\x22rs-day-name\x22>'+_0x23a445+_0x3507ac(0x135)+_0x1aa8f9+_0x3507ac(0x144),_0x5dbade[_0x3507ac(0x19c)]=()=>selectRsDate(_0x2f9a8a,_0x5dbade),_0x156b58['appendChild'](_0x5dbade);}),selectRsDate(_0x151386[0x0],_0x156b58['firstChild']);}function selectRsDate(_0x288a5c,_0x48d3a9){const _0x198193=a3_0x27454d;selectedRsDate=_0x288a5c,document['querySelectorAll'](_0x198193(0xd7))[_0x198193(0x106)](_0x49c7d8=>_0x49c7d8[_0x198193(0x192)]['remove'](_0x198193(0x149)));if(_0x48d3a9)_0x48d3a9['classList']['add'](_0x198193(0x149));const _0x1fde73=document[_0x198193(0x18e)]('rsSlotsGrid');_0x1fde73['innerHTML']='';const _0x7bc310=availableSlotsCache[_0x288a5c]||[];if(_0x7bc310[_0x198193(0x161)]===0x0){_0x1fde73[_0x198193(0x11c)]=_0x198193(0x11e);return;}_0x7bc310[_0x198193(0x106)](_0x1f11c7=>{const _0x197968=_0x198193,_0x3b836e=document[_0x197968(0xd4)](_0x197968(0xe0));_0x3b836e[_0x197968(0x17f)]='rs-time-btn',_0x3b836e[_0x197968(0x103)]=_0x1f11c7,_0x3b836e[_0x197968(0x19c)]=()=>confirmReschedule(_0x1f11c7),_0x1fde73['appendChild'](_0x3b836e);});}async function confirmReschedule(_0x1e4739){const _0x1ce033=a3_0x27454d,_0x20d290=new Date(selectedRsDate),_0x1ec157=_0x20d290[_0x1ce033(0x124)](_0x1ce033(0x16f),{'day':_0x1ce033(0x16b),'month':_0x1ce033(0xf3)}),_0x3126ba=await showCustomConfirm(_0x1ce033(0x19e),_0x1ce033(0x176)+_0x1ec157+_0x1ce033(0xba)+_0x1e4739+'?',![]);if(!_0x3126ba)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x1ce033(0x166)]();const _0x7c9f7=currentSession['dateStr'],_0x559cea=currentSession['id'],[_0x3805d6,_0x144980]=currentSession[_0x1ce033(0x186)][_0x1ce033(0xe2)](':')[_0x1ce033(0x12a)](Number),[_0xf4b46,_0x3592d2]=currentSession['end'][_0x1ce033(0xe2)](':')[_0x1ce033(0x12a)](Number),_0x124cb9=_0xf4b46*0x3c+_0x3592d2-(_0x3805d6*0x3c+_0x144980),[_0x3deaef,_0x196531]=_0x1e4739[_0x1ce033(0xe2)](':')[_0x1ce033(0x12a)](Number),_0x5f39b2=_0x3deaef*0x3c+_0x196531+_0x124cb9,_0x4e3a4a=Math[_0x1ce033(0x148)](_0x5f39b2/0x3c),_0x48b9c5=_0x5f39b2%0x3c,_0x1390c8=String(_0x4e3a4a)[_0x1ce033(0x100)](0x2,'0')+':'+String(_0x48b9c5)[_0x1ce033(0x100)](0x2,'0'),_0x2b8a09=sessions['findIndex'](_0x2fb8be=>_0x2fb8be['id']===_0x559cea);_0x2b8a09!==-0x1&&(sessions[_0x2b8a09][_0x1ce033(0xcf)]=selectedRsDate,sessions[_0x2b8a09]['start']=_0x1e4739,sessions[_0x2b8a09][_0x1ce033(0x175)]=_0x1390c8,reRenderBlocks());try{const _0x52301c=window[_0x1ce033(0x1a4)]?.[_0x1ce033(0xea)],_0xda211=await fetch(API_URL,{'method':_0x1ce033(0x170),'body':JSON['stringify']({'action':_0x1ce033(0xdc),'init_data':_0x52301c?.['initData']||'','oldSessionId':_0x559cea,'oldDate':_0x7c9f7,'newDate':selectedRsDate,'newTime':_0x1e4739,'coachId':currentSession[_0x1ce033(0x137)]})}),_0x320945=await _0xda211['json']();!_0x320945['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x1ce033(0xe7)),DataManager[_0x1ce033(0x195)]());}catch(_0xdf0fdd){showToast(_0x1ce033(0xf6));}}document[a3_0x27454d(0x12d)]('DOMContentLoaded',init);