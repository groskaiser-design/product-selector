const a3_0x26d1ff=a3_0xad57;(function(_0x5bdea6,_0xd82131){const _0x30a3bd=a3_0xad57,_0x11b810=_0x5bdea6();while(!![]){try{const _0x635e05=parseInt(_0x30a3bd(0x23c))/0x1+-parseInt(_0x30a3bd(0x244))/0x2+-parseInt(_0x30a3bd(0x289))/0x3*(parseInt(_0x30a3bd(0x268))/0x4)+-parseInt(_0x30a3bd(0x24f))/0x5*(-parseInt(_0x30a3bd(0x25b))/0x6)+-parseInt(_0x30a3bd(0x246))/0x7+-parseInt(_0x30a3bd(0x286))/0x8*(-parseInt(_0x30a3bd(0x21e))/0x9)+-parseInt(_0x30a3bd(0x227))/0xa*(-parseInt(_0x30a3bd(0x2e6))/0xb);if(_0x635e05===_0xd82131)break;else _0x11b810['push'](_0x11b810['shift']());}catch(_0x5e1fbd){_0x11b810['push'](_0x11b810['shift']());}}}(a3_0x317d,0xd7523));const APP_VERSION=a3_0x26d1ff(0x208),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x26d1ff(0x258),KEY_SETTINGS=a3_0x26d1ff(0x2d7),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x26d1ff(0x2d4),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2b57c0=a3_0x26d1ff,_0x266751=(function(){let _0x4120e7=!![];return function(_0x1769fd,_0x4d637b){const _0x425a9b=_0x4120e7?function(){if(_0x4d637b){const _0x31810d=_0x4d637b['apply'](_0x1769fd,arguments);return _0x4d637b=null,_0x31810d;}}:function(){};return _0x4120e7=![],_0x425a9b;};}()),_0xa2fc07=_0x266751(this,function(){const _0x2b423b=a3_0xad57;return _0xa2fc07[_0x2b423b(0x275)]()[_0x2b423b(0x27d)](_0x2b423b(0x243))[_0x2b423b(0x275)]()['constructor'](_0xa2fc07)[_0x2b423b(0x27d)]('(((.+)+)+)+$');});_0xa2fc07();try{const _0x4ab244=window[_0x2b57c0(0x2d0)]?.[_0x2b57c0(0x23e)];if(!_0x4ab244)return;_0x4ab244[_0x2b57c0(0x25a)](),_0x4ab244['expand']();try{_0x4ab244['setHeaderColor'](_0x2b57c0(0x259)),_0x4ab244[_0x2b57c0(0x266)]&&_0x4ab244[_0x2b57c0(0x266)](_0x2b57c0(0x259));}catch(_0xcd8d9b){console['log'](_0x2b57c0(0x247),_0xcd8d9b);}try{_0x4ab244[_0x2b57c0(0x200)]&&(_0x4ab244[_0x2b57c0(0x200)][_0x2b57c0(0x2c5)](),_0x4ab244[_0x2b57c0(0x200)][_0x2b57c0(0x28c)](),_0x4ab244[_0x2b57c0(0x200)]['onClick'](function(){const _0x3e7b9c=_0x2b57c0;window[_0x3e7b9c(0x217)]['href']=_0x3e7b9c(0x205);}));}catch(_0x4139a2){console['log'](_0x2b57c0(0x223),_0x4139a2);}try{if(_0x4ab244[_0x2b57c0(0x24d)])_0x4ab244[_0x2b57c0(0x24d)]();}catch(_0xb62c50){}}catch(_0x3390ac){console[_0x2b57c0(0x2be)](_0x2b57c0(0x25f),_0x3390ac);}}());function isAdmin(){const _0xbb1f85=a3_0x26d1ff;try{const _0x35c2d0=Number(window[_0xbb1f85(0x2d0)]?.[_0xbb1f85(0x23e)]?.['initDataUnsafe']?.['user']?.['id']);return _0x35c2d0===0xbaf7174;}catch(_0x3e5a48){return![];}}const DataManager={'saveLocally'(){const _0x3967fc=a3_0x26d1ff;try{localStorage[_0x3967fc(0x294)](KEY_SESSIONS,JSON[_0x3967fc(0x254)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3967fc(0x254)](clients)),localStorage[_0x3967fc(0x294)](KEY_SETTINGS,JSON[_0x3967fc(0x254)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x12f3bd){}},'loadLocal'(){const _0x311293=a3_0x26d1ff;try{const _0x338e4a=localStorage[_0x311293(0x252)](KEY_SESSIONS);if(_0x338e4a)sessions=JSON[_0x311293(0x2b2)](_0x338e4a);const _0x4cd023=localStorage[_0x311293(0x252)](KEY_CLIENTS);if(_0x4cd023)clients=JSON['parse'](_0x4cd023);const _0x397b1e=localStorage[_0x311293(0x252)](KEY_SETTINGS);if(_0x397b1e){const _0x396dfd=JSON[_0x311293(0x2b2)](_0x397b1e);if(_0x396dfd['pattern'])availabilityPattern=_0x396dfd[_0x311293(0x233)];if(_0x396dfd[_0x311293(0x216)])specialRanges=_0x396dfd[_0x311293(0x216)];if(_0x396dfd[_0x311293(0x26e)])dateExceptions=_0x396dfd[_0x311293(0x26e)];}}catch(_0x1faebf){}},async 'syncLoad'(){const _0x1eef4a=a3_0x26d1ff,_0x5ea5f1=new Date(),_0x2174c2=_0x5ea5f1[_0x1eef4a(0x2da)]()+'-'+String(_0x5ea5f1[_0x1eef4a(0x204)]()+0x1)['padStart'](0x2,'0'),_0xd376d8=new Date(_0x5ea5f1);_0xd376d8['setMonth'](_0x5ea5f1[_0x1eef4a(0x204)]()+0x1);const _0x2a82a1=_0xd376d8[_0x1eef4a(0x2da)]()+'-'+String(_0xd376d8[_0x1eef4a(0x204)]()+0x1)[_0x1eef4a(0x293)](0x2,'0'),_0x1de5f6=Date[_0x1eef4a(0x26c)]();try{const _0x140201=window['Telegram']?.[_0x1eef4a(0x23e)],_0x52fd3d=_0x140201?.[_0x1eef4a(0x2dc)]||'',[_0x3d73a1,_0x90dd35]=await Promise[_0x1eef4a(0x299)]([fetch(API_URL,{'method':_0x1eef4a(0x25c),'body':JSON['stringify']({'action':'client_load','init_data':_0x52fd3d,'month_str':_0x2174c2})})[_0x1eef4a(0x1f8)](_0x2c2bd0=>_0x2c2bd0['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x1eef4a(0x254)]({'action':_0x1eef4a(0x280),'init_data':_0x52fd3d,'month_str':_0x2a82a1})})['then'](_0x9bcbb7=>_0x9bcbb7[_0x1eef4a(0x2d1)]())]);if(lastUserActionTime>_0x1de5f6){console[_0x1eef4a(0x240)](_0x1eef4a(0x22e));return;}if(_0x3d73a1['ok'])this[_0x1eef4a(0x25d)](_0x3d73a1[_0x1eef4a(0x224)],_0x2174c2);if(_0x90dd35['ok'])this[_0x1eef4a(0x25d)](_0x90dd35[_0x1eef4a(0x224)],_0x2a82a1);this[_0x1eef4a(0x2c7)]();}catch(_0x372dea){}},'applyData'(_0x2444ce,_0x230967){const _0x311a5b=a3_0x26d1ff;if(!_0x2444ce)return;if(_0x2444ce['settings']){if(_0x2444ce[_0x311a5b(0x230)][_0x311a5b(0x233)])availabilityPattern=_0x2444ce[_0x311a5b(0x230)][_0x311a5b(0x233)];if(_0x2444ce[_0x311a5b(0x230)]['ranges'])specialRanges=_0x2444ce['settings'][_0x311a5b(0x216)];if(_0x2444ce['settings'][_0x311a5b(0x26e)])dateExceptions=_0x2444ce['settings'][_0x311a5b(0x26e)];}if(_0x2444ce[_0x311a5b(0x2b4)]&&Array['isArray'](_0x2444ce[_0x311a5b(0x2b4)]))clients=_0x2444ce[_0x311a5b(0x2b4)];_0x2444ce[_0x311a5b(0x210)]&&(coachProfiles={...coachProfiles,..._0x2444ce[_0x311a5b(0x210)]}),_0x2444ce['calendar']&&(sessions=sessions[_0x311a5b(0x28f)](_0x5505b4=>!_0x5505b4[_0x311a5b(0x26a)][_0x311a5b(0x278)](_0x230967)),Object['keys'](_0x2444ce[_0x311a5b(0x296)])[_0x311a5b(0x2c3)](_0xcb2caf=>{const _0x1d4342=_0x311a5b,_0x55903b=_0x2444ce[_0x1d4342(0x296)][_0xcb2caf];_0x55903b['forEach'](_0x3dce5c=>{const _0x26c9c5=_0x1d4342;sessions['push']({'id':_0x3dce5c['i'],'clientId':_0x3dce5c['c'],'coachId':_0x3dce5c[_0x26c9c5(0x1fa)],'dateStr':_0x230967+'-'+_0xcb2caf[_0x26c9c5(0x293)](0x2,'0'),'start':_0x3dce5c['s'],'end':_0x3dce5c['e'],'note':_0x3dce5c['n']||'','status':_0x3dce5c['st']||'planned','seriesId':_0x3dce5c[_0x26c9c5(0x1f9)]});});})),reRenderBlocks();}};function init(){const _0x2122be=a3_0x26d1ff;DataManager[_0x2122be(0x229)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2122be(0x27a)](_0x2122be(0x1fe))[_0x2122be(0x2a2)](_0x2122be(0x23a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x52fc8c=a3_0x26d1ff,_0x40485c=document['getElementById']('timeColumn'),_0x1464f7=document[_0x52fc8c(0x27a)](_0x52fc8c(0x1f5));_0x40485c[_0x52fc8c(0x2e5)]='',_0x40485c[_0x52fc8c(0x2c9)](_0x1464f7);for(let _0x52d792=0x0;_0x52d792<0x18;_0x52d792++){const _0x24be3d=document[_0x52fc8c(0x2c4)](_0x52fc8c(0x2e4));_0x24be3d['className']=_0x52fc8c(0x284);if(_0x52d792>0x0)_0x24be3d[_0x52fc8c(0x2e5)]=_0x52fc8c(0x2a1)+String(_0x52d792)[_0x52fc8c(0x293)](0x2,'0')+':00</span>';_0x40485c[_0x52fc8c(0x2c9)](_0x24be3d);}}function renderDayRange(_0x1621c2,_0xa1e33e){const _0x66a1fb=a3_0x26d1ff,_0x546198=document[_0x66a1fb(0x27a)]('daysHeaderTrack'),_0x234017=document[_0x66a1fb(0x27a)]('gridColumns'),_0x468556=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4324ae=new Date();_0x4324ae[_0x66a1fb(0x2d6)](0x0,0x0,0x0,0x0);const _0x1f859e=getLocalDateStr(new Date());for(let _0x259cb7=_0x1621c2;_0x259cb7<=_0xa1e33e;_0x259cb7++){const _0x40434f=new Date(_0x4324ae);_0x40434f[_0x66a1fb(0x272)](_0x40434f[_0x66a1fb(0x2ea)]()+_0x259cb7);const _0x21e25d=getLocalDateStr(_0x40434f);let _0x5422e1=_0x40434f[_0x66a1fb(0x202)]()-0x1;if(_0x5422e1===-0x1)_0x5422e1=0x6;const _0xe15e5f=_0x21e25d===_0x1f859e,_0x3afb5e=document[_0x66a1fb(0x2c4)](_0x66a1fb(0x2e4));_0x3afb5e[_0x66a1fb(0x21a)]='day-col-header\x20'+(_0xe15e5f?_0x66a1fb(0x21b):''),_0x3afb5e[_0x66a1fb(0x25e)]('data-date',_0x21e25d),_0x3afb5e[_0x66a1fb(0x2e5)]=_0x66a1fb(0x2ad)+_0x468556[_0x5422e1]+'</div><div\x20class=\x22dch-num\x22>'+_0x40434f[_0x66a1fb(0x2ea)]()+'</div>',_0x546198[_0x66a1fb(0x2c9)](_0x3afb5e);const _0x13badc=document[_0x66a1fb(0x2c4)](_0x66a1fb(0x2e4));_0x13badc['className']='day-column\x20'+(_0xe15e5f?_0x66a1fb(0x21b):''),_0x13badc[_0x66a1fb(0x25e)](_0x66a1fb(0x270),_0x21e25d),_0x13badc[_0x66a1fb(0x25e)](_0x66a1fb(0x20e),_0x5422e1),_0x234017[_0x66a1fb(0x2c9)](_0x13badc);}}function reRenderBlocks(){const _0x289ddf=a3_0x26d1ff;document[_0x289ddf(0x1fb)](_0x289ddf(0x241))['forEach'](_0x314d25=>{const _0x5623b5=_0x289ddf;_0x314d25[_0x5623b5(0x1fb)](_0x5623b5(0x26d))[_0x5623b5(0x2c3)](_0x189d9d=>_0x189d9d[_0x5623b5(0x271)]());const _0x12811e=_0x314d25['getAttribute'](_0x5623b5(0x270)),_0xf7963b=parseInt(_0x314d25[_0x5623b5(0x248)](_0x5623b5(0x20e))),_0x55426e=Math[_0x5623b5(0x236)](_0x314d25[_0x5623b5(0x28b)]);(availabilityPattern[_0xf7963b]||[])['forEach'](_0x36bbb7=>{const _0x5d8a69=_0x5623b5,_0x3dc9a3=document['createElement'](_0x5d8a69(0x2e4));_0x3dc9a3[_0x5d8a69(0x21a)]=_0x5d8a69(0x20c),_0x3dc9a3[_0x5d8a69(0x24e)][_0x5d8a69(0x20f)]=_0x36bbb7*GRID_H+'px',_0x3dc9a3[_0x5d8a69(0x24e)][_0x5d8a69(0x203)]='-'+_0x55426e+_0x5d8a69(0x2a6)+_0x36bbb7*GRID_H+'px',_0x314d25[_0x5d8a69(0x2c9)](_0x3dc9a3);});if(specialRanges['length']>0x0){const _0x1ac9f2=new Date(_0x12811e+'T00:00:00')['getTime'](),_0x21f896=new Date(_0x12811e+_0x5623b5(0x2d9))[_0x5623b5(0x24a)]();specialRanges[_0x5623b5(0x2c3)](_0xd5634a=>{const _0x3162e9=_0x5623b5,_0x44c710=new Date(_0xd5634a[_0x3162e9(0x245)])['getTime'](),_0x465402=new Date(_0xd5634a['end'])[_0x3162e9(0x24a)](),_0x32177=Math[_0x3162e9(0x2de)](_0x1ac9f2,_0x44c710),_0x45d7d3=Math[_0x3162e9(0x29f)](_0x21f896,_0x465402);if(_0x32177<_0x45d7d3){const _0x151e4f=(_0x32177-_0x1ac9f2)/0x36ee80*GRID_H,_0x34cc2e=(_0x45d7d3-_0x32177)/0x36ee80*GRID_H,_0x3d00f7=document[_0x3162e9(0x2c4)](_0x3162e9(0x2e4));_0x34cc2e>=23.5*GRID_H?(_0x3d00f7[_0x3162e9(0x21a)]=_0x3162e9(0x291),_0x3d00f7[_0x3162e9(0x24e)][_0x3162e9(0x203)]='-'+_0x55426e+_0x3162e9(0x281)):(_0x3d00f7[_0x3162e9(0x21a)]=_0x3162e9(0x2e2),_0x3d00f7[_0x3162e9(0x24e)][_0x3162e9(0x20f)]=_0x151e4f+'px',_0x3d00f7[_0x3162e9(0x24e)]['height']=_0x34cc2e+'px',_0x3d00f7[_0x3162e9(0x24e)][_0x3162e9(0x203)]='-'+_0x55426e+_0x3162e9(0x2a6)+_0x151e4f+'px'),_0x314d25[_0x3162e9(0x2c9)](_0x3d00f7);}});}renderEventsForColumn(_0x314d25,_0x12811e);});}function renderEventsForColumn(_0x3eb00c,_0x9778de){const _0x3a088a=a3_0x26d1ff,_0x12a23b=sessions[_0x3a088a(0x28f)](_0x10ca61=>_0x10ca61[_0x3a088a(0x26a)]===_0x9778de),_0x3dbb73=_0x12a23b['map'](_0x165077=>{const _0x3930fb=_0x3a088a,[_0x86bb86,_0x4e639d]=_0x165077[_0x3930fb(0x245)][_0x3930fb(0x22c)](':')[_0x3930fb(0x292)](Number),[_0x406c67,_0x2284f0]=_0x165077[_0x3930fb(0x273)][_0x3930fb(0x22c)](':')[_0x3930fb(0x292)](Number);return{'data':_0x165077,'start':_0x86bb86*0x3c+_0x4e639d,'end':_0x406c67*0x3c+_0x2284f0,'colIndex':0x0};});_0x3dbb73[_0x3a088a(0x20d)]((_0xf3d490,_0x6753bc)=>_0xf3d490[_0x3a088a(0x245)]-_0x6753bc['start']||_0x6753bc[_0x3a088a(0x273)]-_0x6753bc[_0x3a088a(0x245)]-(_0xf3d490[_0x3a088a(0x273)]-_0xf3d490[_0x3a088a(0x245)]));const _0x2052b9=[];_0x3dbb73[_0x3a088a(0x2c3)](_0x4edd65=>{const _0x34ea8d=_0x3a088a;let _0xf86fe5=![];for(let _0xb954a6=0x0;_0xb954a6<_0x2052b9[_0x34ea8d(0x231)];_0xb954a6++){const _0x4b2670=_0x2052b9[_0xb954a6];if(_0x4edd65[_0x34ea8d(0x245)]>=_0x4b2670[_0x4b2670[_0x34ea8d(0x231)]-0x1]['end']){_0x4b2670['push'](_0x4edd65),_0x4edd65[_0x34ea8d(0x207)]=_0xb954a6,_0xf86fe5=!![];break;}}!_0xf86fe5&&(_0x2052b9[_0x34ea8d(0x219)]([_0x4edd65]),_0x4edd65[_0x34ea8d(0x207)]=_0x2052b9[_0x34ea8d(0x231)]-0x1);}),_0x3dbb73[_0x3a088a(0x2c3)](_0x245ade=>{const _0x122033=_0x3a088a;let _0x2fe1c6=0x0;_0x3dbb73[_0x122033(0x2c3)](_0xbc0688=>{const _0x4e67ee=_0x122033;if(Math[_0x4e67ee(0x2de)](_0x245ade[_0x4e67ee(0x245)],_0xbc0688['start'])<Math['min'](_0x245ade['end'],_0xbc0688[_0x4e67ee(0x273)])&&_0xbc0688[_0x4e67ee(0x207)]>_0x2fe1c6)_0x2fe1c6=_0xbc0688['colIndex'];});const _0xe59f0c=_0x2fe1c6+0x1,_0x219110=0x64/_0xe59f0c,_0x239fe7=_0x245ade[_0x122033(0x207)]*_0x219110,_0xa0cb3c=document[_0x122033(0x2c4)](_0x122033(0x2e4)),_0x267aec=_0x245ade[_0x122033(0x224)];let _0x3e0ae4=_0x122033(0x262);if(clients&&clients[_0x122033(0x231)]>0x0){const _0x20dd8b=clients['find'](_0x35d7c8=>String(_0x35d7c8['id'])===String(_0x267aec['clientId']));if(_0x20dd8b&&_0x20dd8b[_0x122033(0x2c1)])_0x3e0ae4=_0x20dd8b[_0x122033(0x2c1)];}const _0x4ed17e=_0x267aec[_0x122033(0x21c)]===_0x122033(0x269),_0x2e4968=_0x4ed17e?0x1:0.45;_0xa0cb3c['className']=_0x122033(0x263)+(_0x4ed17e?_0x122033(0x214):''),_0xa0cb3c['style'][_0x122033(0x2aa)]=hexToRgba(_0x3e0ae4,_0x2e4968),_0xa0cb3c[_0x122033(0x24e)]['borderLeftColor']=_0x3e0ae4;const _0x29ba64=_0x245ade[_0x122033(0x245)]/0x3c*GRID_H,_0x45b7f0=(_0x245ade[_0x122033(0x273)]-_0x245ade[_0x122033(0x245)])/0x3c*GRID_H;_0xa0cb3c[_0x122033(0x24e)]['top']=_0x29ba64+'px',_0xa0cb3c['style']['height']=Math[_0x122033(0x2de)](_0x45b7f0,0x14)+'px',_0xa0cb3c[_0x122033(0x24e)][_0x122033(0x23d)]=_0x122033(0x27f)+_0x219110+_0x122033(0x29b),_0xa0cb3c['style'][_0x122033(0x2d3)]='calc('+_0x239fe7+_0x122033(0x276),_0xa0cb3c[_0x122033(0x24e)]['zIndex']=0xa+_0x245ade[_0x122033(0x207)];if(_0x219110<0x55)_0xa0cb3c[_0x122033(0x220)][_0x122033(0x2ab)](_0x122033(0x1fd));let _0x4bdfc2='';if(_0x267aec['seriesId'])_0x4bdfc2+=_0x122033(0x2cb);if(_0x4ed17e)_0x4bdfc2+=_0x122033(0x2cd);_0xa0cb3c[_0x122033(0x2e5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x267aec[_0x122033(0x245)]+'\x20-\x20'+_0x267aec[_0x122033(0x273)]+_0x122033(0x22b)+_0x4bdfc2+_0x122033(0x206),_0xa0cb3c[_0x122033(0x24b)]=_0x1de32d=>{const _0x45b743=_0x122033;_0x1de32d[_0x45b743(0x298)](),openDetails(_0x267aec);},_0x3eb00c[_0x122033(0x2c9)](_0xa0cb3c);});}function openAnalytics(){const _0x1a79e1=a3_0x26d1ff,_0x36ce29=document[_0x1a79e1(0x282)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x36ce29),openSheet(_0x1a79e1(0x2eb));}function setAnalyticsPeriod(_0x289b97,_0x200da9){const _0x102b52=a3_0x26d1ff;currentAnPeriod=_0x289b97,document[_0x102b52(0x1fb)](_0x102b52(0x237))['forEach'](_0x130777=>_0x130777['classList'][_0x102b52(0x271)](_0x102b52(0x253)));if(_0x200da9)_0x200da9['classList']['add']('active');const _0x54bee3=document['getElementById'](_0x102b52(0x234));_0x54bee3[_0x102b52(0x24e)][_0x102b52(0x2d8)]=_0x289b97==='custom'?'flex':_0x102b52(0x2b3);const _0x342bb4=new Date();let _0x493fd8=new Date(),_0x416d14=new Date();if(_0x289b97===_0x102b52(0x2d4))_0x493fd8=getStartOfWeek(_0x342bb4),_0x416d14=new Date(_0x493fd8),_0x416d14[_0x102b52(0x272)](_0x416d14[_0x102b52(0x2ea)]()+0x6);else{if(_0x289b97===_0x102b52(0x2ba))_0x493fd8=new Date(_0x342bb4[_0x102b52(0x2da)](),_0x342bb4[_0x102b52(0x204)](),0x1),_0x416d14=new Date(_0x342bb4[_0x102b52(0x2da)](),_0x342bb4[_0x102b52(0x204)]()+0x1,0x0);else{!document[_0x102b52(0x27a)](_0x102b52(0x2b5))[_0x102b52(0x2a3)]&&(document[_0x102b52(0x27a)](_0x102b52(0x2b5))[_0x102b52(0x2a3)]=getLocalDateStr(_0x342bb4),document[_0x102b52(0x27a)](_0x102b52(0x260))[_0x102b52(0x2a3)]=getLocalDateStr(_0x342bb4));refreshAnalytics();return;}}document['getElementById'](_0x102b52(0x2b5))[_0x102b52(0x2a3)]=getLocalDateStr(_0x493fd8),document[_0x102b52(0x27a)]('anEnd')[_0x102b52(0x2a3)]=getLocalDateStr(_0x416d14),refreshAnalytics();}function refreshAnalytics(){const _0x32fb4a=a3_0x26d1ff,_0x4beafd=document[_0x32fb4a(0x27a)](_0x32fb4a(0x2b5))['value'],_0x57c043=document[_0x32fb4a(0x27a)](_0x32fb4a(0x260))[_0x32fb4a(0x2a3)];if(!_0x4beafd||!_0x57c043)return;const _0x30d339=sessions[_0x32fb4a(0x28f)](_0x1d1094=>_0x1d1094[_0x32fb4a(0x26a)]>=_0x4beafd&&_0x1d1094[_0x32fb4a(0x26a)]<=_0x57c043&&_0x1d1094[_0x32fb4a(0x21c)]!==_0x32fb4a(0x232)),_0x5702ef=_0x30d339[_0x32fb4a(0x231)],_0x133076=_0x30d339['filter'](_0x35eadb=>_0x35eadb[_0x32fb4a(0x21c)]===_0x32fb4a(0x269))[_0x32fb4a(0x231)],_0x2a4e3f=_0x5702ef>0x0?Math['round'](_0x133076/_0x5702ef*0x64):0x0;document[_0x32fb4a(0x27a)](_0x32fb4a(0x221))[_0x32fb4a(0x28d)]=_0x2a4e3f+'%',document[_0x32fb4a(0x27a)]('anTotalStats')[_0x32fb4a(0x28d)]=_0x133076+_0x32fb4a(0x226)+_0x5702ef+_0x32fb4a(0x29c);const _0x1c2399=document[_0x32fb4a(0x27a)](_0x32fb4a(0x2ce)),_0x73e02e=0x2*Math['PI']*0x23,_0x535c8f=_0x73e02e-_0x2a4e3f/0x64*_0x73e02e;_0x1c2399[_0x32fb4a(0x24e)][_0x32fb4a(0x287)]=_0x535c8f;const _0x2e1b9d={};_0x30d339[_0x32fb4a(0x2c3)](_0x3db4d9=>{const _0x4c4fcf=_0x32fb4a,_0x1f142d=_0x3db4d9[_0x4c4fcf(0x250)]||'Unknown';if(!_0x2e1b9d[_0x1f142d]){const _0x5aedd1='#'+_0x1f142d[_0x4c4fcf(0x275)]()['substr'](0x0,0x6);_0x2e1b9d[_0x1f142d]={'total':0x0,'done':0x0,'color':_0x5aedd1};}_0x2e1b9d[_0x1f142d][_0x4c4fcf(0x2a7)]++;if(_0x3db4d9[_0x4c4fcf(0x21c)]===_0x4c4fcf(0x269))_0x2e1b9d[_0x1f142d][_0x4c4fcf(0x2c8)]++;});const _0x275b32=document['getElementById'](_0x32fb4a(0x2e9));_0x275b32[_0x32fb4a(0x2e5)]='';const _0x11dabb=Object['entries'](_0x2e1b9d)['sort']((_0x56c9f3,_0xbace5a)=>_0xbace5a[0x1][_0x32fb4a(0x2a7)]-_0x56c9f3[0x1][_0x32fb4a(0x2a7)]);if(_0x11dabb[_0x32fb4a(0x231)]===0x0){_0x275b32['innerHTML']=_0x32fb4a(0x257);return;}_0x11dabb[_0x32fb4a(0x2c3)](([_0x205870,_0x39a5a0])=>{const _0x4ada45=_0x32fb4a,_0x305ef7=Math[_0x4ada45(0x236)](_0x39a5a0[_0x4ada45(0x2c8)]/_0x39a5a0[_0x4ada45(0x2a7)]*0x64),_0x49f961=document[_0x4ada45(0x2c4)](_0x4ada45(0x2e4));_0x49f961[_0x4ada45(0x21a)]=_0x4ada45(0x2b0),_0x49f961['style'][_0x4ada45(0x27c)]=_0x39a5a0[_0x4ada45(0x2c1)],_0x49f961['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x205870[_0x4ada45(0x288)](0x0,0x5)+_0x4ada45(0x2bc)+_0x39a5a0[_0x4ada45(0x2c8)]+_0x4ada45(0x22d)+_0x39a5a0['total']+_0x4ada45(0x2cf)+_0x305ef7+_0x4ada45(0x2bd),_0x275b32[_0x4ada45(0x2c9)](_0x49f961);});}function a3_0xad57(_0x34a7fc,_0x17b5ac){_0x34a7fc=_0x34a7fc-0x1f4;const _0x4e7255=a3_0x317d();let _0x17b321=_0x4e7255[_0x34a7fc];return _0x17b321;}function openDetails(_0xdfafd5){const _0xb41918=a3_0x26d1ff;currentSession=_0xdfafd5;const _0xff841f=new Date(_0xdfafd5['dateStr']),_0x9d4b0f=_0xff841f[_0xb41918(0x27e)](_0xb41918(0x218),{'weekday':_0xb41918(0x29a),'day':_0xb41918(0x251),'month':'long'});document['getElementById'](_0xb41918(0x20b))[_0xb41918(0x28d)]=_0x9d4b0f[_0xb41918(0x2a4)](0x0)[_0xb41918(0x277)]()+_0x9d4b0f['slice'](0x1),document[_0xb41918(0x27a)](_0xb41918(0x249))['textContent']=_0xdfafd5[_0xb41918(0x245)]+'\x20-\x20'+_0xdfafd5[_0xb41918(0x273)],document[_0xb41918(0x27a)](_0xb41918(0x201))[_0xb41918(0x28d)]=_0xdfafd5[_0xb41918(0x290)]||_0xb41918(0x28e);const _0x1cdc5c=document[_0xb41918(0x27a)]('detStatus'),_0x3eeba7=document['getElementById'](_0xb41918(0x21f)),_0x5726d6=_0x3eeba7[_0xb41918(0x282)](_0xb41918(0x235)),_0x113bbf=_0x3eeba7[_0xb41918(0x282)]('.btn-reschedule'),_0x21b4aa=document[_0xb41918(0x27a)](_0xb41918(0x1f7));if(_0xdfafd5[_0xb41918(0x21c)]===_0xb41918(0x269))_0x1cdc5c[_0xb41918(0x28d)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1cdc5c['style'][_0xb41918(0x2c1)]=_0xb41918(0x212),_0x3eeba7[_0xb41918(0x24e)][_0xb41918(0x2d8)]='none';else{_0x1cdc5c[_0xb41918(0x28d)]=_0xb41918(0x209),_0x1cdc5c[_0xb41918(0x24e)]['color']='var(--acc-blue)',_0x3eeba7[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2cc);const _0x26c26e=new Date(_0xdfafd5['dateStr']+'T'+_0xdfafd5[_0xb41918(0x245)]),_0x3b6bd5=new Date(),_0x271432=(_0x26c26e-_0x3b6bd5)/(0x3e8*0x3c*0x3c),_0x251ba7=coachProfiles[_0xdfafd5[_0xb41918(0x250)]]&&coachProfiles[_0xdfafd5[_0xb41918(0x250)]][_0xb41918(0x21d)]?parseInt(coachProfiles[_0xdfafd5[_0xb41918(0x250)]]['cancel_window']):0x18;if(_0x251ba7===0x0||_0x271432>=_0x251ba7)_0x5726d6[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2cc),_0x113bbf[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2cc),_0x21b4aa[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2b3);else{_0x5726d6[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2b3),_0x113bbf[_0xb41918(0x24e)]['display']='none',_0x21b4aa[_0xb41918(0x24e)][_0xb41918(0x2d8)]=_0xb41918(0x2cc);let _0x726a7b=_0x251ba7===0x0?_0xb41918(0x1fc):_0xb41918(0x28a)+_0x251ba7+_0xb41918(0x222);_0x21b4aa['textContent']=_0xb41918(0x215)+_0x726a7b+_0xb41918(0x22f);}}document[_0xb41918(0x27a)](_0xb41918(0x2e7))[_0xb41918(0x220)][_0xb41918(0x2ab)](_0xb41918(0x253)),document[_0xb41918(0x27a)]('detailsSheet')[_0xb41918(0x220)][_0xb41918(0x2ab)](_0xb41918(0x2af));}function closeAllSheets(){const _0x162965=a3_0x26d1ff;document['getElementById'](_0x162965(0x2e7))[_0x162965(0x220)][_0x162965(0x271)]('active'),document['querySelectorAll'](_0x162965(0x2b8))[_0x162965(0x2c3)](_0x455415=>_0x455415[_0x162965(0x220)][_0x162965(0x271)](_0x162965(0x2af)));}function openSheet(_0x113e41){const _0x26f481=a3_0x26d1ff;document['getElementById'](_0x26f481(0x2e7))[_0x26f481(0x220)][_0x26f481(0x2ab)]('active'),document[_0x26f481(0x27a)](_0x113e41)[_0x26f481(0x220)]['add']('open');}function getLocalDateStr(_0x27fd76){const _0x433c39=a3_0x26d1ff,_0x153e09=_0x27fd76[_0x433c39(0x2da)](),_0x2b5e93=String(_0x27fd76[_0x433c39(0x204)]()+0x1)['padStart'](0x2,'0'),_0x3ab1d4=String(_0x27fd76[_0x433c39(0x2ea)]())['padStart'](0x2,'0');return _0x153e09+'-'+_0x2b5e93+'-'+_0x3ab1d4;}function getStartOfWeek(_0x472286){const _0x5c40e9=a3_0x26d1ff,_0x121732=new Date(_0x472286),_0x37c945=_0x121732[_0x5c40e9(0x202)](),_0x4c206d=_0x121732[_0x5c40e9(0x2ea)]()-_0x37c945+(_0x37c945===0x0?-0x6:0x1);return _0x121732[_0x5c40e9(0x272)](_0x4c206d),_0x121732[_0x5c40e9(0x2d6)](0x0,0x0,0x0,0x0),_0x121732;}function scrollToToday(){const _0x5b5376=getLocalDateStr(new Date());setTimeout(()=>{const _0x418ab4=a3_0xad57,_0x455413=document[_0x418ab4(0x282)](_0x418ab4(0x27b)+_0x5b5376+'\x22]');if(_0x455413){const _0x1acb60=document[_0x418ab4(0x27a)](_0x418ab4(0x1fe)),_0x1af3b9=_0x455413['offsetLeft']-_0x1acb60[_0x418ab4(0x29e)]/0x2+_0x455413[_0x418ab4(0x265)]/0x2;_0x1acb60[_0x418ab4(0x267)]({'left':_0x1af3b9,'behavior':_0x418ab4(0x213)}),_0x1acb60[_0x418ab4(0x29d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x374eaa=a3_0x26d1ff,_0x209315=new Date(),_0x3cd0c2=document[_0x374eaa(0x27a)](_0x374eaa(0x2e8)),_0x3a5e2a=document[_0x374eaa(0x27a)](_0x374eaa(0x1f5)),_0x1d030e=(_0x209315[_0x374eaa(0x2c2)]()*0x3c+_0x209315[_0x374eaa(0x285)]())/0x3c*GRID_H;_0x3cd0c2['style'][_0x374eaa(0x20f)]=_0x1d030e+'px',_0x3cd0c2[_0x374eaa(0x24e)][_0x374eaa(0x2d8)]=_0x374eaa(0x2cc),_0x3a5e2a['style'][_0x374eaa(0x20f)]=_0x1d030e+'px',_0x3a5e2a[_0x374eaa(0x24e)]['display']=_0x374eaa(0x2cc),_0x3a5e2a['textContent']=String(_0x209315[_0x374eaa(0x2c2)]())[_0x374eaa(0x293)](0x2,'0')+':'+String(_0x209315['getMinutes']())[_0x374eaa(0x293)](0x2,'0');}function onScroll(){const _0x10d7eb=a3_0x26d1ff,_0x1176c9=document[_0x10d7eb(0x27a)](_0x10d7eb(0x1fe)),_0x28e64a=document[_0x10d7eb(0x1fb)](_0x10d7eb(0x256));for(let _0x365742 of _0x28e64a)if(_0x365742['offsetLeft']>=_0x1176c9['scrollLeft']){const _0x1b2b2b=new Date(_0x365742[_0x10d7eb(0x248)](_0x10d7eb(0x270)));document[_0x10d7eb(0x27a)](_0x10d7eb(0x2d5))[_0x10d7eb(0x28d)]=_0x1b2b2b[_0x10d7eb(0x264)]('ru',{'month':_0x10d7eb(0x29a)})[_0x10d7eb(0x277)]()+'\x20'+_0x1b2b2b[_0x10d7eb(0x2da)]();break;}}function showToast(_0x503f9f){const _0x40f02c=a3_0x26d1ff,_0x4cc371=document[_0x40f02c(0x27a)](_0x40f02c(0x239));_0x4cc371[_0x40f02c(0x28d)]=_0x503f9f,_0x4cc371[_0x40f02c(0x220)][_0x40f02c(0x2ab)]('show'),setTimeout(()=>_0x4cc371[_0x40f02c(0x220)][_0x40f02c(0x271)](_0x40f02c(0x2c5)),0x7d0);}function handleInfiniteScroll(){const _0xea7dc0=a3_0x26d1ff,_0xbf6a56=document[_0xea7dc0(0x27a)](_0xea7dc0(0x1fe)),_0x3d68a7=_0xbf6a56[_0xea7dc0(0x2ac)],_0xaa91a5=_0xbf6a56[_0xea7dc0(0x2bb)],_0x39f059=_0xbf6a56[_0xea7dc0(0x29e)];if(_0xaa91a5-(_0x3d68a7+_0x39f059)<0x12c){const _0x1dc40c=endOffset;endOffset+=0xe,renderDayRange(_0x1dc40c+0x1,endOffset),reRenderBlocks();}if(_0x3d68a7<0x12c){const _0x4d89e6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4d89e6-0x1),_0xbf6a56[_0xea7dc0(0x2ac)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1dfcee,_0x2ca727){const _0x55e36b=a3_0x26d1ff,_0x219056=document['getElementById'](_0x55e36b(0x228)),_0x1622da=document[_0x55e36b(0x27a)](_0x55e36b(0x2e3)),_0x50aa77=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c8d21=new Date();_0x1c8d21[_0x55e36b(0x2d6)](0x0,0x0,0x0,0x0);const _0xba5e1d=getLocalDateStr(new Date()),_0x36f179=document['createDocumentFragment'](),_0x13aa00=document[_0x55e36b(0x2a8)]();for(let _0x4f230f=_0x1dfcee;_0x4f230f<=_0x2ca727;_0x4f230f++){const _0x2adf85=new Date(_0x1c8d21);_0x2adf85[_0x55e36b(0x272)](_0x2adf85['getDate']()+_0x4f230f);const _0x396f79=getLocalDateStr(_0x2adf85);let _0x57a5aa=_0x2adf85[_0x55e36b(0x202)]()-0x1;if(_0x57a5aa===-0x1)_0x57a5aa=0x6;const _0x2a2ec3=_0x396f79===_0xba5e1d,_0x46c581=document[_0x55e36b(0x2c4)](_0x55e36b(0x2e4));_0x46c581[_0x55e36b(0x21a)]='day-col-header\x20'+(_0x2a2ec3?_0x55e36b(0x21b):''),_0x46c581[_0x55e36b(0x25e)](_0x55e36b(0x270),_0x396f79),_0x46c581[_0x55e36b(0x2e5)]=_0x55e36b(0x2ad)+_0x50aa77[_0x57a5aa]+_0x55e36b(0x2dd)+_0x2adf85['getDate']()+_0x55e36b(0x2ca),_0x36f179[_0x55e36b(0x2c9)](_0x46c581);const _0x248747=document[_0x55e36b(0x2c4)](_0x55e36b(0x2e4));_0x248747['className']='day-column\x20'+(_0x2a2ec3?_0x55e36b(0x21b):''),_0x248747[_0x55e36b(0x25e)](_0x55e36b(0x270),_0x396f79),_0x248747[_0x55e36b(0x25e)](_0x55e36b(0x20e),_0x57a5aa),_0x13aa00[_0x55e36b(0x2c9)](_0x248747);}_0x219056['insertBefore'](_0x36f179,_0x219056[_0x55e36b(0x1ff)]),_0x1622da[_0x55e36b(0x225)](_0x13aa00,_0x1622da[_0x55e36b(0x282)](_0x55e36b(0x241)));}function hexToRgba(_0x1a6d5d,_0x1bc161){const _0x46b92d=a3_0x26d1ff;let _0x44a541;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x46b92d(0x242)](_0x1a6d5d))return _0x44a541=_0x1a6d5d['substring'](0x1)[_0x46b92d(0x22c)](''),_0x44a541[_0x46b92d(0x231)]==0x3&&(_0x44a541=[_0x44a541[0x0],_0x44a541[0x0],_0x44a541[0x1],_0x44a541[0x1],_0x44a541[0x2],_0x44a541[0x2]]),_0x44a541='0x'+_0x44a541[_0x46b92d(0x2b1)](''),_0x46b92d(0x23f)+[_0x44a541>>0x10&0xff,_0x44a541>>0x8&0xff,_0x44a541&0xff][_0x46b92d(0x2b1)](',')+','+_0x1bc161+')';return _0x46b92d(0x2d2)+_0x1bc161+')';}let confirmResolver=null;function showCustomConfirm(_0x4e7edb,_0x12a275,_0x5dedb9=!![]){const _0x48d948=a3_0x26d1ff;document[_0x48d948(0x27a)](_0x48d948(0x1f4))[_0x48d948(0x28d)]=_0x4e7edb,document['getElementById'](_0x48d948(0x2c0))[_0x48d948(0x28d)]=_0x12a275;const _0x5547cb=document[_0x48d948(0x27a)](_0x48d948(0x211));return _0x5dedb9?(_0x5547cb[_0x48d948(0x24e)]['color']=_0x48d948(0x2b9),_0x5547cb[_0x48d948(0x24e)][_0x48d948(0x2a5)]=_0x48d948(0x274)):(_0x5547cb[_0x48d948(0x24e)][_0x48d948(0x2c1)]=_0x48d948(0x262),_0x5547cb[_0x48d948(0x24e)]['fontWeight']='600'),new Promise(_0x46d626=>{const _0x553e4d=_0x48d948;confirmResolver=_0x46d626,document[_0x553e4d(0x27a)](_0x553e4d(0x238))['classList'][_0x553e4d(0x2ab)](_0x553e4d(0x261));});}function resolveCustomConfirm(_0x295bc7){const _0x10c880=a3_0x26d1ff;document['getElementById'](_0x10c880(0x238))[_0x10c880(0x220)]['remove'](_0x10c880(0x261));if(confirmResolver)confirmResolver(_0x295bc7);}async function tryCancelCurrentSession(){const _0x439487=a3_0x26d1ff;if(!currentSession)return;const _0x4c8799=await showCustomConfirm(_0x439487(0x283),_0x439487(0x2ae),!![]);if(!_0x4c8799)return;const _0x322356=currentSession;closeAllSheets(),sessions=sessions[_0x439487(0x28f)](_0xfec809=>_0xfec809['id']!==_0x322356['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x1cbb73=window['Telegram']?.[_0x439487(0x23e)],_0xa7506=await fetch(API_URL,{'method':_0x439487(0x25c),'body':JSON[_0x439487(0x254)]({'action':_0x439487(0x2bf),'init_data':_0x1cbb73?.[_0x439487(0x2dc)]||'','coachId':_0x322356[_0x439487(0x250)],'dateStr':_0x322356[_0x439487(0x26a)],'sessionId':_0x322356['id']})});if(_0xa7506['ok'])DataManager[_0x439487(0x2c7)]();}catch(_0x3508a7){showToast(_0x439487(0x2df));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x6a5ff9=a3_0x26d1ff;if(!currentSession)return;document[_0x6a5ff9(0x27a)](_0x6a5ff9(0x279))[_0x6a5ff9(0x220)][_0x6a5ff9(0x271)](_0x6a5ff9(0x2af)),document[_0x6a5ff9(0x27a)](_0x6a5ff9(0x26f))['classList'][_0x6a5ff9(0x2ab)]('open');const _0x547eb3=document['getElementById']('rsDatesTrack'),_0x1fdd64=document['getElementById'](_0x6a5ff9(0x2db));_0x547eb3[_0x6a5ff9(0x2e5)]='',_0x1fdd64['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x23bd6e,_0x2d186a]=currentSession[_0x6a5ff9(0x245)][_0x6a5ff9(0x22c)](':')[_0x6a5ff9(0x292)](Number),[_0x794ec8,_0x287673]=currentSession['end'][_0x6a5ff9(0x22c)](':')[_0x6a5ff9(0x292)](Number),_0x2742e4=_0x794ec8*0x3c+_0x287673-(_0x23bd6e*0x3c+_0x2d186a);try{const _0x18f190=window['Telegram']?.[_0x6a5ff9(0x23e)],_0x5f5031=await fetch(API_URL,{'method':_0x6a5ff9(0x25c),'body':JSON['stringify']({'action':_0x6a5ff9(0x24c),'coachId':currentSession[_0x6a5ff9(0x250)],'duration':_0x2742e4,'init_data':_0x18f190?.[_0x6a5ff9(0x2dc)]||'','excludeSessionId':currentSession['id']})}),_0x4cf815=await _0x5f5031['json']();_0x4cf815['ok']&&_0x4cf815['data']?(availableSlotsCache=_0x4cf815[_0x6a5ff9(0x224)],renderRescheduleDates()):_0x1fdd64[_0x6a5ff9(0x2e5)]=_0x6a5ff9(0x23b);}catch(_0x260412){_0x1fdd64['innerHTML']=_0x6a5ff9(0x2e1);}}function renderRescheduleDates(){const _0x5ed7c4=a3_0x26d1ff,_0x5f31d0=document['getElementById'](_0x5ed7c4(0x2a0));_0x5f31d0[_0x5ed7c4(0x2e5)]='';const _0x6710c=Object[_0x5ed7c4(0x22a)](availableSlotsCache)[_0x5ed7c4(0x20d)](),_0xae24a4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x6710c[_0x5ed7c4(0x231)]===0x0){document['getElementById'](_0x5ed7c4(0x2db))[_0x5ed7c4(0x2e5)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x6710c['forEach']((_0x5c1fef,_0x333249)=>{const _0x22facb=_0x5ed7c4,_0x561ddd=new Date(_0x5c1fef),_0x171bdf=_0xae24a4[_0x561ddd[_0x22facb(0x202)]()],_0xf85a00=_0x561ddd[_0x22facb(0x2ea)](),_0x25ec7c=document[_0x22facb(0x2c4)]('div');_0x25ec7c['className']=_0x22facb(0x26b);if(_0x333249===0x0)_0x25ec7c[_0x22facb(0x220)][_0x22facb(0x2ab)](_0x22facb(0x253));_0x25ec7c[_0x22facb(0x2e5)]=_0x22facb(0x20a)+_0x171bdf+_0x22facb(0x2a9)+_0xf85a00+_0x22facb(0x2ca),_0x25ec7c[_0x22facb(0x24b)]=()=>selectRsDate(_0x5c1fef,_0x25ec7c),_0x5f31d0[_0x22facb(0x2c9)](_0x25ec7c);}),selectRsDate(_0x6710c[0x0],_0x5f31d0[_0x5ed7c4(0x1ff)]);}function selectRsDate(_0x57792b,_0x92ae8b){const _0x6cac36=a3_0x26d1ff;selectedRsDate=_0x57792b,document[_0x6cac36(0x1fb)](_0x6cac36(0x2b7))[_0x6cac36(0x2c3)](_0x7556=>_0x7556[_0x6cac36(0x220)]['remove']('active'));if(_0x92ae8b)_0x92ae8b[_0x6cac36(0x220)][_0x6cac36(0x2ab)](_0x6cac36(0x253));const _0x277356=document['getElementById']('rsSlotsGrid');_0x277356[_0x6cac36(0x2e5)]='';const _0x2bdbac=availableSlotsCache[_0x57792b]||[];if(_0x2bdbac[_0x6cac36(0x231)]===0x0){_0x277356[_0x6cac36(0x2e5)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x2bdbac[_0x6cac36(0x2c3)](_0x2e9fca=>{const _0x5f079a=_0x6cac36,_0x3049ad=document['createElement'](_0x5f079a(0x295));_0x3049ad[_0x5f079a(0x21a)]=_0x5f079a(0x2b6),_0x3049ad[_0x5f079a(0x28d)]=_0x2e9fca,_0x3049ad[_0x5f079a(0x24b)]=()=>confirmReschedule(_0x2e9fca),_0x277356[_0x5f079a(0x2c9)](_0x3049ad);});}async function confirmReschedule(_0x578e45){const _0x533e15=a3_0x26d1ff,_0x2cc06=new Date(selectedRsDate),_0x21b5ea=_0x2cc06[_0x533e15(0x27e)](_0x533e15(0x218),{'day':'numeric','month':'long'}),_0x2b6896=await showCustomConfirm(_0x533e15(0x2c6),_0x533e15(0x255)+_0x21b5ea+'\x20–≤\x20'+_0x578e45+'?',![]);if(!_0x2b6896)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x533e15(0x26c)]();const _0x48d162=currentSession['dateStr'],_0x4d1f90=currentSession['id'],[_0x337b03,_0x1072ef]=currentSession[_0x533e15(0x245)]['split'](':')[_0x533e15(0x292)](Number),[_0x361ec1,_0x3d350f]=currentSession[_0x533e15(0x273)][_0x533e15(0x22c)](':')[_0x533e15(0x292)](Number),_0x5a92bf=_0x361ec1*0x3c+_0x3d350f-(_0x337b03*0x3c+_0x1072ef),[_0x2837cd,_0x23e5a2]=_0x578e45[_0x533e15(0x22c)](':')['map'](Number),_0x588668=_0x2837cd*0x3c+_0x23e5a2+_0x5a92bf,_0x10bb75=Math[_0x533e15(0x1f6)](_0x588668/0x3c),_0x34c156=_0x588668%0x3c,_0x49c7a4=String(_0x10bb75)['padStart'](0x2,'0')+':'+String(_0x34c156)['padStart'](0x2,'0'),_0x5bf5c0=sessions['findIndex'](_0x3d1687=>_0x3d1687['id']===_0x4d1f90);_0x5bf5c0!==-0x1&&(sessions[_0x5bf5c0][_0x533e15(0x26a)]=selectedRsDate,sessions[_0x5bf5c0]['start']=_0x578e45,sessions[_0x5bf5c0][_0x533e15(0x273)]=_0x49c7a4,reRenderBlocks());try{const _0x33e448=window['Telegram']?.['WebApp'],_0x426d8d=await fetch(API_URL,{'method':_0x533e15(0x25c),'body':JSON['stringify']({'action':'reschedule','init_data':_0x33e448?.[_0x533e15(0x2dc)]||'','oldSessionId':_0x4d1f90,'oldDate':_0x48d162,'newDate':selectedRsDate,'newTime':_0x578e45,'coachId':currentSession[_0x533e15(0x250)]})}),_0x42ea3f=await _0x426d8d[_0x533e15(0x2d1)]();!_0x42ea3f['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x533e15(0x297)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x533e15(0x2c7)]());}catch(_0x4eb44f){showToast(_0x533e15(0x2df));}}document[a3_0x26d1ff(0x2a2)](a3_0x26d1ff(0x2e0),init);function a3_0x317d(){const _0x1a3bbb=['scrollLeft','<div\x20class=\x22dch-day\x22>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','open','client-stat-card','join','parse','none','clients','anStart','rs-time-btn','.rs-date-chip','.sheet','#ff453a','month','scrollWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','client_cancel','ccText','color','getHours','forEach','createElement','show','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','saveLocally','done','appendChild','</div>','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','block','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anDonutCircle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','Telegram','json','rgba(10,\x20132,\x20255,\x20','left','week','headerMonth','setHours','uc_client_settings','display','T23:59:59','getFullYear','rsSlotsGrid','initData','</div><div\x20class=\x22dch-num\x22>','max','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','DOMContentLoaded','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','blocked-range-part\x20stripe-bg','gridColumns','div','innerHTML','649rCchLB','overlay','globalTimeLine','analyticsList','getDate','analyticsSheet','ccTitle','timeLineBadge','floor','cancelHint','then','sid','cid','querySelectorAll','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','mini','matrixViewport','firstChild','BackButton','detNote','getDay','backgroundPosition','getMonth','router.html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','colIndex','v9.5-CLIENT-ANALYTICS','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','<div\x20class=\x22rs-day-name\x22>','detDate','blocked-slot\x20stripe-bg','sort','data-day-idx','top','coach_profiles','ccYesBtn','var(--acc-green)','auto','\x20status-completed','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','ranges','location','ru-RU','push','className','today','status','cancel_window','1098UiDetp','cancelContainer','classList','anPercent','\x20—á.','Error\x20setting\x20back\x20button:','data','insertBefore','\x20–∏–∑\x20','60070HrRvmg','daysHeaderTrack','loadLocal','keys','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','</span>\x20/\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','settings','length','cancelled','pattern','anCustomDates','.btn-cancel','round','.period-switch\x20.p-btn','customConfirm','toast','scroll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','1394104mHKwZM','width','WebApp','rgba(','log','.day-column','test','(((.+)+)+)+$','881148sFzJOd','start','2586773GxfnxV','Error\x20setting\x20color:','getAttribute','detTime','getTime','onclick','get_slots','disableVerticalSwipes','style','1603740hfKTkk','coachId','numeric','getItem','active','stringify','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.day-col-header','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','uc_client_sessions','#050505','ready','6tMyteX','POST','applyData','setAttribute','Critical\x20TMA\x20Error:','anEnd','visible','#0a84ff','event-card','toLocaleString','offsetWidth','setBackgroundColor','scrollTo','4fUqlIf','completed','dateStr','rs-date-chip','now','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','exceptions','rescheduleSheet','data-date','remove','setDate','end','600','toString','%\x20+\x202px)','toUpperCase','startsWith','detailsSheet','getElementById','.day-col-header[data-date=\x22','borderLeftColor','search','toLocaleDateString','calc(','client_load','px\x200px','querySelector','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','time-label','getMinutes','55600detsqD','strokeDashoffset','substr','3675291tTqKLF','–∑–∞\x20','offsetLeft','offClick','textContent','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','filter','note','day-off-overlay\x20stripe-bg','map','padStart','setItem','button','calendar','syncLoad','stopPropagation','all','long','%\x20-\x204px)','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','scrollTop','clientWidth','min','rsDatesTrack','<span>','addEventListener','value','charAt','fontWeight','px\x20-','total','createDocumentFragment','</div><div\x20class=\x22rs-day-num\x22>','backgroundColor','add'];a3_0x317d=function(){return _0x1a3bbb;};return a3_0x317d();}