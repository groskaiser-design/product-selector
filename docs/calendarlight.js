const a3_0x1df4d8=a3_0x5001;(function(_0x54f57f,_0x2962c5){const _0x3205d0=a3_0x5001,_0x3bd185=_0x54f57f();while(!![]){try{const _0x411c02=parseInt(_0x3205d0(0x123))/0x1*(-parseInt(_0x3205d0(0xe8))/0x2)+parseInt(_0x3205d0(0xd5))/0x3*(-parseInt(_0x3205d0(0x111))/0x4)+-parseInt(_0x3205d0(0x12c))/0x5+-parseInt(_0x3205d0(0xcc))/0x6+-parseInt(_0x3205d0(0x10c))/0x7*(parseInt(_0x3205d0(0x162))/0x8)+parseInt(_0x3205d0(0xc8))/0x9+parseInt(_0x3205d0(0x107))/0xa;if(_0x411c02===_0x2962c5)break;else _0x3bd185['push'](_0x3bd185['shift']());}catch(_0x120499){_0x3bd185['push'](_0x3bd185['shift']());}}}(a3_0x3eb6,0xa2797));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x1df4d8(0xd7),GRID_H=0x3c,KEY_SESSIONS=a3_0x1df4d8(0xdf),KEY_SETTINGS=a3_0x1df4d8(0xa3),KEY_CLIENTS=a3_0x1df4d8(0xae);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1df4d8(0xa5),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x53f8df=a3_0x1df4d8,_0x3f5d82=(function(){let _0x55cef6=!![];return function(_0x354e82,_0x307260){const _0x5afd60=_0x55cef6?function(){if(_0x307260){const _0x519676=_0x307260['apply'](_0x354e82,arguments);return _0x307260=null,_0x519676;}}:function(){};return _0x55cef6=![],_0x5afd60;};}()),_0x46722b=_0x3f5d82(this,function(){const _0x315bf5=a3_0x5001;return _0x46722b['toString']()[_0x315bf5(0x15c)]('(((.+)+)+)+$')[_0x315bf5(0xea)]()[_0x315bf5(0xb3)](_0x46722b)[_0x315bf5(0x15c)](_0x315bf5(0x149));});_0x46722b();try{const _0x44738f=window['Telegram']?.[_0x53f8df(0x13a)];if(!_0x44738f)return;_0x44738f[_0x53f8df(0x130)](),_0x44738f[_0x53f8df(0xbd)]();try{_0x44738f['setHeaderColor'](_0x53f8df(0x92)),_0x44738f[_0x53f8df(0x7a)]&&_0x44738f[_0x53f8df(0x7a)](_0x53f8df(0x92));}catch(_0x2a80e7){console[_0x53f8df(0xeb)]('Error\x20setting\x20color:',_0x2a80e7);}try{_0x44738f[_0x53f8df(0x13f)]&&(_0x44738f[_0x53f8df(0x13f)][_0x53f8df(0xf4)](),_0x44738f['BackButton'][_0x53f8df(0x141)](),_0x44738f['BackButton'][_0x53f8df(0x133)](function(){const _0x3d85a2=_0x53f8df;window[_0x3d85a2(0x95)][_0x3d85a2(0xad)]=_0x3d85a2(0x14a);}));}catch(_0x23e890){console[_0x53f8df(0xeb)](_0x53f8df(0xca),_0x23e890);}try{if(_0x44738f[_0x53f8df(0xb2)])_0x44738f[_0x53f8df(0xb2)]();}catch(_0x207e2f){}}catch(_0x4d21a1){console[_0x53f8df(0x116)]('Critical\x20TMA\x20Error:',_0x4d21a1);}}());function isAdmin(){const _0x18a1b8=a3_0x1df4d8;try{const _0x531602=Number(window[_0x18a1b8(0xb4)]?.[_0x18a1b8(0x13a)]?.[_0x18a1b8(0x100)]?.[_0x18a1b8(0x165)]?.['id']);return _0x531602===0xbaf7174;}catch(_0x346b85){return![];}}const DataManager={'saveLocally'(){const _0x3e19c9=a3_0x1df4d8;try{localStorage[_0x3e19c9(0xa6)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3e19c9(0xa6)](KEY_CLIENTS,JSON[_0x3e19c9(0x158)](clients)),localStorage[_0x3e19c9(0xa6)](KEY_SETTINGS,JSON[_0x3e19c9(0x158)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2c9fc0){}},'loadLocal'(){const _0x559418=a3_0x1df4d8;try{const _0x4eceff=localStorage[_0x559418(0x139)](KEY_SESSIONS);if(_0x4eceff)sessions=JSON['parse'](_0x4eceff);const _0x28e8c1=localStorage[_0x559418(0x139)](KEY_CLIENTS);if(_0x28e8c1)clients=JSON[_0x559418(0x14c)](_0x28e8c1);const _0x105282=localStorage[_0x559418(0x139)](KEY_SETTINGS);if(_0x105282){const _0xc91f14=JSON[_0x559418(0x14c)](_0x105282);if(_0xc91f14[_0x559418(0x152)])availabilityPattern=_0xc91f14[_0x559418(0x152)];if(_0xc91f14['ranges'])specialRanges=_0xc91f14['ranges'];if(_0xc91f14[_0x559418(0x8b)])dateExceptions=_0xc91f14['exceptions'];}}catch(_0x4a36e3){}},async 'syncLoad'(){const _0x3d00a1=a3_0x1df4d8,_0x324d81=new Date(),_0x3b663f=_0x324d81[_0x3d00a1(0xb8)]()+'-'+String(_0x324d81[_0x3d00a1(0xf2)]()+0x1)['padStart'](0x2,'0'),_0x3f5991=new Date(_0x324d81);_0x3f5991[_0x3d00a1(0xb5)](_0x324d81[_0x3d00a1(0xf2)]()+0x1);const _0x4d3b5c=_0x3f5991[_0x3d00a1(0xb8)]()+'-'+String(_0x3f5991[_0x3d00a1(0xf2)]()+0x1)[_0x3d00a1(0x89)](0x2,'0'),_0x3fdbd6=Date[_0x3d00a1(0xf8)]();try{const _0x39df7c=window[_0x3d00a1(0xb4)]?.[_0x3d00a1(0x13a)],_0x30aecd=_0x39df7c?.[_0x3d00a1(0xbf)]||'',[_0x8e2d5e,_0x5c781a]=await Promise[_0x3d00a1(0x9e)]([fetch(API_URL,{'method':_0x3d00a1(0xc5),'body':JSON[_0x3d00a1(0x158)]({'action':_0x3d00a1(0x138),'init_data':_0x30aecd,'month_str':_0x3b663f})})[_0x3d00a1(0x8c)](_0xf72862=>_0xf72862['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x3d00a1(0x158)]({'action':_0x3d00a1(0x138),'init_data':_0x30aecd,'month_str':_0x4d3b5c})})[_0x3d00a1(0x8c)](_0x4eeaec=>_0x4eeaec[_0x3d00a1(0xdd)]())]);if(lastUserActionTime>_0x3fdbd6){console['log'](_0x3d00a1(0x15d));return;}if(_0x8e2d5e['ok'])this[_0x3d00a1(0x12b)](_0x8e2d5e[_0x3d00a1(0x78)],_0x3b663f);if(_0x5c781a['ok'])this[_0x3d00a1(0x12b)](_0x5c781a[_0x3d00a1(0x78)],_0x4d3b5c);this[_0x3d00a1(0x12e)]();}catch(_0x642bc7){}},'applyData'(_0x13a496,_0x473cb1){const _0x22d0a9=a3_0x1df4d8;if(!_0x13a496)return;if(_0x13a496[_0x22d0a9(0xd9)]){if(_0x13a496[_0x22d0a9(0xd9)]['pattern'])availabilityPattern=_0x13a496['settings'][_0x22d0a9(0x152)];if(_0x13a496[_0x22d0a9(0xd9)][_0x22d0a9(0xc3)])specialRanges=_0x13a496[_0x22d0a9(0xd9)][_0x22d0a9(0xc3)];if(_0x13a496[_0x22d0a9(0xd9)][_0x22d0a9(0x8b)])dateExceptions=_0x13a496[_0x22d0a9(0xd9)][_0x22d0a9(0x8b)];}if(_0x13a496[_0x22d0a9(0x11f)]&&Array[_0x22d0a9(0x71)](_0x13a496['clients']))clients=_0x13a496[_0x22d0a9(0x11f)];_0x13a496[_0x22d0a9(0x6b)]&&(coachProfiles={...coachProfiles,..._0x13a496[_0x22d0a9(0x6b)]}),_0x13a496[_0x22d0a9(0xdb)]&&(sessions=sessions['filter'](_0x6030c3=>!_0x6030c3[_0x22d0a9(0x114)]['startsWith'](_0x473cb1)),Object['keys'](_0x13a496[_0x22d0a9(0xdb)])[_0x22d0a9(0xed)](_0x21c661=>{const _0x4121ff=_0x22d0a9,_0x34a20d=_0x13a496[_0x4121ff(0xdb)][_0x21c661];_0x34a20d[_0x4121ff(0xed)](_0x50f220=>{const _0x619bff=_0x4121ff;sessions[_0x619bff(0x79)]({'id':_0x50f220['i'],'clientId':_0x50f220['c'],'coachId':_0x50f220[_0x619bff(0x10d)],'dateStr':_0x473cb1+'-'+_0x21c661[_0x619bff(0x89)](0x2,'0'),'start':_0x50f220['s'],'end':_0x50f220['e'],'note':_0x50f220['n']||'','status':_0x50f220['st']||'planned','seriesId':_0x50f220['sid']});});})),reRenderBlocks();}};function init(){const _0x1b61c3=a3_0x1df4d8;DataManager[_0x1b61c3(0xfe)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x1b61c3(0xf0))[_0x1b61c3(0x87)](_0x1b61c3(0xef),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1b61c3(0x125)]();}function renderTimeColumn(){const _0x2df025=a3_0x1df4d8,_0x2eb33e=document[_0x2df025(0x151)](_0x2df025(0x6c)),_0x306890=document['getElementById'](_0x2df025(0x10e));_0x2eb33e['innerHTML']='',_0x2eb33e[_0x2df025(0x81)](_0x306890);for(let _0x16d02c=0x0;_0x16d02c<0x18;_0x16d02c++){const _0x3b128e=document[_0x2df025(0x7e)](_0x2df025(0x74));_0x3b128e[_0x2df025(0x11b)]=_0x2df025(0xbc);if(_0x16d02c>0x0)_0x3b128e[_0x2df025(0xab)]=_0x2df025(0x112)+String(_0x16d02c)[_0x2df025(0x89)](0x2,'0')+_0x2df025(0x76);_0x2eb33e[_0x2df025(0x81)](_0x3b128e);}}function renderDayRange(_0x5db36c,_0x5166fd){const _0x5601f2=a3_0x1df4d8,_0x56a22b=document[_0x5601f2(0x151)]('daysHeaderTrack'),_0x273584=document[_0x5601f2(0x151)](_0x5601f2(0x120)),_0x4f4e20=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1f14d9=new Date();_0x1f14d9[_0x5601f2(0x96)](0x0,0x0,0x0,0x0);const _0x5b845f=getLocalDateStr(new Date());for(let _0x3219f9=_0x5db36c;_0x3219f9<=_0x5166fd;_0x3219f9++){const _0x172cf8=new Date(_0x1f14d9);_0x172cf8[_0x5601f2(0xd8)](_0x172cf8['getDate']()+_0x3219f9);const _0x3e3e57=getLocalDateStr(_0x172cf8);let _0x3a37dd=_0x172cf8[_0x5601f2(0xe9)]()-0x1;if(_0x3a37dd===-0x1)_0x3a37dd=0x6;const _0x251f97=_0x3e3e57===_0x5b845f,_0x11004c=document[_0x5601f2(0x7e)](_0x5601f2(0x74));_0x11004c['className']='day-col-header\x20'+(_0x251f97?'today':''),_0x11004c[_0x5601f2(0x7b)](_0x5601f2(0xc6),_0x3e3e57),_0x11004c[_0x5601f2(0xab)]=_0x5601f2(0x13e)+_0x4f4e20[_0x3a37dd]+_0x5601f2(0x7d)+_0x172cf8[_0x5601f2(0xbe)]()+_0x5601f2(0x11c),_0x56a22b[_0x5601f2(0x81)](_0x11004c);const _0x4e5787=document[_0x5601f2(0x7e)]('div');_0x4e5787[_0x5601f2(0x11b)]=_0x5601f2(0x80)+(_0x251f97?_0x5601f2(0x110):''),_0x4e5787[_0x5601f2(0x7b)]('data-date',_0x3e3e57),_0x4e5787['setAttribute'](_0x5601f2(0x73),_0x3a37dd),_0x273584[_0x5601f2(0x81)](_0x4e5787);}}function reRenderBlocks(){const _0x530883=a3_0x1df4d8;document[_0x530883(0xb1)]('.day-column')[_0x530883(0xed)](_0x301b79=>{const _0x3695f0=_0x530883;_0x301b79['querySelectorAll'](_0x3695f0(0x134))[_0x3695f0(0xed)](_0x390043=>_0x390043[_0x3695f0(0x15e)]());const _0x5dc70=_0x301b79[_0x3695f0(0xe1)](_0x3695f0(0xc6)),_0x14418e=parseInt(_0x301b79[_0x3695f0(0xe1)]('data-day-idx')),_0x46453d=Math['round'](_0x301b79[_0x3695f0(0xf3)]);(availabilityPattern[_0x14418e]||[])[_0x3695f0(0xed)](_0x42fda1=>{const _0x20aa46=_0x3695f0,_0x452d71=document[_0x20aa46(0x7e)](_0x20aa46(0x74));_0x452d71[_0x20aa46(0x11b)]=_0x20aa46(0xe2),_0x452d71[_0x20aa46(0xde)][_0x20aa46(0x70)]=_0x42fda1*GRID_H+'px',_0x452d71[_0x20aa46(0xde)][_0x20aa46(0x136)]='-'+_0x46453d+'px\x20-'+_0x42fda1*GRID_H+'px',_0x301b79[_0x20aa46(0x81)](_0x452d71);});if(specialRanges[_0x3695f0(0x129)]>0x0){const _0x4cedac=new Date(_0x5dc70+_0x3695f0(0x86))['getTime'](),_0x115668=new Date(_0x5dc70+_0x3695f0(0xa8))['getTime']();specialRanges[_0x3695f0(0xed)](_0x3bd41b=>{const _0x52fad5=_0x3695f0,_0x2936c0=new Date(_0x3bd41b[_0x52fad5(0x7c)])['getTime'](),_0x5a2640=new Date(_0x3bd41b[_0x52fad5(0x163)])['getTime'](),_0x5f1b13=Math[_0x52fad5(0xb9)](_0x4cedac,_0x2936c0),_0x47fe5d=Math[_0x52fad5(0xbb)](_0x115668,_0x5a2640);if(_0x5f1b13<_0x47fe5d){const _0x551846=(_0x5f1b13-_0x4cedac)/0x36ee80*GRID_H,_0x33d04f=(_0x47fe5d-_0x5f1b13)/0x36ee80*GRID_H,_0x4cd516=document[_0x52fad5(0x7e)](_0x52fad5(0x74));_0x33d04f>=23.5*GRID_H?(_0x4cd516[_0x52fad5(0x11b)]=_0x52fad5(0xc9),_0x4cd516[_0x52fad5(0xde)][_0x52fad5(0x136)]='-'+_0x46453d+'px\x200px'):(_0x4cd516['className']=_0x52fad5(0xd6),_0x4cd516[_0x52fad5(0xde)][_0x52fad5(0x70)]=_0x551846+'px',_0x4cd516['style'][_0x52fad5(0x14b)]=_0x33d04f+'px',_0x4cd516[_0x52fad5(0xde)][_0x52fad5(0x136)]='-'+_0x46453d+_0x52fad5(0x6e)+_0x551846+'px'),_0x301b79[_0x52fad5(0x81)](_0x4cd516);}});}renderEventsForColumn(_0x301b79,_0x5dc70);});}function a3_0x3eb6(){const _0x38c9d1=['uc_client_settings','note','week','setItem','.day-column','T23:59:59','cancel_window','var(--acc-green)','innerHTML','split','href','uc_client_list','anPercent','width','querySelectorAll','disableVerticalSwipes','constructor','Telegram','setMonth','coachId','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','getFullYear','max','Unknown','min','time-label','expand','getDate','initData','anStart','numeric','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','ranges','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','data-date','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','2299995liddEV','day-off-overlay\x20stripe-bg','Error\x20setting\x20back\x20button:','auto','1668762VSJDYg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','headerMonth','sort','%\x20-\x204px)','left','overlay','analyticsList','block','192AQHviK','blocked-range-part\x20stripe-bg','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setDate','settings','find','calendar','filter','json','style','uc_client_sessions','detTime','getAttribute','blocked-slot\x20stripe-bg','add','\x20status-completed','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','\x20-\x20','2uysUKy','getDay','toString','log','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','forEach','detDate','scroll','matrixViewport','rs-time-btn','getMonth','offsetLeft','show','day-col-header\x20','%\x20+\x202px)','600','now','custom','round','.period-switch\x20.p-btn','clientWidth','\x20–≤\x20','loadLocal','colIndex','initDataUnsafe','rsDatesTrack','daysHeaderTrack','entries','ccText','classList','scrollTo','29522980uQzMIq','month','anCustomDates','total','borderLeftColor','5721807JbYWtV','cid','timeLineBadge','toLocaleDateString','today','4044Cisrhg','<span>','rescheduleSheet','dateStr','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','error','rs-date-chip','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','long','className','</div>','.sheet','findIndex','clients','gridColumns','status','scrollWidth','301811eNfFBA','anTotalStats','syncLoad','detStatus','rgba(','none','length','anEnd','applyData','5401575dFGobE','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','saveLocally','test','ready','client-stat-card','rgba(10,\x20132,\x20255,\x20','onClick','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','textContent','backgroundPosition','<div\x20class=\x22rs-day-name\x22>','client_load','getItem','WebApp','strokeDashoffset','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','<div\x20class=\x22dch-day\x22>','BackButton','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','offClick','getMinutes','active','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','calc(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','\x20—á.','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','router.html','height','parse','querySelector','value','getHours','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','getElementById','pattern','completed','.rs-date-chip','done','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','rsSlotsGrid','stringify','join','get_slots','client_cancel','search','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','remove','detailsSheet','–∑–∞\x20','stopPropagation','8tWouCr','end','charAt','user','visible','coach_profiles','timeColumn','toUpperCase','px\x20-','map','top','isArray','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','data-day-idx','div','substr',':00</span>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','data','push','setBackgroundColor','setAttribute','start','</div><div\x20class=\x22dch-num\x22>','createElement','anDonutCircle','day-column\x20','appendChild','.btn-reschedule','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','display','createDocumentFragment','T00:00:00','addEventListener','detNote','padStart','globalTimeLine','exceptions','then','floor','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</span>\x20/\x20','scrollLeft','#0a84ff','#050505','cancelled','firstChild','location','setHours','color','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','ru-RU','onclick','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','ccYesBtn','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','all','keys','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','offsetWidth','open'];a3_0x3eb6=function(){return _0x38c9d1;};return a3_0x3eb6();}function renderEventsForColumn(_0x1ce2cb,_0x359004){const _0x30e29e=a3_0x1df4d8,_0x1e1e02=sessions[_0x30e29e(0xdc)](_0x1db0c8=>_0x1db0c8[_0x30e29e(0x114)]===_0x359004),_0x3a8be2=_0x1e1e02['map'](_0x4ed4b6=>{const _0x531ebb=_0x30e29e,[_0x3d05a4,_0xfe5131]=_0x4ed4b6['start'][_0x531ebb(0xac)](':')['map'](Number),[_0x5ea378,_0xc18d66]=_0x4ed4b6[_0x531ebb(0x163)][_0x531ebb(0xac)](':')['map'](Number);return{'data':_0x4ed4b6,'start':_0x3d05a4*0x3c+_0xfe5131,'end':_0x5ea378*0x3c+_0xc18d66,'colIndex':0x0};});_0x3a8be2['sort']((_0x4d1fc6,_0x5a7bb9)=>_0x4d1fc6[_0x30e29e(0x7c)]-_0x5a7bb9[_0x30e29e(0x7c)]||_0x5a7bb9['end']-_0x5a7bb9[_0x30e29e(0x7c)]-(_0x4d1fc6[_0x30e29e(0x163)]-_0x4d1fc6[_0x30e29e(0x7c)]));const _0x3f9a82=[];_0x3a8be2['forEach'](_0x28f4d2=>{const _0x3f9683=_0x30e29e;let _0x2acd70=![];for(let _0x1b6d40=0x0;_0x1b6d40<_0x3f9a82[_0x3f9683(0x129)];_0x1b6d40++){const _0x7aa5b8=_0x3f9a82[_0x1b6d40];if(_0x28f4d2[_0x3f9683(0x7c)]>=_0x7aa5b8[_0x7aa5b8[_0x3f9683(0x129)]-0x1][_0x3f9683(0x163)]){_0x7aa5b8[_0x3f9683(0x79)](_0x28f4d2),_0x28f4d2[_0x3f9683(0xff)]=_0x1b6d40,_0x2acd70=!![];break;}}!_0x2acd70&&(_0x3f9a82[_0x3f9683(0x79)]([_0x28f4d2]),_0x28f4d2[_0x3f9683(0xff)]=_0x3f9a82['length']-0x1);}),_0x3a8be2[_0x30e29e(0xed)](_0x22d582=>{const _0x288855=_0x30e29e;let _0xf590be=0x0;_0x3a8be2[_0x288855(0xed)](_0xdf9c19=>{const _0x108242=_0x288855;if(Math['max'](_0x22d582[_0x108242(0x7c)],_0xdf9c19[_0x108242(0x7c)])<Math[_0x108242(0xbb)](_0x22d582[_0x108242(0x163)],_0xdf9c19[_0x108242(0x163)])&&_0xdf9c19[_0x108242(0xff)]>_0xf590be)_0xf590be=_0xdf9c19[_0x108242(0xff)];});const _0x2ce6b0=_0xf590be+0x1,_0x59bbad=0x64/_0x2ce6b0,_0x51f208=_0x22d582[_0x288855(0xff)]*_0x59bbad,_0xccf423=document[_0x288855(0x7e)](_0x288855(0x74)),_0x5b40a8=_0x22d582[_0x288855(0x78)];let _0x51ed2e=_0x288855(0x91);if(clients&&clients[_0x288855(0x129)]>0x0){const _0x58c81b=clients[_0x288855(0xda)](_0xb3274e=>String(_0xb3274e['id'])===String(_0x5b40a8['clientId']));if(_0x58c81b&&_0x58c81b[_0x288855(0x97)])_0x51ed2e=_0x58c81b[_0x288855(0x97)];}const _0x388c80=_0x5b40a8['status']===_0x288855(0x153),_0x41955c=_0x388c80?0x1:0.45;_0xccf423[_0x288855(0x11b)]='event-card'+(_0x388c80?_0x288855(0xe4):''),_0xccf423[_0x288855(0xde)]['backgroundColor']=hexToRgba(_0x51ed2e,_0x41955c),_0xccf423['style'][_0x288855(0x10b)]=_0x51ed2e;const _0x4799e0=_0x22d582[_0x288855(0x7c)]/0x3c*GRID_H,_0x2de644=(_0x22d582['end']-_0x22d582['start'])/0x3c*GRID_H;_0xccf423[_0x288855(0xde)]['top']=_0x4799e0+'px',_0xccf423[_0x288855(0xde)]['height']=Math[_0x288855(0xb9)](_0x2de644,0x14)+'px',_0xccf423['style'][_0x288855(0xb0)]=_0x288855(0x145)+_0x59bbad+_0x288855(0xd0),_0xccf423[_0x288855(0xde)][_0x288855(0xd1)]='calc('+_0x51f208+_0x288855(0xf6),_0xccf423['style']['zIndex']=0xa+_0x22d582['colIndex'];if(_0x59bbad<0x55)_0xccf423['classList'][_0x288855(0xe3)]('mini');let _0x59f0c5='';if(_0x5b40a8['seriesId'])_0x59f0c5+=_0x288855(0x83);if(_0x388c80)_0x59f0c5+=_0x288855(0x13c);_0xccf423[_0x288855(0xab)]=_0x288855(0xe6)+_0x5b40a8[_0x288855(0x7c)]+_0x288855(0xe7)+_0x5b40a8['end']+_0x288855(0xc4)+_0x59f0c5+_0x288855(0xcd),_0xccf423['onclick']=_0x5a100f=>{const _0x1d20c6=_0x288855;_0x5a100f[_0x1d20c6(0x161)](),openDetails(_0x5b40a8);},_0x1ce2cb[_0x288855(0x81)](_0xccf423);});}function openAnalytics(){const _0x2aa246=a3_0x1df4d8,_0x3b2b90=document[_0x2aa246(0x14d)](_0x2aa246(0xfb));setAnalyticsPeriod(_0x2aa246(0xa5),_0x3b2b90),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x2386ce,_0x4e07d7){const _0x47b7a9=a3_0x1df4d8;currentAnPeriod=_0x2386ce,document[_0x47b7a9(0xb1)](_0x47b7a9(0xfb))[_0x47b7a9(0xed)](_0x882a85=>_0x882a85[_0x47b7a9(0x105)][_0x47b7a9(0x15e)](_0x47b7a9(0x143)));if(_0x4e07d7)_0x4e07d7['classList'][_0x47b7a9(0xe3)](_0x47b7a9(0x143));const _0x24b92d=document[_0x47b7a9(0x151)](_0x47b7a9(0x109));_0x24b92d[_0x47b7a9(0xde)]['display']=_0x2386ce===_0x47b7a9(0xf9)?'flex':_0x47b7a9(0x128);const _0x3c5391=new Date();let _0x87d4fd=new Date(),_0x3a6492=new Date();if(_0x2386ce===_0x47b7a9(0xa5))_0x87d4fd=getStartOfWeek(_0x3c5391),_0x3a6492=new Date(_0x87d4fd),_0x3a6492[_0x47b7a9(0xd8)](_0x3a6492[_0x47b7a9(0xbe)]()+0x6);else{if(_0x2386ce===_0x47b7a9(0x108))_0x87d4fd=new Date(_0x3c5391[_0x47b7a9(0xb8)](),_0x3c5391['getMonth'](),0x1),_0x3a6492=new Date(_0x3c5391['getFullYear'](),_0x3c5391['getMonth']()+0x1,0x0);else{!document[_0x47b7a9(0x151)](_0x47b7a9(0xc0))[_0x47b7a9(0x14e)]&&(document[_0x47b7a9(0x151)](_0x47b7a9(0xc0))[_0x47b7a9(0x14e)]=getLocalDateStr(_0x3c5391),document[_0x47b7a9(0x151)]('anEnd')[_0x47b7a9(0x14e)]=getLocalDateStr(_0x3c5391));refreshAnalytics();return;}}document[_0x47b7a9(0x151)]('anStart')[_0x47b7a9(0x14e)]=getLocalDateStr(_0x87d4fd),document['getElementById'](_0x47b7a9(0x12a))[_0x47b7a9(0x14e)]=getLocalDateStr(_0x3a6492),refreshAnalytics();}function refreshAnalytics(){const _0x3f5b03=a3_0x1df4d8,_0x2f7380=document[_0x3f5b03(0x151)](_0x3f5b03(0xc0))[_0x3f5b03(0x14e)],_0x3b45d8=document['getElementById']('anEnd')[_0x3f5b03(0x14e)];if(!_0x2f7380||!_0x3b45d8)return;const _0x436146=sessions['filter'](_0x189e70=>_0x189e70['dateStr']>=_0x2f7380&&_0x189e70[_0x3f5b03(0x114)]<=_0x3b45d8&&_0x189e70[_0x3f5b03(0x121)]!==_0x3f5b03(0x93)),_0x1ead52=_0x436146[_0x3f5b03(0x129)],_0xc22990=_0x436146[_0x3f5b03(0xdc)](_0x518e1c=>_0x518e1c[_0x3f5b03(0x121)]===_0x3f5b03(0x153))[_0x3f5b03(0x129)],_0x13fdc1=_0x1ead52>0x0?Math[_0x3f5b03(0xfa)](_0xc22990/_0x1ead52*0x64):0x0;document[_0x3f5b03(0x151)](_0x3f5b03(0xaf))['textContent']=_0x13fdc1+'%',document[_0x3f5b03(0x151)](_0x3f5b03(0x124))['textContent']=_0xc22990+'\x20–∏–∑\x20'+_0x1ead52+_0x3f5b03(0x98);const _0x45b735=document[_0x3f5b03(0x151)](_0x3f5b03(0x7f)),_0x4d1d6e=0x2*Math['PI']*0x23,_0x1f38dd=_0x4d1d6e-_0x13fdc1/0x64*_0x4d1d6e;_0x45b735[_0x3f5b03(0xde)][_0x3f5b03(0x13b)]=_0x1f38dd;const _0x11819c={};_0x436146['forEach'](_0x5a1a4d=>{const _0x4630ee=_0x3f5b03,_0x11f278=_0x5a1a4d[_0x4630ee(0xb6)]||_0x4630ee(0xba);if(!_0x11819c[_0x11f278]){const _0x164158='#'+_0x11f278[_0x4630ee(0xea)]()[_0x4630ee(0x75)](0x0,0x6);_0x11819c[_0x11f278]={'total':0x0,'done':0x0,'color':_0x164158};}_0x11819c[_0x11f278][_0x4630ee(0x10a)]++;if(_0x5a1a4d[_0x4630ee(0x121)]==='completed')_0x11819c[_0x11f278][_0x4630ee(0x155)]++;});const _0x424ff2=document[_0x3f5b03(0x151)](_0x3f5b03(0xd3));_0x424ff2[_0x3f5b03(0xab)]='';const _0x132b35=Object[_0x3f5b03(0x103)](_0x11819c)[_0x3f5b03(0xcf)]((_0x3eed2a,_0x4de635)=>_0x4de635[0x1]['total']-_0x3eed2a[0x1][_0x3f5b03(0x10a)]);if(_0x132b35[_0x3f5b03(0x129)]===0x0){_0x424ff2[_0x3f5b03(0xab)]=_0x3f5b03(0x115);return;}_0x132b35[_0x3f5b03(0xed)](([_0x2c56b9,_0x211ecc])=>{const _0x20c681=_0x3f5b03,_0x237d3e=Math[_0x20c681(0xfa)](_0x211ecc['done']/_0x211ecc[_0x20c681(0x10a)]*0x64),_0x5c3dbd=document['createElement']('div');_0x5c3dbd['className']=_0x20c681(0x131),_0x5c3dbd[_0x20c681(0xde)][_0x20c681(0x10b)]=_0x211ecc[_0x20c681(0x97)],_0x5c3dbd[_0x20c681(0xab)]=_0x20c681(0x146)+_0x2c56b9[_0x20c681(0x75)](0x0,0x5)+_0x20c681(0x119)+_0x211ecc[_0x20c681(0x155)]+_0x20c681(0x8f)+_0x211ecc[_0x20c681(0x10a)]+_0x20c681(0xc2)+_0x237d3e+_0x20c681(0x148),_0x424ff2[_0x20c681(0x81)](_0x5c3dbd);});}function openDetails(_0x4be60a){const _0x4b302d=a3_0x1df4d8;currentSession=_0x4be60a;const _0x5ac6bd=new Date(_0x4be60a[_0x4b302d(0x114)]),_0x48bf3e=_0x5ac6bd['toLocaleDateString'](_0x4b302d(0x99),{'weekday':_0x4b302d(0x11a),'day':_0x4b302d(0xc1),'month':_0x4b302d(0x11a)});document[_0x4b302d(0x151)](_0x4b302d(0xee))[_0x4b302d(0x135)]=_0x48bf3e[_0x4b302d(0x164)](0x0)[_0x4b302d(0x6d)]()+_0x48bf3e[_0x4b302d(0xe5)](0x1),document[_0x4b302d(0x151)](_0x4b302d(0xe0))[_0x4b302d(0x135)]=_0x4be60a[_0x4b302d(0x7c)]+_0x4b302d(0xe7)+_0x4be60a[_0x4b302d(0x163)],document['getElementById'](_0x4b302d(0x88))[_0x4b302d(0x135)]=_0x4be60a[_0x4b302d(0xa4)]||_0x4b302d(0xec);const _0x1946e9=document[_0x4b302d(0x151)](_0x4b302d(0x126)),_0x53cc81=document[_0x4b302d(0x151)]('cancelContainer'),_0x504ad5=_0x53cc81[_0x4b302d(0x14d)]('.btn-cancel'),_0x577d90=_0x53cc81[_0x4b302d(0x14d)](_0x4b302d(0x82)),_0x2c0c6a=document[_0x4b302d(0x151)]('cancelHint');if(_0x4be60a[_0x4b302d(0x121)]==='completed')_0x1946e9['textContent']=_0x4b302d(0x140),_0x1946e9[_0x4b302d(0xde)][_0x4b302d(0x97)]=_0x4b302d(0xaa),_0x53cc81[_0x4b302d(0xde)][_0x4b302d(0x84)]='none';else{_0x1946e9[_0x4b302d(0x135)]=_0x4b302d(0x77),_0x1946e9[_0x4b302d(0xde)][_0x4b302d(0x97)]='var(--acc-blue)',_0x53cc81[_0x4b302d(0xde)][_0x4b302d(0x84)]=_0x4b302d(0xd4);const _0x544ea4=new Date(_0x4be60a[_0x4b302d(0x114)]+'T'+_0x4be60a['start']),_0x55133f=new Date(),_0x321267=(_0x544ea4-_0x55133f)/(0x3e8*0x3c*0x3c),_0x2febe2=coachProfiles[_0x4be60a['coachId']]&&coachProfiles[_0x4be60a['coachId']][_0x4b302d(0xa9)]?parseInt(coachProfiles[_0x4be60a[_0x4b302d(0xb6)]][_0x4b302d(0xa9)]):0x18;if(_0x2febe2===0x0||_0x321267>=_0x2febe2)_0x504ad5[_0x4b302d(0xde)]['display']=_0x4b302d(0xd4),_0x577d90[_0x4b302d(0xde)][_0x4b302d(0x84)]='block',_0x2c0c6a[_0x4b302d(0xde)][_0x4b302d(0x84)]='none';else{_0x504ad5[_0x4b302d(0xde)][_0x4b302d(0x84)]=_0x4b302d(0x128),_0x577d90['style'][_0x4b302d(0x84)]=_0x4b302d(0x128),_0x2c0c6a['style'][_0x4b302d(0x84)]=_0x4b302d(0xd4);let _0x15db0b=_0x2febe2===0x0?_0x4b302d(0xa0):_0x4b302d(0x160)+_0x2febe2+_0x4b302d(0x147);_0x2c0c6a[_0x4b302d(0x135)]=_0x4b302d(0xc7)+_0x15db0b+_0x4b302d(0x8e);}}document[_0x4b302d(0x151)]('overlay')[_0x4b302d(0x105)][_0x4b302d(0xe3)](_0x4b302d(0x143)),document['getElementById']('detailsSheet')[_0x4b302d(0x105)][_0x4b302d(0xe3)]('open');}function closeAllSheets(){const _0x2366fb=a3_0x1df4d8;document[_0x2366fb(0x151)](_0x2366fb(0xd2))[_0x2366fb(0x105)][_0x2366fb(0x15e)](_0x2366fb(0x143)),document[_0x2366fb(0xb1)](_0x2366fb(0x11d))[_0x2366fb(0xed)](_0x4fc352=>_0x4fc352[_0x2366fb(0x105)][_0x2366fb(0x15e)](_0x2366fb(0xa2)));}function openSheet(_0x29f90b){const _0xce4947=a3_0x1df4d8;document[_0xce4947(0x151)](_0xce4947(0xd2))['classList'][_0xce4947(0xe3)](_0xce4947(0x143)),document[_0xce4947(0x151)](_0x29f90b)['classList']['add'](_0xce4947(0xa2));}function getLocalDateStr(_0x1de24d){const _0x34cdcb=a3_0x1df4d8,_0x4cb0aa=_0x1de24d[_0x34cdcb(0xb8)](),_0x4c43c5=String(_0x1de24d[_0x34cdcb(0xf2)]()+0x1)[_0x34cdcb(0x89)](0x2,'0'),_0x175593=String(_0x1de24d['getDate']())[_0x34cdcb(0x89)](0x2,'0');return _0x4cb0aa+'-'+_0x4c43c5+'-'+_0x175593;}function getStartOfWeek(_0x45efef){const _0x5d11dc=a3_0x1df4d8,_0x50a634=new Date(_0x45efef),_0x31cccb=_0x50a634[_0x5d11dc(0xe9)](),_0x1f4e25=_0x50a634[_0x5d11dc(0xbe)]()-_0x31cccb+(_0x31cccb===0x0?-0x6:0x1);return _0x50a634[_0x5d11dc(0xd8)](_0x1f4e25),_0x50a634[_0x5d11dc(0x96)](0x0,0x0,0x0,0x0),_0x50a634;}function a3_0x5001(_0x14be60,_0x156e22){_0x14be60=_0x14be60-0x6a;const _0x67a3e3=a3_0x3eb6();let _0x44b7e8=_0x67a3e3[_0x14be60];return _0x44b7e8;}function scrollToToday(){const _0x5ddef0=getLocalDateStr(new Date());setTimeout(()=>{const _0x17244e=a3_0x5001,_0x374cda=document[_0x17244e(0x14d)]('.day-col-header[data-date=\x22'+_0x5ddef0+'\x22]');if(_0x374cda){const _0x53b909=document[_0x17244e(0x151)](_0x17244e(0xf0)),_0x162aa8=_0x374cda[_0x17244e(0xf3)]-_0x53b909[_0x17244e(0xfc)]/0x2+_0x374cda[_0x17244e(0xa1)]/0x2;_0x53b909[_0x17244e(0x106)]({'left':_0x162aa8,'behavior':_0x17244e(0xcb)}),_0x53b909['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x27a691=a3_0x1df4d8,_0x3853c2=new Date(),_0x42acef=document[_0x27a691(0x151)](_0x27a691(0x8a)),_0x179a60=document[_0x27a691(0x151)]('timeLineBadge'),_0x485621=(_0x3853c2[_0x27a691(0x14f)]()*0x3c+_0x3853c2[_0x27a691(0x142)]())/0x3c*GRID_H;_0x42acef[_0x27a691(0xde)][_0x27a691(0x70)]=_0x485621+'px',_0x42acef[_0x27a691(0xde)][_0x27a691(0x84)]=_0x27a691(0xd4),_0x179a60[_0x27a691(0xde)]['top']=_0x485621+'px',_0x179a60['style']['display']=_0x27a691(0xd4),_0x179a60[_0x27a691(0x135)]=String(_0x3853c2[_0x27a691(0x14f)]())[_0x27a691(0x89)](0x2,'0')+':'+String(_0x3853c2[_0x27a691(0x142)]())[_0x27a691(0x89)](0x2,'0');}function onScroll(){const _0x52d765=a3_0x1df4d8,_0x887206=document['getElementById'](_0x52d765(0xf0)),_0x3ee71b=document[_0x52d765(0xb1)]('.day-col-header');for(let _0x34f0bd of _0x3ee71b)if(_0x34f0bd[_0x52d765(0xf3)]>=_0x887206[_0x52d765(0x90)]){const _0x10ab7e=new Date(_0x34f0bd['getAttribute'](_0x52d765(0xc6)));document['getElementById'](_0x52d765(0xce))[_0x52d765(0x135)]=_0x10ab7e['toLocaleString']('ru',{'month':_0x52d765(0x11a)})[_0x52d765(0x6d)]()+'\x20'+_0x10ab7e[_0x52d765(0xb8)]();break;}}function showToast(_0x19d1f7){const _0x11b42f=a3_0x1df4d8,_0x4e6fc2=document['getElementById']('toast');_0x4e6fc2[_0x11b42f(0x135)]=_0x19d1f7,_0x4e6fc2['classList'][_0x11b42f(0xe3)](_0x11b42f(0xf4)),setTimeout(()=>_0x4e6fc2[_0x11b42f(0x105)]['remove'](_0x11b42f(0xf4)),0x7d0);}function handleInfiniteScroll(){const _0x54aef3=a3_0x1df4d8,_0x110d82=document['getElementById']('matrixViewport'),_0x3cdd34=_0x110d82['scrollLeft'],_0x4c805a=_0x110d82[_0x54aef3(0x122)],_0x73cd17=_0x110d82[_0x54aef3(0xfc)];if(_0x4c805a-(_0x3cdd34+_0x73cd17)<0x12c){const _0x155980=endOffset;endOffset+=0xe,renderDayRange(_0x155980+0x1,endOffset),reRenderBlocks();}if(_0x3cdd34<0x12c){const _0x354660=startOffset;startOffset-=0xe,prependDays(startOffset,_0x354660-0x1),_0x110d82[_0x54aef3(0x90)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x458891,_0xe04da5){const _0x1f2bac=a3_0x1df4d8,_0x5e127c=document[_0x1f2bac(0x151)](_0x1f2bac(0x102)),_0x4264bf=document[_0x1f2bac(0x151)](_0x1f2bac(0x120)),_0x29f0e0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18561b=new Date();_0x18561b[_0x1f2bac(0x96)](0x0,0x0,0x0,0x0);const _0x1f0bd4=getLocalDateStr(new Date()),_0x2378f3=document[_0x1f2bac(0x85)](),_0x51a070=document[_0x1f2bac(0x85)]();for(let _0x50a6b1=_0x458891;_0x50a6b1<=_0xe04da5;_0x50a6b1++){const _0x562391=new Date(_0x18561b);_0x562391[_0x1f2bac(0xd8)](_0x562391[_0x1f2bac(0xbe)]()+_0x50a6b1);const _0x1d5d68=getLocalDateStr(_0x562391);let _0x5138bf=_0x562391[_0x1f2bac(0xe9)]()-0x1;if(_0x5138bf===-0x1)_0x5138bf=0x6;const _0x1d9422=_0x1d5d68===_0x1f0bd4,_0x2a2ce4=document[_0x1f2bac(0x7e)](_0x1f2bac(0x74));_0x2a2ce4[_0x1f2bac(0x11b)]=_0x1f2bac(0xf5)+(_0x1d9422?_0x1f2bac(0x110):''),_0x2a2ce4[_0x1f2bac(0x7b)]('data-date',_0x1d5d68),_0x2a2ce4['innerHTML']=_0x1f2bac(0x13e)+_0x29f0e0[_0x5138bf]+'</div><div\x20class=\x22dch-num\x22>'+_0x562391['getDate']()+_0x1f2bac(0x11c),_0x2378f3[_0x1f2bac(0x81)](_0x2a2ce4);const _0x4c5598=document[_0x1f2bac(0x7e)](_0x1f2bac(0x74));_0x4c5598[_0x1f2bac(0x11b)]='day-column\x20'+(_0x1d9422?_0x1f2bac(0x110):''),_0x4c5598[_0x1f2bac(0x7b)](_0x1f2bac(0xc6),_0x1d5d68),_0x4c5598[_0x1f2bac(0x7b)](_0x1f2bac(0x73),_0x5138bf),_0x51a070[_0x1f2bac(0x81)](_0x4c5598);}_0x5e127c['insertBefore'](_0x2378f3,_0x5e127c[_0x1f2bac(0x94)]),_0x4264bf['insertBefore'](_0x51a070,_0x4264bf[_0x1f2bac(0x14d)](_0x1f2bac(0xa7)));}function hexToRgba(_0x1841b6,_0x3b14cc){const _0x2bad1e=a3_0x1df4d8;let _0x138e14;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2bad1e(0x12f)](_0x1841b6))return _0x138e14=_0x1841b6['substring'](0x1)['split'](''),_0x138e14[_0x2bad1e(0x129)]==0x3&&(_0x138e14=[_0x138e14[0x0],_0x138e14[0x0],_0x138e14[0x1],_0x138e14[0x1],_0x138e14[0x2],_0x138e14[0x2]]),_0x138e14='0x'+_0x138e14[_0x2bad1e(0x159)](''),_0x2bad1e(0x127)+[_0x138e14>>0x10&0xff,_0x138e14>>0x8&0xff,_0x138e14&0xff][_0x2bad1e(0x159)](',')+','+_0x3b14cc+')';return _0x2bad1e(0x132)+_0x3b14cc+')';}let confirmResolver=null;function showCustomConfirm(_0x30a926,_0x3e37d2,_0x49642b=!![]){const _0x2459a6=a3_0x1df4d8;document[_0x2459a6(0x151)]('ccTitle')[_0x2459a6(0x135)]=_0x30a926,document[_0x2459a6(0x151)](_0x2459a6(0x104))[_0x2459a6(0x135)]=_0x3e37d2;const _0x19b5bc=document[_0x2459a6(0x151)](_0x2459a6(0x9c));return _0x49642b?(_0x19b5bc[_0x2459a6(0xde)][_0x2459a6(0x97)]='#ff453a',_0x19b5bc['style']['fontWeight']='600'):(_0x19b5bc[_0x2459a6(0xde)][_0x2459a6(0x97)]='#0a84ff',_0x19b5bc[_0x2459a6(0xde)]['fontWeight']=_0x2459a6(0xf7)),new Promise(_0x586408=>{const _0x379827=_0x2459a6;confirmResolver=_0x586408,document[_0x379827(0x151)]('customConfirm')[_0x379827(0x105)]['add'](_0x379827(0x6a));});}function resolveCustomConfirm(_0x50f5ea){const _0x2b09b2=a3_0x1df4d8;document[_0x2b09b2(0x151)]('customConfirm')[_0x2b09b2(0x105)]['remove'](_0x2b09b2(0x6a));if(confirmResolver)confirmResolver(_0x50f5ea);}async function tryCancelCurrentSession(){const _0x150391=a3_0x1df4d8;if(!currentSession)return;const _0x27c5de=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x150391(0x9d),!![]);if(!_0x27c5de)return;const _0x2c0173=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x3a1911=>_0x3a1911['id']!==_0x2c0173['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x150391(0xf8)]();try{const _0x5116cd=window[_0x150391(0xb4)]?.['WebApp'],_0x376fcd=await fetch(API_URL,{'method':'POST','body':JSON[_0x150391(0x158)]({'action':_0x150391(0x15b),'init_data':_0x5116cd?.[_0x150391(0xbf)]||'','coachId':_0x2c0173['coachId'],'dateStr':_0x2c0173[_0x150391(0x114)],'sessionId':_0x2c0173['id']})});if(_0x376fcd['ok'])DataManager['saveLocally']();}catch(_0x3b55d1){showToast(_0x150391(0xb7));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x509bbc=a3_0x1df4d8;if(!currentSession)return;document[_0x509bbc(0x151)](_0x509bbc(0x15f))[_0x509bbc(0x105)][_0x509bbc(0x15e)](_0x509bbc(0xa2)),document[_0x509bbc(0x151)](_0x509bbc(0x113))['classList']['add'](_0x509bbc(0xa2));const _0x16a743=document[_0x509bbc(0x151)](_0x509bbc(0x101)),_0x3a7258=document['getElementById'](_0x509bbc(0x157));_0x16a743[_0x509bbc(0xab)]='',_0x3a7258[_0x509bbc(0xab)]=_0x509bbc(0x13d);const [_0x441335,_0x2d9eaf]=currentSession[_0x509bbc(0x7c)][_0x509bbc(0xac)](':')[_0x509bbc(0x6f)](Number),[_0x58af2c,_0x31dfd7]=currentSession[_0x509bbc(0x163)]['split'](':')[_0x509bbc(0x6f)](Number),_0x3f7459=_0x58af2c*0x3c+_0x31dfd7-(_0x441335*0x3c+_0x2d9eaf);try{const _0x4cb52e=window['Telegram']?.[_0x509bbc(0x13a)],_0x4a3a68=await fetch(API_URL,{'method':'POST','body':JSON[_0x509bbc(0x158)]({'action':_0x509bbc(0x15a),'coachId':currentSession['coachId'],'duration':_0x3f7459,'init_data':_0x4cb52e?.[_0x509bbc(0xbf)]||'','excludeSessionId':currentSession['id']})}),_0xc65f06=await _0x4a3a68[_0x509bbc(0xdd)]();_0xc65f06['ok']&&_0xc65f06[_0x509bbc(0x78)]?(availableSlotsCache=_0xc65f06[_0x509bbc(0x78)],renderRescheduleDates()):_0x3a7258[_0x509bbc(0xab)]=_0x509bbc(0x72);}catch(_0x4ba142){_0x3a7258[_0x509bbc(0xab)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x422ed7=a3_0x1df4d8,_0x2ffaed=document[_0x422ed7(0x151)](_0x422ed7(0x101));_0x2ffaed[_0x422ed7(0xab)]='';const _0x1676b5=Object[_0x422ed7(0x9f)](availableSlotsCache)[_0x422ed7(0xcf)](),_0x4e56a5=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1676b5['length']===0x0){document[_0x422ed7(0x151)](_0x422ed7(0x157))[_0x422ed7(0xab)]=_0x422ed7(0x12d);return;}_0x1676b5[_0x422ed7(0xed)]((_0x515e0f,_0x2a2784)=>{const _0x107da0=_0x422ed7,_0x397803=new Date(_0x515e0f),_0x6d561b=_0x4e56a5[_0x397803['getDay']()],_0x3da4dd=_0x397803[_0x107da0(0xbe)](),_0x37ba5f=document[_0x107da0(0x7e)](_0x107da0(0x74));_0x37ba5f[_0x107da0(0x11b)]=_0x107da0(0x117);if(_0x2a2784===0x0)_0x37ba5f[_0x107da0(0x105)][_0x107da0(0xe3)]('active');_0x37ba5f[_0x107da0(0xab)]=_0x107da0(0x137)+_0x6d561b+'</div><div\x20class=\x22rs-day-num\x22>'+_0x3da4dd+_0x107da0(0x11c),_0x37ba5f[_0x107da0(0x9a)]=()=>selectRsDate(_0x515e0f,_0x37ba5f),_0x2ffaed[_0x107da0(0x81)](_0x37ba5f);}),selectRsDate(_0x1676b5[0x0],_0x2ffaed[_0x422ed7(0x94)]);}function selectRsDate(_0x1de286,_0x3870b8){const _0x23ba5b=a3_0x1df4d8;selectedRsDate=_0x1de286,document[_0x23ba5b(0xb1)](_0x23ba5b(0x154))[_0x23ba5b(0xed)](_0x1d400f=>_0x1d400f[_0x23ba5b(0x105)]['remove'](_0x23ba5b(0x143)));if(_0x3870b8)_0x3870b8[_0x23ba5b(0x105)]['add'](_0x23ba5b(0x143));const _0x375027=document[_0x23ba5b(0x151)](_0x23ba5b(0x157));_0x375027[_0x23ba5b(0xab)]='';const _0x5e0038=availableSlotsCache[_0x1de286]||[];if(_0x5e0038['length']===0x0){_0x375027[_0x23ba5b(0xab)]=_0x23ba5b(0x72);return;}_0x5e0038[_0x23ba5b(0xed)](_0x5d7ec3=>{const _0x10270e=_0x23ba5b,_0x2e08aa=document[_0x10270e(0x7e)]('button');_0x2e08aa[_0x10270e(0x11b)]=_0x10270e(0xf1),_0x2e08aa[_0x10270e(0x135)]=_0x5d7ec3,_0x2e08aa[_0x10270e(0x9a)]=()=>confirmReschedule(_0x5d7ec3),_0x375027[_0x10270e(0x81)](_0x2e08aa);});}async function confirmReschedule(_0x125691){const _0x58bc39=a3_0x1df4d8,_0x36650f=new Date(selectedRsDate),_0x3972e4=_0x36650f[_0x58bc39(0x10f)](_0x58bc39(0x99),{'day':_0x58bc39(0xc1),'month':_0x58bc39(0x11a)}),_0x5e6230=await showCustomConfirm(_0x58bc39(0x150),_0x58bc39(0x144)+_0x3972e4+_0x58bc39(0xfd)+_0x125691+'?',![]);if(!_0x5e6230)return;closeAllSheets(),showToast(_0x58bc39(0x9b)),lastUserActionTime=Date[_0x58bc39(0xf8)]();const _0x17e05a=currentSession[_0x58bc39(0x114)],_0x11c6ba=currentSession['id'],[_0x26c69,_0x174184]=currentSession['start'][_0x58bc39(0xac)](':')[_0x58bc39(0x6f)](Number),[_0xc12abc,_0x32aa26]=currentSession['end'][_0x58bc39(0xac)](':')[_0x58bc39(0x6f)](Number),_0x16bb3f=_0xc12abc*0x3c+_0x32aa26-(_0x26c69*0x3c+_0x174184),[_0x129f74,_0x5b65a2]=_0x125691['split'](':')[_0x58bc39(0x6f)](Number),_0x2a62b4=_0x129f74*0x3c+_0x5b65a2+_0x16bb3f,_0x4b8897=Math[_0x58bc39(0x8d)](_0x2a62b4/0x3c),_0x3b5cd8=_0x2a62b4%0x3c,_0x3740cd=String(_0x4b8897)[_0x58bc39(0x89)](0x2,'0')+':'+String(_0x3b5cd8)['padStart'](0x2,'0'),_0x38089e=sessions[_0x58bc39(0x11e)](_0x235d5e=>_0x235d5e['id']===_0x11c6ba);_0x38089e!==-0x1&&(sessions[_0x38089e][_0x58bc39(0x114)]=selectedRsDate,sessions[_0x38089e]['start']=_0x125691,sessions[_0x38089e][_0x58bc39(0x163)]=_0x3740cd,reRenderBlocks());try{const _0x193b68=window[_0x58bc39(0xb4)]?.[_0x58bc39(0x13a)],_0x2fcf25=await fetch(API_URL,{'method':_0x58bc39(0xc5),'body':JSON[_0x58bc39(0x158)]({'action':'reschedule','init_data':_0x193b68?.[_0x58bc39(0xbf)]||'','oldSessionId':_0x11c6ba,'oldDate':_0x17e05a,'newDate':selectedRsDate,'newTime':_0x125691,'coachId':currentSession[_0x58bc39(0xb6)]})}),_0x52adc0=await _0x2fcf25[_0x58bc39(0xdd)]();!_0x52adc0['ok']?(showToast(_0x58bc39(0x156)),DataManager[_0x58bc39(0x125)]()):(showToast(_0x58bc39(0x118)),DataManager[_0x58bc39(0x12e)]());}catch(_0x2aa897){showToast(_0x58bc39(0xb7));}}document['addEventListener']('DOMContentLoaded',init);