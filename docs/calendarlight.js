const a3_0x1dd47d=a3_0x4631;(function(_0x2d6aaa,_0x56adf8){const _0x253dc0=a3_0x4631,_0x584238=_0x2d6aaa();while(!![]){try{const _0x1bc281=parseInt(_0x253dc0(0x1e5))/0x1+-parseInt(_0x253dc0(0x1ff))/0x2+parseInt(_0x253dc0(0x1c8))/0x3+parseInt(_0x253dc0(0x1ca))/0x4*(-parseInt(_0x253dc0(0x22f))/0x5)+parseInt(_0x253dc0(0x215))/0x6*(parseInt(_0x253dc0(0x255))/0x7)+-parseInt(_0x253dc0(0x23b))/0x8*(parseInt(_0x253dc0(0x237))/0x9)+parseInt(_0x253dc0(0x218))/0xa;if(_0x1bc281===_0x56adf8)break;else _0x584238['push'](_0x584238['shift']());}catch(_0xc1a849){_0x584238['push'](_0x584238['shift']());}}}(a3_0x5c17,0x40217));const APP_VERSION=a3_0x1dd47d(0x19b),API_URL=a3_0x1dd47d(0x1dc),GRID_H=0x3c,KEY_SESSIONS=a3_0x1dd47d(0x18d),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x1dd47d(0x1f8);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1dd47d(0x1e4),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3e1335=a3_0x1dd47d,_0x2c84e2=(function(){let _0x131a71=!![];return function(_0x470faa,_0x2c2461){const _0x2ef96a=_0x131a71?function(){const _0x506e72=a3_0x4631;if(_0x2c2461){const _0xaedbc6=_0x2c2461[_0x506e72(0x189)](_0x470faa,arguments);return _0x2c2461=null,_0xaedbc6;}}:function(){};return _0x131a71=![],_0x2ef96a;};}()),_0x210248=_0x2c84e2(this,function(){const _0x429aaf=a3_0x4631;return _0x210248[_0x429aaf(0x23e)]()['search'](_0x429aaf(0x1e8))['toString']()['constructor'](_0x210248)['search'](_0x429aaf(0x1e8));});_0x210248();try{const _0x384364=window[_0x3e1335(0x17d)]?.[_0x3e1335(0x26d)];if(!_0x384364)return;_0x384364['ready'](),_0x384364[_0x3e1335(0x20e)]();try{_0x384364[_0x3e1335(0x21d)](_0x3e1335(0x248)),_0x384364[_0x3e1335(0x176)]&&_0x384364[_0x3e1335(0x176)](_0x3e1335(0x248));}catch(_0x11d755){console[_0x3e1335(0x221)](_0x3e1335(0x1cd),_0x11d755);}try{_0x384364[_0x3e1335(0x263)]&&(_0x384364[_0x3e1335(0x263)][_0x3e1335(0x211)](),_0x384364[_0x3e1335(0x263)]['offClick'](),_0x384364[_0x3e1335(0x263)]['onClick'](function(){const _0x11e55f=_0x3e1335;window[_0x11e55f(0x1b1)][_0x11e55f(0x185)]=_0x11e55f(0x187);}));}catch(_0x3f66a9){console[_0x3e1335(0x221)](_0x3e1335(0x19a),_0x3f66a9);}try{if(_0x384364[_0x3e1335(0x1db)])_0x384364['disableVerticalSwipes']();}catch(_0x5d827e){}}catch(_0x50fff1){console[_0x3e1335(0x20c)](_0x3e1335(0x245),_0x50fff1);}}());function isAdmin(){const _0x1deab7=a3_0x1dd47d;try{const _0x330d46=Number(window[_0x1deab7(0x17d)]?.[_0x1deab7(0x26d)]?.[_0x1deab7(0x1a8)]?.[_0x1deab7(0x1b3)]?.['id']);return _0x330d46===0xbaf7174;}catch(_0x3a20ba){return![];}}const DataManager={'saveLocally'(){const _0x576dff=a3_0x1dd47d;try{localStorage[_0x576dff(0x182)](KEY_SESSIONS,JSON[_0x576dff(0x18a)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x576dff(0x18a)](clients)),localStorage[_0x576dff(0x182)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2a9f3b){}},'loadLocal'(){const _0xd86663=a3_0x1dd47d;try{const _0x4fec1b=localStorage[_0xd86663(0x1be)](KEY_SESSIONS);if(_0x4fec1b)sessions=JSON[_0xd86663(0x1ba)](_0x4fec1b);const _0x40edd0=localStorage[_0xd86663(0x1be)](KEY_CLIENTS);if(_0x40edd0)clients=JSON[_0xd86663(0x1ba)](_0x40edd0);const _0x4ebf42=localStorage[_0xd86663(0x1be)](KEY_SETTINGS);if(_0x4ebf42){const _0x4f351f=JSON[_0xd86663(0x1ba)](_0x4ebf42);if(_0x4f351f[_0xd86663(0x1f6)])availabilityPattern=_0x4f351f['pattern'];if(_0x4f351f['ranges'])specialRanges=_0x4f351f[_0xd86663(0x273)];if(_0x4f351f[_0xd86663(0x25a)])dateExceptions=_0x4f351f[_0xd86663(0x25a)];}}catch(_0x1453e3){}},async 'syncLoad'(){const _0x2631e2=a3_0x1dd47d,_0x415ecb=new Date(),_0x48cffd=_0x415ecb['getFullYear']()+'-'+String(_0x415ecb['getMonth']()+0x1)[_0x2631e2(0x194)](0x2,'0'),_0xe055cc=new Date(_0x415ecb);_0xe055cc[_0x2631e2(0x205)](_0x415ecb[_0x2631e2(0x253)]()+0x1);const _0xc525a2=_0xe055cc[_0x2631e2(0x1cc)]()+'-'+String(_0xe055cc[_0x2631e2(0x253)]()+0x1)[_0x2631e2(0x194)](0x2,'0'),_0x1c49aa=Date[_0x2631e2(0x195)]();try{const _0xcf5ab2=window[_0x2631e2(0x17d)]?.['WebApp'],_0x41949d=_0xcf5ab2?.['initData']||'',[_0xa18ec2,_0x4e1869]=await Promise[_0x2631e2(0x1bf)]([fetch(API_URL,{'method':_0x2631e2(0x1b0),'body':JSON[_0x2631e2(0x18a)]({'action':_0x2631e2(0x22d),'init_data':_0x41949d,'month_str':_0x48cffd})})[_0x2631e2(0x217)](_0x4d3a9e=>_0x4d3a9e[_0x2631e2(0x268)]()),fetch(API_URL,{'method':_0x2631e2(0x1b0),'body':JSON[_0x2631e2(0x18a)]({'action':_0x2631e2(0x22d),'init_data':_0x41949d,'month_str':_0xc525a2})})[_0x2631e2(0x217)](_0x361ebf=>_0x361ebf[_0x2631e2(0x268)]())]);if(lastUserActionTime>_0x1c49aa){console['log'](_0x2631e2(0x1ae));return;}if(_0xa18ec2['ok'])this['applyData'](_0xa18ec2[_0x2631e2(0x1c1)],_0x48cffd);if(_0x4e1869['ok'])this[_0x2631e2(0x24f)](_0x4e1869['data'],_0xc525a2);this[_0x2631e2(0x1fd)]();}catch(_0x50d71e){}},'applyData'(_0x4f8543,_0x1bf65a){const _0x505f70=a3_0x1dd47d;if(!_0x4f8543)return;if(_0x4f8543[_0x505f70(0x1ee)]){if(_0x4f8543['settings'][_0x505f70(0x1f6)])availabilityPattern=_0x4f8543[_0x505f70(0x1ee)][_0x505f70(0x1f6)];if(_0x4f8543[_0x505f70(0x1ee)][_0x505f70(0x273)])specialRanges=_0x4f8543[_0x505f70(0x1ee)][_0x505f70(0x273)];if(_0x4f8543[_0x505f70(0x1ee)]['exceptions'])dateExceptions=_0x4f8543[_0x505f70(0x1ee)][_0x505f70(0x25a)];}if(_0x4f8543[_0x505f70(0x1da)]&&Array[_0x505f70(0x199)](_0x4f8543[_0x505f70(0x1da)]))clients=_0x4f8543[_0x505f70(0x1da)];_0x4f8543[_0x505f70(0x1de)]&&(coachProfiles={...coachProfiles,..._0x4f8543[_0x505f70(0x1de)]}),_0x4f8543['calendar']&&(sessions=sessions[_0x505f70(0x1b6)](_0x41a909=>!_0x41a909['dateStr'][_0x505f70(0x240)](_0x1bf65a)),Object[_0x505f70(0x271)](_0x4f8543[_0x505f70(0x26e)])['forEach'](_0x3a8262=>{const _0x5ad60b=_0x505f70,_0x539178=_0x4f8543[_0x5ad60b(0x26e)][_0x3a8262];_0x539178[_0x5ad60b(0x202)](_0x2f6b96=>{const _0x3edd55=_0x5ad60b;sessions[_0x3edd55(0x17c)]({'id':_0x2f6b96['i'],'clientId':_0x2f6b96['c'],'coachId':_0x2f6b96[_0x3edd55(0x1b4)],'dateStr':_0x1bf65a+'-'+_0x3a8262[_0x3edd55(0x194)](0x2,'0'),'start':_0x2f6b96['s'],'end':_0x2f6b96['e'],'note':_0x2f6b96['n']||'','status':_0x2f6b96['st']||_0x3edd55(0x21c),'seriesId':_0x2f6b96['sid']});});})),reRenderBlocks();}};function init(){const _0x42f7b0=a3_0x1dd47d;DataManager[_0x42f7b0(0x214)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x42f7b0(0x23d)](_0x42f7b0(0x244))[_0x42f7b0(0x260)](_0x42f7b0(0x216),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x42f7b0(0x223)]();}function renderTimeColumn(){const _0x414def=a3_0x1dd47d,_0x117bee=document['getElementById'](_0x414def(0x19d)),_0x5a1b62=document[_0x414def(0x23d)](_0x414def(0x1ad));_0x117bee[_0x414def(0x231)]='',_0x117bee[_0x414def(0x1e0)](_0x5a1b62);for(let _0x22eaff=0x0;_0x22eaff<0x18;_0x22eaff++){const _0x4bfc2e=document['createElement'](_0x414def(0x25b));_0x4bfc2e[_0x414def(0x1ab)]='time-label';if(_0x22eaff>0x0)_0x4bfc2e[_0x414def(0x231)]=_0x414def(0x18b)+String(_0x22eaff)['padStart'](0x2,'0')+':00</span>';_0x117bee[_0x414def(0x1e0)](_0x4bfc2e);}}function renderDayRange(_0x544df9,_0x3f770f){const _0x20dc84=a3_0x1dd47d,_0x51ad38=document[_0x20dc84(0x23d)](_0x20dc84(0x219)),_0x46d4e3=document['getElementById'](_0x20dc84(0x1f4)),_0x3bc30c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c006f=new Date();_0x1c006f[_0x20dc84(0x21f)](0x0,0x0,0x0,0x0);const _0x20af12=getLocalDateStr(new Date());for(let _0x113ca4=_0x544df9;_0x113ca4<=_0x3f770f;_0x113ca4++){const _0x108dfc=new Date(_0x1c006f);_0x108dfc[_0x20dc84(0x250)](_0x108dfc[_0x20dc84(0x1b9)]()+_0x113ca4);const _0x3565b8=getLocalDateStr(_0x108dfc);let _0x186adf=_0x108dfc['getDay']()-0x1;if(_0x186adf===-0x1)_0x186adf=0x6;const _0xf4333c=_0x3565b8===_0x20af12,_0x45d03a=document[_0x20dc84(0x20a)](_0x20dc84(0x25b));_0x45d03a[_0x20dc84(0x1ab)]=_0x20dc84(0x1b7)+(_0xf4333c?_0x20dc84(0x26a):''),_0x45d03a[_0x20dc84(0x266)](_0x20dc84(0x25e),_0x3565b8),_0x45d03a[_0x20dc84(0x231)]=_0x20dc84(0x19c)+_0x3bc30c[_0x186adf]+'</div><div\x20class=\x22dch-num\x22>'+_0x108dfc[_0x20dc84(0x1b9)]()+_0x20dc84(0x25d),_0x51ad38['appendChild'](_0x45d03a);const _0x547223=document[_0x20dc84(0x20a)]('div');_0x547223[_0x20dc84(0x1ab)]=_0x20dc84(0x188)+(_0xf4333c?'today':''),_0x547223[_0x20dc84(0x266)](_0x20dc84(0x25e),_0x3565b8),_0x547223[_0x20dc84(0x266)](_0x20dc84(0x1d4),_0x186adf),_0x46d4e3[_0x20dc84(0x1e0)](_0x547223);}}function reRenderBlocks(){const _0xc0394d=a3_0x1dd47d;document[_0xc0394d(0x1f7)](_0xc0394d(0x25c))[_0xc0394d(0x202)](_0x58f15a=>{const _0xeb465b=_0xc0394d;_0x58f15a[_0xeb465b(0x1f7)](_0xeb465b(0x206))['forEach'](_0x45e8a3=>_0x45e8a3[_0xeb465b(0x1f0)]());const _0x32afc4=_0x58f15a['getAttribute']('data-date'),_0x4e8a5c=parseInt(_0x58f15a[_0xeb465b(0x181)](_0xeb465b(0x1d4))),_0x25c420=Math[_0xeb465b(0x209)](_0x58f15a[_0xeb465b(0x1ef)]);(availabilityPattern[_0x4e8a5c]||[])[_0xeb465b(0x202)](_0x24415d=>{const _0xfbfd8=_0xeb465b,_0x1f35eb=document[_0xfbfd8(0x20a)](_0xfbfd8(0x25b));_0x1f35eb['className']=_0xfbfd8(0x1e6),_0x1f35eb[_0xfbfd8(0x224)][_0xfbfd8(0x17b)]=_0x24415d*GRID_H+'px',_0x1f35eb[_0xfbfd8(0x224)][_0xfbfd8(0x21e)]='-'+_0x25c420+_0xfbfd8(0x1dd)+_0x24415d*GRID_H+'px',_0x58f15a['appendChild'](_0x1f35eb);});if(specialRanges[_0xeb465b(0x1ea)]>0x0){const _0x2df1e2=new Date(_0x32afc4+_0xeb465b(0x236))[_0xeb465b(0x1e9)](),_0x3ad6f5=new Date(_0x32afc4+_0xeb465b(0x191))['getTime']();specialRanges[_0xeb465b(0x202)](_0xf3e8a6=>{const _0x507722=_0xeb465b,_0x43db4b=new Date(_0xf3e8a6['start'])[_0x507722(0x1e9)](),_0x21b659=new Date(_0xf3e8a6[_0x507722(0x1b2)])['getTime'](),_0x11f1ed=Math[_0x507722(0x1ac)](_0x2df1e2,_0x43db4b),_0x469c52=Math[_0x507722(0x251)](_0x3ad6f5,_0x21b659);if(_0x11f1ed<_0x469c52){const _0x35e1d5=(_0x11f1ed-_0x2df1e2)/0x36ee80*GRID_H,_0x3c3592=(_0x469c52-_0x11f1ed)/0x36ee80*GRID_H,_0x2ce9ff=document[_0x507722(0x20a)](_0x507722(0x25b));_0x3c3592>=23.5*GRID_H?(_0x2ce9ff[_0x507722(0x1ab)]='day-off-overlay\x20stripe-bg',_0x2ce9ff[_0x507722(0x224)][_0x507722(0x21e)]='-'+_0x25c420+_0x507722(0x203)):(_0x2ce9ff['className']='blocked-range-part\x20stripe-bg',_0x2ce9ff[_0x507722(0x224)]['top']=_0x35e1d5+'px',_0x2ce9ff['style']['height']=_0x3c3592+'px',_0x2ce9ff[_0x507722(0x224)][_0x507722(0x21e)]='-'+_0x25c420+'px\x20-'+_0x35e1d5+'px'),_0x58f15a[_0x507722(0x1e0)](_0x2ce9ff);}});}renderEventsForColumn(_0x58f15a,_0x32afc4);});}function renderEventsForColumn(_0x209369,_0x1a2b70){const _0xe252a7=a3_0x1dd47d,_0x722c29=sessions[_0xe252a7(0x1b6)](_0x517c03=>_0x517c03[_0xe252a7(0x232)]===_0x1a2b70),_0x5225cf=_0x722c29['map'](_0x433041=>{const _0x68bf86=_0xe252a7,[_0x1127cd,_0x12a5c8]=_0x433041[_0x68bf86(0x235)]['split'](':')[_0x68bf86(0x258)](Number),[_0x592446,_0x1d7fda]=_0x433041['end'][_0x68bf86(0x259)](':')[_0x68bf86(0x258)](Number);return{'data':_0x433041,'start':_0x1127cd*0x3c+_0x12a5c8,'end':_0x592446*0x3c+_0x1d7fda,'colIndex':0x0};});_0x5225cf['sort']((_0xd119bc,_0x5b49c4)=>_0xd119bc['start']-_0x5b49c4['start']||_0x5b49c4['end']-_0x5b49c4[_0xe252a7(0x235)]-(_0xd119bc[_0xe252a7(0x1b2)]-_0xd119bc[_0xe252a7(0x235)]));const _0x24af83=[];_0x5225cf[_0xe252a7(0x202)](_0x5eda9a=>{const _0x53b752=_0xe252a7;let _0x37bb6e=![];for(let _0x1d8d2c=0x0;_0x1d8d2c<_0x24af83[_0x53b752(0x1ea)];_0x1d8d2c++){const _0x4c06a3=_0x24af83[_0x1d8d2c];if(_0x5eda9a['start']>=_0x4c06a3[_0x4c06a3[_0x53b752(0x1ea)]-0x1]['end']){_0x4c06a3[_0x53b752(0x17c)](_0x5eda9a),_0x5eda9a[_0x53b752(0x234)]=_0x1d8d2c,_0x37bb6e=!![];break;}}!_0x37bb6e&&(_0x24af83[_0x53b752(0x17c)]([_0x5eda9a]),_0x5eda9a['colIndex']=_0x24af83[_0x53b752(0x1ea)]-0x1);}),_0x5225cf[_0xe252a7(0x202)](_0x4149f4=>{const _0x97fb0e=_0xe252a7;let _0x23536a=0x0;_0x5225cf[_0x97fb0e(0x202)](_0x395297=>{const _0xd1c590=_0x97fb0e;if(Math[_0xd1c590(0x1ac)](_0x4149f4[_0xd1c590(0x235)],_0x395297[_0xd1c590(0x235)])<Math[_0xd1c590(0x251)](_0x4149f4[_0xd1c590(0x1b2)],_0x395297[_0xd1c590(0x1b2)])&&_0x395297['colIndex']>_0x23536a)_0x23536a=_0x395297[_0xd1c590(0x234)];});const _0x4368f1=_0x23536a+0x1,_0x230ff0=0x64/_0x4368f1,_0x1d2bab=_0x4149f4[_0x97fb0e(0x234)]*_0x230ff0,_0x2a1448=document[_0x97fb0e(0x20a)](_0x97fb0e(0x25b)),_0x409b9d=_0x4149f4[_0x97fb0e(0x1c1)];let _0x3a8ad2='#0a84ff';if(clients&&clients['length']>0x0){const _0x1f6451=clients[_0x97fb0e(0x1c4)](_0x39eb48=>String(_0x39eb48['id'])===String(_0x409b9d[_0x97fb0e(0x26c)]));if(_0x1f6451&&_0x1f6451['color'])_0x3a8ad2=_0x1f6451['color'];}const _0x1b05bd=_0x409b9d['status']==='completed',_0x5df75a=_0x1b05bd?0x1:0.45;_0x2a1448[_0x97fb0e(0x1ab)]=_0x97fb0e(0x177)+(_0x1b05bd?_0x97fb0e(0x1fb):''),_0x2a1448[_0x97fb0e(0x224)][_0x97fb0e(0x249)]=hexToRgba(_0x3a8ad2,_0x5df75a),_0x2a1448['style']['borderLeftColor']=_0x3a8ad2;const _0x1ea004=_0x4149f4[_0x97fb0e(0x235)]/0x3c*GRID_H,_0x13edb1=(_0x4149f4[_0x97fb0e(0x1b2)]-_0x4149f4[_0x97fb0e(0x235)])/0x3c*GRID_H;_0x2a1448[_0x97fb0e(0x224)][_0x97fb0e(0x17b)]=_0x1ea004+'px',_0x2a1448[_0x97fb0e(0x224)][_0x97fb0e(0x1d1)]=Math['max'](_0x13edb1,0x14)+'px',_0x2a1448[_0x97fb0e(0x224)][_0x97fb0e(0x24c)]=_0x97fb0e(0x269)+_0x230ff0+_0x97fb0e(0x1fa),_0x2a1448['style'][_0x97fb0e(0x264)]='calc('+_0x1d2bab+_0x97fb0e(0x1a9),_0x2a1448['style'][_0x97fb0e(0x196)]=0xa+_0x4149f4[_0x97fb0e(0x234)];if(_0x230ff0<0x55)_0x2a1448[_0x97fb0e(0x254)][_0x97fb0e(0x270)]('mini');let _0x3e183a='';if(_0x409b9d[_0x97fb0e(0x198)])_0x3e183a+=_0x97fb0e(0x272);if(_0x1b05bd)_0x3e183a+=_0x97fb0e(0x197);_0x2a1448['innerHTML']=_0x97fb0e(0x1b5)+_0x409b9d['start']+'\x20-\x20'+_0x409b9d['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e183a+_0x97fb0e(0x25f),_0x2a1448[_0x97fb0e(0x1c2)]=_0x31b208=>{const _0x5d0e52=_0x97fb0e;_0x31b208[_0x5d0e52(0x17e)](),openDetails(_0x409b9d);},_0x209369[_0x97fb0e(0x1e0)](_0x2a1448);});}function openAnalytics(){const _0x5095f0=a3_0x1dd47d,_0x252a01=document[_0x5095f0(0x26b)](_0x5095f0(0x1e3));setAnalyticsPeriod(_0x5095f0(0x1e4),_0x252a01),openSheet(_0x5095f0(0x1b8));}function setAnalyticsPeriod(_0x5b5983,_0x42c8e5){const _0x254b5b=a3_0x1dd47d;currentAnPeriod=_0x5b5983,document[_0x254b5b(0x1f7)]('.period-switch\x20.p-btn')[_0x254b5b(0x202)](_0x363bdb=>_0x363bdb[_0x254b5b(0x254)]['remove'](_0x254b5b(0x1c7)));if(_0x42c8e5)_0x42c8e5[_0x254b5b(0x254)][_0x254b5b(0x270)]('active');const _0x1fc3dd=document[_0x254b5b(0x23d)](_0x254b5b(0x193));_0x1fc3dd[_0x254b5b(0x224)][_0x254b5b(0x230)]=_0x5b5983===_0x254b5b(0x1f3)?_0x254b5b(0x20b):'none';const _0x2a45f6=new Date();let _0x332fd6=new Date(),_0x29041f=new Date();if(_0x5b5983==='week')_0x332fd6=getStartOfWeek(_0x2a45f6),_0x29041f=new Date(_0x332fd6),_0x29041f[_0x254b5b(0x250)](_0x29041f[_0x254b5b(0x1b9)]()+0x6);else{if(_0x5b5983===_0x254b5b(0x229))_0x332fd6=new Date(_0x2a45f6[_0x254b5b(0x1cc)](),_0x2a45f6[_0x254b5b(0x253)](),0x1),_0x29041f=new Date(_0x2a45f6['getFullYear'](),_0x2a45f6[_0x254b5b(0x253)]()+0x1,0x0);else{!document[_0x254b5b(0x23d)](_0x254b5b(0x20f))['value']&&(document[_0x254b5b(0x23d)](_0x254b5b(0x20f))['value']=getLocalDateStr(_0x2a45f6),document['getElementById']('anEnd')[_0x254b5b(0x1fe)]=getLocalDateStr(_0x2a45f6));refreshAnalytics();return;}}document['getElementById'](_0x254b5b(0x20f))[_0x254b5b(0x1fe)]=getLocalDateStr(_0x332fd6),document[_0x254b5b(0x23d)](_0x254b5b(0x225))[_0x254b5b(0x1fe)]=getLocalDateStr(_0x29041f),refreshAnalytics();}function refreshAnalytics(){const _0x2c78e8=a3_0x1dd47d,_0x3147c0=document[_0x2c78e8(0x23d)](_0x2c78e8(0x20f))[_0x2c78e8(0x1fe)],_0x1c99e3=document[_0x2c78e8(0x23d)]('anEnd')[_0x2c78e8(0x1fe)];if(!_0x3147c0||!_0x1c99e3)return;const _0x48a131=sessions[_0x2c78e8(0x1b6)](_0x34de43=>_0x34de43[_0x2c78e8(0x232)]>=_0x3147c0&&_0x34de43[_0x2c78e8(0x232)]<=_0x1c99e3&&_0x34de43[_0x2c78e8(0x18c)]!=='cancelled'),_0x382715=_0x48a131[_0x2c78e8(0x1ea)],_0x8716b6=_0x48a131[_0x2c78e8(0x1b6)](_0x2adaa9=>_0x2adaa9['status']===_0x2c78e8(0x1aa))[_0x2c78e8(0x1ea)],_0xc266d6=_0x382715>0x0?Math[_0x2c78e8(0x209)](_0x8716b6/_0x382715*0x64):0x0;document[_0x2c78e8(0x23d)](_0x2c78e8(0x186))[_0x2c78e8(0x1c0)]=_0xc266d6+'%',document[_0x2c78e8(0x23d)](_0x2c78e8(0x1f1))['textContent']=_0x8716b6+'\x20–∏–∑\x20'+_0x382715+_0x2c78e8(0x1a1);const _0x2bc675=document[_0x2c78e8(0x23d)](_0x2c78e8(0x1e2)),_0x4000d2=0x2*Math['PI']*0x23,_0x17a275=_0x4000d2-_0xc266d6/0x64*_0x4000d2;_0x2bc675[_0x2c78e8(0x224)][_0x2c78e8(0x1a3)]=_0x17a275;const _0x4e8264={};_0x48a131[_0x2c78e8(0x202)](_0x518a75=>{const _0x481a84=_0x2c78e8,_0x554418=_0x518a75[_0x481a84(0x207)]||_0x481a84(0x239);if(!_0x4e8264[_0x554418]){const _0x501cdc='#'+_0x554418['toString']()[_0x481a84(0x1f9)](0x0,0x6);_0x4e8264[_0x554418]={'total':0x0,'done':0x0,'color':_0x501cdc};}_0x4e8264[_0x554418][_0x481a84(0x208)]++;if(_0x518a75[_0x481a84(0x18c)]==='completed')_0x4e8264[_0x554418][_0x481a84(0x1a0)]++;});const _0x39d3b9=document[_0x2c78e8(0x23d)](_0x2c78e8(0x17f));_0x39d3b9['innerHTML']='';const _0x7f27b4=Object[_0x2c78e8(0x180)](_0x4e8264)[_0x2c78e8(0x23a)]((_0x3d5268,_0x8d693e)=>_0x8d693e[0x1][_0x2c78e8(0x208)]-_0x3d5268[0x1][_0x2c78e8(0x208)]);if(_0x7f27b4['length']===0x0){_0x39d3b9[_0x2c78e8(0x231)]=_0x2c78e8(0x257);return;}_0x7f27b4[_0x2c78e8(0x202)](([_0x293f81,_0x1a72ee])=>{const _0x569c66=_0x2c78e8,_0x135c81=Math[_0x569c66(0x209)](_0x1a72ee[_0x569c66(0x1a0)]/_0x1a72ee['total']*0x64),_0x1716c4=document[_0x569c66(0x20a)](_0x569c66(0x25b));_0x1716c4[_0x569c66(0x1ab)]=_0x569c66(0x228),_0x1716c4['style'][_0x569c66(0x1f5)]=_0x1a72ee['color'],_0x1716c4['innerHTML']=_0x569c66(0x1c3)+_0x293f81[_0x569c66(0x1f9)](0x0,0x5)+_0x569c66(0x1d6)+_0x1a72ee[_0x569c66(0x1a0)]+_0x569c66(0x1d9)+_0x1a72ee[_0x569c66(0x208)]+_0x569c66(0x1a4)+_0x135c81+_0x569c66(0x1a6),_0x39d3b9[_0x569c66(0x1e0)](_0x1716c4);});}function openDetails(_0x4e290b){const _0x2517d8=a3_0x1dd47d;currentSession=_0x4e290b;const _0x3b7fb6=new Date(_0x4e290b[_0x2517d8(0x232)]),_0x15a3eb=_0x3b7fb6[_0x2517d8(0x24a)]('ru-RU',{'weekday':_0x2517d8(0x22a),'day':'numeric','month':'long'});document[_0x2517d8(0x23d)](_0x2517d8(0x1d5))[_0x2517d8(0x1c0)]=_0x15a3eb[_0x2517d8(0x242)](0x0)[_0x2517d8(0x1a7)]()+_0x15a3eb[_0x2517d8(0x23c)](0x1),document[_0x2517d8(0x23d)](_0x2517d8(0x246))['textContent']=_0x4e290b['start']+'\x20-\x20'+_0x4e290b[_0x2517d8(0x1b2)],document[_0x2517d8(0x23d)](_0x2517d8(0x1ed))[_0x2517d8(0x1c0)]=_0x4e290b[_0x2517d8(0x178)]||_0x2517d8(0x1a5);const _0x36051f=document[_0x2517d8(0x23d)](_0x2517d8(0x24e)),_0x2f024a=document[_0x2517d8(0x23d)](_0x2517d8(0x24d)),_0x35b98c=_0x2f024a['querySelector']('.btn-cancel'),_0x3175da=_0x2f024a[_0x2517d8(0x26b)](_0x2517d8(0x241)),_0x3212d1=document[_0x2517d8(0x23d)](_0x2517d8(0x1f2));if(_0x4e290b['status']===_0x2517d8(0x1aa))_0x36051f[_0x2517d8(0x1c0)]=_0x2517d8(0x252),_0x36051f[_0x2517d8(0x224)]['color']='var(--acc-green)',_0x2f024a[_0x2517d8(0x224)][_0x2517d8(0x230)]=_0x2517d8(0x22b);else{_0x36051f[_0x2517d8(0x1c0)]=_0x2517d8(0x17a),_0x36051f['style'][_0x2517d8(0x18f)]='var(--acc-blue)',_0x2f024a[_0x2517d8(0x224)][_0x2517d8(0x230)]=_0x2517d8(0x200);const _0x4f512e=new Date(_0x4e290b[_0x2517d8(0x232)]+'T'+_0x4e290b[_0x2517d8(0x235)]),_0x5c7732=new Date(),_0x3135f3=(_0x4f512e-_0x5c7732)/(0x3e8*0x3c*0x3c),_0x2cc2d6=coachProfiles[_0x4e290b[_0x2517d8(0x207)]]&&coachProfiles[_0x4e290b[_0x2517d8(0x207)]][_0x2517d8(0x1bb)]?parseInt(coachProfiles[_0x4e290b[_0x2517d8(0x207)]][_0x2517d8(0x1bb)]):0x18;if(_0x2cc2d6===0x0||_0x3135f3>=_0x2cc2d6)_0x35b98c[_0x2517d8(0x224)][_0x2517d8(0x230)]=_0x2517d8(0x200),_0x3175da[_0x2517d8(0x224)]['display']=_0x2517d8(0x200),_0x3212d1[_0x2517d8(0x224)][_0x2517d8(0x230)]=_0x2517d8(0x22b);else{_0x35b98c[_0x2517d8(0x224)][_0x2517d8(0x230)]='none',_0x3175da['style'][_0x2517d8(0x230)]=_0x2517d8(0x22b),_0x3212d1[_0x2517d8(0x224)]['display']='block';let _0x16f210=_0x2cc2d6===0x0?_0x2517d8(0x19e):'–∑–∞\x20'+_0x2cc2d6+_0x2517d8(0x21b);_0x3212d1[_0x2517d8(0x1c0)]=_0x2517d8(0x1d8)+_0x16f210+_0x2517d8(0x233);}}document['getElementById'](_0x2517d8(0x1ec))[_0x2517d8(0x254)][_0x2517d8(0x270)](_0x2517d8(0x1c7)),document[_0x2517d8(0x23d)](_0x2517d8(0x21a))['classList'][_0x2517d8(0x270)](_0x2517d8(0x265));}function a3_0x4631(_0x534360,_0x107118){_0x534360=_0x534360-0x175;const _0xdf204=a3_0x5c17();let _0x5ddb7b=_0xdf204[_0x534360];return _0x5ddb7b;}function closeAllSheets(){const _0x842892=a3_0x1dd47d;document['getElementById'](_0x842892(0x1ec))['classList']['remove']('active'),document[_0x842892(0x1f7)](_0x842892(0x238))['forEach'](_0x999e9f=>_0x999e9f[_0x842892(0x254)][_0x842892(0x1f0)]('open'));}function openSheet(_0x211f22){const _0x176b44=a3_0x1dd47d;document[_0x176b44(0x23d)]('overlay')['classList']['add']('active'),document[_0x176b44(0x23d)](_0x211f22)['classList']['add'](_0x176b44(0x265));}function getLocalDateStr(_0x1adda5){const _0x2d0041=a3_0x1dd47d,_0x2f25b1=_0x1adda5[_0x2d0041(0x1cc)](),_0x410101=String(_0x1adda5['getMonth']()+0x1)[_0x2d0041(0x194)](0x2,'0'),_0x463ff9=String(_0x1adda5['getDate']())[_0x2d0041(0x194)](0x2,'0');return _0x2f25b1+'-'+_0x410101+'-'+_0x463ff9;}function getStartOfWeek(_0x3ef1a5){const _0xa18f91=a3_0x1dd47d,_0x567cb4=new Date(_0x3ef1a5),_0x27e66f=_0x567cb4[_0xa18f91(0x20d)](),_0x33196e=_0x567cb4[_0xa18f91(0x1b9)]()-_0x27e66f+(_0x27e66f===0x0?-0x6:0x1);return _0x567cb4['setDate'](_0x33196e),_0x567cb4[_0xa18f91(0x21f)](0x0,0x0,0x0,0x0),_0x567cb4;}function scrollToToday(){const _0x3bbfa3=getLocalDateStr(new Date());setTimeout(()=>{const _0x443e31=a3_0x4631,_0x246177=document['querySelector'](_0x443e31(0x256)+_0x3bbfa3+'\x22]');if(_0x246177){const _0xcb72e9=document[_0x443e31(0x23d)](_0x443e31(0x244)),_0x1e4d58=_0x246177[_0x443e31(0x1ef)]-_0xcb72e9['clientWidth']/0x2+_0x246177[_0x443e31(0x1d2)]/0x2;_0xcb72e9[_0x443e31(0x1af)]({'left':_0x1e4d58,'behavior':'auto'}),_0xcb72e9[_0x443e31(0x1cb)]=0x9*GRID_H;}},0x32);}function a3_0x5c17(){const _0x550e6e=['classList','2330909VrgLgb','.day-col-header[data-date=\x22','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','map','split','exceptions','div','.day-column','</div>','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','visible','BackButton','left','open','setAttribute','createDocumentFragment','json','calc(','today','querySelector','clientId','WebApp','calendar','toLocaleString','add','keys','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','ranges','findIndex','setBackgroundColor','event-card','note','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','top','push','Telegram','stopPropagation','analyticsList','entries','getAttribute','setItem','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','rs-time-btn','href','anPercent','router.html','day-column\x20','apply','stringify','<span>','status','uc_client_sessions','rsDatesTrack','color','scrollLeft','T23:59:59','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','anCustomDates','padStart','now','zIndex','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','seriesId','isArray','Error\x20setting\x20back\x20button:','v9.5-CLIENT-ANALYTICS','<div\x20class=\x22dch-day\x22>','timeColumn','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20–≤\x20','done','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rsSlotsGrid','strokeDashoffset','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','initDataUnsafe','%\x20+\x202px)','completed','className','max','timeLineBadge','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','scrollTo','POST','location','end','user','cid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','filter','day-col-header\x20','analyticsSheet','getDate','parse','cancel_window','rgba(','firstChild','getItem','all','textContent','data','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','find','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','insertBefore','active','41250psmDmc','initData','67516gtncpu','scrollTop','getFullYear','Error\x20setting\x20color:','ru-RU','</div><div\x20class=\x22dch-num\x22>','join','height','offsetWidth','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','data-day-idx','detDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','get_slots','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','</span>\x20/\x20','clients','disableVerticalSwipes','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','px\x20-','coach_profiles','600','appendChild','fontWeight','anDonutCircle','.period-switch\x20.p-btn','week','47717bKrkGV','blocked-slot\x20stripe-bg','ccYesBtn','(((.+)+)+)+$','getTime','length','.rs-date-chip','overlay','detNote','settings','offsetLeft','remove','anTotalStats','cancelHint','custom','gridColumns','borderLeftColor','pattern','querySelectorAll','uc_client_list','substr','%\x20-\x204px)','\x20status-completed','.day-col-header','saveLocally','value','205230qKIDyX','block','reschedule','forEach','px\x200px','<div\x20class=\x22rs-day-name\x22>','setMonth','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','coachId','total','round','createElement','flex','error','getDay','expand','anStart','globalTimeLine','show','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','loadLocal','6Dnibjh','scroll','then','2741560XrtBrR','daysHeaderTrack','detailsSheet','\x20—á.','planned','setHeaderColor','backgroundPosition','setHours','</div><div\x20class=\x22rs-day-num\x22>','log','button','syncLoad','style','anEnd','–û—Ç–º–µ–Ω–µ–Ω–æ','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','client-stat-card','month','long','none','DOMContentLoaded','client_load','ccTitle','65ATvxqy','display','innerHTML','dateStr','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','colIndex','start','T00:00:00','27IjNaHj','.sheet','Unknown','sort','223704ZvKuly','slice','getElementById','toString','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','startsWith','.btn-reschedule','charAt','rs-date-chip','matrixViewport','Critical\x20TMA\x20Error:','detTime','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','#050505','backgroundColor','toLocaleDateString','ccText','width','cancelContainer','detStatus','applyData','setDate','min','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','getMonth'];a3_0x5c17=function(){return _0x550e6e;};return a3_0x5c17();}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2bc24e=a3_0x1dd47d,_0x240a99=new Date(),_0x267d83=document['getElementById'](_0x2bc24e(0x210)),_0x3de940=document['getElementById'](_0x2bc24e(0x1ad)),_0x4c07f2=(_0x240a99['getHours']()*0x3c+_0x240a99['getMinutes']())/0x3c*GRID_H;_0x267d83[_0x2bc24e(0x224)]['top']=_0x4c07f2+'px',_0x267d83[_0x2bc24e(0x224)]['display']=_0x2bc24e(0x200),_0x3de940[_0x2bc24e(0x224)][_0x2bc24e(0x17b)]=_0x4c07f2+'px',_0x3de940['style']['display']=_0x2bc24e(0x200),_0x3de940[_0x2bc24e(0x1c0)]=String(_0x240a99['getHours']())[_0x2bc24e(0x194)](0x2,'0')+':'+String(_0x240a99['getMinutes']())[_0x2bc24e(0x194)](0x2,'0');}function onScroll(){const _0x3abbf4=a3_0x1dd47d,_0x272739=document[_0x3abbf4(0x23d)](_0x3abbf4(0x244)),_0x93f3d6=document[_0x3abbf4(0x1f7)](_0x3abbf4(0x1fc));for(let _0x711f45 of _0x93f3d6)if(_0x711f45[_0x3abbf4(0x1ef)]>=_0x272739[_0x3abbf4(0x190)]){const _0x59a364=new Date(_0x711f45[_0x3abbf4(0x181)](_0x3abbf4(0x25e)));document['getElementById']('headerMonth')[_0x3abbf4(0x1c0)]=_0x59a364[_0x3abbf4(0x26f)]('ru',{'month':_0x3abbf4(0x22a)})['toUpperCase']()+'\x20'+_0x59a364[_0x3abbf4(0x1cc)]();break;}}function showToast(_0x302cb0){const _0x3ec1fc=a3_0x1dd47d,_0x155727=document[_0x3ec1fc(0x23d)]('toast');_0x155727[_0x3ec1fc(0x1c0)]=_0x302cb0,_0x155727[_0x3ec1fc(0x254)][_0x3ec1fc(0x270)](_0x3ec1fc(0x211)),setTimeout(()=>_0x155727[_0x3ec1fc(0x254)][_0x3ec1fc(0x1f0)](_0x3ec1fc(0x211)),0x7d0);}function handleInfiniteScroll(){const _0x48d0ff=a3_0x1dd47d,_0x21494b=document[_0x48d0ff(0x23d)](_0x48d0ff(0x244)),_0x328055=_0x21494b[_0x48d0ff(0x190)],_0x50aa87=_0x21494b['scrollWidth'],_0x2611ad=_0x21494b['clientWidth'];if(_0x50aa87-(_0x328055+_0x2611ad)<0x12c){const _0x1e5d1a=endOffset;endOffset+=0xe,renderDayRange(_0x1e5d1a+0x1,endOffset),reRenderBlocks();}if(_0x328055<0x12c){const _0x5c60bc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5c60bc-0x1),_0x21494b['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2f4fc7,_0x2b7fdc){const _0x151b52=a3_0x1dd47d,_0x5d8354=document[_0x151b52(0x23d)](_0x151b52(0x219)),_0x5a430a=document[_0x151b52(0x23d)]('gridColumns'),_0x59f234=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1db4d0=new Date();_0x1db4d0[_0x151b52(0x21f)](0x0,0x0,0x0,0x0);const _0x596753=getLocalDateStr(new Date()),_0x57c2f8=document[_0x151b52(0x267)](),_0x5c4c27=document[_0x151b52(0x267)]();for(let _0x377af6=_0x2f4fc7;_0x377af6<=_0x2b7fdc;_0x377af6++){const _0x17c016=new Date(_0x1db4d0);_0x17c016[_0x151b52(0x250)](_0x17c016[_0x151b52(0x1b9)]()+_0x377af6);const _0x45b73d=getLocalDateStr(_0x17c016);let _0x4418e1=_0x17c016[_0x151b52(0x20d)]()-0x1;if(_0x4418e1===-0x1)_0x4418e1=0x6;const _0x217431=_0x45b73d===_0x596753,_0x535731=document[_0x151b52(0x20a)](_0x151b52(0x25b));_0x535731['className']='day-col-header\x20'+(_0x217431?_0x151b52(0x26a):''),_0x535731[_0x151b52(0x266)](_0x151b52(0x25e),_0x45b73d),_0x535731[_0x151b52(0x231)]=_0x151b52(0x19c)+_0x59f234[_0x4418e1]+_0x151b52(0x1cf)+_0x17c016[_0x151b52(0x1b9)]()+_0x151b52(0x25d),_0x57c2f8[_0x151b52(0x1e0)](_0x535731);const _0x98e401=document['createElement']('div');_0x98e401[_0x151b52(0x1ab)]='day-column\x20'+(_0x217431?_0x151b52(0x26a):''),_0x98e401[_0x151b52(0x266)](_0x151b52(0x25e),_0x45b73d),_0x98e401[_0x151b52(0x266)](_0x151b52(0x1d4),_0x4418e1),_0x5c4c27[_0x151b52(0x1e0)](_0x98e401);}_0x5d8354[_0x151b52(0x1c6)](_0x57c2f8,_0x5d8354['firstChild']),_0x5a430a[_0x151b52(0x1c6)](_0x5c4c27,_0x5a430a[_0x151b52(0x26b)](_0x151b52(0x25c)));}function hexToRgba(_0x498e08,_0x9c8dfa){const _0x1c8c9f=a3_0x1dd47d;let _0x40f243;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x498e08))return _0x40f243=_0x498e08['substring'](0x1)[_0x1c8c9f(0x259)](''),_0x40f243[_0x1c8c9f(0x1ea)]==0x3&&(_0x40f243=[_0x40f243[0x0],_0x40f243[0x0],_0x40f243[0x1],_0x40f243[0x1],_0x40f243[0x2],_0x40f243[0x2]]),_0x40f243='0x'+_0x40f243[_0x1c8c9f(0x1d0)](''),_0x1c8c9f(0x1bc)+[_0x40f243>>0x10&0xff,_0x40f243>>0x8&0xff,_0x40f243&0xff][_0x1c8c9f(0x1d0)](',')+','+_0x9c8dfa+')';return'rgba(10,\x20132,\x20255,\x20'+_0x9c8dfa+')';}let confirmResolver=null;function showCustomConfirm(_0x129c1d,_0x2b50d8,_0xbddbb6=!![]){const _0x44bf57=a3_0x1dd47d;document['getElementById'](_0x44bf57(0x22e))[_0x44bf57(0x1c0)]=_0x129c1d,document['getElementById'](_0x44bf57(0x24b))[_0x44bf57(0x1c0)]=_0x2b50d8;const _0x2a18cc=document[_0x44bf57(0x23d)](_0x44bf57(0x1e7));return _0xbddbb6?(_0x2a18cc['style'][_0x44bf57(0x18f)]='#ff453a',_0x2a18cc[_0x44bf57(0x224)][_0x44bf57(0x1e1)]=_0x44bf57(0x1df)):(_0x2a18cc['style'][_0x44bf57(0x18f)]='#0a84ff',_0x2a18cc['style'][_0x44bf57(0x1e1)]=_0x44bf57(0x1df)),new Promise(_0x589f73=>{const _0x1e93e4=_0x44bf57;confirmResolver=_0x589f73,document[_0x1e93e4(0x23d)]('customConfirm')['classList'][_0x1e93e4(0x270)](_0x1e93e4(0x262));});}function resolveCustomConfirm(_0x4639e6){const _0x421fa1=a3_0x1dd47d;document[_0x421fa1(0x23d)]('customConfirm')['classList']['remove'](_0x421fa1(0x262));if(confirmResolver)confirmResolver(_0x4639e6);}async function tryCancelCurrentSession(){const _0x3d65c9=a3_0x1dd47d;if(!currentSession)return;const _0x392c62=await showCustomConfirm(_0x3d65c9(0x192),_0x3d65c9(0x1d3),!![]);if(!_0x392c62)return;const _0x3d9d5a=currentSession;closeAllSheets(),sessions=sessions[_0x3d65c9(0x1b6)](_0x23d3e0=>_0x23d3e0['id']!==_0x3d9d5a['id']),reRenderBlocks(),showToast(_0x3d65c9(0x226)),lastUserActionTime=Date[_0x3d65c9(0x195)]();try{const _0xab3793=window[_0x3d65c9(0x17d)]?.[_0x3d65c9(0x26d)],_0x346569=await fetch(API_URL,{'method':_0x3d65c9(0x1b0),'body':JSON[_0x3d65c9(0x18a)]({'action':'client_cancel','init_data':_0xab3793?.[_0x3d65c9(0x1c9)]||'','coachId':_0x3d9d5a[_0x3d65c9(0x207)],'dateStr':_0x3d9d5a['dateStr'],'sessionId':_0x3d9d5a['id']})});if(_0x346569['ok'])DataManager[_0x3d65c9(0x1fd)]();}catch(_0x5ba689){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x33f319=a3_0x1dd47d;if(!currentSession)return;document[_0x33f319(0x23d)](_0x33f319(0x21a))[_0x33f319(0x254)][_0x33f319(0x1f0)]('open'),document[_0x33f319(0x23d)]('rescheduleSheet')[_0x33f319(0x254)][_0x33f319(0x270)]('open');const _0x5b894f=document[_0x33f319(0x23d)](_0x33f319(0x18e)),_0xd86e8f=document[_0x33f319(0x23d)](_0x33f319(0x1a2));_0x5b894f[_0x33f319(0x231)]='',_0xd86e8f['innerHTML']=_0x33f319(0x212);const [_0x5ed953,_0x4d59d4]=currentSession[_0x33f319(0x235)][_0x33f319(0x259)](':')[_0x33f319(0x258)](Number),[_0x135324,_0x452447]=currentSession[_0x33f319(0x1b2)][_0x33f319(0x259)](':')[_0x33f319(0x258)](Number),_0x2042ad=_0x135324*0x3c+_0x452447-(_0x5ed953*0x3c+_0x4d59d4);try{const _0x2962fd=window[_0x33f319(0x17d)]?.[_0x33f319(0x26d)],_0x42feeb=await fetch(API_URL,{'method':_0x33f319(0x1b0),'body':JSON[_0x33f319(0x18a)]({'action':_0x33f319(0x1d7),'coachId':currentSession[_0x33f319(0x207)],'duration':_0x2042ad,'init_data':_0x2962fd?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1cc57a=await _0x42feeb[_0x33f319(0x268)]();_0x1cc57a['ok']&&_0x1cc57a[_0x33f319(0x1c1)]?(availableSlotsCache=_0x1cc57a[_0x33f319(0x1c1)],renderRescheduleDates()):_0xd86e8f[_0x33f319(0x231)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x1bb2ca){_0xd86e8f[_0x33f319(0x231)]=_0x33f319(0x1c5);}}function renderRescheduleDates(){const _0x37a5bd=a3_0x1dd47d,_0x29dba6=document[_0x37a5bd(0x23d)](_0x37a5bd(0x18e));_0x29dba6['innerHTML']='';const _0x11a507=Object[_0x37a5bd(0x271)](availableSlotsCache)['sort'](),_0x5a3338=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x11a507['length']===0x0){document['getElementById'](_0x37a5bd(0x1a2))[_0x37a5bd(0x231)]=_0x37a5bd(0x213);return;}_0x11a507[_0x37a5bd(0x202)]((_0x4d4cc0,_0x163e4c)=>{const _0x2a2f34=_0x37a5bd,_0x3639ba=new Date(_0x4d4cc0),_0x3f6d98=_0x5a3338[_0x3639ba[_0x2a2f34(0x20d)]()],_0x239730=_0x3639ba['getDate'](),_0xc15c9b=document[_0x2a2f34(0x20a)](_0x2a2f34(0x25b));_0xc15c9b['className']=_0x2a2f34(0x243);if(_0x163e4c===0x0)_0xc15c9b[_0x2a2f34(0x254)][_0x2a2f34(0x270)](_0x2a2f34(0x1c7));_0xc15c9b[_0x2a2f34(0x231)]=_0x2a2f34(0x204)+_0x3f6d98+_0x2a2f34(0x220)+_0x239730+_0x2a2f34(0x25d),_0xc15c9b[_0x2a2f34(0x1c2)]=()=>selectRsDate(_0x4d4cc0,_0xc15c9b),_0x29dba6[_0x2a2f34(0x1e0)](_0xc15c9b);}),selectRsDate(_0x11a507[0x0],_0x29dba6[_0x37a5bd(0x1bd)]);}function selectRsDate(_0x2836ce,_0x270f9b){const _0x5b3a96=a3_0x1dd47d;selectedRsDate=_0x2836ce,document[_0x5b3a96(0x1f7)](_0x5b3a96(0x1eb))[_0x5b3a96(0x202)](_0x1591c0=>_0x1591c0[_0x5b3a96(0x254)][_0x5b3a96(0x1f0)](_0x5b3a96(0x1c7)));if(_0x270f9b)_0x270f9b['classList']['add'](_0x5b3a96(0x1c7));const _0x5181ad=document[_0x5b3a96(0x23d)](_0x5b3a96(0x1a2));_0x5181ad['innerHTML']='';const _0x2c09f1=availableSlotsCache[_0x2836ce]||[];if(_0x2c09f1[_0x5b3a96(0x1ea)]===0x0){_0x5181ad[_0x5b3a96(0x231)]=_0x5b3a96(0x179);return;}_0x2c09f1[_0x5b3a96(0x202)](_0x339d45=>{const _0x3c005d=_0x5b3a96,_0x3bcb5f=document['createElement'](_0x3c005d(0x222));_0x3bcb5f[_0x3c005d(0x1ab)]=_0x3c005d(0x184),_0x3bcb5f[_0x3c005d(0x1c0)]=_0x339d45,_0x3bcb5f[_0x3c005d(0x1c2)]=()=>confirmReschedule(_0x339d45),_0x5181ad[_0x3c005d(0x1e0)](_0x3bcb5f);});}async function confirmReschedule(_0x2abd91){const _0xfc3570=a3_0x1dd47d,_0x164c65=new Date(selectedRsDate),_0x57ff59=_0x164c65[_0xfc3570(0x24a)](_0xfc3570(0x1ce),{'day':'numeric','month':_0xfc3570(0x22a)}),_0xf204fe=await showCustomConfirm(_0xfc3570(0x183),_0xfc3570(0x247)+_0x57ff59+_0xfc3570(0x19f)+_0x2abd91+'?',![]);if(!_0xf204fe)return;closeAllSheets(),showToast(_0xfc3570(0x227)),lastUserActionTime=Date[_0xfc3570(0x195)]();const _0x5b4964=currentSession[_0xfc3570(0x232)],_0x1133ec=currentSession['id'],[_0x1a4467,_0x3d81ef]=currentSession[_0xfc3570(0x235)][_0xfc3570(0x259)](':')[_0xfc3570(0x258)](Number),[_0x20354f,_0x79feac]=currentSession[_0xfc3570(0x1b2)][_0xfc3570(0x259)](':')[_0xfc3570(0x258)](Number),_0x54397f=_0x20354f*0x3c+_0x79feac-(_0x1a4467*0x3c+_0x3d81ef),[_0x489a4b,_0x140227]=_0x2abd91['split'](':')[_0xfc3570(0x258)](Number),_0x6cf529=_0x489a4b*0x3c+_0x140227+_0x54397f,_0x4fc109=Math['floor'](_0x6cf529/0x3c),_0x12a4a0=_0x6cf529%0x3c,_0x5a27e0=String(_0x4fc109)[_0xfc3570(0x194)](0x2,'0')+':'+String(_0x12a4a0)[_0xfc3570(0x194)](0x2,'0'),_0x2590bf=sessions[_0xfc3570(0x175)](_0x49c8be=>_0x49c8be['id']===_0x1133ec);_0x2590bf!==-0x1&&(sessions[_0x2590bf]['dateStr']=selectedRsDate,sessions[_0x2590bf][_0xfc3570(0x235)]=_0x2abd91,sessions[_0x2590bf][_0xfc3570(0x1b2)]=_0x5a27e0,reRenderBlocks());try{const _0x4075e9=window['Telegram']?.[_0xfc3570(0x26d)],_0xec3ca3=await fetch(API_URL,{'method':'POST','body':JSON[_0xfc3570(0x18a)]({'action':_0xfc3570(0x201),'init_data':_0x4075e9?.[_0xfc3570(0x1c9)]||'','oldSessionId':_0x1133ec,'oldDate':_0x5b4964,'newDate':selectedRsDate,'newTime':_0x2abd91,'coachId':currentSession[_0xfc3570(0x207)]})}),_0x351752=await _0xec3ca3[_0xfc3570(0x268)]();!_0x351752['ok']?(showToast(_0xfc3570(0x23f)),DataManager[_0xfc3570(0x223)]()):(showToast(_0xfc3570(0x261)),DataManager[_0xfc3570(0x1fd)]());}catch(_0xd87d54){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x1dd47d(0x22c),init);