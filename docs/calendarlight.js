const a3_0x76494e=a3_0x2a17;(function(_0x398a2f,_0xc7ed05){const _0xa9ac86=a3_0x2a17,_0x849a4c=_0x398a2f();while(!![]){try{const _0x5e39f9=-parseInt(_0xa9ac86(0x255))/0x1*(parseInt(_0xa9ac86(0x184))/0x2)+parseInt(_0xa9ac86(0x262))/0x3*(-parseInt(_0xa9ac86(0x22f))/0x4)+parseInt(_0xa9ac86(0x20b))/0x5+-parseInt(_0xa9ac86(0x1a7))/0x6*(parseInt(_0xa9ac86(0x199))/0x7)+parseInt(_0xa9ac86(0x208))/0x8+-parseInt(_0xa9ac86(0x18d))/0x9*(-parseInt(_0xa9ac86(0x22b))/0xa)+-parseInt(_0xa9ac86(0x1b4))/0xb*(-parseInt(_0xa9ac86(0x1e5))/0xc);if(_0x5e39f9===_0xc7ed05)break;else _0x849a4c['push'](_0x849a4c['shift']());}catch(_0xe2ed44){_0x849a4c['push'](_0x849a4c['shift']());}}}(a3_0x38e9,0x5342e));const APP_VERSION=a3_0x76494e(0x1d1),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x76494e(0x224),KEY_SETTINGS=a3_0x76494e(0x18f),KEY_CLIENTS=a3_0x76494e(0x237);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x38ba24=a3_0x76494e,_0x67d373=(function(){let _0x118635=!![];return function(_0x53954b,_0x3640ed){const _0x1d7376=_0x118635?function(){if(_0x3640ed){const _0x378e9b=_0x3640ed['apply'](_0x53954b,arguments);return _0x3640ed=null,_0x378e9b;}}:function(){};return _0x118635=![],_0x1d7376;};}()),_0x340857=_0x67d373(this,function(){const _0x31f7e5=a3_0x2a17;return _0x340857[_0x31f7e5(0x19c)]()[_0x31f7e5(0x1eb)](_0x31f7e5(0x204))[_0x31f7e5(0x19c)]()['constructor'](_0x340857)['search']('(((.+)+)+)+$');});_0x340857();try{const _0xd469ef=window[_0x38ba24(0x270)]?.[_0x38ba24(0x1b2)];if(!_0xd469ef)return;_0xd469ef[_0x38ba24(0x250)](),_0xd469ef[_0x38ba24(0x1ee)]();try{_0xd469ef[_0x38ba24(0x1cb)](_0x38ba24(0x206)),_0xd469ef[_0x38ba24(0x1a6)]&&_0xd469ef[_0x38ba24(0x1a6)]('#050505');}catch(_0x2d3048){console[_0x38ba24(0x20f)](_0x38ba24(0x180),_0x2d3048);}try{_0xd469ef['BackButton']&&(_0xd469ef[_0x38ba24(0x231)]['show'](),_0xd469ef[_0x38ba24(0x231)][_0x38ba24(0x1ea)](),_0xd469ef[_0x38ba24(0x231)][_0x38ba24(0x1a9)](function(){const _0xee0f77=_0x38ba24;window[_0xee0f77(0x21c)][_0xee0f77(0x1ef)]='router.html';}));}catch(_0x21335a){console[_0x38ba24(0x20f)](_0x38ba24(0x26e),_0x21335a);}try{if(_0xd469ef[_0x38ba24(0x23f)])_0xd469ef['disableVerticalSwipes']();}catch(_0x5c9889){}}catch(_0x120467){console[_0x38ba24(0x19b)](_0x38ba24(0x1a4),_0x120467);}}());function isAdmin(){const _0x1f189f=a3_0x76494e;try{const _0x1071ff=Number(window[_0x1f189f(0x270)]?.[_0x1f189f(0x1b2)]?.['initDataUnsafe']?.[_0x1f189f(0x1a5)]?.['id']);return _0x1071ff===0xbaf7174;}catch(_0x3cf4c3){return![];}}function a3_0x38e9(){const _0x378594=['daysHeaderTrack','querySelectorAll','detTime','remove','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','isArray','globalTimeLine','Error\x20setting\x20back\x20button:','setAttribute','Telegram','\x20–∏–∑\x20','keys','data-date','matrixViewport','setItem','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','split','toLocaleDateString','total','settings','offsetWidth','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','Error\x20setting\x20color:','reschedule','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','calendar','695886WaqKHF','zIndex','backgroundColor','entries','blocked-slot\x20stripe-bg','visible','</span>\x20/\x20','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','syncLoad','87777ITUeGk','top','uc_client_settings','mini','height','clients','fontWeight','test','strokeDashoffset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','map','day-col-header\x20','1190483CETjyu','style','error','toString','forEach','display','findIndex','600','analyticsSheet','.day-column','createElement','Critical\x20TMA\x20Error:','user','setBackgroundColor','18PXAxXz','analyticsList','onClick','coachId','var(--acc-blue)','sid','round','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<span>','createDocumentFragment','scrollWidth','WebApp','dateStr','12193654REDBGl','detNote','getElementById','#0a84ff','note','\x20status-completed','ranges','floor','week','block','padStart','completed','active','data','getTime','max','POST','div','appendChild','insertBefore','none','setDate','setMonth','setHeaderColor','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','.rs-date-chip','.period-switch\x20.p-btn','anTotalStats','json','v9.5-CLIENT-ANALYTICS','long','done','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','seriesId','scroll','clientId','day-off-overlay\x20stripe-bg','left','querySelector','flex','blocked-range-part\x20stripe-bg','rsSlotsGrid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cid','now','T00:00:00','button','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','12PXELnp','coach_profiles','</div>','width','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','offClick','search','backgroundPosition','filter','expand','href','substr','stringify','getItem','toUpperCase','px\x20-','cancelled','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','initData','data-day-idx','<div\x20class=\x22dch-day\x22>','length','add','calc(','day-column\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','scrollTo','setHours','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','saveLocally','\x20-\x20','(((.+)+)+)+$','toLocaleString','#050505','open','3012936DujkOO','timeColumn','start','672115eWESDG','rgba(10,\x20132,\x20255,\x20','rsDatesTrack','push','log','charAt','applyData','cancelHint','exceptions','innerHTML','offsetLeft','get_slots','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','overlay','className','.btn-cancel','firstChild','location','anStart','addEventListener','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','parse','pattern','client-stat-card','</div><div\x20class=\x22rs-day-num\x22>','uc_client_sessions','getAttribute','.sheet','getDate','getMonth','rs-time-btn','\x20–≤\x20','240nguuuR','scrollTop','getFullYear','all','436292iXUvyI','client_load','BackButton','classList','sort','getDay','.day-col-header','getHours','uc_client_list','customConfirm','cancel_window','%\x20-\x204px)','month','px\x200px','gridColumns','Unknown','disableVerticalSwipes','ccTitle','ru-RU','timeLineBadge','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','scrollLeft','detailsSheet','client_cancel','detDate','join','status','anCustomDates','<div\x20class=\x22rs-day-name\x22>','\x20—á.','then','today','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','ready','textContent','#ff453a','find','color','1ySWNVo','onclick','auto','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','getMinutes','anEnd','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','end','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','colIndex','clientWidth','value','18ErTqkh','substring','anDonutCircle','numeric','min'];a3_0x38e9=function(){return _0x378594;};return a3_0x38e9();}const DataManager={'saveLocally'(){const _0x4aec52=a3_0x76494e;try{localStorage[_0x4aec52(0x275)](KEY_SESSIONS,JSON[_0x4aec52(0x1f1)](sessions)),localStorage[_0x4aec52(0x275)](KEY_CLIENTS,JSON[_0x4aec52(0x1f1)](clients)),localStorage[_0x4aec52(0x275)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x257cf5){}},'loadLocal'(){const _0x8bc15f=a3_0x76494e;try{const _0x1b0619=localStorage[_0x8bc15f(0x1f2)](KEY_SESSIONS);if(_0x1b0619)sessions=JSON['parse'](_0x1b0619);const _0x5e71f4=localStorage[_0x8bc15f(0x1f2)](KEY_CLIENTS);if(_0x5e71f4)clients=JSON[_0x8bc15f(0x220)](_0x5e71f4);const _0x25f309=localStorage[_0x8bc15f(0x1f2)](KEY_SETTINGS);if(_0x25f309){const _0x56e83e=JSON[_0x8bc15f(0x220)](_0x25f309);if(_0x56e83e['pattern'])availabilityPattern=_0x56e83e['pattern'];if(_0x56e83e[_0x8bc15f(0x1ba)])specialRanges=_0x56e83e['ranges'];if(_0x56e83e['exceptions'])dateExceptions=_0x56e83e[_0x8bc15f(0x213)];}}catch(_0x4881a1){}},async 'syncLoad'(){const _0x24fbf9=a3_0x76494e,_0x26667b=new Date(),_0x2d046c=_0x26667b['getFullYear']()+'-'+String(_0x26667b[_0x24fbf9(0x228)]()+0x1)['padStart'](0x2,'0'),_0x554566=new Date(_0x26667b);_0x554566[_0x24fbf9(0x1ca)](_0x26667b['getMonth']()+0x1);const _0x1ac422=_0x554566[_0x24fbf9(0x22d)]()+'-'+String(_0x554566['getMonth']()+0x1)['padStart'](0x2,'0'),_0x411175=Date[_0x24fbf9(0x1e1)]();try{const _0x1ed9a1=window['Telegram']?.['WebApp'],_0x9a2c67=_0x1ed9a1?.['initData']||'',[_0x2caad7,_0x1cfa6e]=await Promise[_0x24fbf9(0x22e)]([fetch(API_URL,{'method':_0x24fbf9(0x1c4),'body':JSON[_0x24fbf9(0x1f1)]({'action':_0x24fbf9(0x230),'init_data':_0x9a2c67,'month_str':_0x2d046c})})[_0x24fbf9(0x24d)](_0x1e2a97=>_0x1e2a97[_0x24fbf9(0x1d0)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x9a2c67,'month_str':_0x1ac422})})[_0x24fbf9(0x24d)](_0x4a38ff=>_0x4a38ff['json']())]);if(lastUserActionTime>_0x411175){console['log'](_0x24fbf9(0x1d5));return;}if(_0x2caad7['ok'])this[_0x24fbf9(0x211)](_0x2caad7[_0x24fbf9(0x1c1)],_0x2d046c);if(_0x1cfa6e['ok'])this[_0x24fbf9(0x211)](_0x1cfa6e['data'],_0x1ac422);this[_0x24fbf9(0x202)]();}catch(_0x2a520a){}},'applyData'(_0x29a976,_0x389b75){const _0x5539c2=a3_0x76494e;if(!_0x29a976)return;if(_0x29a976[_0x5539c2(0x27a)]){if(_0x29a976[_0x5539c2(0x27a)]['pattern'])availabilityPattern=_0x29a976[_0x5539c2(0x27a)][_0x5539c2(0x221)];if(_0x29a976[_0x5539c2(0x27a)][_0x5539c2(0x1ba)])specialRanges=_0x29a976['settings']['ranges'];if(_0x29a976['settings']['exceptions'])dateExceptions=_0x29a976[_0x5539c2(0x27a)][_0x5539c2(0x213)];}if(_0x29a976['clients']&&Array[_0x5539c2(0x26c)](_0x29a976[_0x5539c2(0x192)]))clients=_0x29a976['clients'];_0x29a976[_0x5539c2(0x1e6)]&&(coachProfiles={...coachProfiles,..._0x29a976[_0x5539c2(0x1e6)]}),_0x29a976[_0x5539c2(0x183)]&&(sessions=sessions[_0x5539c2(0x1ed)](_0x2402fb=>!_0x2402fb['dateStr']['startsWith'](_0x389b75)),Object[_0x5539c2(0x272)](_0x29a976[_0x5539c2(0x183)])[_0x5539c2(0x19d)](_0x1a6277=>{const _0x429fe9=_0x29a976['calendar'][_0x1a6277];_0x429fe9['forEach'](_0x3332c5=>{const _0x1f50fa=a3_0x2a17;sessions[_0x1f50fa(0x20e)]({'id':_0x3332c5['i'],'clientId':_0x3332c5['c'],'coachId':_0x3332c5[_0x1f50fa(0x1e0)],'dateStr':_0x389b75+'-'+_0x1a6277[_0x1f50fa(0x1be)](0x2,'0'),'start':_0x3332c5['s'],'end':_0x3332c5['e'],'note':_0x3332c5['n']||'','status':_0x3332c5['st']||'planned','seriesId':_0x3332c5[_0x1f50fa(0x1ac)]});});})),reRenderBlocks();}};function init(){const _0x14bf32=a3_0x76494e;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x14bf32(0x1b6)]('matrixViewport')[_0x14bf32(0x21e)](_0x14bf32(0x1d7),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x14bf32(0x18c)]();}function renderTimeColumn(){const _0x2c1661=a3_0x76494e,_0x531ff4=document[_0x2c1661(0x1b6)](_0x2c1661(0x209)),_0x1c2b8d=document[_0x2c1661(0x1b6)]('timeLineBadge');_0x531ff4[_0x2c1661(0x214)]='',_0x531ff4[_0x2c1661(0x1c6)](_0x1c2b8d);for(let _0x5b90e6=0x0;_0x5b90e6<0x18;_0x5b90e6++){const _0x11c0bc=document[_0x2c1661(0x1a3)]('div');_0x11c0bc['className']='time-label';if(_0x5b90e6>0x0)_0x11c0bc[_0x2c1661(0x214)]=_0x2c1661(0x1af)+String(_0x5b90e6)[_0x2c1661(0x1be)](0x2,'0')+':00</span>';_0x531ff4[_0x2c1661(0x1c6)](_0x11c0bc);}}function renderDayRange(_0x4ee4b9,_0x55ca63){const _0x3bc55c=a3_0x76494e,_0x5b9e60=document[_0x3bc55c(0x1b6)](_0x3bc55c(0x267)),_0x224d0d=document['getElementById']('gridColumns'),_0x50b5d2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ada72=new Date();_0x1ada72[_0x3bc55c(0x200)](0x0,0x0,0x0,0x0);const _0x5d5c86=getLocalDateStr(new Date());for(let _0x3e25df=_0x4ee4b9;_0x3e25df<=_0x55ca63;_0x3e25df++){const _0x3b90fc=new Date(_0x1ada72);_0x3b90fc[_0x3bc55c(0x1c9)](_0x3b90fc[_0x3bc55c(0x227)]()+_0x3e25df);const _0x4e8436=getLocalDateStr(_0x3b90fc);let _0x46b364=_0x3b90fc[_0x3bc55c(0x234)]()-0x1;if(_0x46b364===-0x1)_0x46b364=0x6;const _0x33c368=_0x4e8436===_0x5d5c86,_0x9bf005=document[_0x3bc55c(0x1a3)]('div');_0x9bf005[_0x3bc55c(0x219)]=_0x3bc55c(0x198)+(_0x33c368?_0x3bc55c(0x24e):''),_0x9bf005[_0x3bc55c(0x26f)]('data-date',_0x4e8436),_0x9bf005[_0x3bc55c(0x214)]=_0x3bc55c(0x1f9)+_0x50b5d2[_0x46b364]+'</div><div\x20class=\x22dch-num\x22>'+_0x3b90fc[_0x3bc55c(0x227)]()+'</div>',_0x5b9e60[_0x3bc55c(0x1c6)](_0x9bf005);const _0x12ab3b=document['createElement'](_0x3bc55c(0x1c5));_0x12ab3b[_0x3bc55c(0x219)]=_0x3bc55c(0x1fd)+(_0x33c368?'today':''),_0x12ab3b[_0x3bc55c(0x26f)](_0x3bc55c(0x273),_0x4e8436),_0x12ab3b[_0x3bc55c(0x26f)](_0x3bc55c(0x1f8),_0x46b364),_0x224d0d[_0x3bc55c(0x1c6)](_0x12ab3b);}}function reRenderBlocks(){const _0x4e8a20=a3_0x76494e;document[_0x4e8a20(0x268)](_0x4e8a20(0x1a2))[_0x4e8a20(0x19d)](_0x16e5b9=>{const _0x501de4=_0x4e8a20;_0x16e5b9[_0x501de4(0x268)](_0x501de4(0x1cc))['forEach'](_0x4c7b54=>_0x4c7b54['remove']());const _0x143ac3=_0x16e5b9[_0x501de4(0x225)](_0x501de4(0x273)),_0x593ff2=parseInt(_0x16e5b9[_0x501de4(0x225)](_0x501de4(0x1f8))),_0x243f29=Math[_0x501de4(0x1ad)](_0x16e5b9[_0x501de4(0x215)]);(availabilityPattern[_0x593ff2]||[])[_0x501de4(0x19d)](_0x4488e8=>{const _0x13fa88=_0x501de4,_0x79e206=document[_0x13fa88(0x1a3)](_0x13fa88(0x1c5));_0x79e206['className']=_0x13fa88(0x188),_0x79e206[_0x13fa88(0x19a)][_0x13fa88(0x18e)]=_0x4488e8*GRID_H+'px',_0x79e206[_0x13fa88(0x19a)][_0x13fa88(0x1ec)]='-'+_0x243f29+'px\x20-'+_0x4488e8*GRID_H+'px',_0x16e5b9['appendChild'](_0x79e206);});if(specialRanges[_0x501de4(0x1fa)]>0x0){const _0x32caee=new Date(_0x143ac3+_0x501de4(0x1e2))['getTime'](),_0x14e2d9=new Date(_0x143ac3+'T23:59:59')['getTime']();specialRanges[_0x501de4(0x19d)](_0x459d58=>{const _0x69bcb5=_0x501de4,_0xfd0593=new Date(_0x459d58[_0x69bcb5(0x20a)])[_0x69bcb5(0x1c2)](),_0x99b29e=new Date(_0x459d58[_0x69bcb5(0x25c)])[_0x69bcb5(0x1c2)](),_0x145e68=Math[_0x69bcb5(0x1c3)](_0x32caee,_0xfd0593),_0x1d84bd=Math[_0x69bcb5(0x266)](_0x14e2d9,_0x99b29e);if(_0x145e68<_0x1d84bd){const _0x5bd4f3=(_0x145e68-_0x32caee)/0x36ee80*GRID_H,_0x5e6e3c=(_0x1d84bd-_0x145e68)/0x36ee80*GRID_H,_0x2ccd0e=document['createElement'](_0x69bcb5(0x1c5));_0x5e6e3c>=23.5*GRID_H?(_0x2ccd0e[_0x69bcb5(0x219)]=_0x69bcb5(0x1d9),_0x2ccd0e['style'][_0x69bcb5(0x1ec)]='-'+_0x243f29+_0x69bcb5(0x23c)):(_0x2ccd0e[_0x69bcb5(0x219)]=_0x69bcb5(0x1dd),_0x2ccd0e[_0x69bcb5(0x19a)][_0x69bcb5(0x18e)]=_0x5bd4f3+'px',_0x2ccd0e[_0x69bcb5(0x19a)][_0x69bcb5(0x191)]=_0x5e6e3c+'px',_0x2ccd0e['style']['backgroundPosition']='-'+_0x243f29+_0x69bcb5(0x1f4)+_0x5bd4f3+'px'),_0x16e5b9[_0x69bcb5(0x1c6)](_0x2ccd0e);}});}renderEventsForColumn(_0x16e5b9,_0x143ac3);});}function renderEventsForColumn(_0x217639,_0x7b85bf){const _0x3d4bc4=a3_0x76494e,_0x9c9270=sessions[_0x3d4bc4(0x1ed)](_0x338f41=>_0x338f41[_0x3d4bc4(0x1b3)]===_0x7b85bf),_0x530d03=_0x9c9270['map'](_0x506d0b=>{const _0x38f0bc=_0x3d4bc4,[_0x3bfbbc,_0x452a1f]=_0x506d0b[_0x38f0bc(0x20a)]['split'](':')[_0x38f0bc(0x197)](Number),[_0xc518fd,_0x16eae4]=_0x506d0b[_0x38f0bc(0x25c)][_0x38f0bc(0x277)](':')[_0x38f0bc(0x197)](Number);return{'data':_0x506d0b,'start':_0x3bfbbc*0x3c+_0x452a1f,'end':_0xc518fd*0x3c+_0x16eae4,'colIndex':0x0};});_0x530d03[_0x3d4bc4(0x233)]((_0x29d423,_0x1e1562)=>_0x29d423[_0x3d4bc4(0x20a)]-_0x1e1562[_0x3d4bc4(0x20a)]||_0x1e1562[_0x3d4bc4(0x25c)]-_0x1e1562['start']-(_0x29d423[_0x3d4bc4(0x25c)]-_0x29d423[_0x3d4bc4(0x20a)]));const _0x18a30f=[];_0x530d03[_0x3d4bc4(0x19d)](_0x467155=>{const _0x582ae3=_0x3d4bc4;let _0x7d473b=![];for(let _0x519494=0x0;_0x519494<_0x18a30f[_0x582ae3(0x1fa)];_0x519494++){const _0x13542b=_0x18a30f[_0x519494];if(_0x467155['start']>=_0x13542b[_0x13542b[_0x582ae3(0x1fa)]-0x1][_0x582ae3(0x25c)]){_0x13542b[_0x582ae3(0x20e)](_0x467155),_0x467155['colIndex']=_0x519494,_0x7d473b=!![];break;}}!_0x7d473b&&(_0x18a30f[_0x582ae3(0x20e)]([_0x467155]),_0x467155[_0x582ae3(0x25f)]=_0x18a30f[_0x582ae3(0x1fa)]-0x1);}),_0x530d03['forEach'](_0x4575af=>{const _0x1d4cef=_0x3d4bc4;let _0x5d695d=0x0;_0x530d03[_0x1d4cef(0x19d)](_0x24e603=>{const _0x2517ad=_0x1d4cef;if(Math[_0x2517ad(0x1c3)](_0x4575af[_0x2517ad(0x20a)],_0x24e603[_0x2517ad(0x20a)])<Math[_0x2517ad(0x266)](_0x4575af['end'],_0x24e603[_0x2517ad(0x25c)])&&_0x24e603['colIndex']>_0x5d695d)_0x5d695d=_0x24e603[_0x2517ad(0x25f)];});const _0x190eb2=_0x5d695d+0x1,_0x1e821c=0x64/_0x190eb2,_0xa8c241=_0x4575af[_0x1d4cef(0x25f)]*_0x1e821c,_0x2f0eb1=document[_0x1d4cef(0x1a3)](_0x1d4cef(0x1c5)),_0x17a03d=_0x4575af[_0x1d4cef(0x1c1)];let _0x10ac4e=_0x1d4cef(0x1b7);if(clients&&clients[_0x1d4cef(0x1fa)]>0x0){const _0x3603ac=clients[_0x1d4cef(0x253)](_0x1487e6=>String(_0x1487e6['id'])===String(_0x17a03d[_0x1d4cef(0x1d8)]));if(_0x3603ac&&_0x3603ac[_0x1d4cef(0x254)])_0x10ac4e=_0x3603ac[_0x1d4cef(0x254)];}const _0x40608b=_0x17a03d[_0x1d4cef(0x249)]===_0x1d4cef(0x1bf),_0x49aa53=_0x40608b?0x1:0.45;_0x2f0eb1[_0x1d4cef(0x219)]='event-card'+(_0x40608b?_0x1d4cef(0x1b9):''),_0x2f0eb1[_0x1d4cef(0x19a)][_0x1d4cef(0x186)]=hexToRgba(_0x10ac4e,_0x49aa53),_0x2f0eb1['style']['borderLeftColor']=_0x10ac4e;const _0x596728=_0x4575af[_0x1d4cef(0x20a)]/0x3c*GRID_H,_0x2c8806=(_0x4575af[_0x1d4cef(0x25c)]-_0x4575af[_0x1d4cef(0x20a)])/0x3c*GRID_H;_0x2f0eb1['style'][_0x1d4cef(0x18e)]=_0x596728+'px',_0x2f0eb1[_0x1d4cef(0x19a)][_0x1d4cef(0x191)]=Math[_0x1d4cef(0x1c3)](_0x2c8806,0x14)+'px',_0x2f0eb1['style'][_0x1d4cef(0x1e8)]='calc('+_0x1e821c+_0x1d4cef(0x23a),_0x2f0eb1[_0x1d4cef(0x19a)][_0x1d4cef(0x1da)]=_0x1d4cef(0x1fc)+_0xa8c241+'%\x20+\x202px)',_0x2f0eb1[_0x1d4cef(0x19a)][_0x1d4cef(0x185)]=0xa+_0x4575af[_0x1d4cef(0x25f)];if(_0x1e821c<0x55)_0x2f0eb1[_0x1d4cef(0x232)]['add'](_0x1d4cef(0x190));let _0xecc265='';if(_0x17a03d[_0x1d4cef(0x1d6)])_0xecc265+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x40608b)_0xecc265+=_0x1d4cef(0x1ae);_0x2f0eb1['innerHTML']=_0x1d4cef(0x196)+_0x17a03d[_0x1d4cef(0x20a)]+_0x1d4cef(0x203)+_0x17a03d[_0x1d4cef(0x25c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xecc265+_0x1d4cef(0x1df),_0x2f0eb1[_0x1d4cef(0x256)]=_0x55376f=>{_0x55376f['stopPropagation'](),openDetails(_0x17a03d);},_0x217639[_0x1d4cef(0x1c6)](_0x2f0eb1);});}function openAnalytics(){const _0x37429f=a3_0x76494e,_0x524b16=document[_0x37429f(0x1db)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x37429f(0x1bc),_0x524b16),openSheet(_0x37429f(0x1a1));}function setAnalyticsPeriod(_0xc46fd1,_0x4b573f){const _0x218919=a3_0x76494e;currentAnPeriod=_0xc46fd1,document[_0x218919(0x268)](_0x218919(0x1ce))[_0x218919(0x19d)](_0x4078cf=>_0x4078cf[_0x218919(0x232)][_0x218919(0x26a)](_0x218919(0x1c0)));if(_0x4b573f)_0x4b573f[_0x218919(0x232)][_0x218919(0x1fb)](_0x218919(0x1c0));const _0x2f55cf=document['getElementById'](_0x218919(0x24a));_0x2f55cf[_0x218919(0x19a)][_0x218919(0x19e)]=_0xc46fd1==='custom'?_0x218919(0x1dc):_0x218919(0x1c8);const _0x210717=new Date();let _0x44df1d=new Date(),_0x4e0835=new Date();if(_0xc46fd1==='week')_0x44df1d=getStartOfWeek(_0x210717),_0x4e0835=new Date(_0x44df1d),_0x4e0835[_0x218919(0x1c9)](_0x4e0835[_0x218919(0x227)]()+0x6);else{if(_0xc46fd1===_0x218919(0x23b))_0x44df1d=new Date(_0x210717[_0x218919(0x22d)](),_0x210717[_0x218919(0x228)](),0x1),_0x4e0835=new Date(_0x210717['getFullYear'](),_0x210717[_0x218919(0x228)]()+0x1,0x0);else{!document[_0x218919(0x1b6)]('anStart')[_0x218919(0x261)]&&(document[_0x218919(0x1b6)](_0x218919(0x21d))[_0x218919(0x261)]=getLocalDateStr(_0x210717),document[_0x218919(0x1b6)](_0x218919(0x25a))['value']=getLocalDateStr(_0x210717));refreshAnalytics();return;}}document[_0x218919(0x1b6)]('anStart')[_0x218919(0x261)]=getLocalDateStr(_0x44df1d),document['getElementById'](_0x218919(0x25a))[_0x218919(0x261)]=getLocalDateStr(_0x4e0835),refreshAnalytics();}function refreshAnalytics(){const _0x359b54=a3_0x76494e,_0x24be1d=document[_0x359b54(0x1b6)]('anStart')[_0x359b54(0x261)],_0x5ab00e=document['getElementById'](_0x359b54(0x25a))[_0x359b54(0x261)];if(!_0x24be1d||!_0x5ab00e)return;const _0x1217a5=sessions[_0x359b54(0x1ed)](_0x37066c=>_0x37066c[_0x359b54(0x1b3)]>=_0x24be1d&&_0x37066c['dateStr']<=_0x5ab00e&&_0x37066c['status']!==_0x359b54(0x1f5)),_0x50af6c=_0x1217a5[_0x359b54(0x1fa)],_0x49e96d=_0x1217a5['filter'](_0x5c55b8=>_0x5c55b8['status']===_0x359b54(0x1bf))['length'],_0x3c3436=_0x50af6c>0x0?Math[_0x359b54(0x1ad)](_0x49e96d/_0x50af6c*0x64):0x0;document[_0x359b54(0x1b6)]('anPercent')['textContent']=_0x3c3436+'%',document[_0x359b54(0x1b6)](_0x359b54(0x1cf))[_0x359b54(0x251)]=_0x49e96d+_0x359b54(0x271)+_0x50af6c+_0x359b54(0x1f6);const _0x1f9caa=document['getElementById'](_0x359b54(0x264)),_0x289061=0x2*Math['PI']*0x23,_0x281129=_0x289061-_0x3c3436/0x64*_0x289061;_0x1f9caa[_0x359b54(0x19a)][_0x359b54(0x195)]=_0x281129;const _0x10825e={};_0x1217a5[_0x359b54(0x19d)](_0x175b63=>{const _0x222c0d=_0x359b54,_0x46a764=_0x175b63[_0x222c0d(0x1aa)]||_0x222c0d(0x23e);if(!_0x10825e[_0x46a764]){const _0x2351ac='#'+_0x46a764[_0x222c0d(0x19c)]()[_0x222c0d(0x1f0)](0x0,0x6);_0x10825e[_0x46a764]={'total':0x0,'done':0x0,'color':_0x2351ac};}_0x10825e[_0x46a764][_0x222c0d(0x279)]++;if(_0x175b63[_0x222c0d(0x249)]===_0x222c0d(0x1bf))_0x10825e[_0x46a764][_0x222c0d(0x1d3)]++;});const _0x4a7d16=document[_0x359b54(0x1b6)](_0x359b54(0x1a8));_0x4a7d16['innerHTML']='';const _0x34ac29=Object[_0x359b54(0x187)](_0x10825e)[_0x359b54(0x233)]((_0x25bd7f,_0x44136e)=>_0x44136e[0x1][_0x359b54(0x279)]-_0x25bd7f[0x1][_0x359b54(0x279)]);if(_0x34ac29[_0x359b54(0x1fa)]===0x0){_0x4a7d16[_0x359b54(0x214)]=_0x359b54(0x243);return;}_0x34ac29['forEach'](([_0x66b0e8,_0x17294f])=>{const _0x27f7e7=_0x359b54,_0x320794=Math[_0x27f7e7(0x1ad)](_0x17294f['done']/_0x17294f[_0x27f7e7(0x279)]*0x64),_0xfaf99a=document[_0x27f7e7(0x1a3)](_0x27f7e7(0x1c5));_0xfaf99a['className']=_0x27f7e7(0x222),_0xfaf99a['style']['borderLeftColor']=_0x17294f[_0x27f7e7(0x254)],_0xfaf99a[_0x27f7e7(0x214)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x66b0e8[_0x27f7e7(0x1f0)](0x0,0x5)+_0x27f7e7(0x25b)+_0x17294f[_0x27f7e7(0x1d3)]+_0x27f7e7(0x18a)+_0x17294f[_0x27f7e7(0x279)]+_0x27f7e7(0x25d)+_0x320794+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a7d16[_0x27f7e7(0x1c6)](_0xfaf99a);});}function openDetails(_0x235db1){const _0x5d26a9=a3_0x76494e;currentSession=_0x235db1;const _0x297622=new Date(_0x235db1[_0x5d26a9(0x1b3)]),_0x546fcb=_0x297622['toLocaleDateString'](_0x5d26a9(0x241),{'weekday':_0x5d26a9(0x1d2),'day':_0x5d26a9(0x265),'month':_0x5d26a9(0x1d2)});document['getElementById'](_0x5d26a9(0x247))[_0x5d26a9(0x251)]=_0x546fcb[_0x5d26a9(0x210)](0x0)['toUpperCase']()+_0x546fcb['slice'](0x1),document[_0x5d26a9(0x1b6)](_0x5d26a9(0x269))[_0x5d26a9(0x251)]=_0x235db1[_0x5d26a9(0x20a)]+'\x20-\x20'+_0x235db1['end'],document['getElementById'](_0x5d26a9(0x1b5))[_0x5d26a9(0x251)]=_0x235db1[_0x5d26a9(0x1b8)]||_0x5d26a9(0x24f);const _0x5d9743=document[_0x5d26a9(0x1b6)]('detStatus'),_0x107725=document[_0x5d26a9(0x1b6)]('cancelContainer'),_0xfce2a9=_0x107725[_0x5d26a9(0x1db)](_0x5d26a9(0x21a)),_0x2ff6eb=_0x107725['querySelector']('.btn-reschedule'),_0x152482=document[_0x5d26a9(0x1b6)](_0x5d26a9(0x212));if(_0x235db1[_0x5d26a9(0x249)]===_0x5d26a9(0x1bf))_0x5d9743[_0x5d26a9(0x251)]=_0x5d26a9(0x18b),_0x5d9743[_0x5d26a9(0x19a)][_0x5d26a9(0x254)]='var(--acc-green)',_0x107725[_0x5d26a9(0x19a)][_0x5d26a9(0x19e)]=_0x5d26a9(0x1c8);else{_0x5d9743[_0x5d26a9(0x251)]=_0x5d26a9(0x1e4),_0x5d9743[_0x5d26a9(0x19a)]['color']=_0x5d26a9(0x1ab),_0x107725['style'][_0x5d26a9(0x19e)]=_0x5d26a9(0x1bd);const _0x18f0ad=new Date(_0x235db1[_0x5d26a9(0x1b3)]+'T'+_0x235db1[_0x5d26a9(0x20a)]),_0x23ee8f=new Date(),_0x13ca70=(_0x18f0ad-_0x23ee8f)/(0x3e8*0x3c*0x3c),_0x496c29=coachProfiles[_0x235db1[_0x5d26a9(0x1aa)]]&&coachProfiles[_0x235db1[_0x5d26a9(0x1aa)]][_0x5d26a9(0x239)]?parseInt(coachProfiles[_0x235db1[_0x5d26a9(0x1aa)]][_0x5d26a9(0x239)]):0x18;if(_0x496c29===0x0||_0x13ca70>=_0x496c29)_0xfce2a9[_0x5d26a9(0x19a)]['display']=_0x5d26a9(0x1bd),_0x2ff6eb[_0x5d26a9(0x19a)][_0x5d26a9(0x19e)]='block',_0x152482[_0x5d26a9(0x19a)][_0x5d26a9(0x19e)]='none';else{_0xfce2a9[_0x5d26a9(0x19a)][_0x5d26a9(0x19e)]=_0x5d26a9(0x1c8),_0x2ff6eb[_0x5d26a9(0x19a)][_0x5d26a9(0x19e)]='none',_0x152482[_0x5d26a9(0x19a)]['display']='block';let _0x539a35=_0x496c29===0x0?_0x5d26a9(0x201):'–∑–∞\x20'+_0x496c29+_0x5d26a9(0x24c);_0x152482[_0x5d26a9(0x251)]=_0x5d26a9(0x1e9)+_0x539a35+_0x5d26a9(0x182);}}document[_0x5d26a9(0x1b6)](_0x5d26a9(0x218))['classList'][_0x5d26a9(0x1fb)](_0x5d26a9(0x1c0)),document[_0x5d26a9(0x1b6)](_0x5d26a9(0x245))[_0x5d26a9(0x232)][_0x5d26a9(0x1fb)](_0x5d26a9(0x207));}function closeAllSheets(){const _0x594b4e=a3_0x76494e;document['getElementById'](_0x594b4e(0x218))[_0x594b4e(0x232)][_0x594b4e(0x26a)](_0x594b4e(0x1c0)),document['querySelectorAll'](_0x594b4e(0x226))[_0x594b4e(0x19d)](_0x573a79=>_0x573a79[_0x594b4e(0x232)][_0x594b4e(0x26a)](_0x594b4e(0x207)));}function openSheet(_0x946ecf){const _0xd2f8b3=a3_0x76494e;document[_0xd2f8b3(0x1b6)](_0xd2f8b3(0x218))[_0xd2f8b3(0x232)][_0xd2f8b3(0x1fb)](_0xd2f8b3(0x1c0)),document[_0xd2f8b3(0x1b6)](_0x946ecf)[_0xd2f8b3(0x232)][_0xd2f8b3(0x1fb)](_0xd2f8b3(0x207));}function getLocalDateStr(_0x381c9c){const _0xb1cb9=a3_0x76494e,_0x36221a=_0x381c9c['getFullYear'](),_0x46c006=String(_0x381c9c['getMonth']()+0x1)['padStart'](0x2,'0'),_0x24f619=String(_0x381c9c[_0xb1cb9(0x227)]())[_0xb1cb9(0x1be)](0x2,'0');return _0x36221a+'-'+_0x46c006+'-'+_0x24f619;}function getStartOfWeek(_0x3384e9){const _0x18bd78=a3_0x76494e,_0x9bed7f=new Date(_0x3384e9),_0x23773c=_0x9bed7f[_0x18bd78(0x234)](),_0x1b2cfe=_0x9bed7f[_0x18bd78(0x227)]()-_0x23773c+(_0x23773c===0x0?-0x6:0x1);return _0x9bed7f['setDate'](_0x1b2cfe),_0x9bed7f['setHours'](0x0,0x0,0x0,0x0),_0x9bed7f;}function scrollToToday(){const _0x4c8573=getLocalDateStr(new Date());setTimeout(()=>{const _0x2bec55=a3_0x2a17,_0x2623bf=document[_0x2bec55(0x1db)]('.day-col-header[data-date=\x22'+_0x4c8573+'\x22]');if(_0x2623bf){const _0x2e062d=document[_0x2bec55(0x1b6)](_0x2bec55(0x274)),_0x4a874a=_0x2623bf[_0x2bec55(0x215)]-_0x2e062d[_0x2bec55(0x260)]/0x2+_0x2623bf[_0x2bec55(0x17e)]/0x2;_0x2e062d[_0x2bec55(0x1ff)]({'left':_0x4a874a,'behavior':_0x2bec55(0x257)}),_0x2e062d[_0x2bec55(0x22c)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3f861e=a3_0x76494e,_0x5f294a=new Date(),_0x50a794=document['getElementById'](_0x3f861e(0x26d)),_0x479670=document[_0x3f861e(0x1b6)](_0x3f861e(0x242)),_0x2edca8=(_0x5f294a[_0x3f861e(0x236)]()*0x3c+_0x5f294a['getMinutes']())/0x3c*GRID_H;_0x50a794[_0x3f861e(0x19a)][_0x3f861e(0x18e)]=_0x2edca8+'px',_0x50a794[_0x3f861e(0x19a)][_0x3f861e(0x19e)]='block',_0x479670[_0x3f861e(0x19a)][_0x3f861e(0x18e)]=_0x2edca8+'px',_0x479670[_0x3f861e(0x19a)][_0x3f861e(0x19e)]=_0x3f861e(0x1bd),_0x479670[_0x3f861e(0x251)]=String(_0x5f294a[_0x3f861e(0x236)]())[_0x3f861e(0x1be)](0x2,'0')+':'+String(_0x5f294a[_0x3f861e(0x259)]())[_0x3f861e(0x1be)](0x2,'0');}function onScroll(){const _0x1756a4=a3_0x76494e,_0x1efd31=document['getElementById'](_0x1756a4(0x274)),_0x2c9470=document[_0x1756a4(0x268)](_0x1756a4(0x235));for(let _0x530b2d of _0x2c9470)if(_0x530b2d[_0x1756a4(0x215)]>=_0x1efd31[_0x1756a4(0x244)]){const _0x3b83e9=new Date(_0x530b2d[_0x1756a4(0x225)]('data-date'));document['getElementById']('headerMonth')[_0x1756a4(0x251)]=_0x3b83e9[_0x1756a4(0x205)]('ru',{'month':_0x1756a4(0x1d2)})[_0x1756a4(0x1f3)]()+'\x20'+_0x3b83e9[_0x1756a4(0x22d)]();break;}}function showToast(_0x23353c){const _0x76ba06=a3_0x76494e,_0x46bd9d=document['getElementById']('toast');_0x46bd9d[_0x76ba06(0x251)]=_0x23353c,_0x46bd9d[_0x76ba06(0x232)][_0x76ba06(0x1fb)]('show'),setTimeout(()=>_0x46bd9d[_0x76ba06(0x232)][_0x76ba06(0x26a)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x332e45=a3_0x76494e,_0x3c8215=document[_0x332e45(0x1b6)](_0x332e45(0x274)),_0x3486e8=_0x3c8215[_0x332e45(0x244)],_0x1b8ec4=_0x3c8215[_0x332e45(0x1b1)],_0x2c3f37=_0x3c8215[_0x332e45(0x260)];if(_0x1b8ec4-(_0x3486e8+_0x2c3f37)<0x12c){const _0x1ca33e=endOffset;endOffset+=0xe,renderDayRange(_0x1ca33e+0x1,endOffset),reRenderBlocks();}if(_0x3486e8<0x12c){const _0xf817ba=startOffset;startOffset-=0xe,prependDays(startOffset,_0xf817ba-0x1),_0x3c8215[_0x332e45(0x244)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3541bd,_0x5d8fd8){const _0x5b1f6a=a3_0x76494e,_0x37c162=document[_0x5b1f6a(0x1b6)](_0x5b1f6a(0x267)),_0x49da84=document['getElementById'](_0x5b1f6a(0x23d)),_0x6f8147=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x290208=new Date();_0x290208[_0x5b1f6a(0x200)](0x0,0x0,0x0,0x0);const _0x193935=getLocalDateStr(new Date()),_0x2d9109=document[_0x5b1f6a(0x1b0)](),_0x1b8f48=document[_0x5b1f6a(0x1b0)]();for(let _0x8af4b0=_0x3541bd;_0x8af4b0<=_0x5d8fd8;_0x8af4b0++){const _0x5763a6=new Date(_0x290208);_0x5763a6[_0x5b1f6a(0x1c9)](_0x5763a6['getDate']()+_0x8af4b0);const _0x1b4635=getLocalDateStr(_0x5763a6);let _0x2b7132=_0x5763a6[_0x5b1f6a(0x234)]()-0x1;if(_0x2b7132===-0x1)_0x2b7132=0x6;const _0x152235=_0x1b4635===_0x193935,_0x4ac8f0=document[_0x5b1f6a(0x1a3)](_0x5b1f6a(0x1c5));_0x4ac8f0['className']=_0x5b1f6a(0x198)+(_0x152235?_0x5b1f6a(0x24e):''),_0x4ac8f0[_0x5b1f6a(0x26f)](_0x5b1f6a(0x273),_0x1b4635),_0x4ac8f0[_0x5b1f6a(0x214)]=_0x5b1f6a(0x1f9)+_0x6f8147[_0x2b7132]+'</div><div\x20class=\x22dch-num\x22>'+_0x5763a6[_0x5b1f6a(0x227)]()+_0x5b1f6a(0x1e7),_0x2d9109[_0x5b1f6a(0x1c6)](_0x4ac8f0);const _0x20f15d=document[_0x5b1f6a(0x1a3)](_0x5b1f6a(0x1c5));_0x20f15d['className']='day-column\x20'+(_0x152235?_0x5b1f6a(0x24e):''),_0x20f15d[_0x5b1f6a(0x26f)](_0x5b1f6a(0x273),_0x1b4635),_0x20f15d[_0x5b1f6a(0x26f)](_0x5b1f6a(0x1f8),_0x2b7132),_0x1b8f48[_0x5b1f6a(0x1c6)](_0x20f15d);}_0x37c162[_0x5b1f6a(0x1c7)](_0x2d9109,_0x37c162['firstChild']),_0x49da84[_0x5b1f6a(0x1c7)](_0x1b8f48,_0x49da84[_0x5b1f6a(0x1db)]('.day-column'));}function hexToRgba(_0x4f9326,_0x19d7c1){const _0xe1d15a=a3_0x76494e;let _0x1d7ecc;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0xe1d15a(0x194)](_0x4f9326))return _0x1d7ecc=_0x4f9326[_0xe1d15a(0x263)](0x1)['split'](''),_0x1d7ecc[_0xe1d15a(0x1fa)]==0x3&&(_0x1d7ecc=[_0x1d7ecc[0x0],_0x1d7ecc[0x0],_0x1d7ecc[0x1],_0x1d7ecc[0x1],_0x1d7ecc[0x2],_0x1d7ecc[0x2]]),_0x1d7ecc='0x'+_0x1d7ecc[_0xe1d15a(0x248)](''),'rgba('+[_0x1d7ecc>>0x10&0xff,_0x1d7ecc>>0x8&0xff,_0x1d7ecc&0xff]['join'](',')+','+_0x19d7c1+')';return _0xe1d15a(0x20c)+_0x19d7c1+')';}let confirmResolver=null;function showCustomConfirm(_0x2a107e,_0x253659,_0x1346ae=!![]){const _0x4287e1=a3_0x76494e;document['getElementById'](_0x4287e1(0x240))[_0x4287e1(0x251)]=_0x2a107e,document[_0x4287e1(0x1b6)]('ccText')[_0x4287e1(0x251)]=_0x253659;const _0x415e32=document[_0x4287e1(0x1b6)]('ccYesBtn');return _0x1346ae?(_0x415e32['style']['color']=_0x4287e1(0x252),_0x415e32[_0x4287e1(0x19a)][_0x4287e1(0x193)]=_0x4287e1(0x1a0)):(_0x415e32[_0x4287e1(0x19a)]['color']=_0x4287e1(0x1b7),_0x415e32[_0x4287e1(0x19a)][_0x4287e1(0x193)]=_0x4287e1(0x1a0)),new Promise(_0x3fad92=>{const _0x2870be=_0x4287e1;confirmResolver=_0x3fad92,document[_0x2870be(0x1b6)]('customConfirm')['classList'][_0x2870be(0x1fb)](_0x2870be(0x189));});}function resolveCustomConfirm(_0x201bd8){const _0x1466b2=a3_0x76494e;document[_0x1466b2(0x1b6)](_0x1466b2(0x238))[_0x1466b2(0x232)][_0x1466b2(0x26a)](_0x1466b2(0x189));if(confirmResolver)confirmResolver(_0x201bd8);}async function tryCancelCurrentSession(){const _0x363ace=a3_0x76494e;if(!currentSession)return;const _0x5bfb3c=await showCustomConfirm(_0x363ace(0x25e),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x5bfb3c)return;const _0x12b680=currentSession;closeAllSheets(),sessions=sessions[_0x363ace(0x1ed)](_0x79456b=>_0x79456b['id']!==_0x12b680['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x3d0b7d=window[_0x363ace(0x270)]?.['WebApp'],_0x19cc2a=await fetch(API_URL,{'method':_0x363ace(0x1c4),'body':JSON[_0x363ace(0x1f1)]({'action':_0x363ace(0x246),'init_data':_0x3d0b7d?.[_0x363ace(0x1f7)]||'','coachId':_0x12b680['coachId'],'dateStr':_0x12b680['dateStr'],'sessionId':_0x12b680['id']})});if(_0x19cc2a['ok'])DataManager[_0x363ace(0x202)]();}catch(_0x1e5885){showToast(_0x363ace(0x1fe));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x2a17(_0x165bf5,_0x2f868c){_0x165bf5=_0x165bf5-0x17e;const _0x1804df=a3_0x38e9();let _0x21ead6=_0x1804df[_0x165bf5];return _0x21ead6;}async function startRescheduleFlow(){const _0x57cb9e=a3_0x76494e;if(!currentSession)return;document[_0x57cb9e(0x1b6)](_0x57cb9e(0x245))[_0x57cb9e(0x232)][_0x57cb9e(0x26a)]('open'),document[_0x57cb9e(0x1b6)]('rescheduleSheet')[_0x57cb9e(0x232)]['add'](_0x57cb9e(0x207));const _0xd819c=document[_0x57cb9e(0x1b6)](_0x57cb9e(0x20d)),_0x51f1ea=document[_0x57cb9e(0x1b6)]('rsSlotsGrid');_0xd819c[_0x57cb9e(0x214)]='',_0x51f1ea[_0x57cb9e(0x214)]=_0x57cb9e(0x17f);const [_0x4d5212,_0x1656ba]=currentSession[_0x57cb9e(0x20a)][_0x57cb9e(0x277)](':')[_0x57cb9e(0x197)](Number),[_0x1d9617,_0x43c606]=currentSession[_0x57cb9e(0x25c)][_0x57cb9e(0x277)](':')['map'](Number),_0x204890=_0x1d9617*0x3c+_0x43c606-(_0x4d5212*0x3c+_0x1656ba);try{const _0x303633=window[_0x57cb9e(0x270)]?.[_0x57cb9e(0x1b2)],_0x40ba9d=await fetch(API_URL,{'method':_0x57cb9e(0x1c4),'body':JSON[_0x57cb9e(0x1f1)]({'action':_0x57cb9e(0x216),'coachId':currentSession[_0x57cb9e(0x1aa)],'duration':_0x204890,'init_data':_0x303633?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x26f21d=await _0x40ba9d['json']();_0x26f21d['ok']&&_0x26f21d[_0x57cb9e(0x1c1)]?(availableSlotsCache=_0x26f21d['data'],renderRescheduleDates()):_0x51f1ea[_0x57cb9e(0x214)]=_0x57cb9e(0x217);}catch(_0x3e276c){_0x51f1ea[_0x57cb9e(0x214)]=_0x57cb9e(0x258);}}function renderRescheduleDates(){const _0xda710a=a3_0x76494e,_0x199e83=document['getElementById']('rsDatesTrack');_0x199e83[_0xda710a(0x214)]='';const _0x308db5=Object[_0xda710a(0x272)](availableSlotsCache)[_0xda710a(0x233)](),_0x1d6f60=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x308db5[_0xda710a(0x1fa)]===0x0){document[_0xda710a(0x1b6)](_0xda710a(0x1de))[_0xda710a(0x214)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x308db5['forEach']((_0x41c02f,_0x262bd6)=>{const _0xbb9355=_0xda710a,_0x521d25=new Date(_0x41c02f),_0x43cfdd=_0x1d6f60[_0x521d25[_0xbb9355(0x234)]()],_0x2ebfca=_0x521d25[_0xbb9355(0x227)](),_0x3bd7cf=document[_0xbb9355(0x1a3)](_0xbb9355(0x1c5));_0x3bd7cf['className']='rs-date-chip';if(_0x262bd6===0x0)_0x3bd7cf[_0xbb9355(0x232)][_0xbb9355(0x1fb)](_0xbb9355(0x1c0));_0x3bd7cf[_0xbb9355(0x214)]=_0xbb9355(0x24b)+_0x43cfdd+_0xbb9355(0x223)+_0x2ebfca+'</div>',_0x3bd7cf[_0xbb9355(0x256)]=()=>selectRsDate(_0x41c02f,_0x3bd7cf),_0x199e83[_0xbb9355(0x1c6)](_0x3bd7cf);}),selectRsDate(_0x308db5[0x0],_0x199e83[_0xda710a(0x21b)]);}function selectRsDate(_0xdd80c2,_0xc80129){const _0x25fe02=a3_0x76494e;selectedRsDate=_0xdd80c2,document['querySelectorAll'](_0x25fe02(0x1cd))[_0x25fe02(0x19d)](_0x2aa7d7=>_0x2aa7d7[_0x25fe02(0x232)][_0x25fe02(0x26a)]('active'));if(_0xc80129)_0xc80129[_0x25fe02(0x232)][_0x25fe02(0x1fb)](_0x25fe02(0x1c0));const _0x9f0fed=document[_0x25fe02(0x1b6)](_0x25fe02(0x1de));_0x9f0fed[_0x25fe02(0x214)]='';const _0x471875=availableSlotsCache[_0xdd80c2]||[];if(_0x471875[_0x25fe02(0x1fa)]===0x0){_0x9f0fed[_0x25fe02(0x214)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x471875[_0x25fe02(0x19d)](_0x4ed50e=>{const _0x1190b5=_0x25fe02,_0x392170=document[_0x1190b5(0x1a3)](_0x1190b5(0x1e3));_0x392170['className']=_0x1190b5(0x229),_0x392170[_0x1190b5(0x251)]=_0x4ed50e,_0x392170[_0x1190b5(0x256)]=()=>confirmReschedule(_0x4ed50e),_0x9f0fed[_0x1190b5(0x1c6)](_0x392170);});}async function confirmReschedule(_0x18feaf){const _0x28088e=a3_0x76494e,_0xc63480=new Date(selectedRsDate),_0x43ff87=_0xc63480[_0x28088e(0x278)]('ru-RU',{'day':'numeric','month':_0x28088e(0x1d2)}),_0x120533=await showCustomConfirm(_0x28088e(0x21f),_0x28088e(0x1d4)+_0x43ff87+_0x28088e(0x22a)+_0x18feaf+'?',![]);if(!_0x120533)return;closeAllSheets(),showToast(_0x28088e(0x26b)),lastUserActionTime=Date[_0x28088e(0x1e1)]();const _0x3f8480=currentSession['dateStr'],_0x26a630=currentSession['id'],[_0x301244,_0x36b2d9]=currentSession[_0x28088e(0x20a)][_0x28088e(0x277)](':')[_0x28088e(0x197)](Number),[_0x1aa5f5,_0x1a4a08]=currentSession[_0x28088e(0x25c)][_0x28088e(0x277)](':')['map'](Number),_0x115704=_0x1aa5f5*0x3c+_0x1a4a08-(_0x301244*0x3c+_0x36b2d9),[_0x5b0724,_0x554891]=_0x18feaf[_0x28088e(0x277)](':')['map'](Number),_0x5f3be6=_0x5b0724*0x3c+_0x554891+_0x115704,_0x4b6cb4=Math[_0x28088e(0x1bb)](_0x5f3be6/0x3c),_0x28a4a3=_0x5f3be6%0x3c,_0x20eca9=String(_0x4b6cb4)[_0x28088e(0x1be)](0x2,'0')+':'+String(_0x28a4a3)[_0x28088e(0x1be)](0x2,'0'),_0x4925f4=sessions[_0x28088e(0x19f)](_0xed2bba=>_0xed2bba['id']===_0x26a630);_0x4925f4!==-0x1&&(sessions[_0x4925f4][_0x28088e(0x1b3)]=selectedRsDate,sessions[_0x4925f4]['start']=_0x18feaf,sessions[_0x4925f4][_0x28088e(0x25c)]=_0x20eca9,reRenderBlocks());try{const _0x54796e=window[_0x28088e(0x270)]?.[_0x28088e(0x1b2)],_0x41740b=await fetch(API_URL,{'method':_0x28088e(0x1c4),'body':JSON['stringify']({'action':_0x28088e(0x181),'init_data':_0x54796e?.[_0x28088e(0x1f7)]||'','oldSessionId':_0x26a630,'oldDate':_0x3f8480,'newDate':selectedRsDate,'newTime':_0x18feaf,'coachId':currentSession[_0x28088e(0x1aa)]})}),_0x4bd68d=await _0x41740b[_0x28088e(0x1d0)]();!_0x4bd68d['ok']?(showToast(_0x28088e(0x276)),DataManager[_0x28088e(0x18c)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x434fab){showToast(_0x28088e(0x1fe));}}document['addEventListener']('DOMContentLoaded',init);