const a3_0x129b48=a3_0x3fe6;(function(_0x26a9b3,_0x745654){const _0x263f9d=a3_0x3fe6,_0x5b4f28=_0x26a9b3();while(!![]){try{const _0x1797a4=-parseInt(_0x263f9d(0x1b5))/0x1+-parseInt(_0x263f9d(0x1db))/0x2*(-parseInt(_0x263f9d(0x1e5))/0x3)+-parseInt(_0x263f9d(0x220))/0x4*(-parseInt(_0x263f9d(0x1bc))/0x5)+-parseInt(_0x263f9d(0x216))/0x6*(parseInt(_0x263f9d(0x1f3))/0x7)+parseInt(_0x263f9d(0x23d))/0x8*(parseInt(_0x263f9d(0x20a))/0x9)+-parseInt(_0x263f9d(0x158))/0xa+parseInt(_0x263f9d(0x234))/0xb*(parseInt(_0x263f9d(0x1ee))/0xc);if(_0x1797a4===_0x745654)break;else _0x5b4f28['push'](_0x5b4f28['shift']());}catch(_0x3c2985){_0x5b4f28['push'](_0x5b4f28['shift']());}}}(a3_0x5031,0x3f096));const APP_VERSION=a3_0x129b48(0x21a),API_URL=a3_0x129b48(0x155),GRID_H=0x3c,KEY_SESSIONS=a3_0x129b48(0x189),KEY_SETTINGS=a3_0x129b48(0x157),KEY_CLIENTS=a3_0x129b48(0x168);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x129b48(0x1c1),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x48da37=a3_0x129b48,_0x2167e8=(function(){let _0x51242e=!![];return function(_0x1b8aed,_0x1751b0){const _0x363ad5=_0x51242e?function(){const _0x37a3de=a3_0x3fe6;if(_0x1751b0){const _0x4a5844=_0x1751b0[_0x37a3de(0x182)](_0x1b8aed,arguments);return _0x1751b0=null,_0x4a5844;}}:function(){};return _0x51242e=![],_0x363ad5;};}()),_0xdc2744=_0x2167e8(this,function(){const _0x4158de=a3_0x3fe6;return _0xdc2744[_0x4158de(0x1bf)]()['search'](_0x4158de(0x21d))['toString']()['constructor'](_0xdc2744)[_0x4158de(0x1a7)](_0x4158de(0x21d));});_0xdc2744();try{const _0x585d64=window[_0x48da37(0x1c6)]?.[_0x48da37(0x1fa)];if(!_0x585d64)return;_0x585d64['ready'](),_0x585d64['expand']();try{_0x585d64[_0x48da37(0x16f)](_0x48da37(0x207)),_0x585d64[_0x48da37(0x1d2)]&&_0x585d64[_0x48da37(0x1d2)]('#050505');}catch(_0x46cd20){console[_0x48da37(0x16e)]('Error\x20setting\x20color:',_0x46cd20);}try{_0x585d64['BackButton']&&(_0x585d64[_0x48da37(0x1d4)][_0x48da37(0x192)](),_0x585d64[_0x48da37(0x1d4)]['offClick'](),_0x585d64[_0x48da37(0x1d4)]['onClick'](function(){const _0x1983ab=_0x48da37;window[_0x1983ab(0x1b6)][_0x1983ab(0x1de)]=_0x1983ab(0x1e9);}));}catch(_0x48afe2){console['log'](_0x48da37(0x1ce),_0x48afe2);}try{if(_0x585d64['disableVerticalSwipes'])_0x585d64[_0x48da37(0x18d)]();}catch(_0x218239){}}catch(_0x1794ef){console[_0x48da37(0x1a4)]('Critical\x20TMA\x20Error:',_0x1794ef);}}());function isAdmin(){const _0x38c62a=a3_0x129b48;try{const _0x175a02=Number(window[_0x38c62a(0x1c6)]?.['WebApp']?.[_0x38c62a(0x230)]?.['user']?.['id']);return _0x175a02===0xbaf7174;}catch(_0x34ce32){return![];}}const DataManager={'saveLocally'(){const _0x52aa47=a3_0x129b48;try{localStorage[_0x52aa47(0x203)](KEY_SESSIONS,JSON[_0x52aa47(0x21f)](sessions)),localStorage[_0x52aa47(0x203)](KEY_CLIENTS,JSON[_0x52aa47(0x21f)](clients)),localStorage[_0x52aa47(0x203)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2a0345){}},'loadLocal'(){const _0x53ed4e=a3_0x129b48;try{const _0x306954=localStorage[_0x53ed4e(0x194)](KEY_SESSIONS);if(_0x306954)sessions=JSON[_0x53ed4e(0x1f7)](_0x306954);const _0x22ecf5=localStorage[_0x53ed4e(0x194)](KEY_CLIENTS);if(_0x22ecf5)clients=JSON[_0x53ed4e(0x1f7)](_0x22ecf5);const _0x20e3e9=localStorage['getItem'](KEY_SETTINGS);if(_0x20e3e9){const _0x4f235e=JSON[_0x53ed4e(0x1f7)](_0x20e3e9);if(_0x4f235e[_0x53ed4e(0x228)])availabilityPattern=_0x4f235e[_0x53ed4e(0x228)];if(_0x4f235e['ranges'])specialRanges=_0x4f235e[_0x53ed4e(0x170)];if(_0x4f235e[_0x53ed4e(0x213)])dateExceptions=_0x4f235e[_0x53ed4e(0x213)];}}catch(_0x3c00b4){}},async 'syncLoad'(){const _0x12e503=a3_0x129b48,_0x3e6b0f=new Date(),_0x5e2854=_0x3e6b0f[_0x12e503(0x1f4)]()+'-'+String(_0x3e6b0f[_0x12e503(0x1dc)]()+0x1)[_0x12e503(0x1fe)](0x2,'0'),_0x430824=new Date(_0x3e6b0f);_0x430824[_0x12e503(0x152)](_0x3e6b0f[_0x12e503(0x1dc)]()+0x1);const _0x1c94d4=_0x430824[_0x12e503(0x1f4)]()+'-'+String(_0x430824['getMonth']()+0x1)[_0x12e503(0x1fe)](0x2,'0'),_0x487e04=Date['now']();try{const _0x539ab4=window['Telegram']?.['WebApp'],_0x2448db=_0x539ab4?.['initData']||'',[_0x2cb6be,_0x4e293a]=await Promise['all']([fetch(API_URL,{'method':_0x12e503(0x19c),'body':JSON[_0x12e503(0x21f)]({'action':'client_load','init_data':_0x2448db,'month_str':_0x5e2854})})[_0x12e503(0x1cb)](_0x5e5261=>_0x5e5261[_0x12e503(0x1cd)]()),fetch(API_URL,{'method':_0x12e503(0x19c),'body':JSON['stringify']({'action':_0x12e503(0x1b9),'init_data':_0x2448db,'month_str':_0x1c94d4})})['then'](_0x4a6396=>_0x4a6396[_0x12e503(0x1cd)]())]);if(lastUserActionTime>_0x487e04){console[_0x12e503(0x16e)](_0x12e503(0x180));return;}if(_0x2cb6be['ok'])this[_0x12e503(0x22b)](_0x2cb6be[_0x12e503(0x21b)],_0x5e2854);if(_0x4e293a['ok'])this[_0x12e503(0x22b)](_0x4e293a['data'],_0x1c94d4);this['saveLocally']();}catch(_0x1f0c70){}},'applyData'(_0x4924ed,_0x2588a2){const _0x4b5421=a3_0x129b48;if(!_0x4924ed)return;if(_0x4924ed[_0x4b5421(0x239)]){if(_0x4924ed['settings'][_0x4b5421(0x228)])availabilityPattern=_0x4924ed[_0x4b5421(0x239)][_0x4b5421(0x228)];if(_0x4924ed[_0x4b5421(0x239)][_0x4b5421(0x170)])specialRanges=_0x4924ed[_0x4b5421(0x239)]['ranges'];if(_0x4924ed[_0x4b5421(0x239)][_0x4b5421(0x213)])dateExceptions=_0x4924ed[_0x4b5421(0x239)][_0x4b5421(0x213)];}if(_0x4924ed[_0x4b5421(0x145)]&&Array[_0x4b5421(0x1bb)](_0x4924ed[_0x4b5421(0x145)]))clients=_0x4924ed['clients'];_0x4924ed[_0x4b5421(0x14a)]&&(coachProfiles={...coachProfiles,..._0x4924ed[_0x4b5421(0x14a)]}),_0x4924ed['calendar']&&(sessions=sessions[_0x4b5421(0x20c)](_0x278118=>!_0x278118[_0x4b5421(0x190)][_0x4b5421(0x169)](_0x2588a2)),Object[_0x4b5421(0x184)](_0x4924ed[_0x4b5421(0x17e)])[_0x4b5421(0x1fd)](_0x2ffd56=>{const _0x4ae692=_0x4b5421,_0x4f2e20=_0x4924ed[_0x4ae692(0x17e)][_0x2ffd56];_0x4f2e20[_0x4ae692(0x1fd)](_0x2f5159=>{const _0x384dc4=_0x4ae692;sessions['push']({'id':_0x2f5159['i'],'clientId':_0x2f5159['c'],'coachId':_0x2f5159[_0x384dc4(0x17c)],'dateStr':_0x2588a2+'-'+_0x2ffd56[_0x384dc4(0x1fe)](0x2,'0'),'start':_0x2f5159['s'],'end':_0x2f5159['e'],'note':_0x2f5159['n']||'','status':_0x2f5159['st']||_0x384dc4(0x18c),'seriesId':_0x2f5159[_0x384dc4(0x1f1)]});});})),reRenderBlocks();}};function init(){const _0xd3651=a3_0x129b48;DataManager[_0xd3651(0x1a8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xd3651(0x22c)](_0xd3651(0x15c))[_0xd3651(0x19b)](_0xd3651(0x217),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xd3651(0x17b)]();}function renderTimeColumn(){const _0x45a3f7=a3_0x129b48,_0x46409a=document[_0x45a3f7(0x22c)](_0x45a3f7(0x18a)),_0x1b3993=document[_0x45a3f7(0x22c)](_0x45a3f7(0x1c5));_0x46409a[_0x45a3f7(0x176)]='',_0x46409a['appendChild'](_0x1b3993);for(let _0x41882f=0x0;_0x41882f<0x18;_0x41882f++){const _0x2d3cdc=document['createElement'](_0x45a3f7(0x1e8));_0x2d3cdc[_0x45a3f7(0x19f)]=_0x45a3f7(0x212);if(_0x41882f>0x0)_0x2d3cdc[_0x45a3f7(0x176)]='<span>'+String(_0x41882f)['padStart'](0x2,'0')+':00</span>';_0x46409a['appendChild'](_0x2d3cdc);}}function renderDayRange(_0x42c012,_0x19ffcf){const _0x185746=a3_0x129b48,_0xb552ff=document[_0x185746(0x22c)]('daysHeaderTrack'),_0x5148db=document[_0x185746(0x22c)](_0x185746(0x23f)),_0x24b1c9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3fb12f=new Date();_0x3fb12f[_0x185746(0x1b0)](0x0,0x0,0x0,0x0);const _0x32cda0=getLocalDateStr(new Date());for(let _0x5c1794=_0x42c012;_0x5c1794<=_0x19ffcf;_0x5c1794++){const _0x4bcdda=new Date(_0x3fb12f);_0x4bcdda[_0x185746(0x238)](_0x4bcdda[_0x185746(0x15e)]()+_0x5c1794);const _0x4d6a07=getLocalDateStr(_0x4bcdda);let _0x28d8ed=_0x4bcdda[_0x185746(0x1ed)]()-0x1;if(_0x28d8ed===-0x1)_0x28d8ed=0x6;const _0x477aa5=_0x4d6a07===_0x32cda0,_0x3844b9=document[_0x185746(0x18e)](_0x185746(0x1e8));_0x3844b9[_0x185746(0x19f)]=_0x185746(0x179)+(_0x477aa5?_0x185746(0x151):''),_0x3844b9[_0x185746(0x209)](_0x185746(0x21c),_0x4d6a07),_0x3844b9[_0x185746(0x176)]=_0x185746(0x15d)+_0x24b1c9[_0x28d8ed]+_0x185746(0x178)+_0x4bcdda['getDate']()+_0x185746(0x16a),_0xb552ff['appendChild'](_0x3844b9);const _0x212f3e=document[_0x185746(0x18e)](_0x185746(0x1e8));_0x212f3e['className']=_0x185746(0x22f)+(_0x477aa5?_0x185746(0x151):''),_0x212f3e['setAttribute'](_0x185746(0x21c),_0x4d6a07),_0x212f3e['setAttribute'](_0x185746(0x187),_0x28d8ed),_0x5148db['appendChild'](_0x212f3e);}}function reRenderBlocks(){const _0xff826b=a3_0x129b48;document['querySelectorAll'](_0xff826b(0x1f8))['forEach'](_0x5a8f6e=>{const _0x2c794c=_0xff826b;_0x5a8f6e['querySelectorAll'](_0x2c794c(0x1f2))[_0x2c794c(0x1fd)](_0x1829e2=>_0x1829e2['remove']());const _0x596bef=_0x5a8f6e[_0x2c794c(0x154)]('data-date'),_0xf559e=parseInt(_0x5a8f6e[_0x2c794c(0x154)]('data-day-idx')),_0x538a9d=Math[_0x2c794c(0x1f6)](_0x5a8f6e[_0x2c794c(0x15a)]);(availabilityPattern[_0xf559e]||[])[_0x2c794c(0x1fd)](_0x1f6513=>{const _0x7735a7=_0x2c794c,_0x40bd3e=document['createElement'](_0x7735a7(0x1e8));_0x40bd3e[_0x7735a7(0x19f)]=_0x7735a7(0x1c7),_0x40bd3e[_0x7735a7(0x1b2)][_0x7735a7(0x208)]=_0x1f6513*GRID_H+'px',_0x40bd3e[_0x7735a7(0x1b2)][_0x7735a7(0x167)]='-'+_0x538a9d+_0x7735a7(0x159)+_0x1f6513*GRID_H+'px',_0x5a8f6e[_0x7735a7(0x20b)](_0x40bd3e);});if(specialRanges[_0x2c794c(0x166)]>0x0){const _0x27cddf=new Date(_0x596bef+'T00:00:00')[_0x2c794c(0x1e2)](),_0x336f4e=new Date(_0x596bef+'T23:59:59')[_0x2c794c(0x1e2)]();specialRanges['forEach'](_0x4d5be0=>{const _0x3ac4f4=_0x2c794c,_0x1afdd4=new Date(_0x4d5be0[_0x3ac4f4(0x181)])[_0x3ac4f4(0x1e2)](),_0x2252d0=new Date(_0x4d5be0[_0x3ac4f4(0x186)])['getTime'](),_0x36497f=Math['max'](_0x27cddf,_0x1afdd4),_0x119df3=Math['min'](_0x336f4e,_0x2252d0);if(_0x36497f<_0x119df3){const _0x4e0d28=(_0x36497f-_0x27cddf)/0x36ee80*GRID_H,_0x18573f=(_0x119df3-_0x36497f)/0x36ee80*GRID_H,_0x4014a8=document[_0x3ac4f4(0x18e)](_0x3ac4f4(0x1e8));_0x18573f>=23.5*GRID_H?(_0x4014a8['className']='day-off-overlay\x20stripe-bg',_0x4014a8[_0x3ac4f4(0x1b2)][_0x3ac4f4(0x167)]='-'+_0x538a9d+'px\x200px'):(_0x4014a8[_0x3ac4f4(0x19f)]=_0x3ac4f4(0x1e4),_0x4014a8[_0x3ac4f4(0x1b2)]['top']=_0x4e0d28+'px',_0x4014a8['style'][_0x3ac4f4(0x195)]=_0x18573f+'px',_0x4014a8[_0x3ac4f4(0x1b2)][_0x3ac4f4(0x167)]='-'+_0x538a9d+'px\x20-'+_0x4e0d28+'px'),_0x5a8f6e['appendChild'](_0x4014a8);}});}renderEventsForColumn(_0x5a8f6e,_0x596bef);});}function renderEventsForColumn(_0x164e15,_0x26ab14){const _0x37b3ca=a3_0x129b48,_0x154953=sessions[_0x37b3ca(0x20c)](_0x1b90a3=>_0x1b90a3[_0x37b3ca(0x190)]===_0x26ab14),_0x4140c7=_0x154953[_0x37b3ca(0x15f)](_0xf7d858=>{const _0x231f3d=_0x37b3ca,[_0x2ef3ed,_0x3f3e2f]=_0xf7d858[_0x231f3d(0x181)][_0x231f3d(0x1da)](':')[_0x231f3d(0x15f)](Number),[_0x25070e,_0x72b3de]=_0xf7d858[_0x231f3d(0x186)]['split'](':')[_0x231f3d(0x15f)](Number);return{'data':_0xf7d858,'start':_0x2ef3ed*0x3c+_0x3f3e2f,'end':_0x25070e*0x3c+_0x72b3de,'colIndex':0x0};});_0x4140c7[_0x37b3ca(0x215)]((_0x1a6229,_0x3af871)=>_0x1a6229[_0x37b3ca(0x181)]-_0x3af871['start']||_0x3af871[_0x37b3ca(0x186)]-_0x3af871[_0x37b3ca(0x181)]-(_0x1a6229[_0x37b3ca(0x186)]-_0x1a6229[_0x37b3ca(0x181)]));const _0xc3fcaa=[];_0x4140c7[_0x37b3ca(0x1fd)](_0x40e413=>{const _0x418cfc=_0x37b3ca;let _0xb5bba2=![];for(let _0x334745=0x0;_0x334745<_0xc3fcaa[_0x418cfc(0x166)];_0x334745++){const _0x5f0762=_0xc3fcaa[_0x334745];if(_0x40e413['start']>=_0x5f0762[_0x5f0762[_0x418cfc(0x166)]-0x1][_0x418cfc(0x186)]){_0x5f0762[_0x418cfc(0x14f)](_0x40e413),_0x40e413[_0x418cfc(0x14c)]=_0x334745,_0xb5bba2=!![];break;}}!_0xb5bba2&&(_0xc3fcaa[_0x418cfc(0x14f)]([_0x40e413]),_0x40e413['colIndex']=_0xc3fcaa[_0x418cfc(0x166)]-0x1);}),_0x4140c7[_0x37b3ca(0x1fd)](_0x8184bc=>{const _0x191395=_0x37b3ca;let _0x3ed24d=0x0;_0x4140c7[_0x191395(0x1fd)](_0x278ffb=>{const _0x2812be=_0x191395;if(Math[_0x2812be(0x221)](_0x8184bc[_0x2812be(0x181)],_0x278ffb[_0x2812be(0x181)])<Math[_0x2812be(0x224)](_0x8184bc[_0x2812be(0x186)],_0x278ffb['end'])&&_0x278ffb['colIndex']>_0x3ed24d)_0x3ed24d=_0x278ffb[_0x2812be(0x14c)];});const _0x5726f2=_0x3ed24d+0x1,_0x21ac89=0x64/_0x5726f2,_0x42758e=_0x8184bc['colIndex']*_0x21ac89,_0x58c5b8=document[_0x191395(0x18e)](_0x191395(0x1e8)),_0x2ad325=_0x8184bc[_0x191395(0x21b)];let _0xd1c554=_0x191395(0x201);if(clients&&clients[_0x191395(0x166)]>0x0){const _0x1e3110=clients[_0x191395(0x1e0)](_0x38fda6=>String(_0x38fda6['id'])===String(_0x2ad325[_0x191395(0x1e1)]));if(_0x1e3110&&_0x1e3110[_0x191395(0x1c4)])_0xd1c554=_0x1e3110[_0x191395(0x1c4)];}const _0x167b82=_0x2ad325[_0x191395(0x149)]===_0x191395(0x197),_0x5b8656=_0x167b82?0x1:0.45;_0x58c5b8[_0x191395(0x19f)]=_0x191395(0x150)+(_0x167b82?_0x191395(0x1b3):''),_0x58c5b8[_0x191395(0x1b2)][_0x191395(0x1cf)]=hexToRgba(_0xd1c554,_0x5b8656),_0x58c5b8[_0x191395(0x1b2)][_0x191395(0x185)]=_0xd1c554;const _0x3d76fb=_0x8184bc[_0x191395(0x181)]/0x3c*GRID_H,_0x2e23c2=(_0x8184bc['end']-_0x8184bc[_0x191395(0x181)])/0x3c*GRID_H;_0x58c5b8['style'][_0x191395(0x208)]=_0x3d76fb+'px',_0x58c5b8[_0x191395(0x1b2)][_0x191395(0x195)]=Math[_0x191395(0x221)](_0x2e23c2,0x14)+'px',_0x58c5b8[_0x191395(0x1b2)]['width']=_0x191395(0x20e)+_0x21ac89+_0x191395(0x1e3),_0x58c5b8[_0x191395(0x1b2)][_0x191395(0x193)]=_0x191395(0x20e)+_0x42758e+_0x191395(0x1f5),_0x58c5b8[_0x191395(0x1b2)]['zIndex']=0xa+_0x8184bc[_0x191395(0x14c)];if(_0x21ac89<0x55)_0x58c5b8[_0x191395(0x227)][_0x191395(0x1ab)](_0x191395(0x244));let _0x27755d='';if(_0x2ad325[_0x191395(0x14b)])_0x27755d+=_0x191395(0x222);if(_0x167b82)_0x27755d+=_0x191395(0x242);_0x58c5b8[_0x191395(0x176)]=_0x191395(0x226)+_0x2ad325[_0x191395(0x181)]+_0x191395(0x147)+_0x2ad325['end']+_0x191395(0x236)+_0x27755d+_0x191395(0x211),_0x58c5b8[_0x191395(0x1ba)]=_0x2df606=>{const _0x91a342=_0x191395;_0x2df606[_0x91a342(0x1d5)](),openDetails(_0x2ad325);},_0x164e15[_0x191395(0x20b)](_0x58c5b8);});}function openAnalytics(){const _0x5bb56b=a3_0x129b48,_0x3400b4=document['querySelector'](_0x5bb56b(0x202));setAnalyticsPeriod('week',_0x3400b4),openSheet(_0x5bb56b(0x1ff));}function setAnalyticsPeriod(_0x4b8f74,_0x42478b){const _0x49b5fc=a3_0x129b48;currentAnPeriod=_0x4b8f74,document['querySelectorAll'](_0x49b5fc(0x202))['forEach'](_0x447664=>_0x447664[_0x49b5fc(0x227)][_0x49b5fc(0x1f0)]('active'));if(_0x42478b)_0x42478b[_0x49b5fc(0x227)][_0x49b5fc(0x1ab)](_0x49b5fc(0x205));const _0x3bea52=document[_0x49b5fc(0x22c)](_0x49b5fc(0x14d));_0x3bea52['style'][_0x49b5fc(0x1d6)]=_0x4b8f74==='custom'?'flex':'none';const _0x2142a9=new Date();let _0xe7873c=new Date(),_0x2843a6=new Date();if(_0x4b8f74===_0x49b5fc(0x1c1))_0xe7873c=getStartOfWeek(_0x2142a9),_0x2843a6=new Date(_0xe7873c),_0x2843a6[_0x49b5fc(0x238)](_0x2843a6['getDate']()+0x6);else{if(_0x4b8f74===_0x49b5fc(0x1be))_0xe7873c=new Date(_0x2142a9[_0x49b5fc(0x1f4)](),_0x2142a9[_0x49b5fc(0x1dc)](),0x1),_0x2843a6=new Date(_0x2142a9[_0x49b5fc(0x1f4)](),_0x2142a9[_0x49b5fc(0x1dc)]()+0x1,0x0);else{!document[_0x49b5fc(0x22c)](_0x49b5fc(0x1ac))[_0x49b5fc(0x20d)]&&(document[_0x49b5fc(0x22c)](_0x49b5fc(0x1ac))[_0x49b5fc(0x20d)]=getLocalDateStr(_0x2142a9),document['getElementById'](_0x49b5fc(0x191))['value']=getLocalDateStr(_0x2142a9));refreshAnalytics();return;}}document[_0x49b5fc(0x22c)](_0x49b5fc(0x1ac))[_0x49b5fc(0x20d)]=getLocalDateStr(_0xe7873c),document['getElementById'](_0x49b5fc(0x191))[_0x49b5fc(0x20d)]=getLocalDateStr(_0x2843a6),refreshAnalytics();}function refreshAnalytics(){const _0x586b9b=a3_0x129b48,_0x34452e=document[_0x586b9b(0x22c)](_0x586b9b(0x1ac))[_0x586b9b(0x20d)],_0x427081=document[_0x586b9b(0x22c)]('anEnd')['value'];if(!_0x34452e||!_0x427081)return;const _0x3a082f=sessions[_0x586b9b(0x20c)](_0x20f7e2=>_0x20f7e2[_0x586b9b(0x190)]>=_0x34452e&&_0x20f7e2[_0x586b9b(0x190)]<=_0x427081&&_0x20f7e2[_0x586b9b(0x149)]!=='cancelled'),_0x23537d=_0x3a082f[_0x586b9b(0x166)],_0x31e1b6=_0x3a082f[_0x586b9b(0x20c)](_0x13a129=>_0x13a129['status']===_0x586b9b(0x197))['length'],_0x3ddcbe=_0x23537d>0x0?Math[_0x586b9b(0x1f6)](_0x31e1b6/_0x23537d*0x64):0x0;document['getElementById'](_0x586b9b(0x171))[_0x586b9b(0x237)]=_0x3ddcbe+'%',document['getElementById'](_0x586b9b(0x210))[_0x586b9b(0x237)]=_0x31e1b6+'\x20–∏–∑\x20'+_0x23537d+_0x586b9b(0x1a9);const _0x468f6d=document[_0x586b9b(0x22c)](_0x586b9b(0x21e)),_0x1d9a2b=0x2*Math['PI']*0x23,_0x12b4ae=_0x1d9a2b-_0x3ddcbe/0x64*_0x1d9a2b;_0x468f6d['style'][_0x586b9b(0x1b7)]=_0x12b4ae;const _0x512625={};_0x3a082f[_0x586b9b(0x1fd)](_0x29007f=>{const _0x175291=_0x586b9b,_0x2c8701=_0x29007f['coachId']||'Unknown';if(!_0x512625[_0x2c8701]){const _0x1768e5='#'+_0x2c8701[_0x175291(0x1bf)]()['substr'](0x0,0x6);_0x512625[_0x2c8701]={'total':0x0,'done':0x0,'color':_0x1768e5};}_0x512625[_0x2c8701][_0x175291(0x223)]++;if(_0x29007f[_0x175291(0x149)]===_0x175291(0x197))_0x512625[_0x2c8701][_0x175291(0x161)]++;});const _0x58f408=document[_0x586b9b(0x22c)](_0x586b9b(0x1ca));_0x58f408[_0x586b9b(0x176)]='';const _0x188c85=Object[_0x586b9b(0x1aa)](_0x512625)[_0x586b9b(0x215)]((_0x3798d3,_0x531b10)=>_0x531b10[0x1][_0x586b9b(0x223)]-_0x3798d3[0x1][_0x586b9b(0x223)]);if(_0x188c85[_0x586b9b(0x166)]===0x0){_0x58f408['innerHTML']=_0x586b9b(0x1c8);return;}_0x188c85[_0x586b9b(0x1fd)](([_0x21feec,_0x471661])=>{const _0x5f2695=_0x586b9b,_0x431cad=Math['round'](_0x471661[_0x5f2695(0x161)]/_0x471661['total']*0x64),_0x3baabb=document[_0x5f2695(0x18e)]('div');_0x3baabb[_0x5f2695(0x19f)]=_0x5f2695(0x173),_0x3baabb[_0x5f2695(0x1b2)][_0x5f2695(0x185)]=_0x471661['color'],_0x3baabb[_0x5f2695(0x176)]=_0x5f2695(0x20f)+_0x21feec[_0x5f2695(0x22d)](0x0,0x5)+_0x5f2695(0x1ef)+_0x471661[_0x5f2695(0x161)]+_0x5f2695(0x1c0)+_0x471661['total']+_0x5f2695(0x1d9)+_0x431cad+_0x5f2695(0x19d),_0x58f408[_0x5f2695(0x20b)](_0x3baabb);});}function openDetails(_0x1b0f15){const _0x536782=a3_0x129b48;currentSession=_0x1b0f15;const _0x612dd2=new Date(_0x1b0f15[_0x536782(0x190)]),_0x162a34=_0x612dd2[_0x536782(0x241)](_0x536782(0x206),{'weekday':'long','day':_0x536782(0x17f),'month':_0x536782(0x198)});document[_0x536782(0x22c)](_0x536782(0x22a))['textContent']=_0x162a34['charAt'](0x0)[_0x536782(0x1a1)]()+_0x162a34[_0x536782(0x1eb)](0x1),document[_0x536782(0x22c)](_0x536782(0x165))[_0x536782(0x237)]=_0x1b0f15[_0x536782(0x181)]+'\x20-\x20'+_0x1b0f15[_0x536782(0x186)],document[_0x536782(0x22c)](_0x536782(0x23c))[_0x536782(0x237)]=_0x1b0f15[_0x536782(0x1c3)]||_0x536782(0x16b);const _0x8e3707=document[_0x536782(0x22c)](_0x536782(0x1dd)),_0x197784=document[_0x536782(0x22c)](_0x536782(0x148)),_0x5cea17=_0x197784['querySelector'](_0x536782(0x17a)),_0x228ba6=_0x197784[_0x536782(0x146)](_0x536782(0x1a2)),_0x44d691=document[_0x536782(0x22c)](_0x536782(0x23e));if(_0x1b0f15[_0x536782(0x149)]==='completed')_0x8e3707[_0x536782(0x237)]=_0x536782(0x204),_0x8e3707['style'][_0x536782(0x1c4)]=_0x536782(0x1e7),_0x197784['style'][_0x536782(0x1d6)]=_0x536782(0x232);else{_0x8e3707[_0x536782(0x237)]=_0x536782(0x1a3),_0x8e3707[_0x536782(0x1b2)][_0x536782(0x1c4)]=_0x536782(0x1fc),_0x197784[_0x536782(0x1b2)][_0x536782(0x1d6)]=_0x536782(0x175);const _0xd46877=new Date(_0x1b0f15[_0x536782(0x190)]+'T'+_0x1b0f15[_0x536782(0x181)]),_0x392550=new Date(),_0x506431=(_0xd46877-_0x392550)/(0x3e8*0x3c*0x3c),_0x358154=coachProfiles[_0x1b0f15[_0x536782(0x1d7)]]&&coachProfiles[_0x1b0f15[_0x536782(0x1d7)]]['cancel_window']?parseInt(coachProfiles[_0x1b0f15[_0x536782(0x1d7)]][_0x536782(0x1c2)]):0x18;if(_0x358154===0x0||_0x506431>=_0x358154)_0x5cea17[_0x536782(0x1b2)][_0x536782(0x1d6)]=_0x536782(0x175),_0x228ba6['style']['display']=_0x536782(0x175),_0x44d691['style'][_0x536782(0x1d6)]=_0x536782(0x232);else{_0x5cea17['style']['display']=_0x536782(0x232),_0x228ba6[_0x536782(0x1b2)][_0x536782(0x1d6)]=_0x536782(0x232),_0x44d691['style']['display']=_0x536782(0x175);let _0x4329a6=_0x358154===0x0?_0x536782(0x1a6):_0x536782(0x196)+_0x358154+_0x536782(0x1ec);_0x44d691[_0x536782(0x237)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x4329a6+_0x536782(0x1d8);}}document['getElementById'](_0x536782(0x16c))[_0x536782(0x227)][_0x536782(0x1ab)](_0x536782(0x205)),document[_0x536782(0x22c)](_0x536782(0x1ad))['classList']['add'](_0x536782(0x183));}function closeAllSheets(){const _0x3fb9be=a3_0x129b48;document[_0x3fb9be(0x22c)](_0x3fb9be(0x16c))[_0x3fb9be(0x227)][_0x3fb9be(0x1f0)](_0x3fb9be(0x205)),document[_0x3fb9be(0x16d)]('.sheet')['forEach'](_0x30a79a=>_0x30a79a[_0x3fb9be(0x227)][_0x3fb9be(0x1f0)]('open'));}function openSheet(_0x3ba5e3){const _0xe85d7=a3_0x129b48;document[_0xe85d7(0x22c)](_0xe85d7(0x16c))[_0xe85d7(0x227)]['add']('active'),document[_0xe85d7(0x22c)](_0x3ba5e3)['classList'][_0xe85d7(0x1ab)](_0xe85d7(0x183));}function getLocalDateStr(_0x49a69d){const _0x18e959=a3_0x129b48,_0x54d3d5=_0x49a69d[_0x18e959(0x1f4)](),_0x56a951=String(_0x49a69d[_0x18e959(0x1dc)]()+0x1)[_0x18e959(0x1fe)](0x2,'0'),_0x1ff867=String(_0x49a69d[_0x18e959(0x15e)]())[_0x18e959(0x1fe)](0x2,'0');return _0x54d3d5+'-'+_0x56a951+'-'+_0x1ff867;}function getStartOfWeek(_0x451306){const _0x4d4974=a3_0x129b48,_0x37367a=new Date(_0x451306),_0x260b29=_0x37367a[_0x4d4974(0x1ed)](),_0x528797=_0x37367a[_0x4d4974(0x15e)]()-_0x260b29+(_0x260b29===0x0?-0x6:0x1);return _0x37367a[_0x4d4974(0x238)](_0x528797),_0x37367a[_0x4d4974(0x1b0)](0x0,0x0,0x0,0x0),_0x37367a;}function scrollToToday(){const _0x2aa0c4=getLocalDateStr(new Date());setTimeout(()=>{const _0x25af2e=a3_0x3fe6,_0x53a1bf=document['querySelector'](_0x25af2e(0x172)+_0x2aa0c4+'\x22]');if(_0x53a1bf){const _0x544338=document[_0x25af2e(0x22c)](_0x25af2e(0x15c)),_0xdb8541=_0x53a1bf[_0x25af2e(0x15a)]-_0x544338[_0x25af2e(0x23a)]/0x2+_0x53a1bf[_0x25af2e(0x23b)]/0x2;_0x544338['scrollTo']({'left':_0xdb8541,'behavior':_0x25af2e(0x153)}),_0x544338[_0x25af2e(0x1bd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x20ee29=a3_0x129b48,_0x38ca9c=new Date(),_0x51f3a0=document[_0x20ee29(0x22c)](_0x20ee29(0x1ae)),_0x2f1f4a=document['getElementById'](_0x20ee29(0x1c5)),_0x431ed4=(_0x38ca9c[_0x20ee29(0x17d)]()*0x3c+_0x38ca9c[_0x20ee29(0x174)]())/0x3c*GRID_H;_0x51f3a0['style'][_0x20ee29(0x208)]=_0x431ed4+'px',_0x51f3a0[_0x20ee29(0x1b2)][_0x20ee29(0x1d6)]=_0x20ee29(0x175),_0x2f1f4a[_0x20ee29(0x1b2)][_0x20ee29(0x208)]=_0x431ed4+'px',_0x2f1f4a[_0x20ee29(0x1b2)][_0x20ee29(0x1d6)]=_0x20ee29(0x175),_0x2f1f4a[_0x20ee29(0x237)]=String(_0x38ca9c[_0x20ee29(0x17d)]())[_0x20ee29(0x1fe)](0x2,'0')+':'+String(_0x38ca9c[_0x20ee29(0x174)]())[_0x20ee29(0x1fe)](0x2,'0');}function onScroll(){const _0x292f2b=a3_0x129b48,_0x21877f=document[_0x292f2b(0x22c)]('matrixViewport'),_0x2ff275=document[_0x292f2b(0x16d)](_0x292f2b(0x233));for(let _0x3563eb of _0x2ff275)if(_0x3563eb[_0x292f2b(0x15a)]>=_0x21877f[_0x292f2b(0x225)]){const _0x39ef70=new Date(_0x3563eb[_0x292f2b(0x154)]('data-date'));document[_0x292f2b(0x22c)]('headerMonth')['textContent']=_0x39ef70['toLocaleString']('ru',{'month':'long'})[_0x292f2b(0x1a1)]()+'\x20'+_0x39ef70[_0x292f2b(0x1f4)]();break;}}function showToast(_0x46dd8a){const _0x23e577=a3_0x129b48,_0x233e0a=document[_0x23e577(0x22c)](_0x23e577(0x188));_0x233e0a[_0x23e577(0x237)]=_0x46dd8a,_0x233e0a['classList'][_0x23e577(0x1ab)]('show'),setTimeout(()=>_0x233e0a[_0x23e577(0x227)][_0x23e577(0x1f0)](_0x23e577(0x192)),0x7d0);}function handleInfiniteScroll(){const _0x48b586=a3_0x129b48,_0xbf27f5=document[_0x48b586(0x22c)]('matrixViewport'),_0xc30bc8=_0xbf27f5[_0x48b586(0x225)],_0x7126d=_0xbf27f5[_0x48b586(0x1fb)],_0x37df78=_0xbf27f5[_0x48b586(0x23a)];if(_0x7126d-(_0xc30bc8+_0x37df78)<0x12c){const _0x1302ce=endOffset;endOffset+=0xe,renderDayRange(_0x1302ce+0x1,endOffset),reRenderBlocks();}if(_0xc30bc8<0x12c){const _0x3c0126=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3c0126-0x1),_0xbf27f5[_0x48b586(0x225)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1e5caf,_0x156da7){const _0x116c1a=a3_0x129b48,_0x3f1c7c=document['getElementById'](_0x116c1a(0x1f9)),_0x1b8d1e=document[_0x116c1a(0x22c)](_0x116c1a(0x23f)),_0x5a71f6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ed33d=new Date();_0x4ed33d[_0x116c1a(0x1b0)](0x0,0x0,0x0,0x0);const _0x1ad3d9=getLocalDateStr(new Date()),_0x209182=document[_0x116c1a(0x229)](),_0x54a2e1=document['createDocumentFragment']();for(let _0x16552f=_0x1e5caf;_0x16552f<=_0x156da7;_0x16552f++){const _0x38978d=new Date(_0x4ed33d);_0x38978d[_0x116c1a(0x238)](_0x38978d[_0x116c1a(0x15e)]()+_0x16552f);const _0xf48c13=getLocalDateStr(_0x38978d);let _0x5572bd=_0x38978d['getDay']()-0x1;if(_0x5572bd===-0x1)_0x5572bd=0x6;const _0x1052dd=_0xf48c13===_0x1ad3d9,_0x5e94b6=document[_0x116c1a(0x18e)]('div');_0x5e94b6[_0x116c1a(0x19f)]=_0x116c1a(0x179)+(_0x1052dd?_0x116c1a(0x151):''),_0x5e94b6[_0x116c1a(0x209)](_0x116c1a(0x21c),_0xf48c13),_0x5e94b6[_0x116c1a(0x176)]=_0x116c1a(0x15d)+_0x5a71f6[_0x5572bd]+_0x116c1a(0x178)+_0x38978d[_0x116c1a(0x15e)]()+_0x116c1a(0x16a),_0x209182[_0x116c1a(0x20b)](_0x5e94b6);const _0x42b259=document[_0x116c1a(0x18e)](_0x116c1a(0x1e8));_0x42b259[_0x116c1a(0x19f)]='day-column\x20'+(_0x1052dd?'today':''),_0x42b259[_0x116c1a(0x209)](_0x116c1a(0x21c),_0xf48c13),_0x42b259[_0x116c1a(0x209)](_0x116c1a(0x187),_0x5572bd),_0x54a2e1[_0x116c1a(0x20b)](_0x42b259);}_0x3f1c7c['insertBefore'](_0x209182,_0x3f1c7c['firstChild']),_0x1b8d1e['insertBefore'](_0x54a2e1,_0x1b8d1e[_0x116c1a(0x146)]('.day-column'));}function a3_0x3fe6(_0x3e901a,_0x5d37d3){_0x3e901a=_0x3e901a-0x145;const _0xe0886d=a3_0x5031();let _0x51b688=_0xe0886d[_0x3e901a];return _0x51b688;}function hexToRgba(_0x444767,_0x572211){const _0x47b7cb=a3_0x129b48;let _0x96de86;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x444767))return _0x96de86=_0x444767[_0x47b7cb(0x164)](0x1)[_0x47b7cb(0x1da)](''),_0x96de86[_0x47b7cb(0x166)]==0x3&&(_0x96de86=[_0x96de86[0x0],_0x96de86[0x0],_0x96de86[0x1],_0x96de86[0x1],_0x96de86[0x2],_0x96de86[0x2]]),_0x96de86='0x'+_0x96de86[_0x47b7cb(0x18b)](''),_0x47b7cb(0x231)+[_0x96de86>>0x10&0xff,_0x96de86>>0x8&0xff,_0x96de86&0xff][_0x47b7cb(0x18b)](',')+','+_0x572211+')';return _0x47b7cb(0x19a)+_0x572211+')';}let confirmResolver=null;function showCustomConfirm(_0x478034,_0x1d088c,_0x40e4ca=!![]){const _0x54035e=a3_0x129b48;document[_0x54035e(0x22c)](_0x54035e(0x199))[_0x54035e(0x237)]=_0x478034,document[_0x54035e(0x22c)]('ccText')[_0x54035e(0x237)]=_0x1d088c;const _0x133317=document[_0x54035e(0x22c)]('ccYesBtn');return _0x40e4ca?(_0x133317[_0x54035e(0x1b2)][_0x54035e(0x1c4)]='#ff453a',_0x133317[_0x54035e(0x1b2)][_0x54035e(0x1cc)]='600'):(_0x133317[_0x54035e(0x1b2)]['color']=_0x54035e(0x201),_0x133317[_0x54035e(0x1b2)][_0x54035e(0x1cc)]=_0x54035e(0x1d0)),new Promise(_0x32c92c=>{const _0x55fd18=_0x54035e;confirmResolver=_0x32c92c,document[_0x55fd18(0x22c)](_0x55fd18(0x156))[_0x55fd18(0x227)]['add'](_0x55fd18(0x1b1));});}function resolveCustomConfirm(_0x4646d7){const _0x579d83=a3_0x129b48;document['getElementById'](_0x579d83(0x156))[_0x579d83(0x227)][_0x579d83(0x1f0)](_0x579d83(0x1b1));if(confirmResolver)confirmResolver(_0x4646d7);}async function tryCancelCurrentSession(){const _0x66bde3=a3_0x129b48;if(!currentSession)return;const _0x462727=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x66bde3(0x243),!![]);if(!_0x462727)return;const _0x165b0c=currentSession;closeAllSheets(),sessions=sessions[_0x66bde3(0x20c)](_0x5e08b5=>_0x5e08b5['id']!==_0x165b0c['id']),reRenderBlocks(),showToast(_0x66bde3(0x1c9)),lastUserActionTime=Date[_0x66bde3(0x214)]();try{const _0x392511=window[_0x66bde3(0x1c6)]?.[_0x66bde3(0x1fa)],_0x34fcbe=await fetch(API_URL,{'method':_0x66bde3(0x19c),'body':JSON[_0x66bde3(0x21f)]({'action':_0x66bde3(0x1b8),'init_data':_0x392511?.[_0x66bde3(0x1df)]||'','coachId':_0x165b0c[_0x66bde3(0x1d7)],'dateStr':_0x165b0c[_0x66bde3(0x190)],'sessionId':_0x165b0c['id']})});if(_0x34fcbe['ok'])DataManager[_0x66bde3(0x1d3)]();}catch(_0x56e177){showToast(_0x66bde3(0x14e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x211898=a3_0x129b48;if(!currentSession)return;document[_0x211898(0x22c)](_0x211898(0x1ad))[_0x211898(0x227)]['remove'](_0x211898(0x183)),document[_0x211898(0x22c)](_0x211898(0x1ea))[_0x211898(0x227)][_0x211898(0x1ab)](_0x211898(0x183));const _0x2f74f0=document[_0x211898(0x22c)](_0x211898(0x19e)),_0x5a292c=document[_0x211898(0x22c)](_0x211898(0x15b));_0x2f74f0['innerHTML']='',_0x5a292c['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x46df8b,_0x5dfd1a]=currentSession[_0x211898(0x181)][_0x211898(0x1da)](':')[_0x211898(0x15f)](Number),[_0x4933ba,_0x1107a7]=currentSession[_0x211898(0x186)][_0x211898(0x1da)](':')[_0x211898(0x15f)](Number),_0x2f5190=_0x4933ba*0x3c+_0x1107a7-(_0x46df8b*0x3c+_0x5dfd1a);try{const _0x1ec42c=window[_0x211898(0x1c6)]?.[_0x211898(0x1fa)],_0x1d49ad=await fetch(API_URL,{'method':_0x211898(0x19c),'body':JSON[_0x211898(0x21f)]({'action':_0x211898(0x200),'coachId':currentSession['coachId'],'duration':_0x2f5190,'init_data':_0x1ec42c?.[_0x211898(0x1df)]||'','excludeSessionId':currentSession['id']})}),_0x1c4d20=await _0x1d49ad[_0x211898(0x1cd)]();_0x1c4d20['ok']&&_0x1c4d20[_0x211898(0x21b)]?(availableSlotsCache=_0x1c4d20[_0x211898(0x21b)],renderRescheduleDates()):_0x5a292c[_0x211898(0x176)]=_0x211898(0x1d1);}catch(_0x147176){_0x5a292c[_0x211898(0x176)]=_0x211898(0x1a0);}}function renderRescheduleDates(){const _0x25872e=a3_0x129b48,_0x388bfd=document[_0x25872e(0x22c)](_0x25872e(0x19e));_0x388bfd[_0x25872e(0x176)]='';const _0x522fb3=Object[_0x25872e(0x184)](availableSlotsCache)[_0x25872e(0x215)](),_0x392c22=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x522fb3[_0x25872e(0x166)]===0x0){document[_0x25872e(0x22c)](_0x25872e(0x15b))[_0x25872e(0x176)]=_0x25872e(0x163);return;}_0x522fb3[_0x25872e(0x1fd)]((_0xf0854f,_0x1f51a1)=>{const _0x164364=_0x25872e,_0x448a39=new Date(_0xf0854f),_0x1753d6=_0x392c22[_0x448a39[_0x164364(0x1ed)]()],_0x114dbe=_0x448a39[_0x164364(0x15e)](),_0x1b2283=document[_0x164364(0x18e)](_0x164364(0x1e8));_0x1b2283[_0x164364(0x19f)]=_0x164364(0x1af);if(_0x1f51a1===0x0)_0x1b2283[_0x164364(0x227)][_0x164364(0x1ab)](_0x164364(0x205));_0x1b2283['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x1753d6+_0x164364(0x1a5)+_0x114dbe+_0x164364(0x16a),_0x1b2283[_0x164364(0x1ba)]=()=>selectRsDate(_0xf0854f,_0x1b2283),_0x388bfd[_0x164364(0x20b)](_0x1b2283);}),selectRsDate(_0x522fb3[0x0],_0x388bfd[_0x25872e(0x162)]);}function selectRsDate(_0x3e8828,_0x212b09){const _0x21bd6b=a3_0x129b48;selectedRsDate=_0x3e8828,document[_0x21bd6b(0x16d)](_0x21bd6b(0x219))[_0x21bd6b(0x1fd)](_0x24e354=>_0x24e354[_0x21bd6b(0x227)]['remove'](_0x21bd6b(0x205)));if(_0x212b09)_0x212b09[_0x21bd6b(0x227)]['add'](_0x21bd6b(0x205));const _0x1ae9e6=document[_0x21bd6b(0x22c)](_0x21bd6b(0x15b));_0x1ae9e6['innerHTML']='';const _0x18bbe8=availableSlotsCache[_0x3e8828]||[];if(_0x18bbe8[_0x21bd6b(0x166)]===0x0){_0x1ae9e6[_0x21bd6b(0x176)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x18bbe8['forEach'](_0x529905=>{const _0x36f409=_0x21bd6b,_0x526189=document['createElement']('button');_0x526189['className']=_0x36f409(0x218),_0x526189[_0x36f409(0x237)]=_0x529905,_0x526189[_0x36f409(0x1ba)]=()=>confirmReschedule(_0x529905),_0x1ae9e6['appendChild'](_0x526189);});}async function confirmReschedule(_0x1b0f62){const _0x5ab668=a3_0x129b48,_0x3d5eb3=new Date(selectedRsDate),_0x42e501=_0x3d5eb3[_0x5ab668(0x241)]('ru-RU',{'day':_0x5ab668(0x17f),'month':_0x5ab668(0x198)}),_0x5b19e9=await showCustomConfirm(_0x5ab668(0x240),_0x5ab668(0x1b4)+_0x42e501+_0x5ab668(0x18f)+_0x1b0f62+'?',![]);if(!_0x5b19e9)return;closeAllSheets(),showToast(_0x5ab668(0x160)),lastUserActionTime=Date[_0x5ab668(0x214)]();const _0x3fda4e=currentSession[_0x5ab668(0x190)],_0x2727d3=currentSession['id'],[_0x371483,_0x204d94]=currentSession[_0x5ab668(0x181)]['split'](':')[_0x5ab668(0x15f)](Number),[_0x95ef52,_0x4323f9]=currentSession[_0x5ab668(0x186)]['split'](':')[_0x5ab668(0x15f)](Number),_0x10b134=_0x95ef52*0x3c+_0x4323f9-(_0x371483*0x3c+_0x204d94),[_0x548afc,_0x26491f]=_0x1b0f62[_0x5ab668(0x1da)](':')[_0x5ab668(0x15f)](Number),_0x44c7fc=_0x548afc*0x3c+_0x26491f+_0x10b134,_0x160660=Math['floor'](_0x44c7fc/0x3c),_0x1b5439=_0x44c7fc%0x3c,_0x25b2bb=String(_0x160660)[_0x5ab668(0x1fe)](0x2,'0')+':'+String(_0x1b5439)[_0x5ab668(0x1fe)](0x2,'0'),_0x1c9ef5=sessions['findIndex'](_0x4db68b=>_0x4db68b['id']===_0x2727d3);_0x1c9ef5!==-0x1&&(sessions[_0x1c9ef5]['dateStr']=selectedRsDate,sessions[_0x1c9ef5][_0x5ab668(0x181)]=_0x1b0f62,sessions[_0x1c9ef5][_0x5ab668(0x186)]=_0x25b2bb,reRenderBlocks());try{const _0x4f0018=window[_0x5ab668(0x1c6)]?.[_0x5ab668(0x1fa)],_0x5ea9a8=await fetch(API_URL,{'method':'POST','body':JSON[_0x5ab668(0x21f)]({'action':_0x5ab668(0x22e),'init_data':_0x4f0018?.[_0x5ab668(0x1df)]||'','oldSessionId':_0x2727d3,'oldDate':_0x3fda4e,'newDate':selectedRsDate,'newTime':_0x1b0f62,'coachId':currentSession[_0x5ab668(0x1d7)]})}),_0x353609=await _0x5ea9a8['json']();!_0x353609['ok']?(showToast(_0x5ab668(0x177)),DataManager[_0x5ab668(0x17b)]()):(showToast(_0x5ab668(0x235)),DataManager[_0x5ab668(0x1d3)]());}catch(_0x136a7b){showToast(_0x5ab668(0x14e));}}document[a3_0x129b48(0x19b)](a3_0x129b48(0x1e6),init);function a3_0x5031(){const _0x24e10d=['.day-col-header[data-date=\x22','client-stat-card','getMinutes','block','innerHTML','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','</div><div\x20class=\x22dch-num\x22>','day-col-header\x20','.btn-cancel','syncLoad','cid','getHours','calendar','numeric','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','start','apply','open','keys','borderLeftColor','end','data-day-idx','toast','uc_client_sessions','timeColumn','join','planned','disableVerticalSwipes','createElement','\x20–≤\x20','dateStr','anEnd','show','left','getItem','height','–∑–∞\x20','completed','long','ccTitle','rgba(10,\x20132,\x20255,\x20','addEventListener','POST','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsDatesTrack','className','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','toUpperCase','.btn-reschedule','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','error','</div><div\x20class=\x22rs-day-num\x22>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','search','loadLocal','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','entries','add','anStart','detailsSheet','globalTimeLine','rs-date-chip','setHours','visible','style','\x20status-completed','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','172841OZGJJz','location','strokeDashoffset','client_cancel','client_load','onclick','isArray','72465HOMggq','scrollTop','month','toString','</span>\x20/\x20','week','cancel_window','note','color','timeLineBadge','Telegram','blocked-slot\x20stripe-bg','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–û—Ç–º–µ–Ω–µ–Ω–æ','analyticsList','then','fontWeight','json','Error\x20setting\x20back\x20button:','backgroundColor','600','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','setBackgroundColor','saveLocally','BackButton','stopPropagation','display','coachId','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','split','261646GSjHsy','getMonth','detStatus','href','initData','find','clientId','getTime','%\x20-\x204px)','blocked-range-part\x20stripe-bg','6WzHAVo','DOMContentLoaded','var(--acc-green)','div','router.html','rescheduleSheet','slice','\x20—á.','getDay','7879236ZFUbNq','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','remove','sid','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','28658BZUmSX','getFullYear','%\x20+\x202px)','round','parse','.day-column','daysHeaderTrack','WebApp','scrollWidth','var(--acc-blue)','forEach','padStart','analyticsSheet','get_slots','#0a84ff','.period-switch\x20.p-btn','setItem','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','active','ru-RU','#050505','top','setAttribute','25983zLpLFn','appendChild','filter','value','calc(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','anTotalStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','time-label','exceptions','now','sort','444oZTvCO','scroll','rs-time-btn','.rs-date-chip','v9.5-CLIENT-ANALYTICS','data','data-date','(((.+)+)+)+$','anDonutCircle','stringify','48ryrQHO','max','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','total','min','scrollLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','classList','pattern','createDocumentFragment','detDate','applyData','getElementById','substr','reschedule','day-column\x20','initDataUnsafe','rgba(','none','.day-col-header','11ixveDd','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','setDate','settings','clientWidth','offsetWidth','detNote','232mMmQWQ','cancelHint','gridColumns','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','toLocaleDateString','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','mini','clients','querySelector','\x20-\x20','cancelContainer','status','coach_profiles','seriesId','colIndex','anCustomDates','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','push','event-card','today','setMonth','auto','getAttribute','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','customConfirm','uc_client_settings','4418930KuLROH','px\x20-','offsetLeft','rsSlotsGrid','matrixViewport','<div\x20class=\x22dch-day\x22>','getDate','map','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','done','firstChild','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','substring','detTime','length','backgroundPosition','uc_client_list','startsWith','</div>','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','overlay','querySelectorAll','log','setHeaderColor','ranges','anPercent'];a3_0x5031=function(){return _0x24e10d;};return a3_0x5031();}