const a3_0x25c4d6=a3_0x225e;(function(_0x1b4507,_0x53c676){const _0x20339a=a3_0x225e,_0x292ad1=_0x1b4507();while(!![]){try{const _0x29bc00=-parseInt(_0x20339a(0x206))/0x1*(parseInt(_0x20339a(0x266))/0x2)+parseInt(_0x20339a(0x23a))/0x3+parseInt(_0x20339a(0x296))/0x4+-parseInt(_0x20339a(0x2a4))/0x5+parseInt(_0x20339a(0x2ca))/0x6*(-parseInt(_0x20339a(0x234))/0x7)+-parseInt(_0x20339a(0x26e))/0x8*(-parseInt(_0x20339a(0x205))/0x9)+parseInt(_0x20339a(0x2d9))/0xa;if(_0x29bc00===_0x53c676)break;else _0x292ad1['push'](_0x292ad1['shift']());}catch(_0x5d8bc0){_0x292ad1['push'](_0x292ad1['shift']());}}}(a3_0x44f1,0x885d1));const APP_VERSION=a3_0x25c4d6(0x21e),API_URL=a3_0x25c4d6(0x286),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x25c4d6(0x231),KEY_CLIENTS=a3_0x25c4d6(0x261);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x25c4d6(0x26c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x7d8f2c=a3_0x25c4d6,_0x1b88ed=(function(){let _0x4e936b=!![];return function(_0x46a362,_0x4b5660){const _0x559163=_0x4e936b?function(){const _0x88234c=a3_0x225e;if(_0x4b5660){const _0x44bee9=_0x4b5660[_0x88234c(0x1eb)](_0x46a362,arguments);return _0x4b5660=null,_0x44bee9;}}:function(){};return _0x4e936b=![],_0x559163;};}()),_0x33490e=_0x1b88ed(this,function(){const _0x5ec64d=a3_0x225e;return _0x33490e[_0x5ec64d(0x29c)]()['search'](_0x5ec64d(0x24b))[_0x5ec64d(0x29c)]()[_0x5ec64d(0x299)](_0x33490e)[_0x5ec64d(0x1ec)](_0x5ec64d(0x24b));});_0x33490e();try{const _0x6108c4=window[_0x7d8f2c(0x1e8)]?.['WebApp'];if(!_0x6108c4)return;_0x6108c4[_0x7d8f2c(0x22c)](),_0x6108c4['expand']();try{_0x6108c4[_0x7d8f2c(0x2c3)](_0x7d8f2c(0x29a)),_0x6108c4[_0x7d8f2c(0x267)]&&_0x6108c4[_0x7d8f2c(0x267)](_0x7d8f2c(0x29a));}catch(_0x2e844b){console['log'](_0x7d8f2c(0x24c),_0x2e844b);}try{_0x6108c4['BackButton']&&(_0x6108c4[_0x7d8f2c(0x278)][_0x7d8f2c(0x272)](),_0x6108c4[_0x7d8f2c(0x278)][_0x7d8f2c(0x217)](),_0x6108c4[_0x7d8f2c(0x278)][_0x7d8f2c(0x246)](function(){const _0x3069fc=_0x7d8f2c;window['location'][_0x3069fc(0x1f7)]=_0x3069fc(0x207);}));}catch(_0x14f3f5){console['log'](_0x7d8f2c(0x2ac),_0x14f3f5);}try{if(_0x6108c4[_0x7d8f2c(0x290)])_0x6108c4['disableVerticalSwipes']();}catch(_0x226257){}}catch(_0x51ef01){console[_0x7d8f2c(0x28e)](_0x7d8f2c(0x2dd),_0x51ef01);}}());function isAdmin(){const _0x4594fa=a3_0x25c4d6;try{const _0x29028c=Number(window[_0x4594fa(0x1e8)]?.['WebApp']?.['initDataUnsafe']?.['user']?.['id']);return _0x29028c===0xbaf7174;}catch(_0x64c55c){return![];}}const DataManager={'saveLocally'(){const _0x3b1d9a=a3_0x25c4d6;try{localStorage[_0x3b1d9a(0x2c6)](KEY_SESSIONS,JSON[_0x3b1d9a(0x210)](sessions)),localStorage[_0x3b1d9a(0x2c6)](KEY_CLIENTS,JSON[_0x3b1d9a(0x210)](clients)),localStorage[_0x3b1d9a(0x2c6)](KEY_SETTINGS,JSON[_0x3b1d9a(0x210)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x13d01b){}},'loadLocal'(){const _0x2042fc=a3_0x25c4d6;try{const _0x2f10ab=localStorage[_0x2042fc(0x2df)](KEY_SESSIONS);if(_0x2f10ab)sessions=JSON['parse'](_0x2f10ab);const _0x42ab29=localStorage['getItem'](KEY_CLIENTS);if(_0x42ab29)clients=JSON['parse'](_0x42ab29);const _0x24df4f=localStorage[_0x2042fc(0x2df)](KEY_SETTINGS);if(_0x24df4f){const _0x1bdd81=JSON[_0x2042fc(0x201)](_0x24df4f);if(_0x1bdd81[_0x2042fc(0x2a5)])availabilityPattern=_0x1bdd81[_0x2042fc(0x2a5)];if(_0x1bdd81[_0x2042fc(0x27f)])specialRanges=_0x1bdd81[_0x2042fc(0x27f)];if(_0x1bdd81['exceptions'])dateExceptions=_0x1bdd81[_0x2042fc(0x249)];}}catch(_0xe26e67){}},async 'syncLoad'(){const _0x42913d=a3_0x25c4d6,_0x333a4e=new Date(),_0x2b064d=_0x333a4e['getFullYear']()+'-'+String(_0x333a4e['getMonth']()+0x1)[_0x42913d(0x276)](0x2,'0'),_0x30abfc=new Date(_0x333a4e);_0x30abfc[_0x42913d(0x256)](_0x333a4e[_0x42913d(0x21b)]()+0x1);const _0x39bd5b=_0x30abfc['getFullYear']()+'-'+String(_0x30abfc[_0x42913d(0x21b)]()+0x1)[_0x42913d(0x276)](0x2,'0'),_0x5f1ed6=Date['now']();try{const _0x414010=window[_0x42913d(0x1e8)]?.['WebApp'],_0x2f6b20=_0x414010?.[_0x42913d(0x20d)]||'',[_0x344741,_0x2d2af6]=await Promise[_0x42913d(0x280)]([fetch(API_URL,{'method':_0x42913d(0x2ae),'body':JSON[_0x42913d(0x210)]({'action':_0x42913d(0x215),'init_data':_0x2f6b20,'month_str':_0x2b064d})})['then'](_0x4f43c6=>_0x4f43c6[_0x42913d(0x2b0)]()),fetch(API_URL,{'method':_0x42913d(0x2ae),'body':JSON[_0x42913d(0x210)]({'action':_0x42913d(0x215),'init_data':_0x2f6b20,'month_str':_0x39bd5b})})[_0x42913d(0x203)](_0x5ae856=>_0x5ae856[_0x42913d(0x2b0)]())]);if(lastUserActionTime>_0x5f1ed6){console['log'](_0x42913d(0x288));return;}if(_0x344741['ok'])this[_0x42913d(0x2de)](_0x344741['data'],_0x2b064d);if(_0x2d2af6['ok'])this['applyData'](_0x2d2af6['data'],_0x39bd5b);this[_0x42913d(0x277)]();}catch(_0x8a207a){}},'applyData'(_0x5f4c26,_0x4faa76){const _0x49e302=a3_0x25c4d6;if(!_0x5f4c26)return;if(_0x5f4c26[_0x49e302(0x20c)]){if(_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x2a5)])availabilityPattern=_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x2a5)];if(_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x27f)])specialRanges=_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x27f)];if(_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x249)])dateExceptions=_0x5f4c26[_0x49e302(0x20c)][_0x49e302(0x249)];}if(_0x5f4c26[_0x49e302(0x21f)]&&Array['isArray'](_0x5f4c26[_0x49e302(0x21f)]))clients=_0x5f4c26['clients'];_0x5f4c26[_0x49e302(0x1fb)]&&(coachProfiles={...coachProfiles,..._0x5f4c26[_0x49e302(0x1fb)]}),_0x5f4c26['calendar']&&(sessions=sessions[_0x49e302(0x2e3)](_0x2288d2=>!_0x2288d2[_0x49e302(0x27b)][_0x49e302(0x26f)](_0x4faa76)),Object[_0x49e302(0x216)](_0x5f4c26[_0x49e302(0x226)])['forEach'](_0x53a98d=>{const _0x234e76=_0x49e302,_0x46df3f=_0x5f4c26[_0x234e76(0x226)][_0x53a98d];_0x46df3f[_0x234e76(0x244)](_0x127d9b=>{const _0x5f0c15=_0x234e76;sessions['push']({'id':_0x127d9b['i'],'clientId':_0x127d9b['c'],'coachId':_0x127d9b[_0x5f0c15(0x2c4)],'dateStr':_0x4faa76+'-'+_0x53a98d[_0x5f0c15(0x276)](0x2,'0'),'start':_0x127d9b['s'],'end':_0x127d9b['e'],'note':_0x127d9b['n']||'','status':_0x127d9b['st']||_0x5f0c15(0x262),'seriesId':_0x127d9b[_0x5f0c15(0x293)]});});})),reRenderBlocks();}};function init(){const _0x59500c=a3_0x25c4d6;DataManager[_0x59500c(0x1f2)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x59500c(0x27e)](_0x59500c(0x2ce))[_0x59500c(0x238)](_0x59500c(0x1fd),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x59500c(0x264)]();}function renderTimeColumn(){const _0x4c8bd8=a3_0x25c4d6,_0x5bc279=document[_0x4c8bd8(0x27e)](_0x4c8bd8(0x2b4)),_0x49c940=document[_0x4c8bd8(0x27e)]('timeLineBadge');_0x5bc279[_0x4c8bd8(0x2c8)]='',_0x5bc279[_0x4c8bd8(0x2c5)](_0x49c940);for(let _0x1e97ec=0x0;_0x1e97ec<0x18;_0x1e97ec++){const _0x5b777a=document['createElement'](_0x4c8bd8(0x1ee));_0x5b777a[_0x4c8bd8(0x270)]=_0x4c8bd8(0x20f);if(_0x1e97ec>0x0)_0x5b777a[_0x4c8bd8(0x2c8)]='<span>'+String(_0x1e97ec)[_0x4c8bd8(0x276)](0x2,'0')+_0x4c8bd8(0x236);_0x5bc279[_0x4c8bd8(0x2c5)](_0x5b777a);}}function renderDayRange(_0x545b6f,_0x2dfd36){const _0x16dec1=a3_0x25c4d6,_0x688aa8=document['getElementById'](_0x16dec1(0x208)),_0x5186e6=document['getElementById'](_0x16dec1(0x2a1)),_0x1e0bbf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bc07a=new Date();_0x1bc07a['setHours'](0x0,0x0,0x0,0x0);const _0x2a3dac=getLocalDateStr(new Date());for(let _0x53f303=_0x545b6f;_0x53f303<=_0x2dfd36;_0x53f303++){const _0x60d3f1=new Date(_0x1bc07a);_0x60d3f1[_0x16dec1(0x212)](_0x60d3f1[_0x16dec1(0x1fa)]()+_0x53f303);const _0x4e8edf=getLocalDateStr(_0x60d3f1);let _0xb63a7=_0x60d3f1[_0x16dec1(0x24f)]()-0x1;if(_0xb63a7===-0x1)_0xb63a7=0x6;const _0x534a5b=_0x4e8edf===_0x2a3dac,_0x53c16d=document['createElement']('div');_0x53c16d['className']='day-col-header\x20'+(_0x534a5b?_0x16dec1(0x2c9):''),_0x53c16d[_0x16dec1(0x220)](_0x16dec1(0x28c),_0x4e8edf),_0x53c16d[_0x16dec1(0x2c8)]=_0x16dec1(0x282)+_0x1e0bbf[_0xb63a7]+'</div><div\x20class=\x22dch-num\x22>'+_0x60d3f1[_0x16dec1(0x1fa)]()+_0x16dec1(0x26d),_0x688aa8[_0x16dec1(0x2c5)](_0x53c16d);const _0x15873c=document['createElement'](_0x16dec1(0x1ee));_0x15873c[_0x16dec1(0x270)]=_0x16dec1(0x2bc)+(_0x534a5b?_0x16dec1(0x2c9):''),_0x15873c[_0x16dec1(0x220)](_0x16dec1(0x28c),_0x4e8edf),_0x15873c[_0x16dec1(0x220)](_0x16dec1(0x2a2),_0xb63a7),_0x5186e6[_0x16dec1(0x2c5)](_0x15873c);}}function reRenderBlocks(){const _0x453690=a3_0x25c4d6;document[_0x453690(0x1ed)](_0x453690(0x21a))['forEach'](_0x55011b=>{const _0x28c21d=_0x453690;_0x55011b[_0x28c21d(0x1ed)](_0x28c21d(0x2a7))[_0x28c21d(0x244)](_0x14566b=>_0x14566b[_0x28c21d(0x2e5)]());const _0x46a551=_0x55011b['getAttribute'](_0x28c21d(0x28c)),_0x3d4863=parseInt(_0x55011b[_0x28c21d(0x2dc)]('data-day-idx')),_0x33262d=Math[_0x28c21d(0x2d1)](_0x55011b[_0x28c21d(0x200)]);(availabilityPattern[_0x3d4863]||[])[_0x28c21d(0x244)](_0x5e6dff=>{const _0x2ea35b=_0x28c21d,_0x1b57cd=document[_0x2ea35b(0x29b)]('div');_0x1b57cd[_0x2ea35b(0x270)]=_0x2ea35b(0x2e7),_0x1b57cd[_0x2ea35b(0x2ad)][_0x2ea35b(0x283)]=_0x5e6dff*GRID_H+'px',_0x1b57cd[_0x2ea35b(0x2ad)][_0x2ea35b(0x2bf)]='-'+_0x33262d+_0x2ea35b(0x28d)+_0x5e6dff*GRID_H+'px',_0x55011b[_0x2ea35b(0x2c5)](_0x1b57cd);});if(specialRanges[_0x28c21d(0x1f1)]>0x0){const _0x3d3dd9=new Date(_0x46a551+_0x28c21d(0x265))[_0x28c21d(0x2a3)](),_0x565cb8=new Date(_0x46a551+'T23:59:59')[_0x28c21d(0x2a3)]();specialRanges[_0x28c21d(0x244)](_0x78ea95=>{const _0x5b8bd9=_0x28c21d,_0x5ef386=new Date(_0x78ea95[_0x5b8bd9(0x23d)])['getTime'](),_0x397bde=new Date(_0x78ea95[_0x5b8bd9(0x233)])['getTime'](),_0x536e70=Math[_0x5b8bd9(0x219)](_0x3d3dd9,_0x5ef386),_0x235b6a=Math[_0x5b8bd9(0x1f4)](_0x565cb8,_0x397bde);if(_0x536e70<_0x235b6a){const _0x6315b2=(_0x536e70-_0x3d3dd9)/0x36ee80*GRID_H,_0x4d6ada=(_0x235b6a-_0x536e70)/0x36ee80*GRID_H,_0x52a963=document[_0x5b8bd9(0x29b)](_0x5b8bd9(0x1ee));_0x4d6ada>=23.5*GRID_H?(_0x52a963[_0x5b8bd9(0x270)]=_0x5b8bd9(0x248),_0x52a963[_0x5b8bd9(0x2ad)][_0x5b8bd9(0x2bf)]='-'+_0x33262d+'px\x200px'):(_0x52a963[_0x5b8bd9(0x270)]=_0x5b8bd9(0x258),_0x52a963[_0x5b8bd9(0x2ad)][_0x5b8bd9(0x283)]=_0x6315b2+'px',_0x52a963[_0x5b8bd9(0x2ad)]['height']=_0x4d6ada+'px',_0x52a963[_0x5b8bd9(0x2ad)]['backgroundPosition']='-'+_0x33262d+'px\x20-'+_0x6315b2+'px'),_0x55011b[_0x5b8bd9(0x2c5)](_0x52a963);}});}renderEventsForColumn(_0x55011b,_0x46a551);});}function renderEventsForColumn(_0x160352,_0x1c0eb0){const _0x22f9c6=a3_0x25c4d6,_0xb2e2e=sessions[_0x22f9c6(0x2e3)](_0x3ea416=>_0x3ea416[_0x22f9c6(0x27b)]===_0x1c0eb0),_0x2ee62b=_0xb2e2e[_0x22f9c6(0x2cb)](_0x6b9a85=>{const _0x2f10bb=_0x22f9c6,[_0x2309db,_0x1d5cbe]=_0x6b9a85[_0x2f10bb(0x23d)][_0x2f10bb(0x1ef)](':')['map'](Number),[_0x238b33,_0x580dd0]=_0x6b9a85['end'][_0x2f10bb(0x1ef)](':')[_0x2f10bb(0x2cb)](Number);return{'data':_0x6b9a85,'start':_0x2309db*0x3c+_0x1d5cbe,'end':_0x238b33*0x3c+_0x580dd0,'colIndex':0x0};});_0x2ee62b[_0x22f9c6(0x29e)]((_0x26c1c7,_0xe23d5b)=>_0x26c1c7[_0x22f9c6(0x23d)]-_0xe23d5b['start']||_0xe23d5b['end']-_0xe23d5b[_0x22f9c6(0x23d)]-(_0x26c1c7[_0x22f9c6(0x233)]-_0x26c1c7[_0x22f9c6(0x23d)]));const _0x3c0795=[];_0x2ee62b[_0x22f9c6(0x244)](_0x14b3e7=>{const _0x1783fb=_0x22f9c6;let _0xe8fc43=![];for(let _0x12544f=0x0;_0x12544f<_0x3c0795[_0x1783fb(0x1f1)];_0x12544f++){const _0x5e2b15=_0x3c0795[_0x12544f];if(_0x14b3e7[_0x1783fb(0x23d)]>=_0x5e2b15[_0x5e2b15['length']-0x1][_0x1783fb(0x233)]){_0x5e2b15['push'](_0x14b3e7),_0x14b3e7[_0x1783fb(0x242)]=_0x12544f,_0xe8fc43=!![];break;}}!_0xe8fc43&&(_0x3c0795[_0x1783fb(0x26b)]([_0x14b3e7]),_0x14b3e7['colIndex']=_0x3c0795[_0x1783fb(0x1f1)]-0x1);}),_0x2ee62b[_0x22f9c6(0x244)](_0x35dbee=>{const _0x19721f=_0x22f9c6;let _0x585e02=0x0;_0x2ee62b[_0x19721f(0x244)](_0x873b18=>{const _0x3b64cc=_0x19721f;if(Math[_0x3b64cc(0x219)](_0x35dbee[_0x3b64cc(0x23d)],_0x873b18[_0x3b64cc(0x23d)])<Math['min'](_0x35dbee[_0x3b64cc(0x233)],_0x873b18[_0x3b64cc(0x233)])&&_0x873b18[_0x3b64cc(0x242)]>_0x585e02)_0x585e02=_0x873b18[_0x3b64cc(0x242)];});const _0x5e5c89=_0x585e02+0x1,_0x50a9a2=0x64/_0x5e5c89,_0x142436=_0x35dbee[_0x19721f(0x242)]*_0x50a9a2,_0x31ba2a=document[_0x19721f(0x29b)]('div'),_0x516c1d=_0x35dbee['data'];let _0x133b75='#0a84ff';if(clients&&clients[_0x19721f(0x1f1)]>0x0){const _0x502ede=clients[_0x19721f(0x2b5)](_0x3c7f82=>String(_0x3c7f82['id'])===String(_0x516c1d[_0x19721f(0x222)]));if(_0x502ede&&_0x502ede['color'])_0x133b75=_0x502ede[_0x19721f(0x260)];}const _0x5dae04=_0x516c1d[_0x19721f(0x2b7)]===_0x19721f(0x240),_0x324fb8=_0x5dae04?0x1:0.45;_0x31ba2a[_0x19721f(0x270)]=_0x19721f(0x247)+(_0x5dae04?_0x19721f(0x245):''),_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x2d0)]=hexToRgba(_0x133b75,_0x324fb8),_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x2e8)]=_0x133b75;const _0x58d570=_0x35dbee[_0x19721f(0x23d)]/0x3c*GRID_H,_0x417472=(_0x35dbee[_0x19721f(0x233)]-_0x35dbee[_0x19721f(0x23d)])/0x3c*GRID_H;_0x31ba2a[_0x19721f(0x2ad)]['top']=_0x58d570+'px',_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x2b3)]=Math[_0x19721f(0x219)](_0x417472,0x14)+'px',_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x2e0)]=_0x19721f(0x250)+_0x50a9a2+_0x19721f(0x21c),_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x202)]=_0x19721f(0x250)+_0x142436+_0x19721f(0x294),_0x31ba2a[_0x19721f(0x2ad)][_0x19721f(0x20b)]=0xa+_0x35dbee[_0x19721f(0x242)];if(_0x50a9a2<0x55)_0x31ba2a['classList']['add'](_0x19721f(0x2e2));let _0x43e5a9='';if(_0x516c1d['seriesId'])_0x43e5a9+=_0x19721f(0x275);if(_0x5dae04)_0x43e5a9+=_0x19721f(0x22d);_0x31ba2a[_0x19721f(0x2c8)]=_0x19721f(0x227)+_0x516c1d[_0x19721f(0x23d)]+_0x19721f(0x25d)+_0x516c1d['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43e5a9+_0x19721f(0x25c),_0x31ba2a['onclick']=_0x38e3de=>{const _0x495979=_0x19721f;_0x38e3de[_0x495979(0x1f8)](),openDetails(_0x516c1d);},_0x160352[_0x19721f(0x2c5)](_0x31ba2a);});}function openAnalytics(){const _0x4efffe=a3_0x25c4d6,_0x3c643c=document[_0x4efffe(0x1e9)](_0x4efffe(0x271));setAnalyticsPeriod(_0x4efffe(0x26c),_0x3c643c),openSheet(_0x4efffe(0x284));}function setAnalyticsPeriod(_0xab1263,_0x366d12){const _0x5d9f67=a3_0x25c4d6;currentAnPeriod=_0xab1263,document[_0x5d9f67(0x1ed)](_0x5d9f67(0x271))[_0x5d9f67(0x244)](_0x31814a=>_0x31814a['classList'][_0x5d9f67(0x2e5)](_0x5d9f67(0x1f3)));if(_0x366d12)_0x366d12[_0x5d9f67(0x23e)][_0x5d9f67(0x252)](_0x5d9f67(0x1f3));const _0x5dcc8a=document[_0x5d9f67(0x27e)](_0x5d9f67(0x25b));_0x5dcc8a['style'][_0x5d9f67(0x2cf)]=_0xab1263===_0x5d9f67(0x1f6)?_0x5d9f67(0x1f9):_0x5d9f67(0x27c);const _0x297e1c=new Date();let _0x2c06be=new Date(),_0x384041=new Date();if(_0xab1263==='week')_0x2c06be=getStartOfWeek(_0x297e1c),_0x384041=new Date(_0x2c06be),_0x384041['setDate'](_0x384041[_0x5d9f67(0x1fa)]()+0x6);else{if(_0xab1263===_0x5d9f67(0x268))_0x2c06be=new Date(_0x297e1c[_0x5d9f67(0x1fc)](),_0x297e1c[_0x5d9f67(0x21b)](),0x1),_0x384041=new Date(_0x297e1c[_0x5d9f67(0x1fc)](),_0x297e1c[_0x5d9f67(0x21b)]()+0x1,0x0);else{!document[_0x5d9f67(0x27e)]('anStart')[_0x5d9f67(0x2a8)]&&(document[_0x5d9f67(0x27e)]('anStart')[_0x5d9f67(0x2a8)]=getLocalDateStr(_0x297e1c),document[_0x5d9f67(0x27e)](_0x5d9f67(0x2ba))['value']=getLocalDateStr(_0x297e1c));refreshAnalytics();return;}}document[_0x5d9f67(0x27e)](_0x5d9f67(0x251))[_0x5d9f67(0x2a8)]=getLocalDateStr(_0x2c06be),document[_0x5d9f67(0x27e)](_0x5d9f67(0x2ba))[_0x5d9f67(0x2a8)]=getLocalDateStr(_0x384041),refreshAnalytics();}function refreshAnalytics(){const _0x4bcd2c=a3_0x25c4d6,_0xe1b1a4=document[_0x4bcd2c(0x27e)]('anStart')['value'],_0x3f65e0=document['getElementById'](_0x4bcd2c(0x2ba))[_0x4bcd2c(0x2a8)];if(!_0xe1b1a4||!_0x3f65e0)return;const _0x330369=sessions['filter'](_0x5a170c=>_0x5a170c[_0x4bcd2c(0x27b)]>=_0xe1b1a4&&_0x5a170c[_0x4bcd2c(0x27b)]<=_0x3f65e0&&_0x5a170c[_0x4bcd2c(0x2b7)]!==_0x4bcd2c(0x287)),_0x59353c=_0x330369['length'],_0x5d625f=_0x330369[_0x4bcd2c(0x2e3)](_0x568d14=>_0x568d14[_0x4bcd2c(0x2b7)]===_0x4bcd2c(0x240))[_0x4bcd2c(0x1f1)],_0x106250=_0x59353c>0x0?Math[_0x4bcd2c(0x2d1)](_0x5d625f/_0x59353c*0x64):0x0;document[_0x4bcd2c(0x27e)](_0x4bcd2c(0x2d6))[_0x4bcd2c(0x23f)]=_0x106250+'%',document[_0x4bcd2c(0x27e)](_0x4bcd2c(0x2b8))[_0x4bcd2c(0x23f)]=_0x5d625f+_0x4bcd2c(0x21d)+_0x59353c+_0x4bcd2c(0x23b);const _0x6bc56d=document['getElementById'](_0x4bcd2c(0x2d7)),_0x5e03e7=0x2*Math['PI']*0x23,_0x356c1d=_0x5e03e7-_0x106250/0x64*_0x5e03e7;_0x6bc56d[_0x4bcd2c(0x2ad)][_0x4bcd2c(0x27a)]=_0x356c1d;const _0x228b26={};_0x330369['forEach'](_0x1f9ac5=>{const _0x4a0b60=_0x4bcd2c,_0x4ad289=_0x1f9ac5[_0x4a0b60(0x243)]||'Unknown';if(!_0x228b26[_0x4ad289]){const _0x3e891c='#'+_0x4ad289[_0x4a0b60(0x29c)]()['substr'](0x0,0x6);_0x228b26[_0x4ad289]={'total':0x0,'done':0x0,'color':_0x3e891c};}_0x228b26[_0x4ad289][_0x4a0b60(0x298)]++;if(_0x1f9ac5[_0x4a0b60(0x2b7)]===_0x4a0b60(0x240))_0x228b26[_0x4ad289][_0x4a0b60(0x2cd)]++;});const _0x3e256d=document[_0x4bcd2c(0x27e)](_0x4bcd2c(0x285));_0x3e256d[_0x4bcd2c(0x2c8)]='';const _0x3336a5=Object[_0x4bcd2c(0x28f)](_0x228b26)[_0x4bcd2c(0x29e)]((_0x5b5e31,_0x560018)=>_0x560018[0x1][_0x4bcd2c(0x298)]-_0x5b5e31[0x1][_0x4bcd2c(0x298)]);if(_0x3336a5[_0x4bcd2c(0x1f1)]===0x0){_0x3e256d['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3336a5[_0x4bcd2c(0x244)](([_0x2ee104,_0xb2e22c])=>{const _0x59b841=_0x4bcd2c,_0x55852e=Math[_0x59b841(0x2d1)](_0xb2e22c['done']/_0xb2e22c[_0x59b841(0x298)]*0x64),_0x5849af=document[_0x59b841(0x29b)](_0x59b841(0x1ee));_0x5849af['className']='client-stat-card',_0x5849af['style']['borderLeftColor']=_0xb2e22c[_0x59b841(0x260)],_0x5849af[_0x59b841(0x2c8)]=_0x59b841(0x2d5)+_0x2ee104[_0x59b841(0x257)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0xb2e22c[_0x59b841(0x2cd)]+_0x59b841(0x24e)+_0xb2e22c['total']+_0x59b841(0x2d3)+_0x55852e+_0x59b841(0x225),_0x3e256d['appendChild'](_0x5849af);});}function openDetails(_0x18294b){const _0x5980b5=a3_0x25c4d6;currentSession=_0x18294b;const _0x25983a=new Date(_0x18294b[_0x5980b5(0x27b)]),_0x508c52=_0x25983a[_0x5980b5(0x2aa)](_0x5980b5(0x2c7),{'weekday':_0x5980b5(0x229),'day':_0x5980b5(0x232),'month':_0x5980b5(0x229)});document[_0x5980b5(0x27e)](_0x5980b5(0x211))[_0x5980b5(0x23f)]=_0x508c52[_0x5980b5(0x2e1)](0x0)[_0x5980b5(0x289)]()+_0x508c52[_0x5980b5(0x28b)](0x1),document[_0x5980b5(0x27e)](_0x5980b5(0x292))[_0x5980b5(0x23f)]=_0x18294b[_0x5980b5(0x23d)]+_0x5980b5(0x25d)+_0x18294b[_0x5980b5(0x233)],document[_0x5980b5(0x27e)](_0x5980b5(0x253))[_0x5980b5(0x23f)]=_0x18294b[_0x5980b5(0x239)]||_0x5980b5(0x2d2);const _0x234046=document[_0x5980b5(0x27e)](_0x5980b5(0x2b2)),_0x4c20b3=document[_0x5980b5(0x27e)](_0x5980b5(0x209)),_0x315ed=_0x4c20b3[_0x5980b5(0x1e9)]('.btn-cancel'),_0x5ab6a5=_0x4c20b3['querySelector'](_0x5980b5(0x25f)),_0x578eda=document[_0x5980b5(0x27e)](_0x5980b5(0x24a));if(_0x18294b[_0x5980b5(0x2b7)]==='completed')_0x234046[_0x5980b5(0x23f)]=_0x5980b5(0x23c),_0x234046['style'][_0x5980b5(0x260)]=_0x5980b5(0x2e6),_0x4c20b3[_0x5980b5(0x2ad)][_0x5980b5(0x2cf)]='none';else{_0x234046[_0x5980b5(0x23f)]=_0x5980b5(0x291),_0x234046[_0x5980b5(0x2ad)][_0x5980b5(0x260)]=_0x5980b5(0x29f),_0x4c20b3[_0x5980b5(0x2ad)][_0x5980b5(0x2cf)]=_0x5980b5(0x28a);const _0xfdec33=new Date(_0x18294b[_0x5980b5(0x27b)]+'T'+_0x18294b[_0x5980b5(0x23d)]),_0x3a2906=new Date(),_0x567c57=(_0xfdec33-_0x3a2906)/(0x3e8*0x3c*0x3c),_0x9e0a74=coachProfiles[_0x18294b[_0x5980b5(0x243)]]&&coachProfiles[_0x18294b[_0x5980b5(0x243)]][_0x5980b5(0x2bd)]?parseInt(coachProfiles[_0x18294b[_0x5980b5(0x243)]]['cancel_window']):0x18;if(_0x9e0a74===0x0||_0x567c57>=_0x9e0a74)_0x315ed['style'][_0x5980b5(0x2cf)]=_0x5980b5(0x28a),_0x5ab6a5['style']['display']='block',_0x578eda[_0x5980b5(0x2ad)]['display']=_0x5980b5(0x27c);else{_0x315ed['style'][_0x5980b5(0x2cf)]=_0x5980b5(0x27c),_0x5ab6a5[_0x5980b5(0x2ad)][_0x5980b5(0x2cf)]=_0x5980b5(0x27c),_0x578eda[_0x5980b5(0x2ad)][_0x5980b5(0x2cf)]=_0x5980b5(0x28a);let _0xdcb66b=_0x9e0a74===0x0?_0x5980b5(0x263):_0x5980b5(0x2c1)+_0x9e0a74+_0x5980b5(0x237);_0x578eda[_0x5980b5(0x23f)]=_0x5980b5(0x254)+_0xdcb66b+_0x5980b5(0x230);}}document[_0x5980b5(0x27e)](_0x5980b5(0x295))[_0x5980b5(0x23e)][_0x5980b5(0x252)](_0x5980b5(0x1f3)),document['getElementById'](_0x5980b5(0x2c2))[_0x5980b5(0x23e)][_0x5980b5(0x252)]('open');}function closeAllSheets(){const _0x467c8a=a3_0x25c4d6;document['getElementById'](_0x467c8a(0x295))[_0x467c8a(0x23e)][_0x467c8a(0x2e5)](_0x467c8a(0x1f3)),document['querySelectorAll'](_0x467c8a(0x1f5))['forEach'](_0x555ad9=>_0x555ad9[_0x467c8a(0x23e)][_0x467c8a(0x2e5)](_0x467c8a(0x2b1)));}function openSheet(_0x3a27fe){const _0x426b28=a3_0x25c4d6;document['getElementById'](_0x426b28(0x295))[_0x426b28(0x23e)]['add'](_0x426b28(0x1f3)),document[_0x426b28(0x27e)](_0x3a27fe)[_0x426b28(0x23e)][_0x426b28(0x252)](_0x426b28(0x2b1));}function getLocalDateStr(_0x22b181){const _0x1d5003=a3_0x25c4d6,_0x926e8=_0x22b181['getFullYear'](),_0x475f6a=String(_0x22b181[_0x1d5003(0x21b)]()+0x1)['padStart'](0x2,'0'),_0x84f165=String(_0x22b181[_0x1d5003(0x1fa)]())[_0x1d5003(0x276)](0x2,'0');return _0x926e8+'-'+_0x475f6a+'-'+_0x84f165;}function a3_0x225e(_0xc66ab8,_0x2738ff){_0xc66ab8=_0xc66ab8-0x1e7;const _0x4471d2=a3_0x44f1();let _0x22fdbd=_0x4471d2[_0xc66ab8];return _0x22fdbd;}function getStartOfWeek(_0x64dd31){const _0x57a278=a3_0x25c4d6,_0x6e8bb8=new Date(_0x64dd31),_0xa345a4=_0x6e8bb8[_0x57a278(0x24f)](),_0x3def57=_0x6e8bb8[_0x57a278(0x1fa)]()-_0xa345a4+(_0xa345a4===0x0?-0x6:0x1);return _0x6e8bb8['setDate'](_0x3def57),_0x6e8bb8['setHours'](0x0,0x0,0x0,0x0),_0x6e8bb8;}function scrollToToday(){const _0x316e2f=getLocalDateStr(new Date());setTimeout(()=>{const _0x47c3c2=a3_0x225e,_0x16f17d=document['querySelector'](_0x47c3c2(0x273)+_0x316e2f+'\x22]');if(_0x16f17d){const _0xb8110d=document[_0x47c3c2(0x27e)](_0x47c3c2(0x2ce)),_0x54c254=_0x16f17d[_0x47c3c2(0x200)]-_0xb8110d['clientWidth']/0x2+_0x16f17d[_0x47c3c2(0x2d8)]/0x2;_0xb8110d['scrollTo']({'left':_0x54c254,'behavior':_0x47c3c2(0x228)}),_0xb8110d['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xe57817=a3_0x25c4d6,_0x48382b=new Date(),_0x542387=document['getElementById'](_0xe57817(0x259)),_0x4d6112=document['getElementById'](_0xe57817(0x2bb)),_0x563219=(_0x48382b[_0xe57817(0x255)]()*0x3c+_0x48382b[_0xe57817(0x297)]())/0x3c*GRID_H;_0x542387[_0xe57817(0x2ad)]['top']=_0x563219+'px',_0x542387['style'][_0xe57817(0x2cf)]=_0xe57817(0x28a),_0x4d6112['style'][_0xe57817(0x283)]=_0x563219+'px',_0x4d6112[_0xe57817(0x2ad)][_0xe57817(0x2cf)]=_0xe57817(0x28a),_0x4d6112[_0xe57817(0x23f)]=String(_0x48382b[_0xe57817(0x255)]())[_0xe57817(0x276)](0x2,'0')+':'+String(_0x48382b['getMinutes']())[_0xe57817(0x276)](0x2,'0');}function onScroll(){const _0x35eb55=a3_0x25c4d6,_0x27f106=document[_0x35eb55(0x27e)](_0x35eb55(0x2ce)),_0x2f1565=document['querySelectorAll'](_0x35eb55(0x27d));for(let _0x47ef09 of _0x2f1565)if(_0x47ef09[_0x35eb55(0x200)]>=_0x27f106[_0x35eb55(0x204)]){const _0x2467d1=new Date(_0x47ef09[_0x35eb55(0x2dc)](_0x35eb55(0x28c)));document[_0x35eb55(0x27e)]('headerMonth')[_0x35eb55(0x23f)]=_0x2467d1[_0x35eb55(0x2c0)]('ru',{'month':_0x35eb55(0x229)})['toUpperCase']()+'\x20'+_0x2467d1[_0x35eb55(0x1fc)]();break;}}function showToast(_0x1f7e41){const _0x25346a=a3_0x25c4d6,_0x20296b=document[_0x25346a(0x27e)]('toast');_0x20296b[_0x25346a(0x23f)]=_0x1f7e41,_0x20296b[_0x25346a(0x23e)]['add']('show'),setTimeout(()=>_0x20296b[_0x25346a(0x23e)][_0x25346a(0x2e5)](_0x25346a(0x272)),0x7d0);}function handleInfiniteScroll(){const _0x21845d=a3_0x25c4d6,_0x36c31b=document[_0x21845d(0x27e)](_0x21845d(0x2ce)),_0x3edb0e=_0x36c31b['scrollLeft'],_0x196366=_0x36c31b[_0x21845d(0x224)],_0xd9ca0b=_0x36c31b[_0x21845d(0x2b9)];if(_0x196366-(_0x3edb0e+_0xd9ca0b)<0x12c){const _0x231980=endOffset;endOffset+=0xe,renderDayRange(_0x231980+0x1,endOffset),reRenderBlocks();}if(_0x3edb0e<0x12c){const _0x2c19b5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2c19b5-0x1),_0x36c31b['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function a3_0x44f1(){const _0x36d761=['.day-column','getMonth','%\x20-\x204px)','\x20–∏–∑\x20','v9.5-CLIENT-ANALYTICS','clients','setAttribute','customConfirm','clientId','join','scrollWidth','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','auto','long','data','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','ready','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','firstChild','client_cancel','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','uc_client_settings','numeric','end','28QGoXKb','onclick',':00</span>','\x20—á.','addEventListener','note','3077613SDKAFR','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','start','classList','textContent','completed','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','colIndex','coachId','forEach','\x20status-completed','onClick','event-card','day-off-overlay\x20stripe-bg','exceptions','cancelHint','(((.+)+)+)+$','Error\x20setting\x20color:','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</span>\x20/\x20','getDay','calc(','anStart','add','detNote','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getHours','setMonth','substr','blocked-range-part\x20stripe-bg','globalTimeLine','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','anCustomDates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20-\x20','createDocumentFragment','.btn-reschedule','color','uc_client_list','planned','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','syncLoad','T00:00:00','82XlnIOM','setBackgroundColor','month','ccTitle','rs-time-btn','push','week','</div>','32SckxAG','startsWith','className','.period-switch\x20.p-btn','show','.day-col-header[data-date=\x22','.rs-date-chip','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','padStart','saveLocally','BackButton','</div><div\x20class=\x22dch-num\x22>','strokeDashoffset','dateStr','none','.day-col-header','getElementById','ranges','all','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','<div\x20class=\x22dch-day\x22>','top','analyticsSheet','analyticsList','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','cancelled','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','toUpperCase','block','slice','data-date','px\x20-','error','entries','disableVerticalSwipes','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','detTime','sid','%\x20+\x202px)','overlay','915948ozDIUX','getMinutes','total','constructor','#050505','createElement','toString','now','sort','var(--acc-blue)','insertBefore','gridColumns','data-day-idx','getTime','271995ykOdKp','pattern','rsDatesTrack','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','value','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','toLocaleDateString','rs-date-chip','Error\x20setting\x20back\x20button:','style','POST','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','json','open','detStatus','height','timeColumn','find','floor','status','anTotalStats','clientWidth','anEnd','timeLineBadge','day-column\x20','cancel_window','–û—Ç–º–µ–Ω–µ–Ω–æ','backgroundPosition','toLocaleString','–∑–∞\x20','detailsSheet','setHeaderColor','cid','appendChild','setItem','ru-RU','innerHTML','today','1616478lZOGTY','map','rsSlotsGrid','done','matrixViewport','display','backgroundColor','round','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','#0a84ff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','anPercent','anDonutCircle','offsetWidth','3641070zFjyXH','visible','fontWeight','getAttribute','Critical\x20TMA\x20Error:','applyData','getItem','width','charAt','mini','filter','ccYesBtn','remove','var(--acc-green)','blocked-slot\x20stripe-bg','borderLeftColor','<div\x20class=\x22rs-day-name\x22>','Telegram','querySelector','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','apply','search','querySelectorAll','div','split','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','length','loadLocal','active','min','.sheet','custom','href','stopPropagation','flex','getDate','coach_profiles','getFullYear','scroll','test','rgba(','offsetLeft','parse','left','then','scrollLeft','1565307pKrvOz','15221Hgpscf','router.html','daysHeaderTrack','cancelContainer','day-col-header\x20','zIndex','settings','initData','\x20–≤\x20','time-label','stringify','detDate','setDate','DOMContentLoaded','#ff453a','client_load','keys','offClick','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','max'];a3_0x44f1=function(){return _0x36d761;};return a3_0x44f1();}function prependDays(_0x50d84a,_0x17daa9){const _0x48da79=a3_0x25c4d6,_0x1ba226=document[_0x48da79(0x27e)]('daysHeaderTrack'),_0x3de95c=document['getElementById'](_0x48da79(0x2a1)),_0xddf415=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34f231=new Date();_0x34f231['setHours'](0x0,0x0,0x0,0x0);const _0x25ed8d=getLocalDateStr(new Date()),_0x596969=document[_0x48da79(0x25e)](),_0x189ced=document[_0x48da79(0x25e)]();for(let _0xfbe1bc=_0x50d84a;_0xfbe1bc<=_0x17daa9;_0xfbe1bc++){const _0x209a26=new Date(_0x34f231);_0x209a26['setDate'](_0x209a26['getDate']()+_0xfbe1bc);const _0x2bfe0d=getLocalDateStr(_0x209a26);let _0x1cb33a=_0x209a26['getDay']()-0x1;if(_0x1cb33a===-0x1)_0x1cb33a=0x6;const _0x47e933=_0x2bfe0d===_0x25ed8d,_0x387b78=document[_0x48da79(0x29b)]('div');_0x387b78[_0x48da79(0x270)]=_0x48da79(0x20a)+(_0x47e933?_0x48da79(0x2c9):''),_0x387b78['setAttribute']('data-date',_0x2bfe0d),_0x387b78[_0x48da79(0x2c8)]=_0x48da79(0x282)+_0xddf415[_0x1cb33a]+_0x48da79(0x279)+_0x209a26[_0x48da79(0x1fa)]()+'</div>',_0x596969['appendChild'](_0x387b78);const _0xd3738e=document['createElement'](_0x48da79(0x1ee));_0xd3738e['className']=_0x48da79(0x2bc)+(_0x47e933?_0x48da79(0x2c9):''),_0xd3738e['setAttribute'](_0x48da79(0x28c),_0x2bfe0d),_0xd3738e[_0x48da79(0x220)](_0x48da79(0x2a2),_0x1cb33a),_0x189ced['appendChild'](_0xd3738e);}_0x1ba226[_0x48da79(0x2a0)](_0x596969,_0x1ba226['firstChild']),_0x3de95c[_0x48da79(0x2a0)](_0x189ced,_0x3de95c[_0x48da79(0x1e9)](_0x48da79(0x21a)));}function hexToRgba(_0x251ca7,_0x4d74ae){const _0x3e11f2=a3_0x25c4d6;let _0x4d779f;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3e11f2(0x1fe)](_0x251ca7))return _0x4d779f=_0x251ca7['substring'](0x1)[_0x3e11f2(0x1ef)](''),_0x4d779f[_0x3e11f2(0x1f1)]==0x3&&(_0x4d779f=[_0x4d779f[0x0],_0x4d779f[0x0],_0x4d779f[0x1],_0x4d779f[0x1],_0x4d779f[0x2],_0x4d779f[0x2]]),_0x4d779f='0x'+_0x4d779f['join'](''),_0x3e11f2(0x1ff)+[_0x4d779f>>0x10&0xff,_0x4d779f>>0x8&0xff,_0x4d779f&0xff][_0x3e11f2(0x223)](',')+','+_0x4d74ae+')';return'rgba(10,\x20132,\x20255,\x20'+_0x4d74ae+')';}let confirmResolver=null;function showCustomConfirm(_0x1eb39f,_0x17c4b0,_0x3b6225=!![]){const _0x1f3fa3=a3_0x25c4d6;document[_0x1f3fa3(0x27e)](_0x1f3fa3(0x269))[_0x1f3fa3(0x23f)]=_0x1eb39f,document[_0x1f3fa3(0x27e)]('ccText')[_0x1f3fa3(0x23f)]=_0x17c4b0;const _0x42eb7d=document[_0x1f3fa3(0x27e)](_0x1f3fa3(0x2e4));return _0x3b6225?(_0x42eb7d['style'][_0x1f3fa3(0x260)]=_0x1f3fa3(0x214),_0x42eb7d[_0x1f3fa3(0x2ad)][_0x1f3fa3(0x2db)]='600'):(_0x42eb7d[_0x1f3fa3(0x2ad)][_0x1f3fa3(0x260)]=_0x1f3fa3(0x2d4),_0x42eb7d['style']['fontWeight']='600'),new Promise(_0x173aa4=>{const _0x2a3683=_0x1f3fa3;confirmResolver=_0x173aa4,document[_0x2a3683(0x27e)](_0x2a3683(0x221))[_0x2a3683(0x23e)][_0x2a3683(0x252)]('visible');});}function resolveCustomConfirm(_0x4db4c5){const _0x2c849e=a3_0x25c4d6;document['getElementById'](_0x2c849e(0x221))[_0x2c849e(0x23e)][_0x2c849e(0x2e5)](_0x2c849e(0x2da));if(confirmResolver)confirmResolver(_0x4db4c5);}async function tryCancelCurrentSession(){const _0x35d031=a3_0x25c4d6;if(!currentSession)return;const _0x798d30=await showCustomConfirm(_0x35d031(0x24d),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x798d30)return;const _0x469bfc=currentSession;closeAllSheets(),sessions=sessions[_0x35d031(0x2e3)](_0x522ce5=>_0x522ce5['id']!==_0x469bfc['id']),reRenderBlocks(),showToast(_0x35d031(0x2be)),lastUserActionTime=Date[_0x35d031(0x29d)]();try{const _0x5815b3=window['Telegram']?.['WebApp'],_0x3953cb=await fetch(API_URL,{'method':'POST','body':JSON[_0x35d031(0x210)]({'action':_0x35d031(0x22f),'init_data':_0x5815b3?.['initData']||'','coachId':_0x469bfc[_0x35d031(0x243)],'dateStr':_0x469bfc['dateStr'],'sessionId':_0x469bfc['id']})});if(_0x3953cb['ok'])DataManager[_0x35d031(0x277)]();}catch(_0x11654a){showToast(_0x35d031(0x281));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3f8740=a3_0x25c4d6;if(!currentSession)return;document['getElementById'](_0x3f8740(0x2c2))[_0x3f8740(0x23e)][_0x3f8740(0x2e5)](_0x3f8740(0x2b1)),document['getElementById']('rescheduleSheet')[_0x3f8740(0x23e)][_0x3f8740(0x252)](_0x3f8740(0x2b1));const _0x58f635=document['getElementById'](_0x3f8740(0x2a6)),_0x93efec=document[_0x3f8740(0x27e)](_0x3f8740(0x2cc));_0x58f635[_0x3f8740(0x2c8)]='',_0x93efec[_0x3f8740(0x2c8)]=_0x3f8740(0x241);const [_0x21f39,_0x227ab3]=currentSession[_0x3f8740(0x23d)][_0x3f8740(0x1ef)](':')[_0x3f8740(0x2cb)](Number),[_0x312ca5,_0x5351e5]=currentSession['end'][_0x3f8740(0x1ef)](':')[_0x3f8740(0x2cb)](Number),_0x634ddb=_0x312ca5*0x3c+_0x5351e5-(_0x21f39*0x3c+_0x227ab3);try{const _0x5d70e9=window[_0x3f8740(0x1e8)]?.['WebApp'],_0x4c271b=await fetch(API_URL,{'method':_0x3f8740(0x2ae),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x3f8740(0x243)],'duration':_0x634ddb,'init_data':_0x5d70e9?.[_0x3f8740(0x20d)]||'','excludeSessionId':currentSession['id']})}),_0x6b2603=await _0x4c271b['json']();_0x6b2603['ok']&&_0x6b2603[_0x3f8740(0x22a)]?(availableSlotsCache=_0x6b2603['data'],renderRescheduleDates()):_0x93efec[_0x3f8740(0x2c8)]=_0x3f8740(0x1f0);}catch(_0x335bd6){_0x93efec['innerHTML']=_0x3f8740(0x1ea);}}function renderRescheduleDates(){const _0x1b3942=a3_0x25c4d6,_0x40d47a=document[_0x1b3942(0x27e)](_0x1b3942(0x2a6));_0x40d47a['innerHTML']='';const _0x18133b=Object['keys'](availableSlotsCache)[_0x1b3942(0x29e)](),_0x5a9d5c=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x18133b['length']===0x0){document[_0x1b3942(0x27e)](_0x1b3942(0x2cc))['innerHTML']=_0x1b3942(0x2af);return;}_0x18133b[_0x1b3942(0x244)]((_0x152b47,_0x22055b)=>{const _0x2ff63d=_0x1b3942,_0x41e074=new Date(_0x152b47),_0x24289e=_0x5a9d5c[_0x41e074[_0x2ff63d(0x24f)]()],_0x41f0b6=_0x41e074[_0x2ff63d(0x1fa)](),_0x42a058=document['createElement'](_0x2ff63d(0x1ee));_0x42a058[_0x2ff63d(0x270)]=_0x2ff63d(0x2ab);if(_0x22055b===0x0)_0x42a058[_0x2ff63d(0x23e)][_0x2ff63d(0x252)](_0x2ff63d(0x1f3));_0x42a058[_0x2ff63d(0x2c8)]=_0x2ff63d(0x1e7)+_0x24289e+'</div><div\x20class=\x22rs-day-num\x22>'+_0x41f0b6+_0x2ff63d(0x26d),_0x42a058['onclick']=()=>selectRsDate(_0x152b47,_0x42a058),_0x40d47a['appendChild'](_0x42a058);}),selectRsDate(_0x18133b[0x0],_0x40d47a[_0x1b3942(0x22e)]);}function selectRsDate(_0x243dd4,_0x51c347){const _0xb5c697=a3_0x25c4d6;selectedRsDate=_0x243dd4,document[_0xb5c697(0x1ed)](_0xb5c697(0x274))[_0xb5c697(0x244)](_0xf3cdeb=>_0xf3cdeb[_0xb5c697(0x23e)][_0xb5c697(0x2e5)]('active'));if(_0x51c347)_0x51c347['classList'][_0xb5c697(0x252)](_0xb5c697(0x1f3));const _0x4fc322=document[_0xb5c697(0x27e)](_0xb5c697(0x2cc));_0x4fc322[_0xb5c697(0x2c8)]='';const _0x27cca0=availableSlotsCache[_0x243dd4]||[];if(_0x27cca0['length']===0x0){_0x4fc322[_0xb5c697(0x2c8)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x27cca0[_0xb5c697(0x244)](_0x1593be=>{const _0x51b1fb=_0xb5c697,_0x2a3be6=document['createElement']('button');_0x2a3be6[_0x51b1fb(0x270)]=_0x51b1fb(0x26a),_0x2a3be6['textContent']=_0x1593be,_0x2a3be6[_0x51b1fb(0x235)]=()=>confirmReschedule(_0x1593be),_0x4fc322['appendChild'](_0x2a3be6);});}async function confirmReschedule(_0x5dbc0b){const _0xfe46fa=a3_0x25c4d6,_0x3f5262=new Date(selectedRsDate),_0x2f6425=_0x3f5262[_0xfe46fa(0x2aa)](_0xfe46fa(0x2c7),{'day':_0xfe46fa(0x232),'month':'long'}),_0x36e913=await showCustomConfirm(_0xfe46fa(0x22b),_0xfe46fa(0x25a)+_0x2f6425+_0xfe46fa(0x20e)+_0x5dbc0b+'?',![]);if(!_0x36e913)return;closeAllSheets(),showToast(_0xfe46fa(0x2a9)),lastUserActionTime=Date[_0xfe46fa(0x29d)]();const _0x2c4e63=currentSession['dateStr'],_0x1037a8=currentSession['id'],[_0x21331a,_0x5a6dbb]=currentSession[_0xfe46fa(0x23d)]['split'](':')[_0xfe46fa(0x2cb)](Number),[_0x22e612,_0x4dcb6a]=currentSession[_0xfe46fa(0x233)][_0xfe46fa(0x1ef)](':')[_0xfe46fa(0x2cb)](Number),_0x5dde22=_0x22e612*0x3c+_0x4dcb6a-(_0x21331a*0x3c+_0x5a6dbb),[_0x5ec5ff,_0x325a5c]=_0x5dbc0b[_0xfe46fa(0x1ef)](':')[_0xfe46fa(0x2cb)](Number),_0x2d66bc=_0x5ec5ff*0x3c+_0x325a5c+_0x5dde22,_0x54a080=Math[_0xfe46fa(0x2b6)](_0x2d66bc/0x3c),_0x42db52=_0x2d66bc%0x3c,_0x504b8c=String(_0x54a080)[_0xfe46fa(0x276)](0x2,'0')+':'+String(_0x42db52)[_0xfe46fa(0x276)](0x2,'0'),_0x33d7d5=sessions['findIndex'](_0x2c80e4=>_0x2c80e4['id']===_0x1037a8);_0x33d7d5!==-0x1&&(sessions[_0x33d7d5][_0xfe46fa(0x27b)]=selectedRsDate,sessions[_0x33d7d5][_0xfe46fa(0x23d)]=_0x5dbc0b,sessions[_0x33d7d5]['end']=_0x504b8c,reRenderBlocks());try{const _0x4fc116=window[_0xfe46fa(0x1e8)]?.['WebApp'],_0x21ff77=await fetch(API_URL,{'method':_0xfe46fa(0x2ae),'body':JSON[_0xfe46fa(0x210)]({'action':'reschedule','init_data':_0x4fc116?.[_0xfe46fa(0x20d)]||'','oldSessionId':_0x1037a8,'oldDate':_0x2c4e63,'newDate':selectedRsDate,'newTime':_0x5dbc0b,'coachId':currentSession['coachId']})}),_0x517120=await _0x21ff77[_0xfe46fa(0x2b0)]();!_0x517120['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0xfe46fa(0x264)]()):(showToast(_0xfe46fa(0x218)),DataManager['saveLocally']());}catch(_0x41c4b8){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x25c4d6(0x213),init);