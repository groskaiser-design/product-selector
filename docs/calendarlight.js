const a3_0x25f420=a3_0x3a2f;(function(_0x1dfe9b,_0xb34269){const _0x2d831c=a3_0x3a2f,_0x58e53=_0x1dfe9b();while(!![]){try{const _0x48dbb9=parseInt(_0x2d831c(0x7b))/0x1+-parseInt(_0x2d831c(0x112))/0x2+-parseInt(_0x2d831c(0x122))/0x3+-parseInt(_0x2d831c(0x9d))/0x4+parseInt(_0x2d831c(0x164))/0x5+parseInt(_0x2d831c(0x84))/0x6+-parseInt(_0x2d831c(0xb3))/0x7;if(_0x48dbb9===_0xb34269)break;else _0x58e53['push'](_0x58e53['shift']());}catch(_0x319136){_0x58e53['push'](_0x58e53['shift']());}}}(a3_0x6575,0xd8446));const APP_VERSION=a3_0x25f420(0xd0),API_URL=a3_0x25f420(0x125),GRID_H=0x3c,KEY_SESSIONS=a3_0x25f420(0xfa),KEY_SETTINGS=a3_0x25f420(0x93),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x24c1d6=a3_0x25f420,_0x4af8b2=(function(){let _0x171985=!![];return function(_0x4573a4,_0x13c031){const _0x1bfa3e=_0x171985?function(){const _0x705b10=a3_0x3a2f;if(_0x13c031){const _0x46445f=_0x13c031[_0x705b10(0x14e)](_0x4573a4,arguments);return _0x13c031=null,_0x46445f;}}:function(){};return _0x171985=![],_0x1bfa3e;};}()),_0x3032ca=_0x4af8b2(this,function(){const _0x32e233=a3_0x3a2f;return _0x3032ca[_0x32e233(0x16a)]()['search'](_0x32e233(0xb1))[_0x32e233(0x16a)]()[_0x32e233(0x81)](_0x3032ca)[_0x32e233(0x11f)]('(((.+)+)+)+$');});_0x3032ca();try{const _0x4e7772=window[_0x24c1d6(0x142)]?.[_0x24c1d6(0x14f)];if(!_0x4e7772)return;_0x4e7772[_0x24c1d6(0xd3)](),_0x4e7772[_0x24c1d6(0x10a)]();try{_0x4e7772[_0x24c1d6(0xe0)](_0x24c1d6(0x15f)),_0x4e7772[_0x24c1d6(0x7d)]&&_0x4e7772[_0x24c1d6(0x7d)]('#050505');}catch(_0x11b491){console[_0x24c1d6(0x118)](_0x24c1d6(0xd8),_0x11b491);}try{_0x4e7772['BackButton']&&(_0x4e7772[_0x24c1d6(0xcf)][_0x24c1d6(0xcc)](),_0x4e7772[_0x24c1d6(0xcf)][_0x24c1d6(0x16e)](),_0x4e7772[_0x24c1d6(0xcf)]['onClick'](function(){const _0x348a9a=_0x24c1d6;window['location'][_0x348a9a(0xce)]=_0x348a9a(0x15b);}));}catch(_0x3299bd){console['log'](_0x24c1d6(0xa8),_0x3299bd);}try{if(_0x4e7772[_0x24c1d6(0x15c)])_0x4e7772[_0x24c1d6(0x15c)]();}catch(_0x3c9f25){}}catch(_0x63af89){console[_0x24c1d6(0xbc)](_0x24c1d6(0xed),_0x63af89);}}());function isAdmin(){const _0x37839a=a3_0x25f420;try{const _0x46ae7e=Number(window[_0x37839a(0x142)]?.[_0x37839a(0x14f)]?.[_0x37839a(0xd9)]?.['user']?.['id']);return _0x46ae7e===0xbaf7174;}catch(_0x5b6e9f){return![];}}const DataManager={'saveLocally'(){const _0x9c7325=a3_0x25f420;try{localStorage[_0x9c7325(0xda)](KEY_SESSIONS,JSON[_0x9c7325(0x8d)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x9c7325(0x8d)](clients)),localStorage[_0x9c7325(0xda)](KEY_SETTINGS,JSON[_0x9c7325(0x8d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x31dad9){}},'loadLocal'(){const _0x2a5415=a3_0x25f420;try{const _0x595921=localStorage['getItem'](KEY_SESSIONS);if(_0x595921)sessions=JSON[_0x2a5415(0x10f)](_0x595921);const _0x8e86b4=localStorage[_0x2a5415(0xe6)](KEY_CLIENTS);if(_0x8e86b4)clients=JSON[_0x2a5415(0x10f)](_0x8e86b4);const _0x203d4e=localStorage[_0x2a5415(0xe6)](KEY_SETTINGS);if(_0x203d4e){const _0x19720a=JSON['parse'](_0x203d4e);if(_0x19720a[_0x2a5415(0x101)])availabilityPattern=_0x19720a[_0x2a5415(0x101)];if(_0x19720a[_0x2a5415(0x9c)])specialRanges=_0x19720a[_0x2a5415(0x9c)];if(_0x19720a[_0x2a5415(0x153)])dateExceptions=_0x19720a[_0x2a5415(0x153)];}}catch(_0x3e5fab){}},async 'syncLoad'(){const _0x340414=a3_0x25f420,_0x1534c8=new Date(),_0x29cee1=_0x1534c8['getFullYear']()+'-'+String(_0x1534c8[_0x340414(0x11e)]()+0x1)[_0x340414(0x100)](0x2,'0'),_0x4638b1=new Date(_0x1534c8);_0x4638b1[_0x340414(0x11b)](_0x1534c8['getMonth']()+0x1);const _0x4e4724=_0x4638b1[_0x340414(0x168)]()+'-'+String(_0x4638b1[_0x340414(0x11e)]()+0x1)[_0x340414(0x100)](0x2,'0'),_0x6f359e=Date['now']();try{const _0x44d1f0=window[_0x340414(0x142)]?.[_0x340414(0x14f)],_0x313484=_0x44d1f0?.[_0x340414(0xf1)]||'',[_0x24aaf6,_0x595d69]=await Promise[_0x340414(0x98)]([fetch(API_URL,{'method':_0x340414(0xa3),'body':JSON[_0x340414(0x8d)]({'action':_0x340414(0xec),'init_data':_0x313484,'month_str':_0x29cee1})})[_0x340414(0x107)](_0x1eb90b=>_0x1eb90b[_0x340414(0x8e)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x340414(0x8d)]({'action':_0x340414(0xec),'init_data':_0x313484,'month_str':_0x4e4724})})['then'](_0x1ca116=>_0x1ca116['json']())]);if(lastUserActionTime>_0x6f359e){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x24aaf6['ok'])this['applyData'](_0x24aaf6[_0x340414(0xaf)],_0x29cee1);if(_0x595d69['ok'])this[_0x340414(0x141)](_0x595d69['data'],_0x4e4724);this[_0x340414(0xdb)]();}catch(_0x1299d6){}},'applyData'(_0x3fce38,_0x2d204e){const _0x21239c=a3_0x25f420;if(!_0x3fce38)return;if(_0x3fce38[_0x21239c(0x131)]){if(_0x3fce38[_0x21239c(0x131)]['pattern'])availabilityPattern=_0x3fce38[_0x21239c(0x131)][_0x21239c(0x101)];if(_0x3fce38['settings'][_0x21239c(0x9c)])specialRanges=_0x3fce38[_0x21239c(0x131)][_0x21239c(0x9c)];if(_0x3fce38[_0x21239c(0x131)]['exceptions'])dateExceptions=_0x3fce38[_0x21239c(0x131)][_0x21239c(0x153)];}if(_0x3fce38[_0x21239c(0x11c)]&&Array[_0x21239c(0xcd)](_0x3fce38[_0x21239c(0x11c)]))clients=_0x3fce38[_0x21239c(0x11c)];_0x3fce38[_0x21239c(0x110)]&&(coachProfiles={...coachProfiles,..._0x3fce38[_0x21239c(0x110)]}),_0x3fce38[_0x21239c(0x16c)]&&(sessions=sessions['filter'](_0x20c338=>!_0x20c338['dateStr'][_0x21239c(0xfb)](_0x2d204e)),Object['keys'](_0x3fce38[_0x21239c(0x16c)])[_0x21239c(0xb7)](_0x4299d1=>{const _0x43e755=_0x21239c,_0x473c72=_0x3fce38[_0x43e755(0x16c)][_0x4299d1];_0x473c72[_0x43e755(0xb7)](_0x55745e=>{const _0x526a22=_0x43e755;sessions[_0x526a22(0x90)]({'id':_0x55745e['i'],'clientId':_0x55745e['c'],'coachId':_0x55745e[_0x526a22(0xc3)],'dateStr':_0x2d204e+'-'+_0x4299d1[_0x526a22(0x100)](0x2,'0'),'start':_0x55745e['s'],'end':_0x55745e['e'],'note':_0x55745e['n']||'','status':_0x55745e['st']||_0x526a22(0xb6),'seriesId':_0x55745e[_0x526a22(0x80)]});});})),reRenderBlocks();}};function init(){const _0x3b806d=a3_0x25f420;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3b806d(0x120)]('matrixViewport')[_0x3b806d(0xa1)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x32c664=a3_0x25f420,_0x3ad996=document['getElementById'](_0x32c664(0xe5)),_0x39740c=document[_0x32c664(0x120)](_0x32c664(0x15a));_0x3ad996['innerHTML']='',_0x3ad996[_0x32c664(0x109)](_0x39740c);for(let _0x2a3bed=0x0;_0x2a3bed<0x18;_0x2a3bed++){const _0x532fc3=document[_0x32c664(0x143)](_0x32c664(0xea));_0x532fc3[_0x32c664(0x10b)]='time-label';if(_0x2a3bed>0x0)_0x532fc3[_0x32c664(0xd6)]=_0x32c664(0x135)+String(_0x2a3bed)[_0x32c664(0x100)](0x2,'0')+':00</span>';_0x3ad996['appendChild'](_0x532fc3);}}function renderDayRange(_0x2a5968,_0x42d27f){const _0x71c685=a3_0x25f420,_0x4954b7=document[_0x71c685(0x120)](_0x71c685(0xa5)),_0x13e018=document[_0x71c685(0x120)](_0x71c685(0x13d)),_0x5149a8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x20c8d8=new Date();_0x20c8d8['setHours'](0x0,0x0,0x0,0x0);const _0x12dce1=getLocalDateStr(new Date());for(let _0x35c154=_0x2a5968;_0x35c154<=_0x42d27f;_0x35c154++){const _0x3ab57c=new Date(_0x20c8d8);_0x3ab57c[_0x71c685(0x16b)](_0x3ab57c['getDate']()+_0x35c154);const _0x2d2fe8=getLocalDateStr(_0x3ab57c);let _0x1ad2e4=_0x3ab57c[_0x71c685(0xc2)]()-0x1;if(_0x1ad2e4===-0x1)_0x1ad2e4=0x6;const _0x1680af=_0x2d2fe8===_0x12dce1,_0x511ba0=document[_0x71c685(0x143)](_0x71c685(0xea));_0x511ba0[_0x71c685(0x10b)]=_0x71c685(0x102)+(_0x1680af?_0x71c685(0xb2):''),_0x511ba0[_0x71c685(0x152)](_0x71c685(0x166),_0x2d2fe8),_0x511ba0[_0x71c685(0xd6)]='<div\x20class=\x22dch-day\x22>'+_0x5149a8[_0x1ad2e4]+_0x71c685(0x137)+_0x3ab57c['getDate']()+'</div>',_0x4954b7['appendChild'](_0x511ba0);const _0x11ca22=document[_0x71c685(0x143)]('div');_0x11ca22[_0x71c685(0x10b)]=_0x71c685(0x114)+(_0x1680af?'today':''),_0x11ca22[_0x71c685(0x152)](_0x71c685(0x166),_0x2d2fe8),_0x11ca22['setAttribute'](_0x71c685(0xf6),_0x1ad2e4),_0x13e018[_0x71c685(0x109)](_0x11ca22);}}function a3_0x3a2f(_0x1584a3,_0x250ed5){_0x1584a3=_0x1584a3-0x75;const _0xcdf5f1=a3_0x6575();let _0x17af44=_0xcdf5f1[_0x1584a3];return _0x17af44;}function reRenderBlocks(){const _0x2fc2c6=a3_0x25f420;document[_0x2fc2c6(0xdd)](_0x2fc2c6(0xe3))[_0x2fc2c6(0xb7)](_0x1bae8a=>{const _0x4e265b=_0x2fc2c6;_0x1bae8a[_0x4e265b(0xdd)](_0x4e265b(0xb5))[_0x4e265b(0xb7)](_0x620c8c=>_0x620c8c['remove']());const _0xea293=_0x1bae8a['getAttribute'](_0x4e265b(0x166)),_0x2f5ca6=parseInt(_0x1bae8a[_0x4e265b(0x105)](_0x4e265b(0xf6))),_0x53edd1=Math['round'](_0x1bae8a[_0x4e265b(0x14c)]);(availabilityPattern[_0x2f5ca6]||[])[_0x4e265b(0xb7)](_0x364900=>{const _0x414512=_0x4e265b,_0x14fa73=document[_0x414512(0x143)]('div');_0x14fa73[_0x414512(0x10b)]=_0x414512(0xbe),_0x14fa73['style'][_0x414512(0x15d)]=_0x364900*GRID_H+'px',_0x14fa73['style']['backgroundPosition']='-'+_0x53edd1+_0x414512(0xf3)+_0x364900*GRID_H+'px',_0x1bae8a[_0x414512(0x109)](_0x14fa73);});if(specialRanges[_0x4e265b(0x134)]>0x0){const _0x1d6f22=new Date(_0xea293+_0x4e265b(0xe1))['getTime'](),_0x3aa94e=new Date(_0xea293+_0x4e265b(0x132))[_0x4e265b(0x154)]();specialRanges[_0x4e265b(0xb7)](_0x196d59=>{const _0x19c35b=_0x4e265b,_0x16f53c=new Date(_0x196d59[_0x19c35b(0xbd)])[_0x19c35b(0x154)](),_0x3d76d3=new Date(_0x196d59[_0x19c35b(0xbf)])[_0x19c35b(0x154)](),_0xc86c8f=Math['max'](_0x1d6f22,_0x16f53c),_0x4856ee=Math[_0x19c35b(0x12b)](_0x3aa94e,_0x3d76d3);if(_0xc86c8f<_0x4856ee){const _0x1a5414=(_0xc86c8f-_0x1d6f22)/0x36ee80*GRID_H,_0x2e5a22=(_0x4856ee-_0xc86c8f)/0x36ee80*GRID_H,_0x42ebc3=document[_0x19c35b(0x143)](_0x19c35b(0xea));_0x2e5a22>=23.5*GRID_H?(_0x42ebc3[_0x19c35b(0x10b)]=_0x19c35b(0x86),_0x42ebc3[_0x19c35b(0xb9)][_0x19c35b(0xee)]='-'+_0x53edd1+'px\x200px'):(_0x42ebc3['className']='blocked-range-part\x20stripe-bg',_0x42ebc3[_0x19c35b(0xb9)][_0x19c35b(0x15d)]=_0x1a5414+'px',_0x42ebc3[_0x19c35b(0xb9)]['height']=_0x2e5a22+'px',_0x42ebc3['style'][_0x19c35b(0xee)]='-'+_0x53edd1+_0x19c35b(0xf3)+_0x1a5414+'px'),_0x1bae8a[_0x19c35b(0x109)](_0x42ebc3);}});}renderEventsForColumn(_0x1bae8a,_0xea293);});}function renderEventsForColumn(_0x369fb7,_0x30374d){const _0x2705ab=a3_0x25f420,_0x921ae9=sessions['filter'](_0x20f297=>_0x20f297[_0x2705ab(0xeb)]===_0x30374d),_0x1c25c1=_0x921ae9[_0x2705ab(0x97)](_0x3115e0=>{const _0x40f3bf=_0x2705ab,[_0x54d70a,_0x3629be]=_0x3115e0[_0x40f3bf(0xbd)][_0x40f3bf(0xd7)](':')[_0x40f3bf(0x97)](Number),[_0x4aa5d2,_0x368e25]=_0x3115e0['end'][_0x40f3bf(0xd7)](':')[_0x40f3bf(0x97)](Number);return{'data':_0x3115e0,'start':_0x54d70a*0x3c+_0x3629be,'end':_0x4aa5d2*0x3c+_0x368e25,'colIndex':0x0};});_0x1c25c1['sort']((_0x4c40c4,_0x4dee44)=>_0x4c40c4[_0x2705ab(0xbd)]-_0x4dee44[_0x2705ab(0xbd)]||_0x4dee44[_0x2705ab(0xbf)]-_0x4dee44[_0x2705ab(0xbd)]-(_0x4c40c4[_0x2705ab(0xbf)]-_0x4c40c4[_0x2705ab(0xbd)]));const _0x497e14=[];_0x1c25c1[_0x2705ab(0xb7)](_0x105a0a=>{const _0x3d620d=_0x2705ab;let _0x5c2ff1=![];for(let _0x438b7b=0x0;_0x438b7b<_0x497e14['length'];_0x438b7b++){const _0xbf320=_0x497e14[_0x438b7b];if(_0x105a0a['start']>=_0xbf320[_0xbf320[_0x3d620d(0x134)]-0x1]['end']){_0xbf320[_0x3d620d(0x90)](_0x105a0a),_0x105a0a['colIndex']=_0x438b7b,_0x5c2ff1=!![];break;}}!_0x5c2ff1&&(_0x497e14[_0x3d620d(0x90)]([_0x105a0a]),_0x105a0a[_0x3d620d(0xae)]=_0x497e14[_0x3d620d(0x134)]-0x1);}),_0x1c25c1[_0x2705ab(0xb7)](_0x93dfb7=>{const _0x598628=_0x2705ab;let _0x45f25f=0x0;_0x1c25c1[_0x598628(0xb7)](_0x1b463e=>{const _0x13d35c=_0x598628;if(Math[_0x13d35c(0x167)](_0x93dfb7[_0x13d35c(0xbd)],_0x1b463e[_0x13d35c(0xbd)])<Math['min'](_0x93dfb7[_0x13d35c(0xbf)],_0x1b463e[_0x13d35c(0xbf)])&&_0x1b463e[_0x13d35c(0xae)]>_0x45f25f)_0x45f25f=_0x1b463e[_0x13d35c(0xae)];});const _0x4c4dbc=_0x45f25f+0x1,_0x23dc8c=0x64/_0x4c4dbc,_0x3d4006=_0x93dfb7['colIndex']*_0x23dc8c,_0x20c924=document[_0x598628(0x143)](_0x598628(0xea)),_0x5c464c=_0x93dfb7[_0x598628(0xaf)];let _0x364d0b=_0x598628(0xa7);if(clients&&clients['length']>0x0){const _0x29257d=clients[_0x598628(0x9e)](_0x48963f=>String(_0x48963f['id'])===String(_0x5c464c[_0x598628(0x140)]));if(_0x29257d&&_0x29257d[_0x598628(0x99)])_0x364d0b=_0x29257d['color'];}const _0x4f9f9e=_0x5c464c[_0x598628(0x13f)]===_0x598628(0xef),_0x294b96=_0x4f9f9e?0x1:0.45;_0x20c924[_0x598628(0x10b)]=_0x598628(0x7f)+(_0x4f9f9e?'\x20status-completed':''),_0x20c924[_0x598628(0xb9)][_0x598628(0xd4)]=hexToRgba(_0x364d0b,_0x294b96),_0x20c924[_0x598628(0xb9)][_0x598628(0x8c)]=_0x364d0b;const _0x1bff0d=_0x93dfb7['start']/0x3c*GRID_H,_0x296fd2=(_0x93dfb7[_0x598628(0xbf)]-_0x93dfb7[_0x598628(0xbd)])/0x3c*GRID_H;_0x20c924['style'][_0x598628(0x15d)]=_0x1bff0d+'px',_0x20c924[_0x598628(0xb9)][_0x598628(0x158)]=Math[_0x598628(0x167)](_0x296fd2,0x14)+'px',_0x20c924[_0x598628(0xb9)][_0x598628(0xdf)]=_0x598628(0x96)+_0x23dc8c+_0x598628(0xdc),_0x20c924[_0x598628(0xb9)][_0x598628(0x89)]=_0x598628(0x96)+_0x3d4006+_0x598628(0xcb),_0x20c924[_0x598628(0xb9)][_0x598628(0xc0)]=0xa+_0x93dfb7['colIndex'];if(_0x23dc8c<0x55)_0x20c924[_0x598628(0xfc)][_0x598628(0x104)](_0x598628(0x136));let _0x10c843='';if(_0x5c464c[_0x598628(0x82)])_0x10c843+=_0x598628(0x78);if(_0x4f9f9e)_0x10c843+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x20c924['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5c464c[_0x598628(0xbd)]+_0x598628(0xf2)+_0x5c464c['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10c843+_0x598628(0x149),_0x20c924[_0x598628(0x108)]=_0x3dbcb8=>{const _0x494c88=_0x598628;_0x3dbcb8[_0x494c88(0xe7)](),openDetails(_0x5c464c);},_0x369fb7['appendChild'](_0x20c924);});}function openAnalytics(){const _0x5c4f8b=a3_0x25f420,_0x3841ec=document[_0x5c4f8b(0x10d)](_0x5c4f8b(0xc5));setAnalyticsPeriod(_0x5c4f8b(0xe8),_0x3841ec),openSheet(_0x5c4f8b(0x129));}function setAnalyticsPeriod(_0x31e4c3,_0x3b3cb7){const _0x2c2b31=a3_0x25f420;currentAnPeriod=_0x31e4c3,document[_0x2c2b31(0xdd)](_0x2c2b31(0xc5))['forEach'](_0x5d9362=>_0x5d9362[_0x2c2b31(0xfc)]['remove'](_0x2c2b31(0x121)));if(_0x3b3cb7)_0x3b3cb7[_0x2c2b31(0xfc)][_0x2c2b31(0x104)](_0x2c2b31(0x121));const _0x1a5247=document['getElementById'](_0x2c2b31(0x11d));_0x1a5247[_0x2c2b31(0xb9)][_0x2c2b31(0xd1)]=_0x31e4c3===_0x2c2b31(0xfe)?_0x2c2b31(0xf0):_0x2c2b31(0xb0);const _0x3fb652=new Date();let _0x3fa2e6=new Date(),_0x3360ed=new Date();if(_0x31e4c3===_0x2c2b31(0xe8))_0x3fa2e6=getStartOfWeek(_0x3fb652),_0x3360ed=new Date(_0x3fa2e6),_0x3360ed[_0x2c2b31(0x16b)](_0x3360ed['getDate']()+0x6);else{if(_0x31e4c3===_0x2c2b31(0x144))_0x3fa2e6=new Date(_0x3fb652[_0x2c2b31(0x168)](),_0x3fb652[_0x2c2b31(0x11e)](),0x1),_0x3360ed=new Date(_0x3fb652[_0x2c2b31(0x168)](),_0x3fb652[_0x2c2b31(0x11e)]()+0x1,0x0);else{!document[_0x2c2b31(0x120)](_0x2c2b31(0x161))[_0x2c2b31(0x9f)]&&(document['getElementById'](_0x2c2b31(0x161))[_0x2c2b31(0x9f)]=getLocalDateStr(_0x3fb652),document['getElementById']('anEnd')[_0x2c2b31(0x9f)]=getLocalDateStr(_0x3fb652));refreshAnalytics();return;}}document[_0x2c2b31(0x120)](_0x2c2b31(0x161))['value']=getLocalDateStr(_0x3fa2e6),document[_0x2c2b31(0x120)](_0x2c2b31(0x145))[_0x2c2b31(0x9f)]=getLocalDateStr(_0x3360ed),refreshAnalytics();}function refreshAnalytics(){const _0x29d3e5=a3_0x25f420,_0x2ff283=document['getElementById'](_0x29d3e5(0x161))[_0x29d3e5(0x9f)],_0x4be4d8=document[_0x29d3e5(0x120)](_0x29d3e5(0x145))[_0x29d3e5(0x9f)];if(!_0x2ff283||!_0x4be4d8)return;const _0x3feea9=sessions[_0x29d3e5(0xc6)](_0x26c319=>_0x26c319[_0x29d3e5(0xeb)]>=_0x2ff283&&_0x26c319[_0x29d3e5(0xeb)]<=_0x4be4d8&&_0x26c319[_0x29d3e5(0x13f)]!==_0x29d3e5(0xfd)),_0x1251fa=_0x3feea9['length'],_0x5c922f=_0x3feea9['filter'](_0x29515f=>_0x29515f['status']===_0x29d3e5(0xef))[_0x29d3e5(0x134)],_0x34c19d=_0x1251fa>0x0?Math[_0x29d3e5(0x12e)](_0x5c922f/_0x1251fa*0x64):0x0;document[_0x29d3e5(0x120)](_0x29d3e5(0xc8))[_0x29d3e5(0x133)]=_0x34c19d+'%',document[_0x29d3e5(0x120)](_0x29d3e5(0x147))['textContent']=_0x5c922f+_0x29d3e5(0x88)+_0x1251fa+_0x29d3e5(0x12a);const _0x3ee194=document[_0x29d3e5(0x120)](_0x29d3e5(0x103)),_0x2a4cab=0x2*Math['PI']*0x23,_0x3ccb31=_0x2a4cab-_0x34c19d/0x64*_0x2a4cab;_0x3ee194['style'][_0x29d3e5(0xf7)]=_0x3ccb31;const _0x367280={};_0x3feea9['forEach'](_0x53bf42=>{const _0xd454c1=_0x29d3e5,_0x514dff=_0x53bf42[_0xd454c1(0x92)]||_0xd454c1(0x77);if(!_0x367280[_0x514dff]){const _0x5999b0='#'+_0x514dff[_0xd454c1(0x16a)]()['substr'](0x0,0x6);_0x367280[_0x514dff]={'total':0x0,'done':0x0,'color':_0x5999b0};}_0x367280[_0x514dff][_0xd454c1(0xde)]++;if(_0x53bf42[_0xd454c1(0x13f)]==='completed')_0x367280[_0x514dff][_0xd454c1(0x16f)]++;});const _0x5c7b77=document[_0x29d3e5(0x120)](_0x29d3e5(0xbb));_0x5c7b77[_0x29d3e5(0xd6)]='';const _0x51a30e=Object[_0x29d3e5(0x151)](_0x367280)[_0x29d3e5(0x106)]((_0x4cc249,_0x3d56d1)=>_0x3d56d1[0x1]['total']-_0x4cc249[0x1][_0x29d3e5(0xde)]);if(_0x51a30e[_0x29d3e5(0x134)]===0x0){_0x5c7b77[_0x29d3e5(0xd6)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x51a30e[_0x29d3e5(0xb7)](([_0x3d5f14,_0x39c265])=>{const _0x429564=_0x29d3e5,_0x12eeb4=Math[_0x429564(0x12e)](_0x39c265[_0x429564(0x16f)]/_0x39c265[_0x429564(0xde)]*0x64),_0x1313ba=document[_0x429564(0x143)](_0x429564(0xea));_0x1313ba[_0x429564(0x10b)]=_0x429564(0x7c),_0x1313ba['style']['borderLeftColor']=_0x39c265[_0x429564(0x99)],_0x1313ba[_0x429564(0xd6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x3d5f14[_0x429564(0x13e)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x39c265[_0x429564(0x16f)]+_0x429564(0x7a)+_0x39c265[_0x429564(0xde)]+_0x429564(0x14b)+_0x12eeb4+_0x429564(0x116),_0x5c7b77[_0x429564(0x109)](_0x1313ba);});}function openDetails(_0x1ca265){const _0x480083=a3_0x25f420;currentSession=_0x1ca265;const _0x3174a5=new Date(_0x1ca265[_0x480083(0xeb)]),_0x2d9b3e=_0x3174a5['toLocaleDateString'](_0x480083(0x169),{'weekday':_0x480083(0x85),'day':_0x480083(0x9a),'month':'long'});document['getElementById'](_0x480083(0x87))[_0x480083(0x133)]=_0x2d9b3e[_0x480083(0xe2)](0x0)[_0x480083(0x11a)]()+_0x2d9b3e[_0x480083(0x15e)](0x1),document[_0x480083(0x120)](_0x480083(0xf9))[_0x480083(0x133)]=_0x1ca265[_0x480083(0xbd)]+_0x480083(0xf2)+_0x1ca265[_0x480083(0xbf)],document[_0x480083(0x120)]('detNote')[_0x480083(0x133)]=_0x1ca265[_0x480083(0xc7)]||_0x480083(0x10e);const _0x41b3fb=document['getElementById']('detStatus'),_0x36b5f5=document['getElementById']('cancelContainer'),_0xdd2a82=_0x36b5f5['querySelector'](_0x480083(0xf8)),_0x23c180=_0x36b5f5[_0x480083(0x10d)]('.btn-reschedule'),_0x4039bc=document[_0x480083(0x120)](_0x480083(0xb8));if(_0x1ca265[_0x480083(0x13f)]===_0x480083(0xef))_0x41b3fb['textContent']=_0x480083(0xca),_0x41b3fb[_0x480083(0xb9)][_0x480083(0x99)]='var(--acc-green)',_0x36b5f5[_0x480083(0xb9)][_0x480083(0xd1)]=_0x480083(0xb0);else{_0x41b3fb['textContent']=_0x480083(0xc1),_0x41b3fb[_0x480083(0xb9)][_0x480083(0x99)]=_0x480083(0x16d),_0x36b5f5[_0x480083(0xb9)][_0x480083(0xd1)]=_0x480083(0xe9);const _0x110366=new Date(_0x1ca265['dateStr']+'T'+_0x1ca265[_0x480083(0xbd)]),_0xda30e7=new Date(),_0x640511=(_0x110366-_0xda30e7)/(0x3e8*0x3c*0x3c),_0x20f39f=coachProfiles[_0x1ca265['coachId']]&&coachProfiles[_0x1ca265[_0x480083(0x92)]]['cancel_window']?parseInt(coachProfiles[_0x1ca265[_0x480083(0x92)]][_0x480083(0x13b)]):0x18;if(_0x20f39f===0x0||_0x640511>=_0x20f39f)_0xdd2a82[_0x480083(0xb9)]['display']=_0x480083(0xe9),_0x23c180[_0x480083(0xb9)]['display']='block',_0x4039bc[_0x480083(0xb9)]['display']='none';else{_0xdd2a82[_0x480083(0xb9)][_0x480083(0xd1)]=_0x480083(0xb0),_0x23c180[_0x480083(0xb9)]['display']=_0x480083(0xb0),_0x4039bc[_0x480083(0xb9)][_0x480083(0xd1)]=_0x480083(0xe9);let _0x24622a=_0x20f39f===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x480083(0x117)+_0x20f39f+_0x480083(0xab);_0x4039bc[_0x480083(0x133)]=_0x480083(0xd5)+_0x24622a+_0x480083(0xc4);}}document['getElementById']('overlay')[_0x480083(0xfc)]['add'](_0x480083(0x121)),document[_0x480083(0x120)](_0x480083(0xff))['classList'][_0x480083(0x104)](_0x480083(0xe4));}function closeAllSheets(){const _0x2fffee=a3_0x25f420;document[_0x2fffee(0x120)](_0x2fffee(0x127))['classList'][_0x2fffee(0x111)](_0x2fffee(0x121)),document[_0x2fffee(0xdd)](_0x2fffee(0xf5))[_0x2fffee(0xb7)](_0x434508=>_0x434508['classList'][_0x2fffee(0x111)]('open'));}function openSheet(_0x2160f9){const _0x541dcb=a3_0x25f420;document[_0x541dcb(0x120)](_0x541dcb(0x127))[_0x541dcb(0xfc)][_0x541dcb(0x104)](_0x541dcb(0x121)),document[_0x541dcb(0x120)](_0x2160f9)[_0x541dcb(0xfc)][_0x541dcb(0x104)](_0x541dcb(0xe4));}function getLocalDateStr(_0x34bbee){const _0x4af444=a3_0x25f420,_0x41f846=_0x34bbee[_0x4af444(0x168)](),_0x7bbbbe=String(_0x34bbee[_0x4af444(0x11e)]()+0x1)[_0x4af444(0x100)](0x2,'0'),_0x2a07af=String(_0x34bbee[_0x4af444(0x13a)]())[_0x4af444(0x100)](0x2,'0');return _0x41f846+'-'+_0x7bbbbe+'-'+_0x2a07af;}function getStartOfWeek(_0x179ec6){const _0x55b1c3=a3_0x25f420,_0x5cc8af=new Date(_0x179ec6),_0x47e94b=_0x5cc8af['getDay'](),_0x40cc70=_0x5cc8af[_0x55b1c3(0x13a)]()-_0x47e94b+(_0x47e94b===0x0?-0x6:0x1);return _0x5cc8af[_0x55b1c3(0x16b)](_0x40cc70),_0x5cc8af[_0x55b1c3(0xa0)](0x0,0x0,0x0,0x0),_0x5cc8af;}function scrollToToday(){const _0x1f28d3=getLocalDateStr(new Date());setTimeout(()=>{const _0x4056f3=a3_0x3a2f,_0x3fbc0f=document[_0x4056f3(0x10d)]('.day-col-header[data-date=\x22'+_0x1f28d3+'\x22]');if(_0x3fbc0f){const _0x49f6ae=document['getElementById'](_0x4056f3(0xa6)),_0x2a3b1a=_0x3fbc0f['offsetLeft']-_0x49f6ae[_0x4056f3(0xa9)]/0x2+_0x3fbc0f[_0x4056f3(0x126)]/0x2;_0x49f6ae[_0x4056f3(0x150)]({'left':_0x2a3b1a,'behavior':_0x4056f3(0x115)}),_0x49f6ae[_0x4056f3(0xb4)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4ead41=a3_0x25f420,_0x5de896=new Date(),_0x33e90f=document[_0x4ead41(0x120)]('globalTimeLine'),_0x319a37=document[_0x4ead41(0x120)](_0x4ead41(0x15a)),_0x2577b7=(_0x5de896[_0x4ead41(0x163)]()*0x3c+_0x5de896[_0x4ead41(0x14d)]())/0x3c*GRID_H;_0x33e90f[_0x4ead41(0xb9)][_0x4ead41(0x15d)]=_0x2577b7+'px',_0x33e90f[_0x4ead41(0xb9)][_0x4ead41(0xd1)]='block',_0x319a37[_0x4ead41(0xb9)][_0x4ead41(0x15d)]=_0x2577b7+'px',_0x319a37[_0x4ead41(0xb9)]['display']='block',_0x319a37['textContent']=String(_0x5de896[_0x4ead41(0x163)]())[_0x4ead41(0x100)](0x2,'0')+':'+String(_0x5de896[_0x4ead41(0x14d)]())[_0x4ead41(0x100)](0x2,'0');}function a3_0x6575(){const _0x58fc11=['matrixViewport','#0a84ff','Error\x20setting\x20back\x20button:','clientWidth','insertBefore','\x20—á.','get_slots','reschedule','colIndex','data','none','(((.+)+)+)+$','today','11625712CUNbmN','scrollTop','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','planned','forEach','cancelHint','style','findIndex','analyticsList','error','start','blocked-slot\x20stripe-bg','end','zIndex','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','getDay','cid','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','.period-switch\x20.p-btn','filter','note','anPercent','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','%\x20+\x202px)','show','isArray','href','BackButton','v9.5-CLIENT-ANALYTICS','display','rsSlotsGrid','ready','backgroundColor','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','innerHTML','split','Error\x20setting\x20color:','initDataUnsafe','setItem','saveLocally','%\x20-\x204px)','querySelectorAll','total','width','setHeaderColor','T00:00:00','charAt','.day-column','open','timeColumn','getItem','stopPropagation','week','block','div','dateStr','client_load','Critical\x20TMA\x20Error:','backgroundPosition','completed','flex','initData','\x20-\x20','px\x20-','syncLoad','.sheet','data-day-idx','strokeDashoffset','.btn-cancel','detTime','uc_client_sessions','startsWith','classList','cancelled','custom','detailsSheet','padStart','pattern','day-col-header\x20','anDonutCircle','add','getAttribute','sort','then','onclick','appendChild','expand','className','600','querySelector','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','parse','coach_profiles','remove','216928oWNFMe','.day-col-header','day-column\x20','auto','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–∑–∞\x20','log','<div\x20class=\x22dch-day\x22>','toUpperCase','setMonth','clients','anCustomDates','getMonth','search','getElementById','active','601638AdFsuB','substring','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','offsetWidth','overlay','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','analyticsSheet','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','min','firstChild','toLocaleDateString','round','now','customConfirm','settings','T23:59:59','textContent','length','<span>','mini','</div><div\x20class=\x22dch-num\x22>','scrollLeft','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','getDate','cancel_window','ccYesBtn','gridColumns','substr','status','clientId','applyData','Telegram','createElement','month','anEnd','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','anTotalStats','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsDatesTrack','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','offsetLeft','getMinutes','apply','WebApp','scrollTo','entries','setAttribute','exceptions','getTime','visible','floor','createDocumentFragment','height','DOMContentLoaded','timeLineBadge','router.html','disableVerticalSwipes','top','slice','#050505','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','anStart','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','getHours','6471940MqZbal','<div\x20class=\x22rs-day-name\x22>','data-date','max','getFullYear','ru-RU','toString','setDate','calendar','var(--acc-blue)','offClick','done','\x20–≤\x20','button','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','Unknown','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</div>','</span>\x20/\x20','1597111ouYFyt','client-stat-card','setBackgroundColor','keys','event-card','sid','constructor','seriesId','rescheduleSheet','1274892jDpxza','long','day-off-overlay\x20stripe-bg','detDate','\x20–∏–∑\x20','left','scrollWidth','headerMonth','borderLeftColor','stringify','json','toLocaleString','push','join','coachId','uc_client_settings','ccText','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','calc(','map','all','color','numeric','ccTitle','ranges','993300yGLFng','find','value','setHours','addEventListener','rs-time-btn','POST','fontWeight','daysHeaderTrack'];a3_0x6575=function(){return _0x58fc11;};return a3_0x6575();}function onScroll(){const _0x45c0d4=a3_0x25f420,_0x5aa2f2=document[_0x45c0d4(0x120)](_0x45c0d4(0xa6)),_0x5ac9ae=document[_0x45c0d4(0xdd)](_0x45c0d4(0x113));for(let _0x581513 of _0x5ac9ae)if(_0x581513[_0x45c0d4(0x14c)]>=_0x5aa2f2[_0x45c0d4(0x138)]){const _0x49b071=new Date(_0x581513[_0x45c0d4(0x105)]('data-date'));document[_0x45c0d4(0x120)](_0x45c0d4(0x8b))[_0x45c0d4(0x133)]=_0x49b071[_0x45c0d4(0x8f)]('ru',{'month':_0x45c0d4(0x85)})['toUpperCase']()+'\x20'+_0x49b071[_0x45c0d4(0x168)]();break;}}function showToast(_0x2e876c){const _0x4f0394=a3_0x25f420,_0x4c8849=document[_0x4f0394(0x120)]('toast');_0x4c8849[_0x4f0394(0x133)]=_0x2e876c,_0x4c8849['classList']['add']('show'),setTimeout(()=>_0x4c8849[_0x4f0394(0xfc)]['remove'](_0x4f0394(0xcc)),0x7d0);}function handleInfiniteScroll(){const _0x5c3cb8=a3_0x25f420,_0x4d8ba0=document[_0x5c3cb8(0x120)](_0x5c3cb8(0xa6)),_0x27dad3=_0x4d8ba0['scrollLeft'],_0x59bbe6=_0x4d8ba0[_0x5c3cb8(0x8a)],_0x34327f=_0x4d8ba0[_0x5c3cb8(0xa9)];if(_0x59bbe6-(_0x27dad3+_0x34327f)<0x12c){const _0x3bd061=endOffset;endOffset+=0xe,renderDayRange(_0x3bd061+0x1,endOffset),reRenderBlocks();}if(_0x27dad3<0x12c){const _0x156ad6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x156ad6-0x1),_0x4d8ba0[_0x5c3cb8(0x138)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5da947,_0xa49602){const _0x5256ef=a3_0x25f420,_0x1421c=document['getElementById'](_0x5256ef(0xa5)),_0x52f0aa=document[_0x5256ef(0x120)](_0x5256ef(0x13d)),_0x17699f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18904a=new Date();_0x18904a[_0x5256ef(0xa0)](0x0,0x0,0x0,0x0);const _0x3e2573=getLocalDateStr(new Date()),_0x323a1d=document[_0x5256ef(0x157)](),_0x201091=document[_0x5256ef(0x157)]();for(let _0xede08e=_0x5da947;_0xede08e<=_0xa49602;_0xede08e++){const _0x49d2ef=new Date(_0x18904a);_0x49d2ef[_0x5256ef(0x16b)](_0x49d2ef['getDate']()+_0xede08e);const _0x3bed23=getLocalDateStr(_0x49d2ef);let _0x545ab3=_0x49d2ef['getDay']()-0x1;if(_0x545ab3===-0x1)_0x545ab3=0x6;const _0xd1528c=_0x3bed23===_0x3e2573,_0x4730f0=document[_0x5256ef(0x143)]('div');_0x4730f0[_0x5256ef(0x10b)]=_0x5256ef(0x102)+(_0xd1528c?_0x5256ef(0xb2):''),_0x4730f0[_0x5256ef(0x152)](_0x5256ef(0x166),_0x3bed23),_0x4730f0[_0x5256ef(0xd6)]=_0x5256ef(0x119)+_0x17699f[_0x545ab3]+_0x5256ef(0x137)+_0x49d2ef['getDate']()+_0x5256ef(0x79),_0x323a1d[_0x5256ef(0x109)](_0x4730f0);const _0x188cb6=document['createElement'](_0x5256ef(0xea));_0x188cb6[_0x5256ef(0x10b)]=_0x5256ef(0x114)+(_0xd1528c?_0x5256ef(0xb2):''),_0x188cb6[_0x5256ef(0x152)](_0x5256ef(0x166),_0x3bed23),_0x188cb6['setAttribute'](_0x5256ef(0xf6),_0x545ab3),_0x201091['appendChild'](_0x188cb6);}_0x1421c[_0x5256ef(0xaa)](_0x323a1d,_0x1421c[_0x5256ef(0x12c)]),_0x52f0aa[_0x5256ef(0xaa)](_0x201091,_0x52f0aa[_0x5256ef(0x10d)](_0x5256ef(0xe3)));}function hexToRgba(_0x252a56,_0x285fc1){const _0x39db4a=a3_0x25f420;let _0x35a73d;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x39db4a(0x148)](_0x252a56))return _0x35a73d=_0x252a56[_0x39db4a(0x123)](0x1)['split'](''),_0x35a73d[_0x39db4a(0x134)]==0x3&&(_0x35a73d=[_0x35a73d[0x0],_0x35a73d[0x0],_0x35a73d[0x1],_0x35a73d[0x1],_0x35a73d[0x2],_0x35a73d[0x2]]),_0x35a73d='0x'+_0x35a73d[_0x39db4a(0x91)](''),'rgba('+[_0x35a73d>>0x10&0xff,_0x35a73d>>0x8&0xff,_0x35a73d&0xff][_0x39db4a(0x91)](',')+','+_0x285fc1+')';return'rgba(10,\x20132,\x20255,\x20'+_0x285fc1+')';}let confirmResolver=null;function showCustomConfirm(_0x3df28a,_0x1bfb1e,_0x52c23e=!![]){const _0x3905cd=a3_0x25f420;document['getElementById'](_0x3905cd(0x9b))[_0x3905cd(0x133)]=_0x3df28a,document[_0x3905cd(0x120)](_0x3905cd(0x94))[_0x3905cd(0x133)]=_0x1bfb1e;const _0x2ac7c6=document[_0x3905cd(0x120)](_0x3905cd(0x13c));return _0x52c23e?(_0x2ac7c6['style'][_0x3905cd(0x99)]='#ff453a',_0x2ac7c6[_0x3905cd(0xb9)][_0x3905cd(0xa4)]=_0x3905cd(0x10c)):(_0x2ac7c6[_0x3905cd(0xb9)][_0x3905cd(0x99)]=_0x3905cd(0xa7),_0x2ac7c6[_0x3905cd(0xb9)][_0x3905cd(0xa4)]='600'),new Promise(_0x2c4ebc=>{const _0xbf8c1b=_0x3905cd;confirmResolver=_0x2c4ebc,document[_0xbf8c1b(0x120)](_0xbf8c1b(0x130))[_0xbf8c1b(0xfc)][_0xbf8c1b(0x104)]('visible');});}function resolveCustomConfirm(_0xf004bf){const _0x4a646d=a3_0x25f420;document['getElementById'](_0x4a646d(0x130))[_0x4a646d(0xfc)]['remove'](_0x4a646d(0x155));if(confirmResolver)confirmResolver(_0xf004bf);}async function tryCancelCurrentSession(){const _0x15080d=a3_0x25f420;if(!currentSession)return;const _0x11028c=await showCustomConfirm(_0x15080d(0x146),_0x15080d(0x124),!![]);if(!_0x11028c)return;const _0x56d7b8=currentSession;closeAllSheets(),sessions=sessions[_0x15080d(0xc6)](_0xf898fc=>_0xf898fc['id']!==_0x56d7b8['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x15080d(0x12f)]();try{const _0x54f2fb=window[_0x15080d(0x142)]?.[_0x15080d(0x14f)],_0xf28f69=await fetch(API_URL,{'method':'POST','body':JSON[_0x15080d(0x8d)]({'action':'client_cancel','init_data':_0x54f2fb?.[_0x15080d(0xf1)]||'','coachId':_0x56d7b8['coachId'],'dateStr':_0x56d7b8[_0x15080d(0xeb)],'sessionId':_0x56d7b8['id']})});if(_0xf28f69['ok'])DataManager['saveLocally']();}catch(_0x1e4cfa){showToast(_0x15080d(0xc9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x413a9e=a3_0x25f420;if(!currentSession)return;document[_0x413a9e(0x120)](_0x413a9e(0xff))[_0x413a9e(0xfc)]['remove'](_0x413a9e(0xe4)),document[_0x413a9e(0x120)](_0x413a9e(0x83))[_0x413a9e(0xfc)]['add']('open');const _0x219f14=document[_0x413a9e(0x120)](_0x413a9e(0x14a)),_0x2cbc2c=document[_0x413a9e(0x120)]('rsSlotsGrid');_0x219f14[_0x413a9e(0xd6)]='',_0x2cbc2c['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0xb2f8e9,_0x3aaf5a]=currentSession['start'][_0x413a9e(0xd7)](':')[_0x413a9e(0x97)](Number),[_0x3b223c,_0x2887d8]=currentSession[_0x413a9e(0xbf)][_0x413a9e(0xd7)](':')['map'](Number),_0x162dfc=_0x3b223c*0x3c+_0x2887d8-(_0xb2f8e9*0x3c+_0x3aaf5a);try{const _0x1e49f6=window[_0x413a9e(0x142)]?.[_0x413a9e(0x14f)],_0x4d116e=await fetch(API_URL,{'method':_0x413a9e(0xa3),'body':JSON[_0x413a9e(0x8d)]({'action':_0x413a9e(0xac),'coachId':currentSession['coachId'],'duration':_0x162dfc,'init_data':_0x1e49f6?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x290bf9=await _0x4d116e[_0x413a9e(0x8e)]();_0x290bf9['ok']&&_0x290bf9[_0x413a9e(0xaf)]?(availableSlotsCache=_0x290bf9['data'],renderRescheduleDates()):_0x2cbc2c[_0x413a9e(0xd6)]=_0x413a9e(0x162);}catch(_0x12ca7d){_0x2cbc2c[_0x413a9e(0xd6)]=_0x413a9e(0x160);}}function renderRescheduleDates(){const _0x1eb16d=a3_0x25f420,_0x22307f=document['getElementById']('rsDatesTrack');_0x22307f[_0x1eb16d(0xd6)]='';const _0x4a21e8=Object[_0x1eb16d(0x7e)](availableSlotsCache)['sort'](),_0x429a15=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4a21e8[_0x1eb16d(0x134)]===0x0){document[_0x1eb16d(0x120)](_0x1eb16d(0xd2))[_0x1eb16d(0xd6)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x4a21e8[_0x1eb16d(0xb7)]((_0x7a5d10,_0x1d27b0)=>{const _0x3dc0f8=_0x1eb16d,_0x3022ac=new Date(_0x7a5d10),_0xae0f18=_0x429a15[_0x3022ac['getDay']()],_0x374275=_0x3022ac[_0x3dc0f8(0x13a)](),_0x192079=document[_0x3dc0f8(0x143)](_0x3dc0f8(0xea));_0x192079[_0x3dc0f8(0x10b)]='rs-date-chip';if(_0x1d27b0===0x0)_0x192079['classList'][_0x3dc0f8(0x104)](_0x3dc0f8(0x121));_0x192079['innerHTML']=_0x3dc0f8(0x165)+_0xae0f18+'</div><div\x20class=\x22rs-day-num\x22>'+_0x374275+_0x3dc0f8(0x79),_0x192079[_0x3dc0f8(0x108)]=()=>selectRsDate(_0x7a5d10,_0x192079),_0x22307f[_0x3dc0f8(0x109)](_0x192079);}),selectRsDate(_0x4a21e8[0x0],_0x22307f['firstChild']);}function selectRsDate(_0x248412,_0x39e53d){const _0x4dc4c7=a3_0x25f420;selectedRsDate=_0x248412,document['querySelectorAll']('.rs-date-chip')[_0x4dc4c7(0xb7)](_0x5743a0=>_0x5743a0[_0x4dc4c7(0xfc)][_0x4dc4c7(0x111)](_0x4dc4c7(0x121)));if(_0x39e53d)_0x39e53d['classList'][_0x4dc4c7(0x104)]('active');const _0xbf1792=document['getElementById'](_0x4dc4c7(0xd2));_0xbf1792[_0x4dc4c7(0xd6)]='';const _0x129c11=availableSlotsCache[_0x248412]||[];if(_0x129c11[_0x4dc4c7(0x134)]===0x0){_0xbf1792['innerHTML']=_0x4dc4c7(0x162);return;}_0x129c11[_0x4dc4c7(0xb7)](_0x1992f1=>{const _0x3154ee=_0x4dc4c7,_0x453db5=document[_0x3154ee(0x143)](_0x3154ee(0x75));_0x453db5['className']=_0x3154ee(0xa2),_0x453db5[_0x3154ee(0x133)]=_0x1992f1,_0x453db5['onclick']=()=>confirmReschedule(_0x1992f1),_0xbf1792[_0x3154ee(0x109)](_0x453db5);});}async function confirmReschedule(_0x20c07d){const _0x3390ac=a3_0x25f420,_0x34fd72=new Date(selectedRsDate),_0x150946=_0x34fd72[_0x3390ac(0x12d)](_0x3390ac(0x169),{'day':'numeric','month':_0x3390ac(0x85)}),_0x51eb99=await showCustomConfirm(_0x3390ac(0x95),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x150946+_0x3390ac(0x170)+_0x20c07d+'?',![]);if(!_0x51eb99)return;closeAllSheets(),showToast(_0x3390ac(0x139)),lastUserActionTime=Date[_0x3390ac(0x12f)]();const _0x416f89=currentSession['dateStr'],_0x12ff85=currentSession['id'],[_0xa50a3d,_0x4fb420]=currentSession[_0x3390ac(0xbd)][_0x3390ac(0xd7)](':')[_0x3390ac(0x97)](Number),[_0x4b190e,_0x57c39a]=currentSession[_0x3390ac(0xbf)][_0x3390ac(0xd7)](':')[_0x3390ac(0x97)](Number),_0x389c7b=_0x4b190e*0x3c+_0x57c39a-(_0xa50a3d*0x3c+_0x4fb420),[_0x4ddc65,_0x486c5f]=_0x20c07d[_0x3390ac(0xd7)](':')[_0x3390ac(0x97)](Number),_0x12bcf3=_0x4ddc65*0x3c+_0x486c5f+_0x389c7b,_0x1c1185=Math[_0x3390ac(0x156)](_0x12bcf3/0x3c),_0x5bfae1=_0x12bcf3%0x3c,_0x37e85a=String(_0x1c1185)['padStart'](0x2,'0')+':'+String(_0x5bfae1)[_0x3390ac(0x100)](0x2,'0'),_0xc27a06=sessions[_0x3390ac(0xba)](_0x195aba=>_0x195aba['id']===_0x12ff85);_0xc27a06!==-0x1&&(sessions[_0xc27a06]['dateStr']=selectedRsDate,sessions[_0xc27a06][_0x3390ac(0xbd)]=_0x20c07d,sessions[_0xc27a06][_0x3390ac(0xbf)]=_0x37e85a,reRenderBlocks());try{const _0x1c441a=window[_0x3390ac(0x142)]?.[_0x3390ac(0x14f)],_0x487402=await fetch(API_URL,{'method':_0x3390ac(0xa3),'body':JSON[_0x3390ac(0x8d)]({'action':_0x3390ac(0xad),'init_data':_0x1c441a?.[_0x3390ac(0xf1)]||'','oldSessionId':_0x12ff85,'oldDate':_0x416f89,'newDate':selectedRsDate,'newTime':_0x20c07d,'coachId':currentSession[_0x3390ac(0x92)]})}),_0x171ea0=await _0x487402[_0x3390ac(0x8e)]();!_0x171ea0['ok']?(showToast(_0x3390ac(0x76)),DataManager[_0x3390ac(0xf4)]()):(showToast(_0x3390ac(0x128)),DataManager[_0x3390ac(0xdb)]());}catch(_0x2c3b6d){showToast(_0x3390ac(0xc9));}}document['addEventListener'](a3_0x25f420(0x159),init);