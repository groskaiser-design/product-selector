const a3_0x221761=a3_0x4c01;(function(_0x4183eb,_0x1c4ccb){const _0x299a48=a3_0x4c01,_0x5eea76=_0x4183eb();while(!![]){try{const _0x4dbf6a=parseInt(_0x299a48(0x175))/0x1*(-parseInt(_0x299a48(0x234))/0x2)+parseInt(_0x299a48(0x1a8))/0x3*(parseInt(_0x299a48(0x231))/0x4)+-parseInt(_0x299a48(0x17c))/0x5*(-parseInt(_0x299a48(0x19a))/0x6)+-parseInt(_0x299a48(0x1b0))/0x7+parseInt(_0x299a48(0x1a6))/0x8+parseInt(_0x299a48(0x1c2))/0x9+-parseInt(_0x299a48(0x206))/0xa;if(_0x4dbf6a===_0x1c4ccb)break;else _0x5eea76['push'](_0x5eea76['shift']());}catch(_0x542366){_0x5eea76['push'](_0x5eea76['shift']());}}}(a3_0x459f,0xe79bf));function a3_0x459f(){const _0x30c154=['1287978kpEvPe','\x20—á.','createElement','completed','custom','</span>\x20/\x20','.day-col-header','reschedule','12191109fzaEaq','saveLocally','gridColumns','%\x20-\x204px)','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','expand','className','Error\x20setting\x20back\x20button:','status','uc_client_sessions','calendar','customConfirm','div','#ff453a','fontWeight','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setHours','blocked-slot\x20stripe-bg','9476523SlluYJ','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','Error\x20setting\x20color:','</div><div\x20class=\x22rs-day-num\x22>','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','rsDatesTrack','textContent','test','data-date','exceptions','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','flex','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','sid','top','forEach','\x20status-completed','getFullYear','dateStr','T23:59:59','appendChild','max','syncLoad','length','left','querySelectorAll','clientId','scrollWidth','client_cancel','applyData','apply','borderLeftColor','startsWith','setMonth','anStart','disableVerticalSwipes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','json','getItem','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','detDate','active','get_slots','.btn-reschedule','join','settings','timeColumn','toLocaleDateString','add','timeLineBadge','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','block','#050505','colIndex','coach_profiles','substr','<span>','auto','router.html','day-off-overlay\x20stripe-bg','querySelector','filter','DOMContentLoaded','–û—Ç–º–µ–Ω–µ–Ω–æ','ru-RU','backgroundPosition','clientWidth','3460340qxlrGZ','keys','none','sort','</div><div\x20class=\x22dch-num\x22>','(((.+)+)+)+$','push','onclick',':00</span>','clients','style','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','<div\x20class=\x22dch-day\x22>','href','getAttribute','now','setDate','data','coachId','seriesId','ccYesBtn','map','backgroundColor','getElementById','value','.day-column','offsetWidth','overlay','height','getMonth','cancelContainer','anEnd','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','done','analyticsList','600','addEventListener','getTime','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','px\x20-','visible','getDay','16NnYBkp','Unknown','show','2JgUIFJ','cancelled','start','min','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','.rs-date-chip','round','find','\x20–≤\x20','getHours','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','BackButton','WebApp','client-stat-card','createDocumentFragment','</div>','note','setHeaderColor','initData','onClick','scrollLeft','search','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Critical\x20TMA\x20Error:','end','event-card','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','innerHTML','cid','cancelHint','anPercent','error','findIndex','.sheet','toString','var(--acc-blue)','constructor','numeric','button','rsSlotsGrid','detNote','T00:00:00','parse','client_load','split','.btn-cancel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','POST','offsetLeft','Telegram','long','padStart','calc(','1532857btmCle','anCustomDates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','isArray','week','remove','toast','815VeKjJP','<div\x20class=\x22rs-day-name\x22>','anDonutCircle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','\x20–∏–∑\x20','\x20-\x20','setItem','firstChild','color','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','scrollTo','uc_client_list','.period-switch\x20.p-btn','getMinutes','anTotalStats','setAttribute','uc_client_settings','mini','classList','detailsSheet','matrixViewport','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','day-column\x20','data-day-idx','pattern','rgba(10,\x20132,\x20255,\x20','total','open','ranges','rgba(','33282VrsUzf','substring','rescheduleSheet','stringify','time-label','getDate','var(--acc-green)','setBackgroundColor','today','entries','log','display','7157896lauDGf','rs-date-chip'];a3_0x459f=function(){return _0x30c154;};return a3_0x459f();}const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x221761(0x1cf),GRID_H=0x3c,KEY_SESSIONS=a3_0x221761(0x1b9),KEY_SETTINGS=a3_0x221761(0x18c),KEY_CLIENTS=a3_0x221761(0x187);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x221761(0x179),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1d7a18=a3_0x221761,_0x50f1a5=(function(){let _0x3b7ca9=!![];return function(_0x254d44,_0x28fd58){const _0x2ad4bc=_0x3b7ca9?function(){const _0x2b01d3=a3_0x4c01;if(_0x28fd58){const _0x4e8281=_0x28fd58[_0x2b01d3(0x1e1)](_0x254d44,arguments);return _0x28fd58=null,_0x4e8281;}}:function(){};return _0x3b7ca9=![],_0x2ad4bc;};}()),_0x3287db=_0x50f1a5(this,function(){const _0x18b314=a3_0x4c01;return _0x3287db[_0x18b314(0x162)]()[_0x18b314(0x155)](_0x18b314(0x20b))[_0x18b314(0x162)]()[_0x18b314(0x164)](_0x3287db)[_0x18b314(0x155)]('(((.+)+)+)+$');});_0x3287db();try{const _0xa38c77=window[_0x1d7a18(0x171)]?.[_0x1d7a18(0x14c)];if(!_0xa38c77)return;_0xa38c77['ready'](),_0xa38c77[_0x1d7a18(0x1b5)]();try{_0xa38c77[_0x1d7a18(0x151)](_0x1d7a18(0x1f7)),_0xa38c77[_0x1d7a18(0x1a1)]&&_0xa38c77[_0x1d7a18(0x1a1)]('#050505');}catch(_0xad960c){console[_0x1d7a18(0x1a4)](_0x1d7a18(0x1c4),_0xad960c);}try{_0xa38c77[_0x1d7a18(0x14b)]&&(_0xa38c77['BackButton'][_0x1d7a18(0x233)](),_0xa38c77[_0x1d7a18(0x14b)]['offClick'](),_0xa38c77[_0x1d7a18(0x14b)][_0x1d7a18(0x153)](function(){const _0x447542=_0x1d7a18;window['location'][_0x447542(0x214)]=_0x447542(0x1fd);}));}catch(_0x11daef){console[_0x1d7a18(0x1a4)](_0x1d7a18(0x1b7),_0x11daef);}try{if(_0xa38c77[_0x1d7a18(0x1e6)])_0xa38c77[_0x1d7a18(0x1e6)]();}catch(_0x266ff3){}}catch(_0x17f8b0){console[_0x1d7a18(0x15f)](_0x1d7a18(0x157),_0x17f8b0);}}());function isAdmin(){const _0x206528=a3_0x221761;try{const _0x33bee8=Number(window[_0x206528(0x171)]?.[_0x206528(0x14c)]?.['initDataUnsafe']?.['user']?.['id']);return _0x33bee8===0xbaf7174;}catch(_0x1a9056){return![];}}const DataManager={'saveLocally'(){const _0x4c61b7=a3_0x221761;try{localStorage[_0x4c61b7(0x182)](KEY_SESSIONS,JSON[_0x4c61b7(0x19d)](sessions)),localStorage[_0x4c61b7(0x182)](KEY_CLIENTS,JSON[_0x4c61b7(0x19d)](clients)),localStorage[_0x4c61b7(0x182)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x22ee69){}},'loadLocal'(){const _0x19beef=a3_0x221761;try{const _0x47bd4f=localStorage[_0x19beef(0x1e9)](KEY_SESSIONS);if(_0x47bd4f)sessions=JSON['parse'](_0x47bd4f);const _0x485f2d=localStorage['getItem'](KEY_CLIENTS);if(_0x485f2d)clients=JSON[_0x19beef(0x16a)](_0x485f2d);const _0x514818=localStorage[_0x19beef(0x1e9)](KEY_SETTINGS);if(_0x514818){const _0x19fd20=JSON[_0x19beef(0x16a)](_0x514818);if(_0x19fd20['pattern'])availabilityPattern=_0x19fd20[_0x19beef(0x194)];if(_0x19fd20[_0x19beef(0x198)])specialRanges=_0x19fd20[_0x19beef(0x198)];if(_0x19fd20[_0x19beef(0x1cb)])dateExceptions=_0x19fd20[_0x19beef(0x1cb)];}}catch(_0x13a032){}},async 'syncLoad'(){const _0x17c0db=a3_0x221761,_0x246cff=new Date(),_0x2006eb=_0x246cff[_0x17c0db(0x1d4)]()+'-'+String(_0x246cff[_0x17c0db(0x224)]()+0x1)[_0x17c0db(0x173)](0x2,'0'),_0x58a471=new Date(_0x246cff);_0x58a471[_0x17c0db(0x1e4)](_0x246cff[_0x17c0db(0x224)]()+0x1);const _0xd5260f=_0x58a471[_0x17c0db(0x1d4)]()+'-'+String(_0x58a471[_0x17c0db(0x224)]()+0x1)['padStart'](0x2,'0'),_0x58b2bc=Date['now']();try{const _0x4a5e73=window['Telegram']?.[_0x17c0db(0x14c)],_0x1e5ee7=_0x4a5e73?.[_0x17c0db(0x152)]||'',[_0x2e3f2a,_0x3150a3]=await Promise['all']([fetch(API_URL,{'method':_0x17c0db(0x16f),'body':JSON[_0x17c0db(0x19d)]({'action':_0x17c0db(0x16b),'init_data':_0x1e5ee7,'month_str':_0x2006eb})})['then'](_0x2773d8=>_0x2773d8[_0x17c0db(0x1e8)]()),fetch(API_URL,{'method':_0x17c0db(0x16f),'body':JSON[_0x17c0db(0x19d)]({'action':_0x17c0db(0x16b),'init_data':_0x1e5ee7,'month_str':_0xd5260f})})['then'](_0x1bc38b=>_0x1bc38b[_0x17c0db(0x1e8)]())]);if(lastUserActionTime>_0x58b2bc){console['log'](_0x17c0db(0x15a));return;}if(_0x2e3f2a['ok'])this[_0x17c0db(0x1e0)](_0x2e3f2a[_0x17c0db(0x218)],_0x2006eb);if(_0x3150a3['ok'])this['applyData'](_0x3150a3[_0x17c0db(0x218)],_0xd5260f);this[_0x17c0db(0x1b1)]();}catch(_0x11316e){}},'applyData'(_0xa45d83,_0x5018ac){const _0x91b44d=a3_0x221761;if(!_0xa45d83)return;if(_0xa45d83[_0x91b44d(0x1f0)]){if(_0xa45d83['settings'][_0x91b44d(0x194)])availabilityPattern=_0xa45d83[_0x91b44d(0x1f0)][_0x91b44d(0x194)];if(_0xa45d83[_0x91b44d(0x1f0)][_0x91b44d(0x198)])specialRanges=_0xa45d83[_0x91b44d(0x1f0)][_0x91b44d(0x198)];if(_0xa45d83[_0x91b44d(0x1f0)][_0x91b44d(0x1cb)])dateExceptions=_0xa45d83[_0x91b44d(0x1f0)]['exceptions'];}if(_0xa45d83[_0x91b44d(0x20f)]&&Array[_0x91b44d(0x178)](_0xa45d83[_0x91b44d(0x20f)]))clients=_0xa45d83[_0x91b44d(0x20f)];_0xa45d83[_0x91b44d(0x1f9)]&&(coachProfiles={...coachProfiles,..._0xa45d83[_0x91b44d(0x1f9)]}),_0xa45d83[_0x91b44d(0x1ba)]&&(sessions=sessions[_0x91b44d(0x200)](_0xc3e0be=>!_0xc3e0be['dateStr'][_0x91b44d(0x1e3)](_0x5018ac)),Object['keys'](_0xa45d83[_0x91b44d(0x1ba)])[_0x91b44d(0x1d2)](_0x12cd4a=>{const _0xd73726=_0x91b44d,_0x59d7bd=_0xa45d83[_0xd73726(0x1ba)][_0x12cd4a];_0x59d7bd[_0xd73726(0x1d2)](_0x4e5df5=>{const _0x596507=_0xd73726;sessions[_0x596507(0x20c)]({'id':_0x4e5df5['i'],'clientId':_0x4e5df5['c'],'coachId':_0x4e5df5[_0x596507(0x15c)],'dateStr':_0x5018ac+'-'+_0x12cd4a[_0x596507(0x173)](0x2,'0'),'start':_0x4e5df5['s'],'end':_0x4e5df5['e'],'note':_0x4e5df5['n']||'','status':_0x4e5df5['st']||'planned','seriesId':_0x4e5df5[_0x596507(0x1d0)]});});})),reRenderBlocks();}};function init(){const _0x380d50=a3_0x221761;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x380d50(0x21e)](_0x380d50(0x190))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x21f44b=a3_0x221761,_0x7e433f=document[_0x21f44b(0x21e)](_0x21f44b(0x1f1)),_0x5a2ac4=document['getElementById']('timeLineBadge');_0x7e433f[_0x21f44b(0x15b)]='',_0x7e433f[_0x21f44b(0x1d7)](_0x5a2ac4);for(let _0x1fa248=0x0;_0x1fa248<0x18;_0x1fa248++){const _0x187c32=document[_0x21f44b(0x1aa)](_0x21f44b(0x1bc));_0x187c32['className']=_0x21f44b(0x19e);if(_0x1fa248>0x0)_0x187c32['innerHTML']=_0x21f44b(0x1fb)+String(_0x1fa248)['padStart'](0x2,'0')+_0x21f44b(0x20e);_0x7e433f[_0x21f44b(0x1d7)](_0x187c32);}}function renderDayRange(_0x1ee194,_0x38ed0e){const _0x5a7317=a3_0x221761,_0x122248=document[_0x5a7317(0x21e)]('daysHeaderTrack'),_0x45244c=document['getElementById'](_0x5a7317(0x1b2)),_0x3f1442=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x360191=new Date();_0x360191[_0x5a7317(0x1c0)](0x0,0x0,0x0,0x0);const _0x132316=getLocalDateStr(new Date());for(let _0x4ab588=_0x1ee194;_0x4ab588<=_0x38ed0e;_0x4ab588++){const _0x1fa08c=new Date(_0x360191);_0x1fa08c[_0x5a7317(0x217)](_0x1fa08c[_0x5a7317(0x19f)]()+_0x4ab588);const _0x2cd43d=getLocalDateStr(_0x1fa08c);let _0x3defef=_0x1fa08c[_0x5a7317(0x230)]()-0x1;if(_0x3defef===-0x1)_0x3defef=0x6;const _0x5bb929=_0x2cd43d===_0x132316,_0x52e1d1=document[_0x5a7317(0x1aa)]('div');_0x52e1d1['className']='day-col-header\x20'+(_0x5bb929?_0x5a7317(0x1a2):''),_0x52e1d1[_0x5a7317(0x18b)]('data-date',_0x2cd43d),_0x52e1d1['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x3f1442[_0x3defef]+'</div><div\x20class=\x22dch-num\x22>'+_0x1fa08c['getDate']()+_0x5a7317(0x14f),_0x122248[_0x5a7317(0x1d7)](_0x52e1d1);const _0x2b93e4=document[_0x5a7317(0x1aa)](_0x5a7317(0x1bc));_0x2b93e4['className']=_0x5a7317(0x192)+(_0x5bb929?_0x5a7317(0x1a2):''),_0x2b93e4[_0x5a7317(0x18b)]('data-date',_0x2cd43d),_0x2b93e4[_0x5a7317(0x18b)]('data-day-idx',_0x3defef),_0x45244c['appendChild'](_0x2b93e4);}}function reRenderBlocks(){const _0x2d1c3c=a3_0x221761;document[_0x2d1c3c(0x1dc)](_0x2d1c3c(0x220))[_0x2d1c3c(0x1d2)](_0x4011af=>{const _0x4faff3=_0x2d1c3c;_0x4011af['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4faff3(0x1d2)](_0x303e97=>_0x303e97['remove']());const _0x2f428e=_0x4011af[_0x4faff3(0x215)](_0x4faff3(0x1ca)),_0x118ad1=parseInt(_0x4011af[_0x4faff3(0x215)](_0x4faff3(0x193))),_0x13bd3e=Math[_0x4faff3(0x23a)](_0x4011af[_0x4faff3(0x170)]);(availabilityPattern[_0x118ad1]||[])[_0x4faff3(0x1d2)](_0x541e01=>{const _0x15df76=_0x4faff3,_0x5a64da=document[_0x15df76(0x1aa)](_0x15df76(0x1bc));_0x5a64da[_0x15df76(0x1b6)]=_0x15df76(0x1c1),_0x5a64da['style'][_0x15df76(0x1d1)]=_0x541e01*GRID_H+'px',_0x5a64da[_0x15df76(0x210)][_0x15df76(0x204)]='-'+_0x13bd3e+_0x15df76(0x22e)+_0x541e01*GRID_H+'px',_0x4011af[_0x15df76(0x1d7)](_0x5a64da);});if(specialRanges[_0x4faff3(0x1da)]>0x0){const _0x29f06b=new Date(_0x2f428e+_0x4faff3(0x169))[_0x4faff3(0x22c)](),_0x509aa4=new Date(_0x2f428e+_0x4faff3(0x1d6))[_0x4faff3(0x22c)]();specialRanges[_0x4faff3(0x1d2)](_0xa53863=>{const _0x3b11a0=_0x4faff3,_0x159fee=new Date(_0xa53863[_0x3b11a0(0x236)])['getTime'](),_0x30a7fd=new Date(_0xa53863[_0x3b11a0(0x158)])[_0x3b11a0(0x22c)](),_0x4be428=Math['max'](_0x29f06b,_0x159fee),_0x12f774=Math[_0x3b11a0(0x237)](_0x509aa4,_0x30a7fd);if(_0x4be428<_0x12f774){const _0x3f9e10=(_0x4be428-_0x29f06b)/0x36ee80*GRID_H,_0x59a2a7=(_0x12f774-_0x4be428)/0x36ee80*GRID_H,_0x34ed82=document[_0x3b11a0(0x1aa)](_0x3b11a0(0x1bc));_0x59a2a7>=23.5*GRID_H?(_0x34ed82[_0x3b11a0(0x1b6)]=_0x3b11a0(0x1fe),_0x34ed82[_0x3b11a0(0x210)][_0x3b11a0(0x204)]='-'+_0x13bd3e+'px\x200px'):(_0x34ed82[_0x3b11a0(0x1b6)]='blocked-range-part\x20stripe-bg',_0x34ed82['style']['top']=_0x3f9e10+'px',_0x34ed82[_0x3b11a0(0x210)][_0x3b11a0(0x223)]=_0x59a2a7+'px',_0x34ed82[_0x3b11a0(0x210)][_0x3b11a0(0x204)]='-'+_0x13bd3e+_0x3b11a0(0x22e)+_0x3f9e10+'px'),_0x4011af[_0x3b11a0(0x1d7)](_0x34ed82);}});}renderEventsForColumn(_0x4011af,_0x2f428e);});}function renderEventsForColumn(_0x374dd6,_0xbecad9){const _0x13956c=a3_0x221761,_0x3a194a=sessions['filter'](_0xaf7f24=>_0xaf7f24[_0x13956c(0x1d5)]===_0xbecad9),_0x33cd73=_0x3a194a[_0x13956c(0x21c)](_0x721b52=>{const _0x126231=_0x13956c,[_0x2c6726,_0x444be7]=_0x721b52[_0x126231(0x236)][_0x126231(0x16c)](':')[_0x126231(0x21c)](Number),[_0x571e1f,_0x59b09f]=_0x721b52[_0x126231(0x158)]['split'](':')[_0x126231(0x21c)](Number);return{'data':_0x721b52,'start':_0x2c6726*0x3c+_0x444be7,'end':_0x571e1f*0x3c+_0x59b09f,'colIndex':0x0};});_0x33cd73[_0x13956c(0x209)]((_0x5d37c3,_0x392f8a)=>_0x5d37c3[_0x13956c(0x236)]-_0x392f8a[_0x13956c(0x236)]||_0x392f8a[_0x13956c(0x158)]-_0x392f8a['start']-(_0x5d37c3['end']-_0x5d37c3[_0x13956c(0x236)]));const _0x5ed5b8=[];_0x33cd73['forEach'](_0x55cb15=>{const _0x47bad8=_0x13956c;let _0x2df692=![];for(let _0x5903dd=0x0;_0x5903dd<_0x5ed5b8['length'];_0x5903dd++){const _0x4f84e2=_0x5ed5b8[_0x5903dd];if(_0x55cb15['start']>=_0x4f84e2[_0x4f84e2[_0x47bad8(0x1da)]-0x1][_0x47bad8(0x158)]){_0x4f84e2['push'](_0x55cb15),_0x55cb15['colIndex']=_0x5903dd,_0x2df692=!![];break;}}!_0x2df692&&(_0x5ed5b8[_0x47bad8(0x20c)]([_0x55cb15]),_0x55cb15['colIndex']=_0x5ed5b8[_0x47bad8(0x1da)]-0x1);}),_0x33cd73['forEach'](_0x30d6e1=>{const _0x3e3c5e=_0x13956c;let _0x121987=0x0;_0x33cd73['forEach'](_0x1ecfc3=>{const _0x4de52e=a3_0x4c01;if(Math['max'](_0x30d6e1[_0x4de52e(0x236)],_0x1ecfc3['start'])<Math['min'](_0x30d6e1[_0x4de52e(0x158)],_0x1ecfc3[_0x4de52e(0x158)])&&_0x1ecfc3[_0x4de52e(0x1f8)]>_0x121987)_0x121987=_0x1ecfc3['colIndex'];});const _0x43bc5d=_0x121987+0x1,_0x1421ff=0x64/_0x43bc5d,_0x5abefe=_0x30d6e1[_0x3e3c5e(0x1f8)]*_0x1421ff,_0x3228a1=document[_0x3e3c5e(0x1aa)](_0x3e3c5e(0x1bc)),_0x3278db=_0x30d6e1['data'];let _0x1d5aeb='#0a84ff';if(clients&&clients[_0x3e3c5e(0x1da)]>0x0){const _0x1f2636=clients[_0x3e3c5e(0x147)](_0x3841bd=>String(_0x3841bd['id'])===String(_0x3278db[_0x3e3c5e(0x1dd)]));if(_0x1f2636&&_0x1f2636[_0x3e3c5e(0x184)])_0x1d5aeb=_0x1f2636[_0x3e3c5e(0x184)];}const _0x2c5bd7=_0x3278db[_0x3e3c5e(0x1b8)]==='completed',_0x75a29=_0x2c5bd7?0x1:0.45;_0x3228a1[_0x3e3c5e(0x1b6)]=_0x3e3c5e(0x159)+(_0x2c5bd7?_0x3e3c5e(0x1d3):''),_0x3228a1[_0x3e3c5e(0x210)][_0x3e3c5e(0x21d)]=hexToRgba(_0x1d5aeb,_0x75a29),_0x3228a1['style']['borderLeftColor']=_0x1d5aeb;const _0x334b92=_0x30d6e1[_0x3e3c5e(0x236)]/0x3c*GRID_H,_0x40764a=(_0x30d6e1[_0x3e3c5e(0x158)]-_0x30d6e1[_0x3e3c5e(0x236)])/0x3c*GRID_H;_0x3228a1[_0x3e3c5e(0x210)][_0x3e3c5e(0x1d1)]=_0x334b92+'px',_0x3228a1[_0x3e3c5e(0x210)][_0x3e3c5e(0x223)]=Math[_0x3e3c5e(0x1d8)](_0x40764a,0x14)+'px',_0x3228a1[_0x3e3c5e(0x210)]['width']=_0x3e3c5e(0x174)+_0x1421ff+_0x3e3c5e(0x1b3),_0x3228a1[_0x3e3c5e(0x210)][_0x3e3c5e(0x1db)]=_0x3e3c5e(0x174)+_0x5abefe+'%\x20+\x202px)',_0x3228a1[_0x3e3c5e(0x210)]['zIndex']=0xa+_0x30d6e1[_0x3e3c5e(0x1f8)];if(_0x1421ff<0x55)_0x3228a1[_0x3e3c5e(0x18e)][_0x3e3c5e(0x1f3)](_0x3e3c5e(0x18d));let _0x463889='';if(_0x3278db[_0x3e3c5e(0x21a)])_0x463889+=_0x3e3c5e(0x185);if(_0x2c5bd7)_0x463889+=_0x3e3c5e(0x1ea);_0x3228a1[_0x3e3c5e(0x15b)]=_0x3e3c5e(0x177)+_0x3278db[_0x3e3c5e(0x236)]+_0x3e3c5e(0x181)+_0x3278db[_0x3e3c5e(0x158)]+_0x3e3c5e(0x156)+_0x463889+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3228a1[_0x3e3c5e(0x20d)]=_0x31496b=>{_0x31496b['stopPropagation'](),openDetails(_0x3278db);},_0x374dd6[_0x3e3c5e(0x1d7)](_0x3228a1);});}function openAnalytics(){const _0x54a84f=a3_0x221761,_0x28ff55=document[_0x54a84f(0x1ff)](_0x54a84f(0x188));setAnalyticsPeriod(_0x54a84f(0x179),_0x28ff55),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x246adb,_0x4a139f){const _0x530082=a3_0x221761;currentAnPeriod=_0x246adb,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x530082(0x1d2)](_0x5e6d21=>_0x5e6d21[_0x530082(0x18e)]['remove']('active'));if(_0x4a139f)_0x4a139f[_0x530082(0x18e)][_0x530082(0x1f3)](_0x530082(0x1ec));const _0x2ef661=document[_0x530082(0x21e)](_0x530082(0x176));_0x2ef661[_0x530082(0x210)][_0x530082(0x1a5)]=_0x246adb===_0x530082(0x1ac)?_0x530082(0x1ce):_0x530082(0x208);const _0xb8a25e=new Date();let _0x46bea7=new Date(),_0x2a963b=new Date();if(_0x246adb==='week')_0x46bea7=getStartOfWeek(_0xb8a25e),_0x2a963b=new Date(_0x46bea7),_0x2a963b['setDate'](_0x2a963b['getDate']()+0x6);else{if(_0x246adb==='month')_0x46bea7=new Date(_0xb8a25e[_0x530082(0x1d4)](),_0xb8a25e[_0x530082(0x224)](),0x1),_0x2a963b=new Date(_0xb8a25e[_0x530082(0x1d4)](),_0xb8a25e['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x530082(0x1e5))[_0x530082(0x21f)]&&(document[_0x530082(0x21e)](_0x530082(0x1e5))[_0x530082(0x21f)]=getLocalDateStr(_0xb8a25e),document[_0x530082(0x21e)](_0x530082(0x226))[_0x530082(0x21f)]=getLocalDateStr(_0xb8a25e));refreshAnalytics();return;}}document['getElementById'](_0x530082(0x1e5))['value']=getLocalDateStr(_0x46bea7),document[_0x530082(0x21e)](_0x530082(0x226))[_0x530082(0x21f)]=getLocalDateStr(_0x2a963b),refreshAnalytics();}function refreshAnalytics(){const _0x155114=a3_0x221761,_0x185c80=document[_0x155114(0x21e)](_0x155114(0x1e5))[_0x155114(0x21f)],_0x3a9f90=document[_0x155114(0x21e)](_0x155114(0x226))[_0x155114(0x21f)];if(!_0x185c80||!_0x3a9f90)return;const _0x2d855a=sessions[_0x155114(0x200)](_0x5bd994=>_0x5bd994[_0x155114(0x1d5)]>=_0x185c80&&_0x5bd994[_0x155114(0x1d5)]<=_0x3a9f90&&_0x5bd994[_0x155114(0x1b8)]!==_0x155114(0x235)),_0x577dc8=_0x2d855a[_0x155114(0x1da)],_0x4ae155=_0x2d855a[_0x155114(0x200)](_0x5a381f=>_0x5a381f[_0x155114(0x1b8)]===_0x155114(0x1ab))[_0x155114(0x1da)],_0x190930=_0x577dc8>0x0?Math[_0x155114(0x23a)](_0x4ae155/_0x577dc8*0x64):0x0;document[_0x155114(0x21e)](_0x155114(0x15e))[_0x155114(0x1c8)]=_0x190930+'%',document[_0x155114(0x21e)](_0x155114(0x18a))[_0x155114(0x1c8)]=_0x4ae155+_0x155114(0x180)+_0x577dc8+_0x155114(0x14a);const _0x377700=document[_0x155114(0x21e)](_0x155114(0x17e)),_0x578e93=0x2*Math['PI']*0x23,_0x498d21=_0x578e93-_0x190930/0x64*_0x578e93;_0x377700[_0x155114(0x210)]['strokeDashoffset']=_0x498d21;const _0x4d322d={};_0x2d855a[_0x155114(0x1d2)](_0x3f5f81=>{const _0x46dd55=_0x155114,_0x427da3=_0x3f5f81[_0x46dd55(0x219)]||_0x46dd55(0x232);if(!_0x4d322d[_0x427da3]){const _0x3407e3='#'+_0x427da3[_0x46dd55(0x162)]()[_0x46dd55(0x1fa)](0x0,0x6);_0x4d322d[_0x427da3]={'total':0x0,'done':0x0,'color':_0x3407e3};}_0x4d322d[_0x427da3][_0x46dd55(0x196)]++;if(_0x3f5f81['status']===_0x46dd55(0x1ab))_0x4d322d[_0x427da3]['done']++;});const _0x1b0967=document[_0x155114(0x21e)](_0x155114(0x229));_0x1b0967[_0x155114(0x15b)]='';const _0x253efa=Object[_0x155114(0x1a3)](_0x4d322d)['sort']((_0x495034,_0x2750d9)=>_0x2750d9[0x1]['total']-_0x495034[0x1]['total']);if(_0x253efa[_0x155114(0x1da)]===0x0){_0x1b0967[_0x155114(0x15b)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x253efa[_0x155114(0x1d2)](([_0x272137,_0x383e48])=>{const _0xf43d32=_0x155114,_0x323050=Math['round'](_0x383e48[_0xf43d32(0x228)]/_0x383e48[_0xf43d32(0x196)]*0x64),_0x1e02c4=document['createElement'](_0xf43d32(0x1bc));_0x1e02c4[_0xf43d32(0x1b6)]=_0xf43d32(0x14d),_0x1e02c4[_0xf43d32(0x210)][_0xf43d32(0x1e2)]=_0x383e48['color'],_0x1e02c4['innerHTML']=_0xf43d32(0x17f)+_0x272137[_0xf43d32(0x1fa)](0x0,0x5)+_0xf43d32(0x16e)+_0x383e48[_0xf43d32(0x228)]+_0xf43d32(0x1ad)+_0x383e48[_0xf43d32(0x196)]+_0xf43d32(0x1e7)+_0x323050+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1b0967[_0xf43d32(0x1d7)](_0x1e02c4);});}function openDetails(_0x495561){const _0x27cd7a=a3_0x221761;currentSession=_0x495561;const _0x55fc59=new Date(_0x495561[_0x27cd7a(0x1d5)]),_0x142887=_0x55fc59[_0x27cd7a(0x1f2)](_0x27cd7a(0x203),{'weekday':'long','day':'numeric','month':'long'});document[_0x27cd7a(0x21e)](_0x27cd7a(0x1eb))[_0x27cd7a(0x1c8)]=_0x142887['charAt'](0x0)['toUpperCase']()+_0x142887['slice'](0x1),document[_0x27cd7a(0x21e)]('detTime')[_0x27cd7a(0x1c8)]=_0x495561[_0x27cd7a(0x236)]+'\x20-\x20'+_0x495561[_0x27cd7a(0x158)],document[_0x27cd7a(0x21e)](_0x27cd7a(0x168))[_0x27cd7a(0x1c8)]=_0x495561[_0x27cd7a(0x150)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x5c5e3f=document[_0x27cd7a(0x21e)]('detStatus'),_0x4f4715=document[_0x27cd7a(0x21e)](_0x27cd7a(0x225)),_0x4066d1=_0x4f4715[_0x27cd7a(0x1ff)](_0x27cd7a(0x16d)),_0x3635eb=_0x4f4715['querySelector'](_0x27cd7a(0x1ee)),_0x5003fc=document[_0x27cd7a(0x21e)](_0x27cd7a(0x15d));if(_0x495561[_0x27cd7a(0x1b8)]===_0x27cd7a(0x1ab))_0x5c5e3f[_0x27cd7a(0x1c8)]=_0x27cd7a(0x191),_0x5c5e3f['style'][_0x27cd7a(0x184)]=_0x27cd7a(0x1a0),_0x4f4715['style'][_0x27cd7a(0x1a5)]='none';else{_0x5c5e3f['textContent']=_0x27cd7a(0x227),_0x5c5e3f['style'][_0x27cd7a(0x184)]=_0x27cd7a(0x163),_0x4f4715[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]='block';const _0x180d2f=new Date(_0x495561[_0x27cd7a(0x1d5)]+'T'+_0x495561[_0x27cd7a(0x236)]),_0x5d3a9a=new Date(),_0x1b7f30=(_0x180d2f-_0x5d3a9a)/(0x3e8*0x3c*0x3c),_0x136ee0=coachProfiles[_0x495561['coachId']]&&coachProfiles[_0x495561[_0x27cd7a(0x219)]]['cancel_window']?parseInt(coachProfiles[_0x495561[_0x27cd7a(0x219)]]['cancel_window']):0x18;if(_0x136ee0===0x0||_0x1b7f30>=_0x136ee0)_0x4066d1[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]=_0x27cd7a(0x1f6),_0x3635eb[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]='block',_0x5003fc[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]=_0x27cd7a(0x208);else{_0x4066d1[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]=_0x27cd7a(0x208),_0x3635eb['style']['display']=_0x27cd7a(0x208),_0x5003fc[_0x27cd7a(0x210)][_0x27cd7a(0x1a5)]=_0x27cd7a(0x1f6);let _0x1f4134=_0x136ee0===0x0?_0x27cd7a(0x1cd):'–∑–∞\x20'+_0x136ee0+_0x27cd7a(0x1a9);_0x5003fc['textContent']=_0x27cd7a(0x1b4)+_0x1f4134+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x27cd7a(0x21e)](_0x27cd7a(0x222))['classList'][_0x27cd7a(0x1f3)](_0x27cd7a(0x1ec)),document['getElementById'](_0x27cd7a(0x18f))['classList'][_0x27cd7a(0x1f3)]('open');}function closeAllSheets(){const _0x24501b=a3_0x221761;document[_0x24501b(0x21e)]('overlay')['classList']['remove'](_0x24501b(0x1ec)),document[_0x24501b(0x1dc)](_0x24501b(0x161))[_0x24501b(0x1d2)](_0x49e6bd=>_0x49e6bd[_0x24501b(0x18e)][_0x24501b(0x17a)]('open'));}function openSheet(_0x1c5b2e){const _0x32a41f=a3_0x221761;document[_0x32a41f(0x21e)](_0x32a41f(0x222))[_0x32a41f(0x18e)][_0x32a41f(0x1f3)](_0x32a41f(0x1ec)),document[_0x32a41f(0x21e)](_0x1c5b2e)['classList']['add'](_0x32a41f(0x197));}function getLocalDateStr(_0x240c9a){const _0x3fbd38=a3_0x221761,_0x5e6435=_0x240c9a[_0x3fbd38(0x1d4)](),_0x63535a=String(_0x240c9a[_0x3fbd38(0x224)]()+0x1)['padStart'](0x2,'0'),_0x508c39=String(_0x240c9a['getDate']())[_0x3fbd38(0x173)](0x2,'0');return _0x5e6435+'-'+_0x63535a+'-'+_0x508c39;}function getStartOfWeek(_0x46ab3f){const _0x14ce91=a3_0x221761,_0x52c969=new Date(_0x46ab3f),_0x431dd2=_0x52c969['getDay'](),_0x2c9fa0=_0x52c969['getDate']()-_0x431dd2+(_0x431dd2===0x0?-0x6:0x1);return _0x52c969[_0x14ce91(0x217)](_0x2c9fa0),_0x52c969[_0x14ce91(0x1c0)](0x0,0x0,0x0,0x0),_0x52c969;}function scrollToToday(){const _0x4cc24a=getLocalDateStr(new Date());setTimeout(()=>{const _0x445b1d=a3_0x4c01,_0x19e809=document[_0x445b1d(0x1ff)]('.day-col-header[data-date=\x22'+_0x4cc24a+'\x22]');if(_0x19e809){const _0x2dd622=document[_0x445b1d(0x21e)](_0x445b1d(0x190)),_0x3c0517=_0x19e809[_0x445b1d(0x170)]-_0x2dd622[_0x445b1d(0x205)]/0x2+_0x19e809[_0x445b1d(0x221)]/0x2;_0x2dd622[_0x445b1d(0x186)]({'left':_0x3c0517,'behavior':_0x445b1d(0x1fc)}),_0x2dd622['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5a1c54=a3_0x221761,_0x16df05=new Date(),_0x369a84=document[_0x5a1c54(0x21e)]('globalTimeLine'),_0x58c930=document[_0x5a1c54(0x21e)](_0x5a1c54(0x1f4)),_0x141270=(_0x16df05[_0x5a1c54(0x149)]()*0x3c+_0x16df05['getMinutes']())/0x3c*GRID_H;_0x369a84[_0x5a1c54(0x210)]['top']=_0x141270+'px',_0x369a84[_0x5a1c54(0x210)]['display']=_0x5a1c54(0x1f6),_0x58c930[_0x5a1c54(0x210)][_0x5a1c54(0x1d1)]=_0x141270+'px',_0x58c930[_0x5a1c54(0x210)]['display']=_0x5a1c54(0x1f6),_0x58c930[_0x5a1c54(0x1c8)]=String(_0x16df05[_0x5a1c54(0x149)]())['padStart'](0x2,'0')+':'+String(_0x16df05[_0x5a1c54(0x189)]())[_0x5a1c54(0x173)](0x2,'0');}function onScroll(){const _0x4db199=a3_0x221761,_0x14b1d9=document[_0x4db199(0x21e)](_0x4db199(0x190)),_0x36a3d2=document[_0x4db199(0x1dc)](_0x4db199(0x1ae));for(let _0x569f93 of _0x36a3d2)if(_0x569f93['offsetLeft']>=_0x14b1d9['scrollLeft']){const _0x58b5a7=new Date(_0x569f93[_0x4db199(0x215)](_0x4db199(0x1ca)));document[_0x4db199(0x21e)]('headerMonth')[_0x4db199(0x1c8)]=_0x58b5a7['toLocaleString']('ru',{'month':_0x4db199(0x172)})['toUpperCase']()+'\x20'+_0x58b5a7[_0x4db199(0x1d4)]();break;}}function showToast(_0x4a9435){const _0x1e95ed=a3_0x221761,_0xa11d7a=document[_0x1e95ed(0x21e)](_0x1e95ed(0x17b));_0xa11d7a[_0x1e95ed(0x1c8)]=_0x4a9435,_0xa11d7a[_0x1e95ed(0x18e)][_0x1e95ed(0x1f3)](_0x1e95ed(0x233)),setTimeout(()=>_0xa11d7a['classList']['remove'](_0x1e95ed(0x233)),0x7d0);}function a3_0x4c01(_0x11affb,_0xe2ef47){_0x11affb=_0x11affb-0x147;const _0x3dcefb=a3_0x459f();let _0x145242=_0x3dcefb[_0x11affb];return _0x145242;}function handleInfiniteScroll(){const _0x403fde=a3_0x221761,_0x714363=document[_0x403fde(0x21e)](_0x403fde(0x190)),_0x10a45d=_0x714363[_0x403fde(0x154)],_0x10eb87=_0x714363[_0x403fde(0x1de)],_0x409ed6=_0x714363[_0x403fde(0x205)];if(_0x10eb87-(_0x10a45d+_0x409ed6)<0x12c){const _0x5dcd74=endOffset;endOffset+=0xe,renderDayRange(_0x5dcd74+0x1,endOffset),reRenderBlocks();}if(_0x10a45d<0x12c){const _0x2e7b6b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2e7b6b-0x1),_0x714363[_0x403fde(0x154)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3e0937,_0x356d38){const _0x2fad1a=a3_0x221761,_0x48c50f=document[_0x2fad1a(0x21e)]('daysHeaderTrack'),_0x234aba=document[_0x2fad1a(0x21e)](_0x2fad1a(0x1b2)),_0x4b744b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xfb7e55=new Date();_0xfb7e55[_0x2fad1a(0x1c0)](0x0,0x0,0x0,0x0);const _0x484790=getLocalDateStr(new Date()),_0x247025=document[_0x2fad1a(0x14e)](),_0x5d1a07=document[_0x2fad1a(0x14e)]();for(let _0x836237=_0x3e0937;_0x836237<=_0x356d38;_0x836237++){const _0xd1ad71=new Date(_0xfb7e55);_0xd1ad71['setDate'](_0xd1ad71['getDate']()+_0x836237);const _0x9bc0a3=getLocalDateStr(_0xd1ad71);let _0x2acf3b=_0xd1ad71[_0x2fad1a(0x230)]()-0x1;if(_0x2acf3b===-0x1)_0x2acf3b=0x6;const _0x3e0700=_0x9bc0a3===_0x484790,_0x1611ed=document[_0x2fad1a(0x1aa)](_0x2fad1a(0x1bc));_0x1611ed[_0x2fad1a(0x1b6)]='day-col-header\x20'+(_0x3e0700?_0x2fad1a(0x1a2):''),_0x1611ed[_0x2fad1a(0x18b)](_0x2fad1a(0x1ca),_0x9bc0a3),_0x1611ed[_0x2fad1a(0x15b)]=_0x2fad1a(0x213)+_0x4b744b[_0x2acf3b]+_0x2fad1a(0x20a)+_0xd1ad71[_0x2fad1a(0x19f)]()+_0x2fad1a(0x14f),_0x247025['appendChild'](_0x1611ed);const _0x2b7931=document[_0x2fad1a(0x1aa)]('div');_0x2b7931['className']=_0x2fad1a(0x192)+(_0x3e0700?_0x2fad1a(0x1a2):''),_0x2b7931[_0x2fad1a(0x18b)]('data-date',_0x9bc0a3),_0x2b7931[_0x2fad1a(0x18b)]('data-day-idx',_0x2acf3b),_0x5d1a07['appendChild'](_0x2b7931);}_0x48c50f['insertBefore'](_0x247025,_0x48c50f[_0x2fad1a(0x183)]),_0x234aba['insertBefore'](_0x5d1a07,_0x234aba[_0x2fad1a(0x1ff)](_0x2fad1a(0x220)));}function hexToRgba(_0x2c942b,_0x3fb530){const _0x5425ed=a3_0x221761;let _0x48ef3d;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5425ed(0x1c9)](_0x2c942b))return _0x48ef3d=_0x2c942b[_0x5425ed(0x19b)](0x1)[_0x5425ed(0x16c)](''),_0x48ef3d[_0x5425ed(0x1da)]==0x3&&(_0x48ef3d=[_0x48ef3d[0x0],_0x48ef3d[0x0],_0x48ef3d[0x1],_0x48ef3d[0x1],_0x48ef3d[0x2],_0x48ef3d[0x2]]),_0x48ef3d='0x'+_0x48ef3d['join'](''),_0x5425ed(0x199)+[_0x48ef3d>>0x10&0xff,_0x48ef3d>>0x8&0xff,_0x48ef3d&0xff][_0x5425ed(0x1ef)](',')+','+_0x3fb530+')';return _0x5425ed(0x195)+_0x3fb530+')';}let confirmResolver=null;function showCustomConfirm(_0x5c33cf,_0xeda30a,_0x55cc11=!![]){const _0x5b2ed4=a3_0x221761;document[_0x5b2ed4(0x21e)]('ccTitle')['textContent']=_0x5c33cf,document[_0x5b2ed4(0x21e)]('ccText')['textContent']=_0xeda30a;const _0x43cfe8=document['getElementById'](_0x5b2ed4(0x21b));return _0x55cc11?(_0x43cfe8[_0x5b2ed4(0x210)][_0x5b2ed4(0x184)]=_0x5b2ed4(0x1bd),_0x43cfe8[_0x5b2ed4(0x210)][_0x5b2ed4(0x1be)]=_0x5b2ed4(0x22a)):(_0x43cfe8[_0x5b2ed4(0x210)][_0x5b2ed4(0x184)]='#0a84ff',_0x43cfe8[_0x5b2ed4(0x210)][_0x5b2ed4(0x1be)]=_0x5b2ed4(0x22a)),new Promise(_0x36fe1d=>{const _0x193d27=_0x5b2ed4;confirmResolver=_0x36fe1d,document[_0x193d27(0x21e)]('customConfirm')[_0x193d27(0x18e)][_0x193d27(0x1f3)](_0x193d27(0x22f));});}function resolveCustomConfirm(_0x5e86df){const _0x3d2ae=a3_0x221761;document[_0x3d2ae(0x21e)](_0x3d2ae(0x1bb))['classList'][_0x3d2ae(0x17a)]('visible');if(confirmResolver)confirmResolver(_0x5e86df);}async function tryCancelCurrentSession(){const _0x1f1d7b=a3_0x221761;if(!currentSession)return;const _0x4cf6a8=await showCustomConfirm(_0x1f1d7b(0x1c3),_0x1f1d7b(0x1cc),!![]);if(!_0x4cf6a8)return;const _0x1811a1=currentSession;closeAllSheets(),sessions=sessions[_0x1f1d7b(0x200)](_0x229152=>_0x229152['id']!==_0x1811a1['id']),reRenderBlocks(),showToast(_0x1f1d7b(0x202)),lastUserActionTime=Date[_0x1f1d7b(0x216)]();try{const _0x19875a=window[_0x1f1d7b(0x171)]?.[_0x1f1d7b(0x14c)],_0x3153e2=await fetch(API_URL,{'method':_0x1f1d7b(0x16f),'body':JSON['stringify']({'action':_0x1f1d7b(0x1df),'init_data':_0x19875a?.[_0x1f1d7b(0x152)]||'','coachId':_0x1811a1[_0x1f1d7b(0x219)],'dateStr':_0x1811a1[_0x1f1d7b(0x1d5)],'sessionId':_0x1811a1['id']})});if(_0x3153e2['ok'])DataManager['saveLocally']();}catch(_0x34d465){showToast(_0x1f1d7b(0x22d));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2c2700=a3_0x221761;if(!currentSession)return;document[_0x2c2700(0x21e)](_0x2c2700(0x18f))[_0x2c2700(0x18e)]['remove'](_0x2c2700(0x197)),document[_0x2c2700(0x21e)](_0x2c2700(0x19c))[_0x2c2700(0x18e)][_0x2c2700(0x1f3)](_0x2c2700(0x197));const _0x5d5245=document[_0x2c2700(0x21e)](_0x2c2700(0x1c7)),_0x7df768=document['getElementById'](_0x2c2700(0x167));_0x5d5245[_0x2c2700(0x15b)]='',_0x7df768[_0x2c2700(0x15b)]=_0x2c2700(0x238);const [_0x122cd2,_0x57ae2a]=currentSession['start']['split'](':')[_0x2c2700(0x21c)](Number),[_0x522481,_0xb6138f]=currentSession[_0x2c2700(0x158)][_0x2c2700(0x16c)](':')[_0x2c2700(0x21c)](Number),_0x265989=_0x522481*0x3c+_0xb6138f-(_0x122cd2*0x3c+_0x57ae2a);try{const _0x2c6c32=window[_0x2c2700(0x171)]?.[_0x2c2700(0x14c)],_0x15c6d8=await fetch(API_URL,{'method':'POST','body':JSON[_0x2c2700(0x19d)]({'action':_0x2c2700(0x1ed),'coachId':currentSession[_0x2c2700(0x219)],'duration':_0x265989,'init_data':_0x2c6c32?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1e952a=await _0x15c6d8[_0x2c2700(0x1e8)]();_0x1e952a['ok']&&_0x1e952a['data']?(availableSlotsCache=_0x1e952a['data'],renderRescheduleDates()):_0x7df768[_0x2c2700(0x15b)]=_0x2c2700(0x211);}catch(_0x27ae53){_0x7df768[_0x2c2700(0x15b)]=_0x2c2700(0x1f5);}}function renderRescheduleDates(){const _0x1f1a92=a3_0x221761,_0x2660f2=document[_0x1f1a92(0x21e)](_0x1f1a92(0x1c7));_0x2660f2[_0x1f1a92(0x15b)]='';const _0x10e349=Object[_0x1f1a92(0x207)](availableSlotsCache)[_0x1f1a92(0x209)](),_0x2e8c1f=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x10e349[_0x1f1a92(0x1da)]===0x0){document[_0x1f1a92(0x21e)]('rsSlotsGrid')[_0x1f1a92(0x15b)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x10e349[_0x1f1a92(0x1d2)]((_0x2e873c,_0x27acdd)=>{const _0x2f2e91=_0x1f1a92,_0x580bac=new Date(_0x2e873c),_0x5c54ff=_0x2e8c1f[_0x580bac[_0x2f2e91(0x230)]()],_0xd3bae6=_0x580bac[_0x2f2e91(0x19f)](),_0x7b1122=document['createElement'](_0x2f2e91(0x1bc));_0x7b1122['className']=_0x2f2e91(0x1a7);if(_0x27acdd===0x0)_0x7b1122[_0x2f2e91(0x18e)][_0x2f2e91(0x1f3)](_0x2f2e91(0x1ec));_0x7b1122[_0x2f2e91(0x15b)]=_0x2f2e91(0x17d)+_0x5c54ff+_0x2f2e91(0x1c5)+_0xd3bae6+_0x2f2e91(0x14f),_0x7b1122[_0x2f2e91(0x20d)]=()=>selectRsDate(_0x2e873c,_0x7b1122),_0x2660f2['appendChild'](_0x7b1122);}),selectRsDate(_0x10e349[0x0],_0x2660f2['firstChild']);}function selectRsDate(_0xfd7578,_0x4d2922){const _0x575809=a3_0x221761;selectedRsDate=_0xfd7578,document['querySelectorAll'](_0x575809(0x239))[_0x575809(0x1d2)](_0x247ac8=>_0x247ac8['classList'][_0x575809(0x17a)]('active'));if(_0x4d2922)_0x4d2922[_0x575809(0x18e)][_0x575809(0x1f3)](_0x575809(0x1ec));const _0x5341fa=document['getElementById']('rsSlotsGrid');_0x5341fa['innerHTML']='';const _0x428529=availableSlotsCache[_0xfd7578]||[];if(_0x428529[_0x575809(0x1da)]===0x0){_0x5341fa[_0x575809(0x15b)]=_0x575809(0x211);return;}_0x428529['forEach'](_0xa1074e=>{const _0x59f69d=_0x575809,_0x186e6b=document[_0x59f69d(0x1aa)](_0x59f69d(0x166));_0x186e6b['className']='rs-time-btn',_0x186e6b[_0x59f69d(0x1c8)]=_0xa1074e,_0x186e6b[_0x59f69d(0x20d)]=()=>confirmReschedule(_0xa1074e),_0x5341fa[_0x59f69d(0x1d7)](_0x186e6b);});}async function confirmReschedule(_0x88e837){const _0x283ff5=a3_0x221761,_0xfb4a91=new Date(selectedRsDate),_0x4ef0da=_0xfb4a91[_0x283ff5(0x1f2)](_0x283ff5(0x203),{'day':_0x283ff5(0x165),'month':'long'}),_0x1c70d2=await showCustomConfirm(_0x283ff5(0x1c6),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x4ef0da+_0x283ff5(0x148)+_0x88e837+'?',![]);if(!_0x1c70d2)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x283ff5(0x216)]();const _0x359880=currentSession[_0x283ff5(0x1d5)],_0x59eb9e=currentSession['id'],[_0x574559,_0x23225f]=currentSession['start'][_0x283ff5(0x16c)](':')[_0x283ff5(0x21c)](Number),[_0x1459af,_0x357a30]=currentSession[_0x283ff5(0x158)]['split'](':')[_0x283ff5(0x21c)](Number),_0x5cd070=_0x1459af*0x3c+_0x357a30-(_0x574559*0x3c+_0x23225f),[_0x50186d,_0x218494]=_0x88e837[_0x283ff5(0x16c)](':')[_0x283ff5(0x21c)](Number),_0x4ceb62=_0x50186d*0x3c+_0x218494+_0x5cd070,_0x8d2f63=Math['floor'](_0x4ceb62/0x3c),_0x5766ca=_0x4ceb62%0x3c,_0x2dc4b0=String(_0x8d2f63)[_0x283ff5(0x173)](0x2,'0')+':'+String(_0x5766ca)[_0x283ff5(0x173)](0x2,'0'),_0x19dcc8=sessions[_0x283ff5(0x160)](_0x731730=>_0x731730['id']===_0x59eb9e);_0x19dcc8!==-0x1&&(sessions[_0x19dcc8][_0x283ff5(0x1d5)]=selectedRsDate,sessions[_0x19dcc8][_0x283ff5(0x236)]=_0x88e837,sessions[_0x19dcc8][_0x283ff5(0x158)]=_0x2dc4b0,reRenderBlocks());try{const _0x39a261=window[_0x283ff5(0x171)]?.[_0x283ff5(0x14c)],_0x55f303=await fetch(API_URL,{'method':'POST','body':JSON[_0x283ff5(0x19d)]({'action':_0x283ff5(0x1af),'init_data':_0x39a261?.[_0x283ff5(0x152)]||'','oldSessionId':_0x59eb9e,'oldDate':_0x359880,'newDate':selectedRsDate,'newTime':_0x88e837,'coachId':currentSession[_0x283ff5(0x219)]})}),_0x4a7c33=await _0x55f303[_0x283ff5(0x1e8)]();!_0x4a7c33['ok']?(showToast(_0x283ff5(0x1bf)),DataManager[_0x283ff5(0x1d9)]()):(showToast(_0x283ff5(0x212)),DataManager[_0x283ff5(0x1b1)]());}catch(_0x3e84b1){showToast(_0x283ff5(0x22d));}}document[a3_0x221761(0x22b)](a3_0x221761(0x201),init);