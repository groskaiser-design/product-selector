const a3_0x2c7dd1=a3_0x350a;(function(_0xd65ea5,_0x4ab2b5){const _0x43f17f=a3_0x350a,_0x40af27=_0xd65ea5();while(!![]){try{const _0x1ad7e1=parseInt(_0x43f17f(0xf7))/0x1*(parseInt(_0x43f17f(0x13e))/0x2)+parseInt(_0x43f17f(0xce))/0x3*(-parseInt(_0x43f17f(0x13d))/0x4)+parseInt(_0x43f17f(0x1a6))/0x5+-parseInt(_0x43f17f(0x121))/0x6*(parseInt(_0x43f17f(0xd6))/0x7)+parseInt(_0x43f17f(0x114))/0x8*(parseInt(_0x43f17f(0x180))/0x9)+-parseInt(_0x43f17f(0x117))/0xa*(-parseInt(_0x43f17f(0xe4))/0xb)+-parseInt(_0x43f17f(0x11d))/0xc*(parseInt(_0x43f17f(0x166))/0xd);if(_0x1ad7e1===_0x4ab2b5)break;else _0x40af27['push'](_0x40af27['shift']());}catch(_0x3bcd44){_0x40af27['push'](_0x40af27['shift']());}}}(a3_0x587d,0xe8d24));const APP_VERSION=a3_0x2c7dd1(0x182),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2c7dd1(0x197),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2c7dd1(0x161),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2109e2=a3_0x2c7dd1,_0x2d1b81=(function(){let _0x5618e4=!![];return function(_0x3032dd,_0x5f207c){const _0x1e71d2=_0x5618e4?function(){const _0x5614f9=a3_0x350a;if(_0x5f207c){const _0x558191=_0x5f207c[_0x5614f9(0x163)](_0x3032dd,arguments);return _0x5f207c=null,_0x558191;}}:function(){};return _0x5618e4=![],_0x1e71d2;};}()),_0xa347f2=_0x2d1b81(this,function(){const _0x16e34b=a3_0x350a;return _0xa347f2['toString']()[_0x16e34b(0xba)]('(((.+)+)+)+$')[_0x16e34b(0x16d)]()['constructor'](_0xa347f2)[_0x16e34b(0xba)]('(((.+)+)+)+$');});_0xa347f2();try{const _0x4b640b=window[_0x2109e2(0x18d)]?.['WebApp'];if(!_0x4b640b)return;_0x4b640b[_0x2109e2(0x11c)](),_0x4b640b[_0x2109e2(0x1ae)]();try{_0x4b640b[_0x2109e2(0x16f)]('#050505'),_0x4b640b[_0x2109e2(0x17d)]&&_0x4b640b[_0x2109e2(0x17d)](_0x2109e2(0x14d));}catch(_0x45b37c){console[_0x2109e2(0x133)](_0x2109e2(0x15a),_0x45b37c);}try{_0x4b640b[_0x2109e2(0x159)]&&(_0x4b640b[_0x2109e2(0x159)][_0x2109e2(0x137)](),_0x4b640b[_0x2109e2(0x159)][_0x2109e2(0x170)](),_0x4b640b[_0x2109e2(0x159)][_0x2109e2(0x165)](function(){const _0x47be86=_0x2109e2;window[_0x47be86(0x198)][_0x47be86(0x17a)]=_0x47be86(0x158);}));}catch(_0x54bb19){console[_0x2109e2(0x133)](_0x2109e2(0x138),_0x54bb19);}try{if(_0x4b640b[_0x2109e2(0xd8)])_0x4b640b[_0x2109e2(0xd8)]();}catch(_0x55725b){}}catch(_0x2715f6){console[_0x2109e2(0xd0)](_0x2109e2(0xcf),_0x2715f6);}}());function isAdmin(){const _0x3a6ca4=a3_0x2c7dd1;try{const _0xa20643=Number(window[_0x3a6ca4(0x18d)]?.[_0x3a6ca4(0xd4)]?.[_0x3a6ca4(0xe7)]?.[_0x3a6ca4(0x188)]?.['id']);return _0xa20643===0xbaf7174;}catch(_0x15588d){return![];}}const DataManager={'saveLocally'(){const _0x3ba1f4=a3_0x2c7dd1;try{localStorage[_0x3ba1f4(0x12a)](KEY_SESSIONS,JSON[_0x3ba1f4(0x14f)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3ba1f4(0x14f)](clients)),localStorage[_0x3ba1f4(0x12a)](KEY_SETTINGS,JSON[_0x3ba1f4(0x14f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x8c2e54){}},'loadLocal'(){const _0x10a34c=a3_0x2c7dd1;try{const _0x22a65f=localStorage[_0x10a34c(0x13b)](KEY_SESSIONS);if(_0x22a65f)sessions=JSON[_0x10a34c(0x113)](_0x22a65f);const _0x16c137=localStorage[_0x10a34c(0x13b)](KEY_CLIENTS);if(_0x16c137)clients=JSON[_0x10a34c(0x113)](_0x16c137);const _0x498a92=localStorage[_0x10a34c(0x13b)](KEY_SETTINGS);if(_0x498a92){const _0x32e40d=JSON['parse'](_0x498a92);if(_0x32e40d[_0x10a34c(0xe0)])availabilityPattern=_0x32e40d['pattern'];if(_0x32e40d[_0x10a34c(0x105)])specialRanges=_0x32e40d['ranges'];if(_0x32e40d[_0x10a34c(0x1ad)])dateExceptions=_0x32e40d[_0x10a34c(0x1ad)];}}catch(_0xf0dbbd){}},async 'syncLoad'(){const _0x42300e=a3_0x2c7dd1,_0x1cf290=new Date(),_0x1a641e=_0x1cf290[_0x42300e(0x143)]()+'-'+String(_0x1cf290[_0x42300e(0xf2)]()+0x1)['padStart'](0x2,'0'),_0xa1ca3=new Date(_0x1cf290);_0xa1ca3[_0x42300e(0x17b)](_0x1cf290[_0x42300e(0xf2)]()+0x1);const _0x5ca269=_0xa1ca3[_0x42300e(0x143)]()+'-'+String(_0xa1ca3[_0x42300e(0xf2)]()+0x1)[_0x42300e(0xc8)](0x2,'0'),_0x493889=Date['now']();try{const _0x284726=window[_0x42300e(0x18d)]?.[_0x42300e(0xd4)],_0x4fc1ee=_0x284726?.['initData']||'',[_0x37f7c5,_0x13f09e]=await Promise[_0x42300e(0x1a7)]([fetch(API_URL,{'method':_0x42300e(0xfa),'body':JSON[_0x42300e(0x14f)]({'action':_0x42300e(0xb9),'init_data':_0x4fc1ee,'month_str':_0x1a641e})})['then'](_0x527cfa=>_0x527cfa[_0x42300e(0xe1)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x42300e(0xb9),'init_data':_0x4fc1ee,'month_str':_0x5ca269})})[_0x42300e(0xd5)](_0x553ed9=>_0x553ed9[_0x42300e(0xe1)]())]);if(lastUserActionTime>_0x493889){console[_0x42300e(0x133)](_0x42300e(0x119));return;}if(_0x37f7c5['ok'])this[_0x42300e(0x178)](_0x37f7c5['data'],_0x1a641e);if(_0x13f09e['ok'])this['applyData'](_0x13f09e[_0x42300e(0x160)],_0x5ca269);this[_0x42300e(0xb5)]();}catch(_0x5edc06){}},'applyData'(_0x29e551,_0x3cc7c4){const _0x96af60=a3_0x2c7dd1;if(!_0x29e551)return;if(_0x29e551[_0x96af60(0xda)]){if(_0x29e551[_0x96af60(0xda)]['pattern'])availabilityPattern=_0x29e551[_0x96af60(0xda)][_0x96af60(0xe0)];if(_0x29e551[_0x96af60(0xda)][_0x96af60(0x105)])specialRanges=_0x29e551[_0x96af60(0xda)][_0x96af60(0x105)];if(_0x29e551[_0x96af60(0xda)]['exceptions'])dateExceptions=_0x29e551[_0x96af60(0xda)][_0x96af60(0x1ad)];}if(_0x29e551[_0x96af60(0x16b)]&&Array[_0x96af60(0xc1)](_0x29e551[_0x96af60(0x16b)]))clients=_0x29e551[_0x96af60(0x16b)];_0x29e551[_0x96af60(0x135)]&&(coachProfiles={...coachProfiles,..._0x29e551[_0x96af60(0x135)]}),_0x29e551[_0x96af60(0xf8)]&&(sessions=sessions[_0x96af60(0xc0)](_0x4ef21c=>!_0x4ef21c[_0x96af60(0x1af)][_0x96af60(0x11b)](_0x3cc7c4)),Object[_0x96af60(0x17e)](_0x29e551[_0x96af60(0xf8)])['forEach'](_0x5178d9=>{const _0x29350a=_0x96af60,_0x5c7b23=_0x29e551['calendar'][_0x5178d9];_0x5c7b23[_0x29350a(0x155)](_0x16344b=>{const _0x4c3a22=_0x29350a;sessions[_0x4c3a22(0xfb)]({'id':_0x16344b['i'],'clientId':_0x16344b['c'],'coachId':_0x16344b[_0x4c3a22(0x183)],'dateStr':_0x3cc7c4+'-'+_0x5178d9[_0x4c3a22(0xc8)](0x2,'0'),'start':_0x16344b['s'],'end':_0x16344b['e'],'note':_0x16344b['n']||'','status':_0x16344b['st']||'planned','seriesId':_0x16344b[_0x4c3a22(0x175)]});});})),reRenderBlocks();}};function init(){const _0x1399a2=a3_0x2c7dd1;DataManager[_0x1399a2(0x11e)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1399a2(0xe9)](_0x1399a2(0x12e))['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x33e06e=a3_0x2c7dd1,_0x55b4d2=document[_0x33e06e(0xe9)]('timeColumn'),_0x249e9e=document[_0x33e06e(0xe9)](_0x33e06e(0xf4));_0x55b4d2['innerHTML']='',_0x55b4d2[_0x33e06e(0x123)](_0x249e9e);for(let _0x32d50f=0x0;_0x32d50f<0x18;_0x32d50f++){const _0x262086=document[_0x33e06e(0x144)]('div');_0x262086[_0x33e06e(0x156)]=_0x33e06e(0xe5);if(_0x32d50f>0x0)_0x262086[_0x33e06e(0x173)]='<span>'+String(_0x32d50f)[_0x33e06e(0xc8)](0x2,'0')+':00</span>';_0x55b4d2[_0x33e06e(0x123)](_0x262086);}}function renderDayRange(_0x1a2209,_0x531863){const _0x3294ad=a3_0x2c7dd1,_0x303d85=document[_0x3294ad(0xe9)]('daysHeaderTrack'),_0x20be55=document[_0x3294ad(0xe9)](_0x3294ad(0x141)),_0x42e3fe=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29c291=new Date();_0x29c291[_0x3294ad(0x132)](0x0,0x0,0x0,0x0);const _0x517c45=getLocalDateStr(new Date());for(let _0x5b7fc0=_0x1a2209;_0x5b7fc0<=_0x531863;_0x5b7fc0++){const _0x2290f5=new Date(_0x29c291);_0x2290f5[_0x3294ad(0xee)](_0x2290f5[_0x3294ad(0x18e)]()+_0x5b7fc0);const _0x5f2213=getLocalDateStr(_0x2290f5);let _0x37070c=_0x2290f5[_0x3294ad(0x127)]()-0x1;if(_0x37070c===-0x1)_0x37070c=0x6;const _0x518618=_0x5f2213===_0x517c45,_0x17ea39=document[_0x3294ad(0x144)](_0x3294ad(0x12f));_0x17ea39[_0x3294ad(0x156)]=_0x3294ad(0x13c)+(_0x518618?_0x3294ad(0xdb):''),_0x17ea39[_0x3294ad(0xef)](_0x3294ad(0x14e),_0x5f2213),_0x17ea39['innerHTML']=_0x3294ad(0xc2)+_0x42e3fe[_0x37070c]+'</div><div\x20class=\x22dch-num\x22>'+_0x2290f5[_0x3294ad(0x18e)]()+_0x3294ad(0xf6),_0x303d85[_0x3294ad(0x123)](_0x17ea39);const _0xde5f5=document['createElement']('div');_0xde5f5[_0x3294ad(0x156)]=_0x3294ad(0xf9)+(_0x518618?_0x3294ad(0xdb):''),_0xde5f5[_0x3294ad(0xef)](_0x3294ad(0x14e),_0x5f2213),_0xde5f5[_0x3294ad(0xef)](_0x3294ad(0x192),_0x37070c),_0x20be55[_0x3294ad(0x123)](_0xde5f5);}}function reRenderBlocks(){const _0x4da026=a3_0x2c7dd1;document[_0x4da026(0x1b0)](_0x4da026(0x196))[_0x4da026(0x155)](_0x4519b1=>{const _0x58f175=_0x4da026;_0x4519b1[_0x58f175(0x1b0)](_0x58f175(0x17c))[_0x58f175(0x155)](_0x271863=>_0x271863[_0x58f175(0x19b)]());const _0x462102=_0x4519b1[_0x58f175(0xf1)](_0x58f175(0x14e)),_0x5df907=parseInt(_0x4519b1[_0x58f175(0xf1)](_0x58f175(0x192))),_0x536ef6=Math['round'](_0x4519b1[_0x58f175(0xed)]);(availabilityPattern[_0x5df907]||[])['forEach'](_0x2e48a3=>{const _0x5c50fc=_0x58f175,_0x1a0521=document[_0x5c50fc(0x144)](_0x5c50fc(0x12f));_0x1a0521[_0x5c50fc(0x156)]=_0x5c50fc(0x122),_0x1a0521[_0x5c50fc(0x116)]['top']=_0x2e48a3*GRID_H+'px',_0x1a0521['style'][_0x5c50fc(0x12c)]='-'+_0x536ef6+_0x5c50fc(0x177)+_0x2e48a3*GRID_H+'px',_0x4519b1[_0x5c50fc(0x123)](_0x1a0521);});if(specialRanges[_0x58f175(0x10e)]>0x0){const _0x2e7198=new Date(_0x462102+'T00:00:00')[_0x58f175(0x171)](),_0x18c6a7=new Date(_0x462102+'T23:59:59')[_0x58f175(0x171)]();specialRanges['forEach'](_0x2ef3db=>{const _0x480abd=_0x58f175,_0x220ffb=new Date(_0x2ef3db[_0x480abd(0x18c)])['getTime'](),_0x20d90b=new Date(_0x2ef3db[_0x480abd(0xdd)])[_0x480abd(0x171)](),_0x194fbd=Math[_0x480abd(0x167)](_0x2e7198,_0x220ffb),_0x591c63=Math[_0x480abd(0x140)](_0x18c6a7,_0x20d90b);if(_0x194fbd<_0x591c63){const _0x4d27b5=(_0x194fbd-_0x2e7198)/0x36ee80*GRID_H,_0x49e41f=(_0x591c63-_0x194fbd)/0x36ee80*GRID_H,_0x10f9b7=document[_0x480abd(0x144)](_0x480abd(0x12f));_0x49e41f>=23.5*GRID_H?(_0x10f9b7[_0x480abd(0x156)]=_0x480abd(0x15e),_0x10f9b7[_0x480abd(0x116)]['backgroundPosition']='-'+_0x536ef6+_0x480abd(0x176)):(_0x10f9b7[_0x480abd(0x156)]=_0x480abd(0xf0),_0x10f9b7[_0x480abd(0x116)]['top']=_0x4d27b5+'px',_0x10f9b7[_0x480abd(0x116)][_0x480abd(0xf3)]=_0x49e41f+'px',_0x10f9b7[_0x480abd(0x116)][_0x480abd(0x12c)]='-'+_0x536ef6+_0x480abd(0x177)+_0x4d27b5+'px'),_0x4519b1[_0x480abd(0x123)](_0x10f9b7);}});}renderEventsForColumn(_0x4519b1,_0x462102);});}function renderEventsForColumn(_0x5afd21,_0x4ea682){const _0x2c95c1=a3_0x2c7dd1,_0x74dbd4=sessions[_0x2c95c1(0xc0)](_0x51e29a=>_0x51e29a['dateStr']===_0x4ea682),_0x5cd3df=_0x74dbd4[_0x2c95c1(0x172)](_0x5c95ab=>{const _0x121710=_0x2c95c1,[_0x1930ac,_0x2d8ac3]=_0x5c95ab[_0x121710(0x18c)][_0x121710(0x14a)](':')[_0x121710(0x172)](Number),[_0x48ac58,_0x163ed8]=_0x5c95ab['end'][_0x121710(0x14a)](':')[_0x121710(0x172)](Number);return{'data':_0x5c95ab,'start':_0x1930ac*0x3c+_0x2d8ac3,'end':_0x48ac58*0x3c+_0x163ed8,'colIndex':0x0};});_0x5cd3df['sort']((_0x733bff,_0x37acfe)=>_0x733bff[_0x2c95c1(0x18c)]-_0x37acfe[_0x2c95c1(0x18c)]||_0x37acfe[_0x2c95c1(0xdd)]-_0x37acfe['start']-(_0x733bff[_0x2c95c1(0xdd)]-_0x733bff[_0x2c95c1(0x18c)]));const _0x4dea2a=[];_0x5cd3df[_0x2c95c1(0x155)](_0x322ee2=>{const _0x42c2ce=_0x2c95c1;let _0x144309=![];for(let _0x1df77c=0x0;_0x1df77c<_0x4dea2a[_0x42c2ce(0x10e)];_0x1df77c++){const _0x5cdf9e=_0x4dea2a[_0x1df77c];if(_0x322ee2[_0x42c2ce(0x18c)]>=_0x5cdf9e[_0x5cdf9e[_0x42c2ce(0x10e)]-0x1]['end']){_0x5cdf9e[_0x42c2ce(0xfb)](_0x322ee2),_0x322ee2['colIndex']=_0x1df77c,_0x144309=!![];break;}}!_0x144309&&(_0x4dea2a['push']([_0x322ee2]),_0x322ee2[_0x42c2ce(0x1a3)]=_0x4dea2a[_0x42c2ce(0x10e)]-0x1);}),_0x5cd3df[_0x2c95c1(0x155)](_0x17ba65=>{const _0x18f7eb=_0x2c95c1;let _0x24b2f2=0x0;_0x5cd3df['forEach'](_0x2fe438=>{const _0x2bb0c6=a3_0x350a;if(Math['max'](_0x17ba65[_0x2bb0c6(0x18c)],_0x2fe438[_0x2bb0c6(0x18c)])<Math[_0x2bb0c6(0x140)](_0x17ba65[_0x2bb0c6(0xdd)],_0x2fe438[_0x2bb0c6(0xdd)])&&_0x2fe438[_0x2bb0c6(0x1a3)]>_0x24b2f2)_0x24b2f2=_0x2fe438[_0x2bb0c6(0x1a3)];});const _0x1797d6=_0x24b2f2+0x1,_0x131c93=0x64/_0x1797d6,_0x508f6e=_0x17ba65['colIndex']*_0x131c93,_0x29e471=document[_0x18f7eb(0x144)](_0x18f7eb(0x12f)),_0x1b49f6=_0x17ba65[_0x18f7eb(0x160)];let _0x522315=_0x18f7eb(0x1a1);if(clients&&clients['length']>0x0){const _0x41fa78=clients['find'](_0x186d5f=>String(_0x186d5f['id'])===String(_0x1b49f6['clientId']));if(_0x41fa78&&_0x41fa78[_0x18f7eb(0x10b)])_0x522315=_0x41fa78[_0x18f7eb(0x10b)];}const _0x4cd59d=_0x1b49f6[_0x18f7eb(0xc7)]===_0x18f7eb(0x10d),_0x35ecca=_0x4cd59d?0x1:0.45;_0x29e471[_0x18f7eb(0x156)]=_0x18f7eb(0x110)+(_0x4cd59d?_0x18f7eb(0x1a0):''),_0x29e471[_0x18f7eb(0x116)][_0x18f7eb(0x1ac)]=hexToRgba(_0x522315,_0x35ecca),_0x29e471[_0x18f7eb(0x116)]['borderLeftColor']=_0x522315;const _0x57fdbe=_0x17ba65[_0x18f7eb(0x18c)]/0x3c*GRID_H,_0x39ed25=(_0x17ba65[_0x18f7eb(0xdd)]-_0x17ba65[_0x18f7eb(0x18c)])/0x3c*GRID_H;_0x29e471[_0x18f7eb(0x116)][_0x18f7eb(0x1a2)]=_0x57fdbe+'px',_0x29e471[_0x18f7eb(0x116)][_0x18f7eb(0xf3)]=Math[_0x18f7eb(0x167)](_0x39ed25,0x14)+'px',_0x29e471['style']['width']=_0x18f7eb(0xea)+_0x131c93+'%\x20-\x204px)',_0x29e471[_0x18f7eb(0x116)][_0x18f7eb(0xb8)]=_0x18f7eb(0xea)+_0x508f6e+_0x18f7eb(0xbb),_0x29e471[_0x18f7eb(0x116)][_0x18f7eb(0x111)]=0xa+_0x17ba65['colIndex'];if(_0x131c93<0x55)_0x29e471['classList'][_0x18f7eb(0x16c)](_0x18f7eb(0x187));let _0x574f60='';if(_0x1b49f6[_0x18f7eb(0x169)])_0x574f60+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x4cd59d)_0x574f60+=_0x18f7eb(0x18f);_0x29e471[_0x18f7eb(0x173)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1b49f6[_0x18f7eb(0x18c)]+_0x18f7eb(0xe2)+_0x1b49f6[_0x18f7eb(0xdd)]+_0x18f7eb(0x154)+_0x574f60+_0x18f7eb(0xb7),_0x29e471[_0x18f7eb(0x168)]=_0xc5c97f=>{const _0x5ed0ac=_0x18f7eb;_0xc5c97f[_0x5ed0ac(0x193)](),openDetails(_0x1b49f6);},_0x5afd21['appendChild'](_0x29e471);});}function openAnalytics(){const _0x51562c=a3_0x2c7dd1,_0x3cb339=document[_0x51562c(0x19d)](_0x51562c(0x19f));setAnalyticsPeriod(_0x51562c(0x161),_0x3cb339),openSheet(_0x51562c(0x14c));}function setAnalyticsPeriod(_0x440426,_0x121368){const _0x3893a0=a3_0x2c7dd1;currentAnPeriod=_0x440426,document['querySelectorAll'](_0x3893a0(0x19f))[_0x3893a0(0x155)](_0x1725c2=>_0x1725c2[_0x3893a0(0x174)][_0x3893a0(0x19b)]('active'));if(_0x121368)_0x121368[_0x3893a0(0x174)][_0x3893a0(0x16c)](_0x3893a0(0x19c));const _0x2c4dbb=document[_0x3893a0(0xe9)]('anCustomDates');_0x2c4dbb['style'][_0x3893a0(0x18b)]=_0x440426===_0x3893a0(0x130)?_0x3893a0(0x147):_0x3893a0(0x16a);const _0x6eb281=new Date();let _0x3789d0=new Date(),_0x2b26ee=new Date();if(_0x440426===_0x3893a0(0x161))_0x3789d0=getStartOfWeek(_0x6eb281),_0x2b26ee=new Date(_0x3789d0),_0x2b26ee[_0x3893a0(0xee)](_0x2b26ee[_0x3893a0(0x18e)]()+0x6);else{if(_0x440426===_0x3893a0(0x10c))_0x3789d0=new Date(_0x6eb281['getFullYear'](),_0x6eb281[_0x3893a0(0xf2)](),0x1),_0x2b26ee=new Date(_0x6eb281[_0x3893a0(0x143)](),_0x6eb281['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x3893a0(0x191))[_0x3893a0(0xcb)]&&(document[_0x3893a0(0xe9)](_0x3893a0(0x191))[_0x3893a0(0xcb)]=getLocalDateStr(_0x6eb281),document[_0x3893a0(0xe9)](_0x3893a0(0xe3))['value']=getLocalDateStr(_0x6eb281));refreshAnalytics();return;}}document['getElementById'](_0x3893a0(0x191))['value']=getLocalDateStr(_0x3789d0),document[_0x3893a0(0xe9)](_0x3893a0(0xe3))[_0x3893a0(0xcb)]=getLocalDateStr(_0x2b26ee),refreshAnalytics();}function refreshAnalytics(){const _0x2e2f21=a3_0x2c7dd1,_0x2981ff=document[_0x2e2f21(0xe9)](_0x2e2f21(0x191))['value'],_0x3bd5b9=document['getElementById'](_0x2e2f21(0xe3))[_0x2e2f21(0xcb)];if(!_0x2981ff||!_0x3bd5b9)return;const _0x4d6bd2=sessions['filter'](_0x2bf039=>_0x2bf039[_0x2e2f21(0x1af)]>=_0x2981ff&&_0x2bf039['dateStr']<=_0x3bd5b9&&_0x2bf039[_0x2e2f21(0xc7)]!==_0x2e2f21(0x194)),_0x458fc7=_0x4d6bd2[_0x2e2f21(0x10e)],_0x37d666=_0x4d6bd2[_0x2e2f21(0xc0)](_0xde01f4=>_0xde01f4[_0x2e2f21(0xc7)]===_0x2e2f21(0x10d))[_0x2e2f21(0x10e)],_0x1b3976=_0x458fc7>0x0?Math[_0x2e2f21(0x125)](_0x37d666/_0x458fc7*0x64):0x0;document[_0x2e2f21(0xe9)]('anPercent')[_0x2e2f21(0xe6)]=_0x1b3976+'%',document[_0x2e2f21(0xe9)](_0x2e2f21(0xb4))[_0x2e2f21(0xe6)]=_0x37d666+_0x2e2f21(0x1aa)+_0x458fc7+_0x2e2f21(0xfc);const _0xb58e6d=document['getElementById']('anDonutCircle'),_0x645f9=0x2*Math['PI']*0x23,_0x5d5ad6=_0x645f9-_0x1b3976/0x64*_0x645f9;_0xb58e6d[_0x2e2f21(0x116)][_0x2e2f21(0xd9)]=_0x5d5ad6;const _0x103010={};_0x4d6bd2[_0x2e2f21(0x155)](_0x4ca801=>{const _0x2bfa6e=_0x2e2f21,_0x2a94d3=_0x4ca801[_0x2bfa6e(0x102)]||_0x2bfa6e(0xe8);if(!_0x103010[_0x2a94d3]){const _0x16338a='#'+_0x2a94d3[_0x2bfa6e(0x16d)]()[_0x2bfa6e(0x142)](0x0,0x6);_0x103010[_0x2a94d3]={'total':0x0,'done':0x0,'color':_0x16338a};}_0x103010[_0x2a94d3][_0x2bfa6e(0x152)]++;if(_0x4ca801[_0x2bfa6e(0xc7)]===_0x2bfa6e(0x10d))_0x103010[_0x2a94d3][_0x2bfa6e(0xc4)]++;});const _0x294651=document[_0x2e2f21(0xe9)](_0x2e2f21(0x17f));_0x294651['innerHTML']='';const _0x1e7899=Object[_0x2e2f21(0x13a)](_0x103010)[_0x2e2f21(0xd2)]((_0x3e6e85,_0x1516b8)=>_0x1516b8[0x1][_0x2e2f21(0x152)]-_0x3e6e85[0x1][_0x2e2f21(0x152)]);if(_0x1e7899['length']===0x0){_0x294651[_0x2e2f21(0x173)]=_0x2e2f21(0x19e);return;}_0x1e7899[_0x2e2f21(0x155)](([_0x47285e,_0xc6fe6f])=>{const _0x1a633a=_0x2e2f21,_0x1233bc=Math[_0x1a633a(0x125)](_0xc6fe6f['done']/_0xc6fe6f[_0x1a633a(0x152)]*0x64),_0x30b854=document[_0x1a633a(0x144)]('div');_0x30b854[_0x1a633a(0x156)]=_0x1a633a(0x11a),_0x30b854[_0x1a633a(0x116)][_0x1a633a(0xf5)]=_0xc6fe6f[_0x1a633a(0x10b)],_0x30b854['innerHTML']=_0x1a633a(0x100)+_0x47285e[_0x1a633a(0x142)](0x0,0x5)+_0x1a633a(0x199)+_0xc6fe6f[_0x1a633a(0xc4)]+_0x1a633a(0xec)+_0xc6fe6f[_0x1a633a(0x152)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1233bc+_0x1a633a(0x16e),_0x294651[_0x1a633a(0x123)](_0x30b854);});}function openDetails(_0x50577f){const _0x3c9bb8=a3_0x2c7dd1;currentSession=_0x50577f;const _0x5bee40=new Date(_0x50577f[_0x3c9bb8(0x1af)]),_0x1fc36e=_0x5bee40['toLocaleDateString'](_0x3c9bb8(0x128),{'weekday':_0x3c9bb8(0x1a4),'day':'numeric','month':_0x3c9bb8(0x1a4)});document['getElementById'](_0x3c9bb8(0xd7))[_0x3c9bb8(0xe6)]=_0x1fc36e[_0x3c9bb8(0x1a9)](0x0)[_0x3c9bb8(0xcc)]()+_0x1fc36e[_0x3c9bb8(0x109)](0x1),document[_0x3c9bb8(0xe9)](_0x3c9bb8(0x118))[_0x3c9bb8(0xe6)]=_0x50577f[_0x3c9bb8(0x18c)]+'\x20-\x20'+_0x50577f['end'],document[_0x3c9bb8(0xe9)](_0x3c9bb8(0x124))[_0x3c9bb8(0xe6)]=_0x50577f[_0x3c9bb8(0x15d)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x4fcd1b=document['getElementById'](_0x3c9bb8(0x146)),_0x1891d8=document[_0x3c9bb8(0xe9)]('cancelContainer'),_0x242c09=_0x1891d8[_0x3c9bb8(0x19d)](_0x3c9bb8(0x153)),_0x58f507=_0x1891d8[_0x3c9bb8(0x19d)](_0x3c9bb8(0xd1)),_0x2e6cc1=document[_0x3c9bb8(0xe9)](_0x3c9bb8(0xff));if(_0x50577f['status']===_0x3c9bb8(0x10d))_0x4fcd1b[_0x3c9bb8(0xe6)]=_0x3c9bb8(0x101),_0x4fcd1b[_0x3c9bb8(0x116)][_0x3c9bb8(0x10b)]='var(--acc-green)',_0x1891d8['style'][_0x3c9bb8(0x18b)]=_0x3c9bb8(0x16a);else{_0x4fcd1b[_0x3c9bb8(0xe6)]=_0x3c9bb8(0xfd),_0x4fcd1b[_0x3c9bb8(0x116)][_0x3c9bb8(0x10b)]='var(--acc-blue)',_0x1891d8[_0x3c9bb8(0x116)][_0x3c9bb8(0x18b)]='block';const _0x27961f=new Date(_0x50577f['dateStr']+'T'+_0x50577f[_0x3c9bb8(0x18c)]),_0x141ef1=new Date(),_0x942e9f=(_0x27961f-_0x141ef1)/(0x3e8*0x3c*0x3c),_0x6d2d9=coachProfiles[_0x50577f[_0x3c9bb8(0x102)]]&&coachProfiles[_0x50577f[_0x3c9bb8(0x102)]]['cancel_window']?parseInt(coachProfiles[_0x50577f[_0x3c9bb8(0x102)]]['cancel_window']):0x18;if(_0x6d2d9===0x0||_0x942e9f>=_0x6d2d9)_0x242c09[_0x3c9bb8(0x116)][_0x3c9bb8(0x18b)]=_0x3c9bb8(0x106),_0x58f507[_0x3c9bb8(0x116)][_0x3c9bb8(0x18b)]='block',_0x2e6cc1[_0x3c9bb8(0x116)]['display']=_0x3c9bb8(0x16a);else{_0x242c09['style'][_0x3c9bb8(0x18b)]=_0x3c9bb8(0x16a),_0x58f507[_0x3c9bb8(0x116)]['display']=_0x3c9bb8(0x16a),_0x2e6cc1[_0x3c9bb8(0x116)][_0x3c9bb8(0x18b)]='block';let _0x8c4c6e=_0x6d2d9===0x0?_0x3c9bb8(0xc5):_0x3c9bb8(0xeb)+_0x6d2d9+'\x20—á.';_0x2e6cc1[_0x3c9bb8(0xe6)]=_0x3c9bb8(0x1a5)+_0x8c4c6e+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x3c9bb8(0xe9)](_0x3c9bb8(0x181))[_0x3c9bb8(0x174)][_0x3c9bb8(0x16c)]('active'),document[_0x3c9bb8(0xe9)]('detailsSheet')[_0x3c9bb8(0x174)]['add'](_0x3c9bb8(0x104));}function a3_0x587d(){const _0x36b5bc=['auto','matrixViewport','div','custom','headerMonth','setHours','log','.rs-date-chip','coach_profiles','createDocumentFragment','show','Error\x20setting\x20back\x20button:','join','entries','getItem','day-col-header\x20','44WZEbUg','6bgxzfL','ccText','min','gridColumns','substr','getFullYear','createElement','.day-col-header[data-date=\x22','detStatus','flex','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','toast','split','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','analyticsSheet','#050505','data-date','stringify','numeric','clientWidth','total','.btn-cancel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','className','ccTitle','router.html','BackButton','Error\x20setting\x20color:','rsSlotsGrid','firstChild','note','day-off-overlay\x20stripe-bg','#ff453a','data','week','DOMContentLoaded','apply','substring','onClick','13KxIpry','max','onclick','seriesId','none','clients','add','toString','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHeaderColor','offClick','getTime','map','innerHTML','classList','sid','px\x200px','px\x20-','applyData','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','href','setMonth','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','setBackgroundColor','keys','analyticsList','65907HCucSn','overlay','v9.5-CLIENT-ANALYTICS','cid','rs-date-chip','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','mini','user','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','detailsSheet','display','start','Telegram','getDate','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','reschedule','anStart','data-day-idx','stopPropagation','cancelled','toLocaleString','.day-column','uc_client_settings','location','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','visible','remove','active','querySelector','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','.period-switch\x20.p-btn','\x20status-completed','#0a84ff','top','colIndex','long','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','3534075moGYmo','all','toLocaleDateString','charAt','\x20–∏–∑\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','backgroundColor','exceptions','expand','dateStr','querySelectorAll','client_cancel','</div><div\x20class=\x22dch-num\x22>','anTotalStats','saveLocally','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','client_load','search','%\x20+\x202px)','getMinutes','.sheet','rescheduleSheet','daysHeaderTrack','filter','isArray','<div\x20class=\x22dch-day\x22>','\x20–≤\x20','done','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','status','padStart','scrollWidth','test','value','toUpperCase','customConfirm','392220zUIQFy','Critical\x20TMA\x20Error:','error','.btn-reschedule','sort','scrollTop','WebApp','then','71365tnXmyt','detDate','disableVerticalSwipes','strokeDashoffset','settings','today','insertBefore','end','fontWeight','addEventListener','pattern','json','\x20-\x20','anEnd','517JDaTEI','time-label','textContent','initDataUnsafe','Unknown','getElementById','calc(','–∑–∞\x20','</span>\x20/\x20','offsetLeft','setDate','setAttribute','blocked-range-part\x20stripe-bg','getAttribute','getMonth','height','timeLineBadge','borderLeftColor','</div>','470179pJbJRK','calendar','day-column\x20','POST','push','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','floor','cancelHint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','coachId','</div><div\x20class=\x22rs-day-num\x22>','open','ranges','block','syncLoad','ccYesBtn','slice','rsDatesTrack','color','month','completed','length','600','event-card','zIndex','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','parse','56jCOZga','initData','style','214780ydFaoq','detTime','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','client-stat-card','startsWith','ready','5276076ugBGGU','loadLocal','rgba(','getHours','204CYOwBV','blocked-slot\x20stripe-bg','appendChild','detNote','round','rgba(10,\x20132,\x20255,\x20','getDay','ru-RU','–û—Ç–º–µ–Ω–µ–Ω–æ','setItem','scrollLeft','backgroundPosition'];a3_0x587d=function(){return _0x36b5bc;};return a3_0x587d();}function closeAllSheets(){const _0x4665db=a3_0x2c7dd1;document['getElementById'](_0x4665db(0x181))[_0x4665db(0x174)][_0x4665db(0x19b)](_0x4665db(0x19c)),document[_0x4665db(0x1b0)](_0x4665db(0xbd))['forEach'](_0x271f99=>_0x271f99[_0x4665db(0x174)][_0x4665db(0x19b)]('open'));}function openSheet(_0x5cbd98){const _0x5eeb63=a3_0x2c7dd1;document[_0x5eeb63(0xe9)](_0x5eeb63(0x181))[_0x5eeb63(0x174)][_0x5eeb63(0x16c)](_0x5eeb63(0x19c)),document['getElementById'](_0x5cbd98)[_0x5eeb63(0x174)][_0x5eeb63(0x16c)]('open');}function getLocalDateStr(_0x54e7ff){const _0x1604f5=a3_0x2c7dd1,_0x4ee227=_0x54e7ff[_0x1604f5(0x143)](),_0x1022fc=String(_0x54e7ff['getMonth']()+0x1)[_0x1604f5(0xc8)](0x2,'0'),_0x576e42=String(_0x54e7ff[_0x1604f5(0x18e)]())[_0x1604f5(0xc8)](0x2,'0');return _0x4ee227+'-'+_0x1022fc+'-'+_0x576e42;}function getStartOfWeek(_0x3cd1fb){const _0x15e330=a3_0x2c7dd1,_0x45607d=new Date(_0x3cd1fb),_0x13435b=_0x45607d[_0x15e330(0x127)](),_0x519aaa=_0x45607d[_0x15e330(0x18e)]()-_0x13435b+(_0x13435b===0x0?-0x6:0x1);return _0x45607d['setDate'](_0x519aaa),_0x45607d['setHours'](0x0,0x0,0x0,0x0),_0x45607d;}function scrollToToday(){const _0x55ac95=getLocalDateStr(new Date());setTimeout(()=>{const _0x5570af=a3_0x350a,_0x779bb6=document[_0x5570af(0x19d)](_0x5570af(0x145)+_0x55ac95+'\x22]');if(_0x779bb6){const _0x130b83=document[_0x5570af(0xe9)](_0x5570af(0x12e)),_0x2ace60=_0x779bb6['offsetLeft']-_0x130b83[_0x5570af(0x151)]/0x2+_0x779bb6['offsetWidth']/0x2;_0x130b83['scrollTo']({'left':_0x2ace60,'behavior':_0x5570af(0x12d)}),_0x130b83[_0x5570af(0xd3)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x16df26=a3_0x2c7dd1,_0x1f43e0=new Date(),_0x335a0e=document[_0x16df26(0xe9)]('globalTimeLine'),_0x3a3f1e=document[_0x16df26(0xe9)](_0x16df26(0xf4)),_0x2267e8=(_0x1f43e0['getHours']()*0x3c+_0x1f43e0[_0x16df26(0xbc)]())/0x3c*GRID_H;_0x335a0e[_0x16df26(0x116)][_0x16df26(0x1a2)]=_0x2267e8+'px',_0x335a0e[_0x16df26(0x116)][_0x16df26(0x18b)]='block',_0x3a3f1e[_0x16df26(0x116)]['top']=_0x2267e8+'px',_0x3a3f1e[_0x16df26(0x116)]['display']=_0x16df26(0x106),_0x3a3f1e['textContent']=String(_0x1f43e0[_0x16df26(0x120)]())[_0x16df26(0xc8)](0x2,'0')+':'+String(_0x1f43e0[_0x16df26(0xbc)]())[_0x16df26(0xc8)](0x2,'0');}function onScroll(){const _0x324173=a3_0x2c7dd1,_0x4793f5=document['getElementById'](_0x324173(0x12e)),_0x46d14b=document[_0x324173(0x1b0)]('.day-col-header');for(let _0x165dec of _0x46d14b)if(_0x165dec[_0x324173(0xed)]>=_0x4793f5[_0x324173(0x12b)]){const _0xc3bac7=new Date(_0x165dec[_0x324173(0xf1)](_0x324173(0x14e)));document[_0x324173(0xe9)](_0x324173(0x131))[_0x324173(0xe6)]=_0xc3bac7[_0x324173(0x195)]('ru',{'month':_0x324173(0x1a4)})[_0x324173(0xcc)]()+'\x20'+_0xc3bac7[_0x324173(0x143)]();break;}}function showToast(_0x443cca){const _0x407d56=a3_0x2c7dd1,_0x121ee1=document['getElementById'](_0x407d56(0x149));_0x121ee1[_0x407d56(0xe6)]=_0x443cca,_0x121ee1['classList']['add'](_0x407d56(0x137)),setTimeout(()=>_0x121ee1[_0x407d56(0x174)][_0x407d56(0x19b)](_0x407d56(0x137)),0x7d0);}function handleInfiniteScroll(){const _0x37629a=a3_0x2c7dd1,_0x3c52f8=document[_0x37629a(0xe9)]('matrixViewport'),_0x5b2eea=_0x3c52f8['scrollLeft'],_0x305614=_0x3c52f8[_0x37629a(0xc9)],_0x11f395=_0x3c52f8[_0x37629a(0x151)];if(_0x305614-(_0x5b2eea+_0x11f395)<0x12c){const _0x23f211=endOffset;endOffset+=0xe,renderDayRange(_0x23f211+0x1,endOffset),reRenderBlocks();}if(_0x5b2eea<0x12c){const _0x40e0d7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x40e0d7-0x1),_0x3c52f8[_0x37629a(0x12b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2615de,_0x2a798e){const _0x197508=a3_0x2c7dd1,_0xcae11e=document[_0x197508(0xe9)](_0x197508(0xbf)),_0x38d08e=document[_0x197508(0xe9)](_0x197508(0x141)),_0x38002d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x53cdab=new Date();_0x53cdab['setHours'](0x0,0x0,0x0,0x0);const _0x695a82=getLocalDateStr(new Date()),_0x37b3f6=document[_0x197508(0x136)](),_0x213a9b=document[_0x197508(0x136)]();for(let _0x53591e=_0x2615de;_0x53591e<=_0x2a798e;_0x53591e++){const _0x2565f3=new Date(_0x53cdab);_0x2565f3['setDate'](_0x2565f3[_0x197508(0x18e)]()+_0x53591e);const _0x430a86=getLocalDateStr(_0x2565f3);let _0x32a6ce=_0x2565f3[_0x197508(0x127)]()-0x1;if(_0x32a6ce===-0x1)_0x32a6ce=0x6;const _0x366a97=_0x430a86===_0x695a82,_0x5081c5=document[_0x197508(0x144)](_0x197508(0x12f));_0x5081c5[_0x197508(0x156)]=_0x197508(0x13c)+(_0x366a97?'today':''),_0x5081c5[_0x197508(0xef)](_0x197508(0x14e),_0x430a86),_0x5081c5['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x38002d[_0x32a6ce]+_0x197508(0xb3)+_0x2565f3[_0x197508(0x18e)]()+_0x197508(0xf6),_0x37b3f6['appendChild'](_0x5081c5);const _0x5f527d=document[_0x197508(0x144)](_0x197508(0x12f));_0x5f527d[_0x197508(0x156)]=_0x197508(0xf9)+(_0x366a97?'today':''),_0x5f527d[_0x197508(0xef)](_0x197508(0x14e),_0x430a86),_0x5f527d[_0x197508(0xef)](_0x197508(0x192),_0x32a6ce),_0x213a9b[_0x197508(0x123)](_0x5f527d);}_0xcae11e[_0x197508(0xdc)](_0x37b3f6,_0xcae11e['firstChild']),_0x38d08e['insertBefore'](_0x213a9b,_0x38d08e[_0x197508(0x19d)](_0x197508(0x196)));}function a3_0x350a(_0xef65e5,_0x2adfd7){_0xef65e5=_0xef65e5-0xb2;const _0x118cf6=a3_0x587d();let _0x15446b=_0x118cf6[_0xef65e5];return _0x15446b;}function hexToRgba(_0x3d2c53,_0x49fdaf){const _0x4b24ed=a3_0x2c7dd1;let _0x3452ad;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4b24ed(0xca)](_0x3d2c53))return _0x3452ad=_0x3d2c53[_0x4b24ed(0x164)](0x1)['split'](''),_0x3452ad[_0x4b24ed(0x10e)]==0x3&&(_0x3452ad=[_0x3452ad[0x0],_0x3452ad[0x0],_0x3452ad[0x1],_0x3452ad[0x1],_0x3452ad[0x2],_0x3452ad[0x2]]),_0x3452ad='0x'+_0x3452ad[_0x4b24ed(0x139)](''),_0x4b24ed(0x11f)+[_0x3452ad>>0x10&0xff,_0x3452ad>>0x8&0xff,_0x3452ad&0xff][_0x4b24ed(0x139)](',')+','+_0x49fdaf+')';return _0x4b24ed(0x126)+_0x49fdaf+')';}let confirmResolver=null;function showCustomConfirm(_0x206480,_0x211033,_0x21b83f=!![]){const _0x55c454=a3_0x2c7dd1;document[_0x55c454(0xe9)](_0x55c454(0x157))[_0x55c454(0xe6)]=_0x206480,document[_0x55c454(0xe9)](_0x55c454(0x13f))[_0x55c454(0xe6)]=_0x211033;const _0xe72c43=document['getElementById'](_0x55c454(0x108));return _0x21b83f?(_0xe72c43[_0x55c454(0x116)][_0x55c454(0x10b)]=_0x55c454(0x15f),_0xe72c43[_0x55c454(0x116)][_0x55c454(0xde)]=_0x55c454(0x10f)):(_0xe72c43[_0x55c454(0x116)][_0x55c454(0x10b)]='#0a84ff',_0xe72c43[_0x55c454(0x116)][_0x55c454(0xde)]=_0x55c454(0x10f)),new Promise(_0x35a850=>{const _0x1cd8db=_0x55c454;confirmResolver=_0x35a850,document['getElementById']('customConfirm')['classList']['add'](_0x1cd8db(0x19a));});}function resolveCustomConfirm(_0x38057b){const _0x55378b=a3_0x2c7dd1;document[_0x55378b(0xe9)](_0x55378b(0xcd))[_0x55378b(0x174)][_0x55378b(0x19b)](_0x55378b(0x19a));if(confirmResolver)confirmResolver(_0x38057b);}async function tryCancelCurrentSession(){const _0x149247=a3_0x2c7dd1;if(!currentSession)return;const _0x588f35=await showCustomConfirm(_0x149247(0x148),_0x149247(0x112),!![]);if(!_0x588f35)return;const _0x4e1a4c=currentSession;closeAllSheets(),sessions=sessions[_0x149247(0xc0)](_0x3947bd=>_0x3947bd['id']!==_0x4e1a4c['id']),reRenderBlocks(),showToast(_0x149247(0x129)),lastUserActionTime=Date[_0x149247(0xb6)]();try{const _0xebc4d8=window[_0x149247(0x18d)]?.['WebApp'],_0x58f16c=await fetch(API_URL,{'method':_0x149247(0xfa),'body':JSON[_0x149247(0x14f)]({'action':_0x149247(0xb2),'init_data':_0xebc4d8?.[_0x149247(0x115)]||'','coachId':_0x4e1a4c[_0x149247(0x102)],'dateStr':_0x4e1a4c[_0x149247(0x1af)],'sessionId':_0x4e1a4c['id']})});if(_0x58f16c['ok'])DataManager[_0x149247(0xb5)]();}catch(_0x5d4b2f){showToast(_0x149247(0x1ab));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x68aa4c=a3_0x2c7dd1;if(!currentSession)return;document[_0x68aa4c(0xe9)](_0x68aa4c(0x18a))[_0x68aa4c(0x174)][_0x68aa4c(0x19b)](_0x68aa4c(0x104)),document['getElementById'](_0x68aa4c(0xbe))[_0x68aa4c(0x174)][_0x68aa4c(0x16c)](_0x68aa4c(0x104));const _0x719ac2=document[_0x68aa4c(0xe9)]('rsDatesTrack'),_0x4757d0=document[_0x68aa4c(0xe9)](_0x68aa4c(0x15b));_0x719ac2['innerHTML']='',_0x4757d0[_0x68aa4c(0x173)]=_0x68aa4c(0x185);const [_0x571e3b,_0xf9c30]=currentSession[_0x68aa4c(0x18c)][_0x68aa4c(0x14a)](':')[_0x68aa4c(0x172)](Number),[_0x215100,_0x25ff97]=currentSession[_0x68aa4c(0xdd)][_0x68aa4c(0x14a)](':')[_0x68aa4c(0x172)](Number),_0x253df2=_0x215100*0x3c+_0x25ff97-(_0x571e3b*0x3c+_0xf9c30);try{const _0x3b2949=window['Telegram']?.['WebApp'],_0x1f8615=await fetch(API_URL,{'method':_0x68aa4c(0xfa),'body':JSON[_0x68aa4c(0x14f)]({'action':'get_slots','coachId':currentSession[_0x68aa4c(0x102)],'duration':_0x253df2,'init_data':_0x3b2949?.[_0x68aa4c(0x115)]||'','excludeSessionId':currentSession['id']})}),_0x26ff8b=await _0x1f8615[_0x68aa4c(0xe1)]();_0x26ff8b['ok']&&_0x26ff8b[_0x68aa4c(0x160)]?(availableSlotsCache=_0x26ff8b[_0x68aa4c(0x160)],renderRescheduleDates()):_0x4757d0[_0x68aa4c(0x173)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x5b28ac){_0x4757d0[_0x68aa4c(0x173)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x4d1378=a3_0x2c7dd1,_0x929a42=document[_0x4d1378(0xe9)](_0x4d1378(0x10a));_0x929a42[_0x4d1378(0x173)]='';const _0x2c27b7=Object[_0x4d1378(0x17e)](availableSlotsCache)['sort'](),_0x222aa4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2c27b7[_0x4d1378(0x10e)]===0x0){document[_0x4d1378(0xe9)](_0x4d1378(0x15b))[_0x4d1378(0x173)]=_0x4d1378(0xc6);return;}_0x2c27b7[_0x4d1378(0x155)]((_0x3ce7ae,_0x3958d5)=>{const _0x416fe1=_0x4d1378,_0xbca262=new Date(_0x3ce7ae),_0x4489ac=_0x222aa4[_0xbca262[_0x416fe1(0x127)]()],_0x52a191=_0xbca262[_0x416fe1(0x18e)](),_0x3a85e1=document[_0x416fe1(0x144)](_0x416fe1(0x12f));_0x3a85e1[_0x416fe1(0x156)]=_0x416fe1(0x184);if(_0x3958d5===0x0)_0x3a85e1['classList'][_0x416fe1(0x16c)](_0x416fe1(0x19c));_0x3a85e1[_0x416fe1(0x173)]='<div\x20class=\x22rs-day-name\x22>'+_0x4489ac+_0x416fe1(0x103)+_0x52a191+_0x416fe1(0xf6),_0x3a85e1[_0x416fe1(0x168)]=()=>selectRsDate(_0x3ce7ae,_0x3a85e1),_0x929a42[_0x416fe1(0x123)](_0x3a85e1);}),selectRsDate(_0x2c27b7[0x0],_0x929a42[_0x4d1378(0x15c)]);}function selectRsDate(_0x17eb0d,_0x5684d7){const _0x3d4401=a3_0x2c7dd1;selectedRsDate=_0x17eb0d,document[_0x3d4401(0x1b0)](_0x3d4401(0x134))['forEach'](_0x1bb3fe=>_0x1bb3fe['classList']['remove']('active'));if(_0x5684d7)_0x5684d7[_0x3d4401(0x174)][_0x3d4401(0x16c)](_0x3d4401(0x19c));const _0x1df788=document['getElementById'](_0x3d4401(0x15b));_0x1df788[_0x3d4401(0x173)]='';const _0x3ba2ff=availableSlotsCache[_0x17eb0d]||[];if(_0x3ba2ff[_0x3d4401(0x10e)]===0x0){_0x1df788[_0x3d4401(0x173)]=_0x3d4401(0x189);return;}_0x3ba2ff[_0x3d4401(0x155)](_0x5d1842=>{const _0x3b299f=_0x3d4401,_0x550991=document[_0x3b299f(0x144)]('button');_0x550991[_0x3b299f(0x156)]='rs-time-btn',_0x550991[_0x3b299f(0xe6)]=_0x5d1842,_0x550991[_0x3b299f(0x168)]=()=>confirmReschedule(_0x5d1842),_0x1df788[_0x3b299f(0x123)](_0x550991);});}async function confirmReschedule(_0x3bad5d){const _0xbac3ea=a3_0x2c7dd1,_0x593e48=new Date(selectedRsDate),_0x207abb=_0x593e48[_0xbac3ea(0x1a8)](_0xbac3ea(0x128),{'day':_0xbac3ea(0x150),'month':'long'}),_0xdbc2ef=await showCustomConfirm(_0xbac3ea(0x14b),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x207abb+_0xbac3ea(0xc3)+_0x3bad5d+'?',![]);if(!_0xdbc2ef)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0xbac3ea(0xb6)]();const _0x5e23c0=currentSession[_0xbac3ea(0x1af)],_0x21bb59=currentSession['id'],[_0x513add,_0x1a3aac]=currentSession[_0xbac3ea(0x18c)][_0xbac3ea(0x14a)](':')[_0xbac3ea(0x172)](Number),[_0x32a2dd,_0x22324a]=currentSession[_0xbac3ea(0xdd)]['split'](':')['map'](Number),_0x56606c=_0x32a2dd*0x3c+_0x22324a-(_0x513add*0x3c+_0x1a3aac),[_0x2f6024,_0x262f19]=_0x3bad5d[_0xbac3ea(0x14a)](':')[_0xbac3ea(0x172)](Number),_0x5f2631=_0x2f6024*0x3c+_0x262f19+_0x56606c,_0x404591=Math[_0xbac3ea(0xfe)](_0x5f2631/0x3c),_0x40f661=_0x5f2631%0x3c,_0x502255=String(_0x404591)[_0xbac3ea(0xc8)](0x2,'0')+':'+String(_0x40f661)[_0xbac3ea(0xc8)](0x2,'0'),_0x420d30=sessions['findIndex'](_0x381328=>_0x381328['id']===_0x21bb59);_0x420d30!==-0x1&&(sessions[_0x420d30][_0xbac3ea(0x1af)]=selectedRsDate,sessions[_0x420d30][_0xbac3ea(0x18c)]=_0x3bad5d,sessions[_0x420d30][_0xbac3ea(0xdd)]=_0x502255,reRenderBlocks());try{const _0x421df6=window['Telegram']?.[_0xbac3ea(0xd4)],_0x510d7b=await fetch(API_URL,{'method':_0xbac3ea(0xfa),'body':JSON['stringify']({'action':_0xbac3ea(0x190),'init_data':_0x421df6?.['initData']||'','oldSessionId':_0x21bb59,'oldDate':_0x5e23c0,'newDate':selectedRsDate,'newTime':_0x3bad5d,'coachId':currentSession[_0xbac3ea(0x102)]})}),_0x51ead5=await _0x510d7b[_0xbac3ea(0xe1)]();!_0x51ead5['ok']?(showToast(_0xbac3ea(0x186)),DataManager[_0xbac3ea(0x107)]()):(showToast(_0xbac3ea(0x179)),DataManager[_0xbac3ea(0xb5)]());}catch(_0x5c9e39){showToast(_0xbac3ea(0x1ab));}}document[a3_0x2c7dd1(0xdf)](a3_0x2c7dd1(0x162),init);