const a3_0x53394b=a3_0x2851;(function(_0x5cb7a2,_0x46a0d1){const _0xe30f71=a3_0x2851,_0x3fe3fe=_0x5cb7a2();while(!![]){try{const _0x515440=parseInt(_0xe30f71(0x1b9))/0x1*(parseInt(_0xe30f71(0x23c))/0x2)+-parseInt(_0xe30f71(0x189))/0x3+parseInt(_0xe30f71(0x210))/0x4+parseInt(_0xe30f71(0x1a5))/0x5*(parseInt(_0xe30f71(0x225))/0x6)+parseInt(_0xe30f71(0x1db))/0x7*(parseInt(_0xe30f71(0x188))/0x8)+-parseInt(_0xe30f71(0x18b))/0x9+parseInt(_0xe30f71(0x17c))/0xa*(parseInt(_0xe30f71(0x222))/0xb);if(_0x515440===_0x46a0d1)break;else _0x3fe3fe['push'](_0x3fe3fe['shift']());}catch(_0xade857){_0x3fe3fe['push'](_0x3fe3fe['shift']());}}}(a3_0x382d,0x4bcfb));const APP_VERSION=a3_0x53394b(0x18a),API_URL=a3_0x53394b(0x1a1),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x53394b(0x1b3),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x53394b(0x243),coachProfiles={},currentSession=null,lastUserActionTime=0x0;function a3_0x382d(){const _0x50d19=['max','fontWeight','.day-column','109116qERiHl','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','scrollTop','forEach','href','getMinutes','applyData','done','querySelectorAll','find','ccText','innerHTML','gridColumns','Unknown','router.html','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','cid','numeric','client-stat-card','top','month','detailsSheet','\x20—á.','insertBefore','rescheduleSheet','total','filter','div','scrollLeft','open','round','zIndex','json','keys','map','getTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getDay','exceptions','colIndex','location','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–û—Ç–º–µ–Ω–µ–Ω–æ','data','anCustomDates','initData','custom','(((.+)+)+)+$','Error\x20setting\x20color:','headerMonth','clientWidth','\x20–∏–∑\x20','WebApp','211932sfQSWi','long','entries','</span>\x20/\x20','start','get_slots','cancelHint','ccTitle','substr','</div>','setHours','reschedule','POST','–∑–∞\x20','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','color','detDate','left','19283IluBuB','parse','\x20–≤\x20','12uhOzcs','search','saveLocally','firstChild','setItem','value','pattern','user','settings','offClick','globalTimeLine','min','.sheet','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','anDonutCircle','ccYesBtn','disableVerticalSwipes','setBackgroundColor','data-day-idx','mini','syncLoad','overlay','2314khMOUK','blocked-range-part\x20stripe-bg','setDate','anStart','offsetWidth','anTotalStats','borderLeftColor','week','padStart','setAttribute','rsDatesTrack','findIndex','split','toUpperCase','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','error','offsetLeft','completed','T23:59:59','<span>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','startsWith','toLocaleDateString','coachId','anEnd','.btn-reschedule','calc(','status','Telegram','onClick','scrollTo','ranges','time-label','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','substring','strokeDashoffset','600','\x20-\x20','getFullYear','getDate','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','clientId','onclick','toString','createElement','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','Error\x20setting\x20back\x20button:','getHours','width','end','rs-date-chip','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','appendChild','px\x200px','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','none','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','matrixViewport','constructor','day-col-header\x20','querySelector','1120TERiPG','apply','var(--acc-green)','dateStr','loadLocal','display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','toast','.btn-cancel','customConfirm','calendar','184xnKjph','1052115asKvdX','v9.5-CLIENT-ANALYTICS','5080842ZYEbGZ','rgba(10,\x20132,\x20255,\x20','\x20status-completed','test','daysHeaderTrack','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackButton','setMonth','stringify','scrollWidth','backgroundColor','add','charAt','block','analyticsList','client_load','getItem','data-date','note','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','height','ready','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','log','rgba(','.period-switch\x20.p-btn','194010vFDSYr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','sid','<div\x20class=\x22dch-day\x22>','planned','getAttribute','#050505','px\x20-','clients','length','initDataUnsafe','blocked-slot\x20stripe-bg','day-column\x20','scroll','uc_client_settings','sort','.day-col-header','getMonth','backgroundPosition','button','467LVKUVY','T00:00:00','className','#0a84ff','cancel_window','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','now','style',':00</span>','push','DOMContentLoaded','#ff453a','client_cancel','classList','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','createDocumentFragment','textContent','ru-RU','remove','show','timeLineBadge','coach_profiles','getElementById','visible','today','rsSlotsGrid','rs-time-btn','join','active','</div><div\x20class=\x22dch-num\x22>','auto'];a3_0x382d=function(){return _0x50d19;};return a3_0x382d();}(function initTMA(){const _0x2a5319=a3_0x53394b,_0x4619ff=(function(){let _0x3d15f5=!![];return function(_0x2307c9,_0x58eba8){const _0x346f7a=_0x3d15f5?function(){const _0x10d070=a3_0x2851;if(_0x58eba8){const _0x4fe692=_0x58eba8[_0x10d070(0x17d)](_0x2307c9,arguments);return _0x58eba8=null,_0x4fe692;}}:function(){};return _0x3d15f5=![],_0x346f7a;};}()),_0x36b7dd=_0x4619ff(this,function(){const _0xcff857=a3_0x2851;return _0x36b7dd[_0xcff857(0x16a)]()[_0xcff857(0x226)](_0xcff857(0x20a))[_0xcff857(0x16a)]()[_0xcff857(0x179)](_0x36b7dd)[_0xcff857(0x226)]('(((.+)+)+)+$');});_0x36b7dd();try{const _0x51f123=window[_0x2a5319(0x258)]?.[_0x2a5319(0x20f)];if(!_0x51f123)return;_0x51f123[_0x2a5319(0x1a0)](),_0x51f123['expand']();try{_0x51f123['setHeaderColor'](_0x2a5319(0x1ab)),_0x51f123[_0x2a5319(0x237)]&&_0x51f123[_0x2a5319(0x237)](_0x2a5319(0x1ab));}catch(_0xdd4a2){console[_0x2a5319(0x1a2)](_0x2a5319(0x20b),_0xdd4a2);}try{_0x51f123[_0x2a5319(0x191)]&&(_0x51f123['BackButton'][_0x2a5319(0x1cc)](),_0x51f123[_0x2a5319(0x191)][_0x2a5319(0x22e)](),_0x51f123[_0x2a5319(0x191)][_0x2a5319(0x259)](function(){const _0x3ee76a=_0x2a5319;window[_0x3ee76a(0x203)][_0x3ee76a(0x1df)]=_0x3ee76a(0x1e9);}));}catch(_0x319114){console[_0x2a5319(0x1a2)](_0x2a5319(0x16d),_0x319114);}try{if(_0x51f123[_0x2a5319(0x236)])_0x51f123[_0x2a5319(0x236)]();}catch(_0x1f8537){}}catch(_0x516b85){console[_0x2a5319(0x24b)]('Critical\x20TMA\x20Error:',_0x516b85);}}());function isAdmin(){const _0x3acf1c=a3_0x53394b;try{const _0x3a4e12=Number(window[_0x3acf1c(0x258)]?.[_0x3acf1c(0x20f)]?.[_0x3acf1c(0x1af)]?.[_0x3acf1c(0x22c)]?.['id']);return _0x3a4e12===0xbaf7174;}catch(_0x4de3d0){return![];}}const DataManager={'saveLocally'(){const _0x16d857=a3_0x53394b;try{localStorage[_0x16d857(0x229)](KEY_SESSIONS,JSON[_0x16d857(0x193)](sessions)),localStorage[_0x16d857(0x229)](KEY_CLIENTS,JSON[_0x16d857(0x193)](clients)),localStorage[_0x16d857(0x229)](KEY_SETTINGS,JSON[_0x16d857(0x193)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x287f9d){}},'loadLocal'(){const _0x6c49fe=a3_0x53394b;try{const _0x49ec32=localStorage['getItem'](KEY_SESSIONS);if(_0x49ec32)sessions=JSON['parse'](_0x49ec32);const _0x3b12d5=localStorage[_0x6c49fe(0x19b)](KEY_CLIENTS);if(_0x3b12d5)clients=JSON[_0x6c49fe(0x223)](_0x3b12d5);const _0x98cd77=localStorage[_0x6c49fe(0x19b)](KEY_SETTINGS);if(_0x98cd77){const _0x5e14f5=JSON[_0x6c49fe(0x223)](_0x98cd77);if(_0x5e14f5['pattern'])availabilityPattern=_0x5e14f5[_0x6c49fe(0x22b)];if(_0x5e14f5[_0x6c49fe(0x25b)])specialRanges=_0x5e14f5[_0x6c49fe(0x25b)];if(_0x5e14f5[_0x6c49fe(0x201)])dateExceptions=_0x5e14f5['exceptions'];}}catch(_0x5e1917){}},async 'syncLoad'(){const _0x47858d=a3_0x53394b,_0x1f56bc=new Date(),_0x4880ef=_0x1f56bc[_0x47858d(0x262)]()+'-'+String(_0x1f56bc[_0x47858d(0x1b6)]()+0x1)[_0x47858d(0x244)](0x2,'0'),_0x467368=new Date(_0x1f56bc);_0x467368[_0x47858d(0x192)](_0x1f56bc[_0x47858d(0x1b6)]()+0x1);const _0x2bd636=_0x467368[_0x47858d(0x262)]()+'-'+String(_0x467368[_0x47858d(0x1b6)]()+0x1)[_0x47858d(0x244)](0x2,'0'),_0x4ef21e=Date[_0x47858d(0x1bf)]();try{const _0x1bd754=window[_0x47858d(0x258)]?.[_0x47858d(0x20f)],_0x3e0243=_0x1bd754?.[_0x47858d(0x208)]||'',[_0x28ca9c,_0x4fea68]=await Promise['all']([fetch(API_URL,{'method':_0x47858d(0x21c),'body':JSON[_0x47858d(0x193)]({'action':_0x47858d(0x19a),'init_data':_0x3e0243,'month_str':_0x4880ef})})[_0x47858d(0x183)](_0x4838f3=>_0x4838f3['json']()),fetch(API_URL,{'method':_0x47858d(0x21c),'body':JSON[_0x47858d(0x193)]({'action':_0x47858d(0x19a),'init_data':_0x3e0243,'month_str':_0x2bd636})})[_0x47858d(0x183)](_0x1fa05b=>_0x1fa05b[_0x47858d(0x1fb)]())]);if(lastUserActionTime>_0x4ef21e){console[_0x47858d(0x1a2)](_0x47858d(0x19e));return;}if(_0x28ca9c['ok'])this[_0x47858d(0x1e1)](_0x28ca9c[_0x47858d(0x206)],_0x4880ef);if(_0x4fea68['ok'])this[_0x47858d(0x1e1)](_0x4fea68['data'],_0x2bd636);this[_0x47858d(0x227)]();}catch(_0xe8ba8){}},'applyData'(_0xe01265,_0x42864d){const _0x645025=a3_0x53394b;if(!_0xe01265)return;if(_0xe01265[_0x645025(0x22d)]){if(_0xe01265[_0x645025(0x22d)]['pattern'])availabilityPattern=_0xe01265[_0x645025(0x22d)][_0x645025(0x22b)];if(_0xe01265[_0x645025(0x22d)]['ranges'])specialRanges=_0xe01265[_0x645025(0x22d)][_0x645025(0x25b)];if(_0xe01265['settings']['exceptions'])dateExceptions=_0xe01265[_0x645025(0x22d)][_0x645025(0x201)];}if(_0xe01265[_0x645025(0x1ad)]&&Array['isArray'](_0xe01265[_0x645025(0x1ad)]))clients=_0xe01265[_0x645025(0x1ad)];_0xe01265[_0x645025(0x1ce)]&&(coachProfiles={...coachProfiles,..._0xe01265['coach_profiles']}),_0xe01265[_0x645025(0x187)]&&(sessions=sessions[_0x645025(0x1f5)](_0x347c7c=>!_0x347c7c[_0x645025(0x17f)][_0x645025(0x251)](_0x42864d)),Object[_0x645025(0x1fc)](_0xe01265['calendar'])[_0x645025(0x1de)](_0x25e5bd=>{const _0x2a6e7c=_0x645025,_0x56bee4=_0xe01265[_0x2a6e7c(0x187)][_0x25e5bd];_0x56bee4[_0x2a6e7c(0x1de)](_0x201d31=>{const _0x22849c=_0x2a6e7c;sessions[_0x22849c(0x1c2)]({'id':_0x201d31['i'],'clientId':_0x201d31['c'],'coachId':_0x201d31[_0x22849c(0x1eb)],'dateStr':_0x42864d+'-'+_0x25e5bd['padStart'](0x2,'0'),'start':_0x201d31['s'],'end':_0x201d31['e'],'note':_0x201d31['n']||'','status':_0x201d31['st']||_0x22849c(0x1a9),'seriesId':_0x201d31[_0x22849c(0x1a7)]});});})),reRenderBlocks();}};function init(){const _0x12a23e=a3_0x53394b;DataManager[_0x12a23e(0x180)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x12a23e(0x1cf)]('matrixViewport')[_0x12a23e(0x233)](_0x12a23e(0x1b2),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x53c38e=a3_0x53394b,_0x3735ba=document[_0x53c38e(0x1cf)]('timeColumn'),_0x24e2bd=document['getElementById'](_0x53c38e(0x1cd));_0x3735ba[_0x53c38e(0x1e6)]='',_0x3735ba[_0x53c38e(0x173)](_0x24e2bd);for(let _0x5f4ac0=0x0;_0x5f4ac0<0x18;_0x5f4ac0++){const _0x1cf42a=document[_0x53c38e(0x16b)](_0x53c38e(0x1f6));_0x1cf42a[_0x53c38e(0x1bb)]=_0x53c38e(0x25c);if(_0x5f4ac0>0x0)_0x1cf42a[_0x53c38e(0x1e6)]=_0x53c38e(0x24f)+String(_0x5f4ac0)['padStart'](0x2,'0')+_0x53c38e(0x1c1);_0x3735ba['appendChild'](_0x1cf42a);}}function renderDayRange(_0x3c7d1d,_0xae1867){const _0x3e8936=a3_0x53394b,_0x179347=document[_0x3e8936(0x1cf)]('daysHeaderTrack'),_0x349529=document[_0x3e8936(0x1cf)](_0x3e8936(0x1e7)),_0x39ed79=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4fe671=new Date();_0x4fe671[_0x3e8936(0x21a)](0x0,0x0,0x0,0x0);const _0x513a43=getLocalDateStr(new Date());for(let _0x2221d0=_0x3c7d1d;_0x2221d0<=_0xae1867;_0x2221d0++){const _0x23efba=new Date(_0x4fe671);_0x23efba[_0x3e8936(0x23e)](_0x23efba[_0x3e8936(0x263)]()+_0x2221d0);const _0x10b656=getLocalDateStr(_0x23efba);let _0x281c20=_0x23efba[_0x3e8936(0x200)]()-0x1;if(_0x281c20===-0x1)_0x281c20=0x6;const _0x4ebd32=_0x10b656===_0x513a43,_0x59bf1a=document[_0x3e8936(0x16b)](_0x3e8936(0x1f6));_0x59bf1a[_0x3e8936(0x1bb)]=_0x3e8936(0x17a)+(_0x4ebd32?_0x3e8936(0x1d1):''),_0x59bf1a[_0x3e8936(0x245)]('data-date',_0x10b656),_0x59bf1a['innerHTML']=_0x3e8936(0x1a8)+_0x39ed79[_0x281c20]+_0x3e8936(0x1d6)+_0x23efba[_0x3e8936(0x263)]()+'</div>',_0x179347[_0x3e8936(0x173)](_0x59bf1a);const _0x5542ad=document['createElement']('div');_0x5542ad[_0x3e8936(0x1bb)]=_0x3e8936(0x1b1)+(_0x4ebd32?_0x3e8936(0x1d1):''),_0x5542ad['setAttribute']('data-date',_0x10b656),_0x5542ad[_0x3e8936(0x245)](_0x3e8936(0x238),_0x281c20),_0x349529[_0x3e8936(0x173)](_0x5542ad);}}function reRenderBlocks(){const _0x446bc7=a3_0x53394b;document[_0x446bc7(0x1e3)](_0x446bc7(0x1da))[_0x446bc7(0x1de)](_0x3141c6=>{const _0x1b2c02=_0x446bc7;_0x3141c6[_0x1b2c02(0x1e3)](_0x1b2c02(0x250))['forEach'](_0x2ba732=>_0x2ba732[_0x1b2c02(0x1cb)]());const _0x106a4e=_0x3141c6[_0x1b2c02(0x1aa)]('data-date'),_0x1b9577=parseInt(_0x3141c6['getAttribute'](_0x1b2c02(0x238))),_0x2d25d4=Math[_0x1b2c02(0x1f9)](_0x3141c6[_0x1b2c02(0x24c)]);(availabilityPattern[_0x1b9577]||[])['forEach'](_0x2fd7eb=>{const _0x182195=_0x1b2c02,_0x136b89=document[_0x182195(0x16b)]('div');_0x136b89[_0x182195(0x1bb)]=_0x182195(0x1b0),_0x136b89[_0x182195(0x1c0)][_0x182195(0x1ee)]=_0x2fd7eb*GRID_H+'px',_0x136b89[_0x182195(0x1c0)][_0x182195(0x1b7)]='-'+_0x2d25d4+_0x182195(0x1ac)+_0x2fd7eb*GRID_H+'px',_0x3141c6[_0x182195(0x173)](_0x136b89);});if(specialRanges[_0x1b2c02(0x1ae)]>0x0){const _0xd85182=new Date(_0x106a4e+_0x1b2c02(0x1ba))['getTime'](),_0x1e9d72=new Date(_0x106a4e+_0x1b2c02(0x24e))[_0x1b2c02(0x1fe)]();specialRanges[_0x1b2c02(0x1de)](_0x53602d=>{const _0x336eec=_0x1b2c02,_0x2b1f20=new Date(_0x53602d[_0x336eec(0x214)])['getTime'](),_0xf8ae71=new Date(_0x53602d['end'])[_0x336eec(0x1fe)](),_0x5c1b22=Math[_0x336eec(0x1d8)](_0xd85182,_0x2b1f20),_0x14c97a=Math[_0x336eec(0x230)](_0x1e9d72,_0xf8ae71);if(_0x5c1b22<_0x14c97a){const _0x4c6c60=(_0x5c1b22-_0xd85182)/0x36ee80*GRID_H,_0x219672=(_0x14c97a-_0x5c1b22)/0x36ee80*GRID_H,_0x8e8074=document[_0x336eec(0x16b)](_0x336eec(0x1f6));_0x219672>=23.5*GRID_H?(_0x8e8074['className']='day-off-overlay\x20stripe-bg',_0x8e8074[_0x336eec(0x1c0)][_0x336eec(0x1b7)]='-'+_0x2d25d4+_0x336eec(0x174)):(_0x8e8074[_0x336eec(0x1bb)]=_0x336eec(0x23d),_0x8e8074[_0x336eec(0x1c0)][_0x336eec(0x1ee)]=_0x4c6c60+'px',_0x8e8074['style'][_0x336eec(0x19f)]=_0x219672+'px',_0x8e8074[_0x336eec(0x1c0)][_0x336eec(0x1b7)]='-'+_0x2d25d4+'px\x20-'+_0x4c6c60+'px'),_0x3141c6['appendChild'](_0x8e8074);}});}renderEventsForColumn(_0x3141c6,_0x106a4e);});}function renderEventsForColumn(_0x356ffb,_0x74f45){const _0x36facf=a3_0x53394b,_0x55b5a6=sessions['filter'](_0x34cdce=>_0x34cdce[_0x36facf(0x17f)]===_0x74f45),_0xae0dc1=_0x55b5a6[_0x36facf(0x1fd)](_0x3af457=>{const _0x12dbd1=_0x36facf,[_0x33e479,_0x5db3ca]=_0x3af457['start'][_0x12dbd1(0x248)](':')['map'](Number),[_0x223e6b,_0x2316b8]=_0x3af457[_0x12dbd1(0x170)][_0x12dbd1(0x248)](':')[_0x12dbd1(0x1fd)](Number);return{'data':_0x3af457,'start':_0x33e479*0x3c+_0x5db3ca,'end':_0x223e6b*0x3c+_0x2316b8,'colIndex':0x0};});_0xae0dc1[_0x36facf(0x1b4)]((_0x50b142,_0x46793e)=>_0x50b142[_0x36facf(0x214)]-_0x46793e[_0x36facf(0x214)]||_0x46793e[_0x36facf(0x170)]-_0x46793e[_0x36facf(0x214)]-(_0x50b142[_0x36facf(0x170)]-_0x50b142[_0x36facf(0x214)]));const _0x56d815=[];_0xae0dc1[_0x36facf(0x1de)](_0x59b1a2=>{const _0x32d27b=_0x36facf;let _0x75189a=![];for(let _0x55c170=0x0;_0x55c170<_0x56d815[_0x32d27b(0x1ae)];_0x55c170++){const _0x41ac4e=_0x56d815[_0x55c170];if(_0x59b1a2['start']>=_0x41ac4e[_0x41ac4e['length']-0x1]['end']){_0x41ac4e[_0x32d27b(0x1c2)](_0x59b1a2),_0x59b1a2[_0x32d27b(0x202)]=_0x55c170,_0x75189a=!![];break;}}!_0x75189a&&(_0x56d815[_0x32d27b(0x1c2)]([_0x59b1a2]),_0x59b1a2['colIndex']=_0x56d815[_0x32d27b(0x1ae)]-0x1);}),_0xae0dc1[_0x36facf(0x1de)](_0xb192ec=>{const _0x5cc250=_0x36facf;let _0x304b36=0x0;_0xae0dc1['forEach'](_0x235d45=>{const _0x38eee2=a3_0x2851;if(Math[_0x38eee2(0x1d8)](_0xb192ec[_0x38eee2(0x214)],_0x235d45[_0x38eee2(0x214)])<Math['min'](_0xb192ec['end'],_0x235d45['end'])&&_0x235d45[_0x38eee2(0x202)]>_0x304b36)_0x304b36=_0x235d45[_0x38eee2(0x202)];});const _0x33f8e9=_0x304b36+0x1,_0x4754f8=0x64/_0x33f8e9,_0x71ed25=_0xb192ec[_0x5cc250(0x202)]*_0x4754f8,_0x18fcbc=document['createElement'](_0x5cc250(0x1f6)),_0x5bf1d5=_0xb192ec[_0x5cc250(0x206)];let _0xfb8fdf=_0x5cc250(0x1bc);if(clients&&clients[_0x5cc250(0x1ae)]>0x0){const _0x298c58=clients[_0x5cc250(0x1e4)](_0x540dae=>String(_0x540dae['id'])===String(_0x5bf1d5[_0x5cc250(0x265)]));if(_0x298c58&&_0x298c58[_0x5cc250(0x21f)])_0xfb8fdf=_0x298c58['color'];}const _0x15695f=_0x5bf1d5[_0x5cc250(0x257)]===_0x5cc250(0x24d),_0x40f175=_0x15695f?0x1:0.45;_0x18fcbc[_0x5cc250(0x1bb)]='event-card'+(_0x15695f?_0x5cc250(0x18d):''),_0x18fcbc['style'][_0x5cc250(0x195)]=hexToRgba(_0xfb8fdf,_0x40f175),_0x18fcbc['style']['borderLeftColor']=_0xfb8fdf;const _0xc38bb6=_0xb192ec[_0x5cc250(0x214)]/0x3c*GRID_H,_0xa81cd0=(_0xb192ec[_0x5cc250(0x170)]-_0xb192ec['start'])/0x3c*GRID_H;_0x18fcbc[_0x5cc250(0x1c0)][_0x5cc250(0x1ee)]=_0xc38bb6+'px',_0x18fcbc[_0x5cc250(0x1c0)][_0x5cc250(0x19f)]=Math[_0x5cc250(0x1d8)](_0xa81cd0,0x14)+'px',_0x18fcbc['style'][_0x5cc250(0x16f)]=_0x5cc250(0x256)+_0x4754f8+'%\x20-\x204px)',_0x18fcbc['style'][_0x5cc250(0x221)]=_0x5cc250(0x256)+_0x71ed25+'%\x20+\x202px)',_0x18fcbc['style'][_0x5cc250(0x1fa)]=0xa+_0xb192ec[_0x5cc250(0x202)];if(_0x4754f8<0x55)_0x18fcbc['classList'][_0x5cc250(0x196)](_0x5cc250(0x239));let _0xdfc209='';if(_0x5bf1d5['seriesId'])_0xdfc209+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x15695f)_0xdfc209+=_0x5cc250(0x1c7);_0x18fcbc[_0x5cc250(0x1e6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5bf1d5['start']+_0x5cc250(0x261)+_0x5bf1d5['end']+_0x5cc250(0x182)+_0xdfc209+_0x5cc250(0x190),_0x18fcbc[_0x5cc250(0x266)]=_0xe0330e=>{_0xe0330e['stopPropagation'](),openDetails(_0x5bf1d5);},_0x356ffb[_0x5cc250(0x173)](_0x18fcbc);});}function openAnalytics(){const _0x52ec11=a3_0x53394b,_0x33847f=document['querySelector'](_0x52ec11(0x1a4));setAnalyticsPeriod(_0x52ec11(0x243),_0x33847f),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xe57291,_0x511278){const _0x1d4660=a3_0x53394b;currentAnPeriod=_0xe57291,document[_0x1d4660(0x1e3)](_0x1d4660(0x1a4))[_0x1d4660(0x1de)](_0x3c2726=>_0x3c2726[_0x1d4660(0x1c6)][_0x1d4660(0x1cb)](_0x1d4660(0x1d5)));if(_0x511278)_0x511278[_0x1d4660(0x1c6)][_0x1d4660(0x196)](_0x1d4660(0x1d5));const _0x596c17=document['getElementById'](_0x1d4660(0x207));_0x596c17[_0x1d4660(0x1c0)][_0x1d4660(0x181)]=_0xe57291===_0x1d4660(0x209)?'flex':_0x1d4660(0x176);const _0xb73922=new Date();let _0x6511cc=new Date(),_0x591b9f=new Date();if(_0xe57291===_0x1d4660(0x243))_0x6511cc=getStartOfWeek(_0xb73922),_0x591b9f=new Date(_0x6511cc),_0x591b9f[_0x1d4660(0x23e)](_0x591b9f[_0x1d4660(0x263)]()+0x6);else{if(_0xe57291===_0x1d4660(0x1ef))_0x6511cc=new Date(_0xb73922[_0x1d4660(0x262)](),_0xb73922[_0x1d4660(0x1b6)](),0x1),_0x591b9f=new Date(_0xb73922[_0x1d4660(0x262)](),_0xb73922[_0x1d4660(0x1b6)]()+0x1,0x0);else{!document[_0x1d4660(0x1cf)](_0x1d4660(0x23f))[_0x1d4660(0x22a)]&&(document['getElementById'](_0x1d4660(0x23f))[_0x1d4660(0x22a)]=getLocalDateStr(_0xb73922),document[_0x1d4660(0x1cf)](_0x1d4660(0x254))['value']=getLocalDateStr(_0xb73922));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x1d4660(0x22a)]=getLocalDateStr(_0x6511cc),document[_0x1d4660(0x1cf)](_0x1d4660(0x254))['value']=getLocalDateStr(_0x591b9f),refreshAnalytics();}function refreshAnalytics(){const _0x437891=a3_0x53394b,_0x41f274=document[_0x437891(0x1cf)](_0x437891(0x23f))[_0x437891(0x22a)],_0x4cfe94=document[_0x437891(0x1cf)]('anEnd')['value'];if(!_0x41f274||!_0x4cfe94)return;const _0x15195b=sessions[_0x437891(0x1f5)](_0x2d6ce8=>_0x2d6ce8['dateStr']>=_0x41f274&&_0x2d6ce8[_0x437891(0x17f)]<=_0x4cfe94&&_0x2d6ce8[_0x437891(0x257)]!=='cancelled'),_0x55f26e=_0x15195b['length'],_0x12b0eb=_0x15195b[_0x437891(0x1f5)](_0x4af917=>_0x4af917[_0x437891(0x257)]===_0x437891(0x24d))[_0x437891(0x1ae)],_0x2afd59=_0x55f26e>0x0?Math[_0x437891(0x1f9)](_0x12b0eb/_0x55f26e*0x64):0x0;document[_0x437891(0x1cf)]('anPercent')[_0x437891(0x1c9)]=_0x2afd59+'%',document[_0x437891(0x1cf)](_0x437891(0x241))[_0x437891(0x1c9)]=_0x12b0eb+_0x437891(0x20e)+_0x55f26e+_0x437891(0x172);const _0x51670b=document[_0x437891(0x1cf)](_0x437891(0x234)),_0x301cf8=0x2*Math['PI']*0x23,_0x22a815=_0x301cf8-_0x2afd59/0x64*_0x301cf8;_0x51670b[_0x437891(0x1c0)][_0x437891(0x25f)]=_0x22a815;const _0x431590={};_0x15195b[_0x437891(0x1de)](_0x22b199=>{const _0x189b72=_0x437891,_0x1bc490=_0x22b199[_0x189b72(0x253)]||_0x189b72(0x1e8);if(!_0x431590[_0x1bc490]){const _0x549fd3='#'+_0x1bc490['toString']()['substr'](0x0,0x6);_0x431590[_0x1bc490]={'total':0x0,'done':0x0,'color':_0x549fd3};}_0x431590[_0x1bc490]['total']++;if(_0x22b199['status']===_0x189b72(0x24d))_0x431590[_0x1bc490]['done']++;});const _0x18ced2=document[_0x437891(0x1cf)](_0x437891(0x199));_0x18ced2['innerHTML']='';const _0x353d4a=Object[_0x437891(0x212)](_0x431590)[_0x437891(0x1b4)]((_0x1479b1,_0x56fe9a)=>_0x56fe9a[0x1][_0x437891(0x1f4)]-_0x1479b1[0x1][_0x437891(0x1f4)]);if(_0x353d4a[_0x437891(0x1ae)]===0x0){_0x18ced2[_0x437891(0x1e6)]=_0x437891(0x1be);return;}_0x353d4a['forEach'](([_0x197a14,_0x362d24])=>{const _0x1600b3=_0x437891,_0x226ccc=Math[_0x1600b3(0x1f9)](_0x362d24['done']/_0x362d24[_0x1600b3(0x1f4)]*0x64),_0x1daef7=document[_0x1600b3(0x16b)](_0x1600b3(0x1f6));_0x1daef7[_0x1600b3(0x1bb)]=_0x1600b3(0x1ed),_0x1daef7[_0x1600b3(0x1c0)][_0x1600b3(0x242)]=_0x362d24[_0x1600b3(0x21f)],_0x1daef7['innerHTML']=_0x1600b3(0x1a6)+_0x197a14[_0x1600b3(0x218)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x362d24[_0x1600b3(0x1e2)]+_0x1600b3(0x213)+_0x362d24[_0x1600b3(0x1f4)]+_0x1600b3(0x1ff)+_0x226ccc+_0x1600b3(0x232),_0x18ced2['appendChild'](_0x1daef7);});}function openDetails(_0x3124fd){const _0x1a77f4=a3_0x53394b;currentSession=_0x3124fd;const _0x35f2b9=new Date(_0x3124fd[_0x1a77f4(0x17f)]),_0x4c082a=_0x35f2b9['toLocaleDateString'](_0x1a77f4(0x1ca),{'weekday':_0x1a77f4(0x211),'day':_0x1a77f4(0x1ec),'month':_0x1a77f4(0x211)});document[_0x1a77f4(0x1cf)](_0x1a77f4(0x220))[_0x1a77f4(0x1c9)]=_0x4c082a[_0x1a77f4(0x197)](0x0)['toUpperCase']()+_0x4c082a['slice'](0x1),document[_0x1a77f4(0x1cf)]('detTime')['textContent']=_0x3124fd[_0x1a77f4(0x214)]+_0x1a77f4(0x261)+_0x3124fd[_0x1a77f4(0x170)],document['getElementById']('detNote')[_0x1a77f4(0x1c9)]=_0x3124fd[_0x1a77f4(0x19d)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x2b49cf=document['getElementById']('detStatus'),_0x501fa6=document[_0x1a77f4(0x1cf)]('cancelContainer'),_0x37eca6=_0x501fa6['querySelector'](_0x1a77f4(0x185)),_0x5e542e=_0x501fa6[_0x1a77f4(0x17b)](_0x1a77f4(0x255)),_0x2c104b=document[_0x1a77f4(0x1cf)](_0x1a77f4(0x216));if(_0x3124fd[_0x1a77f4(0x257)]==='completed')_0x2b49cf[_0x1a77f4(0x1c9)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x2b49cf[_0x1a77f4(0x1c0)]['color']=_0x1a77f4(0x17e),_0x501fa6[_0x1a77f4(0x1c0)][_0x1a77f4(0x181)]=_0x1a77f4(0x176);else{_0x2b49cf[_0x1a77f4(0x1c9)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x2b49cf[_0x1a77f4(0x1c0)][_0x1a77f4(0x21f)]='var(--acc-blue)',_0x501fa6[_0x1a77f4(0x1c0)]['display']='block';const _0x47a6cf=new Date(_0x3124fd[_0x1a77f4(0x17f)]+'T'+_0x3124fd[_0x1a77f4(0x214)]),_0x542f0e=new Date(),_0x41d1cf=(_0x47a6cf-_0x542f0e)/(0x3e8*0x3c*0x3c),_0x372dbd=coachProfiles[_0x3124fd['coachId']]&&coachProfiles[_0x3124fd[_0x1a77f4(0x253)]][_0x1a77f4(0x1bd)]?parseInt(coachProfiles[_0x3124fd[_0x1a77f4(0x253)]][_0x1a77f4(0x1bd)]):0x18;if(_0x372dbd===0x0||_0x41d1cf>=_0x372dbd)_0x37eca6['style'][_0x1a77f4(0x181)]=_0x1a77f4(0x198),_0x5e542e['style'][_0x1a77f4(0x181)]=_0x1a77f4(0x198),_0x2c104b['style'][_0x1a77f4(0x181)]=_0x1a77f4(0x176);else{_0x37eca6['style']['display']='none',_0x5e542e[_0x1a77f4(0x1c0)][_0x1a77f4(0x181)]=_0x1a77f4(0x176),_0x2c104b[_0x1a77f4(0x1c0)][_0x1a77f4(0x181)]=_0x1a77f4(0x198);let _0x493f60=_0x372dbd===0x0?_0x1a77f4(0x1ea):_0x1a77f4(0x21d)+_0x372dbd+_0x1a77f4(0x1f1);_0x2c104b[_0x1a77f4(0x1c9)]=_0x1a77f4(0x177)+_0x493f60+_0x1a77f4(0x25d);}}document['getElementById'](_0x1a77f4(0x23b))[_0x1a77f4(0x1c6)][_0x1a77f4(0x196)]('active'),document[_0x1a77f4(0x1cf)]('detailsSheet')[_0x1a77f4(0x1c6)][_0x1a77f4(0x196)](_0x1a77f4(0x1f8));}function closeAllSheets(){const _0x4208fc=a3_0x53394b;document[_0x4208fc(0x1cf)](_0x4208fc(0x23b))[_0x4208fc(0x1c6)][_0x4208fc(0x1cb)](_0x4208fc(0x1d5)),document[_0x4208fc(0x1e3)](_0x4208fc(0x231))['forEach'](_0x4b8f19=>_0x4b8f19[_0x4208fc(0x1c6)][_0x4208fc(0x1cb)](_0x4208fc(0x1f8)));}function openSheet(_0x1a4442){const _0x3296aa=a3_0x53394b;document['getElementById']('overlay')['classList'][_0x3296aa(0x196)](_0x3296aa(0x1d5)),document[_0x3296aa(0x1cf)](_0x1a4442)[_0x3296aa(0x1c6)][_0x3296aa(0x196)](_0x3296aa(0x1f8));}function a3_0x2851(_0x2b16ae,_0x69016a){_0x2b16ae=_0x2b16ae-0x16a;const _0x5eae16=a3_0x382d();let _0x4906d1=_0x5eae16[_0x2b16ae];return _0x4906d1;}function getLocalDateStr(_0x24fafd){const _0x1305a7=a3_0x53394b,_0xd2344b=_0x24fafd[_0x1305a7(0x262)](),_0x4381a0=String(_0x24fafd[_0x1305a7(0x1b6)]()+0x1)['padStart'](0x2,'0'),_0x38a26d=String(_0x24fafd[_0x1305a7(0x263)]())[_0x1305a7(0x244)](0x2,'0');return _0xd2344b+'-'+_0x4381a0+'-'+_0x38a26d;}function getStartOfWeek(_0x9d7e25){const _0x395fe9=a3_0x53394b,_0x555e23=new Date(_0x9d7e25),_0x5e843b=_0x555e23[_0x395fe9(0x200)](),_0x3bb7bd=_0x555e23['getDate']()-_0x5e843b+(_0x5e843b===0x0?-0x6:0x1);return _0x555e23[_0x395fe9(0x23e)](_0x3bb7bd),_0x555e23[_0x395fe9(0x21a)](0x0,0x0,0x0,0x0),_0x555e23;}function scrollToToday(){const _0x2ec7d9=getLocalDateStr(new Date());setTimeout(()=>{const _0x4c5a68=a3_0x2851,_0x3b2d74=document[_0x4c5a68(0x17b)]('.day-col-header[data-date=\x22'+_0x2ec7d9+'\x22]');if(_0x3b2d74){const _0x397e69=document['getElementById'](_0x4c5a68(0x178)),_0x303fa0=_0x3b2d74[_0x4c5a68(0x24c)]-_0x397e69[_0x4c5a68(0x20d)]/0x2+_0x3b2d74[_0x4c5a68(0x240)]/0x2;_0x397e69[_0x4c5a68(0x25a)]({'left':_0x303fa0,'behavior':_0x4c5a68(0x1d7)}),_0x397e69[_0x4c5a68(0x1dd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x15438a=a3_0x53394b,_0x1e83a5=new Date(),_0x588295=document[_0x15438a(0x1cf)](_0x15438a(0x22f)),_0x58e060=document[_0x15438a(0x1cf)](_0x15438a(0x1cd)),_0x39d3e4=(_0x1e83a5[_0x15438a(0x16e)]()*0x3c+_0x1e83a5['getMinutes']())/0x3c*GRID_H;_0x588295[_0x15438a(0x1c0)][_0x15438a(0x1ee)]=_0x39d3e4+'px',_0x588295['style'][_0x15438a(0x181)]=_0x15438a(0x198),_0x58e060[_0x15438a(0x1c0)][_0x15438a(0x1ee)]=_0x39d3e4+'px',_0x58e060[_0x15438a(0x1c0)]['display']=_0x15438a(0x198),_0x58e060[_0x15438a(0x1c9)]=String(_0x1e83a5[_0x15438a(0x16e)]())[_0x15438a(0x244)](0x2,'0')+':'+String(_0x1e83a5[_0x15438a(0x1e0)]())[_0x15438a(0x244)](0x2,'0');}function onScroll(){const _0x216a0a=a3_0x53394b,_0x220e04=document[_0x216a0a(0x1cf)](_0x216a0a(0x178)),_0x573dfc=document['querySelectorAll'](_0x216a0a(0x1b5));for(let _0x3ce3ba of _0x573dfc)if(_0x3ce3ba[_0x216a0a(0x24c)]>=_0x220e04[_0x216a0a(0x1f7)]){const _0x51e00d=new Date(_0x3ce3ba[_0x216a0a(0x1aa)](_0x216a0a(0x19c)));document[_0x216a0a(0x1cf)](_0x216a0a(0x20c))[_0x216a0a(0x1c9)]=_0x51e00d['toLocaleString']('ru',{'month':_0x216a0a(0x211)})[_0x216a0a(0x249)]()+'\x20'+_0x51e00d[_0x216a0a(0x262)]();break;}}function showToast(_0x3378f0){const _0x1e2d97=a3_0x53394b,_0x23fd2c=document['getElementById'](_0x1e2d97(0x184));_0x23fd2c[_0x1e2d97(0x1c9)]=_0x3378f0,_0x23fd2c[_0x1e2d97(0x1c6)][_0x1e2d97(0x196)]('show'),setTimeout(()=>_0x23fd2c[_0x1e2d97(0x1c6)][_0x1e2d97(0x1cb)](_0x1e2d97(0x1cc)),0x7d0);}function handleInfiniteScroll(){const _0x1f1715=a3_0x53394b,_0x3540a7=document['getElementById']('matrixViewport'),_0x1f1954=_0x3540a7['scrollLeft'],_0x100d4c=_0x3540a7[_0x1f1715(0x194)],_0x1776ad=_0x3540a7[_0x1f1715(0x20d)];if(_0x100d4c-(_0x1f1954+_0x1776ad)<0x12c){const _0x4dd9cf=endOffset;endOffset+=0xe,renderDayRange(_0x4dd9cf+0x1,endOffset),reRenderBlocks();}if(_0x1f1954<0x12c){const _0x40a6ab=startOffset;startOffset-=0xe,prependDays(startOffset,_0x40a6ab-0x1),_0x3540a7[_0x1f1715(0x1f7)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x711064,_0xeac197){const _0x51aab6=a3_0x53394b,_0x15371b=document[_0x51aab6(0x1cf)](_0x51aab6(0x18f)),_0x88916b=document[_0x51aab6(0x1cf)]('gridColumns'),_0x49ced2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15e622=new Date();_0x15e622['setHours'](0x0,0x0,0x0,0x0);const _0x9f3b06=getLocalDateStr(new Date()),_0xdcea9b=document[_0x51aab6(0x1c8)](),_0x38e881=document[_0x51aab6(0x1c8)]();for(let _0x39c714=_0x711064;_0x39c714<=_0xeac197;_0x39c714++){const _0xa47c17=new Date(_0x15e622);_0xa47c17[_0x51aab6(0x23e)](_0xa47c17[_0x51aab6(0x263)]()+_0x39c714);const _0x414754=getLocalDateStr(_0xa47c17);let _0x4ce5e6=_0xa47c17['getDay']()-0x1;if(_0x4ce5e6===-0x1)_0x4ce5e6=0x6;const _0x502fff=_0x414754===_0x9f3b06,_0x4937bb=document[_0x51aab6(0x16b)](_0x51aab6(0x1f6));_0x4937bb['className']=_0x51aab6(0x17a)+(_0x502fff?_0x51aab6(0x1d1):''),_0x4937bb[_0x51aab6(0x245)](_0x51aab6(0x19c),_0x414754),_0x4937bb[_0x51aab6(0x1e6)]=_0x51aab6(0x1a8)+_0x49ced2[_0x4ce5e6]+_0x51aab6(0x1d6)+_0xa47c17[_0x51aab6(0x263)]()+_0x51aab6(0x219),_0xdcea9b[_0x51aab6(0x173)](_0x4937bb);const _0x30de9c=document[_0x51aab6(0x16b)](_0x51aab6(0x1f6));_0x30de9c[_0x51aab6(0x1bb)]=_0x51aab6(0x1b1)+(_0x502fff?_0x51aab6(0x1d1):''),_0x30de9c[_0x51aab6(0x245)]('data-date',_0x414754),_0x30de9c['setAttribute'](_0x51aab6(0x238),_0x4ce5e6),_0x38e881['appendChild'](_0x30de9c);}_0x15371b['insertBefore'](_0xdcea9b,_0x15371b[_0x51aab6(0x228)]),_0x88916b[_0x51aab6(0x1f2)](_0x38e881,_0x88916b[_0x51aab6(0x17b)](_0x51aab6(0x1da)));}function hexToRgba(_0x3f958a,_0x491290){const _0x5db628=a3_0x53394b;let _0x16c044;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5db628(0x18e)](_0x3f958a))return _0x16c044=_0x3f958a[_0x5db628(0x25e)](0x1)[_0x5db628(0x248)](''),_0x16c044[_0x5db628(0x1ae)]==0x3&&(_0x16c044=[_0x16c044[0x0],_0x16c044[0x0],_0x16c044[0x1],_0x16c044[0x1],_0x16c044[0x2],_0x16c044[0x2]]),_0x16c044='0x'+_0x16c044[_0x5db628(0x1d4)](''),_0x5db628(0x1a3)+[_0x16c044>>0x10&0xff,_0x16c044>>0x8&0xff,_0x16c044&0xff][_0x5db628(0x1d4)](',')+','+_0x491290+')';return _0x5db628(0x18c)+_0x491290+')';}let confirmResolver=null;function showCustomConfirm(_0x43c861,_0x5e8afa,_0x14565d=!![]){const _0x935299=a3_0x53394b;document[_0x935299(0x1cf)](_0x935299(0x217))[_0x935299(0x1c9)]=_0x43c861,document['getElementById'](_0x935299(0x1e5))[_0x935299(0x1c9)]=_0x5e8afa;const _0x103797=document['getElementById'](_0x935299(0x235));return _0x14565d?(_0x103797[_0x935299(0x1c0)][_0x935299(0x21f)]=_0x935299(0x1c4),_0x103797['style'][_0x935299(0x1d9)]=_0x935299(0x260)):(_0x103797[_0x935299(0x1c0)]['color']=_0x935299(0x1bc),_0x103797['style'][_0x935299(0x1d9)]=_0x935299(0x260)),new Promise(_0x4185b9=>{const _0xc27001=_0x935299;confirmResolver=_0x4185b9,document[_0xc27001(0x1cf)](_0xc27001(0x186))[_0xc27001(0x1c6)][_0xc27001(0x196)](_0xc27001(0x1d0));});}function resolveCustomConfirm(_0x4e533e){const _0x11d0c3=a3_0x53394b;document[_0x11d0c3(0x1cf)]('customConfirm')[_0x11d0c3(0x1c6)]['remove']('visible');if(confirmResolver)confirmResolver(_0x4e533e);}async function tryCancelCurrentSession(){const _0x174948=a3_0x53394b;if(!currentSession)return;const _0x517825=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x174948(0x24a),!![]);if(!_0x517825)return;const _0x1c85ae=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x160d8e=>_0x160d8e['id']!==_0x1c85ae['id']),reRenderBlocks(),showToast(_0x174948(0x205)),lastUserActionTime=Date[_0x174948(0x1bf)]();try{const _0x1b637a=window[_0x174948(0x258)]?.[_0x174948(0x20f)],_0x450c86=await fetch(API_URL,{'method':_0x174948(0x21c),'body':JSON[_0x174948(0x193)]({'action':_0x174948(0x1c5),'init_data':_0x1b637a?.[_0x174948(0x208)]||'','coachId':_0x1c85ae[_0x174948(0x253)],'dateStr':_0x1c85ae[_0x174948(0x17f)],'sessionId':_0x1c85ae['id']})});if(_0x450c86['ok'])DataManager[_0x174948(0x227)]();}catch(_0x319c06){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x58f37d=a3_0x53394b;if(!currentSession)return;document['getElementById'](_0x58f37d(0x1f0))['classList'][_0x58f37d(0x1cb)]('open'),document['getElementById'](_0x58f37d(0x1f3))[_0x58f37d(0x1c6)][_0x58f37d(0x196)]('open');const _0x40dd4b=document['getElementById'](_0x58f37d(0x246)),_0x838428=document[_0x58f37d(0x1cf)](_0x58f37d(0x1d2));_0x40dd4b['innerHTML']='',_0x838428[_0x58f37d(0x1e6)]=_0x58f37d(0x175);const [_0x1c4270,_0x31c2a5]=currentSession[_0x58f37d(0x214)][_0x58f37d(0x248)](':')[_0x58f37d(0x1fd)](Number),[_0x2fede2,_0x28f793]=currentSession['end'][_0x58f37d(0x248)](':')[_0x58f37d(0x1fd)](Number),_0x49d66a=_0x2fede2*0x3c+_0x28f793-(_0x1c4270*0x3c+_0x31c2a5);try{const _0x535e9b=window[_0x58f37d(0x258)]?.[_0x58f37d(0x20f)],_0x2af5f5=await fetch(API_URL,{'method':_0x58f37d(0x21c),'body':JSON[_0x58f37d(0x193)]({'action':_0x58f37d(0x215),'coachId':currentSession[_0x58f37d(0x253)],'duration':_0x49d66a,'init_data':_0x535e9b?.[_0x58f37d(0x208)]||'','excludeSessionId':currentSession['id']})}),_0x3d00ff=await _0x2af5f5[_0x58f37d(0x1fb)]();_0x3d00ff['ok']&&_0x3d00ff[_0x58f37d(0x206)]?(availableSlotsCache=_0x3d00ff[_0x58f37d(0x206)],renderRescheduleDates()):_0x838428[_0x58f37d(0x1e6)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x4546a4){_0x838428[_0x58f37d(0x1e6)]=_0x58f37d(0x264);}}function renderRescheduleDates(){const _0x324ca5=a3_0x53394b,_0x5ed38b=document['getElementById']('rsDatesTrack');_0x5ed38b[_0x324ca5(0x1e6)]='';const _0x37e73d=Object['keys'](availableSlotsCache)[_0x324ca5(0x1b4)](),_0x13bca7=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x37e73d[_0x324ca5(0x1ae)]===0x0){document[_0x324ca5(0x1cf)](_0x324ca5(0x1d2))[_0x324ca5(0x1e6)]=_0x324ca5(0x16c);return;}_0x37e73d[_0x324ca5(0x1de)]((_0x11e605,_0xc9716b)=>{const _0x2fe719=_0x324ca5,_0x4ca578=new Date(_0x11e605),_0x340655=_0x13bca7[_0x4ca578[_0x2fe719(0x200)]()],_0x4bb01f=_0x4ca578[_0x2fe719(0x263)](),_0x2a7eaf=document[_0x2fe719(0x16b)]('div');_0x2a7eaf[_0x2fe719(0x1bb)]=_0x2fe719(0x171);if(_0xc9716b===0x0)_0x2a7eaf[_0x2fe719(0x1c6)][_0x2fe719(0x196)](_0x2fe719(0x1d5));_0x2a7eaf[_0x2fe719(0x1e6)]='<div\x20class=\x22rs-day-name\x22>'+_0x340655+'</div><div\x20class=\x22rs-day-num\x22>'+_0x4bb01f+'</div>',_0x2a7eaf['onclick']=()=>selectRsDate(_0x11e605,_0x2a7eaf),_0x5ed38b[_0x2fe719(0x173)](_0x2a7eaf);}),selectRsDate(_0x37e73d[0x0],_0x5ed38b[_0x324ca5(0x228)]);}function selectRsDate(_0x3927eb,_0x459d26){const _0x17f010=a3_0x53394b;selectedRsDate=_0x3927eb,document[_0x17f010(0x1e3)]('.rs-date-chip')['forEach'](_0x180f4f=>_0x180f4f[_0x17f010(0x1c6)][_0x17f010(0x1cb)](_0x17f010(0x1d5)));if(_0x459d26)_0x459d26[_0x17f010(0x1c6)][_0x17f010(0x196)]('active');const _0x1a059e=document[_0x17f010(0x1cf)](_0x17f010(0x1d2));_0x1a059e['innerHTML']='';const _0x7f6b88=availableSlotsCache[_0x3927eb]||[];if(_0x7f6b88['length']===0x0){_0x1a059e[_0x17f010(0x1e6)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x7f6b88[_0x17f010(0x1de)](_0x2f9fae=>{const _0x368052=_0x17f010,_0x37631b=document[_0x368052(0x16b)](_0x368052(0x1b8));_0x37631b[_0x368052(0x1bb)]=_0x368052(0x1d3),_0x37631b[_0x368052(0x1c9)]=_0x2f9fae,_0x37631b[_0x368052(0x266)]=()=>confirmReschedule(_0x2f9fae),_0x1a059e[_0x368052(0x173)](_0x37631b);});}async function confirmReschedule(_0x2cea8b){const _0x42d04e=a3_0x53394b,_0x39a56c=new Date(selectedRsDate),_0x3e6ab3=_0x39a56c[_0x42d04e(0x252)](_0x42d04e(0x1ca),{'day':'numeric','month':_0x42d04e(0x211)}),_0x454454=await showCustomConfirm(_0x42d04e(0x204),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x3e6ab3+_0x42d04e(0x224)+_0x2cea8b+'?',![]);if(!_0x454454)return;closeAllSheets(),showToast(_0x42d04e(0x21e)),lastUserActionTime=Date[_0x42d04e(0x1bf)]();const _0x4f749d=currentSession[_0x42d04e(0x17f)],_0x495c96=currentSession['id'],[_0x58465e,_0x314f64]=currentSession[_0x42d04e(0x214)][_0x42d04e(0x248)](':')[_0x42d04e(0x1fd)](Number),[_0x3165d0,_0x51ad6f]=currentSession['end'][_0x42d04e(0x248)](':')[_0x42d04e(0x1fd)](Number),_0x272d66=_0x3165d0*0x3c+_0x51ad6f-(_0x58465e*0x3c+_0x314f64),[_0x55f0f4,_0x4429c9]=_0x2cea8b['split'](':')[_0x42d04e(0x1fd)](Number),_0x2d9f7c=_0x55f0f4*0x3c+_0x4429c9+_0x272d66,_0x40bb38=Math['floor'](_0x2d9f7c/0x3c),_0xb85cc0=_0x2d9f7c%0x3c,_0x297cc9=String(_0x40bb38)['padStart'](0x2,'0')+':'+String(_0xb85cc0)[_0x42d04e(0x244)](0x2,'0'),_0x37f484=sessions[_0x42d04e(0x247)](_0x32daa9=>_0x32daa9['id']===_0x495c96);_0x37f484!==-0x1&&(sessions[_0x37f484]['dateStr']=selectedRsDate,sessions[_0x37f484][_0x42d04e(0x214)]=_0x2cea8b,sessions[_0x37f484][_0x42d04e(0x170)]=_0x297cc9,reRenderBlocks());try{const _0x4e40fb=window[_0x42d04e(0x258)]?.['WebApp'],_0x48dcb6=await fetch(API_URL,{'method':_0x42d04e(0x21c),'body':JSON[_0x42d04e(0x193)]({'action':_0x42d04e(0x21b),'init_data':_0x4e40fb?.[_0x42d04e(0x208)]||'','oldSessionId':_0x495c96,'oldDate':_0x4f749d,'newDate':selectedRsDate,'newTime':_0x2cea8b,'coachId':currentSession[_0x42d04e(0x253)]})}),_0x5828f5=await _0x48dcb6[_0x42d04e(0x1fb)]();!_0x5828f5['ok']?(showToast(_0x42d04e(0x1dc)),DataManager[_0x42d04e(0x23a)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x42d04e(0x227)]());}catch(_0x53800d){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x53394b(0x1c3),init);