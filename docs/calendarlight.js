const a3_0x3a3b78=a3_0x38a5;function a3_0x5000(){const _0x118edd=['Error\x20setting\x20back\x20button:','height','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','coachId','#0a84ff','Unknown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div','substring','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','router.html','ranges','getMonth','gridColumns','\x20–∏–∑\x20','\x20status-completed','setAttribute','cancelled','parse','clientWidth','rescheduleSheet','mini','3obZLQx','getHours','%\x20+\x202px)','start','44HfYYWG','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','detStatus','className','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','test','charAt','then','offsetLeft','add','ccYesBtn','substr','applyData','.rs-date-chip','scrollTop','</div>','find','disableVerticalSwipes','long','json','uc_client_list','getMinutes','saveLocally','classList','data','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','globalTimeLine','client_cancel','style','firstChild','time-label','getElementById','createDocumentFragment','ru-RU','setMonth','rgba(10,\x20132,\x20255,\x20','uc_client_settings','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','</div><div\x20class=\x22dch-num\x22>','value','display','dateStr','day-col-header\x20','11879bfYSVk','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<div\x20class=\x22rs-day-name\x22>','show','exceptions','fontWeight','backgroundColor','addEventListener','top','querySelector','toLocaleDateString','calendar','settings','log','WebApp','active','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','total','data-date','today','uc_client_sessions','rs-time-btn','T00:00:00','join','.period-switch\x20.p-btn','ccTitle','122030wgGkQs','visible','getItem','px\x200px','push','syncLoad','seriesId','location','blocked-range-part\x20stripe-bg','textContent','timeLineBadge','innerHTML','#050505','customConfirm','startsWith','cancel_window','%\x20-\x204px)','max','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','loadLocal','toLocaleString','remove','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','getDate','createElement','stringify','backgroundPosition','clientId','scroll','detDate','anEnd','</div><div\x20class=\x22rs-day-num\x22>','completed','round','coach_profiles','var(--acc-green)','length','isArray','scrollWidth','data-day-idx','\x20—á.','detailsSheet','end','timeColumn','min','–û—Ç–º–µ–Ω–µ–Ω–æ','borderLeftColor','<div\x20class=\x22dch-day\x22>','getAttribute','initDataUnsafe','sort','planned','constructor','custom','BackButton','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setDate','week','querySelectorAll','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','264wOlqvo','client_load','312126yCNGfy','insertBefore','map','reschedule','687975GVbDLF','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setHours','initData','POST','ready','analyticsSheet','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offClick','px\x20-','setItem','scrollTo','Telegram','block','anDonutCircle','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','client-stat-card','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','expand','user','search','1458XvhCXR','detTime','toString','Critical\x20TMA\x20Error:','onclick','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','color','279686zHCEUX','month','filter','cid','.btn-reschedule','status','toUpperCase','day-off-overlay\x20stripe-bg','rsSlotsGrid','matrixViewport','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','#ff453a','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','overlay','rgba(','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','getFullYear','done','none','button','daysHeaderTrack','10UgGZeJ','T23:59:59','colIndex','cancelHint','scrollLeft','appendChild','keys','split','error','toast','getDay','.day-column','padStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','findIndex','calc(','numeric','36477zCkMXe','rsDatesTrack','open','auto','anStart','floor','sid','forEach','getTime','get_slots','pattern','anPercent','\x20-\x20','detNote','5530368iooJex','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','<span>'];a3_0x5000=function(){return _0x118edd;};return a3_0x5000();}(function(_0x35180a,_0x2a9cd9){const _0x3a6eaf=a3_0x38a5,_0x3adeac=_0x35180a();while(!![]){try{const _0x31a97c=-parseInt(_0x3a6eaf(0x16d))/0x1*(-parseInt(_0x3a6eaf(0xfd))/0x2)+parseInt(_0x3a6eaf(0x101))/0x3+-parseInt(_0x3a6eaf(0x171))/0x4*(-parseInt(_0x3a6eaf(0x1b7))/0x5)+parseInt(_0x3a6eaf(0x116))/0x6*(-parseInt(_0x3a6eaf(0x19c))/0x7)+-parseInt(_0x3a6eaf(0xfb))/0x8*(-parseInt(_0x3a6eaf(0x145))/0x9)+parseInt(_0x3a6eaf(0x132))/0xa*(parseInt(_0x3a6eaf(0x11d))/0xb)+-parseInt(_0x3a6eaf(0x153))/0xc;if(_0x31a97c===_0x2a9cd9)break;else _0x3adeac['push'](_0x3adeac['shift']());}catch(_0x14062e){_0x3adeac['push'](_0x3adeac['shift']());}}}(a3_0x5000,0x3d810));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x3a3b78(0x19d),GRID_H=0x3c,KEY_SESSIONS=a3_0x3a3b78(0x1b1),KEY_SETTINGS=a3_0x3a3b78(0x195),KEY_CLIENTS=a3_0x3a3b78(0x185);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3a3b78(0xf8),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x111c40=a3_0x3a3b78,_0xddc2e8=(function(){let _0x54b4d9=!![];return function(_0x2581c5,_0x4962fb){const _0x33be09=_0x54b4d9?function(){if(_0x4962fb){const _0x5441a7=_0x4962fb['apply'](_0x2581c5,arguments);return _0x4962fb=null,_0x5441a7;}}:function(){};return _0x54b4d9=![],_0x33be09;};}()),_0x186c38=_0xddc2e8(this,function(){const _0x5a1371=a3_0x38a5;return _0x186c38[_0x5a1371(0x118)]()[_0x5a1371(0x115)]('(((.+)+)+)+$')[_0x5a1371(0x118)]()[_0x5a1371(0xf2)](_0x186c38)[_0x5a1371(0x115)]('(((.+)+)+)+$');});_0x186c38();try{const _0x5efc10=window[_0x111c40(0x10d)]?.[_0x111c40(0x1aa)];if(!_0x5efc10)return;_0x5efc10[_0x111c40(0x106)](),_0x5efc10[_0x111c40(0x113)]();try{_0x5efc10['setHeaderColor']('#050505'),_0x5efc10['setBackgroundColor']&&_0x5efc10['setBackgroundColor'](_0x111c40(0x1c3));}catch(_0x39fefe){console[_0x111c40(0x1a9)]('Error\x20setting\x20color:',_0x39fefe);}try{_0x5efc10['BackButton']&&(_0x5efc10[_0x111c40(0xf4)][_0x111c40(0x19f)](),_0x5efc10['BackButton'][_0x111c40(0x109)](),_0x5efc10[_0x111c40(0xf4)]['onClick'](function(){const _0x51b6f8=_0x111c40;window[_0x51b6f8(0x1be)]['href']=_0x51b6f8(0x161);}));}catch(_0x331487){console[_0x111c40(0x1a9)](_0x111c40(0x157),_0x331487);}try{if(_0x5efc10[_0x111c40(0x182)])_0x5efc10[_0x111c40(0x182)]();}catch(_0x33c447){}}catch(_0x397c72){console[_0x111c40(0x13a)](_0x111c40(0x119),_0x397c72);}}());function isAdmin(){const _0x9757fa=a3_0x3a3b78;try{const _0x482091=Number(window[_0x9757fa(0x10d)]?.['WebApp']?.[_0x9757fa(0xef)]?.[_0x9757fa(0x114)]?.['id']);return _0x482091===0xbaf7174;}catch(_0x390622){return![];}}const DataManager={'saveLocally'(){const _0x295cc9=a3_0x3a3b78;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x295cc9(0x1d0)](sessions)),localStorage[_0x295cc9(0x10b)](KEY_CLIENTS,JSON[_0x295cc9(0x1d0)](clients)),localStorage[_0x295cc9(0x10b)](KEY_SETTINGS,JSON[_0x295cc9(0x1d0)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x7bd8f0){}},'loadLocal'(){const _0x93843f=a3_0x3a3b78;try{const _0x483155=localStorage[_0x93843f(0x1b9)](KEY_SESSIONS);if(_0x483155)sessions=JSON['parse'](_0x483155);const _0x5d18f8=localStorage[_0x93843f(0x1b9)](KEY_CLIENTS);if(_0x5d18f8)clients=JSON[_0x93843f(0x169)](_0x5d18f8);const _0x4cec38=localStorage[_0x93843f(0x1b9)](KEY_SETTINGS);if(_0x4cec38){const _0x17d548=JSON[_0x93843f(0x169)](_0x4cec38);if(_0x17d548[_0x93843f(0x14f)])availabilityPattern=_0x17d548[_0x93843f(0x14f)];if(_0x17d548[_0x93843f(0x162)])specialRanges=_0x17d548[_0x93843f(0x162)];if(_0x17d548['exceptions'])dateExceptions=_0x17d548[_0x93843f(0x1a0)];}}catch(_0x2a9b18){}},async 'syncLoad'(){const _0x42d556=a3_0x3a3b78,_0x3fa4bf=new Date(),_0x212cd6=_0x3fa4bf[_0x42d556(0x12d)]()+'-'+String(_0x3fa4bf['getMonth']()+0x1)[_0x42d556(0x13e)](0x2,'0'),_0x28280b=new Date(_0x3fa4bf);_0x28280b[_0x42d556(0x193)](_0x3fa4bf[_0x42d556(0x163)]()+0x1);const _0x18b170=_0x28280b[_0x42d556(0x12d)]()+'-'+String(_0x28280b[_0x42d556(0x163)]()+0x1)[_0x42d556(0x13e)](0x2,'0'),_0x1b38a9=Date[_0x42d556(0x1ac)]();try{const _0x20d976=window[_0x42d556(0x10d)]?.['WebApp'],_0x1ae30d=_0x20d976?.['initData']||'',[_0x3fa2a6,_0x5404a1]=await Promise['all']([fetch(API_URL,{'method':_0x42d556(0x105),'body':JSON[_0x42d556(0x1d0)]({'action':_0x42d556(0xfc),'init_data':_0x1ae30d,'month_str':_0x212cd6})})[_0x42d556(0x178)](_0x616604=>_0x616604[_0x42d556(0x184)]()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x42d556(0xfc),'init_data':_0x1ae30d,'month_str':_0x18b170})})[_0x42d556(0x178)](_0x49603f=>_0x49603f[_0x42d556(0x184)]())]);if(lastUserActionTime>_0x1b38a9){console['log'](_0x42d556(0x196));return;}if(_0x3fa2a6['ok'])this[_0x42d556(0x17d)](_0x3fa2a6[_0x42d556(0x189)],_0x212cd6);if(_0x5404a1['ok'])this['applyData'](_0x5404a1['data'],_0x18b170);this[_0x42d556(0x187)]();}catch(_0x261d54){}},'applyData'(_0x4afd95,_0x297943){const _0x30e98d=a3_0x3a3b78;if(!_0x4afd95)return;if(_0x4afd95[_0x30e98d(0x1a8)]){if(_0x4afd95[_0x30e98d(0x1a8)]['pattern'])availabilityPattern=_0x4afd95[_0x30e98d(0x1a8)][_0x30e98d(0x14f)];if(_0x4afd95[_0x30e98d(0x1a8)][_0x30e98d(0x162)])specialRanges=_0x4afd95[_0x30e98d(0x1a8)][_0x30e98d(0x162)];if(_0x4afd95[_0x30e98d(0x1a8)][_0x30e98d(0x1a0)])dateExceptions=_0x4afd95[_0x30e98d(0x1a8)]['exceptions'];}if(_0x4afd95[_0x30e98d(0x140)]&&Array[_0x30e98d(0x1dc)](_0x4afd95['clients']))clients=_0x4afd95[_0x30e98d(0x140)];_0x4afd95['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x4afd95[_0x30e98d(0x1d9)]}),_0x4afd95[_0x30e98d(0x1a7)]&&(sessions=sessions[_0x30e98d(0x11f)](_0x2d7f6a=>!_0x2d7f6a['dateStr'][_0x30e98d(0x1c5)](_0x297943)),Object[_0x30e98d(0x138)](_0x4afd95[_0x30e98d(0x1a7)])[_0x30e98d(0x14c)](_0x27cbee=>{const _0x137da1=_0x30e98d,_0x172258=_0x4afd95[_0x137da1(0x1a7)][_0x27cbee];_0x172258[_0x137da1(0x14c)](_0x4ec602=>{const _0x5b10da=_0x137da1;sessions[_0x5b10da(0x1bb)]({'id':_0x4ec602['i'],'clientId':_0x4ec602['c'],'coachId':_0x4ec602[_0x5b10da(0x120)],'dateStr':_0x297943+'-'+_0x27cbee['padStart'](0x2,'0'),'start':_0x4ec602['s'],'end':_0x4ec602['e'],'note':_0x4ec602['n']||'','status':_0x4ec602['st']||_0x5b10da(0xf1),'seriesId':_0x4ec602[_0x5b10da(0x14b)]});});})),reRenderBlocks();}};function init(){const _0x556bd2=a3_0x3a3b78;DataManager[_0x556bd2(0x1ca)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x556bd2(0x190)](_0x556bd2(0x126))[_0x556bd2(0x1a3)](_0x556bd2(0x1d3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x556bd2(0x1bc)]();}function renderTimeColumn(){const _0x4cf728=a3_0x3a3b78,_0x45bbaf=document['getElementById'](_0x4cf728(0xe9)),_0x42fc0d=document['getElementById'](_0x4cf728(0x1c1));_0x45bbaf['innerHTML']='',_0x45bbaf['appendChild'](_0x42fc0d);for(let _0x33c324=0x0;_0x33c324<0x18;_0x33c324++){const _0x1377ce=document[_0x4cf728(0x1cf)]('div');_0x1377ce[_0x4cf728(0x174)]=_0x4cf728(0x18f);if(_0x33c324>0x0)_0x1377ce[_0x4cf728(0x1c2)]=_0x4cf728(0x156)+String(_0x33c324)[_0x4cf728(0x13e)](0x2,'0')+':00</span>';_0x45bbaf[_0x4cf728(0x137)](_0x1377ce);}}function renderDayRange(_0xbdf362,_0x597863){const _0x6bab6f=a3_0x3a3b78,_0x2d4c97=document['getElementById']('daysHeaderTrack'),_0x5540ba=document['getElementById'](_0x6bab6f(0x164)),_0xb8ebd2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x25c52a=new Date();_0x25c52a[_0x6bab6f(0x103)](0x0,0x0,0x0,0x0);const _0x2f979f=getLocalDateStr(new Date());for(let _0x484db6=_0xbdf362;_0x484db6<=_0x597863;_0x484db6++){const _0x1f6e1e=new Date(_0x25c52a);_0x1f6e1e[_0x6bab6f(0xf7)](_0x1f6e1e['getDate']()+_0x484db6);const _0x4eff7e=getLocalDateStr(_0x1f6e1e);let _0x202b4f=_0x1f6e1e[_0x6bab6f(0x13c)]()-0x1;if(_0x202b4f===-0x1)_0x202b4f=0x6;const _0x4e18a5=_0x4eff7e===_0x2f979f,_0x46b986=document[_0x6bab6f(0x1cf)](_0x6bab6f(0x15e));_0x46b986[_0x6bab6f(0x174)]=_0x6bab6f(0x19b)+(_0x4e18a5?_0x6bab6f(0x1b0):''),_0x46b986[_0x6bab6f(0x167)](_0x6bab6f(0x1af),_0x4eff7e),_0x46b986[_0x6bab6f(0x1c2)]=_0x6bab6f(0xed)+_0xb8ebd2[_0x202b4f]+'</div><div\x20class=\x22dch-num\x22>'+_0x1f6e1e[_0x6bab6f(0x1ce)]()+_0x6bab6f(0x180),_0x2d4c97[_0x6bab6f(0x137)](_0x46b986);const _0xcc7591=document[_0x6bab6f(0x1cf)]('div');_0xcc7591[_0x6bab6f(0x174)]='day-column\x20'+(_0x4e18a5?_0x6bab6f(0x1b0):''),_0xcc7591[_0x6bab6f(0x167)](_0x6bab6f(0x1af),_0x4eff7e),_0xcc7591[_0x6bab6f(0x167)](_0x6bab6f(0xe5),_0x202b4f),_0x5540ba[_0x6bab6f(0x137)](_0xcc7591);}}function reRenderBlocks(){const _0x42970e=a3_0x3a3b78;document[_0x42970e(0xf9)](_0x42970e(0x13d))[_0x42970e(0x14c)](_0x2253ad=>{const _0x54ecd7=_0x42970e;_0x2253ad[_0x54ecd7(0xf9)](_0x54ecd7(0x154))[_0x54ecd7(0x14c)](_0x4a3613=>_0x4a3613['remove']());const _0x15659f=_0x2253ad[_0x54ecd7(0xee)](_0x54ecd7(0x1af)),_0x1438d6=parseInt(_0x2253ad[_0x54ecd7(0xee)]('data-day-idx')),_0x36ec7d=Math[_0x54ecd7(0x1d8)](_0x2253ad[_0x54ecd7(0x179)]);(availabilityPattern[_0x1438d6]||[])[_0x54ecd7(0x14c)](_0x5d4b7b=>{const _0x155436=_0x54ecd7,_0x14e5a5=document[_0x155436(0x1cf)]('div');_0x14e5a5[_0x155436(0x174)]='blocked-slot\x20stripe-bg',_0x14e5a5[_0x155436(0x18d)][_0x155436(0x1a4)]=_0x5d4b7b*GRID_H+'px',_0x14e5a5[_0x155436(0x18d)][_0x155436(0x1d1)]='-'+_0x36ec7d+'px\x20-'+_0x5d4b7b*GRID_H+'px',_0x2253ad[_0x155436(0x137)](_0x14e5a5);});if(specialRanges[_0x54ecd7(0x1db)]>0x0){const _0x489349=new Date(_0x15659f+_0x54ecd7(0x1b3))[_0x54ecd7(0x14d)](),_0x34a6ed=new Date(_0x15659f+_0x54ecd7(0x133))[_0x54ecd7(0x14d)]();specialRanges['forEach'](_0x1423da=>{const _0x5a2d98=_0x54ecd7,_0x1aecf4=new Date(_0x1423da[_0x5a2d98(0x170)])[_0x5a2d98(0x14d)](),_0x36985f=new Date(_0x1423da['end'])['getTime'](),_0x3d4b95=Math[_0x5a2d98(0x1c8)](_0x489349,_0x1aecf4),_0x2e6a09=Math['min'](_0x34a6ed,_0x36985f);if(_0x3d4b95<_0x2e6a09){const _0x279af6=(_0x3d4b95-_0x489349)/0x36ee80*GRID_H,_0x2c9b0f=(_0x2e6a09-_0x3d4b95)/0x36ee80*GRID_H,_0x2bdcb7=document[_0x5a2d98(0x1cf)]('div');_0x2c9b0f>=23.5*GRID_H?(_0x2bdcb7['className']=_0x5a2d98(0x124),_0x2bdcb7[_0x5a2d98(0x18d)]['backgroundPosition']='-'+_0x36ec7d+_0x5a2d98(0x1ba)):(_0x2bdcb7[_0x5a2d98(0x174)]=_0x5a2d98(0x1bf),_0x2bdcb7[_0x5a2d98(0x18d)][_0x5a2d98(0x1a4)]=_0x279af6+'px',_0x2bdcb7[_0x5a2d98(0x18d)][_0x5a2d98(0x158)]=_0x2c9b0f+'px',_0x2bdcb7[_0x5a2d98(0x18d)]['backgroundPosition']='-'+_0x36ec7d+_0x5a2d98(0x10a)+_0x279af6+'px'),_0x2253ad[_0x5a2d98(0x137)](_0x2bdcb7);}});}renderEventsForColumn(_0x2253ad,_0x15659f);});}function renderEventsForColumn(_0x1c8a27,_0x62f4bd){const _0x50a217=a3_0x3a3b78,_0xefacb5=sessions[_0x50a217(0x11f)](_0x3cd0d7=>_0x3cd0d7[_0x50a217(0x19a)]===_0x62f4bd),_0x9a140f=_0xefacb5['map'](_0x50e497=>{const _0x5ec194=_0x50a217,[_0x1954f8,_0x48b30e]=_0x50e497[_0x5ec194(0x170)][_0x5ec194(0x139)](':')['map'](Number),[_0x2004de,_0x39b543]=_0x50e497['end']['split'](':')[_0x5ec194(0xff)](Number);return{'data':_0x50e497,'start':_0x1954f8*0x3c+_0x48b30e,'end':_0x2004de*0x3c+_0x39b543,'colIndex':0x0};});_0x9a140f[_0x50a217(0xf0)]((_0x30233f,_0x4313be)=>_0x30233f[_0x50a217(0x170)]-_0x4313be[_0x50a217(0x170)]||_0x4313be[_0x50a217(0xe8)]-_0x4313be['start']-(_0x30233f[_0x50a217(0xe8)]-_0x30233f['start']));const _0x3530a4=[];_0x9a140f['forEach'](_0x2ef16a=>{const _0x11ffb3=_0x50a217;let _0x3c33d3=![];for(let _0x48e976=0x0;_0x48e976<_0x3530a4[_0x11ffb3(0x1db)];_0x48e976++){const _0x583e1a=_0x3530a4[_0x48e976];if(_0x2ef16a[_0x11ffb3(0x170)]>=_0x583e1a[_0x583e1a[_0x11ffb3(0x1db)]-0x1][_0x11ffb3(0xe8)]){_0x583e1a[_0x11ffb3(0x1bb)](_0x2ef16a),_0x2ef16a[_0x11ffb3(0x134)]=_0x48e976,_0x3c33d3=!![];break;}}!_0x3c33d3&&(_0x3530a4['push']([_0x2ef16a]),_0x2ef16a[_0x11ffb3(0x134)]=_0x3530a4[_0x11ffb3(0x1db)]-0x1);}),_0x9a140f['forEach'](_0x39ba96=>{const _0x57ba6d=_0x50a217;let _0x18ede5=0x0;_0x9a140f[_0x57ba6d(0x14c)](_0x264ccc=>{const _0x5edeae=_0x57ba6d;if(Math['max'](_0x39ba96[_0x5edeae(0x170)],_0x264ccc['start'])<Math[_0x5edeae(0xea)](_0x39ba96[_0x5edeae(0xe8)],_0x264ccc[_0x5edeae(0xe8)])&&_0x264ccc['colIndex']>_0x18ede5)_0x18ede5=_0x264ccc['colIndex'];});const _0x5160f4=_0x18ede5+0x1,_0x2e931c=0x64/_0x5160f4,_0x2343af=_0x39ba96[_0x57ba6d(0x134)]*_0x2e931c,_0x46d691=document['createElement'](_0x57ba6d(0x15e)),_0x5c424d=_0x39ba96[_0x57ba6d(0x189)];let _0x5aa72e=_0x57ba6d(0x15b);if(clients&&clients[_0x57ba6d(0x1db)]>0x0){const _0x4a2581=clients[_0x57ba6d(0x181)](_0x47a760=>String(_0x47a760['id'])===String(_0x5c424d[_0x57ba6d(0x1d2)]));if(_0x4a2581&&_0x4a2581['color'])_0x5aa72e=_0x4a2581[_0x57ba6d(0x11c)];}const _0x179383=_0x5c424d[_0x57ba6d(0x122)]==='completed',_0x1db195=_0x179383?0x1:0.45;_0x46d691[_0x57ba6d(0x174)]='event-card'+(_0x179383?_0x57ba6d(0x166):''),_0x46d691[_0x57ba6d(0x18d)][_0x57ba6d(0x1a2)]=hexToRgba(_0x5aa72e,_0x1db195),_0x46d691['style'][_0x57ba6d(0xec)]=_0x5aa72e;const _0x1b5a51=_0x39ba96[_0x57ba6d(0x170)]/0x3c*GRID_H,_0x149712=(_0x39ba96[_0x57ba6d(0xe8)]-_0x39ba96[_0x57ba6d(0x170)])/0x3c*GRID_H;_0x46d691[_0x57ba6d(0x18d)]['top']=_0x1b5a51+'px',_0x46d691['style']['height']=Math[_0x57ba6d(0x1c8)](_0x149712,0x14)+'px',_0x46d691['style']['width']=_0x57ba6d(0x143)+_0x2e931c+_0x57ba6d(0x1c7),_0x46d691[_0x57ba6d(0x18d)]['left']='calc('+_0x2343af+_0x57ba6d(0x16f),_0x46d691[_0x57ba6d(0x18d)]['zIndex']=0xa+_0x39ba96[_0x57ba6d(0x134)];if(_0x2e931c<0x55)_0x46d691['classList']['add'](_0x57ba6d(0x16c));let _0x4c8fad='';if(_0x5c424d[_0x57ba6d(0x1bd)])_0x4c8fad+=_0x57ba6d(0x112);if(_0x179383)_0x4c8fad+=_0x57ba6d(0x18a);_0x46d691[_0x57ba6d(0x1c2)]=_0x57ba6d(0x127)+_0x5c424d[_0x57ba6d(0x170)]+'\x20-\x20'+_0x5c424d[_0x57ba6d(0xe8)]+_0x57ba6d(0x13f)+_0x4c8fad+_0x57ba6d(0x15d),_0x46d691[_0x57ba6d(0x11a)]=_0x4d79e6=>{_0x4d79e6['stopPropagation'](),openDetails(_0x5c424d);},_0x1c8a27[_0x57ba6d(0x137)](_0x46d691);});}function openAnalytics(){const _0x56f9ee=a3_0x3a3b78,_0x5999f8=document[_0x56f9ee(0x1a5)](_0x56f9ee(0x1b5));setAnalyticsPeriod(_0x56f9ee(0xf8),_0x5999f8),openSheet(_0x56f9ee(0x107));}function setAnalyticsPeriod(_0x78994e,_0x13af4d){const _0x4fcba4=a3_0x3a3b78;currentAnPeriod=_0x78994e,document[_0x4fcba4(0xf9)](_0x4fcba4(0x1b5))[_0x4fcba4(0x14c)](_0x5a71f9=>_0x5a71f9[_0x4fcba4(0x188)][_0x4fcba4(0x1cc)](_0x4fcba4(0x1ab)));if(_0x13af4d)_0x13af4d[_0x4fcba4(0x188)][_0x4fcba4(0x17a)](_0x4fcba4(0x1ab));const _0x97b26=document[_0x4fcba4(0x190)]('anCustomDates');_0x97b26['style']['display']=_0x78994e===_0x4fcba4(0xf3)?'flex':_0x4fcba4(0x12f);const _0x43f081=new Date();let _0xd9fefb=new Date(),_0xdc8192=new Date();if(_0x78994e===_0x4fcba4(0xf8))_0xd9fefb=getStartOfWeek(_0x43f081),_0xdc8192=new Date(_0xd9fefb),_0xdc8192['setDate'](_0xdc8192['getDate']()+0x6);else{if(_0x78994e===_0x4fcba4(0x11e))_0xd9fefb=new Date(_0x43f081['getFullYear'](),_0x43f081[_0x4fcba4(0x163)](),0x1),_0xdc8192=new Date(_0x43f081[_0x4fcba4(0x12d)](),_0x43f081[_0x4fcba4(0x163)]()+0x1,0x0);else{!document[_0x4fcba4(0x190)]('anStart')['value']&&(document['getElementById'](_0x4fcba4(0x149))[_0x4fcba4(0x198)]=getLocalDateStr(_0x43f081),document['getElementById'](_0x4fcba4(0x1d5))[_0x4fcba4(0x198)]=getLocalDateStr(_0x43f081));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0xd9fefb),document['getElementById']('anEnd')['value']=getLocalDateStr(_0xdc8192),refreshAnalytics();}function refreshAnalytics(){const _0x1fcdb5=a3_0x3a3b78,_0x379985=document[_0x1fcdb5(0x190)](_0x1fcdb5(0x149))['value'],_0x5966a0=document['getElementById'](_0x1fcdb5(0x1d5))[_0x1fcdb5(0x198)];if(!_0x379985||!_0x5966a0)return;const _0x1435cb=sessions[_0x1fcdb5(0x11f)](_0x5a3bd3=>_0x5a3bd3[_0x1fcdb5(0x19a)]>=_0x379985&&_0x5a3bd3[_0x1fcdb5(0x19a)]<=_0x5966a0&&_0x5a3bd3[_0x1fcdb5(0x122)]!==_0x1fcdb5(0x168)),_0x517e9e=_0x1435cb[_0x1fcdb5(0x1db)],_0x1577b4=_0x1435cb[_0x1fcdb5(0x11f)](_0x5c6193=>_0x5c6193[_0x1fcdb5(0x122)]===_0x1fcdb5(0x1d7))[_0x1fcdb5(0x1db)],_0xc5a8fe=_0x517e9e>0x0?Math[_0x1fcdb5(0x1d8)](_0x1577b4/_0x517e9e*0x64):0x0;document[_0x1fcdb5(0x190)](_0x1fcdb5(0x150))[_0x1fcdb5(0x1c0)]=_0xc5a8fe+'%',document[_0x1fcdb5(0x190)]('anTotalStats')[_0x1fcdb5(0x1c0)]=_0x1577b4+_0x1fcdb5(0x165)+_0x517e9e+_0x1fcdb5(0x110);const _0x497dc7=document['getElementById'](_0x1fcdb5(0x10f)),_0xc67b98=0x2*Math['PI']*0x23,_0x159466=_0xc67b98-_0xc5a8fe/0x64*_0xc67b98;_0x497dc7[_0x1fcdb5(0x18d)]['strokeDashoffset']=_0x159466;const _0x2273fb={};_0x1435cb[_0x1fcdb5(0x14c)](_0x1a124d=>{const _0x480354=_0x1fcdb5,_0x1c7607=_0x1a124d[_0x480354(0x15a)]||_0x480354(0x15c);if(!_0x2273fb[_0x1c7607]){const _0x98dad8='#'+_0x1c7607[_0x480354(0x118)]()[_0x480354(0x17c)](0x0,0x6);_0x2273fb[_0x1c7607]={'total':0x0,'done':0x0,'color':_0x98dad8};}_0x2273fb[_0x1c7607][_0x480354(0x1ae)]++;if(_0x1a124d[_0x480354(0x122)]==='completed')_0x2273fb[_0x1c7607][_0x480354(0x12e)]++;});const _0x2a8eb4=document['getElementById']('analyticsList');_0x2a8eb4[_0x1fcdb5(0x1c2)]='';const _0x44ae8c=Object['entries'](_0x2273fb)[_0x1fcdb5(0xf0)]((_0x267b0a,_0x1782a4)=>_0x1782a4[0x1][_0x1fcdb5(0x1ae)]-_0x267b0a[0x1][_0x1fcdb5(0x1ae)]);if(_0x44ae8c[_0x1fcdb5(0x1db)]===0x0){_0x2a8eb4[_0x1fcdb5(0x1c2)]=_0x1fcdb5(0x160);return;}_0x44ae8c[_0x1fcdb5(0x14c)](([_0x54e819,_0x45886c])=>{const _0x15d124=_0x1fcdb5,_0x470e22=Math[_0x15d124(0x1d8)](_0x45886c['done']/_0x45886c[_0x15d124(0x1ae)]*0x64),_0x2dbbbe=document[_0x15d124(0x1cf)](_0x15d124(0x15e));_0x2dbbbe[_0x15d124(0x174)]=_0x15d124(0x111),_0x2dbbbe['style'][_0x15d124(0xec)]=_0x45886c[_0x15d124(0x11c)],_0x2dbbbe[_0x15d124(0x1c2)]=_0x15d124(0x1ad)+_0x54e819[_0x15d124(0x17c)](0x0,0x5)+_0x15d124(0xf5)+_0x45886c['done']+'</span>\x20/\x20'+_0x45886c[_0x15d124(0x1ae)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x470e22+_0x15d124(0x108),_0x2a8eb4[_0x15d124(0x137)](_0x2dbbbe);});}function openDetails(_0x5554ad){const _0x229f25=a3_0x3a3b78;currentSession=_0x5554ad;const _0x3f7822=new Date(_0x5554ad[_0x229f25(0x19a)]),_0x16720b=_0x3f7822[_0x229f25(0x1a6)]('ru-RU',{'weekday':'long','day':_0x229f25(0x144),'month':_0x229f25(0x183)});document[_0x229f25(0x190)](_0x229f25(0x1d4))[_0x229f25(0x1c0)]=_0x16720b[_0x229f25(0x177)](0x0)['toUpperCase']()+_0x16720b['slice'](0x1),document['getElementById'](_0x229f25(0x117))[_0x229f25(0x1c0)]=_0x5554ad[_0x229f25(0x170)]+_0x229f25(0x151)+_0x5554ad[_0x229f25(0xe8)],document[_0x229f25(0x190)](_0x229f25(0x152))[_0x229f25(0x1c0)]=_0x5554ad['note']||_0x229f25(0x11b);const _0x34a3cb=document['getElementById'](_0x229f25(0x173)),_0x57f001=document[_0x229f25(0x190)]('cancelContainer'),_0x3ee491=_0x57f001['querySelector']('.btn-cancel'),_0x1aba0d=_0x57f001[_0x229f25(0x1a5)](_0x229f25(0x121)),_0x16f936=document[_0x229f25(0x190)](_0x229f25(0x135));if(_0x5554ad[_0x229f25(0x122)]==='completed')_0x34a3cb[_0x229f25(0x1c0)]=_0x229f25(0x159),_0x34a3cb['style'][_0x229f25(0x11c)]=_0x229f25(0x1da),_0x57f001[_0x229f25(0x18d)]['display']=_0x229f25(0x12f);else{_0x34a3cb['textContent']=_0x229f25(0x129),_0x34a3cb[_0x229f25(0x18d)][_0x229f25(0x11c)]='var(--acc-blue)',_0x57f001[_0x229f25(0x18d)][_0x229f25(0x199)]=_0x229f25(0x10e);const _0x44a636=new Date(_0x5554ad[_0x229f25(0x19a)]+'T'+_0x5554ad[_0x229f25(0x170)]),_0x2e8642=new Date(),_0x406fb3=(_0x44a636-_0x2e8642)/(0x3e8*0x3c*0x3c),_0xddf033=coachProfiles[_0x5554ad[_0x229f25(0x15a)]]&&coachProfiles[_0x5554ad['coachId']][_0x229f25(0x1c6)]?parseInt(coachProfiles[_0x5554ad[_0x229f25(0x15a)]]['cancel_window']):0x18;if(_0xddf033===0x0||_0x406fb3>=_0xddf033)_0x3ee491[_0x229f25(0x18d)]['display']=_0x229f25(0x10e),_0x1aba0d['style'][_0x229f25(0x199)]=_0x229f25(0x10e),_0x16f936[_0x229f25(0x18d)][_0x229f25(0x199)]=_0x229f25(0x12f);else{_0x3ee491[_0x229f25(0x18d)]['display']=_0x229f25(0x12f),_0x1aba0d[_0x229f25(0x18d)][_0x229f25(0x199)]='none',_0x16f936[_0x229f25(0x18d)][_0x229f25(0x199)]=_0x229f25(0x10e);let _0x3de71e=_0xddf033===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0xddf033+_0x229f25(0xe6);_0x16f936[_0x229f25(0x1c0)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x3de71e+_0x229f25(0x12c);}}document[_0x229f25(0x190)]('overlay')[_0x229f25(0x188)][_0x229f25(0x17a)]('active'),document[_0x229f25(0x190)](_0x229f25(0xe7))[_0x229f25(0x188)]['add'](_0x229f25(0x147));}function closeAllSheets(){const _0x46bbbd=a3_0x3a3b78;document[_0x46bbbd(0x190)](_0x46bbbd(0x12a))['classList'][_0x46bbbd(0x1cc)](_0x46bbbd(0x1ab)),document[_0x46bbbd(0xf9)]('.sheet')['forEach'](_0xb6ce6f=>_0xb6ce6f[_0x46bbbd(0x188)][_0x46bbbd(0x1cc)](_0x46bbbd(0x147)));}function openSheet(_0x48039b){const _0x29fdb9=a3_0x3a3b78;document[_0x29fdb9(0x190)](_0x29fdb9(0x12a))[_0x29fdb9(0x188)][_0x29fdb9(0x17a)]('active'),document[_0x29fdb9(0x190)](_0x48039b)[_0x29fdb9(0x188)][_0x29fdb9(0x17a)]('open');}function getLocalDateStr(_0x485de9){const _0x2dcd95=a3_0x3a3b78,_0x2b3356=_0x485de9[_0x2dcd95(0x12d)](),_0x38eb30=String(_0x485de9[_0x2dcd95(0x163)]()+0x1)[_0x2dcd95(0x13e)](0x2,'0'),_0x176e6d=String(_0x485de9[_0x2dcd95(0x1ce)]())['padStart'](0x2,'0');return _0x2b3356+'-'+_0x38eb30+'-'+_0x176e6d;}function getStartOfWeek(_0x4a541c){const _0x43d62=a3_0x3a3b78,_0x5731e8=new Date(_0x4a541c),_0x520a05=_0x5731e8[_0x43d62(0x13c)](),_0x1c54c5=_0x5731e8['getDate']()-_0x520a05+(_0x520a05===0x0?-0x6:0x1);return _0x5731e8[_0x43d62(0xf7)](_0x1c54c5),_0x5731e8[_0x43d62(0x103)](0x0,0x0,0x0,0x0),_0x5731e8;}function scrollToToday(){const _0x1a29c6=getLocalDateStr(new Date());setTimeout(()=>{const _0xfe3ec0=a3_0x38a5,_0x5c42e4=document[_0xfe3ec0(0x1a5)]('.day-col-header[data-date=\x22'+_0x1a29c6+'\x22]');if(_0x5c42e4){const _0x3c0b23=document['getElementById']('matrixViewport'),_0x43daaf=_0x5c42e4[_0xfe3ec0(0x179)]-_0x3c0b23[_0xfe3ec0(0x16a)]/0x2+_0x5c42e4['offsetWidth']/0x2;_0x3c0b23[_0xfe3ec0(0x10c)]({'left':_0x43daaf,'behavior':_0xfe3ec0(0x148)}),_0x3c0b23[_0xfe3ec0(0x17f)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x312321=a3_0x3a3b78,_0xc63e42=new Date(),_0x57597b=document[_0x312321(0x190)](_0x312321(0x18b)),_0x46012e=document[_0x312321(0x190)](_0x312321(0x1c1)),_0x3c3d01=(_0xc63e42[_0x312321(0x16e)]()*0x3c+_0xc63e42[_0x312321(0x186)]())/0x3c*GRID_H;_0x57597b[_0x312321(0x18d)]['top']=_0x3c3d01+'px',_0x57597b[_0x312321(0x18d)][_0x312321(0x199)]='block',_0x46012e[_0x312321(0x18d)][_0x312321(0x1a4)]=_0x3c3d01+'px',_0x46012e['style'][_0x312321(0x199)]=_0x312321(0x10e),_0x46012e[_0x312321(0x1c0)]=String(_0xc63e42[_0x312321(0x16e)]())[_0x312321(0x13e)](0x2,'0')+':'+String(_0xc63e42[_0x312321(0x186)]())[_0x312321(0x13e)](0x2,'0');}function onScroll(){const _0x4396e9=a3_0x3a3b78,_0x118396=document[_0x4396e9(0x190)](_0x4396e9(0x126)),_0x271cd6=document[_0x4396e9(0xf9)]('.day-col-header');for(let _0x2c2643 of _0x271cd6)if(_0x2c2643[_0x4396e9(0x179)]>=_0x118396[_0x4396e9(0x136)]){const _0x4106d1=new Date(_0x2c2643[_0x4396e9(0xee)](_0x4396e9(0x1af)));document[_0x4396e9(0x190)]('headerMonth')['textContent']=_0x4106d1[_0x4396e9(0x1cb)]('ru',{'month':'long'})[_0x4396e9(0x123)]()+'\x20'+_0x4106d1[_0x4396e9(0x12d)]();break;}}function showToast(_0x893e1c){const _0x20fbf8=a3_0x3a3b78,_0x3ccf8e=document['getElementById'](_0x20fbf8(0x13b));_0x3ccf8e[_0x20fbf8(0x1c0)]=_0x893e1c,_0x3ccf8e[_0x20fbf8(0x188)][_0x20fbf8(0x17a)]('show'),setTimeout(()=>_0x3ccf8e['classList'][_0x20fbf8(0x1cc)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x39b5dd=a3_0x3a3b78,_0x23c5fe=document[_0x39b5dd(0x190)](_0x39b5dd(0x126)),_0x45978f=_0x23c5fe['scrollLeft'],_0x462508=_0x23c5fe[_0x39b5dd(0x1dd)],_0x185e8f=_0x23c5fe[_0x39b5dd(0x16a)];if(_0x462508-(_0x45978f+_0x185e8f)<0x12c){const _0x44ac1b=endOffset;endOffset+=0xe,renderDayRange(_0x44ac1b+0x1,endOffset),reRenderBlocks();}if(_0x45978f<0x12c){const _0x98f4a5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x98f4a5-0x1),_0x23c5fe[_0x39b5dd(0x136)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x437f3e,_0x45db01){const _0x598be9=a3_0x3a3b78,_0x451c0b=document[_0x598be9(0x190)](_0x598be9(0x131)),_0x11607c=document['getElementById'](_0x598be9(0x164)),_0x3f0360=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d7673=new Date();_0x4d7673[_0x598be9(0x103)](0x0,0x0,0x0,0x0);const _0xe713c4=getLocalDateStr(new Date()),_0x44496c=document[_0x598be9(0x191)](),_0x2762a0=document[_0x598be9(0x191)]();for(let _0x3ba5c2=_0x437f3e;_0x3ba5c2<=_0x45db01;_0x3ba5c2++){const _0xdd5364=new Date(_0x4d7673);_0xdd5364[_0x598be9(0xf7)](_0xdd5364[_0x598be9(0x1ce)]()+_0x3ba5c2);const _0x168df9=getLocalDateStr(_0xdd5364);let _0x26725a=_0xdd5364[_0x598be9(0x13c)]()-0x1;if(_0x26725a===-0x1)_0x26725a=0x6;const _0x591701=_0x168df9===_0xe713c4,_0x4c2753=document['createElement'](_0x598be9(0x15e));_0x4c2753[_0x598be9(0x174)]=_0x598be9(0x19b)+(_0x591701?_0x598be9(0x1b0):''),_0x4c2753[_0x598be9(0x167)](_0x598be9(0x1af),_0x168df9),_0x4c2753['innerHTML']=_0x598be9(0xed)+_0x3f0360[_0x26725a]+_0x598be9(0x197)+_0xdd5364['getDate']()+_0x598be9(0x180),_0x44496c[_0x598be9(0x137)](_0x4c2753);const _0x26b77d=document[_0x598be9(0x1cf)](_0x598be9(0x15e));_0x26b77d['className']='day-column\x20'+(_0x591701?'today':''),_0x26b77d[_0x598be9(0x167)](_0x598be9(0x1af),_0x168df9),_0x26b77d[_0x598be9(0x167)]('data-day-idx',_0x26725a),_0x2762a0['appendChild'](_0x26b77d);}_0x451c0b[_0x598be9(0xfe)](_0x44496c,_0x451c0b[_0x598be9(0x18e)]),_0x11607c[_0x598be9(0xfe)](_0x2762a0,_0x11607c[_0x598be9(0x1a5)](_0x598be9(0x13d)));}function hexToRgba(_0xe1fa1f,_0x3c3bb6){const _0x16f2b6=a3_0x3a3b78;let _0x5bfc0d;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x16f2b6(0x176)](_0xe1fa1f))return _0x5bfc0d=_0xe1fa1f[_0x16f2b6(0x15f)](0x1)[_0x16f2b6(0x139)](''),_0x5bfc0d[_0x16f2b6(0x1db)]==0x3&&(_0x5bfc0d=[_0x5bfc0d[0x0],_0x5bfc0d[0x0],_0x5bfc0d[0x1],_0x5bfc0d[0x1],_0x5bfc0d[0x2],_0x5bfc0d[0x2]]),_0x5bfc0d='0x'+_0x5bfc0d['join'](''),_0x16f2b6(0x12b)+[_0x5bfc0d>>0x10&0xff,_0x5bfc0d>>0x8&0xff,_0x5bfc0d&0xff][_0x16f2b6(0x1b4)](',')+','+_0x3c3bb6+')';return _0x16f2b6(0x194)+_0x3c3bb6+')';}let confirmResolver=null;function showCustomConfirm(_0x18f12c,_0x50ef8a,_0x7d9015=!![]){const _0x4da602=a3_0x3a3b78;document[_0x4da602(0x190)](_0x4da602(0x1b6))['textContent']=_0x18f12c,document[_0x4da602(0x190)]('ccText')['textContent']=_0x50ef8a;const _0x28f39d=document['getElementById'](_0x4da602(0x17b));return _0x7d9015?(_0x28f39d[_0x4da602(0x18d)][_0x4da602(0x11c)]=_0x4da602(0x128),_0x28f39d['style'][_0x4da602(0x1a1)]='600'):(_0x28f39d[_0x4da602(0x18d)][_0x4da602(0x11c)]='#0a84ff',_0x28f39d['style'][_0x4da602(0x1a1)]='600'),new Promise(_0x10d573=>{const _0x2a59ff=_0x4da602;confirmResolver=_0x10d573,document[_0x2a59ff(0x190)](_0x2a59ff(0x1c4))['classList'][_0x2a59ff(0x17a)]('visible');});}function resolveCustomConfirm(_0x427c1e){const _0x1e2b42=a3_0x3a3b78;document[_0x1e2b42(0x190)]('customConfirm')[_0x1e2b42(0x188)][_0x1e2b42(0x1cc)](_0x1e2b42(0x1b8));if(confirmResolver)confirmResolver(_0x427c1e);}async function tryCancelCurrentSession(){const _0x3dccfc=a3_0x3a3b78;if(!currentSession)return;const _0x408502=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x3dccfc(0x1cd),!![]);if(!_0x408502)return;const _0xb3319f=currentSession;closeAllSheets(),sessions=sessions[_0x3dccfc(0x11f)](_0x3ed41b=>_0x3ed41b['id']!==_0xb3319f['id']),reRenderBlocks(),showToast(_0x3dccfc(0xeb)),lastUserActionTime=Date[_0x3dccfc(0x1ac)]();try{const _0x5ec20a=window['Telegram']?.[_0x3dccfc(0x1aa)],_0x812a72=await fetch(API_URL,{'method':'POST','body':JSON[_0x3dccfc(0x1d0)]({'action':_0x3dccfc(0x18c),'init_data':_0x5ec20a?.['initData']||'','coachId':_0xb3319f[_0x3dccfc(0x15a)],'dateStr':_0xb3319f['dateStr'],'sessionId':_0xb3319f['id']})});if(_0x812a72['ok'])DataManager[_0x3dccfc(0x187)]();}catch(_0xe6c966){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x425c39=a3_0x3a3b78;if(!currentSession)return;document[_0x425c39(0x190)](_0x425c39(0xe7))[_0x425c39(0x188)][_0x425c39(0x1cc)](_0x425c39(0x147)),document['getElementById'](_0x425c39(0x16b))['classList'][_0x425c39(0x17a)](_0x425c39(0x147));const _0x6c8171=document[_0x425c39(0x190)](_0x425c39(0x146)),_0x2a01a2=document['getElementById'](_0x425c39(0x125));_0x6c8171[_0x425c39(0x1c2)]='',_0x2a01a2['innerHTML']=_0x425c39(0xf6);const [_0x161bd0,_0x21b887]=currentSession[_0x425c39(0x170)][_0x425c39(0x139)](':')['map'](Number),[_0x112077,_0x1031aa]=currentSession[_0x425c39(0xe8)]['split'](':')[_0x425c39(0xff)](Number),_0x31d343=_0x112077*0x3c+_0x1031aa-(_0x161bd0*0x3c+_0x21b887);try{const _0x51d4c2=window[_0x425c39(0x10d)]?.[_0x425c39(0x1aa)],_0x38ab1f=await fetch(API_URL,{'method':_0x425c39(0x105),'body':JSON[_0x425c39(0x1d0)]({'action':_0x425c39(0x14e),'coachId':currentSession[_0x425c39(0x15a)],'duration':_0x31d343,'init_data':_0x51d4c2?.[_0x425c39(0x104)]||'','excludeSessionId':currentSession['id']})}),_0x552353=await _0x38ab1f[_0x425c39(0x184)]();_0x552353['ok']&&_0x552353[_0x425c39(0x189)]?(availableSlotsCache=_0x552353[_0x425c39(0x189)],renderRescheduleDates()):_0x2a01a2['innerHTML']=_0x425c39(0x155);}catch(_0x333c63){_0x2a01a2[_0x425c39(0x1c2)]=_0x425c39(0x175);}}function a3_0x38a5(_0x1ab01f,_0x35d76d){_0x1ab01f=_0x1ab01f-0xe5;const _0xa74c=a3_0x5000();let _0xac72e3=_0xa74c[_0x1ab01f];return _0xac72e3;}function renderRescheduleDates(){const _0x1ae229=a3_0x3a3b78,_0x290308=document[_0x1ae229(0x190)]('rsDatesTrack');_0x290308[_0x1ae229(0x1c2)]='';const _0x16626b=Object[_0x1ae229(0x138)](availableSlotsCache)[_0x1ae229(0xf0)](),_0x6035f0=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x16626b[_0x1ae229(0x1db)]===0x0){document['getElementById'](_0x1ae229(0x125))['innerHTML']=_0x1ae229(0x141);return;}_0x16626b[_0x1ae229(0x14c)]((_0x48f0e8,_0x383323)=>{const _0x144bec=_0x1ae229,_0x3113d9=new Date(_0x48f0e8),_0x45b881=_0x6035f0[_0x3113d9[_0x144bec(0x13c)]()],_0x454adc=_0x3113d9['getDate'](),_0x3eb787=document[_0x144bec(0x1cf)](_0x144bec(0x15e));_0x3eb787['className']='rs-date-chip';if(_0x383323===0x0)_0x3eb787[_0x144bec(0x188)][_0x144bec(0x17a)](_0x144bec(0x1ab));_0x3eb787[_0x144bec(0x1c2)]=_0x144bec(0x19e)+_0x45b881+_0x144bec(0x1d6)+_0x454adc+_0x144bec(0x180),_0x3eb787['onclick']=()=>selectRsDate(_0x48f0e8,_0x3eb787),_0x290308[_0x144bec(0x137)](_0x3eb787);}),selectRsDate(_0x16626b[0x0],_0x290308[_0x1ae229(0x18e)]);}function selectRsDate(_0x42d2d3,_0x3e3407){const _0x14e320=a3_0x3a3b78;selectedRsDate=_0x42d2d3,document['querySelectorAll'](_0x14e320(0x17e))['forEach'](_0x1a0a59=>_0x1a0a59[_0x14e320(0x188)][_0x14e320(0x1cc)]('active'));if(_0x3e3407)_0x3e3407[_0x14e320(0x188)]['add'](_0x14e320(0x1ab));const _0x1d3f0f=document[_0x14e320(0x190)](_0x14e320(0x125));_0x1d3f0f[_0x14e320(0x1c2)]='';const _0x37fab3=availableSlotsCache[_0x42d2d3]||[];if(_0x37fab3[_0x14e320(0x1db)]===0x0){_0x1d3f0f[_0x14e320(0x1c2)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x37fab3[_0x14e320(0x14c)](_0x121ba6=>{const _0x8cc219=_0x14e320,_0x5673a3=document[_0x8cc219(0x1cf)](_0x8cc219(0x130));_0x5673a3[_0x8cc219(0x174)]=_0x8cc219(0x1b2),_0x5673a3[_0x8cc219(0x1c0)]=_0x121ba6,_0x5673a3[_0x8cc219(0x11a)]=()=>confirmReschedule(_0x121ba6),_0x1d3f0f[_0x8cc219(0x137)](_0x5673a3);});}async function confirmReschedule(_0x10f4e1){const _0x2195aa=a3_0x3a3b78,_0x3b70ed=new Date(selectedRsDate),_0x131fa9=_0x3b70ed[_0x2195aa(0x1a6)](_0x2195aa(0x192),{'day':_0x2195aa(0x144),'month':_0x2195aa(0x183)}),_0x5982e9=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x2195aa(0x172)+_0x131fa9+'\x20–≤\x20'+_0x10f4e1+'?',![]);if(!_0x5982e9)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x2195aa(0x1ac)]();const _0x5a2b5f=currentSession[_0x2195aa(0x19a)],_0x1394e3=currentSession['id'],[_0x3fa7e7,_0x1f0477]=currentSession[_0x2195aa(0x170)][_0x2195aa(0x139)](':')[_0x2195aa(0xff)](Number),[_0x27c807,_0x583329]=currentSession[_0x2195aa(0xe8)][_0x2195aa(0x139)](':')['map'](Number),_0x1d169b=_0x27c807*0x3c+_0x583329-(_0x3fa7e7*0x3c+_0x1f0477),[_0x317800,_0x39343c]=_0x10f4e1[_0x2195aa(0x139)](':')[_0x2195aa(0xff)](Number),_0x3da7eb=_0x317800*0x3c+_0x39343c+_0x1d169b,_0x4096c9=Math[_0x2195aa(0x14a)](_0x3da7eb/0x3c),_0x2f3097=_0x3da7eb%0x3c,_0x176cce=String(_0x4096c9)[_0x2195aa(0x13e)](0x2,'0')+':'+String(_0x2f3097)[_0x2195aa(0x13e)](0x2,'0'),_0x15bddc=sessions[_0x2195aa(0x142)](_0x1f6e1c=>_0x1f6e1c['id']===_0x1394e3);_0x15bddc!==-0x1&&(sessions[_0x15bddc]['dateStr']=selectedRsDate,sessions[_0x15bddc][_0x2195aa(0x170)]=_0x10f4e1,sessions[_0x15bddc]['end']=_0x176cce,reRenderBlocks());try{const _0x578cc8=window[_0x2195aa(0x10d)]?.[_0x2195aa(0x1aa)],_0x331a78=await fetch(API_URL,{'method':_0x2195aa(0x105),'body':JSON['stringify']({'action':_0x2195aa(0x100),'init_data':_0x578cc8?.['initData']||'','oldSessionId':_0x1394e3,'oldDate':_0x5a2b5f,'newDate':selectedRsDate,'newTime':_0x10f4e1,'coachId':currentSession['coachId']})}),_0x2e6508=await _0x331a78[_0x2195aa(0x184)]();!_0x2e6508['ok']?(showToast(_0x2195aa(0xfa)),DataManager[_0x2195aa(0x1bc)]()):(showToast(_0x2195aa(0x102)),DataManager[_0x2195aa(0x187)]());}catch(_0x219b5f){showToast(_0x2195aa(0x1c9));}}document[a3_0x3a3b78(0x1a3)]('DOMContentLoaded',init);