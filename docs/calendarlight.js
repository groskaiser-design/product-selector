function a3_0x24f9(){const _0x28370d=['calc(','display','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Unknown','uc_client_sessions','600','POST','22424ulFTJx','clients','</div>','value','createElement','mini','insertBefore','today','anTotalStats','day-column\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','cancelled','substring','dateStr','18AKDQJq','round','firstChild','push','borderLeftColor','overlay','total','padStart','left','getDate','exceptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','9ClObvR','DOMContentLoaded','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','getAttribute','data-date','reschedule','rsDatesTrack','daysHeaderTrack','getDay','data-day-idx','stopPropagation','constructor','ru-RU','done','Error\x20setting\x20color:','long','height','ccTitle','12550tYoxGJ','customConfirm','</div><div\x20class=\x22dch-num\x22>','(((.+)+)+)+$','setMonth','cancelHint','setHeaderColor','keys','width','toLocaleDateString','cid','coachId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollLeft','color','58965fngsMg','v9.5-CLIENT-ANALYTICS','181496vHymda','block','start','length','anPercent','.btn-cancel','setItem','rgba(','numeric','then','%\x20-\x204px)','<div\x20class=\x22dch-day\x22>','add','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','detDate','forEach','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','startsWith','fontWeight','top','uc_client_settings','offsetWidth','</span>\x20/\x20','getElementById','BackButton','appendChild','substr','location','error','split','getMonth','<div\x20class=\x22rs-day-name\x22>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','\x20-\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','classList','timeColumn','gridColumns','\x20–≤\x20','parse','matrixViewport','visible','innerHTML','detailsSheet','now','min','cancelContainer',':00</span>','day-off-overlay\x20stripe-bg','get_slots','–∑–∞\x20','colIndex','</div><div\x20class=\x22rs-day-num\x22>','client-stat-card','cancel_window','toString','1823244YVjkXp','slice','href','analyticsList','247800mcxfMa','isArray','rescheduleSheet','status','detStatus','blocked-slot\x20stripe-bg','querySelectorAll','#0a84ff','timeLineBadge','completed','\x20status-completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','style','getItem','ranges','.day-column','sort','active','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','–û—Ç–º–µ–Ω–µ–Ω–æ','setHours','WebApp','router.html','getMinutes','offClick','.rs-date-chip','\x20—á.','settings','seriesId','blocked-range-part\x20stripe-bg','filter','rgba(10,\x20132,\x20255,\x20','initData','px\x20-','stringify','loadLocal','textContent','test','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','Telegram','anStart','initDataUnsafe','setDate','div','coach_profiles','charAt','max','getFullYear','log','user','client_load','410670jLYlii','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','scrollTo','week','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','querySelector','data','scrollTop','onclick','saveLocally','toast','7rVbGjd','%\x20+\x202px)','none','offsetLeft','apply','detTime','globalTimeLine','expand','time-label','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','px\x200px','uc_client_list','rsSlotsGrid','detNote','.day-col-header','end','addEventListener','#050505','backgroundColor','.period-switch\x20.p-btn','getTime','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','Error\x20setting\x20back\x20button:','day-col-header\x20','button','show','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','className','month','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','T00:00:00','backgroundPosition','createDocumentFragment','map','clientId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','pattern','join','custom','setAttribute','disableVerticalSwipes','all','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','anCustomDates','anEnd','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','clientWidth','getHours','open','json','remove','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞'];a3_0x24f9=function(){return _0x28370d;};return a3_0x24f9();}const a3_0x27584b=a3_0x1f30;(function(_0x1d45ad,_0x1acdcf){const _0x2c457c=a3_0x1f30,_0x3703f4=_0x1d45ad();while(!![]){try{const _0x4eac35=parseInt(_0x2c457c(0xfa))/0x1*(-parseInt(_0x2c457c(0x118))/0x2)+parseInt(_0x2c457c(0x165))/0x3+-parseInt(_0x2c457c(0x129))/0x4+parseInt(_0x2c457c(0x127))/0x5+parseInt(_0x2c457c(0x161))/0x6*(parseInt(_0x2c457c(0xaf))/0x7)+parseInt(_0x2c457c(0xeb))/0x8*(parseInt(_0x2c457c(0x106))/0x9)+-parseInt(_0x2c457c(0x199))/0xa;if(_0x4eac35===_0x1acdcf)break;else _0x3703f4['push'](_0x3703f4['shift']());}catch(_0x41a92e){_0x3703f4['push'](_0x3703f4['shift']());}}}(a3_0x24f9,0x313cf));const APP_VERSION=a3_0x27584b(0x128),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x27584b(0xe8),KEY_SETTINGS=a3_0x27584b(0x13d),KEY_CLIENTS=a3_0x27584b(0xba);function a3_0x1f30(_0x2f8952,_0x1e96c9){_0x2f8952=_0x2f8952-0xa8;const _0x4c9e65=a3_0x24f9();let _0x2e30b0=_0x4c9e65[_0x2f8952];return _0x2e30b0;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x27584b(0x19c),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x17ac40=a3_0x27584b,_0x155718=(function(){let _0x59cad4=!![];return function(_0x5f3b69,_0x4ceb1a){const _0xe0c540=_0x59cad4?function(){const _0x5ca15c=a3_0x1f30;if(_0x4ceb1a){const _0x1670ea=_0x4ceb1a[_0x5ca15c(0xb3)](_0x5f3b69,arguments);return _0x4ceb1a=null,_0x1670ea;}}:function(){};return _0x59cad4=![],_0xe0c540;};}()),_0x465aac=_0x155718(this,function(){const _0x538dab=a3_0x1f30;return _0x465aac['toString']()['search'](_0x538dab(0x11b))[_0x538dab(0x160)]()[_0x538dab(0x111)](_0x465aac)[_0x538dab(0x171)](_0x538dab(0x11b));});_0x465aac();try{const _0x425dfd=window[_0x17ac40(0x18d)]?.['WebApp'];if(!_0x425dfd)return;_0x425dfd['ready'](),_0x425dfd[_0x17ac40(0xb6)]();try{_0x425dfd[_0x17ac40(0x11e)](_0x17ac40(0xc0)),_0x425dfd['setBackgroundColor']&&_0x425dfd['setBackgroundColor'](_0x17ac40(0xc0));}catch(_0x24c94c){console['log'](_0x17ac40(0x114),_0x24c94c);}try{_0x425dfd[_0x17ac40(0x141)]&&(_0x425dfd[_0x17ac40(0x141)][_0x17ac40(0xc8)](),_0x425dfd[_0x17ac40(0x141)][_0x17ac40(0x17e)](),_0x425dfd['BackButton']['onClick'](function(){const _0x55228f=_0x17ac40;window[_0x55228f(0x144)][_0x55228f(0x163)]=_0x55228f(0x17c);}));}catch(_0x3388c8){console[_0x17ac40(0x196)](_0x17ac40(0xc5),_0x3388c8);}try{if(_0x425dfd[_0x17ac40(0xd7)])_0x425dfd[_0x17ac40(0xd7)]();}catch(_0x36f33a){}}catch(_0x1e50db){console[_0x17ac40(0x145)]('Critical\x20TMA\x20Error:',_0x1e50db);}}());function isAdmin(){const _0x419cf8=a3_0x27584b;try{const _0x258324=Number(window[_0x419cf8(0x18d)]?.[_0x419cf8(0x17b)]?.[_0x419cf8(0x18f)]?.[_0x419cf8(0x197)]?.['id']);return _0x258324===0xbaf7174;}catch(_0x508dc3){return![];}}const DataManager={'saveLocally'(){const _0x3708bd=a3_0x27584b;try{localStorage[_0x3708bd(0x12f)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3708bd(0x188)](clients)),localStorage[_0x3708bd(0x12f)](KEY_SETTINGS,JSON[_0x3708bd(0x188)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x479726){}},'loadLocal'(){const _0x365a9c=a3_0x27584b;try{const _0x34a647=localStorage[_0x365a9c(0x173)](KEY_SESSIONS);if(_0x34a647)sessions=JSON[_0x365a9c(0x150)](_0x34a647);const _0x1cde30=localStorage[_0x365a9c(0x173)](KEY_CLIENTS);if(_0x1cde30)clients=JSON[_0x365a9c(0x150)](_0x1cde30);const _0x31a5cb=localStorage[_0x365a9c(0x173)](KEY_SETTINGS);if(_0x31a5cb){const _0x414164=JSON[_0x365a9c(0x150)](_0x31a5cb);if(_0x414164[_0x365a9c(0xd3)])availabilityPattern=_0x414164['pattern'];if(_0x414164[_0x365a9c(0x174)])specialRanges=_0x414164[_0x365a9c(0x174)];if(_0x414164[_0x365a9c(0x104)])dateExceptions=_0x414164[_0x365a9c(0x104)];}}catch(_0x1a2635){}},async 'syncLoad'(){const _0x2bb007=a3_0x27584b,_0x3fe6a9=new Date(),_0x2c1a9d=_0x3fe6a9[_0x2bb007(0x195)]()+'-'+String(_0x3fe6a9['getMonth']()+0x1)[_0x2bb007(0x101)](0x2,'0'),_0x420519=new Date(_0x3fe6a9);_0x420519[_0x2bb007(0x11c)](_0x3fe6a9[_0x2bb007(0x147)]()+0x1);const _0x188140=_0x420519[_0x2bb007(0x195)]()+'-'+String(_0x420519[_0x2bb007(0x147)]()+0x1)[_0x2bb007(0x101)](0x2,'0'),_0x47839b=Date[_0x2bb007(0x155)]();try{const _0xf8bcab=window[_0x2bb007(0x18d)]?.['WebApp'],_0x1e8f73=_0xf8bcab?.['initData']||'',[_0x5bd0f3,_0x59e0dc]=await Promise[_0x2bb007(0xd8)]([fetch(API_URL,{'method':'POST','body':JSON[_0x2bb007(0x188)]({'action':_0x2bb007(0x198),'init_data':_0x1e8f73,'month_str':_0x2c1a9d})})[_0x2bb007(0x132)](_0xbb91c0=>_0xbb91c0[_0x2bb007(0xe0)]()),fetch(API_URL,{'method':_0x2bb007(0xea),'body':JSON[_0x2bb007(0x188)]({'action':_0x2bb007(0x198),'init_data':_0x1e8f73,'month_str':_0x188140})})[_0x2bb007(0x132)](_0x328c06=>_0x328c06[_0x2bb007(0xe0)]())]);if(lastUserActionTime>_0x47839b){console[_0x2bb007(0x196)](_0x2bb007(0x19a));return;}if(_0x5bd0f3['ok'])this['applyData'](_0x5bd0f3[_0x2bb007(0xaa)],_0x2c1a9d);if(_0x59e0dc['ok'])this['applyData'](_0x59e0dc[_0x2bb007(0xaa)],_0x188140);this[_0x2bb007(0xad)]();}catch(_0x2bcd24){}},'applyData'(_0x26beda,_0x479ac4){const _0x29bc32=a3_0x27584b;if(!_0x26beda)return;if(_0x26beda[_0x29bc32(0x181)]){if(_0x26beda[_0x29bc32(0x181)][_0x29bc32(0xd3)])availabilityPattern=_0x26beda[_0x29bc32(0x181)][_0x29bc32(0xd3)];if(_0x26beda[_0x29bc32(0x181)][_0x29bc32(0x174)])specialRanges=_0x26beda[_0x29bc32(0x181)][_0x29bc32(0x174)];if(_0x26beda[_0x29bc32(0x181)][_0x29bc32(0x104)])dateExceptions=_0x26beda[_0x29bc32(0x181)][_0x29bc32(0x104)];}if(_0x26beda[_0x29bc32(0xec)]&&Array[_0x29bc32(0x166)](_0x26beda[_0x29bc32(0xec)]))clients=_0x26beda[_0x29bc32(0xec)];_0x26beda[_0x29bc32(0x192)]&&(coachProfiles={...coachProfiles,..._0x26beda[_0x29bc32(0x192)]}),_0x26beda['calendar']&&(sessions=sessions[_0x29bc32(0x184)](_0x328df8=>!_0x328df8[_0x29bc32(0xf9)][_0x29bc32(0x13a)](_0x479ac4)),Object[_0x29bc32(0x11f)](_0x26beda['calendar'])[_0x29bc32(0x138)](_0x573d53=>{const _0x5d5e57=_0x29bc32,_0x2ff78e=_0x26beda['calendar'][_0x573d53];_0x2ff78e[_0x5d5e57(0x138)](_0x16a76d=>{const _0x32b399=_0x5d5e57;sessions[_0x32b399(0xfd)]({'id':_0x16a76d['i'],'clientId':_0x16a76d['c'],'coachId':_0x16a76d[_0x32b399(0x122)],'dateStr':_0x479ac4+'-'+_0x573d53[_0x32b399(0x101)](0x2,'0'),'start':_0x16a76d['s'],'end':_0x16a76d['e'],'note':_0x16a76d['n']||'','status':_0x16a76d['st']||'planned','seriesId':_0x16a76d['sid']});});})),reRenderBlocks();}};function init(){const _0x3295f7=a3_0x27584b;DataManager[_0x3295f7(0x189)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3295f7(0x140)](_0x3295f7(0x151))[_0x3295f7(0xbf)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x2094a0=a3_0x27584b,_0x34300a=document[_0x2094a0(0x140)](_0x2094a0(0x14d)),_0x17da07=document['getElementById'](_0x2094a0(0x16d));_0x34300a[_0x2094a0(0x153)]='',_0x34300a[_0x2094a0(0x142)](_0x17da07);for(let _0x4285c7=0x0;_0x4285c7<0x18;_0x4285c7++){const _0xbfa478=document[_0x2094a0(0xef)](_0x2094a0(0x191));_0xbfa478['className']=_0x2094a0(0xb7);if(_0x4285c7>0x0)_0xbfa478[_0x2094a0(0x153)]='<span>'+String(_0x4285c7)[_0x2094a0(0x101)](0x2,'0')+_0x2094a0(0x158);_0x34300a[_0x2094a0(0x142)](_0xbfa478);}}function renderDayRange(_0x326bd6,_0x41916a){const _0x51fab8=a3_0x27584b,_0x12d7b7=document['getElementById']('daysHeaderTrack'),_0x2fd19a=document[_0x51fab8(0x140)]('gridColumns'),_0x22685c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x89614a=new Date();_0x89614a[_0x51fab8(0x17a)](0x0,0x0,0x0,0x0);const _0x3668f3=getLocalDateStr(new Date());for(let _0x339d68=_0x326bd6;_0x339d68<=_0x41916a;_0x339d68++){const _0x56119e=new Date(_0x89614a);_0x56119e[_0x51fab8(0x190)](_0x56119e[_0x51fab8(0x103)]()+_0x339d68);const _0x95ada2=getLocalDateStr(_0x56119e);let _0x20c19f=_0x56119e[_0x51fab8(0x10e)]()-0x1;if(_0x20c19f===-0x1)_0x20c19f=0x6;const _0x285b8d=_0x95ada2===_0x3668f3,_0x2ec483=document[_0x51fab8(0xef)]('div');_0x2ec483[_0x51fab8(0xca)]=_0x51fab8(0xc6)+(_0x285b8d?_0x51fab8(0xf2):''),_0x2ec483[_0x51fab8(0xd6)]('data-date',_0x95ada2),_0x2ec483[_0x51fab8(0x153)]='<div\x20class=\x22dch-day\x22>'+_0x22685c[_0x20c19f]+_0x51fab8(0x11a)+_0x56119e[_0x51fab8(0x103)]()+'</div>',_0x12d7b7['appendChild'](_0x2ec483);const _0x484de4=document[_0x51fab8(0xef)](_0x51fab8(0x191));_0x484de4[_0x51fab8(0xca)]=_0x51fab8(0xf4)+(_0x285b8d?_0x51fab8(0xf2):''),_0x484de4['setAttribute'](_0x51fab8(0x10a),_0x95ada2),_0x484de4[_0x51fab8(0xd6)](_0x51fab8(0x10f),_0x20c19f),_0x2fd19a[_0x51fab8(0x142)](_0x484de4);}}function reRenderBlocks(){const _0x3c82a3=a3_0x27584b;document[_0x3c82a3(0x16b)]('.day-column')['forEach'](_0x2d50fa=>{const _0x456175=_0x3c82a3;_0x2d50fa['querySelectorAll'](_0x456175(0xc4))['forEach'](_0x2c7769=>_0x2c7769['remove']());const _0x4302f0=_0x2d50fa['getAttribute'](_0x456175(0x10a)),_0x472974=parseInt(_0x2d50fa[_0x456175(0x109)](_0x456175(0x10f))),_0x186ca9=Math[_0x456175(0xfb)](_0x2d50fa[_0x456175(0xb2)]);(availabilityPattern[_0x472974]||[])[_0x456175(0x138)](_0x956e27=>{const _0x1a1605=_0x456175,_0x5e5329=document[_0x1a1605(0xef)](_0x1a1605(0x191));_0x5e5329[_0x1a1605(0xca)]=_0x1a1605(0x16a),_0x5e5329[_0x1a1605(0x172)]['top']=_0x956e27*GRID_H+'px',_0x5e5329[_0x1a1605(0x172)][_0x1a1605(0xce)]='-'+_0x186ca9+_0x1a1605(0x187)+_0x956e27*GRID_H+'px',_0x2d50fa[_0x1a1605(0x142)](_0x5e5329);});if(specialRanges[_0x456175(0x12c)]>0x0){const _0x3e064a=new Date(_0x4302f0+_0x456175(0xcd))[_0x456175(0xc3)](),_0x235514=new Date(_0x4302f0+'T23:59:59')['getTime']();specialRanges[_0x456175(0x138)](_0x31701c=>{const _0x47664c=_0x456175,_0x3397f1=new Date(_0x31701c[_0x47664c(0x12b)])[_0x47664c(0xc3)](),_0x37c841=new Date(_0x31701c[_0x47664c(0xbe)])[_0x47664c(0xc3)](),_0x42ac4d=Math['max'](_0x3e064a,_0x3397f1),_0x3d40c8=Math[_0x47664c(0x156)](_0x235514,_0x37c841);if(_0x42ac4d<_0x3d40c8){const _0x316eff=(_0x42ac4d-_0x3e064a)/0x36ee80*GRID_H,_0x432b4e=(_0x3d40c8-_0x42ac4d)/0x36ee80*GRID_H,_0x2647af=document[_0x47664c(0xef)](_0x47664c(0x191));_0x432b4e>=23.5*GRID_H?(_0x2647af[_0x47664c(0xca)]=_0x47664c(0x159),_0x2647af[_0x47664c(0x172)]['backgroundPosition']='-'+_0x186ca9+_0x47664c(0xb9)):(_0x2647af[_0x47664c(0xca)]=_0x47664c(0x183),_0x2647af[_0x47664c(0x172)]['top']=_0x316eff+'px',_0x2647af['style'][_0x47664c(0x116)]=_0x432b4e+'px',_0x2647af[_0x47664c(0x172)]['backgroundPosition']='-'+_0x186ca9+_0x47664c(0x187)+_0x316eff+'px'),_0x2d50fa[_0x47664c(0x142)](_0x2647af);}});}renderEventsForColumn(_0x2d50fa,_0x4302f0);});}function renderEventsForColumn(_0x4fc553,_0x5b4fa0){const _0x22b978=a3_0x27584b,_0x2b17bf=sessions[_0x22b978(0x184)](_0x34be9d=>_0x34be9d[_0x22b978(0xf9)]===_0x5b4fa0),_0x57c162=_0x2b17bf[_0x22b978(0xd0)](_0x4e4bf1=>{const _0x3ebaf2=_0x22b978,[_0x39998c,_0x3e0546]=_0x4e4bf1[_0x3ebaf2(0x12b)][_0x3ebaf2(0x146)](':')[_0x3ebaf2(0xd0)](Number),[_0x21ab83,_0x1fe357]=_0x4e4bf1[_0x3ebaf2(0xbe)]['split'](':')['map'](Number);return{'data':_0x4e4bf1,'start':_0x39998c*0x3c+_0x3e0546,'end':_0x21ab83*0x3c+_0x1fe357,'colIndex':0x0};});_0x57c162[_0x22b978(0x176)]((_0xde036f,_0x11a3e4)=>_0xde036f[_0x22b978(0x12b)]-_0x11a3e4[_0x22b978(0x12b)]||_0x11a3e4['end']-_0x11a3e4[_0x22b978(0x12b)]-(_0xde036f[_0x22b978(0xbe)]-_0xde036f['start']));const _0x5ba4f2=[];_0x57c162[_0x22b978(0x138)](_0x30e1ff=>{const _0x4dcd39=_0x22b978;let _0x258e78=![];for(let _0x4d677c=0x0;_0x4d677c<_0x5ba4f2['length'];_0x4d677c++){const _0x4bc730=_0x5ba4f2[_0x4d677c];if(_0x30e1ff[_0x4dcd39(0x12b)]>=_0x4bc730[_0x4bc730['length']-0x1][_0x4dcd39(0xbe)]){_0x4bc730[_0x4dcd39(0xfd)](_0x30e1ff),_0x30e1ff[_0x4dcd39(0x15c)]=_0x4d677c,_0x258e78=!![];break;}}!_0x258e78&&(_0x5ba4f2[_0x4dcd39(0xfd)]([_0x30e1ff]),_0x30e1ff[_0x4dcd39(0x15c)]=_0x5ba4f2[_0x4dcd39(0x12c)]-0x1);}),_0x57c162[_0x22b978(0x138)](_0x10d797=>{const _0x937d9d=_0x22b978;let _0x26b0ba=0x0;_0x57c162['forEach'](_0x1127b7=>{const _0x15d73d=a3_0x1f30;if(Math[_0x15d73d(0x194)](_0x10d797[_0x15d73d(0x12b)],_0x1127b7[_0x15d73d(0x12b)])<Math[_0x15d73d(0x156)](_0x10d797[_0x15d73d(0xbe)],_0x1127b7[_0x15d73d(0xbe)])&&_0x1127b7[_0x15d73d(0x15c)]>_0x26b0ba)_0x26b0ba=_0x1127b7[_0x15d73d(0x15c)];});const _0x46b894=_0x26b0ba+0x1,_0x5d72e2=0x64/_0x46b894,_0xc46b25=_0x10d797[_0x937d9d(0x15c)]*_0x5d72e2,_0xe689e1=document[_0x937d9d(0xef)](_0x937d9d(0x191)),_0x3bb47b=_0x10d797['data'];let _0x11cb76=_0x937d9d(0x16c);if(clients&&clients['length']>0x0){const _0x5851f6=clients['find'](_0x52da44=>String(_0x52da44['id'])===String(_0x3bb47b[_0x937d9d(0xd1)]));if(_0x5851f6&&_0x5851f6[_0x937d9d(0x126)])_0x11cb76=_0x5851f6[_0x937d9d(0x126)];}const _0x45e7dd=_0x3bb47b[_0x937d9d(0x168)]===_0x937d9d(0x16e),_0x3b836b=_0x45e7dd?0x1:0.45;_0xe689e1[_0x937d9d(0xca)]='event-card'+(_0x45e7dd?_0x937d9d(0x16f):''),_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0xc1)]=hexToRgba(_0x11cb76,_0x3b836b),_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0xfe)]=_0x11cb76;const _0x56438b=_0x10d797[_0x937d9d(0x12b)]/0x3c*GRID_H,_0x248df3=(_0x10d797[_0x937d9d(0xbe)]-_0x10d797['start'])/0x3c*GRID_H;_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0x13c)]=_0x56438b+'px',_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0x116)]=Math[_0x937d9d(0x194)](_0x248df3,0x14)+'px',_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0x120)]=_0x937d9d(0xe4)+_0x5d72e2+_0x937d9d(0x133),_0xe689e1[_0x937d9d(0x172)][_0x937d9d(0x102)]=_0x937d9d(0xe4)+_0xc46b25+_0x937d9d(0xb0),_0xe689e1[_0x937d9d(0x172)]['zIndex']=0xa+_0x10d797[_0x937d9d(0x15c)];if(_0x5d72e2<0x55)_0xe689e1[_0x937d9d(0x14c)][_0x937d9d(0x135)](_0x937d9d(0xf0));let _0x13d31f='';if(_0x3bb47b[_0x937d9d(0x182)])_0x13d31f+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x45e7dd)_0x13d31f+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0xe689e1[_0x937d9d(0x153)]=_0x937d9d(0xf5)+_0x3bb47b['start']+_0x937d9d(0x14a)+_0x3bb47b[_0x937d9d(0xbe)]+_0x937d9d(0x124)+_0x13d31f+_0x937d9d(0x170),_0xe689e1[_0x937d9d(0xac)]=_0x3fbc81=>{const _0x2f0f97=_0x937d9d;_0x3fbc81[_0x2f0f97(0x110)](),openDetails(_0x3bb47b);},_0x4fc553[_0x937d9d(0x142)](_0xe689e1);});}function openAnalytics(){const _0x13c318=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x13c318),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x29aaa4,_0x4341c7){const _0x383166=a3_0x27584b;currentAnPeriod=_0x29aaa4,document[_0x383166(0x16b)](_0x383166(0xc2))[_0x383166(0x138)](_0x3b4b77=>_0x3b4b77[_0x383166(0x14c)][_0x383166(0xe1)](_0x383166(0x177)));if(_0x4341c7)_0x4341c7[_0x383166(0x14c)]['add']('active');const _0x55fc47=document[_0x383166(0x140)](_0x383166(0xda));_0x55fc47[_0x383166(0x172)][_0x383166(0xe5)]=_0x29aaa4===_0x383166(0xd5)?'flex':_0x383166(0xb1);const _0x5ab7dd=new Date();let _0x4e78ec=new Date(),_0x34a880=new Date();if(_0x29aaa4===_0x383166(0x19c))_0x4e78ec=getStartOfWeek(_0x5ab7dd),_0x34a880=new Date(_0x4e78ec),_0x34a880[_0x383166(0x190)](_0x34a880[_0x383166(0x103)]()+0x6);else{if(_0x29aaa4===_0x383166(0xcb))_0x4e78ec=new Date(_0x5ab7dd[_0x383166(0x195)](),_0x5ab7dd[_0x383166(0x147)](),0x1),_0x34a880=new Date(_0x5ab7dd[_0x383166(0x195)](),_0x5ab7dd[_0x383166(0x147)]()+0x1,0x0);else{!document[_0x383166(0x140)](_0x383166(0x18e))[_0x383166(0xee)]&&(document[_0x383166(0x140)](_0x383166(0x18e))[_0x383166(0xee)]=getLocalDateStr(_0x5ab7dd),document['getElementById'](_0x383166(0xdb))[_0x383166(0xee)]=getLocalDateStr(_0x5ab7dd));refreshAnalytics();return;}}document[_0x383166(0x140)](_0x383166(0x18e))[_0x383166(0xee)]=getLocalDateStr(_0x4e78ec),document[_0x383166(0x140)](_0x383166(0xdb))[_0x383166(0xee)]=getLocalDateStr(_0x34a880),refreshAnalytics();}function refreshAnalytics(){const _0x4bedda=a3_0x27584b,_0x3e4421=document[_0x4bedda(0x140)]('anStart')[_0x4bedda(0xee)],_0x226462=document[_0x4bedda(0x140)](_0x4bedda(0xdb))[_0x4bedda(0xee)];if(!_0x3e4421||!_0x226462)return;const _0x43f64d=sessions['filter'](_0x3f96e6=>_0x3f96e6[_0x4bedda(0xf9)]>=_0x3e4421&&_0x3f96e6['dateStr']<=_0x226462&&_0x3f96e6[_0x4bedda(0x168)]!==_0x4bedda(0xf7)),_0x3070e2=_0x43f64d['length'],_0x20e65c=_0x43f64d[_0x4bedda(0x184)](_0x375d05=>_0x375d05[_0x4bedda(0x168)]===_0x4bedda(0x16e))[_0x4bedda(0x12c)],_0x1c9833=_0x3070e2>0x0?Math[_0x4bedda(0xfb)](_0x20e65c/_0x3070e2*0x64):0x0;document[_0x4bedda(0x140)](_0x4bedda(0x12d))['textContent']=_0x1c9833+'%',document[_0x4bedda(0x140)](_0x4bedda(0xf3))['textContent']=_0x20e65c+'\x20–∏–∑\x20'+_0x3070e2+_0x4bedda(0xdc);const _0x329c64=document[_0x4bedda(0x140)]('anDonutCircle'),_0x251a23=0x2*Math['PI']*0x23,_0x2e936f=_0x251a23-_0x1c9833/0x64*_0x251a23;_0x329c64[_0x4bedda(0x172)]['strokeDashoffset']=_0x2e936f;const _0x6b6d19={};_0x43f64d[_0x4bedda(0x138)](_0x1a65c9=>{const _0x1a1658=_0x4bedda,_0x576d48=_0x1a65c9[_0x1a1658(0x123)]||_0x1a1658(0xe7);if(!_0x6b6d19[_0x576d48]){const _0x5f58dc='#'+_0x576d48[_0x1a1658(0x160)]()[_0x1a1658(0x143)](0x0,0x6);_0x6b6d19[_0x576d48]={'total':0x0,'done':0x0,'color':_0x5f58dc};}_0x6b6d19[_0x576d48][_0x1a1658(0x100)]++;if(_0x1a65c9[_0x1a1658(0x168)]==='completed')_0x6b6d19[_0x576d48]['done']++;});const _0x2108b0=document[_0x4bedda(0x140)](_0x4bedda(0x164));_0x2108b0['innerHTML']='';const _0x25fd57=Object['entries'](_0x6b6d19)[_0x4bedda(0x176)]((_0x317e99,_0x421ffd)=>_0x421ffd[0x1]['total']-_0x317e99[0x1][_0x4bedda(0x100)]);if(_0x25fd57[_0x4bedda(0x12c)]===0x0){_0x2108b0['innerHTML']=_0x4bedda(0xe6);return;}_0x25fd57['forEach'](([_0x2ca2ce,_0x15f3b7])=>{const _0x2f08ca=_0x4bedda,_0x33b156=Math[_0x2f08ca(0xfb)](_0x15f3b7['done']/_0x15f3b7[_0x2f08ca(0x100)]*0x64),_0x4f5e7e=document['createElement']('div');_0x4f5e7e[_0x2f08ca(0xca)]=_0x2f08ca(0x15e),_0x4f5e7e[_0x2f08ca(0x172)][_0x2f08ca(0xfe)]=_0x15f3b7[_0x2f08ca(0x126)],_0x4f5e7e[_0x2f08ca(0x153)]=_0x2f08ca(0x105)+_0x2ca2ce['substr'](0x0,0x5)+_0x2f08ca(0xa8)+_0x15f3b7[_0x2f08ca(0x113)]+_0x2f08ca(0x13f)+_0x15f3b7['total']+_0x2f08ca(0xd2)+_0x33b156+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2108b0[_0x2f08ca(0x142)](_0x4f5e7e);});}function openDetails(_0xac43de){const _0x1e6de5=a3_0x27584b;currentSession=_0xac43de;const _0x118edf=new Date(_0xac43de[_0x1e6de5(0xf9)]),_0x3be1df=_0x118edf[_0x1e6de5(0x121)](_0x1e6de5(0x112),{'weekday':'long','day':_0x1e6de5(0x131),'month':_0x1e6de5(0x115)});document[_0x1e6de5(0x140)](_0x1e6de5(0x137))['textContent']=_0x3be1df[_0x1e6de5(0x193)](0x0)['toUpperCase']()+_0x3be1df[_0x1e6de5(0x162)](0x1),document[_0x1e6de5(0x140)](_0x1e6de5(0xb4))[_0x1e6de5(0x18a)]=_0xac43de['start']+_0x1e6de5(0x14a)+_0xac43de[_0x1e6de5(0xbe)],document['getElementById'](_0x1e6de5(0xbc))[_0x1e6de5(0x18a)]=_0xac43de['note']||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x310eb4=document[_0x1e6de5(0x140)](_0x1e6de5(0x169)),_0xa6e5ed=document[_0x1e6de5(0x140)](_0x1e6de5(0x157)),_0x3f27bd=_0xa6e5ed[_0x1e6de5(0xa9)](_0x1e6de5(0x12e)),_0x3b72d0=_0xa6e5ed[_0x1e6de5(0xa9)]('.btn-reschedule'),_0x3cdf2b=document[_0x1e6de5(0x140)](_0x1e6de5(0x11d));if(_0xac43de[_0x1e6de5(0x168)]===_0x1e6de5(0x16e))_0x310eb4[_0x1e6de5(0x18a)]=_0x1e6de5(0x108),_0x310eb4[_0x1e6de5(0x172)][_0x1e6de5(0x126)]='var(--acc-green)',_0xa6e5ed[_0x1e6de5(0x172)]['display']='none';else{_0x310eb4['textContent']=_0x1e6de5(0xe3),_0x310eb4[_0x1e6de5(0x172)]['color']='var(--acc-blue)',_0xa6e5ed[_0x1e6de5(0x172)]['display']=_0x1e6de5(0x12a);const _0x4fcf03=new Date(_0xac43de['dateStr']+'T'+_0xac43de[_0x1e6de5(0x12b)]),_0x5bbf02=new Date(),_0x13e21d=(_0x4fcf03-_0x5bbf02)/(0x3e8*0x3c*0x3c),_0x5ee0d7=coachProfiles[_0xac43de['coachId']]&&coachProfiles[_0xac43de[_0x1e6de5(0x123)]][_0x1e6de5(0x15f)]?parseInt(coachProfiles[_0xac43de['coachId']]['cancel_window']):0x18;if(_0x5ee0d7===0x0||_0x13e21d>=_0x5ee0d7)_0x3f27bd[_0x1e6de5(0x172)]['display']='block',_0x3b72d0['style'][_0x1e6de5(0xe5)]='block',_0x3cdf2b[_0x1e6de5(0x172)][_0x1e6de5(0xe5)]=_0x1e6de5(0xb1);else{_0x3f27bd[_0x1e6de5(0x172)][_0x1e6de5(0xe5)]=_0x1e6de5(0xb1),_0x3b72d0['style'][_0x1e6de5(0xe5)]=_0x1e6de5(0xb1),_0x3cdf2b['style'][_0x1e6de5(0xe5)]=_0x1e6de5(0x12a);let _0x5b4423=_0x5ee0d7===0x0?_0x1e6de5(0xcc):_0x1e6de5(0x15b)+_0x5ee0d7+_0x1e6de5(0x180);_0x3cdf2b[_0x1e6de5(0x18a)]=_0x1e6de5(0x139)+_0x5b4423+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x1e6de5(0x140)]('overlay')[_0x1e6de5(0x14c)][_0x1e6de5(0x135)](_0x1e6de5(0x177)),document['getElementById']('detailsSheet')[_0x1e6de5(0x14c)][_0x1e6de5(0x135)](_0x1e6de5(0xdf));}function closeAllSheets(){const _0x18bfbb=a3_0x27584b;document[_0x18bfbb(0x140)]('overlay')[_0x18bfbb(0x14c)][_0x18bfbb(0xe1)](_0x18bfbb(0x177)),document[_0x18bfbb(0x16b)]('.sheet')[_0x18bfbb(0x138)](_0x255090=>_0x255090[_0x18bfbb(0x14c)][_0x18bfbb(0xe1)]('open'));}function openSheet(_0x12153a){const _0x4e373e=a3_0x27584b;document['getElementById'](_0x4e373e(0xff))[_0x4e373e(0x14c)][_0x4e373e(0x135)](_0x4e373e(0x177)),document['getElementById'](_0x12153a)[_0x4e373e(0x14c)]['add'](_0x4e373e(0xdf));}function getLocalDateStr(_0xc9da4b){const _0x2cfcc2=a3_0x27584b,_0x46772f=_0xc9da4b[_0x2cfcc2(0x195)](),_0x101ac6=String(_0xc9da4b[_0x2cfcc2(0x147)]()+0x1)[_0x2cfcc2(0x101)](0x2,'0'),_0x10b601=String(_0xc9da4b['getDate']())['padStart'](0x2,'0');return _0x46772f+'-'+_0x101ac6+'-'+_0x10b601;}function getStartOfWeek(_0x200ee8){const _0x41a35e=a3_0x27584b,_0x2f5b5f=new Date(_0x200ee8),_0x255377=_0x2f5b5f[_0x41a35e(0x10e)](),_0x394b2e=_0x2f5b5f[_0x41a35e(0x103)]()-_0x255377+(_0x255377===0x0?-0x6:0x1);return _0x2f5b5f['setDate'](_0x394b2e),_0x2f5b5f[_0x41a35e(0x17a)](0x0,0x0,0x0,0x0),_0x2f5b5f;}function scrollToToday(){const _0x47e1f2=getLocalDateStr(new Date());setTimeout(()=>{const _0x4873f8=a3_0x1f30,_0x20fcf5=document[_0x4873f8(0xa9)]('.day-col-header[data-date=\x22'+_0x47e1f2+'\x22]');if(_0x20fcf5){const _0xa205fa=document[_0x4873f8(0x140)](_0x4873f8(0x151)),_0x5498ae=_0x20fcf5[_0x4873f8(0xb2)]-_0xa205fa['clientWidth']/0x2+_0x20fcf5[_0x4873f8(0x13e)]/0x2;_0xa205fa[_0x4873f8(0x19b)]({'left':_0x5498ae,'behavior':'auto'}),_0xa205fa[_0x4873f8(0xab)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59e522=a3_0x27584b,_0x2db243=new Date(),_0x523f6b=document[_0x59e522(0x140)](_0x59e522(0xb5)),_0x2fd1d6=document[_0x59e522(0x140)](_0x59e522(0x16d)),_0x30781a=(_0x2db243[_0x59e522(0xde)]()*0x3c+_0x2db243['getMinutes']())/0x3c*GRID_H;_0x523f6b[_0x59e522(0x172)][_0x59e522(0x13c)]=_0x30781a+'px',_0x523f6b['style'][_0x59e522(0xe5)]=_0x59e522(0x12a),_0x2fd1d6[_0x59e522(0x172)][_0x59e522(0x13c)]=_0x30781a+'px',_0x2fd1d6[_0x59e522(0x172)][_0x59e522(0xe5)]=_0x59e522(0x12a),_0x2fd1d6[_0x59e522(0x18a)]=String(_0x2db243[_0x59e522(0xde)]())[_0x59e522(0x101)](0x2,'0')+':'+String(_0x2db243[_0x59e522(0x17d)]())[_0x59e522(0x101)](0x2,'0');}function onScroll(){const _0xd3ad24=a3_0x27584b,_0xecc730=document[_0xd3ad24(0x140)](_0xd3ad24(0x151)),_0x2208d1=document['querySelectorAll'](_0xd3ad24(0xbd));for(let _0x146047 of _0x2208d1)if(_0x146047[_0xd3ad24(0xb2)]>=_0xecc730[_0xd3ad24(0x125)]){const _0x28ff85=new Date(_0x146047[_0xd3ad24(0x109)](_0xd3ad24(0x10a)));document[_0xd3ad24(0x140)]('headerMonth')[_0xd3ad24(0x18a)]=_0x28ff85['toLocaleString']('ru',{'month':_0xd3ad24(0x115)})['toUpperCase']()+'\x20'+_0x28ff85['getFullYear']();break;}}function showToast(_0x1d5d28){const _0x2a785a=a3_0x27584b,_0x777b38=document[_0x2a785a(0x140)](_0x2a785a(0xae));_0x777b38[_0x2a785a(0x18a)]=_0x1d5d28,_0x777b38[_0x2a785a(0x14c)]['add'](_0x2a785a(0xc8)),setTimeout(()=>_0x777b38[_0x2a785a(0x14c)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x1c9b17=a3_0x27584b,_0x43fb17=document['getElementById']('matrixViewport'),_0x2fdea6=_0x43fb17[_0x1c9b17(0x125)],_0x48348c=_0x43fb17['scrollWidth'],_0x12663a=_0x43fb17[_0x1c9b17(0xdd)];if(_0x48348c-(_0x2fdea6+_0x12663a)<0x12c){const _0x316eaf=endOffset;endOffset+=0xe,renderDayRange(_0x316eaf+0x1,endOffset),reRenderBlocks();}if(_0x2fdea6<0x12c){const _0x575b8c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x575b8c-0x1),_0x43fb17['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x41de57,_0x6e6080){const _0x25a9bf=a3_0x27584b,_0x7b3717=document[_0x25a9bf(0x140)](_0x25a9bf(0x10d)),_0xfa62a5=document[_0x25a9bf(0x140)](_0x25a9bf(0x14e)),_0x2256ae=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d4ea9=new Date();_0x2d4ea9['setHours'](0x0,0x0,0x0,0x0);const _0x46882c=getLocalDateStr(new Date()),_0x53b6d=document[_0x25a9bf(0xcf)](),_0x4222ce=document[_0x25a9bf(0xcf)]();for(let _0x7a811=_0x41de57;_0x7a811<=_0x6e6080;_0x7a811++){const _0x2cd397=new Date(_0x2d4ea9);_0x2cd397[_0x25a9bf(0x190)](_0x2cd397[_0x25a9bf(0x103)]()+_0x7a811);const _0x537b0b=getLocalDateStr(_0x2cd397);let _0x4d38cc=_0x2cd397[_0x25a9bf(0x10e)]()-0x1;if(_0x4d38cc===-0x1)_0x4d38cc=0x6;const _0x4ff564=_0x537b0b===_0x46882c,_0x2403e2=document[_0x25a9bf(0xef)](_0x25a9bf(0x191));_0x2403e2[_0x25a9bf(0xca)]=_0x25a9bf(0xc6)+(_0x4ff564?_0x25a9bf(0xf2):''),_0x2403e2[_0x25a9bf(0xd6)](_0x25a9bf(0x10a),_0x537b0b),_0x2403e2['innerHTML']=_0x25a9bf(0x134)+_0x2256ae[_0x4d38cc]+'</div><div\x20class=\x22dch-num\x22>'+_0x2cd397[_0x25a9bf(0x103)]()+_0x25a9bf(0xed),_0x53b6d['appendChild'](_0x2403e2);const _0x2887ad=document[_0x25a9bf(0xef)](_0x25a9bf(0x191));_0x2887ad[_0x25a9bf(0xca)]=_0x25a9bf(0xf4)+(_0x4ff564?_0x25a9bf(0xf2):''),_0x2887ad['setAttribute'](_0x25a9bf(0x10a),_0x537b0b),_0x2887ad[_0x25a9bf(0xd6)](_0x25a9bf(0x10f),_0x4d38cc),_0x4222ce[_0x25a9bf(0x142)](_0x2887ad);}_0x7b3717[_0x25a9bf(0xf1)](_0x53b6d,_0x7b3717[_0x25a9bf(0xfc)]),_0xfa62a5[_0x25a9bf(0xf1)](_0x4222ce,_0xfa62a5['querySelector'](_0x25a9bf(0x175)));}function hexToRgba(_0x4ebe8e,_0x3fc756){const _0x1465d2=a3_0x27584b;let _0x3a065f;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1465d2(0x18b)](_0x4ebe8e))return _0x3a065f=_0x4ebe8e[_0x1465d2(0xf8)](0x1)[_0x1465d2(0x146)](''),_0x3a065f[_0x1465d2(0x12c)]==0x3&&(_0x3a065f=[_0x3a065f[0x0],_0x3a065f[0x0],_0x3a065f[0x1],_0x3a065f[0x1],_0x3a065f[0x2],_0x3a065f[0x2]]),_0x3a065f='0x'+_0x3a065f[_0x1465d2(0xd4)](''),_0x1465d2(0x130)+[_0x3a065f>>0x10&0xff,_0x3a065f>>0x8&0xff,_0x3a065f&0xff][_0x1465d2(0xd4)](',')+','+_0x3fc756+')';return _0x1465d2(0x185)+_0x3fc756+')';}let confirmResolver=null;function showCustomConfirm(_0x19a2d3,_0x5a768a,_0x4f8435=!![]){const _0x57b5f6=a3_0x27584b;document['getElementById'](_0x57b5f6(0x117))['textContent']=_0x19a2d3,document[_0x57b5f6(0x140)]('ccText')[_0x57b5f6(0x18a)]=_0x5a768a;const _0x472809=document[_0x57b5f6(0x140)]('ccYesBtn');return _0x4f8435?(_0x472809['style']['color']='#ff453a',_0x472809[_0x57b5f6(0x172)][_0x57b5f6(0x13b)]=_0x57b5f6(0xe9)):(_0x472809[_0x57b5f6(0x172)][_0x57b5f6(0x126)]=_0x57b5f6(0x16c),_0x472809['style']['fontWeight']='600'),new Promise(_0xcb68c2=>{const _0x390a58=_0x57b5f6;confirmResolver=_0xcb68c2,document[_0x390a58(0x140)](_0x390a58(0x119))['classList'][_0x390a58(0x135)](_0x390a58(0x152));});}function resolveCustomConfirm(_0xad2eef){const _0x4f1d4e=a3_0x27584b;document[_0x4f1d4e(0x140)](_0x4f1d4e(0x119))['classList'][_0x4f1d4e(0xe1)](_0x4f1d4e(0x152));if(confirmResolver)confirmResolver(_0xad2eef);}async function tryCancelCurrentSession(){const _0x387f78=a3_0x27584b;if(!currentSession)return;const _0xcce64f=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x387f78(0xf6),!![]);if(!_0xcce64f)return;const _0x5f1356=currentSession;closeAllSheets(),sessions=sessions[_0x387f78(0x184)](_0x56cb09=>_0x56cb09['id']!==_0x5f1356['id']),reRenderBlocks(),showToast(_0x387f78(0x179)),lastUserActionTime=Date[_0x387f78(0x155)]();try{const _0x42b7aa=window[_0x387f78(0x18d)]?.[_0x387f78(0x17b)],_0x5a1793=await fetch(API_URL,{'method':_0x387f78(0xea),'body':JSON[_0x387f78(0x188)]({'action':'client_cancel','init_data':_0x42b7aa?.['initData']||'','coachId':_0x5f1356['coachId'],'dateStr':_0x5f1356['dateStr'],'sessionId':_0x5f1356['id']})});if(_0x5a1793['ok'])DataManager['saveLocally']();}catch(_0x3a9e04){showToast(_0x387f78(0xb8));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2a78b8=a3_0x27584b;if(!currentSession)return;document[_0x2a78b8(0x140)](_0x2a78b8(0x154))['classList'][_0x2a78b8(0xe1)](_0x2a78b8(0xdf)),document[_0x2a78b8(0x140)](_0x2a78b8(0x167))[_0x2a78b8(0x14c)][_0x2a78b8(0x135)](_0x2a78b8(0xdf));const _0x555c40=document[_0x2a78b8(0x140)](_0x2a78b8(0x10c)),_0x384afd=document[_0x2a78b8(0x140)](_0x2a78b8(0xbb));_0x555c40['innerHTML']='',_0x384afd[_0x2a78b8(0x153)]=_0x2a78b8(0xc9);const [_0x848af9,_0x58d8d4]=currentSession[_0x2a78b8(0x12b)][_0x2a78b8(0x146)](':')[_0x2a78b8(0xd0)](Number),[_0x3cf5b,_0x5f59cb]=currentSession[_0x2a78b8(0xbe)][_0x2a78b8(0x146)](':')[_0x2a78b8(0xd0)](Number),_0x42ed67=_0x3cf5b*0x3c+_0x5f59cb-(_0x848af9*0x3c+_0x58d8d4);try{const _0x351a17=window[_0x2a78b8(0x18d)]?.[_0x2a78b8(0x17b)],_0x36ffa7=await fetch(API_URL,{'method':_0x2a78b8(0xea),'body':JSON[_0x2a78b8(0x188)]({'action':_0x2a78b8(0x15a),'coachId':currentSession[_0x2a78b8(0x123)],'duration':_0x42ed67,'init_data':_0x351a17?.[_0x2a78b8(0x186)]||'','excludeSessionId':currentSession['id']})}),_0x5c1aee=await _0x36ffa7[_0x2a78b8(0xe0)]();_0x5c1aee['ok']&&_0x5c1aee[_0x2a78b8(0xaa)]?(availableSlotsCache=_0x5c1aee[_0x2a78b8(0xaa)],renderRescheduleDates()):_0x384afd[_0x2a78b8(0x153)]=_0x2a78b8(0x149);}catch(_0x46d6fe){_0x384afd[_0x2a78b8(0x153)]=_0x2a78b8(0x136);}}function renderRescheduleDates(){const _0x4e149c=a3_0x27584b,_0x7ae1cd=document[_0x4e149c(0x140)](_0x4e149c(0x10c));_0x7ae1cd[_0x4e149c(0x153)]='';const _0x1e8c34=Object[_0x4e149c(0x11f)](availableSlotsCache)[_0x4e149c(0x176)](),_0x5a4187=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1e8c34[_0x4e149c(0x12c)]===0x0){document['getElementById'](_0x4e149c(0xbb))['innerHTML']=_0x4e149c(0x14b);return;}_0x1e8c34[_0x4e149c(0x138)]((_0x37d9a5,_0x5595c4)=>{const _0x400981=_0x4e149c,_0x2f32cc=new Date(_0x37d9a5),_0x1a7652=_0x5a4187[_0x2f32cc['getDay']()],_0x346548=_0x2f32cc[_0x400981(0x103)](),_0x20a247=document[_0x400981(0xef)](_0x400981(0x191));_0x20a247['className']='rs-date-chip';if(_0x5595c4===0x0)_0x20a247[_0x400981(0x14c)]['add'](_0x400981(0x177));_0x20a247['innerHTML']=_0x400981(0x148)+_0x1a7652+_0x400981(0x15d)+_0x346548+_0x400981(0xed),_0x20a247[_0x400981(0xac)]=()=>selectRsDate(_0x37d9a5,_0x20a247),_0x7ae1cd[_0x400981(0x142)](_0x20a247);}),selectRsDate(_0x1e8c34[0x0],_0x7ae1cd['firstChild']);}function selectRsDate(_0x525438,_0x1934bb){const _0x19c176=a3_0x27584b;selectedRsDate=_0x525438,document['querySelectorAll'](_0x19c176(0x17f))[_0x19c176(0x138)](_0x464b0e=>_0x464b0e[_0x19c176(0x14c)][_0x19c176(0xe1)](_0x19c176(0x177)));if(_0x1934bb)_0x1934bb[_0x19c176(0x14c)][_0x19c176(0x135)](_0x19c176(0x177));const _0x1fa41e=document[_0x19c176(0x140)]('rsSlotsGrid');_0x1fa41e[_0x19c176(0x153)]='';const _0x463eae=availableSlotsCache[_0x525438]||[];if(_0x463eae[_0x19c176(0x12c)]===0x0){_0x1fa41e[_0x19c176(0x153)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x463eae[_0x19c176(0x138)](_0x73c3d8=>{const _0x238961=_0x19c176,_0x3b7ea7=document['createElement'](_0x238961(0xc7));_0x3b7ea7[_0x238961(0xca)]='rs-time-btn',_0x3b7ea7[_0x238961(0x18a)]=_0x73c3d8,_0x3b7ea7[_0x238961(0xac)]=()=>confirmReschedule(_0x73c3d8),_0x1fa41e[_0x238961(0x142)](_0x3b7ea7);});}async function confirmReschedule(_0x3694b9){const _0x1b25a5=a3_0x27584b,_0x7103ab=new Date(selectedRsDate),_0x41f496=_0x7103ab[_0x1b25a5(0x121)](_0x1b25a5(0x112),{'day':_0x1b25a5(0x131),'month':'long'}),_0x197a1b=await showCustomConfirm(_0x1b25a5(0xd9),_0x1b25a5(0x18c)+_0x41f496+_0x1b25a5(0x14f)+_0x3694b9+'?',![]);if(!_0x197a1b)return;closeAllSheets(),showToast(_0x1b25a5(0xe2)),lastUserActionTime=Date[_0x1b25a5(0x155)]();const _0x197c53=currentSession[_0x1b25a5(0xf9)],_0x2e6627=currentSession['id'],[_0x34a858,_0x1a262f]=currentSession[_0x1b25a5(0x12b)][_0x1b25a5(0x146)](':')[_0x1b25a5(0xd0)](Number),[_0x3d2dc9,_0x44813a]=currentSession[_0x1b25a5(0xbe)][_0x1b25a5(0x146)](':')[_0x1b25a5(0xd0)](Number),_0x1f2127=_0x3d2dc9*0x3c+_0x44813a-(_0x34a858*0x3c+_0x1a262f),[_0x44ac4a,_0x5a1554]=_0x3694b9[_0x1b25a5(0x146)](':')['map'](Number),_0x30b064=_0x44ac4a*0x3c+_0x5a1554+_0x1f2127,_0x3eab8b=Math['floor'](_0x30b064/0x3c),_0x43383d=_0x30b064%0x3c,_0x4cb3ae=String(_0x3eab8b)[_0x1b25a5(0x101)](0x2,'0')+':'+String(_0x43383d)[_0x1b25a5(0x101)](0x2,'0'),_0x40ff13=sessions['findIndex'](_0x345399=>_0x345399['id']===_0x2e6627);_0x40ff13!==-0x1&&(sessions[_0x40ff13]['dateStr']=selectedRsDate,sessions[_0x40ff13][_0x1b25a5(0x12b)]=_0x3694b9,sessions[_0x40ff13]['end']=_0x4cb3ae,reRenderBlocks());try{const _0x27e39f=window[_0x1b25a5(0x18d)]?.[_0x1b25a5(0x17b)],_0x1244ad=await fetch(API_URL,{'method':_0x1b25a5(0xea),'body':JSON[_0x1b25a5(0x188)]({'action':_0x1b25a5(0x10b),'init_data':_0x27e39f?.[_0x1b25a5(0x186)]||'','oldSessionId':_0x2e6627,'oldDate':_0x197c53,'newDate':selectedRsDate,'newTime':_0x3694b9,'coachId':currentSession[_0x1b25a5(0x123)]})}),_0x11eb7c=await _0x1244ad['json']();!_0x11eb7c['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x1b25a5(0x178)),DataManager['saveLocally']());}catch(_0x8f183b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x27584b(0xbf)](a3_0x27584b(0x107),init);