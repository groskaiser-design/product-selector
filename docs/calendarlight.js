const a3_0x18f611=a3_0x1acd;(function(_0x25d9f4,_0x38c323){const _0x10935d=a3_0x1acd,_0x26f6e5=_0x25d9f4();while(!![]){try{const _0x3f6ae8=-parseInt(_0x10935d(0xda))/0x1*(-parseInt(_0x10935d(0xdd))/0x2)+parseInt(_0x10935d(0x113))/0x3+-parseInt(_0x10935d(0x123))/0x4*(parseInt(_0x10935d(0xc4))/0x5)+-parseInt(_0x10935d(0xd7))/0x6+-parseInt(_0x10935d(0xc3))/0x7*(-parseInt(_0x10935d(0x187))/0x8)+parseInt(_0x10935d(0xff))/0x9*(parseInt(_0x10935d(0x95))/0xa)+parseInt(_0x10935d(0xab))/0xb*(parseInt(_0x10935d(0xed))/0xc);if(_0x3f6ae8===_0x38c323)break;else _0x26f6e5['push'](_0x26f6e5['shift']());}catch(_0x41a695){_0x26f6e5['push'](_0x26f6e5['shift']());}}}(a3_0x51bb,0xb408f));const APP_VERSION=a3_0x18f611(0xf7),API_URL=a3_0x18f611(0xf8),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0x18f611(0xd4);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x56805a=a3_0x18f611,_0x1b0447=(function(){let _0x51b65e=!![];return function(_0x42b513,_0xbabcf3){const _0x272e20=_0x51b65e?function(){const _0x4b6404=a3_0x1acd;if(_0xbabcf3){const _0x5dd160=_0xbabcf3[_0x4b6404(0x186)](_0x42b513,arguments);return _0xbabcf3=null,_0x5dd160;}}:function(){};return _0x51b65e=![],_0x272e20;};}()),_0x66b33f=_0x1b0447(this,function(){const _0x332dfa=a3_0x1acd;return _0x66b33f[_0x332dfa(0xe7)]()[_0x332dfa(0x142)]('(((.+)+)+)+$')['toString']()['constructor'](_0x66b33f)[_0x332dfa(0x142)]('(((.+)+)+)+$');});_0x66b33f();try{const _0x200a63=window['Telegram']?.[_0x56805a(0xbf)];if(!_0x200a63)return;_0x200a63[_0x56805a(0x105)](),_0x200a63['expand']();try{_0x200a63['setHeaderColor'](_0x56805a(0xe4)),_0x200a63[_0x56805a(0x107)]&&_0x200a63[_0x56805a(0x107)]('#050505');}catch(_0x2b7514){console[_0x56805a(0x134)](_0x56805a(0x154),_0x2b7514);}try{_0x200a63['BackButton']&&(_0x200a63[_0x56805a(0x133)][_0x56805a(0x14b)](),_0x200a63[_0x56805a(0x133)][_0x56805a(0x93)](),_0x200a63['BackButton']['onClick'](function(){const _0xc40de2=_0x56805a;window[_0xc40de2(0xa9)]['href']=_0xc40de2(0xb6);}));}catch(_0xb03175){console[_0x56805a(0x134)]('Error\x20setting\x20back\x20button:',_0xb03175);}try{if(_0x200a63[_0x56805a(0x11d)])_0x200a63[_0x56805a(0x11d)]();}catch(_0x20b059){}}catch(_0x3be52f){console['error'](_0x56805a(0x153),_0x3be52f);}}());function isAdmin(){const _0x5d2d32=a3_0x18f611;try{const _0x510031=Number(window[_0x5d2d32(0x12f)]?.[_0x5d2d32(0xbf)]?.[_0x5d2d32(0x10e)]?.[_0x5d2d32(0xee)]?.['id']);return _0x510031===0xbaf7174;}catch(_0x3053f7){return![];}}const DataManager={'saveLocally'(){const _0x5b93dc=a3_0x18f611;try{localStorage[_0x5b93dc(0x139)](KEY_SESSIONS,JSON[_0x5b93dc(0x17a)](sessions)),localStorage[_0x5b93dc(0x139)](KEY_CLIENTS,JSON[_0x5b93dc(0x17a)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x4c74da){}},'loadLocal'(){const _0x3f5095=a3_0x18f611;try{const _0x37342f=localStorage[_0x3f5095(0x162)](KEY_SESSIONS);if(_0x37342f)sessions=JSON[_0x3f5095(0x155)](_0x37342f);const _0x55cdd9=localStorage[_0x3f5095(0x162)](KEY_CLIENTS);if(_0x55cdd9)clients=JSON[_0x3f5095(0x155)](_0x55cdd9);const _0x506ef0=localStorage[_0x3f5095(0x162)](KEY_SETTINGS);if(_0x506ef0){const _0x285f57=JSON[_0x3f5095(0x155)](_0x506ef0);if(_0x285f57[_0x3f5095(0xd1)])availabilityPattern=_0x285f57[_0x3f5095(0xd1)];if(_0x285f57[_0x3f5095(0x163)])specialRanges=_0x285f57['ranges'];if(_0x285f57[_0x3f5095(0x14d)])dateExceptions=_0x285f57['exceptions'];}}catch(_0x1b6110){}},async 'syncLoad'(){const _0x1fe622=a3_0x18f611,_0x35798d=new Date(),_0x282723=_0x35798d[_0x1fe622(0x15e)]()+'-'+String(_0x35798d[_0x1fe622(0xea)]()+0x1)[_0x1fe622(0x178)](0x2,'0'),_0x21021c=new Date(_0x35798d);_0x21021c[_0x1fe622(0x165)](_0x35798d['getMonth']()+0x1);const _0x22a98b=_0x21021c[_0x1fe622(0x15e)]()+'-'+String(_0x21021c['getMonth']()+0x1)['padStart'](0x2,'0'),_0x29811a=Date[_0x1fe622(0x9a)]();try{const _0x9ed76f=window['Telegram']?.['WebApp'],_0x575478=_0x9ed76f?.[_0x1fe622(0x13d)]||'',[_0x3d74b5,_0x5752d0]=await Promise[_0x1fe622(0x144)]([fetch(API_URL,{'method':_0x1fe622(0x137),'body':JSON['stringify']({'action':'client_load','init_data':_0x575478,'month_str':_0x282723})})['then'](_0x25afff=>_0x25afff['json']()),fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x1fe622(0xb5),'init_data':_0x575478,'month_str':_0x22a98b})})[_0x1fe622(0xa7)](_0x347d82=>_0x347d82['json']())]);if(lastUserActionTime>_0x29811a){console[_0x1fe622(0x134)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x3d74b5['ok'])this['applyData'](_0x3d74b5[_0x1fe622(0x12c)],_0x282723);if(_0x5752d0['ok'])this[_0x1fe622(0x114)](_0x5752d0['data'],_0x22a98b);this[_0x1fe622(0x189)]();}catch(_0x15df18){}},'applyData'(_0x557b25,_0x78b77){const _0x541525=a3_0x18f611;if(!_0x557b25)return;if(_0x557b25[_0x541525(0x16b)]){if(_0x557b25[_0x541525(0x16b)][_0x541525(0xd1)])availabilityPattern=_0x557b25[_0x541525(0x16b)][_0x541525(0xd1)];if(_0x557b25[_0x541525(0x16b)]['ranges'])specialRanges=_0x557b25[_0x541525(0x16b)][_0x541525(0x163)];if(_0x557b25[_0x541525(0x16b)]['exceptions'])dateExceptions=_0x557b25[_0x541525(0x16b)][_0x541525(0x14d)];}if(_0x557b25[_0x541525(0x121)]&&Array[_0x541525(0x16e)](_0x557b25[_0x541525(0x121)]))clients=_0x557b25['clients'];_0x557b25[_0x541525(0xad)]&&(coachProfiles={...coachProfiles,..._0x557b25[_0x541525(0xad)]}),_0x557b25['calendar']&&(sessions=sessions[_0x541525(0xd9)](_0x516200=>!_0x516200['dateStr'][_0x541525(0x17e)](_0x78b77)),Object[_0x541525(0xbc)](_0x557b25[_0x541525(0x13a)])[_0x541525(0x128)](_0x307a10=>{const _0x1d2d50=_0x541525,_0x5692bf=_0x557b25[_0x1d2d50(0x13a)][_0x307a10];_0x5692bf['forEach'](_0x510a58=>{const _0x6bdb8a=_0x1d2d50;sessions[_0x6bdb8a(0xe9)]({'id':_0x510a58['i'],'clientId':_0x510a58['c'],'coachId':_0x510a58[_0x6bdb8a(0xdb)],'dateStr':_0x78b77+'-'+_0x307a10['padStart'](0x2,'0'),'start':_0x510a58['s'],'end':_0x510a58['e'],'note':_0x510a58['n']||'','status':_0x510a58['st']||'planned','seriesId':_0x510a58[_0x6bdb8a(0x17c)]});});})),reRenderBlocks();}};function init(){const _0x4ba759=a3_0x18f611;DataManager[_0x4ba759(0xba)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x4ba759(0xe3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x2d632c=a3_0x18f611,_0x3353af=document[_0x2d632c(0x16f)](_0x2d632c(0xca)),_0x5c44fd=document[_0x2d632c(0x16f)](_0x2d632c(0xd6));_0x3353af[_0x2d632c(0x120)]='',_0x3353af[_0x2d632c(0xd5)](_0x5c44fd);for(let _0x1001e0=0x0;_0x1001e0<0x18;_0x1001e0++){const _0x49f46f=document['createElement']('div');_0x49f46f[_0x2d632c(0x109)]='time-label';if(_0x1001e0>0x0)_0x49f46f[_0x2d632c(0x120)]=_0x2d632c(0x11e)+String(_0x1001e0)[_0x2d632c(0x178)](0x2,'0')+_0x2d632c(0x108);_0x3353af[_0x2d632c(0xd5)](_0x49f46f);}}function renderDayRange(_0x5e5036,_0xdadced){const _0x283b51=a3_0x18f611,_0x4a0d43=document['getElementById'](_0x283b51(0x91)),_0x343f45=document['getElementById'](_0x283b51(0xa2)),_0x5d03fb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2489bd=new Date();_0x2489bd[_0x283b51(0xf1)](0x0,0x0,0x0,0x0);const _0x11bbea=getLocalDateStr(new Date());for(let _0x4fca86=_0x5e5036;_0x4fca86<=_0xdadced;_0x4fca86++){const _0x4d97c9=new Date(_0x2489bd);_0x4d97c9[_0x283b51(0x16d)](_0x4d97c9[_0x283b51(0xa1)]()+_0x4fca86);const _0x48e80b=getLocalDateStr(_0x4d97c9);let _0x113c3d=_0x4d97c9[_0x283b51(0x10d)]()-0x1;if(_0x113c3d===-0x1)_0x113c3d=0x6;const _0x436fe5=_0x48e80b===_0x11bbea,_0x5ee718=document[_0x283b51(0x149)](_0x283b51(0xfa));_0x5ee718[_0x283b51(0x109)]=_0x283b51(0x10a)+(_0x436fe5?'today':''),_0x5ee718[_0x283b51(0x164)](_0x283b51(0xb1),_0x48e80b),_0x5ee718[_0x283b51(0x120)]='<div\x20class=\x22dch-day\x22>'+_0x5d03fb[_0x113c3d]+_0x283b51(0x11f)+_0x4d97c9['getDate']()+'</div>',_0x4a0d43['appendChild'](_0x5ee718);const _0x230a7f=document[_0x283b51(0x149)](_0x283b51(0xfa));_0x230a7f[_0x283b51(0x109)]=_0x283b51(0xfe)+(_0x436fe5?_0x283b51(0x15c):''),_0x230a7f[_0x283b51(0x164)]('data-date',_0x48e80b),_0x230a7f[_0x283b51(0x164)](_0x283b51(0xc5),_0x113c3d),_0x343f45[_0x283b51(0xd5)](_0x230a7f);}}function reRenderBlocks(){const _0x5dfd72=a3_0x18f611;document['querySelectorAll'](_0x5dfd72(0x116))[_0x5dfd72(0x128)](_0x2543cc=>{const _0x2f2464=_0x5dfd72;_0x2543cc[_0x2f2464(0x104)](_0x2f2464(0x13e))[_0x2f2464(0x128)](_0x39b70e=>_0x39b70e[_0x2f2464(0xa4)]());const _0x38297d=_0x2543cc[_0x2f2464(0xb7)](_0x2f2464(0xb1)),_0x4708c2=parseInt(_0x2543cc[_0x2f2464(0xb7)](_0x2f2464(0xc5))),_0xd6f3cb=Math[_0x2f2464(0x94)](_0x2543cc[_0x2f2464(0xc0)]);(availabilityPattern[_0x4708c2]||[])[_0x2f2464(0x128)](_0x170744=>{const _0x255654=_0x2f2464,_0x1d407d=document[_0x255654(0x149)]('div');_0x1d407d['className']=_0x255654(0x17f),_0x1d407d[_0x255654(0x17b)][_0x255654(0x156)]=_0x170744*GRID_H+'px',_0x1d407d[_0x255654(0x17b)][_0x255654(0xec)]='-'+_0xd6f3cb+_0x255654(0x180)+_0x170744*GRID_H+'px',_0x2543cc[_0x255654(0xd5)](_0x1d407d);});if(specialRanges[_0x2f2464(0xf3)]>0x0){const _0x114191=new Date(_0x38297d+'T00:00:00')[_0x2f2464(0x103)](),_0x1d0dab=new Date(_0x38297d+'T23:59:59')[_0x2f2464(0x103)]();specialRanges[_0x2f2464(0x128)](_0x377039=>{const _0x501af4=_0x2f2464,_0x3582c2=new Date(_0x377039[_0x501af4(0x17d)])[_0x501af4(0x103)](),_0x15a0f2=new Date(_0x377039[_0x501af4(0x112)])[_0x501af4(0x103)](),_0x2ba308=Math[_0x501af4(0xf9)](_0x114191,_0x3582c2),_0x31900c=Math[_0x501af4(0xef)](_0x1d0dab,_0x15a0f2);if(_0x2ba308<_0x31900c){const _0x4f08ae=(_0x2ba308-_0x114191)/0x36ee80*GRID_H,_0x5a987e=(_0x31900c-_0x2ba308)/0x36ee80*GRID_H,_0x38779b=document[_0x501af4(0x149)](_0x501af4(0xfa));_0x5a987e>=23.5*GRID_H?(_0x38779b['className']=_0x501af4(0x185),_0x38779b[_0x501af4(0x17b)]['backgroundPosition']='-'+_0xd6f3cb+'px\x200px'):(_0x38779b[_0x501af4(0x109)]='blocked-range-part\x20stripe-bg',_0x38779b[_0x501af4(0x17b)][_0x501af4(0x156)]=_0x4f08ae+'px',_0x38779b['style'][_0x501af4(0x127)]=_0x5a987e+'px',_0x38779b['style']['backgroundPosition']='-'+_0xd6f3cb+_0x501af4(0x180)+_0x4f08ae+'px'),_0x2543cc[_0x501af4(0xd5)](_0x38779b);}});}renderEventsForColumn(_0x2543cc,_0x38297d);});}function renderEventsForColumn(_0x275ac6,_0x210bb8){const _0x237084=a3_0x18f611,_0x35a487=sessions[_0x237084(0xd9)](_0x54afdf=>_0x54afdf[_0x237084(0x16a)]===_0x210bb8),_0x2fa12d=_0x35a487[_0x237084(0xb8)](_0x3f03e4=>{const _0x3c68c2=_0x237084,[_0x542f77,_0x7eb53b]=_0x3f03e4['start'][_0x3c68c2(0x10c)](':')['map'](Number),[_0x6e8b28,_0x3a512e]=_0x3f03e4[_0x3c68c2(0x112)]['split'](':')[_0x3c68c2(0xb8)](Number);return{'data':_0x3f03e4,'start':_0x542f77*0x3c+_0x7eb53b,'end':_0x6e8b28*0x3c+_0x3a512e,'colIndex':0x0};});_0x2fa12d['sort']((_0x1df263,_0x1d44c0)=>_0x1df263[_0x237084(0x17d)]-_0x1d44c0[_0x237084(0x17d)]||_0x1d44c0[_0x237084(0x112)]-_0x1d44c0['start']-(_0x1df263[_0x237084(0x112)]-_0x1df263[_0x237084(0x17d)]));const _0x3d56fe=[];_0x2fa12d[_0x237084(0x128)](_0xb2081a=>{const _0x504b0c=_0x237084;let _0x566418=![];for(let _0x2da498=0x0;_0x2da498<_0x3d56fe[_0x504b0c(0xf3)];_0x2da498++){const _0x3fdde0=_0x3d56fe[_0x2da498];if(_0xb2081a['start']>=_0x3fdde0[_0x3fdde0['length']-0x1][_0x504b0c(0x112)]){_0x3fdde0[_0x504b0c(0xe9)](_0xb2081a),_0xb2081a['colIndex']=_0x2da498,_0x566418=!![];break;}}!_0x566418&&(_0x3d56fe[_0x504b0c(0xe9)]([_0xb2081a]),_0xb2081a['colIndex']=_0x3d56fe[_0x504b0c(0xf3)]-0x1);}),_0x2fa12d['forEach'](_0x5940b4=>{const _0x240a89=_0x237084;let _0x4d27da=0x0;_0x2fa12d['forEach'](_0x3cf420=>{const _0x3e7672=a3_0x1acd;if(Math[_0x3e7672(0xf9)](_0x5940b4[_0x3e7672(0x17d)],_0x3cf420['start'])<Math['min'](_0x5940b4[_0x3e7672(0x112)],_0x3cf420[_0x3e7672(0x112)])&&_0x3cf420[_0x3e7672(0x10b)]>_0x4d27da)_0x4d27da=_0x3cf420[_0x3e7672(0x10b)];});const _0x292665=_0x4d27da+0x1,_0x2ae2a0=0x64/_0x292665,_0xc515fc=_0x5940b4[_0x240a89(0x10b)]*_0x2ae2a0,_0x1ebf12=document[_0x240a89(0x149)](_0x240a89(0xfa)),_0x32b43a=_0x5940b4[_0x240a89(0x12c)];let _0x52550e='#0a84ff';if(clients&&clients['length']>0x0){const _0x116834=clients[_0x240a89(0x168)](_0x28ded4=>String(_0x28ded4['id'])===String(_0x32b43a['clientId']));if(_0x116834&&_0x116834['color'])_0x52550e=_0x116834[_0x240a89(0xe8)];}const _0x3ad0a6=_0x32b43a[_0x240a89(0x131)]===_0x240a89(0x173),_0x28c3da=_0x3ad0a6?0x1:0.45;_0x1ebf12[_0x240a89(0x109)]='event-card'+(_0x3ad0a6?_0x240a89(0x102):''),_0x1ebf12[_0x240a89(0x17b)][_0x240a89(0x184)]=hexToRgba(_0x52550e,_0x28c3da),_0x1ebf12[_0x240a89(0x17b)][_0x240a89(0xb9)]=_0x52550e;const _0x42f6e0=_0x5940b4['start']/0x3c*GRID_H,_0x4606e2=(_0x5940b4[_0x240a89(0x112)]-_0x5940b4[_0x240a89(0x17d)])/0x3c*GRID_H;_0x1ebf12[_0x240a89(0x17b)][_0x240a89(0x156)]=_0x42f6e0+'px',_0x1ebf12['style'][_0x240a89(0x127)]=Math[_0x240a89(0xf9)](_0x4606e2,0x14)+'px',_0x1ebf12[_0x240a89(0x17b)]['width']=_0x240a89(0x101)+_0x2ae2a0+_0x240a89(0xbd),_0x1ebf12[_0x240a89(0x17b)]['left']=_0x240a89(0x101)+_0xc515fc+_0x240a89(0x12d),_0x1ebf12[_0x240a89(0x17b)][_0x240a89(0xd8)]=0xa+_0x5940b4[_0x240a89(0x10b)];if(_0x2ae2a0<0x55)_0x1ebf12[_0x240a89(0x111)][_0x240a89(0x14e)]('mini');let _0x1d4bab='';if(_0x32b43a[_0x240a89(0xaf)])_0x1d4bab+=_0x240a89(0xeb);if(_0x3ad0a6)_0x1d4bab+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1ebf12[_0x240a89(0x120)]=_0x240a89(0x172)+_0x32b43a[_0x240a89(0x17d)]+_0x240a89(0x130)+_0x32b43a[_0x240a89(0x112)]+_0x240a89(0xfd)+_0x1d4bab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ebf12[_0x240a89(0xe2)]=_0x4a6182=>{const _0x562e1b=_0x240a89;_0x4a6182[_0x562e1b(0x117)](),openDetails(_0x32b43a);},_0x275ac6[_0x240a89(0xd5)](_0x1ebf12);});}function openAnalytics(){const _0x51ec08=a3_0x18f611,_0x2947c9=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x51ec08(0xf5),_0x2947c9),openSheet(_0x51ec08(0x14a));}function setAnalyticsPeriod(_0x503fe2,_0x2399ed){const _0x1c9207=a3_0x18f611;currentAnPeriod=_0x503fe2,document[_0x1c9207(0x104)](_0x1c9207(0xbb))[_0x1c9207(0x128)](_0x496d23=>_0x496d23[_0x1c9207(0x111)][_0x1c9207(0xa4)](_0x1c9207(0x9f)));if(_0x2399ed)_0x2399ed[_0x1c9207(0x111)][_0x1c9207(0x14e)](_0x1c9207(0x9f));const _0x25a730=document[_0x1c9207(0x16f)](_0x1c9207(0xa0));_0x25a730[_0x1c9207(0x17b)][_0x1c9207(0xe1)]=_0x503fe2===_0x1c9207(0xc1)?'flex':_0x1c9207(0xe0);const _0x225408=new Date();let _0x2c70e4=new Date(),_0x3b5af5=new Date();if(_0x503fe2===_0x1c9207(0xf5))_0x2c70e4=getStartOfWeek(_0x225408),_0x3b5af5=new Date(_0x2c70e4),_0x3b5af5[_0x1c9207(0x16d)](_0x3b5af5[_0x1c9207(0xa1)]()+0x6);else{if(_0x503fe2==='month')_0x2c70e4=new Date(_0x225408[_0x1c9207(0x15e)](),_0x225408[_0x1c9207(0xea)](),0x1),_0x3b5af5=new Date(_0x225408[_0x1c9207(0x15e)](),_0x225408[_0x1c9207(0xea)]()+0x1,0x0);else{!document[_0x1c9207(0x16f)](_0x1c9207(0x12a))[_0x1c9207(0x167)]&&(document[_0x1c9207(0x16f)](_0x1c9207(0x12a))[_0x1c9207(0x167)]=getLocalDateStr(_0x225408),document['getElementById']('anEnd')[_0x1c9207(0x167)]=getLocalDateStr(_0x225408));refreshAnalytics();return;}}document[_0x1c9207(0x16f)](_0x1c9207(0x12a))[_0x1c9207(0x167)]=getLocalDateStr(_0x2c70e4),document[_0x1c9207(0x16f)](_0x1c9207(0xcb))[_0x1c9207(0x167)]=getLocalDateStr(_0x3b5af5),refreshAnalytics();}function refreshAnalytics(){const _0x5c5710=a3_0x18f611,_0x235555=document[_0x5c5710(0x16f)]('anStart')[_0x5c5710(0x167)],_0x56d32f=document[_0x5c5710(0x16f)]('anEnd')[_0x5c5710(0x167)];if(!_0x235555||!_0x56d32f)return;const _0x2028ca=sessions['filter'](_0x276119=>_0x276119[_0x5c5710(0x16a)]>=_0x235555&&_0x276119['dateStr']<=_0x56d32f&&_0x276119[_0x5c5710(0x131)]!==_0x5c5710(0x13c)),_0x30e1d6=_0x2028ca[_0x5c5710(0xf3)],_0x555241=_0x2028ca[_0x5c5710(0xd9)](_0x3793bc=>_0x3793bc[_0x5c5710(0x131)]===_0x5c5710(0x173))['length'],_0x2b0bb2=_0x30e1d6>0x0?Math[_0x5c5710(0x94)](_0x555241/_0x30e1d6*0x64):0x0;document['getElementById']('anPercent')[_0x5c5710(0x15b)]=_0x2b0bb2+'%',document[_0x5c5710(0x16f)](_0x5c5710(0xd2))[_0x5c5710(0x15b)]=_0x555241+_0x5c5710(0xe5)+_0x30e1d6+_0x5c5710(0x10f);const _0x32e7f0=document[_0x5c5710(0x16f)](_0x5c5710(0x171)),_0x54ca03=0x2*Math['PI']*0x23,_0x1d9e2c=_0x54ca03-_0x2b0bb2/0x64*_0x54ca03;_0x32e7f0[_0x5c5710(0x17b)][_0x5c5710(0x177)]=_0x1d9e2c;const _0x5d210b={};_0x2028ca[_0x5c5710(0x128)](_0x102e59=>{const _0x3e6aa6=_0x5c5710,_0x2f53a2=_0x102e59[_0x3e6aa6(0x161)]||'Unknown';if(!_0x5d210b[_0x2f53a2]){const _0xc3dd='#'+_0x2f53a2[_0x3e6aa6(0xe7)]()[_0x3e6aa6(0xce)](0x0,0x6);_0x5d210b[_0x2f53a2]={'total':0x0,'done':0x0,'color':_0xc3dd};}_0x5d210b[_0x2f53a2][_0x3e6aa6(0xf6)]++;if(_0x102e59[_0x3e6aa6(0x131)]==='completed')_0x5d210b[_0x2f53a2][_0x3e6aa6(0xa8)]++;});const _0x4fb3ba=document[_0x5c5710(0x16f)](_0x5c5710(0x13b));_0x4fb3ba[_0x5c5710(0x120)]='';const _0x2a68b0=Object[_0x5c5710(0x126)](_0x5d210b)[_0x5c5710(0x159)]((_0x38547f,_0x70ef01)=>_0x70ef01[0x1][_0x5c5710(0xf6)]-_0x38547f[0x1][_0x5c5710(0xf6)]);if(_0x2a68b0[_0x5c5710(0xf3)]===0x0){_0x4fb3ba[_0x5c5710(0x120)]=_0x5c5710(0x15a);return;}_0x2a68b0[_0x5c5710(0x128)](([_0x2b20d0,_0x33401c])=>{const _0x85fdaa=_0x5c5710,_0x457d8e=Math['round'](_0x33401c[_0x85fdaa(0xa8)]/_0x33401c[_0x85fdaa(0xf6)]*0x64),_0x26669a=document['createElement'](_0x85fdaa(0xfa));_0x26669a[_0x85fdaa(0x109)]=_0x85fdaa(0xa3),_0x26669a['style'][_0x85fdaa(0xb9)]=_0x33401c[_0x85fdaa(0xe8)],_0x26669a[_0x85fdaa(0x120)]=_0x85fdaa(0x15d)+_0x2b20d0[_0x85fdaa(0xce)](0x0,0x5)+_0x85fdaa(0x151)+_0x33401c[_0x85fdaa(0xa8)]+_0x85fdaa(0x14c)+_0x33401c[_0x85fdaa(0xf6)]+_0x85fdaa(0x9d)+_0x457d8e+_0x85fdaa(0x188),_0x4fb3ba[_0x85fdaa(0xd5)](_0x26669a);});}function openDetails(_0x21b0d2){const _0x29dd5e=a3_0x18f611;currentSession=_0x21b0d2;const _0x29a09b=new Date(_0x21b0d2[_0x29dd5e(0x16a)]),_0x1d8f15=_0x29a09b[_0x29dd5e(0xb2)](_0x29dd5e(0x11b),{'weekday':_0x29dd5e(0x176),'day':_0x29dd5e(0x106),'month':'long'});document[_0x29dd5e(0x16f)](_0x29dd5e(0x152))[_0x29dd5e(0x15b)]=_0x1d8f15[_0x29dd5e(0x13f)](0x0)[_0x29dd5e(0xaa)]()+_0x1d8f15[_0x29dd5e(0xac)](0x1),document[_0x29dd5e(0x16f)](_0x29dd5e(0x141))['textContent']=_0x21b0d2['start']+_0x29dd5e(0x130)+_0x21b0d2['end'],document[_0x29dd5e(0x16f)](_0x29dd5e(0x9c))[_0x29dd5e(0x15b)]=_0x21b0d2[_0x29dd5e(0x14f)]||_0x29dd5e(0x98);const _0x22da5e=document[_0x29dd5e(0x16f)]('detStatus'),_0x4eaa01=document[_0x29dd5e(0x16f)](_0x29dd5e(0x170)),_0x4f926e=_0x4eaa01['querySelector'](_0x29dd5e(0x12b)),_0x2f6ce8=_0x4eaa01[_0x29dd5e(0xfb)](_0x29dd5e(0xe6)),_0x85e42e=document[_0x29dd5e(0x16f)](_0x29dd5e(0x9b));if(_0x21b0d2[_0x29dd5e(0x131)]==='completed')_0x22da5e['textContent']=_0x29dd5e(0x182),_0x22da5e[_0x29dd5e(0x17b)][_0x29dd5e(0xe8)]='var(--acc-green)',_0x4eaa01[_0x29dd5e(0x17b)][_0x29dd5e(0xe1)]='none';else{_0x22da5e['textContent']=_0x29dd5e(0xa5),_0x22da5e[_0x29dd5e(0x17b)][_0x29dd5e(0xe8)]=_0x29dd5e(0xd0),_0x4eaa01[_0x29dd5e(0x17b)][_0x29dd5e(0xe1)]='block';const _0x3dd205=new Date(_0x21b0d2[_0x29dd5e(0x16a)]+'T'+_0x21b0d2[_0x29dd5e(0x17d)]),_0x620f49=new Date(),_0x6f277d=(_0x3dd205-_0x620f49)/(0x3e8*0x3c*0x3c),_0x45e345=coachProfiles[_0x21b0d2[_0x29dd5e(0x161)]]&&coachProfiles[_0x21b0d2[_0x29dd5e(0x161)]][_0x29dd5e(0xc2)]?parseInt(coachProfiles[_0x21b0d2[_0x29dd5e(0x161)]][_0x29dd5e(0xc2)]):0x18;if(_0x45e345===0x0||_0x6f277d>=_0x45e345)_0x4f926e[_0x29dd5e(0x17b)][_0x29dd5e(0xe1)]=_0x29dd5e(0xae),_0x2f6ce8[_0x29dd5e(0x17b)]['display']=_0x29dd5e(0xae),_0x85e42e['style']['display']=_0x29dd5e(0xe0);else{_0x4f926e[_0x29dd5e(0x17b)][_0x29dd5e(0xe1)]='none',_0x2f6ce8[_0x29dd5e(0x17b)]['display']='none',_0x85e42e[_0x29dd5e(0x17b)][_0x29dd5e(0xe1)]=_0x29dd5e(0xae);let _0x34f6dd=_0x45e345===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x29dd5e(0xdf)+_0x45e345+_0x29dd5e(0xcd);_0x85e42e['textContent']=_0x29dd5e(0xc8)+_0x34f6dd+_0x29dd5e(0xf2);}}document['getElementById'](_0x29dd5e(0x138))[_0x29dd5e(0x111)][_0x29dd5e(0x14e)](_0x29dd5e(0x9f)),document[_0x29dd5e(0x16f)](_0x29dd5e(0x9e))['classList'][_0x29dd5e(0x14e)](_0x29dd5e(0x124));}function a3_0x1acd(_0x49e3e1,_0x24def1){_0x49e3e1=_0x49e3e1-0x90;const _0x2c1475=a3_0x51bb();let _0x3cd851=_0x2c1475[_0x49e3e1];return _0x3cd851;}function closeAllSheets(){const _0x8a87fa=a3_0x18f611;document[_0x8a87fa(0x16f)]('overlay')['classList'][_0x8a87fa(0xa4)]('active'),document[_0x8a87fa(0x104)]('.sheet')[_0x8a87fa(0x128)](_0x34ef24=>_0x34ef24[_0x8a87fa(0x111)][_0x8a87fa(0xa4)]('open'));}function openSheet(_0x314bca){const _0x1d2c6c=a3_0x18f611;document[_0x1d2c6c(0x16f)]('overlay')[_0x1d2c6c(0x111)]['add'](_0x1d2c6c(0x9f)),document[_0x1d2c6c(0x16f)](_0x314bca)[_0x1d2c6c(0x111)][_0x1d2c6c(0x14e)](_0x1d2c6c(0x124));}function getLocalDateStr(_0x3b05e2){const _0x1cc4c5=a3_0x18f611,_0x2bd357=_0x3b05e2[_0x1cc4c5(0x15e)](),_0x163fc6=String(_0x3b05e2[_0x1cc4c5(0xea)]()+0x1)[_0x1cc4c5(0x178)](0x2,'0'),_0x4da5c2=String(_0x3b05e2[_0x1cc4c5(0xa1)]())['padStart'](0x2,'0');return _0x2bd357+'-'+_0x163fc6+'-'+_0x4da5c2;}function getStartOfWeek(_0xa46f65){const _0x5f28a9=a3_0x18f611,_0x14ec04=new Date(_0xa46f65),_0x4e396c=_0x14ec04[_0x5f28a9(0x10d)](),_0xae5d4b=_0x14ec04[_0x5f28a9(0xa1)]()-_0x4e396c+(_0x4e396c===0x0?-0x6:0x1);return _0x14ec04[_0x5f28a9(0x16d)](_0xae5d4b),_0x14ec04['setHours'](0x0,0x0,0x0,0x0),_0x14ec04;}function scrollToToday(){const _0x165e4a=getLocalDateStr(new Date());setTimeout(()=>{const _0x9d1be4=a3_0x1acd,_0x5efa3f=document['querySelector']('.day-col-header[data-date=\x22'+_0x165e4a+'\x22]');if(_0x5efa3f){const _0x53926d=document[_0x9d1be4(0x16f)](_0x9d1be4(0xc9)),_0x2f9c0c=_0x5efa3f[_0x9d1be4(0xc0)]-_0x53926d['clientWidth']/0x2+_0x5efa3f['offsetWidth']/0x2;_0x53926d[_0x9d1be4(0xbe)]({'left':_0x2f9c0c,'behavior':_0x9d1be4(0x135)}),_0x53926d[_0x9d1be4(0x179)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xc1d048=a3_0x18f611,_0x22fa89=new Date(),_0x42e5c1=document[_0xc1d048(0x16f)](_0xc1d048(0x15f)),_0x5277db=document[_0xc1d048(0x16f)](_0xc1d048(0xd6)),_0x42f166=(_0x22fa89['getHours']()*0x3c+_0x22fa89[_0xc1d048(0x150)]())/0x3c*GRID_H;_0x42e5c1[_0xc1d048(0x17b)][_0xc1d048(0x156)]=_0x42f166+'px',_0x42e5c1[_0xc1d048(0x17b)][_0xc1d048(0xe1)]=_0xc1d048(0xae),_0x5277db[_0xc1d048(0x17b)][_0xc1d048(0x156)]=_0x42f166+'px',_0x5277db[_0xc1d048(0x17b)][_0xc1d048(0xe1)]='block',_0x5277db[_0xc1d048(0x15b)]=String(_0x22fa89[_0xc1d048(0xd3)]())[_0xc1d048(0x178)](0x2,'0')+':'+String(_0x22fa89[_0xc1d048(0x150)]())[_0xc1d048(0x178)](0x2,'0');}function onScroll(){const _0x5de02c=a3_0x18f611,_0x55f0ad=document[_0x5de02c(0x16f)](_0x5de02c(0xc9)),_0x43990f=document[_0x5de02c(0x104)](_0x5de02c(0x16c));for(let _0x33a320 of _0x43990f)if(_0x33a320['offsetLeft']>=_0x55f0ad[_0x5de02c(0xf0)]){const _0x44f2d3=new Date(_0x33a320[_0x5de02c(0xb7)](_0x5de02c(0xb1)));document[_0x5de02c(0x16f)](_0x5de02c(0x97))['textContent']=_0x44f2d3[_0x5de02c(0x145)]('ru',{'month':_0x5de02c(0x176)})['toUpperCase']()+'\x20'+_0x44f2d3[_0x5de02c(0x15e)]();break;}}function showToast(_0x2a217b){const _0x279c0b=a3_0x18f611,_0x9fd1a0=document[_0x279c0b(0x16f)](_0x279c0b(0xde));_0x9fd1a0['textContent']=_0x2a217b,_0x9fd1a0[_0x279c0b(0x111)][_0x279c0b(0x14e)]('show'),setTimeout(()=>_0x9fd1a0[_0x279c0b(0x111)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x13535e=a3_0x18f611,_0x4352f2=document[_0x13535e(0x16f)]('matrixViewport'),_0x1938ff=_0x4352f2[_0x13535e(0xf0)],_0x3376dd=_0x4352f2['scrollWidth'],_0x12f37d=_0x4352f2[_0x13535e(0x92)];if(_0x3376dd-(_0x1938ff+_0x12f37d)<0x12c){const _0x597edd=endOffset;endOffset+=0xe,renderDayRange(_0x597edd+0x1,endOffset),reRenderBlocks();}if(_0x1938ff<0x12c){const _0x79647a=startOffset;startOffset-=0xe,prependDays(startOffset,_0x79647a-0x1),_0x4352f2[_0x13535e(0xf0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4b3266,_0x367a6a){const _0x40dcc4=a3_0x18f611,_0x4054ed=document['getElementById'](_0x40dcc4(0x91)),_0x72f1a1=document[_0x40dcc4(0x16f)]('gridColumns'),_0x1be318=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x560806=new Date();_0x560806[_0x40dcc4(0xf1)](0x0,0x0,0x0,0x0);const _0x3a823e=getLocalDateStr(new Date()),_0x3f01d9=document[_0x40dcc4(0x183)](),_0x5e21a8=document[_0x40dcc4(0x183)]();for(let _0x38b099=_0x4b3266;_0x38b099<=_0x367a6a;_0x38b099++){const _0xa160b0=new Date(_0x560806);_0xa160b0[_0x40dcc4(0x16d)](_0xa160b0['getDate']()+_0x38b099);const _0x936564=getLocalDateStr(_0xa160b0);let _0x869b8f=_0xa160b0['getDay']()-0x1;if(_0x869b8f===-0x1)_0x869b8f=0x6;const _0x4c6f27=_0x936564===_0x3a823e,_0x5a31f1=document[_0x40dcc4(0x149)](_0x40dcc4(0xfa));_0x5a31f1[_0x40dcc4(0x109)]=_0x40dcc4(0x10a)+(_0x4c6f27?'today':''),_0x5a31f1[_0x40dcc4(0x164)]('data-date',_0x936564),_0x5a31f1[_0x40dcc4(0x120)]=_0x40dcc4(0x147)+_0x1be318[_0x869b8f]+_0x40dcc4(0x11f)+_0xa160b0['getDate']()+_0x40dcc4(0x11a),_0x3f01d9[_0x40dcc4(0xd5)](_0x5a31f1);const _0x2c045a=document[_0x40dcc4(0x149)](_0x40dcc4(0xfa));_0x2c045a['className']=_0x40dcc4(0xfe)+(_0x4c6f27?_0x40dcc4(0x15c):''),_0x2c045a[_0x40dcc4(0x164)](_0x40dcc4(0xb1),_0x936564),_0x2c045a['setAttribute']('data-day-idx',_0x869b8f),_0x5e21a8[_0x40dcc4(0xd5)](_0x2c045a);}_0x4054ed[_0x40dcc4(0x18a)](_0x3f01d9,_0x4054ed['firstChild']),_0x72f1a1[_0x40dcc4(0x18a)](_0x5e21a8,_0x72f1a1[_0x40dcc4(0xfb)](_0x40dcc4(0x116)));}function hexToRgba(_0x40f502,_0xdab2d4){const _0x7a4378=a3_0x18f611;let _0x1dd259;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x7a4378(0xcc)](_0x40f502))return _0x1dd259=_0x40f502[_0x7a4378(0xb3)](0x1)['split'](''),_0x1dd259[_0x7a4378(0xf3)]==0x3&&(_0x1dd259=[_0x1dd259[0x0],_0x1dd259[0x0],_0x1dd259[0x1],_0x1dd259[0x1],_0x1dd259[0x2],_0x1dd259[0x2]]),_0x1dd259='0x'+_0x1dd259[_0x7a4378(0x136)](''),'rgba('+[_0x1dd259>>0x10&0xff,_0x1dd259>>0x8&0xff,_0x1dd259&0xff][_0x7a4378(0x136)](',')+','+_0xdab2d4+')';return _0x7a4378(0x11c)+_0xdab2d4+')';}let confirmResolver=null;function showCustomConfirm(_0x2d84b3,_0x143c96,_0x152c73=!![]){const _0x3267f1=a3_0x18f611;document[_0x3267f1(0x16f)](_0x3267f1(0x160))['textContent']=_0x2d84b3,document[_0x3267f1(0x16f)]('ccText')['textContent']=_0x143c96;const _0x5b74fc=document[_0x3267f1(0x16f)](_0x3267f1(0xfc));return _0x152c73?(_0x5b74fc[_0x3267f1(0x17b)]['color']=_0x3267f1(0xc6),_0x5b74fc[_0x3267f1(0x17b)][_0x3267f1(0x158)]=_0x3267f1(0x148)):(_0x5b74fc[_0x3267f1(0x17b)][_0x3267f1(0xe8)]=_0x3267f1(0x181),_0x5b74fc[_0x3267f1(0x17b)]['fontWeight']=_0x3267f1(0x148)),new Promise(_0x1df96c=>{const _0x3d49c3=_0x3267f1;confirmResolver=_0x1df96c,document['getElementById'](_0x3d49c3(0xb0))['classList'][_0x3d49c3(0x14e)](_0x3d49c3(0x129));});}function resolveCustomConfirm(_0x33dff3){const _0x5852df=a3_0x18f611;document[_0x5852df(0x16f)]('customConfirm')[_0x5852df(0x111)][_0x5852df(0xa4)](_0x5852df(0x129));if(confirmResolver)confirmResolver(_0x33dff3);}async function tryCancelCurrentSession(){const _0x5d1775=a3_0x18f611;if(!currentSession)return;const _0x127ea4=await showCustomConfirm(_0x5d1775(0x96),_0x5d1775(0x166),!![]);if(!_0x127ea4)return;const _0x2404eb=currentSession;closeAllSheets(),sessions=sessions[_0x5d1775(0xd9)](_0x1f1839=>_0x1f1839['id']!==_0x2404eb['id']),reRenderBlocks(),showToast(_0x5d1775(0x110)),lastUserActionTime=Date['now']();try{const _0x3c971f=window[_0x5d1775(0x12f)]?.[_0x5d1775(0xbf)],_0x313a39=await fetch(API_URL,{'method':_0x5d1775(0x137),'body':JSON[_0x5d1775(0x17a)]({'action':_0x5d1775(0x115),'init_data':_0x3c971f?.[_0x5d1775(0x13d)]||'','coachId':_0x2404eb[_0x5d1775(0x161)],'dateStr':_0x2404eb[_0x5d1775(0x16a)],'sessionId':_0x2404eb['id']})});if(_0x313a39['ok'])DataManager[_0x5d1775(0x189)]();}catch(_0x5e1ce7){showToast(_0x5d1775(0x140));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x51bb(){const _0x2e02c8=['test','\x20—á.','substr','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','var(--acc-blue)','pattern','anTotalStats','getHours','uc_client_list','appendChild','timeLineBadge','8259168FIMtDG','zIndex','filter','703MdNBxT','cid','rsDatesTrack','580BjUdLV','toast','–∑–∞\x20','none','display','onclick','scroll','#050505','\x20–∏–∑\x20','.btn-reschedule','toString','color','push','getMonth','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','backgroundPosition','15084oOHIsZ','user','min','scrollLeft','setHours','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','length','rescheduleSheet','week','total','v9.5-CLIENT-ANALYTICS','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','max','div','querySelector','ccYesBtn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-column\x20','113706WzRonB','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','calc(','\x20status-completed','getTime','querySelectorAll','ready','numeric','setBackgroundColor',':00</span>','className','day-col-header\x20','colIndex','split','getDay','initDataUnsafe','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–û—Ç–º–µ–Ω–µ–Ω–æ','classList','end','2763996ZHIEmv','applyData','client_cancel','.day-column','stopPropagation','firstChild','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','</div>','ru-RU','rgba(10,\x20132,\x20255,\x20','disableVerticalSwipes','<span>','</div><div\x20class=\x22dch-num\x22>','innerHTML','clients','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','12PZnXtJ','open','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','entries','height','forEach','visible','anStart','.btn-cancel','data','%\x20+\x202px)','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','Telegram','\x20-\x20','status','</div><div\x20class=\x22rs-day-num\x22>','BackButton','log','auto','join','POST','overlay','setItem','calendar','analyticsList','cancelled','initData','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','charAt','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','detTime','search','get_slots','all','toLocaleString','reschedule','<div\x20class=\x22dch-day\x22>','600','createElement','analyticsSheet','show','</span>\x20/\x20','exceptions','add','note','getMinutes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','detDate','Critical\x20TMA\x20Error:','Error\x20setting\x20color:','parse','top','json','fontWeight','sort','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','textContent','today','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','getFullYear','globalTimeLine','ccTitle','coachId','getItem','ranges','setAttribute','setMonth','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','value','find','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','dateStr','settings','.day-col-header','setDate','isArray','getElementById','cancelContainer','anDonutCircle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','completed','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','rs-time-btn','long','strokeDashoffset','padStart','scrollTop','stringify','style','sid','start','startsWith','blocked-slot\x20stripe-bg','px\x20-','#0a84ff','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','createDocumentFragment','backgroundColor','day-off-overlay\x20stripe-bg','apply','144KVfuDl','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','saveLocally','insertBefore','rs-date-chip','daysHeaderTrack','clientWidth','offClick','round','300zQNTDL','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','headerMonth','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','addEventListener','now','cancelHint','detNote','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','detailsSheet','active','anCustomDates','getDate','gridColumns','client-stat-card','remove','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rsSlotsGrid','then','done','location','toUpperCase','3795PbYkaG','slice','coach_profiles','block','seriesId','customConfirm','data-date','toLocaleDateString','substring','button','client_load','router.html','getAttribute','map','borderLeftColor','loadLocal','.period-switch\x20.p-btn','keys','%\x20-\x204px)','scrollTo','WebApp','offsetLeft','custom','cancel_window','494417zwVuFw','1825490fZgAzo','data-day-idx','#ff453a','syncLoad','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','matrixViewport','timeColumn','anEnd'];a3_0x51bb=function(){return _0x2e02c8;};return a3_0x51bb();}async function startRescheduleFlow(){const _0x59218a=a3_0x18f611;if(!currentSession)return;document[_0x59218a(0x16f)]('detailsSheet')[_0x59218a(0x111)]['remove'](_0x59218a(0x124)),document[_0x59218a(0x16f)](_0x59218a(0xf4))['classList'][_0x59218a(0x14e)]('open');const _0x103f7c=document[_0x59218a(0x16f)](_0x59218a(0xdc)),_0x20975a=document[_0x59218a(0x16f)](_0x59218a(0xa6));_0x103f7c[_0x59218a(0x120)]='',_0x20975a[_0x59218a(0x120)]=_0x59218a(0x174);const [_0x27aeb6,_0x1708fe]=currentSession[_0x59218a(0x17d)]['split'](':')['map'](Number),[_0x1f5f38,_0x507491]=currentSession[_0x59218a(0x112)][_0x59218a(0x10c)](':')['map'](Number),_0x3d5a8d=_0x1f5f38*0x3c+_0x507491-(_0x27aeb6*0x3c+_0x1708fe);try{const _0xc33ce5=window[_0x59218a(0x12f)]?.[_0x59218a(0xbf)],_0x1b8b2d=await fetch(API_URL,{'method':'POST','body':JSON[_0x59218a(0x17a)]({'action':_0x59218a(0x143),'coachId':currentSession[_0x59218a(0x161)],'duration':_0x3d5a8d,'init_data':_0xc33ce5?.[_0x59218a(0x13d)]||'','excludeSessionId':currentSession['id']})}),_0x3b1ec4=await _0x1b8b2d[_0x59218a(0x157)]();_0x3b1ec4['ok']&&_0x3b1ec4[_0x59218a(0x12c)]?(availableSlotsCache=_0x3b1ec4[_0x59218a(0x12c)],renderRescheduleDates()):_0x20975a['innerHTML']=_0x59218a(0x125);}catch(_0x5efb8f){_0x20975a[_0x59218a(0x120)]=_0x59218a(0x119);}}function renderRescheduleDates(){const _0x11d164=a3_0x18f611,_0x58ed2b=document['getElementById'](_0x11d164(0xdc));_0x58ed2b['innerHTML']='';const _0x4953eb=Object[_0x11d164(0xbc)](availableSlotsCache)[_0x11d164(0x159)](),_0x206ce5=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4953eb[_0x11d164(0xf3)]===0x0){document['getElementById'](_0x11d164(0xa6))[_0x11d164(0x120)]=_0x11d164(0x100);return;}_0x4953eb['forEach']((_0x4338f9,_0x253081)=>{const _0x5e1608=_0x11d164,_0x4b4f84=new Date(_0x4338f9),_0x4835af=_0x206ce5[_0x4b4f84[_0x5e1608(0x10d)]()],_0x5b4959=_0x4b4f84[_0x5e1608(0xa1)](),_0x12d5d3=document['createElement'](_0x5e1608(0xfa));_0x12d5d3[_0x5e1608(0x109)]=_0x5e1608(0x90);if(_0x253081===0x0)_0x12d5d3[_0x5e1608(0x111)][_0x5e1608(0x14e)](_0x5e1608(0x9f));_0x12d5d3[_0x5e1608(0x120)]='<div\x20class=\x22rs-day-name\x22>'+_0x4835af+_0x5e1608(0x132)+_0x5b4959+_0x5e1608(0x11a),_0x12d5d3[_0x5e1608(0xe2)]=()=>selectRsDate(_0x4338f9,_0x12d5d3),_0x58ed2b[_0x5e1608(0xd5)](_0x12d5d3);}),selectRsDate(_0x4953eb[0x0],_0x58ed2b[_0x11d164(0x118)]);}function selectRsDate(_0x9bcc38,_0x22bfd3){const _0x3a4a07=a3_0x18f611;selectedRsDate=_0x9bcc38,document['querySelectorAll']('.rs-date-chip')['forEach'](_0x4b4e8d=>_0x4b4e8d[_0x3a4a07(0x111)][_0x3a4a07(0xa4)](_0x3a4a07(0x9f)));if(_0x22bfd3)_0x22bfd3[_0x3a4a07(0x111)][_0x3a4a07(0x14e)](_0x3a4a07(0x9f));const _0x8a5d50=document['getElementById'](_0x3a4a07(0xa6));_0x8a5d50[_0x3a4a07(0x120)]='';const _0x2ae3aa=availableSlotsCache[_0x9bcc38]||[];if(_0x2ae3aa['length']===0x0){_0x8a5d50['innerHTML']=_0x3a4a07(0x125);return;}_0x2ae3aa[_0x3a4a07(0x128)](_0x3db190=>{const _0x26b9c3=_0x3a4a07,_0x91b79a=document[_0x26b9c3(0x149)](_0x26b9c3(0xb4));_0x91b79a[_0x26b9c3(0x109)]=_0x26b9c3(0x175),_0x91b79a[_0x26b9c3(0x15b)]=_0x3db190,_0x91b79a[_0x26b9c3(0xe2)]=()=>confirmReschedule(_0x3db190),_0x8a5d50['appendChild'](_0x91b79a);});}async function confirmReschedule(_0x3ec6cb){const _0x183fcf=a3_0x18f611,_0x136b5e=new Date(selectedRsDate),_0x1e97a6=_0x136b5e[_0x183fcf(0xb2)](_0x183fcf(0x11b),{'day':'numeric','month':_0x183fcf(0x176)}),_0x49a40c=await showCustomConfirm(_0x183fcf(0xcf),_0x183fcf(0x169)+_0x1e97a6+'\x20–≤\x20'+_0x3ec6cb+'?',![]);if(!_0x49a40c)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x183fcf(0x9a)]();const _0x124411=currentSession[_0x183fcf(0x16a)],_0x56850f=currentSession['id'],[_0x22659b,_0x5dde3c]=currentSession['start'][_0x183fcf(0x10c)](':')[_0x183fcf(0xb8)](Number),[_0x2396ac,_0x4d298b]=currentSession[_0x183fcf(0x112)][_0x183fcf(0x10c)](':')[_0x183fcf(0xb8)](Number),_0x2ad646=_0x2396ac*0x3c+_0x4d298b-(_0x22659b*0x3c+_0x5dde3c),[_0x3cbc58,_0x106a35]=_0x3ec6cb[_0x183fcf(0x10c)](':')[_0x183fcf(0xb8)](Number),_0x193fb6=_0x3cbc58*0x3c+_0x106a35+_0x2ad646,_0x8cca79=Math['floor'](_0x193fb6/0x3c),_0x3c824a=_0x193fb6%0x3c,_0x307cd8=String(_0x8cca79)['padStart'](0x2,'0')+':'+String(_0x3c824a)['padStart'](0x2,'0'),_0x91a095=sessions['findIndex'](_0x354429=>_0x354429['id']===_0x56850f);_0x91a095!==-0x1&&(sessions[_0x91a095][_0x183fcf(0x16a)]=selectedRsDate,sessions[_0x91a095]['start']=_0x3ec6cb,sessions[_0x91a095]['end']=_0x307cd8,reRenderBlocks());try{const _0x31ea33=window[_0x183fcf(0x12f)]?.[_0x183fcf(0xbf)],_0x5ab0ee=await fetch(API_URL,{'method':_0x183fcf(0x137),'body':JSON[_0x183fcf(0x17a)]({'action':_0x183fcf(0x146),'init_data':_0x31ea33?.[_0x183fcf(0x13d)]||'','oldSessionId':_0x56850f,'oldDate':_0x124411,'newDate':selectedRsDate,'newTime':_0x3ec6cb,'coachId':currentSession[_0x183fcf(0x161)]})}),_0x69570f=await _0x5ab0ee[_0x183fcf(0x157)]();!_0x69570f['ok']?(showToast(_0x183fcf(0x122)),DataManager[_0x183fcf(0xc7)]()):(showToast(_0x183fcf(0x12e)),DataManager['saveLocally']());}catch(_0x4012b6){showToast(_0x183fcf(0x140));}}document[a3_0x18f611(0x99)]('DOMContentLoaded',init);