const a3_0x7eec22=a3_0x16c8;(function(_0x51e8a9,_0x316989){const _0x34a6f3=a3_0x16c8,_0x51344d=_0x51e8a9();while(!![]){try{const _0x41f9b2=parseInt(_0x34a6f3(0x21d))/0x1+parseInt(_0x34a6f3(0x22e))/0x2*(-parseInt(_0x34a6f3(0x1cc))/0x3)+parseInt(_0x34a6f3(0x1a9))/0x4*(parseInt(_0x34a6f3(0x1fb))/0x5)+-parseInt(_0x34a6f3(0x20e))/0x6*(parseInt(_0x34a6f3(0x1b7))/0x7)+-parseInt(_0x34a6f3(0x1e6))/0x8+-parseInt(_0x34a6f3(0x1fa))/0x9*(parseInt(_0x34a6f3(0x291))/0xa)+parseInt(_0x34a6f3(0x1b6))/0xb*(parseInt(_0x34a6f3(0x21a))/0xc);if(_0x41f9b2===_0x316989)break;else _0x51344d['push'](_0x51344d['shift']());}catch(_0x525f09){_0x51344d['push'](_0x51344d['shift']());}}}(a3_0x28c9,0x94dd2));function a3_0x28c9(){const _0x298f9c=['analyticsSheet','BackButton','getFullYear','substr','ru-RU','constructor','rescheduleSheet','598164QgUJAo','v9.5-CLIENT-ANALYTICS','map','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','customConfirm','\x20-\x20','.sheet','backgroundColor','week','min','anStart','clients','display','1023XAwEgN','63esaueA','error','uc_client_sessions','setBackgroundColor','T23:59:59','rsSlotsGrid','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','.day-col-header','coach_profiles','get_slots','getItem','total','createElement','offClick','\x20status-completed','WebApp','.btn-reschedule','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','isArray','T00:00:00','rs-date-chip','637503RBeTaa','Unknown','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','offsetWidth','log','status','client_cancel','(((.+)+)+)+$','done','innerHTML','daysHeaderTrack','length','clientId','location','getHours','firstChild','seriesId','toLocaleDateString','backgroundPosition','href','mini','<div\x20class=\x22dch-day\x22>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','</span>\x20/\x20','matrixViewport','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','1706808ZUkrMU','clientWidth','overlay','getDay','timeColumn','numeric','scrollTop','classList','coachId','round','anPercent','user','substring','button','blocked-range-part\x20stripe-bg','detStatus','apply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccText','setHours','108CoSVfF','5pKzeFR','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cancelHint','start','none','.period-switch\x20.p-btn','test','open','</div>','stringify','applyData','active','height','rsDatesTrack','filter','slice','month','onclick','strokeDashoffset','507246xYfFKi','cancelled','event-card','Error\x20setting\x20back\x20button:','colIndex','insertBefore','loadLocal','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','toString','detNote','client_load','onClick','230532VfYbLd','DOMContentLoaded','parse','861840oizNai','remove','visible','push','<span>','getDate','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','day-column\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Telegram','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','color','toUpperCase','client-stat-card','scrollLeft','completed','time-label','4pCwDAl','data-date','value','data','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x200px','entries','charAt','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','className','ranges','analyticsList','%\x20+\x202px)','dateStr','setItem','expand','headerMonth','var(--acc-blue)','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','Error\x20setting\x20color:','top','scroll','initData','data-day-idx','cancelContainer','Critical\x20TMA\x20Error:','.btn-cancel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','padStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-slot\x20stripe-bg','day-col-header\x20','–û—Ç–º–µ–Ω–µ–Ω–æ','var(--acc-green)','then','detailsSheet','addEventListener','\x20–≤\x20','px\x20-','timeLineBadge','scrollWidth','setDate','json','textContent','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','gridColumns','createDocumentFragment','\x20–∏–∑\x20','add','</div><div\x20class=\x22dch-num\x22>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','setAttribute','–∑–∞\x20','saveLocally','width','fontWeight','anDonutCircle','long','router.html','cancel_window','reschedule','style','anCustomDates','rgba(10,\x20132,\x20255,\x20','block','rgba(','detDate','offsetLeft','.day-column','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','calendar','show','.rs-date-chip','split','max','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','scrollTo','globalTimeLine','getElementById','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','calc(','settings','forEach','600','getTime','today','querySelectorAll','getMonth','\x20—á.','toLocaleString','%\x20-\x204px)','#050505','join','search','end','657530YDNuOj','findIndex','now','anEnd','find','disableVerticalSwipes','getMinutes','borderLeftColor','keys','appendChild','<div\x20class=\x22rs-day-name\x22>','querySelector','exceptions','#ff453a','flex','#0a84ff','syncLoad','div','pattern','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setHeaderColor','sort','getAttribute'];a3_0x28c9=function(){return _0x298f9c;};return a3_0x28c9();}const APP_VERSION=a3_0x7eec22(0x1aa),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x7eec22(0x1b9),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x7eec22(0x1b1),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2d30af=a3_0x7eec22,_0x1ef8ee=(function(){let _0x256a08=!![];return function(_0x54bb1d,_0xc9a1a2){const _0xc62f61=_0x256a08?function(){const _0x35a70b=a3_0x16c8;if(_0xc9a1a2){const _0x366f24=_0xc9a1a2[_0x35a70b(0x1f6)](_0x54bb1d,arguments);return _0xc9a1a2=null,_0x366f24;}}:function(){};return _0x256a08=![],_0xc62f61;};}()),_0x4b7ce7=_0x1ef8ee(this,function(){const _0xe72720=a3_0x16c8;return _0x4b7ce7[_0xe72720(0x216)]()[_0xe72720(0x28f)](_0xe72720(0x1d3))[_0xe72720(0x216)]()[_0xe72720(0x1a7)](_0x4b7ce7)[_0xe72720(0x28f)]('(((.+)+)+)+$');});_0x4b7ce7();try{const _0x5e749e=window[_0x2d30af(0x226)]?.[_0x2d30af(0x1c6)];if(!_0x5e749e)return;_0x5e749e['ready'](),_0x5e749e[_0x2d30af(0x23e)]();try{_0x5e749e[_0x2d30af(0x19f)](_0x2d30af(0x28d)),_0x5e749e['setBackgroundColor']&&_0x5e749e[_0x2d30af(0x1ba)](_0x2d30af(0x28d));}catch(_0x120ff7){console[_0x2d30af(0x1d0)](_0x2d30af(0x242),_0x120ff7);}try{_0x5e749e[_0x2d30af(0x1a3)]&&(_0x5e749e['BackButton'][_0x2d30af(0x278)](),_0x5e749e[_0x2d30af(0x1a3)][_0x2d30af(0x1c4)](),_0x5e749e[_0x2d30af(0x1a3)][_0x2d30af(0x219)](function(){const _0x1e016a=_0x2d30af;window[_0x1e016a(0x1d9)][_0x1e016a(0x1df)]=_0x1e016a(0x26b);}));}catch(_0x5ab233){console['log'](_0x2d30af(0x211),_0x5ab233);}try{if(_0x5e749e[_0x2d30af(0x296)])_0x5e749e[_0x2d30af(0x296)]();}catch(_0x2d0f10){}}catch(_0x1d014f){console[_0x2d30af(0x1b8)](_0x2d30af(0x248),_0x1d014f);}}());function isAdmin(){const _0x1711db=a3_0x7eec22;try{const _0x73a251=Number(window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x1711db(0x1f1)]?.['id']);return _0x73a251===0xbaf7174;}catch(_0x212651){return![];}}const DataManager={'saveLocally'(){const _0x3fdf7e=a3_0x7eec22;try{localStorage[_0x3fdf7e(0x23d)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3fdf7e(0x23d)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3fdf7e(0x23d)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x21b762){}},'loadLocal'(){const _0x3f07e5=a3_0x7eec22;try{const _0x48c09b=localStorage[_0x3f07e5(0x1c1)](KEY_SESSIONS);if(_0x48c09b)sessions=JSON[_0x3f07e5(0x21c)](_0x48c09b);const _0x9a3da6=localStorage[_0x3f07e5(0x1c1)](KEY_CLIENTS);if(_0x9a3da6)clients=JSON[_0x3f07e5(0x21c)](_0x9a3da6);const _0x4448ce=localStorage[_0x3f07e5(0x1c1)](KEY_SETTINGS);if(_0x4448ce){const _0xb1e2fb=JSON[_0x3f07e5(0x21c)](_0x4448ce);if(_0xb1e2fb['pattern'])availabilityPattern=_0xb1e2fb[_0x3f07e5(0x2a3)];if(_0xb1e2fb[_0x3f07e5(0x239)])specialRanges=_0xb1e2fb[_0x3f07e5(0x239)];if(_0xb1e2fb[_0x3f07e5(0x29d)])dateExceptions=_0xb1e2fb['exceptions'];}}catch(_0x4d4ad1){}},async 'syncLoad'(){const _0x5cf9b8=a3_0x7eec22,_0x5d8c71=new Date(),_0xcf8159=_0x5d8c71['getFullYear']()+'-'+String(_0x5d8c71[_0x5cf9b8(0x289)]()+0x1)[_0x5cf9b8(0x24d)](0x2,'0'),_0x21bcc5=new Date(_0x5d8c71);_0x21bcc5['setMonth'](_0x5d8c71[_0x5cf9b8(0x289)]()+0x1);const _0x253d08=_0x21bcc5[_0x5cf9b8(0x1a4)]()+'-'+String(_0x21bcc5[_0x5cf9b8(0x289)]()+0x1)[_0x5cf9b8(0x24d)](0x2,'0'),_0xcd5e27=Date['now']();try{const _0x6bcba7=window[_0x5cf9b8(0x226)]?.['WebApp'],_0x4c1660=_0x6bcba7?.['initData']||'',[_0x193bf8,_0x4e9316]=await Promise['all']([fetch(API_URL,{'method':_0x5cf9b8(0x24b),'body':JSON[_0x5cf9b8(0x204)]({'action':_0x5cf9b8(0x218),'init_data':_0x4c1660,'month_str':_0xcf8159})})[_0x5cf9b8(0x253)](_0x25c533=>_0x25c533[_0x5cf9b8(0x25b)]()),fetch(API_URL,{'method':_0x5cf9b8(0x24b),'body':JSON['stringify']({'action':_0x5cf9b8(0x218),'init_data':_0x4c1660,'month_str':_0x253d08})})['then'](_0x585758=>_0x585758['json']())]);if(lastUserActionTime>_0xcd5e27){console['log'](_0x5cf9b8(0x223));return;}if(_0x193bf8['ok'])this['applyData'](_0x193bf8['data'],_0xcf8159);if(_0x4e9316['ok'])this[_0x5cf9b8(0x205)](_0x4e9316[_0x5cf9b8(0x231)],_0x253d08);this[_0x5cf9b8(0x266)]();}catch(_0x507791){}},'applyData'(_0x3ef799,_0x30a3ce){const _0x4e246d=a3_0x7eec22;if(!_0x3ef799)return;if(_0x3ef799[_0x4e246d(0x283)]){if(_0x3ef799[_0x4e246d(0x283)][_0x4e246d(0x2a3)])availabilityPattern=_0x3ef799['settings'][_0x4e246d(0x2a3)];if(_0x3ef799['settings']['ranges'])specialRanges=_0x3ef799[_0x4e246d(0x283)][_0x4e246d(0x239)];if(_0x3ef799[_0x4e246d(0x283)][_0x4e246d(0x29d)])dateExceptions=_0x3ef799[_0x4e246d(0x283)]['exceptions'];}if(_0x3ef799[_0x4e246d(0x1b4)]&&Array[_0x4e246d(0x1c9)](_0x3ef799[_0x4e246d(0x1b4)]))clients=_0x3ef799['clients'];_0x3ef799['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x3ef799[_0x4e246d(0x1bf)]}),_0x3ef799[_0x4e246d(0x277)]&&(sessions=sessions[_0x4e246d(0x209)](_0x528c01=>!_0x528c01[_0x4e246d(0x23c)]['startsWith'](_0x30a3ce)),Object[_0x4e246d(0x299)](_0x3ef799[_0x4e246d(0x277)])[_0x4e246d(0x284)](_0x21e7cf=>{const _0x5e08e8=_0x4e246d,_0x3eea54=_0x3ef799[_0x5e08e8(0x277)][_0x21e7cf];_0x3eea54[_0x5e08e8(0x284)](_0x4cd392=>{const _0x939604=_0x5e08e8;sessions[_0x939604(0x220)]({'id':_0x4cd392['i'],'clientId':_0x4cd392['c'],'coachId':_0x4cd392['cid'],'dateStr':_0x30a3ce+'-'+_0x21e7cf[_0x939604(0x24d)](0x2,'0'),'start':_0x4cd392['s'],'end':_0x4cd392['e'],'note':_0x4cd392['n']||'','status':_0x4cd392['st']||'planned','seriesId':_0x4cd392['sid']});});})),reRenderBlocks();}};function init(){const _0xaccb1c=a3_0x7eec22;DataManager[_0xaccb1c(0x214)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xaccb1c(0x280)]('matrixViewport')[_0xaccb1c(0x255)](_0xaccb1c(0x244),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xaccb1c(0x2a1)]();}function renderTimeColumn(){const _0x3f5b8d=a3_0x7eec22,_0x28c1c9=document[_0x3f5b8d(0x280)](_0x3f5b8d(0x1ea)),_0x41bd38=document[_0x3f5b8d(0x280)](_0x3f5b8d(0x258));_0x28c1c9[_0x3f5b8d(0x1d5)]='',_0x28c1c9[_0x3f5b8d(0x29a)](_0x41bd38);for(let _0x25c81a=0x0;_0x25c81a<0x18;_0x25c81a++){const _0x29f877=document[_0x3f5b8d(0x1c3)](_0x3f5b8d(0x2a2));_0x29f877['className']=_0x3f5b8d(0x22d);if(_0x25c81a>0x0)_0x29f877[_0x3f5b8d(0x1d5)]=_0x3f5b8d(0x221)+String(_0x25c81a)[_0x3f5b8d(0x24d)](0x2,'0')+':00</span>';_0x28c1c9['appendChild'](_0x29f877);}}function renderDayRange(_0x5f10e4,_0x2cb591){const _0x57c921=a3_0x7eec22,_0x36f594=document['getElementById']('daysHeaderTrack'),_0x1af081=document[_0x57c921(0x280)](_0x57c921(0x25e)),_0x2c5dad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x35ca29=new Date();_0x35ca29[_0x57c921(0x1f9)](0x0,0x0,0x0,0x0);const _0x501061=getLocalDateStr(new Date());for(let _0x19d502=_0x5f10e4;_0x19d502<=_0x2cb591;_0x19d502++){const _0x649871=new Date(_0x35ca29);_0x649871[_0x57c921(0x25a)](_0x649871[_0x57c921(0x222)]()+_0x19d502);const _0x3fe67f=getLocalDateStr(_0x649871);let _0x38e21b=_0x649871[_0x57c921(0x1e9)]()-0x1;if(_0x38e21b===-0x1)_0x38e21b=0x6;const _0x5c0a50=_0x3fe67f===_0x501061,_0x579d47=document[_0x57c921(0x1c3)](_0x57c921(0x2a2));_0x579d47['className']=_0x57c921(0x250)+(_0x5c0a50?_0x57c921(0x287):''),_0x579d47[_0x57c921(0x264)](_0x57c921(0x22f),_0x3fe67f),_0x579d47[_0x57c921(0x1d5)]=_0x57c921(0x1e1)+_0x2c5dad[_0x38e21b]+'</div><div\x20class=\x22dch-num\x22>'+_0x649871[_0x57c921(0x222)]()+_0x57c921(0x203),_0x36f594[_0x57c921(0x29a)](_0x579d47);const _0x2e54b3=document[_0x57c921(0x1c3)](_0x57c921(0x2a2));_0x2e54b3[_0x57c921(0x238)]='day-column\x20'+(_0x5c0a50?'today':''),_0x2e54b3[_0x57c921(0x264)](_0x57c921(0x22f),_0x3fe67f),_0x2e54b3[_0x57c921(0x264)](_0x57c921(0x246),_0x38e21b),_0x1af081[_0x57c921(0x29a)](_0x2e54b3);}}function reRenderBlocks(){const _0x589442=a3_0x7eec22;document[_0x589442(0x288)](_0x589442(0x275))[_0x589442(0x284)](_0x272c21=>{const _0x26e551=_0x589442;_0x272c21[_0x26e551(0x288)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x26e551(0x284)](_0x336c0e=>_0x336c0e[_0x26e551(0x21e)]());const _0x48041e=_0x272c21[_0x26e551(0x1a1)](_0x26e551(0x22f)),_0x305960=parseInt(_0x272c21[_0x26e551(0x1a1)]('data-day-idx')),_0x216d14=Math[_0x26e551(0x1ef)](_0x272c21[_0x26e551(0x274)]);(availabilityPattern[_0x305960]||[])[_0x26e551(0x284)](_0x2e78cc=>{const _0x4cf4d5=_0x26e551,_0x37fb02=document[_0x4cf4d5(0x1c3)]('div');_0x37fb02[_0x4cf4d5(0x238)]=_0x4cf4d5(0x24f),_0x37fb02[_0x4cf4d5(0x26e)]['top']=_0x2e78cc*GRID_H+'px',_0x37fb02['style'][_0x4cf4d5(0x1de)]='-'+_0x216d14+'px\x20-'+_0x2e78cc*GRID_H+'px',_0x272c21[_0x4cf4d5(0x29a)](_0x37fb02);});if(specialRanges['length']>0x0){const _0x42a4c1=new Date(_0x48041e+_0x26e551(0x1ca))['getTime'](),_0x11e66f=new Date(_0x48041e+_0x26e551(0x1bb))[_0x26e551(0x286)]();specialRanges['forEach'](_0x4634ff=>{const _0x30462d=_0x26e551,_0x17e7ea=new Date(_0x4634ff[_0x30462d(0x1fe)])[_0x30462d(0x286)](),_0x30acd3=new Date(_0x4634ff[_0x30462d(0x290)])[_0x30462d(0x286)](),_0x424258=Math['max'](_0x42a4c1,_0x17e7ea),_0x3bdc8a=Math[_0x30462d(0x1b2)](_0x11e66f,_0x30acd3);if(_0x424258<_0x3bdc8a){const _0x3c926b=(_0x424258-_0x42a4c1)/0x36ee80*GRID_H,_0x423119=(_0x3bdc8a-_0x424258)/0x36ee80*GRID_H,_0x49540a=document['createElement'](_0x30462d(0x2a2));_0x423119>=23.5*GRID_H?(_0x49540a[_0x30462d(0x238)]='day-off-overlay\x20stripe-bg',_0x49540a[_0x30462d(0x26e)][_0x30462d(0x1de)]='-'+_0x216d14+_0x30462d(0x233)):(_0x49540a['className']=_0x30462d(0x1f4),_0x49540a[_0x30462d(0x26e)][_0x30462d(0x243)]=_0x3c926b+'px',_0x49540a[_0x30462d(0x26e)]['height']=_0x423119+'px',_0x49540a[_0x30462d(0x26e)]['backgroundPosition']='-'+_0x216d14+_0x30462d(0x257)+_0x3c926b+'px'),_0x272c21['appendChild'](_0x49540a);}});}renderEventsForColumn(_0x272c21,_0x48041e);});}function renderEventsForColumn(_0x41a3cb,_0x3646df){const _0x459d22=a3_0x7eec22,_0x3e2e55=sessions[_0x459d22(0x209)](_0x3a24fa=>_0x3a24fa['dateStr']===_0x3646df),_0x2ab71e=_0x3e2e55[_0x459d22(0x1ab)](_0x3a266c=>{const _0x390006=_0x459d22,[_0x39a649,_0x109853]=_0x3a266c[_0x390006(0x1fe)][_0x390006(0x27a)](':')[_0x390006(0x1ab)](Number),[_0x52a7c5,_0x16f4ce]=_0x3a266c['end'][_0x390006(0x27a)](':')[_0x390006(0x1ab)](Number);return{'data':_0x3a266c,'start':_0x39a649*0x3c+_0x109853,'end':_0x52a7c5*0x3c+_0x16f4ce,'colIndex':0x0};});_0x2ab71e['sort']((_0x32cea7,_0x222c54)=>_0x32cea7[_0x459d22(0x1fe)]-_0x222c54[_0x459d22(0x1fe)]||_0x222c54['end']-_0x222c54['start']-(_0x32cea7[_0x459d22(0x290)]-_0x32cea7[_0x459d22(0x1fe)]));const _0x46244a=[];_0x2ab71e[_0x459d22(0x284)](_0x3cc2df=>{const _0x17bc14=_0x459d22;let _0x20c753=![];for(let _0x416314=0x0;_0x416314<_0x46244a['length'];_0x416314++){const _0x1e4beb=_0x46244a[_0x416314];if(_0x3cc2df[_0x17bc14(0x1fe)]>=_0x1e4beb[_0x1e4beb[_0x17bc14(0x1d7)]-0x1][_0x17bc14(0x290)]){_0x1e4beb[_0x17bc14(0x220)](_0x3cc2df),_0x3cc2df[_0x17bc14(0x212)]=_0x416314,_0x20c753=!![];break;}}!_0x20c753&&(_0x46244a['push']([_0x3cc2df]),_0x3cc2df[_0x17bc14(0x212)]=_0x46244a[_0x17bc14(0x1d7)]-0x1);}),_0x2ab71e[_0x459d22(0x284)](_0x5e4857=>{const _0x5dcf41=_0x459d22;let _0x43dd8c=0x0;_0x2ab71e[_0x5dcf41(0x284)](_0x1cad96=>{const _0x32827a=_0x5dcf41;if(Math[_0x32827a(0x27b)](_0x5e4857['start'],_0x1cad96['start'])<Math[_0x32827a(0x1b2)](_0x5e4857['end'],_0x1cad96[_0x32827a(0x290)])&&_0x1cad96['colIndex']>_0x43dd8c)_0x43dd8c=_0x1cad96[_0x32827a(0x212)];});const _0x4f5936=_0x43dd8c+0x1,_0x5bc02a=0x64/_0x4f5936,_0x16be1b=_0x5e4857[_0x5dcf41(0x212)]*_0x5bc02a,_0x441a53=document[_0x5dcf41(0x1c3)](_0x5dcf41(0x2a2)),_0x3ca0d1=_0x5e4857[_0x5dcf41(0x231)];let _0x41fb30=_0x5dcf41(0x2a0);if(clients&&clients[_0x5dcf41(0x1d7)]>0x0){const _0x48fad9=clients[_0x5dcf41(0x295)](_0x40be41=>String(_0x40be41['id'])===String(_0x3ca0d1[_0x5dcf41(0x1d8)]));if(_0x48fad9&&_0x48fad9[_0x5dcf41(0x228)])_0x41fb30=_0x48fad9[_0x5dcf41(0x228)];}const _0x236397=_0x3ca0d1[_0x5dcf41(0x1d1)]==='completed',_0x48e4f4=_0x236397?0x1:0.45;_0x441a53[_0x5dcf41(0x238)]=_0x5dcf41(0x210)+(_0x236397?_0x5dcf41(0x1c5):''),_0x441a53['style'][_0x5dcf41(0x1b0)]=hexToRgba(_0x41fb30,_0x48e4f4),_0x441a53[_0x5dcf41(0x26e)][_0x5dcf41(0x298)]=_0x41fb30;const _0x167a47=_0x5e4857[_0x5dcf41(0x1fe)]/0x3c*GRID_H,_0x55ffc8=(_0x5e4857[_0x5dcf41(0x290)]-_0x5e4857[_0x5dcf41(0x1fe)])/0x3c*GRID_H;_0x441a53[_0x5dcf41(0x26e)][_0x5dcf41(0x243)]=_0x167a47+'px',_0x441a53[_0x5dcf41(0x26e)][_0x5dcf41(0x207)]=Math[_0x5dcf41(0x27b)](_0x55ffc8,0x14)+'px',_0x441a53[_0x5dcf41(0x26e)][_0x5dcf41(0x267)]=_0x5dcf41(0x282)+_0x5bc02a+_0x5dcf41(0x28c),_0x441a53[_0x5dcf41(0x26e)]['left']=_0x5dcf41(0x282)+_0x16be1b+_0x5dcf41(0x23b),_0x441a53[_0x5dcf41(0x26e)][_0x5dcf41(0x27c)]=0xa+_0x5e4857[_0x5dcf41(0x212)];if(_0x5bc02a<0x55)_0x441a53['classList'][_0x5dcf41(0x261)](_0x5dcf41(0x1e0));let _0x36b0e3='';if(_0x3ca0d1[_0x5dcf41(0x1dc)])_0x36b0e3+=_0x5dcf41(0x236);if(_0x236397)_0x36b0e3+=_0x5dcf41(0x215);_0x441a53[_0x5dcf41(0x1d5)]=_0x5dcf41(0x27d)+_0x3ca0d1[_0x5dcf41(0x1fe)]+_0x5dcf41(0x1ae)+_0x3ca0d1[_0x5dcf41(0x290)]+_0x5dcf41(0x24e)+_0x36b0e3+_0x5dcf41(0x1f7),_0x441a53[_0x5dcf41(0x20c)]=_0x387f8a=>{_0x387f8a['stopPropagation'](),openDetails(_0x3ca0d1);},_0x41a3cb['appendChild'](_0x441a53);});}function openAnalytics(){const _0x2c26e7=a3_0x7eec22,_0x33a9dc=document[_0x2c26e7(0x29c)](_0x2c26e7(0x200));setAnalyticsPeriod(_0x2c26e7(0x1b1),_0x33a9dc),openSheet(_0x2c26e7(0x1a2));}function setAnalyticsPeriod(_0x15d5e9,_0x1dfea4){const _0x561a1f=a3_0x7eec22;currentAnPeriod=_0x15d5e9,document[_0x561a1f(0x288)]('.period-switch\x20.p-btn')[_0x561a1f(0x284)](_0x518fd5=>_0x518fd5[_0x561a1f(0x1ed)]['remove'](_0x561a1f(0x206)));if(_0x1dfea4)_0x1dfea4[_0x561a1f(0x1ed)][_0x561a1f(0x261)](_0x561a1f(0x206));const _0x238b29=document[_0x561a1f(0x280)](_0x561a1f(0x26f));_0x238b29[_0x561a1f(0x26e)][_0x561a1f(0x1b5)]=_0x15d5e9==='custom'?_0x561a1f(0x29f):'none';const _0x3b23ed=new Date();let _0x2ad712=new Date(),_0x5a2457=new Date();if(_0x15d5e9==='week')_0x2ad712=getStartOfWeek(_0x3b23ed),_0x5a2457=new Date(_0x2ad712),_0x5a2457['setDate'](_0x5a2457[_0x561a1f(0x222)]()+0x6);else{if(_0x15d5e9===_0x561a1f(0x20b))_0x2ad712=new Date(_0x3b23ed['getFullYear'](),_0x3b23ed[_0x561a1f(0x289)](),0x1),_0x5a2457=new Date(_0x3b23ed['getFullYear'](),_0x3b23ed[_0x561a1f(0x289)]()+0x1,0x0);else{!document[_0x561a1f(0x280)](_0x561a1f(0x1b3))['value']&&(document['getElementById'](_0x561a1f(0x1b3))[_0x561a1f(0x230)]=getLocalDateStr(_0x3b23ed),document['getElementById'](_0x561a1f(0x294))[_0x561a1f(0x230)]=getLocalDateStr(_0x3b23ed));refreshAnalytics();return;}}document[_0x561a1f(0x280)](_0x561a1f(0x1b3))['value']=getLocalDateStr(_0x2ad712),document[_0x561a1f(0x280)](_0x561a1f(0x294))['value']=getLocalDateStr(_0x5a2457),refreshAnalytics();}function refreshAnalytics(){const _0x1008b2=a3_0x7eec22,_0x526272=document[_0x1008b2(0x280)](_0x1008b2(0x1b3))['value'],_0x596bbd=document['getElementById'](_0x1008b2(0x294))[_0x1008b2(0x230)];if(!_0x526272||!_0x596bbd)return;const _0x3f224e=sessions[_0x1008b2(0x209)](_0x86d7c4=>_0x86d7c4[_0x1008b2(0x23c)]>=_0x526272&&_0x86d7c4[_0x1008b2(0x23c)]<=_0x596bbd&&_0x86d7c4[_0x1008b2(0x1d1)]!==_0x1008b2(0x20f)),_0x5938aa=_0x3f224e[_0x1008b2(0x1d7)],_0xd92c8d=_0x3f224e[_0x1008b2(0x209)](_0x124e55=>_0x124e55[_0x1008b2(0x1d1)]===_0x1008b2(0x22c))['length'],_0x210fb4=_0x5938aa>0x0?Math[_0x1008b2(0x1ef)](_0xd92c8d/_0x5938aa*0x64):0x0;document['getElementById'](_0x1008b2(0x1f0))[_0x1008b2(0x25c)]=_0x210fb4+'%',document['getElementById']('anTotalStats')[_0x1008b2(0x25c)]=_0xd92c8d+_0x1008b2(0x260)+_0x5938aa+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x10b262=document[_0x1008b2(0x280)](_0x1008b2(0x269)),_0x127b0e=0x2*Math['PI']*0x23,_0x221021=_0x127b0e-_0x210fb4/0x64*_0x127b0e;_0x10b262['style'][_0x1008b2(0x20d)]=_0x221021;const _0x4f5e6f={};_0x3f224e[_0x1008b2(0x284)](_0x5a2904=>{const _0x5def04=_0x1008b2,_0xc9ead=_0x5a2904[_0x5def04(0x1ee)]||_0x5def04(0x1cd);if(!_0x4f5e6f[_0xc9ead]){const _0x1c2ad4='#'+_0xc9ead[_0x5def04(0x216)]()[_0x5def04(0x1a5)](0x0,0x6);_0x4f5e6f[_0xc9ead]={'total':0x0,'done':0x0,'color':_0x1c2ad4};}_0x4f5e6f[_0xc9ead][_0x5def04(0x1c2)]++;if(_0x5a2904[_0x5def04(0x1d1)]==='completed')_0x4f5e6f[_0xc9ead]['done']++;});const _0x2e2819=document[_0x1008b2(0x280)](_0x1008b2(0x23a));_0x2e2819[_0x1008b2(0x1d5)]='';const _0x3639f2=Object[_0x1008b2(0x234)](_0x4f5e6f)[_0x1008b2(0x1a0)]((_0x605028,_0x52921e)=>_0x52921e[0x1][_0x1008b2(0x1c2)]-_0x605028[0x1]['total']);if(_0x3639f2['length']===0x0){_0x2e2819['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3639f2[_0x1008b2(0x284)](([_0xc801f7,_0xb5ab3d])=>{const _0x4b5ced=_0x1008b2,_0x4d3e4a=Math['round'](_0xb5ab3d[_0x4b5ced(0x1d4)]/_0xb5ab3d[_0x4b5ced(0x1c2)]*0x64),_0x23c082=document[_0x4b5ced(0x1c3)](_0x4b5ced(0x2a2));_0x23c082['className']=_0x4b5ced(0x22a),_0x23c082[_0x4b5ced(0x26e)][_0x4b5ced(0x298)]=_0xb5ab3d[_0x4b5ced(0x228)],_0x23c082[_0x4b5ced(0x1d5)]=_0x4b5ced(0x225)+_0xc801f7[_0x4b5ced(0x1a5)](0x0,0x5)+_0x4b5ced(0x24a)+_0xb5ab3d[_0x4b5ced(0x1d4)]+_0x4b5ced(0x1e3)+_0xb5ab3d[_0x4b5ced(0x1c2)]+_0x4b5ced(0x24c)+_0x4d3e4a+_0x4b5ced(0x232),_0x2e2819[_0x4b5ced(0x29a)](_0x23c082);});}function openDetails(_0x21733d){const _0x286f3c=a3_0x7eec22;currentSession=_0x21733d;const _0x242442=new Date(_0x21733d['dateStr']),_0x33ba6d=_0x242442[_0x286f3c(0x1dd)](_0x286f3c(0x1a6),{'weekday':_0x286f3c(0x26a),'day':'numeric','month':'long'});document[_0x286f3c(0x280)](_0x286f3c(0x273))['textContent']=_0x33ba6d[_0x286f3c(0x235)](0x0)[_0x286f3c(0x229)]()+_0x33ba6d[_0x286f3c(0x20a)](0x1),document['getElementById']('detTime')[_0x286f3c(0x25c)]=_0x21733d['start']+_0x286f3c(0x1ae)+_0x21733d['end'],document[_0x286f3c(0x280)](_0x286f3c(0x217))['textContent']=_0x21733d['note']||_0x286f3c(0x1ac);const _0x13c668=document[_0x286f3c(0x280)](_0x286f3c(0x1f5)),_0x5165c0=document[_0x286f3c(0x280)](_0x286f3c(0x247)),_0x25244a=_0x5165c0[_0x286f3c(0x29c)](_0x286f3c(0x249)),_0x1b2ef0=_0x5165c0[_0x286f3c(0x29c)](_0x286f3c(0x1c7)),_0xd73c04=document[_0x286f3c(0x280)](_0x286f3c(0x1fd));if(_0x21733d['status']===_0x286f3c(0x22c))_0x13c668[_0x286f3c(0x25c)]=_0x286f3c(0x1e5),_0x13c668[_0x286f3c(0x26e)]['color']=_0x286f3c(0x252),_0x5165c0[_0x286f3c(0x26e)]['display']=_0x286f3c(0x1ff);else{_0x13c668[_0x286f3c(0x25c)]=_0x286f3c(0x1bd),_0x13c668[_0x286f3c(0x26e)]['color']=_0x286f3c(0x240),_0x5165c0[_0x286f3c(0x26e)][_0x286f3c(0x1b5)]=_0x286f3c(0x271);const _0x23a0a3=new Date(_0x21733d[_0x286f3c(0x23c)]+'T'+_0x21733d[_0x286f3c(0x1fe)]),_0x1130e3=new Date(),_0x52bc03=(_0x23a0a3-_0x1130e3)/(0x3e8*0x3c*0x3c),_0x5999ba=coachProfiles[_0x21733d[_0x286f3c(0x1ee)]]&&coachProfiles[_0x21733d[_0x286f3c(0x1ee)]][_0x286f3c(0x26c)]?parseInt(coachProfiles[_0x21733d[_0x286f3c(0x1ee)]][_0x286f3c(0x26c)]):0x18;if(_0x5999ba===0x0||_0x52bc03>=_0x5999ba)_0x25244a[_0x286f3c(0x26e)][_0x286f3c(0x1b5)]=_0x286f3c(0x271),_0x1b2ef0[_0x286f3c(0x26e)]['display']=_0x286f3c(0x271),_0xd73c04['style'][_0x286f3c(0x1b5)]=_0x286f3c(0x1ff);else{_0x25244a[_0x286f3c(0x26e)]['display']=_0x286f3c(0x1ff),_0x1b2ef0[_0x286f3c(0x26e)]['display']='none',_0xd73c04[_0x286f3c(0x26e)]['display']=_0x286f3c(0x271);let _0x339383=_0x5999ba===0x0?_0x286f3c(0x1e2):_0x286f3c(0x265)+_0x5999ba+_0x286f3c(0x28a);_0xd73c04['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x339383+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x286f3c(0x280)]('overlay')[_0x286f3c(0x1ed)][_0x286f3c(0x261)]('active'),document[_0x286f3c(0x280)](_0x286f3c(0x254))[_0x286f3c(0x1ed)]['add']('open');}function a3_0x16c8(_0x1163d7,_0x22fa59){_0x1163d7=_0x1163d7-0x19f;const _0x466d30=a3_0x28c9();let _0x2a5ea4=_0x466d30[_0x1163d7];return _0x2a5ea4;}function closeAllSheets(){const _0x5c8faf=a3_0x7eec22;document[_0x5c8faf(0x280)]('overlay')[_0x5c8faf(0x1ed)][_0x5c8faf(0x21e)](_0x5c8faf(0x206)),document[_0x5c8faf(0x288)](_0x5c8faf(0x1af))[_0x5c8faf(0x284)](_0x968b6f=>_0x968b6f[_0x5c8faf(0x1ed)]['remove']('open'));}function openSheet(_0x54e615){const _0x462cb7=a3_0x7eec22;document[_0x462cb7(0x280)](_0x462cb7(0x1e8))[_0x462cb7(0x1ed)]['add'](_0x462cb7(0x206)),document[_0x462cb7(0x280)](_0x54e615)[_0x462cb7(0x1ed)]['add'](_0x462cb7(0x202));}function getLocalDateStr(_0x3d68cd){const _0x2e8dfe=a3_0x7eec22,_0x5ad60e=_0x3d68cd[_0x2e8dfe(0x1a4)](),_0x56beb1=String(_0x3d68cd['getMonth']()+0x1)[_0x2e8dfe(0x24d)](0x2,'0'),_0x36c0ac=String(_0x3d68cd[_0x2e8dfe(0x222)]())[_0x2e8dfe(0x24d)](0x2,'0');return _0x5ad60e+'-'+_0x56beb1+'-'+_0x36c0ac;}function getStartOfWeek(_0xcb2804){const _0x5daaa7=a3_0x7eec22,_0xf2fc3b=new Date(_0xcb2804),_0x5b599b=_0xf2fc3b[_0x5daaa7(0x1e9)](),_0x4f3e65=_0xf2fc3b[_0x5daaa7(0x222)]()-_0x5b599b+(_0x5b599b===0x0?-0x6:0x1);return _0xf2fc3b['setDate'](_0x4f3e65),_0xf2fc3b[_0x5daaa7(0x1f9)](0x0,0x0,0x0,0x0),_0xf2fc3b;}function scrollToToday(){const _0x1c3c07=getLocalDateStr(new Date());setTimeout(()=>{const _0x4331b5=a3_0x16c8,_0x1e8350=document[_0x4331b5(0x29c)]('.day-col-header[data-date=\x22'+_0x1c3c07+'\x22]');if(_0x1e8350){const _0x401e9=document[_0x4331b5(0x280)](_0x4331b5(0x1e4)),_0x4c81dd=_0x1e8350['offsetLeft']-_0x401e9[_0x4331b5(0x1e7)]/0x2+_0x1e8350[_0x4331b5(0x1cf)]/0x2;_0x401e9[_0x4331b5(0x27e)]({'left':_0x4c81dd,'behavior':'auto'}),_0x401e9[_0x4331b5(0x1ec)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x281780=a3_0x7eec22,_0x4da97a=new Date(),_0x3c631c=document[_0x281780(0x280)](_0x281780(0x27f)),_0x995038=document[_0x281780(0x280)](_0x281780(0x258)),_0x33ba9b=(_0x4da97a[_0x281780(0x1da)]()*0x3c+_0x4da97a[_0x281780(0x297)]())/0x3c*GRID_H;_0x3c631c[_0x281780(0x26e)][_0x281780(0x243)]=_0x33ba9b+'px',_0x3c631c['style'][_0x281780(0x1b5)]='block',_0x995038[_0x281780(0x26e)]['top']=_0x33ba9b+'px',_0x995038[_0x281780(0x26e)][_0x281780(0x1b5)]=_0x281780(0x271),_0x995038[_0x281780(0x25c)]=String(_0x4da97a['getHours']())[_0x281780(0x24d)](0x2,'0')+':'+String(_0x4da97a[_0x281780(0x297)]())[_0x281780(0x24d)](0x2,'0');}function onScroll(){const _0x5d4a9e=a3_0x7eec22,_0x1d7571=document['getElementById']('matrixViewport'),_0x2ea64b=document['querySelectorAll'](_0x5d4a9e(0x1be));for(let _0xc151f7 of _0x2ea64b)if(_0xc151f7[_0x5d4a9e(0x274)]>=_0x1d7571['scrollLeft']){const _0x5107e0=new Date(_0xc151f7['getAttribute'](_0x5d4a9e(0x22f)));document[_0x5d4a9e(0x280)](_0x5d4a9e(0x23f))[_0x5d4a9e(0x25c)]=_0x5107e0[_0x5d4a9e(0x28b)]('ru',{'month':'long'})[_0x5d4a9e(0x229)]()+'\x20'+_0x5107e0[_0x5d4a9e(0x1a4)]();break;}}function showToast(_0x565303){const _0x344616=a3_0x7eec22,_0x582d6d=document[_0x344616(0x280)]('toast');_0x582d6d[_0x344616(0x25c)]=_0x565303,_0x582d6d[_0x344616(0x1ed)]['add'](_0x344616(0x278)),setTimeout(()=>_0x582d6d['classList'][_0x344616(0x21e)](_0x344616(0x278)),0x7d0);}function handleInfiniteScroll(){const _0x131ac0=a3_0x7eec22,_0x430833=document['getElementById']('matrixViewport'),_0x11e2d1=_0x430833[_0x131ac0(0x22b)],_0x5f3c54=_0x430833[_0x131ac0(0x259)],_0xe16b97=_0x430833[_0x131ac0(0x1e7)];if(_0x5f3c54-(_0x11e2d1+_0xe16b97)<0x12c){const _0x1f5bfa=endOffset;endOffset+=0xe,renderDayRange(_0x1f5bfa+0x1,endOffset),reRenderBlocks();}if(_0x11e2d1<0x12c){const _0x11c293=startOffset;startOffset-=0xe,prependDays(startOffset,_0x11c293-0x1),_0x430833[_0x131ac0(0x22b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x16414f,_0x876c7a){const _0x2a07ee=a3_0x7eec22,_0x2e45f1=document[_0x2a07ee(0x280)](_0x2a07ee(0x1d6)),_0x32997e=document[_0x2a07ee(0x280)](_0x2a07ee(0x25e)),_0x40014d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d0f81=new Date();_0x2d0f81[_0x2a07ee(0x1f9)](0x0,0x0,0x0,0x0);const _0x4ed66b=getLocalDateStr(new Date()),_0x5cd80e=document[_0x2a07ee(0x25f)](),_0x1fd1e5=document['createDocumentFragment']();for(let _0x58a98a=_0x16414f;_0x58a98a<=_0x876c7a;_0x58a98a++){const _0x1cf48f=new Date(_0x2d0f81);_0x1cf48f[_0x2a07ee(0x25a)](_0x1cf48f[_0x2a07ee(0x222)]()+_0x58a98a);const _0x4be786=getLocalDateStr(_0x1cf48f);let _0x282ce2=_0x1cf48f[_0x2a07ee(0x1e9)]()-0x1;if(_0x282ce2===-0x1)_0x282ce2=0x6;const _0x1aea27=_0x4be786===_0x4ed66b,_0x495546=document[_0x2a07ee(0x1c3)](_0x2a07ee(0x2a2));_0x495546['className']='day-col-header\x20'+(_0x1aea27?_0x2a07ee(0x287):''),_0x495546[_0x2a07ee(0x264)]('data-date',_0x4be786),_0x495546['innerHTML']=_0x2a07ee(0x1e1)+_0x40014d[_0x282ce2]+_0x2a07ee(0x262)+_0x1cf48f['getDate']()+_0x2a07ee(0x203),_0x5cd80e[_0x2a07ee(0x29a)](_0x495546);const _0x38f9d5=document['createElement'](_0x2a07ee(0x2a2));_0x38f9d5[_0x2a07ee(0x238)]=_0x2a07ee(0x224)+(_0x1aea27?_0x2a07ee(0x287):''),_0x38f9d5[_0x2a07ee(0x264)](_0x2a07ee(0x22f),_0x4be786),_0x38f9d5['setAttribute']('data-day-idx',_0x282ce2),_0x1fd1e5[_0x2a07ee(0x29a)](_0x38f9d5);}_0x2e45f1['insertBefore'](_0x5cd80e,_0x2e45f1[_0x2a07ee(0x1db)]),_0x32997e[_0x2a07ee(0x213)](_0x1fd1e5,_0x32997e['querySelector'](_0x2a07ee(0x275)));}function hexToRgba(_0x8eed82,_0x8c0f31){const _0x150489=a3_0x7eec22;let _0x198848;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x150489(0x201)](_0x8eed82))return _0x198848=_0x8eed82[_0x150489(0x1f2)](0x1)[_0x150489(0x27a)](''),_0x198848[_0x150489(0x1d7)]==0x3&&(_0x198848=[_0x198848[0x0],_0x198848[0x0],_0x198848[0x1],_0x198848[0x1],_0x198848[0x2],_0x198848[0x2]]),_0x198848='0x'+_0x198848[_0x150489(0x28e)](''),_0x150489(0x272)+[_0x198848>>0x10&0xff,_0x198848>>0x8&0xff,_0x198848&0xff][_0x150489(0x28e)](',')+','+_0x8c0f31+')';return _0x150489(0x270)+_0x8c0f31+')';}let confirmResolver=null;function showCustomConfirm(_0x5aea23,_0x30a32f,_0x25df34=!![]){const _0x345472=a3_0x7eec22;document[_0x345472(0x280)]('ccTitle')['textContent']=_0x5aea23,document['getElementById'](_0x345472(0x1f8))[_0x345472(0x25c)]=_0x30a32f;const _0x2f9a4b=document[_0x345472(0x280)]('ccYesBtn');return _0x25df34?(_0x2f9a4b[_0x345472(0x26e)][_0x345472(0x228)]=_0x345472(0x29e),_0x2f9a4b[_0x345472(0x26e)][_0x345472(0x268)]=_0x345472(0x285)):(_0x2f9a4b[_0x345472(0x26e)]['color']='#0a84ff',_0x2f9a4b[_0x345472(0x26e)][_0x345472(0x268)]='600'),new Promise(_0x33c367=>{const _0x114aa0=_0x345472;confirmResolver=_0x33c367,document[_0x114aa0(0x280)](_0x114aa0(0x1ad))[_0x114aa0(0x1ed)][_0x114aa0(0x261)]('visible');});}function resolveCustomConfirm(_0x30a9a5){const _0x5bdb1b=a3_0x7eec22;document['getElementById'](_0x5bdb1b(0x1ad))['classList'][_0x5bdb1b(0x21e)](_0x5bdb1b(0x21f));if(confirmResolver)confirmResolver(_0x30a9a5);}async function tryCancelCurrentSession(){const _0x4d65c4=a3_0x7eec22;if(!currentSession)return;const _0x44d9b3=await showCustomConfirm(_0x4d65c4(0x1fc),_0x4d65c4(0x25d),!![]);if(!_0x44d9b3)return;const _0x52e3df=currentSession;closeAllSheets(),sessions=sessions[_0x4d65c4(0x209)](_0x40d524=>_0x40d524['id']!==_0x52e3df['id']),reRenderBlocks(),showToast(_0x4d65c4(0x251)),lastUserActionTime=Date[_0x4d65c4(0x293)]();try{const _0x62d112=window[_0x4d65c4(0x226)]?.[_0x4d65c4(0x1c6)],_0x6d4e4=await fetch(API_URL,{'method':_0x4d65c4(0x24b),'body':JSON[_0x4d65c4(0x204)]({'action':_0x4d65c4(0x1d2),'init_data':_0x62d112?.[_0x4d65c4(0x245)]||'','coachId':_0x52e3df['coachId'],'dateStr':_0x52e3df[_0x4d65c4(0x23c)],'sessionId':_0x52e3df['id']})});if(_0x6d4e4['ok'])DataManager[_0x4d65c4(0x266)]();}catch(_0x1c9e8e){showToast(_0x4d65c4(0x1ce));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3372b2=a3_0x7eec22;if(!currentSession)return;document[_0x3372b2(0x280)](_0x3372b2(0x254))[_0x3372b2(0x1ed)]['remove'](_0x3372b2(0x202)),document[_0x3372b2(0x280)](_0x3372b2(0x1a8))['classList'][_0x3372b2(0x261)]('open');const _0x5250a4=document[_0x3372b2(0x280)]('rsDatesTrack'),_0x1f4d01=document[_0x3372b2(0x280)]('rsSlotsGrid');_0x5250a4[_0x3372b2(0x1d5)]='',_0x1f4d01[_0x3372b2(0x1d5)]=_0x3372b2(0x241);const [_0x3ab04b,_0x4fb3cc]=currentSession[_0x3372b2(0x1fe)]['split'](':')[_0x3372b2(0x1ab)](Number),[_0x193cb0,_0x464108]=currentSession['end'][_0x3372b2(0x27a)](':')[_0x3372b2(0x1ab)](Number),_0x4f4945=_0x193cb0*0x3c+_0x464108-(_0x3ab04b*0x3c+_0x4fb3cc);try{const _0x28fc75=window[_0x3372b2(0x226)]?.[_0x3372b2(0x1c6)],_0x468ee0=await fetch(API_URL,{'method':_0x3372b2(0x24b),'body':JSON[_0x3372b2(0x204)]({'action':_0x3372b2(0x1c0),'coachId':currentSession[_0x3372b2(0x1ee)],'duration':_0x4f4945,'init_data':_0x28fc75?.[_0x3372b2(0x245)]||'','excludeSessionId':currentSession['id']})}),_0x4fc1ce=await _0x468ee0[_0x3372b2(0x25b)]();_0x4fc1ce['ok']&&_0x4fc1ce['data']?(availableSlotsCache=_0x4fc1ce[_0x3372b2(0x231)],renderRescheduleDates()):_0x1f4d01[_0x3372b2(0x1d5)]=_0x3372b2(0x263);}catch(_0x3c531a){_0x1f4d01[_0x3372b2(0x1d5)]=_0x3372b2(0x227);}}function renderRescheduleDates(){const _0x2f641d=a3_0x7eec22,_0x1435cd=document[_0x2f641d(0x280)](_0x2f641d(0x208));_0x1435cd[_0x2f641d(0x1d5)]='';const _0x260bb3=Object['keys'](availableSlotsCache)['sort'](),_0x513fa1=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x260bb3[_0x2f641d(0x1d7)]===0x0){document[_0x2f641d(0x280)]('rsSlotsGrid')[_0x2f641d(0x1d5)]=_0x2f641d(0x1c8);return;}_0x260bb3[_0x2f641d(0x284)]((_0x5b302c,_0x135303)=>{const _0x4d9bdc=_0x2f641d,_0x1316ca=new Date(_0x5b302c),_0x587660=_0x513fa1[_0x1316ca[_0x4d9bdc(0x1e9)]()],_0x504430=_0x1316ca[_0x4d9bdc(0x222)](),_0x15cc26=document[_0x4d9bdc(0x1c3)]('div');_0x15cc26[_0x4d9bdc(0x238)]=_0x4d9bdc(0x1cb);if(_0x135303===0x0)_0x15cc26['classList'][_0x4d9bdc(0x261)]('active');_0x15cc26['innerHTML']=_0x4d9bdc(0x29b)+_0x587660+'</div><div\x20class=\x22rs-day-num\x22>'+_0x504430+_0x4d9bdc(0x203),_0x15cc26[_0x4d9bdc(0x20c)]=()=>selectRsDate(_0x5b302c,_0x15cc26),_0x1435cd[_0x4d9bdc(0x29a)](_0x15cc26);}),selectRsDate(_0x260bb3[0x0],_0x1435cd[_0x2f641d(0x1db)]);}function selectRsDate(_0x3510de,_0x417021){const _0x39044e=a3_0x7eec22;selectedRsDate=_0x3510de,document['querySelectorAll'](_0x39044e(0x279))['forEach'](_0x31fc1c=>_0x31fc1c[_0x39044e(0x1ed)][_0x39044e(0x21e)](_0x39044e(0x206)));if(_0x417021)_0x417021['classList'][_0x39044e(0x261)](_0x39044e(0x206));const _0x3447ab=document[_0x39044e(0x280)](_0x39044e(0x1bc));_0x3447ab['innerHTML']='';const _0x520654=availableSlotsCache[_0x3510de]||[];if(_0x520654[_0x39044e(0x1d7)]===0x0){_0x3447ab[_0x39044e(0x1d5)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x520654[_0x39044e(0x284)](_0x23733e=>{const _0x304d06=_0x39044e,_0x6e107a=document[_0x304d06(0x1c3)](_0x304d06(0x1f3));_0x6e107a[_0x304d06(0x238)]='rs-time-btn',_0x6e107a['textContent']=_0x23733e,_0x6e107a[_0x304d06(0x20c)]=()=>confirmReschedule(_0x23733e),_0x3447ab[_0x304d06(0x29a)](_0x6e107a);});}async function confirmReschedule(_0x1e3b16){const _0xeff0c7=a3_0x7eec22,_0x4f32ab=new Date(selectedRsDate),_0x1eb037=_0x4f32ab[_0xeff0c7(0x1dd)](_0xeff0c7(0x1a6),{'day':_0xeff0c7(0x1eb),'month':_0xeff0c7(0x26a)}),_0x4b5662=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0xeff0c7(0x281)+_0x1eb037+_0xeff0c7(0x256)+_0x1e3b16+'?',![]);if(!_0x4b5662)return;closeAllSheets(),showToast(_0xeff0c7(0x276)),lastUserActionTime=Date[_0xeff0c7(0x293)]();const _0x5da781=currentSession['dateStr'],_0x6e402a=currentSession['id'],[_0x58891e,_0x277ac0]=currentSession[_0xeff0c7(0x1fe)]['split'](':')[_0xeff0c7(0x1ab)](Number),[_0x1587ca,_0x3bfbef]=currentSession[_0xeff0c7(0x290)]['split'](':')['map'](Number),_0x2ab6c9=_0x1587ca*0x3c+_0x3bfbef-(_0x58891e*0x3c+_0x277ac0),[_0x344614,_0x148943]=_0x1e3b16[_0xeff0c7(0x27a)](':')['map'](Number),_0x1b0e54=_0x344614*0x3c+_0x148943+_0x2ab6c9,_0x58c7d4=Math['floor'](_0x1b0e54/0x3c),_0x19a57e=_0x1b0e54%0x3c,_0x4d0a28=String(_0x58c7d4)[_0xeff0c7(0x24d)](0x2,'0')+':'+String(_0x19a57e)[_0xeff0c7(0x24d)](0x2,'0'),_0x1d9808=sessions[_0xeff0c7(0x292)](_0x5dc74c=>_0x5dc74c['id']===_0x6e402a);_0x1d9808!==-0x1&&(sessions[_0x1d9808]['dateStr']=selectedRsDate,sessions[_0x1d9808][_0xeff0c7(0x1fe)]=_0x1e3b16,sessions[_0x1d9808][_0xeff0c7(0x290)]=_0x4d0a28,reRenderBlocks());try{const _0x239b7e=window['Telegram']?.[_0xeff0c7(0x1c6)],_0x4afdc0=await fetch(API_URL,{'method':_0xeff0c7(0x24b),'body':JSON[_0xeff0c7(0x204)]({'action':_0xeff0c7(0x26d),'init_data':_0x239b7e?.[_0xeff0c7(0x245)]||'','oldSessionId':_0x6e402a,'oldDate':_0x5da781,'newDate':selectedRsDate,'newTime':_0x1e3b16,'coachId':currentSession[_0xeff0c7(0x1ee)]})}),_0x2ebf9b=await _0x4afdc0[_0xeff0c7(0x25b)]();!_0x2ebf9b['ok']?(showToast(_0xeff0c7(0x237)),DataManager[_0xeff0c7(0x2a1)]()):(showToast(_0xeff0c7(0x2a4)),DataManager['saveLocally']());}catch(_0x137bc7){showToast(_0xeff0c7(0x1ce));}}document[a3_0x7eec22(0x255)](a3_0x7eec22(0x21b),init);