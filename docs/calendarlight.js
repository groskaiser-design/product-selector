const a3_0x3ca4b3=a3_0x76d8;(function(_0x3be3df,_0x138558){const _0x353c70=a3_0x76d8,_0x4c4903=_0x3be3df();while(!![]){try{const _0x1d6a8f=parseInt(_0x353c70(0x136))/0x1*(parseInt(_0x353c70(0x14e))/0x2)+-parseInt(_0x353c70(0xec))/0x3+-parseInt(_0x353c70(0x1d0))/0x4+-parseInt(_0x353c70(0xe9))/0x5*(-parseInt(_0x353c70(0xfd))/0x6)+parseInt(_0x353c70(0x1cf))/0x7+-parseInt(_0x353c70(0x129))/0x8*(-parseInt(_0x353c70(0x16e))/0x9)+-parseInt(_0x353c70(0x134))/0xa;if(_0x1d6a8f===_0x138558)break;else _0x4c4903['push'](_0x4c4903['shift']());}catch(_0x7627ed){_0x4c4903['push'](_0x4c4903['shift']());}}}(a3_0x447d,0x7fd0c));const APP_VERSION=a3_0x3ca4b3(0x1c4),API_URL=a3_0x3ca4b3(0x141),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x3ca4b3(0x172),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3ca4b3(0x1be),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x242606=a3_0x3ca4b3,_0x34f73c=(function(){let _0x28df5f=!![];return function(_0x407279,_0x495f15){const _0x2c4e72=_0x28df5f?function(){if(_0x495f15){const _0x805c13=_0x495f15['apply'](_0x407279,arguments);return _0x495f15=null,_0x805c13;}}:function(){};return _0x28df5f=![],_0x2c4e72;};}()),_0x2e8f5f=_0x34f73c(this,function(){const _0x29f5bf=a3_0x76d8;return _0x2e8f5f[_0x29f5bf(0x144)]()[_0x29f5bf(0x19b)]('(((.+)+)+)+$')[_0x29f5bf(0x144)]()[_0x29f5bf(0x126)](_0x2e8f5f)['search'](_0x29f5bf(0x14c));});_0x2e8f5f();try{const _0x4a8d13=window[_0x242606(0x1b8)]?.['WebApp'];if(!_0x4a8d13)return;_0x4a8d13[_0x242606(0x113)](),_0x4a8d13[_0x242606(0x153)]();try{_0x4a8d13['setHeaderColor'](_0x242606(0x12c)),_0x4a8d13[_0x242606(0x120)]&&_0x4a8d13[_0x242606(0x120)](_0x242606(0x12c));}catch(_0x58eb74){console[_0x242606(0x1c1)](_0x242606(0x186),_0x58eb74);}try{_0x4a8d13[_0x242606(0x1bc)]&&(_0x4a8d13[_0x242606(0x1bc)][_0x242606(0x176)](),_0x4a8d13[_0x242606(0x1bc)][_0x242606(0xfb)](),_0x4a8d13['BackButton']['onClick'](function(){const _0x5e926e=_0x242606;window['location'][_0x5e926e(0x16a)]=_0x5e926e(0x1b2);}));}catch(_0x10b93f){console[_0x242606(0x1c1)](_0x242606(0x1ca),_0x10b93f);}try{if(_0x4a8d13[_0x242606(0x152)])_0x4a8d13[_0x242606(0x152)]();}catch(_0x3f6cb1){}}catch(_0x5667cc){console[_0x242606(0x13a)](_0x242606(0x164),_0x5667cc);}}());function isAdmin(){const _0x44b408=a3_0x3ca4b3;try{const _0x2752d3=Number(window[_0x44b408(0x1b8)]?.[_0x44b408(0x192)]?.[_0x44b408(0x137)]?.['user']?.['id']);return _0x2752d3===0xbaf7174;}catch(_0x4e9255){return![];}}const DataManager={'saveLocally'(){const _0x108c40=a3_0x3ca4b3;try{localStorage[_0x108c40(0x17c)](KEY_SESSIONS,JSON[_0x108c40(0x162)](sessions)),localStorage[_0x108c40(0x17c)](KEY_CLIENTS,JSON[_0x108c40(0x162)](clients)),localStorage[_0x108c40(0x17c)](KEY_SETTINGS,JSON[_0x108c40(0x162)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x37773d){}},'loadLocal'(){const _0x4bf41f=a3_0x3ca4b3;try{const _0x345c7e=localStorage[_0x4bf41f(0x198)](KEY_SESSIONS);if(_0x345c7e)sessions=JSON[_0x4bf41f(0xe3)](_0x345c7e);const _0x5c88ae=localStorage['getItem'](KEY_CLIENTS);if(_0x5c88ae)clients=JSON[_0x4bf41f(0xe3)](_0x5c88ae);const _0x3e4718=localStorage[_0x4bf41f(0x198)](KEY_SETTINGS);if(_0x3e4718){const _0x338515=JSON['parse'](_0x3e4718);if(_0x338515[_0x4bf41f(0xe5)])availabilityPattern=_0x338515[_0x4bf41f(0xe5)];if(_0x338515['ranges'])specialRanges=_0x338515['ranges'];if(_0x338515[_0x4bf41f(0x1b5)])dateExceptions=_0x338515[_0x4bf41f(0x1b5)];}}catch(_0x132f9d){}},async 'syncLoad'(){const _0x7f23b3=a3_0x3ca4b3,_0xc09642=new Date(),_0x31a8da=_0xc09642[_0x7f23b3(0x108)]()+'-'+String(_0xc09642[_0x7f23b3(0x105)]()+0x1)[_0x7f23b3(0xf9)](0x2,'0'),_0x2067b8=new Date(_0xc09642);_0x2067b8[_0x7f23b3(0x1d4)](_0xc09642[_0x7f23b3(0x105)]()+0x1);const _0x20ed6a=_0x2067b8[_0x7f23b3(0x108)]()+'-'+String(_0x2067b8['getMonth']()+0x1)[_0x7f23b3(0xf9)](0x2,'0'),_0x5c8b28=Date[_0x7f23b3(0x169)]();try{const _0x1c9199=window[_0x7f23b3(0x1b8)]?.['WebApp'],_0x5179dd=_0x1c9199?.[_0x7f23b3(0x174)]||'',[_0x2ea613,_0x382b5c]=await Promise[_0x7f23b3(0x11e)]([fetch(API_URL,{'method':_0x7f23b3(0xed),'body':JSON['stringify']({'action':_0x7f23b3(0x178),'init_data':_0x5179dd,'month_str':_0x31a8da})})[_0x7f23b3(0x189)](_0x3f5639=>_0x3f5639[_0x7f23b3(0x193)]()),fetch(API_URL,{'method':_0x7f23b3(0xed),'body':JSON[_0x7f23b3(0x162)]({'action':'client_load','init_data':_0x5179dd,'month_str':_0x20ed6a})})[_0x7f23b3(0x189)](_0x37dcf9=>_0x37dcf9[_0x7f23b3(0x193)]())]);if(lastUserActionTime>_0x5c8b28){console[_0x7f23b3(0x1c1)](_0x7f23b3(0x195));return;}if(_0x2ea613['ok'])this[_0x7f23b3(0xf8)](_0x2ea613[_0x7f23b3(0x133)],_0x31a8da);if(_0x382b5c['ok'])this[_0x7f23b3(0xf8)](_0x382b5c[_0x7f23b3(0x133)],_0x20ed6a);this[_0x7f23b3(0x16b)]();}catch(_0x215861){}},'applyData'(_0x5e5d09,_0x4f46f3){const _0x3f7bc9=a3_0x3ca4b3;if(!_0x5e5d09)return;if(_0x5e5d09[_0x3f7bc9(0x119)]){if(_0x5e5d09[_0x3f7bc9(0x119)][_0x3f7bc9(0xe5)])availabilityPattern=_0x5e5d09['settings'][_0x3f7bc9(0xe5)];if(_0x5e5d09[_0x3f7bc9(0x119)]['ranges'])specialRanges=_0x5e5d09[_0x3f7bc9(0x119)]['ranges'];if(_0x5e5d09[_0x3f7bc9(0x119)][_0x3f7bc9(0x1b5)])dateExceptions=_0x5e5d09['settings'][_0x3f7bc9(0x1b5)];}if(_0x5e5d09[_0x3f7bc9(0x1ac)]&&Array[_0x3f7bc9(0x1c8)](_0x5e5d09[_0x3f7bc9(0x1ac)]))clients=_0x5e5d09[_0x3f7bc9(0x1ac)];_0x5e5d09[_0x3f7bc9(0x1cb)]&&(coachProfiles={...coachProfiles,..._0x5e5d09[_0x3f7bc9(0x1cb)]}),_0x5e5d09[_0x3f7bc9(0x165)]&&(sessions=sessions[_0x3f7bc9(0x150)](_0x1bd46d=>!_0x1bd46d['dateStr'][_0x3f7bc9(0x16f)](_0x4f46f3)),Object[_0x3f7bc9(0x15e)](_0x5e5d09['calendar'])[_0x3f7bc9(0xff)](_0x28c7be=>{const _0x5b4cbb=_0x3f7bc9,_0x2ea5c2=_0x5e5d09[_0x5b4cbb(0x165)][_0x28c7be];_0x2ea5c2['forEach'](_0x381907=>{const _0x117d57=_0x5b4cbb;sessions[_0x117d57(0x1ce)]({'id':_0x381907['i'],'clientId':_0x381907['c'],'coachId':_0x381907['cid'],'dateStr':_0x4f46f3+'-'+_0x28c7be['padStart'](0x2,'0'),'start':_0x381907['s'],'end':_0x381907['e'],'note':_0x381907['n']||'','status':_0x381907['st']||'planned','seriesId':_0x381907[_0x117d57(0x17e)]});});})),reRenderBlocks();}};function init(){const _0x2c78f7=a3_0x3ca4b3;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2c78f7(0xe8)](_0x2c78f7(0x10b))[_0x2c78f7(0x171)](_0x2c78f7(0x1a3),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2c78f7(0x1a7)]();}function renderTimeColumn(){const _0x4caab1=a3_0x3ca4b3,_0x2301bf=document['getElementById'](_0x4caab1(0x18f)),_0x5b8d65=document[_0x4caab1(0xe8)](_0x4caab1(0x188));_0x2301bf[_0x4caab1(0x111)]='',_0x2301bf[_0x4caab1(0x14d)](_0x5b8d65);for(let _0x1de597=0x0;_0x1de597<0x18;_0x1de597++){const _0x28bf19=document[_0x4caab1(0x1b1)](_0x4caab1(0x17a));_0x28bf19[_0x4caab1(0x1a0)]=_0x4caab1(0x123);if(_0x1de597>0x0)_0x28bf19[_0x4caab1(0x111)]=_0x4caab1(0x12e)+String(_0x1de597)[_0x4caab1(0xf9)](0x2,'0')+_0x4caab1(0x163);_0x2301bf['appendChild'](_0x28bf19);}}function renderDayRange(_0x3a40e0,_0x28f40f){const _0x4ead1f=a3_0x3ca4b3,_0xabf48e=document[_0x4ead1f(0xe8)](_0x4ead1f(0x194)),_0x468934=document[_0x4ead1f(0xe8)](_0x4ead1f(0xfa)),_0x32fba5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1556b7=new Date();_0x1556b7[_0x4ead1f(0x1c5)](0x0,0x0,0x0,0x0);const _0x3d2b08=getLocalDateStr(new Date());for(let _0x9501dd=_0x3a40e0;_0x9501dd<=_0x28f40f;_0x9501dd++){const _0x252ab0=new Date(_0x1556b7);_0x252ab0[_0x4ead1f(0x14a)](_0x252ab0[_0x4ead1f(0xfe)]()+_0x9501dd);const _0x5dbb94=getLocalDateStr(_0x252ab0);let _0x11b8bb=_0x252ab0[_0x4ead1f(0x147)]()-0x1;if(_0x11b8bb===-0x1)_0x11b8bb=0x6;const _0x18c8e1=_0x5dbb94===_0x3d2b08,_0x2ad6f2=document[_0x4ead1f(0x1b1)]('div');_0x2ad6f2[_0x4ead1f(0x1a0)]=_0x4ead1f(0x116)+(_0x18c8e1?_0x4ead1f(0x1bb):''),_0x2ad6f2['setAttribute'](_0x4ead1f(0x18b),_0x5dbb94),_0x2ad6f2[_0x4ead1f(0x111)]='<div\x20class=\x22dch-day\x22>'+_0x32fba5[_0x11b8bb]+_0x4ead1f(0x11f)+_0x252ab0[_0x4ead1f(0xfe)]()+_0x4ead1f(0xf4),_0xabf48e['appendChild'](_0x2ad6f2);const _0x2e8887=document[_0x4ead1f(0x1b1)](_0x4ead1f(0x17a));_0x2e8887[_0x4ead1f(0x1a0)]=_0x4ead1f(0xe2)+(_0x18c8e1?'today':''),_0x2e8887[_0x4ead1f(0x184)](_0x4ead1f(0x18b),_0x5dbb94),_0x2e8887[_0x4ead1f(0x184)]('data-day-idx',_0x11b8bb),_0x468934[_0x4ead1f(0x14d)](_0x2e8887);}}function reRenderBlocks(){const _0x13622a=a3_0x3ca4b3;document[_0x13622a(0xf6)](_0x13622a(0x14b))[_0x13622a(0xff)](_0x5b421d=>{const _0x512845=_0x13622a;_0x5b421d['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x123c01=>_0x123c01[_0x512845(0x1c3)]());const _0x20c58e=_0x5b421d[_0x512845(0xf5)]('data-date'),_0x3b9af5=parseInt(_0x5b421d['getAttribute']('data-day-idx')),_0x160737=Math[_0x512845(0x177)](_0x5b421d['offsetLeft']);(availabilityPattern[_0x3b9af5]||[])[_0x512845(0xff)](_0x28e77d=>{const _0x42f804=_0x512845,_0x34f9cf=document[_0x42f804(0x1b1)](_0x42f804(0x17a));_0x34f9cf[_0x42f804(0x1a0)]='blocked-slot\x20stripe-bg',_0x34f9cf['style']['top']=_0x28e77d*GRID_H+'px',_0x34f9cf['style'][_0x42f804(0x1c0)]='-'+_0x160737+_0x42f804(0x1a4)+_0x28e77d*GRID_H+'px',_0x5b421d[_0x42f804(0x14d)](_0x34f9cf);});if(specialRanges[_0x512845(0x1b6)]>0x0){const _0x4b4630=new Date(_0x20c58e+'T00:00:00')['getTime'](),_0x10ed10=new Date(_0x20c58e+_0x512845(0x156))[_0x512845(0x151)]();specialRanges[_0x512845(0xff)](_0x58dff0=>{const _0x16261d=_0x512845,_0x5f5919=new Date(_0x58dff0[_0x16261d(0x180)])[_0x16261d(0x151)](),_0x495217=new Date(_0x58dff0[_0x16261d(0x135)])[_0x16261d(0x151)](),_0x103db2=Math[_0x16261d(0x15c)](_0x4b4630,_0x5f5919),_0x1f57fa=Math[_0x16261d(0x1af)](_0x10ed10,_0x495217);if(_0x103db2<_0x1f57fa){const _0x177e5b=(_0x103db2-_0x4b4630)/0x36ee80*GRID_H,_0x6695fa=(_0x1f57fa-_0x103db2)/0x36ee80*GRID_H,_0x17c9d9=document[_0x16261d(0x1b1)](_0x16261d(0x17a));_0x6695fa>=23.5*GRID_H?(_0x17c9d9['className']=_0x16261d(0x1ba),_0x17c9d9['style'][_0x16261d(0x1c0)]='-'+_0x160737+'px\x200px'):(_0x17c9d9['className']=_0x16261d(0x170),_0x17c9d9[_0x16261d(0x179)][_0x16261d(0xde)]=_0x177e5b+'px',_0x17c9d9[_0x16261d(0x179)][_0x16261d(0x1cc)]=_0x6695fa+'px',_0x17c9d9[_0x16261d(0x179)][_0x16261d(0x1c0)]='-'+_0x160737+_0x16261d(0x1a4)+_0x177e5b+'px'),_0x5b421d[_0x16261d(0x14d)](_0x17c9d9);}});}renderEventsForColumn(_0x5b421d,_0x20c58e);});}function renderEventsForColumn(_0x44d155,_0x35d170){const _0x1ea9b1=a3_0x3ca4b3,_0x2a1c51=sessions[_0x1ea9b1(0x150)](_0xd7147c=>_0xd7147c[_0x1ea9b1(0x19d)]===_0x35d170),_0x34c0eb=_0x2a1c51['map'](_0x557c44=>{const _0x27eb9b=_0x1ea9b1,[_0x1ea026,_0x5159b5]=_0x557c44[_0x27eb9b(0x180)][_0x27eb9b(0x122)](':')[_0x27eb9b(0x12b)](Number),[_0x512074,_0x378656]=_0x557c44['end'][_0x27eb9b(0x122)](':')[_0x27eb9b(0x12b)](Number);return{'data':_0x557c44,'start':_0x1ea026*0x3c+_0x5159b5,'end':_0x512074*0x3c+_0x378656,'colIndex':0x0};});_0x34c0eb[_0x1ea9b1(0x19e)]((_0x39a427,_0x355e99)=>_0x39a427[_0x1ea9b1(0x180)]-_0x355e99['start']||_0x355e99['end']-_0x355e99[_0x1ea9b1(0x180)]-(_0x39a427['end']-_0x39a427[_0x1ea9b1(0x180)]));const _0x36fe7d=[];_0x34c0eb[_0x1ea9b1(0xff)](_0x2a2583=>{const _0x56844e=_0x1ea9b1;let _0x239565=![];for(let _0x37acfc=0x0;_0x37acfc<_0x36fe7d[_0x56844e(0x1b6)];_0x37acfc++){const _0x1c526f=_0x36fe7d[_0x37acfc];if(_0x2a2583[_0x56844e(0x180)]>=_0x1c526f[_0x1c526f[_0x56844e(0x1b6)]-0x1][_0x56844e(0x135)]){_0x1c526f[_0x56844e(0x1ce)](_0x2a2583),_0x2a2583[_0x56844e(0x191)]=_0x37acfc,_0x239565=!![];break;}}!_0x239565&&(_0x36fe7d['push']([_0x2a2583]),_0x2a2583[_0x56844e(0x191)]=_0x36fe7d['length']-0x1);}),_0x34c0eb['forEach'](_0x124272=>{const _0x3acd0f=_0x1ea9b1;let _0x52a0f4=0x0;_0x34c0eb[_0x3acd0f(0xff)](_0x1a5164=>{const _0x56cebb=_0x3acd0f;if(Math[_0x56cebb(0x15c)](_0x124272[_0x56cebb(0x180)],_0x1a5164[_0x56cebb(0x180)])<Math[_0x56cebb(0x1af)](_0x124272[_0x56cebb(0x135)],_0x1a5164[_0x56cebb(0x135)])&&_0x1a5164[_0x56cebb(0x191)]>_0x52a0f4)_0x52a0f4=_0x1a5164[_0x56cebb(0x191)];});const _0x4d6ceb=_0x52a0f4+0x1,_0x4c973f=0x64/_0x4d6ceb,_0x2cd9dd=_0x124272[_0x3acd0f(0x191)]*_0x4c973f,_0x26ac68=document[_0x3acd0f(0x1b1)](_0x3acd0f(0x17a)),_0x292e7f=_0x124272[_0x3acd0f(0x133)];let _0x2603e1=_0x3acd0f(0x1b7);if(clients&&clients[_0x3acd0f(0x1b6)]>0x0){const _0x33f8be=clients[_0x3acd0f(0x127)](_0x504770=>String(_0x504770['id'])===String(_0x292e7f['clientId']));if(_0x33f8be&&_0x33f8be[_0x3acd0f(0x11d)])_0x2603e1=_0x33f8be[_0x3acd0f(0x11d)];}const _0x585dc4=_0x292e7f['status']===_0x3acd0f(0x1aa),_0x21e7ab=_0x585dc4?0x1:0.45;_0x26ac68[_0x3acd0f(0x1a0)]=_0x3acd0f(0x145)+(_0x585dc4?_0x3acd0f(0x1b3):''),_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0x1cd)]=hexToRgba(_0x2603e1,_0x21e7ab),_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0x10e)]=_0x2603e1;const _0x54ac71=_0x124272[_0x3acd0f(0x180)]/0x3c*GRID_H,_0x53bea8=(_0x124272[_0x3acd0f(0x135)]-_0x124272['start'])/0x3c*GRID_H;_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0xde)]=_0x54ac71+'px',_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0x1cc)]=Math[_0x3acd0f(0x15c)](_0x53bea8,0x14)+'px',_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0x1bf)]=_0x3acd0f(0x1b9)+_0x4c973f+_0x3acd0f(0x1a5),_0x26ac68[_0x3acd0f(0x179)][_0x3acd0f(0x12f)]='calc('+_0x2cd9dd+_0x3acd0f(0x118),_0x26ac68['style'][_0x3acd0f(0x1a2)]=0xa+_0x124272[_0x3acd0f(0x191)];if(_0x4c973f<0x55)_0x26ac68['classList']['add'](_0x3acd0f(0x158));let _0x4945f8='';if(_0x292e7f['seriesId'])_0x4945f8+=_0x3acd0f(0x16d);if(_0x585dc4)_0x4945f8+=_0x3acd0f(0x1c9);_0x26ac68['innerHTML']=_0x3acd0f(0x107)+_0x292e7f[_0x3acd0f(0x180)]+'\x20-\x20'+_0x292e7f[_0x3acd0f(0x135)]+_0x3acd0f(0x154)+_0x4945f8+_0x3acd0f(0x13c),_0x26ac68[_0x3acd0f(0x102)]=_0x4bdfe1=>{const _0x3727f4=_0x3acd0f;_0x4bdfe1[_0x3727f4(0x182)](),openDetails(_0x292e7f);},_0x44d155[_0x3acd0f(0x14d)](_0x26ac68);});}function openAnalytics(){const _0x1e46c4=a3_0x3ca4b3,_0x3f86ea=document['querySelector'](_0x1e46c4(0x159));setAnalyticsPeriod('week',_0x3f86ea),openSheet(_0x1e46c4(0x13f));}function setAnalyticsPeriod(_0x761e5c,_0x58200d){const _0x41ce6e=a3_0x3ca4b3;currentAnPeriod=_0x761e5c,document[_0x41ce6e(0xf6)](_0x41ce6e(0x159))[_0x41ce6e(0xff)](_0x364e8d=>_0x364e8d[_0x41ce6e(0x104)][_0x41ce6e(0x1c3)]('active'));if(_0x58200d)_0x58200d[_0x41ce6e(0x104)][_0x41ce6e(0x190)](_0x41ce6e(0x13b));const _0x3faded=document[_0x41ce6e(0xe8)](_0x41ce6e(0x139));_0x3faded[_0x41ce6e(0x179)][_0x41ce6e(0x167)]=_0x761e5c===_0x41ce6e(0x11a)?'flex':_0x41ce6e(0x1b4);const _0x4a91c9=new Date();let _0x161704=new Date(),_0x4935d1=new Date();if(_0x761e5c===_0x41ce6e(0x1be))_0x161704=getStartOfWeek(_0x4a91c9),_0x4935d1=new Date(_0x161704),_0x4935d1[_0x41ce6e(0x14a)](_0x4935d1[_0x41ce6e(0xfe)]()+0x6);else{if(_0x761e5c==='month')_0x161704=new Date(_0x4a91c9[_0x41ce6e(0x108)](),_0x4a91c9[_0x41ce6e(0x105)](),0x1),_0x4935d1=new Date(_0x4a91c9[_0x41ce6e(0x108)](),_0x4a91c9[_0x41ce6e(0x105)]()+0x1,0x0);else{!document['getElementById'](_0x41ce6e(0x125))[_0x41ce6e(0x1c7)]&&(document[_0x41ce6e(0xe8)](_0x41ce6e(0x125))[_0x41ce6e(0x1c7)]=getLocalDateStr(_0x4a91c9),document['getElementById'](_0x41ce6e(0x19c))[_0x41ce6e(0x1c7)]=getLocalDateStr(_0x4a91c9));refreshAnalytics();return;}}document[_0x41ce6e(0xe8)](_0x41ce6e(0x125))['value']=getLocalDateStr(_0x161704),document['getElementById'](_0x41ce6e(0x19c))[_0x41ce6e(0x1c7)]=getLocalDateStr(_0x4935d1),refreshAnalytics();}function refreshAnalytics(){const _0x6aaed8=a3_0x3ca4b3,_0x3f1165=document['getElementById'](_0x6aaed8(0x125))[_0x6aaed8(0x1c7)],_0x5e32be=document[_0x6aaed8(0xe8)](_0x6aaed8(0x19c))[_0x6aaed8(0x1c7)];if(!_0x3f1165||!_0x5e32be)return;const _0x3c2b84=sessions['filter'](_0x53a149=>_0x53a149[_0x6aaed8(0x19d)]>=_0x3f1165&&_0x53a149['dateStr']<=_0x5e32be&&_0x53a149[_0x6aaed8(0x128)]!==_0x6aaed8(0xf1)),_0x16c38d=_0x3c2b84[_0x6aaed8(0x1b6)],_0x2bc9bc=_0x3c2b84[_0x6aaed8(0x150)](_0x21a2a0=>_0x21a2a0[_0x6aaed8(0x128)]==='completed')[_0x6aaed8(0x1b6)],_0x56fb0c=_0x16c38d>0x0?Math[_0x6aaed8(0x177)](_0x2bc9bc/_0x16c38d*0x64):0x0;document[_0x6aaed8(0xe8)]('anPercent')['textContent']=_0x56fb0c+'%',document['getElementById'](_0x6aaed8(0x161))[_0x6aaed8(0x13e)]=_0x2bc9bc+'\x20–∏–∑\x20'+_0x16c38d+_0x6aaed8(0x114);const _0x447f4b=document[_0x6aaed8(0xe8)](_0x6aaed8(0x197)),_0x5d4ee3=0x2*Math['PI']*0x23,_0x1d9def=_0x5d4ee3-_0x56fb0c/0x64*_0x5d4ee3;_0x447f4b[_0x6aaed8(0x179)][_0x6aaed8(0xf2)]=_0x1d9def;const _0x3fd9fb={};_0x3c2b84[_0x6aaed8(0xff)](_0x493ffe=>{const _0x1fa7a3=_0x6aaed8,_0x5621d7=_0x493ffe['coachId']||_0x1fa7a3(0x15b);if(!_0x3fd9fb[_0x5621d7]){const _0x55ca45='#'+_0x5621d7[_0x1fa7a3(0x144)]()[_0x1fa7a3(0x1b0)](0x0,0x6);_0x3fd9fb[_0x5621d7]={'total':0x0,'done':0x0,'color':_0x55ca45};}_0x3fd9fb[_0x5621d7]['total']++;if(_0x493ffe[_0x1fa7a3(0x128)]===_0x1fa7a3(0x1aa))_0x3fd9fb[_0x5621d7]['done']++;});const _0x108248=document[_0x6aaed8(0xe8)]('analyticsList');_0x108248[_0x6aaed8(0x111)]='';const _0x1da3be=Object['entries'](_0x3fd9fb)['sort']((_0x30982a,_0x2f6789)=>_0x2f6789[0x1][_0x6aaed8(0x131)]-_0x30982a[0x1]['total']);if(_0x1da3be[_0x6aaed8(0x1b6)]===0x0){_0x108248[_0x6aaed8(0x111)]=_0x6aaed8(0x112);return;}_0x1da3be[_0x6aaed8(0xff)](([_0x50e801,_0x5cec09])=>{const _0xb011e4=_0x6aaed8,_0x54322d=Math[_0xb011e4(0x177)](_0x5cec09[_0xb011e4(0x196)]/_0x5cec09['total']*0x64),_0x34a155=document[_0xb011e4(0x1b1)]('div');_0x34a155[_0xb011e4(0x1a0)]=_0xb011e4(0x12d),_0x34a155[_0xb011e4(0x179)]['borderLeftColor']=_0x5cec09[_0xb011e4(0x11d)],_0x34a155[_0xb011e4(0x111)]=_0xb011e4(0x121)+_0x50e801['substr'](0x0,0x5)+_0xb011e4(0x17d)+_0x5cec09[_0xb011e4(0x196)]+_0xb011e4(0x15f)+_0x5cec09[_0xb011e4(0x131)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x54322d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x108248['appendChild'](_0x34a155);});}function openDetails(_0x4ee52d){const _0x462479=a3_0x3ca4b3;currentSession=_0x4ee52d;const _0x5b0339=new Date(_0x4ee52d['dateStr']),_0x443804=_0x5b0339[_0x462479(0x130)](_0x462479(0x17f),{'weekday':_0x462479(0x110),'day':_0x462479(0x1d2),'month':_0x462479(0x110)});document[_0x462479(0xe8)]('detDate')[_0x462479(0x13e)]=_0x443804['charAt'](0x0)[_0x462479(0x13d)]()+_0x443804[_0x462479(0xe1)](0x1),document[_0x462479(0xe8)]('detTime')[_0x462479(0x13e)]=_0x4ee52d[_0x462479(0x180)]+_0x462479(0xfc)+_0x4ee52d['end'],document[_0x462479(0xe8)](_0x462479(0x1a8))['textContent']=_0x4ee52d[_0x462479(0x1ad)]||_0x462479(0x101);const _0x33ac2e=document[_0x462479(0xe8)]('detStatus'),_0x2c8595=document[_0x462479(0xe8)]('cancelContainer'),_0x1de4c8=_0x2c8595[_0x462479(0x106)]('.btn-cancel'),_0x5937bb=_0x2c8595['querySelector'](_0x462479(0x115)),_0x316880=document['getElementById'](_0x462479(0x11c));if(_0x4ee52d[_0x462479(0x128)]==='completed')_0x33ac2e[_0x462479(0x13e)]=_0x462479(0x160),_0x33ac2e[_0x462479(0x179)][_0x462479(0x11d)]=_0x462479(0xea),_0x2c8595[_0x462479(0x179)]['display']=_0x462479(0x1b4);else{_0x33ac2e['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x33ac2e[_0x462479(0x179)][_0x462479(0x11d)]=_0x462479(0x148),_0x2c8595[_0x462479(0x179)][_0x462479(0x167)]=_0x462479(0x187);const _0x9c6fb3=new Date(_0x4ee52d[_0x462479(0x19d)]+'T'+_0x4ee52d['start']),_0x269ad4=new Date(),_0x2b1cbf=(_0x9c6fb3-_0x269ad4)/(0x3e8*0x3c*0x3c),_0x33571f=coachProfiles[_0x4ee52d[_0x462479(0xf3)]]&&coachProfiles[_0x4ee52d[_0x462479(0xf3)]][_0x462479(0x18a)]?parseInt(coachProfiles[_0x4ee52d['coachId']][_0x462479(0x18a)]):0x18;if(_0x33571f===0x0||_0x2b1cbf>=_0x33571f)_0x1de4c8['style'][_0x462479(0x167)]=_0x462479(0x187),_0x5937bb[_0x462479(0x179)]['display']=_0x462479(0x187),_0x316880[_0x462479(0x179)][_0x462479(0x167)]=_0x462479(0x1b4);else{_0x1de4c8[_0x462479(0x179)][_0x462479(0x167)]=_0x462479(0x1b4),_0x5937bb[_0x462479(0x179)]['display']=_0x462479(0x1b4),_0x316880[_0x462479(0x179)][_0x462479(0x167)]=_0x462479(0x187);let _0x3aff8f=_0x33571f===0x0?_0x462479(0x1ae):_0x462479(0x138)+_0x33571f+_0x462479(0x146);_0x316880[_0x462479(0x13e)]=_0x462479(0xee)+_0x3aff8f+_0x462479(0x17b);}}document[_0x462479(0xe8)](_0x462479(0x1c2))[_0x462479(0x104)][_0x462479(0x190)](_0x462479(0x13b)),document[_0x462479(0xe8)](_0x462479(0x173))[_0x462479(0x104)]['add'](_0x462479(0x155));}function closeAllSheets(){const _0x8dea6=a3_0x3ca4b3;document[_0x8dea6(0xe8)](_0x8dea6(0x1c2))[_0x8dea6(0x104)][_0x8dea6(0x1c3)](_0x8dea6(0x13b)),document[_0x8dea6(0xf6)]('.sheet')[_0x8dea6(0xff)](_0x21841f=>_0x21841f[_0x8dea6(0x104)][_0x8dea6(0x1c3)](_0x8dea6(0x155)));}function openSheet(_0x30a3df){const _0x2b799b=a3_0x3ca4b3;document[_0x2b799b(0xe8)](_0x2b799b(0x1c2))['classList'][_0x2b799b(0x190)](_0x2b799b(0x13b)),document[_0x2b799b(0xe8)](_0x30a3df)['classList']['add']('open');}function getLocalDateStr(_0xd6acac){const _0x2c6a00=a3_0x3ca4b3,_0x14ac20=_0xd6acac['getFullYear'](),_0x213853=String(_0xd6acac[_0x2c6a00(0x105)]()+0x1)[_0x2c6a00(0xf9)](0x2,'0'),_0xfdf65=String(_0xd6acac[_0x2c6a00(0xfe)]())['padStart'](0x2,'0');return _0x14ac20+'-'+_0x213853+'-'+_0xfdf65;}function getStartOfWeek(_0x1a9c61){const _0x8b6c85=a3_0x3ca4b3,_0x154361=new Date(_0x1a9c61),_0x17fa86=_0x154361['getDay'](),_0x1f83a2=_0x154361[_0x8b6c85(0xfe)]()-_0x17fa86+(_0x17fa86===0x0?-0x6:0x1);return _0x154361[_0x8b6c85(0x14a)](_0x1f83a2),_0x154361[_0x8b6c85(0x1c5)](0x0,0x0,0x0,0x0),_0x154361;}function scrollToToday(){const _0x4ebf93=getLocalDateStr(new Date());setTimeout(()=>{const _0x204678=a3_0x76d8,_0x521b1f=document[_0x204678(0x106)](_0x204678(0x166)+_0x4ebf93+'\x22]');if(_0x521b1f){const _0x1486af=document[_0x204678(0xe8)](_0x204678(0x10b)),_0x509a52=_0x521b1f[_0x204678(0xe4)]-_0x1486af[_0x204678(0x18e)]/0x2+_0x521b1f[_0x204678(0xf0)]/0x2;_0x1486af[_0x204678(0x149)]({'left':_0x509a52,'behavior':'auto'}),_0x1486af[_0x204678(0x109)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1b2486=a3_0x3ca4b3,_0x2051a9=new Date(),_0xfe622e=document[_0x1b2486(0xe8)]('globalTimeLine'),_0x531772=document['getElementById'](_0x1b2486(0x188)),_0x25c5a8=(_0x2051a9[_0x1b2486(0x15d)]()*0x3c+_0x2051a9[_0x1b2486(0x10d)]())/0x3c*GRID_H;_0xfe622e[_0x1b2486(0x179)][_0x1b2486(0xde)]=_0x25c5a8+'px',_0xfe622e['style']['display']=_0x1b2486(0x187),_0x531772[_0x1b2486(0x179)]['top']=_0x25c5a8+'px',_0x531772['style'][_0x1b2486(0x167)]='block',_0x531772[_0x1b2486(0x13e)]=String(_0x2051a9[_0x1b2486(0x15d)]())[_0x1b2486(0xf9)](0x2,'0')+':'+String(_0x2051a9['getMinutes']())[_0x1b2486(0xf9)](0x2,'0');}function onScroll(){const _0x9d1514=a3_0x3ca4b3,_0x3465b4=document[_0x9d1514(0xe8)]('matrixViewport'),_0x5d8313=document[_0x9d1514(0xf6)](_0x9d1514(0x1a9));for(let _0x7f26aa of _0x5d8313)if(_0x7f26aa[_0x9d1514(0xe4)]>=_0x3465b4[_0x9d1514(0x199)]){const _0x4bc4d7=new Date(_0x7f26aa[_0x9d1514(0xf5)](_0x9d1514(0x18b)));document[_0x9d1514(0xe8)](_0x9d1514(0x19a))[_0x9d1514(0x13e)]=_0x4bc4d7[_0x9d1514(0x175)]('ru',{'month':_0x9d1514(0x110)})[_0x9d1514(0x13d)]()+'\x20'+_0x4bc4d7[_0x9d1514(0x108)]();break;}}function a3_0x76d8(_0x4b7b0a,_0x2d5913){_0x4b7b0a=_0x4b7b0a-0xde;const _0x148f30=a3_0x447d();let _0x2a155a=_0x148f30[_0x4b7b0a];return _0x2a155a;}function showToast(_0x1fc49e){const _0x5353e3=a3_0x3ca4b3,_0x3d1e7e=document['getElementById'](_0x5353e3(0x1a6));_0x3d1e7e[_0x5353e3(0x13e)]=_0x1fc49e,_0x3d1e7e['classList'][_0x5353e3(0x190)]('show'),setTimeout(()=>_0x3d1e7e[_0x5353e3(0x104)][_0x5353e3(0x1c3)](_0x5353e3(0x176)),0x7d0);}function handleInfiniteScroll(){const _0x4577c0=a3_0x3ca4b3,_0x2fbe57=document[_0x4577c0(0xe8)](_0x4577c0(0x10b)),_0x4d8ded=_0x2fbe57['scrollLeft'],_0x33fa02=_0x2fbe57[_0x4577c0(0x12a)],_0xdad377=_0x2fbe57[_0x4577c0(0x18e)];if(_0x33fa02-(_0x4d8ded+_0xdad377)<0x12c){const _0x35039b=endOffset;endOffset+=0xe,renderDayRange(_0x35039b+0x1,endOffset),reRenderBlocks();}if(_0x4d8ded<0x12c){const _0xf82cd2=startOffset;startOffset-=0xe,prependDays(startOffset,_0xf82cd2-0x1),_0x2fbe57[_0x4577c0(0x199)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x450111,_0x490bb1){const _0x29a375=a3_0x3ca4b3,_0x409756=document[_0x29a375(0xe8)](_0x29a375(0x194)),_0xc97914=document[_0x29a375(0xe8)]('gridColumns'),_0x1a9dc5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x407e68=new Date();_0x407e68['setHours'](0x0,0x0,0x0,0x0);const _0x3ee419=getLocalDateStr(new Date()),_0x268e02=document[_0x29a375(0x124)](),_0x44af37=document['createDocumentFragment']();for(let _0x4133fc=_0x450111;_0x4133fc<=_0x490bb1;_0x4133fc++){const _0x118b7b=new Date(_0x407e68);_0x118b7b[_0x29a375(0x14a)](_0x118b7b[_0x29a375(0xfe)]()+_0x4133fc);const _0x3ba310=getLocalDateStr(_0x118b7b);let _0x5d7500=_0x118b7b[_0x29a375(0x147)]()-0x1;if(_0x5d7500===-0x1)_0x5d7500=0x6;const _0x5a451f=_0x3ba310===_0x3ee419,_0x28300b=document['createElement']('div');_0x28300b[_0x29a375(0x1a0)]=_0x29a375(0x116)+(_0x5a451f?_0x29a375(0x1bb):''),_0x28300b[_0x29a375(0x184)](_0x29a375(0x18b),_0x3ba310),_0x28300b[_0x29a375(0x111)]=_0x29a375(0x103)+_0x1a9dc5[_0x5d7500]+_0x29a375(0x11f)+_0x118b7b[_0x29a375(0xfe)]()+_0x29a375(0xf4),_0x268e02[_0x29a375(0x14d)](_0x28300b);const _0x174f12=document['createElement'](_0x29a375(0x17a));_0x174f12['className']=_0x29a375(0xe2)+(_0x5a451f?_0x29a375(0x1bb):''),_0x174f12['setAttribute']('data-date',_0x3ba310),_0x174f12['setAttribute']('data-day-idx',_0x5d7500),_0x44af37['appendChild'](_0x174f12);}_0x409756['insertBefore'](_0x268e02,_0x409756[_0x29a375(0x1a1)]),_0xc97914[_0x29a375(0xeb)](_0x44af37,_0xc97914[_0x29a375(0x106)](_0x29a375(0x14b)));}function a3_0x447d(){const _0x203ecb=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','textContent','analyticsSheet','visible','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','findIndex','fontWeight','toString','event-card','\x20—á.','getDay','var(--acc-blue)','scrollTo','setDate','.day-column','(((.+)+)+)+$','appendChild','46318EjcEwI','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','filter','getTime','disableVerticalSwipes','expand','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','T23:59:59','rsSlotsGrid','mini','.period-switch\x20.p-btn','rs-time-btn','Unknown','max','getHours','keys','</span>\x20/\x20','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','anTotalStats','stringify',':00</span>','Critical\x20TMA\x20Error:','calendar','.day-col-header[data-date=\x22','display','DOMContentLoaded','now','href','saveLocally','rgba(10,\x20132,\x20255,\x20','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','19287XtIixc','startsWith','blocked-range-part\x20stripe-bg','addEventListener','uc_client_settings','detailsSheet','initData','toLocaleString','show','round','client_load','style','div','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','setItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','sid','ru-RU','start','test','stopPropagation','\x20–≤\x20','setAttribute','floor','Error\x20setting\x20color:','block','timeLineBadge','then','cancel_window','data-date','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','get_slots','clientWidth','timeColumn','add','colIndex','WebApp','json','daysHeaderTrack','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','done','anDonutCircle','getItem','scrollLeft','headerMonth','search','anEnd','dateStr','sort','join','className','firstChild','zIndex','scroll','px\x20-','%\x20-\x204px)','toast','syncLoad','detNote','.day-col-header','completed','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','clients','note','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','min','substr','createElement','router.html','\x20status-completed','none','exceptions','length','#0a84ff','Telegram','calc(','day-off-overlay\x20stripe-bg','today','BackButton','substring','week','width','backgroundPosition','log','overlay','remove','v9.5-CLIENT-ANALYTICS','setHours','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','value','isArray','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Error\x20setting\x20back\x20button:','coach_profiles','height','backgroundColor','push','6783007vFMHpv','2185552vaQFyl','<div\x20class=\x22rs-day-name\x22>','numeric','600','setMonth','top','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','customConfirm','slice','day-column\x20','parse','offsetLeft','pattern','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','getElementById','15SKTmzV','var(--acc-green)','insertBefore','1660008CuuDyC','POST','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','ccYesBtn','offsetWidth','cancelled','strokeDashoffset','coachId','</div>','getAttribute','querySelectorAll','#ff453a','applyData','padStart','gridColumns','offClick','\x20-\x20','997302pvIbHA','getDate','forEach','rsDatesTrack','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','onclick','<div\x20class=\x22dch-day\x22>','classList','getMonth','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getFullYear','scrollTop','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','matrixViewport','button','getMinutes','borderLeftColor','client_cancel','long','innerHTML','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','ready','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','.btn-reschedule','day-col-header\x20','–û—Ç–º–µ–Ω–µ–Ω–æ','%\x20+\x202px)','settings','custom','rescheduleSheet','cancelHint','color','all','</div><div\x20class=\x22dch-num\x22>','setBackgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','split','time-label','createDocumentFragment','anStart','constructor','find','status','1432ayeDAB','scrollWidth','map','#050505','client-stat-card','<span>','left','toLocaleDateString','total','reschedule','data','2974700RlPnXK','end','3jONvYL','initDataUnsafe','–∑–∞\x20','anCustomDates','error','active'];a3_0x447d=function(){return _0x203ecb;};return a3_0x447d();}function hexToRgba(_0x2dd10b,_0x21fe6f){const _0x106e93=a3_0x3ca4b3;let _0xcd898;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x106e93(0x181)](_0x2dd10b))return _0xcd898=_0x2dd10b[_0x106e93(0x1bd)](0x1)[_0x106e93(0x122)](''),_0xcd898[_0x106e93(0x1b6)]==0x3&&(_0xcd898=[_0xcd898[0x0],_0xcd898[0x0],_0xcd898[0x1],_0xcd898[0x1],_0xcd898[0x2],_0xcd898[0x2]]),_0xcd898='0x'+_0xcd898[_0x106e93(0x19f)](''),'rgba('+[_0xcd898>>0x10&0xff,_0xcd898>>0x8&0xff,_0xcd898&0xff]['join'](',')+','+_0x21fe6f+')';return _0x106e93(0x16c)+_0x21fe6f+')';}let confirmResolver=null;function showCustomConfirm(_0x3bbba5,_0x593208,_0x1b44ee=!![]){const _0x45d398=a3_0x3ca4b3;document['getElementById']('ccTitle')[_0x45d398(0x13e)]=_0x3bbba5,document[_0x45d398(0xe8)]('ccText')['textContent']=_0x593208;const _0x30988b=document[_0x45d398(0xe8)](_0x45d398(0xef));return _0x1b44ee?(_0x30988b[_0x45d398(0x179)][_0x45d398(0x11d)]=_0x45d398(0xf7),_0x30988b[_0x45d398(0x179)][_0x45d398(0x143)]=_0x45d398(0x1d3)):(_0x30988b['style']['color']=_0x45d398(0x1b7),_0x30988b[_0x45d398(0x179)]['fontWeight']=_0x45d398(0x1d3)),new Promise(_0x1f5c79=>{const _0x117207=_0x45d398;confirmResolver=_0x1f5c79,document[_0x117207(0xe8)](_0x117207(0xe0))[_0x117207(0x104)][_0x117207(0x190)](_0x117207(0x140));});}function resolveCustomConfirm(_0x2887f9){const _0x1da72f=a3_0x3ca4b3;document[_0x1da72f(0xe8)]('customConfirm')[_0x1da72f(0x104)]['remove'](_0x1da72f(0x140));if(confirmResolver)confirmResolver(_0x2887f9);}async function tryCancelCurrentSession(){const _0x5e30b9=a3_0x3ca4b3;if(!currentSession)return;const _0x27322d=await showCustomConfirm(_0x5e30b9(0x1c6),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x27322d)return;const _0xf42cee=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x5b6190=>_0x5b6190['id']!==_0xf42cee['id']),reRenderBlocks(),showToast(_0x5e30b9(0x117)),lastUserActionTime=Date[_0x5e30b9(0x169)]();try{const _0x3785e4=window[_0x5e30b9(0x1b8)]?.[_0x5e30b9(0x192)],_0x1411da=await fetch(API_URL,{'method':'POST','body':JSON[_0x5e30b9(0x162)]({'action':_0x5e30b9(0x10f),'init_data':_0x3785e4?.[_0x5e30b9(0x174)]||'','coachId':_0xf42cee[_0x5e30b9(0xf3)],'dateStr':_0xf42cee[_0x5e30b9(0x19d)],'sessionId':_0xf42cee['id']})});if(_0x1411da['ok'])DataManager[_0x5e30b9(0x16b)]();}catch(_0x958bfc){showToast(_0x5e30b9(0x18c));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1e014c=a3_0x3ca4b3;if(!currentSession)return;document[_0x1e014c(0xe8)](_0x1e014c(0x173))[_0x1e014c(0x104)][_0x1e014c(0x1c3)](_0x1e014c(0x155)),document['getElementById'](_0x1e014c(0x11b))[_0x1e014c(0x104)][_0x1e014c(0x190)](_0x1e014c(0x155));const _0xba77e9=document[_0x1e014c(0xe8)](_0x1e014c(0x100)),_0x22e67f=document[_0x1e014c(0xe8)](_0x1e014c(0x157));_0xba77e9[_0x1e014c(0x111)]='',_0x22e67f[_0x1e014c(0x111)]=_0x1e014c(0x14f);const [_0x5e56f3,_0x3a2f81]=currentSession[_0x1e014c(0x180)][_0x1e014c(0x122)](':')[_0x1e014c(0x12b)](Number),[_0x500c7f,_0x39b7be]=currentSession['end']['split'](':')[_0x1e014c(0x12b)](Number),_0x50a3b7=_0x500c7f*0x3c+_0x39b7be-(_0x5e56f3*0x3c+_0x3a2f81);try{const _0x32e8c2=window[_0x1e014c(0x1b8)]?.['WebApp'],_0x4f0dc4=await fetch(API_URL,{'method':_0x1e014c(0xed),'body':JSON[_0x1e014c(0x162)]({'action':_0x1e014c(0x18d),'coachId':currentSession['coachId'],'duration':_0x50a3b7,'init_data':_0x32e8c2?.[_0x1e014c(0x174)]||'','excludeSessionId':currentSession['id']})}),_0x4f458a=await _0x4f0dc4[_0x1e014c(0x193)]();_0x4f458a['ok']&&_0x4f458a[_0x1e014c(0x133)]?(availableSlotsCache=_0x4f458a['data'],renderRescheduleDates()):_0x22e67f['innerHTML']=_0x1e014c(0x10a);}catch(_0x61c95f){_0x22e67f[_0x1e014c(0x111)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x5914cc=a3_0x3ca4b3,_0x447e41=document[_0x5914cc(0xe8)](_0x5914cc(0x100));_0x447e41[_0x5914cc(0x111)]='';const _0x441baf=Object[_0x5914cc(0x15e)](availableSlotsCache)[_0x5914cc(0x19e)](),_0x24c819=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x441baf[_0x5914cc(0x1b6)]===0x0){document['getElementById'](_0x5914cc(0x157))[_0x5914cc(0x111)]=_0x5914cc(0xe6);return;}_0x441baf['forEach']((_0x1fa4cb,_0x1555cc)=>{const _0x58e4be=_0x5914cc,_0x44642f=new Date(_0x1fa4cb),_0x149ecc=_0x24c819[_0x44642f['getDay']()],_0x343310=_0x44642f['getDate'](),_0x333890=document[_0x58e4be(0x1b1)]('div');_0x333890[_0x58e4be(0x1a0)]='rs-date-chip';if(_0x1555cc===0x0)_0x333890[_0x58e4be(0x104)][_0x58e4be(0x190)](_0x58e4be(0x13b));_0x333890[_0x58e4be(0x111)]=_0x58e4be(0x1d1)+_0x149ecc+'</div><div\x20class=\x22rs-day-num\x22>'+_0x343310+_0x58e4be(0xf4),_0x333890[_0x58e4be(0x102)]=()=>selectRsDate(_0x1fa4cb,_0x333890),_0x447e41[_0x58e4be(0x14d)](_0x333890);}),selectRsDate(_0x441baf[0x0],_0x447e41[_0x5914cc(0x1a1)]);}function selectRsDate(_0x14d0d5,_0xe4d512){const _0x5666a5=a3_0x3ca4b3;selectedRsDate=_0x14d0d5,document[_0x5666a5(0xf6)]('.rs-date-chip')[_0x5666a5(0xff)](_0xbbfb85=>_0xbbfb85['classList'][_0x5666a5(0x1c3)](_0x5666a5(0x13b)));if(_0xe4d512)_0xe4d512[_0x5666a5(0x104)][_0x5666a5(0x190)]('active');const _0xe5fc30=document[_0x5666a5(0xe8)](_0x5666a5(0x157));_0xe5fc30['innerHTML']='';const _0xfb3e56=availableSlotsCache[_0x14d0d5]||[];if(_0xfb3e56[_0x5666a5(0x1b6)]===0x0){_0xe5fc30[_0x5666a5(0x111)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0xfb3e56[_0x5666a5(0xff)](_0x5ecf79=>{const _0x14d9dd=_0x5666a5,_0x10f5c5=document[_0x14d9dd(0x1b1)](_0x14d9dd(0x10c));_0x10f5c5[_0x14d9dd(0x1a0)]=_0x14d9dd(0x15a),_0x10f5c5[_0x14d9dd(0x13e)]=_0x5ecf79,_0x10f5c5['onclick']=()=>confirmReschedule(_0x5ecf79),_0xe5fc30[_0x14d9dd(0x14d)](_0x10f5c5);});}async function confirmReschedule(_0x2e8cf5){const _0x2a3332=a3_0x3ca4b3,_0x5a9dc1=new Date(selectedRsDate),_0x36b166=_0x5a9dc1['toLocaleDateString'](_0x2a3332(0x17f),{'day':_0x2a3332(0x1d2),'month':_0x2a3332(0x110)}),_0x468f30=await showCustomConfirm(_0x2a3332(0xdf),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x36b166+_0x2a3332(0x183)+_0x2e8cf5+'?',![]);if(!_0x468f30)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x4ee975=currentSession['dateStr'],_0x281083=currentSession['id'],[_0x49c131,_0x8e02b2]=currentSession[_0x2a3332(0x180)][_0x2a3332(0x122)](':')[_0x2a3332(0x12b)](Number),[_0x4e3e69,_0x556316]=currentSession['end']['split'](':')[_0x2a3332(0x12b)](Number),_0x55c380=_0x4e3e69*0x3c+_0x556316-(_0x49c131*0x3c+_0x8e02b2),[_0x5bf920,_0x2728b9]=_0x2e8cf5['split'](':')['map'](Number),_0x2cbead=_0x5bf920*0x3c+_0x2728b9+_0x55c380,_0x3bd06a=Math[_0x2a3332(0x185)](_0x2cbead/0x3c),_0x219c27=_0x2cbead%0x3c,_0x1e44d4=String(_0x3bd06a)['padStart'](0x2,'0')+':'+String(_0x219c27)[_0x2a3332(0xf9)](0x2,'0'),_0x381dfd=sessions[_0x2a3332(0x142)](_0x2a1d67=>_0x2a1d67['id']===_0x281083);_0x381dfd!==-0x1&&(sessions[_0x381dfd][_0x2a3332(0x19d)]=selectedRsDate,sessions[_0x381dfd]['start']=_0x2e8cf5,sessions[_0x381dfd][_0x2a3332(0x135)]=_0x1e44d4,reRenderBlocks());try{const _0x1426ef=window[_0x2a3332(0x1b8)]?.['WebApp'],_0x514429=await fetch(API_URL,{'method':'POST','body':JSON[_0x2a3332(0x162)]({'action':_0x2a3332(0x132),'init_data':_0x1426ef?.[_0x2a3332(0x174)]||'','oldSessionId':_0x281083,'oldDate':_0x4ee975,'newDate':selectedRsDate,'newTime':_0x2e8cf5,'coachId':currentSession[_0x2a3332(0xf3)]})}),_0x3c74fa=await _0x514429['json']();!_0x3c74fa['ok']?(showToast(_0x2a3332(0xe7)),DataManager[_0x2a3332(0x1a7)]()):(showToast(_0x2a3332(0x1ab)),DataManager['saveLocally']());}catch(_0x142401){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x3ca4b3(0x171)](a3_0x3ca4b3(0x168),init);