const a3_0x1e4f78=a3_0x4f6f;(function(_0x3d3df5,_0x534e1c){const _0x204396=a3_0x4f6f,_0x45533b=_0x3d3df5();while(!![]){try{const _0x57589f=-parseInt(_0x204396(0x214))/0x1*(parseInt(_0x204396(0x2cc))/0x2)+-parseInt(_0x204396(0x252))/0x3+parseInt(_0x204396(0x21e))/0x4*(parseInt(_0x204396(0x1eb))/0x5)+parseInt(_0x204396(0x22d))/0x6+parseInt(_0x204396(0x24f))/0x7*(parseInt(_0x204396(0x27f))/0x8)+-parseInt(_0x204396(0x26c))/0x9*(-parseInt(_0x204396(0x21f))/0xa)+-parseInt(_0x204396(0x238))/0xb;if(_0x57589f===_0x534e1c)break;else _0x45533b['push'](_0x45533b['shift']());}catch(_0x33406a){_0x45533b['push'](_0x45533b['shift']());}}}(a3_0xfac6,0xe4244));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x1e4f78(0x266),GRID_H=0x3c,KEY_SESSIONS=a3_0x1e4f78(0x29c),KEY_SETTINGS=a3_0x1e4f78(0x27a),KEY_CLIENTS=a3_0x1e4f78(0x1da);function a3_0xfac6(){const _0x5189b4=['push','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','slice','insertBefore','initDataUnsafe','display','ranges','headerMonth','initData','blocked-range-part\x20stripe-bg','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','<div\x20class=\x22dch-day\x22>','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','forEach','rgba(','top','toLocaleDateString','analyticsList','detTime','pattern','%\x20-\x204px)','600','event-card','Error\x20setting\x20color:','find','rsDatesTrack','px\x200px','21mQGldI','Critical\x20TMA\x20Error:','.rs-date-chip','filter','offsetWidth','now','startsWith','start','appendChild','rs-time-btn','3454772GHuTOz','10535710mKOcaX','setItem','coachId','log','error','style','syncLoad','setHeaderColor','overlay','timeLineBadge','dateStr','scrollTo','createElement','getFullYear','104184ovkYxc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show','</div>','querySelectorAll','done','add','long','scrollTop','backgroundColor','split','1117138LbeKhz','stringify','flex','anTotalStats','–∑–∞\x20','getDate','note','search','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','user','firstChild','href','offsetLeft','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','offClick','expand','.btn-reschedule','color','classList','ru-RU','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','applyData','1714622rnFIwh','px\x20-','substring','1398201zpQilW','div','%\x20+\x202px)','scrollLeft','charAt','getElementById','min','#0a84ff','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cid','</div><div\x20class=\x22dch-num\x22>','active','POST','\x20-\x20','coach_profiles','<span>','getMonth','innerHTML','router.html','globalTimeLine','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','sort','total','DOMContentLoaded','none','block','9AceOFN','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','calc(','rs-date-chip','floor','getHours','onclick','colIndex','rsSlotsGrid','cancelled','visible','map','data-day-idx','data','uc_client_settings','detailsSheet','zIndex','</div><div\x20class=\x22rs-day-num\x22>','getDay','8QFDHkV','T23:59:59','json','keys','getMinutes','.btn-cancel','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','ccTitle','join','completed','Error\x20setting\x20back\x20button:','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','saveLocally','numeric','analyticsSheet','planned','test','get_slots','cancel_window','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','end','cancelHint','</span>\x20/\x20','rgba(10,\x20132,\x20255,\x20','width','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','textContent','settings','uc_client_sessions','disableVerticalSwipes','.day-column','auto','strokeDashoffset','anDonutCircle','querySelector','.period-switch\x20.p-btn',':00</span>','BackButton','getTime','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','backgroundPosition','setBackgroundColor','day-col-header\x20','gridColumns','button','addEventListener','.sheet','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','clientWidth','entries','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','ready','customConfirm','toString','anEnd','borderLeftColor','isArray','client_load','#050505','setHours','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','parse','className','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','rescheduleSheet','status','WebApp','apply','blocked-slot\x20stripe-bg','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','(((.+)+)+)+$','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','anStart','getItem','var(--acc-blue)','setDate','64522dXPWAt','time-label','client_cancel','week','remove','detNote','#ff453a','anPercent','matrixViewport','clients','\x20status-completed','all','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','scrollWidth','toast','length','setAttribute','T00:00:00','.day-col-header','uc_client_list','clientId','today','max','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','stopPropagation','getAttribute','Telegram','Unknown','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','then','fontWeight','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','day-column\x20','reschedule','toUpperCase','5JVxysQ','exceptions','var(--acc-green)','loadLocal','custom','location','ccYesBtn','daysHeaderTrack','round','\x20–∏–∑\x20','open','padStart','data-date'];a3_0xfac6=function(){return _0x5189b4;};return a3_0xfac6();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x32e567=a3_0x1e4f78,_0x5b12f3=(function(){let _0x1afc9c=!![];return function(_0x26db87,_0x1812a9){const _0x31dc77=_0x1afc9c?function(){const _0x32d3f3=a3_0x4f6f;if(_0x1812a9){const _0x1bb9ab=_0x1812a9[_0x32d3f3(0x2c3)](_0x26db87,arguments);return _0x1812a9=null,_0x1bb9ab;}}:function(){};return _0x1afc9c=![],_0x31dc77;};}()),_0x5a2138=_0x5b12f3(this,function(){const _0x3ea63f=a3_0x4f6f;return _0x5a2138[_0x3ea63f(0x2b5)]()[_0x3ea63f(0x23f)](_0x3ea63f(0x2c6))[_0x3ea63f(0x2b5)]()['constructor'](_0x5a2138)[_0x3ea63f(0x23f)](_0x3ea63f(0x2c6));});_0x5a2138();try{const _0x1e85dc=window[_0x32e567(0x1e2)]?.[_0x32e567(0x2c2)];if(!_0x1e85dc)return;_0x1e85dc[_0x32e567(0x2b3)](),_0x1e85dc[_0x32e567(0x248)]();try{_0x1e85dc[_0x32e567(0x226)](_0x32e567(0x2ba)),_0x1e85dc[_0x32e567(0x2a9)]&&_0x1e85dc[_0x32e567(0x2a9)]('#050505');}catch(_0x59db52){console[_0x32e567(0x222)](_0x32e567(0x210),_0x59db52);}try{_0x1e85dc[_0x32e567(0x2a5)]&&(_0x1e85dc[_0x32e567(0x2a5)][_0x32e567(0x22f)](),_0x1e85dc[_0x32e567(0x2a5)][_0x32e567(0x247)](),_0x1e85dc['BackButton']['onClick'](function(){const _0x2b0b9f=_0x32e567;window[_0x2b0b9f(0x1f0)][_0x2b0b9f(0x243)]=_0x2b0b9f(0x264);}));}catch(_0x37a655){console[_0x32e567(0x222)](_0x32e567(0x28a),_0x37a655);}try{if(_0x1e85dc[_0x32e567(0x29d)])_0x1e85dc[_0x32e567(0x29d)]();}catch(_0x451b4d){}}catch(_0x2bf974){console[_0x32e567(0x223)](_0x32e567(0x215),_0x2bf974);}}());function isAdmin(){const _0x2cbb1f=a3_0x1e4f78;try{const _0x58524a=Number(window[_0x2cbb1f(0x1e2)]?.[_0x2cbb1f(0x2c2)]?.[_0x2cbb1f(0x1fc)]?.[_0x2cbb1f(0x241)]?.['id']);return _0x58524a===0xbaf7174;}catch(_0x4c08ad){return![];}}const DataManager={'saveLocally'(){const _0x5325d0=a3_0x1e4f78;try{localStorage[_0x5325d0(0x220)](KEY_SESSIONS,JSON[_0x5325d0(0x239)](sessions)),localStorage[_0x5325d0(0x220)](KEY_CLIENTS,JSON[_0x5325d0(0x239)](clients)),localStorage[_0x5325d0(0x220)](KEY_SETTINGS,JSON[_0x5325d0(0x239)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x28327e){}},'loadLocal'(){const _0x12e454=a3_0x1e4f78;try{const _0x5b7f6d=localStorage['getItem'](KEY_SESSIONS);if(_0x5b7f6d)sessions=JSON[_0x12e454(0x2bd)](_0x5b7f6d);const _0x10dbc2=localStorage['getItem'](KEY_CLIENTS);if(_0x10dbc2)clients=JSON[_0x12e454(0x2bd)](_0x10dbc2);const _0x2c7ecf=localStorage[_0x12e454(0x2c9)](KEY_SETTINGS);if(_0x2c7ecf){const _0x3e0b74=JSON['parse'](_0x2c7ecf);if(_0x3e0b74[_0x12e454(0x20c)])availabilityPattern=_0x3e0b74['pattern'];if(_0x3e0b74[_0x12e454(0x1fe)])specialRanges=_0x3e0b74[_0x12e454(0x1fe)];if(_0x3e0b74[_0x12e454(0x1ec)])dateExceptions=_0x3e0b74[_0x12e454(0x1ec)];}}catch(_0x1a006c){}},async 'syncLoad'(){const _0x245ffd=a3_0x1e4f78,_0x3753f4=new Date(),_0x24777c=_0x3753f4['getFullYear']()+'-'+String(_0x3753f4[_0x245ffd(0x262)]()+0x1)[_0x245ffd(0x1f6)](0x2,'0'),_0x2ac0bc=new Date(_0x3753f4);_0x2ac0bc['setMonth'](_0x3753f4[_0x245ffd(0x262)]()+0x1);const _0x284fd5=_0x2ac0bc[_0x245ffd(0x22c)]()+'-'+String(_0x2ac0bc[_0x245ffd(0x262)]()+0x1)[_0x245ffd(0x1f6)](0x2,'0'),_0x434854=Date[_0x245ffd(0x219)]();try{const _0x15ba44=window[_0x245ffd(0x1e2)]?.[_0x245ffd(0x2c2)],_0x3dec14=_0x15ba44?.[_0x245ffd(0x200)]||'',[_0x3132a7,_0x55f09d]=await Promise[_0x245ffd(0x2d7)]([fetch(API_URL,{'method':'POST','body':JSON[_0x245ffd(0x239)]({'action':_0x245ffd(0x2b9),'init_data':_0x3dec14,'month_str':_0x24777c})})[_0x245ffd(0x1e5)](_0x292913=>_0x292913[_0x245ffd(0x281)]()),fetch(API_URL,{'method':_0x245ffd(0x25e),'body':JSON[_0x245ffd(0x239)]({'action':_0x245ffd(0x2b9),'init_data':_0x3dec14,'month_str':_0x284fd5})})[_0x245ffd(0x1e5)](_0x298a07=>_0x298a07['json']())]);if(lastUserActionTime>_0x434854){console[_0x245ffd(0x222)](_0x245ffd(0x1e4));return;}if(_0x3132a7['ok'])this[_0x245ffd(0x24e)](_0x3132a7[_0x245ffd(0x279)],_0x24777c);if(_0x55f09d['ok'])this[_0x245ffd(0x24e)](_0x55f09d[_0x245ffd(0x279)],_0x284fd5);this[_0x245ffd(0x28c)]();}catch(_0xfc1709){}},'applyData'(_0x3b4749,_0x5745fb){const _0x21c134=a3_0x1e4f78;if(!_0x3b4749)return;if(_0x3b4749[_0x21c134(0x29b)]){if(_0x3b4749['settings']['pattern'])availabilityPattern=_0x3b4749[_0x21c134(0x29b)][_0x21c134(0x20c)];if(_0x3b4749[_0x21c134(0x29b)]['ranges'])specialRanges=_0x3b4749[_0x21c134(0x29b)][_0x21c134(0x1fe)];if(_0x3b4749[_0x21c134(0x29b)]['exceptions'])dateExceptions=_0x3b4749['settings'][_0x21c134(0x1ec)];}if(_0x3b4749[_0x21c134(0x2d5)]&&Array[_0x21c134(0x2b8)](_0x3b4749['clients']))clients=_0x3b4749[_0x21c134(0x2d5)];_0x3b4749[_0x21c134(0x260)]&&(coachProfiles={...coachProfiles,..._0x3b4749[_0x21c134(0x260)]}),_0x3b4749['calendar']&&(sessions=sessions[_0x21c134(0x217)](_0x2850e8=>!_0x2850e8['dateStr'][_0x21c134(0x21a)](_0x5745fb)),Object[_0x21c134(0x282)](_0x3b4749['calendar'])[_0x21c134(0x206)](_0x214bf6=>{const _0x4c9b28=_0x21c134,_0x2ee933=_0x3b4749['calendar'][_0x214bf6];_0x2ee933[_0x4c9b28(0x206)](_0xf95d47=>{const _0x388aca=_0x4c9b28;sessions[_0x388aca(0x1f8)]({'id':_0xf95d47['i'],'clientId':_0xf95d47['c'],'coachId':_0xf95d47[_0x388aca(0x25b)],'dateStr':_0x5745fb+'-'+_0x214bf6[_0x388aca(0x1f6)](0x2,'0'),'start':_0xf95d47['s'],'end':_0xf95d47['e'],'note':_0xf95d47['n']||'','status':_0xf95d47['st']||_0x388aca(0x28f),'seriesId':_0xf95d47['sid']});});})),reRenderBlocks();}};function init(){const _0x540427=a3_0x1e4f78;DataManager[_0x540427(0x1ee)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x540427(0x257)](_0x540427(0x2d4))[_0x540427(0x2ad)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x540427(0x225)]();}function renderTimeColumn(){const _0x53fd7f=a3_0x1e4f78,_0x141b59=document[_0x53fd7f(0x257)]('timeColumn'),_0x1593a0=document[_0x53fd7f(0x257)](_0x53fd7f(0x228));_0x141b59['innerHTML']='',_0x141b59['appendChild'](_0x1593a0);for(let _0x591815=0x0;_0x591815<0x18;_0x591815++){const _0x30365c=document[_0x53fd7f(0x22b)]('div');_0x30365c[_0x53fd7f(0x2be)]=_0x53fd7f(0x2cd);if(_0x591815>0x0)_0x30365c[_0x53fd7f(0x263)]=_0x53fd7f(0x261)+String(_0x591815)['padStart'](0x2,'0')+_0x53fd7f(0x2a4);_0x141b59[_0x53fd7f(0x21c)](_0x30365c);}}function a3_0x4f6f(_0x1868ae,_0x20e2ca){_0x1868ae=_0x1868ae-0x1d8;const _0x1f7ae2=a3_0xfac6();let _0x302c31=_0x1f7ae2[_0x1868ae];return _0x302c31;}function renderDayRange(_0x18cd4a,_0x48f2dd){const _0x2b0d3f=a3_0x1e4f78,_0x4ef194=document['getElementById']('daysHeaderTrack'),_0x57910d=document['getElementById'](_0x2b0d3f(0x2ab)),_0x50408d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1ab1fd=new Date();_0x1ab1fd[_0x2b0d3f(0x2bb)](0x0,0x0,0x0,0x0);const _0x154f51=getLocalDateStr(new Date());for(let _0x4f1265=_0x18cd4a;_0x4f1265<=_0x48f2dd;_0x4f1265++){const _0x543afd=new Date(_0x1ab1fd);_0x543afd[_0x2b0d3f(0x2cb)](_0x543afd[_0x2b0d3f(0x23d)]()+_0x4f1265);const _0x3a85fb=getLocalDateStr(_0x543afd);let _0x34db4a=_0x543afd['getDay']()-0x1;if(_0x34db4a===-0x1)_0x34db4a=0x6;const _0x594718=_0x3a85fb===_0x154f51,_0xc0fc7c=document[_0x2b0d3f(0x22b)]('div');_0xc0fc7c['className']=_0x2b0d3f(0x2aa)+(_0x594718?_0x2b0d3f(0x1dc):''),_0xc0fc7c[_0x2b0d3f(0x2dc)]('data-date',_0x3a85fb),_0xc0fc7c['innerHTML']=_0x2b0d3f(0x204)+_0x50408d[_0x34db4a]+_0x2b0d3f(0x25c)+_0x543afd[_0x2b0d3f(0x23d)]()+_0x2b0d3f(0x230),_0x4ef194[_0x2b0d3f(0x21c)](_0xc0fc7c);const _0x2da09c=document[_0x2b0d3f(0x22b)](_0x2b0d3f(0x253));_0x2da09c[_0x2b0d3f(0x2be)]=_0x2b0d3f(0x1e8)+(_0x594718?'today':''),_0x2da09c[_0x2b0d3f(0x2dc)]('data-date',_0x3a85fb),_0x2da09c['setAttribute'](_0x2b0d3f(0x278),_0x34db4a),_0x57910d[_0x2b0d3f(0x21c)](_0x2da09c);}}function reRenderBlocks(){const _0x2d93fd=a3_0x1e4f78;document[_0x2d93fd(0x231)](_0x2d93fd(0x29e))[_0x2d93fd(0x206)](_0x3c863f=>{const _0x103cc8=_0x2d93fd;_0x3c863f['querySelectorAll'](_0x103cc8(0x1de))[_0x103cc8(0x206)](_0x3dafc1=>_0x3dafc1[_0x103cc8(0x2d0)]());const _0x376506=_0x3c863f['getAttribute'](_0x103cc8(0x1f7)),_0xb835a0=parseInt(_0x3c863f[_0x103cc8(0x1e1)](_0x103cc8(0x278))),_0x38a491=Math[_0x103cc8(0x1f3)](_0x3c863f['offsetLeft']);(availabilityPattern[_0xb835a0]||[])[_0x103cc8(0x206)](_0x2e3b5d=>{const _0x37dad3=_0x103cc8,_0x37e475=document[_0x37dad3(0x22b)](_0x37dad3(0x253));_0x37e475[_0x37dad3(0x2be)]=_0x37dad3(0x2c4),_0x37e475[_0x37dad3(0x224)][_0x37dad3(0x208)]=_0x2e3b5d*GRID_H+'px',_0x37e475['style']['backgroundPosition']='-'+_0x38a491+_0x37dad3(0x250)+_0x2e3b5d*GRID_H+'px',_0x3c863f[_0x37dad3(0x21c)](_0x37e475);});if(specialRanges[_0x103cc8(0x2db)]>0x0){const _0x3f0157=new Date(_0x376506+_0x103cc8(0x1d8))['getTime'](),_0x55233e=new Date(_0x376506+_0x103cc8(0x280))[_0x103cc8(0x2a6)]();specialRanges[_0x103cc8(0x206)](_0x200c27=>{const _0x18c8d6=_0x103cc8,_0x563876=new Date(_0x200c27['start'])['getTime'](),_0x104ee2=new Date(_0x200c27[_0x18c8d6(0x294)])[_0x18c8d6(0x2a6)](),_0x5d1a63=Math[_0x18c8d6(0x1dd)](_0x3f0157,_0x563876),_0x3e4617=Math[_0x18c8d6(0x258)](_0x55233e,_0x104ee2);if(_0x5d1a63<_0x3e4617){const _0x5a0ced=(_0x5d1a63-_0x3f0157)/0x36ee80*GRID_H,_0x36b9a7=(_0x3e4617-_0x5d1a63)/0x36ee80*GRID_H,_0x38ff3f=document['createElement'](_0x18c8d6(0x253));_0x36b9a7>=23.5*GRID_H?(_0x38ff3f['className']='day-off-overlay\x20stripe-bg',_0x38ff3f['style'][_0x18c8d6(0x2a8)]='-'+_0x38a491+_0x18c8d6(0x213)):(_0x38ff3f[_0x18c8d6(0x2be)]=_0x18c8d6(0x201),_0x38ff3f[_0x18c8d6(0x224)]['top']=_0x5a0ced+'px',_0x38ff3f[_0x18c8d6(0x224)][_0x18c8d6(0x285)]=_0x36b9a7+'px',_0x38ff3f['style']['backgroundPosition']='-'+_0x38a491+_0x18c8d6(0x250)+_0x5a0ced+'px'),_0x3c863f[_0x18c8d6(0x21c)](_0x38ff3f);}});}renderEventsForColumn(_0x3c863f,_0x376506);});}function renderEventsForColumn(_0x2426a2,_0x5a1131){const _0xc24b7d=a3_0x1e4f78,_0x4e886c=sessions[_0xc24b7d(0x217)](_0x4bf204=>_0x4bf204[_0xc24b7d(0x229)]===_0x5a1131),_0x1038af=_0x4e886c[_0xc24b7d(0x277)](_0x372c35=>{const _0x51400f=_0xc24b7d,[_0x5d1186,_0x311a3a]=_0x372c35[_0x51400f(0x21b)]['split'](':')[_0x51400f(0x277)](Number),[_0x4ca09b,_0x4e9dae]=_0x372c35[_0x51400f(0x294)][_0x51400f(0x237)](':')['map'](Number);return{'data':_0x372c35,'start':_0x5d1186*0x3c+_0x311a3a,'end':_0x4ca09b*0x3c+_0x4e9dae,'colIndex':0x0};});_0x1038af['sort']((_0x4fdaa6,_0x34a189)=>_0x4fdaa6['start']-_0x34a189['start']||_0x34a189['end']-_0x34a189[_0xc24b7d(0x21b)]-(_0x4fdaa6['end']-_0x4fdaa6['start']));const _0x34c4de=[];_0x1038af['forEach'](_0x16286c=>{const _0x5ef137=_0xc24b7d;let _0x32d014=![];for(let _0x60a231=0x0;_0x60a231<_0x34c4de['length'];_0x60a231++){const _0x455424=_0x34c4de[_0x60a231];if(_0x16286c['start']>=_0x455424[_0x455424[_0x5ef137(0x2db)]-0x1][_0x5ef137(0x294)]){_0x455424[_0x5ef137(0x1f8)](_0x16286c),_0x16286c[_0x5ef137(0x273)]=_0x60a231,_0x32d014=!![];break;}}!_0x32d014&&(_0x34c4de[_0x5ef137(0x1f8)]([_0x16286c]),_0x16286c[_0x5ef137(0x273)]=_0x34c4de[_0x5ef137(0x2db)]-0x1);}),_0x1038af[_0xc24b7d(0x206)](_0x102e18=>{const _0x3f3022=_0xc24b7d;let _0x573dc9=0x0;_0x1038af['forEach'](_0x271e7e=>{const _0x35cb9a=a3_0x4f6f;if(Math[_0x35cb9a(0x1dd)](_0x102e18[_0x35cb9a(0x21b)],_0x271e7e[_0x35cb9a(0x21b)])<Math['min'](_0x102e18[_0x35cb9a(0x294)],_0x271e7e[_0x35cb9a(0x294)])&&_0x271e7e[_0x35cb9a(0x273)]>_0x573dc9)_0x573dc9=_0x271e7e[_0x35cb9a(0x273)];});const _0x364744=_0x573dc9+0x1,_0x1bad97=0x64/_0x364744,_0x10eb1d=_0x102e18[_0x3f3022(0x273)]*_0x1bad97,_0x501018=document['createElement']('div'),_0x58fb23=_0x102e18[_0x3f3022(0x279)];let _0x49f253=_0x3f3022(0x259);if(clients&&clients[_0x3f3022(0x2db)]>0x0){const _0x4fba0d=clients[_0x3f3022(0x211)](_0x1f1730=>String(_0x1f1730['id'])===String(_0x58fb23[_0x3f3022(0x1db)]));if(_0x4fba0d&&_0x4fba0d['color'])_0x49f253=_0x4fba0d['color'];}const _0x3293a9=_0x58fb23[_0x3f3022(0x2c1)]===_0x3f3022(0x289),_0x15ae79=_0x3293a9?0x1:0.45;_0x501018[_0x3f3022(0x2be)]=_0x3f3022(0x20f)+(_0x3293a9?_0x3f3022(0x2d6):''),_0x501018[_0x3f3022(0x224)][_0x3f3022(0x236)]=hexToRgba(_0x49f253,_0x15ae79),_0x501018[_0x3f3022(0x224)]['borderLeftColor']=_0x49f253;const _0xa101ef=_0x102e18[_0x3f3022(0x21b)]/0x3c*GRID_H,_0x332343=(_0x102e18[_0x3f3022(0x294)]-_0x102e18['start'])/0x3c*GRID_H;_0x501018[_0x3f3022(0x224)][_0x3f3022(0x208)]=_0xa101ef+'px',_0x501018[_0x3f3022(0x224)][_0x3f3022(0x285)]=Math[_0x3f3022(0x1dd)](_0x332343,0x14)+'px',_0x501018[_0x3f3022(0x224)][_0x3f3022(0x298)]=_0x3f3022(0x26e)+_0x1bad97+_0x3f3022(0x20d),_0x501018[_0x3f3022(0x224)]['left']='calc('+_0x10eb1d+_0x3f3022(0x254),_0x501018['style'][_0x3f3022(0x27c)]=0xa+_0x102e18['colIndex'];if(_0x1bad97<0x55)_0x501018[_0x3f3022(0x24b)]['add']('mini');let _0x589d2b='';if(_0x58fb23['seriesId'])_0x589d2b+=_0x3f3022(0x2bc);if(_0x3293a9)_0x589d2b+=_0x3f3022(0x2af);_0x501018[_0x3f3022(0x263)]=_0x3f3022(0x203)+_0x58fb23[_0x3f3022(0x21b)]+'\x20-\x20'+_0x58fb23[_0x3f3022(0x294)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x589d2b+_0x3f3022(0x22e),_0x501018[_0x3f3022(0x272)]=_0x3397be=>{const _0x292aea=_0x3f3022;_0x3397be[_0x292aea(0x1e0)](),openDetails(_0x58fb23);},_0x2426a2[_0x3f3022(0x21c)](_0x501018);});}function openAnalytics(){const _0x11a625=a3_0x1e4f78,_0x2192c2=document[_0x11a625(0x2a2)](_0x11a625(0x2a3));setAnalyticsPeriod('week',_0x2192c2),openSheet(_0x11a625(0x28e));}function setAnalyticsPeriod(_0x2249f8,_0x273fd5){const _0x45fcde=a3_0x1e4f78;currentAnPeriod=_0x2249f8,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x45fcde(0x206)](_0x102326=>_0x102326[_0x45fcde(0x24b)][_0x45fcde(0x2d0)](_0x45fcde(0x25d)));if(_0x273fd5)_0x273fd5[_0x45fcde(0x24b)][_0x45fcde(0x233)]('active');const _0x32dd4e=document['getElementById']('anCustomDates');_0x32dd4e[_0x45fcde(0x224)][_0x45fcde(0x1fd)]=_0x2249f8===_0x45fcde(0x1ef)?_0x45fcde(0x23a):'none';const _0x109361=new Date();let _0xc92c27=new Date(),_0xffdcb0=new Date();if(_0x2249f8===_0x45fcde(0x2cf))_0xc92c27=getStartOfWeek(_0x109361),_0xffdcb0=new Date(_0xc92c27),_0xffdcb0['setDate'](_0xffdcb0[_0x45fcde(0x23d)]()+0x6);else{if(_0x2249f8==='month')_0xc92c27=new Date(_0x109361[_0x45fcde(0x22c)](),_0x109361[_0x45fcde(0x262)](),0x1),_0xffdcb0=new Date(_0x109361[_0x45fcde(0x22c)](),_0x109361[_0x45fcde(0x262)]()+0x1,0x0);else{!document[_0x45fcde(0x257)]('anStart')['value']&&(document[_0x45fcde(0x257)](_0x45fcde(0x2c8))[_0x45fcde(0x202)]=getLocalDateStr(_0x109361),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x109361));refreshAnalytics();return;}}document[_0x45fcde(0x257)](_0x45fcde(0x2c8))['value']=getLocalDateStr(_0xc92c27),document['getElementById'](_0x45fcde(0x2b6))['value']=getLocalDateStr(_0xffdcb0),refreshAnalytics();}function refreshAnalytics(){const _0x2105e3=a3_0x1e4f78,_0xf36377=document[_0x2105e3(0x257)](_0x2105e3(0x2c8))[_0x2105e3(0x202)],_0x132297=document['getElementById'](_0x2105e3(0x2b6))['value'];if(!_0xf36377||!_0x132297)return;const _0x5682f3=sessions[_0x2105e3(0x217)](_0x29564a=>_0x29564a[_0x2105e3(0x229)]>=_0xf36377&&_0x29564a[_0x2105e3(0x229)]<=_0x132297&&_0x29564a['status']!==_0x2105e3(0x275)),_0x4aa79c=_0x5682f3[_0x2105e3(0x2db)],_0x1f5c45=_0x5682f3[_0x2105e3(0x217)](_0x3c33a5=>_0x3c33a5[_0x2105e3(0x2c1)]===_0x2105e3(0x289))['length'],_0x1cf4c4=_0x4aa79c>0x0?Math[_0x2105e3(0x1f3)](_0x1f5c45/_0x4aa79c*0x64):0x0;document[_0x2105e3(0x257)](_0x2105e3(0x2d3))[_0x2105e3(0x29a)]=_0x1cf4c4+'%',document[_0x2105e3(0x257)](_0x2105e3(0x23b))['textContent']=_0x1f5c45+_0x2105e3(0x1f4)+_0x4aa79c+_0x2105e3(0x246);const _0x3a2136=document['getElementById'](_0x2105e3(0x2a1)),_0x245c6a=0x2*Math['PI']*0x23,_0x3a579e=_0x245c6a-_0x1cf4c4/0x64*_0x245c6a;_0x3a2136[_0x2105e3(0x224)][_0x2105e3(0x2a0)]=_0x3a579e;const _0x4660cc={};_0x5682f3['forEach'](_0x334de9=>{const _0x113980=_0x2105e3,_0x1932c1=_0x334de9['coachId']||_0x113980(0x1e3);if(!_0x4660cc[_0x1932c1]){const _0x6652f1='#'+_0x1932c1['toString']()['substr'](0x0,0x6);_0x4660cc[_0x1932c1]={'total':0x0,'done':0x0,'color':_0x6652f1};}_0x4660cc[_0x1932c1][_0x113980(0x268)]++;if(_0x334de9['status']===_0x113980(0x289))_0x4660cc[_0x1932c1][_0x113980(0x232)]++;});const _0x195f00=document[_0x2105e3(0x257)](_0x2105e3(0x20a));_0x195f00['innerHTML']='';const _0x2ede83=Object[_0x2105e3(0x2b1)](_0x4660cc)['sort']((_0x14b80b,_0x51f9e5)=>_0x51f9e5[0x1][_0x2105e3(0x268)]-_0x14b80b[0x1][_0x2105e3(0x268)]);if(_0x2ede83[_0x2105e3(0x2db)]===0x0){_0x195f00[_0x2105e3(0x263)]=_0x2105e3(0x205);return;}_0x2ede83[_0x2105e3(0x206)](([_0x1c1a8f,_0x5407ee])=>{const _0x153de0=_0x2105e3,_0x5a9eda=Math['round'](_0x5407ee[_0x153de0(0x232)]/_0x5407ee[_0x153de0(0x268)]*0x64),_0x3eeb48=document[_0x153de0(0x22b)]('div');_0x3eeb48[_0x153de0(0x2be)]='client-stat-card',_0x3eeb48[_0x153de0(0x224)][_0x153de0(0x2b7)]=_0x5407ee[_0x153de0(0x24a)],_0x3eeb48[_0x153de0(0x263)]=_0x153de0(0x286)+_0x1c1a8f['substr'](0x0,0x5)+_0x153de0(0x1df)+_0x5407ee[_0x153de0(0x232)]+_0x153de0(0x296)+_0x5407ee['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x5a9eda+_0x153de0(0x245),_0x195f00[_0x153de0(0x21c)](_0x3eeb48);});}function openDetails(_0x44fc44){const _0x4f9d09=a3_0x1e4f78;currentSession=_0x44fc44;const _0x55de6c=new Date(_0x44fc44[_0x4f9d09(0x229)]),_0x1b3339=_0x55de6c[_0x4f9d09(0x209)](_0x4f9d09(0x24c),{'weekday':'long','day':_0x4f9d09(0x28d),'month':_0x4f9d09(0x234)});document[_0x4f9d09(0x257)]('detDate')['textContent']=_0x1b3339[_0x4f9d09(0x256)](0x0)[_0x4f9d09(0x1ea)]()+_0x1b3339[_0x4f9d09(0x1fa)](0x1),document[_0x4f9d09(0x257)](_0x4f9d09(0x20b))[_0x4f9d09(0x29a)]=_0x44fc44[_0x4f9d09(0x21b)]+_0x4f9d09(0x25f)+_0x44fc44[_0x4f9d09(0x294)],document[_0x4f9d09(0x257)](_0x4f9d09(0x2d1))[_0x4f9d09(0x29a)]=_0x44fc44[_0x4f9d09(0x23e)]||_0x4f9d09(0x240);const _0x1cdd74=document['getElementById']('detStatus'),_0x55f725=document[_0x4f9d09(0x257)]('cancelContainer'),_0x43d3c0=_0x55f725[_0x4f9d09(0x2a2)](_0x4f9d09(0x284)),_0x5da860=_0x55f725[_0x4f9d09(0x2a2)](_0x4f9d09(0x249)),_0x945505=document[_0x4f9d09(0x257)](_0x4f9d09(0x295));if(_0x44fc44[_0x4f9d09(0x2c1)]==='completed')_0x1cdd74[_0x4f9d09(0x29a)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1cdd74[_0x4f9d09(0x224)]['color']=_0x4f9d09(0x1ed),_0x55f725[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26a);else{_0x1cdd74[_0x4f9d09(0x29a)]=_0x4f9d09(0x2b2),_0x1cdd74[_0x4f9d09(0x224)][_0x4f9d09(0x24a)]=_0x4f9d09(0x2ca),_0x55f725[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26b);const _0x32fe35=new Date(_0x44fc44[_0x4f9d09(0x229)]+'T'+_0x44fc44['start']),_0x219bef=new Date(),_0x47b5ef=(_0x32fe35-_0x219bef)/(0x3e8*0x3c*0x3c),_0x22b872=coachProfiles[_0x44fc44['coachId']]&&coachProfiles[_0x44fc44[_0x4f9d09(0x221)]][_0x4f9d09(0x292)]?parseInt(coachProfiles[_0x44fc44[_0x4f9d09(0x221)]][_0x4f9d09(0x292)]):0x18;if(_0x22b872===0x0||_0x47b5ef>=_0x22b872)_0x43d3c0[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26b),_0x5da860[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26b),_0x945505[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26a);else{_0x43d3c0['style'][_0x4f9d09(0x1fd)]='none',_0x5da860[_0x4f9d09(0x224)][_0x4f9d09(0x1fd)]=_0x4f9d09(0x26a),_0x945505[_0x4f9d09(0x224)]['display']=_0x4f9d09(0x26b);let _0x5d54be=_0x22b872===0x0?_0x4f9d09(0x28b):_0x4f9d09(0x23c)+_0x22b872+'\x20—á.';_0x945505[_0x4f9d09(0x29a)]=_0x4f9d09(0x2d8)+_0x5d54be+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x4f9d09(0x257)](_0x4f9d09(0x227))[_0x4f9d09(0x24b)][_0x4f9d09(0x233)]('active'),document['getElementById'](_0x4f9d09(0x27b))[_0x4f9d09(0x24b)][_0x4f9d09(0x233)]('open');}function closeAllSheets(){const _0x5aaecf=a3_0x1e4f78;document[_0x5aaecf(0x257)](_0x5aaecf(0x227))[_0x5aaecf(0x24b)][_0x5aaecf(0x2d0)](_0x5aaecf(0x25d)),document['querySelectorAll'](_0x5aaecf(0x2ae))[_0x5aaecf(0x206)](_0x54b7ba=>_0x54b7ba['classList'][_0x5aaecf(0x2d0)](_0x5aaecf(0x1f5)));}function openSheet(_0x5497d4){const _0x12fab1=a3_0x1e4f78;document[_0x12fab1(0x257)](_0x12fab1(0x227))[_0x12fab1(0x24b)]['add']('active'),document[_0x12fab1(0x257)](_0x5497d4)['classList'][_0x12fab1(0x233)](_0x12fab1(0x1f5));}function getLocalDateStr(_0x7f6e5c){const _0x4e787e=a3_0x1e4f78,_0x4bdcc0=_0x7f6e5c['getFullYear'](),_0x1abea3=String(_0x7f6e5c[_0x4e787e(0x262)]()+0x1)[_0x4e787e(0x1f6)](0x2,'0'),_0x4bf7df=String(_0x7f6e5c[_0x4e787e(0x23d)]())[_0x4e787e(0x1f6)](0x2,'0');return _0x4bdcc0+'-'+_0x1abea3+'-'+_0x4bf7df;}function getStartOfWeek(_0x6ebc21){const _0x17d7d6=a3_0x1e4f78,_0x4449d9=new Date(_0x6ebc21),_0x1acbf9=_0x4449d9['getDay'](),_0x1ea221=_0x4449d9[_0x17d7d6(0x23d)]()-_0x1acbf9+(_0x1acbf9===0x0?-0x6:0x1);return _0x4449d9[_0x17d7d6(0x2cb)](_0x1ea221),_0x4449d9['setHours'](0x0,0x0,0x0,0x0),_0x4449d9;}function scrollToToday(){const _0x47f2d9=getLocalDateStr(new Date());setTimeout(()=>{const _0x255c52=a3_0x4f6f,_0x3a7f6a=document['querySelector']('.day-col-header[data-date=\x22'+_0x47f2d9+'\x22]');if(_0x3a7f6a){const _0x4daed7=document['getElementById']('matrixViewport'),_0x1a5f8a=_0x3a7f6a[_0x255c52(0x244)]-_0x4daed7['clientWidth']/0x2+_0x3a7f6a[_0x255c52(0x218)]/0x2;_0x4daed7[_0x255c52(0x22a)]({'left':_0x1a5f8a,'behavior':_0x255c52(0x29f)}),_0x4daed7[_0x255c52(0x235)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1c5f7d=a3_0x1e4f78,_0x1ea9ff=new Date(),_0xe3678e=document[_0x1c5f7d(0x257)](_0x1c5f7d(0x265)),_0x262156=document[_0x1c5f7d(0x257)](_0x1c5f7d(0x228)),_0x12f5cb=(_0x1ea9ff[_0x1c5f7d(0x271)]()*0x3c+_0x1ea9ff[_0x1c5f7d(0x283)]())/0x3c*GRID_H;_0xe3678e[_0x1c5f7d(0x224)]['top']=_0x12f5cb+'px',_0xe3678e[_0x1c5f7d(0x224)][_0x1c5f7d(0x1fd)]='block',_0x262156[_0x1c5f7d(0x224)][_0x1c5f7d(0x208)]=_0x12f5cb+'px',_0x262156['style'][_0x1c5f7d(0x1fd)]=_0x1c5f7d(0x26b),_0x262156[_0x1c5f7d(0x29a)]=String(_0x1ea9ff[_0x1c5f7d(0x271)]())[_0x1c5f7d(0x1f6)](0x2,'0')+':'+String(_0x1ea9ff['getMinutes']())[_0x1c5f7d(0x1f6)](0x2,'0');}function onScroll(){const _0x2d1a40=a3_0x1e4f78,_0x4b34c6=document['getElementById'](_0x2d1a40(0x2d4)),_0x3d0a30=document[_0x2d1a40(0x231)](_0x2d1a40(0x1d9));for(let _0xc56e75 of _0x3d0a30)if(_0xc56e75['offsetLeft']>=_0x4b34c6[_0x2d1a40(0x255)]){const _0x8ad309=new Date(_0xc56e75[_0x2d1a40(0x1e1)](_0x2d1a40(0x1f7)));document[_0x2d1a40(0x257)](_0x2d1a40(0x1ff))[_0x2d1a40(0x29a)]=_0x8ad309['toLocaleString']('ru',{'month':_0x2d1a40(0x234)})[_0x2d1a40(0x1ea)]()+'\x20'+_0x8ad309[_0x2d1a40(0x22c)]();break;}}function showToast(_0x247908){const _0x3d208f=a3_0x1e4f78,_0x39bec9=document[_0x3d208f(0x257)](_0x3d208f(0x2da));_0x39bec9[_0x3d208f(0x29a)]=_0x247908,_0x39bec9['classList'][_0x3d208f(0x233)](_0x3d208f(0x22f)),setTimeout(()=>_0x39bec9[_0x3d208f(0x24b)][_0x3d208f(0x2d0)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x4ea632=a3_0x1e4f78,_0x57991b=document['getElementById'](_0x4ea632(0x2d4)),_0x41d036=_0x57991b[_0x4ea632(0x255)],_0x5991b6=_0x57991b[_0x4ea632(0x2d9)],_0x34e6dc=_0x57991b[_0x4ea632(0x2b0)];if(_0x5991b6-(_0x41d036+_0x34e6dc)<0x12c){const _0xe35ef0=endOffset;endOffset+=0xe,renderDayRange(_0xe35ef0+0x1,endOffset),reRenderBlocks();}if(_0x41d036<0x12c){const _0x4ba128=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4ba128-0x1),_0x57991b['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xb80693,_0x2e720a){const _0x445192=a3_0x1e4f78,_0x1c8a95=document['getElementById'](_0x445192(0x1f2)),_0x659bf3=document['getElementById'](_0x445192(0x2ab)),_0x274572=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2e6f8e=new Date();_0x2e6f8e[_0x445192(0x2bb)](0x0,0x0,0x0,0x0);const _0x5b2d1b=getLocalDateStr(new Date()),_0x412b6c=document['createDocumentFragment'](),_0xb416a1=document['createDocumentFragment']();for(let _0x22a38e=_0xb80693;_0x22a38e<=_0x2e720a;_0x22a38e++){const _0x357ec6=new Date(_0x2e6f8e);_0x357ec6['setDate'](_0x357ec6[_0x445192(0x23d)]()+_0x22a38e);const _0x5a8ef0=getLocalDateStr(_0x357ec6);let _0x2837c5=_0x357ec6[_0x445192(0x27e)]()-0x1;if(_0x2837c5===-0x1)_0x2837c5=0x6;const _0x1dd3a6=_0x5a8ef0===_0x5b2d1b,_0x2beeb0=document['createElement'](_0x445192(0x253));_0x2beeb0[_0x445192(0x2be)]=_0x445192(0x2aa)+(_0x1dd3a6?_0x445192(0x1dc):''),_0x2beeb0[_0x445192(0x2dc)](_0x445192(0x1f7),_0x5a8ef0),_0x2beeb0[_0x445192(0x263)]=_0x445192(0x204)+_0x274572[_0x2837c5]+_0x445192(0x25c)+_0x357ec6['getDate']()+'</div>',_0x412b6c['appendChild'](_0x2beeb0);const _0x1adde8=document[_0x445192(0x22b)](_0x445192(0x253));_0x1adde8['className']=_0x445192(0x1e8)+(_0x1dd3a6?_0x445192(0x1dc):''),_0x1adde8[_0x445192(0x2dc)](_0x445192(0x1f7),_0x5a8ef0),_0x1adde8[_0x445192(0x2dc)](_0x445192(0x278),_0x2837c5),_0xb416a1[_0x445192(0x21c)](_0x1adde8);}_0x1c8a95[_0x445192(0x1fb)](_0x412b6c,_0x1c8a95[_0x445192(0x242)]),_0x659bf3[_0x445192(0x1fb)](_0xb416a1,_0x659bf3[_0x445192(0x2a2)](_0x445192(0x29e)));}function hexToRgba(_0x316529,_0x471db9){const _0x42a87c=a3_0x1e4f78;let _0x3000f1;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x42a87c(0x290)](_0x316529))return _0x3000f1=_0x316529[_0x42a87c(0x251)](0x1)['split'](''),_0x3000f1[_0x42a87c(0x2db)]==0x3&&(_0x3000f1=[_0x3000f1[0x0],_0x3000f1[0x0],_0x3000f1[0x1],_0x3000f1[0x1],_0x3000f1[0x2],_0x3000f1[0x2]]),_0x3000f1='0x'+_0x3000f1[_0x42a87c(0x288)](''),_0x42a87c(0x207)+[_0x3000f1>>0x10&0xff,_0x3000f1>>0x8&0xff,_0x3000f1&0xff][_0x42a87c(0x288)](',')+','+_0x471db9+')';return _0x42a87c(0x297)+_0x471db9+')';}let confirmResolver=null;function showCustomConfirm(_0x3a86c4,_0x34ad87,_0x581dde=!![]){const _0x427d1b=a3_0x1e4f78;document[_0x427d1b(0x257)](_0x427d1b(0x287))[_0x427d1b(0x29a)]=_0x3a86c4,document[_0x427d1b(0x257)]('ccText')[_0x427d1b(0x29a)]=_0x34ad87;const _0x194983=document[_0x427d1b(0x257)](_0x427d1b(0x1f1));return _0x581dde?(_0x194983[_0x427d1b(0x224)]['color']=_0x427d1b(0x2d2),_0x194983[_0x427d1b(0x224)]['fontWeight']=_0x427d1b(0x20e)):(_0x194983['style'][_0x427d1b(0x24a)]='#0a84ff',_0x194983['style'][_0x427d1b(0x1e6)]=_0x427d1b(0x20e)),new Promise(_0x16e9de=>{const _0x4428d1=_0x427d1b;confirmResolver=_0x16e9de,document['getElementById'](_0x4428d1(0x2b4))['classList'][_0x4428d1(0x233)]('visible');});}function resolveCustomConfirm(_0x180008){const _0x3ccaee=a3_0x1e4f78;document[_0x3ccaee(0x257)](_0x3ccaee(0x2b4))[_0x3ccaee(0x24b)]['remove'](_0x3ccaee(0x276));if(confirmResolver)confirmResolver(_0x180008);}async function tryCancelCurrentSession(){const _0x402e1f=a3_0x1e4f78;if(!currentSession)return;const _0x6ddf69=await showCustomConfirm(_0x402e1f(0x25a),_0x402e1f(0x2bf),!![]);if(!_0x6ddf69)return;const _0x5434d0=currentSession;closeAllSheets(),sessions=sessions[_0x402e1f(0x217)](_0x53e435=>_0x53e435['id']!==_0x5434d0['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0xbe248d=window[_0x402e1f(0x1e2)]?.[_0x402e1f(0x2c2)],_0x517c21=await fetch(API_URL,{'method':_0x402e1f(0x25e),'body':JSON[_0x402e1f(0x239)]({'action':_0x402e1f(0x2ce),'init_data':_0xbe248d?.['initData']||'','coachId':_0x5434d0['coachId'],'dateStr':_0x5434d0[_0x402e1f(0x229)],'sessionId':_0x5434d0['id']})});if(_0x517c21['ok'])DataManager[_0x402e1f(0x28c)]();}catch(_0x2f173b){showToast(_0x402e1f(0x1f9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3cbe4b=a3_0x1e4f78;if(!currentSession)return;document[_0x3cbe4b(0x257)](_0x3cbe4b(0x27b))[_0x3cbe4b(0x24b)]['remove'](_0x3cbe4b(0x1f5)),document[_0x3cbe4b(0x257)](_0x3cbe4b(0x2c0))[_0x3cbe4b(0x24b)]['add'](_0x3cbe4b(0x1f5));const _0x224ef1=document[_0x3cbe4b(0x257)](_0x3cbe4b(0x212)),_0x33bd48=document[_0x3cbe4b(0x257)](_0x3cbe4b(0x274));_0x224ef1[_0x3cbe4b(0x263)]='',_0x33bd48[_0x3cbe4b(0x263)]=_0x3cbe4b(0x24d);const [_0x47b36f,_0xe83b53]=currentSession[_0x3cbe4b(0x21b)][_0x3cbe4b(0x237)](':')[_0x3cbe4b(0x277)](Number),[_0x572a6c,_0x5797be]=currentSession['end'][_0x3cbe4b(0x237)](':')[_0x3cbe4b(0x277)](Number),_0x3c51fc=_0x572a6c*0x3c+_0x5797be-(_0x47b36f*0x3c+_0xe83b53);try{const _0x4914f0=window[_0x3cbe4b(0x1e2)]?.['WebApp'],_0x1858e6=await fetch(API_URL,{'method':_0x3cbe4b(0x25e),'body':JSON[_0x3cbe4b(0x239)]({'action':_0x3cbe4b(0x291),'coachId':currentSession[_0x3cbe4b(0x221)],'duration':_0x3c51fc,'init_data':_0x4914f0?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1e05a8=await _0x1858e6[_0x3cbe4b(0x281)]();_0x1e05a8['ok']&&_0x1e05a8[_0x3cbe4b(0x279)]?(availableSlotsCache=_0x1e05a8[_0x3cbe4b(0x279)],renderRescheduleDates()):_0x33bd48['innerHTML']=_0x3cbe4b(0x2c5);}catch(_0x78a65e){_0x33bd48['innerHTML']=_0x3cbe4b(0x26d);}}function renderRescheduleDates(){const _0x1af6c6=a3_0x1e4f78,_0x375e87=document[_0x1af6c6(0x257)](_0x1af6c6(0x212));_0x375e87[_0x1af6c6(0x263)]='';const _0xf7bcd9=Object[_0x1af6c6(0x282)](availableSlotsCache)[_0x1af6c6(0x267)](),_0x21e13a=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xf7bcd9[_0x1af6c6(0x2db)]===0x0){document['getElementById'](_0x1af6c6(0x274))[_0x1af6c6(0x263)]=_0x1af6c6(0x293);return;}_0xf7bcd9[_0x1af6c6(0x206)]((_0x33334c,_0x402ab0)=>{const _0x2a065a=_0x1af6c6,_0x3c91cb=new Date(_0x33334c),_0xcf89b3=_0x21e13a[_0x3c91cb[_0x2a065a(0x27e)]()],_0x45e07c=_0x3c91cb[_0x2a065a(0x23d)](),_0x2b188a=document[_0x2a065a(0x22b)](_0x2a065a(0x253));_0x2b188a[_0x2a065a(0x2be)]=_0x2a065a(0x26f);if(_0x402ab0===0x0)_0x2b188a['classList']['add'](_0x2a065a(0x25d));_0x2b188a['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0xcf89b3+_0x2a065a(0x27d)+_0x45e07c+_0x2a065a(0x230),_0x2b188a['onclick']=()=>selectRsDate(_0x33334c,_0x2b188a),_0x375e87[_0x2a065a(0x21c)](_0x2b188a);}),selectRsDate(_0xf7bcd9[0x0],_0x375e87['firstChild']);}function selectRsDate(_0x50b331,_0x24a131){const _0x37beb9=a3_0x1e4f78;selectedRsDate=_0x50b331,document['querySelectorAll'](_0x37beb9(0x216))[_0x37beb9(0x206)](_0x2b1fa2=>_0x2b1fa2[_0x37beb9(0x24b)][_0x37beb9(0x2d0)](_0x37beb9(0x25d)));if(_0x24a131)_0x24a131['classList'][_0x37beb9(0x233)]('active');const _0x392b3e=document['getElementById'](_0x37beb9(0x274));_0x392b3e[_0x37beb9(0x263)]='';const _0xc6c298=availableSlotsCache[_0x50b331]||[];if(_0xc6c298[_0x37beb9(0x2db)]===0x0){_0x392b3e[_0x37beb9(0x263)]=_0x37beb9(0x2c5);return;}_0xc6c298[_0x37beb9(0x206)](_0x35a11f=>{const _0x3811b7=_0x37beb9,_0x5730d6=document[_0x3811b7(0x22b)](_0x3811b7(0x2ac));_0x5730d6[_0x3811b7(0x2be)]=_0x3811b7(0x21d),_0x5730d6[_0x3811b7(0x29a)]=_0x35a11f,_0x5730d6[_0x3811b7(0x272)]=()=>confirmReschedule(_0x35a11f),_0x392b3e[_0x3811b7(0x21c)](_0x5730d6);});}async function confirmReschedule(_0x5cc892){const _0x3e13e4=a3_0x1e4f78,_0xdb915e=new Date(selectedRsDate),_0x2a1118=_0xdb915e['toLocaleDateString'](_0x3e13e4(0x24c),{'day':_0x3e13e4(0x28d),'month':_0x3e13e4(0x234)}),_0x3b8364=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x3e13e4(0x2c7)+_0x2a1118+'\x20–≤\x20'+_0x5cc892+'?',![]);if(!_0x3b8364)return;closeAllSheets(),showToast(_0x3e13e4(0x2a7)),lastUserActionTime=Date[_0x3e13e4(0x219)]();const _0x22a903=currentSession[_0x3e13e4(0x229)],_0x2a46da=currentSession['id'],[_0x5b45a1,_0x4969f0]=currentSession[_0x3e13e4(0x21b)]['split'](':')['map'](Number),[_0x23e791,_0xaee779]=currentSession['end'][_0x3e13e4(0x237)](':')[_0x3e13e4(0x277)](Number),_0x8658de=_0x23e791*0x3c+_0xaee779-(_0x5b45a1*0x3c+_0x4969f0),[_0x529e33,_0x59a408]=_0x5cc892[_0x3e13e4(0x237)](':')[_0x3e13e4(0x277)](Number),_0x8636c5=_0x529e33*0x3c+_0x59a408+_0x8658de,_0x3d2f8e=Math[_0x3e13e4(0x270)](_0x8636c5/0x3c),_0x2ab010=_0x8636c5%0x3c,_0x340ce1=String(_0x3d2f8e)[_0x3e13e4(0x1f6)](0x2,'0')+':'+String(_0x2ab010)[_0x3e13e4(0x1f6)](0x2,'0'),_0x5ce7d6=sessions['findIndex'](_0x15a10b=>_0x15a10b['id']===_0x2a46da);_0x5ce7d6!==-0x1&&(sessions[_0x5ce7d6][_0x3e13e4(0x229)]=selectedRsDate,sessions[_0x5ce7d6][_0x3e13e4(0x21b)]=_0x5cc892,sessions[_0x5ce7d6]['end']=_0x340ce1,reRenderBlocks());try{const _0x407aa3=window[_0x3e13e4(0x1e2)]?.['WebApp'],_0x19ebe6=await fetch(API_URL,{'method':_0x3e13e4(0x25e),'body':JSON['stringify']({'action':_0x3e13e4(0x1e9),'init_data':_0x407aa3?.[_0x3e13e4(0x200)]||'','oldSessionId':_0x2a46da,'oldDate':_0x22a903,'newDate':selectedRsDate,'newTime':_0x5cc892,'coachId':currentSession['coachId']})}),_0x170b7f=await _0x19ebe6[_0x3e13e4(0x281)]();!_0x170b7f['ok']?(showToast(_0x3e13e4(0x299)),DataManager['syncLoad']()):(showToast(_0x3e13e4(0x1e7)),DataManager[_0x3e13e4(0x28c)]());}catch(_0x4d87dc){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x1e4f78(0x2ad)](a3_0x1e4f78(0x269),init);