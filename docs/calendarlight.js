const a3_0x36cd5d=a3_0xb4bf;(function(_0x3ee3a3,_0x451402){const _0x2b0cf4=a3_0xb4bf,_0xb40bd6=_0x3ee3a3();while(!![]){try{const _0xbb8986=parseInt(_0x2b0cf4(0x143))/0x1*(parseInt(_0x2b0cf4(0x1c4))/0x2)+parseInt(_0x2b0cf4(0x134))/0x3*(parseInt(_0x2b0cf4(0x17f))/0x4)+-parseInt(_0x2b0cf4(0x16c))/0x5+parseInt(_0x2b0cf4(0x18e))/0x6*(parseInt(_0x2b0cf4(0x199))/0x7)+parseInt(_0x2b0cf4(0x1d7))/0x8+parseInt(_0x2b0cf4(0x146))/0x9*(-parseInt(_0x2b0cf4(0x108))/0xa)+-parseInt(_0x2b0cf4(0x126))/0xb*(-parseInt(_0x2b0cf4(0x112))/0xc);if(_0xbb8986===_0x451402)break;else _0xb40bd6['push'](_0xb40bd6['shift']());}catch(_0x4b9395){_0xb40bd6['push'](_0xb40bd6['shift']());}}}(a3_0x6f5a,0x8b003));const APP_VERSION=a3_0x36cd5d(0x148),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x36cd5d(0x152),KEY_SETTINGS=a3_0x36cd5d(0x144),KEY_CLIENTS=a3_0x36cd5d(0x177);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x36cd5d(0x185),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x34d0c7=a3_0x36cd5d,_0x32f040=(function(){let _0x54e65b=!![];return function(_0x22df6f,_0x5a7d0f){const _0x3d3c3a=_0x54e65b?function(){const _0x1c4438=a3_0xb4bf;if(_0x5a7d0f){const _0x37d4a5=_0x5a7d0f[_0x1c4438(0x15c)](_0x22df6f,arguments);return _0x5a7d0f=null,_0x37d4a5;}}:function(){};return _0x54e65b=![],_0x3d3c3a;};}()),_0x58f000=_0x32f040(this,function(){const _0x53f448=a3_0xb4bf;return _0x58f000[_0x53f448(0x16f)]()['search']('(((.+)+)+)+$')[_0x53f448(0x16f)]()[_0x53f448(0x1f5)](_0x58f000)[_0x53f448(0x15a)]('(((.+)+)+)+$');});_0x58f000();try{const _0x38ab8d=window['Telegram']?.[_0x34d0c7(0x173)];if(!_0x38ab8d)return;_0x38ab8d[_0x34d0c7(0x1ae)](),_0x38ab8d[_0x34d0c7(0x1a6)]();try{_0x38ab8d['setHeaderColor'](_0x34d0c7(0x125)),_0x38ab8d[_0x34d0c7(0x13f)]&&_0x38ab8d[_0x34d0c7(0x13f)]('#050505');}catch(_0x1553ad){console[_0x34d0c7(0x181)]('Error\x20setting\x20color:',_0x1553ad);}try{_0x38ab8d['BackButton']&&(_0x38ab8d[_0x34d0c7(0x178)][_0x34d0c7(0x104)](),_0x38ab8d[_0x34d0c7(0x178)]['offClick'](),_0x38ab8d[_0x34d0c7(0x178)][_0x34d0c7(0x18c)](function(){const _0x1a1476=_0x34d0c7;window[_0x1a1476(0x188)]['href']=_0x1a1476(0x1bf);}));}catch(_0x1aaab6){console[_0x34d0c7(0x181)](_0x34d0c7(0x1b4),_0x1aaab6);}try{if(_0x38ab8d[_0x34d0c7(0x163)])_0x38ab8d[_0x34d0c7(0x163)]();}catch(_0xf864c4){}}catch(_0x5de757){console[_0x34d0c7(0x18b)]('Critical\x20TMA\x20Error:',_0x5de757);}}());function isAdmin(){const _0x5b190e=a3_0x36cd5d;try{const _0x5b7be2=Number(window[_0x5b190e(0x11d)]?.[_0x5b190e(0x173)]?.[_0x5b190e(0x11e)]?.[_0x5b190e(0x196)]?.['id']);return _0x5b7be2===0xbaf7174;}catch(_0x4c9398){return![];}}const DataManager={'saveLocally'(){const _0x216b25=a3_0x36cd5d;try{localStorage[_0x216b25(0x190)](KEY_SESSIONS,JSON[_0x216b25(0x1f0)](sessions)),localStorage[_0x216b25(0x190)](KEY_CLIENTS,JSON[_0x216b25(0x1f0)](clients)),localStorage[_0x216b25(0x190)](KEY_SETTINGS,JSON[_0x216b25(0x1f0)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2636b4){}},'loadLocal'(){const _0x2df329=a3_0x36cd5d;try{const _0x5851b0=localStorage[_0x2df329(0x205)](KEY_SESSIONS);if(_0x5851b0)sessions=JSON[_0x2df329(0x1a9)](_0x5851b0);const _0x487c4b=localStorage[_0x2df329(0x205)](KEY_CLIENTS);if(_0x487c4b)clients=JSON[_0x2df329(0x1a9)](_0x487c4b);const _0xd69edd=localStorage['getItem'](KEY_SETTINGS);if(_0xd69edd){const _0x56a5f1=JSON[_0x2df329(0x1a9)](_0xd69edd);if(_0x56a5f1['pattern'])availabilityPattern=_0x56a5f1['pattern'];if(_0x56a5f1[_0x2df329(0x1bc)])specialRanges=_0x56a5f1[_0x2df329(0x1bc)];if(_0x56a5f1[_0x2df329(0x107)])dateExceptions=_0x56a5f1[_0x2df329(0x107)];}}catch(_0x1ce9bd){}},async 'syncLoad'(){const _0x19cb3a=a3_0x36cd5d,_0x2f6ea0=new Date(),_0x5bb65=_0x2f6ea0[_0x19cb3a(0x139)]()+'-'+String(_0x2f6ea0['getMonth']()+0x1)[_0x19cb3a(0x13e)](0x2,'0'),_0x38d859=new Date(_0x2f6ea0);_0x38d859['setMonth'](_0x2f6ea0[_0x19cb3a(0x1b9)]()+0x1);const _0x40dccc=_0x38d859[_0x19cb3a(0x139)]()+'-'+String(_0x38d859[_0x19cb3a(0x1b9)]()+0x1)[_0x19cb3a(0x13e)](0x2,'0'),_0x49166c=Date[_0x19cb3a(0x1b3)]();try{const _0x424df3=window[_0x19cb3a(0x11d)]?.[_0x19cb3a(0x173)],_0x39bf2d=_0x424df3?.[_0x19cb3a(0x1aa)]||'',[_0x206a7c,_0xcf0a0c]=await Promise[_0x19cb3a(0x140)]([fetch(API_URL,{'method':_0x19cb3a(0x145),'body':JSON[_0x19cb3a(0x1f0)]({'action':_0x19cb3a(0x11f),'init_data':_0x39bf2d,'month_str':_0x5bb65})})['then'](_0x3819fd=>_0x3819fd[_0x19cb3a(0x118)]()),fetch(API_URL,{'method':_0x19cb3a(0x145),'body':JSON[_0x19cb3a(0x1f0)]({'action':_0x19cb3a(0x11f),'init_data':_0x39bf2d,'month_str':_0x40dccc})})['then'](_0x12d3d1=>_0x12d3d1[_0x19cb3a(0x118)]())]);if(lastUserActionTime>_0x49166c){console[_0x19cb3a(0x181)](_0x19cb3a(0x11b));return;}if(_0x206a7c['ok'])this[_0x19cb3a(0x1c3)](_0x206a7c[_0x19cb3a(0x1fb)],_0x5bb65);if(_0xcf0a0c['ok'])this[_0x19cb3a(0x1c3)](_0xcf0a0c[_0x19cb3a(0x1fb)],_0x40dccc);this['saveLocally']();}catch(_0x1ebdda){}},'applyData'(_0x5e29af,_0x577f76){const _0x7d7615=a3_0x36cd5d;if(!_0x5e29af)return;if(_0x5e29af['settings']){if(_0x5e29af[_0x7d7615(0x12b)][_0x7d7615(0x1d9)])availabilityPattern=_0x5e29af[_0x7d7615(0x12b)][_0x7d7615(0x1d9)];if(_0x5e29af[_0x7d7615(0x12b)]['ranges'])specialRanges=_0x5e29af[_0x7d7615(0x12b)]['ranges'];if(_0x5e29af[_0x7d7615(0x12b)][_0x7d7615(0x107)])dateExceptions=_0x5e29af[_0x7d7615(0x12b)][_0x7d7615(0x107)];}if(_0x5e29af[_0x7d7615(0x175)]&&Array[_0x7d7615(0x136)](_0x5e29af[_0x7d7615(0x175)]))clients=_0x5e29af[_0x7d7615(0x175)];_0x5e29af['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5e29af['coach_profiles']}),_0x5e29af[_0x7d7615(0x1a3)]&&(sessions=sessions[_0x7d7615(0x150)](_0x3227b6=>!_0x3227b6[_0x7d7615(0x1a0)][_0x7d7615(0x149)](_0x577f76)),Object['keys'](_0x5e29af['calendar'])[_0x7d7615(0x11c)](_0x41f364=>{const _0xd2d9e0=_0x7d7615,_0x35ea82=_0x5e29af[_0xd2d9e0(0x1a3)][_0x41f364];_0x35ea82['forEach'](_0x27513a=>{const _0x30b85c=_0xd2d9e0;sessions[_0x30b85c(0x12e)]({'id':_0x27513a['i'],'clientId':_0x27513a['c'],'coachId':_0x27513a['cid'],'dateStr':_0x577f76+'-'+_0x41f364[_0x30b85c(0x13e)](0x2,'0'),'start':_0x27513a['s'],'end':_0x27513a['e'],'note':_0x27513a['n']||'','status':_0x27513a['st']||_0x30b85c(0x135),'seriesId':_0x27513a[_0x30b85c(0x156)]});});})),reRenderBlocks();}};function init(){const _0x47527b=a3_0x36cd5d;DataManager[_0x47527b(0x204)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x47527b(0x19d)](_0x47527b(0x15d))[_0x47527b(0x138)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x47527b(0x1db)]();}function a3_0xb4bf(_0x4b7032,_0x388648){_0x4b7032=_0x4b7032-0x104;const _0x270972=a3_0x6f5a();let _0x1ce7de=_0x270972[_0x4b7032];return _0x1ce7de;}function renderTimeColumn(){const _0x7ee786=a3_0x36cd5d,_0x559c56=document[_0x7ee786(0x19d)]('timeColumn'),_0x197347=document['getElementById']('timeLineBadge');_0x559c56[_0x7ee786(0x19e)]='',_0x559c56[_0x7ee786(0x1bd)](_0x197347);for(let _0x4093b0=0x0;_0x4093b0<0x18;_0x4093b0++){const _0x4ca365=document[_0x7ee786(0x16a)](_0x7ee786(0x15b));_0x4ca365[_0x7ee786(0x1fa)]=_0x7ee786(0x170);if(_0x4093b0>0x0)_0x4ca365[_0x7ee786(0x19e)]=_0x7ee786(0x13c)+String(_0x4093b0)['padStart'](0x2,'0')+_0x7ee786(0x1f2);_0x559c56[_0x7ee786(0x1bd)](_0x4ca365);}}function renderDayRange(_0x128fec,_0x2f529d){const _0x2936eb=a3_0x36cd5d,_0x4f30d3=document[_0x2936eb(0x19d)](_0x2936eb(0x10c)),_0x190536=document[_0x2936eb(0x19d)](_0x2936eb(0x1a5)),_0x2fc060=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e2d1c=new Date();_0x1e2d1c[_0x2936eb(0x18a)](0x0,0x0,0x0,0x0);const _0x26a6f2=getLocalDateStr(new Date());for(let _0x4e43bc=_0x128fec;_0x4e43bc<=_0x2f529d;_0x4e43bc++){const _0x28a077=new Date(_0x1e2d1c);_0x28a077[_0x2936eb(0x193)](_0x28a077[_0x2936eb(0x169)]()+_0x4e43bc);const _0x288bad=getLocalDateStr(_0x28a077);let _0x5cb044=_0x28a077[_0x2936eb(0x1da)]()-0x1;if(_0x5cb044===-0x1)_0x5cb044=0x6;const _0x1aad27=_0x288bad===_0x26a6f2,_0x363003=document[_0x2936eb(0x16a)](_0x2936eb(0x15b));_0x363003['className']=_0x2936eb(0x115)+(_0x1aad27?_0x2936eb(0x111):''),_0x363003['setAttribute'](_0x2936eb(0x166),_0x288bad),_0x363003[_0x2936eb(0x19e)]=_0x2936eb(0x167)+_0x2fc060[_0x5cb044]+'</div><div\x20class=\x22dch-num\x22>'+_0x28a077[_0x2936eb(0x169)]()+_0x2936eb(0x198),_0x4f30d3[_0x2936eb(0x1bd)](_0x363003);const _0x36a194=document[_0x2936eb(0x16a)](_0x2936eb(0x15b));_0x36a194['className']='day-column\x20'+(_0x1aad27?_0x2936eb(0x111):''),_0x36a194['setAttribute'](_0x2936eb(0x166),_0x288bad),_0x36a194[_0x2936eb(0x1e4)]('data-day-idx',_0x5cb044),_0x190536[_0x2936eb(0x1bd)](_0x36a194);}}function a3_0x6f5a(){const _0x4259ea=['–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','cancelHint','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','forEach','Telegram','initDataUnsafe','client_load','clientWidth','.day-col-header','total','toast','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','#050505','7392jAJOAz','status','scrollTo','cancelContainer','join','settings','end','custom','push','rgba(10,\x20132,\x20255,\x20','rsSlotsGrid','px\x20-','%\x20-\x204px)','saveLocally','969633qfJwia','planned','isArray','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','addEventListener','getFullYear','sort','min','<span>','anEnd','padStart','setBackgroundColor','all','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','detailsSheet','172573Vqlosx','uc_client_settings','POST','945QjMGbG','ru-RU','v9.5-CLIENT-ANALYTICS','startsWith','scrollLeft','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','anCustomDates','detTime','keys','visible','filter','\x20—á.','uc_client_sessions','backgroundColor','anStart','display','sid','top','month','.sheet','search','div','apply','matrixViewport','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','cancel_window','detDate','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','disableVerticalSwipes','left','overlay','data-date','<div\x20class=\x22dch-day\x22>','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','getDate','createElement','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','4959580GWeDuJ','<div\x20class=\x22rs-day-name\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','toString','time-label','round','textContent','WebApp','charAt','clients','blocked-range-part\x20stripe-bg','uc_client_list','BackButton','test','Unknown','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rsDatesTrack','floor','12mtBtYR','customConfirm','log','detStatus','borderLeftColor','rs-date-chip','week','.day-column','length','location','#0a84ff','setHours','error','onClick','anTotalStats','114oNOgxa','slice','setItem','toLocaleString','timeLineBadge','setDate','</div><div\x20class=\x22dch-num\x22>','getTime','user','split','</div>','149387UDRdde','scrollWidth','coachId','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getElementById','innerHTML','data-day-idx','dateStr','analyticsList','createDocumentFragment','calendar','cancelled','gridColumns','expand','remove','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','parse','initData','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','map','–û—Ç–º–µ–Ω–µ–Ω–æ','ready','.period-switch\x20.p-btn','strokeDashoffset','anPercent','getHours','now','Error\x20setting\x20back\x20button:','analyticsSheet','day-column\x20','active','var(--acc-green)','getMonth','firstChild','entries','ranges','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','router.html','DOMContentLoaded','T00:00:00','substring','applyData','2fpmPoa','offsetWidth','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','ccText','style','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','.btn-reschedule','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','day-off-overlay\x20stripe-bg','clientId','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','%\x20+\x202px)','scrollTop','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getMinutes','max','zIndex','value','2201400KOwoMo','rescheduleSheet','pattern','getDay','syncLoad','querySelector','add','client-stat-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anDonutCircle','completed','–∑–∞\x20','setAttribute','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','numeric','height','colIndex','get_slots','</span>\x20/\x20','onclick','toUpperCase','reschedule','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','stringify','\x20status-completed',':00</span>','px\x200px','classList','constructor','seriesId','open','offsetLeft','color','className','data','ccTitle','auto','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','backgroundPosition','stopPropagation','insertBefore','start','\x20-\x20','loadLocal','getItem','show','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detNote','exceptions','53650XVrtpv','T23:59:59','\x20–≤\x20','none','daysHeaderTrack','done','long','globalTimeLine','substr','today','5388mUfubz','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fontWeight','day-col-header\x20','button','.rs-date-chip','json'];a3_0x6f5a=function(){return _0x4259ea;};return a3_0x6f5a();}function reRenderBlocks(){const _0x21b526=a3_0x36cd5d;document['querySelectorAll'](_0x21b526(0x186))[_0x21b526(0x11c)](_0x3a0837=>{const _0x42c16e=_0x21b526;_0x3a0837[_0x42c16e(0x15f)](_0x42c16e(0x105))[_0x42c16e(0x11c)](_0x86e9bd=>_0x86e9bd[_0x42c16e(0x1a7)]());const _0x31cf16=_0x3a0837['getAttribute'](_0x42c16e(0x166)),_0x315027=parseInt(_0x3a0837['getAttribute']('data-day-idx')),_0x300e75=Math[_0x42c16e(0x171)](_0x3a0837[_0x42c16e(0x1f8)]);(availabilityPattern[_0x315027]||[])[_0x42c16e(0x11c)](_0x418707=>{const _0x394f15=_0x42c16e,_0x34564e=document[_0x394f15(0x16a)](_0x394f15(0x15b));_0x34564e[_0x394f15(0x1fa)]='blocked-slot\x20stripe-bg',_0x34564e['style'][_0x394f15(0x157)]=_0x418707*GRID_H+'px',_0x34564e[_0x394f15(0x1c8)][_0x394f15(0x1ff)]='-'+_0x300e75+'px\x20-'+_0x418707*GRID_H+'px',_0x3a0837[_0x394f15(0x1bd)](_0x34564e);});if(specialRanges['length']>0x0){const _0x5e908f=new Date(_0x31cf16+_0x42c16e(0x1c1))[_0x42c16e(0x195)](),_0x5b48b4=new Date(_0x31cf16+_0x42c16e(0x109))[_0x42c16e(0x195)]();specialRanges[_0x42c16e(0x11c)](_0x325847=>{const _0x33ae12=_0x42c16e,_0xa2daf6=new Date(_0x325847[_0x33ae12(0x202)])[_0x33ae12(0x195)](),_0x14d407=new Date(_0x325847[_0x33ae12(0x12c)])[_0x33ae12(0x195)](),_0x4c34b2=Math[_0x33ae12(0x1d4)](_0x5e908f,_0xa2daf6),_0x5d4484=Math['min'](_0x5b48b4,_0x14d407);if(_0x4c34b2<_0x5d4484){const _0x4744a4=(_0x4c34b2-_0x5e908f)/0x36ee80*GRID_H,_0x148050=(_0x5d4484-_0x4c34b2)/0x36ee80*GRID_H,_0x2c0104=document['createElement'](_0x33ae12(0x15b));_0x148050>=23.5*GRID_H?(_0x2c0104['className']=_0x33ae12(0x1cd),_0x2c0104[_0x33ae12(0x1c8)][_0x33ae12(0x1ff)]='-'+_0x300e75+_0x33ae12(0x1f3)):(_0x2c0104[_0x33ae12(0x1fa)]=_0x33ae12(0x176),_0x2c0104['style'][_0x33ae12(0x157)]=_0x4744a4+'px',_0x2c0104[_0x33ae12(0x1c8)]['height']=_0x148050+'px',_0x2c0104[_0x33ae12(0x1c8)][_0x33ae12(0x1ff)]='-'+_0x300e75+_0x33ae12(0x131)+_0x4744a4+'px'),_0x3a0837[_0x33ae12(0x1bd)](_0x2c0104);}});}renderEventsForColumn(_0x3a0837,_0x31cf16);});}function renderEventsForColumn(_0x112130,_0x461232){const _0xe53fb4=a3_0x36cd5d,_0x379751=sessions['filter'](_0x5752fe=>_0x5752fe[_0xe53fb4(0x1a0)]===_0x461232),_0x2af8d6=_0x379751[_0xe53fb4(0x1ac)](_0x573f94=>{const _0x2bc383=_0xe53fb4,[_0xd0fd82,_0x2d676a]=_0x573f94[_0x2bc383(0x202)][_0x2bc383(0x197)](':')[_0x2bc383(0x1ac)](Number),[_0x1c1cc6,_0x19495e]=_0x573f94['end'][_0x2bc383(0x197)](':')[_0x2bc383(0x1ac)](Number);return{'data':_0x573f94,'start':_0xd0fd82*0x3c+_0x2d676a,'end':_0x1c1cc6*0x3c+_0x19495e,'colIndex':0x0};});_0x2af8d6[_0xe53fb4(0x13a)]((_0x1b8103,_0x10b289)=>_0x1b8103[_0xe53fb4(0x202)]-_0x10b289['start']||_0x10b289[_0xe53fb4(0x12c)]-_0x10b289[_0xe53fb4(0x202)]-(_0x1b8103['end']-_0x1b8103[_0xe53fb4(0x202)]));const _0x5c93ca=[];_0x2af8d6[_0xe53fb4(0x11c)](_0x44622a=>{const _0x154e44=_0xe53fb4;let _0x2c01e8=![];for(let _0x42c81f=0x0;_0x42c81f<_0x5c93ca[_0x154e44(0x187)];_0x42c81f++){const _0x3d5e00=_0x5c93ca[_0x42c81f];if(_0x44622a[_0x154e44(0x202)]>=_0x3d5e00[_0x3d5e00[_0x154e44(0x187)]-0x1][_0x154e44(0x12c)]){_0x3d5e00['push'](_0x44622a),_0x44622a[_0x154e44(0x1e8)]=_0x42c81f,_0x2c01e8=!![];break;}}!_0x2c01e8&&(_0x5c93ca[_0x154e44(0x12e)]([_0x44622a]),_0x44622a[_0x154e44(0x1e8)]=_0x5c93ca[_0x154e44(0x187)]-0x1);}),_0x2af8d6['forEach'](_0x4ce857=>{const _0x1386bc=_0xe53fb4;let _0x100f8c=0x0;_0x2af8d6[_0x1386bc(0x11c)](_0x3674b4=>{const _0x5f4a95=_0x1386bc;if(Math[_0x5f4a95(0x1d4)](_0x4ce857['start'],_0x3674b4[_0x5f4a95(0x202)])<Math[_0x5f4a95(0x13b)](_0x4ce857[_0x5f4a95(0x12c)],_0x3674b4[_0x5f4a95(0x12c)])&&_0x3674b4['colIndex']>_0x100f8c)_0x100f8c=_0x3674b4[_0x5f4a95(0x1e8)];});const _0x1e2d4c=_0x100f8c+0x1,_0x1564af=0x64/_0x1e2d4c,_0x4dd338=_0x4ce857[_0x1386bc(0x1e8)]*_0x1564af,_0x239bc6=document[_0x1386bc(0x16a)](_0x1386bc(0x15b)),_0x397c8b=_0x4ce857['data'];let _0x5c53ae=_0x1386bc(0x189);if(clients&&clients[_0x1386bc(0x187)]>0x0){const _0x1f7b18=clients['find'](_0x5203f9=>String(_0x5203f9['id'])===String(_0x397c8b[_0x1386bc(0x1ce)]));if(_0x1f7b18&&_0x1f7b18['color'])_0x5c53ae=_0x1f7b18[_0x1386bc(0x1f9)];}const _0x38a11a=_0x397c8b[_0x1386bc(0x127)]==='completed',_0x5e3764=_0x38a11a?0x1:0.45;_0x239bc6[_0x1386bc(0x1fa)]='event-card'+(_0x38a11a?_0x1386bc(0x1f1):''),_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x153)]=hexToRgba(_0x5c53ae,_0x5e3764),_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x183)]=_0x5c53ae;const _0x5c5680=_0x4ce857[_0x1386bc(0x202)]/0x3c*GRID_H,_0x34edcd=(_0x4ce857[_0x1386bc(0x12c)]-_0x4ce857[_0x1386bc(0x202)])/0x3c*GRID_H;_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x157)]=_0x5c5680+'px',_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x1e7)]=Math[_0x1386bc(0x1d4)](_0x34edcd,0x14)+'px',_0x239bc6[_0x1386bc(0x1c8)]['width']='calc('+_0x1564af+_0x1386bc(0x132),_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x164)]='calc('+_0x4dd338+_0x1386bc(0x1d0),_0x239bc6[_0x1386bc(0x1c8)][_0x1386bc(0x1d5)]=0xa+_0x4ce857[_0x1386bc(0x1e8)];if(_0x1564af<0x55)_0x239bc6[_0x1386bc(0x1f4)][_0x1386bc(0x1dd)]('mini');let _0x1208a0='';if(_0x397c8b[_0x1386bc(0x1f6)])_0x1208a0+=_0x1386bc(0x124);if(_0x38a11a)_0x1208a0+=_0x1386bc(0x1e0);_0x239bc6['innerHTML']=_0x1386bc(0x16e)+_0x397c8b[_0x1386bc(0x202)]+_0x1386bc(0x203)+_0x397c8b[_0x1386bc(0x12c)]+_0x1386bc(0x113)+_0x1208a0+_0x1386bc(0x1df),_0x239bc6[_0x1386bc(0x1eb)]=_0x34ff94=>{const _0x41fab5=_0x1386bc;_0x34ff94[_0x41fab5(0x200)](),openDetails(_0x397c8b);},_0x112130[_0x1386bc(0x1bd)](_0x239bc6);});}function openAnalytics(){const _0x51caf3=a3_0x36cd5d,_0x19bc3a=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x51caf3(0x185),_0x19bc3a),openSheet(_0x51caf3(0x1b5));}function setAnalyticsPeriod(_0x2ecb8a,_0x5da69f){const _0x53679d=a3_0x36cd5d;currentAnPeriod=_0x2ecb8a,document['querySelectorAll'](_0x53679d(0x1af))[_0x53679d(0x11c)](_0x15131e=>_0x15131e[_0x53679d(0x1f4)][_0x53679d(0x1a7)]('active'));if(_0x5da69f)_0x5da69f[_0x53679d(0x1f4)][_0x53679d(0x1dd)](_0x53679d(0x1b7));const _0x3f7826=document[_0x53679d(0x19d)](_0x53679d(0x14c));_0x3f7826[_0x53679d(0x1c8)][_0x53679d(0x155)]=_0x2ecb8a===_0x53679d(0x12d)?'flex':_0x53679d(0x10b);const _0x51fc81=new Date();let _0x49e885=new Date(),_0x37ef85=new Date();if(_0x2ecb8a===_0x53679d(0x185))_0x49e885=getStartOfWeek(_0x51fc81),_0x37ef85=new Date(_0x49e885),_0x37ef85['setDate'](_0x37ef85[_0x53679d(0x169)]()+0x6);else{if(_0x2ecb8a===_0x53679d(0x158))_0x49e885=new Date(_0x51fc81[_0x53679d(0x139)](),_0x51fc81['getMonth'](),0x1),_0x37ef85=new Date(_0x51fc81[_0x53679d(0x139)](),_0x51fc81['getMonth']()+0x1,0x0);else{!document[_0x53679d(0x19d)](_0x53679d(0x154))['value']&&(document[_0x53679d(0x19d)](_0x53679d(0x154))[_0x53679d(0x1d6)]=getLocalDateStr(_0x51fc81),document[_0x53679d(0x19d)](_0x53679d(0x13d))[_0x53679d(0x1d6)]=getLocalDateStr(_0x51fc81));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x53679d(0x1d6)]=getLocalDateStr(_0x49e885),document[_0x53679d(0x19d)]('anEnd')[_0x53679d(0x1d6)]=getLocalDateStr(_0x37ef85),refreshAnalytics();}function refreshAnalytics(){const _0x13fcbf=a3_0x36cd5d,_0x5d9677=document[_0x13fcbf(0x19d)](_0x13fcbf(0x154))['value'],_0x5483d8=document[_0x13fcbf(0x19d)](_0x13fcbf(0x13d))[_0x13fcbf(0x1d6)];if(!_0x5d9677||!_0x5483d8)return;const _0x2d10c8=sessions[_0x13fcbf(0x150)](_0x160b17=>_0x160b17[_0x13fcbf(0x1a0)]>=_0x5d9677&&_0x160b17[_0x13fcbf(0x1a0)]<=_0x5483d8&&_0x160b17[_0x13fcbf(0x127)]!==_0x13fcbf(0x1a4)),_0x4148a0=_0x2d10c8['length'],_0x2d7e07=_0x2d10c8[_0x13fcbf(0x150)](_0x3b83f0=>_0x3b83f0[_0x13fcbf(0x127)]===_0x13fcbf(0x1e2))['length'],_0x17ce24=_0x4148a0>0x0?Math[_0x13fcbf(0x171)](_0x2d7e07/_0x4148a0*0x64):0x0;document['getElementById'](_0x13fcbf(0x1b1))[_0x13fcbf(0x172)]=_0x17ce24+'%',document[_0x13fcbf(0x19d)](_0x13fcbf(0x18d))[_0x13fcbf(0x172)]=_0x2d7e07+'\x20–∏–∑\x20'+_0x4148a0+_0x13fcbf(0x19c);const _0x1d928f=document[_0x13fcbf(0x19d)](_0x13fcbf(0x1e1)),_0x1df4a9=0x2*Math['PI']*0x23,_0x2ef325=_0x1df4a9-_0x17ce24/0x64*_0x1df4a9;_0x1d928f[_0x13fcbf(0x1c8)][_0x13fcbf(0x1b0)]=_0x2ef325;const _0x458b34={};_0x2d10c8[_0x13fcbf(0x11c)](_0x2f75db=>{const _0x49d967=_0x13fcbf,_0x4b6f3b=_0x2f75db[_0x49d967(0x19b)]||_0x49d967(0x17a);if(!_0x458b34[_0x4b6f3b]){const _0x230366='#'+_0x4b6f3b[_0x49d967(0x16f)]()['substr'](0x0,0x6);_0x458b34[_0x4b6f3b]={'total':0x0,'done':0x0,'color':_0x230366};}_0x458b34[_0x4b6f3b][_0x49d967(0x122)]++;if(_0x2f75db['status']===_0x49d967(0x1e2))_0x458b34[_0x4b6f3b][_0x49d967(0x10d)]++;});const _0xa15409=document[_0x13fcbf(0x19d)](_0x13fcbf(0x1a1));_0xa15409[_0x13fcbf(0x19e)]='';const _0x58e63a=Object[_0x13fcbf(0x1bb)](_0x458b34)[_0x13fcbf(0x13a)]((_0x2f7dd1,_0x99453e)=>_0x99453e[0x1][_0x13fcbf(0x122)]-_0x2f7dd1[0x1]['total']);if(_0x58e63a[_0x13fcbf(0x187)]===0x0){_0xa15409[_0x13fcbf(0x19e)]=_0x13fcbf(0x16b);return;}_0x58e63a[_0x13fcbf(0x11c)](([_0x2c7d1c,_0x296549])=>{const _0x5e73a7=_0x13fcbf,_0xe65707=Math['round'](_0x296549['done']/_0x296549[_0x5e73a7(0x122)]*0x64),_0x13fde9=document[_0x5e73a7(0x16a)]('div');_0x13fde9[_0x5e73a7(0x1fa)]=_0x5e73a7(0x1de),_0x13fde9[_0x5e73a7(0x1c8)]['borderLeftColor']=_0x296549[_0x5e73a7(0x1f9)],_0x13fde9['innerHTML']=_0x5e73a7(0x1ef)+_0x2c7d1c[_0x5e73a7(0x110)](0x0,0x5)+_0x5e73a7(0x1ca)+_0x296549[_0x5e73a7(0x10d)]+_0x5e73a7(0x1ea)+_0x296549['total']+_0x5e73a7(0x1be)+_0xe65707+_0x5e73a7(0x15e),_0xa15409[_0x5e73a7(0x1bd)](_0x13fde9);});}function openDetails(_0x5f6e94){const _0x333e92=a3_0x36cd5d;currentSession=_0x5f6e94;const _0x279423=new Date(_0x5f6e94[_0x333e92(0x1a0)]),_0x4cccb7=_0x279423['toLocaleDateString'](_0x333e92(0x147),{'weekday':'long','day':_0x333e92(0x1e6),'month':_0x333e92(0x10e)});document[_0x333e92(0x19d)](_0x333e92(0x161))[_0x333e92(0x172)]=_0x4cccb7[_0x333e92(0x174)](0x0)['toUpperCase']()+_0x4cccb7[_0x333e92(0x18f)](0x1),document[_0x333e92(0x19d)](_0x333e92(0x14d))['textContent']=_0x5f6e94[_0x333e92(0x202)]+_0x333e92(0x203)+_0x5f6e94['end'],document[_0x333e92(0x19d)](_0x333e92(0x106))[_0x333e92(0x172)]=_0x5f6e94['note']||_0x333e92(0x1e5);const _0x346740=document['getElementById'](_0x333e92(0x182)),_0x149a01=document[_0x333e92(0x19d)](_0x333e92(0x129)),_0x4fa11a=_0x149a01['querySelector']('.btn-cancel'),_0x5483d4=_0x149a01[_0x333e92(0x1dc)](_0x333e92(0x1cb)),_0x4734f1=document['getElementById'](_0x333e92(0x11a));if(_0x5f6e94[_0x333e92(0x127)]==='completed')_0x346740['textContent']=_0x333e92(0x1fe),_0x346740['style'][_0x333e92(0x1f9)]=_0x333e92(0x1b8),_0x149a01['style'][_0x333e92(0x155)]=_0x333e92(0x10b);else{_0x346740['textContent']=_0x333e92(0x14b),_0x346740[_0x333e92(0x1c8)]['color']='var(--acc-blue)',_0x149a01[_0x333e92(0x1c8)][_0x333e92(0x155)]=_0x333e92(0x1ee);const _0x2416af=new Date(_0x5f6e94[_0x333e92(0x1a0)]+'T'+_0x5f6e94['start']),_0x3b7a6d=new Date(),_0x56ed74=(_0x2416af-_0x3b7a6d)/(0x3e8*0x3c*0x3c),_0x2d31b3=coachProfiles[_0x5f6e94[_0x333e92(0x19b)]]&&coachProfiles[_0x5f6e94['coachId']][_0x333e92(0x160)]?parseInt(coachProfiles[_0x5f6e94[_0x333e92(0x19b)]][_0x333e92(0x160)]):0x18;if(_0x2d31b3===0x0||_0x56ed74>=_0x2d31b3)_0x4fa11a[_0x333e92(0x1c8)][_0x333e92(0x155)]=_0x333e92(0x1ee),_0x5483d4[_0x333e92(0x1c8)][_0x333e92(0x155)]=_0x333e92(0x1ee),_0x4734f1['style'][_0x333e92(0x155)]=_0x333e92(0x10b);else{_0x4fa11a[_0x333e92(0x1c8)][_0x333e92(0x155)]=_0x333e92(0x10b),_0x5483d4['style'][_0x333e92(0x155)]=_0x333e92(0x10b),_0x4734f1[_0x333e92(0x1c8)][_0x333e92(0x155)]='block';let _0x14dd07=_0x2d31b3===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x333e92(0x1e3)+_0x2d31b3+_0x333e92(0x151);_0x4734f1[_0x333e92(0x172)]=_0x333e92(0x1d2)+_0x14dd07+_0x333e92(0x137);}}document[_0x333e92(0x19d)](_0x333e92(0x165))[_0x333e92(0x1f4)][_0x333e92(0x1dd)](_0x333e92(0x1b7)),document[_0x333e92(0x19d)](_0x333e92(0x142))[_0x333e92(0x1f4)]['add']('open');}function closeAllSheets(){const _0x4c0c5f=a3_0x36cd5d;document[_0x4c0c5f(0x19d)](_0x4c0c5f(0x165))[_0x4c0c5f(0x1f4)]['remove'](_0x4c0c5f(0x1b7)),document[_0x4c0c5f(0x15f)](_0x4c0c5f(0x159))['forEach'](_0x2131de=>_0x2131de[_0x4c0c5f(0x1f4)][_0x4c0c5f(0x1a7)](_0x4c0c5f(0x1f7)));}function openSheet(_0x2ca2eb){const _0x5d2a53=a3_0x36cd5d;document[_0x5d2a53(0x19d)](_0x5d2a53(0x165))[_0x5d2a53(0x1f4)]['add'](_0x5d2a53(0x1b7)),document['getElementById'](_0x2ca2eb)[_0x5d2a53(0x1f4)]['add'](_0x5d2a53(0x1f7));}function getLocalDateStr(_0x2ded84){const _0x4417f2=a3_0x36cd5d,_0x5d07ce=_0x2ded84['getFullYear'](),_0x3c64ad=String(_0x2ded84['getMonth']()+0x1)['padStart'](0x2,'0'),_0x5b5194=String(_0x2ded84[_0x4417f2(0x169)]())['padStart'](0x2,'0');return _0x5d07ce+'-'+_0x3c64ad+'-'+_0x5b5194;}function getStartOfWeek(_0x273e57){const _0x4e0e3d=a3_0x36cd5d,_0x4aa8d8=new Date(_0x273e57),_0x8b10c5=_0x4aa8d8[_0x4e0e3d(0x1da)](),_0x4521b3=_0x4aa8d8[_0x4e0e3d(0x169)]()-_0x8b10c5+(_0x8b10c5===0x0?-0x6:0x1);return _0x4aa8d8[_0x4e0e3d(0x193)](_0x4521b3),_0x4aa8d8['setHours'](0x0,0x0,0x0,0x0),_0x4aa8d8;}function scrollToToday(){const _0x92e2c9=getLocalDateStr(new Date());setTimeout(()=>{const _0x915aa8=a3_0xb4bf,_0x253857=document[_0x915aa8(0x1dc)]('.day-col-header[data-date=\x22'+_0x92e2c9+'\x22]');if(_0x253857){const _0x1b2dac=document[_0x915aa8(0x19d)](_0x915aa8(0x15d)),_0x598fed=_0x253857[_0x915aa8(0x1f8)]-_0x1b2dac[_0x915aa8(0x120)]/0x2+_0x253857[_0x915aa8(0x1c5)]/0x2;_0x1b2dac[_0x915aa8(0x128)]({'left':_0x598fed,'behavior':_0x915aa8(0x1fd)}),_0x1b2dac[_0x915aa8(0x1d1)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x514860=a3_0x36cd5d,_0x3bb968=new Date(),_0x4d908a=document['getElementById'](_0x514860(0x10f)),_0x31812a=document[_0x514860(0x19d)](_0x514860(0x192)),_0x4da578=(_0x3bb968[_0x514860(0x1b2)]()*0x3c+_0x3bb968['getMinutes']())/0x3c*GRID_H;_0x4d908a[_0x514860(0x1c8)][_0x514860(0x157)]=_0x4da578+'px',_0x4d908a['style'][_0x514860(0x155)]=_0x514860(0x1ee),_0x31812a[_0x514860(0x1c8)][_0x514860(0x157)]=_0x4da578+'px',_0x31812a[_0x514860(0x1c8)][_0x514860(0x155)]=_0x514860(0x1ee),_0x31812a['textContent']=String(_0x3bb968[_0x514860(0x1b2)]())[_0x514860(0x13e)](0x2,'0')+':'+String(_0x3bb968[_0x514860(0x1d3)]())[_0x514860(0x13e)](0x2,'0');}function onScroll(){const _0x5397dc=a3_0x36cd5d,_0x5472a4=document[_0x5397dc(0x19d)](_0x5397dc(0x15d)),_0x5e8d20=document[_0x5397dc(0x15f)](_0x5397dc(0x121));for(let _0x9264c4 of _0x5e8d20)if(_0x9264c4[_0x5397dc(0x1f8)]>=_0x5472a4[_0x5397dc(0x14a)]){const _0x4c9109=new Date(_0x9264c4['getAttribute'](_0x5397dc(0x166)));document[_0x5397dc(0x19d)]('headerMonth')[_0x5397dc(0x172)]=_0x4c9109[_0x5397dc(0x191)]('ru',{'month':_0x5397dc(0x10e)})[_0x5397dc(0x1ec)]()+'\x20'+_0x4c9109['getFullYear']();break;}}function showToast(_0x3d0d02){const _0xa706d6=a3_0x36cd5d,_0x565b80=document[_0xa706d6(0x19d)](_0xa706d6(0x123));_0x565b80[_0xa706d6(0x172)]=_0x3d0d02,_0x565b80[_0xa706d6(0x1f4)][_0xa706d6(0x1dd)](_0xa706d6(0x104)),setTimeout(()=>_0x565b80['classList'][_0xa706d6(0x1a7)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x5d7191=a3_0x36cd5d,_0x15e5ba=document[_0x5d7191(0x19d)](_0x5d7191(0x15d)),_0x422b8c=_0x15e5ba['scrollLeft'],_0x41127b=_0x15e5ba[_0x5d7191(0x19a)],_0x240317=_0x15e5ba[_0x5d7191(0x120)];if(_0x41127b-(_0x422b8c+_0x240317)<0x12c){const _0x1256f6=endOffset;endOffset+=0xe,renderDayRange(_0x1256f6+0x1,endOffset),reRenderBlocks();}if(_0x422b8c<0x12c){const _0x3dd905=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3dd905-0x1),_0x15e5ba[_0x5d7191(0x14a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x6ad3e4,_0x369248){const _0x373b40=a3_0x36cd5d,_0xa24bc0=document[_0x373b40(0x19d)](_0x373b40(0x10c)),_0x13d8fe=document[_0x373b40(0x19d)]('gridColumns'),_0xb86018=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x7356b0=new Date();_0x7356b0[_0x373b40(0x18a)](0x0,0x0,0x0,0x0);const _0x48dc99=getLocalDateStr(new Date()),_0x2b92c2=document[_0x373b40(0x1a2)](),_0x3bd65e=document[_0x373b40(0x1a2)]();for(let _0x237df7=_0x6ad3e4;_0x237df7<=_0x369248;_0x237df7++){const _0x5e6410=new Date(_0x7356b0);_0x5e6410[_0x373b40(0x193)](_0x5e6410[_0x373b40(0x169)]()+_0x237df7);const _0x16e2f3=getLocalDateStr(_0x5e6410);let _0x2d942c=_0x5e6410[_0x373b40(0x1da)]()-0x1;if(_0x2d942c===-0x1)_0x2d942c=0x6;const _0x58dacd=_0x16e2f3===_0x48dc99,_0x2f566b=document['createElement'](_0x373b40(0x15b));_0x2f566b['className']=_0x373b40(0x115)+(_0x58dacd?'today':''),_0x2f566b[_0x373b40(0x1e4)](_0x373b40(0x166),_0x16e2f3),_0x2f566b[_0x373b40(0x19e)]=_0x373b40(0x167)+_0xb86018[_0x2d942c]+_0x373b40(0x194)+_0x5e6410['getDate']()+_0x373b40(0x198),_0x2b92c2[_0x373b40(0x1bd)](_0x2f566b);const _0x22377e=document['createElement'](_0x373b40(0x15b));_0x22377e[_0x373b40(0x1fa)]=_0x373b40(0x1b6)+(_0x58dacd?_0x373b40(0x111):''),_0x22377e['setAttribute']('data-date',_0x16e2f3),_0x22377e[_0x373b40(0x1e4)](_0x373b40(0x19f),_0x2d942c),_0x3bd65e[_0x373b40(0x1bd)](_0x22377e);}_0xa24bc0[_0x373b40(0x201)](_0x2b92c2,_0xa24bc0[_0x373b40(0x1ba)]),_0x13d8fe[_0x373b40(0x201)](_0x3bd65e,_0x13d8fe[_0x373b40(0x1dc)](_0x373b40(0x186)));}function hexToRgba(_0x5b8b81,_0x43feee){const _0x5b0a16=a3_0x36cd5d;let _0x16dcdb;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5b0a16(0x179)](_0x5b8b81))return _0x16dcdb=_0x5b8b81[_0x5b0a16(0x1c2)](0x1)[_0x5b0a16(0x197)](''),_0x16dcdb[_0x5b0a16(0x187)]==0x3&&(_0x16dcdb=[_0x16dcdb[0x0],_0x16dcdb[0x0],_0x16dcdb[0x1],_0x16dcdb[0x1],_0x16dcdb[0x2],_0x16dcdb[0x2]]),_0x16dcdb='0x'+_0x16dcdb[_0x5b0a16(0x12a)](''),'rgba('+[_0x16dcdb>>0x10&0xff,_0x16dcdb>>0x8&0xff,_0x16dcdb&0xff]['join'](',')+','+_0x43feee+')';return _0x5b0a16(0x12f)+_0x43feee+')';}let confirmResolver=null;function showCustomConfirm(_0x24dca7,_0x224af1,_0x34287a=!![]){const _0x141b8d=a3_0x36cd5d;document['getElementById'](_0x141b8d(0x1fc))[_0x141b8d(0x172)]=_0x24dca7,document[_0x141b8d(0x19d)](_0x141b8d(0x1c7))['textContent']=_0x224af1;const _0x1b0d0c=document[_0x141b8d(0x19d)]('ccYesBtn');return _0x34287a?(_0x1b0d0c[_0x141b8d(0x1c8)][_0x141b8d(0x1f9)]='#ff453a',_0x1b0d0c['style'][_0x141b8d(0x114)]='600'):(_0x1b0d0c[_0x141b8d(0x1c8)]['color']=_0x141b8d(0x189),_0x1b0d0c[_0x141b8d(0x1c8)][_0x141b8d(0x114)]='600'),new Promise(_0x101375=>{const _0x688f2d=_0x141b8d;confirmResolver=_0x101375,document['getElementById'](_0x688f2d(0x180))[_0x688f2d(0x1f4)][_0x688f2d(0x1dd)](_0x688f2d(0x14f));});}function resolveCustomConfirm(_0x363783){const _0x21d491=a3_0x36cd5d;document[_0x21d491(0x19d)](_0x21d491(0x180))[_0x21d491(0x1f4)][_0x21d491(0x1a7)]('visible');if(confirmResolver)confirmResolver(_0x363783);}async function tryCancelCurrentSession(){const _0x2a7df6=a3_0x36cd5d;if(!currentSession)return;const _0xd8ead5=await showCustomConfirm(_0x2a7df6(0x168),_0x2a7df6(0x1cf),!![]);if(!_0xd8ead5)return;const _0xb15e42=currentSession;closeAllSheets(),sessions=sessions[_0x2a7df6(0x150)](_0x26d100=>_0x26d100['id']!==_0xb15e42['id']),reRenderBlocks(),showToast(_0x2a7df6(0x1ad)),lastUserActionTime=Date['now']();try{const _0x112f17=window[_0x2a7df6(0x11d)]?.['WebApp'],_0x8c9c99=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x112f17?.[_0x2a7df6(0x1aa)]||'','coachId':_0xb15e42[_0x2a7df6(0x19b)],'dateStr':_0xb15e42['dateStr'],'sessionId':_0xb15e42['id']})});if(_0x8c9c99['ok'])DataManager['saveLocally']();}catch(_0x12ced4){showToast(_0x2a7df6(0x17b));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x44c487=a3_0x36cd5d;if(!currentSession)return;document[_0x44c487(0x19d)](_0x44c487(0x142))['classList'][_0x44c487(0x1a7)](_0x44c487(0x1f7)),document['getElementById'](_0x44c487(0x1d8))[_0x44c487(0x1f4)][_0x44c487(0x1dd)]('open');const _0x5769f1=document[_0x44c487(0x19d)](_0x44c487(0x17d)),_0x1a9e28=document[_0x44c487(0x19d)](_0x44c487(0x130));_0x5769f1[_0x44c487(0x19e)]='',_0x1a9e28[_0x44c487(0x19e)]=_0x44c487(0x1ab);const [_0x1b82df,_0x3acd95]=currentSession['start'][_0x44c487(0x197)](':')[_0x44c487(0x1ac)](Number),[_0x1ed0dd,_0x3442e6]=currentSession[_0x44c487(0x12c)][_0x44c487(0x197)](':')[_0x44c487(0x1ac)](Number),_0x51f8cb=_0x1ed0dd*0x3c+_0x3442e6-(_0x1b82df*0x3c+_0x3acd95);try{const _0x194281=window[_0x44c487(0x11d)]?.['WebApp'],_0x2425ac=await fetch(API_URL,{'method':_0x44c487(0x145),'body':JSON[_0x44c487(0x1f0)]({'action':_0x44c487(0x1e9),'coachId':currentSession[_0x44c487(0x19b)],'duration':_0x51f8cb,'init_data':_0x194281?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x4b99a1=await _0x2425ac[_0x44c487(0x118)]();_0x4b99a1['ok']&&_0x4b99a1[_0x44c487(0x1fb)]?(availableSlotsCache=_0x4b99a1[_0x44c487(0x1fb)],renderRescheduleDates()):_0x1a9e28[_0x44c487(0x19e)]=_0x44c487(0x1cc);}catch(_0x16aa9f){_0x1a9e28['innerHTML']=_0x44c487(0x141);}}function renderRescheduleDates(){const _0x125702=a3_0x36cd5d,_0x55b612=document[_0x125702(0x19d)]('rsDatesTrack');_0x55b612[_0x125702(0x19e)]='';const _0x5a1e0f=Object[_0x125702(0x14e)](availableSlotsCache)[_0x125702(0x13a)](),_0x2b9bb6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5a1e0f['length']===0x0){document[_0x125702(0x19d)](_0x125702(0x130))[_0x125702(0x19e)]=_0x125702(0x1c9);return;}_0x5a1e0f['forEach']((_0x28829e,_0x45ee94)=>{const _0x438a53=_0x125702,_0x161f08=new Date(_0x28829e),_0x4391b6=_0x2b9bb6[_0x161f08['getDay']()],_0x57179d=_0x161f08[_0x438a53(0x169)](),_0x504ebe=document[_0x438a53(0x16a)](_0x438a53(0x15b));_0x504ebe[_0x438a53(0x1fa)]=_0x438a53(0x184);if(_0x45ee94===0x0)_0x504ebe['classList'][_0x438a53(0x1dd)](_0x438a53(0x1b7));_0x504ebe['innerHTML']=_0x438a53(0x16d)+_0x4391b6+'</div><div\x20class=\x22rs-day-num\x22>'+_0x57179d+_0x438a53(0x198),_0x504ebe[_0x438a53(0x1eb)]=()=>selectRsDate(_0x28829e,_0x504ebe),_0x55b612['appendChild'](_0x504ebe);}),selectRsDate(_0x5a1e0f[0x0],_0x55b612[_0x125702(0x1ba)]);}function selectRsDate(_0x4d86e6,_0x74ce6f){const _0xeac1=a3_0x36cd5d;selectedRsDate=_0x4d86e6,document['querySelectorAll'](_0xeac1(0x117))[_0xeac1(0x11c)](_0x21f606=>_0x21f606[_0xeac1(0x1f4)][_0xeac1(0x1a7)](_0xeac1(0x1b7)));if(_0x74ce6f)_0x74ce6f['classList'][_0xeac1(0x1dd)]('active');const _0xdbc21=document[_0xeac1(0x19d)]('rsSlotsGrid');_0xdbc21[_0xeac1(0x19e)]='';const _0x43bc05=availableSlotsCache[_0x4d86e6]||[];if(_0x43bc05[_0xeac1(0x187)]===0x0){_0xdbc21[_0xeac1(0x19e)]=_0xeac1(0x1cc);return;}_0x43bc05['forEach'](_0x449b94=>{const _0x5072be=_0xeac1,_0x4c394b=document[_0x5072be(0x16a)](_0x5072be(0x116));_0x4c394b[_0x5072be(0x1fa)]='rs-time-btn',_0x4c394b['textContent']=_0x449b94,_0x4c394b['onclick']=()=>confirmReschedule(_0x449b94),_0xdbc21[_0x5072be(0x1bd)](_0x4c394b);});}async function confirmReschedule(_0x945441){const _0x425ab0=a3_0x36cd5d,_0x15c956=new Date(selectedRsDate),_0xe37de=_0x15c956['toLocaleDateString'](_0x425ab0(0x147),{'day':_0x425ab0(0x1e6),'month':_0x425ab0(0x10e)}),_0x248f26=await showCustomConfirm(_0x425ab0(0x162),_0x425ab0(0x119)+_0xe37de+_0x425ab0(0x10a)+_0x945441+'?',![]);if(!_0x248f26)return;closeAllSheets(),showToast(_0x425ab0(0x17c)),lastUserActionTime=Date[_0x425ab0(0x1b3)]();const _0xc3dfdd=currentSession['dateStr'],_0xaeba97=currentSession['id'],[_0x523003,_0x23039a]=currentSession[_0x425ab0(0x202)][_0x425ab0(0x197)](':')['map'](Number),[_0x107516,_0x5d3d36]=currentSession[_0x425ab0(0x12c)][_0x425ab0(0x197)](':')['map'](Number),_0x3a96c7=_0x107516*0x3c+_0x5d3d36-(_0x523003*0x3c+_0x23039a),[_0x566b27,_0xb583c8]=_0x945441[_0x425ab0(0x197)](':')[_0x425ab0(0x1ac)](Number),_0x58984f=_0x566b27*0x3c+_0xb583c8+_0x3a96c7,_0x28fea0=Math[_0x425ab0(0x17e)](_0x58984f/0x3c),_0x1cf507=_0x58984f%0x3c,_0x5e955a=String(_0x28fea0)['padStart'](0x2,'0')+':'+String(_0x1cf507)[_0x425ab0(0x13e)](0x2,'0'),_0x4a5a67=sessions['findIndex'](_0x44f4ee=>_0x44f4ee['id']===_0xaeba97);_0x4a5a67!==-0x1&&(sessions[_0x4a5a67][_0x425ab0(0x1a0)]=selectedRsDate,sessions[_0x4a5a67][_0x425ab0(0x202)]=_0x945441,sessions[_0x4a5a67]['end']=_0x5e955a,reRenderBlocks());try{const _0x44a94c=window['Telegram']?.[_0x425ab0(0x173)],_0x31b2b5=await fetch(API_URL,{'method':_0x425ab0(0x145),'body':JSON['stringify']({'action':_0x425ab0(0x1ed),'init_data':_0x44a94c?.[_0x425ab0(0x1aa)]||'','oldSessionId':_0xaeba97,'oldDate':_0xc3dfdd,'newDate':selectedRsDate,'newTime':_0x945441,'coachId':currentSession[_0x425ab0(0x19b)]})}),_0x2e4c69=await _0x31b2b5[_0x425ab0(0x118)]();!_0x2e4c69['ok']?(showToast(_0x425ab0(0x1c6)),DataManager[_0x425ab0(0x1db)]()):(showToast(_0x425ab0(0x1a8)),DataManager[_0x425ab0(0x133)]());}catch(_0xe48a63){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x36cd5d(0x1c0),init);