const a3_0x27c830=a3_0x4ac7;(function(_0x3d925a,_0xf6c48e){const _0x52e9ca=a3_0x4ac7,_0xb21b6b=_0x3d925a();while(!![]){try{const _0x3a132e=parseInt(_0x52e9ca(0x168))/0x1+-parseInt(_0x52e9ca(0x237))/0x2+parseInt(_0x52e9ca(0x207))/0x3*(parseInt(_0x52e9ca(0x202))/0x4)+parseInt(_0x52e9ca(0x1c8))/0x5*(-parseInt(_0x52e9ca(0x17c))/0x6)+parseInt(_0x52e9ca(0x189))/0x7*(-parseInt(_0x52e9ca(0x166))/0x8)+parseInt(_0x52e9ca(0x242))/0x9*(-parseInt(_0x52e9ca(0x1c4))/0xa)+parseInt(_0x52e9ca(0x1ec))/0xb;if(_0x3a132e===_0xf6c48e)break;else _0xb21b6b['push'](_0xb21b6b['shift']());}catch(_0x599db9){_0xb21b6b['push'](_0xb21b6b['shift']());}}}(a3_0x4d74,0xe70cb));function a3_0x4d74(){const _0x143bca=['\x20–∏–∑\x20','.period-switch\x20.p-btn','POST','dateStr','getFullYear','slice','length','scrollLeft','getMinutes','600','detailsSheet','total','location','696TtIRww','\x20–≤\x20','colIndex','.btn-cancel','rsSlotsGrid','ccText','ranges','clients','setItem','note','sid','WebApp','day-col-header\x20','7yZFEvm','timeColumn','anTotalStats','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','week','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.rs-date-chip','blocked-range-part\x20stripe-bg','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','display','min','cancelContainer','toLocaleDateString','backgroundColor','onclick','blocked-slot\x20stripe-bg','detStatus','createElement','.btn-reschedule','%\x20-\x204px)','planned','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','forEach','gridColumns','toast','map','parse','push','headerMonth','setAttribute','rgba(','#ff453a','findIndex','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','syncLoad','#050505','add','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','scroll','getMonth','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','none','getHours','div','overlay','initDataUnsafe','strokeDashoffset','saveLocally','DOMContentLoaded','error','test','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','active','<div\x20class=\x22rs-day-name\x22>','\x20status-completed','.day-col-header[data-date=\x22','insertBefore','max','exceptions','2011770NqiaHa','flex','sort','backgroundPosition','52465whdgFB','T00:00:00','clientWidth','expand','daysHeaderTrack','left','getDate','</span>\x20/\x20','initData','getTime','search','(((.+)+)+)+$','data','coachId','uc_client_sessions','getDay','\x20-\x20','clientId','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','customConfirm','cancel_window','Telegram','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','calc(','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','</div><div\x20class=\x22rs-day-num\x22>','status','timeLineBadge','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','day-off-overlay\x20stripe-bg','.sheet','setBackgroundColor','split','remove','querySelectorAll','setDate','22244134zIdxYs','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','%\x20+\x202px)','stopPropagation','completed','client_cancel','user','month','v9.5-CLIENT-ANALYTICS','Error\x20setting\x20color:','</div>','event-card','addEventListener','height','var(--acc-green)','getItem','time-label','cid','appendChild','calendar','5402988WjNLbQ','mini','uc_client_settings','getElementById','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','3RTCItI','stringify','offClick','fontWeight','constructor','isArray','#0a84ff','offsetWidth','padStart','open','<div\x20class=\x22dch-day\x22>','settings','filter','rs-date-chip','rgba(10,\x20132,\x20255,\x20','numeric','charAt','.day-column','–û—Ç–º–µ–Ω–µ–Ω–æ','detNote','value','anDonutCircle','join','keys','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','anEnd','borderLeftColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end','setHours','detDate','setMonth','uc_client_list','.day-col-header','toLocaleString','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','<span>','matrixViewport','color','data-day-idx','cancelled','toString','href','visible','round','coach_profiles','long','cancelHint','588190YytHKR','get_slots','loadLocal','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','globalTimeLine','detTime','show','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','pattern','px\x200px','className','9lkdzLh','toUpperCase','getAttribute','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','log','analyticsSheet','querySelector','anStart','button','scrollWidth','block','all','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','style','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','find','done','top','custom','BackButton','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','start','anPercent','firstChild','disableVerticalSwipes','textContent','analyticsList','classList','ru-RU','floor',':00</span>','rs-time-btn','–∑–∞\x20','applyData','today','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','seriesId','router.html','</div><div\x20class=\x22dch-num\x22>','now','px\x20-','reschedule','data-date','T23:59:59','then','json','13579784TZAlhl','createDocumentFragment','983371mRKtia','day-column\x20','Error\x20setting\x20back\x20button:','var(--acc-blue)','width','setHeaderColor','entries'];a3_0x4d74=function(){return _0x143bca;};return a3_0x4d74();}const APP_VERSION=a3_0x27c830(0x1f6),API_URL=a3_0x27c830(0x1b1),GRID_H=0x3c,KEY_SESSIONS=a3_0x27c830(0x1d6),KEY_SETTINGS=a3_0x27c830(0x204),KEY_CLIENTS=a3_0x27c830(0x227);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x24dba5=a3_0x27c830,_0x2ab1d8=(function(){let _0x23847b=!![];return function(_0x2d1256,_0x1bf86c){const _0x4f453d=_0x23847b?function(){if(_0x1bf86c){const _0x59fde9=_0x1bf86c['apply'](_0x2d1256,arguments);return _0x1bf86c=null,_0x59fde9;}}:function(){};return _0x23847b=![],_0x4f453d;};}()),_0x32a909=_0x2ab1d8(this,function(){const _0x370677=a3_0x4ac7;return _0x32a909[_0x370677(0x230)]()['search'](_0x370677(0x1d3))[_0x370677(0x230)]()[_0x370677(0x20b)](_0x32a909)[_0x370677(0x1d2)](_0x370677(0x1d3));});_0x32a909();try{const _0x295e01=window['Telegram']?.['WebApp'];if(!_0x295e01)return;_0x295e01['ready'](),_0x295e01[_0x24dba5(0x1cb)]();try{_0x295e01[_0x24dba5(0x16d)](_0x24dba5(0x1ac)),_0x295e01[_0x24dba5(0x1e7)]&&_0x295e01[_0x24dba5(0x1e7)](_0x24dba5(0x1ac));}catch(_0x3a7cb0){console['log'](_0x24dba5(0x1f7),_0x3a7cb0);}try{_0x295e01[_0x24dba5(0x256)]&&(_0x295e01[_0x24dba5(0x256)][_0x24dba5(0x23d)](),_0x295e01['BackButton'][_0x24dba5(0x209)](),_0x295e01[_0x24dba5(0x256)]['onClick'](function(){const _0x450d5d=_0x24dba5;window[_0x450d5d(0x17b)][_0x450d5d(0x231)]=_0x450d5d(0x15d);}));}catch(_0x504237){console[_0x24dba5(0x246)](_0x24dba5(0x16a),_0x504237);}try{if(_0x295e01['disableVerticalSwipes'])_0x295e01[_0x24dba5(0x25c)]();}catch(_0x7ab9ab){}}catch(_0x3276d3){console[_0x24dba5(0x1ba)]('Critical\x20TMA\x20Error:',_0x3276d3);}}());function isAdmin(){const _0x3cb9c7=a3_0x27c830;try{const _0x229423=Number(window['Telegram']?.[_0x3cb9c7(0x187)]?.[_0x3cb9c7(0x1b6)]?.[_0x3cb9c7(0x1f4)]?.['id']);return _0x229423===0xbaf7174;}catch(_0x515847){return![];}}function a3_0x4ac7(_0x1ee577,_0x6b1197){_0x1ee577=_0x1ee577-0x153;const _0x557407=a3_0x4d74();let _0x23981d=_0x557407[_0x1ee577];return _0x23981d;}const DataManager={'saveLocally'(){const _0x58aa1b=a3_0x27c830;try{localStorage[_0x58aa1b(0x184)](KEY_SESSIONS,JSON[_0x58aa1b(0x208)](sessions)),localStorage[_0x58aa1b(0x184)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x58aa1b(0x184)](KEY_SETTINGS,JSON[_0x58aa1b(0x208)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x48e394){}},'loadLocal'(){const _0xe889f2=a3_0x27c830;try{const _0x4050ec=localStorage['getItem'](KEY_SESSIONS);if(_0x4050ec)sessions=JSON['parse'](_0x4050ec);const _0x4ccda6=localStorage['getItem'](KEY_CLIENTS);if(_0x4ccda6)clients=JSON[_0xe889f2(0x1a3)](_0x4ccda6);const _0x2257e1=localStorage[_0xe889f2(0x1fd)](KEY_SETTINGS);if(_0x2257e1){const _0x518a3a=JSON[_0xe889f2(0x1a3)](_0x2257e1);if(_0x518a3a[_0xe889f2(0x23f)])availabilityPattern=_0x518a3a['pattern'];if(_0x518a3a[_0xe889f2(0x182)])specialRanges=_0x518a3a[_0xe889f2(0x182)];if(_0x518a3a[_0xe889f2(0x1c3)])dateExceptions=_0x518a3a[_0xe889f2(0x1c3)];}}catch(_0x52efa8){}},async 'syncLoad'(){const _0x2665ce=a3_0x27c830,_0xec5c5b=new Date(),_0x225232=_0xec5c5b[_0x2665ce(0x173)]()+'-'+String(_0xec5c5b['getMonth']()+0x1)[_0x2665ce(0x20f)](0x2,'0'),_0x2926f2=new Date(_0xec5c5b);_0x2926f2[_0x2665ce(0x226)](_0xec5c5b['getMonth']()+0x1);const _0x42ad3e=_0x2926f2[_0x2665ce(0x173)]()+'-'+String(_0x2926f2[_0x2665ce(0x1b0)]()+0x1)[_0x2665ce(0x20f)](0x2,'0'),_0x496850=Date[_0x2665ce(0x15f)]();try{const _0x5c8f7b=window[_0x2665ce(0x1dd)]?.[_0x2665ce(0x187)],_0xed5376=_0x5c8f7b?.[_0x2665ce(0x1d0)]||'',[_0x58c0db,_0x521c69]=await Promise[_0x2665ce(0x24d)]([fetch(API_URL,{'method':_0x2665ce(0x171),'body':JSON['stringify']({'action':'client_load','init_data':_0xed5376,'month_str':_0x225232})})[_0x2665ce(0x164)](_0x2d2538=>_0x2d2538['json']()),fetch(API_URL,{'method':_0x2665ce(0x171),'body':JSON['stringify']({'action':'client_load','init_data':_0xed5376,'month_str':_0x42ad3e})})['then'](_0x120001=>_0x120001[_0x2665ce(0x165)]())]);if(lastUserActionTime>_0x496850){console['log'](_0x2665ce(0x18e));return;}if(_0x58c0db['ok'])this[_0x2665ce(0x159)](_0x58c0db[_0x2665ce(0x1d4)],_0x225232);if(_0x521c69['ok'])this[_0x2665ce(0x159)](_0x521c69[_0x2665ce(0x1d4)],_0x42ad3e);this[_0x2665ce(0x1b8)]();}catch(_0x1adda4){}},'applyData'(_0xfe03f2,_0x51632b){const _0x37b0b4=a3_0x27c830;if(!_0xfe03f2)return;if(_0xfe03f2[_0x37b0b4(0x212)]){if(_0xfe03f2[_0x37b0b4(0x212)][_0x37b0b4(0x23f)])availabilityPattern=_0xfe03f2[_0x37b0b4(0x212)][_0x37b0b4(0x23f)];if(_0xfe03f2[_0x37b0b4(0x212)][_0x37b0b4(0x182)])specialRanges=_0xfe03f2[_0x37b0b4(0x212)][_0x37b0b4(0x182)];if(_0xfe03f2[_0x37b0b4(0x212)][_0x37b0b4(0x1c3)])dateExceptions=_0xfe03f2[_0x37b0b4(0x212)]['exceptions'];}if(_0xfe03f2[_0x37b0b4(0x183)]&&Array[_0x37b0b4(0x20c)](_0xfe03f2['clients']))clients=_0xfe03f2['clients'];_0xfe03f2[_0x37b0b4(0x234)]&&(coachProfiles={...coachProfiles,..._0xfe03f2[_0x37b0b4(0x234)]}),_0xfe03f2[_0x37b0b4(0x201)]&&(sessions=sessions[_0x37b0b4(0x213)](_0x47db4c=>!_0x47db4c[_0x37b0b4(0x172)]['startsWith'](_0x51632b)),Object[_0x37b0b4(0x21e)](_0xfe03f2['calendar'])[_0x37b0b4(0x19f)](_0x3af502=>{const _0x14509d=_0xfe03f2['calendar'][_0x3af502];_0x14509d['forEach'](_0x3ec092=>{const _0x229c78=a3_0x4ac7;sessions['push']({'id':_0x3ec092['i'],'clientId':_0x3ec092['c'],'coachId':_0x3ec092[_0x229c78(0x1ff)],'dateStr':_0x51632b+'-'+_0x3af502[_0x229c78(0x20f)](0x2,'0'),'start':_0x3ec092['s'],'end':_0x3ec092['e'],'note':_0x3ec092['n']||'','status':_0x3ec092['st']||_0x229c78(0x19d),'seriesId':_0x3ec092[_0x229c78(0x186)]});});})),reRenderBlocks();}};function init(){const _0x1f4b6f=a3_0x27c830;DataManager[_0x1f4b6f(0x239)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1f4b6f(0x205)](_0x1f4b6f(0x22c))[_0x1f4b6f(0x1fa)](_0x1f4b6f(0x1af),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1f4b6f(0x1ab)]();}function renderTimeColumn(){const _0x28f418=a3_0x27c830,_0x99c871=document[_0x28f418(0x205)](_0x28f418(0x18a)),_0x356bb1=document[_0x28f418(0x205)](_0x28f418(0x1e3));_0x99c871[_0x28f418(0x24e)]='',_0x99c871[_0x28f418(0x200)](_0x356bb1);for(let _0x564d71=0x0;_0x564d71<0x18;_0x564d71++){const _0xd21c6c=document[_0x28f418(0x19a)](_0x28f418(0x1b4));_0xd21c6c[_0x28f418(0x241)]=_0x28f418(0x1fe);if(_0x564d71>0x0)_0xd21c6c[_0x28f418(0x24e)]=_0x28f418(0x22b)+String(_0x564d71)[_0x28f418(0x20f)](0x2,'0')+_0x28f418(0x156);_0x99c871[_0x28f418(0x200)](_0xd21c6c);}}function renderDayRange(_0x5bb86d,_0x3ecef5){const _0x27eb9f=a3_0x27c830,_0xa31dd7=document[_0x27eb9f(0x205)](_0x27eb9f(0x1cc)),_0x171bc2=document[_0x27eb9f(0x205)](_0x27eb9f(0x1a0)),_0x17983e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1a02e2=new Date();_0x1a02e2[_0x27eb9f(0x224)](0x0,0x0,0x0,0x0);const _0x49f5e0=getLocalDateStr(new Date());for(let _0x2d55f5=_0x5bb86d;_0x2d55f5<=_0x3ecef5;_0x2d55f5++){const _0x5e4c05=new Date(_0x1a02e2);_0x5e4c05[_0x27eb9f(0x1eb)](_0x5e4c05[_0x27eb9f(0x1ce)]()+_0x2d55f5);const _0x3ba0c2=getLocalDateStr(_0x5e4c05);let _0x2e82a6=_0x5e4c05['getDay']()-0x1;if(_0x2e82a6===-0x1)_0x2e82a6=0x6;const _0x20a578=_0x3ba0c2===_0x49f5e0,_0x240d07=document[_0x27eb9f(0x19a)](_0x27eb9f(0x1b4));_0x240d07['className']=_0x27eb9f(0x188)+(_0x20a578?'today':''),_0x240d07[_0x27eb9f(0x1a6)](_0x27eb9f(0x162),_0x3ba0c2),_0x240d07['innerHTML']=_0x27eb9f(0x211)+_0x17983e[_0x2e82a6]+_0x27eb9f(0x15e)+_0x5e4c05[_0x27eb9f(0x1ce)]()+_0x27eb9f(0x1f8),_0xa31dd7[_0x27eb9f(0x200)](_0x240d07);const _0x1bcb13=document['createElement'](_0x27eb9f(0x1b4));_0x1bcb13[_0x27eb9f(0x241)]=_0x27eb9f(0x169)+(_0x20a578?'today':''),_0x1bcb13[_0x27eb9f(0x1a6)](_0x27eb9f(0x162),_0x3ba0c2),_0x1bcb13[_0x27eb9f(0x1a6)](_0x27eb9f(0x22e),_0x2e82a6),_0x171bc2[_0x27eb9f(0x200)](_0x1bcb13);}}function reRenderBlocks(){const _0x234825=a3_0x27c830;document[_0x234825(0x1ea)](_0x234825(0x218))[_0x234825(0x19f)](_0x13ac54=>{const _0x32ad38=_0x234825;_0x13ac54[_0x32ad38(0x1ea)](_0x32ad38(0x1e4))[_0x32ad38(0x19f)](_0x17001b=>_0x17001b[_0x32ad38(0x1e9)]());const _0x22563a=_0x13ac54[_0x32ad38(0x244)](_0x32ad38(0x162)),_0x42d029=parseInt(_0x13ac54[_0x32ad38(0x244)](_0x32ad38(0x22e))),_0x3115c1=Math[_0x32ad38(0x233)](_0x13ac54['offsetLeft']);(availabilityPattern[_0x42d029]||[])[_0x32ad38(0x19f)](_0x1dc056=>{const _0x33e2f7=_0x32ad38,_0x297261=document['createElement'](_0x33e2f7(0x1b4));_0x297261[_0x33e2f7(0x241)]=_0x33e2f7(0x198),_0x297261[_0x33e2f7(0x250)]['top']=_0x1dc056*GRID_H+'px',_0x297261[_0x33e2f7(0x250)]['backgroundPosition']='-'+_0x3115c1+_0x33e2f7(0x160)+_0x1dc056*GRID_H+'px',_0x13ac54[_0x33e2f7(0x200)](_0x297261);});if(specialRanges['length']>0x0){const _0x2b0844=new Date(_0x22563a+_0x32ad38(0x1c9))['getTime'](),_0x485046=new Date(_0x22563a+_0x32ad38(0x163))[_0x32ad38(0x1d1)]();specialRanges['forEach'](_0xafbfc1=>{const _0x56ea3b=_0x32ad38,_0x49c024=new Date(_0xafbfc1[_0x56ea3b(0x259)])[_0x56ea3b(0x1d1)](),_0x449f6c=new Date(_0xafbfc1[_0x56ea3b(0x223)])[_0x56ea3b(0x1d1)](),_0x32c879=Math['max'](_0x2b0844,_0x49c024),_0xec440b=Math['min'](_0x485046,_0x449f6c);if(_0x32c879<_0xec440b){const _0xaec9da=(_0x32c879-_0x2b0844)/0x36ee80*GRID_H,_0x55a7f9=(_0xec440b-_0x32c879)/0x36ee80*GRID_H,_0x156d98=document[_0x56ea3b(0x19a)]('div');_0x55a7f9>=23.5*GRID_H?(_0x156d98[_0x56ea3b(0x241)]=_0x56ea3b(0x1e5),_0x156d98[_0x56ea3b(0x250)]['backgroundPosition']='-'+_0x3115c1+_0x56ea3b(0x240)):(_0x156d98[_0x56ea3b(0x241)]=_0x56ea3b(0x190),_0x156d98[_0x56ea3b(0x250)][_0x56ea3b(0x254)]=_0xaec9da+'px',_0x156d98[_0x56ea3b(0x250)][_0x56ea3b(0x1fb)]=_0x55a7f9+'px',_0x156d98[_0x56ea3b(0x250)][_0x56ea3b(0x1c7)]='-'+_0x3115c1+'px\x20-'+_0xaec9da+'px'),_0x13ac54[_0x56ea3b(0x200)](_0x156d98);}});}renderEventsForColumn(_0x13ac54,_0x22563a);});}function renderEventsForColumn(_0x58c776,_0x3ede75){const _0x626720=a3_0x27c830,_0x49f059=sessions[_0x626720(0x213)](_0x1ec944=>_0x1ec944[_0x626720(0x172)]===_0x3ede75),_0x2eaead=_0x49f059[_0x626720(0x1a2)](_0x1fb21b=>{const _0xf67602=_0x626720,[_0x5227ad,_0x48274a]=_0x1fb21b['start'][_0xf67602(0x1e8)](':')['map'](Number),[_0x261115,_0xe4756b]=_0x1fb21b[_0xf67602(0x223)][_0xf67602(0x1e8)](':')[_0xf67602(0x1a2)](Number);return{'data':_0x1fb21b,'start':_0x5227ad*0x3c+_0x48274a,'end':_0x261115*0x3c+_0xe4756b,'colIndex':0x0};});_0x2eaead[_0x626720(0x1c6)]((_0x2ccd61,_0x2489b3)=>_0x2ccd61[_0x626720(0x259)]-_0x2489b3[_0x626720(0x259)]||_0x2489b3['end']-_0x2489b3['start']-(_0x2ccd61[_0x626720(0x223)]-_0x2ccd61[_0x626720(0x259)]));const _0x3d2dc4=[];_0x2eaead[_0x626720(0x19f)](_0x589da9=>{const _0x97c3a9=_0x626720;let _0xe6a573=![];for(let _0x46feda=0x0;_0x46feda<_0x3d2dc4[_0x97c3a9(0x175)];_0x46feda++){const _0x152165=_0x3d2dc4[_0x46feda];if(_0x589da9[_0x97c3a9(0x259)]>=_0x152165[_0x152165[_0x97c3a9(0x175)]-0x1][_0x97c3a9(0x223)]){_0x152165[_0x97c3a9(0x1a4)](_0x589da9),_0x589da9[_0x97c3a9(0x17e)]=_0x46feda,_0xe6a573=!![];break;}}!_0xe6a573&&(_0x3d2dc4['push']([_0x589da9]),_0x589da9[_0x97c3a9(0x17e)]=_0x3d2dc4['length']-0x1);}),_0x2eaead[_0x626720(0x19f)](_0x6b45d8=>{const _0x4ffede=_0x626720;let _0x451152=0x0;_0x2eaead['forEach'](_0x57dd0b=>{const _0x4fc753=a3_0x4ac7;if(Math[_0x4fc753(0x1c2)](_0x6b45d8['start'],_0x57dd0b['start'])<Math[_0x4fc753(0x193)](_0x6b45d8[_0x4fc753(0x223)],_0x57dd0b[_0x4fc753(0x223)])&&_0x57dd0b[_0x4fc753(0x17e)]>_0x451152)_0x451152=_0x57dd0b[_0x4fc753(0x17e)];});const _0x33283d=_0x451152+0x1,_0x4ac7b9=0x64/_0x33283d,_0xa8e787=_0x6b45d8[_0x4ffede(0x17e)]*_0x4ac7b9,_0x544061=document[_0x4ffede(0x19a)](_0x4ffede(0x1b4)),_0x4e8910=_0x6b45d8[_0x4ffede(0x1d4)];let _0x436e58=_0x4ffede(0x20d);if(clients&&clients[_0x4ffede(0x175)]>0x0){const _0x58352f=clients[_0x4ffede(0x252)](_0x501229=>String(_0x501229['id'])===String(_0x4e8910[_0x4ffede(0x1d9)]));if(_0x58352f&&_0x58352f[_0x4ffede(0x22d)])_0x436e58=_0x58352f[_0x4ffede(0x22d)];}const _0x14e0ac=_0x4e8910[_0x4ffede(0x1e2)]===_0x4ffede(0x1f2),_0x468079=_0x14e0ac?0x1:0.45;_0x544061[_0x4ffede(0x241)]=_0x4ffede(0x1f9)+(_0x14e0ac?_0x4ffede(0x1bf):''),_0x544061[_0x4ffede(0x250)][_0x4ffede(0x196)]=hexToRgba(_0x436e58,_0x468079),_0x544061[_0x4ffede(0x250)][_0x4ffede(0x221)]=_0x436e58;const _0x3ec20f=_0x6b45d8[_0x4ffede(0x259)]/0x3c*GRID_H,_0x188ed2=(_0x6b45d8[_0x4ffede(0x223)]-_0x6b45d8[_0x4ffede(0x259)])/0x3c*GRID_H;_0x544061[_0x4ffede(0x250)]['top']=_0x3ec20f+'px',_0x544061[_0x4ffede(0x250)][_0x4ffede(0x1fb)]=Math[_0x4ffede(0x1c2)](_0x188ed2,0x14)+'px',_0x544061[_0x4ffede(0x250)][_0x4ffede(0x16c)]=_0x4ffede(0x1df)+_0x4ac7b9+_0x4ffede(0x19c),_0x544061[_0x4ffede(0x250)][_0x4ffede(0x1cd)]=_0x4ffede(0x1df)+_0xa8e787+_0x4ffede(0x1f0),_0x544061[_0x4ffede(0x250)]['zIndex']=0xa+_0x6b45d8[_0x4ffede(0x17e)];if(_0x4ac7b9<0x55)_0x544061[_0x4ffede(0x153)][_0x4ffede(0x1ad)](_0x4ffede(0x203));let _0x5a38b5='';if(_0x4e8910[_0x4ffede(0x15c)])_0x5a38b5+=_0x4ffede(0x22a);if(_0x14e0ac)_0x5a38b5+=_0x4ffede(0x23a);_0x544061[_0x4ffede(0x24e)]=_0x4ffede(0x24f)+_0x4e8910[_0x4ffede(0x259)]+'\x20-\x20'+_0x4e8910[_0x4ffede(0x223)]+_0x4ffede(0x1ee)+_0x5a38b5+_0x4ffede(0x222),_0x544061[_0x4ffede(0x197)]=_0x51d6da=>{const _0x1428cc=_0x4ffede;_0x51d6da[_0x1428cc(0x1f1)](),openDetails(_0x4e8910);},_0x58c776['appendChild'](_0x544061);});}function openAnalytics(){const _0x2b9553=a3_0x27c830,_0x5c5e0e=document[_0x2b9553(0x248)](_0x2b9553(0x170));setAnalyticsPeriod(_0x2b9553(0x18d),_0x5c5e0e),openSheet(_0x2b9553(0x247));}function setAnalyticsPeriod(_0x184525,_0x7ed655){const _0x464722=a3_0x27c830;currentAnPeriod=_0x184525,document['querySelectorAll'](_0x464722(0x170))['forEach'](_0x58f9c0=>_0x58f9c0[_0x464722(0x153)][_0x464722(0x1e9)](_0x464722(0x1bd)));if(_0x7ed655)_0x7ed655[_0x464722(0x153)]['add']('active');const _0x2f1482=document['getElementById']('anCustomDates');_0x2f1482['style'][_0x464722(0x192)]=_0x184525===_0x464722(0x255)?_0x464722(0x1c5):_0x464722(0x1b2);const _0x6d48fa=new Date();let _0x710125=new Date(),_0x4fd630=new Date();if(_0x184525==='week')_0x710125=getStartOfWeek(_0x6d48fa),_0x4fd630=new Date(_0x710125),_0x4fd630['setDate'](_0x4fd630[_0x464722(0x1ce)]()+0x6);else{if(_0x184525===_0x464722(0x1f5))_0x710125=new Date(_0x6d48fa[_0x464722(0x173)](),_0x6d48fa[_0x464722(0x1b0)](),0x1),_0x4fd630=new Date(_0x6d48fa[_0x464722(0x173)](),_0x6d48fa['getMonth']()+0x1,0x0);else{!document[_0x464722(0x205)](_0x464722(0x249))[_0x464722(0x21b)]&&(document[_0x464722(0x205)]('anStart')['value']=getLocalDateStr(_0x6d48fa),document['getElementById'](_0x464722(0x220))['value']=getLocalDateStr(_0x6d48fa));refreshAnalytics();return;}}document[_0x464722(0x205)]('anStart')['value']=getLocalDateStr(_0x710125),document[_0x464722(0x205)](_0x464722(0x220))[_0x464722(0x21b)]=getLocalDateStr(_0x4fd630),refreshAnalytics();}function refreshAnalytics(){const _0x350e24=a3_0x27c830,_0x4b9975=document[_0x350e24(0x205)]('anStart')[_0x350e24(0x21b)],_0x307573=document['getElementById'](_0x350e24(0x220))[_0x350e24(0x21b)];if(!_0x4b9975||!_0x307573)return;const _0x3141fc=sessions[_0x350e24(0x213)](_0x115288=>_0x115288['dateStr']>=_0x4b9975&&_0x115288['dateStr']<=_0x307573&&_0x115288[_0x350e24(0x1e2)]!==_0x350e24(0x22f)),_0x525786=_0x3141fc[_0x350e24(0x175)],_0x594f9e=_0x3141fc['filter'](_0x711653=>_0x711653[_0x350e24(0x1e2)]==='completed')['length'],_0x13f1e3=_0x525786>0x0?Math[_0x350e24(0x233)](_0x594f9e/_0x525786*0x64):0x0;document[_0x350e24(0x205)](_0x350e24(0x25a))['textContent']=_0x13f1e3+'%',document['getElementById'](_0x350e24(0x18b))[_0x350e24(0x25d)]=_0x594f9e+_0x350e24(0x16f)+_0x525786+_0x350e24(0x15b);const _0x2a88f2=document[_0x350e24(0x205)](_0x350e24(0x21c)),_0xd31d09=0x2*Math['PI']*0x23,_0x4a3589=_0xd31d09-_0x13f1e3/0x64*_0xd31d09;_0x2a88f2['style'][_0x350e24(0x1b7)]=_0x4a3589;const _0x46b148={};_0x3141fc[_0x350e24(0x19f)](_0x2bcc7b=>{const _0x2b2b68=_0x350e24,_0x2e9425=_0x2bcc7b[_0x2b2b68(0x1d5)]||'Unknown';if(!_0x46b148[_0x2e9425]){const _0x8b9058='#'+_0x2e9425['toString']()['substr'](0x0,0x6);_0x46b148[_0x2e9425]={'total':0x0,'done':0x0,'color':_0x8b9058};}_0x46b148[_0x2e9425][_0x2b2b68(0x17a)]++;if(_0x2bcc7b[_0x2b2b68(0x1e2)]===_0x2b2b68(0x1f2))_0x46b148[_0x2e9425][_0x2b2b68(0x253)]++;});const _0x466804=document['getElementById'](_0x350e24(0x25e));_0x466804[_0x350e24(0x24e)]='';const _0x52e49e=Object[_0x350e24(0x16e)](_0x46b148)[_0x350e24(0x1c6)]((_0x582fa3,_0x389ad5)=>_0x389ad5[0x1][_0x350e24(0x17a)]-_0x582fa3[0x1][_0x350e24(0x17a)]);if(_0x52e49e[_0x350e24(0x175)]===0x0){_0x466804['innerHTML']=_0x350e24(0x206);return;}_0x52e49e['forEach'](([_0xf8b759,_0x3950f5])=>{const _0x5ee92f=_0x350e24,_0x14741f=Math['round'](_0x3950f5[_0x5ee92f(0x253)]/_0x3950f5[_0x5ee92f(0x17a)]*0x64),_0x407625=document[_0x5ee92f(0x19a)]('div');_0x407625['className']='client-stat-card',_0x407625[_0x5ee92f(0x250)][_0x5ee92f(0x221)]=_0x3950f5[_0x5ee92f(0x22d)],_0x407625[_0x5ee92f(0x24e)]=_0x5ee92f(0x258)+_0xf8b759['substr'](0x0,0x5)+_0x5ee92f(0x1ef)+_0x3950f5[_0x5ee92f(0x253)]+_0x5ee92f(0x1cf)+_0x3950f5[_0x5ee92f(0x17a)]+_0x5ee92f(0x18c)+_0x14741f+_0x5ee92f(0x1ed),_0x466804[_0x5ee92f(0x200)](_0x407625);});}function openDetails(_0x266dd9){const _0x383f78=a3_0x27c830;currentSession=_0x266dd9;const _0x262450=new Date(_0x266dd9[_0x383f78(0x172)]),_0xce04fd=_0x262450['toLocaleDateString'](_0x383f78(0x154),{'weekday':_0x383f78(0x235),'day':_0x383f78(0x216),'month':_0x383f78(0x235)});document[_0x383f78(0x205)](_0x383f78(0x225))[_0x383f78(0x25d)]=_0xce04fd[_0x383f78(0x217)](0x0)[_0x383f78(0x243)]()+_0xce04fd[_0x383f78(0x174)](0x1),document[_0x383f78(0x205)](_0x383f78(0x23c))['textContent']=_0x266dd9[_0x383f78(0x259)]+_0x383f78(0x1d8)+_0x266dd9[_0x383f78(0x223)],document['getElementById'](_0x383f78(0x21a))[_0x383f78(0x25d)]=_0x266dd9[_0x383f78(0x185)]||_0x383f78(0x191);const _0x2c7006=document[_0x383f78(0x205)](_0x383f78(0x199)),_0x727cdf=document['getElementById'](_0x383f78(0x194)),_0x109960=_0x727cdf[_0x383f78(0x248)](_0x383f78(0x17f)),_0x4a51d1=_0x727cdf[_0x383f78(0x248)](_0x383f78(0x19b)),_0x203190=document[_0x383f78(0x205)](_0x383f78(0x236));if(_0x266dd9[_0x383f78(0x1e2)]===_0x383f78(0x1f2))_0x2c7006[_0x383f78(0x25d)]=_0x383f78(0x1e0),_0x2c7006['style'][_0x383f78(0x22d)]=_0x383f78(0x1fc),_0x727cdf[_0x383f78(0x250)][_0x383f78(0x192)]=_0x383f78(0x1b2);else{_0x2c7006['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x2c7006[_0x383f78(0x250)][_0x383f78(0x22d)]=_0x383f78(0x16b),_0x727cdf[_0x383f78(0x250)][_0x383f78(0x192)]=_0x383f78(0x24c);const _0x35b504=new Date(_0x266dd9[_0x383f78(0x172)]+'T'+_0x266dd9[_0x383f78(0x259)]),_0x501c26=new Date(),_0x208e20=(_0x35b504-_0x501c26)/(0x3e8*0x3c*0x3c),_0x2119a1=coachProfiles[_0x266dd9[_0x383f78(0x1d5)]]&&coachProfiles[_0x266dd9[_0x383f78(0x1d5)]][_0x383f78(0x1dc)]?parseInt(coachProfiles[_0x266dd9[_0x383f78(0x1d5)]]['cancel_window']):0x18;if(_0x2119a1===0x0||_0x208e20>=_0x2119a1)_0x109960[_0x383f78(0x250)][_0x383f78(0x192)]=_0x383f78(0x24c),_0x4a51d1['style'][_0x383f78(0x192)]=_0x383f78(0x24c),_0x203190['style']['display']=_0x383f78(0x1b2);else{_0x109960[_0x383f78(0x250)][_0x383f78(0x192)]='none',_0x4a51d1[_0x383f78(0x250)]['display']='none',_0x203190[_0x383f78(0x250)][_0x383f78(0x192)]='block';let _0x3d64d2=_0x2119a1===0x0?_0x383f78(0x257):_0x383f78(0x158)+_0x2119a1+'\x20—á.';_0x203190[_0x383f78(0x25d)]=_0x383f78(0x1de)+_0x3d64d2+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x383f78(0x205)](_0x383f78(0x1b5))[_0x383f78(0x153)][_0x383f78(0x1ad)](_0x383f78(0x1bd)),document[_0x383f78(0x205)]('detailsSheet')[_0x383f78(0x153)][_0x383f78(0x1ad)](_0x383f78(0x210));}function closeAllSheets(){const _0x57a4e=a3_0x27c830;document[_0x57a4e(0x205)](_0x57a4e(0x1b5))[_0x57a4e(0x153)][_0x57a4e(0x1e9)](_0x57a4e(0x1bd)),document[_0x57a4e(0x1ea)](_0x57a4e(0x1e6))[_0x57a4e(0x19f)](_0x46493a=>_0x46493a[_0x57a4e(0x153)][_0x57a4e(0x1e9)](_0x57a4e(0x210)));}function openSheet(_0x33b012){const _0x5c1f55=a3_0x27c830;document[_0x5c1f55(0x205)](_0x5c1f55(0x1b5))[_0x5c1f55(0x153)]['add'](_0x5c1f55(0x1bd)),document[_0x5c1f55(0x205)](_0x33b012)[_0x5c1f55(0x153)]['add'](_0x5c1f55(0x210));}function getLocalDateStr(_0x2783a0){const _0x2d20b8=a3_0x27c830,_0xd15592=_0x2783a0['getFullYear'](),_0x4e6be2=String(_0x2783a0[_0x2d20b8(0x1b0)]()+0x1)[_0x2d20b8(0x20f)](0x2,'0'),_0x53cae4=String(_0x2783a0[_0x2d20b8(0x1ce)]())[_0x2d20b8(0x20f)](0x2,'0');return _0xd15592+'-'+_0x4e6be2+'-'+_0x53cae4;}function getStartOfWeek(_0x4ba3fd){const _0x2e8466=a3_0x27c830,_0x5379ad=new Date(_0x4ba3fd),_0x2477cf=_0x5379ad['getDay'](),_0x1b765c=_0x5379ad[_0x2e8466(0x1ce)]()-_0x2477cf+(_0x2477cf===0x0?-0x6:0x1);return _0x5379ad[_0x2e8466(0x1eb)](_0x1b765c),_0x5379ad['setHours'](0x0,0x0,0x0,0x0),_0x5379ad;}function scrollToToday(){const _0x2f2b40=getLocalDateStr(new Date());setTimeout(()=>{const _0x2e3666=a3_0x4ac7,_0x145213=document[_0x2e3666(0x248)](_0x2e3666(0x1c0)+_0x2f2b40+'\x22]');if(_0x145213){const _0x150127=document[_0x2e3666(0x205)](_0x2e3666(0x22c)),_0x23f503=_0x145213['offsetLeft']-_0x150127[_0x2e3666(0x1ca)]/0x2+_0x145213[_0x2e3666(0x20e)]/0x2;_0x150127['scrollTo']({'left':_0x23f503,'behavior':'auto'}),_0x150127['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3bfd13=a3_0x27c830,_0x2fa72e=new Date(),_0x1e4903=document['getElementById'](_0x3bfd13(0x23b)),_0x55ff6f=document[_0x3bfd13(0x205)](_0x3bfd13(0x1e3)),_0x5c8863=(_0x2fa72e[_0x3bfd13(0x1b3)]()*0x3c+_0x2fa72e[_0x3bfd13(0x177)]())/0x3c*GRID_H;_0x1e4903[_0x3bfd13(0x250)]['top']=_0x5c8863+'px',_0x1e4903[_0x3bfd13(0x250)][_0x3bfd13(0x192)]=_0x3bfd13(0x24c),_0x55ff6f[_0x3bfd13(0x250)][_0x3bfd13(0x254)]=_0x5c8863+'px',_0x55ff6f[_0x3bfd13(0x250)][_0x3bfd13(0x192)]=_0x3bfd13(0x24c),_0x55ff6f[_0x3bfd13(0x25d)]=String(_0x2fa72e[_0x3bfd13(0x1b3)]())[_0x3bfd13(0x20f)](0x2,'0')+':'+String(_0x2fa72e[_0x3bfd13(0x177)]())[_0x3bfd13(0x20f)](0x2,'0');}function onScroll(){const _0x5dbf74=a3_0x27c830,_0x324448=document['getElementById'](_0x5dbf74(0x22c)),_0x147ab4=document[_0x5dbf74(0x1ea)](_0x5dbf74(0x228));for(let _0x385b8d of _0x147ab4)if(_0x385b8d['offsetLeft']>=_0x324448[_0x5dbf74(0x176)]){const _0x5c25db=new Date(_0x385b8d['getAttribute']('data-date'));document['getElementById'](_0x5dbf74(0x1a5))[_0x5dbf74(0x25d)]=_0x5c25db[_0x5dbf74(0x229)]('ru',{'month':_0x5dbf74(0x235)})[_0x5dbf74(0x243)]()+'\x20'+_0x5c25db['getFullYear']();break;}}function showToast(_0x95f6d0){const _0x2d8fe8=a3_0x27c830,_0x39f629=document[_0x2d8fe8(0x205)](_0x2d8fe8(0x1a1));_0x39f629[_0x2d8fe8(0x25d)]=_0x95f6d0,_0x39f629['classList'][_0x2d8fe8(0x1ad)](_0x2d8fe8(0x23d)),setTimeout(()=>_0x39f629['classList'][_0x2d8fe8(0x1e9)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x2cb157=a3_0x27c830,_0x5d0809=document[_0x2cb157(0x205)](_0x2cb157(0x22c)),_0x380f6b=_0x5d0809[_0x2cb157(0x176)],_0x58f987=_0x5d0809[_0x2cb157(0x24b)],_0x55d09e=_0x5d0809[_0x2cb157(0x1ca)];if(_0x58f987-(_0x380f6b+_0x55d09e)<0x12c){const _0x636600=endOffset;endOffset+=0xe,renderDayRange(_0x636600+0x1,endOffset),reRenderBlocks();}if(_0x380f6b<0x12c){const _0x316ac6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x316ac6-0x1),_0x5d0809[_0x2cb157(0x176)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x10f1a6,_0xc984ae){const _0x1772f6=a3_0x27c830,_0x3f6bc1=document[_0x1772f6(0x205)]('daysHeaderTrack'),_0x46906a=document[_0x1772f6(0x205)](_0x1772f6(0x1a0)),_0x1ff352=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x49a655=new Date();_0x49a655[_0x1772f6(0x224)](0x0,0x0,0x0,0x0);const _0x11b93b=getLocalDateStr(new Date()),_0x9fcda1=document[_0x1772f6(0x167)](),_0x3bcc75=document[_0x1772f6(0x167)]();for(let _0x15420f=_0x10f1a6;_0x15420f<=_0xc984ae;_0x15420f++){const _0x22fdab=new Date(_0x49a655);_0x22fdab[_0x1772f6(0x1eb)](_0x22fdab[_0x1772f6(0x1ce)]()+_0x15420f);const _0x1b858d=getLocalDateStr(_0x22fdab);let _0xbd53a8=_0x22fdab[_0x1772f6(0x1d7)]()-0x1;if(_0xbd53a8===-0x1)_0xbd53a8=0x6;const _0x275eb8=_0x1b858d===_0x11b93b,_0x2805f2=document['createElement']('div');_0x2805f2['className']=_0x1772f6(0x188)+(_0x275eb8?'today':''),_0x2805f2[_0x1772f6(0x1a6)](_0x1772f6(0x162),_0x1b858d),_0x2805f2[_0x1772f6(0x24e)]=_0x1772f6(0x211)+_0x1ff352[_0xbd53a8]+_0x1772f6(0x15e)+_0x22fdab['getDate']()+_0x1772f6(0x1f8),_0x9fcda1[_0x1772f6(0x200)](_0x2805f2);const _0x55602f=document[_0x1772f6(0x19a)](_0x1772f6(0x1b4));_0x55602f[_0x1772f6(0x241)]=_0x1772f6(0x169)+(_0x275eb8?_0x1772f6(0x15a):''),_0x55602f[_0x1772f6(0x1a6)](_0x1772f6(0x162),_0x1b858d),_0x55602f[_0x1772f6(0x1a6)](_0x1772f6(0x22e),_0xbd53a8),_0x3bcc75['appendChild'](_0x55602f);}_0x3f6bc1[_0x1772f6(0x1c1)](_0x9fcda1,_0x3f6bc1[_0x1772f6(0x25b)]),_0x46906a[_0x1772f6(0x1c1)](_0x3bcc75,_0x46906a['querySelector'](_0x1772f6(0x218)));}function hexToRgba(_0x37196b,_0x48ed9b){const _0x554ff7=a3_0x27c830;let _0x56ded0;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x554ff7(0x1bb)](_0x37196b))return _0x56ded0=_0x37196b['substring'](0x1)[_0x554ff7(0x1e8)](''),_0x56ded0[_0x554ff7(0x175)]==0x3&&(_0x56ded0=[_0x56ded0[0x0],_0x56ded0[0x0],_0x56ded0[0x1],_0x56ded0[0x1],_0x56ded0[0x2],_0x56ded0[0x2]]),_0x56ded0='0x'+_0x56ded0[_0x554ff7(0x21d)](''),_0x554ff7(0x1a7)+[_0x56ded0>>0x10&0xff,_0x56ded0>>0x8&0xff,_0x56ded0&0xff][_0x554ff7(0x21d)](',')+','+_0x48ed9b+')';return _0x554ff7(0x215)+_0x48ed9b+')';}let confirmResolver=null;function showCustomConfirm(_0x1bbdc6,_0x2c283d,_0x3aeaec=!![]){const _0x1c88b7=a3_0x27c830;document[_0x1c88b7(0x205)]('ccTitle')[_0x1c88b7(0x25d)]=_0x1bbdc6,document[_0x1c88b7(0x205)](_0x1c88b7(0x181))[_0x1c88b7(0x25d)]=_0x2c283d;const _0x4f4729=document[_0x1c88b7(0x205)]('ccYesBtn');return _0x3aeaec?(_0x4f4729[_0x1c88b7(0x250)]['color']=_0x1c88b7(0x1a8),_0x4f4729[_0x1c88b7(0x250)][_0x1c88b7(0x20a)]=_0x1c88b7(0x178)):(_0x4f4729[_0x1c88b7(0x250)][_0x1c88b7(0x22d)]=_0x1c88b7(0x20d),_0x4f4729[_0x1c88b7(0x250)][_0x1c88b7(0x20a)]=_0x1c88b7(0x178)),new Promise(_0x3d0834=>{const _0x4616d6=_0x1c88b7;confirmResolver=_0x3d0834,document[_0x4616d6(0x205)](_0x4616d6(0x1db))[_0x4616d6(0x153)]['add'](_0x4616d6(0x232));});}function resolveCustomConfirm(_0x3b8ef6){const _0x32dde3=a3_0x27c830;document[_0x32dde3(0x205)](_0x32dde3(0x1db))[_0x32dde3(0x153)][_0x32dde3(0x1e9)](_0x32dde3(0x232));if(confirmResolver)confirmResolver(_0x3b8ef6);}async function tryCancelCurrentSession(){const _0x55963b=a3_0x27c830;if(!currentSession)return;const _0xcea995=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0xcea995)return;const _0x406897=currentSession;closeAllSheets(),sessions=sessions[_0x55963b(0x213)](_0x243d92=>_0x243d92['id']!==_0x406897['id']),reRenderBlocks(),showToast(_0x55963b(0x219)),lastUserActionTime=Date[_0x55963b(0x15f)]();try{const _0x287ca1=window[_0x55963b(0x1dd)]?.['WebApp'],_0xbe3ed2=await fetch(API_URL,{'method':_0x55963b(0x171),'body':JSON[_0x55963b(0x208)]({'action':_0x55963b(0x1f3),'init_data':_0x287ca1?.['initData']||'','coachId':_0x406897['coachId'],'dateStr':_0x406897[_0x55963b(0x172)],'sessionId':_0x406897['id']})});if(_0xbe3ed2['ok'])DataManager[_0x55963b(0x1b8)]();}catch(_0x1974d6){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2e16a0=a3_0x27c830;if(!currentSession)return;document[_0x2e16a0(0x205)](_0x2e16a0(0x179))[_0x2e16a0(0x153)]['remove'](_0x2e16a0(0x210)),document[_0x2e16a0(0x205)]('rescheduleSheet')['classList'][_0x2e16a0(0x1ad)](_0x2e16a0(0x210));const _0x43a728=document[_0x2e16a0(0x205)]('rsDatesTrack'),_0x17fa47=document[_0x2e16a0(0x205)]('rsSlotsGrid');_0x43a728[_0x2e16a0(0x24e)]='',_0x17fa47['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x4c7b04,_0x5ad2be]=currentSession['start']['split'](':')['map'](Number),[_0x1af341,_0x25025e]=currentSession['end'][_0x2e16a0(0x1e8)](':')[_0x2e16a0(0x1a2)](Number),_0x1346b0=_0x1af341*0x3c+_0x25025e-(_0x4c7b04*0x3c+_0x5ad2be);try{const _0x10f9fb=window[_0x2e16a0(0x1dd)]?.['WebApp'],_0xb3d4bb=await fetch(API_URL,{'method':_0x2e16a0(0x171),'body':JSON[_0x2e16a0(0x208)]({'action':_0x2e16a0(0x238),'coachId':currentSession[_0x2e16a0(0x1d5)],'duration':_0x1346b0,'init_data':_0x10f9fb?.[_0x2e16a0(0x1d0)]||'','excludeSessionId':currentSession['id']})}),_0x2668c2=await _0xb3d4bb[_0x2e16a0(0x165)]();_0x2668c2['ok']&&_0x2668c2['data']?(availableSlotsCache=_0x2668c2[_0x2e16a0(0x1d4)],renderRescheduleDates()):_0x17fa47[_0x2e16a0(0x24e)]=_0x2e16a0(0x251);}catch(_0x3ca49b){_0x17fa47[_0x2e16a0(0x24e)]=_0x2e16a0(0x1bc);}}function renderRescheduleDates(){const _0x227961=a3_0x27c830,_0x13564b=document[_0x227961(0x205)]('rsDatesTrack');_0x13564b['innerHTML']='';const _0x13b9cc=Object[_0x227961(0x21e)](availableSlotsCache)[_0x227961(0x1c6)](),_0x1c8165=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x13b9cc[_0x227961(0x175)]===0x0){document[_0x227961(0x205)](_0x227961(0x180))[_0x227961(0x24e)]=_0x227961(0x1aa);return;}_0x13b9cc[_0x227961(0x19f)]((_0x4eb7c0,_0x4ad195)=>{const _0x390ca8=_0x227961,_0x3fd3b0=new Date(_0x4eb7c0),_0x54e385=_0x1c8165[_0x3fd3b0['getDay']()],_0x3da3e8=_0x3fd3b0[_0x390ca8(0x1ce)](),_0x3348cb=document['createElement'](_0x390ca8(0x1b4));_0x3348cb[_0x390ca8(0x241)]=_0x390ca8(0x214);if(_0x4ad195===0x0)_0x3348cb[_0x390ca8(0x153)][_0x390ca8(0x1ad)]('active');_0x3348cb[_0x390ca8(0x24e)]=_0x390ca8(0x1be)+_0x54e385+_0x390ca8(0x1e1)+_0x3da3e8+'</div>',_0x3348cb[_0x390ca8(0x197)]=()=>selectRsDate(_0x4eb7c0,_0x3348cb),_0x13564b['appendChild'](_0x3348cb);}),selectRsDate(_0x13b9cc[0x0],_0x13564b[_0x227961(0x25b)]);}function selectRsDate(_0x5b34fc,_0x5f4d22){const _0x27b1c7=a3_0x27c830;selectedRsDate=_0x5b34fc,document[_0x27b1c7(0x1ea)](_0x27b1c7(0x18f))['forEach'](_0x363f28=>_0x363f28[_0x27b1c7(0x153)]['remove']('active'));if(_0x5f4d22)_0x5f4d22[_0x27b1c7(0x153)][_0x27b1c7(0x1ad)](_0x27b1c7(0x1bd));const _0x33a9fb=document[_0x27b1c7(0x205)](_0x27b1c7(0x180));_0x33a9fb['innerHTML']='';const _0x13064d=availableSlotsCache[_0x5b34fc]||[];if(_0x13064d[_0x27b1c7(0x175)]===0x0){_0x33a9fb['innerHTML']=_0x27b1c7(0x251);return;}_0x13064d['forEach'](_0x8082ae=>{const _0x116776=_0x27b1c7,_0x427b47=document[_0x116776(0x19a)](_0x116776(0x24a));_0x427b47[_0x116776(0x241)]=_0x116776(0x157),_0x427b47[_0x116776(0x25d)]=_0x8082ae,_0x427b47[_0x116776(0x197)]=()=>confirmReschedule(_0x8082ae),_0x33a9fb[_0x116776(0x200)](_0x427b47);});}async function confirmReschedule(_0x3154a1){const _0x47ce94=a3_0x27c830,_0x4da754=new Date(selectedRsDate),_0x53decf=_0x4da754[_0x47ce94(0x195)](_0x47ce94(0x154),{'day':_0x47ce94(0x216),'month':_0x47ce94(0x235)}),_0xd45daa=await showCustomConfirm(_0x47ce94(0x19e),_0x47ce94(0x1da)+_0x53decf+_0x47ce94(0x17d)+_0x3154a1+'?',![]);if(!_0xd45daa)return;closeAllSheets(),showToast(_0x47ce94(0x1ae)),lastUserActionTime=Date[_0x47ce94(0x15f)]();const _0x58f0d9=currentSession['dateStr'],_0x34d8c2=currentSession['id'],[_0x434f6f,_0x212c3e]=currentSession[_0x47ce94(0x259)][_0x47ce94(0x1e8)](':')['map'](Number),[_0x4f58fc,_0x42d9e3]=currentSession[_0x47ce94(0x223)][_0x47ce94(0x1e8)](':')[_0x47ce94(0x1a2)](Number),_0x52c999=_0x4f58fc*0x3c+_0x42d9e3-(_0x434f6f*0x3c+_0x212c3e),[_0x58386c,_0x3e4ff1]=_0x3154a1[_0x47ce94(0x1e8)](':')['map'](Number),_0xc11cc6=_0x58386c*0x3c+_0x3e4ff1+_0x52c999,_0x419620=Math[_0x47ce94(0x155)](_0xc11cc6/0x3c),_0x4d46c5=_0xc11cc6%0x3c,_0x1717af=String(_0x419620)['padStart'](0x2,'0')+':'+String(_0x4d46c5)[_0x47ce94(0x20f)](0x2,'0'),_0x23d80e=sessions[_0x47ce94(0x1a9)](_0xcee6c6=>_0xcee6c6['id']===_0x34d8c2);_0x23d80e!==-0x1&&(sessions[_0x23d80e][_0x47ce94(0x172)]=selectedRsDate,sessions[_0x23d80e][_0x47ce94(0x259)]=_0x3154a1,sessions[_0x23d80e][_0x47ce94(0x223)]=_0x1717af,reRenderBlocks());try{const _0x5d1c0f=window[_0x47ce94(0x1dd)]?.['WebApp'],_0x4bdbf3=await fetch(API_URL,{'method':_0x47ce94(0x171),'body':JSON[_0x47ce94(0x208)]({'action':_0x47ce94(0x161),'init_data':_0x5d1c0f?.['initData']||'','oldSessionId':_0x34d8c2,'oldDate':_0x58f0d9,'newDate':selectedRsDate,'newTime':_0x3154a1,'coachId':currentSession[_0x47ce94(0x1d5)]})}),_0x34af61=await _0x4bdbf3[_0x47ce94(0x165)]();!_0x34af61['ok']?(showToast(_0x47ce94(0x245)),DataManager[_0x47ce94(0x1ab)]()):(showToast(_0x47ce94(0x21f)),DataManager[_0x47ce94(0x1b8)]());}catch(_0x34cbd9){showToast(_0x47ce94(0x23e));}}document['addEventListener'](a3_0x27c830(0x1b9),init);