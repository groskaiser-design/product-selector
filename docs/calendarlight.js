const a3_0x1faeb5=a3_0xfa6a;(function(_0x4b77bc,_0x456915){const _0x440eb0=a3_0xfa6a,_0x20eb81=_0x4b77bc();while(!![]){try{const _0x6d99cd=-parseInt(_0x440eb0(0x1a3))/0x1+parseInt(_0x440eb0(0x234))/0x2+-parseInt(_0x440eb0(0x1ea))/0x3+parseInt(_0x440eb0(0x182))/0x4+-parseInt(_0x440eb0(0x185))/0x5+-parseInt(_0x440eb0(0x1bc))/0x6*(parseInt(_0x440eb0(0x21c))/0x7)+-parseInt(_0x440eb0(0x17d))/0x8*(-parseInt(_0x440eb0(0x1d5))/0x9);if(_0x6d99cd===_0x456915)break;else _0x20eb81['push'](_0x20eb81['shift']());}catch(_0x51ec09){_0x20eb81['push'](_0x20eb81['shift']());}}}(a3_0x33fc,0xab4b8));const APP_VERSION=a3_0x1faeb5(0x181),API_URL=a3_0x1faeb5(0x172),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x1faeb5(0x14c),KEY_CLIENTS=a3_0x1faeb5(0x223);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1faeb5(0x1df),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4e8698=a3_0x1faeb5,_0x1f0575=(function(){let _0x4b63b5=!![];return function(_0x46c916,_0x55bd60){const _0x2cce07=_0x4b63b5?function(){const _0x133f2f=a3_0xfa6a;if(_0x55bd60){const _0x15ae4e=_0x55bd60[_0x133f2f(0x16b)](_0x46c916,arguments);return _0x55bd60=null,_0x15ae4e;}}:function(){};return _0x4b63b5=![],_0x2cce07;};}()),_0x3343a5=_0x1f0575(this,function(){const _0x31d489=a3_0xfa6a;return _0x3343a5[_0x31d489(0x1b2)]()[_0x31d489(0x1fc)]('(((.+)+)+)+$')[_0x31d489(0x1b2)]()['constructor'](_0x3343a5)['search'](_0x31d489(0x186));});_0x3343a5();try{const _0x10fb31=window[_0x4e8698(0x1e7)]?.[_0x4e8698(0x163)];if(!_0x10fb31)return;_0x10fb31['ready'](),_0x10fb31[_0x4e8698(0x1f2)]();try{_0x10fb31[_0x4e8698(0x1fb)](_0x4e8698(0x1c1)),_0x10fb31[_0x4e8698(0x1a8)]&&_0x10fb31[_0x4e8698(0x1a8)](_0x4e8698(0x1c1));}catch(_0x7ea295){console['log'](_0x4e8698(0x1a1),_0x7ea295);}try{_0x10fb31[_0x4e8698(0x235)]&&(_0x10fb31[_0x4e8698(0x235)][_0x4e8698(0x1b0)](),_0x10fb31[_0x4e8698(0x235)]['offClick'](),_0x10fb31[_0x4e8698(0x235)][_0x4e8698(0x19d)](function(){const _0x22a976=_0x4e8698;window[_0x22a976(0x16f)][_0x22a976(0x193)]='router.html';}));}catch(_0x3b483b){console['log'](_0x4e8698(0x192),_0x3b483b);}try{if(_0x10fb31[_0x4e8698(0x195)])_0x10fb31[_0x4e8698(0x195)]();}catch(_0x2260b0){}}catch(_0x5048af){console[_0x4e8698(0x19c)](_0x4e8698(0x1dd),_0x5048af);}}());function isAdmin(){const _0x2f5ca6=a3_0x1faeb5;try{const _0x529950=Number(window[_0x2f5ca6(0x1e7)]?.[_0x2f5ca6(0x163)]?.[_0x2f5ca6(0x200)]?.['user']?.['id']);return _0x529950===0xbaf7174;}catch(_0x192225){return![];}}const DataManager={'saveLocally'(){const _0x7ff92c=a3_0x1faeb5;try{localStorage[_0x7ff92c(0x21b)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x7ff92c(0x21b)](KEY_CLIENTS,JSON[_0x7ff92c(0x16d)](clients)),localStorage[_0x7ff92c(0x21b)](KEY_SETTINGS,JSON[_0x7ff92c(0x16d)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3acf14){}},'loadLocal'(){const _0x225d16=a3_0x1faeb5;try{const _0x1d6cac=localStorage[_0x225d16(0x1cc)](KEY_SESSIONS);if(_0x1d6cac)sessions=JSON[_0x225d16(0x237)](_0x1d6cac);const _0x6d2dae=localStorage[_0x225d16(0x1cc)](KEY_CLIENTS);if(_0x6d2dae)clients=JSON[_0x225d16(0x237)](_0x6d2dae);const _0x17c2ec=localStorage[_0x225d16(0x1cc)](KEY_SETTINGS);if(_0x17c2ec){const _0x3b8304=JSON['parse'](_0x17c2ec);if(_0x3b8304[_0x225d16(0x1ce)])availabilityPattern=_0x3b8304[_0x225d16(0x1ce)];if(_0x3b8304['ranges'])specialRanges=_0x3b8304[_0x225d16(0x151)];if(_0x3b8304[_0x225d16(0x159)])dateExceptions=_0x3b8304[_0x225d16(0x159)];}}catch(_0x1a017c){}},async 'syncLoad'(){const _0x4e2d48=a3_0x1faeb5,_0x55b8d1=new Date(),_0xe9c943=_0x55b8d1[_0x4e2d48(0x14f)]()+'-'+String(_0x55b8d1[_0x4e2d48(0x224)]()+0x1)[_0x4e2d48(0x1c9)](0x2,'0'),_0x424243=new Date(_0x55b8d1);_0x424243[_0x4e2d48(0x173)](_0x55b8d1[_0x4e2d48(0x224)]()+0x1);const _0x4ea9f8=_0x424243['getFullYear']()+'-'+String(_0x424243['getMonth']()+0x1)[_0x4e2d48(0x1c9)](0x2,'0'),_0x36578f=Date[_0x4e2d48(0x1bf)]();try{const _0x870dc7=window[_0x4e2d48(0x1e7)]?.['WebApp'],_0x8cf630=_0x870dc7?.[_0x4e2d48(0x21a)]||'',[_0x4390f1,_0x465f42]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x4e2d48(0x16d)]({'action':_0x4e2d48(0x153),'init_data':_0x8cf630,'month_str':_0xe9c943})})[_0x4e2d48(0x1c6)](_0x2abbf7=>_0x2abbf7[_0x4e2d48(0x22a)]()),fetch(API_URL,{'method':_0x4e2d48(0x229),'body':JSON[_0x4e2d48(0x16d)]({'action':_0x4e2d48(0x153),'init_data':_0x8cf630,'month_str':_0x4ea9f8})})[_0x4e2d48(0x1c6)](_0x477a9f=>_0x477a9f[_0x4e2d48(0x22a)]())]);if(lastUserActionTime>_0x36578f){console[_0x4e2d48(0x1ec)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x4390f1['ok'])this['applyData'](_0x4390f1[_0x4e2d48(0x1d7)],_0xe9c943);if(_0x465f42['ok'])this[_0x4e2d48(0x1ee)](_0x465f42[_0x4e2d48(0x1d7)],_0x4ea9f8);this[_0x4e2d48(0x180)]();}catch(_0x7073b4){}},'applyData'(_0x47b288,_0x588eea){const _0x20c791=a3_0x1faeb5;if(!_0x47b288)return;if(_0x47b288['settings']){if(_0x47b288[_0x20c791(0x1ef)][_0x20c791(0x1ce)])availabilityPattern=_0x47b288[_0x20c791(0x1ef)]['pattern'];if(_0x47b288[_0x20c791(0x1ef)][_0x20c791(0x151)])specialRanges=_0x47b288['settings'][_0x20c791(0x151)];if(_0x47b288[_0x20c791(0x1ef)][_0x20c791(0x159)])dateExceptions=_0x47b288[_0x20c791(0x1ef)][_0x20c791(0x159)];}if(_0x47b288['clients']&&Array[_0x20c791(0x1aa)](_0x47b288[_0x20c791(0x1a4)]))clients=_0x47b288[_0x20c791(0x1a4)];_0x47b288[_0x20c791(0x166)]&&(coachProfiles={...coachProfiles,..._0x47b288[_0x20c791(0x166)]}),_0x47b288[_0x20c791(0x205)]&&(sessions=sessions[_0x20c791(0x17a)](_0x345874=>!_0x345874[_0x20c791(0x1e9)]['startsWith'](_0x588eea)),Object['keys'](_0x47b288[_0x20c791(0x205)])[_0x20c791(0x1e4)](_0x21a494=>{const _0x4c0f2a=_0x20c791,_0xb36af=_0x47b288[_0x4c0f2a(0x205)][_0x21a494];_0xb36af[_0x4c0f2a(0x1e4)](_0x7cc2f=>{const _0x19b60a=_0x4c0f2a;sessions['push']({'id':_0x7cc2f['i'],'clientId':_0x7cc2f['c'],'coachId':_0x7cc2f[_0x19b60a(0x174)],'dateStr':_0x588eea+'-'+_0x21a494['padStart'](0x2,'0'),'start':_0x7cc2f['s'],'end':_0x7cc2f['e'],'note':_0x7cc2f['n']||'','status':_0x7cc2f['st']||'planned','seriesId':_0x7cc2f[_0x19b60a(0x175)]});});})),reRenderBlocks();}};function init(){const _0x1fdc99=a3_0x1faeb5;DataManager[_0x1fdc99(0x1d8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1fdc99(0x188)](_0x1fdc99(0x1f3))[_0x1fdc99(0x155)](_0x1fdc99(0x20c),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x584e6c=a3_0x1faeb5,_0x2e0491=document[_0x584e6c(0x188)]('timeColumn'),_0x12d82c=document[_0x584e6c(0x188)](_0x584e6c(0x1da));_0x2e0491['innerHTML']='',_0x2e0491[_0x584e6c(0x227)](_0x12d82c);for(let _0x53afdd=0x0;_0x53afdd<0x18;_0x53afdd++){const _0x443da8=document[_0x584e6c(0x215)](_0x584e6c(0x1f7));_0x443da8['className']=_0x584e6c(0x187);if(_0x53afdd>0x0)_0x443da8[_0x584e6c(0x226)]=_0x584e6c(0x204)+String(_0x53afdd)[_0x584e6c(0x1c9)](0x2,'0')+_0x584e6c(0x222);_0x2e0491[_0x584e6c(0x227)](_0x443da8);}}function renderDayRange(_0x2b390a,_0xbd7b4d){const _0x43cbd9=a3_0x1faeb5,_0x406e1a=document[_0x43cbd9(0x188)](_0x43cbd9(0x1fe)),_0xa2e53=document[_0x43cbd9(0x188)](_0x43cbd9(0x17b)),_0x2d0959=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x485b08=new Date();_0x485b08[_0x43cbd9(0x1f8)](0x0,0x0,0x0,0x0);const _0x5d427b=getLocalDateStr(new Date());for(let _0x2126d7=_0x2b390a;_0x2126d7<=_0xbd7b4d;_0x2126d7++){const _0x2baf46=new Date(_0x485b08);_0x2baf46[_0x43cbd9(0x1e2)](_0x2baf46[_0x43cbd9(0x1bb)]()+_0x2126d7);const _0x2947d7=getLocalDateStr(_0x2baf46);let _0x464a30=_0x2baf46[_0x43cbd9(0x15d)]()-0x1;if(_0x464a30===-0x1)_0x464a30=0x6;const _0x386221=_0x2947d7===_0x5d427b,_0x433e97=document[_0x43cbd9(0x215)](_0x43cbd9(0x1f7));_0x433e97['className']=_0x43cbd9(0x18f)+(_0x386221?'today':''),_0x433e97['setAttribute'](_0x43cbd9(0x1b7),_0x2947d7),_0x433e97[_0x43cbd9(0x226)]=_0x43cbd9(0x218)+_0x2d0959[_0x464a30]+_0x43cbd9(0x22e)+_0x2baf46[_0x43cbd9(0x1bb)]()+_0x43cbd9(0x1db),_0x406e1a[_0x43cbd9(0x227)](_0x433e97);const _0x4d5dc0=document[_0x43cbd9(0x215)]('div');_0x4d5dc0[_0x43cbd9(0x203)]=_0x43cbd9(0x1de)+(_0x386221?'today':''),_0x4d5dc0[_0x43cbd9(0x232)]('data-date',_0x2947d7),_0x4d5dc0[_0x43cbd9(0x232)](_0x43cbd9(0x183),_0x464a30),_0xa2e53[_0x43cbd9(0x227)](_0x4d5dc0);}}function a3_0xfa6a(_0x4ef39b,_0x45025f){_0x4ef39b=_0x4ef39b-0x14c;const _0x2dff20=a3_0x33fc();let _0x3c158b=_0x2dff20[_0x4ef39b];return _0x3c158b;}function a3_0x33fc(){const _0x4dbd5a=['uc_client_settings','mini','scrollTop','getFullYear','flex','ranges','end','client_load','client-stat-card','addEventListener','backgroundPosition','substring','slice','exceptions','onclick','length','sort','getDay','rsSlotsGrid','note','none','.rs-date-chip','toLocaleDateString','WebApp','completed','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','coach_profiles','findIndex','.day-col-header','anTotalStats','rgba(10,\x20132,\x20255,\x20','apply','day-off-overlay\x20stripe-bg','stringify','auto','location','getTime','width','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setMonth','cid','sid','textContent','T23:59:59','createDocumentFragment','px\x20-','filter','gridColumns','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','8iIDxQu','open','600','saveLocally','v9.5-CLIENT-ANALYTICS','2980800VZFpJc','data-day-idx','blocked-slot\x20stripe-bg','5793650BAtExf','(((.+)+)+)+$','time-label','getElementById','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','top','color','colIndex','anEnd','day-col-header\x20','start','–∑–∞\x20','Error\x20setting\x20back\x20button:','href','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','disableVerticalSwipes','substr','clientId','borderLeftColor','left','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','onClick','get_slots','rgba(','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','Error\x20setting\x20color:','today','1352212dKnhxi','clients','\x20–≤\x20','insertBefore','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setBackgroundColor','overlay','isArray','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','anDonutCircle','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','display','show','detTime','toString','\x20status-completed','long','active','detNote','data-date','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMinutes','detailsSheet','getDate','12kwtJGG','–û—Ç–º–µ–Ω–µ–Ω–æ','seriesId','now','rs-date-chip','#050505','height','charAt','.btn-reschedule','customConfirm','then','querySelectorAll','scrollWidth','padStart','add','scrollTo','getItem','coachId','pattern','ccTitle','test','rsDatesTrack','ru-RU','DOMContentLoaded','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','38997081MTSnCz','total','data','loadLocal','px\x200px','timeLineBadge','</div>','value','Critical\x20TMA\x20Error:','day-column\x20','week','done','rs-time-btn','setDate','visible','forEach','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Telegram','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','dateStr','3008457itotft','event-card','log','entries','applyData','settings','toast','querySelector','expand','matrixViewport','\x20—á.','fontWeight','#0a84ff','div','setHours','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','toUpperCase','setHeaderColor','search','\x20-\x20','daysHeaderTrack','floor','initDataUnsafe','anStart','map','className','<span>','calendar','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.day-column','style','join','var(--acc-blue)','blocked-range-part\x20stripe-bg','scroll','firstChild','cancel_window','#ff453a','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.sheet','max','backgroundColor','.period-switch\x20.p-btn','createElement','remove','scrollLeft','<div\x20class=\x22dch-day\x22>','custom','initData','setItem','3316523KkJBZn','split','getAttribute','block','status','find',':00</span>','uc_client_list','getMonth','round','innerHTML','appendChild','rescheduleSheet','POST','json','classList','anPercent','button','</div><div\x20class=\x22dch-num\x22>','getHours','toLocaleString','\x20–∏–∑\x20','setAttribute','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','169508lmTagw','BackButton','numeric','parse'];a3_0x33fc=function(){return _0x4dbd5a;};return a3_0x33fc();}function reRenderBlocks(){const _0x3a5792=a3_0x1faeb5;document['querySelectorAll'](_0x3a5792(0x207))[_0x3a5792(0x1e4)](_0x4112a6=>{const _0x396557=_0x3a5792;_0x4112a6['querySelectorAll'](_0x396557(0x17c))[_0x396557(0x1e4)](_0x20afec=>_0x20afec['remove']());const _0x81e021=_0x4112a6['getAttribute'](_0x396557(0x1b7)),_0x20ecfe=parseInt(_0x4112a6[_0x396557(0x21e)]('data-day-idx')),_0x344587=Math[_0x396557(0x225)](_0x4112a6['offsetLeft']);(availabilityPattern[_0x20ecfe]||[])[_0x396557(0x1e4)](_0x171d38=>{const _0x5ec9bf=_0x396557,_0xd7ee04=document[_0x5ec9bf(0x215)](_0x5ec9bf(0x1f7));_0xd7ee04['className']=_0x5ec9bf(0x184),_0xd7ee04[_0x5ec9bf(0x208)][_0x5ec9bf(0x18b)]=_0x171d38*GRID_H+'px',_0xd7ee04[_0x5ec9bf(0x208)][_0x5ec9bf(0x156)]='-'+_0x344587+'px\x20-'+_0x171d38*GRID_H+'px',_0x4112a6[_0x5ec9bf(0x227)](_0xd7ee04);});if(specialRanges[_0x396557(0x15b)]>0x0){const _0x48669a=new Date(_0x81e021+'T00:00:00')[_0x396557(0x170)](),_0x545872=new Date(_0x81e021+_0x396557(0x177))[_0x396557(0x170)]();specialRanges[_0x396557(0x1e4)](_0x5458b0=>{const _0x3a03af=_0x396557,_0xac1f7a=new Date(_0x5458b0['start'])[_0x3a03af(0x170)](),_0x2d4fff=new Date(_0x5458b0[_0x3a03af(0x152)])[_0x3a03af(0x170)](),_0x51258b=Math[_0x3a03af(0x212)](_0x48669a,_0xac1f7a),_0x3d0b42=Math[_0x3a03af(0x1e5)](_0x545872,_0x2d4fff);if(_0x51258b<_0x3d0b42){const _0x122c5b=(_0x51258b-_0x48669a)/0x36ee80*GRID_H,_0x23e8d0=(_0x3d0b42-_0x51258b)/0x36ee80*GRID_H,_0x28fbb9=document[_0x3a03af(0x215)](_0x3a03af(0x1f7));_0x23e8d0>=23.5*GRID_H?(_0x28fbb9[_0x3a03af(0x203)]=_0x3a03af(0x16c),_0x28fbb9[_0x3a03af(0x208)][_0x3a03af(0x156)]='-'+_0x344587+_0x3a03af(0x1d9)):(_0x28fbb9[_0x3a03af(0x203)]=_0x3a03af(0x20b),_0x28fbb9[_0x3a03af(0x208)][_0x3a03af(0x18b)]=_0x122c5b+'px',_0x28fbb9[_0x3a03af(0x208)]['height']=_0x23e8d0+'px',_0x28fbb9[_0x3a03af(0x208)][_0x3a03af(0x156)]='-'+_0x344587+_0x3a03af(0x179)+_0x122c5b+'px'),_0x4112a6[_0x3a03af(0x227)](_0x28fbb9);}});}renderEventsForColumn(_0x4112a6,_0x81e021);});}function renderEventsForColumn(_0x49ef20,_0x30e1e2){const _0x5297fd=a3_0x1faeb5,_0x513283=sessions[_0x5297fd(0x17a)](_0x2581e2=>_0x2581e2[_0x5297fd(0x1e9)]===_0x30e1e2),_0x4f139f=_0x513283['map'](_0x1a25af=>{const _0xd7134b=_0x5297fd,[_0x20d33a,_0x32c265]=_0x1a25af[_0xd7134b(0x190)][_0xd7134b(0x21d)](':')[_0xd7134b(0x202)](Number),[_0x695bbd,_0x5488ab]=_0x1a25af[_0xd7134b(0x152)][_0xd7134b(0x21d)](':')[_0xd7134b(0x202)](Number);return{'data':_0x1a25af,'start':_0x20d33a*0x3c+_0x32c265,'end':_0x695bbd*0x3c+_0x5488ab,'colIndex':0x0};});_0x4f139f[_0x5297fd(0x15c)]((_0x5420cc,_0x5b549f)=>_0x5420cc[_0x5297fd(0x190)]-_0x5b549f[_0x5297fd(0x190)]||_0x5b549f[_0x5297fd(0x152)]-_0x5b549f[_0x5297fd(0x190)]-(_0x5420cc[_0x5297fd(0x152)]-_0x5420cc[_0x5297fd(0x190)]));const _0x2f7b84=[];_0x4f139f[_0x5297fd(0x1e4)](_0x35bd6f=>{const _0x3def23=_0x5297fd;let _0x5aea31=![];for(let _0x5f516b=0x0;_0x5f516b<_0x2f7b84[_0x3def23(0x15b)];_0x5f516b++){const _0x45f7dd=_0x2f7b84[_0x5f516b];if(_0x35bd6f[_0x3def23(0x190)]>=_0x45f7dd[_0x45f7dd['length']-0x1][_0x3def23(0x152)]){_0x45f7dd['push'](_0x35bd6f),_0x35bd6f['colIndex']=_0x5f516b,_0x5aea31=!![];break;}}!_0x5aea31&&(_0x2f7b84['push']([_0x35bd6f]),_0x35bd6f[_0x3def23(0x18d)]=_0x2f7b84[_0x3def23(0x15b)]-0x1);}),_0x4f139f[_0x5297fd(0x1e4)](_0x44413f=>{const _0x1296ec=_0x5297fd;let _0x3f4c86=0x0;_0x4f139f[_0x1296ec(0x1e4)](_0x1dfd49=>{const _0x9a71b=_0x1296ec;if(Math[_0x9a71b(0x212)](_0x44413f['start'],_0x1dfd49['start'])<Math[_0x9a71b(0x1e5)](_0x44413f['end'],_0x1dfd49[_0x9a71b(0x152)])&&_0x1dfd49[_0x9a71b(0x18d)]>_0x3f4c86)_0x3f4c86=_0x1dfd49[_0x9a71b(0x18d)];});const _0x5d6c=_0x3f4c86+0x1,_0x173c5d=0x64/_0x5d6c,_0x30d38e=_0x44413f['colIndex']*_0x173c5d,_0x4960df=document['createElement']('div'),_0x3c472c=_0x44413f[_0x1296ec(0x1d7)];let _0x11b0ca=_0x1296ec(0x1f6);if(clients&&clients[_0x1296ec(0x15b)]>0x0){const _0x498356=clients[_0x1296ec(0x221)](_0x1128f9=>String(_0x1128f9['id'])===String(_0x3c472c[_0x1296ec(0x197)]));if(_0x498356&&_0x498356[_0x1296ec(0x18c)])_0x11b0ca=_0x498356[_0x1296ec(0x18c)];}const _0x25d98e=_0x3c472c[_0x1296ec(0x220)]===_0x1296ec(0x164),_0x1b26cf=_0x25d98e?0x1:0.45;_0x4960df['className']=_0x1296ec(0x1eb)+(_0x25d98e?_0x1296ec(0x1b3):''),_0x4960df[_0x1296ec(0x208)][_0x1296ec(0x213)]=hexToRgba(_0x11b0ca,_0x1b26cf),_0x4960df[_0x1296ec(0x208)][_0x1296ec(0x198)]=_0x11b0ca;const _0x397e4e=_0x44413f[_0x1296ec(0x190)]/0x3c*GRID_H,_0x1e88ed=(_0x44413f[_0x1296ec(0x152)]-_0x44413f[_0x1296ec(0x190)])/0x3c*GRID_H;_0x4960df['style'][_0x1296ec(0x18b)]=_0x397e4e+'px',_0x4960df[_0x1296ec(0x208)][_0x1296ec(0x1c2)]=Math[_0x1296ec(0x212)](_0x1e88ed,0x14)+'px',_0x4960df['style'][_0x1296ec(0x171)]='calc('+_0x173c5d+'%\x20-\x204px)',_0x4960df[_0x1296ec(0x208)][_0x1296ec(0x199)]='calc('+_0x30d38e+'%\x20+\x202px)',_0x4960df[_0x1296ec(0x208)]['zIndex']=0xa+_0x44413f[_0x1296ec(0x18d)];if(_0x173c5d<0x55)_0x4960df[_0x1296ec(0x22b)][_0x1296ec(0x1ca)](_0x1296ec(0x14d));let _0x1cce5c='';if(_0x3c472c[_0x1296ec(0x1be)])_0x1cce5c+=_0x1296ec(0x210);if(_0x25d98e)_0x1cce5c+=_0x1296ec(0x206);_0x4960df['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x3c472c[_0x1296ec(0x190)]+_0x1296ec(0x1fd)+_0x3c472c[_0x1296ec(0x152)]+_0x1296ec(0x1b8)+_0x1cce5c+_0x1296ec(0x19b),_0x4960df[_0x1296ec(0x15a)]=_0x2d99a1=>{_0x2d99a1['stopPropagation'](),openDetails(_0x3c472c);},_0x49ef20[_0x1296ec(0x227)](_0x4960df);});}function openAnalytics(){const _0x1ce185=a3_0x1faeb5,_0x6761bd=document['querySelector'](_0x1ce185(0x214));setAnalyticsPeriod(_0x1ce185(0x1df),_0x6761bd),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3f3b10,_0x5424bb){const _0x13c9f1=a3_0x1faeb5;currentAnPeriod=_0x3f3b10,document[_0x13c9f1(0x1c7)]('.period-switch\x20.p-btn')[_0x13c9f1(0x1e4)](_0x2f07fe=>_0x2f07fe[_0x13c9f1(0x22b)]['remove'](_0x13c9f1(0x1b5)));if(_0x5424bb)_0x5424bb['classList'][_0x13c9f1(0x1ca)](_0x13c9f1(0x1b5));const _0x2a5ae4=document['getElementById']('anCustomDates');_0x2a5ae4[_0x13c9f1(0x208)]['display']=_0x3f3b10===_0x13c9f1(0x219)?_0x13c9f1(0x150):_0x13c9f1(0x160);const _0x281104=new Date();let _0xaef74c=new Date(),_0x53603d=new Date();if(_0x3f3b10===_0x13c9f1(0x1df))_0xaef74c=getStartOfWeek(_0x281104),_0x53603d=new Date(_0xaef74c),_0x53603d[_0x13c9f1(0x1e2)](_0x53603d[_0x13c9f1(0x1bb)]()+0x6);else{if(_0x3f3b10==='month')_0xaef74c=new Date(_0x281104[_0x13c9f1(0x14f)](),_0x281104[_0x13c9f1(0x224)](),0x1),_0x53603d=new Date(_0x281104[_0x13c9f1(0x14f)](),_0x281104[_0x13c9f1(0x224)]()+0x1,0x0);else{!document[_0x13c9f1(0x188)](_0x13c9f1(0x201))[_0x13c9f1(0x1dc)]&&(document[_0x13c9f1(0x188)](_0x13c9f1(0x201))[_0x13c9f1(0x1dc)]=getLocalDateStr(_0x281104),document['getElementById'](_0x13c9f1(0x18e))[_0x13c9f1(0x1dc)]=getLocalDateStr(_0x281104));refreshAnalytics();return;}}document[_0x13c9f1(0x188)](_0x13c9f1(0x201))[_0x13c9f1(0x1dc)]=getLocalDateStr(_0xaef74c),document[_0x13c9f1(0x188)](_0x13c9f1(0x18e))[_0x13c9f1(0x1dc)]=getLocalDateStr(_0x53603d),refreshAnalytics();}function refreshAnalytics(){const _0xb876e4=a3_0x1faeb5,_0x1b5a71=document[_0xb876e4(0x188)](_0xb876e4(0x201))[_0xb876e4(0x1dc)],_0x521c49=document[_0xb876e4(0x188)](_0xb876e4(0x18e))['value'];if(!_0x1b5a71||!_0x521c49)return;const _0x181c6c=sessions[_0xb876e4(0x17a)](_0x866b0e=>_0x866b0e[_0xb876e4(0x1e9)]>=_0x1b5a71&&_0x866b0e[_0xb876e4(0x1e9)]<=_0x521c49&&_0x866b0e[_0xb876e4(0x220)]!=='cancelled'),_0x2edfad=_0x181c6c[_0xb876e4(0x15b)],_0x4cbb1a=_0x181c6c[_0xb876e4(0x17a)](_0x45dd33=>_0x45dd33[_0xb876e4(0x220)]===_0xb876e4(0x164))['length'],_0x3f38f0=_0x2edfad>0x0?Math[_0xb876e4(0x225)](_0x4cbb1a/_0x2edfad*0x64):0x0;document[_0xb876e4(0x188)](_0xb876e4(0x22c))[_0xb876e4(0x176)]=_0x3f38f0+'%',document['getElementById'](_0xb876e4(0x169))['textContent']=_0x4cbb1a+_0xb876e4(0x231)+_0x2edfad+_0xb876e4(0x1ab);const _0x36ce0f=document[_0xb876e4(0x188)](_0xb876e4(0x1ac)),_0x89e515=0x2*Math['PI']*0x23,_0x1b0f4d=_0x89e515-_0x3f38f0/0x64*_0x89e515;_0x36ce0f[_0xb876e4(0x208)]['strokeDashoffset']=_0x1b0f4d;const _0x397cf8={};_0x181c6c['forEach'](_0x38936c=>{const _0x3c3b80=_0xb876e4,_0x33df4e=_0x38936c[_0x3c3b80(0x1cd)]||'Unknown';if(!_0x397cf8[_0x33df4e]){const _0x1e0c16='#'+_0x33df4e['toString']()['substr'](0x0,0x6);_0x397cf8[_0x33df4e]={'total':0x0,'done':0x0,'color':_0x1e0c16};}_0x397cf8[_0x33df4e][_0x3c3b80(0x1d6)]++;if(_0x38936c[_0x3c3b80(0x220)]===_0x3c3b80(0x164))_0x397cf8[_0x33df4e][_0x3c3b80(0x1e0)]++;});const _0x3db634=document[_0xb876e4(0x188)]('analyticsList');_0x3db634['innerHTML']='';const _0x1c04ed=Object[_0xb876e4(0x1ed)](_0x397cf8)[_0xb876e4(0x15c)]((_0x1891c4,_0x287933)=>_0x287933[0x1][_0xb876e4(0x1d6)]-_0x1891c4[0x1]['total']);if(_0x1c04ed['length']===0x0){_0x3db634[_0xb876e4(0x226)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x1c04ed[_0xb876e4(0x1e4)](([_0x46577a,_0x4891cb])=>{const _0x2a657c=_0xb876e4,_0x391586=Math['round'](_0x4891cb[_0x2a657c(0x1e0)]/_0x4891cb[_0x2a657c(0x1d6)]*0x64),_0x118b4b=document[_0x2a657c(0x215)]('div');_0x118b4b[_0x2a657c(0x203)]=_0x2a657c(0x154),_0x118b4b[_0x2a657c(0x208)]['borderLeftColor']=_0x4891cb[_0x2a657c(0x18c)],_0x118b4b[_0x2a657c(0x226)]=_0x2a657c(0x1e6)+_0x46577a[_0x2a657c(0x196)](0x0,0x5)+_0x2a657c(0x165)+_0x4891cb[_0x2a657c(0x1e0)]+'</span>\x20/\x20'+_0x4891cb[_0x2a657c(0x1d6)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x391586+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3db634[_0x2a657c(0x227)](_0x118b4b);});}function openDetails(_0x22627f){const _0x40fa7f=a3_0x1faeb5;currentSession=_0x22627f;const _0x34222b=new Date(_0x22627f[_0x40fa7f(0x1e9)]),_0x2bcb61=_0x34222b[_0x40fa7f(0x162)](_0x40fa7f(0x1d2),{'weekday':_0x40fa7f(0x1b4),'day':_0x40fa7f(0x236),'month':'long'});document[_0x40fa7f(0x188)]('detDate')[_0x40fa7f(0x176)]=_0x2bcb61[_0x40fa7f(0x1c3)](0x0)[_0x40fa7f(0x1fa)]()+_0x2bcb61[_0x40fa7f(0x158)](0x1),document[_0x40fa7f(0x188)](_0x40fa7f(0x1b1))[_0x40fa7f(0x176)]=_0x22627f['start']+_0x40fa7f(0x1fd)+_0x22627f[_0x40fa7f(0x152)],document[_0x40fa7f(0x188)](_0x40fa7f(0x1b6))['textContent']=_0x22627f[_0x40fa7f(0x15f)]||_0x40fa7f(0x194);const _0x181bd6=document[_0x40fa7f(0x188)]('detStatus'),_0x65f545=document[_0x40fa7f(0x188)]('cancelContainer'),_0x19af10=_0x65f545[_0x40fa7f(0x1f1)]('.btn-cancel'),_0x29aae0=_0x65f545[_0x40fa7f(0x1f1)](_0x40fa7f(0x1c4)),_0x4083f1=document['getElementById']('cancelHint');if(_0x22627f['status']==='completed')_0x181bd6[_0x40fa7f(0x176)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x181bd6[_0x40fa7f(0x208)][_0x40fa7f(0x18c)]='var(--acc-green)',_0x65f545['style']['display']=_0x40fa7f(0x160);else{_0x181bd6[_0x40fa7f(0x176)]=_0x40fa7f(0x1f9),_0x181bd6[_0x40fa7f(0x208)][_0x40fa7f(0x18c)]=_0x40fa7f(0x20a),_0x65f545[_0x40fa7f(0x208)][_0x40fa7f(0x1af)]=_0x40fa7f(0x21f);const _0x4af190=new Date(_0x22627f[_0x40fa7f(0x1e9)]+'T'+_0x22627f[_0x40fa7f(0x190)]),_0x622b94=new Date(),_0x508de9=(_0x4af190-_0x622b94)/(0x3e8*0x3c*0x3c),_0x1ed699=coachProfiles[_0x22627f[_0x40fa7f(0x1cd)]]&&coachProfiles[_0x22627f[_0x40fa7f(0x1cd)]][_0x40fa7f(0x20e)]?parseInt(coachProfiles[_0x22627f[_0x40fa7f(0x1cd)]]['cancel_window']):0x18;if(_0x1ed699===0x0||_0x508de9>=_0x1ed699)_0x19af10['style'][_0x40fa7f(0x1af)]=_0x40fa7f(0x21f),_0x29aae0[_0x40fa7f(0x208)][_0x40fa7f(0x1af)]=_0x40fa7f(0x21f),_0x4083f1[_0x40fa7f(0x208)][_0x40fa7f(0x1af)]=_0x40fa7f(0x160);else{_0x19af10['style'][_0x40fa7f(0x1af)]=_0x40fa7f(0x160),_0x29aae0[_0x40fa7f(0x208)][_0x40fa7f(0x1af)]='none',_0x4083f1[_0x40fa7f(0x208)]['display']='block';let _0x28edff=_0x1ed699===0x0?_0x40fa7f(0x1d4):_0x40fa7f(0x191)+_0x1ed699+_0x40fa7f(0x1f4);_0x4083f1[_0x40fa7f(0x176)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x28edff+_0x40fa7f(0x189);}}document[_0x40fa7f(0x188)](_0x40fa7f(0x1a9))['classList']['add'](_0x40fa7f(0x1b5)),document['getElementById'](_0x40fa7f(0x1ba))['classList']['add'](_0x40fa7f(0x17e));}function closeAllSheets(){const _0x4bb9a7=a3_0x1faeb5;document[_0x4bb9a7(0x188)]('overlay')[_0x4bb9a7(0x22b)]['remove']('active'),document[_0x4bb9a7(0x1c7)](_0x4bb9a7(0x211))[_0x4bb9a7(0x1e4)](_0x54d5cc=>_0x54d5cc[_0x4bb9a7(0x22b)]['remove']('open'));}function openSheet(_0x1092b4){const _0x5940ca=a3_0x1faeb5;document[_0x5940ca(0x188)]('overlay')[_0x5940ca(0x22b)][_0x5940ca(0x1ca)]('active'),document[_0x5940ca(0x188)](_0x1092b4)['classList'][_0x5940ca(0x1ca)](_0x5940ca(0x17e));}function getLocalDateStr(_0x4b1404){const _0x5e64f0=a3_0x1faeb5,_0x46c1f0=_0x4b1404[_0x5e64f0(0x14f)](),_0x5b7aac=String(_0x4b1404['getMonth']()+0x1)[_0x5e64f0(0x1c9)](0x2,'0'),_0xb70cc=String(_0x4b1404[_0x5e64f0(0x1bb)]())[_0x5e64f0(0x1c9)](0x2,'0');return _0x46c1f0+'-'+_0x5b7aac+'-'+_0xb70cc;}function getStartOfWeek(_0x664aaf){const _0x3aff0e=a3_0x1faeb5,_0x45ff30=new Date(_0x664aaf),_0x24b34f=_0x45ff30['getDay'](),_0xfc09e8=_0x45ff30[_0x3aff0e(0x1bb)]()-_0x24b34f+(_0x24b34f===0x0?-0x6:0x1);return _0x45ff30[_0x3aff0e(0x1e2)](_0xfc09e8),_0x45ff30['setHours'](0x0,0x0,0x0,0x0),_0x45ff30;}function scrollToToday(){const _0x10bf6f=getLocalDateStr(new Date());setTimeout(()=>{const _0x4cec06=a3_0xfa6a,_0xf93f90=document[_0x4cec06(0x1f1)]('.day-col-header[data-date=\x22'+_0x10bf6f+'\x22]');if(_0xf93f90){const _0x282d65=document['getElementById']('matrixViewport'),_0x144629=_0xf93f90['offsetLeft']-_0x282d65['clientWidth']/0x2+_0xf93f90['offsetWidth']/0x2;_0x282d65[_0x4cec06(0x1cb)]({'left':_0x144629,'behavior':_0x4cec06(0x16e)}),_0x282d65[_0x4cec06(0x14e)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x396208=a3_0x1faeb5,_0xe2d1cc=new Date(),_0x387fa8=document[_0x396208(0x188)]('globalTimeLine'),_0x56c530=document[_0x396208(0x188)]('timeLineBadge'),_0x12c096=(_0xe2d1cc[_0x396208(0x22f)]()*0x3c+_0xe2d1cc[_0x396208(0x1b9)]())/0x3c*GRID_H;_0x387fa8[_0x396208(0x208)][_0x396208(0x18b)]=_0x12c096+'px',_0x387fa8['style'][_0x396208(0x1af)]='block',_0x56c530[_0x396208(0x208)][_0x396208(0x18b)]=_0x12c096+'px',_0x56c530[_0x396208(0x208)][_0x396208(0x1af)]='block',_0x56c530[_0x396208(0x176)]=String(_0xe2d1cc[_0x396208(0x22f)]())[_0x396208(0x1c9)](0x2,'0')+':'+String(_0xe2d1cc['getMinutes']())[_0x396208(0x1c9)](0x2,'0');}function onScroll(){const _0x3ce636=a3_0x1faeb5,_0x44def8=document[_0x3ce636(0x188)](_0x3ce636(0x1f3)),_0x56adaa=document[_0x3ce636(0x1c7)](_0x3ce636(0x168));for(let _0xee36f4 of _0x56adaa)if(_0xee36f4['offsetLeft']>=_0x44def8[_0x3ce636(0x217)]){const _0x3ec394=new Date(_0xee36f4[_0x3ce636(0x21e)]('data-date'));document[_0x3ce636(0x188)]('headerMonth')[_0x3ce636(0x176)]=_0x3ec394[_0x3ce636(0x230)]('ru',{'month':'long'})[_0x3ce636(0x1fa)]()+'\x20'+_0x3ec394[_0x3ce636(0x14f)]();break;}}function showToast(_0x5c15e6){const _0x1d0a95=a3_0x1faeb5,_0x3cc447=document['getElementById'](_0x1d0a95(0x1f0));_0x3cc447[_0x1d0a95(0x176)]=_0x5c15e6,_0x3cc447['classList'][_0x1d0a95(0x1ca)](_0x1d0a95(0x1b0)),setTimeout(()=>_0x3cc447['classList'][_0x1d0a95(0x216)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x10b7a5=a3_0x1faeb5,_0x56b876=document[_0x10b7a5(0x188)]('matrixViewport'),_0x1e823c=_0x56b876[_0x10b7a5(0x217)],_0x1cfd87=_0x56b876[_0x10b7a5(0x1c8)],_0x42f297=_0x56b876[_0x10b7a5(0x19a)];if(_0x1cfd87-(_0x1e823c+_0x42f297)<0x12c){const _0x58f70f=endOffset;endOffset+=0xe,renderDayRange(_0x58f70f+0x1,endOffset),reRenderBlocks();}if(_0x1e823c<0x12c){const _0x30ca89=startOffset;startOffset-=0xe,prependDays(startOffset,_0x30ca89-0x1),_0x56b876['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1cffff,_0x34ba8f){const _0x3b3fbf=a3_0x1faeb5,_0x20d697=document[_0x3b3fbf(0x188)](_0x3b3fbf(0x1fe)),_0x2ea56e=document[_0x3b3fbf(0x188)]('gridColumns'),_0x7622de=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x437599=new Date();_0x437599[_0x3b3fbf(0x1f8)](0x0,0x0,0x0,0x0);const _0x45d000=getLocalDateStr(new Date()),_0xa2422a=document['createDocumentFragment'](),_0x260d73=document[_0x3b3fbf(0x178)]();for(let _0x327672=_0x1cffff;_0x327672<=_0x34ba8f;_0x327672++){const _0x396bb3=new Date(_0x437599);_0x396bb3[_0x3b3fbf(0x1e2)](_0x396bb3['getDate']()+_0x327672);const _0x545eec=getLocalDateStr(_0x396bb3);let _0x3d906a=_0x396bb3[_0x3b3fbf(0x15d)]()-0x1;if(_0x3d906a===-0x1)_0x3d906a=0x6;const _0x31e3f6=_0x545eec===_0x45d000,_0x2f5f3e=document[_0x3b3fbf(0x215)](_0x3b3fbf(0x1f7));_0x2f5f3e[_0x3b3fbf(0x203)]=_0x3b3fbf(0x18f)+(_0x31e3f6?_0x3b3fbf(0x1a2):''),_0x2f5f3e[_0x3b3fbf(0x232)](_0x3b3fbf(0x1b7),_0x545eec),_0x2f5f3e[_0x3b3fbf(0x226)]=_0x3b3fbf(0x218)+_0x7622de[_0x3d906a]+_0x3b3fbf(0x22e)+_0x396bb3[_0x3b3fbf(0x1bb)]()+_0x3b3fbf(0x1db),_0xa2422a[_0x3b3fbf(0x227)](_0x2f5f3e);const _0x4b82d6=document['createElement'](_0x3b3fbf(0x1f7));_0x4b82d6[_0x3b3fbf(0x203)]=_0x3b3fbf(0x1de)+(_0x31e3f6?_0x3b3fbf(0x1a2):''),_0x4b82d6[_0x3b3fbf(0x232)](_0x3b3fbf(0x1b7),_0x545eec),_0x4b82d6[_0x3b3fbf(0x232)](_0x3b3fbf(0x183),_0x3d906a),_0x260d73[_0x3b3fbf(0x227)](_0x4b82d6);}_0x20d697[_0x3b3fbf(0x1a6)](_0xa2422a,_0x20d697[_0x3b3fbf(0x20d)]),_0x2ea56e[_0x3b3fbf(0x1a6)](_0x260d73,_0x2ea56e[_0x3b3fbf(0x1f1)](_0x3b3fbf(0x207)));}function hexToRgba(_0xdde490,_0x20db2b){const _0x1779e1=a3_0x1faeb5;let _0x50535c;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1779e1(0x1d0)](_0xdde490))return _0x50535c=_0xdde490[_0x1779e1(0x157)](0x1)[_0x1779e1(0x21d)](''),_0x50535c[_0x1779e1(0x15b)]==0x3&&(_0x50535c=[_0x50535c[0x0],_0x50535c[0x0],_0x50535c[0x1],_0x50535c[0x1],_0x50535c[0x2],_0x50535c[0x2]]),_0x50535c='0x'+_0x50535c[_0x1779e1(0x209)](''),_0x1779e1(0x19f)+[_0x50535c>>0x10&0xff,_0x50535c>>0x8&0xff,_0x50535c&0xff][_0x1779e1(0x209)](',')+','+_0x20db2b+')';return _0x1779e1(0x16a)+_0x20db2b+')';}let confirmResolver=null;function showCustomConfirm(_0x2451ce,_0x128fe3,_0x596748=!![]){const _0x2f20d2=a3_0x1faeb5;document[_0x2f20d2(0x188)](_0x2f20d2(0x1cf))[_0x2f20d2(0x176)]=_0x2451ce,document[_0x2f20d2(0x188)]('ccText')[_0x2f20d2(0x176)]=_0x128fe3;const _0x2dc3f7=document[_0x2f20d2(0x188)]('ccYesBtn');return _0x596748?(_0x2dc3f7[_0x2f20d2(0x208)]['color']=_0x2f20d2(0x20f),_0x2dc3f7[_0x2f20d2(0x208)][_0x2f20d2(0x1f5)]=_0x2f20d2(0x17f)):(_0x2dc3f7['style'][_0x2f20d2(0x18c)]='#0a84ff',_0x2dc3f7[_0x2f20d2(0x208)][_0x2f20d2(0x1f5)]=_0x2f20d2(0x17f)),new Promise(_0x114612=>{const _0x50d060=_0x2f20d2;confirmResolver=_0x114612,document[_0x50d060(0x188)](_0x50d060(0x1c5))['classList'][_0x50d060(0x1ca)](_0x50d060(0x1e3));});}function resolveCustomConfirm(_0xcff507){const _0x299fbf=a3_0x1faeb5;document[_0x299fbf(0x188)](_0x299fbf(0x1c5))[_0x299fbf(0x22b)][_0x299fbf(0x216)](_0x299fbf(0x1e3));if(confirmResolver)confirmResolver(_0xcff507);}async function tryCancelCurrentSession(){const _0x497226=a3_0x1faeb5;if(!currentSession)return;const _0x2c208e=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x2c208e)return;const _0x4d0b35=currentSession;closeAllSheets(),sessions=sessions[_0x497226(0x17a)](_0x4a3a0a=>_0x4a3a0a['id']!==_0x4d0b35['id']),reRenderBlocks(),showToast(_0x497226(0x1bd)),lastUserActionTime=Date['now']();try{const _0x453f27=window[_0x497226(0x1e7)]?.[_0x497226(0x163)],_0xfce0c8=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x453f27?.[_0x497226(0x21a)]||'','coachId':_0x4d0b35[_0x497226(0x1cd)],'dateStr':_0x4d0b35[_0x497226(0x1e9)],'sessionId':_0x4d0b35['id']})});if(_0xfce0c8['ok'])DataManager[_0x497226(0x180)]();}catch(_0x4da152){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x456a3b=a3_0x1faeb5;if(!currentSession)return;document[_0x456a3b(0x188)](_0x456a3b(0x1ba))[_0x456a3b(0x22b)][_0x456a3b(0x216)](_0x456a3b(0x17e)),document[_0x456a3b(0x188)](_0x456a3b(0x228))[_0x456a3b(0x22b)][_0x456a3b(0x1ca)](_0x456a3b(0x17e));const _0x37d64c=document['getElementById']('rsDatesTrack'),_0x38e606=document['getElementById'](_0x456a3b(0x15e));_0x37d64c[_0x456a3b(0x226)]='',_0x38e606[_0x456a3b(0x226)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x4330c2,_0xce382c]=currentSession[_0x456a3b(0x190)][_0x456a3b(0x21d)](':')[_0x456a3b(0x202)](Number),[_0x355f2b,_0x1d94f8]=currentSession['end'][_0x456a3b(0x21d)](':')['map'](Number),_0x6b2b17=_0x355f2b*0x3c+_0x1d94f8-(_0x4330c2*0x3c+_0xce382c);try{const _0xceb261=window['Telegram']?.[_0x456a3b(0x163)],_0x1c0528=await fetch(API_URL,{'method':_0x456a3b(0x229),'body':JSON[_0x456a3b(0x16d)]({'action':_0x456a3b(0x19e),'coachId':currentSession[_0x456a3b(0x1cd)],'duration':_0x6b2b17,'init_data':_0xceb261?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x211e29=await _0x1c0528[_0x456a3b(0x22a)]();_0x211e29['ok']&&_0x211e29['data']?(availableSlotsCache=_0x211e29[_0x456a3b(0x1d7)],renderRescheduleDates()):_0x38e606[_0x456a3b(0x226)]=_0x456a3b(0x1ae);}catch(_0x3e486a){_0x38e606[_0x456a3b(0x226)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x2ae95d=a3_0x1faeb5,_0x12bd9a=document['getElementById'](_0x2ae95d(0x1d1));_0x12bd9a[_0x2ae95d(0x226)]='';const _0x5ab079=Object['keys'](availableSlotsCache)[_0x2ae95d(0x15c)](),_0x210a92=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5ab079[_0x2ae95d(0x15b)]===0x0){document['getElementById'](_0x2ae95d(0x15e))[_0x2ae95d(0x226)]=_0x2ae95d(0x1e8);return;}_0x5ab079[_0x2ae95d(0x1e4)]((_0x21398d,_0x5321ac)=>{const _0x5a17a5=_0x2ae95d,_0x39c10c=new Date(_0x21398d),_0x1ebc5f=_0x210a92[_0x39c10c[_0x5a17a5(0x15d)]()],_0xe4e537=_0x39c10c[_0x5a17a5(0x1bb)](),_0x135932=document[_0x5a17a5(0x215)]('div');_0x135932[_0x5a17a5(0x203)]=_0x5a17a5(0x1c0);if(_0x5321ac===0x0)_0x135932[_0x5a17a5(0x22b)]['add']('active');_0x135932[_0x5a17a5(0x226)]='<div\x20class=\x22rs-day-name\x22>'+_0x1ebc5f+'</div><div\x20class=\x22rs-day-num\x22>'+_0xe4e537+_0x5a17a5(0x1db),_0x135932[_0x5a17a5(0x15a)]=()=>selectRsDate(_0x21398d,_0x135932),_0x12bd9a[_0x5a17a5(0x227)](_0x135932);}),selectRsDate(_0x5ab079[0x0],_0x12bd9a['firstChild']);}function selectRsDate(_0x34ebfc,_0x21c752){const _0x4e7edc=a3_0x1faeb5;selectedRsDate=_0x34ebfc,document[_0x4e7edc(0x1c7)](_0x4e7edc(0x161))[_0x4e7edc(0x1e4)](_0x1ac8f3=>_0x1ac8f3['classList'][_0x4e7edc(0x216)](_0x4e7edc(0x1b5)));if(_0x21c752)_0x21c752[_0x4e7edc(0x22b)][_0x4e7edc(0x1ca)](_0x4e7edc(0x1b5));const _0x11f7ad=document[_0x4e7edc(0x188)](_0x4e7edc(0x15e));_0x11f7ad[_0x4e7edc(0x226)]='';const _0x5723d5=availableSlotsCache[_0x34ebfc]||[];if(_0x5723d5[_0x4e7edc(0x15b)]===0x0){_0x11f7ad[_0x4e7edc(0x226)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x5723d5['forEach'](_0x237e05=>{const _0x5d13d4=_0x4e7edc,_0x6a6cb9=document[_0x5d13d4(0x215)](_0x5d13d4(0x22d));_0x6a6cb9['className']=_0x5d13d4(0x1e1),_0x6a6cb9[_0x5d13d4(0x176)]=_0x237e05,_0x6a6cb9[_0x5d13d4(0x15a)]=()=>confirmReschedule(_0x237e05),_0x11f7ad[_0x5d13d4(0x227)](_0x6a6cb9);});}async function confirmReschedule(_0x502899){const _0xd1bdcc=a3_0x1faeb5,_0x399257=new Date(selectedRsDate),_0x582440=_0x399257[_0xd1bdcc(0x162)](_0xd1bdcc(0x1d2),{'day':_0xd1bdcc(0x236),'month':_0xd1bdcc(0x1b4)}),_0x3e7986=await showCustomConfirm(_0xd1bdcc(0x1ad),_0xd1bdcc(0x1a0)+_0x582440+_0xd1bdcc(0x1a5)+_0x502899+'?',![]);if(!_0x3e7986)return;closeAllSheets(),showToast(_0xd1bdcc(0x233)),lastUserActionTime=Date[_0xd1bdcc(0x1bf)]();const _0x5eb899=currentSession[_0xd1bdcc(0x1e9)],_0x41f3a5=currentSession['id'],[_0x5ca2c0,_0x4f193b]=currentSession[_0xd1bdcc(0x190)][_0xd1bdcc(0x21d)](':')[_0xd1bdcc(0x202)](Number),[_0x576377,_0x236592]=currentSession['end']['split'](':')[_0xd1bdcc(0x202)](Number),_0x388150=_0x576377*0x3c+_0x236592-(_0x5ca2c0*0x3c+_0x4f193b),[_0x1e7f9e,_0x401d0c]=_0x502899[_0xd1bdcc(0x21d)](':')[_0xd1bdcc(0x202)](Number),_0x3d00db=_0x1e7f9e*0x3c+_0x401d0c+_0x388150,_0x444333=Math[_0xd1bdcc(0x1ff)](_0x3d00db/0x3c),_0x385ade=_0x3d00db%0x3c,_0x374f2a=String(_0x444333)['padStart'](0x2,'0')+':'+String(_0x385ade)['padStart'](0x2,'0'),_0x54d692=sessions[_0xd1bdcc(0x167)](_0x4fe3a8=>_0x4fe3a8['id']===_0x41f3a5);_0x54d692!==-0x1&&(sessions[_0x54d692][_0xd1bdcc(0x1e9)]=selectedRsDate,sessions[_0x54d692]['start']=_0x502899,sessions[_0x54d692][_0xd1bdcc(0x152)]=_0x374f2a,reRenderBlocks());try{const _0x3d577b=window[_0xd1bdcc(0x1e7)]?.[_0xd1bdcc(0x163)],_0x2ccd72=await fetch(API_URL,{'method':_0xd1bdcc(0x229),'body':JSON[_0xd1bdcc(0x16d)]({'action':'reschedule','init_data':_0x3d577b?.[_0xd1bdcc(0x21a)]||'','oldSessionId':_0x41f3a5,'oldDate':_0x5eb899,'newDate':selectedRsDate,'newTime':_0x502899,'coachId':currentSession[_0xd1bdcc(0x1cd)]})}),_0x5040da=await _0x2ccd72['json']();!_0x5040da['ok']?(showToast(_0xd1bdcc(0x1a7)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0xd1bdcc(0x180)]());}catch(_0x2efb86){showToast(_0xd1bdcc(0x18a));}}document[a3_0x1faeb5(0x155)](a3_0x1faeb5(0x1d3),init);