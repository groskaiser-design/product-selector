const a3_0x516669=a3_0x4fd1;(function(_0x5085e7,_0x1db3fc){const _0x1f44c8=a3_0x4fd1,_0x4fd14e=_0x5085e7();while(!![]){try{const _0x17b6ab=-parseInt(_0x1f44c8(0x27d))/0x1*(-parseInt(_0x1f44c8(0x20e))/0x2)+-parseInt(_0x1f44c8(0x256))/0x3*(parseInt(_0x1f44c8(0x1dd))/0x4)+-parseInt(_0x1f44c8(0x1fd))/0x5+parseInt(_0x1f44c8(0x1f6))/0x6*(-parseInt(_0x1f44c8(0x288))/0x7)+parseInt(_0x1f44c8(0x1ac))/0x8+parseInt(_0x1f44c8(0x271))/0x9+parseInt(_0x1f44c8(0x203))/0xa*(-parseInt(_0x1f44c8(0x294))/0xb);if(_0x17b6ab===_0x1db3fc)break;else _0x4fd14e['push'](_0x4fd14e['shift']());}catch(_0x399221){_0x4fd14e['push'](_0x4fd14e['shift']());}}}(a3_0x1ef9,0x69493));const APP_VERSION=a3_0x516669(0x1c9),API_URL=a3_0x516669(0x209),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x516669(0x299),KEY_CLIENTS=a3_0x516669(0x29b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x516669(0x268),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4aa21b=a3_0x516669,_0x50f136=(function(){let _0x1908fe=!![];return function(_0x50b0de,_0x1b57c5){const _0x2d5313=_0x1908fe?function(){const _0x1364e6=a3_0x4fd1;if(_0x1b57c5){const _0x96cef5=_0x1b57c5[_0x1364e6(0x206)](_0x50b0de,arguments);return _0x1b57c5=null,_0x96cef5;}}:function(){};return _0x1908fe=![],_0x2d5313;};}()),_0x274f96=_0x50f136(this,function(){const _0xe8dde=a3_0x4fd1;return _0x274f96[_0xe8dde(0x1b1)]()[_0xe8dde(0x239)]('(((.+)+)+)+$')[_0xe8dde(0x1b1)]()[_0xe8dde(0x272)](_0x274f96)[_0xe8dde(0x239)](_0xe8dde(0x263));});_0x274f96();try{const _0x24b842=window[_0x4aa21b(0x1a1)]?.[_0x4aa21b(0x241)];if(!_0x24b842)return;_0x24b842[_0x4aa21b(0x22b)](),_0x24b842[_0x4aa21b(0x289)]();try{_0x24b842[_0x4aa21b(0x262)](_0x4aa21b(0x232)),_0x24b842[_0x4aa21b(0x253)]&&_0x24b842[_0x4aa21b(0x253)]('#050505');}catch(_0x513c61){console[_0x4aa21b(0x1c6)](_0x4aa21b(0x1b2),_0x513c61);}try{_0x24b842[_0x4aa21b(0x235)]&&(_0x24b842[_0x4aa21b(0x235)][_0x4aa21b(0x1ee)](),_0x24b842[_0x4aa21b(0x235)][_0x4aa21b(0x22d)](),_0x24b842[_0x4aa21b(0x235)][_0x4aa21b(0x286)](function(){const _0x351b20=_0x4aa21b;window[_0x351b20(0x247)]['href']=_0x351b20(0x1bc);}));}catch(_0x304321){console[_0x4aa21b(0x1c6)](_0x4aa21b(0x1b6),_0x304321);}try{if(_0x24b842[_0x4aa21b(0x23e)])_0x24b842[_0x4aa21b(0x23e)]();}catch(_0x2d3e5a){}}catch(_0x2c5072){console[_0x4aa21b(0x287)]('Critical\x20TMA\x20Error:',_0x2c5072);}}());function isAdmin(){const _0x4c12ed=a3_0x516669;try{const _0xc6d144=Number(window[_0x4c12ed(0x1a1)]?.[_0x4c12ed(0x241)]?.[_0x4c12ed(0x1d2)]?.['user']?.['id']);return _0xc6d144===0xbaf7174;}catch(_0x5136ff){return![];}}const DataManager={'saveLocally'(){const _0x2a1ecb=a3_0x516669;try{localStorage[_0x2a1ecb(0x218)](KEY_SESSIONS,JSON[_0x2a1ecb(0x283)](sessions)),localStorage[_0x2a1ecb(0x218)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x2a1ecb(0x283)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x523c2b){}},'loadLocal'(){const _0x2f8575=a3_0x516669;try{const _0x502fb5=localStorage[_0x2f8575(0x20f)](KEY_SESSIONS);if(_0x502fb5)sessions=JSON[_0x2f8575(0x29c)](_0x502fb5);const _0x36094e=localStorage[_0x2f8575(0x20f)](KEY_CLIENTS);if(_0x36094e)clients=JSON['parse'](_0x36094e);const _0x39999b=localStorage[_0x2f8575(0x20f)](KEY_SETTINGS);if(_0x39999b){const _0x394200=JSON['parse'](_0x39999b);if(_0x394200[_0x2f8575(0x295)])availabilityPattern=_0x394200['pattern'];if(_0x394200[_0x2f8575(0x29f)])specialRanges=_0x394200['ranges'];if(_0x394200[_0x2f8575(0x1fb)])dateExceptions=_0x394200[_0x2f8575(0x1fb)];}}catch(_0x1b0936){}},async 'syncLoad'(){const _0x16cf33=a3_0x516669,_0x37253=new Date(),_0xab266e=_0x37253['getFullYear']()+'-'+String(_0x37253[_0x16cf33(0x285)]()+0x1)[_0x16cf33(0x1a3)](0x2,'0'),_0x2b7bc9=new Date(_0x37253);_0x2b7bc9['setMonth'](_0x37253[_0x16cf33(0x285)]()+0x1);const _0x5ae1bb=_0x2b7bc9[_0x16cf33(0x28d)]()+'-'+String(_0x2b7bc9[_0x16cf33(0x285)]()+0x1)[_0x16cf33(0x1a3)](0x2,'0'),_0xb44b3=Date[_0x16cf33(0x1be)]();try{const _0x5c7c4a=window['Telegram']?.['WebApp'],_0x4faa35=_0x5c7c4a?.[_0x16cf33(0x233)]||'',[_0x351489,_0x15015f]=await Promise['all']([fetch(API_URL,{'method':_0x16cf33(0x1a6),'body':JSON[_0x16cf33(0x283)]({'action':'client_load','init_data':_0x4faa35,'month_str':_0xab266e})})[_0x16cf33(0x21a)](_0x55d14e=>_0x55d14e[_0x16cf33(0x258)]()),fetch(API_URL,{'method':_0x16cf33(0x1a6),'body':JSON[_0x16cf33(0x283)]({'action':_0x16cf33(0x27c),'init_data':_0x4faa35,'month_str':_0x5ae1bb})})[_0x16cf33(0x21a)](_0x54c85a=>_0x54c85a[_0x16cf33(0x258)]())]);if(lastUserActionTime>_0xb44b3){console['log'](_0x16cf33(0x1f0));return;}if(_0x351489['ok'])this[_0x16cf33(0x29e)](_0x351489[_0x16cf33(0x275)],_0xab266e);if(_0x15015f['ok'])this[_0x16cf33(0x29e)](_0x15015f[_0x16cf33(0x275)],_0x5ae1bb);this[_0x16cf33(0x273)]();}catch(_0x12b8fd){}},'applyData'(_0x488f86,_0x481d72){const _0x23dda6=a3_0x516669;if(!_0x488f86)return;if(_0x488f86['settings']){if(_0x488f86[_0x23dda6(0x270)][_0x23dda6(0x295)])availabilityPattern=_0x488f86[_0x23dda6(0x270)][_0x23dda6(0x295)];if(_0x488f86[_0x23dda6(0x270)][_0x23dda6(0x29f)])specialRanges=_0x488f86['settings'][_0x23dda6(0x29f)];if(_0x488f86[_0x23dda6(0x270)][_0x23dda6(0x1fb)])dateExceptions=_0x488f86[_0x23dda6(0x270)][_0x23dda6(0x1fb)];}if(_0x488f86[_0x23dda6(0x237)]&&Array[_0x23dda6(0x26d)](_0x488f86[_0x23dda6(0x237)]))clients=_0x488f86[_0x23dda6(0x237)];_0x488f86[_0x23dda6(0x25a)]&&(coachProfiles={...coachProfiles,..._0x488f86[_0x23dda6(0x25a)]}),_0x488f86['calendar']&&(sessions=sessions[_0x23dda6(0x238)](_0x3e2c89=>!_0x3e2c89[_0x23dda6(0x1bb)][_0x23dda6(0x202)](_0x481d72)),Object['keys'](_0x488f86[_0x23dda6(0x244)])[_0x23dda6(0x1ed)](_0x18420e=>{const _0x1fe4c8=_0x23dda6,_0x16b5dc=_0x488f86[_0x1fe4c8(0x244)][_0x18420e];_0x16b5dc[_0x1fe4c8(0x1ed)](_0x3ffd02=>{const _0x5144f9=_0x1fe4c8;sessions[_0x5144f9(0x1e4)]({'id':_0x3ffd02['i'],'clientId':_0x3ffd02['c'],'coachId':_0x3ffd02[_0x5144f9(0x24f)],'dateStr':_0x481d72+'-'+_0x18420e[_0x5144f9(0x1a3)](0x2,'0'),'start':_0x3ffd02['s'],'end':_0x3ffd02['e'],'note':_0x3ffd02['n']||'','status':_0x3ffd02['st']||_0x5144f9(0x26f),'seriesId':_0x3ffd02[_0x5144f9(0x1ae)]});});})),reRenderBlocks();}};function init(){const _0x5eed73=a3_0x516669;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5eed73(0x236)](_0x5eed73(0x1eb))[_0x5eed73(0x264)](_0x5eed73(0x1ba),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5eed73(0x27e)]();}function renderTimeColumn(){const _0x5d5709=a3_0x516669,_0x2eea7f=document[_0x5d5709(0x236)](_0x5d5709(0x19d)),_0x3b0b6a=document[_0x5d5709(0x236)](_0x5d5709(0x23a));_0x2eea7f[_0x5d5709(0x28f)]='',_0x2eea7f[_0x5d5709(0x1b7)](_0x3b0b6a);for(let _0x289fbc=0x0;_0x289fbc<0x18;_0x289fbc++){const _0x5a7591=document[_0x5d5709(0x1db)](_0x5d5709(0x1d7));_0x5a7591[_0x5d5709(0x1f5)]=_0x5d5709(0x1c1);if(_0x289fbc>0x0)_0x5a7591[_0x5d5709(0x28f)]=_0x5d5709(0x23d)+String(_0x289fbc)[_0x5d5709(0x1a3)](0x2,'0')+_0x5d5709(0x28a);_0x2eea7f[_0x5d5709(0x1b7)](_0x5a7591);}}function renderDayRange(_0x1fc06e,_0x67c176){const _0x4ace42=a3_0x516669,_0x118a97=document[_0x4ace42(0x236)](_0x4ace42(0x1da)),_0x14e909=document[_0x4ace42(0x236)](_0x4ace42(0x225)),_0xe08e2d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2e49f3=new Date();_0x2e49f3[_0x4ace42(0x1c0)](0x0,0x0,0x0,0x0);const _0x11588b=getLocalDateStr(new Date());for(let _0x4bcb0f=_0x1fc06e;_0x4bcb0f<=_0x67c176;_0x4bcb0f++){const _0x4eebbd=new Date(_0x2e49f3);_0x4eebbd[_0x4ace42(0x1f7)](_0x4eebbd[_0x4ace42(0x260)]()+_0x4bcb0f);const _0x5c2132=getLocalDateStr(_0x4eebbd);let _0x20ca64=_0x4eebbd[_0x4ace42(0x290)]()-0x1;if(_0x20ca64===-0x1)_0x20ca64=0x6;const _0x2bf249=_0x5c2132===_0x11588b,_0x299356=document[_0x4ace42(0x1db)](_0x4ace42(0x1d7));_0x299356[_0x4ace42(0x1f5)]=_0x4ace42(0x1d5)+(_0x2bf249?_0x4ace42(0x216):''),_0x299356['setAttribute'](_0x4ace42(0x269),_0x5c2132),_0x299356[_0x4ace42(0x28f)]=_0x4ace42(0x230)+_0xe08e2d[_0x20ca64]+_0x4ace42(0x27a)+_0x4eebbd[_0x4ace42(0x260)]()+_0x4ace42(0x24a),_0x118a97[_0x4ace42(0x1b7)](_0x299356);const _0x2cadf0=document[_0x4ace42(0x1db)](_0x4ace42(0x1d7));_0x2cadf0[_0x4ace42(0x1f5)]=_0x4ace42(0x284)+(_0x2bf249?'today':''),_0x2cadf0[_0x4ace42(0x228)]('data-date',_0x5c2132),_0x2cadf0[_0x4ace42(0x228)](_0x4ace42(0x229),_0x20ca64),_0x14e909[_0x4ace42(0x1b7)](_0x2cadf0);}}function reRenderBlocks(){const _0x53a9ca=a3_0x516669;document[_0x53a9ca(0x250)]('.day-column')[_0x53a9ca(0x1ed)](_0x4ad533=>{const _0x4712c1=_0x53a9ca;_0x4ad533['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4712c1(0x1ed)](_0x540cbb=>_0x540cbb[_0x4712c1(0x28e)]());const _0x34a860=_0x4ad533[_0x4712c1(0x1af)](_0x4712c1(0x269)),_0x27b86f=parseInt(_0x4ad533[_0x4712c1(0x1af)](_0x4712c1(0x229))),_0x2b05c0=Math[_0x4712c1(0x212)](_0x4ad533[_0x4712c1(0x261)]);(availabilityPattern[_0x27b86f]||[])['forEach'](_0x3ed00e=>{const _0x2abf65=_0x4712c1,_0x256d5f=document[_0x2abf65(0x1db)](_0x2abf65(0x1d7));_0x256d5f[_0x2abf65(0x1f5)]=_0x2abf65(0x1c5),_0x256d5f[_0x2abf65(0x279)][_0x2abf65(0x1c7)]=_0x3ed00e*GRID_H+'px',_0x256d5f[_0x2abf65(0x279)]['backgroundPosition']='-'+_0x2b05c0+'px\x20-'+_0x3ed00e*GRID_H+'px',_0x4ad533[_0x2abf65(0x1b7)](_0x256d5f);});if(specialRanges[_0x4712c1(0x1e3)]>0x0){const _0x2e57b4=new Date(_0x34a860+'T00:00:00')[_0x4712c1(0x1ec)](),_0x3ef7d0=new Date(_0x34a860+_0x4712c1(0x220))[_0x4712c1(0x1ec)]();specialRanges['forEach'](_0x4bee67=>{const _0x4e8c73=_0x4712c1,_0x3dc16b=new Date(_0x4bee67[_0x4e8c73(0x254)])['getTime'](),_0x38081f=new Date(_0x4bee67[_0x4e8c73(0x19c)])[_0x4e8c73(0x1ec)](),_0x40835a=Math[_0x4e8c73(0x1fa)](_0x2e57b4,_0x3dc16b),_0x4c3023=Math[_0x4e8c73(0x1e0)](_0x3ef7d0,_0x38081f);if(_0x40835a<_0x4c3023){const _0x58d98d=(_0x40835a-_0x2e57b4)/0x36ee80*GRID_H,_0x5bdb34=(_0x4c3023-_0x40835a)/0x36ee80*GRID_H,_0x33ef46=document[_0x4e8c73(0x1db)](_0x4e8c73(0x1d7));_0x5bdb34>=23.5*GRID_H?(_0x33ef46[_0x4e8c73(0x1f5)]=_0x4e8c73(0x25f),_0x33ef46[_0x4e8c73(0x279)][_0x4e8c73(0x1d9)]='-'+_0x2b05c0+_0x4e8c73(0x1ff)):(_0x33ef46[_0x4e8c73(0x1f5)]=_0x4e8c73(0x1f2),_0x33ef46['style'][_0x4e8c73(0x1c7)]=_0x58d98d+'px',_0x33ef46['style']['height']=_0x5bdb34+'px',_0x33ef46[_0x4e8c73(0x279)]['backgroundPosition']='-'+_0x2b05c0+_0x4e8c73(0x1c3)+_0x58d98d+'px'),_0x4ad533[_0x4e8c73(0x1b7)](_0x33ef46);}});}renderEventsForColumn(_0x4ad533,_0x34a860);});}function renderEventsForColumn(_0x557a7d,_0x57c9c3){const _0x24ede1=a3_0x516669,_0x5927c1=sessions[_0x24ede1(0x238)](_0x38ffd7=>_0x38ffd7['dateStr']===_0x57c9c3),_0x3eb00b=_0x5927c1[_0x24ede1(0x24b)](_0x31e8f0=>{const _0x3ea08c=_0x24ede1,[_0x3a5cf4,_0x244240]=_0x31e8f0[_0x3ea08c(0x254)][_0x3ea08c(0x19e)](':')[_0x3ea08c(0x24b)](Number),[_0x49b7b5,_0x1b89a8]=_0x31e8f0[_0x3ea08c(0x19c)][_0x3ea08c(0x19e)](':')['map'](Number);return{'data':_0x31e8f0,'start':_0x3a5cf4*0x3c+_0x244240,'end':_0x49b7b5*0x3c+_0x1b89a8,'colIndex':0x0};});_0x3eb00b[_0x24ede1(0x1c4)]((_0x1732c6,_0x54cb97)=>_0x1732c6[_0x24ede1(0x254)]-_0x54cb97[_0x24ede1(0x254)]||_0x54cb97[_0x24ede1(0x19c)]-_0x54cb97[_0x24ede1(0x254)]-(_0x1732c6['end']-_0x1732c6['start']));const _0x1a4762=[];_0x3eb00b[_0x24ede1(0x1ed)](_0x4d675f=>{const _0x112ceb=_0x24ede1;let _0x3e1fd9=![];for(let _0x54283b=0x0;_0x54283b<_0x1a4762[_0x112ceb(0x1e3)];_0x54283b++){const _0xbcbc46=_0x1a4762[_0x54283b];if(_0x4d675f[_0x112ceb(0x254)]>=_0xbcbc46[_0xbcbc46['length']-0x1][_0x112ceb(0x19c)]){_0xbcbc46[_0x112ceb(0x1e4)](_0x4d675f),_0x4d675f[_0x112ceb(0x22e)]=_0x54283b,_0x3e1fd9=!![];break;}}!_0x3e1fd9&&(_0x1a4762['push']([_0x4d675f]),_0x4d675f[_0x112ceb(0x22e)]=_0x1a4762['length']-0x1);}),_0x3eb00b[_0x24ede1(0x1ed)](_0x325751=>{const _0x5cfa8c=_0x24ede1;let _0x1d71f6=0x0;_0x3eb00b['forEach'](_0x3a18a1=>{const _0x7bbdd=a3_0x4fd1;if(Math[_0x7bbdd(0x1fa)](_0x325751[_0x7bbdd(0x254)],_0x3a18a1[_0x7bbdd(0x254)])<Math['min'](_0x325751[_0x7bbdd(0x19c)],_0x3a18a1[_0x7bbdd(0x19c)])&&_0x3a18a1['colIndex']>_0x1d71f6)_0x1d71f6=_0x3a18a1[_0x7bbdd(0x22e)];});const _0x2f703a=_0x1d71f6+0x1,_0x19b317=0x64/_0x2f703a,_0xb991aa=_0x325751['colIndex']*_0x19b317,_0x380c2a=document['createElement'](_0x5cfa8c(0x1d7)),_0x3b122d=_0x325751[_0x5cfa8c(0x275)];let _0xfe854f=_0x5cfa8c(0x1a4);if(clients&&clients['length']>0x0){const _0x1a05e8=clients['find'](_0x3216ff=>String(_0x3216ff['id'])===String(_0x3b122d[_0x5cfa8c(0x2a0)]));if(_0x1a05e8&&_0x1a05e8[_0x5cfa8c(0x20c)])_0xfe854f=_0x1a05e8[_0x5cfa8c(0x20c)];}const _0x5be1e3=_0x3b122d['status']==='completed',_0x2e599a=_0x5be1e3?0x1:0.45;_0x380c2a[_0x5cfa8c(0x1f5)]=_0x5cfa8c(0x21e)+(_0x5be1e3?_0x5cfa8c(0x1a5):''),_0x380c2a['style'][_0x5cfa8c(0x29a)]=hexToRgba(_0xfe854f,_0x2e599a),_0x380c2a[_0x5cfa8c(0x279)][_0x5cfa8c(0x297)]=_0xfe854f;const _0x24b88b=_0x325751['start']/0x3c*GRID_H,_0x18b8e6=(_0x325751[_0x5cfa8c(0x19c)]-_0x325751[_0x5cfa8c(0x254)])/0x3c*GRID_H;_0x380c2a[_0x5cfa8c(0x279)]['top']=_0x24b88b+'px',_0x380c2a['style'][_0x5cfa8c(0x214)]=Math[_0x5cfa8c(0x1fa)](_0x18b8e6,0x14)+'px',_0x380c2a[_0x5cfa8c(0x279)][_0x5cfa8c(0x293)]=_0x5cfa8c(0x1e2)+_0x19b317+_0x5cfa8c(0x1df),_0x380c2a[_0x5cfa8c(0x279)][_0x5cfa8c(0x1e5)]=_0x5cfa8c(0x1e2)+_0xb991aa+_0x5cfa8c(0x1d8),_0x380c2a['style'][_0x5cfa8c(0x22a)]=0xa+_0x325751[_0x5cfa8c(0x22e)];if(_0x19b317<0x55)_0x380c2a['classList'][_0x5cfa8c(0x266)](_0x5cfa8c(0x243));let _0x1bdcbc='';if(_0x3b122d[_0x5cfa8c(0x1e9)])_0x1bdcbc+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x5be1e3)_0x1bdcbc+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x380c2a[_0x5cfa8c(0x28f)]=_0x5cfa8c(0x1bf)+_0x3b122d['start']+_0x5cfa8c(0x1a8)+_0x3b122d[_0x5cfa8c(0x19c)]+_0x5cfa8c(0x1c2)+_0x1bdcbc+_0x5cfa8c(0x1f9),_0x380c2a['onclick']=_0x2d0f38=>{const _0x56f2b4=_0x5cfa8c;_0x2d0f38[_0x56f2b4(0x291)](),openDetails(_0x3b122d);},_0x557a7d[_0x5cfa8c(0x1b7)](_0x380c2a);});}function openAnalytics(){const _0x36150e=a3_0x516669,_0x2501cd=document['querySelector'](_0x36150e(0x1b0));setAnalyticsPeriod(_0x36150e(0x268),_0x2501cd),openSheet(_0x36150e(0x1f4));}function setAnalyticsPeriod(_0x5c8cf2,_0x2e845b){const _0x11c24d=a3_0x516669;currentAnPeriod=_0x5c8cf2,document[_0x11c24d(0x250)](_0x11c24d(0x1b0))[_0x11c24d(0x1ed)](_0x3c31fd=>_0x3c31fd[_0x11c24d(0x296)]['remove']('active'));if(_0x2e845b)_0x2e845b['classList'][_0x11c24d(0x266)](_0x11c24d(0x25e));const _0x3fb710=document[_0x11c24d(0x236)](_0x11c24d(0x207));_0x3fb710[_0x11c24d(0x279)]['display']=_0x5c8cf2===_0x11c24d(0x1d1)?_0x11c24d(0x27b):_0x11c24d(0x227);const _0x38a4c7=new Date();let _0x355221=new Date(),_0x184dad=new Date();if(_0x5c8cf2==='week')_0x355221=getStartOfWeek(_0x38a4c7),_0x184dad=new Date(_0x355221),_0x184dad[_0x11c24d(0x1f7)](_0x184dad[_0x11c24d(0x260)]()+0x6);else{if(_0x5c8cf2===_0x11c24d(0x231))_0x355221=new Date(_0x38a4c7[_0x11c24d(0x28d)](),_0x38a4c7['getMonth'](),0x1),_0x184dad=new Date(_0x38a4c7[_0x11c24d(0x28d)](),_0x38a4c7[_0x11c24d(0x285)]()+0x1,0x0);else{!document[_0x11c24d(0x236)]('anStart')[_0x11c24d(0x21b)]&&(document[_0x11c24d(0x236)]('anStart')['value']=getLocalDateStr(_0x38a4c7),document['getElementById'](_0x11c24d(0x26a))[_0x11c24d(0x21b)]=getLocalDateStr(_0x38a4c7));refreshAnalytics();return;}}document[_0x11c24d(0x236)](_0x11c24d(0x248))['value']=getLocalDateStr(_0x355221),document[_0x11c24d(0x236)](_0x11c24d(0x26a))[_0x11c24d(0x21b)]=getLocalDateStr(_0x184dad),refreshAnalytics();}function refreshAnalytics(){const _0x3b44dd=a3_0x516669,_0x3ff7f5=document[_0x3b44dd(0x236)](_0x3b44dd(0x248))['value'],_0x342de8=document[_0x3b44dd(0x236)](_0x3b44dd(0x26a))[_0x3b44dd(0x21b)];if(!_0x3ff7f5||!_0x342de8)return;const _0x48d166=sessions[_0x3b44dd(0x238)](_0x174edb=>_0x174edb[_0x3b44dd(0x1bb)]>=_0x3ff7f5&&_0x174edb[_0x3b44dd(0x1bb)]<=_0x342de8&&_0x174edb['status']!==_0x3b44dd(0x26c)),_0x91679e=_0x48d166[_0x3b44dd(0x1e3)],_0x16496c=_0x48d166[_0x3b44dd(0x238)](_0xa92e3a=>_0xa92e3a[_0x3b44dd(0x226)]===_0x3b44dd(0x1e1))[_0x3b44dd(0x1e3)],_0x95406=_0x91679e>0x0?Math[_0x3b44dd(0x212)](_0x16496c/_0x91679e*0x64):0x0;document[_0x3b44dd(0x236)](_0x3b44dd(0x292))['textContent']=_0x95406+'%',document[_0x3b44dd(0x236)](_0x3b44dd(0x1b4))[_0x3b44dd(0x204)]=_0x16496c+_0x3b44dd(0x24e)+_0x91679e+_0x3b44dd(0x1b3);const _0x44e144=document['getElementById'](_0x3b44dd(0x1a7)),_0x3b9fb8=0x2*Math['PI']*0x23,_0x17b4d7=_0x3b9fb8-_0x95406/0x64*_0x3b9fb8;_0x44e144[_0x3b44dd(0x279)][_0x3b44dd(0x1a0)]=_0x17b4d7;const _0x1e562a={};_0x48d166[_0x3b44dd(0x1ed)](_0x1caf43=>{const _0x211230=_0x3b44dd,_0x63c270=_0x1caf43['coachId']||'Unknown';if(!_0x1e562a[_0x63c270]){const _0x3ec9bb='#'+_0x63c270[_0x211230(0x1b1)]()[_0x211230(0x277)](0x0,0x6);_0x1e562a[_0x63c270]={'total':0x0,'done':0x0,'color':_0x3ec9bb};}_0x1e562a[_0x63c270]['total']++;if(_0x1caf43[_0x211230(0x226)]===_0x211230(0x1e1))_0x1e562a[_0x63c270]['done']++;});const _0x38f349=document[_0x3b44dd(0x236)](_0x3b44dd(0x1d0));_0x38f349[_0x3b44dd(0x28f)]='';const _0x3af2d0=Object[_0x3b44dd(0x1fe)](_0x1e562a)['sort']((_0x5c6295,_0xb1fa22)=>_0xb1fa22[0x1][_0x3b44dd(0x22f)]-_0x5c6295[0x1]['total']);if(_0x3af2d0[_0x3b44dd(0x1e3)]===0x0){_0x38f349['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3af2d0[_0x3b44dd(0x1ed)](([_0x296742,_0x2bdf9f])=>{const _0x8c3bce=_0x3b44dd,_0xf21b89=Math[_0x8c3bce(0x212)](_0x2bdf9f[_0x8c3bce(0x1a2)]/_0x2bdf9f['total']*0x64),_0x4b59a3=document['createElement'](_0x8c3bce(0x1d7));_0x4b59a3['className']=_0x8c3bce(0x1cf),_0x4b59a3['style'][_0x8c3bce(0x297)]=_0x2bdf9f[_0x8c3bce(0x20c)],_0x4b59a3['innerHTML']=_0x8c3bce(0x25b)+_0x296742[_0x8c3bce(0x277)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2bdf9f[_0x8c3bce(0x1a2)]+_0x8c3bce(0x1d6)+_0x2bdf9f['total']+_0x8c3bce(0x205)+_0xf21b89+_0x8c3bce(0x1cc),_0x38f349[_0x8c3bce(0x1b7)](_0x4b59a3);});}function openDetails(_0x2aa9f7){const _0x61de7=a3_0x516669;currentSession=_0x2aa9f7;const _0x20e30a=new Date(_0x2aa9f7[_0x61de7(0x1bb)]),_0x5e081c=_0x20e30a[_0x61de7(0x1ea)](_0x61de7(0x280),{'weekday':_0x61de7(0x200),'day':_0x61de7(0x223),'month':_0x61de7(0x200)});document[_0x61de7(0x236)]('detDate')[_0x61de7(0x204)]=_0x5e081c[_0x61de7(0x201)](0x0)[_0x61de7(0x281)]()+_0x5e081c[_0x61de7(0x21d)](0x1),document[_0x61de7(0x236)](_0x61de7(0x25c))[_0x61de7(0x204)]=_0x2aa9f7[_0x61de7(0x254)]+'\x20-\x20'+_0x2aa9f7[_0x61de7(0x19c)],document[_0x61de7(0x236)](_0x61de7(0x28b))['textContent']=_0x2aa9f7['note']||_0x61de7(0x224);const _0x423e80=document['getElementById']('detStatus'),_0x4115d9=document[_0x61de7(0x236)]('cancelContainer'),_0x2da2b5=_0x4115d9[_0x61de7(0x1a9)]('.btn-cancel'),_0x9cf256=_0x4115d9[_0x61de7(0x1a9)](_0x61de7(0x251)),_0x582b53=document['getElementById'](_0x61de7(0x246));if(_0x2aa9f7[_0x61de7(0x226)]===_0x61de7(0x1e1))_0x423e80[_0x61de7(0x204)]=_0x61de7(0x245),_0x423e80[_0x61de7(0x279)][_0x61de7(0x20c)]=_0x61de7(0x28c),_0x4115d9[_0x61de7(0x279)][_0x61de7(0x1bd)]=_0x61de7(0x227);else{_0x423e80['textContent']=_0x61de7(0x1ef),_0x423e80[_0x61de7(0x279)][_0x61de7(0x20c)]='var(--acc-blue)',_0x4115d9['style'][_0x61de7(0x1bd)]='block';const _0x2cfec6=new Date(_0x2aa9f7[_0x61de7(0x1bb)]+'T'+_0x2aa9f7[_0x61de7(0x254)]),_0x32152f=new Date(),_0x52d21d=(_0x2cfec6-_0x32152f)/(0x3e8*0x3c*0x3c),_0x3b7932=coachProfiles[_0x2aa9f7['coachId']]&&coachProfiles[_0x2aa9f7[_0x61de7(0x234)]]['cancel_window']?parseInt(coachProfiles[_0x2aa9f7['coachId']][_0x61de7(0x222)]):0x18;if(_0x3b7932===0x0||_0x52d21d>=_0x3b7932)_0x2da2b5[_0x61de7(0x279)][_0x61de7(0x1bd)]=_0x61de7(0x1e6),_0x9cf256[_0x61de7(0x279)][_0x61de7(0x1bd)]='block',_0x582b53['style'][_0x61de7(0x1bd)]=_0x61de7(0x227);else{_0x2da2b5['style'][_0x61de7(0x1bd)]=_0x61de7(0x227),_0x9cf256[_0x61de7(0x279)]['display']=_0x61de7(0x227),_0x582b53[_0x61de7(0x279)][_0x61de7(0x1bd)]=_0x61de7(0x1e6);let _0x32e0f0=_0x3b7932===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x61de7(0x1cb)+_0x3b7932+_0x61de7(0x24d);_0x582b53[_0x61de7(0x204)]=_0x61de7(0x208)+_0x32e0f0+_0x61de7(0x1e7);}}document['getElementById'](_0x61de7(0x1d3))[_0x61de7(0x296)][_0x61de7(0x266)]('active'),document[_0x61de7(0x236)](_0x61de7(0x23b))[_0x61de7(0x296)][_0x61de7(0x266)]('open');}function closeAllSheets(){const _0x5cd0f2=a3_0x516669;document[_0x5cd0f2(0x236)]('overlay')['classList'][_0x5cd0f2(0x28e)]('active'),document[_0x5cd0f2(0x250)](_0x5cd0f2(0x210))[_0x5cd0f2(0x1ed)](_0x3d9f09=>_0x3d9f09[_0x5cd0f2(0x296)][_0x5cd0f2(0x28e)](_0x5cd0f2(0x1ce)));}function openSheet(_0x300985){const _0x481f6e=a3_0x516669;document[_0x481f6e(0x236)](_0x481f6e(0x1d3))['classList'][_0x481f6e(0x266)](_0x481f6e(0x25e)),document['getElementById'](_0x300985)[_0x481f6e(0x296)][_0x481f6e(0x266)]('open');}function getLocalDateStr(_0x658d88){const _0x533847=a3_0x516669,_0x499530=_0x658d88['getFullYear'](),_0x314573=String(_0x658d88[_0x533847(0x285)]()+0x1)[_0x533847(0x1a3)](0x2,'0'),_0x2f24d0=String(_0x658d88['getDate']())[_0x533847(0x1a3)](0x2,'0');return _0x499530+'-'+_0x314573+'-'+_0x2f24d0;}function getStartOfWeek(_0x493a84){const _0x366da2=a3_0x516669,_0x59aa8f=new Date(_0x493a84),_0x28719f=_0x59aa8f[_0x366da2(0x290)](),_0x1b43a8=_0x59aa8f[_0x366da2(0x260)]()-_0x28719f+(_0x28719f===0x0?-0x6:0x1);return _0x59aa8f[_0x366da2(0x1f7)](_0x1b43a8),_0x59aa8f[_0x366da2(0x1c0)](0x0,0x0,0x0,0x0),_0x59aa8f;}function scrollToToday(){const _0x454139=getLocalDateStr(new Date());setTimeout(()=>{const _0xb95dc1=a3_0x4fd1,_0x4fc4ec=document[_0xb95dc1(0x1a9)](_0xb95dc1(0x1f3)+_0x454139+'\x22]');if(_0x4fc4ec){const _0x4ac9db=document[_0xb95dc1(0x236)](_0xb95dc1(0x1eb)),_0x22ce0a=_0x4fc4ec['offsetLeft']-_0x4ac9db[_0xb95dc1(0x242)]/0x2+_0x4fc4ec[_0xb95dc1(0x1b5)]/0x2;_0x4ac9db[_0xb95dc1(0x219)]({'left':_0x22ce0a,'behavior':_0xb95dc1(0x20a)}),_0x4ac9db[_0xb95dc1(0x1fc)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5b0169=a3_0x516669,_0x572e6f=new Date(),_0x349b5b=document['getElementById'](_0x5b0169(0x19b)),_0x573039=document[_0x5b0169(0x236)](_0x5b0169(0x23a)),_0x331fb7=(_0x572e6f[_0x5b0169(0x21c)]()*0x3c+_0x572e6f[_0x5b0169(0x252)]())/0x3c*GRID_H;_0x349b5b[_0x5b0169(0x279)][_0x5b0169(0x1c7)]=_0x331fb7+'px',_0x349b5b[_0x5b0169(0x279)][_0x5b0169(0x1bd)]='block',_0x573039[_0x5b0169(0x279)][_0x5b0169(0x1c7)]=_0x331fb7+'px',_0x573039[_0x5b0169(0x279)][_0x5b0169(0x1bd)]=_0x5b0169(0x1e6),_0x573039[_0x5b0169(0x204)]=String(_0x572e6f['getHours']())['padStart'](0x2,'0')+':'+String(_0x572e6f[_0x5b0169(0x252)]())[_0x5b0169(0x1a3)](0x2,'0');}function onScroll(){const _0x8e8adb=a3_0x516669,_0x4b21c7=document[_0x8e8adb(0x236)]('matrixViewport'),_0x2dad65=document[_0x8e8adb(0x250)](_0x8e8adb(0x1ad));for(let _0x362eae of _0x2dad65)if(_0x362eae[_0x8e8adb(0x261)]>=_0x4b21c7[_0x8e8adb(0x25d)]){const _0x3dd548=new Date(_0x362eae[_0x8e8adb(0x1af)]('data-date'));document['getElementById'](_0x8e8adb(0x1cd))[_0x8e8adb(0x204)]=_0x3dd548[_0x8e8adb(0x213)]('ru',{'month':_0x8e8adb(0x200)})['toUpperCase']()+'\x20'+_0x3dd548[_0x8e8adb(0x28d)]();break;}}function a3_0x1ef9(){const _0x239ff1=['map','<div\x20class=\x22rs-day-name\x22>','\x20—á.','\x20–∏–∑\x20','cid','querySelectorAll','.btn-reschedule','getMinutes','setBackgroundColor','start','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','12QDfVJM','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','json','ccText','coach_profiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','detTime','scrollLeft','active','day-off-overlay\x20stripe-bg','getDate','offsetLeft','setHeaderColor','(((.+)+)+)+$','addEventListener','toast','add','substring','week','data-date','anEnd','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','cancelled','isArray','createDocumentFragment','planned','settings','4120767ISUeJb','constructor','saveLocally','.rs-date-chip','data','rsSlotsGrid','substr','ccTitle','style','</div><div\x20class=\x22dch-num\x22>','flex','client_load','19901PGwyqX','syncLoad','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','ru-RU','toUpperCase','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','stringify','day-column\x20','getMonth','onClick','error','94724nDfxaE','expand',':00</span>','detNote','var(--acc-green)','getFullYear','remove','innerHTML','getDay','stopPropagation','anPercent','width','236874JiPRdj','pattern','classList','borderLeftColor','rgba(','uc_client_settings','backgroundColor','uc_client_list','parse','rsDatesTrack','applyData','ranges','clientId','globalTimeLine','end','timeColumn','split','join','strokeDashoffset','Telegram','done','padStart','#0a84ff','\x20status-completed','POST','anDonutCircle','\x20-\x20','querySelector','reschedule','test','358376mrmqnJ','.day-col-header','sid','getAttribute','.period-switch\x20.p-btn','toString','Error\x20setting\x20color:','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','anTotalStats','offsetWidth','Error\x20setting\x20back\x20button:','appendChild','rescheduleSheet','keys','scroll','dateStr','router.html','display','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','setHours','time-label','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','sort','blocked-slot\x20stripe-bg','log','top','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','v9.5-CLIENT-ANALYTICS','customConfirm','–∑–∞\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','headerMonth','open','client-stat-card','analyticsList','custom','initDataUnsafe','overlay','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','day-col-header\x20','</span>\x20/\x20','div','%\x20+\x202px)','backgroundPosition','daysHeaderTrack','createElement','600','91540QnINwr','</div><div\x20class=\x22rs-day-num\x22>','%\x20-\x204px)','min','completed','calc(','length','push','left','block','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','seriesId','toLocaleDateString','matrixViewport','getTime','forEach','show','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','blocked-range-part\x20stripe-bg','.day-col-header[data-date=\x22','analyticsSheet','className','6zKOsuU','setDate','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','exceptions','scrollTop','1317620INlafQ','entries','px\x200px','long','charAt','startsWith','130kltVkE','textContent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','apply','anCustomDates','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','auto','insertBefore','color','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','58PgCRpk','getItem','.sheet','get_slots','round','toLocaleString','height','.day-column','today','scrollWidth','setItem','scrollTo','then','value','getHours','slice','event-card','button','T23:59:59','firstChild','cancel_window','numeric','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','gridColumns','status','none','setAttribute','data-day-idx','zIndex','ready','fontWeight','offClick','colIndex','total','<div\x20class=\x22dch-day\x22>','month','#050505','initData','coachId','BackButton','getElementById','clients','filter','search','timeLineBadge','detailsSheet','\x20–≤\x20','<span>','disableVerticalSwipes','rs-date-chip','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','WebApp','clientWidth','mini','calendar','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','cancelHint','location','anStart','findIndex','</div>'];a3_0x1ef9=function(){return _0x239ff1;};return a3_0x1ef9();}function showToast(_0x36fe8a){const _0x4d9f22=a3_0x516669,_0x5c49a6=document['getElementById'](_0x4d9f22(0x265));_0x5c49a6['textContent']=_0x36fe8a,_0x5c49a6[_0x4d9f22(0x296)][_0x4d9f22(0x266)](_0x4d9f22(0x1ee)),setTimeout(()=>_0x5c49a6[_0x4d9f22(0x296)][_0x4d9f22(0x28e)](_0x4d9f22(0x1ee)),0x7d0);}function handleInfiniteScroll(){const _0x2c6078=a3_0x516669,_0x34c79d=document['getElementById'](_0x2c6078(0x1eb)),_0x5997b9=_0x34c79d['scrollLeft'],_0x253959=_0x34c79d[_0x2c6078(0x217)],_0x52f072=_0x34c79d[_0x2c6078(0x242)];if(_0x253959-(_0x5997b9+_0x52f072)<0x12c){const _0x2106ab=endOffset;endOffset+=0xe,renderDayRange(_0x2106ab+0x1,endOffset),reRenderBlocks();}if(_0x5997b9<0x12c){const _0x4a1ec1=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4a1ec1-0x1),_0x34c79d[_0x2c6078(0x25d)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1092e3,_0x4b7a22){const _0xefa584=a3_0x516669,_0x176c31=document[_0xefa584(0x236)](_0xefa584(0x1da)),_0xb1a39f=document[_0xefa584(0x236)]('gridColumns'),_0x38612f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32c206=new Date();_0x32c206[_0xefa584(0x1c0)](0x0,0x0,0x0,0x0);const _0x5def37=getLocalDateStr(new Date()),_0x32087d=document[_0xefa584(0x26e)](),_0xfb505b=document['createDocumentFragment']();for(let _0x14d276=_0x1092e3;_0x14d276<=_0x4b7a22;_0x14d276++){const _0x3b5e76=new Date(_0x32c206);_0x3b5e76[_0xefa584(0x1f7)](_0x3b5e76[_0xefa584(0x260)]()+_0x14d276);const _0x4a2ca8=getLocalDateStr(_0x3b5e76);let _0x35cae0=_0x3b5e76['getDay']()-0x1;if(_0x35cae0===-0x1)_0x35cae0=0x6;const _0x101cd5=_0x4a2ca8===_0x5def37,_0x1ea57b=document[_0xefa584(0x1db)](_0xefa584(0x1d7));_0x1ea57b[_0xefa584(0x1f5)]=_0xefa584(0x1d5)+(_0x101cd5?_0xefa584(0x216):''),_0x1ea57b[_0xefa584(0x228)](_0xefa584(0x269),_0x4a2ca8),_0x1ea57b[_0xefa584(0x28f)]=_0xefa584(0x230)+_0x38612f[_0x35cae0]+'</div><div\x20class=\x22dch-num\x22>'+_0x3b5e76['getDate']()+_0xefa584(0x24a),_0x32087d[_0xefa584(0x1b7)](_0x1ea57b);const _0x1d61b7=document[_0xefa584(0x1db)](_0xefa584(0x1d7));_0x1d61b7['className']=_0xefa584(0x284)+(_0x101cd5?_0xefa584(0x216):''),_0x1d61b7[_0xefa584(0x228)](_0xefa584(0x269),_0x4a2ca8),_0x1d61b7[_0xefa584(0x228)](_0xefa584(0x229),_0x35cae0),_0xfb505b[_0xefa584(0x1b7)](_0x1d61b7);}_0x176c31[_0xefa584(0x20b)](_0x32087d,_0x176c31['firstChild']),_0xb1a39f['insertBefore'](_0xfb505b,_0xb1a39f[_0xefa584(0x1a9)](_0xefa584(0x215)));}function hexToRgba(_0x38e8fe,_0x4859e7){const _0x5a0e7d=a3_0x516669;let _0x543085;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5a0e7d(0x1ab)](_0x38e8fe))return _0x543085=_0x38e8fe[_0x5a0e7d(0x267)](0x1)['split'](''),_0x543085[_0x5a0e7d(0x1e3)]==0x3&&(_0x543085=[_0x543085[0x0],_0x543085[0x0],_0x543085[0x1],_0x543085[0x1],_0x543085[0x2],_0x543085[0x2]]),_0x543085='0x'+_0x543085[_0x5a0e7d(0x19f)](''),_0x5a0e7d(0x298)+[_0x543085>>0x10&0xff,_0x543085>>0x8&0xff,_0x543085&0xff][_0x5a0e7d(0x19f)](',')+','+_0x4859e7+')';return'rgba(10,\x20132,\x20255,\x20'+_0x4859e7+')';}let confirmResolver=null;function showCustomConfirm(_0x4cfd0f,_0x2613e3,_0x38abe3=!![]){const _0x5a307f=a3_0x516669;document['getElementById'](_0x5a307f(0x278))[_0x5a307f(0x204)]=_0x4cfd0f,document['getElementById'](_0x5a307f(0x259))[_0x5a307f(0x204)]=_0x2613e3;const _0x3fd3c6=document[_0x5a307f(0x236)]('ccYesBtn');return _0x38abe3?(_0x3fd3c6[_0x5a307f(0x279)]['color']='#ff453a',_0x3fd3c6[_0x5a307f(0x279)][_0x5a307f(0x22c)]=_0x5a307f(0x1dc)):(_0x3fd3c6[_0x5a307f(0x279)][_0x5a307f(0x20c)]=_0x5a307f(0x1a4),_0x3fd3c6['style']['fontWeight']=_0x5a307f(0x1dc)),new Promise(_0x1e1979=>{const _0x314048=_0x5a307f;confirmResolver=_0x1e1979,document[_0x314048(0x236)](_0x314048(0x1ca))[_0x314048(0x296)]['add'](_0x314048(0x1f8));});}function resolveCustomConfirm(_0xece1c2){const _0x5757ba=a3_0x516669;document[_0x5757ba(0x236)](_0x5757ba(0x1ca))[_0x5757ba(0x296)][_0x5757ba(0x28e)]('visible');if(confirmResolver)confirmResolver(_0xece1c2);}async function tryCancelCurrentSession(){const _0x4b7fee=a3_0x516669;if(!currentSession)return;const _0x5040d4=await showCustomConfirm(_0x4b7fee(0x240),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x5040d4)return;const _0x4ff5f9=currentSession;closeAllSheets(),sessions=sessions[_0x4b7fee(0x238)](_0x10879d=>_0x10879d['id']!==_0x4ff5f9['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x522c3f=window[_0x4b7fee(0x1a1)]?.[_0x4b7fee(0x241)],_0x203ed7=await fetch(API_URL,{'method':_0x4b7fee(0x1a6),'body':JSON[_0x4b7fee(0x283)]({'action':'client_cancel','init_data':_0x522c3f?.['initData']||'','coachId':_0x4ff5f9[_0x4b7fee(0x234)],'dateStr':_0x4ff5f9['dateStr'],'sessionId':_0x4ff5f9['id']})});if(_0x203ed7['ok'])DataManager['saveLocally']();}catch(_0x3b0a3b){showToast(_0x4b7fee(0x27f));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x4bb9a5=a3_0x516669;if(!currentSession)return;document[_0x4bb9a5(0x236)]('detailsSheet')[_0x4bb9a5(0x296)]['remove'](_0x4bb9a5(0x1ce)),document['getElementById'](_0x4bb9a5(0x1b8))[_0x4bb9a5(0x296)][_0x4bb9a5(0x266)](_0x4bb9a5(0x1ce));const _0x289523=document[_0x4bb9a5(0x236)](_0x4bb9a5(0x29d)),_0x23440a=document[_0x4bb9a5(0x236)](_0x4bb9a5(0x276));_0x289523[_0x4bb9a5(0x28f)]='',_0x23440a[_0x4bb9a5(0x28f)]=_0x4bb9a5(0x20d);const [_0x29fb25,_0x2ad9f6]=currentSession['start']['split'](':')[_0x4bb9a5(0x24b)](Number),[_0xb17012,_0x4adaaa]=currentSession['end']['split'](':')['map'](Number),_0x534255=_0xb17012*0x3c+_0x4adaaa-(_0x29fb25*0x3c+_0x2ad9f6);try{const _0x2ff8fe=window[_0x4bb9a5(0x1a1)]?.[_0x4bb9a5(0x241)],_0x1fab56=await fetch(API_URL,{'method':'POST','body':JSON[_0x4bb9a5(0x283)]({'action':_0x4bb9a5(0x211),'coachId':currentSession[_0x4bb9a5(0x234)],'duration':_0x534255,'init_data':_0x2ff8fe?.[_0x4bb9a5(0x233)]||'','excludeSessionId':currentSession['id']})}),_0x472ff6=await _0x1fab56[_0x4bb9a5(0x258)]();_0x472ff6['ok']&&_0x472ff6[_0x4bb9a5(0x275)]?(availableSlotsCache=_0x472ff6[_0x4bb9a5(0x275)],renderRescheduleDates()):_0x23440a[_0x4bb9a5(0x28f)]=_0x4bb9a5(0x1f1);}catch(_0x5a328b){_0x23440a[_0x4bb9a5(0x28f)]=_0x4bb9a5(0x255);}}function renderRescheduleDates(){const _0x550d0c=a3_0x516669,_0x315655=document[_0x550d0c(0x236)](_0x550d0c(0x29d));_0x315655[_0x550d0c(0x28f)]='';const _0x418d87=Object[_0x550d0c(0x1b9)](availableSlotsCache)[_0x550d0c(0x1c4)](),_0x3c5d57=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x418d87[_0x550d0c(0x1e3)]===0x0){document[_0x550d0c(0x236)](_0x550d0c(0x276))[_0x550d0c(0x28f)]=_0x550d0c(0x1c8);return;}_0x418d87['forEach']((_0x3d7ab2,_0xb5e1ae)=>{const _0x883651=_0x550d0c,_0x5b7e6f=new Date(_0x3d7ab2),_0x34ba3b=_0x3c5d57[_0x5b7e6f['getDay']()],_0x49d91c=_0x5b7e6f[_0x883651(0x260)](),_0x2f61c3=document[_0x883651(0x1db)](_0x883651(0x1d7));_0x2f61c3[_0x883651(0x1f5)]=_0x883651(0x23f);if(_0xb5e1ae===0x0)_0x2f61c3[_0x883651(0x296)][_0x883651(0x266)](_0x883651(0x25e));_0x2f61c3[_0x883651(0x28f)]=_0x883651(0x24c)+_0x34ba3b+_0x883651(0x1de)+_0x49d91c+_0x883651(0x24a),_0x2f61c3['onclick']=()=>selectRsDate(_0x3d7ab2,_0x2f61c3),_0x315655[_0x883651(0x1b7)](_0x2f61c3);}),selectRsDate(_0x418d87[0x0],_0x315655[_0x550d0c(0x221)]);}function selectRsDate(_0x46ff57,_0x30e1d3){const _0x3a84ff=a3_0x516669;selectedRsDate=_0x46ff57,document[_0x3a84ff(0x250)](_0x3a84ff(0x274))[_0x3a84ff(0x1ed)](_0x26a962=>_0x26a962[_0x3a84ff(0x296)]['remove']('active'));if(_0x30e1d3)_0x30e1d3[_0x3a84ff(0x296)]['add'](_0x3a84ff(0x25e));const _0x47bb13=document[_0x3a84ff(0x236)](_0x3a84ff(0x276));_0x47bb13['innerHTML']='';const _0x43b156=availableSlotsCache[_0x46ff57]||[];if(_0x43b156[_0x3a84ff(0x1e3)]===0x0){_0x47bb13[_0x3a84ff(0x28f)]=_0x3a84ff(0x1f1);return;}_0x43b156['forEach'](_0x23efc2=>{const _0x191f63=_0x3a84ff,_0x5e3e7e=document['createElement'](_0x191f63(0x21f));_0x5e3e7e[_0x191f63(0x1f5)]='rs-time-btn',_0x5e3e7e[_0x191f63(0x204)]=_0x23efc2,_0x5e3e7e['onclick']=()=>confirmReschedule(_0x23efc2),_0x47bb13[_0x191f63(0x1b7)](_0x5e3e7e);});}async function confirmReschedule(_0x5cbad7){const _0x1556d0=a3_0x516669,_0x3dc966=new Date(selectedRsDate),_0x558f12=_0x3dc966[_0x1556d0(0x1ea)](_0x1556d0(0x280),{'day':_0x1556d0(0x223),'month':_0x1556d0(0x200)}),_0x5151ff=await showCustomConfirm(_0x1556d0(0x1e8),_0x1556d0(0x26b)+_0x558f12+_0x1556d0(0x23c)+_0x5cbad7+'?',![]);if(!_0x5151ff)return;closeAllSheets(),showToast(_0x1556d0(0x257)),lastUserActionTime=Date[_0x1556d0(0x1be)]();const _0xb02f7d=currentSession[_0x1556d0(0x1bb)],_0x56d8f3=currentSession['id'],[_0x364514,_0xd6ceca]=currentSession['start']['split'](':')[_0x1556d0(0x24b)](Number),[_0x7ceb1,_0x56d243]=currentSession[_0x1556d0(0x19c)][_0x1556d0(0x19e)](':')[_0x1556d0(0x24b)](Number),_0x46fae9=_0x7ceb1*0x3c+_0x56d243-(_0x364514*0x3c+_0xd6ceca),[_0xe97b68,_0x2daad7]=_0x5cbad7[_0x1556d0(0x19e)](':')[_0x1556d0(0x24b)](Number),_0x1f1da0=_0xe97b68*0x3c+_0x2daad7+_0x46fae9,_0x23f7d8=Math['floor'](_0x1f1da0/0x3c),_0x3e56ee=_0x1f1da0%0x3c,_0xc5e481=String(_0x23f7d8)['padStart'](0x2,'0')+':'+String(_0x3e56ee)[_0x1556d0(0x1a3)](0x2,'0'),_0x88de7=sessions[_0x1556d0(0x249)](_0xfba482=>_0xfba482['id']===_0x56d8f3);_0x88de7!==-0x1&&(sessions[_0x88de7][_0x1556d0(0x1bb)]=selectedRsDate,sessions[_0x88de7]['start']=_0x5cbad7,sessions[_0x88de7][_0x1556d0(0x19c)]=_0xc5e481,reRenderBlocks());try{const _0x1f3c45=window[_0x1556d0(0x1a1)]?.[_0x1556d0(0x241)],_0x2f2a60=await fetch(API_URL,{'method':'POST','body':JSON[_0x1556d0(0x283)]({'action':_0x1556d0(0x1aa),'init_data':_0x1f3c45?.['initData']||'','oldSessionId':_0x56d8f3,'oldDate':_0xb02f7d,'newDate':selectedRsDate,'newTime':_0x5cbad7,'coachId':currentSession[_0x1556d0(0x234)]})}),_0xe3682e=await _0x2f2a60[_0x1556d0(0x258)]();!_0xe3682e['ok']?(showToast(_0x1556d0(0x282)),DataManager[_0x1556d0(0x27e)]()):(showToast(_0x1556d0(0x1d4)),DataManager[_0x1556d0(0x273)]());}catch(_0x5c18d7){showToast(_0x1556d0(0x27f));}}function a3_0x4fd1(_0x2c8e05,_0x3db8f8){_0x2c8e05=_0x2c8e05-0x19b;const _0x3e9f3c=a3_0x1ef9();let _0x35a771=_0x3e9f3c[_0x2c8e05];return _0x35a771;}document[a3_0x516669(0x264)]('DOMContentLoaded',init);