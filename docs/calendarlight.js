const a3_0x4c234a=a3_0x17ee;(function(_0x35f830,_0x1cbaef){const _0x3583e0=a3_0x17ee,_0xc9413f=_0x35f830();while(!![]){try{const _0x29be62=-parseInt(_0x3583e0(0x17f))/0x1*(-parseInt(_0x3583e0(0x155))/0x2)+parseInt(_0x3583e0(0x101))/0x3*(parseInt(_0x3583e0(0x18f))/0x4)+parseInt(_0x3583e0(0x141))/0x5*(parseInt(_0x3583e0(0xa1))/0x6)+-parseInt(_0x3583e0(0x130))/0x7*(-parseInt(_0x3583e0(0x13c))/0x8)+parseInt(_0x3583e0(0xbc))/0x9*(parseInt(_0x3583e0(0x138))/0xa)+parseInt(_0x3583e0(0x163))/0xb*(parseInt(_0x3583e0(0x177))/0xc)+-parseInt(_0x3583e0(0x118))/0xd;if(_0x29be62===_0x1cbaef)break;else _0xc9413f['push'](_0xc9413f['shift']());}catch(_0x17653f){_0xc9413f['push'](_0xc9413f['shift']());}}}(a3_0x3c20,0x55ae2));const APP_VERSION=a3_0x4c234a(0xc7),API_URL=a3_0x4c234a(0x11b),GRID_H=0x3c,KEY_SESSIONS=a3_0x4c234a(0x14b),KEY_SETTINGS=a3_0x4c234a(0xcf),KEY_CLIENTS=a3_0x4c234a(0x18b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x5d912a=a3_0x4c234a,_0x250edf=(function(){let _0x27a84e=!![];return function(_0x309858,_0x3e9d32){const _0x15a7eb=_0x27a84e?function(){const _0x1bb9db=a3_0x17ee;if(_0x3e9d32){const _0x41f02e=_0x3e9d32[_0x1bb9db(0x16b)](_0x309858,arguments);return _0x3e9d32=null,_0x41f02e;}}:function(){};return _0x27a84e=![],_0x15a7eb;};}()),_0x1fceb9=_0x250edf(this,function(){const _0x4c7a90=a3_0x17ee;return _0x1fceb9[_0x4c7a90(0x17a)]()['search'](_0x4c7a90(0x134))[_0x4c7a90(0x17a)]()['constructor'](_0x1fceb9)[_0x4c7a90(0xf9)]('(((.+)+)+)+$');});_0x1fceb9();try{const _0xe1277f=window['Telegram']?.[_0x5d912a(0x15c)];if(!_0xe1277f)return;_0xe1277f[_0x5d912a(0xee)](),_0xe1277f[_0x5d912a(0x172)]();try{_0xe1277f[_0x5d912a(0x10a)](_0x5d912a(0x110)),_0xe1277f[_0x5d912a(0xd8)]&&_0xe1277f[_0x5d912a(0xd8)](_0x5d912a(0x110));}catch(_0x149927){console[_0x5d912a(0x16d)](_0x5d912a(0x180),_0x149927);}try{_0xe1277f[_0x5d912a(0x189)]&&(_0xe1277f[_0x5d912a(0x189)][_0x5d912a(0x13e)](),_0xe1277f['BackButton'][_0x5d912a(0x195)](),_0xe1277f[_0x5d912a(0x189)]['onClick'](function(){const _0x40a223=_0x5d912a;window[_0x40a223(0xe3)][_0x40a223(0xac)]=_0x40a223(0x10f);}));}catch(_0x403ebe){console['log']('Error\x20setting\x20back\x20button:',_0x403ebe);}try{if(_0xe1277f[_0x5d912a(0xe8)])_0xe1277f[_0x5d912a(0xe8)]();}catch(_0xbd59b){}}catch(_0x10f18b){console[_0x5d912a(0x11d)](_0x5d912a(0xdf),_0x10f18b);}}());function isAdmin(){const _0x42d160=a3_0x4c234a;try{const _0x106ea7=Number(window[_0x42d160(0xab)]?.['WebApp']?.['initDataUnsafe']?.[_0x42d160(0xfb)]?.['id']);return _0x106ea7===0xbaf7174;}catch(_0x23ef3a){return![];}}const DataManager={'saveLocally'(){const _0x2c5ed6=a3_0x4c234a;try{localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x2c5ed6(0x191)](clients)),localStorage[_0x2c5ed6(0x17b)](KEY_SETTINGS,JSON[_0x2c5ed6(0x191)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2d13c6){}},'loadLocal'(){const _0x40f3b4=a3_0x4c234a;try{const _0x3dd7df=localStorage['getItem'](KEY_SESSIONS);if(_0x3dd7df)sessions=JSON[_0x40f3b4(0x178)](_0x3dd7df);const _0x52bc3d=localStorage[_0x40f3b4(0x154)](KEY_CLIENTS);if(_0x52bc3d)clients=JSON[_0x40f3b4(0x178)](_0x52bc3d);const _0xc0987b=localStorage[_0x40f3b4(0x154)](KEY_SETTINGS);if(_0xc0987b){const _0x3624d5=JSON[_0x40f3b4(0x178)](_0xc0987b);if(_0x3624d5[_0x40f3b4(0x148)])availabilityPattern=_0x3624d5[_0x40f3b4(0x148)];if(_0x3624d5[_0x40f3b4(0xfa)])specialRanges=_0x3624d5[_0x40f3b4(0xfa)];if(_0x3624d5['exceptions'])dateExceptions=_0x3624d5[_0x40f3b4(0x11c)];}}catch(_0x28f300){}},async 'syncLoad'(){const _0x52cd25=a3_0x4c234a,_0x12d3e2=new Date(),_0x4fab24=_0x12d3e2['getFullYear']()+'-'+String(_0x12d3e2[_0x52cd25(0x168)]()+0x1)[_0x52cd25(0xbd)](0x2,'0'),_0x491cd3=new Date(_0x12d3e2);_0x491cd3[_0x52cd25(0xf8)](_0x12d3e2[_0x52cd25(0x168)]()+0x1);const _0x13d191=_0x491cd3[_0x52cd25(0x13f)]()+'-'+String(_0x491cd3[_0x52cd25(0x168)]()+0x1)[_0x52cd25(0xbd)](0x2,'0'),_0xf921ac=Date[_0x52cd25(0xa3)]();try{const _0x43ec8c=window[_0x52cd25(0xab)]?.[_0x52cd25(0x15c)],_0x35ccb1=_0x43ec8c?.[_0x52cd25(0x115)]||'',[_0x32fce6,_0x12a38c]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_load','init_data':_0x35ccb1,'month_str':_0x4fab24})})[_0x52cd25(0x183)](_0x586035=>_0x586035[_0x52cd25(0x167)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x52cd25(0x191)]({'action':_0x52cd25(0x142),'init_data':_0x35ccb1,'month_str':_0x13d191})})['then'](_0xee3345=>_0xee3345[_0x52cd25(0x167)]())]);if(lastUserActionTime>_0xf921ac){console['log'](_0x52cd25(0x165));return;}if(_0x32fce6['ok'])this[_0x52cd25(0x197)](_0x32fce6['data'],_0x4fab24);if(_0x12a38c['ok'])this[_0x52cd25(0x197)](_0x12a38c['data'],_0x13d191);this[_0x52cd25(0x10e)]();}catch(_0xc3ed9d){}},'applyData'(_0x13767a,_0x53affb){const _0x19d110=a3_0x4c234a;if(!_0x13767a)return;if(_0x13767a[_0x19d110(0xe2)]){if(_0x13767a[_0x19d110(0xe2)][_0x19d110(0x148)])availabilityPattern=_0x13767a['settings'][_0x19d110(0x148)];if(_0x13767a['settings'][_0x19d110(0xfa)])specialRanges=_0x13767a[_0x19d110(0xe2)][_0x19d110(0xfa)];if(_0x13767a['settings'][_0x19d110(0x11c)])dateExceptions=_0x13767a[_0x19d110(0xe2)][_0x19d110(0x11c)];}if(_0x13767a['clients']&&Array[_0x19d110(0xa6)](_0x13767a[_0x19d110(0x137)]))clients=_0x13767a['clients'];_0x13767a['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x13767a[_0x19d110(0x139)]}),_0x13767a[_0x19d110(0xdd)]&&(sessions=sessions[_0x19d110(0x123)](_0x40da35=>!_0x40da35[_0x19d110(0x16c)][_0x19d110(0x15e)](_0x53affb)),Object[_0x19d110(0xf2)](_0x13767a[_0x19d110(0xdd)])[_0x19d110(0x185)](_0x5acea5=>{const _0x3d0331=_0x19d110,_0x27600e=_0x13767a[_0x3d0331(0xdd)][_0x5acea5];_0x27600e[_0x3d0331(0x185)](_0x46d8c5=>{const _0x40af54=_0x3d0331;sessions[_0x40af54(0x17c)]({'id':_0x46d8c5['i'],'clientId':_0x46d8c5['c'],'coachId':_0x46d8c5[_0x40af54(0xd9)],'dateStr':_0x53affb+'-'+_0x5acea5['padStart'](0x2,'0'),'start':_0x46d8c5['s'],'end':_0x46d8c5['e'],'note':_0x46d8c5['n']||'','status':_0x46d8c5['st']||'planned','seriesId':_0x46d8c5['sid']});});})),reRenderBlocks();}};function init(){const _0x15d77c=a3_0x4c234a;DataManager[_0x15d77c(0x114)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x15d77c(0x16a)](_0x15d77c(0xa4))[_0x15d77c(0xdb)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x6a4939=a3_0x4c234a,_0x1f107c=document[_0x6a4939(0x16a)](_0x6a4939(0x147)),_0x367fea=document[_0x6a4939(0x16a)](_0x6a4939(0xb0));_0x1f107c[_0x6a4939(0xaf)]='',_0x1f107c['appendChild'](_0x367fea);for(let _0x175bcc=0x0;_0x175bcc<0x18;_0x175bcc++){const _0x39658e=document['createElement']('div');_0x39658e[_0x6a4939(0xad)]=_0x6a4939(0x104);if(_0x175bcc>0x0)_0x39658e[_0x6a4939(0xaf)]=_0x6a4939(0x140)+String(_0x175bcc)['padStart'](0x2,'0')+':00</span>';_0x1f107c[_0x6a4939(0xd6)](_0x39658e);}}function a3_0x17ee(_0x5e21e2,_0x1eb1c2){_0x5e21e2=_0x5e21e2-0x9f;const _0x456434=a3_0x3c20();let _0x2a9342=_0x456434[_0x5e21e2];return _0x2a9342;}function renderDayRange(_0x572119,_0x21be47){const _0x4d4290=a3_0x4c234a,_0x5efcca=document['getElementById'](_0x4d4290(0x18e)),_0x4cfae8=document[_0x4d4290(0x16a)](_0x4d4290(0x145)),_0x3d7757=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xd28fe8=new Date();_0xd28fe8['setHours'](0x0,0x0,0x0,0x0);const _0x1f85cc=getLocalDateStr(new Date());for(let _0x333440=_0x572119;_0x333440<=_0x21be47;_0x333440++){const _0x4a6201=new Date(_0xd28fe8);_0x4a6201['setDate'](_0x4a6201[_0x4d4290(0xe9)]()+_0x333440);const _0x3eb3a4=getLocalDateStr(_0x4a6201);let _0x34e321=_0x4a6201['getDay']()-0x1;if(_0x34e321===-0x1)_0x34e321=0x6;const _0x3c713c=_0x3eb3a4===_0x1f85cc,_0x5bb81d=document[_0x4d4290(0x100)](_0x4d4290(0x122));_0x5bb81d[_0x4d4290(0xad)]=_0x4d4290(0x136)+(_0x3c713c?_0x4d4290(0xb2):''),_0x5bb81d[_0x4d4290(0xfd)](_0x4d4290(0x179),_0x3eb3a4),_0x5bb81d['innerHTML']=_0x4d4290(0x19a)+_0x3d7757[_0x34e321]+_0x4d4290(0x131)+_0x4a6201[_0x4d4290(0xe9)]()+_0x4d4290(0x18c),_0x5efcca[_0x4d4290(0xd6)](_0x5bb81d);const _0x5d0c9c=document['createElement'](_0x4d4290(0x122));_0x5d0c9c[_0x4d4290(0xad)]='day-column\x20'+(_0x3c713c?_0x4d4290(0xb2):''),_0x5d0c9c[_0x4d4290(0xfd)](_0x4d4290(0x179),_0x3eb3a4),_0x5d0c9c[_0x4d4290(0xfd)](_0x4d4290(0x174),_0x34e321),_0x4cfae8[_0x4d4290(0xd6)](_0x5d0c9c);}}function reRenderBlocks(){const _0x1d8997=a3_0x4c234a;document['querySelectorAll'](_0x1d8997(0xa0))[_0x1d8997(0x185)](_0x189e66=>{const _0x4c5f0c=_0x1d8997;_0x189e66[_0x4c5f0c(0xe4)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4c5f0c(0x185)](_0x2c2462=>_0x2c2462[_0x4c5f0c(0x127)]());const _0x14bb3e=_0x189e66[_0x4c5f0c(0x187)](_0x4c5f0c(0x179)),_0x11ce9e=parseInt(_0x189e66[_0x4c5f0c(0x187)]('data-day-idx')),_0x385257=Math[_0x4c5f0c(0x173)](_0x189e66[_0x4c5f0c(0xea)]);(availabilityPattern[_0x11ce9e]||[])['forEach'](_0x897bd4=>{const _0x845ff=_0x4c5f0c,_0x1bede0=document[_0x845ff(0x100)]('div');_0x1bede0[_0x845ff(0xad)]=_0x845ff(0xf6),_0x1bede0[_0x845ff(0xcb)][_0x845ff(0x129)]=_0x897bd4*GRID_H+'px',_0x1bede0[_0x845ff(0xcb)]['backgroundPosition']='-'+_0x385257+_0x845ff(0xbb)+_0x897bd4*GRID_H+'px',_0x189e66[_0x845ff(0xd6)](_0x1bede0);});if(specialRanges[_0x4c5f0c(0x102)]>0x0){const _0xba39c0=new Date(_0x14bb3e+'T00:00:00')[_0x4c5f0c(0x11a)](),_0x2a5831=new Date(_0x14bb3e+'T23:59:59')['getTime']();specialRanges['forEach'](_0xd4ccd2=>{const _0x372071=_0x4c5f0c,_0x166b21=new Date(_0xd4ccd2['start'])['getTime'](),_0x5aca49=new Date(_0xd4ccd2[_0x372071(0xec)])[_0x372071(0x11a)](),_0x2eb451=Math[_0x372071(0x10c)](_0xba39c0,_0x166b21),_0x54d377=Math[_0x372071(0x14a)](_0x2a5831,_0x5aca49);if(_0x2eb451<_0x54d377){const _0x1e08d9=(_0x2eb451-_0xba39c0)/0x36ee80*GRID_H,_0x59fe96=(_0x54d377-_0x2eb451)/0x36ee80*GRID_H,_0xad758e=document[_0x372071(0x100)](_0x372071(0x122));_0x59fe96>=23.5*GRID_H?(_0xad758e[_0x372071(0xad)]='day-off-overlay\x20stripe-bg',_0xad758e[_0x372071(0xcb)][_0x372071(0xe5)]='-'+_0x385257+'px\x200px'):(_0xad758e[_0x372071(0xad)]=_0x372071(0x13d),_0xad758e[_0x372071(0xcb)][_0x372071(0x129)]=_0x1e08d9+'px',_0xad758e[_0x372071(0xcb)][_0x372071(0xe0)]=_0x59fe96+'px',_0xad758e[_0x372071(0xcb)]['backgroundPosition']='-'+_0x385257+_0x372071(0xbb)+_0x1e08d9+'px'),_0x189e66[_0x372071(0xd6)](_0xad758e);}});}renderEventsForColumn(_0x189e66,_0x14bb3e);});}function renderEventsForColumn(_0x1e25f0,_0x3d9b32){const _0x23324f=a3_0x4c234a,_0xf48424=sessions[_0x23324f(0x123)](_0xec2612=>_0xec2612[_0x23324f(0x16c)]===_0x3d9b32),_0x19209f=_0xf48424[_0x23324f(0xda)](_0x40aa19=>{const _0x51af8d=_0x23324f,[_0x28c4d7,_0xe894ca]=_0x40aa19[_0x51af8d(0x151)][_0x51af8d(0xb4)](':')[_0x51af8d(0xda)](Number),[_0x7baadf,_0x558a43]=_0x40aa19[_0x51af8d(0xec)]['split'](':')['map'](Number);return{'data':_0x40aa19,'start':_0x28c4d7*0x3c+_0xe894ca,'end':_0x7baadf*0x3c+_0x558a43,'colIndex':0x0};});_0x19209f[_0x23324f(0x146)]((_0x2dcd9e,_0x2a4a15)=>_0x2dcd9e['start']-_0x2a4a15['start']||_0x2a4a15['end']-_0x2a4a15['start']-(_0x2dcd9e[_0x23324f(0xec)]-_0x2dcd9e[_0x23324f(0x151)]));const _0x18a6f7=[];_0x19209f[_0x23324f(0x185)](_0x18d24b=>{const _0x3e9382=_0x23324f;let _0x1f68d3=![];for(let _0x2639e0=0x0;_0x2639e0<_0x18a6f7[_0x3e9382(0x102)];_0x2639e0++){const _0x226d95=_0x18a6f7[_0x2639e0];if(_0x18d24b[_0x3e9382(0x151)]>=_0x226d95[_0x226d95[_0x3e9382(0x102)]-0x1][_0x3e9382(0xec)]){_0x226d95[_0x3e9382(0x17c)](_0x18d24b),_0x18d24b[_0x3e9382(0xba)]=_0x2639e0,_0x1f68d3=!![];break;}}!_0x1f68d3&&(_0x18a6f7[_0x3e9382(0x17c)]([_0x18d24b]),_0x18d24b[_0x3e9382(0xba)]=_0x18a6f7[_0x3e9382(0x102)]-0x1);}),_0x19209f[_0x23324f(0x185)](_0x48ecc8=>{const _0x15a91d=_0x23324f;let _0x204428=0x0;_0x19209f['forEach'](_0x3c1ba4=>{const _0x3e5899=a3_0x17ee;if(Math[_0x3e5899(0x10c)](_0x48ecc8[_0x3e5899(0x151)],_0x3c1ba4[_0x3e5899(0x151)])<Math['min'](_0x48ecc8['end'],_0x3c1ba4['end'])&&_0x3c1ba4[_0x3e5899(0xba)]>_0x204428)_0x204428=_0x3c1ba4[_0x3e5899(0xba)];});const _0x9c42dd=_0x204428+0x1,_0x28c1f0=0x64/_0x9c42dd,_0x21e678=_0x48ecc8[_0x15a91d(0xba)]*_0x28c1f0,_0x99cbc3=document[_0x15a91d(0x100)](_0x15a91d(0x122)),_0x24c87c=_0x48ecc8[_0x15a91d(0x11e)];let _0x3d7d10=_0x15a91d(0xca);if(clients&&clients['length']>0x0){const _0x481857=clients['find'](_0x2032b8=>String(_0x2032b8['id'])===String(_0x24c87c[_0x15a91d(0x181)]));if(_0x481857&&_0x481857[_0x15a91d(0xf1)])_0x3d7d10=_0x481857[_0x15a91d(0xf1)];}const _0x28a86e=_0x24c87c[_0x15a91d(0x14e)]===_0x15a91d(0x157),_0x595693=_0x28a86e?0x1:0.45;_0x99cbc3[_0x15a91d(0xad)]='event-card'+(_0x28a86e?_0x15a91d(0x16e):''),_0x99cbc3[_0x15a91d(0xcb)][_0x15a91d(0x135)]=hexToRgba(_0x3d7d10,_0x595693),_0x99cbc3[_0x15a91d(0xcb)][_0x15a91d(0xa7)]=_0x3d7d10;const _0x21ea26=_0x48ecc8[_0x15a91d(0x151)]/0x3c*GRID_H,_0x3d41a3=(_0x48ecc8[_0x15a91d(0xec)]-_0x48ecc8[_0x15a91d(0x151)])/0x3c*GRID_H;_0x99cbc3['style'][_0x15a91d(0x129)]=_0x21ea26+'px',_0x99cbc3[_0x15a91d(0xcb)]['height']=Math[_0x15a91d(0x10c)](_0x3d41a3,0x14)+'px',_0x99cbc3[_0x15a91d(0xcb)][_0x15a91d(0x169)]='calc('+_0x28c1f0+'%\x20-\x204px)',_0x99cbc3[_0x15a91d(0xcb)][_0x15a91d(0xd3)]=_0x15a91d(0x125)+_0x21e678+_0x15a91d(0x198),_0x99cbc3['style']['zIndex']=0xa+_0x48ecc8[_0x15a91d(0xba)];if(_0x28c1f0<0x55)_0x99cbc3['classList']['add'](_0x15a91d(0xfe));let _0x30d577='';if(_0x24c87c[_0x15a91d(0x192)])_0x30d577+=_0x15a91d(0x15b);if(_0x28a86e)_0x30d577+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x99cbc3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x24c87c[_0x15a91d(0x151)]+_0x15a91d(0xc2)+_0x24c87c[_0x15a91d(0xec)]+_0x15a91d(0xce)+_0x30d577+_0x15a91d(0xd1),_0x99cbc3[_0x15a91d(0x156)]=_0x294a9e=>{_0x294a9e['stopPropagation'](),openDetails(_0x24c87c);},_0x1e25f0[_0x15a91d(0xd6)](_0x99cbc3);});}function openAnalytics(){const _0x3f7633=a3_0x4c234a,_0x10b874=document[_0x3f7633(0xf5)](_0x3f7633(0x12e));setAnalyticsPeriod(_0x3f7633(0xc4),_0x10b874),openSheet(_0x3f7633(0xcc));}function setAnalyticsPeriod(_0x5510c6,_0x540e46){const _0x3b0d1f=a3_0x4c234a;currentAnPeriod=_0x5510c6,document[_0x3b0d1f(0xe4)]('.period-switch\x20.p-btn')[_0x3b0d1f(0x185)](_0x1ad88c=>_0x1ad88c['classList'][_0x3b0d1f(0x127)](_0x3b0d1f(0xcd)));if(_0x540e46)_0x540e46[_0x3b0d1f(0xbf)][_0x3b0d1f(0xd5)](_0x3b0d1f(0xcd));const _0x3fd5e0=document[_0x3b0d1f(0x16a)](_0x3b0d1f(0xc1));_0x3fd5e0['style']['display']=_0x5510c6===_0x3b0d1f(0x171)?_0x3b0d1f(0x133):_0x3b0d1f(0xe7);const _0x202f4c=new Date();let _0x1bad72=new Date(),_0x44026c=new Date();if(_0x5510c6===_0x3b0d1f(0xc4))_0x1bad72=getStartOfWeek(_0x202f4c),_0x44026c=new Date(_0x1bad72),_0x44026c['setDate'](_0x44026c[_0x3b0d1f(0xe9)]()+0x6);else{if(_0x5510c6===_0x3b0d1f(0xa8))_0x1bad72=new Date(_0x202f4c[_0x3b0d1f(0x13f)](),_0x202f4c[_0x3b0d1f(0x168)](),0x1),_0x44026c=new Date(_0x202f4c[_0x3b0d1f(0x13f)](),_0x202f4c[_0x3b0d1f(0x168)]()+0x1,0x0);else{!document[_0x3b0d1f(0x16a)](_0x3b0d1f(0x194))[_0x3b0d1f(0x17d)]&&(document[_0x3b0d1f(0x16a)](_0x3b0d1f(0x194))[_0x3b0d1f(0x17d)]=getLocalDateStr(_0x202f4c),document[_0x3b0d1f(0x16a)]('anEnd')[_0x3b0d1f(0x17d)]=getLocalDateStr(_0x202f4c));refreshAnalytics();return;}}document[_0x3b0d1f(0x16a)](_0x3b0d1f(0x194))[_0x3b0d1f(0x17d)]=getLocalDateStr(_0x1bad72),document[_0x3b0d1f(0x16a)](_0x3b0d1f(0x199))[_0x3b0d1f(0x17d)]=getLocalDateStr(_0x44026c),refreshAnalytics();}function refreshAnalytics(){const _0xb79f1e=a3_0x4c234a,_0x403bf7=document[_0xb79f1e(0x16a)](_0xb79f1e(0x194))[_0xb79f1e(0x17d)],_0xf790db=document[_0xb79f1e(0x16a)]('anEnd')['value'];if(!_0x403bf7||!_0xf790db)return;const _0xb62cd7=sessions[_0xb79f1e(0x123)](_0x47ed49=>_0x47ed49[_0xb79f1e(0x16c)]>=_0x403bf7&&_0x47ed49[_0xb79f1e(0x16c)]<=_0xf790db&&_0x47ed49[_0xb79f1e(0x14e)]!==_0xb79f1e(0xc9)),_0x27c175=_0xb62cd7[_0xb79f1e(0x102)],_0x2f5ec7=_0xb62cd7[_0xb79f1e(0x123)](_0x5475e8=>_0x5475e8[_0xb79f1e(0x14e)]===_0xb79f1e(0x157))[_0xb79f1e(0x102)],_0x393a61=_0x27c175>0x0?Math['round'](_0x2f5ec7/_0x27c175*0x64):0x0;document[_0xb79f1e(0x16a)](_0xb79f1e(0x160))[_0xb79f1e(0x117)]=_0x393a61+'%',document[_0xb79f1e(0x16a)](_0xb79f1e(0x128))[_0xb79f1e(0x117)]=_0x2f5ec7+_0xb79f1e(0xaa)+_0x27c175+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x5e5d57=document['getElementById']('anDonutCircle'),_0x468dcb=0x2*Math['PI']*0x23,_0x5f3cf7=_0x468dcb-_0x393a61/0x64*_0x468dcb;_0x5e5d57['style'][_0xb79f1e(0x121)]=_0x5f3cf7;const _0xa5212d={};_0xb62cd7['forEach'](_0x553da6=>{const _0x299b9b=_0xb79f1e,_0x560b22=_0x553da6[_0x299b9b(0xe1)]||_0x299b9b(0xc5);if(!_0xa5212d[_0x560b22]){const _0x190ffe='#'+_0x560b22[_0x299b9b(0x17a)]()[_0x299b9b(0xf4)](0x0,0x6);_0xa5212d[_0x560b22]={'total':0x0,'done':0x0,'color':_0x190ffe};}_0xa5212d[_0x560b22][_0x299b9b(0x126)]++;if(_0x553da6['status']==='completed')_0xa5212d[_0x560b22][_0x299b9b(0x105)]++;});const _0x5afefa=document[_0xb79f1e(0x16a)](_0xb79f1e(0x16f));_0x5afefa[_0xb79f1e(0xaf)]='';const _0x371b26=Object['entries'](_0xa5212d)['sort']((_0x22e3df,_0x4099ab)=>_0x4099ab[0x1][_0xb79f1e(0x126)]-_0x22e3df[0x1][_0xb79f1e(0x126)]);if(_0x371b26[_0xb79f1e(0x102)]===0x0){_0x5afefa[_0xb79f1e(0xaf)]=_0xb79f1e(0x12c);return;}_0x371b26[_0xb79f1e(0x185)](([_0x48cfc8,_0x177a7c])=>{const _0x5dc65b=_0xb79f1e,_0x1729fc=Math[_0x5dc65b(0x173)](_0x177a7c['done']/_0x177a7c[_0x5dc65b(0x126)]*0x64),_0x5b5fec=document['createElement'](_0x5dc65b(0x122));_0x5b5fec[_0x5dc65b(0xad)]=_0x5dc65b(0xed),_0x5b5fec[_0x5dc65b(0xcb)][_0x5dc65b(0xa7)]=_0x177a7c[_0x5dc65b(0xf1)],_0x5b5fec[_0x5dc65b(0xaf)]=_0x5dc65b(0x184)+_0x48cfc8[_0x5dc65b(0xf4)](0x0,0x5)+_0x5dc65b(0x12a)+_0x177a7c[_0x5dc65b(0x105)]+_0x5dc65b(0x111)+_0x177a7c[_0x5dc65b(0x126)]+_0x5dc65b(0x124)+_0x1729fc+_0x5dc65b(0x119),_0x5afefa[_0x5dc65b(0xd6)](_0x5b5fec);});}function openDetails(_0x4c7a49){const _0x7d0dfa=a3_0x4c234a;currentSession=_0x4c7a49;const _0xcda5ba=new Date(_0x4c7a49[_0x7d0dfa(0x16c)]),_0x572925=_0xcda5ba[_0x7d0dfa(0x15f)](_0x7d0dfa(0x170),{'weekday':'long','day':'numeric','month':_0x7d0dfa(0x182)});document[_0x7d0dfa(0x16a)]('detDate')['textContent']=_0x572925['charAt'](0x0)['toUpperCase']()+_0x572925[_0x7d0dfa(0xc0)](0x1),document[_0x7d0dfa(0x16a)](_0x7d0dfa(0x14f))['textContent']=_0x4c7a49[_0x7d0dfa(0x151)]+_0x7d0dfa(0xc2)+_0x4c7a49['end'],document[_0x7d0dfa(0x16a)]('detNote')[_0x7d0dfa(0x117)]=_0x4c7a49[_0x7d0dfa(0xff)]||_0x7d0dfa(0xeb);const _0x5a3a2a=document[_0x7d0dfa(0x16a)]('detStatus'),_0x5a0e89=document[_0x7d0dfa(0x16a)](_0x7d0dfa(0xf0)),_0x2785b9=_0x5a0e89['querySelector'](_0x7d0dfa(0x161)),_0x2578f0=_0x5a0e89['querySelector']('.btn-reschedule'),_0x1c948c=document[_0x7d0dfa(0x16a)](_0x7d0dfa(0x13a));if(_0x4c7a49[_0x7d0dfa(0x14e)]===_0x7d0dfa(0x157))_0x5a3a2a[_0x7d0dfa(0x117)]=_0x7d0dfa(0x112),_0x5a3a2a[_0x7d0dfa(0xcb)][_0x7d0dfa(0xf1)]=_0x7d0dfa(0xa5),_0x5a0e89[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]=_0x7d0dfa(0xe7);else{_0x5a3a2a[_0x7d0dfa(0x117)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x5a3a2a[_0x7d0dfa(0xcb)][_0x7d0dfa(0xf1)]=_0x7d0dfa(0x188),_0x5a0e89[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]=_0x7d0dfa(0xef);const _0x49e75d=new Date(_0x4c7a49[_0x7d0dfa(0x16c)]+'T'+_0x4c7a49[_0x7d0dfa(0x151)]),_0x31e8cf=new Date(),_0x22b918=(_0x49e75d-_0x31e8cf)/(0x3e8*0x3c*0x3c),_0x449bfa=coachProfiles[_0x4c7a49[_0x7d0dfa(0xe1)]]&&coachProfiles[_0x4c7a49[_0x7d0dfa(0xe1)]][_0x7d0dfa(0xae)]?parseInt(coachProfiles[_0x4c7a49['coachId']][_0x7d0dfa(0xae)]):0x18;if(_0x449bfa===0x0||_0x22b918>=_0x449bfa)_0x2785b9[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]='block',_0x2578f0[_0x7d0dfa(0xcb)]['display']='block',_0x1c948c[_0x7d0dfa(0xcb)]['display']=_0x7d0dfa(0xe7);else{_0x2785b9[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]='none',_0x2578f0[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]='none',_0x1c948c[_0x7d0dfa(0xcb)][_0x7d0dfa(0x120)]=_0x7d0dfa(0xef);let _0x4428ea=_0x449bfa===0x0?_0x7d0dfa(0x12d):_0x7d0dfa(0xd7)+_0x449bfa+_0x7d0dfa(0x18a);_0x1c948c[_0x7d0dfa(0x117)]=_0x7d0dfa(0xf3)+_0x4428ea+_0x7d0dfa(0xf7);}}document[_0x7d0dfa(0x16a)](_0x7d0dfa(0x107))[_0x7d0dfa(0xbf)][_0x7d0dfa(0xd5)](_0x7d0dfa(0xcd)),document['getElementById'](_0x7d0dfa(0x10b))[_0x7d0dfa(0xbf)]['add'](_0x7d0dfa(0xbe));}function closeAllSheets(){const _0x36ac7c=a3_0x4c234a;document[_0x36ac7c(0x16a)]('overlay')[_0x36ac7c(0xbf)][_0x36ac7c(0x127)](_0x36ac7c(0xcd)),document[_0x36ac7c(0xe4)](_0x36ac7c(0xb8))[_0x36ac7c(0x185)](_0x49ba0b=>_0x49ba0b['classList'][_0x36ac7c(0x127)]('open'));}function openSheet(_0x5eb690){const _0x55403b=a3_0x4c234a;document[_0x55403b(0x16a)](_0x55403b(0x107))[_0x55403b(0xbf)]['add']('active'),document[_0x55403b(0x16a)](_0x5eb690)[_0x55403b(0xbf)][_0x55403b(0xd5)]('open');}function getLocalDateStr(_0x44a7af){const _0x2e2677=a3_0x4c234a,_0x4283da=_0x44a7af[_0x2e2677(0x13f)](),_0x248cc0=String(_0x44a7af[_0x2e2677(0x168)]()+0x1)['padStart'](0x2,'0'),_0x44a2aa=String(_0x44a7af[_0x2e2677(0xe9)]())[_0x2e2677(0xbd)](0x2,'0');return _0x4283da+'-'+_0x248cc0+'-'+_0x44a2aa;}function getStartOfWeek(_0x2e5edd){const _0x41bde0=a3_0x4c234a,_0x4e226f=new Date(_0x2e5edd),_0x2334b6=_0x4e226f[_0x41bde0(0x152)](),_0x4864b8=_0x4e226f[_0x41bde0(0xe9)]()-_0x2334b6+(_0x2334b6===0x0?-0x6:0x1);return _0x4e226f[_0x41bde0(0x116)](_0x4864b8),_0x4e226f[_0x41bde0(0x113)](0x0,0x0,0x0,0x0),_0x4e226f;}function scrollToToday(){const _0x194d94=getLocalDateStr(new Date());setTimeout(()=>{const _0x54ddec=a3_0x17ee,_0x255708=document[_0x54ddec(0xf5)](_0x54ddec(0xe6)+_0x194d94+'\x22]');if(_0x255708){const _0xa14506=document[_0x54ddec(0x16a)](_0x54ddec(0xa4)),_0x152116=_0x255708[_0x54ddec(0xea)]-_0xa14506[_0x54ddec(0x17e)]/0x2+_0x255708[_0x54ddec(0x164)]/0x2;_0xa14506[_0x54ddec(0x158)]({'left':_0x152116,'behavior':'auto'}),_0xa14506[_0x54ddec(0x186)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x187de3=a3_0x4c234a,_0x17a6df=new Date(),_0x1b1596=document[_0x187de3(0x16a)](_0x187de3(0xb5)),_0x3df6f7=document[_0x187de3(0x16a)]('timeLineBadge'),_0x4cc434=(_0x17a6df[_0x187de3(0xb7)]()*0x3c+_0x17a6df[_0x187de3(0x12f)]())/0x3c*GRID_H;_0x1b1596['style'][_0x187de3(0x129)]=_0x4cc434+'px',_0x1b1596[_0x187de3(0xcb)][_0x187de3(0x120)]=_0x187de3(0xef),_0x3df6f7['style']['top']=_0x4cc434+'px',_0x3df6f7[_0x187de3(0xcb)]['display']=_0x187de3(0xef),_0x3df6f7[_0x187de3(0x117)]=String(_0x17a6df[_0x187de3(0xb7)]())[_0x187de3(0xbd)](0x2,'0')+':'+String(_0x17a6df[_0x187de3(0x12f)]())[_0x187de3(0xbd)](0x2,'0');}function onScroll(){const _0x2cc8de=a3_0x4c234a,_0x385402=document['getElementById'](_0x2cc8de(0xa4)),_0x562ef8=document['querySelectorAll'](_0x2cc8de(0x109));for(let _0x57da12 of _0x562ef8)if(_0x57da12['offsetLeft']>=_0x385402[_0x2cc8de(0xd2)]){const _0x825843=new Date(_0x57da12[_0x2cc8de(0x187)](_0x2cc8de(0x179)));document[_0x2cc8de(0x16a)]('headerMonth')[_0x2cc8de(0x117)]=_0x825843[_0x2cc8de(0x166)]('ru',{'month':_0x2cc8de(0x182)})[_0x2cc8de(0x15d)]()+'\x20'+_0x825843[_0x2cc8de(0x13f)]();break;}}function showToast(_0x4888b9){const _0x2a6e37=a3_0x4c234a,_0x35cc69=document[_0x2a6e37(0x16a)]('toast');_0x35cc69[_0x2a6e37(0x117)]=_0x4888b9,_0x35cc69[_0x2a6e37(0xbf)]['add'](_0x2a6e37(0x13e)),setTimeout(()=>_0x35cc69['classList'][_0x2a6e37(0x127)](_0x2a6e37(0x13e)),0x7d0);}function handleInfiniteScroll(){const _0x4b4ceb=a3_0x4c234a,_0x3c9a41=document[_0x4b4ceb(0x16a)](_0x4b4ceb(0xa4)),_0x31c8de=_0x3c9a41[_0x4b4ceb(0xd2)],_0x1269c8=_0x3c9a41['scrollWidth'],_0x4e0e31=_0x3c9a41[_0x4b4ceb(0x17e)];if(_0x1269c8-(_0x31c8de+_0x4e0e31)<0x12c){const _0x2ffd72=endOffset;endOffset+=0xe,renderDayRange(_0x2ffd72+0x1,endOffset),reRenderBlocks();}if(_0x31c8de<0x12c){const _0x3f26fd=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3f26fd-0x1),_0x3c9a41[_0x4b4ceb(0xd2)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xc20d2f,_0x36e121){const _0x5378fe=a3_0x4c234a,_0x33f81e=document[_0x5378fe(0x16a)](_0x5378fe(0x18e)),_0x51f29b=document[_0x5378fe(0x16a)](_0x5378fe(0x145)),_0x27cedc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x18ca6f=new Date();_0x18ca6f[_0x5378fe(0x113)](0x0,0x0,0x0,0x0);const _0x49fd6c=getLocalDateStr(new Date()),_0x566427=document[_0x5378fe(0x150)](),_0x305270=document['createDocumentFragment']();for(let _0x236363=_0xc20d2f;_0x236363<=_0x36e121;_0x236363++){const _0x5abaa8=new Date(_0x18ca6f);_0x5abaa8['setDate'](_0x5abaa8[_0x5378fe(0xe9)]()+_0x236363);const _0x156559=getLocalDateStr(_0x5abaa8);let _0x58e834=_0x5abaa8[_0x5378fe(0x152)]()-0x1;if(_0x58e834===-0x1)_0x58e834=0x6;const _0x114cef=_0x156559===_0x49fd6c,_0x4f1d2e=document[_0x5378fe(0x100)](_0x5378fe(0x122));_0x4f1d2e[_0x5378fe(0xad)]=_0x5378fe(0x136)+(_0x114cef?'today':''),_0x4f1d2e[_0x5378fe(0xfd)](_0x5378fe(0x179),_0x156559),_0x4f1d2e[_0x5378fe(0xaf)]=_0x5378fe(0x19a)+_0x27cedc[_0x58e834]+_0x5378fe(0x131)+_0x5abaa8[_0x5378fe(0xe9)]()+_0x5378fe(0x18c),_0x566427[_0x5378fe(0xd6)](_0x4f1d2e);const _0x13c662=document[_0x5378fe(0x100)](_0x5378fe(0x122));_0x13c662[_0x5378fe(0xad)]=_0x5378fe(0x108)+(_0x114cef?'today':''),_0x13c662['setAttribute'](_0x5378fe(0x179),_0x156559),_0x13c662['setAttribute'](_0x5378fe(0x174),_0x58e834),_0x305270[_0x5378fe(0xd6)](_0x13c662);}_0x33f81e[_0x5378fe(0xa9)](_0x566427,_0x33f81e['firstChild']),_0x51f29b['insertBefore'](_0x305270,_0x51f29b[_0x5378fe(0xf5)](_0x5378fe(0xa0)));}function hexToRgba(_0x23a543,_0x363fdc){const _0x353610=a3_0x4c234a;let _0x413b8a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x353610(0x9f)](_0x23a543))return _0x413b8a=_0x23a543[_0x353610(0x132)](0x1)[_0x353610(0xb4)](''),_0x413b8a[_0x353610(0x102)]==0x3&&(_0x413b8a=[_0x413b8a[0x0],_0x413b8a[0x0],_0x413b8a[0x1],_0x413b8a[0x1],_0x413b8a[0x2],_0x413b8a[0x2]]),_0x413b8a='0x'+_0x413b8a[_0x353610(0xc8)](''),'rgba('+[_0x413b8a>>0x10&0xff,_0x413b8a>>0x8&0xff,_0x413b8a&0xff][_0x353610(0xc8)](',')+','+_0x363fdc+')';return _0x353610(0x18d)+_0x363fdc+')';}let confirmResolver=null;function showCustomConfirm(_0x34c755,_0x33577d,_0x41019d=!![]){const _0x3dd813=a3_0x4c234a;document[_0x3dd813(0x16a)](_0x3dd813(0x103))['textContent']=_0x34c755,document[_0x3dd813(0x16a)](_0x3dd813(0xfc))[_0x3dd813(0x117)]=_0x33577d;const _0xf86937=document[_0x3dd813(0x16a)](_0x3dd813(0x176));return _0x41019d?(_0xf86937[_0x3dd813(0xcb)][_0x3dd813(0xf1)]=_0x3dd813(0x143),_0xf86937[_0x3dd813(0xcb)]['fontWeight']=_0x3dd813(0x162)):(_0xf86937[_0x3dd813(0xcb)][_0x3dd813(0xf1)]=_0x3dd813(0xca),_0xf86937[_0x3dd813(0xcb)]['fontWeight']='600'),new Promise(_0x23cd7c=>{const _0x56d5bc=_0x3dd813;confirmResolver=_0x23cd7c,document[_0x56d5bc(0x16a)](_0x56d5bc(0xb9))[_0x56d5bc(0xbf)][_0x56d5bc(0xd5)]('visible');});}function resolveCustomConfirm(_0x250626){const _0x2001c7=a3_0x4c234a;document[_0x2001c7(0x16a)]('customConfirm')[_0x2001c7(0xbf)][_0x2001c7(0x127)](_0x2001c7(0x149));if(confirmResolver)confirmResolver(_0x250626);}async function tryCancelCurrentSession(){const _0x3d9e46=a3_0x4c234a;if(!currentSession)return;const _0x5182fa=await showCustomConfirm(_0x3d9e46(0x106),_0x3d9e46(0x193),!![]);if(!_0x5182fa)return;const _0x2d5659=currentSession;closeAllSheets(),sessions=sessions[_0x3d9e46(0x123)](_0xbe33a1=>_0xbe33a1['id']!==_0x2d5659['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x3d9e46(0xa3)]();try{const _0xf20778=window[_0x3d9e46(0xab)]?.[_0x3d9e46(0x15c)],_0x29c6a4=await fetch(API_URL,{'method':_0x3d9e46(0x190),'body':JSON[_0x3d9e46(0x191)]({'action':_0x3d9e46(0xde),'init_data':_0xf20778?.[_0x3d9e46(0x115)]||'','coachId':_0x2d5659['coachId'],'dateStr':_0x2d5659[_0x3d9e46(0x16c)],'sessionId':_0x2d5659['id']})});if(_0x29c6a4['ok'])DataManager['saveLocally']();}catch(_0x2dd310){showToast(_0x3d9e46(0xd4));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x55971b=a3_0x4c234a;if(!currentSession)return;document[_0x55971b(0x16a)](_0x55971b(0x10b))[_0x55971b(0xbf)][_0x55971b(0x127)](_0x55971b(0xbe)),document[_0x55971b(0x16a)]('rescheduleSheet')[_0x55971b(0xbf)][_0x55971b(0xd5)](_0x55971b(0xbe));const _0x307ec5=document[_0x55971b(0x16a)](_0x55971b(0x144)),_0x49df32=document['getElementById'](_0x55971b(0x13b));_0x307ec5[_0x55971b(0xaf)]='',_0x49df32[_0x55971b(0xaf)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x156b25,_0x4d366c]=currentSession[_0x55971b(0x151)][_0x55971b(0xb4)](':')['map'](Number),[_0xed7f5,_0x19d69b]=currentSession[_0x55971b(0xec)][_0x55971b(0xb4)](':')[_0x55971b(0xda)](Number),_0x33ebc6=_0xed7f5*0x3c+_0x19d69b-(_0x156b25*0x3c+_0x4d366c);try{const _0x534583=window[_0x55971b(0xab)]?.[_0x55971b(0x15c)],_0x51ed2e=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x55971b(0xd0),'coachId':currentSession[_0x55971b(0xe1)],'duration':_0x33ebc6,'init_data':_0x534583?.[_0x55971b(0x115)]||'','excludeSessionId':currentSession['id']})}),_0x7750c3=await _0x51ed2e[_0x55971b(0x167)]();_0x7750c3['ok']&&_0x7750c3['data']?(availableSlotsCache=_0x7750c3[_0x55971b(0x11e)],renderRescheduleDates()):_0x49df32[_0x55971b(0xaf)]=_0x55971b(0x14c);}catch(_0x1f796e){_0x49df32['innerHTML']=_0x55971b(0x12b);}}function renderRescheduleDates(){const _0x166fd3=a3_0x4c234a,_0x2a3b21=document[_0x166fd3(0x16a)]('rsDatesTrack');_0x2a3b21[_0x166fd3(0xaf)]='';const _0x58d762=Object[_0x166fd3(0xf2)](availableSlotsCache)[_0x166fd3(0x146)](),_0x28b472=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x58d762[_0x166fd3(0x102)]===0x0){document[_0x166fd3(0x16a)](_0x166fd3(0x13b))['innerHTML']=_0x166fd3(0xb6);return;}_0x58d762[_0x166fd3(0x185)]((_0x24ce92,_0x368088)=>{const _0x26d11b=_0x166fd3,_0x2fd022=new Date(_0x24ce92),_0x478255=_0x28b472[_0x2fd022['getDay']()],_0x35e6a4=_0x2fd022[_0x26d11b(0xe9)](),_0x2bf3c2=document[_0x26d11b(0x100)](_0x26d11b(0x122));_0x2bf3c2[_0x26d11b(0xad)]=_0x26d11b(0x15a);if(_0x368088===0x0)_0x2bf3c2[_0x26d11b(0xbf)]['add'](_0x26d11b(0xcd));_0x2bf3c2[_0x26d11b(0xaf)]='<div\x20class=\x22rs-day-name\x22>'+_0x478255+'</div><div\x20class=\x22rs-day-num\x22>'+_0x35e6a4+_0x26d11b(0x18c),_0x2bf3c2[_0x26d11b(0x156)]=()=>selectRsDate(_0x24ce92,_0x2bf3c2),_0x2a3b21['appendChild'](_0x2bf3c2);}),selectRsDate(_0x58d762[0x0],_0x2a3b21[_0x166fd3(0x159)]);}function a3_0x3c20(){const _0xc5d8a5=['<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','.period-switch\x20.p-btn','getMinutes','7WcABiS','</div><div\x20class=\x22dch-num\x22>','substring','flex','(((.+)+)+)+$','backgroundColor','day-col-header\x20','clients','3089570yMmmEg','coach_profiles','cancelHint','rsSlotsGrid','4310896JpXarc','blocked-range-part\x20stripe-bg','show','getFullYear','<span>','1349365QqnEwZ','client_load','#ff453a','rsDatesTrack','gridColumns','sort','timeColumn','pattern','visible','min','uc_client_sessions','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','button','status','detTime','createDocumentFragment','start','getDay','rs-time-btn','getItem','41228JSTnYH','onclick','completed','scrollTo','firstChild','rs-date-chip','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','WebApp','toUpperCase','startsWith','toLocaleDateString','anPercent','.btn-cancel','600','3030379jErcNm','offsetWidth','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','toLocaleString','json','getMonth','width','getElementById','apply','dateStr','log','\x20status-completed','analyticsList','ru-RU','custom','expand','round','data-day-idx','.rs-date-chip','ccYesBtn','12JQXuCy','parse','data-date','toString','setItem','push','value','clientWidth','19HJIZjx','Error\x20setting\x20color:','clientId','long','then','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','forEach','scrollTop','getAttribute','var(--acc-blue)','BackButton','\x20—á.','uc_client_list','</div>','rgba(10,\x20132,\x20255,\x20','daysHeaderTrack','36jQQvDS','POST','stringify','seriesId','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','anStart','offClick','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','applyData','%\x20+\x202px)','anEnd','<div\x20class=\x22dch-day\x22>','test','.day-column','12jzFdOr','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','now','matrixViewport','var(--acc-green)','isArray','borderLeftColor','month','insertBefore','\x20–∏–∑\x20','Telegram','href','className','cancel_window','innerHTML','timeLineBadge','DOMContentLoaded','today','floor','split','globalTimeLine','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','getHours','.sheet','customConfirm','colIndex','px\x20-','9rwHExC','padStart','open','classList','slice','anCustomDates','\x20-\x20','reschedule','week','Unknown','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','v9.5-CLIENT-ANALYTICS','join','cancelled','#0a84ff','style','analyticsSheet','active','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uc_client_settings','get_slots','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollLeft','left','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','add','appendChild','–∑–∞\x20','setBackgroundColor','cid','map','addEventListener','syncLoad','calendar','client_cancel','Critical\x20TMA\x20Error:','height','coachId','settings','location','querySelectorAll','backgroundPosition','.day-col-header[data-date=\x22','none','disableVerticalSwipes','getDate','offsetLeft','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','end','client-stat-card','ready','block','cancelContainer','color','keys','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','substr','querySelector','blocked-slot\x20stripe-bg','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','setMonth','search','ranges','user','ccText','setAttribute','mini','note','createElement','67917uCDeHN','length','ccTitle','time-label','done','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','overlay','day-column\x20','.day-col-header','setHeaderColor','detailsSheet','max','numeric','saveLocally','router.html','#050505','</span>\x20/\x20','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','setHours','loadLocal','initData','setDate','textContent','24797825jJekZb','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTime','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','exceptions','error','data','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','display','strokeDashoffset','div','filter','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','calc(','total','remove','anTotalStats','top','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>'];a3_0x3c20=function(){return _0xc5d8a5;};return a3_0x3c20();}function selectRsDate(_0x139651,_0x345f48){const _0x489551=a3_0x4c234a;selectedRsDate=_0x139651,document[_0x489551(0xe4)](_0x489551(0x175))['forEach'](_0x493a3f=>_0x493a3f['classList']['remove'](_0x489551(0xcd)));if(_0x345f48)_0x345f48['classList'][_0x489551(0xd5)](_0x489551(0xcd));const _0x406b0b=document[_0x489551(0x16a)](_0x489551(0x13b));_0x406b0b[_0x489551(0xaf)]='';const _0x511c91=availableSlotsCache[_0x139651]||[];if(_0x511c91['length']===0x0){_0x406b0b[_0x489551(0xaf)]=_0x489551(0x14c);return;}_0x511c91[_0x489551(0x185)](_0x4df8bd=>{const _0x51e322=_0x489551,_0x3f8847=document[_0x51e322(0x100)](_0x51e322(0x14d));_0x3f8847[_0x51e322(0xad)]=_0x51e322(0x153),_0x3f8847['textContent']=_0x4df8bd,_0x3f8847[_0x51e322(0x156)]=()=>confirmReschedule(_0x4df8bd),_0x406b0b['appendChild'](_0x3f8847);});}async function confirmReschedule(_0x2719e4){const _0x4f387c=a3_0x4c234a,_0x29bb2a=new Date(selectedRsDate),_0x4f73ef=_0x29bb2a[_0x4f387c(0x15f)](_0x4f387c(0x170),{'day':_0x4f387c(0x10d),'month':'long'}),_0x505bc1=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x4f387c(0x11f)+_0x4f73ef+'\x20–≤\x20'+_0x2719e4+'?',![]);if(!_0x505bc1)return;closeAllSheets(),showToast(_0x4f387c(0x196)),lastUserActionTime=Date[_0x4f387c(0xa3)]();const _0x3c54ae=currentSession[_0x4f387c(0x16c)],_0x37d9ad=currentSession['id'],[_0x29c3e6,_0x4bef54]=currentSession[_0x4f387c(0x151)]['split'](':')[_0x4f387c(0xda)](Number),[_0x4b09c8,_0x5f4327]=currentSession[_0x4f387c(0xec)][_0x4f387c(0xb4)](':')[_0x4f387c(0xda)](Number),_0x4daa8c=_0x4b09c8*0x3c+_0x5f4327-(_0x29c3e6*0x3c+_0x4bef54),[_0x2c92f9,_0x11fad5]=_0x2719e4['split'](':')[_0x4f387c(0xda)](Number),_0x149a5c=_0x2c92f9*0x3c+_0x11fad5+_0x4daa8c,_0x44e954=Math[_0x4f387c(0xb3)](_0x149a5c/0x3c),_0x1d68b9=_0x149a5c%0x3c,_0x36cb84=String(_0x44e954)[_0x4f387c(0xbd)](0x2,'0')+':'+String(_0x1d68b9)['padStart'](0x2,'0'),_0x5b26e0=sessions['findIndex'](_0x4a3280=>_0x4a3280['id']===_0x37d9ad);_0x5b26e0!==-0x1&&(sessions[_0x5b26e0][_0x4f387c(0x16c)]=selectedRsDate,sessions[_0x5b26e0][_0x4f387c(0x151)]=_0x2719e4,sessions[_0x5b26e0]['end']=_0x36cb84,reRenderBlocks());try{const _0x27011c=window['Telegram']?.[_0x4f387c(0x15c)],_0x407a36=await fetch(API_URL,{'method':_0x4f387c(0x190),'body':JSON[_0x4f387c(0x191)]({'action':_0x4f387c(0xc3),'init_data':_0x27011c?.[_0x4f387c(0x115)]||'','oldSessionId':_0x37d9ad,'oldDate':_0x3c54ae,'newDate':selectedRsDate,'newTime':_0x2719e4,'coachId':currentSession[_0x4f387c(0xe1)]})}),_0x56a052=await _0x407a36['json']();!_0x56a052['ok']?(showToast(_0x4f387c(0xa2)),DataManager[_0x4f387c(0xdc)]()):(showToast(_0x4f387c(0xc6)),DataManager[_0x4f387c(0x10e)]());}catch(_0xd1645d){showToast(_0x4f387c(0xd4));}}document['addEventListener'](a3_0x4c234a(0xb1),init);