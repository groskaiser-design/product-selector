const a3_0x4ae138=a3_0x122d;(function(_0x4b89b4,_0x28126d){const _0x3a6df2=a3_0x122d,_0x54638e=_0x4b89b4();while(!![]){try{const _0x200456=parseInt(_0x3a6df2(0x1c1))/0x1*(-parseInt(_0x3a6df2(0x154))/0x2)+-parseInt(_0x3a6df2(0x11e))/0x3+parseInt(_0x3a6df2(0x1f1))/0x4+-parseInt(_0x3a6df2(0x174))/0x5+parseInt(_0x3a6df2(0x199))/0x6*(parseInt(_0x3a6df2(0x1c6))/0x7)+parseInt(_0x3a6df2(0x17f))/0x8+parseInt(_0x3a6df2(0x118))/0x9;if(_0x200456===_0x28126d)break;else _0x54638e['push'](_0x54638e['shift']());}catch(_0x11b389){_0x54638e['push'](_0x54638e['shift']());}}}(a3_0x28da,0x47cb1));const APP_VERSION=a3_0x4ae138(0x12a),API_URL=a3_0x4ae138(0x1de),GRID_H=0x3c,KEY_SESSIONS=a3_0x4ae138(0x195),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';function a3_0x28da(){const _0x7fbabb=['overlay','insertBefore','.sheet','#050505','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','calc(','(((.+)+)+)+$','forEach','none','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','total','long','seriesId','toLocaleString','then','saveLocally','data-day-idx','.day-column','all','entries','ready','Critical\x20TMA\x20Error:','anStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','toUpperCase','setHeaderColor','time-label','detailsSheet','value','clients','14BYMhOE','syncLoad','ccTitle','charAt','rs-time-btn','84EEpKzB','stopPropagation','auto','completed','calendar','substring','month','keys','createElement','className','addEventListener','<div\x20class=\x22dch-day\x22>','.day-col-header','DOMContentLoaded','button','getMonth','WebApp','rs-date-chip','daysHeaderTrack','setDate','event-card','.period-switch\x20.p-btn','detNote','setAttribute','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','add','cid','\x20—á.','constructor','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','json','getHours','settings','#0a84ff','%\x20+\x202px)','Error\x20setting\x20back\x20button:','Telegram','today','start','getMinutes','length','now','display','997644SRGRFA','backgroundPosition','join','ru-RU','var(--acc-blue)','slice','setHours','#ff453a','<div\x20class=\x22rs-day-name\x22>','var(--acc-green)','rgba(','round','toLocaleDateString','clientWidth','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','loadLocal','anPercent','</div><div\x20class=\x22dch-num\x22>','T00:00:00','data','exceptions','map','–û—Ç–º–µ–Ω–µ–Ω–æ','analyticsSheet','POST','innerHTML','isArray','substr','ccText','startsWith','ranges','log','week','client-stat-card','apply','onclick','px\x20-','end','3140856RHhBdV','getElementById','getFullYear','reschedule','gridColumns','.btn-reschedule','893352vViLql','zIndex','–∑–∞\x20','.day-col-header[data-date=\x22','classList','rsDatesTrack','active','analyticsList','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','push','v9.5-CLIENT-ANALYTICS','detDate','visible','max',':00</span>','rescheduleSheet','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','anEnd','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','find','sort','day-column\x20','setMonth','coach_profiles','%\x20-\x204px)','scrollTop','toast','open','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','T23:59:59','getTime','getDay','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','padStart','scrollLeft','show','scrollTo','matrixViewport','textContent','block','dateStr','disableVerticalSwipes','numeric','anTotalStats','fontWeight','getAttribute','rsSlotsGrid','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','height','initData','22730CATRDG','router.html','data-date','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','flex','toString','remove','blocked-range-part\x20stripe-bg','.rs-date-chip','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','cancelContainer','coachId','600','planned','initDataUnsafe','offsetLeft','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','querySelectorAll','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','getItem','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','querySelector','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','div','colIndex','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','done','setItem','Unknown','px\x200px','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','offClick','415360xlkGLA','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','\x20status-completed','headerMonth','pattern','color','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','style','ccYesBtn','onClick','rgba(10,\x20132,\x20255,\x20','754400bLLRQS','clientId','detStatus','borderLeftColor','blocked-slot\x20stripe-bg','cancelled','test','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','timeColumn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','parse','</div>','</span>\x20/\x20','min','status','day-col-header\x20','\x20–≤\x20','getDate','cancel_window','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','top','BackButton','uc_client_sessions','strokeDashoffset','customConfirm','cancelHint','70668XAwGPi','stringify','firstChild','\x20-\x20','timeLineBadge','anDonutCircle','split','Error\x20setting\x20color:','findIndex'];a3_0x28da=function(){return _0x7fbabb;};return a3_0x28da();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x457801=a3_0x4ae138,_0x4d984f=(function(){let _0x584c05=!![];return function(_0xe4fc3b,_0x3903dc){const _0x52f0d0=_0x584c05?function(){const _0x1ce0e7=a3_0x122d;if(_0x3903dc){const _0xcefbcd=_0x3903dc[_0x1ce0e7(0x114)](_0xe4fc3b,arguments);return _0x3903dc=null,_0xcefbcd;}}:function(){};return _0x584c05=![],_0x52f0d0;};}()),_0x1924f9=_0x4d984f(this,function(){const _0x49561b=a3_0x122d;return _0x1924f9[_0x49561b(0x159)]()['search'](_0x49561b(0x1a8))[_0x49561b(0x159)]()[_0x49561b(0x1e2)](_0x1924f9)['search'](_0x49561b(0x1a8));});_0x1924f9();try{const _0x23fc3e=window[_0x457801(0x1ea)]?.[_0x457801(0x1d6)];if(!_0x23fc3e)return;_0x23fc3e[_0x457801(0x1b6)](),_0x23fc3e['expand']();try{_0x23fc3e[_0x457801(0x1bc)](_0x457801(0x1a5)),_0x23fc3e['setBackgroundColor']&&_0x23fc3e['setBackgroundColor']('#050505');}catch(_0x1f60ec){console[_0x457801(0x111)](_0x457801(0x1a0),_0x1f60ec);}try{_0x23fc3e[_0x457801(0x194)]&&(_0x23fc3e[_0x457801(0x194)]['show'](),_0x23fc3e[_0x457801(0x194)][_0x457801(0x173)](),_0x23fc3e['BackButton'][_0x457801(0x17d)](function(){const _0x1e3a97=_0x457801;window['location']['href']=_0x1e3a97(0x155);}));}catch(_0x4b6217){console['log'](_0x457801(0x1e9),_0x4b6217);}try{if(_0x23fc3e[_0x457801(0x14b)])_0x23fc3e[_0x457801(0x14b)]();}catch(_0x1d94f9){}}catch(_0x201f43){console['error'](_0x457801(0x1b7),_0x201f43);}}());function isAdmin(){const _0x59a53b=a3_0x4ae138;try{const _0x5e1ad1=Number(window['Telegram']?.[_0x59a53b(0x1d6)]?.[_0x59a53b(0x162)]?.['user']?.['id']);return _0x5e1ad1===0xbaf7174;}catch(_0x626176){return![];}}const DataManager={'saveLocally'(){const _0x12658e=a3_0x4ae138;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x12658e(0x19a)](sessions)),localStorage[_0x12658e(0x16f)](KEY_CLIENTS,JSON[_0x12658e(0x19a)](clients)),localStorage[_0x12658e(0x16f)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x13c4f3){}},'loadLocal'(){const _0x1e855b=a3_0x4ae138;try{const _0x3f2fdc=localStorage[_0x1e855b(0x167)](KEY_SESSIONS);if(_0x3f2fdc)sessions=JSON[_0x1e855b(0x189)](_0x3f2fdc);const _0x5ceed5=localStorage[_0x1e855b(0x167)](KEY_CLIENTS);if(_0x5ceed5)clients=JSON[_0x1e855b(0x189)](_0x5ceed5);const _0x42421d=localStorage[_0x1e855b(0x167)](KEY_SETTINGS);if(_0x42421d){const _0x4cebb6=JSON[_0x1e855b(0x189)](_0x42421d);if(_0x4cebb6[_0x1e855b(0x178)])availabilityPattern=_0x4cebb6[_0x1e855b(0x178)];if(_0x4cebb6[_0x1e855b(0x110)])specialRanges=_0x4cebb6['ranges'];if(_0x4cebb6['exceptions'])dateExceptions=_0x4cebb6[_0x1e855b(0x205)];}}catch(_0xa21bc9){}},async 'syncLoad'(){const _0x558114=a3_0x4ae138,_0x3ea01b=new Date(),_0x59a56d=_0x3ea01b[_0x558114(0x11a)]()+'-'+String(_0x3ea01b[_0x558114(0x1d5)]()+0x1)[_0x558114(0x143)](0x2,'0'),_0x38265b=new Date(_0x3ea01b);_0x38265b[_0x558114(0x137)](_0x3ea01b[_0x558114(0x1d5)]()+0x1);const _0x575a50=_0x38265b[_0x558114(0x11a)]()+'-'+String(_0x38265b[_0x558114(0x1d5)]()+0x1)[_0x558114(0x143)](0x2,'0'),_0x221030=Date['now']();try{const _0x18e350=window[_0x558114(0x1ea)]?.['WebApp'],_0x2304b8=_0x18e350?.[_0x558114(0x153)]||'',[_0x2553e9,_0x3c799a]=await Promise[_0x558114(0x1b4)]([fetch(API_URL,{'method':_0x558114(0x209),'body':JSON[_0x558114(0x19a)]({'action':'client_load','init_data':_0x2304b8,'month_str':_0x59a56d})})[_0x558114(0x1b0)](_0x45130c=>_0x45130c[_0x558114(0x1e4)]()),fetch(API_URL,{'method':_0x558114(0x209),'body':JSON['stringify']({'action':'client_load','init_data':_0x2304b8,'month_str':_0x575a50})})['then'](_0x45e3f1=>_0x45e3f1['json']())]);if(lastUserActionTime>_0x221030){console[_0x558114(0x111)](_0x558114(0x192));return;}if(_0x2553e9['ok'])this['applyData'](_0x2553e9[_0x558114(0x204)],_0x59a56d);if(_0x3c799a['ok'])this['applyData'](_0x3c799a[_0x558114(0x204)],_0x575a50);this[_0x558114(0x1b1)]();}catch(_0x5d16a4){}},'applyData'(_0x3be9c2,_0x211729){const _0x175d4f=a3_0x4ae138;if(!_0x3be9c2)return;if(_0x3be9c2[_0x175d4f(0x1e6)]){if(_0x3be9c2[_0x175d4f(0x1e6)][_0x175d4f(0x178)])availabilityPattern=_0x3be9c2[_0x175d4f(0x1e6)][_0x175d4f(0x178)];if(_0x3be9c2[_0x175d4f(0x1e6)][_0x175d4f(0x110)])specialRanges=_0x3be9c2[_0x175d4f(0x1e6)]['ranges'];if(_0x3be9c2[_0x175d4f(0x1e6)][_0x175d4f(0x205)])dateExceptions=_0x3be9c2[_0x175d4f(0x1e6)][_0x175d4f(0x205)];}if(_0x3be9c2[_0x175d4f(0x1c0)]&&Array[_0x175d4f(0x10c)](_0x3be9c2[_0x175d4f(0x1c0)]))clients=_0x3be9c2[_0x175d4f(0x1c0)];_0x3be9c2[_0x175d4f(0x138)]&&(coachProfiles={...coachProfiles,..._0x3be9c2[_0x175d4f(0x138)]}),_0x3be9c2[_0x175d4f(0x1ca)]&&(sessions=sessions[_0x175d4f(0x126)](_0x4c7c3e=>!_0x4c7c3e[_0x175d4f(0x14a)][_0x175d4f(0x10f)](_0x211729)),Object[_0x175d4f(0x1cd)](_0x3be9c2[_0x175d4f(0x1ca)])[_0x175d4f(0x1a9)](_0x2ee8ec=>{const _0x1b39c6=_0x175d4f,_0x2668f=_0x3be9c2['calendar'][_0x2ee8ec];_0x2668f[_0x1b39c6(0x1a9)](_0xfde0a4=>{const _0x5afe8e=_0x1b39c6;sessions[_0x5afe8e(0x129)]({'id':_0xfde0a4['i'],'clientId':_0xfde0a4['c'],'coachId':_0xfde0a4[_0x5afe8e(0x1e0)],'dateStr':_0x211729+'-'+_0x2ee8ec[_0x5afe8e(0x143)](0x2,'0'),'start':_0xfde0a4['s'],'end':_0xfde0a4['e'],'note':_0xfde0a4['n']||'','status':_0xfde0a4['st']||_0x5afe8e(0x161),'seriesId':_0xfde0a4['sid']});});})),reRenderBlocks();}};function a3_0x122d(_0x327768,_0x37409b){_0x327768=_0x327768-0x10c;const _0x267066=a3_0x28da();let _0x5f3f78=_0x267066[_0x327768];return _0x5f3f78;}function init(){const _0x5bf283=a3_0x4ae138;DataManager[_0x5bf283(0x200)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x5bf283(0x147))[_0x5bf283(0x1d0)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5bf283(0x1c2)]();}function renderTimeColumn(){const _0x381de1=a3_0x4ae138,_0x358aa1=document[_0x381de1(0x119)](_0x381de1(0x187)),_0x14c71c=document['getElementById'](_0x381de1(0x19d));_0x358aa1[_0x381de1(0x20a)]='',_0x358aa1[_0x381de1(0x132)](_0x14c71c);for(let _0x2e800d=0x0;_0x2e800d<0x18;_0x2e800d++){const _0x41ed16=document['createElement'](_0x381de1(0x16b));_0x41ed16['className']=_0x381de1(0x1bd);if(_0x2e800d>0x0)_0x41ed16['innerHTML']='<span>'+String(_0x2e800d)[_0x381de1(0x143)](0x2,'0')+_0x381de1(0x12e);_0x358aa1[_0x381de1(0x132)](_0x41ed16);}}function renderDayRange(_0x13bdf7,_0x7008d0){const _0x31be9d=a3_0x4ae138,_0xcb679c=document[_0x31be9d(0x119)]('daysHeaderTrack'),_0x281ce2=document['getElementById'](_0x31be9d(0x11c)),_0x5ca142=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3967a5=new Date();_0x3967a5['setHours'](0x0,0x0,0x0,0x0);const _0x31ef07=getLocalDateStr(new Date());for(let _0x88a04f=_0x13bdf7;_0x88a04f<=_0x7008d0;_0x88a04f++){const _0x1dc2b6=new Date(_0x3967a5);_0x1dc2b6['setDate'](_0x1dc2b6[_0x31be9d(0x190)]()+_0x88a04f);const _0x20c546=getLocalDateStr(_0x1dc2b6);let _0x1a31d9=_0x1dc2b6[_0x31be9d(0x140)]()-0x1;if(_0x1a31d9===-0x1)_0x1a31d9=0x6;const _0x54ecff=_0x20c546===_0x31ef07,_0x1fb605=document['createElement']('div');_0x1fb605['className']=_0x31be9d(0x18e)+(_0x54ecff?'today':''),_0x1fb605['setAttribute']('data-date',_0x20c546),_0x1fb605[_0x31be9d(0x20a)]=_0x31be9d(0x1d1)+_0x5ca142[_0x1a31d9]+_0x31be9d(0x202)+_0x1dc2b6[_0x31be9d(0x190)]()+_0x31be9d(0x18a),_0xcb679c[_0x31be9d(0x132)](_0x1fb605);const _0x483f2c=document[_0x31be9d(0x1ce)](_0x31be9d(0x16b));_0x483f2c[_0x31be9d(0x1cf)]=_0x31be9d(0x136)+(_0x54ecff?_0x31be9d(0x1eb):''),_0x483f2c['setAttribute']('data-date',_0x20c546),_0x483f2c[_0x31be9d(0x1dd)]('data-day-idx',_0x1a31d9),_0x281ce2[_0x31be9d(0x132)](_0x483f2c);}}function reRenderBlocks(){const _0x236818=a3_0x4ae138;document[_0x236818(0x165)]('.day-column')[_0x236818(0x1a9)](_0x2c20d1=>{const _0x5e13c8=_0x236818;_0x2c20d1[_0x5e13c8(0x165)](_0x5e13c8(0x17a))[_0x5e13c8(0x1a9)](_0x2db42e=>_0x2db42e['remove']());const _0x108173=_0x2c20d1['getAttribute'](_0x5e13c8(0x156)),_0x3a900f=parseInt(_0x2c20d1[_0x5e13c8(0x14f)](_0x5e13c8(0x1b2))),_0x1ff220=Math[_0x5e13c8(0x1fc)](_0x2c20d1[_0x5e13c8(0x163)]);(availabilityPattern[_0x3a900f]||[])[_0x5e13c8(0x1a9)](_0xc45b32=>{const _0x513a3d=_0x5e13c8,_0x151118=document[_0x513a3d(0x1ce)](_0x513a3d(0x16b));_0x151118[_0x513a3d(0x1cf)]=_0x513a3d(0x183),_0x151118[_0x513a3d(0x17b)][_0x513a3d(0x193)]=_0xc45b32*GRID_H+'px',_0x151118[_0x513a3d(0x17b)]['backgroundPosition']='-'+_0x1ff220+'px\x20-'+_0xc45b32*GRID_H+'px',_0x2c20d1[_0x513a3d(0x132)](_0x151118);});if(specialRanges[_0x5e13c8(0x1ee)]>0x0){const _0x54618d=new Date(_0x108173+_0x5e13c8(0x203))[_0x5e13c8(0x13f)](),_0x9fd388=new Date(_0x108173+_0x5e13c8(0x13e))[_0x5e13c8(0x13f)]();specialRanges[_0x5e13c8(0x1a9)](_0x10cd7f=>{const _0x116958=_0x5e13c8,_0x398cdd=new Date(_0x10cd7f[_0x116958(0x1ec)])[_0x116958(0x13f)](),_0x4462a3=new Date(_0x10cd7f[_0x116958(0x117)])[_0x116958(0x13f)](),_0x1c2105=Math['max'](_0x54618d,_0x398cdd),_0x1f8405=Math['min'](_0x9fd388,_0x4462a3);if(_0x1c2105<_0x1f8405){const _0x4d6cc5=(_0x1c2105-_0x54618d)/0x36ee80*GRID_H,_0x164fb8=(_0x1f8405-_0x1c2105)/0x36ee80*GRID_H,_0x252b46=document[_0x116958(0x1ce)](_0x116958(0x16b));_0x164fb8>=23.5*GRID_H?(_0x252b46['className']='day-off-overlay\x20stripe-bg',_0x252b46['style']['backgroundPosition']='-'+_0x1ff220+_0x116958(0x171)):(_0x252b46['className']=_0x116958(0x15b),_0x252b46[_0x116958(0x17b)][_0x116958(0x193)]=_0x4d6cc5+'px',_0x252b46['style'][_0x116958(0x152)]=_0x164fb8+'px',_0x252b46['style'][_0x116958(0x1f2)]='-'+_0x1ff220+_0x116958(0x116)+_0x4d6cc5+'px'),_0x2c20d1[_0x116958(0x132)](_0x252b46);}});}renderEventsForColumn(_0x2c20d1,_0x108173);});}function renderEventsForColumn(_0x570ac0,_0x1e603c){const _0x3edd2b=a3_0x4ae138,_0x1e55f2=sessions[_0x3edd2b(0x126)](_0x5971d4=>_0x5971d4[_0x3edd2b(0x14a)]===_0x1e603c),_0x4d484a=_0x1e55f2[_0x3edd2b(0x206)](_0x27d6c0=>{const _0x43c8a8=_0x3edd2b,[_0x1eb567,_0x195bdd]=_0x27d6c0['start'][_0x43c8a8(0x19f)](':')['map'](Number),[_0x31885e,_0x1f775e]=_0x27d6c0[_0x43c8a8(0x117)][_0x43c8a8(0x19f)](':')[_0x43c8a8(0x206)](Number);return{'data':_0x27d6c0,'start':_0x1eb567*0x3c+_0x195bdd,'end':_0x31885e*0x3c+_0x1f775e,'colIndex':0x0};});_0x4d484a[_0x3edd2b(0x135)]((_0x2e63fc,_0x2082f2)=>_0x2e63fc['start']-_0x2082f2[_0x3edd2b(0x1ec)]||_0x2082f2[_0x3edd2b(0x117)]-_0x2082f2['start']-(_0x2e63fc[_0x3edd2b(0x117)]-_0x2e63fc['start']));const _0x331368=[];_0x4d484a[_0x3edd2b(0x1a9)](_0xb33694=>{const _0xbdc818=_0x3edd2b;let _0xd9363c=![];for(let _0xded4d9=0x0;_0xded4d9<_0x331368[_0xbdc818(0x1ee)];_0xded4d9++){const _0x2811ab=_0x331368[_0xded4d9];if(_0xb33694[_0xbdc818(0x1ec)]>=_0x2811ab[_0x2811ab[_0xbdc818(0x1ee)]-0x1][_0xbdc818(0x117)]){_0x2811ab['push'](_0xb33694),_0xb33694[_0xbdc818(0x16c)]=_0xded4d9,_0xd9363c=!![];break;}}!_0xd9363c&&(_0x331368[_0xbdc818(0x129)]([_0xb33694]),_0xb33694[_0xbdc818(0x16c)]=_0x331368[_0xbdc818(0x1ee)]-0x1);}),_0x4d484a[_0x3edd2b(0x1a9)](_0x4201e4=>{const _0x1c040d=_0x3edd2b;let _0x4432a7=0x0;_0x4d484a[_0x1c040d(0x1a9)](_0x269039=>{const _0x25ea91=_0x1c040d;if(Math[_0x25ea91(0x12d)](_0x4201e4[_0x25ea91(0x1ec)],_0x269039['start'])<Math[_0x25ea91(0x18c)](_0x4201e4[_0x25ea91(0x117)],_0x269039[_0x25ea91(0x117)])&&_0x269039[_0x25ea91(0x16c)]>_0x4432a7)_0x4432a7=_0x269039[_0x25ea91(0x16c)];});const _0x37c097=_0x4432a7+0x1,_0x5c46ff=0x64/_0x37c097,_0x3b1ee9=_0x4201e4[_0x1c040d(0x16c)]*_0x5c46ff,_0x16c508=document[_0x1c040d(0x1ce)](_0x1c040d(0x16b)),_0x2f1a5b=_0x4201e4[_0x1c040d(0x204)];let _0x43e511=_0x1c040d(0x1e7);if(clients&&clients[_0x1c040d(0x1ee)]>0x0){const _0x1ca0f8=clients[_0x1c040d(0x134)](_0xc209fe=>String(_0xc209fe['id'])===String(_0x2f1a5b[_0x1c040d(0x180)]));if(_0x1ca0f8&&_0x1ca0f8[_0x1c040d(0x179)])_0x43e511=_0x1ca0f8[_0x1c040d(0x179)];}const _0x54cb31=_0x2f1a5b[_0x1c040d(0x18d)]===_0x1c040d(0x1c9),_0x4829e8=_0x54cb31?0x1:0.45;_0x16c508[_0x1c040d(0x1cf)]=_0x1c040d(0x1da)+(_0x54cb31?_0x1c040d(0x176):''),_0x16c508['style'][_0x1c040d(0x142)]=hexToRgba(_0x43e511,_0x4829e8),_0x16c508[_0x1c040d(0x17b)][_0x1c040d(0x182)]=_0x43e511;const _0x2db4bd=_0x4201e4['start']/0x3c*GRID_H,_0x36b420=(_0x4201e4[_0x1c040d(0x117)]-_0x4201e4[_0x1c040d(0x1ec)])/0x3c*GRID_H;_0x16c508[_0x1c040d(0x17b)][_0x1c040d(0x193)]=_0x2db4bd+'px',_0x16c508[_0x1c040d(0x17b)][_0x1c040d(0x152)]=Math['max'](_0x36b420,0x14)+'px',_0x16c508[_0x1c040d(0x17b)][_0x1c040d(0x128)]=_0x1c040d(0x1a7)+_0x5c46ff+_0x1c040d(0x139),_0x16c508[_0x1c040d(0x17b)]['left']=_0x1c040d(0x1a7)+_0x3b1ee9+_0x1c040d(0x1e8),_0x16c508[_0x1c040d(0x17b)][_0x1c040d(0x11f)]=0xa+_0x4201e4[_0x1c040d(0x16c)];if(_0x5c46ff<0x55)_0x16c508[_0x1c040d(0x122)]['add']('mini');let _0x214b1e='';if(_0x2f1a5b[_0x1c040d(0x1ae)])_0x214b1e+=_0x1c040d(0x1a6);if(_0x54cb31)_0x214b1e+=_0x1c040d(0x16a);_0x16c508[_0x1c040d(0x20a)]=_0x1c040d(0x133)+_0x2f1a5b['start']+_0x1c040d(0x19c)+_0x2f1a5b['end']+_0x1c040d(0x1b9)+_0x214b1e+_0x1c040d(0x127),_0x16c508[_0x1c040d(0x115)]=_0x1903a7=>{const _0x538d52=_0x1c040d;_0x1903a7[_0x538d52(0x1c7)](),openDetails(_0x2f1a5b);},_0x570ac0[_0x1c040d(0x132)](_0x16c508);});}function openAnalytics(){const _0x4b1843=a3_0x4ae138,_0x3dc5c5=document[_0x4b1843(0x169)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x3dc5c5),openSheet(_0x4b1843(0x208));}function setAnalyticsPeriod(_0x19907b,_0x4284d8){const _0x16d4df=a3_0x4ae138;currentAnPeriod=_0x19907b,document[_0x16d4df(0x165)](_0x16d4df(0x1db))[_0x16d4df(0x1a9)](_0x502c02=>_0x502c02[_0x16d4df(0x122)][_0x16d4df(0x15a)](_0x16d4df(0x124)));if(_0x4284d8)_0x4284d8[_0x16d4df(0x122)][_0x16d4df(0x1df)]('active');const _0x20204f=document['getElementById']('anCustomDates');_0x20204f[_0x16d4df(0x17b)][_0x16d4df(0x1f0)]=_0x19907b==='custom'?_0x16d4df(0x158):_0x16d4df(0x1aa);const _0x59bfdb=new Date();let _0x3fdb2f=new Date(),_0x51f1d1=new Date();if(_0x19907b===_0x16d4df(0x112))_0x3fdb2f=getStartOfWeek(_0x59bfdb),_0x51f1d1=new Date(_0x3fdb2f),_0x51f1d1['setDate'](_0x51f1d1[_0x16d4df(0x190)]()+0x6);else{if(_0x19907b===_0x16d4df(0x1cc))_0x3fdb2f=new Date(_0x59bfdb[_0x16d4df(0x11a)](),_0x59bfdb[_0x16d4df(0x1d5)](),0x1),_0x51f1d1=new Date(_0x59bfdb[_0x16d4df(0x11a)](),_0x59bfdb[_0x16d4df(0x1d5)]()+0x1,0x0);else{!document[_0x16d4df(0x119)](_0x16d4df(0x1b8))[_0x16d4df(0x1bf)]&&(document['getElementById'](_0x16d4df(0x1b8))[_0x16d4df(0x1bf)]=getLocalDateStr(_0x59bfdb),document['getElementById']('anEnd')[_0x16d4df(0x1bf)]=getLocalDateStr(_0x59bfdb));refreshAnalytics();return;}}document[_0x16d4df(0x119)](_0x16d4df(0x1b8))[_0x16d4df(0x1bf)]=getLocalDateStr(_0x3fdb2f),document[_0x16d4df(0x119)](_0x16d4df(0x131))['value']=getLocalDateStr(_0x51f1d1),refreshAnalytics();}function refreshAnalytics(){const _0x1fbd65=a3_0x4ae138,_0x105a06=document[_0x1fbd65(0x119)](_0x1fbd65(0x1b8))['value'],_0x3bb7b9=document[_0x1fbd65(0x119)](_0x1fbd65(0x131))['value'];if(!_0x105a06||!_0x3bb7b9)return;const _0x51d151=sessions[_0x1fbd65(0x126)](_0x5f19bc=>_0x5f19bc[_0x1fbd65(0x14a)]>=_0x105a06&&_0x5f19bc['dateStr']<=_0x3bb7b9&&_0x5f19bc[_0x1fbd65(0x18d)]!==_0x1fbd65(0x184)),_0x55dfa7=_0x51d151[_0x1fbd65(0x1ee)],_0x16e53e=_0x51d151[_0x1fbd65(0x126)](_0x310866=>_0x310866['status']===_0x1fbd65(0x1c9))[_0x1fbd65(0x1ee)],_0x4dd840=_0x55dfa7>0x0?Math['round'](_0x16e53e/_0x55dfa7*0x64):0x0;document['getElementById'](_0x1fbd65(0x201))['textContent']=_0x4dd840+'%',document['getElementById'](_0x1fbd65(0x14d))[_0x1fbd65(0x148)]=_0x16e53e+'\x20–∏–∑\x20'+_0x55dfa7+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2761df=document[_0x1fbd65(0x119)](_0x1fbd65(0x19e)),_0x436682=0x2*Math['PI']*0x23,_0x2438d4=_0x436682-_0x4dd840/0x64*_0x436682;_0x2761df['style'][_0x1fbd65(0x196)]=_0x2438d4;const _0x2d0edd={};_0x51d151['forEach'](_0x354ad0=>{const _0x1aac7f=_0x1fbd65,_0x1f84c3=_0x354ad0[_0x1aac7f(0x15f)]||_0x1aac7f(0x170);if(!_0x2d0edd[_0x1f84c3]){const _0x498f6b='#'+_0x1f84c3['toString']()['substr'](0x0,0x6);_0x2d0edd[_0x1f84c3]={'total':0x0,'done':0x0,'color':_0x498f6b};}_0x2d0edd[_0x1f84c3]['total']++;if(_0x354ad0[_0x1aac7f(0x18d)]===_0x1aac7f(0x1c9))_0x2d0edd[_0x1f84c3][_0x1aac7f(0x16e)]++;});const _0x583ecf=document[_0x1fbd65(0x119)](_0x1fbd65(0x125));_0x583ecf[_0x1fbd65(0x20a)]='';const _0x5664ba=Object[_0x1fbd65(0x1b5)](_0x2d0edd)[_0x1fbd65(0x135)]((_0x1dafc9,_0x295156)=>_0x295156[0x1]['total']-_0x1dafc9[0x1][_0x1fbd65(0x1ac)]);if(_0x5664ba['length']===0x0){_0x583ecf[_0x1fbd65(0x20a)]=_0x1fbd65(0x1ff);return;}_0x5664ba['forEach'](([_0x2ec398,_0x5bfd60])=>{const _0x11c7a7=_0x1fbd65,_0x345468=Math[_0x11c7a7(0x1fc)](_0x5bfd60[_0x11c7a7(0x16e)]/_0x5bfd60[_0x11c7a7(0x1ac)]*0x64),_0x340ff8=document[_0x11c7a7(0x1ce)](_0x11c7a7(0x16b));_0x340ff8[_0x11c7a7(0x1cf)]=_0x11c7a7(0x113),_0x340ff8['style'][_0x11c7a7(0x182)]=_0x5bfd60['color'],_0x340ff8[_0x11c7a7(0x20a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x2ec398[_0x11c7a7(0x10d)](0x0,0x5)+_0x11c7a7(0x188)+_0x5bfd60[_0x11c7a7(0x16e)]+_0x11c7a7(0x18b)+_0x5bfd60[_0x11c7a7(0x1ac)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x345468+_0x11c7a7(0x141),_0x583ecf['appendChild'](_0x340ff8);});}function openDetails(_0x250cf5){const _0x53e3de=a3_0x4ae138;currentSession=_0x250cf5;const _0x2691ea=new Date(_0x250cf5[_0x53e3de(0x14a)]),_0x2fe7ca=_0x2691ea[_0x53e3de(0x1fd)]('ru-RU',{'weekday':_0x53e3de(0x1ad),'day':_0x53e3de(0x14c),'month':_0x53e3de(0x1ad)});document[_0x53e3de(0x119)](_0x53e3de(0x12b))[_0x53e3de(0x148)]=_0x2fe7ca[_0x53e3de(0x1c4)](0x0)[_0x53e3de(0x1bb)]()+_0x2fe7ca[_0x53e3de(0x1f6)](0x1),document[_0x53e3de(0x119)]('detTime')[_0x53e3de(0x148)]=_0x250cf5['start']+_0x53e3de(0x19c)+_0x250cf5[_0x53e3de(0x117)],document[_0x53e3de(0x119)](_0x53e3de(0x1dc))['textContent']=_0x250cf5[_0x53e3de(0x1ba)]||_0x53e3de(0x13d);const _0xdae7f9=document[_0x53e3de(0x119)](_0x53e3de(0x181)),_0x4a66d4=document[_0x53e3de(0x119)](_0x53e3de(0x15e)),_0x3dd3ce=_0x4a66d4[_0x53e3de(0x169)]('.btn-cancel'),_0x139124=_0x4a66d4[_0x53e3de(0x169)](_0x53e3de(0x11d)),_0x4fbff8=document['getElementById'](_0x53e3de(0x198));if(_0x250cf5[_0x53e3de(0x18d)]===_0x53e3de(0x1c9))_0xdae7f9[_0x53e3de(0x148)]=_0x53e3de(0x166),_0xdae7f9[_0x53e3de(0x17b)][_0x53e3de(0x179)]=_0x53e3de(0x1fa),_0x4a66d4['style'][_0x53e3de(0x1f0)]=_0x53e3de(0x1aa);else{_0xdae7f9[_0x53e3de(0x148)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0xdae7f9[_0x53e3de(0x17b)][_0x53e3de(0x179)]=_0x53e3de(0x1f5),_0x4a66d4[_0x53e3de(0x17b)][_0x53e3de(0x1f0)]='block';const _0x400efa=new Date(_0x250cf5[_0x53e3de(0x14a)]+'T'+_0x250cf5['start']),_0x77b003=new Date(),_0x59ff12=(_0x400efa-_0x77b003)/(0x3e8*0x3c*0x3c),_0x3da7f0=coachProfiles[_0x250cf5[_0x53e3de(0x15f)]]&&coachProfiles[_0x250cf5['coachId']][_0x53e3de(0x191)]?parseInt(coachProfiles[_0x250cf5[_0x53e3de(0x15f)]][_0x53e3de(0x191)]):0x18;if(_0x3da7f0===0x0||_0x59ff12>=_0x3da7f0)_0x3dd3ce[_0x53e3de(0x17b)][_0x53e3de(0x1f0)]='block',_0x139124[_0x53e3de(0x17b)][_0x53e3de(0x1f0)]=_0x53e3de(0x149),_0x4fbff8[_0x53e3de(0x17b)][_0x53e3de(0x1f0)]=_0x53e3de(0x1aa);else{_0x3dd3ce[_0x53e3de(0x17b)][_0x53e3de(0x1f0)]=_0x53e3de(0x1aa),_0x139124['style']['display']='none',_0x4fbff8[_0x53e3de(0x17b)]['display']=_0x53e3de(0x149);let _0xae37e0=_0x3da7f0===0x0?_0x53e3de(0x168):_0x53e3de(0x120)+_0x3da7f0+_0x53e3de(0x1e1);_0x4fbff8[_0x53e3de(0x148)]=_0x53e3de(0x1ab)+_0xae37e0+_0x53e3de(0x130);}}document['getElementById']('overlay')['classList'][_0x53e3de(0x1df)](_0x53e3de(0x124)),document[_0x53e3de(0x119)](_0x53e3de(0x1be))[_0x53e3de(0x122)]['add']('open');}function closeAllSheets(){const _0x23a10b=a3_0x4ae138;document[_0x23a10b(0x119)](_0x23a10b(0x1a2))[_0x23a10b(0x122)]['remove'](_0x23a10b(0x124)),document[_0x23a10b(0x165)](_0x23a10b(0x1a4))['forEach'](_0x1e2aeb=>_0x1e2aeb[_0x23a10b(0x122)][_0x23a10b(0x15a)](_0x23a10b(0x13c)));}function openSheet(_0x163f8a){const _0x3239ba=a3_0x4ae138;document[_0x3239ba(0x119)](_0x3239ba(0x1a2))[_0x3239ba(0x122)][_0x3239ba(0x1df)](_0x3239ba(0x124)),document[_0x3239ba(0x119)](_0x163f8a)[_0x3239ba(0x122)]['add'](_0x3239ba(0x13c));}function getLocalDateStr(_0x5d2f5f){const _0x4b2571=a3_0x4ae138,_0x6e02e0=_0x5d2f5f['getFullYear'](),_0x2c68dd=String(_0x5d2f5f['getMonth']()+0x1)[_0x4b2571(0x143)](0x2,'0'),_0x20efbc=String(_0x5d2f5f[_0x4b2571(0x190)]())[_0x4b2571(0x143)](0x2,'0');return _0x6e02e0+'-'+_0x2c68dd+'-'+_0x20efbc;}function getStartOfWeek(_0x4e4b25){const _0x22842b=a3_0x4ae138,_0x5af270=new Date(_0x4e4b25),_0x272ec1=_0x5af270['getDay'](),_0xcc4cfc=_0x5af270[_0x22842b(0x190)]()-_0x272ec1+(_0x272ec1===0x0?-0x6:0x1);return _0x5af270[_0x22842b(0x1d9)](_0xcc4cfc),_0x5af270[_0x22842b(0x1f7)](0x0,0x0,0x0,0x0),_0x5af270;}function scrollToToday(){const _0x2bc1c5=getLocalDateStr(new Date());setTimeout(()=>{const _0x2455df=a3_0x122d,_0x4a83af=document[_0x2455df(0x169)](_0x2455df(0x121)+_0x2bc1c5+'\x22]');if(_0x4a83af){const _0x1363c3=document[_0x2455df(0x119)]('matrixViewport'),_0x39ce1f=_0x4a83af[_0x2455df(0x163)]-_0x1363c3[_0x2455df(0x1fe)]/0x2+_0x4a83af['offsetWidth']/0x2;_0x1363c3[_0x2455df(0x146)]({'left':_0x39ce1f,'behavior':_0x2455df(0x1c8)}),_0x1363c3[_0x2455df(0x13a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x21c17d=a3_0x4ae138,_0x19b9ff=new Date(),_0x9a592e=document[_0x21c17d(0x119)]('globalTimeLine'),_0x193b83=document['getElementById'](_0x21c17d(0x19d)),_0x3bbb2f=(_0x19b9ff[_0x21c17d(0x1e5)]()*0x3c+_0x19b9ff['getMinutes']())/0x3c*GRID_H;_0x9a592e['style'][_0x21c17d(0x193)]=_0x3bbb2f+'px',_0x9a592e['style']['display']=_0x21c17d(0x149),_0x193b83[_0x21c17d(0x17b)][_0x21c17d(0x193)]=_0x3bbb2f+'px',_0x193b83[_0x21c17d(0x17b)]['display']='block',_0x193b83[_0x21c17d(0x148)]=String(_0x19b9ff['getHours']())[_0x21c17d(0x143)](0x2,'0')+':'+String(_0x19b9ff[_0x21c17d(0x1ed)]())['padStart'](0x2,'0');}function onScroll(){const _0x3e8c21=a3_0x4ae138,_0x5379ae=document[_0x3e8c21(0x119)]('matrixViewport'),_0x2fb535=document[_0x3e8c21(0x165)](_0x3e8c21(0x1d2));for(let _0x30e18c of _0x2fb535)if(_0x30e18c[_0x3e8c21(0x163)]>=_0x5379ae[_0x3e8c21(0x144)]){const _0x6254ae=new Date(_0x30e18c['getAttribute'](_0x3e8c21(0x156)));document[_0x3e8c21(0x119)](_0x3e8c21(0x177))[_0x3e8c21(0x148)]=_0x6254ae[_0x3e8c21(0x1af)]('ru',{'month':_0x3e8c21(0x1ad)})['toUpperCase']()+'\x20'+_0x6254ae['getFullYear']();break;}}function showToast(_0x366ae1){const _0xe51ecb=a3_0x4ae138,_0x5994d6=document[_0xe51ecb(0x119)](_0xe51ecb(0x13b));_0x5994d6[_0xe51ecb(0x148)]=_0x366ae1,_0x5994d6[_0xe51ecb(0x122)][_0xe51ecb(0x1df)](_0xe51ecb(0x145)),setTimeout(()=>_0x5994d6['classList'][_0xe51ecb(0x15a)](_0xe51ecb(0x145)),0x7d0);}function handleInfiniteScroll(){const _0x1d546e=a3_0x4ae138,_0x2717cc=document[_0x1d546e(0x119)](_0x1d546e(0x147)),_0xc8ab7=_0x2717cc[_0x1d546e(0x144)],_0x492ab0=_0x2717cc['scrollWidth'],_0x4f6f07=_0x2717cc[_0x1d546e(0x1fe)];if(_0x492ab0-(_0xc8ab7+_0x4f6f07)<0x12c){const _0x34d823=endOffset;endOffset+=0xe,renderDayRange(_0x34d823+0x1,endOffset),reRenderBlocks();}if(_0xc8ab7<0x12c){const _0x48802f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x48802f-0x1),_0x2717cc[_0x1d546e(0x144)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x48a3c6,_0x3b870e){const _0x5b6e54=a3_0x4ae138,_0x1579b5=document['getElementById'](_0x5b6e54(0x1d8)),_0xce1da1=document[_0x5b6e54(0x119)](_0x5b6e54(0x11c)),_0x340199=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4419ee=new Date();_0x4419ee[_0x5b6e54(0x1f7)](0x0,0x0,0x0,0x0);const _0x97b927=getLocalDateStr(new Date()),_0xf11f65=document['createDocumentFragment'](),_0x5c7e76=document['createDocumentFragment']();for(let _0x5d1fe0=_0x48a3c6;_0x5d1fe0<=_0x3b870e;_0x5d1fe0++){const _0x480ef0=new Date(_0x4419ee);_0x480ef0[_0x5b6e54(0x1d9)](_0x480ef0[_0x5b6e54(0x190)]()+_0x5d1fe0);const _0x3a43f7=getLocalDateStr(_0x480ef0);let _0x492bea=_0x480ef0[_0x5b6e54(0x140)]()-0x1;if(_0x492bea===-0x1)_0x492bea=0x6;const _0x1e266f=_0x3a43f7===_0x97b927,_0x4aa491=document['createElement'](_0x5b6e54(0x16b));_0x4aa491[_0x5b6e54(0x1cf)]=_0x5b6e54(0x18e)+(_0x1e266f?_0x5b6e54(0x1eb):''),_0x4aa491[_0x5b6e54(0x1dd)](_0x5b6e54(0x156),_0x3a43f7),_0x4aa491[_0x5b6e54(0x20a)]='<div\x20class=\x22dch-day\x22>'+_0x340199[_0x492bea]+_0x5b6e54(0x202)+_0x480ef0['getDate']()+_0x5b6e54(0x18a),_0xf11f65[_0x5b6e54(0x132)](_0x4aa491);const _0x1f2806=document[_0x5b6e54(0x1ce)]('div');_0x1f2806[_0x5b6e54(0x1cf)]='day-column\x20'+(_0x1e266f?'today':''),_0x1f2806[_0x5b6e54(0x1dd)](_0x5b6e54(0x156),_0x3a43f7),_0x1f2806[_0x5b6e54(0x1dd)](_0x5b6e54(0x1b2),_0x492bea),_0x5c7e76[_0x5b6e54(0x132)](_0x1f2806);}_0x1579b5['insertBefore'](_0xf11f65,_0x1579b5[_0x5b6e54(0x19b)]),_0xce1da1[_0x5b6e54(0x1a3)](_0x5c7e76,_0xce1da1[_0x5b6e54(0x169)](_0x5b6e54(0x1b3)));}function hexToRgba(_0x11c843,_0x178212){const _0x56fb4b=a3_0x4ae138;let _0x39d5a3;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x56fb4b(0x185)](_0x11c843))return _0x39d5a3=_0x11c843[_0x56fb4b(0x1cb)](0x1)[_0x56fb4b(0x19f)](''),_0x39d5a3[_0x56fb4b(0x1ee)]==0x3&&(_0x39d5a3=[_0x39d5a3[0x0],_0x39d5a3[0x0],_0x39d5a3[0x1],_0x39d5a3[0x1],_0x39d5a3[0x2],_0x39d5a3[0x2]]),_0x39d5a3='0x'+_0x39d5a3['join'](''),_0x56fb4b(0x1fb)+[_0x39d5a3>>0x10&0xff,_0x39d5a3>>0x8&0xff,_0x39d5a3&0xff][_0x56fb4b(0x1f3)](',')+','+_0x178212+')';return _0x56fb4b(0x17e)+_0x178212+')';}let confirmResolver=null;function showCustomConfirm(_0x5adeaa,_0x369b5a,_0x460142=!![]){const _0x330fd9=a3_0x4ae138;document[_0x330fd9(0x119)](_0x330fd9(0x1c3))[_0x330fd9(0x148)]=_0x5adeaa,document[_0x330fd9(0x119)](_0x330fd9(0x10e))[_0x330fd9(0x148)]=_0x369b5a;const _0x35a50b=document[_0x330fd9(0x119)](_0x330fd9(0x17c));return _0x460142?(_0x35a50b[_0x330fd9(0x17b)]['color']=_0x330fd9(0x1f8),_0x35a50b[_0x330fd9(0x17b)]['fontWeight']=_0x330fd9(0x160)):(_0x35a50b[_0x330fd9(0x17b)]['color']='#0a84ff',_0x35a50b[_0x330fd9(0x17b)][_0x330fd9(0x14e)]=_0x330fd9(0x160)),new Promise(_0x1ae7cd=>{const _0x4035c5=_0x330fd9;confirmResolver=_0x1ae7cd,document[_0x4035c5(0x119)](_0x4035c5(0x197))[_0x4035c5(0x122)][_0x4035c5(0x1df)](_0x4035c5(0x12c));});}function resolveCustomConfirm(_0x2929c7){const _0x1da050=a3_0x4ae138;document[_0x1da050(0x119)]('customConfirm')[_0x1da050(0x122)][_0x1da050(0x15a)](_0x1da050(0x12c));if(confirmResolver)confirmResolver(_0x2929c7);}async function tryCancelCurrentSession(){const _0x40cc43=a3_0x4ae138;if(!currentSession)return;const _0x456e9e=await showCustomConfirm(_0x40cc43(0x1e3),_0x40cc43(0x157),!![]);if(!_0x456e9e)return;const _0x2c5de4=currentSession;closeAllSheets(),sessions=sessions[_0x40cc43(0x126)](_0xbfeaa4=>_0xbfeaa4['id']!==_0x2c5de4['id']),reRenderBlocks(),showToast(_0x40cc43(0x207)),lastUserActionTime=Date[_0x40cc43(0x1ef)]();try{const _0x29aa1c=window[_0x40cc43(0x1ea)]?.['WebApp'],_0x4b2134=await fetch(API_URL,{'method':_0x40cc43(0x209),'body':JSON[_0x40cc43(0x19a)]({'action':'client_cancel','init_data':_0x29aa1c?.[_0x40cc43(0x153)]||'','coachId':_0x2c5de4['coachId'],'dateStr':_0x2c5de4[_0x40cc43(0x14a)],'sessionId':_0x2c5de4['id']})});if(_0x4b2134['ok'])DataManager[_0x40cc43(0x1b1)]();}catch(_0x3b443d){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x23e5b0=a3_0x4ae138;if(!currentSession)return;document['getElementById'](_0x23e5b0(0x1be))['classList'][_0x23e5b0(0x15a)]('open'),document[_0x23e5b0(0x119)](_0x23e5b0(0x12f))[_0x23e5b0(0x122)][_0x23e5b0(0x1df)]('open');const _0xeeb972=document[_0x23e5b0(0x119)](_0x23e5b0(0x123)),_0x45f74d=document[_0x23e5b0(0x119)]('rsSlotsGrid');_0xeeb972[_0x23e5b0(0x20a)]='',_0x45f74d[_0x23e5b0(0x20a)]=_0x23e5b0(0x164);const [_0x4e911a,_0x557c35]=currentSession[_0x23e5b0(0x1ec)][_0x23e5b0(0x19f)](':')['map'](Number),[_0x32cab4,_0xdedef4]=currentSession[_0x23e5b0(0x117)][_0x23e5b0(0x19f)](':')[_0x23e5b0(0x206)](Number),_0x5bd619=_0x32cab4*0x3c+_0xdedef4-(_0x4e911a*0x3c+_0x557c35);try{const _0x40109b=window['Telegram']?.[_0x23e5b0(0x1d6)],_0x5be8e0=await fetch(API_URL,{'method':_0x23e5b0(0x209),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession['coachId'],'duration':_0x5bd619,'init_data':_0x40109b?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x5c1f61=await _0x5be8e0['json']();_0x5c1f61['ok']&&_0x5c1f61['data']?(availableSlotsCache=_0x5c1f61[_0x23e5b0(0x204)],renderRescheduleDates()):_0x45f74d[_0x23e5b0(0x20a)]=_0x23e5b0(0x15d);}catch(_0x28646a){_0x45f74d[_0x23e5b0(0x20a)]=_0x23e5b0(0x175);}}function renderRescheduleDates(){const _0x549dff=a3_0x4ae138,_0x44c6a5=document['getElementById'](_0x549dff(0x123));_0x44c6a5[_0x549dff(0x20a)]='';const _0xb9d6f3=Object[_0x549dff(0x1cd)](availableSlotsCache)[_0x549dff(0x135)](),_0x37cab6=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xb9d6f3[_0x549dff(0x1ee)]===0x0){document['getElementById'](_0x549dff(0x150))[_0x549dff(0x20a)]=_0x549dff(0x186);return;}_0xb9d6f3[_0x549dff(0x1a9)]((_0x4f4013,_0x5a2b09)=>{const _0x4d6848=_0x549dff,_0x5066d7=new Date(_0x4f4013),_0x337ae4=_0x37cab6[_0x5066d7['getDay']()],_0x280fba=_0x5066d7[_0x4d6848(0x190)](),_0x53e245=document[_0x4d6848(0x1ce)]('div');_0x53e245['className']=_0x4d6848(0x1d7);if(_0x5a2b09===0x0)_0x53e245[_0x4d6848(0x122)][_0x4d6848(0x1df)](_0x4d6848(0x124));_0x53e245[_0x4d6848(0x20a)]=_0x4d6848(0x1f9)+_0x337ae4+'</div><div\x20class=\x22rs-day-num\x22>'+_0x280fba+_0x4d6848(0x18a),_0x53e245['onclick']=()=>selectRsDate(_0x4f4013,_0x53e245),_0x44c6a5[_0x4d6848(0x132)](_0x53e245);}),selectRsDate(_0xb9d6f3[0x0],_0x44c6a5['firstChild']);}function selectRsDate(_0x3d5f1c,_0x4ad38f){const _0xfb9777=a3_0x4ae138;selectedRsDate=_0x3d5f1c,document[_0xfb9777(0x165)](_0xfb9777(0x15c))[_0xfb9777(0x1a9)](_0x5bcff8=>_0x5bcff8[_0xfb9777(0x122)][_0xfb9777(0x15a)](_0xfb9777(0x124)));if(_0x4ad38f)_0x4ad38f[_0xfb9777(0x122)][_0xfb9777(0x1df)](_0xfb9777(0x124));const _0x5773a3=document['getElementById']('rsSlotsGrid');_0x5773a3[_0xfb9777(0x20a)]='';const _0x833a97=availableSlotsCache[_0x3d5f1c]||[];if(_0x833a97[_0xfb9777(0x1ee)]===0x0){_0x5773a3['innerHTML']=_0xfb9777(0x15d);return;}_0x833a97['forEach'](_0x23b274=>{const _0xfefd26=_0xfb9777,_0x5e22a3=document[_0xfefd26(0x1ce)](_0xfefd26(0x1d4));_0x5e22a3['className']=_0xfefd26(0x1c5),_0x5e22a3[_0xfefd26(0x148)]=_0x23b274,_0x5e22a3[_0xfefd26(0x115)]=()=>confirmReschedule(_0x23b274),_0x5773a3[_0xfefd26(0x132)](_0x5e22a3);});}async function confirmReschedule(_0x7b3b77){const _0x30659a=a3_0x4ae138,_0x48b242=new Date(selectedRsDate),_0x23d33e=_0x48b242['toLocaleDateString'](_0x30659a(0x1f4),{'day':'numeric','month':_0x30659a(0x1ad)}),_0x569726=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x30659a(0x16d)+_0x23d33e+_0x30659a(0x18f)+_0x7b3b77+'?',![]);if(!_0x569726)return;closeAllSheets(),showToast(_0x30659a(0x172)),lastUserActionTime=Date['now']();const _0x53d24e=currentSession[_0x30659a(0x14a)],_0x1cfac7=currentSession['id'],[_0x37393d,_0xcfc8c8]=currentSession['start']['split'](':')['map'](Number),[_0x56d864,_0x5dddc7]=currentSession['end'][_0x30659a(0x19f)](':')[_0x30659a(0x206)](Number),_0x543fbf=_0x56d864*0x3c+_0x5dddc7-(_0x37393d*0x3c+_0xcfc8c8),[_0x407862,_0x51e33f]=_0x7b3b77['split'](':')[_0x30659a(0x206)](Number),_0x569ed5=_0x407862*0x3c+_0x51e33f+_0x543fbf,_0x431447=Math['floor'](_0x569ed5/0x3c),_0x528f01=_0x569ed5%0x3c,_0x1c62e6=String(_0x431447)[_0x30659a(0x143)](0x2,'0')+':'+String(_0x528f01)[_0x30659a(0x143)](0x2,'0'),_0x16d23b=sessions[_0x30659a(0x1a1)](_0x539394=>_0x539394['id']===_0x1cfac7);_0x16d23b!==-0x1&&(sessions[_0x16d23b][_0x30659a(0x14a)]=selectedRsDate,sessions[_0x16d23b][_0x30659a(0x1ec)]=_0x7b3b77,sessions[_0x16d23b][_0x30659a(0x117)]=_0x1c62e6,reRenderBlocks());try{const _0x46a5f3=window[_0x30659a(0x1ea)]?.[_0x30659a(0x1d6)],_0x1603f5=await fetch(API_URL,{'method':_0x30659a(0x209),'body':JSON[_0x30659a(0x19a)]({'action':_0x30659a(0x11b),'init_data':_0x46a5f3?.['initData']||'','oldSessionId':_0x1cfac7,'oldDate':_0x53d24e,'newDate':selectedRsDate,'newTime':_0x7b3b77,'coachId':currentSession[_0x30659a(0x15f)]})}),_0x338a09=await _0x1603f5[_0x30659a(0x1e4)]();!_0x338a09['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x30659a(0x1c2)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x30659a(0x1b1)]());}catch(_0x3cb06a){showToast(_0x30659a(0x151));}}document[a3_0x4ae138(0x1d0)](a3_0x4ae138(0x1d3),init);