const a3_0x2a8f00=a3_0x4a19;(function(_0x288d32,_0x350732){const _0xe3441b=a3_0x4a19,_0x57d254=_0x288d32();while(!![]){try{const _0x46025a=parseInt(_0xe3441b(0x135))/0x1+-parseInt(_0xe3441b(0xc2))/0x2*(-parseInt(_0xe3441b(0xbb))/0x3)+parseInt(_0xe3441b(0x177))/0x4+-parseInt(_0xe3441b(0x175))/0x5+-parseInt(_0xe3441b(0xb5))/0x6+-parseInt(_0xe3441b(0x140))/0x7+parseInt(_0xe3441b(0x18c))/0x8*(-parseInt(_0xe3441b(0x144))/0x9);if(_0x46025a===_0x350732)break;else _0x57d254['push'](_0x57d254['shift']());}catch(_0x5b96b8){_0x57d254['push'](_0x57d254['shift']());}}}(a3_0x408d,0xe129f));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x2a8f00(0x15b),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x2a8f00(0x185),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2a8f00(0x148),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2eaeef=a3_0x2a8f00,_0x5a07d4=(function(){let _0x5b4c6a=!![];return function(_0x1373d8,_0x20f3e0){const _0x5e9ba3=_0x5b4c6a?function(){const _0x326c1c=a3_0x4a19;if(_0x20f3e0){const _0x2551ef=_0x20f3e0[_0x326c1c(0x178)](_0x1373d8,arguments);return _0x20f3e0=null,_0x2551ef;}}:function(){};return _0x5b4c6a=![],_0x5e9ba3;};}()),_0x25b01d=_0x5a07d4(this,function(){const _0x52b338=a3_0x4a19;return _0x25b01d[_0x52b338(0xeb)]()['search'](_0x52b338(0xe0))[_0x52b338(0xeb)]()[_0x52b338(0x16f)](_0x25b01d)[_0x52b338(0x11c)](_0x52b338(0xe0));});_0x25b01d();try{const _0x12d263=window[_0x2eaeef(0x160)]?.[_0x2eaeef(0xa9)];if(!_0x12d263)return;_0x12d263[_0x2eaeef(0xef)](),_0x12d263[_0x2eaeef(0x110)]();try{_0x12d263[_0x2eaeef(0x102)](_0x2eaeef(0xbe)),_0x12d263[_0x2eaeef(0x167)]&&_0x12d263[_0x2eaeef(0x167)](_0x2eaeef(0xbe));}catch(_0x3a1f24){console[_0x2eaeef(0x184)](_0x2eaeef(0xfa),_0x3a1f24);}try{_0x12d263[_0x2eaeef(0x153)]&&(_0x12d263[_0x2eaeef(0x153)][_0x2eaeef(0xa8)](),_0x12d263[_0x2eaeef(0x153)][_0x2eaeef(0xcb)](),_0x12d263[_0x2eaeef(0x153)][_0x2eaeef(0xcc)](function(){const _0x4b91f9=_0x2eaeef;window[_0x4b91f9(0xa0)][_0x4b91f9(0x100)]=_0x4b91f9(0x174);}));}catch(_0x12d3ad){console[_0x2eaeef(0x184)](_0x2eaeef(0xed),_0x12d3ad);}try{if(_0x12d263['disableVerticalSwipes'])_0x12d263['disableVerticalSwipes']();}catch(_0x3e4665){}}catch(_0x5ccb81){console[_0x2eaeef(0x11d)]('Critical\x20TMA\x20Error:',_0x5ccb81);}}());function isAdmin(){const _0x53198c=a3_0x2a8f00;try{const _0x1a8ed0=Number(window[_0x53198c(0x160)]?.[_0x53198c(0xa9)]?.[_0x53198c(0x161)]?.[_0x53198c(0x154)]?.['id']);return _0x1a8ed0===0xbaf7174;}catch(_0x447ceb){return![];}}const DataManager={'saveLocally'(){const _0x4a4c7d=a3_0x2a8f00;try{localStorage[_0x4a4c7d(0x17f)](KEY_SESSIONS,JSON[_0x4a4c7d(0x188)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x4a4c7d(0x188)](clients)),localStorage[_0x4a4c7d(0x17f)](KEY_SETTINGS,JSON[_0x4a4c7d(0x188)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x25253a){}},'loadLocal'(){const _0x2d3520=a3_0x2a8f00;try{const _0x4d53bb=localStorage[_0x2d3520(0xf2)](KEY_SESSIONS);if(_0x4d53bb)sessions=JSON['parse'](_0x4d53bb);const _0x514e14=localStorage[_0x2d3520(0xf2)](KEY_CLIENTS);if(_0x514e14)clients=JSON[_0x2d3520(0x10c)](_0x514e14);const _0x19a300=localStorage[_0x2d3520(0xf2)](KEY_SETTINGS);if(_0x19a300){const _0x56839b=JSON['parse'](_0x19a300);if(_0x56839b[_0x2d3520(0x10a)])availabilityPattern=_0x56839b[_0x2d3520(0x10a)];if(_0x56839b[_0x2d3520(0x109)])specialRanges=_0x56839b[_0x2d3520(0x109)];if(_0x56839b['exceptions'])dateExceptions=_0x56839b[_0x2d3520(0xd5)];}}catch(_0x31b9ab){}},async 'syncLoad'(){const _0x81f664=a3_0x2a8f00,_0x2d0a65=new Date(),_0x342817=_0x2d0a65['getFullYear']()+'-'+String(_0x2d0a65[_0x81f664(0xc3)]()+0x1)[_0x81f664(0xf6)](0x2,'0'),_0x5087b2=new Date(_0x2d0a65);_0x5087b2[_0x81f664(0x15d)](_0x2d0a65[_0x81f664(0xc3)]()+0x1);const _0x393d42=_0x5087b2['getFullYear']()+'-'+String(_0x5087b2[_0x81f664(0xc3)]()+0x1)[_0x81f664(0xf6)](0x2,'0'),_0x204291=Date[_0x81f664(0xe8)]();try{const _0x517d6a=window['Telegram']?.['WebApp'],_0x22417a=_0x517d6a?.[_0x81f664(0xe1)]||'',[_0x3c8872,_0x345015]=await Promise[_0x81f664(0xf7)]([fetch(API_URL,{'method':_0x81f664(0x141),'body':JSON[_0x81f664(0x188)]({'action':_0x81f664(0x156),'init_data':_0x22417a,'month_str':_0x342817})})['then'](_0x5ef213=>_0x5ef213['json']()),fetch(API_URL,{'method':_0x81f664(0x141),'body':JSON['stringify']({'action':'client_load','init_data':_0x22417a,'month_str':_0x393d42})})[_0x81f664(0xa3)](_0x474761=>_0x474761[_0x81f664(0x170)]())]);if(lastUserActionTime>_0x204291){console['log'](_0x81f664(0xbf));return;}if(_0x3c8872['ok'])this[_0x81f664(0xf1)](_0x3c8872[_0x81f664(0xdd)],_0x342817);if(_0x345015['ok'])this['applyData'](_0x345015[_0x81f664(0xdd)],_0x393d42);this[_0x81f664(0xf4)]();}catch(_0x50d880){}},'applyData'(_0x3ba4cd,_0x2f9fb5){const _0x3eb349=a3_0x2a8f00;if(!_0x3ba4cd)return;if(_0x3ba4cd[_0x3eb349(0xae)]){if(_0x3ba4cd[_0x3eb349(0xae)][_0x3eb349(0x10a)])availabilityPattern=_0x3ba4cd[_0x3eb349(0xae)][_0x3eb349(0x10a)];if(_0x3ba4cd[_0x3eb349(0xae)]['ranges'])specialRanges=_0x3ba4cd[_0x3eb349(0xae)]['ranges'];if(_0x3ba4cd[_0x3eb349(0xae)][_0x3eb349(0xd5)])dateExceptions=_0x3ba4cd['settings'][_0x3eb349(0xd5)];}if(_0x3ba4cd[_0x3eb349(0x150)]&&Array['isArray'](_0x3ba4cd['clients']))clients=_0x3ba4cd[_0x3eb349(0x150)];_0x3ba4cd['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x3ba4cd[_0x3eb349(0x173)]}),_0x3ba4cd[_0x3eb349(0xfb)]&&(sessions=sessions[_0x3eb349(0x138)](_0x40958e=>!_0x40958e['dateStr'][_0x3eb349(0xc7)](_0x2f9fb5)),Object['keys'](_0x3ba4cd[_0x3eb349(0xfb)])['forEach'](_0x1dad04=>{const _0x57ce54=_0x3eb349,_0x4d534f=_0x3ba4cd[_0x57ce54(0xfb)][_0x1dad04];_0x4d534f[_0x57ce54(0x15a)](_0x3d0127=>{const _0x215523=_0x57ce54;sessions[_0x215523(0x13b)]({'id':_0x3d0127['i'],'clientId':_0x3d0127['c'],'coachId':_0x3d0127[_0x215523(0x107)],'dateStr':_0x2f9fb5+'-'+_0x1dad04['padStart'](0x2,'0'),'start':_0x3d0127['s'],'end':_0x3d0127['e'],'note':_0x3d0127['n']||'','status':_0x3d0127['st']||'planned','seriesId':_0x3d0127['sid']});});})),reRenderBlocks();}};function init(){const _0x5514ed=a3_0x2a8f00;DataManager[_0x5514ed(0x143)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5514ed(0x18a)](_0x5514ed(0xe7))[_0x5514ed(0x15f)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5514ed(0x136)]();}function a3_0x408d(){const _0xaed63d=['split','href','day-off-overlay\x20stripe-bg','setHeaderColor','height','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','data-day-idx','</div><div\x20class=\x22dch-num\x22>','cid','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','ranges','pattern','day-column\x20','parse','\x20–∏–∑\x20','backgroundColor','top','expand','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','\x20–≤\x20','T23:59:59','rsSlotsGrid','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','firstChild','today','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','#0a84ff','status','active','search','error','add',':00</span>','substring','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','.btn-reschedule','client-stat-card','getMinutes','querySelector','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','event-card','note','slice','map','backgroundPosition','toast','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overlay','anDonutCircle','seriesId','headerMonth','offsetWidth','rgba(10,\x20132,\x20255,\x20','setAttribute','1632670fnzwFa','syncLoad','globalTimeLine','filter','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','keys','push','var(--acc-green)','dateStr','T00:00:00','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','314335ulEEUu','POST','cancelled','loadLocal','9uaWbnj','toUpperCase','blocked-range-part\x20stripe-bg','classList','week','ccYesBtn','get_slots','cancel_window','block','ru-RU','rgba(','value','clients','\x20-\x20','rsDatesTrack','BackButton','user','anTotalStats','client_load','600','join','remove','forEach','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','length','setMonth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','addEventListener','Telegram','initDataUnsafe','style','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','left','scrollTop','.rs-date-chip','setBackgroundColor','detStatus','borderLeftColor','long','getTime','textContent','ccTitle','<span>','constructor','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','coach_profiles','router.html','2443175OHFvhd','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','5407124GvFTSU','apply','rs-date-chip','\x20status-completed','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','setHours','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','.period-switch\x20.p-btn','setItem','analyticsSheet','find','createDocumentFragment','DOMContentLoaded','log','uc_client_settings','button','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','stringify','%\x20+\x202px)','getElementById','detTime','4265496hYgysy','scrollTo','#ff453a','.btn-cancel','<div\x20class=\x22dch-day\x22>','data-date','coachId','colIndex','detDate','sort','custom','reschedule','cancelContainer','location','.day-column','insertBefore','then','open','timeLineBadge','customConfirm','className','show','WebApp','gridColumns','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','div','findIndex','settings','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','day-col-header\x20','Unknown','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','clientWidth','appendChild','9872802HYcDCS','offsetLeft','.day-col-header','setDate','ccText','scrollWidth','3dAWPZV','charAt','anCustomDates','#050505','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','completed','start','1300028NjbJKy','getMonth','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','done','startsWith','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','getHours','offClick','onClick','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','round','none','getDay','analyticsList','querySelectorAll','anStart','detailsSheet','exceptions','blocked-slot\x20stripe-bg','end','anEnd','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','display','max','scrollLeft','data','entries','createElement','(((.+)+)+)+$','initData','daysHeaderTrack','numeric','total','month','var(--acc-blue)','matrixViewport','now','getDate','onclick','toString','toLocaleDateString','Error\x20setting\x20back\x20button:','min','ready','calc(','applyData','getItem','substr','saveLocally','floor','padStart','all','</div>','\x20—á.','Error\x20setting\x20color:','calendar','innerHTML','getFullYear','getAttribute'];a3_0x408d=function(){return _0xaed63d;};return a3_0x408d();}function renderTimeColumn(){const _0x37af0b=a3_0x2a8f00,_0x591613=document[_0x37af0b(0x18a)]('timeColumn'),_0xeed5b0=document[_0x37af0b(0x18a)](_0x37af0b(0xa5));_0x591613['innerHTML']='',_0x591613[_0x37af0b(0xb4)](_0xeed5b0);for(let _0x1269d2=0x0;_0x1269d2<0x18;_0x1269d2++){const _0x289a5c=document[_0x37af0b(0xdf)](_0x37af0b(0xac));_0x289a5c[_0x37af0b(0xa7)]='time-label';if(_0x1269d2>0x0)_0x289a5c[_0x37af0b(0xfc)]=_0x37af0b(0x16e)+String(_0x1269d2)[_0x37af0b(0xf6)](0x2,'0')+_0x37af0b(0x11f);_0x591613[_0x37af0b(0xb4)](_0x289a5c);}}function renderDayRange(_0x2b5e14,_0x1e7acd){const _0x49cab1=a3_0x2a8f00,_0x52e33f=document[_0x49cab1(0x18a)](_0x49cab1(0xe2)),_0x5f1f66=document['getElementById']('gridColumns'),_0x3aeebf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46519b=new Date();_0x46519b[_0x49cab1(0x17c)](0x0,0x0,0x0,0x0);const _0x3b3a6f=getLocalDateStr(new Date());for(let _0x4112c1=_0x2b5e14;_0x4112c1<=_0x1e7acd;_0x4112c1++){const _0x2a3868=new Date(_0x46519b);_0x2a3868[_0x49cab1(0xb8)](_0x2a3868[_0x49cab1(0xe9)]()+_0x4112c1);const _0x231180=getLocalDateStr(_0x2a3868);let _0x2dd488=_0x2a3868['getDay']()-0x1;if(_0x2dd488===-0x1)_0x2dd488=0x6;const _0x3ad716=_0x231180===_0x3b3a6f,_0x1f574c=document[_0x49cab1(0xdf)]('div');_0x1f574c[_0x49cab1(0xa7)]=_0x49cab1(0xb0)+(_0x3ad716?'today':''),_0x1f574c[_0x49cab1(0x134)](_0x49cab1(0x191),_0x231180),_0x1f574c[_0x49cab1(0xfc)]=_0x49cab1(0x190)+_0x3aeebf[_0x2dd488]+'</div><div\x20class=\x22dch-num\x22>'+_0x2a3868[_0x49cab1(0xe9)]()+'</div>',_0x52e33f[_0x49cab1(0xb4)](_0x1f574c);const _0xff0f36=document['createElement'](_0x49cab1(0xac));_0xff0f36[_0x49cab1(0xa7)]=_0x49cab1(0x10b)+(_0x3ad716?_0x49cab1(0x117):''),_0xff0f36[_0x49cab1(0x134)](_0x49cab1(0x191),_0x231180),_0xff0f36[_0x49cab1(0x134)](_0x49cab1(0x105),_0x2dd488),_0x5f1f66[_0x49cab1(0xb4)](_0xff0f36);}}function reRenderBlocks(){const _0x1acc1f=a3_0x2a8f00;document[_0x1acc1f(0xd2)]('.day-column')[_0x1acc1f(0x15a)](_0x4acafc=>{const _0x4f809f=_0x1acc1f;_0x4acafc[_0x4f809f(0xd2)](_0x4f809f(0xc5))[_0x4f809f(0x15a)](_0x555607=>_0x555607['remove']());const _0x235b9a=_0x4acafc[_0x4f809f(0xfe)]('data-date'),_0x16710b=parseInt(_0x4acafc[_0x4f809f(0xfe)](_0x4f809f(0x105))),_0x44e304=Math['round'](_0x4acafc[_0x4f809f(0xb6)]);(availabilityPattern[_0x16710b]||[])['forEach'](_0x29e9c6=>{const _0x109e6f=_0x4f809f,_0x394d48=document[_0x109e6f(0xdf)]('div');_0x394d48[_0x109e6f(0xa7)]=_0x109e6f(0xd6),_0x394d48[_0x109e6f(0x162)][_0x109e6f(0x10f)]=_0x29e9c6*GRID_H+'px',_0x394d48['style'][_0x109e6f(0x12b)]='-'+_0x44e304+'px\x20-'+_0x29e9c6*GRID_H+'px',_0x4acafc[_0x109e6f(0xb4)](_0x394d48);});if(specialRanges[_0x4f809f(0x15c)]>0x0){const _0x3dedfa=new Date(_0x235b9a+_0x4f809f(0x13e))[_0x4f809f(0x16b)](),_0x2402e1=new Date(_0x235b9a+_0x4f809f(0x113))[_0x4f809f(0x16b)]();specialRanges['forEach'](_0x22aedf=>{const _0x42fcd4=_0x4f809f,_0x4fec5c=new Date(_0x22aedf[_0x42fcd4(0xc1)])[_0x42fcd4(0x16b)](),_0x3c579d=new Date(_0x22aedf[_0x42fcd4(0xd7)])[_0x42fcd4(0x16b)](),_0x11fe9a=Math[_0x42fcd4(0xdb)](_0x3dedfa,_0x4fec5c),_0x2fd2b9=Math['min'](_0x2402e1,_0x3c579d);if(_0x11fe9a<_0x2fd2b9){const _0x13a321=(_0x11fe9a-_0x3dedfa)/0x36ee80*GRID_H,_0x2941d1=(_0x2fd2b9-_0x11fe9a)/0x36ee80*GRID_H,_0xa33427=document[_0x42fcd4(0xdf)]('div');_0x2941d1>=23.5*GRID_H?(_0xa33427[_0x42fcd4(0xa7)]=_0x42fcd4(0x101),_0xa33427['style']['backgroundPosition']='-'+_0x44e304+'px\x200px'):(_0xa33427[_0x42fcd4(0xa7)]=_0x42fcd4(0x146),_0xa33427['style'][_0x42fcd4(0x10f)]=_0x13a321+'px',_0xa33427['style'][_0x42fcd4(0x103)]=_0x2941d1+'px',_0xa33427[_0x42fcd4(0x162)][_0x42fcd4(0x12b)]='-'+_0x44e304+'px\x20-'+_0x13a321+'px'),_0x4acafc[_0x42fcd4(0xb4)](_0xa33427);}});}renderEventsForColumn(_0x4acafc,_0x235b9a);});}function renderEventsForColumn(_0x109ee4,_0x59147f){const _0x412dc7=a3_0x2a8f00,_0x458b2f=sessions[_0x412dc7(0x138)](_0x1eab8e=>_0x1eab8e[_0x412dc7(0x13d)]===_0x59147f),_0x4a10d1=_0x458b2f[_0x412dc7(0x12a)](_0x3233d6=>{const _0x42bce4=_0x412dc7,[_0x269ea4,_0x3b6df4]=_0x3233d6[_0x42bce4(0xc1)][_0x42bce4(0xff)](':')[_0x42bce4(0x12a)](Number),[_0x31df5d,_0x5d6376]=_0x3233d6['end'][_0x42bce4(0xff)](':')[_0x42bce4(0x12a)](Number);return{'data':_0x3233d6,'start':_0x269ea4*0x3c+_0x3b6df4,'end':_0x31df5d*0x3c+_0x5d6376,'colIndex':0x0};});_0x4a10d1[_0x412dc7(0x195)]((_0x3aa9e2,_0x1ea082)=>_0x3aa9e2[_0x412dc7(0xc1)]-_0x1ea082[_0x412dc7(0xc1)]||_0x1ea082[_0x412dc7(0xd7)]-_0x1ea082['start']-(_0x3aa9e2['end']-_0x3aa9e2[_0x412dc7(0xc1)]));const _0x1adfb7=[];_0x4a10d1[_0x412dc7(0x15a)](_0x362465=>{const _0x15d433=_0x412dc7;let _0x2405e9=![];for(let _0x375e50=0x0;_0x375e50<_0x1adfb7['length'];_0x375e50++){const _0x40a860=_0x1adfb7[_0x375e50];if(_0x362465['start']>=_0x40a860[_0x40a860[_0x15d433(0x15c)]-0x1][_0x15d433(0xd7)]){_0x40a860[_0x15d433(0x13b)](_0x362465),_0x362465[_0x15d433(0x193)]=_0x375e50,_0x2405e9=!![];break;}}!_0x2405e9&&(_0x1adfb7[_0x15d433(0x13b)]([_0x362465]),_0x362465[_0x15d433(0x193)]=_0x1adfb7[_0x15d433(0x15c)]-0x1);}),_0x4a10d1[_0x412dc7(0x15a)](_0x28e75b=>{const _0xf7908f=_0x412dc7;let _0xfea0b7=0x0;_0x4a10d1[_0xf7908f(0x15a)](_0x966fd5=>{const _0x21e02c=_0xf7908f;if(Math['max'](_0x28e75b[_0x21e02c(0xc1)],_0x966fd5['start'])<Math[_0x21e02c(0xee)](_0x28e75b[_0x21e02c(0xd7)],_0x966fd5['end'])&&_0x966fd5['colIndex']>_0xfea0b7)_0xfea0b7=_0x966fd5[_0x21e02c(0x193)];});const _0x5184a5=_0xfea0b7+0x1,_0xb07bb8=0x64/_0x5184a5,_0x345a2b=_0x28e75b[_0xf7908f(0x193)]*_0xb07bb8,_0x2aa2b9=document['createElement'](_0xf7908f(0xac)),_0x85000e=_0x28e75b[_0xf7908f(0xdd)];let _0x5e0847=_0xf7908f(0x119);if(clients&&clients[_0xf7908f(0x15c)]>0x0){const _0x3d29e1=clients[_0xf7908f(0x181)](_0xbcf47e=>String(_0xbcf47e['id'])===String(_0x85000e['clientId']));if(_0x3d29e1&&_0x3d29e1[_0xf7908f(0x172)])_0x5e0847=_0x3d29e1[_0xf7908f(0x172)];}const _0x426d9b=_0x85000e[_0xf7908f(0x11a)]==='completed',_0x4ffae1=_0x426d9b?0x1:0.45;_0x2aa2b9[_0xf7908f(0xa7)]=_0xf7908f(0x127)+(_0x426d9b?_0xf7908f(0x17a):''),_0x2aa2b9[_0xf7908f(0x162)][_0xf7908f(0x10e)]=hexToRgba(_0x5e0847,_0x4ffae1),_0x2aa2b9[_0xf7908f(0x162)][_0xf7908f(0x169)]=_0x5e0847;const _0x3dc37e=_0x28e75b[_0xf7908f(0xc1)]/0x3c*GRID_H,_0x3188c2=(_0x28e75b['end']-_0x28e75b[_0xf7908f(0xc1)])/0x3c*GRID_H;_0x2aa2b9[_0xf7908f(0x162)][_0xf7908f(0x10f)]=_0x3dc37e+'px',_0x2aa2b9['style'][_0xf7908f(0x103)]=Math['max'](_0x3188c2,0x14)+'px',_0x2aa2b9['style']['width']='calc('+_0xb07bb8+'%\x20-\x204px)',_0x2aa2b9[_0xf7908f(0x162)][_0xf7908f(0x164)]=_0xf7908f(0xf0)+_0x345a2b+_0xf7908f(0x189),_0x2aa2b9[_0xf7908f(0x162)]['zIndex']=0xa+_0x28e75b[_0xf7908f(0x193)];if(_0xb07bb8<0x55)_0x2aa2b9['classList'][_0xf7908f(0x11e)]('mini');let _0x9628e3='';if(_0x85000e[_0xf7908f(0x130)])_0x9628e3+=_0xf7908f(0x115);if(_0x426d9b)_0x9628e3+=_0xf7908f(0x108);_0x2aa2b9[_0xf7908f(0xfc)]=_0xf7908f(0xc9)+_0x85000e[_0xf7908f(0xc1)]+_0xf7908f(0x151)+_0x85000e['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9628e3+_0xf7908f(0x171),_0x2aa2b9[_0xf7908f(0xea)]=_0x576546=>{_0x576546['stopPropagation'](),openDetails(_0x85000e);},_0x109ee4[_0xf7908f(0xb4)](_0x2aa2b9);});}function openAnalytics(){const _0x4898d7=a3_0x2a8f00,_0x1d1fda=document[_0x4898d7(0x125)](_0x4898d7(0x17e));setAnalyticsPeriod('week',_0x1d1fda),openSheet(_0x4898d7(0x180));}function setAnalyticsPeriod(_0x568ee1,_0x1adb97){const _0x639cf5=a3_0x2a8f00;currentAnPeriod=_0x568ee1,document[_0x639cf5(0xd2)](_0x639cf5(0x17e))[_0x639cf5(0x15a)](_0x1137f4=>_0x1137f4[_0x639cf5(0x147)][_0x639cf5(0x159)](_0x639cf5(0x11b)));if(_0x1adb97)_0x1adb97[_0x639cf5(0x147)][_0x639cf5(0x11e)](_0x639cf5(0x11b));const _0x538e3c=document['getElementById'](_0x639cf5(0xbd));_0x538e3c['style'][_0x639cf5(0xda)]=_0x568ee1===_0x639cf5(0x196)?_0x639cf5(0xc8):_0x639cf5(0xcf);const _0x5070cd=new Date();let _0x3153d8=new Date(),_0x53baff=new Date();if(_0x568ee1===_0x639cf5(0x148))_0x3153d8=getStartOfWeek(_0x5070cd),_0x53baff=new Date(_0x3153d8),_0x53baff[_0x639cf5(0xb8)](_0x53baff[_0x639cf5(0xe9)]()+0x6);else{if(_0x568ee1===_0x639cf5(0xe5))_0x3153d8=new Date(_0x5070cd[_0x639cf5(0xfd)](),_0x5070cd['getMonth'](),0x1),_0x53baff=new Date(_0x5070cd[_0x639cf5(0xfd)](),_0x5070cd['getMonth']()+0x1,0x0);else{!document[_0x639cf5(0x18a)](_0x639cf5(0xd3))[_0x639cf5(0x14f)]&&(document['getElementById'](_0x639cf5(0xd3))[_0x639cf5(0x14f)]=getLocalDateStr(_0x5070cd),document['getElementById'](_0x639cf5(0xd8))[_0x639cf5(0x14f)]=getLocalDateStr(_0x5070cd));refreshAnalytics();return;}}document['getElementById'](_0x639cf5(0xd3))['value']=getLocalDateStr(_0x3153d8),document['getElementById'](_0x639cf5(0xd8))[_0x639cf5(0x14f)]=getLocalDateStr(_0x53baff),refreshAnalytics();}function refreshAnalytics(){const _0x211944=a3_0x2a8f00,_0xaefb80=document['getElementById'](_0x211944(0xd3))[_0x211944(0x14f)],_0x721adb=document[_0x211944(0x18a)](_0x211944(0xd8))[_0x211944(0x14f)];if(!_0xaefb80||!_0x721adb)return;const _0x3b23e3=sessions[_0x211944(0x138)](_0x18d1b7=>_0x18d1b7['dateStr']>=_0xaefb80&&_0x18d1b7[_0x211944(0x13d)]<=_0x721adb&&_0x18d1b7[_0x211944(0x11a)]!==_0x211944(0x142)),_0x19955f=_0x3b23e3[_0x211944(0x15c)],_0x379a54=_0x3b23e3['filter'](_0x20336a=>_0x20336a[_0x211944(0x11a)]==='completed')['length'],_0x38061e=_0x19955f>0x0?Math[_0x211944(0xce)](_0x379a54/_0x19955f*0x64):0x0;document[_0x211944(0x18a)]('anPercent')['textContent']=_0x38061e+'%',document[_0x211944(0x18a)](_0x211944(0x155))[_0x211944(0x16c)]=_0x379a54+_0x211944(0x10d)+_0x19955f+_0x211944(0x126);const _0x1d7f6b=document[_0x211944(0x18a)](_0x211944(0x12f)),_0x24931e=0x2*Math['PI']*0x23,_0x43545a=_0x24931e-_0x38061e/0x64*_0x24931e;_0x1d7f6b[_0x211944(0x162)]['strokeDashoffset']=_0x43545a;const _0x83f16a={};_0x3b23e3[_0x211944(0x15a)](_0x697fb3=>{const _0x29770b=_0x211944,_0x1bc0ce=_0x697fb3['coachId']||_0x29770b(0xb1);if(!_0x83f16a[_0x1bc0ce]){const _0x181f77='#'+_0x1bc0ce[_0x29770b(0xeb)]()[_0x29770b(0xf3)](0x0,0x6);_0x83f16a[_0x1bc0ce]={'total':0x0,'done':0x0,'color':_0x181f77};}_0x83f16a[_0x1bc0ce][_0x29770b(0xe4)]++;if(_0x697fb3[_0x29770b(0x11a)]===_0x29770b(0xc0))_0x83f16a[_0x1bc0ce][_0x29770b(0xc6)]++;});const _0x1c6919=document[_0x211944(0x18a)](_0x211944(0xd1));_0x1c6919['innerHTML']='';const _0xd4e6ae=Object[_0x211944(0xde)](_0x83f16a)[_0x211944(0x195)]((_0x39f414,_0x4a4080)=>_0x4a4080[0x1][_0x211944(0xe4)]-_0x39f414[0x1]['total']);if(_0xd4e6ae[_0x211944(0x15c)]===0x0){_0x1c6919['innerHTML']=_0x211944(0x17d);return;}_0xd4e6ae[_0x211944(0x15a)](([_0x3c3ad1,_0x5696d4])=>{const _0x2cf75c=_0x211944,_0x3c048b=Math['round'](_0x5696d4[_0x2cf75c(0xc6)]/_0x5696d4[_0x2cf75c(0xe4)]*0x64),_0x2a2180=document[_0x2cf75c(0xdf)](_0x2cf75c(0xac));_0x2a2180[_0x2cf75c(0xa7)]=_0x2cf75c(0x123),_0x2a2180['style'][_0x2cf75c(0x169)]=_0x5696d4[_0x2cf75c(0x172)],_0x2a2180[_0x2cf75c(0xfc)]=_0x2cf75c(0x118)+_0x3c3ad1[_0x2cf75c(0xf3)](0x0,0x5)+_0x2cf75c(0x104)+_0x5696d4[_0x2cf75c(0xc6)]+'</span>\x20/\x20'+_0x5696d4[_0x2cf75c(0xe4)]+_0x2cf75c(0x15e)+_0x3c048b+_0x2cf75c(0x12d),_0x1c6919['appendChild'](_0x2a2180);});}function openDetails(_0x1da1e7){const _0x573413=a3_0x2a8f00;currentSession=_0x1da1e7;const _0x5fd323=new Date(_0x1da1e7['dateStr']),_0x58a15d=_0x5fd323[_0x573413(0xec)]('ru-RU',{'weekday':_0x573413(0x16a),'day':'numeric','month':_0x573413(0x16a)});document['getElementById'](_0x573413(0x194))[_0x573413(0x16c)]=_0x58a15d[_0x573413(0xbc)](0x0)[_0x573413(0x145)]()+_0x58a15d[_0x573413(0x129)](0x1),document['getElementById'](_0x573413(0x18b))[_0x573413(0x16c)]=_0x1da1e7['start']+_0x573413(0x151)+_0x1da1e7[_0x573413(0xd7)],document[_0x573413(0x18a)]('detNote')[_0x573413(0x16c)]=_0x1da1e7[_0x573413(0x128)]||_0x573413(0xb2);const _0x1d10a4=document['getElementById'](_0x573413(0x168)),_0x519fe5=document['getElementById'](_0x573413(0x9f)),_0x50dece=_0x519fe5[_0x573413(0x125)](_0x573413(0x18f)),_0x1f0d1f=_0x519fe5[_0x573413(0x125)](_0x573413(0x122)),_0xca0b2b=document['getElementById']('cancelHint');if(_0x1da1e7[_0x573413(0x11a)]===_0x573413(0xc0))_0x1d10a4[_0x573413(0x16c)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1d10a4[_0x573413(0x162)][_0x573413(0x172)]=_0x573413(0x13c),_0x519fe5['style']['display']='none';else{_0x1d10a4[_0x573413(0x16c)]=_0x573413(0xaf),_0x1d10a4[_0x573413(0x162)][_0x573413(0x172)]=_0x573413(0xe6),_0x519fe5['style'][_0x573413(0xda)]=_0x573413(0x14c);const _0x1adb64=new Date(_0x1da1e7[_0x573413(0x13d)]+'T'+_0x1da1e7[_0x573413(0xc1)]),_0x1e26e5=new Date(),_0x3b10fd=(_0x1adb64-_0x1e26e5)/(0x3e8*0x3c*0x3c),_0x2860e2=coachProfiles[_0x1da1e7['coachId']]&&coachProfiles[_0x1da1e7['coachId']][_0x573413(0x14b)]?parseInt(coachProfiles[_0x1da1e7['coachId']]['cancel_window']):0x18;if(_0x2860e2===0x0||_0x3b10fd>=_0x2860e2)_0x50dece[_0x573413(0x162)][_0x573413(0xda)]=_0x573413(0x14c),_0x1f0d1f[_0x573413(0x162)][_0x573413(0xda)]='block',_0xca0b2b[_0x573413(0x162)][_0x573413(0xda)]='none';else{_0x50dece['style'][_0x573413(0xda)]=_0x573413(0xcf),_0x1f0d1f['style'][_0x573413(0xda)]=_0x573413(0xcf),_0xca0b2b[_0x573413(0x162)]['display']=_0x573413(0x14c);let _0x409709=_0x2860e2===0x0?_0x573413(0x111):'–∑–∞\x20'+_0x2860e2+_0x573413(0xf9);_0xca0b2b[_0x573413(0x16c)]=_0x573413(0x121)+_0x409709+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x573413(0x18a)]('overlay')[_0x573413(0x147)]['add'](_0x573413(0x11b)),document[_0x573413(0x18a)](_0x573413(0xd4))['classList'][_0x573413(0x11e)]('open');}function closeAllSheets(){const _0x25a726=a3_0x2a8f00;document['getElementById'](_0x25a726(0x12e))['classList'][_0x25a726(0x159)](_0x25a726(0x11b)),document[_0x25a726(0xd2)]('.sheet')[_0x25a726(0x15a)](_0x150960=>_0x150960['classList'][_0x25a726(0x159)]('open'));}function openSheet(_0x34d429){const _0x4bf9b8=a3_0x2a8f00;document[_0x4bf9b8(0x18a)](_0x4bf9b8(0x12e))[_0x4bf9b8(0x147)]['add'](_0x4bf9b8(0x11b)),document['getElementById'](_0x34d429)[_0x4bf9b8(0x147)][_0x4bf9b8(0x11e)](_0x4bf9b8(0xa4));}function getLocalDateStr(_0x970ae8){const _0x32222e=a3_0x2a8f00,_0x5ba60b=_0x970ae8[_0x32222e(0xfd)](),_0x44dc68=String(_0x970ae8[_0x32222e(0xc3)]()+0x1)[_0x32222e(0xf6)](0x2,'0'),_0x185ba8=String(_0x970ae8[_0x32222e(0xe9)]())[_0x32222e(0xf6)](0x2,'0');return _0x5ba60b+'-'+_0x44dc68+'-'+_0x185ba8;}function getStartOfWeek(_0x5a711f){const _0x40d3a9=a3_0x2a8f00,_0x298701=new Date(_0x5a711f),_0x5adcd3=_0x298701[_0x40d3a9(0xd0)](),_0x1cf552=_0x298701[_0x40d3a9(0xe9)]()-_0x5adcd3+(_0x5adcd3===0x0?-0x6:0x1);return _0x298701[_0x40d3a9(0xb8)](_0x1cf552),_0x298701[_0x40d3a9(0x17c)](0x0,0x0,0x0,0x0),_0x298701;}function a3_0x4a19(_0x460900,_0x3289f5){_0x460900=_0x460900-0x9f;const _0x57c166=a3_0x408d();let _0x2d1336=_0x57c166[_0x460900];return _0x2d1336;}function scrollToToday(){const _0x40ea0e=getLocalDateStr(new Date());setTimeout(()=>{const _0xef18ef=a3_0x4a19,_0x50ef3d=document['querySelector']('.day-col-header[data-date=\x22'+_0x40ea0e+'\x22]');if(_0x50ef3d){const _0x59f069=document[_0xef18ef(0x18a)](_0xef18ef(0xe7)),_0x3f6ce1=_0x50ef3d['offsetLeft']-_0x59f069[_0xef18ef(0xb3)]/0x2+_0x50ef3d[_0xef18ef(0x132)]/0x2;_0x59f069[_0xef18ef(0x18d)]({'left':_0x3f6ce1,'behavior':'auto'}),_0x59f069[_0xef18ef(0x165)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1aa46d=a3_0x2a8f00,_0x5ac411=new Date(),_0x172008=document['getElementById'](_0x1aa46d(0x137)),_0x11a273=document[_0x1aa46d(0x18a)]('timeLineBadge'),_0x57af55=(_0x5ac411['getHours']()*0x3c+_0x5ac411[_0x1aa46d(0x124)]())/0x3c*GRID_H;_0x172008['style'][_0x1aa46d(0x10f)]=_0x57af55+'px',_0x172008[_0x1aa46d(0x162)][_0x1aa46d(0xda)]='block',_0x11a273['style']['top']=_0x57af55+'px',_0x11a273[_0x1aa46d(0x162)][_0x1aa46d(0xda)]=_0x1aa46d(0x14c),_0x11a273['textContent']=String(_0x5ac411[_0x1aa46d(0xca)]())[_0x1aa46d(0xf6)](0x2,'0')+':'+String(_0x5ac411[_0x1aa46d(0x124)]())[_0x1aa46d(0xf6)](0x2,'0');}function onScroll(){const _0x1e224c=a3_0x2a8f00,_0x49ae12=document['getElementById']('matrixViewport'),_0x3955ff=document['querySelectorAll'](_0x1e224c(0xb7));for(let _0x3fd341 of _0x3955ff)if(_0x3fd341[_0x1e224c(0xb6)]>=_0x49ae12['scrollLeft']){const _0x427799=new Date(_0x3fd341['getAttribute'](_0x1e224c(0x191)));document[_0x1e224c(0x18a)](_0x1e224c(0x131))[_0x1e224c(0x16c)]=_0x427799['toLocaleString']('ru',{'month':_0x1e224c(0x16a)})[_0x1e224c(0x145)]()+'\x20'+_0x427799[_0x1e224c(0xfd)]();break;}}function showToast(_0x2f52bb){const _0x10794e=a3_0x2a8f00,_0x5424e6=document[_0x10794e(0x18a)](_0x10794e(0x12c));_0x5424e6[_0x10794e(0x16c)]=_0x2f52bb,_0x5424e6[_0x10794e(0x147)][_0x10794e(0x11e)](_0x10794e(0xa8)),setTimeout(()=>_0x5424e6['classList'][_0x10794e(0x159)](_0x10794e(0xa8)),0x7d0);}function handleInfiniteScroll(){const _0x16f483=a3_0x2a8f00,_0x2b03bd=document[_0x16f483(0x18a)]('matrixViewport'),_0x315ee9=_0x2b03bd['scrollLeft'],_0x432abe=_0x2b03bd[_0x16f483(0xba)],_0x257586=_0x2b03bd[_0x16f483(0xb3)];if(_0x432abe-(_0x315ee9+_0x257586)<0x12c){const _0x54cb3f=endOffset;endOffset+=0xe,renderDayRange(_0x54cb3f+0x1,endOffset),reRenderBlocks();}if(_0x315ee9<0x12c){const _0x387fe6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x387fe6-0x1),_0x2b03bd[_0x16f483(0xdc)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x32eb1b,_0x99cca){const _0x100e1f=a3_0x2a8f00,_0x276310=document[_0x100e1f(0x18a)](_0x100e1f(0xe2)),_0x6c28f3=document[_0x100e1f(0x18a)](_0x100e1f(0xaa)),_0x42ddc4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3da0d2=new Date();_0x3da0d2[_0x100e1f(0x17c)](0x0,0x0,0x0,0x0);const _0x331a5b=getLocalDateStr(new Date()),_0x68d8a9=document['createDocumentFragment'](),_0x328015=document[_0x100e1f(0x182)]();for(let _0x1e80b0=_0x32eb1b;_0x1e80b0<=_0x99cca;_0x1e80b0++){const _0x2e429e=new Date(_0x3da0d2);_0x2e429e['setDate'](_0x2e429e[_0x100e1f(0xe9)]()+_0x1e80b0);const _0x3c4744=getLocalDateStr(_0x2e429e);let _0x5ba2ef=_0x2e429e[_0x100e1f(0xd0)]()-0x1;if(_0x5ba2ef===-0x1)_0x5ba2ef=0x6;const _0x18b271=_0x3c4744===_0x331a5b,_0x2ce62f=document['createElement']('div');_0x2ce62f[_0x100e1f(0xa7)]=_0x100e1f(0xb0)+(_0x18b271?_0x100e1f(0x117):''),_0x2ce62f[_0x100e1f(0x134)](_0x100e1f(0x191),_0x3c4744),_0x2ce62f['innerHTML']=_0x100e1f(0x190)+_0x42ddc4[_0x5ba2ef]+_0x100e1f(0x106)+_0x2e429e[_0x100e1f(0xe9)]()+_0x100e1f(0xf8),_0x68d8a9[_0x100e1f(0xb4)](_0x2ce62f);const _0x18f35d=document[_0x100e1f(0xdf)](_0x100e1f(0xac));_0x18f35d[_0x100e1f(0xa7)]=_0x100e1f(0x10b)+(_0x18b271?'today':''),_0x18f35d[_0x100e1f(0x134)](_0x100e1f(0x191),_0x3c4744),_0x18f35d[_0x100e1f(0x134)]('data-day-idx',_0x5ba2ef),_0x328015['appendChild'](_0x18f35d);}_0x276310[_0x100e1f(0xa2)](_0x68d8a9,_0x276310['firstChild']),_0x6c28f3[_0x100e1f(0xa2)](_0x328015,_0x6c28f3['querySelector'](_0x100e1f(0xa1)));}function hexToRgba(_0x59c719,_0x27a842){const _0x26cbd6=a3_0x2a8f00;let _0x494f3;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x59c719))return _0x494f3=_0x59c719[_0x26cbd6(0x120)](0x1)[_0x26cbd6(0xff)](''),_0x494f3[_0x26cbd6(0x15c)]==0x3&&(_0x494f3=[_0x494f3[0x0],_0x494f3[0x0],_0x494f3[0x1],_0x494f3[0x1],_0x494f3[0x2],_0x494f3[0x2]]),_0x494f3='0x'+_0x494f3['join'](''),_0x26cbd6(0x14e)+[_0x494f3>>0x10&0xff,_0x494f3>>0x8&0xff,_0x494f3&0xff][_0x26cbd6(0x158)](',')+','+_0x27a842+')';return _0x26cbd6(0x133)+_0x27a842+')';}let confirmResolver=null;function showCustomConfirm(_0x41cd89,_0x546f6f,_0x41a3d8=!![]){const _0x26e2c7=a3_0x2a8f00;document[_0x26e2c7(0x18a)](_0x26e2c7(0x16d))[_0x26e2c7(0x16c)]=_0x41cd89,document[_0x26e2c7(0x18a)](_0x26e2c7(0xb9))[_0x26e2c7(0x16c)]=_0x546f6f;const _0x2906e5=document[_0x26e2c7(0x18a)](_0x26e2c7(0x149));return _0x41a3d8?(_0x2906e5[_0x26e2c7(0x162)][_0x26e2c7(0x172)]=_0x26e2c7(0x18e),_0x2906e5['style']['fontWeight']='600'):(_0x2906e5[_0x26e2c7(0x162)][_0x26e2c7(0x172)]=_0x26e2c7(0x119),_0x2906e5['style']['fontWeight']=_0x26e2c7(0x157)),new Promise(_0x1c09f3=>{const _0x43f8f5=_0x26e2c7;confirmResolver=_0x1c09f3,document[_0x43f8f5(0x18a)](_0x43f8f5(0xa6))[_0x43f8f5(0x147)][_0x43f8f5(0x11e)]('visible');});}function resolveCustomConfirm(_0x485a59){const _0x36e1b1=a3_0x2a8f00;document[_0x36e1b1(0x18a)](_0x36e1b1(0xa6))[_0x36e1b1(0x147)]['remove']('visible');if(confirmResolver)confirmResolver(_0x485a59);}async function tryCancelCurrentSession(){const _0x4f23d6=a3_0x2a8f00;if(!currentSession)return;const _0x2af063=await showCustomConfirm(_0x4f23d6(0x17b),_0x4f23d6(0xcd),!![]);if(!_0x2af063)return;const _0x5f5938=currentSession;closeAllSheets(),sessions=sessions[_0x4f23d6(0x138)](_0x1401b5=>_0x1401b5['id']!==_0x5f5938['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x4f23d6(0xe8)]();try{const _0x1f09e3=window[_0x4f23d6(0x160)]?.[_0x4f23d6(0xa9)],_0x12885e=await fetch(API_URL,{'method':'POST','body':JSON[_0x4f23d6(0x188)]({'action':'client_cancel','init_data':_0x1f09e3?.[_0x4f23d6(0xe1)]||'','coachId':_0x5f5938[_0x4f23d6(0x192)],'dateStr':_0x5f5938[_0x4f23d6(0x13d)],'sessionId':_0x5f5938['id']})});if(_0x12885e['ok'])DataManager['saveLocally']();}catch(_0x33dd56){showToast(_0x4f23d6(0xd9));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x25c2d3=a3_0x2a8f00;if(!currentSession)return;document[_0x25c2d3(0x18a)](_0x25c2d3(0xd4))['classList']['remove'](_0x25c2d3(0xa4)),document[_0x25c2d3(0x18a)]('rescheduleSheet')[_0x25c2d3(0x147)][_0x25c2d3(0x11e)](_0x25c2d3(0xa4));const _0x5d3d3f=document['getElementById'](_0x25c2d3(0x152)),_0x4cadd0=document[_0x25c2d3(0x18a)](_0x25c2d3(0x114));_0x5d3d3f[_0x25c2d3(0xfc)]='',_0x4cadd0[_0x25c2d3(0xfc)]=_0x25c2d3(0xab);const [_0x553481,_0x36269c]=currentSession['start']['split'](':')['map'](Number),[_0x2641e6,_0x7d9d88]=currentSession[_0x25c2d3(0xd7)][_0x25c2d3(0xff)](':')['map'](Number),_0x11a457=_0x2641e6*0x3c+_0x7d9d88-(_0x553481*0x3c+_0x36269c);try{const _0x3fccef=window[_0x25c2d3(0x160)]?.[_0x25c2d3(0xa9)],_0xbd1353=await fetch(API_URL,{'method':_0x25c2d3(0x141),'body':JSON[_0x25c2d3(0x188)]({'action':_0x25c2d3(0x14a),'coachId':currentSession[_0x25c2d3(0x192)],'duration':_0x11a457,'init_data':_0x3fccef?.[_0x25c2d3(0xe1)]||'','excludeSessionId':currentSession['id']})}),_0x23530b=await _0xbd1353[_0x25c2d3(0x170)]();_0x23530b['ok']&&_0x23530b['data']?(availableSlotsCache=_0x23530b[_0x25c2d3(0xdd)],renderRescheduleDates()):_0x4cadd0[_0x25c2d3(0xfc)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x4de2d5){_0x4cadd0[_0x25c2d3(0xfc)]=_0x25c2d3(0x187);}}function renderRescheduleDates(){const _0x105a0b=a3_0x2a8f00,_0x3ebf30=document[_0x105a0b(0x18a)](_0x105a0b(0x152));_0x3ebf30['innerHTML']='';const _0x293758=Object[_0x105a0b(0x13a)](availableSlotsCache)[_0x105a0b(0x195)](),_0x379839=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x293758[_0x105a0b(0x15c)]===0x0){document['getElementById'](_0x105a0b(0x114))[_0x105a0b(0xfc)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x293758[_0x105a0b(0x15a)]((_0x39e720,_0xf60890)=>{const _0x559a9b=_0x105a0b,_0x5771ca=new Date(_0x39e720),_0x28247e=_0x379839[_0x5771ca[_0x559a9b(0xd0)]()],_0x2927da=_0x5771ca[_0x559a9b(0xe9)](),_0x51b9da=document['createElement'](_0x559a9b(0xac));_0x51b9da[_0x559a9b(0xa7)]=_0x559a9b(0x179);if(_0xf60890===0x0)_0x51b9da[_0x559a9b(0x147)][_0x559a9b(0x11e)](_0x559a9b(0x11b));_0x51b9da[_0x559a9b(0xfc)]='<div\x20class=\x22rs-day-name\x22>'+_0x28247e+'</div><div\x20class=\x22rs-day-num\x22>'+_0x2927da+_0x559a9b(0xf8),_0x51b9da['onclick']=()=>selectRsDate(_0x39e720,_0x51b9da),_0x3ebf30[_0x559a9b(0xb4)](_0x51b9da);}),selectRsDate(_0x293758[0x0],_0x3ebf30[_0x105a0b(0x116)]);}function selectRsDate(_0x38b275,_0x29a4aa){const _0x4cb6b3=a3_0x2a8f00;selectedRsDate=_0x38b275,document[_0x4cb6b3(0xd2)](_0x4cb6b3(0x166))[_0x4cb6b3(0x15a)](_0x2a7b37=>_0x2a7b37[_0x4cb6b3(0x147)][_0x4cb6b3(0x159)](_0x4cb6b3(0x11b)));if(_0x29a4aa)_0x29a4aa[_0x4cb6b3(0x147)]['add'](_0x4cb6b3(0x11b));const _0x1975ff=document[_0x4cb6b3(0x18a)](_0x4cb6b3(0x114));_0x1975ff[_0x4cb6b3(0xfc)]='';const _0x322f44=availableSlotsCache[_0x38b275]||[];if(_0x322f44[_0x4cb6b3(0x15c)]===0x0){_0x1975ff['innerHTML']=_0x4cb6b3(0x163);return;}_0x322f44['forEach'](_0x1a855e=>{const _0x78ab56=_0x4cb6b3,_0x499a1e=document['createElement'](_0x78ab56(0x186));_0x499a1e[_0x78ab56(0xa7)]='rs-time-btn',_0x499a1e[_0x78ab56(0x16c)]=_0x1a855e,_0x499a1e[_0x78ab56(0xea)]=()=>confirmReschedule(_0x1a855e),_0x1975ff[_0x78ab56(0xb4)](_0x499a1e);});}async function confirmReschedule(_0xcdfc75){const _0x21f241=a3_0x2a8f00,_0x150b4f=new Date(selectedRsDate),_0x575962=_0x150b4f[_0x21f241(0xec)](_0x21f241(0x14d),{'day':_0x21f241(0xe3),'month':'long'}),_0x223c70=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x21f241(0xc4)+_0x575962+_0x21f241(0x112)+_0xcdfc75+'?',![]);if(!_0x223c70)return;closeAllSheets(),showToast(_0x21f241(0x176)),lastUserActionTime=Date['now']();const _0x590a7a=currentSession[_0x21f241(0x13d)],_0xeea80=currentSession['id'],[_0x1c858e,_0x183fcc]=currentSession['start'][_0x21f241(0xff)](':')[_0x21f241(0x12a)](Number),[_0x168b31,_0x54d9c3]=currentSession['end'][_0x21f241(0xff)](':')['map'](Number),_0x1b7c89=_0x168b31*0x3c+_0x54d9c3-(_0x1c858e*0x3c+_0x183fcc),[_0x2acaf1,_0xa9cd1a]=_0xcdfc75['split'](':')[_0x21f241(0x12a)](Number),_0x3ebf44=_0x2acaf1*0x3c+_0xa9cd1a+_0x1b7c89,_0x288825=Math[_0x21f241(0xf5)](_0x3ebf44/0x3c),_0x2ba0d6=_0x3ebf44%0x3c,_0x2efb31=String(_0x288825)[_0x21f241(0xf6)](0x2,'0')+':'+String(_0x2ba0d6)[_0x21f241(0xf6)](0x2,'0'),_0x11063a=sessions[_0x21f241(0xad)](_0x355836=>_0x355836['id']===_0xeea80);_0x11063a!==-0x1&&(sessions[_0x11063a][_0x21f241(0x13d)]=selectedRsDate,sessions[_0x11063a][_0x21f241(0xc1)]=_0xcdfc75,sessions[_0x11063a][_0x21f241(0xd7)]=_0x2efb31,reRenderBlocks());try{const _0x5ebcd6=window[_0x21f241(0x160)]?.[_0x21f241(0xa9)],_0x13d8f7=await fetch(API_URL,{'method':_0x21f241(0x141),'body':JSON['stringify']({'action':_0x21f241(0x197),'init_data':_0x5ebcd6?.[_0x21f241(0xe1)]||'','oldSessionId':_0xeea80,'oldDate':_0x590a7a,'newDate':selectedRsDate,'newTime':_0xcdfc75,'coachId':currentSession[_0x21f241(0x192)]})}),_0x40ec4a=await _0x13d8f7[_0x21f241(0x170)]();!_0x40ec4a['ok']?(showToast(_0x21f241(0x139)),DataManager['syncLoad']()):(showToast(_0x21f241(0x13f)),DataManager[_0x21f241(0xf4)]());}catch(_0x3426bc){showToast(_0x21f241(0xd9));}}document[a3_0x2a8f00(0x15f)](a3_0x2a8f00(0x183),init);