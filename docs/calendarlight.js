const a3_0x3d3eba=a3_0x2164;function a3_0x2164(_0x3323a9,_0x5d02fb){_0x3323a9=_0x3323a9-0x1b3;const _0x44e7e3=a3_0x4dda();let _0x5bc56f=_0x44e7e3[_0x3323a9];return _0x5bc56f;}(function(_0xb1291e,_0x43bb25){const _0x33e5df=a3_0x2164,_0x5ad7cc=_0xb1291e();while(!![]){try{const _0x1c679d=-parseInt(_0x33e5df(0x268))/0x1*(-parseInt(_0x33e5df(0x219))/0x2)+parseInt(_0x33e5df(0x242))/0x3+-parseInt(_0x33e5df(0x29c))/0x4+parseInt(_0x33e5df(0x258))/0x5+parseInt(_0x33e5df(0x261))/0x6+-parseInt(_0x33e5df(0x231))/0x7+parseInt(_0x33e5df(0x28e))/0x8*(-parseInt(_0x33e5df(0x248))/0x9);if(_0x1c679d===_0x43bb25)break;else _0x5ad7cc['push'](_0x5ad7cc['shift']());}catch(_0x2252d2){_0x5ad7cc['push'](_0x5ad7cc['shift']());}}}(a3_0x4dda,0x3307e));const APP_VERSION=a3_0x3d3eba(0x21d),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x3d3eba(0x290),KEY_SETTINGS=a3_0x3d3eba(0x240),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x3d3eba(0x28b),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xf6b7ac=a3_0x3d3eba,_0x11f773=(function(){let _0x4391ab=!![];return function(_0x3227d0,_0x3d6931){const _0x215c31=_0x4391ab?function(){const _0xba1c10=a3_0x2164;if(_0x3d6931){const _0x4ee74b=_0x3d6931[_0xba1c10(0x297)](_0x3227d0,arguments);return _0x3d6931=null,_0x4ee74b;}}:function(){};return _0x4391ab=![],_0x215c31;};}()),_0x4c0e16=_0x11f773(this,function(){const _0x2f8690=a3_0x2164;return _0x4c0e16[_0x2f8690(0x289)]()[_0x2f8690(0x1be)](_0x2f8690(0x276))['toString']()[_0x2f8690(0x226)](_0x4c0e16)[_0x2f8690(0x1be)](_0x2f8690(0x276));});_0x4c0e16();try{const _0x32f1f4=window[_0xf6b7ac(0x27b)]?.[_0xf6b7ac(0x23a)];if(!_0x32f1f4)return;_0x32f1f4[_0xf6b7ac(0x21a)](),_0x32f1f4[_0xf6b7ac(0x281)]();try{_0x32f1f4['setHeaderColor'](_0xf6b7ac(0x278)),_0x32f1f4[_0xf6b7ac(0x23c)]&&_0x32f1f4[_0xf6b7ac(0x23c)](_0xf6b7ac(0x278));}catch(_0x59904b){console[_0xf6b7ac(0x1ff)](_0xf6b7ac(0x2ae),_0x59904b);}try{_0x32f1f4[_0xf6b7ac(0x24d)]&&(_0x32f1f4[_0xf6b7ac(0x24d)][_0xf6b7ac(0x1f7)](),_0x32f1f4[_0xf6b7ac(0x24d)][_0xf6b7ac(0x237)](),_0x32f1f4['BackButton'][_0xf6b7ac(0x275)](function(){const _0x4384b3=_0xf6b7ac;window[_0x4384b3(0x22e)][_0x4384b3(0x218)]=_0x4384b3(0x267);}));}catch(_0x24a6db){console[_0xf6b7ac(0x1ff)](_0xf6b7ac(0x272),_0x24a6db);}try{if(_0x32f1f4[_0xf6b7ac(0x204)])_0x32f1f4[_0xf6b7ac(0x204)]();}catch(_0x16f588){}}catch(_0x1080ae){console['error'](_0xf6b7ac(0x26b),_0x1080ae);}}());function isAdmin(){const _0x47b200=a3_0x3d3eba;try{const _0x598988=Number(window[_0x47b200(0x27b)]?.[_0x47b200(0x23a)]?.[_0x47b200(0x2a6)]?.[_0x47b200(0x2a3)]?.['id']);return _0x598988===0xbaf7174;}catch(_0x51562c){return![];}}const DataManager={'saveLocally'(){const _0x516ee4=a3_0x3d3eba;try{localStorage[_0x516ee4(0x1de)](KEY_SESSIONS,JSON[_0x516ee4(0x25b)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x516ee4(0x25b)](clients)),localStorage[_0x516ee4(0x1de)](KEY_SETTINGS,JSON[_0x516ee4(0x25b)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x12c54a){}},'loadLocal'(){const _0x452360=a3_0x3d3eba;try{const _0x129195=localStorage[_0x452360(0x243)](KEY_SESSIONS);if(_0x129195)sessions=JSON['parse'](_0x129195);const _0x465a25=localStorage[_0x452360(0x243)](KEY_CLIENTS);if(_0x465a25)clients=JSON[_0x452360(0x205)](_0x465a25);const _0x2ae9f3=localStorage[_0x452360(0x243)](KEY_SETTINGS);if(_0x2ae9f3){const _0xe1f3ab=JSON[_0x452360(0x205)](_0x2ae9f3);if(_0xe1f3ab[_0x452360(0x229)])availabilityPattern=_0xe1f3ab['pattern'];if(_0xe1f3ab['ranges'])specialRanges=_0xe1f3ab['ranges'];if(_0xe1f3ab['exceptions'])dateExceptions=_0xe1f3ab['exceptions'];}}catch(_0xaa98b2){}},async 'syncLoad'(){const _0x26f183=a3_0x3d3eba,_0x1c8697=new Date(),_0x495b1a=_0x1c8697[_0x26f183(0x234)]()+'-'+String(_0x1c8697[_0x26f183(0x273)]()+0x1)[_0x26f183(0x2aa)](0x2,'0'),_0x518b8f=new Date(_0x1c8697);_0x518b8f['setMonth'](_0x1c8697[_0x26f183(0x273)]()+0x1);const _0x2e1af4=_0x518b8f['getFullYear']()+'-'+String(_0x518b8f[_0x26f183(0x273)]()+0x1)[_0x26f183(0x2aa)](0x2,'0'),_0x5e7b89=Date[_0x26f183(0x27f)]();try{const _0x249801=window[_0x26f183(0x27b)]?.[_0x26f183(0x23a)],_0x27ded5=_0x249801?.[_0x26f183(0x27d)]||'',[_0x137387,_0x59de66]=await Promise[_0x26f183(0x1b4)]([fetch(API_URL,{'method':'POST','body':JSON[_0x26f183(0x25b)]({'action':_0x26f183(0x1d2),'init_data':_0x27ded5,'month_str':_0x495b1a})})[_0x26f183(0x264)](_0x4f2a56=>_0x4f2a56[_0x26f183(0x1cd)]()),fetch(API_URL,{'method':_0x26f183(0x21b),'body':JSON[_0x26f183(0x25b)]({'action':_0x26f183(0x1d2),'init_data':_0x27ded5,'month_str':_0x2e1af4})})[_0x26f183(0x264)](_0x16dc2d=>_0x16dc2d[_0x26f183(0x1cd)]())]);if(lastUserActionTime>_0x5e7b89){console[_0x26f183(0x1ff)](_0x26f183(0x1e0));return;}if(_0x137387['ok'])this[_0x26f183(0x25c)](_0x137387[_0x26f183(0x236)],_0x495b1a);if(_0x59de66['ok'])this[_0x26f183(0x25c)](_0x59de66[_0x26f183(0x236)],_0x2e1af4);this['saveLocally']();}catch(_0x4abacf){}},'applyData'(_0xeda165,_0x2d1a4f){const _0x5eb5e1=a3_0x3d3eba;if(!_0xeda165)return;if(_0xeda165[_0x5eb5e1(0x1e9)]){if(_0xeda165[_0x5eb5e1(0x1e9)]['pattern'])availabilityPattern=_0xeda165[_0x5eb5e1(0x1e9)][_0x5eb5e1(0x229)];if(_0xeda165[_0x5eb5e1(0x1e9)][_0x5eb5e1(0x26e)])specialRanges=_0xeda165[_0x5eb5e1(0x1e9)][_0x5eb5e1(0x26e)];if(_0xeda165[_0x5eb5e1(0x1e9)][_0x5eb5e1(0x1ef)])dateExceptions=_0xeda165['settings']['exceptions'];}if(_0xeda165[_0x5eb5e1(0x1ca)]&&Array[_0x5eb5e1(0x20e)](_0xeda165[_0x5eb5e1(0x1ca)]))clients=_0xeda165['clients'];_0xeda165[_0x5eb5e1(0x1d7)]&&(coachProfiles={...coachProfiles,..._0xeda165['coach_profiles']}),_0xeda165['calendar']&&(sessions=sessions[_0x5eb5e1(0x1ba)](_0x27409c=>!_0x27409c['dateStr']['startsWith'](_0x2d1a4f)),Object[_0x5eb5e1(0x1c0)](_0xeda165[_0x5eb5e1(0x216)])['forEach'](_0x1a0fd4=>{const _0x1e0a3a=_0x5eb5e1,_0x231152=_0xeda165[_0x1e0a3a(0x216)][_0x1a0fd4];_0x231152[_0x1e0a3a(0x213)](_0x2ee8a2=>{const _0x2c205a=_0x1e0a3a;sessions[_0x2c205a(0x26f)]({'id':_0x2ee8a2['i'],'clientId':_0x2ee8a2['c'],'coachId':_0x2ee8a2[_0x2c205a(0x1f4)],'dateStr':_0x2d1a4f+'-'+_0x1a0fd4[_0x2c205a(0x2aa)](0x2,'0'),'start':_0x2ee8a2['s'],'end':_0x2ee8a2['e'],'note':_0x2ee8a2['n']||'','status':_0x2ee8a2['st']||_0x2c205a(0x1bf),'seriesId':_0x2ee8a2[_0x2c205a(0x244)]});});})),reRenderBlocks();}};function init(){const _0x333fb8=a3_0x3d3eba;DataManager[_0x333fb8(0x232)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x333fb8(0x2a4)](_0x333fb8(0x22d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x333fb8(0x284)]();}function a3_0x4dda(){const _0x174ad2=['getItem','sid','open','textContent','querySelector','9mxflYg','setAttribute','reschedule','strokeDashoffset','total','BackButton','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','toLocaleString','\x20–∏–∑\x20','active','end','toast','status','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','time-label','.btn-reschedule','297600dtsoHN','width','substr','stringify','applyData','timeColumn','toUpperCase','join','daysHeaderTrack','2318604bsTDJk','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','#0a84ff','then','blocked-range-part\x20stripe-bg','anStart','router.html','1cokzDP','cancelHint','data-date','Critical\x20TMA\x20Error:','scrollWidth','value','ranges','push','seriesId','matrixViewport','Error\x20setting\x20back\x20button:','getMonth','</div>','onClick','(((.+)+)+)+$','visible','#050505','flex','globalTimeLine','Telegram','cancel_window','initData','.sheet','now','detDate','expand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','max','syncLoad','.period-switch\x20.p-btn','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','fontWeight','toString','getElementById','week','anTotalStats','button','3812840ZfHdHl','floor','uc_client_sessions','timeLineBadge','zIndex','appendChild','classList','anEnd','data-day-idx','apply','firstChild','.day-col-header','onclick','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','490288ZFHzII','rs-date-chip','top','overlay','T23:59:59','today','charAt','user','addEventListener','split','initDataUnsafe','</div><div\x20class=\x22rs-day-num\x22>','dateStr','min','padStart','detStatus','done','detailsSheet','Error\x20setting\x20color:','calc(','all','setDate','getTime','ru-RU','querySelectorAll','div','filter','find','offsetLeft','length','search','planned','keys','mini','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','headerMonth','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','rsSlotsGrid','none','<div\x20class=\x22dch-day\x22>','clients','offsetWidth','month','json','insertBefore','getDay','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','clientWidth','client_load','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','color','\x20-\x20','getHours','coach_profiles','entries','display','gridColumns','rgba(','blocked-slot\x20stripe-bg','block','setItem','customConfirm','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','style','createDocumentFragment','numeric','var(--acc-blue)','saveLocally','DOMContentLoaded','cancelContainer','analyticsList','settings','borderLeftColor','anDonutCircle','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','sort','.btn-cancel','exceptions','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','backgroundColor','T00:00:00','rsDatesTrack','cid','\x20status-completed','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','show','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','ccYesBtn','</span>\x20/\x20','getDate','createElement','scrollTop','<div\x20class=\x22rs-day-name\x22>','log','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','day-col-header\x20','clientId','substring','disableVerticalSwipes','parse','client-stat-card','remove','round','Unknown','day-off-overlay\x20stripe-bg','detNote','slice','colIndex','isArray','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','height','className','rescheduleSheet','forEach','setHours','.day-col-header[data-date=\x22','calendar','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','href','814858LmUxaj','ready','POST','px\x20-','v9.5-CLIENT-ANALYTICS','start','toLocaleDateString','auto','backgroundPosition','ccText','.day-column','completed','%\x20-\x204px)','constructor','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','getAttribute','pattern','rgba(10,\x20132,\x20255,\x20',':00</span>','anPercent','scroll','location','</div><div\x20class=\x22dch-num\x22>','innerHTML','2894507DrshUB','loadLocal','stopPropagation','getFullYear','day-column\x20','data','offClick','coachId','left','WebApp','–û—Ç–º–µ–Ω–µ–Ω–æ','setBackgroundColor','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','long','add','uc_client_settings','get_slots','1104951CoNOVh'];a3_0x4dda=function(){return _0x174ad2;};return a3_0x4dda();}function renderTimeColumn(){const _0xbe3427=a3_0x3d3eba,_0x4c8b9f=document[_0xbe3427(0x28a)](_0xbe3427(0x25d)),_0x2c78e6=document['getElementById'](_0xbe3427(0x291));_0x4c8b9f[_0xbe3427(0x230)]='',_0x4c8b9f[_0xbe3427(0x293)](_0x2c78e6);for(let _0x6eaf3=0x0;_0x6eaf3<0x18;_0x6eaf3++){const _0x168ada=document[_0xbe3427(0x1fc)]('div');_0x168ada[_0xbe3427(0x211)]=_0xbe3427(0x256);if(_0x6eaf3>0x0)_0x168ada[_0xbe3427(0x230)]='<span>'+String(_0x6eaf3)[_0xbe3427(0x2aa)](0x2,'0')+_0xbe3427(0x22b);_0x4c8b9f['appendChild'](_0x168ada);}}function renderDayRange(_0x324082,_0x586953){const _0x10addc=a3_0x3d3eba,_0x39d18c=document[_0x10addc(0x28a)](_0x10addc(0x260)),_0x3ae43c=document[_0x10addc(0x28a)](_0x10addc(0x1da)),_0x3b8a3b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41df35=new Date();_0x41df35[_0x10addc(0x214)](0x0,0x0,0x0,0x0);const _0x2cba81=getLocalDateStr(new Date());for(let _0x428c88=_0x324082;_0x428c88<=_0x586953;_0x428c88++){const _0x4d16ed=new Date(_0x41df35);_0x4d16ed[_0x10addc(0x1b5)](_0x4d16ed[_0x10addc(0x1fb)]()+_0x428c88);const _0x3a9fae=getLocalDateStr(_0x4d16ed);let _0x356be4=_0x4d16ed[_0x10addc(0x1cf)]()-0x1;if(_0x356be4===-0x1)_0x356be4=0x6;const _0x440ff9=_0x3a9fae===_0x2cba81,_0x307299=document[_0x10addc(0x1fc)](_0x10addc(0x1b9));_0x307299[_0x10addc(0x211)]='day-col-header\x20'+(_0x440ff9?_0x10addc(0x2a1):''),_0x307299[_0x10addc(0x249)](_0x10addc(0x26a),_0x3a9fae),_0x307299[_0x10addc(0x230)]=_0x10addc(0x1c9)+_0x3b8a3b[_0x356be4]+_0x10addc(0x22f)+_0x4d16ed['getDate']()+'</div>',_0x39d18c['appendChild'](_0x307299);const _0x62cf46=document['createElement'](_0x10addc(0x1b9));_0x62cf46[_0x10addc(0x211)]=_0x10addc(0x235)+(_0x440ff9?'today':''),_0x62cf46[_0x10addc(0x249)](_0x10addc(0x26a),_0x3a9fae),_0x62cf46['setAttribute'](_0x10addc(0x296),_0x356be4),_0x3ae43c['appendChild'](_0x62cf46);}}function reRenderBlocks(){const _0x397d6a=a3_0x3d3eba;document[_0x397d6a(0x1b8)](_0x397d6a(0x223))[_0x397d6a(0x213)](_0x27dc08=>{const _0x23ea6b=_0x397d6a;_0x27dc08[_0x23ea6b(0x1b8)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x23ea6b(0x213)](_0x480904=>_0x480904['remove']());const _0x3e1603=_0x27dc08[_0x23ea6b(0x228)]('data-date'),_0x4d8ed2=parseInt(_0x27dc08['getAttribute'](_0x23ea6b(0x296))),_0x5f35c6=Math[_0x23ea6b(0x208)](_0x27dc08[_0x23ea6b(0x1bc)]);(availabilityPattern[_0x4d8ed2]||[])[_0x23ea6b(0x213)](_0x81ed66=>{const _0x49aa4c=_0x23ea6b,_0x2aa702=document[_0x49aa4c(0x1fc)](_0x49aa4c(0x1b9));_0x2aa702[_0x49aa4c(0x211)]=_0x49aa4c(0x1dc),_0x2aa702[_0x49aa4c(0x1e1)][_0x49aa4c(0x29e)]=_0x81ed66*GRID_H+'px',_0x2aa702['style'][_0x49aa4c(0x221)]='-'+_0x5f35c6+_0x49aa4c(0x21c)+_0x81ed66*GRID_H+'px',_0x27dc08[_0x49aa4c(0x293)](_0x2aa702);});if(specialRanges[_0x23ea6b(0x1bd)]>0x0){const _0x4f3aa9=new Date(_0x3e1603+_0x23ea6b(0x1f2))[_0x23ea6b(0x1b6)](),_0x5b7cbd=new Date(_0x3e1603+_0x23ea6b(0x2a0))[_0x23ea6b(0x1b6)]();specialRanges['forEach'](_0x3fadfd=>{const _0x2cc904=_0x23ea6b,_0x4d7ebc=new Date(_0x3fadfd[_0x2cc904(0x21e)])[_0x2cc904(0x1b6)](),_0x5c65a5=new Date(_0x3fadfd['end'])['getTime'](),_0x6f9f6e=Math['max'](_0x4f3aa9,_0x4d7ebc),_0x5f301d=Math['min'](_0x5b7cbd,_0x5c65a5);if(_0x6f9f6e<_0x5f301d){const _0x48c88c=(_0x6f9f6e-_0x4f3aa9)/0x36ee80*GRID_H,_0x15e701=(_0x5f301d-_0x6f9f6e)/0x36ee80*GRID_H,_0x9b8117=document[_0x2cc904(0x1fc)](_0x2cc904(0x1b9));_0x15e701>=23.5*GRID_H?(_0x9b8117['className']=_0x2cc904(0x20a),_0x9b8117[_0x2cc904(0x1e1)][_0x2cc904(0x221)]='-'+_0x5f35c6+'px\x200px'):(_0x9b8117[_0x2cc904(0x211)]=_0x2cc904(0x265),_0x9b8117[_0x2cc904(0x1e1)][_0x2cc904(0x29e)]=_0x48c88c+'px',_0x9b8117[_0x2cc904(0x1e1)][_0x2cc904(0x210)]=_0x15e701+'px',_0x9b8117[_0x2cc904(0x1e1)][_0x2cc904(0x221)]='-'+_0x5f35c6+'px\x20-'+_0x48c88c+'px'),_0x27dc08['appendChild'](_0x9b8117);}});}renderEventsForColumn(_0x27dc08,_0x3e1603);});}function renderEventsForColumn(_0x52ff3f,_0x54907d){const _0x3de375=a3_0x3d3eba,_0xd4b62f=sessions['filter'](_0x2a4966=>_0x2a4966[_0x3de375(0x2a8)]===_0x54907d),_0x418889=_0xd4b62f[_0x3de375(0x1c6)](_0x567e82=>{const _0x151a33=_0x3de375,[_0x1a7535,_0xc0c960]=_0x567e82[_0x151a33(0x21e)][_0x151a33(0x2a5)](':')[_0x151a33(0x1c6)](Number),[_0x109553,_0xd8627]=_0x567e82['end']['split'](':')[_0x151a33(0x1c6)](Number);return{'data':_0x567e82,'start':_0x1a7535*0x3c+_0xc0c960,'end':_0x109553*0x3c+_0xd8627,'colIndex':0x0};});_0x418889[_0x3de375(0x1ed)]((_0x418aae,_0x2e11b7)=>_0x418aae[_0x3de375(0x21e)]-_0x2e11b7[_0x3de375(0x21e)]||_0x2e11b7[_0x3de375(0x252)]-_0x2e11b7[_0x3de375(0x21e)]-(_0x418aae[_0x3de375(0x252)]-_0x418aae[_0x3de375(0x21e)]));const _0x13453c=[];_0x418889[_0x3de375(0x213)](_0x358343=>{const _0x14677e=_0x3de375;let _0x466c1e=![];for(let _0x31401c=0x0;_0x31401c<_0x13453c[_0x14677e(0x1bd)];_0x31401c++){const _0x1e3a68=_0x13453c[_0x31401c];if(_0x358343['start']>=_0x1e3a68[_0x1e3a68['length']-0x1][_0x14677e(0x252)]){_0x1e3a68[_0x14677e(0x26f)](_0x358343),_0x358343['colIndex']=_0x31401c,_0x466c1e=!![];break;}}!_0x466c1e&&(_0x13453c[_0x14677e(0x26f)]([_0x358343]),_0x358343[_0x14677e(0x20d)]=_0x13453c[_0x14677e(0x1bd)]-0x1);}),_0x418889[_0x3de375(0x213)](_0x1fb12e=>{const _0x4ef3d3=_0x3de375;let _0x597b56=0x0;_0x418889[_0x4ef3d3(0x213)](_0x1e1599=>{const _0x31580d=_0x4ef3d3;if(Math[_0x31580d(0x283)](_0x1fb12e['start'],_0x1e1599['start'])<Math[_0x31580d(0x2a9)](_0x1fb12e[_0x31580d(0x252)],_0x1e1599['end'])&&_0x1e1599['colIndex']>_0x597b56)_0x597b56=_0x1e1599[_0x31580d(0x20d)];});const _0x269e2e=_0x597b56+0x1,_0x2c7d5f=0x64/_0x269e2e,_0x4292b1=_0x1fb12e[_0x4ef3d3(0x20d)]*_0x2c7d5f,_0x527c8d=document[_0x4ef3d3(0x1fc)](_0x4ef3d3(0x1b9)),_0x36b956=_0x1fb12e[_0x4ef3d3(0x236)];let _0x193761=_0x4ef3d3(0x263);if(clients&&clients['length']>0x0){const _0x241448=clients[_0x4ef3d3(0x1bb)](_0x34d4ce=>String(_0x34d4ce['id'])===String(_0x36b956[_0x4ef3d3(0x202)]));if(_0x241448&&_0x241448[_0x4ef3d3(0x1d4)])_0x193761=_0x241448[_0x4ef3d3(0x1d4)];}const _0x491fd9=_0x36b956[_0x4ef3d3(0x254)]==='completed',_0x46905b=_0x491fd9?0x1:0.45;_0x527c8d[_0x4ef3d3(0x211)]='event-card'+(_0x491fd9?_0x4ef3d3(0x1f5):''),_0x527c8d[_0x4ef3d3(0x1e1)][_0x4ef3d3(0x1f1)]=hexToRgba(_0x193761,_0x46905b),_0x527c8d[_0x4ef3d3(0x1e1)]['borderLeftColor']=_0x193761;const _0xc20bcd=_0x1fb12e[_0x4ef3d3(0x21e)]/0x3c*GRID_H,_0x58e472=(_0x1fb12e[_0x4ef3d3(0x252)]-_0x1fb12e[_0x4ef3d3(0x21e)])/0x3c*GRID_H;_0x527c8d[_0x4ef3d3(0x1e1)][_0x4ef3d3(0x29e)]=_0xc20bcd+'px',_0x527c8d[_0x4ef3d3(0x1e1)]['height']=Math[_0x4ef3d3(0x283)](_0x58e472,0x14)+'px',_0x527c8d['style'][_0x4ef3d3(0x259)]='calc('+_0x2c7d5f+_0x4ef3d3(0x225),_0x527c8d[_0x4ef3d3(0x1e1)][_0x4ef3d3(0x239)]=_0x4ef3d3(0x1b3)+_0x4292b1+'%\x20+\x202px)',_0x527c8d[_0x4ef3d3(0x1e1)][_0x4ef3d3(0x292)]=0xa+_0x1fb12e['colIndex'];if(_0x2c7d5f<0x55)_0x527c8d[_0x4ef3d3(0x294)][_0x4ef3d3(0x23f)](_0x4ef3d3(0x1c1));let _0x4ec912='';if(_0x36b956[_0x4ef3d3(0x270)])_0x4ec912+=_0x4ef3d3(0x23d);if(_0x491fd9)_0x4ec912+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x527c8d[_0x4ef3d3(0x230)]=_0x4ef3d3(0x282)+_0x36b956[_0x4ef3d3(0x21e)]+_0x4ef3d3(0x1d5)+_0x36b956[_0x4ef3d3(0x252)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ec912+_0x4ef3d3(0x1c5),_0x527c8d['onclick']=_0x414e27=>{const _0x1ec8f3=_0x4ef3d3;_0x414e27[_0x1ec8f3(0x233)](),openDetails(_0x36b956);},_0x52ff3f[_0x4ef3d3(0x293)](_0x527c8d);});}function openAnalytics(){const _0x148b8d=a3_0x3d3eba,_0x544852=document[_0x148b8d(0x247)](_0x148b8d(0x285));setAnalyticsPeriod('week',_0x544852),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x858b58,_0x47f6fb){const _0x55f575=a3_0x3d3eba;currentAnPeriod=_0x858b58,document['querySelectorAll'](_0x55f575(0x285))[_0x55f575(0x213)](_0x5dfc17=>_0x5dfc17[_0x55f575(0x294)][_0x55f575(0x207)](_0x55f575(0x251)));if(_0x47f6fb)_0x47f6fb[_0x55f575(0x294)][_0x55f575(0x23f)]('active');const _0xfa268d=document[_0x55f575(0x28a)]('anCustomDates');_0xfa268d[_0x55f575(0x1e1)]['display']=_0x858b58==='custom'?_0x55f575(0x279):_0x55f575(0x1c8);const _0x4d2f45=new Date();let _0x23677f=new Date(),_0x135570=new Date();if(_0x858b58==='week')_0x23677f=getStartOfWeek(_0x4d2f45),_0x135570=new Date(_0x23677f),_0x135570[_0x55f575(0x1b5)](_0x135570[_0x55f575(0x1fb)]()+0x6);else{if(_0x858b58===_0x55f575(0x1cc))_0x23677f=new Date(_0x4d2f45['getFullYear'](),_0x4d2f45[_0x55f575(0x273)](),0x1),_0x135570=new Date(_0x4d2f45[_0x55f575(0x234)](),_0x4d2f45[_0x55f575(0x273)]()+0x1,0x0);else{!document[_0x55f575(0x28a)](_0x55f575(0x266))[_0x55f575(0x26d)]&&(document[_0x55f575(0x28a)](_0x55f575(0x266))[_0x55f575(0x26d)]=getLocalDateStr(_0x4d2f45),document[_0x55f575(0x28a)](_0x55f575(0x295))[_0x55f575(0x26d)]=getLocalDateStr(_0x4d2f45));refreshAnalytics();return;}}document[_0x55f575(0x28a)]('anStart')[_0x55f575(0x26d)]=getLocalDateStr(_0x23677f),document[_0x55f575(0x28a)](_0x55f575(0x295))[_0x55f575(0x26d)]=getLocalDateStr(_0x135570),refreshAnalytics();}function refreshAnalytics(){const _0x2dd6bc=a3_0x3d3eba,_0x4fcb5a=document[_0x2dd6bc(0x28a)](_0x2dd6bc(0x266))[_0x2dd6bc(0x26d)],_0x2473bf=document[_0x2dd6bc(0x28a)](_0x2dd6bc(0x295))[_0x2dd6bc(0x26d)];if(!_0x4fcb5a||!_0x2473bf)return;const _0xf08a57=sessions[_0x2dd6bc(0x1ba)](_0x3c1c6b=>_0x3c1c6b[_0x2dd6bc(0x2a8)]>=_0x4fcb5a&&_0x3c1c6b[_0x2dd6bc(0x2a8)]<=_0x2473bf&&_0x3c1c6b[_0x2dd6bc(0x254)]!=='cancelled'),_0x2be431=_0xf08a57['length'],_0x146d68=_0xf08a57[_0x2dd6bc(0x1ba)](_0x10d6e3=>_0x10d6e3['status']===_0x2dd6bc(0x224))['length'],_0x5ef183=_0x2be431>0x0?Math[_0x2dd6bc(0x208)](_0x146d68/_0x2be431*0x64):0x0;document[_0x2dd6bc(0x28a)](_0x2dd6bc(0x22c))[_0x2dd6bc(0x246)]=_0x5ef183+'%',document[_0x2dd6bc(0x28a)](_0x2dd6bc(0x28c))[_0x2dd6bc(0x246)]=_0x146d68+_0x2dd6bc(0x250)+_0x2be431+_0x2dd6bc(0x20f);const _0x5cfaea=document[_0x2dd6bc(0x28a)](_0x2dd6bc(0x1eb)),_0x384045=0x2*Math['PI']*0x23,_0x4ee637=_0x384045-_0x5ef183/0x64*_0x384045;_0x5cfaea[_0x2dd6bc(0x1e1)][_0x2dd6bc(0x24b)]=_0x4ee637;const _0x4967f7={};_0xf08a57[_0x2dd6bc(0x213)](_0x5bab80=>{const _0x4dbf9f=_0x2dd6bc,_0x3c15b8=_0x5bab80[_0x4dbf9f(0x238)]||_0x4dbf9f(0x209);if(!_0x4967f7[_0x3c15b8]){const _0x550645='#'+_0x3c15b8[_0x4dbf9f(0x289)]()[_0x4dbf9f(0x25a)](0x0,0x6);_0x4967f7[_0x3c15b8]={'total':0x0,'done':0x0,'color':_0x550645};}_0x4967f7[_0x3c15b8][_0x4dbf9f(0x24c)]++;if(_0x5bab80['status']===_0x4dbf9f(0x224))_0x4967f7[_0x3c15b8][_0x4dbf9f(0x2ac)]++;});const _0x3fa42b=document['getElementById'](_0x2dd6bc(0x1e8));_0x3fa42b[_0x2dd6bc(0x230)]='';const _0x30ec25=Object[_0x2dd6bc(0x1d8)](_0x4967f7)[_0x2dd6bc(0x1ed)]((_0x605f89,_0x4404f2)=>_0x4404f2[0x1][_0x2dd6bc(0x24c)]-_0x605f89[0x1]['total']);if(_0x30ec25[_0x2dd6bc(0x1bd)]===0x0){_0x3fa42b[_0x2dd6bc(0x230)]=_0x2dd6bc(0x1d3);return;}_0x30ec25[_0x2dd6bc(0x213)](([_0x47ba6a,_0x378e61])=>{const _0x4626fa=_0x2dd6bc,_0x199a46=Math[_0x4626fa(0x208)](_0x378e61[_0x4626fa(0x2ac)]/_0x378e61[_0x4626fa(0x24c)]*0x64),_0xc94766=document[_0x4626fa(0x1fc)](_0x4626fa(0x1b9));_0xc94766[_0x4626fa(0x211)]=_0x4626fa(0x206),_0xc94766[_0x4626fa(0x1e1)][_0x4626fa(0x1ea)]=_0x378e61[_0x4626fa(0x1d4)],_0xc94766[_0x4626fa(0x230)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x47ba6a[_0x4626fa(0x25a)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x378e61[_0x4626fa(0x2ac)]+_0x4626fa(0x1fa)+_0x378e61[_0x4626fa(0x24c)]+_0x4626fa(0x24e)+_0x199a46+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3fa42b['appendChild'](_0xc94766);});}function openDetails(_0x416c1a){const _0x4c214e=a3_0x3d3eba;currentSession=_0x416c1a;const _0x5030d9=new Date(_0x416c1a[_0x4c214e(0x2a8)]),_0x37e4fa=_0x5030d9[_0x4c214e(0x21f)](_0x4c214e(0x1b7),{'weekday':_0x4c214e(0x23e),'day':_0x4c214e(0x1e3),'month':'long'});document['getElementById'](_0x4c214e(0x280))[_0x4c214e(0x246)]=_0x37e4fa[_0x4c214e(0x2a2)](0x0)[_0x4c214e(0x25e)]()+_0x37e4fa[_0x4c214e(0x20c)](0x1),document[_0x4c214e(0x28a)]('detTime')['textContent']=_0x416c1a[_0x4c214e(0x21e)]+_0x4c214e(0x1d5)+_0x416c1a[_0x4c214e(0x252)],document[_0x4c214e(0x28a)](_0x4c214e(0x20b))['textContent']=_0x416c1a['note']||_0x4c214e(0x1c2);const _0x1f9c3e=document[_0x4c214e(0x28a)](_0x4c214e(0x2ab)),_0x4d05fd=document[_0x4c214e(0x28a)](_0x4c214e(0x1e7)),_0x1115dd=_0x4d05fd[_0x4c214e(0x247)](_0x4c214e(0x1ee)),_0x1659aa=_0x4d05fd[_0x4c214e(0x247)](_0x4c214e(0x257)),_0x3da9d8=document[_0x4c214e(0x28a)](_0x4c214e(0x269));if(_0x416c1a[_0x4c214e(0x254)]===_0x4c214e(0x224))_0x1f9c3e['textContent']=_0x4c214e(0x287),_0x1f9c3e['style'][_0x4c214e(0x1d4)]='var(--acc-green)',_0x4d05fd[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]=_0x4c214e(0x1c8);else{_0x1f9c3e['textContent']=_0x4c214e(0x1ec),_0x1f9c3e[_0x4c214e(0x1e1)][_0x4c214e(0x1d4)]=_0x4c214e(0x1e4),_0x4d05fd[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]=_0x4c214e(0x1dd);const _0x2caffa=new Date(_0x416c1a[_0x4c214e(0x2a8)]+'T'+_0x416c1a[_0x4c214e(0x21e)]),_0x41299c=new Date(),_0x42953f=(_0x2caffa-_0x41299c)/(0x3e8*0x3c*0x3c),_0x58464d=coachProfiles[_0x416c1a['coachId']]&&coachProfiles[_0x416c1a[_0x4c214e(0x238)]][_0x4c214e(0x27c)]?parseInt(coachProfiles[_0x416c1a[_0x4c214e(0x238)]][_0x4c214e(0x27c)]):0x18;if(_0x58464d===0x0||_0x42953f>=_0x58464d)_0x1115dd[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]=_0x4c214e(0x1dd),_0x1659aa[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]=_0x4c214e(0x1dd),_0x3da9d8[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]='none';else{_0x1115dd['style'][_0x4c214e(0x1d9)]='none',_0x1659aa['style'][_0x4c214e(0x1d9)]=_0x4c214e(0x1c8),_0x3da9d8[_0x4c214e(0x1e1)][_0x4c214e(0x1d9)]=_0x4c214e(0x1dd);let _0x1b8865=_0x58464d===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':'–∑–∞\x20'+_0x58464d+'\x20—á.';_0x3da9d8[_0x4c214e(0x246)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x1b8865+_0x4c214e(0x1d0);}}document[_0x4c214e(0x28a)](_0x4c214e(0x29f))['classList']['add'](_0x4c214e(0x251)),document[_0x4c214e(0x28a)](_0x4c214e(0x2ad))['classList'][_0x4c214e(0x23f)](_0x4c214e(0x245));}function closeAllSheets(){const _0x3b9702=a3_0x3d3eba;document[_0x3b9702(0x28a)](_0x3b9702(0x29f))[_0x3b9702(0x294)][_0x3b9702(0x207)](_0x3b9702(0x251)),document['querySelectorAll'](_0x3b9702(0x27e))[_0x3b9702(0x213)](_0x5580db=>_0x5580db[_0x3b9702(0x294)][_0x3b9702(0x207)]('open'));}function openSheet(_0x4b36e0){const _0x38b75f=a3_0x3d3eba;document[_0x38b75f(0x28a)](_0x38b75f(0x29f))[_0x38b75f(0x294)][_0x38b75f(0x23f)](_0x38b75f(0x251)),document[_0x38b75f(0x28a)](_0x4b36e0)[_0x38b75f(0x294)][_0x38b75f(0x23f)](_0x38b75f(0x245));}function getLocalDateStr(_0xdc7dba){const _0x11383f=a3_0x3d3eba,_0x196cb1=_0xdc7dba[_0x11383f(0x234)](),_0x3b39aa=String(_0xdc7dba[_0x11383f(0x273)]()+0x1)[_0x11383f(0x2aa)](0x2,'0'),_0x413fe6=String(_0xdc7dba[_0x11383f(0x1fb)]())[_0x11383f(0x2aa)](0x2,'0');return _0x196cb1+'-'+_0x3b39aa+'-'+_0x413fe6;}function getStartOfWeek(_0x50477b){const _0x106311=a3_0x3d3eba,_0x520beb=new Date(_0x50477b),_0x1706a9=_0x520beb[_0x106311(0x1cf)](),_0x4e2c9e=_0x520beb[_0x106311(0x1fb)]()-_0x1706a9+(_0x1706a9===0x0?-0x6:0x1);return _0x520beb[_0x106311(0x1b5)](_0x4e2c9e),_0x520beb[_0x106311(0x214)](0x0,0x0,0x0,0x0),_0x520beb;}function scrollToToday(){const _0x3f2cd4=getLocalDateStr(new Date());setTimeout(()=>{const _0x165173=a3_0x2164,_0x26d812=document[_0x165173(0x247)](_0x165173(0x215)+_0x3f2cd4+'\x22]');if(_0x26d812){const _0x3ecd04=document['getElementById'](_0x165173(0x271)),_0x2d6138=_0x26d812[_0x165173(0x1bc)]-_0x3ecd04[_0x165173(0x1d1)]/0x2+_0x26d812[_0x165173(0x1cb)]/0x2;_0x3ecd04['scrollTo']({'left':_0x2d6138,'behavior':_0x165173(0x220)}),_0x3ecd04[_0x165173(0x1fd)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59c243=a3_0x3d3eba,_0x3dc5b0=new Date(),_0x21061a=document['getElementById'](_0x59c243(0x27a)),_0x2b3bbd=document[_0x59c243(0x28a)](_0x59c243(0x291)),_0x452dd0=(_0x3dc5b0[_0x59c243(0x1d6)]()*0x3c+_0x3dc5b0['getMinutes']())/0x3c*GRID_H;_0x21061a[_0x59c243(0x1e1)]['top']=_0x452dd0+'px',_0x21061a[_0x59c243(0x1e1)][_0x59c243(0x1d9)]='block',_0x2b3bbd[_0x59c243(0x1e1)][_0x59c243(0x29e)]=_0x452dd0+'px',_0x2b3bbd[_0x59c243(0x1e1)][_0x59c243(0x1d9)]=_0x59c243(0x1dd),_0x2b3bbd[_0x59c243(0x246)]=String(_0x3dc5b0[_0x59c243(0x1d6)]())['padStart'](0x2,'0')+':'+String(_0x3dc5b0['getMinutes']())[_0x59c243(0x2aa)](0x2,'0');}function onScroll(){const _0xf9982a=a3_0x3d3eba,_0x1940fd=document[_0xf9982a(0x28a)](_0xf9982a(0x271)),_0x367295=document['querySelectorAll'](_0xf9982a(0x299));for(let _0x5c037e of _0x367295)if(_0x5c037e[_0xf9982a(0x1bc)]>=_0x1940fd['scrollLeft']){const _0x3c6f02=new Date(_0x5c037e[_0xf9982a(0x228)](_0xf9982a(0x26a)));document[_0xf9982a(0x28a)](_0xf9982a(0x1c3))['textContent']=_0x3c6f02[_0xf9982a(0x24f)]('ru',{'month':'long'})[_0xf9982a(0x25e)]()+'\x20'+_0x3c6f02[_0xf9982a(0x234)]();break;}}function showToast(_0x53c3a5){const _0x41a178=a3_0x3d3eba,_0x4c6b3a=document[_0x41a178(0x28a)](_0x41a178(0x253));_0x4c6b3a[_0x41a178(0x246)]=_0x53c3a5,_0x4c6b3a[_0x41a178(0x294)][_0x41a178(0x23f)](_0x41a178(0x1f7)),setTimeout(()=>_0x4c6b3a[_0x41a178(0x294)][_0x41a178(0x207)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x21f31f=a3_0x3d3eba,_0x15e1ef=document[_0x21f31f(0x28a)](_0x21f31f(0x271)),_0x4b2b80=_0x15e1ef['scrollLeft'],_0x45e2f3=_0x15e1ef[_0x21f31f(0x26c)],_0x5991b2=_0x15e1ef[_0x21f31f(0x1d1)];if(_0x45e2f3-(_0x4b2b80+_0x5991b2)<0x12c){const _0x32f5cb=endOffset;endOffset+=0xe,renderDayRange(_0x32f5cb+0x1,endOffset),reRenderBlocks();}if(_0x4b2b80<0x12c){const _0x242ea2=startOffset;startOffset-=0xe,prependDays(startOffset,_0x242ea2-0x1),_0x15e1ef['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xfbfa82,_0x3a7732){const _0x5e03d7=a3_0x3d3eba,_0x5543b7=document['getElementById'](_0x5e03d7(0x260)),_0x16f80a=document[_0x5e03d7(0x28a)](_0x5e03d7(0x1da)),_0x25c36a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24b737=new Date();_0x24b737[_0x5e03d7(0x214)](0x0,0x0,0x0,0x0);const _0x2b2458=getLocalDateStr(new Date()),_0x2b0933=document['createDocumentFragment'](),_0x5ee9e2=document[_0x5e03d7(0x1e2)]();for(let _0x3985bb=_0xfbfa82;_0x3985bb<=_0x3a7732;_0x3985bb++){const _0xa65c99=new Date(_0x24b737);_0xa65c99[_0x5e03d7(0x1b5)](_0xa65c99['getDate']()+_0x3985bb);const _0x4d022c=getLocalDateStr(_0xa65c99);let _0xd521a8=_0xa65c99[_0x5e03d7(0x1cf)]()-0x1;if(_0xd521a8===-0x1)_0xd521a8=0x6;const _0x37617b=_0x4d022c===_0x2b2458,_0x32b24c=document['createElement']('div');_0x32b24c[_0x5e03d7(0x211)]=_0x5e03d7(0x201)+(_0x37617b?'today':''),_0x32b24c[_0x5e03d7(0x249)](_0x5e03d7(0x26a),_0x4d022c),_0x32b24c[_0x5e03d7(0x230)]=_0x5e03d7(0x1c9)+_0x25c36a[_0xd521a8]+_0x5e03d7(0x22f)+_0xa65c99[_0x5e03d7(0x1fb)]()+_0x5e03d7(0x274),_0x2b0933[_0x5e03d7(0x293)](_0x32b24c);const _0xa3e46b=document[_0x5e03d7(0x1fc)]('div');_0xa3e46b[_0x5e03d7(0x211)]='day-column\x20'+(_0x37617b?'today':''),_0xa3e46b['setAttribute'](_0x5e03d7(0x26a),_0x4d022c),_0xa3e46b['setAttribute'](_0x5e03d7(0x296),_0xd521a8),_0x5ee9e2[_0x5e03d7(0x293)](_0xa3e46b);}_0x5543b7[_0x5e03d7(0x1ce)](_0x2b0933,_0x5543b7[_0x5e03d7(0x298)]),_0x16f80a[_0x5e03d7(0x1ce)](_0x5ee9e2,_0x16f80a['querySelector']('.day-column'));}function hexToRgba(_0x5ea97c,_0x55c5a4){const _0x5c40c4=a3_0x3d3eba;let _0x3d82af;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5c40c4(0x1c4)](_0x5ea97c))return _0x3d82af=_0x5ea97c[_0x5c40c4(0x203)](0x1)['split'](''),_0x3d82af['length']==0x3&&(_0x3d82af=[_0x3d82af[0x0],_0x3d82af[0x0],_0x3d82af[0x1],_0x3d82af[0x1],_0x3d82af[0x2],_0x3d82af[0x2]]),_0x3d82af='0x'+_0x3d82af[_0x5c40c4(0x25f)](''),_0x5c40c4(0x1db)+[_0x3d82af>>0x10&0xff,_0x3d82af>>0x8&0xff,_0x3d82af&0xff][_0x5c40c4(0x25f)](',')+','+_0x55c5a4+')';return _0x5c40c4(0x22a)+_0x55c5a4+')';}let confirmResolver=null;function showCustomConfirm(_0x1a3867,_0x580646,_0x368ced=!![]){const _0xa1b48a=a3_0x3d3eba;document[_0xa1b48a(0x28a)]('ccTitle')[_0xa1b48a(0x246)]=_0x1a3867,document[_0xa1b48a(0x28a)](_0xa1b48a(0x222))[_0xa1b48a(0x246)]=_0x580646;const _0x2fa82e=document['getElementById'](_0xa1b48a(0x1f9));return _0x368ced?(_0x2fa82e['style'][_0xa1b48a(0x1d4)]='#ff453a',_0x2fa82e[_0xa1b48a(0x1e1)][_0xa1b48a(0x288)]='600'):(_0x2fa82e[_0xa1b48a(0x1e1)][_0xa1b48a(0x1d4)]=_0xa1b48a(0x263),_0x2fa82e[_0xa1b48a(0x1e1)][_0xa1b48a(0x288)]='600'),new Promise(_0x5d5013=>{const _0xd0c5bd=_0xa1b48a;confirmResolver=_0x5d5013,document[_0xd0c5bd(0x28a)](_0xd0c5bd(0x1df))[_0xd0c5bd(0x294)]['add'](_0xd0c5bd(0x277));});}function resolveCustomConfirm(_0x4ed994){const _0x5a17b6=a3_0x3d3eba;document[_0x5a17b6(0x28a)](_0x5a17b6(0x1df))[_0x5a17b6(0x294)][_0x5a17b6(0x207)](_0x5a17b6(0x277));if(confirmResolver)confirmResolver(_0x4ed994);}async function tryCancelCurrentSession(){const _0x268809=a3_0x3d3eba;if(!currentSession)return;const _0xb9b197=await showCustomConfirm(_0x268809(0x29b),_0x268809(0x255),!![]);if(!_0xb9b197)return;const _0x51423e=currentSession;closeAllSheets(),sessions=sessions[_0x268809(0x1ba)](_0x4538f1=>_0x4538f1['id']!==_0x51423e['id']),reRenderBlocks(),showToast(_0x268809(0x23b)),lastUserActionTime=Date[_0x268809(0x27f)]();try{const _0x412743=window[_0x268809(0x27b)]?.[_0x268809(0x23a)],_0x4616d2=await fetch(API_URL,{'method':'POST','body':JSON[_0x268809(0x25b)]({'action':'client_cancel','init_data':_0x412743?.['initData']||'','coachId':_0x51423e[_0x268809(0x238)],'dateStr':_0x51423e[_0x268809(0x2a8)],'sessionId':_0x51423e['id']})});if(_0x4616d2['ok'])DataManager['saveLocally']();}catch(_0x9dbee8){showToast(_0x268809(0x227));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2fac3c=a3_0x3d3eba;if(!currentSession)return;document['getElementById'](_0x2fac3c(0x2ad))[_0x2fac3c(0x294)][_0x2fac3c(0x207)]('open'),document[_0x2fac3c(0x28a)](_0x2fac3c(0x212))[_0x2fac3c(0x294)]['add'](_0x2fac3c(0x245));const _0xd04725=document[_0x2fac3c(0x28a)]('rsDatesTrack'),_0x35119c=document[_0x2fac3c(0x28a)](_0x2fac3c(0x1c7));_0xd04725[_0x2fac3c(0x230)]='',_0x35119c[_0x2fac3c(0x230)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x35e9fc,_0x5e3811]=currentSession[_0x2fac3c(0x21e)][_0x2fac3c(0x2a5)](':')['map'](Number),[_0x55fd3e,_0x3cb17a]=currentSession[_0x2fac3c(0x252)][_0x2fac3c(0x2a5)](':')[_0x2fac3c(0x1c6)](Number),_0x2519ec=_0x55fd3e*0x3c+_0x3cb17a-(_0x35e9fc*0x3c+_0x5e3811);try{const _0x4f0b8a=window['Telegram']?.[_0x2fac3c(0x23a)],_0x5a98ce=await fetch(API_URL,{'method':_0x2fac3c(0x21b),'body':JSON[_0x2fac3c(0x25b)]({'action':_0x2fac3c(0x241),'coachId':currentSession[_0x2fac3c(0x238)],'duration':_0x2519ec,'init_data':_0x4f0b8a?.[_0x2fac3c(0x27d)]||'','excludeSessionId':currentSession['id']})}),_0x2af0c8=await _0x5a98ce['json']();_0x2af0c8['ok']&&_0x2af0c8[_0x2fac3c(0x236)]?(availableSlotsCache=_0x2af0c8[_0x2fac3c(0x236)],renderRescheduleDates()):_0x35119c[_0x2fac3c(0x230)]=_0x2fac3c(0x1f0);}catch(_0x4eae9e){_0x35119c[_0x2fac3c(0x230)]=_0x2fac3c(0x1f6);}}function renderRescheduleDates(){const _0x5e7410=a3_0x3d3eba,_0xd6469b=document[_0x5e7410(0x28a)](_0x5e7410(0x1f3));_0xd6469b['innerHTML']='';const _0x214c1d=Object[_0x5e7410(0x1c0)](availableSlotsCache)['sort'](),_0x49e8f4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x214c1d[_0x5e7410(0x1bd)]===0x0){document[_0x5e7410(0x28a)](_0x5e7410(0x1c7))[_0x5e7410(0x230)]=_0x5e7410(0x262);return;}_0x214c1d[_0x5e7410(0x213)]((_0x17bfe7,_0x27aa03)=>{const _0x438c14=_0x5e7410,_0x52c731=new Date(_0x17bfe7),_0x111155=_0x49e8f4[_0x52c731['getDay']()],_0x50c998=_0x52c731[_0x438c14(0x1fb)](),_0x323d06=document[_0x438c14(0x1fc)](_0x438c14(0x1b9));_0x323d06[_0x438c14(0x211)]=_0x438c14(0x29d);if(_0x27aa03===0x0)_0x323d06[_0x438c14(0x294)][_0x438c14(0x23f)](_0x438c14(0x251));_0x323d06['innerHTML']=_0x438c14(0x1fe)+_0x111155+_0x438c14(0x2a7)+_0x50c998+_0x438c14(0x274),_0x323d06['onclick']=()=>selectRsDate(_0x17bfe7,_0x323d06),_0xd6469b[_0x438c14(0x293)](_0x323d06);}),selectRsDate(_0x214c1d[0x0],_0xd6469b[_0x5e7410(0x298)]);}function selectRsDate(_0x638a1a,_0x130157){const _0xde92ae=a3_0x3d3eba;selectedRsDate=_0x638a1a,document['querySelectorAll']('.rs-date-chip')[_0xde92ae(0x213)](_0x391ed7=>_0x391ed7[_0xde92ae(0x294)][_0xde92ae(0x207)](_0xde92ae(0x251)));if(_0x130157)_0x130157[_0xde92ae(0x294)][_0xde92ae(0x23f)]('active');const _0x36f0c7=document[_0xde92ae(0x28a)](_0xde92ae(0x1c7));_0x36f0c7[_0xde92ae(0x230)]='';const _0x1be021=availableSlotsCache[_0x638a1a]||[];if(_0x1be021[_0xde92ae(0x1bd)]===0x0){_0x36f0c7[_0xde92ae(0x230)]=_0xde92ae(0x1f0);return;}_0x1be021[_0xde92ae(0x213)](_0x312720=>{const _0x6f7247=_0xde92ae,_0x14ffdb=document[_0x6f7247(0x1fc)](_0x6f7247(0x28d));_0x14ffdb[_0x6f7247(0x211)]='rs-time-btn',_0x14ffdb[_0x6f7247(0x246)]=_0x312720,_0x14ffdb[_0x6f7247(0x29a)]=()=>confirmReschedule(_0x312720),_0x36f0c7[_0x6f7247(0x293)](_0x14ffdb);});}async function confirmReschedule(_0x385d9b){const _0x3bf5bf=a3_0x3d3eba,_0x584d9b=new Date(selectedRsDate),_0x3a5963=_0x584d9b[_0x3bf5bf(0x21f)](_0x3bf5bf(0x1b7),{'day':'numeric','month':'long'}),_0x32f999=await showCustomConfirm(_0x3bf5bf(0x1f8),_0x3bf5bf(0x200)+_0x3a5963+'\x20–≤\x20'+_0x385d9b+'?',![]);if(!_0x32f999)return;closeAllSheets(),showToast(_0x3bf5bf(0x286)),lastUserActionTime=Date[_0x3bf5bf(0x27f)]();const _0x1acedb=currentSession[_0x3bf5bf(0x2a8)],_0x41129f=currentSession['id'],[_0x420b71,_0x4cd90a]=currentSession[_0x3bf5bf(0x21e)][_0x3bf5bf(0x2a5)](':')[_0x3bf5bf(0x1c6)](Number),[_0x166a2d,_0x4dba5c]=currentSession[_0x3bf5bf(0x252)][_0x3bf5bf(0x2a5)](':')['map'](Number),_0x3e517c=_0x166a2d*0x3c+_0x4dba5c-(_0x420b71*0x3c+_0x4cd90a),[_0x1e6dc0,_0x223900]=_0x385d9b[_0x3bf5bf(0x2a5)](':')[_0x3bf5bf(0x1c6)](Number),_0x5211a6=_0x1e6dc0*0x3c+_0x223900+_0x3e517c,_0x2d916f=Math[_0x3bf5bf(0x28f)](_0x5211a6/0x3c),_0x2cb1e5=_0x5211a6%0x3c,_0x11b7e8=String(_0x2d916f)[_0x3bf5bf(0x2aa)](0x2,'0')+':'+String(_0x2cb1e5)['padStart'](0x2,'0'),_0x4fa99b=sessions['findIndex'](_0x1c7df0=>_0x1c7df0['id']===_0x41129f);_0x4fa99b!==-0x1&&(sessions[_0x4fa99b][_0x3bf5bf(0x2a8)]=selectedRsDate,sessions[_0x4fa99b][_0x3bf5bf(0x21e)]=_0x385d9b,sessions[_0x4fa99b][_0x3bf5bf(0x252)]=_0x11b7e8,reRenderBlocks());try{const _0x4b5236=window[_0x3bf5bf(0x27b)]?.[_0x3bf5bf(0x23a)],_0x1d2aae=await fetch(API_URL,{'method':_0x3bf5bf(0x21b),'body':JSON[_0x3bf5bf(0x25b)]({'action':_0x3bf5bf(0x24a),'init_data':_0x4b5236?.[_0x3bf5bf(0x27d)]||'','oldSessionId':_0x41129f,'oldDate':_0x1acedb,'newDate':selectedRsDate,'newTime':_0x385d9b,'coachId':currentSession[_0x3bf5bf(0x238)]})}),_0x52a209=await _0x1d2aae['json']();!_0x52a209['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x3bf5bf(0x217)),DataManager[_0x3bf5bf(0x1e5)]());}catch(_0x64289a){showToast(_0x3bf5bf(0x227));}}document[a3_0x3d3eba(0x2a4)](a3_0x3d3eba(0x1e6),init);