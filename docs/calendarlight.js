const a3_0xd2a4cb=a3_0x2cb4;(function(_0x5175dd,_0x590231){const _0x4e6b26=a3_0x2cb4,_0x3f3fc6=_0x5175dd();while(!![]){try{const _0xc53a3d=parseInt(_0x4e6b26(0xcf))/0x1+parseInt(_0x4e6b26(0x8f))/0x2*(-parseInt(_0x4e6b26(0xb7))/0x3)+-parseInt(_0x4e6b26(0xdb))/0x4*(-parseInt(_0x4e6b26(0xba))/0x5)+-parseInt(_0x4e6b26(0x179))/0x6+parseInt(_0x4e6b26(0x160))/0x7*(parseInt(_0x4e6b26(0xa1))/0x8)+-parseInt(_0x4e6b26(0x102))/0x9+parseInt(_0x4e6b26(0x177))/0xa;if(_0xc53a3d===_0x590231)break;else _0x3f3fc6['push'](_0x3f3fc6['shift']());}catch(_0x166b05){_0x3f3fc6['push'](_0x3f3fc6['shift']());}}}(a3_0x34f8,0xed389));const APP_VERSION=a3_0xd2a4cb(0x16e),API_URL=a3_0xd2a4cb(0x156),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0xd2a4cb(0x12a),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xd2a4cb(0x110),coachProfiles={},currentSession=null,lastUserActionTime=0x0;function a3_0x2cb4(_0x19edf2,_0x20e7d4){_0x19edf2=_0x19edf2-0x80;const _0x3abb7b=a3_0x34f8();let _0xb307ed=_0x3abb7b[_0x19edf2];return _0xb307ed;}(function initTMA(){const _0x5b7e5e=a3_0xd2a4cb,_0x3ab4a4=(function(){let _0x12507f=!![];return function(_0x5595b7,_0x46411b){const _0x3b6c25=_0x12507f?function(){const _0x5c8a33=a3_0x2cb4;if(_0x46411b){const _0x2ee1bb=_0x46411b[_0x5c8a33(0x106)](_0x5595b7,arguments);return _0x46411b=null,_0x2ee1bb;}}:function(){};return _0x12507f=![],_0x3b6c25;};}()),_0xaf0007=_0x3ab4a4(this,function(){const _0x1eb075=a3_0x2cb4;return _0xaf0007[_0x1eb075(0xa6)]()[_0x1eb075(0x100)](_0x1eb075(0xe1))[_0x1eb075(0xa6)]()[_0x1eb075(0x16a)](_0xaf0007)['search']('(((.+)+)+)+$');});_0xaf0007();try{const _0x5cb6e9=window['Telegram']?.[_0x5b7e5e(0x135)];if(!_0x5cb6e9)return;_0x5cb6e9[_0x5b7e5e(0x13a)](),_0x5cb6e9[_0x5b7e5e(0x88)]();try{_0x5cb6e9[_0x5b7e5e(0xaa)](_0x5b7e5e(0xec)),_0x5cb6e9[_0x5b7e5e(0xe0)]&&_0x5cb6e9[_0x5b7e5e(0xe0)](_0x5b7e5e(0xec));}catch(_0x139fdc){console['log'](_0x5b7e5e(0xc2),_0x139fdc);}try{_0x5cb6e9[_0x5b7e5e(0xfa)]&&(_0x5cb6e9['BackButton'][_0x5b7e5e(0x17b)](),_0x5cb6e9[_0x5b7e5e(0xfa)][_0x5b7e5e(0x134)](),_0x5cb6e9[_0x5b7e5e(0xfa)]['onClick'](function(){const _0x2eed22=_0x5b7e5e;window['location'][_0x2eed22(0x11b)]=_0x2eed22(0x10a);}));}catch(_0x5d107c){console[_0x5b7e5e(0x13b)](_0x5b7e5e(0xc5),_0x5d107c);}try{if(_0x5cb6e9[_0x5b7e5e(0x151)])_0x5cb6e9['disableVerticalSwipes']();}catch(_0x4c78ff){}}catch(_0x146dfc){console[_0x5b7e5e(0xc1)](_0x5b7e5e(0x163),_0x146dfc);}}());function a3_0x34f8(){const _0x3f8a38=['numeric','slice','getTime','style','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coachId','detailsSheet','long','</div><div\x20class=\x22rs-day-num\x22>','.btn-reschedule','day-column\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','end','saveLocally','blocked-range-part\x20stripe-bg','day-col-header\x20','pattern','2886832BgXSEw','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','blocked-slot\x20stripe-bg','getMonth','setItem','toString','toUpperCase','completed','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setHeaderColor','ccYesBtn','split','push','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getDay','\x20–≤\x20','today','<span>','getDate','initData','client_load','scrollWidth','314949Tzpzkh','\x20status-completed','rgba(10,\x20132,\x20255,\x20','15yqHKPa','insertBefore','getElementById','dateStr','strokeDashoffset','stringify','createElement','error','Error\x20setting\x20color:','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','Error\x20setting\x20back\x20button:','setMonth','\x20-\x20','classList','auto','getHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','planned','backgroundColor','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','677620gVVfwo','active','matrixViewport','calendar','innerHTML','getFullYear','detNote','var(--acc-green)','padStart','display','rgba(','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','280036JVkWNZ','min','</span>\x20/\x20','offsetLeft','detDate','setBackgroundColor','(((.+)+)+)+$','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','scrollTop','getMinutes','toast','data-date','backgroundPosition','addEventListener','getAttribute','getItem','scrollLeft','#050505','overlay','</div><div\x20class=\x22dch-num\x22>','gridColumns','anStart','customConfirm','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','calc(','querySelectorAll','then','anCustomDates','all','mini','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','BackButton','user','analyticsList','.day-col-header[data-date=\x22','custom','button','search','clientWidth','15506586ZsxkoZ','#ff453a','scrollTo','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','apply','remove','settings','daysHeaderTrack','router.html','block','data','start','rsSlotsGrid','top','week','test','cid','value','rescheduleSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','fontWeight','done','DOMContentLoaded','.btn-cancel','href','get_slots','substr','length','setHours','sort','substring','json','width','round','POST','left','analyticsSheet','anDonutCircle','height','uc_client_settings','rsDatesTrack','map','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','add','textContent','px\x20-','startsWith','anPercent','filter','offClick','WebApp','setAttribute','visible','cancelContainer','borderLeftColor','ready','log','stopPropagation','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','.period-switch\x20.p-btn','toLocaleString','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','div','detStatus','.sheet','ru-RU','forEach','now','cancel_window','createDocumentFragment','color','setDate','–∑–∞\x20','onclick','total','colIndex','ccTitle','day-off-overlay\x20stripe-bg','disableVerticalSwipes','clients','parse','.rs-date-chip','floor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20–∏–∑\x20','timeLineBadge','headerMonth','%\x20+\x202px)','<div\x20class=\x22rs-day-name\x22>','clientId','toLocaleDateString','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','charAt','35QdNdkh','join','data-day-idx','Critical\x20TMA\x20Error:','var(--acc-blue)','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','ranges','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','status','querySelector','constructor','anEnd','appendChild','Telegram','v9.5-CLIENT-ANALYTICS','none','max','client-stat-card','isArray','</div>','offsetWidth','T00:00:00','className','31218530TpFUoe','–û—Ç–º–µ–Ω–µ–Ω–æ','11156178xqIRaC','keys','show','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','globalTimeLine','600','ccText','syncLoad','initDataUnsafe','.day-column','seriesId','expand','event-card','entries','exceptions','coach_profiles','.day-col-header','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','24GMlUel'];a3_0x34f8=function(){return _0x3f8a38;};return a3_0x34f8();}function isAdmin(){const _0x40c94a=a3_0xd2a4cb;try{const _0x538702=Number(window[_0x40c94a(0x16d)]?.[_0x40c94a(0x135)]?.[_0x40c94a(0x85)]?.[_0x40c94a(0xfb)]?.['id']);return _0x538702===0xbaf7174;}catch(_0x347b2d){return![];}}const DataManager={'saveLocally'(){const _0x5419b4=a3_0xd2a4cb;try{localStorage[_0x5419b4(0xa5)](KEY_SESSIONS,JSON[_0x5419b4(0xbf)](sessions)),localStorage[_0x5419b4(0xa5)](KEY_CLIENTS,JSON[_0x5419b4(0xbf)](clients)),localStorage[_0x5419b4(0xa5)](KEY_SETTINGS,JSON[_0x5419b4(0xbf)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x22c664){}},'loadLocal'(){const _0x127a0e=a3_0xd2a4cb;try{const _0x4884c9=localStorage[_0x127a0e(0xea)](KEY_SESSIONS);if(_0x4884c9)sessions=JSON[_0x127a0e(0x153)](_0x4884c9);const _0x1b303c=localStorage[_0x127a0e(0xea)](KEY_CLIENTS);if(_0x1b303c)clients=JSON['parse'](_0x1b303c);const _0x429471=localStorage[_0x127a0e(0xea)](KEY_SETTINGS);if(_0x429471){const _0x3d6497=JSON[_0x127a0e(0x153)](_0x429471);if(_0x3d6497[_0x127a0e(0xa0)])availabilityPattern=_0x3d6497['pattern'];if(_0x3d6497[_0x127a0e(0x166)])specialRanges=_0x3d6497[_0x127a0e(0x166)];if(_0x3d6497[_0x127a0e(0x8b)])dateExceptions=_0x3d6497[_0x127a0e(0x8b)];}}catch(_0x15c003){}},async 'syncLoad'(){const _0x227a7f=a3_0xd2a4cb,_0x657a0a=new Date(),_0x4fcf4a=_0x657a0a[_0x227a7f(0xd4)]()+'-'+String(_0x657a0a[_0x227a7f(0xa4)]()+0x1)[_0x227a7f(0xd7)](0x2,'0'),_0x45c783=new Date(_0x657a0a);_0x45c783[_0x227a7f(0xc6)](_0x657a0a['getMonth']()+0x1);const _0x44d124=_0x45c783['getFullYear']()+'-'+String(_0x45c783[_0x227a7f(0xa4)]()+0x1)[_0x227a7f(0xd7)](0x2,'0'),_0x3942c1=Date['now']();try{const _0x36e5aa=window[_0x227a7f(0x16d)]?.[_0x227a7f(0x135)],_0x2e8df0=_0x36e5aa?.['initData']||'',[_0x6d8a90,_0x3e13d3]=await Promise[_0x227a7f(0xf7)]([fetch(API_URL,{'method':_0x227a7f(0x125),'body':JSON['stringify']({'action':_0x227a7f(0xb5),'init_data':_0x2e8df0,'month_str':_0x4fcf4a})})[_0x227a7f(0xf5)](_0x24bf14=>_0x24bf14[_0x227a7f(0x122)]()),fetch(API_URL,{'method':_0x227a7f(0x125),'body':JSON['stringify']({'action':_0x227a7f(0xb5),'init_data':_0x2e8df0,'month_str':_0x44d124})})[_0x227a7f(0xf5)](_0x3cba03=>_0x3cba03[_0x227a7f(0x122)]())]);if(lastUserActionTime>_0x3942c1){console[_0x227a7f(0x13b)](_0x227a7f(0x15e));return;}if(_0x6d8a90['ok'])this['applyData'](_0x6d8a90[_0x227a7f(0x10c)],_0x4fcf4a);if(_0x3e13d3['ok'])this['applyData'](_0x3e13d3['data'],_0x44d124);this['saveLocally']();}catch(_0x3b4670){}},'applyData'(_0x1b47ef,_0x597aaf){const _0x5b6e81=a3_0xd2a4cb;if(!_0x1b47ef)return;if(_0x1b47ef[_0x5b6e81(0x108)]){if(_0x1b47ef[_0x5b6e81(0x108)]['pattern'])availabilityPattern=_0x1b47ef[_0x5b6e81(0x108)][_0x5b6e81(0xa0)];if(_0x1b47ef[_0x5b6e81(0x108)][_0x5b6e81(0x166)])specialRanges=_0x1b47ef[_0x5b6e81(0x108)]['ranges'];if(_0x1b47ef[_0x5b6e81(0x108)]['exceptions'])dateExceptions=_0x1b47ef['settings']['exceptions'];}if(_0x1b47ef[_0x5b6e81(0x152)]&&Array[_0x5b6e81(0x172)](_0x1b47ef[_0x5b6e81(0x152)]))clients=_0x1b47ef['clients'];_0x1b47ef[_0x5b6e81(0x8c)]&&(coachProfiles={...coachProfiles,..._0x1b47ef[_0x5b6e81(0x8c)]}),_0x1b47ef[_0x5b6e81(0xd2)]&&(sessions=sessions[_0x5b6e81(0x133)](_0x337eb6=>!_0x337eb6[_0x5b6e81(0xbd)][_0x5b6e81(0x131)](_0x597aaf)),Object['keys'](_0x1b47ef['calendar'])[_0x5b6e81(0x145)](_0x3e0ae3=>{const _0x588c58=_0x5b6e81,_0x520658=_0x1b47ef['calendar'][_0x3e0ae3];_0x520658[_0x588c58(0x145)](_0x36a87c=>{const _0x5943c1=_0x588c58;sessions[_0x5943c1(0xad)]({'id':_0x36a87c['i'],'clientId':_0x36a87c['c'],'coachId':_0x36a87c[_0x5943c1(0x112)],'dateStr':_0x597aaf+'-'+_0x3e0ae3[_0x5943c1(0xd7)](0x2,'0'),'start':_0x36a87c['s'],'end':_0x36a87c['e'],'note':_0x36a87c['n']||'','status':_0x36a87c['st']||_0x5943c1(0xcc),'seriesId':_0x36a87c['sid']});});})),reRenderBlocks();}};function init(){const _0x4f7cf1=a3_0xd2a4cb;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4f7cf1(0xbc)](_0x4f7cf1(0xd1))[_0x4f7cf1(0xe8)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x1af06b=a3_0xd2a4cb,_0xdae4dc=document[_0x1af06b(0xbc)]('timeColumn'),_0x2894e5=document[_0x1af06b(0xbc)](_0x1af06b(0x158));_0xdae4dc['innerHTML']='',_0xdae4dc[_0x1af06b(0x16c)](_0x2894e5);for(let _0x532ea2=0x0;_0x532ea2<0x18;_0x532ea2++){const _0x64f276=document[_0x1af06b(0xc0)](_0x1af06b(0x141));_0x64f276[_0x1af06b(0x176)]='time-label';if(_0x532ea2>0x0)_0x64f276[_0x1af06b(0xd3)]=_0x1af06b(0xb2)+String(_0x532ea2)[_0x1af06b(0xd7)](0x2,'0')+':00</span>';_0xdae4dc['appendChild'](_0x64f276);}}function renderDayRange(_0x2b769e,_0x2082a0){const _0x5a6bae=a3_0xd2a4cb,_0x2a1d65=document[_0x5a6bae(0xbc)](_0x5a6bae(0x109)),_0x42fcf9=document['getElementById'](_0x5a6bae(0xef)),_0x8618f8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x31da5f=new Date();_0x31da5f['setHours'](0x0,0x0,0x0,0x0);const _0x5d8ba2=getLocalDateStr(new Date());for(let _0x45859f=_0x2b769e;_0x45859f<=_0x2082a0;_0x45859f++){const _0x42e4c0=new Date(_0x31da5f);_0x42e4c0[_0x5a6bae(0x14a)](_0x42e4c0[_0x5a6bae(0xb3)]()+_0x45859f);const _0x2daf2f=getLocalDateStr(_0x42e4c0);let _0x434dc6=_0x42e4c0[_0x5a6bae(0xaf)]()-0x1;if(_0x434dc6===-0x1)_0x434dc6=0x6;const _0x4a6749=_0x2daf2f===_0x5d8ba2,_0x36bd22=document[_0x5a6bae(0xc0)]('div');_0x36bd22['className']=_0x5a6bae(0x9f)+(_0x4a6749?_0x5a6bae(0xb1):''),_0x36bd22[_0x5a6bae(0x136)]('data-date',_0x2daf2f),_0x36bd22[_0x5a6bae(0xd3)]='<div\x20class=\x22dch-day\x22>'+_0x8618f8[_0x434dc6]+_0x5a6bae(0xee)+_0x42e4c0['getDate']()+_0x5a6bae(0x173),_0x2a1d65['appendChild'](_0x36bd22);const _0x302a3a=document[_0x5a6bae(0xc0)](_0x5a6bae(0x141));_0x302a3a['className']=_0x5a6bae(0x9a)+(_0x4a6749?'today':''),_0x302a3a[_0x5a6bae(0x136)](_0x5a6bae(0xe6),_0x2daf2f),_0x302a3a['setAttribute'](_0x5a6bae(0x162),_0x434dc6),_0x42fcf9[_0x5a6bae(0x16c)](_0x302a3a);}}function reRenderBlocks(){const _0x3c72be=a3_0xd2a4cb;document[_0x3c72be(0xf4)](_0x3c72be(0x86))[_0x3c72be(0x145)](_0x3cce9d=>{const _0x5721bd=_0x3c72be;_0x3cce9d[_0x5721bd(0xf4)](_0x5721bd(0x8e))[_0x5721bd(0x145)](_0x3f4055=>_0x3f4055[_0x5721bd(0x107)]());const _0x39756b=_0x3cce9d[_0x5721bd(0xe9)]('data-date'),_0x1571d1=parseInt(_0x3cce9d[_0x5721bd(0xe9)]('data-day-idx')),_0x266801=Math[_0x5721bd(0x124)](_0x3cce9d[_0x5721bd(0xde)]);(availabilityPattern[_0x1571d1]||[])[_0x5721bd(0x145)](_0x30132f=>{const _0x1af810=_0x5721bd,_0x55d650=document[_0x1af810(0xc0)]('div');_0x55d650[_0x1af810(0x176)]=_0x1af810(0xa3),_0x55d650[_0x1af810(0x93)][_0x1af810(0x10f)]=_0x30132f*GRID_H+'px',_0x55d650[_0x1af810(0x93)][_0x1af810(0xe7)]='-'+_0x266801+_0x1af810(0x130)+_0x30132f*GRID_H+'px',_0x3cce9d[_0x1af810(0x16c)](_0x55d650);});if(specialRanges[_0x5721bd(0x11e)]>0x0){const _0xf86ec6=new Date(_0x39756b+_0x5721bd(0x175))['getTime'](),_0x58188a=new Date(_0x39756b+'T23:59:59')[_0x5721bd(0x92)]();specialRanges[_0x5721bd(0x145)](_0x4a6bf8=>{const _0x22a40d=_0x5721bd,_0x50d7bf=new Date(_0x4a6bf8[_0x22a40d(0x10d)])['getTime'](),_0x1d1559=new Date(_0x4a6bf8['end'])[_0x22a40d(0x92)](),_0x1b2a23=Math[_0x22a40d(0x170)](_0xf86ec6,_0x50d7bf),_0x3f7355=Math['min'](_0x58188a,_0x1d1559);if(_0x1b2a23<_0x3f7355){const _0x2e14a9=(_0x1b2a23-_0xf86ec6)/0x36ee80*GRID_H,_0x163c49=(_0x3f7355-_0x1b2a23)/0x36ee80*GRID_H,_0x5b59ee=document[_0x22a40d(0xc0)](_0x22a40d(0x141));_0x163c49>=23.5*GRID_H?(_0x5b59ee[_0x22a40d(0x176)]=_0x22a40d(0x150),_0x5b59ee[_0x22a40d(0x93)]['backgroundPosition']='-'+_0x266801+'px\x200px'):(_0x5b59ee['className']=_0x22a40d(0x9e),_0x5b59ee['style'][_0x22a40d(0x10f)]=_0x2e14a9+'px',_0x5b59ee[_0x22a40d(0x93)][_0x22a40d(0x129)]=_0x163c49+'px',_0x5b59ee[_0x22a40d(0x93)][_0x22a40d(0xe7)]='-'+_0x266801+_0x22a40d(0x130)+_0x2e14a9+'px'),_0x3cce9d[_0x22a40d(0x16c)](_0x5b59ee);}});}renderEventsForColumn(_0x3cce9d,_0x39756b);});}function renderEventsForColumn(_0x5422a6,_0x5b904d){const _0x28aad1=a3_0xd2a4cb,_0x42bc93=sessions[_0x28aad1(0x133)](_0x16f607=>_0x16f607[_0x28aad1(0xbd)]===_0x5b904d),_0x4824f4=_0x42bc93[_0x28aad1(0x12c)](_0x3f686b=>{const _0x5a6807=_0x28aad1,[_0x1e82b1,_0x591245]=_0x3f686b['start'][_0x5a6807(0xac)](':')['map'](Number),[_0x17c820,_0x44820b]=_0x3f686b['end'][_0x5a6807(0xac)](':')[_0x5a6807(0x12c)](Number);return{'data':_0x3f686b,'start':_0x1e82b1*0x3c+_0x591245,'end':_0x17c820*0x3c+_0x44820b,'colIndex':0x0};});_0x4824f4[_0x28aad1(0x120)]((_0x35b80c,_0x35a311)=>_0x35b80c[_0x28aad1(0x10d)]-_0x35a311[_0x28aad1(0x10d)]||_0x35a311[_0x28aad1(0x9c)]-_0x35a311[_0x28aad1(0x10d)]-(_0x35b80c[_0x28aad1(0x9c)]-_0x35b80c[_0x28aad1(0x10d)]));const _0x3c4078=[];_0x4824f4['forEach'](_0xde00f4=>{const _0x32ef7c=_0x28aad1;let _0x39a09c=![];for(let _0x293e52=0x0;_0x293e52<_0x3c4078['length'];_0x293e52++){const _0x13d33f=_0x3c4078[_0x293e52];if(_0xde00f4[_0x32ef7c(0x10d)]>=_0x13d33f[_0x13d33f[_0x32ef7c(0x11e)]-0x1][_0x32ef7c(0x9c)]){_0x13d33f[_0x32ef7c(0xad)](_0xde00f4),_0xde00f4[_0x32ef7c(0x14e)]=_0x293e52,_0x39a09c=!![];break;}}!_0x39a09c&&(_0x3c4078[_0x32ef7c(0xad)]([_0xde00f4]),_0xde00f4[_0x32ef7c(0x14e)]=_0x3c4078[_0x32ef7c(0x11e)]-0x1);}),_0x4824f4[_0x28aad1(0x145)](_0x562830=>{const _0x25c566=_0x28aad1;let _0x4fc645=0x0;_0x4824f4['forEach'](_0x12b038=>{const _0x26b014=a3_0x2cb4;if(Math[_0x26b014(0x170)](_0x562830[_0x26b014(0x10d)],_0x12b038[_0x26b014(0x10d)])<Math[_0x26b014(0xdc)](_0x562830[_0x26b014(0x9c)],_0x12b038['end'])&&_0x12b038[_0x26b014(0x14e)]>_0x4fc645)_0x4fc645=_0x12b038['colIndex'];});const _0x3d5323=_0x4fc645+0x1,_0xa49136=0x64/_0x3d5323,_0x25949d=_0x562830[_0x25c566(0x14e)]*_0xa49136,_0x9f6413=document[_0x25c566(0xc0)](_0x25c566(0x141)),_0xd02271=_0x562830[_0x25c566(0x10c)];let _0xc40f7='#0a84ff';if(clients&&clients[_0x25c566(0x11e)]>0x0){const _0x59c118=clients['find'](_0x285ae9=>String(_0x285ae9['id'])===String(_0xd02271[_0x25c566(0x15c)]));if(_0x59c118&&_0x59c118['color'])_0xc40f7=_0x59c118['color'];}const _0x5c4da2=_0xd02271[_0x25c566(0x168)]===_0x25c566(0xa8),_0x23af70=_0x5c4da2?0x1:0.45;_0x9f6413[_0x25c566(0x176)]=_0x25c566(0x89)+(_0x5c4da2?_0x25c566(0xb8):''),_0x9f6413['style'][_0x25c566(0xcd)]=hexToRgba(_0xc40f7,_0x23af70),_0x9f6413[_0x25c566(0x93)][_0x25c566(0x139)]=_0xc40f7;const _0x2ccac7=_0x562830[_0x25c566(0x10d)]/0x3c*GRID_H,_0x3c5579=(_0x562830['end']-_0x562830['start'])/0x3c*GRID_H;_0x9f6413[_0x25c566(0x93)][_0x25c566(0x10f)]=_0x2ccac7+'px',_0x9f6413['style'][_0x25c566(0x129)]=Math[_0x25c566(0x170)](_0x3c5579,0x14)+'px',_0x9f6413[_0x25c566(0x93)][_0x25c566(0x123)]=_0x25c566(0xf3)+_0xa49136+'%\x20-\x204px)',_0x9f6413['style'][_0x25c566(0x126)]=_0x25c566(0xf3)+_0x25949d+_0x25c566(0x15a),_0x9f6413[_0x25c566(0x93)]['zIndex']=0xa+_0x562830[_0x25c566(0x14e)];if(_0xa49136<0x55)_0x9f6413[_0x25c566(0xc8)][_0x25c566(0x12e)](_0x25c566(0xf8));let _0x124a2b='';if(_0xd02271[_0x25c566(0x87)])_0x124a2b+=_0x25c566(0x105);if(_0x5c4da2)_0x124a2b+=_0x25c566(0xda);_0x9f6413[_0x25c566(0xd3)]=_0x25c566(0xcb)+_0xd02271['start']+_0x25c566(0xc7)+_0xd02271[_0x25c566(0x9c)]+_0x25c566(0x94)+_0x124a2b+_0x25c566(0x115),_0x9f6413[_0x25c566(0x14c)]=_0x120221=>{const _0x4db2d8=_0x25c566;_0x120221[_0x4db2d8(0x13c)](),openDetails(_0xd02271);},_0x5422a6[_0x25c566(0x16c)](_0x9f6413);});}function openAnalytics(){const _0x1d32de=a3_0xd2a4cb,_0x1961d0=document['querySelector'](_0x1d32de(0x13e));setAnalyticsPeriod(_0x1d32de(0x110),_0x1961d0),openSheet(_0x1d32de(0x127));}function setAnalyticsPeriod(_0x36ba6b,_0x1bbeb5){const _0x222403=a3_0xd2a4cb;currentAnPeriod=_0x36ba6b,document[_0x222403(0xf4)](_0x222403(0x13e))[_0x222403(0x145)](_0x412dc0=>_0x412dc0[_0x222403(0xc8)][_0x222403(0x107)]('active'));if(_0x1bbeb5)_0x1bbeb5[_0x222403(0xc8)][_0x222403(0x12e)](_0x222403(0xd0));const _0x4c25b1=document[_0x222403(0xbc)](_0x222403(0xf6));_0x4c25b1['style']['display']=_0x36ba6b===_0x222403(0xfe)?'flex':_0x222403(0x16f);const _0x2af602=new Date();let _0xfef101=new Date(),_0x1ead11=new Date();if(_0x36ba6b===_0x222403(0x110))_0xfef101=getStartOfWeek(_0x2af602),_0x1ead11=new Date(_0xfef101),_0x1ead11[_0x222403(0x14a)](_0x1ead11[_0x222403(0xb3)]()+0x6);else{if(_0x36ba6b==='month')_0xfef101=new Date(_0x2af602[_0x222403(0xd4)](),_0x2af602[_0x222403(0xa4)](),0x1),_0x1ead11=new Date(_0x2af602['getFullYear'](),_0x2af602['getMonth']()+0x1,0x0);else{!document[_0x222403(0xbc)]('anStart')['value']&&(document['getElementById'](_0x222403(0xf0))['value']=getLocalDateStr(_0x2af602),document[_0x222403(0xbc)](_0x222403(0x16b))[_0x222403(0x113)]=getLocalDateStr(_0x2af602));refreshAnalytics();return;}}document['getElementById'](_0x222403(0xf0))[_0x222403(0x113)]=getLocalDateStr(_0xfef101),document['getElementById'](_0x222403(0x16b))[_0x222403(0x113)]=getLocalDateStr(_0x1ead11),refreshAnalytics();}function refreshAnalytics(){const _0x4f9cd3=a3_0xd2a4cb,_0x14df09=document[_0x4f9cd3(0xbc)](_0x4f9cd3(0xf0))[_0x4f9cd3(0x113)],_0x4d3f6e=document['getElementById'](_0x4f9cd3(0x16b))[_0x4f9cd3(0x113)];if(!_0x14df09||!_0x4d3f6e)return;const _0x3e5038=sessions['filter'](_0xb3761=>_0xb3761[_0x4f9cd3(0xbd)]>=_0x14df09&&_0xb3761[_0x4f9cd3(0xbd)]<=_0x4d3f6e&&_0xb3761[_0x4f9cd3(0x168)]!=='cancelled'),_0xeade94=_0x3e5038[_0x4f9cd3(0x11e)],_0x39141a=_0x3e5038[_0x4f9cd3(0x133)](_0x49f01e=>_0x49f01e['status']===_0x4f9cd3(0xa8))[_0x4f9cd3(0x11e)],_0x5eab80=_0xeade94>0x0?Math[_0x4f9cd3(0x124)](_0x39141a/_0xeade94*0x64):0x0;document[_0x4f9cd3(0xbc)](_0x4f9cd3(0x132))['textContent']=_0x5eab80+'%',document[_0x4f9cd3(0xbc)]('anTotalStats')[_0x4f9cd3(0x12f)]=_0x39141a+_0x4f9cd3(0x157)+_0xeade94+_0x4f9cd3(0x165);const _0x43645b=document[_0x4f9cd3(0xbc)](_0x4f9cd3(0x128)),_0x518dec=0x2*Math['PI']*0x23,_0x1b9b3e=_0x518dec-_0x5eab80/0x64*_0x518dec;_0x43645b[_0x4f9cd3(0x93)][_0x4f9cd3(0xbe)]=_0x1b9b3e;const _0x237cac={};_0x3e5038[_0x4f9cd3(0x145)](_0x393c74=>{const _0x12747c=_0x4f9cd3,_0xa48ac0=_0x393c74[_0x12747c(0x95)]||'Unknown';if(!_0x237cac[_0xa48ac0]){const _0x17a74d='#'+_0xa48ac0[_0x12747c(0xa6)]()[_0x12747c(0x11d)](0x0,0x6);_0x237cac[_0xa48ac0]={'total':0x0,'done':0x0,'color':_0x17a74d};}_0x237cac[_0xa48ac0][_0x12747c(0x14d)]++;if(_0x393c74[_0x12747c(0x168)]==='completed')_0x237cac[_0xa48ac0][_0x12747c(0x118)]++;});const _0x176ed1=document['getElementById'](_0x4f9cd3(0xfc));_0x176ed1[_0x4f9cd3(0xd3)]='';const _0xfaea0d=Object[_0x4f9cd3(0x8a)](_0x237cac)['sort']((_0x2d43b8,_0x25f115)=>_0x25f115[0x1][_0x4f9cd3(0x14d)]-_0x2d43b8[0x1][_0x4f9cd3(0x14d)]);if(_0xfaea0d[_0x4f9cd3(0x11e)]===0x0){_0x176ed1[_0x4f9cd3(0xd3)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0xfaea0d[_0x4f9cd3(0x145)](([_0x183f0c,_0x536ffd])=>{const _0x2b6bea=_0x4f9cd3,_0x3d4b10=Math[_0x2b6bea(0x124)](_0x536ffd[_0x2b6bea(0x118)]/_0x536ffd[_0x2b6bea(0x14d)]*0x64),_0x2c00ae=document[_0x2b6bea(0xc0)](_0x2b6bea(0x141));_0x2c00ae[_0x2b6bea(0x176)]=_0x2b6bea(0x171),_0x2c00ae['style'][_0x2b6bea(0x139)]=_0x536ffd[_0x2b6bea(0x149)],_0x2c00ae[_0x2b6bea(0xd3)]=_0x2b6bea(0xf9)+_0x183f0c[_0x2b6bea(0x11d)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x536ffd[_0x2b6bea(0x118)]+_0x2b6bea(0xdd)+_0x536ffd[_0x2b6bea(0x14d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x3d4b10+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x176ed1[_0x2b6bea(0x16c)](_0x2c00ae);});}function openDetails(_0xc7bd){const _0x1809c8=a3_0xd2a4cb;currentSession=_0xc7bd;const _0x63cbde=new Date(_0xc7bd['dateStr']),_0x494722=_0x63cbde[_0x1809c8(0x15d)](_0x1809c8(0x144),{'weekday':_0x1809c8(0x97),'day':_0x1809c8(0x90),'month':'long'});document[_0x1809c8(0xbc)](_0x1809c8(0xdf))[_0x1809c8(0x12f)]=_0x494722[_0x1809c8(0x15f)](0x0)['toUpperCase']()+_0x494722[_0x1809c8(0x91)](0x1),document[_0x1809c8(0xbc)]('detTime')['textContent']=_0xc7bd[_0x1809c8(0x10d)]+_0x1809c8(0xc7)+_0xc7bd[_0x1809c8(0x9c)],document[_0x1809c8(0xbc)](_0x1809c8(0xd5))[_0x1809c8(0x12f)]=_0xc7bd['note']||_0x1809c8(0x80);const _0x25fda3=document[_0x1809c8(0xbc)](_0x1809c8(0x142)),_0x1ad7fd=document[_0x1809c8(0xbc)](_0x1809c8(0x138)),_0x15b21b=_0x1ad7fd[_0x1809c8(0x169)](_0x1809c8(0x11a)),_0x472d9f=_0x1ad7fd[_0x1809c8(0x169)](_0x1809c8(0x99)),_0x569279=document['getElementById']('cancelHint');if(_0xc7bd[_0x1809c8(0x168)]===_0x1809c8(0xa8))_0x25fda3[_0x1809c8(0x12f)]=_0x1809c8(0xc4),_0x25fda3['style'][_0x1809c8(0x149)]=_0x1809c8(0xd6),_0x1ad7fd[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x16f);else{_0x25fda3[_0x1809c8(0x12f)]=_0x1809c8(0x12d),_0x25fda3['style']['color']=_0x1809c8(0x164),_0x1ad7fd[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x10b);const _0xb00278=new Date(_0xc7bd['dateStr']+'T'+_0xc7bd[_0x1809c8(0x10d)]),_0x5c2e04=new Date(),_0x26af8c=(_0xb00278-_0x5c2e04)/(0x3e8*0x3c*0x3c),_0x35517b=coachProfiles[_0xc7bd[_0x1809c8(0x95)]]&&coachProfiles[_0xc7bd[_0x1809c8(0x95)]][_0x1809c8(0x147)]?parseInt(coachProfiles[_0xc7bd[_0x1809c8(0x95)]][_0x1809c8(0x147)]):0x18;if(_0x35517b===0x0||_0x26af8c>=_0x35517b)_0x15b21b[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x10b),_0x472d9f['style'][_0x1809c8(0xd8)]=_0x1809c8(0x10b),_0x569279[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x16f);else{_0x15b21b[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x16f),_0x472d9f['style'][_0x1809c8(0xd8)]=_0x1809c8(0x16f),_0x569279[_0x1809c8(0x93)][_0x1809c8(0xd8)]=_0x1809c8(0x10b);let _0x1294b0=_0x35517b===0x0?_0x1809c8(0xf2):_0x1809c8(0x14b)+_0x35517b+'\x20—á.';_0x569279[_0x1809c8(0x12f)]=_0x1809c8(0xae)+_0x1294b0+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x1809c8(0xbc)](_0x1809c8(0xed))[_0x1809c8(0xc8)][_0x1809c8(0x12e)](_0x1809c8(0xd0)),document['getElementById'](_0x1809c8(0x96))['classList'][_0x1809c8(0x12e)]('open');}function closeAllSheets(){const _0x4b8fc4=a3_0xd2a4cb;document['getElementById'](_0x4b8fc4(0xed))[_0x4b8fc4(0xc8)]['remove'](_0x4b8fc4(0xd0)),document['querySelectorAll'](_0x4b8fc4(0x143))['forEach'](_0x3afadb=>_0x3afadb[_0x4b8fc4(0xc8)][_0x4b8fc4(0x107)]('open'));}function openSheet(_0x36060e){const _0x40fe83=a3_0xd2a4cb;document[_0x40fe83(0xbc)](_0x40fe83(0xed))[_0x40fe83(0xc8)][_0x40fe83(0x12e)]('active'),document['getElementById'](_0x36060e)[_0x40fe83(0xc8)]['add']('open');}function getLocalDateStr(_0x40d6aa){const _0x2ac235=a3_0xd2a4cb,_0x1b5a2b=_0x40d6aa[_0x2ac235(0xd4)](),_0x373134=String(_0x40d6aa['getMonth']()+0x1)[_0x2ac235(0xd7)](0x2,'0'),_0xfa5095=String(_0x40d6aa[_0x2ac235(0xb3)]())[_0x2ac235(0xd7)](0x2,'0');return _0x1b5a2b+'-'+_0x373134+'-'+_0xfa5095;}function getStartOfWeek(_0x47e721){const _0x45b5d5=a3_0xd2a4cb,_0x210804=new Date(_0x47e721),_0x30a57c=_0x210804[_0x45b5d5(0xaf)](),_0x412162=_0x210804[_0x45b5d5(0xb3)]()-_0x30a57c+(_0x30a57c===0x0?-0x6:0x1);return _0x210804[_0x45b5d5(0x14a)](_0x412162),_0x210804['setHours'](0x0,0x0,0x0,0x0),_0x210804;}function scrollToToday(){const _0x1bffd0=getLocalDateStr(new Date());setTimeout(()=>{const _0x2ab76a=a3_0x2cb4,_0x844c77=document[_0x2ab76a(0x169)](_0x2ab76a(0xfd)+_0x1bffd0+'\x22]');if(_0x844c77){const _0x4904b2=document['getElementById'](_0x2ab76a(0xd1)),_0x498afe=_0x844c77[_0x2ab76a(0xde)]-_0x4904b2[_0x2ab76a(0x101)]/0x2+_0x844c77[_0x2ab76a(0x174)]/0x2;_0x4904b2[_0x2ab76a(0x104)]({'left':_0x498afe,'behavior':_0x2ab76a(0xc9)}),_0x4904b2[_0x2ab76a(0xe3)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5d9892=a3_0xd2a4cb,_0x3cea64=new Date(),_0x472b23=document['getElementById'](_0x5d9892(0x81)),_0x253a48=document[_0x5d9892(0xbc)](_0x5d9892(0x158)),_0x494565=(_0x3cea64[_0x5d9892(0xca)]()*0x3c+_0x3cea64[_0x5d9892(0xe4)]())/0x3c*GRID_H;_0x472b23[_0x5d9892(0x93)]['top']=_0x494565+'px',_0x472b23[_0x5d9892(0x93)][_0x5d9892(0xd8)]=_0x5d9892(0x10b),_0x253a48[_0x5d9892(0x93)][_0x5d9892(0x10f)]=_0x494565+'px',_0x253a48[_0x5d9892(0x93)]['display']=_0x5d9892(0x10b),_0x253a48[_0x5d9892(0x12f)]=String(_0x3cea64[_0x5d9892(0xca)]())['padStart'](0x2,'0')+':'+String(_0x3cea64[_0x5d9892(0xe4)]())[_0x5d9892(0xd7)](0x2,'0');}function onScroll(){const _0x5562d0=a3_0xd2a4cb,_0x50c60f=document['getElementById'](_0x5562d0(0xd1)),_0x4803df=document[_0x5562d0(0xf4)](_0x5562d0(0x8d));for(let _0xffd73a of _0x4803df)if(_0xffd73a[_0x5562d0(0xde)]>=_0x50c60f[_0x5562d0(0xeb)]){const _0x376f72=new Date(_0xffd73a['getAttribute']('data-date'));document[_0x5562d0(0xbc)](_0x5562d0(0x159))['textContent']=_0x376f72[_0x5562d0(0x13f)]('ru',{'month':_0x5562d0(0x97)})[_0x5562d0(0xa7)]()+'\x20'+_0x376f72['getFullYear']();break;}}function showToast(_0x5e4df4){const _0x104533=a3_0xd2a4cb,_0x2a185e=document[_0x104533(0xbc)](_0x104533(0xe5));_0x2a185e['textContent']=_0x5e4df4,_0x2a185e[_0x104533(0xc8)][_0x104533(0x12e)](_0x104533(0x17b)),setTimeout(()=>_0x2a185e[_0x104533(0xc8)][_0x104533(0x107)](_0x104533(0x17b)),0x7d0);}function handleInfiniteScroll(){const _0x5c8c29=a3_0xd2a4cb,_0x1d70cf=document[_0x5c8c29(0xbc)](_0x5c8c29(0xd1)),_0x515371=_0x1d70cf[_0x5c8c29(0xeb)],_0x79419c=_0x1d70cf[_0x5c8c29(0xb6)],_0x53d650=_0x1d70cf[_0x5c8c29(0x101)];if(_0x79419c-(_0x515371+_0x53d650)<0x12c){const _0x2c5302=endOffset;endOffset+=0xe,renderDayRange(_0x2c5302+0x1,endOffset),reRenderBlocks();}if(_0x515371<0x12c){const _0x38996d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x38996d-0x1),_0x1d70cf[_0x5c8c29(0xeb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x166aec,_0x1ad747){const _0x4a622f=a3_0xd2a4cb,_0x4adc3a=document[_0x4a622f(0xbc)](_0x4a622f(0x109)),_0x2fb69d=document[_0x4a622f(0xbc)]('gridColumns'),_0x50a6dc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x329586=new Date();_0x329586[_0x4a622f(0x11f)](0x0,0x0,0x0,0x0);const _0x37b76b=getLocalDateStr(new Date()),_0x2baf3c=document[_0x4a622f(0x148)](),_0x2dcc94=document[_0x4a622f(0x148)]();for(let _0x131c11=_0x166aec;_0x131c11<=_0x1ad747;_0x131c11++){const _0x5d14e5=new Date(_0x329586);_0x5d14e5['setDate'](_0x5d14e5[_0x4a622f(0xb3)]()+_0x131c11);const _0x24a328=getLocalDateStr(_0x5d14e5);let _0x2d239e=_0x5d14e5[_0x4a622f(0xaf)]()-0x1;if(_0x2d239e===-0x1)_0x2d239e=0x6;const _0x293c25=_0x24a328===_0x37b76b,_0x36bfda=document[_0x4a622f(0xc0)]('div');_0x36bfda[_0x4a622f(0x176)]=_0x4a622f(0x9f)+(_0x293c25?_0x4a622f(0xb1):''),_0x36bfda[_0x4a622f(0x136)](_0x4a622f(0xe6),_0x24a328),_0x36bfda[_0x4a622f(0xd3)]='<div\x20class=\x22dch-day\x22>'+_0x50a6dc[_0x2d239e]+_0x4a622f(0xee)+_0x5d14e5[_0x4a622f(0xb3)]()+'</div>',_0x2baf3c[_0x4a622f(0x16c)](_0x36bfda);const _0x3d80ad=document['createElement'](_0x4a622f(0x141));_0x3d80ad[_0x4a622f(0x176)]=_0x4a622f(0x9a)+(_0x293c25?'today':''),_0x3d80ad['setAttribute'](_0x4a622f(0xe6),_0x24a328),_0x3d80ad[_0x4a622f(0x136)](_0x4a622f(0x162),_0x2d239e),_0x2dcc94[_0x4a622f(0x16c)](_0x3d80ad);}_0x4adc3a[_0x4a622f(0xbb)](_0x2baf3c,_0x4adc3a['firstChild']),_0x2fb69d[_0x4a622f(0xbb)](_0x2dcc94,_0x2fb69d[_0x4a622f(0x169)](_0x4a622f(0x86)));}function hexToRgba(_0x41101e,_0x2819b3){const _0x1ba1dd=a3_0xd2a4cb;let _0x1b56eb;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1ba1dd(0x111)](_0x41101e))return _0x1b56eb=_0x41101e[_0x1ba1dd(0x121)](0x1)['split'](''),_0x1b56eb[_0x1ba1dd(0x11e)]==0x3&&(_0x1b56eb=[_0x1b56eb[0x0],_0x1b56eb[0x0],_0x1b56eb[0x1],_0x1b56eb[0x1],_0x1b56eb[0x2],_0x1b56eb[0x2]]),_0x1b56eb='0x'+_0x1b56eb[_0x1ba1dd(0x161)](''),_0x1ba1dd(0xd9)+[_0x1b56eb>>0x10&0xff,_0x1b56eb>>0x8&0xff,_0x1b56eb&0xff]['join'](',')+','+_0x2819b3+')';return _0x1ba1dd(0xb9)+_0x2819b3+')';}let confirmResolver=null;function showCustomConfirm(_0x2077dc,_0x4b3976,_0x3bf5e0=!![]){const _0x36f40b=a3_0xd2a4cb;document[_0x36f40b(0xbc)](_0x36f40b(0x14f))[_0x36f40b(0x12f)]=_0x2077dc,document['getElementById'](_0x36f40b(0x83))['textContent']=_0x4b3976;const _0x9defac=document[_0x36f40b(0xbc)](_0x36f40b(0xab));return _0x3bf5e0?(_0x9defac['style'][_0x36f40b(0x149)]=_0x36f40b(0x103),_0x9defac[_0x36f40b(0x93)][_0x36f40b(0x117)]='600'):(_0x9defac[_0x36f40b(0x93)][_0x36f40b(0x149)]='#0a84ff',_0x9defac['style'][_0x36f40b(0x117)]=_0x36f40b(0x82)),new Promise(_0x39481d=>{const _0x4a0d38=_0x36f40b;confirmResolver=_0x39481d,document['getElementById'](_0x4a0d38(0xf1))[_0x4a0d38(0xc8)][_0x4a0d38(0x12e)](_0x4a0d38(0x137));});}function resolveCustomConfirm(_0x56dd7c){const _0x363bf8=a3_0xd2a4cb;document[_0x363bf8(0xbc)](_0x363bf8(0xf1))[_0x363bf8(0xc8)][_0x363bf8(0x107)](_0x363bf8(0x137));if(confirmResolver)confirmResolver(_0x56dd7c);}async function tryCancelCurrentSession(){const _0x195b67=a3_0xd2a4cb;if(!currentSession)return;const _0x22d4f9=await showCustomConfirm(_0x195b67(0x9b),_0x195b67(0xc3),!![]);if(!_0x22d4f9)return;const _0x37802a=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x41b57d=>_0x41b57d['id']!==_0x37802a['id']),reRenderBlocks(),showToast(_0x195b67(0x178)),lastUserActionTime=Date['now']();try{const _0x358ac1=window['Telegram']?.[_0x195b67(0x135)],_0x3613cf=await fetch(API_URL,{'method':_0x195b67(0x125),'body':JSON[_0x195b67(0xbf)]({'action':'client_cancel','init_data':_0x358ac1?.[_0x195b67(0xb4)]||'','coachId':_0x37802a[_0x195b67(0x95)],'dateStr':_0x37802a['dateStr'],'sessionId':_0x37802a['id']})});if(_0x3613cf['ok'])DataManager[_0x195b67(0x9d)]();}catch(_0x388908){showToast(_0x195b67(0x140));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x18083f=a3_0xd2a4cb;if(!currentSession)return;document[_0x18083f(0xbc)](_0x18083f(0x96))[_0x18083f(0xc8)]['remove'](_0x18083f(0x116)),document[_0x18083f(0xbc)](_0x18083f(0x114))[_0x18083f(0xc8)]['add'](_0x18083f(0x116));const _0xef8d49=document['getElementById'](_0x18083f(0x12b)),_0x2d2775=document[_0x18083f(0xbc)]('rsSlotsGrid');_0xef8d49[_0x18083f(0xd3)]='',_0x2d2775[_0x18083f(0xd3)]=_0x18083f(0xa9);const [_0x27a9d9,_0x566f32]=currentSession[_0x18083f(0x10d)][_0x18083f(0xac)](':')[_0x18083f(0x12c)](Number),[_0x55810f,_0xd3f565]=currentSession[_0x18083f(0x9c)]['split'](':')[_0x18083f(0x12c)](Number),_0xb2f8a5=_0x55810f*0x3c+_0xd3f565-(_0x27a9d9*0x3c+_0x566f32);try{const _0x1cf13a=window[_0x18083f(0x16d)]?.[_0x18083f(0x135)],_0x38b14d=await fetch(API_URL,{'method':'POST','body':JSON[_0x18083f(0xbf)]({'action':_0x18083f(0x11c),'coachId':currentSession[_0x18083f(0x95)],'duration':_0xb2f8a5,'init_data':_0x1cf13a?.[_0x18083f(0xb4)]||'','excludeSessionId':currentSession['id']})}),_0x3a242f=await _0x38b14d[_0x18083f(0x122)]();_0x3a242f['ok']&&_0x3a242f['data']?(availableSlotsCache=_0x3a242f[_0x18083f(0x10c)],renderRescheduleDates()):_0x2d2775[_0x18083f(0xd3)]=_0x18083f(0x13d);}catch(_0x207f8c){_0x2d2775[_0x18083f(0xd3)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x2a1cd8=a3_0xd2a4cb,_0x6ca296=document[_0x2a1cd8(0xbc)](_0x2a1cd8(0x12b));_0x6ca296[_0x2a1cd8(0xd3)]='';const _0x114da5=Object[_0x2a1cd8(0x17a)](availableSlotsCache)[_0x2a1cd8(0x120)](),_0x4f6ebd=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x114da5[_0x2a1cd8(0x11e)]===0x0){document[_0x2a1cd8(0xbc)](_0x2a1cd8(0x10e))['innerHTML']=_0x2a1cd8(0xa2);return;}_0x114da5[_0x2a1cd8(0x145)]((_0x296ad4,_0x4ba973)=>{const _0x1076e4=_0x2a1cd8,_0x71ea59=new Date(_0x296ad4),_0x30ea9d=_0x4f6ebd[_0x71ea59[_0x1076e4(0xaf)]()],_0x41d3b3=_0x71ea59[_0x1076e4(0xb3)](),_0xe2f01f=document[_0x1076e4(0xc0)](_0x1076e4(0x141));_0xe2f01f['className']='rs-date-chip';if(_0x4ba973===0x0)_0xe2f01f[_0x1076e4(0xc8)][_0x1076e4(0x12e)](_0x1076e4(0xd0));_0xe2f01f[_0x1076e4(0xd3)]=_0x1076e4(0x15b)+_0x30ea9d+_0x1076e4(0x98)+_0x41d3b3+_0x1076e4(0x173),_0xe2f01f['onclick']=()=>selectRsDate(_0x296ad4,_0xe2f01f),_0x6ca296[_0x1076e4(0x16c)](_0xe2f01f);}),selectRsDate(_0x114da5[0x0],_0x6ca296['firstChild']);}function selectRsDate(_0x2a124a,_0x13bb78){const _0x48fbaf=a3_0xd2a4cb;selectedRsDate=_0x2a124a,document['querySelectorAll'](_0x48fbaf(0x154))[_0x48fbaf(0x145)](_0x3e80c2=>_0x3e80c2[_0x48fbaf(0xc8)]['remove'](_0x48fbaf(0xd0)));if(_0x13bb78)_0x13bb78['classList']['add'](_0x48fbaf(0xd0));const _0x38805a=document[_0x48fbaf(0xbc)]('rsSlotsGrid');_0x38805a[_0x48fbaf(0xd3)]='';const _0x226e6e=availableSlotsCache[_0x2a124a]||[];if(_0x226e6e[_0x48fbaf(0x11e)]===0x0){_0x38805a['innerHTML']=_0x48fbaf(0x13d);return;}_0x226e6e[_0x48fbaf(0x145)](_0x41bcb6=>{const _0x33cc98=_0x48fbaf,_0x118754=document[_0x33cc98(0xc0)](_0x33cc98(0xff));_0x118754['className']='rs-time-btn',_0x118754[_0x33cc98(0x12f)]=_0x41bcb6,_0x118754[_0x33cc98(0x14c)]=()=>confirmReschedule(_0x41bcb6),_0x38805a[_0x33cc98(0x16c)](_0x118754);});}async function confirmReschedule(_0x4e6764){const _0xc79ec=a3_0xd2a4cb,_0x161633=new Date(selectedRsDate),_0x5b3bbe=_0x161633[_0xc79ec(0x15d)](_0xc79ec(0x144),{'day':_0xc79ec(0x90),'month':'long'}),_0x4ce144=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0xc79ec(0x167)+_0x5b3bbe+_0xc79ec(0xb0)+_0x4e6764+'?',![]);if(!_0x4ce144)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0xc79ec(0x146)]();const _0x5c9b3e=currentSession[_0xc79ec(0xbd)],_0x56b410=currentSession['id'],[_0x12becd,_0x41f304]=currentSession[_0xc79ec(0x10d)][_0xc79ec(0xac)](':')['map'](Number),[_0x395118,_0x47f942]=currentSession[_0xc79ec(0x9c)]['split'](':')['map'](Number),_0x1c42fb=_0x395118*0x3c+_0x47f942-(_0x12becd*0x3c+_0x41f304),[_0x495526,_0x3f1b83]=_0x4e6764[_0xc79ec(0xac)](':')['map'](Number),_0x37d965=_0x495526*0x3c+_0x3f1b83+_0x1c42fb,_0x3aa52a=Math[_0xc79ec(0x155)](_0x37d965/0x3c),_0x151a11=_0x37d965%0x3c,_0x24981f=String(_0x3aa52a)[_0xc79ec(0xd7)](0x2,'0')+':'+String(_0x151a11)['padStart'](0x2,'0'),_0x4b2f86=sessions['findIndex'](_0x499c9d=>_0x499c9d['id']===_0x56b410);_0x4b2f86!==-0x1&&(sessions[_0x4b2f86]['dateStr']=selectedRsDate,sessions[_0x4b2f86][_0xc79ec(0x10d)]=_0x4e6764,sessions[_0x4b2f86][_0xc79ec(0x9c)]=_0x24981f,reRenderBlocks());try{const _0x103a07=window[_0xc79ec(0x16d)]?.[_0xc79ec(0x135)],_0x2bfae8=await fetch(API_URL,{'method':_0xc79ec(0x125),'body':JSON[_0xc79ec(0xbf)]({'action':'reschedule','init_data':_0x103a07?.['initData']||'','oldSessionId':_0x56b410,'oldDate':_0x5c9b3e,'newDate':selectedRsDate,'newTime':_0x4e6764,'coachId':currentSession[_0xc79ec(0x95)]})}),_0x487663=await _0x2bfae8[_0xc79ec(0x122)]();!_0x487663['ok']?(showToast(_0xc79ec(0xce)),DataManager[_0xc79ec(0x84)]()):(showToast(_0xc79ec(0xe2)),DataManager[_0xc79ec(0x9d)]());}catch(_0x562ea1){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0xd2a4cb(0xe8)](a3_0xd2a4cb(0x119),init);