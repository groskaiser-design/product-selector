const a3_0x39b0c9=a3_0x2858;(function(_0x540e0d,_0x36a9b6){const _0x47fa05=a3_0x2858,_0x4030bb=_0x540e0d();while(!![]){try{const _0x443256=-parseInt(_0x47fa05(0x2c5))/0x1+-parseInt(_0x47fa05(0x213))/0x2+-parseInt(_0x47fa05(0x206))/0x3*(-parseInt(_0x47fa05(0x1ff))/0x4)+parseInt(_0x47fa05(0x29e))/0x5+-parseInt(_0x47fa05(0x2cc))/0x6+parseInt(_0x47fa05(0x2db))/0x7*(-parseInt(_0x47fa05(0x20a))/0x8)+-parseInt(_0x47fa05(0x2bb))/0x9*(-parseInt(_0x47fa05(0x25e))/0xa);if(_0x443256===_0x36a9b6)break;else _0x4030bb['push'](_0x4030bb['shift']());}catch(_0x620433){_0x4030bb['push'](_0x4030bb['shift']());}}}(a3_0x2af3,0x59459));const APP_VERSION=a3_0x39b0c9(0x268),API_URL=a3_0x39b0c9(0x1f8),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x39b0c9(0x24b),KEY_CLIENTS=a3_0x39b0c9(0x29d);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x39b0c9(0x2b9),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1ad700=a3_0x39b0c9,_0xeabad0=(function(){let _0x50000b=!![];return function(_0x353c0f,_0x2bdb66){const _0x497dc0=_0x50000b?function(){if(_0x2bdb66){const _0x373d39=_0x2bdb66['apply'](_0x353c0f,arguments);return _0x2bdb66=null,_0x373d39;}}:function(){};return _0x50000b=![],_0x497dc0;};}()),_0x675949=_0xeabad0(this,function(){const _0x18ee0f=a3_0x2858;return _0x675949[_0x18ee0f(0x25b)]()[_0x18ee0f(0x294)](_0x18ee0f(0x27b))[_0x18ee0f(0x25b)]()[_0x18ee0f(0x2af)](_0x675949)[_0x18ee0f(0x294)]('(((.+)+)+)+$');});_0x675949();try{const _0x2e2d1b=window[_0x1ad700(0x243)]?.['WebApp'];if(!_0x2e2d1b)return;_0x2e2d1b[_0x1ad700(0x22a)](),_0x2e2d1b[_0x1ad700(0x23a)]();try{_0x2e2d1b[_0x1ad700(0x2e4)](_0x1ad700(0x252)),_0x2e2d1b[_0x1ad700(0x2e6)]&&_0x2e2d1b['setBackgroundColor'](_0x1ad700(0x252));}catch(_0x1b0cc9){console[_0x1ad700(0x2dc)]('Error\x20setting\x20color:',_0x1b0cc9);}try{_0x2e2d1b[_0x1ad700(0x2c2)]&&(_0x2e2d1b[_0x1ad700(0x2c2)]['show'](),_0x2e2d1b[_0x1ad700(0x2c2)][_0x1ad700(0x242)](),_0x2e2d1b[_0x1ad700(0x2c2)][_0x1ad700(0x223)](function(){const _0x21a61b=_0x1ad700;window[_0x21a61b(0x214)][_0x21a61b(0x2ec)]=_0x21a61b(0x2c1);}));}catch(_0x566ce2){console[_0x1ad700(0x2dc)]('Error\x20setting\x20back\x20button:',_0x566ce2);}try{if(_0x2e2d1b[_0x1ad700(0x267)])_0x2e2d1b[_0x1ad700(0x267)]();}catch(_0x2934b2){}}catch(_0x4b386f){console[_0x1ad700(0x2d6)](_0x1ad700(0x1f6),_0x4b386f);}}());function isAdmin(){const _0x3aa970=a3_0x39b0c9;try{const _0x75a02c=Number(window[_0x3aa970(0x243)]?.[_0x3aa970(0x22c)]?.[_0x3aa970(0x2ed)]?.[_0x3aa970(0x218)]?.['id']);return _0x75a02c===0xbaf7174;}catch(_0xa67b6b){return![];}}const DataManager={'saveLocally'(){const _0x1f33d3=a3_0x39b0c9;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x1f33d3(0x219)](sessions)),localStorage[_0x1f33d3(0x2b6)](KEY_CLIENTS,JSON[_0x1f33d3(0x219)](clients)),localStorage[_0x1f33d3(0x2b6)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x178684){}},'loadLocal'(){const _0x199d0a=a3_0x39b0c9;try{const _0x340c8c=localStorage[_0x199d0a(0x2d2)](KEY_SESSIONS);if(_0x340c8c)sessions=JSON[_0x199d0a(0x296)](_0x340c8c);const _0x194bbd=localStorage[_0x199d0a(0x2d2)](KEY_CLIENTS);if(_0x194bbd)clients=JSON['parse'](_0x194bbd);const _0x79f265=localStorage[_0x199d0a(0x2d2)](KEY_SETTINGS);if(_0x79f265){const _0x219ae0=JSON['parse'](_0x79f265);if(_0x219ae0[_0x199d0a(0x211)])availabilityPattern=_0x219ae0[_0x199d0a(0x211)];if(_0x219ae0[_0x199d0a(0x239)])specialRanges=_0x219ae0['ranges'];if(_0x219ae0['exceptions'])dateExceptions=_0x219ae0[_0x199d0a(0x235)];}}catch(_0x5dbe2b){}},async 'syncLoad'(){const _0x416b0c=a3_0x39b0c9,_0xd11f33=new Date(),_0x13fa39=_0xd11f33[_0x416b0c(0x270)]()+'-'+String(_0xd11f33[_0x416b0c(0x23d)]()+0x1)['padStart'](0x2,'0'),_0x26a197=new Date(_0xd11f33);_0x26a197['setMonth'](_0xd11f33[_0x416b0c(0x23d)]()+0x1);const _0xe227e8=_0x26a197[_0x416b0c(0x270)]()+'-'+String(_0x26a197[_0x416b0c(0x23d)]()+0x1)[_0x416b0c(0x25d)](0x2,'0'),_0x1f5941=Date[_0x416b0c(0x28e)]();try{const _0x491c3f=window['Telegram']?.[_0x416b0c(0x22c)],_0x89142c=_0x491c3f?.['initData']||'',[_0x43bd90,_0x52e982]=await Promise[_0x416b0c(0x236)]([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x416b0c(0x22b),'init_data':_0x89142c,'month_str':_0x13fa39})})[_0x416b0c(0x281)](_0x2152c1=>_0x2152c1[_0x416b0c(0x2a4)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x416b0c(0x219)]({'action':_0x416b0c(0x22b),'init_data':_0x89142c,'month_str':_0xe227e8})})[_0x416b0c(0x281)](_0x5c4498=>_0x5c4498[_0x416b0c(0x2a4)]())]);if(lastUserActionTime>_0x1f5941){console['log'](_0x416b0c(0x25a));return;}if(_0x43bd90['ok'])this[_0x416b0c(0x2ae)](_0x43bd90[_0x416b0c(0x264)],_0x13fa39);if(_0x52e982['ok'])this[_0x416b0c(0x2ae)](_0x52e982[_0x416b0c(0x264)],_0xe227e8);this[_0x416b0c(0x263)]();}catch(_0x166259){}},'applyData'(_0x4fee69,_0x233727){const _0x1070ec=a3_0x39b0c9;if(!_0x4fee69)return;if(_0x4fee69[_0x1070ec(0x2be)]){if(_0x4fee69['settings'][_0x1070ec(0x211)])availabilityPattern=_0x4fee69[_0x1070ec(0x2be)][_0x1070ec(0x211)];if(_0x4fee69['settings'][_0x1070ec(0x239)])specialRanges=_0x4fee69[_0x1070ec(0x2be)][_0x1070ec(0x239)];if(_0x4fee69[_0x1070ec(0x2be)][_0x1070ec(0x235)])dateExceptions=_0x4fee69[_0x1070ec(0x2be)]['exceptions'];}if(_0x4fee69[_0x1070ec(0x258)]&&Array[_0x1070ec(0x269)](_0x4fee69[_0x1070ec(0x258)]))clients=_0x4fee69[_0x1070ec(0x258)];_0x4fee69[_0x1070ec(0x2d8)]&&(coachProfiles={...coachProfiles,..._0x4fee69[_0x1070ec(0x2d8)]}),_0x4fee69['calendar']&&(sessions=sessions[_0x1070ec(0x26f)](_0x50f1fb=>!_0x50f1fb[_0x1070ec(0x257)][_0x1070ec(0x2e7)](_0x233727)),Object[_0x1070ec(0x23c)](_0x4fee69['calendar'])['forEach'](_0x41a5c4=>{const _0x50b05a=_0x1070ec,_0x154f43=_0x4fee69[_0x50b05a(0x2bd)][_0x41a5c4];_0x154f43[_0x50b05a(0x20f)](_0x21a3b4=>{const _0x470471=_0x50b05a;sessions[_0x470471(0x2d0)]({'id':_0x21a3b4['i'],'clientId':_0x21a3b4['c'],'coachId':_0x21a3b4[_0x470471(0x2aa)],'dateStr':_0x233727+'-'+_0x41a5c4[_0x470471(0x25d)](0x2,'0'),'start':_0x21a3b4['s'],'end':_0x21a3b4['e'],'note':_0x21a3b4['n']||'','status':_0x21a3b4['st']||_0x470471(0x2d7),'seriesId':_0x21a3b4[_0x470471(0x2c0)]});});})),reRenderBlocks();}};function a3_0x2af3(){const _0x561698=['today','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','toString','textContent','padStart','1012350cFUejh','detStatus','\x20-\x20','firstChild','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','saveLocally','data','status','toast','disableVerticalSwipes','v9.5-CLIENT-ANALYTICS','isArray','createElement','headerMonth','zIndex','calc(','height','filter','getFullYear','anStart','.btn-cancel','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','.rs-date-chip','%\x20+\x202px)','getDate','ru-RU','Unknown','event-card','(((.+)+)+)+$','auto','var(--acc-green)','block','data-day-idx','colIndex','then','.sheet','open','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end','cancelled','POST','loadLocal','ccYesBtn','style','var(--acc-blue)','\x20–∏–∑\x20','setHours','now','rescheduleSheet','px\x20-','anCustomDates','matrixViewport','data-date','search','fontWeight','parse','left','clientWidth','min','<span>','button','max','uc_client_list','1644345IezMaH','clientId','active','numeric','timeColumn','getTime','json','setDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','px\x200px','cancelHint','total','cid','detTime','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','.period-switch\x20.p-btn','applyData','constructor','done',':00</span>','setAttribute','length','analyticsSheet','ccText','setItem','split','seriesId','week','<div\x20class=\x22rs-day-name\x22>','99WGGbwS','</div><div\x20class=\x22dch-num\x22>','calendar','settings','strokeDashoffset','sid','router.html','BackButton','time-label','<div\x20class=\x22dch-day\x22>','528684EHdKZm','.day-column','getMinutes','rs-time-btn','client-stat-card','offsetLeft','stopPropagation','3274230UpBSMO','rsDatesTrack','%\x20-\x204px)','anTotalStats','push','start','getItem','long','customConfirm','div','error','planned','coach_profiles','month','.day-col-header','69811izzWwy','log','find','toLocaleDateString','coachId','add','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','none','substr','setHeaderColor','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','setBackgroundColor','startsWith','substring','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','top','#ff453a','href','initDataUnsafe','rsSlotsGrid','remove','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getAttribute','scrollLeft','findIndex','map','slice','flex','cancel_window','Critical\x20TMA\x20Error:','#0a84ff','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','show','ccTitle','initData','toUpperCase','getElementById','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','1362220OMjiJC','classList','syncLoad','toLocaleString','\x20–≤\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','gridColumns','3qzxuoN','day-col-header\x20','completed','backgroundPosition','272JQckQt','value','analyticsList','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','cancelContainer','forEach','color','pattern','createDocumentFragment','7762GIvvBa','location','appendChild','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','user','stringify','detNote','sort','className','charAt','600','</div>','rgba(10,\x20132,\x20255,\x20','DOMContentLoaded','mini','onClick','overlay','.btn-reschedule','addEventListener','visible','join','innerHTML','ready','client_load','WebApp','daysHeaderTrack','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header[data-date=\x22','width','backgroundColor','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','querySelector','borderLeftColor','exceptions','all','anEnd','floor','ranges','expand','querySelectorAll','keys','getMonth','scrollWidth','rgba(','timeLineBadge','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','offClick','Telegram','custom','display','insertBefore','onclick','test','globalTimeLine','–∑–∞\x20','uc_client_settings','get_slots','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','</div><div\x20class=\x22rs-day-num\x22>','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','round','client_cancel','#050505','entries','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detDate','getDay','dateStr','clients'];a3_0x2af3=function(){return _0x561698;};return a3_0x2af3();}function init(){const _0x398ae0=a3_0x39b0c9;DataManager[_0x398ae0(0x288)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x398ae0(0x1fd)](_0x398ae0(0x292))[_0x398ae0(0x226)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x59b909=a3_0x39b0c9,_0x448247=document[_0x59b909(0x1fd)](_0x59b909(0x2a2)),_0x5d8bec=document[_0x59b909(0x1fd)](_0x59b909(0x240));_0x448247[_0x59b909(0x229)]='',_0x448247[_0x59b909(0x215)](_0x5d8bec);for(let _0x3cf175=0x0;_0x3cf175<0x18;_0x3cf175++){const _0x5741e1=document[_0x59b909(0x26a)](_0x59b909(0x2d5));_0x5741e1[_0x59b909(0x21c)]=_0x59b909(0x2c3);if(_0x3cf175>0x0)_0x5741e1[_0x59b909(0x229)]=_0x59b909(0x29a)+String(_0x3cf175)[_0x59b909(0x25d)](0x2,'0')+_0x59b909(0x2b1);_0x448247['appendChild'](_0x5741e1);}}function renderDayRange(_0xb1feb0,_0x4a55ad){const _0x2eafb9=a3_0x39b0c9,_0x41a33f=document[_0x2eafb9(0x1fd)](_0x2eafb9(0x22d)),_0x495845=document[_0x2eafb9(0x1fd)](_0x2eafb9(0x205)),_0x447321=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x422077=new Date();_0x422077[_0x2eafb9(0x28d)](0x0,0x0,0x0,0x0);const _0xaa96b2=getLocalDateStr(new Date());for(let _0x2aac18=_0xb1feb0;_0x2aac18<=_0x4a55ad;_0x2aac18++){const _0x10c9f6=new Date(_0x422077);_0x10c9f6['setDate'](_0x10c9f6[_0x2eafb9(0x277)]()+_0x2aac18);const _0x3ea6eb=getLocalDateStr(_0x10c9f6);let _0x3209d2=_0x10c9f6[_0x2eafb9(0x256)]()-0x1;if(_0x3209d2===-0x1)_0x3209d2=0x6;const _0x3da3cf=_0x3ea6eb===_0xaa96b2,_0x2c2ed0=document[_0x2eafb9(0x26a)](_0x2eafb9(0x2d5));_0x2c2ed0['className']=_0x2eafb9(0x207)+(_0x3da3cf?_0x2eafb9(0x259):''),_0x2c2ed0[_0x2eafb9(0x2b2)](_0x2eafb9(0x293),_0x3ea6eb),_0x2c2ed0[_0x2eafb9(0x229)]=_0x2eafb9(0x2c4)+_0x447321[_0x3209d2]+'</div><div\x20class=\x22dch-num\x22>'+_0x10c9f6['getDate']()+'</div>',_0x41a33f[_0x2eafb9(0x215)](_0x2c2ed0);const _0x1db7bb=document[_0x2eafb9(0x26a)](_0x2eafb9(0x2d5));_0x1db7bb[_0x2eafb9(0x21c)]='day-column\x20'+(_0x3da3cf?_0x2eafb9(0x259):''),_0x1db7bb[_0x2eafb9(0x2b2)]('data-date',_0x3ea6eb),_0x1db7bb['setAttribute'](_0x2eafb9(0x27f),_0x3209d2),_0x495845[_0x2eafb9(0x215)](_0x1db7bb);}}function reRenderBlocks(){const _0x2f6e8f=a3_0x39b0c9;document['querySelectorAll'](_0x2f6e8f(0x2c6))[_0x2f6e8f(0x20f)](_0x490617=>{const _0x13cd91=_0x2f6e8f;_0x490617[_0x13cd91(0x23b)](_0x13cd91(0x254))['forEach'](_0x2a6e9f=>_0x2a6e9f['remove']());const _0x2c3a3b=_0x490617[_0x13cd91(0x2f1)]('data-date'),_0x7855ab=parseInt(_0x490617[_0x13cd91(0x2f1)](_0x13cd91(0x27f))),_0x4837ce=Math['round'](_0x490617[_0x13cd91(0x2ca)]);(availabilityPattern[_0x7855ab]||[])[_0x13cd91(0x20f)](_0x5f0d35=>{const _0x19471d=_0x13cd91,_0x4c82d2=document[_0x19471d(0x26a)](_0x19471d(0x2d5));_0x4c82d2[_0x19471d(0x21c)]='blocked-slot\x20stripe-bg',_0x4c82d2['style'][_0x19471d(0x2ea)]=_0x5f0d35*GRID_H+'px',_0x4c82d2[_0x19471d(0x28a)]['backgroundPosition']='-'+_0x4837ce+_0x19471d(0x290)+_0x5f0d35*GRID_H+'px',_0x490617[_0x19471d(0x215)](_0x4c82d2);});if(specialRanges['length']>0x0){const _0x1c598c=new Date(_0x2c3a3b+'T00:00:00')[_0x13cd91(0x2a3)](),_0x112712=new Date(_0x2c3a3b+'T23:59:59')[_0x13cd91(0x2a3)]();specialRanges[_0x13cd91(0x20f)](_0x12cda2=>{const _0xe8302d=_0x13cd91,_0x3ca46b=new Date(_0x12cda2[_0xe8302d(0x2d1)])[_0xe8302d(0x2a3)](),_0x3ce39e=new Date(_0x12cda2[_0xe8302d(0x285)])[_0xe8302d(0x2a3)](),_0x50cb92=Math['max'](_0x1c598c,_0x3ca46b),_0x19c8fc=Math[_0xe8302d(0x299)](_0x112712,_0x3ce39e);if(_0x50cb92<_0x19c8fc){const _0x5f2277=(_0x50cb92-_0x1c598c)/0x36ee80*GRID_H,_0x240384=(_0x19c8fc-_0x50cb92)/0x36ee80*GRID_H,_0x5a2f2f=document[_0xe8302d(0x26a)](_0xe8302d(0x2d5));_0x240384>=23.5*GRID_H?(_0x5a2f2f[_0xe8302d(0x21c)]='day-off-overlay\x20stripe-bg',_0x5a2f2f[_0xe8302d(0x28a)]['backgroundPosition']='-'+_0x4837ce+_0xe8302d(0x2a7)):(_0x5a2f2f['className']='blocked-range-part\x20stripe-bg',_0x5a2f2f[_0xe8302d(0x28a)][_0xe8302d(0x2ea)]=_0x5f2277+'px',_0x5a2f2f[_0xe8302d(0x28a)]['height']=_0x240384+'px',_0x5a2f2f[_0xe8302d(0x28a)][_0xe8302d(0x209)]='-'+_0x4837ce+_0xe8302d(0x290)+_0x5f2277+'px'),_0x490617['appendChild'](_0x5a2f2f);}});}renderEventsForColumn(_0x490617,_0x2c3a3b);});}function renderEventsForColumn(_0x848329,_0x54942c){const _0x57cf83=a3_0x39b0c9,_0x360013=sessions[_0x57cf83(0x26f)](_0x389af8=>_0x389af8[_0x57cf83(0x257)]===_0x54942c),_0x2ebc26=_0x360013[_0x57cf83(0x2f4)](_0x2223e8=>{const _0x410fd0=_0x57cf83,[_0x4cc3f8,_0x422f23]=_0x2223e8[_0x410fd0(0x2d1)][_0x410fd0(0x2b7)](':')[_0x410fd0(0x2f4)](Number),[_0x3548be,_0xdea3cd]=_0x2223e8[_0x410fd0(0x285)][_0x410fd0(0x2b7)](':')[_0x410fd0(0x2f4)](Number);return{'data':_0x2223e8,'start':_0x4cc3f8*0x3c+_0x422f23,'end':_0x3548be*0x3c+_0xdea3cd,'colIndex':0x0};});_0x2ebc26[_0x57cf83(0x21b)]((_0x5a0c39,_0x2030b7)=>_0x5a0c39[_0x57cf83(0x2d1)]-_0x2030b7[_0x57cf83(0x2d1)]||_0x2030b7['end']-_0x2030b7[_0x57cf83(0x2d1)]-(_0x5a0c39[_0x57cf83(0x285)]-_0x5a0c39[_0x57cf83(0x2d1)]));const _0x2642c3=[];_0x2ebc26[_0x57cf83(0x20f)](_0x35f598=>{const _0x36199b=_0x57cf83;let _0x5668a4=![];for(let _0x57d812=0x0;_0x57d812<_0x2642c3['length'];_0x57d812++){const _0x2d2508=_0x2642c3[_0x57d812];if(_0x35f598['start']>=_0x2d2508[_0x2d2508[_0x36199b(0x2b3)]-0x1][_0x36199b(0x285)]){_0x2d2508['push'](_0x35f598),_0x35f598[_0x36199b(0x280)]=_0x57d812,_0x5668a4=!![];break;}}!_0x5668a4&&(_0x2642c3[_0x36199b(0x2d0)]([_0x35f598]),_0x35f598[_0x36199b(0x280)]=_0x2642c3[_0x36199b(0x2b3)]-0x1);}),_0x2ebc26['forEach'](_0x29bb90=>{const _0x520571=_0x57cf83;let _0x40fc0d=0x0;_0x2ebc26[_0x520571(0x20f)](_0x373c8d=>{const _0x6927b3=_0x520571;if(Math['max'](_0x29bb90['start'],_0x373c8d[_0x6927b3(0x2d1)])<Math[_0x6927b3(0x299)](_0x29bb90[_0x6927b3(0x285)],_0x373c8d[_0x6927b3(0x285)])&&_0x373c8d[_0x6927b3(0x280)]>_0x40fc0d)_0x40fc0d=_0x373c8d[_0x6927b3(0x280)];});const _0x44e666=_0x40fc0d+0x1,_0x2b7e55=0x64/_0x44e666,_0x531526=_0x29bb90[_0x520571(0x280)]*_0x2b7e55,_0x396ae8=document[_0x520571(0x26a)]('div'),_0x907d2e=_0x29bb90[_0x520571(0x264)];let _0x2ae1c5='#0a84ff';if(clients&&clients['length']>0x0){const _0x143737=clients[_0x520571(0x2dd)](_0x1f2d01=>String(_0x1f2d01['id'])===String(_0x907d2e[_0x520571(0x29f)]));if(_0x143737&&_0x143737['color'])_0x2ae1c5=_0x143737[_0x520571(0x210)];}const _0x2dac78=_0x907d2e[_0x520571(0x265)]===_0x520571(0x208),_0xc8a789=_0x2dac78?0x1:0.45;_0x396ae8[_0x520571(0x21c)]=_0x520571(0x27a)+(_0x2dac78?'\x20status-completed':''),_0x396ae8[_0x520571(0x28a)][_0x520571(0x231)]=hexToRgba(_0x2ae1c5,_0xc8a789),_0x396ae8[_0x520571(0x28a)][_0x520571(0x234)]=_0x2ae1c5;const _0x4bf3f5=_0x29bb90[_0x520571(0x2d1)]/0x3c*GRID_H,_0x45790b=(_0x29bb90[_0x520571(0x285)]-_0x29bb90[_0x520571(0x2d1)])/0x3c*GRID_H;_0x396ae8[_0x520571(0x28a)][_0x520571(0x2ea)]=_0x4bf3f5+'px',_0x396ae8[_0x520571(0x28a)][_0x520571(0x26e)]=Math[_0x520571(0x29c)](_0x45790b,0x14)+'px',_0x396ae8[_0x520571(0x28a)][_0x520571(0x230)]=_0x520571(0x26d)+_0x2b7e55+_0x520571(0x2ce),_0x396ae8[_0x520571(0x28a)][_0x520571(0x297)]='calc('+_0x531526+_0x520571(0x276),_0x396ae8['style'][_0x520571(0x26c)]=0xa+_0x29bb90['colIndex'];if(_0x2b7e55<0x55)_0x396ae8[_0x520571(0x200)]['add'](_0x520571(0x222));let _0x22bcc0='';if(_0x907d2e[_0x520571(0x2b8)])_0x22bcc0+=_0x520571(0x1fe);if(_0x2dac78)_0x22bcc0+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x396ae8[_0x520571(0x229)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x907d2e[_0x520571(0x2d1)]+'\x20-\x20'+_0x907d2e[_0x520571(0x285)]+_0x520571(0x22e)+_0x22bcc0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x396ae8[_0x520571(0x247)]=_0x1de247=>{const _0x47e6d8=_0x520571;_0x1de247[_0x47e6d8(0x2cb)](),openDetails(_0x907d2e);},_0x848329['appendChild'](_0x396ae8);});}function openAnalytics(){const _0x5db794=a3_0x39b0c9,_0x87670c=document[_0x5db794(0x233)](_0x5db794(0x2ad));setAnalyticsPeriod(_0x5db794(0x2b9),_0x87670c),openSheet(_0x5db794(0x2b4));}function setAnalyticsPeriod(_0x589620,_0x350f85){const _0x3b7aa9=a3_0x39b0c9;currentAnPeriod=_0x589620,document[_0x3b7aa9(0x23b)]('.period-switch\x20.p-btn')['forEach'](_0x59d7c7=>_0x59d7c7[_0x3b7aa9(0x200)]['remove']('active'));if(_0x350f85)_0x350f85[_0x3b7aa9(0x200)][_0x3b7aa9(0x2e0)]('active');const _0x3f81d8=document['getElementById'](_0x3b7aa9(0x291));_0x3f81d8['style'][_0x3b7aa9(0x245)]=_0x589620===_0x3b7aa9(0x244)?_0x3b7aa9(0x1f4):_0x3b7aa9(0x2e2);const _0x3a2a9e=new Date();let _0x21fb69=new Date(),_0x129ee2=new Date();if(_0x589620===_0x3b7aa9(0x2b9))_0x21fb69=getStartOfWeek(_0x3a2a9e),_0x129ee2=new Date(_0x21fb69),_0x129ee2['setDate'](_0x129ee2[_0x3b7aa9(0x277)]()+0x6);else{if(_0x589620===_0x3b7aa9(0x2d9))_0x21fb69=new Date(_0x3a2a9e['getFullYear'](),_0x3a2a9e[_0x3b7aa9(0x23d)](),0x1),_0x129ee2=new Date(_0x3a2a9e['getFullYear'](),_0x3a2a9e[_0x3b7aa9(0x23d)]()+0x1,0x0);else{!document[_0x3b7aa9(0x1fd)]('anStart')[_0x3b7aa9(0x20b)]&&(document[_0x3b7aa9(0x1fd)](_0x3b7aa9(0x271))[_0x3b7aa9(0x20b)]=getLocalDateStr(_0x3a2a9e),document[_0x3b7aa9(0x1fd)]('anEnd')['value']=getLocalDateStr(_0x3a2a9e));refreshAnalytics();return;}}document[_0x3b7aa9(0x1fd)](_0x3b7aa9(0x271))[_0x3b7aa9(0x20b)]=getLocalDateStr(_0x21fb69),document[_0x3b7aa9(0x1fd)](_0x3b7aa9(0x237))[_0x3b7aa9(0x20b)]=getLocalDateStr(_0x129ee2),refreshAnalytics();}function refreshAnalytics(){const _0x115f5c=a3_0x39b0c9,_0x425b60=document['getElementById']('anStart')['value'],_0x3ceff4=document[_0x115f5c(0x1fd)](_0x115f5c(0x237))[_0x115f5c(0x20b)];if(!_0x425b60||!_0x3ceff4)return;const _0x2b695b=sessions[_0x115f5c(0x26f)](_0x3d7964=>_0x3d7964[_0x115f5c(0x257)]>=_0x425b60&&_0x3d7964[_0x115f5c(0x257)]<=_0x3ceff4&&_0x3d7964[_0x115f5c(0x265)]!==_0x115f5c(0x286)),_0x1df71d=_0x2b695b['length'],_0x1e6535=_0x2b695b[_0x115f5c(0x26f)](_0x5b6056=>_0x5b6056[_0x115f5c(0x265)]===_0x115f5c(0x208))['length'],_0xc9c94=_0x1df71d>0x0?Math[_0x115f5c(0x250)](_0x1e6535/_0x1df71d*0x64):0x0;document[_0x115f5c(0x1fd)]('anPercent')[_0x115f5c(0x25c)]=_0xc9c94+'%',document[_0x115f5c(0x1fd)](_0x115f5c(0x2cf))['textContent']=_0x1e6535+_0x115f5c(0x28c)+_0x1df71d+_0x115f5c(0x2f0);const _0x42525e=document[_0x115f5c(0x1fd)]('anDonutCircle'),_0x3240c8=0x2*Math['PI']*0x23,_0x30ed82=_0x3240c8-_0xc9c94/0x64*_0x3240c8;_0x42525e[_0x115f5c(0x28a)][_0x115f5c(0x2bf)]=_0x30ed82;const _0xd72b3e={};_0x2b695b[_0x115f5c(0x20f)](_0x3d0929=>{const _0x4e82c2=_0x115f5c,_0x39912a=_0x3d0929[_0x4e82c2(0x2df)]||_0x4e82c2(0x279);if(!_0xd72b3e[_0x39912a]){const _0x5a80fc='#'+_0x39912a['toString']()['substr'](0x0,0x6);_0xd72b3e[_0x39912a]={'total':0x0,'done':0x0,'color':_0x5a80fc};}_0xd72b3e[_0x39912a]['total']++;if(_0x3d0929[_0x4e82c2(0x265)]==='completed')_0xd72b3e[_0x39912a]['done']++;});const _0x21c90d=document[_0x115f5c(0x1fd)](_0x115f5c(0x20c));_0x21c90d[_0x115f5c(0x229)]='';const _0x7143ba=Object[_0x115f5c(0x253)](_0xd72b3e)[_0x115f5c(0x21b)]((_0x3dc6cc,_0x2d5c24)=>_0x2d5c24[0x1][_0x115f5c(0x2a9)]-_0x3dc6cc[0x1][_0x115f5c(0x2a9)]);if(_0x7143ba[_0x115f5c(0x2b3)]===0x0){_0x21c90d['innerHTML']=_0x115f5c(0x20d);return;}_0x7143ba['forEach'](([_0x1de773,_0x1db24b])=>{const _0x5e7933=_0x115f5c,_0x1a85e3=Math[_0x5e7933(0x250)](_0x1db24b['done']/_0x1db24b[_0x5e7933(0x2a9)]*0x64),_0x48a4dd=document['createElement']('div');_0x48a4dd[_0x5e7933(0x21c)]=_0x5e7933(0x2c9),_0x48a4dd['style'][_0x5e7933(0x234)]=_0x1db24b[_0x5e7933(0x210)],_0x48a4dd[_0x5e7933(0x229)]=_0x5e7933(0x204)+_0x1de773[_0x5e7933(0x2e3)](0x0,0x5)+_0x5e7933(0x2e9)+_0x1db24b[_0x5e7933(0x2b0)]+'</span>\x20/\x20'+_0x1db24b[_0x5e7933(0x2a9)]+_0x5e7933(0x2a6)+_0x1a85e3+_0x5e7933(0x284),_0x21c90d[_0x5e7933(0x215)](_0x48a4dd);});}function openDetails(_0x5bb5cf){const _0x231f1d=a3_0x39b0c9;currentSession=_0x5bb5cf;const _0x45f7f2=new Date(_0x5bb5cf[_0x231f1d(0x257)]),_0x120186=_0x45f7f2['toLocaleDateString'](_0x231f1d(0x278),{'weekday':_0x231f1d(0x2d3),'day':'numeric','month':_0x231f1d(0x2d3)});document[_0x231f1d(0x1fd)](_0x231f1d(0x255))[_0x231f1d(0x25c)]=_0x120186[_0x231f1d(0x21d)](0x0)[_0x231f1d(0x1fc)]()+_0x120186[_0x231f1d(0x1f3)](0x1),document[_0x231f1d(0x1fd)](_0x231f1d(0x2ab))[_0x231f1d(0x25c)]=_0x5bb5cf[_0x231f1d(0x2d1)]+_0x231f1d(0x260)+_0x5bb5cf[_0x231f1d(0x285)],document[_0x231f1d(0x1fd)](_0x231f1d(0x21a))[_0x231f1d(0x25c)]=_0x5bb5cf['note']||_0x231f1d(0x24d);const _0x277d0b=document[_0x231f1d(0x1fd)](_0x231f1d(0x25f)),_0x1ea6c8=document[_0x231f1d(0x1fd)](_0x231f1d(0x20e)),_0x5d8b7f=_0x1ea6c8[_0x231f1d(0x233)](_0x231f1d(0x272)),_0x504662=_0x1ea6c8['querySelector'](_0x231f1d(0x225)),_0xac2977=document[_0x231f1d(0x1fd)](_0x231f1d(0x2a8));if(_0x5bb5cf['status']===_0x231f1d(0x208))_0x277d0b[_0x231f1d(0x25c)]=_0x231f1d(0x262),_0x277d0b[_0x231f1d(0x28a)][_0x231f1d(0x210)]=_0x231f1d(0x27d),_0x1ea6c8[_0x231f1d(0x28a)][_0x231f1d(0x245)]=_0x231f1d(0x2e2);else{_0x277d0b[_0x231f1d(0x25c)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x277d0b[_0x231f1d(0x28a)][_0x231f1d(0x210)]=_0x231f1d(0x28b),_0x1ea6c8[_0x231f1d(0x28a)][_0x231f1d(0x245)]=_0x231f1d(0x27e);const _0x287f7f=new Date(_0x5bb5cf[_0x231f1d(0x257)]+'T'+_0x5bb5cf['start']),_0x45514d=new Date(),_0x165559=(_0x287f7f-_0x45514d)/(0x3e8*0x3c*0x3c),_0xc72a1=coachProfiles[_0x5bb5cf[_0x231f1d(0x2df)]]&&coachProfiles[_0x5bb5cf[_0x231f1d(0x2df)]][_0x231f1d(0x1f5)]?parseInt(coachProfiles[_0x5bb5cf[_0x231f1d(0x2df)]][_0x231f1d(0x1f5)]):0x18;if(_0xc72a1===0x0||_0x165559>=_0xc72a1)_0x5d8b7f['style'][_0x231f1d(0x245)]=_0x231f1d(0x27e),_0x504662['style'][_0x231f1d(0x245)]=_0x231f1d(0x27e),_0xac2977[_0x231f1d(0x28a)][_0x231f1d(0x245)]=_0x231f1d(0x2e2);else{_0x5d8b7f[_0x231f1d(0x28a)][_0x231f1d(0x245)]=_0x231f1d(0x2e2),_0x504662[_0x231f1d(0x28a)]['display']=_0x231f1d(0x2e2),_0xac2977[_0x231f1d(0x28a)]['display']='block';let _0x4a712c=_0xc72a1===0x0?_0x231f1d(0x273):_0x231f1d(0x24a)+_0xc72a1+'\x20—á.';_0xac2977[_0x231f1d(0x25c)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x4a712c+_0x231f1d(0x241);}}document[_0x231f1d(0x1fd)](_0x231f1d(0x224))['classList'][_0x231f1d(0x2e0)]('active'),document[_0x231f1d(0x1fd)]('detailsSheet')[_0x231f1d(0x200)][_0x231f1d(0x2e0)](_0x231f1d(0x283));}function closeAllSheets(){const _0x5ed11e=a3_0x39b0c9;document[_0x5ed11e(0x1fd)](_0x5ed11e(0x224))[_0x5ed11e(0x200)][_0x5ed11e(0x2ef)]('active'),document[_0x5ed11e(0x23b)](_0x5ed11e(0x282))['forEach'](_0x22a4d6=>_0x22a4d6[_0x5ed11e(0x200)][_0x5ed11e(0x2ef)](_0x5ed11e(0x283)));}function a3_0x2858(_0x4d5116,_0x3ef337){_0x4d5116=_0x4d5116-0x1f3;const _0x3da16c=a3_0x2af3();let _0x50584b=_0x3da16c[_0x4d5116];return _0x50584b;}function openSheet(_0x4267a5){const _0x31596b=a3_0x39b0c9;document[_0x31596b(0x1fd)](_0x31596b(0x224))[_0x31596b(0x200)][_0x31596b(0x2e0)](_0x31596b(0x2a0)),document['getElementById'](_0x4267a5)[_0x31596b(0x200)][_0x31596b(0x2e0)](_0x31596b(0x283));}function getLocalDateStr(_0x4d2594){const _0x1a69d6=a3_0x39b0c9,_0x12dbf9=_0x4d2594[_0x1a69d6(0x270)](),_0x44dac5=String(_0x4d2594[_0x1a69d6(0x23d)]()+0x1)[_0x1a69d6(0x25d)](0x2,'0'),_0xcbebed=String(_0x4d2594[_0x1a69d6(0x277)]())['padStart'](0x2,'0');return _0x12dbf9+'-'+_0x44dac5+'-'+_0xcbebed;}function getStartOfWeek(_0x401b66){const _0x3cfab6=a3_0x39b0c9,_0x4ec070=new Date(_0x401b66),_0x2fcbb6=_0x4ec070['getDay'](),_0x1020a9=_0x4ec070[_0x3cfab6(0x277)]()-_0x2fcbb6+(_0x2fcbb6===0x0?-0x6:0x1);return _0x4ec070[_0x3cfab6(0x2a5)](_0x1020a9),_0x4ec070[_0x3cfab6(0x28d)](0x0,0x0,0x0,0x0),_0x4ec070;}function scrollToToday(){const _0x412484=getLocalDateStr(new Date());setTimeout(()=>{const _0xa8355b=a3_0x2858,_0x3ae313=document['querySelector'](_0xa8355b(0x22f)+_0x412484+'\x22]');if(_0x3ae313){const _0x5b1cf1=document[_0xa8355b(0x1fd)](_0xa8355b(0x292)),_0x40d9f0=_0x3ae313[_0xa8355b(0x2ca)]-_0x5b1cf1['clientWidth']/0x2+_0x3ae313['offsetWidth']/0x2;_0x5b1cf1['scrollTo']({'left':_0x40d9f0,'behavior':_0xa8355b(0x27c)}),_0x5b1cf1['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x49f537=a3_0x39b0c9,_0x5816cf=new Date(),_0x473cfa=document['getElementById'](_0x49f537(0x249)),_0x11124a=document[_0x49f537(0x1fd)](_0x49f537(0x240)),_0x108c6e=(_0x5816cf['getHours']()*0x3c+_0x5816cf[_0x49f537(0x2c7)]())/0x3c*GRID_H;_0x473cfa[_0x49f537(0x28a)][_0x49f537(0x2ea)]=_0x108c6e+'px',_0x473cfa[_0x49f537(0x28a)][_0x49f537(0x245)]=_0x49f537(0x27e),_0x11124a[_0x49f537(0x28a)][_0x49f537(0x2ea)]=_0x108c6e+'px',_0x11124a[_0x49f537(0x28a)]['display']=_0x49f537(0x27e),_0x11124a[_0x49f537(0x25c)]=String(_0x5816cf['getHours']())[_0x49f537(0x25d)](0x2,'0')+':'+String(_0x5816cf[_0x49f537(0x2c7)]())[_0x49f537(0x25d)](0x2,'0');}function onScroll(){const _0x1188f6=a3_0x39b0c9,_0x41ee47=document[_0x1188f6(0x1fd)](_0x1188f6(0x292)),_0x360111=document[_0x1188f6(0x23b)](_0x1188f6(0x2da));for(let _0x34a066 of _0x360111)if(_0x34a066[_0x1188f6(0x2ca)]>=_0x41ee47[_0x1188f6(0x2f2)]){const _0x521a88=new Date(_0x34a066[_0x1188f6(0x2f1)](_0x1188f6(0x293)));document[_0x1188f6(0x1fd)](_0x1188f6(0x26b))[_0x1188f6(0x25c)]=_0x521a88[_0x1188f6(0x202)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x521a88['getFullYear']();break;}}function showToast(_0x463f18){const _0x1e67f2=a3_0x39b0c9,_0x4c037f=document[_0x1e67f2(0x1fd)](_0x1e67f2(0x266));_0x4c037f[_0x1e67f2(0x25c)]=_0x463f18,_0x4c037f[_0x1e67f2(0x200)][_0x1e67f2(0x2e0)](_0x1e67f2(0x1f9)),setTimeout(()=>_0x4c037f[_0x1e67f2(0x200)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x3619cf=a3_0x39b0c9,_0x3e937d=document['getElementById'](_0x3619cf(0x292)),_0x352373=_0x3e937d['scrollLeft'],_0x3a6555=_0x3e937d[_0x3619cf(0x23e)],_0x39ff26=_0x3e937d[_0x3619cf(0x298)];if(_0x3a6555-(_0x352373+_0x39ff26)<0x12c){const _0x2143d5=endOffset;endOffset+=0xe,renderDayRange(_0x2143d5+0x1,endOffset),reRenderBlocks();}if(_0x352373<0x12c){const _0x5c9630=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5c9630-0x1),_0x3e937d['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xc4f652,_0x4bfbaf){const _0x5c2abb=a3_0x39b0c9,_0x93bf6c=document['getElementById'](_0x5c2abb(0x22d)),_0x4a4ee3=document[_0x5c2abb(0x1fd)](_0x5c2abb(0x205)),_0x47a272=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29b192=new Date();_0x29b192[_0x5c2abb(0x28d)](0x0,0x0,0x0,0x0);const _0x3e1fbb=getLocalDateStr(new Date()),_0x4caabd=document[_0x5c2abb(0x212)](),_0x30ba74=document[_0x5c2abb(0x212)]();for(let _0x3f6a99=_0xc4f652;_0x3f6a99<=_0x4bfbaf;_0x3f6a99++){const _0x576774=new Date(_0x29b192);_0x576774['setDate'](_0x576774[_0x5c2abb(0x277)]()+_0x3f6a99);const _0x5ede63=getLocalDateStr(_0x576774);let _0x3cd3f1=_0x576774[_0x5c2abb(0x256)]()-0x1;if(_0x3cd3f1===-0x1)_0x3cd3f1=0x6;const _0x1eeae1=_0x5ede63===_0x3e1fbb,_0x20fcbf=document['createElement'](_0x5c2abb(0x2d5));_0x20fcbf['className']=_0x5c2abb(0x207)+(_0x1eeae1?_0x5c2abb(0x259):''),_0x20fcbf[_0x5c2abb(0x2b2)](_0x5c2abb(0x293),_0x5ede63),_0x20fcbf[_0x5c2abb(0x229)]=_0x5c2abb(0x2c4)+_0x47a272[_0x3cd3f1]+_0x5c2abb(0x2bc)+_0x576774[_0x5c2abb(0x277)]()+_0x5c2abb(0x21f),_0x4caabd[_0x5c2abb(0x215)](_0x20fcbf);const _0x9315ae=document['createElement'](_0x5c2abb(0x2d5));_0x9315ae['className']='day-column\x20'+(_0x1eeae1?'today':''),_0x9315ae['setAttribute'](_0x5c2abb(0x293),_0x5ede63),_0x9315ae[_0x5c2abb(0x2b2)]('data-day-idx',_0x3cd3f1),_0x30ba74[_0x5c2abb(0x215)](_0x9315ae);}_0x93bf6c[_0x5c2abb(0x246)](_0x4caabd,_0x93bf6c['firstChild']),_0x4a4ee3[_0x5c2abb(0x246)](_0x30ba74,_0x4a4ee3[_0x5c2abb(0x233)]('.day-column'));}function hexToRgba(_0x1494aa,_0x5bb111){const _0x44c764=a3_0x39b0c9;let _0x478f5b;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x44c764(0x248)](_0x1494aa))return _0x478f5b=_0x1494aa[_0x44c764(0x2e8)](0x1)[_0x44c764(0x2b7)](''),_0x478f5b[_0x44c764(0x2b3)]==0x3&&(_0x478f5b=[_0x478f5b[0x0],_0x478f5b[0x0],_0x478f5b[0x1],_0x478f5b[0x1],_0x478f5b[0x2],_0x478f5b[0x2]]),_0x478f5b='0x'+_0x478f5b[_0x44c764(0x228)](''),_0x44c764(0x23f)+[_0x478f5b>>0x10&0xff,_0x478f5b>>0x8&0xff,_0x478f5b&0xff][_0x44c764(0x228)](',')+','+_0x5bb111+')';return _0x44c764(0x220)+_0x5bb111+')';}let confirmResolver=null;function showCustomConfirm(_0x52d119,_0x551b41,_0xd66653=!![]){const _0xd412b1=a3_0x39b0c9;document[_0xd412b1(0x1fd)](_0xd412b1(0x1fa))['textContent']=_0x52d119,document[_0xd412b1(0x1fd)](_0xd412b1(0x2b5))[_0xd412b1(0x25c)]=_0x551b41;const _0x38242c=document[_0xd412b1(0x1fd)](_0xd412b1(0x289));return _0xd66653?(_0x38242c['style'][_0xd412b1(0x210)]=_0xd412b1(0x2eb),_0x38242c[_0xd412b1(0x28a)][_0xd412b1(0x295)]=_0xd412b1(0x21e)):(_0x38242c[_0xd412b1(0x28a)]['color']=_0xd412b1(0x1f7),_0x38242c[_0xd412b1(0x28a)][_0xd412b1(0x295)]='600'),new Promise(_0x1753e7=>{const _0x3938d8=_0xd412b1;confirmResolver=_0x1753e7,document[_0x3938d8(0x1fd)](_0x3938d8(0x2d4))['classList'][_0x3938d8(0x2e0)](_0x3938d8(0x227));});}function resolveCustomConfirm(_0x52422e){const _0x48a10d=a3_0x39b0c9;document[_0x48a10d(0x1fd)](_0x48a10d(0x2d4))[_0x48a10d(0x200)][_0x48a10d(0x2ef)](_0x48a10d(0x227));if(confirmResolver)confirmResolver(_0x52422e);}async function tryCancelCurrentSession(){const _0xd98795=a3_0x39b0c9;if(!currentSession)return;const _0x461b4e=await showCustomConfirm(_0xd98795(0x232),_0xd98795(0x2ac),!![]);if(!_0x461b4e)return;const _0x4bf11a=currentSession;closeAllSheets(),sessions=sessions[_0xd98795(0x26f)](_0x5a07e0=>_0x5a07e0['id']!==_0x4bf11a['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0xd98795(0x28e)]();try{const _0x5083b6=window[_0xd98795(0x243)]?.[_0xd98795(0x22c)],_0x27ec95=await fetch(API_URL,{'method':_0xd98795(0x287),'body':JSON[_0xd98795(0x219)]({'action':_0xd98795(0x251),'init_data':_0x5083b6?.['initData']||'','coachId':_0x4bf11a[_0xd98795(0x2df)],'dateStr':_0x4bf11a[_0xd98795(0x257)],'sessionId':_0x4bf11a['id']})});if(_0x27ec95['ok'])DataManager['saveLocally']();}catch(_0x41925d){showToast(_0xd98795(0x216));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x21f754=a3_0x39b0c9;if(!currentSession)return;document[_0x21f754(0x1fd)]('detailsSheet')[_0x21f754(0x200)][_0x21f754(0x2ef)](_0x21f754(0x283)),document[_0x21f754(0x1fd)](_0x21f754(0x28f))['classList'][_0x21f754(0x2e0)]('open');const _0x2f82e3=document[_0x21f754(0x1fd)](_0x21f754(0x2cd)),_0x1d4fa1=document[_0x21f754(0x1fd)](_0x21f754(0x2ee));_0x2f82e3[_0x21f754(0x229)]='',_0x1d4fa1[_0x21f754(0x229)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x1db05f,_0x3daecb]=currentSession[_0x21f754(0x2d1)][_0x21f754(0x2b7)](':')['map'](Number),[_0xd2636,_0x49f6ce]=currentSession[_0x21f754(0x285)][_0x21f754(0x2b7)](':')[_0x21f754(0x2f4)](Number),_0xf4d41c=_0xd2636*0x3c+_0x49f6ce-(_0x1db05f*0x3c+_0x3daecb);try{const _0x195512=window['Telegram']?.[_0x21f754(0x22c)],_0x4e6b25=await fetch(API_URL,{'method':'POST','body':JSON[_0x21f754(0x219)]({'action':_0x21f754(0x24c),'coachId':currentSession[_0x21f754(0x2df)],'duration':_0xf4d41c,'init_data':_0x195512?.[_0x21f754(0x1fb)]||'','excludeSessionId':currentSession['id']})}),_0x484df5=await _0x4e6b25[_0x21f754(0x2a4)]();_0x484df5['ok']&&_0x484df5[_0x21f754(0x264)]?(availableSlotsCache=_0x484df5[_0x21f754(0x264)],renderRescheduleDates()):_0x1d4fa1['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x2ca794){_0x1d4fa1[_0x21f754(0x229)]=_0x21f754(0x274);}}function renderRescheduleDates(){const _0x269d9e=a3_0x39b0c9,_0x362288=document['getElementById'](_0x269d9e(0x2cd));_0x362288['innerHTML']='';const _0x133cb9=Object[_0x269d9e(0x23c)](availableSlotsCache)[_0x269d9e(0x21b)](),_0x2bc2ba=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x133cb9[_0x269d9e(0x2b3)]===0x0){document[_0x269d9e(0x1fd)]('rsSlotsGrid')[_0x269d9e(0x229)]=_0x269d9e(0x217);return;}_0x133cb9[_0x269d9e(0x20f)]((_0x5b9e05,_0x5ea99c)=>{const _0x279677=_0x269d9e,_0x530cf0=new Date(_0x5b9e05),_0x35bcd1=_0x2bc2ba[_0x530cf0['getDay']()],_0x2fd158=_0x530cf0[_0x279677(0x277)](),_0x20ab80=document[_0x279677(0x26a)](_0x279677(0x2d5));_0x20ab80[_0x279677(0x21c)]='rs-date-chip';if(_0x5ea99c===0x0)_0x20ab80[_0x279677(0x200)][_0x279677(0x2e0)](_0x279677(0x2a0));_0x20ab80['innerHTML']=_0x279677(0x2ba)+_0x35bcd1+_0x279677(0x24e)+_0x2fd158+_0x279677(0x21f),_0x20ab80[_0x279677(0x247)]=()=>selectRsDate(_0x5b9e05,_0x20ab80),_0x362288[_0x279677(0x215)](_0x20ab80);}),selectRsDate(_0x133cb9[0x0],_0x362288[_0x269d9e(0x261)]);}function selectRsDate(_0x2b33cf,_0x48a769){const _0xf9b224=a3_0x39b0c9;selectedRsDate=_0x2b33cf,document[_0xf9b224(0x23b)](_0xf9b224(0x275))[_0xf9b224(0x20f)](_0x279905=>_0x279905[_0xf9b224(0x200)][_0xf9b224(0x2ef)](_0xf9b224(0x2a0)));if(_0x48a769)_0x48a769[_0xf9b224(0x200)]['add'](_0xf9b224(0x2a0));const _0x528ce7=document['getElementById'](_0xf9b224(0x2ee));_0x528ce7[_0xf9b224(0x229)]='';const _0xfd9ba8=availableSlotsCache[_0x2b33cf]||[];if(_0xfd9ba8[_0xf9b224(0x2b3)]===0x0){_0x528ce7[_0xf9b224(0x229)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0xfd9ba8['forEach'](_0x41db71=>{const _0x20ca04=_0xf9b224,_0x1aef96=document[_0x20ca04(0x26a)](_0x20ca04(0x29b));_0x1aef96[_0x20ca04(0x21c)]=_0x20ca04(0x2c8),_0x1aef96[_0x20ca04(0x25c)]=_0x41db71,_0x1aef96[_0x20ca04(0x247)]=()=>confirmReschedule(_0x41db71),_0x528ce7[_0x20ca04(0x215)](_0x1aef96);});}async function confirmReschedule(_0x51f9f3){const _0x3f9e4a=a3_0x39b0c9,_0x37b506=new Date(selectedRsDate),_0xe5cb5d=_0x37b506[_0x3f9e4a(0x2de)](_0x3f9e4a(0x278),{'day':_0x3f9e4a(0x2a1),'month':_0x3f9e4a(0x2d3)}),_0x18a048=await showCustomConfirm(_0x3f9e4a(0x24f),_0x3f9e4a(0x2e1)+_0xe5cb5d+_0x3f9e4a(0x203)+_0x51f9f3+'?',![]);if(!_0x18a048)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x3f9e4a(0x28e)]();const _0x2051d2=currentSession['dateStr'],_0x4420e6=currentSession['id'],[_0x1a1482,_0x325eb4]=currentSession[_0x3f9e4a(0x2d1)][_0x3f9e4a(0x2b7)](':')[_0x3f9e4a(0x2f4)](Number),[_0x565547,_0x3dada6]=currentSession[_0x3f9e4a(0x285)][_0x3f9e4a(0x2b7)](':')[_0x3f9e4a(0x2f4)](Number),_0x5278ba=_0x565547*0x3c+_0x3dada6-(_0x1a1482*0x3c+_0x325eb4),[_0x31ecd4,_0x1e35f4]=_0x51f9f3[_0x3f9e4a(0x2b7)](':')[_0x3f9e4a(0x2f4)](Number),_0x357706=_0x31ecd4*0x3c+_0x1e35f4+_0x5278ba,_0x4ad636=Math[_0x3f9e4a(0x238)](_0x357706/0x3c),_0x42c769=_0x357706%0x3c,_0x1eb317=String(_0x4ad636)[_0x3f9e4a(0x25d)](0x2,'0')+':'+String(_0x42c769)[_0x3f9e4a(0x25d)](0x2,'0'),_0x55ae74=sessions[_0x3f9e4a(0x2f3)](_0x53ceda=>_0x53ceda['id']===_0x4420e6);_0x55ae74!==-0x1&&(sessions[_0x55ae74]['dateStr']=selectedRsDate,sessions[_0x55ae74][_0x3f9e4a(0x2d1)]=_0x51f9f3,sessions[_0x55ae74]['end']=_0x1eb317,reRenderBlocks());try{const _0x1816a3=window['Telegram']?.[_0x3f9e4a(0x22c)],_0x5314c9=await fetch(API_URL,{'method':_0x3f9e4a(0x287),'body':JSON[_0x3f9e4a(0x219)]({'action':'reschedule','init_data':_0x1816a3?.[_0x3f9e4a(0x1fb)]||'','oldSessionId':_0x4420e6,'oldDate':_0x2051d2,'newDate':selectedRsDate,'newTime':_0x51f9f3,'coachId':currentSession[_0x3f9e4a(0x2df)]})}),_0x3b92bf=await _0x5314c9[_0x3f9e4a(0x2a4)]();!_0x3b92bf['ok']?(showToast(_0x3f9e4a(0x2e5)),DataManager[_0x3f9e4a(0x201)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x3f9e4a(0x263)]());}catch(_0x3ad416){showToast(_0x3f9e4a(0x216));}}document[a3_0x39b0c9(0x226)](a3_0x39b0c9(0x221),init);