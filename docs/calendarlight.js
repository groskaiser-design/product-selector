const a3_0x5fed97=a3_0x57f7;(function(_0x192ce8,_0x5683df){const _0x55f048=a3_0x57f7,_0xd2b403=_0x192ce8();while(!![]){try{const _0x48619e=parseInt(_0x55f048(0x1ed))/0x1+parseInt(_0x55f048(0x223))/0x2*(parseInt(_0x55f048(0x1c0))/0x3)+-parseInt(_0x55f048(0x159))/0x4+-parseInt(_0x55f048(0x18f))/0x5+parseInt(_0x55f048(0x1f1))/0x6+-parseInt(_0x55f048(0x1ae))/0x7*(parseInt(_0x55f048(0x219))/0x8)+parseInt(_0x55f048(0x14b))/0x9;if(_0x48619e===_0x5683df)break;else _0xd2b403['push'](_0xd2b403['shift']());}catch(_0x5888c7){_0xd2b403['push'](_0xd2b403['shift']());}}}(a3_0x205d,0x70bf7));const APP_VERSION=a3_0x5fed97(0x225),API_URL=a3_0x5fed97(0x15c),GRID_H=0x3c,KEY_SESSIONS=a3_0x5fed97(0x213),KEY_SETTINGS=a3_0x5fed97(0x227),KEY_CLIENTS=a3_0x5fed97(0x1d9);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x316261=a3_0x5fed97,_0x1bcf48=(function(){let _0x2163ac=!![];return function(_0x2c7a84,_0x1fca53){const _0x5c8c26=_0x2163ac?function(){const _0x385aa4=a3_0x57f7;if(_0x1fca53){const _0x76f11b=_0x1fca53[_0x385aa4(0x166)](_0x2c7a84,arguments);return _0x1fca53=null,_0x76f11b;}}:function(){};return _0x2163ac=![],_0x5c8c26;};}()),_0x2d6a82=_0x1bcf48(this,function(){const _0xfd7b61=a3_0x57f7;return _0x2d6a82[_0xfd7b61(0x1e0)]()[_0xfd7b61(0x1e3)]('(((.+)+)+)+$')[_0xfd7b61(0x1e0)]()['constructor'](_0x2d6a82)['search'](_0xfd7b61(0x1a1));});_0x2d6a82();try{const _0x5dcdc0=window['Telegram']?.[_0x316261(0x1a0)];if(!_0x5dcdc0)return;_0x5dcdc0['ready'](),_0x5dcdc0[_0x316261(0x1e9)]();try{_0x5dcdc0[_0x316261(0x1f4)](_0x316261(0x220)),_0x5dcdc0[_0x316261(0x17a)]&&_0x5dcdc0['setBackgroundColor']('#050505');}catch(_0x524af){console[_0x316261(0x165)]('Error\x20setting\x20color:',_0x524af);}try{_0x5dcdc0['BackButton']&&(_0x5dcdc0['BackButton'][_0x316261(0x1e2)](),_0x5dcdc0[_0x316261(0x1c6)][_0x316261(0x198)](),_0x5dcdc0[_0x316261(0x1c6)][_0x316261(0x149)](function(){const _0x13b0a2=_0x316261;window[_0x13b0a2(0x1c4)][_0x13b0a2(0x185)]=_0x13b0a2(0x1cc);}));}catch(_0x547e34){console[_0x316261(0x165)](_0x316261(0x194),_0x547e34);}try{if(_0x5dcdc0['disableVerticalSwipes'])_0x5dcdc0['disableVerticalSwipes']();}catch(_0x488b6c){}}catch(_0x9b6bfc){console[_0x316261(0x22b)](_0x316261(0x158),_0x9b6bfc);}}());function isAdmin(){const _0x4f9ddc=a3_0x5fed97;try{const _0x932b3f=Number(window[_0x4f9ddc(0x1d0)]?.[_0x4f9ddc(0x1a0)]?.['initDataUnsafe']?.[_0x4f9ddc(0x1b8)]?.['id']);return _0x932b3f===0xbaf7174;}catch(_0x29c9de){return![];}}const DataManager={'saveLocally'(){const _0x95251c=a3_0x5fed97;try{localStorage[_0x95251c(0x217)](KEY_SESSIONS,JSON[_0x95251c(0x1b2)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x95251c(0x217)](KEY_SETTINGS,JSON[_0x95251c(0x1b2)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x49717e){}},'loadLocal'(){const _0x43c9d8=a3_0x5fed97;try{const _0xa16329=localStorage[_0x43c9d8(0x154)](KEY_SESSIONS);if(_0xa16329)sessions=JSON[_0x43c9d8(0x1eb)](_0xa16329);const _0x58d4aa=localStorage['getItem'](KEY_CLIENTS);if(_0x58d4aa)clients=JSON[_0x43c9d8(0x1eb)](_0x58d4aa);const _0x5212c2=localStorage['getItem'](KEY_SETTINGS);if(_0x5212c2){const _0x418afc=JSON['parse'](_0x5212c2);if(_0x418afc[_0x43c9d8(0x1e7)])availabilityPattern=_0x418afc['pattern'];if(_0x418afc[_0x43c9d8(0x13f)])specialRanges=_0x418afc[_0x43c9d8(0x13f)];if(_0x418afc[_0x43c9d8(0x1ca)])dateExceptions=_0x418afc[_0x43c9d8(0x1ca)];}}catch(_0x357978){}},async 'syncLoad'(){const _0x1bc33f=a3_0x5fed97,_0x1176c7=new Date(),_0x14d4ec=_0x1176c7['getFullYear']()+'-'+String(_0x1176c7[_0x1bc33f(0x177)]()+0x1)[_0x1bc33f(0x15d)](0x2,'0'),_0x2e4775=new Date(_0x1176c7);_0x2e4775[_0x1bc33f(0x1d6)](_0x1176c7[_0x1bc33f(0x177)]()+0x1);const _0x284b37=_0x2e4775[_0x1bc33f(0x21c)]()+'-'+String(_0x2e4775[_0x1bc33f(0x177)]()+0x1)[_0x1bc33f(0x15d)](0x2,'0'),_0x38de9e=Date[_0x1bc33f(0x1b4)]();try{const _0x5cb6a8=window[_0x1bc33f(0x1d0)]?.[_0x1bc33f(0x1a0)],_0x67425b=_0x5cb6a8?.[_0x1bc33f(0x1f3)]||'',[_0x5e819c,_0x5603fb]=await Promise['all']([fetch(API_URL,{'method':_0x1bc33f(0x170),'body':JSON[_0x1bc33f(0x1b2)]({'action':_0x1bc33f(0x13e),'init_data':_0x67425b,'month_str':_0x14d4ec})})[_0x1bc33f(0x1b3)](_0x2b66ed=>_0x2b66ed[_0x1bc33f(0x1a4)]()),fetch(API_URL,{'method':_0x1bc33f(0x170),'body':JSON[_0x1bc33f(0x1b2)]({'action':_0x1bc33f(0x13e),'init_data':_0x67425b,'month_str':_0x284b37})})[_0x1bc33f(0x1b3)](_0x54b048=>_0x54b048['json']())]);if(lastUserActionTime>_0x38de9e){console[_0x1bc33f(0x165)](_0x1bc33f(0x143));return;}if(_0x5e819c['ok'])this['applyData'](_0x5e819c['data'],_0x14d4ec);if(_0x5603fb['ok'])this['applyData'](_0x5603fb[_0x1bc33f(0x19e)],_0x284b37);this['saveLocally']();}catch(_0x2dc0f7){}},'applyData'(_0x55ee16,_0x274276){const _0x2eccbd=a3_0x5fed97;if(!_0x55ee16)return;if(_0x55ee16[_0x2eccbd(0x215)]){if(_0x55ee16['settings'][_0x2eccbd(0x1e7)])availabilityPattern=_0x55ee16[_0x2eccbd(0x215)][_0x2eccbd(0x1e7)];if(_0x55ee16[_0x2eccbd(0x215)][_0x2eccbd(0x13f)])specialRanges=_0x55ee16[_0x2eccbd(0x215)][_0x2eccbd(0x13f)];if(_0x55ee16['settings'][_0x2eccbd(0x1ca)])dateExceptions=_0x55ee16[_0x2eccbd(0x215)][_0x2eccbd(0x1ca)];}if(_0x55ee16[_0x2eccbd(0x196)]&&Array[_0x2eccbd(0x209)](_0x55ee16[_0x2eccbd(0x196)]))clients=_0x55ee16['clients'];_0x55ee16[_0x2eccbd(0x200)]&&(coachProfiles={...coachProfiles,..._0x55ee16[_0x2eccbd(0x200)]}),_0x55ee16[_0x2eccbd(0x22c)]&&(sessions=sessions[_0x2eccbd(0x1ad)](_0x4daea0=>!_0x4daea0[_0x2eccbd(0x1e8)]['startsWith'](_0x274276)),Object['keys'](_0x55ee16[_0x2eccbd(0x22c)])['forEach'](_0x569955=>{const _0x3979ca=_0x2eccbd,_0x201e21=_0x55ee16[_0x3979ca(0x22c)][_0x569955];_0x201e21['forEach'](_0x3cbec1=>{const _0x436aac=_0x3979ca;sessions[_0x436aac(0x136)]({'id':_0x3cbec1['i'],'clientId':_0x3cbec1['c'],'coachId':_0x3cbec1['cid'],'dateStr':_0x274276+'-'+_0x569955[_0x436aac(0x15d)](0x2,'0'),'start':_0x3cbec1['s'],'end':_0x3cbec1['e'],'note':_0x3cbec1['n']||'','status':_0x3cbec1['st']||'planned','seriesId':_0x3cbec1[_0x436aac(0x1cb)]});});})),reRenderBlocks();}};function init(){const _0x251630=a3_0x5fed97;DataManager[_0x251630(0x180)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x251630(0x20f)](_0x251630(0x135))['addEventListener'](_0x251630(0x15a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x251630(0x138)]();}function renderTimeColumn(){const _0x320cc5=a3_0x5fed97,_0x4bba2c=document[_0x320cc5(0x20f)]('timeColumn'),_0x583633=document['getElementById'](_0x320cc5(0x15e));_0x4bba2c[_0x320cc5(0x178)]='',_0x4bba2c[_0x320cc5(0x182)](_0x583633);for(let _0x286158=0x0;_0x286158<0x18;_0x286158++){const _0x2e3b6e=document[_0x320cc5(0x16c)](_0x320cc5(0x1a7));_0x2e3b6e[_0x320cc5(0x1e1)]=_0x320cc5(0x1e6);if(_0x286158>0x0)_0x2e3b6e[_0x320cc5(0x178)]=_0x320cc5(0x139)+String(_0x286158)[_0x320cc5(0x15d)](0x2,'0')+':00</span>';_0x4bba2c[_0x320cc5(0x182)](_0x2e3b6e);}}function renderDayRange(_0x22898e,_0x6218da){const _0x1cd478=a3_0x5fed97,_0x1d69ac=document['getElementById'](_0x1cd478(0x222)),_0x453195=document[_0x1cd478(0x20f)]('gridColumns'),_0x100560=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xba8209=new Date();_0xba8209[_0x1cd478(0x211)](0x0,0x0,0x0,0x0);const _0x4af6e2=getLocalDateStr(new Date());for(let _0x494617=_0x22898e;_0x494617<=_0x6218da;_0x494617++){const _0x412dc7=new Date(_0xba8209);_0x412dc7[_0x1cd478(0x14a)](_0x412dc7['getDate']()+_0x494617);const _0xf7294f=getLocalDateStr(_0x412dc7);let _0x3aa62c=_0x412dc7[_0x1cd478(0x1c2)]()-0x1;if(_0x3aa62c===-0x1)_0x3aa62c=0x6;const _0x445cd9=_0xf7294f===_0x4af6e2,_0x468566=document['createElement'](_0x1cd478(0x1a7));_0x468566[_0x1cd478(0x1e1)]='day-col-header\x20'+(_0x445cd9?_0x1cd478(0x150):''),_0x468566[_0x1cd478(0x1ff)]('data-date',_0xf7294f),_0x468566['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x100560[_0x3aa62c]+'</div><div\x20class=\x22dch-num\x22>'+_0x412dc7['getDate']()+_0x1cd478(0x1f6),_0x1d69ac[_0x1cd478(0x182)](_0x468566);const _0x2ab0d7=document[_0x1cd478(0x16c)](_0x1cd478(0x1a7));_0x2ab0d7[_0x1cd478(0x1e1)]='day-column\x20'+(_0x445cd9?_0x1cd478(0x150):''),_0x2ab0d7[_0x1cd478(0x1ff)](_0x1cd478(0x167),_0xf7294f),_0x2ab0d7['setAttribute']('data-day-idx',_0x3aa62c),_0x453195[_0x1cd478(0x182)](_0x2ab0d7);}}function reRenderBlocks(){const _0x1a07d0=a3_0x5fed97;document['querySelectorAll'](_0x1a07d0(0x199))[_0x1a07d0(0x17d)](_0x1710eb=>{const _0x297f1e=_0x1a07d0;_0x1710eb['querySelectorAll'](_0x297f1e(0x21d))['forEach'](_0x553abc=>_0x553abc['remove']());const _0x352a08=_0x1710eb['getAttribute'](_0x297f1e(0x167)),_0x33d428=parseInt(_0x1710eb[_0x297f1e(0x175)](_0x297f1e(0x1df))),_0x52d353=Math[_0x297f1e(0x144)](_0x1710eb[_0x297f1e(0x1b5)]);(availabilityPattern[_0x33d428]||[])[_0x297f1e(0x17d)](_0x3d693d=>{const _0x103227=_0x297f1e,_0x76ec60=document[_0x103227(0x16c)]('div');_0x76ec60['className']=_0x103227(0x156),_0x76ec60[_0x103227(0x1db)][_0x103227(0x157)]=_0x3d693d*GRID_H+'px',_0x76ec60[_0x103227(0x1db)][_0x103227(0x1d7)]='-'+_0x52d353+_0x103227(0x16d)+_0x3d693d*GRID_H+'px',_0x1710eb[_0x103227(0x182)](_0x76ec60);});if(specialRanges[_0x297f1e(0x1b0)]>0x0){const _0x35b622=new Date(_0x352a08+'T00:00:00')[_0x297f1e(0x201)](),_0x2fafcc=new Date(_0x352a08+_0x297f1e(0x153))[_0x297f1e(0x201)]();specialRanges[_0x297f1e(0x17d)](_0x92f4f8=>{const _0x172cd3=_0x297f1e,_0xe42eed=new Date(_0x92f4f8['start'])[_0x172cd3(0x201)](),_0x21c2dd=new Date(_0x92f4f8[_0x172cd3(0x14c)])[_0x172cd3(0x201)](),_0x9fdcf8=Math[_0x172cd3(0x22a)](_0x35b622,_0xe42eed),_0x339944=Math[_0x172cd3(0x164)](_0x2fafcc,_0x21c2dd);if(_0x9fdcf8<_0x339944){const _0x4b008b=(_0x9fdcf8-_0x35b622)/0x36ee80*GRID_H,_0x5a9215=(_0x339944-_0x9fdcf8)/0x36ee80*GRID_H,_0x19375c=document['createElement'](_0x172cd3(0x1a7));_0x5a9215>=23.5*GRID_H?(_0x19375c[_0x172cd3(0x1e1)]='day-off-overlay\x20stripe-bg',_0x19375c[_0x172cd3(0x1db)][_0x172cd3(0x1d7)]='-'+_0x52d353+_0x172cd3(0x1be)):(_0x19375c[_0x172cd3(0x1e1)]='blocked-range-part\x20stripe-bg',_0x19375c['style'][_0x172cd3(0x157)]=_0x4b008b+'px',_0x19375c[_0x172cd3(0x1db)][_0x172cd3(0x16e)]=_0x5a9215+'px',_0x19375c[_0x172cd3(0x1db)]['backgroundPosition']='-'+_0x52d353+_0x172cd3(0x16d)+_0x4b008b+'px'),_0x1710eb['appendChild'](_0x19375c);}});}renderEventsForColumn(_0x1710eb,_0x352a08);});}function renderEventsForColumn(_0xa484b8,_0x5dad40){const _0xd32f08=a3_0x5fed97,_0x1e4810=sessions['filter'](_0x2b3703=>_0x2b3703[_0xd32f08(0x1e8)]===_0x5dad40),_0x40f049=_0x1e4810[_0xd32f08(0x162)](_0x2f0a8a=>{const _0x17cab2=_0xd32f08,[_0x3e574d,_0x16334c]=_0x2f0a8a[_0x17cab2(0x1aa)][_0x17cab2(0x202)](':')[_0x17cab2(0x162)](Number),[_0x28d1f3,_0x24b0c6]=_0x2f0a8a['end'][_0x17cab2(0x202)](':')[_0x17cab2(0x162)](Number);return{'data':_0x2f0a8a,'start':_0x3e574d*0x3c+_0x16334c,'end':_0x28d1f3*0x3c+_0x24b0c6,'colIndex':0x0};});_0x40f049[_0xd32f08(0x1fb)]((_0x5426a8,_0x5294cf)=>_0x5426a8['start']-_0x5294cf[_0xd32f08(0x1aa)]||_0x5294cf[_0xd32f08(0x14c)]-_0x5294cf[_0xd32f08(0x1aa)]-(_0x5426a8[_0xd32f08(0x14c)]-_0x5426a8[_0xd32f08(0x1aa)]));const _0x2ef775=[];_0x40f049['forEach'](_0x1b87a5=>{const _0x55e047=_0xd32f08;let _0x391722=![];for(let _0x49c490=0x0;_0x49c490<_0x2ef775[_0x55e047(0x1b0)];_0x49c490++){const _0x176d58=_0x2ef775[_0x49c490];if(_0x1b87a5[_0x55e047(0x1aa)]>=_0x176d58[_0x176d58[_0x55e047(0x1b0)]-0x1][_0x55e047(0x14c)]){_0x176d58[_0x55e047(0x136)](_0x1b87a5),_0x1b87a5[_0x55e047(0x168)]=_0x49c490,_0x391722=!![];break;}}!_0x391722&&(_0x2ef775[_0x55e047(0x136)]([_0x1b87a5]),_0x1b87a5[_0x55e047(0x168)]=_0x2ef775['length']-0x1);}),_0x40f049[_0xd32f08(0x17d)](_0x462fa0=>{const _0x4c4b79=_0xd32f08;let _0x2d19f9=0x0;_0x40f049[_0x4c4b79(0x17d)](_0x28cd49=>{const _0x571046=_0x4c4b79;if(Math[_0x571046(0x22a)](_0x462fa0[_0x571046(0x1aa)],_0x28cd49['start'])<Math[_0x571046(0x164)](_0x462fa0[_0x571046(0x14c)],_0x28cd49[_0x571046(0x14c)])&&_0x28cd49[_0x571046(0x168)]>_0x2d19f9)_0x2d19f9=_0x28cd49['colIndex'];});const _0x3570fc=_0x2d19f9+0x1,_0x2088f6=0x64/_0x3570fc,_0x5a86ec=_0x462fa0[_0x4c4b79(0x168)]*_0x2088f6,_0x3db10f=document[_0x4c4b79(0x16c)](_0x4c4b79(0x1a7)),_0x5b67ca=_0x462fa0[_0x4c4b79(0x19e)];let _0xa5711e='#0a84ff';if(clients&&clients['length']>0x0){const _0x10cbb7=clients[_0x4c4b79(0x1f2)](_0xed1169=>String(_0xed1169['id'])===String(_0x5b67ca[_0x4c4b79(0x1ce)]));if(_0x10cbb7&&_0x10cbb7['color'])_0xa5711e=_0x10cbb7[_0x4c4b79(0x174)];}const _0x230582=_0x5b67ca[_0x4c4b79(0x207)]===_0x4c4b79(0x19d),_0x3451cc=_0x230582?0x1:0.45;_0x3db10f[_0x4c4b79(0x1e1)]=_0x4c4b79(0x173)+(_0x230582?_0x4c4b79(0x1da):''),_0x3db10f[_0x4c4b79(0x1db)][_0x4c4b79(0x1de)]=hexToRgba(_0xa5711e,_0x3451cc),_0x3db10f['style'][_0x4c4b79(0x137)]=_0xa5711e;const _0x373f94=_0x462fa0[_0x4c4b79(0x1aa)]/0x3c*GRID_H,_0x435211=(_0x462fa0[_0x4c4b79(0x14c)]-_0x462fa0['start'])/0x3c*GRID_H;_0x3db10f[_0x4c4b79(0x1db)][_0x4c4b79(0x157)]=_0x373f94+'px',_0x3db10f['style'][_0x4c4b79(0x16e)]=Math[_0x4c4b79(0x22a)](_0x435211,0x14)+'px',_0x3db10f[_0x4c4b79(0x1db)]['width']=_0x4c4b79(0x20b)+_0x2088f6+_0x4c4b79(0x1a2),_0x3db10f[_0x4c4b79(0x1db)][_0x4c4b79(0x172)]=_0x4c4b79(0x20b)+_0x5a86ec+_0x4c4b79(0x179),_0x3db10f[_0x4c4b79(0x1db)][_0x4c4b79(0x195)]=0xa+_0x462fa0['colIndex'];if(_0x2088f6<0x55)_0x3db10f['classList']['add'](_0x4c4b79(0x1d3));let _0x45f799='';if(_0x5b67ca[_0x4c4b79(0x1e4)])_0x45f799+=_0x4c4b79(0x21e);if(_0x230582)_0x45f799+=_0x4c4b79(0x187);_0x3db10f['innerHTML']=_0x4c4b79(0x18c)+_0x5b67ca[_0x4c4b79(0x1aa)]+'\x20-\x20'+_0x5b67ca['end']+_0x4c4b79(0x208)+_0x45f799+_0x4c4b79(0x224),_0x3db10f[_0x4c4b79(0x14e)]=_0x2a5ba9=>{const _0x2fd354=_0x4c4b79;_0x2a5ba9[_0x2fd354(0x163)](),openDetails(_0x5b67ca);},_0xa484b8[_0x4c4b79(0x182)](_0x3db10f);});}function openAnalytics(){const _0x4c2349=a3_0x5fed97,_0x327288=document[_0x4c2349(0x18d)](_0x4c2349(0x190));setAnalyticsPeriod(_0x4c2349(0x1ef),_0x327288),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x4b2fe2,_0x59576c){const _0x28d7d0=a3_0x5fed97;currentAnPeriod=_0x4b2fe2,document[_0x28d7d0(0x214)]('.period-switch\x20.p-btn')[_0x28d7d0(0x17d)](_0x37c3bc=>_0x37c3bc['classList'][_0x28d7d0(0x1c8)]('active'));if(_0x59576c)_0x59576c[_0x28d7d0(0x203)][_0x28d7d0(0x1d4)](_0x28d7d0(0x1a6));const _0x44dfe2=document[_0x28d7d0(0x20f)](_0x28d7d0(0x186));_0x44dfe2[_0x28d7d0(0x1db)][_0x28d7d0(0x152)]=_0x4b2fe2===_0x28d7d0(0x20c)?_0x28d7d0(0x19a):'none';const _0x320064=new Date();let _0x447de0=new Date(),_0x1e5d62=new Date();if(_0x4b2fe2===_0x28d7d0(0x1ef))_0x447de0=getStartOfWeek(_0x320064),_0x1e5d62=new Date(_0x447de0),_0x1e5d62[_0x28d7d0(0x14a)](_0x1e5d62[_0x28d7d0(0x229)]()+0x6);else{if(_0x4b2fe2===_0x28d7d0(0x1f8))_0x447de0=new Date(_0x320064[_0x28d7d0(0x21c)](),_0x320064['getMonth'](),0x1),_0x1e5d62=new Date(_0x320064[_0x28d7d0(0x21c)](),_0x320064[_0x28d7d0(0x177)]()+0x1,0x0);else{!document['getElementById'](_0x28d7d0(0x20d))[_0x28d7d0(0x1d8)]&&(document['getElementById']('anStart')[_0x28d7d0(0x1d8)]=getLocalDateStr(_0x320064),document[_0x28d7d0(0x20f)]('anEnd')[_0x28d7d0(0x1d8)]=getLocalDateStr(_0x320064));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x28d7d0(0x1d8)]=getLocalDateStr(_0x447de0),document[_0x28d7d0(0x20f)](_0x28d7d0(0x151))[_0x28d7d0(0x1d8)]=getLocalDateStr(_0x1e5d62),refreshAnalytics();}function refreshAnalytics(){const _0x16fdb8=a3_0x5fed97,_0x258ef0=document['getElementById'](_0x16fdb8(0x20d))['value'],_0x142981=document[_0x16fdb8(0x20f)](_0x16fdb8(0x151))[_0x16fdb8(0x1d8)];if(!_0x258ef0||!_0x142981)return;const _0x4d1233=sessions[_0x16fdb8(0x1ad)](_0x46fe54=>_0x46fe54[_0x16fdb8(0x1e8)]>=_0x258ef0&&_0x46fe54[_0x16fdb8(0x1e8)]<=_0x142981&&_0x46fe54[_0x16fdb8(0x207)]!==_0x16fdb8(0x1bb)),_0x1f0189=_0x4d1233['length'],_0x4d042b=_0x4d1233[_0x16fdb8(0x1ad)](_0x275f21=>_0x275f21[_0x16fdb8(0x207)]===_0x16fdb8(0x19d))[_0x16fdb8(0x1b0)],_0xf63cc7=_0x1f0189>0x0?Math['round'](_0x4d042b/_0x1f0189*0x64):0x0;document[_0x16fdb8(0x20f)](_0x16fdb8(0x1bf))[_0x16fdb8(0x171)]=_0xf63cc7+'%',document['getElementById'](_0x16fdb8(0x16f))[_0x16fdb8(0x171)]=_0x4d042b+'\x20–∏–∑\x20'+_0x1f0189+_0x16fdb8(0x205);const _0x149953=document['getElementById'](_0x16fdb8(0x13b)),_0x76df45=0x2*Math['PI']*0x23,_0x9fc187=_0x76df45-_0xf63cc7/0x64*_0x76df45;_0x149953[_0x16fdb8(0x1db)][_0x16fdb8(0x14f)]=_0x9fc187;const _0x25aeba={};_0x4d1233[_0x16fdb8(0x17d)](_0x346617=>{const _0x494dd2=_0x16fdb8,_0x12487a=_0x346617[_0x494dd2(0x1f0)]||_0x494dd2(0x193);if(!_0x25aeba[_0x12487a]){const _0x3885f4='#'+_0x12487a['toString']()['substr'](0x0,0x6);_0x25aeba[_0x12487a]={'total':0x0,'done':0x0,'color':_0x3885f4};}_0x25aeba[_0x12487a]['total']++;if(_0x346617[_0x494dd2(0x207)]===_0x494dd2(0x19d))_0x25aeba[_0x12487a][_0x494dd2(0x1cd)]++;});const _0x2f06cb=document['getElementById'](_0x16fdb8(0x13a));_0x2f06cb[_0x16fdb8(0x178)]='';const _0x225054=Object[_0x16fdb8(0x148)](_0x25aeba)['sort']((_0x265c25,_0x1c2bbc)=>_0x1c2bbc[0x1][_0x16fdb8(0x1d5)]-_0x265c25[0x1][_0x16fdb8(0x1d5)]);if(_0x225054['length']===0x0){_0x2f06cb[_0x16fdb8(0x178)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x225054['forEach'](([_0x231977,_0xfc55e])=>{const _0x1b7664=_0x16fdb8,_0x988daa=Math['round'](_0xfc55e[_0x1b7664(0x1cd)]/_0xfc55e[_0x1b7664(0x1d5)]*0x64),_0x1de4a4=document[_0x1b7664(0x16c)](_0x1b7664(0x1a7));_0x1de4a4[_0x1b7664(0x1e1)]='client-stat-card',_0x1de4a4[_0x1b7664(0x1db)]['borderLeftColor']=_0xfc55e[_0x1b7664(0x174)],_0x1de4a4[_0x1b7664(0x178)]=_0x1b7664(0x22d)+_0x231977[_0x1b7664(0x19f)](0x0,0x5)+_0x1b7664(0x17b)+_0xfc55e['done']+_0x1b7664(0x1fc)+_0xfc55e[_0x1b7664(0x1d5)]+_0x1b7664(0x141)+_0x988daa+_0x1b7664(0x20a),_0x2f06cb[_0x1b7664(0x182)](_0x1de4a4);});}function openDetails(_0x351ede){const _0x31a9ee=a3_0x5fed97;currentSession=_0x351ede;const _0x216f82=new Date(_0x351ede['dateStr']),_0x2bd6d9=_0x216f82[_0x31a9ee(0x1d1)](_0x31a9ee(0x142),{'weekday':_0x31a9ee(0x1ba),'day':_0x31a9ee(0x184),'month':_0x31a9ee(0x1ba)});document[_0x31a9ee(0x20f)](_0x31a9ee(0x18b))[_0x31a9ee(0x171)]=_0x2bd6d9[_0x31a9ee(0x1fd)](0x0)['toUpperCase']()+_0x2bd6d9[_0x31a9ee(0x1c9)](0x1),document[_0x31a9ee(0x20f)](_0x31a9ee(0x176))[_0x31a9ee(0x171)]=_0x351ede['start']+'\x20-\x20'+_0x351ede[_0x31a9ee(0x14c)],document[_0x31a9ee(0x20f)](_0x31a9ee(0x19c))[_0x31a9ee(0x171)]=_0x351ede[_0x31a9ee(0x228)]||_0x31a9ee(0x183);const _0x4366d6=document[_0x31a9ee(0x20f)](_0x31a9ee(0x16a)),_0x357a6a=document[_0x31a9ee(0x20f)]('cancelContainer'),_0x254c19=_0x357a6a['querySelector'](_0x31a9ee(0x1bd)),_0x17f9f6=_0x357a6a[_0x31a9ee(0x18d)]('.btn-reschedule'),_0x41d541=document[_0x31a9ee(0x20f)](_0x31a9ee(0x20e));if(_0x351ede['status']===_0x31a9ee(0x19d))_0x4366d6[_0x31a9ee(0x171)]=_0x31a9ee(0x169),_0x4366d6[_0x31a9ee(0x1db)]['color']=_0x31a9ee(0x161),_0x357a6a[_0x31a9ee(0x1db)][_0x31a9ee(0x152)]=_0x31a9ee(0x1dd);else{_0x4366d6[_0x31a9ee(0x171)]=_0x31a9ee(0x15f),_0x4366d6[_0x31a9ee(0x1db)]['color']=_0x31a9ee(0x206),_0x357a6a[_0x31a9ee(0x1db)][_0x31a9ee(0x152)]=_0x31a9ee(0x1a9);const _0x3d17a6=new Date(_0x351ede[_0x31a9ee(0x1e8)]+'T'+_0x351ede[_0x31a9ee(0x1aa)]),_0x3537f0=new Date(),_0x4e0db4=(_0x3d17a6-_0x3537f0)/(0x3e8*0x3c*0x3c),_0x51470a=coachProfiles[_0x351ede['coachId']]&&coachProfiles[_0x351ede[_0x31a9ee(0x1f0)]][_0x31a9ee(0x1b1)]?parseInt(coachProfiles[_0x351ede[_0x31a9ee(0x1f0)]][_0x31a9ee(0x1b1)]):0x18;if(_0x51470a===0x0||_0x4e0db4>=_0x51470a)_0x254c19[_0x31a9ee(0x1db)][_0x31a9ee(0x152)]=_0x31a9ee(0x1a9),_0x17f9f6['style'][_0x31a9ee(0x152)]=_0x31a9ee(0x1a9),_0x41d541['style'][_0x31a9ee(0x152)]='none';else{_0x254c19['style']['display']=_0x31a9ee(0x1dd),_0x17f9f6[_0x31a9ee(0x1db)]['display']=_0x31a9ee(0x1dd),_0x41d541[_0x31a9ee(0x1db)][_0x31a9ee(0x152)]='block';let _0x25494b=_0x51470a===0x0?_0x31a9ee(0x191):'–∑–∞\x20'+_0x51470a+'\x20—á.';_0x41d541[_0x31a9ee(0x171)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x25494b+_0x31a9ee(0x1ab);}}document['getElementById']('overlay')['classList'][_0x31a9ee(0x1d4)](_0x31a9ee(0x1a6)),document[_0x31a9ee(0x20f)]('detailsSheet')[_0x31a9ee(0x203)][_0x31a9ee(0x1d4)](_0x31a9ee(0x188));}function closeAllSheets(){const _0x168406=a3_0x5fed97;document[_0x168406(0x20f)]('overlay')['classList'][_0x168406(0x1c8)](_0x168406(0x1a6)),document[_0x168406(0x214)]('.sheet')[_0x168406(0x17d)](_0x57ceea=>_0x57ceea[_0x168406(0x203)][_0x168406(0x1c8)]('open'));}function openSheet(_0x54c26a){const _0x372c5f=a3_0x5fed97;document[_0x372c5f(0x20f)](_0x372c5f(0x1e5))[_0x372c5f(0x203)][_0x372c5f(0x1d4)](_0x372c5f(0x1a6)),document[_0x372c5f(0x20f)](_0x54c26a)[_0x372c5f(0x203)][_0x372c5f(0x1d4)]('open');}function getLocalDateStr(_0x445933){const _0x56d056=a3_0x5fed97,_0x21869b=_0x445933['getFullYear'](),_0x2e9916=String(_0x445933[_0x56d056(0x177)]()+0x1)[_0x56d056(0x15d)](0x2,'0'),_0x5ccac9=String(_0x445933[_0x56d056(0x229)]())[_0x56d056(0x15d)](0x2,'0');return _0x21869b+'-'+_0x2e9916+'-'+_0x5ccac9;}function getStartOfWeek(_0x44a8d6){const _0x5b2c10=a3_0x5fed97,_0x212066=new Date(_0x44a8d6),_0xedba70=_0x212066[_0x5b2c10(0x1c2)](),_0xfa201f=_0x212066[_0x5b2c10(0x229)]()-_0xedba70+(_0xedba70===0x0?-0x6:0x1);return _0x212066[_0x5b2c10(0x14a)](_0xfa201f),_0x212066[_0x5b2c10(0x211)](0x0,0x0,0x0,0x0),_0x212066;}function scrollToToday(){const _0x4fe509=getLocalDateStr(new Date());setTimeout(()=>{const _0x30a436=a3_0x57f7,_0x40b7aa=document[_0x30a436(0x18d)]('.day-col-header[data-date=\x22'+_0x4fe509+'\x22]');if(_0x40b7aa){const _0x4903ee=document['getElementById'](_0x30a436(0x135)),_0x279fbe=_0x40b7aa[_0x30a436(0x1b5)]-_0x4903ee[_0x30a436(0x1c1)]/0x2+_0x40b7aa['offsetWidth']/0x2;_0x4903ee['scrollTo']({'left':_0x279fbe,'behavior':_0x30a436(0x1dc)}),_0x4903ee['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x57f7(_0x5247c6,_0x2b6799){_0x5247c6=_0x5247c6-0x135;const _0x194d57=a3_0x205d();let _0x44463b=_0x194d57[_0x5247c6];return _0x44463b;}function updateClock(){const _0x210619=a3_0x5fed97,_0x21f380=new Date(),_0x4d5105=document[_0x210619(0x20f)](_0x210619(0x1af)),_0x150b61=document[_0x210619(0x20f)](_0x210619(0x15e)),_0x2631ec=(_0x21f380[_0x210619(0x1ac)]()*0x3c+_0x21f380[_0x210619(0x16b)]())/0x3c*GRID_H;_0x4d5105[_0x210619(0x1db)][_0x210619(0x157)]=_0x2631ec+'px',_0x4d5105[_0x210619(0x1db)][_0x210619(0x152)]='block',_0x150b61['style']['top']=_0x2631ec+'px',_0x150b61[_0x210619(0x1db)][_0x210619(0x152)]='block',_0x150b61[_0x210619(0x171)]=String(_0x21f380['getHours']())[_0x210619(0x15d)](0x2,'0')+':'+String(_0x21f380[_0x210619(0x16b)]())[_0x210619(0x15d)](0x2,'0');}function onScroll(){const _0x27d35b=a3_0x5fed97,_0x204667=document[_0x27d35b(0x20f)]('matrixViewport'),_0x383e3e=document[_0x27d35b(0x214)](_0x27d35b(0x1fe));for(let _0x271552 of _0x383e3e)if(_0x271552[_0x27d35b(0x1b5)]>=_0x204667[_0x27d35b(0x1f9)]){const _0x58ef11=new Date(_0x271552[_0x27d35b(0x175)](_0x27d35b(0x167)));document[_0x27d35b(0x20f)](_0x27d35b(0x1a5))[_0x27d35b(0x171)]=_0x58ef11[_0x27d35b(0x18e)]('ru',{'month':'long'})[_0x27d35b(0x1a3)]()+'\x20'+_0x58ef11['getFullYear']();break;}}function showToast(_0x32114f){const _0x435cdd=a3_0x5fed97,_0x147d79=document[_0x435cdd(0x20f)](_0x435cdd(0x21f));_0x147d79['textContent']=_0x32114f,_0x147d79[_0x435cdd(0x203)]['add'](_0x435cdd(0x1e2)),setTimeout(()=>_0x147d79[_0x435cdd(0x203)][_0x435cdd(0x1c8)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x2779ff=a3_0x5fed97,_0x1b437e=document['getElementById'](_0x2779ff(0x135)),_0x25a017=_0x1b437e[_0x2779ff(0x1f9)],_0x8cd58a=_0x1b437e['scrollWidth'],_0x2a0a21=_0x1b437e[_0x2779ff(0x1c1)];if(_0x8cd58a-(_0x25a017+_0x2a0a21)<0x12c){const _0x4e70fa=endOffset;endOffset+=0xe,renderDayRange(_0x4e70fa+0x1,endOffset),reRenderBlocks();}if(_0x25a017<0x12c){const _0x309a5f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x309a5f-0x1),_0x1b437e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xdf409f,_0x1bfc43){const _0xc95111=a3_0x5fed97,_0x5ea7cf=document['getElementById'](_0xc95111(0x222)),_0x59e0f5=document['getElementById'](_0xc95111(0x160)),_0x3a9eb8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x501b59=new Date();_0x501b59[_0xc95111(0x211)](0x0,0x0,0x0,0x0);const _0x3c3e49=getLocalDateStr(new Date()),_0x422547=document[_0xc95111(0x189)](),_0x25899e=document[_0xc95111(0x189)]();for(let _0x56d677=_0xdf409f;_0x56d677<=_0x1bfc43;_0x56d677++){const _0x494fcc=new Date(_0x501b59);_0x494fcc['setDate'](_0x494fcc[_0xc95111(0x229)]()+_0x56d677);const _0x4df8a2=getLocalDateStr(_0x494fcc);let _0xb76a56=_0x494fcc[_0xc95111(0x1c2)]()-0x1;if(_0xb76a56===-0x1)_0xb76a56=0x6;const _0x418073=_0x4df8a2===_0x3c3e49,_0x54aa8b=document[_0xc95111(0x16c)]('div');_0x54aa8b[_0xc95111(0x1e1)]=_0xc95111(0x13c)+(_0x418073?_0xc95111(0x150):''),_0x54aa8b[_0xc95111(0x1ff)](_0xc95111(0x167),_0x4df8a2),_0x54aa8b['innerHTML']=_0xc95111(0x140)+_0x3a9eb8[_0xb76a56]+_0xc95111(0x218)+_0x494fcc[_0xc95111(0x229)]()+'</div>',_0x422547[_0xc95111(0x182)](_0x54aa8b);const _0x52aee3=document[_0xc95111(0x16c)](_0xc95111(0x1a7));_0x52aee3[_0xc95111(0x1e1)]=_0xc95111(0x181)+(_0x418073?_0xc95111(0x150):''),_0x52aee3[_0xc95111(0x1ff)](_0xc95111(0x167),_0x4df8a2),_0x52aee3['setAttribute'](_0xc95111(0x1df),_0xb76a56),_0x25899e[_0xc95111(0x182)](_0x52aee3);}_0x5ea7cf[_0xc95111(0x216)](_0x422547,_0x5ea7cf['firstChild']),_0x59e0f5[_0xc95111(0x216)](_0x25899e,_0x59e0f5[_0xc95111(0x18d)](_0xc95111(0x199)));}function hexToRgba(_0x489b2e,_0x41c5a3){const _0x2725cd=a3_0x5fed97;let _0x74e43f;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2725cd(0x17e)](_0x489b2e))return _0x74e43f=_0x489b2e[_0x2725cd(0x19b)](0x1)[_0x2725cd(0x202)](''),_0x74e43f['length']==0x3&&(_0x74e43f=[_0x74e43f[0x0],_0x74e43f[0x0],_0x74e43f[0x1],_0x74e43f[0x1],_0x74e43f[0x2],_0x74e43f[0x2]]),_0x74e43f='0x'+_0x74e43f[_0x2725cd(0x1ec)](''),_0x2725cd(0x1d2)+[_0x74e43f>>0x10&0xff,_0x74e43f>>0x8&0xff,_0x74e43f&0xff][_0x2725cd(0x1ec)](',')+','+_0x41c5a3+')';return _0x2725cd(0x204)+_0x41c5a3+')';}let confirmResolver=null;function showCustomConfirm(_0x188f94,_0x87eec0,_0x15cf48=!![]){const _0x1af5c5=a3_0x5fed97;document[_0x1af5c5(0x20f)](_0x1af5c5(0x21a))[_0x1af5c5(0x171)]=_0x188f94,document[_0x1af5c5(0x20f)](_0x1af5c5(0x1c7))['textContent']=_0x87eec0;const _0x30b89a=document['getElementById']('ccYesBtn');return _0x15cf48?(_0x30b89a[_0x1af5c5(0x1db)]['color']=_0x1af5c5(0x192),_0x30b89a[_0x1af5c5(0x1db)][_0x1af5c5(0x1b9)]=_0x1af5c5(0x1f7)):(_0x30b89a[_0x1af5c5(0x1db)][_0x1af5c5(0x174)]=_0x1af5c5(0x1fa),_0x30b89a[_0x1af5c5(0x1db)][_0x1af5c5(0x1b9)]=_0x1af5c5(0x1f7)),new Promise(_0x2ac18a=>{const _0x3eda3b=_0x1af5c5;confirmResolver=_0x2ac18a,document['getElementById'](_0x3eda3b(0x1ee))[_0x3eda3b(0x203)]['add']('visible');});}function resolveCustomConfirm(_0x595729){const _0x2f514e=a3_0x5fed97;document[_0x2f514e(0x20f)](_0x2f514e(0x1ee))[_0x2f514e(0x203)][_0x2f514e(0x1c8)](_0x2f514e(0x1b7));if(confirmResolver)confirmResolver(_0x595729);}async function tryCancelCurrentSession(){const _0x40621d=a3_0x5fed97;if(!currentSession)return;const _0x28754e=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x28754e)return;const _0xe17041=currentSession;closeAllSheets(),sessions=sessions[_0x40621d(0x1ad)](_0x219e40=>_0x219e40['id']!==_0xe17041['id']),reRenderBlocks(),showToast(_0x40621d(0x21b)),lastUserActionTime=Date[_0x40621d(0x1b4)]();try{const _0x394af9=window['Telegram']?.[_0x40621d(0x1a0)],_0x5cda25=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x40621d(0x210),'init_data':_0x394af9?.['initData']||'','coachId':_0xe17041[_0x40621d(0x1f0)],'dateStr':_0xe17041[_0x40621d(0x1e8)],'sessionId':_0xe17041['id']})});if(_0x5cda25['ok'])DataManager[_0x40621d(0x17c)]();}catch(_0x5bf022){showToast(_0x40621d(0x221));}}let availableSlotsCache={},selectedRsDate=null;function a3_0x205d(){const _0x2550b9=['4101330GJfpPW','.period-switch\x20.p-btn','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','#ff453a','Unknown','Error\x20setting\x20back\x20button:','zIndex','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','offClick','.day-column','flex','substring','detNote','completed','data','substr','WebApp','(((.+)+)+)+$','%\x20-\x204px)','toUpperCase','json','headerMonth','active','div','<div\x20class=\x22rs-day-name\x22>','block','start','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','getHours','filter','4275754JQVPcS','globalTimeLine','length','cancel_window','stringify','then','now','offsetLeft','button','visible','user','fontWeight','long','cancelled','rs-time-btn','.btn-cancel','px\x200px','anPercent','1672149oQAeYG','clientWidth','getDay','rescheduleSheet','location','findIndex','BackButton','ccText','remove','slice','exceptions','sid','router.html','done','clientId','rsDatesTrack','Telegram','toLocaleDateString','rgba(','mini','add','total','setMonth','backgroundPosition','value','uc_client_list','\x20status-completed','style','auto','none','backgroundColor','data-day-idx','toString','className','show','search','seriesId','overlay','time-label','pattern','dateStr','expand','rsSlotsGrid','parse','join','8366IKLcti','customConfirm','week','coachId','2358504OAzadN','find','initData','setHeaderColor','\x20–≤\x20','</div>','600','month','scrollLeft','#0a84ff','sort','</span>\x20/\x20','charAt','.day-col-header','setAttribute','coach_profiles','getTime','split','classList','rgba(10,\x20132,\x20255,\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','var(--acc-blue)','status','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calc(','custom','anStart','cancelHint','getElementById','client_cancel','setHours','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','uc_client_sessions','querySelectorAll','settings','insertBefore','setItem','</div><div\x20class=\x22dch-num\x22>','8osMXTv','ccTitle','–û—Ç–º–µ–Ω–µ–Ω–æ','getFullYear','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','toast','#050505','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','daysHeaderTrack','2vXXmYp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','v9.5-CLIENT-ANALYTICS','get_slots','uc_client_settings','note','getDate','max','error','calendar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','matrixViewport','push','borderLeftColor','syncLoad','<span>','analyticsList','anDonutCircle','day-col-header\x20','.rs-date-chip','client_load','ranges','<div\x20class=\x22dch-day\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','ru-RU','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','round','addEventListener','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','entries','onClick','setDate','9734580TbXhBt','end','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','onclick','strokeDashoffset','today','anEnd','display','T23:59:59','getItem','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','blocked-slot\x20stripe-bg','top','Critical\x20TMA\x20Error:','590200mIAUkz','scroll','detailsSheet','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','padStart','timeLineBadge','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','gridColumns','var(--acc-green)','map','stopPropagation','min','log','apply','data-date','colIndex','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','detStatus','getMinutes','createElement','px\x20-','height','anTotalStats','POST','textContent','left','event-card','color','getAttribute','detTime','getMonth','innerHTML','%\x20+\x202px)','setBackgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','saveLocally','forEach','test','firstChild','loadLocal','day-column\x20','appendChild','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','numeric','href','anCustomDates','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','open','createDocumentFragment','reschedule','detDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','querySelector','toLocaleString'];a3_0x205d=function(){return _0x2550b9;};return a3_0x205d();}async function startRescheduleFlow(){const _0x4964a9=a3_0x5fed97;if(!currentSession)return;document[_0x4964a9(0x20f)](_0x4964a9(0x15b))[_0x4964a9(0x203)][_0x4964a9(0x1c8)](_0x4964a9(0x188)),document['getElementById'](_0x4964a9(0x1c3))['classList'][_0x4964a9(0x1d4)](_0x4964a9(0x188));const _0x2cf586=document[_0x4964a9(0x20f)]('rsDatesTrack'),_0x43d8e7=document['getElementById'](_0x4964a9(0x1ea));_0x2cf586[_0x4964a9(0x178)]='',_0x43d8e7[_0x4964a9(0x178)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x33a057,_0x1212f4]=currentSession[_0x4964a9(0x1aa)][_0x4964a9(0x202)](':')[_0x4964a9(0x162)](Number),[_0x395f58,_0xcf9b27]=currentSession[_0x4964a9(0x14c)][_0x4964a9(0x202)](':')['map'](Number),_0x3f6497=_0x395f58*0x3c+_0xcf9b27-(_0x33a057*0x3c+_0x1212f4);try{const _0x596766=window['Telegram']?.[_0x4964a9(0x1a0)],_0x690bbe=await fetch(API_URL,{'method':_0x4964a9(0x170),'body':JSON[_0x4964a9(0x1b2)]({'action':_0x4964a9(0x226),'coachId':currentSession['coachId'],'duration':_0x3f6497,'init_data':_0x596766?.[_0x4964a9(0x1f3)]||'','excludeSessionId':currentSession['id']})}),_0x484635=await _0x690bbe[_0x4964a9(0x1a4)]();_0x484635['ok']&&_0x484635[_0x4964a9(0x19e)]?(availableSlotsCache=_0x484635[_0x4964a9(0x19e)],renderRescheduleDates()):_0x43d8e7['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x47b1b9){_0x43d8e7[_0x4964a9(0x178)]=_0x4964a9(0x147);}}function renderRescheduleDates(){const _0x53625c=a3_0x5fed97,_0x46ff5d=document[_0x53625c(0x20f)](_0x53625c(0x1cf));_0x46ff5d['innerHTML']='';const _0x5b4a3a=Object['keys'](availableSlotsCache)[_0x53625c(0x1fb)](),_0x589e4f=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5b4a3a[_0x53625c(0x1b0)]===0x0){document[_0x53625c(0x20f)]('rsSlotsGrid')[_0x53625c(0x178)]=_0x53625c(0x197);return;}_0x5b4a3a[_0x53625c(0x17d)]((_0x3a8acd,_0x1de057)=>{const _0x20d82c=_0x53625c,_0x13791e=new Date(_0x3a8acd),_0x8651d5=_0x589e4f[_0x13791e[_0x20d82c(0x1c2)]()],_0x41fbe3=_0x13791e[_0x20d82c(0x229)](),_0x2fbb31=document[_0x20d82c(0x16c)](_0x20d82c(0x1a7));_0x2fbb31[_0x20d82c(0x1e1)]='rs-date-chip';if(_0x1de057===0x0)_0x2fbb31[_0x20d82c(0x203)]['add'](_0x20d82c(0x1a6));_0x2fbb31[_0x20d82c(0x178)]=_0x20d82c(0x1a8)+_0x8651d5+'</div><div\x20class=\x22rs-day-num\x22>'+_0x41fbe3+_0x20d82c(0x1f6),_0x2fbb31['onclick']=()=>selectRsDate(_0x3a8acd,_0x2fbb31),_0x46ff5d['appendChild'](_0x2fbb31);}),selectRsDate(_0x5b4a3a[0x0],_0x46ff5d[_0x53625c(0x17f)]);}function selectRsDate(_0x1d3931,_0x5d09d1){const _0x2923c8=a3_0x5fed97;selectedRsDate=_0x1d3931,document['querySelectorAll'](_0x2923c8(0x13d))[_0x2923c8(0x17d)](_0x107ec7=>_0x107ec7[_0x2923c8(0x203)][_0x2923c8(0x1c8)](_0x2923c8(0x1a6)));if(_0x5d09d1)_0x5d09d1['classList'][_0x2923c8(0x1d4)]('active');const _0x410999=document[_0x2923c8(0x20f)](_0x2923c8(0x1ea));_0x410999[_0x2923c8(0x178)]='';const _0x21477b=availableSlotsCache[_0x1d3931]||[];if(_0x21477b['length']===0x0){_0x410999['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x21477b[_0x2923c8(0x17d)](_0x3f2800=>{const _0x536943=_0x2923c8,_0x4772f1=document['createElement'](_0x536943(0x1b6));_0x4772f1[_0x536943(0x1e1)]=_0x536943(0x1bc),_0x4772f1[_0x536943(0x171)]=_0x3f2800,_0x4772f1['onclick']=()=>confirmReschedule(_0x3f2800),_0x410999[_0x536943(0x182)](_0x4772f1);});}async function confirmReschedule(_0x5639eb){const _0x2b0b3b=a3_0x5fed97,_0x25b4b7=new Date(selectedRsDate),_0x510002=_0x25b4b7[_0x2b0b3b(0x1d1)](_0x2b0b3b(0x142),{'day':_0x2b0b3b(0x184),'month':_0x2b0b3b(0x1ba)}),_0x3e192a=await showCustomConfirm(_0x2b0b3b(0x146),_0x2b0b3b(0x14d)+_0x510002+_0x2b0b3b(0x1f5)+_0x5639eb+'?',![]);if(!_0x3e192a)return;closeAllSheets(),showToast(_0x2b0b3b(0x155)),lastUserActionTime=Date[_0x2b0b3b(0x1b4)]();const _0x1b7187=currentSession['dateStr'],_0x588659=currentSession['id'],[_0x14bbfe,_0x1f3f5b]=currentSession[_0x2b0b3b(0x1aa)][_0x2b0b3b(0x202)](':')[_0x2b0b3b(0x162)](Number),[_0x53d8c2,_0x1f407f]=currentSession[_0x2b0b3b(0x14c)][_0x2b0b3b(0x202)](':')[_0x2b0b3b(0x162)](Number),_0x3871a5=_0x53d8c2*0x3c+_0x1f407f-(_0x14bbfe*0x3c+_0x1f3f5b),[_0x543e8f,_0x15d0b8]=_0x5639eb[_0x2b0b3b(0x202)](':')[_0x2b0b3b(0x162)](Number),_0x12eb1e=_0x543e8f*0x3c+_0x15d0b8+_0x3871a5,_0x554ef9=Math['floor'](_0x12eb1e/0x3c),_0x2a9a92=_0x12eb1e%0x3c,_0x138927=String(_0x554ef9)['padStart'](0x2,'0')+':'+String(_0x2a9a92)[_0x2b0b3b(0x15d)](0x2,'0'),_0x2ff1bb=sessions[_0x2b0b3b(0x1c5)](_0x6dfe8=>_0x6dfe8['id']===_0x588659);_0x2ff1bb!==-0x1&&(sessions[_0x2ff1bb][_0x2b0b3b(0x1e8)]=selectedRsDate,sessions[_0x2ff1bb]['start']=_0x5639eb,sessions[_0x2ff1bb]['end']=_0x138927,reRenderBlocks());try{const _0x3bd226=window[_0x2b0b3b(0x1d0)]?.['WebApp'],_0x105be2=await fetch(API_URL,{'method':'POST','body':JSON[_0x2b0b3b(0x1b2)]({'action':_0x2b0b3b(0x18a),'init_data':_0x3bd226?.[_0x2b0b3b(0x1f3)]||'','oldSessionId':_0x588659,'oldDate':_0x1b7187,'newDate':selectedRsDate,'newTime':_0x5639eb,'coachId':currentSession[_0x2b0b3b(0x1f0)]})}),_0x6817c9=await _0x105be2[_0x2b0b3b(0x1a4)]();!_0x6817c9['ok']?(showToast(_0x2b0b3b(0x212)),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x2b0b3b(0x17c)]());}catch(_0x40c585){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x5fed97(0x145)]('DOMContentLoaded',init);