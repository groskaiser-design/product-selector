const a3_0x1f1cf5=a3_0x1c8d;(function(_0x527dc2,_0x51a3c){const _0x52f17d=a3_0x1c8d,_0x3a0943=_0x527dc2();while(!![]){try{const _0x120027=parseInt(_0x52f17d(0x13e))/0x1*(-parseInt(_0x52f17d(0x171))/0x2)+-parseInt(_0x52f17d(0x192))/0x3+-parseInt(_0x52f17d(0x112))/0x4*(-parseInt(_0x52f17d(0x10c))/0x5)+-parseInt(_0x52f17d(0xf2))/0x6+parseInt(_0x52f17d(0x1b4))/0x7*(-parseInt(_0x52f17d(0x158))/0x8)+parseInt(_0x52f17d(0x1b3))/0x9*(-parseInt(_0x52f17d(0x191))/0xa)+parseInt(_0x52f17d(0xe7))/0xb*(parseInt(_0x52f17d(0xed))/0xc);if(_0x120027===_0x51a3c)break;else _0x3a0943['push'](_0x3a0943['shift']());}catch(_0x2b121f){_0x3a0943['push'](_0x3a0943['shift']());}}}(a3_0x247b,0x2e5ce));const APP_VERSION=a3_0x1f1cf5(0x137),API_URL=a3_0x1f1cf5(0xfb),GRID_H=0x3c,KEY_SESSIONS=a3_0x1f1cf5(0xfc),KEY_SETTINGS=a3_0x1f1cf5(0x141),KEY_CLIENTS=a3_0x1f1cf5(0x1d1);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1f1cf5(0x1c5),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1e230e=a3_0x1f1cf5,_0x10a660=(function(){let _0x2dcdef=!![];return function(_0x88ed39,_0x2d8def){const _0x50fe9b=_0x2dcdef?function(){const _0x507a60=a3_0x1c8d;if(_0x2d8def){const _0x22e60f=_0x2d8def[_0x507a60(0x1c1)](_0x88ed39,arguments);return _0x2d8def=null,_0x22e60f;}}:function(){};return _0x2dcdef=![],_0x50fe9b;};}()),_0xeeb611=_0x10a660(this,function(){const _0x37f533=a3_0x1c8d;return _0xeeb611[_0x37f533(0xf1)]()[_0x37f533(0xf6)](_0x37f533(0x16c))[_0x37f533(0xf1)]()[_0x37f533(0x147)](_0xeeb611)[_0x37f533(0xf6)](_0x37f533(0x16c));});_0xeeb611();try{const _0x15d2fd=window[_0x1e230e(0x139)]?.[_0x1e230e(0x165)];if(!_0x15d2fd)return;_0x15d2fd[_0x1e230e(0x17e)](),_0x15d2fd[_0x1e230e(0x164)]();try{_0x15d2fd[_0x1e230e(0x114)](_0x1e230e(0x150)),_0x15d2fd[_0x1e230e(0x1b2)]&&_0x15d2fd['setBackgroundColor'](_0x1e230e(0x150));}catch(_0x38f847){console[_0x1e230e(0x1be)]('Error\x20setting\x20color:',_0x38f847);}try{_0x15d2fd[_0x1e230e(0xde)]&&(_0x15d2fd['BackButton'][_0x1e230e(0x1a1)](),_0x15d2fd[_0x1e230e(0xde)][_0x1e230e(0xf3)](),_0x15d2fd[_0x1e230e(0xde)]['onClick'](function(){const _0x3f4ad0=_0x1e230e;window[_0x3f4ad0(0x180)][_0x3f4ad0(0x153)]='router.html';}));}catch(_0x13d120){console['log'](_0x1e230e(0x10a),_0x13d120);}try{if(_0x15d2fd[_0x1e230e(0x1b7)])_0x15d2fd['disableVerticalSwipes']();}catch(_0x3f2ea5){}}catch(_0x209493){console[_0x1e230e(0x14a)](_0x1e230e(0xe8),_0x209493);}}());function isAdmin(){const _0x2dfd8c=a3_0x1f1cf5;try{const _0x594138=Number(window[_0x2dfd8c(0x139)]?.[_0x2dfd8c(0x165)]?.[_0x2dfd8c(0xd6)]?.[_0x2dfd8c(0x1c9)]?.['id']);return _0x594138===0xbaf7174;}catch(_0x5823bb){return![];}}const DataManager={'saveLocally'(){const _0x3d4212=a3_0x1f1cf5;try{localStorage[_0x3d4212(0x122)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3d4212(0x122)](KEY_SETTINGS,JSON[_0x3d4212(0xd8)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xb59f53){}},'loadLocal'(){const _0x4467d8=a3_0x1f1cf5;try{const _0x2784e8=localStorage['getItem'](KEY_SESSIONS);if(_0x2784e8)sessions=JSON[_0x4467d8(0xeb)](_0x2784e8);const _0x3a4d5e=localStorage['getItem'](KEY_CLIENTS);if(_0x3a4d5e)clients=JSON['parse'](_0x3a4d5e);const _0x166efd=localStorage['getItem'](KEY_SETTINGS);if(_0x166efd){const _0x1f3e0b=JSON[_0x4467d8(0xeb)](_0x166efd);if(_0x1f3e0b[_0x4467d8(0x1c7)])availabilityPattern=_0x1f3e0b[_0x4467d8(0x1c7)];if(_0x1f3e0b[_0x4467d8(0x1c8)])specialRanges=_0x1f3e0b[_0x4467d8(0x1c8)];if(_0x1f3e0b[_0x4467d8(0x1ae)])dateExceptions=_0x1f3e0b[_0x4467d8(0x1ae)];}}catch(_0x131783){}},async 'syncLoad'(){const _0x3f22d5=a3_0x1f1cf5,_0x53210d=new Date(),_0xef6ccb=_0x53210d['getFullYear']()+'-'+String(_0x53210d[_0x3f22d5(0x1b8)]()+0x1)[_0x3f22d5(0x104)](0x2,'0'),_0x24cd34=new Date(_0x53210d);_0x24cd34[_0x3f22d5(0x1a2)](_0x53210d[_0x3f22d5(0x1b8)]()+0x1);const _0xc7a45f=_0x24cd34['getFullYear']()+'-'+String(_0x24cd34[_0x3f22d5(0x1b8)]()+0x1)[_0x3f22d5(0x104)](0x2,'0'),_0x3d1c44=Date[_0x3f22d5(0x172)]();try{const _0x35d5b1=window[_0x3f22d5(0x139)]?.[_0x3f22d5(0x165)],_0x439f17=_0x35d5b1?.[_0x3f22d5(0x197)]||'',[_0x285866,_0x2c5674]=await Promise[_0x3f22d5(0x17c)]([fetch(API_URL,{'method':_0x3f22d5(0x10d),'body':JSON[_0x3f22d5(0xd8)]({'action':_0x3f22d5(0x117),'init_data':_0x439f17,'month_str':_0xef6ccb})})[_0x3f22d5(0x162)](_0x2fcba6=>_0x2fcba6['json']()),fetch(API_URL,{'method':_0x3f22d5(0x10d),'body':JSON[_0x3f22d5(0xd8)]({'action':'client_load','init_data':_0x439f17,'month_str':_0xc7a45f})})[_0x3f22d5(0x162)](_0x1ab1ce=>_0x1ab1ce[_0x3f22d5(0xec)]())]);if(lastUserActionTime>_0x3d1c44){console['log'](_0x3f22d5(0x13b));return;}if(_0x285866['ok'])this[_0x3f22d5(0x124)](_0x285866['data'],_0xef6ccb);if(_0x2c5674['ok'])this[_0x3f22d5(0x124)](_0x2c5674[_0x3f22d5(0xda)],_0xc7a45f);this[_0x3f22d5(0x18e)]();}catch(_0x3b1cac){}},'applyData'(_0x270544,_0x151b9b){const _0x3113ea=a3_0x1f1cf5;if(!_0x270544)return;if(_0x270544['settings']){if(_0x270544['settings'][_0x3113ea(0x1c7)])availabilityPattern=_0x270544['settings'][_0x3113ea(0x1c7)];if(_0x270544[_0x3113ea(0x107)][_0x3113ea(0x1c8)])specialRanges=_0x270544['settings'][_0x3113ea(0x1c8)];if(_0x270544[_0x3113ea(0x107)][_0x3113ea(0x1ae)])dateExceptions=_0x270544['settings'][_0x3113ea(0x1ae)];}if(_0x270544[_0x3113ea(0x115)]&&Array['isArray'](_0x270544[_0x3113ea(0x115)]))clients=_0x270544[_0x3113ea(0x115)];_0x270544['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x270544[_0x3113ea(0x135)]}),_0x270544[_0x3113ea(0x105)]&&(sessions=sessions[_0x3113ea(0x121)](_0x2f1e2f=>!_0x2f1e2f['dateStr'][_0x3113ea(0x15e)](_0x151b9b)),Object[_0x3113ea(0x13c)](_0x270544['calendar'])[_0x3113ea(0x123)](_0x469d9d=>{const _0x54df7c=_0x3113ea,_0x2fb2d4=_0x270544[_0x54df7c(0x105)][_0x469d9d];_0x2fb2d4[_0x54df7c(0x123)](_0x7fe220=>{const _0x1382d9=_0x54df7c;sessions[_0x1382d9(0x16b)]({'id':_0x7fe220['i'],'clientId':_0x7fe220['c'],'coachId':_0x7fe220['cid'],'dateStr':_0x151b9b+'-'+_0x469d9d[_0x1382d9(0x104)](0x2,'0'),'start':_0x7fe220['s'],'end':_0x7fe220['e'],'note':_0x7fe220['n']||'','status':_0x7fe220['st']||_0x1382d9(0x1a0),'seriesId':_0x7fe220[_0x1382d9(0x1c4)]});});})),reRenderBlocks();}};function init(){const _0x3d19a5=a3_0x1f1cf5;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3d19a5(0xff)](_0x3d19a5(0x19c))[_0x3d19a5(0x160)](_0x3d19a5(0xe5),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x365e0e=a3_0x1f1cf5,_0x4d804b=document[_0x365e0e(0xff)](_0x365e0e(0x1bb)),_0x519a82=document[_0x365e0e(0xff)](_0x365e0e(0x1cc));_0x4d804b[_0x365e0e(0x18f)]='',_0x4d804b[_0x365e0e(0xf4)](_0x519a82);for(let _0x4dd1e8=0x0;_0x4dd1e8<0x18;_0x4dd1e8++){const _0x21374f=document[_0x365e0e(0xd1)]('div');_0x21374f[_0x365e0e(0xe4)]='time-label';if(_0x4dd1e8>0x0)_0x21374f[_0x365e0e(0x18f)]=_0x365e0e(0x168)+String(_0x4dd1e8)[_0x365e0e(0x104)](0x2,'0')+_0x365e0e(0xd3);_0x4d804b[_0x365e0e(0xf4)](_0x21374f);}}function renderDayRange(_0x3881ce,_0x2aef19){const _0x48c567=a3_0x1f1cf5,_0x5062fe=document[_0x48c567(0xff)]('daysHeaderTrack'),_0xb4ee9c=document[_0x48c567(0xff)](_0x48c567(0x10e)),_0x267e7f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1879bb=new Date();_0x1879bb[_0x48c567(0x179)](0x0,0x0,0x0,0x0);const _0x388ed5=getLocalDateStr(new Date());for(let _0x93dbbc=_0x3881ce;_0x93dbbc<=_0x2aef19;_0x93dbbc++){const _0x2d33fd=new Date(_0x1879bb);_0x2d33fd[_0x48c567(0xf8)](_0x2d33fd['getDate']()+_0x93dbbc);const _0x260218=getLocalDateStr(_0x2d33fd);let _0x16fa01=_0x2d33fd[_0x48c567(0x175)]()-0x1;if(_0x16fa01===-0x1)_0x16fa01=0x6;const _0x4a4a92=_0x260218===_0x388ed5,_0x28811d=document[_0x48c567(0xd1)](_0x48c567(0xe0));_0x28811d['className']=_0x48c567(0xe3)+(_0x4a4a92?'today':''),_0x28811d[_0x48c567(0x1ba)]('data-date',_0x260218),_0x28811d['innerHTML']=_0x48c567(0x19f)+_0x267e7f[_0x16fa01]+'</div><div\x20class=\x22dch-num\x22>'+_0x2d33fd['getDate']()+'</div>',_0x5062fe[_0x48c567(0xf4)](_0x28811d);const _0x16fb72=document['createElement'](_0x48c567(0xe0));_0x16fb72[_0x48c567(0xe4)]=_0x48c567(0x131)+(_0x4a4a92?_0x48c567(0x1a3):''),_0x16fb72[_0x48c567(0x1ba)](_0x48c567(0x152),_0x260218),_0x16fb72[_0x48c567(0x1ba)](_0x48c567(0x195),_0x16fa01),_0xb4ee9c[_0x48c567(0xf4)](_0x16fb72);}}function reRenderBlocks(){const _0x298385=a3_0x1f1cf5;document[_0x298385(0xcf)](_0x298385(0x13f))['forEach'](_0x1f5c21=>{const _0x1f2878=_0x298385;_0x1f5c21[_0x1f2878(0xcf)](_0x1f2878(0x189))[_0x1f2878(0x123)](_0x44c1b9=>_0x44c1b9[_0x1f2878(0x14f)]());const _0x30c29f=_0x1f5c21[_0x1f2878(0x113)](_0x1f2878(0x152)),_0x340fff=parseInt(_0x1f5c21[_0x1f2878(0x113)]('data-day-idx')),_0xe189d5=Math[_0x1f2878(0x145)](_0x1f5c21[_0x1f2878(0x190)]);(availabilityPattern[_0x340fff]||[])[_0x1f2878(0x123)](_0x9ff50=>{const _0x4e2a93=_0x1f2878,_0x2b872d=document[_0x4e2a93(0xd1)](_0x4e2a93(0xe0));_0x2b872d[_0x4e2a93(0xe4)]=_0x4e2a93(0x11d),_0x2b872d['style'][_0x4e2a93(0x14e)]=_0x9ff50*GRID_H+'px',_0x2b872d[_0x4e2a93(0x170)]['backgroundPosition']='-'+_0xe189d5+'px\x20-'+_0x9ff50*GRID_H+'px',_0x1f5c21[_0x4e2a93(0xf4)](_0x2b872d);});if(specialRanges['length']>0x0){const _0x54acb1=new Date(_0x30c29f+_0x1f2878(0x103))[_0x1f2878(0x102)](),_0x1d8bc7=new Date(_0x30c29f+_0x1f2878(0x199))[_0x1f2878(0x102)]();specialRanges[_0x1f2878(0x123)](_0x1916ff=>{const _0x2ddf71=_0x1f2878,_0x21f5d4=new Date(_0x1916ff['start'])[_0x2ddf71(0x102)](),_0x4fefa3=new Date(_0x1916ff[_0x2ddf71(0x155)])[_0x2ddf71(0x102)](),_0x1dda14=Math[_0x2ddf71(0xfe)](_0x54acb1,_0x21f5d4),_0x48100e=Math[_0x2ddf71(0x1b9)](_0x1d8bc7,_0x4fefa3);if(_0x1dda14<_0x48100e){const _0x45d079=(_0x1dda14-_0x54acb1)/0x36ee80*GRID_H,_0x5ebad9=(_0x48100e-_0x1dda14)/0x36ee80*GRID_H,_0x1a20dc=document['createElement']('div');_0x5ebad9>=23.5*GRID_H?(_0x1a20dc[_0x2ddf71(0xe4)]=_0x2ddf71(0x11f),_0x1a20dc[_0x2ddf71(0x170)][_0x2ddf71(0x116)]='-'+_0xe189d5+_0x2ddf71(0x18b)):(_0x1a20dc[_0x2ddf71(0xe4)]='blocked-range-part\x20stripe-bg',_0x1a20dc[_0x2ddf71(0x170)]['top']=_0x45d079+'px',_0x1a20dc[_0x2ddf71(0x170)]['height']=_0x5ebad9+'px',_0x1a20dc[_0x2ddf71(0x170)][_0x2ddf71(0x116)]='-'+_0xe189d5+_0x2ddf71(0x14d)+_0x45d079+'px'),_0x1f5c21['appendChild'](_0x1a20dc);}});}renderEventsForColumn(_0x1f5c21,_0x30c29f);});}function renderEventsForColumn(_0x1b4279,_0x2f91ea){const _0x1de432=a3_0x1f1cf5,_0x25f334=sessions['filter'](_0x6d5fa8=>_0x6d5fa8[_0x1de432(0x132)]===_0x2f91ea),_0x48be15=_0x25f334[_0x1de432(0x1b0)](_0x3ebd9b=>{const _0x1a6bcb=_0x1de432,[_0x3c3d55,_0x1b89fa]=_0x3ebd9b[_0x1a6bcb(0x11a)]['split'](':')['map'](Number),[_0x170744,_0x235c3e]=_0x3ebd9b[_0x1a6bcb(0x155)]['split'](':')[_0x1a6bcb(0x1b0)](Number);return{'data':_0x3ebd9b,'start':_0x3c3d55*0x3c+_0x1b89fa,'end':_0x170744*0x3c+_0x235c3e,'colIndex':0x0};});_0x48be15['sort']((_0x3a0dd0,_0x4bb10c)=>_0x3a0dd0[_0x1de432(0x11a)]-_0x4bb10c[_0x1de432(0x11a)]||_0x4bb10c[_0x1de432(0x155)]-_0x4bb10c['start']-(_0x3a0dd0[_0x1de432(0x155)]-_0x3a0dd0[_0x1de432(0x11a)]));const _0x3c5428=[];_0x48be15[_0x1de432(0x123)](_0x616dc=>{const _0x5c5b56=_0x1de432;let _0x29313a=![];for(let _0x5cfab0=0x0;_0x5cfab0<_0x3c5428['length'];_0x5cfab0++){const _0x9831b=_0x3c5428[_0x5cfab0];if(_0x616dc[_0x5c5b56(0x11a)]>=_0x9831b[_0x9831b[_0x5c5b56(0x134)]-0x1][_0x5c5b56(0x155)]){_0x9831b[_0x5c5b56(0x16b)](_0x616dc),_0x616dc[_0x5c5b56(0x1cf)]=_0x5cfab0,_0x29313a=!![];break;}}!_0x29313a&&(_0x3c5428[_0x5c5b56(0x16b)]([_0x616dc]),_0x616dc['colIndex']=_0x3c5428['length']-0x1);}),_0x48be15[_0x1de432(0x123)](_0x47348a=>{const _0x4a2936=_0x1de432;let _0x155abe=0x0;_0x48be15['forEach'](_0xdcbad5=>{const _0x4a1eae=a3_0x1c8d;if(Math[_0x4a1eae(0xfe)](_0x47348a['start'],_0xdcbad5['start'])<Math[_0x4a1eae(0x1b9)](_0x47348a[_0x4a1eae(0x155)],_0xdcbad5[_0x4a1eae(0x155)])&&_0xdcbad5[_0x4a1eae(0x1cf)]>_0x155abe)_0x155abe=_0xdcbad5['colIndex'];});const _0xce432b=_0x155abe+0x1,_0x2d8668=0x64/_0xce432b,_0x5ba162=_0x47348a[_0x4a2936(0x1cf)]*_0x2d8668,_0x79b97c=document[_0x4a2936(0xd1)]('div'),_0x4a8c40=_0x47348a[_0x4a2936(0xda)];let _0x2d05a1=_0x4a2936(0x154);if(clients&&clients[_0x4a2936(0x134)]>0x0){const _0x5a9aff=clients['find'](_0x26916e=>String(_0x26916e['id'])===String(_0x4a8c40[_0x4a2936(0x177)]));if(_0x5a9aff&&_0x5a9aff['color'])_0x2d05a1=_0x5a9aff[_0x4a2936(0x120)];}const _0x4a9397=_0x4a8c40[_0x4a2936(0x181)]===_0x4a2936(0x128),_0x57879c=_0x4a9397?0x1:0.45;_0x79b97c['className']=_0x4a2936(0x1a5)+(_0x4a9397?_0x4a2936(0x1c3):''),_0x79b97c[_0x4a2936(0x170)][_0x4a2936(0x15a)]=hexToRgba(_0x2d05a1,_0x57879c),_0x79b97c[_0x4a2936(0x170)][_0x4a2936(0xf9)]=_0x2d05a1;const _0x2cb23b=_0x47348a[_0x4a2936(0x11a)]/0x3c*GRID_H,_0x8ed850=(_0x47348a[_0x4a2936(0x155)]-_0x47348a[_0x4a2936(0x11a)])/0x3c*GRID_H;_0x79b97c[_0x4a2936(0x170)][_0x4a2936(0x14e)]=_0x2cb23b+'px',_0x79b97c['style'][_0x4a2936(0xd4)]=Math[_0x4a2936(0xfe)](_0x8ed850,0x14)+'px',_0x79b97c[_0x4a2936(0x170)][_0x4a2936(0x10b)]=_0x4a2936(0x1b5)+_0x2d8668+_0x4a2936(0x149),_0x79b97c[_0x4a2936(0x170)][_0x4a2936(0x148)]=_0x4a2936(0x1b5)+_0x5ba162+'%\x20+\x202px)',_0x79b97c['style'][_0x4a2936(0x14c)]=0xa+_0x47348a['colIndex'];if(_0x2d8668<0x55)_0x79b97c[_0x4a2936(0x1ab)][_0x4a2936(0x129)](_0x4a2936(0x161));let _0x3ac039='';if(_0x4a8c40[_0x4a2936(0x144)])_0x3ac039+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x4a9397)_0x3ac039+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x79b97c[_0x4a2936(0x18f)]=_0x4a2936(0x15f)+_0x4a8c40[_0x4a2936(0x11a)]+'\x20-\x20'+_0x4a8c40['end']+_0x4a2936(0x126)+_0x3ac039+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x79b97c[_0x4a2936(0x1b6)]=_0x19d044=>{_0x19d044['stopPropagation'](),openDetails(_0x4a8c40);},_0x1b4279[_0x4a2936(0xf4)](_0x79b97c);});}function openAnalytics(){const _0xd957ad=a3_0x1f1cf5,_0x19b65c=document[_0xd957ad(0xdf)](_0xd957ad(0x187));setAnalyticsPeriod(_0xd957ad(0x1c5),_0x19b65c),openSheet(_0xd957ad(0x1ad));}function setAnalyticsPeriod(_0x18bb84,_0x55c5d8){const _0x1276f5=a3_0x1f1cf5;currentAnPeriod=_0x18bb84,document[_0x1276f5(0xcf)](_0x1276f5(0x187))['forEach'](_0x5307e2=>_0x5307e2[_0x1276f5(0x1ab)][_0x1276f5(0x14f)](_0x1276f5(0xd9)));if(_0x55c5d8)_0x55c5d8[_0x1276f5(0x1ab)][_0x1276f5(0x129)](_0x1276f5(0xd9));const _0x8b7676=document[_0x1276f5(0xff)](_0x1276f5(0x1ce));_0x8b7676[_0x1276f5(0x170)]['display']=_0x18bb84===_0x1276f5(0x1a4)?_0x1276f5(0x142):'none';const _0x52f94d=new Date();let _0x34a675=new Date(),_0x5ce315=new Date();if(_0x18bb84===_0x1276f5(0x1c5))_0x34a675=getStartOfWeek(_0x52f94d),_0x5ce315=new Date(_0x34a675),_0x5ce315[_0x1276f5(0xf8)](_0x5ce315[_0x1276f5(0x1d2)]()+0x6);else{if(_0x18bb84===_0x1276f5(0xd7))_0x34a675=new Date(_0x52f94d[_0x1276f5(0x140)](),_0x52f94d[_0x1276f5(0x1b8)](),0x1),_0x5ce315=new Date(_0x52f94d['getFullYear'](),_0x52f94d[_0x1276f5(0x1b8)]()+0x1,0x0);else{!document['getElementById'](_0x1276f5(0x16a))[_0x1276f5(0x19d)]&&(document[_0x1276f5(0xff)](_0x1276f5(0x16a))[_0x1276f5(0x19d)]=getLocalDateStr(_0x52f94d),document[_0x1276f5(0xff)](_0x1276f5(0x156))[_0x1276f5(0x19d)]=getLocalDateStr(_0x52f94d));refreshAnalytics();return;}}document[_0x1276f5(0xff)](_0x1276f5(0x16a))[_0x1276f5(0x19d)]=getLocalDateStr(_0x34a675),document[_0x1276f5(0xff)](_0x1276f5(0x156))[_0x1276f5(0x19d)]=getLocalDateStr(_0x5ce315),refreshAnalytics();}function refreshAnalytics(){const _0x546751=a3_0x1f1cf5,_0x40f46c=document[_0x546751(0xff)](_0x546751(0x16a))[_0x546751(0x19d)],_0x5e772f=document['getElementById']('anEnd')[_0x546751(0x19d)];if(!_0x40f46c||!_0x5e772f)return;const _0x4b00f7=sessions[_0x546751(0x121)](_0x16b2b8=>_0x16b2b8[_0x546751(0x132)]>=_0x40f46c&&_0x16b2b8['dateStr']<=_0x5e772f&&_0x16b2b8[_0x546751(0x181)]!==_0x546751(0x133)),_0x4432cd=_0x4b00f7[_0x546751(0x134)],_0x160701=_0x4b00f7['filter'](_0x137055=>_0x137055[_0x546751(0x181)]==='completed')[_0x546751(0x134)],_0x26520d=_0x4432cd>0x0?Math[_0x546751(0x145)](_0x160701/_0x4432cd*0x64):0x0;document[_0x546751(0xff)](_0x546751(0x1d0))[_0x546751(0x136)]=_0x26520d+'%',document['getElementById'](_0x546751(0x17d))[_0x546751(0x136)]=_0x160701+_0x546751(0xe1)+_0x4432cd+_0x546751(0x15c);const _0x4fd58e=document['getElementById'](_0x546751(0x118)),_0x32132a=0x2*Math['PI']*0x23,_0x424f4c=_0x32132a-_0x26520d/0x64*_0x32132a;_0x4fd58e['style'][_0x546751(0x186)]=_0x424f4c;const _0x4b8717={};_0x4b00f7[_0x546751(0x123)](_0x56bdba=>{const _0x6fe14d=_0x546751,_0x4b1b22=_0x56bdba['coachId']||_0x6fe14d(0x194);if(!_0x4b8717[_0x4b1b22]){const _0x1e04e8='#'+_0x4b1b22[_0x6fe14d(0xf1)]()[_0x6fe14d(0x138)](0x0,0x6);_0x4b8717[_0x4b1b22]={'total':0x0,'done':0x0,'color':_0x1e04e8};}_0x4b8717[_0x4b1b22]['total']++;if(_0x56bdba[_0x6fe14d(0x181)]===_0x6fe14d(0x128))_0x4b8717[_0x4b1b22]['done']++;});const _0x4a9956=document[_0x546751(0xff)]('analyticsList');_0x4a9956[_0x546751(0x18f)]='';const _0x3c3555=Object[_0x546751(0x1d4)](_0x4b8717)[_0x546751(0xcd)]((_0x3ac4ba,_0x3bc8c1)=>_0x3bc8c1[0x1]['total']-_0x3ac4ba[0x1][_0x546751(0x1a7)]);if(_0x3c3555['length']===0x0){_0x4a9956[_0x546751(0x18f)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3c3555[_0x546751(0x123)](([_0x291628,_0x4c9a2d])=>{const _0x1d37a1=_0x546751,_0x1cafe5=Math[_0x1d37a1(0x145)](_0x4c9a2d['done']/_0x4c9a2d[_0x1d37a1(0x1a7)]*0x64),_0x1a04d7=document['createElement'](_0x1d37a1(0xe0));_0x1a04d7['className']=_0x1d37a1(0xe6),_0x1a04d7[_0x1d37a1(0x170)]['borderLeftColor']=_0x4c9a2d['color'],_0x1a04d7[_0x1d37a1(0x18f)]=_0x1d37a1(0x16f)+_0x291628['substr'](0x0,0x5)+_0x1d37a1(0xe2)+_0x4c9a2d[_0x1d37a1(0x185)]+'</span>\x20/\x20'+_0x4c9a2d['total']+_0x1d37a1(0x184)+_0x1cafe5+_0x1d37a1(0x1c2),_0x4a9956[_0x1d37a1(0xf4)](_0x1a04d7);});}function openDetails(_0x1911ff){const _0x4ae2eb=a3_0x1f1cf5;currentSession=_0x1911ff;const _0x4755b8=new Date(_0x1911ff[_0x4ae2eb(0x132)]),_0x228208=_0x4755b8[_0x4ae2eb(0xee)](_0x4ae2eb(0x143),{'weekday':_0x4ae2eb(0xdd),'day':_0x4ae2eb(0xd5),'month':_0x4ae2eb(0xdd)});document[_0x4ae2eb(0xff)](_0x4ae2eb(0x167))[_0x4ae2eb(0x136)]=_0x228208[_0x4ae2eb(0x17b)](0x0)['toUpperCase']()+_0x228208[_0x4ae2eb(0xcc)](0x1),document[_0x4ae2eb(0xff)](_0x4ae2eb(0x146))[_0x4ae2eb(0x136)]=_0x1911ff[_0x4ae2eb(0x11a)]+_0x4ae2eb(0x182)+_0x1911ff[_0x4ae2eb(0x155)],document[_0x4ae2eb(0xff)](_0x4ae2eb(0x183))[_0x4ae2eb(0x136)]=_0x1911ff['note']||_0x4ae2eb(0x12f);const _0x1abb49=document[_0x4ae2eb(0xff)](_0x4ae2eb(0x19e)),_0x330da5=document[_0x4ae2eb(0xff)](_0x4ae2eb(0x174)),_0x6c22a4=_0x330da5[_0x4ae2eb(0xdf)](_0x4ae2eb(0xdb)),_0x27e99e=_0x330da5[_0x4ae2eb(0xdf)](_0x4ae2eb(0xe9)),_0x2a1e34=document['getElementById'](_0x4ae2eb(0x1bf));if(_0x1911ff[_0x4ae2eb(0x181)]===_0x4ae2eb(0x128))_0x1abb49[_0x4ae2eb(0x136)]=_0x4ae2eb(0x13d),_0x1abb49['style'][_0x4ae2eb(0x120)]=_0x4ae2eb(0x101),_0x330da5[_0x4ae2eb(0x170)][_0x4ae2eb(0x1a9)]='none';else{_0x1abb49[_0x4ae2eb(0x136)]=_0x4ae2eb(0x119),_0x1abb49['style']['color']=_0x4ae2eb(0x13a),_0x330da5['style'][_0x4ae2eb(0x1a9)]='block';const _0x380d92=new Date(_0x1911ff[_0x4ae2eb(0x132)]+'T'+_0x1911ff[_0x4ae2eb(0x11a)]),_0x17b80a=new Date(),_0x5dde1c=(_0x380d92-_0x17b80a)/(0x3e8*0x3c*0x3c),_0x22d2c8=coachProfiles[_0x1911ff['coachId']]&&coachProfiles[_0x1911ff[_0x4ae2eb(0x15b)]][_0x4ae2eb(0x12e)]?parseInt(coachProfiles[_0x1911ff[_0x4ae2eb(0x15b)]][_0x4ae2eb(0x12e)]):0x18;if(_0x22d2c8===0x0||_0x5dde1c>=_0x22d2c8)_0x6c22a4[_0x4ae2eb(0x170)][_0x4ae2eb(0x1a9)]=_0x4ae2eb(0x16d),_0x27e99e[_0x4ae2eb(0x170)]['display']=_0x4ae2eb(0x16d),_0x2a1e34[_0x4ae2eb(0x170)][_0x4ae2eb(0x1a9)]=_0x4ae2eb(0x109);else{_0x6c22a4['style'][_0x4ae2eb(0x1a9)]='none',_0x27e99e[_0x4ae2eb(0x170)][_0x4ae2eb(0x1a9)]=_0x4ae2eb(0x109),_0x2a1e34[_0x4ae2eb(0x170)]['display']='block';let _0x1c7f9d=_0x22d2c8===0x0?_0x4ae2eb(0x106):_0x4ae2eb(0x1bc)+_0x22d2c8+_0x4ae2eb(0x173);_0x2a1e34[_0x4ae2eb(0x136)]=_0x4ae2eb(0x10f)+_0x1c7f9d+_0x4ae2eb(0x100);}}document['getElementById'](_0x4ae2eb(0x163))[_0x4ae2eb(0x1ab)][_0x4ae2eb(0x129)]('active'),document[_0x4ae2eb(0xff)](_0x4ae2eb(0x193))['classList']['add'](_0x4ae2eb(0x18a));}function closeAllSheets(){const _0x1f8cc0=a3_0x1f1cf5;document[_0x1f8cc0(0xff)](_0x1f8cc0(0x163))['classList'][_0x1f8cc0(0x14f)](_0x1f8cc0(0xd9)),document[_0x1f8cc0(0xcf)](_0x1f8cc0(0x1c0))[_0x1f8cc0(0x123)](_0x7089c1=>_0x7089c1[_0x1f8cc0(0x1ab)]['remove'](_0x1f8cc0(0x18a)));}function openSheet(_0x2bb14a){const _0x2e61fa=a3_0x1f1cf5;document[_0x2e61fa(0xff)](_0x2e61fa(0x163))[_0x2e61fa(0x1ab)][_0x2e61fa(0x129)](_0x2e61fa(0xd9)),document[_0x2e61fa(0xff)](_0x2bb14a)['classList'][_0x2e61fa(0x129)](_0x2e61fa(0x18a));}function getLocalDateStr(_0x33efce){const _0x2b5b1f=a3_0x1f1cf5,_0x55069b=_0x33efce[_0x2b5b1f(0x140)](),_0x3971cb=String(_0x33efce['getMonth']()+0x1)[_0x2b5b1f(0x104)](0x2,'0'),_0x58071f=String(_0x33efce[_0x2b5b1f(0x1d2)]())[_0x2b5b1f(0x104)](0x2,'0');return _0x55069b+'-'+_0x3971cb+'-'+_0x58071f;}function getStartOfWeek(_0x22073a){const _0x20cbdc=a3_0x1f1cf5,_0x27de8f=new Date(_0x22073a),_0xbcf9e9=_0x27de8f['getDay'](),_0x52056c=_0x27de8f[_0x20cbdc(0x1d2)]()-_0xbcf9e9+(_0xbcf9e9===0x0?-0x6:0x1);return _0x27de8f[_0x20cbdc(0xf8)](_0x52056c),_0x27de8f[_0x20cbdc(0x179)](0x0,0x0,0x0,0x0),_0x27de8f;}function a3_0x1c8d(_0x30d2ec,_0x43545){_0x30d2ec=_0x30d2ec-0xcc;const _0x364a7d=a3_0x247b();let _0x307d29=_0x364a7d[_0x30d2ec];return _0x307d29;}function scrollToToday(){const _0x3aaba7=getLocalDateStr(new Date());setTimeout(()=>{const _0x382840=a3_0x1c8d,_0x47f091=document[_0x382840(0xdf)]('.day-col-header[data-date=\x22'+_0x3aaba7+'\x22]');if(_0x47f091){const _0x46190d=document['getElementById'](_0x382840(0x19c)),_0x422f8f=_0x47f091[_0x382840(0x190)]-_0x46190d['clientWidth']/0x2+_0x47f091[_0x382840(0x159)]/0x2;_0x46190d[_0x382840(0x16e)]({'left':_0x422f8f,'behavior':_0x382840(0x18c)}),_0x46190d[_0x382840(0x108)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1a1b9c=a3_0x1f1cf5,_0x371079=new Date(),_0x57764b=document['getElementById'](_0x1a1b9c(0x11e)),_0x1f6845=document['getElementById']('timeLineBadge'),_0x4ecd82=(_0x371079[_0x1a1b9c(0x110)]()*0x3c+_0x371079[_0x1a1b9c(0x1ca)]())/0x3c*GRID_H;_0x57764b['style'][_0x1a1b9c(0x14e)]=_0x4ecd82+'px',_0x57764b[_0x1a1b9c(0x170)][_0x1a1b9c(0x1a9)]=_0x1a1b9c(0x16d),_0x1f6845[_0x1a1b9c(0x170)][_0x1a1b9c(0x14e)]=_0x4ecd82+'px',_0x1f6845[_0x1a1b9c(0x170)][_0x1a1b9c(0x1a9)]=_0x1a1b9c(0x16d),_0x1f6845[_0x1a1b9c(0x136)]=String(_0x371079[_0x1a1b9c(0x110)]())['padStart'](0x2,'0')+':'+String(_0x371079[_0x1a1b9c(0x1ca)]())[_0x1a1b9c(0x104)](0x2,'0');}function onScroll(){const _0x22e746=a3_0x1f1cf5,_0x328bb3=document[_0x22e746(0xff)](_0x22e746(0x19c)),_0x27f256=document[_0x22e746(0xcf)](_0x22e746(0x188));for(let _0x2777fb of _0x27f256)if(_0x2777fb[_0x22e746(0x190)]>=_0x328bb3[_0x22e746(0xf5)]){const _0x127f8a=new Date(_0x2777fb[_0x22e746(0x113)](_0x22e746(0x152)));document['getElementById']('headerMonth')[_0x22e746(0x136)]=_0x127f8a['toLocaleString']('ru',{'month':_0x22e746(0xdd)})[_0x22e746(0x1cd)]()+'\x20'+_0x127f8a[_0x22e746(0x140)]();break;}}function a3_0x247b(){const _0x368699=['832WwpnGi','offsetWidth','backgroundColor','coachId','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–û—Ç–º–µ–Ω–µ–Ω–æ','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','addEventListener','mini','then','overlay','expand','WebApp','firstChild','detDate','<span>','</div>','anStart','push','(((.+)+)+)+$','block','scrollTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','style','8JdpHaE','now','\x20—á.','cancelContainer','getDay','toast','clientId','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','setHours','rgba(10,\x20132,\x20255,\x20','charAt','all','anTotalStats','ready','split','location','status','\x20-\x20','detNote','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','done','strokeDashoffset','.period-switch\x20.p-btn','.day-col-header','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','open','px\x200px','auto','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','saveLocally','innerHTML','offsetLeft','10pcnQgb','561723xCuaGw','detailsSheet','Unknown','data-day-idx','createDocumentFragment','initData','.rs-date-chip','T23:59:59','substring','<div\x20class=\x22rs-day-name\x22>','matrixViewport','value','detStatus','<div\x20class=\x22dch-day\x22>','planned','show','setMonth','today','custom','event-card','daysHeaderTrack','total','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','display','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','classList','fontWeight','analyticsSheet','exceptions','join','map','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setBackgroundColor','128475JRRlkx','21686MnhxKz','calc(','onclick','disableVerticalSwipes','getMonth','min','setAttribute','timeColumn','–∑–∞\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','log','cancelHint','.sheet','apply','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20status-completed','sid','week','findIndex','pattern','ranges','user','getMinutes','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','timeLineBadge','toUpperCase','anCustomDates','colIndex','anPercent','uc_client_list','getDate','\x20–≤\x20','entries','slice','sort','test','querySelectorAll','scrollWidth','createElement','rsSlotsGrid',':00</span>','height','numeric','initDataUnsafe','month','stringify','active','data','.btn-cancel','rgba(','long','BackButton','querySelector','div','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','day-col-header\x20','className','scroll','client-stat-card','10943526toIIsC','Critical\x20TMA\x20Error:','.btn-reschedule','ccTitle','parse','json','12KovkqE','toLocaleDateString','clientWidth','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','toString','1415922QdbrWL','offClick','appendChild','scrollLeft','search','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','setDate','borderLeftColor','insertBefore','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','uc_client_sessions','rs-date-chip','max','getElementById','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','var(--acc-green)','getTime','T00:00:00','padStart','calendar','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','settings','scrollTop','none','Error\x20setting\x20back\x20button:','width','5tFLgxe','POST','gridColumns','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getHours','rescheduleSheet','468412WHHNQa','getAttribute','setHeaderColor','clients','backgroundPosition','client_load','anDonutCircle','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','start','reschedule','customConfirm','blocked-slot\x20stripe-bg','globalTimeLine','day-off-overlay\x20stripe-bg','color','filter','setItem','forEach','applyData','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsDatesTrack','completed','add','rs-time-btn','600','syncLoad','DOMContentLoaded','cancel_window','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','floor','day-column\x20','dateStr','cancelled','length','coach_profiles','textContent','v9.5-CLIENT-ANALYTICS','substr','Telegram','var(--acc-blue)','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','keys','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','40593NyEgKb','.day-column','getFullYear','uc_client_settings','flex','ru-RU','seriesId','round','detTime','constructor','left','%\x20-\x204px)','error','visible','zIndex','px\x20-','top','remove','#050505','</div><div\x20class=\x22dch-num\x22>','data-date','href','#0a84ff','end','anEnd','ccYesBtn'];a3_0x247b=function(){return _0x368699;};return a3_0x247b();}function showToast(_0x600bc0){const _0x49ccf0=a3_0x1f1cf5,_0x261c93=document[_0x49ccf0(0xff)](_0x49ccf0(0x176));_0x261c93[_0x49ccf0(0x136)]=_0x600bc0,_0x261c93[_0x49ccf0(0x1ab)][_0x49ccf0(0x129)](_0x49ccf0(0x1a1)),setTimeout(()=>_0x261c93[_0x49ccf0(0x1ab)][_0x49ccf0(0x14f)](_0x49ccf0(0x1a1)),0x7d0);}function handleInfiniteScroll(){const _0x1eab92=a3_0x1f1cf5,_0x43da77=document[_0x1eab92(0xff)](_0x1eab92(0x19c)),_0x396526=_0x43da77[_0x1eab92(0xf5)],_0x271b3b=_0x43da77[_0x1eab92(0xd0)],_0xa1e656=_0x43da77[_0x1eab92(0xef)];if(_0x271b3b-(_0x396526+_0xa1e656)<0x12c){const _0x1982a1=endOffset;endOffset+=0xe,renderDayRange(_0x1982a1+0x1,endOffset),reRenderBlocks();}if(_0x396526<0x12c){const _0x309aeb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x309aeb-0x1),_0x43da77[_0x1eab92(0xf5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5dc2ed,_0x224800){const _0x21041d=a3_0x1f1cf5,_0x4740be=document[_0x21041d(0xff)](_0x21041d(0x1a6)),_0x4d04a4=document[_0x21041d(0xff)](_0x21041d(0x10e)),_0xae6aea=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32649e=new Date();_0x32649e[_0x21041d(0x179)](0x0,0x0,0x0,0x0);const _0x9e5b0d=getLocalDateStr(new Date()),_0x359aa2=document[_0x21041d(0x196)](),_0x31f5bb=document['createDocumentFragment']();for(let _0x1724e9=_0x5dc2ed;_0x1724e9<=_0x224800;_0x1724e9++){const _0x2586f2=new Date(_0x32649e);_0x2586f2['setDate'](_0x2586f2[_0x21041d(0x1d2)]()+_0x1724e9);const _0x2ff94e=getLocalDateStr(_0x2586f2);let _0xe3994=_0x2586f2[_0x21041d(0x175)]()-0x1;if(_0xe3994===-0x1)_0xe3994=0x6;const _0x1fcb42=_0x2ff94e===_0x9e5b0d,_0x57e470=document['createElement'](_0x21041d(0xe0));_0x57e470[_0x21041d(0xe4)]=_0x21041d(0xe3)+(_0x1fcb42?_0x21041d(0x1a3):''),_0x57e470[_0x21041d(0x1ba)]('data-date',_0x2ff94e),_0x57e470[_0x21041d(0x18f)]=_0x21041d(0x19f)+_0xae6aea[_0xe3994]+_0x21041d(0x151)+_0x2586f2[_0x21041d(0x1d2)]()+_0x21041d(0x169),_0x359aa2['appendChild'](_0x57e470);const _0x3d8e0d=document['createElement'](_0x21041d(0xe0));_0x3d8e0d['className']=_0x21041d(0x131)+(_0x1fcb42?'today':''),_0x3d8e0d['setAttribute'](_0x21041d(0x152),_0x2ff94e),_0x3d8e0d[_0x21041d(0x1ba)](_0x21041d(0x195),_0xe3994),_0x31f5bb[_0x21041d(0xf4)](_0x3d8e0d);}_0x4740be['insertBefore'](_0x359aa2,_0x4740be[_0x21041d(0x166)]),_0x4d04a4[_0x21041d(0xfa)](_0x31f5bb,_0x4d04a4['querySelector']('.day-column'));}function hexToRgba(_0x3c5f07,_0x32a37c){const _0x32b900=a3_0x1f1cf5;let _0x41db01;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x32b900(0xce)](_0x3c5f07))return _0x41db01=_0x3c5f07[_0x32b900(0x19a)](0x1)['split'](''),_0x41db01['length']==0x3&&(_0x41db01=[_0x41db01[0x0],_0x41db01[0x0],_0x41db01[0x1],_0x41db01[0x1],_0x41db01[0x2],_0x41db01[0x2]]),_0x41db01='0x'+_0x41db01[_0x32b900(0x1af)](''),_0x32b900(0xdc)+[_0x41db01>>0x10&0xff,_0x41db01>>0x8&0xff,_0x41db01&0xff][_0x32b900(0x1af)](',')+','+_0x32a37c+')';return _0x32b900(0x17a)+_0x32a37c+')';}let confirmResolver=null;function showCustomConfirm(_0xc5d2d,_0x55ceb6,_0x3b4938=!![]){const _0x2a5b5f=a3_0x1f1cf5;document[_0x2a5b5f(0xff)](_0x2a5b5f(0xea))[_0x2a5b5f(0x136)]=_0xc5d2d,document[_0x2a5b5f(0xff)]('ccText')[_0x2a5b5f(0x136)]=_0x55ceb6;const _0x1dcc2b=document['getElementById'](_0x2a5b5f(0x157));return _0x3b4938?(_0x1dcc2b['style'][_0x2a5b5f(0x120)]='#ff453a',_0x1dcc2b[_0x2a5b5f(0x170)][_0x2a5b5f(0x1ac)]='600'):(_0x1dcc2b[_0x2a5b5f(0x170)][_0x2a5b5f(0x120)]=_0x2a5b5f(0x154),_0x1dcc2b[_0x2a5b5f(0x170)][_0x2a5b5f(0x1ac)]=_0x2a5b5f(0x12b)),new Promise(_0x4e1e21=>{const _0x2f51db=_0x2a5b5f;confirmResolver=_0x4e1e21,document[_0x2f51db(0xff)](_0x2f51db(0x11c))[_0x2f51db(0x1ab)][_0x2f51db(0x129)](_0x2f51db(0x14b));});}function resolveCustomConfirm(_0x1521fd){const _0x244141=a3_0x1f1cf5;document['getElementById'](_0x244141(0x11c))[_0x244141(0x1ab)][_0x244141(0x14f)](_0x244141(0x14b));if(confirmResolver)confirmResolver(_0x1521fd);}async function tryCancelCurrentSession(){const _0x5e4a94=a3_0x1f1cf5;if(!currentSession)return;const _0x357aaf=await showCustomConfirm(_0x5e4a94(0x1bd),_0x5e4a94(0x18d),!![]);if(!_0x357aaf)return;const _0x15afb9=currentSession;closeAllSheets(),sessions=sessions[_0x5e4a94(0x121)](_0x50ef3a=>_0x50ef3a['id']!==_0x15afb9['id']),reRenderBlocks(),showToast(_0x5e4a94(0x15d)),lastUserActionTime=Date['now']();try{const _0x4ce2b6=window['Telegram']?.[_0x5e4a94(0x165)],_0x18252f=await fetch(API_URL,{'method':_0x5e4a94(0x10d),'body':JSON[_0x5e4a94(0xd8)]({'action':'client_cancel','init_data':_0x4ce2b6?.[_0x5e4a94(0x197)]||'','coachId':_0x15afb9[_0x5e4a94(0x15b)],'dateStr':_0x15afb9[_0x5e4a94(0x132)],'sessionId':_0x15afb9['id']})});if(_0x18252f['ok'])DataManager[_0x5e4a94(0x18e)]();}catch(_0x5030e2){showToast(_0x5e4a94(0x178));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3d483b=a3_0x1f1cf5;if(!currentSession)return;document[_0x3d483b(0xff)](_0x3d483b(0x193))[_0x3d483b(0x1ab)][_0x3d483b(0x14f)](_0x3d483b(0x18a)),document[_0x3d483b(0xff)](_0x3d483b(0x111))[_0x3d483b(0x1ab)][_0x3d483b(0x129)](_0x3d483b(0x18a));const _0x9c8323=document[_0x3d483b(0xff)](_0x3d483b(0x127)),_0x442588=document[_0x3d483b(0xff)](_0x3d483b(0xd2));_0x9c8323[_0x3d483b(0x18f)]='',_0x442588['innerHTML']=_0x3d483b(0x1b1);const [_0x536a27,_0x4916de]=currentSession[_0x3d483b(0x11a)]['split'](':')[_0x3d483b(0x1b0)](Number),[_0x3cbd04,_0x1d043a]=currentSession[_0x3d483b(0x155)][_0x3d483b(0x17f)](':')[_0x3d483b(0x1b0)](Number),_0x44f511=_0x3cbd04*0x3c+_0x1d043a-(_0x536a27*0x3c+_0x4916de);try{const _0x17ae80=window[_0x3d483b(0x139)]?.[_0x3d483b(0x165)],_0x270857=await fetch(API_URL,{'method':_0x3d483b(0x10d),'body':JSON[_0x3d483b(0xd8)]({'action':'get_slots','coachId':currentSession[_0x3d483b(0x15b)],'duration':_0x44f511,'init_data':_0x17ae80?.[_0x3d483b(0x197)]||'','excludeSessionId':currentSession['id']})}),_0x4c91f5=await _0x270857[_0x3d483b(0xec)]();_0x4c91f5['ok']&&_0x4c91f5[_0x3d483b(0xda)]?(availableSlotsCache=_0x4c91f5[_0x3d483b(0xda)],renderRescheduleDates()):_0x442588[_0x3d483b(0x18f)]=_0x3d483b(0xf7);}catch(_0x5c10c2){_0x442588[_0x3d483b(0x18f)]=_0x3d483b(0xf0);}}function renderRescheduleDates(){const _0x8ac070=a3_0x1f1cf5,_0x12f300=document['getElementById'](_0x8ac070(0x127));_0x12f300[_0x8ac070(0x18f)]='';const _0xf4092=Object['keys'](availableSlotsCache)[_0x8ac070(0xcd)](),_0x2f4756=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xf4092[_0x8ac070(0x134)]===0x0){document[_0x8ac070(0xff)](_0x8ac070(0xd2))[_0x8ac070(0x18f)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0xf4092[_0x8ac070(0x123)]((_0x34c9ea,_0x16f937)=>{const _0x56d3da=_0x8ac070,_0x2c65d4=new Date(_0x34c9ea),_0x515484=_0x2f4756[_0x2c65d4[_0x56d3da(0x175)]()],_0x17a9b5=_0x2c65d4['getDate'](),_0x2ed76a=document[_0x56d3da(0xd1)](_0x56d3da(0xe0));_0x2ed76a['className']=_0x56d3da(0xfd);if(_0x16f937===0x0)_0x2ed76a[_0x56d3da(0x1ab)][_0x56d3da(0x129)](_0x56d3da(0xd9));_0x2ed76a[_0x56d3da(0x18f)]=_0x56d3da(0x19b)+_0x515484+'</div><div\x20class=\x22rs-day-num\x22>'+_0x17a9b5+_0x56d3da(0x169),_0x2ed76a[_0x56d3da(0x1b6)]=()=>selectRsDate(_0x34c9ea,_0x2ed76a),_0x12f300['appendChild'](_0x2ed76a);}),selectRsDate(_0xf4092[0x0],_0x12f300[_0x8ac070(0x166)]);}function selectRsDate(_0x120c22,_0x406324){const _0x18b3b9=a3_0x1f1cf5;selectedRsDate=_0x120c22,document[_0x18b3b9(0xcf)](_0x18b3b9(0x198))[_0x18b3b9(0x123)](_0x2dfa79=>_0x2dfa79[_0x18b3b9(0x1ab)][_0x18b3b9(0x14f)]('active'));if(_0x406324)_0x406324[_0x18b3b9(0x1ab)][_0x18b3b9(0x129)](_0x18b3b9(0xd9));const _0x5b46f3=document[_0x18b3b9(0xff)]('rsSlotsGrid');_0x5b46f3[_0x18b3b9(0x18f)]='';const _0x3e3ad9=availableSlotsCache[_0x120c22]||[];if(_0x3e3ad9[_0x18b3b9(0x134)]===0x0){_0x5b46f3['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x3e3ad9[_0x18b3b9(0x123)](_0xf94d4e=>{const _0x5494c4=_0x18b3b9,_0x18c988=document[_0x5494c4(0xd1)]('button');_0x18c988[_0x5494c4(0xe4)]=_0x5494c4(0x12a),_0x18c988[_0x5494c4(0x136)]=_0xf94d4e,_0x18c988[_0x5494c4(0x1b6)]=()=>confirmReschedule(_0xf94d4e),_0x5b46f3['appendChild'](_0x18c988);});}async function confirmReschedule(_0x20024d){const _0x4361e8=a3_0x1f1cf5,_0x22b02b=new Date(selectedRsDate),_0x338f04=_0x22b02b['toLocaleDateString']('ru-RU',{'day':_0x4361e8(0xd5),'month':_0x4361e8(0xdd)}),_0x4bee06=await showCustomConfirm(_0x4361e8(0x1cb),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x338f04+_0x4361e8(0x1d3)+_0x20024d+'?',![]);if(!_0x4bee06)return;closeAllSheets(),showToast(_0x4361e8(0x1aa)),lastUserActionTime=Date[_0x4361e8(0x172)]();const _0x5709f3=currentSession[_0x4361e8(0x132)],_0x83e8e9=currentSession['id'],[_0x1a390d,_0x43d10c]=currentSession[_0x4361e8(0x11a)][_0x4361e8(0x17f)](':')[_0x4361e8(0x1b0)](Number),[_0x2d2ac8,_0x1308ae]=currentSession[_0x4361e8(0x155)]['split'](':')[_0x4361e8(0x1b0)](Number),_0x14bafc=_0x2d2ac8*0x3c+_0x1308ae-(_0x1a390d*0x3c+_0x43d10c),[_0x130ce8,_0x8517cf]=_0x20024d[_0x4361e8(0x17f)](':')[_0x4361e8(0x1b0)](Number),_0x3d94bd=_0x130ce8*0x3c+_0x8517cf+_0x14bafc,_0x11b9d2=Math[_0x4361e8(0x130)](_0x3d94bd/0x3c),_0x87d47=_0x3d94bd%0x3c,_0x1bd4ec=String(_0x11b9d2)['padStart'](0x2,'0')+':'+String(_0x87d47)[_0x4361e8(0x104)](0x2,'0'),_0x1845ce=sessions[_0x4361e8(0x1c6)](_0x3d5b63=>_0x3d5b63['id']===_0x83e8e9);_0x1845ce!==-0x1&&(sessions[_0x1845ce][_0x4361e8(0x132)]=selectedRsDate,sessions[_0x1845ce][_0x4361e8(0x11a)]=_0x20024d,sessions[_0x1845ce]['end']=_0x1bd4ec,reRenderBlocks());try{const _0x127bf2=window[_0x4361e8(0x139)]?.[_0x4361e8(0x165)],_0x1a6601=await fetch(API_URL,{'method':_0x4361e8(0x10d),'body':JSON['stringify']({'action':_0x4361e8(0x11b),'init_data':_0x127bf2?.[_0x4361e8(0x197)]||'','oldSessionId':_0x83e8e9,'oldDate':_0x5709f3,'newDate':selectedRsDate,'newTime':_0x20024d,'coachId':currentSession['coachId']})}),_0x1ac8e5=await _0x1a6601[_0x4361e8(0xec)]();!_0x1ac8e5['ok']?(showToast(_0x4361e8(0x125)),DataManager[_0x4361e8(0x12c)]()):(showToast(_0x4361e8(0x1a8)),DataManager['saveLocally']());}catch(_0x324228){showToast(_0x4361e8(0x178));}}document['addEventListener'](a3_0x1f1cf5(0x12d),init);