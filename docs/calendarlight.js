const a3_0x3beceb=a3_0x4a56;(function(_0x4cd435,_0xfeff07){const _0x1239e2=a3_0x4a56,_0x4edbb5=_0x4cd435();while(!![]){try{const _0x4c5a18=parseInt(_0x1239e2(0x284))/0x1*(-parseInt(_0x1239e2(0x267))/0x2)+parseInt(_0x1239e2(0x236))/0x3+parseInt(_0x1239e2(0x201))/0x4*(-parseInt(_0x1239e2(0x22d))/0x5)+-parseInt(_0x1239e2(0x229))/0x6*(-parseInt(_0x1239e2(0x1c9))/0x7)+-parseInt(_0x1239e2(0x20b))/0x8+parseInt(_0x1239e2(0x294))/0x9*(-parseInt(_0x1239e2(0x271))/0xa)+parseInt(_0x1239e2(0x21c))/0xb;if(_0x4c5a18===_0xfeff07)break;else _0x4edbb5['push'](_0x4edbb5['shift']());}catch(_0x1f687c){_0x4edbb5['push'](_0x4edbb5['shift']());}}}(a3_0x2beb,0x2e3a8));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x3beceb(0x2ad),GRID_H=0x3c,KEY_SESSIONS=a3_0x3beceb(0x2ba),KEY_SETTINGS=a3_0x3beceb(0x272),KEY_CLIENTS=a3_0x3beceb(0x278);function a3_0x4a56(_0x1d6718,_0x4d5de4){_0x1d6718=_0x1d6718-0x1c0;const _0x2e0bb3=a3_0x2beb();let _0x57adc3=_0x2e0bb3[_0x1d6718];return _0x57adc3;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x513efe=a3_0x3beceb,_0x17b9dc=(function(){let _0x15b31a=!![];return function(_0x3b3314,_0x91dfae){const _0x4a0b41=_0x15b31a?function(){const _0x4e592a=a3_0x4a56;if(_0x91dfae){const _0x2cafc7=_0x91dfae[_0x4e592a(0x257)](_0x3b3314,arguments);return _0x91dfae=null,_0x2cafc7;}}:function(){};return _0x15b31a=![],_0x4a0b41;};}()),_0x13cba0=_0x17b9dc(this,function(){const _0x177315=a3_0x4a56;return _0x13cba0[_0x177315(0x2a5)]()[_0x177315(0x1fc)](_0x177315(0x29f))[_0x177315(0x2a5)]()[_0x177315(0x25c)](_0x13cba0)[_0x177315(0x1fc)]('(((.+)+)+)+$');});_0x13cba0();try{const _0x466b31=window[_0x513efe(0x206)]?.[_0x513efe(0x205)];if(!_0x466b31)return;_0x466b31['ready'](),_0x466b31[_0x513efe(0x1e9)]();try{_0x466b31['setHeaderColor'](_0x513efe(0x200)),_0x466b31[_0x513efe(0x1ed)]&&_0x466b31['setBackgroundColor'](_0x513efe(0x200));}catch(_0x43d207){console[_0x513efe(0x1e0)](_0x513efe(0x247),_0x43d207);}try{_0x466b31[_0x513efe(0x1d0)]&&(_0x466b31[_0x513efe(0x1d0)][_0x513efe(0x241)](),_0x466b31['BackButton'][_0x513efe(0x28f)](),_0x466b31[_0x513efe(0x1d0)]['onClick'](function(){window['location']['href']='router.html';}));}catch(_0x5d84a9){console[_0x513efe(0x1e0)](_0x513efe(0x1c5),_0x5d84a9);}try{if(_0x466b31[_0x513efe(0x22a)])_0x466b31[_0x513efe(0x22a)]();}catch(_0x3ee164){}}catch(_0x1a3518){console['error']('Critical\x20TMA\x20Error:',_0x1a3518);}}());function isAdmin(){const _0x4cdeab=a3_0x3beceb;try{const _0x4b553e=Number(window[_0x4cdeab(0x206)]?.['WebApp']?.[_0x4cdeab(0x298)]?.['user']?.['id']);return _0x4b553e===0xbaf7174;}catch(_0x5b9609){return![];}}const DataManager={'saveLocally'(){const _0x3522b1=a3_0x3beceb;try{localStorage['setItem'](KEY_SESSIONS,JSON[_0x3522b1(0x262)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3522b1(0x262)](clients)),localStorage[_0x3522b1(0x27e)](KEY_SETTINGS,JSON[_0x3522b1(0x262)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x597e58){}},'loadLocal'(){const _0x450c3f=a3_0x3beceb;try{const _0x53a0e2=localStorage[_0x450c3f(0x1eb)](KEY_SESSIONS);if(_0x53a0e2)sessions=JSON[_0x450c3f(0x25f)](_0x53a0e2);const _0x4058e1=localStorage[_0x450c3f(0x1eb)](KEY_CLIENTS);if(_0x4058e1)clients=JSON[_0x450c3f(0x25f)](_0x4058e1);const _0x3ccc59=localStorage[_0x450c3f(0x1eb)](KEY_SETTINGS);if(_0x3ccc59){const _0xac1ac2=JSON[_0x450c3f(0x25f)](_0x3ccc59);if(_0xac1ac2[_0x450c3f(0x27d)])availabilityPattern=_0xac1ac2[_0x450c3f(0x27d)];if(_0xac1ac2[_0x450c3f(0x1e6)])specialRanges=_0xac1ac2[_0x450c3f(0x1e6)];if(_0xac1ac2['exceptions'])dateExceptions=_0xac1ac2[_0x450c3f(0x28d)];}}catch(_0x55bcee){}},async 'syncLoad'(){const _0x196a33=a3_0x3beceb,_0x30e14d=new Date(),_0x49b383=_0x30e14d[_0x196a33(0x203)]()+'-'+String(_0x30e14d[_0x196a33(0x22c)]()+0x1)['padStart'](0x2,'0'),_0xaab043=new Date(_0x30e14d);_0xaab043[_0x196a33(0x258)](_0x30e14d[_0x196a33(0x22c)]()+0x1);const _0x1f7a66=_0xaab043['getFullYear']()+'-'+String(_0xaab043['getMonth']()+0x1)[_0x196a33(0x1f1)](0x2,'0'),_0x3b8d5e=Date[_0x196a33(0x268)]();try{const _0x5f0342=window[_0x196a33(0x206)]?.[_0x196a33(0x205)],_0x27d4c3=_0x5f0342?.['initData']||'',[_0x186b20,_0x273acf]=await Promise[_0x196a33(0x2b6)]([fetch(API_URL,{'method':_0x196a33(0x2b0),'body':JSON[_0x196a33(0x262)]({'action':_0x196a33(0x2b2),'init_data':_0x27d4c3,'month_str':_0x49b383})})[_0x196a33(0x1c3)](_0x566b0a=>_0x566b0a['json']()),fetch(API_URL,{'method':_0x196a33(0x2b0),'body':JSON[_0x196a33(0x262)]({'action':_0x196a33(0x2b2),'init_data':_0x27d4c3,'month_str':_0x1f7a66})})[_0x196a33(0x1c3)](_0x4544ce=>_0x4544ce[_0x196a33(0x21a)]())]);if(lastUserActionTime>_0x3b8d5e){console['log'](_0x196a33(0x202));return;}if(_0x186b20['ok'])this[_0x196a33(0x2be)](_0x186b20[_0x196a33(0x1fd)],_0x49b383);if(_0x273acf['ok'])this[_0x196a33(0x2be)](_0x273acf['data'],_0x1f7a66);this[_0x196a33(0x1f6)]();}catch(_0x58ac7e){}},'applyData'(_0x3ccba0,_0x38dde2){const _0x3b90d0=a3_0x3beceb;if(!_0x3ccba0)return;if(_0x3ccba0[_0x3b90d0(0x230)]){if(_0x3ccba0[_0x3b90d0(0x230)][_0x3b90d0(0x27d)])availabilityPattern=_0x3ccba0[_0x3b90d0(0x230)][_0x3b90d0(0x27d)];if(_0x3ccba0['settings']['ranges'])specialRanges=_0x3ccba0[_0x3b90d0(0x230)][_0x3b90d0(0x1e6)];if(_0x3ccba0[_0x3b90d0(0x230)][_0x3b90d0(0x28d)])dateExceptions=_0x3ccba0[_0x3b90d0(0x230)][_0x3b90d0(0x28d)];}if(_0x3ccba0[_0x3b90d0(0x1db)]&&Array['isArray'](_0x3ccba0[_0x3b90d0(0x1db)]))clients=_0x3ccba0['clients'];_0x3ccba0[_0x3b90d0(0x29e)]&&(coachProfiles={...coachProfiles,..._0x3ccba0[_0x3b90d0(0x29e)]}),_0x3ccba0[_0x3b90d0(0x1f3)]&&(sessions=sessions[_0x3b90d0(0x211)](_0x169955=>!_0x169955[_0x3b90d0(0x1fb)][_0x3b90d0(0x23f)](_0x38dde2)),Object[_0x3b90d0(0x1f5)](_0x3ccba0[_0x3b90d0(0x1f3)])[_0x3b90d0(0x1e2)](_0x4ec9b6=>{const _0x45e008=_0x3b90d0,_0x61cf08=_0x3ccba0[_0x45e008(0x1f3)][_0x4ec9b6];_0x61cf08[_0x45e008(0x1e2)](_0x1ff552=>{const _0x43c773=_0x45e008;sessions[_0x43c773(0x218)]({'id':_0x1ff552['i'],'clientId':_0x1ff552['c'],'coachId':_0x1ff552[_0x43c773(0x228)],'dateStr':_0x38dde2+'-'+_0x4ec9b6[_0x43c773(0x1f1)](0x2,'0'),'start':_0x1ff552['s'],'end':_0x1ff552['e'],'note':_0x1ff552['n']||'','status':_0x1ff552['st']||_0x43c773(0x255),'seriesId':_0x1ff552[_0x43c773(0x2a1)]});});})),reRenderBlocks();}};function init(){const _0x582184=a3_0x3beceb;DataManager[_0x582184(0x1f9)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x582184(0x1f0))['addEventListener'](_0x582184(0x2a6),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x582184(0x223)]();}function renderTimeColumn(){const _0x2c453c=a3_0x3beceb,_0x107009=document[_0x2c453c(0x259)]('timeColumn'),_0x5f2c18=document[_0x2c453c(0x259)](_0x2c453c(0x253));_0x107009[_0x2c453c(0x299)]='',_0x107009[_0x2c453c(0x25b)](_0x5f2c18);for(let _0x5c6964=0x0;_0x5c6964<0x18;_0x5c6964++){const _0x15dadc=document[_0x2c453c(0x234)](_0x2c453c(0x245));_0x15dadc['className']=_0x2c453c(0x29c);if(_0x5c6964>0x0)_0x15dadc[_0x2c453c(0x299)]=_0x2c453c(0x1f4)+String(_0x5c6964)['padStart'](0x2,'0')+_0x2c453c(0x24b);_0x107009[_0x2c453c(0x25b)](_0x15dadc);}}function renderDayRange(_0x4055ad,_0x1bc8e8){const _0x16065a=a3_0x3beceb,_0x130559=document['getElementById']('daysHeaderTrack'),_0x17605c=document[_0x16065a(0x259)](_0x16065a(0x2b8)),_0x35cd3f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x250eff=new Date();_0x250eff[_0x16065a(0x1dc)](0x0,0x0,0x0,0x0);const _0x30314d=getLocalDateStr(new Date());for(let _0x531293=_0x4055ad;_0x531293<=_0x1bc8e8;_0x531293++){const _0x378883=new Date(_0x250eff);_0x378883['setDate'](_0x378883['getDate']()+_0x531293);const _0xa4e67b=getLocalDateStr(_0x378883);let _0x3518f7=_0x378883[_0x16065a(0x256)]()-0x1;if(_0x3518f7===-0x1)_0x3518f7=0x6;const _0x48aeff=_0xa4e67b===_0x30314d,_0x15b754=document[_0x16065a(0x234)](_0x16065a(0x245));_0x15b754['className']=_0x16065a(0x26c)+(_0x48aeff?_0x16065a(0x260):''),_0x15b754[_0x16065a(0x2a7)](_0x16065a(0x244),_0xa4e67b),_0x15b754['innerHTML']=_0x16065a(0x248)+_0x35cd3f[_0x3518f7]+_0x16065a(0x28e)+_0x378883[_0x16065a(0x261)]()+'</div>',_0x130559[_0x16065a(0x25b)](_0x15b754);const _0x455f66=document[_0x16065a(0x234)](_0x16065a(0x245));_0x455f66[_0x16065a(0x207)]=_0x16065a(0x237)+(_0x48aeff?_0x16065a(0x260):''),_0x455f66[_0x16065a(0x2a7)](_0x16065a(0x244),_0xa4e67b),_0x455f66[_0x16065a(0x2a7)](_0x16065a(0x246),_0x3518f7),_0x17605c['appendChild'](_0x455f66);}}function reRenderBlocks(){const _0x1e9b8b=a3_0x3beceb;document['querySelectorAll'](_0x1e9b8b(0x216))[_0x1e9b8b(0x1e2)](_0x2d90a4=>{const _0x402d52=_0x1e9b8b;_0x2d90a4['querySelectorAll'](_0x402d52(0x22b))['forEach'](_0x196a50=>_0x196a50[_0x402d52(0x1d9)]());const _0x39866f=_0x2d90a4[_0x402d52(0x27a)](_0x402d52(0x244)),_0x420f15=parseInt(_0x2d90a4[_0x402d52(0x27a)]('data-day-idx')),_0x10a8cb=Math[_0x402d52(0x2bd)](_0x2d90a4[_0x402d52(0x1e8)]);(availabilityPattern[_0x420f15]||[])[_0x402d52(0x1e2)](_0x2b49b2=>{const _0x340e48=_0x402d52,_0x55bf49=document[_0x340e48(0x234)](_0x340e48(0x245));_0x55bf49[_0x340e48(0x207)]=_0x340e48(0x1d3),_0x55bf49[_0x340e48(0x2a0)][_0x340e48(0x1c7)]=_0x2b49b2*GRID_H+'px',_0x55bf49[_0x340e48(0x2a0)]['backgroundPosition']='-'+_0x10a8cb+_0x340e48(0x281)+_0x2b49b2*GRID_H+'px',_0x2d90a4[_0x340e48(0x25b)](_0x55bf49);});if(specialRanges[_0x402d52(0x2bf)]>0x0){const _0x1b2747=new Date(_0x39866f+_0x402d52(0x1e1))[_0x402d52(0x20f)](),_0x3386fb=new Date(_0x39866f+'T23:59:59')[_0x402d52(0x20f)]();specialRanges[_0x402d52(0x1e2)](_0x5006b7=>{const _0x1f2d58=_0x402d52,_0x1e7cfc=new Date(_0x5006b7['start'])['getTime'](),_0x406b77=new Date(_0x5006b7['end'])['getTime'](),_0xa97104=Math[_0x1f2d58(0x212)](_0x1b2747,_0x1e7cfc),_0xa6f8b9=Math[_0x1f2d58(0x2b7)](_0x3386fb,_0x406b77);if(_0xa97104<_0xa6f8b9){const _0x1afb96=(_0xa97104-_0x1b2747)/0x36ee80*GRID_H,_0x136c54=(_0xa6f8b9-_0xa97104)/0x36ee80*GRID_H,_0x4f2cf5=document[_0x1f2d58(0x234)](_0x1f2d58(0x245));_0x136c54>=23.5*GRID_H?(_0x4f2cf5[_0x1f2d58(0x207)]=_0x1f2d58(0x220),_0x4f2cf5['style']['backgroundPosition']='-'+_0x10a8cb+_0x1f2d58(0x231)):(_0x4f2cf5[_0x1f2d58(0x207)]=_0x1f2d58(0x23e),_0x4f2cf5[_0x1f2d58(0x2a0)]['top']=_0x1afb96+'px',_0x4f2cf5[_0x1f2d58(0x2a0)][_0x1f2d58(0x297)]=_0x136c54+'px',_0x4f2cf5[_0x1f2d58(0x2a0)][_0x1f2d58(0x232)]='-'+_0x10a8cb+'px\x20-'+_0x1afb96+'px'),_0x2d90a4['appendChild'](_0x4f2cf5);}});}renderEventsForColumn(_0x2d90a4,_0x39866f);});}function renderEventsForColumn(_0x4a7315,_0x469938){const _0x35d100=a3_0x3beceb,_0x169697=sessions[_0x35d100(0x211)](_0x4f3c41=>_0x4f3c41[_0x35d100(0x1fb)]===_0x469938),_0x5051a5=_0x169697['map'](_0x26ba23=>{const _0x233537=_0x35d100,[_0x979c57,_0x41a2a2]=_0x26ba23[_0x233537(0x224)][_0x233537(0x1e7)](':')[_0x233537(0x1f7)](Number),[_0x4ef6b1,_0x16aa3f]=_0x26ba23[_0x233537(0x1d7)][_0x233537(0x1e7)](':')[_0x233537(0x1f7)](Number);return{'data':_0x26ba23,'start':_0x979c57*0x3c+_0x41a2a2,'end':_0x4ef6b1*0x3c+_0x16aa3f,'colIndex':0x0};});_0x5051a5[_0x35d100(0x25a)]((_0x318001,_0x4ee0c5)=>_0x318001[_0x35d100(0x224)]-_0x4ee0c5[_0x35d100(0x224)]||_0x4ee0c5[_0x35d100(0x1d7)]-_0x4ee0c5['start']-(_0x318001[_0x35d100(0x1d7)]-_0x318001[_0x35d100(0x224)]));const _0x35b553=[];_0x5051a5[_0x35d100(0x1e2)](_0x44c569=>{const _0x3e3234=_0x35d100;let _0x310564=![];for(let _0x43ccd0=0x0;_0x43ccd0<_0x35b553[_0x3e3234(0x2bf)];_0x43ccd0++){const _0x572442=_0x35b553[_0x43ccd0];if(_0x44c569['start']>=_0x572442[_0x572442[_0x3e3234(0x2bf)]-0x1][_0x3e3234(0x1d7)]){_0x572442['push'](_0x44c569),_0x44c569[_0x3e3234(0x25d)]=_0x43ccd0,_0x310564=!![];break;}}!_0x310564&&(_0x35b553['push']([_0x44c569]),_0x44c569['colIndex']=_0x35b553['length']-0x1);}),_0x5051a5[_0x35d100(0x1e2)](_0x7ecdf7=>{const _0x2a3407=_0x35d100;let _0x4baaad=0x0;_0x5051a5[_0x2a3407(0x1e2)](_0x2958b7=>{const _0x37eb92=_0x2a3407;if(Math[_0x37eb92(0x212)](_0x7ecdf7[_0x37eb92(0x224)],_0x2958b7[_0x37eb92(0x224)])<Math[_0x37eb92(0x2b7)](_0x7ecdf7[_0x37eb92(0x1d7)],_0x2958b7['end'])&&_0x2958b7[_0x37eb92(0x25d)]>_0x4baaad)_0x4baaad=_0x2958b7[_0x37eb92(0x25d)];});const _0x189abb=_0x4baaad+0x1,_0x198c6c=0x64/_0x189abb,_0xf64e68=_0x7ecdf7[_0x2a3407(0x25d)]*_0x198c6c,_0x346a9a=document[_0x2a3407(0x234)]('div'),_0x17da12=_0x7ecdf7[_0x2a3407(0x1fd)];let _0x32cfb6='#0a84ff';if(clients&&clients[_0x2a3407(0x2bf)]>0x0){const _0x4dc680=clients[_0x2a3407(0x1d5)](_0x3bb963=>String(_0x3bb963['id'])===String(_0x17da12['clientId']));if(_0x4dc680&&_0x4dc680[_0x2a3407(0x221)])_0x32cfb6=_0x4dc680['color'];}const _0x872afd=_0x17da12[_0x2a3407(0x240)]===_0x2a3407(0x2a4),_0x44630f=_0x872afd?0x1:0.45;_0x346a9a[_0x2a3407(0x207)]=_0x2a3407(0x1d6)+(_0x872afd?_0x2a3407(0x27f):''),_0x346a9a['style'][_0x2a3407(0x20a)]=hexToRgba(_0x32cfb6,_0x44630f),_0x346a9a[_0x2a3407(0x2a0)][_0x2a3407(0x1c6)]=_0x32cfb6;const _0x31959b=_0x7ecdf7[_0x2a3407(0x224)]/0x3c*GRID_H,_0x2847f9=(_0x7ecdf7[_0x2a3407(0x1d7)]-_0x7ecdf7['start'])/0x3c*GRID_H;_0x346a9a['style'][_0x2a3407(0x1c7)]=_0x31959b+'px',_0x346a9a[_0x2a3407(0x2a0)]['height']=Math[_0x2a3407(0x212)](_0x2847f9,0x14)+'px',_0x346a9a[_0x2a3407(0x2a0)][_0x2a3407(0x20c)]=_0x2a3407(0x273)+_0x198c6c+'%\x20-\x204px)',_0x346a9a[_0x2a3407(0x2a0)][_0x2a3407(0x1da)]='calc('+_0xf64e68+_0x2a3407(0x2ac),_0x346a9a[_0x2a3407(0x2a0)]['zIndex']=0xa+_0x7ecdf7[_0x2a3407(0x25d)];if(_0x198c6c<0x55)_0x346a9a[_0x2a3407(0x274)]['add']('mini');let _0x27e17d='';if(_0x17da12[_0x2a3407(0x249)])_0x27e17d+=_0x2a3407(0x26b);if(_0x872afd)_0x27e17d+=_0x2a3407(0x24c);_0x346a9a[_0x2a3407(0x299)]=_0x2a3407(0x2ab)+_0x17da12[_0x2a3407(0x224)]+'\x20-\x20'+_0x17da12[_0x2a3407(0x1d7)]+_0x2a3407(0x217)+_0x27e17d+_0x2a3407(0x1cb),_0x346a9a[_0x2a3407(0x1ce)]=_0x41849e=>{const _0xd88edd=_0x2a3407;_0x41849e[_0xd88edd(0x296)](),openDetails(_0x17da12);},_0x4a7315['appendChild'](_0x346a9a);});}function openAnalytics(){const _0x1e3fe1=a3_0x3beceb,_0x2b4bc5=document[_0x1e3fe1(0x28c)](_0x1e3fe1(0x1dd));setAnalyticsPeriod(_0x1e3fe1(0x2a8),_0x2b4bc5),openSheet(_0x1e3fe1(0x21d));}function setAnalyticsPeriod(_0x294e45,_0xb761be){const _0x277adf=a3_0x3beceb;currentAnPeriod=_0x294e45,document[_0x277adf(0x1d2)](_0x277adf(0x1dd))['forEach'](_0x3ca1de=>_0x3ca1de[_0x277adf(0x274)][_0x277adf(0x1d9)](_0x277adf(0x225)));if(_0xb761be)_0xb761be['classList'][_0x277adf(0x2af)](_0x277adf(0x225));const _0x3d1269=document[_0x277adf(0x259)](_0x277adf(0x1f8));_0x3d1269['style'][_0x277adf(0x1ea)]=_0x294e45===_0x277adf(0x24f)?_0x277adf(0x233):_0x277adf(0x26a);const _0x546c58=new Date();let _0x3edc3d=new Date(),_0x51b5aa=new Date();if(_0x294e45===_0x277adf(0x2a8))_0x3edc3d=getStartOfWeek(_0x546c58),_0x51b5aa=new Date(_0x3edc3d),_0x51b5aa[_0x277adf(0x295)](_0x51b5aa[_0x277adf(0x261)]()+0x6);else{if(_0x294e45===_0x277adf(0x291))_0x3edc3d=new Date(_0x546c58[_0x277adf(0x203)](),_0x546c58[_0x277adf(0x22c)](),0x1),_0x51b5aa=new Date(_0x546c58[_0x277adf(0x203)](),_0x546c58[_0x277adf(0x22c)]()+0x1,0x0);else{!document[_0x277adf(0x259)](_0x277adf(0x1fa))[_0x277adf(0x24a)]&&(document[_0x277adf(0x259)](_0x277adf(0x1fa))[_0x277adf(0x24a)]=getLocalDateStr(_0x546c58),document['getElementById'](_0x277adf(0x286))[_0x277adf(0x24a)]=getLocalDateStr(_0x546c58));refreshAnalytics();return;}}document[_0x277adf(0x259)](_0x277adf(0x1fa))['value']=getLocalDateStr(_0x3edc3d),document[_0x277adf(0x259)](_0x277adf(0x286))['value']=getLocalDateStr(_0x51b5aa),refreshAnalytics();}function refreshAnalytics(){const _0x13e26a=a3_0x3beceb,_0xe369d2=document[_0x13e26a(0x259)](_0x13e26a(0x1fa))[_0x13e26a(0x24a)],_0x6d4a35=document[_0x13e26a(0x259)](_0x13e26a(0x286))['value'];if(!_0xe369d2||!_0x6d4a35)return;const _0x136b87=sessions[_0x13e26a(0x211)](_0x2c646e=>_0x2c646e[_0x13e26a(0x1fb)]>=_0xe369d2&&_0x2c646e[_0x13e26a(0x1fb)]<=_0x6d4a35&&_0x2c646e[_0x13e26a(0x240)]!=='cancelled'),_0x576ea5=_0x136b87[_0x13e26a(0x2bf)],_0x1869a3=_0x136b87[_0x13e26a(0x211)](_0x324860=>_0x324860['status']===_0x13e26a(0x2a4))[_0x13e26a(0x2bf)],_0x170526=_0x576ea5>0x0?Math[_0x13e26a(0x2bd)](_0x1869a3/_0x576ea5*0x64):0x0;document['getElementById'](_0x13e26a(0x20e))[_0x13e26a(0x290)]=_0x170526+'%',document[_0x13e26a(0x259)](_0x13e26a(0x1cc))[_0x13e26a(0x290)]=_0x1869a3+_0x13e26a(0x269)+_0x576ea5+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x3ce3d1=document[_0x13e26a(0x259)](_0x13e26a(0x21f)),_0x4ed4d3=0x2*Math['PI']*0x23,_0x505769=_0x4ed4d3-_0x170526/0x64*_0x4ed4d3;_0x3ce3d1[_0x13e26a(0x2a0)]['strokeDashoffset']=_0x505769;const _0x30a4cf={};_0x136b87[_0x13e26a(0x1e2)](_0x496f3b=>{const _0xf6bf89=_0x13e26a,_0x4dc177=_0x496f3b[_0xf6bf89(0x22f)]||_0xf6bf89(0x2aa);if(!_0x30a4cf[_0x4dc177]){const _0x407d51='#'+_0x4dc177[_0xf6bf89(0x2a5)]()[_0xf6bf89(0x24e)](0x0,0x6);_0x30a4cf[_0x4dc177]={'total':0x0,'done':0x0,'color':_0x407d51};}_0x30a4cf[_0x4dc177][_0xf6bf89(0x1cd)]++;if(_0x496f3b[_0xf6bf89(0x240)]===_0xf6bf89(0x2a4))_0x30a4cf[_0x4dc177]['done']++;});const _0x4624eb=document[_0x13e26a(0x259)](_0x13e26a(0x276));_0x4624eb['innerHTML']='';const _0x4a00bd=Object['entries'](_0x30a4cf)[_0x13e26a(0x25a)]((_0x8ad4ac,_0x8dd1d3)=>_0x8dd1d3[0x1][_0x13e26a(0x1cd)]-_0x8ad4ac[0x1][_0x13e26a(0x1cd)]);if(_0x4a00bd['length']===0x0){_0x4624eb[_0x13e26a(0x299)]=_0x13e26a(0x266);return;}_0x4a00bd[_0x13e26a(0x1e2)](([_0x39076e,_0x3af87b])=>{const _0x535d12=_0x13e26a,_0x4446c3=Math[_0x535d12(0x2bd)](_0x3af87b[_0x535d12(0x250)]/_0x3af87b['total']*0x64),_0x31b1a6=document[_0x535d12(0x234)]('div');_0x31b1a6[_0x535d12(0x207)]=_0x535d12(0x23c),_0x31b1a6[_0x535d12(0x2a0)][_0x535d12(0x1c6)]=_0x3af87b[_0x535d12(0x221)],_0x31b1a6['innerHTML']=_0x535d12(0x2a2)+_0x39076e['substr'](0x0,0x5)+_0x535d12(0x28b)+_0x3af87b[_0x535d12(0x250)]+_0x535d12(0x1ec)+_0x3af87b[_0x535d12(0x1cd)]+_0x535d12(0x227)+_0x4446c3+_0x535d12(0x279),_0x4624eb[_0x535d12(0x25b)](_0x31b1a6);});}function openDetails(_0x5cec83){const _0x5d706b=a3_0x3beceb;currentSession=_0x5cec83;const _0x466aa4=new Date(_0x5cec83[_0x5d706b(0x1fb)]),_0x15efae=_0x466aa4[_0x5d706b(0x20d)]('ru-RU',{'weekday':_0x5d706b(0x1e3),'day':_0x5d706b(0x289),'month':_0x5d706b(0x1e3)});document[_0x5d706b(0x259)](_0x5d706b(0x27b))[_0x5d706b(0x290)]=_0x15efae[_0x5d706b(0x1ef)](0x0)[_0x5d706b(0x280)]()+_0x15efae['slice'](0x1),document[_0x5d706b(0x259)](_0x5d706b(0x29a))[_0x5d706b(0x290)]=_0x5cec83[_0x5d706b(0x224)]+_0x5d706b(0x2ae)+_0x5cec83['end'],document[_0x5d706b(0x259)](_0x5d706b(0x1d4))['textContent']=_0x5cec83[_0x5d706b(0x24d)]||_0x5d706b(0x288);const _0x37b908=document[_0x5d706b(0x259)]('detStatus'),_0x2261c2=document[_0x5d706b(0x259)](_0x5d706b(0x242)),_0x9501cd=_0x2261c2[_0x5d706b(0x28c)]('.btn-cancel'),_0x1c5565=_0x2261c2[_0x5d706b(0x28c)](_0x5d706b(0x21e)),_0x275b4b=document[_0x5d706b(0x259)](_0x5d706b(0x264));if(_0x5cec83[_0x5d706b(0x240)]===_0x5d706b(0x2a4))_0x37b908[_0x5d706b(0x290)]=_0x5d706b(0x222),_0x37b908[_0x5d706b(0x2a0)][_0x5d706b(0x221)]=_0x5d706b(0x213),_0x2261c2['style'][_0x5d706b(0x1ea)]='none';else{_0x37b908[_0x5d706b(0x290)]=_0x5d706b(0x226),_0x37b908['style'][_0x5d706b(0x221)]=_0x5d706b(0x2b9),_0x2261c2['style'][_0x5d706b(0x1ea)]=_0x5d706b(0x1ee);const _0x5e714b=new Date(_0x5cec83['dateStr']+'T'+_0x5cec83[_0x5d706b(0x224)]),_0x14af61=new Date(),_0x524658=(_0x5e714b-_0x14af61)/(0x3e8*0x3c*0x3c),_0x2bb3b1=coachProfiles[_0x5cec83[_0x5d706b(0x22f)]]&&coachProfiles[_0x5cec83[_0x5d706b(0x22f)]][_0x5d706b(0x26d)]?parseInt(coachProfiles[_0x5cec83[_0x5d706b(0x22f)]][_0x5d706b(0x26d)]):0x18;if(_0x2bb3b1===0x0||_0x524658>=_0x2bb3b1)_0x9501cd[_0x5d706b(0x2a0)][_0x5d706b(0x1ea)]=_0x5d706b(0x1ee),_0x1c5565[_0x5d706b(0x2a0)]['display']='block',_0x275b4b['style'][_0x5d706b(0x1ea)]=_0x5d706b(0x26a);else{_0x9501cd[_0x5d706b(0x2a0)]['display']=_0x5d706b(0x26a),_0x1c5565[_0x5d706b(0x2a0)][_0x5d706b(0x1ea)]=_0x5d706b(0x26a),_0x275b4b[_0x5d706b(0x2a0)][_0x5d706b(0x1ea)]='block';let _0x2d1bf7=_0x2bb3b1===0x0?_0x5d706b(0x23d):_0x5d706b(0x1e5)+_0x2bb3b1+'\x20—á.';_0x275b4b[_0x5d706b(0x290)]=_0x5d706b(0x2b3)+_0x2d1bf7+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x5d706b(0x259)](_0x5d706b(0x23b))[_0x5d706b(0x274)]['add'](_0x5d706b(0x225)),document[_0x5d706b(0x259)](_0x5d706b(0x1c4))[_0x5d706b(0x274)][_0x5d706b(0x2af)](_0x5d706b(0x209));}function closeAllSheets(){const _0x3d4d76=a3_0x3beceb;document[_0x3d4d76(0x259)](_0x3d4d76(0x23b))[_0x3d4d76(0x274)][_0x3d4d76(0x1d9)]('active'),document[_0x3d4d76(0x1d2)]('.sheet')[_0x3d4d76(0x1e2)](_0x16b169=>_0x16b169[_0x3d4d76(0x274)][_0x3d4d76(0x1d9)](_0x3d4d76(0x209)));}function openSheet(_0x53d8bb){const _0x359799=a3_0x3beceb;document[_0x359799(0x259)](_0x359799(0x23b))[_0x359799(0x274)][_0x359799(0x2af)](_0x359799(0x225)),document[_0x359799(0x259)](_0x53d8bb)[_0x359799(0x274)]['add']('open');}function getLocalDateStr(_0x4e236c){const _0x41406f=a3_0x3beceb,_0x261509=_0x4e236c[_0x41406f(0x203)](),_0x3d9489=String(_0x4e236c[_0x41406f(0x22c)]()+0x1)[_0x41406f(0x1f1)](0x2,'0'),_0x32781a=String(_0x4e236c[_0x41406f(0x261)]())['padStart'](0x2,'0');return _0x261509+'-'+_0x3d9489+'-'+_0x32781a;}function getStartOfWeek(_0x42139c){const _0x13afc0=a3_0x3beceb,_0x154270=new Date(_0x42139c),_0x3b808a=_0x154270[_0x13afc0(0x256)](),_0x378e51=_0x154270[_0x13afc0(0x261)]()-_0x3b808a+(_0x3b808a===0x0?-0x6:0x1);return _0x154270[_0x13afc0(0x295)](_0x378e51),_0x154270[_0x13afc0(0x1dc)](0x0,0x0,0x0,0x0),_0x154270;}function scrollToToday(){const _0x4da352=getLocalDateStr(new Date());setTimeout(()=>{const _0x18502c=a3_0x4a56,_0x8fa205=document[_0x18502c(0x28c)](_0x18502c(0x251)+_0x4da352+'\x22]');if(_0x8fa205){const _0x210b74=document[_0x18502c(0x259)](_0x18502c(0x1f0)),_0x77eb40=_0x8fa205['offsetLeft']-_0x210b74[_0x18502c(0x2b5)]/0x2+_0x8fa205[_0x18502c(0x293)]/0x2;_0x210b74[_0x18502c(0x1df)]({'left':_0x77eb40,'behavior':'auto'}),_0x210b74[_0x18502c(0x2bb)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3aac0f=a3_0x3beceb,_0xc8f625=new Date(),_0x435769=document['getElementById']('globalTimeLine'),_0x5b5ff0=document[_0x3aac0f(0x259)](_0x3aac0f(0x253)),_0x37638a=(_0xc8f625[_0x3aac0f(0x239)]()*0x3c+_0xc8f625[_0x3aac0f(0x1c2)]())/0x3c*GRID_H;_0x435769[_0x3aac0f(0x2a0)][_0x3aac0f(0x1c7)]=_0x37638a+'px',_0x435769['style'][_0x3aac0f(0x1ea)]=_0x3aac0f(0x1ee),_0x5b5ff0[_0x3aac0f(0x2a0)][_0x3aac0f(0x1c7)]=_0x37638a+'px',_0x5b5ff0['style'][_0x3aac0f(0x1ea)]='block',_0x5b5ff0[_0x3aac0f(0x290)]=String(_0xc8f625[_0x3aac0f(0x239)]())[_0x3aac0f(0x1f1)](0x2,'0')+':'+String(_0xc8f625['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0x173998=a3_0x3beceb,_0x27565a=document[_0x173998(0x259)]('matrixViewport'),_0x4f289f=document[_0x173998(0x1d2)](_0x173998(0x26f));for(let _0x35fef4 of _0x4f289f)if(_0x35fef4[_0x173998(0x1e8)]>=_0x27565a[_0x173998(0x1d8)]){const _0x12c0ed=new Date(_0x35fef4[_0x173998(0x27a)](_0x173998(0x244)));document[_0x173998(0x259)](_0x173998(0x287))[_0x173998(0x290)]=_0x12c0ed['toLocaleString']('ru',{'month':_0x173998(0x1e3)})[_0x173998(0x280)]()+'\x20'+_0x12c0ed[_0x173998(0x203)]();break;}}function showToast(_0x30e6a4){const _0x277683=a3_0x3beceb,_0x5d4cea=document[_0x277683(0x259)]('toast');_0x5d4cea['textContent']=_0x30e6a4,_0x5d4cea[_0x277683(0x274)]['add'](_0x277683(0x241)),setTimeout(()=>_0x5d4cea[_0x277683(0x274)][_0x277683(0x1d9)](_0x277683(0x241)),0x7d0);}function a3_0x2beb(){const _0x209f63=['filter','max','var(--acc-green)','.rs-date-chip','visible','.day-column','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','json','rs-date-chip','4658808uvQkRJ','analyticsSheet','.btn-reschedule','anDonutCircle','day-off-overlay\x20stripe-bg','color','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','syncLoad','start','active','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','cid','26958hdoraI','disableVerticalSwipes','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getMonth','517490NcKkXV','–û—Ç–º–µ–Ω–µ–Ω–æ','coachId','settings','px\x200px','backgroundPosition','flex','createElement','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','1044129xgapUf','day-column\x20','DOMContentLoaded','getHours','scrollWidth','overlay','client-stat-card','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','blocked-range-part\x20stripe-bg','startsWith','status','show','cancelContainer','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','data-date','div','data-day-idx','Error\x20setting\x20color:','<div\x20class=\x22dch-day\x22>','seriesId','value',':00</span>','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','note','substr','custom','done','.day-col-header[data-date=\x22','firstChild','timeLineBadge','createDocumentFragment','planned','getDay','apply','setMonth','getElementById','sort','appendChild','constructor','colIndex','test','parse','today','getDate','stringify','</div><div\x20class=\x22rs-day-num\x22>','cancelHint','addEventListener','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','600HeLtiz','now','\x20–∏–∑\x20','none','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','day-col-header\x20','cancel_window','ccText','.day-col-header','</div>','50270uTmVII','uc_client_settings','calc(','classList','rsSlotsGrid','analyticsList','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','uc_client_list','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttribute','detDate','substring','pattern','setItem','\x20status-completed','toUpperCase','px\x20-','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','#ff453a','1185VsjXLv','reschedule','anEnd','headerMonth','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','numeric','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','querySelector','exceptions','</div><div\x20class=\x22dch-num\x22>','offClick','textContent','month','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','offsetWidth','189xqTXTd','setDate','stopPropagation','height','initDataUnsafe','innerHTML','detTime','fontWeight','time-label','ccYesBtn','coach_profiles','(((.+)+)+)+$','style','sid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','rsDatesTrack','completed','toString','scroll','setAttribute','week','\x20–≤\x20','Unknown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','%\x20+\x202px)','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20-\x20','add','POST','#0a84ff','client_load','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','clientWidth','all','min','gridColumns','var(--acc-blue)','uc_client_sessions','scrollTop','button','round','applyData','length','customConfirm','join','client_cancel','getMinutes','then','detailsSheet','Error\x20setting\x20back\x20button:','borderLeftColor','top','rs-time-btn','322bOWKxk','daysHeaderTrack','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anTotalStats','total','onclick','get_slots','BackButton','600','querySelectorAll','blocked-slot\x20stripe-bg','detNote','find','event-card','end','scrollLeft','remove','left','clients','setHours','.period-switch\x20.p-btn','rgba(10,\x20132,\x20255,\x20','scrollTo','log','T00:00:00','forEach','long','insertBefore','–∑–∞\x20','ranges','split','offsetLeft','expand','display','getItem','</span>\x20/\x20','setBackgroundColor','block','charAt','matrixViewport','padStart','ru-RU','calendar','<span>','keys','saveLocally','map','anCustomDates','loadLocal','anStart','dateStr','search','data','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','initData','#050505','12eEYQru','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getFullYear','rescheduleSheet','WebApp','Telegram','className','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','open','backgroundColor','138688oxuCDQ','width','toLocaleDateString','anPercent','getTime','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏'];a3_0x2beb=function(){return _0x209f63;};return a3_0x2beb();}function handleInfiniteScroll(){const _0x1cbfeb=a3_0x3beceb,_0x180afc=document['getElementById'](_0x1cbfeb(0x1f0)),_0x317718=_0x180afc[_0x1cbfeb(0x1d8)],_0x4fd262=_0x180afc[_0x1cbfeb(0x23a)],_0x2c83d2=_0x180afc[_0x1cbfeb(0x2b5)];if(_0x4fd262-(_0x317718+_0x2c83d2)<0x12c){const _0x592e6d=endOffset;endOffset+=0xe,renderDayRange(_0x592e6d+0x1,endOffset),reRenderBlocks();}if(_0x317718<0x12c){const _0x3c3200=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3c3200-0x1),_0x180afc[_0x1cbfeb(0x1d8)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xf5ec58,_0x39b8e7){const _0x49f8d6=a3_0x3beceb,_0x275e95=document[_0x49f8d6(0x259)](_0x49f8d6(0x1ca)),_0x254781=document[_0x49f8d6(0x259)](_0x49f8d6(0x2b8)),_0x10ec8b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x125819=new Date();_0x125819[_0x49f8d6(0x1dc)](0x0,0x0,0x0,0x0);const _0x3310c0=getLocalDateStr(new Date()),_0x44b74c=document[_0x49f8d6(0x254)](),_0x1424d9=document[_0x49f8d6(0x254)]();for(let _0x3bff19=_0xf5ec58;_0x3bff19<=_0x39b8e7;_0x3bff19++){const _0x1af50a=new Date(_0x125819);_0x1af50a[_0x49f8d6(0x295)](_0x1af50a['getDate']()+_0x3bff19);const _0x256b83=getLocalDateStr(_0x1af50a);let _0x219fb3=_0x1af50a[_0x49f8d6(0x256)]()-0x1;if(_0x219fb3===-0x1)_0x219fb3=0x6;const _0x29bfea=_0x256b83===_0x3310c0,_0x2cfda3=document[_0x49f8d6(0x234)](_0x49f8d6(0x245));_0x2cfda3[_0x49f8d6(0x207)]=_0x49f8d6(0x26c)+(_0x29bfea?_0x49f8d6(0x260):''),_0x2cfda3[_0x49f8d6(0x2a7)](_0x49f8d6(0x244),_0x256b83),_0x2cfda3[_0x49f8d6(0x299)]=_0x49f8d6(0x248)+_0x10ec8b[_0x219fb3]+_0x49f8d6(0x28e)+_0x1af50a[_0x49f8d6(0x261)]()+_0x49f8d6(0x270),_0x44b74c[_0x49f8d6(0x25b)](_0x2cfda3);const _0x1f8b98=document[_0x49f8d6(0x234)]('div');_0x1f8b98[_0x49f8d6(0x207)]=_0x49f8d6(0x237)+(_0x29bfea?_0x49f8d6(0x260):''),_0x1f8b98['setAttribute'](_0x49f8d6(0x244),_0x256b83),_0x1f8b98[_0x49f8d6(0x2a7)](_0x49f8d6(0x246),_0x219fb3),_0x1424d9[_0x49f8d6(0x25b)](_0x1f8b98);}_0x275e95[_0x49f8d6(0x1e4)](_0x44b74c,_0x275e95[_0x49f8d6(0x252)]),_0x254781['insertBefore'](_0x1424d9,_0x254781[_0x49f8d6(0x28c)](_0x49f8d6(0x216)));}function hexToRgba(_0x3ad6c1,_0xe76757){const _0x3a24a1=a3_0x3beceb;let _0x220a6a;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3a24a1(0x25e)](_0x3ad6c1))return _0x220a6a=_0x3ad6c1[_0x3a24a1(0x27c)](0x1)[_0x3a24a1(0x1e7)](''),_0x220a6a[_0x3a24a1(0x2bf)]==0x3&&(_0x220a6a=[_0x220a6a[0x0],_0x220a6a[0x0],_0x220a6a[0x1],_0x220a6a[0x1],_0x220a6a[0x2],_0x220a6a[0x2]]),_0x220a6a='0x'+_0x220a6a[_0x3a24a1(0x1c0)](''),'rgba('+[_0x220a6a>>0x10&0xff,_0x220a6a>>0x8&0xff,_0x220a6a&0xff][_0x3a24a1(0x1c0)](',')+','+_0xe76757+')';return _0x3a24a1(0x1de)+_0xe76757+')';}let confirmResolver=null;function showCustomConfirm(_0x1c1042,_0x574664,_0x181a14=!![]){const _0xcf661a=a3_0x3beceb;document[_0xcf661a(0x259)]('ccTitle')[_0xcf661a(0x290)]=_0x1c1042,document['getElementById'](_0xcf661a(0x26e))[_0xcf661a(0x290)]=_0x574664;const _0x4450ba=document['getElementById'](_0xcf661a(0x29d));return _0x181a14?(_0x4450ba['style'][_0xcf661a(0x221)]=_0xcf661a(0x283),_0x4450ba[_0xcf661a(0x2a0)][_0xcf661a(0x29b)]=_0xcf661a(0x1d1)):(_0x4450ba[_0xcf661a(0x2a0)][_0xcf661a(0x221)]=_0xcf661a(0x2b1),_0x4450ba[_0xcf661a(0x2a0)]['fontWeight']=_0xcf661a(0x1d1)),new Promise(_0x1faf2b=>{const _0x16254f=_0xcf661a;confirmResolver=_0x1faf2b,document[_0x16254f(0x259)](_0x16254f(0x2c0))['classList'][_0x16254f(0x2af)](_0x16254f(0x215));});}function resolveCustomConfirm(_0x302830){const _0xab9144=a3_0x3beceb;document['getElementById'](_0xab9144(0x2c0))[_0xab9144(0x274)][_0xab9144(0x1d9)]('visible');if(confirmResolver)confirmResolver(_0x302830);}async function tryCancelCurrentSession(){const _0x5a6ec6=a3_0x3beceb;if(!currentSession)return;const _0x1090fe=await showCustomConfirm(_0x5a6ec6(0x282),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x1090fe)return;const _0x1ac8b2=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x3ec925=>_0x3ec925['id']!==_0x1ac8b2['id']),reRenderBlocks(),showToast(_0x5a6ec6(0x22e)),lastUserActionTime=Date[_0x5a6ec6(0x268)]();try{const _0x346f08=window[_0x5a6ec6(0x206)]?.[_0x5a6ec6(0x205)],_0x445f06=await fetch(API_URL,{'method':_0x5a6ec6(0x2b0),'body':JSON[_0x5a6ec6(0x262)]({'action':_0x5a6ec6(0x1c1),'init_data':_0x346f08?.['initData']||'','coachId':_0x1ac8b2[_0x5a6ec6(0x22f)],'dateStr':_0x1ac8b2['dateStr'],'sessionId':_0x1ac8b2['id']})});if(_0x445f06['ok'])DataManager[_0x5a6ec6(0x1f6)]();}catch(_0x48bd4c){showToast(_0x5a6ec6(0x1fe));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3c70ed=a3_0x3beceb;if(!currentSession)return;document[_0x3c70ed(0x259)]('detailsSheet')[_0x3c70ed(0x274)][_0x3c70ed(0x1d9)](_0x3c70ed(0x209)),document['getElementById'](_0x3c70ed(0x204))['classList'][_0x3c70ed(0x2af)](_0x3c70ed(0x209));const _0x1cca52=document[_0x3c70ed(0x259)](_0x3c70ed(0x2a3)),_0x318390=document['getElementById']('rsSlotsGrid');_0x1cca52[_0x3c70ed(0x299)]='',_0x318390['innerHTML']=_0x3c70ed(0x2b4);const [_0x5781e9,_0x2dc99f]=currentSession[_0x3c70ed(0x224)]['split'](':')['map'](Number),[_0x2a55e3,_0x5937fe]=currentSession['end'][_0x3c70ed(0x1e7)](':')['map'](Number),_0x44d962=_0x2a55e3*0x3c+_0x5937fe-(_0x5781e9*0x3c+_0x2dc99f);try{const _0x4fffbe=window[_0x3c70ed(0x206)]?.[_0x3c70ed(0x205)],_0xd87821=await fetch(API_URL,{'method':_0x3c70ed(0x2b0),'body':JSON[_0x3c70ed(0x262)]({'action':_0x3c70ed(0x1cf),'coachId':currentSession[_0x3c70ed(0x22f)],'duration':_0x44d962,'init_data':_0x4fffbe?.[_0x3c70ed(0x1ff)]||'','excludeSessionId':currentSession['id']})}),_0x5a5551=await _0xd87821['json']();_0x5a5551['ok']&&_0x5a5551[_0x3c70ed(0x1fd)]?(availableSlotsCache=_0x5a5551[_0x3c70ed(0x1fd)],renderRescheduleDates()):_0x318390['innerHTML']=_0x3c70ed(0x28a);}catch(_0x5d03a4){_0x318390['innerHTML']=_0x3c70ed(0x243);}}function renderRescheduleDates(){const _0xd23f6c=a3_0x3beceb,_0x4ba24a=document[_0xd23f6c(0x259)](_0xd23f6c(0x2a3));_0x4ba24a[_0xd23f6c(0x299)]='';const _0x39a025=Object[_0xd23f6c(0x1f5)](availableSlotsCache)[_0xd23f6c(0x25a)](),_0x36b8de=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x39a025[_0xd23f6c(0x2bf)]===0x0){document['getElementById'](_0xd23f6c(0x275))[_0xd23f6c(0x299)]=_0xd23f6c(0x292);return;}_0x39a025[_0xd23f6c(0x1e2)]((_0xc4b7b3,_0x43c653)=>{const _0x3c5def=_0xd23f6c,_0xec8bfa=new Date(_0xc4b7b3),_0x2ff354=_0x36b8de[_0xec8bfa[_0x3c5def(0x256)]()],_0x5198e9=_0xec8bfa[_0x3c5def(0x261)](),_0x44bce6=document[_0x3c5def(0x234)](_0x3c5def(0x245));_0x44bce6[_0x3c5def(0x207)]=_0x3c5def(0x21b);if(_0x43c653===0x0)_0x44bce6[_0x3c5def(0x274)]['add'](_0x3c5def(0x225));_0x44bce6[_0x3c5def(0x299)]='<div\x20class=\x22rs-day-name\x22>'+_0x2ff354+_0x3c5def(0x263)+_0x5198e9+_0x3c5def(0x270),_0x44bce6['onclick']=()=>selectRsDate(_0xc4b7b3,_0x44bce6),_0x4ba24a[_0x3c5def(0x25b)](_0x44bce6);}),selectRsDate(_0x39a025[0x0],_0x4ba24a[_0xd23f6c(0x252)]);}function selectRsDate(_0x16e8ff,_0x44cee3){const _0x451512=a3_0x3beceb;selectedRsDate=_0x16e8ff,document[_0x451512(0x1d2)](_0x451512(0x214))[_0x451512(0x1e2)](_0x2228b1=>_0x2228b1[_0x451512(0x274)][_0x451512(0x1d9)](_0x451512(0x225)));if(_0x44cee3)_0x44cee3[_0x451512(0x274)][_0x451512(0x2af)](_0x451512(0x225));const _0x2327fa=document[_0x451512(0x259)](_0x451512(0x275));_0x2327fa[_0x451512(0x299)]='';const _0x265b24=availableSlotsCache[_0x16e8ff]||[];if(_0x265b24[_0x451512(0x2bf)]===0x0){_0x2327fa[_0x451512(0x299)]=_0x451512(0x28a);return;}_0x265b24['forEach'](_0x5efa9b=>{const _0x12da45=_0x451512,_0x17da51=document[_0x12da45(0x234)](_0x12da45(0x2bc));_0x17da51['className']=_0x12da45(0x1c8),_0x17da51['textContent']=_0x5efa9b,_0x17da51['onclick']=()=>confirmReschedule(_0x5efa9b),_0x2327fa[_0x12da45(0x25b)](_0x17da51);});}async function confirmReschedule(_0x5ae5fd){const _0x4111ba=a3_0x3beceb,_0x54b111=new Date(selectedRsDate),_0x3c3f3d=_0x54b111[_0x4111ba(0x20d)](_0x4111ba(0x1f2),{'day':_0x4111ba(0x289),'month':_0x4111ba(0x1e3)}),_0x36c2aa=await showCustomConfirm(_0x4111ba(0x210),_0x4111ba(0x235)+_0x3c3f3d+_0x4111ba(0x2a9)+_0x5ae5fd+'?',![]);if(!_0x36c2aa)return;closeAllSheets(),showToast(_0x4111ba(0x219)),lastUserActionTime=Date['now']();const _0x2745ed=currentSession['dateStr'],_0xa37d3d=currentSession['id'],[_0x2da2ac,_0x2d5320]=currentSession[_0x4111ba(0x224)][_0x4111ba(0x1e7)](':')[_0x4111ba(0x1f7)](Number),[_0x92ddb3,_0x2782c7]=currentSession['end'][_0x4111ba(0x1e7)](':')[_0x4111ba(0x1f7)](Number),_0x295a8c=_0x92ddb3*0x3c+_0x2782c7-(_0x2da2ac*0x3c+_0x2d5320),[_0x339720,_0x28041a]=_0x5ae5fd[_0x4111ba(0x1e7)](':')[_0x4111ba(0x1f7)](Number),_0x266c9e=_0x339720*0x3c+_0x28041a+_0x295a8c,_0xca99c5=Math['floor'](_0x266c9e/0x3c),_0x1d3e04=_0x266c9e%0x3c,_0x32ae0c=String(_0xca99c5)[_0x4111ba(0x1f1)](0x2,'0')+':'+String(_0x1d3e04)[_0x4111ba(0x1f1)](0x2,'0'),_0x4c28f2=sessions['findIndex'](_0x4252f8=>_0x4252f8['id']===_0xa37d3d);_0x4c28f2!==-0x1&&(sessions[_0x4c28f2]['dateStr']=selectedRsDate,sessions[_0x4c28f2][_0x4111ba(0x224)]=_0x5ae5fd,sessions[_0x4c28f2][_0x4111ba(0x1d7)]=_0x32ae0c,reRenderBlocks());try{const _0xa055c2=window[_0x4111ba(0x206)]?.[_0x4111ba(0x205)],_0x50e471=await fetch(API_URL,{'method':_0x4111ba(0x2b0),'body':JSON[_0x4111ba(0x262)]({'action':_0x4111ba(0x285),'init_data':_0xa055c2?.['initData']||'','oldSessionId':_0xa37d3d,'oldDate':_0x2745ed,'newDate':selectedRsDate,'newTime':_0x5ae5fd,'coachId':currentSession['coachId']})}),_0x2eabe0=await _0x50e471[_0x4111ba(0x21a)]();!_0x2eabe0['ok']?(showToast(_0x4111ba(0x208)),DataManager[_0x4111ba(0x223)]()):(showToast(_0x4111ba(0x277)),DataManager[_0x4111ba(0x1f6)]());}catch(_0xc59987){showToast(_0x4111ba(0x1fe));}}document[a3_0x3beceb(0x265)](a3_0x3beceb(0x238),init);