const a3_0x47d82a=a3_0x3643;function a3_0x3643(_0x1e5a8e,_0x2b2531){_0x1e5a8e=_0x1e5a8e-0x8b;const _0xca3245=a3_0x4525();let _0x2c9863=_0xca3245[_0x1e5a8e];return _0x2c9863;}(function(_0x369319,_0x4596e7){const _0x5b8014=a3_0x3643,_0x5531b2=_0x369319();while(!![]){try{const _0x11d30c=-parseInt(_0x5b8014(0xb3))/0x1+parseInt(_0x5b8014(0x112))/0x2*(-parseInt(_0x5b8014(0xaa))/0x3)+parseInt(_0x5b8014(0x12e))/0x4+-parseInt(_0x5b8014(0x8f))/0x5+-parseInt(_0x5b8014(0x105))/0x6+-parseInt(_0x5b8014(0xd3))/0x7+-parseInt(_0x5b8014(0xae))/0x8*(-parseInt(_0x5b8014(0x10f))/0x9);if(_0x11d30c===_0x4596e7)break;else _0x5531b2['push'](_0x5531b2['shift']());}catch(_0x5c068b){_0x5531b2['push'](_0x5531b2['shift']());}}}(a3_0x4525,0x2216d));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x47d82a(0x104),KEY_SETTINGS=a3_0x47d82a(0x127),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x47d82a(0xf0),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0xe764fd=a3_0x47d82a,_0x583517=(function(){let _0x407686=!![];return function(_0x3421b1,_0x534a78){const _0x396512=_0x407686?function(){const _0x3c4cf8=a3_0x3643;if(_0x534a78){const _0x395dd0=_0x534a78[_0x3c4cf8(0xe0)](_0x3421b1,arguments);return _0x534a78=null,_0x395dd0;}}:function(){};return _0x407686=![],_0x396512;};}()),_0x2ae1d1=_0x583517(this,function(){const _0x53abed=a3_0x3643;return _0x2ae1d1['toString']()['search']('(((.+)+)+)+$')[_0x53abed(0x107)]()[_0x53abed(0xd8)](_0x2ae1d1)[_0x53abed(0x174)](_0x53abed(0x12a));});_0x2ae1d1();try{const _0x2b2a05=window[_0xe764fd(0x153)]?.[_0xe764fd(0x185)];if(!_0x2b2a05)return;_0x2b2a05[_0xe764fd(0xa6)](),_0x2b2a05[_0xe764fd(0x123)]();try{_0x2b2a05['setHeaderColor'](_0xe764fd(0x13f)),_0x2b2a05[_0xe764fd(0xbc)]&&_0x2b2a05['setBackgroundColor'](_0xe764fd(0x13f));}catch(_0x5b2cab){console[_0xe764fd(0x13a)](_0xe764fd(0x180),_0x5b2cab);}try{_0x2b2a05[_0xe764fd(0x141)]&&(_0x2b2a05[_0xe764fd(0x141)]['show'](),_0x2b2a05[_0xe764fd(0x141)]['offClick'](),_0x2b2a05[_0xe764fd(0x141)][_0xe764fd(0xeb)](function(){const _0x305cb0=_0xe764fd;window[_0x305cb0(0x114)][_0x305cb0(0xc1)]=_0x305cb0(0xe2);}));}catch(_0x2deb31){console[_0xe764fd(0x13a)](_0xe764fd(0x131),_0x2deb31);}try{if(_0x2b2a05[_0xe764fd(0x115)])_0x2b2a05[_0xe764fd(0x115)]();}catch(_0x5b622e){}}catch(_0x4b1c79){console['error'](_0xe764fd(0x132),_0x4b1c79);}}());function isAdmin(){const _0x83b19=a3_0x47d82a;try{const _0x35982b=Number(window[_0x83b19(0x153)]?.[_0x83b19(0x185)]?.[_0x83b19(0x154)]?.[_0x83b19(0xa3)]?.['id']);return _0x35982b===0xbaf7174;}catch(_0x30740a){return![];}}const DataManager={'saveLocally'(){const _0x3e6ad0=a3_0x47d82a;try{localStorage[_0x3e6ad0(0x90)](KEY_SESSIONS,JSON[_0x3e6ad0(0xd9)](sessions)),localStorage[_0x3e6ad0(0x90)](KEY_CLIENTS,JSON[_0x3e6ad0(0xd9)](clients)),localStorage[_0x3e6ad0(0x90)](KEY_SETTINGS,JSON[_0x3e6ad0(0xd9)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x45cbc2){}},'loadLocal'(){const _0x3e87ea=a3_0x47d82a;try{const _0x49e53a=localStorage['getItem'](KEY_SESSIONS);if(_0x49e53a)sessions=JSON['parse'](_0x49e53a);const _0x188695=localStorage[_0x3e87ea(0x13e)](KEY_CLIENTS);if(_0x188695)clients=JSON[_0x3e87ea(0x165)](_0x188695);const _0x43394e=localStorage[_0x3e87ea(0x13e)](KEY_SETTINGS);if(_0x43394e){const _0x2893c6=JSON[_0x3e87ea(0x165)](_0x43394e);if(_0x2893c6[_0x3e87ea(0x16f)])availabilityPattern=_0x2893c6[_0x3e87ea(0x16f)];if(_0x2893c6[_0x3e87ea(0x9d)])specialRanges=_0x2893c6[_0x3e87ea(0x9d)];if(_0x2893c6[_0x3e87ea(0xb4)])dateExceptions=_0x2893c6[_0x3e87ea(0xb4)];}}catch(_0x4a0675){}},async 'syncLoad'(){const _0x3e29a2=a3_0x47d82a,_0xd5dbee=new Date(),_0x21df49=_0xd5dbee['getFullYear']()+'-'+String(_0xd5dbee[_0x3e29a2(0xbf)]()+0x1)[_0x3e29a2(0x139)](0x2,'0'),_0x3bf57b=new Date(_0xd5dbee);_0x3bf57b['setMonth'](_0xd5dbee['getMonth']()+0x1);const _0x64544f=_0x3bf57b[_0x3e29a2(0xa1)]()+'-'+String(_0x3bf57b[_0x3e29a2(0xbf)]()+0x1)[_0x3e29a2(0x139)](0x2,'0'),_0x50a169=Date[_0x3e29a2(0xe9)]();try{const _0x4b2fd7=window[_0x3e29a2(0x153)]?.['WebApp'],_0x4d6060=_0x4b2fd7?.[_0x3e29a2(0x12b)]||'',[_0x4924d7,_0x5d39b4]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x3e29a2(0xd9)]({'action':_0x3e29a2(0x156),'init_data':_0x4d6060,'month_str':_0x21df49})})[_0x3e29a2(0xde)](_0x4de65e=>_0x4de65e[_0x3e29a2(0xb1)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x3e29a2(0xd9)]({'action':_0x3e29a2(0x156),'init_data':_0x4d6060,'month_str':_0x64544f})})['then'](_0x489209=>_0x489209['json']())]);if(lastUserActionTime>_0x50a169){console[_0x3e29a2(0x13a)](_0x3e29a2(0x16b));return;}if(_0x4924d7['ok'])this['applyData'](_0x4924d7[_0x3e29a2(0x11e)],_0x21df49);if(_0x5d39b4['ok'])this[_0x3e29a2(0x8d)](_0x5d39b4['data'],_0x64544f);this[_0x3e29a2(0x144)]();}catch(_0x5f510a){}},'applyData'(_0x22c509,_0x4ffa91){const _0x408104=a3_0x47d82a;if(!_0x22c509)return;if(_0x22c509['settings']){if(_0x22c509['settings'][_0x408104(0x16f)])availabilityPattern=_0x22c509[_0x408104(0x120)]['pattern'];if(_0x22c509[_0x408104(0x120)][_0x408104(0x9d)])specialRanges=_0x22c509[_0x408104(0x120)][_0x408104(0x9d)];if(_0x22c509['settings'][_0x408104(0xb4)])dateExceptions=_0x22c509[_0x408104(0x120)][_0x408104(0xb4)];}if(_0x22c509[_0x408104(0x17f)]&&Array[_0x408104(0xc3)](_0x22c509[_0x408104(0x17f)]))clients=_0x22c509[_0x408104(0x17f)];_0x22c509[_0x408104(0x113)]&&(coachProfiles={...coachProfiles,..._0x22c509['coach_profiles']}),_0x22c509[_0x408104(0x17b)]&&(sessions=sessions['filter'](_0x3fed8b=>!_0x3fed8b[_0x408104(0x130)][_0x408104(0x11d)](_0x4ffa91)),Object[_0x408104(0x15a)](_0x22c509[_0x408104(0x17b)])[_0x408104(0x142)](_0x6f9c41=>{const _0x12dd9d=_0x408104,_0x40d6b7=_0x22c509['calendar'][_0x6f9c41];_0x40d6b7[_0x12dd9d(0x142)](_0x1cc5d1=>{const _0x431ca1=_0x12dd9d;sessions[_0x431ca1(0x15e)]({'id':_0x1cc5d1['i'],'clientId':_0x1cc5d1['c'],'coachId':_0x1cc5d1[_0x431ca1(0x16d)],'dateStr':_0x4ffa91+'-'+_0x6f9c41[_0x431ca1(0x139)](0x2,'0'),'start':_0x1cc5d1['s'],'end':_0x1cc5d1['e'],'note':_0x1cc5d1['n']||'','status':_0x1cc5d1['st']||_0x431ca1(0x16a),'seriesId':_0x1cc5d1[_0x431ca1(0x182)]});});})),reRenderBlocks();}};function init(){const _0x6d60b0=a3_0x47d82a;DataManager[_0x6d60b0(0xe4)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x6d60b0(0xb7)](_0x6d60b0(0x98))[_0x6d60b0(0x15d)](_0x6d60b0(0xe7),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x6d60b0(0xb0)]();}function renderTimeColumn(){const _0x19b080=a3_0x47d82a,_0x52ef76=document[_0x19b080(0xb7)](_0x19b080(0xa2)),_0x2aa42d=document['getElementById'](_0x19b080(0xa4));_0x52ef76[_0x19b080(0xff)]='',_0x52ef76[_0x19b080(0x91)](_0x2aa42d);for(let _0x3b9ea2=0x0;_0x3b9ea2<0x18;_0x3b9ea2++){const _0x56c523=document['createElement'](_0x19b080(0xe5));_0x56c523['className']=_0x19b080(0xf1);if(_0x3b9ea2>0x0)_0x56c523['innerHTML']=_0x19b080(0xb2)+String(_0x3b9ea2)['padStart'](0x2,'0')+_0x19b080(0x177);_0x52ef76[_0x19b080(0x91)](_0x56c523);}}function renderDayRange(_0x307738,_0x3d5e03){const _0x374d7=a3_0x47d82a,_0x260202=document[_0x374d7(0xb7)](_0x374d7(0xe8)),_0x5a60c3=document[_0x374d7(0xb7)](_0x374d7(0x109)),_0x5393a9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b7ec6=new Date();_0x1b7ec6[_0x374d7(0x162)](0x0,0x0,0x0,0x0);const _0x19582a=getLocalDateStr(new Date());for(let _0x38e569=_0x307738;_0x38e569<=_0x3d5e03;_0x38e569++){const _0x5037f2=new Date(_0x1b7ec6);_0x5037f2[_0x374d7(0xc4)](_0x5037f2[_0x374d7(0x125)]()+_0x38e569);const _0x32b0db=getLocalDateStr(_0x5037f2);let _0x19fae6=_0x5037f2[_0x374d7(0xfd)]()-0x1;if(_0x19fae6===-0x1)_0x19fae6=0x6;const _0x2abcf8=_0x32b0db===_0x19582a,_0x167aaf=document[_0x374d7(0x179)](_0x374d7(0xe5));_0x167aaf[_0x374d7(0x14a)]=_0x374d7(0xb6)+(_0x2abcf8?_0x374d7(0x126):''),_0x167aaf[_0x374d7(0x10b)]('data-date',_0x32b0db),_0x167aaf['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5393a9[_0x19fae6]+_0x374d7(0xfc)+_0x5037f2[_0x374d7(0x125)]()+_0x374d7(0x11f),_0x260202[_0x374d7(0x91)](_0x167aaf);const _0x3a9002=document['createElement']('div');_0x3a9002[_0x374d7(0x14a)]=_0x374d7(0x181)+(_0x2abcf8?_0x374d7(0x126):''),_0x3a9002[_0x374d7(0x10b)](_0x374d7(0x8b),_0x32b0db),_0x3a9002[_0x374d7(0x10b)]('data-day-idx',_0x19fae6),_0x5a60c3[_0x374d7(0x91)](_0x3a9002);}}function reRenderBlocks(){const _0x50db60=a3_0x47d82a;document['querySelectorAll']('.day-column')[_0x50db60(0x142)](_0x3c769b=>{const _0x60bd2b=_0x50db60;_0x3c769b[_0x60bd2b(0x15f)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x60bd2b(0x142)](_0x81976f=>_0x81976f[_0x60bd2b(0xd4)]());const _0x48aafd=_0x3c769b[_0x60bd2b(0xf6)](_0x60bd2b(0x8b)),_0x4354f1=parseInt(_0x3c769b[_0x60bd2b(0xf6)]('data-day-idx')),_0x44bc6a=Math[_0x60bd2b(0xbe)](_0x3c769b[_0x60bd2b(0xfa)]);(availabilityPattern[_0x4354f1]||[])[_0x60bd2b(0x142)](_0x3b312f=>{const _0x1b6a88=_0x60bd2b,_0x363a20=document[_0x1b6a88(0x179)](_0x1b6a88(0xe5));_0x363a20[_0x1b6a88(0x14a)]=_0x1b6a88(0xb5),_0x363a20[_0x1b6a88(0x12d)]['top']=_0x3b312f*GRID_H+'px',_0x363a20['style']['backgroundPosition']='-'+_0x44bc6a+'px\x20-'+_0x3b312f*GRID_H+'px',_0x3c769b[_0x1b6a88(0x91)](_0x363a20);});if(specialRanges['length']>0x0){const _0x20f53d=new Date(_0x48aafd+_0x60bd2b(0x117))[_0x60bd2b(0xa0)](),_0x3441b4=new Date(_0x48aafd+_0x60bd2b(0x176))['getTime']();specialRanges[_0x60bd2b(0x142)](_0x32f7f4=>{const _0x30d64f=_0x60bd2b,_0x372d56=new Date(_0x32f7f4[_0x30d64f(0x102)])[_0x30d64f(0xa0)](),_0x4ccc98=new Date(_0x32f7f4[_0x30d64f(0x9a)])['getTime'](),_0x18ea8f=Math[_0x30d64f(0x147)](_0x20f53d,_0x372d56),_0x2e88b5=Math[_0x30d64f(0x9b)](_0x3441b4,_0x4ccc98);if(_0x18ea8f<_0x2e88b5){const _0x5607b8=(_0x18ea8f-_0x20f53d)/0x36ee80*GRID_H,_0x2ceaaa=(_0x2e88b5-_0x18ea8f)/0x36ee80*GRID_H,_0xeef9bf=document[_0x30d64f(0x179)](_0x30d64f(0xe5));_0x2ceaaa>=23.5*GRID_H?(_0xeef9bf[_0x30d64f(0x14a)]='day-off-overlay\x20stripe-bg',_0xeef9bf[_0x30d64f(0x12d)]['backgroundPosition']='-'+_0x44bc6a+_0x30d64f(0x128)):(_0xeef9bf['className']=_0x30d64f(0xfe),_0xeef9bf['style'][_0x30d64f(0x149)]=_0x5607b8+'px',_0xeef9bf[_0x30d64f(0x12d)]['height']=_0x2ceaaa+'px',_0xeef9bf[_0x30d64f(0x12d)][_0x30d64f(0x145)]='-'+_0x44bc6a+_0x30d64f(0x178)+_0x5607b8+'px'),_0x3c769b[_0x30d64f(0x91)](_0xeef9bf);}});}renderEventsForColumn(_0x3c769b,_0x48aafd);});}function renderEventsForColumn(_0x37f999,_0x5bfdc2){const _0x12f114=a3_0x47d82a,_0xb9dad1=sessions[_0x12f114(0x16e)](_0x4fd177=>_0x4fd177[_0x12f114(0x130)]===_0x5bfdc2),_0x37cb6e=_0xb9dad1['map'](_0x1e7e33=>{const _0x2cef51=_0x12f114,[_0x5cafc5,_0x11c23f]=_0x1e7e33[_0x2cef51(0x102)]['split'](':')[_0x2cef51(0x121)](Number),[_0x2a1f3c,_0x47c57a]=_0x1e7e33['end'][_0x2cef51(0x14b)](':')[_0x2cef51(0x121)](Number);return{'data':_0x1e7e33,'start':_0x5cafc5*0x3c+_0x11c23f,'end':_0x2a1f3c*0x3c+_0x47c57a,'colIndex':0x0};});_0x37cb6e['sort']((_0x24ca28,_0x538d91)=>_0x24ca28['start']-_0x538d91['start']||_0x538d91[_0x12f114(0x9a)]-_0x538d91['start']-(_0x24ca28['end']-_0x24ca28['start']));const _0x59ba77=[];_0x37cb6e[_0x12f114(0x142)](_0x20f209=>{const _0x2a77ba=_0x12f114;let _0x1671bb=![];for(let _0x3f2404=0x0;_0x3f2404<_0x59ba77['length'];_0x3f2404++){const _0xabee0a=_0x59ba77[_0x3f2404];if(_0x20f209[_0x2a77ba(0x102)]>=_0xabee0a[_0xabee0a[_0x2a77ba(0xbb)]-0x1][_0x2a77ba(0x9a)]){_0xabee0a[_0x2a77ba(0x15e)](_0x20f209),_0x20f209['colIndex']=_0x3f2404,_0x1671bb=!![];break;}}!_0x1671bb&&(_0x59ba77[_0x2a77ba(0x15e)]([_0x20f209]),_0x20f209[_0x2a77ba(0xd5)]=_0x59ba77[_0x2a77ba(0xbb)]-0x1);}),_0x37cb6e['forEach'](_0x2f4633=>{const _0x5875f4=_0x12f114;let _0x394198=0x0;_0x37cb6e['forEach'](_0x35d7eb=>{const _0x325654=a3_0x3643;if(Math[_0x325654(0x147)](_0x2f4633[_0x325654(0x102)],_0x35d7eb['start'])<Math[_0x325654(0x9b)](_0x2f4633[_0x325654(0x9a)],_0x35d7eb[_0x325654(0x9a)])&&_0x35d7eb[_0x325654(0xd5)]>_0x394198)_0x394198=_0x35d7eb['colIndex'];});const _0x909ae=_0x394198+0x1,_0x2839ed=0x64/_0x909ae,_0x4f60f7=_0x2f4633[_0x5875f4(0xd5)]*_0x2839ed,_0x239f89=document[_0x5875f4(0x179)](_0x5875f4(0xe5)),_0x22c534=_0x2f4633[_0x5875f4(0x11e)];let _0x538ca6=_0x5875f4(0x161);if(clients&&clients[_0x5875f4(0xbb)]>0x0){const _0x276417=clients[_0x5875f4(0x160)](_0x45db6f=>String(_0x45db6f['id'])===String(_0x22c534['clientId']));if(_0x276417&&_0x276417[_0x5875f4(0xce)])_0x538ca6=_0x276417[_0x5875f4(0xce)];}const _0x3626f8=_0x22c534['status']===_0x5875f4(0x17d),_0x52b756=_0x3626f8?0x1:0.45;_0x239f89[_0x5875f4(0x14a)]=_0x5875f4(0x10a)+(_0x3626f8?_0x5875f4(0xdb):''),_0x239f89['style'][_0x5875f4(0x12f)]=hexToRgba(_0x538ca6,_0x52b756),_0x239f89[_0x5875f4(0x12d)][_0x5875f4(0xf5)]=_0x538ca6;const _0x1f1974=_0x2f4633[_0x5875f4(0x102)]/0x3c*GRID_H,_0x3f0916=(_0x2f4633['end']-_0x2f4633[_0x5875f4(0x102)])/0x3c*GRID_H;_0x239f89[_0x5875f4(0x12d)]['top']=_0x1f1974+'px',_0x239f89[_0x5875f4(0x12d)][_0x5875f4(0x17c)]=Math[_0x5875f4(0x147)](_0x3f0916,0x14)+'px',_0x239f89[_0x5875f4(0x12d)][_0x5875f4(0xd1)]=_0x5875f4(0xe3)+_0x2839ed+_0x5875f4(0x170),_0x239f89[_0x5875f4(0x12d)]['left']=_0x5875f4(0xe3)+_0x4f60f7+'%\x20+\x202px)',_0x239f89[_0x5875f4(0x12d)]['zIndex']=0xa+_0x2f4633[_0x5875f4(0xd5)];if(_0x2839ed<0x55)_0x239f89['classList'][_0x5875f4(0x9c)](_0x5875f4(0x155));let _0x107d5f='';if(_0x22c534[_0x5875f4(0x118)])_0x107d5f+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x3626f8)_0x107d5f+=_0x5875f4(0x93);_0x239f89[_0x5875f4(0xff)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x22c534[_0x5875f4(0x102)]+_0x5875f4(0x99)+_0x22c534['end']+_0x5875f4(0x9e)+_0x107d5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x239f89[_0x5875f4(0xec)]=_0x3a39b7=>{_0x3a39b7['stopPropagation'](),openDetails(_0x22c534);},_0x37f999[_0x5875f4(0x91)](_0x239f89);});}function openAnalytics(){const _0x4cf3c0=a3_0x47d82a,_0x7e6156=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4cf3c0(0xf0),_0x7e6156),openSheet(_0x4cf3c0(0x135));}function setAnalyticsPeriod(_0x375e7d,_0x393d16){const _0xd92494=a3_0x47d82a;currentAnPeriod=_0x375e7d,document[_0xd92494(0x15f)](_0xd92494(0x11a))[_0xd92494(0x142)](_0x19e806=>_0x19e806[_0xd92494(0x15b)]['remove']('active'));if(_0x393d16)_0x393d16[_0xd92494(0x15b)][_0xd92494(0x9c)](_0xd92494(0x95));const _0xbf9565=document['getElementById'](_0xd92494(0xf8));_0xbf9565[_0xd92494(0x12d)][_0xd92494(0x94)]=_0x375e7d==='custom'?_0xd92494(0x17a):_0xd92494(0xd6);const _0x211a81=new Date();let _0x1a1dfd=new Date(),_0x368e1a=new Date();if(_0x375e7d===_0xd92494(0xf0))_0x1a1dfd=getStartOfWeek(_0x211a81),_0x368e1a=new Date(_0x1a1dfd),_0x368e1a['setDate'](_0x368e1a[_0xd92494(0x125)]()+0x6);else{if(_0x375e7d===_0xd92494(0x106))_0x1a1dfd=new Date(_0x211a81[_0xd92494(0xa1)](),_0x211a81[_0xd92494(0xbf)](),0x1),_0x368e1a=new Date(_0x211a81[_0xd92494(0xa1)](),_0x211a81[_0xd92494(0xbf)]()+0x1,0x0);else{!document[_0xd92494(0xb7)]('anStart')[_0xd92494(0xee)]&&(document[_0xd92494(0xb7)](_0xd92494(0xcb))[_0xd92494(0xee)]=getLocalDateStr(_0x211a81),document[_0xd92494(0xb7)]('anEnd')['value']=getLocalDateStr(_0x211a81));refreshAnalytics();return;}}document[_0xd92494(0xb7)](_0xd92494(0xcb))[_0xd92494(0xee)]=getLocalDateStr(_0x1a1dfd),document[_0xd92494(0xb7)](_0xd92494(0x133))['value']=getLocalDateStr(_0x368e1a),refreshAnalytics();}function refreshAnalytics(){const _0x53e052=a3_0x47d82a,_0x3db88a=document['getElementById'](_0x53e052(0xcb))[_0x53e052(0xee)],_0x16facf=document[_0x53e052(0xb7)]('anEnd')[_0x53e052(0xee)];if(!_0x3db88a||!_0x16facf)return;const _0x2bd58c=sessions[_0x53e052(0x16e)](_0xda243d=>_0xda243d[_0x53e052(0x130)]>=_0x3db88a&&_0xda243d[_0x53e052(0x130)]<=_0x16facf&&_0xda243d[_0x53e052(0x8e)]!==_0x53e052(0xed)),_0x545477=_0x2bd58c[_0x53e052(0xbb)],_0x1b1f37=_0x2bd58c['filter'](_0x431abd=>_0x431abd[_0x53e052(0x8e)]===_0x53e052(0x17d))['length'],_0x17fbdb=_0x545477>0x0?Math[_0x53e052(0xbe)](_0x1b1f37/_0x545477*0x64):0x0;document[_0x53e052(0xb7)](_0x53e052(0xa5))[_0x53e052(0x8c)]=_0x17fbdb+'%',document[_0x53e052(0xb7)]('anTotalStats')['textContent']=_0x1b1f37+_0x53e052(0xaf)+_0x545477+_0x53e052(0xf4);const _0x5d2b6d=document[_0x53e052(0xb7)](_0x53e052(0x13c)),_0x4cbfa7=0x2*Math['PI']*0x23,_0x2d52c3=_0x4cbfa7-_0x17fbdb/0x64*_0x4cbfa7;_0x5d2b6d[_0x53e052(0x12d)][_0x53e052(0x12c)]=_0x2d52c3;const _0x4aaac4={};_0x2bd58c[_0x53e052(0x142)](_0x108f28=>{const _0x1882ab=_0x53e052,_0x17027b=_0x108f28[_0x1882ab(0xdc)]||_0x1882ab(0x9f);if(!_0x4aaac4[_0x17027b]){const _0x105815='#'+_0x17027b[_0x1882ab(0x107)]()[_0x1882ab(0x101)](0x0,0x6);_0x4aaac4[_0x17027b]={'total':0x0,'done':0x0,'color':_0x105815};}_0x4aaac4[_0x17027b][_0x1882ab(0xc5)]++;if(_0x108f28['status']===_0x1882ab(0x17d))_0x4aaac4[_0x17027b][_0x1882ab(0xef)]++;});const _0x1330c8=document['getElementById'](_0x53e052(0x183));_0x1330c8[_0x53e052(0xff)]='';const _0x32b72e=Object[_0x53e052(0x171)](_0x4aaac4)[_0x53e052(0x96)]((_0xf585f3,_0x4629f5)=>_0x4629f5[0x1]['total']-_0xf585f3[0x1][_0x53e052(0xc5)]);if(_0x32b72e[_0x53e052(0xbb)]===0x0){_0x1330c8[_0x53e052(0xff)]=_0x53e052(0xb9);return;}_0x32b72e[_0x53e052(0x142)](([_0x3a76fb,_0x440a1a])=>{const _0x32d54e=_0x53e052,_0x258745=Math[_0x32d54e(0xbe)](_0x440a1a[_0x32d54e(0xef)]/_0x440a1a[_0x32d54e(0xc5)]*0x64),_0x35b1e0=document[_0x32d54e(0x179)](_0x32d54e(0xe5));_0x35b1e0[_0x32d54e(0x14a)]=_0x32d54e(0x11c),_0x35b1e0[_0x32d54e(0x12d)][_0x32d54e(0xf5)]=_0x440a1a['color'],_0x35b1e0[_0x32d54e(0xff)]=_0x32d54e(0x136)+_0x3a76fb['substr'](0x0,0x5)+_0x32d54e(0x16c)+_0x440a1a['done']+'</span>\x20/\x20'+_0x440a1a[_0x32d54e(0xc5)]+_0x32d54e(0x143)+_0x258745+_0x32d54e(0x10e),_0x1330c8['appendChild'](_0x35b1e0);});}function openDetails(_0x36db93){const _0xa88c7c=a3_0x47d82a;currentSession=_0x36db93;const _0x19ab57=new Date(_0x36db93['dateStr']),_0x370e53=_0x19ab57[_0xa88c7c(0x124)](_0xa88c7c(0x10d),{'weekday':_0xa88c7c(0xad),'day':'numeric','month':'long'});document[_0xa88c7c(0xb7)](_0xa88c7c(0xe6))['textContent']=_0x370e53[_0xa88c7c(0x10c)](0x0)[_0xa88c7c(0x97)]()+_0x370e53[_0xa88c7c(0x159)](0x1),document[_0xa88c7c(0xb7)]('detTime')['textContent']=_0x36db93[_0xa88c7c(0x102)]+_0xa88c7c(0x99)+_0x36db93['end'],document['getElementById']('detNote')[_0xa88c7c(0x8c)]=_0x36db93['note']||_0xa88c7c(0x119);const _0x5b30a0=document['getElementById']('detStatus'),_0x45303f=document[_0xa88c7c(0xb7)](_0xa88c7c(0x13d)),_0x277005=_0x45303f[_0xa88c7c(0xac)](_0xa88c7c(0xd0)),_0x347756=_0x45303f[_0xa88c7c(0xac)](_0xa88c7c(0x167)),_0x4b98a6=document[_0xa88c7c(0xb7)](_0xa88c7c(0x129));if(_0x36db93[_0xa88c7c(0x8e)]==='completed')_0x5b30a0[_0xa88c7c(0x8c)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x5b30a0[_0xa88c7c(0x12d)][_0xa88c7c(0xce)]='var(--acc-green)',_0x45303f[_0xa88c7c(0x12d)]['display']='none';else{_0x5b30a0['textContent']=_0xa88c7c(0xdf),_0x5b30a0[_0xa88c7c(0x12d)]['color']=_0xa88c7c(0x163),_0x45303f['style'][_0xa88c7c(0x94)]=_0xa88c7c(0xda);const _0xe304b9=new Date(_0x36db93[_0xa88c7c(0x130)]+'T'+_0x36db93[_0xa88c7c(0x102)]),_0x5c32a4=new Date(),_0x78274e=(_0xe304b9-_0x5c32a4)/(0x3e8*0x3c*0x3c),_0x2e441d=coachProfiles[_0x36db93['coachId']]&&coachProfiles[_0x36db93[_0xa88c7c(0xdc)]][_0xa88c7c(0x140)]?parseInt(coachProfiles[_0x36db93[_0xa88c7c(0xdc)]]['cancel_window']):0x18;if(_0x2e441d===0x0||_0x78274e>=_0x2e441d)_0x277005[_0xa88c7c(0x12d)][_0xa88c7c(0x94)]=_0xa88c7c(0xda),_0x347756[_0xa88c7c(0x12d)]['display']=_0xa88c7c(0xda),_0x4b98a6[_0xa88c7c(0x12d)]['display']=_0xa88c7c(0xd6);else{_0x277005[_0xa88c7c(0x12d)][_0xa88c7c(0x94)]=_0xa88c7c(0xd6),_0x347756['style'][_0xa88c7c(0x94)]='none',_0x4b98a6['style'][_0xa88c7c(0x94)]=_0xa88c7c(0xda);let _0x509a0b=_0x2e441d===0x0?_0xa88c7c(0x137):_0xa88c7c(0x184)+_0x2e441d+_0xa88c7c(0xb8);_0x4b98a6[_0xa88c7c(0x8c)]=_0xa88c7c(0xf3)+_0x509a0b+_0xa88c7c(0x134);}}document[_0xa88c7c(0xb7)](_0xa88c7c(0x14d))[_0xa88c7c(0x15b)][_0xa88c7c(0x9c)](_0xa88c7c(0x95)),document[_0xa88c7c(0xb7)](_0xa88c7c(0x14f))[_0xa88c7c(0x15b)][_0xa88c7c(0x9c)](_0xa88c7c(0x116));}function closeAllSheets(){const _0x46914d=a3_0x47d82a;document[_0x46914d(0xb7)](_0x46914d(0x14d))[_0x46914d(0x15b)][_0x46914d(0xd4)](_0x46914d(0x95)),document['querySelectorAll']('.sheet')[_0x46914d(0x142)](_0x2346d2=>_0x2346d2['classList'][_0x46914d(0xd4)](_0x46914d(0x116)));}function openSheet(_0xdc27d8){const _0x5e6121=a3_0x47d82a;document[_0x5e6121(0xb7)](_0x5e6121(0x14d))[_0x5e6121(0x15b)]['add'](_0x5e6121(0x95)),document[_0x5e6121(0xb7)](_0xdc27d8)['classList'][_0x5e6121(0x9c)]('open');}function getLocalDateStr(_0x29425a){const _0x27bda0=a3_0x47d82a,_0xfa8c50=_0x29425a[_0x27bda0(0xa1)](),_0x310d9b=String(_0x29425a['getMonth']()+0x1)['padStart'](0x2,'0'),_0x36062d=String(_0x29425a[_0x27bda0(0x125)]())['padStart'](0x2,'0');return _0xfa8c50+'-'+_0x310d9b+'-'+_0x36062d;}function getStartOfWeek(_0x2828a5){const _0x48d2a0=a3_0x47d82a,_0x300c69=new Date(_0x2828a5),_0x428467=_0x300c69[_0x48d2a0(0xfd)](),_0x12a24d=_0x300c69[_0x48d2a0(0x125)]()-_0x428467+(_0x428467===0x0?-0x6:0x1);return _0x300c69[_0x48d2a0(0xc4)](_0x12a24d),_0x300c69[_0x48d2a0(0x162)](0x0,0x0,0x0,0x0),_0x300c69;}function scrollToToday(){const _0x641c7b=getLocalDateStr(new Date());setTimeout(()=>{const _0x5555d3=a3_0x3643,_0xcc30ea=document[_0x5555d3(0xac)](_0x5555d3(0xca)+_0x641c7b+'\x22]');if(_0xcc30ea){const _0x47b8a3=document[_0x5555d3(0xb7)](_0x5555d3(0x98)),_0x23e759=_0xcc30ea[_0x5555d3(0xfa)]-_0x47b8a3[_0x5555d3(0x173)]/0x2+_0xcc30ea[_0x5555d3(0xfb)]/0x2;_0x47b8a3['scrollTo']({'left':_0x23e759,'behavior':'auto'}),_0x47b8a3['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xc5c635=a3_0x47d82a,_0x15fad0=new Date(),_0x5886f8=document['getElementById'](_0xc5c635(0x11b)),_0x56d252=document[_0xc5c635(0xb7)](_0xc5c635(0xa4)),_0x5e29f9=(_0x15fad0[_0xc5c635(0x157)]()*0x3c+_0x15fad0[_0xc5c635(0x17e)]())/0x3c*GRID_H;_0x5886f8[_0xc5c635(0x12d)][_0xc5c635(0x149)]=_0x5e29f9+'px',_0x5886f8[_0xc5c635(0x12d)][_0xc5c635(0x94)]=_0xc5c635(0xda),_0x56d252[_0xc5c635(0x12d)][_0xc5c635(0x149)]=_0x5e29f9+'px',_0x56d252[_0xc5c635(0x12d)][_0xc5c635(0x94)]=_0xc5c635(0xda),_0x56d252[_0xc5c635(0x8c)]=String(_0x15fad0[_0xc5c635(0x157)]())['padStart'](0x2,'0')+':'+String(_0x15fad0[_0xc5c635(0x17e)]())[_0xc5c635(0x139)](0x2,'0');}function onScroll(){const _0x3006aa=a3_0x47d82a,_0x489c07=document[_0x3006aa(0xb7)](_0x3006aa(0x98)),_0x26fb78=document[_0x3006aa(0x15f)](_0x3006aa(0x146));for(let _0x4c0cfb of _0x26fb78)if(_0x4c0cfb[_0x3006aa(0xfa)]>=_0x489c07['scrollLeft']){const _0x23dc5f=new Date(_0x4c0cfb[_0x3006aa(0xf6)]('data-date'));document[_0x3006aa(0xb7)]('headerMonth')[_0x3006aa(0x8c)]=_0x23dc5f[_0x3006aa(0xf7)]('ru',{'month':_0x3006aa(0xad)})[_0x3006aa(0x97)]()+'\x20'+_0x23dc5f[_0x3006aa(0xa1)]();break;}}function showToast(_0x3c682b){const _0x5a1560=a3_0x47d82a,_0x2c4409=document[_0x5a1560(0xb7)](_0x5a1560(0xba));_0x2c4409[_0x5a1560(0x8c)]=_0x3c682b,_0x2c4409[_0x5a1560(0x15b)][_0x5a1560(0x9c)](_0x5a1560(0xc6)),setTimeout(()=>_0x2c4409[_0x5a1560(0x15b)][_0x5a1560(0xd4)](_0x5a1560(0xc6)),0x7d0);}function a3_0x4525(){const _0x2627f7=['findIndex','isArray','setDate','total','show','insertBefore','get_slots','<div\x20class=\x22dch-day\x22>','.day-col-header[data-date=\x22','anStart','rgba(','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','color','fontWeight','.btn-cancel','width','rs-time-btn','1375556UWayne','remove','colIndex','none','#ff453a','constructor','stringify','block','\x20status-completed','coachId','<div\x20class=\x22rs-day-name\x22>','then','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','apply','rescheduleSheet','router.html','calc(','loadLocal','div','detDate','scroll','daysHeaderTrack','now','</div><div\x20class=\x22rs-day-num\x22>','onClick','onclick','cancelled','value','done','week','time-label','customConfirm','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','borderLeftColor','getAttribute','toLocaleString','anCustomDates','join','offsetLeft','offsetWidth','</div><div\x20class=\x22dch-num\x22>','getDay','blocked-range-part\x20stripe-bg','innerHTML','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','substr','start','client_cancel','uc_client_sessions','739776bGXdti','month','toString','scrollWidth','gridColumns','event-card','setAttribute','charAt','ru-RU','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2602629kZvJHP','rsDatesTrack','\x20–≤\x20','2vZoUnb','coach_profiles','location','disableVerticalSwipes','open','T00:00:00','seriesId','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','.period-switch\x20.p-btn','globalTimeLine','client-stat-card','startsWith','data','</div>','settings','map','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','expand','toLocaleDateString','getDate','today','uc_client_settings','px\x200px','cancelHint','(((.+)+)+)+$','initData','strokeDashoffset','style','890048QFPzFl','backgroundColor','dateStr','Error\x20setting\x20back\x20button:','Critical\x20TMA\x20Error:','anEnd','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','analyticsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','ccTitle','padStart','log','POST','anDonutCircle','cancelContainer','getItem','#050505','cancel_window','BackButton','forEach','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','saveLocally','backgroundPosition','.day-col-header','max','rs-date-chip','top','className','split','scrollLeft','overlay','600','detailsSheet','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','reschedule','rsSlotsGrid','Telegram','initDataUnsafe','mini','client_load','getHours','DOMContentLoaded','slice','keys','classList','test','addEventListener','push','querySelectorAll','find','#0a84ff','setHours','var(--acc-blue)','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','parse','–û—Ç–º–µ–Ω–µ–Ω–æ','.btn-reschedule','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','ccYesBtn','planned','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','cid','filter','pattern','%\x20-\x204px)','entries','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','clientWidth','search','numeric','T23:59:59',':00</span>','px\x20-','createElement','flex','calendar','height','completed','getMinutes','clients','Error\x20setting\x20color:','day-column\x20','sid','analyticsList','–∑–∞\x20','WebApp','data-date','textContent','applyData','status','1354005TcjwaS','setItem','appendChild','createDocumentFragment','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','display','active','sort','toUpperCase','matrixViewport','\x20-\x20','end','min','add','ranges','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Unknown','getTime','getFullYear','timeColumn','user','timeLineBadge','anPercent','ready','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','firstChild','ccText','56247QSPTUp','visible','querySelector','long','16VvRyqC','\x20–∏–∑\x20','syncLoad','json','<span>','51891tJSRSu','exceptions','blocked-slot\x20stripe-bg','day-col-header\x20','getElementById','\x20—á.','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','toast','length','setBackgroundColor','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','round','getMonth','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','href'];a3_0x4525=function(){return _0x2627f7;};return a3_0x4525();}function handleInfiniteScroll(){const _0x1d665a=a3_0x47d82a,_0x1c34ad=document[_0x1d665a(0xb7)](_0x1d665a(0x98)),_0xcb09c2=_0x1c34ad[_0x1d665a(0x14c)],_0x4d32fe=_0x1c34ad[_0x1d665a(0x108)],_0x61965b=_0x1c34ad[_0x1d665a(0x173)];if(_0x4d32fe-(_0xcb09c2+_0x61965b)<0x12c){const _0x1eecf5=endOffset;endOffset+=0xe,renderDayRange(_0x1eecf5+0x1,endOffset),reRenderBlocks();}if(_0xcb09c2<0x12c){const _0x383220=startOffset;startOffset-=0xe,prependDays(startOffset,_0x383220-0x1),_0x1c34ad[_0x1d665a(0x14c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x49fb4b,_0x17d967){const _0x2d2f48=a3_0x47d82a,_0x187f57=document['getElementById']('daysHeaderTrack'),_0x52a1f5=document[_0x2d2f48(0xb7)](_0x2d2f48(0x109)),_0x3fd16a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x396f8b=new Date();_0x396f8b[_0x2d2f48(0x162)](0x0,0x0,0x0,0x0);const _0x1a7802=getLocalDateStr(new Date()),_0x23be86=document['createDocumentFragment'](),_0x2a5c7f=document[_0x2d2f48(0x92)]();for(let _0x3adfc4=_0x49fb4b;_0x3adfc4<=_0x17d967;_0x3adfc4++){const _0x46ac63=new Date(_0x396f8b);_0x46ac63[_0x2d2f48(0xc4)](_0x46ac63[_0x2d2f48(0x125)]()+_0x3adfc4);const _0x5652b2=getLocalDateStr(_0x46ac63);let _0x31843c=_0x46ac63[_0x2d2f48(0xfd)]()-0x1;if(_0x31843c===-0x1)_0x31843c=0x6;const _0x20a5ee=_0x5652b2===_0x1a7802,_0x336240=document['createElement'](_0x2d2f48(0xe5));_0x336240[_0x2d2f48(0x14a)]=_0x2d2f48(0xb6)+(_0x20a5ee?'today':''),_0x336240[_0x2d2f48(0x10b)](_0x2d2f48(0x8b),_0x5652b2),_0x336240[_0x2d2f48(0xff)]=_0x2d2f48(0xc9)+_0x3fd16a[_0x31843c]+_0x2d2f48(0xfc)+_0x46ac63[_0x2d2f48(0x125)]()+_0x2d2f48(0x11f),_0x23be86[_0x2d2f48(0x91)](_0x336240);const _0x5c4bc6=document[_0x2d2f48(0x179)](_0x2d2f48(0xe5));_0x5c4bc6[_0x2d2f48(0x14a)]='day-column\x20'+(_0x20a5ee?'today':''),_0x5c4bc6[_0x2d2f48(0x10b)](_0x2d2f48(0x8b),_0x5652b2),_0x5c4bc6['setAttribute']('data-day-idx',_0x31843c),_0x2a5c7f[_0x2d2f48(0x91)](_0x5c4bc6);}_0x187f57[_0x2d2f48(0xc7)](_0x23be86,_0x187f57[_0x2d2f48(0xa8)]),_0x52a1f5[_0x2d2f48(0xc7)](_0x2a5c7f,_0x52a1f5['querySelector']('.day-column'));}function hexToRgba(_0x7bae3c,_0x1e7b21){const _0x440ddd=a3_0x47d82a;let _0x341af3;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x440ddd(0x15c)](_0x7bae3c))return _0x341af3=_0x7bae3c['substring'](0x1)[_0x440ddd(0x14b)](''),_0x341af3[_0x440ddd(0xbb)]==0x3&&(_0x341af3=[_0x341af3[0x0],_0x341af3[0x0],_0x341af3[0x1],_0x341af3[0x1],_0x341af3[0x2],_0x341af3[0x2]]),_0x341af3='0x'+_0x341af3['join'](''),_0x440ddd(0xcc)+[_0x341af3>>0x10&0xff,_0x341af3>>0x8&0xff,_0x341af3&0xff][_0x440ddd(0xf9)](',')+','+_0x1e7b21+')';return'rgba(10,\x20132,\x20255,\x20'+_0x1e7b21+')';}let confirmResolver=null;function showCustomConfirm(_0x4ac4b1,_0x584b22,_0x551891=!![]){const _0x48609a=a3_0x47d82a;document[_0x48609a(0xb7)](_0x48609a(0x138))[_0x48609a(0x8c)]=_0x4ac4b1,document[_0x48609a(0xb7)](_0x48609a(0xa9))['textContent']=_0x584b22;const _0x405471=document['getElementById'](_0x48609a(0x169));return _0x551891?(_0x405471[_0x48609a(0x12d)][_0x48609a(0xce)]=_0x48609a(0xd7),_0x405471[_0x48609a(0x12d)][_0x48609a(0xcf)]=_0x48609a(0x14e)):(_0x405471[_0x48609a(0x12d)][_0x48609a(0xce)]='#0a84ff',_0x405471[_0x48609a(0x12d)][_0x48609a(0xcf)]=_0x48609a(0x14e)),new Promise(_0x48944a=>{const _0x4d1584=_0x48609a;confirmResolver=_0x48944a,document[_0x4d1584(0xb7)](_0x4d1584(0xf2))[_0x4d1584(0x15b)][_0x4d1584(0x9c)]('visible');});}function resolveCustomConfirm(_0x3401e7){const _0x50fd94=a3_0x47d82a;document['getElementById'](_0x50fd94(0xf2))[_0x50fd94(0x15b)][_0x50fd94(0xd4)](_0x50fd94(0xab));if(confirmResolver)confirmResolver(_0x3401e7);}async function tryCancelCurrentSession(){const _0x5ef52b=a3_0x47d82a;if(!currentSession)return;const _0x4bc32a=await showCustomConfirm(_0x5ef52b(0xc0),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x4bc32a)return;const _0x3c4d2a=currentSession;closeAllSheets(),sessions=sessions[_0x5ef52b(0x16e)](_0x2f9b83=>_0x2f9b83['id']!==_0x3c4d2a['id']),reRenderBlocks(),showToast(_0x5ef52b(0x166)),lastUserActionTime=Date[_0x5ef52b(0xe9)]();try{const _0x133df1=window[_0x5ef52b(0x153)]?.['WebApp'],_0x30ddac=await fetch(API_URL,{'method':'POST','body':JSON[_0x5ef52b(0xd9)]({'action':_0x5ef52b(0x103),'init_data':_0x133df1?.['initData']||'','coachId':_0x3c4d2a[_0x5ef52b(0xdc)],'dateStr':_0x3c4d2a['dateStr'],'sessionId':_0x3c4d2a['id']})});if(_0x30ddac['ok'])DataManager[_0x5ef52b(0x144)]();}catch(_0x1256b9){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x15289e=a3_0x47d82a;if(!currentSession)return;document['getElementById'](_0x15289e(0x14f))[_0x15289e(0x15b)][_0x15289e(0xd4)](_0x15289e(0x116)),document[_0x15289e(0xb7)](_0x15289e(0xe1))[_0x15289e(0x15b)]['add'](_0x15289e(0x116));const _0x34e6ad=document[_0x15289e(0xb7)](_0x15289e(0x110)),_0x55b655=document[_0x15289e(0xb7)](_0x15289e(0x152));_0x34e6ad['innerHTML']='',_0x55b655[_0x15289e(0xff)]=_0x15289e(0x122);const [_0x5910e1,_0x278103]=currentSession[_0x15289e(0x102)][_0x15289e(0x14b)](':')[_0x15289e(0x121)](Number),[_0x12de55,_0x559c10]=currentSession[_0x15289e(0x9a)][_0x15289e(0x14b)](':')[_0x15289e(0x121)](Number),_0x527f9f=_0x12de55*0x3c+_0x559c10-(_0x5910e1*0x3c+_0x278103);try{const _0x1df64d=window[_0x15289e(0x153)]?.['WebApp'],_0x167d18=await fetch(API_URL,{'method':'POST','body':JSON[_0x15289e(0xd9)]({'action':_0x15289e(0xc8),'coachId':currentSession[_0x15289e(0xdc)],'duration':_0x527f9f,'init_data':_0x1df64d?.[_0x15289e(0x12b)]||'','excludeSessionId':currentSession['id']})}),_0x50626b=await _0x167d18['json']();_0x50626b['ok']&&_0x50626b[_0x15289e(0x11e)]?(availableSlotsCache=_0x50626b[_0x15289e(0x11e)],renderRescheduleDates()):_0x55b655[_0x15289e(0xff)]=_0x15289e(0x168);}catch(_0x8ca7f2){_0x55b655['innerHTML']=_0x15289e(0x100);}}function renderRescheduleDates(){const _0x4e99f3=a3_0x47d82a,_0x507953=document['getElementById'](_0x4e99f3(0x110));_0x507953[_0x4e99f3(0xff)]='';const _0x524042=Object[_0x4e99f3(0x15a)](availableSlotsCache)[_0x4e99f3(0x96)](),_0x188170=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x524042['length']===0x0){document[_0x4e99f3(0xb7)](_0x4e99f3(0x152))[_0x4e99f3(0xff)]=_0x4e99f3(0xcd);return;}_0x524042[_0x4e99f3(0x142)]((_0x3e5bbe,_0x4310fd)=>{const _0x45303a=_0x4e99f3,_0x1ec99b=new Date(_0x3e5bbe),_0xde81f4=_0x188170[_0x1ec99b[_0x45303a(0xfd)]()],_0xa8b8d7=_0x1ec99b[_0x45303a(0x125)](),_0x5be2b9=document[_0x45303a(0x179)](_0x45303a(0xe5));_0x5be2b9[_0x45303a(0x14a)]=_0x45303a(0x148);if(_0x4310fd===0x0)_0x5be2b9[_0x45303a(0x15b)][_0x45303a(0x9c)](_0x45303a(0x95));_0x5be2b9[_0x45303a(0xff)]=_0x45303a(0xdd)+_0xde81f4+_0x45303a(0xea)+_0xa8b8d7+_0x45303a(0x11f),_0x5be2b9[_0x45303a(0xec)]=()=>selectRsDate(_0x3e5bbe,_0x5be2b9),_0x507953[_0x45303a(0x91)](_0x5be2b9);}),selectRsDate(_0x524042[0x0],_0x507953[_0x4e99f3(0xa8)]);}function selectRsDate(_0x4455a7,_0x57e5cb){const _0x33a217=a3_0x47d82a;selectedRsDate=_0x4455a7,document[_0x33a217(0x15f)]('.rs-date-chip')[_0x33a217(0x142)](_0x532bf7=>_0x532bf7[_0x33a217(0x15b)]['remove'](_0x33a217(0x95)));if(_0x57e5cb)_0x57e5cb[_0x33a217(0x15b)][_0x33a217(0x9c)](_0x33a217(0x95));const _0x2b75e7=document[_0x33a217(0xb7)]('rsSlotsGrid');_0x2b75e7[_0x33a217(0xff)]='';const _0x52b56d=availableSlotsCache[_0x4455a7]||[];if(_0x52b56d['length']===0x0){_0x2b75e7['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x52b56d[_0x33a217(0x142)](_0x36c0e1=>{const _0x365552=_0x33a217,_0x4262f7=document['createElement']('button');_0x4262f7[_0x365552(0x14a)]=_0x365552(0xd2),_0x4262f7[_0x365552(0x8c)]=_0x36c0e1,_0x4262f7[_0x365552(0xec)]=()=>confirmReschedule(_0x36c0e1),_0x2b75e7['appendChild'](_0x4262f7);});}async function confirmReschedule(_0x4bcfdb){const _0x4fdce0=a3_0x47d82a,_0x3ed3ec=new Date(selectedRsDate),_0x5cb7f5=_0x3ed3ec['toLocaleDateString']('ru-RU',{'day':_0x4fdce0(0x175),'month':'long'}),_0x43a112=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x4fdce0(0xbd)+_0x5cb7f5+_0x4fdce0(0x111)+_0x4bcfdb+'?',![]);if(!_0x43a112)return;closeAllSheets(),showToast(_0x4fdce0(0x172)),lastUserActionTime=Date['now']();const _0x59110d=currentSession['dateStr'],_0x19547b=currentSession['id'],[_0xc2e3f0,_0x45e190]=currentSession['start']['split'](':')[_0x4fdce0(0x121)](Number),[_0x1193df,_0x1f8692]=currentSession[_0x4fdce0(0x9a)][_0x4fdce0(0x14b)](':')[_0x4fdce0(0x121)](Number),_0xb9634d=_0x1193df*0x3c+_0x1f8692-(_0xc2e3f0*0x3c+_0x45e190),[_0x44924a,_0x40c9ce]=_0x4bcfdb[_0x4fdce0(0x14b)](':')[_0x4fdce0(0x121)](Number),_0x3634e0=_0x44924a*0x3c+_0x40c9ce+_0xb9634d,_0x14fa79=Math['floor'](_0x3634e0/0x3c),_0x1cbcf8=_0x3634e0%0x3c,_0x7fad40=String(_0x14fa79)[_0x4fdce0(0x139)](0x2,'0')+':'+String(_0x1cbcf8)[_0x4fdce0(0x139)](0x2,'0'),_0x42f9c9=sessions[_0x4fdce0(0xc2)](_0x5b39a7=>_0x5b39a7['id']===_0x19547b);_0x42f9c9!==-0x1&&(sessions[_0x42f9c9][_0x4fdce0(0x130)]=selectedRsDate,sessions[_0x42f9c9][_0x4fdce0(0x102)]=_0x4bcfdb,sessions[_0x42f9c9]['end']=_0x7fad40,reRenderBlocks());try{const _0x3ecd3b=window['Telegram']?.[_0x4fdce0(0x185)],_0xae3207=await fetch(API_URL,{'method':_0x4fdce0(0x13b),'body':JSON[_0x4fdce0(0xd9)]({'action':_0x4fdce0(0x151),'init_data':_0x3ecd3b?.[_0x4fdce0(0x12b)]||'','oldSessionId':_0x19547b,'oldDate':_0x59110d,'newDate':selectedRsDate,'newTime':_0x4bcfdb,'coachId':currentSession['coachId']})}),_0x49a098=await _0xae3207[_0x4fdce0(0xb1)]();!_0x49a098['ok']?(showToast(_0x4fdce0(0x150)),DataManager[_0x4fdce0(0xb0)]()):(showToast(_0x4fdce0(0xa7)),DataManager[_0x4fdce0(0x144)]());}catch(_0x2ea7d9){showToast(_0x4fdce0(0x164));}}document[a3_0x47d82a(0x15d)](a3_0x47d82a(0x158),init);