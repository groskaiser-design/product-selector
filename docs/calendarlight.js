const a3_0xf0213e=a3_0x1dd0;(function(_0x46c464,_0x33a42b){const _0x3d08a2=a3_0x1dd0,_0x5f4489=_0x46c464();while(!![]){try{const _0x3d93f1=parseInt(_0x3d08a2(0x124))/0x1+parseInt(_0x3d08a2(0x19b))/0x2+-parseInt(_0x3d08a2(0x104))/0x3*(parseInt(_0x3d08a2(0x1ad))/0x4)+-parseInt(_0x3d08a2(0x138))/0x5*(-parseInt(_0x3d08a2(0x12b))/0x6)+-parseInt(_0x3d08a2(0xe3))/0x7+parseInt(_0x3d08a2(0xbc))/0x8+parseInt(_0x3d08a2(0x15c))/0x9*(-parseInt(_0x3d08a2(0x14a))/0xa);if(_0x3d93f1===_0x33a42b)break;else _0x5f4489['push'](_0x5f4489['shift']());}catch(_0x23eea1){_0x5f4489['push'](_0x5f4489['shift']());}}}(a3_0x28f4,0x5cd74));const APP_VERSION=a3_0xf0213e(0x17e),API_URL=a3_0xf0213e(0xe6),GRID_H=0x3c,KEY_SESSIONS=a3_0xf0213e(0x140),KEY_SETTINGS=a3_0xf0213e(0x153),KEY_CLIENTS=a3_0xf0213e(0x17c);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xf0213e(0xc8),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3082b9=a3_0xf0213e,_0x5de24c=(function(){let _0x351ac9=!![];return function(_0x18d8e4,_0x27d4d6){const _0x2fd0e5=_0x351ac9?function(){const _0x286598=a3_0x1dd0;if(_0x27d4d6){const _0x394ea2=_0x27d4d6[_0x286598(0x122)](_0x18d8e4,arguments);return _0x27d4d6=null,_0x394ea2;}}:function(){};return _0x351ac9=![],_0x2fd0e5;};}()),_0x5234f9=_0x5de24c(this,function(){const _0x37988f=a3_0x1dd0;return _0x5234f9[_0x37988f(0xd8)]()[_0x37988f(0x146)](_0x37988f(0xcf))[_0x37988f(0xd8)]()['constructor'](_0x5234f9)[_0x37988f(0x146)](_0x37988f(0xcf));});_0x5234f9();try{const _0x42cdf3=window[_0x3082b9(0xed)]?.[_0x3082b9(0x149)];if(!_0x42cdf3)return;_0x42cdf3['ready'](),_0x42cdf3[_0x3082b9(0x148)]();try{_0x42cdf3[_0x3082b9(0x18e)]('#050505'),_0x42cdf3[_0x3082b9(0x1ab)]&&_0x42cdf3[_0x3082b9(0x1ab)](_0x3082b9(0x106));}catch(_0xa84ce8){console[_0x3082b9(0xd4)](_0x3082b9(0x14f),_0xa84ce8);}try{_0x42cdf3[_0x3082b9(0x117)]&&(_0x42cdf3['BackButton']['show'](),_0x42cdf3[_0x3082b9(0x117)]['offClick'](),_0x42cdf3[_0x3082b9(0x117)][_0x3082b9(0xce)](function(){const _0x5d95aa=_0x3082b9;window[_0x5d95aa(0x1a6)][_0x5d95aa(0x174)]='router.html';}));}catch(_0x1e5b5e){console['log'](_0x3082b9(0xc5),_0x1e5b5e);}try{if(_0x42cdf3[_0x3082b9(0x105)])_0x42cdf3[_0x3082b9(0x105)]();}catch(_0x11e855){}}catch(_0x579b38){console[_0x3082b9(0xe9)](_0x3082b9(0x1b2),_0x579b38);}}());function isAdmin(){const _0x46d48a=a3_0xf0213e;try{const _0x246a94=Number(window['Telegram']?.[_0x46d48a(0x149)]?.['initDataUnsafe']?.[_0x46d48a(0xf1)]?.['id']);return _0x246a94===0xbaf7174;}catch(_0x17c267){return![];}}const DataManager={'saveLocally'(){const _0x9bca48=a3_0xf0213e;try{localStorage[_0x9bca48(0x13f)](KEY_SESSIONS,JSON[_0x9bca48(0x110)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x9bca48(0x110)](clients)),localStorage[_0x9bca48(0x13f)](KEY_SETTINGS,JSON[_0x9bca48(0x110)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x337f80){}},'loadLocal'(){const _0x37a6f2=a3_0xf0213e;try{const _0x496355=localStorage['getItem'](KEY_SESSIONS);if(_0x496355)sessions=JSON['parse'](_0x496355);const _0x1c9d3e=localStorage[_0x37a6f2(0x169)](KEY_CLIENTS);if(_0x1c9d3e)clients=JSON[_0x37a6f2(0xd9)](_0x1c9d3e);const _0x1e29cc=localStorage[_0x37a6f2(0x169)](KEY_SETTINGS);if(_0x1e29cc){const _0x3c7d97=JSON[_0x37a6f2(0xd9)](_0x1e29cc);if(_0x3c7d97['pattern'])availabilityPattern=_0x3c7d97[_0x37a6f2(0x175)];if(_0x3c7d97[_0x37a6f2(0x11f)])specialRanges=_0x3c7d97[_0x37a6f2(0x11f)];if(_0x3c7d97[_0x37a6f2(0x17f)])dateExceptions=_0x3c7d97['exceptions'];}}catch(_0x562ea9){}},async 'syncLoad'(){const _0x174d2c=a3_0xf0213e,_0x291ef0=new Date(),_0x3cb587=_0x291ef0['getFullYear']()+'-'+String(_0x291ef0[_0x174d2c(0x1b1)]()+0x1)[_0x174d2c(0x108)](0x2,'0'),_0x14d3c1=new Date(_0x291ef0);_0x14d3c1[_0x174d2c(0xd7)](_0x291ef0[_0x174d2c(0x1b1)]()+0x1);const _0x477018=_0x14d3c1[_0x174d2c(0x103)]()+'-'+String(_0x14d3c1['getMonth']()+0x1)[_0x174d2c(0x108)](0x2,'0'),_0x30c907=Date[_0x174d2c(0x188)]();try{const _0x123979=window[_0x174d2c(0xed)]?.[_0x174d2c(0x149)],_0x47cf19=_0x123979?.['initData']||'',[_0x4d57f1,_0x18adbd]=await Promise[_0x174d2c(0x1a8)]([fetch(API_URL,{'method':_0x174d2c(0xd1),'body':JSON[_0x174d2c(0x110)]({'action':_0x174d2c(0x119),'init_data':_0x47cf19,'month_str':_0x3cb587})})['then'](_0x1e2317=>_0x1e2317[_0x174d2c(0xe4)]()),fetch(API_URL,{'method':_0x174d2c(0xd1),'body':JSON['stringify']({'action':_0x174d2c(0x119),'init_data':_0x47cf19,'month_str':_0x477018})})[_0x174d2c(0x12f)](_0x44ff26=>_0x44ff26['json']())]);if(lastUserActionTime>_0x30c907){console['log'](_0x174d2c(0x14b));return;}if(_0x4d57f1['ok'])this[_0x174d2c(0xd5)](_0x4d57f1['data'],_0x3cb587);if(_0x18adbd['ok'])this['applyData'](_0x18adbd[_0x174d2c(0xfb)],_0x477018);this[_0x174d2c(0xda)]();}catch(_0x259e62){}},'applyData'(_0x5c89ae,_0x1622b1){const _0x540188=a3_0xf0213e;if(!_0x5c89ae)return;if(_0x5c89ae[_0x540188(0xe7)]){if(_0x5c89ae[_0x540188(0xe7)][_0x540188(0x175)])availabilityPattern=_0x5c89ae['settings'][_0x540188(0x175)];if(_0x5c89ae[_0x540188(0xe7)][_0x540188(0x11f)])specialRanges=_0x5c89ae[_0x540188(0xe7)][_0x540188(0x11f)];if(_0x5c89ae[_0x540188(0xe7)][_0x540188(0x17f)])dateExceptions=_0x5c89ae[_0x540188(0xe7)]['exceptions'];}if(_0x5c89ae[_0x540188(0x1b6)]&&Array[_0x540188(0x13e)](_0x5c89ae[_0x540188(0x1b6)]))clients=_0x5c89ae[_0x540188(0x1b6)];_0x5c89ae[_0x540188(0x197)]&&(coachProfiles={...coachProfiles,..._0x5c89ae[_0x540188(0x197)]}),_0x5c89ae[_0x540188(0xf7)]&&(sessions=sessions[_0x540188(0xc7)](_0x3bd27b=>!_0x3bd27b['dateStr'][_0x540188(0x127)](_0x1622b1)),Object[_0x540188(0x132)](_0x5c89ae[_0x540188(0xf7)])['forEach'](_0x5dc1df=>{const _0x52f901=_0x540188,_0x5e6d3d=_0x5c89ae[_0x52f901(0xf7)][_0x5dc1df];_0x5e6d3d[_0x52f901(0xfe)](_0x6509be=>{const _0x4d6ce9=_0x52f901;sessions[_0x4d6ce9(0xdd)]({'id':_0x6509be['i'],'clientId':_0x6509be['c'],'coachId':_0x6509be['cid'],'dateStr':_0x1622b1+'-'+_0x5dc1df[_0x4d6ce9(0x108)](0x2,'0'),'start':_0x6509be['s'],'end':_0x6509be['e'],'note':_0x6509be['n']||'','status':_0x6509be['st']||'planned','seriesId':_0x6509be[_0x4d6ce9(0x12c)]});});})),reRenderBlocks();}};function a3_0x28f4(){const _0x27b923=['active','calc(','month','split','<div\x20class=\x22rs-day-name\x22>','join','length','cancelContainer','firstChild','600','ru-RU','getItem','colIndex','rgba(','top','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','setDate','day-column\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','syncLoad','blocked-slot\x20stripe-bg','data-date','href','pattern','mini','overlay','borderLeftColor','.day-column','min','</div><div\x20class=\x22dch-num\x22>','uc_client_list','scrollTo','v9.5-CLIENT-ANALYTICS','exceptions','left','client-stat-card','color','.btn-cancel','custom','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','completed','daysHeaderTrack','now','find','event-card','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','createElement','display','setHeaderColor','</div>','numeric','.btn-reschedule','matrixViewport','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','toLocaleString','scrollTop','insertBefore','coach_profiles','style','div','classList','563460VRTIsQ','scrollLeft','anPercent','gridColumns','scroll','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','cancel_window','height','var(--acc-blue)','cancelled','location','long','all','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','substring','setBackgroundColor','getMinutes','4904ldRThl','data-day-idx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','start','getMonth','Critical\x20TMA\x20Error:','anEnd','var(--acc-green)','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','clients','detTime','open','blocked-range-part\x20stripe-bg','</div><div\x20class=\x22rs-day-num\x22>','clientWidth','addEventListener','5370640VSNzSW','show','\x20-\x20','globalTimeLine','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','rsSlotsGrid','.day-col-header','fontWeight','getHours','Error\x20setting\x20back\x20button:','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','filter','week','time-label','initData','value','sort','zIndex','onClick','(((.+)+)+)+$','test','POST','#0a84ff','offsetWidth','log','applyData','querySelector','setMonth','toString','parse','saveLocally','backgroundColor','ccText','push','getElementById','rgba(10,\x20132,\x20255,\x20','\x20status-completed','dateStr','entries','3636087LbSqZp','json','visible','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','settings','toUpperCase','error','analyticsSheet','createDocumentFragment','anCustomDates','Telegram','getTime','toast','round','user','anStart','substr','strokeDashoffset','auto','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','calendar','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.period-switch\x20.p-btn','className','data','innerHTML','%\x20-\x204px)','forEach','scrollWidth','Unknown','coachId','backgroundPosition','getFullYear','1473tmNqnl','disableVerticalSwipes','#050505','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','padStart','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','seriesId','anDonutCircle','status','offsetLeft','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','stringify','end','ccYesBtn','textContent','toLocaleDateString','done','appendChild','BackButton','detDate','client_load','flex','T23:59:59','findIndex','px\x200px','T00:00:00','ranges','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','rsDatesTrack','apply','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','466390nQjfsO','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','charAt','startsWith','day-col-header\x20','none','get_slots','156IfcHjB','sid','detailsSheet','rs-date-chip','then','loadLocal','stopPropagation','keys','headerMonth','setAttribute','customConfirm','\x20–≤\x20','add','110335uiFQLG','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','<div\x20class=\x22dch-day\x22>','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','isArray','setItem','uc_client_sessions','\x20–∏–∑\x20','onclick','.day-col-header[data-date=\x22','slice','ccTitle','search','today','expand','WebApp','10QCSENh','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','total','client_cancel','Error\x20setting\x20color:','button','getDate','querySelectorAll','uc_client_settings','map','<span>','setHours','getAttribute','anTotalStats','–∑–∞\x20','clientId','block','4423581FPNNAH','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'];a3_0x28f4=function(){return _0x27b923;};return a3_0x28f4();}function init(){const _0x51912f=a3_0xf0213e;DataManager[_0x51912f(0x130)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x51912f(0xde)]('matrixViewport')[_0x51912f(0xbb)](_0x51912f(0x19f),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x899946=a3_0xf0213e,_0x41a9da=document[_0x899946(0xde)]('timeColumn'),_0x13f493=document[_0x899946(0xde)]('timeLineBadge');_0x41a9da[_0x899946(0xfc)]='',_0x41a9da[_0x899946(0x116)](_0x13f493);for(let _0x15820d=0x0;_0x15820d<0x18;_0x15820d++){const _0x1f6560=document[_0x899946(0x18c)](_0x899946(0x199));_0x1f6560[_0x899946(0xfa)]=_0x899946(0xc9);if(_0x15820d>0x0)_0x1f6560[_0x899946(0xfc)]=_0x899946(0x155)+String(_0x15820d)[_0x899946(0x108)](0x2,'0')+':00</span>';_0x41a9da[_0x899946(0x116)](_0x1f6560);}}function renderDayRange(_0x29d88f,_0x3605ff){const _0x42c9cc=a3_0xf0213e,_0x38911c=document[_0x42c9cc(0xde)](_0x42c9cc(0x187)),_0x337316=document[_0x42c9cc(0xde)](_0x42c9cc(0x19e)),_0x5ca906=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34d0b3=new Date();_0x34d0b3['setHours'](0x0,0x0,0x0,0x0);const _0x1e0a6f=getLocalDateStr(new Date());for(let _0x999e1f=_0x29d88f;_0x999e1f<=_0x3605ff;_0x999e1f++){const _0x1ded3=new Date(_0x34d0b3);_0x1ded3['setDate'](_0x1ded3['getDate']()+_0x999e1f);const _0x44cedf=getLocalDateStr(_0x1ded3);let _0x5abeeb=_0x1ded3['getDay']()-0x1;if(_0x5abeeb===-0x1)_0x5abeeb=0x6;const _0x42d33e=_0x44cedf===_0x1e0a6f,_0x5402f7=document[_0x42c9cc(0x18c)](_0x42c9cc(0x199));_0x5402f7[_0x42c9cc(0xfa)]=_0x42c9cc(0x128)+(_0x42d33e?_0x42c9cc(0x147):''),_0x5402f7[_0x42c9cc(0x134)]('data-date',_0x44cedf),_0x5402f7[_0x42c9cc(0xfc)]=_0x42c9cc(0x13a)+_0x5ca906[_0x5abeeb]+_0x42c9cc(0x17b)+_0x1ded3[_0x42c9cc(0x151)]()+_0x42c9cc(0x18f),_0x38911c['appendChild'](_0x5402f7);const _0x25a026=document[_0x42c9cc(0x18c)]('div');_0x25a026[_0x42c9cc(0xfa)]=_0x42c9cc(0x16f)+(_0x42d33e?_0x42c9cc(0x147):''),_0x25a026[_0x42c9cc(0x134)](_0x42c9cc(0x173),_0x44cedf),_0x25a026['setAttribute']('data-day-idx',_0x5abeeb),_0x337316[_0x42c9cc(0x116)](_0x25a026);}}function reRenderBlocks(){const _0x205a5c=a3_0xf0213e;document[_0x205a5c(0x152)]('.day-column')[_0x205a5c(0xfe)](_0x479375=>{const _0x2cb6f2=_0x205a5c;_0x479375[_0x2cb6f2(0x152)](_0x2cb6f2(0x10f))['forEach'](_0x12efed=>_0x12efed[_0x2cb6f2(0x13d)]());const _0x40eb4c=_0x479375[_0x2cb6f2(0x157)](_0x2cb6f2(0x173)),_0x493475=parseInt(_0x479375[_0x2cb6f2(0x157)](_0x2cb6f2(0x1ae))),_0x56f40d=Math['round'](_0x479375[_0x2cb6f2(0x10e)]);(availabilityPattern[_0x493475]||[])[_0x2cb6f2(0xfe)](_0x175ae7=>{const _0x1bc169=_0x2cb6f2,_0x4e10db=document[_0x1bc169(0x18c)](_0x1bc169(0x199));_0x4e10db[_0x1bc169(0xfa)]=_0x1bc169(0x172),_0x4e10db[_0x1bc169(0x198)][_0x1bc169(0x16c)]=_0x175ae7*GRID_H+'px',_0x4e10db['style']['backgroundPosition']='-'+_0x56f40d+'px\x20-'+_0x175ae7*GRID_H+'px',_0x479375[_0x1bc169(0x116)](_0x4e10db);});if(specialRanges[_0x2cb6f2(0x164)]>0x0){const _0x13c882=new Date(_0x40eb4c+_0x2cb6f2(0x11e))[_0x2cb6f2(0xee)](),_0x30f615=new Date(_0x40eb4c+_0x2cb6f2(0x11b))['getTime']();specialRanges[_0x2cb6f2(0xfe)](_0x53bfbb=>{const _0x3f812f=_0x2cb6f2,_0x46d15b=new Date(_0x53bfbb['start'])[_0x3f812f(0xee)](),_0x402e27=new Date(_0x53bfbb[_0x3f812f(0x111)])['getTime'](),_0x3eba47=Math['max'](_0x13c882,_0x46d15b),_0x59626a=Math[_0x3f812f(0x17a)](_0x30f615,_0x402e27);if(_0x3eba47<_0x59626a){const _0x2c1958=(_0x3eba47-_0x13c882)/0x36ee80*GRID_H,_0x840be3=(_0x59626a-_0x3eba47)/0x36ee80*GRID_H,_0x1bd92b=document[_0x3f812f(0x18c)](_0x3f812f(0x199));_0x840be3>=23.5*GRID_H?(_0x1bd92b[_0x3f812f(0xfa)]='day-off-overlay\x20stripe-bg',_0x1bd92b[_0x3f812f(0x198)][_0x3f812f(0x102)]='-'+_0x56f40d+_0x3f812f(0x11d)):(_0x1bd92b['className']=_0x3f812f(0x1b9),_0x1bd92b[_0x3f812f(0x198)]['top']=_0x2c1958+'px',_0x1bd92b['style'][_0x3f812f(0x1a3)]=_0x840be3+'px',_0x1bd92b['style'][_0x3f812f(0x102)]='-'+_0x56f40d+'px\x20-'+_0x2c1958+'px'),_0x479375['appendChild'](_0x1bd92b);}});}renderEventsForColumn(_0x479375,_0x40eb4c);});}function renderEventsForColumn(_0x39fe8c,_0x3e63ef){const _0x4116d4=a3_0xf0213e,_0x573b54=sessions[_0x4116d4(0xc7)](_0x2e9ace=>_0x2e9ace[_0x4116d4(0xe1)]===_0x3e63ef),_0x2a5766=_0x573b54[_0x4116d4(0x154)](_0x358e14=>{const _0x1d08c8=_0x4116d4,[_0x5cbf16,_0x563c11]=_0x358e14[_0x1d08c8(0x1b0)]['split'](':')[_0x1d08c8(0x154)](Number),[_0x570ab3,_0x1bd690]=_0x358e14[_0x1d08c8(0x111)][_0x1d08c8(0x161)](':')[_0x1d08c8(0x154)](Number);return{'data':_0x358e14,'start':_0x5cbf16*0x3c+_0x563c11,'end':_0x570ab3*0x3c+_0x1bd690,'colIndex':0x0};});_0x2a5766[_0x4116d4(0xcc)]((_0x1b2045,_0x3736cc)=>_0x1b2045[_0x4116d4(0x1b0)]-_0x3736cc[_0x4116d4(0x1b0)]||_0x3736cc[_0x4116d4(0x111)]-_0x3736cc[_0x4116d4(0x1b0)]-(_0x1b2045[_0x4116d4(0x111)]-_0x1b2045[_0x4116d4(0x1b0)]));const _0x42c4e9=[];_0x2a5766[_0x4116d4(0xfe)](_0x1868f0=>{const _0x63da59=_0x4116d4;let _0x3b2b81=![];for(let _0xa2149=0x0;_0xa2149<_0x42c4e9[_0x63da59(0x164)];_0xa2149++){const _0x4d31f0=_0x42c4e9[_0xa2149];if(_0x1868f0['start']>=_0x4d31f0[_0x4d31f0[_0x63da59(0x164)]-0x1][_0x63da59(0x111)]){_0x4d31f0[_0x63da59(0xdd)](_0x1868f0),_0x1868f0[_0x63da59(0x16a)]=_0xa2149,_0x3b2b81=!![];break;}}!_0x3b2b81&&(_0x42c4e9['push']([_0x1868f0]),_0x1868f0['colIndex']=_0x42c4e9['length']-0x1);}),_0x2a5766[_0x4116d4(0xfe)](_0x4305a7=>{const _0x428469=_0x4116d4;let _0x210407=0x0;_0x2a5766[_0x428469(0xfe)](_0x388eb1=>{const _0x3285ba=_0x428469;if(Math['max'](_0x4305a7[_0x3285ba(0x1b0)],_0x388eb1['start'])<Math['min'](_0x4305a7[_0x3285ba(0x111)],_0x388eb1['end'])&&_0x388eb1['colIndex']>_0x210407)_0x210407=_0x388eb1['colIndex'];});const _0x5f2055=_0x210407+0x1,_0x296656=0x64/_0x5f2055,_0xb916b6=_0x4305a7[_0x428469(0x16a)]*_0x296656,_0xadfe6a=document['createElement'](_0x428469(0x199)),_0x353bbb=_0x4305a7['data'];let _0x2e3462='#0a84ff';if(clients&&clients[_0x428469(0x164)]>0x0){const _0x23d1ec=clients[_0x428469(0x189)](_0x55f2bd=>String(_0x55f2bd['id'])===String(_0x353bbb[_0x428469(0x15a)]));if(_0x23d1ec&&_0x23d1ec[_0x428469(0x182)])_0x2e3462=_0x23d1ec[_0x428469(0x182)];}const _0x30544b=_0x353bbb[_0x428469(0x10d)]==='completed',_0x1688f0=_0x30544b?0x1:0.45;_0xadfe6a[_0x428469(0xfa)]=_0x428469(0x18a)+(_0x30544b?_0x428469(0xe0):''),_0xadfe6a[_0x428469(0x198)][_0x428469(0xdb)]=hexToRgba(_0x2e3462,_0x1688f0),_0xadfe6a['style'][_0x428469(0x178)]=_0x2e3462;const _0x4da02c=_0x4305a7[_0x428469(0x1b0)]/0x3c*GRID_H,_0x5512d6=(_0x4305a7[_0x428469(0x111)]-_0x4305a7[_0x428469(0x1b0)])/0x3c*GRID_H;_0xadfe6a[_0x428469(0x198)][_0x428469(0x16c)]=_0x4da02c+'px',_0xadfe6a[_0x428469(0x198)][_0x428469(0x1a3)]=Math['max'](_0x5512d6,0x14)+'px',_0xadfe6a['style']['width']='calc('+_0x296656+_0x428469(0xfd),_0xadfe6a[_0x428469(0x198)][_0x428469(0x180)]=_0x428469(0x15f)+_0xb916b6+'%\x20+\x202px)',_0xadfe6a['style'][_0x428469(0xcd)]=0xa+_0x4305a7[_0x428469(0x16a)];if(_0x296656<0x55)_0xadfe6a['classList'][_0x428469(0x137)](_0x428469(0x176));let _0x1a6a9d='';if(_0x353bbb[_0x428469(0x10b)])_0x1a6a9d+=_0x428469(0xf8);if(_0x30544b)_0x1a6a9d+=_0x428469(0x123);_0xadfe6a['innerHTML']=_0x428469(0x1af)+_0x353bbb['start']+_0x428469(0xbe)+_0x353bbb['end']+_0x428469(0x1a0)+_0x1a6a9d+_0x428469(0x13c),_0xadfe6a[_0x428469(0x142)]=_0x1da64c=>{const _0xd97bf8=_0x428469;_0x1da64c[_0xd97bf8(0x131)](),openDetails(_0x353bbb);},_0x39fe8c[_0x428469(0x116)](_0xadfe6a);});}function openAnalytics(){const _0x29a837=a3_0xf0213e,_0x2f0ef0=document['querySelector'](_0x29a837(0xf9));setAnalyticsPeriod(_0x29a837(0xc8),_0x2f0ef0),openSheet(_0x29a837(0xea));}function setAnalyticsPeriod(_0x2633f9,_0x3d704c){const _0x3826e2=a3_0xf0213e;currentAnPeriod=_0x2633f9,document[_0x3826e2(0x152)](_0x3826e2(0xf9))['forEach'](_0x59d5f3=>_0x59d5f3[_0x3826e2(0x19a)]['remove'](_0x3826e2(0x15e)));if(_0x3d704c)_0x3d704c[_0x3826e2(0x19a)][_0x3826e2(0x137)](_0x3826e2(0x15e));const _0x18639a=document[_0x3826e2(0xde)](_0x3826e2(0xec));_0x18639a[_0x3826e2(0x198)]['display']=_0x2633f9===_0x3826e2(0x184)?_0x3826e2(0x11a):_0x3826e2(0x129);const _0x583d9f=new Date();let _0x381263=new Date(),_0x1e36df=new Date();if(_0x2633f9===_0x3826e2(0xc8))_0x381263=getStartOfWeek(_0x583d9f),_0x1e36df=new Date(_0x381263),_0x1e36df[_0x3826e2(0x16e)](_0x1e36df[_0x3826e2(0x151)]()+0x6);else{if(_0x2633f9===_0x3826e2(0x160))_0x381263=new Date(_0x583d9f['getFullYear'](),_0x583d9f['getMonth'](),0x1),_0x1e36df=new Date(_0x583d9f[_0x3826e2(0x103)](),_0x583d9f[_0x3826e2(0x1b1)]()+0x1,0x0);else{!document[_0x3826e2(0xde)](_0x3826e2(0xf2))[_0x3826e2(0xcb)]&&(document['getElementById'](_0x3826e2(0xf2))[_0x3826e2(0xcb)]=getLocalDateStr(_0x583d9f),document['getElementById'](_0x3826e2(0x1b3))[_0x3826e2(0xcb)]=getLocalDateStr(_0x583d9f));refreshAnalytics();return;}}document[_0x3826e2(0xde)](_0x3826e2(0xf2))[_0x3826e2(0xcb)]=getLocalDateStr(_0x381263),document[_0x3826e2(0xde)](_0x3826e2(0x1b3))[_0x3826e2(0xcb)]=getLocalDateStr(_0x1e36df),refreshAnalytics();}function refreshAnalytics(){const _0x58ac0a=a3_0xf0213e,_0x116c9b=document[_0x58ac0a(0xde)]('anStart')[_0x58ac0a(0xcb)],_0x14121b=document[_0x58ac0a(0xde)](_0x58ac0a(0x1b3))[_0x58ac0a(0xcb)];if(!_0x116c9b||!_0x14121b)return;const _0x548c8d=sessions[_0x58ac0a(0xc7)](_0x316c95=>_0x316c95['dateStr']>=_0x116c9b&&_0x316c95['dateStr']<=_0x14121b&&_0x316c95[_0x58ac0a(0x10d)]!==_0x58ac0a(0x1a5)),_0x1ad504=_0x548c8d[_0x58ac0a(0x164)],_0x212823=_0x548c8d[_0x58ac0a(0xc7)](_0x56468b=>_0x56468b[_0x58ac0a(0x10d)]===_0x58ac0a(0x186))[_0x58ac0a(0x164)],_0x114ef6=_0x1ad504>0x0?Math[_0x58ac0a(0xf0)](_0x212823/_0x1ad504*0x64):0x0;document['getElementById'](_0x58ac0a(0x19d))[_0x58ac0a(0x113)]=_0x114ef6+'%',document[_0x58ac0a(0xde)](_0x58ac0a(0x158))['textContent']=_0x212823+_0x58ac0a(0x141)+_0x1ad504+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x242544=document[_0x58ac0a(0xde)](_0x58ac0a(0x10c)),_0x3d24ab=0x2*Math['PI']*0x23,_0x57e1e5=_0x3d24ab-_0x114ef6/0x64*_0x3d24ab;_0x242544['style'][_0x58ac0a(0xf4)]=_0x57e1e5;const _0x2daa88={};_0x548c8d[_0x58ac0a(0xfe)](_0x393d4b=>{const _0x2fc32b=_0x58ac0a,_0x3a03ef=_0x393d4b[_0x2fc32b(0x101)]||_0x2fc32b(0x100);if(!_0x2daa88[_0x3a03ef]){const _0x4f61cf='#'+_0x3a03ef[_0x2fc32b(0xd8)]()[_0x2fc32b(0xf3)](0x0,0x6);_0x2daa88[_0x3a03ef]={'total':0x0,'done':0x0,'color':_0x4f61cf};}_0x2daa88[_0x3a03ef][_0x2fc32b(0x14d)]++;if(_0x393d4b[_0x2fc32b(0x10d)]===_0x2fc32b(0x186))_0x2daa88[_0x3a03ef][_0x2fc32b(0x115)]++;});const _0x6e1eb7=document[_0x58ac0a(0xde)]('analyticsList');_0x6e1eb7['innerHTML']='';const _0x2a5cee=Object[_0x58ac0a(0xe2)](_0x2daa88)[_0x58ac0a(0xcc)]((_0x385d70,_0x41c68a)=>_0x41c68a[0x1][_0x58ac0a(0x14d)]-_0x385d70[0x1][_0x58ac0a(0x14d)]);if(_0x2a5cee[_0x58ac0a(0x164)]===0x0){_0x6e1eb7[_0x58ac0a(0xfc)]=_0x58ac0a(0x170);return;}_0x2a5cee[_0x58ac0a(0xfe)](([_0x2235b6,_0x19aec8])=>{const _0x4d8806=_0x58ac0a,_0x21afef=Math[_0x4d8806(0xf0)](_0x19aec8[_0x4d8806(0x115)]/_0x19aec8[_0x4d8806(0x14d)]*0x64),_0x43dbd3=document[_0x4d8806(0x18c)](_0x4d8806(0x199));_0x43dbd3[_0x4d8806(0xfa)]=_0x4d8806(0x181),_0x43dbd3['style']['borderLeftColor']=_0x19aec8[_0x4d8806(0x182)],_0x43dbd3[_0x4d8806(0xfc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x2235b6['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x19aec8[_0x4d8806(0x115)]+'</span>\x20/\x20'+_0x19aec8['total']+_0x4d8806(0x15d)+_0x21afef+_0x4d8806(0x14c),_0x6e1eb7[_0x4d8806(0x116)](_0x43dbd3);});}function openDetails(_0x215b0e){const _0x3a086e=a3_0xf0213e;currentSession=_0x215b0e;const _0x5ac452=new Date(_0x215b0e[_0x3a086e(0xe1)]),_0x3b353d=_0x5ac452[_0x3a086e(0x114)](_0x3a086e(0x168),{'weekday':_0x3a086e(0x1a7),'day':_0x3a086e(0x190),'month':_0x3a086e(0x1a7)});document[_0x3a086e(0xde)](_0x3a086e(0x118))[_0x3a086e(0x113)]=_0x3b353d[_0x3a086e(0x126)](0x0)['toUpperCase']()+_0x3b353d[_0x3a086e(0x144)](0x1),document['getElementById'](_0x3a086e(0x1b7))[_0x3a086e(0x113)]=_0x215b0e[_0x3a086e(0x1b0)]+'\x20-\x20'+_0x215b0e[_0x3a086e(0x111)],document[_0x3a086e(0xde)]('detNote')[_0x3a086e(0x113)]=_0x215b0e['note']||_0x3a086e(0x10a);const _0x28176b=document['getElementById']('detStatus'),_0x15a12e=document[_0x3a086e(0xde)](_0x3a086e(0x165)),_0x50e848=_0x15a12e[_0x3a086e(0xd6)](_0x3a086e(0x183)),_0x543388=_0x15a12e['querySelector'](_0x3a086e(0x191)),_0x2013ae=document['getElementById']('cancelHint');if(_0x215b0e[_0x3a086e(0x10d)]===_0x3a086e(0x186))_0x28176b['textContent']=_0x3a086e(0xc0),_0x28176b[_0x3a086e(0x198)]['color']=_0x3a086e(0x1b4),_0x15a12e[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x129);else{_0x28176b[_0x3a086e(0x113)]=_0x3a086e(0x120),_0x28176b['style'][_0x3a086e(0x182)]=_0x3a086e(0x1a4),_0x15a12e[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x15b);const _0x268f0b=new Date(_0x215b0e[_0x3a086e(0xe1)]+'T'+_0x215b0e[_0x3a086e(0x1b0)]),_0x5e282c=new Date(),_0x522a1f=(_0x268f0b-_0x5e282c)/(0x3e8*0x3c*0x3c),_0x15f287=coachProfiles[_0x215b0e['coachId']]&&coachProfiles[_0x215b0e[_0x3a086e(0x101)]][_0x3a086e(0x1a2)]?parseInt(coachProfiles[_0x215b0e[_0x3a086e(0x101)]][_0x3a086e(0x1a2)]):0x18;if(_0x15f287===0x0||_0x522a1f>=_0x15f287)_0x50e848[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x15b),_0x543388['style'][_0x3a086e(0x18d)]=_0x3a086e(0x15b),_0x2013ae[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x129);else{_0x50e848[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x129),_0x543388[_0x3a086e(0x198)][_0x3a086e(0x18d)]=_0x3a086e(0x129),_0x2013ae[_0x3a086e(0x198)]['display']=_0x3a086e(0x15b);let _0x5e324c=_0x15f287===0x0?_0x3a086e(0x1a9):_0x3a086e(0x159)+_0x15f287+'\x20—á.';_0x2013ae[_0x3a086e(0x113)]=_0x3a086e(0x109)+_0x5e324c+_0x3a086e(0x139);}}document[_0x3a086e(0xde)]('overlay')[_0x3a086e(0x19a)][_0x3a086e(0x137)](_0x3a086e(0x15e)),document[_0x3a086e(0xde)](_0x3a086e(0x12d))[_0x3a086e(0x19a)][_0x3a086e(0x137)](_0x3a086e(0x1b8));}function closeAllSheets(){const _0x263102=a3_0xf0213e;document['getElementById']('overlay')['classList'][_0x263102(0x13d)](_0x263102(0x15e)),document[_0x263102(0x152)]('.sheet')[_0x263102(0xfe)](_0x2da65f=>_0x2da65f[_0x263102(0x19a)][_0x263102(0x13d)](_0x263102(0x1b8)));}function openSheet(_0x442e1a){const _0x421e87=a3_0xf0213e;document['getElementById'](_0x421e87(0x177))[_0x421e87(0x19a)]['add'](_0x421e87(0x15e)),document[_0x421e87(0xde)](_0x442e1a)['classList']['add'](_0x421e87(0x1b8));}function getLocalDateStr(_0x11f600){const _0x39d89a=a3_0xf0213e,_0x283157=_0x11f600[_0x39d89a(0x103)](),_0x3cdced=String(_0x11f600['getMonth']()+0x1)['padStart'](0x2,'0'),_0x13ce35=String(_0x11f600[_0x39d89a(0x151)]())[_0x39d89a(0x108)](0x2,'0');return _0x283157+'-'+_0x3cdced+'-'+_0x13ce35;}function a3_0x1dd0(_0x434346,_0x25edc8){_0x434346=_0x434346-0xb9;const _0x3f46e2=a3_0x28f4();let _0x23ac79=_0x3f46e2[_0x434346];return _0x23ac79;}function getStartOfWeek(_0x2c1af0){const _0x374df5=a3_0xf0213e,_0x32925e=new Date(_0x2c1af0),_0xc0a148=_0x32925e[_0x374df5(0x13b)](),_0x37aaec=_0x32925e['getDate']()-_0xc0a148+(_0xc0a148===0x0?-0x6:0x1);return _0x32925e[_0x374df5(0x16e)](_0x37aaec),_0x32925e[_0x374df5(0x156)](0x0,0x0,0x0,0x0),_0x32925e;}function scrollToToday(){const _0x294921=getLocalDateStr(new Date());setTimeout(()=>{const _0x56166c=a3_0x1dd0,_0x3650e5=document[_0x56166c(0xd6)](_0x56166c(0x143)+_0x294921+'\x22]');if(_0x3650e5){const _0x184514=document[_0x56166c(0xde)]('matrixViewport'),_0x1fc287=_0x3650e5[_0x56166c(0x10e)]-_0x184514[_0x56166c(0xba)]/0x2+_0x3650e5[_0x56166c(0xd3)]/0x2;_0x184514[_0x56166c(0x17d)]({'left':_0x1fc287,'behavior':_0x56166c(0xf5)}),_0x184514[_0x56166c(0x195)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59a20f=a3_0xf0213e,_0xf624c3=new Date(),_0x399519=document[_0x59a20f(0xde)](_0x59a20f(0xbf)),_0x78a729=document[_0x59a20f(0xde)]('timeLineBadge'),_0xc6d7fd=(_0xf624c3[_0x59a20f(0xc4)]()*0x3c+_0xf624c3[_0x59a20f(0x1ac)]())/0x3c*GRID_H;_0x399519[_0x59a20f(0x198)]['top']=_0xc6d7fd+'px',_0x399519['style'][_0x59a20f(0x18d)]=_0x59a20f(0x15b),_0x78a729[_0x59a20f(0x198)][_0x59a20f(0x16c)]=_0xc6d7fd+'px',_0x78a729[_0x59a20f(0x198)][_0x59a20f(0x18d)]=_0x59a20f(0x15b),_0x78a729[_0x59a20f(0x113)]=String(_0xf624c3['getHours']())[_0x59a20f(0x108)](0x2,'0')+':'+String(_0xf624c3['getMinutes']())[_0x59a20f(0x108)](0x2,'0');}function onScroll(){const _0x501eb6=a3_0xf0213e,_0x470a65=document[_0x501eb6(0xde)](_0x501eb6(0x192)),_0x35e1ae=document[_0x501eb6(0x152)](_0x501eb6(0xc2));for(let _0x3cd5dd of _0x35e1ae)if(_0x3cd5dd[_0x501eb6(0x10e)]>=_0x470a65['scrollLeft']){const _0x1183b8=new Date(_0x3cd5dd[_0x501eb6(0x157)]('data-date'));document[_0x501eb6(0xde)](_0x501eb6(0x133))['textContent']=_0x1183b8[_0x501eb6(0x194)]('ru',{'month':_0x501eb6(0x1a7)})[_0x501eb6(0xe8)]()+'\x20'+_0x1183b8[_0x501eb6(0x103)]();break;}}function showToast(_0x8257b4){const _0x14752b=a3_0xf0213e,_0x5255f0=document[_0x14752b(0xde)](_0x14752b(0xef));_0x5255f0['textContent']=_0x8257b4,_0x5255f0[_0x14752b(0x19a)][_0x14752b(0x137)](_0x14752b(0xbd)),setTimeout(()=>_0x5255f0[_0x14752b(0x19a)][_0x14752b(0x13d)](_0x14752b(0xbd)),0x7d0);}function handleInfiniteScroll(){const _0x5aa26e=a3_0xf0213e,_0x21ce36=document['getElementById'](_0x5aa26e(0x192)),_0x2817d8=_0x21ce36['scrollLeft'],_0x163591=_0x21ce36[_0x5aa26e(0xff)],_0x31d355=_0x21ce36[_0x5aa26e(0xba)];if(_0x163591-(_0x2817d8+_0x31d355)<0x12c){const _0x3f96e8=endOffset;endOffset+=0xe,renderDayRange(_0x3f96e8+0x1,endOffset),reRenderBlocks();}if(_0x2817d8<0x12c){const _0x313b02=startOffset;startOffset-=0xe,prependDays(startOffset,_0x313b02-0x1),_0x21ce36[_0x5aa26e(0x19c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3d9b5c,_0x4bf5f3){const _0x137fd6=a3_0xf0213e,_0x189f79=document[_0x137fd6(0xde)]('daysHeaderTrack'),_0x1a3b94=document[_0x137fd6(0xde)](_0x137fd6(0x19e)),_0x55bf6b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x14dd33=new Date();_0x14dd33[_0x137fd6(0x156)](0x0,0x0,0x0,0x0);const _0x431a5a=getLocalDateStr(new Date()),_0x41f45b=document[_0x137fd6(0xeb)](),_0x11b8d7=document[_0x137fd6(0xeb)]();for(let _0x46d2d5=_0x3d9b5c;_0x46d2d5<=_0x4bf5f3;_0x46d2d5++){const _0x3572e1=new Date(_0x14dd33);_0x3572e1[_0x137fd6(0x16e)](_0x3572e1['getDate']()+_0x46d2d5);const _0x2dc191=getLocalDateStr(_0x3572e1);let _0x11e1fb=_0x3572e1[_0x137fd6(0x13b)]()-0x1;if(_0x11e1fb===-0x1)_0x11e1fb=0x6;const _0x1c9377=_0x2dc191===_0x431a5a,_0x4dbb70=document[_0x137fd6(0x18c)]('div');_0x4dbb70['className']=_0x137fd6(0x128)+(_0x1c9377?_0x137fd6(0x147):''),_0x4dbb70[_0x137fd6(0x134)](_0x137fd6(0x173),_0x2dc191),_0x4dbb70[_0x137fd6(0xfc)]=_0x137fd6(0x13a)+_0x55bf6b[_0x11e1fb]+'</div><div\x20class=\x22dch-num\x22>'+_0x3572e1['getDate']()+_0x137fd6(0x18f),_0x41f45b[_0x137fd6(0x116)](_0x4dbb70);const _0x483020=document['createElement'](_0x137fd6(0x199));_0x483020['className']=_0x137fd6(0x16f)+(_0x1c9377?'today':''),_0x483020[_0x137fd6(0x134)]('data-date',_0x2dc191),_0x483020['setAttribute']('data-day-idx',_0x11e1fb),_0x11b8d7[_0x137fd6(0x116)](_0x483020);}_0x189f79[_0x137fd6(0x196)](_0x41f45b,_0x189f79[_0x137fd6(0x166)]),_0x1a3b94['insertBefore'](_0x11b8d7,_0x1a3b94[_0x137fd6(0xd6)](_0x137fd6(0x179)));}function hexToRgba(_0x4fde3e,_0x4a3b17){const _0x1c2e86=a3_0xf0213e;let _0x2ba971;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1c2e86(0xd0)](_0x4fde3e))return _0x2ba971=_0x4fde3e[_0x1c2e86(0x1aa)](0x1)[_0x1c2e86(0x161)](''),_0x2ba971[_0x1c2e86(0x164)]==0x3&&(_0x2ba971=[_0x2ba971[0x0],_0x2ba971[0x0],_0x2ba971[0x1],_0x2ba971[0x1],_0x2ba971[0x2],_0x2ba971[0x2]]),_0x2ba971='0x'+_0x2ba971[_0x1c2e86(0x163)](''),_0x1c2e86(0x16b)+[_0x2ba971>>0x10&0xff,_0x2ba971>>0x8&0xff,_0x2ba971&0xff][_0x1c2e86(0x163)](',')+','+_0x4a3b17+')';return _0x1c2e86(0xdf)+_0x4a3b17+')';}let confirmResolver=null;function showCustomConfirm(_0x5445e3,_0x445ab7,_0x2330db=!![]){const _0x5d12a2=a3_0xf0213e;document[_0x5d12a2(0xde)](_0x5d12a2(0x145))['textContent']=_0x5445e3,document[_0x5d12a2(0xde)](_0x5d12a2(0xdc))[_0x5d12a2(0x113)]=_0x445ab7;const _0x1a5b7b=document[_0x5d12a2(0xde)](_0x5d12a2(0x112));return _0x2330db?(_0x1a5b7b[_0x5d12a2(0x198)][_0x5d12a2(0x182)]='#ff453a',_0x1a5b7b[_0x5d12a2(0x198)][_0x5d12a2(0xc3)]=_0x5d12a2(0x167)):(_0x1a5b7b[_0x5d12a2(0x198)][_0x5d12a2(0x182)]=_0x5d12a2(0xd2),_0x1a5b7b[_0x5d12a2(0x198)][_0x5d12a2(0xc3)]=_0x5d12a2(0x167)),new Promise(_0x1b8edb=>{const _0x5d75a3=_0x5d12a2;confirmResolver=_0x1b8edb,document[_0x5d75a3(0xde)](_0x5d75a3(0x135))[_0x5d75a3(0x19a)][_0x5d75a3(0x137)](_0x5d75a3(0xe5));});}function resolveCustomConfirm(_0x12360f){const _0x3f6d98=a3_0xf0213e;document[_0x3f6d98(0xde)](_0x3f6d98(0x135))['classList'][_0x3f6d98(0x13d)](_0x3f6d98(0xe5));if(confirmResolver)confirmResolver(_0x12360f);}async function tryCancelCurrentSession(){const _0x323b07=a3_0xf0213e;if(!currentSession)return;const _0x40cb20=await showCustomConfirm(_0x323b07(0xf6),_0x323b07(0x16d),!![]);if(!_0x40cb20)return;const _0x514073=currentSession;closeAllSheets(),sessions=sessions[_0x323b07(0xc7)](_0x5ca54e=>_0x5ca54e['id']!==_0x514073['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x323b07(0x188)]();try{const _0x7bee20=window[_0x323b07(0xed)]?.['WebApp'],_0x2950ed=await fetch(API_URL,{'method':_0x323b07(0xd1),'body':JSON['stringify']({'action':_0x323b07(0x14e),'init_data':_0x7bee20?.['initData']||'','coachId':_0x514073[_0x323b07(0x101)],'dateStr':_0x514073[_0x323b07(0xe1)],'sessionId':_0x514073['id']})});if(_0x2950ed['ok'])DataManager[_0x323b07(0xda)]();}catch(_0x33e1e4){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xade834=a3_0xf0213e;if(!currentSession)return;document[_0xade834(0xde)](_0xade834(0x12d))[_0xade834(0x19a)]['remove'](_0xade834(0x1b8)),document['getElementById']('rescheduleSheet')['classList'][_0xade834(0x137)](_0xade834(0x1b8));const _0xb4e352=document[_0xade834(0xde)](_0xade834(0x121)),_0x19ddcb=document[_0xade834(0xde)]('rsSlotsGrid');_0xb4e352[_0xade834(0xfc)]='',_0x19ddcb[_0xade834(0xfc)]=_0xade834(0x1a1);const [_0x4b760f,_0x104a47]=currentSession['start'][_0xade834(0x161)](':')[_0xade834(0x154)](Number),[_0x2f25f3,_0x59618b]=currentSession[_0xade834(0x111)]['split'](':')[_0xade834(0x154)](Number),_0x561231=_0x2f25f3*0x3c+_0x59618b-(_0x4b760f*0x3c+_0x104a47);try{const _0x26b25b=window[_0xade834(0xed)]?.['WebApp'],_0x56f6ff=await fetch(API_URL,{'method':_0xade834(0xd1),'body':JSON[_0xade834(0x110)]({'action':_0xade834(0x12a),'coachId':currentSession[_0xade834(0x101)],'duration':_0x561231,'init_data':_0x26b25b?.[_0xade834(0xca)]||'','excludeSessionId':currentSession['id']})}),_0x1643b6=await _0x56f6ff[_0xade834(0xe4)]();_0x1643b6['ok']&&_0x1643b6[_0xade834(0xfb)]?(availableSlotsCache=_0x1643b6[_0xade834(0xfb)],renderRescheduleDates()):_0x19ddcb['innerHTML']=_0xade834(0x107);}catch(_0x352264){_0x19ddcb['innerHTML']=_0xade834(0x18b);}}function renderRescheduleDates(){const _0x34d0b1=a3_0xf0213e,_0x33eba9=document[_0x34d0b1(0xde)](_0x34d0b1(0x121));_0x33eba9[_0x34d0b1(0xfc)]='';const _0x38d4f8=Object[_0x34d0b1(0x132)](availableSlotsCache)[_0x34d0b1(0xcc)](),_0x1e7157=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x38d4f8['length']===0x0){document[_0x34d0b1(0xde)](_0x34d0b1(0xc1))[_0x34d0b1(0xfc)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x38d4f8[_0x34d0b1(0xfe)]((_0x330ab4,_0x2819dc)=>{const _0x1c2c00=_0x34d0b1,_0x203580=new Date(_0x330ab4),_0x58cf1a=_0x1e7157[_0x203580[_0x1c2c00(0x13b)]()],_0x186cdc=_0x203580[_0x1c2c00(0x151)](),_0x3bf1df=document[_0x1c2c00(0x18c)](_0x1c2c00(0x199));_0x3bf1df['className']=_0x1c2c00(0x12e);if(_0x2819dc===0x0)_0x3bf1df[_0x1c2c00(0x19a)][_0x1c2c00(0x137)](_0x1c2c00(0x15e));_0x3bf1df[_0x1c2c00(0xfc)]=_0x1c2c00(0x162)+_0x58cf1a+_0x1c2c00(0xb9)+_0x186cdc+_0x1c2c00(0x18f),_0x3bf1df[_0x1c2c00(0x142)]=()=>selectRsDate(_0x330ab4,_0x3bf1df),_0x33eba9[_0x1c2c00(0x116)](_0x3bf1df);}),selectRsDate(_0x38d4f8[0x0],_0x33eba9['firstChild']);}function selectRsDate(_0x34c5cf,_0x385f34){const _0x309c8b=a3_0xf0213e;selectedRsDate=_0x34c5cf,document['querySelectorAll']('.rs-date-chip')['forEach'](_0xc2b7b0=>_0xc2b7b0[_0x309c8b(0x19a)][_0x309c8b(0x13d)](_0x309c8b(0x15e)));if(_0x385f34)_0x385f34[_0x309c8b(0x19a)][_0x309c8b(0x137)](_0x309c8b(0x15e));const _0x4d1edd=document[_0x309c8b(0xde)]('rsSlotsGrid');_0x4d1edd[_0x309c8b(0xfc)]='';const _0x432931=availableSlotsCache[_0x34c5cf]||[];if(_0x432931['length']===0x0){_0x4d1edd[_0x309c8b(0xfc)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x432931[_0x309c8b(0xfe)](_0x14fced=>{const _0x79a668=_0x309c8b,_0x76bdee=document[_0x79a668(0x18c)](_0x79a668(0x150));_0x76bdee[_0x79a668(0xfa)]='rs-time-btn',_0x76bdee['textContent']=_0x14fced,_0x76bdee[_0x79a668(0x142)]=()=>confirmReschedule(_0x14fced),_0x4d1edd['appendChild'](_0x76bdee);});}async function confirmReschedule(_0x42e233){const _0x776cfa=a3_0xf0213e,_0x41b477=new Date(selectedRsDate),_0x1fe70d=_0x41b477['toLocaleDateString'](_0x776cfa(0x168),{'day':'numeric','month':'long'}),_0x2fdf39=await showCustomConfirm(_0x776cfa(0xc6),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x1fe70d+_0x776cfa(0x136)+_0x42e233+'?',![]);if(!_0x2fdf39)return;closeAllSheets(),showToast(_0x776cfa(0x1b5)),lastUserActionTime=Date['now']();const _0x142502=currentSession['dateStr'],_0x2cb674=currentSession['id'],[_0x5aec19,_0x3a6e3f]=currentSession[_0x776cfa(0x1b0)]['split'](':')[_0x776cfa(0x154)](Number),[_0x396d61,_0x4a95d7]=currentSession['end'][_0x776cfa(0x161)](':')['map'](Number),_0x365396=_0x396d61*0x3c+_0x4a95d7-(_0x5aec19*0x3c+_0x3a6e3f),[_0x39c482,_0x3e9aa7]=_0x42e233['split'](':')[_0x776cfa(0x154)](Number),_0x810149=_0x39c482*0x3c+_0x3e9aa7+_0x365396,_0x2ceaca=Math['floor'](_0x810149/0x3c),_0x542df8=_0x810149%0x3c,_0x37ea94=String(_0x2ceaca)[_0x776cfa(0x108)](0x2,'0')+':'+String(_0x542df8)['padStart'](0x2,'0'),_0x1ce0b1=sessions[_0x776cfa(0x11c)](_0x303488=>_0x303488['id']===_0x2cb674);_0x1ce0b1!==-0x1&&(sessions[_0x1ce0b1][_0x776cfa(0xe1)]=selectedRsDate,sessions[_0x1ce0b1][_0x776cfa(0x1b0)]=_0x42e233,sessions[_0x1ce0b1][_0x776cfa(0x111)]=_0x37ea94,reRenderBlocks());try{const _0xdd430d=window[_0x776cfa(0xed)]?.[_0x776cfa(0x149)],_0x9e77f4=await fetch(API_URL,{'method':_0x776cfa(0xd1),'body':JSON[_0x776cfa(0x110)]({'action':'reschedule','init_data':_0xdd430d?.[_0x776cfa(0xca)]||'','oldSessionId':_0x2cb674,'oldDate':_0x142502,'newDate':selectedRsDate,'newTime':_0x42e233,'coachId':currentSession[_0x776cfa(0x101)]})}),_0x7bcd00=await _0x9e77f4[_0x776cfa(0xe4)]();!_0x7bcd00['ok']?(showToast(_0x776cfa(0x185)),DataManager[_0x776cfa(0x171)]()):(showToast(_0x776cfa(0x125)),DataManager['saveLocally']());}catch(_0xddca3e){showToast(_0x776cfa(0x193));}}document[a3_0xf0213e(0xbb)]('DOMContentLoaded',init);