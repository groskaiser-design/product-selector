const a3_0x4c20b6=a3_0x1301;(function(_0x1b355e,_0x5ea83f){const _0x42af5f=a3_0x1301,_0x204c08=_0x1b355e();while(!![]){try{const _0x3a9548=parseInt(_0x42af5f(0x1dc))/0x1+-parseInt(_0x42af5f(0x231))/0x2+parseInt(_0x42af5f(0x1cb))/0x3*(parseInt(_0x42af5f(0x16e))/0x4)+-parseInt(_0x42af5f(0x182))/0x5+parseInt(_0x42af5f(0x23d))/0x6*(-parseInt(_0x42af5f(0x210))/0x7)+parseInt(_0x42af5f(0x20f))/0x8+parseInt(_0x42af5f(0x1f0))/0x9;if(_0x3a9548===_0x5ea83f)break;else _0x204c08['push'](_0x204c08['shift']());}catch(_0x216715){_0x204c08['push'](_0x204c08['shift']());}}}(a3_0x3cf1,0x61e2b));const APP_VERSION=a3_0x4c20b6(0x179),API_URL=a3_0x4c20b6(0x224),GRID_H=0x3c,KEY_SESSIONS=a3_0x4c20b6(0x1eb),KEY_SETTINGS=a3_0x4c20b6(0x1f1),KEY_CLIENTS=a3_0x4c20b6(0x185);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4c20b6(0x1d7),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3f2f4f=a3_0x4c20b6,_0x18a1f5=(function(){let _0x292b11=!![];return function(_0x389bd9,_0x45d46e){const _0xc6904c=_0x292b11?function(){const _0x29b881=a3_0x1301;if(_0x45d46e){const _0x3127fc=_0x45d46e[_0x29b881(0x1c0)](_0x389bd9,arguments);return _0x45d46e=null,_0x3127fc;}}:function(){};return _0x292b11=![],_0xc6904c;};}()),_0x11207e=_0x18a1f5(this,function(){const _0x209872=a3_0x1301;return _0x11207e[_0x209872(0x17a)]()[_0x209872(0x169)](_0x209872(0x226))[_0x209872(0x17a)]()['constructor'](_0x11207e)['search'](_0x209872(0x226));});_0x11207e();try{const _0x177c45=window[_0x3f2f4f(0x201)]?.[_0x3f2f4f(0x163)];if(!_0x177c45)return;_0x177c45['ready'](),_0x177c45[_0x3f2f4f(0x181)]();try{_0x177c45['setHeaderColor'](_0x3f2f4f(0x1a9)),_0x177c45['setBackgroundColor']&&_0x177c45[_0x3f2f4f(0x202)](_0x3f2f4f(0x1a9));}catch(_0x4153f1){console[_0x3f2f4f(0x187)](_0x3f2f4f(0x15d),_0x4153f1);}try{_0x177c45[_0x3f2f4f(0x1a5)]&&(_0x177c45[_0x3f2f4f(0x1a5)][_0x3f2f4f(0x1dd)](),_0x177c45['BackButton']['offClick'](),_0x177c45[_0x3f2f4f(0x1a5)]['onClick'](function(){const _0x2ffea2=_0x3f2f4f;window[_0x2ffea2(0x204)][_0x2ffea2(0x193)]=_0x2ffea2(0x183);}));}catch(_0x2d4659){console['log'](_0x3f2f4f(0x21f),_0x2d4659);}try{if(_0x177c45[_0x3f2f4f(0x1b1)])_0x177c45[_0x3f2f4f(0x1b1)]();}catch(_0x3d397f){}}catch(_0x482e03){console[_0x3f2f4f(0x176)](_0x3f2f4f(0x15c),_0x482e03);}}());function isAdmin(){const _0x1ed818=a3_0x4c20b6;try{const _0x2dd83b=Number(window[_0x1ed818(0x201)]?.[_0x1ed818(0x163)]?.[_0x1ed818(0x191)]?.[_0x1ed818(0x24c)]?.['id']);return _0x2dd83b===0xbaf7174;}catch(_0x5067ea){return![];}}const DataManager={'saveLocally'(){const _0x1e61dd=a3_0x4c20b6;try{localStorage[_0x1e61dd(0x1b9)](KEY_SESSIONS,JSON[_0x1e61dd(0x1fc)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x1e61dd(0x1fc)](clients)),localStorage[_0x1e61dd(0x1b9)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x193f7c){}},'loadLocal'(){const _0x49b8df=a3_0x4c20b6;try{const _0x5943c6=localStorage[_0x49b8df(0x1a0)](KEY_SESSIONS);if(_0x5943c6)sessions=JSON[_0x49b8df(0x1c9)](_0x5943c6);const _0xf13143=localStorage['getItem'](KEY_CLIENTS);if(_0xf13143)clients=JSON[_0x49b8df(0x1c9)](_0xf13143);const _0x551539=localStorage[_0x49b8df(0x1a0)](KEY_SETTINGS);if(_0x551539){const _0x5443db=JSON[_0x49b8df(0x1c9)](_0x551539);if(_0x5443db[_0x49b8df(0x238)])availabilityPattern=_0x5443db['pattern'];if(_0x5443db[_0x49b8df(0x1ed)])specialRanges=_0x5443db['ranges'];if(_0x5443db['exceptions'])dateExceptions=_0x5443db[_0x49b8df(0x168)];}}catch(_0x51568b){}},async 'syncLoad'(){const _0x1830db=a3_0x4c20b6,_0x4f5072=new Date(),_0x3f428b=_0x4f5072[_0x1830db(0x1c7)]()+'-'+String(_0x4f5072[_0x1830db(0x206)]()+0x1)[_0x1830db(0x1a1)](0x2,'0'),_0x56a5c0=new Date(_0x4f5072);_0x56a5c0[_0x1830db(0x1ff)](_0x4f5072['getMonth']()+0x1);const _0x262751=_0x56a5c0[_0x1830db(0x1c7)]()+'-'+String(_0x56a5c0[_0x1830db(0x206)]()+0x1)[_0x1830db(0x1a1)](0x2,'0'),_0x436698=Date[_0x1830db(0x190)]();try{const _0x38a030=window[_0x1830db(0x201)]?.[_0x1830db(0x163)],_0x45dd57=_0x38a030?.[_0x1830db(0x1af)]||'',[_0x65dfe4,_0x5c4397]=await Promise[_0x1830db(0x245)]([fetch(API_URL,{'method':_0x1830db(0x1bb),'body':JSON['stringify']({'action':_0x1830db(0x1e3),'init_data':_0x45dd57,'month_str':_0x3f428b})})[_0x1830db(0x18d)](_0x4480ae=>_0x4480ae[_0x1830db(0x178)]()),fetch(API_URL,{'method':_0x1830db(0x1bb),'body':JSON[_0x1830db(0x1fc)]({'action':'client_load','init_data':_0x45dd57,'month_str':_0x262751})})[_0x1830db(0x18d)](_0x266dd9=>_0x266dd9[_0x1830db(0x178)]())]);if(lastUserActionTime>_0x436698){console['log'](_0x1830db(0x1b4));return;}if(_0x65dfe4['ok'])this['applyData'](_0x65dfe4[_0x1830db(0x251)],_0x3f428b);if(_0x5c4397['ok'])this['applyData'](_0x5c4397[_0x1830db(0x251)],_0x262751);this[_0x1830db(0x21a)]();}catch(_0x47d6cf){}},'applyData'(_0x39b229,_0x23bff8){const _0x4d9d4a=a3_0x4c20b6;if(!_0x39b229)return;if(_0x39b229[_0x4d9d4a(0x172)]){if(_0x39b229['settings'][_0x4d9d4a(0x238)])availabilityPattern=_0x39b229[_0x4d9d4a(0x172)]['pattern'];if(_0x39b229[_0x4d9d4a(0x172)][_0x4d9d4a(0x1ed)])specialRanges=_0x39b229[_0x4d9d4a(0x172)][_0x4d9d4a(0x1ed)];if(_0x39b229[_0x4d9d4a(0x172)][_0x4d9d4a(0x168)])dateExceptions=_0x39b229[_0x4d9d4a(0x172)][_0x4d9d4a(0x168)];}if(_0x39b229[_0x4d9d4a(0x21d)]&&Array['isArray'](_0x39b229[_0x4d9d4a(0x21d)]))clients=_0x39b229[_0x4d9d4a(0x21d)];_0x39b229[_0x4d9d4a(0x1fa)]&&(coachProfiles={...coachProfiles,..._0x39b229[_0x4d9d4a(0x1fa)]}),_0x39b229['calendar']&&(sessions=sessions[_0x4d9d4a(0x20a)](_0x5b701c=>!_0x5b701c['dateStr'][_0x4d9d4a(0x17e)](_0x23bff8)),Object[_0x4d9d4a(0x235)](_0x39b229['calendar'])[_0x4d9d4a(0x212)](_0x571904=>{const _0x7a533c=_0x4d9d4a,_0x16bdda=_0x39b229[_0x7a533c(0x225)][_0x571904];_0x16bdda['forEach'](_0x12974e=>{const _0x5e0261=_0x7a533c;sessions[_0x5e0261(0x24e)]({'id':_0x12974e['i'],'clientId':_0x12974e['c'],'coachId':_0x12974e[_0x5e0261(0x23e)],'dateStr':_0x23bff8+'-'+_0x571904[_0x5e0261(0x1a1)](0x2,'0'),'start':_0x12974e['s'],'end':_0x12974e['e'],'note':_0x12974e['n']||'','status':_0x12974e['st']||_0x5e0261(0x1b6),'seriesId':_0x12974e[_0x5e0261(0x1e5)]});});})),reRenderBlocks();}};function init(){const _0x275e32=a3_0x4c20b6;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x275e32(0x205)]('matrixViewport')[_0x275e32(0x17f)](_0x275e32(0x1d9),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x275e32(0x1f8)]();}function renderTimeColumn(){const _0x5b40c3=a3_0x4c20b6,_0x920cb5=document[_0x5b40c3(0x205)](_0x5b40c3(0x24d)),_0x1b99cf=document[_0x5b40c3(0x205)](_0x5b40c3(0x19a));_0x920cb5[_0x5b40c3(0x16a)]='',_0x920cb5[_0x5b40c3(0x1cf)](_0x1b99cf);for(let _0x4a8877=0x0;_0x4a8877<0x18;_0x4a8877++){const _0x37349f=document[_0x5b40c3(0x180)](_0x5b40c3(0x192));_0x37349f[_0x5b40c3(0x1e1)]=_0x5b40c3(0x240);if(_0x4a8877>0x0)_0x37349f['innerHTML']=_0x5b40c3(0x200)+String(_0x4a8877)[_0x5b40c3(0x1a1)](0x2,'0')+':00</span>';_0x920cb5['appendChild'](_0x37349f);}}function renderDayRange(_0x15e927,_0xd56eb1){const _0x1cfe55=a3_0x4c20b6,_0xf2cdfc=document[_0x1cfe55(0x205)]('daysHeaderTrack'),_0x2fc955=document[_0x1cfe55(0x205)](_0x1cfe55(0x24a)),_0x103763=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x266b74=new Date();_0x266b74[_0x1cfe55(0x184)](0x0,0x0,0x0,0x0);const _0x4b01b4=getLocalDateStr(new Date());for(let _0x237fff=_0x15e927;_0x237fff<=_0xd56eb1;_0x237fff++){const _0x76fad8=new Date(_0x266b74);_0x76fad8[_0x1cfe55(0x219)](_0x76fad8[_0x1cfe55(0x1e9)]()+_0x237fff);const _0x105cc4=getLocalDateStr(_0x76fad8);let _0x2622cd=_0x76fad8[_0x1cfe55(0x18c)]()-0x1;if(_0x2622cd===-0x1)_0x2622cd=0x6;const _0x4b0b04=_0x105cc4===_0x4b01b4,_0x49638e=document[_0x1cfe55(0x180)]('div');_0x49638e['className']='day-col-header\x20'+(_0x4b0b04?'today':''),_0x49638e[_0x1cfe55(0x1f5)](_0x1cfe55(0x1d3),_0x105cc4),_0x49638e['innerHTML']=_0x1cfe55(0x1e7)+_0x103763[_0x2622cd]+_0x1cfe55(0x1ac)+_0x76fad8[_0x1cfe55(0x1e9)]()+_0x1cfe55(0x1c3),_0xf2cdfc[_0x1cfe55(0x1cf)](_0x49638e);const _0x478652=document[_0x1cfe55(0x180)](_0x1cfe55(0x192));_0x478652[_0x1cfe55(0x1e1)]=_0x1cfe55(0x249)+(_0x4b0b04?_0x1cfe55(0x227):''),_0x478652[_0x1cfe55(0x1f5)]('data-date',_0x105cc4),_0x478652[_0x1cfe55(0x1f5)](_0x1cfe55(0x1bc),_0x2622cd),_0x2fc955[_0x1cfe55(0x1cf)](_0x478652);}}function reRenderBlocks(){const _0xe8479f=a3_0x4c20b6;document[_0xe8479f(0x217)](_0xe8479f(0x253))[_0xe8479f(0x212)](_0x1829b9=>{const _0x4b110d=_0xe8479f;_0x1829b9[_0x4b110d(0x217)](_0x4b110d(0x1ad))['forEach'](_0x79c1ab=>_0x79c1ab[_0x4b110d(0x1d1)]());const _0x46283f=_0x1829b9[_0x4b110d(0x196)]('data-date'),_0x414ee6=parseInt(_0x1829b9['getAttribute'](_0x4b110d(0x1bc))),_0x594ef9=Math[_0x4b110d(0x1b7)](_0x1829b9[_0x4b110d(0x1d5)]);(availabilityPattern[_0x414ee6]||[])['forEach'](_0x198d7c=>{const _0x2bf253=_0x4b110d,_0x55a5f1=document['createElement'](_0x2bf253(0x192));_0x55a5f1[_0x2bf253(0x1e1)]='blocked-slot\x20stripe-bg',_0x55a5f1[_0x2bf253(0x241)][_0x2bf253(0x208)]=_0x198d7c*GRID_H+'px',_0x55a5f1[_0x2bf253(0x241)][_0x2bf253(0x24b)]='-'+_0x594ef9+_0x2bf253(0x1e8)+_0x198d7c*GRID_H+'px',_0x1829b9[_0x2bf253(0x1cf)](_0x55a5f1);});if(specialRanges[_0x4b110d(0x1d6)]>0x0){const _0x3d7db4=new Date(_0x46283f+_0x4b110d(0x1a4))[_0x4b110d(0x239)](),_0x4c1dbf=new Date(_0x46283f+_0x4b110d(0x19d))[_0x4b110d(0x239)]();specialRanges['forEach'](_0x5374a8=>{const _0x49ef25=_0x4b110d,_0x55c199=new Date(_0x5374a8[_0x49ef25(0x173)])[_0x49ef25(0x239)](),_0x55859d=new Date(_0x5374a8['end'])[_0x49ef25(0x239)](),_0x248d16=Math['max'](_0x3d7db4,_0x55c199),_0xbf9b5b=Math[_0x49ef25(0x171)](_0x4c1dbf,_0x55859d);if(_0x248d16<_0xbf9b5b){const _0x45727a=(_0x248d16-_0x3d7db4)/0x36ee80*GRID_H,_0x256de6=(_0xbf9b5b-_0x248d16)/0x36ee80*GRID_H,_0x2b5c82=document[_0x49ef25(0x180)]('div');_0x256de6>=23.5*GRID_H?(_0x2b5c82[_0x49ef25(0x1e1)]=_0x49ef25(0x1cd),_0x2b5c82[_0x49ef25(0x241)]['backgroundPosition']='-'+_0x594ef9+_0x49ef25(0x22b)):(_0x2b5c82[_0x49ef25(0x1e1)]=_0x49ef25(0x1de),_0x2b5c82[_0x49ef25(0x241)][_0x49ef25(0x208)]=_0x45727a+'px',_0x2b5c82[_0x49ef25(0x241)][_0x49ef25(0x19f)]=_0x256de6+'px',_0x2b5c82[_0x49ef25(0x241)][_0x49ef25(0x24b)]='-'+_0x594ef9+_0x49ef25(0x1e8)+_0x45727a+'px'),_0x1829b9[_0x49ef25(0x1cf)](_0x2b5c82);}});}renderEventsForColumn(_0x1829b9,_0x46283f);});}function renderEventsForColumn(_0x2d4e1d,_0x31bcbd){const _0x139f83=a3_0x4c20b6,_0xdbc0d9=sessions[_0x139f83(0x20a)](_0x242bac=>_0x242bac[_0x139f83(0x174)]===_0x31bcbd),_0xd9709=_0xdbc0d9[_0x139f83(0x1bf)](_0xea26c3=>{const _0x4a1f04=_0x139f83,[_0x47007a,_0x2d8f36]=_0xea26c3[_0x4a1f04(0x173)][_0x4a1f04(0x15e)](':')['map'](Number),[_0x1143f1,_0x5c735e]=_0xea26c3[_0x4a1f04(0x17b)]['split'](':')[_0x4a1f04(0x1bf)](Number);return{'data':_0xea26c3,'start':_0x47007a*0x3c+_0x2d8f36,'end':_0x1143f1*0x3c+_0x5c735e,'colIndex':0x0};});_0xd9709['sort']((_0x5b45f0,_0x1a9f41)=>_0x5b45f0[_0x139f83(0x173)]-_0x1a9f41['start']||_0x1a9f41[_0x139f83(0x17b)]-_0x1a9f41[_0x139f83(0x173)]-(_0x5b45f0['end']-_0x5b45f0[_0x139f83(0x173)]));const _0x54ee7c=[];_0xd9709[_0x139f83(0x212)](_0x68cafd=>{const _0x484e0a=_0x139f83;let _0x389056=![];for(let _0x11af24=0x0;_0x11af24<_0x54ee7c[_0x484e0a(0x1d6)];_0x11af24++){const _0x57b533=_0x54ee7c[_0x11af24];if(_0x68cafd[_0x484e0a(0x173)]>=_0x57b533[_0x57b533['length']-0x1]['end']){_0x57b533[_0x484e0a(0x24e)](_0x68cafd),_0x68cafd[_0x484e0a(0x19c)]=_0x11af24,_0x389056=!![];break;}}!_0x389056&&(_0x54ee7c[_0x484e0a(0x24e)]([_0x68cafd]),_0x68cafd[_0x484e0a(0x19c)]=_0x54ee7c['length']-0x1);}),_0xd9709['forEach'](_0x5c8d47=>{const _0xa46d6f=_0x139f83;let _0x472be3=0x0;_0xd9709[_0xa46d6f(0x212)](_0x16cea3=>{const _0x262023=_0xa46d6f;if(Math[_0x262023(0x1c2)](_0x5c8d47[_0x262023(0x173)],_0x16cea3[_0x262023(0x173)])<Math[_0x262023(0x171)](_0x5c8d47[_0x262023(0x17b)],_0x16cea3['end'])&&_0x16cea3[_0x262023(0x19c)]>_0x472be3)_0x472be3=_0x16cea3[_0x262023(0x19c)];});const _0x5024c0=_0x472be3+0x1,_0x31591e=0x64/_0x5024c0,_0x27170c=_0x5c8d47['colIndex']*_0x31591e,_0x2596f3=document[_0xa46d6f(0x180)](_0xa46d6f(0x192)),_0x349425=_0x5c8d47[_0xa46d6f(0x251)];let _0x7dfc5b='#0a84ff';if(clients&&clients[_0xa46d6f(0x1d6)]>0x0){const _0x19f572=clients[_0xa46d6f(0x16d)](_0x25fd6b=>String(_0x25fd6b['id'])===String(_0x349425[_0xa46d6f(0x194)]));if(_0x19f572&&_0x19f572[_0xa46d6f(0x1c5)])_0x7dfc5b=_0x19f572[_0xa46d6f(0x1c5)];}const _0x430d76=_0x349425[_0xa46d6f(0x1ee)]===_0xa46d6f(0x21b),_0x4a0ce2=_0x430d76?0x1:0.45;_0x2596f3[_0xa46d6f(0x1e1)]=_0xa46d6f(0x1ea)+(_0x430d76?'\x20status-completed':''),_0x2596f3['style'][_0xa46d6f(0x228)]=hexToRgba(_0x7dfc5b,_0x4a0ce2),_0x2596f3[_0xa46d6f(0x241)][_0xa46d6f(0x1be)]=_0x7dfc5b;const _0x19fabc=_0x5c8d47[_0xa46d6f(0x173)]/0x3c*GRID_H,_0x3c4839=(_0x5c8d47[_0xa46d6f(0x17b)]-_0x5c8d47[_0xa46d6f(0x173)])/0x3c*GRID_H;_0x2596f3[_0xa46d6f(0x241)][_0xa46d6f(0x208)]=_0x19fabc+'px',_0x2596f3[_0xa46d6f(0x241)]['height']=Math[_0xa46d6f(0x1c2)](_0x3c4839,0x14)+'px',_0x2596f3[_0xa46d6f(0x241)][_0xa46d6f(0x1c6)]=_0xa46d6f(0x198)+_0x31591e+_0xa46d6f(0x234),_0x2596f3[_0xa46d6f(0x241)][_0xa46d6f(0x250)]='calc('+_0x27170c+'%\x20+\x202px)',_0x2596f3['style'][_0xa46d6f(0x160)]=0xa+_0x5c8d47['colIndex'];if(_0x31591e<0x55)_0x2596f3[_0xa46d6f(0x1f3)][_0xa46d6f(0x19b)](_0xa46d6f(0x162));let _0x4a2b21='';if(_0x349425['seriesId'])_0x4a2b21+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x430d76)_0x4a2b21+=_0xa46d6f(0x195);_0x2596f3[_0xa46d6f(0x16a)]=_0xa46d6f(0x23c)+_0x349425['start']+_0xa46d6f(0x22c)+_0x349425[_0xa46d6f(0x17b)]+_0xa46d6f(0x23f)+_0x4a2b21+_0xa46d6f(0x1f9),_0x2596f3[_0xa46d6f(0x1fd)]=_0x5c31bf=>{const _0xcd8105=_0xa46d6f;_0x5c31bf[_0xcd8105(0x247)](),openDetails(_0x349425);},_0x2d4e1d[_0xa46d6f(0x1cf)](_0x2596f3);});}function openAnalytics(){const _0x549eb7=a3_0x4c20b6,_0x479b93=document[_0x549eb7(0x1a6)](_0x549eb7(0x186));setAnalyticsPeriod('week',_0x479b93),openSheet(_0x549eb7(0x215));}function setAnalyticsPeriod(_0x2d07a9,_0x366abc){const _0x9cb803=a3_0x4c20b6;currentAnPeriod=_0x2d07a9,document[_0x9cb803(0x217)](_0x9cb803(0x186))[_0x9cb803(0x212)](_0x22d874=>_0x22d874[_0x9cb803(0x1f3)][_0x9cb803(0x1d1)](_0x9cb803(0x199)));if(_0x366abc)_0x366abc[_0x9cb803(0x1f3)][_0x9cb803(0x19b)](_0x9cb803(0x199));const _0x374dab=document[_0x9cb803(0x205)](_0x9cb803(0x20c));_0x374dab['style'][_0x9cb803(0x1ce)]=_0x2d07a9===_0x9cb803(0x1ef)?_0x9cb803(0x1f2):'none';const _0x94742e=new Date();let _0x527b2e=new Date(),_0x3793c4=new Date();if(_0x2d07a9==='week')_0x527b2e=getStartOfWeek(_0x94742e),_0x3793c4=new Date(_0x527b2e),_0x3793c4[_0x9cb803(0x219)](_0x3793c4[_0x9cb803(0x1e9)]()+0x6);else{if(_0x2d07a9===_0x9cb803(0x254))_0x527b2e=new Date(_0x94742e[_0x9cb803(0x1c7)](),_0x94742e['getMonth'](),0x1),_0x3793c4=new Date(_0x94742e[_0x9cb803(0x1c7)](),_0x94742e[_0x9cb803(0x206)]()+0x1,0x0);else{!document['getElementById'](_0x9cb803(0x236))[_0x9cb803(0x170)]&&(document[_0x9cb803(0x205)](_0x9cb803(0x236))['value']=getLocalDateStr(_0x94742e),document['getElementById'](_0x9cb803(0x216))['value']=getLocalDateStr(_0x94742e));refreshAnalytics();return;}}document[_0x9cb803(0x205)](_0x9cb803(0x236))[_0x9cb803(0x170)]=getLocalDateStr(_0x527b2e),document[_0x9cb803(0x205)](_0x9cb803(0x216))[_0x9cb803(0x170)]=getLocalDateStr(_0x3793c4),refreshAnalytics();}function a3_0x1301(_0x30c72d,_0x167081){_0x30c72d=_0x30c72d-0x15c;const _0x221bc5=a3_0x3cf1();let _0x532f00=_0x221bc5[_0x30c72d];return _0x532f00;}function refreshAnalytics(){const _0x2208d4=a3_0x4c20b6,_0x2ea201=document[_0x2208d4(0x205)](_0x2208d4(0x236))['value'],_0xa1f54f=document['getElementById'](_0x2208d4(0x216))['value'];if(!_0x2ea201||!_0xa1f54f)return;const _0x4d78a4=sessions['filter'](_0x46207a=>_0x46207a[_0x2208d4(0x174)]>=_0x2ea201&&_0x46207a[_0x2208d4(0x174)]<=_0xa1f54f&&_0x46207a[_0x2208d4(0x1ee)]!==_0x2208d4(0x252)),_0x495302=_0x4d78a4[_0x2208d4(0x1d6)],_0x548732=_0x4d78a4[_0x2208d4(0x20a)](_0x445c03=>_0x445c03['status']===_0x2208d4(0x21b))[_0x2208d4(0x1d6)],_0x126cd6=_0x495302>0x0?Math[_0x2208d4(0x1b7)](_0x548732/_0x495302*0x64):0x0;document[_0x2208d4(0x205)](_0x2208d4(0x1d2))[_0x2208d4(0x1b0)]=_0x126cd6+'%',document[_0x2208d4(0x205)](_0x2208d4(0x1e6))[_0x2208d4(0x1b0)]=_0x548732+_0x2208d4(0x209)+_0x495302+_0x2208d4(0x22f);const _0x18ec3b=document[_0x2208d4(0x205)]('anDonutCircle'),_0x84ea73=0x2*Math['PI']*0x23,_0x113743=_0x84ea73-_0x126cd6/0x64*_0x84ea73;_0x18ec3b[_0x2208d4(0x241)][_0x2208d4(0x22e)]=_0x113743;const _0x24ae2e={};_0x4d78a4[_0x2208d4(0x212)](_0x19739a=>{const _0x3cf2c4=_0x2208d4,_0x2ccd36=_0x19739a['coachId']||_0x3cf2c4(0x255);if(!_0x24ae2e[_0x2ccd36]){const _0x3ae8cc='#'+_0x2ccd36[_0x3cf2c4(0x17a)]()[_0x3cf2c4(0x237)](0x0,0x6);_0x24ae2e[_0x2ccd36]={'total':0x0,'done':0x0,'color':_0x3ae8cc};}_0x24ae2e[_0x2ccd36]['total']++;if(_0x19739a[_0x3cf2c4(0x1ee)]==='completed')_0x24ae2e[_0x2ccd36][_0x3cf2c4(0x1b5)]++;});const _0x585aef=document[_0x2208d4(0x205)]('analyticsList');_0x585aef[_0x2208d4(0x16a)]='';const _0x558632=Object['entries'](_0x24ae2e)['sort']((_0x57bd45,_0x4c1668)=>_0x4c1668[0x1][_0x2208d4(0x17d)]-_0x57bd45[0x1][_0x2208d4(0x17d)]);if(_0x558632['length']===0x0){_0x585aef[_0x2208d4(0x16a)]=_0x2208d4(0x18b);return;}_0x558632[_0x2208d4(0x212)](([_0x5e56c7,_0x3e7e10])=>{const _0x55f462=_0x2208d4,_0x367d40=Math[_0x55f462(0x1b7)](_0x3e7e10[_0x55f462(0x1b5)]/_0x3e7e10[_0x55f462(0x17d)]*0x64),_0x54b1ef=document[_0x55f462(0x180)](_0x55f462(0x192));_0x54b1ef[_0x55f462(0x1e1)]=_0x55f462(0x1b3),_0x54b1ef[_0x55f462(0x241)][_0x55f462(0x1be)]=_0x3e7e10[_0x55f462(0x1c5)],_0x54b1ef[_0x55f462(0x16a)]=_0x55f462(0x223)+_0x5e56c7['substr'](0x0,0x5)+_0x55f462(0x1da)+_0x3e7e10[_0x55f462(0x1b5)]+_0x55f462(0x165)+_0x3e7e10['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x367d40+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x585aef[_0x55f462(0x1cf)](_0x54b1ef);});}function openDetails(_0x4ceee9){const _0x4531e4=a3_0x4c20b6;currentSession=_0x4ceee9;const _0x4b690a=new Date(_0x4ceee9[_0x4531e4(0x174)]),_0x64f7ea=_0x4b690a['toLocaleDateString'](_0x4531e4(0x16f),{'weekday':_0x4531e4(0x15f),'day':'numeric','month':_0x4531e4(0x15f)});document['getElementById'](_0x4531e4(0x188))[_0x4531e4(0x1b0)]=_0x64f7ea[_0x4531e4(0x161)](0x0)[_0x4531e4(0x203)]()+_0x64f7ea[_0x4531e4(0x24f)](0x1),document[_0x4531e4(0x205)](_0x4531e4(0x22a))['textContent']=_0x4ceee9['start']+'\x20-\x20'+_0x4ceee9['end'],document[_0x4531e4(0x205)](_0x4531e4(0x1ae))[_0x4531e4(0x1b0)]=_0x4ceee9[_0x4531e4(0x218)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x4b50ec=document['getElementById'](_0x4531e4(0x20b)),_0x3922bf=document[_0x4531e4(0x205)](_0x4531e4(0x18e)),_0x3027a5=_0x3922bf['querySelector'](_0x4531e4(0x1b8)),_0x19b016=_0x3922bf[_0x4531e4(0x1a6)](_0x4531e4(0x20e)),_0x5c52c4=document['getElementById'](_0x4531e4(0x23a));if(_0x4ceee9['status']===_0x4531e4(0x21b))_0x4b50ec['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x4b50ec[_0x4531e4(0x241)][_0x4531e4(0x1c5)]=_0x4531e4(0x1db),_0x3922bf['style'][_0x4531e4(0x1ce)]=_0x4531e4(0x23b);else{_0x4b50ec[_0x4531e4(0x1b0)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x4b50ec['style'][_0x4531e4(0x1c5)]=_0x4531e4(0x1d4),_0x3922bf[_0x4531e4(0x241)][_0x4531e4(0x1ce)]=_0x4531e4(0x1f6);const _0x41eb80=new Date(_0x4ceee9[_0x4531e4(0x174)]+'T'+_0x4ceee9[_0x4531e4(0x173)]),_0x150eab=new Date(),_0x121410=(_0x41eb80-_0x150eab)/(0x3e8*0x3c*0x3c),_0x227227=coachProfiles[_0x4ceee9[_0x4531e4(0x1f7)]]&&coachProfiles[_0x4ceee9[_0x4531e4(0x1f7)]]['cancel_window']?parseInt(coachProfiles[_0x4ceee9['coachId']]['cancel_window']):0x18;if(_0x227227===0x0||_0x121410>=_0x227227)_0x3027a5[_0x4531e4(0x241)][_0x4531e4(0x1ce)]='block',_0x19b016[_0x4531e4(0x241)]['display']=_0x4531e4(0x1f6),_0x5c52c4[_0x4531e4(0x241)]['display']=_0x4531e4(0x23b);else{_0x3027a5[_0x4531e4(0x241)][_0x4531e4(0x1ce)]=_0x4531e4(0x23b),_0x19b016[_0x4531e4(0x241)][_0x4531e4(0x1ce)]=_0x4531e4(0x23b),_0x5c52c4[_0x4531e4(0x241)][_0x4531e4(0x1ce)]=_0x4531e4(0x1f6);let _0xa8b606=_0x227227===0x0?_0x4531e4(0x1f4):'–∑–∞\x20'+_0x227227+_0x4531e4(0x1a7);_0x5c52c4['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0xa8b606+_0x4531e4(0x211);}}document[_0x4531e4(0x205)]('overlay')[_0x4531e4(0x1f3)][_0x4531e4(0x19b)]('active'),document[_0x4531e4(0x205)](_0x4531e4(0x1cc))[_0x4531e4(0x1f3)][_0x4531e4(0x19b)](_0x4531e4(0x22d));}function closeAllSheets(){const _0x215af3=a3_0x4c20b6;document['getElementById'](_0x215af3(0x230))['classList']['remove'](_0x215af3(0x199)),document[_0x215af3(0x217)]('.sheet')[_0x215af3(0x212)](_0xb8a004=>_0xb8a004[_0x215af3(0x1f3)][_0x215af3(0x1d1)](_0x215af3(0x22d)));}function openSheet(_0x292cbd){const _0x5360c2=a3_0x4c20b6;document['getElementById'](_0x5360c2(0x230))[_0x5360c2(0x1f3)]['add']('active'),document['getElementById'](_0x292cbd)['classList'][_0x5360c2(0x19b)](_0x5360c2(0x22d));}function getLocalDateStr(_0x4e4c30){const _0x526a82=a3_0x4c20b6,_0xd203c6=_0x4e4c30['getFullYear'](),_0x3f932f=String(_0x4e4c30[_0x526a82(0x206)]()+0x1)[_0x526a82(0x1a1)](0x2,'0'),_0x1f162e=String(_0x4e4c30[_0x526a82(0x1e9)]())['padStart'](0x2,'0');return _0xd203c6+'-'+_0x3f932f+'-'+_0x1f162e;}function getStartOfWeek(_0x27c55e){const _0x16c68c=a3_0x4c20b6,_0x4d012f=new Date(_0x27c55e),_0x13cea4=_0x4d012f[_0x16c68c(0x18c)](),_0x57c3a4=_0x4d012f[_0x16c68c(0x1e9)]()-_0x13cea4+(_0x13cea4===0x0?-0x6:0x1);return _0x4d012f[_0x16c68c(0x219)](_0x57c3a4),_0x4d012f[_0x16c68c(0x184)](0x0,0x0,0x0,0x0),_0x4d012f;}function scrollToToday(){const _0x590b25=getLocalDateStr(new Date());setTimeout(()=>{const _0x4cd2ff=a3_0x1301,_0x42be5e=document[_0x4cd2ff(0x1a6)](_0x4cd2ff(0x248)+_0x590b25+'\x22]');if(_0x42be5e){const _0x67240d=document[_0x4cd2ff(0x205)]('matrixViewport'),_0x5082b6=_0x42be5e['offsetLeft']-_0x67240d[_0x4cd2ff(0x175)]/0x2+_0x42be5e[_0x4cd2ff(0x232)]/0x2;_0x67240d['scrollTo']({'left':_0x5082b6,'behavior':'auto'}),_0x67240d[_0x4cd2ff(0x242)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2d21c9=a3_0x4c20b6,_0x2b0493=new Date(),_0x1ea982=document[_0x2d21c9(0x205)]('globalTimeLine'),_0x1b081b=document[_0x2d21c9(0x205)](_0x2d21c9(0x19a)),_0x5641ac=(_0x2b0493[_0x2d21c9(0x244)]()*0x3c+_0x2b0493['getMinutes']())/0x3c*GRID_H;_0x1ea982[_0x2d21c9(0x241)][_0x2d21c9(0x208)]=_0x5641ac+'px',_0x1ea982[_0x2d21c9(0x241)][_0x2d21c9(0x1ce)]=_0x2d21c9(0x1f6),_0x1b081b[_0x2d21c9(0x241)][_0x2d21c9(0x208)]=_0x5641ac+'px',_0x1b081b['style']['display']=_0x2d21c9(0x1f6),_0x1b081b['textContent']=String(_0x2b0493[_0x2d21c9(0x244)]())[_0x2d21c9(0x1a1)](0x2,'0')+':'+String(_0x2b0493[_0x2d21c9(0x1fb)]())[_0x2d21c9(0x1a1)](0x2,'0');}function onScroll(){const _0x53b4fa=a3_0x4c20b6,_0x43cbba=document['getElementById'](_0x53b4fa(0x233)),_0x3fb2f8=document[_0x53b4fa(0x217)]('.day-col-header');for(let _0x41ba01 of _0x3fb2f8)if(_0x41ba01['offsetLeft']>=_0x43cbba[_0x53b4fa(0x164)]){const _0x2002fa=new Date(_0x41ba01[_0x53b4fa(0x196)](_0x53b4fa(0x1d3)));document[_0x53b4fa(0x205)](_0x53b4fa(0x16b))[_0x53b4fa(0x1b0)]=_0x2002fa[_0x53b4fa(0x1df)]('ru',{'month':_0x53b4fa(0x15f)})[_0x53b4fa(0x203)]()+'\x20'+_0x2002fa[_0x53b4fa(0x1c7)]();break;}}function showToast(_0x2fd7a8){const _0x58df7f=a3_0x4c20b6,_0x1d8389=document['getElementById'](_0x58df7f(0x1e2));_0x1d8389[_0x58df7f(0x1b0)]=_0x2fd7a8,_0x1d8389[_0x58df7f(0x1f3)]['add'](_0x58df7f(0x1dd)),setTimeout(()=>_0x1d8389['classList'][_0x58df7f(0x1d1)](_0x58df7f(0x1dd)),0x7d0);}function handleInfiniteScroll(){const _0x216122=a3_0x4c20b6,_0x3c7f41=document[_0x216122(0x205)]('matrixViewport'),_0x189523=_0x3c7f41[_0x216122(0x164)],_0x1bac48=_0x3c7f41[_0x216122(0x197)],_0x12791e=_0x3c7f41[_0x216122(0x175)];if(_0x1bac48-(_0x189523+_0x12791e)<0x12c){const _0x5f4365=endOffset;endOffset+=0xe,renderDayRange(_0x5f4365+0x1,endOffset),reRenderBlocks();}if(_0x189523<0x12c){const _0x4f9280=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4f9280-0x1),_0x3c7f41['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x171d6d,_0x590c8a){const _0x286647=a3_0x4c20b6,_0x1a2905=document[_0x286647(0x205)]('daysHeaderTrack'),_0xf031fc=document['getElementById'](_0x286647(0x24a)),_0x263a4c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4cc960=new Date();_0x4cc960[_0x286647(0x184)](0x0,0x0,0x0,0x0);const _0x362332=getLocalDateStr(new Date()),_0x5d3c15=document['createDocumentFragment'](),_0x29cc0a=document[_0x286647(0x20d)]();for(let _0x363882=_0x171d6d;_0x363882<=_0x590c8a;_0x363882++){const _0x403a33=new Date(_0x4cc960);_0x403a33[_0x286647(0x219)](_0x403a33[_0x286647(0x1e9)]()+_0x363882);const _0x22cba9=getLocalDateStr(_0x403a33);let _0xe2829f=_0x403a33['getDay']()-0x1;if(_0xe2829f===-0x1)_0xe2829f=0x6;const _0x2943f5=_0x22cba9===_0x362332,_0x555dcf=document[_0x286647(0x180)](_0x286647(0x192));_0x555dcf[_0x286647(0x1e1)]=_0x286647(0x1d8)+(_0x2943f5?_0x286647(0x227):''),_0x555dcf[_0x286647(0x1f5)](_0x286647(0x1d3),_0x22cba9),_0x555dcf[_0x286647(0x16a)]='<div\x20class=\x22dch-day\x22>'+_0x263a4c[_0xe2829f]+_0x286647(0x1ac)+_0x403a33[_0x286647(0x1e9)]()+_0x286647(0x1c3),_0x5d3c15[_0x286647(0x1cf)](_0x555dcf);const _0x1b470a=document[_0x286647(0x180)](_0x286647(0x192));_0x1b470a[_0x286647(0x1e1)]=_0x286647(0x249)+(_0x2943f5?'today':''),_0x1b470a[_0x286647(0x1f5)](_0x286647(0x1d3),_0x22cba9),_0x1b470a[_0x286647(0x1f5)](_0x286647(0x1bc),_0xe2829f),_0x29cc0a[_0x286647(0x1cf)](_0x1b470a);}_0x1a2905[_0x286647(0x1b2)](_0x5d3c15,_0x1a2905['firstChild']),_0xf031fc[_0x286647(0x1b2)](_0x29cc0a,_0xf031fc['querySelector']('.day-column'));}function hexToRgba(_0x138c99,_0x16268b){const _0x1fc32e=a3_0x4c20b6;let _0x1f88b1;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x138c99))return _0x1f88b1=_0x138c99[_0x1fc32e(0x246)](0x1)['split'](''),_0x1f88b1[_0x1fc32e(0x1d6)]==0x3&&(_0x1f88b1=[_0x1f88b1[0x0],_0x1f88b1[0x0],_0x1f88b1[0x1],_0x1f88b1[0x1],_0x1f88b1[0x2],_0x1f88b1[0x2]]),_0x1f88b1='0x'+_0x1f88b1[_0x1fc32e(0x207)](''),_0x1fc32e(0x214)+[_0x1f88b1>>0x10&0xff,_0x1f88b1>>0x8&0xff,_0x1f88b1&0xff][_0x1fc32e(0x207)](',')+','+_0x16268b+')';return _0x1fc32e(0x220)+_0x16268b+')';}function a3_0x3cf1(){const _0x374ed=['calc(','active','timeLineBadge','add','colIndex','T23:59:59','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','height','getItem','padStart','#0a84ff','rs-date-chip','T00:00:00','BackButton','querySelector','\x20—á.','600','#050505','</div><div\x20class=\x22rs-day-num\x22>','.rs-date-chip','</div><div\x20class=\x22dch-num\x22>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detNote','initData','textContent','disableVerticalSwipes','insertBefore','client-stat-card','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','done','planned','round','.btn-cancel','setItem','button','POST','data-day-idx','rsSlotsGrid','borderLeftColor','map','apply','ccTitle','max','</div>','rsDatesTrack','color','width','getFullYear','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','parse','numeric','9177EUQcLL','detailsSheet','day-off-overlay\x20stripe-bg','display','appendChild','findIndex','remove','anPercent','data-date','var(--acc-blue)','offsetLeft','length','week','day-col-header\x20','scroll','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','var(--acc-green)','363510UBWpFd','show','blocked-range-part\x20stripe-bg','toLocaleString','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','className','toast','client_load','customConfirm','sid','anTotalStats','<div\x20class=\x22dch-day\x22>','px\x20-','getDate','event-card','uc_client_sessions','ccYesBtn','ranges','status','custom','5605884CYyOHj','uc_client_settings','flex','classList','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','setAttribute','block','coachId','syncLoad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coach_profiles','getMinutes','stringify','onclick','visible','setMonth','<span>','Telegram','setBackgroundColor','toUpperCase','location','getElementById','getMonth','join','top','\x20–∏–∑\x20','filter','detStatus','anCustomDates','createDocumentFragment','.btn-reschedule','6004216Xlewyu','1735293uOBTNw','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','forEach','fontWeight','rgba(','analyticsSheet','anEnd','querySelectorAll','note','setDate','saveLocally','completed','rs-time-btn','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','Error\x20setting\x20back\x20button:','rgba(10,\x20132,\x20255,\x20','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','calendar','(((.+)+)+)+$','today','backgroundColor','rescheduleSheet','detTime','px\x200px','\x20-\x20','open','strokeDashoffset','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','overlay','254374fxxBTD','offsetWidth','matrixViewport','%\x20-\x204px)','keys','anStart','substr','pattern','getTime','cancelHint','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','18qtvfMR','cid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','time-label','style','scrollTop','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','getHours','all','substring','stopPropagation','.day-col-header[data-date=\x22','day-column\x20','gridColumns','backgroundPosition','user','timeColumn','push','slice','left','data','cancelled','.day-column','month','Unknown','Critical\x20TMA\x20Error:','Error\x20setting\x20color:','split','long','zIndex','charAt','mini','WebApp','scrollLeft','</span>\x20/\x20','#ff453a','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','exceptions','search','innerHTML','headerMonth','–û—Ç–º–µ–Ω–µ–Ω–æ','find','8RZFYjp','ru-RU','value','min','settings','start','dateStr','clientWidth','error','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','json','v9.5-CLIENT-ANALYTICS','toString','end','get_slots','total','startsWith','addEventListener','createElement','expand','2356040JJnmYk','router.html','setHours','uc_client_list','.period-switch\x20.p-btn','log','detDate','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','getDay','then','cancelContainer','ccText','now','initDataUnsafe','div','href','clientId','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getAttribute','scrollWidth'];a3_0x3cf1=function(){return _0x374ed;};return a3_0x3cf1();}let confirmResolver=null;function showCustomConfirm(_0x389274,_0x48ed13,_0x1bf8fd=!![]){const _0xec9bfe=a3_0x4c20b6;document[_0xec9bfe(0x205)](_0xec9bfe(0x1c1))[_0xec9bfe(0x1b0)]=_0x389274,document[_0xec9bfe(0x205)](_0xec9bfe(0x18f))[_0xec9bfe(0x1b0)]=_0x48ed13;const _0x598117=document[_0xec9bfe(0x205)](_0xec9bfe(0x1ec));return _0x1bf8fd?(_0x598117[_0xec9bfe(0x241)]['color']=_0xec9bfe(0x166),_0x598117['style'][_0xec9bfe(0x213)]=_0xec9bfe(0x1a8)):(_0x598117[_0xec9bfe(0x241)][_0xec9bfe(0x1c5)]=_0xec9bfe(0x1a2),_0x598117[_0xec9bfe(0x241)][_0xec9bfe(0x213)]=_0xec9bfe(0x1a8)),new Promise(_0x3d2427=>{const _0xfeaa1=_0xec9bfe;confirmResolver=_0x3d2427,document['getElementById'](_0xfeaa1(0x1e4))[_0xfeaa1(0x1f3)][_0xfeaa1(0x19b)](_0xfeaa1(0x1fe));});}function resolveCustomConfirm(_0x5ddbb7){const _0x2eb150=a3_0x4c20b6;document[_0x2eb150(0x205)](_0x2eb150(0x1e4))['classList'][_0x2eb150(0x1d1)](_0x2eb150(0x1fe));if(confirmResolver)confirmResolver(_0x5ddbb7);}async function tryCancelCurrentSession(){const _0x290590=a3_0x4c20b6;if(!currentSession)return;const _0x162d56=await showCustomConfirm(_0x290590(0x177),_0x290590(0x18a),!![]);if(!_0x162d56)return;const _0x54c865=currentSession;closeAllSheets(),sessions=sessions[_0x290590(0x20a)](_0x2cf783=>_0x2cf783['id']!==_0x54c865['id']),reRenderBlocks(),showToast(_0x290590(0x16c)),lastUserActionTime=Date[_0x290590(0x190)]();try{const _0x4a97f1=window['Telegram']?.[_0x290590(0x163)],_0x114f83=await fetch(API_URL,{'method':_0x290590(0x1bb),'body':JSON[_0x290590(0x1fc)]({'action':'client_cancel','init_data':_0x4a97f1?.[_0x290590(0x1af)]||'','coachId':_0x54c865[_0x290590(0x1f7)],'dateStr':_0x54c865[_0x290590(0x174)],'sessionId':_0x54c865['id']})});if(_0x114f83['ok'])DataManager[_0x290590(0x21a)]();}catch(_0x3d409b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xd43b9a=a3_0x4c20b6;if(!currentSession)return;document[_0xd43b9a(0x205)]('detailsSheet')['classList'][_0xd43b9a(0x1d1)](_0xd43b9a(0x22d)),document[_0xd43b9a(0x205)](_0xd43b9a(0x229))[_0xd43b9a(0x1f3)]['add']('open');const _0x2fc059=document[_0xd43b9a(0x205)]('rsDatesTrack'),_0x472016=document[_0xd43b9a(0x205)]('rsSlotsGrid');_0x2fc059['innerHTML']='',_0x472016[_0xd43b9a(0x16a)]=_0xd43b9a(0x1c8);const [_0x230964,_0x5f5558]=currentSession[_0xd43b9a(0x173)][_0xd43b9a(0x15e)](':')[_0xd43b9a(0x1bf)](Number),[_0x4a56bd,_0x484093]=currentSession['end'][_0xd43b9a(0x15e)](':')[_0xd43b9a(0x1bf)](Number),_0x2f0683=_0x4a56bd*0x3c+_0x484093-(_0x230964*0x3c+_0x5f5558);try{const _0x1d0c5d=window[_0xd43b9a(0x201)]?.[_0xd43b9a(0x163)],_0x40bed0=await fetch(API_URL,{'method':_0xd43b9a(0x1bb),'body':JSON[_0xd43b9a(0x1fc)]({'action':_0xd43b9a(0x17c),'coachId':currentSession[_0xd43b9a(0x1f7)],'duration':_0x2f0683,'init_data':_0x1d0c5d?.[_0xd43b9a(0x1af)]||'','excludeSessionId':currentSession['id']})}),_0x101e10=await _0x40bed0[_0xd43b9a(0x178)]();_0x101e10['ok']&&_0x101e10[_0xd43b9a(0x251)]?(availableSlotsCache=_0x101e10['data'],renderRescheduleDates()):_0x472016['innerHTML']=_0xd43b9a(0x21e);}catch(_0x3a4444){_0x472016[_0xd43b9a(0x16a)]=_0xd43b9a(0x19e);}}function renderRescheduleDates(){const _0x17107c=a3_0x4c20b6,_0xd81ea=document['getElementById'](_0x17107c(0x1c4));_0xd81ea[_0x17107c(0x16a)]='';const _0x1717fd=Object[_0x17107c(0x235)](availableSlotsCache)['sort'](),_0x42c96e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1717fd[_0x17107c(0x1d6)]===0x0){document[_0x17107c(0x205)](_0x17107c(0x1bd))[_0x17107c(0x16a)]=_0x17107c(0x189);return;}_0x1717fd['forEach']((_0x2c2646,_0x20b3a6)=>{const _0x380fe5=_0x17107c,_0x526670=new Date(_0x2c2646),_0x4bd77b=_0x42c96e[_0x526670[_0x380fe5(0x18c)]()],_0xfc4c79=_0x526670[_0x380fe5(0x1e9)](),_0x56f457=document[_0x380fe5(0x180)](_0x380fe5(0x192));_0x56f457[_0x380fe5(0x1e1)]=_0x380fe5(0x1a3);if(_0x20b3a6===0x0)_0x56f457[_0x380fe5(0x1f3)][_0x380fe5(0x19b)](_0x380fe5(0x199));_0x56f457[_0x380fe5(0x16a)]='<div\x20class=\x22rs-day-name\x22>'+_0x4bd77b+_0x380fe5(0x1aa)+_0xfc4c79+_0x380fe5(0x1c3),_0x56f457[_0x380fe5(0x1fd)]=()=>selectRsDate(_0x2c2646,_0x56f457),_0xd81ea[_0x380fe5(0x1cf)](_0x56f457);}),selectRsDate(_0x1717fd[0x0],_0xd81ea['firstChild']);}function selectRsDate(_0x5272b2,_0x21eb8e){const _0xafb28b=a3_0x4c20b6;selectedRsDate=_0x5272b2,document[_0xafb28b(0x217)](_0xafb28b(0x1ab))[_0xafb28b(0x212)](_0xde5674=>_0xde5674[_0xafb28b(0x1f3)][_0xafb28b(0x1d1)](_0xafb28b(0x199)));if(_0x21eb8e)_0x21eb8e[_0xafb28b(0x1f3)]['add'](_0xafb28b(0x199));const _0x32bd86=document['getElementById']('rsSlotsGrid');_0x32bd86['innerHTML']='';const _0x2e9691=availableSlotsCache[_0x5272b2]||[];if(_0x2e9691[_0xafb28b(0x1d6)]===0x0){_0x32bd86['innerHTML']=_0xafb28b(0x21e);return;}_0x2e9691['forEach'](_0x46c282=>{const _0x2f6a7b=_0xafb28b,_0x44e785=document[_0x2f6a7b(0x180)](_0x2f6a7b(0x1ba));_0x44e785[_0x2f6a7b(0x1e1)]=_0x2f6a7b(0x21c),_0x44e785['textContent']=_0x46c282,_0x44e785[_0x2f6a7b(0x1fd)]=()=>confirmReschedule(_0x46c282),_0x32bd86[_0x2f6a7b(0x1cf)](_0x44e785);});}async function confirmReschedule(_0x5359fb){const _0x42e127=a3_0x4c20b6,_0x58f353=new Date(selectedRsDate),_0x371972=_0x58f353['toLocaleDateString']('ru-RU',{'day':_0x42e127(0x1ca),'month':'long'}),_0x59fcb2=await showCustomConfirm(_0x42e127(0x222),_0x42e127(0x243)+_0x371972+'\x20–≤\x20'+_0x5359fb+'?',![]);if(!_0x59fcb2)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date['now']();const _0x430788=currentSession[_0x42e127(0x174)],_0x434f9c=currentSession['id'],[_0x4c0bce,_0x197276]=currentSession['start'][_0x42e127(0x15e)](':')[_0x42e127(0x1bf)](Number),[_0x44af7a,_0x30dfe0]=currentSession[_0x42e127(0x17b)][_0x42e127(0x15e)](':')[_0x42e127(0x1bf)](Number),_0x55e1ad=_0x44af7a*0x3c+_0x30dfe0-(_0x4c0bce*0x3c+_0x197276),[_0x39599f,_0x439821]=_0x5359fb[_0x42e127(0x15e)](':')['map'](Number),_0x484975=_0x39599f*0x3c+_0x439821+_0x55e1ad,_0x20c704=Math['floor'](_0x484975/0x3c),_0x337b03=_0x484975%0x3c,_0x5a42d1=String(_0x20c704)[_0x42e127(0x1a1)](0x2,'0')+':'+String(_0x337b03)[_0x42e127(0x1a1)](0x2,'0'),_0x1dd2a7=sessions[_0x42e127(0x1d0)](_0x4c598f=>_0x4c598f['id']===_0x434f9c);_0x1dd2a7!==-0x1&&(sessions[_0x1dd2a7]['dateStr']=selectedRsDate,sessions[_0x1dd2a7]['start']=_0x5359fb,sessions[_0x1dd2a7][_0x42e127(0x17b)]=_0x5a42d1,reRenderBlocks());try{const _0x2f1940=window['Telegram']?.[_0x42e127(0x163)],_0x560404=await fetch(API_URL,{'method':_0x42e127(0x1bb),'body':JSON[_0x42e127(0x1fc)]({'action':'reschedule','init_data':_0x2f1940?.['initData']||'','oldSessionId':_0x434f9c,'oldDate':_0x430788,'newDate':selectedRsDate,'newTime':_0x5359fb,'coachId':currentSession[_0x42e127(0x1f7)]})}),_0x46c59c=await _0x560404['json']();!_0x46c59c['ok']?(showToast(_0x42e127(0x167)),DataManager[_0x42e127(0x1f8)]()):(showToast(_0x42e127(0x1e0)),DataManager[_0x42e127(0x21a)]());}catch(_0xcee966){showToast(_0x42e127(0x221));}}document[a3_0x4c20b6(0x17f)]('DOMContentLoaded',init);