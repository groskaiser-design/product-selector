const a3_0x39823d=a3_0x4b6c;(function(_0x3e330e,_0xab3bd8){const _0x350107=a3_0x4b6c,_0x42c526=_0x3e330e();while(!![]){try{const _0x4b4247=-parseInt(_0x350107(0x1a4))/0x1*(parseInt(_0x350107(0x146))/0x2)+parseInt(_0x350107(0x13e))/0x3+-parseInt(_0x350107(0x169))/0x4*(-parseInt(_0x350107(0x19f))/0x5)+-parseInt(_0x350107(0x192))/0x6*(parseInt(_0x350107(0x15d))/0x7)+-parseInt(_0x350107(0x10e))/0x8+parseInt(_0x350107(0x144))/0x9*(parseInt(_0x350107(0x1e1))/0xa)+-parseInt(_0x350107(0x193))/0xb;if(_0x4b4247===_0xab3bd8)break;else _0x42c526['push'](_0x42c526['shift']());}catch(_0x380c2b){_0x42c526['push'](_0x42c526['shift']());}}}(a3_0x11e6,0x49e66));const APP_VERSION=a3_0x39823d(0x166),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x39823d(0x1d9),KEY_SETTINGS=a3_0x39823d(0x122),KEY_CLIENTS=a3_0x39823d(0x1d6);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x39823d(0x10f),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x51cfe7=a3_0x39823d,_0x1e9897=(function(){let _0x12a00c=!![];return function(_0x106043,_0x272acd){const _0x1cedaf=_0x12a00c?function(){const _0x27e6ca=a3_0x4b6c;if(_0x272acd){const _0x2aba76=_0x272acd[_0x27e6ca(0x129)](_0x106043,arguments);return _0x272acd=null,_0x2aba76;}}:function(){};return _0x12a00c=![],_0x1cedaf;};}()),_0x2765a3=_0x1e9897(this,function(){const _0x1fd376=a3_0x4b6c;return _0x2765a3[_0x1fd376(0x1d1)]()[_0x1fd376(0x152)]('(((.+)+)+)+$')[_0x1fd376(0x1d1)]()[_0x1fd376(0x149)](_0x2765a3)[_0x1fd376(0x152)](_0x1fd376(0x11a));});_0x2765a3();try{const _0x59f4ef=window[_0x51cfe7(0x1c7)]?.[_0x51cfe7(0x142)];if(!_0x59f4ef)return;_0x59f4ef['ready'](),_0x59f4ef[_0x51cfe7(0x164)]();try{_0x59f4ef['setHeaderColor'](_0x51cfe7(0x1f6)),_0x59f4ef[_0x51cfe7(0x137)]&&_0x59f4ef[_0x51cfe7(0x137)](_0x51cfe7(0x1f6));}catch(_0x32d40b){console[_0x51cfe7(0x170)](_0x51cfe7(0x1ed),_0x32d40b);}try{_0x59f4ef['BackButton']&&(_0x59f4ef['BackButton']['show'](),_0x59f4ef[_0x51cfe7(0x1eb)][_0x51cfe7(0x124)](),_0x59f4ef['BackButton'][_0x51cfe7(0x1a0)](function(){const _0x4db3c0=_0x51cfe7;window['location'][_0x4db3c0(0x19e)]=_0x4db3c0(0x141);}));}catch(_0x4dc300){console['log']('Error\x20setting\x20back\x20button:',_0x4dc300);}try{if(_0x59f4ef[_0x51cfe7(0x12e)])_0x59f4ef['disableVerticalSwipes']();}catch(_0x9969f7){}}catch(_0x1788bf){console[_0x51cfe7(0x197)]('Critical\x20TMA\x20Error:',_0x1788bf);}}());function isAdmin(){const _0x3b1b61=a3_0x39823d;try{const _0x267730=Number(window[_0x3b1b61(0x1c7)]?.['WebApp']?.['initDataUnsafe']?.[_0x3b1b61(0x1be)]?.['id']);return _0x267730===0xbaf7174;}catch(_0x21c267){return![];}}const DataManager={'saveLocally'(){const _0x43e877=a3_0x39823d;try{localStorage[_0x43e877(0x159)](KEY_SESSIONS,JSON[_0x43e877(0x1ca)](sessions)),localStorage[_0x43e877(0x159)](KEY_CLIENTS,JSON[_0x43e877(0x1ca)](clients)),localStorage[_0x43e877(0x159)](KEY_SETTINGS,JSON[_0x43e877(0x1ca)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xf2d6d3){}},'loadLocal'(){const _0x33f71f=a3_0x39823d;try{const _0x3cbfda=localStorage['getItem'](KEY_SESSIONS);if(_0x3cbfda)sessions=JSON['parse'](_0x3cbfda);const _0x4016fa=localStorage[_0x33f71f(0x112)](KEY_CLIENTS);if(_0x4016fa)clients=JSON['parse'](_0x4016fa);const _0x470d57=localStorage[_0x33f71f(0x112)](KEY_SETTINGS);if(_0x470d57){const _0x3c0517=JSON[_0x33f71f(0x1b5)](_0x470d57);if(_0x3c0517['pattern'])availabilityPattern=_0x3c0517[_0x33f71f(0x121)];if(_0x3c0517[_0x33f71f(0x1e0)])specialRanges=_0x3c0517['ranges'];if(_0x3c0517[_0x33f71f(0x145)])dateExceptions=_0x3c0517[_0x33f71f(0x145)];}}catch(_0x3c745a){}},async 'syncLoad'(){const _0x223532=a3_0x39823d,_0x1e5ded=new Date(),_0x350747=_0x1e5ded['getFullYear']()+'-'+String(_0x1e5ded[_0x223532(0x178)]()+0x1)[_0x223532(0x1f5)](0x2,'0'),_0x48603a=new Date(_0x1e5ded);_0x48603a[_0x223532(0x148)](_0x1e5ded[_0x223532(0x178)]()+0x1);const _0x168420=_0x48603a[_0x223532(0x165)]()+'-'+String(_0x48603a[_0x223532(0x178)]()+0x1)[_0x223532(0x1f5)](0x2,'0'),_0x3f5f45=Date['now']();try{const _0x1d55f6=window[_0x223532(0x1c7)]?.[_0x223532(0x142)],_0x33f044=_0x1d55f6?.[_0x223532(0x176)]||'',[_0x1ed4bf,_0x164d46]=await Promise[_0x223532(0x1b3)]([fetch(API_URL,{'method':_0x223532(0x1ef),'body':JSON[_0x223532(0x1ca)]({'action':_0x223532(0x195),'init_data':_0x33f044,'month_str':_0x350747})})[_0x223532(0x143)](_0x394477=>_0x394477['json']()),fetch(API_URL,{'method':_0x223532(0x1ef),'body':JSON['stringify']({'action':_0x223532(0x195),'init_data':_0x33f044,'month_str':_0x168420})})['then'](_0x2134ac=>_0x2134ac[_0x223532(0x1df)]())]);if(lastUserActionTime>_0x3f5f45){console[_0x223532(0x170)](_0x223532(0x1a2));return;}if(_0x1ed4bf['ok'])this[_0x223532(0x16a)](_0x1ed4bf[_0x223532(0x177)],_0x350747);if(_0x164d46['ok'])this[_0x223532(0x16a)](_0x164d46[_0x223532(0x177)],_0x168420);this[_0x223532(0x10b)]();}catch(_0x449382){}},'applyData'(_0x1266b1,_0x297834){const _0x11b16e=a3_0x39823d;if(!_0x1266b1)return;if(_0x1266b1['settings']){if(_0x1266b1['settings'][_0x11b16e(0x121)])availabilityPattern=_0x1266b1[_0x11b16e(0x1f9)][_0x11b16e(0x121)];if(_0x1266b1[_0x11b16e(0x1f9)][_0x11b16e(0x1e0)])specialRanges=_0x1266b1[_0x11b16e(0x1f9)]['ranges'];if(_0x1266b1[_0x11b16e(0x1f9)][_0x11b16e(0x145)])dateExceptions=_0x1266b1['settings']['exceptions'];}if(_0x1266b1['clients']&&Array[_0x11b16e(0x1c8)](_0x1266b1[_0x11b16e(0x1a6)]))clients=_0x1266b1[_0x11b16e(0x1a6)];_0x1266b1[_0x11b16e(0x134)]&&(coachProfiles={...coachProfiles,..._0x1266b1['coach_profiles']}),_0x1266b1[_0x11b16e(0x106)]&&(sessions=sessions['filter'](_0x1b00b7=>!_0x1b00b7[_0x11b16e(0x11d)][_0x11b16e(0x17b)](_0x297834)),Object['keys'](_0x1266b1[_0x11b16e(0x106)])['forEach'](_0x1b5e51=>{const _0x181037=_0x11b16e,_0x5652f0=_0x1266b1[_0x181037(0x106)][_0x1b5e51];_0x5652f0[_0x181037(0x198)](_0x2354cd=>{const _0x218e43=_0x181037;sessions[_0x218e43(0x1e8)]({'id':_0x2354cd['i'],'clientId':_0x2354cd['c'],'coachId':_0x2354cd[_0x218e43(0x13c)],'dateStr':_0x297834+'-'+_0x1b5e51[_0x218e43(0x1f5)](0x2,'0'),'start':_0x2354cd['s'],'end':_0x2354cd['e'],'note':_0x2354cd['n']||'','status':_0x2354cd['st']||_0x218e43(0x1d4),'seriesId':_0x2354cd['sid']});});})),reRenderBlocks();}};function init(){const _0x466c7f=a3_0x39823d;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x466c7f(0x1f2)](_0x466c7f(0x104),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x466c7f(0x105)]();}function renderTimeColumn(){const _0x29bce9=a3_0x39823d,_0x40d9db=document['getElementById'](_0x29bce9(0x1e7)),_0x3d1139=document['getElementById'](_0x29bce9(0x1ec));_0x40d9db[_0x29bce9(0x19a)]='',_0x40d9db['appendChild'](_0x3d1139);for(let _0x15ad9a=0x0;_0x15ad9a<0x18;_0x15ad9a++){const _0x53d7ea=document[_0x29bce9(0x158)](_0x29bce9(0x147));_0x53d7ea['className']=_0x29bce9(0x1fa);if(_0x15ad9a>0x0)_0x53d7ea['innerHTML']='<span>'+String(_0x15ad9a)[_0x29bce9(0x1f5)](0x2,'0')+_0x29bce9(0x135);_0x40d9db[_0x29bce9(0x139)](_0x53d7ea);}}function renderDayRange(_0x1a137f,_0x417a60){const _0x459917=a3_0x39823d,_0x457d4b=document[_0x459917(0x168)](_0x459917(0x184)),_0x1a979b=document[_0x459917(0x168)](_0x459917(0x1ea)),_0x403bd9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3c2fc2=new Date();_0x3c2fc2['setHours'](0x0,0x0,0x0,0x0);const _0x1dfef2=getLocalDateStr(new Date());for(let _0x22931d=_0x1a137f;_0x22931d<=_0x417a60;_0x22931d++){const _0x2f6710=new Date(_0x3c2fc2);_0x2f6710[_0x459917(0x1d3)](_0x2f6710['getDate']()+_0x22931d);const _0x339a8d=getLocalDateStr(_0x2f6710);let _0x1f19a7=_0x2f6710[_0x459917(0x199)]()-0x1;if(_0x1f19a7===-0x1)_0x1f19a7=0x6;const _0x2d90e8=_0x339a8d===_0x1dfef2,_0x25d393=document[_0x459917(0x158)](_0x459917(0x147));_0x25d393[_0x459917(0x1ba)]='day-col-header\x20'+(_0x2d90e8?_0x459917(0x140):''),_0x25d393[_0x459917(0x160)](_0x459917(0x14f),_0x339a8d),_0x25d393['innerHTML']=_0x459917(0x161)+_0x403bd9[_0x1f19a7]+_0x459917(0x186)+_0x2f6710[_0x459917(0x16f)]()+_0x459917(0x1b4),_0x457d4b[_0x459917(0x139)](_0x25d393);const _0x5bd6b4=document['createElement']('div');_0x5bd6b4[_0x459917(0x1ba)]='day-column\x20'+(_0x2d90e8?_0x459917(0x140):''),_0x5bd6b4[_0x459917(0x160)]('data-date',_0x339a8d),_0x5bd6b4['setAttribute']('data-day-idx',_0x1f19a7),_0x1a979b['appendChild'](_0x5bd6b4);}}function reRenderBlocks(){const _0x3dad96=a3_0x39823d;document['querySelectorAll'](_0x3dad96(0x1c1))[_0x3dad96(0x198)](_0x473043=>{const _0x3740f8=_0x3dad96;_0x473043[_0x3740f8(0x18d)](_0x3740f8(0x172))['forEach'](_0x10c986=>_0x10c986[_0x3740f8(0x1a1)]());const _0x37ebf1=_0x473043['getAttribute'](_0x3740f8(0x14f)),_0x4f0cc6=parseInt(_0x473043['getAttribute'](_0x3740f8(0x128))),_0x27e323=Math[_0x3740f8(0x15c)](_0x473043['offsetLeft']);(availabilityPattern[_0x4f0cc6]||[])[_0x3740f8(0x198)](_0x575d66=>{const _0x3f3b8d=_0x3740f8,_0x516556=document[_0x3f3b8d(0x158)](_0x3f3b8d(0x147));_0x516556[_0x3f3b8d(0x1ba)]='blocked-slot\x20stripe-bg',_0x516556['style']['top']=_0x575d66*GRID_H+'px',_0x516556[_0x3f3b8d(0x17d)][_0x3f3b8d(0x103)]='-'+_0x27e323+'px\x20-'+_0x575d66*GRID_H+'px',_0x473043[_0x3f3b8d(0x139)](_0x516556);});if(specialRanges[_0x3740f8(0x180)]>0x0){const _0x35351b=new Date(_0x37ebf1+_0x3740f8(0x109))[_0x3740f8(0x163)](),_0xcc1e7d=new Date(_0x37ebf1+_0x3740f8(0x1f1))[_0x3740f8(0x163)]();specialRanges[_0x3740f8(0x198)](_0x223dc8=>{const _0x205713=_0x3740f8,_0x23b854=new Date(_0x223dc8['start'])['getTime'](),_0x338134=new Date(_0x223dc8[_0x205713(0x11e)])[_0x205713(0x163)](),_0x14f9f9=Math[_0x205713(0x18b)](_0x35351b,_0x23b854),_0x59e3ec=Math[_0x205713(0x1c6)](_0xcc1e7d,_0x338134);if(_0x14f9f9<_0x59e3ec){const _0x2d0475=(_0x14f9f9-_0x35351b)/0x36ee80*GRID_H,_0xbb1b7=(_0x59e3ec-_0x14f9f9)/0x36ee80*GRID_H,_0xd1593a=document[_0x205713(0x158)]('div');_0xbb1b7>=23.5*GRID_H?(_0xd1593a[_0x205713(0x1ba)]='day-off-overlay\x20stripe-bg',_0xd1593a['style'][_0x205713(0x103)]='-'+_0x27e323+_0x205713(0x113)):(_0xd1593a[_0x205713(0x1ba)]=_0x205713(0x136),_0xd1593a[_0x205713(0x17d)][_0x205713(0x19c)]=_0x2d0475+'px',_0xd1593a[_0x205713(0x17d)]['height']=_0xbb1b7+'px',_0xd1593a[_0x205713(0x17d)][_0x205713(0x103)]='-'+_0x27e323+_0x205713(0x12b)+_0x2d0475+'px'),_0x473043[_0x205713(0x139)](_0xd1593a);}});}renderEventsForColumn(_0x473043,_0x37ebf1);});}function renderEventsForColumn(_0x522572,_0x260736){const _0x1d7f2a=a3_0x39823d,_0x5a3e5f=sessions[_0x1d7f2a(0x16b)](_0x340071=>_0x340071[_0x1d7f2a(0x11d)]===_0x260736),_0x5c5d46=_0x5a3e5f[_0x1d7f2a(0x1cd)](_0x32eaa9=>{const _0x46f0a4=_0x1d7f2a,[_0x563db8,_0x30668a]=_0x32eaa9['start']['split'](':')['map'](Number),[_0x30d527,_0x3b81f2]=_0x32eaa9[_0x46f0a4(0x11e)][_0x46f0a4(0x14b)](':')[_0x46f0a4(0x1cd)](Number);return{'data':_0x32eaa9,'start':_0x563db8*0x3c+_0x30668a,'end':_0x30d527*0x3c+_0x3b81f2,'colIndex':0x0};});_0x5c5d46[_0x1d7f2a(0x1f3)]((_0x2b1498,_0x3e02ea)=>_0x2b1498['start']-_0x3e02ea[_0x1d7f2a(0x1c2)]||_0x3e02ea[_0x1d7f2a(0x11e)]-_0x3e02ea['start']-(_0x2b1498['end']-_0x2b1498[_0x1d7f2a(0x1c2)]));const _0x1d2d39=[];_0x5c5d46['forEach'](_0x4e0e29=>{const _0x2e5561=_0x1d7f2a;let _0x31e34a=![];for(let _0x1c0c94=0x0;_0x1c0c94<_0x1d2d39[_0x2e5561(0x180)];_0x1c0c94++){const _0xf699f=_0x1d2d39[_0x1c0c94];if(_0x4e0e29[_0x2e5561(0x1c2)]>=_0xf699f[_0xf699f[_0x2e5561(0x180)]-0x1]['end']){_0xf699f[_0x2e5561(0x1e8)](_0x4e0e29),_0x4e0e29[_0x2e5561(0x1d2)]=_0x1c0c94,_0x31e34a=!![];break;}}!_0x31e34a&&(_0x1d2d39['push']([_0x4e0e29]),_0x4e0e29['colIndex']=_0x1d2d39[_0x2e5561(0x180)]-0x1);}),_0x5c5d46[_0x1d7f2a(0x198)](_0x5907dc=>{const _0x14d338=_0x1d7f2a;let _0x3de45e=0x0;_0x5c5d46['forEach'](_0x35dc57=>{const _0x38d005=a3_0x4b6c;if(Math[_0x38d005(0x18b)](_0x5907dc[_0x38d005(0x1c2)],_0x35dc57[_0x38d005(0x1c2)])<Math['min'](_0x5907dc[_0x38d005(0x11e)],_0x35dc57[_0x38d005(0x11e)])&&_0x35dc57[_0x38d005(0x1d2)]>_0x3de45e)_0x3de45e=_0x35dc57['colIndex'];});const _0x3100b7=_0x3de45e+0x1,_0x47b7e4=0x64/_0x3100b7,_0xed3393=_0x5907dc[_0x14d338(0x1d2)]*_0x47b7e4,_0xc1f6ae=document['createElement'](_0x14d338(0x147)),_0x46512c=_0x5907dc['data'];let _0x7e75e2=_0x14d338(0x196);if(clients&&clients[_0x14d338(0x180)]>0x0){const _0x1fc9d6=clients['find'](_0x3dd87e=>String(_0x3dd87e['id'])===String(_0x46512c['clientId']));if(_0x1fc9d6&&_0x1fc9d6[_0x14d338(0x182)])_0x7e75e2=_0x1fc9d6['color'];}const _0x42dd45=_0x46512c[_0x14d338(0x1c9)]==='completed',_0x20fa18=_0x42dd45?0x1:0.45;_0xc1f6ae['className']=_0x14d338(0x191)+(_0x42dd45?'\x20status-completed':''),_0xc1f6ae[_0x14d338(0x17d)][_0x14d338(0x156)]=hexToRgba(_0x7e75e2,_0x20fa18),_0xc1f6ae['style'][_0x14d338(0x183)]=_0x7e75e2;const _0x42f305=_0x5907dc['start']/0x3c*GRID_H,_0x1a93a=(_0x5907dc[_0x14d338(0x11e)]-_0x5907dc[_0x14d338(0x1c2)])/0x3c*GRID_H;_0xc1f6ae[_0x14d338(0x17d)]['top']=_0x42f305+'px',_0xc1f6ae[_0x14d338(0x17d)][_0x14d338(0x12d)]=Math[_0x14d338(0x18b)](_0x1a93a,0x14)+'px',_0xc1f6ae[_0x14d338(0x17d)][_0x14d338(0x1dd)]=_0x14d338(0x15f)+_0x47b7e4+'%\x20-\x204px)',_0xc1f6ae[_0x14d338(0x17d)][_0x14d338(0x1f0)]=_0x14d338(0x15f)+_0xed3393+_0x14d338(0x101),_0xc1f6ae[_0x14d338(0x17d)][_0x14d338(0x1a7)]=0xa+_0x5907dc[_0x14d338(0x1d2)];if(_0x47b7e4<0x55)_0xc1f6ae[_0x14d338(0x12a)][_0x14d338(0x1a3)](_0x14d338(0x13a));let _0x503930='';if(_0x46512c['seriesId'])_0x503930+=_0x14d338(0x16d);if(_0x42dd45)_0x503930+=_0x14d338(0x18f);_0xc1f6ae[_0x14d338(0x19a)]=_0x14d338(0x11f)+_0x46512c[_0x14d338(0x1c2)]+'\x20-\x20'+_0x46512c['end']+_0x14d338(0x116)+_0x503930+_0x14d338(0x1d8),_0xc1f6ae[_0x14d338(0x17c)]=_0x549736=>{const _0x3a2e11=_0x14d338;_0x549736[_0x3a2e11(0x14d)](),openDetails(_0x46512c);},_0x522572[_0x14d338(0x139)](_0xc1f6ae);});}function openAnalytics(){const _0x4bffc4=a3_0x39823d,_0xe9308e=document['querySelector'](_0x4bffc4(0x1b9));setAnalyticsPeriod(_0x4bffc4(0x10f),_0xe9308e),openSheet(_0x4bffc4(0x18a));}function setAnalyticsPeriod(_0x35c9dc,_0x1217a5){const _0x289b35=a3_0x39823d;currentAnPeriod=_0x35c9dc,document[_0x289b35(0x18d)](_0x289b35(0x1b9))[_0x289b35(0x198)](_0x43eb6b=>_0x43eb6b['classList'][_0x289b35(0x1a1)](_0x289b35(0x118)));if(_0x1217a5)_0x1217a5[_0x289b35(0x12a)][_0x289b35(0x1a3)](_0x289b35(0x118));const _0x26618b=document[_0x289b35(0x168)]('anCustomDates');_0x26618b[_0x289b35(0x17d)][_0x289b35(0x1ab)]=_0x35c9dc==='custom'?_0x289b35(0x185):'none';const _0x8ad9c5=new Date();let _0x161012=new Date(),_0x5125a9=new Date();if(_0x35c9dc==='week')_0x161012=getStartOfWeek(_0x8ad9c5),_0x5125a9=new Date(_0x161012),_0x5125a9[_0x289b35(0x1d3)](_0x5125a9[_0x289b35(0x16f)]()+0x6);else{if(_0x35c9dc===_0x289b35(0x188))_0x161012=new Date(_0x8ad9c5[_0x289b35(0x165)](),_0x8ad9c5[_0x289b35(0x178)](),0x1),_0x5125a9=new Date(_0x8ad9c5['getFullYear'](),_0x8ad9c5[_0x289b35(0x178)]()+0x1,0x0);else{!document[_0x289b35(0x168)](_0x289b35(0x10c))[_0x289b35(0x1bf)]&&(document['getElementById'](_0x289b35(0x10c))[_0x289b35(0x1bf)]=getLocalDateStr(_0x8ad9c5),document[_0x289b35(0x168)](_0x289b35(0x131))[_0x289b35(0x1bf)]=getLocalDateStr(_0x8ad9c5));refreshAnalytics();return;}}document['getElementById'](_0x289b35(0x10c))[_0x289b35(0x1bf)]=getLocalDateStr(_0x161012),document['getElementById'](_0x289b35(0x131))[_0x289b35(0x1bf)]=getLocalDateStr(_0x5125a9),refreshAnalytics();}function refreshAnalytics(){const _0x1ff29d=a3_0x39823d,_0x59da80=document['getElementById']('anStart')[_0x1ff29d(0x1bf)],_0xb4ea3c=document[_0x1ff29d(0x168)](_0x1ff29d(0x131))[_0x1ff29d(0x1bf)];if(!_0x59da80||!_0xb4ea3c)return;const _0x33f63d=sessions[_0x1ff29d(0x16b)](_0xca970c=>_0xca970c[_0x1ff29d(0x11d)]>=_0x59da80&&_0xca970c['dateStr']<=_0xb4ea3c&&_0xca970c[_0x1ff29d(0x1c9)]!=='cancelled'),_0x32cf0f=_0x33f63d['length'],_0x258bdf=_0x33f63d[_0x1ff29d(0x16b)](_0x203457=>_0x203457[_0x1ff29d(0x1c9)]==='completed')[_0x1ff29d(0x180)],_0x3b78ef=_0x32cf0f>0x0?Math[_0x1ff29d(0x15c)](_0x258bdf/_0x32cf0f*0x64):0x0;document[_0x1ff29d(0x168)](_0x1ff29d(0x133))[_0x1ff29d(0x1a9)]=_0x3b78ef+'%',document[_0x1ff29d(0x168)](_0x1ff29d(0x120))[_0x1ff29d(0x1a9)]=_0x258bdf+_0x1ff29d(0x1ae)+_0x32cf0f+_0x1ff29d(0x154);const _0x2783aa=document[_0x1ff29d(0x168)](_0x1ff29d(0x1e9)),_0x5aab17=0x2*Math['PI']*0x23,_0x160f81=_0x5aab17-_0x3b78ef/0x64*_0x5aab17;_0x2783aa['style'][_0x1ff29d(0x167)]=_0x160f81;const _0x19d548={};_0x33f63d[_0x1ff29d(0x198)](_0x4d9d54=>{const _0x4f4cd4=_0x1ff29d,_0x3f4422=_0x4d9d54[_0x4f4cd4(0x1b8)]||_0x4f4cd4(0x1bd);if(!_0x19d548[_0x3f4422]){const _0x58bd1d='#'+_0x3f4422[_0x4f4cd4(0x1d1)]()[_0x4f4cd4(0x132)](0x0,0x6);_0x19d548[_0x3f4422]={'total':0x0,'done':0x0,'color':_0x58bd1d};}_0x19d548[_0x3f4422]['total']++;if(_0x4d9d54[_0x4f4cd4(0x1c9)]===_0x4f4cd4(0x157))_0x19d548[_0x3f4422][_0x4f4cd4(0x13d)]++;});const _0x15bc79=document[_0x1ff29d(0x168)](_0x1ff29d(0x114));_0x15bc79[_0x1ff29d(0x19a)]='';const _0x2afc0e=Object[_0x1ff29d(0x102)](_0x19d548)[_0x1ff29d(0x1f3)]((_0x27149e,_0x4da996)=>_0x4da996[0x1][_0x1ff29d(0x1b2)]-_0x27149e[0x1][_0x1ff29d(0x1b2)]);if(_0x2afc0e[_0x1ff29d(0x180)]===0x0){_0x15bc79[_0x1ff29d(0x19a)]=_0x1ff29d(0x15b);return;}_0x2afc0e[_0x1ff29d(0x198)](([_0x262487,_0x3d3509])=>{const _0x30b45b=_0x1ff29d,_0x43c59b=Math[_0x30b45b(0x15c)](_0x3d3509[_0x30b45b(0x13d)]/_0x3d3509[_0x30b45b(0x1b2)]*0x64),_0x3605f3=document['createElement'](_0x30b45b(0x147));_0x3605f3[_0x30b45b(0x1ba)]=_0x30b45b(0x1bb),_0x3605f3[_0x30b45b(0x17d)]['borderLeftColor']=_0x3d3509[_0x30b45b(0x182)],_0x3605f3[_0x30b45b(0x19a)]=_0x30b45b(0x115)+_0x262487[_0x30b45b(0x132)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3d3509[_0x30b45b(0x13d)]+_0x30b45b(0x194)+_0x3d3509[_0x30b45b(0x1b2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x43c59b+_0x30b45b(0x1c5),_0x15bc79[_0x30b45b(0x139)](_0x3605f3);});}function openDetails(_0x3261e2){const _0x44d2b4=a3_0x39823d;currentSession=_0x3261e2;const _0x47f57a=new Date(_0x3261e2[_0x44d2b4(0x11d)]),_0xdb66e0=_0x47f57a[_0x44d2b4(0x1c4)](_0x44d2b4(0x16c),{'weekday':_0x44d2b4(0x1ee),'day':_0x44d2b4(0x18e),'month':_0x44d2b4(0x1ee)});document[_0x44d2b4(0x168)](_0x44d2b4(0x1b7))[_0x44d2b4(0x1a9)]=_0xdb66e0[_0x44d2b4(0x1b6)](0x0)['toUpperCase']()+_0xdb66e0[_0x44d2b4(0x17a)](0x1),document[_0x44d2b4(0x168)](_0x44d2b4(0x130))[_0x44d2b4(0x1a9)]=_0x3261e2[_0x44d2b4(0x1c2)]+_0x44d2b4(0x1c0)+_0x3261e2[_0x44d2b4(0x11e)],document[_0x44d2b4(0x168)]('detNote')[_0x44d2b4(0x1a9)]=_0x3261e2[_0x44d2b4(0x1e5)]||_0x44d2b4(0x1e2);const _0x1ef442=document[_0x44d2b4(0x168)](_0x44d2b4(0x125)),_0x30a36a=document[_0x44d2b4(0x168)](_0x44d2b4(0x155)),_0x2c66e8=_0x30a36a[_0x44d2b4(0x12c)]('.btn-cancel'),_0x5102e0=_0x30a36a[_0x44d2b4(0x12c)](_0x44d2b4(0x1d0)),_0x3a9c2f=document[_0x44d2b4(0x168)]('cancelHint');if(_0x3261e2[_0x44d2b4(0x1c9)]==='completed')_0x1ef442[_0x44d2b4(0x1a9)]=_0x44d2b4(0x119),_0x1ef442[_0x44d2b4(0x17d)][_0x44d2b4(0x182)]=_0x44d2b4(0x1af),_0x30a36a[_0x44d2b4(0x17d)][_0x44d2b4(0x1ab)]='none';else{_0x1ef442[_0x44d2b4(0x1a9)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x1ef442[_0x44d2b4(0x17d)][_0x44d2b4(0x182)]=_0x44d2b4(0x181),_0x30a36a[_0x44d2b4(0x17d)][_0x44d2b4(0x1ab)]=_0x44d2b4(0x10a);const _0x19b092=new Date(_0x3261e2[_0x44d2b4(0x11d)]+'T'+_0x3261e2[_0x44d2b4(0x1c2)]),_0x567df2=new Date(),_0x920642=(_0x19b092-_0x567df2)/(0x3e8*0x3c*0x3c),_0x56014f=coachProfiles[_0x3261e2[_0x44d2b4(0x1b8)]]&&coachProfiles[_0x3261e2[_0x44d2b4(0x1b8)]][_0x44d2b4(0x1b1)]?parseInt(coachProfiles[_0x3261e2[_0x44d2b4(0x1b8)]][_0x44d2b4(0x1b1)]):0x18;if(_0x56014f===0x0||_0x920642>=_0x56014f)_0x2c66e8[_0x44d2b4(0x17d)]['display']=_0x44d2b4(0x10a),_0x5102e0[_0x44d2b4(0x17d)][_0x44d2b4(0x1ab)]=_0x44d2b4(0x10a),_0x3a9c2f[_0x44d2b4(0x17d)]['display']=_0x44d2b4(0x1f4);else{_0x2c66e8[_0x44d2b4(0x17d)]['display']=_0x44d2b4(0x1f4),_0x5102e0[_0x44d2b4(0x17d)][_0x44d2b4(0x1ab)]='none',_0x3a9c2f['style'][_0x44d2b4(0x1ab)]='block';let _0x8cf3e8=_0x56014f===0x0?_0x44d2b4(0x10d):'–∑–∞\x20'+_0x56014f+_0x44d2b4(0x173);_0x3a9c2f[_0x44d2b4(0x1a9)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x8cf3e8+_0x44d2b4(0x1e4);}}document[_0x44d2b4(0x168)]('overlay')[_0x44d2b4(0x12a)][_0x44d2b4(0x1a3)](_0x44d2b4(0x118)),document[_0x44d2b4(0x168)](_0x44d2b4(0x1ac))[_0x44d2b4(0x12a)][_0x44d2b4(0x1a3)](_0x44d2b4(0x1e3));}function closeAllSheets(){const _0x5d84b7=a3_0x39823d;document[_0x5d84b7(0x168)](_0x5d84b7(0x1de))[_0x5d84b7(0x12a)][_0x5d84b7(0x1a1)](_0x5d84b7(0x118)),document[_0x5d84b7(0x18d)](_0x5d84b7(0x19d))['forEach'](_0x2f1014=>_0x2f1014[_0x5d84b7(0x12a)][_0x5d84b7(0x1a1)]('open'));}function openSheet(_0x391007){const _0x4c81c2=a3_0x39823d;document[_0x4c81c2(0x168)]('overlay')[_0x4c81c2(0x12a)]['add']('active'),document[_0x4c81c2(0x168)](_0x391007)[_0x4c81c2(0x12a)]['add'](_0x4c81c2(0x1e3));}function getLocalDateStr(_0x9fddcf){const _0x577f6c=a3_0x39823d,_0x56ae39=_0x9fddcf[_0x577f6c(0x165)](),_0x2a888c=String(_0x9fddcf[_0x577f6c(0x178)]()+0x1)[_0x577f6c(0x1f5)](0x2,'0'),_0x59549d=String(_0x9fddcf['getDate']())['padStart'](0x2,'0');return _0x56ae39+'-'+_0x2a888c+'-'+_0x59549d;}function a3_0x11e6(){const _0x42c394=['createElement','setItem','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','round','75243yKswMW','rsSlotsGrid','calc(','setAttribute','<div\x20class=\x22dch-day\x22>','rgba(','getTime','expand','getFullYear','v9.5-CLIENT-ANALYTICS','strokeDashoffset','getElementById','4zaxmQa','applyData','filter','ru-RU','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getAttribute','getDate','log','getMinutes','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x20—á.','scrollTop','toast','initData','data','getMonth','get_slots','slice','startsWith','onclick','style','insertBefore','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','length','var(--acc-blue)','color','borderLeftColor','daysHeaderTrack','flex','</div><div\x20class=\x22dch-num\x22>','scrollWidth','month','auto','analyticsSheet','max','toLocaleString','querySelectorAll','numeric','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.day-col-header','event-card','6fVvrOU','4925382MQoZlL','</span>\x20/\x20','client_load','#0a84ff','error','forEach','getDay','innerHTML','customConfirm','top','.sheet','href','2290415ZgOHNJ','onClick','remove','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','add','2259EtRoIv','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','clients','zIndex','.rs-date-chip','textContent','visible','display','detailsSheet','scrollLeft','\x20–∏–∑\x20','var(--acc-green)','offsetWidth','cancel_window','total','all','</div>','parse','charAt','detDate','coachId','.period-switch\x20.p-btn','className','client-stat-card','firstChild','Unknown','user','value','\x20-\x20','.day-column','start','rs-date-chip','toLocaleDateString','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','Telegram','isArray','status','stringify','rgba(10,\x20132,\x20255,\x20','button','map','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','–û—Ç–º–µ–Ω–µ–Ω–æ','.btn-reschedule','toString','colIndex','setDate','planned','rescheduleSheet','uc_client_list','#ff453a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uc_client_sessions','substring','clientWidth','offsetLeft','width','overlay','json','ranges','40620MNObFu','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','open','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','note','findIndex','timeColumn','push','anDonutCircle','gridColumns','BackButton','timeLineBadge','Error\x20setting\x20color:','long','POST','left','T23:59:59','addEventListener','sort','none','padStart','#050505','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rsDatesTrack','settings','time-label','ccText','%\x20+\x202px)','entries','backgroundPosition','scroll','syncLoad','calendar','fontWeight','</div><div\x20class=\x22rs-day-num\x22>','T00:00:00','block','saveLocally','anStart','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','1220656EfuevA','week','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','floor','getItem','px\x200px','analyticsList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollTo','active','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','(((.+)+)+)+$','DOMContentLoaded','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','dateStr','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','anTotalStats','pattern','uc_client_settings','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','offClick','detStatus','createDocumentFragment','day-col-header\x20','data-day-idx','apply','classList','px\x20-','querySelector','height','disableVerticalSwipes','now','detTime','anEnd','substr','anPercent','coach_profiles',':00</span>','blocked-range-part\x20stripe-bg','setBackgroundColor','setHours','appendChild','mini','matrixViewport','cid','done','390927hRrZsM','.day-col-header[data-date=\x22','today','router.html','WebApp','then','756EDFmru','exceptions','14vRitQk','div','setMonth','constructor','600','split','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','stopPropagation','ccYesBtn','data-date','show','globalTimeLine','search','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','cancelContainer','backgroundColor','completed'];a3_0x11e6=function(){return _0x42c394;};return a3_0x11e6();}function getStartOfWeek(_0x27f505){const _0x5bf96b=a3_0x39823d,_0x541ea4=new Date(_0x27f505),_0x4e2084=_0x541ea4[_0x5bf96b(0x199)](),_0x6a864e=_0x541ea4[_0x5bf96b(0x16f)]()-_0x4e2084+(_0x4e2084===0x0?-0x6:0x1);return _0x541ea4[_0x5bf96b(0x1d3)](_0x6a864e),_0x541ea4[_0x5bf96b(0x138)](0x0,0x0,0x0,0x0),_0x541ea4;}function scrollToToday(){const _0x1fb90e=getLocalDateStr(new Date());setTimeout(()=>{const _0x528b5a=a3_0x4b6c,_0x1c5809=document[_0x528b5a(0x12c)](_0x528b5a(0x13f)+_0x1fb90e+'\x22]');if(_0x1c5809){const _0x332bbd=document[_0x528b5a(0x168)]('matrixViewport'),_0x3e1e81=_0x1c5809[_0x528b5a(0x1dc)]-_0x332bbd[_0x528b5a(0x1db)]/0x2+_0x1c5809[_0x528b5a(0x1b0)]/0x2;_0x332bbd[_0x528b5a(0x117)]({'left':_0x3e1e81,'behavior':_0x528b5a(0x189)}),_0x332bbd[_0x528b5a(0x174)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x13b405=a3_0x39823d,_0x4fa1f5=new Date(),_0xd0a2ec=document[_0x13b405(0x168)](_0x13b405(0x151)),_0x46637a=document['getElementById'](_0x13b405(0x1ec)),_0x3fcdd6=(_0x4fa1f5['getHours']()*0x3c+_0x4fa1f5[_0x13b405(0x171)]())/0x3c*GRID_H;_0xd0a2ec[_0x13b405(0x17d)][_0x13b405(0x19c)]=_0x3fcdd6+'px',_0xd0a2ec['style'][_0x13b405(0x1ab)]=_0x13b405(0x10a),_0x46637a[_0x13b405(0x17d)][_0x13b405(0x19c)]=_0x3fcdd6+'px',_0x46637a['style'][_0x13b405(0x1ab)]=_0x13b405(0x10a),_0x46637a[_0x13b405(0x1a9)]=String(_0x4fa1f5['getHours']())['padStart'](0x2,'0')+':'+String(_0x4fa1f5[_0x13b405(0x171)]())[_0x13b405(0x1f5)](0x2,'0');}function onScroll(){const _0x4fa3a9=a3_0x39823d,_0x146c39=document[_0x4fa3a9(0x168)](_0x4fa3a9(0x13b)),_0x3d785f=document[_0x4fa3a9(0x18d)](_0x4fa3a9(0x190));for(let _0x56187b of _0x3d785f)if(_0x56187b[_0x4fa3a9(0x1dc)]>=_0x146c39[_0x4fa3a9(0x1ad)]){const _0x307746=new Date(_0x56187b[_0x4fa3a9(0x16e)](_0x4fa3a9(0x14f)));document[_0x4fa3a9(0x168)]('headerMonth')['textContent']=_0x307746[_0x4fa3a9(0x18c)]('ru',{'month':_0x4fa3a9(0x1ee)})['toUpperCase']()+'\x20'+_0x307746[_0x4fa3a9(0x165)]();break;}}function showToast(_0x54e5a0){const _0x335e89=a3_0x39823d,_0x21d8bc=document['getElementById'](_0x335e89(0x175));_0x21d8bc[_0x335e89(0x1a9)]=_0x54e5a0,_0x21d8bc[_0x335e89(0x12a)]['add'](_0x335e89(0x150)),setTimeout(()=>_0x21d8bc[_0x335e89(0x12a)]['remove'](_0x335e89(0x150)),0x7d0);}function handleInfiniteScroll(){const _0x4acf43=a3_0x39823d,_0x2002fb=document[_0x4acf43(0x168)]('matrixViewport'),_0x525313=_0x2002fb[_0x4acf43(0x1ad)],_0x41973e=_0x2002fb[_0x4acf43(0x187)],_0x4475bc=_0x2002fb[_0x4acf43(0x1db)];if(_0x41973e-(_0x525313+_0x4475bc)<0x12c){const _0x10e949=endOffset;endOffset+=0xe,renderDayRange(_0x10e949+0x1,endOffset),reRenderBlocks();}if(_0x525313<0x12c){const _0x200fc3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x200fc3-0x1),_0x2002fb[_0x4acf43(0x1ad)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2eda57,_0x5d9e64){const _0x5760e4=a3_0x39823d,_0x1029a9=document[_0x5760e4(0x168)](_0x5760e4(0x184)),_0x341088=document['getElementById'](_0x5760e4(0x1ea)),_0x3a2602=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x59f27e=new Date();_0x59f27e[_0x5760e4(0x138)](0x0,0x0,0x0,0x0);const _0x5045c3=getLocalDateStr(new Date()),_0x17e500=document['createDocumentFragment'](),_0x350d62=document[_0x5760e4(0x126)]();for(let _0x425207=_0x2eda57;_0x425207<=_0x5d9e64;_0x425207++){const _0x1d553c=new Date(_0x59f27e);_0x1d553c['setDate'](_0x1d553c['getDate']()+_0x425207);const _0x115a28=getLocalDateStr(_0x1d553c);let _0x58df4e=_0x1d553c[_0x5760e4(0x199)]()-0x1;if(_0x58df4e===-0x1)_0x58df4e=0x6;const _0x12108f=_0x115a28===_0x5045c3,_0x284609=document[_0x5760e4(0x158)](_0x5760e4(0x147));_0x284609[_0x5760e4(0x1ba)]=_0x5760e4(0x127)+(_0x12108f?_0x5760e4(0x140):''),_0x284609[_0x5760e4(0x160)](_0x5760e4(0x14f),_0x115a28),_0x284609[_0x5760e4(0x19a)]=_0x5760e4(0x161)+_0x3a2602[_0x58df4e]+_0x5760e4(0x186)+_0x1d553c['getDate']()+_0x5760e4(0x1b4),_0x17e500[_0x5760e4(0x139)](_0x284609);const _0x572490=document[_0x5760e4(0x158)](_0x5760e4(0x147));_0x572490[_0x5760e4(0x1ba)]='day-column\x20'+(_0x12108f?_0x5760e4(0x140):''),_0x572490[_0x5760e4(0x160)](_0x5760e4(0x14f),_0x115a28),_0x572490['setAttribute'](_0x5760e4(0x128),_0x58df4e),_0x350d62[_0x5760e4(0x139)](_0x572490);}_0x1029a9[_0x5760e4(0x17e)](_0x17e500,_0x1029a9['firstChild']),_0x341088['insertBefore'](_0x350d62,_0x341088[_0x5760e4(0x12c)]('.day-column'));}function hexToRgba(_0x3308f9,_0x19fcf8){const _0x18a271=a3_0x39823d;let _0x46eafc;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x3308f9))return _0x46eafc=_0x3308f9[_0x18a271(0x1da)](0x1)[_0x18a271(0x14b)](''),_0x46eafc[_0x18a271(0x180)]==0x3&&(_0x46eafc=[_0x46eafc[0x0],_0x46eafc[0x0],_0x46eafc[0x1],_0x46eafc[0x1],_0x46eafc[0x2],_0x46eafc[0x2]]),_0x46eafc='0x'+_0x46eafc['join'](''),_0x18a271(0x162)+[_0x46eafc>>0x10&0xff,_0x46eafc>>0x8&0xff,_0x46eafc&0xff]['join'](',')+','+_0x19fcf8+')';return _0x18a271(0x1cb)+_0x19fcf8+')';}let confirmResolver=null;function showCustomConfirm(_0x24eb27,_0x195d9f,_0x875249=!![]){const _0xa1e608=a3_0x39823d;document[_0xa1e608(0x168)]('ccTitle')[_0xa1e608(0x1a9)]=_0x24eb27,document[_0xa1e608(0x168)](_0xa1e608(0x1fb))[_0xa1e608(0x1a9)]=_0x195d9f;const _0x35f451=document[_0xa1e608(0x168)](_0xa1e608(0x14e));return _0x875249?(_0x35f451[_0xa1e608(0x17d)][_0xa1e608(0x182)]=_0xa1e608(0x1d7),_0x35f451[_0xa1e608(0x17d)][_0xa1e608(0x107)]='600'):(_0x35f451[_0xa1e608(0x17d)][_0xa1e608(0x182)]=_0xa1e608(0x196),_0x35f451[_0xa1e608(0x17d)][_0xa1e608(0x107)]=_0xa1e608(0x14a)),new Promise(_0x1b9b7e=>{const _0x5cbf92=_0xa1e608;confirmResolver=_0x1b9b7e,document[_0x5cbf92(0x168)](_0x5cbf92(0x19b))[_0x5cbf92(0x12a)][_0x5cbf92(0x1a3)](_0x5cbf92(0x1aa));});}function resolveCustomConfirm(_0x2f1ee2){const _0x231cfd=a3_0x39823d;document['getElementById'](_0x231cfd(0x19b))[_0x231cfd(0x12a)][_0x231cfd(0x1a1)](_0x231cfd(0x1aa));if(confirmResolver)confirmResolver(_0x2f1ee2);}async function tryCancelCurrentSession(){const _0x966fd4=a3_0x39823d;if(!currentSession)return;const _0x50de1d=await showCustomConfirm(_0x966fd4(0x123),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x50de1d)return;const _0x365af6=currentSession;closeAllSheets(),sessions=sessions[_0x966fd4(0x16b)](_0x36da35=>_0x36da35['id']!==_0x365af6['id']),reRenderBlocks(),showToast(_0x966fd4(0x1cf)),lastUserActionTime=Date[_0x966fd4(0x12f)]();try{const _0x3aec6=window['Telegram']?.[_0x966fd4(0x142)],_0x9cf42c=await fetch(API_URL,{'method':_0x966fd4(0x1ef),'body':JSON[_0x966fd4(0x1ca)]({'action':'client_cancel','init_data':_0x3aec6?.[_0x966fd4(0x176)]||'','coachId':_0x365af6[_0x966fd4(0x1b8)],'dateStr':_0x365af6[_0x966fd4(0x11d)],'sessionId':_0x365af6['id']})});if(_0x9cf42c['ok'])DataManager[_0x966fd4(0x10b)]();}catch(_0x17493b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0xaf0148=a3_0x39823d;if(!currentSession)return;document[_0xaf0148(0x168)](_0xaf0148(0x1ac))[_0xaf0148(0x12a)]['remove'](_0xaf0148(0x1e3)),document[_0xaf0148(0x168)](_0xaf0148(0x1d5))[_0xaf0148(0x12a)]['add']('open');const _0x4a7a4d=document['getElementById'](_0xaf0148(0x1f8)),_0x56abef=document[_0xaf0148(0x168)]('rsSlotsGrid');_0x4a7a4d[_0xaf0148(0x19a)]='',_0x56abef[_0xaf0148(0x19a)]=_0xaf0148(0x11c);const [_0x28579a,_0x496320]=currentSession[_0xaf0148(0x1c2)][_0xaf0148(0x14b)](':')[_0xaf0148(0x1cd)](Number),[_0x252276,_0x2538e5]=currentSession[_0xaf0148(0x11e)][_0xaf0148(0x14b)](':')['map'](Number),_0x1987fc=_0x252276*0x3c+_0x2538e5-(_0x28579a*0x3c+_0x496320);try{const _0x339e99=window[_0xaf0148(0x1c7)]?.[_0xaf0148(0x142)],_0x29eec8=await fetch(API_URL,{'method':_0xaf0148(0x1ef),'body':JSON[_0xaf0148(0x1ca)]({'action':_0xaf0148(0x179),'coachId':currentSession[_0xaf0148(0x1b8)],'duration':_0x1987fc,'init_data':_0x339e99?.[_0xaf0148(0x176)]||'','excludeSessionId':currentSession['id']})}),_0x112912=await _0x29eec8[_0xaf0148(0x1df)]();_0x112912['ok']&&_0x112912[_0xaf0148(0x177)]?(availableSlotsCache=_0x112912[_0xaf0148(0x177)],renderRescheduleDates()):_0x56abef['innerHTML']=_0xaf0148(0x14c);}catch(_0xa1f178){_0x56abef['innerHTML']=_0xaf0148(0x1ce);}}function renderRescheduleDates(){const _0x2b4c77=a3_0x39823d,_0x1bac04=document['getElementById'](_0x2b4c77(0x1f8));_0x1bac04[_0x2b4c77(0x19a)]='';const _0x47b83e=Object['keys'](availableSlotsCache)[_0x2b4c77(0x1f3)](),_0x659986=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x47b83e[_0x2b4c77(0x180)]===0x0){document[_0x2b4c77(0x168)](_0x2b4c77(0x15e))['innerHTML']=_0x2b4c77(0x1a5);return;}_0x47b83e[_0x2b4c77(0x198)]((_0x283251,_0x36fc6f)=>{const _0x497517=_0x2b4c77,_0x5ab23b=new Date(_0x283251),_0x1df191=_0x659986[_0x5ab23b[_0x497517(0x199)]()],_0x5bcad8=_0x5ab23b[_0x497517(0x16f)](),_0x16019e=document[_0x497517(0x158)](_0x497517(0x147));_0x16019e[_0x497517(0x1ba)]=_0x497517(0x1c3);if(_0x36fc6f===0x0)_0x16019e[_0x497517(0x12a)][_0x497517(0x1a3)](_0x497517(0x118));_0x16019e['innerHTML']='<div\x20class=\x22rs-day-name\x22>'+_0x1df191+_0x497517(0x108)+_0x5bcad8+_0x497517(0x1b4),_0x16019e[_0x497517(0x17c)]=()=>selectRsDate(_0x283251,_0x16019e),_0x1bac04['appendChild'](_0x16019e);}),selectRsDate(_0x47b83e[0x0],_0x1bac04[_0x2b4c77(0x1bc)]);}function selectRsDate(_0x4b9410,_0x6dbf79){const _0x4b6414=a3_0x39823d;selectedRsDate=_0x4b9410,document['querySelectorAll'](_0x4b6414(0x1a8))[_0x4b6414(0x198)](_0x39460f=>_0x39460f['classList'][_0x4b6414(0x1a1)](_0x4b6414(0x118)));if(_0x6dbf79)_0x6dbf79['classList'][_0x4b6414(0x1a3)](_0x4b6414(0x118));const _0x4c49a0=document['getElementById'](_0x4b6414(0x15e));_0x4c49a0[_0x4b6414(0x19a)]='';const _0xd79a70=availableSlotsCache[_0x4b9410]||[];if(_0xd79a70['length']===0x0){_0x4c49a0[_0x4b6414(0x19a)]=_0x4b6414(0x14c);return;}_0xd79a70['forEach'](_0x396a5c=>{const _0x49110e=_0x4b6414,_0x534fb9=document[_0x49110e(0x158)](_0x49110e(0x1cc));_0x534fb9[_0x49110e(0x1ba)]='rs-time-btn',_0x534fb9[_0x49110e(0x1a9)]=_0x396a5c,_0x534fb9[_0x49110e(0x17c)]=()=>confirmReschedule(_0x396a5c),_0x4c49a0['appendChild'](_0x534fb9);});}async function confirmReschedule(_0x29d139){const _0x381eb9=a3_0x39823d,_0x24feb0=new Date(selectedRsDate),_0x525115=_0x24feb0[_0x381eb9(0x1c4)](_0x381eb9(0x16c),{'day':_0x381eb9(0x18e),'month':'long'}),_0x192d89=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x381eb9(0x15a)+_0x525115+'\x20–≤\x20'+_0x29d139+'?',![]);if(!_0x192d89)return;closeAllSheets(),showToast(_0x381eb9(0x1f7)),lastUserActionTime=Date[_0x381eb9(0x12f)]();const _0x1e5a45=currentSession[_0x381eb9(0x11d)],_0x31cf03=currentSession['id'],[_0x1a842c,_0x1ba5ab]=currentSession[_0x381eb9(0x1c2)][_0x381eb9(0x14b)](':')[_0x381eb9(0x1cd)](Number),[_0x721cf7,_0x24ce2b]=currentSession[_0x381eb9(0x11e)][_0x381eb9(0x14b)](':')[_0x381eb9(0x1cd)](Number),_0x2b1538=_0x721cf7*0x3c+_0x24ce2b-(_0x1a842c*0x3c+_0x1ba5ab),[_0x2bb1c6,_0x4f82ea]=_0x29d139[_0x381eb9(0x14b)](':')[_0x381eb9(0x1cd)](Number),_0x23d0bb=_0x2bb1c6*0x3c+_0x4f82ea+_0x2b1538,_0x588a47=Math[_0x381eb9(0x111)](_0x23d0bb/0x3c),_0x3dccb2=_0x23d0bb%0x3c,_0x57b16a=String(_0x588a47)[_0x381eb9(0x1f5)](0x2,'0')+':'+String(_0x3dccb2)['padStart'](0x2,'0'),_0x50fa27=sessions[_0x381eb9(0x1e6)](_0x42798e=>_0x42798e['id']===_0x31cf03);_0x50fa27!==-0x1&&(sessions[_0x50fa27][_0x381eb9(0x11d)]=selectedRsDate,sessions[_0x50fa27][_0x381eb9(0x1c2)]=_0x29d139,sessions[_0x50fa27][_0x381eb9(0x11e)]=_0x57b16a,reRenderBlocks());try{const _0x350308=window[_0x381eb9(0x1c7)]?.[_0x381eb9(0x142)],_0x583f80=await fetch(API_URL,{'method':_0x381eb9(0x1ef),'body':JSON[_0x381eb9(0x1ca)]({'action':'reschedule','init_data':_0x350308?.[_0x381eb9(0x176)]||'','oldSessionId':_0x31cf03,'oldDate':_0x1e5a45,'newDate':selectedRsDate,'newTime':_0x29d139,'coachId':currentSession[_0x381eb9(0x1b8)]})}),_0x1b17a2=await _0x583f80[_0x381eb9(0x1df)]();!_0x1b17a2['ok']?(showToast(_0x381eb9(0x153)),DataManager[_0x381eb9(0x105)]()):(showToast(_0x381eb9(0x17f)),DataManager[_0x381eb9(0x10b)]());}catch(_0x51d0de){showToast(_0x381eb9(0x110));}}function a3_0x4b6c(_0x20332f,_0x405328){_0x20332f=_0x20332f-0x101;const _0x4580b1=a3_0x11e6();let _0x3c408e=_0x4580b1[_0x20332f];return _0x3c408e;}document[a3_0x39823d(0x1f2)](a3_0x39823d(0x11b),init);