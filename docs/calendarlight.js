const a3_0x26ae23=a3_0x22b6;(function(_0x3aaf37,_0x272c65){const _0x2b23db=a3_0x22b6,_0x400c32=_0x3aaf37();while(!![]){try{const _0x46ee33=-parseInt(_0x2b23db(0x154))/0x1*(-parseInt(_0x2b23db(0x13d))/0x2)+-parseInt(_0x2b23db(0x16f))/0x3*(-parseInt(_0x2b23db(0xc4))/0x4)+parseInt(_0x2b23db(0x15a))/0x5+-parseInt(_0x2b23db(0xc7))/0x6+parseInt(_0x2b23db(0x10b))/0x7+parseInt(_0x2b23db(0x186))/0x8*(parseInt(_0x2b23db(0x11e))/0x9)+parseInt(_0x2b23db(0x10e))/0xa*(-parseInt(_0x2b23db(0x142))/0xb);if(_0x46ee33===_0x272c65)break;else _0x400c32['push'](_0x400c32['shift']());}catch(_0x2b5faf){_0x400c32['push'](_0x400c32['shift']());}}}(a3_0x15e3,0x6cd4a));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x26ae23(0x1b7),GRID_H=0x3c,KEY_SESSIONS=a3_0x26ae23(0x114),KEY_SETTINGS=a3_0x26ae23(0x17b),KEY_CLIENTS=a3_0x26ae23(0xe2);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x26ae23(0x143),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3ef997=a3_0x26ae23,_0x4d561c=(function(){let _0x22eb22=!![];return function(_0x67bd1c,_0x21d9c2){const _0x5005cc=_0x22eb22?function(){const _0x7cdc70=a3_0x22b6;if(_0x21d9c2){const _0x2b5483=_0x21d9c2[_0x7cdc70(0x174)](_0x67bd1c,arguments);return _0x21d9c2=null,_0x2b5483;}}:function(){};return _0x22eb22=![],_0x5005cc;};}()),_0x5e53db=_0x4d561c(this,function(){const _0x509e09=a3_0x22b6;return _0x5e53db['toString']()[_0x509e09(0x100)]('(((.+)+)+)+$')[_0x509e09(0xc9)]()['constructor'](_0x5e53db)['search']('(((.+)+)+)+$');});_0x5e53db();try{const _0x4ebf83=window[_0x3ef997(0x190)]?.[_0x3ef997(0x10d)];if(!_0x4ebf83)return;_0x4ebf83[_0x3ef997(0x1a8)](),_0x4ebf83[_0x3ef997(0x144)]();try{_0x4ebf83[_0x3ef997(0x1ab)](_0x3ef997(0x1a2)),_0x4ebf83[_0x3ef997(0xff)]&&_0x4ebf83['setBackgroundColor'](_0x3ef997(0x1a2));}catch(_0x578744){console['log'](_0x3ef997(0x111),_0x578744);}try{_0x4ebf83[_0x3ef997(0x172)]&&(_0x4ebf83[_0x3ef997(0x172)][_0x3ef997(0x140)](),_0x4ebf83[_0x3ef997(0x172)][_0x3ef997(0x150)](),_0x4ebf83[_0x3ef997(0x172)][_0x3ef997(0x126)](function(){const _0x590df6=_0x3ef997;window['location'][_0x590df6(0x178)]='router.html';}));}catch(_0x37cbc3){console['log'](_0x3ef997(0xf8),_0x37cbc3);}try{if(_0x4ebf83[_0x3ef997(0x12c)])_0x4ebf83[_0x3ef997(0x12c)]();}catch(_0x176fc2){}}catch(_0x333867){console['error'](_0x3ef997(0x138),_0x333867);}}());function a3_0x15e3(){const _0x58c9a2=['pattern','open','all','getAttribute','T23:59:59','padStart','timeColumn','.btn-reschedule','sort','month','matrixViewport','isArray','setHours','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','left','dateStr','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','sid','getDay','log','split','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','uc_client_list','\x20status-completed','client_cancel','completed','data','button','loadLocal','reschedule','\x20–≤\x20','startsWith','className','fontWeight','findIndex','cid','.day-col-header','.period-switch\x20.p-btn','width','applyData','<div\x20class=\x22rs-day-name\x22>','coach_profiles','classList','colIndex','Error\x20setting\x20back\x20button:','toUpperCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','numeric','clientWidth','data-day-idx','setBackgroundColor','search','scrollLeft','div','.day-col-header[data-date=\x22','settings','appendChild','value','\x20-\x20','find','#0a84ff','charAt','5324361gXCoDz','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','WebApp','2215510PWyJgq','rsSlotsGrid','total','Error\x20setting\x20color:','ccText','custom','uc_client_sessions','none','calendar','visible','</div>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','filter','setDate','clientId','length','245601zbOhbY','then','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','firstChild','stopPropagation','offsetLeft','querySelector','onClick','.day-column','blocked-slot\x20stripe-bg','getDate','insertBefore','\x20—á.','disableVerticalSwipes','done','anCustomDates','rgba(10,\x20132,\x20255,\x20','active','event-card','.sheet','cancel_window','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','client-stat-card','note','day-column\x20','Critical\x20TMA\x20Error:','max','syncLoad','data-date','scrollTop','1146NlnVJs','forEach','overlay','show','now','88lnzBPn','week','expand','initData','getTime','textContent','DOMContentLoaded','keys','cancelContainer','detailsSheet','onclick','day-col-header\x20','backgroundColor','backgroundPosition','offClick','%\x20+\x202px)','innerHTML','setAttribute','440qICqpI','getHours','zIndex','clients','remove','</div><div\x20class=\x22rs-day-num\x22>','3465095CYGpYy','analyticsSheet','anDonutCircle','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','substr','<div\x20class=\x22dch-day\x22>','addEventListener','rsDatesTrack','style','start','getMinutes','get_slots','add','client_load','anStart','cancelHint','json','substring','initDataUnsafe','borderLeftColor','1253508GyUYaH','ru-RU',':00</span>','BackButton','min','apply','color','rgba(','var(--acc-green)','href','headerMonth','createDocumentFragment','uc_client_settings','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toast','push','auto','px\x200px','toLocaleDateString','POST','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','join','112mAfEbN','detNote','Unknown','</div><div\x20class=\x22dch-num\x22>','gridColumns','</span>\x20/\x20','–û—Ç–º–µ–Ω–µ–Ω–æ','calc(','strokeDashoffset','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','Telegram','–∑–∞\x20','querySelectorAll','scrollWidth','end','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','anTotalStats','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','analyticsList','ranges','var(--acc-blue)','exceptions','today','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','customConfirm','stringify','test','toLocaleString','#050505','getFullYear','offsetWidth','seriesId','block','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','ready','display','rescheduleSheet','setHeaderColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','day-off-overlay\x20stripe-bg','createElement','rs-date-chip','blocked-range-part\x20stripe-bg','coachId','getElementById','getMonth','getItem','top','#ff453a','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','parse','planned','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','timeLineBadge','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','flex','round','saveLocally','4CiAnVx','setItem','.rs-date-chip','1724796mSVzFN','anPercent','toString','anEnd','daysHeaderTrack'];a3_0x15e3=function(){return _0x58c9a2;};return a3_0x15e3();}function isAdmin(){const _0x3225a7=a3_0x26ae23;try{const _0x378c54=Number(window[_0x3225a7(0x190)]?.['WebApp']?.[_0x3225a7(0x16d)]?.['user']?.['id']);return _0x378c54===0xbaf7174;}catch(_0x58ad5a){return![];}}const DataManager={'saveLocally'(){const _0x47e39c=a3_0x26ae23;try{localStorage[_0x47e39c(0xc5)](KEY_SESSIONS,JSON[_0x47e39c(0x19f)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x47e39c(0x19f)](clients)),localStorage[_0x47e39c(0xc5)](KEY_SETTINGS,JSON[_0x47e39c(0x19f)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x180540){}},'loadLocal'(){const _0x506d8e=a3_0x26ae23;try{const _0x2bf39a=localStorage[_0x506d8e(0x1b4)](KEY_SESSIONS);if(_0x2bf39a)sessions=JSON[_0x506d8e(0x1b8)](_0x2bf39a);const _0x2ed7fb=localStorage[_0x506d8e(0x1b4)](KEY_CLIENTS);if(_0x2ed7fb)clients=JSON[_0x506d8e(0x1b8)](_0x2ed7fb);const _0x58023c=localStorage[_0x506d8e(0x1b4)](KEY_SETTINGS);if(_0x58023c){const _0x1f5b38=JSON[_0x506d8e(0x1b8)](_0x58023c);if(_0x1f5b38[_0x506d8e(0xcc)])availabilityPattern=_0x1f5b38[_0x506d8e(0xcc)];if(_0x1f5b38[_0x506d8e(0x199)])specialRanges=_0x1f5b38[_0x506d8e(0x199)];if(_0x1f5b38[_0x506d8e(0x19b)])dateExceptions=_0x1f5b38[_0x506d8e(0x19b)];}}catch(_0x58a635){}},async 'syncLoad'(){const _0x267bdf=a3_0x26ae23,_0x216721=new Date(),_0x452ea5=_0x216721[_0x267bdf(0x1a3)]()+'-'+String(_0x216721[_0x267bdf(0x1b3)]()+0x1)[_0x267bdf(0xd1)](0x2,'0'),_0x659b01=new Date(_0x216721);_0x659b01['setMonth'](_0x216721[_0x267bdf(0x1b3)]()+0x1);const _0x20bc80=_0x659b01[_0x267bdf(0x1a3)]()+'-'+String(_0x659b01[_0x267bdf(0x1b3)]()+0x1)['padStart'](0x2,'0'),_0x5cada3=Date[_0x267bdf(0x141)]();try{const _0x526c26=window[_0x267bdf(0x190)]?.['WebApp'],_0x11a896=_0x526c26?.['initData']||'',[_0x5c354d,_0x58c4f7]=await Promise[_0x267bdf(0xce)]([fetch(API_URL,{'method':_0x267bdf(0x182),'body':JSON['stringify']({'action':_0x267bdf(0x168),'init_data':_0x11a896,'month_str':_0x452ea5})})[_0x267bdf(0x11f)](_0xfc4571=>_0xfc4571[_0x267bdf(0x16b)]()),fetch(API_URL,{'method':_0x267bdf(0x182),'body':JSON[_0x267bdf(0x19f)]({'action':'client_load','init_data':_0x11a896,'month_str':_0x20bc80})})[_0x267bdf(0x11f)](_0x5d6292=>_0x5d6292[_0x267bdf(0x16b)]())]);if(lastUserActionTime>_0x5cada3){console[_0x267bdf(0xdf)](_0x267bdf(0x183));return;}if(_0x5c354d['ok'])this['applyData'](_0x5c354d[_0x267bdf(0xe6)],_0x452ea5);if(_0x58c4f7['ok'])this[_0x267bdf(0xf3)](_0x58c4f7[_0x267bdf(0xe6)],_0x20bc80);this[_0x267bdf(0x1bf)]();}catch(_0x36812e){}},'applyData'(_0x2fa9fb,_0x3aa829){const _0x54b26b=a3_0x26ae23;if(!_0x2fa9fb)return;if(_0x2fa9fb['settings']){if(_0x2fa9fb['settings'][_0x54b26b(0xcc)])availabilityPattern=_0x2fa9fb[_0x54b26b(0x104)]['pattern'];if(_0x2fa9fb[_0x54b26b(0x104)][_0x54b26b(0x199)])specialRanges=_0x2fa9fb[_0x54b26b(0x104)][_0x54b26b(0x199)];if(_0x2fa9fb[_0x54b26b(0x104)][_0x54b26b(0x19b)])dateExceptions=_0x2fa9fb['settings']['exceptions'];}if(_0x2fa9fb[_0x54b26b(0x157)]&&Array[_0x54b26b(0xd7)](_0x2fa9fb['clients']))clients=_0x2fa9fb['clients'];_0x2fa9fb['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x2fa9fb[_0x54b26b(0xf5)]}),_0x2fa9fb[_0x54b26b(0x116)]&&(sessions=sessions[_0x54b26b(0x11a)](_0x1bb1fc=>!_0x1bb1fc[_0x54b26b(0xdb)][_0x54b26b(0xeb)](_0x3aa829)),Object[_0x54b26b(0x149)](_0x2fa9fb[_0x54b26b(0x116)])[_0x54b26b(0x13e)](_0x2e9f3f=>{const _0x16f3f4=_0x54b26b,_0x6d4dcd=_0x2fa9fb[_0x16f3f4(0x116)][_0x2e9f3f];_0x6d4dcd[_0x16f3f4(0x13e)](_0x4d1f9f=>{const _0x28cce6=_0x16f3f4;sessions[_0x28cce6(0x17e)]({'id':_0x4d1f9f['i'],'clientId':_0x4d1f9f['c'],'coachId':_0x4d1f9f[_0x28cce6(0xef)],'dateStr':_0x3aa829+'-'+_0x2e9f3f[_0x28cce6(0xd1)](0x2,'0'),'start':_0x4d1f9f['s'],'end':_0x4d1f9f['e'],'note':_0x4d1f9f['n']||'','status':_0x4d1f9f['st']||_0x28cce6(0x1b9),'seriesId':_0x4d1f9f[_0x28cce6(0xdd)]});});})),reRenderBlocks();}};function init(){const _0x5f0c97=a3_0x26ae23;DataManager[_0x5f0c97(0xe8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5f0c97(0x1b2)](_0x5f0c97(0xd6))[_0x5f0c97(0x161)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5f0c97(0x13a)]();}function renderTimeColumn(){const _0x380786=a3_0x26ae23,_0x17d054=document[_0x380786(0x1b2)](_0x380786(0xd2)),_0x3178b2=document[_0x380786(0x1b2)](_0x380786(0x1bb));_0x17d054['innerHTML']='',_0x17d054[_0x380786(0x105)](_0x3178b2);for(let _0x1c64c9=0x0;_0x1c64c9<0x18;_0x1c64c9++){const _0x460d48=document[_0x380786(0x1ae)](_0x380786(0x102));_0x460d48[_0x380786(0xec)]='time-label';if(_0x1c64c9>0x0)_0x460d48[_0x380786(0x152)]='<span>'+String(_0x1c64c9)['padStart'](0x2,'0')+_0x380786(0x171);_0x17d054['appendChild'](_0x460d48);}}function renderDayRange(_0x40b9fa,_0x2c04cc){const _0x303cb=a3_0x26ae23,_0x345a7d=document['getElementById'](_0x303cb(0xcb)),_0x3f20c4=document[_0x303cb(0x1b2)](_0x303cb(0x18a)),_0x1df694=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x271687=new Date();_0x271687['setHours'](0x0,0x0,0x0,0x0);const _0x277f83=getLocalDateStr(new Date());for(let _0x54d3e1=_0x40b9fa;_0x54d3e1<=_0x2c04cc;_0x54d3e1++){const _0x410b87=new Date(_0x271687);_0x410b87['setDate'](_0x410b87[_0x303cb(0x129)]()+_0x54d3e1);const _0x5ab466=getLocalDateStr(_0x410b87);let _0x2d0115=_0x410b87['getDay']()-0x1;if(_0x2d0115===-0x1)_0x2d0115=0x6;const _0x383fae=_0x5ab466===_0x277f83,_0x4095b9=document[_0x303cb(0x1ae)](_0x303cb(0x102));_0x4095b9[_0x303cb(0xec)]=_0x303cb(0x14d)+(_0x383fae?_0x303cb(0x19c):''),_0x4095b9[_0x303cb(0x153)]('data-date',_0x5ab466),_0x4095b9[_0x303cb(0x152)]=_0x303cb(0x160)+_0x1df694[_0x2d0115]+_0x303cb(0x189)+_0x410b87['getDate']()+_0x303cb(0x118),_0x345a7d[_0x303cb(0x105)](_0x4095b9);const _0x126dce=document['createElement'](_0x303cb(0x102));_0x126dce[_0x303cb(0xec)]=_0x303cb(0x137)+(_0x383fae?'today':''),_0x126dce[_0x303cb(0x153)](_0x303cb(0x13b),_0x5ab466),_0x126dce[_0x303cb(0x153)](_0x303cb(0xfe),_0x2d0115),_0x3f20c4[_0x303cb(0x105)](_0x126dce);}}function reRenderBlocks(){const _0x1a4e77=a3_0x26ae23;document[_0x1a4e77(0x192)](_0x1a4e77(0x127))[_0x1a4e77(0x13e)](_0x11955a=>{const _0xd9674f=_0x1a4e77;_0x11955a[_0xd9674f(0x192)](_0xd9674f(0x119))[_0xd9674f(0x13e)](_0x2fe2ce=>_0x2fe2ce['remove']());const _0x4dd461=_0x11955a[_0xd9674f(0xcf)]('data-date'),_0x2621ed=parseInt(_0x11955a[_0xd9674f(0xcf)](_0xd9674f(0xfe))),_0x1c1080=Math[_0xd9674f(0x1be)](_0x11955a[_0xd9674f(0x124)]);(availabilityPattern[_0x2621ed]||[])['forEach'](_0x4f388d=>{const _0x2506f7=_0xd9674f,_0x75b275=document[_0x2506f7(0x1ae)](_0x2506f7(0x102));_0x75b275[_0x2506f7(0xec)]=_0x2506f7(0x128),_0x75b275['style'][_0x2506f7(0x1b5)]=_0x4f388d*GRID_H+'px',_0x75b275[_0x2506f7(0x163)]['backgroundPosition']='-'+_0x1c1080+'px\x20-'+_0x4f388d*GRID_H+'px',_0x11955a[_0x2506f7(0x105)](_0x75b275);});if(specialRanges[_0xd9674f(0x11d)]>0x0){const _0x11c1b0=new Date(_0x4dd461+'T00:00:00')[_0xd9674f(0x146)](),_0x3de792=new Date(_0x4dd461+_0xd9674f(0xd0))['getTime']();specialRanges[_0xd9674f(0x13e)](_0x244b58=>{const _0x27d024=_0xd9674f,_0x2c7075=new Date(_0x244b58['start'])['getTime'](),_0x2ec40a=new Date(_0x244b58[_0x27d024(0x194)])[_0x27d024(0x146)](),_0x569f80=Math[_0x27d024(0x139)](_0x11c1b0,_0x2c7075),_0x590485=Math[_0x27d024(0x173)](_0x3de792,_0x2ec40a);if(_0x569f80<_0x590485){const _0x34a89a=(_0x569f80-_0x11c1b0)/0x36ee80*GRID_H,_0x2432de=(_0x590485-_0x569f80)/0x36ee80*GRID_H,_0x465bb3=document[_0x27d024(0x1ae)](_0x27d024(0x102));_0x2432de>=23.5*GRID_H?(_0x465bb3['className']=_0x27d024(0x1ad),_0x465bb3[_0x27d024(0x163)][_0x27d024(0x14f)]='-'+_0x1c1080+_0x27d024(0x180)):(_0x465bb3[_0x27d024(0xec)]=_0x27d024(0x1b0),_0x465bb3[_0x27d024(0x163)][_0x27d024(0x1b5)]=_0x34a89a+'px',_0x465bb3[_0x27d024(0x163)]['height']=_0x2432de+'px',_0x465bb3[_0x27d024(0x163)][_0x27d024(0x14f)]='-'+_0x1c1080+'px\x20-'+_0x34a89a+'px'),_0x11955a[_0x27d024(0x105)](_0x465bb3);}});}renderEventsForColumn(_0x11955a,_0x4dd461);});}function renderEventsForColumn(_0x2d30e4,_0x215932){const _0x2d056a=a3_0x26ae23,_0x25f498=sessions[_0x2d056a(0x11a)](_0x23aa5f=>_0x23aa5f[_0x2d056a(0xdb)]===_0x215932),_0x4490fa=_0x25f498['map'](_0x4e360c=>{const _0x5b9f10=_0x2d056a,[_0x1338a0,_0x27d5c3]=_0x4e360c[_0x5b9f10(0x164)][_0x5b9f10(0xe0)](':')[_0x5b9f10(0xfb)](Number),[_0x595188,_0x1e1180]=_0x4e360c[_0x5b9f10(0x194)][_0x5b9f10(0xe0)](':')['map'](Number);return{'data':_0x4e360c,'start':_0x1338a0*0x3c+_0x27d5c3,'end':_0x595188*0x3c+_0x1e1180,'colIndex':0x0};});_0x4490fa[_0x2d056a(0xd4)]((_0x116fcb,_0x2ca691)=>_0x116fcb['start']-_0x2ca691[_0x2d056a(0x164)]||_0x2ca691[_0x2d056a(0x194)]-_0x2ca691[_0x2d056a(0x164)]-(_0x116fcb[_0x2d056a(0x194)]-_0x116fcb[_0x2d056a(0x164)]));const _0x16e066=[];_0x4490fa[_0x2d056a(0x13e)](_0x45a7a7=>{const _0x55ea81=_0x2d056a;let _0x5bee67=![];for(let _0x5d0964=0x0;_0x5d0964<_0x16e066[_0x55ea81(0x11d)];_0x5d0964++){const _0x234cb8=_0x16e066[_0x5d0964];if(_0x45a7a7[_0x55ea81(0x164)]>=_0x234cb8[_0x234cb8[_0x55ea81(0x11d)]-0x1][_0x55ea81(0x194)]){_0x234cb8[_0x55ea81(0x17e)](_0x45a7a7),_0x45a7a7['colIndex']=_0x5d0964,_0x5bee67=!![];break;}}!_0x5bee67&&(_0x16e066['push']([_0x45a7a7]),_0x45a7a7['colIndex']=_0x16e066[_0x55ea81(0x11d)]-0x1);}),_0x4490fa[_0x2d056a(0x13e)](_0xd3f560=>{const _0x2047d5=_0x2d056a;let _0x152f33=0x0;_0x4490fa[_0x2047d5(0x13e)](_0x34f23a=>{const _0xf9c120=_0x2047d5;if(Math[_0xf9c120(0x139)](_0xd3f560[_0xf9c120(0x164)],_0x34f23a[_0xf9c120(0x164)])<Math[_0xf9c120(0x173)](_0xd3f560[_0xf9c120(0x194)],_0x34f23a[_0xf9c120(0x194)])&&_0x34f23a[_0xf9c120(0xf7)]>_0x152f33)_0x152f33=_0x34f23a['colIndex'];});const _0x243992=_0x152f33+0x1,_0x388791=0x64/_0x243992,_0x123a43=_0xd3f560[_0x2047d5(0xf7)]*_0x388791,_0x4cfd3c=document[_0x2047d5(0x1ae)](_0x2047d5(0x102)),_0x2c9346=_0xd3f560[_0x2047d5(0xe6)];let _0x39ffe5=_0x2047d5(0x109);if(clients&&clients[_0x2047d5(0x11d)]>0x0){const _0x164034=clients[_0x2047d5(0x108)](_0x4c3a01=>String(_0x4c3a01['id'])===String(_0x2c9346[_0x2047d5(0x11c)]));if(_0x164034&&_0x164034[_0x2047d5(0x175)])_0x39ffe5=_0x164034[_0x2047d5(0x175)];}const _0x1a85c9=_0x2c9346['status']===_0x2047d5(0xe5),_0x559ead=_0x1a85c9?0x1:0.45;_0x4cfd3c['className']=_0x2047d5(0x131)+(_0x1a85c9?_0x2047d5(0xe3):''),_0x4cfd3c[_0x2047d5(0x163)][_0x2047d5(0x14e)]=hexToRgba(_0x39ffe5,_0x559ead),_0x4cfd3c['style'][_0x2047d5(0x16e)]=_0x39ffe5;const _0x2fb8fe=_0xd3f560[_0x2047d5(0x164)]/0x3c*GRID_H,_0x19bc62=(_0xd3f560[_0x2047d5(0x194)]-_0xd3f560[_0x2047d5(0x164)])/0x3c*GRID_H;_0x4cfd3c[_0x2047d5(0x163)][_0x2047d5(0x1b5)]=_0x2fb8fe+'px',_0x4cfd3c[_0x2047d5(0x163)]['height']=Math[_0x2047d5(0x139)](_0x19bc62,0x14)+'px',_0x4cfd3c[_0x2047d5(0x163)][_0x2047d5(0xf2)]=_0x2047d5(0x18d)+_0x388791+'%\x20-\x204px)',_0x4cfd3c[_0x2047d5(0x163)][_0x2047d5(0xda)]='calc('+_0x123a43+_0x2047d5(0x151),_0x4cfd3c['style'][_0x2047d5(0x156)]=0xa+_0xd3f560[_0x2047d5(0xf7)];if(_0x388791<0x55)_0x4cfd3c['classList'][_0x2047d5(0x167)]('mini');let _0x502b3d='';if(_0x2c9346[_0x2047d5(0x1a5)])_0x502b3d+=_0x2047d5(0xdc);if(_0x1a85c9)_0x502b3d+=_0x2047d5(0x1a7);_0x4cfd3c['innerHTML']=_0x2047d5(0x15e)+_0x2c9346[_0x2047d5(0x164)]+_0x2047d5(0x107)+_0x2c9346[_0x2047d5(0x194)]+_0x2047d5(0x120)+_0x502b3d+_0x2047d5(0xfa),_0x4cfd3c[_0x2047d5(0x14c)]=_0x4f6a31=>{const _0x1956ad=_0x2047d5;_0x4f6a31[_0x1956ad(0x123)](),openDetails(_0x2c9346);},_0x2d30e4[_0x2047d5(0x105)](_0x4cfd3c);});}function openAnalytics(){const _0x1aaca5=a3_0x26ae23,_0x2cd434=document['querySelector'](_0x1aaca5(0xf1));setAnalyticsPeriod(_0x1aaca5(0x143),_0x2cd434),openSheet(_0x1aaca5(0x15b));}function setAnalyticsPeriod(_0x42f2df,_0x10aadd){const _0xaffa8f=a3_0x26ae23;currentAnPeriod=_0x42f2df,document[_0xaffa8f(0x192)](_0xaffa8f(0xf1))[_0xaffa8f(0x13e)](_0x5150bc=>_0x5150bc['classList'][_0xaffa8f(0x158)]('active'));if(_0x10aadd)_0x10aadd['classList']['add'](_0xaffa8f(0x130));const _0x463329=document[_0xaffa8f(0x1b2)](_0xaffa8f(0x12e));_0x463329['style'][_0xaffa8f(0x1a9)]=_0x42f2df===_0xaffa8f(0x113)?_0xaffa8f(0x1bd):_0xaffa8f(0x115);const _0x19a22f=new Date();let _0x692d1c=new Date(),_0x1bc516=new Date();if(_0x42f2df==='week')_0x692d1c=getStartOfWeek(_0x19a22f),_0x1bc516=new Date(_0x692d1c),_0x1bc516[_0xaffa8f(0x11b)](_0x1bc516['getDate']()+0x6);else{if(_0x42f2df===_0xaffa8f(0xd5))_0x692d1c=new Date(_0x19a22f['getFullYear'](),_0x19a22f['getMonth'](),0x1),_0x1bc516=new Date(_0x19a22f['getFullYear'](),_0x19a22f['getMonth']()+0x1,0x0);else{!document[_0xaffa8f(0x1b2)](_0xaffa8f(0x169))[_0xaffa8f(0x106)]&&(document[_0xaffa8f(0x1b2)](_0xaffa8f(0x169))['value']=getLocalDateStr(_0x19a22f),document[_0xaffa8f(0x1b2)](_0xaffa8f(0xca))[_0xaffa8f(0x106)]=getLocalDateStr(_0x19a22f));refreshAnalytics();return;}}document[_0xaffa8f(0x1b2)](_0xaffa8f(0x169))['value']=getLocalDateStr(_0x692d1c),document['getElementById']('anEnd')[_0xaffa8f(0x106)]=getLocalDateStr(_0x1bc516),refreshAnalytics();}function refreshAnalytics(){const _0x251e5e=a3_0x26ae23,_0x4a0f1b=document[_0x251e5e(0x1b2)](_0x251e5e(0x169))[_0x251e5e(0x106)],_0xe48d7=document['getElementById'](_0x251e5e(0xca))['value'];if(!_0x4a0f1b||!_0xe48d7)return;const _0x3265fe=sessions[_0x251e5e(0x11a)](_0xb29a41=>_0xb29a41[_0x251e5e(0xdb)]>=_0x4a0f1b&&_0xb29a41[_0x251e5e(0xdb)]<=_0xe48d7&&_0xb29a41['status']!=='cancelled'),_0x41c982=_0x3265fe[_0x251e5e(0x11d)],_0x461d02=_0x3265fe[_0x251e5e(0x11a)](_0x35a932=>_0x35a932['status']===_0x251e5e(0xe5))[_0x251e5e(0x11d)],_0xd09828=_0x41c982>0x0?Math[_0x251e5e(0x1be)](_0x461d02/_0x41c982*0x64):0x0;document['getElementById'](_0x251e5e(0xc8))['textContent']=_0xd09828+'%',document['getElementById'](_0x251e5e(0x196))[_0x251e5e(0x147)]=_0x461d02+'\x20–∏–∑\x20'+_0x41c982+_0x251e5e(0x1bc);const _0x40b226=document[_0x251e5e(0x1b2)](_0x251e5e(0x15c)),_0x4573ee=0x2*Math['PI']*0x23,_0x38a5cc=_0x4573ee-_0xd09828/0x64*_0x4573ee;_0x40b226[_0x251e5e(0x163)][_0x251e5e(0x18e)]=_0x38a5cc;const _0x56bf81={};_0x3265fe[_0x251e5e(0x13e)](_0x58849e=>{const _0x359372=_0x251e5e,_0x1566e8=_0x58849e['coachId']||_0x359372(0x188);if(!_0x56bf81[_0x1566e8]){const _0xe2c175='#'+_0x1566e8['toString']()[_0x359372(0x15f)](0x0,0x6);_0x56bf81[_0x1566e8]={'total':0x0,'done':0x0,'color':_0xe2c175};}_0x56bf81[_0x1566e8][_0x359372(0x110)]++;if(_0x58849e['status']==='completed')_0x56bf81[_0x1566e8][_0x359372(0x12d)]++;});const _0x180739=document['getElementById'](_0x251e5e(0x198));_0x180739['innerHTML']='';const _0x12e618=Object['entries'](_0x56bf81)['sort']((_0x7e5daa,_0x42c3db)=>_0x42c3db[0x1]['total']-_0x7e5daa[0x1]['total']);if(_0x12e618['length']===0x0){_0x180739[_0x251e5e(0x152)]=_0x251e5e(0x1ac);return;}_0x12e618['forEach'](([_0x5effe2,_0x1d17d0])=>{const _0x1ba920=_0x251e5e,_0x2af89c=Math['round'](_0x1d17d0['done']/_0x1d17d0[_0x1ba920(0x110)]*0x64),_0x14fe42=document[_0x1ba920(0x1ae)](_0x1ba920(0x102));_0x14fe42['className']=_0x1ba920(0x135),_0x14fe42[_0x1ba920(0x163)][_0x1ba920(0x16e)]=_0x1d17d0[_0x1ba920(0x175)],_0x14fe42[_0x1ba920(0x152)]=_0x1ba920(0x121)+_0x5effe2[_0x1ba920(0x15f)](0x0,0x5)+_0x1ba920(0x195)+_0x1d17d0[_0x1ba920(0x12d)]+_0x1ba920(0x18b)+_0x1d17d0[_0x1ba920(0x110)]+_0x1ba920(0x197)+_0x2af89c+_0x1ba920(0x17c),_0x180739[_0x1ba920(0x105)](_0x14fe42);});}function openDetails(_0x45b72f){const _0x36fb29=a3_0x26ae23;currentSession=_0x45b72f;const _0x21e585=new Date(_0x45b72f[_0x36fb29(0xdb)]),_0x229a32=_0x21e585[_0x36fb29(0x181)](_0x36fb29(0x170),{'weekday':'long','day':_0x36fb29(0xfc),'month':'long'});document['getElementById']('detDate')[_0x36fb29(0x147)]=_0x229a32[_0x36fb29(0x10a)](0x0)[_0x36fb29(0xf9)]()+_0x229a32['slice'](0x1),document['getElementById']('detTime')[_0x36fb29(0x147)]=_0x45b72f[_0x36fb29(0x164)]+_0x36fb29(0x107)+_0x45b72f[_0x36fb29(0x194)],document[_0x36fb29(0x1b2)](_0x36fb29(0x187))[_0x36fb29(0x147)]=_0x45b72f[_0x36fb29(0x136)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x1bd391=document[_0x36fb29(0x1b2)]('detStatus'),_0x2228c7=document[_0x36fb29(0x1b2)](_0x36fb29(0x14a)),_0x45f751=_0x2228c7[_0x36fb29(0x125)]('.btn-cancel'),_0x707b83=_0x2228c7[_0x36fb29(0x125)](_0x36fb29(0xd3)),_0x3801aa=document[_0x36fb29(0x1b2)](_0x36fb29(0x16a));if(_0x45b72f['status']===_0x36fb29(0xe5))_0x1bd391['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x1bd391[_0x36fb29(0x163)]['color']=_0x36fb29(0x177),_0x2228c7[_0x36fb29(0x163)]['display']=_0x36fb29(0x115);else{_0x1bd391[_0x36fb29(0x147)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x1bd391['style'][_0x36fb29(0x175)]=_0x36fb29(0x19a),_0x2228c7[_0x36fb29(0x163)][_0x36fb29(0x1a9)]='block';const _0x2339c6=new Date(_0x45b72f[_0x36fb29(0xdb)]+'T'+_0x45b72f[_0x36fb29(0x164)]),_0x5d876e=new Date(),_0x5f91bc=(_0x2339c6-_0x5d876e)/(0x3e8*0x3c*0x3c),_0x352dca=coachProfiles[_0x45b72f[_0x36fb29(0x1b1)]]&&coachProfiles[_0x45b72f['coachId']][_0x36fb29(0x133)]?parseInt(coachProfiles[_0x45b72f[_0x36fb29(0x1b1)]][_0x36fb29(0x133)]):0x18;if(_0x352dca===0x0||_0x5f91bc>=_0x352dca)_0x45f751[_0x36fb29(0x163)][_0x36fb29(0x1a9)]=_0x36fb29(0x1a6),_0x707b83['style'][_0x36fb29(0x1a9)]='block',_0x3801aa[_0x36fb29(0x163)][_0x36fb29(0x1a9)]=_0x36fb29(0x115);else{_0x45f751[_0x36fb29(0x163)]['display']=_0x36fb29(0x115),_0x707b83['style'][_0x36fb29(0x1a9)]='none',_0x3801aa[_0x36fb29(0x163)]['display']=_0x36fb29(0x1a6);let _0x3c68cc=_0x352dca===0x0?_0x36fb29(0x18f):_0x36fb29(0x191)+_0x352dca+_0x36fb29(0x12b);_0x3801aa[_0x36fb29(0x147)]=_0x36fb29(0x15d)+_0x3c68cc+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x36fb29(0x1b2)](_0x36fb29(0x13f))[_0x36fb29(0xf6)][_0x36fb29(0x167)](_0x36fb29(0x130)),document[_0x36fb29(0x1b2)](_0x36fb29(0x14b))['classList'][_0x36fb29(0x167)](_0x36fb29(0xcd));}function closeAllSheets(){const _0x2d4b1a=a3_0x26ae23;document[_0x2d4b1a(0x1b2)](_0x2d4b1a(0x13f))[_0x2d4b1a(0xf6)][_0x2d4b1a(0x158)](_0x2d4b1a(0x130)),document[_0x2d4b1a(0x192)](_0x2d4b1a(0x132))['forEach'](_0x2e52d9=>_0x2e52d9[_0x2d4b1a(0xf6)]['remove']('open'));}function openSheet(_0x1ac326){const _0x5b9f70=a3_0x26ae23;document['getElementById'](_0x5b9f70(0x13f))[_0x5b9f70(0xf6)]['add'](_0x5b9f70(0x130)),document[_0x5b9f70(0x1b2)](_0x1ac326)['classList'][_0x5b9f70(0x167)]('open');}function getLocalDateStr(_0x45f1fb){const _0x32a3fb=a3_0x26ae23,_0x3e3c82=_0x45f1fb[_0x32a3fb(0x1a3)](),_0xf3f9de=String(_0x45f1fb[_0x32a3fb(0x1b3)]()+0x1)[_0x32a3fb(0xd1)](0x2,'0'),_0x3500ba=String(_0x45f1fb[_0x32a3fb(0x129)]())[_0x32a3fb(0xd1)](0x2,'0');return _0x3e3c82+'-'+_0xf3f9de+'-'+_0x3500ba;}function getStartOfWeek(_0x23c5e0){const _0x22e897=a3_0x26ae23,_0x3ffcaa=new Date(_0x23c5e0),_0x59e597=_0x3ffcaa[_0x22e897(0xde)](),_0x41fa01=_0x3ffcaa[_0x22e897(0x129)]()-_0x59e597+(_0x59e597===0x0?-0x6:0x1);return _0x3ffcaa[_0x22e897(0x11b)](_0x41fa01),_0x3ffcaa[_0x22e897(0xd8)](0x0,0x0,0x0,0x0),_0x3ffcaa;}function scrollToToday(){const _0x497a19=getLocalDateStr(new Date());setTimeout(()=>{const _0x29146e=a3_0x22b6,_0x1e5556=document[_0x29146e(0x125)](_0x29146e(0x103)+_0x497a19+'\x22]');if(_0x1e5556){const _0x22add0=document[_0x29146e(0x1b2)](_0x29146e(0xd6)),_0x10fdbd=_0x1e5556['offsetLeft']-_0x22add0[_0x29146e(0xfd)]/0x2+_0x1e5556[_0x29146e(0x1a4)]/0x2;_0x22add0['scrollTo']({'left':_0x10fdbd,'behavior':_0x29146e(0x17f)}),_0x22add0[_0x29146e(0x13c)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x27d924=a3_0x26ae23,_0x38a5e1=new Date(),_0x290ba9=document[_0x27d924(0x1b2)]('globalTimeLine'),_0xd7e02a=document[_0x27d924(0x1b2)](_0x27d924(0x1bb)),_0x4063f6=(_0x38a5e1[_0x27d924(0x155)]()*0x3c+_0x38a5e1['getMinutes']())/0x3c*GRID_H;_0x290ba9[_0x27d924(0x163)][_0x27d924(0x1b5)]=_0x4063f6+'px',_0x290ba9[_0x27d924(0x163)][_0x27d924(0x1a9)]=_0x27d924(0x1a6),_0xd7e02a[_0x27d924(0x163)][_0x27d924(0x1b5)]=_0x4063f6+'px',_0xd7e02a[_0x27d924(0x163)][_0x27d924(0x1a9)]=_0x27d924(0x1a6),_0xd7e02a[_0x27d924(0x147)]=String(_0x38a5e1[_0x27d924(0x155)]())['padStart'](0x2,'0')+':'+String(_0x38a5e1[_0x27d924(0x165)]())[_0x27d924(0xd1)](0x2,'0');}function onScroll(){const _0x58d426=a3_0x26ae23,_0x124a4f=document[_0x58d426(0x1b2)]('matrixViewport'),_0x15c76b=document[_0x58d426(0x192)](_0x58d426(0xf0));for(let _0x4d24b6 of _0x15c76b)if(_0x4d24b6[_0x58d426(0x124)]>=_0x124a4f[_0x58d426(0x101)]){const _0x58a2cd=new Date(_0x4d24b6[_0x58d426(0xcf)](_0x58d426(0x13b)));document[_0x58d426(0x1b2)](_0x58d426(0x179))[_0x58d426(0x147)]=_0x58a2cd[_0x58d426(0x1a1)]('ru',{'month':'long'})[_0x58d426(0xf9)]()+'\x20'+_0x58a2cd[_0x58d426(0x1a3)]();break;}}function showToast(_0x51d184){const _0x55f2f5=a3_0x26ae23,_0x36242c=document[_0x55f2f5(0x1b2)](_0x55f2f5(0x17d));_0x36242c[_0x55f2f5(0x147)]=_0x51d184,_0x36242c['classList'][_0x55f2f5(0x167)](_0x55f2f5(0x140)),setTimeout(()=>_0x36242c[_0x55f2f5(0xf6)][_0x55f2f5(0x158)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x9cf9fa=a3_0x26ae23,_0x1043e7=document['getElementById'](_0x9cf9fa(0xd6)),_0x20c11e=_0x1043e7[_0x9cf9fa(0x101)],_0x7df266=_0x1043e7[_0x9cf9fa(0x193)],_0x2ade86=_0x1043e7['clientWidth'];if(_0x7df266-(_0x20c11e+_0x2ade86)<0x12c){const _0x560751=endOffset;endOffset+=0xe,renderDayRange(_0x560751+0x1,endOffset),reRenderBlocks();}if(_0x20c11e<0x12c){const _0x1ffda7=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1ffda7-0x1),_0x1043e7[_0x9cf9fa(0x101)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x77b636,_0x28fd14){const _0x1f5172=a3_0x26ae23,_0x3a98bc=document['getElementById'](_0x1f5172(0xcb)),_0x29bb90=document[_0x1f5172(0x1b2)]('gridColumns'),_0x2b891c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45a09e=new Date();_0x45a09e[_0x1f5172(0xd8)](0x0,0x0,0x0,0x0);const _0x3ff665=getLocalDateStr(new Date()),_0x19eb37=document[_0x1f5172(0x17a)](),_0x4303c8=document[_0x1f5172(0x17a)]();for(let _0xf5960e=_0x77b636;_0xf5960e<=_0x28fd14;_0xf5960e++){const _0x23ab68=new Date(_0x45a09e);_0x23ab68['setDate'](_0x23ab68[_0x1f5172(0x129)]()+_0xf5960e);const _0x172ae1=getLocalDateStr(_0x23ab68);let _0xd15507=_0x23ab68[_0x1f5172(0xde)]()-0x1;if(_0xd15507===-0x1)_0xd15507=0x6;const _0x239fa1=_0x172ae1===_0x3ff665,_0x49bd5b=document[_0x1f5172(0x1ae)](_0x1f5172(0x102));_0x49bd5b[_0x1f5172(0xec)]=_0x1f5172(0x14d)+(_0x239fa1?_0x1f5172(0x19c):''),_0x49bd5b[_0x1f5172(0x153)](_0x1f5172(0x13b),_0x172ae1),_0x49bd5b[_0x1f5172(0x152)]=_0x1f5172(0x160)+_0x2b891c[_0xd15507]+_0x1f5172(0x189)+_0x23ab68['getDate']()+'</div>',_0x19eb37[_0x1f5172(0x105)](_0x49bd5b);const _0x451aa2=document['createElement']('div');_0x451aa2[_0x1f5172(0xec)]=_0x1f5172(0x137)+(_0x239fa1?_0x1f5172(0x19c):''),_0x451aa2[_0x1f5172(0x153)]('data-date',_0x172ae1),_0x451aa2['setAttribute']('data-day-idx',_0xd15507),_0x4303c8[_0x1f5172(0x105)](_0x451aa2);}_0x3a98bc[_0x1f5172(0x12a)](_0x19eb37,_0x3a98bc[_0x1f5172(0x122)]),_0x29bb90[_0x1f5172(0x12a)](_0x4303c8,_0x29bb90[_0x1f5172(0x125)](_0x1f5172(0x127)));}function hexToRgba(_0x22a1fd,_0xfcdfd4){const _0x2f0c0b=a3_0x26ae23;let _0x2bb765;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x2f0c0b(0x1a0)](_0x22a1fd))return _0x2bb765=_0x22a1fd[_0x2f0c0b(0x16c)](0x1)[_0x2f0c0b(0xe0)](''),_0x2bb765[_0x2f0c0b(0x11d)]==0x3&&(_0x2bb765=[_0x2bb765[0x0],_0x2bb765[0x0],_0x2bb765[0x1],_0x2bb765[0x1],_0x2bb765[0x2],_0x2bb765[0x2]]),_0x2bb765='0x'+_0x2bb765['join'](''),_0x2f0c0b(0x176)+[_0x2bb765>>0x10&0xff,_0x2bb765>>0x8&0xff,_0x2bb765&0xff][_0x2f0c0b(0x185)](',')+','+_0xfcdfd4+')';return _0x2f0c0b(0x12f)+_0xfcdfd4+')';}let confirmResolver=null;function showCustomConfirm(_0x2f106f,_0x2248ad,_0x56046e=!![]){const _0x76a1e8=a3_0x26ae23;document['getElementById']('ccTitle')['textContent']=_0x2f106f,document[_0x76a1e8(0x1b2)](_0x76a1e8(0x112))[_0x76a1e8(0x147)]=_0x2248ad;const _0x362047=document['getElementById']('ccYesBtn');return _0x56046e?(_0x362047[_0x76a1e8(0x163)][_0x76a1e8(0x175)]=_0x76a1e8(0x1b6),_0x362047[_0x76a1e8(0x163)][_0x76a1e8(0xed)]='600'):(_0x362047['style']['color']=_0x76a1e8(0x109),_0x362047[_0x76a1e8(0x163)][_0x76a1e8(0xed)]='600'),new Promise(_0x114108=>{const _0x22dd82=_0x76a1e8;confirmResolver=_0x114108,document[_0x22dd82(0x1b2)]('customConfirm')[_0x22dd82(0xf6)]['add'](_0x22dd82(0x117));});}function resolveCustomConfirm(_0x2a78a8){const _0x170aa5=a3_0x26ae23;document[_0x170aa5(0x1b2)](_0x170aa5(0x19e))[_0x170aa5(0xf6)][_0x170aa5(0x158)](_0x170aa5(0x117));if(confirmResolver)confirmResolver(_0x2a78a8);}async function tryCancelCurrentSession(){const _0x503b03=a3_0x26ae23;if(!currentSession)return;const _0x45a6ea=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x45a6ea)return;const _0x2d9a54=currentSession;closeAllSheets(),sessions=sessions[_0x503b03(0x11a)](_0x9441db=>_0x9441db['id']!==_0x2d9a54['id']),reRenderBlocks(),showToast(_0x503b03(0x18c)),lastUserActionTime=Date[_0x503b03(0x141)]();try{const _0x4124c5=window[_0x503b03(0x190)]?.[_0x503b03(0x10d)],_0x5bec90=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x503b03(0xe4),'init_data':_0x4124c5?.[_0x503b03(0x145)]||'','coachId':_0x2d9a54['coachId'],'dateStr':_0x2d9a54[_0x503b03(0xdb)],'sessionId':_0x2d9a54['id']})});if(_0x5bec90['ok'])DataManager[_0x503b03(0x1bf)]();}catch(_0x18f5ec){showToast(_0x503b03(0x10c));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3e36d0=a3_0x26ae23;if(!currentSession)return;document[_0x3e36d0(0x1b2)](_0x3e36d0(0x14b))[_0x3e36d0(0xf6)]['remove']('open'),document[_0x3e36d0(0x1b2)](_0x3e36d0(0x1aa))[_0x3e36d0(0xf6)][_0x3e36d0(0x167)](_0x3e36d0(0xcd));const _0x2bacee=document['getElementById']('rsDatesTrack'),_0x43a22a=document['getElementById'](_0x3e36d0(0x10f));_0x2bacee['innerHTML']='',_0x43a22a[_0x3e36d0(0x152)]=_0x3e36d0(0x134);const [_0x820d3f,_0x365489]=currentSession[_0x3e36d0(0x164)][_0x3e36d0(0xe0)](':')[_0x3e36d0(0xfb)](Number),[_0x36ba68,_0x1712d4]=currentSession[_0x3e36d0(0x194)][_0x3e36d0(0xe0)](':')[_0x3e36d0(0xfb)](Number),_0x51e979=_0x36ba68*0x3c+_0x1712d4-(_0x820d3f*0x3c+_0x365489);try{const _0x53bcc5=window[_0x3e36d0(0x190)]?.[_0x3e36d0(0x10d)],_0x2605e2=await fetch(API_URL,{'method':_0x3e36d0(0x182),'body':JSON[_0x3e36d0(0x19f)]({'action':_0x3e36d0(0x166),'coachId':currentSession[_0x3e36d0(0x1b1)],'duration':_0x51e979,'init_data':_0x53bcc5?.[_0x3e36d0(0x145)]||'','excludeSessionId':currentSession['id']})}),_0xc1e3fc=await _0x2605e2['json']();_0xc1e3fc['ok']&&_0xc1e3fc[_0x3e36d0(0xe6)]?(availableSlotsCache=_0xc1e3fc[_0x3e36d0(0xe6)],renderRescheduleDates()):_0x43a22a['innerHTML']=_0x3e36d0(0x19d);}catch(_0x57e848){_0x43a22a[_0x3e36d0(0x152)]=_0x3e36d0(0x184);}}function a3_0x22b6(_0x5771b2,_0x521387){_0x5771b2=_0x5771b2-0xc4;const _0x5d4d8c=a3_0x15e3();let _0x2b3e1d=_0x5d4d8c[_0x5771b2];return _0x2b3e1d;}function renderRescheduleDates(){const _0x49db8e=a3_0x26ae23,_0x1df823=document[_0x49db8e(0x1b2)](_0x49db8e(0x162));_0x1df823[_0x49db8e(0x152)]='';const _0x4688ff=Object[_0x49db8e(0x149)](availableSlotsCache)[_0x49db8e(0xd4)](),_0x59c8b2=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4688ff['length']===0x0){document[_0x49db8e(0x1b2)](_0x49db8e(0x10f))[_0x49db8e(0x152)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x4688ff[_0x49db8e(0x13e)]((_0x574c23,_0x86b850)=>{const _0x2e3f2e=_0x49db8e,_0x5bfc94=new Date(_0x574c23),_0x4db8f4=_0x59c8b2[_0x5bfc94[_0x2e3f2e(0xde)]()],_0x51b6d6=_0x5bfc94['getDate'](),_0x58d33d=document[_0x2e3f2e(0x1ae)](_0x2e3f2e(0x102));_0x58d33d[_0x2e3f2e(0xec)]=_0x2e3f2e(0x1af);if(_0x86b850===0x0)_0x58d33d[_0x2e3f2e(0xf6)][_0x2e3f2e(0x167)](_0x2e3f2e(0x130));_0x58d33d['innerHTML']=_0x2e3f2e(0xf4)+_0x4db8f4+_0x2e3f2e(0x159)+_0x51b6d6+_0x2e3f2e(0x118),_0x58d33d[_0x2e3f2e(0x14c)]=()=>selectRsDate(_0x574c23,_0x58d33d),_0x1df823['appendChild'](_0x58d33d);}),selectRsDate(_0x4688ff[0x0],_0x1df823[_0x49db8e(0x122)]);}function selectRsDate(_0x30cb24,_0x3ee08c){const _0x53f71e=a3_0x26ae23;selectedRsDate=_0x30cb24,document[_0x53f71e(0x192)](_0x53f71e(0xc6))[_0x53f71e(0x13e)](_0x22600f=>_0x22600f['classList'][_0x53f71e(0x158)]('active'));if(_0x3ee08c)_0x3ee08c[_0x53f71e(0xf6)][_0x53f71e(0x167)]('active');const _0x22f22e=document['getElementById'](_0x53f71e(0x10f));_0x22f22e[_0x53f71e(0x152)]='';const _0xf026d9=availableSlotsCache[_0x30cb24]||[];if(_0xf026d9[_0x53f71e(0x11d)]===0x0){_0x22f22e[_0x53f71e(0x152)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0xf026d9[_0x53f71e(0x13e)](_0x100755=>{const _0x22bb5f=_0x53f71e,_0x6ed6e=document['createElement'](_0x22bb5f(0xe7));_0x6ed6e['className']='rs-time-btn',_0x6ed6e['textContent']=_0x100755,_0x6ed6e[_0x22bb5f(0x14c)]=()=>confirmReschedule(_0x100755),_0x22f22e[_0x22bb5f(0x105)](_0x6ed6e);});}async function confirmReschedule(_0x5f6862){const _0x4bd9dd=a3_0x26ae23,_0x4fa111=new Date(selectedRsDate),_0x478a26=_0x4fa111['toLocaleDateString']('ru-RU',{'day':'numeric','month':'long'}),_0x5a4e34=await showCustomConfirm(_0x4bd9dd(0xe1),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x478a26+_0x4bd9dd(0xea)+_0x5f6862+'?',![]);if(!_0x5a4e34)return;closeAllSheets(),showToast(_0x4bd9dd(0xd9)),lastUserActionTime=Date['now']();const _0x1ba136=currentSession[_0x4bd9dd(0xdb)],_0x1ddf23=currentSession['id'],[_0x4ac151,_0x3c4241]=currentSession[_0x4bd9dd(0x164)][_0x4bd9dd(0xe0)](':')[_0x4bd9dd(0xfb)](Number),[_0x1fbad6,_0xaa8e2c]=currentSession[_0x4bd9dd(0x194)][_0x4bd9dd(0xe0)](':')['map'](Number),_0x10c565=_0x1fbad6*0x3c+_0xaa8e2c-(_0x4ac151*0x3c+_0x3c4241),[_0x349a81,_0xe980f3]=_0x5f6862['split'](':')[_0x4bd9dd(0xfb)](Number),_0x31861a=_0x349a81*0x3c+_0xe980f3+_0x10c565,_0x12beed=Math['floor'](_0x31861a/0x3c),_0x258eca=_0x31861a%0x3c,_0x9ca63e=String(_0x12beed)[_0x4bd9dd(0xd1)](0x2,'0')+':'+String(_0x258eca)['padStart'](0x2,'0'),_0x5c9d0c=sessions[_0x4bd9dd(0xee)](_0x4edd04=>_0x4edd04['id']===_0x1ddf23);_0x5c9d0c!==-0x1&&(sessions[_0x5c9d0c]['dateStr']=selectedRsDate,sessions[_0x5c9d0c][_0x4bd9dd(0x164)]=_0x5f6862,sessions[_0x5c9d0c][_0x4bd9dd(0x194)]=_0x9ca63e,reRenderBlocks());try{const _0x135b88=window[_0x4bd9dd(0x190)]?.[_0x4bd9dd(0x10d)],_0x5093d2=await fetch(API_URL,{'method':_0x4bd9dd(0x182),'body':JSON[_0x4bd9dd(0x19f)]({'action':_0x4bd9dd(0xe9),'init_data':_0x135b88?.['initData']||'','oldSessionId':_0x1ddf23,'oldDate':_0x1ba136,'newDate':selectedRsDate,'newTime':_0x5f6862,'coachId':currentSession[_0x4bd9dd(0x1b1)]})}),_0x3156ef=await _0x5093d2['json']();!_0x3156ef['ok']?(showToast(_0x4bd9dd(0x1ba)),DataManager[_0x4bd9dd(0x13a)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x4bd9dd(0x1bf)]());}catch(_0x778531){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x26ae23(0x161)](a3_0x26ae23(0x148),init);