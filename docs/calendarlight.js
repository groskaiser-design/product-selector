const a3_0x5026fb=a3_0x27db;function a3_0x1cbc(){const _0x19c294=['px\x200px','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','detDate','6utCUyy','day-column\x20','calendar','3261391FhbcQO','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','day-col-header\x20','block','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','week','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','planned','left','map','%\x20-\x204px)','cancelHint','height','rs-time-btn','blocked-range-part\x20stripe-bg','rsSlotsGrid','#ff453a','600','strokeDashoffset','flex','anStart','note','2147230KZaxRA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','client_cancel','306657uQBDxQ','getHours','rgba(10,\x20132,\x20255,\x20','var(--acc-green)','join','</div><div\x20class=\x22rs-day-num\x22>','padStart','setItem','createDocumentFragment','event-card','push','detNote','loadLocal','</div>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','detTime','stringify','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollTo','button','max','then','getDay','router.html','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','.day-column','style','none','uc_client_list','ranges','cancelContainer','length','Error\x20setting\x20back\x20button:','initData','applyData','rs-date-chip','getMonth','2304369cNnUqn','uc_client_settings','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','<div\x20class=\x22rs-day-name\x22>','open','json','coach_profiles','.rs-date-chip','.day-col-header[data-date=\x22','anTotalStats','</span>\x20/\x20','setDate','pattern','addEventListener','status','#0a84ff','setMonth','8JcwVvD','#050505','detStatus','</div><div\x20class=\x22dch-num\x22>','innerHTML','time-label','getItem','total','sort','anDonutCircle','.btn-cancel','error','blocked-slot\x20stripe-bg','\x20-\x20','toLocaleDateString','Telegram','customConfirm','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','%\x20+\x202px)','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','test','round','offsetWidth','toast','uc_client_sessions','dateStr','now','analyticsSheet','forEach','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','keys','find','show','log','apply','640GwwTAZ','numeric','toString','today','div','getDate','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','backgroundPosition','fontWeight','rsDatesTrack','reschedule','clientWidth','12MbpCjt','getAttribute','timeLineBadge','px\x20-','classList','setAttribute','anCustomDates','completed','remove','setHours','1286290WVWkwG','className','T23:59:59','matrixViewport','top','width','getElementById',':00</span>','.day-col-header','ru-RU','entries','month','WebApp','6924gCAsyP','POST','DOMContentLoaded','sid','<div\x20class=\x22dch-day\x22>','all','textContent','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','anEnd','split','scrollTop','exceptions','color','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','createElement','expand','setHeaderColor','Unknown','active','13332jNYOwo','querySelector','getFullYear','clientId','ccText','Error\x20setting\x20color:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','.period-switch\x20.p-btn','ccTitle','appendChild','BackButton','offClick','coachId','done','add','seriesId','display','location','borderLeftColor','toUpperCase','settings','slice','firstChild','day-off-overlay\x20stripe-bg','end','scrollLeft','overlay','disableVerticalSwipes','long','client_load','filter','insertBefore','setBackgroundColor','getTime','cancelled','Critical\x20TMA\x20Error:','querySelectorAll','value','start','data','stopPropagation','rgba(','\x20–∏–∑\x20','daysHeaderTrack','visible','6877nnXUeD','<span>','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','colIndex','saveLocally','substring','initDataUnsafe','globalTimeLine','offsetLeft','substr','clients','startsWith','analyticsList','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','data-day-idx','scrollWidth','data-date','cid','syncLoad','detailsSheet','calc(','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','floor','parse','cancel_window','1WGVdSY','onclick','.btn-reschedule','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'];a3_0x1cbc=function(){return _0x19c294;};return a3_0x1cbc();}(function(_0x159723,_0x891cf6){const _0x3838a3=a3_0x27db,_0x54628b=_0x159723();while(!![]){try{const _0xabee06=parseInt(_0x3838a3(0x110))/0x1*(parseInt(_0x3838a3(0x1a3))/0x2)+-parseInt(_0x3838a3(0x134))/0x3*(-parseInt(_0x3838a3(0x199))/0x4)+parseInt(_0x3838a3(0x131))/0x5*(-parseInt(_0x3838a3(0x118))/0x6)+parseInt(_0x3838a3(0x11b))/0x7+-parseInt(_0x3838a3(0x16a))/0x8*(parseInt(_0x3838a3(0x159))/0x9)+-parseInt(_0x3838a3(0x18d))/0xa*(-parseInt(_0x3838a3(0xca))/0xb)+parseInt(_0x3838a3(0x1b0))/0xc*(-parseInt(_0x3838a3(0xf7))/0xd);if(_0xabee06===_0x891cf6)break;else _0x54628b['push'](_0x54628b['shift']());}catch(_0x222813){_0x54628b['push'](_0x54628b['shift']());}}}(a3_0x1cbc,0x7ab23));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x5026fb(0x182),KEY_SETTINGS=a3_0x5026fb(0x15a),KEY_CLIENTS=a3_0x5026fb(0x150);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x16f228=a3_0x5026fb,_0x4d7bc3=(function(){let _0x1996e7=!![];return function(_0x499fda,_0x3430d9){const _0x413150=_0x1996e7?function(){const _0x49be5e=a3_0x27db;if(_0x3430d9){const _0xcd1001=_0x3430d9[_0x49be5e(0x18c)](_0x499fda,arguments);return _0x3430d9=null,_0xcd1001;}}:function(){};return _0x1996e7=![],_0x413150;};}()),_0x49c019=_0x4d7bc3(this,function(){const _0x196b1b=a3_0x27db;return _0x49c019['toString']()['search']('(((.+)+)+)+$')[_0x196b1b(0x18f)]()['constructor'](_0x49c019)['search']('(((.+)+)+)+$');});_0x49c019();try{const _0x5317c4=window[_0x16f228(0x179)]?.[_0x16f228(0x1af)];if(!_0x5317c4)return;_0x5317c4['ready'](),_0x5317c4[_0x16f228(0xc6)]();try{_0x5317c4[_0x16f228(0xc7)](_0x16f228(0x16b)),_0x5317c4[_0x16f228(0xea)]&&_0x5317c4[_0x16f228(0xea)](_0x16f228(0x16b));}catch(_0x2fe5ee){console[_0x16f228(0x18b)](_0x16f228(0xcf),_0x2fe5ee);}try{_0x5317c4[_0x16f228(0xd4)]&&(_0x5317c4[_0x16f228(0xd4)]['show'](),_0x5317c4['BackButton'][_0x16f228(0xd5)](),_0x5317c4[_0x16f228(0xd4)]['onClick'](function(){const _0x24bc70=_0x16f228;window[_0x24bc70(0xdb)]['href']=_0x24bc70(0x14b);}));}catch(_0x5e0385){console['log'](_0x16f228(0x154),_0x5e0385);}try{if(_0x5317c4['disableVerticalSwipes'])_0x5317c4[_0x16f228(0xe5)]();}catch(_0xa2a9f7){}}catch(_0x14e02c){console[_0x16f228(0x175)](_0x16f228(0xed),_0x14e02c);}}());function isAdmin(){const _0x5c9133=a3_0x5026fb;try{const _0x500f73=Number(window['Telegram']?.[_0x5c9133(0x1af)]?.[_0x5c9133(0xfd)]?.['user']?.['id']);return _0x500f73===0xbaf7174;}catch(_0x1ca542){return![];}}const DataManager={'saveLocally'(){const _0x4b9f79=a3_0x5026fb;try{localStorage[_0x4b9f79(0x13b)](KEY_SESSIONS,JSON[_0x4b9f79(0x144)](sessions)),localStorage[_0x4b9f79(0x13b)](KEY_CLIENTS,JSON[_0x4b9f79(0x144)](clients)),localStorage[_0x4b9f79(0x13b)](KEY_SETTINGS,JSON[_0x4b9f79(0x144)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xb717fb){}},'loadLocal'(){const _0x4908da=a3_0x5026fb;try{const _0x1b40ab=localStorage[_0x4908da(0x170)](KEY_SESSIONS);if(_0x1b40ab)sessions=JSON[_0x4908da(0x10e)](_0x1b40ab);const _0x3a0cf4=localStorage[_0x4908da(0x170)](KEY_CLIENTS);if(_0x3a0cf4)clients=JSON[_0x4908da(0x10e)](_0x3a0cf4);const _0x46d0f0=localStorage[_0x4908da(0x170)](KEY_SETTINGS);if(_0x46d0f0){const _0x592eae=JSON[_0x4908da(0x10e)](_0x46d0f0);if(_0x592eae['pattern'])availabilityPattern=_0x592eae[_0x4908da(0x165)];if(_0x592eae[_0x4908da(0x151)])specialRanges=_0x592eae['ranges'];if(_0x592eae[_0x4908da(0xc2)])dateExceptions=_0x592eae[_0x4908da(0xc2)];}}catch(_0x208518){}},async 'syncLoad'(){const _0x40bf45=a3_0x5026fb,_0x27ab43=new Date(),_0x263d94=_0x27ab43[_0x40bf45(0xcc)]()+'-'+String(_0x27ab43['getMonth']()+0x1)[_0x40bf45(0x13a)](0x2,'0'),_0xd154f8=new Date(_0x27ab43);_0xd154f8[_0x40bf45(0x169)](_0x27ab43['getMonth']()+0x1);const _0x47d667=_0xd154f8[_0x40bf45(0xcc)]()+'-'+String(_0xd154f8[_0x40bf45(0x158)]()+0x1)[_0x40bf45(0x13a)](0x2,'0'),_0x9d86c3=Date[_0x40bf45(0x184)]();try{const _0x2f5b2c=window['Telegram']?.[_0x40bf45(0x1af)],_0x206c7a=_0x2f5b2c?.[_0x40bf45(0x155)]||'',[_0x203832,_0x4ccd2d]=await Promise[_0x40bf45(0xbc)]([fetch(API_URL,{'method':_0x40bf45(0x1b1),'body':JSON[_0x40bf45(0x144)]({'action':_0x40bf45(0xe7),'init_data':_0x206c7a,'month_str':_0x263d94})})[_0x40bf45(0x149)](_0x109960=>_0x109960['json']()),fetch(API_URL,{'method':_0x40bf45(0x1b1),'body':JSON['stringify']({'action':_0x40bf45(0xe7),'init_data':_0x206c7a,'month_str':_0x47d667})})[_0x40bf45(0x149)](_0x586d28=>_0x586d28[_0x40bf45(0x15e)]())]);if(lastUserActionTime>_0x9d86c3){console[_0x40bf45(0x18b)](_0x40bf45(0x17d));return;}if(_0x203832['ok'])this[_0x40bf45(0x156)](_0x203832[_0x40bf45(0xf1)],_0x263d94);if(_0x4ccd2d['ok'])this[_0x40bf45(0x156)](_0x4ccd2d['data'],_0x47d667);this['saveLocally']();}catch(_0x275a16){}},'applyData'(_0x1c6a89,_0x3c63c6){const _0x16a8eb=a3_0x5026fb;if(!_0x1c6a89)return;if(_0x1c6a89[_0x16a8eb(0xde)]){if(_0x1c6a89['settings'][_0x16a8eb(0x165)])availabilityPattern=_0x1c6a89[_0x16a8eb(0xde)][_0x16a8eb(0x165)];if(_0x1c6a89[_0x16a8eb(0xde)][_0x16a8eb(0x151)])specialRanges=_0x1c6a89[_0x16a8eb(0xde)][_0x16a8eb(0x151)];if(_0x1c6a89[_0x16a8eb(0xde)][_0x16a8eb(0xc2)])dateExceptions=_0x1c6a89[_0x16a8eb(0xde)][_0x16a8eb(0xc2)];}if(_0x1c6a89[_0x16a8eb(0x101)]&&Array['isArray'](_0x1c6a89[_0x16a8eb(0x101)]))clients=_0x1c6a89[_0x16a8eb(0x101)];_0x1c6a89[_0x16a8eb(0x15f)]&&(coachProfiles={...coachProfiles,..._0x1c6a89[_0x16a8eb(0x15f)]}),_0x1c6a89[_0x16a8eb(0x11a)]&&(sessions=sessions[_0x16a8eb(0xe8)](_0x5ee27c=>!_0x5ee27c[_0x16a8eb(0x183)][_0x16a8eb(0x102)](_0x3c63c6)),Object[_0x16a8eb(0x188)](_0x1c6a89[_0x16a8eb(0x11a)])[_0x16a8eb(0x186)](_0x5111bb=>{const _0x2bab6a=_0x16a8eb,_0x5eaab7=_0x1c6a89[_0x2bab6a(0x11a)][_0x5111bb];_0x5eaab7['forEach'](_0x164018=>{const _0x1606e2=_0x2bab6a;sessions[_0x1606e2(0x13e)]({'id':_0x164018['i'],'clientId':_0x164018['c'],'coachId':_0x164018[_0x1606e2(0x108)],'dateStr':_0x3c63c6+'-'+_0x5111bb[_0x1606e2(0x13a)](0x2,'0'),'start':_0x164018['s'],'end':_0x164018['e'],'note':_0x164018['n']||'','status':_0x164018['st']||_0x1606e2(0x122),'seriesId':_0x164018[_0x1606e2(0xba)]});});})),reRenderBlocks();}};function init(){const _0x4ee386=a3_0x5026fb;DataManager[_0x4ee386(0x140)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x4ee386(0x166)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x3c0694=a3_0x5026fb,_0x38892a=document[_0x3c0694(0x1a9)]('timeColumn'),_0x190088=document[_0x3c0694(0x1a9)]('timeLineBadge');_0x38892a[_0x3c0694(0x16e)]='',_0x38892a[_0x3c0694(0xd3)](_0x190088);for(let _0x7fec72=0x0;_0x7fec72<0x18;_0x7fec72++){const _0x182d87=document[_0x3c0694(0xc5)](_0x3c0694(0x191));_0x182d87[_0x3c0694(0x1a4)]=_0x3c0694(0x16f);if(_0x7fec72>0x0)_0x182d87[_0x3c0694(0x16e)]=_0x3c0694(0xf8)+String(_0x7fec72)[_0x3c0694(0x13a)](0x2,'0')+_0x3c0694(0x1aa);_0x38892a['appendChild'](_0x182d87);}}function renderDayRange(_0x3951b9,_0x3439c9){const _0x2e4c3b=a3_0x5026fb,_0x184809=document[_0x2e4c3b(0x1a9)](_0x2e4c3b(0xf5)),_0x3cd89e=document[_0x2e4c3b(0x1a9)]('gridColumns'),_0x168e40=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x599437=new Date();_0x599437[_0x2e4c3b(0x1a2)](0x0,0x0,0x0,0x0);const _0x2ad6a1=getLocalDateStr(new Date());for(let _0x1b0e3f=_0x3951b9;_0x1b0e3f<=_0x3439c9;_0x1b0e3f++){const _0xf443f7=new Date(_0x599437);_0xf443f7[_0x2e4c3b(0x164)](_0xf443f7[_0x2e4c3b(0x192)]()+_0x1b0e3f);const _0x2f20d9=getLocalDateStr(_0xf443f7);let _0x3bae5a=_0xf443f7['getDay']()-0x1;if(_0x3bae5a===-0x1)_0x3bae5a=0x6;const _0x5ed14f=_0x2f20d9===_0x2ad6a1,_0x14b897=document[_0x2e4c3b(0xc5)]('div');_0x14b897[_0x2e4c3b(0x1a4)]=_0x2e4c3b(0x11d)+(_0x5ed14f?'today':''),_0x14b897['setAttribute']('data-date',_0x2f20d9),_0x14b897[_0x2e4c3b(0x16e)]=_0x2e4c3b(0xbb)+_0x168e40[_0x3bae5a]+'</div><div\x20class=\x22dch-num\x22>'+_0xf443f7['getDate']()+_0x2e4c3b(0x141),_0x184809['appendChild'](_0x14b897);const _0x3d76d5=document[_0x2e4c3b(0xc5)](_0x2e4c3b(0x191));_0x3d76d5[_0x2e4c3b(0x1a4)]='day-column\x20'+(_0x5ed14f?_0x2e4c3b(0x190):''),_0x3d76d5[_0x2e4c3b(0x19e)](_0x2e4c3b(0x107),_0x2f20d9),_0x3d76d5[_0x2e4c3b(0x19e)](_0x2e4c3b(0x105),_0x3bae5a),_0x3cd89e['appendChild'](_0x3d76d5);}}function reRenderBlocks(){const _0x4bea7e=a3_0x5026fb;document['querySelectorAll'](_0x4bea7e(0x14d))['forEach'](_0x53b461=>{const _0x505cf3=_0x4bea7e;_0x53b461[_0x505cf3(0xee)](_0x505cf3(0x142))['forEach'](_0x44ad12=>_0x44ad12[_0x505cf3(0x1a1)]());const _0x1d3a20=_0x53b461[_0x505cf3(0x19a)](_0x505cf3(0x107)),_0x54c6a2=parseInt(_0x53b461[_0x505cf3(0x19a)]('data-day-idx')),_0x351b72=Math[_0x505cf3(0x17f)](_0x53b461[_0x505cf3(0xff)]);(availabilityPattern[_0x54c6a2]||[])[_0x505cf3(0x186)](_0x263294=>{const _0x5536e6=_0x505cf3,_0x29e7e2=document[_0x5536e6(0xc5)](_0x5536e6(0x191));_0x29e7e2[_0x5536e6(0x1a4)]=_0x5536e6(0x176),_0x29e7e2['style']['top']=_0x263294*GRID_H+'px',_0x29e7e2[_0x5536e6(0x14e)][_0x5536e6(0x194)]='-'+_0x351b72+_0x5536e6(0x19c)+_0x263294*GRID_H+'px',_0x53b461[_0x5536e6(0xd3)](_0x29e7e2);});if(specialRanges[_0x505cf3(0x153)]>0x0){const _0x41b941=new Date(_0x1d3a20+'T00:00:00')['getTime'](),_0x281035=new Date(_0x1d3a20+_0x505cf3(0x1a5))['getTime']();specialRanges[_0x505cf3(0x186)](_0x36eafc=>{const _0x5e5bf3=_0x505cf3,_0x118988=new Date(_0x36eafc[_0x5e5bf3(0xf0)])[_0x5e5bf3(0xeb)](),_0x27adca=new Date(_0x36eafc[_0x5e5bf3(0xe2)])[_0x5e5bf3(0xeb)](),_0x477b08=Math['max'](_0x41b941,_0x118988),_0x441bd2=Math['min'](_0x281035,_0x27adca);if(_0x477b08<_0x441bd2){const _0x34cffa=(_0x477b08-_0x41b941)/0x36ee80*GRID_H,_0x365372=(_0x441bd2-_0x477b08)/0x36ee80*GRID_H,_0x21b922=document[_0x5e5bf3(0xc5)](_0x5e5bf3(0x191));_0x365372>=23.5*GRID_H?(_0x21b922['className']=_0x5e5bf3(0xe1),_0x21b922[_0x5e5bf3(0x14e)][_0x5e5bf3(0x194)]='-'+_0x351b72+_0x5e5bf3(0x115)):(_0x21b922[_0x5e5bf3(0x1a4)]=_0x5e5bf3(0x129),_0x21b922[_0x5e5bf3(0x14e)]['top']=_0x34cffa+'px',_0x21b922['style'][_0x5e5bf3(0x127)]=_0x365372+'px',_0x21b922[_0x5e5bf3(0x14e)][_0x5e5bf3(0x194)]='-'+_0x351b72+_0x5e5bf3(0x19c)+_0x34cffa+'px'),_0x53b461['appendChild'](_0x21b922);}});}renderEventsForColumn(_0x53b461,_0x1d3a20);});}function renderEventsForColumn(_0x1ec49f,_0x480763){const _0x5150a4=a3_0x5026fb,_0x49ed36=sessions[_0x5150a4(0xe8)](_0x5a226e=>_0x5a226e[_0x5150a4(0x183)]===_0x480763),_0x319e28=_0x49ed36[_0x5150a4(0x124)](_0x2c48ec=>{const _0x2ae472=_0x5150a4,[_0x5be168,_0x191234]=_0x2c48ec['start'][_0x2ae472(0xc0)](':')['map'](Number),[_0x4a41fd,_0xc95fce]=_0x2c48ec['end'][_0x2ae472(0xc0)](':')['map'](Number);return{'data':_0x2c48ec,'start':_0x5be168*0x3c+_0x191234,'end':_0x4a41fd*0x3c+_0xc95fce,'colIndex':0x0};});_0x319e28[_0x5150a4(0x172)]((_0x5a50da,_0x5ad3fa)=>_0x5a50da[_0x5150a4(0xf0)]-_0x5ad3fa[_0x5150a4(0xf0)]||_0x5ad3fa[_0x5150a4(0xe2)]-_0x5ad3fa['start']-(_0x5a50da[_0x5150a4(0xe2)]-_0x5a50da[_0x5150a4(0xf0)]));const _0x2a17d6=[];_0x319e28['forEach'](_0x4d93f0=>{const _0x2f8557=_0x5150a4;let _0xd9fa15=![];for(let _0x9464cd=0x0;_0x9464cd<_0x2a17d6[_0x2f8557(0x153)];_0x9464cd++){const _0x6103a3=_0x2a17d6[_0x9464cd];if(_0x4d93f0[_0x2f8557(0xf0)]>=_0x6103a3[_0x6103a3[_0x2f8557(0x153)]-0x1][_0x2f8557(0xe2)]){_0x6103a3[_0x2f8557(0x13e)](_0x4d93f0),_0x4d93f0[_0x2f8557(0xfa)]=_0x9464cd,_0xd9fa15=!![];break;}}!_0xd9fa15&&(_0x2a17d6[_0x2f8557(0x13e)]([_0x4d93f0]),_0x4d93f0['colIndex']=_0x2a17d6[_0x2f8557(0x153)]-0x1);}),_0x319e28['forEach'](_0x43f9df=>{const _0x7def0b=_0x5150a4;let _0x3e2992=0x0;_0x319e28[_0x7def0b(0x186)](_0x402ab0=>{const _0x5061f8=_0x7def0b;if(Math['max'](_0x43f9df[_0x5061f8(0xf0)],_0x402ab0[_0x5061f8(0xf0)])<Math['min'](_0x43f9df[_0x5061f8(0xe2)],_0x402ab0['end'])&&_0x402ab0[_0x5061f8(0xfa)]>_0x3e2992)_0x3e2992=_0x402ab0[_0x5061f8(0xfa)];});const _0xe57297=_0x3e2992+0x1,_0x4179b6=0x64/_0xe57297,_0x587c98=_0x43f9df[_0x7def0b(0xfa)]*_0x4179b6,_0x103ad1=document[_0x7def0b(0xc5)](_0x7def0b(0x191)),_0xe7aaba=_0x43f9df[_0x7def0b(0xf1)];let _0x5bb5d3='#0a84ff';if(clients&&clients[_0x7def0b(0x153)]>0x0){const _0x3fa9f7=clients[_0x7def0b(0x189)](_0x283fcb=>String(_0x283fcb['id'])===String(_0xe7aaba[_0x7def0b(0xcd)]));if(_0x3fa9f7&&_0x3fa9f7['color'])_0x5bb5d3=_0x3fa9f7[_0x7def0b(0xc3)];}const _0x6f2205=_0xe7aaba[_0x7def0b(0x167)]===_0x7def0b(0x1a0),_0x9508a3=_0x6f2205?0x1:0.45;_0x103ad1[_0x7def0b(0x1a4)]=_0x7def0b(0x13d)+(_0x6f2205?'\x20status-completed':''),_0x103ad1[_0x7def0b(0x14e)]['backgroundColor']=hexToRgba(_0x5bb5d3,_0x9508a3),_0x103ad1[_0x7def0b(0x14e)][_0x7def0b(0xdc)]=_0x5bb5d3;const _0x489ccd=_0x43f9df['start']/0x3c*GRID_H,_0x186e86=(_0x43f9df['end']-_0x43f9df[_0x7def0b(0xf0)])/0x3c*GRID_H;_0x103ad1[_0x7def0b(0x14e)][_0x7def0b(0x1a7)]=_0x489ccd+'px',_0x103ad1['style'][_0x7def0b(0x127)]=Math[_0x7def0b(0x148)](_0x186e86,0x14)+'px',_0x103ad1[_0x7def0b(0x14e)][_0x7def0b(0x1a8)]=_0x7def0b(0x10b)+_0x4179b6+_0x7def0b(0x125),_0x103ad1[_0x7def0b(0x14e)][_0x7def0b(0x123)]=_0x7def0b(0x10b)+_0x587c98+_0x7def0b(0x17c),_0x103ad1['style']['zIndex']=0xa+_0x43f9df[_0x7def0b(0xfa)];if(_0x4179b6<0x55)_0x103ad1['classList'][_0x7def0b(0xd8)]('mini');let _0x33e853='';if(_0xe7aaba[_0x7def0b(0xd9)])_0x33e853+=_0x7def0b(0x104);if(_0x6f2205)_0x33e853+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x103ad1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0xe7aaba[_0x7def0b(0xf0)]+_0x7def0b(0x177)+_0xe7aaba[_0x7def0b(0xe2)]+_0x7def0b(0x145)+_0x33e853+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x103ad1[_0x7def0b(0x111)]=_0x4ff226=>{const _0x2e7859=_0x7def0b;_0x4ff226[_0x2e7859(0xf2)](),openDetails(_0xe7aaba);},_0x1ec49f[_0x7def0b(0xd3)](_0x103ad1);});}function openAnalytics(){const _0xdb9fe2=a3_0x5026fb,_0x261a6a=document[_0xdb9fe2(0xcb)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x261a6a),openSheet(_0xdb9fe2(0x185));}function setAnalyticsPeriod(_0x393446,_0x48a07f){const _0x5da1db=a3_0x5026fb;currentAnPeriod=_0x393446,document[_0x5da1db(0xee)](_0x5da1db(0xd1))[_0x5da1db(0x186)](_0x48bc96=>_0x48bc96[_0x5da1db(0x19d)][_0x5da1db(0x1a1)]('active'));if(_0x48a07f)_0x48a07f['classList'][_0x5da1db(0xd8)](_0x5da1db(0xc9));const _0x4f431a=document[_0x5da1db(0x1a9)](_0x5da1db(0x19f));_0x4f431a['style'][_0x5da1db(0xda)]=_0x393446==='custom'?_0x5da1db(0x12e):_0x5da1db(0x14f);const _0x5d0336=new Date();let _0x53f4f1=new Date(),_0x295baa=new Date();if(_0x393446===_0x5da1db(0x120))_0x53f4f1=getStartOfWeek(_0x5d0336),_0x295baa=new Date(_0x53f4f1),_0x295baa[_0x5da1db(0x164)](_0x295baa[_0x5da1db(0x192)]()+0x6);else{if(_0x393446===_0x5da1db(0x1ae))_0x53f4f1=new Date(_0x5d0336[_0x5da1db(0xcc)](),_0x5d0336[_0x5da1db(0x158)](),0x1),_0x295baa=new Date(_0x5d0336[_0x5da1db(0xcc)](),_0x5d0336[_0x5da1db(0x158)]()+0x1,0x0);else{!document[_0x5da1db(0x1a9)](_0x5da1db(0x12f))[_0x5da1db(0xef)]&&(document['getElementById'](_0x5da1db(0x12f))[_0x5da1db(0xef)]=getLocalDateStr(_0x5d0336),document[_0x5da1db(0x1a9)]('anEnd')[_0x5da1db(0xef)]=getLocalDateStr(_0x5d0336));refreshAnalytics();return;}}document['getElementById'](_0x5da1db(0x12f))['value']=getLocalDateStr(_0x53f4f1),document[_0x5da1db(0x1a9)](_0x5da1db(0xbf))[_0x5da1db(0xef)]=getLocalDateStr(_0x295baa),refreshAnalytics();}function a3_0x27db(_0x5c8a6a,_0x3ad039){_0x5c8a6a=_0x5c8a6a-0xb9;const _0x124c43=a3_0x1cbc();let _0xfbf87c=_0x124c43[_0x5c8a6a];return _0xfbf87c;}function refreshAnalytics(){const _0x4a28ee=a3_0x5026fb,_0x8fada0=document[_0x4a28ee(0x1a9)]('anStart')[_0x4a28ee(0xef)],_0xf64678=document[_0x4a28ee(0x1a9)]('anEnd')['value'];if(!_0x8fada0||!_0xf64678)return;const _0x345a02=sessions[_0x4a28ee(0xe8)](_0x2dcd6f=>_0x2dcd6f[_0x4a28ee(0x183)]>=_0x8fada0&&_0x2dcd6f[_0x4a28ee(0x183)]<=_0xf64678&&_0x2dcd6f[_0x4a28ee(0x167)]!==_0x4a28ee(0xec)),_0x24aa2e=_0x345a02[_0x4a28ee(0x153)],_0x4c7c55=_0x345a02[_0x4a28ee(0xe8)](_0x127eff=>_0x127eff[_0x4a28ee(0x167)]==='completed')[_0x4a28ee(0x153)],_0x5422d4=_0x24aa2e>0x0?Math[_0x4a28ee(0x17f)](_0x4c7c55/_0x24aa2e*0x64):0x0;document[_0x4a28ee(0x1a9)]('anPercent')[_0x4a28ee(0xbd)]=_0x5422d4+'%',document['getElementById'](_0x4a28ee(0x162))[_0x4a28ee(0xbd)]=_0x4c7c55+_0x4a28ee(0xf4)+_0x24aa2e+_0x4a28ee(0x10c);const _0x1d8382=document[_0x4a28ee(0x1a9)](_0x4a28ee(0x173)),_0x1ac437=0x2*Math['PI']*0x23,_0x1662fc=_0x1ac437-_0x5422d4/0x64*_0x1ac437;_0x1d8382['style'][_0x4a28ee(0x12d)]=_0x1662fc;const _0x4986fe={};_0x345a02[_0x4a28ee(0x186)](_0x1a666d=>{const _0x52eb37=_0x4a28ee,_0x37e22c=_0x1a666d['coachId']||_0x52eb37(0xc8);if(!_0x4986fe[_0x37e22c]){const _0x3b7f74='#'+_0x37e22c[_0x52eb37(0x18f)]()[_0x52eb37(0x100)](0x0,0x6);_0x4986fe[_0x37e22c]={'total':0x0,'done':0x0,'color':_0x3b7f74};}_0x4986fe[_0x37e22c][_0x52eb37(0x171)]++;if(_0x1a666d[_0x52eb37(0x167)]===_0x52eb37(0x1a0))_0x4986fe[_0x37e22c]['done']++;});const _0x1ae90d=document[_0x4a28ee(0x1a9)](_0x4a28ee(0x103));_0x1ae90d[_0x4a28ee(0x16e)]='';const _0x19438d=Object[_0x4a28ee(0x1ad)](_0x4986fe)['sort']((_0xb3aa81,_0x2b1381)=>_0x2b1381[0x1]['total']-_0xb3aa81[0x1][_0x4a28ee(0x171)]);if(_0x19438d[_0x4a28ee(0x153)]===0x0){_0x1ae90d[_0x4a28ee(0x16e)]=_0x4a28ee(0x193);return;}_0x19438d[_0x4a28ee(0x186)](([_0x141b14,_0x2b3d54])=>{const _0x58346e=_0x4a28ee,_0x14e560=Math[_0x58346e(0x17f)](_0x2b3d54['done']/_0x2b3d54[_0x58346e(0x171)]*0x64),_0x35d897=document[_0x58346e(0xc5)](_0x58346e(0x191));_0x35d897[_0x58346e(0x1a4)]='client-stat-card',_0x35d897[_0x58346e(0x14e)][_0x58346e(0xdc)]=_0x2b3d54[_0x58346e(0xc3)],_0x35d897['innerHTML']=_0x58346e(0x132)+_0x141b14[_0x58346e(0x100)](0x0,0x5)+_0x58346e(0xd0)+_0x2b3d54[_0x58346e(0xd7)]+_0x58346e(0x163)+_0x2b3d54['total']+_0x58346e(0x114)+_0x14e560+_0x58346e(0x11f),_0x1ae90d['appendChild'](_0x35d897);});}function openDetails(_0x1568f3){const _0x3197cc=a3_0x5026fb;currentSession=_0x1568f3;const _0x2cb017=new Date(_0x1568f3[_0x3197cc(0x183)]),_0x4cefb7=_0x2cb017[_0x3197cc(0x178)]('ru-RU',{'weekday':_0x3197cc(0xe6),'day':'numeric','month':_0x3197cc(0xe6)});document[_0x3197cc(0x1a9)](_0x3197cc(0x117))['textContent']=_0x4cefb7['charAt'](0x0)[_0x3197cc(0xdd)]()+_0x4cefb7[_0x3197cc(0xdf)](0x1),document['getElementById'](_0x3197cc(0x143))[_0x3197cc(0xbd)]=_0x1568f3['start']+'\x20-\x20'+_0x1568f3[_0x3197cc(0xe2)],document[_0x3197cc(0x1a9)](_0x3197cc(0x13f))[_0x3197cc(0xbd)]=_0x1568f3[_0x3197cc(0x130)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x2b3f29=document[_0x3197cc(0x1a9)](_0x3197cc(0x16c)),_0x51b47a=document[_0x3197cc(0x1a9)](_0x3197cc(0x152)),_0x399044=_0x51b47a['querySelector'](_0x3197cc(0x174)),_0x47364c=_0x51b47a[_0x3197cc(0xcb)](_0x3197cc(0x112)),_0xa1550f=document[_0x3197cc(0x1a9)](_0x3197cc(0x126));if(_0x1568f3[_0x3197cc(0x167)]===_0x3197cc(0x1a0))_0x2b3f29['textContent']='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x2b3f29[_0x3197cc(0x14e)][_0x3197cc(0xc3)]=_0x3197cc(0x137),_0x51b47a[_0x3197cc(0x14e)][_0x3197cc(0xda)]=_0x3197cc(0x14f);else{_0x2b3f29[_0x3197cc(0xbd)]=_0x3197cc(0x187),_0x2b3f29[_0x3197cc(0x14e)][_0x3197cc(0xc3)]='var(--acc-blue)',_0x51b47a[_0x3197cc(0x14e)][_0x3197cc(0xda)]='block';const _0x17772f=new Date(_0x1568f3[_0x3197cc(0x183)]+'T'+_0x1568f3[_0x3197cc(0xf0)]),_0x535dbe=new Date(),_0x49ccfc=(_0x17772f-_0x535dbe)/(0x3e8*0x3c*0x3c),_0x4c54ff=coachProfiles[_0x1568f3['coachId']]&&coachProfiles[_0x1568f3['coachId']][_0x3197cc(0x10f)]?parseInt(coachProfiles[_0x1568f3[_0x3197cc(0xd6)]][_0x3197cc(0x10f)]):0x18;if(_0x4c54ff===0x0||_0x49ccfc>=_0x4c54ff)_0x399044[_0x3197cc(0x14e)]['display']='block',_0x47364c[_0x3197cc(0x14e)][_0x3197cc(0xda)]='block',_0xa1550f[_0x3197cc(0x14e)][_0x3197cc(0xda)]=_0x3197cc(0x14f);else{_0x399044[_0x3197cc(0x14e)][_0x3197cc(0xda)]=_0x3197cc(0x14f),_0x47364c[_0x3197cc(0x14e)][_0x3197cc(0xda)]=_0x3197cc(0x14f),_0xa1550f[_0x3197cc(0x14e)][_0x3197cc(0xda)]='block';let _0x32ef0f=_0x4c54ff===0x0?_0x3197cc(0xf9):'–∑–∞\x20'+_0x4c54ff+'\x20—á.';_0xa1550f[_0x3197cc(0xbd)]=_0x3197cc(0x121)+_0x32ef0f+_0x3197cc(0x17b);}}document[_0x3197cc(0x1a9)]('overlay')[_0x3197cc(0x19d)][_0x3197cc(0xd8)](_0x3197cc(0xc9)),document[_0x3197cc(0x1a9)](_0x3197cc(0x10a))[_0x3197cc(0x19d)][_0x3197cc(0xd8)](_0x3197cc(0x15d));}function closeAllSheets(){const _0x1c4f1b=a3_0x5026fb;document['getElementById'](_0x1c4f1b(0xe4))[_0x1c4f1b(0x19d)][_0x1c4f1b(0x1a1)]('active'),document[_0x1c4f1b(0xee)]('.sheet')[_0x1c4f1b(0x186)](_0x106e09=>_0x106e09[_0x1c4f1b(0x19d)][_0x1c4f1b(0x1a1)](_0x1c4f1b(0x15d)));}function openSheet(_0x29428e){const _0x4cd16f=a3_0x5026fb;document['getElementById'](_0x4cd16f(0xe4))[_0x4cd16f(0x19d)]['add'](_0x4cd16f(0xc9)),document[_0x4cd16f(0x1a9)](_0x29428e)[_0x4cd16f(0x19d)][_0x4cd16f(0xd8)](_0x4cd16f(0x15d));}function getLocalDateStr(_0x4e35de){const _0x39600a=a3_0x5026fb,_0x49d6f5=_0x4e35de[_0x39600a(0xcc)](),_0x17ef35=String(_0x4e35de[_0x39600a(0x158)]()+0x1)[_0x39600a(0x13a)](0x2,'0'),_0x948315=String(_0x4e35de[_0x39600a(0x192)]())[_0x39600a(0x13a)](0x2,'0');return _0x49d6f5+'-'+_0x17ef35+'-'+_0x948315;}function getStartOfWeek(_0x4b6f79){const _0x29382a=a3_0x5026fb,_0xd475a3=new Date(_0x4b6f79),_0x180366=_0xd475a3['getDay'](),_0x5104c1=_0xd475a3[_0x29382a(0x192)]()-_0x180366+(_0x180366===0x0?-0x6:0x1);return _0xd475a3[_0x29382a(0x164)](_0x5104c1),_0xd475a3['setHours'](0x0,0x0,0x0,0x0),_0xd475a3;}function scrollToToday(){const _0x36c5b6=getLocalDateStr(new Date());setTimeout(()=>{const _0x231726=a3_0x27db,_0x45da85=document['querySelector'](_0x231726(0x161)+_0x36c5b6+'\x22]');if(_0x45da85){const _0x5e27f1=document[_0x231726(0x1a9)]('matrixViewport'),_0x1a9770=_0x45da85['offsetLeft']-_0x5e27f1[_0x231726(0x198)]/0x2+_0x45da85[_0x231726(0x180)]/0x2;_0x5e27f1[_0x231726(0x146)]({'left':_0x1a9770,'behavior':'auto'}),_0x5e27f1[_0x231726(0xc1)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4ae5b2=a3_0x5026fb,_0x4e53ef=new Date(),_0x41bd19=document['getElementById'](_0x4ae5b2(0xfe)),_0x339c89=document[_0x4ae5b2(0x1a9)](_0x4ae5b2(0x19b)),_0x17dcb4=(_0x4e53ef[_0x4ae5b2(0x135)]()*0x3c+_0x4e53ef['getMinutes']())/0x3c*GRID_H;_0x41bd19[_0x4ae5b2(0x14e)]['top']=_0x17dcb4+'px',_0x41bd19['style'][_0x4ae5b2(0xda)]=_0x4ae5b2(0x11e),_0x339c89[_0x4ae5b2(0x14e)][_0x4ae5b2(0x1a7)]=_0x17dcb4+'px',_0x339c89[_0x4ae5b2(0x14e)][_0x4ae5b2(0xda)]=_0x4ae5b2(0x11e),_0x339c89[_0x4ae5b2(0xbd)]=String(_0x4e53ef[_0x4ae5b2(0x135)]())[_0x4ae5b2(0x13a)](0x2,'0')+':'+String(_0x4e53ef['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0x2645af=a3_0x5026fb,_0x2ee0b1=document[_0x2645af(0x1a9)](_0x2645af(0x1a6)),_0x5db22c=document[_0x2645af(0xee)](_0x2645af(0x1ab));for(let _0x53495c of _0x5db22c)if(_0x53495c['offsetLeft']>=_0x2ee0b1[_0x2645af(0xe3)]){const _0x22e156=new Date(_0x53495c[_0x2645af(0x19a)](_0x2645af(0x107)));document[_0x2645af(0x1a9)]('headerMonth')[_0x2645af(0xbd)]=_0x22e156['toLocaleString']('ru',{'month':_0x2645af(0xe6)})[_0x2645af(0xdd)]()+'\x20'+_0x22e156[_0x2645af(0xcc)]();break;}}function showToast(_0x2439c1){const _0xb0ad35=a3_0x5026fb,_0x1d65c8=document[_0xb0ad35(0x1a9)](_0xb0ad35(0x181));_0x1d65c8[_0xb0ad35(0xbd)]=_0x2439c1,_0x1d65c8[_0xb0ad35(0x19d)]['add'](_0xb0ad35(0x18a)),setTimeout(()=>_0x1d65c8[_0xb0ad35(0x19d)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x9b55f7=a3_0x5026fb,_0x1e6073=document['getElementById'](_0x9b55f7(0x1a6)),_0x29197d=_0x1e6073[_0x9b55f7(0xe3)],_0x178fd7=_0x1e6073[_0x9b55f7(0x106)],_0x2ad7d5=_0x1e6073[_0x9b55f7(0x198)];if(_0x178fd7-(_0x29197d+_0x2ad7d5)<0x12c){const _0xea6bfb=endOffset;endOffset+=0xe,renderDayRange(_0xea6bfb+0x1,endOffset),reRenderBlocks();}if(_0x29197d<0x12c){const _0x5b7f90=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5b7f90-0x1),_0x1e6073[_0x9b55f7(0xe3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x14c2df,_0xdebda7){const _0x3e67e7=a3_0x5026fb,_0x406fb8=document[_0x3e67e7(0x1a9)](_0x3e67e7(0xf5)),_0x4a7272=document[_0x3e67e7(0x1a9)]('gridColumns'),_0x19a594=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x36ca19=new Date();_0x36ca19[_0x3e67e7(0x1a2)](0x0,0x0,0x0,0x0);const _0x58c31d=getLocalDateStr(new Date()),_0x35b7d9=document[_0x3e67e7(0x13c)](),_0x5b16d5=document['createDocumentFragment']();for(let _0x5342e8=_0x14c2df;_0x5342e8<=_0xdebda7;_0x5342e8++){const _0x2978d0=new Date(_0x36ca19);_0x2978d0[_0x3e67e7(0x164)](_0x2978d0[_0x3e67e7(0x192)]()+_0x5342e8);const _0x3e42e0=getLocalDateStr(_0x2978d0);let _0x18f301=_0x2978d0[_0x3e67e7(0x14a)]()-0x1;if(_0x18f301===-0x1)_0x18f301=0x6;const _0x1a73c0=_0x3e42e0===_0x58c31d,_0x5a4ef3=document[_0x3e67e7(0xc5)]('div');_0x5a4ef3['className']=_0x3e67e7(0x11d)+(_0x1a73c0?_0x3e67e7(0x190):''),_0x5a4ef3['setAttribute']('data-date',_0x3e42e0),_0x5a4ef3[_0x3e67e7(0x16e)]='<div\x20class=\x22dch-day\x22>'+_0x19a594[_0x18f301]+_0x3e67e7(0x16d)+_0x2978d0[_0x3e67e7(0x192)]()+'</div>',_0x35b7d9['appendChild'](_0x5a4ef3);const _0x522a0d=document[_0x3e67e7(0xc5)](_0x3e67e7(0x191));_0x522a0d[_0x3e67e7(0x1a4)]=_0x3e67e7(0x119)+(_0x1a73c0?'today':''),_0x522a0d['setAttribute'](_0x3e67e7(0x107),_0x3e42e0),_0x522a0d[_0x3e67e7(0x19e)]('data-day-idx',_0x18f301),_0x5b16d5[_0x3e67e7(0xd3)](_0x522a0d);}_0x406fb8[_0x3e67e7(0xe9)](_0x35b7d9,_0x406fb8[_0x3e67e7(0xe0)]),_0x4a7272[_0x3e67e7(0xe9)](_0x5b16d5,_0x4a7272['querySelector'](_0x3e67e7(0x14d)));}function hexToRgba(_0x8984eb,_0x5b695e){const _0x147ca1=a3_0x5026fb;let _0x1a7cb7;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x147ca1(0x17e)](_0x8984eb))return _0x1a7cb7=_0x8984eb[_0x147ca1(0xfc)](0x1)[_0x147ca1(0xc0)](''),_0x1a7cb7[_0x147ca1(0x153)]==0x3&&(_0x1a7cb7=[_0x1a7cb7[0x0],_0x1a7cb7[0x0],_0x1a7cb7[0x1],_0x1a7cb7[0x1],_0x1a7cb7[0x2],_0x1a7cb7[0x2]]),_0x1a7cb7='0x'+_0x1a7cb7['join'](''),_0x147ca1(0xf3)+[_0x1a7cb7>>0x10&0xff,_0x1a7cb7>>0x8&0xff,_0x1a7cb7&0xff][_0x147ca1(0x138)](',')+','+_0x5b695e+')';return _0x147ca1(0x136)+_0x5b695e+')';}let confirmResolver=null;function showCustomConfirm(_0x232190,_0x39c7cb,_0x48b601=!![]){const _0x2135ff=a3_0x5026fb;document[_0x2135ff(0x1a9)](_0x2135ff(0xd2))['textContent']=_0x232190,document[_0x2135ff(0x1a9)](_0x2135ff(0xce))[_0x2135ff(0xbd)]=_0x39c7cb;const _0x2a440b=document[_0x2135ff(0x1a9)]('ccYesBtn');return _0x48b601?(_0x2a440b[_0x2135ff(0x14e)][_0x2135ff(0xc3)]=_0x2135ff(0x12b),_0x2a440b['style'][_0x2135ff(0x195)]=_0x2135ff(0x12c)):(_0x2a440b[_0x2135ff(0x14e)][_0x2135ff(0xc3)]=_0x2135ff(0x168),_0x2a440b['style']['fontWeight']=_0x2135ff(0x12c)),new Promise(_0x5898e6=>{const _0x39b74c=_0x2135ff;confirmResolver=_0x5898e6,document[_0x39b74c(0x1a9)](_0x39b74c(0x17a))['classList']['add'](_0x39b74c(0xf6));});}function resolveCustomConfirm(_0x59276d){const _0x2e5d24=a3_0x5026fb;document[_0x2e5d24(0x1a9)](_0x2e5d24(0x17a))[_0x2e5d24(0x19d)]['remove'](_0x2e5d24(0xf6));if(confirmResolver)confirmResolver(_0x59276d);}async function tryCancelCurrentSession(){const _0x155da3=a3_0x5026fb;if(!currentSession)return;const _0xcf8766=await showCustomConfirm(_0x155da3(0xbe),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0xcf8766)return;const _0x1e7056=currentSession;closeAllSheets(),sessions=sessions[_0x155da3(0xe8)](_0x22e4ee=>_0x22e4ee['id']!==_0x1e7056['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x155da3(0x184)]();try{const _0x52dabf=window[_0x155da3(0x179)]?.[_0x155da3(0x1af)],_0x28ec6e=await fetch(API_URL,{'method':_0x155da3(0x1b1),'body':JSON[_0x155da3(0x144)]({'action':_0x155da3(0x133),'init_data':_0x52dabf?.[_0x155da3(0x155)]||'','coachId':_0x1e7056[_0x155da3(0xd6)],'dateStr':_0x1e7056['dateStr'],'sessionId':_0x1e7056['id']})});if(_0x28ec6e['ok'])DataManager['saveLocally']();}catch(_0x2fd2a3){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2a42bc=a3_0x5026fb;if(!currentSession)return;document['getElementById']('detailsSheet')[_0x2a42bc(0x19d)][_0x2a42bc(0x1a1)](_0x2a42bc(0x15d)),document[_0x2a42bc(0x1a9)]('rescheduleSheet')['classList']['add'](_0x2a42bc(0x15d));const _0x168d09=document[_0x2a42bc(0x1a9)](_0x2a42bc(0x196)),_0x30b4ea=document[_0x2a42bc(0x1a9)]('rsSlotsGrid');_0x168d09[_0x2a42bc(0x16e)]='',_0x30b4ea['innerHTML']=_0x2a42bc(0x14c);const [_0xd64dc9,_0x50a117]=currentSession['start']['split'](':')[_0x2a42bc(0x124)](Number),[_0x419c1d,_0x142a46]=currentSession['end'][_0x2a42bc(0xc0)](':')[_0x2a42bc(0x124)](Number),_0x24402f=_0x419c1d*0x3c+_0x142a46-(_0xd64dc9*0x3c+_0x50a117);try{const _0x32ec9b=window['Telegram']?.['WebApp'],_0x65944f=await fetch(API_URL,{'method':'POST','body':JSON[_0x2a42bc(0x144)]({'action':'get_slots','coachId':currentSession[_0x2a42bc(0xd6)],'duration':_0x24402f,'init_data':_0x32ec9b?.[_0x2a42bc(0x155)]||'','excludeSessionId':currentSession['id']})}),_0x459da2=await _0x65944f[_0x2a42bc(0x15e)]();_0x459da2['ok']&&_0x459da2['data']?(availableSlotsCache=_0x459da2[_0x2a42bc(0xf1)],renderRescheduleDates()):_0x30b4ea[_0x2a42bc(0x16e)]=_0x2a42bc(0xc4);}catch(_0x5ab71c){_0x30b4ea['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x39dbdf=a3_0x5026fb,_0x1b093f=document[_0x39dbdf(0x1a9)](_0x39dbdf(0x196));_0x1b093f[_0x39dbdf(0x16e)]='';const _0x297968=Object[_0x39dbdf(0x188)](availableSlotsCache)[_0x39dbdf(0x172)](),_0x22bc63=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x297968[_0x39dbdf(0x153)]===0x0){document['getElementById'](_0x39dbdf(0x12a))[_0x39dbdf(0x16e)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x297968[_0x39dbdf(0x186)]((_0x23be5f,_0x31bd82)=>{const _0x3839e6=_0x39dbdf,_0x4d4079=new Date(_0x23be5f),_0x30c1a6=_0x22bc63[_0x4d4079[_0x3839e6(0x14a)]()],_0x3c1f64=_0x4d4079[_0x3839e6(0x192)](),_0x672ccb=document[_0x3839e6(0xc5)](_0x3839e6(0x191));_0x672ccb[_0x3839e6(0x1a4)]=_0x3839e6(0x157);if(_0x31bd82===0x0)_0x672ccb[_0x3839e6(0x19d)][_0x3839e6(0xd8)](_0x3839e6(0xc9));_0x672ccb['innerHTML']=_0x3839e6(0x15c)+_0x30c1a6+_0x3839e6(0x139)+_0x3c1f64+_0x3839e6(0x141),_0x672ccb['onclick']=()=>selectRsDate(_0x23be5f,_0x672ccb),_0x1b093f[_0x3839e6(0xd3)](_0x672ccb);}),selectRsDate(_0x297968[0x0],_0x1b093f[_0x39dbdf(0xe0)]);}function selectRsDate(_0x4c960c,_0x2c41ff){const _0x117b58=a3_0x5026fb;selectedRsDate=_0x4c960c,document[_0x117b58(0xee)](_0x117b58(0x160))['forEach'](_0x4d993f=>_0x4d993f[_0x117b58(0x19d)]['remove'](_0x117b58(0xc9)));if(_0x2c41ff)_0x2c41ff[_0x117b58(0x19d)][_0x117b58(0xd8)]('active');const _0x19e79b=document[_0x117b58(0x1a9)](_0x117b58(0x12a));_0x19e79b['innerHTML']='';const _0xc08137=availableSlotsCache[_0x4c960c]||[];if(_0xc08137[_0x117b58(0x153)]===0x0){_0x19e79b['innerHTML']=_0x117b58(0xc4);return;}_0xc08137['forEach'](_0x49a7fc=>{const _0xbe45f4=_0x117b58,_0x59aa9e=document['createElement'](_0xbe45f4(0x147));_0x59aa9e[_0xbe45f4(0x1a4)]=_0xbe45f4(0x128),_0x59aa9e['textContent']=_0x49a7fc,_0x59aa9e['onclick']=()=>confirmReschedule(_0x49a7fc),_0x19e79b['appendChild'](_0x59aa9e);});}async function confirmReschedule(_0x337f19){const _0x3813fe=a3_0x5026fb,_0x57ff4f=new Date(selectedRsDate),_0x1df9cd=_0x57ff4f[_0x3813fe(0x178)](_0x3813fe(0x1ac),{'day':_0x3813fe(0x18e),'month':_0x3813fe(0xe6)}),_0x589165=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x3813fe(0x113)+_0x1df9cd+'\x20–≤\x20'+_0x337f19+'?',![]);if(!_0x589165)return;closeAllSheets(),showToast(_0x3813fe(0x11c)),lastUserActionTime=Date[_0x3813fe(0x184)]();const _0x5f3a75=currentSession[_0x3813fe(0x183)],_0x480a91=currentSession['id'],[_0x5b86bb,_0x408d18]=currentSession[_0x3813fe(0xf0)][_0x3813fe(0xc0)](':')[_0x3813fe(0x124)](Number),[_0x294364,_0x483816]=currentSession[_0x3813fe(0xe2)][_0x3813fe(0xc0)](':')['map'](Number),_0x497b06=_0x294364*0x3c+_0x483816-(_0x5b86bb*0x3c+_0x408d18),[_0x40297d,_0xe40c91]=_0x337f19[_0x3813fe(0xc0)](':')[_0x3813fe(0x124)](Number),_0x37e8e9=_0x40297d*0x3c+_0xe40c91+_0x497b06,_0x266e9e=Math[_0x3813fe(0x10d)](_0x37e8e9/0x3c),_0x5e8813=_0x37e8e9%0x3c,_0x96a79d=String(_0x266e9e)[_0x3813fe(0x13a)](0x2,'0')+':'+String(_0x5e8813)[_0x3813fe(0x13a)](0x2,'0'),_0x1e0e62=sessions['findIndex'](_0x4beb20=>_0x4beb20['id']===_0x480a91);_0x1e0e62!==-0x1&&(sessions[_0x1e0e62][_0x3813fe(0x183)]=selectedRsDate,sessions[_0x1e0e62][_0x3813fe(0xf0)]=_0x337f19,sessions[_0x1e0e62][_0x3813fe(0xe2)]=_0x96a79d,reRenderBlocks());try{const _0x545be9=window[_0x3813fe(0x179)]?.['WebApp'],_0x2730b6=await fetch(API_URL,{'method':_0x3813fe(0x1b1),'body':JSON[_0x3813fe(0x144)]({'action':_0x3813fe(0x197),'init_data':_0x545be9?.[_0x3813fe(0x155)]||'','oldSessionId':_0x480a91,'oldDate':_0x5f3a75,'newDate':selectedRsDate,'newTime':_0x337f19,'coachId':currentSession[_0x3813fe(0xd6)]})}),_0x4a3b06=await _0x2730b6[_0x3813fe(0x15e)]();!_0x4a3b06['ok']?(showToast(_0x3813fe(0x116)),DataManager[_0x3813fe(0x109)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x3813fe(0xfb)]());}catch(_0x3b5ac3){showToast(_0x3813fe(0x15b));}}document['addEventListener'](a3_0x5026fb(0xb9),init);