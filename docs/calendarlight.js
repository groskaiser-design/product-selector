const a3_0x5dd90c=a3_0x6d82;(function(_0x318be2,_0x46e795){const _0x5da351=a3_0x6d82,_0x390754=_0x318be2();while(!![]){try{const _0x1a9475=-parseInt(_0x5da351(0x2ac))/0x1+parseInt(_0x5da351(0x1fa))/0x2*(parseInt(_0x5da351(0x227))/0x3)+-parseInt(_0x5da351(0x248))/0x4*(parseInt(_0x5da351(0x216))/0x5)+parseInt(_0x5da351(0x1c1))/0x6+-parseInt(_0x5da351(0x267))/0x7+parseInt(_0x5da351(0x1e8))/0x8*(-parseInt(_0x5da351(0x219))/0x9)+parseInt(_0x5da351(0x292))/0xa;if(_0x1a9475===_0x46e795)break;else _0x390754['push'](_0x390754['shift']());}catch(_0x330fb6){_0x390754['push'](_0x390754['shift']());}}}(a3_0x5e0b,0x7e53e));const APP_VERSION=a3_0x5dd90c(0x214),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c,KEY_SESSIONS=a3_0x5dd90c(0x1ca),KEY_SETTINGS=a3_0x5dd90c(0x208),KEY_CLIENTS=a3_0x5dd90c(0x1c3);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4d85b6=a3_0x5dd90c,_0x354eac=(function(){let _0x49976e=!![];return function(_0x2e7909,_0x223b2b){const _0x1b08b6=_0x49976e?function(){const _0xd53a79=a3_0x6d82;if(_0x223b2b){const _0x1ca6d1=_0x223b2b[_0xd53a79(0x1df)](_0x2e7909,arguments);return _0x223b2b=null,_0x1ca6d1;}}:function(){};return _0x49976e=![],_0x1b08b6;};}()),_0x2b8615=_0x354eac(this,function(){const _0x594081=a3_0x6d82;return _0x2b8615[_0x594081(0x23e)]()['search'](_0x594081(0x254))[_0x594081(0x23e)]()[_0x594081(0x231)](_0x2b8615)[_0x594081(0x1d4)](_0x594081(0x254));});_0x2b8615();try{const _0x47bebc=window[_0x4d85b6(0x280)]?.[_0x4d85b6(0x238)];if(!_0x47bebc)return;_0x47bebc[_0x4d85b6(0x215)](),_0x47bebc['expand']();try{_0x47bebc[_0x4d85b6(0x1e1)](_0x4d85b6(0x263)),_0x47bebc['setBackgroundColor']&&_0x47bebc['setBackgroundColor'](_0x4d85b6(0x263));}catch(_0xdf1689){console[_0x4d85b6(0x277)](_0x4d85b6(0x276),_0xdf1689);}try{_0x47bebc[_0x4d85b6(0x29d)]&&(_0x47bebc[_0x4d85b6(0x29d)][_0x4d85b6(0x1f0)](),_0x47bebc[_0x4d85b6(0x29d)][_0x4d85b6(0x232)](),_0x47bebc['BackButton'][_0x4d85b6(0x1fe)](function(){const _0x125508=_0x4d85b6;window[_0x125508(0x251)][_0x125508(0x2b5)]=_0x125508(0x25e);}));}catch(_0x2e52a9){console[_0x4d85b6(0x277)]('Error\x20setting\x20back\x20button:',_0x2e52a9);}try{if(_0x47bebc['disableVerticalSwipes'])_0x47bebc[_0x4d85b6(0x206)]();}catch(_0x2e027e){}}catch(_0x43ce7a){console[_0x4d85b6(0x1c5)](_0x4d85b6(0x287),_0x43ce7a);}}());function isAdmin(){const _0x5e124e=a3_0x5dd90c;try{const _0x556708=Number(window[_0x5e124e(0x280)]?.[_0x5e124e(0x238)]?.['initDataUnsafe']?.[_0x5e124e(0x256)]?.['id']);return _0x556708===0xbaf7174;}catch(_0x3ac5da){return![];}}const DataManager={'saveLocally'(){const _0x2f010f=a3_0x5dd90c;try{localStorage[_0x2f010f(0x1ed)](KEY_SESSIONS,JSON[_0x2f010f(0x27c)](sessions)),localStorage[_0x2f010f(0x1ed)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x2f010f(0x1ed)](KEY_SETTINGS,JSON[_0x2f010f(0x27c)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3d6c1c){}},'loadLocal'(){const _0x24dde6=a3_0x5dd90c;try{const _0x160529=localStorage[_0x24dde6(0x1db)](KEY_SESSIONS);if(_0x160529)sessions=JSON[_0x24dde6(0x285)](_0x160529);const _0x1e6b1f=localStorage['getItem'](KEY_CLIENTS);if(_0x1e6b1f)clients=JSON[_0x24dde6(0x285)](_0x1e6b1f);const _0x297e06=localStorage[_0x24dde6(0x1db)](KEY_SETTINGS);if(_0x297e06){const _0x2e1dcd=JSON['parse'](_0x297e06);if(_0x2e1dcd[_0x24dde6(0x249)])availabilityPattern=_0x2e1dcd[_0x24dde6(0x249)];if(_0x2e1dcd[_0x24dde6(0x1fb)])specialRanges=_0x2e1dcd[_0x24dde6(0x1fb)];if(_0x2e1dcd[_0x24dde6(0x25f)])dateExceptions=_0x2e1dcd[_0x24dde6(0x25f)];}}catch(_0x1c4b6d){}},async 'syncLoad'(){const _0x38f849=a3_0x5dd90c,_0x1204c6=new Date(),_0x10263a=_0x1204c6[_0x38f849(0x299)]()+'-'+String(_0x1204c6[_0x38f849(0x200)]()+0x1)[_0x38f849(0x253)](0x2,'0'),_0x55d768=new Date(_0x1204c6);_0x55d768[_0x38f849(0x257)](_0x1204c6[_0x38f849(0x200)]()+0x1);const _0x5aaa4a=_0x55d768['getFullYear']()+'-'+String(_0x55d768[_0x38f849(0x200)]()+0x1)[_0x38f849(0x253)](0x2,'0'),_0x4ffe29=Date[_0x38f849(0x22c)]();try{const _0x1197f8=window['Telegram']?.[_0x38f849(0x238)],_0x593317=_0x1197f8?.[_0x38f849(0x25d)]||'',[_0x5bed59,_0x23e4de]=await Promise['all']([fetch(API_URL,{'method':_0x38f849(0x28c),'body':JSON[_0x38f849(0x27c)]({'action':_0x38f849(0x2af),'init_data':_0x593317,'month_str':_0x10263a})})[_0x38f849(0x2a5)](_0x274e8f=>_0x274e8f['json']()),fetch(API_URL,{'method':_0x38f849(0x28c),'body':JSON['stringify']({'action':_0x38f849(0x2af),'init_data':_0x593317,'month_str':_0x5aaa4a})})[_0x38f849(0x2a5)](_0x820dda=>_0x820dda[_0x38f849(0x23c)]())]);if(lastUserActionTime>_0x4ffe29){console['log'](_0x38f849(0x1f9));return;}if(_0x5bed59['ok'])this['applyData'](_0x5bed59[_0x38f849(0x205)],_0x10263a);if(_0x23e4de['ok'])this[_0x38f849(0x1f1)](_0x23e4de[_0x38f849(0x205)],_0x5aaa4a);this[_0x38f849(0x2a0)]();}catch(_0xcffd01){}},'applyData'(_0x4ddac8,_0x4b4a92){const _0x2aa613=a3_0x5dd90c;if(!_0x4ddac8)return;if(_0x4ddac8[_0x2aa613(0x261)]){if(_0x4ddac8[_0x2aa613(0x261)][_0x2aa613(0x249)])availabilityPattern=_0x4ddac8[_0x2aa613(0x261)][_0x2aa613(0x249)];if(_0x4ddac8[_0x2aa613(0x261)]['ranges'])specialRanges=_0x4ddac8['settings']['ranges'];if(_0x4ddac8[_0x2aa613(0x261)][_0x2aa613(0x25f)])dateExceptions=_0x4ddac8[_0x2aa613(0x261)][_0x2aa613(0x25f)];}if(_0x4ddac8['clients']&&Array[_0x2aa613(0x1cb)](_0x4ddac8[_0x2aa613(0x20a)]))clients=_0x4ddac8[_0x2aa613(0x20a)];_0x4ddac8[_0x2aa613(0x1f5)]&&(coachProfiles={...coachProfiles,..._0x4ddac8[_0x2aa613(0x1f5)]}),_0x4ddac8[_0x2aa613(0x1d6)]&&(sessions=sessions[_0x2aa613(0x1cc)](_0xf27952=>!_0xf27952[_0x2aa613(0x1da)][_0x2aa613(0x1dc)](_0x4b4a92)),Object[_0x2aa613(0x2a4)](_0x4ddac8[_0x2aa613(0x1d6)])[_0x2aa613(0x24c)](_0x1d6e30=>{const _0x11b0f8=_0x2aa613,_0xaf62f5=_0x4ddac8[_0x11b0f8(0x1d6)][_0x1d6e30];_0xaf62f5['forEach'](_0x4b1e6d=>{const _0x2011b5=_0x11b0f8;sessions[_0x2011b5(0x262)]({'id':_0x4b1e6d['i'],'clientId':_0x4b1e6d['c'],'coachId':_0x4b1e6d[_0x2011b5(0x22e)],'dateStr':_0x4b4a92+'-'+_0x1d6e30[_0x2011b5(0x253)](0x2,'0'),'start':_0x4b1e6d['s'],'end':_0x4b1e6d['e'],'note':_0x4b1e6d['n']||'','status':_0x4b1e6d['st']||_0x2011b5(0x235),'seriesId':_0x4b1e6d['sid']});});})),reRenderBlocks();}};function init(){const _0xf3e3b3=a3_0x5dd90c;DataManager[_0xf3e3b3(0x27e)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xf3e3b3(0x266)](_0xf3e3b3(0x20f))[_0xf3e3b3(0x233)](_0xf3e3b3(0x252),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xf3e3b3(0x223)]();}function renderTimeColumn(){const _0x561f94=a3_0x5dd90c,_0x3e019e=document[_0x561f94(0x266)](_0x561f94(0x2a2)),_0x4965e3=document[_0x561f94(0x266)](_0x561f94(0x24e));_0x3e019e[_0x561f94(0x268)]='',_0x3e019e['appendChild'](_0x4965e3);for(let _0x566ce3=0x0;_0x566ce3<0x18;_0x566ce3++){const _0x90862d=document['createElement'](_0x561f94(0x21b));_0x90862d[_0x561f94(0x2a7)]=_0x561f94(0x1cd);if(_0x566ce3>0x0)_0x90862d[_0x561f94(0x268)]='<span>'+String(_0x566ce3)[_0x561f94(0x253)](0x2,'0')+_0x561f94(0x274);_0x3e019e[_0x561f94(0x1bd)](_0x90862d);}}function renderDayRange(_0x2d4e26,_0x23ee08){const _0x32882=a3_0x5dd90c,_0x5ceece=document[_0x32882(0x266)](_0x32882(0x270)),_0x30613b=document[_0x32882(0x266)](_0x32882(0x1de)),_0x18ec62=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5249bb=new Date();_0x5249bb['setHours'](0x0,0x0,0x0,0x0);const _0x4919cc=getLocalDateStr(new Date());for(let _0x2f8058=_0x2d4e26;_0x2f8058<=_0x23ee08;_0x2f8058++){const _0x4c6e3b=new Date(_0x5249bb);_0x4c6e3b[_0x32882(0x1fc)](_0x4c6e3b['getDate']()+_0x2f8058);const _0x56a8d3=getLocalDateStr(_0x4c6e3b);let _0x2870de=_0x4c6e3b[_0x32882(0x1d7)]()-0x1;if(_0x2870de===-0x1)_0x2870de=0x6;const _0x21804a=_0x56a8d3===_0x4919cc,_0x2052bd=document[_0x32882(0x1ba)]('div');_0x2052bd[_0x32882(0x2a7)]=_0x32882(0x218)+(_0x21804a?_0x32882(0x20e):''),_0x2052bd[_0x32882(0x241)]('data-date',_0x56a8d3),_0x2052bd[_0x32882(0x268)]=_0x32882(0x2ab)+_0x18ec62[_0x2870de]+_0x32882(0x226)+_0x4c6e3b['getDate']()+_0x32882(0x22a),_0x5ceece[_0x32882(0x1bd)](_0x2052bd);const _0x5147b4=document['createElement'](_0x32882(0x21b));_0x5147b4['className']=_0x32882(0x234)+(_0x21804a?_0x32882(0x20e):''),_0x5147b4[_0x32882(0x241)](_0x32882(0x228),_0x56a8d3),_0x5147b4[_0x32882(0x241)](_0x32882(0x1fd),_0x2870de),_0x30613b[_0x32882(0x1bd)](_0x5147b4);}}function a3_0x5e0b(){const _0x334de6=['#0a84ff','rs-time-btn','BackButton','coachId','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','saveLocally','client_cancel','timeColumn','getMinutes','keys','then','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','className','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','<div\x20class=\x22rs-day-name\x22>','getTime','<div\x20class=\x22dch-day\x22>','750948JiwPBk','–û—Ç–º–µ–Ω–µ–Ω–æ','width','client_load','entries','offsetLeft','getDate','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','href','stopPropagation','T23:59:59','createElement','analyticsSheet','reschedule','appendChild','.day-col-header','find','–∑–∞\x20','800268rHOIzQ','max','uc_client_list','backgroundPosition','error','toLocaleString','length','insertBefore','offsetWidth','uc_client_sessions','isArray','filter','time-label','rsSlotsGrid','\x20-\x20','substr','colIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-range-part\x20stripe-bg','search','charAt','calendar','getDay','split','top','dateStr','getItem','startsWith','end','gridColumns','apply','onclick','setHeaderColor','none','floor','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','%\x20-\x204px)','start','round','8FJTpYb','\x20—á.','scrollTop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','toLocaleDateString','setItem','clientWidth','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','show','applyData','ru-RU','cancelContainer','rsDatesTrack','coach_profiles','slice','.btn-reschedule','classList','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','18474mjcfGD','ranges','setDate','data-day-idx','onClick','completed','getMonth','querySelectorAll','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','block','strokeDashoffset','data','disableVerticalSwipes','px\x20-','uc_client_settings','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','clients','substring','visible','.period-switch\x20.p-btn','today','matrixViewport','cancel_window','anEnd','querySelector','setHours','v9.5-CLIENT-ANALYTICS','ready','370105SNDckD','.day-column','day-col-header\x20','3392253TIDQuI','firstChild','div','toUpperCase','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rescheduleSheet','note','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','detDate','syncLoad','backgroundColor','week','</div><div\x20class=\x22dch-num\x22>','129HzKZZu','data-date','findIndex','</div>','blocked-slot\x20stripe-bg','now','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','cid','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','day-off-overlay\x20stripe-bg','constructor','offClick','addEventListener','day-column\x20','planned','T00:00:00','customConfirm','WebApp','detNote','seriesId','display','json','DOMContentLoaded','toString','globalTimeLine','sort','setAttribute','textContent','anPercent','analyticsList','anStart','total','color','28nyItaD','pattern','detailsSheet','mini','forEach','ccTitle','timeLineBadge','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','getHours','location','scroll','padStart','(((.+)+)+)+$','left','user','setMonth','month','flex','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','initData','router.html','exceptions','\x20–≤\x20','settings','push','#050505','value','ccYesBtn','getElementById','5796805RMMpbv','innerHTML','status','getAttribute','done','clientId','open','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','calc(','daysHeaderTrack','%\x20+\x202px)','borderLeftColor','scrollTo',':00</span>','map','Error\x20setting\x20color:','log','height','.sheet','var(--acc-blue)','var(--acc-green)','stringify','remove','loadLocal','</span>\x20/\x20','Telegram','.day-col-header[data-date=\x22','.btn-cancel','600','long','parse','join','Critical\x20TMA\x20Error:','px\x200px','min','#ff453a','ccText','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','detStatus','add','style','cancelHint','24609960GxbzFu','get_slots','active','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','overlay','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','createDocumentFragment','getFullYear','Unknown'];a3_0x5e0b=function(){return _0x334de6;};return a3_0x5e0b();}function reRenderBlocks(){const _0x247cae=a3_0x5dd90c;document[_0x247cae(0x201)](_0x247cae(0x217))[_0x247cae(0x24c)](_0x43e839=>{const _0x2e0bf2=_0x247cae;_0x43e839[_0x2e0bf2(0x201)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2e0bf2(0x24c)](_0xaa6dd5=>_0xaa6dd5['remove']());const _0x4aea77=_0x43e839[_0x2e0bf2(0x26a)](_0x2e0bf2(0x228)),_0x66a349=parseInt(_0x43e839[_0x2e0bf2(0x26a)]('data-day-idx')),_0x16a4ff=Math[_0x2e0bf2(0x1e7)](_0x43e839[_0x2e0bf2(0x2b1)]);(availabilityPattern[_0x66a349]||[])[_0x2e0bf2(0x24c)](_0x5f088d=>{const _0x2092a1=_0x2e0bf2,_0xaa52d4=document[_0x2092a1(0x1ba)]('div');_0xaa52d4[_0x2092a1(0x2a7)]=_0x2092a1(0x22b),_0xaa52d4[_0x2092a1(0x290)]['top']=_0x5f088d*GRID_H+'px',_0xaa52d4[_0x2092a1(0x290)]['backgroundPosition']='-'+_0x16a4ff+_0x2092a1(0x207)+_0x5f088d*GRID_H+'px',_0x43e839[_0x2092a1(0x1bd)](_0xaa52d4);});if(specialRanges[_0x2e0bf2(0x1c7)]>0x0){const _0x2b5525=new Date(_0x4aea77+_0x2e0bf2(0x236))['getTime'](),_0x391972=new Date(_0x4aea77+_0x2e0bf2(0x1b9))['getTime']();specialRanges[_0x2e0bf2(0x24c)](_0x2c3d3a=>{const _0x1eee03=_0x2e0bf2,_0x307270=new Date(_0x2c3d3a[_0x1eee03(0x1e6)])['getTime'](),_0x5bff49=new Date(_0x2c3d3a[_0x1eee03(0x1dd)])[_0x1eee03(0x2aa)](),_0x875f24=Math['max'](_0x2b5525,_0x307270),_0x15a882=Math[_0x1eee03(0x289)](_0x391972,_0x5bff49);if(_0x875f24<_0x15a882){const _0x228728=(_0x875f24-_0x2b5525)/0x36ee80*GRID_H,_0x5c5abf=(_0x15a882-_0x875f24)/0x36ee80*GRID_H,_0xf0b27d=document[_0x1eee03(0x1ba)](_0x1eee03(0x21b));_0x5c5abf>=23.5*GRID_H?(_0xf0b27d[_0x1eee03(0x2a7)]=_0x1eee03(0x230),_0xf0b27d['style'][_0x1eee03(0x1c4)]='-'+_0x16a4ff+_0x1eee03(0x288)):(_0xf0b27d[_0x1eee03(0x2a7)]=_0x1eee03(0x1d3),_0xf0b27d['style'][_0x1eee03(0x1d9)]=_0x228728+'px',_0xf0b27d[_0x1eee03(0x290)][_0x1eee03(0x278)]=_0x5c5abf+'px',_0xf0b27d[_0x1eee03(0x290)][_0x1eee03(0x1c4)]='-'+_0x16a4ff+_0x1eee03(0x207)+_0x228728+'px'),_0x43e839[_0x1eee03(0x1bd)](_0xf0b27d);}});}renderEventsForColumn(_0x43e839,_0x4aea77);});}function renderEventsForColumn(_0x44c2ca,_0xf38bf2){const _0x2de6bb=a3_0x5dd90c,_0x501271=sessions[_0x2de6bb(0x1cc)](_0x56c0d4=>_0x56c0d4[_0x2de6bb(0x1da)]===_0xf38bf2),_0x61a871=_0x501271['map'](_0x3f6c10=>{const _0x2837f7=_0x2de6bb,[_0x2cf3eb,_0xf8d08f]=_0x3f6c10[_0x2837f7(0x1e6)]['split'](':')[_0x2837f7(0x275)](Number),[_0x3da6d6,_0x5371a4]=_0x3f6c10[_0x2837f7(0x1dd)][_0x2837f7(0x1d8)](':')['map'](Number);return{'data':_0x3f6c10,'start':_0x2cf3eb*0x3c+_0xf8d08f,'end':_0x3da6d6*0x3c+_0x5371a4,'colIndex':0x0};});_0x61a871[_0x2de6bb(0x240)]((_0x4b4902,_0x3a9bec)=>_0x4b4902[_0x2de6bb(0x1e6)]-_0x3a9bec[_0x2de6bb(0x1e6)]||_0x3a9bec['end']-_0x3a9bec['start']-(_0x4b4902[_0x2de6bb(0x1dd)]-_0x4b4902[_0x2de6bb(0x1e6)]));const _0x5a9c0c=[];_0x61a871['forEach'](_0x5380fe=>{const _0x1578eb=_0x2de6bb;let _0xbfd3e4=![];for(let _0x18c188=0x0;_0x18c188<_0x5a9c0c['length'];_0x18c188++){const _0x1df3d4=_0x5a9c0c[_0x18c188];if(_0x5380fe[_0x1578eb(0x1e6)]>=_0x1df3d4[_0x1df3d4[_0x1578eb(0x1c7)]-0x1]['end']){_0x1df3d4['push'](_0x5380fe),_0x5380fe[_0x1578eb(0x1d1)]=_0x18c188,_0xbfd3e4=!![];break;}}!_0xbfd3e4&&(_0x5a9c0c[_0x1578eb(0x262)]([_0x5380fe]),_0x5380fe[_0x1578eb(0x1d1)]=_0x5a9c0c[_0x1578eb(0x1c7)]-0x1);}),_0x61a871[_0x2de6bb(0x24c)](_0x493589=>{const _0x179d0d=_0x2de6bb;let _0x80a5f4=0x0;_0x61a871[_0x179d0d(0x24c)](_0x1a3da3=>{const _0x9ed1f3=_0x179d0d;if(Math[_0x9ed1f3(0x1c2)](_0x493589[_0x9ed1f3(0x1e6)],_0x1a3da3[_0x9ed1f3(0x1e6)])<Math[_0x9ed1f3(0x289)](_0x493589[_0x9ed1f3(0x1dd)],_0x1a3da3[_0x9ed1f3(0x1dd)])&&_0x1a3da3[_0x9ed1f3(0x1d1)]>_0x80a5f4)_0x80a5f4=_0x1a3da3[_0x9ed1f3(0x1d1)];});const _0x41bdad=_0x80a5f4+0x1,_0x35ca31=0x64/_0x41bdad,_0xc73aa3=_0x493589[_0x179d0d(0x1d1)]*_0x35ca31,_0x1a04d0=document[_0x179d0d(0x1ba)](_0x179d0d(0x21b)),_0x47c327=_0x493589[_0x179d0d(0x205)];let _0x4ea63e=_0x179d0d(0x29b);if(clients&&clients[_0x179d0d(0x1c7)]>0x0){const _0x138662=clients[_0x179d0d(0x1bf)](_0x1ab7bd=>String(_0x1ab7bd['id'])===String(_0x47c327[_0x179d0d(0x26c)]));if(_0x138662&&_0x138662['color'])_0x4ea63e=_0x138662['color'];}const _0x4c4ebd=_0x47c327[_0x179d0d(0x269)]===_0x179d0d(0x1ff),_0x484de5=_0x4c4ebd?0x1:0.45;_0x1a04d0[_0x179d0d(0x2a7)]='event-card'+(_0x4c4ebd?'\x20status-completed':''),_0x1a04d0[_0x179d0d(0x290)][_0x179d0d(0x224)]=hexToRgba(_0x4ea63e,_0x484de5),_0x1a04d0[_0x179d0d(0x290)]['borderLeftColor']=_0x4ea63e;const _0x26ca68=_0x493589[_0x179d0d(0x1e6)]/0x3c*GRID_H,_0x588246=(_0x493589['end']-_0x493589[_0x179d0d(0x1e6)])/0x3c*GRID_H;_0x1a04d0['style'][_0x179d0d(0x1d9)]=_0x26ca68+'px',_0x1a04d0['style'][_0x179d0d(0x278)]=Math['max'](_0x588246,0x14)+'px',_0x1a04d0[_0x179d0d(0x290)][_0x179d0d(0x2ae)]=_0x179d0d(0x26f)+_0x35ca31+_0x179d0d(0x1e5),_0x1a04d0[_0x179d0d(0x290)][_0x179d0d(0x255)]=_0x179d0d(0x26f)+_0xc73aa3+_0x179d0d(0x271),_0x1a04d0[_0x179d0d(0x290)]['zIndex']=0xa+_0x493589[_0x179d0d(0x1d1)];if(_0x35ca31<0x55)_0x1a04d0[_0x179d0d(0x1f8)][_0x179d0d(0x28f)](_0x179d0d(0x24b));let _0x2c4b06='';if(_0x47c327[_0x179d0d(0x23a)])_0x2c4b06+=_0x179d0d(0x295);if(_0x4c4ebd)_0x2c4b06+=_0x179d0d(0x21d);_0x1a04d0['innerHTML']=_0x179d0d(0x2b4)+_0x47c327['start']+_0x179d0d(0x1cf)+_0x47c327['end']+_0x179d0d(0x1d2)+_0x2c4b06+_0x179d0d(0x28d),_0x1a04d0[_0x179d0d(0x1e0)]=_0x23510c=>{const _0x4ba5c1=_0x179d0d;_0x23510c[_0x4ba5c1(0x2b6)](),openDetails(_0x47c327);},_0x44c2ca[_0x179d0d(0x1bd)](_0x1a04d0);});}function openAnalytics(){const _0x1accb6=a3_0x5dd90c,_0x18e6a3=document[_0x1accb6(0x212)](_0x1accb6(0x20d));setAnalyticsPeriod('week',_0x18e6a3),openSheet(_0x1accb6(0x1bb));}function setAnalyticsPeriod(_0x3ee8cf,_0x517a36){const _0x4b32f4=a3_0x5dd90c;currentAnPeriod=_0x3ee8cf,document['querySelectorAll'](_0x4b32f4(0x20d))[_0x4b32f4(0x24c)](_0x108083=>_0x108083['classList']['remove'](_0x4b32f4(0x294)));if(_0x517a36)_0x517a36[_0x4b32f4(0x1f8)][_0x4b32f4(0x28f)](_0x4b32f4(0x294));const _0x481a7d=document[_0x4b32f4(0x266)]('anCustomDates');_0x481a7d[_0x4b32f4(0x290)][_0x4b32f4(0x23b)]=_0x3ee8cf==='custom'?_0x4b32f4(0x259):_0x4b32f4(0x1e2);const _0x1a4d8a=new Date();let _0x329f99=new Date(),_0x45578a=new Date();if(_0x3ee8cf===_0x4b32f4(0x225))_0x329f99=getStartOfWeek(_0x1a4d8a),_0x45578a=new Date(_0x329f99),_0x45578a[_0x4b32f4(0x1fc)](_0x45578a['getDate']()+0x6);else{if(_0x3ee8cf===_0x4b32f4(0x258))_0x329f99=new Date(_0x1a4d8a['getFullYear'](),_0x1a4d8a[_0x4b32f4(0x200)](),0x1),_0x45578a=new Date(_0x1a4d8a[_0x4b32f4(0x299)](),_0x1a4d8a['getMonth']()+0x1,0x0);else{!document[_0x4b32f4(0x266)](_0x4b32f4(0x245))[_0x4b32f4(0x264)]&&(document[_0x4b32f4(0x266)](_0x4b32f4(0x245))['value']=getLocalDateStr(_0x1a4d8a),document[_0x4b32f4(0x266)](_0x4b32f4(0x211))['value']=getLocalDateStr(_0x1a4d8a));refreshAnalytics();return;}}document[_0x4b32f4(0x266)](_0x4b32f4(0x245))[_0x4b32f4(0x264)]=getLocalDateStr(_0x329f99),document['getElementById'](_0x4b32f4(0x211))[_0x4b32f4(0x264)]=getLocalDateStr(_0x45578a),refreshAnalytics();}function refreshAnalytics(){const _0x4954e1=a3_0x5dd90c,_0x38b71c=document[_0x4954e1(0x266)](_0x4954e1(0x245))['value'],_0x233e60=document[_0x4954e1(0x266)](_0x4954e1(0x211))[_0x4954e1(0x264)];if(!_0x38b71c||!_0x233e60)return;const _0x41e26a=sessions['filter'](_0x1b1055=>_0x1b1055['dateStr']>=_0x38b71c&&_0x1b1055[_0x4954e1(0x1da)]<=_0x233e60&&_0x1b1055[_0x4954e1(0x269)]!=='cancelled'),_0x31ae6b=_0x41e26a[_0x4954e1(0x1c7)],_0x31b885=_0x41e26a[_0x4954e1(0x1cc)](_0x2c8a29=>_0x2c8a29[_0x4954e1(0x269)]===_0x4954e1(0x1ff))[_0x4954e1(0x1c7)],_0x1e7247=_0x31ae6b>0x0?Math[_0x4954e1(0x1e7)](_0x31b885/_0x31ae6b*0x64):0x0;document['getElementById'](_0x4954e1(0x243))[_0x4954e1(0x242)]=_0x1e7247+'%',document[_0x4954e1(0x266)]('anTotalStats')[_0x4954e1(0x242)]=_0x31b885+'\x20–∏–∑\x20'+_0x31ae6b+_0x4954e1(0x26e);const _0x1c9bb6=document[_0x4954e1(0x266)]('anDonutCircle'),_0x15e61d=0x2*Math['PI']*0x23,_0x18e068=_0x15e61d-_0x1e7247/0x64*_0x15e61d;_0x1c9bb6[_0x4954e1(0x290)][_0x4954e1(0x204)]=_0x18e068;const _0x276cf6={};_0x41e26a[_0x4954e1(0x24c)](_0x413355=>{const _0x1ca251=_0x4954e1,_0x4d7325=_0x413355['coachId']||_0x1ca251(0x29a);if(!_0x276cf6[_0x4d7325]){const _0x245eda='#'+_0x4d7325[_0x1ca251(0x23e)]()[_0x1ca251(0x1d0)](0x0,0x6);_0x276cf6[_0x4d7325]={'total':0x0,'done':0x0,'color':_0x245eda};}_0x276cf6[_0x4d7325][_0x1ca251(0x246)]++;if(_0x413355[_0x1ca251(0x269)]===_0x1ca251(0x1ff))_0x276cf6[_0x4d7325][_0x1ca251(0x26b)]++;});const _0x3f55d2=document[_0x4954e1(0x266)](_0x4954e1(0x244));_0x3f55d2['innerHTML']='';const _0x50379b=Object[_0x4954e1(0x2b0)](_0x276cf6)[_0x4954e1(0x240)]((_0x545567,_0x5da785)=>_0x5da785[0x1][_0x4954e1(0x246)]-_0x545567[0x1][_0x4954e1(0x246)]);if(_0x50379b[_0x4954e1(0x1c7)]===0x0){_0x3f55d2[_0x4954e1(0x268)]=_0x4954e1(0x297);return;}_0x50379b[_0x4954e1(0x24c)](([_0x1a7da3,_0xf7cfc9])=>{const _0x10062d=_0x4954e1,_0xb481d0=Math['round'](_0xf7cfc9[_0x10062d(0x26b)]/_0xf7cfc9['total']*0x64),_0x2fc599=document['createElement'](_0x10062d(0x21b));_0x2fc599[_0x10062d(0x2a7)]='client-stat-card',_0x2fc599[_0x10062d(0x290)][_0x10062d(0x272)]=_0xf7cfc9[_0x10062d(0x247)],_0x2fc599[_0x10062d(0x268)]=_0x10062d(0x1eb)+_0x1a7da3[_0x10062d(0x1d0)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0xf7cfc9[_0x10062d(0x26b)]+_0x10062d(0x27f)+_0xf7cfc9[_0x10062d(0x246)]+_0x10062d(0x2a6)+_0xb481d0+_0x10062d(0x25a),_0x3f55d2['appendChild'](_0x2fc599);});}function openDetails(_0x56fa56){const _0x286ccf=a3_0x5dd90c;currentSession=_0x56fa56;const _0x4e343f=new Date(_0x56fa56[_0x286ccf(0x1da)]),_0x145010=_0x4e343f['toLocaleDateString'](_0x286ccf(0x1f2),{'weekday':_0x286ccf(0x284),'day':_0x286ccf(0x2b3),'month':'long'});document[_0x286ccf(0x266)](_0x286ccf(0x222))[_0x286ccf(0x242)]=_0x145010[_0x286ccf(0x1d5)](0x0)[_0x286ccf(0x21c)]()+_0x145010[_0x286ccf(0x1f6)](0x1),document[_0x286ccf(0x266)]('detTime')[_0x286ccf(0x242)]=_0x56fa56[_0x286ccf(0x1e6)]+_0x286ccf(0x1cf)+_0x56fa56['end'],document[_0x286ccf(0x266)](_0x286ccf(0x239))[_0x286ccf(0x242)]=_0x56fa56[_0x286ccf(0x21f)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x26e0cd=document['getElementById'](_0x286ccf(0x28e)),_0x56823b=document[_0x286ccf(0x266)](_0x286ccf(0x1f3)),_0x559341=_0x56823b[_0x286ccf(0x212)](_0x286ccf(0x282)),_0x288b23=_0x56823b[_0x286ccf(0x212)](_0x286ccf(0x1f7)),_0xb5cc54=document[_0x286ccf(0x266)](_0x286ccf(0x291));if(_0x56fa56[_0x286ccf(0x269)]===_0x286ccf(0x1ff))_0x26e0cd['textContent']=_0x286ccf(0x220),_0x26e0cd[_0x286ccf(0x290)]['color']=_0x286ccf(0x27b),_0x56823b[_0x286ccf(0x290)][_0x286ccf(0x23b)]='none';else{_0x26e0cd[_0x286ccf(0x242)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x26e0cd['style']['color']=_0x286ccf(0x27a),_0x56823b[_0x286ccf(0x290)]['display']=_0x286ccf(0x203);const _0x507d93=new Date(_0x56fa56[_0x286ccf(0x1da)]+'T'+_0x56fa56['start']),_0x1099b9=new Date(),_0x5ae4e0=(_0x507d93-_0x1099b9)/(0x3e8*0x3c*0x3c),_0x4d502f=coachProfiles[_0x56fa56[_0x286ccf(0x29e)]]&&coachProfiles[_0x56fa56[_0x286ccf(0x29e)]][_0x286ccf(0x210)]?parseInt(coachProfiles[_0x56fa56['coachId']][_0x286ccf(0x210)]):0x18;if(_0x4d502f===0x0||_0x5ae4e0>=_0x4d502f)_0x559341[_0x286ccf(0x290)]['display']=_0x286ccf(0x203),_0x288b23[_0x286ccf(0x290)][_0x286ccf(0x23b)]=_0x286ccf(0x203),_0xb5cc54[_0x286ccf(0x290)]['display']=_0x286ccf(0x1e2);else{_0x559341[_0x286ccf(0x290)][_0x286ccf(0x23b)]=_0x286ccf(0x1e2),_0x288b23[_0x286ccf(0x290)]['display']=_0x286ccf(0x1e2),_0xb5cc54[_0x286ccf(0x290)]['display']=_0x286ccf(0x203);let _0x53c76e=_0x4d502f===0x0?_0x286ccf(0x24f):_0x286ccf(0x1c0)+_0x4d502f+_0x286ccf(0x1e9);_0xb5cc54[_0x286ccf(0x242)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x53c76e+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x286ccf(0x266)](_0x286ccf(0x296))[_0x286ccf(0x1f8)][_0x286ccf(0x28f)](_0x286ccf(0x294)),document[_0x286ccf(0x266)]('detailsSheet')[_0x286ccf(0x1f8)]['add'](_0x286ccf(0x26d));}function closeAllSheets(){const _0xc1b9a=a3_0x5dd90c;document['getElementById'](_0xc1b9a(0x296))[_0xc1b9a(0x1f8)][_0xc1b9a(0x27d)](_0xc1b9a(0x294)),document[_0xc1b9a(0x201)](_0xc1b9a(0x279))[_0xc1b9a(0x24c)](_0x5109e7=>_0x5109e7['classList'][_0xc1b9a(0x27d)](_0xc1b9a(0x26d)));}function openSheet(_0x52c3ba){const _0x79ab14=a3_0x5dd90c;document[_0x79ab14(0x266)](_0x79ab14(0x296))[_0x79ab14(0x1f8)][_0x79ab14(0x28f)](_0x79ab14(0x294)),document[_0x79ab14(0x266)](_0x52c3ba)[_0x79ab14(0x1f8)][_0x79ab14(0x28f)]('open');}function getLocalDateStr(_0x5c271c){const _0x29de64=a3_0x5dd90c,_0x1028fd=_0x5c271c[_0x29de64(0x299)](),_0x3eee55=String(_0x5c271c[_0x29de64(0x200)]()+0x1)[_0x29de64(0x253)](0x2,'0'),_0x2adba6=String(_0x5c271c[_0x29de64(0x2b2)]())['padStart'](0x2,'0');return _0x1028fd+'-'+_0x3eee55+'-'+_0x2adba6;}function getStartOfWeek(_0x3e92e2){const _0x315100=a3_0x5dd90c,_0x1ccec6=new Date(_0x3e92e2),_0x4ddeb7=_0x1ccec6[_0x315100(0x1d7)](),_0x206713=_0x1ccec6[_0x315100(0x2b2)]()-_0x4ddeb7+(_0x4ddeb7===0x0?-0x6:0x1);return _0x1ccec6[_0x315100(0x1fc)](_0x206713),_0x1ccec6['setHours'](0x0,0x0,0x0,0x0),_0x1ccec6;}function scrollToToday(){const _0x49fe42=getLocalDateStr(new Date());setTimeout(()=>{const _0x13b632=a3_0x6d82,_0x448dcd=document[_0x13b632(0x212)](_0x13b632(0x281)+_0x49fe42+'\x22]');if(_0x448dcd){const _0x985d87=document[_0x13b632(0x266)](_0x13b632(0x20f)),_0x2151b5=_0x448dcd[_0x13b632(0x2b1)]-_0x985d87[_0x13b632(0x1ee)]/0x2+_0x448dcd[_0x13b632(0x1c9)]/0x2;_0x985d87[_0x13b632(0x273)]({'left':_0x2151b5,'behavior':'auto'}),_0x985d87[_0x13b632(0x1ea)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x167959=a3_0x5dd90c,_0x1fe851=new Date(),_0x3e0dcd=document[_0x167959(0x266)](_0x167959(0x23f)),_0x35f32d=document[_0x167959(0x266)](_0x167959(0x24e)),_0x14313c=(_0x1fe851['getHours']()*0x3c+_0x1fe851[_0x167959(0x2a3)]())/0x3c*GRID_H;_0x3e0dcd['style'][_0x167959(0x1d9)]=_0x14313c+'px',_0x3e0dcd[_0x167959(0x290)][_0x167959(0x23b)]=_0x167959(0x203),_0x35f32d[_0x167959(0x290)][_0x167959(0x1d9)]=_0x14313c+'px',_0x35f32d[_0x167959(0x290)][_0x167959(0x23b)]=_0x167959(0x203),_0x35f32d[_0x167959(0x242)]=String(_0x1fe851[_0x167959(0x250)]())[_0x167959(0x253)](0x2,'0')+':'+String(_0x1fe851[_0x167959(0x2a3)]())['padStart'](0x2,'0');}function onScroll(){const _0x101f4c=a3_0x5dd90c,_0x1d12bf=document['getElementById'](_0x101f4c(0x20f)),_0x6d79bb=document[_0x101f4c(0x201)](_0x101f4c(0x1be));for(let _0x5e20f7 of _0x6d79bb)if(_0x5e20f7[_0x101f4c(0x2b1)]>=_0x1d12bf['scrollLeft']){const _0x5b0cb3=new Date(_0x5e20f7['getAttribute'](_0x101f4c(0x228)));document[_0x101f4c(0x266)]('headerMonth')[_0x101f4c(0x242)]=_0x5b0cb3[_0x101f4c(0x1c6)]('ru',{'month':_0x101f4c(0x284)})['toUpperCase']()+'\x20'+_0x5b0cb3[_0x101f4c(0x299)]();break;}}function showToast(_0xdb0e3c){const _0x5c3166=a3_0x5dd90c,_0x777ab6=document[_0x5c3166(0x266)]('toast');_0x777ab6[_0x5c3166(0x242)]=_0xdb0e3c,_0x777ab6[_0x5c3166(0x1f8)][_0x5c3166(0x28f)](_0x5c3166(0x1f0)),setTimeout(()=>_0x777ab6[_0x5c3166(0x1f8)]['remove'](_0x5c3166(0x1f0)),0x7d0);}function a3_0x6d82(_0x469fe9,_0x58fabd){_0x469fe9=_0x469fe9-0x1b9;const _0x147023=a3_0x5e0b();let _0x55e370=_0x147023[_0x469fe9];return _0x55e370;}function handleInfiniteScroll(){const _0x388339=a3_0x5dd90c,_0x1bc236=document[_0x388339(0x266)](_0x388339(0x20f)),_0x5d7d8e=_0x1bc236['scrollLeft'],_0x44a2e6=_0x1bc236['scrollWidth'],_0x1aee18=_0x1bc236['clientWidth'];if(_0x44a2e6-(_0x5d7d8e+_0x1aee18)<0x12c){const _0x969109=endOffset;endOffset+=0xe,renderDayRange(_0x969109+0x1,endOffset),reRenderBlocks();}if(_0x5d7d8e<0x12c){const _0x35dd6f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x35dd6f-0x1),_0x1bc236['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1b2558,_0x5c707d){const _0x5f0429=a3_0x5dd90c,_0x123254=document[_0x5f0429(0x266)](_0x5f0429(0x270)),_0x30d46b=document[_0x5f0429(0x266)](_0x5f0429(0x1de)),_0x801271=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4b7a94=new Date();_0x4b7a94[_0x5f0429(0x213)](0x0,0x0,0x0,0x0);const _0x57a5ef=getLocalDateStr(new Date()),_0x5164a0=document['createDocumentFragment'](),_0x577c4f=document[_0x5f0429(0x298)]();for(let _0x28fcf4=_0x1b2558;_0x28fcf4<=_0x5c707d;_0x28fcf4++){const _0x27ac68=new Date(_0x4b7a94);_0x27ac68[_0x5f0429(0x1fc)](_0x27ac68['getDate']()+_0x28fcf4);const _0x3d6f9f=getLocalDateStr(_0x27ac68);let _0x19d228=_0x27ac68[_0x5f0429(0x1d7)]()-0x1;if(_0x19d228===-0x1)_0x19d228=0x6;const _0x360fc6=_0x3d6f9f===_0x57a5ef,_0x3d3930=document[_0x5f0429(0x1ba)](_0x5f0429(0x21b));_0x3d3930[_0x5f0429(0x2a7)]='day-col-header\x20'+(_0x360fc6?_0x5f0429(0x20e):''),_0x3d3930['setAttribute'](_0x5f0429(0x228),_0x3d6f9f),_0x3d3930['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x801271[_0x19d228]+_0x5f0429(0x226)+_0x27ac68[_0x5f0429(0x2b2)]()+_0x5f0429(0x22a),_0x5164a0[_0x5f0429(0x1bd)](_0x3d3930);const _0x5b7b83=document[_0x5f0429(0x1ba)]('div');_0x5b7b83[_0x5f0429(0x2a7)]=_0x5f0429(0x234)+(_0x360fc6?_0x5f0429(0x20e):''),_0x5b7b83[_0x5f0429(0x241)](_0x5f0429(0x228),_0x3d6f9f),_0x5b7b83[_0x5f0429(0x241)](_0x5f0429(0x1fd),_0x19d228),_0x577c4f[_0x5f0429(0x1bd)](_0x5b7b83);}_0x123254[_0x5f0429(0x1c8)](_0x5164a0,_0x123254[_0x5f0429(0x21a)]),_0x30d46b[_0x5f0429(0x1c8)](_0x577c4f,_0x30d46b[_0x5f0429(0x212)](_0x5f0429(0x217)));}function hexToRgba(_0x510eb4,_0xa841f4){const _0x15593f=a3_0x5dd90c;let _0x139302;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x15593f(0x25b)](_0x510eb4))return _0x139302=_0x510eb4[_0x15593f(0x20b)](0x1)[_0x15593f(0x1d8)](''),_0x139302['length']==0x3&&(_0x139302=[_0x139302[0x0],_0x139302[0x0],_0x139302[0x1],_0x139302[0x1],_0x139302[0x2],_0x139302[0x2]]),_0x139302='0x'+_0x139302[_0x15593f(0x286)](''),'rgba('+[_0x139302>>0x10&0xff,_0x139302>>0x8&0xff,_0x139302&0xff]['join'](',')+','+_0xa841f4+')';return'rgba(10,\x20132,\x20255,\x20'+_0xa841f4+')';}let confirmResolver=null;function showCustomConfirm(_0x54b774,_0x352877,_0x3fb67b=!![]){const _0x5bbe8a=a3_0x5dd90c;document[_0x5bbe8a(0x266)](_0x5bbe8a(0x24d))['textContent']=_0x54b774,document[_0x5bbe8a(0x266)](_0x5bbe8a(0x28b))['textContent']=_0x352877;const _0x3e0acd=document[_0x5bbe8a(0x266)](_0x5bbe8a(0x265));return _0x3fb67b?(_0x3e0acd[_0x5bbe8a(0x290)]['color']=_0x5bbe8a(0x28a),_0x3e0acd[_0x5bbe8a(0x290)]['fontWeight']='600'):(_0x3e0acd[_0x5bbe8a(0x290)]['color']=_0x5bbe8a(0x29b),_0x3e0acd[_0x5bbe8a(0x290)]['fontWeight']=_0x5bbe8a(0x283)),new Promise(_0x5aa3bc=>{const _0x345e45=_0x5bbe8a;confirmResolver=_0x5aa3bc,document['getElementById'](_0x345e45(0x237))[_0x345e45(0x1f8)]['add'](_0x345e45(0x20c));});}function resolveCustomConfirm(_0x3ab319){const _0x4280b4=a3_0x5dd90c;document[_0x4280b4(0x266)](_0x4280b4(0x237))['classList'][_0x4280b4(0x27d)]('visible');if(confirmResolver)confirmResolver(_0x3ab319);}async function tryCancelCurrentSession(){const _0x1c0f92=a3_0x5dd90c;if(!currentSession)return;const _0x4caa51=await showCustomConfirm(_0x1c0f92(0x22d),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x4caa51)return;const _0x553158=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x1b47e0=>_0x1b47e0['id']!==_0x553158['id']),reRenderBlocks(),showToast(_0x1c0f92(0x2ad)),lastUserActionTime=Date[_0x1c0f92(0x22c)]();try{const _0x23718c=window[_0x1c0f92(0x280)]?.['WebApp'],_0x483d12=await fetch(API_URL,{'method':_0x1c0f92(0x28c),'body':JSON[_0x1c0f92(0x27c)]({'action':_0x1c0f92(0x2a1),'init_data':_0x23718c?.[_0x1c0f92(0x25d)]||'','coachId':_0x553158[_0x1c0f92(0x29e)],'dateStr':_0x553158['dateStr'],'sessionId':_0x553158['id']})});if(_0x483d12['ok'])DataManager[_0x1c0f92(0x2a0)]();}catch(_0x10a959){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x327edf=a3_0x5dd90c;if(!currentSession)return;document['getElementById'](_0x327edf(0x24a))[_0x327edf(0x1f8)][_0x327edf(0x27d)](_0x327edf(0x26d)),document['getElementById'](_0x327edf(0x21e))[_0x327edf(0x1f8)][_0x327edf(0x28f)](_0x327edf(0x26d));const _0x37fb07=document[_0x327edf(0x266)](_0x327edf(0x1f4)),_0x201eea=document[_0x327edf(0x266)](_0x327edf(0x1ce));_0x37fb07['innerHTML']='',_0x201eea[_0x327edf(0x268)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x55d909,_0x1b6afd]=currentSession['start'][_0x327edf(0x1d8)](':')[_0x327edf(0x275)](Number),[_0x5cd550,_0x46089d]=currentSession['end'][_0x327edf(0x1d8)](':')[_0x327edf(0x275)](Number),_0x39ceb0=_0x5cd550*0x3c+_0x46089d-(_0x55d909*0x3c+_0x1b6afd);try{const _0x228371=window[_0x327edf(0x280)]?.[_0x327edf(0x238)],_0x401134=await fetch(API_URL,{'method':_0x327edf(0x28c),'body':JSON[_0x327edf(0x27c)]({'action':_0x327edf(0x293),'coachId':currentSession[_0x327edf(0x29e)],'duration':_0x39ceb0,'init_data':_0x228371?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x494e5d=await _0x401134[_0x327edf(0x23c)]();_0x494e5d['ok']&&_0x494e5d[_0x327edf(0x205)]?(availableSlotsCache=_0x494e5d[_0x327edf(0x205)],renderRescheduleDates()):_0x201eea[_0x327edf(0x268)]=_0x327edf(0x1ef);}catch(_0x1c8b45){_0x201eea[_0x327edf(0x268)]=_0x327edf(0x1e4);}}function renderRescheduleDates(){const _0x5310f0=a3_0x5dd90c,_0x4015ea=document[_0x5310f0(0x266)](_0x5310f0(0x1f4));_0x4015ea[_0x5310f0(0x268)]='';const _0x4e95ba=Object[_0x5310f0(0x2a4)](availableSlotsCache)[_0x5310f0(0x240)](),_0x36ecdf=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4e95ba[_0x5310f0(0x1c7)]===0x0){document[_0x5310f0(0x266)](_0x5310f0(0x1ce))['innerHTML']=_0x5310f0(0x209);return;}_0x4e95ba[_0x5310f0(0x24c)]((_0x22fdd0,_0x4e61ab)=>{const _0x5f17b9=_0x5310f0,_0x42f814=new Date(_0x22fdd0),_0x166321=_0x36ecdf[_0x42f814[_0x5f17b9(0x1d7)]()],_0x345f62=_0x42f814[_0x5f17b9(0x2b2)](),_0xe76337=document[_0x5f17b9(0x1ba)]('div');_0xe76337['className']='rs-date-chip';if(_0x4e61ab===0x0)_0xe76337[_0x5f17b9(0x1f8)][_0x5f17b9(0x28f)](_0x5f17b9(0x294));_0xe76337['innerHTML']=_0x5f17b9(0x2a9)+_0x166321+'</div><div\x20class=\x22rs-day-num\x22>'+_0x345f62+_0x5f17b9(0x22a),_0xe76337[_0x5f17b9(0x1e0)]=()=>selectRsDate(_0x22fdd0,_0xe76337),_0x4015ea[_0x5f17b9(0x1bd)](_0xe76337);}),selectRsDate(_0x4e95ba[0x0],_0x4015ea[_0x5310f0(0x21a)]);}function selectRsDate(_0x5c254d,_0x208107){const _0x2ff6cf=a3_0x5dd90c;selectedRsDate=_0x5c254d,document[_0x2ff6cf(0x201)]('.rs-date-chip')[_0x2ff6cf(0x24c)](_0x341066=>_0x341066['classList'][_0x2ff6cf(0x27d)](_0x2ff6cf(0x294)));if(_0x208107)_0x208107[_0x2ff6cf(0x1f8)][_0x2ff6cf(0x28f)]('active');const _0x1fba6a=document[_0x2ff6cf(0x266)]('rsSlotsGrid');_0x1fba6a[_0x2ff6cf(0x268)]='';const _0x1c1392=availableSlotsCache[_0x5c254d]||[];if(_0x1c1392[_0x2ff6cf(0x1c7)]===0x0){_0x1fba6a['innerHTML']=_0x2ff6cf(0x1ef);return;}_0x1c1392[_0x2ff6cf(0x24c)](_0x4289ad=>{const _0x2eb24d=_0x2ff6cf,_0x25fb9c=document[_0x2eb24d(0x1ba)]('button');_0x25fb9c[_0x2eb24d(0x2a7)]=_0x2eb24d(0x29c),_0x25fb9c[_0x2eb24d(0x242)]=_0x4289ad,_0x25fb9c['onclick']=()=>confirmReschedule(_0x4289ad),_0x1fba6a[_0x2eb24d(0x1bd)](_0x25fb9c);});}async function confirmReschedule(_0x24eec5){const _0x45a4ce=a3_0x5dd90c,_0x84cd0a=new Date(selectedRsDate),_0x269199=_0x84cd0a[_0x45a4ce(0x1ec)]('ru-RU',{'day':'numeric','month':_0x45a4ce(0x284)}),_0x5e5e39=await showCustomConfirm(_0x45a4ce(0x25c),_0x45a4ce(0x202)+_0x269199+_0x45a4ce(0x260)+_0x24eec5+'?',![]);if(!_0x5e5e39)return;closeAllSheets(),showToast(_0x45a4ce(0x221)),lastUserActionTime=Date['now']();const _0x21acda=currentSession['dateStr'],_0x1347f0=currentSession['id'],[_0x4274b4,_0x235560]=currentSession['start'][_0x45a4ce(0x1d8)](':')[_0x45a4ce(0x275)](Number),[_0x5d4f0a,_0x1a11dc]=currentSession[_0x45a4ce(0x1dd)]['split'](':')[_0x45a4ce(0x275)](Number),_0x338b6d=_0x5d4f0a*0x3c+_0x1a11dc-(_0x4274b4*0x3c+_0x235560),[_0xf34f8c,_0x515833]=_0x24eec5['split'](':')[_0x45a4ce(0x275)](Number),_0x542469=_0xf34f8c*0x3c+_0x515833+_0x338b6d,_0x22fd0f=Math[_0x45a4ce(0x1e3)](_0x542469/0x3c),_0x5722b7=_0x542469%0x3c,_0x35cea6=String(_0x22fd0f)['padStart'](0x2,'0')+':'+String(_0x5722b7)[_0x45a4ce(0x253)](0x2,'0'),_0x3ee44f=sessions[_0x45a4ce(0x229)](_0x1b68ba=>_0x1b68ba['id']===_0x1347f0);_0x3ee44f!==-0x1&&(sessions[_0x3ee44f]['dateStr']=selectedRsDate,sessions[_0x3ee44f][_0x45a4ce(0x1e6)]=_0x24eec5,sessions[_0x3ee44f][_0x45a4ce(0x1dd)]=_0x35cea6,reRenderBlocks());try{const _0x378748=window[_0x45a4ce(0x280)]?.[_0x45a4ce(0x238)],_0x348a1e=await fetch(API_URL,{'method':'POST','body':JSON[_0x45a4ce(0x27c)]({'action':_0x45a4ce(0x1bc),'init_data':_0x378748?.[_0x45a4ce(0x25d)]||'','oldSessionId':_0x1347f0,'oldDate':_0x21acda,'newDate':selectedRsDate,'newTime':_0x24eec5,'coachId':currentSession[_0x45a4ce(0x29e)]})}),_0x243bbc=await _0x348a1e[_0x45a4ce(0x23c)]();!_0x243bbc['ok']?(showToast(_0x45a4ce(0x22f)),DataManager[_0x45a4ce(0x223)]()):(showToast(_0x45a4ce(0x29f)),DataManager[_0x45a4ce(0x2a0)]());}catch(_0x8c4f95){showToast(_0x45a4ce(0x2a8));}}document[a3_0x5dd90c(0x233)](a3_0x5dd90c(0x23d),init);