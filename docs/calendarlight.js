const a3_0x5cb4ed=a3_0xd9e3;(function(_0x2185fa,_0x2e62f3){const _0x169630=a3_0xd9e3,_0x4ca48b=_0x2185fa();while(!![]){try{const _0x131056=-parseInt(_0x169630(0x24e))/0x1*(-parseInt(_0x169630(0x23a))/0x2)+-parseInt(_0x169630(0x280))/0x3*(-parseInt(_0x169630(0x1d6))/0x4)+parseInt(_0x169630(0x19b))/0x5*(-parseInt(_0x169630(0x228))/0x6)+-parseInt(_0x169630(0x1e9))/0x7*(-parseInt(_0x169630(0x1c7))/0x8)+-parseInt(_0x169630(0x271))/0x9+parseInt(_0x169630(0x18e))/0xa*(parseInt(_0x169630(0x19e))/0xb)+-parseInt(_0x169630(0x247))/0xc;if(_0x131056===_0x2e62f3)break;else _0x4ca48b['push'](_0x4ca48b['shift']());}catch(_0x1257b4){_0x4ca48b['push'](_0x4ca48b['shift']());}}}(a3_0x2703,0x879c0));const APP_VERSION=a3_0x5cb4ed(0x264),API_URL=a3_0x5cb4ed(0x1b3),GRID_H=0x3c,KEY_SESSIONS=a3_0x5cb4ed(0x236),KEY_SETTINGS=a3_0x5cb4ed(0x188),KEY_CLIENTS=a3_0x5cb4ed(0x25c);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5cb4ed(0x1d8),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x21e3f8=a3_0x5cb4ed,_0x32fe93=(function(){let _0x24a44f=!![];return function(_0x564128,_0x3df439){const _0x3b13db=_0x24a44f?function(){const _0x2a6689=a3_0xd9e3;if(_0x3df439){const _0x212577=_0x3df439[_0x2a6689(0x20c)](_0x564128,arguments);return _0x3df439=null,_0x212577;}}:function(){};return _0x24a44f=![],_0x3b13db;};}()),_0x328e61=_0x32fe93(this,function(){const _0x125a2e=a3_0xd9e3;return _0x328e61[_0x125a2e(0x1a8)]()[_0x125a2e(0x215)](_0x125a2e(0x27a))[_0x125a2e(0x1a8)]()[_0x125a2e(0x1d2)](_0x328e61)[_0x125a2e(0x215)](_0x125a2e(0x27a));});_0x328e61();try{const _0x20de52=window['Telegram']?.[_0x21e3f8(0x1a5)];if(!_0x20de52)return;_0x20de52[_0x21e3f8(0x25d)](),_0x20de52[_0x21e3f8(0x286)]();try{_0x20de52['setHeaderColor'](_0x21e3f8(0x213)),_0x20de52[_0x21e3f8(0x255)]&&_0x20de52['setBackgroundColor'](_0x21e3f8(0x213));}catch(_0x273868){console[_0x21e3f8(0x1a2)](_0x21e3f8(0x242),_0x273868);}try{_0x20de52[_0x21e3f8(0x230)]&&(_0x20de52[_0x21e3f8(0x230)][_0x21e3f8(0x1ff)](),_0x20de52[_0x21e3f8(0x230)]['offClick'](),_0x20de52[_0x21e3f8(0x230)][_0x21e3f8(0x248)](function(){const _0x392601=_0x21e3f8;window['location']['href']=_0x392601(0x220);}));}catch(_0x115b70){console[_0x21e3f8(0x1a2)](_0x21e3f8(0x276),_0x115b70);}try{if(_0x20de52[_0x21e3f8(0x22a)])_0x20de52[_0x21e3f8(0x22a)]();}catch(_0xc46018){}}catch(_0x5834ba){console[_0x21e3f8(0x1c4)](_0x21e3f8(0x1cd),_0x5834ba);}}());function isAdmin(){const _0x412f50=a3_0x5cb4ed;try{const _0x293c0a=Number(window['Telegram']?.[_0x412f50(0x1a5)]?.['initDataUnsafe']?.['user']?.['id']);return _0x293c0a===0xbaf7174;}catch(_0x5d548c){return![];}}const DataManager={'saveLocally'(){const _0x206c14=a3_0x5cb4ed;try{localStorage[_0x206c14(0x251)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x206c14(0x227)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x206c14(0x227)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x20b1e8){}},'loadLocal'(){const _0x1dda74=a3_0x5cb4ed;try{const _0xa33d04=localStorage[_0x1dda74(0x1f0)](KEY_SESSIONS);if(_0xa33d04)sessions=JSON[_0x1dda74(0x19f)](_0xa33d04);const _0x49797c=localStorage['getItem'](KEY_CLIENTS);if(_0x49797c)clients=JSON['parse'](_0x49797c);const _0x286e19=localStorage[_0x1dda74(0x1f0)](KEY_SETTINGS);if(_0x286e19){const _0x5b4e58=JSON[_0x1dda74(0x19f)](_0x286e19);if(_0x5b4e58[_0x1dda74(0x205)])availabilityPattern=_0x5b4e58[_0x1dda74(0x205)];if(_0x5b4e58[_0x1dda74(0x1a9)])specialRanges=_0x5b4e58['ranges'];if(_0x5b4e58[_0x1dda74(0x260)])dateExceptions=_0x5b4e58['exceptions'];}}catch(_0x136fab){}},async 'syncLoad'(){const _0x58e752=a3_0x5cb4ed,_0x31c7b3=new Date(),_0x59dd82=_0x31c7b3[_0x58e752(0x285)]()+'-'+String(_0x31c7b3[_0x58e752(0x239)]()+0x1)[_0x58e752(0x1ce)](0x2,'0'),_0x273c61=new Date(_0x31c7b3);_0x273c61[_0x58e752(0x283)](_0x31c7b3['getMonth']()+0x1);const _0x3c8f6c=_0x273c61['getFullYear']()+'-'+String(_0x273c61[_0x58e752(0x239)]()+0x1)['padStart'](0x2,'0'),_0x3fe55e=Date[_0x58e752(0x26a)]();try{const _0x1d135c=window[_0x58e752(0x203)]?.[_0x58e752(0x1a5)],_0x56e362=_0x1d135c?.[_0x58e752(0x27f)]||'',[_0x5cb3ec,_0x43af5e]=await Promise[_0x58e752(0x1db)]([fetch(API_URL,{'method':_0x58e752(0x216),'body':JSON[_0x58e752(0x227)]({'action':'client_load','init_data':_0x56e362,'month_str':_0x59dd82})})['then'](_0x5abff9=>_0x5abff9[_0x58e752(0x24f)]()),fetch(API_URL,{'method':_0x58e752(0x216),'body':JSON[_0x58e752(0x227)]({'action':_0x58e752(0x22c),'init_data':_0x56e362,'month_str':_0x3c8f6c})})[_0x58e752(0x224)](_0x3ad41e=>_0x3ad41e[_0x58e752(0x24f)]())]);if(lastUserActionTime>_0x3fe55e){console[_0x58e752(0x1a2)](_0x58e752(0x243));return;}if(_0x5cb3ec['ok'])this[_0x58e752(0x249)](_0x5cb3ec[_0x58e752(0x26b)],_0x59dd82);if(_0x43af5e['ok'])this['applyData'](_0x43af5e[_0x58e752(0x26b)],_0x3c8f6c);this[_0x58e752(0x25b)]();}catch(_0x3c83c4){}},'applyData'(_0x1c8742,_0x3297ad){const _0x22d466=a3_0x5cb4ed;if(!_0x1c8742)return;if(_0x1c8742[_0x22d466(0x1e7)]){if(_0x1c8742[_0x22d466(0x1e7)][_0x22d466(0x205)])availabilityPattern=_0x1c8742['settings']['pattern'];if(_0x1c8742[_0x22d466(0x1e7)][_0x22d466(0x1a9)])specialRanges=_0x1c8742[_0x22d466(0x1e7)][_0x22d466(0x1a9)];if(_0x1c8742[_0x22d466(0x1e7)][_0x22d466(0x260)])dateExceptions=_0x1c8742['settings'][_0x22d466(0x260)];}if(_0x1c8742[_0x22d466(0x250)]&&Array[_0x22d466(0x266)](_0x1c8742[_0x22d466(0x250)]))clients=_0x1c8742[_0x22d466(0x250)];_0x1c8742[_0x22d466(0x1f3)]&&(coachProfiles={...coachProfiles,..._0x1c8742[_0x22d466(0x1f3)]}),_0x1c8742[_0x22d466(0x1b1)]&&(sessions=sessions['filter'](_0xfddf6f=>!_0xfddf6f[_0x22d466(0x194)]['startsWith'](_0x3297ad)),Object[_0x22d466(0x277)](_0x1c8742[_0x22d466(0x1b1)])[_0x22d466(0x24b)](_0x1388c1=>{const _0x1b8a57=_0x22d466,_0x48f8c0=_0x1c8742['calendar'][_0x1388c1];_0x48f8c0[_0x1b8a57(0x24b)](_0x5c94c7=>{const _0x32f836=_0x1b8a57;sessions[_0x32f836(0x278)]({'id':_0x5c94c7['i'],'clientId':_0x5c94c7['c'],'coachId':_0x5c94c7['cid'],'dateStr':_0x3297ad+'-'+_0x1388c1['padStart'](0x2,'0'),'start':_0x5c94c7['s'],'end':_0x5c94c7['e'],'note':_0x5c94c7['n']||'','status':_0x5c94c7['st']||'planned','seriesId':_0x5c94c7['sid']});});})),reRenderBlocks();}};function init(){const _0x8a918e=a3_0x5cb4ed;DataManager[_0x8a918e(0x1c3)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x8a918e(0x27c)](_0x8a918e(0x238))[_0x8a918e(0x1e1)](_0x8a918e(0x217),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x3c0712=a3_0x5cb4ed,_0x2adb64=document['getElementById'](_0x3c0712(0x1fa)),_0xde42ce=document[_0x3c0712(0x27c)](_0x3c0712(0x246));_0x2adb64[_0x3c0712(0x27b)]='',_0x2adb64[_0x3c0712(0x1ae)](_0xde42ce);for(let _0x11bc64=0x0;_0x11bc64<0x18;_0x11bc64++){const _0x51e7d5=document['createElement'](_0x3c0712(0x20f));_0x51e7d5[_0x3c0712(0x258)]=_0x3c0712(0x1c6);if(_0x11bc64>0x0)_0x51e7d5[_0x3c0712(0x27b)]=_0x3c0712(0x221)+String(_0x11bc64)['padStart'](0x2,'0')+_0x3c0712(0x1f6);_0x2adb64[_0x3c0712(0x1ae)](_0x51e7d5);}}function renderDayRange(_0x2c56e5,_0xe2f353){const _0xbd7242=a3_0x5cb4ed,_0x337e71=document[_0xbd7242(0x27c)](_0xbd7242(0x1bd)),_0x2f0675=document[_0xbd7242(0x27c)](_0xbd7242(0x1a4)),_0x20b96a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d17ee=new Date();_0x2d17ee[_0xbd7242(0x21d)](0x0,0x0,0x0,0x0);const _0x5b25b8=getLocalDateStr(new Date());for(let _0x1245a7=_0x2c56e5;_0x1245a7<=_0xe2f353;_0x1245a7++){const _0x237924=new Date(_0x2d17ee);_0x237924[_0xbd7242(0x1de)](_0x237924[_0xbd7242(0x1b2)]()+_0x1245a7);const _0x1ad9b4=getLocalDateStr(_0x237924);let _0x139668=_0x237924['getDay']()-0x1;if(_0x139668===-0x1)_0x139668=0x6;const _0x43a782=_0x1ad9b4===_0x5b25b8,_0x231361=document[_0xbd7242(0x27d)]('div');_0x231361[_0xbd7242(0x258)]=_0xbd7242(0x1e4)+(_0x43a782?_0xbd7242(0x1d7):''),_0x231361['setAttribute'](_0xbd7242(0x1d3),_0x1ad9b4),_0x231361[_0xbd7242(0x27b)]=_0xbd7242(0x281)+_0x20b96a[_0x139668]+_0xbd7242(0x1ec)+_0x237924[_0xbd7242(0x1b2)]()+_0xbd7242(0x201),_0x337e71[_0xbd7242(0x1ae)](_0x231361);const _0x2d7326=document['createElement'](_0xbd7242(0x20f));_0x2d7326[_0xbd7242(0x258)]='day-column\x20'+(_0x43a782?'today':''),_0x2d7326[_0xbd7242(0x23f)](_0xbd7242(0x1d3),_0x1ad9b4),_0x2d7326[_0xbd7242(0x23f)](_0xbd7242(0x24c),_0x139668),_0x2f0675[_0xbd7242(0x1ae)](_0x2d7326);}}function reRenderBlocks(){const _0x54938d=a3_0x5cb4ed;document['querySelectorAll'](_0x54938d(0x232))[_0x54938d(0x24b)](_0x4e1359=>{const _0x1570fa=_0x54938d;_0x4e1359['querySelectorAll'](_0x1570fa(0x212))[_0x1570fa(0x24b)](_0x3e2424=>_0x3e2424[_0x1570fa(0x1e5)]());const _0x422d4b=_0x4e1359[_0x1570fa(0x270)](_0x1570fa(0x1d3)),_0x4047e2=parseInt(_0x4e1359['getAttribute']('data-day-idx')),_0x3c9eef=Math['round'](_0x4e1359[_0x1570fa(0x1ee)]);(availabilityPattern[_0x4047e2]||[])[_0x1570fa(0x24b)](_0x3673b4=>{const _0x250703=_0x1570fa,_0x2bfa48=document[_0x250703(0x27d)](_0x250703(0x20f));_0x2bfa48['className']=_0x250703(0x265),_0x2bfa48[_0x250703(0x21e)][_0x250703(0x20b)]=_0x3673b4*GRID_H+'px',_0x2bfa48[_0x250703(0x21e)][_0x250703(0x25f)]='-'+_0x3c9eef+'px\x20-'+_0x3673b4*GRID_H+'px',_0x4e1359['appendChild'](_0x2bfa48);});if(specialRanges[_0x1570fa(0x1f1)]>0x0){const _0x2e0a69=new Date(_0x422d4b+_0x1570fa(0x229))['getTime'](),_0x5a3101=new Date(_0x422d4b+_0x1570fa(0x1fb))['getTime']();specialRanges[_0x1570fa(0x24b)](_0x449054=>{const _0x33faa3=_0x1570fa,_0x36bb83=new Date(_0x449054[_0x33faa3(0x1cf)])[_0x33faa3(0x20a)](),_0x243310=new Date(_0x449054[_0x33faa3(0x200)])[_0x33faa3(0x20a)](),_0x131fab=Math[_0x33faa3(0x26e)](_0x2e0a69,_0x36bb83),_0xfcaf19=Math[_0x33faa3(0x23b)](_0x5a3101,_0x243310);if(_0x131fab<_0xfcaf19){const _0x5bf59a=(_0x131fab-_0x2e0a69)/0x36ee80*GRID_H,_0x3e08d3=(_0xfcaf19-_0x131fab)/0x36ee80*GRID_H,_0x5327ec=document[_0x33faa3(0x27d)](_0x33faa3(0x20f));_0x3e08d3>=23.5*GRID_H?(_0x5327ec[_0x33faa3(0x258)]=_0x33faa3(0x1f2),_0x5327ec[_0x33faa3(0x21e)]['backgroundPosition']='-'+_0x3c9eef+_0x33faa3(0x18c)):(_0x5327ec['className']=_0x33faa3(0x1d0),_0x5327ec[_0x33faa3(0x21e)]['top']=_0x5bf59a+'px',_0x5327ec['style']['height']=_0x3e08d3+'px',_0x5327ec[_0x33faa3(0x21e)][_0x33faa3(0x25f)]='-'+_0x3c9eef+_0x33faa3(0x235)+_0x5bf59a+'px'),_0x4e1359[_0x33faa3(0x1ae)](_0x5327ec);}});}renderEventsForColumn(_0x4e1359,_0x422d4b);});}function renderEventsForColumn(_0x2bfd81,_0x5c0fd1){const _0x3fc42f=a3_0x5cb4ed,_0x211c3c=sessions[_0x3fc42f(0x24a)](_0x460aca=>_0x460aca[_0x3fc42f(0x194)]===_0x5c0fd1),_0x55c3c7=_0x211c3c[_0x3fc42f(0x27e)](_0x264abe=>{const _0x19e0a8=_0x3fc42f,[_0x4d2388,_0x2a1ffb]=_0x264abe[_0x19e0a8(0x1cf)][_0x19e0a8(0x18b)](':')[_0x19e0a8(0x27e)](Number),[_0x33530c,_0x393981]=_0x264abe['end'][_0x19e0a8(0x18b)](':')['map'](Number);return{'data':_0x264abe,'start':_0x4d2388*0x3c+_0x2a1ffb,'end':_0x33530c*0x3c+_0x393981,'colIndex':0x0};});_0x55c3c7[_0x3fc42f(0x1da)]((_0x5d420f,_0x24bf76)=>_0x5d420f[_0x3fc42f(0x1cf)]-_0x24bf76[_0x3fc42f(0x1cf)]||_0x24bf76[_0x3fc42f(0x200)]-_0x24bf76[_0x3fc42f(0x1cf)]-(_0x5d420f[_0x3fc42f(0x200)]-_0x5d420f[_0x3fc42f(0x1cf)]));const _0x4d570b=[];_0x55c3c7[_0x3fc42f(0x24b)](_0x4eca6e=>{const _0x2ef1ca=_0x3fc42f;let _0x4efc56=![];for(let _0x54076e=0x0;_0x54076e<_0x4d570b['length'];_0x54076e++){const _0x52ea4d=_0x4d570b[_0x54076e];if(_0x4eca6e[_0x2ef1ca(0x1cf)]>=_0x52ea4d[_0x52ea4d[_0x2ef1ca(0x1f1)]-0x1][_0x2ef1ca(0x200)]){_0x52ea4d[_0x2ef1ca(0x278)](_0x4eca6e),_0x4eca6e[_0x2ef1ca(0x1b8)]=_0x54076e,_0x4efc56=!![];break;}}!_0x4efc56&&(_0x4d570b[_0x2ef1ca(0x278)]([_0x4eca6e]),_0x4eca6e['colIndex']=_0x4d570b[_0x2ef1ca(0x1f1)]-0x1);}),_0x55c3c7[_0x3fc42f(0x24b)](_0x30bb58=>{const _0x59873e=_0x3fc42f;let _0x1923f9=0x0;_0x55c3c7[_0x59873e(0x24b)](_0x4b8c04=>{const _0x667030=_0x59873e;if(Math['max'](_0x30bb58[_0x667030(0x1cf)],_0x4b8c04[_0x667030(0x1cf)])<Math['min'](_0x30bb58[_0x667030(0x200)],_0x4b8c04['end'])&&_0x4b8c04[_0x667030(0x1b8)]>_0x1923f9)_0x1923f9=_0x4b8c04[_0x667030(0x1b8)];});const _0x5cd694=_0x1923f9+0x1,_0x349d05=0x64/_0x5cd694,_0x4c8d33=_0x30bb58[_0x59873e(0x1b8)]*_0x349d05,_0x430c66=document[_0x59873e(0x27d)](_0x59873e(0x20f)),_0x12784a=_0x30bb58[_0x59873e(0x26b)];let _0x8961f4='#0a84ff';if(clients&&clients[_0x59873e(0x1f1)]>0x0){const _0x3f893e=clients[_0x59873e(0x1d1)](_0x3ecf50=>String(_0x3ecf50['id'])===String(_0x12784a[_0x59873e(0x1df)]));if(_0x3f893e&&_0x3f893e['color'])_0x8961f4=_0x3f893e[_0x59873e(0x289)];}const _0x4f03d3=_0x12784a[_0x59873e(0x231)]==='completed',_0x4fbea5=_0x4f03d3?0x1:0.45;_0x430c66[_0x59873e(0x258)]=_0x59873e(0x1b0)+(_0x4f03d3?_0x59873e(0x20d):''),_0x430c66[_0x59873e(0x21e)][_0x59873e(0x19d)]=hexToRgba(_0x8961f4,_0x4fbea5),_0x430c66[_0x59873e(0x21e)][_0x59873e(0x269)]=_0x8961f4;const _0x5a1200=_0x30bb58['start']/0x3c*GRID_H,_0xb2391c=(_0x30bb58[_0x59873e(0x200)]-_0x30bb58['start'])/0x3c*GRID_H;_0x430c66[_0x59873e(0x21e)][_0x59873e(0x20b)]=_0x5a1200+'px',_0x430c66[_0x59873e(0x21e)][_0x59873e(0x189)]=Math[_0x59873e(0x26e)](_0xb2391c,0x14)+'px',_0x430c66['style'][_0x59873e(0x1b4)]=_0x59873e(0x195)+_0x349d05+'%\x20-\x204px)',_0x430c66[_0x59873e(0x21e)][_0x59873e(0x1d9)]=_0x59873e(0x195)+_0x4c8d33+_0x59873e(0x1fd),_0x430c66[_0x59873e(0x21e)]['zIndex']=0xa+_0x30bb58[_0x59873e(0x1b8)];if(_0x349d05<0x55)_0x430c66[_0x59873e(0x1b7)][_0x59873e(0x1cc)](_0x59873e(0x1ed));let _0x50ee3b='';if(_0x12784a[_0x59873e(0x244)])_0x50ee3b+=_0x59873e(0x210);if(_0x4f03d3)_0x50ee3b+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x430c66[_0x59873e(0x27b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x12784a[_0x59873e(0x1cf)]+_0x59873e(0x1a0)+_0x12784a['end']+_0x59873e(0x21f)+_0x50ee3b+_0x59873e(0x275),_0x430c66[_0x59873e(0x20e)]=_0x53cf38=>{const _0x2493a7=_0x59873e;_0x53cf38[_0x2493a7(0x1af)](),openDetails(_0x12784a);},_0x2bfd81[_0x59873e(0x1ae)](_0x430c66);});}function a3_0x2703(){const _0x345c01=['toast','fontWeight','createDocumentFragment','cancel_window','add','Critical\x20TMA\x20Error:','padStart','start','blocked-range-part\x20stripe-bg','find','constructor','data-date','rgba(','querySelectorAll','178004eponpV','today','week','left','sort','all','test','day-column\x20','setDate','clientId','auto','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','DOMContentLoaded','day-col-header\x20','remove','toLocaleDateString','settings','.btn-reschedule','21lJAmNy','charAt','anDonutCircle','</div><div\x20class=\x22dch-num\x22>','mini','offsetLeft','cancelHint','getItem','length','day-off-overlay\x20stripe-bg','coach_profiles','anTotalStats','anStart',':00</span>','.btn-cancel','\x20–≤\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','timeColumn','T23:59:59','toLocaleString','%\x20+\x202px)','insertBefore','show','end','</div>','overlay','Telegram','scrollLeft','pattern','open','#ff453a','strokeDashoffset','substr','getTime','top','apply','\x20status-completed','onclick','div','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getMinutes','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','#050505','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','search','POST','scroll','rs-time-btn','round','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','analyticsSheet','setHours','style','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','router.html','<span>','offsetWidth','detNote','then','.period-switch\x20.p-btn','headerMonth','stringify','618GltKDb','T00:00:00','disableVerticalSwipes','querySelector','client_load','detTime','scrollTo','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','BackButton','status','.day-column','textContent','scrollTop','px\x20-','uc_client_sessions','getHours','matrixViewport','getMonth','2jbILlM','min','customConfirm','join','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','setAttribute','coachId','completed','Error\x20setting\x20color:','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','seriesId','rgba(10,\x20132,\x20255,\x20','timeLineBadge','2647812RDlDcv','onClick','applyData','filter','forEach','data-day-idx','rescheduleSheet','103231LoVZlw','json','clients','setItem','value','get_slots','clientWidth','setBackgroundColor','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','var(--acc-blue)','className','detDate','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','saveLocally','uc_client_list','ready','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','backgroundPosition','exceptions','.day-col-header[data-date=\x22','floor','</span>\x20/\x20','v9.5-CLIENT-ANALYTICS','blocked-slot\x20stripe-bg','isArray','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','reschedule','borderLeftColor','now','data','display','toUpperCase','max','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','getAttribute','5815593nbeTlS','block','detailsSheet','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20setting\x20back\x20button:','keys','push','#0a84ff','(((.+)+)+)+$','innerHTML','getElementById','createElement','map','initData','42KrJSBm','<div\x20class=\x22dch-day\x22>','\x20—á.','setMonth','</div><div\x20class=\x22rs-day-num\x22>','getFullYear','expand','detStatus','syncLoad','color','rsSlotsGrid','uc_client_settings','height','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','split','px\x200px','client-stat-card','10lAqlIP','button','firstChild','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','done','dateStr','calc(','analyticsList','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','numeric','cancelled','rsDatesTrack','37805cqbPpv','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','backgroundColor','8750489ydwWKk','parse','\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','log','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','gridColumns','WebApp','findIndex','anEnd','toString','ranges','long','anCustomDates','600','–∑–∞\x20','appendChild','stopPropagation','event-card','calendar','getDate','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','width','rs-date-chip','scrollWidth','classList','colIndex','active','ru-RU','.day-col-header','globalTimeLine','daysHeaderTrack','<div\x20class=\x22rs-day-name\x22>','.rs-date-chip','total','getDay','note','loadLocal','error','Unknown','time-label','1811528oLQKtF'];a3_0x2703=function(){return _0x345c01;};return a3_0x2703();}function openAnalytics(){const _0x525437=a3_0x5cb4ed,_0x4a17c=document['querySelector'](_0x525437(0x225));setAnalyticsPeriod(_0x525437(0x1d8),_0x4a17c),openSheet(_0x525437(0x21c));}function setAnalyticsPeriod(_0x4992d6,_0x2348f8){const _0x1ede74=a3_0x5cb4ed;currentAnPeriod=_0x4992d6,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x1647f9=>_0x1647f9[_0x1ede74(0x1b7)]['remove']('active'));if(_0x2348f8)_0x2348f8[_0x1ede74(0x1b7)][_0x1ede74(0x1cc)](_0x1ede74(0x1b9));const _0x23e56d=document[_0x1ede74(0x27c)](_0x1ede74(0x1ab));_0x23e56d[_0x1ede74(0x21e)][_0x1ede74(0x26c)]=_0x4992d6==='custom'?'flex':_0x1ede74(0x21b);const _0x4e1eae=new Date();let _0x50a538=new Date(),_0x83b7b5=new Date();if(_0x4992d6===_0x1ede74(0x1d8))_0x50a538=getStartOfWeek(_0x4e1eae),_0x83b7b5=new Date(_0x50a538),_0x83b7b5[_0x1ede74(0x1de)](_0x83b7b5[_0x1ede74(0x1b2)]()+0x6);else{if(_0x4992d6==='month')_0x50a538=new Date(_0x4e1eae[_0x1ede74(0x285)](),_0x4e1eae[_0x1ede74(0x239)](),0x1),_0x83b7b5=new Date(_0x4e1eae[_0x1ede74(0x285)](),_0x4e1eae[_0x1ede74(0x239)]()+0x1,0x0);else{!document[_0x1ede74(0x27c)]('anStart')[_0x1ede74(0x252)]&&(document[_0x1ede74(0x27c)](_0x1ede74(0x1f5))[_0x1ede74(0x252)]=getLocalDateStr(_0x4e1eae),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x4e1eae));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x1ede74(0x252)]=getLocalDateStr(_0x50a538),document[_0x1ede74(0x27c)](_0x1ede74(0x1a7))[_0x1ede74(0x252)]=getLocalDateStr(_0x83b7b5),refreshAnalytics();}function refreshAnalytics(){const _0x257f1c=a3_0x5cb4ed,_0x3f6bc6=document['getElementById'](_0x257f1c(0x1f5))[_0x257f1c(0x252)],_0x4e2eae=document[_0x257f1c(0x27c)](_0x257f1c(0x1a7))[_0x257f1c(0x252)];if(!_0x3f6bc6||!_0x4e2eae)return;const _0x509773=sessions[_0x257f1c(0x24a)](_0x49a53e=>_0x49a53e[_0x257f1c(0x194)]>=_0x3f6bc6&&_0x49a53e[_0x257f1c(0x194)]<=_0x4e2eae&&_0x49a53e['status']!==_0x257f1c(0x199)),_0x326bda=_0x509773['length'],_0x452d43=_0x509773[_0x257f1c(0x24a)](_0x243bee=>_0x243bee['status']===_0x257f1c(0x241))[_0x257f1c(0x1f1)],_0x1f8cab=_0x326bda>0x0?Math[_0x257f1c(0x219)](_0x452d43/_0x326bda*0x64):0x0;document[_0x257f1c(0x27c)]('anPercent')[_0x257f1c(0x233)]=_0x1f8cab+'%',document[_0x257f1c(0x27c)](_0x257f1c(0x1f4))['textContent']=_0x452d43+'\x20–∏–∑\x20'+_0x326bda+_0x257f1c(0x22f);const _0x132012=document['getElementById'](_0x257f1c(0x1eb)),_0x5dd735=0x2*Math['PI']*0x23,_0xe22958=_0x5dd735-_0x1f8cab/0x64*_0x5dd735;_0x132012['style'][_0x257f1c(0x208)]=_0xe22958;const _0xcde155={};_0x509773['forEach'](_0x295758=>{const _0x4752a9=_0x257f1c,_0x286d4a=_0x295758[_0x4752a9(0x240)]||_0x4752a9(0x1c5);if(!_0xcde155[_0x286d4a]){const _0x1c33e7='#'+_0x286d4a[_0x4752a9(0x1a8)]()[_0x4752a9(0x209)](0x0,0x6);_0xcde155[_0x286d4a]={'total':0x0,'done':0x0,'color':_0x1c33e7};}_0xcde155[_0x286d4a][_0x4752a9(0x1c0)]++;if(_0x295758[_0x4752a9(0x231)]===_0x4752a9(0x241))_0xcde155[_0x286d4a][_0x4752a9(0x193)]++;});const _0x1b7eea=document['getElementById'](_0x257f1c(0x196));_0x1b7eea['innerHTML']='';const _0x5376e8=Object['entries'](_0xcde155)[_0x257f1c(0x1da)]((_0x40b79a,_0x3278b6)=>_0x3278b6[0x1][_0x257f1c(0x1c0)]-_0x40b79a[0x1][_0x257f1c(0x1c0)]);if(_0x5376e8[_0x257f1c(0x1f1)]===0x0){_0x1b7eea[_0x257f1c(0x27b)]=_0x257f1c(0x192);return;}_0x5376e8[_0x257f1c(0x24b)](([_0x19b4d5,_0x1ab4bc])=>{const _0x4d85cb=_0x257f1c,_0x11096a=Math[_0x4d85cb(0x219)](_0x1ab4bc[_0x4d85cb(0x193)]/_0x1ab4bc[_0x4d85cb(0x1c0)]*0x64),_0x1c87c9=document['createElement'](_0x4d85cb(0x20f));_0x1c87c9[_0x4d85cb(0x258)]=_0x4d85cb(0x18d),_0x1c87c9[_0x4d85cb(0x21e)][_0x4d85cb(0x269)]=_0x1ab4bc[_0x4d85cb(0x289)],_0x1c87c9[_0x4d85cb(0x27b)]=_0x4d85cb(0x1a1)+_0x19b4d5['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1ab4bc[_0x4d85cb(0x193)]+_0x4d85cb(0x263)+_0x1ab4bc[_0x4d85cb(0x1c0)]+_0x4d85cb(0x1e2)+_0x11096a+_0x4d85cb(0x21a),_0x1b7eea['appendChild'](_0x1c87c9);});}function openDetails(_0x205a1f){const _0x25cb6a=a3_0x5cb4ed;currentSession=_0x205a1f;const _0x5445a6=new Date(_0x205a1f['dateStr']),_0x30f94a=_0x5445a6[_0x25cb6a(0x1e6)](_0x25cb6a(0x1ba),{'weekday':'long','day':'numeric','month':'long'});document[_0x25cb6a(0x27c)](_0x25cb6a(0x259))['textContent']=_0x30f94a[_0x25cb6a(0x1ea)](0x0)[_0x25cb6a(0x26d)]()+_0x30f94a['slice'](0x1),document[_0x25cb6a(0x27c)](_0x25cb6a(0x22d))['textContent']=_0x205a1f['start']+_0x25cb6a(0x1a0)+_0x205a1f[_0x25cb6a(0x200)],document[_0x25cb6a(0x27c)](_0x25cb6a(0x223))[_0x25cb6a(0x233)]=_0x205a1f[_0x25cb6a(0x1c2)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3f2baf=document['getElementById'](_0x25cb6a(0x287)),_0x25b7d9=document[_0x25cb6a(0x27c)]('cancelContainer'),_0x2f0c58=_0x25b7d9[_0x25cb6a(0x22b)](_0x25cb6a(0x1f7)),_0xd05318=_0x25b7d9[_0x25cb6a(0x22b)](_0x25cb6a(0x1e8)),_0x412e17=document[_0x25cb6a(0x27c)](_0x25cb6a(0x1ef));if(_0x205a1f[_0x25cb6a(0x231)]===_0x25cb6a(0x241))_0x3f2baf[_0x25cb6a(0x233)]=_0x25cb6a(0x267),_0x3f2baf[_0x25cb6a(0x21e)][_0x25cb6a(0x289)]='var(--acc-green)',_0x25b7d9[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]=_0x25cb6a(0x21b);else{_0x3f2baf[_0x25cb6a(0x233)]=_0x25cb6a(0x26f),_0x3f2baf['style'][_0x25cb6a(0x289)]=_0x25cb6a(0x257),_0x25b7d9['style']['display']=_0x25cb6a(0x272);const _0x1b6eb9=new Date(_0x205a1f[_0x25cb6a(0x194)]+'T'+_0x205a1f['start']),_0xdfbc9c=new Date(),_0xc678d3=(_0x1b6eb9-_0xdfbc9c)/(0x3e8*0x3c*0x3c),_0x28961f=coachProfiles[_0x205a1f[_0x25cb6a(0x240)]]&&coachProfiles[_0x205a1f[_0x25cb6a(0x240)]][_0x25cb6a(0x1cb)]?parseInt(coachProfiles[_0x205a1f[_0x25cb6a(0x240)]][_0x25cb6a(0x1cb)]):0x18;if(_0x28961f===0x0||_0xc678d3>=_0x28961f)_0x2f0c58[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]='block',_0xd05318[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]='block',_0x412e17['style']['display']='none';else{_0x2f0c58[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]='none',_0xd05318[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]=_0x25cb6a(0x21b),_0x412e17[_0x25cb6a(0x21e)][_0x25cb6a(0x26c)]=_0x25cb6a(0x272);let _0x46ba63=_0x28961f===0x0?_0x25cb6a(0x1a3):_0x25cb6a(0x1ad)+_0x28961f+_0x25cb6a(0x282);_0x412e17['textContent']=_0x25cb6a(0x191)+_0x46ba63+_0x25cb6a(0x197);}}document['getElementById'](_0x25cb6a(0x202))[_0x25cb6a(0x1b7)][_0x25cb6a(0x1cc)]('active'),document[_0x25cb6a(0x27c)]('detailsSheet')[_0x25cb6a(0x1b7)][_0x25cb6a(0x1cc)](_0x25cb6a(0x206));}function closeAllSheets(){const _0x261555=a3_0x5cb4ed;document['getElementById'](_0x261555(0x202))[_0x261555(0x1b7)][_0x261555(0x1e5)]('active'),document[_0x261555(0x1d5)]('.sheet')[_0x261555(0x24b)](_0x2d8a7b=>_0x2d8a7b[_0x261555(0x1b7)][_0x261555(0x1e5)](_0x261555(0x206)));}function a3_0xd9e3(_0x3d281e,_0x41bdde){_0x3d281e=_0x3d281e-0x188;const _0x4daa70=a3_0x2703();let _0x43d3ed=_0x4daa70[_0x3d281e];return _0x43d3ed;}function openSheet(_0x49175e){const _0x20d7fb=a3_0x5cb4ed;document['getElementById']('overlay')['classList'][_0x20d7fb(0x1cc)]('active'),document['getElementById'](_0x49175e)[_0x20d7fb(0x1b7)][_0x20d7fb(0x1cc)]('open');}function getLocalDateStr(_0x283250){const _0x41a23a=a3_0x5cb4ed,_0x4d5bb6=_0x283250[_0x41a23a(0x285)](),_0x4a9a91=String(_0x283250[_0x41a23a(0x239)]()+0x1)[_0x41a23a(0x1ce)](0x2,'0'),_0x3fb3cc=String(_0x283250[_0x41a23a(0x1b2)]())[_0x41a23a(0x1ce)](0x2,'0');return _0x4d5bb6+'-'+_0x4a9a91+'-'+_0x3fb3cc;}function getStartOfWeek(_0x5b27dd){const _0x3d7eca=a3_0x5cb4ed,_0x4db66f=new Date(_0x5b27dd),_0x282547=_0x4db66f[_0x3d7eca(0x1c1)](),_0x215639=_0x4db66f['getDate']()-_0x282547+(_0x282547===0x0?-0x6:0x1);return _0x4db66f[_0x3d7eca(0x1de)](_0x215639),_0x4db66f[_0x3d7eca(0x21d)](0x0,0x0,0x0,0x0),_0x4db66f;}function scrollToToday(){const _0x2402d5=getLocalDateStr(new Date());setTimeout(()=>{const _0x5d0eef=a3_0xd9e3,_0x331fae=document[_0x5d0eef(0x22b)](_0x5d0eef(0x261)+_0x2402d5+'\x22]');if(_0x331fae){const _0x340cbf=document[_0x5d0eef(0x27c)](_0x5d0eef(0x238)),_0x494edf=_0x331fae[_0x5d0eef(0x1ee)]-_0x340cbf[_0x5d0eef(0x254)]/0x2+_0x331fae[_0x5d0eef(0x222)]/0x2;_0x340cbf[_0x5d0eef(0x22e)]({'left':_0x494edf,'behavior':_0x5d0eef(0x1e0)}),_0x340cbf[_0x5d0eef(0x234)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x111ecc=a3_0x5cb4ed,_0xa2e775=new Date(),_0x1cf0a8=document[_0x111ecc(0x27c)](_0x111ecc(0x1bc)),_0x32c3f5=document[_0x111ecc(0x27c)]('timeLineBadge'),_0x1fda64=(_0xa2e775[_0x111ecc(0x237)]()*0x3c+_0xa2e775[_0x111ecc(0x211)]())/0x3c*GRID_H;_0x1cf0a8[_0x111ecc(0x21e)]['top']=_0x1fda64+'px',_0x1cf0a8[_0x111ecc(0x21e)][_0x111ecc(0x26c)]=_0x111ecc(0x272),_0x32c3f5[_0x111ecc(0x21e)][_0x111ecc(0x20b)]=_0x1fda64+'px',_0x32c3f5[_0x111ecc(0x21e)][_0x111ecc(0x26c)]=_0x111ecc(0x272),_0x32c3f5[_0x111ecc(0x233)]=String(_0xa2e775[_0x111ecc(0x237)]())[_0x111ecc(0x1ce)](0x2,'0')+':'+String(_0xa2e775['getMinutes']())[_0x111ecc(0x1ce)](0x2,'0');}function onScroll(){const _0x3eae73=a3_0x5cb4ed,_0x22b1d6=document[_0x3eae73(0x27c)](_0x3eae73(0x238)),_0x5893c7=document[_0x3eae73(0x1d5)](_0x3eae73(0x1bb));for(let _0x3194aa of _0x5893c7)if(_0x3194aa['offsetLeft']>=_0x22b1d6[_0x3eae73(0x204)]){const _0x52c66f=new Date(_0x3194aa[_0x3eae73(0x270)](_0x3eae73(0x1d3)));document[_0x3eae73(0x27c)](_0x3eae73(0x226))['textContent']=_0x52c66f[_0x3eae73(0x1fc)]('ru',{'month':_0x3eae73(0x1aa)})['toUpperCase']()+'\x20'+_0x52c66f['getFullYear']();break;}}function showToast(_0x516789){const _0x127d78=a3_0x5cb4ed,_0x43b4c5=document[_0x127d78(0x27c)](_0x127d78(0x1c8));_0x43b4c5[_0x127d78(0x233)]=_0x516789,_0x43b4c5[_0x127d78(0x1b7)]['add'](_0x127d78(0x1ff)),setTimeout(()=>_0x43b4c5['classList'][_0x127d78(0x1e5)](_0x127d78(0x1ff)),0x7d0);}function handleInfiniteScroll(){const _0x550a27=a3_0x5cb4ed,_0xadbc7e=document['getElementById'](_0x550a27(0x238)),_0x4fe501=_0xadbc7e['scrollLeft'],_0x13fd37=_0xadbc7e[_0x550a27(0x1b6)],_0x270705=_0xadbc7e['clientWidth'];if(_0x13fd37-(_0x4fe501+_0x270705)<0x12c){const _0x2f62f4=endOffset;endOffset+=0xe,renderDayRange(_0x2f62f4+0x1,endOffset),reRenderBlocks();}if(_0x4fe501<0x12c){const _0x192b1e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x192b1e-0x1),_0xadbc7e[_0x550a27(0x204)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xf01165,_0x1937fe){const _0x17f0e5=a3_0x5cb4ed,_0x4bebcb=document[_0x17f0e5(0x27c)](_0x17f0e5(0x1bd)),_0xf40f6f=document[_0x17f0e5(0x27c)](_0x17f0e5(0x1a4)),_0x2cca38=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x457cd4=new Date();_0x457cd4[_0x17f0e5(0x21d)](0x0,0x0,0x0,0x0);const _0x5c23f6=getLocalDateStr(new Date()),_0x317fec=document[_0x17f0e5(0x1ca)](),_0x26fb26=document['createDocumentFragment']();for(let _0x123f0f=_0xf01165;_0x123f0f<=_0x1937fe;_0x123f0f++){const _0x3d5c3c=new Date(_0x457cd4);_0x3d5c3c[_0x17f0e5(0x1de)](_0x3d5c3c[_0x17f0e5(0x1b2)]()+_0x123f0f);const _0x3c8b73=getLocalDateStr(_0x3d5c3c);let _0x186eba=_0x3d5c3c[_0x17f0e5(0x1c1)]()-0x1;if(_0x186eba===-0x1)_0x186eba=0x6;const _0x194f1b=_0x3c8b73===_0x5c23f6,_0x196e3c=document[_0x17f0e5(0x27d)](_0x17f0e5(0x20f));_0x196e3c[_0x17f0e5(0x258)]=_0x17f0e5(0x1e4)+(_0x194f1b?'today':''),_0x196e3c[_0x17f0e5(0x23f)](_0x17f0e5(0x1d3),_0x3c8b73),_0x196e3c['innerHTML']=_0x17f0e5(0x281)+_0x2cca38[_0x186eba]+'</div><div\x20class=\x22dch-num\x22>'+_0x3d5c3c[_0x17f0e5(0x1b2)]()+_0x17f0e5(0x201),_0x317fec[_0x17f0e5(0x1ae)](_0x196e3c);const _0x44ce32=document[_0x17f0e5(0x27d)]('div');_0x44ce32[_0x17f0e5(0x258)]=_0x17f0e5(0x1dd)+(_0x194f1b?'today':''),_0x44ce32[_0x17f0e5(0x23f)](_0x17f0e5(0x1d3),_0x3c8b73),_0x44ce32[_0x17f0e5(0x23f)](_0x17f0e5(0x24c),_0x186eba),_0x26fb26[_0x17f0e5(0x1ae)](_0x44ce32);}_0x4bebcb[_0x17f0e5(0x1fe)](_0x317fec,_0x4bebcb[_0x17f0e5(0x190)]),_0xf40f6f['insertBefore'](_0x26fb26,_0xf40f6f[_0x17f0e5(0x22b)]('.day-column'));}function hexToRgba(_0x4d8226,_0x3719e6){const _0x46c45b=a3_0x5cb4ed;let _0x196e96;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x46c45b(0x1dc)](_0x4d8226))return _0x196e96=_0x4d8226['substring'](0x1)['split'](''),_0x196e96['length']==0x3&&(_0x196e96=[_0x196e96[0x0],_0x196e96[0x0],_0x196e96[0x1],_0x196e96[0x1],_0x196e96[0x2],_0x196e96[0x2]]),_0x196e96='0x'+_0x196e96[_0x46c45b(0x23d)](''),_0x46c45b(0x1d4)+[_0x196e96>>0x10&0xff,_0x196e96>>0x8&0xff,_0x196e96&0xff]['join'](',')+','+_0x3719e6+')';return _0x46c45b(0x245)+_0x3719e6+')';}let confirmResolver=null;function showCustomConfirm(_0x191186,_0x526233,_0x3c0b21=!![]){const _0x13d3fe=a3_0x5cb4ed;document['getElementById']('ccTitle')[_0x13d3fe(0x233)]=_0x191186,document[_0x13d3fe(0x27c)]('ccText')['textContent']=_0x526233;const _0x2b9d2c=document[_0x13d3fe(0x27c)]('ccYesBtn');return _0x3c0b21?(_0x2b9d2c[_0x13d3fe(0x21e)][_0x13d3fe(0x289)]=_0x13d3fe(0x207),_0x2b9d2c[_0x13d3fe(0x21e)][_0x13d3fe(0x1c9)]=_0x13d3fe(0x1ac)):(_0x2b9d2c[_0x13d3fe(0x21e)][_0x13d3fe(0x289)]=_0x13d3fe(0x279),_0x2b9d2c['style'][_0x13d3fe(0x1c9)]=_0x13d3fe(0x1ac)),new Promise(_0x167cbd=>{const _0x5ccf29=_0x13d3fe;confirmResolver=_0x167cbd,document[_0x5ccf29(0x27c)]('customConfirm')[_0x5ccf29(0x1b7)][_0x5ccf29(0x1cc)]('visible');});}function resolveCustomConfirm(_0x244241){const _0x39b5f8=a3_0x5cb4ed;document[_0x39b5f8(0x27c)](_0x39b5f8(0x23c))[_0x39b5f8(0x1b7)][_0x39b5f8(0x1e5)]('visible');if(confirmResolver)confirmResolver(_0x244241);}async function tryCancelCurrentSession(){const _0x555592=a3_0x5cb4ed;if(!currentSession)return;const _0x47874f=await showCustomConfirm(_0x555592(0x274),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x47874f)return;const _0x5ecf8e=currentSession;closeAllSheets(),sessions=sessions[_0x555592(0x24a)](_0x4ff8d5=>_0x4ff8d5['id']!==_0x5ecf8e['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x555592(0x26a)]();try{const _0x31552c=window['Telegram']?.[_0x555592(0x1a5)],_0x365b5a=await fetch(API_URL,{'method':_0x555592(0x216),'body':JSON[_0x555592(0x227)]({'action':'client_cancel','init_data':_0x31552c?.['initData']||'','coachId':_0x5ecf8e[_0x555592(0x240)],'dateStr':_0x5ecf8e['dateStr'],'sessionId':_0x5ecf8e['id']})});if(_0x365b5a['ok'])DataManager[_0x555592(0x25b)]();}catch(_0x277684){showToast(_0x555592(0x25e));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3fb1ef=a3_0x5cb4ed;if(!currentSession)return;document[_0x3fb1ef(0x27c)](_0x3fb1ef(0x273))[_0x3fb1ef(0x1b7)][_0x3fb1ef(0x1e5)](_0x3fb1ef(0x206)),document[_0x3fb1ef(0x27c)](_0x3fb1ef(0x24d))['classList'][_0x3fb1ef(0x1cc)](_0x3fb1ef(0x206));const _0x1d7a3c=document[_0x3fb1ef(0x27c)](_0x3fb1ef(0x19a)),_0x401ad2=document[_0x3fb1ef(0x27c)](_0x3fb1ef(0x28a));_0x1d7a3c[_0x3fb1ef(0x27b)]='',_0x401ad2[_0x3fb1ef(0x27b)]=_0x3fb1ef(0x23e);const [_0x4797f8,_0x1fdaac]=currentSession[_0x3fb1ef(0x1cf)][_0x3fb1ef(0x18b)](':')['map'](Number),[_0x3d95d7,_0x175795]=currentSession['end'][_0x3fb1ef(0x18b)](':')[_0x3fb1ef(0x27e)](Number),_0x4959a4=_0x3d95d7*0x3c+_0x175795-(_0x4797f8*0x3c+_0x1fdaac);try{const _0x206985=window[_0x3fb1ef(0x203)]?.['WebApp'],_0xdcb850=await fetch(API_URL,{'method':_0x3fb1ef(0x216),'body':JSON[_0x3fb1ef(0x227)]({'action':_0x3fb1ef(0x253),'coachId':currentSession[_0x3fb1ef(0x240)],'duration':_0x4959a4,'init_data':_0x206985?.[_0x3fb1ef(0x27f)]||'','excludeSessionId':currentSession['id']})}),_0x530b8c=await _0xdcb850['json']();_0x530b8c['ok']&&_0x530b8c[_0x3fb1ef(0x26b)]?(availableSlotsCache=_0x530b8c[_0x3fb1ef(0x26b)],renderRescheduleDates()):_0x401ad2[_0x3fb1ef(0x27b)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';}catch(_0x1e8582){_0x401ad2[_0x3fb1ef(0x27b)]=_0x3fb1ef(0x214);}}function renderRescheduleDates(){const _0x5a8518=a3_0x5cb4ed,_0x384883=document['getElementById'](_0x5a8518(0x19a));_0x384883[_0x5a8518(0x27b)]='';const _0x1de0d2=Object[_0x5a8518(0x277)](availableSlotsCache)['sort'](),_0x1ef2f4=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1de0d2[_0x5a8518(0x1f1)]===0x0){document['getElementById'](_0x5a8518(0x28a))[_0x5a8518(0x27b)]=_0x5a8518(0x1f9);return;}_0x1de0d2['forEach']((_0x383a01,_0x20b5be)=>{const _0x2cbf61=_0x5a8518,_0x5b0983=new Date(_0x383a01),_0x43ff0e=_0x1ef2f4[_0x5b0983[_0x2cbf61(0x1c1)]()],_0x4fe5c1=_0x5b0983[_0x2cbf61(0x1b2)](),_0xba660e=document[_0x2cbf61(0x27d)](_0x2cbf61(0x20f));_0xba660e[_0x2cbf61(0x258)]=_0x2cbf61(0x1b5);if(_0x20b5be===0x0)_0xba660e[_0x2cbf61(0x1b7)][_0x2cbf61(0x1cc)](_0x2cbf61(0x1b9));_0xba660e[_0x2cbf61(0x27b)]=_0x2cbf61(0x1be)+_0x43ff0e+_0x2cbf61(0x284)+_0x4fe5c1+_0x2cbf61(0x201),_0xba660e['onclick']=()=>selectRsDate(_0x383a01,_0xba660e),_0x384883[_0x2cbf61(0x1ae)](_0xba660e);}),selectRsDate(_0x1de0d2[0x0],_0x384883[_0x5a8518(0x190)]);}function selectRsDate(_0x3f0c5b,_0x2d986b){const _0xe12103=a3_0x5cb4ed;selectedRsDate=_0x3f0c5b,document[_0xe12103(0x1d5)](_0xe12103(0x1bf))[_0xe12103(0x24b)](_0xf8105a=>_0xf8105a[_0xe12103(0x1b7)]['remove']('active'));if(_0x2d986b)_0x2d986b[_0xe12103(0x1b7)][_0xe12103(0x1cc)](_0xe12103(0x1b9));const _0x391d29=document[_0xe12103(0x27c)]('rsSlotsGrid');_0x391d29['innerHTML']='';const _0x134c43=availableSlotsCache[_0x3f0c5b]||[];if(_0x134c43[_0xe12103(0x1f1)]===0x0){_0x391d29[_0xe12103(0x27b)]=_0xe12103(0x256);return;}_0x134c43[_0xe12103(0x24b)](_0x156f9b=>{const _0x5d714b=_0xe12103,_0xba3e9d=document[_0x5d714b(0x27d)](_0x5d714b(0x18f));_0xba3e9d[_0x5d714b(0x258)]=_0x5d714b(0x218),_0xba3e9d[_0x5d714b(0x233)]=_0x156f9b,_0xba3e9d[_0x5d714b(0x20e)]=()=>confirmReschedule(_0x156f9b),_0x391d29[_0x5d714b(0x1ae)](_0xba3e9d);});}async function confirmReschedule(_0x499d66){const _0x1193f1=a3_0x5cb4ed,_0x26f023=new Date(selectedRsDate),_0x49a7fc=_0x26f023['toLocaleDateString'](_0x1193f1(0x1ba),{'day':_0x1193f1(0x198),'month':_0x1193f1(0x1aa)}),_0x2bdbab=await showCustomConfirm(_0x1193f1(0x25a),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x49a7fc+_0x1193f1(0x1f8)+_0x499d66+'?',![]);if(!_0x2bdbab)return;closeAllSheets(),showToast(_0x1193f1(0x19c)),lastUserActionTime=Date[_0x1193f1(0x26a)]();const _0x1c89da=currentSession[_0x1193f1(0x194)],_0x26ba04=currentSession['id'],[_0x522c45,_0x416bd5]=currentSession[_0x1193f1(0x1cf)][_0x1193f1(0x18b)](':')[_0x1193f1(0x27e)](Number),[_0x4bb4d4,_0x3f8033]=currentSession[_0x1193f1(0x200)][_0x1193f1(0x18b)](':')['map'](Number),_0x317f2b=_0x4bb4d4*0x3c+_0x3f8033-(_0x522c45*0x3c+_0x416bd5),[_0x425e90,_0x704903]=_0x499d66[_0x1193f1(0x18b)](':')[_0x1193f1(0x27e)](Number),_0x22ed89=_0x425e90*0x3c+_0x704903+_0x317f2b,_0x30581f=Math[_0x1193f1(0x262)](_0x22ed89/0x3c),_0x149b24=_0x22ed89%0x3c,_0x5e8a6e=String(_0x30581f)[_0x1193f1(0x1ce)](0x2,'0')+':'+String(_0x149b24)['padStart'](0x2,'0'),_0x386f20=sessions[_0x1193f1(0x1a6)](_0x441624=>_0x441624['id']===_0x26ba04);_0x386f20!==-0x1&&(sessions[_0x386f20][_0x1193f1(0x194)]=selectedRsDate,sessions[_0x386f20][_0x1193f1(0x1cf)]=_0x499d66,sessions[_0x386f20][_0x1193f1(0x200)]=_0x5e8a6e,reRenderBlocks());try{const _0x346c71=window[_0x1193f1(0x203)]?.[_0x1193f1(0x1a5)],_0x3b6ca7=await fetch(API_URL,{'method':_0x1193f1(0x216),'body':JSON[_0x1193f1(0x227)]({'action':_0x1193f1(0x268),'init_data':_0x346c71?.['initData']||'','oldSessionId':_0x26ba04,'oldDate':_0x1c89da,'newDate':selectedRsDate,'newTime':_0x499d66,'coachId':currentSession[_0x1193f1(0x240)]})}),_0x65ab80=await _0x3b6ca7[_0x1193f1(0x24f)]();!_0x65ab80['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x1193f1(0x288)]()):(showToast(_0x1193f1(0x18a)),DataManager[_0x1193f1(0x25b)]());}catch(_0x4de9c3){showToast(_0x1193f1(0x25e));}}document[a3_0x5cb4ed(0x1e1)](a3_0x5cb4ed(0x1e3),init);