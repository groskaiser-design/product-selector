const a3_0x6449d1=a3_0x271a;(function(_0x67ca4,_0x1049e7){const _0x2fa885=a3_0x271a,_0x45482e=_0x67ca4();while(!![]){try{const _0xefde20=-parseInt(_0x2fa885(0x20e))/0x1*(parseInt(_0x2fa885(0x2df))/0x2)+-parseInt(_0x2fa885(0x2c8))/0x3+-parseInt(_0x2fa885(0x2c7))/0x4*(-parseInt(_0x2fa885(0x1fe))/0x5)+parseInt(_0x2fa885(0x2d8))/0x6*(parseInt(_0x2fa885(0x287))/0x7)+-parseInt(_0x2fa885(0x277))/0x8*(parseInt(_0x2fa885(0x29f))/0x9)+-parseInt(_0x2fa885(0x2a8))/0xa*(-parseInt(_0x2fa885(0x22e))/0xb)+parseInt(_0x2fa885(0x245))/0xc*(parseInt(_0x2fa885(0x2a9))/0xd);if(_0xefde20===_0x1049e7)break;else _0x45482e['push'](_0x45482e['shift']());}catch(_0x2d74c9){_0x45482e['push'](_0x45482e['shift']());}}}(a3_0x5a5b,0xddd11));const APP_VERSION=a3_0x6449d1(0x285),API_URL=a3_0x6449d1(0x23f),GRID_H=0x3c,KEY_SESSIONS=a3_0x6449d1(0x2c0),KEY_SETTINGS=a3_0x6449d1(0x24e),KEY_CLIENTS=a3_0x6449d1(0x237);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x6449d1(0x2d6),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2d5b5e=a3_0x6449d1,_0x3d80e7=(function(){let _0x2d3baa=!![];return function(_0x1ccee6,_0x4c86c6){const _0x2b167f=_0x2d3baa?function(){const _0x19dd27=a3_0x271a;if(_0x4c86c6){const _0x3e3969=_0x4c86c6[_0x19dd27(0x296)](_0x1ccee6,arguments);return _0x4c86c6=null,_0x3e3969;}}:function(){};return _0x2d3baa=![],_0x2b167f;};}()),_0x4b8c91=_0x3d80e7(this,function(){const _0x495fc9=a3_0x271a;return _0x4b8c91['toString']()[_0x495fc9(0x231)](_0x495fc9(0x286))[_0x495fc9(0x2aa)]()[_0x495fc9(0x1ff)](_0x4b8c91)[_0x495fc9(0x231)](_0x495fc9(0x286));});_0x4b8c91();try{const _0x2ab15d=window[_0x2d5b5e(0x28f)]?.[_0x2d5b5e(0x25c)];if(!_0x2ab15d)return;_0x2ab15d[_0x2d5b5e(0x253)](),_0x2ab15d[_0x2d5b5e(0x27c)]();try{_0x2ab15d[_0x2d5b5e(0x29b)]('#050505'),_0x2ab15d[_0x2d5b5e(0x1ee)]&&_0x2ab15d[_0x2d5b5e(0x1ee)](_0x2d5b5e(0x2b5));}catch(_0x37eccd){console[_0x2d5b5e(0x273)]('Error\x20setting\x20color:',_0x37eccd);}try{_0x2ab15d['BackButton']&&(_0x2ab15d['BackButton']['show'](),_0x2ab15d['BackButton'][_0x2d5b5e(0x1f6)](),_0x2ab15d[_0x2d5b5e(0x2a7)]['onClick'](function(){const _0x3f7f01=_0x2d5b5e;window[_0x3f7f01(0x1f9)][_0x3f7f01(0x2cb)]='router.html';}));}catch(_0x144c64){console[_0x2d5b5e(0x273)](_0x2d5b5e(0x247),_0x144c64);}try{if(_0x2ab15d[_0x2d5b5e(0x227)])_0x2ab15d[_0x2d5b5e(0x227)]();}catch(_0x127c6a){}}catch(_0x1066e8){console[_0x2d5b5e(0x274)](_0x2d5b5e(0x269),_0x1066e8);}}());function isAdmin(){const _0x1cbdce=a3_0x6449d1;try{const _0x5150e2=Number(window[_0x1cbdce(0x28f)]?.[_0x1cbdce(0x25c)]?.[_0x1cbdce(0x2a2)]?.[_0x1cbdce(0x288)]?.['id']);return _0x5150e2===0xbaf7174;}catch(_0x270e88){return![];}}const DataManager={'saveLocally'(){const _0x520d3e=a3_0x6449d1;try{localStorage[_0x520d3e(0x2e9)](KEY_SESSIONS,JSON[_0x520d3e(0x2c4)](sessions)),localStorage[_0x520d3e(0x2e9)](KEY_CLIENTS,JSON[_0x520d3e(0x2c4)](clients)),localStorage[_0x520d3e(0x2e9)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x192858){}},'loadLocal'(){const _0x3bf61c=a3_0x6449d1;try{const _0x4d793a=localStorage[_0x3bf61c(0x2bb)](KEY_SESSIONS);if(_0x4d793a)sessions=JSON[_0x3bf61c(0x268)](_0x4d793a);const _0x5bede8=localStorage[_0x3bf61c(0x2bb)](KEY_CLIENTS);if(_0x5bede8)clients=JSON[_0x3bf61c(0x268)](_0x5bede8);const _0x73af9c=localStorage['getItem'](KEY_SETTINGS);if(_0x73af9c){const _0x9449cd=JSON['parse'](_0x73af9c);if(_0x9449cd[_0x3bf61c(0x272)])availabilityPattern=_0x9449cd['pattern'];if(_0x9449cd[_0x3bf61c(0x20a)])specialRanges=_0x9449cd[_0x3bf61c(0x20a)];if(_0x9449cd[_0x3bf61c(0x207)])dateExceptions=_0x9449cd[_0x3bf61c(0x207)];}}catch(_0x41e560){}},async 'syncLoad'(){const _0xba104=a3_0x6449d1,_0x2a060c=new Date(),_0x4b2357=_0x2a060c[_0xba104(0x200)]()+'-'+String(_0x2a060c[_0xba104(0x26b)]()+0x1)[_0xba104(0x25a)](0x2,'0'),_0x3c542=new Date(_0x2a060c);_0x3c542[_0xba104(0x2b2)](_0x2a060c[_0xba104(0x26b)]()+0x1);const _0x1c480e=_0x3c542[_0xba104(0x200)]()+'-'+String(_0x3c542[_0xba104(0x26b)]()+0x1)[_0xba104(0x25a)](0x2,'0'),_0x4ac2ca=Date[_0xba104(0x204)]();try{const _0x42a28d=window['Telegram']?.[_0xba104(0x25c)],_0x386ae6=_0x42a28d?.[_0xba104(0x2a0)]||'',[_0x9693cf,_0x1dc331]=await Promise['all']([fetch(API_URL,{'method':_0xba104(0x2e8),'body':JSON['stringify']({'action':_0xba104(0x203),'init_data':_0x386ae6,'month_str':_0x4b2357})})[_0xba104(0x28e)](_0x4e0d79=>_0x4e0d79[_0xba104(0x2a3)]()),fetch(API_URL,{'method':_0xba104(0x2e8),'body':JSON['stringify']({'action':'client_load','init_data':_0x386ae6,'month_str':_0x1c480e})})[_0xba104(0x28e)](_0x3bf473=>_0x3bf473['json']())]);if(lastUserActionTime>_0x4ac2ca){console[_0xba104(0x273)](_0xba104(0x2de));return;}if(_0x9693cf['ok'])this[_0xba104(0x215)](_0x9693cf[_0xba104(0x2dc)],_0x4b2357);if(_0x1dc331['ok'])this[_0xba104(0x215)](_0x1dc331['data'],_0x1c480e);this[_0xba104(0x22a)]();}catch(_0x150a60){}},'applyData'(_0x4cb03f,_0x486369){const _0xf6d02a=a3_0x6449d1;if(!_0x4cb03f)return;if(_0x4cb03f[_0xf6d02a(0x2a4)]){if(_0x4cb03f[_0xf6d02a(0x2a4)][_0xf6d02a(0x272)])availabilityPattern=_0x4cb03f[_0xf6d02a(0x2a4)][_0xf6d02a(0x272)];if(_0x4cb03f[_0xf6d02a(0x2a4)][_0xf6d02a(0x20a)])specialRanges=_0x4cb03f[_0xf6d02a(0x2a4)]['ranges'];if(_0x4cb03f[_0xf6d02a(0x2a4)]['exceptions'])dateExceptions=_0x4cb03f[_0xf6d02a(0x2a4)][_0xf6d02a(0x207)];}if(_0x4cb03f[_0xf6d02a(0x284)]&&Array[_0xf6d02a(0x230)](_0x4cb03f[_0xf6d02a(0x284)]))clients=_0x4cb03f[_0xf6d02a(0x284)];_0x4cb03f[_0xf6d02a(0x27e)]&&(coachProfiles={...coachProfiles,..._0x4cb03f[_0xf6d02a(0x27e)]}),_0x4cb03f[_0xf6d02a(0x28a)]&&(sessions=sessions[_0xf6d02a(0x1f0)](_0x5d4c89=>!_0x5d4c89['dateStr'][_0xf6d02a(0x28d)](_0x486369)),Object['keys'](_0x4cb03f[_0xf6d02a(0x28a)])['forEach'](_0x23c2d9=>{const _0x2124fc=_0xf6d02a,_0x3cfb33=_0x4cb03f[_0x2124fc(0x28a)][_0x23c2d9];_0x3cfb33['forEach'](_0x211ab6=>{const _0x479aba=_0x2124fc;sessions[_0x479aba(0x21b)]({'id':_0x211ab6['i'],'clientId':_0x211ab6['c'],'coachId':_0x211ab6['cid'],'dateStr':_0x486369+'-'+_0x23c2d9[_0x479aba(0x25a)](0x2,'0'),'start':_0x211ab6['s'],'end':_0x211ab6['e'],'note':_0x211ab6['n']||'','status':_0x211ab6['st']||_0x479aba(0x27f),'seriesId':_0x211ab6[_0x479aba(0x2c6)]});});})),reRenderBlocks();}};function init(){const _0x2be51b=a3_0x6449d1;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x2be51b(0x248))['addEventListener'](_0x2be51b(0x258),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2be51b(0x216)]();}function renderTimeColumn(){const _0x5b293e=a3_0x6449d1,_0x11220f=document[_0x5b293e(0x228)](_0x5b293e(0x202)),_0x48e4d9=document[_0x5b293e(0x228)](_0x5b293e(0x209));_0x11220f[_0x5b293e(0x252)]='',_0x11220f['appendChild'](_0x48e4d9);for(let _0x259e07=0x0;_0x259e07<0x18;_0x259e07++){const _0x38f348=document[_0x5b293e(0x2ac)](_0x5b293e(0x275));_0x38f348['className']=_0x5b293e(0x2a1);if(_0x259e07>0x0)_0x38f348[_0x5b293e(0x252)]=_0x5b293e(0x294)+String(_0x259e07)['padStart'](0x2,'0')+_0x5b293e(0x24d);_0x11220f[_0x5b293e(0x2b6)](_0x38f348);}}function renderDayRange(_0x2c3518,_0x3c3762){const _0x5ca378=a3_0x6449d1,_0x473df1=document[_0x5ca378(0x228)](_0x5ca378(0x225)),_0x140b7d=document[_0x5ca378(0x228)](_0x5ca378(0x259)),_0x284d72=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x514c93=new Date();_0x514c93['setHours'](0x0,0x0,0x0,0x0);const _0x57a883=getLocalDateStr(new Date());for(let _0x4519e1=_0x2c3518;_0x4519e1<=_0x3c3762;_0x4519e1++){const _0x19079a=new Date(_0x514c93);_0x19079a[_0x5ca378(0x2b4)](_0x19079a[_0x5ca378(0x24c)]()+_0x4519e1);const _0x22b40a=getLocalDateStr(_0x19079a);let _0x5d2205=_0x19079a[_0x5ca378(0x1f3)]()-0x1;if(_0x5d2205===-0x1)_0x5d2205=0x6;const _0x58d8ec=_0x22b40a===_0x57a883,_0x28e463=document['createElement']('div');_0x28e463[_0x5ca378(0x2ba)]='day-col-header\x20'+(_0x58d8ec?_0x5ca378(0x2ce):''),_0x28e463[_0x5ca378(0x2d1)](_0x5ca378(0x2b7),_0x22b40a),_0x28e463['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x284d72[_0x5d2205]+_0x5ca378(0x2a6)+_0x19079a['getDate']()+_0x5ca378(0x201),_0x473df1['appendChild'](_0x28e463);const _0x213c65=document[_0x5ca378(0x2ac)](_0x5ca378(0x275));_0x213c65[_0x5ca378(0x2ba)]=_0x5ca378(0x298)+(_0x58d8ec?_0x5ca378(0x2ce):''),_0x213c65[_0x5ca378(0x2d1)](_0x5ca378(0x2b7),_0x22b40a),_0x213c65[_0x5ca378(0x2d1)](_0x5ca378(0x2db),_0x5d2205),_0x140b7d[_0x5ca378(0x2b6)](_0x213c65);}}function a3_0x5a5b(){const _0x280205=['constructor','getFullYear','</div>','timeColumn','client_load','now','day-off-overlay\x20stripe-bg','.day-column','exceptions','status','timeLineBadge','ranges','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','anPercent','color','9431cmexOk','sort','auto','join','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','rgba(10,\x20132,\x20255,\x20','applyData','syncLoad','onclick','min','ccTitle','clientId','push','.period-switch\x20.p-btn','rs-date-chip','–û—Ç–º–µ–Ω–µ–Ω–æ','substr','blocked-slot\x20stripe-bg','zIndex','toast','test','offsetWidth','daysHeaderTrack','custom','disableVerticalSwipes','getElementById','rgba(','saveLocally','toLocaleDateString','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getHours','4015EwlEAb','cancelHint','isArray','search','\x20—á.','active','ccYesBtn','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','uc_client_list','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','calc(','cancel_window','value','var(--acc-green)','analyticsList','keys','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','entries','height','slice','coachId','insertBefore','12fRSVEk','remove','Error\x20setting\x20back\x20button:','matrixViewport','total','borderLeftColor','reschedule','getDate',':00</span>','uc_client_settings','textContent','anEnd','.day-col-header','innerHTML','ready','get_slots','top','analyticsSheet','DOMContentLoaded','scroll','gridColumns','padStart','detailsSheet','WebApp','<div\x20class=\x22dch-day\x22>','</div><div\x20class=\x22rs-day-num\x22>','px\x200px','%\x20+\x202px)','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','max','scrollWidth','setHours','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','seriesId','parse','Critical\x20TMA\x20Error:','end','getMonth','#ff453a','scrollTop','overlay','rescheduleSheet','map','anDonutCircle','pattern','log','error','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','16SRcAXv','open','blocked-range-part\x20stripe-bg','forEach','fontWeight','expand','ru-RU','coach_profiles','planned','classList','anStart','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','clients','v9.5-CLIENT-ANALYTICS','(((.+)+)+)+$','1170918Jqrfeg','user','start','calendar','done','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','startsWith','then','Telegram','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','flex','completed','%\x20-\x204px)','<span>','getMinutes','apply','.rs-date-chip','day-column\x20','detStatus','scrollTo','setHeaderColor','clientWidth','\x20status-completed','show','7686009yDckyJ','initData','time-label','initDataUnsafe','json','settings','floor','</div><div\x20class=\x22dch-num\x22>','BackButton','28450jnbcOP','33423403TyBpSp','toString','client-stat-card','createElement','colIndex','add','rsSlotsGrid','scrollLeft','style','setMonth','px\x20-','setDate','#050505','appendChild','data-date','T00:00:00','strokeDashoffset','className','getItem','ccText','round','–∑–∞\x20','querySelectorAll','uc_client_sessions','rsDatesTrack','display','mini','stringify','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','sid','576948ChKApn','2329668tfALVZ','600','querySelector','href','block','find','today','backgroundPosition','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','setAttribute','getAttribute','findIndex','globalTimeLine','anTotalStats','week','getTime','12vFoulc','Unknown','.day-col-header[data-date=\x22','data-day-idx','data','substring','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','178bngEqj','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','button','detTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</span>\x20/\x20','width','POST','setItem','client_cancel','split','toUpperCase','.btn-reschedule','numeric','dateStr','none','setBackgroundColor','note','filter','length','offsetLeft','getDay','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','long','offClick','anCustomDates','detDate','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#0a84ff','.sheet','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','10DUDbrO'];a3_0x5a5b=function(){return _0x280205;};return a3_0x5a5b();}function reRenderBlocks(){const _0x40a11c=a3_0x6449d1;document[_0x40a11c(0x2bf)](_0x40a11c(0x206))['forEach'](_0x5e7bc3=>{const _0x10bd1a=_0x40a11c;_0x5e7bc3[_0x10bd1a(0x2bf)](_0x10bd1a(0x238))['forEach'](_0x4c39e6=>_0x4c39e6[_0x10bd1a(0x246)]());const _0x2162db=_0x5e7bc3[_0x10bd1a(0x2d2)]('data-date'),_0x2a62b2=parseInt(_0x5e7bc3[_0x10bd1a(0x2d2)]('data-day-idx')),_0xb89a6e=Math[_0x10bd1a(0x2bd)](_0x5e7bc3[_0x10bd1a(0x1f2)]);(availabilityPattern[_0x2a62b2]||[])['forEach'](_0x153d7f=>{const _0x4dc8f0=_0x10bd1a,_0x140a48=document['createElement'](_0x4dc8f0(0x275));_0x140a48[_0x4dc8f0(0x2ba)]=_0x4dc8f0(0x220),_0x140a48[_0x4dc8f0(0x2b1)][_0x4dc8f0(0x255)]=_0x153d7f*GRID_H+'px',_0x140a48[_0x4dc8f0(0x2b1)][_0x4dc8f0(0x2cf)]='-'+_0xb89a6e+_0x4dc8f0(0x2b3)+_0x153d7f*GRID_H+'px',_0x5e7bc3[_0x4dc8f0(0x2b6)](_0x140a48);});if(specialRanges[_0x10bd1a(0x1f1)]>0x0){const _0x4f499f=new Date(_0x2162db+_0x10bd1a(0x2b8))[_0x10bd1a(0x2d7)](),_0xdbb64c=new Date(_0x2162db+'T23:59:59')[_0x10bd1a(0x2d7)]();specialRanges[_0x10bd1a(0x27a)](_0x65eb82=>{const _0x554574=_0x10bd1a,_0x3001cd=new Date(_0x65eb82['start'])[_0x554574(0x2d7)](),_0xcfb130=new Date(_0x65eb82[_0x554574(0x26a)])[_0x554574(0x2d7)](),_0x3afcc7=Math[_0x554574(0x262)](_0x4f499f,_0x3001cd),_0x5d5696=Math[_0x554574(0x218)](_0xdbb64c,_0xcfb130);if(_0x3afcc7<_0x5d5696){const _0x346d9c=(_0x3afcc7-_0x4f499f)/0x36ee80*GRID_H,_0x38d8fc=(_0x5d5696-_0x3afcc7)/0x36ee80*GRID_H,_0x574146=document[_0x554574(0x2ac)]('div');_0x38d8fc>=23.5*GRID_H?(_0x574146[_0x554574(0x2ba)]=_0x554574(0x205),_0x574146[_0x554574(0x2b1)]['backgroundPosition']='-'+_0xb89a6e+_0x554574(0x25f)):(_0x574146[_0x554574(0x2ba)]=_0x554574(0x279),_0x574146['style'][_0x554574(0x255)]=_0x346d9c+'px',_0x574146['style']['height']=_0x38d8fc+'px',_0x574146[_0x554574(0x2b1)]['backgroundPosition']='-'+_0xb89a6e+_0x554574(0x2b3)+_0x346d9c+'px'),_0x5e7bc3['appendChild'](_0x574146);}});}renderEventsForColumn(_0x5e7bc3,_0x2162db);});}function renderEventsForColumn(_0x36d20b,_0x4a33f4){const _0x431925=a3_0x6449d1,_0x2a3c77=sessions['filter'](_0x2ebf73=>_0x2ebf73[_0x431925(0x1ec)]===_0x4a33f4),_0x14457b=_0x2a3c77[_0x431925(0x270)](_0x125348=>{const _0x412fdc=_0x431925,[_0x175da6,_0x153822]=_0x125348[_0x412fdc(0x289)][_0x412fdc(0x2eb)](':')[_0x412fdc(0x270)](Number),[_0x2444d9,_0x447f7f]=_0x125348['end'][_0x412fdc(0x2eb)](':')['map'](Number);return{'data':_0x125348,'start':_0x175da6*0x3c+_0x153822,'end':_0x2444d9*0x3c+_0x447f7f,'colIndex':0x0};});_0x14457b[_0x431925(0x20f)]((_0x29001a,_0x4d5249)=>_0x29001a['start']-_0x4d5249[_0x431925(0x289)]||_0x4d5249['end']-_0x4d5249[_0x431925(0x289)]-(_0x29001a[_0x431925(0x26a)]-_0x29001a[_0x431925(0x289)]));const _0x52636a=[];_0x14457b[_0x431925(0x27a)](_0x32fb16=>{const _0x3a25dd=_0x431925;let _0x4b1aaf=![];for(let _0x11226a=0x0;_0x11226a<_0x52636a[_0x3a25dd(0x1f1)];_0x11226a++){const _0x4bb15d=_0x52636a[_0x11226a];if(_0x32fb16[_0x3a25dd(0x289)]>=_0x4bb15d[_0x4bb15d[_0x3a25dd(0x1f1)]-0x1][_0x3a25dd(0x26a)]){_0x4bb15d['push'](_0x32fb16),_0x32fb16[_0x3a25dd(0x2ad)]=_0x11226a,_0x4b1aaf=!![];break;}}!_0x4b1aaf&&(_0x52636a[_0x3a25dd(0x21b)]([_0x32fb16]),_0x32fb16[_0x3a25dd(0x2ad)]=_0x52636a[_0x3a25dd(0x1f1)]-0x1);}),_0x14457b[_0x431925(0x27a)](_0x4a58aa=>{const _0x25193c=_0x431925;let _0x524be3=0x0;_0x14457b['forEach'](_0x2c2d29=>{const _0x2173fb=a3_0x271a;if(Math[_0x2173fb(0x262)](_0x4a58aa[_0x2173fb(0x289)],_0x2c2d29[_0x2173fb(0x289)])<Math[_0x2173fb(0x218)](_0x4a58aa['end'],_0x2c2d29[_0x2173fb(0x26a)])&&_0x2c2d29[_0x2173fb(0x2ad)]>_0x524be3)_0x524be3=_0x2c2d29['colIndex'];});const _0x435338=_0x524be3+0x1,_0x155995=0x64/_0x435338,_0x44bd0c=_0x4a58aa['colIndex']*_0x155995,_0x3510c5=document[_0x25193c(0x2ac)](_0x25193c(0x275)),_0x4bb684=_0x4a58aa[_0x25193c(0x2dc)];let _0x35c919=_0x25193c(0x1fb);if(clients&&clients['length']>0x0){const _0x44f618=clients[_0x25193c(0x2cd)](_0xc69441=>String(_0xc69441['id'])===String(_0x4bb684[_0x25193c(0x21a)]));if(_0x44f618&&_0x44f618['color'])_0x35c919=_0x44f618[_0x25193c(0x20d)];}const _0x492280=_0x4bb684[_0x25193c(0x208)]===_0x25193c(0x292),_0x4d1406=_0x492280?0x1:0.45;_0x3510c5[_0x25193c(0x2ba)]='event-card'+(_0x492280?_0x25193c(0x29d):''),_0x3510c5[_0x25193c(0x2b1)]['backgroundColor']=hexToRgba(_0x35c919,_0x4d1406),_0x3510c5[_0x25193c(0x2b1)][_0x25193c(0x24a)]=_0x35c919;const _0x31de31=_0x4a58aa[_0x25193c(0x289)]/0x3c*GRID_H,_0x3fe28a=(_0x4a58aa[_0x25193c(0x26a)]-_0x4a58aa[_0x25193c(0x289)])/0x3c*GRID_H;_0x3510c5[_0x25193c(0x2b1)][_0x25193c(0x255)]=_0x31de31+'px',_0x3510c5[_0x25193c(0x2b1)][_0x25193c(0x241)]=Math[_0x25193c(0x262)](_0x3fe28a,0x14)+'px',_0x3510c5[_0x25193c(0x2b1)][_0x25193c(0x2e7)]=_0x25193c(0x239)+_0x155995+_0x25193c(0x293),_0x3510c5[_0x25193c(0x2b1)]['left']='calc('+_0x44bd0c+_0x25193c(0x260),_0x3510c5['style'][_0x25193c(0x221)]=0xa+_0x4a58aa[_0x25193c(0x2ad)];if(_0x155995<0x55)_0x3510c5[_0x25193c(0x280)][_0x25193c(0x2ae)](_0x25193c(0x2c3));let _0x382b8b='';if(_0x4bb684[_0x25193c(0x267)])_0x382b8b+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x492280)_0x382b8b+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x3510c5[_0x25193c(0x252)]=_0x25193c(0x276)+_0x4bb684[_0x25193c(0x289)]+'\x20-\x20'+_0x4bb684[_0x25193c(0x26a)]+_0x25193c(0x2e1)+_0x382b8b+_0x25193c(0x1fa),_0x3510c5['onclick']=_0x4af012=>{_0x4af012['stopPropagation'](),openDetails(_0x4bb684);},_0x36d20b[_0x25193c(0x2b6)](_0x3510c5);});}function openAnalytics(){const _0x17e9ce=a3_0x6449d1,_0x361fef=document['querySelector'](_0x17e9ce(0x21c));setAnalyticsPeriod(_0x17e9ce(0x2d6),_0x361fef),openSheet(_0x17e9ce(0x256));}function setAnalyticsPeriod(_0x334ea2,_0x203327){const _0x3a37dc=a3_0x6449d1;currentAnPeriod=_0x334ea2,document[_0x3a37dc(0x2bf)](_0x3a37dc(0x21c))[_0x3a37dc(0x27a)](_0x1f46b9=>_0x1f46b9[_0x3a37dc(0x280)][_0x3a37dc(0x246)](_0x3a37dc(0x233)));if(_0x203327)_0x203327[_0x3a37dc(0x280)][_0x3a37dc(0x2ae)](_0x3a37dc(0x233));const _0x452622=document[_0x3a37dc(0x228)](_0x3a37dc(0x1f7));_0x452622['style'][_0x3a37dc(0x2c2)]=_0x334ea2===_0x3a37dc(0x226)?_0x3a37dc(0x291):_0x3a37dc(0x1ed);const _0x5a2433=new Date();let _0x3923e0=new Date(),_0x15c81c=new Date();if(_0x334ea2===_0x3a37dc(0x2d6))_0x3923e0=getStartOfWeek(_0x5a2433),_0x15c81c=new Date(_0x3923e0),_0x15c81c[_0x3a37dc(0x2b4)](_0x15c81c[_0x3a37dc(0x24c)]()+0x6);else{if(_0x334ea2==='month')_0x3923e0=new Date(_0x5a2433[_0x3a37dc(0x200)](),_0x5a2433[_0x3a37dc(0x26b)](),0x1),_0x15c81c=new Date(_0x5a2433[_0x3a37dc(0x200)](),_0x5a2433[_0x3a37dc(0x26b)]()+0x1,0x0);else{!document[_0x3a37dc(0x228)](_0x3a37dc(0x281))[_0x3a37dc(0x23b)]&&(document[_0x3a37dc(0x228)](_0x3a37dc(0x281))[_0x3a37dc(0x23b)]=getLocalDateStr(_0x5a2433),document['getElementById'](_0x3a37dc(0x250))[_0x3a37dc(0x23b)]=getLocalDateStr(_0x5a2433));refreshAnalytics();return;}}document[_0x3a37dc(0x228)](_0x3a37dc(0x281))[_0x3a37dc(0x23b)]=getLocalDateStr(_0x3923e0),document[_0x3a37dc(0x228)](_0x3a37dc(0x250))['value']=getLocalDateStr(_0x15c81c),refreshAnalytics();}function refreshAnalytics(){const _0x3abc33=a3_0x6449d1,_0x2130f7=document[_0x3abc33(0x228)](_0x3abc33(0x281))[_0x3abc33(0x23b)],_0x212248=document['getElementById'](_0x3abc33(0x250))[_0x3abc33(0x23b)];if(!_0x2130f7||!_0x212248)return;const _0x47345b=sessions[_0x3abc33(0x1f0)](_0x45feef=>_0x45feef['dateStr']>=_0x2130f7&&_0x45feef[_0x3abc33(0x1ec)]<=_0x212248&&_0x45feef['status']!=='cancelled'),_0xca3139=_0x47345b[_0x3abc33(0x1f1)],_0x4013e0=_0x47345b['filter'](_0x37f2d2=>_0x37f2d2[_0x3abc33(0x208)]===_0x3abc33(0x292))[_0x3abc33(0x1f1)],_0x72cf25=_0xca3139>0x0?Math[_0x3abc33(0x2bd)](_0x4013e0/_0xca3139*0x64):0x0;document[_0x3abc33(0x228)](_0x3abc33(0x20c))[_0x3abc33(0x24f)]=_0x72cf25+'%',document[_0x3abc33(0x228)](_0x3abc33(0x2d5))[_0x3abc33(0x24f)]=_0x4013e0+'\x20–∏–∑\x20'+_0xca3139+_0x3abc33(0x28c);const _0x102b1f=document[_0x3abc33(0x228)](_0x3abc33(0x271)),_0x442291=0x2*Math['PI']*0x23,_0x39921d=_0x442291-_0x72cf25/0x64*_0x442291;_0x102b1f[_0x3abc33(0x2b1)][_0x3abc33(0x2b9)]=_0x39921d;const _0x3c4aa7={};_0x47345b['forEach'](_0x23ec79=>{const _0x4f5ae2=_0x3abc33,_0x5646c6=_0x23ec79[_0x4f5ae2(0x243)]||_0x4f5ae2(0x2d9);if(!_0x3c4aa7[_0x5646c6]){const _0x1b1b22='#'+_0x5646c6[_0x4f5ae2(0x2aa)]()[_0x4f5ae2(0x21f)](0x0,0x6);_0x3c4aa7[_0x5646c6]={'total':0x0,'done':0x0,'color':_0x1b1b22};}_0x3c4aa7[_0x5646c6][_0x4f5ae2(0x249)]++;if(_0x23ec79['status']===_0x4f5ae2(0x292))_0x3c4aa7[_0x5646c6][_0x4f5ae2(0x28b)]++;});const _0x98fced=document[_0x3abc33(0x228)](_0x3abc33(0x23d));_0x98fced[_0x3abc33(0x252)]='';const _0x54261e=Object[_0x3abc33(0x240)](_0x3c4aa7)[_0x3abc33(0x20f)]((_0x2ad37e,_0xe22200)=>_0xe22200[0x1][_0x3abc33(0x249)]-_0x2ad37e[0x1][_0x3abc33(0x249)]);if(_0x54261e[_0x3abc33(0x1f1)]===0x0){_0x98fced['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x54261e[_0x3abc33(0x27a)](([_0x210872,_0x506c6b])=>{const _0x3c10f6=_0x3abc33,_0x2795b1=Math['round'](_0x506c6b['done']/_0x506c6b[_0x3c10f6(0x249)]*0x64),_0x139291=document[_0x3c10f6(0x2ac)](_0x3c10f6(0x275));_0x139291[_0x3c10f6(0x2ba)]=_0x3c10f6(0x2ab),_0x139291[_0x3c10f6(0x2b1)][_0x3c10f6(0x24a)]=_0x506c6b[_0x3c10f6(0x20d)],_0x139291[_0x3c10f6(0x252)]=_0x3c10f6(0x213)+_0x210872[_0x3c10f6(0x21f)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x506c6b[_0x3c10f6(0x28b)]+_0x3c10f6(0x2e6)+_0x506c6b['total']+_0x3c10f6(0x2e5)+_0x2795b1+_0x3c10f6(0x22c),_0x98fced[_0x3c10f6(0x2b6)](_0x139291);});}function openDetails(_0x480455){const _0x3aae15=a3_0x6449d1;currentSession=_0x480455;const _0x47377e=new Date(_0x480455[_0x3aae15(0x1ec)]),_0x41ef82=_0x47377e[_0x3aae15(0x22b)]('ru-RU',{'weekday':'long','day':_0x3aae15(0x1eb),'month':_0x3aae15(0x1f5)});document['getElementById'](_0x3aae15(0x1f8))['textContent']=_0x41ef82['charAt'](0x0)[_0x3aae15(0x2ec)]()+_0x41ef82[_0x3aae15(0x242)](0x1),document[_0x3aae15(0x228)](_0x3aae15(0x2e4))[_0x3aae15(0x24f)]=_0x480455[_0x3aae15(0x289)]+'\x20-\x20'+_0x480455['end'],document[_0x3aae15(0x228)]('detNote')[_0x3aae15(0x24f)]=_0x480455[_0x3aae15(0x1ef)]||_0x3aae15(0x1fd);const _0x3c9812=document[_0x3aae15(0x228)](_0x3aae15(0x299)),_0x45b7c0=document[_0x3aae15(0x228)]('cancelContainer'),_0x236f11=_0x45b7c0['querySelector']('.btn-cancel'),_0x17b6ca=_0x45b7c0[_0x3aae15(0x2ca)](_0x3aae15(0x2ed)),_0x6ea7ad=document[_0x3aae15(0x228)](_0x3aae15(0x22f));if(_0x480455[_0x3aae15(0x208)]===_0x3aae15(0x292))_0x3c9812[_0x3aae15(0x24f)]=_0x3aae15(0x212),_0x3c9812[_0x3aae15(0x2b1)]['color']=_0x3aae15(0x23c),_0x45b7c0['style'][_0x3aae15(0x2c2)]=_0x3aae15(0x1ed);else{_0x3c9812['textContent']=_0x3aae15(0x1f4),_0x3c9812[_0x3aae15(0x2b1)][_0x3aae15(0x20d)]='var(--acc-blue)',_0x45b7c0[_0x3aae15(0x2b1)][_0x3aae15(0x2c2)]=_0x3aae15(0x2cc);const _0x2f13c4=new Date(_0x480455[_0x3aae15(0x1ec)]+'T'+_0x480455[_0x3aae15(0x289)]),_0x21fcee=new Date(),_0xecf453=(_0x2f13c4-_0x21fcee)/(0x3e8*0x3c*0x3c),_0x141767=coachProfiles[_0x480455['coachId']]&&coachProfiles[_0x480455['coachId']][_0x3aae15(0x23a)]?parseInt(coachProfiles[_0x480455[_0x3aae15(0x243)]]['cancel_window']):0x18;if(_0x141767===0x0||_0xecf453>=_0x141767)_0x236f11[_0x3aae15(0x2b1)][_0x3aae15(0x2c2)]='block',_0x17b6ca[_0x3aae15(0x2b1)]['display']=_0x3aae15(0x2cc),_0x6ea7ad['style'][_0x3aae15(0x2c2)]=_0x3aae15(0x1ed);else{_0x236f11[_0x3aae15(0x2b1)]['display']=_0x3aae15(0x1ed),_0x17b6ca[_0x3aae15(0x2b1)][_0x3aae15(0x2c2)]=_0x3aae15(0x1ed),_0x6ea7ad[_0x3aae15(0x2b1)][_0x3aae15(0x2c2)]=_0x3aae15(0x2cc);let _0x4d9ad1=_0x141767===0x0?_0x3aae15(0x282):_0x3aae15(0x2be)+_0x141767+_0x3aae15(0x232);_0x6ea7ad[_0x3aae15(0x24f)]=_0x3aae15(0x2e0)+_0x4d9ad1+_0x3aae15(0x290);}}document['getElementById']('overlay')['classList'][_0x3aae15(0x2ae)](_0x3aae15(0x233)),document[_0x3aae15(0x228)](_0x3aae15(0x25b))['classList'][_0x3aae15(0x2ae)](_0x3aae15(0x278));}function closeAllSheets(){const _0x1c8c5d=a3_0x6449d1;document[_0x1c8c5d(0x228)](_0x1c8c5d(0x26e))[_0x1c8c5d(0x280)][_0x1c8c5d(0x246)](_0x1c8c5d(0x233)),document[_0x1c8c5d(0x2bf)](_0x1c8c5d(0x1fc))['forEach'](_0x2a3b4c=>_0x2a3b4c[_0x1c8c5d(0x280)][_0x1c8c5d(0x246)]('open'));}function openSheet(_0x4ff3ac){const _0x4b40bd=a3_0x6449d1;document[_0x4b40bd(0x228)](_0x4b40bd(0x26e))[_0x4b40bd(0x280)][_0x4b40bd(0x2ae)](_0x4b40bd(0x233)),document[_0x4b40bd(0x228)](_0x4ff3ac)[_0x4b40bd(0x280)][_0x4b40bd(0x2ae)](_0x4b40bd(0x278));}function getLocalDateStr(_0x3db474){const _0x149b27=a3_0x6449d1,_0x4c3af4=_0x3db474[_0x149b27(0x200)](),_0x59a6f7=String(_0x3db474[_0x149b27(0x26b)]()+0x1)['padStart'](0x2,'0'),_0x32e32c=String(_0x3db474['getDate']())['padStart'](0x2,'0');return _0x4c3af4+'-'+_0x59a6f7+'-'+_0x32e32c;}function a3_0x271a(_0x5369d8,_0x429760){_0x5369d8=_0x5369d8-0x1eb;const _0x124409=a3_0x5a5b();let _0xa42c07=_0x124409[_0x5369d8];return _0xa42c07;}function getStartOfWeek(_0x78c427){const _0x12dd34=a3_0x6449d1,_0x44482d=new Date(_0x78c427),_0x4bc8b9=_0x44482d[_0x12dd34(0x1f3)](),_0x4d5ebd=_0x44482d[_0x12dd34(0x24c)]()-_0x4bc8b9+(_0x4bc8b9===0x0?-0x6:0x1);return _0x44482d[_0x12dd34(0x2b4)](_0x4d5ebd),_0x44482d[_0x12dd34(0x264)](0x0,0x0,0x0,0x0),_0x44482d;}function scrollToToday(){const _0x5a4113=getLocalDateStr(new Date());setTimeout(()=>{const _0x28f225=a3_0x271a,_0x32d2a2=document[_0x28f225(0x2ca)](_0x28f225(0x2da)+_0x5a4113+'\x22]');if(_0x32d2a2){const _0x30a154=document[_0x28f225(0x228)](_0x28f225(0x248)),_0x5767ea=_0x32d2a2[_0x28f225(0x1f2)]-_0x30a154[_0x28f225(0x29c)]/0x2+_0x32d2a2[_0x28f225(0x224)]/0x2;_0x30a154[_0x28f225(0x29a)]({'left':_0x5767ea,'behavior':_0x28f225(0x210)}),_0x30a154[_0x28f225(0x26d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3c9d88=a3_0x6449d1,_0x55b5cc=new Date(),_0x150961=document[_0x3c9d88(0x228)](_0x3c9d88(0x2d4)),_0x2fde08=document['getElementById'](_0x3c9d88(0x209)),_0x2849cc=(_0x55b5cc['getHours']()*0x3c+_0x55b5cc['getMinutes']())/0x3c*GRID_H;_0x150961[_0x3c9d88(0x2b1)][_0x3c9d88(0x255)]=_0x2849cc+'px',_0x150961['style']['display']=_0x3c9d88(0x2cc),_0x2fde08['style'][_0x3c9d88(0x255)]=_0x2849cc+'px',_0x2fde08[_0x3c9d88(0x2b1)][_0x3c9d88(0x2c2)]=_0x3c9d88(0x2cc),_0x2fde08[_0x3c9d88(0x24f)]=String(_0x55b5cc[_0x3c9d88(0x22d)]())[_0x3c9d88(0x25a)](0x2,'0')+':'+String(_0x55b5cc[_0x3c9d88(0x295)]())[_0x3c9d88(0x25a)](0x2,'0');}function onScroll(){const _0x1a7d1d=a3_0x6449d1,_0x35d0e7=document[_0x1a7d1d(0x228)]('matrixViewport'),_0x53b14e=document[_0x1a7d1d(0x2bf)](_0x1a7d1d(0x251));for(let _0x2f0bbf of _0x53b14e)if(_0x2f0bbf[_0x1a7d1d(0x1f2)]>=_0x35d0e7[_0x1a7d1d(0x2b0)]){const _0x334fdc=new Date(_0x2f0bbf[_0x1a7d1d(0x2d2)](_0x1a7d1d(0x2b7)));document[_0x1a7d1d(0x228)]('headerMonth')[_0x1a7d1d(0x24f)]=_0x334fdc['toLocaleString']('ru',{'month':_0x1a7d1d(0x1f5)})[_0x1a7d1d(0x2ec)]()+'\x20'+_0x334fdc[_0x1a7d1d(0x200)]();break;}}function showToast(_0x1f282b){const _0x4dc12e=a3_0x6449d1,_0x5025db=document[_0x4dc12e(0x228)](_0x4dc12e(0x222));_0x5025db[_0x4dc12e(0x24f)]=_0x1f282b,_0x5025db[_0x4dc12e(0x280)][_0x4dc12e(0x2ae)]('show'),setTimeout(()=>_0x5025db[_0x4dc12e(0x280)][_0x4dc12e(0x246)](_0x4dc12e(0x29e)),0x7d0);}function handleInfiniteScroll(){const _0x2db02f=a3_0x6449d1,_0x46cf58=document[_0x2db02f(0x228)]('matrixViewport'),_0x16cbde=_0x46cf58['scrollLeft'],_0x3e73a8=_0x46cf58[_0x2db02f(0x263)],_0x361ab0=_0x46cf58[_0x2db02f(0x29c)];if(_0x3e73a8-(_0x16cbde+_0x361ab0)<0x12c){const _0x30ea1b=endOffset;endOffset+=0xe,renderDayRange(_0x30ea1b+0x1,endOffset),reRenderBlocks();}if(_0x16cbde<0x12c){const _0x3c0967=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3c0967-0x1),_0x46cf58[_0x2db02f(0x2b0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x56686f,_0x25b6aa){const _0x4f0d46=a3_0x6449d1,_0x27910c=document[_0x4f0d46(0x228)]('daysHeaderTrack'),_0x118260=document['getElementById'](_0x4f0d46(0x259)),_0x3e44b3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x228ff7=new Date();_0x228ff7['setHours'](0x0,0x0,0x0,0x0);const _0x1d56b6=getLocalDateStr(new Date()),_0x2c4f6b=document['createDocumentFragment'](),_0x2054ef=document[_0x4f0d46(0x2e2)]();for(let _0x285269=_0x56686f;_0x285269<=_0x25b6aa;_0x285269++){const _0x557bef=new Date(_0x228ff7);_0x557bef[_0x4f0d46(0x2b4)](_0x557bef[_0x4f0d46(0x24c)]()+_0x285269);const _0x5040bc=getLocalDateStr(_0x557bef);let _0x554bd3=_0x557bef[_0x4f0d46(0x1f3)]()-0x1;if(_0x554bd3===-0x1)_0x554bd3=0x6;const _0x1467e7=_0x5040bc===_0x1d56b6,_0xd86d4=document[_0x4f0d46(0x2ac)](_0x4f0d46(0x275));_0xd86d4[_0x4f0d46(0x2ba)]='day-col-header\x20'+(_0x1467e7?_0x4f0d46(0x2ce):''),_0xd86d4[_0x4f0d46(0x2d1)](_0x4f0d46(0x2b7),_0x5040bc),_0xd86d4[_0x4f0d46(0x252)]=_0x4f0d46(0x25d)+_0x3e44b3[_0x554bd3]+_0x4f0d46(0x2a6)+_0x557bef['getDate']()+_0x4f0d46(0x201),_0x2c4f6b[_0x4f0d46(0x2b6)](_0xd86d4);const _0x512725=document[_0x4f0d46(0x2ac)](_0x4f0d46(0x275));_0x512725['className']=_0x4f0d46(0x298)+(_0x1467e7?_0x4f0d46(0x2ce):''),_0x512725[_0x4f0d46(0x2d1)](_0x4f0d46(0x2b7),_0x5040bc),_0x512725[_0x4f0d46(0x2d1)](_0x4f0d46(0x2db),_0x554bd3),_0x2054ef[_0x4f0d46(0x2b6)](_0x512725);}_0x27910c[_0x4f0d46(0x244)](_0x2c4f6b,_0x27910c['firstChild']),_0x118260[_0x4f0d46(0x244)](_0x2054ef,_0x118260[_0x4f0d46(0x2ca)](_0x4f0d46(0x206)));}function hexToRgba(_0x4a65cf,_0x56ff21){const _0x466959=a3_0x6449d1;let _0x240479;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x466959(0x223)](_0x4a65cf))return _0x240479=_0x4a65cf[_0x466959(0x2dd)](0x1)[_0x466959(0x2eb)](''),_0x240479[_0x466959(0x1f1)]==0x3&&(_0x240479=[_0x240479[0x0],_0x240479[0x0],_0x240479[0x1],_0x240479[0x1],_0x240479[0x2],_0x240479[0x2]]),_0x240479='0x'+_0x240479['join'](''),_0x466959(0x229)+[_0x240479>>0x10&0xff,_0x240479>>0x8&0xff,_0x240479&0xff][_0x466959(0x211)](',')+','+_0x56ff21+')';return _0x466959(0x214)+_0x56ff21+')';}let confirmResolver=null;function showCustomConfirm(_0x284a90,_0x46e941,_0x43ea1d=!![]){const _0x479846=a3_0x6449d1;document[_0x479846(0x228)](_0x479846(0x219))[_0x479846(0x24f)]=_0x284a90,document['getElementById'](_0x479846(0x2bc))[_0x479846(0x24f)]=_0x46e941;const _0x40dc9e=document[_0x479846(0x228)](_0x479846(0x234));return _0x43ea1d?(_0x40dc9e[_0x479846(0x2b1)]['color']=_0x479846(0x26c),_0x40dc9e[_0x479846(0x2b1)][_0x479846(0x27b)]=_0x479846(0x2c9)):(_0x40dc9e[_0x479846(0x2b1)]['color']='#0a84ff',_0x40dc9e[_0x479846(0x2b1)][_0x479846(0x27b)]=_0x479846(0x2c9)),new Promise(_0x24b149=>{const _0x58a28c=_0x479846;confirmResolver=_0x24b149,document[_0x58a28c(0x228)]('customConfirm')[_0x58a28c(0x280)][_0x58a28c(0x2ae)]('visible');});}function resolveCustomConfirm(_0x2b3af4){const _0x541d47=a3_0x6449d1;document[_0x541d47(0x228)]('customConfirm')[_0x541d47(0x280)][_0x541d47(0x246)]('visible');if(confirmResolver)confirmResolver(_0x2b3af4);}async function tryCancelCurrentSession(){const _0x15ecf8=a3_0x6449d1;if(!currentSession)return;const _0x2875e5=await showCustomConfirm(_0x15ecf8(0x2c5),_0x15ecf8(0x266),!![]);if(!_0x2875e5)return;const _0x588380=currentSession;closeAllSheets(),sessions=sessions['filter'](_0xf173e6=>_0xf173e6['id']!==_0x588380['id']),reRenderBlocks(),showToast(_0x15ecf8(0x21e)),lastUserActionTime=Date[_0x15ecf8(0x204)]();try{const _0x4a9265=window['Telegram']?.[_0x15ecf8(0x25c)],_0x45eb3d=await fetch(API_URL,{'method':_0x15ecf8(0x2e8),'body':JSON[_0x15ecf8(0x2c4)]({'action':_0x15ecf8(0x2ea),'init_data':_0x4a9265?.['initData']||'','coachId':_0x588380[_0x15ecf8(0x243)],'dateStr':_0x588380[_0x15ecf8(0x1ec)],'sessionId':_0x588380['id']})});if(_0x45eb3d['ok'])DataManager['saveLocally']();}catch(_0xb9b318){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x108fbd=a3_0x6449d1;if(!currentSession)return;document['getElementById'](_0x108fbd(0x25b))[_0x108fbd(0x280)][_0x108fbd(0x246)](_0x108fbd(0x278)),document[_0x108fbd(0x228)](_0x108fbd(0x26f))[_0x108fbd(0x280)][_0x108fbd(0x2ae)](_0x108fbd(0x278));const _0x2059aa=document[_0x108fbd(0x228)](_0x108fbd(0x2c1)),_0x534a63=document['getElementById']('rsSlotsGrid');_0x2059aa['innerHTML']='',_0x534a63[_0x108fbd(0x252)]=_0x108fbd(0x20b);const [_0x4ecd90,_0xc184c]=currentSession['start']['split'](':')[_0x108fbd(0x270)](Number),[_0x242689,_0x2ca536]=currentSession['end']['split'](':')[_0x108fbd(0x270)](Number),_0x3cce6f=_0x242689*0x3c+_0x2ca536-(_0x4ecd90*0x3c+_0xc184c);try{const _0x42a407=window[_0x108fbd(0x28f)]?.[_0x108fbd(0x25c)],_0x1db2cd=await fetch(API_URL,{'method':_0x108fbd(0x2e8),'body':JSON[_0x108fbd(0x2c4)]({'action':_0x108fbd(0x254),'coachId':currentSession[_0x108fbd(0x243)],'duration':_0x3cce6f,'init_data':_0x42a407?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x4b77c6=await _0x1db2cd[_0x108fbd(0x2a3)]();_0x4b77c6['ok']&&_0x4b77c6[_0x108fbd(0x2dc)]?(availableSlotsCache=_0x4b77c6['data'],renderRescheduleDates()):_0x534a63[_0x108fbd(0x252)]=_0x108fbd(0x265);}catch(_0x212767){_0x534a63[_0x108fbd(0x252)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x341936=a3_0x6449d1,_0x4162fe=document[_0x341936(0x228)](_0x341936(0x2c1));_0x4162fe[_0x341936(0x252)]='';const _0x416de6=Object[_0x341936(0x23e)](availableSlotsCache)[_0x341936(0x20f)](),_0x38cfa7=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x416de6['length']===0x0){document['getElementById'](_0x341936(0x2af))[_0x341936(0x252)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x416de6[_0x341936(0x27a)]((_0xf52ac6,_0x8667da)=>{const _0x13ee34=_0x341936,_0x4410e3=new Date(_0xf52ac6),_0x30e31e=_0x38cfa7[_0x4410e3['getDay']()],_0x4b5ca4=_0x4410e3[_0x13ee34(0x24c)](),_0x1360af=document[_0x13ee34(0x2ac)](_0x13ee34(0x275));_0x1360af[_0x13ee34(0x2ba)]=_0x13ee34(0x21d);if(_0x8667da===0x0)_0x1360af[_0x13ee34(0x280)][_0x13ee34(0x2ae)](_0x13ee34(0x233));_0x1360af[_0x13ee34(0x252)]='<div\x20class=\x22rs-day-name\x22>'+_0x30e31e+_0x13ee34(0x25e)+_0x4b5ca4+_0x13ee34(0x201),_0x1360af[_0x13ee34(0x217)]=()=>selectRsDate(_0xf52ac6,_0x1360af),_0x4162fe[_0x13ee34(0x2b6)](_0x1360af);}),selectRsDate(_0x416de6[0x0],_0x4162fe['firstChild']);}function selectRsDate(_0x5bbd55,_0x3a92a7){const _0x4fa9d7=a3_0x6449d1;selectedRsDate=_0x5bbd55,document['querySelectorAll'](_0x4fa9d7(0x297))[_0x4fa9d7(0x27a)](_0x2035ba=>_0x2035ba[_0x4fa9d7(0x280)][_0x4fa9d7(0x246)](_0x4fa9d7(0x233)));if(_0x3a92a7)_0x3a92a7[_0x4fa9d7(0x280)][_0x4fa9d7(0x2ae)](_0x4fa9d7(0x233));const _0x1c3a94=document['getElementById']('rsSlotsGrid');_0x1c3a94[_0x4fa9d7(0x252)]='';const _0x345c9a=availableSlotsCache[_0x5bbd55]||[];if(_0x345c9a[_0x4fa9d7(0x1f1)]===0x0){_0x1c3a94['innerHTML']=_0x4fa9d7(0x265);return;}_0x345c9a[_0x4fa9d7(0x27a)](_0x44116a=>{const _0x8ae4a2=_0x4fa9d7,_0x530d7c=document[_0x8ae4a2(0x2ac)](_0x8ae4a2(0x2e3));_0x530d7c[_0x8ae4a2(0x2ba)]='rs-time-btn',_0x530d7c[_0x8ae4a2(0x24f)]=_0x44116a,_0x530d7c['onclick']=()=>confirmReschedule(_0x44116a),_0x1c3a94[_0x8ae4a2(0x2b6)](_0x530d7c);});}async function confirmReschedule(_0x5a67c1){const _0x19c228=a3_0x6449d1,_0x8167c9=new Date(selectedRsDate),_0x5279aa=_0x8167c9[_0x19c228(0x22b)](_0x19c228(0x27d),{'day':_0x19c228(0x1eb),'month':'long'}),_0x42d386=await showCustomConfirm(_0x19c228(0x235),_0x19c228(0x261)+_0x5279aa+'\x20–≤\x20'+_0x5a67c1+'?',![]);if(!_0x42d386)return;closeAllSheets(),showToast(_0x19c228(0x236)),lastUserActionTime=Date['now']();const _0xd6dd7=currentSession[_0x19c228(0x1ec)],_0x44b703=currentSession['id'],[_0x6add9,_0x22bbe0]=currentSession[_0x19c228(0x289)][_0x19c228(0x2eb)](':')[_0x19c228(0x270)](Number),[_0x34aba1,_0x31d469]=currentSession['end']['split'](':')[_0x19c228(0x270)](Number),_0x23f1a0=_0x34aba1*0x3c+_0x31d469-(_0x6add9*0x3c+_0x22bbe0),[_0x39ad22,_0x4b9926]=_0x5a67c1[_0x19c228(0x2eb)](':')[_0x19c228(0x270)](Number),_0x28ec2e=_0x39ad22*0x3c+_0x4b9926+_0x23f1a0,_0xdcdd81=Math[_0x19c228(0x2a5)](_0x28ec2e/0x3c),_0x54b834=_0x28ec2e%0x3c,_0x49f0f9=String(_0xdcdd81)[_0x19c228(0x25a)](0x2,'0')+':'+String(_0x54b834)['padStart'](0x2,'0'),_0x450e42=sessions[_0x19c228(0x2d3)](_0x4195ac=>_0x4195ac['id']===_0x44b703);_0x450e42!==-0x1&&(sessions[_0x450e42][_0x19c228(0x1ec)]=selectedRsDate,sessions[_0x450e42][_0x19c228(0x289)]=_0x5a67c1,sessions[_0x450e42]['end']=_0x49f0f9,reRenderBlocks());try{const _0xc91ce=window[_0x19c228(0x28f)]?.[_0x19c228(0x25c)],_0xaa5fb4=await fetch(API_URL,{'method':'POST','body':JSON[_0x19c228(0x2c4)]({'action':_0x19c228(0x24b),'init_data':_0xc91ce?.['initData']||'','oldSessionId':_0x44b703,'oldDate':_0xd6dd7,'newDate':selectedRsDate,'newTime':_0x5a67c1,'coachId':currentSession[_0x19c228(0x243)]})}),_0x4d4791=await _0xaa5fb4['json']();!_0x4d4791['ok']?(showToast(_0x19c228(0x283)),DataManager[_0x19c228(0x216)]()):(showToast(_0x19c228(0x2d0)),DataManager[_0x19c228(0x22a)]());}catch(_0x5d5736){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x6449d1(0x257),init);