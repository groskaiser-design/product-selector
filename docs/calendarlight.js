const a3_0x1e7435=a3_0x2c87;(function(_0x5271bd,_0x571abb){const _0x2831d4=a3_0x2c87,_0x45b49a=_0x5271bd();while(!![]){try{const _0x5a9baf=parseInt(_0x2831d4(0x9c))/0x1+parseInt(_0x2831d4(0xa5))/0x2+-parseInt(_0x2831d4(0xcb))/0x3+parseInt(_0x2831d4(0x17b))/0x4+parseInt(_0x2831d4(0x13d))/0x5*(-parseInt(_0x2831d4(0xa4))/0x6)+-parseInt(_0x2831d4(0xaf))/0x7+parseInt(_0x2831d4(0x186))/0x8;if(_0x5a9baf===_0x571abb)break;else _0x45b49a['push'](_0x45b49a['shift']());}catch(_0x26fddc){_0x45b49a['push'](_0x45b49a['shift']());}}}(a3_0xe51d,0x684a1));const APP_VERSION=a3_0x1e7435(0xe4),API_URL=a3_0x1e7435(0xdb),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x1e7435(0x9b),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x32336e=a3_0x1e7435,_0x586d71=(function(){let _0x4d60bb=!![];return function(_0xdfc45c,_0x2351a6){const _0x1c5171=_0x4d60bb?function(){const _0x1392a8=a3_0x2c87;if(_0x2351a6){const _0x4a4dd7=_0x2351a6[_0x1392a8(0xce)](_0xdfc45c,arguments);return _0x2351a6=null,_0x4a4dd7;}}:function(){};return _0x4d60bb=![],_0x1c5171;};}()),_0x47a64e=_0x586d71(this,function(){const _0xa1f4c8=a3_0x2c87;return _0x47a64e[_0xa1f4c8(0xdf)]()['search'](_0xa1f4c8(0x169))[_0xa1f4c8(0xdf)]()[_0xa1f4c8(0x10e)](_0x47a64e)[_0xa1f4c8(0x15d)]('(((.+)+)+)+$');});_0x47a64e();try{const _0x53136f=window[_0x32336e(0xb2)]?.[_0x32336e(0x126)];if(!_0x53136f)return;_0x53136f[_0x32336e(0x181)](),_0x53136f[_0x32336e(0x113)]();try{_0x53136f[_0x32336e(0xd7)](_0x32336e(0xca)),_0x53136f[_0x32336e(0x159)]&&_0x53136f[_0x32336e(0x159)]('#050505');}catch(_0x3b4838){console[_0x32336e(0x188)](_0x32336e(0xc7),_0x3b4838);}try{_0x53136f[_0x32336e(0x142)]&&(_0x53136f['BackButton'][_0x32336e(0x168)](),_0x53136f[_0x32336e(0x142)][_0x32336e(0xa6)](),_0x53136f['BackButton']['onClick'](function(){const _0x557232=_0x32336e;window[_0x557232(0xef)][_0x557232(0x176)]=_0x557232(0x143);}));}catch(_0xaaf8a5){console[_0x32336e(0x188)]('Error\x20setting\x20back\x20button:',_0xaaf8a5);}try{if(_0x53136f[_0x32336e(0x128)])_0x53136f[_0x32336e(0x128)]();}catch(_0x1b5387){}}catch(_0x12462b){console[_0x32336e(0x132)]('Critical\x20TMA\x20Error:',_0x12462b);}}());function isAdmin(){const _0xffdb47=a3_0x1e7435;try{const _0x4fb86b=Number(window['Telegram']?.[_0xffdb47(0x126)]?.[_0xffdb47(0xf1)]?.[_0xffdb47(0xbe)]?.['id']);return _0x4fb86b===0xbaf7174;}catch(_0x52fceb){return![];}}const DataManager={'saveLocally'(){const _0x13b2b6=a3_0x1e7435;try{localStorage[_0x13b2b6(0xb8)](KEY_SESSIONS,JSON[_0x13b2b6(0xd1)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x13b2b6(0xd1)](clients)),localStorage[_0x13b2b6(0xb8)](KEY_SETTINGS,JSON[_0x13b2b6(0xd1)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x8ab1cb){}},'loadLocal'(){const _0x4b3c93=a3_0x1e7435;try{const _0x1ab559=localStorage['getItem'](KEY_SESSIONS);if(_0x1ab559)sessions=JSON[_0x4b3c93(0x11e)](_0x1ab559);const _0x5e7636=localStorage['getItem'](KEY_CLIENTS);if(_0x5e7636)clients=JSON[_0x4b3c93(0x11e)](_0x5e7636);const _0x127c51=localStorage[_0x4b3c93(0xf8)](KEY_SETTINGS);if(_0x127c51){const _0x3c54e5=JSON[_0x4b3c93(0x11e)](_0x127c51);if(_0x3c54e5[_0x4b3c93(0x154)])availabilityPattern=_0x3c54e5[_0x4b3c93(0x154)];if(_0x3c54e5['ranges'])specialRanges=_0x3c54e5[_0x4b3c93(0x17e)];if(_0x3c54e5['exceptions'])dateExceptions=_0x3c54e5[_0x4b3c93(0xc4)];}}catch(_0x4061fc){}},async 'syncLoad'(){const _0x102db7=a3_0x1e7435,_0x5e06d0=new Date(),_0x34149c=_0x5e06d0[_0x102db7(0x107)]()+'-'+String(_0x5e06d0[_0x102db7(0x103)]()+0x1)[_0x102db7(0x152)](0x2,'0'),_0x10f677=new Date(_0x5e06d0);_0x10f677['setMonth'](_0x5e06d0[_0x102db7(0x103)]()+0x1);const _0x5a74d1=_0x10f677[_0x102db7(0x107)]()+'-'+String(_0x10f677[_0x102db7(0x103)]()+0x1)[_0x102db7(0x152)](0x2,'0'),_0x5bebee=Date[_0x102db7(0xdd)]();try{const _0x2019ef=window[_0x102db7(0xb2)]?.[_0x102db7(0x126)],_0x57ce86=_0x2019ef?.[_0x102db7(0x173)]||'',[_0x5c14e1,_0x1e3838]=await Promise[_0x102db7(0x106)]([fetch(API_URL,{'method':'POST','body':JSON[_0x102db7(0xd1)]({'action':_0x102db7(0x187),'init_data':_0x57ce86,'month_str':_0x34149c})})[_0x102db7(0x175)](_0x411cf3=>_0x411cf3[_0x102db7(0x18d)]()),fetch(API_URL,{'method':_0x102db7(0x13e),'body':JSON[_0x102db7(0xd1)]({'action':_0x102db7(0x187),'init_data':_0x57ce86,'month_str':_0x5a74d1})})['then'](_0x3c7413=>_0x3c7413[_0x102db7(0x18d)]())]);if(lastUserActionTime>_0x5bebee){console[_0x102db7(0x188)](_0x102db7(0x171));return;}if(_0x5c14e1['ok'])this['applyData'](_0x5c14e1['data'],_0x34149c);if(_0x1e3838['ok'])this[_0x102db7(0x172)](_0x1e3838[_0x102db7(0xcf)],_0x5a74d1);this[_0x102db7(0x137)]();}catch(_0x57592e){}},'applyData'(_0x567794,_0x13beaa){const _0x54b563=a3_0x1e7435;if(!_0x567794)return;if(_0x567794[_0x54b563(0xd9)]){if(_0x567794[_0x54b563(0xd9)][_0x54b563(0x154)])availabilityPattern=_0x567794[_0x54b563(0xd9)][_0x54b563(0x154)];if(_0x567794[_0x54b563(0xd9)][_0x54b563(0x17e)])specialRanges=_0x567794[_0x54b563(0xd9)]['ranges'];if(_0x567794[_0x54b563(0xd9)][_0x54b563(0xc4)])dateExceptions=_0x567794[_0x54b563(0xd9)]['exceptions'];}if(_0x567794[_0x54b563(0xc0)]&&Array[_0x54b563(0xfa)](_0x567794[_0x54b563(0xc0)]))clients=_0x567794['clients'];_0x567794['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x567794['coach_profiles']}),_0x567794['calendar']&&(sessions=sessions['filter'](_0x474675=>!_0x474675[_0x54b563(0x120)][_0x54b563(0xa0)](_0x13beaa)),Object[_0x54b563(0x10f)](_0x567794[_0x54b563(0x156)])[_0x54b563(0xa9)](_0x5a460b=>{const _0x44d345=_0x54b563,_0x3889c4=_0x567794[_0x44d345(0x156)][_0x5a460b];_0x3889c4[_0x44d345(0xa9)](_0x524636=>{const _0x53145d=_0x44d345;sessions[_0x53145d(0xb3)]({'id':_0x524636['i'],'clientId':_0x524636['c'],'coachId':_0x524636['cid'],'dateStr':_0x13beaa+'-'+_0x5a460b['padStart'](0x2,'0'),'start':_0x524636['s'],'end':_0x524636['e'],'note':_0x524636['n']||'','status':_0x524636['st']||_0x53145d(0x15f),'seriesId':_0x524636[_0x53145d(0x158)]});});})),reRenderBlocks();}};function a3_0xe51d(){const _0x1dbe4a=['expand','toUpperCase','px\x20-','addEventListener','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','getTime','detNote','px\x200px','%\x20-\x204px)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','day-col-header\x20','parse','color','dateStr','setAttribute','anEnd','syncLoad','cancel_window','rgba(10,\x20132,\x20255,\x20','WebApp','offsetLeft','disableVerticalSwipes','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','charAt','done','mini','client-stat-card','getHours','\x20–∏–∑\x20','clientId','backgroundPosition','error','display','active','setDate','createElement','saveLocally','firstChild','end','scroll','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','var(--acc-green)','2670195IStAAC','POST','coachId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','completed','BackButton','router.html','substring','style','findIndex','status','length','\x20—á.','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','cancelContainer','data-date','left','querySelector','block','.btn-cancel','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','padStart','client_cancel','pattern','month','calendar','top','sid','setBackgroundColor',':00</span>','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','matrixViewport','search','\x20-\x20','planned','rsSlotsGrid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','gridColumns','anTotalStats','<div\x20class=\x22rs-day-name\x22>','detStatus','value','add','show','(((.+)+)+)+$','detailsSheet','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','getAttribute','anStart','today','textContent','loadLocal','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','applyData','initData','floor','then','href','total','–∑–∞\x20','timeLineBadge','customConfirm','1380720mlxifp','ccYesBtn','T00:00:00','ranges','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','toLocaleString','ready','anPercent','rgba(','substr','.btn-reschedule','9283072MnHwBH','client_load','log','offsetWidth','filter','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','.period-switch\x20.p-btn','json','getDay','reschedule','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rs-date-chip','sort','week','7700rxrFNv','DOMContentLoaded','clientWidth','detDate','startsWith','data-day-idx','.day-col-header[data-date=\x22','ru-RU','6PvNlfE','376682amWaPq','offClick','start','.day-column','forEach','scrollTop','find','remove','onclick','max','4332671EqPTsc','600','time-label','Telegram','push','overlay','get_slots','join','querySelectorAll','setItem','detTime','scrollTo','round','entries','rescheduleSheet','user','long','clients','button','calc(','scrollLeft','exceptions','headerMonth','numeric','Error\x20setting\x20color:','event-card','anDonutCircle','#050505','364332UDHzUP','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','open','apply','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','</span>\x20/\x20','#0a84ff','analyticsSheet','split','toLocaleDateString','setHeaderColor','seriesId','settings','test','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','height','now','blocked-range-part\x20stripe-bg','toString','colIndex','stopPropagation','daysHeaderTrack','flex','v9.5-CLIENT-ANALYTICS','getElementById','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','toast','cancelled','visible','strokeDashoffset','.day-col-header','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','insertBefore','location','<span>','initDataUnsafe','\x20status-completed','map','innerHTML','none','.sheet','appendChild','getItem','className','isArray','getDate','classList','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','getMinutes','scrollWidth','createDocumentFragment','</div><div\x20class=\x22dch-num\x22>','T23:59:59','getMonth','</div>','div','all','getFullYear','ccText','<div\x20class=\x22dch-day\x22>','slice','day-column\x20','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','var(--acc-blue)','constructor','keys','globalTimeLine','cancelHint','rsDatesTrack'];a3_0xe51d=function(){return _0x1dbe4a;};return a3_0xe51d();}function init(){const _0x219501=a3_0x1e7435;DataManager[_0x219501(0x170)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x219501(0xe5)](_0x219501(0x15c))['addEventListener'](_0x219501(0x13a),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x57e957=a3_0x1e7435,_0x2eb84f=document['getElementById']('timeColumn'),_0x3f036b=document['getElementById'](_0x57e957(0x179));_0x2eb84f[_0x57e957(0xf4)]='',_0x2eb84f['appendChild'](_0x3f036b);for(let _0x35ac07=0x0;_0x35ac07<0x18;_0x35ac07++){const _0xffba53=document[_0x57e957(0x136)](_0x57e957(0x105));_0xffba53[_0x57e957(0xf9)]=_0x57e957(0xb1);if(_0x35ac07>0x0)_0xffba53['innerHTML']=_0x57e957(0xf0)+String(_0x35ac07)[_0x57e957(0x152)](0x2,'0')+_0x57e957(0x15a);_0x2eb84f['appendChild'](_0xffba53);}}function renderDayRange(_0x3ebdb8,_0x3509d9){const _0x2b293f=a3_0x1e7435,_0x12b077=document['getElementById'](_0x2b293f(0xe2)),_0x53d985=document['getElementById'](_0x2b293f(0x162)),_0x4fb7a9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54e50a=new Date();_0x54e50a['setHours'](0x0,0x0,0x0,0x0);const _0x22c4d8=getLocalDateStr(new Date());for(let _0x3368d8=_0x3ebdb8;_0x3368d8<=_0x3509d9;_0x3368d8++){const _0x4d3698=new Date(_0x54e50a);_0x4d3698[_0x2b293f(0x135)](_0x4d3698[_0x2b293f(0xfb)]()+_0x3368d8);const _0x1f1bf1=getLocalDateStr(_0x4d3698);let _0x577531=_0x4d3698[_0x2b293f(0x18e)]()-0x1;if(_0x577531===-0x1)_0x577531=0x6;const _0x26a8bf=_0x1f1bf1===_0x22c4d8,_0x2fb05f=document[_0x2b293f(0x136)](_0x2b293f(0x105));_0x2fb05f[_0x2b293f(0xf9)]=_0x2b293f(0x11d)+(_0x26a8bf?_0x2b293f(0x16e):''),_0x2fb05f[_0x2b293f(0x121)]('data-date',_0x1f1bf1),_0x2fb05f['innerHTML']=_0x2b293f(0x109)+_0x4fb7a9[_0x577531]+_0x2b293f(0x101)+_0x4d3698[_0x2b293f(0xfb)]()+_0x2b293f(0x104),_0x12b077['appendChild'](_0x2fb05f);const _0x3accd0=document[_0x2b293f(0x136)](_0x2b293f(0x105));_0x3accd0[_0x2b293f(0xf9)]=_0x2b293f(0x10b)+(_0x26a8bf?_0x2b293f(0x16e):''),_0x3accd0[_0x2b293f(0x121)](_0x2b293f(0x14c),_0x1f1bf1),_0x3accd0[_0x2b293f(0x121)](_0x2b293f(0xa1),_0x577531),_0x53d985[_0x2b293f(0xf7)](_0x3accd0);}}function reRenderBlocks(){const _0x6854dd=a3_0x1e7435;document[_0x6854dd(0xb7)]('.day-column')[_0x6854dd(0xa9)](_0x41e028=>{const _0x4ae938=_0x6854dd;_0x41e028['querySelectorAll'](_0x4ae938(0x98))[_0x4ae938(0xa9)](_0x73eb8c=>_0x73eb8c[_0x4ae938(0xac)]());const _0x3d6774=_0x41e028['getAttribute'](_0x4ae938(0x14c)),_0x53d376=parseInt(_0x41e028[_0x4ae938(0x16c)](_0x4ae938(0xa1))),_0x5bdfe0=Math['round'](_0x41e028[_0x4ae938(0x127)]);(availabilityPattern[_0x53d376]||[])['forEach'](_0x5ea0b0=>{const _0x58f3f0=_0x4ae938,_0x5d6342=document[_0x58f3f0(0x136)](_0x58f3f0(0x105));_0x5d6342[_0x58f3f0(0xf9)]='blocked-slot\x20stripe-bg',_0x5d6342[_0x58f3f0(0x145)][_0x58f3f0(0x157)]=_0x5ea0b0*GRID_H+'px',_0x5d6342['style'][_0x58f3f0(0x131)]='-'+_0x5bdfe0+_0x58f3f0(0x115)+_0x5ea0b0*GRID_H+'px',_0x41e028[_0x58f3f0(0xf7)](_0x5d6342);});if(specialRanges[_0x4ae938(0x148)]>0x0){const _0x26266e=new Date(_0x3d6774+_0x4ae938(0x17d))[_0x4ae938(0x118)](),_0x33fc43=new Date(_0x3d6774+_0x4ae938(0x102))['getTime']();specialRanges[_0x4ae938(0xa9)](_0x1bd141=>{const _0x70c8cf=_0x4ae938,_0x6c85ce=new Date(_0x1bd141['start'])[_0x70c8cf(0x118)](),_0x678102=new Date(_0x1bd141[_0x70c8cf(0x139)])['getTime'](),_0x1a55ea=Math[_0x70c8cf(0xae)](_0x26266e,_0x6c85ce),_0x926c0a=Math['min'](_0x33fc43,_0x678102);if(_0x1a55ea<_0x926c0a){const _0x279294=(_0x1a55ea-_0x26266e)/0x36ee80*GRID_H,_0x1ef6e2=(_0x926c0a-_0x1a55ea)/0x36ee80*GRID_H,_0x120dbb=document[_0x70c8cf(0x136)](_0x70c8cf(0x105));_0x1ef6e2>=23.5*GRID_H?(_0x120dbb[_0x70c8cf(0xf9)]='day-off-overlay\x20stripe-bg',_0x120dbb[_0x70c8cf(0x145)]['backgroundPosition']='-'+_0x5bdfe0+_0x70c8cf(0x11a)):(_0x120dbb['className']=_0x70c8cf(0xde),_0x120dbb[_0x70c8cf(0x145)][_0x70c8cf(0x157)]=_0x279294+'px',_0x120dbb[_0x70c8cf(0x145)][_0x70c8cf(0xdc)]=_0x1ef6e2+'px',_0x120dbb[_0x70c8cf(0x145)]['backgroundPosition']='-'+_0x5bdfe0+_0x70c8cf(0x115)+_0x279294+'px'),_0x41e028[_0x70c8cf(0xf7)](_0x120dbb);}});}renderEventsForColumn(_0x41e028,_0x3d6774);});}function renderEventsForColumn(_0x5c767a,_0x178364){const _0x803810=a3_0x1e7435,_0x4897aa=sessions[_0x803810(0x18a)](_0x4e0716=>_0x4e0716[_0x803810(0x120)]===_0x178364),_0x51f0ff=_0x4897aa[_0x803810(0xf3)](_0x2502c9=>{const _0x4b87e5=_0x803810,[_0x3c9ce2,_0x34175d]=_0x2502c9[_0x4b87e5(0xa7)][_0x4b87e5(0xd5)](':')[_0x4b87e5(0xf3)](Number),[_0x4e4b4d,_0x16595c]=_0x2502c9[_0x4b87e5(0x139)][_0x4b87e5(0xd5)](':')[_0x4b87e5(0xf3)](Number);return{'data':_0x2502c9,'start':_0x3c9ce2*0x3c+_0x34175d,'end':_0x4e4b4d*0x3c+_0x16595c,'colIndex':0x0};});_0x51f0ff[_0x803810(0x9a)]((_0x5c27ee,_0x55a5df)=>_0x5c27ee[_0x803810(0xa7)]-_0x55a5df[_0x803810(0xa7)]||_0x55a5df[_0x803810(0x139)]-_0x55a5df['start']-(_0x5c27ee['end']-_0x5c27ee[_0x803810(0xa7)]));const _0x41aa07=[];_0x51f0ff['forEach'](_0x2e88d5=>{const _0x320ab3=_0x803810;let _0x1c594b=![];for(let _0x256d40=0x0;_0x256d40<_0x41aa07['length'];_0x256d40++){const _0x10f456=_0x41aa07[_0x256d40];if(_0x2e88d5[_0x320ab3(0xa7)]>=_0x10f456[_0x10f456['length']-0x1][_0x320ab3(0x139)]){_0x10f456[_0x320ab3(0xb3)](_0x2e88d5),_0x2e88d5['colIndex']=_0x256d40,_0x1c594b=!![];break;}}!_0x1c594b&&(_0x41aa07[_0x320ab3(0xb3)]([_0x2e88d5]),_0x2e88d5[_0x320ab3(0xe0)]=_0x41aa07[_0x320ab3(0x148)]-0x1);}),_0x51f0ff[_0x803810(0xa9)](_0x5dd518=>{const _0x4249de=_0x803810;let _0x49e8c7=0x0;_0x51f0ff['forEach'](_0x57b0f5=>{const _0x1826ff=a3_0x2c87;if(Math[_0x1826ff(0xae)](_0x5dd518[_0x1826ff(0xa7)],_0x57b0f5[_0x1826ff(0xa7)])<Math['min'](_0x5dd518[_0x1826ff(0x139)],_0x57b0f5[_0x1826ff(0x139)])&&_0x57b0f5[_0x1826ff(0xe0)]>_0x49e8c7)_0x49e8c7=_0x57b0f5[_0x1826ff(0xe0)];});const _0x11698a=_0x49e8c7+0x1,_0x4532a6=0x64/_0x11698a,_0x35b356=_0x5dd518[_0x4249de(0xe0)]*_0x4532a6,_0x30adfe=document[_0x4249de(0x136)]('div'),_0x849904=_0x5dd518[_0x4249de(0xcf)];let _0x7e080f=_0x4249de(0xd3);if(clients&&clients[_0x4249de(0x148)]>0x0){const _0x267709=clients[_0x4249de(0xab)](_0xe5f02c=>String(_0xe5f02c['id'])===String(_0x849904[_0x4249de(0x130)]));if(_0x267709&&_0x267709[_0x4249de(0x11f)])_0x7e080f=_0x267709[_0x4249de(0x11f)];}const _0x41bf27=_0x849904[_0x4249de(0x147)]===_0x4249de(0x141),_0x190378=_0x41bf27?0x1:0.45;_0x30adfe[_0x4249de(0xf9)]=_0x4249de(0xc8)+(_0x41bf27?_0x4249de(0xf2):''),_0x30adfe[_0x4249de(0x145)]['backgroundColor']=hexToRgba(_0x7e080f,_0x190378),_0x30adfe['style']['borderLeftColor']=_0x7e080f;const _0xac345c=_0x5dd518[_0x4249de(0xa7)]/0x3c*GRID_H,_0x536852=(_0x5dd518[_0x4249de(0x139)]-_0x5dd518[_0x4249de(0xa7)])/0x3c*GRID_H;_0x30adfe[_0x4249de(0x145)][_0x4249de(0x157)]=_0xac345c+'px',_0x30adfe['style'][_0x4249de(0xdc)]=Math[_0x4249de(0xae)](_0x536852,0x14)+'px',_0x30adfe['style']['width']=_0x4249de(0xc2)+_0x4532a6+_0x4249de(0x11b),_0x30adfe[_0x4249de(0x145)][_0x4249de(0x14d)]=_0x4249de(0xc2)+_0x35b356+'%\x20+\x202px)',_0x30adfe[_0x4249de(0x145)]['zIndex']=0xa+_0x5dd518[_0x4249de(0xe0)];if(_0x4532a6<0x55)_0x30adfe['classList']['add'](_0x4249de(0x12c));let _0x5b5304='';if(_0x849904[_0x4249de(0xd8)])_0x5b5304+=_0x4249de(0x151);if(_0x41bf27)_0x5b5304+=_0x4249de(0x15b);_0x30adfe[_0x4249de(0xf4)]=_0x4249de(0x161)+_0x849904[_0x4249de(0xa7)]+'\x20-\x20'+_0x849904[_0x4249de(0x139)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b5304+_0x4249de(0xd0),_0x30adfe[_0x4249de(0xad)]=_0x448772=>{const _0x5567b2=_0x4249de;_0x448772[_0x5567b2(0xe1)](),openDetails(_0x849904);},_0x5c767a['appendChild'](_0x30adfe);});}function openAnalytics(){const _0x2bc222=a3_0x1e7435,_0x3c82fe=document[_0x2bc222(0x14e)](_0x2bc222(0x18c));setAnalyticsPeriod(_0x2bc222(0x9b),_0x3c82fe),openSheet(_0x2bc222(0xd4));}function setAnalyticsPeriod(_0x20760c,_0x496c9f){const _0x40cb08=a3_0x1e7435;currentAnPeriod=_0x20760c,document[_0x40cb08(0xb7)]('.period-switch\x20.p-btn')['forEach'](_0x10adac=>_0x10adac[_0x40cb08(0xfc)][_0x40cb08(0xac)]('active'));if(_0x496c9f)_0x496c9f['classList']['add'](_0x40cb08(0x134));const _0x4fc853=document[_0x40cb08(0xe5)]('anCustomDates');_0x4fc853['style']['display']=_0x20760c==='custom'?_0x40cb08(0xe3):_0x40cb08(0xf5);const _0x136a80=new Date();let _0x57f317=new Date(),_0x4b39fa=new Date();if(_0x20760c===_0x40cb08(0x9b))_0x57f317=getStartOfWeek(_0x136a80),_0x4b39fa=new Date(_0x57f317),_0x4b39fa['setDate'](_0x4b39fa[_0x40cb08(0xfb)]()+0x6);else{if(_0x20760c===_0x40cb08(0x155))_0x57f317=new Date(_0x136a80[_0x40cb08(0x107)](),_0x136a80[_0x40cb08(0x103)](),0x1),_0x4b39fa=new Date(_0x136a80[_0x40cb08(0x107)](),_0x136a80[_0x40cb08(0x103)]()+0x1,0x0);else{!document['getElementById'](_0x40cb08(0x16d))[_0x40cb08(0x166)]&&(document[_0x40cb08(0xe5)](_0x40cb08(0x16d))[_0x40cb08(0x166)]=getLocalDateStr(_0x136a80),document['getElementById'](_0x40cb08(0x122))[_0x40cb08(0x166)]=getLocalDateStr(_0x136a80));refreshAnalytics();return;}}document[_0x40cb08(0xe5)](_0x40cb08(0x16d))[_0x40cb08(0x166)]=getLocalDateStr(_0x57f317),document['getElementById']('anEnd')['value']=getLocalDateStr(_0x4b39fa),refreshAnalytics();}function refreshAnalytics(){const _0x3ebac6=a3_0x1e7435,_0x20e943=document['getElementById'](_0x3ebac6(0x16d))[_0x3ebac6(0x166)],_0xd2a013=document[_0x3ebac6(0xe5)]('anEnd')[_0x3ebac6(0x166)];if(!_0x20e943||!_0xd2a013)return;const _0x819e41=sessions[_0x3ebac6(0x18a)](_0xd4bae3=>_0xd4bae3[_0x3ebac6(0x120)]>=_0x20e943&&_0xd4bae3[_0x3ebac6(0x120)]<=_0xd2a013&&_0xd4bae3[_0x3ebac6(0x147)]!==_0x3ebac6(0xe8)),_0x26e085=_0x819e41[_0x3ebac6(0x148)],_0x35f227=_0x819e41[_0x3ebac6(0x18a)](_0x1b46bc=>_0x1b46bc[_0x3ebac6(0x147)]===_0x3ebac6(0x141))[_0x3ebac6(0x148)],_0xfd4c7f=_0x26e085>0x0?Math[_0x3ebac6(0xbb)](_0x35f227/_0x26e085*0x64):0x0;document[_0x3ebac6(0xe5)](_0x3ebac6(0x182))['textContent']=_0xfd4c7f+'%',document[_0x3ebac6(0xe5)](_0x3ebac6(0x163))[_0x3ebac6(0x16f)]=_0x35f227+_0x3ebac6(0x12f)+_0x26e085+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x270049=document[_0x3ebac6(0xe5)](_0x3ebac6(0xc9)),_0x1db8dd=0x2*Math['PI']*0x23,_0x282efa=_0x1db8dd-_0xfd4c7f/0x64*_0x1db8dd;_0x270049[_0x3ebac6(0x145)][_0x3ebac6(0xea)]=_0x282efa;const _0x5c44af={};_0x819e41[_0x3ebac6(0xa9)](_0x4b9e24=>{const _0x186343=_0x3ebac6,_0x476c5b=_0x4b9e24['coachId']||'Unknown';if(!_0x5c44af[_0x476c5b]){const _0x197cb1='#'+_0x476c5b[_0x186343(0xdf)]()['substr'](0x0,0x6);_0x5c44af[_0x476c5b]={'total':0x0,'done':0x0,'color':_0x197cb1};}_0x5c44af[_0x476c5b][_0x186343(0x177)]++;if(_0x4b9e24[_0x186343(0x147)]==='completed')_0x5c44af[_0x476c5b][_0x186343(0x12b)]++;});const _0xa0904a=document[_0x3ebac6(0xe5)]('analyticsList');_0xa0904a[_0x3ebac6(0xf4)]='';const _0x1fc653=Object[_0x3ebac6(0xbc)](_0x5c44af)[_0x3ebac6(0x9a)]((_0x4a31b6,_0x2ac530)=>_0x2ac530[0x1][_0x3ebac6(0x177)]-_0x4a31b6[0x1][_0x3ebac6(0x177)]);if(_0x1fc653['length']===0x0){_0xa0904a[_0x3ebac6(0xf4)]=_0x3ebac6(0x129);return;}_0x1fc653['forEach'](([_0x10a842,_0x5dcdac])=>{const _0x11b1db=_0x3ebac6,_0x4b0335=Math[_0x11b1db(0xbb)](_0x5dcdac[_0x11b1db(0x12b)]/_0x5dcdac[_0x11b1db(0x177)]*0x64),_0x2759b9=document['createElement'](_0x11b1db(0x105));_0x2759b9['className']=_0x11b1db(0x12d),_0x2759b9['style']['borderLeftColor']=_0x5dcdac['color'],_0x2759b9[_0x11b1db(0xf4)]=_0x11b1db(0x140)+_0x10a842[_0x11b1db(0x184)](0x0,0x5)+_0x11b1db(0x11c)+_0x5dcdac['done']+_0x11b1db(0xd2)+_0x5dcdac[_0x11b1db(0x177)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4b0335+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xa0904a[_0x11b1db(0xf7)](_0x2759b9);});}function openDetails(_0x36bbca){const _0x52b701=a3_0x1e7435;currentSession=_0x36bbca;const _0x30571f=new Date(_0x36bbca[_0x52b701(0x120)]),_0x2261d8=_0x30571f['toLocaleDateString'](_0x52b701(0xa3),{'weekday':_0x52b701(0xbf),'day':_0x52b701(0xc6),'month':_0x52b701(0xbf)});document[_0x52b701(0xe5)](_0x52b701(0x9f))[_0x52b701(0x16f)]=_0x2261d8[_0x52b701(0x12a)](0x0)[_0x52b701(0x114)]()+_0x2261d8[_0x52b701(0x10a)](0x1),document[_0x52b701(0xe5)](_0x52b701(0xb9))['textContent']=_0x36bbca[_0x52b701(0xa7)]+_0x52b701(0x15e)+_0x36bbca[_0x52b701(0x139)],document[_0x52b701(0xe5)](_0x52b701(0x119))[_0x52b701(0x16f)]=_0x36bbca['note']||_0x52b701(0x10c);const _0x37b0b6=document[_0x52b701(0xe5)](_0x52b701(0x165)),_0x410fa2=document[_0x52b701(0xe5)](_0x52b701(0x14b)),_0x15e17f=_0x410fa2[_0x52b701(0x14e)](_0x52b701(0x150)),_0x5a343f=_0x410fa2[_0x52b701(0x14e)](_0x52b701(0x185)),_0x1fa746=document['getElementById'](_0x52b701(0x111));if(_0x36bbca['status']===_0x52b701(0x141))_0x37b0b6[_0x52b701(0x16f)]=_0x52b701(0xec),_0x37b0b6['style']['color']=_0x52b701(0x13c),_0x410fa2[_0x52b701(0x145)][_0x52b701(0x133)]=_0x52b701(0xf5);else{_0x37b0b6[_0x52b701(0x16f)]=_0x52b701(0xfd),_0x37b0b6['style'][_0x52b701(0x11f)]=_0x52b701(0x10d),_0x410fa2[_0x52b701(0x145)][_0x52b701(0x133)]=_0x52b701(0x14f);const _0x15c05a=new Date(_0x36bbca['dateStr']+'T'+_0x36bbca[_0x52b701(0xa7)]),_0x4de9dd=new Date(),_0x1ebef5=(_0x15c05a-_0x4de9dd)/(0x3e8*0x3c*0x3c),_0x4b4fc7=coachProfiles[_0x36bbca['coachId']]&&coachProfiles[_0x36bbca[_0x52b701(0x13f)]][_0x52b701(0x124)]?parseInt(coachProfiles[_0x36bbca[_0x52b701(0x13f)]][_0x52b701(0x124)]):0x18;if(_0x4b4fc7===0x0||_0x1ebef5>=_0x4b4fc7)_0x15e17f['style'][_0x52b701(0x133)]=_0x52b701(0x14f),_0x5a343f[_0x52b701(0x145)][_0x52b701(0x133)]=_0x52b701(0x14f),_0x1fa746['style']['display']='none';else{_0x15e17f['style'][_0x52b701(0x133)]='none',_0x5a343f[_0x52b701(0x145)][_0x52b701(0x133)]=_0x52b701(0xf5),_0x1fa746['style'][_0x52b701(0x133)]=_0x52b701(0x14f);let _0x44aaaa=_0x4b4fc7===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x52b701(0x178)+_0x4b4fc7+_0x52b701(0x149);_0x1fa746[_0x52b701(0x16f)]=_0x52b701(0xe6)+_0x44aaaa+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x52b701(0xe5)](_0x52b701(0xb4))[_0x52b701(0xfc)][_0x52b701(0x167)](_0x52b701(0x134)),document[_0x52b701(0xe5)](_0x52b701(0x16a))[_0x52b701(0xfc)][_0x52b701(0x167)](_0x52b701(0xcd));}function closeAllSheets(){const _0x7224a0=a3_0x1e7435;document[_0x7224a0(0xe5)](_0x7224a0(0xb4))[_0x7224a0(0xfc)][_0x7224a0(0xac)](_0x7224a0(0x134)),document['querySelectorAll'](_0x7224a0(0xf6))[_0x7224a0(0xa9)](_0x6cf155=>_0x6cf155['classList']['remove'](_0x7224a0(0xcd)));}function openSheet(_0x30b9c5){const _0x2d7a25=a3_0x1e7435;document['getElementById'](_0x2d7a25(0xb4))[_0x2d7a25(0xfc)][_0x2d7a25(0x167)](_0x2d7a25(0x134)),document[_0x2d7a25(0xe5)](_0x30b9c5)[_0x2d7a25(0xfc)]['add'](_0x2d7a25(0xcd));}function getLocalDateStr(_0x37bb41){const _0x425703=a3_0x1e7435,_0x3258b8=_0x37bb41[_0x425703(0x107)](),_0x36d4af=String(_0x37bb41[_0x425703(0x103)]()+0x1)[_0x425703(0x152)](0x2,'0'),_0x2b93b5=String(_0x37bb41[_0x425703(0xfb)]())[_0x425703(0x152)](0x2,'0');return _0x3258b8+'-'+_0x36d4af+'-'+_0x2b93b5;}function getStartOfWeek(_0x3a8158){const _0x59ba86=a3_0x1e7435,_0x4bb13c=new Date(_0x3a8158),_0x5b19a7=_0x4bb13c[_0x59ba86(0x18e)](),_0x47316f=_0x4bb13c['getDate']()-_0x5b19a7+(_0x5b19a7===0x0?-0x6:0x1);return _0x4bb13c[_0x59ba86(0x135)](_0x47316f),_0x4bb13c['setHours'](0x0,0x0,0x0,0x0),_0x4bb13c;}function a3_0x2c87(_0x5765b3,_0x5e1ec0){_0x5765b3=_0x5765b3-0x97;const _0x23857c=a3_0xe51d();let _0x2505c6=_0x23857c[_0x5765b3];return _0x2505c6;}function scrollToToday(){const _0x2e2659=getLocalDateStr(new Date());setTimeout(()=>{const _0x2495aa=a3_0x2c87,_0x10e5f5=document['querySelector'](_0x2495aa(0xa2)+_0x2e2659+'\x22]');if(_0x10e5f5){const _0x28e8b6=document[_0x2495aa(0xe5)](_0x2495aa(0x15c)),_0x4a8f91=_0x10e5f5[_0x2495aa(0x127)]-_0x28e8b6['clientWidth']/0x2+_0x10e5f5[_0x2495aa(0x189)]/0x2;_0x28e8b6[_0x2495aa(0xba)]({'left':_0x4a8f91,'behavior':'auto'}),_0x28e8b6[_0x2495aa(0xaa)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x598786=a3_0x1e7435,_0x5a09f4=new Date(),_0x5bb188=document['getElementById'](_0x598786(0x110)),_0x472726=document['getElementById'](_0x598786(0x179)),_0x48e4dc=(_0x5a09f4[_0x598786(0x12e)]()*0x3c+_0x5a09f4[_0x598786(0xfe)]())/0x3c*GRID_H;_0x5bb188[_0x598786(0x145)][_0x598786(0x157)]=_0x48e4dc+'px',_0x5bb188[_0x598786(0x145)][_0x598786(0x133)]='block',_0x472726['style'][_0x598786(0x157)]=_0x48e4dc+'px',_0x472726[_0x598786(0x145)][_0x598786(0x133)]=_0x598786(0x14f),_0x472726['textContent']=String(_0x5a09f4['getHours']())[_0x598786(0x152)](0x2,'0')+':'+String(_0x5a09f4[_0x598786(0xfe)]())[_0x598786(0x152)](0x2,'0');}function onScroll(){const _0x357ca2=a3_0x1e7435,_0x3400e2=document[_0x357ca2(0xe5)](_0x357ca2(0x15c)),_0x186502=document[_0x357ca2(0xb7)](_0x357ca2(0xeb));for(let _0x2b6f46 of _0x186502)if(_0x2b6f46['offsetLeft']>=_0x3400e2['scrollLeft']){const _0x453e20=new Date(_0x2b6f46[_0x357ca2(0x16c)](_0x357ca2(0x14c)));document[_0x357ca2(0xe5)](_0x357ca2(0xc5))['textContent']=_0x453e20[_0x357ca2(0x180)]('ru',{'month':_0x357ca2(0xbf)})[_0x357ca2(0x114)]()+'\x20'+_0x453e20[_0x357ca2(0x107)]();break;}}function showToast(_0x2e5ddf){const _0x96364=a3_0x1e7435,_0x1bbb2c=document['getElementById'](_0x96364(0xe7));_0x1bbb2c['textContent']=_0x2e5ddf,_0x1bbb2c[_0x96364(0xfc)][_0x96364(0x167)]('show'),setTimeout(()=>_0x1bbb2c['classList']['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x424276=a3_0x1e7435,_0x257092=document[_0x424276(0xe5)](_0x424276(0x15c)),_0x24ab8d=_0x257092[_0x424276(0xc3)],_0x3ef26f=_0x257092[_0x424276(0xff)],_0x28ad99=_0x257092[_0x424276(0x9e)];if(_0x3ef26f-(_0x24ab8d+_0x28ad99)<0x12c){const _0x141981=endOffset;endOffset+=0xe,renderDayRange(_0x141981+0x1,endOffset),reRenderBlocks();}if(_0x24ab8d<0x12c){const _0x54f77b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54f77b-0x1),_0x257092[_0x424276(0xc3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x76fedf,_0x557f1a){const _0x19abef=a3_0x1e7435,_0x5f20da=document['getElementById'](_0x19abef(0xe2)),_0x4bf2d4=document[_0x19abef(0xe5)](_0x19abef(0x162)),_0x3f9a6a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3c37e4=new Date();_0x3c37e4['setHours'](0x0,0x0,0x0,0x0);const _0x168995=getLocalDateStr(new Date()),_0x134dd6=document[_0x19abef(0x100)](),_0x26dd97=document['createDocumentFragment']();for(let _0x1fb7b1=_0x76fedf;_0x1fb7b1<=_0x557f1a;_0x1fb7b1++){const _0x4fc5c6=new Date(_0x3c37e4);_0x4fc5c6[_0x19abef(0x135)](_0x4fc5c6[_0x19abef(0xfb)]()+_0x1fb7b1);const _0x569868=getLocalDateStr(_0x4fc5c6);let _0x5bcd56=_0x4fc5c6[_0x19abef(0x18e)]()-0x1;if(_0x5bcd56===-0x1)_0x5bcd56=0x6;const _0x3d975e=_0x569868===_0x168995,_0x8f6289=document[_0x19abef(0x136)](_0x19abef(0x105));_0x8f6289['className']=_0x19abef(0x11d)+(_0x3d975e?_0x19abef(0x16e):''),_0x8f6289[_0x19abef(0x121)](_0x19abef(0x14c),_0x569868),_0x8f6289[_0x19abef(0xf4)]=_0x19abef(0x109)+_0x3f9a6a[_0x5bcd56]+_0x19abef(0x101)+_0x4fc5c6[_0x19abef(0xfb)]()+_0x19abef(0x104),_0x134dd6['appendChild'](_0x8f6289);const _0x45a665=document[_0x19abef(0x136)]('div');_0x45a665[_0x19abef(0xf9)]=_0x19abef(0x10b)+(_0x3d975e?'today':''),_0x45a665['setAttribute'](_0x19abef(0x14c),_0x569868),_0x45a665['setAttribute']('data-day-idx',_0x5bcd56),_0x26dd97[_0x19abef(0xf7)](_0x45a665);}_0x5f20da[_0x19abef(0xee)](_0x134dd6,_0x5f20da[_0x19abef(0x138)]),_0x4bf2d4['insertBefore'](_0x26dd97,_0x4bf2d4[_0x19abef(0x14e)](_0x19abef(0xa8)));}function hexToRgba(_0x506f7e,_0x570fc3){const _0x27c95b=a3_0x1e7435;let _0x554f51;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x27c95b(0xda)](_0x506f7e))return _0x554f51=_0x506f7e[_0x27c95b(0x144)](0x1)[_0x27c95b(0xd5)](''),_0x554f51['length']==0x3&&(_0x554f51=[_0x554f51[0x0],_0x554f51[0x0],_0x554f51[0x1],_0x554f51[0x1],_0x554f51[0x2],_0x554f51[0x2]]),_0x554f51='0x'+_0x554f51[_0x27c95b(0xb6)](''),_0x27c95b(0x183)+[_0x554f51>>0x10&0xff,_0x554f51>>0x8&0xff,_0x554f51&0xff][_0x27c95b(0xb6)](',')+','+_0x570fc3+')';return _0x27c95b(0x125)+_0x570fc3+')';}let confirmResolver=null;function showCustomConfirm(_0x373dba,_0x484f4d,_0x43e4af=!![]){const _0x496587=a3_0x1e7435;document[_0x496587(0xe5)]('ccTitle')[_0x496587(0x16f)]=_0x373dba,document['getElementById'](_0x496587(0x108))['textContent']=_0x484f4d;const _0x460cf5=document[_0x496587(0xe5)](_0x496587(0x17c));return _0x43e4af?(_0x460cf5['style'][_0x496587(0x11f)]='#ff453a',_0x460cf5[_0x496587(0x145)]['fontWeight']=_0x496587(0xb0)):(_0x460cf5[_0x496587(0x145)][_0x496587(0x11f)]=_0x496587(0xd3),_0x460cf5[_0x496587(0x145)]['fontWeight']=_0x496587(0xb0)),new Promise(_0x2ccb34=>{const _0x3a4d00=_0x496587;confirmResolver=_0x2ccb34,document[_0x3a4d00(0xe5)](_0x3a4d00(0x17a))[_0x3a4d00(0xfc)][_0x3a4d00(0x167)](_0x3a4d00(0xe9));});}function resolveCustomConfirm(_0x3165e3){const _0x153fdd=a3_0x1e7435;document[_0x153fdd(0xe5)](_0x153fdd(0x17a))['classList'][_0x153fdd(0xac)](_0x153fdd(0xe9));if(confirmResolver)confirmResolver(_0x3165e3);}async function tryCancelCurrentSession(){const _0x512069=a3_0x1e7435;if(!currentSession)return;const _0x4d5eec=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x512069(0xcc),!![]);if(!_0x4d5eec)return;const _0x522421=currentSession;closeAllSheets(),sessions=sessions[_0x512069(0x18a)](_0x35acf8=>_0x35acf8['id']!==_0x522421['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date['now']();try{const _0x109d9a=window[_0x512069(0xb2)]?.[_0x512069(0x126)],_0x577679=await fetch(API_URL,{'method':_0x512069(0x13e),'body':JSON[_0x512069(0xd1)]({'action':_0x512069(0x153),'init_data':_0x109d9a?.[_0x512069(0x173)]||'','coachId':_0x522421[_0x512069(0x13f)],'dateStr':_0x522421[_0x512069(0x120)],'sessionId':_0x522421['id']})});if(_0x577679['ok'])DataManager[_0x512069(0x137)]();}catch(_0x5a2799){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3d6cad=a3_0x1e7435;if(!currentSession)return;document['getElementById'](_0x3d6cad(0x16a))[_0x3d6cad(0xfc)]['remove'](_0x3d6cad(0xcd)),document['getElementById'](_0x3d6cad(0xbd))[_0x3d6cad(0xfc)]['add'](_0x3d6cad(0xcd));const _0x5adbb3=document[_0x3d6cad(0xe5)](_0x3d6cad(0x112)),_0x11b69b=document[_0x3d6cad(0xe5)]('rsSlotsGrid');_0x5adbb3[_0x3d6cad(0xf4)]='',_0x11b69b[_0x3d6cad(0xf4)]=_0x3d6cad(0xed);const [_0x4fa261,_0x4c1f44]=currentSession['start']['split'](':')['map'](Number),[_0x4564ad,_0x49041b]=currentSession[_0x3d6cad(0x139)][_0x3d6cad(0xd5)](':')['map'](Number),_0xea75df=_0x4564ad*0x3c+_0x49041b-(_0x4fa261*0x3c+_0x4c1f44);try{const _0x13760d=window['Telegram']?.[_0x3d6cad(0x126)],_0xeb081d=await fetch(API_URL,{'method':_0x3d6cad(0x13e),'body':JSON['stringify']({'action':_0x3d6cad(0xb5),'coachId':currentSession[_0x3d6cad(0x13f)],'duration':_0xea75df,'init_data':_0x13760d?.[_0x3d6cad(0x173)]||'','excludeSessionId':currentSession['id']})}),_0xe7ee90=await _0xeb081d[_0x3d6cad(0x18d)]();_0xe7ee90['ok']&&_0xe7ee90[_0x3d6cad(0xcf)]?(availableSlotsCache=_0xe7ee90['data'],renderRescheduleDates()):_0x11b69b[_0x3d6cad(0xf4)]=_0x3d6cad(0x18b);}catch(_0x5ee8fd){_0x11b69b['innerHTML']=_0x3d6cad(0x16b);}}function renderRescheduleDates(){const _0x109339=a3_0x1e7435,_0x4f1073=document[_0x109339(0xe5)](_0x109339(0x112));_0x4f1073['innerHTML']='';const _0x2bb94c=Object['keys'](availableSlotsCache)['sort'](),_0x4343fd=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2bb94c[_0x109339(0x148)]===0x0){document[_0x109339(0xe5)](_0x109339(0x160))[_0x109339(0xf4)]=_0x109339(0x14a);return;}_0x2bb94c[_0x109339(0xa9)]((_0x2beae9,_0x302f54)=>{const _0x5901fa=_0x109339,_0x425ff6=new Date(_0x2beae9),_0x57ed8e=_0x4343fd[_0x425ff6[_0x5901fa(0x18e)]()],_0x1d8b81=_0x425ff6[_0x5901fa(0xfb)](),_0x14c0aa=document[_0x5901fa(0x136)](_0x5901fa(0x105));_0x14c0aa[_0x5901fa(0xf9)]=_0x5901fa(0x99);if(_0x302f54===0x0)_0x14c0aa[_0x5901fa(0xfc)][_0x5901fa(0x167)]('active');_0x14c0aa[_0x5901fa(0xf4)]=_0x5901fa(0x164)+_0x57ed8e+'</div><div\x20class=\x22rs-day-num\x22>'+_0x1d8b81+_0x5901fa(0x104),_0x14c0aa[_0x5901fa(0xad)]=()=>selectRsDate(_0x2beae9,_0x14c0aa),_0x4f1073['appendChild'](_0x14c0aa);}),selectRsDate(_0x2bb94c[0x0],_0x4f1073[_0x109339(0x138)]);}function selectRsDate(_0x3cdca4,_0x3a3683){const _0x14f861=a3_0x1e7435;selectedRsDate=_0x3cdca4,document[_0x14f861(0xb7)]('.rs-date-chip')[_0x14f861(0xa9)](_0x80f08c=>_0x80f08c[_0x14f861(0xfc)]['remove'](_0x14f861(0x134)));if(_0x3a3683)_0x3a3683['classList'][_0x14f861(0x167)](_0x14f861(0x134));const _0x10c3c7=document[_0x14f861(0xe5)](_0x14f861(0x160));_0x10c3c7[_0x14f861(0xf4)]='';const _0x4dfce8=availableSlotsCache[_0x3cdca4]||[];if(_0x4dfce8['length']===0x0){_0x10c3c7[_0x14f861(0xf4)]=_0x14f861(0x18b);return;}_0x4dfce8['forEach'](_0x2dbec2=>{const _0x284d6d=_0x14f861,_0x2c6200=document[_0x284d6d(0x136)](_0x284d6d(0xc1));_0x2c6200[_0x284d6d(0xf9)]='rs-time-btn',_0x2c6200['textContent']=_0x2dbec2,_0x2c6200[_0x284d6d(0xad)]=()=>confirmReschedule(_0x2dbec2),_0x10c3c7[_0x284d6d(0xf7)](_0x2c6200);});}async function confirmReschedule(_0x2bf00f){const _0x971c6e=a3_0x1e7435,_0x55214d=new Date(selectedRsDate),_0x4d813c=_0x55214d[_0x971c6e(0xd6)](_0x971c6e(0xa3),{'day':_0x971c6e(0xc6),'month':_0x971c6e(0xbf)}),_0x3d765c=await showCustomConfirm(_0x971c6e(0x117),_0x971c6e(0x13b)+_0x4d813c+'\x20–≤\x20'+_0x2bf00f+'?',![]);if(!_0x3d765c)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x971c6e(0xdd)]();const _0x29793c=currentSession['dateStr'],_0x3c9e92=currentSession['id'],[_0x4a7ddc,_0x61e74b]=currentSession['start'][_0x971c6e(0xd5)](':')[_0x971c6e(0xf3)](Number),[_0x2e53df,_0x594222]=currentSession[_0x971c6e(0x139)][_0x971c6e(0xd5)](':')[_0x971c6e(0xf3)](Number),_0x4f56a=_0x2e53df*0x3c+_0x594222-(_0x4a7ddc*0x3c+_0x61e74b),[_0x102fba,_0x521301]=_0x2bf00f[_0x971c6e(0xd5)](':')[_0x971c6e(0xf3)](Number),_0x17c772=_0x102fba*0x3c+_0x521301+_0x4f56a,_0x3d34a4=Math[_0x971c6e(0x174)](_0x17c772/0x3c),_0x22a540=_0x17c772%0x3c,_0x254ca0=String(_0x3d34a4)[_0x971c6e(0x152)](0x2,'0')+':'+String(_0x22a540)[_0x971c6e(0x152)](0x2,'0'),_0x4a330b=sessions[_0x971c6e(0x146)](_0x28050e=>_0x28050e['id']===_0x3c9e92);_0x4a330b!==-0x1&&(sessions[_0x4a330b][_0x971c6e(0x120)]=selectedRsDate,sessions[_0x4a330b][_0x971c6e(0xa7)]=_0x2bf00f,sessions[_0x4a330b]['end']=_0x254ca0,reRenderBlocks());try{const _0x23b070=window['Telegram']?.[_0x971c6e(0x126)],_0x244614=await fetch(API_URL,{'method':_0x971c6e(0x13e),'body':JSON['stringify']({'action':_0x971c6e(0x97),'init_data':_0x23b070?.[_0x971c6e(0x173)]||'','oldSessionId':_0x3c9e92,'oldDate':_0x29793c,'newDate':selectedRsDate,'newTime':_0x2bf00f,'coachId':currentSession['coachId']})}),_0x56bc9e=await _0x244614[_0x971c6e(0x18d)]();!_0x56bc9e['ok']?(showToast(_0x971c6e(0x17f)),DataManager[_0x971c6e(0x123)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x971c6e(0x137)]());}catch(_0x298383){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x1e7435(0x116)](a3_0x1e7435(0x9d),init);