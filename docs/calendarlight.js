const a3_0x1071f3=a3_0x1db2;(function(_0x386b9c,_0xbbaf5b){const _0x278e60=a3_0x1db2,_0x2dca6c=_0x386b9c();while(!![]){try{const _0x5376f9=parseInt(_0x278e60(0xfc))/0x1+parseInt(_0x278e60(0x12e))/0x2*(-parseInt(_0x278e60(0xca))/0x3)+parseInt(_0x278e60(0x117))/0x4+parseInt(_0x278e60(0x149))/0x5*(-parseInt(_0x278e60(0x158))/0x6)+parseInt(_0x278e60(0x100))/0x7+parseInt(_0x278e60(0x174))/0x8+-parseInt(_0x278e60(0x163))/0x9*(parseInt(_0x278e60(0xd8))/0xa);if(_0x5376f9===_0xbbaf5b)break;else _0x2dca6c['push'](_0x2dca6c['shift']());}catch(_0x2dd2bd){_0x2dca6c['push'](_0x2dca6c['shift']());}}}(a3_0x249c,0xb7d40));const APP_VERSION=a3_0x1071f3(0x17d),API_URL=a3_0x1071f3(0xdf),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS=a3_0x1071f3(0x13f),KEY_CLIENTS='uc_client_list';function a3_0x249c(){const _0x251ce8=['onclick','auto','block','clients','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','px\x20-','start','.rs-date-chip','clientId','mini','min','syncLoad','uc_client_settings','rgba(10,\x20132,\x20255,\x20','anDonutCircle','blocked-range-part\x20stripe-bg','toLocaleString','rs-date-chip','settings','Error\x20setting\x20back\x20button:','split','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','9300HPwXif','T00:00:00','planned','offsetWidth','detailsSheet','className','left','error','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','textContent','#050505','join','.btn-cancel','custom','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','1362KNyAKj','initData','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','time-label','getDay','detTime','end','getFullYear','active','anEnd','borderLeftColor','59841tLYUbf','\x20status-completed','color','–û—Ç–º–µ–Ω–µ–Ω–æ','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','length','location','setHours','startsWith','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','setAttribute','exceptions','div','isArray','max','<span>','12027776SaIuwk','anCustomDates','getMinutes','innerHTML','detDate','test','px\x200px','floor','–∑–∞\x20','v9.5-CLIENT-ANALYTICS','getAttribute','ccYesBtn','month','sort','getElementById','anStart','daysHeaderTrack','entries','\x20–≤\x20','querySelector','blocked-slot\x20stripe-bg','.btn-reschedule','findIndex','setHeaderColor','width','push','detNote','log','day-column\x20','substr','pattern','Unknown','status','scrollTo','value','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','offsetLeft','analyticsSheet','flex','matrixViewport','saveLocally','stringify','then','getHours','filter','cancelContainer','getDate','rsSlotsGrid','</div>','scrollWidth','%\x20+\x202px)','cancelled','toast','applyData','ccTitle','stopPropagation','forEach','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rsDatesTrack','coach_profiles','height','setDate','var(--acc-green)','completed','today','POST','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','colIndex','round','setBackgroundColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','613923fNwvNA','backgroundPosition','getItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','constructor','customConfirm','json','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','disableVerticalSwipes','.period-switch\x20.p-btn','DOMContentLoaded','strokeDashoffset','classList','clientWidth','720yheOdx','button','createDocumentFragment','numeric','ccText','display','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20—á.','Telegram','get_slots','now','long','top','addEventListener','getMonth','WebApp','dateStr','cid','seriesId','(((.+)+)+)+$','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','show','data-day-idx','coachId','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','style','none','add','done','open','client_load','ranges','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','ru-RU','toLocaleDateString','699515wYWVbn','map','firstChild','T23:59:59','1915067NXwuOl','week','keys','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','charAt','reschedule','slice','.sheet','scroll','detStatus','\x20–∏–∑\x20','scrollLeft','day-off-overlay\x20stripe-bg','data','anPercent','appendChild','600','initDataUnsafe','client-stat-card','gridColumns','timeLineBadge','createElement','802180PlMQnY','fontWeight','padStart','querySelectorAll','remove','data-date','cancel_window','BackButton','total','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#0a84ff','overlay','visible','.day-column','calc(','scrollTop','user','getTime','calendar','timeColumn','setItem','</div><div\x20class=\x22dch-num\x22>','toString','10UxFoqX','href','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','<div\x20class=\x22dch-day\x22>','\x20-\x20'];a3_0x249c=function(){return _0x251ce8;};return a3_0x249c();}function a3_0x1db2(_0x9428d7,_0xef26b){_0x9428d7=_0x9428d7-0xca;const _0x5f2e2b=a3_0x249c();let _0x4ccdd7=_0x5f2e2b[_0x9428d7];return _0x4ccdd7;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x9c07c3=a3_0x1071f3,_0x376a6d=(function(){let _0x1e497a=!![];return function(_0x4d7cb8,_0xd4087a){const _0x166a5b=_0x1e497a?function(){if(_0xd4087a){const _0x4e8438=_0xd4087a['apply'](_0x4d7cb8,arguments);return _0xd4087a=null,_0x4e8438;}}:function(){};return _0x1e497a=![],_0x166a5b;};}()),_0x44001e=_0x376a6d(this,function(){const _0x28b0a8=a3_0x1db2;return _0x44001e[_0x28b0a8(0x12d)]()['search']('(((.+)+)+)+$')[_0x28b0a8(0x12d)]()[_0x28b0a8(0xce)](_0x44001e)['search'](_0x28b0a8(0xec));});_0x44001e();try{const _0x4dcf3f=window[_0x9c07c3(0xe1)]?.[_0x9c07c3(0xe8)];if(!_0x4dcf3f)return;_0x4dcf3f['ready'](),_0x4dcf3f['expand']();try{_0x4dcf3f[_0x9c07c3(0x18b)]('#050505'),_0x4dcf3f[_0x9c07c3(0x1b9)]&&_0x4dcf3f[_0x9c07c3(0x1b9)](_0x9c07c3(0x153));}catch(_0x455a2a){console[_0x9c07c3(0x18f)]('Error\x20setting\x20color:',_0x455a2a);}try{_0x4dcf3f[_0x9c07c3(0x11e)]&&(_0x4dcf3f['BackButton'][_0x9c07c3(0xee)](),_0x4dcf3f[_0x9c07c3(0x11e)]['offClick'](),_0x4dcf3f['BackButton']['onClick'](function(){const _0x32f2fa=_0x9c07c3;window[_0x32f2fa(0x169)][_0x32f2fa(0x12f)]='router.html';}));}catch(_0x42b769){console[_0x9c07c3(0x18f)](_0x9c07c3(0x146),_0x42b769);}try{if(_0x4dcf3f[_0x9c07c3(0xd2)])_0x4dcf3f['disableVerticalSwipes']();}catch(_0x46c087){}}catch(_0x520da9){console[_0x9c07c3(0x150)]('Critical\x20TMA\x20Error:',_0x520da9);}}());function isAdmin(){const _0x4a8f37=a3_0x1071f3;try{const _0x569a51=Number(window[_0x4a8f37(0xe1)]?.['WebApp']?.[_0x4a8f37(0x112)]?.[_0x4a8f37(0x127)]?.['id']);return _0x569a51===0xbaf7174;}catch(_0x4093d5){return![];}}const DataManager={'saveLocally'(){const _0x5e8ddb=a3_0x1071f3;try{localStorage[_0x5e8ddb(0x12b)](KEY_SESSIONS,JSON[_0x5e8ddb(0x19d)](sessions)),localStorage[_0x5e8ddb(0x12b)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x5e8ddb(0x12b)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2fb15d){}},'loadLocal'(){const _0xce2d74=a3_0x1071f3;try{const _0x426ca2=localStorage[_0xce2d74(0xcc)](KEY_SESSIONS);if(_0x426ca2)sessions=JSON['parse'](_0x426ca2);const _0x183053=localStorage[_0xce2d74(0xcc)](KEY_CLIENTS);if(_0x183053)clients=JSON['parse'](_0x183053);const _0x391797=localStorage[_0xce2d74(0xcc)](KEY_SETTINGS);if(_0x391797){const _0x1dd84e=JSON['parse'](_0x391797);if(_0x1dd84e['pattern'])availabilityPattern=_0x1dd84e[_0xce2d74(0x192)];if(_0x1dd84e[_0xce2d74(0xf8)])specialRanges=_0x1dd84e[_0xce2d74(0xf8)];if(_0x1dd84e[_0xce2d74(0x16f)])dateExceptions=_0x1dd84e[_0xce2d74(0x16f)];}}catch(_0xab1169){}},async 'syncLoad'(){const _0x545fb8=a3_0x1071f3,_0x4af4f0=new Date(),_0x243415=_0x4af4f0['getFullYear']()+'-'+String(_0x4af4f0[_0x545fb8(0xe7)]()+0x1)[_0x545fb8(0x119)](0x2,'0'),_0x52506e=new Date(_0x4af4f0);_0x52506e['setMonth'](_0x4af4f0[_0x545fb8(0xe7)]()+0x1);const _0xfd6a7f=_0x52506e[_0x545fb8(0x15f)]()+'-'+String(_0x52506e[_0x545fb8(0xe7)]()+0x1)[_0x545fb8(0x119)](0x2,'0'),_0x1abc18=Date[_0x545fb8(0xe3)]();try{const _0x1dec64=window[_0x545fb8(0xe1)]?.[_0x545fb8(0xe8)],_0x3d53f0=_0x1dec64?.['initData']||'',[_0x42ccd3,_0x51aa45]=await Promise['all']([fetch(API_URL,{'method':_0x545fb8(0x1b5),'body':JSON[_0x545fb8(0x19d)]({'action':_0x545fb8(0xf7),'init_data':_0x3d53f0,'month_str':_0x243415})})[_0x545fb8(0x19e)](_0x5af382=>_0x5af382[_0x545fb8(0xd0)]()),fetch(API_URL,{'method':_0x545fb8(0x1b5),'body':JSON[_0x545fb8(0x19d)]({'action':'client_load','init_data':_0x3d53f0,'month_str':_0xfd6a7f})})[_0x545fb8(0x19e)](_0x1d9399=>_0x1d9399['json']())]);if(lastUserActionTime>_0x1abc18){console[_0x545fb8(0x18f)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x42ccd3['ok'])this[_0x545fb8(0x1a9)](_0x42ccd3[_0x545fb8(0x10e)],_0x243415);if(_0x51aa45['ok'])this['applyData'](_0x51aa45[_0x545fb8(0x10e)],_0xfd6a7f);this[_0x545fb8(0x19c)]();}catch(_0x2fafe1){}},'applyData'(_0x4c0e2f,_0x589133){const _0x520754=a3_0x1071f3;if(!_0x4c0e2f)return;if(_0x4c0e2f[_0x520754(0x145)]){if(_0x4c0e2f[_0x520754(0x145)]['pattern'])availabilityPattern=_0x4c0e2f[_0x520754(0x145)][_0x520754(0x192)];if(_0x4c0e2f[_0x520754(0x145)][_0x520754(0xf8)])specialRanges=_0x4c0e2f[_0x520754(0x145)][_0x520754(0xf8)];if(_0x4c0e2f[_0x520754(0x145)]['exceptions'])dateExceptions=_0x4c0e2f[_0x520754(0x145)][_0x520754(0x16f)];}if(_0x4c0e2f[_0x520754(0x136)]&&Array[_0x520754(0x171)](_0x4c0e2f[_0x520754(0x136)]))clients=_0x4c0e2f[_0x520754(0x136)];_0x4c0e2f['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x4c0e2f[_0x520754(0x1af)]}),_0x4c0e2f[_0x520754(0x129)]&&(sessions=sessions['filter'](_0x531625=>!_0x531625['dateStr'][_0x520754(0x16b)](_0x589133)),Object[_0x520754(0x102)](_0x4c0e2f[_0x520754(0x129)])[_0x520754(0x1ac)](_0x4338b3=>{const _0x114010=_0x520754,_0x48879a=_0x4c0e2f['calendar'][_0x4338b3];_0x48879a[_0x114010(0x1ac)](_0x2fca04=>{const _0x2973de=_0x114010;sessions[_0x2973de(0x18d)]({'id':_0x2fca04['i'],'clientId':_0x2fca04['c'],'coachId':_0x2fca04[_0x2973de(0xea)],'dateStr':_0x589133+'-'+_0x4338b3[_0x2973de(0x119)](0x2,'0'),'start':_0x2fca04['s'],'end':_0x2fca04['e'],'note':_0x2fca04['n']||'','status':_0x2fca04['st']||_0x2973de(0x14b),'seriesId':_0x2fca04['sid']});});})),reRenderBlocks();}};function init(){const _0x5e4bb8=a3_0x1071f3;DataManager['loadLocal'](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5e4bb8(0x182)](_0x5e4bb8(0x19b))[_0x5e4bb8(0xe6)](_0x5e4bb8(0x109),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5e4bb8(0x13e)]();}function renderTimeColumn(){const _0x488c98=a3_0x1071f3,_0x553d61=document[_0x488c98(0x182)](_0x488c98(0x12a)),_0x5b4901=document[_0x488c98(0x182)](_0x488c98(0x115));_0x553d61[_0x488c98(0x177)]='',_0x553d61[_0x488c98(0x110)](_0x5b4901);for(let _0x5d0aa8=0x0;_0x5d0aa8<0x18;_0x5d0aa8++){const _0x4f514c=document[_0x488c98(0x116)](_0x488c98(0x170));_0x4f514c['className']=_0x488c98(0x15b);if(_0x5d0aa8>0x0)_0x4f514c['innerHTML']=_0x488c98(0x173)+String(_0x5d0aa8)[_0x488c98(0x119)](0x2,'0')+':00</span>';_0x553d61[_0x488c98(0x110)](_0x4f514c);}}function renderDayRange(_0x1d06ad,_0x44aafa){const _0xb1f10b=a3_0x1071f3,_0x345fe3=document[_0xb1f10b(0x182)](_0xb1f10b(0x184)),_0x5b61b6=document['getElementById']('gridColumns'),_0x36ea25=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x255500=new Date();_0x255500[_0xb1f10b(0x16a)](0x0,0x0,0x0,0x0);const _0x55a293=getLocalDateStr(new Date());for(let _0x18900b=_0x1d06ad;_0x18900b<=_0x44aafa;_0x18900b++){const _0x1f380a=new Date(_0x255500);_0x1f380a[_0xb1f10b(0x1b1)](_0x1f380a[_0xb1f10b(0x1a2)]()+_0x18900b);const _0x2fef40=getLocalDateStr(_0x1f380a);let _0x548de9=_0x1f380a[_0xb1f10b(0x15c)]()-0x1;if(_0x548de9===-0x1)_0x548de9=0x6;const _0x368a56=_0x2fef40===_0x55a293,_0x42c11b=document[_0xb1f10b(0x116)](_0xb1f10b(0x170));_0x42c11b['className']='day-col-header\x20'+(_0x368a56?_0xb1f10b(0x1b4):''),_0x42c11b[_0xb1f10b(0x16e)](_0xb1f10b(0x11c),_0x2fef40),_0x42c11b[_0xb1f10b(0x177)]=_0xb1f10b(0x131)+_0x36ea25[_0x548de9]+'</div><div\x20class=\x22dch-num\x22>'+_0x1f380a[_0xb1f10b(0x1a2)]()+'</div>',_0x345fe3[_0xb1f10b(0x110)](_0x42c11b);const _0x1d45c9=document[_0xb1f10b(0x116)]('div');_0x1d45c9['className']=_0xb1f10b(0x190)+(_0x368a56?_0xb1f10b(0x1b4):''),_0x1d45c9[_0xb1f10b(0x16e)]('data-date',_0x2fef40),_0x1d45c9[_0xb1f10b(0x16e)]('data-day-idx',_0x548de9),_0x5b61b6[_0xb1f10b(0x110)](_0x1d45c9);}}function reRenderBlocks(){const _0x527be5=a3_0x1071f3;document[_0x527be5(0x11a)](_0x527be5(0x124))[_0x527be5(0x1ac)](_0x1de29e=>{const _0x112d39=_0x527be5;_0x1de29e['querySelectorAll'](_0x112d39(0x104))[_0x112d39(0x1ac)](_0x231d3a=>_0x231d3a[_0x112d39(0x11b)]());const _0x3cd49=_0x1de29e[_0x112d39(0x17e)]('data-date'),_0x21ae65=parseInt(_0x1de29e[_0x112d39(0x17e)]('data-day-idx')),_0x153f78=Math[_0x112d39(0x1b8)](_0x1de29e[_0x112d39(0x198)]);(availabilityPattern[_0x21ae65]||[])[_0x112d39(0x1ac)](_0x3b2607=>{const _0x104ebc=_0x112d39,_0x4b2357=document[_0x104ebc(0x116)]('div');_0x4b2357[_0x104ebc(0x14e)]=_0x104ebc(0x188),_0x4b2357[_0x104ebc(0xf2)]['top']=_0x3b2607*GRID_H+'px',_0x4b2357['style'][_0x104ebc(0xcb)]='-'+_0x153f78+'px\x20-'+_0x3b2607*GRID_H+'px',_0x1de29e[_0x104ebc(0x110)](_0x4b2357);});if(specialRanges[_0x112d39(0x168)]>0x0){const _0x38ce35=new Date(_0x3cd49+_0x112d39(0x14a))[_0x112d39(0x128)](),_0x3261cc=new Date(_0x3cd49+_0x112d39(0xff))[_0x112d39(0x128)]();specialRanges['forEach'](_0xdb518c=>{const _0x53d349=_0x112d39,_0x354724=new Date(_0xdb518c[_0x53d349(0x139)])[_0x53d349(0x128)](),_0x1e6e30=new Date(_0xdb518c[_0x53d349(0x15e)])[_0x53d349(0x128)](),_0x3ace99=Math[_0x53d349(0x172)](_0x38ce35,_0x354724),_0x561345=Math[_0x53d349(0x13d)](_0x3261cc,_0x1e6e30);if(_0x3ace99<_0x561345){const _0x44f54b=(_0x3ace99-_0x38ce35)/0x36ee80*GRID_H,_0x14dd35=(_0x561345-_0x3ace99)/0x36ee80*GRID_H,_0x54d7ab=document[_0x53d349(0x116)](_0x53d349(0x170));_0x14dd35>=23.5*GRID_H?(_0x54d7ab[_0x53d349(0x14e)]=_0x53d349(0x10d),_0x54d7ab[_0x53d349(0xf2)]['backgroundPosition']='-'+_0x153f78+_0x53d349(0x17a)):(_0x54d7ab[_0x53d349(0x14e)]=_0x53d349(0x142),_0x54d7ab[_0x53d349(0xf2)][_0x53d349(0xe5)]=_0x44f54b+'px',_0x54d7ab[_0x53d349(0xf2)][_0x53d349(0x1b0)]=_0x14dd35+'px',_0x54d7ab['style'][_0x53d349(0xcb)]='-'+_0x153f78+_0x53d349(0x138)+_0x44f54b+'px'),_0x1de29e[_0x53d349(0x110)](_0x54d7ab);}});}renderEventsForColumn(_0x1de29e,_0x3cd49);});}function renderEventsForColumn(_0x2486f1,_0x3632da){const _0x493b52=a3_0x1071f3,_0x507f2f=sessions[_0x493b52(0x1a0)](_0x965618=>_0x965618[_0x493b52(0xe9)]===_0x3632da),_0x1bfece=_0x507f2f[_0x493b52(0xfd)](_0x15fc22=>{const _0x1a5fd2=_0x493b52,[_0x460269,_0x5e93c]=_0x15fc22[_0x1a5fd2(0x139)]['split'](':')[_0x1a5fd2(0xfd)](Number),[_0x5705a0,_0x2ab3d0]=_0x15fc22[_0x1a5fd2(0x15e)][_0x1a5fd2(0x147)](':')[_0x1a5fd2(0xfd)](Number);return{'data':_0x15fc22,'start':_0x460269*0x3c+_0x5e93c,'end':_0x5705a0*0x3c+_0x2ab3d0,'colIndex':0x0};});_0x1bfece['sort']((_0x5d963c,_0x4c7492)=>_0x5d963c[_0x493b52(0x139)]-_0x4c7492[_0x493b52(0x139)]||_0x4c7492[_0x493b52(0x15e)]-_0x4c7492['start']-(_0x5d963c[_0x493b52(0x15e)]-_0x5d963c[_0x493b52(0x139)]));const _0xf9a1b4=[];_0x1bfece[_0x493b52(0x1ac)](_0x19fec7=>{const _0x10cde6=_0x493b52;let _0x1dd01f=![];for(let _0x52d6dd=0x0;_0x52d6dd<_0xf9a1b4[_0x10cde6(0x168)];_0x52d6dd++){const _0x489dad=_0xf9a1b4[_0x52d6dd];if(_0x19fec7[_0x10cde6(0x139)]>=_0x489dad[_0x489dad[_0x10cde6(0x168)]-0x1][_0x10cde6(0x15e)]){_0x489dad[_0x10cde6(0x18d)](_0x19fec7),_0x19fec7[_0x10cde6(0x1b7)]=_0x52d6dd,_0x1dd01f=!![];break;}}!_0x1dd01f&&(_0xf9a1b4[_0x10cde6(0x18d)]([_0x19fec7]),_0x19fec7[_0x10cde6(0x1b7)]=_0xf9a1b4['length']-0x1);}),_0x1bfece[_0x493b52(0x1ac)](_0x4f2453=>{const _0x42ab16=_0x493b52;let _0x158cb4=0x0;_0x1bfece['forEach'](_0x309ab9=>{const _0x143df5=a3_0x1db2;if(Math[_0x143df5(0x172)](_0x4f2453[_0x143df5(0x139)],_0x309ab9[_0x143df5(0x139)])<Math[_0x143df5(0x13d)](_0x4f2453['end'],_0x309ab9[_0x143df5(0x15e)])&&_0x309ab9[_0x143df5(0x1b7)]>_0x158cb4)_0x158cb4=_0x309ab9['colIndex'];});const _0x2b3488=_0x158cb4+0x1,_0x56872a=0x64/_0x2b3488,_0x7341f3=_0x4f2453[_0x42ab16(0x1b7)]*_0x56872a,_0x21dc84=document[_0x42ab16(0x116)](_0x42ab16(0x170)),_0x25ae5f=_0x4f2453[_0x42ab16(0x10e)];let _0x12d641=_0x42ab16(0x121);if(clients&&clients[_0x42ab16(0x168)]>0x0){const _0x4f5edd=clients['find'](_0x261b0c=>String(_0x261b0c['id'])===String(_0x25ae5f[_0x42ab16(0x13b)]));if(_0x4f5edd&&_0x4f5edd['color'])_0x12d641=_0x4f5edd['color'];}const _0xccdef4=_0x25ae5f[_0x42ab16(0x194)]===_0x42ab16(0x1b3),_0x10db12=_0xccdef4?0x1:0.45;_0x21dc84[_0x42ab16(0x14e)]='event-card'+(_0xccdef4?_0x42ab16(0x164):''),_0x21dc84[_0x42ab16(0xf2)]['backgroundColor']=hexToRgba(_0x12d641,_0x10db12),_0x21dc84[_0x42ab16(0xf2)][_0x42ab16(0x162)]=_0x12d641;const _0xd2db4c=_0x4f2453[_0x42ab16(0x139)]/0x3c*GRID_H,_0x5762b1=(_0x4f2453[_0x42ab16(0x15e)]-_0x4f2453[_0x42ab16(0x139)])/0x3c*GRID_H;_0x21dc84[_0x42ab16(0xf2)][_0x42ab16(0xe5)]=_0xd2db4c+'px',_0x21dc84['style']['height']=Math[_0x42ab16(0x172)](_0x5762b1,0x14)+'px',_0x21dc84[_0x42ab16(0xf2)][_0x42ab16(0x18c)]=_0x42ab16(0x125)+_0x56872a+'%\x20-\x204px)',_0x21dc84[_0x42ab16(0xf2)][_0x42ab16(0x14f)]=_0x42ab16(0x125)+_0x7341f3+_0x42ab16(0x1a6),_0x21dc84['style']['zIndex']=0xa+_0x4f2453['colIndex'];if(_0x56872a<0x55)_0x21dc84[_0x42ab16(0xd6)][_0x42ab16(0xf4)](_0x42ab16(0x13c));let _0x911578='';if(_0x25ae5f[_0x42ab16(0xeb)])_0x911578+=_0x42ab16(0x148);if(_0xccdef4)_0x911578+=_0x42ab16(0x120);_0x21dc84[_0x42ab16(0x177)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x25ae5f['start']+_0x42ab16(0x132)+_0x25ae5f['end']+_0x42ab16(0x1ba)+_0x911578+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21dc84[_0x42ab16(0x133)]=_0x4b775b=>{const _0x3d215e=_0x42ab16;_0x4b775b[_0x3d215e(0x1ab)](),openDetails(_0x25ae5f);},_0x2486f1[_0x42ab16(0x110)](_0x21dc84);});}function openAnalytics(){const _0x24f656=a3_0x1071f3,_0x1194dc=document[_0x24f656(0x187)](_0x24f656(0xd3));setAnalyticsPeriod(_0x24f656(0x101),_0x1194dc),openSheet(_0x24f656(0x199));}function setAnalyticsPeriod(_0x272bc8,_0x9906dd){const _0x27882a=a3_0x1071f3;currentAnPeriod=_0x272bc8,document[_0x27882a(0x11a)]('.period-switch\x20.p-btn')['forEach'](_0x48e69b=>_0x48e69b[_0x27882a(0xd6)][_0x27882a(0x11b)](_0x27882a(0x160)));if(_0x9906dd)_0x9906dd[_0x27882a(0xd6)][_0x27882a(0xf4)](_0x27882a(0x160));const _0x2ae249=document[_0x27882a(0x182)](_0x27882a(0x175));_0x2ae249[_0x27882a(0xf2)]['display']=_0x272bc8===_0x27882a(0x156)?_0x27882a(0x19a):_0x27882a(0xf3);const _0x100071=new Date();let _0x2357f9=new Date(),_0x319a97=new Date();if(_0x272bc8===_0x27882a(0x101))_0x2357f9=getStartOfWeek(_0x100071),_0x319a97=new Date(_0x2357f9),_0x319a97[_0x27882a(0x1b1)](_0x319a97[_0x27882a(0x1a2)]()+0x6);else{if(_0x272bc8===_0x27882a(0x180))_0x2357f9=new Date(_0x100071[_0x27882a(0x15f)](),_0x100071[_0x27882a(0xe7)](),0x1),_0x319a97=new Date(_0x100071[_0x27882a(0x15f)](),_0x100071[_0x27882a(0xe7)]()+0x1,0x0);else{!document['getElementById']('anStart')['value']&&(document[_0x27882a(0x182)](_0x27882a(0x183))[_0x27882a(0x196)]=getLocalDateStr(_0x100071),document[_0x27882a(0x182)](_0x27882a(0x161))[_0x27882a(0x196)]=getLocalDateStr(_0x100071));refreshAnalytics();return;}}document[_0x27882a(0x182)](_0x27882a(0x183))['value']=getLocalDateStr(_0x2357f9),document[_0x27882a(0x182)](_0x27882a(0x161))[_0x27882a(0x196)]=getLocalDateStr(_0x319a97),refreshAnalytics();}function refreshAnalytics(){const _0x5656ea=a3_0x1071f3,_0x684333=document[_0x5656ea(0x182)](_0x5656ea(0x183))['value'],_0xffbfcb=document[_0x5656ea(0x182)](_0x5656ea(0x161))[_0x5656ea(0x196)];if(!_0x684333||!_0xffbfcb)return;const _0x1c8493=sessions[_0x5656ea(0x1a0)](_0x1db3b0=>_0x1db3b0[_0x5656ea(0xe9)]>=_0x684333&&_0x1db3b0[_0x5656ea(0xe9)]<=_0xffbfcb&&_0x1db3b0[_0x5656ea(0x194)]!==_0x5656ea(0x1a7)),_0x585bb7=_0x1c8493[_0x5656ea(0x168)],_0x501544=_0x1c8493[_0x5656ea(0x1a0)](_0x5766d7=>_0x5766d7[_0x5656ea(0x194)]===_0x5656ea(0x1b3))['length'],_0x3cd797=_0x585bb7>0x0?Math[_0x5656ea(0x1b8)](_0x501544/_0x585bb7*0x64):0x0;document['getElementById'](_0x5656ea(0x10f))[_0x5656ea(0x152)]=_0x3cd797+'%',document[_0x5656ea(0x182)]('anTotalStats')['textContent']=_0x501544+_0x5656ea(0x10b)+_0x585bb7+_0x5656ea(0xed);const _0x40d1d8=document['getElementById'](_0x5656ea(0x141)),_0x45da92=0x2*Math['PI']*0x23,_0x175287=_0x45da92-_0x3cd797/0x64*_0x45da92;_0x40d1d8['style'][_0x5656ea(0xd5)]=_0x175287;const _0x503dd7={};_0x1c8493[_0x5656ea(0x1ac)](_0xce0121=>{const _0x511ba1=_0x5656ea,_0x5a49d3=_0xce0121[_0x511ba1(0xf0)]||_0x511ba1(0x193);if(!_0x503dd7[_0x5a49d3]){const _0x3f852d='#'+_0x5a49d3[_0x511ba1(0x12d)]()['substr'](0x0,0x6);_0x503dd7[_0x5a49d3]={'total':0x0,'done':0x0,'color':_0x3f852d};}_0x503dd7[_0x5a49d3]['total']++;if(_0xce0121['status']===_0x511ba1(0x1b3))_0x503dd7[_0x5a49d3]['done']++;});const _0x1bdb9d=document['getElementById']('analyticsList');_0x1bdb9d[_0x5656ea(0x177)]='';const _0x4940d6=Object[_0x5656ea(0x185)](_0x503dd7)[_0x5656ea(0x181)]((_0x53a095,_0x193eca)=>_0x193eca[0x1][_0x5656ea(0x11f)]-_0x53a095[0x1]['total']);if(_0x4940d6[_0x5656ea(0x168)]===0x0){_0x1bdb9d[_0x5656ea(0x177)]=_0x5656ea(0xf1);return;}_0x4940d6[_0x5656ea(0x1ac)](([_0x20e405,_0x45ab5d])=>{const _0xf4d0f1=_0x5656ea,_0x529278=Math[_0xf4d0f1(0x1b8)](_0x45ab5d[_0xf4d0f1(0xf5)]/_0x45ab5d[_0xf4d0f1(0x11f)]*0x64),_0x20f145=document['createElement']('div');_0x20f145[_0xf4d0f1(0x14e)]=_0xf4d0f1(0x113),_0x20f145[_0xf4d0f1(0xf2)]['borderLeftColor']=_0x45ab5d[_0xf4d0f1(0x165)],_0x20f145[_0xf4d0f1(0x177)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x20e405[_0xf4d0f1(0x191)](0x0,0x5)+_0xf4d0f1(0x137)+_0x45ab5d[_0xf4d0f1(0xf5)]+'</span>\x20/\x20'+_0x45ab5d[_0xf4d0f1(0x11f)]+_0xf4d0f1(0xcd)+_0x529278+_0xf4d0f1(0x1ad),_0x1bdb9d[_0xf4d0f1(0x110)](_0x20f145);});}function openDetails(_0x51eb3f){const _0x1be695=a3_0x1071f3;currentSession=_0x51eb3f;const _0x16ebdb=new Date(_0x51eb3f[_0x1be695(0xe9)]),_0x1ba2ea=_0x16ebdb[_0x1be695(0xfb)]('ru-RU',{'weekday':'long','day':_0x1be695(0xdb),'month':_0x1be695(0xe4)});document[_0x1be695(0x182)](_0x1be695(0x178))[_0x1be695(0x152)]=_0x1ba2ea[_0x1be695(0x105)](0x0)['toUpperCase']()+_0x1ba2ea[_0x1be695(0x107)](0x1),document[_0x1be695(0x182)](_0x1be695(0x15d))[_0x1be695(0x152)]=_0x51eb3f[_0x1be695(0x139)]+'\x20-\x20'+_0x51eb3f[_0x1be695(0x15e)],document['getElementById'](_0x1be695(0x18e))['textContent']=_0x51eb3f['note']||_0x1be695(0x15a);const _0x2a755f=document['getElementById'](_0x1be695(0x10a)),_0x35ec78=document[_0x1be695(0x182)](_0x1be695(0x1a1)),_0x907efa=_0x35ec78[_0x1be695(0x187)](_0x1be695(0x155)),_0xb4f45c=_0x35ec78[_0x1be695(0x187)](_0x1be695(0x189)),_0x3b2528=document[_0x1be695(0x182)]('cancelHint');if(_0x51eb3f['status']===_0x1be695(0x1b3))_0x2a755f[_0x1be695(0x152)]=_0x1be695(0x16c),_0x2a755f[_0x1be695(0xf2)][_0x1be695(0x165)]=_0x1be695(0x1b2),_0x35ec78['style']['display']='none';else{_0x2a755f[_0x1be695(0x152)]=_0x1be695(0x197),_0x2a755f[_0x1be695(0xf2)][_0x1be695(0x165)]='var(--acc-blue)',_0x35ec78['style'][_0x1be695(0xdd)]=_0x1be695(0x135);const _0x742b95=new Date(_0x51eb3f[_0x1be695(0xe9)]+'T'+_0x51eb3f[_0x1be695(0x139)]),_0x325958=new Date(),_0x5b5a3c=(_0x742b95-_0x325958)/(0x3e8*0x3c*0x3c),_0x574b4a=coachProfiles[_0x51eb3f[_0x1be695(0xf0)]]&&coachProfiles[_0x51eb3f[_0x1be695(0xf0)]][_0x1be695(0x11d)]?parseInt(coachProfiles[_0x51eb3f[_0x1be695(0xf0)]][_0x1be695(0x11d)]):0x18;if(_0x574b4a===0x0||_0x5b5a3c>=_0x574b4a)_0x907efa[_0x1be695(0xf2)][_0x1be695(0xdd)]=_0x1be695(0x135),_0xb4f45c[_0x1be695(0xf2)][_0x1be695(0xdd)]=_0x1be695(0x135),_0x3b2528[_0x1be695(0xf2)][_0x1be695(0xdd)]=_0x1be695(0xf3);else{_0x907efa[_0x1be695(0xf2)]['display']=_0x1be695(0xf3),_0xb4f45c[_0x1be695(0xf2)]['display']=_0x1be695(0xf3),_0x3b2528[_0x1be695(0xf2)][_0x1be695(0xdd)]='block';let _0x1813a5=_0x574b4a===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x1be695(0x17c)+_0x574b4a+_0x1be695(0xe0);_0x3b2528[_0x1be695(0x152)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x1813a5+_0x1be695(0xf9);}}document['getElementById'](_0x1be695(0x122))[_0x1be695(0xd6)]['add'](_0x1be695(0x160)),document[_0x1be695(0x182)](_0x1be695(0x14d))[_0x1be695(0xd6)]['add'](_0x1be695(0xf6));}function closeAllSheets(){const _0x14f501=a3_0x1071f3;document[_0x14f501(0x182)]('overlay')['classList']['remove'](_0x14f501(0x160)),document['querySelectorAll'](_0x14f501(0x108))['forEach'](_0x28d38d=>_0x28d38d['classList'][_0x14f501(0x11b)](_0x14f501(0xf6)));}function openSheet(_0x2df855){const _0x1d4806=a3_0x1071f3;document[_0x1d4806(0x182)](_0x1d4806(0x122))[_0x1d4806(0xd6)][_0x1d4806(0xf4)](_0x1d4806(0x160)),document['getElementById'](_0x2df855)['classList'][_0x1d4806(0xf4)]('open');}function getLocalDateStr(_0x1540cc){const _0x1fbcdc=a3_0x1071f3,_0x12e3e9=_0x1540cc[_0x1fbcdc(0x15f)](),_0x5ec98b=String(_0x1540cc[_0x1fbcdc(0xe7)]()+0x1)[_0x1fbcdc(0x119)](0x2,'0'),_0x54d172=String(_0x1540cc['getDate']())['padStart'](0x2,'0');return _0x12e3e9+'-'+_0x5ec98b+'-'+_0x54d172;}function getStartOfWeek(_0x5e575e){const _0x58cfa0=a3_0x1071f3,_0x2d877c=new Date(_0x5e575e),_0xb44d5d=_0x2d877c['getDay'](),_0x447386=_0x2d877c[_0x58cfa0(0x1a2)]()-_0xb44d5d+(_0xb44d5d===0x0?-0x6:0x1);return _0x2d877c[_0x58cfa0(0x1b1)](_0x447386),_0x2d877c[_0x58cfa0(0x16a)](0x0,0x0,0x0,0x0),_0x2d877c;}function scrollToToday(){const _0x2548b8=getLocalDateStr(new Date());setTimeout(()=>{const _0x466dac=a3_0x1db2,_0x323cb4=document[_0x466dac(0x187)]('.day-col-header[data-date=\x22'+_0x2548b8+'\x22]');if(_0x323cb4){const _0x2a550a=document['getElementById']('matrixViewport'),_0x473574=_0x323cb4[_0x466dac(0x198)]-_0x2a550a[_0x466dac(0xd7)]/0x2+_0x323cb4[_0x466dac(0x14c)]/0x2;_0x2a550a[_0x466dac(0x195)]({'left':_0x473574,'behavior':_0x466dac(0x134)}),_0x2a550a[_0x466dac(0x126)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2e307c=a3_0x1071f3,_0x3ddb77=new Date(),_0x805cd3=document[_0x2e307c(0x182)]('globalTimeLine'),_0x469b1d=document[_0x2e307c(0x182)](_0x2e307c(0x115)),_0x4d26d4=(_0x3ddb77[_0x2e307c(0x19f)]()*0x3c+_0x3ddb77[_0x2e307c(0x176)]())/0x3c*GRID_H;_0x805cd3['style'][_0x2e307c(0xe5)]=_0x4d26d4+'px',_0x805cd3['style']['display']=_0x2e307c(0x135),_0x469b1d[_0x2e307c(0xf2)][_0x2e307c(0xe5)]=_0x4d26d4+'px',_0x469b1d['style']['display']=_0x2e307c(0x135),_0x469b1d[_0x2e307c(0x152)]=String(_0x3ddb77[_0x2e307c(0x19f)]())[_0x2e307c(0x119)](0x2,'0')+':'+String(_0x3ddb77[_0x2e307c(0x176)]())[_0x2e307c(0x119)](0x2,'0');}function onScroll(){const _0x443a29=a3_0x1071f3,_0x4cf369=document[_0x443a29(0x182)](_0x443a29(0x19b)),_0x4d0fd1=document[_0x443a29(0x11a)]('.day-col-header');for(let _0x1a5cf8 of _0x4d0fd1)if(_0x1a5cf8[_0x443a29(0x198)]>=_0x4cf369[_0x443a29(0x10c)]){const _0x1a5bfa=new Date(_0x1a5cf8[_0x443a29(0x17e)](_0x443a29(0x11c)));document[_0x443a29(0x182)]('headerMonth')[_0x443a29(0x152)]=_0x1a5bfa[_0x443a29(0x143)]('ru',{'month':_0x443a29(0xe4)})['toUpperCase']()+'\x20'+_0x1a5bfa[_0x443a29(0x15f)]();break;}}function showToast(_0x14632d){const _0x41f50a=a3_0x1071f3,_0x1bfe33=document[_0x41f50a(0x182)](_0x41f50a(0x1a8));_0x1bfe33[_0x41f50a(0x152)]=_0x14632d,_0x1bfe33[_0x41f50a(0xd6)][_0x41f50a(0xf4)](_0x41f50a(0xee)),setTimeout(()=>_0x1bfe33[_0x41f50a(0xd6)][_0x41f50a(0x11b)]('show'),0x7d0);}function handleInfiniteScroll(){const _0x504d37=a3_0x1071f3,_0x3792ec=document[_0x504d37(0x182)](_0x504d37(0x19b)),_0x28e775=_0x3792ec['scrollLeft'],_0x49cc49=_0x3792ec[_0x504d37(0x1a5)],_0x4c3e55=_0x3792ec[_0x504d37(0xd7)];if(_0x49cc49-(_0x28e775+_0x4c3e55)<0x12c){const _0x20a085=endOffset;endOffset+=0xe,renderDayRange(_0x20a085+0x1,endOffset),reRenderBlocks();}if(_0x28e775<0x12c){const _0x26770e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x26770e-0x1),_0x3792ec[_0x504d37(0x10c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x35e00e,_0x488157){const _0xbaaf37=a3_0x1071f3,_0x5e07a5=document[_0xbaaf37(0x182)](_0xbaaf37(0x184)),_0xbb8037=document['getElementById'](_0xbaaf37(0x114)),_0x59aa74=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x11b781=new Date();_0x11b781['setHours'](0x0,0x0,0x0,0x0);const _0x586754=getLocalDateStr(new Date()),_0x1b8120=document['createDocumentFragment'](),_0x4a6a1e=document[_0xbaaf37(0xda)]();for(let _0x434a77=_0x35e00e;_0x434a77<=_0x488157;_0x434a77++){const _0x2f9e34=new Date(_0x11b781);_0x2f9e34['setDate'](_0x2f9e34[_0xbaaf37(0x1a2)]()+_0x434a77);const _0x373664=getLocalDateStr(_0x2f9e34);let _0x44465f=_0x2f9e34[_0xbaaf37(0x15c)]()-0x1;if(_0x44465f===-0x1)_0x44465f=0x6;const _0x2cc165=_0x373664===_0x586754,_0x436b1c=document[_0xbaaf37(0x116)]('div');_0x436b1c[_0xbaaf37(0x14e)]='day-col-header\x20'+(_0x2cc165?'today':''),_0x436b1c[_0xbaaf37(0x16e)](_0xbaaf37(0x11c),_0x373664),_0x436b1c[_0xbaaf37(0x177)]=_0xbaaf37(0x131)+_0x59aa74[_0x44465f]+_0xbaaf37(0x12c)+_0x2f9e34['getDate']()+_0xbaaf37(0x1a4),_0x1b8120['appendChild'](_0x436b1c);const _0x3d6559=document['createElement'](_0xbaaf37(0x170));_0x3d6559['className']=_0xbaaf37(0x190)+(_0x2cc165?'today':''),_0x3d6559['setAttribute'](_0xbaaf37(0x11c),_0x373664),_0x3d6559[_0xbaaf37(0x16e)](_0xbaaf37(0xef),_0x44465f),_0x4a6a1e[_0xbaaf37(0x110)](_0x3d6559);}_0x5e07a5['insertBefore'](_0x1b8120,_0x5e07a5[_0xbaaf37(0xfe)]),_0xbb8037['insertBefore'](_0x4a6a1e,_0xbb8037[_0xbaaf37(0x187)]('.day-column'));}function hexToRgba(_0x2cdbc0,_0x436c3b){const _0x23d67c=a3_0x1071f3;let _0x38e338;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x23d67c(0x179)](_0x2cdbc0))return _0x38e338=_0x2cdbc0['substring'](0x1)[_0x23d67c(0x147)](''),_0x38e338[_0x23d67c(0x168)]==0x3&&(_0x38e338=[_0x38e338[0x0],_0x38e338[0x0],_0x38e338[0x1],_0x38e338[0x1],_0x38e338[0x2],_0x38e338[0x2]]),_0x38e338='0x'+_0x38e338[_0x23d67c(0x154)](''),'rgba('+[_0x38e338>>0x10&0xff,_0x38e338>>0x8&0xff,_0x38e338&0xff][_0x23d67c(0x154)](',')+','+_0x436c3b+')';return _0x23d67c(0x140)+_0x436c3b+')';}let confirmResolver=null;function showCustomConfirm(_0x23b52f,_0x11c738,_0x4400f5=!![]){const _0x10660b=a3_0x1071f3;document[_0x10660b(0x182)](_0x10660b(0x1aa))[_0x10660b(0x152)]=_0x23b52f,document['getElementById'](_0x10660b(0xdc))[_0x10660b(0x152)]=_0x11c738;const _0x3c49ad=document[_0x10660b(0x182)](_0x10660b(0x17f));return _0x4400f5?(_0x3c49ad[_0x10660b(0xf2)][_0x10660b(0x165)]='#ff453a',_0x3c49ad[_0x10660b(0xf2)][_0x10660b(0x118)]=_0x10660b(0x111)):(_0x3c49ad['style']['color']='#0a84ff',_0x3c49ad['style']['fontWeight']=_0x10660b(0x111)),new Promise(_0x1f886d=>{const _0x3b4dac=_0x10660b;confirmResolver=_0x1f886d,document[_0x3b4dac(0x182)]('customConfirm')[_0x3b4dac(0xd6)][_0x3b4dac(0xf4)](_0x3b4dac(0x123));});}function resolveCustomConfirm(_0x1345e3){const _0x3f5184=a3_0x1071f3;document['getElementById'](_0x3f5184(0xcf))[_0x3f5184(0xd6)]['remove'](_0x3f5184(0x123));if(confirmResolver)confirmResolver(_0x1345e3);}async function tryCancelCurrentSession(){const _0x24fc55=a3_0x1071f3;if(!currentSession)return;const _0x553bc6=await showCustomConfirm(_0x24fc55(0x130),_0x24fc55(0xd1),!![]);if(!_0x553bc6)return;const _0x9e15f4=currentSession;closeAllSheets(),sessions=sessions[_0x24fc55(0x1a0)](_0x3d35cd=>_0x3d35cd['id']!==_0x9e15f4['id']),reRenderBlocks(),showToast(_0x24fc55(0x166)),lastUserActionTime=Date[_0x24fc55(0xe3)]();try{const _0x541e11=window[_0x24fc55(0xe1)]?.[_0x24fc55(0xe8)],_0x248abd=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x541e11?.[_0x24fc55(0x159)]||'','coachId':_0x9e15f4[_0x24fc55(0xf0)],'dateStr':_0x9e15f4['dateStr'],'sessionId':_0x9e15f4['id']})});if(_0x248abd['ok'])DataManager[_0x24fc55(0x19c)]();}catch(_0x4da605){showToast(_0x24fc55(0x157));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x9a8645=a3_0x1071f3;if(!currentSession)return;document[_0x9a8645(0x182)](_0x9a8645(0x14d))[_0x9a8645(0xd6)][_0x9a8645(0x11b)](_0x9a8645(0xf6)),document[_0x9a8645(0x182)]('rescheduleSheet')[_0x9a8645(0xd6)][_0x9a8645(0xf4)](_0x9a8645(0xf6));const _0x23ab07=document[_0x9a8645(0x182)](_0x9a8645(0x1ae)),_0x382d81=document['getElementById'](_0x9a8645(0x1a3));_0x23ab07[_0x9a8645(0x177)]='',_0x382d81[_0x9a8645(0x177)]='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x202da6,_0x144319]=currentSession['start']['split'](':')['map'](Number),[_0x4e2e74,_0x2bfd6b]=currentSession[_0x9a8645(0x15e)]['split'](':')[_0x9a8645(0xfd)](Number),_0x348936=_0x4e2e74*0x3c+_0x2bfd6b-(_0x202da6*0x3c+_0x144319);try{const _0x2b744e=window[_0x9a8645(0xe1)]?.['WebApp'],_0x397441=await fetch(API_URL,{'method':_0x9a8645(0x1b5),'body':JSON[_0x9a8645(0x19d)]({'action':_0x9a8645(0xe2),'coachId':currentSession[_0x9a8645(0xf0)],'duration':_0x348936,'init_data':_0x2b744e?.[_0x9a8645(0x159)]||'','excludeSessionId':currentSession['id']})}),_0x51f469=await _0x397441[_0x9a8645(0xd0)]();_0x51f469['ok']&&_0x51f469[_0x9a8645(0x10e)]?(availableSlotsCache=_0x51f469[_0x9a8645(0x10e)],renderRescheduleDates()):_0x382d81[_0x9a8645(0x177)]=_0x9a8645(0x1b6);}catch(_0x26fb2f){_0x382d81[_0x9a8645(0x177)]=_0x9a8645(0x151);}}function renderRescheduleDates(){const _0x18daae=a3_0x1071f3,_0x372ea9=document[_0x18daae(0x182)](_0x18daae(0x1ae));_0x372ea9['innerHTML']='';const _0x3ff926=Object['keys'](availableSlotsCache)[_0x18daae(0x181)](),_0x5ce061=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3ff926[_0x18daae(0x168)]===0x0){document[_0x18daae(0x182)](_0x18daae(0x1a3))['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x3ff926[_0x18daae(0x1ac)]((_0x1d6ac3,_0xc0c595)=>{const _0x5ba3fe=_0x18daae,_0x5c23c2=new Date(_0x1d6ac3),_0x3fc343=_0x5ce061[_0x5c23c2[_0x5ba3fe(0x15c)]()],_0x1a1810=_0x5c23c2[_0x5ba3fe(0x1a2)](),_0x2f1ec1=document['createElement'](_0x5ba3fe(0x170));_0x2f1ec1[_0x5ba3fe(0x14e)]=_0x5ba3fe(0x144);if(_0xc0c595===0x0)_0x2f1ec1['classList']['add']('active');_0x2f1ec1[_0x5ba3fe(0x177)]='<div\x20class=\x22rs-day-name\x22>'+_0x3fc343+'</div><div\x20class=\x22rs-day-num\x22>'+_0x1a1810+'</div>',_0x2f1ec1[_0x5ba3fe(0x133)]=()=>selectRsDate(_0x1d6ac3,_0x2f1ec1),_0x372ea9[_0x5ba3fe(0x110)](_0x2f1ec1);}),selectRsDate(_0x3ff926[0x0],_0x372ea9['firstChild']);}function selectRsDate(_0x22546a,_0x404fdb){const _0x5b083f=a3_0x1071f3;selectedRsDate=_0x22546a,document['querySelectorAll'](_0x5b083f(0x13a))[_0x5b083f(0x1ac)](_0xde5022=>_0xde5022[_0x5b083f(0xd6)]['remove'](_0x5b083f(0x160)));if(_0x404fdb)_0x404fdb['classList'][_0x5b083f(0xf4)](_0x5b083f(0x160));const _0x239d6f=document[_0x5b083f(0x182)](_0x5b083f(0x1a3));_0x239d6f[_0x5b083f(0x177)]='';const _0x4b095f=availableSlotsCache[_0x22546a]||[];if(_0x4b095f[_0x5b083f(0x168)]===0x0){_0x239d6f[_0x5b083f(0x177)]=_0x5b083f(0x1b6);return;}_0x4b095f[_0x5b083f(0x1ac)](_0x30b2ea=>{const _0x1644a0=_0x5b083f,_0x2847de=document['createElement'](_0x1644a0(0xd9));_0x2847de['className']='rs-time-btn',_0x2847de[_0x1644a0(0x152)]=_0x30b2ea,_0x2847de[_0x1644a0(0x133)]=()=>confirmReschedule(_0x30b2ea),_0x239d6f['appendChild'](_0x2847de);});}async function confirmReschedule(_0x4cec85){const _0x272963=a3_0x1071f3,_0x4a414a=new Date(selectedRsDate),_0x4e99b4=_0x4a414a['toLocaleDateString'](_0x272963(0xfa),{'day':_0x272963(0xdb),'month':_0x272963(0xe4)}),_0x57da25=await showCustomConfirm(_0x272963(0xde),_0x272963(0x103)+_0x4e99b4+_0x272963(0x186)+_0x4cec85+'?',![]);if(!_0x57da25)return;closeAllSheets(),showToast(_0x272963(0x16d)),lastUserActionTime=Date[_0x272963(0xe3)]();const _0x52126a=currentSession[_0x272963(0xe9)],_0x3e62f9=currentSession['id'],[_0x459d3c,_0x4bae40]=currentSession[_0x272963(0x139)][_0x272963(0x147)](':')[_0x272963(0xfd)](Number),[_0x120022,_0x4cc2a2]=currentSession[_0x272963(0x15e)]['split'](':')[_0x272963(0xfd)](Number),_0x33510c=_0x120022*0x3c+_0x4cc2a2-(_0x459d3c*0x3c+_0x4bae40),[_0x3535fc,_0x3f826d]=_0x4cec85['split'](':')[_0x272963(0xfd)](Number),_0x2ea6e1=_0x3535fc*0x3c+_0x3f826d+_0x33510c,_0x585c33=Math[_0x272963(0x17b)](_0x2ea6e1/0x3c),_0x5c47f4=_0x2ea6e1%0x3c,_0x51d1c7=String(_0x585c33)[_0x272963(0x119)](0x2,'0')+':'+String(_0x5c47f4)[_0x272963(0x119)](0x2,'0'),_0x509f17=sessions[_0x272963(0x18a)](_0x529de4=>_0x529de4['id']===_0x3e62f9);_0x509f17!==-0x1&&(sessions[_0x509f17][_0x272963(0xe9)]=selectedRsDate,sessions[_0x509f17][_0x272963(0x139)]=_0x4cec85,sessions[_0x509f17][_0x272963(0x15e)]=_0x51d1c7,reRenderBlocks());try{const _0x1b1934=window[_0x272963(0xe1)]?.[_0x272963(0xe8)],_0x214882=await fetch(API_URL,{'method':_0x272963(0x1b5),'body':JSON['stringify']({'action':_0x272963(0x106),'init_data':_0x1b1934?.['initData']||'','oldSessionId':_0x3e62f9,'oldDate':_0x52126a,'newDate':selectedRsDate,'newTime':_0x4cec85,'coachId':currentSession[_0x272963(0xf0)]})}),_0x4e57d9=await _0x214882['json']();!_0x4e57d9['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast(_0x272963(0x167)),DataManager[_0x272963(0x19c)]());}catch(_0xc5a402){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document['addEventListener'](a3_0x1071f3(0xd4),init);