const a3_0x2da518=a3_0x37e9;(function(_0x97ad4e,_0x2d4c6f){const _0x4b4041=a3_0x37e9,_0x532e75=_0x97ad4e();while(!![]){try{const _0x57ef10=parseInt(_0x4b4041(0x2ba))/0x1+-parseInt(_0x4b4041(0x1e6))/0x2+parseInt(_0x4b4041(0x2dd))/0x3*(-parseInt(_0x4b4041(0x247))/0x4)+-parseInt(_0x4b4041(0x22b))/0x5*(parseInt(_0x4b4041(0x1f4))/0x6)+-parseInt(_0x4b4041(0x2b9))/0x7*(-parseInt(_0x4b4041(0x1fd))/0x8)+-parseInt(_0x4b4041(0x290))/0x9*(-parseInt(_0x4b4041(0x2c6))/0xa)+parseInt(_0x4b4041(0x267))/0xb;if(_0x57ef10===_0x2d4c6f)break;else _0x532e75['push'](_0x532e75['shift']());}catch(_0x597431){_0x532e75['push'](_0x532e75['shift']());}}}(a3_0x4661,0x99a98));const APP_VERSION=a3_0x2da518(0x2d7),API_URL=a3_0x2da518(0x289),GRID_H=0x3c,KEY_SESSIONS=a3_0x2da518(0x24f),KEY_SETTINGS=a3_0x2da518(0x293),KEY_CLIENTS=a3_0x2da518(0x24b);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x2da518(0x1f3),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x20d244=a3_0x2da518,_0x162969=(function(){let _0x271326=!![];return function(_0x241889,_0x33c762){const _0x1e7cac=_0x271326?function(){if(_0x33c762){const _0x497f38=_0x33c762['apply'](_0x241889,arguments);return _0x33c762=null,_0x497f38;}}:function(){};return _0x271326=![],_0x1e7cac;};}()),_0x3fe86a=_0x162969(this,function(){const _0x22b8d5=a3_0x37e9;return _0x3fe86a[_0x22b8d5(0x24a)]()[_0x22b8d5(0x2b0)]('(((.+)+)+)+$')[_0x22b8d5(0x24a)]()['constructor'](_0x3fe86a)[_0x22b8d5(0x2b0)](_0x22b8d5(0x2a7));});_0x3fe86a();try{const _0x4a6c5c=window[_0x20d244(0x2d3)]?.['WebApp'];if(!_0x4a6c5c)return;_0x4a6c5c['ready'](),_0x4a6c5c['expand']();try{_0x4a6c5c[_0x20d244(0x283)](_0x20d244(0x29d)),_0x4a6c5c[_0x20d244(0x28e)]&&_0x4a6c5c[_0x20d244(0x28e)]('#050505');}catch(_0x2a4631){console['log']('Error\x20setting\x20color:',_0x2a4631);}try{_0x4a6c5c[_0x20d244(0x27d)]&&(_0x4a6c5c[_0x20d244(0x27d)][_0x20d244(0x205)](),_0x4a6c5c[_0x20d244(0x27d)]['offClick'](),_0x4a6c5c[_0x20d244(0x27d)][_0x20d244(0x207)](function(){window['location']['href']='router.html';}));}catch(_0x2d2b31){console[_0x20d244(0x251)]('Error\x20setting\x20back\x20button:',_0x2d2b31);}try{if(_0x4a6c5c[_0x20d244(0x1f9)])_0x4a6c5c['disableVerticalSwipes']();}catch(_0x5a1a96){}}catch(_0x22f3ac){console[_0x20d244(0x1f2)]('Critical\x20TMA\x20Error:',_0x22f3ac);}}());function isAdmin(){const _0x154105=a3_0x2da518;try{const _0x4ca0c3=Number(window['Telegram']?.[_0x154105(0x234)]?.[_0x154105(0x210)]?.['user']?.['id']);return _0x4ca0c3===0xbaf7174;}catch(_0x5bd6f0){return![];}}const DataManager={'saveLocally'(){const _0x3a1d1d=a3_0x2da518;try{localStorage[_0x3a1d1d(0x2ea)](KEY_SESSIONS,JSON[_0x3a1d1d(0x2a9)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x3a1d1d(0x2a9)](clients)),localStorage[_0x3a1d1d(0x2ea)](KEY_SETTINGS,JSON[_0x3a1d1d(0x2a9)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1e00d5){}},'loadLocal'(){const _0x5afd0b=a3_0x2da518;try{const _0x24402c=localStorage[_0x5afd0b(0x22d)](KEY_SESSIONS);if(_0x24402c)sessions=JSON[_0x5afd0b(0x26d)](_0x24402c);const _0x4fc53f=localStorage[_0x5afd0b(0x22d)](KEY_CLIENTS);if(_0x4fc53f)clients=JSON['parse'](_0x4fc53f);const _0x152016=localStorage[_0x5afd0b(0x22d)](KEY_SETTINGS);if(_0x152016){const _0x419996=JSON[_0x5afd0b(0x26d)](_0x152016);if(_0x419996['pattern'])availabilityPattern=_0x419996['pattern'];if(_0x419996[_0x5afd0b(0x21a)])specialRanges=_0x419996['ranges'];if(_0x419996['exceptions'])dateExceptions=_0x419996[_0x5afd0b(0x2e1)];}}catch(_0x285aa8){}},async 'syncLoad'(){const _0x3d3cd2=a3_0x2da518,_0x47e4c=new Date(),_0x3246f0=_0x47e4c[_0x3d3cd2(0x2be)]()+'-'+String(_0x47e4c[_0x3d3cd2(0x2e9)]()+0x1)[_0x3d3cd2(0x244)](0x2,'0'),_0xa9c57c=new Date(_0x47e4c);_0xa9c57c[_0x3d3cd2(0x221)](_0x47e4c[_0x3d3cd2(0x2e9)]()+0x1);const _0x9f4a8c=_0xa9c57c[_0x3d3cd2(0x2be)]()+'-'+String(_0xa9c57c[_0x3d3cd2(0x2e9)]()+0x1)['padStart'](0x2,'0'),_0x15665d=Date[_0x3d3cd2(0x1fe)]();try{const _0x25d43e=window[_0x3d3cd2(0x2d3)]?.[_0x3d3cd2(0x234)],_0x571974=_0x25d43e?.[_0x3d3cd2(0x2d5)]||'',[_0x3dff18,_0x232ce2]=await Promise[_0x3d3cd2(0x2e0)]([fetch(API_URL,{'method':'POST','body':JSON[_0x3d3cd2(0x2a9)]({'action':_0x3d3cd2(0x206),'init_data':_0x571974,'month_str':_0x3246f0})})['then'](_0x20f6d1=>_0x20f6d1['json']()),fetch(API_URL,{'method':_0x3d3cd2(0x20e),'body':JSON[_0x3d3cd2(0x2a9)]({'action':'client_load','init_data':_0x571974,'month_str':_0x9f4a8c})})[_0x3d3cd2(0x202)](_0x3b978b=>_0x3b978b[_0x3d3cd2(0x2bd)]())]);if(lastUserActionTime>_0x15665d){console['log'](_0x3d3cd2(0x22f));return;}if(_0x3dff18['ok'])this[_0x3d3cd2(0x219)](_0x3dff18[_0x3d3cd2(0x2b4)],_0x3246f0);if(_0x232ce2['ok'])this[_0x3d3cd2(0x219)](_0x232ce2[_0x3d3cd2(0x2b4)],_0x9f4a8c);this[_0x3d3cd2(0x27a)]();}catch(_0x408ef2){}},'applyData'(_0x3ae6b4,_0x1190b7){const _0x61a7ec=a3_0x2da518;if(!_0x3ae6b4)return;if(_0x3ae6b4[_0x61a7ec(0x2aa)]){if(_0x3ae6b4['settings'][_0x61a7ec(0x29b)])availabilityPattern=_0x3ae6b4[_0x61a7ec(0x2aa)][_0x61a7ec(0x29b)];if(_0x3ae6b4[_0x61a7ec(0x2aa)]['ranges'])specialRanges=_0x3ae6b4[_0x61a7ec(0x2aa)][_0x61a7ec(0x21a)];if(_0x3ae6b4[_0x61a7ec(0x2aa)][_0x61a7ec(0x2e1)])dateExceptions=_0x3ae6b4['settings'][_0x61a7ec(0x2e1)];}if(_0x3ae6b4['clients']&&Array[_0x61a7ec(0x2b6)](_0x3ae6b4[_0x61a7ec(0x2d1)]))clients=_0x3ae6b4['clients'];_0x3ae6b4[_0x61a7ec(0x26b)]&&(coachProfiles={...coachProfiles,..._0x3ae6b4[_0x61a7ec(0x26b)]}),_0x3ae6b4[_0x61a7ec(0x279)]&&(sessions=sessions[_0x61a7ec(0x249)](_0x3d5cda=>!_0x3d5cda[_0x61a7ec(0x214)][_0x61a7ec(0x1ff)](_0x1190b7)),Object[_0x61a7ec(0x253)](_0x3ae6b4[_0x61a7ec(0x279)])['forEach'](_0x296713=>{const _0x244af2=_0x61a7ec,_0x1a094a=_0x3ae6b4[_0x244af2(0x279)][_0x296713];_0x1a094a[_0x244af2(0x24e)](_0x1676c6=>{const _0x3f0856=_0x244af2;sessions['push']({'id':_0x1676c6['i'],'clientId':_0x1676c6['c'],'coachId':_0x1676c6[_0x3f0856(0x1ed)],'dateStr':_0x1190b7+'-'+_0x296713[_0x3f0856(0x244)](0x2,'0'),'start':_0x1676c6['s'],'end':_0x1676c6['e'],'note':_0x1676c6['n']||'','status':_0x1676c6['st']||_0x3f0856(0x272),'seriesId':_0x1676c6['sid']});});})),reRenderBlocks();}};function init(){const _0xa250b8=a3_0x2da518;DataManager[_0xa250b8(0x236)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xa250b8(0x23e)](_0xa250b8(0x278))['addEventListener'](_0xa250b8(0x21e),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xa250b8(0x292)]();}function renderTimeColumn(){const _0xb8585f=a3_0x2da518,_0x451cdf=document['getElementById'](_0xb8585f(0x243)),_0xc5a76b=document[_0xb8585f(0x23e)](_0xb8585f(0x25d));_0x451cdf[_0xb8585f(0x23b)]='',_0x451cdf['appendChild'](_0xc5a76b);for(let _0x6e59d1=0x0;_0x6e59d1<0x18;_0x6e59d1++){const _0x161c8c=document['createElement'](_0xb8585f(0x2cc));_0x161c8c[_0xb8585f(0x21d)]=_0xb8585f(0x2a4);if(_0x6e59d1>0x0)_0x161c8c[_0xb8585f(0x23b)]=_0xb8585f(0x287)+String(_0x6e59d1)['padStart'](0x2,'0')+_0xb8585f(0x2b2);_0x451cdf[_0xb8585f(0x275)](_0x161c8c);}}function renderDayRange(_0x36ef33,_0x6acaa5){const _0xc7acab=a3_0x2da518,_0x7320ed=document['getElementById']('daysHeaderTrack'),_0x37ff2d=document[_0xc7acab(0x23e)](_0xc7acab(0x2de)),_0x5af655=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x158079=new Date();_0x158079['setHours'](0x0,0x0,0x0,0x0);const _0x3bf093=getLocalDateStr(new Date());for(let _0x3da1de=_0x36ef33;_0x3da1de<=_0x6acaa5;_0x3da1de++){const _0x28d46d=new Date(_0x158079);_0x28d46d[_0xc7acab(0x2c7)](_0x28d46d['getDate']()+_0x3da1de);const _0x153f62=getLocalDateStr(_0x28d46d);let _0x3aa3c7=_0x28d46d[_0xc7acab(0x2a3)]()-0x1;if(_0x3aa3c7===-0x1)_0x3aa3c7=0x6;const _0x3b6137=_0x153f62===_0x3bf093,_0x5d98c7=document[_0xc7acab(0x23d)]('div');_0x5d98c7['className']=_0xc7acab(0x1fb)+(_0x3b6137?'today':''),_0x5d98c7[_0xc7acab(0x2dc)](_0xc7acab(0x2b7),_0x153f62),_0x5d98c7['innerHTML']=_0xc7acab(0x216)+_0x5af655[_0x3aa3c7]+_0xc7acab(0x1ec)+_0x28d46d[_0xc7acab(0x2b1)]()+_0xc7acab(0x240),_0x7320ed[_0xc7acab(0x275)](_0x5d98c7);const _0xfb0716=document[_0xc7acab(0x23d)]('div');_0xfb0716[_0xc7acab(0x21d)]=_0xc7acab(0x28b)+(_0x3b6137?'today':''),_0xfb0716[_0xc7acab(0x2dc)](_0xc7acab(0x2b7),_0x153f62),_0xfb0716['setAttribute']('data-day-idx',_0x3aa3c7),_0x37ff2d['appendChild'](_0xfb0716);}}function reRenderBlocks(){const _0x2a08c6=a3_0x2da518;document['querySelectorAll'](_0x2a08c6(0x274))[_0x2a08c6(0x24e)](_0x403957=>{const _0x2ea807=_0x2a08c6;_0x403957['querySelectorAll'](_0x2ea807(0x1f6))[_0x2ea807(0x24e)](_0x33d571=>_0x33d571[_0x2ea807(0x211)]());const _0x709d53=_0x403957[_0x2ea807(0x225)]('data-date'),_0xc0d70d=parseInt(_0x403957['getAttribute']('data-day-idx')),_0x44ffd1=Math[_0x2ea807(0x2cd)](_0x403957['offsetLeft']);(availabilityPattern[_0xc0d70d]||[])[_0x2ea807(0x24e)](_0x58508d=>{const _0xa32043=_0x2ea807,_0x55f80d=document[_0xa32043(0x23d)](_0xa32043(0x2cc));_0x55f80d[_0xa32043(0x21d)]=_0xa32043(0x285),_0x55f80d[_0xa32043(0x2bb)]['top']=_0x58508d*GRID_H+'px',_0x55f80d[_0xa32043(0x2bb)][_0xa32043(0x208)]='-'+_0x44ffd1+_0xa32043(0x242)+_0x58508d*GRID_H+'px',_0x403957['appendChild'](_0x55f80d);});if(specialRanges['length']>0x0){const _0x3a159e=new Date(_0x709d53+_0x2ea807(0x2c9))[_0x2ea807(0x252)](),_0x3c5bf9=new Date(_0x709d53+_0x2ea807(0x270))[_0x2ea807(0x252)]();specialRanges['forEach'](_0x9a6180=>{const _0x19863a=_0x2ea807,_0x34afc0=new Date(_0x9a6180[_0x19863a(0x20f)])[_0x19863a(0x252)](),_0x27757f=new Date(_0x9a6180[_0x19863a(0x224)])['getTime'](),_0x24c04f=Math[_0x19863a(0x2a8)](_0x3a159e,_0x34afc0),_0x5d2ab8=Math['min'](_0x3c5bf9,_0x27757f);if(_0x24c04f<_0x5d2ab8){const _0x3176be=(_0x24c04f-_0x3a159e)/0x36ee80*GRID_H,_0x5d6a03=(_0x5d2ab8-_0x24c04f)/0x36ee80*GRID_H,_0x5b283b=document[_0x19863a(0x23d)]('div');_0x5d6a03>=23.5*GRID_H?(_0x5b283b[_0x19863a(0x21d)]=_0x19863a(0x255),_0x5b283b['style'][_0x19863a(0x208)]='-'+_0x44ffd1+_0x19863a(0x298)):(_0x5b283b[_0x19863a(0x21d)]=_0x19863a(0x2d8),_0x5b283b['style'][_0x19863a(0x266)]=_0x3176be+'px',_0x5b283b[_0x19863a(0x2bb)][_0x19863a(0x28c)]=_0x5d6a03+'px',_0x5b283b[_0x19863a(0x2bb)]['backgroundPosition']='-'+_0x44ffd1+_0x19863a(0x242)+_0x3176be+'px'),_0x403957[_0x19863a(0x275)](_0x5b283b);}});}renderEventsForColumn(_0x403957,_0x709d53);});}function renderEventsForColumn(_0x318688,_0x25006f){const _0x27ef57=a3_0x2da518,_0x4f5327=sessions[_0x27ef57(0x249)](_0x560dda=>_0x560dda['dateStr']===_0x25006f),_0x586365=_0x4f5327['map'](_0x5a3161=>{const _0x166f33=_0x27ef57,[_0x4e6bd0,_0x2f43df]=_0x5a3161[_0x166f33(0x20f)][_0x166f33(0x2cb)](':')[_0x166f33(0x2e4)](Number),[_0x218475,_0x20853a]=_0x5a3161[_0x166f33(0x224)][_0x166f33(0x2cb)](':')[_0x166f33(0x2e4)](Number);return{'data':_0x5a3161,'start':_0x4e6bd0*0x3c+_0x2f43df,'end':_0x218475*0x3c+_0x20853a,'colIndex':0x0};});_0x586365[_0x27ef57(0x239)]((_0x28daa6,_0xb24fc9)=>_0x28daa6[_0x27ef57(0x20f)]-_0xb24fc9[_0x27ef57(0x20f)]||_0xb24fc9[_0x27ef57(0x224)]-_0xb24fc9[_0x27ef57(0x20f)]-(_0x28daa6[_0x27ef57(0x224)]-_0x28daa6['start']));const _0xcc2f1d=[];_0x586365['forEach'](_0xb477a1=>{const _0x53904f=_0x27ef57;let _0x5751b9=![];for(let _0x2bf104=0x0;_0x2bf104<_0xcc2f1d['length'];_0x2bf104++){const _0x326afa=_0xcc2f1d[_0x2bf104];if(_0xb477a1['start']>=_0x326afa[_0x326afa['length']-0x1][_0x53904f(0x224)]){_0x326afa[_0x53904f(0x22a)](_0xb477a1),_0xb477a1[_0x53904f(0x1ee)]=_0x2bf104,_0x5751b9=!![];break;}}!_0x5751b9&&(_0xcc2f1d[_0x53904f(0x22a)]([_0xb477a1]),_0xb477a1[_0x53904f(0x1ee)]=_0xcc2f1d[_0x53904f(0x1e7)]-0x1);}),_0x586365[_0x27ef57(0x24e)](_0x4476c5=>{const _0x37d9e6=_0x27ef57;let _0x9f9224=0x0;_0x586365['forEach'](_0x4d61a9=>{const _0x8c4940=a3_0x37e9;if(Math[_0x8c4940(0x2a8)](_0x4476c5[_0x8c4940(0x20f)],_0x4d61a9['start'])<Math[_0x8c4940(0x2eb)](_0x4476c5['end'],_0x4d61a9[_0x8c4940(0x224)])&&_0x4d61a9[_0x8c4940(0x1ee)]>_0x9f9224)_0x9f9224=_0x4d61a9[_0x8c4940(0x1ee)];});const _0x36a0c9=_0x9f9224+0x1,_0x483977=0x64/_0x36a0c9,_0x24ec52=_0x4476c5[_0x37d9e6(0x1ee)]*_0x483977,_0x19756d=document[_0x37d9e6(0x23d)](_0x37d9e6(0x2cc)),_0x1636e8=_0x4476c5[_0x37d9e6(0x2b4)];let _0x4b76ea=_0x37d9e6(0x23f);if(clients&&clients[_0x37d9e6(0x1e7)]>0x0){const _0x407d53=clients[_0x37d9e6(0x282)](_0x370f20=>String(_0x370f20['id'])===String(_0x1636e8[_0x37d9e6(0x297)]));if(_0x407d53&&_0x407d53['color'])_0x4b76ea=_0x407d53['color'];}const _0x2a5197=_0x1636e8[_0x37d9e6(0x29e)]==='completed',_0x1ddfd5=_0x2a5197?0x1:0.45;_0x19756d[_0x37d9e6(0x21d)]=_0x37d9e6(0x25b)+(_0x2a5197?_0x37d9e6(0x2e6):''),_0x19756d[_0x37d9e6(0x2bb)][_0x37d9e6(0x1ea)]=hexToRgba(_0x4b76ea,_0x1ddfd5),_0x19756d[_0x37d9e6(0x2bb)][_0x37d9e6(0x229)]=_0x4b76ea;const _0x32634f=_0x4476c5[_0x37d9e6(0x20f)]/0x3c*GRID_H,_0x58cb6a=(_0x4476c5[_0x37d9e6(0x224)]-_0x4476c5[_0x37d9e6(0x20f)])/0x3c*GRID_H;_0x19756d[_0x37d9e6(0x2bb)]['top']=_0x32634f+'px',_0x19756d['style'][_0x37d9e6(0x28c)]=Math[_0x37d9e6(0x2a8)](_0x58cb6a,0x14)+'px',_0x19756d[_0x37d9e6(0x2bb)][_0x37d9e6(0x20b)]=_0x37d9e6(0x20c)+_0x483977+'%\x20-\x204px)',_0x19756d[_0x37d9e6(0x2bb)][_0x37d9e6(0x2d0)]='calc('+_0x24ec52+_0x37d9e6(0x291),_0x19756d[_0x37d9e6(0x2bb)][_0x37d9e6(0x213)]=0xa+_0x4476c5['colIndex'];if(_0x483977<0x55)_0x19756d['classList'][_0x37d9e6(0x258)](_0x37d9e6(0x215));let _0x1b345d='';if(_0x1636e8[_0x37d9e6(0x20d)])_0x1b345d+=_0x37d9e6(0x2af);if(_0x2a5197)_0x1b345d+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x19756d[_0x37d9e6(0x23b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1636e8['start']+_0x37d9e6(0x2db)+_0x1636e8[_0x37d9e6(0x224)]+_0x37d9e6(0x296)+_0x1b345d+_0x37d9e6(0x235),_0x19756d['onclick']=_0x5c207f=>{const _0x366bc7=_0x37d9e6;_0x5c207f[_0x366bc7(0x204)](),openDetails(_0x1636e8);},_0x318688['appendChild'](_0x19756d);});}function openAnalytics(){const _0xbc6dd5=a3_0x2da518,_0x46a3b5=document[_0xbc6dd5(0x25c)](_0xbc6dd5(0x2c5));setAnalyticsPeriod('week',_0x46a3b5),openSheet(_0xbc6dd5(0x2ab));}function setAnalyticsPeriod(_0x21b1d7,_0x3b98b7){const _0x1b1c55=a3_0x2da518;currentAnPeriod=_0x21b1d7,document[_0x1b1c55(0x2c0)](_0x1b1c55(0x2c5))['forEach'](_0x279b87=>_0x279b87[_0x1b1c55(0x2ad)][_0x1b1c55(0x211)](_0x1b1c55(0x2c1)));if(_0x3b98b7)_0x3b98b7['classList']['add']('active');const _0x1ac3a1=document['getElementById'](_0x1b1c55(0x24d));_0x1ac3a1[_0x1b1c55(0x2bb)][_0x1b1c55(0x2bf)]=_0x21b1d7===_0x1b1c55(0x220)?_0x1b1c55(0x2e8):_0x1b1c55(0x26c);const _0x21c524=new Date();let _0x4cddc6=new Date(),_0x2dea72=new Date();if(_0x21b1d7===_0x1b1c55(0x1f3))_0x4cddc6=getStartOfWeek(_0x21c524),_0x2dea72=new Date(_0x4cddc6),_0x2dea72[_0x1b1c55(0x2c7)](_0x2dea72[_0x1b1c55(0x2b1)]()+0x6);else{if(_0x21b1d7===_0x1b1c55(0x222))_0x4cddc6=new Date(_0x21c524[_0x1b1c55(0x2be)](),_0x21c524[_0x1b1c55(0x2e9)](),0x1),_0x2dea72=new Date(_0x21c524[_0x1b1c55(0x2be)](),_0x21c524[_0x1b1c55(0x2e9)]()+0x1,0x0);else{!document[_0x1b1c55(0x23e)](_0x1b1c55(0x1f0))[_0x1b1c55(0x273)]&&(document['getElementById'](_0x1b1c55(0x1f0))[_0x1b1c55(0x273)]=getLocalDateStr(_0x21c524),document[_0x1b1c55(0x23e)](_0x1b1c55(0x201))[_0x1b1c55(0x273)]=getLocalDateStr(_0x21c524));refreshAnalytics();return;}}document[_0x1b1c55(0x23e)](_0x1b1c55(0x1f0))[_0x1b1c55(0x273)]=getLocalDateStr(_0x4cddc6),document[_0x1b1c55(0x23e)](_0x1b1c55(0x201))[_0x1b1c55(0x273)]=getLocalDateStr(_0x2dea72),refreshAnalytics();}function a3_0x4661(){const _0x3a7f05=['</div>','ccText','px\x20-','timeColumn','padStart','onclick','reschedule','16XnjQXD','color','filter','toString','uc_client_list','cancelHint','anCustomDates','forEach','uc_client_sessions','toLocaleDateString','log','getTime','keys','#ff453a','day-off-overlay\x20stripe-bg','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','add','offsetLeft','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','event-card','querySelector','timeLineBadge','detNote','offsetWidth','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','anPercent','auto','note','overlay','join','top','14229501asKXfM','textContent','addEventListener','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','coach_profiles','none','parse','scrollTo','rescheduleSheet','T23:59:59','ru-RU','planned','value','.day-column','appendChild','cancelContainer','customConfirm','matrixViewport','calendar','saveLocally','</span>\x20/\x20','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','BackButton','var(--acc-blue)','createDocumentFragment','.btn-cancel','data-day-idx','find','setHeaderColor','scrollLeft','blocked-slot\x20stripe-bg','client-stat-card','<span>','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','completed','day-column\x20','height','setHours','setBackgroundColor','get_slots','68427GBAaef','%\x20+\x202px)','syncLoad','uc_client_settings','numeric','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientId','px\x200px','floor','clientWidth','pattern','getHours','#050505','status','slice','total','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','getDay','time-label','visible','today','(((.+)+)+)+$','max','stringify','settings','analyticsSheet','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','classList','charAt','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','search','getDate',':00</span>','detStatus','data','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','isArray','data-date','Unknown','74263JoszUG','148430NUDGCv','style','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','json','getFullYear','display','querySelectorAll','active','.sheet','coachId','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','.period-switch\x20.p-btn','240CLqhEN','setDate','var(--acc-green)','T00:00:00','toUpperCase','split','div','round','insertBefore','button','left','clients','daysHeaderTrack','Telegram','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','initData','scrollTop','v9.5-CLIENT-ANALYTICS','blocked-range-part\x20stripe-bg','–û—Ç–º–µ–Ω–µ–Ω–æ','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','\x20-\x20','setAttribute','132186lVAyyp','gridColumns','detailsSheet','all','exceptions','done','detDate','map','strokeDashoffset','\x20status-completed','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','flex','getMonth','setItem','min','771910NeszJv','length','block','fontWeight','backgroundColor','\x20—á.','</div><div\x20class=\x22dch-num\x22>','cid','colIndex','test','anStart','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','error','week','2160078RbwEZt','rsSlotsGrid','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','firstChild','disableVerticalSwipes','ccTitle','day-col-header\x20','globalTimeLine','488ghwjjL','now','startsWith','DOMContentLoaded','anEnd','then','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','stopPropagation','show','client_load','onClick','backgroundPosition','substr','rgba(10,\x20132,\x20255,\x20','width','calc(','seriesId','POST','start','initDataUnsafe','remove','rsDatesTrack','zIndex','dateStr','mini','<div\x20class=\x22dch-day\x22>','rs-date-chip','.btn-reschedule','applyData','ranges','substring','.day-col-header[data-date=\x22','className','scroll','\x20–≤\x20','custom','setMonth','month','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','end','getAttribute','.day-col-header','</div><div\x20class=\x22rs-day-num\x22>','long','borderLeftColor','push','15PChvnk','–∑–∞\x20','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.rs-date-chip','600','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','anDonutCircle','WebApp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loadLocal','open','toast','sort','toLocaleString','innerHTML','ccYesBtn','createElement','getElementById','#0a84ff'];a3_0x4661=function(){return _0x3a7f05;};return a3_0x4661();}function refreshAnalytics(){const _0x233d17=a3_0x2da518,_0x3097e8=document[_0x233d17(0x23e)]('anStart')['value'],_0x21d72a=document[_0x233d17(0x23e)](_0x233d17(0x201))[_0x233d17(0x273)];if(!_0x3097e8||!_0x21d72a)return;const _0xf552b0=sessions[_0x233d17(0x249)](_0xf9ab9b=>_0xf9ab9b['dateStr']>=_0x3097e8&&_0xf9ab9b[_0x233d17(0x214)]<=_0x21d72a&&_0xf9ab9b[_0x233d17(0x29e)]!=='cancelled'),_0x2da20b=_0xf552b0['length'],_0xf2773a=_0xf552b0[_0x233d17(0x249)](_0x3bf20e=>_0x3bf20e[_0x233d17(0x29e)]===_0x233d17(0x28a))['length'],_0x1b38c4=_0x2da20b>0x0?Math[_0x233d17(0x2cd)](_0xf2773a/_0x2da20b*0x64):0x0;document['getElementById'](_0x233d17(0x261))[_0x233d17(0x268)]=_0x1b38c4+'%',document['getElementById']('anTotalStats')['textContent']=_0xf2773a+'\x20–∏–∑\x20'+_0x2da20b+_0x233d17(0x1f1);const _0x514f3d=document[_0x233d17(0x23e)](_0x233d17(0x233)),_0x448bca=0x2*Math['PI']*0x23,_0x51bfd1=_0x448bca-_0x1b38c4/0x64*_0x448bca;_0x514f3d[_0x233d17(0x2bb)][_0x233d17(0x2e5)]=_0x51bfd1;const _0xd23d50={};_0xf552b0['forEach'](_0x5069cf=>{const _0x3c6124=_0x233d17,_0x5c893f=_0x5069cf['coachId']||_0x3c6124(0x2b8);if(!_0xd23d50[_0x5c893f]){const _0x1047c9='#'+_0x5c893f[_0x3c6124(0x24a)]()[_0x3c6124(0x209)](0x0,0x6);_0xd23d50[_0x5c893f]={'total':0x0,'done':0x0,'color':_0x1047c9};}_0xd23d50[_0x5c893f]['total']++;if(_0x5069cf[_0x3c6124(0x29e)]===_0x3c6124(0x28a))_0xd23d50[_0x5c893f]['done']++;});const _0x4ef283=document[_0x233d17(0x23e)]('analyticsList');_0x4ef283['innerHTML']='';const _0x3c7adc=Object['entries'](_0xd23d50)[_0x233d17(0x239)]((_0x28b689,_0x54fb36)=>_0x54fb36[0x1][_0x233d17(0x2a0)]-_0x28b689[0x1][_0x233d17(0x2a0)]);if(_0x3c7adc[_0x233d17(0x1e7)]===0x0){_0x4ef283['innerHTML']=_0x233d17(0x257);return;}_0x3c7adc['forEach'](([_0x356415,_0x259cff])=>{const _0x414567=_0x233d17,_0x116618=Math[_0x414567(0x2cd)](_0x259cff[_0x414567(0x2e2)]/_0x259cff[_0x414567(0x2a0)]*0x64),_0x2ff29e=document[_0x414567(0x23d)]('div');_0x2ff29e[_0x414567(0x21d)]=_0x414567(0x286),_0x2ff29e['style']['borderLeftColor']=_0x259cff[_0x414567(0x248)],_0x2ff29e[_0x414567(0x23b)]=_0x414567(0x22e)+_0x356415[_0x414567(0x209)](0x0,0x5)+_0x414567(0x223)+_0x259cff['done']+_0x414567(0x27b)+_0x259cff[_0x414567(0x2a0)]+_0x414567(0x2a2)+_0x116618+_0x414567(0x26a),_0x4ef283[_0x414567(0x275)](_0x2ff29e);});}function a3_0x37e9(_0xd65a13,_0x30307e){_0xd65a13=_0xd65a13-0x1e6;const _0x2066b1=a3_0x4661();let _0x1603ba=_0x2066b1[_0xd65a13];return _0x1603ba;}function openDetails(_0x2e999a){const _0x1467f1=a3_0x2da518;currentSession=_0x2e999a;const _0x3d6534=new Date(_0x2e999a[_0x1467f1(0x214)]),_0x54fa57=_0x3d6534[_0x1467f1(0x250)]('ru-RU',{'weekday':_0x1467f1(0x228),'day':_0x1467f1(0x294),'month':'long'});document[_0x1467f1(0x23e)](_0x1467f1(0x2e3))[_0x1467f1(0x268)]=_0x54fa57[_0x1467f1(0x2ae)](0x0)[_0x1467f1(0x2ca)]()+_0x54fa57[_0x1467f1(0x29f)](0x1),document['getElementById']('detTime')['textContent']=_0x2e999a[_0x1467f1(0x20f)]+'\x20-\x20'+_0x2e999a['end'],document[_0x1467f1(0x23e)](_0x1467f1(0x25e))[_0x1467f1(0x268)]=_0x2e999a[_0x1467f1(0x263)]||_0x1467f1(0x2da);const _0x274332=document[_0x1467f1(0x23e)](_0x1467f1(0x2b3)),_0x3372bb=document[_0x1467f1(0x23e)](_0x1467f1(0x276)),_0x4ad6bf=_0x3372bb[_0x1467f1(0x25c)](_0x1467f1(0x280)),_0x2f1591=_0x3372bb[_0x1467f1(0x25c)](_0x1467f1(0x218)),_0x28ac72=document['getElementById'](_0x1467f1(0x24c));if(_0x2e999a['status']===_0x1467f1(0x28a))_0x274332[_0x1467f1(0x268)]=_0x1467f1(0x256),_0x274332['style']['color']=_0x1467f1(0x2c8),_0x3372bb[_0x1467f1(0x2bb)]['display']='none';else{_0x274332['textContent']=_0x1467f1(0x203),_0x274332[_0x1467f1(0x2bb)][_0x1467f1(0x248)]=_0x1467f1(0x27e),_0x3372bb[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]=_0x1467f1(0x1e8);const _0x504248=new Date(_0x2e999a[_0x1467f1(0x214)]+'T'+_0x2e999a['start']),_0x44bb30=new Date(),_0x463b98=(_0x504248-_0x44bb30)/(0x3e8*0x3c*0x3c),_0x54d72e=coachProfiles[_0x2e999a['coachId']]&&coachProfiles[_0x2e999a[_0x1467f1(0x2c3)]]['cancel_window']?parseInt(coachProfiles[_0x2e999a[_0x1467f1(0x2c3)]]['cancel_window']):0x18;if(_0x54d72e===0x0||_0x463b98>=_0x54d72e)_0x4ad6bf[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]=_0x1467f1(0x1e8),_0x2f1591[_0x1467f1(0x2bb)]['display']=_0x1467f1(0x1e8),_0x28ac72[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]='none';else{_0x4ad6bf[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]=_0x1467f1(0x26c),_0x2f1591[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]=_0x1467f1(0x26c),_0x28ac72[_0x1467f1(0x2bb)][_0x1467f1(0x2bf)]=_0x1467f1(0x1e8);let _0x1fbceb=_0x54d72e===0x0?_0x1467f1(0x232):_0x1467f1(0x22c)+_0x54d72e+_0x1467f1(0x1eb);_0x28ac72[_0x1467f1(0x268)]=_0x1467f1(0x2b5)+_0x1fbceb+_0x1467f1(0x260);}}document[_0x1467f1(0x23e)]('overlay')[_0x1467f1(0x2ad)][_0x1467f1(0x258)](_0x1467f1(0x2c1)),document[_0x1467f1(0x23e)](_0x1467f1(0x2df))[_0x1467f1(0x2ad)]['add'](_0x1467f1(0x237));}function closeAllSheets(){const _0x9d9b5c=a3_0x2da518;document['getElementById'](_0x9d9b5c(0x264))[_0x9d9b5c(0x2ad)][_0x9d9b5c(0x211)](_0x9d9b5c(0x2c1)),document[_0x9d9b5c(0x2c0)](_0x9d9b5c(0x2c2))[_0x9d9b5c(0x24e)](_0x30be76=>_0x30be76['classList'][_0x9d9b5c(0x211)](_0x9d9b5c(0x237)));}function openSheet(_0x1da4bc){const _0x390f9e=a3_0x2da518;document[_0x390f9e(0x23e)](_0x390f9e(0x264))[_0x390f9e(0x2ad)][_0x390f9e(0x258)]('active'),document[_0x390f9e(0x23e)](_0x1da4bc)[_0x390f9e(0x2ad)]['add'](_0x390f9e(0x237));}function getLocalDateStr(_0x316627){const _0x3f8ca6=a3_0x2da518,_0x27bb25=_0x316627[_0x3f8ca6(0x2be)](),_0x964ca8=String(_0x316627[_0x3f8ca6(0x2e9)]()+0x1)[_0x3f8ca6(0x244)](0x2,'0'),_0x4916d7=String(_0x316627[_0x3f8ca6(0x2b1)]())[_0x3f8ca6(0x244)](0x2,'0');return _0x27bb25+'-'+_0x964ca8+'-'+_0x4916d7;}function getStartOfWeek(_0x55719c){const _0x161446=a3_0x2da518,_0x375881=new Date(_0x55719c),_0x3c0beb=_0x375881[_0x161446(0x2a3)](),_0x201e62=_0x375881[_0x161446(0x2b1)]()-_0x3c0beb+(_0x3c0beb===0x0?-0x6:0x1);return _0x375881[_0x161446(0x2c7)](_0x201e62),_0x375881[_0x161446(0x28d)](0x0,0x0,0x0,0x0),_0x375881;}function scrollToToday(){const _0x4997cc=getLocalDateStr(new Date());setTimeout(()=>{const _0x509d34=a3_0x37e9,_0x1d0f7c=document['querySelector'](_0x509d34(0x21c)+_0x4997cc+'\x22]');if(_0x1d0f7c){const _0x196b36=document[_0x509d34(0x23e)]('matrixViewport'),_0x58cedd=_0x1d0f7c[_0x509d34(0x259)]-_0x196b36['clientWidth']/0x2+_0x1d0f7c[_0x509d34(0x25f)]/0x2;_0x196b36[_0x509d34(0x26e)]({'left':_0x58cedd,'behavior':_0x509d34(0x262)}),_0x196b36[_0x509d34(0x2d6)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x503953=a3_0x2da518,_0x4a71fa=new Date(),_0x17dcdf=document['getElementById'](_0x503953(0x1fc)),_0xb31e1e=document['getElementById'](_0x503953(0x25d)),_0xa5a146=(_0x4a71fa[_0x503953(0x29c)]()*0x3c+_0x4a71fa['getMinutes']())/0x3c*GRID_H;_0x17dcdf[_0x503953(0x2bb)][_0x503953(0x266)]=_0xa5a146+'px',_0x17dcdf[_0x503953(0x2bb)][_0x503953(0x2bf)]=_0x503953(0x1e8),_0xb31e1e[_0x503953(0x2bb)][_0x503953(0x266)]=_0xa5a146+'px',_0xb31e1e[_0x503953(0x2bb)]['display']=_0x503953(0x1e8),_0xb31e1e[_0x503953(0x268)]=String(_0x4a71fa[_0x503953(0x29c)]())[_0x503953(0x244)](0x2,'0')+':'+String(_0x4a71fa['getMinutes']())['padStart'](0x2,'0');}function onScroll(){const _0xdfe3a2=a3_0x2da518,_0x262d0d=document['getElementById']('matrixViewport'),_0x40bcdd=document['querySelectorAll'](_0xdfe3a2(0x226));for(let _0x2710c3 of _0x40bcdd)if(_0x2710c3[_0xdfe3a2(0x259)]>=_0x262d0d[_0xdfe3a2(0x284)]){const _0x209771=new Date(_0x2710c3['getAttribute'](_0xdfe3a2(0x2b7)));document[_0xdfe3a2(0x23e)]('headerMonth')[_0xdfe3a2(0x268)]=_0x209771[_0xdfe3a2(0x23a)]('ru',{'month':'long'})[_0xdfe3a2(0x2ca)]()+'\x20'+_0x209771[_0xdfe3a2(0x2be)]();break;}}function showToast(_0x23f038){const _0x4d3cd4=a3_0x2da518,_0x4862d7=document[_0x4d3cd4(0x23e)](_0x4d3cd4(0x238));_0x4862d7[_0x4d3cd4(0x268)]=_0x23f038,_0x4862d7[_0x4d3cd4(0x2ad)][_0x4d3cd4(0x258)](_0x4d3cd4(0x205)),setTimeout(()=>_0x4862d7[_0x4d3cd4(0x2ad)][_0x4d3cd4(0x211)](_0x4d3cd4(0x205)),0x7d0);}function handleInfiniteScroll(){const _0x1e5868=a3_0x2da518,_0x33820d=document[_0x1e5868(0x23e)]('matrixViewport'),_0x1cdf5e=_0x33820d['scrollLeft'],_0x40707b=_0x33820d['scrollWidth'],_0x51a189=_0x33820d[_0x1e5868(0x29a)];if(_0x40707b-(_0x1cdf5e+_0x51a189)<0x12c){const _0x3886e0=endOffset;endOffset+=0xe,renderDayRange(_0x3886e0+0x1,endOffset),reRenderBlocks();}if(_0x1cdf5e<0x12c){const _0x5dfe97=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5dfe97-0x1),_0x33820d[_0x1e5868(0x284)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3bd5d9,_0x11163d){const _0x45a64f=a3_0x2da518,_0x4a1a69=document[_0x45a64f(0x23e)](_0x45a64f(0x2d2)),_0x8912ed=document[_0x45a64f(0x23e)](_0x45a64f(0x2de)),_0x1b103a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x286fa8=new Date();_0x286fa8['setHours'](0x0,0x0,0x0,0x0);const _0x2edfb1=getLocalDateStr(new Date()),_0x24d3eb=document[_0x45a64f(0x27f)](),_0x3b7ad4=document['createDocumentFragment']();for(let _0x1b632d=_0x3bd5d9;_0x1b632d<=_0x11163d;_0x1b632d++){const _0x467126=new Date(_0x286fa8);_0x467126[_0x45a64f(0x2c7)](_0x467126[_0x45a64f(0x2b1)]()+_0x1b632d);const _0x1a09c9=getLocalDateStr(_0x467126);let _0x1d2ca6=_0x467126['getDay']()-0x1;if(_0x1d2ca6===-0x1)_0x1d2ca6=0x6;const _0xe1ea03=_0x1a09c9===_0x2edfb1,_0xc72013=document[_0x45a64f(0x23d)](_0x45a64f(0x2cc));_0xc72013[_0x45a64f(0x21d)]='day-col-header\x20'+(_0xe1ea03?_0x45a64f(0x2a6):''),_0xc72013[_0x45a64f(0x2dc)](_0x45a64f(0x2b7),_0x1a09c9),_0xc72013[_0x45a64f(0x23b)]=_0x45a64f(0x216)+_0x1b103a[_0x1d2ca6]+_0x45a64f(0x1ec)+_0x467126[_0x45a64f(0x2b1)]()+_0x45a64f(0x240),_0x24d3eb['appendChild'](_0xc72013);const _0x30d2d4=document[_0x45a64f(0x23d)]('div');_0x30d2d4[_0x45a64f(0x21d)]=_0x45a64f(0x28b)+(_0xe1ea03?_0x45a64f(0x2a6):''),_0x30d2d4[_0x45a64f(0x2dc)](_0x45a64f(0x2b7),_0x1a09c9),_0x30d2d4[_0x45a64f(0x2dc)](_0x45a64f(0x281),_0x1d2ca6),_0x3b7ad4[_0x45a64f(0x275)](_0x30d2d4);}_0x4a1a69['insertBefore'](_0x24d3eb,_0x4a1a69[_0x45a64f(0x1f8)]),_0x8912ed[_0x45a64f(0x2ce)](_0x3b7ad4,_0x8912ed[_0x45a64f(0x25c)](_0x45a64f(0x274)));}function hexToRgba(_0x25b35a,_0x406122){const _0x511628=a3_0x2da518;let _0x1e1931;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x511628(0x1ef)](_0x25b35a))return _0x1e1931=_0x25b35a[_0x511628(0x21b)](0x1)[_0x511628(0x2cb)](''),_0x1e1931['length']==0x3&&(_0x1e1931=[_0x1e1931[0x0],_0x1e1931[0x0],_0x1e1931[0x1],_0x1e1931[0x1],_0x1e1931[0x2],_0x1e1931[0x2]]),_0x1e1931='0x'+_0x1e1931[_0x511628(0x265)](''),'rgba('+[_0x1e1931>>0x10&0xff,_0x1e1931>>0x8&0xff,_0x1e1931&0xff]['join'](',')+','+_0x406122+')';return _0x511628(0x20a)+_0x406122+')';}let confirmResolver=null;function showCustomConfirm(_0x4d1fb7,_0x59e209,_0x27c524=!![]){const _0x16825e=a3_0x2da518;document['getElementById'](_0x16825e(0x1fa))[_0x16825e(0x268)]=_0x4d1fb7,document[_0x16825e(0x23e)](_0x16825e(0x241))[_0x16825e(0x268)]=_0x59e209;const _0x548924=document[_0x16825e(0x23e)](_0x16825e(0x23c));return _0x27c524?(_0x548924[_0x16825e(0x2bb)][_0x16825e(0x248)]=_0x16825e(0x254),_0x548924[_0x16825e(0x2bb)][_0x16825e(0x1e9)]=_0x16825e(0x231)):(_0x548924[_0x16825e(0x2bb)][_0x16825e(0x248)]=_0x16825e(0x23f),_0x548924[_0x16825e(0x2bb)][_0x16825e(0x1e9)]=_0x16825e(0x231)),new Promise(_0x372676=>{const _0x43417b=_0x16825e;confirmResolver=_0x372676,document[_0x43417b(0x23e)](_0x43417b(0x277))[_0x43417b(0x2ad)]['add'](_0x43417b(0x2a5));});}function resolveCustomConfirm(_0x29906d){const _0x4e2369=a3_0x2da518;document[_0x4e2369(0x23e)](_0x4e2369(0x277))[_0x4e2369(0x2ad)]['remove'](_0x4e2369(0x2a5));if(confirmResolver)confirmResolver(_0x29906d);}async function tryCancelCurrentSession(){const _0x29a8c4=a3_0x2da518;if(!currentSession)return;const _0x4596ec=await showCustomConfirm(_0x29a8c4(0x2a1),_0x29a8c4(0x2ac),!![]);if(!_0x4596ec)return;const _0x141fc0=currentSession;closeAllSheets(),sessions=sessions[_0x29a8c4(0x249)](_0x5e689d=>_0x5e689d['id']!==_0x141fc0['id']),reRenderBlocks(),showToast(_0x29a8c4(0x2d9)),lastUserActionTime=Date[_0x29a8c4(0x1fe)]();try{const _0x3237cc=window['Telegram']?.[_0x29a8c4(0x234)],_0x4f171b=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':'client_cancel','init_data':_0x3237cc?.[_0x29a8c4(0x2d5)]||'','coachId':_0x141fc0['coachId'],'dateStr':_0x141fc0[_0x29a8c4(0x214)],'sessionId':_0x141fc0['id']})});if(_0x4f171b['ok'])DataManager[_0x29a8c4(0x27a)]();}catch(_0x5c20ae){showToast(_0x29a8c4(0x1f7));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x17f780=a3_0x2da518;if(!currentSession)return;document[_0x17f780(0x23e)]('detailsSheet')[_0x17f780(0x2ad)][_0x17f780(0x211)]('open'),document[_0x17f780(0x23e)](_0x17f780(0x26f))[_0x17f780(0x2ad)][_0x17f780(0x258)](_0x17f780(0x237));const _0x4403c1=document['getElementById'](_0x17f780(0x212)),_0x46ad74=document[_0x17f780(0x23e)](_0x17f780(0x1f5));_0x4403c1[_0x17f780(0x23b)]='',_0x46ad74[_0x17f780(0x23b)]=_0x17f780(0x2c4);const [_0xce54e6,_0x36b760]=currentSession[_0x17f780(0x20f)][_0x17f780(0x2cb)](':')[_0x17f780(0x2e4)](Number),[_0x50a698,_0xe6c0dc]=currentSession['end'][_0x17f780(0x2cb)](':')[_0x17f780(0x2e4)](Number),_0x18dc8f=_0x50a698*0x3c+_0xe6c0dc-(_0xce54e6*0x3c+_0x36b760);try{const _0x33c128=window[_0x17f780(0x2d3)]?.[_0x17f780(0x234)],_0x356727=await fetch(API_URL,{'method':'POST','body':JSON[_0x17f780(0x2a9)]({'action':_0x17f780(0x28f),'coachId':currentSession[_0x17f780(0x2c3)],'duration':_0x18dc8f,'init_data':_0x33c128?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x18adc7=await _0x356727[_0x17f780(0x2bd)]();_0x18adc7['ok']&&_0x18adc7[_0x17f780(0x2b4)]?(availableSlotsCache=_0x18adc7[_0x17f780(0x2b4)],renderRescheduleDates()):_0x46ad74['innerHTML']=_0x17f780(0x295);}catch(_0x52d51e){_0x46ad74[_0x17f780(0x23b)]=_0x17f780(0x27c);}}function renderRescheduleDates(){const _0x3c7cbc=a3_0x2da518,_0x4e8337=document[_0x3c7cbc(0x23e)](_0x3c7cbc(0x212));_0x4e8337[_0x3c7cbc(0x23b)]='';const _0x3c39db=Object[_0x3c7cbc(0x253)](availableSlotsCache)[_0x3c7cbc(0x239)](),_0x49cbc3=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3c39db['length']===0x0){document[_0x3c7cbc(0x23e)](_0x3c7cbc(0x1f5))[_0x3c7cbc(0x23b)]=_0x3c7cbc(0x2bc);return;}_0x3c39db[_0x3c7cbc(0x24e)]((_0x5c76e9,_0x49d557)=>{const _0x6eeedc=_0x3c7cbc,_0x1a8bd6=new Date(_0x5c76e9),_0x3d8b80=_0x49cbc3[_0x1a8bd6[_0x6eeedc(0x2a3)]()],_0x149fae=_0x1a8bd6[_0x6eeedc(0x2b1)](),_0x5b8621=document[_0x6eeedc(0x23d)](_0x6eeedc(0x2cc));_0x5b8621[_0x6eeedc(0x21d)]=_0x6eeedc(0x217);if(_0x49d557===0x0)_0x5b8621['classList']['add'](_0x6eeedc(0x2c1));_0x5b8621[_0x6eeedc(0x23b)]='<div\x20class=\x22rs-day-name\x22>'+_0x3d8b80+_0x6eeedc(0x227)+_0x149fae+_0x6eeedc(0x240),_0x5b8621[_0x6eeedc(0x245)]=()=>selectRsDate(_0x5c76e9,_0x5b8621),_0x4e8337[_0x6eeedc(0x275)](_0x5b8621);}),selectRsDate(_0x3c39db[0x0],_0x4e8337[_0x3c7cbc(0x1f8)]);}function selectRsDate(_0xbec6dd,_0x4b52db){const _0xcca421=a3_0x2da518;selectedRsDate=_0xbec6dd,document[_0xcca421(0x2c0)](_0xcca421(0x230))['forEach'](_0x56069b=>_0x56069b[_0xcca421(0x2ad)][_0xcca421(0x211)](_0xcca421(0x2c1)));if(_0x4b52db)_0x4b52db[_0xcca421(0x2ad)][_0xcca421(0x258)]('active');const _0x233f74=document[_0xcca421(0x23e)]('rsSlotsGrid');_0x233f74[_0xcca421(0x23b)]='';const _0x41707a=availableSlotsCache[_0xbec6dd]||[];if(_0x41707a[_0xcca421(0x1e7)]===0x0){_0x233f74['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x41707a[_0xcca421(0x24e)](_0x209380=>{const _0x3bd09d=_0xcca421,_0x15ef69=document[_0x3bd09d(0x23d)](_0x3bd09d(0x2cf));_0x15ef69[_0x3bd09d(0x21d)]='rs-time-btn',_0x15ef69[_0x3bd09d(0x268)]=_0x209380,_0x15ef69[_0x3bd09d(0x245)]=()=>confirmReschedule(_0x209380),_0x233f74[_0x3bd09d(0x275)](_0x15ef69);});}async function confirmReschedule(_0x2e58b6){const _0x3cc99f=a3_0x2da518,_0x46293b=new Date(selectedRsDate),_0x1dec4a=_0x46293b[_0x3cc99f(0x250)](_0x3cc99f(0x271),{'day':_0x3cc99f(0x294),'month':_0x3cc99f(0x228)}),_0x7757af=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x3cc99f(0x288)+_0x1dec4a+_0x3cc99f(0x21f)+_0x2e58b6+'?',![]);if(!_0x7757af)return;closeAllSheets(),showToast(_0x3cc99f(0x25a)),lastUserActionTime=Date['now']();const _0x3e6664=currentSession[_0x3cc99f(0x214)],_0x4ca741=currentSession['id'],[_0x36e6ed,_0x631f94]=currentSession['start'][_0x3cc99f(0x2cb)](':')[_0x3cc99f(0x2e4)](Number),[_0x54178a,_0x254a4f]=currentSession[_0x3cc99f(0x224)][_0x3cc99f(0x2cb)](':')[_0x3cc99f(0x2e4)](Number),_0x51edaf=_0x54178a*0x3c+_0x254a4f-(_0x36e6ed*0x3c+_0x631f94),[_0x4de87c,_0x47eac1]=_0x2e58b6[_0x3cc99f(0x2cb)](':')[_0x3cc99f(0x2e4)](Number),_0x42b595=_0x4de87c*0x3c+_0x47eac1+_0x51edaf,_0x1368d5=Math[_0x3cc99f(0x299)](_0x42b595/0x3c),_0x59b53c=_0x42b595%0x3c,_0x4fe253=String(_0x1368d5)[_0x3cc99f(0x244)](0x2,'0')+':'+String(_0x59b53c)[_0x3cc99f(0x244)](0x2,'0'),_0x2aff7e=sessions['findIndex'](_0x5aa194=>_0x5aa194['id']===_0x4ca741);_0x2aff7e!==-0x1&&(sessions[_0x2aff7e][_0x3cc99f(0x214)]=selectedRsDate,sessions[_0x2aff7e][_0x3cc99f(0x20f)]=_0x2e58b6,sessions[_0x2aff7e][_0x3cc99f(0x224)]=_0x4fe253,reRenderBlocks());try{const _0x400042=window['Telegram']?.[_0x3cc99f(0x234)],_0x2cb85f=await fetch(API_URL,{'method':_0x3cc99f(0x20e),'body':JSON[_0x3cc99f(0x2a9)]({'action':_0x3cc99f(0x246),'init_data':_0x400042?.[_0x3cc99f(0x2d5)]||'','oldSessionId':_0x4ca741,'oldDate':_0x3e6664,'newDate':selectedRsDate,'newTime':_0x2e58b6,'coachId':currentSession[_0x3cc99f(0x2c3)]})}),_0x2f8694=await _0x2cb85f[_0x3cc99f(0x2bd)]();!_0x2f8694['ok']?(showToast(_0x3cc99f(0x2e7)),DataManager[_0x3cc99f(0x292)]()):(showToast(_0x3cc99f(0x2d4)),DataManager['saveLocally']());}catch(_0x4734e9){showToast(_0x3cc99f(0x1f7));}}document[a3_0x2da518(0x269)](a3_0x2da518(0x200),init);