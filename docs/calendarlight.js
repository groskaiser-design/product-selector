const a3_0x1733b3=a3_0x2dbb;(function(_0x2f0ff6,_0x11fd4f){const _0x1f5146=a3_0x2dbb,_0x50f1d5=_0x2f0ff6();while(!![]){try{const _0x19616e=-parseInt(_0x1f5146(0x1df))/0x1+-parseInt(_0x1f5146(0x1f9))/0x2+parseInt(_0x1f5146(0x14d))/0x3*(parseInt(_0x1f5146(0x18b))/0x4)+parseInt(_0x1f5146(0x120))/0x5+-parseInt(_0x1f5146(0x1d9))/0x6*(-parseInt(_0x1f5146(0x174))/0x7)+parseInt(_0x1f5146(0x19b))/0x8+parseInt(_0x1f5146(0x1c7))/0x9;if(_0x19616e===_0x11fd4f)break;else _0x50f1d5['push'](_0x50f1d5['shift']());}catch(_0x5c85a3){_0x50f1d5['push'](_0x50f1d5['shift']());}}}(a3_0x3217,0xaa3eb));const APP_VERSION=a3_0x1733b3(0x1ef),API_URL=a3_0x1733b3(0x1f4),GRID_H=0x3c,KEY_SESSIONS=a3_0x1733b3(0x194),KEY_SETTINGS=a3_0x1733b3(0x189),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x17bbd0=a3_0x1733b3,_0x1ae63e=(function(){let _0x2fb949=!![];return function(_0x4afd78,_0x5020a0){const _0x20ec40=_0x2fb949?function(){if(_0x5020a0){const _0xe58ab6=_0x5020a0['apply'](_0x4afd78,arguments);return _0x5020a0=null,_0xe58ab6;}}:function(){};return _0x2fb949=![],_0x20ec40;};}()),_0x847e27=_0x1ae63e(this,function(){const _0x59ea6d=a3_0x2dbb;return _0x847e27[_0x59ea6d(0x195)]()[_0x59ea6d(0x11f)]('(((.+)+)+)+$')[_0x59ea6d(0x195)]()[_0x59ea6d(0x1a5)](_0x847e27)[_0x59ea6d(0x11f)]('(((.+)+)+)+$');});_0x847e27();try{const _0x2636fc=window[_0x17bbd0(0x170)]?.['WebApp'];if(!_0x2636fc)return;_0x2636fc[_0x17bbd0(0x112)](),_0x2636fc[_0x17bbd0(0x1f6)]();try{_0x2636fc[_0x17bbd0(0x185)](_0x17bbd0(0x1e6)),_0x2636fc['setBackgroundColor']&&_0x2636fc[_0x17bbd0(0x126)]('#050505');}catch(_0x133579){console[_0x17bbd0(0x13c)](_0x17bbd0(0x1cc),_0x133579);}try{_0x2636fc[_0x17bbd0(0x115)]&&(_0x2636fc['BackButton'][_0x17bbd0(0x192)](),_0x2636fc[_0x17bbd0(0x115)][_0x17bbd0(0x19a)](),_0x2636fc[_0x17bbd0(0x115)][_0x17bbd0(0x1f8)](function(){const _0x13de7c=_0x17bbd0;window[_0x13de7c(0x169)][_0x13de7c(0x147)]=_0x13de7c(0x144);}));}catch(_0x5eea75){console[_0x17bbd0(0x13c)](_0x17bbd0(0x16f),_0x5eea75);}try{if(_0x2636fc['disableVerticalSwipes'])_0x2636fc['disableVerticalSwipes']();}catch(_0x37ad32){}}catch(_0x162341){console[_0x17bbd0(0x18f)]('Critical\x20TMA\x20Error:',_0x162341);}}());function isAdmin(){try{const _0x4c5b7d=Number(window['Telegram']?.['WebApp']?.['initDataUnsafe']?.['user']?.['id']);return _0x4c5b7d===0xbaf7174;}catch(_0x4ac0b3){return![];}}const DataManager={'saveLocally'(){const _0x100944=a3_0x1733b3;try{localStorage[_0x100944(0x1de)](KEY_SESSIONS,JSON[_0x100944(0x121)](sessions)),localStorage[_0x100944(0x1de)](KEY_CLIENTS,JSON[_0x100944(0x121)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x100944(0x121)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3c563e){}},'loadLocal'(){const _0x2ec2b8=a3_0x1733b3;try{const _0x1b812f=localStorage['getItem'](KEY_SESSIONS);if(_0x1b812f)sessions=JSON[_0x2ec2b8(0x193)](_0x1b812f);const _0xfad1b3=localStorage[_0x2ec2b8(0x15f)](KEY_CLIENTS);if(_0xfad1b3)clients=JSON['parse'](_0xfad1b3);const _0xa8f0d9=localStorage[_0x2ec2b8(0x15f)](KEY_SETTINGS);if(_0xa8f0d9){const _0x24976c=JSON[_0x2ec2b8(0x193)](_0xa8f0d9);if(_0x24976c['pattern'])availabilityPattern=_0x24976c[_0x2ec2b8(0x1bd)];if(_0x24976c['ranges'])specialRanges=_0x24976c['ranges'];if(_0x24976c['exceptions'])dateExceptions=_0x24976c[_0x2ec2b8(0x1bf)];}}catch(_0x106489){}},async 'syncLoad'(){const _0x528264=a3_0x1733b3,_0x15a3a0=new Date(),_0x1a2706=_0x15a3a0['getFullYear']()+'-'+String(_0x15a3a0[_0x528264(0x13d)]()+0x1)[_0x528264(0x12a)](0x2,'0'),_0x4c99b0=new Date(_0x15a3a0);_0x4c99b0['setMonth'](_0x15a3a0[_0x528264(0x13d)]()+0x1);const _0x91d8fa=_0x4c99b0[_0x528264(0x133)]()+'-'+String(_0x4c99b0[_0x528264(0x13d)]()+0x1)[_0x528264(0x12a)](0x2,'0'),_0x2c3594=Date[_0x528264(0x12f)]();try{const _0x38706f=window['Telegram']?.[_0x528264(0x19e)],_0xc19635=_0x38706f?.[_0x528264(0x1ce)]||'',[_0xf2e9d2,_0x45602c]=await Promise['all']([fetch(API_URL,{'method':'POST','body':JSON[_0x528264(0x121)]({'action':'client_load','init_data':_0xc19635,'month_str':_0x1a2706})})[_0x528264(0x13a)](_0x2f0f7b=>_0x2f0f7b[_0x528264(0x119)]()),fetch(API_URL,{'method':_0x528264(0x187),'body':JSON[_0x528264(0x121)]({'action':_0x528264(0x1b5),'init_data':_0xc19635,'month_str':_0x91d8fa})})['then'](_0xb6f2b6=>_0xb6f2b6[_0x528264(0x119)]())]);if(lastUserActionTime>_0x2c3594){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0xf2e9d2['ok'])this[_0x528264(0x1a0)](_0xf2e9d2[_0x528264(0x148)],_0x1a2706);if(_0x45602c['ok'])this[_0x528264(0x1a0)](_0x45602c[_0x528264(0x148)],_0x91d8fa);this[_0x528264(0x123)]();}catch(_0x2806d1){}},'applyData'(_0x21341e,_0x18d743){const _0x2a5591=a3_0x1733b3;if(!_0x21341e)return;if(_0x21341e['settings']){if(_0x21341e[_0x2a5591(0x181)][_0x2a5591(0x1bd)])availabilityPattern=_0x21341e[_0x2a5591(0x181)][_0x2a5591(0x1bd)];if(_0x21341e['settings']['ranges'])specialRanges=_0x21341e['settings']['ranges'];if(_0x21341e[_0x2a5591(0x181)]['exceptions'])dateExceptions=_0x21341e['settings'][_0x2a5591(0x1bf)];}if(_0x21341e[_0x2a5591(0x1d0)]&&Array[_0x2a5591(0x1b3)](_0x21341e[_0x2a5591(0x1d0)]))clients=_0x21341e[_0x2a5591(0x1d0)];_0x21341e['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x21341e[_0x2a5591(0x113)]}),_0x21341e[_0x2a5591(0x1d4)]&&(sessions=sessions[_0x2a5591(0x18c)](_0x2b7686=>!_0x2b7686[_0x2a5591(0x157)][_0x2a5591(0x14f)](_0x18d743)),Object[_0x2a5591(0x140)](_0x21341e['calendar'])['forEach'](_0x1fad33=>{const _0x358e1e=_0x2a5591,_0x2f2457=_0x21341e[_0x358e1e(0x1d4)][_0x1fad33];_0x2f2457['forEach'](_0x37f579=>{const _0x3ee150=_0x358e1e;sessions[_0x3ee150(0x175)]({'id':_0x37f579['i'],'clientId':_0x37f579['c'],'coachId':_0x37f579[_0x3ee150(0x137)],'dateStr':_0x18d743+'-'+_0x1fad33[_0x3ee150(0x12a)](0x2,'0'),'start':_0x37f579['s'],'end':_0x37f579['e'],'note':_0x37f579['n']||'','status':_0x37f579['st']||_0x3ee150(0x1e3),'seriesId':_0x37f579[_0x3ee150(0x150)]});});})),reRenderBlocks();}};function init(){const _0x54d49c=a3_0x1733b3;DataManager[_0x54d49c(0x18a)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x54d49c(0x168)]('matrixViewport')[_0x54d49c(0x1a8)](_0x54d49c(0x166),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x18f26e=a3_0x1733b3,_0x1aef15=document['getElementById']('timeColumn'),_0x1ea277=document[_0x18f26e(0x168)]('timeLineBadge');_0x1aef15['innerHTML']='',_0x1aef15[_0x18f26e(0x164)](_0x1ea277);for(let _0x53af40=0x0;_0x53af40<0x18;_0x53af40++){const _0x47ce47=document[_0x18f26e(0x11a)](_0x18f26e(0x1da));_0x47ce47[_0x18f26e(0x17e)]=_0x18f26e(0x1be);if(_0x53af40>0x0)_0x47ce47[_0x18f26e(0x1a3)]='<span>'+String(_0x53af40)[_0x18f26e(0x12a)](0x2,'0')+':00</span>';_0x1aef15['appendChild'](_0x47ce47);}}function renderDayRange(_0x5e4167,_0x1ed04a){const _0x1ecd0d=a3_0x1733b3,_0x907fb9=document['getElementById']('daysHeaderTrack'),_0x33c95f=document['getElementById'](_0x1ecd0d(0x1aa)),_0x522330=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe6ee56=new Date();_0xe6ee56[_0x1ecd0d(0x130)](0x0,0x0,0x0,0x0);const _0x596226=getLocalDateStr(new Date());for(let _0x3a7dfc=_0x5e4167;_0x3a7dfc<=_0x1ed04a;_0x3a7dfc++){const _0x55ca19=new Date(_0xe6ee56);_0x55ca19[_0x1ecd0d(0x16a)](_0x55ca19[_0x1ecd0d(0x14b)]()+_0x3a7dfc);const _0x5001c1=getLocalDateStr(_0x55ca19);let _0x2e2470=_0x55ca19['getDay']()-0x1;if(_0x2e2470===-0x1)_0x2e2470=0x6;const _0x1ca5cb=_0x5001c1===_0x596226,_0x453ec1=document[_0x1ecd0d(0x11a)]('div');_0x453ec1[_0x1ecd0d(0x17e)]=_0x1ecd0d(0x139)+(_0x1ca5cb?_0x1ecd0d(0x143):''),_0x453ec1[_0x1ecd0d(0x1ab)](_0x1ecd0d(0x13b),_0x5001c1),_0x453ec1[_0x1ecd0d(0x1a3)]='<div\x20class=\x22dch-day\x22>'+_0x522330[_0x2e2470]+'</div><div\x20class=\x22dch-num\x22>'+_0x55ca19['getDate']()+_0x1ecd0d(0x127),_0x907fb9[_0x1ecd0d(0x164)](_0x453ec1);const _0x44609a=document[_0x1ecd0d(0x11a)]('div');_0x44609a[_0x1ecd0d(0x17e)]=_0x1ecd0d(0x11e)+(_0x1ca5cb?_0x1ecd0d(0x143):''),_0x44609a[_0x1ecd0d(0x1ab)](_0x1ecd0d(0x13b),_0x5001c1),_0x44609a[_0x1ecd0d(0x1ab)](_0x1ecd0d(0x15a),_0x2e2470),_0x33c95f[_0x1ecd0d(0x164)](_0x44609a);}}function reRenderBlocks(){const _0x3b6d69=a3_0x1733b3;document['querySelectorAll'](_0x3b6d69(0x1f2))['forEach'](_0x9aabe=>{const _0xfdfff2=_0x3b6d69;_0x9aabe['querySelectorAll'](_0xfdfff2(0x1b2))[_0xfdfff2(0x1c0)](_0x5ab7f0=>_0x5ab7f0[_0xfdfff2(0x12b)]());const _0x3bca0c=_0x9aabe[_0xfdfff2(0x1c8)](_0xfdfff2(0x13b)),_0x4eaab1=parseInt(_0x9aabe[_0xfdfff2(0x1c8)](_0xfdfff2(0x15a))),_0xf25204=Math[_0xfdfff2(0x1ee)](_0x9aabe[_0xfdfff2(0x1f1)]);(availabilityPattern[_0x4eaab1]||[])['forEach'](_0x4b11ce=>{const _0x2e96e7=_0xfdfff2,_0x5b8276=document[_0x2e96e7(0x11a)](_0x2e96e7(0x1da));_0x5b8276[_0x2e96e7(0x17e)]=_0x2e96e7(0x196),_0x5b8276['style']['top']=_0x4b11ce*GRID_H+'px',_0x5b8276[_0x2e96e7(0x178)][_0x2e96e7(0x198)]='-'+_0xf25204+'px\x20-'+_0x4b11ce*GRID_H+'px',_0x9aabe[_0x2e96e7(0x164)](_0x5b8276);});if(specialRanges[_0xfdfff2(0x180)]>0x0){const _0x53583f=new Date(_0x3bca0c+_0xfdfff2(0x1f3))[_0xfdfff2(0x1a4)](),_0x4beae8=new Date(_0x3bca0c+_0xfdfff2(0x156))[_0xfdfff2(0x1a4)]();specialRanges[_0xfdfff2(0x1c0)](_0x373251=>{const _0x3ecb14=_0xfdfff2,_0x3e0727=new Date(_0x373251['start'])[_0x3ecb14(0x1a4)](),_0x3faf35=new Date(_0x373251[_0x3ecb14(0x14e)])[_0x3ecb14(0x1a4)](),_0xf85e4f=Math[_0x3ecb14(0x1a1)](_0x53583f,_0x3e0727),_0x4812e5=Math[_0x3ecb14(0x1c6)](_0x4beae8,_0x3faf35);if(_0xf85e4f<_0x4812e5){const _0x5d88fb=(_0xf85e4f-_0x53583f)/0x36ee80*GRID_H,_0x2111b9=(_0x4812e5-_0xf85e4f)/0x36ee80*GRID_H,_0x4ac8d9=document[_0x3ecb14(0x11a)]('div');_0x2111b9>=23.5*GRID_H?(_0x4ac8d9['className']=_0x3ecb14(0x1d2),_0x4ac8d9[_0x3ecb14(0x178)][_0x3ecb14(0x198)]='-'+_0xf25204+'px\x200px'):(_0x4ac8d9['className']='blocked-range-part\x20stripe-bg',_0x4ac8d9[_0x3ecb14(0x178)][_0x3ecb14(0x190)]=_0x5d88fb+'px',_0x4ac8d9['style'][_0x3ecb14(0x117)]=_0x2111b9+'px',_0x4ac8d9[_0x3ecb14(0x178)]['backgroundPosition']='-'+_0xf25204+_0x3ecb14(0x172)+_0x5d88fb+'px'),_0x9aabe[_0x3ecb14(0x164)](_0x4ac8d9);}});}renderEventsForColumn(_0x9aabe,_0x3bca0c);});}function renderEventsForColumn(_0x164e7d,_0xc9dd23){const _0x27d418=a3_0x1733b3,_0xef9e97=sessions[_0x27d418(0x18c)](_0x5cf54b=>_0x5cf54b[_0x27d418(0x157)]===_0xc9dd23),_0x29be2e=_0xef9e97[_0x27d418(0x199)](_0x57e53e=>{const _0x2b0d48=_0x27d418,[_0x1ac37c,_0x1a7c68]=_0x57e53e[_0x2b0d48(0x1cf)][_0x2b0d48(0x111)](':')[_0x2b0d48(0x199)](Number),[_0x1d8ac4,_0x2aea67]=_0x57e53e['end'][_0x2b0d48(0x111)](':')[_0x2b0d48(0x199)](Number);return{'data':_0x57e53e,'start':_0x1ac37c*0x3c+_0x1a7c68,'end':_0x1d8ac4*0x3c+_0x2aea67,'colIndex':0x0};});_0x29be2e[_0x27d418(0x125)]((_0x1e3f0a,_0x544209)=>_0x1e3f0a[_0x27d418(0x1cf)]-_0x544209[_0x27d418(0x1cf)]||_0x544209[_0x27d418(0x14e)]-_0x544209[_0x27d418(0x1cf)]-(_0x1e3f0a[_0x27d418(0x14e)]-_0x1e3f0a[_0x27d418(0x1cf)]));const _0x274505=[];_0x29be2e['forEach'](_0x2d37df=>{const _0xd2657=_0x27d418;let _0x434484=![];for(let _0x260115=0x0;_0x260115<_0x274505['length'];_0x260115++){const _0x553f7f=_0x274505[_0x260115];if(_0x2d37df['start']>=_0x553f7f[_0x553f7f[_0xd2657(0x180)]-0x1][_0xd2657(0x14e)]){_0x553f7f['push'](_0x2d37df),_0x2d37df[_0xd2657(0x162)]=_0x260115,_0x434484=!![];break;}}!_0x434484&&(_0x274505[_0xd2657(0x175)]([_0x2d37df]),_0x2d37df['colIndex']=_0x274505[_0xd2657(0x180)]-0x1);}),_0x29be2e[_0x27d418(0x1c0)](_0x14cc53=>{const _0x26a69e=_0x27d418;let _0x45feee=0x0;_0x29be2e[_0x26a69e(0x1c0)](_0x475fad=>{const _0x238bf5=_0x26a69e;if(Math[_0x238bf5(0x1a1)](_0x14cc53['start'],_0x475fad[_0x238bf5(0x1cf)])<Math[_0x238bf5(0x1c6)](_0x14cc53['end'],_0x475fad[_0x238bf5(0x14e)])&&_0x475fad[_0x238bf5(0x162)]>_0x45feee)_0x45feee=_0x475fad[_0x238bf5(0x162)];});const _0x3c6609=_0x45feee+0x1,_0x99a19a=0x64/_0x3c6609,_0x5b6b39=_0x14cc53[_0x26a69e(0x162)]*_0x99a19a,_0x5cb535=document['createElement'](_0x26a69e(0x1da)),_0x55a2e2=_0x14cc53['data'];let _0x3f281c='#0a84ff';if(clients&&clients[_0x26a69e(0x180)]>0x0){const _0x5269b6=clients['find'](_0x4d3ee0=>String(_0x4d3ee0['id'])===String(_0x55a2e2[_0x26a69e(0x16e)]));if(_0x5269b6&&_0x5269b6['color'])_0x3f281c=_0x5269b6[_0x26a69e(0x1f7)];}const _0x224484=_0x55a2e2['status']===_0x26a69e(0x15e),_0x141a3d=_0x224484?0x1:0.45;_0x5cb535['className']=_0x26a69e(0x1b7)+(_0x224484?_0x26a69e(0x1ac):''),_0x5cb535[_0x26a69e(0x178)][_0x26a69e(0x167)]=hexToRgba(_0x3f281c,_0x141a3d),_0x5cb535[_0x26a69e(0x178)][_0x26a69e(0x1e8)]=_0x3f281c;const _0x23c33a=_0x14cc53[_0x26a69e(0x1cf)]/0x3c*GRID_H,_0x3a7a55=(_0x14cc53['end']-_0x14cc53[_0x26a69e(0x1cf)])/0x3c*GRID_H;_0x5cb535[_0x26a69e(0x178)][_0x26a69e(0x190)]=_0x23c33a+'px',_0x5cb535[_0x26a69e(0x178)][_0x26a69e(0x117)]=Math['max'](_0x3a7a55,0x14)+'px',_0x5cb535[_0x26a69e(0x178)]['width']='calc('+_0x99a19a+_0x26a69e(0x122),_0x5cb535[_0x26a69e(0x178)][_0x26a69e(0x1b8)]=_0x26a69e(0x12c)+_0x5b6b39+_0x26a69e(0x17f),_0x5cb535[_0x26a69e(0x178)]['zIndex']=0xa+_0x14cc53[_0x26a69e(0x162)];if(_0x99a19a<0x55)_0x5cb535['classList']['add'](_0x26a69e(0x1c4));let _0x49674d='';if(_0x55a2e2[_0x26a69e(0x1d5)])_0x49674d+=_0x26a69e(0x1af);if(_0x224484)_0x49674d+=_0x26a69e(0x19c);_0x5cb535['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x55a2e2[_0x26a69e(0x1cf)]+_0x26a69e(0x135)+_0x55a2e2[_0x26a69e(0x14e)]+_0x26a69e(0x183)+_0x49674d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5cb535['onclick']=_0x10c05e=>{const _0x79a79c=_0x26a69e;_0x10c05e[_0x79a79c(0x11c)](),openDetails(_0x55a2e2);},_0x164e7d[_0x26a69e(0x164)](_0x5cb535);});}function openAnalytics(){const _0xbdfde0=a3_0x1733b3,_0x24cc9e=document[_0xbdfde0(0x15b)](_0xbdfde0(0x12d));setAnalyticsPeriod(_0xbdfde0(0x1ec),_0x24cc9e),openSheet(_0xbdfde0(0x1e5));}function a3_0x3217(){const _0xbd40ba=['join','customConfirm','visible','rescheduleSheet','detDate','T23:59:59','dateStr','none','daysHeaderTrack','data-day-idx','querySelector','status','cancel_window','completed','getItem','anEnd','var(--acc-green)','colIndex','ru-RU','appendChild','headerMonth','scroll','backgroundColor','getElementById','location','setDate','total','toLocaleDateString','rgba(','clientId','Error\x20setting\x20back\x20button:','Telegram','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','px\x20-','client-stat-card','21623rhWVrN','push','active','analyticsList','style','cancelHint','substring','getDay','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','rsDatesTrack','className','%\x20+\x202px)','length','settings','done','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ff453a','setHeaderColor','anStart','POST','ccYesBtn','uc_client_settings','loadLocal','2312uSboeW','filter','button','anTotalStats','error','top','long','show','parse','uc_client_sessions','toString','blocked-slot\x20stripe-bg','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','backgroundPosition','map','offClick','1358480zuncrs','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','matrixViewport','WebApp','findIndex','applyData','max','.day-col-header[data-date=\x22','innerHTML','getTime','constructor','600','toLocaleString','addEventListener','detNote','gridColumns','setAttribute','\x20status-completed','scrollTo','scrollTop','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','coachId','value','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','isArray','clientWidth','client_load','get_slots','event-card','left','cancelContainer','querySelectorAll','scrollLeft','timeLineBadge','pattern','time-label','exceptions','forEach','slice','insertBefore','entries','mini','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','min','676557MvckWQ','getAttribute','month','textContent','client_cancel','Error\x20setting\x20color:','add','initData','start','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','day-off-overlay\x20stripe-bg','display','calendar','seriesId','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','createDocumentFragment','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','1074kdbkZF','div','flex','rsSlotsGrid','numeric','setItem','1064907BVDsMI','anDonutCircle','overlay','scrollWidth','planned','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','analyticsSheet','#050505','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','borderLeftColor','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','var(--acc-blue)','getMinutes','week','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','round','v9.5-CLIENT-ANALYTICS','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','offsetLeft','.day-column','T00:00:00','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','expand','color','onClick','2254434ElYyNI','.rs-date-chip','split','ready','coach_profiles','syncLoad','BackButton','detTime','height','–û—Ç–º–µ–Ω–µ–Ω–æ','json','createElement','block','stopPropagation','–∑–∞\x20','day-column\x20','search','6839385QyUsSe','stringify','%\x20-\x204px)','saveLocally','<div\x20class=\x22rs-day-name\x22>','sort','setBackgroundColor','</div>','<div\x20class=\x22dch-day\x22>','\x20—á.','padStart','remove','calc(','.period-switch\x20.p-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','now','setHours','globalTimeLine','ccText','getFullYear','getHours','\x20-\x20','classList','cid','\x20–∏–∑\x20','day-col-header\x20','then','data-date','log','getMonth','toast','open','keys','.btn-reschedule','onclick','today','router.html','rgba(10,\x20132,\x20255,\x20','toUpperCase','href','data','test','</span>\x20/\x20','getDate','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','3756DMmDKR','end','startsWith','sid'];a3_0x3217=function(){return _0xbd40ba;};return a3_0x3217();}function setAnalyticsPeriod(_0x494a02,_0x209e9d){const _0x339ad9=a3_0x1733b3;currentAnPeriod=_0x494a02,document[_0x339ad9(0x1ba)](_0x339ad9(0x12d))[_0x339ad9(0x1c0)](_0x1ea0b9=>_0x1ea0b9[_0x339ad9(0x136)][_0x339ad9(0x12b)](_0x339ad9(0x176)));if(_0x209e9d)_0x209e9d[_0x339ad9(0x136)][_0x339ad9(0x1cd)]('active');const _0x26edd1=document[_0x339ad9(0x168)]('anCustomDates');_0x26edd1[_0x339ad9(0x178)]['display']=_0x494a02==='custom'?_0x339ad9(0x1db):'none';const _0x439378=new Date();let _0x165455=new Date(),_0x2a7c73=new Date();if(_0x494a02===_0x339ad9(0x1ec))_0x165455=getStartOfWeek(_0x439378),_0x2a7c73=new Date(_0x165455),_0x2a7c73[_0x339ad9(0x16a)](_0x2a7c73[_0x339ad9(0x14b)]()+0x6);else{if(_0x494a02===_0x339ad9(0x1c9))_0x165455=new Date(_0x439378[_0x339ad9(0x133)](),_0x439378[_0x339ad9(0x13d)](),0x1),_0x2a7c73=new Date(_0x439378['getFullYear'](),_0x439378['getMonth']()+0x1,0x0);else{!document[_0x339ad9(0x168)](_0x339ad9(0x186))[_0x339ad9(0x1b1)]&&(document[_0x339ad9(0x168)](_0x339ad9(0x186))[_0x339ad9(0x1b1)]=getLocalDateStr(_0x439378),document[_0x339ad9(0x168)](_0x339ad9(0x160))['value']=getLocalDateStr(_0x439378));refreshAnalytics();return;}}document[_0x339ad9(0x168)]('anStart')[_0x339ad9(0x1b1)]=getLocalDateStr(_0x165455),document[_0x339ad9(0x168)](_0x339ad9(0x160))['value']=getLocalDateStr(_0x2a7c73),refreshAnalytics();}function refreshAnalytics(){const _0x1656cb=a3_0x1733b3,_0x5bf978=document['getElementById'](_0x1656cb(0x186))[_0x1656cb(0x1b1)],_0x435dcd=document['getElementById'](_0x1656cb(0x160))[_0x1656cb(0x1b1)];if(!_0x5bf978||!_0x435dcd)return;const _0x1753e3=sessions[_0x1656cb(0x18c)](_0x17420a=>_0x17420a[_0x1656cb(0x157)]>=_0x5bf978&&_0x17420a[_0x1656cb(0x157)]<=_0x435dcd&&_0x17420a['status']!=='cancelled'),_0x2594b6=_0x1753e3['length'],_0xfb70ec=_0x1753e3[_0x1656cb(0x18c)](_0x15b52d=>_0x15b52d[_0x1656cb(0x15c)]==='completed')['length'],_0x2f0c2c=_0x2594b6>0x0?Math['round'](_0xfb70ec/_0x2594b6*0x64):0x0;document['getElementById']('anPercent')[_0x1656cb(0x1ca)]=_0x2f0c2c+'%',document[_0x1656cb(0x168)](_0x1656cb(0x18e))['textContent']=_0xfb70ec+_0x1656cb(0x138)+_0x2594b6+_0x1656cb(0x1f5);const _0x39e543=document[_0x1656cb(0x168)](_0x1656cb(0x1e0)),_0x576bad=0x2*Math['PI']*0x23,_0x544ec8=_0x576bad-_0x2f0c2c/0x64*_0x576bad;_0x39e543['style']['strokeDashoffset']=_0x544ec8;const _0x28247b={};_0x1753e3[_0x1656cb(0x1c0)](_0x45cc53=>{const _0x7fb135=_0x1656cb,_0x1f2e7e=_0x45cc53[_0x7fb135(0x1b0)]||'Unknown';if(!_0x28247b[_0x1f2e7e]){const _0xf40d84='#'+_0x1f2e7e[_0x7fb135(0x195)]()['substr'](0x0,0x6);_0x28247b[_0x1f2e7e]={'total':0x0,'done':0x0,'color':_0xf40d84};}_0x28247b[_0x1f2e7e][_0x7fb135(0x16b)]++;if(_0x45cc53[_0x7fb135(0x15c)]==='completed')_0x28247b[_0x1f2e7e][_0x7fb135(0x182)]++;});const _0x2486b7=document[_0x1656cb(0x168)](_0x1656cb(0x177));_0x2486b7['innerHTML']='';const _0x131467=Object[_0x1656cb(0x1c3)](_0x28247b)[_0x1656cb(0x125)]((_0x3ee8a5,_0x14a397)=>_0x14a397[0x1]['total']-_0x3ee8a5[0x1][_0x1656cb(0x16b)]);if(_0x131467[_0x1656cb(0x180)]===0x0){_0x2486b7[_0x1656cb(0x1a3)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x131467[_0x1656cb(0x1c0)](([_0x4264a9,_0x3cb6df])=>{const _0x56f937=_0x1656cb,_0x1ade8b=Math[_0x56f937(0x1ee)](_0x3cb6df['done']/_0x3cb6df[_0x56f937(0x16b)]*0x64),_0x3036d6=document[_0x56f937(0x11a)](_0x56f937(0x1da));_0x3036d6[_0x56f937(0x17e)]=_0x56f937(0x173),_0x3036d6[_0x56f937(0x178)][_0x56f937(0x1e8)]=_0x3cb6df[_0x56f937(0x1f7)],_0x3036d6['innerHTML']=_0x56f937(0x12e)+_0x4264a9['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3cb6df[_0x56f937(0x182)]+_0x56f937(0x14a)+_0x3cb6df['total']+_0x56f937(0x1c5)+_0x1ade8b+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2486b7['appendChild'](_0x3036d6);});}function openDetails(_0x2de8b5){const _0x1cc9e5=a3_0x1733b3;currentSession=_0x2de8b5;const _0x560276=new Date(_0x2de8b5[_0x1cc9e5(0x157)]),_0x29dbc3=_0x560276[_0x1cc9e5(0x16c)](_0x1cc9e5(0x163),{'weekday':_0x1cc9e5(0x191),'day':'numeric','month':_0x1cc9e5(0x191)});document[_0x1cc9e5(0x168)](_0x1cc9e5(0x155))[_0x1cc9e5(0x1ca)]=_0x29dbc3['charAt'](0x0)[_0x1cc9e5(0x146)]()+_0x29dbc3[_0x1cc9e5(0x1c1)](0x1),document[_0x1cc9e5(0x168)](_0x1cc9e5(0x116))[_0x1cc9e5(0x1ca)]=_0x2de8b5['start']+'\x20-\x20'+_0x2de8b5[_0x1cc9e5(0x14e)],document['getElementById'](_0x1cc9e5(0x1a9))[_0x1cc9e5(0x1ca)]=_0x2de8b5['note']||_0x1cc9e5(0x1ed);const _0x3a9a35=document[_0x1cc9e5(0x168)]('detStatus'),_0x4d01f9=document[_0x1cc9e5(0x168)](_0x1cc9e5(0x1b9)),_0x1467b5=_0x4d01f9[_0x1cc9e5(0x15b)]('.btn-cancel'),_0x19d141=_0x4d01f9[_0x1cc9e5(0x15b)](_0x1cc9e5(0x141)),_0x46fa68=document[_0x1cc9e5(0x168)](_0x1cc9e5(0x179));if(_0x2de8b5[_0x1cc9e5(0x15c)]===_0x1cc9e5(0x15e))_0x3a9a35[_0x1cc9e5(0x1ca)]='‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞',_0x3a9a35[_0x1cc9e5(0x178)][_0x1cc9e5(0x1f7)]=_0x1cc9e5(0x161),_0x4d01f9[_0x1cc9e5(0x178)][_0x1cc9e5(0x1d3)]=_0x1cc9e5(0x158);else{_0x3a9a35['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x3a9a35[_0x1cc9e5(0x178)][_0x1cc9e5(0x1f7)]=_0x1cc9e5(0x1ea),_0x4d01f9[_0x1cc9e5(0x178)][_0x1cc9e5(0x1d3)]='block';const _0x5d3eeb=new Date(_0x2de8b5[_0x1cc9e5(0x157)]+'T'+_0x2de8b5[_0x1cc9e5(0x1cf)]),_0x33f586=new Date(),_0x5b9f79=(_0x5d3eeb-_0x33f586)/(0x3e8*0x3c*0x3c),_0x3972cb=coachProfiles[_0x2de8b5[_0x1cc9e5(0x1b0)]]&&coachProfiles[_0x2de8b5[_0x1cc9e5(0x1b0)]][_0x1cc9e5(0x15d)]?parseInt(coachProfiles[_0x2de8b5[_0x1cc9e5(0x1b0)]][_0x1cc9e5(0x15d)]):0x18;if(_0x3972cb===0x0||_0x5b9f79>=_0x3972cb)_0x1467b5[_0x1cc9e5(0x178)]['display']=_0x1cc9e5(0x11b),_0x19d141[_0x1cc9e5(0x178)][_0x1cc9e5(0x1d3)]=_0x1cc9e5(0x11b),_0x46fa68['style'][_0x1cc9e5(0x1d3)]=_0x1cc9e5(0x158);else{_0x1467b5['style'][_0x1cc9e5(0x1d3)]=_0x1cc9e5(0x158),_0x19d141[_0x1cc9e5(0x178)]['display']=_0x1cc9e5(0x158),_0x46fa68['style'][_0x1cc9e5(0x1d3)]=_0x1cc9e5(0x11b);let _0x7b36a9=_0x3972cb===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x1cc9e5(0x11d)+_0x3972cb+_0x1cc9e5(0x129);_0x46fa68[_0x1cc9e5(0x1ca)]=_0x1cc9e5(0x1d6)+_0x7b36a9+_0x1cc9e5(0x1e9);}}document[_0x1cc9e5(0x168)]('overlay')[_0x1cc9e5(0x136)][_0x1cc9e5(0x1cd)](_0x1cc9e5(0x176)),document[_0x1cc9e5(0x168)]('detailsSheet')[_0x1cc9e5(0x136)]['add'](_0x1cc9e5(0x13f));}function closeAllSheets(){const _0x29de06=a3_0x1733b3;document['getElementById']('overlay')[_0x29de06(0x136)]['remove'](_0x29de06(0x176)),document[_0x29de06(0x1ba)]('.sheet')[_0x29de06(0x1c0)](_0x29ff25=>_0x29ff25[_0x29de06(0x136)][_0x29de06(0x12b)]('open'));}function openSheet(_0x415568){const _0x34ee1d=a3_0x1733b3;document[_0x34ee1d(0x168)](_0x34ee1d(0x1e1))[_0x34ee1d(0x136)][_0x34ee1d(0x1cd)]('active'),document[_0x34ee1d(0x168)](_0x415568)[_0x34ee1d(0x136)][_0x34ee1d(0x1cd)]('open');}function getLocalDateStr(_0x35187e){const _0x27a14a=a3_0x1733b3,_0x5fb5de=_0x35187e[_0x27a14a(0x133)](),_0x4e1dfe=String(_0x35187e[_0x27a14a(0x13d)]()+0x1)[_0x27a14a(0x12a)](0x2,'0'),_0x53c536=String(_0x35187e[_0x27a14a(0x14b)]())[_0x27a14a(0x12a)](0x2,'0');return _0x5fb5de+'-'+_0x4e1dfe+'-'+_0x53c536;}function getStartOfWeek(_0x3a1fa2){const _0x56c94e=a3_0x1733b3,_0x2c03f9=new Date(_0x3a1fa2),_0x43b0cb=_0x2c03f9[_0x56c94e(0x17b)](),_0x28bf97=_0x2c03f9[_0x56c94e(0x14b)]()-_0x43b0cb+(_0x43b0cb===0x0?-0x6:0x1);return _0x2c03f9['setDate'](_0x28bf97),_0x2c03f9[_0x56c94e(0x130)](0x0,0x0,0x0,0x0),_0x2c03f9;}function scrollToToday(){const _0x464cd5=getLocalDateStr(new Date());setTimeout(()=>{const _0x2f71bb=a3_0x2dbb,_0x272014=document[_0x2f71bb(0x15b)](_0x2f71bb(0x1a2)+_0x464cd5+'\x22]');if(_0x272014){const _0x4fb5b5=document[_0x2f71bb(0x168)](_0x2f71bb(0x19d)),_0x3475f2=_0x272014[_0x2f71bb(0x1f1)]-_0x4fb5b5[_0x2f71bb(0x1b4)]/0x2+_0x272014['offsetWidth']/0x2;_0x4fb5b5[_0x2f71bb(0x1ad)]({'left':_0x3475f2,'behavior':'auto'}),_0x4fb5b5[_0x2f71bb(0x1ae)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4258c7=a3_0x1733b3,_0x37d2f4=new Date(),_0x72a66e=document['getElementById'](_0x4258c7(0x131)),_0x1578c2=document['getElementById'](_0x4258c7(0x1bc)),_0x5c169a=(_0x37d2f4[_0x4258c7(0x134)]()*0x3c+_0x37d2f4['getMinutes']())/0x3c*GRID_H;_0x72a66e[_0x4258c7(0x178)][_0x4258c7(0x190)]=_0x5c169a+'px',_0x72a66e[_0x4258c7(0x178)]['display']=_0x4258c7(0x11b),_0x1578c2[_0x4258c7(0x178)][_0x4258c7(0x190)]=_0x5c169a+'px',_0x1578c2[_0x4258c7(0x178)][_0x4258c7(0x1d3)]=_0x4258c7(0x11b),_0x1578c2[_0x4258c7(0x1ca)]=String(_0x37d2f4[_0x4258c7(0x134)]())[_0x4258c7(0x12a)](0x2,'0')+':'+String(_0x37d2f4[_0x4258c7(0x1eb)]())[_0x4258c7(0x12a)](0x2,'0');}function onScroll(){const _0xc133db=a3_0x1733b3,_0xee9c99=document[_0xc133db(0x168)](_0xc133db(0x19d)),_0x139173=document[_0xc133db(0x1ba)]('.day-col-header');for(let _0x616e53 of _0x139173)if(_0x616e53[_0xc133db(0x1f1)]>=_0xee9c99[_0xc133db(0x1bb)]){const _0x38905c=new Date(_0x616e53[_0xc133db(0x1c8)](_0xc133db(0x13b)));document['getElementById'](_0xc133db(0x165))[_0xc133db(0x1ca)]=_0x38905c[_0xc133db(0x1a7)]('ru',{'month':_0xc133db(0x191)})[_0xc133db(0x146)]()+'\x20'+_0x38905c[_0xc133db(0x133)]();break;}}function showToast(_0x32c945){const _0x25e9f9=a3_0x1733b3,_0x41b08f=document['getElementById'](_0x25e9f9(0x13e));_0x41b08f[_0x25e9f9(0x1ca)]=_0x32c945,_0x41b08f['classList']['add'](_0x25e9f9(0x192)),setTimeout(()=>_0x41b08f[_0x25e9f9(0x136)][_0x25e9f9(0x12b)](_0x25e9f9(0x192)),0x7d0);}function handleInfiniteScroll(){const _0x502dbd=a3_0x1733b3,_0x57a828=document[_0x502dbd(0x168)](_0x502dbd(0x19d)),_0x5750be=_0x57a828['scrollLeft'],_0x5662ea=_0x57a828[_0x502dbd(0x1e2)],_0x259ea9=_0x57a828[_0x502dbd(0x1b4)];if(_0x5662ea-(_0x5750be+_0x259ea9)<0x12c){const _0x22fe29=endOffset;endOffset+=0xe,renderDayRange(_0x22fe29+0x1,endOffset),reRenderBlocks();}if(_0x5750be<0x12c){const _0x56bceb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x56bceb-0x1),_0x57a828[_0x502dbd(0x1bb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x520ee3,_0x5984c2){const _0x2277d0=a3_0x1733b3,_0x79fc09=document[_0x2277d0(0x168)](_0x2277d0(0x159)),_0x453649=document['getElementById']('gridColumns'),_0x3ceeff=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1f0f65=new Date();_0x1f0f65[_0x2277d0(0x130)](0x0,0x0,0x0,0x0);const _0x20b254=getLocalDateStr(new Date()),_0x3c933c=document[_0x2277d0(0x1d7)](),_0x3bc2ac=document['createDocumentFragment']();for(let _0xa0b76d=_0x520ee3;_0xa0b76d<=_0x5984c2;_0xa0b76d++){const _0x205c77=new Date(_0x1f0f65);_0x205c77[_0x2277d0(0x16a)](_0x205c77[_0x2277d0(0x14b)]()+_0xa0b76d);const _0x38b9e1=getLocalDateStr(_0x205c77);let _0x571f84=_0x205c77[_0x2277d0(0x17b)]()-0x1;if(_0x571f84===-0x1)_0x571f84=0x6;const _0x5ddacb=_0x38b9e1===_0x20b254,_0x4b1d48=document[_0x2277d0(0x11a)]('div');_0x4b1d48[_0x2277d0(0x17e)]=_0x2277d0(0x139)+(_0x5ddacb?_0x2277d0(0x143):''),_0x4b1d48[_0x2277d0(0x1ab)](_0x2277d0(0x13b),_0x38b9e1),_0x4b1d48[_0x2277d0(0x1a3)]=_0x2277d0(0x128)+_0x3ceeff[_0x571f84]+'</div><div\x20class=\x22dch-num\x22>'+_0x205c77[_0x2277d0(0x14b)]()+_0x2277d0(0x127),_0x3c933c[_0x2277d0(0x164)](_0x4b1d48);const _0x2c66f4=document[_0x2277d0(0x11a)](_0x2277d0(0x1da));_0x2c66f4[_0x2277d0(0x17e)]=_0x2277d0(0x11e)+(_0x5ddacb?'today':''),_0x2c66f4[_0x2277d0(0x1ab)](_0x2277d0(0x13b),_0x38b9e1),_0x2c66f4['setAttribute'](_0x2277d0(0x15a),_0x571f84),_0x3bc2ac[_0x2277d0(0x164)](_0x2c66f4);}_0x79fc09['insertBefore'](_0x3c933c,_0x79fc09['firstChild']),_0x453649[_0x2277d0(0x1c2)](_0x3bc2ac,_0x453649[_0x2277d0(0x15b)](_0x2277d0(0x1f2)));}function a3_0x2dbb(_0x28e570,_0x6f663e){_0x28e570=_0x28e570-0x110;const _0x18af45=a3_0x3217();let _0x1f8445=_0x18af45[_0x28e570];return _0x1f8445;}function hexToRgba(_0x4b6c03,_0x715615){const _0x58e1f6=a3_0x1733b3;let _0x3afd1f;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x58e1f6(0x149)](_0x4b6c03))return _0x3afd1f=_0x4b6c03[_0x58e1f6(0x17a)](0x1)[_0x58e1f6(0x111)](''),_0x3afd1f[_0x58e1f6(0x180)]==0x3&&(_0x3afd1f=[_0x3afd1f[0x0],_0x3afd1f[0x0],_0x3afd1f[0x1],_0x3afd1f[0x1],_0x3afd1f[0x2],_0x3afd1f[0x2]]),_0x3afd1f='0x'+_0x3afd1f[_0x58e1f6(0x151)](''),_0x58e1f6(0x16d)+[_0x3afd1f>>0x10&0xff,_0x3afd1f>>0x8&0xff,_0x3afd1f&0xff][_0x58e1f6(0x151)](',')+','+_0x715615+')';return _0x58e1f6(0x145)+_0x715615+')';}let confirmResolver=null;function showCustomConfirm(_0x2caaef,_0x2013ec,_0x42d470=!![]){const _0x57890f=a3_0x1733b3;document[_0x57890f(0x168)]('ccTitle')[_0x57890f(0x1ca)]=_0x2caaef,document[_0x57890f(0x168)](_0x57890f(0x132))['textContent']=_0x2013ec;const _0x4a8c22=document[_0x57890f(0x168)](_0x57890f(0x188));return _0x42d470?(_0x4a8c22[_0x57890f(0x178)][_0x57890f(0x1f7)]=_0x57890f(0x184),_0x4a8c22[_0x57890f(0x178)]['fontWeight']=_0x57890f(0x1a6)):(_0x4a8c22['style'][_0x57890f(0x1f7)]='#0a84ff',_0x4a8c22['style']['fontWeight']=_0x57890f(0x1a6)),new Promise(_0x5870a3=>{const _0x17a403=_0x57890f;confirmResolver=_0x5870a3,document[_0x17a403(0x168)](_0x17a403(0x152))[_0x17a403(0x136)][_0x17a403(0x1cd)](_0x17a403(0x153));});}function resolveCustomConfirm(_0x58e873){const _0x3ea284=a3_0x1733b3;document['getElementById'](_0x3ea284(0x152))[_0x3ea284(0x136)][_0x3ea284(0x12b)](_0x3ea284(0x153));if(confirmResolver)confirmResolver(_0x58e873);}async function tryCancelCurrentSession(){const _0x1e5a8f=a3_0x1733b3;if(!currentSession)return;const _0x1ab8f=await showCustomConfirm(_0x1e5a8f(0x14c),_0x1e5a8f(0x197),!![]);if(!_0x1ab8f)return;const _0x37bd1e=currentSession;closeAllSheets(),sessions=sessions[_0x1e5a8f(0x18c)](_0x1366ed=>_0x1366ed['id']!==_0x37bd1e['id']),reRenderBlocks(),showToast(_0x1e5a8f(0x118)),lastUserActionTime=Date[_0x1e5a8f(0x12f)]();try{const _0x101a0d=window['Telegram']?.[_0x1e5a8f(0x19e)],_0xf8a161=await fetch(API_URL,{'method':_0x1e5a8f(0x187),'body':JSON[_0x1e5a8f(0x121)]({'action':_0x1e5a8f(0x1cb),'init_data':_0x101a0d?.[_0x1e5a8f(0x1ce)]||'','coachId':_0x37bd1e[_0x1e5a8f(0x1b0)],'dateStr':_0x37bd1e['dateStr'],'sessionId':_0x37bd1e['id']})});if(_0xf8a161['ok'])DataManager['saveLocally']();}catch(_0x264259){showToast(_0x1e5a8f(0x171));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1644c6=a3_0x1733b3;if(!currentSession)return;document[_0x1644c6(0x168)]('detailsSheet')[_0x1644c6(0x136)][_0x1644c6(0x12b)](_0x1644c6(0x13f)),document[_0x1644c6(0x168)](_0x1644c6(0x154))[_0x1644c6(0x136)][_0x1644c6(0x1cd)](_0x1644c6(0x13f));const _0x53ce71=document['getElementById'](_0x1644c6(0x17d)),_0xbb9f4a=document[_0x1644c6(0x168)](_0x1644c6(0x1dc));_0x53ce71[_0x1644c6(0x1a3)]='',_0xbb9f4a[_0x1644c6(0x1a3)]=_0x1644c6(0x1e4);const [_0x47da4b,_0x571589]=currentSession['start']['split'](':')['map'](Number),[_0x4fea5a,_0x14fd48]=currentSession['end'][_0x1644c6(0x111)](':')[_0x1644c6(0x199)](Number),_0x1ae3cb=_0x4fea5a*0x3c+_0x14fd48-(_0x47da4b*0x3c+_0x571589);try{const _0x332031=window[_0x1644c6(0x170)]?.[_0x1644c6(0x19e)],_0x213aa6=await fetch(API_URL,{'method':'POST','body':JSON[_0x1644c6(0x121)]({'action':_0x1644c6(0x1b6),'coachId':currentSession[_0x1644c6(0x1b0)],'duration':_0x1ae3cb,'init_data':_0x332031?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x2c58a1=await _0x213aa6['json']();_0x2c58a1['ok']&&_0x2c58a1[_0x1644c6(0x148)]?(availableSlotsCache=_0x2c58a1[_0x1644c6(0x148)],renderRescheduleDates()):_0xbb9f4a[_0x1644c6(0x1a3)]=_0x1644c6(0x1e7);}catch(_0x54d60a){_0xbb9f4a['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x159a28=a3_0x1733b3,_0x22056f=document['getElementById'](_0x159a28(0x17d));_0x22056f['innerHTML']='';const _0x241760=Object['keys'](availableSlotsCache)[_0x159a28(0x125)](),_0x5361f3=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x241760[_0x159a28(0x180)]===0x0){document['getElementById']('rsSlotsGrid')[_0x159a28(0x1a3)]=_0x159a28(0x1d1);return;}_0x241760[_0x159a28(0x1c0)]((_0x5ca27b,_0x4e6f14)=>{const _0x3f262e=_0x159a28,_0x8ffd71=new Date(_0x5ca27b),_0x583924=_0x5361f3[_0x8ffd71[_0x3f262e(0x17b)]()],_0x3c9246=_0x8ffd71['getDate'](),_0x39555c=document[_0x3f262e(0x11a)](_0x3f262e(0x1da));_0x39555c['className']='rs-date-chip';if(_0x4e6f14===0x0)_0x39555c['classList'][_0x3f262e(0x1cd)]('active');_0x39555c[_0x3f262e(0x1a3)]=_0x3f262e(0x124)+_0x583924+'</div><div\x20class=\x22rs-day-num\x22>'+_0x3c9246+'</div>',_0x39555c[_0x3f262e(0x142)]=()=>selectRsDate(_0x5ca27b,_0x39555c),_0x22056f[_0x3f262e(0x164)](_0x39555c);}),selectRsDate(_0x241760[0x0],_0x22056f['firstChild']);}function selectRsDate(_0x231d44,_0x93b3fa){const _0x526fd4=a3_0x1733b3;selectedRsDate=_0x231d44,document[_0x526fd4(0x1ba)](_0x526fd4(0x110))[_0x526fd4(0x1c0)](_0x4433fd=>_0x4433fd[_0x526fd4(0x136)]['remove'](_0x526fd4(0x176)));if(_0x93b3fa)_0x93b3fa[_0x526fd4(0x136)][_0x526fd4(0x1cd)](_0x526fd4(0x176));const _0x5c3466=document[_0x526fd4(0x168)](_0x526fd4(0x1dc));_0x5c3466[_0x526fd4(0x1a3)]='';const _0xda76d7=availableSlotsCache[_0x231d44]||[];if(_0xda76d7[_0x526fd4(0x180)]===0x0){_0x5c3466[_0x526fd4(0x1a3)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0xda76d7[_0x526fd4(0x1c0)](_0x3f99d1=>{const _0x5c2925=_0x526fd4,_0x555a6f=document[_0x5c2925(0x11a)](_0x5c2925(0x18d));_0x555a6f[_0x5c2925(0x17e)]='rs-time-btn',_0x555a6f[_0x5c2925(0x1ca)]=_0x3f99d1,_0x555a6f[_0x5c2925(0x142)]=()=>confirmReschedule(_0x3f99d1),_0x5c3466['appendChild'](_0x555a6f);});}async function confirmReschedule(_0x2495b7){const _0x38bfe5=a3_0x1733b3,_0x20d5cd=new Date(selectedRsDate),_0x47c6b8=_0x20d5cd['toLocaleDateString'](_0x38bfe5(0x163),{'day':_0x38bfe5(0x1dd),'month':_0x38bfe5(0x191)}),_0x58647f=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏',_0x38bfe5(0x1d8)+_0x47c6b8+'\x20–≤\x20'+_0x2495b7+'?',![]);if(!_0x58647f)return;closeAllSheets(),showToast(_0x38bfe5(0x17c)),lastUserActionTime=Date[_0x38bfe5(0x12f)]();const _0x3af04d=currentSession['dateStr'],_0x1c0744=currentSession['id'],[_0x52bfb4,_0x5084dd]=currentSession[_0x38bfe5(0x1cf)][_0x38bfe5(0x111)](':')[_0x38bfe5(0x199)](Number),[_0x21b33a,_0x4d265d]=currentSession[_0x38bfe5(0x14e)][_0x38bfe5(0x111)](':')[_0x38bfe5(0x199)](Number),_0x4f1330=_0x21b33a*0x3c+_0x4d265d-(_0x52bfb4*0x3c+_0x5084dd),[_0x413e86,_0x4a334b]=_0x2495b7[_0x38bfe5(0x111)](':')['map'](Number),_0x40a633=_0x413e86*0x3c+_0x4a334b+_0x4f1330,_0x38118c=Math['floor'](_0x40a633/0x3c),_0x4a30fd=_0x40a633%0x3c,_0x4e93cd=String(_0x38118c)[_0x38bfe5(0x12a)](0x2,'0')+':'+String(_0x4a30fd)[_0x38bfe5(0x12a)](0x2,'0'),_0x30edbe=sessions[_0x38bfe5(0x19f)](_0x54fadf=>_0x54fadf['id']===_0x1c0744);_0x30edbe!==-0x1&&(sessions[_0x30edbe][_0x38bfe5(0x157)]=selectedRsDate,sessions[_0x30edbe]['start']=_0x2495b7,sessions[_0x30edbe][_0x38bfe5(0x14e)]=_0x4e93cd,reRenderBlocks());try{const _0x36f2d0=window[_0x38bfe5(0x170)]?.['WebApp'],_0x31f0fe=await fetch(API_URL,{'method':'POST','body':JSON[_0x38bfe5(0x121)]({'action':'reschedule','init_data':_0x36f2d0?.[_0x38bfe5(0x1ce)]||'','oldSessionId':_0x1c0744,'oldDate':_0x3af04d,'newDate':selectedRsDate,'newTime':_0x2495b7,'coachId':currentSession[_0x38bfe5(0x1b0)]})}),_0x5b9284=await _0x31f0fe['json']();!_0x5b9284['ok']?(showToast(_0x38bfe5(0x1f0)),DataManager[_0x38bfe5(0x114)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x27aebd){showToast(_0x38bfe5(0x171));}}document['addEventListener']('DOMContentLoaded',init);