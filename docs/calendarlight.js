const a3_0x4e034c=a3_0x2ba9;(function(_0x43e51f,_0x449b38){const _0x2cbd17=a3_0x2ba9,_0x17b679=_0x43e51f();while(!![]){try{const _0x13dd72=parseInt(_0x2cbd17(0x13b))/0x1+parseInt(_0x2cbd17(0x8a))/0x2*(-parseInt(_0x2cbd17(0xc0))/0x3)+-parseInt(_0x2cbd17(0x8c))/0x4+parseInt(_0x2cbd17(0xff))/0x5+-parseInt(_0x2cbd17(0x175))/0x6+-parseInt(_0x2cbd17(0x172))/0x7*(-parseInt(_0x2cbd17(0x100))/0x8)+parseInt(_0x2cbd17(0xdf))/0x9*(parseInt(_0x2cbd17(0x166))/0xa);if(_0x13dd72===_0x449b38)break;else _0x17b679['push'](_0x17b679['shift']());}catch(_0x4cbf85){_0x17b679['push'](_0x17b679['shift']());}}}(a3_0x96f3,0xebc30));const APP_VERSION=a3_0x4e034c(0x8f),API_URL=a3_0x4e034c(0x12a),GRID_H=0x3c,KEY_SESSIONS=a3_0x4e034c(0xc6),KEY_SETTINGS=a3_0x4e034c(0xe2),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x4e034c(0x96),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4aad65=a3_0x4e034c,_0x42ace3=(function(){let _0x4eb423=!![];return function(_0xedd5bd,_0x3d236c){const _0x3ec1fb=_0x4eb423?function(){const _0x56061c=a3_0x2ba9;if(_0x3d236c){const _0x3c8767=_0x3d236c[_0x56061c(0x84)](_0xedd5bd,arguments);return _0x3d236c=null,_0x3c8767;}}:function(){};return _0x4eb423=![],_0x3ec1fb;};}()),_0x3d3f99=_0x42ace3(this,function(){const _0x380ced=a3_0x2ba9;return _0x3d3f99[_0x380ced(0x147)]()[_0x380ced(0x158)](_0x380ced(0x14e))[_0x380ced(0x147)]()[_0x380ced(0xb0)](_0x3d3f99)[_0x380ced(0x158)]('(((.+)+)+)+$');});_0x3d3f99();try{const _0x5e35d0=window[_0x4aad65(0x176)]?.[_0x4aad65(0x171)];if(!_0x5e35d0)return;_0x5e35d0[_0x4aad65(0xfc)](),_0x5e35d0[_0x4aad65(0xbc)]();try{_0x5e35d0['setHeaderColor'](_0x4aad65(0xe6)),_0x5e35d0[_0x4aad65(0xc1)]&&_0x5e35d0[_0x4aad65(0xc1)](_0x4aad65(0xe6));}catch(_0x4e4c7c){console[_0x4aad65(0xfb)](_0x4aad65(0x157),_0x4e4c7c);}try{_0x5e35d0[_0x4aad65(0x130)]&&(_0x5e35d0['BackButton'][_0x4aad65(0x140)](),_0x5e35d0[_0x4aad65(0x130)][_0x4aad65(0x152)](),_0x5e35d0[_0x4aad65(0x130)][_0x4aad65(0x15d)](function(){const _0x5c5884=_0x4aad65;window['location'][_0x5c5884(0xfd)]=_0x5c5884(0x106);}));}catch(_0x3fb1f0){console[_0x4aad65(0xfb)](_0x4aad65(0xe7),_0x3fb1f0);}try{if(_0x5e35d0[_0x4aad65(0x142)])_0x5e35d0[_0x4aad65(0x142)]();}catch(_0x5560e4){}}catch(_0x51018c){console['error'](_0x4aad65(0x148),_0x51018c);}}());function isAdmin(){const _0x430ac1=a3_0x4e034c;try{const _0x1cb13e=Number(window[_0x430ac1(0x176)]?.[_0x430ac1(0x171)]?.['initDataUnsafe']?.[_0x430ac1(0x118)]?.['id']);return _0x1cb13e===0xbaf7174;}catch(_0x33f346){return![];}}const DataManager={'saveLocally'(){const _0x36758d=a3_0x4e034c;try{localStorage[_0x36758d(0x11e)](KEY_SESSIONS,JSON[_0x36758d(0x94)](sessions)),localStorage[_0x36758d(0x11e)](KEY_CLIENTS,JSON[_0x36758d(0x94)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x36758d(0x94)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x5a969b){}},'loadLocal'(){const _0x2d2978=a3_0x4e034c;try{const _0x5074a2=localStorage[_0x2d2978(0xf2)](KEY_SESSIONS);if(_0x5074a2)sessions=JSON[_0x2d2978(0xa7)](_0x5074a2);const _0x2f1fdc=localStorage[_0x2d2978(0xf2)](KEY_CLIENTS);if(_0x2f1fdc)clients=JSON[_0x2d2978(0xa7)](_0x2f1fdc);const _0x133817=localStorage[_0x2d2978(0xf2)](KEY_SETTINGS);if(_0x133817){const _0x10d74e=JSON[_0x2d2978(0xa7)](_0x133817);if(_0x10d74e[_0x2d2978(0x13d)])availabilityPattern=_0x10d74e[_0x2d2978(0x13d)];if(_0x10d74e['ranges'])specialRanges=_0x10d74e['ranges'];if(_0x10d74e['exceptions'])dateExceptions=_0x10d74e[_0x2d2978(0x13e)];}}catch(_0x4aa062){}},async 'syncLoad'(){const _0x8ae789=a3_0x4e034c,_0x25e6dc=new Date(),_0x2ae331=_0x25e6dc[_0x8ae789(0x102)]()+'-'+String(_0x25e6dc[_0x8ae789(0x119)]()+0x1)[_0x8ae789(0xdd)](0x2,'0'),_0x39b038=new Date(_0x25e6dc);_0x39b038[_0x8ae789(0x12d)](_0x25e6dc['getMonth']()+0x1);const _0x4420d2=_0x39b038[_0x8ae789(0x102)]()+'-'+String(_0x39b038[_0x8ae789(0x119)]()+0x1)[_0x8ae789(0xdd)](0x2,'0'),_0x4c7897=Date[_0x8ae789(0x11b)]();try{const _0x445bbb=window[_0x8ae789(0x176)]?.[_0x8ae789(0x171)],_0x5ebf82=_0x445bbb?.[_0x8ae789(0xe1)]||'',[_0x59b974,_0xed0604]=await Promise['all']([fetch(API_URL,{'method':_0x8ae789(0x14a),'body':JSON[_0x8ae789(0x94)]({'action':_0x8ae789(0x16a),'init_data':_0x5ebf82,'month_str':_0x2ae331})})['then'](_0x582742=>_0x582742[_0x8ae789(0x125)]()),fetch(API_URL,{'method':_0x8ae789(0x14a),'body':JSON['stringify']({'action':'client_load','init_data':_0x5ebf82,'month_str':_0x4420d2})})[_0x8ae789(0x15c)](_0x17be45=>_0x17be45[_0x8ae789(0x125)]())]);if(lastUserActionTime>_0x4c7897){console[_0x8ae789(0xfb)](_0x8ae789(0x111));return;}if(_0x59b974['ok'])this[_0x8ae789(0x8d)](_0x59b974['data'],_0x2ae331);if(_0xed0604['ok'])this[_0x8ae789(0x8d)](_0xed0604['data'],_0x4420d2);this[_0x8ae789(0xde)]();}catch(_0xd24106){}},'applyData'(_0x39bf52,_0x1a5502){const _0x3d962a=a3_0x4e034c;if(!_0x39bf52)return;if(_0x39bf52[_0x3d962a(0xc4)]){if(_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0x13d)])availabilityPattern=_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0x13d)];if(_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0xe8)])specialRanges=_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0xe8)];if(_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0x13e)])dateExceptions=_0x39bf52[_0x3d962a(0xc4)][_0x3d962a(0x13e)];}if(_0x39bf52['clients']&&Array[_0x3d962a(0x9c)](_0x39bf52['clients']))clients=_0x39bf52['clients'];_0x39bf52['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x39bf52[_0x3d962a(0x138)]}),_0x39bf52[_0x3d962a(0xd5)]&&(sessions=sessions[_0x3d962a(0x165)](_0x1c2c8f=>!_0x1c2c8f[_0x3d962a(0x169)][_0x3d962a(0x11d)](_0x1a5502)),Object['keys'](_0x39bf52[_0x3d962a(0xd5)])[_0x3d962a(0x182)](_0x1b5dfa=>{const _0x3d6068=_0x3d962a,_0x2bb076=_0x39bf52[_0x3d6068(0xd5)][_0x1b5dfa];_0x2bb076[_0x3d6068(0x182)](_0xec347c=>{const _0x460750=_0x3d6068;sessions['push']({'id':_0xec347c['i'],'clientId':_0xec347c['c'],'coachId':_0xec347c[_0x460750(0xab)],'dateStr':_0x1a5502+'-'+_0x1b5dfa[_0x460750(0xdd)](0x2,'0'),'start':_0xec347c['s'],'end':_0xec347c['e'],'note':_0xec347c['n']||'','status':_0xec347c['st']||_0x460750(0x174),'seriesId':_0xec347c['sid']});});})),reRenderBlocks();}};function init(){const _0x1233d1=a3_0x4e034c;DataManager[_0x1233d1(0x151)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener']('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x487ebb=a3_0x4e034c,_0x4f03d3=document['getElementById'](_0x487ebb(0x154)),_0x22c24f=document[_0x487ebb(0x115)](_0x487ebb(0xb4));_0x4f03d3[_0x487ebb(0x170)]='',_0x4f03d3[_0x487ebb(0xb8)](_0x22c24f);for(let _0x3b8412=0x0;_0x3b8412<0x18;_0x3b8412++){const _0x37f2dc=document[_0x487ebb(0xb6)](_0x487ebb(0xad));_0x37f2dc[_0x487ebb(0x17d)]=_0x487ebb(0x114);if(_0x3b8412>0x0)_0x37f2dc[_0x487ebb(0x170)]=_0x487ebb(0x107)+String(_0x3b8412)[_0x487ebb(0xdd)](0x2,'0')+_0x487ebb(0x12e);_0x4f03d3[_0x487ebb(0xb8)](_0x37f2dc);}}function renderDayRange(_0x108a0b,_0x40cffc){const _0x48838d=a3_0x4e034c,_0x2858a4=document[_0x48838d(0x115)](_0x48838d(0x90)),_0x4ad5b3=document[_0x48838d(0x115)](_0x48838d(0x153)),_0xdc74e2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4f0312=new Date();_0x4f0312[_0x48838d(0xce)](0x0,0x0,0x0,0x0);const _0x4cf0a5=getLocalDateStr(new Date());for(let _0x261b10=_0x108a0b;_0x261b10<=_0x40cffc;_0x261b10++){const _0x54daaa=new Date(_0x4f0312);_0x54daaa[_0x48838d(0x85)](_0x54daaa[_0x48838d(0x12b)]()+_0x261b10);const _0x26d2e6=getLocalDateStr(_0x54daaa);let _0x27963f=_0x54daaa['getDay']()-0x1;if(_0x27963f===-0x1)_0x27963f=0x6;const _0x30a819=_0x26d2e6===_0x4cf0a5,_0x1d401f=document['createElement'](_0x48838d(0xad));_0x1d401f['className']=_0x48838d(0xeb)+(_0x30a819?_0x48838d(0xfe):''),_0x1d401f['setAttribute'](_0x48838d(0x15e),_0x26d2e6),_0x1d401f['innerHTML']=_0x48838d(0xac)+_0xdc74e2[_0x27963f]+_0x48838d(0x10f)+_0x54daaa[_0x48838d(0x12b)]()+_0x48838d(0x11f),_0x2858a4[_0x48838d(0xb8)](_0x1d401f);const _0x481df1=document[_0x48838d(0xb6)]('div');_0x481df1[_0x48838d(0x17d)]='day-column\x20'+(_0x30a819?_0x48838d(0xfe):''),_0x481df1[_0x48838d(0xd9)](_0x48838d(0x15e),_0x26d2e6),_0x481df1['setAttribute'](_0x48838d(0x136),_0x27963f),_0x4ad5b3[_0x48838d(0xb8)](_0x481df1);}}function reRenderBlocks(){const _0x5d508b=a3_0x4e034c;document[_0x5d508b(0x120)](_0x5d508b(0xd6))['forEach'](_0x17e980=>{const _0x19761e=_0x5d508b;_0x17e980['querySelectorAll'](_0x19761e(0xba))['forEach'](_0x1ffeb7=>_0x1ffeb7[_0x19761e(0x141)]());const _0x3526f6=_0x17e980[_0x19761e(0xda)](_0x19761e(0x15e)),_0x549543=parseInt(_0x17e980['getAttribute'](_0x19761e(0x136))),_0x3de9df=Math[_0x19761e(0xc7)](_0x17e980['offsetLeft']);(availabilityPattern[_0x549543]||[])['forEach'](_0x1d2506=>{const _0x4be933=_0x19761e,_0x339b7d=document['createElement']('div');_0x339b7d[_0x4be933(0x17d)]=_0x4be933(0xc3),_0x339b7d[_0x4be933(0x16f)][_0x4be933(0x112)]=_0x1d2506*GRID_H+'px',_0x339b7d[_0x4be933(0x16f)]['backgroundPosition']='-'+_0x3de9df+_0x4be933(0x179)+_0x1d2506*GRID_H+'px',_0x17e980['appendChild'](_0x339b7d);});if(specialRanges[_0x19761e(0xb9)]>0x0){const _0x3833a1=new Date(_0x3526f6+_0x19761e(0x164))['getTime'](),_0x259dc6=new Date(_0x3526f6+'T23:59:59')[_0x19761e(0xf3)]();specialRanges['forEach'](_0x5ab51c=>{const _0x48f832=_0x19761e,_0xe4f567=new Date(_0x5ab51c['start'])['getTime'](),_0x3cbc3b=new Date(_0x5ab51c[_0x48f832(0xd7)])[_0x48f832(0xf3)](),_0x383ecc=Math[_0x48f832(0x149)](_0x3833a1,_0xe4f567),_0xc290e4=Math[_0x48f832(0x17e)](_0x259dc6,_0x3cbc3b);if(_0x383ecc<_0xc290e4){const _0x54cd53=(_0x383ecc-_0x3833a1)/0x36ee80*GRID_H,_0x214554=(_0xc290e4-_0x383ecc)/0x36ee80*GRID_H,_0x309155=document[_0x48f832(0xb6)](_0x48f832(0xad));_0x214554>=23.5*GRID_H?(_0x309155[_0x48f832(0x17d)]=_0x48f832(0x14d),_0x309155[_0x48f832(0x16f)][_0x48f832(0x95)]='-'+_0x3de9df+_0x48f832(0xf9)):(_0x309155[_0x48f832(0x17d)]=_0x48f832(0x139),_0x309155[_0x48f832(0x16f)][_0x48f832(0x112)]=_0x54cd53+'px',_0x309155['style'][_0x48f832(0xfa)]=_0x214554+'px',_0x309155[_0x48f832(0x16f)][_0x48f832(0x95)]='-'+_0x3de9df+_0x48f832(0x179)+_0x54cd53+'px'),_0x17e980['appendChild'](_0x309155);}});}renderEventsForColumn(_0x17e980,_0x3526f6);});}function renderEventsForColumn(_0x235d2e,_0x3237ad){const _0x20acbb=a3_0x4e034c,_0x2e0d1b=sessions[_0x20acbb(0x165)](_0x1931cf=>_0x1931cf['dateStr']===_0x3237ad),_0x2cbc25=_0x2e0d1b['map'](_0x26b094=>{const _0x161a52=_0x20acbb,[_0xed9b6f,_0x52d0ca]=_0x26b094['start'][_0x161a52(0x177)](':')[_0x161a52(0x105)](Number),[_0x1b3fcd,_0x247732]=_0x26b094[_0x161a52(0xd7)][_0x161a52(0x177)](':')[_0x161a52(0x105)](Number);return{'data':_0x26b094,'start':_0xed9b6f*0x3c+_0x52d0ca,'end':_0x1b3fcd*0x3c+_0x247732,'colIndex':0x0};});_0x2cbc25['sort']((_0x404c53,_0x229678)=>_0x404c53[_0x20acbb(0xe4)]-_0x229678[_0x20acbb(0xe4)]||_0x229678[_0x20acbb(0xd7)]-_0x229678['start']-(_0x404c53[_0x20acbb(0xd7)]-_0x404c53[_0x20acbb(0xe4)]));const _0x3dd79a=[];_0x2cbc25['forEach'](_0x429929=>{const _0x44bd13=_0x20acbb;let _0x20b84f=![];for(let _0x5c0d7b=0x0;_0x5c0d7b<_0x3dd79a[_0x44bd13(0xb9)];_0x5c0d7b++){const _0x5377b6=_0x3dd79a[_0x5c0d7b];if(_0x429929[_0x44bd13(0xe4)]>=_0x5377b6[_0x5377b6[_0x44bd13(0xb9)]-0x1]['end']){_0x5377b6[_0x44bd13(0x11a)](_0x429929),_0x429929[_0x44bd13(0x12f)]=_0x5c0d7b,_0x20b84f=!![];break;}}!_0x20b84f&&(_0x3dd79a[_0x44bd13(0x11a)]([_0x429929]),_0x429929[_0x44bd13(0x12f)]=_0x3dd79a[_0x44bd13(0xb9)]-0x1);}),_0x2cbc25['forEach'](_0x4033aa=>{const _0x560eea=_0x20acbb;let _0x66b7e9=0x0;_0x2cbc25[_0x560eea(0x182)](_0x32ebe2=>{const _0x6bd32d=_0x560eea;if(Math[_0x6bd32d(0x149)](_0x4033aa['start'],_0x32ebe2[_0x6bd32d(0xe4)])<Math['min'](_0x4033aa[_0x6bd32d(0xd7)],_0x32ebe2['end'])&&_0x32ebe2['colIndex']>_0x66b7e9)_0x66b7e9=_0x32ebe2[_0x6bd32d(0x12f)];});const _0x118708=_0x66b7e9+0x1,_0x2befac=0x64/_0x118708,_0x2b7567=_0x4033aa[_0x560eea(0x12f)]*_0x2befac,_0x5cd5f0=document[_0x560eea(0xb6)](_0x560eea(0xad)),_0x4e182a=_0x4033aa[_0x560eea(0xee)];let _0x342ed2=_0x560eea(0x9a);if(clients&&clients[_0x560eea(0xb9)]>0x0){const _0x2e1f3b=clients[_0x560eea(0xd3)](_0x44fe29=>String(_0x44fe29['id'])===String(_0x4e182a[_0x560eea(0xcd)]));if(_0x2e1f3b&&_0x2e1f3b[_0x560eea(0xbe)])_0x342ed2=_0x2e1f3b[_0x560eea(0xbe)];}const _0xad34fa=_0x4e182a[_0x560eea(0x14f)]==='completed',_0x98da24=_0xad34fa?0x1:0.45;_0x5cd5f0[_0x560eea(0x17d)]=_0x560eea(0x184)+(_0xad34fa?'\x20status-completed':''),_0x5cd5f0[_0x560eea(0x16f)]['backgroundColor']=hexToRgba(_0x342ed2,_0x98da24),_0x5cd5f0[_0x560eea(0x16f)][_0x560eea(0x144)]=_0x342ed2;const _0x7fdd97=_0x4033aa[_0x560eea(0xe4)]/0x3c*GRID_H,_0x440616=(_0x4033aa[_0x560eea(0xd7)]-_0x4033aa[_0x560eea(0xe4)])/0x3c*GRID_H;_0x5cd5f0[_0x560eea(0x16f)][_0x560eea(0x112)]=_0x7fdd97+'px',_0x5cd5f0['style']['height']=Math[_0x560eea(0x149)](_0x440616,0x14)+'px',_0x5cd5f0[_0x560eea(0x16f)][_0x560eea(0x123)]=_0x560eea(0x93)+_0x2befac+_0x560eea(0x15f),_0x5cd5f0[_0x560eea(0x16f)][_0x560eea(0x163)]=_0x560eea(0x93)+_0x2b7567+_0x560eea(0x159),_0x5cd5f0['style'][_0x560eea(0xe5)]=0xa+_0x4033aa[_0x560eea(0x12f)];if(_0x2befac<0x55)_0x5cd5f0[_0x560eea(0xb7)][_0x560eea(0x13f)]('mini');let _0x26021d='';if(_0x4e182a[_0x560eea(0x183)])_0x26021d+=_0x560eea(0x10d);if(_0xad34fa)_0x26021d+=_0x560eea(0xa2);_0x5cd5f0[_0x560eea(0x170)]=_0x560eea(0xb1)+_0x4e182a[_0x560eea(0xe4)]+'\x20-\x20'+_0x4e182a['end']+_0x560eea(0x127)+_0x26021d+_0x560eea(0x122),_0x5cd5f0['onclick']=_0x25c6b4=>{const _0x4a6223=_0x560eea;_0x25c6b4[_0x4a6223(0x16e)](),openDetails(_0x4e182a);},_0x235d2e[_0x560eea(0xb8)](_0x5cd5f0);});}function openAnalytics(){const _0x12597b=a3_0x4e034c,_0x1abd0c=document[_0x12597b(0x11c)](_0x12597b(0xa3));setAnalyticsPeriod(_0x12597b(0x96),_0x1abd0c),openSheet(_0x12597b(0x13c));}function setAnalyticsPeriod(_0x1070f9,_0x2b5389){const _0x3676af=a3_0x4e034c;currentAnPeriod=_0x1070f9,document['querySelectorAll'](_0x3676af(0xa3))[_0x3676af(0x182)](_0x41afe2=>_0x41afe2[_0x3676af(0xb7)]['remove'](_0x3676af(0x113)));if(_0x2b5389)_0x2b5389[_0x3676af(0xb7)]['add'](_0x3676af(0x113));const _0x2079e1=document[_0x3676af(0x115)](_0x3676af(0x89));_0x2079e1[_0x3676af(0x16f)][_0x3676af(0x15b)]=_0x1070f9===_0x3676af(0xa5)?'flex':_0x3676af(0x10b);const _0x44114c=new Date();let _0x2fe533=new Date(),_0xe7cafc=new Date();if(_0x1070f9===_0x3676af(0x96))_0x2fe533=getStartOfWeek(_0x44114c),_0xe7cafc=new Date(_0x2fe533),_0xe7cafc[_0x3676af(0x85)](_0xe7cafc[_0x3676af(0x12b)]()+0x6);else{if(_0x1070f9===_0x3676af(0xa1))_0x2fe533=new Date(_0x44114c[_0x3676af(0x102)](),_0x44114c[_0x3676af(0x119)](),0x1),_0xe7cafc=new Date(_0x44114c[_0x3676af(0x102)](),_0x44114c[_0x3676af(0x119)]()+0x1,0x0);else{!document[_0x3676af(0x115)](_0x3676af(0xe0))[_0x3676af(0x143)]&&(document[_0x3676af(0x115)]('anStart')['value']=getLocalDateStr(_0x44114c),document['getElementById']('anEnd')[_0x3676af(0x143)]=getLocalDateStr(_0x44114c));refreshAnalytics();return;}}document[_0x3676af(0x115)](_0x3676af(0xe0))['value']=getLocalDateStr(_0x2fe533),document['getElementById'](_0x3676af(0xf1))[_0x3676af(0x143)]=getLocalDateStr(_0xe7cafc),refreshAnalytics();}function refreshAnalytics(){const _0x2fc67d=a3_0x4e034c,_0x420826=document[_0x2fc67d(0x115)](_0x2fc67d(0xe0))[_0x2fc67d(0x143)],_0x285826=document[_0x2fc67d(0x115)](_0x2fc67d(0xf1))[_0x2fc67d(0x143)];if(!_0x420826||!_0x285826)return;const _0x1c992b=sessions['filter'](_0x3e9fa4=>_0x3e9fa4[_0x2fc67d(0x169)]>=_0x420826&&_0x3e9fa4[_0x2fc67d(0x169)]<=_0x285826&&_0x3e9fa4[_0x2fc67d(0x14f)]!==_0x2fc67d(0xe9)),_0x26f13c=_0x1c992b[_0x2fc67d(0xb9)],_0x398dc3=_0x1c992b[_0x2fc67d(0x165)](_0x5b29b5=>_0x5b29b5[_0x2fc67d(0x14f)]===_0x2fc67d(0xb3))['length'],_0x13435c=_0x26f13c>0x0?Math['round'](_0x398dc3/_0x26f13c*0x64):0x0;document[_0x2fc67d(0x115)](_0x2fc67d(0x10a))[_0x2fc67d(0xd0)]=_0x13435c+'%',document[_0x2fc67d(0x115)](_0x2fc67d(0x161))[_0x2fc67d(0xd0)]=_0x398dc3+_0x2fc67d(0x126)+_0x26f13c+_0x2fc67d(0x91);const _0x2b171a=document[_0x2fc67d(0x115)](_0x2fc67d(0x181)),_0x159984=0x2*Math['PI']*0x23,_0x2ab16c=_0x159984-_0x13435c/0x64*_0x159984;_0x2b171a['style']['strokeDashoffset']=_0x2ab16c;const _0x5ca4a8={};_0x1c992b['forEach'](_0x1d5370=>{const _0x4d4d3c=_0x2fc67d,_0x37d2a9=_0x1d5370['coachId']||_0x4d4d3c(0x13a);if(!_0x5ca4a8[_0x37d2a9]){const _0x1d2560='#'+_0x37d2a9[_0x4d4d3c(0x147)]()['substr'](0x0,0x6);_0x5ca4a8[_0x37d2a9]={'total':0x0,'done':0x0,'color':_0x1d2560};}_0x5ca4a8[_0x37d2a9][_0x4d4d3c(0x86)]++;if(_0x1d5370[_0x4d4d3c(0x14f)]===_0x4d4d3c(0xb3))_0x5ca4a8[_0x37d2a9][_0x4d4d3c(0xf4)]++;});const _0x47efc2=document[_0x2fc67d(0x115)](_0x2fc67d(0x17f));_0x47efc2[_0x2fc67d(0x170)]='';const _0x6f59a0=Object['entries'](_0x5ca4a8)[_0x2fc67d(0xd4)]((_0x16009a,_0x1dc72e)=>_0x1dc72e[0x1]['total']-_0x16009a[0x1]['total']);if(_0x6f59a0[_0x2fc67d(0xb9)]===0x0){_0x47efc2[_0x2fc67d(0x170)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x6f59a0[_0x2fc67d(0x182)](([_0x50f32f,_0x1267f4])=>{const _0x2a353c=_0x2fc67d,_0x290ea3=Math[_0x2a353c(0xc7)](_0x1267f4[_0x2a353c(0xf4)]/_0x1267f4['total']*0x64),_0x23acfb=document[_0x2a353c(0xb6)](_0x2a353c(0xad));_0x23acfb['className']='client-stat-card',_0x23acfb[_0x2a353c(0x16f)]['borderLeftColor']=_0x1267f4[_0x2a353c(0xbe)],_0x23acfb[_0x2a353c(0x170)]=_0x2a353c(0x178)+_0x50f32f[_0x2a353c(0x8b)](0x0,0x5)+_0x2a353c(0x185)+_0x1267f4['done']+'</span>\x20/\x20'+_0x1267f4[_0x2a353c(0x86)]+_0x2a353c(0xa9)+_0x290ea3+_0x2a353c(0xef),_0x47efc2[_0x2a353c(0xb8)](_0x23acfb);});}function openDetails(_0x115b34){const _0x4404c8=a3_0x4e034c;currentSession=_0x115b34;const _0x5442ba=new Date(_0x115b34[_0x4404c8(0x169)]),_0x14b3b9=_0x5442ba['toLocaleDateString']('ru-RU',{'weekday':'long','day':_0x4404c8(0xf7),'month':_0x4404c8(0x150)});document[_0x4404c8(0x115)](_0x4404c8(0x97))[_0x4404c8(0xd0)]=_0x14b3b9[_0x4404c8(0x173)](0x0)['toUpperCase']()+_0x14b3b9['slice'](0x1),document[_0x4404c8(0x115)]('detTime')['textContent']=_0x115b34[_0x4404c8(0xe4)]+_0x4404c8(0xa6)+_0x115b34[_0x4404c8(0xd7)],document[_0x4404c8(0x115)]('detNote')['textContent']=_0x115b34[_0x4404c8(0x168)]||_0x4404c8(0xc2);const _0x31437d=document[_0x4404c8(0x115)](_0x4404c8(0x17a)),_0x54f944=document[_0x4404c8(0x115)](_0x4404c8(0xbb)),_0x50d920=_0x54f944[_0x4404c8(0x11c)](_0x4404c8(0x180)),_0x2577cb=_0x54f944[_0x4404c8(0x11c)](_0x4404c8(0x15a)),_0x1ae221=document['getElementById']('cancelHint');if(_0x115b34['status']===_0x4404c8(0xb3))_0x31437d[_0x4404c8(0xd0)]=_0x4404c8(0x17c),_0x31437d[_0x4404c8(0x16f)][_0x4404c8(0xbe)]=_0x4404c8(0xa4),_0x54f944[_0x4404c8(0x16f)][_0x4404c8(0x15b)]='none';else{_0x31437d[_0x4404c8(0xd0)]=_0x4404c8(0xed),_0x31437d[_0x4404c8(0x16f)][_0x4404c8(0xbe)]='var(--acc-blue)',_0x54f944[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x98);const _0x54482e=new Date(_0x115b34[_0x4404c8(0x169)]+'T'+_0x115b34[_0x4404c8(0xe4)]),_0x1f0af0=new Date(),_0x4d0ffa=(_0x54482e-_0x1f0af0)/(0x3e8*0x3c*0x3c),_0x4cac87=coachProfiles[_0x115b34[_0x4404c8(0xf6)]]&&coachProfiles[_0x115b34[_0x4404c8(0xf6)]][_0x4404c8(0x121)]?parseInt(coachProfiles[_0x115b34['coachId']]['cancel_window']):0x18;if(_0x4cac87===0x0||_0x4d0ffa>=_0x4cac87)_0x50d920[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x98),_0x2577cb[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x98),_0x1ae221[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x10b);else{_0x50d920[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x10b),_0x2577cb[_0x4404c8(0x16f)][_0x4404c8(0x15b)]=_0x4404c8(0x10b),_0x1ae221['style'][_0x4404c8(0x15b)]='block';let _0x533388=_0x4cac87===0x0?_0x4404c8(0x146):'–∑–∞\x20'+_0x4cac87+_0x4404c8(0x88);_0x1ae221['textContent']=_0x4404c8(0xec)+_0x533388+_0x4404c8(0xa8);}}document[_0x4404c8(0x115)](_0x4404c8(0x16c))[_0x4404c8(0xb7)]['add'](_0x4404c8(0x113)),document['getElementById'](_0x4404c8(0x10e))[_0x4404c8(0xb7)][_0x4404c8(0x13f)](_0x4404c8(0xa0));}function closeAllSheets(){const _0x297913=a3_0x4e034c;document[_0x297913(0x115)](_0x297913(0x16c))[_0x297913(0xb7)][_0x297913(0x141)](_0x297913(0x113)),document['querySelectorAll'](_0x297913(0xbf))[_0x297913(0x182)](_0x56ff51=>_0x56ff51[_0x297913(0xb7)][_0x297913(0x141)](_0x297913(0xa0)));}function openSheet(_0x51f43e){const _0x3f35e8=a3_0x4e034c;document[_0x3f35e8(0x115)](_0x3f35e8(0x16c))['classList']['add'](_0x3f35e8(0x113)),document[_0x3f35e8(0x115)](_0x51f43e)['classList'][_0x3f35e8(0x13f)](_0x3f35e8(0xa0));}function getLocalDateStr(_0x3209bf){const _0x593eee=a3_0x4e034c,_0x108e4d=_0x3209bf[_0x593eee(0x102)](),_0x64013f=String(_0x3209bf[_0x593eee(0x119)]()+0x1)[_0x593eee(0xdd)](0x2,'0'),_0x557172=String(_0x3209bf['getDate']())[_0x593eee(0xdd)](0x2,'0');return _0x108e4d+'-'+_0x64013f+'-'+_0x557172;}function getStartOfWeek(_0x133c25){const _0xbc63b2=a3_0x4e034c,_0x53e626=new Date(_0x133c25),_0x24b480=_0x53e626[_0xbc63b2(0x167)](),_0x3b20ad=_0x53e626['getDate']()-_0x24b480+(_0x24b480===0x0?-0x6:0x1);return _0x53e626[_0xbc63b2(0x85)](_0x3b20ad),_0x53e626[_0xbc63b2(0xce)](0x0,0x0,0x0,0x0),_0x53e626;}function scrollToToday(){const _0x29de52=getLocalDateStr(new Date());setTimeout(()=>{const _0x5e1619=a3_0x2ba9,_0x441221=document['querySelector'](_0x5e1619(0x87)+_0x29de52+'\x22]');if(_0x441221){const _0x4c94c3=document['getElementById'](_0x5e1619(0x16b)),_0x51debd=_0x441221[_0x5e1619(0xcf)]-_0x4c94c3[_0x5e1619(0x99)]/0x2+_0x441221[_0x5e1619(0xaa)]/0x2;_0x4c94c3[_0x5e1619(0x135)]({'left':_0x51debd,'behavior':_0x5e1619(0x108)}),_0x4c94c3[_0x5e1619(0x109)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x125ddc=a3_0x4e034c,_0x1864e9=new Date(),_0x1eb5fb=document['getElementById'](_0x125ddc(0xaf)),_0x11ecd4=document[_0x125ddc(0x115)](_0x125ddc(0xb4)),_0x2b39f7=(_0x1864e9[_0x125ddc(0xd1)]()*0x3c+_0x1864e9[_0x125ddc(0xd8)]())/0x3c*GRID_H;_0x1eb5fb[_0x125ddc(0x16f)][_0x125ddc(0x112)]=_0x2b39f7+'px',_0x1eb5fb[_0x125ddc(0x16f)][_0x125ddc(0x15b)]=_0x125ddc(0x98),_0x11ecd4['style'][_0x125ddc(0x112)]=_0x2b39f7+'px',_0x11ecd4[_0x125ddc(0x16f)][_0x125ddc(0x15b)]=_0x125ddc(0x98),_0x11ecd4[_0x125ddc(0xd0)]=String(_0x1864e9[_0x125ddc(0xd1)]())[_0x125ddc(0xdd)](0x2,'0')+':'+String(_0x1864e9[_0x125ddc(0xd8)]())[_0x125ddc(0xdd)](0x2,'0');}function onScroll(){const _0x7a0b72=a3_0x4e034c,_0x439372=document[_0x7a0b72(0x115)](_0x7a0b72(0x16b)),_0x4dadb7=document[_0x7a0b72(0x120)](_0x7a0b72(0x128));for(let _0x55e4b8 of _0x4dadb7)if(_0x55e4b8[_0x7a0b72(0xcf)]>=_0x439372['scrollLeft']){const _0x4e9598=new Date(_0x55e4b8[_0x7a0b72(0xda)](_0x7a0b72(0x15e)));document['getElementById']('headerMonth')[_0x7a0b72(0xd0)]=_0x4e9598[_0x7a0b72(0x124)]('ru',{'month':_0x7a0b72(0x150)})[_0x7a0b72(0x162)]()+'\x20'+_0x4e9598['getFullYear']();break;}}function showToast(_0x4818f0){const _0x18d02f=a3_0x4e034c,_0x439ee6=document[_0x18d02f(0x115)](_0x18d02f(0x8e));_0x439ee6[_0x18d02f(0xd0)]=_0x4818f0,_0x439ee6[_0x18d02f(0xb7)][_0x18d02f(0x13f)](_0x18d02f(0x140)),setTimeout(()=>_0x439ee6['classList'][_0x18d02f(0x141)](_0x18d02f(0x140)),0x7d0);}function handleInfiniteScroll(){const _0x34096b=a3_0x4e034c,_0x78c482=document[_0x34096b(0x115)]('matrixViewport'),_0x49c6e9=_0x78c482[_0x34096b(0xdc)],_0x1af638=_0x78c482[_0x34096b(0x129)],_0x40fb7a=_0x78c482[_0x34096b(0x99)];if(_0x1af638-(_0x49c6e9+_0x40fb7a)<0x12c){const _0x53b570=endOffset;endOffset+=0xe,renderDayRange(_0x53b570+0x1,endOffset),reRenderBlocks();}if(_0x49c6e9<0x12c){const _0x304c36=startOffset;startOffset-=0xe,prependDays(startOffset,_0x304c36-0x1),_0x78c482[_0x34096b(0xdc)]+=0xe*0x41,reRenderBlocks();}}function a3_0x96f3(){const _0x17340e=['\x20—á.','anCustomDates','25834ZqnBhZ','substr','7397452magPMq','applyData','toast','v9.5-CLIENT-ANALYTICS','daysHeaderTrack','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','button','calc(','stringify','backgroundPosition','week','detDate','block','clientWidth','#0a84ff','600','isArray','DOMContentLoaded','floor','addEventListener','open','month','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.period-switch\x20.p-btn','var(--acc-green)','custom','\x20-\x20','parse','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','offsetWidth','cid','<div\x20class=\x22dch-day\x22>','div','join','globalTimeLine','constructor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','.rs-date-chip','completed','timeLineBadge','ccTitle','createElement','classList','appendChild','length','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','cancelContainer','expand','reschedule','color','.sheet','375vMGOpP','setBackgroundColor','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','blocked-slot\x20stripe-bg','settings','insertBefore','uc_client_sessions','round','ccYesBtn','keys','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','\x20–≤\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','clientId','setHours','offsetLeft','textContent','getHours','toLocaleDateString','find','sort','calendar','.day-column','end','getMinutes','setAttribute','getAttribute','<div\x20class=\x22rs-day-name\x22>','scrollLeft','padStart','saveLocally','270dLauDD','anStart','initData','uc_client_settings','customConfirm','start','zIndex','#050505','Error\x20setting\x20back\x20button:','ranges','cancelled','#ff453a','day-col-header\x20','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','data','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','anEnd','getItem','getTime','done','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','coachId','numeric','visible','px\x200px','height','log','ready','href','today','3768460ZijjNw','8LUvNUD','rsSlotsGrid','getFullYear','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','rsDatesTrack','map','router.html','<span>','auto','scrollTop','anPercent','none','onclick','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','detailsSheet','</div><div\x20class=\x22dch-num\x22>','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','top','active','time-label','getElementById','client_cancel','substring','user','getMonth','push','now','querySelector','startsWith','setItem','</div>','querySelectorAll','cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','toLocaleString','json','\x20–∏–∑\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.day-col-header','scrollWidth','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getDate','ccText','setMonth',':00</span>','colIndex','BackButton','rs-date-chip','</div><div\x20class=\x22rs-day-num\x22>','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','scrollTo','data-day-idx','findIndex','coach_profiles','blocked-range-part\x20stripe-bg','Unknown','732425sEFJgY','analyticsSheet','pattern','exceptions','add','show','remove','disableVerticalSwipes','value','borderLeftColor','get_slots','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','toString','Critical\x20TMA\x20Error:','max','POST','rgba(10,\x20132,\x20255,\x20','syncLoad','day-off-overlay\x20stripe-bg','(((.+)+)+)+$','status','long','loadLocal','offClick','gridColumns','timeColumn','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','createDocumentFragment','Error\x20setting\x20color:','search','%\x20+\x202px)','.btn-reschedule','display','then','onClick','data-date','%\x20-\x204px)','ru-RU','anTotalStats','toUpperCase','left','T00:00:00','filter','1047030LtBLBi','getDay','note','dateStr','client_load','matrixViewport','overlay','test','stopPropagation','style','innerHTML','WebApp','3482143yCrQXV','charAt','planned','4169928cnbMcb','Telegram','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','px\x20-','detStatus','firstChild','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','className','min','analyticsList','.btn-cancel','anDonutCircle','forEach','seriesId','event-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','apply','setDate','total','.day-col-header[data-date=\x22'];a3_0x96f3=function(){return _0x17340e;};return a3_0x96f3();}function prependDays(_0xc21535,_0x17b116){const _0x3c55a2=a3_0x4e034c,_0x4af2d7=document['getElementById'](_0x3c55a2(0x90)),_0x3ba7bb=document[_0x3c55a2(0x115)](_0x3c55a2(0x153)),_0x4d68fd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x506084=new Date();_0x506084[_0x3c55a2(0xce)](0x0,0x0,0x0,0x0);const _0x26054b=getLocalDateStr(new Date()),_0x125a2e=document[_0x3c55a2(0x156)](),_0x1a8683=document[_0x3c55a2(0x156)]();for(let _0x14f930=_0xc21535;_0x14f930<=_0x17b116;_0x14f930++){const _0x383689=new Date(_0x506084);_0x383689[_0x3c55a2(0x85)](_0x383689[_0x3c55a2(0x12b)]()+_0x14f930);const _0x3a0754=getLocalDateStr(_0x383689);let _0x82424c=_0x383689[_0x3c55a2(0x167)]()-0x1;if(_0x82424c===-0x1)_0x82424c=0x6;const _0x49b0f4=_0x3a0754===_0x26054b,_0xba2f5a=document[_0x3c55a2(0xb6)]('div');_0xba2f5a[_0x3c55a2(0x17d)]='day-col-header\x20'+(_0x49b0f4?_0x3c55a2(0xfe):''),_0xba2f5a[_0x3c55a2(0xd9)]('data-date',_0x3a0754),_0xba2f5a['innerHTML']=_0x3c55a2(0xac)+_0x4d68fd[_0x82424c]+_0x3c55a2(0x10f)+_0x383689[_0x3c55a2(0x12b)]()+_0x3c55a2(0x11f),_0x125a2e[_0x3c55a2(0xb8)](_0xba2f5a);const _0x1b729b=document[_0x3c55a2(0xb6)]('div');_0x1b729b[_0x3c55a2(0x17d)]='day-column\x20'+(_0x49b0f4?_0x3c55a2(0xfe):''),_0x1b729b['setAttribute'](_0x3c55a2(0x15e),_0x3a0754),_0x1b729b[_0x3c55a2(0xd9)](_0x3c55a2(0x136),_0x82424c),_0x1a8683[_0x3c55a2(0xb8)](_0x1b729b);}_0x4af2d7[_0x3c55a2(0xc5)](_0x125a2e,_0x4af2d7['firstChild']),_0x3ba7bb[_0x3c55a2(0xc5)](_0x1a8683,_0x3ba7bb[_0x3c55a2(0x11c)](_0x3c55a2(0xd6)));}function hexToRgba(_0x3793bf,_0x133d0a){const _0x4af5d7=a3_0x4e034c;let _0x5a0725;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4af5d7(0x16d)](_0x3793bf))return _0x5a0725=_0x3793bf[_0x4af5d7(0x117)](0x1)[_0x4af5d7(0x177)](''),_0x5a0725[_0x4af5d7(0xb9)]==0x3&&(_0x5a0725=[_0x5a0725[0x0],_0x5a0725[0x0],_0x5a0725[0x1],_0x5a0725[0x1],_0x5a0725[0x2],_0x5a0725[0x2]]),_0x5a0725='0x'+_0x5a0725[_0x4af5d7(0xae)](''),'rgba('+[_0x5a0725>>0x10&0xff,_0x5a0725>>0x8&0xff,_0x5a0725&0xff]['join'](',')+','+_0x133d0a+')';return _0x4af5d7(0x14b)+_0x133d0a+')';}let confirmResolver=null;function showCustomConfirm(_0x2ccfc0,_0x2e33a8,_0x45a662=!![]){const _0x57802d=a3_0x4e034c;document['getElementById'](_0x57802d(0xb5))[_0x57802d(0xd0)]=_0x2ccfc0,document['getElementById'](_0x57802d(0x12c))['textContent']=_0x2e33a8;const _0x21e1ec=document['getElementById'](_0x57802d(0xc8));return _0x45a662?(_0x21e1ec[_0x57802d(0x16f)]['color']=_0x57802d(0xea),_0x21e1ec[_0x57802d(0x16f)]['fontWeight']=_0x57802d(0x9b)):(_0x21e1ec['style'][_0x57802d(0xbe)]=_0x57802d(0x9a),_0x21e1ec[_0x57802d(0x16f)]['fontWeight']=_0x57802d(0x9b)),new Promise(_0x28c17c=>{const _0x457c5a=_0x57802d;confirmResolver=_0x28c17c,document[_0x457c5a(0x115)](_0x457c5a(0xe3))[_0x457c5a(0xb7)]['add'](_0x457c5a(0xf8));});}function a3_0x2ba9(_0x23ad8a,_0x443ce4){_0x23ad8a=_0x23ad8a-0x84;const _0x3ca207=a3_0x96f3();let _0x397927=_0x3ca207[_0x23ad8a];return _0x397927;}function resolveCustomConfirm(_0x445941){const _0x1271c5=a3_0x4e034c;document[_0x1271c5(0x115)]('customConfirm')['classList']['remove'](_0x1271c5(0xf8));if(confirmResolver)confirmResolver(_0x445941);}async function tryCancelCurrentSession(){const _0x3e5a0c=a3_0x4e034c;if(!currentSession)return;const _0x432345=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x3e5a0c(0x134),!![]);if(!_0x432345)return;const _0x1313fc=currentSession;closeAllSheets(),sessions=sessions[_0x3e5a0c(0x165)](_0x13ed83=>_0x13ed83['id']!==_0x1313fc['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x3e5a0c(0x11b)]();try{const _0x349d11=window[_0x3e5a0c(0x176)]?.[_0x3e5a0c(0x171)],_0x3216f6=await fetch(API_URL,{'method':'POST','body':JSON[_0x3e5a0c(0x94)]({'action':_0x3e5a0c(0x116),'init_data':_0x349d11?.[_0x3e5a0c(0xe1)]||'','coachId':_0x1313fc[_0x3e5a0c(0xf6)],'dateStr':_0x1313fc[_0x3e5a0c(0x169)],'sessionId':_0x1313fc['id']})});if(_0x3216f6['ok'])DataManager[_0x3e5a0c(0xde)]();}catch(_0x40b3c5){showToast(_0x3e5a0c(0x133));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2da329=a3_0x4e034c;if(!currentSession)return;document[_0x2da329(0x115)](_0x2da329(0x10e))[_0x2da329(0xb7)][_0x2da329(0x141)](_0x2da329(0xa0)),document['getElementById']('rescheduleSheet')[_0x2da329(0xb7)][_0x2da329(0x13f)]('open');const _0x204795=document[_0x2da329(0x115)](_0x2da329(0x104)),_0x5b7831=document['getElementById']('rsSlotsGrid');_0x204795[_0x2da329(0x170)]='',_0x5b7831[_0x2da329(0x170)]=_0x2da329(0xf0);const [_0x110f4c,_0x49d433]=currentSession[_0x2da329(0xe4)][_0x2da329(0x177)](':')[_0x2da329(0x105)](Number),[_0xd027f3,_0x310584]=currentSession[_0x2da329(0xd7)][_0x2da329(0x177)](':')['map'](Number),_0x1c188a=_0xd027f3*0x3c+_0x310584-(_0x110f4c*0x3c+_0x49d433);try{const _0x57b4c4=window[_0x2da329(0x176)]?.[_0x2da329(0x171)],_0x1d82ac=await fetch(API_URL,{'method':_0x2da329(0x14a),'body':JSON['stringify']({'action':_0x2da329(0x145),'coachId':currentSession[_0x2da329(0xf6)],'duration':_0x1c188a,'init_data':_0x57b4c4?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x4ac3fa=await _0x1d82ac[_0x2da329(0x125)]();_0x4ac3fa['ok']&&_0x4ac3fa[_0x2da329(0xee)]?(availableSlotsCache=_0x4ac3fa[_0x2da329(0xee)],renderRescheduleDates()):_0x5b7831[_0x2da329(0x170)]=_0x2da329(0xcc);}catch(_0xe1c5cb){_0x5b7831[_0x2da329(0x170)]=_0x2da329(0x155);}}function renderRescheduleDates(){const _0x1d581f=a3_0x4e034c,_0x33eff0=document[_0x1d581f(0x115)](_0x1d581f(0x104));_0x33eff0[_0x1d581f(0x170)]='';const _0x3dc548=Object[_0x1d581f(0xc9)](availableSlotsCache)[_0x1d581f(0xd4)](),_0x243ac3=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x3dc548['length']===0x0){document[_0x1d581f(0x115)](_0x1d581f(0x101))[_0x1d581f(0x170)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x3dc548[_0x1d581f(0x182)]((_0x1194e9,_0x12bb71)=>{const _0x551384=_0x1d581f,_0x579c5d=new Date(_0x1194e9),_0x5e88fe=_0x243ac3[_0x579c5d[_0x551384(0x167)]()],_0x2865cd=_0x579c5d[_0x551384(0x12b)](),_0x3c3a87=document[_0x551384(0xb6)](_0x551384(0xad));_0x3c3a87['className']=_0x551384(0x131);if(_0x12bb71===0x0)_0x3c3a87[_0x551384(0xb7)][_0x551384(0x13f)](_0x551384(0x113));_0x3c3a87[_0x551384(0x170)]=_0x551384(0xdb)+_0x5e88fe+_0x551384(0x132)+_0x2865cd+_0x551384(0x11f),_0x3c3a87[_0x551384(0x10c)]=()=>selectRsDate(_0x1194e9,_0x3c3a87),_0x33eff0[_0x551384(0xb8)](_0x3c3a87);}),selectRsDate(_0x3dc548[0x0],_0x33eff0[_0x1d581f(0x17b)]);}function selectRsDate(_0x4cdcde,_0x128f00){const _0x360df7=a3_0x4e034c;selectedRsDate=_0x4cdcde,document['querySelectorAll'](_0x360df7(0xb2))[_0x360df7(0x182)](_0x1c0ca2=>_0x1c0ca2[_0x360df7(0xb7)][_0x360df7(0x141)](_0x360df7(0x113)));if(_0x128f00)_0x128f00[_0x360df7(0xb7)][_0x360df7(0x13f)](_0x360df7(0x113));const _0xeca6f=document[_0x360df7(0x115)](_0x360df7(0x101));_0xeca6f[_0x360df7(0x170)]='';const _0x2b4811=availableSlotsCache[_0x4cdcde]||[];if(_0x2b4811[_0x360df7(0xb9)]===0x0){_0xeca6f[_0x360df7(0x170)]=_0x360df7(0xcc);return;}_0x2b4811['forEach'](_0x1d1bd3=>{const _0xa97663=_0x360df7,_0x484096=document[_0xa97663(0xb6)](_0xa97663(0x92));_0x484096[_0xa97663(0x17d)]='rs-time-btn',_0x484096[_0xa97663(0xd0)]=_0x1d1bd3,_0x484096[_0xa97663(0x10c)]=()=>confirmReschedule(_0x1d1bd3),_0xeca6f[_0xa97663(0xb8)](_0x484096);});}async function confirmReschedule(_0x9f4826){const _0x2e9405=a3_0x4e034c,_0x537f60=new Date(selectedRsDate),_0x942fed=_0x537f60[_0x2e9405(0xd2)](_0x2e9405(0x160),{'day':'numeric','month':_0x2e9405(0x150)}),_0x481efb=await showCustomConfirm(_0x2e9405(0xf5),_0x2e9405(0x103)+_0x942fed+_0x2e9405(0xcb)+_0x9f4826+'?',![]);if(!_0x481efb)return;closeAllSheets(),showToast(_0x2e9405(0xca)),lastUserActionTime=Date[_0x2e9405(0x11b)]();const _0x5afe81=currentSession[_0x2e9405(0x169)],_0x35686d=currentSession['id'],[_0x6bef10,_0x316086]=currentSession[_0x2e9405(0xe4)][_0x2e9405(0x177)](':')['map'](Number),[_0x353bab,_0xba3942]=currentSession['end'][_0x2e9405(0x177)](':')['map'](Number),_0x5abac1=_0x353bab*0x3c+_0xba3942-(_0x6bef10*0x3c+_0x316086),[_0x1f227a,_0x593a05]=_0x9f4826['split'](':')['map'](Number),_0x2f9286=_0x1f227a*0x3c+_0x593a05+_0x5abac1,_0x2fc397=Math[_0x2e9405(0x9e)](_0x2f9286/0x3c),_0x3e89fd=_0x2f9286%0x3c,_0x832b15=String(_0x2fc397)[_0x2e9405(0xdd)](0x2,'0')+':'+String(_0x3e89fd)['padStart'](0x2,'0'),_0x5d48b0=sessions[_0x2e9405(0x137)](_0x290c33=>_0x290c33['id']===_0x35686d);_0x5d48b0!==-0x1&&(sessions[_0x5d48b0][_0x2e9405(0x169)]=selectedRsDate,sessions[_0x5d48b0][_0x2e9405(0xe4)]=_0x9f4826,sessions[_0x5d48b0][_0x2e9405(0xd7)]=_0x832b15,reRenderBlocks());try{const _0x4e1857=window[_0x2e9405(0x176)]?.[_0x2e9405(0x171)],_0x15dac8=await fetch(API_URL,{'method':_0x2e9405(0x14a),'body':JSON[_0x2e9405(0x94)]({'action':_0x2e9405(0xbd),'init_data':_0x4e1857?.[_0x2e9405(0xe1)]||'','oldSessionId':_0x35686d,'oldDate':_0x5afe81,'newDate':selectedRsDate,'newTime':_0x9f4826,'coachId':currentSession[_0x2e9405(0xf6)]})}),_0x4b4bbf=await _0x15dac8[_0x2e9405(0x125)]();!_0x4b4bbf['ok']?(showToast(_0x2e9405(0x110)),DataManager[_0x2e9405(0x14c)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x253c31){showToast(_0x2e9405(0x133));}}document[a3_0x4e034c(0x9f)](a3_0x4e034c(0x9d),init);