const a3_0x5bf1b6=a3_0x5c3e;(function(_0x32e724,_0x1c3416){const _0x1ecb11=a3_0x5c3e,_0x1618e5=_0x32e724();while(!![]){try{const _0x159341=-parseInt(_0x1ecb11(0x21e))/0x1*(-parseInt(_0x1ecb11(0x249))/0x2)+parseInt(_0x1ecb11(0x224))/0x3+parseInt(_0x1ecb11(0x1db))/0x4+parseInt(_0x1ecb11(0x200))/0x5*(-parseInt(_0x1ecb11(0x24c))/0x6)+-parseInt(_0x1ecb11(0x29e))/0x7*(parseInt(_0x1ecb11(0x2af))/0x8)+parseInt(_0x1ecb11(0x27c))/0x9*(parseInt(_0x1ecb11(0x2ab))/0xa)+parseInt(_0x1ecb11(0x23c))/0xb;if(_0x159341===_0x1c3416)break;else _0x1618e5['push'](_0x1618e5['shift']());}catch(_0x1def17){_0x1618e5['push'](_0x1618e5['shift']());}}}(a3_0x17df,0x1e003));const APP_VERSION=a3_0x5bf1b6(0x298),API_URL=a3_0x5bf1b6(0x245),GRID_H=0x3c,KEY_SESSIONS=a3_0x5bf1b6(0x20d),KEY_SETTINGS=a3_0x5bf1b6(0x25c),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x5bf1b6(0x2cb),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x59fd35=a3_0x5bf1b6,_0x59be9b=(function(){let _0x18dc8f=!![];return function(_0x4e26a5,_0x58b58c){const _0x42e4e4=_0x18dc8f?function(){const _0x436d50=a3_0x5c3e;if(_0x58b58c){const _0x34ebd6=_0x58b58c[_0x436d50(0x1e5)](_0x4e26a5,arguments);return _0x58b58c=null,_0x34ebd6;}}:function(){};return _0x18dc8f=![],_0x42e4e4;};}()),_0x568c52=_0x59be9b(this,function(){const _0x21d3ab=a3_0x5c3e;return _0x568c52['toString']()[_0x21d3ab(0x265)](_0x21d3ab(0x28b))['toString']()[_0x21d3ab(0x250)](_0x568c52)[_0x21d3ab(0x265)](_0x21d3ab(0x28b));});_0x568c52();try{const _0x1dc244=window[_0x59fd35(0x1eb)]?.['WebApp'];if(!_0x1dc244)return;_0x1dc244[_0x59fd35(0x2be)](),_0x1dc244[_0x59fd35(0x29c)]();try{_0x1dc244[_0x59fd35(0x2b8)]('#050505'),_0x1dc244['setBackgroundColor']&&_0x1dc244[_0x59fd35(0x259)](_0x59fd35(0x23b));}catch(_0x16ecce){console['log'](_0x59fd35(0x2a3),_0x16ecce);}try{_0x1dc244[_0x59fd35(0x281)]&&(_0x1dc244[_0x59fd35(0x281)][_0x59fd35(0x292)](),_0x1dc244[_0x59fd35(0x281)][_0x59fd35(0x2bc)](),_0x1dc244[_0x59fd35(0x281)][_0x59fd35(0x1e1)](function(){const _0x3e2e6b=_0x59fd35;window[_0x3e2e6b(0x23e)][_0x3e2e6b(0x24a)]=_0x3e2e6b(0x26f);}));}catch(_0x546af9){console[_0x59fd35(0x21f)]('Error\x20setting\x20back\x20button:',_0x546af9);}try{if(_0x1dc244['disableVerticalSwipes'])_0x1dc244[_0x59fd35(0x1fc)]();}catch(_0x38292a){}}catch(_0xf9e294){console[_0x59fd35(0x291)]('Critical\x20TMA\x20Error:',_0xf9e294);}}());function isAdmin(){const _0x1aa6d8=a3_0x5bf1b6;try{const _0x4dd68a=Number(window[_0x1aa6d8(0x1eb)]?.[_0x1aa6d8(0x1e4)]?.[_0x1aa6d8(0x2b9)]?.[_0x1aa6d8(0x26c)]?.['id']);return _0x4dd68a===0xbaf7174;}catch(_0x49f925){return![];}}const DataManager={'saveLocally'(){const _0x4e9dcf=a3_0x5bf1b6;try{localStorage[_0x4e9dcf(0x214)](KEY_SESSIONS,JSON[_0x4e9dcf(0x29a)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x4e9dcf(0x29a)](clients)),localStorage[_0x4e9dcf(0x214)](KEY_SETTINGS,JSON[_0x4e9dcf(0x29a)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0xbb09f3){}},'loadLocal'(){const _0x578b26=a3_0x5bf1b6;try{const _0x41290e=localStorage[_0x578b26(0x1e6)](KEY_SESSIONS);if(_0x41290e)sessions=JSON['parse'](_0x41290e);const _0x4f3c52=localStorage[_0x578b26(0x1e6)](KEY_CLIENTS);if(_0x4f3c52)clients=JSON[_0x578b26(0x1d5)](_0x4f3c52);const _0x3e09f2=localStorage[_0x578b26(0x1e6)](KEY_SETTINGS);if(_0x3e09f2){const _0x4dd67e=JSON[_0x578b26(0x1d5)](_0x3e09f2);if(_0x4dd67e['pattern'])availabilityPattern=_0x4dd67e[_0x578b26(0x1d2)];if(_0x4dd67e[_0x578b26(0x295)])specialRanges=_0x4dd67e[_0x578b26(0x295)];if(_0x4dd67e['exceptions'])dateExceptions=_0x4dd67e[_0x578b26(0x2cf)];}}catch(_0x4c2877){}},async 'syncLoad'(){const _0x1e1296=a3_0x5bf1b6,_0x5d6ab3=new Date(),_0x2c0fca=_0x5d6ab3[_0x1e1296(0x219)]()+'-'+String(_0x5d6ab3[_0x1e1296(0x1d8)]()+0x1)[_0x1e1296(0x204)](0x2,'0'),_0x2117f7=new Date(_0x5d6ab3);_0x2117f7['setMonth'](_0x5d6ab3[_0x1e1296(0x1d8)]()+0x1);const _0x479ef9=_0x2117f7['getFullYear']()+'-'+String(_0x2117f7['getMonth']()+0x1)[_0x1e1296(0x204)](0x2,'0'),_0x1db57d=Date[_0x1e1296(0x1ef)]();try{const _0x433eed=window[_0x1e1296(0x1eb)]?.[_0x1e1296(0x1e4)],_0xce1b82=_0x433eed?.[_0x1e1296(0x22d)]||'',[_0x123a33,_0x5ee72e]=await Promise[_0x1e1296(0x20a)]([fetch(API_URL,{'method':'POST','body':JSON[_0x1e1296(0x29a)]({'action':_0x1e1296(0x206),'init_data':_0xce1b82,'month_str':_0x2c0fca})})[_0x1e1296(0x1f9)](_0x13bc52=>_0x13bc52[_0x1e1296(0x277)]()),fetch(API_URL,{'method':_0x1e1296(0x275),'body':JSON['stringify']({'action':_0x1e1296(0x206),'init_data':_0xce1b82,'month_str':_0x479ef9})})[_0x1e1296(0x1f9)](_0x5c0bae=>_0x5c0bae['json']())]);if(lastUserActionTime>_0x1db57d){console[_0x1e1296(0x21f)](_0x1e1296(0x225));return;}if(_0x123a33['ok'])this[_0x1e1296(0x2ce)](_0x123a33[_0x1e1296(0x271)],_0x2c0fca);if(_0x5ee72e['ok'])this['applyData'](_0x5ee72e['data'],_0x479ef9);this[_0x1e1296(0x24b)]();}catch(_0x2d1678){}},'applyData'(_0x1edac8,_0x345075){const _0x245fd8=a3_0x5bf1b6;if(!_0x1edac8)return;if(_0x1edac8[_0x245fd8(0x2a0)]){if(_0x1edac8[_0x245fd8(0x2a0)][_0x245fd8(0x1d2)])availabilityPattern=_0x1edac8[_0x245fd8(0x2a0)][_0x245fd8(0x1d2)];if(_0x1edac8[_0x245fd8(0x2a0)][_0x245fd8(0x295)])specialRanges=_0x1edac8[_0x245fd8(0x2a0)][_0x245fd8(0x295)];if(_0x1edac8[_0x245fd8(0x2a0)][_0x245fd8(0x2cf)])dateExceptions=_0x1edac8['settings']['exceptions'];}if(_0x1edac8[_0x245fd8(0x255)]&&Array[_0x245fd8(0x28e)](_0x1edac8['clients']))clients=_0x1edac8[_0x245fd8(0x255)];_0x1edac8['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x1edac8[_0x245fd8(0x1d0)]}),_0x1edac8[_0x245fd8(0x27e)]&&(sessions=sessions[_0x245fd8(0x1d1)](_0x22868b=>!_0x22868b['dateStr'][_0x245fd8(0x1ec)](_0x345075)),Object['keys'](_0x1edac8['calendar'])[_0x245fd8(0x26e)](_0x50ba20=>{const _0x9f2e6b=_0x245fd8,_0x5c2086=_0x1edac8['calendar'][_0x50ba20];_0x5c2086[_0x9f2e6b(0x26e)](_0x3f5fa8=>{const _0x4ad76f=_0x9f2e6b;sessions[_0x4ad76f(0x223)]({'id':_0x3f5fa8['i'],'clientId':_0x3f5fa8['c'],'coachId':_0x3f5fa8[_0x4ad76f(0x1f5)],'dateStr':_0x345075+'-'+_0x50ba20['padStart'](0x2,'0'),'start':_0x3f5fa8['s'],'end':_0x3f5fa8['e'],'note':_0x3f5fa8['n']||'','status':_0x3f5fa8['st']||_0x4ad76f(0x2ae),'seriesId':_0x3f5fa8['sid']});});})),reRenderBlocks();}};function init(){const _0x132651=a3_0x5bf1b6;DataManager[_0x132651(0x217)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x132651(0x23d)]('matrixViewport')[_0x132651(0x2ad)](_0x132651(0x26d),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x3d5ea7=a3_0x5bf1b6,_0x1fbced=document[_0x3d5ea7(0x23d)]('timeColumn'),_0x4ea419=document[_0x3d5ea7(0x23d)](_0x3d5ea7(0x1dc));_0x1fbced[_0x3d5ea7(0x258)]='',_0x1fbced[_0x3d5ea7(0x1f2)](_0x4ea419);for(let _0x7d1d42=0x0;_0x7d1d42<0x18;_0x7d1d42++){const _0x5e3f5f=document['createElement'](_0x3d5ea7(0x236));_0x5e3f5f[_0x3d5ea7(0x244)]=_0x3d5ea7(0x227);if(_0x7d1d42>0x0)_0x5e3f5f[_0x3d5ea7(0x258)]=_0x3d5ea7(0x2aa)+String(_0x7d1d42)[_0x3d5ea7(0x204)](0x2,'0')+_0x3d5ea7(0x252);_0x1fbced[_0x3d5ea7(0x1f2)](_0x5e3f5f);}}function renderDayRange(_0x6bf550,_0x5962dd){const _0x5b8057=a3_0x5bf1b6,_0x579340=document[_0x5b8057(0x23d)]('daysHeaderTrack'),_0x760a50=document[_0x5b8057(0x23d)](_0x5b8057(0x202)),_0x38b2b1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5a761f=new Date();_0x5a761f[_0x5b8057(0x299)](0x0,0x0,0x0,0x0);const _0x4f3b37=getLocalDateStr(new Date());for(let _0x47e1f5=_0x6bf550;_0x47e1f5<=_0x5962dd;_0x47e1f5++){const _0x4106ff=new Date(_0x5a761f);_0x4106ff[_0x5b8057(0x2c8)](_0x4106ff[_0x5b8057(0x1d7)]()+_0x47e1f5);const _0x416d98=getLocalDateStr(_0x4106ff);let _0x2d3e3d=_0x4106ff[_0x5b8057(0x232)]()-0x1;if(_0x2d3e3d===-0x1)_0x2d3e3d=0x6;const _0x3f235=_0x416d98===_0x4f3b37,_0x1a65b8=document[_0x5b8057(0x1f1)](_0x5b8057(0x236));_0x1a65b8[_0x5b8057(0x244)]=_0x5b8057(0x209)+(_0x3f235?'today':''),_0x1a65b8['setAttribute'](_0x5b8057(0x296),_0x416d98),_0x1a65b8[_0x5b8057(0x258)]=_0x5b8057(0x2b7)+_0x38b2b1[_0x2d3e3d]+_0x5b8057(0x242)+_0x4106ff[_0x5b8057(0x1d7)]()+'</div>',_0x579340[_0x5b8057(0x1f2)](_0x1a65b8);const _0x30abe9=document[_0x5b8057(0x1f1)]('div');_0x30abe9[_0x5b8057(0x244)]=_0x5b8057(0x2ca)+(_0x3f235?_0x5b8057(0x27a):''),_0x30abe9['setAttribute'](_0x5b8057(0x296),_0x416d98),_0x30abe9['setAttribute'](_0x5b8057(0x2bf),_0x2d3e3d),_0x760a50[_0x5b8057(0x1f2)](_0x30abe9);}}function reRenderBlocks(){const _0x47c477=a3_0x5bf1b6;document[_0x47c477(0x1d9)]('.day-column')['forEach'](_0x8351ef=>{const _0x59a7a7=_0x47c477;_0x8351ef['querySelectorAll'](_0x59a7a7(0x272))[_0x59a7a7(0x26e)](_0x5817e8=>_0x5817e8[_0x59a7a7(0x222)]());const _0x3b9c4b=_0x8351ef['getAttribute'](_0x59a7a7(0x296)),_0x273a56=parseInt(_0x8351ef[_0x59a7a7(0x1fe)](_0x59a7a7(0x2bf))),_0x43b065=Math[_0x59a7a7(0x229)](_0x8351ef[_0x59a7a7(0x28a)]);(availabilityPattern[_0x273a56]||[])[_0x59a7a7(0x26e)](_0x39794f=>{const _0x5ac938=_0x59a7a7,_0x483c84=document[_0x5ac938(0x1f1)](_0x5ac938(0x236));_0x483c84['className']=_0x5ac938(0x1e9),_0x483c84[_0x5ac938(0x1ee)][_0x5ac938(0x239)]=_0x39794f*GRID_H+'px',_0x483c84[_0x5ac938(0x1ee)]['backgroundPosition']='-'+_0x43b065+_0x5ac938(0x237)+_0x39794f*GRID_H+'px',_0x8351ef[_0x5ac938(0x1f2)](_0x483c84);});if(specialRanges[_0x59a7a7(0x262)]>0x0){const _0x2e03e3=new Date(_0x3b9c4b+'T00:00:00')['getTime'](),_0x802c35=new Date(_0x3b9c4b+_0x59a7a7(0x2b1))[_0x59a7a7(0x274)]();specialRanges[_0x59a7a7(0x26e)](_0x1bdf5b=>{const _0x15456c=_0x59a7a7,_0x42433a=new Date(_0x1bdf5b[_0x15456c(0x24e)])['getTime'](),_0xb75287=new Date(_0x1bdf5b[_0x15456c(0x234)])[_0x15456c(0x274)](),_0x49fb62=Math['max'](_0x2e03e3,_0x42433a),_0x5774ea=Math[_0x15456c(0x2c5)](_0x802c35,_0xb75287);if(_0x49fb62<_0x5774ea){const _0xb32314=(_0x49fb62-_0x2e03e3)/0x36ee80*GRID_H,_0x5a9360=(_0x5774ea-_0x49fb62)/0x36ee80*GRID_H,_0x3d2595=document[_0x15456c(0x1f1)](_0x15456c(0x236));_0x5a9360>=23.5*GRID_H?(_0x3d2595['className']='day-off-overlay\x20stripe-bg',_0x3d2595[_0x15456c(0x1ee)][_0x15456c(0x210)]='-'+_0x43b065+_0x15456c(0x1f0)):(_0x3d2595[_0x15456c(0x244)]=_0x15456c(0x2b5),_0x3d2595[_0x15456c(0x1ee)][_0x15456c(0x239)]=_0xb32314+'px',_0x3d2595['style'][_0x15456c(0x2bb)]=_0x5a9360+'px',_0x3d2595[_0x15456c(0x1ee)][_0x15456c(0x210)]='-'+_0x43b065+_0x15456c(0x237)+_0xb32314+'px'),_0x8351ef['appendChild'](_0x3d2595);}});}renderEventsForColumn(_0x8351ef,_0x3b9c4b);});}function renderEventsForColumn(_0x8e8457,_0x5235c8){const _0x3dae84=a3_0x5bf1b6,_0x40f29f=sessions['filter'](_0x218e0f=>_0x218e0f[_0x3dae84(0x267)]===_0x5235c8),_0x4e6a39=_0x40f29f['map'](_0x59479f=>{const _0x487ceb=_0x3dae84,[_0x3e6010,_0x4ff40e]=_0x59479f[_0x487ceb(0x24e)]['split'](':')[_0x487ceb(0x203)](Number),[_0x56b054,_0x412e7c]=_0x59479f[_0x487ceb(0x234)][_0x487ceb(0x1cf)](':')[_0x487ceb(0x203)](Number);return{'data':_0x59479f,'start':_0x3e6010*0x3c+_0x4ff40e,'end':_0x56b054*0x3c+_0x412e7c,'colIndex':0x0};});_0x4e6a39['sort']((_0x514a9f,_0x4a54de)=>_0x514a9f['start']-_0x4a54de[_0x3dae84(0x24e)]||_0x4a54de['end']-_0x4a54de[_0x3dae84(0x24e)]-(_0x514a9f[_0x3dae84(0x234)]-_0x514a9f[_0x3dae84(0x24e)]));const _0xdcdd0e=[];_0x4e6a39['forEach'](_0x251f87=>{const _0x49cd9a=_0x3dae84;let _0x48c1b1=![];for(let _0x1e283d=0x0;_0x1e283d<_0xdcdd0e['length'];_0x1e283d++){const _0x4268a5=_0xdcdd0e[_0x1e283d];if(_0x251f87[_0x49cd9a(0x24e)]>=_0x4268a5[_0x4268a5[_0x49cd9a(0x262)]-0x1][_0x49cd9a(0x234)]){_0x4268a5[_0x49cd9a(0x223)](_0x251f87),_0x251f87[_0x49cd9a(0x2ac)]=_0x1e283d,_0x48c1b1=!![];break;}}!_0x48c1b1&&(_0xdcdd0e[_0x49cd9a(0x223)]([_0x251f87]),_0x251f87['colIndex']=_0xdcdd0e[_0x49cd9a(0x262)]-0x1);}),_0x4e6a39[_0x3dae84(0x26e)](_0x45678b=>{const _0x5392e1=_0x3dae84;let _0x1ec74e=0x0;_0x4e6a39['forEach'](_0x10eeba=>{const _0x1947eb=a3_0x5c3e;if(Math[_0x1947eb(0x28d)](_0x45678b[_0x1947eb(0x24e)],_0x10eeba['start'])<Math[_0x1947eb(0x2c5)](_0x45678b['end'],_0x10eeba['end'])&&_0x10eeba[_0x1947eb(0x2ac)]>_0x1ec74e)_0x1ec74e=_0x10eeba['colIndex'];});const _0x3f16d2=_0x1ec74e+0x1,_0x49ff6f=0x64/_0x3f16d2,_0x187f1a=_0x45678b['colIndex']*_0x49ff6f,_0x405562=document[_0x5392e1(0x1f1)]('div'),_0x5b2020=_0x45678b[_0x5392e1(0x271)];let _0x27aecb='#0a84ff';if(clients&&clients[_0x5392e1(0x262)]>0x0){const _0x4375fc=clients[_0x5392e1(0x282)](_0x47e332=>String(_0x47e332['id'])===String(_0x5b2020[_0x5392e1(0x27d)]));if(_0x4375fc&&_0x4375fc['color'])_0x27aecb=_0x4375fc[_0x5392e1(0x205)];}const _0x80b577=_0x5b2020[_0x5392e1(0x241)]==='completed',_0x593cd3=_0x80b577?0x1:0.45;_0x405562['className']=_0x5392e1(0x26a)+(_0x80b577?_0x5392e1(0x2cd):''),_0x405562['style'][_0x5392e1(0x1fb)]=hexToRgba(_0x27aecb,_0x593cd3),_0x405562[_0x5392e1(0x1ee)]['borderLeftColor']=_0x27aecb;const _0x4cbca8=_0x45678b[_0x5392e1(0x24e)]/0x3c*GRID_H,_0x183970=(_0x45678b[_0x5392e1(0x234)]-_0x45678b['start'])/0x3c*GRID_H;_0x405562[_0x5392e1(0x1ee)][_0x5392e1(0x239)]=_0x4cbca8+'px',_0x405562['style']['height']=Math[_0x5392e1(0x28d)](_0x183970,0x14)+'px',_0x405562[_0x5392e1(0x1ee)]['width']=_0x5392e1(0x220)+_0x49ff6f+_0x5392e1(0x28f),_0x405562['style'][_0x5392e1(0x27b)]='calc('+_0x187f1a+_0x5392e1(0x2a7),_0x405562[_0x5392e1(0x1ee)][_0x5392e1(0x1ed)]=0xa+_0x45678b[_0x5392e1(0x2ac)];if(_0x49ff6f<0x55)_0x405562[_0x5392e1(0x233)][_0x5392e1(0x1de)]('mini');let _0x37f274='';if(_0x5b2020['seriesId'])_0x37f274+=_0x5392e1(0x22a);if(_0x80b577)_0x37f274+=_0x5392e1(0x207);_0x405562['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5b2020['start']+_0x5392e1(0x294)+_0x5b2020[_0x5392e1(0x234)]+_0x5392e1(0x22c)+_0x37f274+_0x5392e1(0x270),_0x405562[_0x5392e1(0x23a)]=_0x389b7a=>{_0x389b7a['stopPropagation'](),openDetails(_0x5b2020);},_0x8e8457[_0x5392e1(0x1f2)](_0x405562);});}function openAnalytics(){const _0x3570eb=a3_0x5bf1b6,_0x246487=document[_0x3570eb(0x215)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x246487),openSheet(_0x3570eb(0x20b));}function setAnalyticsPeriod(_0x1a7546,_0x4fe629){const _0x43969e=a3_0x5bf1b6;currentAnPeriod=_0x1a7546,document[_0x43969e(0x1d9)](_0x43969e(0x2c6))[_0x43969e(0x26e)](_0x54b521=>_0x54b521[_0x43969e(0x233)][_0x43969e(0x222)](_0x43969e(0x240)));if(_0x4fe629)_0x4fe629[_0x43969e(0x233)][_0x43969e(0x1de)](_0x43969e(0x240));const _0x256619=document[_0x43969e(0x23d)](_0x43969e(0x243));_0x256619[_0x43969e(0x1ee)]['display']=_0x1a7546===_0x43969e(0x1ff)?_0x43969e(0x22b):_0x43969e(0x216);const _0x5cd0d3=new Date();let _0x844850=new Date(),_0x30cb52=new Date();if(_0x1a7546==='week')_0x844850=getStartOfWeek(_0x5cd0d3),_0x30cb52=new Date(_0x844850),_0x30cb52[_0x43969e(0x2c8)](_0x30cb52[_0x43969e(0x1d7)]()+0x6);else{if(_0x1a7546===_0x43969e(0x248))_0x844850=new Date(_0x5cd0d3[_0x43969e(0x219)](),_0x5cd0d3[_0x43969e(0x1d8)](),0x1),_0x30cb52=new Date(_0x5cd0d3[_0x43969e(0x219)](),_0x5cd0d3[_0x43969e(0x1d8)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x43969e(0x256)]&&(document[_0x43969e(0x23d)](_0x43969e(0x2c3))[_0x43969e(0x256)]=getLocalDateStr(_0x5cd0d3),document[_0x43969e(0x23d)]('anEnd')[_0x43969e(0x256)]=getLocalDateStr(_0x5cd0d3));refreshAnalytics();return;}}document[_0x43969e(0x23d)]('anStart')[_0x43969e(0x256)]=getLocalDateStr(_0x844850),document[_0x43969e(0x23d)](_0x43969e(0x2a2))[_0x43969e(0x256)]=getLocalDateStr(_0x30cb52),refreshAnalytics();}function refreshAnalytics(){const _0x2c98a1=a3_0x5bf1b6,_0x16e20e=document[_0x2c98a1(0x23d)]('anStart')[_0x2c98a1(0x256)],_0x4f2c8a=document[_0x2c98a1(0x23d)](_0x2c98a1(0x2a2))[_0x2c98a1(0x256)];if(!_0x16e20e||!_0x4f2c8a)return;const _0x39a2ee=sessions[_0x2c98a1(0x1d1)](_0x1a4e7e=>_0x1a4e7e[_0x2c98a1(0x267)]>=_0x16e20e&&_0x1a4e7e[_0x2c98a1(0x267)]<=_0x4f2c8a&&_0x1a4e7e[_0x2c98a1(0x241)]!==_0x2c98a1(0x260)),_0x308702=_0x39a2ee[_0x2c98a1(0x262)],_0x33e287=_0x39a2ee[_0x2c98a1(0x1d1)](_0x1caebc=>_0x1caebc[_0x2c98a1(0x241)]===_0x2c98a1(0x293))['length'],_0x533625=_0x308702>0x0?Math[_0x2c98a1(0x229)](_0x33e287/_0x308702*0x64):0x0;document[_0x2c98a1(0x23d)](_0x2c98a1(0x231))[_0x2c98a1(0x297)]=_0x533625+'%',document[_0x2c98a1(0x23d)]('anTotalStats')['textContent']=_0x33e287+_0x2c98a1(0x25f)+_0x308702+_0x2c98a1(0x235);const _0x3e7eba=document[_0x2c98a1(0x23d)]('anDonutCircle'),_0x7b9cd9=0x2*Math['PI']*0x23,_0x2031a6=_0x7b9cd9-_0x533625/0x64*_0x7b9cd9;_0x3e7eba[_0x2c98a1(0x1ee)][_0x2c98a1(0x280)]=_0x2031a6;const _0x24c6ea={};_0x39a2ee[_0x2c98a1(0x26e)](_0xf65a95=>{const _0x2cb3ff=_0x2c98a1,_0x7ad3c0=_0xf65a95[_0x2cb3ff(0x287)]||_0x2cb3ff(0x2d0);if(!_0x24c6ea[_0x7ad3c0]){const _0x1d86a9='#'+_0x7ad3c0[_0x2cb3ff(0x21d)]()[_0x2cb3ff(0x261)](0x0,0x6);_0x24c6ea[_0x7ad3c0]={'total':0x0,'done':0x0,'color':_0x1d86a9};}_0x24c6ea[_0x7ad3c0][_0x2cb3ff(0x2b3)]++;if(_0xf65a95[_0x2cb3ff(0x241)]==='completed')_0x24c6ea[_0x7ad3c0][_0x2cb3ff(0x27f)]++;});const _0x26b46f=document[_0x2c98a1(0x23d)](_0x2c98a1(0x20e));_0x26b46f[_0x2c98a1(0x258)]='';const _0x16d9ce=Object['entries'](_0x24c6ea)[_0x2c98a1(0x1e7)]((_0x39e625,_0x1b76fc)=>_0x1b76fc[0x1][_0x2c98a1(0x2b3)]-_0x39e625[0x1][_0x2c98a1(0x2b3)]);if(_0x16d9ce[_0x2c98a1(0x262)]===0x0){_0x26b46f[_0x2c98a1(0x258)]=_0x2c98a1(0x251);return;}_0x16d9ce[_0x2c98a1(0x26e)](([_0x273bbf,_0x29da1b])=>{const _0x238ee3=_0x2c98a1,_0x131d3d=Math['round'](_0x29da1b[_0x238ee3(0x27f)]/_0x29da1b[_0x238ee3(0x2b3)]*0x64),_0x28411a=document[_0x238ee3(0x1f1)](_0x238ee3(0x236));_0x28411a[_0x238ee3(0x244)]='client-stat-card',_0x28411a['style'][_0x238ee3(0x2a8)]=_0x29da1b['color'],_0x28411a[_0x238ee3(0x258)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x273bbf['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x29da1b[_0x238ee3(0x27f)]+_0x238ee3(0x1df)+_0x29da1b[_0x238ee3(0x2b3)]+_0x238ee3(0x284)+_0x131d3d+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x26b46f[_0x238ee3(0x1f2)](_0x28411a);});}function openDetails(_0x26ebc5){const _0x18b587=a3_0x5bf1b6;currentSession=_0x26ebc5;const _0x5759a2=new Date(_0x26ebc5['dateStr']),_0x2265e8=_0x5759a2['toLocaleDateString'](_0x18b587(0x1da),{'weekday':_0x18b587(0x28c),'day':_0x18b587(0x290),'month':_0x18b587(0x28c)});document[_0x18b587(0x23d)](_0x18b587(0x1f3))[_0x18b587(0x297)]=_0x2265e8[_0x18b587(0x1dd)](0x0)['toUpperCase']()+_0x2265e8[_0x18b587(0x2c9)](0x1),document[_0x18b587(0x23d)](_0x18b587(0x1e3))[_0x18b587(0x297)]=_0x26ebc5[_0x18b587(0x24e)]+'\x20-\x20'+_0x26ebc5[_0x18b587(0x234)],document[_0x18b587(0x23d)](_0x18b587(0x230))[_0x18b587(0x297)]=_0x26ebc5[_0x18b587(0x2a4)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x389f6c=document[_0x18b587(0x23d)](_0x18b587(0x213)),_0x1c9482=document[_0x18b587(0x23d)](_0x18b587(0x1f6)),_0x367dd0=_0x1c9482['querySelector'](_0x18b587(0x25e)),_0x482044=_0x1c9482[_0x18b587(0x215)](_0x18b587(0x278)),_0x10aa0a=document['getElementById']('cancelHint');if(_0x26ebc5[_0x18b587(0x241)]==='completed')_0x389f6c['textContent']=_0x18b587(0x2b6),_0x389f6c[_0x18b587(0x1ee)][_0x18b587(0x205)]=_0x18b587(0x268),_0x1c9482[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x216);else{_0x389f6c[_0x18b587(0x297)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x389f6c[_0x18b587(0x1ee)][_0x18b587(0x205)]=_0x18b587(0x21b),_0x1c9482[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x288);const _0x35228e=new Date(_0x26ebc5[_0x18b587(0x267)]+'T'+_0x26ebc5[_0x18b587(0x24e)]),_0x2014f7=new Date(),_0x4012a4=(_0x35228e-_0x2014f7)/(0x3e8*0x3c*0x3c),_0x913ed9=coachProfiles[_0x26ebc5[_0x18b587(0x287)]]&&coachProfiles[_0x26ebc5[_0x18b587(0x287)]][_0x18b587(0x26b)]?parseInt(coachProfiles[_0x26ebc5[_0x18b587(0x287)]][_0x18b587(0x26b)]):0x18;if(_0x913ed9===0x0||_0x4012a4>=_0x913ed9)_0x367dd0[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x288),_0x482044[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x288),_0x10aa0a[_0x18b587(0x1ee)][_0x18b587(0x279)]='none';else{_0x367dd0[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x216),_0x482044[_0x18b587(0x1ee)][_0x18b587(0x279)]='none',_0x10aa0a[_0x18b587(0x1ee)][_0x18b587(0x279)]=_0x18b587(0x288);let _0x3b468c=_0x913ed9===0x0?_0x18b587(0x264):'–∑–∞\x20'+_0x913ed9+'\x20—á.';_0x10aa0a[_0x18b587(0x297)]=_0x18b587(0x246)+_0x3b468c+_0x18b587(0x1fa);}}document[_0x18b587(0x23d)](_0x18b587(0x2c2))['classList'][_0x18b587(0x1de)](_0x18b587(0x240)),document[_0x18b587(0x23d)]('detailsSheet')[_0x18b587(0x233)][_0x18b587(0x1de)]('open');}function closeAllSheets(){const _0x1ed660=a3_0x5bf1b6;document[_0x1ed660(0x23d)]('overlay')['classList'][_0x1ed660(0x222)](_0x1ed660(0x240)),document['querySelectorAll'](_0x1ed660(0x2c0))['forEach'](_0x38262d=>_0x38262d[_0x1ed660(0x233)][_0x1ed660(0x222)](_0x1ed660(0x289)));}function a3_0x5c3e(_0x454d32,_0x1e15f4){_0x454d32=_0x454d32-0x1cf;const _0x22f410=a3_0x17df();let _0x4424d3=_0x22f410[_0x454d32];return _0x4424d3;}function openSheet(_0x47fb1c){const _0x1ace5b=a3_0x5bf1b6;document['getElementById']('overlay')['classList'][_0x1ace5b(0x1de)]('active'),document['getElementById'](_0x47fb1c)[_0x1ace5b(0x233)][_0x1ace5b(0x1de)](_0x1ace5b(0x289));}function getLocalDateStr(_0x37f330){const _0x599707=a3_0x5bf1b6,_0xd7802b=_0x37f330[_0x599707(0x219)](),_0x25de45=String(_0x37f330[_0x599707(0x1d8)]()+0x1)[_0x599707(0x204)](0x2,'0'),_0x3b397d=String(_0x37f330[_0x599707(0x1d7)]())['padStart'](0x2,'0');return _0xd7802b+'-'+_0x25de45+'-'+_0x3b397d;}function getStartOfWeek(_0x123894){const _0x390624=a3_0x5bf1b6,_0x484be1=new Date(_0x123894),_0x45b7a7=_0x484be1['getDay'](),_0x235beb=_0x484be1[_0x390624(0x1d7)]()-_0x45b7a7+(_0x45b7a7===0x0?-0x6:0x1);return _0x484be1[_0x390624(0x2c8)](_0x235beb),_0x484be1[_0x390624(0x299)](0x0,0x0,0x0,0x0),_0x484be1;}function scrollToToday(){const _0x368620=getLocalDateStr(new Date());setTimeout(()=>{const _0x26553c=a3_0x5c3e,_0x503450=document[_0x26553c(0x215)](_0x26553c(0x208)+_0x368620+'\x22]');if(_0x503450){const _0x513454=document['getElementById'](_0x26553c(0x285)),_0x319ecc=_0x503450[_0x26553c(0x28a)]-_0x513454[_0x26553c(0x1d4)]/0x2+_0x503450[_0x26553c(0x211)]/0x2;_0x513454['scrollTo']({'left':_0x319ecc,'behavior':_0x26553c(0x263)}),_0x513454[_0x26553c(0x247)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x211cfd=a3_0x5bf1b6,_0x41e17b=new Date(),_0x1116c7=document[_0x211cfd(0x23d)](_0x211cfd(0x1e8)),_0x25a654=document[_0x211cfd(0x23d)](_0x211cfd(0x1dc)),_0x48e407=(_0x41e17b['getHours']()*0x3c+_0x41e17b[_0x211cfd(0x20f)]())/0x3c*GRID_H;_0x1116c7[_0x211cfd(0x1ee)][_0x211cfd(0x239)]=_0x48e407+'px',_0x1116c7[_0x211cfd(0x1ee)][_0x211cfd(0x279)]='block',_0x25a654[_0x211cfd(0x1ee)]['top']=_0x48e407+'px',_0x25a654[_0x211cfd(0x1ee)][_0x211cfd(0x279)]=_0x211cfd(0x288),_0x25a654['textContent']=String(_0x41e17b[_0x211cfd(0x29d)]())['padStart'](0x2,'0')+':'+String(_0x41e17b[_0x211cfd(0x20f)]())[_0x211cfd(0x204)](0x2,'0');}function onScroll(){const _0x1e66d7=a3_0x5bf1b6,_0x3d9f0b=document[_0x1e66d7(0x23d)](_0x1e66d7(0x285)),_0x192cbb=document[_0x1e66d7(0x1d9)](_0x1e66d7(0x2cc));for(let _0x588636 of _0x192cbb)if(_0x588636[_0x1e66d7(0x28a)]>=_0x3d9f0b[_0x1e66d7(0x25b)]){const _0xa31525=new Date(_0x588636['getAttribute']('data-date'));document[_0x1e66d7(0x23d)](_0x1e66d7(0x1ea))[_0x1e66d7(0x297)]=_0xa31525[_0x1e66d7(0x257)]('ru',{'month':'long'})[_0x1e66d7(0x29f)]()+'\x20'+_0xa31525[_0x1e66d7(0x219)]();break;}}function showToast(_0x22c303){const _0x2cca29=a3_0x5bf1b6,_0x3ca2ec=document[_0x2cca29(0x23d)](_0x2cca29(0x218));_0x3ca2ec['textContent']=_0x22c303,_0x3ca2ec[_0x2cca29(0x233)][_0x2cca29(0x1de)](_0x2cca29(0x292)),setTimeout(()=>_0x3ca2ec['classList'][_0x2cca29(0x222)](_0x2cca29(0x292)),0x7d0);}function handleInfiniteScroll(){const _0x4f8fb6=a3_0x5bf1b6,_0x1f4bb0=document[_0x4f8fb6(0x23d)](_0x4f8fb6(0x285)),_0x1bfbbf=_0x1f4bb0['scrollLeft'],_0x5258da=_0x1f4bb0[_0x4f8fb6(0x221)],_0x63519e=_0x1f4bb0[_0x4f8fb6(0x1d4)];if(_0x5258da-(_0x1bfbbf+_0x63519e)<0x12c){const _0x26f562=endOffset;endOffset+=0xe,renderDayRange(_0x26f562+0x1,endOffset),reRenderBlocks();}if(_0x1bfbbf<0x12c){const _0x386646=startOffset;startOffset-=0xe,prependDays(startOffset,_0x386646-0x1),_0x1f4bb0[_0x4f8fb6(0x25b)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x7767ce,_0x234210){const _0x25ef05=a3_0x5bf1b6,_0x245821=document[_0x25ef05(0x23d)]('daysHeaderTrack'),_0x4d4b23=document[_0x25ef05(0x23d)](_0x25ef05(0x202)),_0x449c28=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1fb3bf=new Date();_0x1fb3bf[_0x25ef05(0x299)](0x0,0x0,0x0,0x0);const _0x27ac93=getLocalDateStr(new Date()),_0x2bee5f=document[_0x25ef05(0x24f)](),_0x243a79=document[_0x25ef05(0x24f)]();for(let _0x8ed430=_0x7767ce;_0x8ed430<=_0x234210;_0x8ed430++){const _0x9f037a=new Date(_0x1fb3bf);_0x9f037a[_0x25ef05(0x2c8)](_0x9f037a[_0x25ef05(0x1d7)]()+_0x8ed430);const _0x29fcc3=getLocalDateStr(_0x9f037a);let _0x15044a=_0x9f037a[_0x25ef05(0x232)]()-0x1;if(_0x15044a===-0x1)_0x15044a=0x6;const _0x4693dc=_0x29fcc3===_0x27ac93,_0x2a520e=document[_0x25ef05(0x1f1)]('div');_0x2a520e['className']=_0x25ef05(0x209)+(_0x4693dc?'today':''),_0x2a520e[_0x25ef05(0x20c)](_0x25ef05(0x296),_0x29fcc3),_0x2a520e['innerHTML']=_0x25ef05(0x2b7)+_0x449c28[_0x15044a]+_0x25ef05(0x242)+_0x9f037a[_0x25ef05(0x1d7)]()+'</div>',_0x2bee5f[_0x25ef05(0x1f2)](_0x2a520e);const _0x2fb4ef=document[_0x25ef05(0x1f1)](_0x25ef05(0x236));_0x2fb4ef['className']=_0x25ef05(0x2ca)+(_0x4693dc?_0x25ef05(0x27a):''),_0x2fb4ef[_0x25ef05(0x20c)](_0x25ef05(0x296),_0x29fcc3),_0x2fb4ef[_0x25ef05(0x20c)](_0x25ef05(0x2bf),_0x15044a),_0x243a79[_0x25ef05(0x1f2)](_0x2fb4ef);}_0x245821[_0x25ef05(0x253)](_0x2bee5f,_0x245821[_0x25ef05(0x1f7)]),_0x4d4b23[_0x25ef05(0x253)](_0x243a79,_0x4d4b23[_0x25ef05(0x215)](_0x25ef05(0x1e2)));}function hexToRgba(_0x288352,_0xfcc52b){const _0x4d8f99=a3_0x5bf1b6;let _0x3b0482;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x4d8f99(0x21a)](_0x288352))return _0x3b0482=_0x288352[_0x4d8f99(0x1d6)](0x1)[_0x4d8f99(0x1cf)](''),_0x3b0482[_0x4d8f99(0x262)]==0x3&&(_0x3b0482=[_0x3b0482[0x0],_0x3b0482[0x0],_0x3b0482[0x1],_0x3b0482[0x1],_0x3b0482[0x2],_0x3b0482[0x2]]),_0x3b0482='0x'+_0x3b0482[_0x4d8f99(0x24d)](''),_0x4d8f99(0x2a6)+[_0x3b0482>>0x10&0xff,_0x3b0482>>0x8&0xff,_0x3b0482&0xff][_0x4d8f99(0x24d)](',')+','+_0xfcc52b+')';return'rgba(10,\x20132,\x20255,\x20'+_0xfcc52b+')';}let confirmResolver=null;function showCustomConfirm(_0x15525d,_0x18d7cf,_0x14c63e=!![]){const _0x3337eb=a3_0x5bf1b6;document[_0x3337eb(0x23d)](_0x3337eb(0x1e0))[_0x3337eb(0x297)]=_0x15525d,document['getElementById'](_0x3337eb(0x29b))[_0x3337eb(0x297)]=_0x18d7cf;const _0x275160=document[_0x3337eb(0x23d)](_0x3337eb(0x2b2));return _0x14c63e?(_0x275160[_0x3337eb(0x1ee)]['color']=_0x3337eb(0x2a5),_0x275160[_0x3337eb(0x1ee)]['fontWeight']=_0x3337eb(0x2b4)):(_0x275160['style']['color']=_0x3337eb(0x228),_0x275160[_0x3337eb(0x1ee)][_0x3337eb(0x2b0)]='600'),new Promise(_0x16955b=>{const _0x12f727=_0x3337eb;confirmResolver=_0x16955b,document['getElementById'](_0x12f727(0x269))[_0x12f727(0x233)][_0x12f727(0x1de)]('visible');});}function resolveCustomConfirm(_0x5a9f7b){const _0x3446b4=a3_0x5bf1b6;document[_0x3446b4(0x23d)](_0x3446b4(0x269))['classList'][_0x3446b4(0x222)](_0x3446b4(0x1d3));if(confirmResolver)confirmResolver(_0x5a9f7b);}async function tryCancelCurrentSession(){const _0x47e1c9=a3_0x5bf1b6;if(!currentSession)return;const _0x57eeb9=await showCustomConfirm(_0x47e1c9(0x22e),_0x47e1c9(0x201),!![]);if(!_0x57eeb9)return;const _0x326668=currentSession;closeAllSheets(),sessions=sessions[_0x47e1c9(0x1d1)](_0x16fd8b=>_0x16fd8b['id']!==_0x326668['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x47e1c9(0x1ef)]();try{const _0x1f97da=window['Telegram']?.[_0x47e1c9(0x1e4)],_0xb6a450=await fetch(API_URL,{'method':_0x47e1c9(0x275),'body':JSON[_0x47e1c9(0x29a)]({'action':_0x47e1c9(0x2c4),'init_data':_0x1f97da?.['initData']||'','coachId':_0x326668['coachId'],'dateStr':_0x326668[_0x47e1c9(0x267)],'sessionId':_0x326668['id']})});if(_0xb6a450['ok'])DataManager['saveLocally']();}catch(_0x2b67d5){showToast(_0x47e1c9(0x1f4));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3bed83=a3_0x5bf1b6;if(!currentSession)return;document[_0x3bed83(0x23d)](_0x3bed83(0x286))[_0x3bed83(0x233)][_0x3bed83(0x222)](_0x3bed83(0x289)),document[_0x3bed83(0x23d)](_0x3bed83(0x212))[_0x3bed83(0x233)][_0x3bed83(0x1de)](_0x3bed83(0x289));const _0x4700c9=document[_0x3bed83(0x23d)]('rsDatesTrack'),_0x4bc44a=document['getElementById'](_0x3bed83(0x273));_0x4700c9['innerHTML']='',_0x4bc44a['innerHTML']=_0x3bed83(0x254);const [_0x31a393,_0x459384]=currentSession[_0x3bed83(0x24e)][_0x3bed83(0x1cf)](':')[_0x3bed83(0x203)](Number),[_0x4f4ce0,_0x3691fc]=currentSession[_0x3bed83(0x234)][_0x3bed83(0x1cf)](':')[_0x3bed83(0x203)](Number),_0x2544b3=_0x4f4ce0*0x3c+_0x3691fc-(_0x31a393*0x3c+_0x459384);try{const _0x18bc2a=window[_0x3bed83(0x1eb)]?.['WebApp'],_0x54e993=await fetch(API_URL,{'method':_0x3bed83(0x275),'body':JSON[_0x3bed83(0x29a)]({'action':_0x3bed83(0x283),'coachId':currentSession[_0x3bed83(0x287)],'duration':_0x2544b3,'init_data':_0x18bc2a?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x28cbc8=await _0x54e993[_0x3bed83(0x277)]();_0x28cbc8['ok']&&_0x28cbc8[_0x3bed83(0x271)]?(availableSlotsCache=_0x28cbc8[_0x3bed83(0x271)],renderRescheduleDates()):_0x4bc44a[_0x3bed83(0x258)]=_0x3bed83(0x266);}catch(_0x14d4b1){_0x4bc44a[_0x3bed83(0x258)]=_0x3bed83(0x2c7);}}function renderRescheduleDates(){const _0x13042b=a3_0x5bf1b6,_0x38d52a=document[_0x13042b(0x23d)](_0x13042b(0x1f8));_0x38d52a['innerHTML']='';const _0xbf3ebe=Object[_0x13042b(0x22f)](availableSlotsCache)['sort'](),_0x5f3f0e=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xbf3ebe[_0x13042b(0x262)]===0x0){document[_0x13042b(0x23d)](_0x13042b(0x273))['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0xbf3ebe['forEach']((_0x5ce163,_0x1ef41f)=>{const _0x3971f9=_0x13042b,_0x3800c5=new Date(_0x5ce163),_0x3c4ff4=_0x5f3f0e[_0x3800c5[_0x3971f9(0x232)]()],_0x4d55c2=_0x3800c5['getDate'](),_0x28dc6a=document[_0x3971f9(0x1f1)](_0x3971f9(0x236));_0x28dc6a[_0x3971f9(0x244)]='rs-date-chip';if(_0x1ef41f===0x0)_0x28dc6a[_0x3971f9(0x233)][_0x3971f9(0x1de)](_0x3971f9(0x240));_0x28dc6a[_0x3971f9(0x258)]=_0x3971f9(0x2a9)+_0x3c4ff4+_0x3971f9(0x23f)+_0x4d55c2+'</div>',_0x28dc6a[_0x3971f9(0x23a)]=()=>selectRsDate(_0x5ce163,_0x28dc6a),_0x38d52a[_0x3971f9(0x1f2)](_0x28dc6a);}),selectRsDate(_0xbf3ebe[0x0],_0x38d52a['firstChild']);}function a3_0x17df(){const _0x3320dc=['find','get_slots','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','matrixViewport','detailsSheet','coachId','block','open','offsetLeft','(((.+)+)+)+$','long','max','isArray','%\x20-\x204px)','numeric','error','show','completed','\x20-\x20','ranges','data-date','textContent','v9.5-CLIENT-ANALYTICS','setHours','stringify','ccText','expand','getHours','1632281BxTVGF','toUpperCase','settings','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','anEnd','Error\x20setting\x20color:','note','#ff453a','rgba(','%\x20+\x202px)','borderLeftColor','<div\x20class=\x22rs-day-name\x22>','<span>','1532650ClXPWe','colIndex','addEventListener','planned','8dDclOm','fontWeight','T23:59:59','ccYesBtn','total','600','blocked-range-part\x20stripe-bg','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','<div\x20class=\x22dch-day\x22>','setHeaderColor','initDataUnsafe','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','height','offClick','toLocaleDateString','ready','data-day-idx','.sheet','findIndex','overlay','anStart','client_cancel','min','.period-switch\x20.p-btn','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','setDate','slice','day-column\x20','week','.day-col-header','\x20status-completed','applyData','exceptions','Unknown','split','coach_profiles','filter','pattern','visible','clientWidth','parse','substring','getDate','getMonth','querySelectorAll','ru-RU','44728nfFVKI','timeLineBadge','charAt','add','</span>\x20/\x20','ccTitle','onClick','.day-column','detTime','WebApp','apply','getItem','sort','globalTimeLine','blocked-slot\x20stripe-bg','headerMonth','Telegram','startsWith','zIndex','style','now','px\x200px','createElement','appendChild','detDate','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','cid','cancelContainer','firstChild','rsDatesTrack','then','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','backgroundColor','disableVerticalSwipes','DOMContentLoaded','getAttribute','custom','15oKdyoR','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','gridColumns','map','padStart','color','client_load','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.day-col-header[data-date=\x22','day-col-header\x20','all','analyticsSheet','setAttribute','uc_client_sessions','analyticsList','getMinutes','backgroundPosition','offsetWidth','rescheduleSheet','detStatus','setItem','querySelector','none','loadLocal','toast','getFullYear','test','var(--acc-blue)','rs-time-btn','toString','102715hSQsfb','log','calc(','scrollWidth','remove','push','23718ktFEam','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','time-label','#0a84ff','round','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','flex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','initData','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','keys','detNote','anPercent','getDay','classList','end','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','div','px\x20-','button','top','onclick','#050505','1428570VWRkpv','getElementById','location','</div><div\x20class=\x22rs-day-num\x22>','active','status','</div><div\x20class=\x22dch-num\x22>','anCustomDates','className','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','scrollTop','month','4LqPJFQ','href','saveLocally','303174fmygqP','join','start','createDocumentFragment','constructor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>',':00</span>','insertBefore','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','clients','value','toLocaleString','innerHTML','setBackgroundColor','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','scrollLeft','uc_client_settings','.rs-date-chip','.btn-cancel','\x20–∏–∑\x20','cancelled','substr','length','auto','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','search','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','dateStr','var(--acc-green)','customConfirm','event-card','cancel_window','user','scroll','forEach','router.html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rsSlotsGrid','getTime','POST','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','json','.btn-reschedule','display','today','left','9ELBNfU','clientId','calendar','done','strokeDashoffset','BackButton'];a3_0x17df=function(){return _0x3320dc;};return a3_0x17df();}function selectRsDate(_0x5ba5c9,_0x335fc0){const _0x136339=a3_0x5bf1b6;selectedRsDate=_0x5ba5c9,document['querySelectorAll'](_0x136339(0x25d))[_0x136339(0x26e)](_0x8e8498=>_0x8e8498[_0x136339(0x233)][_0x136339(0x222)](_0x136339(0x240)));if(_0x335fc0)_0x335fc0[_0x136339(0x233)]['add'](_0x136339(0x240));const _0x2cfc40=document[_0x136339(0x23d)](_0x136339(0x273));_0x2cfc40['innerHTML']='';const _0xd7b9bd=availableSlotsCache[_0x5ba5c9]||[];if(_0xd7b9bd['length']===0x0){_0x2cfc40[_0x136339(0x258)]=_0x136339(0x266);return;}_0xd7b9bd[_0x136339(0x26e)](_0x27cf4f=>{const _0x3bf76b=_0x136339,_0x3f2879=document['createElement'](_0x3bf76b(0x238));_0x3f2879[_0x3bf76b(0x244)]=_0x3bf76b(0x21c),_0x3f2879[_0x3bf76b(0x297)]=_0x27cf4f,_0x3f2879[_0x3bf76b(0x23a)]=()=>confirmReschedule(_0x27cf4f),_0x2cfc40['appendChild'](_0x3f2879);});}async function confirmReschedule(_0xb8f269){const _0x186f50=a3_0x5bf1b6,_0x35342e=new Date(selectedRsDate),_0x150599=_0x35342e[_0x186f50(0x2bd)](_0x186f50(0x1da),{'day':_0x186f50(0x290),'month':_0x186f50(0x28c)}),_0x510287=await showCustomConfirm(_0x186f50(0x276),_0x186f50(0x25a)+_0x150599+'\x20–≤\x20'+_0xb8f269+'?',![]);if(!_0x510287)return;closeAllSheets(),showToast(_0x186f50(0x2ba)),lastUserActionTime=Date[_0x186f50(0x1ef)]();const _0x3a06e7=currentSession[_0x186f50(0x267)],_0x48e6dd=currentSession['id'],[_0x53aeb4,_0x51195e]=currentSession['start'][_0x186f50(0x1cf)](':')[_0x186f50(0x203)](Number),[_0x2b5f02,_0x18485b]=currentSession[_0x186f50(0x234)]['split'](':')[_0x186f50(0x203)](Number),_0x168924=_0x2b5f02*0x3c+_0x18485b-(_0x53aeb4*0x3c+_0x51195e),[_0x481495,_0x15dca8]=_0xb8f269[_0x186f50(0x1cf)](':')[_0x186f50(0x203)](Number),_0x4a42b6=_0x481495*0x3c+_0x15dca8+_0x168924,_0x262280=Math['floor'](_0x4a42b6/0x3c),_0x5edae6=_0x4a42b6%0x3c,_0x48945e=String(_0x262280)[_0x186f50(0x204)](0x2,'0')+':'+String(_0x5edae6)[_0x186f50(0x204)](0x2,'0'),_0x4c5acc=sessions[_0x186f50(0x2c1)](_0xc44218=>_0xc44218['id']===_0x48e6dd);_0x4c5acc!==-0x1&&(sessions[_0x4c5acc][_0x186f50(0x267)]=selectedRsDate,sessions[_0x4c5acc][_0x186f50(0x24e)]=_0xb8f269,sessions[_0x4c5acc]['end']=_0x48945e,reRenderBlocks());try{const _0x3b852a=window[_0x186f50(0x1eb)]?.['WebApp'],_0x394a27=await fetch(API_URL,{'method':'POST','body':JSON[_0x186f50(0x29a)]({'action':'reschedule','init_data':_0x3b852a?.[_0x186f50(0x22d)]||'','oldSessionId':_0x48e6dd,'oldDate':_0x3a06e7,'newDate':selectedRsDate,'newTime':_0xb8f269,'coachId':currentSession[_0x186f50(0x287)]})}),_0x4bff17=await _0x394a27[_0x186f50(0x277)]();!_0x4bff17['ok']?(showToast(_0x186f50(0x2a1)),DataManager['syncLoad']()):(showToast(_0x186f50(0x226)),DataManager[_0x186f50(0x24b)]());}catch(_0x55e23e){showToast(_0x186f50(0x1f4));}}document['addEventListener'](a3_0x5bf1b6(0x1fd),init);