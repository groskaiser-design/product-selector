const a3_0xe596d=a3_0x3048;(function(_0x353d42,_0x571539){const _0x51391e=a3_0x3048,_0x119002=_0x353d42();while(!![]){try{const _0x35bba1=parseInt(_0x51391e(0x138))/0x1+-parseInt(_0x51391e(0xf3))/0x2+-parseInt(_0x51391e(0xe0))/0x3*(parseInt(_0x51391e(0x10d))/0x4)+-parseInt(_0x51391e(0x154))/0x5*(-parseInt(_0x51391e(0x16c))/0x6)+parseInt(_0x51391e(0x194))/0x7+parseInt(_0x51391e(0xb4))/0x8*(parseInt(_0x51391e(0x14f))/0x9)+parseInt(_0x51391e(0x195))/0xa*(-parseInt(_0x51391e(0xa0))/0xb);if(_0x35bba1===_0x571539)break;else _0x119002['push'](_0x119002['shift']());}catch(_0x7ac9ee){_0x119002['push'](_0x119002['shift']());}}}(a3_0x1a0f,0x6a858));const APP_VERSION=a3_0xe596d(0xa3),API_URL=a3_0xe596d(0xda),GRID_H=0x3c,KEY_SESSIONS=a3_0xe596d(0x137),KEY_SETTINGS=a3_0xe596d(0xbf),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xe596d(0x13f),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2d6fd3=a3_0xe596d,_0x2178f7=(function(){let _0x1d4b62=!![];return function(_0x337783,_0x4651a8){const _0x2c0395=_0x1d4b62?function(){const _0x443ea6=a3_0x3048;if(_0x4651a8){const _0x1f4ed9=_0x4651a8[_0x443ea6(0x16f)](_0x337783,arguments);return _0x4651a8=null,_0x1f4ed9;}}:function(){};return _0x1d4b62=![],_0x2c0395;};}()),_0x56241d=_0x2178f7(this,function(){const _0x45eadd=a3_0x3048;return _0x56241d[_0x45eadd(0x135)]()[_0x45eadd(0x169)](_0x45eadd(0xba))[_0x45eadd(0x135)]()[_0x45eadd(0x108)](_0x56241d)[_0x45eadd(0x169)]('(((.+)+)+)+$');});_0x56241d();try{const _0x435da0=window[_0x2d6fd3(0x187)]?.[_0x2d6fd3(0x19c)];if(!_0x435da0)return;_0x435da0[_0x2d6fd3(0xf7)](),_0x435da0[_0x2d6fd3(0xb9)]();try{_0x435da0['setHeaderColor'](_0x2d6fd3(0x12e)),_0x435da0['setBackgroundColor']&&_0x435da0[_0x2d6fd3(0xdd)](_0x2d6fd3(0x12e));}catch(_0x331c48){console[_0x2d6fd3(0xeb)](_0x2d6fd3(0x180),_0x331c48);}try{_0x435da0[_0x2d6fd3(0xe4)]&&(_0x435da0[_0x2d6fd3(0xe4)][_0x2d6fd3(0x186)](),_0x435da0['BackButton'][_0x2d6fd3(0xe3)](),_0x435da0[_0x2d6fd3(0xe4)][_0x2d6fd3(0xc9)](function(){const _0x2656e8=_0x2d6fd3;window[_0x2656e8(0x10e)][_0x2656e8(0x13a)]='router.html';}));}catch(_0x3b60d4){console[_0x2d6fd3(0xeb)](_0x2d6fd3(0x141),_0x3b60d4);}try{if(_0x435da0[_0x2d6fd3(0xdb)])_0x435da0[_0x2d6fd3(0xdb)]();}catch(_0x20f9d3){}}catch(_0x33ea9e){console[_0x2d6fd3(0x12d)]('Critical\x20TMA\x20Error:',_0x33ea9e);}}());function isAdmin(){const _0x56d9e3=a3_0xe596d;try{const _0x12e3f7=Number(window['Telegram']?.[_0x56d9e3(0x19c)]?.[_0x56d9e3(0xcf)]?.[_0x56d9e3(0x152)]?.['id']);return _0x12e3f7===0xbaf7174;}catch(_0x19defd){return![];}}const DataManager={'saveLocally'(){const _0x183715=a3_0xe596d;try{localStorage[_0x183715(0x117)](KEY_SESSIONS,JSON[_0x183715(0xfa)](sessions)),localStorage[_0x183715(0x117)](KEY_CLIENTS,JSON[_0x183715(0xfa)](clients)),localStorage[_0x183715(0x117)](KEY_SETTINGS,JSON[_0x183715(0xfa)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x30dd44){}},'loadLocal'(){const _0x46c4df=a3_0xe596d;try{const _0x2346a9=localStorage[_0x46c4df(0x18d)](KEY_SESSIONS);if(_0x2346a9)sessions=JSON[_0x46c4df(0x164)](_0x2346a9);const _0x42c7bb=localStorage[_0x46c4df(0x18d)](KEY_CLIENTS);if(_0x42c7bb)clients=JSON[_0x46c4df(0x164)](_0x42c7bb);const _0x37d754=localStorage['getItem'](KEY_SETTINGS);if(_0x37d754){const _0x38b4df=JSON[_0x46c4df(0x164)](_0x37d754);if(_0x38b4df[_0x46c4df(0x174)])availabilityPattern=_0x38b4df['pattern'];if(_0x38b4df[_0x46c4df(0xa5)])specialRanges=_0x38b4df[_0x46c4df(0xa5)];if(_0x38b4df[_0x46c4df(0xee)])dateExceptions=_0x38b4df[_0x46c4df(0xee)];}}catch(_0x6ac5f0){}},async 'syncLoad'(){const _0x2e097c=a3_0xe596d,_0x1f2a5f=new Date(),_0x3949f8=_0x1f2a5f['getFullYear']()+'-'+String(_0x1f2a5f['getMonth']()+0x1)['padStart'](0x2,'0'),_0x39f0b5=new Date(_0x1f2a5f);_0x39f0b5[_0x2e097c(0x159)](_0x1f2a5f[_0x2e097c(0x188)]()+0x1);const _0x3325f7=_0x39f0b5['getFullYear']()+'-'+String(_0x39f0b5[_0x2e097c(0x188)]()+0x1)[_0x2e097c(0x18a)](0x2,'0'),_0x5997e4=Date[_0x2e097c(0x112)]();try{const _0x47f2a6=window[_0x2e097c(0x187)]?.[_0x2e097c(0x19c)],_0x18b8f4=_0x47f2a6?.[_0x2e097c(0x14a)]||'',[_0x54cddd,_0x3bbe4f]=await Promise[_0x2e097c(0xc7)]([fetch(API_URL,{'method':'POST','body':JSON[_0x2e097c(0xfa)]({'action':_0x2e097c(0x12c),'init_data':_0x18b8f4,'month_str':_0x3949f8})})[_0x2e097c(0x118)](_0x2a464b=>_0x2a464b[_0x2e097c(0xae)]()),fetch(API_URL,{'method':'POST','body':JSON[_0x2e097c(0xfa)]({'action':_0x2e097c(0x12c),'init_data':_0x18b8f4,'month_str':_0x3325f7})})['then'](_0x2de92d=>_0x2de92d[_0x2e097c(0xae)]())]);if(lastUserActionTime>_0x5997e4){console[_0x2e097c(0xeb)](_0x2e097c(0xc3));return;}if(_0x54cddd['ok'])this[_0x2e097c(0xb7)](_0x54cddd[_0x2e097c(0xcc)],_0x3949f8);if(_0x3bbe4f['ok'])this[_0x2e097c(0xb7)](_0x3bbe4f['data'],_0x3325f7);this['saveLocally']();}catch(_0x5c4252){}},'applyData'(_0x47e955,_0x58ce4f){const _0x4802ad=a3_0xe596d;if(!_0x47e955)return;if(_0x47e955[_0x4802ad(0x18f)]){if(_0x47e955[_0x4802ad(0x18f)]['pattern'])availabilityPattern=_0x47e955[_0x4802ad(0x18f)][_0x4802ad(0x174)];if(_0x47e955[_0x4802ad(0x18f)][_0x4802ad(0xa5)])specialRanges=_0x47e955['settings']['ranges'];if(_0x47e955[_0x4802ad(0x18f)]['exceptions'])dateExceptions=_0x47e955['settings'][_0x4802ad(0xee)];}if(_0x47e955[_0x4802ad(0x129)]&&Array[_0x4802ad(0xdf)](_0x47e955[_0x4802ad(0x129)]))clients=_0x47e955[_0x4802ad(0x129)];_0x47e955[_0x4802ad(0xd5)]&&(coachProfiles={...coachProfiles,..._0x47e955[_0x4802ad(0xd5)]}),_0x47e955[_0x4802ad(0x109)]&&(sessions=sessions[_0x4802ad(0xed)](_0x25d272=>!_0x25d272[_0x4802ad(0x16b)]['startsWith'](_0x58ce4f)),Object[_0x4802ad(0xd6)](_0x47e955[_0x4802ad(0x109)])[_0x4802ad(0xb3)](_0x321444=>{const _0x4d33ab=_0x4802ad,_0x34eec8=_0x47e955[_0x4d33ab(0x109)][_0x321444];_0x34eec8['forEach'](_0x593000=>{const _0x119833=_0x4d33ab;sessions['push']({'id':_0x593000['i'],'clientId':_0x593000['c'],'coachId':_0x593000[_0x119833(0x102)],'dateStr':_0x58ce4f+'-'+_0x321444[_0x119833(0x18a)](0x2,'0'),'start':_0x593000['s'],'end':_0x593000['e'],'note':_0x593000['n']||'','status':_0x593000['st']||'planned','seriesId':_0x593000[_0x119833(0xfd)]});});})),reRenderBlocks();}};function init(){const _0x3ae84d=a3_0xe596d;DataManager[_0x3ae84d(0xbc)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x3ae84d(0x17c)](_0x3ae84d(0x14b),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x24a337=a3_0xe596d,_0x2dc7ce=document[_0x24a337(0xe2)](_0x24a337(0x15f)),_0x59923a=document[_0x24a337(0xe2)](_0x24a337(0xde));_0x2dc7ce[_0x24a337(0xf6)]='',_0x2dc7ce[_0x24a337(0x11e)](_0x59923a);for(let _0x3f8829=0x0;_0x3f8829<0x18;_0x3f8829++){const _0x11f53a=document['createElement']('div');_0x11f53a[_0x24a337(0x17e)]=_0x24a337(0x14e);if(_0x3f8829>0x0)_0x11f53a[_0x24a337(0xf6)]=_0x24a337(0xef)+String(_0x3f8829)['padStart'](0x2,'0')+':00</span>';_0x2dc7ce[_0x24a337(0x11e)](_0x11f53a);}}function renderDayRange(_0x5ce27f,_0x34ee6f){const _0x2a1e15=a3_0xe596d,_0x1ccddc=document[_0x2a1e15(0xe2)](_0x2a1e15(0xe8)),_0x1416e6=document[_0x2a1e15(0xe2)]('gridColumns'),_0x5f1887=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x12bb03=new Date();_0x12bb03['setHours'](0x0,0x0,0x0,0x0);const _0x17f177=getLocalDateStr(new Date());for(let _0x27bd64=_0x5ce27f;_0x27bd64<=_0x34ee6f;_0x27bd64++){const _0x45d8b8=new Date(_0x12bb03);_0x45d8b8['setDate'](_0x45d8b8['getDate']()+_0x27bd64);const _0x5910a6=getLocalDateStr(_0x45d8b8);let _0x161280=_0x45d8b8['getDay']()-0x1;if(_0x161280===-0x1)_0x161280=0x6;const _0x54f34a=_0x5910a6===_0x17f177,_0x8b09e5=document[_0x2a1e15(0x11b)](_0x2a1e15(0xec));_0x8b09e5[_0x2a1e15(0x17e)]=_0x2a1e15(0xc5)+(_0x54f34a?_0x2a1e15(0xac):''),_0x8b09e5[_0x2a1e15(0x15c)](_0x2a1e15(0x13b),_0x5910a6),_0x8b09e5[_0x2a1e15(0xf6)]=_0x2a1e15(0x11d)+_0x5f1887[_0x161280]+_0x2a1e15(0x9e)+_0x45d8b8[_0x2a1e15(0x179)]()+_0x2a1e15(0x192),_0x1ccddc[_0x2a1e15(0x11e)](_0x8b09e5);const _0x5a07e6=document[_0x2a1e15(0x11b)](_0x2a1e15(0xec));_0x5a07e6[_0x2a1e15(0x17e)]=_0x2a1e15(0x149)+(_0x54f34a?_0x2a1e15(0xac):''),_0x5a07e6[_0x2a1e15(0x15c)](_0x2a1e15(0x13b),_0x5910a6),_0x5a07e6[_0x2a1e15(0x15c)](_0x2a1e15(0x15a),_0x161280),_0x1416e6[_0x2a1e15(0x11e)](_0x5a07e6);}}function reRenderBlocks(){const _0xe0e8c9=a3_0xe596d;document[_0xe0e8c9(0x166)](_0xe0e8c9(0x115))[_0xe0e8c9(0xb3)](_0xbf9b32=>{const _0x2f7c92=_0xe0e8c9;_0xbf9b32[_0x2f7c92(0x166)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2f7c92(0xb3)](_0x21411e=>_0x21411e[_0x2f7c92(0x17f)]());const _0xd53d47=_0xbf9b32[_0x2f7c92(0xb5)]('data-date'),_0x294308=parseInt(_0xbf9b32[_0x2f7c92(0xb5)](_0x2f7c92(0x15a))),_0x1bb2c8=Math[_0x2f7c92(0x9d)](_0xbf9b32['offsetLeft']);(availabilityPattern[_0x294308]||[])[_0x2f7c92(0xb3)](_0x1edf10=>{const _0x5fd498=_0x2f7c92,_0x9db227=document[_0x5fd498(0x11b)](_0x5fd498(0xec));_0x9db227['className']=_0x5fd498(0x16a),_0x9db227['style'][_0x5fd498(0x131)]=_0x1edf10*GRID_H+'px',_0x9db227['style'][_0x5fd498(0x142)]='-'+_0x1bb2c8+'px\x20-'+_0x1edf10*GRID_H+'px',_0xbf9b32['appendChild'](_0x9db227);});if(specialRanges[_0x2f7c92(0x17b)]>0x0){const _0x218c0c=new Date(_0xd53d47+_0x2f7c92(0xcb))[_0x2f7c92(0x105)](),_0x36c57b=new Date(_0xd53d47+_0x2f7c92(0x110))[_0x2f7c92(0x105)]();specialRanges[_0x2f7c92(0xb3)](_0x2b536e=>{const _0x1ac6a9=_0x2f7c92,_0x356206=new Date(_0x2b536e[_0x1ac6a9(0x18b)])['getTime'](),_0x22c3d3=new Date(_0x2b536e[_0x1ac6a9(0x122)])[_0x1ac6a9(0x105)](),_0x3f147c=Math[_0x1ac6a9(0xd4)](_0x218c0c,_0x356206),_0x386e8c=Math['min'](_0x36c57b,_0x22c3d3);if(_0x3f147c<_0x386e8c){const _0x40d5fc=(_0x3f147c-_0x218c0c)/0x36ee80*GRID_H,_0x26bf4d=(_0x386e8c-_0x3f147c)/0x36ee80*GRID_H,_0x1f3207=document['createElement'](_0x1ac6a9(0xec));_0x26bf4d>=23.5*GRID_H?(_0x1f3207['className']=_0x1ac6a9(0xc2),_0x1f3207[_0x1ac6a9(0xbd)][_0x1ac6a9(0x142)]='-'+_0x1bb2c8+_0x1ac6a9(0xa4)):(_0x1f3207['className']=_0x1ac6a9(0x9f),_0x1f3207[_0x1ac6a9(0xbd)]['top']=_0x40d5fc+'px',_0x1f3207[_0x1ac6a9(0xbd)][_0x1ac6a9(0x153)]=_0x26bf4d+'px',_0x1f3207['style'][_0x1ac6a9(0x142)]='-'+_0x1bb2c8+_0x1ac6a9(0x185)+_0x40d5fc+'px'),_0xbf9b32[_0x1ac6a9(0x11e)](_0x1f3207);}});}renderEventsForColumn(_0xbf9b32,_0xd53d47);});}function renderEventsForColumn(_0x16e0bd,_0x1e6007){const _0x3f13d0=a3_0xe596d,_0x5507fa=sessions[_0x3f13d0(0xed)](_0x43af4c=>_0x43af4c[_0x3f13d0(0x16b)]===_0x1e6007),_0x2afece=_0x5507fa[_0x3f13d0(0xca)](_0x3ae556=>{const _0x2f1fd6=_0x3f13d0,[_0x4f1f41,_0x48406f]=_0x3ae556[_0x2f1fd6(0x18b)][_0x2f1fd6(0x19a)](':')[_0x2f1fd6(0xca)](Number),[_0x267fe,_0x3ee931]=_0x3ae556[_0x2f1fd6(0x122)]['split'](':')['map'](Number);return{'data':_0x3ae556,'start':_0x4f1f41*0x3c+_0x48406f,'end':_0x267fe*0x3c+_0x3ee931,'colIndex':0x0};});_0x2afece[_0x3f13d0(0x17d)]((_0xcd5b24,_0x12bf47)=>_0xcd5b24[_0x3f13d0(0x18b)]-_0x12bf47[_0x3f13d0(0x18b)]||_0x12bf47[_0x3f13d0(0x122)]-_0x12bf47[_0x3f13d0(0x18b)]-(_0xcd5b24[_0x3f13d0(0x122)]-_0xcd5b24[_0x3f13d0(0x18b)]));const _0x4d3dde=[];_0x2afece['forEach'](_0x1b7843=>{const _0x3f7dd2=_0x3f13d0;let _0x446220=![];for(let _0x234910=0x0;_0x234910<_0x4d3dde[_0x3f7dd2(0x17b)];_0x234910++){const _0x4c5318=_0x4d3dde[_0x234910];if(_0x1b7843[_0x3f7dd2(0x18b)]>=_0x4c5318[_0x4c5318['length']-0x1][_0x3f7dd2(0x122)]){_0x4c5318[_0x3f7dd2(0x16d)](_0x1b7843),_0x1b7843[_0x3f7dd2(0xb1)]=_0x234910,_0x446220=!![];break;}}!_0x446220&&(_0x4d3dde['push']([_0x1b7843]),_0x1b7843[_0x3f7dd2(0xb1)]=_0x4d3dde['length']-0x1);}),_0x2afece[_0x3f13d0(0xb3)](_0x445777=>{const _0x19c1da=_0x3f13d0;let _0x50a0d7=0x0;_0x2afece[_0x19c1da(0xb3)](_0x27aa10=>{const _0x44a569=_0x19c1da;if(Math['max'](_0x445777[_0x44a569(0x18b)],_0x27aa10['start'])<Math[_0x44a569(0x140)](_0x445777[_0x44a569(0x122)],_0x27aa10[_0x44a569(0x122)])&&_0x27aa10['colIndex']>_0x50a0d7)_0x50a0d7=_0x27aa10['colIndex'];});const _0x2dbc76=_0x50a0d7+0x1,_0xadbffc=0x64/_0x2dbc76,_0x2ddbb0=_0x445777['colIndex']*_0xadbffc,_0x57438b=document[_0x19c1da(0x11b)]('div'),_0x5c66f7=_0x445777['data'];let _0x1da7f7=_0x19c1da(0xce);if(clients&&clients[_0x19c1da(0x17b)]>0x0){const _0x1d2e32=clients[_0x19c1da(0x18c)](_0x4424fc=>String(_0x4424fc['id'])===String(_0x5c66f7[_0x19c1da(0x12b)]));if(_0x1d2e32&&_0x1d2e32[_0x19c1da(0x191)])_0x1da7f7=_0x1d2e32['color'];}const _0x36a947=_0x5c66f7['status']===_0x19c1da(0xb0),_0x2714c7=_0x36a947?0x1:0.45;_0x57438b[_0x19c1da(0x17e)]=_0x19c1da(0x10c)+(_0x36a947?'\x20status-completed':''),_0x57438b[_0x19c1da(0xbd)][_0x19c1da(0xaa)]=hexToRgba(_0x1da7f7,_0x2714c7),_0x57438b[_0x19c1da(0xbd)][_0x19c1da(0x15d)]=_0x1da7f7;const _0x1bf988=_0x445777[_0x19c1da(0x18b)]/0x3c*GRID_H,_0x57e9f9=(_0x445777[_0x19c1da(0x122)]-_0x445777['start'])/0x3c*GRID_H;_0x57438b[_0x19c1da(0xbd)]['top']=_0x1bf988+'px',_0x57438b['style'][_0x19c1da(0x153)]=Math['max'](_0x57e9f9,0x14)+'px',_0x57438b[_0x19c1da(0xbd)][_0x19c1da(0x150)]=_0x19c1da(0x177)+_0xadbffc+_0x19c1da(0x107),_0x57438b['style'][_0x19c1da(0x190)]=_0x19c1da(0x177)+_0x2ddbb0+_0x19c1da(0x198),_0x57438b['style'][_0x19c1da(0x162)]=0xa+_0x445777[_0x19c1da(0xb1)];if(_0xadbffc<0x55)_0x57438b['classList'][_0x19c1da(0x197)](_0x19c1da(0xcd));let _0x8db48a='';if(_0x5c66f7['seriesId'])_0x8db48a+=_0x19c1da(0x182);if(_0x36a947)_0x8db48a+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x57438b[_0x19c1da(0xf6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5c66f7['start']+'\x20-\x20'+_0x5c66f7[_0x19c1da(0x122)]+_0x19c1da(0x178)+_0x8db48a+_0x19c1da(0x126),_0x57438b[_0x19c1da(0x101)]=_0x5e94c8=>{const _0x220c07=_0x19c1da;_0x5e94c8[_0x220c07(0xdc)](),openDetails(_0x5c66f7);},_0x16e0bd[_0x19c1da(0x11e)](_0x57438b);});}function openAnalytics(){const _0x127039=a3_0xe596d,_0x59060b=document[_0x127039(0x13d)](_0x127039(0x125));setAnalyticsPeriod(_0x127039(0x13f),_0x59060b),openSheet(_0x127039(0xfc));}function setAnalyticsPeriod(_0x194fd2,_0x43a41f){const _0x2042e9=a3_0xe596d;currentAnPeriod=_0x194fd2,document[_0x2042e9(0x166)](_0x2042e9(0x125))[_0x2042e9(0xb3)](_0x1f1ff5=>_0x1f1ff5['classList'][_0x2042e9(0x17f)]('active'));if(_0x43a41f)_0x43a41f[_0x2042e9(0x14c)]['add'](_0x2042e9(0xc4));const _0x4b512c=document[_0x2042e9(0xe2)](_0x2042e9(0xa7));_0x4b512c[_0x2042e9(0xbd)][_0x2042e9(0x100)]=_0x194fd2==='custom'?_0x2042e9(0x176):'none';const _0x52d3a8=new Date();let _0x4316c2=new Date(),_0xf3549=new Date();if(_0x194fd2==='week')_0x4316c2=getStartOfWeek(_0x52d3a8),_0xf3549=new Date(_0x4316c2),_0xf3549[_0x2042e9(0xaf)](_0xf3549['getDate']()+0x6);else{if(_0x194fd2===_0x2042e9(0xa8))_0x4316c2=new Date(_0x52d3a8['getFullYear'](),_0x52d3a8[_0x2042e9(0x188)](),0x1),_0xf3549=new Date(_0x52d3a8[_0x2042e9(0xe9)](),_0x52d3a8[_0x2042e9(0x188)]()+0x1,0x0);else{!document['getElementById'](_0x2042e9(0x155))[_0x2042e9(0xe5)]&&(document[_0x2042e9(0xe2)](_0x2042e9(0x155))[_0x2042e9(0xe5)]=getLocalDateStr(_0x52d3a8),document[_0x2042e9(0xe2)](_0x2042e9(0x10a))[_0x2042e9(0xe5)]=getLocalDateStr(_0x52d3a8));refreshAnalytics();return;}}document[_0x2042e9(0xe2)](_0x2042e9(0x155))[_0x2042e9(0xe5)]=getLocalDateStr(_0x4316c2),document[_0x2042e9(0xe2)](_0x2042e9(0x10a))[_0x2042e9(0xe5)]=getLocalDateStr(_0xf3549),refreshAnalytics();}function a3_0x1a0f(){const _0x2ac915=['blocked-slot\x20stripe-bg','dateStr','6XTqMII','push','matrixViewport','apply','getHours','syncLoad','</div><div\x20class=\x22rs-day-num\x22>','done','pattern','scrollLeft','flex','calc(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDate','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','length','addEventListener','sort','className','remove','Error\x20setting\x20color:','POST','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','getDay','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','px\x20-','show','Telegram','getMonth','open','padStart','start','find','getItem','</span>\x20/\x20','settings','left','color','</div>','entries','3067015YhGRMi','945850TweYEz','toLocaleDateString','add','%\x20+\x202px)','Unknown','split','gridColumns','WebApp','total','detTime','round','</div><div\x20class=\x22dch-num\x22>','blocked-range-part\x20stripe-bg','33HHuZKU','rsSlotsGrid','DOMContentLoaded','v9.5-CLIENT-ANALYTICS','px\x200px','ranges','anPercent','anCustomDates','month','textContent','backgroundColor','getMinutes','today','toUpperCase','json','setDate','completed','colIndex','block','forEach','6800ItBtIP','getAttribute','test','applyData','–û—Ç–º–µ–Ω–µ–Ω–æ','expand','(((.+)+)+)+$','offsetWidth','loadLocal','style','ccText','uc_client_settings','charAt','scrollWidth','day-off-overlay\x20stripe-bg','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','active','day-col-header\x20','fontWeight','all','reschedule','onClick','map','T00:00:00','data','mini','#0a84ff','initDataUnsafe','saveLocally','.day-col-header','headerMonth','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','max','coach_profiles','keys','floor','detDate','customConfirm','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','disableVerticalSwipes','stopPropagation','setBackgroundColor','timeLineBadge','isArray','3XqGAGb','overlay','getElementById','offClick','BackButton','value','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','insertBefore','daysHeaderTrack','getFullYear','<div\x20class=\x22rs-day-name\x22>','log','div','filter','exceptions','<span>','coachId','numeric','rsDatesTrack','1387242VHWCIe','.rs-date-chip','setHours','innerHTML','ready','none','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','stringify','substr','analyticsSheet','sid','detNote','auto','display','onclick','cid','status','createDocumentFragment','getTime','.btn-cancel','%\x20-\x204px)','constructor','calendar','anEnd','rs-date-chip','event-card','1768152URqolh','location','scrollTop','T23:59:59','.day-col-header[data-date=\x22','now','–∑–∞\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','.day-column','cancel_window','setItem','then','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','firstChild','createElement','note','<div\x20class=\x22dch-day\x22>','appendChild','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','\x20—á.','detStatus','end','rescheduleSheet','visible','.period-switch\x20.p-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetLeft','cancelHint','clients','toast','clientId','client_load','error','#050505','anTotalStats','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','top','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','ru-RU','ccYesBtn','toString','long','uc_client_sessions','489730ZOxHNi','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','href','data-date','clientWidth','querySelector','rgba(','week','min','Error\x20setting\x20back\x20button:','backgroundPosition','ccTitle','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','scrollTo','.btn-reschedule','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','day-column\x20','initData','scroll','classList','cancelled','time-label','8793zucycr','width','#ff453a','user','height','487005KExXaB','anStart','globalTimeLine','join','findIndex','setMonth','data-day-idx','toLocaleString','setAttribute','borderLeftColor','\x20–≤\x20','timeColumn','var(--acc-blue)','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','zIndex','detailsSheet','parse','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','querySelectorAll','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','analyticsList','search'];a3_0x1a0f=function(){return _0x2ac915;};return a3_0x1a0f();}function refreshAnalytics(){const _0x1a2271=a3_0xe596d,_0x4dea16=document['getElementById'](_0x1a2271(0x155))[_0x1a2271(0xe5)],_0x3d653b=document[_0x1a2271(0xe2)]('anEnd')['value'];if(!_0x4dea16||!_0x3d653b)return;const _0x422de5=sessions['filter'](_0x74e3b9=>_0x74e3b9[_0x1a2271(0x16b)]>=_0x4dea16&&_0x74e3b9[_0x1a2271(0x16b)]<=_0x3d653b&&_0x74e3b9[_0x1a2271(0x103)]!==_0x1a2271(0x14d)),_0x334433=_0x422de5[_0x1a2271(0x17b)],_0x338420=_0x422de5['filter'](_0x4ed68a=>_0x4ed68a[_0x1a2271(0x103)]===_0x1a2271(0xb0))[_0x1a2271(0x17b)],_0x306ac3=_0x334433>0x0?Math['round'](_0x338420/_0x334433*0x64):0x0;document['getElementById'](_0x1a2271(0xa6))[_0x1a2271(0xa9)]=_0x306ac3+'%',document['getElementById'](_0x1a2271(0x12f))[_0x1a2271(0xa9)]=_0x338420+'\x20–∏–∑\x20'+_0x334433+_0x1a2271(0x11f);const _0x42b6fb=document[_0x1a2271(0xe2)]('anDonutCircle'),_0x7a4a8e=0x2*Math['PI']*0x23,_0x2c2762=_0x7a4a8e-_0x306ac3/0x64*_0x7a4a8e;_0x42b6fb['style']['strokeDashoffset']=_0x2c2762;const _0x44fd69={};_0x422de5[_0x1a2271(0xb3)](_0x270f18=>{const _0x188fc8=_0x1a2271,_0x37bf97=_0x270f18[_0x188fc8(0xf0)]||_0x188fc8(0x199);if(!_0x44fd69[_0x37bf97]){const _0xe859bf='#'+_0x37bf97[_0x188fc8(0x135)]()[_0x188fc8(0xfb)](0x0,0x6);_0x44fd69[_0x37bf97]={'total':0x0,'done':0x0,'color':_0xe859bf};}_0x44fd69[_0x37bf97][_0x188fc8(0x19d)]++;if(_0x270f18['status']==='completed')_0x44fd69[_0x37bf97][_0x188fc8(0x173)]++;});const _0x429f68=document[_0x1a2271(0xe2)](_0x1a2271(0x168));_0x429f68['innerHTML']='';const _0x1ec4c9=Object[_0x1a2271(0x193)](_0x44fd69)[_0x1a2271(0x17d)]((_0x286a18,_0x4918e4)=>_0x4918e4[0x1][_0x1a2271(0x19d)]-_0x286a18[0x1]['total']);if(_0x1ec4c9[_0x1a2271(0x17b)]===0x0){_0x429f68[_0x1a2271(0xf6)]=_0x1a2271(0xf9);return;}_0x1ec4c9[_0x1a2271(0xb3)](([_0x55975e,_0x3cad4e])=>{const _0x20ca86=_0x1a2271,_0x2cec89=Math['round'](_0x3cad4e[_0x20ca86(0x173)]/_0x3cad4e[_0x20ca86(0x19d)]*0x64),_0x22d235=document[_0x20ca86(0x11b)](_0x20ca86(0xec));_0x22d235[_0x20ca86(0x17e)]='client-stat-card',_0x22d235['style'][_0x20ca86(0x15d)]=_0x3cad4e[_0x20ca86(0x191)],_0x22d235[_0x20ca86(0xf6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x55975e[_0x20ca86(0xfb)](0x0,0x5)+_0x20ca86(0x119)+_0x3cad4e['done']+_0x20ca86(0x18e)+_0x3cad4e[_0x20ca86(0x19d)]+_0x20ca86(0x114)+_0x2cec89+_0x20ca86(0x161),_0x429f68['appendChild'](_0x22d235);});}function openDetails(_0x13aaea){const _0x1b3b1f=a3_0xe596d;currentSession=_0x13aaea;const _0x55091c=new Date(_0x13aaea[_0x1b3b1f(0x16b)]),_0x110d97=_0x55091c[_0x1b3b1f(0x196)](_0x1b3b1f(0x133),{'weekday':_0x1b3b1f(0x136),'day':'numeric','month':_0x1b3b1f(0x136)});document[_0x1b3b1f(0xe2)](_0x1b3b1f(0xd8))[_0x1b3b1f(0xa9)]=_0x110d97[_0x1b3b1f(0xc0)](0x0)[_0x1b3b1f(0xad)]()+_0x110d97['slice'](0x1),document['getElementById'](_0x1b3b1f(0x19e))[_0x1b3b1f(0xa9)]=_0x13aaea[_0x1b3b1f(0x18b)]+'\x20-\x20'+_0x13aaea['end'],document[_0x1b3b1f(0xe2)](_0x1b3b1f(0xfe))[_0x1b3b1f(0xa9)]=_0x13aaea[_0x1b3b1f(0x11c)]||_0x1b3b1f(0x148);const _0x19f346=document[_0x1b3b1f(0xe2)](_0x1b3b1f(0x121)),_0x13a285=document[_0x1b3b1f(0xe2)]('cancelContainer'),_0x2034af=_0x13a285[_0x1b3b1f(0x13d)](_0x1b3b1f(0x106)),_0x45e09e=_0x13a285[_0x1b3b1f(0x13d)](_0x1b3b1f(0x146)),_0x4ed4ea=document['getElementById'](_0x1b3b1f(0x128));if(_0x13aaea['status']===_0x1b3b1f(0xb0))_0x19f346[_0x1b3b1f(0xa9)]=_0x1b3b1f(0x184),_0x19f346[_0x1b3b1f(0xbd)][_0x1b3b1f(0x191)]='var(--acc-green)',_0x13a285['style'][_0x1b3b1f(0x100)]=_0x1b3b1f(0xf8);else{_0x19f346[_0x1b3b1f(0xa9)]=_0x1b3b1f(0x144),_0x19f346['style'][_0x1b3b1f(0x191)]=_0x1b3b1f(0x160),_0x13a285[_0x1b3b1f(0xbd)][_0x1b3b1f(0x100)]=_0x1b3b1f(0xb2);const _0x5301a5=new Date(_0x13aaea[_0x1b3b1f(0x16b)]+'T'+_0x13aaea[_0x1b3b1f(0x18b)]),_0x4e7f21=new Date(),_0x133748=(_0x5301a5-_0x4e7f21)/(0x3e8*0x3c*0x3c),_0x276f1f=coachProfiles[_0x13aaea[_0x1b3b1f(0xf0)]]&&coachProfiles[_0x13aaea[_0x1b3b1f(0xf0)]][_0x1b3b1f(0x116)]?parseInt(coachProfiles[_0x13aaea['coachId']][_0x1b3b1f(0x116)]):0x18;if(_0x276f1f===0x0||_0x133748>=_0x276f1f)_0x2034af['style'][_0x1b3b1f(0x100)]=_0x1b3b1f(0xb2),_0x45e09e[_0x1b3b1f(0xbd)][_0x1b3b1f(0x100)]='block',_0x4ed4ea[_0x1b3b1f(0xbd)][_0x1b3b1f(0x100)]='none';else{_0x2034af['style'][_0x1b3b1f(0x100)]=_0x1b3b1f(0xf8),_0x45e09e[_0x1b3b1f(0xbd)]['display']=_0x1b3b1f(0xf8),_0x4ed4ea['style'][_0x1b3b1f(0x100)]='block';let _0x5a6875=_0x276f1f===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x1b3b1f(0x113)+_0x276f1f+_0x1b3b1f(0x120);_0x4ed4ea[_0x1b3b1f(0xa9)]=_0x1b3b1f(0x132)+_0x5a6875+_0x1b3b1f(0x147);}}document[_0x1b3b1f(0xe2)](_0x1b3b1f(0xe1))[_0x1b3b1f(0x14c)][_0x1b3b1f(0x197)](_0x1b3b1f(0xc4)),document['getElementById'](_0x1b3b1f(0x163))['classList']['add']('open');}function closeAllSheets(){const _0x49ac55=a3_0xe596d;document[_0x49ac55(0xe2)]('overlay')[_0x49ac55(0x14c)][_0x49ac55(0x17f)](_0x49ac55(0xc4)),document[_0x49ac55(0x166)]('.sheet')[_0x49ac55(0xb3)](_0x31a2c8=>_0x31a2c8[_0x49ac55(0x14c)][_0x49ac55(0x17f)]('open'));}function openSheet(_0x3e4d19){const _0x1ed29b=a3_0xe596d;document[_0x1ed29b(0xe2)](_0x1ed29b(0xe1))['classList']['add']('active'),document[_0x1ed29b(0xe2)](_0x3e4d19)['classList'][_0x1ed29b(0x197)]('open');}function getLocalDateStr(_0x5952c7){const _0x51d1dc=a3_0xe596d,_0x475f20=_0x5952c7[_0x51d1dc(0xe9)](),_0x1f638f=String(_0x5952c7[_0x51d1dc(0x188)]()+0x1)['padStart'](0x2,'0'),_0x2976b9=String(_0x5952c7[_0x51d1dc(0x179)]())[_0x51d1dc(0x18a)](0x2,'0');return _0x475f20+'-'+_0x1f638f+'-'+_0x2976b9;}function getStartOfWeek(_0x26fd8a){const _0x4bda13=a3_0xe596d,_0xcf04b1=new Date(_0x26fd8a),_0x58f453=_0xcf04b1[_0x4bda13(0x183)](),_0x548aaf=_0xcf04b1[_0x4bda13(0x179)]()-_0x58f453+(_0x58f453===0x0?-0x6:0x1);return _0xcf04b1[_0x4bda13(0xaf)](_0x548aaf),_0xcf04b1[_0x4bda13(0xf5)](0x0,0x0,0x0,0x0),_0xcf04b1;}function scrollToToday(){const _0x21c431=getLocalDateStr(new Date());setTimeout(()=>{const _0x49e51e=a3_0x3048,_0xbf81ae=document['querySelector'](_0x49e51e(0x111)+_0x21c431+'\x22]');if(_0xbf81ae){const _0x417321=document[_0x49e51e(0xe2)](_0x49e51e(0x16e)),_0x1667fc=_0xbf81ae[_0x49e51e(0x127)]-_0x417321[_0x49e51e(0x13c)]/0x2+_0xbf81ae[_0x49e51e(0xbb)]/0x2;_0x417321[_0x49e51e(0x145)]({'left':_0x1667fc,'behavior':_0x49e51e(0xff)}),_0x417321[_0x49e51e(0x10f)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5d6f75=a3_0xe596d,_0x1e8486=new Date(),_0x5a5246=document[_0x5d6f75(0xe2)](_0x5d6f75(0x156)),_0x535605=document[_0x5d6f75(0xe2)]('timeLineBadge'),_0x3e34ad=(_0x1e8486[_0x5d6f75(0x170)]()*0x3c+_0x1e8486[_0x5d6f75(0xab)]())/0x3c*GRID_H;_0x5a5246[_0x5d6f75(0xbd)][_0x5d6f75(0x131)]=_0x3e34ad+'px',_0x5a5246[_0x5d6f75(0xbd)][_0x5d6f75(0x100)]='block',_0x535605[_0x5d6f75(0xbd)][_0x5d6f75(0x131)]=_0x3e34ad+'px',_0x535605[_0x5d6f75(0xbd)]['display']=_0x5d6f75(0xb2),_0x535605[_0x5d6f75(0xa9)]=String(_0x1e8486[_0x5d6f75(0x170)]())['padStart'](0x2,'0')+':'+String(_0x1e8486[_0x5d6f75(0xab)]())[_0x5d6f75(0x18a)](0x2,'0');}function onScroll(){const _0x4e21f4=a3_0xe596d,_0x14348c=document[_0x4e21f4(0xe2)](_0x4e21f4(0x16e)),_0x2945fc=document[_0x4e21f4(0x166)](_0x4e21f4(0xd1));for(let _0x4ff7fa of _0x2945fc)if(_0x4ff7fa[_0x4e21f4(0x127)]>=_0x14348c[_0x4e21f4(0x175)]){const _0x79520f=new Date(_0x4ff7fa['getAttribute'](_0x4e21f4(0x13b)));document[_0x4e21f4(0xe2)](_0x4e21f4(0xd2))[_0x4e21f4(0xa9)]=_0x79520f[_0x4e21f4(0x15b)]('ru',{'month':_0x4e21f4(0x136)})[_0x4e21f4(0xad)]()+'\x20'+_0x79520f[_0x4e21f4(0xe9)]();break;}}function showToast(_0x475e21){const _0x449248=a3_0xe596d,_0x80f1db=document[_0x449248(0xe2)](_0x449248(0x12a));_0x80f1db[_0x449248(0xa9)]=_0x475e21,_0x80f1db['classList'][_0x449248(0x197)]('show'),setTimeout(()=>_0x80f1db[_0x449248(0x14c)][_0x449248(0x17f)](_0x449248(0x186)),0x7d0);}function handleInfiniteScroll(){const _0x4d021a=a3_0xe596d,_0x5a0da5=document[_0x4d021a(0xe2)](_0x4d021a(0x16e)),_0x4d65de=_0x5a0da5[_0x4d021a(0x175)],_0x472173=_0x5a0da5[_0x4d021a(0xc1)],_0x210835=_0x5a0da5[_0x4d021a(0x13c)];if(_0x472173-(_0x4d65de+_0x210835)<0x12c){const _0x4b9a2b=endOffset;endOffset+=0xe,renderDayRange(_0x4b9a2b+0x1,endOffset),reRenderBlocks();}if(_0x4d65de<0x12c){const _0x1650d9=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1650d9-0x1),_0x5a0da5['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x364f91,_0x2b865e){const _0x3fc1d3=a3_0xe596d,_0xf15ba7=document['getElementById'](_0x3fc1d3(0xe8)),_0x1be422=document[_0x3fc1d3(0xe2)](_0x3fc1d3(0x19b)),_0x563c13=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x799b8d=new Date();_0x799b8d['setHours'](0x0,0x0,0x0,0x0);const _0x4a7ff6=getLocalDateStr(new Date()),_0x19fd1e=document[_0x3fc1d3(0x104)](),_0x320605=document[_0x3fc1d3(0x104)]();for(let _0x2d447f=_0x364f91;_0x2d447f<=_0x2b865e;_0x2d447f++){const _0x37f00e=new Date(_0x799b8d);_0x37f00e['setDate'](_0x37f00e[_0x3fc1d3(0x179)]()+_0x2d447f);const _0x4169cf=getLocalDateStr(_0x37f00e);let _0x1e71b3=_0x37f00e[_0x3fc1d3(0x183)]()-0x1;if(_0x1e71b3===-0x1)_0x1e71b3=0x6;const _0x4a5369=_0x4169cf===_0x4a7ff6,_0x5bfd68=document[_0x3fc1d3(0x11b)](_0x3fc1d3(0xec));_0x5bfd68[_0x3fc1d3(0x17e)]='day-col-header\x20'+(_0x4a5369?_0x3fc1d3(0xac):''),_0x5bfd68[_0x3fc1d3(0x15c)](_0x3fc1d3(0x13b),_0x4169cf),_0x5bfd68[_0x3fc1d3(0xf6)]=_0x3fc1d3(0x11d)+_0x563c13[_0x1e71b3]+_0x3fc1d3(0x9e)+_0x37f00e[_0x3fc1d3(0x179)]()+_0x3fc1d3(0x192),_0x19fd1e['appendChild'](_0x5bfd68);const _0xa97889=document[_0x3fc1d3(0x11b)](_0x3fc1d3(0xec));_0xa97889[_0x3fc1d3(0x17e)]=_0x3fc1d3(0x149)+(_0x4a5369?_0x3fc1d3(0xac):''),_0xa97889[_0x3fc1d3(0x15c)]('data-date',_0x4169cf),_0xa97889[_0x3fc1d3(0x15c)]('data-day-idx',_0x1e71b3),_0x320605[_0x3fc1d3(0x11e)](_0xa97889);}_0xf15ba7[_0x3fc1d3(0xe7)](_0x19fd1e,_0xf15ba7[_0x3fc1d3(0x11a)]),_0x1be422[_0x3fc1d3(0xe7)](_0x320605,_0x1be422[_0x3fc1d3(0x13d)](_0x3fc1d3(0x115)));}function hexToRgba(_0x52cb9b,_0x233175){const _0x5f22b4=a3_0xe596d;let _0x3b58f1;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x5f22b4(0xb6)](_0x52cb9b))return _0x3b58f1=_0x52cb9b['substring'](0x1)[_0x5f22b4(0x19a)](''),_0x3b58f1[_0x5f22b4(0x17b)]==0x3&&(_0x3b58f1=[_0x3b58f1[0x0],_0x3b58f1[0x0],_0x3b58f1[0x1],_0x3b58f1[0x1],_0x3b58f1[0x2],_0x3b58f1[0x2]]),_0x3b58f1='0x'+_0x3b58f1['join'](''),_0x5f22b4(0x13e)+[_0x3b58f1>>0x10&0xff,_0x3b58f1>>0x8&0xff,_0x3b58f1&0xff][_0x5f22b4(0x157)](',')+','+_0x233175+')';return'rgba(10,\x20132,\x20255,\x20'+_0x233175+')';}let confirmResolver=null;function showCustomConfirm(_0x30efa3,_0x7fe681,_0xaf03f9=!![]){const _0x354aae=a3_0xe596d;document['getElementById'](_0x354aae(0x143))[_0x354aae(0xa9)]=_0x30efa3,document['getElementById'](_0x354aae(0xbe))[_0x354aae(0xa9)]=_0x7fe681;const _0x4761ea=document[_0x354aae(0xe2)](_0x354aae(0x134));return _0xaf03f9?(_0x4761ea['style'][_0x354aae(0x191)]=_0x354aae(0x151),_0x4761ea[_0x354aae(0xbd)][_0x354aae(0xc6)]='600'):(_0x4761ea[_0x354aae(0xbd)]['color']=_0x354aae(0xce),_0x4761ea[_0x354aae(0xbd)]['fontWeight']='600'),new Promise(_0x2df101=>{const _0x573abb=_0x354aae;confirmResolver=_0x2df101,document[_0x573abb(0xe2)](_0x573abb(0xd9))[_0x573abb(0x14c)]['add'](_0x573abb(0x124));});}function resolveCustomConfirm(_0xeb4d1f){const _0x3929d4=a3_0xe596d;document[_0x3929d4(0xe2)](_0x3929d4(0xd9))[_0x3929d4(0x14c)][_0x3929d4(0x17f)]('visible');if(confirmResolver)confirmResolver(_0xeb4d1f);}async function tryCancelCurrentSession(){const _0x68a6b1=a3_0xe596d;if(!currentSession)return;const _0x2c5b72=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x68a6b1(0xd3),!![]);if(!_0x2c5b72)return;const _0x3719e0=currentSession;closeAllSheets(),sessions=sessions['filter'](_0xb0c0e4=>_0xb0c0e4['id']!==_0x3719e0['id']),reRenderBlocks(),showToast(_0x68a6b1(0xb8)),lastUserActionTime=Date[_0x68a6b1(0x112)]();try{const _0x28f223=window[_0x68a6b1(0x187)]?.[_0x68a6b1(0x19c)],_0x586cea=await fetch(API_URL,{'method':_0x68a6b1(0x181),'body':JSON[_0x68a6b1(0xfa)]({'action':'client_cancel','init_data':_0x28f223?.[_0x68a6b1(0x14a)]||'','coachId':_0x3719e0[_0x68a6b1(0xf0)],'dateStr':_0x3719e0[_0x68a6b1(0x16b)],'sessionId':_0x3719e0['id']})});if(_0x586cea['ok'])DataManager['saveLocally']();}catch(_0x2451ec){showToast(_0x68a6b1(0x17a));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x523c33=a3_0xe596d;if(!currentSession)return;document['getElementById']('detailsSheet')[_0x523c33(0x14c)][_0x523c33(0x17f)](_0x523c33(0x189)),document[_0x523c33(0xe2)](_0x523c33(0x123))['classList'][_0x523c33(0x197)](_0x523c33(0x189));const _0x40fa2d=document[_0x523c33(0xe2)](_0x523c33(0xf2)),_0x3ece9a=document[_0x523c33(0xe2)](_0x523c33(0xa1));_0x40fa2d['innerHTML']='',_0x3ece9a[_0x523c33(0xf6)]=_0x523c33(0x130);const [_0x298f28,_0x544446]=currentSession[_0x523c33(0x18b)][_0x523c33(0x19a)](':')[_0x523c33(0xca)](Number),[_0x20f2cb,_0x67b547]=currentSession[_0x523c33(0x122)]['split'](':')['map'](Number),_0x45d21b=_0x20f2cb*0x3c+_0x67b547-(_0x298f28*0x3c+_0x544446);try{const _0x35a49a=window[_0x523c33(0x187)]?.[_0x523c33(0x19c)],_0x29b486=await fetch(API_URL,{'method':_0x523c33(0x181),'body':JSON['stringify']({'action':'get_slots','coachId':currentSession[_0x523c33(0xf0)],'duration':_0x45d21b,'init_data':_0x35a49a?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x5b463a=await _0x29b486[_0x523c33(0xae)]();_0x5b463a['ok']&&_0x5b463a[_0x523c33(0xcc)]?(availableSlotsCache=_0x5b463a[_0x523c33(0xcc)],renderRescheduleDates()):_0x3ece9a[_0x523c33(0xf6)]=_0x523c33(0x167);}catch(_0x1e67c2){_0x3ece9a[_0x523c33(0xf6)]=_0x523c33(0x165);}}function renderRescheduleDates(){const _0x185328=a3_0xe596d,_0x1d55ad=document[_0x185328(0xe2)](_0x185328(0xf2));_0x1d55ad[_0x185328(0xf6)]='';const _0xfee5d5=Object[_0x185328(0xd6)](availableSlotsCache)[_0x185328(0x17d)](),_0x34b9b2=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0xfee5d5['length']===0x0){document[_0x185328(0xe2)]('rsSlotsGrid')[_0x185328(0xf6)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0xfee5d5[_0x185328(0xb3)]((_0x3b8bd0,_0x3cce25)=>{const _0x278949=_0x185328,_0xa0cc29=new Date(_0x3b8bd0),_0x2aaf00=_0x34b9b2[_0xa0cc29[_0x278949(0x183)]()],_0xad1dcc=_0xa0cc29[_0x278949(0x179)](),_0xeecce5=document[_0x278949(0x11b)]('div');_0xeecce5[_0x278949(0x17e)]=_0x278949(0x10b);if(_0x3cce25===0x0)_0xeecce5['classList'][_0x278949(0x197)](_0x278949(0xc4));_0xeecce5[_0x278949(0xf6)]=_0x278949(0xea)+_0x2aaf00+_0x278949(0x172)+_0xad1dcc+_0x278949(0x192),_0xeecce5[_0x278949(0x101)]=()=>selectRsDate(_0x3b8bd0,_0xeecce5),_0x1d55ad[_0x278949(0x11e)](_0xeecce5);}),selectRsDate(_0xfee5d5[0x0],_0x1d55ad[_0x185328(0x11a)]);}function selectRsDate(_0x4b0231,_0xab5b34){const _0x3c2a85=a3_0xe596d;selectedRsDate=_0x4b0231,document[_0x3c2a85(0x166)](_0x3c2a85(0xf4))['forEach'](_0x2e4195=>_0x2e4195[_0x3c2a85(0x14c)][_0x3c2a85(0x17f)](_0x3c2a85(0xc4)));if(_0xab5b34)_0xab5b34[_0x3c2a85(0x14c)][_0x3c2a85(0x197)]('active');const _0x33f2ae=document['getElementById'](_0x3c2a85(0xa1));_0x33f2ae[_0x3c2a85(0xf6)]='';const _0x4d1c85=availableSlotsCache[_0x4b0231]||[];if(_0x4d1c85[_0x3c2a85(0x17b)]===0x0){_0x33f2ae['innerHTML']=_0x3c2a85(0x167);return;}_0x4d1c85['forEach'](_0x8919f6=>{const _0xd3d9ce=_0x3c2a85,_0x2b7525=document[_0xd3d9ce(0x11b)]('button');_0x2b7525[_0xd3d9ce(0x17e)]='rs-time-btn',_0x2b7525['textContent']=_0x8919f6,_0x2b7525[_0xd3d9ce(0x101)]=()=>confirmReschedule(_0x8919f6),_0x33f2ae[_0xd3d9ce(0x11e)](_0x2b7525);});}async function confirmReschedule(_0x4c8ef6){const _0x113d7f=a3_0xe596d,_0x1270f2=new Date(selectedRsDate),_0x964988=_0x1270f2['toLocaleDateString'](_0x113d7f(0x133),{'day':_0x113d7f(0xf1),'month':_0x113d7f(0x136)}),_0x417dce=await showCustomConfirm(_0x113d7f(0x139),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x964988+_0x113d7f(0x15e)+_0x4c8ef6+'?',![]);if(!_0x417dce)return;closeAllSheets(),showToast(_0x113d7f(0xe6)),lastUserActionTime=Date['now']();const _0x14f89c=currentSession[_0x113d7f(0x16b)],_0x335500=currentSession['id'],[_0x2682a0,_0x72fcdb]=currentSession[_0x113d7f(0x18b)][_0x113d7f(0x19a)](':')[_0x113d7f(0xca)](Number),[_0x380927,_0x36b782]=currentSession[_0x113d7f(0x122)]['split'](':')['map'](Number),_0x20a205=_0x380927*0x3c+_0x36b782-(_0x2682a0*0x3c+_0x72fcdb),[_0x325d79,_0x262b6c]=_0x4c8ef6[_0x113d7f(0x19a)](':')[_0x113d7f(0xca)](Number),_0x5cf5f2=_0x325d79*0x3c+_0x262b6c+_0x20a205,_0x285b02=Math[_0x113d7f(0xd7)](_0x5cf5f2/0x3c),_0xb862cb=_0x5cf5f2%0x3c,_0x5f134a=String(_0x285b02)[_0x113d7f(0x18a)](0x2,'0')+':'+String(_0xb862cb)['padStart'](0x2,'0'),_0x42d21b=sessions[_0x113d7f(0x158)](_0x4483db=>_0x4483db['id']===_0x335500);_0x42d21b!==-0x1&&(sessions[_0x42d21b][_0x113d7f(0x16b)]=selectedRsDate,sessions[_0x42d21b][_0x113d7f(0x18b)]=_0x4c8ef6,sessions[_0x42d21b][_0x113d7f(0x122)]=_0x5f134a,reRenderBlocks());try{const _0x48067c=window['Telegram']?.[_0x113d7f(0x19c)],_0x3f9b39=await fetch(API_URL,{'method':_0x113d7f(0x181),'body':JSON['stringify']({'action':_0x113d7f(0xc8),'init_data':_0x48067c?.[_0x113d7f(0x14a)]||'','oldSessionId':_0x335500,'oldDate':_0x14f89c,'newDate':selectedRsDate,'newTime':_0x4c8ef6,'coachId':currentSession[_0x113d7f(0xf0)]})}),_0x428dd8=await _0x3f9b39['json']();!_0x428dd8['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x113d7f(0x171)]()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager[_0x113d7f(0xd0)]());}catch(_0x5638ce){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}function a3_0x3048(_0x3e0779,_0x23dbf0){_0x3e0779=_0x3e0779-0x9d;const _0x4d72f7=a3_0x1a0f();let _0x32381e=_0x4d72f7[_0x3e0779];return _0x32381e;}document[a3_0xe596d(0x17c)](a3_0xe596d(0xa2),init);