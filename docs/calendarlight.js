const a3_0x483235=a3_0x194f;(function(_0x15fe21,_0x2f5912){const _0x53cbc1=a3_0x194f,_0x3dd5a5=_0x15fe21();while(!![]){try{const _0x2db53c=parseInt(_0x53cbc1(0xd2))/0x1+parseInt(_0x53cbc1(0x126))/0x2*(-parseInt(_0x53cbc1(0x16d))/0x3)+parseInt(_0x53cbc1(0x1b3))/0x4+-parseInt(_0x53cbc1(0x148))/0x5+parseInt(_0x53cbc1(0x1b9))/0x6*(parseInt(_0x53cbc1(0x118))/0x7)+parseInt(_0x53cbc1(0x11c))/0x8+parseInt(_0x53cbc1(0x108))/0x9*(-parseInt(_0x53cbc1(0x1af))/0xa);if(_0x2db53c===_0x2f5912)break;else _0x3dd5a5['push'](_0x3dd5a5['shift']());}catch(_0xae63c){_0x3dd5a5['push'](_0x3dd5a5['shift']());}}}(a3_0x3f61,0x6aca8));const APP_VERSION=a3_0x483235(0xe5),API_URL=a3_0x483235(0x165),GRID_H=0x3c,KEY_SESSIONS=a3_0x483235(0x181),KEY_SETTINGS=a3_0x483235(0xcf),KEY_CLIENTS=a3_0x483235(0x197);function a3_0x194f(_0x4198ab,_0x1e7a72){_0x4198ab=_0x4198ab-0xcd;const _0x356339=a3_0x3f61();let _0x5914b9=_0x356339[_0x4198ab];return _0x5914b9;}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x402c7e=a3_0x483235,_0x54823c=(function(){let _0x2bb629=!![];return function(_0xb640f3,_0x551c08){const _0xbff8f5=_0x2bb629?function(){const _0x42be03=a3_0x194f;if(_0x551c08){const _0x292fee=_0x551c08[_0x42be03(0xfb)](_0xb640f3,arguments);return _0x551c08=null,_0x292fee;}}:function(){};return _0x2bb629=![],_0xbff8f5;};}()),_0x50b858=_0x54823c(this,function(){const _0x19ce8f=a3_0x194f;return _0x50b858[_0x19ce8f(0x1a9)]()[_0x19ce8f(0xe3)](_0x19ce8f(0xd9))['toString']()[_0x19ce8f(0x135)](_0x50b858)[_0x19ce8f(0xe3)](_0x19ce8f(0xd9));});_0x50b858();try{const _0x55da80=window[_0x402c7e(0x18c)]?.[_0x402c7e(0x1c7)];if(!_0x55da80)return;_0x55da80['ready'](),_0x55da80[_0x402c7e(0x160)]();try{_0x55da80[_0x402c7e(0x142)]('#050505'),_0x55da80[_0x402c7e(0x19c)]&&_0x55da80['setBackgroundColor'](_0x402c7e(0x189));}catch(_0x4fdd1a){console['log'](_0x402c7e(0x184),_0x4fdd1a);}try{_0x55da80[_0x402c7e(0xef)]&&(_0x55da80[_0x402c7e(0xef)][_0x402c7e(0xd1)](),_0x55da80[_0x402c7e(0xef)][_0x402c7e(0x144)](),_0x55da80[_0x402c7e(0xef)]['onClick'](function(){const _0x1d5b0d=_0x402c7e;window['location']['href']=_0x1d5b0d(0x14f);}));}catch(_0x5775d3){console[_0x402c7e(0xfc)](_0x402c7e(0x19e),_0x5775d3);}try{if(_0x55da80[_0x402c7e(0x170)])_0x55da80[_0x402c7e(0x170)]();}catch(_0x11066e){}}catch(_0x5de9a3){console[_0x402c7e(0x13e)]('Critical\x20TMA\x20Error:',_0x5de9a3);}}());function isAdmin(){const _0x4e2360=a3_0x483235;try{const _0x23410c=Number(window[_0x4e2360(0x18c)]?.[_0x4e2360(0x1c7)]?.[_0x4e2360(0x15d)]?.[_0x4e2360(0xf6)]?.['id']);return _0x23410c===0xbaf7174;}catch(_0x302c7e){return![];}}const DataManager={'saveLocally'(){const _0x111bd4=a3_0x483235;try{localStorage[_0x111bd4(0x13a)](KEY_SESSIONS,JSON[_0x111bd4(0xeb)](sessions)),localStorage[_0x111bd4(0x13a)](KEY_CLIENTS,JSON[_0x111bd4(0xeb)](clients)),localStorage[_0x111bd4(0x13a)](KEY_SETTINGS,JSON[_0x111bd4(0xeb)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1f2b36){}},'loadLocal'(){const _0x1b24b8=a3_0x483235;try{const _0x15ef27=localStorage['getItem'](KEY_SESSIONS);if(_0x15ef27)sessions=JSON[_0x1b24b8(0x164)](_0x15ef27);const _0x430ebd=localStorage[_0x1b24b8(0xfd)](KEY_CLIENTS);if(_0x430ebd)clients=JSON[_0x1b24b8(0x164)](_0x430ebd);const _0x5d7243=localStorage[_0x1b24b8(0xfd)](KEY_SETTINGS);if(_0x5d7243){const _0x492121=JSON[_0x1b24b8(0x164)](_0x5d7243);if(_0x492121[_0x1b24b8(0x167)])availabilityPattern=_0x492121['pattern'];if(_0x492121[_0x1b24b8(0x1a7)])specialRanges=_0x492121[_0x1b24b8(0x1a7)];if(_0x492121[_0x1b24b8(0xf5)])dateExceptions=_0x492121[_0x1b24b8(0xf5)];}}catch(_0x581c31){}},async 'syncLoad'(){const _0x108279=a3_0x483235,_0x103067=new Date(),_0x5e942d=_0x103067[_0x108279(0x140)]()+'-'+String(_0x103067[_0x108279(0x1b7)]()+0x1)[_0x108279(0x180)](0x2,'0'),_0x7e0678=new Date(_0x103067);_0x7e0678[_0x108279(0x104)](_0x103067['getMonth']()+0x1);const _0x5c86c0=_0x7e0678[_0x108279(0x140)]()+'-'+String(_0x7e0678[_0x108279(0x1b7)]()+0x1)[_0x108279(0x180)](0x2,'0'),_0x527d58=Date[_0x108279(0x1ab)]();try{const _0x263d8a=window[_0x108279(0x18c)]?.[_0x108279(0x1c7)],_0x5980f2=_0x263d8a?.['initData']||'',[_0x379536,_0x31b4ba]=await Promise['all']([fetch(API_URL,{'method':_0x108279(0x12f),'body':JSON[_0x108279(0xeb)]({'action':_0x108279(0xe2),'init_data':_0x5980f2,'month_str':_0x5e942d})})[_0x108279(0x14a)](_0x522ca3=>_0x522ca3[_0x108279(0x183)]()),fetch(API_URL,{'method':_0x108279(0x12f),'body':JSON[_0x108279(0xeb)]({'action':_0x108279(0xe2),'init_data':_0x5980f2,'month_str':_0x5c86c0})})[_0x108279(0x14a)](_0x2cad32=>_0x2cad32[_0x108279(0x183)]())]);if(lastUserActionTime>_0x527d58){console[_0x108279(0xfc)](_0x108279(0xda));return;}if(_0x379536['ok'])this[_0x108279(0x106)](_0x379536[_0x108279(0x149)],_0x5e942d);if(_0x31b4ba['ok'])this[_0x108279(0x106)](_0x31b4ba[_0x108279(0x149)],_0x5c86c0);this[_0x108279(0x188)]();}catch(_0x26d110){}},'applyData'(_0x5d5492,_0x3277c3){const _0x15db4d=a3_0x483235;if(!_0x5d5492)return;if(_0x5d5492[_0x15db4d(0x134)]){if(_0x5d5492[_0x15db4d(0x134)][_0x15db4d(0x167)])availabilityPattern=_0x5d5492[_0x15db4d(0x134)][_0x15db4d(0x167)];if(_0x5d5492[_0x15db4d(0x134)]['ranges'])specialRanges=_0x5d5492[_0x15db4d(0x134)][_0x15db4d(0x1a7)];if(_0x5d5492[_0x15db4d(0x134)][_0x15db4d(0xf5)])dateExceptions=_0x5d5492['settings']['exceptions'];}if(_0x5d5492[_0x15db4d(0xd5)]&&Array['isArray'](_0x5d5492[_0x15db4d(0xd5)]))clients=_0x5d5492['clients'];_0x5d5492['coach_profiles']&&(coachProfiles={...coachProfiles,..._0x5d5492[_0x15db4d(0xfe)]}),_0x5d5492[_0x15db4d(0x162)]&&(sessions=sessions[_0x15db4d(0x1b1)](_0xc88ff=>!_0xc88ff[_0x15db4d(0x103)][_0x15db4d(0x152)](_0x3277c3)),Object[_0x15db4d(0x1a0)](_0x5d5492[_0x15db4d(0x162)])['forEach'](_0x268f8e=>{const _0x472c63=_0x15db4d,_0x348bd6=_0x5d5492[_0x472c63(0x162)][_0x268f8e];_0x348bd6[_0x472c63(0x1b0)](_0x578cf3=>{const _0xbed618=_0x472c63;sessions[_0xbed618(0x1bb)]({'id':_0x578cf3['i'],'clientId':_0x578cf3['c'],'coachId':_0x578cf3[_0xbed618(0x196)],'dateStr':_0x3277c3+'-'+_0x268f8e[_0xbed618(0x180)](0x2,'0'),'start':_0x578cf3['s'],'end':_0x578cf3['e'],'note':_0x578cf3['n']||'','status':_0x578cf3['st']||_0xbed618(0x123),'seriesId':_0x578cf3['sid']});});})),reRenderBlocks();}};function init(){const _0x3c86f8=a3_0x483235;DataManager[_0x3c86f8(0x1bd)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3c86f8(0x119)]('matrixViewport')['addEventListener'](_0x3c86f8(0x14c),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x17d663=a3_0x483235,_0x2f21ab=document['getElementById'](_0x17d663(0x1a4)),_0x493810=document[_0x17d663(0x119)](_0x17d663(0x153));_0x2f21ab[_0x17d663(0x169)]='',_0x2f21ab[_0x17d663(0x130)](_0x493810);for(let _0x5017ad=0x0;_0x5017ad<0x18;_0x5017ad++){const _0x2d3c40=document['createElement'](_0x17d663(0xed));_0x2d3c40[_0x17d663(0xe1)]=_0x17d663(0x18a);if(_0x5017ad>0x0)_0x2d3c40['innerHTML']='<span>'+String(_0x5017ad)[_0x17d663(0x180)](0x2,'0')+_0x17d663(0x1c2);_0x2f21ab[_0x17d663(0x130)](_0x2d3c40);}}function renderDayRange(_0x19ad8e,_0x5788c7){const _0x417903=a3_0x483235,_0x4f411a=document[_0x417903(0x119)](_0x417903(0x18d)),_0x290dc9=document[_0x417903(0x119)](_0x417903(0x15c)),_0x51efaa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4d36d8=new Date();_0x4d36d8[_0x417903(0x1b8)](0x0,0x0,0x0,0x0);const _0x895fb7=getLocalDateStr(new Date());for(let _0x2ad363=_0x19ad8e;_0x2ad363<=_0x5788c7;_0x2ad363++){const _0x24b76d=new Date(_0x4d36d8);_0x24b76d[_0x417903(0x16f)](_0x24b76d[_0x417903(0xec)]()+_0x2ad363);const _0xafdf9c=getLocalDateStr(_0x24b76d);let _0x499efb=_0x24b76d[_0x417903(0x1a5)]()-0x1;if(_0x499efb===-0x1)_0x499efb=0x6;const _0x4e2124=_0xafdf9c===_0x895fb7,_0xd3bad=document[_0x417903(0x195)]('div');_0xd3bad[_0x417903(0xe1)]='day-col-header\x20'+(_0x4e2124?_0x417903(0x1be):''),_0xd3bad[_0x417903(0x1cb)](_0x417903(0x16e),_0xafdf9c),_0xd3bad[_0x417903(0x169)]=_0x417903(0x166)+_0x51efaa[_0x499efb]+_0x417903(0x15f)+_0x24b76d['getDate']()+_0x417903(0x16b),_0x4f411a[_0x417903(0x130)](_0xd3bad);const _0x348fcb=document[_0x417903(0x195)](_0x417903(0xed));_0x348fcb[_0x417903(0xe1)]=_0x417903(0x186)+(_0x4e2124?'today':''),_0x348fcb['setAttribute'](_0x417903(0x16e),_0xafdf9c),_0x348fcb[_0x417903(0x1cb)](_0x417903(0x17c),_0x499efb),_0x290dc9[_0x417903(0x130)](_0x348fcb);}}function reRenderBlocks(){const _0x3867d3=a3_0x483235;document[_0x3867d3(0xff)](_0x3867d3(0xf8))[_0x3867d3(0x1b0)](_0x4ea8f9=>{const _0x29960d=_0x3867d3;_0x4ea8f9[_0x29960d(0xff)](_0x29960d(0xce))[_0x29960d(0x1b0)](_0xdb64ac=>_0xdb64ac['remove']());const _0x4c11ef=_0x4ea8f9['getAttribute']('data-date'),_0x2af078=parseInt(_0x4ea8f9[_0x29960d(0x1a6)](_0x29960d(0x17c))),_0x8f232=Math[_0x29960d(0x155)](_0x4ea8f9[_0x29960d(0x1c6)]);(availabilityPattern[_0x2af078]||[])['forEach'](_0x1796f9=>{const _0x3c65cf=_0x29960d,_0x29a2c2=document[_0x3c65cf(0x195)](_0x3c65cf(0xed));_0x29a2c2[_0x3c65cf(0xe1)]=_0x3c65cf(0x191),_0x29a2c2[_0x3c65cf(0xdd)][_0x3c65cf(0x185)]=_0x1796f9*GRID_H+'px',_0x29a2c2[_0x3c65cf(0xdd)][_0x3c65cf(0x177)]='-'+_0x8f232+_0x3c65cf(0x12d)+_0x1796f9*GRID_H+'px',_0x4ea8f9[_0x3c65cf(0x130)](_0x29a2c2);});if(specialRanges[_0x29960d(0x105)]>0x0){const _0x1c713d=new Date(_0x4c11ef+_0x29960d(0x17e))[_0x29960d(0x10b)](),_0x271f00=new Date(_0x4c11ef+_0x29960d(0x1ca))[_0x29960d(0x10b)]();specialRanges['forEach'](_0x411dca=>{const _0x5e6d84=_0x29960d,_0x53361a=new Date(_0x411dca['start'])[_0x5e6d84(0x10b)](),_0x4c13b1=new Date(_0x411dca[_0x5e6d84(0xcd)])[_0x5e6d84(0x10b)](),_0xc319f1=Math[_0x5e6d84(0x18e)](_0x1c713d,_0x53361a),_0x57f82f=Math['min'](_0x271f00,_0x4c13b1);if(_0xc319f1<_0x57f82f){const _0x3808d2=(_0xc319f1-_0x1c713d)/0x36ee80*GRID_H,_0x5a5c59=(_0x57f82f-_0xc319f1)/0x36ee80*GRID_H,_0xd5ce24=document['createElement'](_0x5e6d84(0xed));_0x5a5c59>=23.5*GRID_H?(_0xd5ce24[_0x5e6d84(0xe1)]=_0x5e6d84(0x10f),_0xd5ce24[_0x5e6d84(0xdd)][_0x5e6d84(0x177)]='-'+_0x8f232+_0x5e6d84(0x1b5)):(_0xd5ce24['className']=_0x5e6d84(0xf2),_0xd5ce24[_0x5e6d84(0xdd)][_0x5e6d84(0x185)]=_0x3808d2+'px',_0xd5ce24[_0x5e6d84(0xdd)][_0x5e6d84(0x13b)]=_0x5a5c59+'px',_0xd5ce24[_0x5e6d84(0xdd)][_0x5e6d84(0x177)]='-'+_0x8f232+_0x5e6d84(0x12d)+_0x3808d2+'px'),_0x4ea8f9[_0x5e6d84(0x130)](_0xd5ce24);}});}renderEventsForColumn(_0x4ea8f9,_0x4c11ef);});}function renderEventsForColumn(_0x21dd79,_0x2e28da){const _0x51efb4=a3_0x483235,_0x3ff6ed=sessions[_0x51efb4(0x1b1)](_0x5ee1aa=>_0x5ee1aa[_0x51efb4(0x103)]===_0x2e28da),_0xac5dab=_0x3ff6ed[_0x51efb4(0x194)](_0x3a82d8=>{const _0x561e2d=_0x51efb4,[_0x5e5923,_0x3a9954]=_0x3a82d8[_0x561e2d(0x15a)][_0x561e2d(0x11d)](':')[_0x561e2d(0x194)](Number),[_0x5cba26,_0x27d280]=_0x3a82d8[_0x561e2d(0xcd)][_0x561e2d(0x11d)](':')[_0x561e2d(0x194)](Number);return{'data':_0x3a82d8,'start':_0x5e5923*0x3c+_0x3a9954,'end':_0x5cba26*0x3c+_0x27d280,'colIndex':0x0};});_0xac5dab[_0x51efb4(0x112)]((_0x3ab140,_0x4fd7ae)=>_0x3ab140['start']-_0x4fd7ae[_0x51efb4(0x15a)]||_0x4fd7ae[_0x51efb4(0xcd)]-_0x4fd7ae[_0x51efb4(0x15a)]-(_0x3ab140[_0x51efb4(0xcd)]-_0x3ab140[_0x51efb4(0x15a)]));const _0x481f92=[];_0xac5dab[_0x51efb4(0x1b0)](_0x4bd8b0=>{const _0xb415b1=_0x51efb4;let _0x525f82=![];for(let _0x1fc80e=0x0;_0x1fc80e<_0x481f92[_0xb415b1(0x105)];_0x1fc80e++){const _0x4b2044=_0x481f92[_0x1fc80e];if(_0x4bd8b0['start']>=_0x4b2044[_0x4b2044[_0xb415b1(0x105)]-0x1][_0xb415b1(0xcd)]){_0x4b2044[_0xb415b1(0x1bb)](_0x4bd8b0),_0x4bd8b0[_0xb415b1(0x1c3)]=_0x1fc80e,_0x525f82=!![];break;}}!_0x525f82&&(_0x481f92['push']([_0x4bd8b0]),_0x4bd8b0[_0xb415b1(0x1c3)]=_0x481f92[_0xb415b1(0x105)]-0x1);}),_0xac5dab['forEach'](_0x30ebc8=>{const _0x1a47eb=_0x51efb4;let _0x1aed4a=0x0;_0xac5dab[_0x1a47eb(0x1b0)](_0x2ea608=>{const _0x102ee3=_0x1a47eb;if(Math[_0x102ee3(0x18e)](_0x30ebc8[_0x102ee3(0x15a)],_0x2ea608['start'])<Math[_0x102ee3(0x17b)](_0x30ebc8[_0x102ee3(0xcd)],_0x2ea608[_0x102ee3(0xcd)])&&_0x2ea608['colIndex']>_0x1aed4a)_0x1aed4a=_0x2ea608['colIndex'];});const _0x562c09=_0x1aed4a+0x1,_0x1290f3=0x64/_0x562c09,_0x57f965=_0x30ebc8['colIndex']*_0x1290f3,_0x139673=document[_0x1a47eb(0x195)]('div'),_0x4bc062=_0x30ebc8[_0x1a47eb(0x149)];let _0x47313d=_0x1a47eb(0x182);if(clients&&clients[_0x1a47eb(0x105)]>0x0){const _0x5d2413=clients[_0x1a47eb(0x187)](_0x3af084=>String(_0x3af084['id'])===String(_0x4bc062[_0x1a47eb(0xf9)]));if(_0x5d2413&&_0x5d2413['color'])_0x47313d=_0x5d2413[_0x1a47eb(0x127)];}const _0x26e696=_0x4bc062[_0x1a47eb(0x11f)]===_0x1a47eb(0x17a),_0x18bb57=_0x26e696?0x1:0.45;_0x139673[_0x1a47eb(0xe1)]=_0x1a47eb(0x1a1)+(_0x26e696?'\x20status-completed':''),_0x139673['style'][_0x1a47eb(0x110)]=hexToRgba(_0x47313d,_0x18bb57),_0x139673[_0x1a47eb(0xdd)][_0x1a47eb(0x111)]=_0x47313d;const _0x424828=_0x30ebc8[_0x1a47eb(0x15a)]/0x3c*GRID_H,_0x1c6eb1=(_0x30ebc8[_0x1a47eb(0xcd)]-_0x30ebc8[_0x1a47eb(0x15a)])/0x3c*GRID_H;_0x139673[_0x1a47eb(0xdd)][_0x1a47eb(0x185)]=_0x424828+'px',_0x139673['style'][_0x1a47eb(0x13b)]=Math[_0x1a47eb(0x18e)](_0x1c6eb1,0x14)+'px',_0x139673[_0x1a47eb(0xdd)][_0x1a47eb(0x1a2)]=_0x1a47eb(0x13d)+_0x1290f3+_0x1a47eb(0x151),_0x139673[_0x1a47eb(0xdd)]['left']=_0x1a47eb(0x13d)+_0x57f965+_0x1a47eb(0x12e),_0x139673[_0x1a47eb(0xdd)]['zIndex']=0xa+_0x30ebc8[_0x1a47eb(0x1c3)];if(_0x1290f3<0x55)_0x139673['classList'][_0x1a47eb(0x131)](_0x1a47eb(0x156));let _0x504322='';if(_0x4bc062[_0x1a47eb(0x157)])_0x504322+=_0x1a47eb(0x14b);if(_0x26e696)_0x504322+=_0x1a47eb(0x1bc);_0x139673[_0x1a47eb(0x169)]=_0x1a47eb(0xf1)+_0x4bc062[_0x1a47eb(0x15a)]+_0x1a47eb(0xd6)+_0x4bc062[_0x1a47eb(0xcd)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x504322+_0x1a47eb(0x129),_0x139673[_0x1a47eb(0x1c5)]=_0x37d046=>{const _0x2e841c=_0x1a47eb;_0x37d046[_0x2e841c(0x139)](),openDetails(_0x4bc062);},_0x21dd79['appendChild'](_0x139673);});}function openAnalytics(){const _0x46bc0f=a3_0x483235,_0x5e30a5=document[_0x46bc0f(0x175)](_0x46bc0f(0x143));setAnalyticsPeriod(_0x46bc0f(0x1aa),_0x5e30a5),openSheet(_0x46bc0f(0x1a3));}function setAnalyticsPeriod(_0x5dc06c,_0xa3afda){const _0x328774=a3_0x483235;currentAnPeriod=_0x5dc06c,document['querySelectorAll'](_0x328774(0x143))[_0x328774(0x1b0)](_0xe71e6=>_0xe71e6['classList']['remove'](_0x328774(0xd8)));if(_0xa3afda)_0xa3afda[_0x328774(0x11e)][_0x328774(0x131)](_0x328774(0xd8));const _0x1ef605=document['getElementById'](_0x328774(0x178));_0x1ef605['style']['display']=_0x5dc06c==='custom'?'flex':'none';const _0x3e09a8=new Date();let _0x20f8de=new Date(),_0x393bc2=new Date();if(_0x5dc06c==='week')_0x20f8de=getStartOfWeek(_0x3e09a8),_0x393bc2=new Date(_0x20f8de),_0x393bc2['setDate'](_0x393bc2[_0x328774(0xec)]()+0x6);else{if(_0x5dc06c===_0x328774(0x1b4))_0x20f8de=new Date(_0x3e09a8['getFullYear'](),_0x3e09a8[_0x328774(0x1b7)](),0x1),_0x393bc2=new Date(_0x3e09a8[_0x328774(0x140)](),_0x3e09a8[_0x328774(0x1b7)]()+0x1,0x0);else{!document[_0x328774(0x119)](_0x328774(0x128))['value']&&(document[_0x328774(0x119)]('anStart')[_0x328774(0x10e)]=getLocalDateStr(_0x3e09a8),document[_0x328774(0x119)](_0x328774(0xe6))['value']=getLocalDateStr(_0x3e09a8));refreshAnalytics();return;}}document[_0x328774(0x119)](_0x328774(0x128))[_0x328774(0x10e)]=getLocalDateStr(_0x20f8de),document[_0x328774(0x119)](_0x328774(0xe6))[_0x328774(0x10e)]=getLocalDateStr(_0x393bc2),refreshAnalytics();}function refreshAnalytics(){const _0x311f75=a3_0x483235,_0x2dddbc=document[_0x311f75(0x119)](_0x311f75(0x128))[_0x311f75(0x10e)],_0x5586a3=document[_0x311f75(0x119)](_0x311f75(0xe6))[_0x311f75(0x10e)];if(!_0x2dddbc||!_0x5586a3)return;const _0x2ffd14=sessions['filter'](_0x24041b=>_0x24041b['dateStr']>=_0x2dddbc&&_0x24041b['dateStr']<=_0x5586a3&&_0x24041b[_0x311f75(0x11f)]!==_0x311f75(0x159)),_0x55d074=_0x2ffd14[_0x311f75(0x105)],_0x4be750=_0x2ffd14[_0x311f75(0x1b1)](_0x553062=>_0x553062[_0x311f75(0x11f)]===_0x311f75(0x17a))[_0x311f75(0x105)],_0x1b4b13=_0x55d074>0x0?Math[_0x311f75(0x155)](_0x4be750/_0x55d074*0x64):0x0;document[_0x311f75(0x119)]('anPercent')[_0x311f75(0x1b6)]=_0x1b4b13+'%',document[_0x311f75(0x119)](_0x311f75(0x168))[_0x311f75(0x1b6)]=_0x4be750+_0x311f75(0x171)+_0x55d074+_0x311f75(0x10c);const _0x2df544=document['getElementById'](_0x311f75(0xdb)),_0x43eaa3=0x2*Math['PI']*0x23,_0x58aa34=_0x43eaa3-_0x1b4b13/0x64*_0x43eaa3;_0x2df544[_0x311f75(0xdd)]['strokeDashoffset']=_0x58aa34;const _0x81a45b={};_0x2ffd14[_0x311f75(0x1b0)](_0x2fd8fd=>{const _0xe6565a=_0x311f75,_0x1cb4f5=_0x2fd8fd[_0xe6565a(0xf0)]||_0xe6565a(0xe4);if(!_0x81a45b[_0x1cb4f5]){const _0x264359='#'+_0x1cb4f5[_0xe6565a(0x1a9)]()[_0xe6565a(0x15b)](0x0,0x6);_0x81a45b[_0x1cb4f5]={'total':0x0,'done':0x0,'color':_0x264359};}_0x81a45b[_0x1cb4f5]['total']++;if(_0x2fd8fd['status']===_0xe6565a(0x17a))_0x81a45b[_0x1cb4f5][_0xe6565a(0x107)]++;});const _0x983db2=document[_0x311f75(0x119)](_0x311f75(0x1c4));_0x983db2['innerHTML']='';const _0x59de3b=Object[_0x311f75(0x163)](_0x81a45b)['sort']((_0x4f7ae9,_0x2abf48)=>_0x2abf48[0x1]['total']-_0x4f7ae9[0x1][_0x311f75(0x137)]);if(_0x59de3b[_0x311f75(0x105)]===0x0){_0x983db2['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x59de3b['forEach'](([_0x19d2d6,_0x407efc])=>{const _0x58f874=_0x311f75,_0x703ba6=Math['round'](_0x407efc[_0x58f874(0x107)]/_0x407efc[_0x58f874(0x137)]*0x64),_0x2c2bbe=document[_0x58f874(0x195)]('div');_0x2c2bbe[_0x58f874(0xe1)]=_0x58f874(0x14e),_0x2c2bbe[_0x58f874(0xdd)]['borderLeftColor']=_0x407efc[_0x58f874(0x127)],_0x2c2bbe[_0x58f874(0x169)]=_0x58f874(0xd0)+_0x19d2d6['substr'](0x0,0x5)+_0x58f874(0x1c0)+_0x407efc['done']+_0x58f874(0x113)+_0x407efc['total']+_0x58f874(0xdc)+_0x703ba6+_0x58f874(0xe8),_0x983db2[_0x58f874(0x130)](_0x2c2bbe);});}function a3_0x3f61(){const _0x29a2f0=['addEventListener','px\x20-','%\x20+\x202px)','POST','appendChild','add','.sheet','fontWeight','settings','constructor','syncLoad','total','day-col-header\x20','stopPropagation','setItem','height','–∑–∞\x20','calc(','error','rgba(','getFullYear','rescheduleSheet','setHeaderColor','.period-switch\x20.p-btn','offClick','var(--acc-blue)','\x20—á.','<div\x20class=\x22rs-day-name\x22>','11555XXzuLS','data','then','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','scroll','detStatus','client-stat-card','router.html','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','%\x20-\x204px)','startsWith','timeLineBadge','rs-time-btn','round','mini','seriesId','detailsSheet','cancelled','start','substr','gridColumns','initDataUnsafe','substring','</div><div\x20class=\x22dch-num\x22>','expand','slice','calendar','entries','parse','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','<div\x20class=\x22dch-day\x22>','pattern','anTotalStats','innerHTML','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','</div>','none','3ZNebOZ','data-date','setDate','disableVerticalSwipes','\x20–∏–∑\x20','get_slots','–û—Ç–º–µ–Ω–µ–Ω–æ','block','querySelector','visible','backgroundPosition','anCustomDates','rgba(10,\x20132,\x20255,\x20','completed','min','data-day-idx','toLocaleDateString','T00:00:00','getMinutes','padStart','uc_client_sessions','#0a84ff','json','Error\x20setting\x20color:','top','day-column\x20','find','saveLocally','#050505','time-label','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','Telegram','daysHeaderTrack','max','note','findIndex','blocked-slot\x20stripe-bg','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','detDate','map','createElement','cid','uc_client_list','toLocaleString','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','floor','ru-RU','setBackgroundColor','charAt','Error\x20setting\x20back\x20button:','#ff453a','keys','event-card','width','analyticsSheet','timeColumn','getDay','getAttribute','ranges','rsDatesTrack','toString','week','now','scrollTo','firstChild','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','360nbNljN','forEach','filter','cancel_window','1111836xIsRCJ','month','px\x200px','textContent','getMonth','setHours','2873118WcfSaF','.rs-date-chip','push','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','loadLocal','today','overlay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','toast',':00</span>','colIndex','analyticsList','onclick','offsetLeft','WebApp','insertBefore','clientWidth','T23:59:59','setAttribute','end','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','uc_client_settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','show','512521aszZUL','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','</div><div\x20class=\x22rs-day-num\x22>','clients','\x20-\x20','join','active','(((.+)+)+)+$','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','anDonutCircle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','style','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','cancelHint','headerMonth','className','client_load','search','Unknown','v9.5-CLIENT-ANALYTICS','anEnd','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','long','stringify','getDate','div','createDocumentFragment','BackButton','coachId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','blocked-range-part\x20stripe-bg','open','DOMContentLoaded','exceptions','user','scrollLeft','.day-column','clientId','var(--acc-green)','apply','log','getItem','coach_profiles','querySelectorAll','rsSlotsGrid','globalTimeLine','display','dateStr','setMonth','length','applyData','done','348363hkzfiZ','matrixViewport','detNote','getTime','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','customConfirm','value','day-off-overlay\x20stripe-bg','backgroundColor','borderLeftColor','sort','</span>\x20/\x20','cancelContainer','numeric','600','toUpperCase','7ZyWpiT','getElementById','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','auto','5036376KHduPF','split','classList','status','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','planned','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','reschedule','131402pUYpVP','color','anStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccTitle','remove'];a3_0x3f61=function(){return _0x29a2f0;};return a3_0x3f61();}function openDetails(_0x32cd73){const _0x17436c=a3_0x483235;currentSession=_0x32cd73;const _0x2338ac=new Date(_0x32cd73[_0x17436c(0x103)]),_0x26f3f7=_0x2338ac[_0x17436c(0x17d)](_0x17436c(0x19b),{'weekday':_0x17436c(0xea),'day':_0x17436c(0x115),'month':_0x17436c(0xea)});document['getElementById'](_0x17436c(0x193))[_0x17436c(0x1b6)]=_0x26f3f7[_0x17436c(0x19d)](0x0)['toUpperCase']()+_0x26f3f7[_0x17436c(0x161)](0x1),document['getElementById']('detTime')[_0x17436c(0x1b6)]=_0x32cd73[_0x17436c(0x15a)]+_0x17436c(0xd6)+_0x32cd73['end'],document[_0x17436c(0x119)](_0x17436c(0x10a))[_0x17436c(0x1b6)]=_0x32cd73[_0x17436c(0x18f)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x5ee58c=document['getElementById'](_0x17436c(0x14d)),_0x2749ad=document['getElementById'](_0x17436c(0x114)),_0x1810de=_0x2749ad[_0x17436c(0x175)]('.btn-cancel'),_0x571558=_0x2749ad[_0x17436c(0x175)]('.btn-reschedule'),_0xa44caa=document[_0x17436c(0x119)](_0x17436c(0xdf));if(_0x32cd73[_0x17436c(0x11f)]===_0x17436c(0x17a))_0x5ee58c['textContent']=_0x17436c(0xe7),_0x5ee58c['style'][_0x17436c(0x127)]=_0x17436c(0xfa),_0x2749ad[_0x17436c(0xdd)][_0x17436c(0x102)]=_0x17436c(0x16c);else{_0x5ee58c[_0x17436c(0x1b6)]=_0x17436c(0x18b),_0x5ee58c['style'][_0x17436c(0x127)]=_0x17436c(0x145),_0x2749ad[_0x17436c(0xdd)][_0x17436c(0x102)]=_0x17436c(0x174);const _0x3e1f23=new Date(_0x32cd73[_0x17436c(0x103)]+'T'+_0x32cd73[_0x17436c(0x15a)]),_0x143fd9=new Date(),_0xfbae80=(_0x3e1f23-_0x143fd9)/(0x3e8*0x3c*0x3c),_0x4dd404=coachProfiles[_0x32cd73[_0x17436c(0xf0)]]&&coachProfiles[_0x32cd73[_0x17436c(0xf0)]][_0x17436c(0x1b2)]?parseInt(coachProfiles[_0x32cd73[_0x17436c(0xf0)]]['cancel_window']):0x18;if(_0x4dd404===0x0||_0xfbae80>=_0x4dd404)_0x1810de[_0x17436c(0xdd)][_0x17436c(0x102)]=_0x17436c(0x174),_0x571558['style'][_0x17436c(0x102)]=_0x17436c(0x174),_0xa44caa['style']['display']=_0x17436c(0x16c);else{_0x1810de['style']['display']=_0x17436c(0x16c),_0x571558[_0x17436c(0xdd)][_0x17436c(0x102)]=_0x17436c(0x16c),_0xa44caa['style'][_0x17436c(0x102)]=_0x17436c(0x174);let _0x48cb85=_0x4dd404===0x0?_0x17436c(0x11a):_0x17436c(0x13c)+_0x4dd404+_0x17436c(0x146);_0xa44caa['textContent']=_0x17436c(0x120)+_0x48cb85+_0x17436c(0x150);}}document['getElementById'](_0x17436c(0x1bf))[_0x17436c(0x11e)][_0x17436c(0x131)](_0x17436c(0xd8)),document[_0x17436c(0x119)](_0x17436c(0x158))['classList'][_0x17436c(0x131)](_0x17436c(0xf3));}function closeAllSheets(){const _0x8b1604=a3_0x483235;document['getElementById']('overlay')[_0x8b1604(0x11e)][_0x8b1604(0x12b)](_0x8b1604(0xd8)),document[_0x8b1604(0xff)](_0x8b1604(0x132))['forEach'](_0x4e130f=>_0x4e130f[_0x8b1604(0x11e)]['remove'](_0x8b1604(0xf3)));}function openSheet(_0x184ac9){const _0x640c07=a3_0x483235;document['getElementById'](_0x640c07(0x1bf))['classList'][_0x640c07(0x131)](_0x640c07(0xd8)),document[_0x640c07(0x119)](_0x184ac9)[_0x640c07(0x11e)]['add'](_0x640c07(0xf3));}function getLocalDateStr(_0x57b6fd){const _0x23e688=a3_0x483235,_0x4074e8=_0x57b6fd['getFullYear'](),_0x5b4262=String(_0x57b6fd[_0x23e688(0x1b7)]()+0x1)['padStart'](0x2,'0'),_0x1ca9d8=String(_0x57b6fd[_0x23e688(0xec)]())[_0x23e688(0x180)](0x2,'0');return _0x4074e8+'-'+_0x5b4262+'-'+_0x1ca9d8;}function getStartOfWeek(_0x967a9){const _0x30015c=a3_0x483235,_0x3385b7=new Date(_0x967a9),_0x2cf0ac=_0x3385b7[_0x30015c(0x1a5)](),_0x1db082=_0x3385b7[_0x30015c(0xec)]()-_0x2cf0ac+(_0x2cf0ac===0x0?-0x6:0x1);return _0x3385b7[_0x30015c(0x16f)](_0x1db082),_0x3385b7[_0x30015c(0x1b8)](0x0,0x0,0x0,0x0),_0x3385b7;}function scrollToToday(){const _0x166060=getLocalDateStr(new Date());setTimeout(()=>{const _0x536cd0=a3_0x194f,_0x23719a=document[_0x536cd0(0x175)]('.day-col-header[data-date=\x22'+_0x166060+'\x22]');if(_0x23719a){const _0x38a79b=document[_0x536cd0(0x119)](_0x536cd0(0x109)),_0x3f43c9=_0x23719a[_0x536cd0(0x1c6)]-_0x38a79b[_0x536cd0(0x1c9)]/0x2+_0x23719a['offsetWidth']/0x2;_0x38a79b[_0x536cd0(0x1ac)]({'left':_0x3f43c9,'behavior':_0x536cd0(0x11b)}),_0x38a79b['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3587ae=a3_0x483235,_0x97776d=new Date(),_0x471dc3=document[_0x3587ae(0x119)](_0x3587ae(0x101)),_0x12b50f=document[_0x3587ae(0x119)](_0x3587ae(0x153)),_0x42f7f9=(_0x97776d['getHours']()*0x3c+_0x97776d[_0x3587ae(0x17f)]())/0x3c*GRID_H;_0x471dc3[_0x3587ae(0xdd)][_0x3587ae(0x185)]=_0x42f7f9+'px',_0x471dc3[_0x3587ae(0xdd)][_0x3587ae(0x102)]=_0x3587ae(0x174),_0x12b50f[_0x3587ae(0xdd)]['top']=_0x42f7f9+'px',_0x12b50f[_0x3587ae(0xdd)][_0x3587ae(0x102)]=_0x3587ae(0x174),_0x12b50f[_0x3587ae(0x1b6)]=String(_0x97776d['getHours']())[_0x3587ae(0x180)](0x2,'0')+':'+String(_0x97776d[_0x3587ae(0x17f)]())[_0x3587ae(0x180)](0x2,'0');}function onScroll(){const _0x1a0551=a3_0x483235,_0x27a3b2=document[_0x1a0551(0x119)](_0x1a0551(0x109)),_0x39c38b=document[_0x1a0551(0xff)]('.day-col-header');for(let _0x3966ab of _0x39c38b)if(_0x3966ab[_0x1a0551(0x1c6)]>=_0x27a3b2[_0x1a0551(0xf7)]){const _0x370254=new Date(_0x3966ab['getAttribute'](_0x1a0551(0x16e)));document['getElementById'](_0x1a0551(0xe0))['textContent']=_0x370254[_0x1a0551(0x198)]('ru',{'month':_0x1a0551(0xea)})[_0x1a0551(0x117)]()+'\x20'+_0x370254[_0x1a0551(0x140)]();break;}}function showToast(_0x21dde8){const _0x18ab53=a3_0x483235,_0x4a25f3=document[_0x18ab53(0x119)](_0x18ab53(0x1c1));_0x4a25f3[_0x18ab53(0x1b6)]=_0x21dde8,_0x4a25f3[_0x18ab53(0x11e)][_0x18ab53(0x131)](_0x18ab53(0xd1)),setTimeout(()=>_0x4a25f3[_0x18ab53(0x11e)]['remove'](_0x18ab53(0xd1)),0x7d0);}function handleInfiniteScroll(){const _0x125b0c=a3_0x483235,_0x42171a=document[_0x125b0c(0x119)](_0x125b0c(0x109)),_0x3902a7=_0x42171a[_0x125b0c(0xf7)],_0xee56d3=_0x42171a['scrollWidth'],_0x28b8e7=_0x42171a[_0x125b0c(0x1c9)];if(_0xee56d3-(_0x3902a7+_0x28b8e7)<0x12c){const _0x410353=endOffset;endOffset+=0xe,renderDayRange(_0x410353+0x1,endOffset),reRenderBlocks();}if(_0x3902a7<0x12c){const _0x2d3386=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2d3386-0x1),_0x42171a[_0x125b0c(0xf7)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2c285a,_0x4ea8bb){const _0x40167c=a3_0x483235,_0x563068=document[_0x40167c(0x119)](_0x40167c(0x18d)),_0x146c98=document[_0x40167c(0x119)](_0x40167c(0x15c)),_0x23cce3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b3893=new Date();_0x1b3893[_0x40167c(0x1b8)](0x0,0x0,0x0,0x0);const _0x4d0f4a=getLocalDateStr(new Date()),_0x5e89aa=document[_0x40167c(0xee)](),_0x4604f3=document['createDocumentFragment']();for(let _0x8d5e5d=_0x2c285a;_0x8d5e5d<=_0x4ea8bb;_0x8d5e5d++){const _0x56caa9=new Date(_0x1b3893);_0x56caa9['setDate'](_0x56caa9['getDate']()+_0x8d5e5d);const _0xdd649a=getLocalDateStr(_0x56caa9);let _0x3fd741=_0x56caa9['getDay']()-0x1;if(_0x3fd741===-0x1)_0x3fd741=0x6;const _0x5c2863=_0xdd649a===_0x4d0f4a,_0x1fd26d=document[_0x40167c(0x195)]('div');_0x1fd26d['className']=_0x40167c(0x138)+(_0x5c2863?_0x40167c(0x1be):''),_0x1fd26d['setAttribute'](_0x40167c(0x16e),_0xdd649a),_0x1fd26d[_0x40167c(0x169)]=_0x40167c(0x166)+_0x23cce3[_0x3fd741]+_0x40167c(0x15f)+_0x56caa9[_0x40167c(0xec)]()+_0x40167c(0x16b),_0x5e89aa[_0x40167c(0x130)](_0x1fd26d);const _0x18723e=document[_0x40167c(0x195)](_0x40167c(0xed));_0x18723e[_0x40167c(0xe1)]='day-column\x20'+(_0x5c2863?'today':''),_0x18723e[_0x40167c(0x1cb)](_0x40167c(0x16e),_0xdd649a),_0x18723e[_0x40167c(0x1cb)](_0x40167c(0x17c),_0x3fd741),_0x4604f3['appendChild'](_0x18723e);}_0x563068['insertBefore'](_0x5e89aa,_0x563068[_0x40167c(0x1ad)]),_0x146c98[_0x40167c(0x1c8)](_0x4604f3,_0x146c98['querySelector'](_0x40167c(0xf8)));}function hexToRgba(_0x1b4fd8,_0x178f9e){const _0x29b780=a3_0x483235;let _0xb95b32;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x1b4fd8))return _0xb95b32=_0x1b4fd8[_0x29b780(0x15e)](0x1)['split'](''),_0xb95b32[_0x29b780(0x105)]==0x3&&(_0xb95b32=[_0xb95b32[0x0],_0xb95b32[0x0],_0xb95b32[0x1],_0xb95b32[0x1],_0xb95b32[0x2],_0xb95b32[0x2]]),_0xb95b32='0x'+_0xb95b32[_0x29b780(0xd7)](''),_0x29b780(0x13f)+[_0xb95b32>>0x10&0xff,_0xb95b32>>0x8&0xff,_0xb95b32&0xff][_0x29b780(0xd7)](',')+','+_0x178f9e+')';return _0x29b780(0x179)+_0x178f9e+')';}let confirmResolver=null;function showCustomConfirm(_0x41db2b,_0x970048,_0x3a9029=!![]){const _0x13e995=a3_0x483235;document[_0x13e995(0x119)](_0x13e995(0x12a))[_0x13e995(0x1b6)]=_0x41db2b,document['getElementById']('ccText')['textContent']=_0x970048;const _0x16203b=document[_0x13e995(0x119)]('ccYesBtn');return _0x3a9029?(_0x16203b[_0x13e995(0xdd)][_0x13e995(0x127)]=_0x13e995(0x19f),_0x16203b[_0x13e995(0xdd)][_0x13e995(0x133)]=_0x13e995(0x116)):(_0x16203b[_0x13e995(0xdd)][_0x13e995(0x127)]='#0a84ff',_0x16203b[_0x13e995(0xdd)][_0x13e995(0x133)]='600'),new Promise(_0x91bed5=>{const _0x8708aa=_0x13e995;confirmResolver=_0x91bed5,document[_0x8708aa(0x119)](_0x8708aa(0x10d))[_0x8708aa(0x11e)][_0x8708aa(0x131)]('visible');});}function resolveCustomConfirm(_0x1028b3){const _0xf130dc=a3_0x483235;document[_0xf130dc(0x119)]('customConfirm')['classList'][_0xf130dc(0x12b)](_0xf130dc(0x176));if(confirmResolver)confirmResolver(_0x1028b3);}async function tryCancelCurrentSession(){const _0x372c20=a3_0x483235;if(!currentSession)return;const _0xdc5cc8=await showCustomConfirm(_0x372c20(0xe9),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0xdc5cc8)return;const _0x5eec8e=currentSession;closeAllSheets(),sessions=sessions[_0x372c20(0x1b1)](_0x38973b=>_0x38973b['id']!==_0x5eec8e['id']),reRenderBlocks(),showToast(_0x372c20(0x173)),lastUserActionTime=Date['now']();try{const _0x3e362c=window[_0x372c20(0x18c)]?.['WebApp'],_0x4386d0=await fetch(API_URL,{'method':_0x372c20(0x12f),'body':JSON[_0x372c20(0xeb)]({'action':'client_cancel','init_data':_0x3e362c?.['initData']||'','coachId':_0x5eec8e[_0x372c20(0xf0)],'dateStr':_0x5eec8e[_0x372c20(0x103)],'sessionId':_0x5eec8e['id']})});if(_0x4386d0['ok'])DataManager['saveLocally']();}catch(_0x3a9509){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x1329e7=a3_0x483235;if(!currentSession)return;document[_0x1329e7(0x119)]('detailsSheet')[_0x1329e7(0x11e)]['remove'](_0x1329e7(0xf3)),document['getElementById'](_0x1329e7(0x141))[_0x1329e7(0x11e)]['add'](_0x1329e7(0xf3));const _0x3468af=document[_0x1329e7(0x119)](_0x1329e7(0x1a8)),_0x254cbb=document[_0x1329e7(0x119)](_0x1329e7(0x100));_0x3468af['innerHTML']='',_0x254cbb['innerHTML']=_0x1329e7(0x1ae);const [_0x25f9a1,_0x5bc0f0]=currentSession[_0x1329e7(0x15a)][_0x1329e7(0x11d)](':')['map'](Number),[_0x4a1022,_0x4b543d]=currentSession[_0x1329e7(0xcd)][_0x1329e7(0x11d)](':')[_0x1329e7(0x194)](Number),_0x2caa4f=_0x4a1022*0x3c+_0x4b543d-(_0x25f9a1*0x3c+_0x5bc0f0);try{const _0x31dc44=window[_0x1329e7(0x18c)]?.[_0x1329e7(0x1c7)],_0x2f8212=await fetch(API_URL,{'method':'POST','body':JSON[_0x1329e7(0xeb)]({'action':_0x1329e7(0x172),'coachId':currentSession[_0x1329e7(0xf0)],'duration':_0x2caa4f,'init_data':_0x31dc44?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x12be1c=await _0x2f8212[_0x1329e7(0x183)]();_0x12be1c['ok']&&_0x12be1c[_0x1329e7(0x149)]?(availableSlotsCache=_0x12be1c['data'],renderRescheduleDates()):_0x254cbb[_0x1329e7(0x169)]=_0x1329e7(0x124);}catch(_0x3420d){_0x254cbb[_0x1329e7(0x169)]=_0x1329e7(0x199);}}function renderRescheduleDates(){const _0x327678=a3_0x483235,_0x14e3e4=document['getElementById'](_0x327678(0x1a8));_0x14e3e4[_0x327678(0x169)]='';const _0x521761=Object[_0x327678(0x1a0)](availableSlotsCache)[_0x327678(0x112)](),_0x12051f=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x521761['length']===0x0){document[_0x327678(0x119)](_0x327678(0x100))[_0x327678(0x169)]=_0x327678(0x122);return;}_0x521761['forEach']((_0x2edfc9,_0x599928)=>{const _0x471f4c=_0x327678,_0x17ccff=new Date(_0x2edfc9),_0x33a523=_0x12051f[_0x17ccff[_0x471f4c(0x1a5)]()],_0x3ff686=_0x17ccff['getDate'](),_0x4abeef=document[_0x471f4c(0x195)](_0x471f4c(0xed));_0x4abeef['className']='rs-date-chip';if(_0x599928===0x0)_0x4abeef[_0x471f4c(0x11e)][_0x471f4c(0x131)]('active');_0x4abeef[_0x471f4c(0x169)]=_0x471f4c(0x147)+_0x33a523+_0x471f4c(0xd4)+_0x3ff686+'</div>',_0x4abeef['onclick']=()=>selectRsDate(_0x2edfc9,_0x4abeef),_0x14e3e4[_0x471f4c(0x130)](_0x4abeef);}),selectRsDate(_0x521761[0x0],_0x14e3e4['firstChild']);}function selectRsDate(_0x40fdca,_0x3a5222){const _0x27191c=a3_0x483235;selectedRsDate=_0x40fdca,document['querySelectorAll'](_0x27191c(0x1ba))[_0x27191c(0x1b0)](_0x495baa=>_0x495baa[_0x27191c(0x11e)]['remove'](_0x27191c(0xd8)));if(_0x3a5222)_0x3a5222[_0x27191c(0x11e)][_0x27191c(0x131)](_0x27191c(0xd8));const _0xb8719=document[_0x27191c(0x119)]('rsSlotsGrid');_0xb8719[_0x27191c(0x169)]='';const _0x18ebc5=availableSlotsCache[_0x40fdca]||[];if(_0x18ebc5['length']===0x0){_0xb8719[_0x27191c(0x169)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0x18ebc5[_0x27191c(0x1b0)](_0x9d39ac=>{const _0x102118=_0x27191c,_0x430059=document[_0x102118(0x195)]('button');_0x430059[_0x102118(0xe1)]=_0x102118(0x154),_0x430059[_0x102118(0x1b6)]=_0x9d39ac,_0x430059[_0x102118(0x1c5)]=()=>confirmReschedule(_0x9d39ac),_0xb8719[_0x102118(0x130)](_0x430059);});}async function confirmReschedule(_0x383009){const _0x47fd70=a3_0x483235,_0x49aa9e=new Date(selectedRsDate),_0x1d110a=_0x49aa9e[_0x47fd70(0x17d)](_0x47fd70(0x19b),{'day':_0x47fd70(0x115),'month':_0x47fd70(0xea)}),_0x50d639=await showCustomConfirm(_0x47fd70(0xde),_0x47fd70(0x121)+_0x1d110a+'\x20–≤\x20'+_0x383009+'?',![]);if(!_0x50d639)return;closeAllSheets(),showToast(_0x47fd70(0x16a)),lastUserActionTime=Date[_0x47fd70(0x1ab)]();const _0x5c12e3=currentSession['dateStr'],_0x1c8f78=currentSession['id'],[_0x4e8629,_0x2d154c]=currentSession[_0x47fd70(0x15a)][_0x47fd70(0x11d)](':')[_0x47fd70(0x194)](Number),[_0x4c15c8,_0x3543d2]=currentSession[_0x47fd70(0xcd)][_0x47fd70(0x11d)](':')[_0x47fd70(0x194)](Number),_0x43ce5d=_0x4c15c8*0x3c+_0x3543d2-(_0x4e8629*0x3c+_0x2d154c),[_0x445cfc,_0x1a736b]=_0x383009[_0x47fd70(0x11d)](':')[_0x47fd70(0x194)](Number),_0xb9ba33=_0x445cfc*0x3c+_0x1a736b+_0x43ce5d,_0x42b0ac=Math[_0x47fd70(0x19a)](_0xb9ba33/0x3c),_0x52385d=_0xb9ba33%0x3c,_0x3abecb=String(_0x42b0ac)[_0x47fd70(0x180)](0x2,'0')+':'+String(_0x52385d)[_0x47fd70(0x180)](0x2,'0'),_0x2f5357=sessions[_0x47fd70(0x190)](_0x4f84e8=>_0x4f84e8['id']===_0x1c8f78);_0x2f5357!==-0x1&&(sessions[_0x2f5357]['dateStr']=selectedRsDate,sessions[_0x2f5357][_0x47fd70(0x15a)]=_0x383009,sessions[_0x2f5357][_0x47fd70(0xcd)]=_0x3abecb,reRenderBlocks());try{const _0x39ddc2=window[_0x47fd70(0x18c)]?.['WebApp'],_0x299bbd=await fetch(API_URL,{'method':_0x47fd70(0x12f),'body':JSON[_0x47fd70(0xeb)]({'action':_0x47fd70(0x125),'init_data':_0x39ddc2?.['initData']||'','oldSessionId':_0x1c8f78,'oldDate':_0x5c12e3,'newDate':selectedRsDate,'newTime':_0x383009,'coachId':currentSession[_0x47fd70(0xf0)]})}),_0x482650=await _0x299bbd[_0x47fd70(0x183)]();!_0x482650['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager[_0x47fd70(0x136)]()):(showToast(_0x47fd70(0x192)),DataManager[_0x47fd70(0x188)]());}catch(_0x45b6a3){showToast(_0x47fd70(0xd3));}}document[a3_0x483235(0x12c)](a3_0x483235(0xf4),init);