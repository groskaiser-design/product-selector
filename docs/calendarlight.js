const a3_0xe23080=a3_0x42ea;(function(_0x38ef0a,_0x241245){const _0x2f952b=a3_0x42ea,_0x383151=_0x38ef0a();while(!![]){try{const _0xe0b23b=-parseInt(_0x2f952b(0x1bf))/0x1+-parseInt(_0x2f952b(0x18f))/0x2+-parseInt(_0x2f952b(0x20d))/0x3+parseInt(_0x2f952b(0x1c5))/0x4+-parseInt(_0x2f952b(0x1ca))/0x5*(parseInt(_0x2f952b(0x1bd))/0x6)+-parseInt(_0x2f952b(0x1b3))/0x7*(parseInt(_0x2f952b(0x1a9))/0x8)+-parseInt(_0x2f952b(0x1cc))/0x9*(-parseInt(_0x2f952b(0x154))/0xa);if(_0xe0b23b===_0x241245)break;else _0x383151['push'](_0x383151['shift']());}catch(_0x5213ce){_0x383151['push'](_0x383151['shift']());}}}(a3_0x1a61,0x3a632));const APP_VERSION=a3_0xe23080(0x1ab),API_URL=a3_0xe23080(0x24c),GRID_H=0x3c,KEY_SESSIONS=a3_0xe23080(0x18b),KEY_SETTINGS='uc_client_settings',KEY_CLIENTS=a3_0xe23080(0x15a);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0xe23080(0x1cd),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x141368=a3_0xe23080,_0x2fdf95=(function(){let _0x4c4cfa=!![];return function(_0x50599c,_0x1abc4e){const _0x36793c=_0x4c4cfa?function(){const _0x2e3bb4=a3_0x42ea;if(_0x1abc4e){const _0x111aac=_0x1abc4e[_0x2e3bb4(0x22d)](_0x50599c,arguments);return _0x1abc4e=null,_0x111aac;}}:function(){};return _0x4c4cfa=![],_0x36793c;};}()),_0x31a5cd=_0x2fdf95(this,function(){const _0x10b316=a3_0x42ea;return _0x31a5cd['toString']()[_0x10b316(0x208)](_0x10b316(0x159))[_0x10b316(0x174)]()['constructor'](_0x31a5cd)[_0x10b316(0x208)](_0x10b316(0x159));});_0x31a5cd();try{const _0x255213=window[_0x141368(0x17a)]?.[_0x141368(0x1db)];if(!_0x255213)return;_0x255213[_0x141368(0x24b)](),_0x255213[_0x141368(0x210)]();try{_0x255213[_0x141368(0x1b8)]('#050505'),_0x255213[_0x141368(0x1b2)]&&_0x255213[_0x141368(0x1b2)]('#050505');}catch(_0x3d2db8){console[_0x141368(0x1ee)]('Error\x20setting\x20color:',_0x3d2db8);}try{_0x255213['BackButton']&&(_0x255213[_0x141368(0x184)][_0x141368(0x1b1)](),_0x255213[_0x141368(0x184)][_0x141368(0x203)](),_0x255213[_0x141368(0x184)]['onClick'](function(){const _0x49897d=_0x141368;window[_0x49897d(0x191)][_0x49897d(0x1da)]=_0x49897d(0x16b);}));}catch(_0x3acf8d){console['log'](_0x141368(0x1f7),_0x3acf8d);}try{if(_0x255213[_0x141368(0x176)])_0x255213[_0x141368(0x176)]();}catch(_0x19b3fb){}}catch(_0x3eb672){console[_0x141368(0x170)](_0x141368(0x16f),_0x3eb672);}}());function a3_0x42ea(_0x5422d9,_0x250c37){_0x5422d9=_0x5422d9-0x153;const _0x13d707=a3_0x1a61();let _0x50a81d=_0x13d707[_0x5422d9];return _0x50a81d;}function isAdmin(){const _0xd04519=a3_0xe23080;try{const _0x309614=Number(window['Telegram']?.['WebApp']?.[_0xd04519(0x167)]?.[_0xd04519(0x22b)]?.['id']);return _0x309614===0xbaf7174;}catch(_0x24d75f){return![];}}const DataManager={'saveLocally'(){const _0x88042d=a3_0xe23080;try{localStorage[_0x88042d(0x1a8)](KEY_SESSIONS,JSON[_0x88042d(0x186)](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x88042d(0x186)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x88042d(0x186)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x52264b){}},'loadLocal'(){const _0x5eff09=a3_0xe23080;try{const _0x478527=localStorage[_0x5eff09(0x158)](KEY_SESSIONS);if(_0x478527)sessions=JSON[_0x5eff09(0x1fa)](_0x478527);const _0xcc2005=localStorage[_0x5eff09(0x158)](KEY_CLIENTS);if(_0xcc2005)clients=JSON[_0x5eff09(0x1fa)](_0xcc2005);const _0x43f768=localStorage[_0x5eff09(0x158)](KEY_SETTINGS);if(_0x43f768){const _0x531eb7=JSON[_0x5eff09(0x1fa)](_0x43f768);if(_0x531eb7[_0x5eff09(0x18e)])availabilityPattern=_0x531eb7[_0x5eff09(0x18e)];if(_0x531eb7[_0x5eff09(0x222)])specialRanges=_0x531eb7[_0x5eff09(0x222)];if(_0x531eb7[_0x5eff09(0x16c)])dateExceptions=_0x531eb7[_0x5eff09(0x16c)];}}catch(_0x2ec15c){}},async 'syncLoad'(){const _0x21fa84=a3_0xe23080,_0x23125d=new Date(),_0x4cd5af=_0x23125d[_0x21fa84(0x1fd)]()+'-'+String(_0x23125d[_0x21fa84(0x1bc)]()+0x1)[_0x21fa84(0x1b7)](0x2,'0'),_0x6cf994=new Date(_0x23125d);_0x6cf994[_0x21fa84(0x1d7)](_0x23125d[_0x21fa84(0x1bc)]()+0x1);const _0x83bf5=_0x6cf994[_0x21fa84(0x1fd)]()+'-'+String(_0x6cf994['getMonth']()+0x1)['padStart'](0x2,'0'),_0x182862=Date[_0x21fa84(0x16d)]();try{const _0x5ee367=window[_0x21fa84(0x17a)]?.[_0x21fa84(0x1db)],_0x2af131=_0x5ee367?.['initData']||'',[_0x2a8cca,_0x474206]=await Promise['all']([fetch(API_URL,{'method':_0x21fa84(0x212),'body':JSON[_0x21fa84(0x186)]({'action':'client_load','init_data':_0x2af131,'month_str':_0x4cd5af})})['then'](_0x452884=>_0x452884['json']()),fetch(API_URL,{'method':_0x21fa84(0x212),'body':JSON[_0x21fa84(0x186)]({'action':_0x21fa84(0x157),'init_data':_0x2af131,'month_str':_0x83bf5})})[_0x21fa84(0x204)](_0xcbb0e7=>_0xcbb0e7[_0x21fa84(0x183)]())]);if(lastUserActionTime>_0x182862){console[_0x21fa84(0x1ee)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x2a8cca['ok'])this[_0x21fa84(0x218)](_0x2a8cca[_0x21fa84(0x207)],_0x4cd5af);if(_0x474206['ok'])this[_0x21fa84(0x218)](_0x474206[_0x21fa84(0x207)],_0x83bf5);this['saveLocally']();}catch(_0x383baf){}},'applyData'(_0x45bcb1,_0x5e8257){const _0x12e3d6=a3_0xe23080;if(!_0x45bcb1)return;if(_0x45bcb1[_0x12e3d6(0x24f)]){if(_0x45bcb1[_0x12e3d6(0x24f)]['pattern'])availabilityPattern=_0x45bcb1['settings'][_0x12e3d6(0x18e)];if(_0x45bcb1['settings'][_0x12e3d6(0x222)])specialRanges=_0x45bcb1[_0x12e3d6(0x24f)][_0x12e3d6(0x222)];if(_0x45bcb1[_0x12e3d6(0x24f)][_0x12e3d6(0x16c)])dateExceptions=_0x45bcb1[_0x12e3d6(0x24f)]['exceptions'];}if(_0x45bcb1[_0x12e3d6(0x1e7)]&&Array[_0x12e3d6(0x249)](_0x45bcb1[_0x12e3d6(0x1e7)]))clients=_0x45bcb1['clients'];_0x45bcb1[_0x12e3d6(0x1a3)]&&(coachProfiles={...coachProfiles,..._0x45bcb1['coach_profiles']}),_0x45bcb1[_0x12e3d6(0x17d)]&&(sessions=sessions[_0x12e3d6(0x177)](_0x357586=>!_0x357586['dateStr'][_0x12e3d6(0x1b0)](_0x5e8257)),Object['keys'](_0x45bcb1[_0x12e3d6(0x17d)])[_0x12e3d6(0x15c)](_0x1d0241=>{const _0x3a9478=_0x12e3d6,_0x5acff5=_0x45bcb1[_0x3a9478(0x17d)][_0x1d0241];_0x5acff5[_0x3a9478(0x15c)](_0x31528c=>{const _0x3ef98b=_0x3a9478;sessions[_0x3ef98b(0x1f6)]({'id':_0x31528c['i'],'clientId':_0x31528c['c'],'coachId':_0x31528c[_0x3ef98b(0x16a)],'dateStr':_0x5e8257+'-'+_0x1d0241[_0x3ef98b(0x1b7)](0x2,'0'),'start':_0x31528c['s'],'end':_0x31528c['e'],'note':_0x31528c['n']||'','status':_0x31528c['st']||_0x3ef98b(0x1f0),'seriesId':_0x31528c[_0x3ef98b(0x1e0)]});});})),reRenderBlocks();}};function init(){const _0xb6c806=a3_0xe23080;DataManager[_0xb6c806(0x22c)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xb6c806(0x1cf)](_0xb6c806(0x1ba))[_0xb6c806(0x1bb)](_0xb6c806(0x1ec),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xb6c806(0x1f8)]();}function renderTimeColumn(){const _0xb20c0c=a3_0xe23080,_0x39d02d=document[_0xb20c0c(0x1cf)](_0xb20c0c(0x1d5)),_0x55750c=document[_0xb20c0c(0x1cf)](_0xb20c0c(0x227));_0x39d02d['innerHTML']='',_0x39d02d[_0xb20c0c(0x175)](_0x55750c);for(let _0x1ce545=0x0;_0x1ce545<0x18;_0x1ce545++){const _0x1ae3be=document[_0xb20c0c(0x1df)](_0xb20c0c(0x24e));_0x1ae3be[_0xb20c0c(0x22f)]='time-label';if(_0x1ce545>0x0)_0x1ae3be['innerHTML']=_0xb20c0c(0x1cb)+String(_0x1ce545)[_0xb20c0c(0x1b7)](0x2,'0')+_0xb20c0c(0x164);_0x39d02d[_0xb20c0c(0x175)](_0x1ae3be);}}function renderDayRange(_0x2aba44,_0x512f8d){const _0x55acc6=a3_0xe23080,_0x3f544f=document[_0x55acc6(0x1cf)]('daysHeaderTrack'),_0x1c4120=document[_0x55acc6(0x1cf)]('gridColumns'),_0x1f9f01=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x36dfea=new Date();_0x36dfea[_0x55acc6(0x1f3)](0x0,0x0,0x0,0x0);const _0x45dcf6=getLocalDateStr(new Date());for(let _0x58aead=_0x2aba44;_0x58aead<=_0x512f8d;_0x58aead++){const _0x7f8555=new Date(_0x36dfea);_0x7f8555[_0x55acc6(0x1e9)](_0x7f8555['getDate']()+_0x58aead);const _0x10d62e=getLocalDateStr(_0x7f8555);let _0x3712b8=_0x7f8555[_0x55acc6(0x219)]()-0x1;if(_0x3712b8===-0x1)_0x3712b8=0x6;const _0x45bed8=_0x10d62e===_0x45dcf6,_0x43e6f9=document[_0x55acc6(0x1df)](_0x55acc6(0x24e));_0x43e6f9[_0x55acc6(0x22f)]=_0x55acc6(0x1c4)+(_0x45bed8?'today':''),_0x43e6f9[_0x55acc6(0x229)]('data-date',_0x10d62e),_0x43e6f9[_0x55acc6(0x1e5)]='<div\x20class=\x22dch-day\x22>'+_0x1f9f01[_0x3712b8]+_0x55acc6(0x1ef)+_0x7f8555[_0x55acc6(0x19c)]()+_0x55acc6(0x221),_0x3f544f[_0x55acc6(0x175)](_0x43e6f9);const _0x443df7=document[_0x55acc6(0x1df)]('div');_0x443df7[_0x55acc6(0x22f)]=_0x55acc6(0x17e)+(_0x45bed8?_0x55acc6(0x165):''),_0x443df7['setAttribute'](_0x55acc6(0x235),_0x10d62e),_0x443df7[_0x55acc6(0x229)](_0x55acc6(0x21e),_0x3712b8),_0x1c4120[_0x55acc6(0x175)](_0x443df7);}}function reRenderBlocks(){const _0x4b2ef3=a3_0xe23080;document[_0x4b2ef3(0x182)](_0x4b2ef3(0x1a1))[_0x4b2ef3(0x15c)](_0x33128b=>{const _0x1bd707=_0x4b2ef3;_0x33128b['querySelectorAll'](_0x1bd707(0x1a5))['forEach'](_0x564f4c=>_0x564f4c['remove']());const _0x46ad63=_0x33128b[_0x1bd707(0x1eb)](_0x1bd707(0x235)),_0x49680c=parseInt(_0x33128b[_0x1bd707(0x1eb)](_0x1bd707(0x21e))),_0x29eb64=Math[_0x1bd707(0x1c0)](_0x33128b[_0x1bd707(0x23e)]);(availabilityPattern[_0x49680c]||[])[_0x1bd707(0x15c)](_0x14866b=>{const _0x210dc0=_0x1bd707,_0x19627b=document[_0x210dc0(0x1df)](_0x210dc0(0x24e));_0x19627b[_0x210dc0(0x22f)]=_0x210dc0(0x19f),_0x19627b[_0x210dc0(0x215)][_0x210dc0(0x185)]=_0x14866b*GRID_H+'px',_0x19627b[_0x210dc0(0x215)][_0x210dc0(0x23c)]='-'+_0x29eb64+_0x210dc0(0x242)+_0x14866b*GRID_H+'px',_0x33128b[_0x210dc0(0x175)](_0x19627b);});if(specialRanges[_0x1bd707(0x1f9)]>0x0){const _0x3ad61a=new Date(_0x46ad63+'T00:00:00')[_0x1bd707(0x1b4)](),_0x4ddb78=new Date(_0x46ad63+_0x1bd707(0x188))[_0x1bd707(0x1b4)]();specialRanges[_0x1bd707(0x15c)](_0x4dcb69=>{const _0x16de02=_0x1bd707,_0x3f38eb=new Date(_0x4dcb69[_0x16de02(0x211)])[_0x16de02(0x1b4)](),_0x5c15d9=new Date(_0x4dcb69[_0x16de02(0x15f)])[_0x16de02(0x1b4)](),_0x3088f3=Math['max'](_0x3ad61a,_0x3f38eb),_0x4ba2c1=Math[_0x16de02(0x238)](_0x4ddb78,_0x5c15d9);if(_0x3088f3<_0x4ba2c1){const _0x3cb2f5=(_0x3088f3-_0x3ad61a)/0x36ee80*GRID_H,_0x4570da=(_0x4ba2c1-_0x3088f3)/0x36ee80*GRID_H,_0x345958=document[_0x16de02(0x1df)](_0x16de02(0x24e));_0x4570da>=23.5*GRID_H?(_0x345958[_0x16de02(0x22f)]=_0x16de02(0x1e6),_0x345958['style'][_0x16de02(0x23c)]='-'+_0x29eb64+_0x16de02(0x231)):(_0x345958[_0x16de02(0x22f)]=_0x16de02(0x22e),_0x345958[_0x16de02(0x215)][_0x16de02(0x185)]=_0x3cb2f5+'px',_0x345958[_0x16de02(0x215)]['height']=_0x4570da+'px',_0x345958[_0x16de02(0x215)][_0x16de02(0x23c)]='-'+_0x29eb64+'px\x20-'+_0x3cb2f5+'px'),_0x33128b['appendChild'](_0x345958);}});}renderEventsForColumn(_0x33128b,_0x46ad63);});}function renderEventsForColumn(_0x1da591,_0x287f5c){const _0x5cf98b=a3_0xe23080,_0x14ccda=sessions[_0x5cf98b(0x177)](_0x2e62b3=>_0x2e62b3[_0x5cf98b(0x240)]===_0x287f5c),_0x2b12a6=_0x14ccda[_0x5cf98b(0x20f)](_0x3b2b59=>{const _0x39ec25=_0x5cf98b,[_0x14daaf,_0x121d1a]=_0x3b2b59[_0x39ec25(0x211)]['split'](':')[_0x39ec25(0x20f)](Number),[_0x374bc1,_0x282a6c]=_0x3b2b59[_0x39ec25(0x15f)][_0x39ec25(0x228)](':')[_0x39ec25(0x20f)](Number);return{'data':_0x3b2b59,'start':_0x14daaf*0x3c+_0x121d1a,'end':_0x374bc1*0x3c+_0x282a6c,'colIndex':0x0};});_0x2b12a6['sort']((_0x389eae,_0x2f85f4)=>_0x389eae['start']-_0x2f85f4[_0x5cf98b(0x211)]||_0x2f85f4[_0x5cf98b(0x15f)]-_0x2f85f4[_0x5cf98b(0x211)]-(_0x389eae[_0x5cf98b(0x15f)]-_0x389eae[_0x5cf98b(0x211)]));const _0x86aa46=[];_0x2b12a6[_0x5cf98b(0x15c)](_0x2c4ea6=>{const _0x56171b=_0x5cf98b;let _0x198a6e=![];for(let _0x26bc5b=0x0;_0x26bc5b<_0x86aa46[_0x56171b(0x1f9)];_0x26bc5b++){const _0x1e6e9c=_0x86aa46[_0x26bc5b];if(_0x2c4ea6[_0x56171b(0x211)]>=_0x1e6e9c[_0x1e6e9c['length']-0x1][_0x56171b(0x15f)]){_0x1e6e9c[_0x56171b(0x1f6)](_0x2c4ea6),_0x2c4ea6[_0x56171b(0x1dc)]=_0x26bc5b,_0x198a6e=!![];break;}}!_0x198a6e&&(_0x86aa46[_0x56171b(0x1f6)]([_0x2c4ea6]),_0x2c4ea6[_0x56171b(0x1dc)]=_0x86aa46[_0x56171b(0x1f9)]-0x1);}),_0x2b12a6[_0x5cf98b(0x15c)](_0x10b770=>{const _0xf7813=_0x5cf98b;let _0x44b71e=0x0;_0x2b12a6[_0xf7813(0x15c)](_0x27dcfb=>{const _0x587c48=_0xf7813;if(Math[_0x587c48(0x17b)](_0x10b770[_0x587c48(0x211)],_0x27dcfb[_0x587c48(0x211)])<Math['min'](_0x10b770[_0x587c48(0x15f)],_0x27dcfb[_0x587c48(0x15f)])&&_0x27dcfb['colIndex']>_0x44b71e)_0x44b71e=_0x27dcfb[_0x587c48(0x1dc)];});const _0x442acc=_0x44b71e+0x1,_0x27c128=0x64/_0x442acc,_0x3dab9a=_0x10b770[_0xf7813(0x1dc)]*_0x27c128,_0x2515e6=document[_0xf7813(0x1df)](_0xf7813(0x24e)),_0x4e0b2c=_0x10b770[_0xf7813(0x207)];let _0x1de1a2='#0a84ff';if(clients&&clients[_0xf7813(0x1f9)]>0x0){const _0x16d222=clients[_0xf7813(0x181)](_0xb808a7=>String(_0xb808a7['id'])===String(_0x4e0b2c[_0xf7813(0x190)]));if(_0x16d222&&_0x16d222[_0xf7813(0x237)])_0x1de1a2=_0x16d222['color'];}const _0x713b62=_0x4e0b2c['status']===_0xf7813(0x15e),_0x4ec1ca=_0x713b62?0x1:0.45;_0x2515e6[_0xf7813(0x22f)]=_0xf7813(0x234)+(_0x713b62?_0xf7813(0x153):''),_0x2515e6[_0xf7813(0x215)][_0xf7813(0x22a)]=hexToRgba(_0x1de1a2,_0x4ec1ca),_0x2515e6[_0xf7813(0x215)][_0xf7813(0x1ff)]=_0x1de1a2;const _0x533b14=_0x10b770[_0xf7813(0x211)]/0x3c*GRID_H,_0x25263e=(_0x10b770['end']-_0x10b770[_0xf7813(0x211)])/0x3c*GRID_H;_0x2515e6['style'][_0xf7813(0x185)]=_0x533b14+'px',_0x2515e6['style'][_0xf7813(0x214)]=Math[_0xf7813(0x17b)](_0x25263e,0x14)+'px',_0x2515e6[_0xf7813(0x215)]['width']=_0xf7813(0x225)+_0x27c128+_0xf7813(0x1a4),_0x2515e6[_0xf7813(0x215)][_0xf7813(0x24d)]=_0xf7813(0x225)+_0x3dab9a+_0xf7813(0x232),_0x2515e6[_0xf7813(0x215)][_0xf7813(0x241)]=0xa+_0x10b770[_0xf7813(0x1dc)];if(_0x27c128<0x55)_0x2515e6[_0xf7813(0x206)][_0xf7813(0x1d0)]('mini');let _0x2c87ae='';if(_0x4e0b2c[_0xf7813(0x1f1)])_0x2c87ae+=_0xf7813(0x23b);if(_0x713b62)_0x2c87ae+=_0xf7813(0x179);_0x2515e6[_0xf7813(0x1e5)]=_0xf7813(0x1a2)+_0x4e0b2c[_0xf7813(0x211)]+_0xf7813(0x18c)+_0x4e0b2c['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c87ae+_0xf7813(0x200),_0x2515e6['onclick']=_0x45540b=>{_0x45540b['stopPropagation'](),openDetails(_0x4e0b2c);},_0x1da591[_0xf7813(0x175)](_0x2515e6);});}function openAnalytics(){const _0x525fdb=a3_0xe23080,_0x56281b=document[_0x525fdb(0x19d)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x525fdb(0x1cd),_0x56281b),openSheet(_0x525fdb(0x1c6));}function setAnalyticsPeriod(_0x220bcd,_0x232ba3){const _0x474026=a3_0xe23080;currentAnPeriod=_0x220bcd,document['querySelectorAll'](_0x474026(0x169))['forEach'](_0x1e43d6=>_0x1e43d6[_0x474026(0x206)][_0x474026(0x202)](_0x474026(0x1e8)));if(_0x232ba3)_0x232ba3[_0x474026(0x206)][_0x474026(0x1d0)](_0x474026(0x1e8));const _0x5f56fa=document[_0x474026(0x1cf)](_0x474026(0x1ed));_0x5f56fa['style'][_0x474026(0x187)]=_0x220bcd===_0x474026(0x223)?_0x474026(0x199):_0x474026(0x230);const _0x35d650=new Date();let _0x4385a5=new Date(),_0x30b4e2=new Date();if(_0x220bcd===_0x474026(0x1cd))_0x4385a5=getStartOfWeek(_0x35d650),_0x30b4e2=new Date(_0x4385a5),_0x30b4e2['setDate'](_0x30b4e2['getDate']()+0x6);else{if(_0x220bcd==='month')_0x4385a5=new Date(_0x35d650['getFullYear'](),_0x35d650['getMonth'](),0x1),_0x30b4e2=new Date(_0x35d650[_0x474026(0x1fd)](),_0x35d650[_0x474026(0x1bc)]()+0x1,0x0);else{!document[_0x474026(0x1cf)]('anStart')[_0x474026(0x245)]&&(document[_0x474026(0x1cf)](_0x474026(0x21b))[_0x474026(0x245)]=getLocalDateStr(_0x35d650),document[_0x474026(0x1cf)]('anEnd')[_0x474026(0x245)]=getLocalDateStr(_0x35d650));refreshAnalytics();return;}}document[_0x474026(0x1cf)](_0x474026(0x21b))[_0x474026(0x245)]=getLocalDateStr(_0x4385a5),document['getElementById'](_0x474026(0x193))[_0x474026(0x245)]=getLocalDateStr(_0x30b4e2),refreshAnalytics();}function refreshAnalytics(){const _0x1a110b=a3_0xe23080,_0xd482c3=document[_0x1a110b(0x1cf)](_0x1a110b(0x21b))[_0x1a110b(0x245)],_0x443d53=document['getElementById'](_0x1a110b(0x193))[_0x1a110b(0x245)];if(!_0xd482c3||!_0x443d53)return;const _0x735709=sessions['filter'](_0x1d6e22=>_0x1d6e22[_0x1a110b(0x240)]>=_0xd482c3&&_0x1d6e22[_0x1a110b(0x240)]<=_0x443d53&&_0x1d6e22[_0x1a110b(0x1fe)]!==_0x1a110b(0x213)),_0x35e6f9=_0x735709[_0x1a110b(0x1f9)],_0x42ddd3=_0x735709[_0x1a110b(0x177)](_0x11a0f6=>_0x11a0f6[_0x1a110b(0x1fe)]===_0x1a110b(0x15e))[_0x1a110b(0x1f9)],_0x46d573=_0x35e6f9>0x0?Math['round'](_0x42ddd3/_0x35e6f9*0x64):0x0;document[_0x1a110b(0x1cf)](_0x1a110b(0x1a7))[_0x1a110b(0x21a)]=_0x46d573+'%',document[_0x1a110b(0x1cf)](_0x1a110b(0x173))['textContent']=_0x42ddd3+_0x1a110b(0x196)+_0x35e6f9+_0x1a110b(0x1f5);const _0x4e296f=document[_0x1a110b(0x1cf)](_0x1a110b(0x18a)),_0x3b1586=0x2*Math['PI']*0x23,_0x270fa5=_0x3b1586-_0x46d573/0x64*_0x3b1586;_0x4e296f[_0x1a110b(0x215)][_0x1a110b(0x1aa)]=_0x270fa5;const _0x527d93={};_0x735709[_0x1a110b(0x15c)](_0x4d4f9a=>{const _0x5d1ae8=_0x1a110b,_0x1768d7=_0x4d4f9a[_0x5d1ae8(0x1c1)]||'Unknown';if(!_0x527d93[_0x1768d7]){const _0x2c368e='#'+_0x1768d7['toString']()['substr'](0x0,0x6);_0x527d93[_0x1768d7]={'total':0x0,'done':0x0,'color':_0x2c368e};}_0x527d93[_0x1768d7]['total']++;if(_0x4d4f9a['status']===_0x5d1ae8(0x15e))_0x527d93[_0x1768d7]['done']++;});const _0x4d7a01=document[_0x1a110b(0x1cf)](_0x1a110b(0x1b9));_0x4d7a01[_0x1a110b(0x1e5)]='';const _0x35761e=Object[_0x1a110b(0x226)](_0x527d93)[_0x1a110b(0x1ac)]((_0xdd5446,_0x180310)=>_0x180310[0x1]['total']-_0xdd5446[0x1]['total']);if(_0x35761e[_0x1a110b(0x1f9)]===0x0){_0x4d7a01[_0x1a110b(0x1e5)]=_0x1a110b(0x220);return;}_0x35761e[_0x1a110b(0x15c)](([_0x19bd0d,_0x4d70fc])=>{const _0x39e744=_0x1a110b,_0xc5b97=Math[_0x39e744(0x1c0)](_0x4d70fc['done']/_0x4d70fc[_0x39e744(0x19b)]*0x64),_0x218e69=document['createElement'](_0x39e744(0x24e));_0x218e69[_0x39e744(0x22f)]='client-stat-card',_0x218e69['style'][_0x39e744(0x1ff)]=_0x4d70fc[_0x39e744(0x237)],_0x218e69['innerHTML']=_0x39e744(0x192)+_0x19bd0d['substr'](0x0,0x5)+_0x39e744(0x244)+_0x4d70fc[_0x39e744(0x168)]+_0x39e744(0x1dd)+_0x4d70fc[_0x39e744(0x19b)]+_0x39e744(0x1e2)+_0xc5b97+_0x39e744(0x197),_0x4d7a01[_0x39e744(0x175)](_0x218e69);});}function openDetails(_0x2993ad){const _0x4fb907=a3_0xe23080;currentSession=_0x2993ad;const _0x1bfce1=new Date(_0x2993ad[_0x4fb907(0x240)]),_0x203c38=_0x1bfce1[_0x4fb907(0x239)](_0x4fb907(0x155),{'weekday':'long','day':_0x4fb907(0x1c9),'month':_0x4fb907(0x20b)});document['getElementById'](_0x4fb907(0x1e1))[_0x4fb907(0x21a)]=_0x203c38[_0x4fb907(0x1be)](0x0)[_0x4fb907(0x23a)]()+_0x203c38[_0x4fb907(0x19a)](0x1),document['getElementById']('detTime')[_0x4fb907(0x21a)]=_0x2993ad[_0x4fb907(0x211)]+_0x4fb907(0x18c)+_0x2993ad[_0x4fb907(0x15f)],document['getElementById'](_0x4fb907(0x251))['textContent']=_0x2993ad[_0x4fb907(0x17f)]||_0x4fb907(0x1ad);const _0x1d7ad2=document[_0x4fb907(0x1cf)]('detStatus'),_0xfd99fe=document['getElementById'](_0x4fb907(0x1d3)),_0x25556e=_0xfd99fe[_0x4fb907(0x19d)](_0x4fb907(0x205)),_0x1f80b9=_0xfd99fe[_0x4fb907(0x19d)](_0x4fb907(0x23d)),_0x2bc0ed=document[_0x4fb907(0x1cf)](_0x4fb907(0x1d4));if(_0x2993ad[_0x4fb907(0x1fe)]===_0x4fb907(0x15e))_0x1d7ad2[_0x4fb907(0x21a)]=_0x4fb907(0x195),_0x1d7ad2[_0x4fb907(0x215)][_0x4fb907(0x237)]='var(--acc-green)',_0xfd99fe[_0x4fb907(0x215)]['display']=_0x4fb907(0x230);else{_0x1d7ad2['textContent']=_0x4fb907(0x250),_0x1d7ad2[_0x4fb907(0x215)][_0x4fb907(0x237)]='var(--acc-blue)',_0xfd99fe[_0x4fb907(0x215)]['display']=_0x4fb907(0x1ae);const _0x2802e9=new Date(_0x2993ad[_0x4fb907(0x240)]+'T'+_0x2993ad[_0x4fb907(0x211)]),_0x49c045=new Date(),_0x5e10e1=(_0x2802e9-_0x49c045)/(0x3e8*0x3c*0x3c),_0xc01523=coachProfiles[_0x2993ad[_0x4fb907(0x1c1)]]&&coachProfiles[_0x2993ad[_0x4fb907(0x1c1)]][_0x4fb907(0x20c)]?parseInt(coachProfiles[_0x2993ad[_0x4fb907(0x1c1)]][_0x4fb907(0x20c)]):0x18;if(_0xc01523===0x0||_0x5e10e1>=_0xc01523)_0x25556e[_0x4fb907(0x215)][_0x4fb907(0x187)]=_0x4fb907(0x1ae),_0x1f80b9[_0x4fb907(0x215)][_0x4fb907(0x187)]=_0x4fb907(0x1ae),_0x2bc0ed['style'][_0x4fb907(0x187)]=_0x4fb907(0x230);else{_0x25556e[_0x4fb907(0x215)][_0x4fb907(0x187)]=_0x4fb907(0x230),_0x1f80b9[_0x4fb907(0x215)]['display']=_0x4fb907(0x230),_0x2bc0ed[_0x4fb907(0x215)][_0x4fb907(0x187)]=_0x4fb907(0x1ae);let _0x269b13=_0xc01523===0x0?_0x4fb907(0x243):_0x4fb907(0x178)+_0xc01523+'\x20—á.';_0x2bc0ed['textContent']=_0x4fb907(0x1ce)+_0x269b13+_0x4fb907(0x166);}}document[_0x4fb907(0x1cf)](_0x4fb907(0x1b6))[_0x4fb907(0x206)][_0x4fb907(0x1d0)](_0x4fb907(0x1e8)),document[_0x4fb907(0x1cf)](_0x4fb907(0x19e))['classList']['add'](_0x4fb907(0x1c7));}function closeAllSheets(){const _0x167c5c=a3_0xe23080;document['getElementById'](_0x167c5c(0x1b6))[_0x167c5c(0x206)]['remove'](_0x167c5c(0x1e8)),document[_0x167c5c(0x182)]('.sheet')['forEach'](_0x4f0adb=>_0x4f0adb['classList'][_0x167c5c(0x202)](_0x167c5c(0x1c7)));}function openSheet(_0x2a1a7f){const _0x582e79=a3_0xe23080;document[_0x582e79(0x1cf)](_0x582e79(0x1b6))[_0x582e79(0x206)][_0x582e79(0x1d0)](_0x582e79(0x1e8)),document[_0x582e79(0x1cf)](_0x2a1a7f)[_0x582e79(0x206)][_0x582e79(0x1d0)](_0x582e79(0x1c7));}function getLocalDateStr(_0xc679a1){const _0x318d75=a3_0xe23080,_0x22a1cf=_0xc679a1[_0x318d75(0x1fd)](),_0x33240f=String(_0xc679a1[_0x318d75(0x1bc)]()+0x1)[_0x318d75(0x1b7)](0x2,'0'),_0x4e0a85=String(_0xc679a1[_0x318d75(0x19c)]())['padStart'](0x2,'0');return _0x22a1cf+'-'+_0x33240f+'-'+_0x4e0a85;}function getStartOfWeek(_0x5e0c84){const _0x167a15=a3_0xe23080,_0x51f86f=new Date(_0x5e0c84),_0x9d0bc1=_0x51f86f[_0x167a15(0x219)](),_0x24f5a2=_0x51f86f['getDate']()-_0x9d0bc1+(_0x9d0bc1===0x0?-0x6:0x1);return _0x51f86f[_0x167a15(0x1e9)](_0x24f5a2),_0x51f86f['setHours'](0x0,0x0,0x0,0x0),_0x51f86f;}function scrollToToday(){const _0x2660f6=getLocalDateStr(new Date());setTimeout(()=>{const _0x4a9353=a3_0x42ea,_0x185a14=document[_0x4a9353(0x19d)](_0x4a9353(0x1b5)+_0x2660f6+'\x22]');if(_0x185a14){const _0x5dc423=document[_0x4a9353(0x1cf)]('matrixViewport'),_0x7ef79a=_0x185a14[_0x4a9353(0x23e)]-_0x5dc423[_0x4a9353(0x15d)]/0x2+_0x185a14[_0x4a9353(0x1fc)]/0x2;_0x5dc423[_0x4a9353(0x248)]({'left':_0x7ef79a,'behavior':_0x4a9353(0x1c8)}),_0x5dc423[_0x4a9353(0x201)]=0x9*GRID_H;}},0x32);}function a3_0x1a61(){const _0xc38b4=['anCustomDates','log','</div><div\x20class=\x22dch-num\x22>','planned','seriesId','firstChild','setHours','scrollLeft','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','push','Error\x20setting\x20back\x20button:','syncLoad','length','parse','daysHeaderTrack','offsetWidth','getFullYear','status','borderLeftColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollTop','remove','offClick','then','.btn-cancel','classList','data','search','<div\x20class=\x22rs-day-name\x22>','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','long','cancel_window','697671dJpzSY','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','map','expand','start','POST','cancelled','height','style','rsSlotsGrid','600','applyData','getDay','textContent','anStart','<div\x20class=\x22dch-day\x22>','headerMonth','data-day-idx','fontWeight','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','</div>','ranges','custom','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','calc(','entries','timeLineBadge','split','setAttribute','backgroundColor','user','loadLocal','apply','blocked-range-part\x20stripe-bg','className','none','px\x200px','%\x20+\x202px)','initData','event-card','data-date','#0a84ff','color','min','toLocaleDateString','toUpperCase','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','backgroundPosition','.btn-reschedule','offsetLeft','join','dateStr','zIndex','px\x20-','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','value','reschedule','#ff453a','scrollTo','isArray','rgba(10,\x20132,\x20255,\x20','ready','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','left','div','settings','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','detNote','\x20status-completed','150mYikcl','ru-RU','visible','client_load','getItem','(((.+)+)+)+$','uc_client_list','getMinutes','forEach','clientWidth','completed','end','DOMContentLoaded','button','findIndex','insertBefore',':00</span>','today','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','initDataUnsafe','done','.period-switch\x20.p-btn','cid','router.html','exceptions','now','floor','Critical\x20TMA\x20Error:','error','scrollWidth','rsDatesTrack','anTotalStats','toString','appendChild','disableVerticalSwipes','filter','–∑–∞\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Telegram','max','saveLocally','calendar','day-column\x20','note','onclick','find','querySelectorAll','json','BackButton','top','stringify','display','T23:59:59','createDocumentFragment','anDonutCircle','uc_client_sessions','\x20-\x20','keys','pattern','651616uEbpii','clientId','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','anEnd','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','\x20–∏–∑\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getHours','flex','slice','total','getDate','querySelector','detailsSheet','blocked-slot\x20stripe-bg','.rs-date-chip','.day-column','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','coach_profiles','%\x20-\x204px)','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–û—Ç–º–µ–Ω–µ–Ω–æ','anPercent','setItem','24goVknr','strokeDashoffset','v9.5-CLIENT-ANALYTICS','sort','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','block','rs-date-chip','startsWith','show','setBackgroundColor','1081052EHsDGD','getTime','.day-col-header[data-date=\x22','overlay','padStart','setHeaderColor','analyticsList','matrixViewport','addEventListener','getMonth','20100SOydME','charAt','471126DEszZB','round','coachId','.day-col-header','ccTitle','day-col-header\x20','18012iznDMI','analyticsSheet','open','auto','numeric','400kRuvtk','<span>','1197270DCHkHU','week','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','getElementById','add','client_cancel','toLocaleString','cancelContainer','cancelHint','timeColumn','get_slots','setMonth','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','customConfirm','href','WebApp','colIndex','</span>\x20/\x20','test','createElement','sid','detDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','substring','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','innerHTML','day-off-overlay\x20stripe-bg','clients','active','setDate','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','getAttribute','scroll'];a3_0x1a61=function(){return _0xc38b4;};return a3_0x1a61();}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3a0b8e=a3_0xe23080,_0x42cd9b=new Date(),_0x454703=document[_0x3a0b8e(0x1cf)]('globalTimeLine'),_0x5ee20d=document['getElementById'](_0x3a0b8e(0x227)),_0x4b7963=(_0x42cd9b[_0x3a0b8e(0x198)]()*0x3c+_0x42cd9b[_0x3a0b8e(0x15b)]())/0x3c*GRID_H;_0x454703[_0x3a0b8e(0x215)][_0x3a0b8e(0x185)]=_0x4b7963+'px',_0x454703['style'][_0x3a0b8e(0x187)]=_0x3a0b8e(0x1ae),_0x5ee20d[_0x3a0b8e(0x215)]['top']=_0x4b7963+'px',_0x5ee20d[_0x3a0b8e(0x215)][_0x3a0b8e(0x187)]=_0x3a0b8e(0x1ae),_0x5ee20d['textContent']=String(_0x42cd9b[_0x3a0b8e(0x198)]())[_0x3a0b8e(0x1b7)](0x2,'0')+':'+String(_0x42cd9b['getMinutes']())[_0x3a0b8e(0x1b7)](0x2,'0');}function onScroll(){const _0x5c8320=a3_0xe23080,_0x551c9f=document[_0x5c8320(0x1cf)](_0x5c8320(0x1ba)),_0x374773=document['querySelectorAll'](_0x5c8320(0x1c2));for(let _0x1ff7c3 of _0x374773)if(_0x1ff7c3[_0x5c8320(0x23e)]>=_0x551c9f[_0x5c8320(0x1f4)]){const _0x1f6c8d=new Date(_0x1ff7c3[_0x5c8320(0x1eb)]('data-date'));document[_0x5c8320(0x1cf)](_0x5c8320(0x21d))[_0x5c8320(0x21a)]=_0x1f6c8d[_0x5c8320(0x1d2)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x1f6c8d[_0x5c8320(0x1fd)]();break;}}function showToast(_0x110511){const _0x108539=a3_0xe23080,_0x3509a7=document[_0x108539(0x1cf)]('toast');_0x3509a7['textContent']=_0x110511,_0x3509a7[_0x108539(0x206)][_0x108539(0x1d0)]('show'),setTimeout(()=>_0x3509a7[_0x108539(0x206)]['remove'](_0x108539(0x1b1)),0x7d0);}function handleInfiniteScroll(){const _0x872901=a3_0xe23080,_0x1270ca=document[_0x872901(0x1cf)](_0x872901(0x1ba)),_0x24ccde=_0x1270ca[_0x872901(0x1f4)],_0x11b293=_0x1270ca[_0x872901(0x171)],_0x5f5b96=_0x1270ca[_0x872901(0x15d)];if(_0x11b293-(_0x24ccde+_0x5f5b96)<0x12c){const _0x313329=endOffset;endOffset+=0xe,renderDayRange(_0x313329+0x1,endOffset),reRenderBlocks();}if(_0x24ccde<0x12c){const _0x6e0c59=startOffset;startOffset-=0xe,prependDays(startOffset,_0x6e0c59-0x1),_0x1270ca[_0x872901(0x1f4)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x467e1d,_0x451121){const _0x41f870=a3_0xe23080,_0x1cc7dd=document['getElementById'](_0x41f870(0x1fb)),_0x33d110=document[_0x41f870(0x1cf)]('gridColumns'),_0x499ac2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2c0fb2=new Date();_0x2c0fb2['setHours'](0x0,0x0,0x0,0x0);const _0x237db1=getLocalDateStr(new Date()),_0x1f1d7c=document[_0x41f870(0x189)](),_0x44347e=document[_0x41f870(0x189)]();for(let _0x57856a=_0x467e1d;_0x57856a<=_0x451121;_0x57856a++){const _0x1db82c=new Date(_0x2c0fb2);_0x1db82c[_0x41f870(0x1e9)](_0x1db82c[_0x41f870(0x19c)]()+_0x57856a);const _0x3673c9=getLocalDateStr(_0x1db82c);let _0x5ca9c6=_0x1db82c['getDay']()-0x1;if(_0x5ca9c6===-0x1)_0x5ca9c6=0x6;const _0x38d7ab=_0x3673c9===_0x237db1,_0x5c0725=document['createElement'](_0x41f870(0x24e));_0x5c0725[_0x41f870(0x22f)]=_0x41f870(0x1c4)+(_0x38d7ab?_0x41f870(0x165):''),_0x5c0725[_0x41f870(0x229)](_0x41f870(0x235),_0x3673c9),_0x5c0725['innerHTML']=_0x41f870(0x21c)+_0x499ac2[_0x5ca9c6]+_0x41f870(0x1ef)+_0x1db82c[_0x41f870(0x19c)]()+_0x41f870(0x221),_0x1f1d7c[_0x41f870(0x175)](_0x5c0725);const _0x28e82c=document['createElement'](_0x41f870(0x24e));_0x28e82c[_0x41f870(0x22f)]=_0x41f870(0x17e)+(_0x38d7ab?'today':''),_0x28e82c[_0x41f870(0x229)](_0x41f870(0x235),_0x3673c9),_0x28e82c[_0x41f870(0x229)]('data-day-idx',_0x5ca9c6),_0x44347e['appendChild'](_0x28e82c);}_0x1cc7dd[_0x41f870(0x163)](_0x1f1d7c,_0x1cc7dd['firstChild']),_0x33d110[_0x41f870(0x163)](_0x44347e,_0x33d110[_0x41f870(0x19d)](_0x41f870(0x1a1)));}function hexToRgba(_0x5e970f,_0x5e159e){const _0x1aac00=a3_0xe23080;let _0x48c23e;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x1aac00(0x1de)](_0x5e970f))return _0x48c23e=_0x5e970f[_0x1aac00(0x1e3)](0x1)[_0x1aac00(0x228)](''),_0x48c23e[_0x1aac00(0x1f9)]==0x3&&(_0x48c23e=[_0x48c23e[0x0],_0x48c23e[0x0],_0x48c23e[0x1],_0x48c23e[0x1],_0x48c23e[0x2],_0x48c23e[0x2]]),_0x48c23e='0x'+_0x48c23e[_0x1aac00(0x23f)](''),'rgba('+[_0x48c23e>>0x10&0xff,_0x48c23e>>0x8&0xff,_0x48c23e&0xff][_0x1aac00(0x23f)](',')+','+_0x5e159e+')';return _0x1aac00(0x24a)+_0x5e159e+')';}let confirmResolver=null;function showCustomConfirm(_0x3f2cc0,_0x1046ae,_0x5693be=!![]){const _0xbcaad7=a3_0xe23080;document[_0xbcaad7(0x1cf)](_0xbcaad7(0x1c3))[_0xbcaad7(0x21a)]=_0x3f2cc0,document[_0xbcaad7(0x1cf)]('ccText')[_0xbcaad7(0x21a)]=_0x1046ae;const _0x5e7f2a=document[_0xbcaad7(0x1cf)]('ccYesBtn');return _0x5693be?(_0x5e7f2a[_0xbcaad7(0x215)]['color']=_0xbcaad7(0x247),_0x5e7f2a['style'][_0xbcaad7(0x21f)]='600'):(_0x5e7f2a[_0xbcaad7(0x215)][_0xbcaad7(0x237)]=_0xbcaad7(0x236),_0x5e7f2a[_0xbcaad7(0x215)][_0xbcaad7(0x21f)]=_0xbcaad7(0x217)),new Promise(_0x285828=>{const _0x4c2196=_0xbcaad7;confirmResolver=_0x285828,document[_0x4c2196(0x1cf)](_0x4c2196(0x1d9))[_0x4c2196(0x206)][_0x4c2196(0x1d0)](_0x4c2196(0x156));});}function resolveCustomConfirm(_0x3f01b1){const _0x3d87ac=a3_0xe23080;document[_0x3d87ac(0x1cf)](_0x3d87ac(0x1d9))[_0x3d87ac(0x206)]['remove']('visible');if(confirmResolver)confirmResolver(_0x3f01b1);}async function tryCancelCurrentSession(){const _0x1d48cf=a3_0xe23080;if(!currentSession)return;const _0x3d4605=await showCustomConfirm(_0x1d48cf(0x20e),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x3d4605)return;const _0x47b7ac=currentSession;closeAllSheets(),sessions=sessions[_0x1d48cf(0x177)](_0x45204b=>_0x45204b['id']!==_0x47b7ac['id']),reRenderBlocks(),showToast(_0x1d48cf(0x1a6)),lastUserActionTime=Date[_0x1d48cf(0x16d)]();try{const _0xce578c=window[_0x1d48cf(0x17a)]?.[_0x1d48cf(0x1db)],_0x3e4fdc=await fetch(API_URL,{'method':_0x1d48cf(0x212),'body':JSON[_0x1d48cf(0x186)]({'action':_0x1d48cf(0x1d1),'init_data':_0xce578c?.['initData']||'','coachId':_0x47b7ac[_0x1d48cf(0x1c1)],'dateStr':_0x47b7ac[_0x1d48cf(0x240)],'sessionId':_0x47b7ac['id']})});if(_0x3e4fdc['ok'])DataManager[_0x1d48cf(0x17c)]();}catch(_0x3f6b4b){showToast(_0x1d48cf(0x1ea));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x362e5c=a3_0xe23080;if(!currentSession)return;document['getElementById'](_0x362e5c(0x19e))[_0x362e5c(0x206)]['remove'](_0x362e5c(0x1c7)),document[_0x362e5c(0x1cf)]('rescheduleSheet')['classList'][_0x362e5c(0x1d0)]('open');const _0x1c2b8c=document['getElementById'](_0x362e5c(0x172)),_0xe3aeec=document[_0x362e5c(0x1cf)](_0x362e5c(0x216));_0x1c2b8c[_0x362e5c(0x1e5)]='',_0xe3aeec[_0x362e5c(0x1e5)]=_0x362e5c(0x224);const [_0x2f694b,_0x599789]=currentSession[_0x362e5c(0x211)]['split'](':')[_0x362e5c(0x20f)](Number),[_0x2767a5,_0x3176bc]=currentSession['end'][_0x362e5c(0x228)](':')[_0x362e5c(0x20f)](Number),_0x58de15=_0x2767a5*0x3c+_0x3176bc-(_0x2f694b*0x3c+_0x599789);try{const _0x34ab9f=window[_0x362e5c(0x17a)]?.[_0x362e5c(0x1db)],_0xa6e8be=await fetch(API_URL,{'method':_0x362e5c(0x212),'body':JSON[_0x362e5c(0x186)]({'action':_0x362e5c(0x1d6),'coachId':currentSession[_0x362e5c(0x1c1)],'duration':_0x58de15,'init_data':_0x34ab9f?.[_0x362e5c(0x233)]||'','excludeSessionId':currentSession['id']})}),_0x119f2a=await _0xa6e8be[_0x362e5c(0x183)]();_0x119f2a['ok']&&_0x119f2a['data']?(availableSlotsCache=_0x119f2a['data'],renderRescheduleDates()):_0xe3aeec[_0x362e5c(0x1e5)]=_0x362e5c(0x1e4);}catch(_0x1e0525){_0xe3aeec['innerHTML']='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x8ac9b=a3_0xe23080,_0x50974f=document[_0x8ac9b(0x1cf)](_0x8ac9b(0x172));_0x50974f[_0x8ac9b(0x1e5)]='';const _0x2e224e=Object[_0x8ac9b(0x18d)](availableSlotsCache)['sort'](),_0x1a9f36=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x2e224e[_0x8ac9b(0x1f9)]===0x0){document[_0x8ac9b(0x1cf)](_0x8ac9b(0x216))[_0x8ac9b(0x1e5)]=_0x8ac9b(0x20a);return;}_0x2e224e['forEach']((_0x691c47,_0x58413a)=>{const _0x2a8faa=_0x8ac9b,_0x89c90c=new Date(_0x691c47),_0x463f60=_0x1a9f36[_0x89c90c[_0x2a8faa(0x219)]()],_0x13dc4b=_0x89c90c[_0x2a8faa(0x19c)](),_0x4869b6=document[_0x2a8faa(0x1df)]('div');_0x4869b6[_0x2a8faa(0x22f)]=_0x2a8faa(0x1af);if(_0x58413a===0x0)_0x4869b6['classList']['add'](_0x2a8faa(0x1e8));_0x4869b6[_0x2a8faa(0x1e5)]=_0x2a8faa(0x209)+_0x463f60+'</div><div\x20class=\x22rs-day-num\x22>'+_0x13dc4b+_0x2a8faa(0x221),_0x4869b6['onclick']=()=>selectRsDate(_0x691c47,_0x4869b6),_0x50974f['appendChild'](_0x4869b6);}),selectRsDate(_0x2e224e[0x0],_0x50974f[_0x8ac9b(0x1f2)]);}function selectRsDate(_0x3225d2,_0x4e3945){const _0x2ba538=a3_0xe23080;selectedRsDate=_0x3225d2,document[_0x2ba538(0x182)](_0x2ba538(0x1a0))[_0x2ba538(0x15c)](_0x551e05=>_0x551e05[_0x2ba538(0x206)][_0x2ba538(0x202)](_0x2ba538(0x1e8)));if(_0x4e3945)_0x4e3945[_0x2ba538(0x206)][_0x2ba538(0x1d0)]('active');const _0x25af14=document[_0x2ba538(0x1cf)]('rsSlotsGrid');_0x25af14[_0x2ba538(0x1e5)]='';const _0x324a93=availableSlotsCache[_0x3225d2]||[];if(_0x324a93[_0x2ba538(0x1f9)]===0x0){_0x25af14['innerHTML']=_0x2ba538(0x1e4);return;}_0x324a93['forEach'](_0x11720e=>{const _0x16991b=_0x2ba538,_0x1b0b44=document[_0x16991b(0x1df)](_0x16991b(0x161));_0x1b0b44[_0x16991b(0x22f)]='rs-time-btn',_0x1b0b44[_0x16991b(0x21a)]=_0x11720e,_0x1b0b44[_0x16991b(0x180)]=()=>confirmReschedule(_0x11720e),_0x25af14[_0x16991b(0x175)](_0x1b0b44);});}async function confirmReschedule(_0x28b0e8){const _0x2ffa76=a3_0xe23080,_0x3a5647=new Date(selectedRsDate),_0x137959=_0x3a5647[_0x2ffa76(0x239)]('ru-RU',{'day':_0x2ffa76(0x1c9),'month':_0x2ffa76(0x20b)}),_0xb9caf2=await showCustomConfirm('–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x137959+'\x20–≤\x20'+_0x28b0e8+'?',![]);if(!_0xb9caf2)return;closeAllSheets(),showToast('–ü–µ—Ä–µ–Ω–æ—Å–∏–º...'),lastUserActionTime=Date[_0x2ffa76(0x16d)]();const _0x35f4e6=currentSession[_0x2ffa76(0x240)],_0x530bc9=currentSession['id'],[_0xf8ddf2,_0x3bd3cd]=currentSession[_0x2ffa76(0x211)][_0x2ffa76(0x228)](':')['map'](Number),[_0x3687e0,_0x14f100]=currentSession[_0x2ffa76(0x15f)][_0x2ffa76(0x228)](':')[_0x2ffa76(0x20f)](Number),_0x3a0b26=_0x3687e0*0x3c+_0x14f100-(_0xf8ddf2*0x3c+_0x3bd3cd),[_0x1a63a5,_0x45170d]=_0x28b0e8[_0x2ffa76(0x228)](':')['map'](Number),_0x409149=_0x1a63a5*0x3c+_0x45170d+_0x3a0b26,_0xe70657=Math[_0x2ffa76(0x16e)](_0x409149/0x3c),_0x54dbc6=_0x409149%0x3c,_0x190b9b=String(_0xe70657)[_0x2ffa76(0x1b7)](0x2,'0')+':'+String(_0x54dbc6)[_0x2ffa76(0x1b7)](0x2,'0'),_0x5e15f3=sessions[_0x2ffa76(0x162)](_0x7453aa=>_0x7453aa['id']===_0x530bc9);_0x5e15f3!==-0x1&&(sessions[_0x5e15f3][_0x2ffa76(0x240)]=selectedRsDate,sessions[_0x5e15f3][_0x2ffa76(0x211)]=_0x28b0e8,sessions[_0x5e15f3][_0x2ffa76(0x15f)]=_0x190b9b,reRenderBlocks());try{const _0x4ba2e8=window[_0x2ffa76(0x17a)]?.[_0x2ffa76(0x1db)],_0x2b32f3=await fetch(API_URL,{'method':_0x2ffa76(0x212),'body':JSON[_0x2ffa76(0x186)]({'action':_0x2ffa76(0x246),'init_data':_0x4ba2e8?.[_0x2ffa76(0x233)]||'','oldSessionId':_0x530bc9,'oldDate':_0x35f4e6,'newDate':selectedRsDate,'newTime':_0x28b0e8,'coachId':currentSession['coachId']})}),_0x1dcaef=await _0x2b32f3['json']();!_0x1dcaef['ok']?(showToast(_0x2ffa76(0x1d8)),DataManager[_0x2ffa76(0x1f8)]()):(showToast(_0x2ffa76(0x194)),DataManager['saveLocally']());}catch(_0x154ade){showToast(_0x2ffa76(0x1ea));}}document['addEventListener'](a3_0xe23080(0x160),init);