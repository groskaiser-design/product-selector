const a3_0x510fa7=a3_0x2f91;(function(_0x4e6156,_0x2e5c66){const _0x209914=a3_0x2f91,_0x4bdfc7=_0x4e6156();while(!![]){try{const _0x357e72=-parseInt(_0x209914(0x1b5))/0x1+parseInt(_0x209914(0x1c6))/0x2*(-parseInt(_0x209914(0x1f9))/0x3)+parseInt(_0x209914(0x183))/0x4*(-parseInt(_0x209914(0x167))/0x5)+parseInt(_0x209914(0x1c1))/0x6*(-parseInt(_0x209914(0x204))/0x7)+parseInt(_0x209914(0x120))/0x8+-parseInt(_0x209914(0x137))/0x9*(-parseInt(_0x209914(0x1ec))/0xa)+parseInt(_0x209914(0x168))/0xb*(parseInt(_0x209914(0x16d))/0xc);if(_0x357e72===_0x2e5c66)break;else _0x4bdfc7['push'](_0x4bdfc7['shift']());}catch(_0x7e37fe){_0x4bdfc7['push'](_0x4bdfc7['shift']());}}}(a3_0x1f6f,0x23329));const APP_VERSION=a3_0x510fa7(0x200),API_URL=a3_0x510fa7(0x177),GRID_H=0x3c,KEY_SESSIONS=a3_0x510fa7(0x1c4),KEY_SETTINGS=a3_0x510fa7(0x186),KEY_CLIENTS=a3_0x510fa7(0x21d);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x510fa7(0x1c3),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x2ba4ed=a3_0x510fa7,_0x29de76=(function(){let _0x500946=!![];return function(_0x5599e9,_0x3cd6f1){const _0x2e2895=_0x500946?function(){const _0x2af61e=a3_0x2f91;if(_0x3cd6f1){const _0x4d9048=_0x3cd6f1[_0x2af61e(0x1d2)](_0x5599e9,arguments);return _0x3cd6f1=null,_0x4d9048;}}:function(){};return _0x500946=![],_0x2e2895;};}()),_0x1eb842=_0x29de76(this,function(){const _0x2d1fe1=a3_0x2f91;return _0x1eb842[_0x2d1fe1(0x18c)]()[_0x2d1fe1(0x161)](_0x2d1fe1(0x11f))[_0x2d1fe1(0x18c)]()['constructor'](_0x1eb842)[_0x2d1fe1(0x161)](_0x2d1fe1(0x11f));});_0x1eb842();try{const _0x47fa0d=window[_0x2ba4ed(0x207)]?.[_0x2ba4ed(0x1c0)];if(!_0x47fa0d)return;_0x47fa0d[_0x2ba4ed(0x215)](),_0x47fa0d[_0x2ba4ed(0x17e)]();try{_0x47fa0d[_0x2ba4ed(0x185)](_0x2ba4ed(0x174)),_0x47fa0d[_0x2ba4ed(0x20c)]&&_0x47fa0d[_0x2ba4ed(0x20c)](_0x2ba4ed(0x174));}catch(_0x4f23c9){console[_0x2ba4ed(0x1cc)](_0x2ba4ed(0x1f0),_0x4f23c9);}try{_0x47fa0d[_0x2ba4ed(0x21a)]&&(_0x47fa0d['BackButton'][_0x2ba4ed(0x1ab)](),_0x47fa0d['BackButton'][_0x2ba4ed(0x196)](),_0x47fa0d['BackButton'][_0x2ba4ed(0x193)](function(){const _0xb96612=_0x2ba4ed;window[_0xb96612(0x1bc)][_0xb96612(0x14a)]=_0xb96612(0x1e5);}));}catch(_0x1d393f){console[_0x2ba4ed(0x1cc)](_0x2ba4ed(0x1f8),_0x1d393f);}try{if(_0x47fa0d['disableVerticalSwipes'])_0x47fa0d[_0x2ba4ed(0x12b)]();}catch(_0x374972){}}catch(_0x2faa0b){console['error'](_0x2ba4ed(0x214),_0x2faa0b);}}());function isAdmin(){const _0x593f14=a3_0x510fa7;try{const _0x4cee57=Number(window[_0x593f14(0x207)]?.[_0x593f14(0x1c0)]?.[_0x593f14(0x149)]?.[_0x593f14(0x160)]?.['id']);return _0x4cee57===0xbaf7174;}catch(_0x492361){return![];}}const DataManager={'saveLocally'(){const _0x4f3ffa=a3_0x510fa7;try{localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x4f3ffa(0x1a3)](KEY_CLIENTS,JSON[_0x4f3ffa(0x148)](clients)),localStorage[_0x4f3ffa(0x1a3)](KEY_SETTINGS,JSON[_0x4f3ffa(0x148)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x1eb983){}},'loadLocal'(){const _0x5edb6b=a3_0x510fa7;try{const _0xeef951=localStorage['getItem'](KEY_SESSIONS);if(_0xeef951)sessions=JSON[_0x5edb6b(0x136)](_0xeef951);const _0xd0ff79=localStorage[_0x5edb6b(0x189)](KEY_CLIENTS);if(_0xd0ff79)clients=JSON[_0x5edb6b(0x136)](_0xd0ff79);const _0x46f23c=localStorage[_0x5edb6b(0x189)](KEY_SETTINGS);if(_0x46f23c){const _0x19bb39=JSON[_0x5edb6b(0x136)](_0x46f23c);if(_0x19bb39['pattern'])availabilityPattern=_0x19bb39[_0x5edb6b(0x13e)];if(_0x19bb39['ranges'])specialRanges=_0x19bb39['ranges'];if(_0x19bb39[_0x5edb6b(0x16b)])dateExceptions=_0x19bb39[_0x5edb6b(0x16b)];}}catch(_0x46aab5){}},async 'syncLoad'(){const _0x21d64d=a3_0x510fa7,_0x59a3ae=new Date(),_0x19d755=_0x59a3ae[_0x21d64d(0x21e)]()+'-'+String(_0x59a3ae['getMonth']()+0x1)[_0x21d64d(0x165)](0x2,'0'),_0x167dde=new Date(_0x59a3ae);_0x167dde['setMonth'](_0x59a3ae[_0x21d64d(0x1eb)]()+0x1);const _0x51fad8=_0x167dde[_0x21d64d(0x21e)]()+'-'+String(_0x167dde[_0x21d64d(0x1eb)]()+0x1)[_0x21d64d(0x165)](0x2,'0'),_0xd3b0cf=Date['now']();try{const _0xd4f7e3=window[_0x21d64d(0x207)]?.['WebApp'],_0x200ca6=_0xd4f7e3?.['initData']||'',[_0x34104c,_0x40f1db]=await Promise[_0x21d64d(0x195)]([fetch(API_URL,{'method':_0x21d64d(0x1d7),'body':JSON[_0x21d64d(0x148)]({'action':_0x21d64d(0x1ea),'init_data':_0x200ca6,'month_str':_0x19d755})})[_0x21d64d(0x13a)](_0x2da4e3=>_0x2da4e3['json']()),fetch(API_URL,{'method':'POST','body':JSON[_0x21d64d(0x148)]({'action':_0x21d64d(0x1ea),'init_data':_0x200ca6,'month_str':_0x51fad8})})[_0x21d64d(0x13a)](_0x5a9d41=>_0x5a9d41[_0x21d64d(0x16a)]())]);if(lastUserActionTime>_0xd3b0cf){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x34104c['ok'])this[_0x21d64d(0x1b1)](_0x34104c['data'],_0x19d755);if(_0x40f1db['ok'])this[_0x21d64d(0x1b1)](_0x40f1db[_0x21d64d(0x18e)],_0x51fad8);this[_0x21d64d(0x143)]();}catch(_0x3868df){}},'applyData'(_0x41ed80,_0x2887c1){const _0x512c5f=a3_0x510fa7;if(!_0x41ed80)return;if(_0x41ed80[_0x512c5f(0x134)]){if(_0x41ed80['settings'][_0x512c5f(0x13e)])availabilityPattern=_0x41ed80[_0x512c5f(0x134)][_0x512c5f(0x13e)];if(_0x41ed80[_0x512c5f(0x134)][_0x512c5f(0x142)])specialRanges=_0x41ed80[_0x512c5f(0x134)]['ranges'];if(_0x41ed80[_0x512c5f(0x134)][_0x512c5f(0x16b)])dateExceptions=_0x41ed80[_0x512c5f(0x134)][_0x512c5f(0x16b)];}if(_0x41ed80['clients']&&Array[_0x512c5f(0x12a)](_0x41ed80['clients']))clients=_0x41ed80[_0x512c5f(0x191)];_0x41ed80[_0x512c5f(0x169)]&&(coachProfiles={...coachProfiles,..._0x41ed80['coach_profiles']}),_0x41ed80[_0x512c5f(0x11c)]&&(sessions=sessions[_0x512c5f(0x1f2)](_0xc5562a=>!_0xc5562a[_0x512c5f(0x155)][_0x512c5f(0x1e7)](_0x2887c1)),Object[_0x512c5f(0x17f)](_0x41ed80[_0x512c5f(0x11c)])[_0x512c5f(0x190)](_0x1919f8=>{const _0x504337=_0x512c5f,_0x5400d4=_0x41ed80[_0x504337(0x11c)][_0x1919f8];_0x5400d4[_0x504337(0x190)](_0x472bf5=>{const _0x76219=_0x504337;sessions[_0x76219(0x1e0)]({'id':_0x472bf5['i'],'clientId':_0x472bf5['c'],'coachId':_0x472bf5[_0x76219(0x18d)],'dateStr':_0x2887c1+'-'+_0x1919f8[_0x76219(0x165)](0x2,'0'),'start':_0x472bf5['s'],'end':_0x472bf5['e'],'note':_0x472bf5['n']||'','status':_0x472bf5['st']||'planned','seriesId':_0x472bf5['sid']});});})),reRenderBlocks();}};function init(){const _0x1aeba2=a3_0x510fa7;DataManager[_0x1aeba2(0x1e8)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1aeba2(0x203)]('matrixViewport')[_0x1aeba2(0x179)](_0x1aeba2(0x131),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']();}function renderTimeColumn(){const _0x4c4fd7=a3_0x510fa7,_0x1d86ec=document[_0x4c4fd7(0x203)](_0x4c4fd7(0x141)),_0x482702=document[_0x4c4fd7(0x203)]('timeLineBadge');_0x1d86ec['innerHTML']='',_0x1d86ec['appendChild'](_0x482702);for(let _0x46f9d1=0x0;_0x46f9d1<0x18;_0x46f9d1++){const _0x722a00=document[_0x4c4fd7(0x1b0)]('div');_0x722a00['className']=_0x4c4fd7(0x1da);if(_0x46f9d1>0x0)_0x722a00[_0x4c4fd7(0x182)]=_0x4c4fd7(0x13d)+String(_0x46f9d1)[_0x4c4fd7(0x165)](0x2,'0')+_0x4c4fd7(0x146);_0x1d86ec['appendChild'](_0x722a00);}}function renderDayRange(_0x2e0fa8,_0x2628cc){const _0x3666e8=a3_0x510fa7,_0x1c05a1=document[_0x3666e8(0x203)](_0x3666e8(0x1fd)),_0xe306dd=document[_0x3666e8(0x203)](_0x3666e8(0x1a2)),_0x4edbdf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x285dc4=new Date();_0x285dc4[_0x3666e8(0x158)](0x0,0x0,0x0,0x0);const _0xa89c75=getLocalDateStr(new Date());for(let _0x195226=_0x2e0fa8;_0x195226<=_0x2628cc;_0x195226++){const _0x2f881d=new Date(_0x285dc4);_0x2f881d[_0x3666e8(0x1bf)](_0x2f881d['getDate']()+_0x195226);const _0x3b03a2=getLocalDateStr(_0x2f881d);let _0x49148a=_0x2f881d[_0x3666e8(0x1b2)]()-0x1;if(_0x49148a===-0x1)_0x49148a=0x6;const _0x1b9b2f=_0x3b03a2===_0xa89c75,_0x4a4c0d=document[_0x3666e8(0x1b0)](_0x3666e8(0x15e));_0x4a4c0d['className']=_0x3666e8(0x197)+(_0x1b9b2f?_0x3666e8(0x1e2):''),_0x4a4c0d[_0x3666e8(0x1cf)](_0x3666e8(0x205),_0x3b03a2),_0x4a4c0d[_0x3666e8(0x182)]=_0x3666e8(0x1fc)+_0x4edbdf[_0x49148a]+_0x3666e8(0x180)+_0x2f881d[_0x3666e8(0x184)]()+_0x3666e8(0x122),_0x1c05a1[_0x3666e8(0x1e1)](_0x4a4c0d);const _0x1d07ba=document[_0x3666e8(0x1b0)](_0x3666e8(0x15e));_0x1d07ba[_0x3666e8(0x14b)]='day-column\x20'+(_0x1b9b2f?'today':''),_0x1d07ba[_0x3666e8(0x1cf)](_0x3666e8(0x205),_0x3b03a2),_0x1d07ba[_0x3666e8(0x1cf)](_0x3666e8(0x159),_0x49148a),_0xe306dd[_0x3666e8(0x1e1)](_0x1d07ba);}}function reRenderBlocks(){const _0x1d2aed=a3_0x510fa7;document[_0x1d2aed(0x1f1)]('.day-column')[_0x1d2aed(0x190)](_0x4c2f00=>{const _0x137972=_0x1d2aed;_0x4c2f00[_0x137972(0x1f1)](_0x137972(0x153))[_0x137972(0x190)](_0x1fdfd8=>_0x1fdfd8[_0x137972(0x144)]());const _0x528966=_0x4c2f00[_0x137972(0x132)](_0x137972(0x205)),_0x551eba=parseInt(_0x4c2f00[_0x137972(0x132)](_0x137972(0x159))),_0x11f068=Math[_0x137972(0x187)](_0x4c2f00[_0x137972(0x162)]);(availabilityPattern[_0x551eba]||[])[_0x137972(0x190)](_0x53e819=>{const _0xbfd5ce=_0x137972,_0x4387a4=document[_0xbfd5ce(0x1b0)](_0xbfd5ce(0x15e));_0x4387a4[_0xbfd5ce(0x14b)]=_0xbfd5ce(0x18f),_0x4387a4[_0xbfd5ce(0x152)][_0xbfd5ce(0x1b3)]=_0x53e819*GRID_H+'px',_0x4387a4[_0xbfd5ce(0x152)][_0xbfd5ce(0x166)]='-'+_0x11f068+_0xbfd5ce(0x125)+_0x53e819*GRID_H+'px',_0x4c2f00[_0xbfd5ce(0x1e1)](_0x4387a4);});if(specialRanges['length']>0x0){const _0x254683=new Date(_0x528966+_0x137972(0x14e))[_0x137972(0x1db)](),_0x40afe5=new Date(_0x528966+'T23:59:59')['getTime']();specialRanges[_0x137972(0x190)](_0x495b30=>{const _0x2d0799=_0x137972,_0x4ffa7e=new Date(_0x495b30[_0x2d0799(0x1b6)])[_0x2d0799(0x1db)](),_0x4ec7c2=new Date(_0x495b30[_0x2d0799(0x170)])['getTime'](),_0x4dfbd4=Math[_0x2d0799(0x16c)](_0x254683,_0x4ffa7e),_0x2fae06=Math[_0x2d0799(0x1ff)](_0x40afe5,_0x4ec7c2);if(_0x4dfbd4<_0x2fae06){const _0x53e4f8=(_0x4dfbd4-_0x254683)/0x36ee80*GRID_H,_0x5c9864=(_0x2fae06-_0x4dfbd4)/0x36ee80*GRID_H,_0x1ed4af=document[_0x2d0799(0x1b0)]('div');_0x5c9864>=23.5*GRID_H?(_0x1ed4af[_0x2d0799(0x14b)]=_0x2d0799(0x172),_0x1ed4af['style']['backgroundPosition']='-'+_0x11f068+_0x2d0799(0x17c)):(_0x1ed4af['className']=_0x2d0799(0x151),_0x1ed4af[_0x2d0799(0x152)][_0x2d0799(0x1b3)]=_0x53e4f8+'px',_0x1ed4af[_0x2d0799(0x152)][_0x2d0799(0x19d)]=_0x5c9864+'px',_0x1ed4af['style']['backgroundPosition']='-'+_0x11f068+'px\x20-'+_0x53e4f8+'px'),_0x4c2f00[_0x2d0799(0x1e1)](_0x1ed4af);}});}renderEventsForColumn(_0x4c2f00,_0x528966);});}function renderEventsForColumn(_0x285579,_0x4e6bfd){const _0x301eea=a3_0x510fa7,_0x1cfcdc=sessions['filter'](_0x41dbc0=>_0x41dbc0[_0x301eea(0x155)]===_0x4e6bfd),_0x5ee90b=_0x1cfcdc[_0x301eea(0x138)](_0x2c942a=>{const _0x3bcc25=_0x301eea,[_0xedd158,_0xea69c0]=_0x2c942a[_0x3bcc25(0x1b6)]['split'](':')[_0x3bcc25(0x138)](Number),[_0x513f39,_0x20ea5f]=_0x2c942a[_0x3bcc25(0x170)][_0x3bcc25(0x19f)](':')[_0x3bcc25(0x138)](Number);return{'data':_0x2c942a,'start':_0xedd158*0x3c+_0xea69c0,'end':_0x513f39*0x3c+_0x20ea5f,'colIndex':0x0};});_0x5ee90b['sort']((_0x56bed2,_0x2e05a1)=>_0x56bed2[_0x301eea(0x1b6)]-_0x2e05a1[_0x301eea(0x1b6)]||_0x2e05a1[_0x301eea(0x170)]-_0x2e05a1[_0x301eea(0x1b6)]-(_0x56bed2[_0x301eea(0x170)]-_0x56bed2[_0x301eea(0x1b6)]));const _0x5ea00a=[];_0x5ee90b[_0x301eea(0x190)](_0x4af3cc=>{const _0x320f16=_0x301eea;let _0x40ba68=![];for(let _0x40df74=0x0;_0x40df74<_0x5ea00a[_0x320f16(0x1ce)];_0x40df74++){const _0x570b4b=_0x5ea00a[_0x40df74];if(_0x4af3cc[_0x320f16(0x1b6)]>=_0x570b4b[_0x570b4b[_0x320f16(0x1ce)]-0x1][_0x320f16(0x170)]){_0x570b4b[_0x320f16(0x1e0)](_0x4af3cc),_0x4af3cc['colIndex']=_0x40df74,_0x40ba68=!![];break;}}!_0x40ba68&&(_0x5ea00a[_0x320f16(0x1e0)]([_0x4af3cc]),_0x4af3cc[_0x320f16(0x1c7)]=_0x5ea00a[_0x320f16(0x1ce)]-0x1);}),_0x5ee90b[_0x301eea(0x190)](_0x47272f=>{const _0x118ee3=_0x301eea;let _0x2b9528=0x0;_0x5ee90b[_0x118ee3(0x190)](_0xb61dcc=>{const _0x1adfe3=_0x118ee3;if(Math[_0x1adfe3(0x16c)](_0x47272f[_0x1adfe3(0x1b6)],_0xb61dcc[_0x1adfe3(0x1b6)])<Math[_0x1adfe3(0x1ff)](_0x47272f[_0x1adfe3(0x170)],_0xb61dcc[_0x1adfe3(0x170)])&&_0xb61dcc[_0x1adfe3(0x1c7)]>_0x2b9528)_0x2b9528=_0xb61dcc[_0x1adfe3(0x1c7)];});const _0x1026c4=_0x2b9528+0x1,_0x26a42e=0x64/_0x1026c4,_0x5dd784=_0x47272f[_0x118ee3(0x1c7)]*_0x26a42e,_0x5a0f21=document[_0x118ee3(0x1b0)](_0x118ee3(0x15e)),_0x5703e1=_0x47272f[_0x118ee3(0x18e)];let _0x2d3db0='#0a84ff';if(clients&&clients['length']>0x0){const _0x4c8dee=clients[_0x118ee3(0x1bd)](_0x3fc3e5=>String(_0x3fc3e5['id'])===String(_0x5703e1['clientId']));if(_0x4c8dee&&_0x4c8dee[_0x118ee3(0x1f3)])_0x2d3db0=_0x4c8dee[_0x118ee3(0x1f3)];}const _0x2bdc1e=_0x5703e1[_0x118ee3(0x1d3)]==='completed',_0x46626e=_0x2bdc1e?0x1:0.45;_0x5a0f21[_0x118ee3(0x14b)]=_0x118ee3(0x1ca)+(_0x2bdc1e?_0x118ee3(0x128):''),_0x5a0f21[_0x118ee3(0x152)][_0x118ee3(0x1a6)]=hexToRgba(_0x2d3db0,_0x46626e),_0x5a0f21[_0x118ee3(0x152)][_0x118ee3(0x1aa)]=_0x2d3db0;const _0x3953aa=_0x47272f[_0x118ee3(0x1b6)]/0x3c*GRID_H,_0x12292d=(_0x47272f[_0x118ee3(0x170)]-_0x47272f[_0x118ee3(0x1b6)])/0x3c*GRID_H;_0x5a0f21[_0x118ee3(0x152)][_0x118ee3(0x1b3)]=_0x3953aa+'px',_0x5a0f21['style'][_0x118ee3(0x19d)]=Math[_0x118ee3(0x16c)](_0x12292d,0x14)+'px',_0x5a0f21[_0x118ee3(0x152)][_0x118ee3(0x1b7)]=_0x118ee3(0x11d)+_0x26a42e+_0x118ee3(0x16f),_0x5a0f21[_0x118ee3(0x152)]['left']=_0x118ee3(0x11d)+_0x5dd784+_0x118ee3(0x1d6),_0x5a0f21[_0x118ee3(0x152)][_0x118ee3(0x1e3)]=0xa+_0x47272f[_0x118ee3(0x1c7)];if(_0x26a42e<0x55)_0x5a0f21[_0x118ee3(0x11b)][_0x118ee3(0x206)](_0x118ee3(0x150));let _0x3cbed4='';if(_0x5703e1[_0x118ee3(0x14f)])_0x3cbed4+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x2bdc1e)_0x3cbed4+=_0x118ee3(0x198);_0x5a0f21[_0x118ee3(0x182)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x5703e1[_0x118ee3(0x1b6)]+'\x20-\x20'+_0x5703e1['end']+_0x118ee3(0x124)+_0x3cbed4+_0x118ee3(0x1cd),_0x5a0f21['onclick']=_0x103ecf=>{const _0x36e071=_0x118ee3;_0x103ecf[_0x36e071(0x1b8)](),openDetails(_0x5703e1);},_0x285579[_0x118ee3(0x1e1)](_0x5a0f21);});}function a3_0x2f91(_0x29dfc6,_0x3b1c36){_0x29dfc6=_0x29dfc6-0x119;const _0xa87f2f=a3_0x1f6f();let _0x3c113d=_0xa87f2f[_0x29dfc6];return _0x3c113d;}function openAnalytics(){const _0x2b033b=a3_0x510fa7,_0x54acd4=document['querySelector'](_0x2b033b(0x20d));setAnalyticsPeriod(_0x2b033b(0x1c3),_0x54acd4),openSheet(_0x2b033b(0x1f4));}function setAnalyticsPeriod(_0x2d9dd0,_0x14ea0c){const _0x11e008=a3_0x510fa7;currentAnPeriod=_0x2d9dd0,document[_0x11e008(0x1f1)]('.period-switch\x20.p-btn')['forEach'](_0x258102=>_0x258102[_0x11e008(0x11b)]['remove'](_0x11e008(0x1e9)));if(_0x14ea0c)_0x14ea0c[_0x11e008(0x11b)][_0x11e008(0x206)]('active');const _0x22db2d=document[_0x11e008(0x203)](_0x11e008(0x1df));_0x22db2d[_0x11e008(0x152)][_0x11e008(0x201)]=_0x2d9dd0===_0x11e008(0x15a)?_0x11e008(0x156):_0x11e008(0x19a);const _0x51b200=new Date();let _0x3c62fd=new Date(),_0x28223f=new Date();if(_0x2d9dd0===_0x11e008(0x1c3))_0x3c62fd=getStartOfWeek(_0x51b200),_0x28223f=new Date(_0x3c62fd),_0x28223f['setDate'](_0x28223f[_0x11e008(0x184)]()+0x6);else{if(_0x2d9dd0===_0x11e008(0x139))_0x3c62fd=new Date(_0x51b200['getFullYear'](),_0x51b200['getMonth'](),0x1),_0x28223f=new Date(_0x51b200['getFullYear'](),_0x51b200[_0x11e008(0x1eb)]()+0x1,0x0);else{!document[_0x11e008(0x203)](_0x11e008(0x135))[_0x11e008(0x11e)]&&(document[_0x11e008(0x203)]('anStart')['value']=getLocalDateStr(_0x51b200),document[_0x11e008(0x203)](_0x11e008(0x1be))[_0x11e008(0x11e)]=getLocalDateStr(_0x51b200));refreshAnalytics();return;}}document[_0x11e008(0x203)]('anStart')[_0x11e008(0x11e)]=getLocalDateStr(_0x3c62fd),document[_0x11e008(0x203)](_0x11e008(0x1be))[_0x11e008(0x11e)]=getLocalDateStr(_0x28223f),refreshAnalytics();}function refreshAnalytics(){const _0x38d21b=a3_0x510fa7,_0x28e6f5=document[_0x38d21b(0x203)](_0x38d21b(0x135))['value'],_0xc5fa32=document[_0x38d21b(0x203)](_0x38d21b(0x1be))[_0x38d21b(0x11e)];if(!_0x28e6f5||!_0xc5fa32)return;const _0x124499=sessions[_0x38d21b(0x1f2)](_0x39cda6=>_0x39cda6[_0x38d21b(0x155)]>=_0x28e6f5&&_0x39cda6['dateStr']<=_0xc5fa32&&_0x39cda6[_0x38d21b(0x1d3)]!=='cancelled'),_0x2706d6=_0x124499[_0x38d21b(0x1ce)],_0x4a4edd=_0x124499[_0x38d21b(0x1f2)](_0x3ef77a=>_0x3ef77a[_0x38d21b(0x1d3)]===_0x38d21b(0x1fb))[_0x38d21b(0x1ce)],_0x5514e4=_0x2706d6>0x0?Math['round'](_0x4a4edd/_0x2706d6*0x64):0x0;document[_0x38d21b(0x203)]('anPercent')[_0x38d21b(0x17a)]=_0x5514e4+'%',document['getElementById'](_0x38d21b(0x217))[_0x38d21b(0x17a)]=_0x4a4edd+_0x38d21b(0x199)+_0x2706d6+_0x38d21b(0x121);const _0x4e787a=document[_0x38d21b(0x203)](_0x38d21b(0x1a4)),_0x3f0653=0x2*Math['PI']*0x23,_0x34f51a=_0x3f0653-_0x5514e4/0x64*_0x3f0653;_0x4e787a[_0x38d21b(0x152)][_0x38d21b(0x1d4)]=_0x34f51a;const _0xe23e0a={};_0x124499[_0x38d21b(0x190)](_0x5f789c=>{const _0x50cc3d=_0x38d21b,_0x183c58=_0x5f789c['coachId']||_0x50cc3d(0x15f);if(!_0xe23e0a[_0x183c58]){const _0x5c4e5c='#'+_0x183c58[_0x50cc3d(0x18c)]()['substr'](0x0,0x6);_0xe23e0a[_0x183c58]={'total':0x0,'done':0x0,'color':_0x5c4e5c};}_0xe23e0a[_0x183c58][_0x50cc3d(0x1d9)]++;if(_0x5f789c['status']===_0x50cc3d(0x1fb))_0xe23e0a[_0x183c58][_0x50cc3d(0x147)]++;});const _0x4eabab=document['getElementById'](_0x38d21b(0x119));_0x4eabab[_0x38d21b(0x182)]='';const _0x1ec2a4=Object[_0x38d21b(0x21f)](_0xe23e0a)[_0x38d21b(0x1bb)]((_0x241ef6,_0x27aea4)=>_0x27aea4[0x1][_0x38d21b(0x1d9)]-_0x241ef6[0x1][_0x38d21b(0x1d9)]);if(_0x1ec2a4[_0x38d21b(0x1ce)]===0x0){_0x4eabab[_0x38d21b(0x182)]=_0x38d21b(0x213);return;}_0x1ec2a4[_0x38d21b(0x190)](([_0x488784,_0x54aef0])=>{const _0x83f2d5=_0x38d21b,_0x2c662c=Math[_0x83f2d5(0x187)](_0x54aef0[_0x83f2d5(0x147)]/_0x54aef0[_0x83f2d5(0x1d9)]*0x64),_0x5ee8f7=document['createElement']('div');_0x5ee8f7['className']=_0x83f2d5(0x1ad),_0x5ee8f7[_0x83f2d5(0x152)][_0x83f2d5(0x1aa)]=_0x54aef0[_0x83f2d5(0x1f3)],_0x5ee8f7[_0x83f2d5(0x182)]=_0x83f2d5(0x12f)+_0x488784['substr'](0x0,0x5)+_0x83f2d5(0x14c)+_0x54aef0[_0x83f2d5(0x147)]+_0x83f2d5(0x1d5)+_0x54aef0[_0x83f2d5(0x1d9)]+_0x83f2d5(0x218)+_0x2c662c+_0x83f2d5(0x1f5),_0x4eabab[_0x83f2d5(0x1e1)](_0x5ee8f7);});}function openDetails(_0x3e020d){const _0xc3a59d=a3_0x510fa7;currentSession=_0x3e020d;const _0x57eb66=new Date(_0x3e020d[_0xc3a59d(0x155)]),_0x38ef91=_0x57eb66['toLocaleDateString'](_0xc3a59d(0x19e),{'weekday':'long','day':_0xc3a59d(0x15c),'month':_0xc3a59d(0x194)});document[_0xc3a59d(0x203)](_0xc3a59d(0x12d))[_0xc3a59d(0x17a)]=_0x38ef91[_0xc3a59d(0x13c)](0x0)[_0xc3a59d(0x1d1)]()+_0x38ef91['slice'](0x1),document['getElementById'](_0xc3a59d(0x1a9))[_0xc3a59d(0x17a)]=_0x3e020d['start']+_0xc3a59d(0x16e)+_0x3e020d[_0xc3a59d(0x170)],document['getElementById'](_0xc3a59d(0x210))[_0xc3a59d(0x17a)]=_0x3e020d[_0xc3a59d(0x163)]||_0xc3a59d(0x12e);const _0x1cbe64=document[_0xc3a59d(0x203)](_0xc3a59d(0x145)),_0x14e77c=document['getElementById'](_0xc3a59d(0x15b)),_0x23272e=_0x14e77c['querySelector'](_0xc3a59d(0x19c)),_0x3332ee=_0x14e77c['querySelector'](_0xc3a59d(0x1ee)),_0x2f52ab=document[_0xc3a59d(0x203)](_0xc3a59d(0x127));if(_0x3e020d[_0xc3a59d(0x1d3)]==='completed')_0x1cbe64[_0xc3a59d(0x17a)]=_0xc3a59d(0x1a7),_0x1cbe64['style'][_0xc3a59d(0x1f3)]=_0xc3a59d(0x1ac),_0x14e77c[_0xc3a59d(0x152)]['display']=_0xc3a59d(0x19a);else{_0x1cbe64[_0xc3a59d(0x17a)]=_0xc3a59d(0x1a5),_0x1cbe64['style'][_0xc3a59d(0x1f3)]=_0xc3a59d(0x19b),_0x14e77c[_0xc3a59d(0x152)][_0xc3a59d(0x201)]='block';const _0x2df335=new Date(_0x3e020d['dateStr']+'T'+_0x3e020d[_0xc3a59d(0x1b6)]),_0x23f9f2=new Date(),_0x16ae36=(_0x2df335-_0x23f9f2)/(0x3e8*0x3c*0x3c),_0x4aff19=coachProfiles[_0x3e020d[_0xc3a59d(0x1d8)]]&&coachProfiles[_0x3e020d[_0xc3a59d(0x1d8)]][_0xc3a59d(0x1dd)]?parseInt(coachProfiles[_0x3e020d[_0xc3a59d(0x1d8)]]['cancel_window']):0x18;if(_0x4aff19===0x0||_0x16ae36>=_0x4aff19)_0x23272e[_0xc3a59d(0x152)][_0xc3a59d(0x201)]=_0xc3a59d(0x20f),_0x3332ee[_0xc3a59d(0x152)]['display']=_0xc3a59d(0x20f),_0x2f52ab[_0xc3a59d(0x152)][_0xc3a59d(0x201)]='none';else{_0x23272e[_0xc3a59d(0x152)]['display']='none',_0x3332ee[_0xc3a59d(0x152)][_0xc3a59d(0x201)]=_0xc3a59d(0x19a),_0x2f52ab[_0xc3a59d(0x152)][_0xc3a59d(0x201)]=_0xc3a59d(0x20f);let _0x1ab6c6=_0x4aff19===0x0?_0xc3a59d(0x1c9):_0xc3a59d(0x176)+_0x4aff19+_0xc3a59d(0x1c2);_0x2f52ab[_0xc3a59d(0x17a)]=_0xc3a59d(0x211)+_0x1ab6c6+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0xc3a59d(0x203)](_0xc3a59d(0x1ba))[_0xc3a59d(0x11b)][_0xc3a59d(0x206)](_0xc3a59d(0x1e9)),document[_0xc3a59d(0x203)](_0xc3a59d(0x15d))[_0xc3a59d(0x11b)][_0xc3a59d(0x206)](_0xc3a59d(0x17b));}function closeAllSheets(){const _0xb2934f=a3_0x510fa7;document[_0xb2934f(0x203)]('overlay')['classList'][_0xb2934f(0x144)](_0xb2934f(0x1e9)),document[_0xb2934f(0x1f1)]('.sheet')[_0xb2934f(0x190)](_0x483ca6=>_0x483ca6[_0xb2934f(0x11b)]['remove'](_0xb2934f(0x17b)));}function openSheet(_0x29e2a1){const _0x39523a=a3_0x510fa7;document[_0x39523a(0x203)](_0x39523a(0x1ba))['classList'][_0x39523a(0x206)](_0x39523a(0x1e9)),document[_0x39523a(0x203)](_0x29e2a1)[_0x39523a(0x11b)][_0x39523a(0x206)](_0x39523a(0x17b));}function getLocalDateStr(_0x30f9db){const _0x800a7d=a3_0x510fa7,_0x3224fe=_0x30f9db['getFullYear'](),_0x1fa651=String(_0x30f9db[_0x800a7d(0x1eb)]()+0x1)['padStart'](0x2,'0'),_0x1bdd9a=String(_0x30f9db[_0x800a7d(0x184)]())[_0x800a7d(0x165)](0x2,'0');return _0x3224fe+'-'+_0x1fa651+'-'+_0x1bdd9a;}function getStartOfWeek(_0x4632be){const _0x59548c=a3_0x510fa7,_0x32c236=new Date(_0x4632be),_0x499cad=_0x32c236[_0x59548c(0x1b2)](),_0x298da7=_0x32c236[_0x59548c(0x184)]()-_0x499cad+(_0x499cad===0x0?-0x6:0x1);return _0x32c236[_0x59548c(0x1bf)](_0x298da7),_0x32c236['setHours'](0x0,0x0,0x0,0x0),_0x32c236;}function scrollToToday(){const _0x5826eb=getLocalDateStr(new Date());setTimeout(()=>{const _0x3f012a=a3_0x2f91,_0x4adb82=document['querySelector'](_0x3f012a(0x1ed)+_0x5826eb+'\x22]');if(_0x4adb82){const _0x12b908=document['getElementById'](_0x3f012a(0x154)),_0x5e4d4f=_0x4adb82[_0x3f012a(0x162)]-_0x12b908[_0x3f012a(0x1dc)]/0x2+_0x4adb82[_0x3f012a(0x18a)]/0x2;_0x12b908[_0x3f012a(0x14d)]({'left':_0x5e4d4f,'behavior':'auto'}),_0x12b908[_0x3f012a(0x173)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function a3_0x1f6f(){const _0x539fa7=['applyData','getDay','top','toast','100442TrkzZV','start','width','stopPropagation','get_slots','overlay','sort','location','find','anEnd','setDate','WebApp','82626KAjpEt','\x20—á.','week','uc_client_sessions','insertBefore','11108WATwjF','colIndex','scrollLeft','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','event-card','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','setAttribute','getHours','toUpperCase','apply','status','strokeDashoffset','</span>\x20/\x20','%\x20+\x202px)','POST','coachId','total','time-label','getTime','clientWidth','cancel_window','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','anCustomDates','push','appendChild','today','zIndex','.day-col-header','router.html','.day-column','startsWith','loadLocal','active','client_load','getMonth','10xXmrgM','.day-col-header[data-date=\x22','.btn-reschedule','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','Error\x20setting\x20color:','querySelectorAll','filter','color','analyticsSheet','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20–≤\x20','querySelector','Error\x20setting\x20back\x20button:','123xypMbk','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','completed','<div\x20class=\x22dch-day\x22>','daysHeaderTrack','globalTimeLine','min','v9.5-CLIENT-ANALYTICS','display','button','getElementById','14hzUFsI','data-date','add','Telegram','customConfirm','#ff453a','getMinutes','substring','setBackgroundColor','.period-switch\x20.p-btn','day-column\x20','block','detNote','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','rs-time-btn','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','Critical\x20TMA\x20Error:','ready','firstChild','anTotalStats','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','fontWeight','BackButton','rsDatesTrack','client_cancel','uc_client_list','getFullYear','entries','analyticsList','.rs-date-chip','classList','calendar','calc(','value','(((.+)+)+)+$','1597560oClBYJ','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','</div>','now','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px\x20-','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','cancelHint','\x20status-completed','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','isArray','disableVerticalSwipes','600','detDate','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','scrollWidth','scroll','getAttribute','#0a84ff','settings','anStart','parse','110160ommGoW','map','month','then','createDocumentFragment','charAt','<span>','pattern','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','timeColumn','ranges','saveLocally','remove','detStatus',':00</span>','done','stringify','initDataUnsafe','href','className','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','scrollTo','T00:00:00','seriesId','mini','blocked-range-part\x20stripe-bg','style','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','matrixViewport','dateStr','flex','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','setHours','data-day-idx','custom','cancelContainer','numeric','detailsSheet','div','Unknown','user','search','offsetLeft','note','–û—Ç–º–µ–Ω–µ–Ω–æ','padStart','backgroundPosition','796195Wwhttp','11bJoahU','coach_profiles','json','exceptions','max','5366052VjDLyV','\x20-\x20','%\x20-\x204px)','end','join','day-off-overlay\x20stripe-bg','scrollTop','#050505','rgba(','–∑–∞\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','reschedule','addEventListener','textContent','open','px\x200px','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','expand','keys','</div><div\x20class=\x22dch-num\x22>','visible','innerHTML','4JLTDii','getDate','setHeaderColor','uc_client_settings','round','initData','getItem','offsetWidth','DOMContentLoaded','toString','cid','data','blocked-slot\x20stripe-bg','forEach','clients','</div><div\x20class=\x22rs-day-num\x22>','onClick','long','all','offClick','day-col-header\x20','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x20–∏–∑\x20','none','var(--acc-blue)','.btn-cancel','height','ru-RU','split','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','rgba(10,\x20132,\x20255,\x20','gridColumns','setItem','anDonutCircle','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','backgroundColor','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','toLocaleString','detTime','borderLeftColor','show','var(--acc-green)','client-stat-card','rsSlotsGrid','toLocaleDateString','createElement'];a3_0x1f6f=function(){return _0x539fa7;};return a3_0x1f6f();}function updateClock(){const _0x3812c4=a3_0x510fa7,_0x2d28bb=new Date(),_0x1da8cd=document[_0x3812c4(0x203)](_0x3812c4(0x1fe)),_0x310db4=document[_0x3812c4(0x203)]('timeLineBadge'),_0x465a55=(_0x2d28bb[_0x3812c4(0x1d0)]()*0x3c+_0x2d28bb[_0x3812c4(0x20a)]())/0x3c*GRID_H;_0x1da8cd[_0x3812c4(0x152)]['top']=_0x465a55+'px',_0x1da8cd[_0x3812c4(0x152)][_0x3812c4(0x201)]=_0x3812c4(0x20f),_0x310db4[_0x3812c4(0x152)][_0x3812c4(0x1b3)]=_0x465a55+'px',_0x310db4[_0x3812c4(0x152)][_0x3812c4(0x201)]=_0x3812c4(0x20f),_0x310db4[_0x3812c4(0x17a)]=String(_0x2d28bb[_0x3812c4(0x1d0)]())[_0x3812c4(0x165)](0x2,'0')+':'+String(_0x2d28bb['getMinutes']())[_0x3812c4(0x165)](0x2,'0');}function onScroll(){const _0x6f145b=a3_0x510fa7,_0x210e24=document['getElementById'](_0x6f145b(0x154)),_0x37066c=document['querySelectorAll'](_0x6f145b(0x1e4));for(let _0x23fdc5 of _0x37066c)if(_0x23fdc5[_0x6f145b(0x162)]>=_0x210e24['scrollLeft']){const _0x5afa55=new Date(_0x23fdc5[_0x6f145b(0x132)]('data-date'));document['getElementById']('headerMonth')[_0x6f145b(0x17a)]=_0x5afa55[_0x6f145b(0x1a8)]('ru',{'month':_0x6f145b(0x194)})['toUpperCase']()+'\x20'+_0x5afa55['getFullYear']();break;}}function showToast(_0x278977){const _0x502dd0=a3_0x510fa7,_0x17ebec=document['getElementById'](_0x502dd0(0x1b4));_0x17ebec[_0x502dd0(0x17a)]=_0x278977,_0x17ebec[_0x502dd0(0x11b)][_0x502dd0(0x206)](_0x502dd0(0x1ab)),setTimeout(()=>_0x17ebec[_0x502dd0(0x11b)][_0x502dd0(0x144)](_0x502dd0(0x1ab)),0x7d0);}function handleInfiniteScroll(){const _0x44daef=a3_0x510fa7,_0x1991af=document[_0x44daef(0x203)](_0x44daef(0x154)),_0x3f6238=_0x1991af[_0x44daef(0x1c8)],_0x3d31af=_0x1991af[_0x44daef(0x130)],_0x4a2ef4=_0x1991af['clientWidth'];if(_0x3d31af-(_0x3f6238+_0x4a2ef4)<0x12c){const _0x2d3178=endOffset;endOffset+=0xe,renderDayRange(_0x2d3178+0x1,endOffset),reRenderBlocks();}if(_0x3f6238<0x12c){const _0x124ac3=startOffset;startOffset-=0xe,prependDays(startOffset,_0x124ac3-0x1),_0x1991af[_0x44daef(0x1c8)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x36aa80,_0x1e456e){const _0x58d51a=a3_0x510fa7,_0x45e437=document[_0x58d51a(0x203)](_0x58d51a(0x1fd)),_0x555741=document[_0x58d51a(0x203)](_0x58d51a(0x1a2)),_0x535590=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5983d8=new Date();_0x5983d8[_0x58d51a(0x158)](0x0,0x0,0x0,0x0);const _0x32e4b7=getLocalDateStr(new Date()),_0x23609a=document[_0x58d51a(0x13b)](),_0x3eefa9=document[_0x58d51a(0x13b)]();for(let _0x33c7a2=_0x36aa80;_0x33c7a2<=_0x1e456e;_0x33c7a2++){const _0x4a95ba=new Date(_0x5983d8);_0x4a95ba[_0x58d51a(0x1bf)](_0x4a95ba[_0x58d51a(0x184)]()+_0x33c7a2);const _0x4822b7=getLocalDateStr(_0x4a95ba);let _0x3a2881=_0x4a95ba[_0x58d51a(0x1b2)]()-0x1;if(_0x3a2881===-0x1)_0x3a2881=0x6;const _0x7dc060=_0x4822b7===_0x32e4b7,_0xe3dd98=document[_0x58d51a(0x1b0)](_0x58d51a(0x15e));_0xe3dd98[_0x58d51a(0x14b)]='day-col-header\x20'+(_0x7dc060?'today':''),_0xe3dd98[_0x58d51a(0x1cf)](_0x58d51a(0x205),_0x4822b7),_0xe3dd98['innerHTML']=_0x58d51a(0x1fc)+_0x535590[_0x3a2881]+_0x58d51a(0x180)+_0x4a95ba['getDate']()+'</div>',_0x23609a[_0x58d51a(0x1e1)](_0xe3dd98);const _0x280e52=document[_0x58d51a(0x1b0)](_0x58d51a(0x15e));_0x280e52['className']=_0x58d51a(0x20e)+(_0x7dc060?'today':''),_0x280e52[_0x58d51a(0x1cf)](_0x58d51a(0x205),_0x4822b7),_0x280e52[_0x58d51a(0x1cf)](_0x58d51a(0x159),_0x3a2881),_0x3eefa9[_0x58d51a(0x1e1)](_0x280e52);}_0x45e437[_0x58d51a(0x1c5)](_0x23609a,_0x45e437['firstChild']),_0x555741[_0x58d51a(0x1c5)](_0x3eefa9,_0x555741[_0x58d51a(0x1f7)](_0x58d51a(0x1e6)));}function hexToRgba(_0x345b30,_0x82c6d4){const _0x2f5bdc=a3_0x510fa7;let _0x10aa3d;if(/^#([A-Fa-f0-9]{3}){1,2}$/['test'](_0x345b30))return _0x10aa3d=_0x345b30[_0x2f5bdc(0x20b)](0x1)[_0x2f5bdc(0x19f)](''),_0x10aa3d[_0x2f5bdc(0x1ce)]==0x3&&(_0x10aa3d=[_0x10aa3d[0x0],_0x10aa3d[0x0],_0x10aa3d[0x1],_0x10aa3d[0x1],_0x10aa3d[0x2],_0x10aa3d[0x2]]),_0x10aa3d='0x'+_0x10aa3d[_0x2f5bdc(0x171)](''),_0x2f5bdc(0x175)+[_0x10aa3d>>0x10&0xff,_0x10aa3d>>0x8&0xff,_0x10aa3d&0xff]['join'](',')+','+_0x82c6d4+')';return _0x2f5bdc(0x1a1)+_0x82c6d4+')';}let confirmResolver=null;function showCustomConfirm(_0x2e4028,_0x2d09b3,_0x4e75a6=!![]){const _0x53f417=a3_0x510fa7;document['getElementById']('ccTitle')[_0x53f417(0x17a)]=_0x2e4028,document[_0x53f417(0x203)]('ccText')[_0x53f417(0x17a)]=_0x2d09b3;const _0x322462=document['getElementById']('ccYesBtn');return _0x4e75a6?(_0x322462[_0x53f417(0x152)]['color']=_0x53f417(0x209),_0x322462[_0x53f417(0x152)][_0x53f417(0x219)]=_0x53f417(0x12c)):(_0x322462[_0x53f417(0x152)][_0x53f417(0x1f3)]=_0x53f417(0x133),_0x322462[_0x53f417(0x152)]['fontWeight']=_0x53f417(0x12c)),new Promise(_0x342899=>{const _0x70ca90=_0x53f417;confirmResolver=_0x342899,document['getElementById'](_0x70ca90(0x208))['classList'][_0x70ca90(0x206)]('visible');});}function resolveCustomConfirm(_0x1ad073){const _0x2e1d40=a3_0x510fa7;document[_0x2e1d40(0x203)](_0x2e1d40(0x208))['classList'][_0x2e1d40(0x144)](_0x2e1d40(0x181));if(confirmResolver)confirmResolver(_0x1ad073);}async function tryCancelCurrentSession(){const _0x890495=a3_0x510fa7;if(!currentSession)return;const _0x26d3d9=await showCustomConfirm(_0x890495(0x1ef),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x26d3d9)return;const _0x3ec1dd=currentSession;closeAllSheets(),sessions=sessions[_0x890495(0x1f2)](_0x57dc99=>_0x57dc99['id']!==_0x3ec1dd['id']),reRenderBlocks(),showToast(_0x890495(0x164)),lastUserActionTime=Date[_0x890495(0x123)]();try{const _0x817199=window['Telegram']?.[_0x890495(0x1c0)],_0x27729f=await fetch(API_URL,{'method':_0x890495(0x1d7),'body':JSON[_0x890495(0x148)]({'action':_0x890495(0x21c),'init_data':_0x817199?.[_0x890495(0x188)]||'','coachId':_0x3ec1dd[_0x890495(0x1d8)],'dateStr':_0x3ec1dd[_0x890495(0x155)],'sessionId':_0x3ec1dd['id']})});if(_0x27729f['ok'])DataManager[_0x890495(0x143)]();}catch(_0x5ccdc6){showToast(_0x890495(0x129));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2211f1=a3_0x510fa7;if(!currentSession)return;document[_0x2211f1(0x203)](_0x2211f1(0x15d))['classList']['remove'](_0x2211f1(0x17b)),document[_0x2211f1(0x203)]('rescheduleSheet')['classList'][_0x2211f1(0x206)]('open');const _0x55a49b=document['getElementById'](_0x2211f1(0x21b)),_0x380eb4=document['getElementById'](_0x2211f1(0x1ae));_0x55a49b[_0x2211f1(0x182)]='',_0x380eb4[_0x2211f1(0x182)]=_0x2211f1(0x1de);const [_0x2c0fc1,_0x269180]=currentSession['start'][_0x2211f1(0x19f)](':')[_0x2211f1(0x138)](Number),[_0x213804,_0x4ec98e]=currentSession[_0x2211f1(0x170)][_0x2211f1(0x19f)](':')[_0x2211f1(0x138)](Number),_0x661859=_0x213804*0x3c+_0x4ec98e-(_0x2c0fc1*0x3c+_0x269180);try{const _0x394b0a=window[_0x2211f1(0x207)]?.[_0x2211f1(0x1c0)],_0x4d462f=await fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x2211f1(0x1b9),'coachId':currentSession[_0x2211f1(0x1d8)],'duration':_0x661859,'init_data':_0x394b0a?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x1adb52=await _0x4d462f['json']();_0x1adb52['ok']&&_0x1adb52[_0x2211f1(0x18e)]?(availableSlotsCache=_0x1adb52[_0x2211f1(0x18e)],renderRescheduleDates()):_0x380eb4[_0x2211f1(0x182)]=_0x2211f1(0x13f);}catch(_0x145b3e){_0x380eb4['innerHTML']=_0x2211f1(0x140);}}function renderRescheduleDates(){const _0x4a4447=a3_0x510fa7,_0x310428=document['getElementById']('rsDatesTrack');_0x310428['innerHTML']='';const _0x16c6ce=Object[_0x4a4447(0x17f)](availableSlotsCache)[_0x4a4447(0x1bb)](),_0x3c094c=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x16c6ce[_0x4a4447(0x1ce)]===0x0){document['getElementById'](_0x4a4447(0x1ae))['innerHTML']=_0x4a4447(0x1cb);return;}_0x16c6ce[_0x4a4447(0x190)]((_0x1539b6,_0x56ec0a)=>{const _0x4cd730=_0x4a4447,_0x5d601a=new Date(_0x1539b6),_0x3544b6=_0x3c094c[_0x5d601a[_0x4cd730(0x1b2)]()],_0x51681c=_0x5d601a[_0x4cd730(0x184)](),_0x1642a2=document['createElement'](_0x4cd730(0x15e));_0x1642a2[_0x4cd730(0x14b)]='rs-date-chip';if(_0x56ec0a===0x0)_0x1642a2[_0x4cd730(0x11b)][_0x4cd730(0x206)]('active');_0x1642a2[_0x4cd730(0x182)]='<div\x20class=\x22rs-day-name\x22>'+_0x3544b6+_0x4cd730(0x192)+_0x51681c+'</div>',_0x1642a2['onclick']=()=>selectRsDate(_0x1539b6,_0x1642a2),_0x310428[_0x4cd730(0x1e1)](_0x1642a2);}),selectRsDate(_0x16c6ce[0x0],_0x310428[_0x4a4447(0x216)]);}function selectRsDate(_0x41eb8d,_0x333a8c){const _0x5037e8=a3_0x510fa7;selectedRsDate=_0x41eb8d,document[_0x5037e8(0x1f1)](_0x5037e8(0x11a))[_0x5037e8(0x190)](_0x555d3f=>_0x555d3f[_0x5037e8(0x11b)]['remove']('active'));if(_0x333a8c)_0x333a8c[_0x5037e8(0x11b)]['add'](_0x5037e8(0x1e9));const _0x29d71a=document[_0x5037e8(0x203)](_0x5037e8(0x1ae));_0x29d71a[_0x5037e8(0x182)]='';const _0x1a32eb=availableSlotsCache[_0x41eb8d]||[];if(_0x1a32eb[_0x5037e8(0x1ce)]===0x0){_0x29d71a['innerHTML']=_0x5037e8(0x13f);return;}_0x1a32eb['forEach'](_0x105f27=>{const _0x443565=_0x5037e8,_0x35cd94=document[_0x443565(0x1b0)](_0x443565(0x202));_0x35cd94['className']=_0x443565(0x212),_0x35cd94[_0x443565(0x17a)]=_0x105f27,_0x35cd94['onclick']=()=>confirmReschedule(_0x105f27),_0x29d71a[_0x443565(0x1e1)](_0x35cd94);});}async function confirmReschedule(_0x3cf6d8){const _0x3572ae=a3_0x510fa7,_0x5dc998=new Date(selectedRsDate),_0x837772=_0x5dc998[_0x3572ae(0x1af)](_0x3572ae(0x19e),{'day':_0x3572ae(0x15c),'month':'long'}),_0x32e999=await showCustomConfirm(_0x3572ae(0x126),_0x3572ae(0x1fa)+_0x837772+_0x3572ae(0x1f6)+_0x3cf6d8+'?',![]);if(!_0x32e999)return;closeAllSheets(),showToast(_0x3572ae(0x157)),lastUserActionTime=Date[_0x3572ae(0x123)]();const _0x2021f6=currentSession[_0x3572ae(0x155)],_0x36bfd9=currentSession['id'],[_0x2a048e,_0x2d6228]=currentSession[_0x3572ae(0x1b6)][_0x3572ae(0x19f)](':')['map'](Number),[_0x477844,_0x512e73]=currentSession[_0x3572ae(0x170)][_0x3572ae(0x19f)](':')[_0x3572ae(0x138)](Number),_0x6fc40e=_0x477844*0x3c+_0x512e73-(_0x2a048e*0x3c+_0x2d6228),[_0x1a0cf5,_0x563a3e]=_0x3cf6d8[_0x3572ae(0x19f)](':')[_0x3572ae(0x138)](Number),_0x246dba=_0x1a0cf5*0x3c+_0x563a3e+_0x6fc40e,_0x581bc2=Math['floor'](_0x246dba/0x3c),_0x343eee=_0x246dba%0x3c,_0x1f4e4c=String(_0x581bc2)[_0x3572ae(0x165)](0x2,'0')+':'+String(_0x343eee)[_0x3572ae(0x165)](0x2,'0'),_0x5ecf8c=sessions['findIndex'](_0x2904c1=>_0x2904c1['id']===_0x36bfd9);_0x5ecf8c!==-0x1&&(sessions[_0x5ecf8c][_0x3572ae(0x155)]=selectedRsDate,sessions[_0x5ecf8c][_0x3572ae(0x1b6)]=_0x3cf6d8,sessions[_0x5ecf8c][_0x3572ae(0x170)]=_0x1f4e4c,reRenderBlocks());try{const _0x2b8e67=window[_0x3572ae(0x207)]?.[_0x3572ae(0x1c0)],_0x1b7a0c=await fetch(API_URL,{'method':_0x3572ae(0x1d7),'body':JSON['stringify']({'action':_0x3572ae(0x178),'init_data':_0x2b8e67?.[_0x3572ae(0x188)]||'','oldSessionId':_0x36bfd9,'oldDate':_0x2021f6,'newDate':selectedRsDate,'newTime':_0x3cf6d8,'coachId':currentSession[_0x3572ae(0x1d8)]})}),_0x2394d9=await _0x1b7a0c[_0x3572ae(0x16a)]();!_0x2394d9['ok']?(showToast(_0x3572ae(0x1a0)),DataManager['syncLoad']()):(showToast(_0x3572ae(0x17d)),DataManager[_0x3572ae(0x143)]());}catch(_0xf2a552){showToast(_0x3572ae(0x129));}}document[a3_0x510fa7(0x179)](a3_0x510fa7(0x18b),init);