const a3_0x35a237=a3_0x46f4;(function(_0x572ba1,_0x57e757){const _0x57f9c9=a3_0x46f4,_0x21abab=_0x572ba1();while(!![]){try{const _0x3573df=parseInt(_0x57f9c9(0xec))/0x1+-parseInt(_0x57f9c9(0x119))/0x2+parseInt(_0x57f9c9(0x147))/0x3+-parseInt(_0x57f9c9(0xc1))/0x4+parseInt(_0x57f9c9(0x17d))/0x5*(-parseInt(_0x57f9c9(0x13f))/0x6)+-parseInt(_0x57f9c9(0xca))/0x7*(-parseInt(_0x57f9c9(0x131))/0x8)+parseInt(_0x57f9c9(0xb4))/0x9*(parseInt(_0x57f9c9(0x103))/0xa);if(_0x3573df===_0x57e757)break;else _0x21abab['push'](_0x21abab['shift']());}catch(_0x729641){_0x21abab['push'](_0x21abab['shift']());}}}(a3_0x467c,0x27be6));const APP_VERSION=a3_0x35a237(0xde),API_URL=a3_0x35a237(0xf8),GRID_H=0x3c,KEY_SESSIONS=a3_0x35a237(0x17c),KEY_SETTINGS=a3_0x35a237(0x11a),KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x35a237(0xd2),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x4641b6=a3_0x35a237,_0x55a0d6=(function(){let _0xfd96aa=!![];return function(_0x5aa759,_0x333737){const _0x41cb3a=_0xfd96aa?function(){const _0x182199=a3_0x46f4;if(_0x333737){const _0x5ae811=_0x333737[_0x182199(0xee)](_0x5aa759,arguments);return _0x333737=null,_0x5ae811;}}:function(){};return _0xfd96aa=![],_0x41cb3a;};}()),_0x1d9127=_0x55a0d6(this,function(){const _0x2f1619=a3_0x46f4;return _0x1d9127[_0x2f1619(0xf4)]()[_0x2f1619(0xe9)](_0x2f1619(0x184))[_0x2f1619(0xf4)]()['constructor'](_0x1d9127)['search']('(((.+)+)+)+$');});_0x1d9127();try{const _0x1bf453=window[_0x4641b6(0x155)]?.[_0x4641b6(0xe0)];if(!_0x1bf453)return;_0x1bf453[_0x4641b6(0x12e)](),_0x1bf453[_0x4641b6(0xf6)]();try{_0x1bf453[_0x4641b6(0x110)]('#050505'),_0x1bf453[_0x4641b6(0xed)]&&_0x1bf453[_0x4641b6(0xed)](_0x4641b6(0x17b));}catch(_0x474e8d){console[_0x4641b6(0x93)](_0x4641b6(0x149),_0x474e8d);}try{_0x1bf453[_0x4641b6(0x169)]&&(_0x1bf453[_0x4641b6(0x169)]['show'](),_0x1bf453[_0x4641b6(0x169)]['offClick'](),_0x1bf453['BackButton'][_0x4641b6(0xa8)](function(){const _0x1e1718=_0x4641b6;window[_0x1e1718(0xdf)][_0x1e1718(0xf0)]=_0x1e1718(0x12b);}));}catch(_0x4925e1){console[_0x4641b6(0x93)]('Error\x20setting\x20back\x20button:',_0x4925e1);}try{if(_0x1bf453[_0x4641b6(0x115)])_0x1bf453[_0x4641b6(0x115)]();}catch(_0x3f86c6){}}catch(_0x321160){console['error']('Critical\x20TMA\x20Error:',_0x321160);}}());function isAdmin(){const _0x2e53ed=a3_0x35a237;try{const _0x43156d=Number(window['Telegram']?.[_0x2e53ed(0xe0)]?.['initDataUnsafe']?.[_0x2e53ed(0xf9)]?.['id']);return _0x43156d===0xbaf7174;}catch(_0x4f9835){return![];}}const DataManager={'saveLocally'(){const _0x2c36df=a3_0x35a237;try{localStorage[_0x2c36df(0xd0)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x2c36df(0xd0)](KEY_CLIENTS,JSON[_0x2c36df(0xf7)](clients)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x2c36df(0xf7)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x3c9b15){}},'loadLocal'(){const _0x1e17b2=a3_0x35a237;try{const _0x3f4412=localStorage[_0x1e17b2(0x11e)](KEY_SESSIONS);if(_0x3f4412)sessions=JSON[_0x1e17b2(0x9d)](_0x3f4412);const _0x936172=localStorage[_0x1e17b2(0x11e)](KEY_CLIENTS);if(_0x936172)clients=JSON[_0x1e17b2(0x9d)](_0x936172);const _0x546ba7=localStorage[_0x1e17b2(0x11e)](KEY_SETTINGS);if(_0x546ba7){const _0x15deb0=JSON['parse'](_0x546ba7);if(_0x15deb0[_0x1e17b2(0x179)])availabilityPattern=_0x15deb0['pattern'];if(_0x15deb0['ranges'])specialRanges=_0x15deb0[_0x1e17b2(0xbd)];if(_0x15deb0[_0x1e17b2(0x106)])dateExceptions=_0x15deb0[_0x1e17b2(0x106)];}}catch(_0x4daa83){}},async 'syncLoad'(){const _0x324ba7=a3_0x35a237,_0x5a8f29=new Date(),_0x5a1d47=_0x5a8f29[_0x324ba7(0xcc)]()+'-'+String(_0x5a8f29[_0x324ba7(0x15a)]()+0x1)[_0x324ba7(0xfe)](0x2,'0'),_0x1d54e8=new Date(_0x5a8f29);_0x1d54e8[_0x324ba7(0x13a)](_0x5a8f29[_0x324ba7(0x15a)]()+0x1);const _0x2d82ab=_0x1d54e8[_0x324ba7(0xcc)]()+'-'+String(_0x1d54e8[_0x324ba7(0x15a)]()+0x1)['padStart'](0x2,'0'),_0x32c2e9=Date[_0x324ba7(0xce)]();try{const _0x359664=window[_0x324ba7(0x155)]?.['WebApp'],_0xd751a9=_0x359664?.['initData']||'',[_0x5140d8,_0x39db37]=await Promise[_0x324ba7(0x102)]([fetch(API_URL,{'method':'POST','body':JSON['stringify']({'action':_0x324ba7(0x121),'init_data':_0xd751a9,'month_str':_0x5a1d47})})['then'](_0x1d21b6=>_0x1d21b6[_0x324ba7(0xb2)]()),fetch(API_URL,{'method':_0x324ba7(0x13c),'body':JSON[_0x324ba7(0xf7)]({'action':_0x324ba7(0x121),'init_data':_0xd751a9,'month_str':_0x2d82ab})})['then'](_0x25674b=>_0x25674b[_0x324ba7(0xb2)]())]);if(lastUserActionTime>_0x32c2e9){console['log']('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x5140d8['ok'])this[_0x324ba7(0x135)](_0x5140d8[_0x324ba7(0x11b)],_0x5a1d47);if(_0x39db37['ok'])this['applyData'](_0x39db37[_0x324ba7(0x11b)],_0x2d82ab);this['saveLocally']();}catch(_0x5dd93d){}},'applyData'(_0xb3fc49,_0x17c84b){const _0x444ff9=a3_0x35a237;if(!_0xb3fc49)return;if(_0xb3fc49['settings']){if(_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0x179)])availabilityPattern=_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0x179)];if(_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0xbd)])specialRanges=_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0xbd)];if(_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0x106)])dateExceptions=_0xb3fc49[_0x444ff9(0xda)][_0x444ff9(0x106)];}if(_0xb3fc49['clients']&&Array[_0x444ff9(0x10b)](_0xb3fc49[_0x444ff9(0xb1)]))clients=_0xb3fc49[_0x444ff9(0xb1)];_0xb3fc49[_0x444ff9(0x17a)]&&(coachProfiles={...coachProfiles,..._0xb3fc49['coach_profiles']}),_0xb3fc49[_0x444ff9(0x16f)]&&(sessions=sessions[_0x444ff9(0xbe)](_0x33fd9f=>!_0x33fd9f[_0x444ff9(0x166)]['startsWith'](_0x17c84b)),Object[_0x444ff9(0xdc)](_0xb3fc49[_0x444ff9(0x16f)])[_0x444ff9(0x160)](_0x34768c=>{const _0x44e836=_0x444ff9,_0x352343=_0xb3fc49[_0x44e836(0x16f)][_0x34768c];_0x352343[_0x44e836(0x160)](_0x4633fe=>{const _0x404539=_0x44e836;sessions[_0x404539(0x114)]({'id':_0x4633fe['i'],'clientId':_0x4633fe['c'],'coachId':_0x4633fe[_0x404539(0xd9)],'dateStr':_0x17c84b+'-'+_0x34768c['padStart'](0x2,'0'),'start':_0x4633fe['s'],'end':_0x4633fe['e'],'note':_0x4633fe['n']||'','status':_0x4633fe['st']||'planned','seriesId':_0x4633fe['sid']});});})),reRenderBlocks();}};function a3_0x467c(){const _0x467efc=['slice','show','appendChild','7JnAIMJ','scrollLeft','getFullYear','month','now','#0a84ff','setItem','</div>','week','querySelectorAll','.day-col-header','scrollTo','visible','rsSlotsGrid','clientWidth','cid','settings','var(--acc-green)','keys','detailsSheet','v9.5-CLIENT-ANALYTICS','location','WebApp','test','globalTimeLine','–û—Ç–º–µ–Ω–µ–Ω–æ','toUpperCase','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','height','daysHeaderTrack','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','search','day-column\x20','matrixViewport','141296yiTHJP','setBackgroundColor','apply','loadLocal','href','rgba(10,\x20132,\x20255,\x20','borderLeftColor','setAttribute','toString','day-off-overlay\x20stripe-bg','expand','stringify','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','user','long','remove','ccTitle','<div\x20class=\x22dch-day\x22>','padStart','.sheet','toLocaleDateString','<div\x20class=\x22rs-day-name\x22>','all','10XmzgSS','anTotalStats','cancelHint','exceptions','scrollWidth','join','–∑–∞\x20','round','isArray','rs-date-chip','firstChild','completed','textContent','setHeaderColor','event-card','numeric','entries','push','disableVerticalSwipes','split','ccYesBtn','\x20-\x20','128024QUEfUc','uc_client_settings','data','strokeDashoffset','charAt','getItem','rescheduleSheet','T23:59:59','client_load','data-date','get_slots','getHours','map','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','600','seriesId','getDay','detTime','router.html','cancel_window','rsDatesTrack','ready','total','.day-column','640888cCndCj','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','initData','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','applyData','insertBefore','createDocumentFragment','status','add','setMonth','button','POST','getMinutes','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','9942ufNUDW','.period-switch\x20.p-btn','clientId','<span>','offsetLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','detNote','#ff453a','904482iGImoX','none','Error\x20setting\x20color:','gridColumns','onclick','analyticsSheet','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','data-day-idx','active','setDate',':00</span>','createElement','</div><div\x20class=\x22rs-day-num\x22>','Telegram','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x20status-completed','length','value','getMonth','find','top','coachId','blocked-slot\x20stripe-bg','anDonutCircle','forEach','DOMContentLoaded','getDate','T00:00:00','ru-RU','</div><div\x20class=\x22dch-num\x22>','dateStr','%\x20+\x202px)','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','BackButton','getElementById','sort','block','done','left','calendar','style','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','floor','backgroundColor','display','.rs-date-chip','day-col-header\x20','</span>\x20/\x20','substr','pattern','coach_profiles','#050505','uc_client_sessions','855ianjQn','max','querySelector','time-label','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','\x20–≤\x20','(((.+)+)+)+$','min','colIndex','width','substring','timeLineBadge','overlay','%\x20-\x204px)','today','log','findIndex','getAttribute','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','start','end','.btn-cancel','color','anPercent','client-stat-card','parse','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','anStart','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','toLocaleString','analyticsList','addEventListener','div','px\x200px','\x20–∏–∑\x20','reschedule','onClick','\x20—á.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','customConfirm','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blocked-range-part\x20stripe-bg','open','clients','json','cancelContainer','499203ELMqXW','cancelled','fontWeight','offsetWidth','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','zIndex','setHours','classList','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ranges','filter','syncLoad','calc(','272876sIQJQa','stopPropagation','anEnd','backgroundPosition','className','.day-col-header[data-date=\x22'];a3_0x467c=function(){return _0x467efc;};return a3_0x467c();}function init(){const _0x16cfa7=a3_0x35a237;DataManager[_0x16cfa7(0xef)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x16cfa7(0x16a)](_0x16cfa7(0xeb))[_0x16cfa7(0xa3)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x16cfa7(0xbf)]();}function renderTimeColumn(){const _0xde0f8b=a3_0x35a237,_0x2402ed=document[_0xde0f8b(0x16a)]('timeColumn'),_0x4ed340=document[_0xde0f8b(0x16a)](_0xde0f8b(0x8f));_0x2402ed[_0xde0f8b(0xab)]='',_0x2402ed[_0xde0f8b(0xc9)](_0x4ed340);for(let _0x32e4da=0x0;_0x32e4da<0x18;_0x32e4da++){const _0x373ffd=document[_0xde0f8b(0x153)](_0xde0f8b(0xa4));_0x373ffd[_0xde0f8b(0xc5)]=_0xde0f8b(0x180);if(_0x32e4da>0x0)_0x373ffd['innerHTML']=_0xde0f8b(0x142)+String(_0x32e4da)[_0xde0f8b(0xfe)](0x2,'0')+_0xde0f8b(0x152);_0x2402ed[_0xde0f8b(0xc9)](_0x373ffd);}}function renderDayRange(_0xf553b0,_0x1c56d9){const _0x2bf816=a3_0x35a237,_0x5dc608=document[_0x2bf816(0x16a)](_0x2bf816(0xe7)),_0x1cdeb1=document[_0x2bf816(0x16a)](_0x2bf816(0x14a)),_0x1f1c92=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1679db=new Date();_0x1679db['setHours'](0x0,0x0,0x0,0x0);const _0x59f272=getLocalDateStr(new Date());for(let _0x5afa75=_0xf553b0;_0x5afa75<=_0x1c56d9;_0x5afa75++){const _0x4d5581=new Date(_0x1679db);_0x4d5581[_0x2bf816(0x151)](_0x4d5581[_0x2bf816(0x162)]()+_0x5afa75);const _0x35a31e=getLocalDateStr(_0x4d5581);let _0x3b070d=_0x4d5581[_0x2bf816(0x129)]()-0x1;if(_0x3b070d===-0x1)_0x3b070d=0x6;const _0x5aa267=_0x35a31e===_0x59f272,_0x363281=document[_0x2bf816(0x153)]('div');_0x363281[_0x2bf816(0xc5)]=_0x2bf816(0x176)+(_0x5aa267?_0x2bf816(0x92):''),_0x363281['setAttribute'](_0x2bf816(0x122),_0x35a31e),_0x363281['innerHTML']=_0x2bf816(0xfd)+_0x1f1c92[_0x3b070d]+_0x2bf816(0x165)+_0x4d5581[_0x2bf816(0x162)]()+_0x2bf816(0xd1),_0x5dc608[_0x2bf816(0xc9)](_0x363281);const _0x3ca256=document[_0x2bf816(0x153)]('div');_0x3ca256['className']=_0x2bf816(0xea)+(_0x5aa267?_0x2bf816(0x92):''),_0x3ca256[_0x2bf816(0xf3)]('data-date',_0x35a31e),_0x3ca256['setAttribute'](_0x2bf816(0x14f),_0x3b070d),_0x1cdeb1[_0x2bf816(0xc9)](_0x3ca256);}}function reRenderBlocks(){const _0x346547=a3_0x35a237;document[_0x346547(0xd3)]('.day-column')[_0x346547(0x160)](_0x1fcf61=>{const _0x593f79=_0x346547;_0x1fcf61[_0x593f79(0xd3)](_0x593f79(0x134))[_0x593f79(0x160)](_0xd63587=>_0xd63587[_0x593f79(0xfb)]());const _0xa2d09f=_0x1fcf61[_0x593f79(0x95)](_0x593f79(0x122)),_0x44884a=parseInt(_0x1fcf61[_0x593f79(0x95)](_0x593f79(0x14f))),_0x3621f6=Math[_0x593f79(0x10a)](_0x1fcf61[_0x593f79(0x143)]);(availabilityPattern[_0x44884a]||[])[_0x593f79(0x160)](_0x240dfc=>{const _0x29351a=_0x593f79,_0x53615e=document[_0x29351a(0x153)](_0x29351a(0xa4));_0x53615e[_0x29351a(0xc5)]=_0x29351a(0x15e),_0x53615e[_0x29351a(0x170)][_0x29351a(0x15c)]=_0x240dfc*GRID_H+'px',_0x53615e[_0x29351a(0x170)][_0x29351a(0xc4)]='-'+_0x3621f6+'px\x20-'+_0x240dfc*GRID_H+'px',_0x1fcf61['appendChild'](_0x53615e);});if(specialRanges['length']>0x0){const _0x57ea90=new Date(_0xa2d09f+_0x593f79(0x163))[_0x593f79(0xad)](),_0x10f476=new Date(_0xa2d09f+_0x593f79(0x120))[_0x593f79(0xad)]();specialRanges[_0x593f79(0x160)](_0x489710=>{const _0x4c20f0=_0x593f79,_0x310fbf=new Date(_0x489710[_0x4c20f0(0x97)])[_0x4c20f0(0xad)](),_0x4a1d9b=new Date(_0x489710['end'])['getTime'](),_0x1405b3=Math[_0x4c20f0(0x17e)](_0x57ea90,_0x310fbf),_0x5740d6=Math[_0x4c20f0(0x8b)](_0x10f476,_0x4a1d9b);if(_0x1405b3<_0x5740d6){const _0x24faab=(_0x1405b3-_0x57ea90)/0x36ee80*GRID_H,_0x476e50=(_0x5740d6-_0x1405b3)/0x36ee80*GRID_H,_0x444aa8=document[_0x4c20f0(0x153)](_0x4c20f0(0xa4));_0x476e50>=23.5*GRID_H?(_0x444aa8[_0x4c20f0(0xc5)]=_0x4c20f0(0xf5),_0x444aa8[_0x4c20f0(0x170)][_0x4c20f0(0xc4)]='-'+_0x3621f6+_0x4c20f0(0xa5)):(_0x444aa8[_0x4c20f0(0xc5)]=_0x4c20f0(0xaf),_0x444aa8[_0x4c20f0(0x170)][_0x4c20f0(0x15c)]=_0x24faab+'px',_0x444aa8['style'][_0x4c20f0(0xe6)]=_0x476e50+'px',_0x444aa8['style'][_0x4c20f0(0xc4)]='-'+_0x3621f6+'px\x20-'+_0x24faab+'px'),_0x1fcf61[_0x4c20f0(0xc9)](_0x444aa8);}});}renderEventsForColumn(_0x1fcf61,_0xa2d09f);});}function renderEventsForColumn(_0x53f82d,_0x542622){const _0x300114=a3_0x35a237,_0x3d2644=sessions[_0x300114(0xbe)](_0x3dbdbb=>_0x3dbdbb[_0x300114(0x166)]===_0x542622),_0x27bead=_0x3d2644[_0x300114(0x125)](_0x5ce6ff=>{const _0x1c0c09=_0x300114,[_0x8f66b7,_0xe15f49]=_0x5ce6ff['start']['split'](':')['map'](Number),[_0x58f465,_0x5e3374]=_0x5ce6ff[_0x1c0c09(0x98)][_0x1c0c09(0x116)](':')['map'](Number);return{'data':_0x5ce6ff,'start':_0x8f66b7*0x3c+_0xe15f49,'end':_0x58f465*0x3c+_0x5e3374,'colIndex':0x0};});_0x27bead[_0x300114(0x16b)]((_0xb4c928,_0x51cd06)=>_0xb4c928[_0x300114(0x97)]-_0x51cd06[_0x300114(0x97)]||_0x51cd06[_0x300114(0x98)]-_0x51cd06['start']-(_0xb4c928[_0x300114(0x98)]-_0xb4c928[_0x300114(0x97)]));const _0x99bd89=[];_0x27bead[_0x300114(0x160)](_0x48d18c=>{const _0x1db8df=_0x300114;let _0x42ea86=![];for(let _0x25566a=0x0;_0x25566a<_0x99bd89['length'];_0x25566a++){const _0x44f8b4=_0x99bd89[_0x25566a];if(_0x48d18c[_0x1db8df(0x97)]>=_0x44f8b4[_0x44f8b4[_0x1db8df(0x158)]-0x1][_0x1db8df(0x98)]){_0x44f8b4[_0x1db8df(0x114)](_0x48d18c),_0x48d18c['colIndex']=_0x25566a,_0x42ea86=!![];break;}}!_0x42ea86&&(_0x99bd89[_0x1db8df(0x114)]([_0x48d18c]),_0x48d18c[_0x1db8df(0x8c)]=_0x99bd89[_0x1db8df(0x158)]-0x1);}),_0x27bead[_0x300114(0x160)](_0x468955=>{const _0x515870=_0x300114;let _0x1f82da=0x0;_0x27bead[_0x515870(0x160)](_0xa5a6e0=>{const _0x3d4280=_0x515870;if(Math['max'](_0x468955[_0x3d4280(0x97)],_0xa5a6e0[_0x3d4280(0x97)])<Math['min'](_0x468955[_0x3d4280(0x98)],_0xa5a6e0[_0x3d4280(0x98)])&&_0xa5a6e0['colIndex']>_0x1f82da)_0x1f82da=_0xa5a6e0[_0x3d4280(0x8c)];});const _0x13ea7c=_0x1f82da+0x1,_0x229959=0x64/_0x13ea7c,_0x5b7c4c=_0x468955[_0x515870(0x8c)]*_0x229959,_0x2817fc=document['createElement'](_0x515870(0xa4)),_0x29e425=_0x468955[_0x515870(0x11b)];let _0x1f4d9a=_0x515870(0xcf);if(clients&&clients[_0x515870(0x158)]>0x0){const _0x3f6173=clients[_0x515870(0x15b)](_0x112f7f=>String(_0x112f7f['id'])===String(_0x29e425[_0x515870(0x141)]));if(_0x3f6173&&_0x3f6173[_0x515870(0x9a)])_0x1f4d9a=_0x3f6173['color'];}const _0x9abc99=_0x29e425[_0x515870(0x138)]===_0x515870(0x10e),_0x27e4ee=_0x9abc99?0x1:0.45;_0x2817fc[_0x515870(0xc5)]=_0x515870(0x111)+(_0x9abc99?_0x515870(0x157):''),_0x2817fc[_0x515870(0x170)][_0x515870(0x173)]=hexToRgba(_0x1f4d9a,_0x27e4ee),_0x2817fc['style'][_0x515870(0xf2)]=_0x1f4d9a;const _0x1ab8c2=_0x468955[_0x515870(0x97)]/0x3c*GRID_H,_0x10733d=(_0x468955[_0x515870(0x98)]-_0x468955[_0x515870(0x97)])/0x3c*GRID_H;_0x2817fc[_0x515870(0x170)][_0x515870(0x15c)]=_0x1ab8c2+'px',_0x2817fc['style'][_0x515870(0xe6)]=Math[_0x515870(0x17e)](_0x10733d,0x14)+'px',_0x2817fc[_0x515870(0x170)][_0x515870(0x8d)]=_0x515870(0xc0)+_0x229959+_0x515870(0x91),_0x2817fc[_0x515870(0x170)][_0x515870(0x16e)]=_0x515870(0xc0)+_0x5b7c4c+_0x515870(0x167),_0x2817fc[_0x515870(0x170)][_0x515870(0xb9)]=0xa+_0x468955[_0x515870(0x8c)];if(_0x229959<0x55)_0x2817fc[_0x515870(0xbb)][_0x515870(0x139)]('mini');let _0x7d3a73='';if(_0x29e425[_0x515870(0x128)])_0x7d3a73+='<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>';if(_0x9abc99)_0x7d3a73+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x2817fc[_0x515870(0xab)]=_0x515870(0x144)+_0x29e425[_0x515870(0x97)]+_0x515870(0x118)+_0x29e425[_0x515870(0x98)]+_0x515870(0xaa)+_0x7d3a73+_0x515870(0xae),_0x2817fc[_0x515870(0x14b)]=_0x5afd09=>{const _0x58314d=_0x515870;_0x5afd09[_0x58314d(0xc2)](),openDetails(_0x29e425);},_0x53f82d['appendChild'](_0x2817fc);});}function openAnalytics(){const _0x19f5e8=a3_0x35a237,_0x264941=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x19f5e8(0xd2),_0x264941),openSheet(_0x19f5e8(0x14c));}function setAnalyticsPeriod(_0x1134fd,_0x86ef4b){const _0x521e48=a3_0x35a237;currentAnPeriod=_0x1134fd,document[_0x521e48(0xd3)](_0x521e48(0x140))[_0x521e48(0x160)](_0x508165=>_0x508165[_0x521e48(0xbb)][_0x521e48(0xfb)](_0x521e48(0x150)));if(_0x86ef4b)_0x86ef4b[_0x521e48(0xbb)]['add']('active');const _0x536f92=document[_0x521e48(0x16a)]('anCustomDates');_0x536f92[_0x521e48(0x170)]['display']=_0x1134fd==='custom'?'flex':_0x521e48(0x148);const _0x53bcaf=new Date();let _0x2cdc05=new Date(),_0x2095fd=new Date();if(_0x1134fd===_0x521e48(0xd2))_0x2cdc05=getStartOfWeek(_0x53bcaf),_0x2095fd=new Date(_0x2cdc05),_0x2095fd[_0x521e48(0x151)](_0x2095fd[_0x521e48(0x162)]()+0x6);else{if(_0x1134fd===_0x521e48(0xcd))_0x2cdc05=new Date(_0x53bcaf[_0x521e48(0xcc)](),_0x53bcaf[_0x521e48(0x15a)](),0x1),_0x2095fd=new Date(_0x53bcaf[_0x521e48(0xcc)](),_0x53bcaf[_0x521e48(0x15a)]()+0x1,0x0);else{!document[_0x521e48(0x16a)](_0x521e48(0x9f))[_0x521e48(0x159)]&&(document[_0x521e48(0x16a)](_0x521e48(0x9f))[_0x521e48(0x159)]=getLocalDateStr(_0x53bcaf),document['getElementById'](_0x521e48(0xc3))['value']=getLocalDateStr(_0x53bcaf));refreshAnalytics();return;}}document[_0x521e48(0x16a)](_0x521e48(0x9f))[_0x521e48(0x159)]=getLocalDateStr(_0x2cdc05),document[_0x521e48(0x16a)](_0x521e48(0xc3))['value']=getLocalDateStr(_0x2095fd),refreshAnalytics();}function refreshAnalytics(){const _0x9d0e2a=a3_0x35a237,_0x5951eb=document['getElementById']('anStart')[_0x9d0e2a(0x159)],_0x52a532=document['getElementById']('anEnd')[_0x9d0e2a(0x159)];if(!_0x5951eb||!_0x52a532)return;const _0x46c8ec=sessions['filter'](_0x5c5817=>_0x5c5817[_0x9d0e2a(0x166)]>=_0x5951eb&&_0x5c5817[_0x9d0e2a(0x166)]<=_0x52a532&&_0x5c5817[_0x9d0e2a(0x138)]!==_0x9d0e2a(0xb5)),_0x362426=_0x46c8ec[_0x9d0e2a(0x158)],_0x1fa78f=_0x46c8ec[_0x9d0e2a(0xbe)](_0x552666=>_0x552666[_0x9d0e2a(0x138)]===_0x9d0e2a(0x10e))[_0x9d0e2a(0x158)],_0x6f39bc=_0x362426>0x0?Math[_0x9d0e2a(0x10a)](_0x1fa78f/_0x362426*0x64):0x0;document['getElementById'](_0x9d0e2a(0x9b))[_0x9d0e2a(0x10f)]=_0x6f39bc+'%',document[_0x9d0e2a(0x16a)](_0x9d0e2a(0x104))[_0x9d0e2a(0x10f)]=_0x1fa78f+_0x9d0e2a(0xa6)+_0x362426+_0x9d0e2a(0x171);const _0x23c6a4=document['getElementById'](_0x9d0e2a(0x15f)),_0x46259a=0x2*Math['PI']*0x23,_0x4b22c5=_0x46259a-_0x6f39bc/0x64*_0x46259a;_0x23c6a4[_0x9d0e2a(0x170)][_0x9d0e2a(0x11c)]=_0x4b22c5;const _0x24f100={};_0x46c8ec[_0x9d0e2a(0x160)](_0x4ef3cb=>{const _0x17771d=_0x9d0e2a,_0x4a52ba=_0x4ef3cb[_0x17771d(0x15d)]||'Unknown';if(!_0x24f100[_0x4a52ba]){const _0x481c73='#'+_0x4a52ba[_0x17771d(0xf4)]()[_0x17771d(0x178)](0x0,0x6);_0x24f100[_0x4a52ba]={'total':0x0,'done':0x0,'color':_0x481c73};}_0x24f100[_0x4a52ba][_0x17771d(0x12f)]++;if(_0x4ef3cb[_0x17771d(0x138)]===_0x17771d(0x10e))_0x24f100[_0x4a52ba][_0x17771d(0x16d)]++;});const _0x3ceca2=document[_0x9d0e2a(0x16a)](_0x9d0e2a(0xa2));_0x3ceca2[_0x9d0e2a(0xab)]='';const _0x39db8f=Object[_0x9d0e2a(0x113)](_0x24f100)['sort']((_0xdaf57c,_0xb075ad)=>_0xb075ad[0x1]['total']-_0xdaf57c[0x1]['total']);if(_0x39db8f['length']===0x0){_0x3ceca2[_0x9d0e2a(0xab)]=_0x9d0e2a(0x182);return;}_0x39db8f[_0x9d0e2a(0x160)](([_0x46521a,_0xf04095])=>{const _0x411f92=_0x9d0e2a,_0x3f34e4=Math['round'](_0xf04095[_0x411f92(0x16d)]/_0xf04095['total']*0x64),_0x39baaa=document[_0x411f92(0x153)](_0x411f92(0xa4));_0x39baaa['className']=_0x411f92(0x9c),_0x39baaa['style'][_0x411f92(0xf2)]=_0xf04095['color'],_0x39baaa[_0x411f92(0xab)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x46521a['substr'](0x0,0x5)+_0x411f92(0xe5)+_0xf04095['done']+_0x411f92(0x177)+_0xf04095[_0x411f92(0x12f)]+_0x411f92(0x156)+_0x3f34e4+_0x411f92(0xbc),_0x3ceca2[_0x411f92(0xc9)](_0x39baaa);});}function openDetails(_0x4b5424){const _0x1e3af3=a3_0x35a237;currentSession=_0x4b5424;const _0x14addf=new Date(_0x4b5424[_0x1e3af3(0x166)]),_0x572c98=_0x14addf[_0x1e3af3(0x100)](_0x1e3af3(0x164),{'weekday':_0x1e3af3(0xfa),'day':_0x1e3af3(0x112),'month':'long'});document[_0x1e3af3(0x16a)]('detDate')[_0x1e3af3(0x10f)]=_0x572c98[_0x1e3af3(0x11d)](0x0)[_0x1e3af3(0xe4)]()+_0x572c98[_0x1e3af3(0xc7)](0x1),document[_0x1e3af3(0x16a)](_0x1e3af3(0x12a))[_0x1e3af3(0x10f)]=_0x4b5424[_0x1e3af3(0x97)]+_0x1e3af3(0x118)+_0x4b5424[_0x1e3af3(0x98)],document[_0x1e3af3(0x16a)](_0x1e3af3(0x145))['textContent']=_0x4b5424['note']||_0x1e3af3(0x181);const _0x19fe27=document[_0x1e3af3(0x16a)]('detStatus'),_0x451c38=document[_0x1e3af3(0x16a)](_0x1e3af3(0xb3)),_0x52599e=_0x451c38[_0x1e3af3(0x17f)](_0x1e3af3(0x99)),_0x77a261=_0x451c38['querySelector']('.btn-reschedule'),_0x44c17d=document[_0x1e3af3(0x16a)](_0x1e3af3(0x105));if(_0x4b5424[_0x1e3af3(0x138)]===_0x1e3af3(0x10e))_0x19fe27[_0x1e3af3(0x10f)]=_0x1e3af3(0x96),_0x19fe27[_0x1e3af3(0x170)]['color']=_0x1e3af3(0xdb),_0x451c38[_0x1e3af3(0x170)]['display']=_0x1e3af3(0x148);else{_0x19fe27['textContent']='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x19fe27['style'][_0x1e3af3(0x9a)]='var(--acc-blue)',_0x451c38[_0x1e3af3(0x170)]['display']=_0x1e3af3(0x16c);const _0x478f3b=new Date(_0x4b5424['dateStr']+'T'+_0x4b5424[_0x1e3af3(0x97)]),_0x4935aa=new Date(),_0xf39dfc=(_0x478f3b-_0x4935aa)/(0x3e8*0x3c*0x3c),_0x25a73c=coachProfiles[_0x4b5424[_0x1e3af3(0x15d)]]&&coachProfiles[_0x4b5424['coachId']][_0x1e3af3(0x12c)]?parseInt(coachProfiles[_0x4b5424[_0x1e3af3(0x15d)]][_0x1e3af3(0x12c)]):0x18;if(_0x25a73c===0x0||_0xf39dfc>=_0x25a73c)_0x52599e['style'][_0x1e3af3(0x174)]='block',_0x77a261[_0x1e3af3(0x170)][_0x1e3af3(0x174)]=_0x1e3af3(0x16c),_0x44c17d[_0x1e3af3(0x170)][_0x1e3af3(0x174)]=_0x1e3af3(0x148);else{_0x52599e['style'][_0x1e3af3(0x174)]='none',_0x77a261[_0x1e3af3(0x170)][_0x1e3af3(0x174)]=_0x1e3af3(0x148),_0x44c17d[_0x1e3af3(0x170)][_0x1e3af3(0x174)]=_0x1e3af3(0x16c);let _0x351ab5=_0x25a73c===0x0?'–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è':_0x1e3af3(0x109)+_0x25a73c+_0x1e3af3(0xa9);_0x44c17d[_0x1e3af3(0x10f)]=_0x1e3af3(0x14e)+_0x351ab5+_0x1e3af3(0x14d);}}document[_0x1e3af3(0x16a)]('overlay')[_0x1e3af3(0xbb)][_0x1e3af3(0x139)](_0x1e3af3(0x150)),document[_0x1e3af3(0x16a)](_0x1e3af3(0xdd))[_0x1e3af3(0xbb)]['add']('open');}function closeAllSheets(){const _0x3f86d9=a3_0x35a237;document['getElementById']('overlay')['classList']['remove'](_0x3f86d9(0x150)),document['querySelectorAll'](_0x3f86d9(0xff))[_0x3f86d9(0x160)](_0x174820=>_0x174820[_0x3f86d9(0xbb)][_0x3f86d9(0xfb)]('open'));}function openSheet(_0x5aaf7f){const _0xd8b158=a3_0x35a237;document['getElementById'](_0xd8b158(0x90))['classList'][_0xd8b158(0x139)]('active'),document[_0xd8b158(0x16a)](_0x5aaf7f)['classList']['add'](_0xd8b158(0xb0));}function getLocalDateStr(_0x61ef88){const _0x16dedd=a3_0x35a237,_0x11a5de=_0x61ef88['getFullYear'](),_0x1889b5=String(_0x61ef88['getMonth']()+0x1)[_0x16dedd(0xfe)](0x2,'0'),_0x175aca=String(_0x61ef88['getDate']())['padStart'](0x2,'0');return _0x11a5de+'-'+_0x1889b5+'-'+_0x175aca;}function getStartOfWeek(_0x7ccc07){const _0x54e1d0=a3_0x35a237,_0x55e3ff=new Date(_0x7ccc07),_0x15bd33=_0x55e3ff[_0x54e1d0(0x129)](),_0x351b75=_0x55e3ff['getDate']()-_0x15bd33+(_0x15bd33===0x0?-0x6:0x1);return _0x55e3ff[_0x54e1d0(0x151)](_0x351b75),_0x55e3ff[_0x54e1d0(0xba)](0x0,0x0,0x0,0x0),_0x55e3ff;}function scrollToToday(){const _0x44156a=getLocalDateStr(new Date());setTimeout(()=>{const _0x496418=a3_0x46f4,_0x3168ab=document[_0x496418(0x17f)](_0x496418(0xc6)+_0x44156a+'\x22]');if(_0x3168ab){const _0x1bd6bf=document[_0x496418(0x16a)]('matrixViewport'),_0x2f265b=_0x3168ab[_0x496418(0x143)]-_0x1bd6bf['clientWidth']/0x2+_0x3168ab[_0x496418(0xb7)]/0x2;_0x1bd6bf[_0x496418(0xd5)]({'left':_0x2f265b,'behavior':'auto'}),_0x1bd6bf['scrollTop']=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x174b65=a3_0x35a237,_0x41d394=new Date(),_0x20729a=document['getElementById'](_0x174b65(0xe2)),_0x502c98=document[_0x174b65(0x16a)]('timeLineBadge'),_0xd94b9=(_0x41d394[_0x174b65(0x124)]()*0x3c+_0x41d394[_0x174b65(0x13d)]())/0x3c*GRID_H;_0x20729a[_0x174b65(0x170)]['top']=_0xd94b9+'px',_0x20729a[_0x174b65(0x170)]['display']=_0x174b65(0x16c),_0x502c98[_0x174b65(0x170)]['top']=_0xd94b9+'px',_0x502c98[_0x174b65(0x170)][_0x174b65(0x174)]=_0x174b65(0x16c),_0x502c98[_0x174b65(0x10f)]=String(_0x41d394[_0x174b65(0x124)]())[_0x174b65(0xfe)](0x2,'0')+':'+String(_0x41d394[_0x174b65(0x13d)]())[_0x174b65(0xfe)](0x2,'0');}function onScroll(){const _0x5bccc0=a3_0x35a237,_0x38b3ca=document[_0x5bccc0(0x16a)](_0x5bccc0(0xeb)),_0x1e9884=document['querySelectorAll'](_0x5bccc0(0xd4));for(let _0x2b44fa of _0x1e9884)if(_0x2b44fa[_0x5bccc0(0x143)]>=_0x38b3ca[_0x5bccc0(0xcb)]){const _0x2698c1=new Date(_0x2b44fa[_0x5bccc0(0x95)]('data-date'));document[_0x5bccc0(0x16a)]('headerMonth')[_0x5bccc0(0x10f)]=_0x2698c1[_0x5bccc0(0xa1)]('ru',{'month':_0x5bccc0(0xfa)})[_0x5bccc0(0xe4)]()+'\x20'+_0x2698c1['getFullYear']();break;}}function showToast(_0x2834a9){const _0x46a777=a3_0x35a237,_0x41100f=document[_0x46a777(0x16a)]('toast');_0x41100f[_0x46a777(0x10f)]=_0x2834a9,_0x41100f[_0x46a777(0xbb)][_0x46a777(0x139)]('show'),setTimeout(()=>_0x41100f[_0x46a777(0xbb)][_0x46a777(0xfb)](_0x46a777(0xc8)),0x7d0);}function handleInfiniteScroll(){const _0x66c857=a3_0x35a237,_0x4be4aa=document[_0x66c857(0x16a)](_0x66c857(0xeb)),_0x390582=_0x4be4aa[_0x66c857(0xcb)],_0x47d0a3=_0x4be4aa[_0x66c857(0x107)],_0x22a7ca=_0x4be4aa[_0x66c857(0xd8)];if(_0x47d0a3-(_0x390582+_0x22a7ca)<0x12c){const _0x36c2c9=endOffset;endOffset+=0xe,renderDayRange(_0x36c2c9+0x1,endOffset),reRenderBlocks();}if(_0x390582<0x12c){const _0x2260fb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2260fb-0x1),_0x4be4aa[_0x66c857(0xcb)]+=0xe*0x41,reRenderBlocks();}}function a3_0x46f4(_0x193bb7,_0x5dad00){_0x193bb7=_0x193bb7-0x8b;const _0x101bde=a3_0x467c();let _0x363c26=_0x101bde[_0x193bb7];return _0x363c26;}function prependDays(_0x4e0b6d,_0x111088){const _0x5aac99=a3_0x35a237,_0x376660=document[_0x5aac99(0x16a)]('daysHeaderTrack'),_0x5b5222=document[_0x5aac99(0x16a)](_0x5aac99(0x14a)),_0x1a2a65=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3301fb=new Date();_0x3301fb[_0x5aac99(0xba)](0x0,0x0,0x0,0x0);const _0xb84cad=getLocalDateStr(new Date()),_0x2f2e50=document[_0x5aac99(0x137)](),_0x4eeae9=document['createDocumentFragment']();for(let _0x3ddb63=_0x4e0b6d;_0x3ddb63<=_0x111088;_0x3ddb63++){const _0x542eb7=new Date(_0x3301fb);_0x542eb7['setDate'](_0x542eb7['getDate']()+_0x3ddb63);const _0x12eea4=getLocalDateStr(_0x542eb7);let _0x385f61=_0x542eb7[_0x5aac99(0x129)]()-0x1;if(_0x385f61===-0x1)_0x385f61=0x6;const _0x70c1b3=_0x12eea4===_0xb84cad,_0x30a653=document[_0x5aac99(0x153)](_0x5aac99(0xa4));_0x30a653[_0x5aac99(0xc5)]='day-col-header\x20'+(_0x70c1b3?_0x5aac99(0x92):''),_0x30a653['setAttribute'](_0x5aac99(0x122),_0x12eea4),_0x30a653[_0x5aac99(0xab)]=_0x5aac99(0xfd)+_0x1a2a65[_0x385f61]+_0x5aac99(0x165)+_0x542eb7['getDate']()+_0x5aac99(0xd1),_0x2f2e50['appendChild'](_0x30a653);const _0x29c129=document[_0x5aac99(0x153)](_0x5aac99(0xa4));_0x29c129['className']=_0x5aac99(0xea)+(_0x70c1b3?_0x5aac99(0x92):''),_0x29c129[_0x5aac99(0xf3)](_0x5aac99(0x122),_0x12eea4),_0x29c129[_0x5aac99(0xf3)](_0x5aac99(0x14f),_0x385f61),_0x4eeae9[_0x5aac99(0xc9)](_0x29c129);}_0x376660['insertBefore'](_0x2f2e50,_0x376660[_0x5aac99(0x10d)]),_0x5b5222[_0x5aac99(0x136)](_0x4eeae9,_0x5b5222['querySelector'](_0x5aac99(0x130)));}function hexToRgba(_0x40f155,_0xc7d1aa){const _0x26272e=a3_0x35a237;let _0x11ee40;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x26272e(0xe1)](_0x40f155))return _0x11ee40=_0x40f155[_0x26272e(0x8e)](0x1)[_0x26272e(0x116)](''),_0x11ee40[_0x26272e(0x158)]==0x3&&(_0x11ee40=[_0x11ee40[0x0],_0x11ee40[0x0],_0x11ee40[0x1],_0x11ee40[0x1],_0x11ee40[0x2],_0x11ee40[0x2]]),_0x11ee40='0x'+_0x11ee40[_0x26272e(0x108)](''),'rgba('+[_0x11ee40>>0x10&0xff,_0x11ee40>>0x8&0xff,_0x11ee40&0xff]['join'](',')+','+_0xc7d1aa+')';return _0x26272e(0xf1)+_0xc7d1aa+')';}let confirmResolver=null;function showCustomConfirm(_0x5a8e4a,_0x11e9e9,_0x37c8c7=!![]){const _0x23198f=a3_0x35a237;document[_0x23198f(0x16a)](_0x23198f(0xfc))[_0x23198f(0x10f)]=_0x5a8e4a,document['getElementById']('ccText')[_0x23198f(0x10f)]=_0x11e9e9;const _0x5f4e46=document[_0x23198f(0x16a)](_0x23198f(0x117));return _0x37c8c7?(_0x5f4e46['style'][_0x23198f(0x9a)]=_0x23198f(0x146),_0x5f4e46[_0x23198f(0x170)][_0x23198f(0xb6)]=_0x23198f(0x127)):(_0x5f4e46['style']['color']=_0x23198f(0xcf),_0x5f4e46['style'][_0x23198f(0xb6)]='600'),new Promise(_0x5ea504=>{const _0x154c73=_0x23198f;confirmResolver=_0x5ea504,document[_0x154c73(0x16a)]('customConfirm')[_0x154c73(0xbb)]['add'](_0x154c73(0xd6));});}function resolveCustomConfirm(_0x4fe5ce){const _0x49344a=a3_0x35a237;document[_0x49344a(0x16a)](_0x49344a(0xac))['classList']['remove'](_0x49344a(0xd6));if(confirmResolver)confirmResolver(_0x4fe5ce);}async function tryCancelCurrentSession(){const _0x21418d=a3_0x35a237;if(!currentSession)return;const _0x2c9d51=await showCustomConfirm(_0x21418d(0x168),'–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x2c9d51)return;const _0x2ce983=currentSession;closeAllSheets(),sessions=sessions[_0x21418d(0xbe)](_0x1bd978=>_0x1bd978['id']!==_0x2ce983['id']),reRenderBlocks(),showToast(_0x21418d(0xe3)),lastUserActionTime=Date[_0x21418d(0xce)]();try{const _0x3798c3=window[_0x21418d(0x155)]?.[_0x21418d(0xe0)],_0x33867f=await fetch(API_URL,{'method':_0x21418d(0x13c),'body':JSON['stringify']({'action':'client_cancel','init_data':_0x3798c3?.['initData']||'','coachId':_0x2ce983[_0x21418d(0x15d)],'dateStr':_0x2ce983[_0x21418d(0x166)],'sessionId':_0x2ce983['id']})});if(_0x33867f['ok'])DataManager['saveLocally']();}catch(_0x58cf77){showToast(_0x21418d(0x132));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x2b55ed=a3_0x35a237;if(!currentSession)return;document[_0x2b55ed(0x16a)](_0x2b55ed(0xdd))[_0x2b55ed(0xbb)]['remove']('open'),document[_0x2b55ed(0x16a)](_0x2b55ed(0x11f))[_0x2b55ed(0xbb)]['add'](_0x2b55ed(0xb0));const _0x57cdfc=document[_0x2b55ed(0x16a)](_0x2b55ed(0x12d)),_0x3cc35f=document[_0x2b55ed(0x16a)](_0x2b55ed(0xd7));_0x57cdfc[_0x2b55ed(0xab)]='',_0x3cc35f['innerHTML']=_0x2b55ed(0x126);const [_0x401aac,_0x4cc112]=currentSession[_0x2b55ed(0x97)][_0x2b55ed(0x116)](':')[_0x2b55ed(0x125)](Number),[_0xc3c9b0,_0x40f002]=currentSession[_0x2b55ed(0x98)][_0x2b55ed(0x116)](':')[_0x2b55ed(0x125)](Number),_0x3b3d9b=_0xc3c9b0*0x3c+_0x40f002-(_0x401aac*0x3c+_0x4cc112);try{const _0x47ded2=window[_0x2b55ed(0x155)]?.[_0x2b55ed(0xe0)],_0x5f7523=await fetch(API_URL,{'method':_0x2b55ed(0x13c),'body':JSON[_0x2b55ed(0xf7)]({'action':_0x2b55ed(0x123),'coachId':currentSession[_0x2b55ed(0x15d)],'duration':_0x3b3d9b,'init_data':_0x47ded2?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x11d7d5=await _0x5f7523['json']();_0x11d7d5['ok']&&_0x11d7d5['data']?(availableSlotsCache=_0x11d7d5[_0x2b55ed(0x11b)],renderRescheduleDates()):_0x3cc35f['innerHTML']=_0x2b55ed(0x9e);}catch(_0x499843){_0x3cc35f[_0x2b55ed(0xab)]=_0x2b55ed(0xb8);}}function renderRescheduleDates(){const _0x19bb76=a3_0x35a237,_0x4748cf=document[_0x19bb76(0x16a)](_0x19bb76(0x12d));_0x4748cf[_0x19bb76(0xab)]='';const _0x5ab32c=Object[_0x19bb76(0xdc)](availableSlotsCache)[_0x19bb76(0x16b)](),_0x3804b3=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x5ab32c[_0x19bb76(0x158)]===0x0){document[_0x19bb76(0x16a)](_0x19bb76(0xd7))[_0x19bb76(0xab)]=_0x19bb76(0xa0);return;}_0x5ab32c[_0x19bb76(0x160)]((_0x250037,_0x5a51f0)=>{const _0x4a10ca=_0x19bb76,_0x1f606b=new Date(_0x250037),_0x17da9e=_0x3804b3[_0x1f606b[_0x4a10ca(0x129)]()],_0x16714a=_0x1f606b[_0x4a10ca(0x162)](),_0x10b1f5=document[_0x4a10ca(0x153)](_0x4a10ca(0xa4));_0x10b1f5['className']=_0x4a10ca(0x10c);if(_0x5a51f0===0x0)_0x10b1f5[_0x4a10ca(0xbb)][_0x4a10ca(0x139)]('active');_0x10b1f5[_0x4a10ca(0xab)]=_0x4a10ca(0x101)+_0x17da9e+_0x4a10ca(0x154)+_0x16714a+_0x4a10ca(0xd1),_0x10b1f5[_0x4a10ca(0x14b)]=()=>selectRsDate(_0x250037,_0x10b1f5),_0x4748cf['appendChild'](_0x10b1f5);}),selectRsDate(_0x5ab32c[0x0],_0x4748cf[_0x19bb76(0x10d)]);}function selectRsDate(_0x382d13,_0x4bfbeb){const _0x2e46ee=a3_0x35a237;selectedRsDate=_0x382d13,document[_0x2e46ee(0xd3)](_0x2e46ee(0x175))[_0x2e46ee(0x160)](_0x5a257f=>_0x5a257f['classList'][_0x2e46ee(0xfb)]('active'));if(_0x4bfbeb)_0x4bfbeb[_0x2e46ee(0xbb)][_0x2e46ee(0x139)](_0x2e46ee(0x150));const _0x3bb4ef=document[_0x2e46ee(0x16a)]('rsSlotsGrid');_0x3bb4ef[_0x2e46ee(0xab)]='';const _0x323952=availableSlotsCache[_0x382d13]||[];if(_0x323952[_0x2e46ee(0x158)]===0x0){_0x3bb4ef['innerHTML']=_0x2e46ee(0x9e);return;}_0x323952['forEach'](_0x2676a6=>{const _0x4e7341=_0x2e46ee,_0x4ff987=document[_0x4e7341(0x153)](_0x4e7341(0x13b));_0x4ff987[_0x4e7341(0xc5)]='rs-time-btn',_0x4ff987[_0x4e7341(0x10f)]=_0x2676a6,_0x4ff987[_0x4e7341(0x14b)]=()=>confirmReschedule(_0x2676a6),_0x3bb4ef[_0x4e7341(0xc9)](_0x4ff987);});}async function confirmReschedule(_0x5d802e){const _0x3baa55=a3_0x35a237,_0x491c37=new Date(selectedRsDate),_0x1b228c=_0x491c37[_0x3baa55(0x100)](_0x3baa55(0x164),{'day':'numeric','month':_0x3baa55(0xfa)}),_0x374af5=await showCustomConfirm(_0x3baa55(0xe8),'–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20'+_0x1b228c+_0x3baa55(0x183)+_0x5d802e+'?',![]);if(!_0x374af5)return;closeAllSheets(),showToast(_0x3baa55(0x13e)),lastUserActionTime=Date[_0x3baa55(0xce)]();const _0x3fdf00=currentSession[_0x3baa55(0x166)],_0x4782e0=currentSession['id'],[_0x27b926,_0x4925d8]=currentSession[_0x3baa55(0x97)][_0x3baa55(0x116)](':')['map'](Number),[_0x7846e4,_0x380fc2]=currentSession[_0x3baa55(0x98)][_0x3baa55(0x116)](':')[_0x3baa55(0x125)](Number),_0x14aae1=_0x7846e4*0x3c+_0x380fc2-(_0x27b926*0x3c+_0x4925d8),[_0x1d792e,_0x1d44f1]=_0x5d802e[_0x3baa55(0x116)](':')[_0x3baa55(0x125)](Number),_0x1cd94f=_0x1d792e*0x3c+_0x1d44f1+_0x14aae1,_0x4704fb=Math[_0x3baa55(0x172)](_0x1cd94f/0x3c),_0x5949e5=_0x1cd94f%0x3c,_0x42cc75=String(_0x4704fb)['padStart'](0x2,'0')+':'+String(_0x5949e5)[_0x3baa55(0xfe)](0x2,'0'),_0x59f306=sessions[_0x3baa55(0x94)](_0x5ec699=>_0x5ec699['id']===_0x4782e0);_0x59f306!==-0x1&&(sessions[_0x59f306][_0x3baa55(0x166)]=selectedRsDate,sessions[_0x59f306][_0x3baa55(0x97)]=_0x5d802e,sessions[_0x59f306]['end']=_0x42cc75,reRenderBlocks());try{const _0x196f50=window['Telegram']?.[_0x3baa55(0xe0)],_0x28579f=await fetch(API_URL,{'method':_0x3baa55(0x13c),'body':JSON[_0x3baa55(0xf7)]({'action':_0x3baa55(0xa7),'init_data':_0x196f50?.[_0x3baa55(0x133)]||'','oldSessionId':_0x4782e0,'oldDate':_0x3fdf00,'newDate':selectedRsDate,'newTime':_0x5d802e,'coachId':currentSession[_0x3baa55(0x15d)]})}),_0x284209=await _0x28579f[_0x3baa55(0xb2)]();!_0x284209['ok']?(showToast('–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!'),DataManager['syncLoad']()):(showToast('–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'),DataManager['saveLocally']());}catch(_0x3ced3b){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}document[a3_0x35a237(0xa3)](a3_0x35a237(0x161),init);