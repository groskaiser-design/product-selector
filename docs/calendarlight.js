const a3_0x413161=a3_0xbd03;(function(_0x14651e,_0x1cf194){const _0x2b8850=a3_0xbd03,_0x2b899b=_0x14651e();while(!![]){try{const _0x46f1f0=-parseInt(_0x2b8850(0xce))/0x1*(-parseInt(_0x2b8850(0xb4))/0x2)+parseInt(_0x2b8850(0xcc))/0x3*(parseInt(_0x2b8850(0x130))/0x4)+-parseInt(_0x2b8850(0xa3))/0x5*(-parseInt(_0x2b8850(0xe8))/0x6)+parseInt(_0x2b8850(0x105))/0x7+parseInt(_0x2b8850(0x161))/0x8*(parseInt(_0x2b8850(0x94))/0x9)+parseInt(_0x2b8850(0xad))/0xa+-parseInt(_0x2b8850(0x131))/0xb;if(_0x46f1f0===_0x1cf194)break;else _0x2b899b['push'](_0x2b899b['shift']());}catch(_0x545afd){_0x2b899b['push'](_0x2b899b['shift']());}}}(a3_0x4e63,0xddbcd));const APP_VERSION=a3_0x413161(0x111),API_URL=a3_0x413161(0x8c),GRID_H=0x3c,KEY_SESSIONS=a3_0x413161(0x164),KEY_SETTINGS=a3_0x413161(0xbb),KEY_CLIENTS=a3_0x413161(0xfe);function a3_0x4e63(){const _0x5bb719=['Unknown','toLocaleString','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','onclick','padStart','cancel_window','ccTitle','onClick','offClick','constructor','apply','%\x20-\x204px)','substr','scrollTop','charAt','getHours','total','fontWeight','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','client_cancel','gridColumns','entries','expand','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','var(--acc-blue)','setAttribute','getItem','data-date','anStart','data-day-idx','rescheduleSheet','setBackgroundColor','left','borderLeftColor','Error\x20setting\x20color:','startsWith','80aYSRTk','substring','flex','uc_client_sessions','–û—Ç–º–µ–Ω–µ–Ω–æ','ready','applyData','getElementById','.day-col-header[data-date=\x22','overlay','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','Error\x20setting\x20back\x20button:','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','now','exceptions','done','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','height','coach_profiles','anCustomDates','visible','disableVerticalSwipes','getMonth','max','textContent','appendChild','stringify','find','POST','insertBefore','syncLoad','setDate','href','start','log','saveLocally','zIndex','detTime','width','T00:00:00','seriesId','WebApp','timeLineBadge','blocked-range-part\x20stripe-bg','600','detStatus','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','loadLocal','then','setItem','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','getTime','test','error','202248wMMQIE','mini','getDay','querySelectorAll','</div><div\x20class=\x22dch-num\x22>','toLocaleDateString','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','parse','headerMonth','%\x20+\x202px)','all','end','ccText','today','get_slots','10fBbGRO','active','getAttribute','innerHTML','day-column\x20','anEnd','client_load','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','ru-RU','forEach','4053790cIGCMd','data','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','day-off-overlay\x20stripe-bg','analyticsSheet','.btn-cancel','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','2ESyLjq','round','<div\x20class=\x22dch-day\x22>','search','note','value','month','uc_client_settings','backgroundPosition','min','px\x20-','matrixViewport','cid','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','strokeDashoffset','scrollLeft','(((.+)+)+)+$','getFullYear','top','backgroundColor','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','initData','show','cancelHint','319197YQMMYg','customConfirm','334898odUtDc','coachId','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','classList','filter','floor','ccYesBtn','.day-col-header','rs-time-btn','dateStr','remove','toUpperCase','clientId','calendar','#050505','open','scrollWidth','style','numeric','className','\x20-\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','ranges','#0a84ff','BackButton','2302536exHtRL','rgba(','scrollTo','time-label','sid','button','DOMContentLoaded','pattern','long','block','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','detailsSheet','offsetLeft','colIndex','var(--acc-green)','querySelector','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','router.html','\x20–∏–∑\x20','color','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','div','uc_client_list','anTotalStats','\x20—á.','push','offsetWidth','keys','Critical\x20TMA\x20Error:','8497237yaReYw','setHours','rs-date-chip','toString','createElement','join','rsSlotsGrid','settings','week','createDocumentFragment','findIndex','json','v9.5-CLIENT-ANALYTICS','auto','</span>\x20/\x20','sort','cancelContainer','daysHeaderTrack','rsDatesTrack','reschedule','add','.day-column','getDate','cancelled','clientWidth','addEventListener','</div>','firstChild','Telegram','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','isArray','completed','day-col-header\x20','detNote','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','globalTimeLine','.period-switch\x20.p-btn','\x20status-completed','calc(','clients','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','split','client-stat-card','4RWFwUN','23590182xHBebm','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','display','planned','getMinutes','none','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','user','<div\x20class=\x22rs-day-name\x22>','length','map','setHeaderColor'];a3_0x4e63=function(){return _0x5bb719;};return a3_0x4e63();}let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x413161(0x10d),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1d6d4a=a3_0x413161,_0x4ba3a5=(function(){let _0x438497=!![];return function(_0x5433b4,_0x462b64){const _0x4e2d26=_0x438497?function(){const _0x1ead6a=a3_0xbd03;if(_0x462b64){const _0x3733b2=_0x462b64[_0x1ead6a(0x147)](_0x5433b4,arguments);return _0x462b64=null,_0x3733b2;}}:function(){};return _0x438497=![],_0x4e2d26;};}()),_0xa7be71=_0x4ba3a5(this,function(){const _0x3dbba5=a3_0xbd03;return _0xa7be71[_0x3dbba5(0x108)]()[_0x3dbba5(0xb7)](_0x3dbba5(0xc4))[_0x3dbba5(0x108)]()[_0x3dbba5(0x146)](_0xa7be71)[_0x3dbba5(0xb7)]('(((.+)+)+)+$');});_0xa7be71();try{const _0x486be0=window[_0x1d6d4a(0x121)]?.['WebApp'];if(!_0x486be0)return;_0x486be0[_0x1d6d4a(0x166)](),_0x486be0[_0x1d6d4a(0x153)]();try{_0x486be0[_0x1d6d4a(0x13c)](_0x1d6d4a(0xdd)),_0x486be0[_0x1d6d4a(0x15c)]&&_0x486be0[_0x1d6d4a(0x15c)](_0x1d6d4a(0xdd));}catch(_0x689d17){console[_0x1d6d4a(0x184)](_0x1d6d4a(0x15f),_0x689d17);}try{_0x486be0[_0x1d6d4a(0xe7)]&&(_0x486be0[_0x1d6d4a(0xe7)][_0x1d6d4a(0xca)](),_0x486be0[_0x1d6d4a(0xe7)][_0x1d6d4a(0x145)](),_0x486be0[_0x1d6d4a(0xe7)][_0x1d6d4a(0x144)](function(){const _0x56a2b1=_0x1d6d4a;window['location'][_0x56a2b1(0x182)]=_0x56a2b1(0xf9);}));}catch(_0x332394){console[_0x1d6d4a(0x184)](_0x1d6d4a(0x16c),_0x332394);}try{if(_0x486be0['disableVerticalSwipes'])_0x486be0[_0x1d6d4a(0x177)]();}catch(_0x3182ac){}}catch(_0x456996){console[_0x1d6d4a(0x93)](_0x1d6d4a(0x104),_0x456996);}}());function isAdmin(){const _0xd64256=a3_0x413161;try{const _0x4d852e=Number(window[_0xd64256(0x121)]?.[_0xd64256(0x87)]?.['initDataUnsafe']?.[_0xd64256(0x138)]?.['id']);return _0x4d852e===0xbaf7174;}catch(_0x3e1f8f){return![];}}const DataManager={'saveLocally'(){const _0x1af227=a3_0x413161;try{localStorage[_0x1af227(0x8f)](KEY_SESSIONS,JSON[_0x1af227(0x17c)](sessions)),localStorage[_0x1af227(0x8f)](KEY_CLIENTS,JSON[_0x1af227(0x17c)](clients)),localStorage[_0x1af227(0x8f)](KEY_SETTINGS,JSON[_0x1af227(0x17c)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x2c1b59){}},'loadLocal'(){const _0x2642f5=a3_0x413161;try{const _0xfc6b29=localStorage[_0x2642f5(0x157)](KEY_SESSIONS);if(_0xfc6b29)sessions=JSON[_0x2642f5(0x9b)](_0xfc6b29);const _0x49c6a4=localStorage[_0x2642f5(0x157)](KEY_CLIENTS);if(_0x49c6a4)clients=JSON[_0x2642f5(0x9b)](_0x49c6a4);const _0x583c27=localStorage[_0x2642f5(0x157)](KEY_SETTINGS);if(_0x583c27){const _0xa73594=JSON['parse'](_0x583c27);if(_0xa73594['pattern'])availabilityPattern=_0xa73594['pattern'];if(_0xa73594[_0x2642f5(0xe5)])specialRanges=_0xa73594['ranges'];if(_0xa73594[_0x2642f5(0x16f)])dateExceptions=_0xa73594[_0x2642f5(0x16f)];}}catch(_0x1b4954){}},async 'syncLoad'(){const _0x56e525=a3_0x413161,_0x8f6286=new Date(),_0x168da9=_0x8f6286[_0x56e525(0xc5)]()+'-'+String(_0x8f6286[_0x56e525(0x178)]()+0x1)[_0x56e525(0x141)](0x2,'0'),_0x58df91=new Date(_0x8f6286);_0x58df91['setMonth'](_0x8f6286[_0x56e525(0x178)]()+0x1);const _0x61830=_0x58df91[_0x56e525(0xc5)]()+'-'+String(_0x58df91[_0x56e525(0x178)]()+0x1)[_0x56e525(0x141)](0x2,'0'),_0x7e56b8=Date[_0x56e525(0x16e)]();try{const _0x3ad09e=window[_0x56e525(0x121)]?.[_0x56e525(0x87)],_0x217979=_0x3ad09e?.[_0x56e525(0xc9)]||'',[_0xc448d3,_0x501344]=await Promise[_0x56e525(0x9e)]([fetch(API_URL,{'method':'POST','body':JSON[_0x56e525(0x17c)]({'action':_0x56e525(0xa9),'init_data':_0x217979,'month_str':_0x168da9})})['then'](_0x4bdf24=>_0x4bdf24['json']()),fetch(API_URL,{'method':_0x56e525(0x17e),'body':JSON[_0x56e525(0x17c)]({'action':'client_load','init_data':_0x217979,'month_str':_0x61830})})[_0x56e525(0x8e)](_0x15ce58=>_0x15ce58[_0x56e525(0x110)]())]);if(lastUserActionTime>_0x7e56b8){console[_0x56e525(0x184)](_0x56e525(0xf2));return;}if(_0xc448d3['ok'])this[_0x56e525(0x167)](_0xc448d3['data'],_0x168da9);if(_0x501344['ok'])this[_0x56e525(0x167)](_0x501344[_0x56e525(0xae)],_0x61830);this[_0x56e525(0x81)]();}catch(_0x50aaf4){}},'applyData'(_0x5cfcad,_0x5a2c56){const _0x482f5a=a3_0x413161;if(!_0x5cfcad)return;if(_0x5cfcad['settings']){if(_0x5cfcad[_0x482f5a(0x10c)][_0x482f5a(0xef)])availabilityPattern=_0x5cfcad[_0x482f5a(0x10c)][_0x482f5a(0xef)];if(_0x5cfcad['settings'][_0x482f5a(0xe5)])specialRanges=_0x5cfcad[_0x482f5a(0x10c)][_0x482f5a(0xe5)];if(_0x5cfcad['settings'][_0x482f5a(0x16f)])dateExceptions=_0x5cfcad['settings'][_0x482f5a(0x16f)];}if(_0x5cfcad[_0x482f5a(0x12c)]&&Array[_0x482f5a(0x123)](_0x5cfcad[_0x482f5a(0x12c)]))clients=_0x5cfcad[_0x482f5a(0x12c)];_0x5cfcad[_0x482f5a(0x174)]&&(coachProfiles={...coachProfiles,..._0x5cfcad[_0x482f5a(0x174)]}),_0x5cfcad[_0x482f5a(0xdc)]&&(sessions=sessions[_0x482f5a(0xd3)](_0x4ac54b=>!_0x4ac54b['dateStr'][_0x482f5a(0x160)](_0x5a2c56)),Object[_0x482f5a(0x103)](_0x5cfcad[_0x482f5a(0xdc)])['forEach'](_0x510ea3=>{const _0x3db34f=_0x482f5a,_0x68884=_0x5cfcad[_0x3db34f(0xdc)][_0x510ea3];_0x68884[_0x3db34f(0xac)](_0x5d41c8=>{const _0x3db314=_0x3db34f;sessions['push']({'id':_0x5d41c8['i'],'clientId':_0x5d41c8['c'],'coachId':_0x5d41c8[_0x3db314(0xc0)],'dateStr':_0x5a2c56+'-'+_0x510ea3[_0x3db314(0x141)](0x2,'0'),'start':_0x5d41c8['s'],'end':_0x5d41c8['e'],'note':_0x5d41c8['n']||'','status':_0x5d41c8['st']||_0x3db314(0x134),'seriesId':_0x5d41c8[_0x3db314(0xec)]});});})),reRenderBlocks();}};function init(){const _0x44d0d6=a3_0x413161;DataManager[_0x44d0d6(0x8d)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x44d0d6(0x168)](_0x44d0d6(0xbf))[_0x44d0d6(0x11e)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x44d0d6(0x180)]();}function renderTimeColumn(){const _0x47dfac=a3_0x413161,_0x7f8291=document['getElementById']('timeColumn'),_0x149618=document['getElementById'](_0x47dfac(0x88));_0x7f8291[_0x47dfac(0xa6)]='',_0x7f8291[_0x47dfac(0x17b)](_0x149618);for(let _0xec2854=0x0;_0xec2854<0x18;_0xec2854++){const _0x4e5eda=document[_0x47dfac(0x109)](_0x47dfac(0xfd));_0x4e5eda[_0x47dfac(0xe2)]=_0x47dfac(0xeb);if(_0xec2854>0x0)_0x4e5eda['innerHTML']='<span>'+String(_0xec2854)[_0x47dfac(0x141)](0x2,'0')+':00</span>';_0x7f8291[_0x47dfac(0x17b)](_0x4e5eda);}}function a3_0xbd03(_0x730118,_0x4aec3e){_0x730118=_0x730118-0x81;const _0x894a3b=a3_0x4e63();let _0x495630=_0x894a3b[_0x730118];return _0x495630;}function renderDayRange(_0x17c9d6,_0x4b3d44){const _0x2cc0d8=a3_0x413161,_0x4bf003=document[_0x2cc0d8(0x168)](_0x2cc0d8(0x116)),_0x211dc4=document[_0x2cc0d8(0x168)](_0x2cc0d8(0x151)),_0x4b1ce4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x35c35e=new Date();_0x35c35e[_0x2cc0d8(0x106)](0x0,0x0,0x0,0x0);const _0x2194b6=getLocalDateStr(new Date());for(let _0x409ab2=_0x17c9d6;_0x409ab2<=_0x4b3d44;_0x409ab2++){const _0x59bd74=new Date(_0x35c35e);_0x59bd74[_0x2cc0d8(0x181)](_0x59bd74['getDate']()+_0x409ab2);const _0x468d4b=getLocalDateStr(_0x59bd74);let _0x33cf62=_0x59bd74[_0x2cc0d8(0x96)]()-0x1;if(_0x33cf62===-0x1)_0x33cf62=0x6;const _0x4a64de=_0x468d4b===_0x2194b6,_0x10f217=document[_0x2cc0d8(0x109)](_0x2cc0d8(0xfd));_0x10f217[_0x2cc0d8(0xe2)]=_0x2cc0d8(0x125)+(_0x4a64de?'today':''),_0x10f217[_0x2cc0d8(0x156)]('data-date',_0x468d4b),_0x10f217[_0x2cc0d8(0xa6)]=_0x2cc0d8(0xb6)+_0x4b1ce4[_0x33cf62]+'</div><div\x20class=\x22dch-num\x22>'+_0x59bd74[_0x2cc0d8(0x11b)]()+'</div>',_0x4bf003[_0x2cc0d8(0x17b)](_0x10f217);const _0x27b91b=document['createElement'](_0x2cc0d8(0xfd));_0x27b91b['className']=_0x2cc0d8(0xa7)+(_0x4a64de?'today':''),_0x27b91b[_0x2cc0d8(0x156)](_0x2cc0d8(0x158),_0x468d4b),_0x27b91b[_0x2cc0d8(0x156)]('data-day-idx',_0x33cf62),_0x211dc4[_0x2cc0d8(0x17b)](_0x27b91b);}}function reRenderBlocks(){const _0x48bb6a=a3_0x413161;document[_0x48bb6a(0x97)](_0x48bb6a(0x11a))['forEach'](_0x158f6f=>{const _0x4e7119=_0x48bb6a;_0x158f6f['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4e7119(0xac)](_0x4ce099=>_0x4ce099['remove']());const _0x1f74fc=_0x158f6f[_0x4e7119(0xa5)]('data-date'),_0x54bd79=parseInt(_0x158f6f[_0x4e7119(0xa5)](_0x4e7119(0x15a))),_0x9666ee=Math[_0x4e7119(0xb5)](_0x158f6f['offsetLeft']);(availabilityPattern[_0x54bd79]||[])[_0x4e7119(0xac)](_0xc779c1=>{const _0x330184=_0x4e7119,_0x5e1e96=document[_0x330184(0x109)](_0x330184(0xfd));_0x5e1e96[_0x330184(0xe2)]='blocked-slot\x20stripe-bg',_0x5e1e96['style']['top']=_0xc779c1*GRID_H+'px',_0x5e1e96[_0x330184(0xe0)][_0x330184(0xbc)]='-'+_0x9666ee+_0x330184(0xbe)+_0xc779c1*GRID_H+'px',_0x158f6f[_0x330184(0x17b)](_0x5e1e96);});if(specialRanges[_0x4e7119(0x13a)]>0x0){const _0x4d0e09=new Date(_0x1f74fc+_0x4e7119(0x85))[_0x4e7119(0x91)](),_0x136c83=new Date(_0x1f74fc+'T23:59:59')['getTime']();specialRanges['forEach'](_0x2ae930=>{const _0x18849f=_0x4e7119,_0x36f288=new Date(_0x2ae930['start'])['getTime'](),_0xf202c=new Date(_0x2ae930[_0x18849f(0x9f)])['getTime'](),_0xeb4d59=Math[_0x18849f(0x179)](_0x4d0e09,_0x36f288),_0x18bbdb=Math[_0x18849f(0xbd)](_0x136c83,_0xf202c);if(_0xeb4d59<_0x18bbdb){const _0x526239=(_0xeb4d59-_0x4d0e09)/0x36ee80*GRID_H,_0x3de157=(_0x18bbdb-_0xeb4d59)/0x36ee80*GRID_H,_0x27f3dd=document[_0x18849f(0x109)](_0x18849f(0xfd));_0x3de157>=23.5*GRID_H?(_0x27f3dd[_0x18849f(0xe2)]=_0x18849f(0xb0),_0x27f3dd[_0x18849f(0xe0)][_0x18849f(0xbc)]='-'+_0x9666ee+'px\x200px'):(_0x27f3dd[_0x18849f(0xe2)]=_0x18849f(0x89),_0x27f3dd[_0x18849f(0xe0)][_0x18849f(0xc6)]=_0x526239+'px',_0x27f3dd[_0x18849f(0xe0)][_0x18849f(0x173)]=_0x3de157+'px',_0x27f3dd[_0x18849f(0xe0)][_0x18849f(0xbc)]='-'+_0x9666ee+_0x18849f(0xbe)+_0x526239+'px'),_0x158f6f[_0x18849f(0x17b)](_0x27f3dd);}});}renderEventsForColumn(_0x158f6f,_0x1f74fc);});}function renderEventsForColumn(_0x408297,_0x1da1d1){const _0x3b8c64=a3_0x413161,_0x1fbc40=sessions[_0x3b8c64(0xd3)](_0x5e4621=>_0x5e4621[_0x3b8c64(0xd8)]===_0x1da1d1),_0x29e25f=_0x1fbc40[_0x3b8c64(0x13b)](_0x2481fe=>{const _0x20822b=_0x3b8c64,[_0x34e39e,_0x316063]=_0x2481fe[_0x20822b(0x183)]['split'](':')[_0x20822b(0x13b)](Number),[_0x5c6be3,_0x5573bd]=_0x2481fe[_0x20822b(0x9f)]['split'](':')[_0x20822b(0x13b)](Number);return{'data':_0x2481fe,'start':_0x34e39e*0x3c+_0x316063,'end':_0x5c6be3*0x3c+_0x5573bd,'colIndex':0x0};});_0x29e25f[_0x3b8c64(0x114)]((_0x5c75a4,_0x3f8650)=>_0x5c75a4[_0x3b8c64(0x183)]-_0x3f8650[_0x3b8c64(0x183)]||_0x3f8650[_0x3b8c64(0x9f)]-_0x3f8650['start']-(_0x5c75a4[_0x3b8c64(0x9f)]-_0x5c75a4[_0x3b8c64(0x183)]));const _0x4292cb=[];_0x29e25f[_0x3b8c64(0xac)](_0x1d1092=>{const _0x3496be=_0x3b8c64;let _0x18ee1c=![];for(let _0x4a24c2=0x0;_0x4a24c2<_0x4292cb[_0x3496be(0x13a)];_0x4a24c2++){const _0x4cd1cb=_0x4292cb[_0x4a24c2];if(_0x1d1092[_0x3496be(0x183)]>=_0x4cd1cb[_0x4cd1cb['length']-0x1]['end']){_0x4cd1cb[_0x3496be(0x101)](_0x1d1092),_0x1d1092[_0x3496be(0xf5)]=_0x4a24c2,_0x18ee1c=!![];break;}}!_0x18ee1c&&(_0x4292cb['push']([_0x1d1092]),_0x1d1092[_0x3496be(0xf5)]=_0x4292cb[_0x3496be(0x13a)]-0x1);}),_0x29e25f[_0x3b8c64(0xac)](_0x2ef693=>{const _0x908df5=_0x3b8c64;let _0x562a43=0x0;_0x29e25f[_0x908df5(0xac)](_0xb72699=>{const _0x4c2a25=_0x908df5;if(Math['max'](_0x2ef693[_0x4c2a25(0x183)],_0xb72699[_0x4c2a25(0x183)])<Math[_0x4c2a25(0xbd)](_0x2ef693[_0x4c2a25(0x9f)],_0xb72699[_0x4c2a25(0x9f)])&&_0xb72699['colIndex']>_0x562a43)_0x562a43=_0xb72699[_0x4c2a25(0xf5)];});const _0x50344a=_0x562a43+0x1,_0x51285a=0x64/_0x50344a,_0x3957b9=_0x2ef693['colIndex']*_0x51285a,_0x15fad4=document[_0x908df5(0x109)](_0x908df5(0xfd)),_0x9f96d1=_0x2ef693[_0x908df5(0xae)];let _0x46c194=_0x908df5(0xe6);if(clients&&clients[_0x908df5(0x13a)]>0x0){const _0x42b5c3=clients[_0x908df5(0x17d)](_0x2814d5=>String(_0x2814d5['id'])===String(_0x9f96d1[_0x908df5(0xdb)]));if(_0x42b5c3&&_0x42b5c3[_0x908df5(0xfb)])_0x46c194=_0x42b5c3['color'];}const _0x21fdd0=_0x9f96d1[_0x908df5(0x172)]===_0x908df5(0x124),_0x584b65=_0x21fdd0?0x1:0.45;_0x15fad4['className']='event-card'+(_0x21fdd0?_0x908df5(0x12a):''),_0x15fad4[_0x908df5(0xe0)][_0x908df5(0xc7)]=hexToRgba(_0x46c194,_0x584b65),_0x15fad4[_0x908df5(0xe0)]['borderLeftColor']=_0x46c194;const _0x1fde93=_0x2ef693[_0x908df5(0x183)]/0x3c*GRID_H,_0xffe02e=(_0x2ef693[_0x908df5(0x9f)]-_0x2ef693['start'])/0x3c*GRID_H;_0x15fad4[_0x908df5(0xe0)][_0x908df5(0xc6)]=_0x1fde93+'px',_0x15fad4[_0x908df5(0xe0)][_0x908df5(0x173)]=Math[_0x908df5(0x179)](_0xffe02e,0x14)+'px',_0x15fad4[_0x908df5(0xe0)][_0x908df5(0x84)]=_0x908df5(0x12b)+_0x51285a+_0x908df5(0x148),_0x15fad4[_0x908df5(0xe0)][_0x908df5(0x15d)]=_0x908df5(0x12b)+_0x3957b9+_0x908df5(0x9d),_0x15fad4[_0x908df5(0xe0)][_0x908df5(0x82)]=0xa+_0x2ef693[_0x908df5(0xf5)];if(_0x51285a<0x55)_0x15fad4[_0x908df5(0xd2)][_0x908df5(0x119)](_0x908df5(0x95));let _0xff2a48='';if(_0x9f96d1[_0x908df5(0x86)])_0xff2a48+=_0x908df5(0xaf);if(_0x21fdd0)_0xff2a48+=_0x908df5(0x127);_0x15fad4[_0x908df5(0xa6)]=_0x908df5(0xd1)+_0x9f96d1[_0x908df5(0x183)]+_0x908df5(0xe3)+_0x9f96d1[_0x908df5(0x9f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xff2a48+_0x908df5(0x171),_0x15fad4[_0x908df5(0x140)]=_0x3441fa=>{_0x3441fa['stopPropagation'](),openDetails(_0x9f96d1);},_0x408297[_0x908df5(0x17b)](_0x15fad4);});}function openAnalytics(){const _0x2d7360=a3_0x413161,_0x350b79=document[_0x2d7360(0xf7)](_0x2d7360(0x129));setAnalyticsPeriod(_0x2d7360(0x10d),_0x350b79),openSheet(_0x2d7360(0xb1));}function setAnalyticsPeriod(_0x499426,_0x21047d){const _0x42d872=a3_0x413161;currentAnPeriod=_0x499426,document[_0x42d872(0x97)](_0x42d872(0x129))[_0x42d872(0xac)](_0x110d56=>_0x110d56[_0x42d872(0xd2)][_0x42d872(0xd9)](_0x42d872(0xa4)));if(_0x21047d)_0x21047d['classList'][_0x42d872(0x119)](_0x42d872(0xa4));const _0x5b470e=document[_0x42d872(0x168)](_0x42d872(0x175));_0x5b470e[_0x42d872(0xe0)]['display']=_0x499426==='custom'?_0x42d872(0x163):_0x42d872(0x136);const _0x3d2821=new Date();let _0x43e928=new Date(),_0x15e8c9=new Date();if(_0x499426==='week')_0x43e928=getStartOfWeek(_0x3d2821),_0x15e8c9=new Date(_0x43e928),_0x15e8c9[_0x42d872(0x181)](_0x15e8c9['getDate']()+0x6);else{if(_0x499426===_0x42d872(0xba))_0x43e928=new Date(_0x3d2821['getFullYear'](),_0x3d2821['getMonth'](),0x1),_0x15e8c9=new Date(_0x3d2821['getFullYear'](),_0x3d2821[_0x42d872(0x178)]()+0x1,0x0);else{!document[_0x42d872(0x168)]('anStart')[_0x42d872(0xb9)]&&(document[_0x42d872(0x168)](_0x42d872(0x159))[_0x42d872(0xb9)]=getLocalDateStr(_0x3d2821),document['getElementById']('anEnd')[_0x42d872(0xb9)]=getLocalDateStr(_0x3d2821));refreshAnalytics();return;}}document[_0x42d872(0x168)](_0x42d872(0x159))['value']=getLocalDateStr(_0x43e928),document[_0x42d872(0x168)](_0x42d872(0xa8))['value']=getLocalDateStr(_0x15e8c9),refreshAnalytics();}function refreshAnalytics(){const _0x1726d2=a3_0x413161,_0x5035f2=document[_0x1726d2(0x168)](_0x1726d2(0x159))['value'],_0x3bdf77=document['getElementById']('anEnd')[_0x1726d2(0xb9)];if(!_0x5035f2||!_0x3bdf77)return;const _0xae4c03=sessions[_0x1726d2(0xd3)](_0x2ede2f=>_0x2ede2f[_0x1726d2(0xd8)]>=_0x5035f2&&_0x2ede2f[_0x1726d2(0xd8)]<=_0x3bdf77&&_0x2ede2f[_0x1726d2(0x172)]!==_0x1726d2(0x11c)),_0x3f401e=_0xae4c03['length'],_0x1574e1=_0xae4c03[_0x1726d2(0xd3)](_0x38efaa=>_0x38efaa[_0x1726d2(0x172)]===_0x1726d2(0x124))[_0x1726d2(0x13a)],_0x25a02b=_0x3f401e>0x0?Math[_0x1726d2(0xb5)](_0x1574e1/_0x3f401e*0x64):0x0;document[_0x1726d2(0x168)]('anPercent')['textContent']=_0x25a02b+'%',document[_0x1726d2(0x168)](_0x1726d2(0xff))['textContent']=_0x1574e1+_0x1726d2(0xfa)+_0x3f401e+_0x1726d2(0xfc);const _0x132582=document[_0x1726d2(0x168)]('anDonutCircle'),_0x504cd5=0x2*Math['PI']*0x23,_0x618ad8=_0x504cd5-_0x25a02b/0x64*_0x504cd5;_0x132582[_0x1726d2(0xe0)][_0x1726d2(0xc2)]=_0x618ad8;const _0x45b0e4={};_0xae4c03[_0x1726d2(0xac)](_0x306e9f=>{const _0xca48b6=_0x1726d2,_0x301fa2=_0x306e9f['coachId']||_0xca48b6(0x13d);if(!_0x45b0e4[_0x301fa2]){const _0x9b73f1='#'+_0x301fa2[_0xca48b6(0x108)]()['substr'](0x0,0x6);_0x45b0e4[_0x301fa2]={'total':0x0,'done':0x0,'color':_0x9b73f1};}_0x45b0e4[_0x301fa2]['total']++;if(_0x306e9f[_0xca48b6(0x172)]===_0xca48b6(0x124))_0x45b0e4[_0x301fa2][_0xca48b6(0x170)]++;});const _0x547571=document[_0x1726d2(0x168)]('analyticsList');_0x547571[_0x1726d2(0xa6)]='';const _0x565470=Object[_0x1726d2(0x152)](_0x45b0e4)[_0x1726d2(0x114)]((_0x26cc8a,_0xba9573)=>_0xba9573[0x1][_0x1726d2(0x14d)]-_0x26cc8a[0x1][_0x1726d2(0x14d)]);if(_0x565470['length']===0x0){_0x547571[_0x1726d2(0xa6)]=_0x1726d2(0xc1);return;}_0x565470[_0x1726d2(0xac)](([_0x194676,_0x162703])=>{const _0x3a54a3=_0x1726d2,_0x108630=Math[_0x3a54a3(0xb5)](_0x162703[_0x3a54a3(0x170)]/_0x162703[_0x3a54a3(0x14d)]*0x64),_0x18bf7d=document[_0x3a54a3(0x109)]('div');_0x18bf7d[_0x3a54a3(0xe2)]=_0x3a54a3(0x12f),_0x18bf7d['style'][_0x3a54a3(0x15e)]=_0x162703[_0x3a54a3(0xfb)],_0x18bf7d[_0x3a54a3(0xa6)]=_0x3a54a3(0xaa)+_0x194676[_0x3a54a3(0x149)](0x0,0x5)+_0x3a54a3(0xe4)+_0x162703[_0x3a54a3(0x170)]+_0x3a54a3(0x113)+_0x162703['total']+_0x3a54a3(0x154)+_0x108630+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x547571[_0x3a54a3(0x17b)](_0x18bf7d);});}function openDetails(_0x3568dc){const _0x5ea735=a3_0x413161;currentSession=_0x3568dc;const _0x260439=new Date(_0x3568dc[_0x5ea735(0xd8)]),_0x360554=_0x260439[_0x5ea735(0x99)]('ru-RU',{'weekday':_0x5ea735(0xf0),'day':_0x5ea735(0xe1),'month':_0x5ea735(0xf0)});document[_0x5ea735(0x168)]('detDate')[_0x5ea735(0x17a)]=_0x360554[_0x5ea735(0x14b)](0x0)[_0x5ea735(0xda)]()+_0x360554['slice'](0x1),document['getElementById'](_0x5ea735(0x83))[_0x5ea735(0x17a)]=_0x3568dc['start']+'\x20-\x20'+_0x3568dc[_0x5ea735(0x9f)],document['getElementById'](_0x5ea735(0x126))[_0x5ea735(0x17a)]=_0x3568dc[_0x5ea735(0xb8)]||'–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫';const _0x3a0cfd=document[_0x5ea735(0x168)](_0x5ea735(0x8b)),_0x89448f=document[_0x5ea735(0x168)](_0x5ea735(0x115)),_0x5b614b=_0x89448f[_0x5ea735(0xf7)](_0x5ea735(0xb2)),_0x1be98f=_0x89448f['querySelector']('.btn-reschedule'),_0x36fe9d=document['getElementById'](_0x5ea735(0xcb));if(_0x3568dc[_0x5ea735(0x172)]==='completed')_0x3a0cfd[_0x5ea735(0x17a)]=_0x5ea735(0x14f),_0x3a0cfd[_0x5ea735(0xe0)][_0x5ea735(0xfb)]=_0x5ea735(0xf6),_0x89448f['style'][_0x5ea735(0x133)]='none';else{_0x3a0cfd[_0x5ea735(0x17a)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x3a0cfd['style'][_0x5ea735(0xfb)]=_0x5ea735(0x155),_0x89448f['style'][_0x5ea735(0x133)]=_0x5ea735(0xf1);const _0x4222a1=new Date(_0x3568dc[_0x5ea735(0xd8)]+'T'+_0x3568dc[_0x5ea735(0x183)]),_0x445f3e=new Date(),_0x42a9af=(_0x4222a1-_0x445f3e)/(0x3e8*0x3c*0x3c),_0x4f86d4=coachProfiles[_0x3568dc[_0x5ea735(0xcf)]]&&coachProfiles[_0x3568dc['coachId']][_0x5ea735(0x142)]?parseInt(coachProfiles[_0x3568dc[_0x5ea735(0xcf)]][_0x5ea735(0x142)]):0x18;if(_0x4f86d4===0x0||_0x42a9af>=_0x4f86d4)_0x5b614b['style'][_0x5ea735(0x133)]='block',_0x1be98f[_0x5ea735(0xe0)][_0x5ea735(0x133)]=_0x5ea735(0xf1),_0x36fe9d[_0x5ea735(0xe0)][_0x5ea735(0x133)]=_0x5ea735(0x136);else{_0x5b614b['style'][_0x5ea735(0x133)]=_0x5ea735(0x136),_0x1be98f['style'][_0x5ea735(0x133)]='none',_0x36fe9d[_0x5ea735(0xe0)][_0x5ea735(0x133)]=_0x5ea735(0xf1);let _0x5e4eb9=_0x4f86d4===0x0?_0x5ea735(0x90):'–∑–∞\x20'+_0x4f86d4+_0x5ea735(0x100);_0x36fe9d['textContent']=_0x5ea735(0x12d)+_0x5e4eb9+_0x5ea735(0x132);}}document[_0x5ea735(0x168)]('overlay')[_0x5ea735(0xd2)]['add']('active'),document[_0x5ea735(0x168)](_0x5ea735(0xf3))[_0x5ea735(0xd2)]['add']('open');}function closeAllSheets(){const _0x41e2a5=a3_0x413161;document[_0x41e2a5(0x168)](_0x41e2a5(0x16a))['classList']['remove'](_0x41e2a5(0xa4)),document[_0x41e2a5(0x97)]('.sheet')[_0x41e2a5(0xac)](_0xb3b57f=>_0xb3b57f[_0x41e2a5(0xd2)][_0x41e2a5(0xd9)](_0x41e2a5(0xde)));}function openSheet(_0x445453){const _0x434f91=a3_0x413161;document['getElementById']('overlay')['classList'][_0x434f91(0x119)](_0x434f91(0xa4)),document['getElementById'](_0x445453)[_0x434f91(0xd2)][_0x434f91(0x119)](_0x434f91(0xde));}function getLocalDateStr(_0x544445){const _0x3b3b26=a3_0x413161,_0x428510=_0x544445[_0x3b3b26(0xc5)](),_0x490c1c=String(_0x544445[_0x3b3b26(0x178)]()+0x1)[_0x3b3b26(0x141)](0x2,'0'),_0x290d7d=String(_0x544445['getDate']())['padStart'](0x2,'0');return _0x428510+'-'+_0x490c1c+'-'+_0x290d7d;}function getStartOfWeek(_0x2a18a7){const _0x294a58=a3_0x413161,_0xd0cad7=new Date(_0x2a18a7),_0x117230=_0xd0cad7[_0x294a58(0x96)](),_0x6f7d49=_0xd0cad7[_0x294a58(0x11b)]()-_0x117230+(_0x117230===0x0?-0x6:0x1);return _0xd0cad7[_0x294a58(0x181)](_0x6f7d49),_0xd0cad7[_0x294a58(0x106)](0x0,0x0,0x0,0x0),_0xd0cad7;}function scrollToToday(){const _0x962b89=getLocalDateStr(new Date());setTimeout(()=>{const _0x28467a=a3_0xbd03,_0x2ac584=document[_0x28467a(0xf7)](_0x28467a(0x169)+_0x962b89+'\x22]');if(_0x2ac584){const _0x3a40ea=document[_0x28467a(0x168)](_0x28467a(0xbf)),_0x2e363e=_0x2ac584[_0x28467a(0xf4)]-_0x3a40ea[_0x28467a(0x11d)]/0x2+_0x2ac584[_0x28467a(0x102)]/0x2;_0x3a40ea[_0x28467a(0xea)]({'left':_0x2e363e,'behavior':_0x28467a(0x112)}),_0x3a40ea[_0x28467a(0x14a)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59aea0=a3_0x413161,_0x1482dc=new Date(),_0x38fcff=document[_0x59aea0(0x168)](_0x59aea0(0x128)),_0x1d71fe=document['getElementById'](_0x59aea0(0x88)),_0x4fa6f1=(_0x1482dc[_0x59aea0(0x14c)]()*0x3c+_0x1482dc[_0x59aea0(0x135)]())/0x3c*GRID_H;_0x38fcff[_0x59aea0(0xe0)]['top']=_0x4fa6f1+'px',_0x38fcff[_0x59aea0(0xe0)][_0x59aea0(0x133)]=_0x59aea0(0xf1),_0x1d71fe['style'][_0x59aea0(0xc6)]=_0x4fa6f1+'px',_0x1d71fe[_0x59aea0(0xe0)]['display']=_0x59aea0(0xf1),_0x1d71fe[_0x59aea0(0x17a)]=String(_0x1482dc[_0x59aea0(0x14c)]())[_0x59aea0(0x141)](0x2,'0')+':'+String(_0x1482dc[_0x59aea0(0x135)]())[_0x59aea0(0x141)](0x2,'0');}function onScroll(){const _0x4c33bb=a3_0x413161,_0x572e7f=document[_0x4c33bb(0x168)](_0x4c33bb(0xbf)),_0x48c2d6=document[_0x4c33bb(0x97)](_0x4c33bb(0xd6));for(let _0x4bd0e8 of _0x48c2d6)if(_0x4bd0e8[_0x4c33bb(0xf4)]>=_0x572e7f[_0x4c33bb(0xc3)]){const _0x2e9cb6=new Date(_0x4bd0e8['getAttribute'](_0x4c33bb(0x158)));document['getElementById'](_0x4c33bb(0x9c))[_0x4c33bb(0x17a)]=_0x2e9cb6[_0x4c33bb(0x13e)]('ru',{'month':_0x4c33bb(0xf0)})['toUpperCase']()+'\x20'+_0x2e9cb6[_0x4c33bb(0xc5)]();break;}}function showToast(_0xac0a2a){const _0x250058=a3_0x413161,_0x31f088=document[_0x250058(0x168)]('toast');_0x31f088[_0x250058(0x17a)]=_0xac0a2a,_0x31f088[_0x250058(0xd2)][_0x250058(0x119)](_0x250058(0xca)),setTimeout(()=>_0x31f088[_0x250058(0xd2)]['remove']('show'),0x7d0);}function handleInfiniteScroll(){const _0x17803d=a3_0x413161,_0x538871=document[_0x17803d(0x168)](_0x17803d(0xbf)),_0x29119e=_0x538871['scrollLeft'],_0x393d87=_0x538871[_0x17803d(0xdf)],_0x2e446d=_0x538871[_0x17803d(0x11d)];if(_0x393d87-(_0x29119e+_0x2e446d)<0x12c){const _0x13dfaf=endOffset;endOffset+=0xe,renderDayRange(_0x13dfaf+0x1,endOffset),reRenderBlocks();}if(_0x29119e<0x12c){const _0x3e3646=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3e3646-0x1),_0x538871[_0x17803d(0xc3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4cebb8,_0x1a93bf){const _0x2c663=a3_0x413161,_0x12b0e6=document[_0x2c663(0x168)](_0x2c663(0x116)),_0x1e67f8=document[_0x2c663(0x168)](_0x2c663(0x151)),_0x1f4a86=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e7703=new Date();_0x1e7703[_0x2c663(0x106)](0x0,0x0,0x0,0x0);const _0x3e7c21=getLocalDateStr(new Date()),_0x2e0dc3=document[_0x2c663(0x10e)](),_0x9d2311=document[_0x2c663(0x10e)]();for(let _0x2326a7=_0x4cebb8;_0x2326a7<=_0x1a93bf;_0x2326a7++){const _0x1118a8=new Date(_0x1e7703);_0x1118a8[_0x2c663(0x181)](_0x1118a8[_0x2c663(0x11b)]()+_0x2326a7);const _0x4f3482=getLocalDateStr(_0x1118a8);let _0x538d33=_0x1118a8['getDay']()-0x1;if(_0x538d33===-0x1)_0x538d33=0x6;const _0x509489=_0x4f3482===_0x3e7c21,_0x5c6a9c=document[_0x2c663(0x109)](_0x2c663(0xfd));_0x5c6a9c[_0x2c663(0xe2)]=_0x2c663(0x125)+(_0x509489?_0x2c663(0xa1):''),_0x5c6a9c[_0x2c663(0x156)]('data-date',_0x4f3482),_0x5c6a9c[_0x2c663(0xa6)]=_0x2c663(0xb6)+_0x1f4a86[_0x538d33]+_0x2c663(0x98)+_0x1118a8[_0x2c663(0x11b)]()+_0x2c663(0x11f),_0x2e0dc3[_0x2c663(0x17b)](_0x5c6a9c);const _0x37e926=document[_0x2c663(0x109)](_0x2c663(0xfd));_0x37e926['className']=_0x2c663(0xa7)+(_0x509489?_0x2c663(0xa1):''),_0x37e926['setAttribute'](_0x2c663(0x158),_0x4f3482),_0x37e926[_0x2c663(0x156)](_0x2c663(0x15a),_0x538d33),_0x9d2311[_0x2c663(0x17b)](_0x37e926);}_0x12b0e6[_0x2c663(0x17f)](_0x2e0dc3,_0x12b0e6[_0x2c663(0x120)]),_0x1e67f8[_0x2c663(0x17f)](_0x9d2311,_0x1e67f8['querySelector'](_0x2c663(0x11a)));}function hexToRgba(_0x34325a,_0x27108f){const _0x357f23=a3_0x413161;let _0x52e336;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x357f23(0x92)](_0x34325a))return _0x52e336=_0x34325a[_0x357f23(0x162)](0x1)[_0x357f23(0x12e)](''),_0x52e336[_0x357f23(0x13a)]==0x3&&(_0x52e336=[_0x52e336[0x0],_0x52e336[0x0],_0x52e336[0x1],_0x52e336[0x1],_0x52e336[0x2],_0x52e336[0x2]]),_0x52e336='0x'+_0x52e336[_0x357f23(0x10a)](''),_0x357f23(0xe9)+[_0x52e336>>0x10&0xff,_0x52e336>>0x8&0xff,_0x52e336&0xff]['join'](',')+','+_0x27108f+')';return'rgba(10,\x20132,\x20255,\x20'+_0x27108f+')';}let confirmResolver=null;function showCustomConfirm(_0x4e2e2b,_0x11e5f0,_0x1fff70=!![]){const _0x14fad6=a3_0x413161;document[_0x14fad6(0x168)](_0x14fad6(0x143))[_0x14fad6(0x17a)]=_0x4e2e2b,document[_0x14fad6(0x168)](_0x14fad6(0xa0))['textContent']=_0x11e5f0;const _0x471b6f=document[_0x14fad6(0x168)](_0x14fad6(0xd5));return _0x1fff70?(_0x471b6f[_0x14fad6(0xe0)]['color']='#ff453a',_0x471b6f[_0x14fad6(0xe0)]['fontWeight']=_0x14fad6(0x8a)):(_0x471b6f[_0x14fad6(0xe0)]['color']=_0x14fad6(0xe6),_0x471b6f[_0x14fad6(0xe0)][_0x14fad6(0x14e)]=_0x14fad6(0x8a)),new Promise(_0x506675=>{const _0xa6a830=_0x14fad6;confirmResolver=_0x506675,document[_0xa6a830(0x168)](_0xa6a830(0xcd))[_0xa6a830(0xd2)][_0xa6a830(0x119)](_0xa6a830(0x176));});}function resolveCustomConfirm(_0x38b3d5){const _0x173424=a3_0x413161;document[_0x173424(0x168)](_0x173424(0xcd))['classList'][_0x173424(0xd9)](_0x173424(0x176));if(confirmResolver)confirmResolver(_0x38b3d5);}async function tryCancelCurrentSession(){const _0x48b8b3=a3_0x413161;if(!currentSession)return;const _0x389565=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏',_0x48b8b3(0xb3),!![]);if(!_0x389565)return;const _0x28fec1=currentSession;closeAllSheets(),sessions=sessions[_0x48b8b3(0xd3)](_0xfa8dd3=>_0xfa8dd3['id']!==_0x28fec1['id']),reRenderBlocks(),showToast(_0x48b8b3(0x165)),lastUserActionTime=Date[_0x48b8b3(0x16e)]();try{const _0x1a075f=window[_0x48b8b3(0x121)]?.[_0x48b8b3(0x87)],_0x112266=await fetch(API_URL,{'method':'POST','body':JSON[_0x48b8b3(0x17c)]({'action':_0x48b8b3(0x150),'init_data':_0x1a075f?.[_0x48b8b3(0xc9)]||'','coachId':_0x28fec1[_0x48b8b3(0xcf)],'dateStr':_0x28fec1[_0x48b8b3(0xd8)],'sessionId':_0x28fec1['id']})});if(_0x112266['ok'])DataManager[_0x48b8b3(0x81)]();}catch(_0x55a935){showToast('–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏');}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x41dd85=a3_0x413161;if(!currentSession)return;document[_0x41dd85(0x168)](_0x41dd85(0xf3))[_0x41dd85(0xd2)][_0x41dd85(0xd9)](_0x41dd85(0xde)),document[_0x41dd85(0x168)](_0x41dd85(0x15b))['classList'][_0x41dd85(0x119)]('open');const _0x487569=document[_0x41dd85(0x168)](_0x41dd85(0x117)),_0x225c5b=document[_0x41dd85(0x168)](_0x41dd85(0x10b));_0x487569[_0x41dd85(0xa6)]='',_0x225c5b[_0x41dd85(0xa6)]=_0x41dd85(0xc8);const [_0x1e2d5c,_0x5a475f]=currentSession[_0x41dd85(0x183)][_0x41dd85(0x12e)](':')[_0x41dd85(0x13b)](Number),[_0x37d79c,_0xc5dc70]=currentSession['end'][_0x41dd85(0x12e)](':')['map'](Number),_0x37839d=_0x37d79c*0x3c+_0xc5dc70-(_0x1e2d5c*0x3c+_0x5a475f);try{const _0x33f9ac=window[_0x41dd85(0x121)]?.[_0x41dd85(0x87)],_0xabcde0=await fetch(API_URL,{'method':_0x41dd85(0x17e),'body':JSON[_0x41dd85(0x17c)]({'action':_0x41dd85(0xa2),'coachId':currentSession[_0x41dd85(0xcf)],'duration':_0x37839d,'init_data':_0x33f9ac?.['initData']||'','excludeSessionId':currentSession['id']})}),_0x5d4cc5=await _0xabcde0[_0x41dd85(0x110)]();_0x5d4cc5['ok']&&_0x5d4cc5['data']?(availableSlotsCache=_0x5d4cc5['data'],renderRescheduleDates()):_0x225c5b['innerHTML']=_0x41dd85(0x16d);}catch(_0x3bf6e0){_0x225c5b[_0x41dd85(0xa6)]=_0x41dd85(0x13f);}}function renderRescheduleDates(){const _0x338ff2=a3_0x413161,_0xf2e1c0=document[_0x338ff2(0x168)](_0x338ff2(0x117));_0xf2e1c0[_0x338ff2(0xa6)]='';const _0x22e79e=Object[_0x338ff2(0x103)](availableSlotsCache)[_0x338ff2(0x114)](),_0x121eff=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x22e79e[_0x338ff2(0x13a)]===0x0){document[_0x338ff2(0x168)](_0x338ff2(0x10b))[_0x338ff2(0xa6)]='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x22e79e['forEach']((_0x412a9c,_0x86cfde)=>{const _0x55400e=_0x338ff2,_0xd01d99=new Date(_0x412a9c),_0x2a2758=_0x121eff[_0xd01d99[_0x55400e(0x96)]()],_0x14ed56=_0xd01d99[_0x55400e(0x11b)](),_0x5f3619=document[_0x55400e(0x109)](_0x55400e(0xfd));_0x5f3619[_0x55400e(0xe2)]=_0x55400e(0x107);if(_0x86cfde===0x0)_0x5f3619[_0x55400e(0xd2)][_0x55400e(0x119)](_0x55400e(0xa4));_0x5f3619[_0x55400e(0xa6)]=_0x55400e(0x139)+_0x2a2758+'</div><div\x20class=\x22rs-day-num\x22>'+_0x14ed56+_0x55400e(0x11f),_0x5f3619[_0x55400e(0x140)]=()=>selectRsDate(_0x412a9c,_0x5f3619),_0xf2e1c0[_0x55400e(0x17b)](_0x5f3619);}),selectRsDate(_0x22e79e[0x0],_0xf2e1c0[_0x338ff2(0x120)]);}function selectRsDate(_0x40f7d7,_0x2e3aa9){const _0x28bf7b=a3_0x413161;selectedRsDate=_0x40f7d7,document[_0x28bf7b(0x97)]('.rs-date-chip')[_0x28bf7b(0xac)](_0x105365=>_0x105365['classList']['remove'](_0x28bf7b(0xa4)));if(_0x2e3aa9)_0x2e3aa9[_0x28bf7b(0xd2)][_0x28bf7b(0x119)](_0x28bf7b(0xa4));const _0x6a63e0=document[_0x28bf7b(0x168)]('rsSlotsGrid');_0x6a63e0['innerHTML']='';const _0xbd53e2=availableSlotsCache[_0x40f7d7]||[];if(_0xbd53e2['length']===0x0){_0x6a63e0['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>';return;}_0xbd53e2[_0x28bf7b(0xac)](_0x49c5df=>{const _0x346cb9=_0x28bf7b,_0x10dd27=document['createElement'](_0x346cb9(0xed));_0x10dd27[_0x346cb9(0xe2)]=_0x346cb9(0xd7),_0x10dd27[_0x346cb9(0x17a)]=_0x49c5df,_0x10dd27[_0x346cb9(0x140)]=()=>confirmReschedule(_0x49c5df),_0x6a63e0[_0x346cb9(0x17b)](_0x10dd27);});}async function confirmReschedule(_0x55f0cd){const _0x59a7cd=a3_0x413161,_0x41e9d4=new Date(selectedRsDate),_0x56d3ea=_0x41e9d4[_0x59a7cd(0x99)](_0x59a7cd(0xab),{'day':_0x59a7cd(0xe1),'month':_0x59a7cd(0xf0)}),_0x4f5fda=await showCustomConfirm(_0x59a7cd(0x9a),_0x59a7cd(0x137)+_0x56d3ea+'\x20–≤\x20'+_0x55f0cd+'?',![]);if(!_0x4f5fda)return;closeAllSheets(),showToast(_0x59a7cd(0x16b)),lastUserActionTime=Date[_0x59a7cd(0x16e)]();const _0x13cea7=currentSession['dateStr'],_0x47c4ec=currentSession['id'],[_0xadf008,_0x197f0e]=currentSession[_0x59a7cd(0x183)]['split'](':')[_0x59a7cd(0x13b)](Number),[_0xbb0431,_0x18c640]=currentSession['end'][_0x59a7cd(0x12e)](':')['map'](Number),_0x44dd93=_0xbb0431*0x3c+_0x18c640-(_0xadf008*0x3c+_0x197f0e),[_0xb727a5,_0x48357f]=_0x55f0cd[_0x59a7cd(0x12e)](':')[_0x59a7cd(0x13b)](Number),_0x2469c0=_0xb727a5*0x3c+_0x48357f+_0x44dd93,_0x58c9af=Math[_0x59a7cd(0xd4)](_0x2469c0/0x3c),_0x315aa4=_0x2469c0%0x3c,_0x4f3a21=String(_0x58c9af)[_0x59a7cd(0x141)](0x2,'0')+':'+String(_0x315aa4)[_0x59a7cd(0x141)](0x2,'0'),_0x240924=sessions[_0x59a7cd(0x10f)](_0x2ca64f=>_0x2ca64f['id']===_0x47c4ec);_0x240924!==-0x1&&(sessions[_0x240924][_0x59a7cd(0xd8)]=selectedRsDate,sessions[_0x240924]['start']=_0x55f0cd,sessions[_0x240924]['end']=_0x4f3a21,reRenderBlocks());try{const _0xd2339c=window[_0x59a7cd(0x121)]?.['WebApp'],_0x58a331=await fetch(API_URL,{'method':'POST','body':JSON[_0x59a7cd(0x17c)]({'action':_0x59a7cd(0x118),'init_data':_0xd2339c?.['initData']||'','oldSessionId':_0x47c4ec,'oldDate':_0x13cea7,'newDate':selectedRsDate,'newTime':_0x55f0cd,'coachId':currentSession[_0x59a7cd(0xcf)]})}),_0xeea4d6=await _0x58a331['json']();!_0xeea4d6['ok']?(showToast(_0x59a7cd(0x122)),DataManager['syncLoad']()):(showToast(_0x59a7cd(0xf8)),DataManager[_0x59a7cd(0x81)]());}catch(_0x516cb5){showToast(_0x59a7cd(0xd0));}}document[a3_0x413161(0x11e)](a3_0x413161(0xee),init);