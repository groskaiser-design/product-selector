const a3_0x48a7d7=a3_0x50a5;(function(_0x31de33,_0x4a7c73){const _0x258c6a=a3_0x50a5,_0x28cbdc=_0x31de33();while(!![]){try{const _0x179240=-parseInt(_0x258c6a(0x273))/0x1+parseInt(_0x258c6a(0x211))/0x2*(-parseInt(_0x258c6a(0x2c0))/0x3)+-parseInt(_0x258c6a(0x1dd))/0x4*(parseInt(_0x258c6a(0x246))/0x5)+parseInt(_0x258c6a(0x1ee))/0x6*(-parseInt(_0x258c6a(0x285))/0x7)+-parseInt(_0x258c6a(0x27a))/0x8*(-parseInt(_0x258c6a(0x1cd))/0x9)+-parseInt(_0x258c6a(0x1e3))/0xa+parseInt(_0x258c6a(0x1f0))/0xb;if(_0x179240===_0x4a7c73)break;else _0x28cbdc['push'](_0x28cbdc['shift']());}catch(_0x121d88){_0x28cbdc['push'](_0x28cbdc['shift']());}}}(a3_0x398a,0x95a74));const APP_VERSION=a3_0x48a7d7(0x1d5),API_URL=a3_0x48a7d7(0x248),GRID_H=0x3c,KEY_SESSIONS=a3_0x48a7d7(0x1d7),KEY_SETTINGS=a3_0x48a7d7(0x1d2),KEY_CLIENTS=a3_0x48a7d7(0x2bf);let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod=a3_0x48a7d7(0x1d1),coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x1011d4=a3_0x48a7d7,_0x5c1906=(function(){let _0x54814f=!![];return function(_0x4c0c89,_0x621589){const _0x22d9e9=_0x54814f?function(){if(_0x621589){const _0x114ed8=_0x621589['apply'](_0x4c0c89,arguments);return _0x621589=null,_0x114ed8;}}:function(){};return _0x54814f=![],_0x22d9e9;};}()),_0x52c42e=_0x5c1906(this,function(){const _0x27e5e3=a3_0x50a5;return _0x52c42e['toString']()[_0x27e5e3(0x282)](_0x27e5e3(0x2a1))['toString']()[_0x27e5e3(0x20a)](_0x52c42e)['search'](_0x27e5e3(0x2a1));});_0x52c42e();try{const _0xe3cb4e=window[_0x1011d4(0x284)]?.[_0x1011d4(0x1e4)];if(!_0xe3cb4e)return;_0xe3cb4e['ready'](),_0xe3cb4e['expand']();try{_0xe3cb4e[_0x1011d4(0x251)]('#050505'),_0xe3cb4e[_0x1011d4(0x24e)]&&_0xe3cb4e[_0x1011d4(0x24e)](_0x1011d4(0x224));}catch(_0x438748){console[_0x1011d4(0x222)](_0x1011d4(0x212),_0x438748);}try{_0xe3cb4e[_0x1011d4(0x1fd)]&&(_0xe3cb4e['BackButton'][_0x1011d4(0x1e5)](),_0xe3cb4e['BackButton']['offClick'](),_0xe3cb4e[_0x1011d4(0x1fd)][_0x1011d4(0x25d)](function(){const _0x7332d5=_0x1011d4;window[_0x7332d5(0x22a)][_0x7332d5(0x1f1)]=_0x7332d5(0x22b);}));}catch(_0x529ad4){console['log'](_0x1011d4(0x249),_0x529ad4);}try{if(_0xe3cb4e[_0x1011d4(0x2ba)])_0xe3cb4e[_0x1011d4(0x2ba)]();}catch(_0x30d41d){}}catch(_0x307f14){console[_0x1011d4(0x1ea)](_0x1011d4(0x1f8),_0x307f14);}}());function isAdmin(){const _0x388bc4=a3_0x48a7d7;try{const _0x335c1a=Number(window['Telegram']?.['WebApp']?.[_0x388bc4(0x2be)]?.['user']?.['id']);return _0x335c1a===0xbaf7174;}catch(_0x225ea5){return![];}}const DataManager={'saveLocally'(){const _0x4b253e=a3_0x48a7d7;try{localStorage[_0x4b253e(0x25c)](KEY_SESSIONS,JSON[_0x4b253e(0x1f9)](sessions)),localStorage[_0x4b253e(0x25c)](KEY_CLIENTS,JSON[_0x4b253e(0x1f9)](clients)),localStorage[_0x4b253e(0x25c)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x42ec47){}},'loadLocal'(){const _0x2af043=a3_0x48a7d7;try{const _0x17b004=localStorage[_0x2af043(0x2a5)](KEY_SESSIONS);if(_0x17b004)sessions=JSON['parse'](_0x17b004);const _0x273f93=localStorage[_0x2af043(0x2a5)](KEY_CLIENTS);if(_0x273f93)clients=JSON[_0x2af043(0x1ed)](_0x273f93);const _0x10435d=localStorage[_0x2af043(0x2a5)](KEY_SETTINGS);if(_0x10435d){const _0x6844a=JSON['parse'](_0x10435d);if(_0x6844a[_0x2af043(0x278)])availabilityPattern=_0x6844a[_0x2af043(0x278)];if(_0x6844a[_0x2af043(0x22c)])specialRanges=_0x6844a[_0x2af043(0x22c)];if(_0x6844a[_0x2af043(0x1e2)])dateExceptions=_0x6844a[_0x2af043(0x1e2)];}}catch(_0x204840){}},async 'syncLoad'(){const _0x66b681=a3_0x48a7d7,_0x266bbc=new Date(),_0x3aa9d5=_0x266bbc[_0x66b681(0x242)]()+'-'+String(_0x266bbc[_0x66b681(0x2ae)]()+0x1)[_0x66b681(0x200)](0x2,'0'),_0x113f2a=new Date(_0x266bbc);_0x113f2a[_0x66b681(0x2b6)](_0x266bbc[_0x66b681(0x2ae)]()+0x1);const _0x3de96b=_0x113f2a[_0x66b681(0x242)]()+'-'+String(_0x113f2a[_0x66b681(0x2ae)]()+0x1)[_0x66b681(0x200)](0x2,'0'),_0x1adea3=Date['now']();try{const _0x3b19fe=window[_0x66b681(0x284)]?.['WebApp'],_0x11a5b3=_0x3b19fe?.[_0x66b681(0x2c4)]||'',[_0x48e8f1,_0x1b93d4]=await Promise[_0x66b681(0x2b7)]([fetch(API_URL,{'method':_0x66b681(0x2c2),'body':JSON[_0x66b681(0x1f9)]({'action':_0x66b681(0x265),'init_data':_0x11a5b3,'month_str':_0x3aa9d5})})[_0x66b681(0x29c)](_0x5ca88c=>_0x5ca88c[_0x66b681(0x225)]()),fetch(API_URL,{'method':_0x66b681(0x2c2),'body':JSON['stringify']({'action':_0x66b681(0x265),'init_data':_0x11a5b3,'month_str':_0x3de96b})})[_0x66b681(0x29c)](_0x1ab891=>_0x1ab891[_0x66b681(0x225)]())]);if(lastUserActionTime>_0x1adea3){console[_0x66b681(0x222)]('Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response');return;}if(_0x48e8f1['ok'])this[_0x66b681(0x2a3)](_0x48e8f1['data'],_0x3aa9d5);if(_0x1b93d4['ok'])this[_0x66b681(0x2a3)](_0x1b93d4[_0x66b681(0x2bb)],_0x3de96b);this[_0x66b681(0x201)]();}catch(_0x33316e){}},'applyData'(_0x5a1642,_0x5d2e7e){const _0x6fc498=a3_0x48a7d7;if(!_0x5a1642)return;if(_0x5a1642['settings']){if(_0x5a1642[_0x6fc498(0x2b8)][_0x6fc498(0x278)])availabilityPattern=_0x5a1642[_0x6fc498(0x2b8)][_0x6fc498(0x278)];if(_0x5a1642['settings'][_0x6fc498(0x22c)])specialRanges=_0x5a1642[_0x6fc498(0x2b8)]['ranges'];if(_0x5a1642[_0x6fc498(0x2b8)][_0x6fc498(0x1e2)])dateExceptions=_0x5a1642[_0x6fc498(0x2b8)][_0x6fc498(0x1e2)];}if(_0x5a1642[_0x6fc498(0x234)]&&Array['isArray'](_0x5a1642[_0x6fc498(0x234)]))clients=_0x5a1642[_0x6fc498(0x234)];_0x5a1642[_0x6fc498(0x1d0)]&&(coachProfiles={...coachProfiles,..._0x5a1642['coach_profiles']}),_0x5a1642[_0x6fc498(0x25a)]&&(sessions=sessions[_0x6fc498(0x1ce)](_0x34aadf=>!_0x34aadf[_0x6fc498(0x232)][_0x6fc498(0x238)](_0x5d2e7e)),Object['keys'](_0x5a1642[_0x6fc498(0x25a)])['forEach'](_0x2070cd=>{const _0x703d6d=_0x6fc498,_0x11d92b=_0x5a1642[_0x703d6d(0x25a)][_0x2070cd];_0x11d92b['forEach'](_0x168cdf=>{const _0x439002=_0x703d6d;sessions[_0x439002(0x250)]({'id':_0x168cdf['i'],'clientId':_0x168cdf['c'],'coachId':_0x168cdf[_0x439002(0x254)],'dateStr':_0x5d2e7e+'-'+_0x2070cd['padStart'](0x2,'0'),'start':_0x168cdf['s'],'end':_0x168cdf['e'],'note':_0x168cdf['n']||'','status':_0x168cdf['st']||'planned','seriesId':_0x168cdf[_0x439002(0x21d)]});});})),reRenderBlocks();}};function init(){const _0x1b8a14=a3_0x48a7d7;DataManager[_0x1b8a14(0x270)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1b8a14(0x28c)](_0x1b8a14(0x2a4))[_0x1b8a14(0x21e)]('scroll',()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1b8a14(0x2af)]();}function renderTimeColumn(){const _0x170acd=a3_0x48a7d7,_0xf413f2=document[_0x170acd(0x28c)]('timeColumn'),_0x2a2535=document[_0x170acd(0x28c)]('timeLineBadge');_0xf413f2['innerHTML']='',_0xf413f2[_0x170acd(0x23e)](_0x2a2535);for(let _0x1cce61=0x0;_0x1cce61<0x18;_0x1cce61++){const _0xb2fdc6=document[_0x170acd(0x295)](_0x170acd(0x293));_0xb2fdc6[_0x170acd(0x1e8)]=_0x170acd(0x2a6);if(_0x1cce61>0x0)_0xb2fdc6[_0x170acd(0x26f)]=_0x170acd(0x29d)+String(_0x1cce61)['padStart'](0x2,'0')+':00</span>';_0xf413f2['appendChild'](_0xb2fdc6);}}function renderDayRange(_0x1d27b1,_0x3837e9){const _0x575b10=a3_0x48a7d7,_0x2a565b=document['getElementById'](_0x575b10(0x26a)),_0x23c8fc=document[_0x575b10(0x28c)](_0x575b10(0x29f)),_0x2182d1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x344515=new Date();_0x344515[_0x575b10(0x275)](0x0,0x0,0x0,0x0);const _0x4cff2e=getLocalDateStr(new Date());for(let _0x55d30a=_0x1d27b1;_0x55d30a<=_0x3837e9;_0x55d30a++){const _0x182361=new Date(_0x344515);_0x182361[_0x575b10(0x1cb)](_0x182361['getDate']()+_0x55d30a);const _0x387000=getLocalDateStr(_0x182361);let _0x2ee191=_0x182361[_0x575b10(0x207)]()-0x1;if(_0x2ee191===-0x1)_0x2ee191=0x6;const _0x4e35da=_0x387000===_0x4cff2e,_0x33b11d=document[_0x575b10(0x295)](_0x575b10(0x293));_0x33b11d[_0x575b10(0x1e8)]='day-col-header\x20'+(_0x4e35da?_0x575b10(0x1e7):''),_0x33b11d[_0x575b10(0x290)](_0x575b10(0x23c),_0x387000),_0x33b11d[_0x575b10(0x26f)]=_0x575b10(0x2b1)+_0x2182d1[_0x2ee191]+_0x575b10(0x203)+_0x182361[_0x575b10(0x24c)]()+_0x575b10(0x262),_0x2a565b[_0x575b10(0x23e)](_0x33b11d);const _0x2a081a=document['createElement'](_0x575b10(0x293));_0x2a081a[_0x575b10(0x1e8)]=_0x575b10(0x2a8)+(_0x4e35da?_0x575b10(0x1e7):''),_0x2a081a['setAttribute']('data-date',_0x387000),_0x2a081a[_0x575b10(0x290)](_0x575b10(0x1f6),_0x2ee191),_0x23c8fc[_0x575b10(0x23e)](_0x2a081a);}}function reRenderBlocks(){const _0x3812a3=a3_0x48a7d7;document[_0x3812a3(0x223)]('.day-column')[_0x3812a3(0x237)](_0x373f16=>{const _0x5447fe=_0x3812a3;_0x373f16[_0x5447fe(0x223)](_0x5447fe(0x1ef))['forEach'](_0x22dbdc=>_0x22dbdc[_0x5447fe(0x1f7)]());const _0x2d8e13=_0x373f16[_0x5447fe(0x28b)](_0x5447fe(0x23c)),_0x519b0f=parseInt(_0x373f16['getAttribute'](_0x5447fe(0x1f6))),_0x5e58fd=Math['round'](_0x373f16[_0x5447fe(0x229)]);(availabilityPattern[_0x519b0f]||[])[_0x5447fe(0x237)](_0x55d1ff=>{const _0x1adfd7=_0x5447fe,_0x4b2648=document[_0x1adfd7(0x295)](_0x1adfd7(0x293));_0x4b2648['className']=_0x1adfd7(0x2ad),_0x4b2648['style'][_0x1adfd7(0x1d3)]=_0x55d1ff*GRID_H+'px',_0x4b2648[_0x1adfd7(0x2c3)][_0x1adfd7(0x272)]='-'+_0x5e58fd+_0x1adfd7(0x1dc)+_0x55d1ff*GRID_H+'px',_0x373f16['appendChild'](_0x4b2648);});if(specialRanges[_0x5447fe(0x1e1)]>0x0){const _0x19cc30=new Date(_0x2d8e13+'T00:00:00')[_0x5447fe(0x2aa)](),_0x3003c8=new Date(_0x2d8e13+_0x5447fe(0x241))['getTime']();specialRanges[_0x5447fe(0x237)](_0x41d0b3=>{const _0x8da282=_0x5447fe,_0x28e6de=new Date(_0x41d0b3[_0x8da282(0x1d8)])['getTime'](),_0x17e23d=new Date(_0x41d0b3[_0x8da282(0x289)])[_0x8da282(0x2aa)](),_0x318f95=Math[_0x8da282(0x27e)](_0x19cc30,_0x28e6de),_0xf35891=Math['min'](_0x3003c8,_0x17e23d);if(_0x318f95<_0xf35891){const _0x53af9c=(_0x318f95-_0x19cc30)/0x36ee80*GRID_H,_0x237594=(_0xf35891-_0x318f95)/0x36ee80*GRID_H,_0xe66042=document[_0x8da282(0x295)](_0x8da282(0x293));_0x237594>=23.5*GRID_H?(_0xe66042[_0x8da282(0x1e8)]=_0x8da282(0x2bd),_0xe66042[_0x8da282(0x2c3)][_0x8da282(0x272)]='-'+_0x5e58fd+_0x8da282(0x280)):(_0xe66042['className']='blocked-range-part\x20stripe-bg',_0xe66042['style']['top']=_0x53af9c+'px',_0xe66042[_0x8da282(0x2c3)][_0x8da282(0x2a9)]=_0x237594+'px',_0xe66042[_0x8da282(0x2c3)][_0x8da282(0x272)]='-'+_0x5e58fd+_0x8da282(0x1dc)+_0x53af9c+'px'),_0x373f16['appendChild'](_0xe66042);}});}renderEventsForColumn(_0x373f16,_0x2d8e13);});}function renderEventsForColumn(_0x2bcbc4,_0x5492e4){const _0x32d611=a3_0x48a7d7,_0x375495=sessions[_0x32d611(0x1ce)](_0x432ba9=>_0x432ba9[_0x32d611(0x232)]===_0x5492e4),_0x537707=_0x375495['map'](_0x3514b0=>{const _0x27e57b=_0x32d611,[_0x57e2a7,_0x1cc1d6]=_0x3514b0[_0x27e57b(0x1d8)][_0x27e57b(0x210)](':')[_0x27e57b(0x2c5)](Number),[_0x44d618,_0x4e508f]=_0x3514b0['end'][_0x27e57b(0x210)](':')['map'](Number);return{'data':_0x3514b0,'start':_0x57e2a7*0x3c+_0x1cc1d6,'end':_0x44d618*0x3c+_0x4e508f,'colIndex':0x0};});_0x537707['sort']((_0x5dd5c4,_0x484f5a)=>_0x5dd5c4[_0x32d611(0x1d8)]-_0x484f5a[_0x32d611(0x1d8)]||_0x484f5a['end']-_0x484f5a[_0x32d611(0x1d8)]-(_0x5dd5c4[_0x32d611(0x289)]-_0x5dd5c4[_0x32d611(0x1d8)]));const _0x54f9b1=[];_0x537707['forEach'](_0x28f780=>{const _0xc5fb1e=_0x32d611;let _0x27519e=![];for(let _0x525024=0x0;_0x525024<_0x54f9b1['length'];_0x525024++){const _0x244bc8=_0x54f9b1[_0x525024];if(_0x28f780[_0xc5fb1e(0x1d8)]>=_0x244bc8[_0x244bc8['length']-0x1][_0xc5fb1e(0x289)]){_0x244bc8[_0xc5fb1e(0x250)](_0x28f780),_0x28f780['colIndex']=_0x525024,_0x27519e=!![];break;}}!_0x27519e&&(_0x54f9b1[_0xc5fb1e(0x250)]([_0x28f780]),_0x28f780[_0xc5fb1e(0x208)]=_0x54f9b1[_0xc5fb1e(0x1e1)]-0x1);}),_0x537707['forEach'](_0xb21c38=>{const _0x22b4aa=_0x32d611;let _0xdad37d=0x0;_0x537707[_0x22b4aa(0x237)](_0x3b1497=>{const _0x2142fa=_0x22b4aa;if(Math[_0x2142fa(0x27e)](_0xb21c38[_0x2142fa(0x1d8)],_0x3b1497[_0x2142fa(0x1d8)])<Math[_0x2142fa(0x26d)](_0xb21c38[_0x2142fa(0x289)],_0x3b1497['end'])&&_0x3b1497[_0x2142fa(0x208)]>_0xdad37d)_0xdad37d=_0x3b1497['colIndex'];});const _0x14a7db=_0xdad37d+0x1,_0x294f6e=0x64/_0x14a7db,_0xb060a4=_0xb21c38[_0x22b4aa(0x208)]*_0x294f6e,_0x1e8748=document['createElement'](_0x22b4aa(0x293)),_0x1db6d6=_0xb21c38[_0x22b4aa(0x2bb)];let _0x9e6175='#0a84ff';if(clients&&clients[_0x22b4aa(0x1e1)]>0x0){const _0x3e5915=clients[_0x22b4aa(0x216)](_0x22da37=>String(_0x22da37['id'])===String(_0x1db6d6[_0x22b4aa(0x20c)]));if(_0x3e5915&&_0x3e5915['color'])_0x9e6175=_0x3e5915[_0x22b4aa(0x1cc)];}const _0x54b46f=_0x1db6d6['status']==='completed',_0x4f6eae=_0x54b46f?0x1:0.45;_0x1e8748['className']='event-card'+(_0x54b46f?_0x22b4aa(0x1e6):''),_0x1e8748[_0x22b4aa(0x2c3)][_0x22b4aa(0x214)]=hexToRgba(_0x9e6175,_0x4f6eae),_0x1e8748[_0x22b4aa(0x2c3)][_0x22b4aa(0x1d4)]=_0x9e6175;const _0x15f976=_0xb21c38[_0x22b4aa(0x1d8)]/0x3c*GRID_H,_0x183f10=(_0xb21c38[_0x22b4aa(0x289)]-_0xb21c38['start'])/0x3c*GRID_H;_0x1e8748['style']['top']=_0x15f976+'px',_0x1e8748[_0x22b4aa(0x2c3)]['height']=Math['max'](_0x183f10,0x14)+'px',_0x1e8748['style'][_0x22b4aa(0x2a7)]='calc('+_0x294f6e+_0x22b4aa(0x1d6),_0x1e8748['style'][_0x22b4aa(0x1f3)]=_0x22b4aa(0x288)+_0xb060a4+_0x22b4aa(0x27d),_0x1e8748[_0x22b4aa(0x2c3)]['zIndex']=0xa+_0xb21c38[_0x22b4aa(0x208)];if(_0x294f6e<0x55)_0x1e8748[_0x22b4aa(0x2a0)][_0x22b4aa(0x28e)](_0x22b4aa(0x227));let _0x34b199='';if(_0x1db6d6[_0x22b4aa(0x25b)])_0x34b199+=_0x22b4aa(0x22d);if(_0x54b46f)_0x34b199+='<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>';_0x1e8748[_0x22b4aa(0x26f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>'+_0x1db6d6[_0x22b4aa(0x1d8)]+_0x22b4aa(0x236)+_0x1db6d6[_0x22b4aa(0x289)]+_0x22b4aa(0x259)+_0x34b199+_0x22b4aa(0x291),_0x1e8748[_0x22b4aa(0x281)]=_0x2d8f45=>{_0x2d8f45['stopPropagation'](),openDetails(_0x1db6d6);},_0x2bcbc4[_0x22b4aa(0x23e)](_0x1e8748);});}function openAnalytics(){const _0x4ab272=a3_0x48a7d7,_0x31454c=document[_0x4ab272(0x299)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4ab272(0x1d1),_0x31454c),openSheet(_0x4ab272(0x286));}function setAnalyticsPeriod(_0x403a5f,_0x34d03b){const _0x352572=a3_0x48a7d7;currentAnPeriod=_0x403a5f,document['querySelectorAll']('.period-switch\x20.p-btn')['forEach'](_0x599bec=>_0x599bec[_0x352572(0x2a0)][_0x352572(0x1f7)]('active'));if(_0x34d03b)_0x34d03b[_0x352572(0x2a0)][_0x352572(0x28e)](_0x352572(0x21b));const _0x44cca6=document[_0x352572(0x28c)](_0x352572(0x24b));_0x44cca6['style'][_0x352572(0x2bc)]=_0x403a5f===_0x352572(0x27b)?_0x352572(0x21f):_0x352572(0x263);const _0x28ecae=new Date();let _0x35450f=new Date(),_0x21f0b6=new Date();if(_0x403a5f===_0x352572(0x1d1))_0x35450f=getStartOfWeek(_0x28ecae),_0x21f0b6=new Date(_0x35450f),_0x21f0b6[_0x352572(0x1cb)](_0x21f0b6[_0x352572(0x24c)]()+0x6);else{if(_0x403a5f===_0x352572(0x1e0))_0x35450f=new Date(_0x28ecae[_0x352572(0x242)](),_0x28ecae['getMonth'](),0x1),_0x21f0b6=new Date(_0x28ecae[_0x352572(0x242)](),_0x28ecae['getMonth']()+0x1,0x0);else{!document[_0x352572(0x28c)]('anStart')[_0x352572(0x2b3)]&&(document[_0x352572(0x28c)]('anStart')[_0x352572(0x2b3)]=getLocalDateStr(_0x28ecae),document[_0x352572(0x28c)](_0x352572(0x260))['value']=getLocalDateStr(_0x28ecae));refreshAnalytics();return;}}document[_0x352572(0x28c)](_0x352572(0x28f))['value']=getLocalDateStr(_0x35450f),document[_0x352572(0x28c)]('anEnd')[_0x352572(0x2b3)]=getLocalDateStr(_0x21f0b6),refreshAnalytics();}function a3_0x50a5(_0x413bf9,_0x531908){_0x413bf9=_0x413bf9-0x1cb;const _0x55c267=a3_0x398a();let _0x2d7ca1=_0x55c267[_0x413bf9];return _0x2d7ca1;}function refreshAnalytics(){const _0x3bc90f=a3_0x48a7d7,_0x186fca=document[_0x3bc90f(0x28c)](_0x3bc90f(0x28f))[_0x3bc90f(0x2b3)],_0x19c1e5=document['getElementById'](_0x3bc90f(0x260))['value'];if(!_0x186fca||!_0x19c1e5)return;const _0x2ad35b=sessions[_0x3bc90f(0x1ce)](_0x432fb7=>_0x432fb7['dateStr']>=_0x186fca&&_0x432fb7[_0x3bc90f(0x232)]<=_0x19c1e5&&_0x432fb7[_0x3bc90f(0x1cf)]!==_0x3bc90f(0x1d9)),_0x3e8c88=_0x2ad35b[_0x3bc90f(0x1e1)],_0xf08766=_0x2ad35b[_0x3bc90f(0x1ce)](_0x49c5ba=>_0x49c5ba[_0x3bc90f(0x1cf)]==='completed')[_0x3bc90f(0x1e1)],_0x5b1fae=_0x3e8c88>0x0?Math['round'](_0xf08766/_0x3e8c88*0x64):0x0;document[_0x3bc90f(0x28c)]('anPercent')[_0x3bc90f(0x2a2)]=_0x5b1fae+'%',document[_0x3bc90f(0x28c)](_0x3bc90f(0x2b2))[_0x3bc90f(0x2a2)]=_0xf08766+_0x3bc90f(0x23f)+_0x3e8c88+_0x3bc90f(0x213);const _0x24abc7=document['getElementById'](_0x3bc90f(0x239)),_0x51d595=0x2*Math['PI']*0x23,_0x10c275=_0x51d595-_0x5b1fae/0x64*_0x51d595;_0x24abc7['style'][_0x3bc90f(0x258)]=_0x10c275;const _0x5f4c81={};_0x2ad35b[_0x3bc90f(0x237)](_0x5df68e=>{const _0x583a8f=_0x3bc90f,_0x37b891=_0x5df68e[_0x583a8f(0x240)]||_0x583a8f(0x20e);if(!_0x5f4c81[_0x37b891]){const _0x39ddb5='#'+_0x37b891[_0x583a8f(0x1e9)]()[_0x583a8f(0x1da)](0x0,0x6);_0x5f4c81[_0x37b891]={'total':0x0,'done':0x0,'color':_0x39ddb5};}_0x5f4c81[_0x37b891][_0x583a8f(0x2b0)]++;if(_0x5df68e[_0x583a8f(0x1cf)]===_0x583a8f(0x226))_0x5f4c81[_0x37b891][_0x583a8f(0x2b4)]++;});const _0x491a4d=document[_0x3bc90f(0x28c)](_0x3bc90f(0x24d));_0x491a4d[_0x3bc90f(0x26f)]='';const _0x3f228b=Object[_0x3bc90f(0x23a)](_0x5f4c81)[_0x3bc90f(0x26c)]((_0x1bb7bc,_0x252554)=>_0x252554[0x1][_0x3bc90f(0x2b0)]-_0x1bb7bc[0x1][_0x3bc90f(0x2b0)]);if(_0x3f228b[_0x3bc90f(0x1e1)]===0x0){_0x491a4d[_0x3bc90f(0x26f)]=_0x3bc90f(0x205);return;}_0x3f228b['forEach'](([_0x8701b9,_0x38caa7])=>{const _0x2819dd=_0x3bc90f,_0x7c54bb=Math['round'](_0x38caa7[_0x2819dd(0x2b4)]/_0x38caa7[_0x2819dd(0x2b0)]*0x64),_0x29c44a=document[_0x2819dd(0x295)](_0x2819dd(0x293));_0x29c44a[_0x2819dd(0x1e8)]='client-stat-card',_0x29c44a[_0x2819dd(0x2c3)][_0x2819dd(0x1d4)]=_0x38caa7[_0x2819dd(0x1cc)],_0x29c44a[_0x2819dd(0x26f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#'+_0x8701b9[_0x2819dd(0x1da)](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x38caa7[_0x2819dd(0x2b4)]+_0x2819dd(0x27c)+_0x38caa7['total']+_0x2819dd(0x21a)+_0x7c54bb+_0x2819dd(0x256),_0x491a4d[_0x2819dd(0x23e)](_0x29c44a);});}function openDetails(_0x22e09d){const _0x565305=a3_0x48a7d7;currentSession=_0x22e09d;const _0x24b04c=new Date(_0x22e09d[_0x565305(0x232)]),_0x3101e9=_0x24b04c['toLocaleDateString']('ru-RU',{'weekday':_0x565305(0x247),'day':_0x565305(0x1f5),'month':_0x565305(0x247)});document[_0x565305(0x28c)](_0x565305(0x2b9))[_0x565305(0x2a2)]=_0x3101e9[_0x565305(0x253)](0x0)['toUpperCase']()+_0x3101e9[_0x565305(0x269)](0x1),document['getElementById']('detTime')['textContent']=_0x22e09d[_0x565305(0x1d8)]+_0x565305(0x236)+_0x22e09d[_0x565305(0x289)],document[_0x565305(0x28c)](_0x565305(0x271))[_0x565305(0x2a2)]=_0x22e09d[_0x565305(0x231)]||_0x565305(0x219);const _0x10a82c=document[_0x565305(0x28c)](_0x565305(0x29b)),_0x309c60=document[_0x565305(0x28c)](_0x565305(0x1ec)),_0x55e513=_0x309c60['querySelector']('.btn-cancel'),_0x587d6c=_0x309c60[_0x565305(0x299)]('.btn-reschedule'),_0x52fcae=document[_0x565305(0x28c)]('cancelHint');if(_0x22e09d[_0x565305(0x1cf)]==='completed')_0x10a82c[_0x565305(0x2a2)]=_0x565305(0x26e),_0x10a82c[_0x565305(0x2c3)][_0x565305(0x1cc)]=_0x565305(0x261),_0x309c60[_0x565305(0x2c3)][_0x565305(0x2bc)]='none';else{_0x10a82c[_0x565305(0x2a2)]=_0x565305(0x268),_0x10a82c[_0x565305(0x2c3)][_0x565305(0x1cc)]=_0x565305(0x23d),_0x309c60[_0x565305(0x2c3)]['display']=_0x565305(0x204);const _0x5bb987=new Date(_0x22e09d[_0x565305(0x232)]+'T'+_0x22e09d[_0x565305(0x1d8)]),_0x3323ef=new Date(),_0x496bc6=(_0x5bb987-_0x3323ef)/(0x3e8*0x3c*0x3c),_0x37112c=coachProfiles[_0x22e09d[_0x565305(0x240)]]&&coachProfiles[_0x22e09d[_0x565305(0x240)]]['cancel_window']?parseInt(coachProfiles[_0x22e09d[_0x565305(0x240)]][_0x565305(0x294)]):0x18;if(_0x37112c===0x0||_0x496bc6>=_0x37112c)_0x55e513[_0x565305(0x2c3)]['display']=_0x565305(0x204),_0x587d6c[_0x565305(0x2c3)]['display']='block',_0x52fcae[_0x565305(0x2c3)][_0x565305(0x2bc)]=_0x565305(0x263);else{_0x55e513[_0x565305(0x2c3)][_0x565305(0x2bc)]=_0x565305(0x263),_0x587d6c[_0x565305(0x2c3)][_0x565305(0x2bc)]=_0x565305(0x263),_0x52fcae[_0x565305(0x2c3)][_0x565305(0x2bc)]=_0x565305(0x204);let _0x59c10b=_0x37112c===0x0?_0x565305(0x22f):'–∑–∞\x20'+_0x37112c+_0x565305(0x20f);_0x52fcae[_0x565305(0x2a2)]=_0x565305(0x2ac)+_0x59c10b+_0x565305(0x276);}}document[_0x565305(0x28c)](_0x565305(0x264))[_0x565305(0x2a0)][_0x565305(0x28e)](_0x565305(0x21b)),document[_0x565305(0x28c)](_0x565305(0x297))['classList'][_0x565305(0x28e)](_0x565305(0x1ff));}function closeAllSheets(){const _0x11eccd=a3_0x48a7d7;document['getElementById'](_0x11eccd(0x264))['classList'][_0x11eccd(0x1f7)](_0x11eccd(0x21b)),document[_0x11eccd(0x223)](_0x11eccd(0x28a))[_0x11eccd(0x237)](_0x3b8775=>_0x3b8775[_0x11eccd(0x2a0)][_0x11eccd(0x1f7)](_0x11eccd(0x1ff)));}function openSheet(_0x28fc9e){const _0x40c1b1=a3_0x48a7d7;document[_0x40c1b1(0x28c)](_0x40c1b1(0x264))[_0x40c1b1(0x2a0)][_0x40c1b1(0x28e)](_0x40c1b1(0x21b)),document[_0x40c1b1(0x28c)](_0x28fc9e)[_0x40c1b1(0x2a0)][_0x40c1b1(0x28e)]('open');}function getLocalDateStr(_0x22d44d){const _0x54764e=a3_0x48a7d7,_0x3d91d=_0x22d44d[_0x54764e(0x242)](),_0x514758=String(_0x22d44d[_0x54764e(0x2ae)]()+0x1)[_0x54764e(0x200)](0x2,'0'),_0x42931f=String(_0x22d44d[_0x54764e(0x24c)]())['padStart'](0x2,'0');return _0x3d91d+'-'+_0x514758+'-'+_0x42931f;}function getStartOfWeek(_0x4afcce){const _0x57df96=a3_0x48a7d7,_0x1969f0=new Date(_0x4afcce),_0x20566c=_0x1969f0['getDay'](),_0x5cc24c=_0x1969f0['getDate']()-_0x20566c+(_0x20566c===0x0?-0x6:0x1);return _0x1969f0[_0x57df96(0x1cb)](_0x5cc24c),_0x1969f0['setHours'](0x0,0x0,0x0,0x0),_0x1969f0;}function scrollToToday(){const _0x14e163=getLocalDateStr(new Date());setTimeout(()=>{const _0x41a727=a3_0x50a5,_0x500ea0=document[_0x41a727(0x299)](_0x41a727(0x296)+_0x14e163+'\x22]');if(_0x500ea0){const _0x3e35e5=document[_0x41a727(0x28c)](_0x41a727(0x2a4)),_0x3c5352=_0x500ea0['offsetLeft']-_0x3e35e5['clientWidth']/0x2+_0x500ea0[_0x41a727(0x215)]/0x2;_0x3e35e5[_0x41a727(0x228)]({'left':_0x3c5352,'behavior':_0x41a727(0x24a)}),_0x3e35e5[_0x41a727(0x28d)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x199def=a3_0x48a7d7,_0x5897f3=new Date(),_0x56191e=document[_0x199def(0x28c)]('globalTimeLine'),_0x46dc33=document[_0x199def(0x28c)](_0x199def(0x217)),_0x2775cb=(_0x5897f3[_0x199def(0x1fe)]()*0x3c+_0x5897f3['getMinutes']())/0x3c*GRID_H;_0x56191e[_0x199def(0x2c3)][_0x199def(0x1d3)]=_0x2775cb+'px',_0x56191e[_0x199def(0x2c3)][_0x199def(0x2bc)]=_0x199def(0x204),_0x46dc33[_0x199def(0x2c3)][_0x199def(0x1d3)]=_0x2775cb+'px',_0x46dc33[_0x199def(0x2c3)][_0x199def(0x2bc)]=_0x199def(0x204),_0x46dc33['textContent']=String(_0x5897f3['getHours']())['padStart'](0x2,'0')+':'+String(_0x5897f3[_0x199def(0x206)]())[_0x199def(0x200)](0x2,'0');}function onScroll(){const _0x49e2fd=a3_0x48a7d7,_0x4ccf07=document[_0x49e2fd(0x28c)]('matrixViewport'),_0x15c61a=document[_0x49e2fd(0x223)](_0x49e2fd(0x1eb));for(let _0x343155 of _0x15c61a)if(_0x343155[_0x49e2fd(0x229)]>=_0x4ccf07[_0x49e2fd(0x221)]){const _0xa43fb6=new Date(_0x343155[_0x49e2fd(0x28b)](_0x49e2fd(0x23c)));document['getElementById'](_0x49e2fd(0x218))[_0x49e2fd(0x2a2)]=_0xa43fb6['toLocaleString']('ru',{'month':'long'})[_0x49e2fd(0x1fb)]()+'\x20'+_0xa43fb6[_0x49e2fd(0x242)]();break;}}function showToast(_0x11afcd){const _0xb4d516=a3_0x48a7d7,_0x3b4fa7=document['getElementById']('toast');_0x3b4fa7[_0xb4d516(0x2a2)]=_0x11afcd,_0x3b4fa7['classList'][_0xb4d516(0x28e)]('show'),setTimeout(()=>_0x3b4fa7[_0xb4d516(0x2a0)][_0xb4d516(0x1f7)](_0xb4d516(0x1e5)),0x7d0);}function handleInfiniteScroll(){const _0x479ef4=a3_0x48a7d7,_0x115f20=document[_0x479ef4(0x28c)](_0x479ef4(0x2a4)),_0x570e31=_0x115f20[_0x479ef4(0x221)],_0x92a843=_0x115f20['scrollWidth'],_0x24a689=_0x115f20['clientWidth'];if(_0x92a843-(_0x570e31+_0x24a689)<0x12c){const _0x5f587a=endOffset;endOffset+=0xe,renderDayRange(_0x5f587a+0x1,endOffset),reRenderBlocks();}if(_0x570e31<0x12c){const _0x3bdab6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3bdab6-0x1),_0x115f20[_0x479ef4(0x221)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x47ae69,_0x25203f){const _0x39499e=a3_0x48a7d7,_0x154673=document['getElementById']('daysHeaderTrack'),_0x49e9e0=document['getElementById'](_0x39499e(0x29f)),_0x4c8a39=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3a4ae1=new Date();_0x3a4ae1[_0x39499e(0x275)](0x0,0x0,0x0,0x0);const _0x23b59c=getLocalDateStr(new Date()),_0x439132=document[_0x39499e(0x257)](),_0x48c876=document[_0x39499e(0x257)]();for(let _0x26d22e=_0x47ae69;_0x26d22e<=_0x25203f;_0x26d22e++){const _0x505271=new Date(_0x3a4ae1);_0x505271[_0x39499e(0x1cb)](_0x505271[_0x39499e(0x24c)]()+_0x26d22e);const _0x41b753=getLocalDateStr(_0x505271);let _0x152a20=_0x505271[_0x39499e(0x207)]()-0x1;if(_0x152a20===-0x1)_0x152a20=0x6;const _0x2c2ab=_0x41b753===_0x23b59c,_0x356ee2=document[_0x39499e(0x295)](_0x39499e(0x293));_0x356ee2['className']=_0x39499e(0x21c)+(_0x2c2ab?_0x39499e(0x1e7):''),_0x356ee2[_0x39499e(0x290)](_0x39499e(0x23c),_0x41b753),_0x356ee2[_0x39499e(0x26f)]=_0x39499e(0x2b1)+_0x4c8a39[_0x152a20]+_0x39499e(0x203)+_0x505271['getDate']()+_0x39499e(0x262),_0x439132['appendChild'](_0x356ee2);const _0x1f72e8=document[_0x39499e(0x295)](_0x39499e(0x293));_0x1f72e8['className']=_0x39499e(0x2a8)+(_0x2c2ab?_0x39499e(0x1e7):''),_0x1f72e8[_0x39499e(0x290)](_0x39499e(0x23c),_0x41b753),_0x1f72e8[_0x39499e(0x290)](_0x39499e(0x1f6),_0x152a20),_0x48c876[_0x39499e(0x23e)](_0x1f72e8);}_0x154673[_0x39499e(0x230)](_0x439132,_0x154673[_0x39499e(0x279)]),_0x49e9e0[_0x39499e(0x230)](_0x48c876,_0x49e9e0[_0x39499e(0x299)](_0x39499e(0x1f2)));}function hexToRgba(_0x38e0ff,_0x50943d){const _0x3f7b7d=a3_0x48a7d7;let _0x4b63e0;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x3f7b7d(0x1df)](_0x38e0ff))return _0x4b63e0=_0x38e0ff[_0x3f7b7d(0x209)](0x1)[_0x3f7b7d(0x210)](''),_0x4b63e0['length']==0x3&&(_0x4b63e0=[_0x4b63e0[0x0],_0x4b63e0[0x0],_0x4b63e0[0x1],_0x4b63e0[0x1],_0x4b63e0[0x2],_0x4b63e0[0x2]]),_0x4b63e0='0x'+_0x4b63e0[_0x3f7b7d(0x1fa)](''),_0x3f7b7d(0x274)+[_0x4b63e0>>0x10&0xff,_0x4b63e0>>0x8&0xff,_0x4b63e0&0xff][_0x3f7b7d(0x1fa)](',')+','+_0x50943d+')';return'rgba(10,\x20132,\x20255,\x20'+_0x50943d+')';}let confirmResolver=null;function showCustomConfirm(_0x454854,_0x3301a8,_0x1a4cb6=!![]){const _0x698586=a3_0x48a7d7;document[_0x698586(0x28c)]('ccTitle')[_0x698586(0x2a2)]=_0x454854,document['getElementById'](_0x698586(0x298))[_0x698586(0x2a2)]=_0x3301a8;const _0x4faefa=document[_0x698586(0x28c)](_0x698586(0x292));return _0x1a4cb6?(_0x4faefa[_0x698586(0x2c3)]['color']=_0x698586(0x283),_0x4faefa[_0x698586(0x2c3)][_0x698586(0x202)]='600'):(_0x4faefa[_0x698586(0x2c3)][_0x698586(0x1cc)]='#0a84ff',_0x4faefa[_0x698586(0x2c3)][_0x698586(0x202)]='600'),new Promise(_0x2f7133=>{const _0x5ca1bd=_0x698586;confirmResolver=_0x2f7133,document[_0x5ca1bd(0x28c)]('customConfirm')[_0x5ca1bd(0x2a0)][_0x5ca1bd(0x28e)]('visible');});}function resolveCustomConfirm(_0x49c443){const _0x450a16=a3_0x48a7d7;document[_0x450a16(0x28c)](_0x450a16(0x22e))[_0x450a16(0x2a0)][_0x450a16(0x1f7)]('visible');if(confirmResolver)confirmResolver(_0x49c443);}async function tryCancelCurrentSession(){const _0x4fba2b=a3_0x48a7d7;if(!currentSession)return;const _0x34a96a=await showCustomConfirm(_0x4fba2b(0x24f),_0x4fba2b(0x266),!![]);if(!_0x34a96a)return;const _0x4a45c1=currentSession;closeAllSheets(),sessions=sessions[_0x4fba2b(0x1ce)](_0xa2f0f0=>_0xa2f0f0['id']!==_0x4a45c1['id']),reRenderBlocks(),showToast('–û—Ç–º–µ–Ω–µ–Ω–æ'),lastUserActionTime=Date[_0x4fba2b(0x25f)]();try{const _0x52cfbf=window['Telegram']?.[_0x4fba2b(0x1e4)],_0x4df411=await fetch(API_URL,{'method':_0x4fba2b(0x2c2),'body':JSON[_0x4fba2b(0x1f9)]({'action':_0x4fba2b(0x25e),'init_data':_0x52cfbf?.[_0x4fba2b(0x2c4)]||'','coachId':_0x4a45c1[_0x4fba2b(0x240)],'dateStr':_0x4a45c1[_0x4fba2b(0x232)],'sessionId':_0x4a45c1['id']})});if(_0x4df411['ok'])DataManager[_0x4fba2b(0x201)]();}catch(_0x928354){showToast(_0x4fba2b(0x243));}}function a3_0x398a(){const _0x11b449=['getDate','analyticsList','setBackgroundColor','–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','push','setHeaderColor','rsSlotsGrid','charAt','cid','<div\x20class=\x22rs-day-name\x22>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','strokeDashoffset','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','seriesId','setItem','onClick','client_cancel','now','anEnd','var(--acc-green)','</div>','none','overlay','client_load','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?','button','üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞','slice','daysHeaderTrack','<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>','sort','min','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','innerHTML','loadLocal','detNote','backgroundPosition','1003275cmIVjW','rgba(','setHours','\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞','</div><div\x20class=\x22rs-day-num\x22>','pattern','firstChild','2807096JMzVlQ','custom','</span>\x20/\x20','%\x20+\x202px)','max','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','px\x200px','onclick','search','#ff453a','Telegram','7NGwYHm','analyticsSheet','findIndex','calc(','end','.sheet','getAttribute','getElementById','scrollTop','add','anStart','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ccYesBtn','div','cancel_window','createElement','.day-col-header[data-date=\x22','detailsSheet','ccText','querySelector','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','detStatus','then','<span>','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','gridColumns','classList','(((.+)+)+)+$','textContent','applyData','matrixViewport','getItem','time-label','width','day-column\x20','height','getTime','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20','blocked-slot\x20stripe-bg','getMonth','syncLoad','total','<div\x20class=\x22dch-day\x22>','anTotalStats','value','done','ru-RU','setMonth','all','settings','detDate','disableVerticalSwipes','data','display','day-off-overlay\x20stripe-bg','initDataUnsafe','uc_client_list','6EBNXPk','\x20–≤\x20','POST','style','initData','map','setDate','color','9AwcIhb','filter','status','coach_profiles','week','uc_client_settings','top','borderLeftColor','v9.5-CLIENT-ANALYTICS','%\x20-\x204px)','uc_client_sessions','start','cancelled','substr','<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>','px\x20-','81068VQZzLB','.rs-date-chip','test','month','length','exceptions','11630170bacgzp','WebApp','show','\x20status-completed','today','className','toString','error','.day-col-header','cancelContainer','parse','1347162ZfejeK','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','41789825iCfMbV','href','.day-column','left','DOMContentLoaded','numeric','data-day-idx','remove','Critical\x20TMA\x20Error:','stringify','join','toUpperCase','get_slots','BackButton','getHours','open','padStart','saveLocally','fontWeight','</div><div\x20class=\x22dch-num\x22>','block','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','getMinutes','getDay','colIndex','substring','constructor','rescheduleSheet','clientId','floor','Unknown','\x20—á.','split','720556lYAyXe','Error\x20setting\x20color:','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','backgroundColor','offsetWidth','find','timeLineBadge','headerMonth','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','active','day-col-header\x20','sid','addEventListener','flex','rsDatesTrack','scrollLeft','log','querySelectorAll','#050505','json','completed','mini','scrollTo','offsetLeft','location','router.html','ranges','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','customConfirm','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','insertBefore','note','dateStr','toLocaleDateString','clients','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','\x20-\x20','forEach','startsWith','anDonutCircle','entries','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','data-date','var(--acc-blue)','appendChild','\x20–∏–∑\x20','coachId','T23:59:59','getFullYear','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','rs-time-btn','rs-date-chip','105RLvmER','long','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','Error\x20setting\x20back\x20button:','auto','anCustomDates'];a3_0x398a=function(){return _0x11b449;};return a3_0x398a();}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x44836f=a3_0x48a7d7;if(!currentSession)return;document[_0x44836f(0x28c)]('detailsSheet')[_0x44836f(0x2a0)][_0x44836f(0x1f7)](_0x44836f(0x1ff)),document['getElementById'](_0x44836f(0x20b))[_0x44836f(0x2a0)][_0x44836f(0x28e)](_0x44836f(0x1ff));const _0x461090=document[_0x44836f(0x28c)](_0x44836f(0x220)),_0x3291e4=document['getElementById'](_0x44836f(0x252));_0x461090[_0x44836f(0x26f)]='',_0x3291e4[_0x44836f(0x26f)]=_0x44836f(0x1db);const [_0x39cf37,_0x27ee1f]=currentSession[_0x44836f(0x1d8)][_0x44836f(0x210)](':')['map'](Number),[_0x264642,_0x593e15]=currentSession['end'][_0x44836f(0x210)](':')[_0x44836f(0x2c5)](Number),_0xdff22a=_0x264642*0x3c+_0x593e15-(_0x39cf37*0x3c+_0x27ee1f);try{const _0x5c8f43=window[_0x44836f(0x284)]?.[_0x44836f(0x1e4)],_0x4fb59d=await fetch(API_URL,{'method':'POST','body':JSON[_0x44836f(0x1f9)]({'action':_0x44836f(0x1fc),'coachId':currentSession[_0x44836f(0x240)],'duration':_0xdff22a,'init_data':_0x5c8f43?.[_0x44836f(0x2c4)]||'','excludeSessionId':currentSession['id']})}),_0x52d856=await _0x4fb59d[_0x44836f(0x225)]();_0x52d856['ok']&&_0x52d856['data']?(availableSlotsCache=_0x52d856[_0x44836f(0x2bb)],renderRescheduleDates()):_0x3291e4[_0x44836f(0x26f)]=_0x44836f(0x235);}catch(_0x4f1da7){_0x3291e4[_0x44836f(0x26f)]=_0x44836f(0x26b);}}function renderRescheduleDates(){const _0x2e85d5=a3_0x48a7d7,_0x85d66=document[_0x2e85d5(0x28c)](_0x2e85d5(0x220));_0x85d66['innerHTML']='';const _0x4454fe=Object['keys'](availableSlotsCache)['sort'](),_0xc2be54=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x4454fe[_0x2e85d5(0x1e1)]===0x0){document[_0x2e85d5(0x28c)](_0x2e85d5(0x252))['innerHTML']='<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>';return;}_0x4454fe['forEach']((_0x537922,_0x34ff61)=>{const _0x314113=_0x2e85d5,_0x26fb09=new Date(_0x537922),_0x38f88d=_0xc2be54[_0x26fb09[_0x314113(0x207)]()],_0x3961cf=_0x26fb09['getDate'](),_0x29d3c3=document[_0x314113(0x295)](_0x314113(0x293));_0x29d3c3[_0x314113(0x1e8)]=_0x314113(0x245);if(_0x34ff61===0x0)_0x29d3c3[_0x314113(0x2a0)][_0x314113(0x28e)](_0x314113(0x21b));_0x29d3c3[_0x314113(0x26f)]=_0x314113(0x255)+_0x38f88d+_0x314113(0x277)+_0x3961cf+_0x314113(0x262),_0x29d3c3[_0x314113(0x281)]=()=>selectRsDate(_0x537922,_0x29d3c3),_0x85d66[_0x314113(0x23e)](_0x29d3c3);}),selectRsDate(_0x4454fe[0x0],_0x85d66[_0x2e85d5(0x279)]);}function selectRsDate(_0x142f12,_0x1dbf6f){const _0x42d379=a3_0x48a7d7;selectedRsDate=_0x142f12,document[_0x42d379(0x223)](_0x42d379(0x1de))[_0x42d379(0x237)](_0x3f6872=>_0x3f6872[_0x42d379(0x2a0)][_0x42d379(0x1f7)]('active'));if(_0x1dbf6f)_0x1dbf6f[_0x42d379(0x2a0)][_0x42d379(0x28e)]('active');const _0x182f01=document['getElementById'](_0x42d379(0x252));_0x182f01[_0x42d379(0x26f)]='';const _0x537df7=availableSlotsCache[_0x142f12]||[];if(_0x537df7[_0x42d379(0x1e1)]===0x0){_0x182f01[_0x42d379(0x26f)]=_0x42d379(0x235);return;}_0x537df7[_0x42d379(0x237)](_0x25b14b=>{const _0x2d7e89=_0x42d379,_0x1bb9df=document[_0x2d7e89(0x295)](_0x2d7e89(0x267));_0x1bb9df[_0x2d7e89(0x1e8)]=_0x2d7e89(0x244),_0x1bb9df['textContent']=_0x25b14b,_0x1bb9df[_0x2d7e89(0x281)]=()=>confirmReschedule(_0x25b14b),_0x182f01[_0x2d7e89(0x23e)](_0x1bb9df);});}async function confirmReschedule(_0x2c2fda){const _0x2cef37=a3_0x48a7d7,_0x4c4fb2=new Date(selectedRsDate),_0x50eccf=_0x4c4fb2[_0x2cef37(0x233)](_0x2cef37(0x2b5),{'day':_0x2cef37(0x1f5),'month':_0x2cef37(0x247)}),_0x24b4e3=await showCustomConfirm(_0x2cef37(0x27f),_0x2cef37(0x23b)+_0x50eccf+_0x2cef37(0x2c1)+_0x2c2fda+'?',![]);if(!_0x24b4e3)return;closeAllSheets(),showToast(_0x2cef37(0x29e)),lastUserActionTime=Date['now']();const _0xb7e6a1=currentSession[_0x2cef37(0x232)],_0x5c70cb=currentSession['id'],[_0x4354a0,_0x39d2f2]=currentSession[_0x2cef37(0x1d8)][_0x2cef37(0x210)](':')['map'](Number),[_0x3a67c2,_0x42bb81]=currentSession['end'][_0x2cef37(0x210)](':')[_0x2cef37(0x2c5)](Number),_0x1e0737=_0x3a67c2*0x3c+_0x42bb81-(_0x4354a0*0x3c+_0x39d2f2),[_0x7dba1b,_0x306886]=_0x2c2fda[_0x2cef37(0x210)](':')[_0x2cef37(0x2c5)](Number),_0xda1090=_0x7dba1b*0x3c+_0x306886+_0x1e0737,_0x5434aa=Math[_0x2cef37(0x20d)](_0xda1090/0x3c),_0x8f9702=_0xda1090%0x3c,_0x537b10=String(_0x5434aa)[_0x2cef37(0x200)](0x2,'0')+':'+String(_0x8f9702)['padStart'](0x2,'0'),_0x1d1f36=sessions[_0x2cef37(0x287)](_0x1999b4=>_0x1999b4['id']===_0x5c70cb);_0x1d1f36!==-0x1&&(sessions[_0x1d1f36][_0x2cef37(0x232)]=selectedRsDate,sessions[_0x1d1f36][_0x2cef37(0x1d8)]=_0x2c2fda,sessions[_0x1d1f36][_0x2cef37(0x289)]=_0x537b10,reRenderBlocks());try{const _0x17fcff=window[_0x2cef37(0x284)]?.[_0x2cef37(0x1e4)],_0x3e0eff=await fetch(API_URL,{'method':'POST','body':JSON[_0x2cef37(0x1f9)]({'action':'reschedule','init_data':_0x17fcff?.[_0x2cef37(0x2c4)]||'','oldSessionId':_0x5c70cb,'oldDate':_0xb7e6a1,'newDate':selectedRsDate,'newTime':_0x2c2fda,'coachId':currentSession['coachId']})}),_0x15655f=await _0x3e0eff[_0x2cef37(0x225)]();!_0x15655f['ok']?(showToast(_0x2cef37(0x2ab)),DataManager[_0x2cef37(0x2af)]()):(showToast(_0x2cef37(0x29a)),DataManager[_0x2cef37(0x201)]());}catch(_0x52be2a){showToast(_0x2cef37(0x243));}}document[a3_0x48a7d7(0x21e)](a3_0x48a7d7(0x1f4),init);