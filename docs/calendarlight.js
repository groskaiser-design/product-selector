const a3_0x9bfad5=a3_0x207a;(function(_0x3dc901,_0x7f119b){const _0xca0ea0=a3_0x207a,_0x12d19f=_0x3dc901();while(!![]){try{const _0x5b6555=parseInt(_0xca0ea0(0x220))/0x1*(parseInt(_0xca0ea0(0x2b8))/0x2)+-parseInt(_0xca0ea0(0x1e8))/0x3+-parseInt(_0xca0ea0(0x21b))/0x4+-parseInt(_0xca0ea0(0x28a))/0x5+-parseInt(_0xca0ea0(0x271))/0x6*(parseInt(_0xca0ea0(0x1d9))/0x7)+parseInt(_0xca0ea0(0x24b))/0x8+parseInt(_0xca0ea0(0x23c))/0x9;if(_0x5b6555===_0x7f119b)break;else _0x12d19f['push'](_0x12d19f['shift']());}catch(_0x202a09){_0x12d19f['push'](_0x12d19f['shift']());}}}(a3_0x5578,0xc3a09));const APP_VERSION='v9.5-CLIENT-ANALYTICS',API_URL=a3_0x9bfad5(0x249),GRID_H=0x3c,KEY_SESSIONS='uc_client_sessions',KEY_SETTINGS='uc_client_settings',KEY_CLIENTS='uc_client_list';let startOffset=-0x1e,endOffset=0x3c,sessions=[],clients=[],availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],dateExceptions={},updateInterval,isScrolling=![],currentAnPeriod='week',coachProfiles={},currentSession=null,lastUserActionTime=0x0;(function initTMA(){const _0x3286b1=a3_0x9bfad5,_0xa3bbe1=(function(){let _0x43e175=!![];return function(_0x252b6a,_0x4af5e9){const _0x527c87=_0x43e175?function(){const _0x5afe63=a3_0x207a;if(_0x4af5e9){const _0x41deee=_0x4af5e9[_0x5afe63(0x274)](_0x252b6a,arguments);return _0x4af5e9=null,_0x41deee;}}:function(){};return _0x43e175=![],_0x527c87;};}()),_0x38b8d8=_0xa3bbe1(this,function(){const _0x55fb77=a3_0x207a;return _0x38b8d8[_0x55fb77(0x24e)]()[_0x55fb77(0x207)](_0x55fb77(0x273))[_0x55fb77(0x24e)]()['constructor'](_0x38b8d8)[_0x55fb77(0x207)]('(((.+)+)+)+$');});_0x38b8d8();try{const _0x1cff62=window[_0x3286b1(0x1e7)]?.[_0x3286b1(0x243)];if(!_0x1cff62)return;_0x1cff62[_0x3286b1(0x1c9)](),_0x1cff62[_0x3286b1(0x289)]();try{_0x1cff62[_0x3286b1(0x28e)](_0x3286b1(0x1f5)),_0x1cff62[_0x3286b1(0x286)]&&_0x1cff62['setBackgroundColor'](_0x3286b1(0x1f5));}catch(_0x5e4362){console['log'](_0x3286b1(0x280),_0x5e4362);}try{_0x1cff62[_0x3286b1(0x250)]&&(_0x1cff62[_0x3286b1(0x250)][_0x3286b1(0x1fe)](),_0x1cff62['BackButton'][_0x3286b1(0x2a2)](),_0x1cff62[_0x3286b1(0x250)][_0x3286b1(0x25f)](function(){const _0x2f7450=_0x3286b1;window[_0x2f7450(0x1cc)][_0x2f7450(0x224)]=_0x2f7450(0x226);}));}catch(_0x1af8a8){console[_0x3286b1(0x261)]('Error\x20setting\x20back\x20button:',_0x1af8a8);}try{if(_0x1cff62[_0x3286b1(0x285)])_0x1cff62['disableVerticalSwipes']();}catch(_0x5847b9){}}catch(_0x1bcddd){console[_0x3286b1(0x1e2)](_0x3286b1(0x1cf),_0x1bcddd);}}());function isAdmin(){const _0x48451d=a3_0x9bfad5;try{const _0xdd589e=Number(window[_0x48451d(0x1e7)]?.[_0x48451d(0x243)]?.[_0x48451d(0x1f3)]?.[_0x48451d(0x1c4)]?.['id']);return _0xdd589e===0xbaf7174;}catch(_0x11d04d){return![];}}function a3_0x207a(_0x292cf3,_0x45e203){_0x292cf3=_0x292cf3-0x1c4;const _0x54557d=a3_0x5578();let _0xd6ced3=_0x54557d[_0x292cf3];return _0xd6ced3;}const DataManager={'saveLocally'(){const _0x5daa78=a3_0x9bfad5;try{localStorage[_0x5daa78(0x1e0)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_CLIENTS,JSON[_0x5daa78(0x292)](clients)),localStorage[_0x5daa78(0x1e0)](KEY_SETTINGS,JSON[_0x5daa78(0x292)]({'pattern':availabilityPattern,'ranges':specialRanges,'exceptions':dateExceptions}));}catch(_0x229213){}},'loadLocal'(){const _0x40001c=a3_0x9bfad5;try{const _0xe5aa29=localStorage[_0x40001c(0x2c2)](KEY_SESSIONS);if(_0xe5aa29)sessions=JSON[_0x40001c(0x232)](_0xe5aa29);const _0x310b26=localStorage[_0x40001c(0x2c2)](KEY_CLIENTS);if(_0x310b26)clients=JSON[_0x40001c(0x232)](_0x310b26);const _0x500e55=localStorage[_0x40001c(0x2c2)](KEY_SETTINGS);if(_0x500e55){const _0x2a4c1a=JSON[_0x40001c(0x232)](_0x500e55);if(_0x2a4c1a[_0x40001c(0x27b)])availabilityPattern=_0x2a4c1a[_0x40001c(0x27b)];if(_0x2a4c1a[_0x40001c(0x27f)])specialRanges=_0x2a4c1a[_0x40001c(0x27f)];if(_0x2a4c1a['exceptions'])dateExceptions=_0x2a4c1a[_0x40001c(0x212)];}}catch(_0x2167fe){}},async 'syncLoad'(){const _0x2f1d96=a3_0x9bfad5,_0x109c04=new Date(),_0x45afa9=_0x109c04['getFullYear']()+'-'+String(_0x109c04[_0x2f1d96(0x276)]()+0x1)['padStart'](0x2,'0'),_0x291e38=new Date(_0x109c04);_0x291e38[_0x2f1d96(0x281)](_0x109c04[_0x2f1d96(0x276)]()+0x1);const _0x1a3774=_0x291e38[_0x2f1d96(0x2c0)]()+'-'+String(_0x291e38[_0x2f1d96(0x276)]()+0x1)[_0x2f1d96(0x28f)](0x2,'0'),_0x36be7a=Date[_0x2f1d96(0x23b)]();try{const _0x180b1b=window[_0x2f1d96(0x1e7)]?.[_0x2f1d96(0x243)],_0x3b3faf=_0x180b1b?.[_0x2f1d96(0x203)]||'',[_0x540f71,_0x1b2c5e]=await Promise['all']([fetch(API_URL,{'method':_0x2f1d96(0x1f8),'body':JSON['stringify']({'action':_0x2f1d96(0x25e),'init_data':_0x3b3faf,'month_str':_0x45afa9})})[_0x2f1d96(0x2bf)](_0x503d09=>_0x503d09['json']()),fetch(API_URL,{'method':_0x2f1d96(0x1f8),'body':JSON[_0x2f1d96(0x292)]({'action':'client_load','init_data':_0x3b3faf,'month_str':_0x1a3774})})[_0x2f1d96(0x2bf)](_0x26ff12=>_0x26ff12['json']())]);if(lastUserActionTime>_0x36be7a){console[_0x2f1d96(0x261)](_0x2f1d96(0x1ce));return;}if(_0x540f71['ok'])this['applyData'](_0x540f71[_0x2f1d96(0x2a0)],_0x45afa9);if(_0x1b2c5e['ok'])this['applyData'](_0x1b2c5e[_0x2f1d96(0x2a0)],_0x1a3774);this[_0x2f1d96(0x26a)]();}catch(_0x2d61f6){}},'applyData'(_0x574198,_0x20c51b){const _0xe6fd13=a3_0x9bfad5;if(!_0x574198)return;if(_0x574198['settings']){if(_0x574198['settings'][_0xe6fd13(0x27b)])availabilityPattern=_0x574198['settings'][_0xe6fd13(0x27b)];if(_0x574198['settings'][_0xe6fd13(0x27f)])specialRanges=_0x574198['settings'][_0xe6fd13(0x27f)];if(_0x574198['settings']['exceptions'])dateExceptions=_0x574198[_0xe6fd13(0x252)]['exceptions'];}if(_0x574198['clients']&&Array['isArray'](_0x574198[_0xe6fd13(0x20d)]))clients=_0x574198[_0xe6fd13(0x20d)];_0x574198[_0xe6fd13(0x1ff)]&&(coachProfiles={...coachProfiles,..._0x574198[_0xe6fd13(0x1ff)]}),_0x574198[_0xe6fd13(0x2a8)]&&(sessions=sessions[_0xe6fd13(0x20f)](_0x2a1c7b=>!_0x2a1c7b[_0xe6fd13(0x246)][_0xe6fd13(0x225)](_0x20c51b)),Object[_0xe6fd13(0x213)](_0x574198[_0xe6fd13(0x2a8)])[_0xe6fd13(0x2b7)](_0x2b43da=>{const _0x4c0715=_0xe6fd13,_0x31e8b6=_0x574198[_0x4c0715(0x2a8)][_0x2b43da];_0x31e8b6[_0x4c0715(0x2b7)](_0x2718c1=>{const _0x36d9a8=_0x4c0715;sessions[_0x36d9a8(0x21c)]({'id':_0x2718c1['i'],'clientId':_0x2718c1['c'],'coachId':_0x2718c1[_0x36d9a8(0x256)],'dateStr':_0x20c51b+'-'+_0x2b43da[_0x36d9a8(0x28f)](0x2,'0'),'start':_0x2718c1['s'],'end':_0x2718c1['e'],'note':_0x2718c1['n']||'','status':_0x2718c1['st']||_0x36d9a8(0x295),'seriesId':_0x2718c1[_0x36d9a8(0x20e)]});});})),reRenderBlocks();}};function init(){const _0x163bbc=a3_0x9bfad5;DataManager[_0x163bbc(0x277)](),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x163bbc(0x1dc)](_0x163bbc(0x2ae))[_0x163bbc(0x21e)](_0x163bbc(0x1e5),()=>{isScrolling=!![],onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x163bbc(0x245)]();}function renderTimeColumn(){const _0x2017da=a3_0x9bfad5,_0x55da64=document['getElementById']('timeColumn'),_0x965d06=document['getElementById'](_0x2017da(0x1c6));_0x55da64['innerHTML']='',_0x55da64[_0x2017da(0x2ab)](_0x965d06);for(let _0x1ba31b=0x0;_0x1ba31b<0x18;_0x1ba31b++){const _0x551623=document[_0x2017da(0x1f2)](_0x2017da(0x29f));_0x551623[_0x2017da(0x26d)]=_0x2017da(0x1ed);if(_0x1ba31b>0x0)_0x551623['innerHTML']=_0x2017da(0x239)+String(_0x1ba31b)['padStart'](0x2,'0')+_0x2017da(0x29e);_0x55da64[_0x2017da(0x2ab)](_0x551623);}}function renderDayRange(_0x3d18ed,_0x443d97){const _0x2f9428=a3_0x9bfad5,_0x120bf2=document[_0x2f9428(0x1dc)](_0x2f9428(0x2a7)),_0xaaa2d9=document['getElementById']('gridColumns'),_0x208dfb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x299126=new Date();_0x299126[_0x2f9428(0x229)](0x0,0x0,0x0,0x0);const _0x2734f8=getLocalDateStr(new Date());for(let _0x2bae82=_0x3d18ed;_0x2bae82<=_0x443d97;_0x2bae82++){const _0x5da9be=new Date(_0x299126);_0x5da9be[_0x2f9428(0x1f7)](_0x5da9be[_0x2f9428(0x206)]()+_0x2bae82);const _0x1adca7=getLocalDateStr(_0x5da9be);let _0x242fc1=_0x5da9be[_0x2f9428(0x24f)]()-0x1;if(_0x242fc1===-0x1)_0x242fc1=0x6;const _0x1396cc=_0x1adca7===_0x2734f8,_0x56daa9=document['createElement'](_0x2f9428(0x29f));_0x56daa9['className']=_0x2f9428(0x218)+(_0x1396cc?_0x2f9428(0x294):''),_0x56daa9[_0x2f9428(0x298)](_0x2f9428(0x27a),_0x1adca7),_0x56daa9['innerHTML']=_0x2f9428(0x296)+_0x208dfb[_0x242fc1]+_0x2f9428(0x2b9)+_0x5da9be['getDate']()+_0x2f9428(0x25d),_0x120bf2[_0x2f9428(0x2ab)](_0x56daa9);const _0x5ba55e=document[_0x2f9428(0x1f2)](_0x2f9428(0x29f));_0x5ba55e[_0x2f9428(0x26d)]=_0x2f9428(0x23f)+(_0x1396cc?'today':''),_0x5ba55e[_0x2f9428(0x298)](_0x2f9428(0x27a),_0x1adca7),_0x5ba55e['setAttribute'](_0x2f9428(0x211),_0x242fc1),_0xaaa2d9['appendChild'](_0x5ba55e);}}function reRenderBlocks(){const _0xe1be59=a3_0x9bfad5;document[_0xe1be59(0x22a)](_0xe1be59(0x26b))[_0xe1be59(0x2b7)](_0x1c4564=>{const _0x4567ae=_0xe1be59;_0x1c4564[_0x4567ae(0x22a)](_0x4567ae(0x21f))[_0x4567ae(0x2b7)](_0x1e4e87=>_0x1e4e87['remove']());const _0x450c7d=_0x1c4564[_0x4567ae(0x1da)](_0x4567ae(0x27a)),_0x1768e3=parseInt(_0x1c4564[_0x4567ae(0x1da)]('data-day-idx')),_0x145e9c=Math[_0x4567ae(0x22f)](_0x1c4564[_0x4567ae(0x216)]);(availabilityPattern[_0x1768e3]||[])[_0x4567ae(0x2b7)](_0x31fac4=>{const _0x45bb85=_0x4567ae,_0x320819=document[_0x45bb85(0x1f2)]('div');_0x320819[_0x45bb85(0x26d)]='blocked-slot\x20stripe-bg',_0x320819['style'][_0x45bb85(0x1d2)]=_0x31fac4*GRID_H+'px',_0x320819[_0x45bb85(0x2b3)][_0x45bb85(0x28b)]='-'+_0x145e9c+_0x45bb85(0x222)+_0x31fac4*GRID_H+'px',_0x1c4564[_0x45bb85(0x2ab)](_0x320819);});if(specialRanges[_0x4567ae(0x209)]>0x0){const _0x43d015=new Date(_0x450c7d+_0x4567ae(0x2b4))[_0x4567ae(0x259)](),_0x4447d5=new Date(_0x450c7d+_0x4567ae(0x1e4))['getTime']();specialRanges['forEach'](_0x4ee7da=>{const _0x5685d9=_0x4567ae,_0x1b955e=new Date(_0x4ee7da[_0x5685d9(0x24d)])[_0x5685d9(0x259)](),_0x27c77d=new Date(_0x4ee7da[_0x5685d9(0x275)])[_0x5685d9(0x259)](),_0xa27d17=Math[_0x5685d9(0x27c)](_0x43d015,_0x1b955e),_0x19ed96=Math[_0x5685d9(0x1d5)](_0x4447d5,_0x27c77d);if(_0xa27d17<_0x19ed96){const _0x39d753=(_0xa27d17-_0x43d015)/0x36ee80*GRID_H,_0x1c053d=(_0x19ed96-_0xa27d17)/0x36ee80*GRID_H,_0xa4f32a=document[_0x5685d9(0x1f2)](_0x5685d9(0x29f));_0x1c053d>=23.5*GRID_H?(_0xa4f32a[_0x5685d9(0x26d)]=_0x5685d9(0x241),_0xa4f32a[_0x5685d9(0x2b3)]['backgroundPosition']='-'+_0x145e9c+_0x5685d9(0x214)):(_0xa4f32a[_0x5685d9(0x26d)]=_0x5685d9(0x21d),_0xa4f32a[_0x5685d9(0x2b3)]['top']=_0x39d753+'px',_0xa4f32a[_0x5685d9(0x2b3)][_0x5685d9(0x204)]=_0x1c053d+'px',_0xa4f32a[_0x5685d9(0x2b3)]['backgroundPosition']='-'+_0x145e9c+_0x5685d9(0x222)+_0x39d753+'px'),_0x1c4564[_0x5685d9(0x2ab)](_0xa4f32a);}});}renderEventsForColumn(_0x1c4564,_0x450c7d);});}function renderEventsForColumn(_0x2b4b07,_0xc0f13e){const _0x296e21=a3_0x9bfad5,_0x3e196a=sessions['filter'](_0x34ea7a=>_0x34ea7a['dateStr']===_0xc0f13e),_0x1da0ad=_0x3e196a[_0x296e21(0x1ee)](_0x30f295=>{const _0x3dc30a=_0x296e21,[_0x9628d6,_0x249bc4]=_0x30f295['start']['split'](':')['map'](Number),[_0x20492a,_0x46d98d]=_0x30f295[_0x3dc30a(0x275)][_0x3dc30a(0x1df)](':')[_0x3dc30a(0x1ee)](Number);return{'data':_0x30f295,'start':_0x9628d6*0x3c+_0x249bc4,'end':_0x20492a*0x3c+_0x46d98d,'colIndex':0x0};});_0x1da0ad['sort']((_0x58f6ce,_0x502ac1)=>_0x58f6ce[_0x296e21(0x24d)]-_0x502ac1['start']||_0x502ac1[_0x296e21(0x275)]-_0x502ac1[_0x296e21(0x24d)]-(_0x58f6ce['end']-_0x58f6ce[_0x296e21(0x24d)]));const _0x31d583=[];_0x1da0ad[_0x296e21(0x2b7)](_0x5d0567=>{const _0x707d29=_0x296e21;let _0x150314=![];for(let _0x47cd34=0x0;_0x47cd34<_0x31d583['length'];_0x47cd34++){const _0x2cba3d=_0x31d583[_0x47cd34];if(_0x5d0567[_0x707d29(0x24d)]>=_0x2cba3d[_0x2cba3d['length']-0x1]['end']){_0x2cba3d[_0x707d29(0x21c)](_0x5d0567),_0x5d0567['colIndex']=_0x47cd34,_0x150314=!![];break;}}!_0x150314&&(_0x31d583['push']([_0x5d0567]),_0x5d0567[_0x707d29(0x25c)]=_0x31d583[_0x707d29(0x209)]-0x1);}),_0x1da0ad[_0x296e21(0x2b7)](_0x13b79e=>{const _0xe7aefa=_0x296e21;let _0x1e05e0=0x0;_0x1da0ad[_0xe7aefa(0x2b7)](_0x37b73d=>{const _0x1eb108=_0xe7aefa;if(Math[_0x1eb108(0x27c)](_0x13b79e['start'],_0x37b73d[_0x1eb108(0x24d)])<Math[_0x1eb108(0x1d5)](_0x13b79e[_0x1eb108(0x275)],_0x37b73d['end'])&&_0x37b73d[_0x1eb108(0x25c)]>_0x1e05e0)_0x1e05e0=_0x37b73d[_0x1eb108(0x25c)];});const _0x342181=_0x1e05e0+0x1,_0x2719c1=0x64/_0x342181,_0x1a9680=_0x13b79e[_0xe7aefa(0x25c)]*_0x2719c1,_0x320f3a=document['createElement'](_0xe7aefa(0x29f)),_0x262632=_0x13b79e[_0xe7aefa(0x2a0)];let _0x593be1=_0xe7aefa(0x28c);if(clients&&clients['length']>0x0){const _0xe78454=clients[_0xe7aefa(0x278)](_0xbc1a7=>String(_0xbc1a7['id'])===String(_0x262632['clientId']));if(_0xe78454&&_0xe78454[_0xe7aefa(0x24a)])_0x593be1=_0xe78454[_0xe7aefa(0x24a)];}const _0x23122c=_0x262632[_0xe7aefa(0x2a3)]==='completed',_0x5f1b5c=_0x23122c?0x1:0.45;_0x320f3a[_0xe7aefa(0x26d)]=_0xe7aefa(0x240)+(_0x23122c?_0xe7aefa(0x255):''),_0x320f3a[_0xe7aefa(0x2b3)]['backgroundColor']=hexToRgba(_0x593be1,_0x5f1b5c),_0x320f3a['style'][_0xe7aefa(0x251)]=_0x593be1;const _0x948dff=_0x13b79e[_0xe7aefa(0x24d)]/0x3c*GRID_H,_0x1c67d9=(_0x13b79e[_0xe7aefa(0x275)]-_0x13b79e[_0xe7aefa(0x24d)])/0x3c*GRID_H;_0x320f3a[_0xe7aefa(0x2b3)]['top']=_0x948dff+'px',_0x320f3a[_0xe7aefa(0x2b3)][_0xe7aefa(0x204)]=Math[_0xe7aefa(0x27c)](_0x1c67d9,0x14)+'px',_0x320f3a['style'][_0xe7aefa(0x25b)]='calc('+_0x2719c1+_0xe7aefa(0x1db),_0x320f3a[_0xe7aefa(0x2b3)][_0xe7aefa(0x265)]=_0xe7aefa(0x2a4)+_0x1a9680+_0xe7aefa(0x2b6),_0x320f3a['style'][_0xe7aefa(0x202)]=0xa+_0x13b79e[_0xe7aefa(0x25c)];if(_0x2719c1<0x55)_0x320f3a['classList'][_0xe7aefa(0x233)](_0xe7aefa(0x238));let _0x19cb5='';if(_0x262632[_0xe7aefa(0x1d4)])_0x19cb5+=_0xe7aefa(0x272);if(_0x23122c)_0x19cb5+=_0xe7aefa(0x244);_0x320f3a[_0xe7aefa(0x1ea)]=_0xe7aefa(0x1fb)+_0x262632[_0xe7aefa(0x24d)]+_0xe7aefa(0x2bc)+_0x262632[_0xe7aefa(0x275)]+_0xe7aefa(0x26f)+_0x19cb5+_0xe7aefa(0x208),_0x320f3a[_0xe7aefa(0x20b)]=_0x17a3ad=>{const _0x123309=_0xe7aefa;_0x17a3ad[_0x123309(0x1f1)](),openDetails(_0x262632);},_0x2b4b07[_0xe7aefa(0x2ab)](_0x320f3a);});}function openAnalytics(){const _0x3d8ecb=a3_0x9bfad5,_0x1b66fc=document[_0x3d8ecb(0x1ca)](_0x3d8ecb(0x29b));setAnalyticsPeriod(_0x3d8ecb(0x200),_0x1b66fc),openSheet(_0x3d8ecb(0x297));}function setAnalyticsPeriod(_0x43b19e,_0x33d40b){const _0x3400d3=a3_0x9bfad5;currentAnPeriod=_0x43b19e,document[_0x3400d3(0x22a)](_0x3400d3(0x29b))['forEach'](_0x45f42c=>_0x45f42c[_0x3400d3(0x257)][_0x3400d3(0x27d)]('active'));if(_0x33d40b)_0x33d40b[_0x3400d3(0x257)][_0x3400d3(0x233)]('active');const _0x3d1789=document[_0x3400d3(0x1dc)](_0x3400d3(0x1f4));_0x3d1789[_0x3400d3(0x2b3)][_0x3400d3(0x26e)]=_0x43b19e===_0x3400d3(0x268)?'flex':_0x3400d3(0x2b0);const _0x58c079=new Date();let _0x5e6479=new Date(),_0x5ae756=new Date();if(_0x43b19e===_0x3400d3(0x200))_0x5e6479=getStartOfWeek(_0x58c079),_0x5ae756=new Date(_0x5e6479),_0x5ae756[_0x3400d3(0x1f7)](_0x5ae756['getDate']()+0x6);else{if(_0x43b19e===_0x3400d3(0x221))_0x5e6479=new Date(_0x58c079[_0x3400d3(0x2c0)](),_0x58c079[_0x3400d3(0x276)](),0x1),_0x5ae756=new Date(_0x58c079[_0x3400d3(0x2c0)](),_0x58c079[_0x3400d3(0x276)]()+0x1,0x0);else{!document[_0x3400d3(0x1dc)](_0x3400d3(0x29c))[_0x3400d3(0x253)]&&(document[_0x3400d3(0x1dc)]('anStart')['value']=getLocalDateStr(_0x58c079),document['getElementById'](_0x3400d3(0x1d1))['value']=getLocalDateStr(_0x58c079));refreshAnalytics();return;}}document[_0x3400d3(0x1dc)](_0x3400d3(0x29c))[_0x3400d3(0x253)]=getLocalDateStr(_0x5e6479),document[_0x3400d3(0x1dc)](_0x3400d3(0x1d1))['value']=getLocalDateStr(_0x5ae756),refreshAnalytics();}function refreshAnalytics(){const _0x313cbf=a3_0x9bfad5,_0x561d5c=document[_0x313cbf(0x1dc)](_0x313cbf(0x29c))[_0x313cbf(0x253)],_0x3b838c=document[_0x313cbf(0x1dc)](_0x313cbf(0x1d1))['value'];if(!_0x561d5c||!_0x3b838c)return;const _0x92ca0a=sessions['filter'](_0x11415a=>_0x11415a[_0x313cbf(0x246)]>=_0x561d5c&&_0x11415a['dateStr']<=_0x3b838c&&_0x11415a[_0x313cbf(0x2a3)]!==_0x313cbf(0x1d6)),_0x5c9f03=_0x92ca0a[_0x313cbf(0x209)],_0x2a0378=_0x92ca0a[_0x313cbf(0x20f)](_0x51a561=>_0x51a561['status']==='completed')['length'],_0x253102=_0x5c9f03>0x0?Math[_0x313cbf(0x22f)](_0x2a0378/_0x5c9f03*0x64):0x0;document[_0x313cbf(0x1dc)](_0x313cbf(0x2ba))['textContent']=_0x253102+'%',document['getElementById'](_0x313cbf(0x24c))[_0x313cbf(0x284)]=_0x2a0378+'\x20–∏–∑\x20'+_0x5c9f03+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x1fa8e4=document['getElementById'](_0x313cbf(0x217)),_0x369e72=0x2*Math['PI']*0x23,_0x430af6=_0x369e72-_0x253102/0x64*_0x369e72;_0x1fa8e4[_0x313cbf(0x2b3)][_0x313cbf(0x1d0)]=_0x430af6;const _0x524805={};_0x92ca0a[_0x313cbf(0x2b7)](_0x2145be=>{const _0x5864b8=_0x313cbf,_0x7527d1=_0x2145be[_0x5864b8(0x287)]||_0x5864b8(0x288);if(!_0x524805[_0x7527d1]){const _0x847ac9='#'+_0x7527d1['toString']()[_0x5864b8(0x1f0)](0x0,0x6);_0x524805[_0x7527d1]={'total':0x0,'done':0x0,'color':_0x847ac9};}_0x524805[_0x7527d1]['total']++;if(_0x2145be[_0x5864b8(0x2a3)]==='completed')_0x524805[_0x7527d1]['done']++;});const _0x41fb7a=document[_0x313cbf(0x1dc)](_0x313cbf(0x22e));_0x41fb7a[_0x313cbf(0x1ea)]='';const _0x3c35ff=Object[_0x313cbf(0x258)](_0x524805)['sort']((_0x524d22,_0x2a1a6)=>_0x2a1a6[0x1][_0x313cbf(0x264)]-_0x524d22[0x1][_0x313cbf(0x264)]);if(_0x3c35ff[_0x313cbf(0x209)]===0x0){_0x41fb7a[_0x313cbf(0x1ea)]=_0x313cbf(0x235);return;}_0x3c35ff[_0x313cbf(0x2b7)](([_0x43ab7e,_0x281e3a])=>{const _0x4f5181=_0x313cbf,_0xa07b4=Math[_0x4f5181(0x22f)](_0x281e3a[_0x4f5181(0x1c7)]/_0x281e3a['total']*0x64),_0x4c94ac=document[_0x4f5181(0x1f2)]('div');_0x4c94ac[_0x4f5181(0x26d)]=_0x4f5181(0x2a6),_0x4c94ac[_0x4f5181(0x2b3)][_0x4f5181(0x251)]=_0x281e3a[_0x4f5181(0x24a)],_0x4c94ac['innerHTML']=_0x4f5181(0x201)+_0x43ab7e['substr'](0x0,0x5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x281e3a['done']+_0x4f5181(0x254)+_0x281e3a[_0x4f5181(0x264)]+_0x4f5181(0x228)+_0xa07b4+_0x4f5181(0x22c),_0x41fb7a[_0x4f5181(0x2ab)](_0x4c94ac);});}function openDetails(_0x11ec91){const _0x2f453d=a3_0x9bfad5;currentSession=_0x11ec91;const _0x15baec=new Date(_0x11ec91[_0x2f453d(0x246)]),_0x2e5b22=_0x15baec[_0x2f453d(0x234)]('ru-RU',{'weekday':_0x2f453d(0x2b1),'day':_0x2f453d(0x23d),'month':_0x2f453d(0x2b1)});document[_0x2f453d(0x1dc)](_0x2f453d(0x260))[_0x2f453d(0x284)]=_0x2e5b22[_0x2f453d(0x2be)](0x0)[_0x2f453d(0x205)]()+_0x2e5b22['slice'](0x1),document[_0x2f453d(0x1dc)](_0x2f453d(0x2af))[_0x2f453d(0x284)]=_0x11ec91[_0x2f453d(0x24d)]+_0x2f453d(0x2bc)+_0x11ec91[_0x2f453d(0x275)],document[_0x2f453d(0x1dc)](_0x2f453d(0x291))[_0x2f453d(0x284)]=_0x11ec91[_0x2f453d(0x26c)]||_0x2f453d(0x22d);const _0x22f3b4=document[_0x2f453d(0x1dc)]('detStatus'),_0x15ec45=document[_0x2f453d(0x1dc)](_0x2f453d(0x2c1)),_0x3807f3=_0x15ec45['querySelector']('.btn-cancel'),_0x36d34a=_0x15ec45[_0x2f453d(0x1ca)](_0x2f453d(0x29d)),_0x1da2f0=document['getElementById'](_0x2f453d(0x269));if(_0x11ec91[_0x2f453d(0x2a3)]===_0x2f453d(0x1dd))_0x22f3b4[_0x2f453d(0x284)]=_0x2f453d(0x230),_0x22f3b4['style']['color']=_0x2f453d(0x1fa),_0x15ec45[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b0);else{_0x22f3b4[_0x2f453d(0x284)]='üìÖ\x20–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞',_0x22f3b4[_0x2f453d(0x2b3)]['color']=_0x2f453d(0x1f9),_0x15ec45[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b5);const _0x59ff35=new Date(_0x11ec91[_0x2f453d(0x246)]+'T'+_0x11ec91[_0x2f453d(0x24d)]),_0x2d48b7=new Date(),_0x4a4997=(_0x59ff35-_0x2d48b7)/(0x3e8*0x3c*0x3c),_0x147364=coachProfiles[_0x11ec91[_0x2f453d(0x287)]]&&coachProfiles[_0x11ec91['coachId']][_0x2f453d(0x22b)]?parseInt(coachProfiles[_0x11ec91[_0x2f453d(0x287)]][_0x2f453d(0x22b)]):0x18;if(_0x147364===0x0||_0x4a4997>=_0x147364)_0x3807f3['style']['display']=_0x2f453d(0x2b5),_0x36d34a['style']['display']=_0x2f453d(0x2b5),_0x1da2f0[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b0);else{_0x3807f3[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b0),_0x36d34a[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b0),_0x1da2f0[_0x2f453d(0x2b3)][_0x2f453d(0x26e)]=_0x2f453d(0x2b5);let _0x532775=_0x147364===0x0?_0x2f453d(0x242):_0x2f453d(0x1cd)+_0x147364+'\x20—á.';_0x1da2f0[_0x2f453d(0x284)]='–ò–∑–º–µ–Ω–µ–Ω–∏—è\x20–≤–æ–∑–º–æ–∂–Ω—ã\x20—Ç–æ–ª—å–∫–æ\x20'+_0x532775+'\x20–¥–æ\x20–Ω–∞—á–∞–ª–∞';}}document[_0x2f453d(0x1dc)](_0x2f453d(0x223))[_0x2f453d(0x257)][_0x2f453d(0x233)](_0x2f453d(0x1e6)),document['getElementById'](_0x2f453d(0x262))[_0x2f453d(0x257)][_0x2f453d(0x233)]('open');}function closeAllSheets(){const _0x36a22e=a3_0x9bfad5;document[_0x36a22e(0x1dc)]('overlay')[_0x36a22e(0x257)][_0x36a22e(0x27d)]('active'),document['querySelectorAll'](_0x36a22e(0x25a))['forEach'](_0x3ec1db=>_0x3ec1db[_0x36a22e(0x257)]['remove'](_0x36a22e(0x23a)));}function openSheet(_0xde4fa5){const _0x2f974f=a3_0x9bfad5;document['getElementById'](_0x2f974f(0x223))[_0x2f974f(0x257)][_0x2f974f(0x233)](_0x2f974f(0x1e6)),document[_0x2f974f(0x1dc)](_0xde4fa5)['classList'][_0x2f974f(0x233)](_0x2f974f(0x23a));}function getLocalDateStr(_0xfad707){const _0x438ae8=a3_0x9bfad5,_0x56f825=_0xfad707[_0x438ae8(0x2c0)](),_0x3b059a=String(_0xfad707[_0x438ae8(0x276)]()+0x1)[_0x438ae8(0x28f)](0x2,'0'),_0x386179=String(_0xfad707[_0x438ae8(0x206)]())[_0x438ae8(0x28f)](0x2,'0');return _0x56f825+'-'+_0x3b059a+'-'+_0x386179;}function getStartOfWeek(_0x26d4de){const _0x20022a=a3_0x9bfad5,_0xff75ab=new Date(_0x26d4de),_0x29d20d=_0xff75ab[_0x20022a(0x24f)](),_0x33c396=_0xff75ab[_0x20022a(0x206)]()-_0x29d20d+(_0x29d20d===0x0?-0x6:0x1);return _0xff75ab[_0x20022a(0x1f7)](_0x33c396),_0xff75ab[_0x20022a(0x229)](0x0,0x0,0x0,0x0),_0xff75ab;}function scrollToToday(){const _0x134a02=getLocalDateStr(new Date());setTimeout(()=>{const _0x78c54e=a3_0x207a,_0x53aeb6=document[_0x78c54e(0x1ca)](_0x78c54e(0x29a)+_0x134a02+'\x22]');if(_0x53aeb6){const _0x12db28=document[_0x78c54e(0x1dc)](_0x78c54e(0x2ae)),_0x4abcad=_0x53aeb6['offsetLeft']-_0x12db28['clientWidth']/0x2+_0x53aeb6['offsetWidth']/0x2;_0x12db28[_0x78c54e(0x2aa)]({'left':_0x4abcad,'behavior':_0x78c54e(0x1c8)}),_0x12db28[_0x78c54e(0x1eb)]=0x9*GRID_H;}},0x32);}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x6a5ccb=a3_0x9bfad5,_0x5a7d16=new Date(),_0x4935a8=document[_0x6a5ccb(0x1dc)]('globalTimeLine'),_0x600325=document[_0x6a5ccb(0x1dc)](_0x6a5ccb(0x1c6)),_0x55cace=(_0x5a7d16['getHours']()*0x3c+_0x5a7d16[_0x6a5ccb(0x20a)]())/0x3c*GRID_H;_0x4935a8[_0x6a5ccb(0x2b3)][_0x6a5ccb(0x1d2)]=_0x55cace+'px',_0x4935a8[_0x6a5ccb(0x2b3)]['display']=_0x6a5ccb(0x2b5),_0x600325[_0x6a5ccb(0x2b3)][_0x6a5ccb(0x1d2)]=_0x55cace+'px',_0x600325['style'][_0x6a5ccb(0x26e)]='block',_0x600325[_0x6a5ccb(0x284)]=String(_0x5a7d16[_0x6a5ccb(0x282)]())[_0x6a5ccb(0x28f)](0x2,'0')+':'+String(_0x5a7d16[_0x6a5ccb(0x20a)]())['padStart'](0x2,'0');}function onScroll(){const _0x131c90=a3_0x9bfad5,_0x1be079=document[_0x131c90(0x1dc)](_0x131c90(0x2ae)),_0x392430=document[_0x131c90(0x22a)](_0x131c90(0x210));for(let _0x34afe3 of _0x392430)if(_0x34afe3[_0x131c90(0x216)]>=_0x1be079[_0x131c90(0x1cb)]){const _0x3b427a=new Date(_0x34afe3[_0x131c90(0x1da)]('data-date'));document[_0x131c90(0x1dc)](_0x131c90(0x2a5))[_0x131c90(0x284)]=_0x3b427a['toLocaleString']('ru',{'month':_0x131c90(0x2b1)})[_0x131c90(0x205)]()+'\x20'+_0x3b427a[_0x131c90(0x2c0)]();break;}}function showToast(_0x5c62b1){const _0x5c1983=a3_0x9bfad5,_0x201685=document['getElementById'](_0x5c1983(0x20c));_0x201685[_0x5c1983(0x284)]=_0x5c62b1,_0x201685[_0x5c1983(0x257)][_0x5c1983(0x233)](_0x5c1983(0x1fe)),setTimeout(()=>_0x201685[_0x5c1983(0x257)][_0x5c1983(0x27d)](_0x5c1983(0x1fe)),0x7d0);}function handleInfiniteScroll(){const _0xe57f6=a3_0x9bfad5,_0xb372e4=document[_0xe57f6(0x1dc)](_0xe57f6(0x2ae)),_0x581a58=_0xb372e4[_0xe57f6(0x1cb)],_0xa5f8e8=_0xb372e4[_0xe57f6(0x283)],_0x420ac8=_0xb372e4[_0xe57f6(0x2bb)];if(_0xa5f8e8-(_0x581a58+_0x420ac8)<0x12c){const _0x1c842c=endOffset;endOffset+=0xe,renderDayRange(_0x1c842c+0x1,endOffset),reRenderBlocks();}if(_0x581a58<0x12c){const _0x1fc51e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1fc51e-0x1),_0xb372e4[_0xe57f6(0x1cb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5d9729,_0x296b28){const _0x594b6a=a3_0x9bfad5,_0x17b1da=document['getElementById'](_0x594b6a(0x2a7)),_0x144407=document['getElementById'](_0x594b6a(0x266)),_0x16cab2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcb4cbc=new Date();_0xcb4cbc[_0x594b6a(0x229)](0x0,0x0,0x0,0x0);const _0x4ab282=getLocalDateStr(new Date()),_0x2e075c=document[_0x594b6a(0x236)](),_0x217d08=document[_0x594b6a(0x236)]();for(let _0xa1b3ce=_0x5d9729;_0xa1b3ce<=_0x296b28;_0xa1b3ce++){const _0x413849=new Date(_0xcb4cbc);_0x413849[_0x594b6a(0x1f7)](_0x413849['getDate']()+_0xa1b3ce);const _0x2d277f=getLocalDateStr(_0x413849);let _0x4d78c3=_0x413849[_0x594b6a(0x24f)]()-0x1;if(_0x4d78c3===-0x1)_0x4d78c3=0x6;const _0x1273b2=_0x2d277f===_0x4ab282,_0x3bd193=document[_0x594b6a(0x1f2)](_0x594b6a(0x29f));_0x3bd193['className']=_0x594b6a(0x218)+(_0x1273b2?'today':''),_0x3bd193[_0x594b6a(0x298)](_0x594b6a(0x27a),_0x2d277f),_0x3bd193['innerHTML']=_0x594b6a(0x296)+_0x16cab2[_0x4d78c3]+_0x594b6a(0x2b9)+_0x413849[_0x594b6a(0x206)]()+_0x594b6a(0x25d),_0x2e075c[_0x594b6a(0x2ab)](_0x3bd193);const _0x5e345f=document['createElement']('div');_0x5e345f['className']='day-column\x20'+(_0x1273b2?_0x594b6a(0x294):''),_0x5e345f[_0x594b6a(0x298)]('data-date',_0x2d277f),_0x5e345f[_0x594b6a(0x298)](_0x594b6a(0x211),_0x4d78c3),_0x217d08['appendChild'](_0x5e345f);}_0x17b1da[_0x594b6a(0x290)](_0x2e075c,_0x17b1da[_0x594b6a(0x248)]),_0x144407[_0x594b6a(0x290)](_0x217d08,_0x144407[_0x594b6a(0x1ca)](_0x594b6a(0x26b)));}function hexToRgba(_0x3c0c6d,_0x3eb786){const _0x330e44=a3_0x9bfad5;let _0x42ab57;if(/^#([A-Fa-f0-9]{3}){1,2}$/[_0x330e44(0x1d7)](_0x3c0c6d))return _0x42ab57=_0x3c0c6d[_0x330e44(0x2ad)](0x1)[_0x330e44(0x1df)](''),_0x42ab57['length']==0x3&&(_0x42ab57=[_0x42ab57[0x0],_0x42ab57[0x0],_0x42ab57[0x1],_0x42ab57[0x1],_0x42ab57[0x2],_0x42ab57[0x2]]),_0x42ab57='0x'+_0x42ab57[_0x330e44(0x247)](''),_0x330e44(0x1e1)+[_0x42ab57>>0x10&0xff,_0x42ab57>>0x8&0xff,_0x42ab57&0xff][_0x330e44(0x247)](',')+','+_0x3eb786+')';return _0x330e44(0x2a1)+_0x3eb786+')';}let confirmResolver=null;function showCustomConfirm(_0x29c5fa,_0x3d187f,_0x3c0b6c=!![]){const _0x4df608=a3_0x9bfad5;document[_0x4df608(0x1dc)](_0x4df608(0x237))[_0x4df608(0x284)]=_0x29c5fa,document[_0x4df608(0x1dc)](_0x4df608(0x1d3))['textContent']=_0x3d187f;const _0xc14fa1=document[_0x4df608(0x1dc)](_0x4df608(0x1ef));return _0x3c0b6c?(_0xc14fa1[_0x4df608(0x2b3)][_0x4df608(0x24a)]='#ff453a',_0xc14fa1[_0x4df608(0x2b3)][_0x4df608(0x1fc)]=_0x4df608(0x1d8)):(_0xc14fa1[_0x4df608(0x2b3)][_0x4df608(0x24a)]=_0x4df608(0x28c),_0xc14fa1[_0x4df608(0x2b3)][_0x4df608(0x1fc)]=_0x4df608(0x1d8)),new Promise(_0x413ecb=>{const _0x3bdb68=_0x4df608;confirmResolver=_0x413ecb,document[_0x3bdb68(0x1dc)](_0x3bdb68(0x27e))[_0x3bdb68(0x257)]['add'](_0x3bdb68(0x2ac));});}function resolveCustomConfirm(_0x4fa190){const _0x4c65fc=a3_0x9bfad5;document[_0x4c65fc(0x1dc)](_0x4c65fc(0x27e))[_0x4c65fc(0x257)][_0x4c65fc(0x27d)](_0x4c65fc(0x2ac));if(confirmResolver)confirmResolver(_0x4fa190);}async function tryCancelCurrentSession(){const _0x8049b1=a3_0x9bfad5;if(!currentSession)return;const _0x5ae7da=await showCustomConfirm('–û—Ç–º–µ–Ω–∞\x20–∑–∞–ø–∏—Å–∏','–í—ã\x20–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ\x20—Ö–æ—Ç–∏—Ç–µ\x20–æ—Ç–º–µ–Ω–∏—Ç—å\x20—ç—Ç—É\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?',!![]);if(!_0x5ae7da)return;const _0x47ffda=currentSession;closeAllSheets(),sessions=sessions['filter'](_0x23b2b8=>_0x23b2b8['id']!==_0x47ffda['id']),reRenderBlocks(),showToast(_0x8049b1(0x279)),lastUserActionTime=Date[_0x8049b1(0x23b)]();try{const _0x1cb4a3=window[_0x8049b1(0x1e7)]?.[_0x8049b1(0x243)],_0x52a74f=await fetch(API_URL,{'method':_0x8049b1(0x1f8),'body':JSON[_0x8049b1(0x292)]({'action':_0x8049b1(0x1e3),'init_data':_0x1cb4a3?.[_0x8049b1(0x203)]||'','coachId':_0x47ffda['coachId'],'dateStr':_0x47ffda['dateStr'],'sessionId':_0x47ffda['id']})});if(_0x52a74f['ok'])DataManager[_0x8049b1(0x26a)]();}catch(_0x3be57d){showToast(_0x8049b1(0x1c5));}}let availableSlotsCache={},selectedRsDate=null;async function startRescheduleFlow(){const _0x3df199=a3_0x9bfad5;if(!currentSession)return;document[_0x3df199(0x1dc)](_0x3df199(0x262))['classList'][_0x3df199(0x27d)](_0x3df199(0x23a)),document['getElementById'](_0x3df199(0x231))[_0x3df199(0x257)][_0x3df199(0x233)]('open');const _0x1f9885=document['getElementById'](_0x3df199(0x219)),_0xb140de=document['getElementById'](_0x3df199(0x2bd));_0x1f9885[_0x3df199(0x1ea)]='',_0xb140de['innerHTML']='<div\x20class=\x22rs-loader\x22>–ü–æ–∏—Å–∫\x20—Å–≤–æ–±–æ–¥–Ω—ã—Ö\x20–æ–∫–æ—à–µ–∫...</div>';const [_0x58be63,_0x375c77]=currentSession[_0x3df199(0x24d)][_0x3df199(0x1df)](':')['map'](Number),[_0x11f272,_0x4b889e]=currentSession[_0x3df199(0x275)]['split'](':')[_0x3df199(0x1ee)](Number),_0x2b725b=_0x11f272*0x3c+_0x4b889e-(_0x58be63*0x3c+_0x375c77);try{const _0x512446=window['Telegram']?.['WebApp'],_0xc62c3=await fetch(API_URL,{'method':'POST','body':JSON[_0x3df199(0x292)]({'action':_0x3df199(0x23e),'coachId':currentSession[_0x3df199(0x287)],'duration':_0x2b725b,'init_data':_0x512446?.[_0x3df199(0x203)]||'','excludeSessionId':currentSession['id']})}),_0x242d43=await _0xc62c3['json']();_0x242d43['ok']&&_0x242d43[_0x3df199(0x2a0)]?(availableSlotsCache=_0x242d43[_0x3df199(0x2a0)],renderRescheduleDates()):_0xb140de[_0x3df199(0x1ea)]=_0x3df199(0x28d);}catch(_0x3afb2a){_0xb140de[_0x3df199(0x1ea)]='<div\x20class=\x22rs-empty\x22>–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏</div>';}}function renderRescheduleDates(){const _0x6ba4e9=a3_0x9bfad5,_0xaea77d=document[_0x6ba4e9(0x1dc)](_0x6ba4e9(0x219));_0xaea77d['innerHTML']='';const _0x1d7b13=Object[_0x6ba4e9(0x213)](availableSlotsCache)[_0x6ba4e9(0x1ec)](),_0x361383=['–í–°','–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë'];if(_0x1d7b13[_0x6ba4e9(0x209)]===0x0){document[_0x6ba4e9(0x1dc)](_0x6ba4e9(0x2bd))[_0x6ba4e9(0x1ea)]=_0x6ba4e9(0x270);return;}_0x1d7b13['forEach']((_0x27a0d8,_0x32ae3a)=>{const _0x5de664=_0x6ba4e9,_0x488c08=new Date(_0x27a0d8),_0x1eea4b=_0x361383[_0x488c08['getDay']()],_0x2d62e7=_0x488c08['getDate'](),_0x4799bf=document[_0x5de664(0x1f2)](_0x5de664(0x29f));_0x4799bf[_0x5de664(0x26d)]=_0x5de664(0x299);if(_0x32ae3a===0x0)_0x4799bf[_0x5de664(0x257)][_0x5de664(0x233)]('active');_0x4799bf[_0x5de664(0x1ea)]='<div\x20class=\x22rs-day-name\x22>'+_0x1eea4b+_0x5de664(0x1de)+_0x2d62e7+_0x5de664(0x25d),_0x4799bf[_0x5de664(0x20b)]=()=>selectRsDate(_0x27a0d8,_0x4799bf),_0xaea77d['appendChild'](_0x4799bf);}),selectRsDate(_0x1d7b13[0x0],_0xaea77d['firstChild']);}function selectRsDate(_0x10a815,_0x1f7fdc){const _0x270557=a3_0x9bfad5;selectedRsDate=_0x10a815,document[_0x270557(0x22a)](_0x270557(0x2a9))[_0x270557(0x2b7)](_0x132cc0=>_0x132cc0['classList']['remove']('active'));if(_0x1f7fdc)_0x1f7fdc[_0x270557(0x257)][_0x270557(0x233)](_0x270557(0x1e6));const _0x301561=document[_0x270557(0x1dc)]('rsSlotsGrid');_0x301561[_0x270557(0x1ea)]='';const _0x210131=availableSlotsCache[_0x10a815]||[];if(_0x210131[_0x270557(0x209)]===0x0){_0x301561[_0x270557(0x1ea)]=_0x270557(0x28d);return;}_0x210131['forEach'](_0xd62956=>{const _0x3ae72c=_0x270557,_0xb733b8=document[_0x3ae72c(0x1f2)](_0x3ae72c(0x1e9));_0xb733b8[_0x3ae72c(0x26d)]=_0x3ae72c(0x1f6),_0xb733b8[_0x3ae72c(0x284)]=_0xd62956,_0xb733b8[_0x3ae72c(0x20b)]=()=>confirmReschedule(_0xd62956),_0x301561[_0x3ae72c(0x2ab)](_0xb733b8);});}async function confirmReschedule(_0x5d1d3b){const _0x513d3=a3_0x9bfad5,_0x1e4e72=new Date(selectedRsDate),_0x24e856=_0x1e4e72[_0x513d3(0x234)]('ru-RU',{'day':_0x513d3(0x23d),'month':_0x513d3(0x2b1)}),_0xdfb6f3=await showCustomConfirm(_0x513d3(0x227),_0x513d3(0x1fd)+_0x24e856+_0x513d3(0x21a)+_0x5d1d3b+'?',![]);if(!_0xdfb6f3)return;closeAllSheets(),showToast(_0x513d3(0x293)),lastUserActionTime=Date[_0x513d3(0x23b)]();const _0x57fbcd=currentSession[_0x513d3(0x246)],_0xb9b9e2=currentSession['id'],[_0x9ee0b,_0x55b205]=currentSession[_0x513d3(0x24d)][_0x513d3(0x1df)](':')[_0x513d3(0x1ee)](Number),[_0xca2bf4,_0x32b3d3]=currentSession[_0x513d3(0x275)][_0x513d3(0x1df)](':')[_0x513d3(0x1ee)](Number),_0x86328e=_0xca2bf4*0x3c+_0x32b3d3-(_0x9ee0b*0x3c+_0x55b205),[_0x5300f2,_0x3f8191]=_0x5d1d3b[_0x513d3(0x1df)](':')[_0x513d3(0x1ee)](Number),_0x43a090=_0x5300f2*0x3c+_0x3f8191+_0x86328e,_0x4fc2f6=Math['floor'](_0x43a090/0x3c),_0x941bbc=_0x43a090%0x3c,_0x903170=String(_0x4fc2f6)[_0x513d3(0x28f)](0x2,'0')+':'+String(_0x941bbc)[_0x513d3(0x28f)](0x2,'0'),_0x346299=sessions['findIndex'](_0x15f9cc=>_0x15f9cc['id']===_0xb9b9e2);_0x346299!==-0x1&&(sessions[_0x346299][_0x513d3(0x246)]=selectedRsDate,sessions[_0x346299]['start']=_0x5d1d3b,sessions[_0x346299][_0x513d3(0x275)]=_0x903170,reRenderBlocks());try{const _0x36626b=window[_0x513d3(0x1e7)]?.['WebApp'],_0x50c33d=await fetch(API_URL,{'method':_0x513d3(0x1f8),'body':JSON[_0x513d3(0x292)]({'action':_0x513d3(0x215),'init_data':_0x36626b?.[_0x513d3(0x203)]||'','oldSessionId':_0xb9b9e2,'oldDate':_0x57fbcd,'newDate':selectedRsDate,'newTime':_0x5d1d3b,'coachId':currentSession['coachId']})}),_0x299638=await _0x50c33d[_0x513d3(0x267)]();!_0x299638['ok']?(showToast(_0x513d3(0x263)),DataManager['syncLoad']()):(showToast(_0x513d3(0x2b2)),DataManager[_0x513d3(0x26a)]());}catch(_0x4213d4){showToast(_0x513d3(0x1c5));}}function a3_0x5578(){const _0xf42414=['</div><div\x20class=\x22rs-day-num\x22>','split','setItem','rgba(','error','client_cancel','T23:59:59','scroll','active','Telegram','374229FlHFiv','button','innerHTML','scrollTop','sort','time-label','map','ccYesBtn','substr','stopPropagation','createElement','initDataUnsafe','anCustomDates','#050505','rs-time-btn','setDate','POST','var(--acc-blue)','var(--acc-green)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-title\x22>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ev-time\x22>','fontWeight','–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É\x20–Ω–∞\x20','show','coach_profiles','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>–¢—Ä–µ–Ω–µ—Ä\x20#','zIndex','initData','height','toUpperCase','getDate','search','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','getMinutes','onclick','toast','clients','sid','filter','.day-col-header','data-day-idx','exceptions','keys','px\x200px','reschedule','offsetLeft','anDonutCircle','day-col-header\x20','rsDatesTrack','\x20–≤\x20','868064fdGbeW','push','blocked-range-part\x20stripe-bg','addEventListener','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','470YZRvFT','month','px\x20-','overlay','href','startsWith','router.html','–ü–µ—Ä–µ–Ω–æ—Å\x20–∑–∞–ø–∏—Å–∏','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','setHours','querySelectorAll','cancel_window','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ë–µ–∑\x20–∑–∞–º–µ—Ç–æ–∫','analyticsList','round','‚úÖ\x20–ó–∞–≤–µ—Ä—à–µ–Ω–∞','rescheduleSheet','parse','add','toLocaleDateString','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','createDocumentFragment','ccTitle','mini','<span>','open','now','26200161GpzrYh','numeric','get_slots','day-column\x20','event-card','day-off-overlay\x20stripe-bg','–≤\x20–ª—é–±–æ–µ\x20–≤—Ä–µ–º—è','WebApp','<svg\x20class=\x22card-icon\x20ev-status-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','syncLoad','dateStr','join','firstChild','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','color','157576lmuEZO','anTotalStats','start','toString','getDay','BackButton','borderLeftColor','settings','value','</span>\x20/\x20','\x20status-completed','cid','classList','entries','getTime','.sheet','width','colIndex','</div>','client_load','onClick','detDate','log','detailsSheet','–û—à–∏–±–∫–∞\x20–ø–µ—Ä–µ–Ω–æ—Å–∞!','total','left','gridColumns','json','custom','cancelHint','saveLocally','.day-column','note','className','display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ\x20–≤—Ä–µ–º–µ–Ω–∏\x20–Ω–∞\x20–±–ª–∏–∂–∞–π—à–∏–µ\x2014\x20–¥–Ω–µ–π</div>','72YBgHBG','<svg\x20class=\x22card-icon\x20ev-recurring-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','(((.+)+)+)+$','apply','end','getMonth','loadLocal','find','–û—Ç–º–µ–Ω–µ–Ω–æ','data-date','pattern','max','remove','customConfirm','ranges','Error\x20setting\x20color:','setMonth','getHours','scrollWidth','textContent','disableVerticalSwipes','setBackgroundColor','coachId','Unknown','expand','7798080hDquEd','backgroundPosition','#0a84ff','<div\x20class=\x22rs-empty\x22>–ù–µ—Ç\x20–º–µ—Å—Ç</div>','setHeaderColor','padStart','insertBefore','detNote','stringify','–ü–µ—Ä–µ–Ω–æ—Å–∏–º...','today','planned','<div\x20class=\x22dch-day\x22>','analyticsSheet','setAttribute','rs-date-chip','.day-col-header[data-date=\x22','.period-switch\x20.p-btn','anStart','.btn-reschedule',':00</span>','div','data','rgba(10,\x20132,\x20255,\x20','offClick','status','calc(','headerMonth','client-stat-card','daysHeaderTrack','calendar','.rs-date-chip','scrollTo','appendChild','visible','substring','matrixViewport','detTime','none','long','–£—Å–ø–µ—à–Ω–æ\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ','style','T00:00:00','block','%\x20+\x202px)','forEach','2994XSSMGt','</div><div\x20class=\x22dch-num\x22>','anPercent','clientWidth','\x20-\x20','rsSlotsGrid','charAt','then','getFullYear','cancelContainer','getItem','user','–û—à–∏–±–∫–∞\x20—Å–µ—Ç–∏','timeLineBadge','done','auto','ready','querySelector','scrollLeft','location','–∑–∞\x20','Sync\x20ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','Critical\x20TMA\x20Error:','strokeDashoffset','anEnd','top','ccText','seriesId','min','cancelled','test','600','543522ODvAzZ','getAttribute','%\x20-\x204px)','getElementById','completed'];a3_0x5578=function(){return _0xf42414;};return a3_0x5578();}document[a3_0x9bfad5(0x21e)]('DOMContentLoaded',init);