const a7_0x2095c9=a7_0x250d;(function(_0x204027,_0x2fd909){const _0x3fa285=a7_0x250d,_0x2d8631=_0x204027();while(!![]){try{const _0x275a30=-parseInt(_0x3fa285(0x143))/0x1+parseInt(_0x3fa285(0x177))/0x2+parseInt(_0x3fa285(0x184))/0x3*(-parseInt(_0x3fa285(0x11b))/0x4)+-parseInt(_0x3fa285(0x136))/0x5*(parseInt(_0x3fa285(0x195))/0x6)+parseInt(_0x3fa285(0x155))/0x7+parseInt(_0x3fa285(0x128))/0x8+parseInt(_0x3fa285(0x161))/0x9*(parseInt(_0x3fa285(0x148))/0xa);if(_0x275a30===_0x2fd909)break;else _0x2d8631['push'](_0x2d8631['shift']());}catch(_0x43dc39){_0x2d8631['push'](_0x2d8631['shift']());}}}(a7_0x29a5,0x8b83b));const a7_0x230664=(function(){let _0xdfac06=!![];return function(_0xf5c785,_0x11a9ed){const _0x58920a=_0xdfac06?function(){const _0x37dce7=a7_0x250d;if(_0x11a9ed){const _0x364f4b=_0x11a9ed[_0x37dce7(0x188)](_0xf5c785,arguments);return _0x11a9ed=null,_0x364f4b;}}:function(){};return _0xdfac06=![],_0x58920a;};}()),a7_0x54fffb=a7_0x230664(this,function(){const _0x1fa1c2=a7_0x250d;return a7_0x54fffb['toString']()[_0x1fa1c2(0x109)]('(((.+)+)+)+$')[_0x1fa1c2(0x117)]()['constructor'](a7_0x54fffb)[_0x1fa1c2(0x109)](_0x1fa1c2(0x110));});a7_0x54fffb();const API_URL=a7_0x2095c9(0x19b),tg=window['Telegram']?.[a7_0x2095c9(0x114)],TG_INIT_DATA=tg?.[a7_0x2095c9(0x15c)]||'';if(tg)try{tg[a7_0x2095c9(0x14b)](),tg[a7_0x2095c9(0x189)]();try{tg[a7_0x2095c9(0x1a7)]('#050505');if(tg['setBackgroundColor'])tg[a7_0x2095c9(0x14a)]('#050505');if(tg['disableVerticalSwipes'])tg[a7_0x2095c9(0x12b)]();}catch(a7_0x23e76e){console['warn'](a7_0x2095c9(0x185),a7_0x23e76e);}tg[a7_0x2095c9(0x19a)]&&(tg['BackButton'][a7_0x2095c9(0x11c)](),tg['BackButton'][a7_0x2095c9(0x13a)](),tg[a7_0x2095c9(0x19a)][a7_0x2095c9(0x149)](()=>{const _0x161e00=a7_0x2095c9;if(state[_0x161e00(0x10c)])exitSearchMode();else state[_0x161e00(0xfe)]?goBack():window['location']['href']=_0x161e00(0x16d);}));}catch(a7_0x1573b3){console['error']('Critical\x20TMA\x20Error:',a7_0x1573b3);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x44d42e=a7_0x2095c9,_0x45a92f=this['loadFromCache']();_0x45a92f&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x44d42e(0x103)]();},'loadFromCache'(){const _0x37d166=a7_0x2095c9;try{const _0x33efd9=localStorage[_0x37d166(0x150)](_0x37d166(0x116));if(_0x33efd9){const _0xe2af31=JSON[_0x37d166(0x1a4)](_0x33efd9);this[_0x37d166(0x160)]=_0xe2af31[_0x37d166(0x160)]||[],this[_0x37d166(0x191)]=_0xe2af31[_0x37d166(0x191)]||{},this['serverVer']=_0xe2af31[_0x37d166(0x13f)]||0x0;const _0x183352=localStorage[_0x37d166(0x150)]('ultima_cart_v1');if(_0x183352){const _0x3a5d1d=JSON[_0x37d166(0x1a4)](_0x183352);state['selected']=new Set(_0x3a5d1d),this[_0x37d166(0x140)](),state['initialSelected']=new Set(state[_0x37d166(0x142)]);}return!![];}}catch(_0x3927df){console['error'](_0x3927df);}return![];},async 'syncWithServer'(){const _0xbabb30=a7_0x2095c9;try{if(!API_URL['includes'](_0xbabb30(0x154))){console[_0xbabb30(0x156)](_0xbabb30(0x157)),hideLoader();return;}const _0x213753=await fetch(API_URL,{'method':_0xbabb30(0x16b),'headers':{'Content-Type':_0xbabb30(0x181)},'body':JSON['stringify']({'action':_0xbabb30(0xfc),'clientVer':this['serverVer'],'initData':TG_INIT_DATA})}),_0x277f7b=await _0x213753['json']();_0x277f7b['ok']&&_0x277f7b[_0xbabb30(0x1a0)]&&_0x277f7b[_0xbabb30(0x164)]&&this[_0xbabb30(0x18a)](_0x277f7b[_0xbabb30(0x164)],_0x277f7b[_0xbabb30(0x13f)]);if(_0x277f7b['ok']&&_0x277f7b[_0xbabb30(0x15e)])try{const _0x5cd726=JSON[_0xbabb30(0x1a4)](_0x277f7b['userSelection']);state[_0xbabb30(0x142)]=new Set(_0x5cd726),this[_0xbabb30(0x140)](),state['initialSelected']=new Set(state[_0xbabb30(0x142)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x222157){}hideLoader();}catch(_0x3e4a57){console[_0xbabb30(0x156)](_0xbabb30(0x129),_0x3e4a57),hideLoader();if(!DataService[_0xbabb30(0x160)][_0xbabb30(0x165)])alert(_0xbabb30(0x141));}},'processCatalog'(_0xa100cd,_0x46533e){const _0x55caee=a7_0x2095c9;this['categories']=_0xa100cd[_0x55caee(0x160)]['map'](_0x3b4ebb=>({'id':String(_0x3b4ebb['id']),'name':_0x3b4ebb[_0x55caee(0x13c)],'icon':_0x3b4ebb[_0x55caee(0x18d)]}));const _0x369460={};this[_0x55caee(0x160)][_0x55caee(0x190)](_0x40eb76=>_0x369460[_0x40eb76['id']]=[]),_0xa100cd[_0x55caee(0x14e)]&&Array[_0x55caee(0x135)](_0xa100cd[_0x55caee(0x14e)])&&_0xa100cd[_0x55caee(0x14e)][_0x55caee(0x190)](_0x3ddab0=>{const _0x143291=_0x55caee,_0x15edf6=String(_0x3ddab0[0x0]),_0x131216=String(_0x3ddab0[0x1]);if(!_0x369460[_0x131216])_0x369460[_0x131216]=[];_0x369460[_0x131216][_0x143291(0x134)]({'id':_0x15edf6,'name':_0x3ddab0[0x2],'meta':_0x3ddab0[0x3]});}),this['productsMap']=_0x369460,this[_0x55caee(0x13f)]=_0x46533e,localStorage[_0x55caee(0x19f)]('ultima_data_v2',JSON[_0x55caee(0x113)]({'categories':this[_0x55caee(0x160)],'productsMap':this[_0x55caee(0x191)],'serverVer':this['serverVer']})),this[_0x55caee(0x140)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x56f7a3=a7_0x2095c9;if(!state['selected']||state['selected'][_0x56f7a3(0x13e)]===0x0)return;const _0x4c1049=new Set();Object['values'](this[_0x56f7a3(0x191)])[_0x56f7a3(0x11f)]()[_0x56f7a3(0x190)](_0xfcca6a=>_0x4c1049[_0x56f7a3(0x127)](_0xfcca6a['id']));const _0x55f0ce=new Set();state[_0x56f7a3(0x142)]['forEach'](_0x1c6589=>{const _0x31d74c=_0x56f7a3;_0x4c1049[_0x31d74c(0x199)](_0x1c6589)&&_0x55f0ce[_0x31d74c(0x127)](_0x1c6589);}),_0x55f0ce[_0x56f7a3(0x13e)]!==state['selected'][_0x56f7a3(0x13e)]&&(console[_0x56f7a3(0x137)](_0x56f7a3(0x1a8)+(state[_0x56f7a3(0x142)]['size']-_0x55f0ce[_0x56f7a3(0x13e)])+'\x20zombie\x20products'),state[_0x56f7a3(0x142)]=_0x55f0ce,saveSelectionToCache());},'getProducts'(_0x146643){return this['productsMap'][_0x146643]||[];},'search'(_0x5efef5){const _0x472938=a7_0x2095c9,_0x14596a=[],_0x12bd94=_0x5efef5[_0x472938(0x105)]();return Object[_0x472938(0x1a5)](this[_0x472938(0x191)])[_0x472938(0x11f)]()[_0x472938(0x190)](_0x53bd5d=>{const _0x3524ea=_0x472938;if(_0x53bd5d[_0x3524ea(0x13c)][_0x3524ea(0x105)]()[_0x3524ea(0x16e)](_0x12bd94))_0x14596a[_0x3524ea(0x134)](_0x53bd5d);}),_0x14596a;},async 'saveSelectionToServer'(){const _0x439e84=a7_0x2095c9;this[_0x439e84(0x140)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON['stringify']({'action':_0x439e84(0x16c),'initData':TG_INIT_DATA,'selection':Array[_0x439e84(0x176)](state[_0x439e84(0x142)])})}),!![];}catch(_0x499b44){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x1cf75d=a7_0x2095c9;try{localStorage[_0x1cf75d(0x19f)](_0x1cf75d(0x15a),JSON[_0x1cf75d(0x113)](Array[_0x1cf75d(0x176)](state[_0x1cf75d(0x142)])));}catch(_0x2f3a91){}}const el={'catGrid':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x18e)),'productList':document[a7_0x2095c9(0x12a)]('productList'),'viewCats':document[a7_0x2095c9(0x12a)]('view-cats'),'viewList':document[a7_0x2095c9(0x12a)]('view-list'),'viewSearch':document['getElementById'](a7_0x2095c9(0x172)),'catTitle':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x180)),'btnSelectAll':document['getElementById'](a7_0x2095c9(0x130)),'searchInput':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x1ae)),'searchClear':document['getElementById'](a7_0x2095c9(0x158)),'searchResults':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x166)),'btnSearchCancel':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x122)),'btnSave':document['getElementById'](a7_0x2095c9(0x138)),'saveBtnText':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x14d)),'sentinel':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x104)),'loader':document[a7_0x2095c9(0x12a)](a7_0x2095c9(0x17a))};function hideLoader(){const _0x32ccc8=a7_0x2095c9;el[_0x32ccc8(0x10e)][_0x32ccc8(0x171)][_0x32ccc8(0x127)](_0x32ccc8(0x126));}function haptic(_0x306622=a7_0x2095c9(0x194)){const _0x28306f=a7_0x2095c9;try{const _0x703c07=window[_0x28306f(0x14c)]?.[_0x28306f(0x114)]?.[_0x28306f(0x100)];if(_0x703c07)_0x306622==='light'?_0x703c07[_0x28306f(0x1a3)](_0x28306f(0x194)):_0x306622==='medium'?_0x703c07[_0x28306f(0x1a3)](_0x28306f(0x11e)):_0x703c07[_0x28306f(0x19e)](_0x28306f(0x17e));}catch(_0x3365e0){}}const bump=_0x5f2bcf=>{const _0x4505a2=a7_0x2095c9;if(!_0x5f2bcf)return;_0x5f2bcf['classList']['remove'](_0x4505a2(0x12c)),void _0x5f2bcf[_0x4505a2(0x197)],_0x5f2bcf['classList'][_0x4505a2(0x127)](_0x4505a2(0x12c));};document['addEventListener'](a7_0x2095c9(0x10d),_0x1c4d6b=>{const _0x4a9349=a7_0x2095c9,_0x225be8=_0x1c4d6b['target'][_0x4a9349(0x17d)](_0x4a9349(0x118));if(!_0x225be8)return;haptic('light'),bump(_0x225be8);},{'passive':!![]});function isSelectionChanged(){const _0x44bc25=a7_0x2095c9;if(state['selected'][_0x44bc25(0x13e)]!==state[_0x44bc25(0x139)]['size'])return!![];for(let _0x436766 of state['selected']){if(!state['initialSelected'][_0x44bc25(0x199)](_0x436766))return!![];}return![];}function init(){const _0x28ef25=a7_0x2095c9;let _0x2f7ad8=window[_0x28ef25(0x17c)];const _0x12b775=document[_0x28ef25(0x15d)]('.fx-layer'),_0x74e165=()=>{const _0x54b898=_0x28ef25;_0x12b775[_0x54b898(0x17f)]['height']=window[_0x54b898(0x12f)]+'px',_0x2f7ad8=window[_0x54b898(0x17c)];};_0x74e165(),window[_0x28ef25(0x159)]('resize',()=>{if(window['innerWidth']!==_0x2f7ad8)_0x74e165();}),DataService['init'](),el[_0x28ef25(0x1ae)][_0x28ef25(0x159)](_0x28ef25(0x152),handleSearch),el[_0x28ef25(0x158)]['addEventListener'](_0x28ef25(0x187),clearSearch);if(tg)tg[_0x28ef25(0x19a)][_0x28ef25(0x11c)]();const _0x260a27=new IntersectionObserver(_0x3d4e35=>{const _0x44f6a8=_0x28ef25;if(_0x3d4e35[0x0][_0x44f6a8(0x186)])renderNextBatch();},{'rootMargin':_0x28ef25(0x124)});_0x260a27[_0x28ef25(0x173)](el[_0x28ef25(0x104)]);}function renderCategories(){const _0x3bea90=a7_0x2095c9;el[_0x3bea90(0x18e)][_0x3bea90(0x10f)]='',DataService['categories'][_0x3bea90(0x190)](_0x1fe045=>{const _0x4e4bc6=_0x3bea90,_0x3ae80b=DataService[_0x4e4bc6(0x1ac)](_0x1fe045['id']),_0x4759a7=_0x3ae80b[_0x4e4bc6(0x165)],_0x2938c4=_0x3ae80b[_0x4e4bc6(0x115)](_0x348295=>state[_0x4e4bc6(0x142)][_0x4e4bc6(0x199)](_0x348295['id']))[_0x4e4bc6(0x165)],_0x1adc9a=_0x4759a7>0x0?_0x2938c4/_0x4759a7*0x64:0x0,_0x594785=document[_0x4e4bc6(0x120)](_0x4e4bc6(0x1a1));_0x594785[_0x4e4bc6(0x1af)]='cat-card',_0x594785[_0x4e4bc6(0x14f)]=()=>openCategory(_0x1fe045['id']),_0x594785['innerHTML']=_0x4e4bc6(0x16f)+_0x1fe045[_0x4e4bc6(0x18d)]+_0x4e4bc6(0x101)+_0x1fe045[_0x4e4bc6(0x13c)]+_0x4e4bc6(0x1a9)+_0x2938c4+_0x4e4bc6(0xff)+_0x4759a7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20'+_0x1adc9a+_0x4e4bc6(0x198),el['catGrid'][_0x4e4bc6(0x102)](_0x594785);});}function openCategory(_0x24f7c9){const _0x33ec6d=a7_0x2095c9;state[_0x33ec6d(0xfe)]=_0x24f7c9;const _0xfccbb9=DataService['categories'][_0x33ec6d(0x174)](_0xfeac19=>_0xfeac19['id']===_0x24f7c9);el['catTitle'][_0x33ec6d(0x182)]=_0xfccbb9[_0x33ec6d(0x13c)],el[_0x33ec6d(0x183)][_0x33ec6d(0x17f)]['display']=_0x33ec6d(0x107);const _0x4f3222=DataService['getProducts'](_0x24f7c9);startInfiniteRender(_0x4f3222,el[_0x33ec6d(0x183)]),updateSelectAllBtn(),el[_0x33ec6d(0x167)][_0x33ec6d(0x171)]['add'](_0x33ec6d(0x10a)),el[_0x33ec6d(0x167)][_0x33ec6d(0x171)][_0x33ec6d(0x10b)](_0x33ec6d(0x12e)),el[_0x33ec6d(0x144)][_0x33ec6d(0x171)][_0x33ec6d(0x127)](_0x33ec6d(0x12e)),el[_0x33ec6d(0x144)][_0x33ec6d(0x171)][_0x33ec6d(0x10b)]('next'),updateSaveButton();if(tg)tg['BackButton'][_0x33ec6d(0x11c)]();}function goBack(){const _0xfffd77=a7_0x2095c9;state[_0xfffd77(0xfe)]=null,el['viewList'][_0xfffd77(0x171)][_0xfffd77(0x10b)](_0xfffd77(0x12e)),el[_0xfffd77(0x167)][_0xfffd77(0x171)][_0xfffd77(0x127)](_0xfffd77(0x12e)),el[_0xfffd77(0x167)][_0xfffd77(0x171)]['remove'](_0xfffd77(0x10a)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton']['show']();}function a7_0x250d(_0x4c15f7,_0x313e4c){_0x4c15f7=_0x4c15f7-0xfc;const _0x25f02b=a7_0x29a5();let _0x54fffb=_0x25f02b[_0x4c15f7];return _0x54fffb;}function startInfiniteRender(_0x859881,_0x1767ab,_0x2fb3f9=![]){const _0x46799d=a7_0x2095c9;_0x1767ab[_0x46799d(0x10f)]='',_0x1767ab[_0x46799d(0x17f)][_0x46799d(0x1a2)]='';if(_0x859881[_0x46799d(0x165)]===0x0&&_0x2fb3f9){_0x1767ab[_0x46799d(0x10f)]=_0x46799d(0x17b);return;}state[_0x46799d(0x175)]=_0x859881,state[_0x46799d(0x11d)]=0x0;let _0xc32ae8=_0x1767ab;if(_0x2fb3f9){const _0xe120cf=document[_0x46799d(0x120)]('div');_0xe120cf[_0x46799d(0x1af)]='product-list-container',_0xe120cf[_0x46799d(0x17f)][_0x46799d(0x133)]=_0x46799d(0x13b),_0xe120cf[_0x46799d(0x17f)]['border']=_0x46799d(0x121),_0xe120cf[_0x46799d(0x17f)][_0x46799d(0xfd)]=_0x46799d(0x121),_0x1767ab[_0x46799d(0x102)](_0xe120cf),_0xc32ae8=_0xe120cf;}state[_0x46799d(0x1aa)]=_0xc32ae8,renderNextBatch(_0x2fb3f9);}function renderNextBatch(_0xf348d2=![]){const _0xe286c8=a7_0x2095c9;if(state[_0xe286c8(0x11d)]>=state[_0xe286c8(0x175)]['length'])return;const _0x4c740f=state[_0xe286c8(0x175)][_0xe286c8(0x170)](state[_0xe286c8(0x11d)],state[_0xe286c8(0x11d)]+state[_0xe286c8(0x132)]),_0x35809c=document[_0xe286c8(0x18c)]();_0x4c740f[_0xe286c8(0x190)]((_0x4f03fd,_0x58c7f4)=>{const _0x48c4be=_0xe286c8,_0x50e66e=state['selected'][_0x48c4be(0x199)](_0x4f03fd['id']),_0x1066ce=document[_0x48c4be(0x120)](_0x48c4be(0x1a1));_0x1066ce['className']=_0x48c4be(0x163)+(_0x50e66e?_0x48c4be(0x142):''),_0x1066ce['addEventListener'](_0x48c4be(0x10d),()=>haptic(_0x48c4be(0x194)),{'passive':!![]}),_0x1066ce['onclick']=()=>toggleProduct(_0x4f03fd['id'],_0x1066ce),!_0xf348d2&&(_0x1066ce[_0x48c4be(0x17f)][_0x48c4be(0x193)]='0',_0x1066ce['style']['animation']=_0x48c4be(0x19d)+_0x58c7f4*0.02+'s',setTimeout(()=>{const _0x4477d1=_0x48c4be;_0x1066ce[_0x4477d1(0x17f)][_0x4477d1(0x193)]='1',_0x1066ce[_0x4477d1(0x17f)]['animation']='none',_0x1066ce['style'][_0x4477d1(0x179)]='none';},_0x58c7f4*0x14+0x12c)),_0x1066ce[_0x48c4be(0x10f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>'+_0x4f03fd[_0x48c4be(0x13c)]+_0x48c4be(0x19c)+_0x4f03fd['meta']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x35809c['appendChild'](_0x1066ce);}),state[_0xe286c8(0x1aa)][_0xe286c8(0x102)](_0x35809c),state['renderIndex']+=state[_0xe286c8(0x132)];}const styleSheet=document['createElement']('style');styleSheet[a7_0x2095c9(0x111)]=a7_0x2095c9(0x16a),document[a7_0x2095c9(0x168)]['appendChild'](styleSheet);function toggleProduct(_0x3a0ebf,_0x42f918){const _0x1b3597=a7_0x2095c9;state[_0x1b3597(0x142)][_0x1b3597(0x199)](_0x3a0ebf)?(state[_0x1b3597(0x142)][_0x1b3597(0x1ad)](_0x3a0ebf),_0x42f918[_0x1b3597(0x171)]['remove'](_0x1b3597(0x142))):(state[_0x1b3597(0x142)][_0x1b3597(0x127)](_0x3a0ebf),_0x42f918[_0x1b3597(0x171)]['add'](_0x1b3597(0x142)));state[_0x1b3597(0x10c)]&&el[_0x1b3597(0x122)]&&(el[_0x1b3597(0x122)][_0x1b3597(0x182)]=state[_0x1b3597(0x142)]['size']>0x0?_0x1b3597(0x108):'–û—Ç–º–µ–Ω–∞',el['btnSearchCancel'][_0x1b3597(0x17f)][_0x1b3597(0x192)]=state[_0x1b3597(0x142)][_0x1b3597(0x13e)]>0x0?_0x1b3597(0x18f):_0x1b3597(0x147));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x1b3597(0x10c)])updateSelectAllBtn();}function a7_0x29a5(){const _0x222e2a=['transparent','name','display','size','serverVer','cleanupZombieProducts','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','selected','519169dpqBZm','viewList','trim','saveSelectionToServer','500','19491470mqFdZz','onClick','setBackgroundColor','ready','Telegram','saveBtnText','products','onclick','getItem','–û—Ç–º–µ–Ω–∞','input','viewSearch','script.google.com','3650206vcPvCG','warn','No\x20API\x20URL','searchClear','addEventListener','ultima_cart_v1','search-active','initData','querySelector','userSelection','pointerEvents','categories','9aYGAKb','–û—à–∏–±–∫–∞!','product-row\x20','catalog','length','searchResults','viewCats','head','auto','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','POST','save','router.html','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','slice','classList','view-search','observe','find','renderQueue','from','867378QuvAwO','body','transform','appLoader','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','innerWidth','closest','success','style','catTitle','text/plain;charset=utf-8','textContent','productList','3365811hlMxcH','Color/Swipe\x20settings\x20error:','isIntersecting','click','apply','expand','processCatalog','–ì–æ—Ç–æ–≤–æ!','createDocumentFragment','icon','catGrid','600','forEach','productsMap','fontWeight','opacity','light','7770NXToNy','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','offsetWidth','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','has','BackButton','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','fadeInUp\x200.2s\x20ease\x20forwards\x20','notificationOccurred','setItem','needUpdate','div','cssText','impactOccurred','parse','values','visible','setHeaderColor','üßπ\x20Removed\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','currentContainer','target','getProducts','delete','searchInput','className','init','boxShadow','activeCatId','\x20–∏–∑\x20','HapticFeedback','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','appendChild','syncWithServer','sentinel','toLowerCase','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','flex','–í—ã–±—Ä–∞—Ç—å','search','prev','remove','searchMode','touchstart','loader','innerHTML','(((.+)+)+)+$','innerText','every','stringify','WebApp','filter','ultima_data_v2','toString','.cat-card,\x20.btn-save','–í—ã–±—Ä–∞—Ç—å\x20(','value','4tWmuVE','show','renderIndex','medium','flat','createElement','none','btnSearchCancel','–°–Ω—è—Ç—å\x20–≤—Å—ë','200px','–ù–∞–∑–∞–¥','hidden','add','91584iqbdsO','Sync\x20skipped:','getElementById','disableVerticalSwipes','bump','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','active','innerHeight','btnSelectAll','block','BATCH_SIZE','background','push','isArray','2715vMaSzv','log','btnSave','initialSelected','offClick'];a7_0x29a5=function(){return _0x222e2a;};return a7_0x29a5();}function updateSaveButton(){const _0x317e52=a7_0x2095c9;let _0x24f6e1='';if(state['activeCatId']){const _0x12a030=DataService[_0x317e52(0x1ac)](state['activeCatId']),_0x2158be=_0x12a030['filter'](_0xe30429=>state['selected'][_0x317e52(0x199)](_0xe30429['id']))[_0x317e52(0x165)];_0x24f6e1=_0x2158be>0x0?_0x317e52(0x119)+_0x2158be+')':_0x317e52(0x125),el['btnSave'][_0x317e52(0x171)][_0x317e52(0x127)](_0x317e52(0x1a6)),el[_0x317e52(0x14d)][_0x317e52(0x182)]=_0x24f6e1;return;}const _0x49729d=state['selected'][_0x317e52(0x13e)];_0x24f6e1=_0x317e52(0x12d)+_0x49729d+')',el[_0x317e52(0x14d)][_0x317e52(0x182)]=_0x24f6e1,isSelectionChanged()?el[_0x317e52(0x138)][_0x317e52(0x171)]['add'](_0x317e52(0x1a6)):el[_0x317e52(0x138)]['classList']['remove']('visible');}function updateSelectAllBtn(){const _0x1ac5eb=a7_0x2095c9;if(!state[_0x1ac5eb(0xfe)])return;const _0x2dfefc=DataService[_0x1ac5eb(0x1ac)](state[_0x1ac5eb(0xfe)]),_0x5b7c1d=_0x2dfefc[_0x1ac5eb(0x165)]>0x0&&_0x2dfefc[_0x1ac5eb(0x112)](_0x2b4236=>state[_0x1ac5eb(0x142)]['has'](_0x2b4236['id']));el[_0x1ac5eb(0x130)][_0x1ac5eb(0x182)]=_0x5b7c1d?_0x1ac5eb(0x123):_0x1ac5eb(0x106),el[_0x1ac5eb(0x130)][_0x1ac5eb(0x14f)]=()=>toggleAllInCategory(_0x2dfefc,!_0x5b7c1d);}function toggleAllInCategory(_0x46c63a,_0x13e3da){const _0x58598b=a7_0x2095c9;haptic(_0x58598b(0x11e)),_0x46c63a['forEach'](_0x2a03d1=>{const _0x4eec01=_0x58598b;if(_0x13e3da)state[_0x4eec01(0x142)][_0x4eec01(0x127)](_0x2a03d1['id']);else state[_0x4eec01(0x142)][_0x4eec01(0x1ad)](_0x2a03d1['id']);}),saveSelectionToCache(),startInfiniteRender(_0x46c63a,el['productList']),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x5159a4){const _0x30f83f=a7_0x2095c9,_0x45ce02=_0x5159a4[_0x30f83f(0x1ab)][_0x30f83f(0x11a)][_0x30f83f(0x105)]()[_0x30f83f(0x145)]();if(_0x45ce02[_0x30f83f(0x165)]>0x0){if(!state[_0x30f83f(0x10c)])enterSearchMode();const _0x1ee7d5=DataService[_0x30f83f(0x109)](_0x45ce02);el['searchResults'][_0x30f83f(0x17f)][_0x30f83f(0x13d)]=_0x30f83f(0x131),startInfiniteRender(_0x1ee7d5,el[_0x30f83f(0x166)],!![]);}else el[_0x30f83f(0x166)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x30dc2e=a7_0x2095c9;haptic('medium');if(state['activeCatId']&&!state[_0x30dc2e(0x10c)]){goBack();return;}const _0x5d6c5d=el['saveBtnText'][_0x30dc2e(0x182)];el[_0x30dc2e(0x14d)][_0x30dc2e(0x182)]=_0x30dc2e(0x196),el[_0x30dc2e(0x138)][_0x30dc2e(0x17f)][_0x30dc2e(0x15f)]='none';const _0x30dd03=await DataService[_0x30dc2e(0x146)]();_0x30dd03?(el['saveBtnText'][_0x30dc2e(0x182)]=_0x30dc2e(0x18b),state[_0x30dc2e(0x139)]=new Set(state['selected']),setTimeout(()=>{const _0x20653a=_0x30dc2e;el[_0x20653a(0x138)][_0x20653a(0x17f)]['pointerEvents']=_0x20653a(0x169),el[_0x20653a(0x14d)]['textContent']=_0x5d6c5d,updateSaveButton();if(state[_0x20653a(0x10c)])exitSearchMode();},0x320)):(el[_0x30dc2e(0x14d)][_0x30dc2e(0x182)]=_0x30dc2e(0x162),setTimeout(()=>{const _0x1a070e=_0x30dc2e;el['btnSave'][_0x1a070e(0x17f)][_0x1a070e(0x15f)]=_0x1a070e(0x169),el[_0x1a070e(0x14d)][_0x1a070e(0x182)]=_0x5d6c5d;},0x7d0));}function enterSearchMode(){const _0x22aeac=a7_0x2095c9;state[_0x22aeac(0x10c)]=!![];el['btnSearchCancel']&&(el[_0x22aeac(0x122)][_0x22aeac(0x182)]=_0x22aeac(0x151),el['btnSearchCancel'][_0x22aeac(0x17f)]['fontWeight']='500');document[_0x22aeac(0x178)][_0x22aeac(0x171)][_0x22aeac(0x127)]('search-active'),el[_0x22aeac(0x167)][_0x22aeac(0x171)][_0x22aeac(0x10b)]('active'),el[_0x22aeac(0x144)][_0x22aeac(0x171)]['remove'](_0x22aeac(0x12e)),el['viewSearch'][_0x22aeac(0x171)][_0x22aeac(0x127)](_0x22aeac(0x12e));if(tg)tg[_0x22aeac(0x19a)]['show']();}function exitSearchMode(){const _0xf3965d=a7_0x2095c9;state[_0xf3965d(0x10c)]=![],document['body']['classList'][_0xf3965d(0x10b)](_0xf3965d(0x15b)),el[_0xf3965d(0x1ae)]['blur'](),el[_0xf3965d(0x153)][_0xf3965d(0x171)]['remove'](_0xf3965d(0x12e)),el['searchResults'][_0xf3965d(0x17f)]['display']='none',el[_0xf3965d(0x1ae)]['value']='';if(state[_0xf3965d(0xfe)])el[_0xf3965d(0x144)][_0xf3965d(0x171)][_0xf3965d(0x127)](_0xf3965d(0x12e));else el[_0xf3965d(0x167)][_0xf3965d(0x171)]['add'](_0xf3965d(0x12e)),renderCategories();updateSaveButton();}init();