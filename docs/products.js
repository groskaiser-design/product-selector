const a7_0x4f260e=a7_0x2033;(function(_0x3c9cff,_0x216f49){const _0x38aa58=a7_0x2033,_0x2efde8=_0x3c9cff();while(!![]){try{const _0x4e0446=parseInt(_0x38aa58(0x145))/0x1*(-parseInt(_0x38aa58(0x1bb))/0x2)+parseInt(_0x38aa58(0x18b))/0x3*(parseInt(_0x38aa58(0x1a4))/0x4)+parseInt(_0x38aa58(0x16c))/0x5+-parseInt(_0x38aa58(0x1ae))/0x6+-parseInt(_0x38aa58(0x143))/0x7*(-parseInt(_0x38aa58(0x19b))/0x8)+parseInt(_0x38aa58(0x14e))/0x9*(-parseInt(_0x38aa58(0x1c3))/0xa)+parseInt(_0x38aa58(0x1d2))/0xb*(parseInt(_0x38aa58(0x1d4))/0xc);if(_0x4e0446===_0x216f49)break;else _0x2efde8['push'](_0x2efde8['shift']());}catch(_0x5a82b0){_0x2efde8['push'](_0x2efde8['shift']());}}}(a7_0x5e1b,0xa42a4));const a7_0x3bd9df=(function(){let _0xf2fd4b=!![];return function(_0x5bff04,_0x4112cc){const _0x2a66ff=_0xf2fd4b?function(){const _0x326546=a7_0x2033;if(_0x4112cc){const _0x199ccb=_0x4112cc[_0x326546(0x1c6)](_0x5bff04,arguments);return _0x4112cc=null,_0x199ccb;}}:function(){};return _0xf2fd4b=![],_0x2a66ff;};}()),a7_0x2a357d=a7_0x3bd9df(this,function(){const _0x851fb7=a7_0x2033;return a7_0x2a357d['toString']()[_0x851fb7(0x1b3)](_0x851fb7(0x168))[_0x851fb7(0x144)]()[_0x851fb7(0x1aa)](a7_0x2a357d)[_0x851fb7(0x1b3)](_0x851fb7(0x168));});a7_0x2a357d();const API_URL=a7_0x4f260e(0x19e),tg=window['Telegram']?.[a7_0x4f260e(0x149)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x4f260e(0x174)](),tg[a7_0x4f260e(0x16b)]();try{tg[a7_0x4f260e(0x1bd)](a7_0x4f260e(0x19c));if(tg[a7_0x4f260e(0x185)])tg[a7_0x4f260e(0x185)]('#050505');if(tg[a7_0x4f260e(0x14a)])tg[a7_0x4f260e(0x14a)]();}catch(a7_0x574664){console[a7_0x4f260e(0x18e)](a7_0x4f260e(0x1a1),a7_0x574664);}tg[a7_0x4f260e(0x1f2)]&&(tg[a7_0x4f260e(0x1f2)][a7_0x4f260e(0x1b8)](),tg[a7_0x4f260e(0x1f2)][a7_0x4f260e(0x156)](),tg['BackButton'][a7_0x4f260e(0x147)](()=>{const _0x910203=a7_0x4f260e;if(state['searchMode'])exitSearchMode();else state[_0x910203(0x158)]?goBack():window[_0x910203(0x1e1)][_0x910203(0x1da)]=_0x910203(0x1d0);}));}catch(a7_0x15b5e1){console[a7_0x4f260e(0x165)](a7_0x4f260e(0x15d),a7_0x15b5e1);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x202870=this['loadFromCache']();_0x202870&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x44fefc=a7_0x4f260e;try{const _0x181b4e=localStorage[_0x44fefc(0x169)](_0x44fefc(0x1ac));if(_0x181b4e){const _0x43274d=JSON[_0x44fefc(0x194)](_0x181b4e);this[_0x44fefc(0x1a7)]=_0x43274d['categories']||[],this[_0x44fefc(0x15e)]=_0x43274d[_0x44fefc(0x15e)]||{},this['serverVer']=_0x43274d[_0x44fefc(0x1eb)]||0x0;const _0x214ac7=localStorage[_0x44fefc(0x169)](_0x44fefc(0x1b2));if(_0x214ac7){const _0x53b3a6=JSON['parse'](_0x214ac7);state[_0x44fefc(0x191)]=new Set(_0x53b3a6),this[_0x44fefc(0x17c)](),state[_0x44fefc(0x1b9)]=new Set(state['selected']);}return!![];}}catch(_0x126ab3){console['error'](_0x126ab3);}return![];},async 'syncWithServer'(){const _0x236909=a7_0x4f260e;try{if(!API_URL[_0x236909(0x17b)](_0x236909(0x1ab))){console[_0x236909(0x18e)](_0x236909(0x193)),hideLoader();return;}const _0x1ac5b6=await fetch(API_URL,{'method':_0x236909(0x172),'headers':{'Content-Type':_0x236909(0x154)},'body':JSON['stringify']({'action':_0x236909(0x177),'clientVer':this[_0x236909(0x1eb)],'initData':TG_INIT_DATA})}),_0x57c230=await _0x1ac5b6[_0x236909(0x160)]();_0x57c230['ok']&&_0x57c230['needUpdate']&&_0x57c230[_0x236909(0x170)]&&this[_0x236909(0x19f)](_0x57c230[_0x236909(0x170)],_0x57c230[_0x236909(0x1eb)]);if(_0x57c230['ok']&&_0x57c230[_0x236909(0x181)])try{const _0x1a4e0a=JSON[_0x236909(0x194)](_0x57c230[_0x236909(0x181)]);state[_0x236909(0x191)]=new Set(_0x1a4e0a),this[_0x236909(0x17c)](),state[_0x236909(0x1b9)]=new Set(state['selected']),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x2b369c){}hideLoader();}catch(_0x59a636){console[_0x236909(0x18e)](_0x236909(0x1c8),_0x59a636),hideLoader();if(!DataService[_0x236909(0x1a7)][_0x236909(0x1b5)])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x35859e,_0x541144){const _0x45f936=a7_0x4f260e;this['categories']=_0x35859e[_0x45f936(0x1a7)][_0x45f936(0x1c0)](_0x7d1b62=>({'id':String(_0x7d1b62['id']),'name':_0x7d1b62[_0x45f936(0x1e0)],'icon':_0x7d1b62[_0x45f936(0x1c9)]}));const _0x3d46d1={};this['categories']['forEach'](_0x160549=>_0x3d46d1[_0x160549['id']]=[]),_0x35859e[_0x45f936(0x199)]&&Array[_0x45f936(0x184)](_0x35859e[_0x45f936(0x199)])&&_0x35859e['products'][_0x45f936(0x1ce)](_0x6ee2cb=>{const _0xa610ad=_0x45f936,_0x277399=String(_0x6ee2cb[0x0]),_0xe42026=String(_0x6ee2cb[0x1]);if(!_0x3d46d1[_0xe42026])_0x3d46d1[_0xe42026]=[];_0x3d46d1[_0xe42026][_0xa610ad(0x1b6)]({'id':_0x277399,'name':_0x6ee2cb[0x2],'meta':_0x6ee2cb[0x3]});}),this['productsMap']=_0x3d46d1,this[_0x45f936(0x1eb)]=_0x541144,localStorage[_0x45f936(0x14d)](_0x45f936(0x1ac),JSON[_0x45f936(0x178)]({'categories':this[_0x45f936(0x1a7)],'productsMap':this[_0x45f936(0x15e)],'serverVer':this[_0x45f936(0x1eb)]})),this[_0x45f936(0x17c)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x3e5311=a7_0x4f260e;if(!state[_0x3e5311(0x191)]||state[_0x3e5311(0x191)][_0x3e5311(0x1ea)]===0x0)return;const _0x46c995=new Set();Object[_0x3e5311(0x157)](this[_0x3e5311(0x15e)])[_0x3e5311(0x16d)]()[_0x3e5311(0x1ce)](_0x137f7e=>_0x46c995[_0x3e5311(0x17f)](_0x137f7e['id']));const _0x37eb3b=new Set();state[_0x3e5311(0x191)][_0x3e5311(0x1ce)](_0x308dbf=>{const _0x2bc953=_0x3e5311;_0x46c995[_0x2bc953(0x1a5)](_0x308dbf)&&_0x37eb3b[_0x2bc953(0x17f)](_0x308dbf);}),_0x37eb3b['size']!==state[_0x3e5311(0x191)][_0x3e5311(0x1ea)]&&(console[_0x3e5311(0x19a)]('üßπ\x20Removed\x20'+(state[_0x3e5311(0x191)]['size']-_0x37eb3b[_0x3e5311(0x1ea)])+_0x3e5311(0x1b4)),state[_0x3e5311(0x191)]=_0x37eb3b,saveSelectionToCache());},'getProducts'(_0x35fe50){const _0xf43dc0=a7_0x4f260e;return this[_0xf43dc0(0x15e)][_0x35fe50]||[];},'search'(_0x5c4214){const _0x21ec59=a7_0x4f260e,_0x10b366=[],_0x8f4455=_0x5c4214[_0x21ec59(0x1cb)]();return Object[_0x21ec59(0x157)](this[_0x21ec59(0x15e)])[_0x21ec59(0x16d)]()[_0x21ec59(0x1ce)](_0x254a37=>{const _0x9ce21c=_0x21ec59;if(_0x254a37[_0x9ce21c(0x1e0)][_0x9ce21c(0x1cb)]()['includes'](_0x8f4455))_0x10b366[_0x9ce21c(0x1b6)](_0x254a37);}),_0x10b366;},async 'saveSelectionToServer'(){const _0x49041c=a7_0x4f260e;this[_0x49041c(0x17c)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x49041c(0x172),'headers':{'Content-Type':_0x49041c(0x154)},'body':JSON['stringify']({'action':_0x49041c(0x15f),'initData':TG_INIT_DATA,'selection':Array[_0x49041c(0x142)](state[_0x49041c(0x191)])})}),!![];}catch(_0x4aa0d3){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function a7_0x5e1b(){const _0x47b4a2=['</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','categories','value','hidden','constructor','script.google.com','ultima_data_v2','saveBtnText','4961466uPQjYQ','filter','meta','impactOccurred','ultima_cart_v1','search','\x20zombie\x20products','length','push','searchInput','show','initialSelected','500','2EVQbvZ','renderIndex','setHeaderColor','appendChild','onclick','map','innerText','–ì–æ—Ç–æ–≤–æ!','1622710ZnsReO','active','searchMode','apply','innerHTML','Sync\x20skipped:','icon','body','toLowerCase','blur','target','forEach','getElementById','router.html','appLoader','638OTZirY','className','180480nsMHmk','product-row\x20','productList','viewSearch','innerWidth','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','href','notificationOccurred','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','catTitle','transform','sentinel','name','location','classList','border','next','–û—à–∏–±–∫–∞!','display','trim','remove','height','size','serverVer','searchResults','medium','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','boxShadow','BATCH_SIZE','touchstart','BackButton','style','product-list-container','addEventListener','viewList','from','28bIXcxu','toString','1333567DbHCuQ','background','onClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','WebApp','disableVerticalSwipes','click','cat-card','setItem','63CCxgSg','textContent','–°–Ω—è—Ç—å\x20–≤—Å—ë','prev','600','visible','text/plain;charset=utf-8','getProducts','offClick','values','activeCatId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','light','.fx-layer','.cat-card,\x20.btn-save','Critical\x20TMA\x20Error:','productsMap','save','json','transparent','createDocumentFragment','searchClear','fontWeight','error','innerHeight','currentContainer','(((.+)+)+)+$','getItem','view-cats','expand','6008975ROLuUP','flat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','pointerEvents','catalog','div','POST','bump','ready','delete','closest','init','stringify','resize','every','includes','cleanupZombieProducts','isIntersecting','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','add','querySelector','userSelection','catGrid','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','isArray','setBackgroundColor','–û—Ç–º–µ–Ω–∞','flex','opacity','search-active','btnSave','3HTLSEp','animation','viewCats','warn','block','createElement','selected','loader','No\x20API\x20URL','parse','auto','fadeInUp\x200.2s\x20ease\x20forwards\x20','observe','btnSelectAll','products','log','2023768sBCYVt','#050505','renderQueue','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','processCatalog','none','Color/Swipe\x20settings\x20error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','btnSearchCancel','3531184RvWCrH','has'];a7_0x5e1b=function(){return _0x47b4a2;};return a7_0x5e1b();}function saveSelectionToCache(){const _0x52127e=a7_0x4f260e;try{localStorage[_0x52127e(0x14d)](_0x52127e(0x1b2),JSON[_0x52127e(0x178)](Array[_0x52127e(0x142)](state['selected'])));}catch(_0x2b6b8e){}}const el={'catGrid':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x182)),'productList':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x1d6)),'viewCats':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x16a)),'viewList':document[a7_0x4f260e(0x1cf)]('view-list'),'viewSearch':document[a7_0x4f260e(0x1cf)]('view-search'),'catTitle':document[a7_0x4f260e(0x1cf)]('catTitle'),'btnSelectAll':document['getElementById'](a7_0x4f260e(0x198)),'searchInput':document['getElementById'](a7_0x4f260e(0x1b7)),'searchClear':document['getElementById']('searchClear'),'searchResults':document['getElementById']('searchResults'),'btnSearchCancel':document[a7_0x4f260e(0x1cf)]('btnSearchCancel'),'btnSave':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x18a)),'saveBtnText':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x1ad)),'sentinel':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x1df)),'loader':document[a7_0x4f260e(0x1cf)](a7_0x4f260e(0x1d1))};function hideLoader(){const _0x20d41c=a7_0x4f260e;el[_0x20d41c(0x192)]['classList'][_0x20d41c(0x17f)](_0x20d41c(0x1a9));}function haptic(_0x16c2fd='light'){const _0x4b6dbe=a7_0x4f260e;try{const _0x37485b=window['Telegram']?.['WebApp']?.['HapticFeedback'];if(_0x37485b)_0x16c2fd===_0x4b6dbe(0x15a)?_0x37485b[_0x4b6dbe(0x1b1)](_0x4b6dbe(0x15a)):_0x16c2fd==='medium'?_0x37485b['impactOccurred'](_0x4b6dbe(0x1ed)):_0x37485b[_0x4b6dbe(0x1db)]('success');}catch(_0x4be096){}}const bump=_0xeb243a=>{const _0x5112bc=a7_0x4f260e;if(!_0xeb243a)return;_0xeb243a[_0x5112bc(0x1e2)][_0x5112bc(0x1e8)]('bump'),void _0xeb243a['offsetWidth'],_0xeb243a[_0x5112bc(0x1e2)][_0x5112bc(0x17f)](_0x5112bc(0x173));};document[a7_0x4f260e(0x140)](a7_0x4f260e(0x1f1),_0x5ab5be=>{const _0x1dfb0b=a7_0x4f260e,_0x58af47=_0x5ab5be[_0x1dfb0b(0x1cd)][_0x1dfb0b(0x176)](_0x1dfb0b(0x15c));if(!_0x58af47)return;haptic('light'),bump(_0x58af47);},{'passive':!![]});function a7_0x2033(_0x12f16d,_0x5f123e){_0x12f16d=_0x12f16d-0x13e;const _0x1370a9=a7_0x5e1b();let _0x2a357d=_0x1370a9[_0x12f16d];return _0x2a357d;}function isSelectionChanged(){const _0x1a37b2=a7_0x4f260e;if(state[_0x1a37b2(0x191)][_0x1a37b2(0x1ea)]!==state['initialSelected'][_0x1a37b2(0x1ea)])return!![];for(let _0x36f415 of state[_0x1a37b2(0x191)]){if(!state[_0x1a37b2(0x1b9)][_0x1a37b2(0x1a5)](_0x36f415))return!![];}return![];}function init(){const _0x1aa3ad=a7_0x4f260e;let _0xaac7b9=window[_0x1aa3ad(0x1d8)];const _0xf9ac8c=document[_0x1aa3ad(0x180)](_0x1aa3ad(0x15b)),_0x4d1616=()=>{const _0x3a7be5=_0x1aa3ad;_0xf9ac8c[_0x3a7be5(0x13e)][_0x3a7be5(0x1e9)]=window[_0x3a7be5(0x166)]+'px',_0xaac7b9=window[_0x3a7be5(0x1d8)];};_0x4d1616(),window['addEventListener'](_0x1aa3ad(0x179),()=>{const _0x1281ac=_0x1aa3ad;if(window[_0x1281ac(0x1d8)]!==_0xaac7b9)_0x4d1616();}),DataService[_0x1aa3ad(0x177)](),el[_0x1aa3ad(0x1b7)][_0x1aa3ad(0x140)]('input',handleSearch),el[_0x1aa3ad(0x163)][_0x1aa3ad(0x140)](_0x1aa3ad(0x14b),clearSearch);if(tg)tg[_0x1aa3ad(0x1f2)][_0x1aa3ad(0x1b8)]();const _0x2e1cae=new IntersectionObserver(_0x41c4c7=>{const _0x1f8d05=_0x1aa3ad;if(_0x41c4c7[0x0][_0x1f8d05(0x17d)])renderNextBatch();},{'rootMargin':'200px'});_0x2e1cae[_0x1aa3ad(0x197)](el[_0x1aa3ad(0x1df)]);}function renderCategories(){const _0x48384a=a7_0x4f260e;el[_0x48384a(0x182)][_0x48384a(0x1c7)]='',DataService[_0x48384a(0x1a7)][_0x48384a(0x1ce)](_0x397533=>{const _0x12315f=_0x48384a,_0x2c022c=DataService['getProducts'](_0x397533['id']),_0x3bc3c8=_0x2c022c['length'],_0x3b7de0=_0x2c022c[_0x12315f(0x1af)](_0x348d78=>state[_0x12315f(0x191)][_0x12315f(0x1a5)](_0x348d78['id']))[_0x12315f(0x1b5)],_0x37004f=_0x3bc3c8>0x0?_0x3b7de0/_0x3bc3c8*0x64:0x0,_0x5aa623=document[_0x12315f(0x190)]('div');_0x5aa623['className']=_0x12315f(0x14c),_0x5aa623['onclick']=()=>openCategory(_0x397533['id']),_0x5aa623['innerHTML']=_0x12315f(0x16e)+_0x397533[_0x12315f(0x1c9)]+_0x12315f(0x17e)+_0x397533[_0x12315f(0x1e0)]+_0x12315f(0x1dc)+_0x3b7de0+'\x20–∏–∑\x20'+_0x3bc3c8+_0x12315f(0x1a2)+_0x37004f+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el[_0x12315f(0x182)][_0x12315f(0x1be)](_0x5aa623);});}function openCategory(_0x704a7a){const _0x484ed3=a7_0x4f260e;state[_0x484ed3(0x158)]=_0x704a7a;const _0x3497ca=DataService['categories']['find'](_0xeff396=>_0xeff396['id']===_0x704a7a);el[_0x484ed3(0x1dd)][_0x484ed3(0x14f)]=_0x3497ca[_0x484ed3(0x1e0)],el[_0x484ed3(0x1d6)][_0x484ed3(0x13e)]['display']=_0x484ed3(0x187);const _0x21bee4=DataService[_0x484ed3(0x155)](_0x704a7a);startInfiniteRender(_0x21bee4,el[_0x484ed3(0x1d6)]),updateSelectAllBtn(),el['viewCats'][_0x484ed3(0x1e2)][_0x484ed3(0x17f)](_0x484ed3(0x151)),el['viewCats'][_0x484ed3(0x1e2)][_0x484ed3(0x1e8)](_0x484ed3(0x1c4)),el['viewList'][_0x484ed3(0x1e2)]['add'](_0x484ed3(0x1c4)),el['viewList'][_0x484ed3(0x1e2)][_0x484ed3(0x1e8)](_0x484ed3(0x1e4)),updateSaveButton();if(tg)tg[_0x484ed3(0x1f2)][_0x484ed3(0x1b8)]();}function goBack(){const _0x1acf33=a7_0x4f260e;state['activeCatId']=null,el[_0x1acf33(0x141)][_0x1acf33(0x1e2)][_0x1acf33(0x1e8)](_0x1acf33(0x1c4)),el[_0x1acf33(0x18d)][_0x1acf33(0x1e2)][_0x1acf33(0x17f)]('active'),el[_0x1acf33(0x18d)][_0x1acf33(0x1e2)]['remove'](_0x1acf33(0x151)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x1acf33(0x1f2)][_0x1acf33(0x1b8)]();}function startInfiniteRender(_0x1efbf3,_0x2e0087,_0x5f167b=![]){const _0x2ac5fb=a7_0x4f260e;_0x2e0087['innerHTML']='',_0x2e0087[_0x2ac5fb(0x13e)]['cssText']='';if(_0x1efbf3[_0x2ac5fb(0x1b5)]===0x0&&_0x5f167b){_0x2e0087['innerHTML']=_0x2ac5fb(0x1ee);return;}state[_0x2ac5fb(0x19d)]=_0x1efbf3,state[_0x2ac5fb(0x1bc)]=0x0;let _0x29614e=_0x2e0087;if(_0x5f167b){const _0x148424=document[_0x2ac5fb(0x190)]('div');_0x148424[_0x2ac5fb(0x1d3)]=_0x2ac5fb(0x13f),_0x148424[_0x2ac5fb(0x13e)][_0x2ac5fb(0x146)]=_0x2ac5fb(0x161),_0x148424[_0x2ac5fb(0x13e)][_0x2ac5fb(0x1e3)]='none',_0x148424[_0x2ac5fb(0x13e)][_0x2ac5fb(0x1ef)]=_0x2ac5fb(0x1a0),_0x2e0087[_0x2ac5fb(0x1be)](_0x148424),_0x29614e=_0x148424;}state[_0x2ac5fb(0x167)]=_0x29614e,renderNextBatch(_0x5f167b);}function renderNextBatch(_0x58a1a8=![]){const _0x652d65=a7_0x4f260e;if(state[_0x652d65(0x1bc)]>=state['renderQueue'][_0x652d65(0x1b5)])return;const _0x5e6b7c=state['renderQueue']['slice'](state['renderIndex'],state[_0x652d65(0x1bc)]+state[_0x652d65(0x1f0)]),_0x3fc609=document[_0x652d65(0x162)]();_0x5e6b7c['forEach']((_0x5f3406,_0x6aa893)=>{const _0x5eb5f4=_0x652d65,_0x390b93=state[_0x5eb5f4(0x191)][_0x5eb5f4(0x1a5)](_0x5f3406['id']),_0x5b74ad=document[_0x5eb5f4(0x190)](_0x5eb5f4(0x171));_0x5b74ad[_0x5eb5f4(0x1d3)]=_0x5eb5f4(0x1d5)+(_0x390b93?_0x5eb5f4(0x191):''),_0x5b74ad[_0x5eb5f4(0x140)](_0x5eb5f4(0x1f1),()=>haptic(_0x5eb5f4(0x15a)),{'passive':!![]}),_0x5b74ad['onclick']=()=>toggleProduct(_0x5f3406['id'],_0x5b74ad),!_0x58a1a8&&(_0x5b74ad[_0x5eb5f4(0x13e)][_0x5eb5f4(0x188)]='0',_0x5b74ad[_0x5eb5f4(0x13e)][_0x5eb5f4(0x18c)]=_0x5eb5f4(0x196)+_0x6aa893*0.02+'s',setTimeout(()=>{const _0x549b85=_0x5eb5f4;_0x5b74ad['style']['opacity']='1',_0x5b74ad['style']['animation']='none',_0x5b74ad[_0x549b85(0x13e)][_0x549b85(0x1de)]=_0x549b85(0x1a0);},_0x6aa893*0x14+0x12c)),_0x5b74ad[_0x5eb5f4(0x1c7)]=_0x5eb5f4(0x148)+_0x5f3406[_0x5eb5f4(0x1e0)]+_0x5eb5f4(0x1a6)+_0x5f3406[_0x5eb5f4(0x1b0)]+_0x5eb5f4(0x159),_0x3fc609[_0x5eb5f4(0x1be)](_0x5b74ad);}),state[_0x652d65(0x167)][_0x652d65(0x1be)](_0x3fc609),state['renderIndex']+=state[_0x652d65(0x1f0)];}const styleSheet=document['createElement'](a7_0x4f260e(0x13e));styleSheet[a7_0x4f260e(0x1c1)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document['head'][a7_0x4f260e(0x1be)](styleSheet);function toggleProduct(_0xe3725b,_0x1b1518){const _0x3a7909=a7_0x4f260e;state[_0x3a7909(0x191)][_0x3a7909(0x1a5)](_0xe3725b)?(state[_0x3a7909(0x191)][_0x3a7909(0x175)](_0xe3725b),_0x1b1518[_0x3a7909(0x1e2)][_0x3a7909(0x1e8)](_0x3a7909(0x191))):(state[_0x3a7909(0x191)][_0x3a7909(0x17f)](_0xe3725b),_0x1b1518[_0x3a7909(0x1e2)]['add']('selected'));state[_0x3a7909(0x1c5)]&&el[_0x3a7909(0x1a3)]&&(el[_0x3a7909(0x1a3)]['textContent']=state[_0x3a7909(0x191)][_0x3a7909(0x1ea)]>0x0?'–í—ã–±—Ä–∞—Ç—å':_0x3a7909(0x186),el[_0x3a7909(0x1a3)]['style'][_0x3a7909(0x164)]=state[_0x3a7909(0x191)][_0x3a7909(0x1ea)]>0x0?_0x3a7909(0x152):_0x3a7909(0x1ba));saveSelectionToCache(),updateSaveButton();if(state[_0x3a7909(0x158)]&&!state[_0x3a7909(0x1c5)])updateSelectAllBtn();}function updateSaveButton(){const _0x26e1ef=a7_0x4f260e;let _0x5c0503='';if(state[_0x26e1ef(0x158)]){const _0x41c977=DataService[_0x26e1ef(0x155)](state[_0x26e1ef(0x158)]),_0x5dfc1c=_0x41c977[_0x26e1ef(0x1af)](_0x43c568=>state['selected'][_0x26e1ef(0x1a5)](_0x43c568['id']))[_0x26e1ef(0x1b5)];_0x5c0503=_0x5dfc1c>0x0?'–í—ã–±—Ä–∞—Ç—å\x20('+_0x5dfc1c+')':'–ù–∞–∑–∞–¥',el[_0x26e1ef(0x18a)]['classList'][_0x26e1ef(0x17f)](_0x26e1ef(0x153)),el[_0x26e1ef(0x1ad)][_0x26e1ef(0x14f)]=_0x5c0503;return;}const _0x1cbb5c=state[_0x26e1ef(0x191)][_0x26e1ef(0x1ea)];_0x5c0503=_0x26e1ef(0x1d9)+_0x1cbb5c+')',el[_0x26e1ef(0x1ad)]['textContent']=_0x5c0503,isSelectionChanged()?el[_0x26e1ef(0x18a)][_0x26e1ef(0x1e2)]['add'](_0x26e1ef(0x153)):el[_0x26e1ef(0x18a)][_0x26e1ef(0x1e2)]['remove']('visible');}function updateSelectAllBtn(){const _0x4f953d=a7_0x4f260e;if(!state[_0x4f953d(0x158)])return;const _0x27f7b7=DataService[_0x4f953d(0x155)](state[_0x4f953d(0x158)]),_0x313d48=_0x27f7b7[_0x4f953d(0x1b5)]>0x0&&_0x27f7b7[_0x4f953d(0x17a)](_0x3122f0=>state['selected'][_0x4f953d(0x1a5)](_0x3122f0['id']));el[_0x4f953d(0x198)][_0x4f953d(0x14f)]=_0x313d48?_0x4f953d(0x150):'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el['btnSelectAll'][_0x4f953d(0x1bf)]=()=>toggleAllInCategory(_0x27f7b7,!_0x313d48);}function toggleAllInCategory(_0x40a372,_0x1c5c19){const _0x17ab4c=a7_0x4f260e;haptic(_0x17ab4c(0x1ed)),_0x40a372[_0x17ab4c(0x1ce)](_0x1e799a=>{const _0x4bdb4e=_0x17ab4c;if(_0x1c5c19)state[_0x4bdb4e(0x191)][_0x4bdb4e(0x17f)](_0x1e799a['id']);else state[_0x4bdb4e(0x191)]['delete'](_0x1e799a['id']);}),saveSelectionToCache(),startInfiniteRender(_0x40a372,el[_0x17ab4c(0x1d6)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x4a7467){const _0x3acd65=a7_0x4f260e,_0x3ba7d6=_0x4a7467[_0x3acd65(0x1cd)][_0x3acd65(0x1a8)]['toLowerCase']()[_0x3acd65(0x1e7)]();if(_0x3ba7d6[_0x3acd65(0x1b5)]>0x0){if(!state[_0x3acd65(0x1c5)])enterSearchMode();const _0xd92700=DataService['search'](_0x3ba7d6);el[_0x3acd65(0x1ec)]['style'][_0x3acd65(0x1e6)]=_0x3acd65(0x18f),startInfiniteRender(_0xd92700,el[_0x3acd65(0x1ec)],!![]);}else el['searchResults'][_0x3acd65(0x1c7)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x55a0a0=a7_0x4f260e;haptic(_0x55a0a0(0x1ed));if(state[_0x55a0a0(0x158)]&&!state[_0x55a0a0(0x1c5)]){goBack();return;}const _0x2fc01c=el[_0x55a0a0(0x1ad)][_0x55a0a0(0x14f)];el['saveBtnText']['textContent']=_0x55a0a0(0x183),el[_0x55a0a0(0x18a)][_0x55a0a0(0x13e)][_0x55a0a0(0x16f)]=_0x55a0a0(0x1a0);const _0x511c15=await DataService['saveSelectionToServer']();_0x511c15?(el['saveBtnText'][_0x55a0a0(0x14f)]=_0x55a0a0(0x1c2),state[_0x55a0a0(0x1b9)]=new Set(state['selected']),setTimeout(()=>{const _0x155d41=_0x55a0a0;el[_0x155d41(0x18a)][_0x155d41(0x13e)][_0x155d41(0x16f)]=_0x155d41(0x195),el[_0x155d41(0x1ad)][_0x155d41(0x14f)]=_0x2fc01c,updateSaveButton();if(state[_0x155d41(0x1c5)])exitSearchMode();},0x320)):(el[_0x55a0a0(0x1ad)][_0x55a0a0(0x14f)]=_0x55a0a0(0x1e5),setTimeout(()=>{const _0x28ecf8=_0x55a0a0;el[_0x28ecf8(0x18a)][_0x28ecf8(0x13e)][_0x28ecf8(0x16f)]='auto',el['saveBtnText']['textContent']=_0x2fc01c;},0x7d0));}function enterSearchMode(){const _0x323b1b=a7_0x4f260e;state[_0x323b1b(0x1c5)]=!![];el['btnSearchCancel']&&(el[_0x323b1b(0x1a3)][_0x323b1b(0x14f)]=_0x323b1b(0x186),el[_0x323b1b(0x1a3)][_0x323b1b(0x13e)]['fontWeight']=_0x323b1b(0x1ba));document[_0x323b1b(0x1ca)][_0x323b1b(0x1e2)][_0x323b1b(0x17f)](_0x323b1b(0x189)),el[_0x323b1b(0x18d)][_0x323b1b(0x1e2)][_0x323b1b(0x1e8)]('active'),el['viewList'][_0x323b1b(0x1e2)]['remove'](_0x323b1b(0x1c4)),el[_0x323b1b(0x1d7)]['classList']['add'](_0x323b1b(0x1c4));if(tg)tg['BackButton'][_0x323b1b(0x1b8)]();}function exitSearchMode(){const _0x209fc0=a7_0x4f260e;state['searchMode']=![],document['body'][_0x209fc0(0x1e2)][_0x209fc0(0x1e8)](_0x209fc0(0x189)),el[_0x209fc0(0x1b7)][_0x209fc0(0x1cc)](),el[_0x209fc0(0x1d7)][_0x209fc0(0x1e2)][_0x209fc0(0x1e8)]('active'),el[_0x209fc0(0x1ec)][_0x209fc0(0x13e)][_0x209fc0(0x1e6)]=_0x209fc0(0x1a0),el[_0x209fc0(0x1b7)][_0x209fc0(0x1a8)]='';if(state[_0x209fc0(0x158)])el['viewList'][_0x209fc0(0x1e2)]['add'](_0x209fc0(0x1c4));else el['viewCats'][_0x209fc0(0x1e2)]['add'](_0x209fc0(0x1c4)),renderCategories();updateSaveButton();}init();