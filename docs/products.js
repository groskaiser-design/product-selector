const a7_0x2baaf1=a7_0x3a58;(function(_0x5a5c80,_0x3caab2){const _0x3d5c97=a7_0x3a58,_0x32c3eb=_0x5a5c80();while(!![]){try{const _0x35df55=parseInt(_0x3d5c97(0x250))/0x1+parseInt(_0x3d5c97(0x1e8))/0x2+-parseInt(_0x3d5c97(0x211))/0x3+-parseInt(_0x3d5c97(0x1fa))/0x4+parseInt(_0x3d5c97(0x1b8))/0x5+parseInt(_0x3d5c97(0x231))/0x6+-parseInt(_0x3d5c97(0x25a))/0x7;if(_0x35df55===_0x3caab2)break;else _0x32c3eb['push'](_0x32c3eb['shift']());}catch(_0xd91dc9){_0x32c3eb['push'](_0x32c3eb['shift']());}}}(a7_0x53fc,0x58b7b));const a7_0x177c00=(function(){let _0x1b00a6=!![];return function(_0x5d37da,_0x3d6376){const _0x12b7b2=_0x1b00a6?function(){const _0x417ba3=a7_0x3a58;if(_0x3d6376){const _0x589a98=_0x3d6376[_0x417ba3(0x223)](_0x5d37da,arguments);return _0x3d6376=null,_0x589a98;}}:function(){};return _0x1b00a6=![],_0x12b7b2;};}()),a7_0x4f263c=a7_0x177c00(this,function(){const _0x4b41fb=a7_0x3a58;return a7_0x4f263c[_0x4b41fb(0x20e)]()['search']('(((.+)+)+)+$')[_0x4b41fb(0x20e)]()[_0x4b41fb(0x230)](a7_0x4f263c)[_0x4b41fb(0x1bd)](_0x4b41fb(0x1e2));});a7_0x4f263c();const API_URL=a7_0x2baaf1(0x221),tg=window[a7_0x2baaf1(0x1f3)]?.[a7_0x2baaf1(0x1f8)],TG_INIT_DATA=tg?.[a7_0x2baaf1(0x21e)]||'';if(tg)try{tg['ready'](),tg[a7_0x2baaf1(0x1c7)]();try{tg[a7_0x2baaf1(0x25b)]('#050505');if(tg[a7_0x2baaf1(0x232)])tg[a7_0x2baaf1(0x232)](a7_0x2baaf1(0x23d));if(tg[a7_0x2baaf1(0x25f)])tg[a7_0x2baaf1(0x25f)]();}catch(a7_0x18916c){console[a7_0x2baaf1(0x212)](a7_0x2baaf1(0x1df),a7_0x18916c);}tg[a7_0x2baaf1(0x200)]&&(tg[a7_0x2baaf1(0x200)]['show'](),tg['BackButton']['offClick'](),tg[a7_0x2baaf1(0x200)][a7_0x2baaf1(0x245)](()=>{const _0x4db8f6=a7_0x2baaf1;if(state[_0x4db8f6(0x1c1)])exitSearchMode();else state[_0x4db8f6(0x1db)]?goBack():window[_0x4db8f6(0x1b6)][_0x4db8f6(0x201)]=_0x4db8f6(0x258);}));}catch(a7_0x22527b){console[a7_0x2baaf1(0x249)](a7_0x2baaf1(0x214),a7_0x22527b);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x228d7b=a7_0x2baaf1,_0x1c7bde=this[_0x228d7b(0x1f0)]();_0x1c7bde&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x45d6c2=a7_0x2baaf1;try{const _0x592f17=localStorage['getItem'](_0x45d6c2(0x228));if(_0x592f17){const _0x22ca12=JSON[_0x45d6c2(0x1bb)](_0x592f17);this[_0x45d6c2(0x1e6)]=_0x22ca12[_0x45d6c2(0x1e6)]||[],this[_0x45d6c2(0x254)]=_0x22ca12['productsMap']||{},this[_0x45d6c2(0x1cf)]=_0x22ca12['serverVer']||0x0;const _0x8b4872=localStorage['getItem']('ultima_cart_v1');if(_0x8b4872){const _0x196184=JSON[_0x45d6c2(0x1bb)](_0x8b4872);state[_0x45d6c2(0x216)]=new Set(_0x196184),this[_0x45d6c2(0x23a)](),state[_0x45d6c2(0x24b)]=new Set(state[_0x45d6c2(0x216)]);}return!![];}}catch(_0x569253){console[_0x45d6c2(0x249)](_0x569253);}return![];},async 'syncWithServer'(){const _0x568e03=a7_0x2baaf1;try{if(!API_URL['includes'](_0x568e03(0x1c2))){console[_0x568e03(0x212)](_0x568e03(0x1d2)),hideLoader();return;}const _0xb367db=await fetch(API_URL,{'method':_0x568e03(0x21f),'headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON[_0x568e03(0x1cb)]({'action':_0x568e03(0x20d),'clientVer':this[_0x568e03(0x1cf)],'initData':TG_INIT_DATA})}),_0x54c1ad=await _0xb367db['json']();_0x54c1ad['ok']&&_0x54c1ad[_0x568e03(0x20a)]&&_0x54c1ad[_0x568e03(0x22f)]&&this[_0x568e03(0x1e4)](_0x54c1ad[_0x568e03(0x22f)],_0x54c1ad[_0x568e03(0x1cf)]);if(_0x54c1ad['ok']&&_0x54c1ad[_0x568e03(0x237)])try{const _0x58712a=JSON[_0x568e03(0x1bb)](_0x54c1ad[_0x568e03(0x237)]);state[_0x568e03(0x216)]=new Set(_0x58712a),this[_0x568e03(0x23a)](),state[_0x568e03(0x24b)]=new Set(state[_0x568e03(0x216)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0xbf70bb){}hideLoader();}catch(_0x17bcf2){console['warn'](_0x568e03(0x1d8),_0x17bcf2),hideLoader();if(!DataService[_0x568e03(0x1e6)][_0x568e03(0x22a)])alert(_0x568e03(0x1ed));}},'processCatalog'(_0x5d935c,_0x125423){const _0x142697=a7_0x2baaf1;this[_0x142697(0x1e6)]=_0x5d935c[_0x142697(0x1e6)][_0x142697(0x224)](_0x3af375=>({'id':String(_0x3af375['id']),'name':_0x3af375[_0x142697(0x1f1)],'icon':_0x3af375['icon']}));const _0x424383={};this[_0x142697(0x1e6)][_0x142697(0x20c)](_0x2fe271=>_0x424383[_0x2fe271['id']]=[]),_0x5d935c[_0x142697(0x1be)]&&Array[_0x142697(0x1d7)](_0x5d935c[_0x142697(0x1be)])&&_0x5d935c[_0x142697(0x1be)][_0x142697(0x20c)](_0xf87ae7=>{const _0x4041c7=_0x142697,_0x37377b=String(_0xf87ae7[0x0]),_0x1e330b=String(_0xf87ae7[0x1]);if(!_0x424383[_0x1e330b])_0x424383[_0x1e330b]=[];_0x424383[_0x1e330b][_0x4041c7(0x227)]({'id':_0x37377b,'name':_0xf87ae7[0x2],'meta':_0xf87ae7[0x3]});}),this[_0x142697(0x254)]=_0x424383,this[_0x142697(0x1cf)]=_0x125423,localStorage[_0x142697(0x24f)](_0x142697(0x228),JSON[_0x142697(0x1cb)]({'categories':this[_0x142697(0x1e6)],'productsMap':this[_0x142697(0x254)],'serverVer':this['serverVer']})),this[_0x142697(0x23a)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x844357=a7_0x2baaf1;if(!state[_0x844357(0x216)]||state[_0x844357(0x216)][_0x844357(0x1bc)]===0x0)return;const _0x1e4141=new Set();Object[_0x844357(0x235)](this[_0x844357(0x254)])['flat']()[_0x844357(0x20c)](_0x354003=>_0x1e4141[_0x844357(0x240)](_0x354003['id']));const _0xca023f=new Set();state[_0x844357(0x216)][_0x844357(0x20c)](_0x5a65ba=>{const _0x468649=_0x844357;_0x1e4141[_0x468649(0x213)](_0x5a65ba)&&_0xca023f[_0x468649(0x240)](_0x5a65ba);}),_0xca023f[_0x844357(0x1bc)]!==state[_0x844357(0x216)][_0x844357(0x1bc)]&&(console[_0x844357(0x21a)](_0x844357(0x25e)+(state[_0x844357(0x216)][_0x844357(0x1bc)]-_0xca023f[_0x844357(0x1bc)])+'\x20zombie\x20products'),state['selected']=_0xca023f,saveSelectionToCache());},'getProducts'(_0x3ae37f){return this['productsMap'][_0x3ae37f]||[];},'search'(_0x334774){const _0x59f648=a7_0x2baaf1,_0x58114d=[],_0x314d19=_0x334774['toLowerCase']();return Object[_0x59f648(0x235)](this[_0x59f648(0x254)])[_0x59f648(0x21c)]()[_0x59f648(0x20c)](_0x4a1be9=>{const _0x24da38=_0x59f648;if(_0x4a1be9[_0x24da38(0x1f1)]['toLowerCase']()[_0x24da38(0x1fd)](_0x314d19))_0x58114d[_0x24da38(0x227)](_0x4a1be9);}),_0x58114d;},async 'saveSelectionToServer'(){const _0x4a2588=a7_0x2baaf1;this[_0x4a2588(0x23a)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x4a2588(0x21f),'headers':{'Content-Type':_0x4a2588(0x222)},'body':JSON[_0x4a2588(0x1cb)]({'action':'save','initData':TG_INIT_DATA,'selection':Array[_0x4a2588(0x22b)](state[_0x4a2588(0x216)])})}),!![];}catch(_0x198435){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x494a34=a7_0x2baaf1;try{localStorage[_0x494a34(0x24f)](_0x494a34(0x20f),JSON[_0x494a34(0x1cb)](Array['from'](state[_0x494a34(0x216)])));}catch(_0xf83198){}}const el={'catGrid':document[a7_0x2baaf1(0x1b3)]('catGrid'),'productList':document['getElementById']('productList'),'viewCats':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x1c8)),'viewList':document['getElementById'](a7_0x2baaf1(0x1e7)),'viewSearch':document[a7_0x2baaf1(0x1b3)]('view-search'),'catTitle':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x243)),'btnSelectAll':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x24e)),'searchInput':document[a7_0x2baaf1(0x1b3)]('searchInput'),'searchClear':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x22c)),'searchResults':document[a7_0x2baaf1(0x1b3)]('searchResults'),'btnSearchCancel':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x24d)),'btnSave':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x255)),'saveBtnText':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x1b5)),'sentinel':document[a7_0x2baaf1(0x1b3)](a7_0x2baaf1(0x1d4)),'loader':document['getElementById']('appLoader')};function hideLoader(){const _0x2475d2=a7_0x2baaf1;el[_0x2475d2(0x244)][_0x2475d2(0x1ea)]['add'](_0x2475d2(0x1dc));}function a7_0x53fc(){const _0x143132=['isArray','Sync\x20skipped:','slice','visible','activeCatId','hidden','next','touchstart','Color/Swipe\x20settings\x20error:','BATCH_SIZE','addEventListener','(((.+)+)+)+$','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','processCatalog','search-active','categories','view-list','1079560RbrfiI','viewList','classList','light','medium','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','remove','active','loadFromCache','name','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','Telegram','toLowerCase','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','target','bump','WebApp','filter','76820xnHFqr','border','createElement','includes','querySelector','\x20–∏–∑\x20','BackButton','href','getProducts','innerHeight','background','innerText','currentContainer','cat-card','block','600','needUpdate','appendChild','forEach','init','toString','ultima_cart_v1','onclick','149979uRvlPA','warn','has','Critical\x20TMA\x20Error:','every','selected','–û—Ç–º–µ–Ω–∞','isIntersecting','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','log','show','flat','prev','initData','POST','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','text/plain;charset=utf-8','apply','map','productList','viewCats','push','ultima_data_v2','product-list-container','length','from','searchClear','delete','observe','catalog','constructor','2921388CFtPNK','setBackgroundColor','renderQueue','–û—à–∏–±–∫–∞!','values','.fx-layer','userSelection','className','auto','cleanupZombieProducts','head','opacity','#050505','–ì–æ—Ç–æ–≤–æ!','createDocumentFragment','add','style','textContent','catTitle','loader','onClick','input','value','renderIndex','error','div','initialSelected','boxShadow','btnSearchCancel','btnSelectAll','setItem','518839Qazujj','–°–Ω—è—Ç—å\x20–≤—Å—ë','body','innerWidth','productsMap','btnSave','success','click','router.html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','11448794tOzzfW','setHeaderColor','none','animation','üßπ\x20Removed\x20','disableVerticalSwipes','display','HapticFeedback','saveSelectionToServer','getElementById','offsetWidth','saveBtnText','location','pointerEvents','2613050QzZHMH','fadeInUp\x200.2s\x20ease\x20forwards\x20','icon','parse','size','search','products','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fontWeight','searchMode','script.google.com','innerHTML','closest','–ù–∞–∑–∞–¥','meta','expand','view-cats','impactOccurred','200px','stringify','product-row\x20','transparent','notificationOccurred','serverVer','searchInput','catGrid','No\x20API\x20URL','viewSearch','sentinel','–í—ã–±—Ä–∞—Ç—å','searchResults'];a7_0x53fc=function(){return _0x143132;};return a7_0x53fc();}function haptic(_0x364105=a7_0x2baaf1(0x1eb)){const _0x38713f=a7_0x2baaf1;try{const _0x5c0055=window[_0x38713f(0x1f3)]?.[_0x38713f(0x1f8)]?.[_0x38713f(0x1b1)];if(_0x5c0055)_0x364105===_0x38713f(0x1eb)?_0x5c0055[_0x38713f(0x1c9)](_0x38713f(0x1eb)):_0x364105===_0x38713f(0x1ec)?_0x5c0055[_0x38713f(0x1c9)](_0x38713f(0x1ec)):_0x5c0055[_0x38713f(0x1ce)](_0x38713f(0x256));}catch(_0x3dcbad){}}const bump=_0x4c7fc5=>{const _0xa1fb43=a7_0x2baaf1;if(!_0x4c7fc5)return;_0x4c7fc5[_0xa1fb43(0x1ea)]['remove'](_0xa1fb43(0x1f7)),void _0x4c7fc5[_0xa1fb43(0x1b4)],_0x4c7fc5[_0xa1fb43(0x1ea)]['add']('bump');};document[a7_0x2baaf1(0x1e1)](a7_0x2baaf1(0x1de),_0x249769=>{const _0x495d92=a7_0x2baaf1,_0x428978=_0x249769[_0x495d92(0x1f6)][_0x495d92(0x1c4)]('.cat-card,\x20.btn-save');if(!_0x428978)return;haptic(_0x495d92(0x1eb)),bump(_0x428978);},{'passive':!![]});function isSelectionChanged(){const _0x37c967=a7_0x2baaf1;if(state[_0x37c967(0x216)]['size']!==state['initialSelected'][_0x37c967(0x1bc)])return!![];for(let _0x51f0d4 of state[_0x37c967(0x216)]){if(!state[_0x37c967(0x24b)][_0x37c967(0x213)](_0x51f0d4))return!![];}return![];}function init(){const _0x3b12bf=a7_0x2baaf1;let _0x2b69e8=window[_0x3b12bf(0x253)];const _0x5eaa70=document[_0x3b12bf(0x1fe)](_0x3b12bf(0x236)),_0x4f23ce=()=>{const _0x54025b=_0x3b12bf;_0x5eaa70[_0x54025b(0x241)]['height']=window[_0x54025b(0x203)]+'px',_0x2b69e8=window[_0x54025b(0x253)];};_0x4f23ce(),window[_0x3b12bf(0x1e1)]('resize',()=>{if(window['innerWidth']!==_0x2b69e8)_0x4f23ce();}),DataService[_0x3b12bf(0x20d)](),el['searchInput'][_0x3b12bf(0x1e1)](_0x3b12bf(0x246),handleSearch),el[_0x3b12bf(0x22c)][_0x3b12bf(0x1e1)](_0x3b12bf(0x257),clearSearch);if(tg)tg[_0x3b12bf(0x200)]['show']();const _0x826591=new IntersectionObserver(_0x39f97c=>{const _0x4f490e=_0x3b12bf;if(_0x39f97c[0x0][_0x4f490e(0x218)])renderNextBatch();},{'rootMargin':_0x3b12bf(0x1ca)});_0x826591[_0x3b12bf(0x22e)](el[_0x3b12bf(0x1d4)]);}function renderCategories(){const _0x49143f=a7_0x2baaf1;el[_0x49143f(0x1d1)][_0x49143f(0x1c3)]='',DataService[_0x49143f(0x1e6)][_0x49143f(0x20c)](_0x943e04=>{const _0x47e4d4=_0x49143f,_0x46c42e=DataService['getProducts'](_0x943e04['id']),_0x2f1846=_0x46c42e[_0x47e4d4(0x22a)],_0x3f3a7d=_0x46c42e[_0x47e4d4(0x1f9)](_0x1965fc=>state[_0x47e4d4(0x216)][_0x47e4d4(0x213)](_0x1965fc['id']))[_0x47e4d4(0x22a)],_0x2bde02=_0x2f1846>0x0?_0x3f3a7d/_0x2f1846*0x64:0x0,_0x3f098b=document[_0x47e4d4(0x1fc)](_0x47e4d4(0x24a));_0x3f098b[_0x47e4d4(0x238)]=_0x47e4d4(0x207),_0x3f098b['onclick']=()=>openCategory(_0x943e04['id']),_0x3f098b[_0x47e4d4(0x1c3)]=_0x47e4d4(0x259)+_0x943e04[_0x47e4d4(0x1ba)]+_0x47e4d4(0x1f2)+_0x943e04['name']+_0x47e4d4(0x1bf)+_0x3f3a7d+_0x47e4d4(0x1ff)+_0x2f1846+_0x47e4d4(0x220)+_0x2bde02+_0x47e4d4(0x1f5),el[_0x47e4d4(0x1d1)][_0x47e4d4(0x20b)](_0x3f098b);});}function openCategory(_0x4674e5){const _0x144963=a7_0x2baaf1;state[_0x144963(0x1db)]=_0x4674e5;const _0x537e83=DataService[_0x144963(0x1e6)]['find'](_0x25f477=>_0x25f477['id']===_0x4674e5);el[_0x144963(0x243)]['textContent']=_0x537e83[_0x144963(0x1f1)],el[_0x144963(0x225)][_0x144963(0x241)][_0x144963(0x1b0)]='flex';const _0x5a4ac9=DataService['getProducts'](_0x4674e5);startInfiniteRender(_0x5a4ac9,el['productList']),updateSelectAllBtn(),el[_0x144963(0x226)][_0x144963(0x1ea)][_0x144963(0x240)](_0x144963(0x21d)),el[_0x144963(0x226)][_0x144963(0x1ea)][_0x144963(0x1ee)]('active'),el[_0x144963(0x1e9)][_0x144963(0x1ea)][_0x144963(0x240)](_0x144963(0x1ef)),el['viewList'][_0x144963(0x1ea)][_0x144963(0x1ee)](_0x144963(0x1dd)),updateSaveButton();if(tg)tg['BackButton'][_0x144963(0x21b)]();}function goBack(){const _0x53ccaa=a7_0x2baaf1;state['activeCatId']=null,el[_0x53ccaa(0x1e9)][_0x53ccaa(0x1ea)][_0x53ccaa(0x1ee)](_0x53ccaa(0x1ef)),el['viewCats'][_0x53ccaa(0x1ea)][_0x53ccaa(0x240)](_0x53ccaa(0x1ef)),el[_0x53ccaa(0x226)][_0x53ccaa(0x1ea)]['remove'](_0x53ccaa(0x21d)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x53ccaa(0x200)][_0x53ccaa(0x21b)]();}function startInfiniteRender(_0x1e5496,_0x461bc5,_0x373c62=![]){const _0x4b7f68=a7_0x2baaf1;_0x461bc5[_0x4b7f68(0x1c3)]='',_0x461bc5[_0x4b7f68(0x241)]['cssText']='';if(_0x1e5496[_0x4b7f68(0x22a)]===0x0&&_0x373c62){_0x461bc5[_0x4b7f68(0x1c3)]=_0x4b7f68(0x1e3);return;}state[_0x4b7f68(0x233)]=_0x1e5496,state[_0x4b7f68(0x248)]=0x0;let _0x2bcc03=_0x461bc5;if(_0x373c62){const _0x2f78fa=document['createElement']('div');_0x2f78fa[_0x4b7f68(0x238)]=_0x4b7f68(0x229),_0x2f78fa[_0x4b7f68(0x241)][_0x4b7f68(0x204)]=_0x4b7f68(0x1cd),_0x2f78fa['style'][_0x4b7f68(0x1fb)]='none',_0x2f78fa[_0x4b7f68(0x241)][_0x4b7f68(0x24c)]='none',_0x461bc5[_0x4b7f68(0x20b)](_0x2f78fa),_0x2bcc03=_0x2f78fa;}state['currentContainer']=_0x2bcc03,renderNextBatch(_0x373c62);}function renderNextBatch(_0x43956b=![]){const _0x288f34=a7_0x2baaf1;if(state['renderIndex']>=state[_0x288f34(0x233)][_0x288f34(0x22a)])return;const _0x1f5e17=state['renderQueue'][_0x288f34(0x1d9)](state[_0x288f34(0x248)],state[_0x288f34(0x248)]+state[_0x288f34(0x1e0)]),_0x591193=document[_0x288f34(0x23f)]();_0x1f5e17[_0x288f34(0x20c)]((_0x93a286,_0x400577)=>{const _0xaab34a=_0x288f34,_0xead328=state['selected'][_0xaab34a(0x213)](_0x93a286['id']),_0x5e6414=document[_0xaab34a(0x1fc)](_0xaab34a(0x24a));_0x5e6414[_0xaab34a(0x238)]=_0xaab34a(0x1cc)+(_0xead328?'selected':''),_0x5e6414[_0xaab34a(0x1e1)](_0xaab34a(0x1de),()=>haptic(_0xaab34a(0x1eb)),{'passive':!![]}),_0x5e6414[_0xaab34a(0x210)]=()=>toggleProduct(_0x93a286['id'],_0x5e6414),!_0x43956b&&(_0x5e6414[_0xaab34a(0x241)]['opacity']='0',_0x5e6414[_0xaab34a(0x241)]['animation']=_0xaab34a(0x1b9)+_0x400577*0.02+'s',setTimeout(()=>{const _0x457b8b=_0xaab34a;_0x5e6414[_0x457b8b(0x241)][_0x457b8b(0x23c)]='1',_0x5e6414['style'][_0x457b8b(0x25d)]=_0x457b8b(0x25c),_0x5e6414[_0x457b8b(0x241)]['transform']=_0x457b8b(0x25c);},_0x400577*0x14+0x12c)),_0x5e6414[_0xaab34a(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>'+_0x93a286[_0xaab34a(0x1f1)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>'+_0x93a286[_0xaab34a(0x1c6)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x591193[_0xaab34a(0x20b)](_0x5e6414);}),state[_0x288f34(0x206)]['appendChild'](_0x591193),state[_0x288f34(0x248)]+=state[_0x288f34(0x1e0)];}const styleSheet=document[a7_0x2baaf1(0x1fc)]('style');styleSheet[a7_0x2baaf1(0x205)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document[a7_0x2baaf1(0x23b)][a7_0x2baaf1(0x20b)](styleSheet);function toggleProduct(_0x46f255,_0x57f786){const _0x1e8c0e=a7_0x2baaf1;state[_0x1e8c0e(0x216)][_0x1e8c0e(0x213)](_0x46f255)?(state['selected']['delete'](_0x46f255),_0x57f786[_0x1e8c0e(0x1ea)][_0x1e8c0e(0x1ee)](_0x1e8c0e(0x216))):(state['selected']['add'](_0x46f255),_0x57f786[_0x1e8c0e(0x1ea)][_0x1e8c0e(0x240)](_0x1e8c0e(0x216)));state[_0x1e8c0e(0x1c1)]&&el[_0x1e8c0e(0x24d)]&&(el[_0x1e8c0e(0x24d)][_0x1e8c0e(0x242)]=state['selected'][_0x1e8c0e(0x1bc)]>0x0?_0x1e8c0e(0x1d5):'–û—Ç–º–µ–Ω–∞',el[_0x1e8c0e(0x24d)][_0x1e8c0e(0x241)][_0x1e8c0e(0x1c0)]=state[_0x1e8c0e(0x216)][_0x1e8c0e(0x1bc)]>0x0?_0x1e8c0e(0x209):'500');saveSelectionToCache(),updateSaveButton();if(state[_0x1e8c0e(0x1db)]&&!state[_0x1e8c0e(0x1c1)])updateSelectAllBtn();}function a7_0x3a58(_0x5bbfc3,_0x2af7d3){_0x5bbfc3=_0x5bbfc3-0x1b0;const _0x429963=a7_0x53fc();let _0x4f263c=_0x429963[_0x5bbfc3];return _0x4f263c;}function updateSaveButton(){const _0x7dd48b=a7_0x2baaf1;let _0x500fc2='';if(state[_0x7dd48b(0x1db)]){const _0x155863=DataService['getProducts'](state[_0x7dd48b(0x1db)]),_0x4bd0b7=_0x155863['filter'](_0x2e265d=>state[_0x7dd48b(0x216)][_0x7dd48b(0x213)](_0x2e265d['id']))[_0x7dd48b(0x22a)];_0x500fc2=_0x4bd0b7>0x0?'–í—ã–±—Ä–∞—Ç—å\x20('+_0x4bd0b7+')':_0x7dd48b(0x1c5),el[_0x7dd48b(0x255)][_0x7dd48b(0x1ea)][_0x7dd48b(0x240)]('visible'),el['saveBtnText'][_0x7dd48b(0x242)]=_0x500fc2;return;}const _0x7052e3=state[_0x7dd48b(0x216)]['size'];_0x500fc2='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x7052e3+')',el[_0x7dd48b(0x1b5)][_0x7dd48b(0x242)]=_0x500fc2,isSelectionChanged()?el[_0x7dd48b(0x255)][_0x7dd48b(0x1ea)][_0x7dd48b(0x240)](_0x7dd48b(0x1da)):el[_0x7dd48b(0x255)][_0x7dd48b(0x1ea)]['remove'](_0x7dd48b(0x1da));}function updateSelectAllBtn(){const _0x151969=a7_0x2baaf1;if(!state['activeCatId'])return;const _0x1a3140=DataService[_0x151969(0x202)](state[_0x151969(0x1db)]),_0x1ed353=_0x1a3140[_0x151969(0x22a)]>0x0&&_0x1a3140[_0x151969(0x215)](_0x1b7049=>state[_0x151969(0x216)][_0x151969(0x213)](_0x1b7049['id']));el[_0x151969(0x24e)]['textContent']=_0x1ed353?_0x151969(0x251):_0x151969(0x219),el[_0x151969(0x24e)]['onclick']=()=>toggleAllInCategory(_0x1a3140,!_0x1ed353);}function toggleAllInCategory(_0x2ecaab,_0x3f194a){const _0x38cd63=a7_0x2baaf1;haptic('medium'),_0x2ecaab[_0x38cd63(0x20c)](_0x3b6f34=>{const _0x3d6274=_0x38cd63;if(_0x3f194a)state[_0x3d6274(0x216)][_0x3d6274(0x240)](_0x3b6f34['id']);else state[_0x3d6274(0x216)][_0x3d6274(0x22d)](_0x3b6f34['id']);}),saveSelectionToCache(),startInfiniteRender(_0x2ecaab,el[_0x38cd63(0x225)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x100607){const _0x4df7dd=a7_0x2baaf1,_0x256656=_0x100607[_0x4df7dd(0x1f6)][_0x4df7dd(0x247)][_0x4df7dd(0x1f4)]()['trim']();if(_0x256656[_0x4df7dd(0x22a)]>0x0){if(!state[_0x4df7dd(0x1c1)])enterSearchMode();const _0x39096d=DataService[_0x4df7dd(0x1bd)](_0x256656);el[_0x4df7dd(0x1d6)][_0x4df7dd(0x241)][_0x4df7dd(0x1b0)]=_0x4df7dd(0x208),startInfiniteRender(_0x39096d,el['searchResults'],!![]);}else el[_0x4df7dd(0x1d6)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1945fb=a7_0x2baaf1;haptic(_0x1945fb(0x1ec));if(state['activeCatId']&&!state[_0x1945fb(0x1c1)]){goBack();return;}const _0x3e9725=el[_0x1945fb(0x1b5)][_0x1945fb(0x242)];el[_0x1945fb(0x1b5)][_0x1945fb(0x242)]='–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',el[_0x1945fb(0x255)][_0x1945fb(0x241)]['pointerEvents']=_0x1945fb(0x25c);const _0x469e6b=await DataService[_0x1945fb(0x1b2)]();_0x469e6b?(el[_0x1945fb(0x1b5)][_0x1945fb(0x242)]=_0x1945fb(0x23e),state['initialSelected']=new Set(state[_0x1945fb(0x216)]),setTimeout(()=>{const _0x46fcfe=_0x1945fb;el['btnSave'][_0x46fcfe(0x241)][_0x46fcfe(0x1b7)]=_0x46fcfe(0x239),el[_0x46fcfe(0x1b5)][_0x46fcfe(0x242)]=_0x3e9725,updateSaveButton();if(state['searchMode'])exitSearchMode();},0x320)):(el[_0x1945fb(0x1b5)][_0x1945fb(0x242)]=_0x1945fb(0x234),setTimeout(()=>{const _0x45f6ea=_0x1945fb;el[_0x45f6ea(0x255)][_0x45f6ea(0x241)][_0x45f6ea(0x1b7)]=_0x45f6ea(0x239),el[_0x45f6ea(0x1b5)][_0x45f6ea(0x242)]=_0x3e9725;},0x7d0));}function enterSearchMode(){const _0x28a3c1=a7_0x2baaf1;state[_0x28a3c1(0x1c1)]=!![];el[_0x28a3c1(0x24d)]&&(el['btnSearchCancel']['textContent']=_0x28a3c1(0x217),el['btnSearchCancel'][_0x28a3c1(0x241)][_0x28a3c1(0x1c0)]='500');document['body'][_0x28a3c1(0x1ea)]['add']('search-active'),el['viewCats']['classList'][_0x28a3c1(0x1ee)](_0x28a3c1(0x1ef)),el[_0x28a3c1(0x1e9)][_0x28a3c1(0x1ea)][_0x28a3c1(0x1ee)]('active'),el[_0x28a3c1(0x1d3)][_0x28a3c1(0x1ea)][_0x28a3c1(0x240)](_0x28a3c1(0x1ef));if(tg)tg[_0x28a3c1(0x200)][_0x28a3c1(0x21b)]();}function exitSearchMode(){const _0x4dbc50=a7_0x2baaf1;state[_0x4dbc50(0x1c1)]=![],document[_0x4dbc50(0x252)][_0x4dbc50(0x1ea)][_0x4dbc50(0x1ee)](_0x4dbc50(0x1e5)),el[_0x4dbc50(0x1d0)]['blur'](),el['viewSearch']['classList'][_0x4dbc50(0x1ee)](_0x4dbc50(0x1ef)),el[_0x4dbc50(0x1d6)][_0x4dbc50(0x241)][_0x4dbc50(0x1b0)]=_0x4dbc50(0x25c),el[_0x4dbc50(0x1d0)][_0x4dbc50(0x247)]='';if(state[_0x4dbc50(0x1db)])el[_0x4dbc50(0x1e9)][_0x4dbc50(0x1ea)]['add']('active');else el[_0x4dbc50(0x226)][_0x4dbc50(0x1ea)][_0x4dbc50(0x240)](_0x4dbc50(0x1ef)),renderCategories();updateSaveButton();}init();