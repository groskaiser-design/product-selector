const a7_0x390edc=a7_0x203b;(function(_0x359a1d,_0x3a4a76){const _0x3d9e93=a7_0x203b,_0x4428c8=_0x359a1d();while(!![]){try{const _0x20884d=parseInt(_0x3d9e93(0x15c))/0x1*(-parseInt(_0x3d9e93(0x135))/0x2)+parseInt(_0x3d9e93(0x128))/0x3*(-parseInt(_0x3d9e93(0x182))/0x4)+parseInt(_0x3d9e93(0x167))/0x5+parseInt(_0x3d9e93(0x113))/0x6*(-parseInt(_0x3d9e93(0x1b3))/0x7)+-parseInt(_0x3d9e93(0x173))/0x8+-parseInt(_0x3d9e93(0x1ad))/0x9+-parseInt(_0x3d9e93(0x16d))/0xa*(-parseInt(_0x3d9e93(0x14a))/0xb);if(_0x20884d===_0x3a4a76)break;else _0x4428c8['push'](_0x4428c8['shift']());}catch(_0x2aae36){_0x4428c8['push'](_0x4428c8['shift']());}}}(a7_0x4699,0xbc863));const a7_0x5368e4=(function(){let _0x1611e4=!![];return function(_0x2cf4fa,_0x1cbdc5){const _0x1d5b34=_0x1611e4?function(){const _0x2dc715=a7_0x203b;if(_0x1cbdc5){const _0x43eeb5=_0x1cbdc5[_0x2dc715(0x120)](_0x2cf4fa,arguments);return _0x1cbdc5=null,_0x43eeb5;}}:function(){};return _0x1611e4=![],_0x1d5b34;};}()),a7_0x38ba5d=a7_0x5368e4(this,function(){const _0x1bb725=a7_0x203b;return a7_0x38ba5d['toString']()[_0x1bb725(0x12d)](_0x1bb725(0x16b))[_0x1bb725(0x180)]()['constructor'](a7_0x38ba5d)[_0x1bb725(0x12d)]('(((.+)+)+)+$');});function a7_0x4699(){const _0x2eb197=['Telegram','getElementById','11knGwgK','animation','catalog','none','log','href','products','impactOccurred','name','initialSelected','pointerEvents','–ì–æ—Ç–æ–≤–æ!','productList','cssText','values','BackButton','setHeaderColor','setItem','67607iEvUwa','style','querySelector','warn','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','observe','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','product-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','searchMode','482815ExiGAt','forEach','from','value','(((.+)+)+)+$','loader','47184490HxteYF','parse','500','selected','resize','–û—à–∏–±–∫–∞!','9849720fdvgWv','onclick','includes','div','notificationOccurred','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isArray','fontWeight','\x20zombie\x20products','getProducts','transparent','body','toLowerCase','toString','location','208988eXtgUV','addEventListener','push','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','display','loadFromCache','disableVerticalSwipes','error','fadeInUp\x200.2s\x20ease\x20forwards\x20','stringify','renderQueue','visible','createDocumentFragment','setBackgroundColor','–°–Ω—è—Ç—å\x20–≤—Å—ë','searchResults','classList','btnSave','bump','Critical\x20TMA\x20Error:','viewList','icon','btnSelectAll','200px','offClick','No\x20API\x20URL','sentinel','next','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','serverVer','catGrid','has','renderIndex','block','ultima_cart_v1','flat','init','Sync\x20skipped:','hidden','600','size','cleanupZombieProducts','isIntersecting','3997521bVjoXO','target','expand','text/plain;charset=utf-8','flex','.fx-layer','1988XQQdJX','offsetWidth','trim','innerWidth','light','script.google.com','save','viewCats','productsMap','–ù–∞–∑–∞–¥','blur','–û—Ç–º–µ–Ω–∞','currentContainer','innerHTML','searchInput','every','click','saveBtnText','saveSelectionToServer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','appendChild','prev','head','11904KYlZfK','transform','catTitle','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','categories','appLoader','WebApp','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','filter','processCatalog','searchClear','slice','apply','–í—ã–±—Ä–∞—Ç—å\x20(','btnSearchCancel','router.html','active','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','–í—ã–±—Ä–∞—Ç—å','json','57kuzrAn','ultima_data_v2','userSelection','#050505','innerText','search','auto','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','opacity','view-search','\x20–∏–∑\x20','delete','createElement','24XTrBUI','onClick','BATCH_SIZE','getItem','syncWithServer','className','closest','add','ready','HapticFeedback','search-active','touchstart','show','remove','activeCatId','.cat-card,\x20.btn-save','innerHeight','length','textContent'];a7_0x4699=function(){return _0x2eb197;};return a7_0x4699();}a7_0x38ba5d();const API_URL=a7_0x390edc(0x160),tg=window[a7_0x390edc(0x148)]?.[a7_0x390edc(0x11a)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x390edc(0x13d)](),tg[a7_0x390edc(0x1af)]();try{tg[a7_0x390edc(0x15a)](a7_0x390edc(0x12b));if(tg[a7_0x390edc(0x18f)])tg[a7_0x390edc(0x18f)](a7_0x390edc(0x12b));if(tg[a7_0x390edc(0x188)])tg['disableVerticalSwipes']();}catch(a7_0xb65b03){console[a7_0x390edc(0x15f)]('Color/Swipe\x20settings\x20error:',a7_0xb65b03);}tg[a7_0x390edc(0x159)]&&(tg[a7_0x390edc(0x159)][a7_0x390edc(0x141)](),tg[a7_0x390edc(0x159)][a7_0x390edc(0x19a)](),tg[a7_0x390edc(0x159)][a7_0x390edc(0x136)](()=>{const _0x58b565=a7_0x390edc;if(state[_0x58b565(0x166)])exitSearchMode();else state[_0x58b565(0x143)]?goBack():window[_0x58b565(0x181)][_0x58b565(0x14f)]=_0x58b565(0x123);}));}catch(a7_0x43fe2d){console[a7_0x390edc(0x189)](a7_0x390edc(0x195),a7_0x43fe2d);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x2a5a67=a7_0x390edc,_0x475f9e=this[_0x2a5a67(0x187)]();_0x475f9e&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x2a5a67(0x139)]();},'loadFromCache'(){const _0x4b8641=a7_0x390edc;try{const _0x364d6d=localStorage[_0x4b8641(0x138)](_0x4b8641(0x129));if(_0x364d6d){const _0x5c0625=JSON[_0x4b8641(0x16e)](_0x364d6d);this[_0x4b8641(0x118)]=_0x5c0625[_0x4b8641(0x118)]||[],this['productsMap']=_0x5c0625['productsMap']||{},this[_0x4b8641(0x19f)]=_0x5c0625[_0x4b8641(0x19f)]||0x0;const _0x19fd0d=localStorage[_0x4b8641(0x138)](_0x4b8641(0x1a4));if(_0x19fd0d){const _0x5ef552=JSON[_0x4b8641(0x16e)](_0x19fd0d);state[_0x4b8641(0x170)]=new Set(_0x5ef552),this[_0x4b8641(0x1ab)](),state['initialSelected']=new Set(state[_0x4b8641(0x170)]);}return!![];}}catch(_0x29e9f1){console[_0x4b8641(0x189)](_0x29e9f1);}return![];},async 'syncWithServer'(){const _0x1de363=a7_0x390edc;try{if(!API_URL[_0x1de363(0x175)](_0x1de363(0x101))){console[_0x1de363(0x15f)](_0x1de363(0x19b)),hideLoader();return;}const _0x3ed29a=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x1de363(0x1b0)},'body':JSON['stringify']({'action':_0x1de363(0x1a6),'clientVer':this[_0x1de363(0x19f)],'initData':TG_INIT_DATA})}),_0x51f28b=await _0x3ed29a[_0x1de363(0x127)]();_0x51f28b['ok']&&_0x51f28b['needUpdate']&&_0x51f28b['catalog']&&this[_0x1de363(0x11d)](_0x51f28b[_0x1de363(0x14c)],_0x51f28b['serverVer']);if(_0x51f28b['ok']&&_0x51f28b[_0x1de363(0x12a)])try{const _0x516b5f=JSON['parse'](_0x51f28b[_0x1de363(0x12a)]);state[_0x1de363(0x170)]=new Set(_0x516b5f),this[_0x1de363(0x1ab)](),state[_0x1de363(0x153)]=new Set(state[_0x1de363(0x170)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x239bdc){}hideLoader();}catch(_0x2a9bea){console[_0x1de363(0x15f)](_0x1de363(0x1a7),_0x2a9bea),hideLoader();if(!DataService[_0x1de363(0x118)][_0x1de363(0x146)])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x3d0fb9,_0x2907ba){const _0x4738c0=a7_0x390edc;this[_0x4738c0(0x118)]=_0x3d0fb9['categories'][_0x4738c0(0x116)](_0x484230=>({'id':String(_0x484230['id']),'name':_0x484230['name'],'icon':_0x484230[_0x4738c0(0x197)]}));const _0x8b3b64={};this[_0x4738c0(0x118)][_0x4738c0(0x168)](_0x1b6590=>_0x8b3b64[_0x1b6590['id']]=[]),_0x3d0fb9[_0x4738c0(0x150)]&&Array[_0x4738c0(0x179)](_0x3d0fb9[_0x4738c0(0x150)])&&_0x3d0fb9[_0x4738c0(0x150)][_0x4738c0(0x168)](_0x4bf024=>{const _0x1391b8=_0x4738c0,_0x200c6f=String(_0x4bf024[0x0]),_0x3c06b6=String(_0x4bf024[0x1]);if(!_0x8b3b64[_0x3c06b6])_0x8b3b64[_0x3c06b6]=[];_0x8b3b64[_0x3c06b6][_0x1391b8(0x184)]({'id':_0x200c6f,'name':_0x4bf024[0x2],'meta':_0x4bf024[0x3]});}),this['productsMap']=_0x8b3b64,this['serverVer']=_0x2907ba,localStorage['setItem'](_0x4738c0(0x129),JSON[_0x4738c0(0x18b)]({'categories':this[_0x4738c0(0x118)],'productsMap':this[_0x4738c0(0x104)],'serverVer':this['serverVer']})),this[_0x4738c0(0x1ab)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0xbbcf7c=a7_0x390edc;if(!state[_0xbbcf7c(0x170)]||state['selected'][_0xbbcf7c(0x1aa)]===0x0)return;const _0x260bbf=new Set();Object['values'](this['productsMap'])[_0xbbcf7c(0x1a5)]()[_0xbbcf7c(0x168)](_0x79c637=>_0x260bbf['add'](_0x79c637['id']));const _0x2348a5=new Set();state[_0xbbcf7c(0x170)][_0xbbcf7c(0x168)](_0x29f2d1=>{_0x260bbf['has'](_0x29f2d1)&&_0x2348a5['add'](_0x29f2d1);}),_0x2348a5['size']!==state['selected'][_0xbbcf7c(0x1aa)]&&(console[_0xbbcf7c(0x14e)]('üßπ\x20Removed\x20'+(state[_0xbbcf7c(0x170)][_0xbbcf7c(0x1aa)]-_0x2348a5[_0xbbcf7c(0x1aa)])+_0xbbcf7c(0x17b)),state[_0xbbcf7c(0x170)]=_0x2348a5,saveSelectionToCache());},'getProducts'(_0x3b1a9b){return this['productsMap'][_0x3b1a9b]||[];},'search'(_0x3646df){const _0x1c6d0f=a7_0x390edc,_0x48acdd=[],_0x4047ce=_0x3646df[_0x1c6d0f(0x17f)]();return Object[_0x1c6d0f(0x158)](this[_0x1c6d0f(0x104)])[_0x1c6d0f(0x1a5)]()[_0x1c6d0f(0x168)](_0x2e55be=>{const _0x56658e=_0x1c6d0f;if(_0x2e55be[_0x56658e(0x152)][_0x56658e(0x17f)]()[_0x56658e(0x175)](_0x4047ce))_0x48acdd['push'](_0x2e55be);}),_0x48acdd;},async 'saveSelectionToServer'(){const _0x5849e5=a7_0x390edc;this[_0x5849e5(0x1ab)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x5849e5(0x162),'headers':{'Content-Type':_0x5849e5(0x1b0)},'body':JSON[_0x5849e5(0x18b)]({'action':_0x5849e5(0x102),'initData':TG_INIT_DATA,'selection':Array[_0x5849e5(0x169)](state[_0x5849e5(0x170)])})}),!![];}catch(_0xb08c8){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x59b208=a7_0x390edc;try{localStorage[_0x59b208(0x15b)](_0x59b208(0x1a4),JSON[_0x59b208(0x18b)](Array[_0x59b208(0x169)](state['selected'])));}catch(_0x65d1ed){}}const el={'catGrid':document['getElementById'](a7_0x390edc(0x1a0)),'productList':document[a7_0x390edc(0x149)](a7_0x390edc(0x156)),'viewCats':document[a7_0x390edc(0x149)]('view-cats'),'viewList':document[a7_0x390edc(0x149)]('view-list'),'viewSearch':document[a7_0x390edc(0x149)](a7_0x390edc(0x131)),'catTitle':document[a7_0x390edc(0x149)](a7_0x390edc(0x115)),'btnSelectAll':document['getElementById']('btnSelectAll'),'searchInput':document[a7_0x390edc(0x149)](a7_0x390edc(0x10a)),'searchClear':document['getElementById'](a7_0x390edc(0x11e)),'searchResults':document[a7_0x390edc(0x149)](a7_0x390edc(0x191)),'btnSearchCancel':document[a7_0x390edc(0x149)](a7_0x390edc(0x122)),'btnSave':document[a7_0x390edc(0x149)](a7_0x390edc(0x193)),'saveBtnText':document[a7_0x390edc(0x149)](a7_0x390edc(0x10d)),'sentinel':document[a7_0x390edc(0x149)]('sentinel'),'loader':document[a7_0x390edc(0x149)](a7_0x390edc(0x119))};function hideLoader(){const _0x93ff8=a7_0x390edc;el[_0x93ff8(0x16c)][_0x93ff8(0x192)]['add'](_0x93ff8(0x1a8));}function haptic(_0x49cdfa=a7_0x390edc(0x100)){const _0x5bfc14=a7_0x390edc;try{const _0x44c31d=window['Telegram']?.['WebApp']?.[_0x5bfc14(0x13e)];if(_0x44c31d)_0x49cdfa===_0x5bfc14(0x100)?_0x44c31d[_0x5bfc14(0x151)](_0x5bfc14(0x100)):_0x49cdfa==='medium'?_0x44c31d[_0x5bfc14(0x151)]('medium'):_0x44c31d[_0x5bfc14(0x177)]('success');}catch(_0x4d3278){}}const bump=_0x1bb3d0=>{const _0x28c681=a7_0x390edc;if(!_0x1bb3d0)return;_0x1bb3d0['classList'][_0x28c681(0x142)](_0x28c681(0x194)),void _0x1bb3d0[_0x28c681(0x1b4)],_0x1bb3d0['classList'][_0x28c681(0x13c)](_0x28c681(0x194));};document[a7_0x390edc(0x183)](a7_0x390edc(0x140),_0x319b51=>{const _0x390e61=a7_0x390edc,_0x204406=_0x319b51[_0x390e61(0x1ae)][_0x390e61(0x13b)](_0x390e61(0x144));if(!_0x204406)return;haptic(_0x390e61(0x100)),bump(_0x204406);},{'passive':!![]});function isSelectionChanged(){const _0x5481fc=a7_0x390edc;if(state[_0x5481fc(0x170)][_0x5481fc(0x1aa)]!==state[_0x5481fc(0x153)][_0x5481fc(0x1aa)])return!![];for(let _0x41ab4e of state[_0x5481fc(0x170)]){if(!state[_0x5481fc(0x153)][_0x5481fc(0x1a1)](_0x41ab4e))return!![];}return![];}function init(){const _0x4add0e=a7_0x390edc;let _0x469174=window[_0x4add0e(0x1b6)];const _0x4d13d6=document[_0x4add0e(0x15e)](_0x4add0e(0x1b2)),_0x11b2d5=()=>{const _0x2e9a54=_0x4add0e;_0x4d13d6['style']['height']=window[_0x2e9a54(0x145)]+'px',_0x469174=window[_0x2e9a54(0x1b6)];};_0x11b2d5(),window[_0x4add0e(0x183)](_0x4add0e(0x171),()=>{const _0x22bcf5=_0x4add0e;if(window[_0x22bcf5(0x1b6)]!==_0x469174)_0x11b2d5();}),DataService[_0x4add0e(0x1a6)](),el[_0x4add0e(0x10a)][_0x4add0e(0x183)]('input',handleSearch),el[_0x4add0e(0x11e)][_0x4add0e(0x183)](_0x4add0e(0x10c),clearSearch);if(tg)tg['BackButton'][_0x4add0e(0x141)]();const _0x26fb2b=new IntersectionObserver(_0x104b4e=>{const _0x3f3296=_0x4add0e;if(_0x104b4e[0x0][_0x3f3296(0x1ac)])renderNextBatch();},{'rootMargin':_0x4add0e(0x199)});_0x26fb2b[_0x4add0e(0x161)](el[_0x4add0e(0x19c)]);}function renderCategories(){const _0x41d611=a7_0x390edc;el[_0x41d611(0x1a0)][_0x41d611(0x109)]='',DataService['categories'][_0x41d611(0x168)](_0x509679=>{const _0x260ba1=_0x41d611,_0x3742fa=DataService['getProducts'](_0x509679['id']),_0x54d754=_0x3742fa[_0x260ba1(0x146)],_0x18f9ee=_0x3742fa[_0x260ba1(0x11c)](_0x514d14=>state[_0x260ba1(0x170)]['has'](_0x514d14['id']))['length'],_0x4476ab=_0x54d754>0x0?_0x18f9ee/_0x54d754*0x64:0x0,_0x292921=document['createElement'](_0x260ba1(0x176));_0x292921['className']='cat-card',_0x292921['onclick']=()=>openCategory(_0x509679['id']),_0x292921['innerHTML']=_0x260ba1(0x163)+_0x509679[_0x260ba1(0x197)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>'+_0x509679['name']+_0x260ba1(0x178)+_0x18f9ee+_0x260ba1(0x132)+_0x54d754+_0x260ba1(0x10f)+_0x4476ab+_0x260ba1(0x185),el[_0x260ba1(0x1a0)][_0x260ba1(0x110)](_0x292921);});}function openCategory(_0x3befe7){const _0x159e6f=a7_0x390edc;state['activeCatId']=_0x3befe7;const _0x139bc8=DataService[_0x159e6f(0x118)]['find'](_0x3086cd=>_0x3086cd['id']===_0x3befe7);el[_0x159e6f(0x115)]['textContent']=_0x139bc8[_0x159e6f(0x152)],el[_0x159e6f(0x156)][_0x159e6f(0x15d)][_0x159e6f(0x186)]=_0x159e6f(0x1b1);const _0x1f629b=DataService[_0x159e6f(0x17c)](_0x3befe7);startInfiniteRender(_0x1f629b,el[_0x159e6f(0x156)]),updateSelectAllBtn(),el[_0x159e6f(0x103)]['classList'][_0x159e6f(0x13c)]('prev'),el[_0x159e6f(0x103)][_0x159e6f(0x192)][_0x159e6f(0x142)](_0x159e6f(0x124)),el[_0x159e6f(0x196)][_0x159e6f(0x192)]['add']('active'),el[_0x159e6f(0x196)][_0x159e6f(0x192)]['remove'](_0x159e6f(0x19d)),updateSaveButton();if(tg)tg[_0x159e6f(0x159)]['show']();}function goBack(){const _0x5bf6f3=a7_0x390edc;state[_0x5bf6f3(0x143)]=null,el['viewList'][_0x5bf6f3(0x192)][_0x5bf6f3(0x142)](_0x5bf6f3(0x124)),el[_0x5bf6f3(0x103)]['classList']['add'](_0x5bf6f3(0x124)),el[_0x5bf6f3(0x103)][_0x5bf6f3(0x192)][_0x5bf6f3(0x142)](_0x5bf6f3(0x111)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x5bf6f3(0x159)][_0x5bf6f3(0x141)]();}function startInfiniteRender(_0x216d7e,_0x1aec5d,_0x56af58=![]){const _0x52e892=a7_0x390edc;_0x1aec5d[_0x52e892(0x109)]='',_0x1aec5d[_0x52e892(0x15d)][_0x52e892(0x157)]='';if(_0x216d7e['length']===0x0&&_0x56af58){_0x1aec5d[_0x52e892(0x109)]=_0x52e892(0x19e);return;}state[_0x52e892(0x18c)]=_0x216d7e,state[_0x52e892(0x1a2)]=0x0;let _0x5240f6=_0x1aec5d;if(_0x56af58){const _0x15626d=document[_0x52e892(0x134)](_0x52e892(0x176));_0x15626d['className']=_0x52e892(0x164),_0x15626d[_0x52e892(0x15d)]['background']=_0x52e892(0x17d),_0x15626d[_0x52e892(0x15d)]['border']=_0x52e892(0x14d),_0x15626d['style']['boxShadow']='none',_0x1aec5d[_0x52e892(0x110)](_0x15626d),_0x5240f6=_0x15626d;}state[_0x52e892(0x108)]=_0x5240f6,renderNextBatch(_0x56af58);}function renderNextBatch(_0xc2a03d=![]){const _0x4399af=a7_0x390edc;if(state[_0x4399af(0x1a2)]>=state[_0x4399af(0x18c)]['length'])return;const _0x17b9d6=state[_0x4399af(0x18c)][_0x4399af(0x11f)](state[_0x4399af(0x1a2)],state[_0x4399af(0x1a2)]+state[_0x4399af(0x137)]),_0x481118=document[_0x4399af(0x18e)]();_0x17b9d6[_0x4399af(0x168)]((_0xbae534,_0x51b9cd)=>{const _0x2b02ef=_0x4399af,_0x4a30f7=state[_0x2b02ef(0x170)][_0x2b02ef(0x1a1)](_0xbae534['id']),_0x53aa3b=document[_0x2b02ef(0x134)](_0x2b02ef(0x176));_0x53aa3b[_0x2b02ef(0x13a)]='product-row\x20'+(_0x4a30f7?_0x2b02ef(0x170):''),_0x53aa3b[_0x2b02ef(0x183)](_0x2b02ef(0x140),()=>haptic(_0x2b02ef(0x100)),{'passive':!![]}),_0x53aa3b[_0x2b02ef(0x174)]=()=>toggleProduct(_0xbae534['id'],_0x53aa3b),!_0xc2a03d&&(_0x53aa3b['style']['opacity']='0',_0x53aa3b[_0x2b02ef(0x15d)][_0x2b02ef(0x14b)]=_0x2b02ef(0x18a)+_0x51b9cd*0.02+'s',setTimeout(()=>{const _0x4e3e2b=_0x2b02ef;_0x53aa3b[_0x4e3e2b(0x15d)][_0x4e3e2b(0x130)]='1',_0x53aa3b[_0x4e3e2b(0x15d)]['animation']=_0x4e3e2b(0x14d),_0x53aa3b[_0x4e3e2b(0x15d)][_0x4e3e2b(0x114)]='none';},_0x51b9cd*0x14+0x12c)),_0x53aa3b[_0x2b02ef(0x109)]=_0x2b02ef(0x165)+_0xbae534[_0x2b02ef(0x152)]+_0x2b02ef(0x117)+_0xbae534['meta']+_0x2b02ef(0x11b),_0x481118[_0x2b02ef(0x110)](_0x53aa3b);}),state['currentContainer']['appendChild'](_0x481118),state['renderIndex']+=state[_0x4399af(0x137)];}const styleSheet=document[a7_0x390edc(0x134)](a7_0x390edc(0x15d));styleSheet[a7_0x390edc(0x12c)]=a7_0x390edc(0x12f),document[a7_0x390edc(0x112)][a7_0x390edc(0x110)](styleSheet);function a7_0x203b(_0x27c7a7,_0x212874){_0x27c7a7=_0x27c7a7-0x100;const _0x236678=a7_0x4699();let _0x38ba5d=_0x236678[_0x27c7a7];return _0x38ba5d;}function toggleProduct(_0x21b9bf,_0x3c2429){const _0x198558=a7_0x390edc;state[_0x198558(0x170)][_0x198558(0x1a1)](_0x21b9bf)?(state[_0x198558(0x170)][_0x198558(0x133)](_0x21b9bf),_0x3c2429[_0x198558(0x192)]['remove'](_0x198558(0x170))):(state[_0x198558(0x170)][_0x198558(0x13c)](_0x21b9bf),_0x3c2429[_0x198558(0x192)][_0x198558(0x13c)]('selected'));state[_0x198558(0x166)]&&el[_0x198558(0x122)]&&(el[_0x198558(0x122)][_0x198558(0x147)]=state[_0x198558(0x170)][_0x198558(0x1aa)]>0x0?_0x198558(0x126):'–û—Ç–º–µ–Ω–∞',el[_0x198558(0x122)][_0x198558(0x15d)][_0x198558(0x17a)]=state['selected'][_0x198558(0x1aa)]>0x0?_0x198558(0x1a9):_0x198558(0x16f));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x198558(0x166)])updateSelectAllBtn();}function updateSaveButton(){const _0x151352=a7_0x390edc;let _0x50dc67='';if(state[_0x151352(0x143)]){const _0x5ce009=DataService['getProducts'](state[_0x151352(0x143)]),_0x278a4e=_0x5ce009[_0x151352(0x11c)](_0x448960=>state['selected']['has'](_0x448960['id']))[_0x151352(0x146)];_0x50dc67=_0x278a4e>0x0?_0x151352(0x121)+_0x278a4e+')':_0x151352(0x105),el['btnSave'][_0x151352(0x192)][_0x151352(0x13c)]('visible'),el[_0x151352(0x10d)][_0x151352(0x147)]=_0x50dc67;return;}const _0x576d1c=state[_0x151352(0x170)][_0x151352(0x1aa)];_0x50dc67='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x576d1c+')',el['saveBtnText'][_0x151352(0x147)]=_0x50dc67,isSelectionChanged()?el[_0x151352(0x193)]['classList'][_0x151352(0x13c)]('visible'):el[_0x151352(0x193)][_0x151352(0x192)]['remove'](_0x151352(0x18d));}function updateSelectAllBtn(){const _0x43b852=a7_0x390edc;if(!state[_0x43b852(0x143)])return;const _0x39b957=DataService[_0x43b852(0x17c)](state[_0x43b852(0x143)]),_0x225062=_0x39b957[_0x43b852(0x146)]>0x0&&_0x39b957[_0x43b852(0x10b)](_0x58bb5f=>state[_0x43b852(0x170)][_0x43b852(0x1a1)](_0x58bb5f['id']));el[_0x43b852(0x198)][_0x43b852(0x147)]=_0x225062?_0x43b852(0x190):_0x43b852(0x125),el['btnSelectAll'][_0x43b852(0x174)]=()=>toggleAllInCategory(_0x39b957,!_0x225062);}function toggleAllInCategory(_0x145df0,_0x226bc9){const _0x220902=a7_0x390edc;haptic('medium'),_0x145df0[_0x220902(0x168)](_0x584468=>{const _0x1fbd99=_0x220902;if(_0x226bc9)state[_0x1fbd99(0x170)][_0x1fbd99(0x13c)](_0x584468['id']);else state['selected'][_0x1fbd99(0x133)](_0x584468['id']);}),saveSelectionToCache(),startInfiniteRender(_0x145df0,el[_0x220902(0x156)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x317b13){const _0x17f697=a7_0x390edc,_0x1be8f3=_0x317b13[_0x17f697(0x1ae)]['value'][_0x17f697(0x17f)]()[_0x17f697(0x1b5)]();if(_0x1be8f3[_0x17f697(0x146)]>0x0){if(!state[_0x17f697(0x166)])enterSearchMode();const _0x7ec0ec=DataService[_0x17f697(0x12d)](_0x1be8f3);el['searchResults'][_0x17f697(0x15d)][_0x17f697(0x186)]=_0x17f697(0x1a3),startInfiniteRender(_0x7ec0ec,el[_0x17f697(0x191)],!![]);}else el[_0x17f697(0x191)][_0x17f697(0x109)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1a16f1=a7_0x390edc;haptic('medium');if(state[_0x1a16f1(0x143)]&&!state[_0x1a16f1(0x166)]){goBack();return;}const _0x218c8c=el[_0x1a16f1(0x10d)][_0x1a16f1(0x147)];el[_0x1a16f1(0x10d)][_0x1a16f1(0x147)]='–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',el[_0x1a16f1(0x193)][_0x1a16f1(0x15d)][_0x1a16f1(0x154)]=_0x1a16f1(0x14d);const _0x5a40fb=await DataService[_0x1a16f1(0x10e)]();_0x5a40fb?(el[_0x1a16f1(0x10d)][_0x1a16f1(0x147)]=_0x1a16f1(0x155),state['initialSelected']=new Set(state['selected']),setTimeout(()=>{const _0x8d87f7=_0x1a16f1;el[_0x8d87f7(0x193)][_0x8d87f7(0x15d)][_0x8d87f7(0x154)]=_0x8d87f7(0x12e),el['saveBtnText'][_0x8d87f7(0x147)]=_0x218c8c,updateSaveButton();if(state['searchMode'])exitSearchMode();},0x320)):(el['saveBtnText'][_0x1a16f1(0x147)]=_0x1a16f1(0x172),setTimeout(()=>{const _0x988726=_0x1a16f1;el[_0x988726(0x193)][_0x988726(0x15d)][_0x988726(0x154)]=_0x988726(0x12e),el[_0x988726(0x10d)]['textContent']=_0x218c8c;},0x7d0));}function enterSearchMode(){const _0x3e2f11=a7_0x390edc;state[_0x3e2f11(0x166)]=!![];el[_0x3e2f11(0x122)]&&(el[_0x3e2f11(0x122)][_0x3e2f11(0x147)]=_0x3e2f11(0x107),el[_0x3e2f11(0x122)][_0x3e2f11(0x15d)]['fontWeight']=_0x3e2f11(0x16f));document[_0x3e2f11(0x17e)][_0x3e2f11(0x192)]['add'](_0x3e2f11(0x13f)),el[_0x3e2f11(0x103)][_0x3e2f11(0x192)][_0x3e2f11(0x142)](_0x3e2f11(0x124)),el[_0x3e2f11(0x196)][_0x3e2f11(0x192)][_0x3e2f11(0x142)]('active'),el['viewSearch'][_0x3e2f11(0x192)][_0x3e2f11(0x13c)](_0x3e2f11(0x124));if(tg)tg[_0x3e2f11(0x159)][_0x3e2f11(0x141)]();}function exitSearchMode(){const _0x1033d7=a7_0x390edc;state[_0x1033d7(0x166)]=![],document[_0x1033d7(0x17e)]['classList']['remove'](_0x1033d7(0x13f)),el['searchInput'][_0x1033d7(0x106)](),el['viewSearch'][_0x1033d7(0x192)][_0x1033d7(0x142)](_0x1033d7(0x124)),el[_0x1033d7(0x191)]['style'][_0x1033d7(0x186)]=_0x1033d7(0x14d),el['searchInput'][_0x1033d7(0x16a)]='';if(state[_0x1033d7(0x143)])el[_0x1033d7(0x196)]['classList']['add']('active');else el['viewCats']['classList'][_0x1033d7(0x13c)]('active'),renderCategories();updateSaveButton();}init();