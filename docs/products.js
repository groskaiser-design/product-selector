const a7_0x2024a0=a7_0x222f;(function(_0x131986,_0x1c8be9){const _0x5f133f=a7_0x222f,_0x297965=_0x131986();while(!![]){try{const _0x46def5=-parseInt(_0x5f133f(0x16e))/0x1*(-parseInt(_0x5f133f(0x179))/0x2)+parseInt(_0x5f133f(0x1ce))/0x3*(-parseInt(_0x5f133f(0x1a5))/0x4)+parseInt(_0x5f133f(0x17f))/0x5*(-parseInt(_0x5f133f(0x199))/0x6)+parseInt(_0x5f133f(0x15d))/0x7+-parseInt(_0x5f133f(0x182))/0x8*(-parseInt(_0x5f133f(0x160))/0x9)+parseInt(_0x5f133f(0x198))/0xa*(parseInt(_0x5f133f(0x15e))/0xb)+-parseInt(_0x5f133f(0x144))/0xc;if(_0x46def5===_0x1c8be9)break;else _0x297965['push'](_0x297965['shift']());}catch(_0x4d8def){_0x297965['push'](_0x297965['shift']());}}}(a7_0xf643,0xb68ef));const a7_0x567c32=(function(){let _0x2c42af=!![];return function(_0x138bc0,_0x3dc206){const _0x40c280=_0x2c42af?function(){if(_0x3dc206){const _0x2fc8c1=_0x3dc206['apply'](_0x138bc0,arguments);return _0x3dc206=null,_0x2fc8c1;}}:function(){};return _0x2c42af=![],_0x40c280;};}()),a7_0x11ebcb=a7_0x567c32(this,function(){const _0x439c9b=a7_0x222f;return a7_0x11ebcb[_0x439c9b(0x1b7)]()[_0x439c9b(0x18c)](_0x439c9b(0x13d))[_0x439c9b(0x1b7)]()['constructor'](a7_0x11ebcb)[_0x439c9b(0x18c)](_0x439c9b(0x13d));});a7_0x11ebcb();const API_URL='https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec',tg=window[a7_0x2024a0(0x1b4)]?.[a7_0x2024a0(0x176)],TG_INIT_DATA=tg?.[a7_0x2024a0(0x184)]||'';if(tg)try{tg[a7_0x2024a0(0x13a)](),tg[a7_0x2024a0(0x12d)]();try{tg[a7_0x2024a0(0x1d0)](a7_0x2024a0(0x177));if(tg['setBackgroundColor'])tg[a7_0x2024a0(0x131)]('#050505');if(tg[a7_0x2024a0(0x18d)])tg[a7_0x2024a0(0x18d)]();}catch(a7_0x5547ac){console['warn'](a7_0x2024a0(0x171),a7_0x5547ac);}tg[a7_0x2024a0(0x1bc)]&&(tg[a7_0x2024a0(0x1bc)][a7_0x2024a0(0x155)](),tg['BackButton']['offClick'](),tg[a7_0x2024a0(0x1bc)][a7_0x2024a0(0x157)](()=>{const _0x246441=a7_0x2024a0;if(state[_0x246441(0x1bf)])exitSearchMode();else state[_0x246441(0x174)]?goBack():window[_0x246441(0x156)][_0x246441(0x1c5)]='router.html';}));}catch(a7_0x34af45){console[a7_0x2024a0(0x151)](a7_0x2024a0(0x153),a7_0x34af45);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x1862a9=a7_0x2024a0,_0xb848ed=this[_0x1862a9(0x1d1)]();_0xb848ed&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x1862a9(0x152)]();},'loadFromCache'(){const _0x552e27=a7_0x2024a0;try{const _0x22d802=localStorage[_0x552e27(0x16c)](_0x552e27(0x17c));if(_0x22d802){const _0xcd4478=JSON[_0x552e27(0x1b1)](_0x22d802);this['categories']=_0xcd4478[_0x552e27(0x13b)]||[],this['productsMap']=_0xcd4478[_0x552e27(0x194)]||{},this[_0x552e27(0x124)]=_0xcd4478[_0x552e27(0x124)]||0x0;const _0x31e95a=localStorage[_0x552e27(0x16c)]('ultima_cart_v1');if(_0x31e95a){const _0x3cddbd=JSON[_0x552e27(0x1b1)](_0x31e95a);state[_0x552e27(0x1cd)]=new Set(_0x3cddbd),this[_0x552e27(0x138)](),state[_0x552e27(0x18f)]=new Set(state[_0x552e27(0x1cd)]);}return!![];}}catch(_0x25919b){console[_0x552e27(0x151)](_0x25919b);}return![];},async 'syncWithServer'(){const _0x312984=a7_0x2024a0;try{if(!API_URL['includes'](_0x312984(0x19e))){console['warn'](_0x312984(0x14d)),hideLoader();return;}const _0x51ff6e=await fetch(API_URL,{'method':_0x312984(0x164),'headers':{'Content-Type':_0x312984(0x1be)},'body':JSON[_0x312984(0x1a3)]({'action':_0x312984(0x12f),'clientVer':this[_0x312984(0x124)],'initData':TG_INIT_DATA})}),_0x3ebda0=await _0x51ff6e['json']();_0x3ebda0['ok']&&_0x3ebda0[_0x312984(0x134)]&&_0x3ebda0[_0x312984(0x17e)]&&this[_0x312984(0x1cb)](_0x3ebda0[_0x312984(0x17e)],_0x3ebda0[_0x312984(0x124)]);if(_0x3ebda0['ok']&&_0x3ebda0[_0x312984(0x1a7)])try{const _0xf81fcf=JSON[_0x312984(0x1b1)](_0x3ebda0['userSelection']);state[_0x312984(0x1cd)]=new Set(_0xf81fcf),this[_0x312984(0x138)](),state[_0x312984(0x18f)]=new Set(state[_0x312984(0x1cd)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x376add){}hideLoader();}catch(_0x31a20e){console[_0x312984(0x16d)](_0x312984(0x15c),_0x31a20e),hideLoader();if(!DataService[_0x312984(0x13b)][_0x312984(0x161)])alert(_0x312984(0x1b6));}},'processCatalog'(_0x2ed2dd,_0x1fef88){const _0x5c7e7d=a7_0x2024a0;this['categories']=_0x2ed2dd[_0x5c7e7d(0x13b)][_0x5c7e7d(0x1af)](_0x39adde=>({'id':String(_0x39adde['id']),'name':_0x39adde[_0x5c7e7d(0x13c)],'icon':_0x39adde['icon']}));const _0x2951aa={};this[_0x5c7e7d(0x13b)][_0x5c7e7d(0x191)](_0x53906d=>_0x2951aa[_0x53906d['id']]=[]),_0x2ed2dd[_0x5c7e7d(0x181)]&&Array[_0x5c7e7d(0x128)](_0x2ed2dd[_0x5c7e7d(0x181)])&&_0x2ed2dd['products'][_0x5c7e7d(0x191)](_0x24e828=>{const _0x5d0a2d=_0x5c7e7d,_0x2e68c1=String(_0x24e828[0x0]),_0x193b6d=String(_0x24e828[0x1]);if(!_0x2951aa[_0x193b6d])_0x2951aa[_0x193b6d]=[];_0x2951aa[_0x193b6d][_0x5d0a2d(0x13f)]({'id':_0x2e68c1,'name':_0x24e828[0x2],'meta':_0x24e828[0x3]});}),this[_0x5c7e7d(0x194)]=_0x2951aa,this[_0x5c7e7d(0x124)]=_0x1fef88,localStorage['setItem'](_0x5c7e7d(0x17c),JSON[_0x5c7e7d(0x1a3)]({'categories':this[_0x5c7e7d(0x13b)],'productsMap':this[_0x5c7e7d(0x194)],'serverVer':this['serverVer']})),this[_0x5c7e7d(0x138)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x5cd1de=a7_0x2024a0;if(!state[_0x5cd1de(0x1cd)]||state['selected'][_0x5cd1de(0x193)]===0x0)return;const _0xbe4e81=new Set();Object[_0x5cd1de(0x17d)](this[_0x5cd1de(0x194)])['flat']()[_0x5cd1de(0x191)](_0x567abd=>_0xbe4e81[_0x5cd1de(0x129)](_0x567abd['id']));const _0x53b8c0=new Set();state[_0x5cd1de(0x1cd)][_0x5cd1de(0x191)](_0x3ae09b=>{const _0x37d0c3=_0x5cd1de;_0xbe4e81[_0x37d0c3(0x170)](_0x3ae09b)&&_0x53b8c0[_0x37d0c3(0x129)](_0x3ae09b);}),_0x53b8c0[_0x5cd1de(0x193)]!==state[_0x5cd1de(0x1cd)][_0x5cd1de(0x193)]&&(console[_0x5cd1de(0x1b5)](_0x5cd1de(0x197)+(state[_0x5cd1de(0x1cd)][_0x5cd1de(0x193)]-_0x53b8c0['size'])+'\x20zombie\x20products'),state[_0x5cd1de(0x1cd)]=_0x53b8c0,saveSelectionToCache());},'getProducts'(_0x31d891){const _0x4bb415=a7_0x2024a0;return this[_0x4bb415(0x194)][_0x31d891]||[];},'search'(_0xa937af){const _0x1a835d=a7_0x2024a0,_0x46843b=[],_0x11c5eb=_0xa937af['toLowerCase']();return Object[_0x1a835d(0x17d)](this['productsMap'])[_0x1a835d(0x19a)]()[_0x1a835d(0x191)](_0x3beb62=>{const _0xecfdc4=_0x1a835d;if(_0x3beb62[_0xecfdc4(0x13c)][_0xecfdc4(0x125)]()['includes'](_0x11c5eb))_0x46843b[_0xecfdc4(0x13f)](_0x3beb62);}),_0x46843b;},async 'saveSelectionToServer'(){const _0x34b608=a7_0x2024a0;this[_0x34b608(0x138)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x34b608(0x164),'headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON[_0x34b608(0x1a3)]({'action':_0x34b608(0x14b),'initData':TG_INIT_DATA,'selection':Array[_0x34b608(0x167)](state[_0x34b608(0x1cd)])})}),!![];}catch(_0x931304){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function a7_0xf643(){const _0x48378d=['9284254LtGBvH','88UNyGiO','loader','36kixQVQ','length','catTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','POST','–ì–æ—Ç–æ–≤–æ!','medium','from','isIntersecting','div','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','opacity','getItem','warn','1WGMduW','resize','has','Color/Swipe\x20settings\x20error:','–°–Ω—è—Ç—å\x20–≤—Å—ë','display','activeCatId','light','WebApp','#050505','searchResults','1101376KdABwZ','btnSearchCancel','createDocumentFragment','ultima_data_v2','values','catalog','995ouIeFw','classList','products','1151536AnsnbS','onclick','initData','className','cssText','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','body','getElementById','style','search','disableVerticalSwipes','boxShadow','initialSelected','btnSave','forEach','delete','size','productsMap','fontWeight','viewSearch','üßπ\x20Removed\x20','602540EVCHCy','33018XbrVqm','flat','target','pointerEvents','border','script.google.com','200px','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','.fx-layer','impactOccurred','stringify','.cat-card,\x20.btn-save','79692lSFjDz','viewList','userSelection','currentContainer','visible','textContent','cat-card','success','\x20–∏–∑\x20','every','map','renderQueue','parse','background','value','Telegram','log','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','toString','innerWidth','bump','notificationOccurred','innerText','BackButton','transparent','text/plain;charset=utf-8','searchMode','fadeInUp\x200.2s\x20ease\x20forwards\x20','filter','product-list-container','–ù–∞–∑–∞–¥','innerHTML','href','animation','500','addEventListener','remove','productList','processCatalog','find','selected','39YQwmWu','createElement','setHeaderColor','loadFromCache','BATCH_SIZE','saveBtnText','serverVer','toLowerCase','view-list','next','isArray','add','none','block','renderIndex','expand','trim','init','ultima_cart_v1','setBackgroundColor','–û—Ç–º–µ–Ω–∞','flex','needUpdate','getProducts','click','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','cleanupZombieProducts','HapticFeedback','ready','categories','name','(((.+)+)+)+$','searchInput','push','–í—ã–±—Ä–∞—Ç—å\x20(','view-search','offsetWidth','head','9995460nRdboW','sentinel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','catGrid','viewCats','btnSelectAll','meta','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','No\x20API\x20URL','auto','search-active','observe','error','syncWithServer','Critical\x20TMA\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','show','location','onClick','active','touchstart','–û—à–∏–±–∫–∞!','appendChild','Sync\x20skipped:'];a7_0xf643=function(){return _0x48378d;};return a7_0xf643();}function saveSelectionToCache(){const _0x5f01a8=a7_0x2024a0;try{localStorage['setItem'](_0x5f01a8(0x130),JSON[_0x5f01a8(0x1a3)](Array[_0x5f01a8(0x167)](state[_0x5f01a8(0x1cd)])));}catch(_0x4c8563){}}const el={'catGrid':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x147)),'productList':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x1ca)),'viewCats':document[a7_0x2024a0(0x18a)]('view-cats'),'viewList':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x126)),'viewSearch':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x141)),'catTitle':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x162)),'btnSelectAll':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x149)),'searchInput':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x13e)),'searchClear':document[a7_0x2024a0(0x18a)]('searchClear'),'searchResults':document[a7_0x2024a0(0x18a)]('searchResults'),'btnSearchCancel':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x17a)),'btnSave':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x190)),'saveBtnText':document[a7_0x2024a0(0x18a)](a7_0x2024a0(0x123)),'sentinel':document[a7_0x2024a0(0x18a)]('sentinel'),'loader':document[a7_0x2024a0(0x18a)]('appLoader')};function hideLoader(){const _0x20b554=a7_0x2024a0;el[_0x20b554(0x15f)][_0x20b554(0x180)][_0x20b554(0x129)]('hidden');}function haptic(_0x310bab=a7_0x2024a0(0x175)){const _0x24eecd=a7_0x2024a0;try{const _0x4d93e9=window[_0x24eecd(0x1b4)]?.['WebApp']?.[_0x24eecd(0x139)];if(_0x4d93e9)_0x310bab===_0x24eecd(0x175)?_0x4d93e9[_0x24eecd(0x1a2)](_0x24eecd(0x175)):_0x310bab===_0x24eecd(0x166)?_0x4d93e9[_0x24eecd(0x1a2)](_0x24eecd(0x166)):_0x4d93e9[_0x24eecd(0x1ba)](_0x24eecd(0x1ac));}catch(_0x1c66cc){}}const bump=_0x56f0af=>{const _0x130d02=a7_0x2024a0;if(!_0x56f0af)return;_0x56f0af[_0x130d02(0x180)][_0x130d02(0x1c9)](_0x130d02(0x1b9)),void _0x56f0af[_0x130d02(0x142)],_0x56f0af['classList'][_0x130d02(0x129)](_0x130d02(0x1b9));};document[a7_0x2024a0(0x1c8)](a7_0x2024a0(0x159),_0x225e28=>{const _0xc37fd9=a7_0x2024a0,_0x42c3d6=_0x225e28['target']['closest'](_0xc37fd9(0x1a4));if(!_0x42c3d6)return;haptic(_0xc37fd9(0x175)),bump(_0x42c3d6);},{'passive':!![]});function isSelectionChanged(){const _0x1c2a7b=a7_0x2024a0;if(state[_0x1c2a7b(0x1cd)]['size']!==state['initialSelected'][_0x1c2a7b(0x193)])return!![];for(let _0x29dabb of state[_0x1c2a7b(0x1cd)]){if(!state[_0x1c2a7b(0x18f)]['has'](_0x29dabb))return!![];}return![];}function init(){const _0x2dc39a=a7_0x2024a0;let _0x58673a=window[_0x2dc39a(0x1b8)];const _0x45c7f1=document['querySelector'](_0x2dc39a(0x1a1)),_0x3d8444=()=>{const _0x1df703=_0x2dc39a;_0x45c7f1[_0x1df703(0x18b)]['height']=window['innerHeight']+'px',_0x58673a=window[_0x1df703(0x1b8)];};_0x3d8444(),window[_0x2dc39a(0x1c8)](_0x2dc39a(0x16f),()=>{if(window['innerWidth']!==_0x58673a)_0x3d8444();}),DataService['init'](),el['searchInput'][_0x2dc39a(0x1c8)]('input',handleSearch),el['searchClear'][_0x2dc39a(0x1c8)](_0x2dc39a(0x136),clearSearch);if(tg)tg[_0x2dc39a(0x1bc)][_0x2dc39a(0x155)]();const _0x56c458=new IntersectionObserver(_0x35b5f2=>{const _0x498742=_0x2dc39a;if(_0x35b5f2[0x0][_0x498742(0x168)])renderNextBatch();},{'rootMargin':_0x2dc39a(0x19f)});_0x56c458[_0x2dc39a(0x150)](el[_0x2dc39a(0x145)]);}function renderCategories(){const _0x3147b0=a7_0x2024a0;el[_0x3147b0(0x147)][_0x3147b0(0x1c4)]='',DataService[_0x3147b0(0x13b)][_0x3147b0(0x191)](_0x2a522e=>{const _0x3dac66=_0x3147b0,_0x3a9eae=DataService[_0x3dac66(0x135)](_0x2a522e['id']),_0x4a761a=_0x3a9eae['length'],_0xca829c=_0x3a9eae[_0x3dac66(0x1c1)](_0x25dcbf=>state[_0x3dac66(0x1cd)][_0x3dac66(0x170)](_0x25dcbf['id']))[_0x3dac66(0x161)],_0x6f6007=_0x4a761a>0x0?_0xca829c/_0x4a761a*0x64:0x0,_0x5f06dc=document[_0x3dac66(0x1cf)](_0x3dac66(0x169));_0x5f06dc[_0x3dac66(0x185)]=_0x3dac66(0x1ab),_0x5f06dc['onclick']=()=>openCategory(_0x2a522e['id']),_0x5f06dc[_0x3dac66(0x1c4)]=_0x3dac66(0x14c)+_0x2a522e['icon']+_0x3dac66(0x163)+_0x2a522e['name']+_0x3dac66(0x154)+_0xca829c+_0x3dac66(0x1ad)+_0x4a761a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20'+_0x6f6007+_0x3dac66(0x137),el[_0x3dac66(0x147)]['appendChild'](_0x5f06dc);});}function openCategory(_0x44eff1){const _0x1eec55=a7_0x2024a0;state[_0x1eec55(0x174)]=_0x44eff1;const _0x1c2d95=DataService['categories'][_0x1eec55(0x1cc)](_0x418fdb=>_0x418fdb['id']===_0x44eff1);el['catTitle']['textContent']=_0x1c2d95[_0x1eec55(0x13c)],el[_0x1eec55(0x1ca)]['style'][_0x1eec55(0x173)]=_0x1eec55(0x133);const _0xb1d094=DataService[_0x1eec55(0x135)](_0x44eff1);startInfiniteRender(_0xb1d094,el[_0x1eec55(0x1ca)]),updateSelectAllBtn(),el['viewCats'][_0x1eec55(0x180)][_0x1eec55(0x129)]('prev'),el['viewCats']['classList'][_0x1eec55(0x1c9)](_0x1eec55(0x158)),el[_0x1eec55(0x1a6)][_0x1eec55(0x180)]['add'](_0x1eec55(0x158)),el[_0x1eec55(0x1a6)][_0x1eec55(0x180)][_0x1eec55(0x1c9)](_0x1eec55(0x127)),updateSaveButton();if(tg)tg[_0x1eec55(0x1bc)][_0x1eec55(0x155)]();}function goBack(){const _0x5cdeab=a7_0x2024a0;state[_0x5cdeab(0x174)]=null,el['viewList'][_0x5cdeab(0x180)][_0x5cdeab(0x1c9)](_0x5cdeab(0x158)),el[_0x5cdeab(0x148)][_0x5cdeab(0x180)]['add'](_0x5cdeab(0x158)),el['viewCats']['classList'][_0x5cdeab(0x1c9)]('prev'),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x5cdeab(0x1bc)]['show']();}function startInfiniteRender(_0x5f55c4,_0x56e585,_0x33f72b=![]){const _0x5b5270=a7_0x2024a0;_0x56e585['innerHTML']='',_0x56e585[_0x5b5270(0x18b)][_0x5b5270(0x186)]='';if(_0x5f55c4[_0x5b5270(0x161)]===0x0&&_0x33f72b){_0x56e585[_0x5b5270(0x1c4)]='<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>';return;}state[_0x5b5270(0x1b0)]=_0x5f55c4,state['renderIndex']=0x0;let _0x498225=_0x56e585;if(_0x33f72b){const _0x9e67fa=document['createElement']('div');_0x9e67fa['className']=_0x5b5270(0x1c2),_0x9e67fa[_0x5b5270(0x18b)][_0x5b5270(0x1b2)]=_0x5b5270(0x1bd),_0x9e67fa[_0x5b5270(0x18b)][_0x5b5270(0x19d)]=_0x5b5270(0x12a),_0x9e67fa[_0x5b5270(0x18b)][_0x5b5270(0x18e)]=_0x5b5270(0x12a),_0x56e585[_0x5b5270(0x15b)](_0x9e67fa),_0x498225=_0x9e67fa;}state[_0x5b5270(0x1a8)]=_0x498225,renderNextBatch(_0x33f72b);}function renderNextBatch(_0x1825f7=![]){const _0x3f35d=a7_0x2024a0;if(state[_0x3f35d(0x12c)]>=state[_0x3f35d(0x1b0)]['length'])return;const _0x1d2067=state[_0x3f35d(0x1b0)]['slice'](state[_0x3f35d(0x12c)],state[_0x3f35d(0x12c)]+state[_0x3f35d(0x1d2)]),_0x287ae1=document[_0x3f35d(0x17b)]();_0x1d2067[_0x3f35d(0x191)]((_0x3278cd,_0x163a69)=>{const _0x17d22b=_0x3f35d,_0x7138a9=state[_0x17d22b(0x1cd)][_0x17d22b(0x170)](_0x3278cd['id']),_0x101fe3=document[_0x17d22b(0x1cf)](_0x17d22b(0x169));_0x101fe3[_0x17d22b(0x185)]='product-row\x20'+(_0x7138a9?_0x17d22b(0x1cd):''),_0x101fe3['addEventListener'](_0x17d22b(0x159),()=>haptic(_0x17d22b(0x175)),{'passive':!![]}),_0x101fe3[_0x17d22b(0x183)]=()=>toggleProduct(_0x3278cd['id'],_0x101fe3),!_0x1825f7&&(_0x101fe3[_0x17d22b(0x18b)][_0x17d22b(0x16b)]='0',_0x101fe3[_0x17d22b(0x18b)]['animation']=_0x17d22b(0x1c0)+_0x163a69*0.02+'s',setTimeout(()=>{const _0x2ebb54=_0x17d22b;_0x101fe3[_0x2ebb54(0x18b)][_0x2ebb54(0x16b)]='1',_0x101fe3[_0x2ebb54(0x18b)][_0x2ebb54(0x1c6)]=_0x2ebb54(0x12a),_0x101fe3['style']['transform']='none';},_0x163a69*0x14+0x12c)),_0x101fe3['innerHTML']=_0x17d22b(0x146)+_0x3278cd[_0x17d22b(0x13c)]+_0x17d22b(0x187)+_0x3278cd[_0x17d22b(0x14a)]+_0x17d22b(0x1a0),_0x287ae1[_0x17d22b(0x15b)](_0x101fe3);}),state[_0x3f35d(0x1a8)]['appendChild'](_0x287ae1),state[_0x3f35d(0x12c)]+=state[_0x3f35d(0x1d2)];}const styleSheet=document[a7_0x2024a0(0x1cf)]('style');styleSheet[a7_0x2024a0(0x1bb)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document[a7_0x2024a0(0x143)][a7_0x2024a0(0x15b)](styleSheet);function a7_0x222f(_0x10cd1c,_0x3b86eb){_0x10cd1c=_0x10cd1c-0x123;const _0x233baf=a7_0xf643();let _0x11ebcb=_0x233baf[_0x10cd1c];return _0x11ebcb;}function toggleProduct(_0x2ecc99,_0x3688de){const _0x69f9f3=a7_0x2024a0;state['selected'][_0x69f9f3(0x170)](_0x2ecc99)?(state[_0x69f9f3(0x1cd)][_0x69f9f3(0x192)](_0x2ecc99),_0x3688de['classList'][_0x69f9f3(0x1c9)]('selected')):(state['selected'][_0x69f9f3(0x129)](_0x2ecc99),_0x3688de['classList']['add'](_0x69f9f3(0x1cd)));state[_0x69f9f3(0x1bf)]&&el['btnSearchCancel']&&(el[_0x69f9f3(0x17a)]['textContent']=state[_0x69f9f3(0x1cd)][_0x69f9f3(0x193)]>0x0?'–í—ã–±—Ä–∞—Ç—å':_0x69f9f3(0x132),el[_0x69f9f3(0x17a)][_0x69f9f3(0x18b)][_0x69f9f3(0x195)]=state[_0x69f9f3(0x1cd)][_0x69f9f3(0x193)]>0x0?'600':_0x69f9f3(0x1c7));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x69f9f3(0x1bf)])updateSelectAllBtn();}function updateSaveButton(){const _0x4ed5fa=a7_0x2024a0;let _0x5643b7='';if(state[_0x4ed5fa(0x174)]){const _0x2eedb3=DataService['getProducts'](state[_0x4ed5fa(0x174)]),_0x1c9733=_0x2eedb3[_0x4ed5fa(0x1c1)](_0x168bdc=>state['selected'][_0x4ed5fa(0x170)](_0x168bdc['id']))[_0x4ed5fa(0x161)];_0x5643b7=_0x1c9733>0x0?_0x4ed5fa(0x140)+_0x1c9733+')':_0x4ed5fa(0x1c3),el['btnSave'][_0x4ed5fa(0x180)][_0x4ed5fa(0x129)](_0x4ed5fa(0x1a9)),el['saveBtnText']['textContent']=_0x5643b7;return;}const _0x18f392=state[_0x4ed5fa(0x1cd)][_0x4ed5fa(0x193)];_0x5643b7='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x18f392+')',el[_0x4ed5fa(0x123)]['textContent']=_0x5643b7,isSelectionChanged()?el[_0x4ed5fa(0x190)]['classList'][_0x4ed5fa(0x129)]('visible'):el[_0x4ed5fa(0x190)]['classList'][_0x4ed5fa(0x1c9)](_0x4ed5fa(0x1a9));}function updateSelectAllBtn(){const _0x51922b=a7_0x2024a0;if(!state[_0x51922b(0x174)])return;const _0x4dd6aa=DataService[_0x51922b(0x135)](state[_0x51922b(0x174)]),_0x5cca36=_0x4dd6aa[_0x51922b(0x161)]>0x0&&_0x4dd6aa[_0x51922b(0x1ae)](_0x264c20=>state['selected'][_0x51922b(0x170)](_0x264c20['id']));el[_0x51922b(0x149)]['textContent']=_0x5cca36?_0x51922b(0x172):_0x51922b(0x16a),el['btnSelectAll'][_0x51922b(0x183)]=()=>toggleAllInCategory(_0x4dd6aa,!_0x5cca36);}function toggleAllInCategory(_0x3d5155,_0x46e5df){const _0x4bd087=a7_0x2024a0;haptic(_0x4bd087(0x166)),_0x3d5155['forEach'](_0x316182=>{const _0x1c6161=_0x4bd087;if(_0x46e5df)state['selected'][_0x1c6161(0x129)](_0x316182['id']);else state[_0x1c6161(0x1cd)][_0x1c6161(0x192)](_0x316182['id']);}),saveSelectionToCache(),startInfiniteRender(_0x3d5155,el['productList']),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x2c3090){const _0x21eb83=a7_0x2024a0,_0x47c84d=_0x2c3090[_0x21eb83(0x19b)][_0x21eb83(0x1b3)][_0x21eb83(0x125)]()[_0x21eb83(0x12e)]();if(_0x47c84d[_0x21eb83(0x161)]>0x0){if(!state['searchMode'])enterSearchMode();const _0x34775f=DataService['search'](_0x47c84d);el['searchResults'][_0x21eb83(0x18b)]['display']=_0x21eb83(0x12b),startInfiniteRender(_0x34775f,el[_0x21eb83(0x178)],!![]);}else el[_0x21eb83(0x178)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x50efec=a7_0x2024a0;haptic(_0x50efec(0x166));if(state[_0x50efec(0x174)]&&!state['searchMode']){goBack();return;}const _0x470c90=el['saveBtnText'][_0x50efec(0x1aa)];el[_0x50efec(0x123)]['textContent']=_0x50efec(0x188),el[_0x50efec(0x190)][_0x50efec(0x18b)][_0x50efec(0x19c)]=_0x50efec(0x12a);const _0x32f64e=await DataService['saveSelectionToServer']();_0x32f64e?(el[_0x50efec(0x123)]['textContent']=_0x50efec(0x165),state[_0x50efec(0x18f)]=new Set(state[_0x50efec(0x1cd)]),setTimeout(()=>{const _0x3c04f7=_0x50efec;el[_0x3c04f7(0x190)][_0x3c04f7(0x18b)]['pointerEvents']='auto',el[_0x3c04f7(0x123)][_0x3c04f7(0x1aa)]=_0x470c90,updateSaveButton();if(state[_0x3c04f7(0x1bf)])exitSearchMode();},0x320)):(el[_0x50efec(0x123)][_0x50efec(0x1aa)]=_0x50efec(0x15a),setTimeout(()=>{const _0x1db2b2=_0x50efec;el[_0x1db2b2(0x190)][_0x1db2b2(0x18b)]['pointerEvents']=_0x1db2b2(0x14e),el[_0x1db2b2(0x123)]['textContent']=_0x470c90;},0x7d0));}function enterSearchMode(){const _0x1d1f32=a7_0x2024a0;state['searchMode']=!![];el[_0x1d1f32(0x17a)]&&(el[_0x1d1f32(0x17a)][_0x1d1f32(0x1aa)]=_0x1d1f32(0x132),el[_0x1d1f32(0x17a)][_0x1d1f32(0x18b)][_0x1d1f32(0x195)]='500');document[_0x1d1f32(0x189)][_0x1d1f32(0x180)][_0x1d1f32(0x129)](_0x1d1f32(0x14f)),el[_0x1d1f32(0x148)][_0x1d1f32(0x180)]['remove'](_0x1d1f32(0x158)),el[_0x1d1f32(0x1a6)][_0x1d1f32(0x180)]['remove'](_0x1d1f32(0x158)),el[_0x1d1f32(0x196)][_0x1d1f32(0x180)][_0x1d1f32(0x129)]('active');if(tg)tg[_0x1d1f32(0x1bc)][_0x1d1f32(0x155)]();}function exitSearchMode(){const _0x29d378=a7_0x2024a0;state['searchMode']=![],document[_0x29d378(0x189)][_0x29d378(0x180)][_0x29d378(0x1c9)](_0x29d378(0x14f)),el[_0x29d378(0x13e)]['blur'](),el[_0x29d378(0x196)][_0x29d378(0x180)]['remove']('active'),el[_0x29d378(0x178)]['style'][_0x29d378(0x173)]=_0x29d378(0x12a),el[_0x29d378(0x13e)][_0x29d378(0x1b3)]='';if(state[_0x29d378(0x174)])el['viewList'][_0x29d378(0x180)][_0x29d378(0x129)]('active');else el['viewCats'][_0x29d378(0x180)][_0x29d378(0x129)](_0x29d378(0x158)),renderCategories();updateSaveButton();}init();