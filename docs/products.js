const a7_0x5711=a7_0x1eac;(function(_0x58ad0a,_0x28c70e){const _0x5d26b7=a7_0x1eac,_0x115edb=_0x58ad0a();while(!![]){try{const _0x2919e3=parseInt(_0x5d26b7(0xa8))/0x1+parseInt(_0x5d26b7(0xcb))/0x2+parseInt(_0x5d26b7(0x7e))/0x3*(-parseInt(_0x5d26b7(0x114))/0x4)+-parseInt(_0x5d26b7(0x82))/0x5+-parseInt(_0x5d26b7(0xf6))/0x6*(-parseInt(_0x5d26b7(0xd4))/0x7)+parseInt(_0x5d26b7(0x112))/0x8+parseInt(_0x5d26b7(0xe0))/0x9;if(_0x2919e3===_0x28c70e)break;else _0x115edb['push'](_0x115edb['shift']());}catch(_0xd9f4b6){_0x115edb['push'](_0x115edb['shift']());}}}(a7_0x3384,0x63c58));const a7_0x537d1d=(function(){let _0x3c3cb3=!![];return function(_0x1de398,_0x499bbf){const _0x3bc2cd=_0x3c3cb3?function(){const _0x443107=a7_0x1eac;if(_0x499bbf){const _0x196c82=_0x499bbf[_0x443107(0x104)](_0x1de398,arguments);return _0x499bbf=null,_0x196c82;}}:function(){};return _0x3c3cb3=![],_0x3bc2cd;};}()),a7_0x4defd7=a7_0x537d1d(this,function(){const _0x31edbc=a7_0x1eac;return a7_0x4defd7['toString']()[_0x31edbc(0x78)]('(((.+)+)+)+$')['toString']()[_0x31edbc(0xb2)](a7_0x4defd7)['search']('(((.+)+)+)+$');});function a7_0x1eac(_0x338ccb,_0x545835){_0x338ccb=_0x338ccb-0x65;const _0x455a39=a7_0x3384();let _0x4defd7=_0x455a39[_0x338ccb];return _0x4defd7;}a7_0x4defd7();const API_URL=a7_0x5711(0x108),tg=window[a7_0x5711(0xec)]?.[a7_0x5711(0xaa)],TG_INIT_DATA=tg?.[a7_0x5711(0x100)]||'';if(tg)try{tg[a7_0x5711(0x7f)](),tg[a7_0x5711(0xe9)]();try{tg[a7_0x5711(0xea)](a7_0x5711(0xab));if(tg[a7_0x5711(0xa2)])tg[a7_0x5711(0xa2)](a7_0x5711(0xab));if(tg['disableVerticalSwipes'])tg[a7_0x5711(0x68)]();}catch(a7_0x421d1e){console['warn'](a7_0x5711(0x99),a7_0x421d1e);}tg[a7_0x5711(0xdc)]&&(tg[a7_0x5711(0xdc)][a7_0x5711(0x93)](),tg[a7_0x5711(0xdc)][a7_0x5711(0x98)](),tg[a7_0x5711(0xdc)][a7_0x5711(0x6d)](()=>{const _0x1a129a=a7_0x5711;if(state[_0x1a129a(0xca)])exitSearchMode();else state[_0x1a129a(0xa1)]?goBack():window['location'][_0x1a129a(0xf8)]=_0x1a129a(0x109);}));}catch(a7_0xd37bb2){console[a7_0x5711(0xb7)](a7_0x5711(0xaf),a7_0xd37bb2);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x5e8020=a7_0x5711,_0x33a72b=this['loadFromCache']();_0x33a72b&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x5e8020(0xc4)]();},'loadFromCache'(){const _0x1b1193=a7_0x5711;try{const _0xb2a7c=localStorage[_0x1b1193(0xd1)](_0x1b1193(0xf7));if(_0xb2a7c){const _0x3828cc=JSON['parse'](_0xb2a7c);this[_0x1b1193(0x84)]=_0x3828cc[_0x1b1193(0x84)]||[],this[_0x1b1193(0x6e)]=_0x3828cc['productsMap']||{},this[_0x1b1193(0xae)]=_0x3828cc[_0x1b1193(0xae)]||0x0;const _0xdf2337=localStorage[_0x1b1193(0xd1)](_0x1b1193(0x103));if(_0xdf2337){const _0x19ab3e=JSON[_0x1b1193(0xfb)](_0xdf2337);state[_0x1b1193(0xb3)]=new Set(_0x19ab3e),this['cleanupZombieProducts'](),state[_0x1b1193(0xde)]=new Set(state[_0x1b1193(0xb3)]);}return!![];}}catch(_0x29a253){console['error'](_0x29a253);}return![];},async 'syncWithServer'(){const _0x2edb9c=a7_0x5711;try{if(!API_URL[_0x2edb9c(0xb9)](_0x2edb9c(0xe2))){console[_0x2edb9c(0x106)](_0x2edb9c(0x10e)),hideLoader();return;}const _0x4158f0=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x2edb9c(0xfe)},'body':JSON[_0x2edb9c(0x92)]({'action':'init','clientVer':this[_0x2edb9c(0xae)],'initData':TG_INIT_DATA})}),_0x59dd08=await _0x4158f0[_0x2edb9c(0xd9)]();_0x59dd08['ok']&&_0x59dd08[_0x2edb9c(0x6b)]&&_0x59dd08[_0x2edb9c(0x76)]&&this[_0x2edb9c(0x10d)](_0x59dd08['catalog'],_0x59dd08[_0x2edb9c(0xae)]);if(_0x59dd08['ok']&&_0x59dd08[_0x2edb9c(0x6f)])try{const _0x245326=JSON[_0x2edb9c(0xfb)](_0x59dd08[_0x2edb9c(0x6f)]);state[_0x2edb9c(0xb3)]=new Set(_0x245326),this[_0x2edb9c(0xf3)](),state[_0x2edb9c(0xde)]=new Set(state[_0x2edb9c(0xb3)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x252755){}hideLoader();}catch(_0x112310){console['warn'](_0x2edb9c(0x8a),_0x112310),hideLoader();if(!DataService['categories']['length'])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x273fae,_0x26ae2c){const _0x322411=a7_0x5711;this[_0x322411(0x84)]=_0x273fae['categories'][_0x322411(0x88)](_0x462ad0=>({'id':String(_0x462ad0['id']),'name':_0x462ad0['name'],'icon':_0x462ad0[_0x322411(0x117)]}));const _0x4f7ba8={};this[_0x322411(0x84)][_0x322411(0x72)](_0x4f1f77=>_0x4f7ba8[_0x4f1f77['id']]=[]),_0x273fae['products']&&Array['isArray'](_0x273fae[_0x322411(0xd0)])&&_0x273fae[_0x322411(0xd0)][_0x322411(0x72)](_0x5693a6=>{const _0x21fe14=_0x322411,_0x851001=String(_0x5693a6[0x0]),_0x1ad8f4=String(_0x5693a6[0x1]);if(!_0x4f7ba8[_0x1ad8f4])_0x4f7ba8[_0x1ad8f4]=[];_0x4f7ba8[_0x1ad8f4][_0x21fe14(0x7b)]({'id':_0x851001,'name':_0x5693a6[0x2],'meta':_0x5693a6[0x3]});}),this[_0x322411(0x6e)]=_0x4f7ba8,this[_0x322411(0xae)]=_0x26ae2c,localStorage['setItem'](_0x322411(0xf7),JSON[_0x322411(0x92)]({'categories':this[_0x322411(0x84)],'productsMap':this[_0x322411(0x6e)],'serverVer':this[_0x322411(0xae)]})),this[_0x322411(0xf3)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x8e9dc6=a7_0x5711;if(!state[_0x8e9dc6(0xb3)]||state[_0x8e9dc6(0xb3)][_0x8e9dc6(0x105)]===0x0)return;const _0x2eb2c7=new Set();Object[_0x8e9dc6(0x110)](this[_0x8e9dc6(0x6e)])['flat']()['forEach'](_0x5ec99a=>_0x2eb2c7[_0x8e9dc6(0xe6)](_0x5ec99a['id']));const _0x328337=new Set();state['selected'][_0x8e9dc6(0x72)](_0x35a289=>{const _0x4bb187=_0x8e9dc6;_0x2eb2c7[_0x4bb187(0x95)](_0x35a289)&&_0x328337['add'](_0x35a289);}),_0x328337['size']!==state[_0x8e9dc6(0xb3)][_0x8e9dc6(0x105)]&&(console[_0x8e9dc6(0xc0)]('üßπ\x20Removed\x20'+(state[_0x8e9dc6(0xb3)][_0x8e9dc6(0x105)]-_0x328337['size'])+_0x8e9dc6(0xed)),state[_0x8e9dc6(0xb3)]=_0x328337,saveSelectionToCache());},'getProducts'(_0x3362c3){return this['productsMap'][_0x3362c3]||[];},'search'(_0x508bca){const _0x162bc1=a7_0x5711,_0x543980=[],_0xedef89=_0x508bca['toLowerCase']();return Object['values'](this[_0x162bc1(0x6e)])['flat']()[_0x162bc1(0x72)](_0x4cff04=>{const _0x5878c5=_0x162bc1;if(_0x4cff04[_0x5878c5(0xac)][_0x5878c5(0xbf)]()[_0x5878c5(0xb9)](_0xedef89))_0x543980[_0x5878c5(0x7b)](_0x4cff04);}),_0x543980;},async 'saveSelectionToServer'(){const _0x23677c=a7_0x5711;this['cleanupZombieProducts'](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x23677c(0x7c),'headers':{'Content-Type':_0x23677c(0xfe)},'body':JSON[_0x23677c(0x92)]({'action':'save','initData':TG_INIT_DATA,'selection':Array[_0x23677c(0x9f)](state[_0x23677c(0xb3)])})}),!![];}catch(_0x4e968d){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function a7_0x3384(){const _0x2473cc=['head','isIntersecting','remove','add','–í—ã–±—Ä–∞—Ç—å','–ì–æ—Ç–æ–≤–æ!','expand','setHeaderColor','view-cats','Telegram','\x20zombie\x20products','saveSelectionToServer','btnSave','style','getElementById','offsetWidth','cleanupZombieProducts','productList','slice','12CsXsLt','ultima_data_v2','href','renderQueue','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','parse','border','length','text/plain;charset=utf-8','viewSearch','initData','600','observe','ultima_cart_v1','apply','size','warn','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','router.html','cat-card','–ù–∞–∑–∞–¥','auto','processCatalog','No\x20API\x20URL','onclick','values','transform','5365088nMomas','cssText','982108ycDpZB','innerHTML','animation','icon','viewCats','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','light','disableVerticalSwipes','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','product-list-container','needUpdate','impactOccurred','onClick','productsMap','userSelection','block','–û—Ç–º–µ–Ω–∞','forEach','createElement','hidden','–í—ã–±—Ä–∞—Ç—å\x20(','catalog','next','search','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','HapticFeedback','push','POST','bump','6zRixpp','ready','view-search','closest','3267200bLTlsS','classList','categories','prev','background','resize','map','notificationOccurred','Sync\x20skipped:','500','product-row\x20','sentinel','catGrid','init','viewList','value','stringify','show','filter','has','delete','currentContainer','offClick','Color/Swipe\x20settings\x20error:','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','BATCH_SIZE','200px','setItem','innerWidth','from','saveBtnText','activeCatId','setBackgroundColor','div','appendChild','every','none','meta','195522BSCeNk','body','WebApp','#050505','name','target','serverVer','Critical\x20TMA\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','getProducts','constructor','selected','visible','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','error','searchClear','includes','transparent','fontWeight','catTitle','touchstart','–û—à–∏–±–∫–∞!','toLowerCase','log','medium','className','find','syncWithServer','input','pointerEvents','display','fadeInUp\x200.2s\x20ease\x20forwards\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','searchMode','12904DkkrQA','active','searchResults','btnSelectAll','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','products','getItem','innerText','boxShadow','816263IDWyjT','–°–Ω—è—Ç—å\x20–≤—Å—ë','textContent','searchInput','view-list','json','renderIndex','btnSearchCancel','BackButton','search-active','initialSelected','loader','4025970NRppFS','flex','script.google.com'];a7_0x3384=function(){return _0x2473cc;};return a7_0x3384();}function saveSelectionToCache(){const _0x1b28ff=a7_0x5711;try{localStorage[_0x1b28ff(0x9d)](_0x1b28ff(0x103),JSON['stringify'](Array[_0x1b28ff(0x9f)](state[_0x1b28ff(0xb3)])));}catch(_0x42d222){}}const el={'catGrid':document[a7_0x5711(0xf1)]('catGrid'),'productList':document[a7_0x5711(0xf1)]('productList'),'viewCats':document[a7_0x5711(0xf1)](a7_0x5711(0xeb)),'viewList':document[a7_0x5711(0xf1)](a7_0x5711(0xd8)),'viewSearch':document[a7_0x5711(0xf1)](a7_0x5711(0x80)),'catTitle':document['getElementById'](a7_0x5711(0xbc)),'btnSelectAll':document['getElementById']('btnSelectAll'),'searchInput':document[a7_0x5711(0xf1)](a7_0x5711(0xd7)),'searchClear':document[a7_0x5711(0xf1)](a7_0x5711(0xb8)),'searchResults':document[a7_0x5711(0xf1)](a7_0x5711(0xcd)),'btnSearchCancel':document[a7_0x5711(0xf1)](a7_0x5711(0xdb)),'btnSave':document[a7_0x5711(0xf1)](a7_0x5711(0xef)),'saveBtnText':document[a7_0x5711(0xf1)](a7_0x5711(0xa0)),'sentinel':document[a7_0x5711(0xf1)]('sentinel'),'loader':document[a7_0x5711(0xf1)]('appLoader')};function hideLoader(){const _0x240250=a7_0x5711;el[_0x240250(0xdf)][_0x240250(0x83)]['add'](_0x240250(0x74));}function haptic(_0x2c1c61=a7_0x5711(0x67)){const _0x2376f3=a7_0x5711;try{const _0x219e33=window[_0x2376f3(0xec)]?.[_0x2376f3(0xaa)]?.[_0x2376f3(0x7a)];if(_0x219e33)_0x2c1c61===_0x2376f3(0x67)?_0x219e33[_0x2376f3(0x6c)]('light'):_0x2c1c61===_0x2376f3(0xc1)?_0x219e33['impactOccurred']('medium'):_0x219e33[_0x2376f3(0x89)]('success');}catch(_0x36078a){}}const bump=_0x596aa4=>{const _0x1eaff2=a7_0x5711;if(!_0x596aa4)return;_0x596aa4['classList']['remove'](_0x1eaff2(0x7d)),void _0x596aa4[_0x1eaff2(0xf2)],_0x596aa4['classList'][_0x1eaff2(0xe6)](_0x1eaff2(0x7d));};document[a7_0x5711(0xb5)](a7_0x5711(0xbd),_0x3e2e09=>{const _0x293a10=a7_0x5711,_0x513c36=_0x3e2e09[_0x293a10(0xad)][_0x293a10(0x81)]('.cat-card,\x20.btn-save');if(!_0x513c36)return;haptic(_0x293a10(0x67)),bump(_0x513c36);},{'passive':!![]});function isSelectionChanged(){const _0x197e63=a7_0x5711;if(state['selected']['size']!==state['initialSelected'][_0x197e63(0x105)])return!![];for(let _0x40918d of state['selected']){if(!state['initialSelected']['has'](_0x40918d))return!![];}return![];}function init(){const _0x39bbb0=a7_0x5711;let _0x14a976=window['innerWidth'];const _0x34fd24=document['querySelector']('.fx-layer'),_0x570eb7=()=>{const _0x38a3ba=a7_0x1eac;_0x34fd24[_0x38a3ba(0xf0)]['height']=window['innerHeight']+'px',_0x14a976=window[_0x38a3ba(0x9e)];};_0x570eb7(),window[_0x39bbb0(0xb5)](_0x39bbb0(0x87),()=>{if(window['innerWidth']!==_0x14a976)_0x570eb7();}),DataService[_0x39bbb0(0x8f)](),el['searchInput'][_0x39bbb0(0xb5)](_0x39bbb0(0xc5),handleSearch),el[_0x39bbb0(0xb8)][_0x39bbb0(0xb5)]('click',clearSearch);if(tg)tg[_0x39bbb0(0xdc)][_0x39bbb0(0x93)]();const _0x20bdd5=new IntersectionObserver(_0x5933fc=>{const _0x3e9cc3=_0x39bbb0;if(_0x5933fc[0x0][_0x3e9cc3(0xe4)])renderNextBatch();},{'rootMargin':_0x39bbb0(0x9c)});_0x20bdd5[_0x39bbb0(0x102)](el[_0x39bbb0(0x8d)]);}function renderCategories(){const _0x42019d=a7_0x5711;el[_0x42019d(0x8e)][_0x42019d(0x115)]='',DataService['categories']['forEach'](_0x3416d9=>{const _0x1ac8c0=_0x42019d,_0x1721de=DataService[_0x1ac8c0(0xb1)](_0x3416d9['id']),_0x3c86e8=_0x1721de['length'],_0x27a624=_0x1721de['filter'](_0x5555b4=>state['selected'][_0x1ac8c0(0x95)](_0x5555b4['id']))[_0x1ac8c0(0xfd)],_0x41ed9e=_0x3c86e8>0x0?_0x27a624/_0x3c86e8*0x64:0x0,_0xc33b05=document[_0x1ac8c0(0x73)](_0x1ac8c0(0xa3));_0xc33b05[_0x1ac8c0(0xc2)]=_0x1ac8c0(0x10a),_0xc33b05[_0x1ac8c0(0x10f)]=()=>openCategory(_0x3416d9['id']),_0xc33b05[_0x1ac8c0(0x115)]=_0x1ac8c0(0xb6)+_0x3416d9[_0x1ac8c0(0x117)]+_0x1ac8c0(0x66)+_0x3416d9['name']+_0x1ac8c0(0xb0)+_0x27a624+'\x20–∏–∑\x20'+_0x3c86e8+_0x1ac8c0(0xc9)+_0x41ed9e+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el[_0x1ac8c0(0x8e)][_0x1ac8c0(0xa4)](_0xc33b05);});}function openCategory(_0x2c4096){const _0x3a95c9=a7_0x5711;state['activeCatId']=_0x2c4096;const _0x5d2bd5=DataService[_0x3a95c9(0x84)][_0x3a95c9(0xc3)](_0x21e8d5=>_0x21e8d5['id']===_0x2c4096);el[_0x3a95c9(0xbc)][_0x3a95c9(0xd6)]=_0x5d2bd5[_0x3a95c9(0xac)],el[_0x3a95c9(0xf4)]['style'][_0x3a95c9(0xc7)]=_0x3a95c9(0xe1);const _0x3337c2=DataService[_0x3a95c9(0xb1)](_0x2c4096);startInfiniteRender(_0x3337c2,el['productList']),updateSelectAllBtn(),el[_0x3a95c9(0x65)][_0x3a95c9(0x83)][_0x3a95c9(0xe6)](_0x3a95c9(0x85)),el['viewCats'][_0x3a95c9(0x83)]['remove'](_0x3a95c9(0xcc)),el[_0x3a95c9(0x90)]['classList']['add'](_0x3a95c9(0xcc)),el[_0x3a95c9(0x90)][_0x3a95c9(0x83)]['remove'](_0x3a95c9(0x77)),updateSaveButton();if(tg)tg[_0x3a95c9(0xdc)]['show']();}function goBack(){const _0x1bd5d0=a7_0x5711;state[_0x1bd5d0(0xa1)]=null,el[_0x1bd5d0(0x90)][_0x1bd5d0(0x83)][_0x1bd5d0(0xe5)](_0x1bd5d0(0xcc)),el[_0x1bd5d0(0x65)][_0x1bd5d0(0x83)][_0x1bd5d0(0xe6)]('active'),el['viewCats'][_0x1bd5d0(0x83)]['remove'](_0x1bd5d0(0x85)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton'][_0x1bd5d0(0x93)]();}function startInfiniteRender(_0x20b722,_0x36e667,_0x2878ac=![]){const _0xd1bb58=a7_0x5711;_0x36e667[_0xd1bb58(0x115)]='',_0x36e667['style'][_0xd1bb58(0x113)]='';if(_0x20b722[_0xd1bb58(0xfd)]===0x0&&_0x2878ac){_0x36e667[_0xd1bb58(0x115)]=_0xd1bb58(0xcf);return;}state[_0xd1bb58(0xf9)]=_0x20b722,state['renderIndex']=0x0;let _0x2e5306=_0x36e667;if(_0x2878ac){const _0x5db857=document[_0xd1bb58(0x73)](_0xd1bb58(0xa3));_0x5db857['className']=_0xd1bb58(0x6a),_0x5db857['style'][_0xd1bb58(0x86)]=_0xd1bb58(0xba),_0x5db857[_0xd1bb58(0xf0)][_0xd1bb58(0xfc)]=_0xd1bb58(0xa6),_0x5db857[_0xd1bb58(0xf0)][_0xd1bb58(0xd3)]=_0xd1bb58(0xa6),_0x36e667[_0xd1bb58(0xa4)](_0x5db857),_0x2e5306=_0x5db857;}state['currentContainer']=_0x2e5306,renderNextBatch(_0x2878ac);}function renderNextBatch(_0x1bd075=![]){const _0x548f8e=a7_0x5711;if(state[_0x548f8e(0xda)]>=state[_0x548f8e(0xf9)]['length'])return;const _0x5d3013=state['renderQueue'][_0x548f8e(0xf5)](state[_0x548f8e(0xda)],state[_0x548f8e(0xda)]+state[_0x548f8e(0x9b)]),_0x44133b=document['createDocumentFragment']();_0x5d3013[_0x548f8e(0x72)]((_0x352fe7,_0x48df98)=>{const _0x2109d0=_0x548f8e,_0x418abf=state['selected'][_0x2109d0(0x95)](_0x352fe7['id']),_0x28ea89=document[_0x2109d0(0x73)]('div');_0x28ea89[_0x2109d0(0xc2)]=_0x2109d0(0x8c)+(_0x418abf?'selected':''),_0x28ea89[_0x2109d0(0xb5)](_0x2109d0(0xbd),()=>haptic('light'),{'passive':!![]}),_0x28ea89[_0x2109d0(0x10f)]=()=>toggleProduct(_0x352fe7['id'],_0x28ea89),!_0x1bd075&&(_0x28ea89[_0x2109d0(0xf0)]['opacity']='0',_0x28ea89[_0x2109d0(0xf0)][_0x2109d0(0x116)]=_0x2109d0(0xc8)+_0x48df98*0.02+'s',setTimeout(()=>{const _0xf45e=_0x2109d0;_0x28ea89[_0xf45e(0xf0)]['opacity']='1',_0x28ea89['style'][_0xf45e(0x116)]=_0xf45e(0xa6),_0x28ea89[_0xf45e(0xf0)][_0xf45e(0x111)]=_0xf45e(0xa6);},_0x48df98*0x14+0x12c)),_0x28ea89[_0x2109d0(0x115)]=_0x2109d0(0x79)+_0x352fe7[_0x2109d0(0xac)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>'+_0x352fe7[_0x2109d0(0xa7)]+_0x2109d0(0xfa),_0x44133b[_0x2109d0(0xa4)](_0x28ea89);}),state[_0x548f8e(0x97)][_0x548f8e(0xa4)](_0x44133b),state['renderIndex']+=state['BATCH_SIZE'];}const styleSheet=document[a7_0x5711(0x73)](a7_0x5711(0xf0));styleSheet[a7_0x5711(0xd2)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document[a7_0x5711(0xe3)][a7_0x5711(0xa4)](styleSheet);function toggleProduct(_0x5b45ea,_0x561b0b){const _0x2d06df=a7_0x5711;state[_0x2d06df(0xb3)][_0x2d06df(0x95)](_0x5b45ea)?(state[_0x2d06df(0xb3)][_0x2d06df(0x96)](_0x5b45ea),_0x561b0b[_0x2d06df(0x83)]['remove'](_0x2d06df(0xb3))):(state[_0x2d06df(0xb3)][_0x2d06df(0xe6)](_0x5b45ea),_0x561b0b[_0x2d06df(0x83)]['add'](_0x2d06df(0xb3)));state[_0x2d06df(0xca)]&&el[_0x2d06df(0xdb)]&&(el[_0x2d06df(0xdb)][_0x2d06df(0xd6)]=state[_0x2d06df(0xb3)]['size']>0x0?_0x2d06df(0xe7):_0x2d06df(0x71),el[_0x2d06df(0xdb)][_0x2d06df(0xf0)][_0x2d06df(0xbb)]=state[_0x2d06df(0xb3)][_0x2d06df(0x105)]>0x0?_0x2d06df(0x101):_0x2d06df(0x8b));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x2d06df(0xca)])updateSelectAllBtn();}function updateSaveButton(){const _0x3093f8=a7_0x5711;let _0x1279cd='';if(state[_0x3093f8(0xa1)]){const _0x3401e9=DataService[_0x3093f8(0xb1)](state[_0x3093f8(0xa1)]),_0xd6a06c=_0x3401e9[_0x3093f8(0x94)](_0x3ece12=>state[_0x3093f8(0xb3)][_0x3093f8(0x95)](_0x3ece12['id']))[_0x3093f8(0xfd)];_0x1279cd=_0xd6a06c>0x0?_0x3093f8(0x75)+_0xd6a06c+')':_0x3093f8(0x10b),el[_0x3093f8(0xef)]['classList']['add'](_0x3093f8(0xb4)),el[_0x3093f8(0xa0)][_0x3093f8(0xd6)]=_0x1279cd;return;}const _0x3bee2b=state[_0x3093f8(0xb3)][_0x3093f8(0x105)];_0x1279cd=_0x3093f8(0x107)+_0x3bee2b+')',el[_0x3093f8(0xa0)][_0x3093f8(0xd6)]=_0x1279cd,isSelectionChanged()?el[_0x3093f8(0xef)][_0x3093f8(0x83)][_0x3093f8(0xe6)](_0x3093f8(0xb4)):el[_0x3093f8(0xef)][_0x3093f8(0x83)]['remove'](_0x3093f8(0xb4));}function updateSelectAllBtn(){const _0x35ba73=a7_0x5711;if(!state[_0x35ba73(0xa1)])return;const _0x1ae353=DataService['getProducts'](state['activeCatId']),_0x28c54e=_0x1ae353[_0x35ba73(0xfd)]>0x0&&_0x1ae353[_0x35ba73(0xa5)](_0x2a826b=>state[_0x35ba73(0xb3)][_0x35ba73(0x95)](_0x2a826b['id']));el[_0x35ba73(0xce)][_0x35ba73(0xd6)]=_0x28c54e?_0x35ba73(0xd5):_0x35ba73(0x9a),el[_0x35ba73(0xce)][_0x35ba73(0x10f)]=()=>toggleAllInCategory(_0x1ae353,!_0x28c54e);}function toggleAllInCategory(_0x56e63f,_0xcb8dd4){const _0x1bfd99=a7_0x5711;haptic(_0x1bfd99(0xc1)),_0x56e63f[_0x1bfd99(0x72)](_0x5d5a64=>{const _0x2bcfbb=_0x1bfd99;if(_0xcb8dd4)state['selected'][_0x2bcfbb(0xe6)](_0x5d5a64['id']);else state[_0x2bcfbb(0xb3)]['delete'](_0x5d5a64['id']);}),saveSelectionToCache(),startInfiniteRender(_0x56e63f,el[_0x1bfd99(0xf4)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x3e69a5){const _0x51cd2c=a7_0x5711,_0x10b77d=_0x3e69a5[_0x51cd2c(0xad)][_0x51cd2c(0x91)]['toLowerCase']()['trim']();if(_0x10b77d[_0x51cd2c(0xfd)]>0x0){if(!state[_0x51cd2c(0xca)])enterSearchMode();const _0x57920f=DataService[_0x51cd2c(0x78)](_0x10b77d);el[_0x51cd2c(0xcd)][_0x51cd2c(0xf0)][_0x51cd2c(0xc7)]=_0x51cd2c(0x70),startInfiniteRender(_0x57920f,el[_0x51cd2c(0xcd)],!![]);}else el[_0x51cd2c(0xcd)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1eacce=a7_0x5711;haptic(_0x1eacce(0xc1));if(state[_0x1eacce(0xa1)]&&!state[_0x1eacce(0xca)]){goBack();return;}const _0x311bb3=el['saveBtnText'][_0x1eacce(0xd6)];el[_0x1eacce(0xa0)][_0x1eacce(0xd6)]=_0x1eacce(0x69),el['btnSave'][_0x1eacce(0xf0)][_0x1eacce(0xc6)]=_0x1eacce(0xa6);const _0x127afc=await DataService[_0x1eacce(0xee)]();_0x127afc?(el[_0x1eacce(0xa0)][_0x1eacce(0xd6)]=_0x1eacce(0xe8),state['initialSelected']=new Set(state[_0x1eacce(0xb3)]),setTimeout(()=>{const _0x2584a4=_0x1eacce;el[_0x2584a4(0xef)][_0x2584a4(0xf0)][_0x2584a4(0xc6)]=_0x2584a4(0x10c),el[_0x2584a4(0xa0)][_0x2584a4(0xd6)]=_0x311bb3,updateSaveButton();if(state[_0x2584a4(0xca)])exitSearchMode();},0x320)):(el[_0x1eacce(0xa0)][_0x1eacce(0xd6)]=_0x1eacce(0xbe),setTimeout(()=>{const _0xd970e2=_0x1eacce;el[_0xd970e2(0xef)]['style'][_0xd970e2(0xc6)]='auto',el[_0xd970e2(0xa0)][_0xd970e2(0xd6)]=_0x311bb3;},0x7d0));}function enterSearchMode(){const _0x4ae569=a7_0x5711;state[_0x4ae569(0xca)]=!![];el[_0x4ae569(0xdb)]&&(el['btnSearchCancel']['textContent']='–û—Ç–º–µ–Ω–∞',el[_0x4ae569(0xdb)][_0x4ae569(0xf0)]['fontWeight']=_0x4ae569(0x8b));document[_0x4ae569(0xa9)][_0x4ae569(0x83)][_0x4ae569(0xe6)](_0x4ae569(0xdd)),el[_0x4ae569(0x65)][_0x4ae569(0x83)][_0x4ae569(0xe5)]('active'),el['viewList'][_0x4ae569(0x83)][_0x4ae569(0xe5)](_0x4ae569(0xcc)),el[_0x4ae569(0xff)][_0x4ae569(0x83)][_0x4ae569(0xe6)](_0x4ae569(0xcc));if(tg)tg[_0x4ae569(0xdc)]['show']();}function exitSearchMode(){const _0x5dbe9e=a7_0x5711;state[_0x5dbe9e(0xca)]=![],document[_0x5dbe9e(0xa9)][_0x5dbe9e(0x83)]['remove']('search-active'),el[_0x5dbe9e(0xd7)]['blur'](),el['viewSearch'][_0x5dbe9e(0x83)][_0x5dbe9e(0xe5)]('active'),el[_0x5dbe9e(0xcd)][_0x5dbe9e(0xf0)][_0x5dbe9e(0xc7)]=_0x5dbe9e(0xa6),el[_0x5dbe9e(0xd7)][_0x5dbe9e(0x91)]='';if(state[_0x5dbe9e(0xa1)])el[_0x5dbe9e(0x90)][_0x5dbe9e(0x83)][_0x5dbe9e(0xe6)](_0x5dbe9e(0xcc));else el[_0x5dbe9e(0x65)][_0x5dbe9e(0x83)][_0x5dbe9e(0xe6)](_0x5dbe9e(0xcc)),renderCategories();updateSaveButton();}init();