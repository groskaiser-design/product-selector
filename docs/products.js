const a7_0x47671f=a7_0x15ac;function a7_0x18f9(){const _0x9c39b4=['product-list-container','forEach','productList','blur','renderQueue','initialSelected','from','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','visible','warn','ultima_cart_v1','200px','boxShadow','notificationOccurred','value','light','innerHTML','meta','viewCats','head','next','saveBtnText','impactOccurred','textContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','search','none','catalog','appendChild','querySelector','block','\x20–∏–∑\x20','Sync\x20skipped:','offClick','selected','offsetWidth','2064628rCrZQF','flat','getElementById','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','createDocumentFragment','loadFromCache','cleanupZombieProducts','categories','getProducts','processCatalog','–û—à–∏–±–∫–∞!','HapticFeedback','target','WebApp','searchMode','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','setHeaderColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','–û—Ç–º–µ–Ω–∞','includes','getItem','activeCatId','1680XxUmxT','setItem','renderIndex','searchResults','addEventListener','isArray','animation','fadeInUp\x200.2s\x20ease\x20forwards\x20','ready','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','serverVer','–í—ã–±—Ä–∞—Ç—å','Critical\x20TMA\x20Error:','–ì–æ—Ç–æ–≤–æ!','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','viewSearch','.fx-layer','touchstart','bump','disableVerticalSwipes','show','loader','expand','save','trim','cat-card','9985GrAdhX','delete','height','border','error','42231yegtWt','location','json','flex','find','view-cats','input','length','stringify','onclick','600','Telegram','background','btnSave','className','href','search-active','currentContainer','prev','auto','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','filter','#050505','parse','view-list','remove','setBackgroundColor','add','needUpdate','icon','innerText','active','POST','classList','searchInput','opacity','saveSelectionToServer','size','isIntersecting','click','createElement','userSelection','btnSelectAll','1560828QmClRG','pointerEvents','toLowerCase','apply','resize','body','viewList','has','style','display','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','255767yJKXsI','product-row\x20','map','init','catTitle','fontWeight','9MNkgPD','37510420OwdlVE','btnSearchCancel','productsMap','script.google.com','values','slice','catGrid','ultima_data_v2','toString','transparent','products','BATCH_SIZE','3872904MQFwMg','Color/Swipe\x20settings\x20error:','500','success','BackButton','log','name','(((.+)+)+)+$','onClick','–í—ã–±—Ä–∞—Ç—å\x20(','appLoader','3246BLpNcw','innerWidth','medium','text/plain;charset=utf-8','constructor','searchClear','push','transform','üßπ\x20Removed\x20','closest'];a7_0x18f9=function(){return _0x9c39b4;};return a7_0x18f9();}(function(_0x36996d,_0x28a315){const _0x4f4304=a7_0x15ac,_0x811b34=_0x36996d();while(!![]){try{const _0x50be78=parseInt(_0x4f4304(0x21a))/0x1+parseInt(_0x4f4304(0x266))/0x2+parseInt(_0x4f4304(0x22d))/0x3+-parseInt(_0x4f4304(0x20f))/0x4+-parseInt(_0x4f4304(0x1df))/0x5*(-parseInt(_0x4f4304(0x238))/0x6)+parseInt(_0x4f4304(0x1e4))/0x7*(parseInt(_0x4f4304(0x1c5))/0x8)+-parseInt(_0x4f4304(0x220))/0x9*(parseInt(_0x4f4304(0x221))/0xa);if(_0x50be78===_0x28a315)break;else _0x811b34['push'](_0x811b34['shift']());}catch(_0x109c92){_0x811b34['push'](_0x811b34['shift']());}}}(a7_0x18f9,0xbfad3));const a7_0x1bb315=(function(){let _0xc3ff7d=!![];return function(_0x511a9a,_0x82146c){const _0x361ab4=_0xc3ff7d?function(){const _0x4faedb=a7_0x15ac;if(_0x82146c){const _0x12709e=_0x82146c[_0x4faedb(0x212)](_0x511a9a,arguments);return _0x82146c=null,_0x12709e;}}:function(){};return _0xc3ff7d=![],_0x361ab4;};}()),a7_0x2be8bf=a7_0x1bb315(this,function(){const _0x14c66e=a7_0x15ac;return a7_0x2be8bf['toString']()[_0x14c66e(0x25b)](_0x14c66e(0x234))[_0x14c66e(0x229)]()[_0x14c66e(0x23c)](a7_0x2be8bf)[_0x14c66e(0x25b)]('(((.+)+)+)+$');});a7_0x2be8bf();const API_URL=a7_0x47671f(0x1ce),tg=window[a7_0x47671f(0x1ef)]?.[a7_0x47671f(0x1bb)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x47671f(0x1cd)](),tg[a7_0x47671f(0x1db)]();try{tg[a7_0x47671f(0x1bf)](a7_0x47671f(0x1fa));if(tg[a7_0x47671f(0x1fe)])tg[a7_0x47671f(0x1fe)](a7_0x47671f(0x1fa));if(tg[a7_0x47671f(0x1d8)])tg[a7_0x47671f(0x1d8)]();}catch(a7_0x23e127){console[a7_0x47671f(0x24b)](a7_0x47671f(0x22e),a7_0x23e127);}tg[a7_0x47671f(0x231)]&&(tg['BackButton'][a7_0x47671f(0x1d9)](),tg['BackButton'][a7_0x47671f(0x263)](),tg['BackButton'][a7_0x47671f(0x235)](()=>{const _0x563af4=a7_0x47671f;if(state[_0x563af4(0x1bc)])exitSearchMode();else state[_0x563af4(0x1c4)]?goBack():window[_0x563af4(0x1e5)][_0x563af4(0x1f3)]='router.html';}));}catch(a7_0x33040f){console[a7_0x47671f(0x1e3)](a7_0x47671f(0x1d1),a7_0x33040f);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x4780a8=a7_0x47671f,_0x2e750a=this[_0x4780a8(0x26b)]();_0x2e750a&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x54641f=a7_0x47671f;try{const _0x510113=localStorage[_0x54641f(0x1c3)](_0x54641f(0x228));if(_0x510113){const _0x119e8e=JSON[_0x54641f(0x1fb)](_0x510113);this[_0x54641f(0x26d)]=_0x119e8e['categories']||[],this[_0x54641f(0x223)]=_0x119e8e[_0x54641f(0x223)]||{},this[_0x54641f(0x1cf)]=_0x119e8e[_0x54641f(0x1cf)]||0x0;const _0x2909f2=localStorage[_0x54641f(0x1c3)](_0x54641f(0x24c));if(_0x2909f2){const _0x120bcb=JSON[_0x54641f(0x1fb)](_0x2909f2);state['selected']=new Set(_0x120bcb),this[_0x54641f(0x26c)](),state[_0x54641f(0x247)]=new Set(state[_0x54641f(0x264)]);}return!![];}}catch(_0x227b57){console[_0x54641f(0x1e3)](_0x227b57);}return![];},async 'syncWithServer'(){const _0x24134a=a7_0x47671f;try{if(!API_URL[_0x24134a(0x1c2)](_0x24134a(0x224))){console[_0x24134a(0x24b)]('No\x20API\x20URL'),hideLoader();return;}const _0x40e452=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x24134a(0x23b)},'body':JSON[_0x24134a(0x1ec)]({'action':_0x24134a(0x21d),'clientVer':this[_0x24134a(0x1cf)],'initData':TG_INIT_DATA})}),_0x31da4a=await _0x40e452[_0x24134a(0x1e6)]();_0x31da4a['ok']&&_0x31da4a[_0x24134a(0x200)]&&_0x31da4a[_0x24134a(0x25d)]&&this[_0x24134a(0x26f)](_0x31da4a[_0x24134a(0x25d)],_0x31da4a[_0x24134a(0x1cf)]);if(_0x31da4a['ok']&&_0x31da4a['userSelection'])try{const _0x1a247f=JSON[_0x24134a(0x1fb)](_0x31da4a[_0x24134a(0x20d)]);state[_0x24134a(0x264)]=new Set(_0x1a247f),this[_0x24134a(0x26c)](),state[_0x24134a(0x247)]=new Set(state[_0x24134a(0x264)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x35fd04){}hideLoader();}catch(_0x50fc45){console['warn'](_0x24134a(0x262),_0x50fc45),hideLoader();if(!DataService['categories'][_0x24134a(0x1eb)])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x12bc9e,_0x10b739){const _0x5e9797=a7_0x47671f;this[_0x5e9797(0x26d)]=_0x12bc9e['categories'][_0x5e9797(0x21c)](_0x29015e=>({'id':String(_0x29015e['id']),'name':_0x29015e[_0x5e9797(0x233)],'icon':_0x29015e[_0x5e9797(0x201)]}));const _0x52c790={};this['categories'][_0x5e9797(0x243)](_0xd265fd=>_0x52c790[_0xd265fd['id']]=[]),_0x12bc9e[_0x5e9797(0x22b)]&&Array[_0x5e9797(0x1ca)](_0x12bc9e[_0x5e9797(0x22b)])&&_0x12bc9e[_0x5e9797(0x22b)][_0x5e9797(0x243)](_0x2488e0=>{const _0x334288=_0x5e9797,_0x3bcb33=String(_0x2488e0[0x0]),_0xcb90d2=String(_0x2488e0[0x1]);if(!_0x52c790[_0xcb90d2])_0x52c790[_0xcb90d2]=[];_0x52c790[_0xcb90d2][_0x334288(0x23e)]({'id':_0x3bcb33,'name':_0x2488e0[0x2],'meta':_0x2488e0[0x3]});}),this[_0x5e9797(0x223)]=_0x52c790,this[_0x5e9797(0x1cf)]=_0x10b739,localStorage[_0x5e9797(0x1c6)](_0x5e9797(0x228),JSON[_0x5e9797(0x1ec)]({'categories':this['categories'],'productsMap':this[_0x5e9797(0x223)],'serverVer':this[_0x5e9797(0x1cf)]})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x2b8f56=a7_0x47671f;if(!state[_0x2b8f56(0x264)]||state['selected'][_0x2b8f56(0x209)]===0x0)return;const _0x5dc49d=new Set();Object['values'](this[_0x2b8f56(0x223)])['flat']()[_0x2b8f56(0x243)](_0x366479=>_0x5dc49d[_0x2b8f56(0x1ff)](_0x366479['id']));const _0x118997=new Set();state[_0x2b8f56(0x264)]['forEach'](_0x52e832=>{const _0x50a0b7=_0x2b8f56;_0x5dc49d['has'](_0x52e832)&&_0x118997[_0x50a0b7(0x1ff)](_0x52e832);}),_0x118997[_0x2b8f56(0x209)]!==state[_0x2b8f56(0x264)][_0x2b8f56(0x209)]&&(console[_0x2b8f56(0x232)](_0x2b8f56(0x240)+(state['selected'][_0x2b8f56(0x209)]-_0x118997[_0x2b8f56(0x209)])+'\x20zombie\x20products'),state[_0x2b8f56(0x264)]=_0x118997,saveSelectionToCache());},'getProducts'(_0x2f28a0){const _0x25ca4f=a7_0x47671f;return this[_0x25ca4f(0x223)][_0x2f28a0]||[];},'search'(_0xd34182){const _0x3d83f1=a7_0x47671f,_0x32b26e=[],_0x578253=_0xd34182[_0x3d83f1(0x211)]();return Object[_0x3d83f1(0x225)](this[_0x3d83f1(0x223)])[_0x3d83f1(0x267)]()[_0x3d83f1(0x243)](_0x4bdbaa=>{const _0x22ede6=_0x3d83f1;if(_0x4bdbaa[_0x22ede6(0x233)][_0x22ede6(0x211)]()[_0x22ede6(0x1c2)](_0x578253))_0x32b26e[_0x22ede6(0x23e)](_0x4bdbaa);}),_0x32b26e;},async 'saveSelectionToServer'(){const _0x5bc9be=a7_0x47671f;this['cleanupZombieProducts'](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x5bc9be(0x204),'headers':{'Content-Type':_0x5bc9be(0x23b)},'body':JSON[_0x5bc9be(0x1ec)]({'action':_0x5bc9be(0x1dc),'initData':TG_INIT_DATA,'selection':Array[_0x5bc9be(0x248)](state[_0x5bc9be(0x264)])})}),!![];}catch(_0x34f5fe){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x147984=a7_0x47671f;try{localStorage[_0x147984(0x1c6)](_0x147984(0x24c),JSON[_0x147984(0x1ec)](Array[_0x147984(0x248)](state['selected'])));}catch(_0x45ea09){}}function a7_0x15ac(_0x524c95,_0x32ca8c){_0x524c95=_0x524c95-0x1ba;const _0x8a8356=a7_0x18f9();let _0x2be8bf=_0x8a8356[_0x524c95];return _0x2be8bf;}const el={'catGrid':document[a7_0x47671f(0x268)](a7_0x47671f(0x227)),'productList':document[a7_0x47671f(0x268)](a7_0x47671f(0x244)),'viewCats':document['getElementById'](a7_0x47671f(0x1e9)),'viewList':document[a7_0x47671f(0x268)](a7_0x47671f(0x1fc)),'viewSearch':document['getElementById']('view-search'),'catTitle':document[a7_0x47671f(0x268)](a7_0x47671f(0x21e)),'btnSelectAll':document['getElementById']('btnSelectAll'),'searchInput':document['getElementById'](a7_0x47671f(0x206)),'searchClear':document[a7_0x47671f(0x268)](a7_0x47671f(0x23d)),'searchResults':document[a7_0x47671f(0x268)](a7_0x47671f(0x1c8)),'btnSearchCancel':document[a7_0x47671f(0x268)](a7_0x47671f(0x222)),'btnSave':document[a7_0x47671f(0x268)](a7_0x47671f(0x1f1)),'saveBtnText':document[a7_0x47671f(0x268)](a7_0x47671f(0x257)),'sentinel':document[a7_0x47671f(0x268)]('sentinel'),'loader':document[a7_0x47671f(0x268)](a7_0x47671f(0x237))};function hideLoader(){const _0x39e28f=a7_0x47671f;el[_0x39e28f(0x1da)]['classList']['add']('hidden');}function haptic(_0x5344fe=a7_0x47671f(0x251)){const _0xf888a0=a7_0x47671f;try{const _0x1342f8=window[_0xf888a0(0x1ef)]?.['WebApp']?.[_0xf888a0(0x271)];if(_0x1342f8)_0x5344fe==='light'?_0x1342f8[_0xf888a0(0x258)](_0xf888a0(0x251)):_0x5344fe===_0xf888a0(0x23a)?_0x1342f8['impactOccurred'](_0xf888a0(0x23a)):_0x1342f8[_0xf888a0(0x24f)](_0xf888a0(0x230));}catch(_0x54d767){}}const bump=_0x3c0fd7=>{const _0x8872a5=a7_0x47671f;if(!_0x3c0fd7)return;_0x3c0fd7[_0x8872a5(0x205)]['remove'](_0x8872a5(0x1d7)),void _0x3c0fd7[_0x8872a5(0x265)],_0x3c0fd7[_0x8872a5(0x205)]['add'](_0x8872a5(0x1d7));};document['addEventListener'](a7_0x47671f(0x1d6),_0x41d220=>{const _0x167f8a=a7_0x47671f,_0x1000c7=_0x41d220['target'][_0x167f8a(0x241)]('.cat-card,\x20.btn-save');if(!_0x1000c7)return;haptic(_0x167f8a(0x251)),bump(_0x1000c7);},{'passive':!![]});function isSelectionChanged(){const _0x21a504=a7_0x47671f;if(state[_0x21a504(0x264)][_0x21a504(0x209)]!==state[_0x21a504(0x247)][_0x21a504(0x209)])return!![];for(let _0x2596c0 of state[_0x21a504(0x264)]){if(!state[_0x21a504(0x247)]['has'](_0x2596c0))return!![];}return![];}function init(){const _0x210e6b=a7_0x47671f;let _0x16558c=window[_0x210e6b(0x239)];const _0x19a240=document[_0x210e6b(0x25f)](_0x210e6b(0x1d5)),_0x2262ed=()=>{const _0x1c3625=_0x210e6b;_0x19a240['style'][_0x1c3625(0x1e1)]=window['innerHeight']+'px',_0x16558c=window['innerWidth'];};_0x2262ed(),window[_0x210e6b(0x1c9)](_0x210e6b(0x213),()=>{if(window['innerWidth']!==_0x16558c)_0x2262ed();}),DataService[_0x210e6b(0x21d)](),el[_0x210e6b(0x206)][_0x210e6b(0x1c9)](_0x210e6b(0x1ea),handleSearch),el['searchClear']['addEventListener'](_0x210e6b(0x20b),clearSearch);if(tg)tg[_0x210e6b(0x231)][_0x210e6b(0x1d9)]();const _0x5f1ecb=new IntersectionObserver(_0x5b0460=>{const _0x50e5bf=_0x210e6b;if(_0x5b0460[0x0][_0x50e5bf(0x20a)])renderNextBatch();},{'rootMargin':_0x210e6b(0x24d)});_0x5f1ecb['observe'](el['sentinel']);}function renderCategories(){const _0x14b60f=a7_0x47671f;el[_0x14b60f(0x227)]['innerHTML']='',DataService[_0x14b60f(0x26d)][_0x14b60f(0x243)](_0x4521e8=>{const _0x247084=_0x14b60f,_0x547cd7=DataService[_0x247084(0x26e)](_0x4521e8['id']),_0x22adb4=_0x547cd7[_0x247084(0x1eb)],_0x4db83a=_0x547cd7[_0x247084(0x1f9)](_0x45abe0=>state[_0x247084(0x264)]['has'](_0x45abe0['id']))[_0x247084(0x1eb)],_0xaa8aa3=_0x22adb4>0x0?_0x4db83a/_0x22adb4*0x64:0x0,_0x211354=document[_0x247084(0x20c)]('div');_0x211354['className']=_0x247084(0x1de),_0x211354[_0x247084(0x1ed)]=()=>openCategory(_0x4521e8['id']),_0x211354[_0x247084(0x252)]=_0x247084(0x1c0)+_0x4521e8['icon']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>'+_0x4521e8[_0x247084(0x233)]+_0x247084(0x1f8)+_0x4db83a+_0x247084(0x261)+_0x22adb4+_0x247084(0x25a)+_0xaa8aa3+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el[_0x247084(0x227)][_0x247084(0x25e)](_0x211354);});}function openCategory(_0x692010){const _0x345f0d=a7_0x47671f;state[_0x345f0d(0x1c4)]=_0x692010;const _0x60576c=DataService['categories'][_0x345f0d(0x1e8)](_0x2bf320=>_0x2bf320['id']===_0x692010);el[_0x345f0d(0x21e)][_0x345f0d(0x259)]=_0x60576c[_0x345f0d(0x233)],el[_0x345f0d(0x244)][_0x345f0d(0x217)][_0x345f0d(0x218)]=_0x345f0d(0x1e7);const _0xd8eb1=DataService[_0x345f0d(0x26e)](_0x692010);startInfiniteRender(_0xd8eb1,el[_0x345f0d(0x244)]),updateSelectAllBtn(),el[_0x345f0d(0x254)][_0x345f0d(0x205)][_0x345f0d(0x1ff)]('prev'),el['viewCats'][_0x345f0d(0x205)]['remove'](_0x345f0d(0x203)),el[_0x345f0d(0x215)][_0x345f0d(0x205)][_0x345f0d(0x1ff)](_0x345f0d(0x203)),el[_0x345f0d(0x215)][_0x345f0d(0x205)][_0x345f0d(0x1fd)](_0x345f0d(0x256)),updateSaveButton();if(tg)tg[_0x345f0d(0x231)]['show']();}function goBack(){const _0x29e6a1=a7_0x47671f;state[_0x29e6a1(0x1c4)]=null,el[_0x29e6a1(0x215)]['classList'][_0x29e6a1(0x1fd)](_0x29e6a1(0x203)),el[_0x29e6a1(0x254)][_0x29e6a1(0x205)]['add'](_0x29e6a1(0x203)),el['viewCats'][_0x29e6a1(0x205)][_0x29e6a1(0x1fd)](_0x29e6a1(0x1f6)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x29e6a1(0x231)][_0x29e6a1(0x1d9)]();}function startInfiniteRender(_0x59a2b3,_0x5c782b,_0x23552e=![]){const _0x125128=a7_0x47671f;_0x5c782b[_0x125128(0x252)]='',_0x5c782b[_0x125128(0x217)]['cssText']='';if(_0x59a2b3[_0x125128(0x1eb)]===0x0&&_0x23552e){_0x5c782b[_0x125128(0x252)]='<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>';return;}state[_0x125128(0x246)]=_0x59a2b3,state[_0x125128(0x1c7)]=0x0;let _0x12c83e=_0x5c782b;if(_0x23552e){const _0x3b961c=document[_0x125128(0x20c)](_0x125128(0x1bd));_0x3b961c[_0x125128(0x1f2)]=_0x125128(0x242),_0x3b961c[_0x125128(0x217)][_0x125128(0x1f0)]=_0x125128(0x22a),_0x3b961c[_0x125128(0x217)][_0x125128(0x1e2)]=_0x125128(0x25c),_0x3b961c[_0x125128(0x217)][_0x125128(0x24e)]=_0x125128(0x25c),_0x5c782b[_0x125128(0x25e)](_0x3b961c),_0x12c83e=_0x3b961c;}state[_0x125128(0x1f5)]=_0x12c83e,renderNextBatch(_0x23552e);}function renderNextBatch(_0x29d5fd=![]){const _0x4cc1ee=a7_0x47671f;if(state['renderIndex']>=state[_0x4cc1ee(0x246)][_0x4cc1ee(0x1eb)])return;const _0x1f25cc=state[_0x4cc1ee(0x246)][_0x4cc1ee(0x226)](state[_0x4cc1ee(0x1c7)],state[_0x4cc1ee(0x1c7)]+state[_0x4cc1ee(0x22c)]),_0x39f4fd=document[_0x4cc1ee(0x26a)]();_0x1f25cc[_0x4cc1ee(0x243)]((_0x2c93ae,_0x50ecf1)=>{const _0x3eeaf1=_0x4cc1ee,_0x5ea0e3=state[_0x3eeaf1(0x264)][_0x3eeaf1(0x216)](_0x2c93ae['id']),_0x160b73=document[_0x3eeaf1(0x20c)](_0x3eeaf1(0x1bd));_0x160b73[_0x3eeaf1(0x1f2)]=_0x3eeaf1(0x21b)+(_0x5ea0e3?_0x3eeaf1(0x264):''),_0x160b73[_0x3eeaf1(0x1c9)](_0x3eeaf1(0x1d6),()=>haptic(_0x3eeaf1(0x251)),{'passive':!![]}),_0x160b73[_0x3eeaf1(0x1ed)]=()=>toggleProduct(_0x2c93ae['id'],_0x160b73),!_0x29d5fd&&(_0x160b73['style']['opacity']='0',_0x160b73[_0x3eeaf1(0x217)][_0x3eeaf1(0x1cb)]=_0x3eeaf1(0x1cc)+_0x50ecf1*0.02+'s',setTimeout(()=>{const _0x542a31=_0x3eeaf1;_0x160b73['style'][_0x542a31(0x207)]='1',_0x160b73[_0x542a31(0x217)][_0x542a31(0x1cb)]=_0x542a31(0x25c),_0x160b73[_0x542a31(0x217)][_0x542a31(0x23f)]=_0x542a31(0x25c);},_0x50ecf1*0x14+0x12c)),_0x160b73[_0x3eeaf1(0x252)]=_0x3eeaf1(0x1be)+_0x2c93ae[_0x3eeaf1(0x233)]+_0x3eeaf1(0x269)+_0x2c93ae[_0x3eeaf1(0x253)]+_0x3eeaf1(0x249),_0x39f4fd['appendChild'](_0x160b73);}),state['currentContainer'][_0x4cc1ee(0x25e)](_0x39f4fd),state[_0x4cc1ee(0x1c7)]+=state[_0x4cc1ee(0x22c)];}const styleSheet=document['createElement'](a7_0x47671f(0x217));styleSheet[a7_0x47671f(0x202)]=a7_0x47671f(0x1d3),document[a7_0x47671f(0x255)][a7_0x47671f(0x25e)](styleSheet);function toggleProduct(_0xeb7c7b,_0x1533d3){const _0x3785e3=a7_0x47671f;state[_0x3785e3(0x264)]['has'](_0xeb7c7b)?(state[_0x3785e3(0x264)]['delete'](_0xeb7c7b),_0x1533d3[_0x3785e3(0x205)]['remove']('selected')):(state[_0x3785e3(0x264)][_0x3785e3(0x1ff)](_0xeb7c7b),_0x1533d3['classList'][_0x3785e3(0x1ff)](_0x3785e3(0x264)));state['searchMode']&&el[_0x3785e3(0x222)]&&(el['btnSearchCancel'][_0x3785e3(0x259)]=state['selected'][_0x3785e3(0x209)]>0x0?_0x3785e3(0x1d0):_0x3785e3(0x1c1),el['btnSearchCancel'][_0x3785e3(0x217)]['fontWeight']=state[_0x3785e3(0x264)][_0x3785e3(0x209)]>0x0?_0x3785e3(0x1ee):_0x3785e3(0x22f));saveSelectionToCache(),updateSaveButton();if(state[_0x3785e3(0x1c4)]&&!state[_0x3785e3(0x1bc)])updateSelectAllBtn();}function updateSaveButton(){const _0x571520=a7_0x47671f;let _0x3276ff='';if(state['activeCatId']){const _0x4c1082=DataService['getProducts'](state[_0x571520(0x1c4)]),_0x1b7866=_0x4c1082[_0x571520(0x1f9)](_0xa21f8=>state[_0x571520(0x264)]['has'](_0xa21f8['id']))[_0x571520(0x1eb)];_0x3276ff=_0x1b7866>0x0?_0x571520(0x236)+_0x1b7866+')':'–ù–∞–∑–∞–¥',el[_0x571520(0x1f1)][_0x571520(0x205)][_0x571520(0x1ff)](_0x571520(0x24a)),el[_0x571520(0x257)][_0x571520(0x259)]=_0x3276ff;return;}const _0x489ca1=state['selected'][_0x571520(0x209)];_0x3276ff='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x489ca1+')',el[_0x571520(0x257)]['textContent']=_0x3276ff,isSelectionChanged()?el[_0x571520(0x1f1)]['classList']['add'](_0x571520(0x24a)):el[_0x571520(0x1f1)][_0x571520(0x205)][_0x571520(0x1fd)](_0x571520(0x24a));}function updateSelectAllBtn(){const _0x87f738=a7_0x47671f;if(!state['activeCatId'])return;const _0x4aaa6c=DataService[_0x87f738(0x26e)](state[_0x87f738(0x1c4)]),_0x2bcdc8=_0x4aaa6c['length']>0x0&&_0x4aaa6c['every'](_0x338d8d=>state['selected'][_0x87f738(0x216)](_0x338d8d['id']));el['btnSelectAll']['textContent']=_0x2bcdc8?'–°–Ω—è—Ç—å\x20–≤—Å—ë':'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el[_0x87f738(0x20e)][_0x87f738(0x1ed)]=()=>toggleAllInCategory(_0x4aaa6c,!_0x2bcdc8);}function toggleAllInCategory(_0x78a638,_0x2288b8){const _0x4e7ee4=a7_0x47671f;haptic(_0x4e7ee4(0x23a)),_0x78a638[_0x4e7ee4(0x243)](_0x4db22f=>{const _0xfcafb6=_0x4e7ee4;if(_0x2288b8)state[_0xfcafb6(0x264)][_0xfcafb6(0x1ff)](_0x4db22f['id']);else state[_0xfcafb6(0x264)][_0xfcafb6(0x1e0)](_0x4db22f['id']);}),saveSelectionToCache(),startInfiniteRender(_0x78a638,el[_0x4e7ee4(0x244)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x39e00a){const _0x521f83=a7_0x47671f,_0x270e88=_0x39e00a[_0x521f83(0x1ba)][_0x521f83(0x250)][_0x521f83(0x211)]()[_0x521f83(0x1dd)]();if(_0x270e88['length']>0x0){if(!state[_0x521f83(0x1bc)])enterSearchMode();const _0x1fe8d6=DataService[_0x521f83(0x25b)](_0x270e88);el[_0x521f83(0x1c8)]['style'][_0x521f83(0x218)]=_0x521f83(0x260),startInfiniteRender(_0x1fe8d6,el[_0x521f83(0x1c8)],!![]);}else el['searchResults'][_0x521f83(0x252)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x56f36f=a7_0x47671f;haptic(_0x56f36f(0x23a));if(state['activeCatId']&&!state['searchMode']){goBack();return;}const _0x41699c=el[_0x56f36f(0x257)][_0x56f36f(0x259)];el['saveBtnText'][_0x56f36f(0x259)]=_0x56f36f(0x219),el[_0x56f36f(0x1f1)][_0x56f36f(0x217)][_0x56f36f(0x210)]=_0x56f36f(0x25c);const _0xf84da7=await DataService[_0x56f36f(0x208)]();_0xf84da7?(el[_0x56f36f(0x257)][_0x56f36f(0x259)]=_0x56f36f(0x1d2),state[_0x56f36f(0x247)]=new Set(state[_0x56f36f(0x264)]),setTimeout(()=>{const _0x2e3430=_0x56f36f;el[_0x2e3430(0x1f1)][_0x2e3430(0x217)][_0x2e3430(0x210)]=_0x2e3430(0x1f7),el['saveBtnText']['textContent']=_0x41699c,updateSaveButton();if(state[_0x2e3430(0x1bc)])exitSearchMode();},0x320)):(el['saveBtnText']['textContent']=_0x56f36f(0x270),setTimeout(()=>{const _0x2b1a41=_0x56f36f;el['btnSave'][_0x2b1a41(0x217)]['pointerEvents']=_0x2b1a41(0x1f7),el['saveBtnText'][_0x2b1a41(0x259)]=_0x41699c;},0x7d0));}function enterSearchMode(){const _0x302bb6=a7_0x47671f;state[_0x302bb6(0x1bc)]=!![];el[_0x302bb6(0x222)]&&(el[_0x302bb6(0x222)][_0x302bb6(0x259)]=_0x302bb6(0x1c1),el[_0x302bb6(0x222)][_0x302bb6(0x217)][_0x302bb6(0x21f)]=_0x302bb6(0x22f));document[_0x302bb6(0x214)][_0x302bb6(0x205)][_0x302bb6(0x1ff)](_0x302bb6(0x1f4)),el['viewCats'][_0x302bb6(0x205)][_0x302bb6(0x1fd)](_0x302bb6(0x203)),el[_0x302bb6(0x215)][_0x302bb6(0x205)][_0x302bb6(0x1fd)](_0x302bb6(0x203)),el[_0x302bb6(0x1d4)]['classList']['add'](_0x302bb6(0x203));if(tg)tg[_0x302bb6(0x231)][_0x302bb6(0x1d9)]();}function exitSearchMode(){const _0x13f802=a7_0x47671f;state[_0x13f802(0x1bc)]=![],document[_0x13f802(0x214)]['classList'][_0x13f802(0x1fd)](_0x13f802(0x1f4)),el[_0x13f802(0x206)][_0x13f802(0x245)](),el[_0x13f802(0x1d4)][_0x13f802(0x205)]['remove'](_0x13f802(0x203)),el['searchResults'][_0x13f802(0x217)][_0x13f802(0x218)]='none',el['searchInput'][_0x13f802(0x250)]='';if(state['activeCatId'])el[_0x13f802(0x215)][_0x13f802(0x205)][_0x13f802(0x1ff)](_0x13f802(0x203));else el[_0x13f802(0x254)][_0x13f802(0x205)]['add'](_0x13f802(0x203)),renderCategories();updateSaveButton();}init();