const a7_0x438539=a7_0x547c;function a7_0x2308(){const _0x114953=['<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','onclick','setHeaderColor','processCatalog','display','style','router.html','observe','getItem','opacity','5WARoDI','categories','selected','searchResults','error','transparent','4960200DvrSOV','product-list-container','–°–Ω—è—Ç—å\x20–≤—Å—ë','740jMiuFd','has','hidden','saveBtnText','128187Uixucv','2953767FVSHHq','(((.+)+)+)+$','initialSelected','flex','loadFromCache','textContent','viewList','–ì–æ—Ç–æ–≤–æ!','none','location','currentContainer','find','active','offsetWidth','flat','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','name','–ù–∞–∑–∞–¥','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','ready','createElement','expand','addEventListener','sentinel','background','visible','ultima_cart_v1','fadeInUp\x200.2s\x20ease\x20forwards\x20','461566DILaRh','constructor','Color/Swipe\x20settings\x20error:','Telegram','light','delete','add','getElementById','catalog','border','setItem','viewCats','btnSave','12iegOYO','input','btnSelectAll','WebApp','40108hZNwMb','POST','200px','#050505','innerHeight','stringify','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','body','href','head','values','500','querySelector','BackButton','from','2116364znGnmW','className','innerText','catTitle','.fx-layer','view-list','innerHTML','log','text/plain;charset=utf-8','pointerEvents','show','search-active','icon','product-row\x20','initData','saveSelectionToServer','impactOccurred','24rzbxew','apply','HapticFeedback','activeCatId','–í—ã–±—Ä–∞—Ç—å','appLoader','forEach','resize','every','save','value','prev','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','boxShadow','innerWidth','userSelection','success','parse','toLowerCase','.cat-card,\x20.btn-save','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toString','filter','onClick','fontWeight','searchMode','\x20–∏–∑\x20','search','bump','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','Sync\x20skipped:','productsMap','catGrid','cat-card','renderQueue','push','btnSearchCancel','isIntersecting','appendChild','animation','div','classList','\x20zombie\x20products','BATCH_SIZE','Critical\x20TMA\x20Error:','remove','includes','setBackgroundColor','view-search','warn','createDocumentFragment','transform','searchClear','loader','–û—Ç–º–µ–Ω–∞','viewSearch','medium','init','No\x20API\x20URL','products','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','productList','disableVerticalSwipes','offClick','script.google.com','ultima_data_v2','length','searchInput','size','auto','serverVer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','cleanupZombieProducts','touchstart','4KsEAeW','renderIndex','getProducts','29409006gtjsQB'];a7_0x2308=function(){return _0x114953;};return a7_0x2308();}(function(_0x4c3ff3,_0x3b4e7d){const _0x50944e=a7_0x547c,_0x55bf23=_0x4c3ff3();while(!![]){try{const _0x23d255=parseInt(_0x50944e(0x17c))/0x1*(-parseInt(_0x50944e(0x1c5))/0x2)+parseInt(_0x50944e(0x198))/0x3+parseInt(_0x50944e(0x1d5))/0x4*(parseInt(_0x50944e(0x18a))/0x5)+-parseInt(_0x50944e(0x1e6))/0x6*(-parseInt(_0x50944e(0x1b4))/0x7)+parseInt(_0x50944e(0x190))/0x8+-parseInt(_0x50944e(0x197))/0x9*(-parseInt(_0x50944e(0x193))/0xa)+parseInt(_0x50944e(0x17f))/0xb*(-parseInt(_0x50944e(0x1c1))/0xc);if(_0x23d255===_0x3b4e7d)break;else _0x55bf23['push'](_0x55bf23['shift']());}catch(_0x18b622){_0x55bf23['push'](_0x55bf23['shift']());}}}(a7_0x2308,0xaa54d));const a7_0x574d9=(function(){let _0x440f9b=!![];return function(_0x4d7533,_0x326706){const _0x25e554=_0x440f9b?function(){const _0x28c598=a7_0x547c;if(_0x326706){const _0x4e2a7e=_0x326706[_0x28c598(0x1e7)](_0x4d7533,arguments);return _0x326706=null,_0x4e2a7e;}}:function(){};return _0x440f9b=![],_0x25e554;};}()),a7_0x513917=a7_0x574d9(this,function(){const _0x3b0f20=a7_0x547c;return a7_0x513917[_0x3b0f20(0x1fb)]()['search'](_0x3b0f20(0x199))[_0x3b0f20(0x1fb)]()[_0x3b0f20(0x1b5)](a7_0x513917)['search']('(((.+)+)+)+$');});a7_0x513917();const API_URL=a7_0x438539(0x1f2),tg=window['Telegram']?.[a7_0x438539(0x1c4)],TG_INIT_DATA=tg?.[a7_0x438539(0x1e3)]||'';if(tg)try{tg[a7_0x438539(0x1ab)](),tg[a7_0x438539(0x1ad)]();try{tg[a7_0x438539(0x182)](a7_0x438539(0x1c8));if(tg[a7_0x438539(0x215)])tg['setBackgroundColor'](a7_0x438539(0x1c8));if(tg[a7_0x438539(0x170)])tg[a7_0x438539(0x170)]();}catch(a7_0x5231f0){console['warn'](a7_0x438539(0x1b6),a7_0x5231f0);}tg[a7_0x438539(0x1d3)]&&(tg[a7_0x438539(0x1d3)][a7_0x438539(0x1df)](),tg[a7_0x438539(0x1d3)][a7_0x438539(0x171)](),tg[a7_0x438539(0x1d3)][a7_0x438539(0x1fd)](()=>{const _0x33ec89=a7_0x438539;if(state['searchMode'])exitSearchMode();else state[_0x33ec89(0x1e9)]?goBack():window[_0x33ec89(0x1a1)][_0x33ec89(0x1ce)]=_0x33ec89(0x186);}));}catch(a7_0x136788){console['error'](a7_0x438539(0x212),a7_0x136788);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x4423c1=a7_0x438539,_0x1cf5be=this[_0x4423c1(0x19c)]();_0x1cf5be&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x42563c=a7_0x438539;try{const _0xd3dce6=localStorage[_0x42563c(0x188)](_0x42563c(0x173));if(_0xd3dce6){const _0x20edee=JSON[_0x42563c(0x1f7)](_0xd3dce6);this['categories']=_0x20edee['categories']||[],this[_0x42563c(0x205)]=_0x20edee[_0x42563c(0x205)]||{},this[_0x42563c(0x178)]=_0x20edee['serverVer']||0x0;const _0x22df95=localStorage[_0x42563c(0x188)]('ultima_cart_v1');if(_0x22df95){const _0x596ebe=JSON[_0x42563c(0x1f7)](_0x22df95);state[_0x42563c(0x18c)]=new Set(_0x596ebe),this[_0x42563c(0x17a)](),state[_0x42563c(0x19a)]=new Set(state[_0x42563c(0x18c)]);}return!![];}}catch(_0x46d466){console[_0x42563c(0x18e)](_0x46d466);}return![];},async 'syncWithServer'(){const _0x1dea29=a7_0x438539;try{if(!API_URL[_0x1dea29(0x214)](_0x1dea29(0x172))){console[_0x1dea29(0x217)](_0x1dea29(0x220)),hideLoader();return;}const _0x2b4309=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x1dea29(0x1dd)},'body':JSON[_0x1dea29(0x1ca)]({'action':_0x1dea29(0x21f),'clientVer':this[_0x1dea29(0x178)],'initData':TG_INIT_DATA})}),_0x3497fa=await _0x2b4309['json']();_0x3497fa['ok']&&_0x3497fa['needUpdate']&&_0x3497fa['catalog']&&this[_0x1dea29(0x183)](_0x3497fa[_0x1dea29(0x1bc)],_0x3497fa[_0x1dea29(0x178)]);if(_0x3497fa['ok']&&_0x3497fa[_0x1dea29(0x1f5)])try{const _0xeca6f9=JSON['parse'](_0x3497fa[_0x1dea29(0x1f5)]);state[_0x1dea29(0x18c)]=new Set(_0xeca6f9),this[_0x1dea29(0x17a)](),state[_0x1dea29(0x19a)]=new Set(state[_0x1dea29(0x18c)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x51bdf1){}hideLoader();}catch(_0x4f0a50){console[_0x1dea29(0x217)](_0x1dea29(0x204),_0x4f0a50),hideLoader();if(!DataService[_0x1dea29(0x18b)][_0x1dea29(0x174)])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x1f942f,_0xad1a1a){const _0x215137=a7_0x438539;this[_0x215137(0x18b)]=_0x1f942f[_0x215137(0x18b)]['map'](_0x2034fa=>({'id':String(_0x2034fa['id']),'name':_0x2034fa[_0x215137(0x1a8)],'icon':_0x2034fa[_0x215137(0x1e1)]}));const _0x2358d9={};this[_0x215137(0x18b)][_0x215137(0x1ec)](_0x26ef3d=>_0x2358d9[_0x26ef3d['id']]=[]),_0x1f942f[_0x215137(0x16d)]&&Array['isArray'](_0x1f942f[_0x215137(0x16d)])&&_0x1f942f['products'][_0x215137(0x1ec)](_0x307488=>{const _0x9f226f=String(_0x307488[0x0]),_0x302392=String(_0x307488[0x1]);if(!_0x2358d9[_0x302392])_0x2358d9[_0x302392]=[];_0x2358d9[_0x302392]['push']({'id':_0x9f226f,'name':_0x307488[0x2],'meta':_0x307488[0x3]});}),this[_0x215137(0x205)]=_0x2358d9,this['serverVer']=_0xad1a1a,localStorage[_0x215137(0x1be)](_0x215137(0x173),JSON[_0x215137(0x1ca)]({'categories':this[_0x215137(0x18b)],'productsMap':this[_0x215137(0x205)],'serverVer':this[_0x215137(0x178)]})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x9bf277=a7_0x438539;if(!state[_0x9bf277(0x18c)]||state['selected']['size']===0x0)return;const _0x536ebe=new Set();Object[_0x9bf277(0x1d0)](this['productsMap'])['flat']()['forEach'](_0x4bec5c=>_0x536ebe[_0x9bf277(0x1ba)](_0x4bec5c['id']));const _0x12e5c7=new Set();state[_0x9bf277(0x18c)][_0x9bf277(0x1ec)](_0xc4ffbc=>{const _0x2a2216=_0x9bf277;_0x536ebe[_0x2a2216(0x194)](_0xc4ffbc)&&_0x12e5c7[_0x2a2216(0x1ba)](_0xc4ffbc);}),_0x12e5c7[_0x9bf277(0x176)]!==state[_0x9bf277(0x18c)][_0x9bf277(0x176)]&&(console[_0x9bf277(0x1dc)]('üßπ\x20Removed\x20'+(state[_0x9bf277(0x18c)][_0x9bf277(0x176)]-_0x12e5c7[_0x9bf277(0x176)])+_0x9bf277(0x210)),state[_0x9bf277(0x18c)]=_0x12e5c7,saveSelectionToCache());},'getProducts'(_0x4da621){const _0x4f2826=a7_0x438539;return this[_0x4f2826(0x205)][_0x4da621]||[];},'search'(_0x138571){const _0x2699b4=a7_0x438539,_0x50faf8=[],_0x259c46=_0x138571[_0x2699b4(0x1f8)]();return Object[_0x2699b4(0x1d0)](this[_0x2699b4(0x205)])[_0x2699b4(0x1a6)]()[_0x2699b4(0x1ec)](_0x470875=>{const _0x35f540=_0x2699b4;if(_0x470875[_0x35f540(0x1a8)][_0x35f540(0x1f8)]()['includes'](_0x259c46))_0x50faf8[_0x35f540(0x209)](_0x470875);}),_0x50faf8;},async 'saveSelectionToServer'(){const _0x3cf8b4=a7_0x438539;this[_0x3cf8b4(0x17a)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x3cf8b4(0x1c6),'headers':{'Content-Type':_0x3cf8b4(0x1dd)},'body':JSON[_0x3cf8b4(0x1ca)]({'action':_0x3cf8b4(0x1ef),'initData':TG_INIT_DATA,'selection':Array[_0x3cf8b4(0x1d4)](state['selected'])})}),!![];}catch(_0x14820a){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x52ab12=a7_0x438539;try{localStorage[_0x52ab12(0x1be)](_0x52ab12(0x1b2),JSON['stringify'](Array['from'](state['selected'])));}catch(_0x1a7300){}}const el={'catGrid':document[a7_0x438539(0x1bb)]('catGrid'),'productList':document[a7_0x438539(0x1bb)](a7_0x438539(0x16f)),'viewCats':document[a7_0x438539(0x1bb)]('view-cats'),'viewList':document[a7_0x438539(0x1bb)](a7_0x438539(0x1da)),'viewSearch':document[a7_0x438539(0x1bb)](a7_0x438539(0x216)),'catTitle':document[a7_0x438539(0x1bb)](a7_0x438539(0x1d8)),'btnSelectAll':document[a7_0x438539(0x1bb)](a7_0x438539(0x1c3)),'searchInput':document['getElementById']('searchInput'),'searchClear':document[a7_0x438539(0x1bb)]('searchClear'),'searchResults':document[a7_0x438539(0x1bb)](a7_0x438539(0x18d)),'btnSearchCancel':document[a7_0x438539(0x1bb)](a7_0x438539(0x20a)),'btnSave':document[a7_0x438539(0x1bb)](a7_0x438539(0x1c0)),'saveBtnText':document[a7_0x438539(0x1bb)]('saveBtnText'),'sentinel':document[a7_0x438539(0x1bb)](a7_0x438539(0x1af)),'loader':document[a7_0x438539(0x1bb)](a7_0x438539(0x1eb))};function hideLoader(){const _0x1ef87f=a7_0x438539;el[_0x1ef87f(0x21b)][_0x1ef87f(0x20f)][_0x1ef87f(0x1ba)](_0x1ef87f(0x195));}function haptic(_0x4ebd1c=a7_0x438539(0x1b8)){const _0x1b3c5b=a7_0x438539;try{const _0x458512=window[_0x1b3c5b(0x1b7)]?.['WebApp']?.[_0x1b3c5b(0x1e8)];if(_0x458512)_0x4ebd1c===_0x1b3c5b(0x1b8)?_0x458512['impactOccurred']('light'):_0x4ebd1c==='medium'?_0x458512[_0x1b3c5b(0x1e5)](_0x1b3c5b(0x21e)):_0x458512['notificationOccurred'](_0x1b3c5b(0x1f6));}catch(_0x2f2c89){}}const bump=_0x635be0=>{const _0x25be2c=a7_0x438539;if(!_0x635be0)return;_0x635be0[_0x25be2c(0x20f)][_0x25be2c(0x213)](_0x25be2c(0x202)),void _0x635be0[_0x25be2c(0x1a5)],_0x635be0[_0x25be2c(0x20f)][_0x25be2c(0x1ba)](_0x25be2c(0x202));};document[a7_0x438539(0x1ae)](a7_0x438539(0x17b),_0x5927af=>{const _0x5e54d5=a7_0x438539,_0xfd1eee=_0x5927af['target']['closest'](_0x5e54d5(0x1f9));if(!_0xfd1eee)return;haptic(_0x5e54d5(0x1b8)),bump(_0xfd1eee);},{'passive':!![]});function isSelectionChanged(){const _0x4561b0=a7_0x438539;if(state['selected']['size']!==state[_0x4561b0(0x19a)]['size'])return!![];for(let _0x3c2492 of state[_0x4561b0(0x18c)]){if(!state[_0x4561b0(0x19a)][_0x4561b0(0x194)](_0x3c2492))return!![];}return![];}function init(){const _0x466f14=a7_0x438539;let _0x561aa0=window[_0x466f14(0x1f4)];const _0x1c5e95=document[_0x466f14(0x1d2)](_0x466f14(0x1d9)),_0x3e412e=()=>{const _0x275343=_0x466f14;_0x1c5e95['style']['height']=window[_0x275343(0x1c9)]+'px',_0x561aa0=window[_0x275343(0x1f4)];};_0x3e412e(),window[_0x466f14(0x1ae)](_0x466f14(0x1ed),()=>{const _0x3d00c6=_0x466f14;if(window[_0x3d00c6(0x1f4)]!==_0x561aa0)_0x3e412e();}),DataService[_0x466f14(0x21f)](),el['searchInput'][_0x466f14(0x1ae)](_0x466f14(0x1c2),handleSearch),el[_0x466f14(0x21a)][_0x466f14(0x1ae)]('click',clearSearch);if(tg)tg[_0x466f14(0x1d3)][_0x466f14(0x1df)]();const _0x5237e4=new IntersectionObserver(_0x8af016=>{const _0x2ff329=_0x466f14;if(_0x8af016[0x0][_0x2ff329(0x20b)])renderNextBatch();},{'rootMargin':_0x466f14(0x1c7)});_0x5237e4[_0x466f14(0x187)](el['sentinel']);}function a7_0x547c(_0xba883a,_0x34bf56){_0xba883a=_0xba883a-0x16d;const _0xafcf5d=a7_0x2308();let _0x513917=_0xafcf5d[_0xba883a];return _0x513917;}function renderCategories(){const _0x341fda=a7_0x438539;el[_0x341fda(0x206)]['innerHTML']='',DataService[_0x341fda(0x18b)][_0x341fda(0x1ec)](_0x5b63dc=>{const _0x2d4876=_0x341fda,_0x4a62be=DataService['getProducts'](_0x5b63dc['id']),_0x1e9d1a=_0x4a62be['length'],_0x39b4f1=_0x4a62be[_0x2d4876(0x1fc)](_0x1e3ef2=>state[_0x2d4876(0x18c)]['has'](_0x1e3ef2['id']))['length'],_0x213f44=_0x1e9d1a>0x0?_0x39b4f1/_0x1e9d1a*0x64:0x0,_0x2403e0=document[_0x2d4876(0x1ac)]('div');_0x2403e0[_0x2d4876(0x1d6)]=_0x2d4876(0x207),_0x2403e0[_0x2d4876(0x181)]=()=>openCategory(_0x5b63dc['id']),_0x2403e0[_0x2d4876(0x1db)]=_0x2d4876(0x1aa)+_0x5b63dc['icon']+_0x2d4876(0x1cc)+_0x5b63dc[_0x2d4876(0x1a8)]+_0x2d4876(0x1fa)+_0x39b4f1+_0x2d4876(0x200)+_0x1e9d1a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20'+_0x213f44+_0x2d4876(0x16e),el[_0x2d4876(0x206)]['appendChild'](_0x2403e0);});}function openCategory(_0x4e13e9){const _0x44d607=a7_0x438539;state[_0x44d607(0x1e9)]=_0x4e13e9;const _0x35108e=DataService[_0x44d607(0x18b)][_0x44d607(0x1a3)](_0x5a42be=>_0x5a42be['id']===_0x4e13e9);el['catTitle'][_0x44d607(0x19d)]=_0x35108e['name'],el[_0x44d607(0x16f)][_0x44d607(0x185)][_0x44d607(0x184)]=_0x44d607(0x19b);const _0x127c60=DataService['getProducts'](_0x4e13e9);startInfiniteRender(_0x127c60,el[_0x44d607(0x16f)]),updateSelectAllBtn(),el['viewCats'][_0x44d607(0x20f)]['add'](_0x44d607(0x1f1)),el[_0x44d607(0x1bf)][_0x44d607(0x20f)][_0x44d607(0x213)]('active'),el['viewList']['classList'][_0x44d607(0x1ba)](_0x44d607(0x1a4)),el[_0x44d607(0x19e)][_0x44d607(0x20f)][_0x44d607(0x213)]('next'),updateSaveButton();if(tg)tg[_0x44d607(0x1d3)][_0x44d607(0x1df)]();}function goBack(){const _0x2dfd6c=a7_0x438539;state['activeCatId']=null,el[_0x2dfd6c(0x19e)][_0x2dfd6c(0x20f)]['remove'](_0x2dfd6c(0x1a4)),el[_0x2dfd6c(0x1bf)][_0x2dfd6c(0x20f)][_0x2dfd6c(0x1ba)]('active'),el[_0x2dfd6c(0x1bf)]['classList'][_0x2dfd6c(0x213)]('prev'),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x2dfd6c(0x1d3)][_0x2dfd6c(0x1df)]();}function startInfiniteRender(_0x38bc1b,_0x1eb458,_0x5dac1b=![]){const _0x390d99=a7_0x438539;_0x1eb458[_0x390d99(0x1db)]='',_0x1eb458[_0x390d99(0x185)]['cssText']='';if(_0x38bc1b[_0x390d99(0x174)]===0x0&&_0x5dac1b){_0x1eb458[_0x390d99(0x1db)]=_0x390d99(0x180);return;}state['renderQueue']=_0x38bc1b,state[_0x390d99(0x17d)]=0x0;let _0x2f4cf4=_0x1eb458;if(_0x5dac1b){const _0x18b7ce=document[_0x390d99(0x1ac)]('div');_0x18b7ce['className']=_0x390d99(0x191),_0x18b7ce['style'][_0x390d99(0x1b0)]=_0x390d99(0x18f),_0x18b7ce['style'][_0x390d99(0x1bd)]=_0x390d99(0x1a0),_0x18b7ce['style'][_0x390d99(0x1f3)]=_0x390d99(0x1a0),_0x1eb458[_0x390d99(0x20c)](_0x18b7ce),_0x2f4cf4=_0x18b7ce;}state['currentContainer']=_0x2f4cf4,renderNextBatch(_0x5dac1b);}function renderNextBatch(_0x30a141=![]){const _0x212d18=a7_0x438539;if(state[_0x212d18(0x17d)]>=state[_0x212d18(0x208)][_0x212d18(0x174)])return;const _0x207943=state['renderQueue']['slice'](state[_0x212d18(0x17d)],state['renderIndex']+state[_0x212d18(0x211)]),_0x9441e6=document[_0x212d18(0x218)]();_0x207943[_0x212d18(0x1ec)]((_0x4ec5de,_0x669e07)=>{const _0x4e0bf5=_0x212d18,_0x4dd49b=state[_0x4e0bf5(0x18c)][_0x4e0bf5(0x194)](_0x4ec5de['id']),_0x3ff9b6=document[_0x4e0bf5(0x1ac)](_0x4e0bf5(0x20e));_0x3ff9b6[_0x4e0bf5(0x1d6)]=_0x4e0bf5(0x1e2)+(_0x4dd49b?_0x4e0bf5(0x18c):''),_0x3ff9b6[_0x4e0bf5(0x1ae)](_0x4e0bf5(0x17b),()=>haptic(_0x4e0bf5(0x1b8)),{'passive':!![]}),_0x3ff9b6[_0x4e0bf5(0x181)]=()=>toggleProduct(_0x4ec5de['id'],_0x3ff9b6),!_0x30a141&&(_0x3ff9b6[_0x4e0bf5(0x185)][_0x4e0bf5(0x189)]='0',_0x3ff9b6['style']['animation']=_0x4e0bf5(0x1b3)+_0x669e07*0.02+'s',setTimeout(()=>{const _0x20fc3c=_0x4e0bf5;_0x3ff9b6[_0x20fc3c(0x185)]['opacity']='1',_0x3ff9b6['style'][_0x20fc3c(0x20d)]=_0x20fc3c(0x1a0),_0x3ff9b6[_0x20fc3c(0x185)][_0x20fc3c(0x219)]='none';},_0x669e07*0x14+0x12c)),_0x3ff9b6['innerHTML']=_0x4e0bf5(0x179)+_0x4ec5de[_0x4e0bf5(0x1a8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>'+_0x4ec5de['meta']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x9441e6['appendChild'](_0x3ff9b6);}),state[_0x212d18(0x1a2)][_0x212d18(0x20c)](_0x9441e6),state[_0x212d18(0x17d)]+=state[_0x212d18(0x211)];}const styleSheet=document[a7_0x438539(0x1ac)]('style');styleSheet[a7_0x438539(0x1d7)]=a7_0x438539(0x1a7),document[a7_0x438539(0x1cf)][a7_0x438539(0x20c)](styleSheet);function toggleProduct(_0x4312e7,_0x4118f0){const _0x735b8=a7_0x438539;state['selected'][_0x735b8(0x194)](_0x4312e7)?(state[_0x735b8(0x18c)]['delete'](_0x4312e7),_0x4118f0[_0x735b8(0x20f)][_0x735b8(0x213)](_0x735b8(0x18c))):(state['selected'][_0x735b8(0x1ba)](_0x4312e7),_0x4118f0[_0x735b8(0x20f)][_0x735b8(0x1ba)](_0x735b8(0x18c)));state[_0x735b8(0x1ff)]&&el[_0x735b8(0x20a)]&&(el[_0x735b8(0x20a)][_0x735b8(0x19d)]=state[_0x735b8(0x18c)][_0x735b8(0x176)]>0x0?_0x735b8(0x1ea):_0x735b8(0x21c),el['btnSearchCancel'][_0x735b8(0x185)][_0x735b8(0x1fe)]=state['selected']['size']>0x0?'600':_0x735b8(0x1d1));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x735b8(0x1ff)])updateSelectAllBtn();}function updateSaveButton(){const _0x332bfd=a7_0x438539;let _0x5a6d3c='';if(state[_0x332bfd(0x1e9)]){const _0x4f63bb=DataService[_0x332bfd(0x17e)](state[_0x332bfd(0x1e9)]),_0x2ac357=_0x4f63bb[_0x332bfd(0x1fc)](_0x5253b6=>state['selected'][_0x332bfd(0x194)](_0x5253b6['id']))['length'];_0x5a6d3c=_0x2ac357>0x0?'–í—ã–±—Ä–∞—Ç—å\x20('+_0x2ac357+')':_0x332bfd(0x1a9),el['btnSave'][_0x332bfd(0x20f)][_0x332bfd(0x1ba)](_0x332bfd(0x1b1)),el[_0x332bfd(0x196)][_0x332bfd(0x19d)]=_0x5a6d3c;return;}const _0x429d62=state[_0x332bfd(0x18c)][_0x332bfd(0x176)];_0x5a6d3c=_0x332bfd(0x1cb)+_0x429d62+')',el[_0x332bfd(0x196)][_0x332bfd(0x19d)]=_0x5a6d3c,isSelectionChanged()?el[_0x332bfd(0x1c0)][_0x332bfd(0x20f)][_0x332bfd(0x1ba)](_0x332bfd(0x1b1)):el['btnSave'][_0x332bfd(0x20f)][_0x332bfd(0x213)](_0x332bfd(0x1b1));}function updateSelectAllBtn(){const _0x33885d=a7_0x438539;if(!state[_0x33885d(0x1e9)])return;const _0x188ab5=DataService[_0x33885d(0x17e)](state[_0x33885d(0x1e9)]),_0x5b1dce=_0x188ab5[_0x33885d(0x174)]>0x0&&_0x188ab5[_0x33885d(0x1ee)](_0x1f49d7=>state[_0x33885d(0x18c)][_0x33885d(0x194)](_0x1f49d7['id']));el[_0x33885d(0x1c3)][_0x33885d(0x19d)]=_0x5b1dce?_0x33885d(0x192):'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el[_0x33885d(0x1c3)]['onclick']=()=>toggleAllInCategory(_0x188ab5,!_0x5b1dce);}function toggleAllInCategory(_0x28ae12,_0x1a9df9){const _0x2eb7f6=a7_0x438539;haptic('medium'),_0x28ae12['forEach'](_0x285480=>{const _0x5b6517=a7_0x547c;if(_0x1a9df9)state[_0x5b6517(0x18c)]['add'](_0x285480['id']);else state[_0x5b6517(0x18c)][_0x5b6517(0x1b9)](_0x285480['id']);}),saveSelectionToCache(),startInfiniteRender(_0x28ae12,el[_0x2eb7f6(0x16f)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x54894d){const _0x20079b=a7_0x438539,_0x1ff233=_0x54894d['target'][_0x20079b(0x1f0)]['toLowerCase']()['trim']();if(_0x1ff233[_0x20079b(0x174)]>0x0){if(!state[_0x20079b(0x1ff)])enterSearchMode();const _0x177b69=DataService[_0x20079b(0x201)](_0x1ff233);el[_0x20079b(0x18d)]['style'][_0x20079b(0x184)]='block',startInfiniteRender(_0x177b69,el[_0x20079b(0x18d)],!![]);}else el[_0x20079b(0x18d)][_0x20079b(0x1db)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x2d7f7c=a7_0x438539;haptic('medium');if(state[_0x2d7f7c(0x1e9)]&&!state['searchMode']){goBack();return;}const _0x458b4d=el[_0x2d7f7c(0x196)]['textContent'];el[_0x2d7f7c(0x196)][_0x2d7f7c(0x19d)]=_0x2d7f7c(0x203),el['btnSave'][_0x2d7f7c(0x185)][_0x2d7f7c(0x1de)]=_0x2d7f7c(0x1a0);const _0x156b40=await DataService[_0x2d7f7c(0x1e4)]();_0x156b40?(el[_0x2d7f7c(0x196)][_0x2d7f7c(0x19d)]=_0x2d7f7c(0x19f),state[_0x2d7f7c(0x19a)]=new Set(state[_0x2d7f7c(0x18c)]),setTimeout(()=>{const _0x304b07=_0x2d7f7c;el[_0x304b07(0x1c0)][_0x304b07(0x185)][_0x304b07(0x1de)]='auto',el[_0x304b07(0x196)][_0x304b07(0x19d)]=_0x458b4d,updateSaveButton();if(state['searchMode'])exitSearchMode();},0x320)):(el[_0x2d7f7c(0x196)][_0x2d7f7c(0x19d)]='–û—à–∏–±–∫–∞!',setTimeout(()=>{const _0x2a1246=_0x2d7f7c;el[_0x2a1246(0x1c0)][_0x2a1246(0x185)][_0x2a1246(0x1de)]=_0x2a1246(0x177),el[_0x2a1246(0x196)][_0x2a1246(0x19d)]=_0x458b4d;},0x7d0));}function enterSearchMode(){const _0xd8139e=a7_0x438539;state['searchMode']=!![];el[_0xd8139e(0x20a)]&&(el[_0xd8139e(0x20a)]['textContent']=_0xd8139e(0x21c),el['btnSearchCancel']['style'][_0xd8139e(0x1fe)]=_0xd8139e(0x1d1));document[_0xd8139e(0x1cd)][_0xd8139e(0x20f)]['add'](_0xd8139e(0x1e0)),el['viewCats'][_0xd8139e(0x20f)]['remove'](_0xd8139e(0x1a4)),el[_0xd8139e(0x19e)][_0xd8139e(0x20f)][_0xd8139e(0x213)](_0xd8139e(0x1a4)),el[_0xd8139e(0x21d)][_0xd8139e(0x20f)]['add']('active');if(tg)tg[_0xd8139e(0x1d3)]['show']();}function exitSearchMode(){const _0x435d1d=a7_0x438539;state[_0x435d1d(0x1ff)]=![],document[_0x435d1d(0x1cd)][_0x435d1d(0x20f)][_0x435d1d(0x213)](_0x435d1d(0x1e0)),el[_0x435d1d(0x175)]['blur'](),el[_0x435d1d(0x21d)][_0x435d1d(0x20f)][_0x435d1d(0x213)](_0x435d1d(0x1a4)),el[_0x435d1d(0x18d)][_0x435d1d(0x185)][_0x435d1d(0x184)]='none',el['searchInput'][_0x435d1d(0x1f0)]='';if(state['activeCatId'])el[_0x435d1d(0x19e)][_0x435d1d(0x20f)]['add']('active');else el[_0x435d1d(0x1bf)][_0x435d1d(0x20f)][_0x435d1d(0x1ba)](_0x435d1d(0x1a4)),renderCategories();updateSaveButton();}init();