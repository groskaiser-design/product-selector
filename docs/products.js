const a7_0x50ae6a=a7_0x4c1d;(function(_0x24489e,_0x41c1df){const _0x191ee2=a7_0x4c1d,_0x2d3c76=_0x24489e();while(!![]){try{const _0x1f2546=-parseInt(_0x191ee2(0x288))/0x1+-parseInt(_0x191ee2(0x244))/0x2+parseInt(_0x191ee2(0x25c))/0x3+-parseInt(_0x191ee2(0x22c))/0x4*(-parseInt(_0x191ee2(0x22e))/0x5)+parseInt(_0x191ee2(0x1ff))/0x6+-parseInt(_0x191ee2(0x1fe))/0x7*(parseInt(_0x191ee2(0x266))/0x8)+parseInt(_0x191ee2(0x225))/0x9*(parseInt(_0x191ee2(0x262))/0xa);if(_0x1f2546===_0x41c1df)break;else _0x2d3c76['push'](_0x2d3c76['shift']());}catch(_0x10c7fb){_0x2d3c76['push'](_0x2d3c76['shift']());}}}(a7_0xb9b0,0xc4eed));const a7_0x3badbe=(function(){let _0x26f0c0=!![];return function(_0x294952,_0x1fc7c9){const _0x3cbef5=_0x26f0c0?function(){if(_0x1fc7c9){const _0x58a64c=_0x1fc7c9['apply'](_0x294952,arguments);return _0x1fc7c9=null,_0x58a64c;}}:function(){};return _0x26f0c0=![],_0x3cbef5;};}()),a7_0x24365f=a7_0x3badbe(this,function(){const _0x104aa1=a7_0x4c1d;return a7_0x24365f[_0x104aa1(0x25e)]()[_0x104aa1(0x26a)](_0x104aa1(0x235))[_0x104aa1(0x25e)]()[_0x104aa1(0x215)](a7_0x24365f)['search']('(((.+)+)+)+$');});a7_0x24365f();const API_URL=a7_0x50ae6a(0x286),tg=window[a7_0x50ae6a(0x29b)]?.[a7_0x50ae6a(0x277)],TG_INIT_DATA=tg?.[a7_0x50ae6a(0x208)]||'';if(tg)try{tg[a7_0x50ae6a(0x27c)](),tg[a7_0x50ae6a(0x24a)]();try{tg[a7_0x50ae6a(0x271)](a7_0x50ae6a(0x268));if(tg[a7_0x50ae6a(0x228)])tg[a7_0x50ae6a(0x228)](a7_0x50ae6a(0x268));if(tg[a7_0x50ae6a(0x278)])tg[a7_0x50ae6a(0x278)]();}catch(a7_0xeec335){console[a7_0x50ae6a(0x219)](a7_0x50ae6a(0x29c),a7_0xeec335);}tg[a7_0x50ae6a(0x28e)]&&(tg[a7_0x50ae6a(0x28e)]['show'](),tg[a7_0x50ae6a(0x28e)][a7_0x50ae6a(0x247)](),tg[a7_0x50ae6a(0x28e)][a7_0x50ae6a(0x23c)](()=>{const _0x339d2d=a7_0x50ae6a;if(state[_0x339d2d(0x267)])exitSearchMode();else state['activeCatId']?goBack():window['location']['href']='router.html';}));}catch(a7_0x57f749){console[a7_0x50ae6a(0x28f)](a7_0x50ae6a(0x21b),a7_0x57f749);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x505cd1=a7_0x50ae6a,_0x387b90=this['loadFromCache']();_0x387b90&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x505cd1(0x274)]();},'loadFromCache'(){const _0x9ac8f=a7_0x50ae6a;try{const _0x4676ec=localStorage[_0x9ac8f(0x211)]('ultima_data_v2');if(_0x4676ec){const _0x36c6ef=JSON[_0x9ac8f(0x289)](_0x4676ec);this[_0x9ac8f(0x290)]=_0x36c6ef[_0x9ac8f(0x290)]||[],this[_0x9ac8f(0x27d)]=_0x36c6ef['productsMap']||{},this['serverVer']=_0x36c6ef[_0x9ac8f(0x248)]||0x0;const _0x526fee=localStorage[_0x9ac8f(0x211)](_0x9ac8f(0x217));if(_0x526fee){const _0x4a1285=JSON[_0x9ac8f(0x289)](_0x526fee);state[_0x9ac8f(0x21e)]=new Set(_0x4a1285),this['cleanupZombieProducts'](),state['initialSelected']=new Set(state['selected']);}return!![];}}catch(_0x25b189){console[_0x9ac8f(0x28f)](_0x25b189);}return![];},async 'syncWithServer'(){const _0x175b2f=a7_0x50ae6a;try{if(!API_URL[_0x175b2f(0x240)]('script.google.com')){console[_0x175b2f(0x219)](_0x175b2f(0x252)),hideLoader();return;}const _0x1693e2=await fetch(API_URL,{'method':_0x175b2f(0x238),'headers':{'Content-Type':_0x175b2f(0x255)},'body':JSON[_0x175b2f(0x201)]({'action':_0x175b2f(0x20d),'clientVer':this[_0x175b2f(0x248)],'initData':TG_INIT_DATA})}),_0xbf3603=await _0x1693e2[_0x175b2f(0x243)]();_0xbf3603['ok']&&_0xbf3603[_0x175b2f(0x269)]&&_0xbf3603[_0x175b2f(0x214)]&&this[_0x175b2f(0x1f2)](_0xbf3603[_0x175b2f(0x214)],_0xbf3603[_0x175b2f(0x248)]);if(_0xbf3603['ok']&&_0xbf3603[_0x175b2f(0x229)])try{const _0x339a84=JSON[_0x175b2f(0x289)](_0xbf3603[_0x175b2f(0x229)]);state[_0x175b2f(0x21e)]=new Set(_0x339a84),this[_0x175b2f(0x275)](),state[_0x175b2f(0x223)]=new Set(state[_0x175b2f(0x21e)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x4a0f51){}hideLoader();}catch(_0x45ff29){console['warn'](_0x175b2f(0x202),_0x45ff29),hideLoader();if(!DataService[_0x175b2f(0x290)][_0x175b2f(0x20f)])alert(_0x175b2f(0x27e));}},'processCatalog'(_0x1f4273,_0x2d4247){const _0x2850b6=a7_0x50ae6a;this[_0x2850b6(0x290)]=_0x1f4273['categories']['map'](_0x4e54ac=>({'id':String(_0x4e54ac['id']),'name':_0x4e54ac[_0x2850b6(0x25d)],'icon':_0x4e54ac[_0x2850b6(0x291)]}));const _0x315bb2={};this['categories']['forEach'](_0x3307b3=>_0x315bb2[_0x3307b3['id']]=[]),_0x1f4273[_0x2850b6(0x200)]&&Array[_0x2850b6(0x20a)](_0x1f4273[_0x2850b6(0x200)])&&_0x1f4273[_0x2850b6(0x200)][_0x2850b6(0x20e)](_0x6e46da=>{const _0x368ac1=_0x2850b6,_0xdd11f5=String(_0x6e46da[0x0]),_0x29c2e4=String(_0x6e46da[0x1]);if(!_0x315bb2[_0x29c2e4])_0x315bb2[_0x29c2e4]=[];_0x315bb2[_0x29c2e4][_0x368ac1(0x279)]({'id':_0xdd11f5,'name':_0x6e46da[0x2],'meta':_0x6e46da[0x3]});}),this[_0x2850b6(0x27d)]=_0x315bb2,this['serverVer']=_0x2d4247,localStorage[_0x2850b6(0x25b)](_0x2850b6(0x285),JSON[_0x2850b6(0x201)]({'categories':this[_0x2850b6(0x290)],'productsMap':this['productsMap'],'serverVer':this[_0x2850b6(0x248)]})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x473a61=a7_0x50ae6a;if(!state[_0x473a61(0x21e)]||state[_0x473a61(0x21e)]['size']===0x0)return;const _0x2727a3=new Set();Object[_0x473a61(0x292)](this[_0x473a61(0x27d)])[_0x473a61(0x1fc)]()[_0x473a61(0x20e)](_0x57c553=>_0x2727a3[_0x473a61(0x22f)](_0x57c553['id']));const _0xe69e90=new Set();state[_0x473a61(0x21e)]['forEach'](_0x1fc605=>{const _0x4003a5=_0x473a61;_0x2727a3[_0x4003a5(0x24f)](_0x1fc605)&&_0xe69e90[_0x4003a5(0x22f)](_0x1fc605);}),_0xe69e90['size']!==state[_0x473a61(0x21e)][_0x473a61(0x26d)]&&(console[_0x473a61(0x21d)](_0x473a61(0x28b)+(state['selected']['size']-_0xe69e90[_0x473a61(0x26d)])+'\x20zombie\x20products'),state[_0x473a61(0x21e)]=_0xe69e90,saveSelectionToCache());},'getProducts'(_0x14f964){const _0x485e2a=a7_0x50ae6a;return this[_0x485e2a(0x27d)][_0x14f964]||[];},'search'(_0xd4cce6){const _0x2e9198=a7_0x50ae6a,_0x29b66c=[],_0x2bcf9e=_0xd4cce6[_0x2e9198(0x296)]();return Object[_0x2e9198(0x292)](this[_0x2e9198(0x27d)])['flat']()[_0x2e9198(0x20e)](_0x2d10ab=>{const _0x939293=_0x2e9198;if(_0x2d10ab[_0x939293(0x25d)][_0x939293(0x296)]()['includes'](_0x2bcf9e))_0x29b66c[_0x939293(0x279)](_0x2d10ab);}),_0x29b66c;},async 'saveSelectionToServer'(){const _0x178296=a7_0x50ae6a;this[_0x178296(0x275)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x178296(0x238),'headers':{'Content-Type':_0x178296(0x255)},'body':JSON[_0x178296(0x201)]({'action':_0x178296(0x241),'initData':TG_INIT_DATA,'selection':Array[_0x178296(0x1f6)](state[_0x178296(0x21e)])})}),!![];}catch(_0x581664){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x2e5f6c=a7_0x50ae6a;try{localStorage[_0x2e5f6c(0x25b)](_0x2e5f6c(0x217),JSON[_0x2e5f6c(0x201)](Array[_0x2e5f6c(0x1f6)](state[_0x2e5f6c(0x21e)])));}catch(_0x4df970){}}const el={'catGrid':document['getElementById']('catGrid'),'productList':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x280)),'viewCats':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x260)),'viewList':document[a7_0x50ae6a(0x249)]('view-list'),'viewSearch':document['getElementById']('view-search'),'catTitle':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x1f4)),'btnSelectAll':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x28d)),'searchInput':document['getElementById'](a7_0x50ae6a(0x1f7)),'searchClear':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x20b)),'searchResults':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x27f)),'btnSearchCancel':document['getElementById'](a7_0x50ae6a(0x258)),'btnSave':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x209)),'saveBtnText':document[a7_0x50ae6a(0x249)]('saveBtnText'),'sentinel':document['getElementById'](a7_0x50ae6a(0x21c)),'loader':document[a7_0x50ae6a(0x249)](a7_0x50ae6a(0x28c))};function hideLoader(){const _0x543ca4=a7_0x50ae6a;el[_0x543ca4(0x231)][_0x543ca4(0x227)]['add']('hidden');}function haptic(_0x53da97=a7_0x50ae6a(0x251)){const _0x34f070=a7_0x50ae6a;try{const _0x481c3c=window['Telegram']?.['WebApp']?.[_0x34f070(0x298)];if(_0x481c3c)_0x53da97==='light'?_0x481c3c[_0x34f070(0x26f)]('light'):_0x53da97===_0x34f070(0x259)?_0x481c3c[_0x34f070(0x26f)](_0x34f070(0x259)):_0x481c3c['notificationOccurred'](_0x34f070(0x299));}catch(_0x5ed2fe){}}const bump=_0x45caca=>{const _0x5175d5=a7_0x50ae6a;if(!_0x45caca)return;_0x45caca[_0x5175d5(0x227)][_0x5175d5(0x1ef)](_0x5175d5(0x204)),void _0x45caca[_0x5175d5(0x26b)],_0x45caca[_0x5175d5(0x227)]['add']('bump');};document['addEventListener']('touchstart',_0x2cfa7a=>{const _0x539183=a7_0x50ae6a,_0x1e661d=_0x2cfa7a[_0x539183(0x246)][_0x539183(0x210)](_0x539183(0x1fd));if(!_0x1e661d)return;haptic('light'),bump(_0x1e661d);},{'passive':!![]});function isSelectionChanged(){const _0x4cdd7e=a7_0x50ae6a;if(state[_0x4cdd7e(0x21e)][_0x4cdd7e(0x26d)]!==state['initialSelected']['size'])return!![];for(let _0x5c2c3e of state[_0x4cdd7e(0x21e)]){if(!state['initialSelected'][_0x4cdd7e(0x24f)](_0x5c2c3e))return!![];}return![];}function a7_0x4c1d(_0x12e51b,_0xa73313){_0x12e51b=_0x12e51b-0x1ef;const _0x4a0b4a=a7_0xb9b0();let _0x24365f=_0x4a0b4a[_0x12e51b];return _0x24365f;}function init(){const _0x436dae=a7_0x50ae6a;let _0x45cd74=window['innerWidth'];const _0x43e774=document[_0x436dae(0x253)](_0x436dae(0x29d)),_0x1cfcce=()=>{const _0xe30a6e=_0x436dae;_0x43e774[_0xe30a6e(0x24c)]['height']=window['innerHeight']+'px',_0x45cd74=window[_0xe30a6e(0x270)];};_0x1cfcce(),window[_0x436dae(0x236)]('resize',()=>{const _0x29ed10=_0x436dae;if(window[_0x29ed10(0x270)]!==_0x45cd74)_0x1cfcce();}),DataService['init'](),el[_0x436dae(0x1f7)][_0x436dae(0x236)](_0x436dae(0x234),handleSearch),el[_0x436dae(0x20b)][_0x436dae(0x236)](_0x436dae(0x257),clearSearch);if(tg)tg['BackButton'][_0x436dae(0x256)]();const _0x250035=new IntersectionObserver(_0x3986eb=>{const _0x2f5465=_0x436dae;if(_0x3986eb[0x0][_0x2f5465(0x216)])renderNextBatch();},{'rootMargin':_0x436dae(0x233)});_0x250035['observe'](el['sentinel']);}function renderCategories(){const _0xa194ba=a7_0x50ae6a;el[_0xa194ba(0x206)]['innerHTML']='',DataService[_0xa194ba(0x290)]['forEach'](_0x3b3203=>{const _0xd7ffe2=_0xa194ba,_0x47ec61=DataService[_0xd7ffe2(0x273)](_0x3b3203['id']),_0x1112c0=_0x47ec61[_0xd7ffe2(0x20f)],_0x33d69a=_0x47ec61[_0xd7ffe2(0x218)](_0x14ac68=>state[_0xd7ffe2(0x21e)][_0xd7ffe2(0x24f)](_0x14ac68['id']))[_0xd7ffe2(0x20f)],_0xc4bf6=_0x1112c0>0x0?_0x33d69a/_0x1112c0*0x64:0x0,_0xd63fb3=document[_0xd7ffe2(0x1f9)](_0xd7ffe2(0x1f3));_0xd63fb3[_0xd7ffe2(0x230)]=_0xd7ffe2(0x23b),_0xd63fb3[_0xd7ffe2(0x287)]=()=>openCategory(_0x3b3203['id']),_0xd63fb3[_0xd7ffe2(0x276)]=_0xd7ffe2(0x23d)+_0x3b3203[_0xd7ffe2(0x291)]+_0xd7ffe2(0x212)+_0x3b3203[_0xd7ffe2(0x25d)]+_0xd7ffe2(0x237)+_0x33d69a+_0xd7ffe2(0x23e)+_0x1112c0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20'+_0xc4bf6+_0xd7ffe2(0x23a),el[_0xd7ffe2(0x206)]['appendChild'](_0xd63fb3);});}function openCategory(_0x4b9725){const _0x394277=a7_0x50ae6a;state[_0x394277(0x21f)]=_0x4b9725;const _0x4e0ff3=DataService[_0x394277(0x290)][_0x394277(0x22a)](_0x5276cc=>_0x5276cc['id']===_0x4b9725);el[_0x394277(0x1f4)][_0x394277(0x26c)]=_0x4e0ff3[_0x394277(0x25d)],el['productList'][_0x394277(0x24c)][_0x394277(0x295)]=_0x394277(0x27b);const _0x471f92=DataService[_0x394277(0x273)](_0x4b9725);startInfiniteRender(_0x471f92,el[_0x394277(0x280)]),updateSelectAllBtn(),el['viewCats'][_0x394277(0x227)]['add'](_0x394277(0x265)),el[_0x394277(0x22b)]['classList']['remove'](_0x394277(0x293)),el[_0x394277(0x263)][_0x394277(0x227)][_0x394277(0x22f)](_0x394277(0x293)),el[_0x394277(0x263)][_0x394277(0x227)]['remove'](_0x394277(0x1f8)),updateSaveButton();if(tg)tg[_0x394277(0x28e)][_0x394277(0x256)]();}function goBack(){const _0x5006a8=a7_0x50ae6a;state[_0x5006a8(0x21f)]=null,el[_0x5006a8(0x263)][_0x5006a8(0x227)][_0x5006a8(0x1ef)]('active'),el[_0x5006a8(0x22b)]['classList'][_0x5006a8(0x22f)]('active'),el[_0x5006a8(0x22b)][_0x5006a8(0x227)]['remove'](_0x5006a8(0x265)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x5006a8(0x28e)][_0x5006a8(0x256)]();}function a7_0xb9b0(){const _0x1288d6=['from','searchInput','next','createElement','–ù–∞–∑–∞–¥','appendChild','flat','.cat-card,\x20.btn-save','6326439Rxkvcu','1622172yCnhrz','products','stringify','Sync\x20skipped:','renderQueue','bump','–í—ã–±—Ä–∞—Ç—å\x20(','catGrid','slice','initData','btnSave','isArray','searchClear','blur','init','forEach','length','closest','getItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','none','catalog','constructor','isIntersecting','ultima_cart_v1','filter','warn','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','Critical\x20TMA\x20Error:','sentinel','log','selected','activeCatId','every','fadeInUp\x200.2s\x20ease\x20forwards\x20','value','initialSelected','delete','12574494epngAw','head','classList','setBackgroundColor','userSelection','find','viewCats','74764DRturk','600','195FJkYBq','add','className','loader','transparent','200px','input','(((.+)+)+)+$','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','POST','visible','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','cat-card','onClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','\x20–∏–∑\x20','search-active','includes','save','boxShadow','json','1792816rRJxKc','renderIndex','target','offClick','serverVer','getElementById','expand','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','style','BATCH_SIZE','–í—ã–±—Ä–∞—Ç—å','has','500','light','No\x20API\x20URL','querySelector','saveBtnText','text/plain;charset=utf-8','show','click','btnSearchCancel','medium','animation','setItem','3983856hducss','name','toString','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','view-cats','touchstart','10UaIQGy','viewList','innerText','prev','8aOGoLr','searchMode','#050505','needUpdate','search','offsetWidth','textContent','size','fontWeight','impactOccurred','innerWidth','setHeaderColor','currentContainer','getProducts','syncWithServer','cleanupZombieProducts','innerHTML','WebApp','disableVerticalSwipes','push','trim','flex','ready','productsMap','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','searchResults','productList','block','viewSearch','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','pointerEvents','ultima_data_v2','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','onclick','1117607EKdneb','parse','transform','üßπ\x20Removed\x20','appLoader','btnSelectAll','BackButton','error','categories','icon','values','active','–û—Ç–º–µ–Ω–∞','display','toLowerCase','body','HapticFeedback','success','opacity','Telegram','Color/Swipe\x20settings\x20error:','.fx-layer','remove','product-list-container','–ì–æ—Ç–æ–≤–æ!','processCatalog','div','catTitle','border'];a7_0xb9b0=function(){return _0x1288d6;};return a7_0xb9b0();}function startInfiniteRender(_0x387a0b,_0x1602d2,_0x381c08=![]){const _0x986538=a7_0x50ae6a;_0x1602d2[_0x986538(0x276)]='',_0x1602d2[_0x986538(0x24c)]['cssText']='';if(_0x387a0b[_0x986538(0x20f)]===0x0&&_0x381c08){_0x1602d2['innerHTML']=_0x986538(0x25f);return;}state[_0x986538(0x203)]=_0x387a0b,state[_0x986538(0x245)]=0x0;let _0x334e77=_0x1602d2;if(_0x381c08){const _0x3fb056=document[_0x986538(0x1f9)]('div');_0x3fb056[_0x986538(0x230)]=_0x986538(0x1f0),_0x3fb056[_0x986538(0x24c)]['background']=_0x986538(0x232),_0x3fb056[_0x986538(0x24c)][_0x986538(0x1f5)]='none',_0x3fb056['style'][_0x986538(0x242)]=_0x986538(0x213),_0x1602d2[_0x986538(0x1fb)](_0x3fb056),_0x334e77=_0x3fb056;}state[_0x986538(0x272)]=_0x334e77,renderNextBatch(_0x381c08);}function renderNextBatch(_0x1be8d5=![]){const _0x25df18=a7_0x50ae6a;if(state['renderIndex']>=state[_0x25df18(0x203)][_0x25df18(0x20f)])return;const _0x430a77=state['renderQueue'][_0x25df18(0x207)](state[_0x25df18(0x245)],state[_0x25df18(0x245)]+state['BATCH_SIZE']),_0x250d3e=document['createDocumentFragment']();_0x430a77[_0x25df18(0x20e)]((_0x5bada7,_0x3fa587)=>{const _0x44dced=_0x25df18,_0x3e6c08=state[_0x44dced(0x21e)]['has'](_0x5bada7['id']),_0x549b11=document[_0x44dced(0x1f9)](_0x44dced(0x1f3));_0x549b11[_0x44dced(0x230)]='product-row\x20'+(_0x3e6c08?_0x44dced(0x21e):''),_0x549b11['addEventListener'](_0x44dced(0x261),()=>haptic('light'),{'passive':!![]}),_0x549b11[_0x44dced(0x287)]=()=>toggleProduct(_0x5bada7['id'],_0x549b11),!_0x1be8d5&&(_0x549b11['style'][_0x44dced(0x29a)]='0',_0x549b11[_0x44dced(0x24c)][_0x44dced(0x25a)]=_0x44dced(0x221)+_0x3fa587*0.02+'s',setTimeout(()=>{const _0x864a3a=_0x44dced;_0x549b11[_0x864a3a(0x24c)][_0x864a3a(0x29a)]='1',_0x549b11[_0x864a3a(0x24c)]['animation']=_0x864a3a(0x213),_0x549b11[_0x864a3a(0x24c)][_0x864a3a(0x28a)]='none';},_0x3fa587*0x14+0x12c)),_0x549b11[_0x44dced(0x276)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>'+_0x5bada7[_0x44dced(0x25d)]+_0x44dced(0x283)+_0x5bada7['meta']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x250d3e[_0x44dced(0x1fb)](_0x549b11);}),state[_0x25df18(0x272)][_0x25df18(0x1fb)](_0x250d3e),state[_0x25df18(0x245)]+=state[_0x25df18(0x24d)];}const styleSheet=document[a7_0x50ae6a(0x1f9)](a7_0x50ae6a(0x24c));styleSheet[a7_0x50ae6a(0x264)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document[a7_0x50ae6a(0x226)]['appendChild'](styleSheet);function toggleProduct(_0x186501,_0xca3788){const _0x43b540=a7_0x50ae6a;state[_0x43b540(0x21e)][_0x43b540(0x24f)](_0x186501)?(state[_0x43b540(0x21e)]['delete'](_0x186501),_0xca3788[_0x43b540(0x227)][_0x43b540(0x1ef)](_0x43b540(0x21e))):(state[_0x43b540(0x21e)][_0x43b540(0x22f)](_0x186501),_0xca3788[_0x43b540(0x227)]['add'](_0x43b540(0x21e)));state['searchMode']&&el[_0x43b540(0x258)]&&(el[_0x43b540(0x258)][_0x43b540(0x26c)]=state[_0x43b540(0x21e)][_0x43b540(0x26d)]>0x0?_0x43b540(0x24e):_0x43b540(0x294),el[_0x43b540(0x258)][_0x43b540(0x24c)]['fontWeight']=state['selected']['size']>0x0?_0x43b540(0x22d):_0x43b540(0x250));saveSelectionToCache(),updateSaveButton();if(state[_0x43b540(0x21f)]&&!state[_0x43b540(0x267)])updateSelectAllBtn();}function updateSaveButton(){const _0x9cc5b=a7_0x50ae6a;let _0x2c4e47='';if(state[_0x9cc5b(0x21f)]){const _0x2c6131=DataService[_0x9cc5b(0x273)](state[_0x9cc5b(0x21f)]),_0x9f440d=_0x2c6131[_0x9cc5b(0x218)](_0x5be69e=>state[_0x9cc5b(0x21e)][_0x9cc5b(0x24f)](_0x5be69e['id']))[_0x9cc5b(0x20f)];_0x2c4e47=_0x9f440d>0x0?_0x9cc5b(0x205)+_0x9f440d+')':_0x9cc5b(0x1fa),el[_0x9cc5b(0x209)]['classList']['add'](_0x9cc5b(0x239)),el['saveBtnText']['textContent']=_0x2c4e47;return;}const _0x38c0c8=state[_0x9cc5b(0x21e)][_0x9cc5b(0x26d)];_0x2c4e47=_0x9cc5b(0x21a)+_0x38c0c8+')',el[_0x9cc5b(0x254)][_0x9cc5b(0x26c)]=_0x2c4e47,isSelectionChanged()?el[_0x9cc5b(0x209)][_0x9cc5b(0x227)][_0x9cc5b(0x22f)]('visible'):el[_0x9cc5b(0x209)][_0x9cc5b(0x227)]['remove'](_0x9cc5b(0x239));}function updateSelectAllBtn(){const _0x160fb7=a7_0x50ae6a;if(!state[_0x160fb7(0x21f)])return;const _0x42c4f6=DataService[_0x160fb7(0x273)](state['activeCatId']),_0x345d6e=_0x42c4f6[_0x160fb7(0x20f)]>0x0&&_0x42c4f6[_0x160fb7(0x220)](_0x36234a=>state[_0x160fb7(0x21e)][_0x160fb7(0x24f)](_0x36234a['id']));el['btnSelectAll'][_0x160fb7(0x26c)]=_0x345d6e?'–°–Ω—è—Ç—å\x20–≤—Å—ë':'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el['btnSelectAll']['onclick']=()=>toggleAllInCategory(_0x42c4f6,!_0x345d6e);}function toggleAllInCategory(_0x2e07b2,_0x54205c){haptic('medium'),_0x2e07b2['forEach'](_0x7feaf8=>{const _0x5bd80a=a7_0x4c1d;if(_0x54205c)state[_0x5bd80a(0x21e)]['add'](_0x7feaf8['id']);else state[_0x5bd80a(0x21e)][_0x5bd80a(0x224)](_0x7feaf8['id']);}),saveSelectionToCache(),startInfiniteRender(_0x2e07b2,el['productList']),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x4eb8b2){const _0x2f1aba=a7_0x50ae6a,_0x1e19a1=_0x4eb8b2[_0x2f1aba(0x246)][_0x2f1aba(0x222)][_0x2f1aba(0x296)]()[_0x2f1aba(0x27a)]();if(_0x1e19a1[_0x2f1aba(0x20f)]>0x0){if(!state[_0x2f1aba(0x267)])enterSearchMode();const _0x44a29e=DataService[_0x2f1aba(0x26a)](_0x1e19a1);el[_0x2f1aba(0x27f)][_0x2f1aba(0x24c)][_0x2f1aba(0x295)]=_0x2f1aba(0x281),startInfiniteRender(_0x44a29e,el[_0x2f1aba(0x27f)],!![]);}else el['searchResults'][_0x2f1aba(0x276)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x4b2613=a7_0x50ae6a;haptic(_0x4b2613(0x259));if(state[_0x4b2613(0x21f)]&&!state[_0x4b2613(0x267)]){goBack();return;}const _0x43cc55=el['saveBtnText'][_0x4b2613(0x26c)];el[_0x4b2613(0x254)][_0x4b2613(0x26c)]=_0x4b2613(0x24b),el[_0x4b2613(0x209)][_0x4b2613(0x24c)][_0x4b2613(0x284)]='none';const _0x47abe4=await DataService['saveSelectionToServer']();_0x47abe4?(el['saveBtnText'][_0x4b2613(0x26c)]=_0x4b2613(0x1f1),state['initialSelected']=new Set(state[_0x4b2613(0x21e)]),setTimeout(()=>{const _0x1ec9fd=_0x4b2613;el[_0x1ec9fd(0x209)][_0x1ec9fd(0x24c)]['pointerEvents']='auto',el[_0x1ec9fd(0x254)][_0x1ec9fd(0x26c)]=_0x43cc55,updateSaveButton();if(state[_0x1ec9fd(0x267)])exitSearchMode();},0x320)):(el['saveBtnText'][_0x4b2613(0x26c)]='–û—à–∏–±–∫–∞!',setTimeout(()=>{const _0x5bb7b7=_0x4b2613;el[_0x5bb7b7(0x209)]['style'][_0x5bb7b7(0x284)]='auto',el[_0x5bb7b7(0x254)][_0x5bb7b7(0x26c)]=_0x43cc55;},0x7d0));}function enterSearchMode(){const _0x523086=a7_0x50ae6a;state[_0x523086(0x267)]=!![];el[_0x523086(0x258)]&&(el[_0x523086(0x258)]['textContent']=_0x523086(0x294),el[_0x523086(0x258)][_0x523086(0x24c)][_0x523086(0x26e)]=_0x523086(0x250));document[_0x523086(0x297)][_0x523086(0x227)][_0x523086(0x22f)](_0x523086(0x23f)),el[_0x523086(0x22b)]['classList'][_0x523086(0x1ef)](_0x523086(0x293)),el[_0x523086(0x263)]['classList']['remove'](_0x523086(0x293)),el[_0x523086(0x282)][_0x523086(0x227)][_0x523086(0x22f)](_0x523086(0x293));if(tg)tg['BackButton'][_0x523086(0x256)]();}function exitSearchMode(){const _0x8caa74=a7_0x50ae6a;state[_0x8caa74(0x267)]=![],document[_0x8caa74(0x297)][_0x8caa74(0x227)]['remove'](_0x8caa74(0x23f)),el['searchInput'][_0x8caa74(0x20c)](),el['viewSearch'][_0x8caa74(0x227)][_0x8caa74(0x1ef)](_0x8caa74(0x293)),el[_0x8caa74(0x27f)][_0x8caa74(0x24c)][_0x8caa74(0x295)]=_0x8caa74(0x213),el['searchInput']['value']='';if(state[_0x8caa74(0x21f)])el[_0x8caa74(0x263)][_0x8caa74(0x227)]['add'](_0x8caa74(0x293));else el[_0x8caa74(0x22b)][_0x8caa74(0x227)]['add'](_0x8caa74(0x293)),renderCategories();updateSaveButton();}init();