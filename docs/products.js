const a7_0x1f1fc9=a7_0x5735;(function(_0x5139b7,_0x110c09){const _0x78255e=a7_0x5735,_0x1c9faf=_0x5139b7();while(!![]){try{const _0x545190=-parseInt(_0x78255e(0xef))/0x1*(-parseInt(_0x78255e(0x156))/0x2)+parseInt(_0x78255e(0x168))/0x3+parseInt(_0x78255e(0x14f))/0x4+parseInt(_0x78255e(0xfc))/0x5*(-parseInt(_0x78255e(0xff))/0x6)+-parseInt(_0x78255e(0x13f))/0x7+-parseInt(_0x78255e(0x146))/0x8+-parseInt(_0x78255e(0x105))/0x9;if(_0x545190===_0x110c09)break;else _0x1c9faf['push'](_0x1c9faf['shift']());}catch(_0x154f7c){_0x1c9faf['push'](_0x1c9faf['shift']());}}}(a7_0x4a89,0x3fb6c));const a7_0x106523=(function(){let _0x12ccae=!![];return function(_0x2544c6,_0x4f410f){const _0x47d424=_0x12ccae?function(){const _0x1ac423=a7_0x5735;if(_0x4f410f){const _0x16d1bf=_0x4f410f[_0x1ac423(0x121)](_0x2544c6,arguments);return _0x4f410f=null,_0x16d1bf;}}:function(){};return _0x12ccae=![],_0x47d424;};}()),a7_0x389d18=a7_0x106523(this,function(){const _0x342388=a7_0x5735;return a7_0x389d18[_0x342388(0x117)]()[_0x342388(0x108)](_0x342388(0x153))[_0x342388(0x117)]()['constructor'](a7_0x389d18)[_0x342388(0x108)](_0x342388(0x153));});a7_0x389d18();const API_URL=a7_0x1f1fc9(0x15b),tg=window['Telegram']?.[a7_0x1f1fc9(0x15f)],TG_INIT_DATA=tg?.[a7_0x1f1fc9(0xfe)]||'';if(tg)try{tg[a7_0x1f1fc9(0x15e)](),tg[a7_0x1f1fc9(0x100)]();try{tg[a7_0x1f1fc9(0x17f)](a7_0x1f1fc9(0x179));if(tg['setBackgroundColor'])tg[a7_0x1f1fc9(0x11b)]('#050505');if(tg[a7_0x1f1fc9(0x137)])tg[a7_0x1f1fc9(0x137)]();}catch(a7_0x65ba4f){console['warn']('Color/Swipe\x20settings\x20error:',a7_0x65ba4f);}tg[a7_0x1f1fc9(0x191)]&&(tg[a7_0x1f1fc9(0x191)]['show'](),tg[a7_0x1f1fc9(0x191)][a7_0x1f1fc9(0x174)](),tg[a7_0x1f1fc9(0x191)][a7_0x1f1fc9(0x165)](()=>{const _0x1401d1=a7_0x1f1fc9;if(state['searchMode'])exitSearchMode();else state['activeCatId']?goBack():window[_0x1401d1(0x194)]['href']=_0x1401d1(0x16a);}));}catch(a7_0x1ae52a){console['error']('Critical\x20TMA\x20Error:',a7_0x1ae52a);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x7d60cb=a7_0x1f1fc9,_0x575ea9=this[_0x7d60cb(0x144)]();_0x575ea9&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x2eed76=a7_0x1f1fc9;try{const _0x16cbe6=localStorage[_0x2eed76(0x147)](_0x2eed76(0x178));if(_0x16cbe6){const _0x24115a=JSON[_0x2eed76(0x14a)](_0x16cbe6);this[_0x2eed76(0x106)]=_0x24115a['categories']||[],this[_0x2eed76(0x128)]=_0x24115a[_0x2eed76(0x128)]||{},this[_0x2eed76(0x167)]=_0x24115a[_0x2eed76(0x167)]||0x0;const _0xb7d27e=localStorage[_0x2eed76(0x147)](_0x2eed76(0xf0));if(_0xb7d27e){const _0x5e701d=JSON[_0x2eed76(0x14a)](_0xb7d27e);state[_0x2eed76(0x166)]=new Set(_0x5e701d),this[_0x2eed76(0x135)](),state['initialSelected']=new Set(state['selected']);}return!![];}}catch(_0x5be0ed){console['error'](_0x5be0ed);}return![];},async 'syncWithServer'(){const _0x22a453=a7_0x1f1fc9;try{if(!API_URL['includes'](_0x22a453(0xee))){console['warn']('No\x20API\x20URL'),hideLoader();return;}const _0x414fde=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x22a453(0x18e)},'body':JSON[_0x22a453(0x192)]({'action':_0x22a453(0x18a),'clientVer':this[_0x22a453(0x167)],'initData':TG_INIT_DATA})}),_0x455bc8=await _0x414fde['json']();_0x455bc8['ok']&&_0x455bc8[_0x22a453(0x155)]&&_0x455bc8['catalog']&&this['processCatalog'](_0x455bc8[_0x22a453(0x142)],_0x455bc8[_0x22a453(0x167)]);if(_0x455bc8['ok']&&_0x455bc8[_0x22a453(0x198)])try{const _0x33010a=JSON[_0x22a453(0x14a)](_0x455bc8[_0x22a453(0x198)]);state[_0x22a453(0x166)]=new Set(_0x33010a),this['cleanupZombieProducts'](),state['initialSelected']=new Set(state[_0x22a453(0x166)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x5a656a){}hideLoader();}catch(_0x8feb8f){console[_0x22a453(0x15a)](_0x22a453(0x177),_0x8feb8f),hideLoader();if(!DataService[_0x22a453(0x106)][_0x22a453(0x13a)])alert(_0x22a453(0x140));}},'processCatalog'(_0x41eb69,_0xe9ad9c){const _0x4df993=a7_0x1f1fc9;this[_0x4df993(0x106)]=_0x41eb69['categories'][_0x4df993(0x175)](_0x4e0b88=>({'id':String(_0x4e0b88['id']),'name':_0x4e0b88['name'],'icon':_0x4e0b88[_0x4df993(0x114)]}));const _0x25ad1b={};this[_0x4df993(0x106)][_0x4df993(0x17a)](_0x4746bb=>_0x25ad1b[_0x4746bb['id']]=[]),_0x41eb69['products']&&Array[_0x4df993(0x186)](_0x41eb69[_0x4df993(0xf2)])&&_0x41eb69[_0x4df993(0xf2)][_0x4df993(0x17a)](_0x4e7309=>{const _0x2d2c42=_0x4df993,_0x1ab588=String(_0x4e7309[0x0]),_0x462ea8=String(_0x4e7309[0x1]);if(!_0x25ad1b[_0x462ea8])_0x25ad1b[_0x462ea8]=[];_0x25ad1b[_0x462ea8][_0x2d2c42(0x18b)]({'id':_0x1ab588,'name':_0x4e7309[0x2],'meta':_0x4e7309[0x3]});}),this[_0x4df993(0x128)]=_0x25ad1b,this[_0x4df993(0x167)]=_0xe9ad9c,localStorage[_0x4df993(0x173)](_0x4df993(0x178),JSON['stringify']({'categories':this[_0x4df993(0x106)],'productsMap':this[_0x4df993(0x128)],'serverVer':this[_0x4df993(0x167)]})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x5fbfa6=a7_0x1f1fc9;if(!state[_0x5fbfa6(0x166)]||state[_0x5fbfa6(0x166)][_0x5fbfa6(0x103)]===0x0)return;const _0x2b497e=new Set();Object[_0x5fbfa6(0x159)](this[_0x5fbfa6(0x128)])[_0x5fbfa6(0xf4)]()['forEach'](_0x2a535a=>_0x2b497e['add'](_0x2a535a['id']));const _0x59517c=new Set();state[_0x5fbfa6(0x166)][_0x5fbfa6(0x17a)](_0x4f0ef1=>{const _0x356c74=_0x5fbfa6;_0x2b497e[_0x356c74(0x11c)](_0x4f0ef1)&&_0x59517c[_0x356c74(0x110)](_0x4f0ef1);}),_0x59517c[_0x5fbfa6(0x103)]!==state[_0x5fbfa6(0x166)][_0x5fbfa6(0x103)]&&(console[_0x5fbfa6(0x16c)](_0x5fbfa6(0x157)+(state[_0x5fbfa6(0x166)][_0x5fbfa6(0x103)]-_0x59517c[_0x5fbfa6(0x103)])+_0x5fbfa6(0xf6)),state[_0x5fbfa6(0x166)]=_0x59517c,saveSelectionToCache());},'getProducts'(_0x275a6a){const _0xcedcbc=a7_0x1f1fc9;return this[_0xcedcbc(0x128)][_0x275a6a]||[];},'search'(_0x226945){const _0x52559e=a7_0x1f1fc9,_0x2ac999=[],_0x2c4f57=_0x226945[_0x52559e(0xf3)]();return Object[_0x52559e(0x159)](this[_0x52559e(0x128)])[_0x52559e(0xf4)]()['forEach'](_0x125a58=>{const _0x1225e7=_0x52559e;if(_0x125a58[_0x1225e7(0x184)][_0x1225e7(0xf3)]()[_0x1225e7(0x12b)](_0x2c4f57))_0x2ac999[_0x1225e7(0x18b)](_0x125a58);}),_0x2ac999;},async 'saveSelectionToServer'(){const _0x27fe81=a7_0x1f1fc9;this[_0x27fe81(0x135)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x27fe81(0x10d),'headers':{'Content-Type':_0x27fe81(0x18e)},'body':JSON['stringify']({'action':'save','initData':TG_INIT_DATA,'selection':Array[_0x27fe81(0x16b)](state[_0x27fe81(0x166)])})}),!![];}catch(_0x24001f){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x4e6ad5=a7_0x1f1fc9;try{localStorage['setItem'](_0x4e6ad5(0xf0),JSON[_0x4e6ad5(0x192)](Array[_0x4e6ad5(0x16b)](state['selected'])));}catch(_0x29dfb8){}}const el={'catGrid':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x193)),'productList':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x13c)),'viewCats':document['getElementById']('view-cats'),'viewList':document['getElementById'](a7_0x1f1fc9(0x16f)),'viewSearch':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x13e)),'catTitle':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x163)),'btnSelectAll':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0xf7)),'searchInput':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x187)),'searchClear':document['getElementById']('searchClear'),'searchResults':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x161)),'btnSearchCancel':document['getElementById'](a7_0x1f1fc9(0x133)),'btnSave':document[a7_0x1f1fc9(0x176)]('btnSave'),'saveBtnText':document[a7_0x1f1fc9(0x176)]('saveBtnText'),'sentinel':document['getElementById'](a7_0x1f1fc9(0x197)),'loader':document[a7_0x1f1fc9(0x176)](a7_0x1f1fc9(0x120))};function hideLoader(){const _0x506522=a7_0x1f1fc9;el[_0x506522(0x16d)][_0x506522(0x172)][_0x506522(0x110)]('hidden');}function haptic(_0x14a096=a7_0x1f1fc9(0x199)){const _0x815c42=a7_0x1f1fc9;try{const _0x326c1d=window[_0x815c42(0x14b)]?.['WebApp']?.[_0x815c42(0xfd)];if(_0x326c1d)_0x14a096==='light'?_0x326c1d[_0x815c42(0x154)](_0x815c42(0x199)):_0x14a096===_0x815c42(0x116)?_0x326c1d['impactOccurred'](_0x815c42(0x116)):_0x326c1d[_0x815c42(0xed)](_0x815c42(0x18c));}catch(_0x5cf988){}}const bump=_0x472bd5=>{const _0x537982=a7_0x1f1fc9;if(!_0x472bd5)return;_0x472bd5['classList'][_0x537982(0x104)](_0x537982(0x115)),void _0x472bd5[_0x537982(0x11a)],_0x472bd5[_0x537982(0x172)]['add'](_0x537982(0x115));};document[a7_0x1f1fc9(0x123)](a7_0x1f1fc9(0x11f),_0x212cda=>{const _0x31e1e8=a7_0x1f1fc9,_0xa29402=_0x212cda[_0x31e1e8(0x18d)][_0x31e1e8(0x171)](_0x31e1e8(0x132));if(!_0xa29402)return;haptic(_0x31e1e8(0x199)),bump(_0xa29402);},{'passive':!![]});function isSelectionChanged(){const _0x2f803=a7_0x1f1fc9;if(state[_0x2f803(0x166)][_0x2f803(0x103)]!==state['initialSelected'][_0x2f803(0x103)])return!![];for(let _0x3a00d2 of state['selected']){if(!state[_0x2f803(0x196)][_0x2f803(0x11c)](_0x3a00d2))return!![];}return![];}function init(){const _0x102bcc=a7_0x1f1fc9;let _0x299c4b=window[_0x102bcc(0x164)];const _0x211bd5=document['querySelector'](_0x102bcc(0x149)),_0x48914d=()=>{const _0x14e9e3=_0x102bcc;_0x211bd5[_0x14e9e3(0x17e)][_0x14e9e3(0x138)]=window[_0x14e9e3(0xf1)]+'px',_0x299c4b=window[_0x14e9e3(0x164)];};_0x48914d(),window[_0x102bcc(0x123)](_0x102bcc(0x195),()=>{const _0x31b083=_0x102bcc;if(window[_0x31b083(0x164)]!==_0x299c4b)_0x48914d();}),DataService[_0x102bcc(0x18a)](),el[_0x102bcc(0x187)]['addEventListener'](_0x102bcc(0x15d),handleSearch),el[_0x102bcc(0x134)][_0x102bcc(0x123)](_0x102bcc(0x112),clearSearch);if(tg)tg[_0x102bcc(0x191)][_0x102bcc(0x183)]();const _0x550d3a=new IntersectionObserver(_0x2af11f=>{const _0xc8e7ff=_0x102bcc;if(_0x2af11f[0x0][_0xc8e7ff(0x136)])renderNextBatch();},{'rootMargin':'200px'});_0x550d3a[_0x102bcc(0x12e)](el[_0x102bcc(0x197)]);}function renderCategories(){const _0x20e53d=a7_0x1f1fc9;el['catGrid'][_0x20e53d(0x150)]='',DataService['categories']['forEach'](_0x49e5c6=>{const _0x4c3c20=_0x20e53d,_0x249dcc=DataService[_0x4c3c20(0x143)](_0x49e5c6['id']),_0x111d0c=_0x249dcc['length'],_0xcef125=_0x249dcc[_0x4c3c20(0x13b)](_0x4a29af=>state[_0x4c3c20(0x166)][_0x4c3c20(0x11c)](_0x4a29af['id']))[_0x4c3c20(0x13a)],_0xc67b81=_0x111d0c>0x0?_0xcef125/_0x111d0c*0x64:0x0,_0x274088=document[_0x4c3c20(0x113)](_0x4c3c20(0x189));_0x274088['className']=_0x4c3c20(0x158),_0x274088[_0x4c3c20(0x145)]=()=>openCategory(_0x49e5c6['id']),_0x274088[_0x4c3c20(0x150)]=_0x4c3c20(0x15c)+_0x49e5c6[_0x4c3c20(0x114)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>'+_0x49e5c6[_0x4c3c20(0x184)]+_0x4c3c20(0x16e)+_0xcef125+_0x4c3c20(0x170)+_0x111d0c+_0x4c3c20(0xfb)+_0xc67b81+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el['catGrid'][_0x4c3c20(0x12c)](_0x274088);});}function openCategory(_0x49e364){const _0x361453=a7_0x1f1fc9;state[_0x361453(0x10a)]=_0x49e364;const _0x2faae0=DataService[_0x361453(0x106)][_0x361453(0x101)](_0x58f645=>_0x58f645['id']===_0x49e364);el[_0x361453(0x163)][_0x361453(0x12f)]=_0x2faae0[_0x361453(0x184)],el['productList'][_0x361453(0x17e)][_0x361453(0x118)]=_0x361453(0x102);const _0x409c95=DataService[_0x361453(0x143)](_0x49e364);startInfiniteRender(_0x409c95,el[_0x361453(0x13c)]),updateSelectAllBtn(),el['viewCats']['classList']['add']('prev'),el['viewCats']['classList'][_0x361453(0x104)]('active'),el[_0x361453(0x139)][_0x361453(0x172)][_0x361453(0x110)](_0x361453(0x13d)),el[_0x361453(0x139)]['classList'][_0x361453(0x104)]('next'),updateSaveButton();if(tg)tg[_0x361453(0x191)][_0x361453(0x183)]();}function a7_0x5735(_0x2610a8,_0x16f86f){_0x2610a8=_0x2610a8-0xeb;const _0x16d2ac=a7_0x4a89();let _0x389d18=_0x16d2ac[_0x2610a8];return _0x389d18;}function goBack(){const _0x26033f=a7_0x1f1fc9;state['activeCatId']=null,el[_0x26033f(0x139)][_0x26033f(0x172)][_0x26033f(0x104)](_0x26033f(0x13d)),el[_0x26033f(0x107)]['classList'][_0x26033f(0x110)](_0x26033f(0x13d)),el['viewCats'][_0x26033f(0x172)][_0x26033f(0x104)](_0x26033f(0x17c)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton'][_0x26033f(0x183)]();}function startInfiniteRender(_0x3acc0c,_0x5c2c97,_0x244463=![]){const _0xa9efa7=a7_0x1f1fc9;_0x5c2c97[_0xa9efa7(0x150)]='',_0x5c2c97[_0xa9efa7(0x17e)][_0xa9efa7(0xfa)]='';if(_0x3acc0c[_0xa9efa7(0x13a)]===0x0&&_0x244463){_0x5c2c97[_0xa9efa7(0x150)]=_0xa9efa7(0x125);return;}state['renderQueue']=_0x3acc0c,state[_0xa9efa7(0x152)]=0x0;let _0x5ee997=_0x5c2c97;if(_0x244463){const _0x502e79=document['createElement'](_0xa9efa7(0x189));_0x502e79[_0xa9efa7(0x109)]='product-list-container',_0x502e79[_0xa9efa7(0x17e)][_0xa9efa7(0x14d)]='transparent',_0x502e79['style'][_0xa9efa7(0xec)]='none',_0x502e79[_0xa9efa7(0x17e)][_0xa9efa7(0xf8)]=_0xa9efa7(0x160),_0x5c2c97[_0xa9efa7(0x12c)](_0x502e79),_0x5ee997=_0x502e79;}state[_0xa9efa7(0x148)]=_0x5ee997,renderNextBatch(_0x244463);}function renderNextBatch(_0x1a17f1=![]){const _0x5e2ab7=a7_0x1f1fc9;if(state[_0x5e2ab7(0x152)]>=state[_0x5e2ab7(0x111)][_0x5e2ab7(0x13a)])return;const _0x3d8c0e=state[_0x5e2ab7(0x111)][_0x5e2ab7(0x17b)](state['renderIndex'],state['renderIndex']+state['BATCH_SIZE']),_0x24f39d=document[_0x5e2ab7(0x129)]();_0x3d8c0e['forEach']((_0x1bc030,_0x12dc0e)=>{const _0x260965=_0x5e2ab7,_0x34483a=state[_0x260965(0x166)]['has'](_0x1bc030['id']),_0x4f9a9=document[_0x260965(0x113)](_0x260965(0x189));_0x4f9a9[_0x260965(0x109)]='product-row\x20'+(_0x34483a?_0x260965(0x166):''),_0x4f9a9['addEventListener'](_0x260965(0x11f),()=>haptic('light'),{'passive':!![]}),_0x4f9a9[_0x260965(0x145)]=()=>toggleProduct(_0x1bc030['id'],_0x4f9a9),!_0x1a17f1&&(_0x4f9a9[_0x260965(0x17e)]['opacity']='0',_0x4f9a9[_0x260965(0x17e)][_0x260965(0x11d)]=_0x260965(0x18f)+_0x12dc0e*0.02+'s',setTimeout(()=>{const _0x23c600=_0x260965;_0x4f9a9[_0x23c600(0x17e)][_0x23c600(0x122)]='1',_0x4f9a9[_0x23c600(0x17e)]['animation']=_0x23c600(0x160),_0x4f9a9[_0x23c600(0x17e)][_0x23c600(0x169)]=_0x23c600(0x160);},_0x12dc0e*0x14+0x12c)),_0x4f9a9['innerHTML']=_0x260965(0xeb)+_0x1bc030[_0x260965(0x184)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>'+_0x1bc030[_0x260965(0x131)]+_0x260965(0x180),_0x24f39d[_0x260965(0x12c)](_0x4f9a9);}),state['currentContainer'][_0x5e2ab7(0x12c)](_0x24f39d),state[_0x5e2ab7(0x152)]+=state['BATCH_SIZE'];}const styleSheet=document[a7_0x1f1fc9(0x113)](a7_0x1f1fc9(0x17e));styleSheet[a7_0x1f1fc9(0x182)]=a7_0x1f1fc9(0x127),document[a7_0x1f1fc9(0x126)][a7_0x1f1fc9(0x12c)](styleSheet);function toggleProduct(_0x3ce0b1,_0x3f4607){const _0x3253e5=a7_0x1f1fc9;state[_0x3253e5(0x166)][_0x3253e5(0x11c)](_0x3ce0b1)?(state[_0x3253e5(0x166)][_0x3253e5(0x12a)](_0x3ce0b1),_0x3f4607[_0x3253e5(0x172)][_0x3253e5(0x104)](_0x3253e5(0x166))):(state[_0x3253e5(0x166)][_0x3253e5(0x110)](_0x3ce0b1),_0x3f4607[_0x3253e5(0x172)]['add'](_0x3253e5(0x166)));state['searchMode']&&el[_0x3253e5(0x133)]&&(el['btnSearchCancel']['textContent']=state[_0x3253e5(0x166)][_0x3253e5(0x103)]>0x0?'–í—ã–±—Ä–∞—Ç—å':_0x3253e5(0x151),el[_0x3253e5(0x133)][_0x3253e5(0x17e)]['fontWeight']=state[_0x3253e5(0x166)][_0x3253e5(0x103)]>0x0?'600':'500');saveSelectionToCache(),updateSaveButton();if(state[_0x3253e5(0x10a)]&&!state[_0x3253e5(0x10f)])updateSelectAllBtn();}function updateSaveButton(){const _0x21299b=a7_0x1f1fc9;let _0x51ed6c='';if(state[_0x21299b(0x10a)]){const _0xe18f8a=DataService[_0x21299b(0x143)](state[_0x21299b(0x10a)]),_0x45ac6f=_0xe18f8a[_0x21299b(0x13b)](_0x2e13de=>state['selected'][_0x21299b(0x11c)](_0x2e13de['id']))[_0x21299b(0x13a)];_0x51ed6c=_0x45ac6f>0x0?_0x21299b(0x17d)+_0x45ac6f+')':_0x21299b(0x185),el['btnSave'][_0x21299b(0x172)][_0x21299b(0x110)]('visible'),el[_0x21299b(0xf5)][_0x21299b(0x12f)]=_0x51ed6c;return;}const _0x46790d=state['selected']['size'];_0x51ed6c=_0x21299b(0x10e)+_0x46790d+')',el[_0x21299b(0xf5)]['textContent']=_0x51ed6c,isSelectionChanged()?el[_0x21299b(0xf9)][_0x21299b(0x172)][_0x21299b(0x110)](_0x21299b(0x12d)):el[_0x21299b(0xf9)][_0x21299b(0x172)][_0x21299b(0x104)](_0x21299b(0x12d));}function updateSelectAllBtn(){const _0x785629=a7_0x1f1fc9;if(!state[_0x785629(0x10a)])return;const _0x28592b=DataService[_0x785629(0x143)](state[_0x785629(0x10a)]),_0x3ad4ac=_0x28592b[_0x785629(0x13a)]>0x0&&_0x28592b[_0x785629(0x181)](_0x5d0130=>state[_0x785629(0x166)][_0x785629(0x11c)](_0x5d0130['id']));el[_0x785629(0xf7)][_0x785629(0x12f)]=_0x3ad4ac?'–°–Ω—è—Ç—å\x20–≤—Å—ë':'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el[_0x785629(0xf7)][_0x785629(0x145)]=()=>toggleAllInCategory(_0x28592b,!_0x3ad4ac);}function toggleAllInCategory(_0x422bd7,_0x1a9d14){const _0x956e28=a7_0x1f1fc9;haptic('medium'),_0x422bd7[_0x956e28(0x17a)](_0xf82350=>{const _0x2fa826=_0x956e28;if(_0x1a9d14)state[_0x2fa826(0x166)][_0x2fa826(0x110)](_0xf82350['id']);else state[_0x2fa826(0x166)][_0x2fa826(0x12a)](_0xf82350['id']);}),saveSelectionToCache(),startInfiniteRender(_0x422bd7,el[_0x956e28(0x13c)]),updateSelectAllBtn(),updateSaveButton();}function a7_0x4a89(){const _0x157431=['viewCats','search','className','activeCatId','blur','auto','POST','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','searchMode','add','renderQueue','click','createElement','icon','bump','medium','toString','display','500','offsetWidth','setBackgroundColor','has','animation','value','touchstart','appLoader','apply','opacity','addEventListener','body','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','head','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','productsMap','createDocumentFragment','delete','includes','appendChild','visible','observe','textContent','saveSelectionToServer','meta','.cat-card,\x20.btn-save','btnSearchCancel','searchClear','cleanupZombieProducts','isIntersecting','disableVerticalSwipes','height','viewList','length','filter','productList','active','view-search','661129fPfLfr','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','–û—à–∏–±–∫–∞!','catalog','getProducts','loadFromCache','onclick','435296dGhNko','getItem','currentContainer','.fx-layer','parse','Telegram','search-active','background','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','1085256JOaZGe','innerHTML','–û—Ç–º–µ–Ω–∞','renderIndex','(((.+)+)+)+$','impactOccurred','needUpdate','513284fNqHYb','üßπ\x20Removed\x20','cat-card','values','warn','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','input','ready','WebApp','none','searchResults','trim','catTitle','innerWidth','onClick','selected','serverVer','352884spyTlH','transform','router.html','from','log','loader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','view-list','\x20–∏–∑\x20','closest','classList','setItem','offClick','map','getElementById','Sync\x20skipped:','ultima_data_v2','#050505','forEach','slice','prev','–í—ã–±—Ä–∞—Ç—å\x20(','style','setHeaderColor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','every','innerText','show','name','–ù–∞–∑–∞–¥','isArray','searchInput','viewSearch','div','init','push','success','target','text/plain;charset=utf-8','fadeInUp\x200.2s\x20ease\x20forwards\x20','fontWeight','BackButton','stringify','catGrid','location','resize','initialSelected','sentinel','userSelection','light','pointerEvents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','border','notificationOccurred','script.google.com','2afKxuX','ultima_cart_v1','innerHeight','products','toLowerCase','flat','saveBtnText','\x20zombie\x20products','btnSelectAll','boxShadow','btnSave','cssText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','610TDjFnB','HapticFeedback','initData','1896PFzxrK','expand','find','flex','size','remove','4084587AsZnFJ','categories'];a7_0x4a89=function(){return _0x157431;};return a7_0x4a89();}function handleSearch(_0x3483cc){const _0x5ee870=a7_0x1f1fc9,_0x90d51d=_0x3483cc['target'][_0x5ee870(0x11e)][_0x5ee870(0xf3)]()[_0x5ee870(0x162)]();if(_0x90d51d[_0x5ee870(0x13a)]>0x0){if(!state[_0x5ee870(0x10f)])enterSearchMode();const _0x1178d8=DataService[_0x5ee870(0x108)](_0x90d51d);el[_0x5ee870(0x161)]['style'][_0x5ee870(0x118)]='block',startInfiniteRender(_0x1178d8,el[_0x5ee870(0x161)],!![]);}else el[_0x5ee870(0x161)][_0x5ee870(0x150)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1d1e9c=a7_0x1f1fc9;haptic(_0x1d1e9c(0x116));if(state['activeCatId']&&!state[_0x1d1e9c(0x10f)]){goBack();return;}const _0x4efd6e=el[_0x1d1e9c(0xf5)]['textContent'];el['saveBtnText'][_0x1d1e9c(0x12f)]=_0x1d1e9c(0x14e),el[_0x1d1e9c(0xf9)][_0x1d1e9c(0x17e)][_0x1d1e9c(0x19a)]=_0x1d1e9c(0x160);const _0x263316=await DataService[_0x1d1e9c(0x130)]();_0x263316?(el[_0x1d1e9c(0xf5)][_0x1d1e9c(0x12f)]='–ì–æ—Ç–æ–≤–æ!',state[_0x1d1e9c(0x196)]=new Set(state['selected']),setTimeout(()=>{const _0x2226bf=_0x1d1e9c;el['btnSave'][_0x2226bf(0x17e)][_0x2226bf(0x19a)]='auto',el[_0x2226bf(0xf5)][_0x2226bf(0x12f)]=_0x4efd6e,updateSaveButton();if(state['searchMode'])exitSearchMode();},0x320)):(el['saveBtnText'][_0x1d1e9c(0x12f)]=_0x1d1e9c(0x141),setTimeout(()=>{const _0x5e6253=_0x1d1e9c;el[_0x5e6253(0xf9)][_0x5e6253(0x17e)][_0x5e6253(0x19a)]=_0x5e6253(0x10c),el[_0x5e6253(0xf5)][_0x5e6253(0x12f)]=_0x4efd6e;},0x7d0));}function enterSearchMode(){const _0x93352e=a7_0x1f1fc9;state[_0x93352e(0x10f)]=!![];el['btnSearchCancel']&&(el[_0x93352e(0x133)][_0x93352e(0x12f)]='–û—Ç–º–µ–Ω–∞',el[_0x93352e(0x133)]['style'][_0x93352e(0x190)]=_0x93352e(0x119));document['body']['classList'][_0x93352e(0x110)](_0x93352e(0x14c)),el[_0x93352e(0x107)][_0x93352e(0x172)][_0x93352e(0x104)]('active'),el[_0x93352e(0x139)][_0x93352e(0x172)][_0x93352e(0x104)](_0x93352e(0x13d)),el[_0x93352e(0x188)][_0x93352e(0x172)][_0x93352e(0x110)](_0x93352e(0x13d));if(tg)tg[_0x93352e(0x191)]['show']();}function exitSearchMode(){const _0x145d42=a7_0x1f1fc9;state['searchMode']=![],document[_0x145d42(0x124)]['classList'][_0x145d42(0x104)]('search-active'),el[_0x145d42(0x187)][_0x145d42(0x10b)](),el[_0x145d42(0x188)]['classList'][_0x145d42(0x104)]('active'),el[_0x145d42(0x161)]['style']['display']=_0x145d42(0x160),el[_0x145d42(0x187)][_0x145d42(0x11e)]='';if(state[_0x145d42(0x10a)])el[_0x145d42(0x139)][_0x145d42(0x172)][_0x145d42(0x110)]('active');else el[_0x145d42(0x107)][_0x145d42(0x172)][_0x145d42(0x110)]('active'),renderCategories();updateSaveButton();}init();