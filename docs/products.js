const a7_0x26214f=a7_0x47c5;(function(_0xc01db5,_0xa18e88){const _0x18599c=a7_0x47c5,_0x321ea5=_0xc01db5();while(!![]){try{const _0x9c89f1=parseInt(_0x18599c(0x20b))/0x1*(-parseInt(_0x18599c(0x1bb))/0x2)+parseInt(_0x18599c(0x23a))/0x3+-parseInt(_0x18599c(0x1df))/0x4*(parseInt(_0x18599c(0x1b2))/0x5)+-parseInt(_0x18599c(0x1d2))/0x6*(-parseInt(_0x18599c(0x244))/0x7)+parseInt(_0x18599c(0x247))/0x8*(-parseInt(_0x18599c(0x1b1))/0x9)+parseInt(_0x18599c(0x253))/0xa*(-parseInt(_0x18599c(0x224))/0xb)+parseInt(_0x18599c(0x1fc))/0xc;if(_0x9c89f1===_0xa18e88)break;else _0x321ea5['push'](_0x321ea5['shift']());}catch(_0x52b68a){_0x321ea5['push'](_0x321ea5['shift']());}}}(a7_0x5ece,0xf33a0));const a7_0x40323d=(function(){let _0xc37408=!![];return function(_0x51a421,_0x4fb130){const _0x264fe0=_0xc37408?function(){const _0x5f1489=a7_0x47c5;if(_0x4fb130){const _0x3b729=_0x4fb130[_0x5f1489(0x20f)](_0x51a421,arguments);return _0x4fb130=null,_0x3b729;}}:function(){};return _0xc37408=![],_0x264fe0;};}()),a7_0x98d5dc=a7_0x40323d(this,function(){const _0x572aa1=a7_0x47c5;return a7_0x98d5dc['toString']()[_0x572aa1(0x1e0)](_0x572aa1(0x232))[_0x572aa1(0x1d0)]()['constructor'](a7_0x98d5dc)[_0x572aa1(0x1e0)](_0x572aa1(0x232));});a7_0x98d5dc();const API_URL=a7_0x26214f(0x204),tg=window[a7_0x26214f(0x1ed)]?.[a7_0x26214f(0x1b7)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x26214f(0x210)](),tg[a7_0x26214f(0x1e1)]();try{tg[a7_0x26214f(0x1d4)]('#050505');if(tg[a7_0x26214f(0x249)])tg['setBackgroundColor']('#050505');if(tg[a7_0x26214f(0x24c)])tg[a7_0x26214f(0x24c)]();}catch(a7_0x1d8014){console[a7_0x26214f(0x1ee)]('Color/Swipe\x20settings\x20error:',a7_0x1d8014);}tg[a7_0x26214f(0x1fe)]&&(tg[a7_0x26214f(0x1fe)][a7_0x26214f(0x1b6)](),tg[a7_0x26214f(0x1fe)][a7_0x26214f(0x1bf)](),tg[a7_0x26214f(0x1fe)][a7_0x26214f(0x1be)](()=>{const _0x12a891=a7_0x26214f;if(state[_0x12a891(0x25c)])exitSearchMode();else state['activeCatId']?goBack():window['location'][_0x12a891(0x208)]=_0x12a891(0x1de);}));}catch(a7_0x8a480b){console[a7_0x26214f(0x24d)](a7_0x26214f(0x22f),a7_0x8a480b);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x1c7526=a7_0x26214f,_0x128dcb=this[_0x1c7526(0x23d)]();_0x128dcb&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x1c7526(0x1da)]();},'loadFromCache'(){const _0x1f13f5=a7_0x26214f;try{const _0x373d25=localStorage[_0x1f13f5(0x1c2)](_0x1f13f5(0x1b8));if(_0x373d25){const _0xa36fd2=JSON[_0x1f13f5(0x24a)](_0x373d25);this[_0x1f13f5(0x1fb)]=_0xa36fd2['categories']||[],this[_0x1f13f5(0x214)]=_0xa36fd2[_0x1f13f5(0x214)]||{},this[_0x1f13f5(0x229)]=_0xa36fd2[_0x1f13f5(0x229)]||0x0;const _0x53ad05=localStorage[_0x1f13f5(0x1c2)](_0x1f13f5(0x260));if(_0x53ad05){const _0x31ec14=JSON[_0x1f13f5(0x24a)](_0x53ad05);state[_0x1f13f5(0x21b)]=new Set(_0x31ec14),this[_0x1f13f5(0x221)](),state['initialSelected']=new Set(state[_0x1f13f5(0x21b)]);}return!![];}}catch(_0x506522){console[_0x1f13f5(0x24d)](_0x506522);}return![];},async 'syncWithServer'(){const _0x5f562b=a7_0x26214f;try{if(!API_URL[_0x5f562b(0x20a)](_0x5f562b(0x235))){console[_0x5f562b(0x1ee)]('No\x20API\x20URL'),hideLoader();return;}const _0x4b5def=await fetch(API_URL,{'method':_0x5f562b(0x1f4),'headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON['stringify']({'action':_0x5f562b(0x206),'clientVer':this[_0x5f562b(0x229)],'initData':TG_INIT_DATA})}),_0x5e5b6d=await _0x4b5def[_0x5f562b(0x1c0)]();_0x5e5b6d['ok']&&_0x5e5b6d[_0x5f562b(0x21f)]&&_0x5e5b6d[_0x5f562b(0x1e6)]&&this['processCatalog'](_0x5e5b6d['catalog'],_0x5e5b6d[_0x5f562b(0x229)]);if(_0x5e5b6d['ok']&&_0x5e5b6d[_0x5f562b(0x1f2)])try{const _0x43ff0e=JSON['parse'](_0x5e5b6d[_0x5f562b(0x1f2)]);state[_0x5f562b(0x21b)]=new Set(_0x43ff0e),this['cleanupZombieProducts'](),state[_0x5f562b(0x220)]=new Set(state[_0x5f562b(0x21b)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x346828){}hideLoader();}catch(_0x2462ba){console['warn'](_0x5f562b(0x1e8),_0x2462ba),hideLoader();if(!DataService['categories']['length'])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0x179f55,_0x1155b5){const _0x3f16f3=a7_0x26214f;this[_0x3f16f3(0x1fb)]=_0x179f55[_0x3f16f3(0x1fb)]['map'](_0x51b7e5=>({'id':String(_0x51b7e5['id']),'name':_0x51b7e5['name'],'icon':_0x51b7e5[_0x3f16f3(0x213)]}));const _0x315410={};this['categories'][_0x3f16f3(0x1cf)](_0x18408b=>_0x315410[_0x18408b['id']]=[]),_0x179f55[_0x3f16f3(0x1d9)]&&Array[_0x3f16f3(0x207)](_0x179f55['products'])&&_0x179f55[_0x3f16f3(0x1d9)]['forEach'](_0x4856cf=>{const _0xaa200e=_0x3f16f3,_0x3f7599=String(_0x4856cf[0x0]),_0x34cb26=String(_0x4856cf[0x1]);if(!_0x315410[_0x34cb26])_0x315410[_0x34cb26]=[];_0x315410[_0x34cb26][_0xaa200e(0x243)]({'id':_0x3f7599,'name':_0x4856cf[0x2],'meta':_0x4856cf[0x3]});}),this[_0x3f16f3(0x214)]=_0x315410,this[_0x3f16f3(0x229)]=_0x1155b5,localStorage[_0x3f16f3(0x22e)](_0x3f16f3(0x1b8),JSON[_0x3f16f3(0x1ca)]({'categories':this[_0x3f16f3(0x1fb)],'productsMap':this[_0x3f16f3(0x214)],'serverVer':this['serverVer']})),this[_0x3f16f3(0x221)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x38f6b6=a7_0x26214f;if(!state[_0x38f6b6(0x21b)]||state[_0x38f6b6(0x21b)]['size']===0x0)return;const _0x368b78=new Set();Object[_0x38f6b6(0x1ce)](this['productsMap'])['flat']()['forEach'](_0x2920ab=>_0x368b78['add'](_0x2920ab['id']));const _0x85aa36=new Set();state[_0x38f6b6(0x21b)][_0x38f6b6(0x1cf)](_0x41d009=>{const _0x16c3c7=_0x38f6b6;_0x368b78[_0x16c3c7(0x1e5)](_0x41d009)&&_0x85aa36['add'](_0x41d009);}),_0x85aa36[_0x38f6b6(0x26a)]!==state[_0x38f6b6(0x21b)][_0x38f6b6(0x26a)]&&(console[_0x38f6b6(0x1e7)](_0x38f6b6(0x26b)+(state['selected']['size']-_0x85aa36[_0x38f6b6(0x26a)])+'\x20zombie\x20products'),state[_0x38f6b6(0x21b)]=_0x85aa36,saveSelectionToCache());},'getProducts'(_0x22ea72){const _0x4bab42=a7_0x26214f;return this[_0x4bab42(0x214)][_0x22ea72]||[];},'search'(_0x330e2b){const _0x2a0f63=a7_0x26214f,_0x13288a=[],_0x5d5bf9=_0x330e2b[_0x2a0f63(0x21a)]();return Object[_0x2a0f63(0x1ce)](this[_0x2a0f63(0x214)])[_0x2a0f63(0x258)]()[_0x2a0f63(0x1cf)](_0x5a18ab=>{const _0xe4ba09=_0x2a0f63;if(_0x5a18ab[_0xe4ba09(0x261)][_0xe4ba09(0x21a)]()[_0xe4ba09(0x20a)](_0x5d5bf9))_0x13288a['push'](_0x5a18ab);}),_0x13288a;},async 'saveSelectionToServer'(){const _0x139b31=a7_0x26214f;this[_0x139b31(0x221)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x139b31(0x1f4),'headers':{'Content-Type':_0x139b31(0x1e9)},'body':JSON[_0x139b31(0x1ca)]({'action':_0x139b31(0x219),'initData':TG_INIT_DATA,'selection':Array[_0x139b31(0x262)](state[_0x139b31(0x21b)])})}),!![];}catch(_0x285238){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x2e1261=a7_0x26214f;try{localStorage[_0x2e1261(0x22e)](_0x2e1261(0x260),JSON[_0x2e1261(0x1ca)](Array[_0x2e1261(0x262)](state[_0x2e1261(0x21b)])));}catch(_0x443253){}}const el={'catGrid':document['getElementById']('catGrid'),'productList':document[a7_0x26214f(0x250)]('productList'),'viewCats':document[a7_0x26214f(0x250)](a7_0x26214f(0x22d)),'viewList':document['getElementById'](a7_0x26214f(0x1b5)),'viewSearch':document[a7_0x26214f(0x250)](a7_0x26214f(0x202)),'catTitle':document[a7_0x26214f(0x250)]('catTitle'),'btnSelectAll':document[a7_0x26214f(0x250)](a7_0x26214f(0x21d)),'searchInput':document['getElementById'](a7_0x26214f(0x248)),'searchClear':document[a7_0x26214f(0x250)](a7_0x26214f(0x24b)),'searchResults':document[a7_0x26214f(0x250)](a7_0x26214f(0x25d)),'btnSearchCancel':document[a7_0x26214f(0x250)](a7_0x26214f(0x1c8)),'btnSave':document[a7_0x26214f(0x250)](a7_0x26214f(0x211)),'saveBtnText':document['getElementById'](a7_0x26214f(0x1cd)),'sentinel':document[a7_0x26214f(0x250)](a7_0x26214f(0x1d5)),'loader':document[a7_0x26214f(0x250)]('appLoader')};function hideLoader(){const _0x55c4d8=a7_0x26214f;el['loader'][_0x55c4d8(0x234)]['add'](_0x55c4d8(0x25f));}function haptic(_0x6dfa6e=a7_0x26214f(0x240)){const _0x219d27=a7_0x26214f;try{const _0x377122=window[_0x219d27(0x1ed)]?.[_0x219d27(0x1b7)]?.['HapticFeedback'];if(_0x377122)_0x6dfa6e===_0x219d27(0x240)?_0x377122[_0x219d27(0x1ef)](_0x219d27(0x240)):_0x6dfa6e===_0x219d27(0x231)?_0x377122['impactOccurred'](_0x219d27(0x231)):_0x377122[_0x219d27(0x226)](_0x219d27(0x223));}catch(_0x1e65e7){}}const bump=_0x58c095=>{const _0x13fa17=a7_0x26214f;if(!_0x58c095)return;_0x58c095[_0x13fa17(0x234)]['remove'](_0x13fa17(0x20c)),void _0x58c095[_0x13fa17(0x1f0)],_0x58c095[_0x13fa17(0x234)][_0x13fa17(0x255)](_0x13fa17(0x20c));};document[a7_0x26214f(0x1f6)]('touchstart',_0x15805d=>{const _0x21d377=a7_0x26214f,_0x1859af=_0x15805d[_0x21d377(0x22c)][_0x21d377(0x238)](_0x21d377(0x1e2));if(!_0x1859af)return;haptic(_0x21d377(0x240)),bump(_0x1859af);},{'passive':!![]});function isSelectionChanged(){const _0x591620=a7_0x26214f;if(state[_0x591620(0x21b)][_0x591620(0x26a)]!==state[_0x591620(0x220)]['size'])return!![];for(let _0xe1ed27 of state[_0x591620(0x21b)]){if(!state[_0x591620(0x220)]['has'](_0xe1ed27))return!![];}return![];}function init(){const _0x59205f=a7_0x26214f;let _0x54c210=window['innerWidth'];const _0x1a50db=document[_0x59205f(0x264)](_0x59205f(0x20e)),_0x41e85a=()=>{const _0x380eeb=_0x59205f;_0x1a50db[_0x380eeb(0x23f)][_0x380eeb(0x24e)]=window[_0x380eeb(0x215)]+'px',_0x54c210=window[_0x380eeb(0x252)];};_0x41e85a(),window[_0x59205f(0x1f6)](_0x59205f(0x259),()=>{const _0x405319=_0x59205f;if(window[_0x405319(0x252)]!==_0x54c210)_0x41e85a();}),DataService['init'](),el[_0x59205f(0x248)][_0x59205f(0x1f6)](_0x59205f(0x1db),handleSearch),el[_0x59205f(0x24b)][_0x59205f(0x1f6)](_0x59205f(0x228),clearSearch);if(tg)tg[_0x59205f(0x1fe)]['show']();const _0x56f59b=new IntersectionObserver(_0x2a957b=>{if(_0x2a957b[0x0]['isIntersecting'])renderNextBatch();},{'rootMargin':'200px'});_0x56f59b[_0x59205f(0x1d1)](el[_0x59205f(0x1d5)]);}function renderCategories(){const _0x44be62=a7_0x26214f;el['catGrid'][_0x44be62(0x251)]='',DataService[_0x44be62(0x1fb)][_0x44be62(0x1cf)](_0x579208=>{const _0x322eb0=_0x44be62,_0x474b5f=DataService[_0x322eb0(0x20d)](_0x579208['id']),_0x1c963a=_0x474b5f[_0x322eb0(0x22b)],_0x48683c=_0x474b5f[_0x322eb0(0x222)](_0x740ee4=>state['selected']['has'](_0x740ee4['id']))[_0x322eb0(0x22b)],_0x1beb54=_0x1c963a>0x0?_0x48683c/_0x1c963a*0x64:0x0,_0x4c3c3c=document[_0x322eb0(0x1b3)](_0x322eb0(0x1e4));_0x4c3c3c[_0x322eb0(0x1eb)]=_0x322eb0(0x1f7),_0x4c3c3c[_0x322eb0(0x237)]=()=>openCategory(_0x579208['id']),_0x4c3c3c[_0x322eb0(0x251)]=_0x322eb0(0x23e)+_0x579208[_0x322eb0(0x213)]+_0x322eb0(0x1d6)+_0x579208[_0x322eb0(0x261)]+_0x322eb0(0x1f1)+_0x48683c+_0x322eb0(0x1ff)+_0x1c963a+_0x322eb0(0x25e)+_0x1beb54+_0x322eb0(0x254),el[_0x322eb0(0x1f9)][_0x322eb0(0x1ec)](_0x4c3c3c);});}function a7_0x5ece(){const _0x40580c=['border','addEventListener','cat-card','600','catGrid','boxShadow','categories','24175500KXSGOr','product-row\x20','BackButton','\x20–∏–∑\x20','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','renderQueue','view-search','–°–Ω—è—Ç—å\x20–≤—Å—ë','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','init','isArray','href','renderIndex','includes','3953AWrAiD','bump','getProducts','.fx-layer','apply','ready','btnSave','–ì–æ—Ç–æ–≤–æ!','icon','productsMap','innerHeight','value','prev','–û—Ç–º–µ–Ω–∞','save','toLowerCase','selected','visible','btnSelectAll','textContent','needUpdate','initialSelected','cleanupZombieProducts','filter','success','213829sbYTxm','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','notificationOccurred','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','click','serverVer','trim','length','target','view-cats','setItem','Critical\x20TMA\x20Error:','transform','medium','(((.+)+)+)+$','product-list-container','classList','script.google.com','delete','onclick','closest','head','5330364rWuaTH','pointerEvents','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','loadFromCache','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','style','light','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','every','push','569051Oztrkx','meta','currentContainer','4776aOLAku','searchInput','setBackgroundColor','parse','searchClear','disableVerticalSwipes','error','height','remove','getElementById','innerHTML','innerWidth','700GmugRe','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','add','500','search-active','flat','resize','productList','fontWeight','searchMode','searchResults','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','hidden','ultima_cart_v1','name','from','viewList','querySelector','–ù–∞–∑–∞–¥','–í—ã–±—Ä–∞—Ç—å','display','–í—ã–±—Ä–∞—Ç—å\x20(','innerText','size','üßπ\x20Removed\x20','next','viewCats','3357kOSDms','6520115coNssq','createElement','none','view-list','show','WebApp','ultima_data_v2','createDocumentFragment','body','488JLzKpL','catTitle','find','onClick','offClick','json','active','getItem','block','cssText','flex','BATCH_SIZE','activeCatId','btnSearchCancel','viewSearch','stringify','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','blur','saveBtnText','values','forEach','toString','observe','78oQujwd','animation','setHeaderColor','sentinel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','fadeInUp\x200.2s\x20ease\x20forwards\x20','background','products','syncWithServer','input','touchstart','transparent','router.html','4PLtbdj','search','expand','.cat-card,\x20.btn-save','saveSelectionToServer','div','has','catalog','log','Sync\x20skipped:','text/plain;charset=utf-8','opacity','className','appendChild','Telegram','warn','impactOccurred','offsetWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','userSelection','auto','POST'];a7_0x5ece=function(){return _0x40580c;};return a7_0x5ece();}function openCategory(_0x4c2bec){const _0x4a2945=a7_0x26214f;state[_0x4a2945(0x1c7)]=_0x4c2bec;const _0x22011c=DataService[_0x4a2945(0x1fb)][_0x4a2945(0x1bd)](_0x413e98=>_0x413e98['id']===_0x4c2bec);el[_0x4a2945(0x1bc)]['textContent']=_0x22011c[_0x4a2945(0x261)],el[_0x4a2945(0x25a)][_0x4a2945(0x23f)][_0x4a2945(0x267)]=_0x4a2945(0x1c5);const _0x2240ea=DataService[_0x4a2945(0x20d)](_0x4c2bec);startInfiniteRender(_0x2240ea,el['productList']),updateSelectAllBtn(),el[_0x4a2945(0x26d)][_0x4a2945(0x234)][_0x4a2945(0x255)](_0x4a2945(0x217)),el[_0x4a2945(0x26d)][_0x4a2945(0x234)][_0x4a2945(0x24f)](_0x4a2945(0x1c1)),el[_0x4a2945(0x263)][_0x4a2945(0x234)]['add'](_0x4a2945(0x1c1)),el[_0x4a2945(0x263)][_0x4a2945(0x234)][_0x4a2945(0x24f)](_0x4a2945(0x26c)),updateSaveButton();if(tg)tg[_0x4a2945(0x1fe)][_0x4a2945(0x1b6)]();}function goBack(){const _0x380514=a7_0x26214f;state[_0x380514(0x1c7)]=null,el[_0x380514(0x263)][_0x380514(0x234)]['remove'](_0x380514(0x1c1)),el[_0x380514(0x26d)][_0x380514(0x234)][_0x380514(0x255)](_0x380514(0x1c1)),el[_0x380514(0x26d)]['classList'][_0x380514(0x24f)](_0x380514(0x217)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton']['show']();}function startInfiniteRender(_0xd8cb11,_0x4e6907,_0x34d145=![]){const _0x148942=a7_0x26214f;_0x4e6907['innerHTML']='',_0x4e6907[_0x148942(0x23f)][_0x148942(0x1c4)]='';if(_0xd8cb11[_0x148942(0x22b)]===0x0&&_0x34d145){_0x4e6907[_0x148942(0x251)]=_0x148942(0x205);return;}state[_0x148942(0x201)]=_0xd8cb11,state[_0x148942(0x209)]=0x0;let _0x5932de=_0x4e6907;if(_0x34d145){const _0x3dd1ed=document[_0x148942(0x1b3)](_0x148942(0x1e4));_0x3dd1ed[_0x148942(0x1eb)]=_0x148942(0x233),_0x3dd1ed[_0x148942(0x23f)][_0x148942(0x1d8)]=_0x148942(0x1dd),_0x3dd1ed['style'][_0x148942(0x1f5)]=_0x148942(0x1b4),_0x3dd1ed[_0x148942(0x23f)][_0x148942(0x1fa)]='none',_0x4e6907[_0x148942(0x1ec)](_0x3dd1ed),_0x5932de=_0x3dd1ed;}state[_0x148942(0x246)]=_0x5932de,renderNextBatch(_0x34d145);}function renderNextBatch(_0x6897f6=![]){const _0x3818b6=a7_0x26214f;if(state[_0x3818b6(0x209)]>=state[_0x3818b6(0x201)][_0x3818b6(0x22b)])return;const _0x3ad6d6=state[_0x3818b6(0x201)]['slice'](state[_0x3818b6(0x209)],state[_0x3818b6(0x209)]+state['BATCH_SIZE']),_0x30f96e=document[_0x3818b6(0x1b9)]();_0x3ad6d6[_0x3818b6(0x1cf)]((_0x555f44,_0x3692ec)=>{const _0xeb2b6b=_0x3818b6,_0x3c88e5=state[_0xeb2b6b(0x21b)][_0xeb2b6b(0x1e5)](_0x555f44['id']),_0x394e6d=document['createElement'](_0xeb2b6b(0x1e4));_0x394e6d[_0xeb2b6b(0x1eb)]=_0xeb2b6b(0x1fd)+(_0x3c88e5?_0xeb2b6b(0x21b):''),_0x394e6d[_0xeb2b6b(0x1f6)](_0xeb2b6b(0x1dc),()=>haptic(_0xeb2b6b(0x240)),{'passive':!![]}),_0x394e6d['onclick']=()=>toggleProduct(_0x555f44['id'],_0x394e6d),!_0x6897f6&&(_0x394e6d['style'][_0xeb2b6b(0x1ea)]='0',_0x394e6d[_0xeb2b6b(0x23f)][_0xeb2b6b(0x1d3)]=_0xeb2b6b(0x1d7)+_0x3692ec*0.02+'s',setTimeout(()=>{const _0x4cc899=_0xeb2b6b;_0x394e6d[_0x4cc899(0x23f)][_0x4cc899(0x1ea)]='1',_0x394e6d['style'][_0x4cc899(0x1d3)]=_0x4cc899(0x1b4),_0x394e6d['style'][_0x4cc899(0x230)]=_0x4cc899(0x1b4);},_0x3692ec*0x14+0x12c)),_0x394e6d[_0xeb2b6b(0x251)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>'+_0x555f44[_0xeb2b6b(0x261)]+_0xeb2b6b(0x23c)+_0x555f44[_0xeb2b6b(0x245)]+_0xeb2b6b(0x227),_0x30f96e[_0xeb2b6b(0x1ec)](_0x394e6d);}),state['currentContainer'][_0x3818b6(0x1ec)](_0x30f96e),state[_0x3818b6(0x209)]+=state[_0x3818b6(0x1c6)];}function a7_0x47c5(_0x44a37b,_0x952ae0){_0x44a37b=_0x44a37b-0x1b1;const _0x490038=a7_0x5ece();let _0x98d5dc=_0x490038[_0x44a37b];return _0x98d5dc;}const styleSheet=document[a7_0x26214f(0x1b3)](a7_0x26214f(0x23f));styleSheet[a7_0x26214f(0x269)]=a7_0x26214f(0x200),document[a7_0x26214f(0x239)][a7_0x26214f(0x1ec)](styleSheet);function toggleProduct(_0x5e0f4a,_0x476092){const _0x245f42=a7_0x26214f;state[_0x245f42(0x21b)][_0x245f42(0x1e5)](_0x5e0f4a)?(state[_0x245f42(0x21b)][_0x245f42(0x236)](_0x5e0f4a),_0x476092[_0x245f42(0x234)][_0x245f42(0x24f)]('selected')):(state[_0x245f42(0x21b)][_0x245f42(0x255)](_0x5e0f4a),_0x476092['classList']['add'](_0x245f42(0x21b)));state[_0x245f42(0x25c)]&&el[_0x245f42(0x1c8)]&&(el[_0x245f42(0x1c8)]['textContent']=state[_0x245f42(0x21b)][_0x245f42(0x26a)]>0x0?_0x245f42(0x266):_0x245f42(0x218),el[_0x245f42(0x1c8)][_0x245f42(0x23f)][_0x245f42(0x25b)]=state[_0x245f42(0x21b)]['size']>0x0?_0x245f42(0x1f8):_0x245f42(0x256));saveSelectionToCache(),updateSaveButton();if(state[_0x245f42(0x1c7)]&&!state[_0x245f42(0x25c)])updateSelectAllBtn();}function updateSaveButton(){const _0x1bdb24=a7_0x26214f;let _0xad358='';if(state[_0x1bdb24(0x1c7)]){const _0xc88eda=DataService[_0x1bdb24(0x20d)](state[_0x1bdb24(0x1c7)]),_0x464d98=_0xc88eda[_0x1bdb24(0x222)](_0x5daaee=>state[_0x1bdb24(0x21b)]['has'](_0x5daaee['id']))['length'];_0xad358=_0x464d98>0x0?_0x1bdb24(0x268)+_0x464d98+')':_0x1bdb24(0x265),el['btnSave'][_0x1bdb24(0x234)][_0x1bdb24(0x255)](_0x1bdb24(0x21c)),el['saveBtnText'][_0x1bdb24(0x21e)]=_0xad358;return;}const _0x1bac0f=state['selected'][_0x1bdb24(0x26a)];_0xad358=_0x1bdb24(0x1cb)+_0x1bac0f+')',el[_0x1bdb24(0x1cd)][_0x1bdb24(0x21e)]=_0xad358,isSelectionChanged()?el[_0x1bdb24(0x211)][_0x1bdb24(0x234)][_0x1bdb24(0x255)]('visible'):el[_0x1bdb24(0x211)][_0x1bdb24(0x234)]['remove'](_0x1bdb24(0x21c));}function updateSelectAllBtn(){const _0x48b35a=a7_0x26214f;if(!state['activeCatId'])return;const _0x5e0f5a=DataService[_0x48b35a(0x20d)](state[_0x48b35a(0x1c7)]),_0x1636b9=_0x5e0f5a[_0x48b35a(0x22b)]>0x0&&_0x5e0f5a[_0x48b35a(0x242)](_0x2c5953=>state[_0x48b35a(0x21b)]['has'](_0x2c5953['id']));el[_0x48b35a(0x21d)]['textContent']=_0x1636b9?_0x48b35a(0x203):_0x48b35a(0x241),el[_0x48b35a(0x21d)]['onclick']=()=>toggleAllInCategory(_0x5e0f5a,!_0x1636b9);}function toggleAllInCategory(_0x113735,_0x2a6094){const _0xc7639e=a7_0x26214f;haptic(_0xc7639e(0x231)),_0x113735[_0xc7639e(0x1cf)](_0x29c9bd=>{const _0x21073e=_0xc7639e;if(_0x2a6094)state[_0x21073e(0x21b)][_0x21073e(0x255)](_0x29c9bd['id']);else state[_0x21073e(0x21b)][_0x21073e(0x236)](_0x29c9bd['id']);}),saveSelectionToCache(),startInfiniteRender(_0x113735,el[_0xc7639e(0x25a)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x2d642d){const _0x2dcad9=a7_0x26214f,_0x225f7c=_0x2d642d['target'][_0x2dcad9(0x216)]['toLowerCase']()[_0x2dcad9(0x22a)]();if(_0x225f7c[_0x2dcad9(0x22b)]>0x0){if(!state[_0x2dcad9(0x25c)])enterSearchMode();const _0x3af44d=DataService['search'](_0x225f7c);el[_0x2dcad9(0x25d)][_0x2dcad9(0x23f)][_0x2dcad9(0x267)]=_0x2dcad9(0x1c3),startInfiniteRender(_0x3af44d,el[_0x2dcad9(0x25d)],!![]);}else el[_0x2dcad9(0x25d)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x5e2284=a7_0x26214f;haptic(_0x5e2284(0x231));if(state[_0x5e2284(0x1c7)]&&!state[_0x5e2284(0x25c)]){goBack();return;}const _0x3cf367=el['saveBtnText']['textContent'];el[_0x5e2284(0x1cd)]['textContent']=_0x5e2284(0x225),el[_0x5e2284(0x211)]['style']['pointerEvents']=_0x5e2284(0x1b4);const _0x421a99=await DataService[_0x5e2284(0x1e3)]();_0x421a99?(el['saveBtnText'][_0x5e2284(0x21e)]=_0x5e2284(0x212),state[_0x5e2284(0x220)]=new Set(state[_0x5e2284(0x21b)]),setTimeout(()=>{const _0x4422c1=_0x5e2284;el['btnSave'][_0x4422c1(0x23f)]['pointerEvents']=_0x4422c1(0x1f3),el['saveBtnText'][_0x4422c1(0x21e)]=_0x3cf367,updateSaveButton();if(state[_0x4422c1(0x25c)])exitSearchMode();},0x320)):(el[_0x5e2284(0x1cd)][_0x5e2284(0x21e)]='–û—à–∏–±–∫–∞!',setTimeout(()=>{const _0xbe94ef=_0x5e2284;el[_0xbe94ef(0x211)][_0xbe94ef(0x23f)][_0xbe94ef(0x23b)]=_0xbe94ef(0x1f3),el[_0xbe94ef(0x1cd)][_0xbe94ef(0x21e)]=_0x3cf367;},0x7d0));}function enterSearchMode(){const _0x4548c4=a7_0x26214f;state[_0x4548c4(0x25c)]=!![];el[_0x4548c4(0x1c8)]&&(el['btnSearchCancel'][_0x4548c4(0x21e)]=_0x4548c4(0x218),el['btnSearchCancel']['style'][_0x4548c4(0x25b)]=_0x4548c4(0x256));document[_0x4548c4(0x1ba)][_0x4548c4(0x234)][_0x4548c4(0x255)](_0x4548c4(0x257)),el[_0x4548c4(0x26d)][_0x4548c4(0x234)][_0x4548c4(0x24f)](_0x4548c4(0x1c1)),el[_0x4548c4(0x263)][_0x4548c4(0x234)][_0x4548c4(0x24f)](_0x4548c4(0x1c1)),el[_0x4548c4(0x1c9)][_0x4548c4(0x234)][_0x4548c4(0x255)](_0x4548c4(0x1c1));if(tg)tg[_0x4548c4(0x1fe)]['show']();}function exitSearchMode(){const _0x3ec1c1=a7_0x26214f;state[_0x3ec1c1(0x25c)]=![],document[_0x3ec1c1(0x1ba)]['classList'][_0x3ec1c1(0x24f)](_0x3ec1c1(0x257)),el[_0x3ec1c1(0x248)][_0x3ec1c1(0x1cc)](),el[_0x3ec1c1(0x1c9)][_0x3ec1c1(0x234)][_0x3ec1c1(0x24f)]('active'),el[_0x3ec1c1(0x25d)]['style'][_0x3ec1c1(0x267)]=_0x3ec1c1(0x1b4),el[_0x3ec1c1(0x248)][_0x3ec1c1(0x216)]='';if(state['activeCatId'])el['viewList']['classList'][_0x3ec1c1(0x255)](_0x3ec1c1(0x1c1));else el[_0x3ec1c1(0x26d)][_0x3ec1c1(0x234)][_0x3ec1c1(0x255)](_0x3ec1c1(0x1c1)),renderCategories();updateSaveButton();}init();