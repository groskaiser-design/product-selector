const a7_0x377b01=a7_0x55e6;(function(_0x528ce5,_0x4d04e9){const _0x5aadb1=a7_0x55e6,_0x25da22=_0x528ce5();while(!![]){try{const _0x42e973=parseInt(_0x5aadb1(0x14f))/0x1+-parseInt(_0x5aadb1(0xfc))/0x2*(parseInt(_0x5aadb1(0x140))/0x3)+parseInt(_0x5aadb1(0xb2))/0x4*(-parseInt(_0x5aadb1(0x123))/0x5)+parseInt(_0x5aadb1(0x116))/0x6*(-parseInt(_0x5aadb1(0xc7))/0x7)+-parseInt(_0x5aadb1(0x10c))/0x8*(parseInt(_0x5aadb1(0xbe))/0x9)+parseInt(_0x5aadb1(0xd2))/0xa*(parseInt(_0x5aadb1(0x11b))/0xb)+-parseInt(_0x5aadb1(0xbd))/0xc*(-parseInt(_0x5aadb1(0x124))/0xd);if(_0x42e973===_0x4d04e9)break;else _0x25da22['push'](_0x25da22['shift']());}catch(_0x4d317d){_0x25da22['push'](_0x25da22['shift']());}}}(a7_0x5845,0x669e7));const a7_0x5cd723=(function(){let _0xbe191b=!![];return function(_0x3ba55d,_0x510785){const _0x408604=_0xbe191b?function(){if(_0x510785){const _0x24b0f9=_0x510785['apply'](_0x3ba55d,arguments);return _0x510785=null,_0x24b0f9;}}:function(){};return _0xbe191b=![],_0x408604;};}()),a7_0x5a19c5=a7_0x5cd723(this,function(){const _0x57cec2=a7_0x55e6;return a7_0x5a19c5[_0x57cec2(0xd0)]()[_0x57cec2(0x114)](_0x57cec2(0x127))['toString']()[_0x57cec2(0x10f)](a7_0x5a19c5)[_0x57cec2(0x114)](_0x57cec2(0x127));});a7_0x5a19c5();const API_URL=a7_0x377b01(0x103),tg=window[a7_0x377b01(0x105)]?.['WebApp'],TG_INIT_DATA=tg?.[a7_0x377b01(0xb3)]||'';if(tg)try{tg[a7_0x377b01(0x13a)](),tg[a7_0x377b01(0xad)]();try{tg['setHeaderColor'](a7_0x377b01(0x10a));if(tg[a7_0x377b01(0x14e)])tg[a7_0x377b01(0x14e)](a7_0x377b01(0x10a));if(tg[a7_0x377b01(0xab)])tg[a7_0x377b01(0xab)]();}catch(a7_0x4ec9ee){console[a7_0x377b01(0x113)](a7_0x377b01(0x13f),a7_0x4ec9ee);}tg[a7_0x377b01(0xff)]&&(tg[a7_0x377b01(0xff)][a7_0x377b01(0x121)](),tg['BackButton']['offClick'](),tg['BackButton']['onClick'](()=>{const _0x4ea1ed=a7_0x377b01;if(state[_0x4ea1ed(0xdc)])exitSearchMode();else state[_0x4ea1ed(0x128)]?goBack():window[_0x4ea1ed(0x122)][_0x4ea1ed(0xef)]=_0x4ea1ed(0xa3);}));}catch(a7_0x4fae8a){console[a7_0x377b01(0x111)]('Critical\x20TMA\x20Error:',a7_0x4fae8a);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x1b2abb=a7_0x377b01,_0x3264b4=this['loadFromCache']();_0x3264b4&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x1b2abb(0xa7)]();},'loadFromCache'(){const _0x526baa=a7_0x377b01;try{const _0x101fb4=localStorage[_0x526baa(0xa5)]('ultima_data_v2');if(_0x101fb4){const _0x2b115a=JSON['parse'](_0x101fb4);this['categories']=_0x2b115a[_0x526baa(0x139)]||[],this[_0x526baa(0x9d)]=_0x2b115a['productsMap']||{},this[_0x526baa(0x145)]=_0x2b115a[_0x526baa(0x145)]||0x0;const _0x313aa6=localStorage[_0x526baa(0xa5)](_0x526baa(0xb1));if(_0x313aa6){const _0x3aafb4=JSON[_0x526baa(0xb5)](_0x313aa6);state[_0x526baa(0xa0)]=new Set(_0x3aafb4),this[_0x526baa(0xd8)](),state[_0x526baa(0xfd)]=new Set(state[_0x526baa(0xa0)]);}return!![];}}catch(_0x4749aa){console[_0x526baa(0x111)](_0x4749aa);}return![];},async 'syncWithServer'(){const _0x482d8e=a7_0x377b01;try{if(!API_URL['includes'](_0x482d8e(0xe7))){console[_0x482d8e(0x113)]('No\x20API\x20URL'),hideLoader();return;}const _0x571eda=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x482d8e(0xc8)},'body':JSON[_0x482d8e(0xcc)]({'action':_0x482d8e(0x14a),'clientVer':this[_0x482d8e(0x145)],'initData':TG_INIT_DATA})}),_0x49810e=await _0x571eda['json']();_0x49810e['ok']&&_0x49810e[_0x482d8e(0xa9)]&&_0x49810e[_0x482d8e(0x130)]&&this['processCatalog'](_0x49810e[_0x482d8e(0x130)],_0x49810e[_0x482d8e(0x145)]);if(_0x49810e['ok']&&_0x49810e['userSelection'])try{const _0x15fd9c=JSON[_0x482d8e(0xb5)](_0x49810e['userSelection']);state[_0x482d8e(0xa0)]=new Set(_0x15fd9c),this[_0x482d8e(0xd8)](),state[_0x482d8e(0xfd)]=new Set(state['selected']),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x229e65){}hideLoader();}catch(_0x5f1638){console[_0x482d8e(0x113)](_0x482d8e(0x141),_0x5f1638),hideLoader();if(!DataService[_0x482d8e(0x139)][_0x482d8e(0xbf)])alert(_0x482d8e(0x117));}},'processCatalog'(_0x40279e,_0x2d9bf1){const _0x3fb69d=a7_0x377b01;this[_0x3fb69d(0x139)]=_0x40279e['categories'][_0x3fb69d(0xfe)](_0x3e5104=>({'id':String(_0x3e5104['id']),'name':_0x3e5104[_0x3fb69d(0x12f)],'icon':_0x3e5104[_0x3fb69d(0x129)]}));const _0x5ebb51={};this[_0x3fb69d(0x139)][_0x3fb69d(0xd1)](_0x4fdd3b=>_0x5ebb51[_0x4fdd3b['id']]=[]),_0x40279e['products']&&Array[_0x3fb69d(0xe5)](_0x40279e[_0x3fb69d(0xae)])&&_0x40279e['products'][_0x3fb69d(0xd1)](_0x555b0f=>{const _0x310247=String(_0x555b0f[0x0]),_0x4220c8=String(_0x555b0f[0x1]);if(!_0x5ebb51[_0x4220c8])_0x5ebb51[_0x4220c8]=[];_0x5ebb51[_0x4220c8]['push']({'id':_0x310247,'name':_0x555b0f[0x2],'meta':_0x555b0f[0x3]});}),this[_0x3fb69d(0x9d)]=_0x5ebb51,this[_0x3fb69d(0x145)]=_0x2d9bf1,localStorage[_0x3fb69d(0xac)](_0x3fb69d(0xf2),JSON['stringify']({'categories':this[_0x3fb69d(0x139)],'productsMap':this['productsMap'],'serverVer':this[_0x3fb69d(0x145)]})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x147e15=a7_0x377b01;if(!state[_0x147e15(0xa0)]||state[_0x147e15(0xa0)][_0x147e15(0x136)]===0x0)return;const _0x4b24a9=new Set();Object['values'](this[_0x147e15(0x9d)])[_0x147e15(0x11a)]()[_0x147e15(0xd1)](_0x549833=>_0x4b24a9[_0x147e15(0x146)](_0x549833['id']));const _0x2e6964=new Set();state[_0x147e15(0xa0)][_0x147e15(0xd1)](_0x3ee872=>{_0x4b24a9['has'](_0x3ee872)&&_0x2e6964['add'](_0x3ee872);}),_0x2e6964[_0x147e15(0x136)]!==state[_0x147e15(0xa0)][_0x147e15(0x136)]&&(console[_0x147e15(0x131)](_0x147e15(0xde)+(state['selected'][_0x147e15(0x136)]-_0x2e6964['size'])+_0x147e15(0x13b)),state[_0x147e15(0xa0)]=_0x2e6964,saveSelectionToCache());},'getProducts'(_0x5d0460){return this['productsMap'][_0x5d0460]||[];},'search'(_0x3f24b1){const _0x1d6e11=a7_0x377b01,_0x4c9369=[],_0x39908b=_0x3f24b1[_0x1d6e11(0x112)]();return Object['values'](this['productsMap'])[_0x1d6e11(0x11a)]()['forEach'](_0x194f28=>{const _0x3eac4c=_0x1d6e11;if(_0x194f28[_0x3eac4c(0x12f)][_0x3eac4c(0x112)]()[_0x3eac4c(0xce)](_0x39908b))_0x4c9369[_0x3eac4c(0xf7)](_0x194f28);}),_0x4c9369;},async 'saveSelectionToServer'(){const _0x2d1df9=a7_0x377b01;this['cleanupZombieProducts'](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x2d1df9(0x138),'headers':{'Content-Type':_0x2d1df9(0xc8)},'body':JSON[_0x2d1df9(0xcc)]({'action':_0x2d1df9(0xf9),'initData':TG_INIT_DATA,'selection':Array[_0x2d1df9(0xf3)](state[_0x2d1df9(0xa0)])})}),!![];}catch(_0x150a13){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x2f0a93=a7_0x377b01;try{localStorage[_0x2f0a93(0xac)]('ultima_cart_v1',JSON[_0x2f0a93(0xcc)](Array[_0x2f0a93(0xf3)](state[_0x2f0a93(0xa0)])));}catch(_0x266dac){}}const el={'catGrid':document[a7_0x377b01(0xdb)]('catGrid'),'productList':document[a7_0x377b01(0xdb)]('productList'),'viewCats':document[a7_0x377b01(0xdb)]('view-cats'),'viewList':document[a7_0x377b01(0xdb)](a7_0x377b01(0x104)),'viewSearch':document[a7_0x377b01(0xdb)]('view-search'),'catTitle':document[a7_0x377b01(0xdb)](a7_0x377b01(0x137)),'btnSelectAll':document[a7_0x377b01(0xdb)]('btnSelectAll'),'searchInput':document[a7_0x377b01(0xdb)](a7_0x377b01(0xed)),'searchClear':document[a7_0x377b01(0xdb)](a7_0x377b01(0x118)),'searchResults':document[a7_0x377b01(0xdb)](a7_0x377b01(0xd4)),'btnSearchCancel':document[a7_0x377b01(0xdb)](a7_0x377b01(0xd6)),'btnSave':document[a7_0x377b01(0xdb)]('btnSave'),'saveBtnText':document[a7_0x377b01(0xdb)](a7_0x377b01(0xb4)),'sentinel':document[a7_0x377b01(0xdb)](a7_0x377b01(0xd3)),'loader':document[a7_0x377b01(0xdb)](a7_0x377b01(0x101))};function hideLoader(){const _0x3245b3=a7_0x377b01;el[_0x3245b3(0xdf)][_0x3245b3(0xa6)]['add']('hidden');}function haptic(_0x199a1a='light'){const _0x5a6b47=a7_0x377b01;try{const _0x519657=window['Telegram']?.['WebApp']?.[_0x5a6b47(0xb8)];if(_0x519657)_0x199a1a===_0x5a6b47(0x9e)?_0x519657[_0x5a6b47(0xea)](_0x5a6b47(0x9e)):_0x199a1a===_0x5a6b47(0xca)?_0x519657[_0x5a6b47(0xea)](_0x5a6b47(0xca)):_0x519657['notificationOccurred'](_0x5a6b47(0x107));}catch(_0x4dd85d){}}const bump=_0x5dbc93=>{const _0x4e0a25=a7_0x377b01;if(!_0x5dbc93)return;_0x5dbc93['classList'][_0x4e0a25(0x119)]('bump'),void _0x5dbc93[_0x4e0a25(0x132)],_0x5dbc93[_0x4e0a25(0xa6)][_0x4e0a25(0x146)](_0x4e0a25(0x110));};document[a7_0x377b01(0xa1)]('touchstart',_0x3032b9=>{const _0x2906e9=a7_0x377b01,_0x5d7e6b=_0x3032b9[_0x2906e9(0xe4)][_0x2906e9(0x143)](_0x2906e9(0xe9));if(!_0x5d7e6b)return;haptic(_0x2906e9(0x9e)),bump(_0x5d7e6b);},{'passive':!![]});function isSelectionChanged(){const _0x231b15=a7_0x377b01;if(state[_0x231b15(0xa0)][_0x231b15(0x136)]!==state[_0x231b15(0xfd)][_0x231b15(0x136)])return!![];for(let _0x10573a of state['selected']){if(!state[_0x231b15(0xfd)][_0x231b15(0x115)](_0x10573a))return!![];}return![];}function a7_0x5845(){const _0x57b380=['search-active','blur','visible','productList','11558568bFDwge','4392ZhwytC','length','getProducts','innerText','–ù–∞–∑–∞–¥','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','touchstart','height','createDocumentFragment','7KWzoVm','text/plain;charset=utf-8','onclick','medium','transform','stringify','delete','includes','500','toString','forEach','192490YNUMvv','sentinel','searchResults','querySelector','btnSearchCancel','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','cleanupZombieProducts','trim','opacity','getElementById','searchMode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','üßπ\x20Removed\x20','loader','none','product-row\x20','block','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','target','isArray','active','script.google.com','renderQueue','.cat-card,\x20.btn-save','impactOccurred','saveSelectionToServer','.fx-layer','searchInput','600','href','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','background','ultima_data_v2','from','div','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','BATCH_SIZE','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','save','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','head','204046bjgHtc','initialSelected','map','BackButton','pointerEvents','appLoader','cssText','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','view-list','Telegram','viewSearch','success','–û—à–∏–±–∫–∞!','fadeInUp\x200.2s\x20ease\x20forwards\x20','#050505','transparent','12224VeJNAk','slice','display','constructor','bump','error','toLowerCase','warn','search','has','3234366ZcAlUu','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','searchClear','remove','flat','209pgBpUA','innerHeight','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','btnSave','style','renderIndex','show','location','393710aHlODI','13lpPtwC','appendChild','–í—ã–±—Ä–∞—Ç—å\x20(','(((.+)+)+)+$','activeCatId','icon','value','viewList','–û—Ç–º–µ–Ω–∞','createElement','find','name','catalog','log','offsetWidth','–í—ã–±—Ä–∞—Ç—å','auto','innerHTML','size','catTitle','POST','categories','ready','\x20zombie\x20products','animation','className','btnSelectAll','Color/Swipe\x20settings\x20error:','3tlGAcK','Sync\x20skipped:','–ì–æ—Ç–æ–≤–æ!','closest','\x20–∏–∑\x20','serverVer','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','currentContainer','prev','init','innerWidth','textContent','click','setBackgroundColor','793098iNzIIM','productsMap','light','viewCats','selected','addEventListener','filter','router.html','isIntersecting','getItem','classList','syncWithServer','input','needUpdate','every','disableVerticalSwipes','setItem','expand','products','cat-card','body','ultima_cart_v1','16rBQiYa','initData','saveBtnText','parse','catGrid','flex','HapticFeedback'];a7_0x5845=function(){return _0x57b380;};return a7_0x5845();}function init(){const _0x17078a=a7_0x377b01;let _0x56f8cb=window[_0x17078a(0x14b)];const _0x6c5a75=document[_0x17078a(0xd5)](_0x17078a(0xec)),_0x14e0f1=()=>{const _0x5b3638=_0x17078a;_0x6c5a75[_0x5b3638(0x11f)][_0x5b3638(0xc5)]=window[_0x5b3638(0x11c)]+'px',_0x56f8cb=window[_0x5b3638(0x14b)];};_0x14e0f1(),window[_0x17078a(0xa1)]('resize',()=>{const _0x30270a=_0x17078a;if(window[_0x30270a(0x14b)]!==_0x56f8cb)_0x14e0f1();}),DataService['init'](),el[_0x17078a(0xed)][_0x17078a(0xa1)](_0x17078a(0xa8),handleSearch),el[_0x17078a(0x118)]['addEventListener'](_0x17078a(0x14d),clearSearch);if(tg)tg[_0x17078a(0xff)][_0x17078a(0x121)]();const _0x107d1=new IntersectionObserver(_0x4df34f=>{const _0x1a2ffb=_0x17078a;if(_0x4df34f[0x0][_0x1a2ffb(0xa4)])renderNextBatch();},{'rootMargin':'200px'});_0x107d1['observe'](el[_0x17078a(0xd3)]);}function renderCategories(){const _0x172eae=a7_0x377b01;el[_0x172eae(0xb6)][_0x172eae(0x135)]='',DataService[_0x172eae(0x139)]['forEach'](_0x549858=>{const _0x478f22=_0x172eae,_0x2d7814=DataService[_0x478f22(0xc0)](_0x549858['id']),_0x264c3a=_0x2d7814['length'],_0xd575b3=_0x2d7814[_0x478f22(0xa2)](_0x382be7=>state[_0x478f22(0xa0)]['has'](_0x382be7['id']))[_0x478f22(0xbf)],_0x457db1=_0x264c3a>0x0?_0xd575b3/_0x264c3a*0x64:0x0,_0x5ea390=document[_0x478f22(0x12d)](_0x478f22(0xf4));_0x5ea390[_0x478f22(0x13d)]=_0x478f22(0xaf),_0x5ea390['onclick']=()=>openCategory(_0x549858['id']),_0x5ea390[_0x478f22(0x135)]=_0x478f22(0xf8)+_0x549858['icon']+_0x478f22(0xf0)+_0x549858[_0x478f22(0x12f)]+_0x478f22(0xf5)+_0xd575b3+_0x478f22(0x144)+_0x264c3a+_0x478f22(0xdd)+_0x457db1+_0x478f22(0xfa),el[_0x478f22(0xb6)][_0x478f22(0x125)](_0x5ea390);});}function openCategory(_0x2627a9){const _0x574891=a7_0x377b01;state[_0x574891(0x128)]=_0x2627a9;const _0x40222c=DataService[_0x574891(0x139)][_0x574891(0x12e)](_0xd48dde=>_0xd48dde['id']===_0x2627a9);el['catTitle'][_0x574891(0x14c)]=_0x40222c[_0x574891(0x12f)],el[_0x574891(0xbc)][_0x574891(0x11f)][_0x574891(0x10e)]=_0x574891(0xb7);const _0x48c080=DataService[_0x574891(0xc0)](_0x2627a9);startInfiniteRender(_0x48c080,el['productList']),updateSelectAllBtn(),el['viewCats'][_0x574891(0xa6)][_0x574891(0x146)](_0x574891(0x149)),el[_0x574891(0x9f)][_0x574891(0xa6)]['remove'](_0x574891(0xe6)),el[_0x574891(0x12b)][_0x574891(0xa6)]['add'](_0x574891(0xe6)),el[_0x574891(0x12b)][_0x574891(0xa6)]['remove']('next'),updateSaveButton();if(tg)tg[_0x574891(0xff)][_0x574891(0x121)]();}function goBack(){const _0x437e3b=a7_0x377b01;state[_0x437e3b(0x128)]=null,el['viewList'][_0x437e3b(0xa6)][_0x437e3b(0x119)](_0x437e3b(0xe6)),el[_0x437e3b(0x9f)][_0x437e3b(0xa6)][_0x437e3b(0x146)](_0x437e3b(0xe6)),el[_0x437e3b(0x9f)][_0x437e3b(0xa6)]['remove'](_0x437e3b(0x149)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x437e3b(0xff)]['show']();}function startInfiniteRender(_0x4551d4,_0x4831a2,_0x536f63=![]){const _0x2b954d=a7_0x377b01;_0x4831a2['innerHTML']='',_0x4831a2['style'][_0x2b954d(0x102)]='';if(_0x4551d4[_0x2b954d(0xbf)]===0x0&&_0x536f63){_0x4831a2[_0x2b954d(0x135)]=_0x2b954d(0xc3);return;}state[_0x2b954d(0xe8)]=_0x4551d4,state['renderIndex']=0x0;let _0x4e3a97=_0x4831a2;if(_0x536f63){const _0x54d638=document[_0x2b954d(0x12d)](_0x2b954d(0xf4));_0x54d638[_0x2b954d(0x13d)]='product-list-container',_0x54d638['style'][_0x2b954d(0xf1)]=_0x2b954d(0x10b),_0x54d638[_0x2b954d(0x11f)]['border']='none',_0x54d638['style']['boxShadow']=_0x2b954d(0xe0),_0x4831a2[_0x2b954d(0x125)](_0x54d638),_0x4e3a97=_0x54d638;}state[_0x2b954d(0x148)]=_0x4e3a97,renderNextBatch(_0x536f63);}function renderNextBatch(_0x4a6915=![]){const _0xb7b6b9=a7_0x377b01;if(state[_0xb7b6b9(0x120)]>=state['renderQueue'][_0xb7b6b9(0xbf)])return;const _0x32e6bf=state[_0xb7b6b9(0xe8)][_0xb7b6b9(0x10d)](state[_0xb7b6b9(0x120)],state[_0xb7b6b9(0x120)]+state['BATCH_SIZE']),_0x31f28d=document[_0xb7b6b9(0xc6)]();_0x32e6bf[_0xb7b6b9(0xd1)]((_0x50cb59,_0x54cfd3)=>{const _0x45e242=_0xb7b6b9,_0x25da82=state[_0x45e242(0xa0)][_0x45e242(0x115)](_0x50cb59['id']),_0xd370e4=document[_0x45e242(0x12d)](_0x45e242(0xf4));_0xd370e4[_0x45e242(0x13d)]=_0x45e242(0xe1)+(_0x25da82?_0x45e242(0xa0):''),_0xd370e4[_0x45e242(0xa1)](_0x45e242(0xc4),()=>haptic(_0x45e242(0x9e)),{'passive':!![]}),_0xd370e4[_0x45e242(0xc9)]=()=>toggleProduct(_0x50cb59['id'],_0xd370e4),!_0x4a6915&&(_0xd370e4[_0x45e242(0x11f)]['opacity']='0',_0xd370e4[_0x45e242(0x11f)]['animation']=_0x45e242(0x109)+_0x54cfd3*0.02+'s',setTimeout(()=>{const _0x346c0c=_0x45e242;_0xd370e4['style'][_0x346c0c(0xda)]='1',_0xd370e4[_0x346c0c(0x11f)][_0x346c0c(0x13c)]='none',_0xd370e4[_0x346c0c(0x11f)][_0x346c0c(0xcb)]='none';},_0x54cfd3*0x14+0x12c)),_0xd370e4[_0x45e242(0x135)]=_0x45e242(0x147)+_0x50cb59['name']+_0x45e242(0xe3)+_0x50cb59['meta']+_0x45e242(0x11d),_0x31f28d[_0x45e242(0x125)](_0xd370e4);}),state[_0xb7b6b9(0x148)][_0xb7b6b9(0x125)](_0x31f28d),state[_0xb7b6b9(0x120)]+=state[_0xb7b6b9(0xf6)];}function a7_0x55e6(_0x51dadb,_0xb09de){_0x51dadb=_0x51dadb-0x9d;const _0x2ad1e5=a7_0x5845();let _0x5a19c5=_0x2ad1e5[_0x51dadb];return _0x5a19c5;}const styleSheet=document[a7_0x377b01(0x12d)](a7_0x377b01(0x11f));styleSheet[a7_0x377b01(0xc1)]='@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}',document[a7_0x377b01(0xfb)][a7_0x377b01(0x125)](styleSheet);function toggleProduct(_0x2e0802,_0x6b93a9){const _0xf6b257=a7_0x377b01;state['selected'][_0xf6b257(0x115)](_0x2e0802)?(state['selected'][_0xf6b257(0xcd)](_0x2e0802),_0x6b93a9[_0xf6b257(0xa6)]['remove'](_0xf6b257(0xa0))):(state[_0xf6b257(0xa0)]['add'](_0x2e0802),_0x6b93a9[_0xf6b257(0xa6)][_0xf6b257(0x146)](_0xf6b257(0xa0)));state[_0xf6b257(0xdc)]&&el[_0xf6b257(0xd6)]&&(el[_0xf6b257(0xd6)][_0xf6b257(0x14c)]=state['selected']['size']>0x0?_0xf6b257(0x133):_0xf6b257(0x12c),el[_0xf6b257(0xd6)][_0xf6b257(0x11f)]['fontWeight']=state[_0xf6b257(0xa0)]['size']>0x0?_0xf6b257(0xee):_0xf6b257(0xcf));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0xf6b257(0xdc)])updateSelectAllBtn();}function updateSaveButton(){const _0x128c20=a7_0x377b01;let _0x4fb70b='';if(state['activeCatId']){const _0x4475a6=DataService[_0x128c20(0xc0)](state[_0x128c20(0x128)]),_0x3532ca=_0x4475a6[_0x128c20(0xa2)](_0x2fe3a7=>state[_0x128c20(0xa0)]['has'](_0x2fe3a7['id']))[_0x128c20(0xbf)];_0x4fb70b=_0x3532ca>0x0?_0x128c20(0x126)+_0x3532ca+')':_0x128c20(0xc2),el[_0x128c20(0x11e)][_0x128c20(0xa6)][_0x128c20(0x146)](_0x128c20(0xbb)),el[_0x128c20(0xb4)]['textContent']=_0x4fb70b;return;}const _0x438607=state[_0x128c20(0xa0)][_0x128c20(0x136)];_0x4fb70b='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x438607+')',el['saveBtnText']['textContent']=_0x4fb70b,isSelectionChanged()?el[_0x128c20(0x11e)][_0x128c20(0xa6)][_0x128c20(0x146)](_0x128c20(0xbb)):el[_0x128c20(0x11e)]['classList'][_0x128c20(0x119)](_0x128c20(0xbb));}function updateSelectAllBtn(){const _0xad7265=a7_0x377b01;if(!state['activeCatId'])return;const _0x17336e=DataService['getProducts'](state['activeCatId']),_0x276bfb=_0x17336e[_0xad7265(0xbf)]>0x0&&_0x17336e[_0xad7265(0xaa)](_0x424187=>state[_0xad7265(0xa0)][_0xad7265(0x115)](_0x424187['id']));el[_0xad7265(0x13e)][_0xad7265(0x14c)]=_0x276bfb?'–°–Ω—è—Ç—å\x20–≤—Å—ë':_0xad7265(0xd7),el[_0xad7265(0x13e)][_0xad7265(0xc9)]=()=>toggleAllInCategory(_0x17336e,!_0x276bfb);}function toggleAllInCategory(_0x323889,_0x79f894){const _0x3bf839=a7_0x377b01;haptic(_0x3bf839(0xca)),_0x323889[_0x3bf839(0xd1)](_0x9604c8=>{const _0x22a1bf=_0x3bf839;if(_0x79f894)state['selected'][_0x22a1bf(0x146)](_0x9604c8['id']);else state['selected'][_0x22a1bf(0xcd)](_0x9604c8['id']);}),saveSelectionToCache(),startInfiniteRender(_0x323889,el[_0x3bf839(0xbc)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x359790){const _0xe58e43=a7_0x377b01,_0x45144b=_0x359790[_0xe58e43(0xe4)][_0xe58e43(0x12a)][_0xe58e43(0x112)]()[_0xe58e43(0xd9)]();if(_0x45144b[_0xe58e43(0xbf)]>0x0){if(!state['searchMode'])enterSearchMode();const _0x1ca919=DataService[_0xe58e43(0x114)](_0x45144b);el['searchResults'][_0xe58e43(0x11f)][_0xe58e43(0x10e)]=_0xe58e43(0xe2),startInfiniteRender(_0x1ca919,el[_0xe58e43(0xd4)],!![]);}else el[_0xe58e43(0xd4)][_0xe58e43(0x135)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x30d534=a7_0x377b01;haptic(_0x30d534(0xca));if(state['activeCatId']&&!state[_0x30d534(0xdc)]){goBack();return;}const _0x6802e0=el[_0x30d534(0xb4)][_0x30d534(0x14c)];el[_0x30d534(0xb4)][_0x30d534(0x14c)]='–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',el[_0x30d534(0x11e)][_0x30d534(0x11f)][_0x30d534(0x100)]=_0x30d534(0xe0);const _0xc1a7eb=await DataService[_0x30d534(0xeb)]();_0xc1a7eb?(el[_0x30d534(0xb4)][_0x30d534(0x14c)]=_0x30d534(0x142),state['initialSelected']=new Set(state[_0x30d534(0xa0)]),setTimeout(()=>{const _0x14ff94=_0x30d534;el[_0x14ff94(0x11e)][_0x14ff94(0x11f)]['pointerEvents']=_0x14ff94(0x134),el[_0x14ff94(0xb4)][_0x14ff94(0x14c)]=_0x6802e0,updateSaveButton();if(state[_0x14ff94(0xdc)])exitSearchMode();},0x320)):(el[_0x30d534(0xb4)][_0x30d534(0x14c)]=_0x30d534(0x108),setTimeout(()=>{const _0x39d444=_0x30d534;el[_0x39d444(0x11e)][_0x39d444(0x11f)][_0x39d444(0x100)]='auto',el[_0x39d444(0xb4)]['textContent']=_0x6802e0;},0x7d0));}function enterSearchMode(){const _0x1f7b08=a7_0x377b01;state[_0x1f7b08(0xdc)]=!![];el[_0x1f7b08(0xd6)]&&(el[_0x1f7b08(0xd6)]['textContent']=_0x1f7b08(0x12c),el[_0x1f7b08(0xd6)][_0x1f7b08(0x11f)]['fontWeight']=_0x1f7b08(0xcf));document[_0x1f7b08(0xb0)][_0x1f7b08(0xa6)][_0x1f7b08(0x146)]('search-active'),el[_0x1f7b08(0x9f)][_0x1f7b08(0xa6)]['remove'](_0x1f7b08(0xe6)),el[_0x1f7b08(0x12b)][_0x1f7b08(0xa6)][_0x1f7b08(0x119)]('active'),el[_0x1f7b08(0x106)]['classList'][_0x1f7b08(0x146)]('active');if(tg)tg[_0x1f7b08(0xff)][_0x1f7b08(0x121)]();}function exitSearchMode(){const _0x295d3b=a7_0x377b01;state[_0x295d3b(0xdc)]=![],document[_0x295d3b(0xb0)][_0x295d3b(0xa6)][_0x295d3b(0x119)](_0x295d3b(0xb9)),el[_0x295d3b(0xed)][_0x295d3b(0xba)](),el[_0x295d3b(0x106)][_0x295d3b(0xa6)][_0x295d3b(0x119)]('active'),el[_0x295d3b(0xd4)][_0x295d3b(0x11f)][_0x295d3b(0x10e)]=_0x295d3b(0xe0),el[_0x295d3b(0xed)]['value']='';if(state[_0x295d3b(0x128)])el['viewList'][_0x295d3b(0xa6)][_0x295d3b(0x146)](_0x295d3b(0xe6));else el[_0x295d3b(0x9f)][_0x295d3b(0xa6)]['add']('active'),renderCategories();updateSaveButton();}init();