const a7_0x293480=a7_0x28fa;(function(_0xca4d59,_0x15b24d){const _0x2c69bc=a7_0x28fa,_0x41dbf8=_0xca4d59();while(!![]){try{const _0x2ab5d6=parseInt(_0x2c69bc(0x281))/0x1*(-parseInt(_0x2c69bc(0x1f0))/0x2)+-parseInt(_0x2c69bc(0x1e1))/0x3+parseInt(_0x2c69bc(0x23c))/0x4*(-parseInt(_0x2c69bc(0x212))/0x5)+-parseInt(_0x2c69bc(0x27b))/0x6+parseInt(_0x2c69bc(0x25b))/0x7+-parseInt(_0x2c69bc(0x26c))/0x8+parseInt(_0x2c69bc(0x27d))/0x9;if(_0x2ab5d6===_0x15b24d)break;else _0x41dbf8['push'](_0x41dbf8['shift']());}catch(_0x20ce3e){_0x41dbf8['push'](_0x41dbf8['shift']());}}}(a7_0x28cb,0x6ee7c));const a7_0x5eba98=(function(){let _0xa50668=!![];return function(_0x839140,_0x5a846f){const _0x18642b=_0xa50668?function(){const _0x2fcc2f=a7_0x28fa;if(_0x5a846f){const _0x103d49=_0x5a846f[_0x2fcc2f(0x23b)](_0x839140,arguments);return _0x5a846f=null,_0x103d49;}}:function(){};return _0xa50668=![],_0x18642b;};}()),a7_0x2e2b48=a7_0x5eba98(this,function(){const _0x1fdff5=a7_0x28fa;return a7_0x2e2b48[_0x1fdff5(0x21a)]()['search'](_0x1fdff5(0x256))[_0x1fdff5(0x21a)]()[_0x1fdff5(0x203)](a7_0x2e2b48)[_0x1fdff5(0x247)]('(((.+)+)+)+$');});a7_0x2e2b48();const API_URL=a7_0x293480(0x23f),tg=window[a7_0x293480(0x1fe)]?.[a7_0x293480(0x285)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x293480(0x227)](),tg[a7_0x293480(0x215)]();try{tg['setHeaderColor'](a7_0x293480(0x1d9));if(tg[a7_0x293480(0x1d2)])tg[a7_0x293480(0x1d2)](a7_0x293480(0x1d9));if(tg['disableVerticalSwipes'])tg[a7_0x293480(0x254)]();}catch(a7_0x54c076){console[a7_0x293480(0x22c)](a7_0x293480(0x233),a7_0x54c076);}tg[a7_0x293480(0x1d4)]&&(tg[a7_0x293480(0x1d4)]['show'](),tg[a7_0x293480(0x1d4)][a7_0x293480(0x1d6)](),tg['BackButton'][a7_0x293480(0x284)](()=>{const _0x555ef0=a7_0x293480;if(state[_0x555ef0(0x213)])exitSearchMode();else state[_0x555ef0(0x23a)]?goBack():window[_0x555ef0(0x234)]['href']=_0x555ef0(0x22b);}));}catch(a7_0x3a2c85){console[a7_0x293480(0x235)](a7_0x293480(0x1f4),a7_0x3a2c85);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x1ab02a=a7_0x293480,_0x10a215=this[_0x1ab02a(0x1fa)]();_0x10a215&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x410232=a7_0x293480;try{const _0x1224ab=localStorage['getItem']('ultima_data_v2');if(_0x1224ab){const _0x4a35e7=JSON[_0x410232(0x26f)](_0x1224ab);this[_0x410232(0x26e)]=_0x4a35e7['categories']||[],this[_0x410232(0x277)]=_0x4a35e7[_0x410232(0x277)]||{},this['serverVer']=_0x4a35e7[_0x410232(0x25d)]||0x0;const _0x3469cb=localStorage[_0x410232(0x1f8)](_0x410232(0x1d5));if(_0x3469cb){const _0x3b728a=JSON[_0x410232(0x26f)](_0x3469cb);state[_0x410232(0x245)]=new Set(_0x3b728a),this[_0x410232(0x1fb)](),state[_0x410232(0x20b)]=new Set(state[_0x410232(0x245)]);}return!![];}}catch(_0x46574c){console[_0x410232(0x235)](_0x46574c);}return![];},async 'syncWithServer'(){const _0x2ac46d=a7_0x293480;try{if(!API_URL['includes']('script.google.com')){console[_0x2ac46d(0x22c)]('No\x20API\x20URL'),hideLoader();return;}const _0x21a90d=await fetch(API_URL,{'method':_0x2ac46d(0x26b),'headers':{'Content-Type':_0x2ac46d(0x1ef)},'body':JSON['stringify']({'action':'init','clientVer':this[_0x2ac46d(0x25d)],'initData':TG_INIT_DATA})}),_0x4c5ec5=await _0x21a90d[_0x2ac46d(0x201)]();_0x4c5ec5['ok']&&_0x4c5ec5[_0x2ac46d(0x20d)]&&_0x4c5ec5[_0x2ac46d(0x1fc)]&&this[_0x2ac46d(0x1e2)](_0x4c5ec5[_0x2ac46d(0x1fc)],_0x4c5ec5[_0x2ac46d(0x25d)]);if(_0x4c5ec5['ok']&&_0x4c5ec5[_0x2ac46d(0x217)])try{const _0x400836=JSON[_0x2ac46d(0x26f)](_0x4c5ec5['userSelection']);state['selected']=new Set(_0x400836),this['cleanupZombieProducts'](),state[_0x2ac46d(0x20b)]=new Set(state[_0x2ac46d(0x245)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x19e0d0){}hideLoader();}catch(_0x2b1c71){console[_0x2ac46d(0x22c)](_0x2ac46d(0x1f7),_0x2b1c71),hideLoader();if(!DataService['categories']['length'])alert(_0x2ac46d(0x1df));}},'processCatalog'(_0x3c78f1,_0x3a9f84){const _0x15db4d=a7_0x293480;this[_0x15db4d(0x26e)]=_0x3c78f1[_0x15db4d(0x26e)][_0x15db4d(0x22e)](_0x18ce4=>({'id':String(_0x18ce4['id']),'name':_0x18ce4[_0x15db4d(0x270)],'icon':_0x18ce4[_0x15db4d(0x273)]}));const _0x3ae0cd={};this[_0x15db4d(0x26e)][_0x15db4d(0x207)](_0x5bfa95=>_0x3ae0cd[_0x5bfa95['id']]=[]),_0x3c78f1[_0x15db4d(0x218)]&&Array[_0x15db4d(0x24b)](_0x3c78f1[_0x15db4d(0x218)])&&_0x3c78f1[_0x15db4d(0x218)][_0x15db4d(0x207)](_0x22675c=>{const _0x4e21bb=_0x15db4d,_0x24e5f9=String(_0x22675c[0x0]),_0xdeb3c9=String(_0x22675c[0x1]);if(!_0x3ae0cd[_0xdeb3c9])_0x3ae0cd[_0xdeb3c9]=[];_0x3ae0cd[_0xdeb3c9][_0x4e21bb(0x26a)]({'id':_0x24e5f9,'name':_0x22675c[0x2],'meta':_0x22675c[0x3]});}),this[_0x15db4d(0x277)]=_0x3ae0cd,this[_0x15db4d(0x25d)]=_0x3a9f84,localStorage[_0x15db4d(0x1e6)](_0x15db4d(0x255),JSON['stringify']({'categories':this['categories'],'productsMap':this[_0x15db4d(0x277)],'serverVer':this['serverVer']})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x20a617=a7_0x293480;if(!state['selected']||state[_0x20a617(0x245)][_0x20a617(0x23d)]===0x0)return;const _0x408836=new Set();Object[_0x20a617(0x257)](this[_0x20a617(0x277)])['flat']()[_0x20a617(0x207)](_0x4edacf=>_0x408836[_0x20a617(0x209)](_0x4edacf['id']));const _0x228736=new Set();state[_0x20a617(0x245)][_0x20a617(0x207)](_0x41dda6=>{const _0x2fa5a7=_0x20a617;_0x408836[_0x2fa5a7(0x25a)](_0x41dda6)&&_0x228736[_0x2fa5a7(0x209)](_0x41dda6);}),_0x228736['size']!==state[_0x20a617(0x245)][_0x20a617(0x23d)]&&(console[_0x20a617(0x1ed)](_0x20a617(0x1de)+(state[_0x20a617(0x245)][_0x20a617(0x23d)]-_0x228736['size'])+'\x20zombie\x20products'),state[_0x20a617(0x245)]=_0x228736,saveSelectionToCache());},'getProducts'(_0x404e5c){return this['productsMap'][_0x404e5c]||[];},'search'(_0x54ebe3){const _0x790ce7=a7_0x293480,_0x2f9aa0=[],_0x3b56a5=_0x54ebe3[_0x790ce7(0x21c)]();return Object[_0x790ce7(0x257)](this[_0x790ce7(0x277)])['flat']()['forEach'](_0x5df17a=>{const _0x10b00d=_0x790ce7;if(_0x5df17a[_0x10b00d(0x270)][_0x10b00d(0x21c)]()['includes'](_0x3b56a5))_0x2f9aa0[_0x10b00d(0x26a)](_0x5df17a);}),_0x2f9aa0;},async 'saveSelectionToServer'(){const _0x42bb7a=a7_0x293480;this[_0x42bb7a(0x1fb)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x42bb7a(0x26b),'headers':{'Content-Type':_0x42bb7a(0x1ef)},'body':JSON[_0x42bb7a(0x262)]({'action':_0x42bb7a(0x243),'initData':TG_INIT_DATA,'selection':Array[_0x42bb7a(0x1fd)](state[_0x42bb7a(0x245)])})}),!![];}catch(_0xe25c76){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x47a921=a7_0x293480;try{localStorage[_0x47a921(0x1e6)](_0x47a921(0x1d5),JSON[_0x47a921(0x262)](Array['from'](state[_0x47a921(0x245)])));}catch(_0x18ae2b){}}const el={'catGrid':document[a7_0x293480(0x263)](a7_0x293480(0x282)),'productList':document['getElementById'](a7_0x293480(0x252)),'viewCats':document[a7_0x293480(0x263)](a7_0x293480(0x238)),'viewList':document[a7_0x293480(0x263)](a7_0x293480(0x278)),'viewSearch':document[a7_0x293480(0x263)](a7_0x293480(0x246)),'catTitle':document['getElementById'](a7_0x293480(0x206)),'btnSelectAll':document['getElementById']('btnSelectAll'),'searchInput':document['getElementById'](a7_0x293480(0x251)),'searchClear':document[a7_0x293480(0x263)](a7_0x293480(0x1e3)),'searchResults':document[a7_0x293480(0x263)](a7_0x293480(0x1d3)),'btnSearchCancel':document[a7_0x293480(0x263)](a7_0x293480(0x21e)),'btnSave':document[a7_0x293480(0x263)]('btnSave'),'saveBtnText':document[a7_0x293480(0x263)](a7_0x293480(0x1eb)),'sentinel':document[a7_0x293480(0x263)]('sentinel'),'loader':document[a7_0x293480(0x263)](a7_0x293480(0x202))};function hideLoader(){const _0x5360fe=a7_0x293480;el[_0x5360fe(0x1e4)][_0x5360fe(0x24a)][_0x5360fe(0x209)](_0x5360fe(0x1ff));}function haptic(_0x2f6bdc=a7_0x293480(0x275)){const _0x341ee8=a7_0x293480;try{const _0x55bb32=window[_0x341ee8(0x1fe)]?.[_0x341ee8(0x285)]?.[_0x341ee8(0x228)];if(_0x55bb32)_0x2f6bdc===_0x341ee8(0x275)?_0x55bb32['impactOccurred'](_0x341ee8(0x275)):_0x2f6bdc===_0x341ee8(0x27c)?_0x55bb32[_0x341ee8(0x1e9)](_0x341ee8(0x27c)):_0x55bb32[_0x341ee8(0x260)](_0x341ee8(0x283));}catch(_0x3625be){}}const bump=_0x5eae25=>{const _0x376ee9=a7_0x293480;if(!_0x5eae25)return;_0x5eae25[_0x376ee9(0x24a)][_0x376ee9(0x24f)](_0x376ee9(0x229)),void _0x5eae25[_0x376ee9(0x244)],_0x5eae25[_0x376ee9(0x24a)][_0x376ee9(0x209)](_0x376ee9(0x229));};function a7_0x28cb(){const _0x54d54a=['height','has','6008023TcJhmS','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','serverVer','pointerEvents','saveSelectionToServer','notificationOccurred','–û—à–∏–±–∫–∞!','stringify','getElementById','BATCH_SIZE','currentContainer','createDocumentFragment','closest','500','meta','push','POST','686896NmLzkr','sentinel','categories','parse','name','trim','div','icon','–ì–æ—Ç–æ–≤–æ!','light','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','productsMap','view-list','transparent','200px','2835606lLcqVy','medium','12500775lOFJGf','appendChild','active','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','133079PKCoYZ','catGrid','success','onClick','WebApp','observe','addEventListener','setBackgroundColor','searchResults','BackButton','ultima_cart_v1','offClick','target','600','#050505','display','–í—ã–±—Ä–∞—Ç—å\x20(','style','\x20–∏–∑\x20','üßπ\x20Removed\x20','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','fontWeight','876216hfiEfm','processCatalog','searchClear','loader','innerText','setItem','product-row\x20','cat-card','impactOccurred','blur','saveBtnText','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','log','touchstart','text/plain;charset=utf-8','12DnHcRM','animation','isIntersecting','border','Critical\x20TMA\x20Error:','viewSearch','auto','Sync\x20skipped:','getItem','search-active','loadFromCache','cleanupZombieProducts','catalog','from','Telegram','hidden','btnSave','json','appLoader','constructor','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','catTitle','forEach','innerWidth','add','btnSelectAll','initialSelected','viewCats','needUpdate','renderIndex','viewList','createElement','body','685IPaddS','searchMode','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','expand','textContent','userSelection','products','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','toString','visible','toLowerCase','prev','btnSearchCancel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','renderQueue','none','background','–í—ã–±—Ä–∞—Ç—å','resize','cssText','delete','ready','HapticFeedback','bump','every','router.html','warn','opacity','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','block','–°–Ω—è—Ç—å\x20–≤—Å—ë','–û—Ç–º–µ–Ω–∞','Color/Swipe\x20settings\x20error:','location','error','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','className','view-cats','value','activeCatId','apply','4204bvPTky','size','show','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','getProducts','head','filter','save','offsetWidth','selected','view-search','search','next','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','classList','isArray','init','querySelector','onclick','remove','length','searchInput','productList','.cat-card,\x20.btn-save','disableVerticalSwipes','ultima_data_v2','(((.+)+)+)+$','values','click'];a7_0x28cb=function(){return _0x54d54a;};return a7_0x28cb();}document[a7_0x293480(0x287)](a7_0x293480(0x1ee),_0x108888=>{const _0x2da03f=a7_0x293480,_0x369d86=_0x108888[_0x2da03f(0x1d7)][_0x2da03f(0x267)](_0x2da03f(0x253));if(!_0x369d86)return;haptic(_0x2da03f(0x275)),bump(_0x369d86);},{'passive':!![]});function isSelectionChanged(){const _0x26ca17=a7_0x293480;if(state['selected']['size']!==state[_0x26ca17(0x20b)]['size'])return!![];for(let _0x3f96e6 of state[_0x26ca17(0x245)]){if(!state[_0x26ca17(0x20b)][_0x26ca17(0x25a)](_0x3f96e6))return!![];}return![];}function init(){const _0x29a087=a7_0x293480;let _0x3466c1=window['innerWidth'];const _0x4df19c=document[_0x29a087(0x24d)]('.fx-layer'),_0x3b769f=()=>{const _0x6d4cef=_0x29a087;_0x4df19c[_0x6d4cef(0x1dc)][_0x6d4cef(0x259)]=window['innerHeight']+'px',_0x3466c1=window[_0x6d4cef(0x208)];};_0x3b769f(),window['addEventListener'](_0x29a087(0x224),()=>{const _0x2fdd42=_0x29a087;if(window[_0x2fdd42(0x208)]!==_0x3466c1)_0x3b769f();}),DataService[_0x29a087(0x24c)](),el[_0x29a087(0x251)][_0x29a087(0x287)]('input',handleSearch),el[_0x29a087(0x1e3)][_0x29a087(0x287)](_0x29a087(0x258),clearSearch);if(tg)tg[_0x29a087(0x1d4)][_0x29a087(0x23e)]();const _0xe4c03a=new IntersectionObserver(_0x378280=>{const _0xaed404=_0x29a087;if(_0x378280[0x0][_0xaed404(0x1f2)])renderNextBatch();},{'rootMargin':_0x29a087(0x27a)});_0xe4c03a[_0x29a087(0x286)](el[_0x29a087(0x26d)]);}function renderCategories(){const _0x112340=a7_0x293480;el[_0x112340(0x282)][_0x112340(0x204)]='',DataService[_0x112340(0x26e)][_0x112340(0x207)](_0x16381d=>{const _0x1b44ef=_0x112340,_0x538a59=DataService[_0x1b44ef(0x240)](_0x16381d['id']),_0xa5c41e=_0x538a59[_0x1b44ef(0x250)],_0x23b972=_0x538a59[_0x1b44ef(0x242)](_0x2416a5=>state[_0x1b44ef(0x245)][_0x1b44ef(0x25a)](_0x2416a5['id']))['length'],_0x3b93b5=_0xa5c41e>0x0?_0x23b972/_0xa5c41e*0x64:0x0,_0x3d592a=document[_0x1b44ef(0x210)](_0x1b44ef(0x272));_0x3d592a[_0x1b44ef(0x237)]=_0x1b44ef(0x1e8),_0x3d592a[_0x1b44ef(0x24e)]=()=>openCategory(_0x16381d['id']),_0x3d592a['innerHTML']=_0x1b44ef(0x22f)+_0x16381d['icon']+_0x1b44ef(0x214)+_0x16381d[_0x1b44ef(0x270)]+_0x1b44ef(0x21f)+_0x23b972+_0x1b44ef(0x1dd)+_0xa5c41e+_0x1b44ef(0x249)+_0x3b93b5+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el[_0x1b44ef(0x282)][_0x1b44ef(0x27e)](_0x3d592a);});}function openCategory(_0x46df12){const _0x59693d=a7_0x293480;state['activeCatId']=_0x46df12;const _0x59346c=DataService[_0x59693d(0x26e)]['find'](_0x381932=>_0x381932['id']===_0x46df12);el[_0x59693d(0x206)][_0x59693d(0x216)]=_0x59346c[_0x59693d(0x270)],el[_0x59693d(0x252)]['style'][_0x59693d(0x1da)]='flex';const _0x1c17dc=DataService[_0x59693d(0x240)](_0x46df12);startInfiniteRender(_0x1c17dc,el[_0x59693d(0x252)]),updateSelectAllBtn(),el['viewCats'][_0x59693d(0x24a)][_0x59693d(0x209)](_0x59693d(0x21d)),el[_0x59693d(0x20c)][_0x59693d(0x24a)][_0x59693d(0x24f)](_0x59693d(0x27f)),el[_0x59693d(0x20f)]['classList'][_0x59693d(0x209)](_0x59693d(0x27f)),el[_0x59693d(0x20f)][_0x59693d(0x24a)][_0x59693d(0x24f)](_0x59693d(0x248)),updateSaveButton();if(tg)tg[_0x59693d(0x1d4)][_0x59693d(0x23e)]();}function goBack(){const _0x2af39e=a7_0x293480;state['activeCatId']=null,el[_0x2af39e(0x20f)][_0x2af39e(0x24a)][_0x2af39e(0x24f)]('active'),el['viewCats'][_0x2af39e(0x24a)][_0x2af39e(0x209)]('active'),el[_0x2af39e(0x20c)][_0x2af39e(0x24a)][_0x2af39e(0x24f)]('prev'),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x2af39e(0x1d4)][_0x2af39e(0x23e)]();}function startInfiniteRender(_0xc5a51c,_0x362ae0,_0x545314=![]){const _0x3cc6a8=a7_0x293480;_0x362ae0[_0x3cc6a8(0x204)]='',_0x362ae0[_0x3cc6a8(0x1dc)][_0x3cc6a8(0x225)]='';if(_0xc5a51c[_0x3cc6a8(0x250)]===0x0&&_0x545314){_0x362ae0[_0x3cc6a8(0x204)]=_0x3cc6a8(0x25c);return;}state[_0x3cc6a8(0x220)]=_0xc5a51c,state[_0x3cc6a8(0x20e)]=0x0;let _0x1a6fb0=_0x362ae0;if(_0x545314){const _0x499123=document[_0x3cc6a8(0x210)](_0x3cc6a8(0x272));_0x499123[_0x3cc6a8(0x237)]='product-list-container',_0x499123['style'][_0x3cc6a8(0x222)]=_0x3cc6a8(0x279),_0x499123[_0x3cc6a8(0x1dc)][_0x3cc6a8(0x1f3)]=_0x3cc6a8(0x221),_0x499123[_0x3cc6a8(0x1dc)]['boxShadow']='none',_0x362ae0[_0x3cc6a8(0x27e)](_0x499123),_0x1a6fb0=_0x499123;}state[_0x3cc6a8(0x265)]=_0x1a6fb0,renderNextBatch(_0x545314);}function renderNextBatch(_0x11be66=![]){const _0x13f7b2=a7_0x293480;if(state['renderIndex']>=state[_0x13f7b2(0x220)][_0x13f7b2(0x250)])return;const _0x197e5d=state[_0x13f7b2(0x220)]['slice'](state['renderIndex'],state[_0x13f7b2(0x20e)]+state[_0x13f7b2(0x264)]),_0x2ac855=document[_0x13f7b2(0x266)]();_0x197e5d[_0x13f7b2(0x207)]((_0x6c4c22,_0x285b3d)=>{const _0x1473f7=_0x13f7b2,_0x477c8b=state['selected'][_0x1473f7(0x25a)](_0x6c4c22['id']),_0xd85bc0=document[_0x1473f7(0x210)](_0x1473f7(0x272));_0xd85bc0[_0x1473f7(0x237)]=_0x1473f7(0x1e7)+(_0x477c8b?_0x1473f7(0x245):''),_0xd85bc0[_0x1473f7(0x287)](_0x1473f7(0x1ee),()=>haptic(_0x1473f7(0x275)),{'passive':!![]}),_0xd85bc0[_0x1473f7(0x24e)]=()=>toggleProduct(_0x6c4c22['id'],_0xd85bc0),!_0x11be66&&(_0xd85bc0['style'][_0x1473f7(0x22d)]='0',_0xd85bc0[_0x1473f7(0x1dc)][_0x1473f7(0x1f1)]='fadeInUp\x200.2s\x20ease\x20forwards\x20'+_0x285b3d*0.02+'s',setTimeout(()=>{const _0x42dfde=_0x1473f7;_0xd85bc0[_0x42dfde(0x1dc)][_0x42dfde(0x22d)]='1',_0xd85bc0[_0x42dfde(0x1dc)][_0x42dfde(0x1f1)]='none',_0xd85bc0[_0x42dfde(0x1dc)]['transform']=_0x42dfde(0x221);},_0x285b3d*0x14+0x12c)),_0xd85bc0[_0x1473f7(0x204)]=_0x1473f7(0x205)+_0x6c4c22[_0x1473f7(0x270)]+_0x1473f7(0x276)+_0x6c4c22[_0x1473f7(0x269)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x2ac855[_0x1473f7(0x27e)](_0xd85bc0);}),state[_0x13f7b2(0x265)][_0x13f7b2(0x27e)](_0x2ac855),state[_0x13f7b2(0x20e)]+=state[_0x13f7b2(0x264)];}const styleSheet=document['createElement']('style');styleSheet[a7_0x293480(0x1e5)]=a7_0x293480(0x236),document[a7_0x293480(0x241)]['appendChild'](styleSheet);function toggleProduct(_0x70a4a0,_0x33b865){const _0x18056d=a7_0x293480;state[_0x18056d(0x245)][_0x18056d(0x25a)](_0x70a4a0)?(state['selected'][_0x18056d(0x226)](_0x70a4a0),_0x33b865[_0x18056d(0x24a)][_0x18056d(0x24f)](_0x18056d(0x245))):(state[_0x18056d(0x245)][_0x18056d(0x209)](_0x70a4a0),_0x33b865['classList'][_0x18056d(0x209)](_0x18056d(0x245)));state[_0x18056d(0x213)]&&el[_0x18056d(0x21e)]&&(el[_0x18056d(0x21e)][_0x18056d(0x216)]=state['selected'][_0x18056d(0x23d)]>0x0?_0x18056d(0x223):_0x18056d(0x232),el[_0x18056d(0x21e)][_0x18056d(0x1dc)][_0x18056d(0x1e0)]=state[_0x18056d(0x245)][_0x18056d(0x23d)]>0x0?_0x18056d(0x1d8):_0x18056d(0x268));saveSelectionToCache(),updateSaveButton();if(state[_0x18056d(0x23a)]&&!state[_0x18056d(0x213)])updateSelectAllBtn();}function updateSaveButton(){const _0x2b9558=a7_0x293480;let _0x4c76a5='';if(state[_0x2b9558(0x23a)]){const _0x1cd813=DataService[_0x2b9558(0x240)](state['activeCatId']),_0x56f564=_0x1cd813['filter'](_0x4b7267=>state[_0x2b9558(0x245)][_0x2b9558(0x25a)](_0x4b7267['id']))[_0x2b9558(0x250)];_0x4c76a5=_0x56f564>0x0?_0x2b9558(0x1db)+_0x56f564+')':'–ù–∞–∑–∞–¥',el[_0x2b9558(0x200)][_0x2b9558(0x24a)][_0x2b9558(0x209)]('visible'),el[_0x2b9558(0x1eb)][_0x2b9558(0x216)]=_0x4c76a5;return;}const _0x4f2cec=state[_0x2b9558(0x245)][_0x2b9558(0x23d)];_0x4c76a5=_0x2b9558(0x280)+_0x4f2cec+')',el[_0x2b9558(0x1eb)][_0x2b9558(0x216)]=_0x4c76a5,isSelectionChanged()?el[_0x2b9558(0x200)]['classList'][_0x2b9558(0x209)](_0x2b9558(0x21b)):el[_0x2b9558(0x200)][_0x2b9558(0x24a)][_0x2b9558(0x24f)](_0x2b9558(0x21b));}function updateSelectAllBtn(){const _0x439c65=a7_0x293480;if(!state['activeCatId'])return;const _0x5118a7=DataService[_0x439c65(0x240)](state[_0x439c65(0x23a)]),_0x100c70=_0x5118a7[_0x439c65(0x250)]>0x0&&_0x5118a7[_0x439c65(0x22a)](_0x50d5c3=>state[_0x439c65(0x245)][_0x439c65(0x25a)](_0x50d5c3['id']));el[_0x439c65(0x20a)][_0x439c65(0x216)]=_0x100c70?_0x439c65(0x231):_0x439c65(0x219),el[_0x439c65(0x20a)][_0x439c65(0x24e)]=()=>toggleAllInCategory(_0x5118a7,!_0x100c70);}function a7_0x28fa(_0x2c651b,_0x108c53){_0x2c651b=_0x2c651b-0x1d2;const _0x3036fa=a7_0x28cb();let _0x2e2b48=_0x3036fa[_0x2c651b];return _0x2e2b48;}function toggleAllInCategory(_0x3be2d9,_0x214b50){const _0x5b763d=a7_0x293480;haptic(_0x5b763d(0x27c)),_0x3be2d9[_0x5b763d(0x207)](_0x2f68b7=>{const _0x22a78a=_0x5b763d;if(_0x214b50)state[_0x22a78a(0x245)]['add'](_0x2f68b7['id']);else state[_0x22a78a(0x245)][_0x22a78a(0x226)](_0x2f68b7['id']);}),saveSelectionToCache(),startInfiniteRender(_0x3be2d9,el[_0x5b763d(0x252)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x3fe094){const _0x20a699=a7_0x293480,_0x5172c5=_0x3fe094[_0x20a699(0x1d7)][_0x20a699(0x239)]['toLowerCase']()[_0x20a699(0x271)]();if(_0x5172c5[_0x20a699(0x250)]>0x0){if(!state[_0x20a699(0x213)])enterSearchMode();const _0x2fb44b=DataService[_0x20a699(0x247)](_0x5172c5);el[_0x20a699(0x1d3)]['style'][_0x20a699(0x1da)]=_0x20a699(0x230),startInfiniteRender(_0x2fb44b,el['searchResults'],!![]);}else el[_0x20a699(0x1d3)][_0x20a699(0x204)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x58f621=a7_0x293480;haptic('medium');if(state[_0x58f621(0x23a)]&&!state[_0x58f621(0x213)]){goBack();return;}const _0x23c10c=el[_0x58f621(0x1eb)][_0x58f621(0x216)];el[_0x58f621(0x1eb)][_0x58f621(0x216)]=_0x58f621(0x1ec),el[_0x58f621(0x200)]['style'][_0x58f621(0x25e)]='none';const _0x54c1f0=await DataService[_0x58f621(0x25f)]();_0x54c1f0?(el[_0x58f621(0x1eb)][_0x58f621(0x216)]=_0x58f621(0x274),state[_0x58f621(0x20b)]=new Set(state['selected']),setTimeout(()=>{const _0x352f9d=_0x58f621;el[_0x352f9d(0x200)]['style'][_0x352f9d(0x25e)]=_0x352f9d(0x1f6),el[_0x352f9d(0x1eb)][_0x352f9d(0x216)]=_0x23c10c,updateSaveButton();if(state['searchMode'])exitSearchMode();},0x320)):(el[_0x58f621(0x1eb)]['textContent']=_0x58f621(0x261),setTimeout(()=>{const _0x48d143=_0x58f621;el[_0x48d143(0x200)]['style'][_0x48d143(0x25e)]=_0x48d143(0x1f6),el['saveBtnText'][_0x48d143(0x216)]=_0x23c10c;},0x7d0));}function enterSearchMode(){const _0x143135=a7_0x293480;state[_0x143135(0x213)]=!![];el[_0x143135(0x21e)]&&(el[_0x143135(0x21e)][_0x143135(0x216)]='–û—Ç–º–µ–Ω–∞',el[_0x143135(0x21e)][_0x143135(0x1dc)][_0x143135(0x1e0)]=_0x143135(0x268));document[_0x143135(0x211)]['classList'][_0x143135(0x209)]('search-active'),el[_0x143135(0x20c)][_0x143135(0x24a)][_0x143135(0x24f)]('active'),el[_0x143135(0x20f)][_0x143135(0x24a)][_0x143135(0x24f)](_0x143135(0x27f)),el[_0x143135(0x1f5)][_0x143135(0x24a)][_0x143135(0x209)]('active');if(tg)tg[_0x143135(0x1d4)][_0x143135(0x23e)]();}function exitSearchMode(){const _0x2f5a58=a7_0x293480;state['searchMode']=![],document[_0x2f5a58(0x211)]['classList'][_0x2f5a58(0x24f)](_0x2f5a58(0x1f9)),el[_0x2f5a58(0x251)][_0x2f5a58(0x1ea)](),el[_0x2f5a58(0x1f5)]['classList'][_0x2f5a58(0x24f)](_0x2f5a58(0x27f)),el[_0x2f5a58(0x1d3)][_0x2f5a58(0x1dc)][_0x2f5a58(0x1da)]=_0x2f5a58(0x221),el[_0x2f5a58(0x251)][_0x2f5a58(0x239)]='';if(state[_0x2f5a58(0x23a)])el[_0x2f5a58(0x20f)][_0x2f5a58(0x24a)]['add'](_0x2f5a58(0x27f));else el[_0x2f5a58(0x20c)]['classList'][_0x2f5a58(0x209)](_0x2f5a58(0x27f)),renderCategories();updateSaveButton();}init();