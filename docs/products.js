const a7_0x212618=a7_0x1be0;(function(_0x4e23b9,_0x26258c){const _0x3b4442=a7_0x1be0,_0x59150e=_0x4e23b9();while(!![]){try{const _0x4caedd=-parseInt(_0x3b4442(0xbb))/0x1*(-parseInt(_0x3b4442(0x103))/0x2)+-parseInt(_0x3b4442(0xd2))/0x3*(parseInt(_0x3b4442(0xf6))/0x4)+-parseInt(_0x3b4442(0xa0))/0x5+parseInt(_0x3b4442(0xcb))/0x6*(parseInt(_0x3b4442(0x133))/0x7)+parseInt(_0x3b4442(0x92))/0x8+-parseInt(_0x3b4442(0xca))/0x9*(parseInt(_0x3b4442(0x10c))/0xa)+parseInt(_0x3b4442(0xb7))/0xb*(parseInt(_0x3b4442(0x137))/0xc);if(_0x4caedd===_0x26258c)break;else _0x59150e['push'](_0x59150e['shift']());}catch(_0x589c2b){_0x59150e['push'](_0x59150e['shift']());}}}(a7_0x525d,0x9a904));const a7_0x5428dd=(function(){let _0x1f036a=!![];return function(_0x5d0e86,_0x2e816f){const _0x1129cc=_0x1f036a?function(){const _0x4f828a=a7_0x1be0;if(_0x2e816f){const _0x8efe33=_0x2e816f[_0x4f828a(0xa7)](_0x5d0e86,arguments);return _0x2e816f=null,_0x8efe33;}}:function(){};return _0x1f036a=![],_0x1129cc;};}()),a7_0x22d233=a7_0x5428dd(this,function(){const _0x57c71d=a7_0x1be0;return a7_0x22d233[_0x57c71d(0x12b)]()[_0x57c71d(0xdb)](_0x57c71d(0xa6))[_0x57c71d(0x12b)]()[_0x57c71d(0xa4)](a7_0x22d233)[_0x57c71d(0xdb)](_0x57c71d(0xa6));});a7_0x22d233();const API_URL=a7_0x212618(0xf8),tg=window[a7_0x212618(0x106)]?.[a7_0x212618(0x13a)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x212618(0x12a)](),tg[a7_0x212618(0x98)]();try{tg[a7_0x212618(0xe4)](a7_0x212618(0x113));if(tg[a7_0x212618(0x105)])tg[a7_0x212618(0x105)](a7_0x212618(0x113));if(tg[a7_0x212618(0x8d)])tg[a7_0x212618(0x8d)]();}catch(a7_0x4c43bc){console[a7_0x212618(0xde)](a7_0x212618(0x122),a7_0x4c43bc);}tg[a7_0x212618(0xb8)]&&(tg[a7_0x212618(0xb8)][a7_0x212618(0x13c)](),tg[a7_0x212618(0xb8)][a7_0x212618(0x10b)](),tg[a7_0x212618(0xb8)][a7_0x212618(0xd5)](()=>{const _0x3f4649=a7_0x212618;if(state[_0x3f4649(0x9a)])exitSearchMode();else state[_0x3f4649(0x8c)]?goBack():window[_0x3f4649(0xc1)][_0x3f4649(0xc5)]=_0x3f4649(0xb9);}));}catch(a7_0x233591){console['error'](a7_0x212618(0xd7),a7_0x233591);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x18d4d3=a7_0x212618,_0x3880b=this[_0x18d4d3(0xc6)]();_0x3880b&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x2da584=a7_0x212618;try{const _0x1dd920=localStorage[_0x2da584(0xda)](_0x2da584(0x13d));if(_0x1dd920){const _0x322e29=JSON[_0x2da584(0xe8)](_0x1dd920);this['categories']=_0x322e29['categories']||[],this[_0x2da584(0xff)]=_0x322e29[_0x2da584(0xff)]||{},this[_0x2da584(0xeb)]=_0x322e29[_0x2da584(0xeb)]||0x0;const _0x3aa018=localStorage[_0x2da584(0xda)](_0x2da584(0x130));if(_0x3aa018){const _0x546c22=JSON[_0x2da584(0xe8)](_0x3aa018);state[_0x2da584(0xc9)]=new Set(_0x546c22),this[_0x2da584(0x12e)](),state[_0x2da584(0xab)]=new Set(state[_0x2da584(0xc9)]);}return!![];}}catch(_0x310b2c){console[_0x2da584(0xb2)](_0x310b2c);}return![];},async 'syncWithServer'(){const _0x3af467=a7_0x212618;try{if(!API_URL[_0x3af467(0xd1)]('script.google.com')){console[_0x3af467(0xde)](_0x3af467(0xf7)),hideLoader();return;}const _0x328d76=await fetch(API_URL,{'method':_0x3af467(0x126),'headers':{'Content-Type':_0x3af467(0xdf)},'body':JSON[_0x3af467(0xc4)]({'action':_0x3af467(0x100),'clientVer':this[_0x3af467(0xeb)],'initData':TG_INIT_DATA})}),_0x9eaf41=await _0x328d76['json']();_0x9eaf41['ok']&&_0x9eaf41[_0x3af467(0xd8)]&&_0x9eaf41[_0x3af467(0x93)]&&this[_0x3af467(0xe1)](_0x9eaf41[_0x3af467(0x93)],_0x9eaf41[_0x3af467(0xeb)]);if(_0x9eaf41['ok']&&_0x9eaf41[_0x3af467(0x10a)])try{const _0x391813=JSON['parse'](_0x9eaf41[_0x3af467(0x10a)]);state[_0x3af467(0xc9)]=new Set(_0x391813),this['cleanupZombieProducts'](),state[_0x3af467(0xab)]=new Set(state[_0x3af467(0xc9)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x5393ce){}hideLoader();}catch(_0x11d121){console[_0x3af467(0xde)](_0x3af467(0x131),_0x11d121),hideLoader();if(!DataService['categories'][_0x3af467(0x112)])alert('–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');}},'processCatalog'(_0xe20acf,_0x3ecec2){const _0xefe217=a7_0x212618;this[_0xefe217(0x8a)]=_0xe20acf[_0xefe217(0x8a)][_0xefe217(0xee)](_0x14d24c=>({'id':String(_0x14d24c['id']),'name':_0x14d24c[_0xefe217(0x9c)],'icon':_0x14d24c['icon']}));const _0x135918={};this['categories'][_0xefe217(0xd9)](_0x292d1c=>_0x135918[_0x292d1c['id']]=[]),_0xe20acf[_0xefe217(0x89)]&&Array[_0xefe217(0xed)](_0xe20acf['products'])&&_0xe20acf[_0xefe217(0x89)][_0xefe217(0xd9)](_0x3d2dc7=>{const _0x133271=String(_0x3d2dc7[0x0]),_0x3c4d0f=String(_0x3d2dc7[0x1]);if(!_0x135918[_0x3c4d0f])_0x135918[_0x3c4d0f]=[];_0x135918[_0x3c4d0f]['push']({'id':_0x133271,'name':_0x3d2dc7[0x2],'meta':_0x3d2dc7[0x3]});}),this[_0xefe217(0xff)]=_0x135918,this[_0xefe217(0xeb)]=_0x3ecec2,localStorage[_0xefe217(0x9b)](_0xefe217(0x13d),JSON[_0xefe217(0xc4)]({'categories':this['categories'],'productsMap':this[_0xefe217(0xff)],'serverVer':this[_0xefe217(0xeb)]})),this[_0xefe217(0x12e)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0xf02d01=a7_0x212618;if(!state['selected']||state[_0xf02d01(0xc9)]['size']===0x0)return;const _0x53255f=new Set();Object['values'](this[_0xf02d01(0xff)])[_0xf02d01(0xf2)]()[_0xf02d01(0xd9)](_0x190236=>_0x53255f['add'](_0x190236['id']));const _0x16b471=new Set();state['selected']['forEach'](_0x1ddac8=>{const _0x583993=_0xf02d01;_0x53255f[_0x583993(0x104)](_0x1ddac8)&&_0x16b471[_0x583993(0x11a)](_0x1ddac8);}),_0x16b471[_0xf02d01(0xf3)]!==state[_0xf02d01(0xc9)][_0xf02d01(0xf3)]&&(console[_0xf02d01(0xf0)]('üßπ\x20Removed\x20'+(state[_0xf02d01(0xc9)]['size']-_0x16b471[_0xf02d01(0xf3)])+'\x20zombie\x20products'),state['selected']=_0x16b471,saveSelectionToCache());},'getProducts'(_0x4e1c8e){const _0x3e5168=a7_0x212618;return this[_0x3e5168(0xff)][_0x4e1c8e]||[];},'search'(_0x1dc93c){const _0x331386=a7_0x212618,_0x46b35d=[],_0x4e21fd=_0x1dc93c[_0x331386(0x11d)]();return Object[_0x331386(0xba)](this['productsMap'])[_0x331386(0xf2)]()[_0x331386(0xd9)](_0x7e0b5f=>{const _0x40aa61=_0x331386;if(_0x7e0b5f[_0x40aa61(0x9c)]['toLowerCase']()['includes'](_0x4e21fd))_0x46b35d['push'](_0x7e0b5f);}),_0x46b35d;},async 'saveSelectionToServer'(){const _0x214c21=a7_0x212618;this[_0x214c21(0x12e)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x214c21(0xdf)},'body':JSON[_0x214c21(0xc4)]({'action':_0x214c21(0xb5),'initData':TG_INIT_DATA,'selection':Array[_0x214c21(0xd3)](state[_0x214c21(0xc9)])})}),!![];}catch(_0x433777){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function a7_0x525d(){const _0x10eea3=['ultima_cart_v1','Sync\x20skipped:','innerHeight','1407sURSdl','–í—ã–±—Ä–∞—Ç—å\x20(','opacity','transform','588uELjNH','getElementById','createDocumentFragment','WebApp','innerWidth','show','ultima_data_v2','animation','icon','products','categories','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','activeCatId','disableVerticalSwipes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','observe','catTitle','renderQueue','1600688unpTxE','catalog','target','–ù–∞–∑–∞–¥','renderIndex','searchClear','expand','every','searchMode','setItem','name','getProducts','fadeInUp\x200.2s\x20ease\x20forwards\x20','appendChild','3260150TAuJrF','light','meta','searchInput','constructor','prev','(((.+)+)+)+$','apply','BATCH_SIZE','catGrid','HapticFeedback','initialSelected','none','cssText','querySelector','boxShadow','auto','border','error','searchResults','display','save','isIntersecting','37631gooADS','BackButton','router.html','values','88TrUVsq','search-active','success','impactOccurred','product-list-container','block','location','trim','addEventListener','stringify','href','loadFromCache','active','500','selected','18ULnWnq','14754gKdPvo','hidden','filter','btnSearchCancel','resize','–û—Ç–º–µ–Ω–∞','includes','3nupdPp','from','viewList','onClick','touchstart','Critical\x20TMA\x20Error:','needUpdate','forEach','getItem','search','remove','600','warn','text/plain;charset=utf-8','viewSearch','processCatalog','productList','visible','setHeaderColor','onclick','notificationOccurred','className','parse','next','click','serverVer','btnSelectAll','isArray','map','value','log','btnSave','flat','size','find','sentinel','1417384sresuX','No\x20API\x20URL','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','currentContainer','cat-card','div','fontWeight','saveSelectionToServer','classList','productsMap','init','innerHTML','product-row\x20','21278DNRwMG','has','setBackgroundColor','Telegram','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','\x20–∏–∑\x20','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','userSelection','offClick','793690NDvurA','pointerEvents','bump','flex','loader','200px','length','#050505','–û—à–∏–±–∫–∞!','head','body','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','view-cats','view-list','add','background','delete','toLowerCase','saveBtnText','view-search','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','input','Color/Swipe\x20settings\x20error:','blur','–°–Ω—è—Ç—å\x20–≤—Å—ë','slice','POST','viewCats','medium','createElement','ready','toString','style','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','cleanupZombieProducts','textContent'];a7_0x525d=function(){return _0x10eea3;};return a7_0x525d();}function saveSelectionToCache(){const _0x30c721=a7_0x212618;try{localStorage[_0x30c721(0x9b)](_0x30c721(0x130),JSON['stringify'](Array['from'](state[_0x30c721(0xc9)])));}catch(_0x229576){}}const el={'catGrid':document[a7_0x212618(0x138)](a7_0x212618(0xa9)),'productList':document[a7_0x212618(0x138)](a7_0x212618(0xe2)),'viewCats':document[a7_0x212618(0x138)](a7_0x212618(0x118)),'viewList':document[a7_0x212618(0x138)](a7_0x212618(0x119)),'viewSearch':document[a7_0x212618(0x138)](a7_0x212618(0x11f)),'catTitle':document[a7_0x212618(0x138)](a7_0x212618(0x90)),'btnSelectAll':document[a7_0x212618(0x138)](a7_0x212618(0xec)),'searchInput':document[a7_0x212618(0x138)]('searchInput'),'searchClear':document[a7_0x212618(0x138)](a7_0x212618(0x97)),'searchResults':document[a7_0x212618(0x138)]('searchResults'),'btnSearchCancel':document[a7_0x212618(0x138)](a7_0x212618(0xce)),'btnSave':document['getElementById'](a7_0x212618(0xf1)),'saveBtnText':document['getElementById'](a7_0x212618(0x11e)),'sentinel':document[a7_0x212618(0x138)](a7_0x212618(0xf5)),'loader':document[a7_0x212618(0x138)]('appLoader')};function hideLoader(){const _0x4438da=a7_0x212618;el[_0x4438da(0x110)][_0x4438da(0xfe)]['add'](_0x4438da(0xcc));}function haptic(_0x1e739f=a7_0x212618(0xa1)){const _0x773e2=a7_0x212618;try{const _0x19a8f2=window['Telegram']?.[_0x773e2(0x13a)]?.[_0x773e2(0xaa)];if(_0x19a8f2)_0x1e739f==='light'?_0x19a8f2['impactOccurred'](_0x773e2(0xa1)):_0x1e739f==='medium'?_0x19a8f2[_0x773e2(0xbe)](_0x773e2(0x128)):_0x19a8f2[_0x773e2(0xe6)](_0x773e2(0xbd));}catch(_0x235909){}}const bump=_0x2091ec=>{const _0x18e5b5=a7_0x212618;if(!_0x2091ec)return;_0x2091ec[_0x18e5b5(0xfe)][_0x18e5b5(0xdc)](_0x18e5b5(0x10e)),void _0x2091ec['offsetWidth'],_0x2091ec[_0x18e5b5(0xfe)][_0x18e5b5(0x11a)](_0x18e5b5(0x10e));};document[a7_0x212618(0xc3)]('touchstart',_0x5bce56=>{const _0x22e8cf=a7_0x212618,_0xdbbbf1=_0x5bce56[_0x22e8cf(0x94)]['closest']('.cat-card,\x20.btn-save');if(!_0xdbbbf1)return;haptic(_0x22e8cf(0xa1)),bump(_0xdbbbf1);},{'passive':!![]});function isSelectionChanged(){const _0x34a463=a7_0x212618;if(state['selected'][_0x34a463(0xf3)]!==state[_0x34a463(0xab)]['size'])return!![];for(let _0x2e3296 of state[_0x34a463(0xc9)]){if(!state[_0x34a463(0xab)][_0x34a463(0x104)](_0x2e3296))return!![];}return![];}function init(){const _0x354ff9=a7_0x212618;let _0x2a067c=window[_0x354ff9(0x13b)];const _0x34cc5c=document[_0x354ff9(0xae)]('.fx-layer'),_0x27f60b=()=>{const _0x552d2a=_0x354ff9;_0x34cc5c[_0x552d2a(0x12c)]['height']=window[_0x552d2a(0x132)]+'px',_0x2a067c=window['innerWidth'];};_0x27f60b(),window[_0x354ff9(0xc3)](_0x354ff9(0xcf),()=>{const _0x5e542a=_0x354ff9;if(window[_0x5e542a(0x13b)]!==_0x2a067c)_0x27f60b();}),DataService[_0x354ff9(0x100)](),el['searchInput']['addEventListener'](_0x354ff9(0x121),handleSearch),el[_0x354ff9(0x97)][_0x354ff9(0xc3)](_0x354ff9(0xea),clearSearch);if(tg)tg[_0x354ff9(0xb8)]['show']();const _0x20c238=new IntersectionObserver(_0x35dc3f=>{const _0x2e60be=_0x354ff9;if(_0x35dc3f[0x0][_0x2e60be(0xb6)])renderNextBatch();},{'rootMargin':_0x354ff9(0x111)});_0x20c238[_0x354ff9(0x8f)](el['sentinel']);}function renderCategories(){const _0x1d4d71=a7_0x212618;el['catGrid']['innerHTML']='',DataService[_0x1d4d71(0x8a)]['forEach'](_0x277db1=>{const _0x56bc1b=_0x1d4d71,_0x2c98be=DataService[_0x56bc1b(0x9d)](_0x277db1['id']),_0x41624d=_0x2c98be[_0x56bc1b(0x112)],_0x1aeed3=_0x2c98be[_0x56bc1b(0xcd)](_0x4c6cf3=>state[_0x56bc1b(0xc9)]['has'](_0x4c6cf3['id']))[_0x56bc1b(0x112)],_0x223963=_0x41624d>0x0?_0x1aeed3/_0x41624d*0x64:0x0,_0x469a65=document['createElement'](_0x56bc1b(0xfb));_0x469a65[_0x56bc1b(0xe7)]=_0x56bc1b(0xfa),_0x469a65[_0x56bc1b(0xe5)]=()=>openCategory(_0x277db1['id']),_0x469a65[_0x56bc1b(0x101)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>'+_0x277db1[_0x56bc1b(0x88)]+_0x56bc1b(0x120)+_0x277db1[_0x56bc1b(0x9c)]+_0x56bc1b(0x8e)+_0x1aeed3+_0x56bc1b(0x108)+_0x41624d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20'+_0x223963+_0x56bc1b(0x12d),el[_0x56bc1b(0xa9)][_0x56bc1b(0x9f)](_0x469a65);});}function openCategory(_0x12c6f8){const _0xb54125=a7_0x212618;state[_0xb54125(0x8c)]=_0x12c6f8;const _0x5d9af2=DataService[_0xb54125(0x8a)][_0xb54125(0xf4)](_0x53c87d=>_0x53c87d['id']===_0x12c6f8);el[_0xb54125(0x90)]['textContent']=_0x5d9af2[_0xb54125(0x9c)],el[_0xb54125(0xe2)][_0xb54125(0x12c)][_0xb54125(0xb4)]=_0xb54125(0x10f);const _0x133794=DataService['getProducts'](_0x12c6f8);startInfiniteRender(_0x133794,el['productList']),updateSelectAllBtn(),el[_0xb54125(0x127)]['classList'][_0xb54125(0x11a)](_0xb54125(0xa5)),el[_0xb54125(0x127)][_0xb54125(0xfe)]['remove'](_0xb54125(0xc7)),el[_0xb54125(0xd4)]['classList'][_0xb54125(0x11a)](_0xb54125(0xc7)),el[_0xb54125(0xd4)][_0xb54125(0xfe)]['remove'](_0xb54125(0xe9)),updateSaveButton();if(tg)tg[_0xb54125(0xb8)]['show']();}function goBack(){const _0x5b7bac=a7_0x212618;state[_0x5b7bac(0x8c)]=null,el['viewList'][_0x5b7bac(0xfe)][_0x5b7bac(0xdc)]('active'),el[_0x5b7bac(0x127)][_0x5b7bac(0xfe)]['add']('active'),el['viewCats'][_0x5b7bac(0xfe)][_0x5b7bac(0xdc)](_0x5b7bac(0xa5)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton'][_0x5b7bac(0x13c)]();}function startInfiniteRender(_0x496392,_0x514c4a,_0x583333=![]){const _0x15c057=a7_0x212618;_0x514c4a[_0x15c057(0x101)]='',_0x514c4a['style'][_0x15c057(0xad)]='';if(_0x496392['length']===0x0&&_0x583333){_0x514c4a[_0x15c057(0x101)]='<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>';return;}state[_0x15c057(0x91)]=_0x496392,state[_0x15c057(0x96)]=0x0;let _0x3c210e=_0x514c4a;if(_0x583333){const _0x268e0e=document[_0x15c057(0x129)](_0x15c057(0xfb));_0x268e0e[_0x15c057(0xe7)]=_0x15c057(0xbf),_0x268e0e[_0x15c057(0x12c)][_0x15c057(0x11b)]='transparent',_0x268e0e[_0x15c057(0x12c)][_0x15c057(0xb1)]='none',_0x268e0e['style'][_0x15c057(0xaf)]='none',_0x514c4a[_0x15c057(0x9f)](_0x268e0e),_0x3c210e=_0x268e0e;}state[_0x15c057(0xf9)]=_0x3c210e,renderNextBatch(_0x583333);}function renderNextBatch(_0x1ca080=![]){const _0x44a3e7=a7_0x212618;if(state[_0x44a3e7(0x96)]>=state[_0x44a3e7(0x91)][_0x44a3e7(0x112)])return;const _0x11cf51=state[_0x44a3e7(0x91)][_0x44a3e7(0x125)](state[_0x44a3e7(0x96)],state[_0x44a3e7(0x96)]+state[_0x44a3e7(0xa8)]),_0x100ed2=document[_0x44a3e7(0x139)]();_0x11cf51[_0x44a3e7(0xd9)]((_0x59f6ae,_0x5f4c91)=>{const _0x4d63e4=_0x44a3e7,_0x29d002=state[_0x4d63e4(0xc9)][_0x4d63e4(0x104)](_0x59f6ae['id']),_0x12e87b=document['createElement'](_0x4d63e4(0xfb));_0x12e87b[_0x4d63e4(0xe7)]=_0x4d63e4(0x102)+(_0x29d002?'selected':''),_0x12e87b[_0x4d63e4(0xc3)](_0x4d63e4(0xd6),()=>haptic(_0x4d63e4(0xa1)),{'passive':!![]}),_0x12e87b[_0x4d63e4(0xe5)]=()=>toggleProduct(_0x59f6ae['id'],_0x12e87b),!_0x1ca080&&(_0x12e87b[_0x4d63e4(0x12c)][_0x4d63e4(0x135)]='0',_0x12e87b[_0x4d63e4(0x12c)][_0x4d63e4(0x87)]=_0x4d63e4(0x9e)+_0x5f4c91*0.02+'s',setTimeout(()=>{const _0x373043=_0x4d63e4;_0x12e87b[_0x373043(0x12c)][_0x373043(0x135)]='1',_0x12e87b[_0x373043(0x12c)][_0x373043(0x87)]='none',_0x12e87b[_0x373043(0x12c)][_0x373043(0x136)]='none';},_0x5f4c91*0x14+0x12c)),_0x12e87b[_0x4d63e4(0x101)]=_0x4d63e4(0x107)+_0x59f6ae[_0x4d63e4(0x9c)]+_0x4d63e4(0x117)+_0x59f6ae[_0x4d63e4(0xa2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x100ed2[_0x4d63e4(0x9f)](_0x12e87b);}),state['currentContainer']['appendChild'](_0x100ed2),state[_0x44a3e7(0x96)]+=state['BATCH_SIZE'];}const styleSheet=document[a7_0x212618(0x129)](a7_0x212618(0x12c));styleSheet['innerText']=a7_0x212618(0x109),document[a7_0x212618(0x115)][a7_0x212618(0x9f)](styleSheet);function toggleProduct(_0x24d5a0,_0x1cb9e7){const _0x4f24f4=a7_0x212618;state[_0x4f24f4(0xc9)][_0x4f24f4(0x104)](_0x24d5a0)?(state[_0x4f24f4(0xc9)]['delete'](_0x24d5a0),_0x1cb9e7[_0x4f24f4(0xfe)][_0x4f24f4(0xdc)](_0x4f24f4(0xc9))):(state[_0x4f24f4(0xc9)][_0x4f24f4(0x11a)](_0x24d5a0),_0x1cb9e7['classList'][_0x4f24f4(0x11a)](_0x4f24f4(0xc9)));state['searchMode']&&el['btnSearchCancel']&&(el[_0x4f24f4(0xce)][_0x4f24f4(0x12f)]=state['selected'][_0x4f24f4(0xf3)]>0x0?'–í—ã–±—Ä–∞—Ç—å':_0x4f24f4(0xd0),el[_0x4f24f4(0xce)][_0x4f24f4(0x12c)][_0x4f24f4(0xfc)]=state[_0x4f24f4(0xc9)][_0x4f24f4(0xf3)]>0x0?_0x4f24f4(0xdd):_0x4f24f4(0xc8));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x4f24f4(0x9a)])updateSelectAllBtn();}function updateSaveButton(){const _0x491c29=a7_0x212618;let _0x4be0c6='';if(state[_0x491c29(0x8c)]){const _0x2a9238=DataService[_0x491c29(0x9d)](state[_0x491c29(0x8c)]),_0x48d9be=_0x2a9238['filter'](_0x5bc691=>state['selected'][_0x491c29(0x104)](_0x5bc691['id']))[_0x491c29(0x112)];_0x4be0c6=_0x48d9be>0x0?_0x491c29(0x134)+_0x48d9be+')':_0x491c29(0x95),el[_0x491c29(0xf1)]['classList']['add'](_0x491c29(0xe3)),el[_0x491c29(0x11e)]['textContent']=_0x4be0c6;return;}const _0x36d0f3=state[_0x491c29(0xc9)]['size'];_0x4be0c6=_0x491c29(0x8b)+_0x36d0f3+')',el[_0x491c29(0x11e)]['textContent']=_0x4be0c6,isSelectionChanged()?el[_0x491c29(0xf1)]['classList'][_0x491c29(0x11a)](_0x491c29(0xe3)):el[_0x491c29(0xf1)]['classList'][_0x491c29(0xdc)](_0x491c29(0xe3));}function updateSelectAllBtn(){const _0xb64292=a7_0x212618;if(!state[_0xb64292(0x8c)])return;const _0x2656d3=DataService['getProducts'](state[_0xb64292(0x8c)]),_0x47d76e=_0x2656d3['length']>0x0&&_0x2656d3[_0xb64292(0x99)](_0x332465=>state[_0xb64292(0xc9)]['has'](_0x332465['id']));el[_0xb64292(0xec)][_0xb64292(0x12f)]=_0x47d76e?_0xb64292(0x124):'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el[_0xb64292(0xec)]['onclick']=()=>toggleAllInCategory(_0x2656d3,!_0x47d76e);}function a7_0x1be0(_0x2280da,_0x4fd300){_0x2280da=_0x2280da-0x87;const _0x3407b4=a7_0x525d();let _0x22d233=_0x3407b4[_0x2280da];return _0x22d233;}function toggleAllInCategory(_0x3f014f,_0x53e126){const _0x2b8eb2=a7_0x212618;haptic('medium'),_0x3f014f['forEach'](_0x48f1d3=>{const _0xa7c85a=a7_0x1be0;if(_0x53e126)state[_0xa7c85a(0xc9)]['add'](_0x48f1d3['id']);else state['selected'][_0xa7c85a(0x11c)](_0x48f1d3['id']);}),saveSelectionToCache(),startInfiniteRender(_0x3f014f,el[_0x2b8eb2(0xe2)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x545af6){const _0x3b0b59=a7_0x212618,_0x478707=_0x545af6[_0x3b0b59(0x94)][_0x3b0b59(0xef)]['toLowerCase']()[_0x3b0b59(0xc2)]();if(_0x478707[_0x3b0b59(0x112)]>0x0){if(!state[_0x3b0b59(0x9a)])enterSearchMode();const _0x10960d=DataService[_0x3b0b59(0xdb)](_0x478707);el[_0x3b0b59(0xb3)][_0x3b0b59(0x12c)][_0x3b0b59(0xb4)]=_0x3b0b59(0xc0),startInfiniteRender(_0x10960d,el[_0x3b0b59(0xb3)],!![]);}else el[_0x3b0b59(0xb3)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1c9d31=a7_0x212618;haptic(_0x1c9d31(0x128));if(state[_0x1c9d31(0x8c)]&&!state['searchMode']){goBack();return;}const _0x507050=el[_0x1c9d31(0x11e)]['textContent'];el['saveBtnText'][_0x1c9d31(0x12f)]='–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',el[_0x1c9d31(0xf1)][_0x1c9d31(0x12c)][_0x1c9d31(0x10d)]=_0x1c9d31(0xac);const _0x49a73e=await DataService[_0x1c9d31(0xfd)]();_0x49a73e?(el['saveBtnText'][_0x1c9d31(0x12f)]='–ì–æ—Ç–æ–≤–æ!',state[_0x1c9d31(0xab)]=new Set(state[_0x1c9d31(0xc9)]),setTimeout(()=>{const _0x572f58=_0x1c9d31;el[_0x572f58(0xf1)]['style'][_0x572f58(0x10d)]=_0x572f58(0xb0),el[_0x572f58(0x11e)][_0x572f58(0x12f)]=_0x507050,updateSaveButton();if(state[_0x572f58(0x9a)])exitSearchMode();},0x320)):(el[_0x1c9d31(0x11e)][_0x1c9d31(0x12f)]=_0x1c9d31(0x114),setTimeout(()=>{const _0x352f04=_0x1c9d31;el[_0x352f04(0xf1)][_0x352f04(0x12c)][_0x352f04(0x10d)]=_0x352f04(0xb0),el['saveBtnText'][_0x352f04(0x12f)]=_0x507050;},0x7d0));}function enterSearchMode(){const _0x36ef83=a7_0x212618;state[_0x36ef83(0x9a)]=!![];el[_0x36ef83(0xce)]&&(el[_0x36ef83(0xce)]['textContent']=_0x36ef83(0xd0),el['btnSearchCancel'][_0x36ef83(0x12c)][_0x36ef83(0xfc)]=_0x36ef83(0xc8));document[_0x36ef83(0x116)]['classList'][_0x36ef83(0x11a)](_0x36ef83(0xbc)),el[_0x36ef83(0x127)][_0x36ef83(0xfe)][_0x36ef83(0xdc)](_0x36ef83(0xc7)),el['viewList'][_0x36ef83(0xfe)]['remove'](_0x36ef83(0xc7)),el[_0x36ef83(0xe0)][_0x36ef83(0xfe)]['add'](_0x36ef83(0xc7));if(tg)tg['BackButton'][_0x36ef83(0x13c)]();}function exitSearchMode(){const _0xce5dc0=a7_0x212618;state[_0xce5dc0(0x9a)]=![],document[_0xce5dc0(0x116)][_0xce5dc0(0xfe)][_0xce5dc0(0xdc)](_0xce5dc0(0xbc)),el[_0xce5dc0(0xa3)][_0xce5dc0(0x123)](),el[_0xce5dc0(0xe0)][_0xce5dc0(0xfe)][_0xce5dc0(0xdc)]('active'),el[_0xce5dc0(0xb3)][_0xce5dc0(0x12c)][_0xce5dc0(0xb4)]=_0xce5dc0(0xac),el['searchInput'][_0xce5dc0(0xef)]='';if(state[_0xce5dc0(0x8c)])el[_0xce5dc0(0xd4)][_0xce5dc0(0xfe)][_0xce5dc0(0x11a)](_0xce5dc0(0xc7));else el[_0xce5dc0(0x127)]['classList'][_0xce5dc0(0x11a)](_0xce5dc0(0xc7)),renderCategories();updateSaveButton();}init();