const a7_0x1e04ab=a7_0x2804;(function(_0xd2368d,_0x5c39af){const _0x551910=a7_0x2804,_0x393f4e=_0xd2368d();while(!![]){try{const _0x102228=-parseInt(_0x551910(0x1bc))/0x1+-parseInt(_0x551910(0x159))/0x2*(-parseInt(_0x551910(0x165))/0x3)+-parseInt(_0x551910(0x1bb))/0x4+parseInt(_0x551910(0x193))/0x5+parseInt(_0x551910(0x163))/0x6+parseInt(_0x551910(0x194))/0x7+-parseInt(_0x551910(0x1c0))/0x8*(parseInt(_0x551910(0x1d3))/0x9);if(_0x102228===_0x5c39af)break;else _0x393f4e['push'](_0x393f4e['shift']());}catch(_0x166f6c){_0x393f4e['push'](_0x393f4e['shift']());}}}(a7_0x5096,0xdf2f8));const a7_0x35c377=(function(){let _0x51948b=!![];return function(_0xdf8e9a,_0x45d2ba){const _0x39803e=_0x51948b?function(){if(_0x45d2ba){const _0x5e02f6=_0x45d2ba['apply'](_0xdf8e9a,arguments);return _0x45d2ba=null,_0x5e02f6;}}:function(){};return _0x51948b=![],_0x39803e;};}()),a7_0x1c124b=a7_0x35c377(this,function(){const _0x399f97=a7_0x2804;return a7_0x1c124b[_0x399f97(0x166)]()[_0x399f97(0x1de)]('(((.+)+)+)+$')[_0x399f97(0x166)]()[_0x399f97(0x12f)](a7_0x1c124b)[_0x399f97(0x1de)]('(((.+)+)+)+$');});a7_0x1c124b();const API_URL=a7_0x1e04ab(0x18d),tg=window['Telegram']?.[a7_0x1e04ab(0x138)],TG_INIT_DATA=tg?.[a7_0x1e04ab(0x1af)]||'';if(tg)try{tg[a7_0x1e04ab(0x17b)](),tg[a7_0x1e04ab(0x18b)]();try{tg[a7_0x1e04ab(0x19c)](a7_0x1e04ab(0x153));if(tg['setBackgroundColor'])tg[a7_0x1e04ab(0x189)]('#050505');if(tg[a7_0x1e04ab(0x18f)])tg[a7_0x1e04ab(0x18f)]();}catch(a7_0x4ca617){console[a7_0x1e04ab(0x177)](a7_0x1e04ab(0x1c7),a7_0x4ca617);}tg['BackButton']&&(tg[a7_0x1e04ab(0x1cc)][a7_0x1e04ab(0x1cd)](),tg[a7_0x1e04ab(0x1cc)]['offClick'](),tg[a7_0x1e04ab(0x1cc)][a7_0x1e04ab(0x152)](()=>{const _0x4dba25=a7_0x1e04ab;if(state[_0x4dba25(0x1ae)])exitSearchMode();else state[_0x4dba25(0x168)]?goBack():window[_0x4dba25(0x1b5)][_0x4dba25(0x146)]='router.html';}));}catch(a7_0x4239f1){console[a7_0x1e04ab(0x176)]('Critical\x20TMA\x20Error:',a7_0x4239f1);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x44047c=a7_0x1e04ab,_0x138cdd=this[_0x44047c(0x174)]();_0x138cdd&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x44047c(0x144)]();},'loadFromCache'(){const _0x30eae3=a7_0x1e04ab;try{const _0x47612d=localStorage['getItem'](_0x30eae3(0x169));if(_0x47612d){const _0x4e615c=JSON[_0x30eae3(0x171)](_0x47612d);this[_0x30eae3(0x199)]=_0x4e615c[_0x30eae3(0x199)]||[],this[_0x30eae3(0x154)]=_0x4e615c['productsMap']||{},this[_0x30eae3(0x1ca)]=_0x4e615c['serverVer']||0x0;const _0x4fd6c6=localStorage[_0x30eae3(0x196)](_0x30eae3(0x185));if(_0x4fd6c6){const _0x4f54f4=JSON[_0x30eae3(0x171)](_0x4fd6c6);state[_0x30eae3(0x183)]=new Set(_0x4f54f4),this[_0x30eae3(0x1dd)](),state[_0x30eae3(0x16f)]=new Set(state[_0x30eae3(0x183)]);}return!![];}}catch(_0x1b9a7b){console['error'](_0x1b9a7b);}return![];},async 'syncWithServer'(){const _0x24475b=a7_0x1e04ab;try{if(!API_URL[_0x24475b(0x1b9)](_0x24475b(0x1a3))){console[_0x24475b(0x177)](_0x24475b(0x1c2)),hideLoader();return;}const _0x224f47=await fetch(API_URL,{'method':_0x24475b(0x17e),'headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON[_0x24475b(0x16d)]({'action':_0x24475b(0x1bf),'clientVer':this['serverVer'],'initData':TG_INIT_DATA})}),_0x5931ea=await _0x224f47['json']();_0x5931ea['ok']&&_0x5931ea[_0x24475b(0x17c)]&&_0x5931ea['catalog']&&this[_0x24475b(0x12e)](_0x5931ea[_0x24475b(0x132)],_0x5931ea[_0x24475b(0x1ca)]);if(_0x5931ea['ok']&&_0x5931ea['userSelection'])try{const _0x3d7e67=JSON['parse'](_0x5931ea[_0x24475b(0x147)]);state[_0x24475b(0x183)]=new Set(_0x3d7e67),this[_0x24475b(0x1dd)](),state[_0x24475b(0x16f)]=new Set(state[_0x24475b(0x183)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x59123a){}hideLoader();}catch(_0x2aba05){console[_0x24475b(0x177)](_0x24475b(0x175),_0x2aba05),hideLoader();if(!DataService[_0x24475b(0x199)]['length'])alert(_0x24475b(0x19a));}},'processCatalog'(_0x48b335,_0x21deed){const _0x54c9c3=a7_0x1e04ab;this[_0x54c9c3(0x199)]=_0x48b335[_0x54c9c3(0x199)][_0x54c9c3(0x15b)](_0x373f2d=>({'id':String(_0x373f2d['id']),'name':_0x373f2d[_0x54c9c3(0x1a0)],'icon':_0x373f2d[_0x54c9c3(0x1d0)]}));const _0x34c5c5={};this[_0x54c9c3(0x199)][_0x54c9c3(0x1a9)](_0x4f563c=>_0x34c5c5[_0x4f563c['id']]=[]),_0x48b335[_0x54c9c3(0x180)]&&Array[_0x54c9c3(0x19d)](_0x48b335['products'])&&_0x48b335['products']['forEach'](_0x2d316d=>{const _0x21a56d=_0x54c9c3,_0xc17062=String(_0x2d316d[0x0]),_0x4e6073=String(_0x2d316d[0x1]);if(!_0x34c5c5[_0x4e6073])_0x34c5c5[_0x4e6073]=[];_0x34c5c5[_0x4e6073][_0x21a56d(0x16c)]({'id':_0xc17062,'name':_0x2d316d[0x2],'meta':_0x2d316d[0x3]});}),this[_0x54c9c3(0x154)]=_0x34c5c5,this[_0x54c9c3(0x1ca)]=_0x21deed,localStorage[_0x54c9c3(0x149)](_0x54c9c3(0x169),JSON[_0x54c9c3(0x16d)]({'categories':this[_0x54c9c3(0x199)],'productsMap':this[_0x54c9c3(0x154)],'serverVer':this[_0x54c9c3(0x1ca)]})),this[_0x54c9c3(0x1dd)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x3d787f=a7_0x1e04ab;if(!state[_0x3d787f(0x183)]||state['selected']['size']===0x0)return;const _0x3f28cc=new Set();Object[_0x3d787f(0x181)](this['productsMap'])[_0x3d787f(0x197)]()['forEach'](_0x3dcdab=>_0x3f28cc[_0x3d787f(0x1d8)](_0x3dcdab['id']));const _0x802fd3=new Set();state[_0x3d787f(0x183)][_0x3d787f(0x1a9)](_0x22aca1=>{const _0xc6d8ee=_0x3d787f;_0x3f28cc[_0xc6d8ee(0x13c)](_0x22aca1)&&_0x802fd3[_0xc6d8ee(0x1d8)](_0x22aca1);}),_0x802fd3[_0x3d787f(0x148)]!==state['selected'][_0x3d787f(0x148)]&&(console[_0x3d787f(0x1b3)](_0x3d787f(0x1be)+(state['selected'][_0x3d787f(0x148)]-_0x802fd3[_0x3d787f(0x148)])+_0x3d787f(0x1ab)),state['selected']=_0x802fd3,saveSelectionToCache());},'getProducts'(_0x44ad6c){const _0x5347f6=a7_0x1e04ab;return this[_0x5347f6(0x154)][_0x44ad6c]||[];},'search'(_0x4f2756){const _0x3613ca=a7_0x1e04ab,_0x5312c8=[],_0x3d862c=_0x4f2756[_0x3613ca(0x1d6)]();return Object[_0x3613ca(0x181)](this['productsMap'])[_0x3613ca(0x197)]()[_0x3613ca(0x1a9)](_0x477dbe=>{const _0x37f31a=_0x3613ca;if(_0x477dbe['name']['toLowerCase']()[_0x37f31a(0x1b9)](_0x3d862c))_0x5312c8['push'](_0x477dbe);}),_0x5312c8;},async 'saveSelectionToServer'(){const _0x4bf6ad=a7_0x1e04ab;this[_0x4bf6ad(0x1dd)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4bf6ad(0x1a2)},'body':JSON[_0x4bf6ad(0x16d)]({'action':_0x4bf6ad(0x136),'initData':TG_INIT_DATA,'selection':Array[_0x4bf6ad(0x1a8)](state['selected'])})}),!![];}catch(_0x30bd02){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x26dd28=a7_0x1e04ab;try{localStorage[_0x26dd28(0x149)](_0x26dd28(0x185),JSON[_0x26dd28(0x16d)](Array['from'](state['selected'])));}catch(_0x35a8bf){}}const el={'catGrid':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x1c4)),'productList':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x198)),'viewCats':document['getElementById']('view-cats'),'viewList':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x130)),'viewSearch':document['getElementById']('view-search'),'catTitle':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x139)),'btnSelectAll':document['getElementById']('btnSelectAll'),'searchInput':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x19e)),'searchClear':document['getElementById'](a7_0x1e04ab(0x18e)),'searchResults':document[a7_0x1e04ab(0x1c5)]('searchResults'),'btnSearchCancel':document[a7_0x1e04ab(0x1c5)](a7_0x1e04ab(0x158)),'btnSave':document['getElementById'](a7_0x1e04ab(0x14e)),'saveBtnText':document['getElementById']('saveBtnText'),'sentinel':document['getElementById'](a7_0x1e04ab(0x13d)),'loader':document[a7_0x1e04ab(0x1c5)]('appLoader')};function hideLoader(){const _0x3c0cdc=a7_0x1e04ab;el[_0x3c0cdc(0x170)]['classList'][_0x3c0cdc(0x1d8)](_0x3c0cdc(0x162));}function haptic(_0x27a99e='light'){const _0x30e70e=a7_0x1e04ab;try{const _0x579153=window[_0x30e70e(0x133)]?.[_0x30e70e(0x138)]?.[_0x30e70e(0x13f)];if(_0x579153)_0x27a99e==='light'?_0x579153[_0x30e70e(0x14f)](_0x30e70e(0x1c8)):_0x27a99e===_0x30e70e(0x134)?_0x579153[_0x30e70e(0x14f)]('medium'):_0x579153[_0x30e70e(0x145)]('success');}catch(_0x2debcb){}}function a7_0x5096(){const _0x3491d9=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','add','fontWeight','none','flex','bump','cleanupZombieProducts','search','currentContainer','processCatalog','constructor','view-list','observe','catalog','Telegram','medium','querySelector','save','500','WebApp','catTitle','–ù–∞–∑–∞–¥','block','has','sentinel','–û—à–∏–±–∫–∞!','HapticFeedback','remove','–í—ã–±—Ä–∞—Ç—å','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','viewList','syncWithServer','notificationOccurred','href','userSelection','size','setItem','innerHeight','className','isIntersecting','textContent','btnSave','impactOccurred','click','.fx-layer','onClick','#050505','productsMap','head','BATCH_SIZE','height','btnSearchCancel','58398akcQLr','touchstart','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','animation','viewCats','innerWidth','body','appendChild','hidden','6501648fkmlgg','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','63okbQEY','toString','filter','activeCatId','ultima_data_v2','innerHTML','createDocumentFragment','push','stringify','length','initialSelected','loader','parse','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','renderIndex','loadFromCache','Sync\x20skipped:','error','warn','searchResults','viewSearch','200px','ready','needUpdate','offsetWidth','POST','\x20–∏–∑\x20','products','values','border','selected','–í—ã–±—Ä–∞—Ç—å\x20(','ultima_cart_v1','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','getProducts','active','setBackgroundColor','innerText','expand','visible','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','searchClear','disableVerticalSwipes','transform','btnSelectAll','renderQueue','8155080RsGgmd','5520242bknODU','value','getItem','flat','productList','categories','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','input','setHeaderColor','isArray','searchInput','div','name','boxShadow','text/plain;charset=utf-8','script.google.com','prev','opacity','–û—Ç–º–µ–Ω–∞','auto','from','forEach','saveBtnText','\x20zombie\x20products','target','search-active','searchMode','initData','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','display','closest','log','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','location','–ì–æ—Ç–æ–≤–æ!','style','delete','includes','addEventListener','3465840AaTeEX','1466863GTXFIK','createElement','üßπ\x20Removed\x20','init','16SFKOTR','.cat-card,\x20.btn-save','No\x20API\x20URL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','catGrid','getElementById','find','Color/Swipe\x20settings\x20error:','light','saveSelectionToServer','serverVer','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','BackButton','show','pointerEvents','cssText','icon','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','3910131nPTDEH','classList','600','toLowerCase'];a7_0x5096=function(){return _0x3491d9;};return a7_0x5096();}const bump=_0xf23543=>{const _0x4fdb46=a7_0x1e04ab;if(!_0xf23543)return;_0xf23543[_0x4fdb46(0x1d4)][_0x4fdb46(0x140)](_0x4fdb46(0x1dc)),void _0xf23543[_0x4fdb46(0x17d)],_0xf23543['classList'][_0x4fdb46(0x1d8)](_0x4fdb46(0x1dc));};document[a7_0x1e04ab(0x1ba)](a7_0x1e04ab(0x15a),_0x1265fa=>{const _0x2a6288=a7_0x1e04ab,_0x2a773b=_0x1265fa['target'][_0x2a6288(0x1b2)](_0x2a6288(0x1c1));if(!_0x2a773b)return;haptic(_0x2a6288(0x1c8)),bump(_0x2a773b);},{'passive':!![]});function isSelectionChanged(){const _0x42d027=a7_0x1e04ab;if(state[_0x42d027(0x183)][_0x42d027(0x148)]!==state[_0x42d027(0x16f)]['size'])return!![];for(let _0x2116c4 of state[_0x42d027(0x183)]){if(!state['initialSelected'][_0x42d027(0x13c)](_0x2116c4))return!![];}return![];}function init(){const _0x563f73=a7_0x1e04ab;let _0x20fb37=window[_0x563f73(0x15f)];const _0x4a9aed=document[_0x563f73(0x135)](_0x563f73(0x151)),_0x389e2c=()=>{const _0x3c28b9=_0x563f73;_0x4a9aed[_0x3c28b9(0x1b7)][_0x3c28b9(0x157)]=window[_0x3c28b9(0x14a)]+'px',_0x20fb37=window[_0x3c28b9(0x15f)];};_0x389e2c(),window[_0x563f73(0x1ba)]('resize',()=>{if(window['innerWidth']!==_0x20fb37)_0x389e2c();}),DataService['init'](),el[_0x563f73(0x19e)][_0x563f73(0x1ba)](_0x563f73(0x19b),handleSearch),el[_0x563f73(0x18e)][_0x563f73(0x1ba)](_0x563f73(0x150),clearSearch);if(tg)tg[_0x563f73(0x1cc)][_0x563f73(0x1cd)]();const _0x3b1fc3=new IntersectionObserver(_0x376115=>{const _0x20d994=_0x563f73;if(_0x376115[0x0][_0x20d994(0x14c)])renderNextBatch();},{'rootMargin':_0x563f73(0x17a)});_0x3b1fc3[_0x563f73(0x131)](el[_0x563f73(0x13d)]);}function renderCategories(){const _0x4b4c6d=a7_0x1e04ab;el[_0x4b4c6d(0x1c4)][_0x4b4c6d(0x16a)]='',DataService[_0x4b4c6d(0x199)][_0x4b4c6d(0x1a9)](_0x159587=>{const _0x2fc2f8=_0x4b4c6d,_0x21dd88=DataService[_0x2fc2f8(0x187)](_0x159587['id']),_0x314714=_0x21dd88[_0x2fc2f8(0x16e)],_0x13da88=_0x21dd88[_0x2fc2f8(0x167)](_0x36ba39=>state[_0x2fc2f8(0x183)][_0x2fc2f8(0x13c)](_0x36ba39['id']))[_0x2fc2f8(0x16e)],_0x6e1878=_0x314714>0x0?_0x13da88/_0x314714*0x64:0x0,_0x564fa3=document['createElement'](_0x2fc2f8(0x19f));_0x564fa3['className']='cat-card',_0x564fa3['onclick']=()=>openCategory(_0x159587['id']),_0x564fa3[_0x2fc2f8(0x16a)]=_0x2fc2f8(0x1c3)+_0x159587[_0x2fc2f8(0x1d0)]+_0x2fc2f8(0x15c)+_0x159587[_0x2fc2f8(0x1a0)]+_0x2fc2f8(0x1d1)+_0x13da88+_0x2fc2f8(0x17f)+_0x314714+_0x2fc2f8(0x142)+_0x6e1878+_0x2fc2f8(0x1b4),el[_0x2fc2f8(0x1c4)]['appendChild'](_0x564fa3);});}function openCategory(_0x7569ea){const _0x263cc6=a7_0x1e04ab;state[_0x263cc6(0x168)]=_0x7569ea;const _0xe246f4=DataService[_0x263cc6(0x199)][_0x263cc6(0x1c6)](_0x19d1fb=>_0x19d1fb['id']===_0x7569ea);el[_0x263cc6(0x139)][_0x263cc6(0x14d)]=_0xe246f4['name'],el[_0x263cc6(0x198)][_0x263cc6(0x1b7)]['display']=_0x263cc6(0x1db);const _0x55c5c8=DataService[_0x263cc6(0x187)](_0x7569ea);startInfiniteRender(_0x55c5c8,el['productList']),updateSelectAllBtn(),el[_0x263cc6(0x15e)][_0x263cc6(0x1d4)][_0x263cc6(0x1d8)](_0x263cc6(0x1a4)),el[_0x263cc6(0x15e)]['classList'][_0x263cc6(0x140)](_0x263cc6(0x188)),el[_0x263cc6(0x143)][_0x263cc6(0x1d4)]['add'](_0x263cc6(0x188)),el[_0x263cc6(0x143)][_0x263cc6(0x1d4)][_0x263cc6(0x140)]('next'),updateSaveButton();if(tg)tg['BackButton']['show']();}function goBack(){const _0x2b14d4=a7_0x1e04ab;state[_0x2b14d4(0x168)]=null,el[_0x2b14d4(0x143)][_0x2b14d4(0x1d4)][_0x2b14d4(0x140)](_0x2b14d4(0x188)),el[_0x2b14d4(0x15e)][_0x2b14d4(0x1d4)][_0x2b14d4(0x1d8)](_0x2b14d4(0x188)),el[_0x2b14d4(0x15e)][_0x2b14d4(0x1d4)][_0x2b14d4(0x140)](_0x2b14d4(0x1a4)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x2b14d4(0x1cc)]['show']();}function startInfiniteRender(_0xe71aa2,_0x549111,_0x56c33e=![]){const _0x1a0456=a7_0x1e04ab;_0x549111[_0x1a0456(0x16a)]='',_0x549111[_0x1a0456(0x1b7)][_0x1a0456(0x1cf)]='';if(_0xe71aa2[_0x1a0456(0x16e)]===0x0&&_0x56c33e){_0x549111[_0x1a0456(0x16a)]=_0x1a0456(0x1cb);return;}state[_0x1a0456(0x192)]=_0xe71aa2,state[_0x1a0456(0x173)]=0x0;let _0x529ca7=_0x549111;if(_0x56c33e){const _0x4c866a=document[_0x1a0456(0x1bd)]('div');_0x4c866a[_0x1a0456(0x14b)]='product-list-container',_0x4c866a[_0x1a0456(0x1b7)]['background']='transparent',_0x4c866a['style'][_0x1a0456(0x182)]=_0x1a0456(0x1da),_0x4c866a[_0x1a0456(0x1b7)][_0x1a0456(0x1a1)]='none',_0x549111[_0x1a0456(0x161)](_0x4c866a),_0x529ca7=_0x4c866a;}state['currentContainer']=_0x529ca7,renderNextBatch(_0x56c33e);}function renderNextBatch(_0x497a8e=![]){const _0x399629=a7_0x1e04ab;if(state[_0x399629(0x173)]>=state['renderQueue'][_0x399629(0x16e)])return;const _0x14ffe0=state[_0x399629(0x192)]['slice'](state[_0x399629(0x173)],state[_0x399629(0x173)]+state['BATCH_SIZE']),_0x2723e5=document[_0x399629(0x16b)]();_0x14ffe0[_0x399629(0x1a9)]((_0x6c5f04,_0x179dea)=>{const _0x4cb911=_0x399629,_0x33163b=state[_0x4cb911(0x183)][_0x4cb911(0x13c)](_0x6c5f04['id']),_0x58e0b5=document['createElement']('div');_0x58e0b5['className']='product-row\x20'+(_0x33163b?_0x4cb911(0x183):''),_0x58e0b5[_0x4cb911(0x1ba)](_0x4cb911(0x15a),()=>haptic(_0x4cb911(0x1c8)),{'passive':!![]}),_0x58e0b5['onclick']=()=>toggleProduct(_0x6c5f04['id'],_0x58e0b5),!_0x497a8e&&(_0x58e0b5[_0x4cb911(0x1b7)]['opacity']='0',_0x58e0b5[_0x4cb911(0x1b7)][_0x4cb911(0x15d)]='fadeInUp\x200.2s\x20ease\x20forwards\x20'+_0x179dea*0.02+'s',setTimeout(()=>{const _0x4a9a1f=_0x4cb911;_0x58e0b5[_0x4a9a1f(0x1b7)][_0x4a9a1f(0x1a5)]='1',_0x58e0b5[_0x4a9a1f(0x1b7)][_0x4a9a1f(0x15d)]='none',_0x58e0b5[_0x4a9a1f(0x1b7)][_0x4a9a1f(0x190)]=_0x4a9a1f(0x1da);},_0x179dea*0x14+0x12c)),_0x58e0b5[_0x4cb911(0x16a)]=_0x4cb911(0x1d7)+_0x6c5f04['name']+_0x4cb911(0x1b0)+_0x6c5f04['meta']+_0x4cb911(0x164),_0x2723e5[_0x4cb911(0x161)](_0x58e0b5);}),state[_0x399629(0x12d)]['appendChild'](_0x2723e5),state[_0x399629(0x173)]+=state[_0x399629(0x156)];}const styleSheet=document['createElement'](a7_0x1e04ab(0x1b7));styleSheet[a7_0x1e04ab(0x18a)]=a7_0x1e04ab(0x1d2),document[a7_0x1e04ab(0x155)]['appendChild'](styleSheet);function toggleProduct(_0x4799dc,_0x455c30){const _0x5259b9=a7_0x1e04ab;state['selected']['has'](_0x4799dc)?(state['selected'][_0x5259b9(0x1b8)](_0x4799dc),_0x455c30[_0x5259b9(0x1d4)][_0x5259b9(0x140)](_0x5259b9(0x183))):(state['selected'][_0x5259b9(0x1d8)](_0x4799dc),_0x455c30[_0x5259b9(0x1d4)][_0x5259b9(0x1d8)](_0x5259b9(0x183)));state['searchMode']&&el['btnSearchCancel']&&(el[_0x5259b9(0x158)]['textContent']=state[_0x5259b9(0x183)][_0x5259b9(0x148)]>0x0?_0x5259b9(0x141):_0x5259b9(0x1a6),el['btnSearchCancel'][_0x5259b9(0x1b7)][_0x5259b9(0x1d9)]=state[_0x5259b9(0x183)][_0x5259b9(0x148)]>0x0?_0x5259b9(0x1d5):_0x5259b9(0x137));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state['searchMode'])updateSelectAllBtn();}function updateSaveButton(){const _0xf71dca=a7_0x1e04ab;let _0x49fdbd='';if(state[_0xf71dca(0x168)]){const _0x1f4f02=DataService[_0xf71dca(0x187)](state['activeCatId']),_0x19d6b7=_0x1f4f02['filter'](_0x3808d4=>state[_0xf71dca(0x183)][_0xf71dca(0x13c)](_0x3808d4['id']))[_0xf71dca(0x16e)];_0x49fdbd=_0x19d6b7>0x0?_0xf71dca(0x184)+_0x19d6b7+')':_0xf71dca(0x13a),el['btnSave'][_0xf71dca(0x1d4)][_0xf71dca(0x1d8)](_0xf71dca(0x18c)),el[_0xf71dca(0x1aa)][_0xf71dca(0x14d)]=_0x49fdbd;return;}const _0x204153=state['selected'][_0xf71dca(0x148)];_0x49fdbd='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x204153+')',el[_0xf71dca(0x1aa)][_0xf71dca(0x14d)]=_0x49fdbd,isSelectionChanged()?el[_0xf71dca(0x14e)]['classList'][_0xf71dca(0x1d8)](_0xf71dca(0x18c)):el['btnSave'][_0xf71dca(0x1d4)][_0xf71dca(0x140)]('visible');}function updateSelectAllBtn(){const _0xf5ecb=a7_0x1e04ab;if(!state[_0xf5ecb(0x168)])return;const _0xd16d53=DataService[_0xf5ecb(0x187)](state[_0xf5ecb(0x168)]),_0xc54a3a=_0xd16d53['length']>0x0&&_0xd16d53['every'](_0x5a7c6a=>state[_0xf5ecb(0x183)][_0xf5ecb(0x13c)](_0x5a7c6a['id']));el['btnSelectAll'][_0xf5ecb(0x14d)]=_0xc54a3a?'–°–Ω—è—Ç—å\x20–≤—Å—ë':_0xf5ecb(0x172),el[_0xf5ecb(0x191)]['onclick']=()=>toggleAllInCategory(_0xd16d53,!_0xc54a3a);}function a7_0x2804(_0x159fe8,_0x2ef44b){_0x159fe8=_0x159fe8-0x12d;const _0x48be11=a7_0x5096();let _0x1c124b=_0x48be11[_0x159fe8];return _0x1c124b;}function toggleAllInCategory(_0x44aa01,_0x46dd9e){const _0x22227d=a7_0x1e04ab;haptic(_0x22227d(0x134)),_0x44aa01[_0x22227d(0x1a9)](_0x51cab2=>{const _0xf64078=_0x22227d;if(_0x46dd9e)state[_0xf64078(0x183)][_0xf64078(0x1d8)](_0x51cab2['id']);else state['selected']['delete'](_0x51cab2['id']);}),saveSelectionToCache(),startInfiniteRender(_0x44aa01,el[_0x22227d(0x198)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x586a95){const _0x24e499=a7_0x1e04ab,_0x4332cd=_0x586a95[_0x24e499(0x1ac)]['value'][_0x24e499(0x1d6)]()['trim']();if(_0x4332cd[_0x24e499(0x16e)]>0x0){if(!state['searchMode'])enterSearchMode();const _0x5771a3=DataService[_0x24e499(0x1de)](_0x4332cd);el[_0x24e499(0x178)]['style'][_0x24e499(0x1b1)]=_0x24e499(0x13b),startInfiniteRender(_0x5771a3,el[_0x24e499(0x178)],!![]);}else el[_0x24e499(0x178)]['innerHTML']='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x268430=a7_0x1e04ab;haptic('medium');if(state[_0x268430(0x168)]&&!state[_0x268430(0x1ae)]){goBack();return;}const _0x3d449f=el['saveBtnText']['textContent'];el[_0x268430(0x1aa)]['textContent']=_0x268430(0x186),el[_0x268430(0x14e)][_0x268430(0x1b7)]['pointerEvents']=_0x268430(0x1da);const _0x355b5e=await DataService[_0x268430(0x1c9)]();_0x355b5e?(el['saveBtnText']['textContent']=_0x268430(0x1b6),state[_0x268430(0x16f)]=new Set(state['selected']),setTimeout(()=>{const _0x5641ee=_0x268430;el['btnSave'][_0x5641ee(0x1b7)][_0x5641ee(0x1ce)]=_0x5641ee(0x1a7),el[_0x5641ee(0x1aa)][_0x5641ee(0x14d)]=_0x3d449f,updateSaveButton();if(state[_0x5641ee(0x1ae)])exitSearchMode();},0x320)):(el[_0x268430(0x1aa)][_0x268430(0x14d)]=_0x268430(0x13e),setTimeout(()=>{const _0x235501=_0x268430;el[_0x235501(0x14e)][_0x235501(0x1b7)]['pointerEvents']=_0x235501(0x1a7),el['saveBtnText'][_0x235501(0x14d)]=_0x3d449f;},0x7d0));}function enterSearchMode(){const _0x4dff2f=a7_0x1e04ab;state[_0x4dff2f(0x1ae)]=!![];el[_0x4dff2f(0x158)]&&(el['btnSearchCancel'][_0x4dff2f(0x14d)]=_0x4dff2f(0x1a6),el['btnSearchCancel']['style'][_0x4dff2f(0x1d9)]=_0x4dff2f(0x137));document[_0x4dff2f(0x160)]['classList'][_0x4dff2f(0x1d8)](_0x4dff2f(0x1ad)),el['viewCats'][_0x4dff2f(0x1d4)][_0x4dff2f(0x140)](_0x4dff2f(0x188)),el[_0x4dff2f(0x143)][_0x4dff2f(0x1d4)]['remove']('active'),el[_0x4dff2f(0x179)][_0x4dff2f(0x1d4)]['add'](_0x4dff2f(0x188));if(tg)tg[_0x4dff2f(0x1cc)]['show']();}function exitSearchMode(){const _0x39d88b=a7_0x1e04ab;state[_0x39d88b(0x1ae)]=![],document[_0x39d88b(0x160)][_0x39d88b(0x1d4)]['remove'](_0x39d88b(0x1ad)),el['searchInput']['blur'](),el[_0x39d88b(0x179)][_0x39d88b(0x1d4)]['remove'](_0x39d88b(0x188)),el['searchResults']['style']['display']='none',el['searchInput'][_0x39d88b(0x195)]='';if(state[_0x39d88b(0x168)])el['viewList'][_0x39d88b(0x1d4)]['add'](_0x39d88b(0x188));else el[_0x39d88b(0x15e)]['classList'][_0x39d88b(0x1d8)](_0x39d88b(0x188)),renderCategories();updateSaveButton();}init();