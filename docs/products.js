const a7_0x3821ee=a7_0x4fbf;(function(_0x2e2059,_0x1bf924){const _0x485aeb=a7_0x4fbf,_0x11e92c=_0x2e2059();while(!![]){try{const _0x6c91bb=-parseInt(_0x485aeb(0x222))/0x1*(parseInt(_0x485aeb(0x238))/0x2)+parseInt(_0x485aeb(0x263))/0x3+parseInt(_0x485aeb(0x1ee))/0x4*(-parseInt(_0x485aeb(0x271))/0x5)+parseInt(_0x485aeb(0x24b))/0x6+parseInt(_0x485aeb(0x1f0))/0x7*(parseInt(_0x485aeb(0x266))/0x8)+-parseInt(_0x485aeb(0x26b))/0x9+-parseInt(_0x485aeb(0x202))/0xa*(-parseInt(_0x485aeb(0x211))/0xb);if(_0x6c91bb===_0x1bf924)break;else _0x11e92c['push'](_0x11e92c['shift']());}catch(_0x26ae9b){_0x11e92c['push'](_0x11e92c['shift']());}}}(a7_0x56c5,0x3f90c));const a7_0x328a25=(function(){let _0x4ba2ac=!![];return function(_0x20ccb7,_0x3c0a4c){const _0x89641c=_0x4ba2ac?function(){if(_0x3c0a4c){const _0x5e853e=_0x3c0a4c['apply'](_0x20ccb7,arguments);return _0x3c0a4c=null,_0x5e853e;}}:function(){};return _0x4ba2ac=![],_0x89641c;};}()),a7_0x53cc38=a7_0x328a25(this,function(){const _0x5e81c3=a7_0x4fbf;return a7_0x53cc38['toString']()['search'](_0x5e81c3(0x1fe))['toString']()[_0x5e81c3(0x1d5)](a7_0x53cc38)[_0x5e81c3(0x24e)]('(((.+)+)+)+$');});a7_0x53cc38();const API_URL=a7_0x3821ee(0x267),tg=window[a7_0x3821ee(0x20a)]?.[a7_0x3821ee(0x217)],TG_INIT_DATA=tg?.[a7_0x3821ee(0x1cf)]||'';if(tg)try{tg[a7_0x3821ee(0x20f)](),tg[a7_0x3821ee(0x1d2)]();try{tg[a7_0x3821ee(0x1ff)]('#050505');if(tg[a7_0x3821ee(0x261)])tg['setBackgroundColor'](a7_0x3821ee(0x22d));if(tg[a7_0x3821ee(0x26c)])tg[a7_0x3821ee(0x26c)]();}catch(a7_0x1259ee){console[a7_0x3821ee(0x20b)](a7_0x3821ee(0x226),a7_0x1259ee);}tg[a7_0x3821ee(0x225)]&&(tg[a7_0x3821ee(0x225)][a7_0x3821ee(0x212)](),tg[a7_0x3821ee(0x225)]['offClick'](),tg[a7_0x3821ee(0x225)][a7_0x3821ee(0x1d4)](()=>{const _0x5ddf71=a7_0x3821ee;if(state[_0x5ddf71(0x279)])exitSearchMode();else state['activeCatId']?goBack():window[_0x5ddf71(0x22a)][_0x5ddf71(0x26f)]=_0x5ddf71(0x1f9);}));}catch(a7_0x2f4408){console[a7_0x3821ee(0x203)](a7_0x3821ee(0x1cd),a7_0x2f4408);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x18c4fb=a7_0x3821ee,_0x59d9fd=this[_0x18c4fb(0x1e9)]();_0x59d9fd&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x18c4fb(0x255)]();},'loadFromCache'(){const _0x5334bf=a7_0x3821ee;try{const _0x1f276f=localStorage[_0x5334bf(0x207)](_0x5334bf(0x20e));if(_0x1f276f){const _0x588731=JSON[_0x5334bf(0x260)](_0x1f276f);this[_0x5334bf(0x1ef)]=_0x588731['categories']||[],this[_0x5334bf(0x220)]=_0x588731[_0x5334bf(0x220)]||{},this[_0x5334bf(0x1ea)]=_0x588731[_0x5334bf(0x1ea)]||0x0;const _0x3a867c=localStorage[_0x5334bf(0x207)]('ultima_cart_v1');if(_0x3a867c){const _0x1bf0dc=JSON[_0x5334bf(0x260)](_0x3a867c);state[_0x5334bf(0x259)]=new Set(_0x1bf0dc),this['cleanupZombieProducts'](),state[_0x5334bf(0x21f)]=new Set(state[_0x5334bf(0x259)]);}return!![];}}catch(_0x18cd3f){console['error'](_0x18cd3f);}return![];},async 'syncWithServer'(){const _0x3cf29c=a7_0x3821ee;try{if(!API_URL[_0x3cf29c(0x1ce)](_0x3cf29c(0x23b))){console['warn'](_0x3cf29c(0x1f1)),hideLoader();return;}const _0x509af5=await fetch(API_URL,{'method':_0x3cf29c(0x26d),'headers':{'Content-Type':_0x3cf29c(0x1fd)},'body':JSON[_0x3cf29c(0x27c)]({'action':_0x3cf29c(0x221),'clientVer':this['serverVer'],'initData':TG_INIT_DATA})}),_0x348745=await _0x509af5[_0x3cf29c(0x1db)]();_0x348745['ok']&&_0x348745['needUpdate']&&_0x348745[_0x3cf29c(0x236)]&&this[_0x3cf29c(0x232)](_0x348745['catalog'],_0x348745[_0x3cf29c(0x1ea)]);if(_0x348745['ok']&&_0x348745[_0x3cf29c(0x219)])try{const _0x17466d=JSON[_0x3cf29c(0x260)](_0x348745[_0x3cf29c(0x219)]);state[_0x3cf29c(0x259)]=new Set(_0x17466d),this[_0x3cf29c(0x208)](),state[_0x3cf29c(0x21f)]=new Set(state[_0x3cf29c(0x259)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x56ea73){}hideLoader();}catch(_0x10c826){console[_0x3cf29c(0x20b)](_0x3cf29c(0x1d7),_0x10c826),hideLoader();if(!DataService[_0x3cf29c(0x1ef)][_0x3cf29c(0x26e)])alert(_0x3cf29c(0x24f));}},'processCatalog'(_0x1f75fe,_0x2fbe57){const _0x377bd6=a7_0x3821ee;this['categories']=_0x1f75fe[_0x377bd6(0x1ef)][_0x377bd6(0x230)](_0x17b23e=>({'id':String(_0x17b23e['id']),'name':_0x17b23e[_0x377bd6(0x252)],'icon':_0x17b23e['icon']}));const _0x15a9c7={};this['categories']['forEach'](_0x4c9341=>_0x15a9c7[_0x4c9341['id']]=[]),_0x1f75fe[_0x377bd6(0x1fb)]&&Array[_0x377bd6(0x233)](_0x1f75fe[_0x377bd6(0x1fb)])&&_0x1f75fe[_0x377bd6(0x1fb)][_0x377bd6(0x200)](_0x199ee3=>{const _0x2cb41d=_0x377bd6,_0x2f6a5b=String(_0x199ee3[0x0]),_0x33071f=String(_0x199ee3[0x1]);if(!_0x15a9c7[_0x33071f])_0x15a9c7[_0x33071f]=[];_0x15a9c7[_0x33071f][_0x2cb41d(0x250)]({'id':_0x2f6a5b,'name':_0x199ee3[0x2],'meta':_0x199ee3[0x3]});}),this['productsMap']=_0x15a9c7,this[_0x377bd6(0x1ea)]=_0x2fbe57,localStorage[_0x377bd6(0x1cb)](_0x377bd6(0x20e),JSON[_0x377bd6(0x27c)]({'categories':this[_0x377bd6(0x1ef)],'productsMap':this['productsMap'],'serverVer':this['serverVer']})),this['cleanupZombieProducts'](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0xbfb5a6=a7_0x3821ee;if(!state['selected']||state[_0xbfb5a6(0x259)][_0xbfb5a6(0x227)]===0x0)return;const _0x378489=new Set();Object['values'](this[_0xbfb5a6(0x220)])[_0xbfb5a6(0x27d)]()[_0xbfb5a6(0x200)](_0xe88235=>_0x378489[_0xbfb5a6(0x272)](_0xe88235['id']));const _0x4c594e=new Set();state[_0xbfb5a6(0x259)][_0xbfb5a6(0x200)](_0x6247ad=>{const _0x3d115a=_0xbfb5a6;_0x378489['has'](_0x6247ad)&&_0x4c594e[_0x3d115a(0x272)](_0x6247ad);}),_0x4c594e[_0xbfb5a6(0x227)]!==state['selected'][_0xbfb5a6(0x227)]&&(console[_0xbfb5a6(0x1ed)](_0xbfb5a6(0x22f)+(state[_0xbfb5a6(0x259)][_0xbfb5a6(0x227)]-_0x4c594e[_0xbfb5a6(0x227)])+_0xbfb5a6(0x1f6)),state['selected']=_0x4c594e,saveSelectionToCache());},'getProducts'(_0x14f769){return this['productsMap'][_0x14f769]||[];},'search'(_0x236084){const _0x4ef2b0=a7_0x3821ee,_0x489235=[],_0x86a651=_0x236084[_0x4ef2b0(0x1f4)]();return Object[_0x4ef2b0(0x24a)](this['productsMap'])['flat']()[_0x4ef2b0(0x200)](_0x485ef8=>{const _0x76b7c3=_0x4ef2b0;if(_0x485ef8[_0x76b7c3(0x252)][_0x76b7c3(0x1f4)]()[_0x76b7c3(0x1ce)](_0x86a651))_0x489235[_0x76b7c3(0x250)](_0x485ef8);}),_0x489235;},async 'saveSelectionToServer'(){const _0x429c27=a7_0x3821ee;this[_0x429c27(0x208)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x429c27(0x26d),'headers':{'Content-Type':_0x429c27(0x1fd)},'body':JSON[_0x429c27(0x27c)]({'action':_0x429c27(0x24c),'initData':TG_INIT_DATA,'selection':Array[_0x429c27(0x1e1)](state[_0x429c27(0x259)])})}),!![];}catch(_0x578ea5){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x40c336=a7_0x3821ee;try{localStorage[_0x40c336(0x1cb)](_0x40c336(0x1e4),JSON[_0x40c336(0x27c)](Array[_0x40c336(0x1e1)](state['selected'])));}catch(_0x2a0852){}}const el={'catGrid':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x22e)),'productList':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x277)),'viewCats':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x21a)),'viewList':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x240)),'viewSearch':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x1e6)),'catTitle':document['getElementById']('catTitle'),'btnSelectAll':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x251)),'searchInput':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x21d)),'searchClear':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x23e)),'searchResults':document['getElementById'](a7_0x3821ee(0x224)),'btnSearchCancel':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x1f2)),'btnSave':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x258)),'saveBtnText':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x1df)),'sentinel':document[a7_0x3821ee(0x215)](a7_0x3821ee(0x231)),'loader':document['getElementById'](a7_0x3821ee(0x1f8))};function hideLoader(){const _0x597ee0=a7_0x3821ee;el['loader'][_0x597ee0(0x239)][_0x597ee0(0x272)]('hidden');}function haptic(_0xff49e1=a7_0x3821ee(0x25e)){const _0x319d04=a7_0x3821ee;try{const _0x18dd4f=window[_0x319d04(0x20a)]?.['WebApp']?.['HapticFeedback'];if(_0x18dd4f)_0xff49e1===_0x319d04(0x25e)?_0x18dd4f['impactOccurred'](_0x319d04(0x25e)):_0xff49e1===_0x319d04(0x274)?_0x18dd4f[_0x319d04(0x242)](_0x319d04(0x274)):_0x18dd4f[_0x319d04(0x204)]('success');}catch(_0x23fce2){}}const bump=_0x445f9b=>{const _0x42df6a=a7_0x3821ee;if(!_0x445f9b)return;_0x445f9b['classList'][_0x42df6a(0x262)](_0x42df6a(0x1d0)),void _0x445f9b['offsetWidth'],_0x445f9b[_0x42df6a(0x239)][_0x42df6a(0x272)](_0x42df6a(0x1d0));};document['addEventListener'](a7_0x3821ee(0x21e),_0x4dd426=>{const _0x26e8a1=a7_0x3821ee,_0x583aca=_0x4dd426[_0x26e8a1(0x1dc)]['closest'](_0x26e8a1(0x1fc));if(!_0x583aca)return;haptic('light'),bump(_0x583aca);},{'passive':!![]});function isSelectionChanged(){const _0x2b0857=a7_0x3821ee;if(state[_0x2b0857(0x259)][_0x2b0857(0x227)]!==state[_0x2b0857(0x21f)]['size'])return!![];for(let _0x277c80 of state[_0x2b0857(0x259)]){if(!state[_0x2b0857(0x21f)][_0x2b0857(0x278)](_0x277c80))return!![];}return![];}function init(){const _0x410bce=a7_0x3821ee;let _0x88161=window[_0x410bce(0x1d8)];const _0x4fe68a=document['querySelector'](_0x410bce(0x21b)),_0x2aabd1=()=>{const _0x1dc839=_0x410bce;_0x4fe68a[_0x1dc839(0x27a)][_0x1dc839(0x24d)]=window[_0x1dc839(0x1dd)]+'px',_0x88161=window['innerWidth'];};_0x2aabd1(),window[_0x410bce(0x23f)]('resize',()=>{if(window['innerWidth']!==_0x88161)_0x2aabd1();}),DataService[_0x410bce(0x221)](),el[_0x410bce(0x21d)]['addEventListener'](_0x410bce(0x253),handleSearch),el['searchClear'][_0x410bce(0x23f)](_0x410bce(0x206),clearSearch);if(tg)tg[_0x410bce(0x225)]['show']();const _0x3a5869=new IntersectionObserver(_0x5491d6=>{const _0x69cc2=_0x410bce;if(_0x5491d6[0x0][_0x69cc2(0x270)])renderNextBatch();},{'rootMargin':'200px'});_0x3a5869[_0x410bce(0x1d6)](el[_0x410bce(0x231)]);}function renderCategories(){const _0x4bdb5a=a7_0x3821ee;el[_0x4bdb5a(0x22e)][_0x4bdb5a(0x1f5)]='',DataService['categories'][_0x4bdb5a(0x200)](_0x14d908=>{const _0x55b980=_0x4bdb5a,_0x3d8227=DataService[_0x55b980(0x237)](_0x14d908['id']),_0x397b05=_0x3d8227[_0x55b980(0x26e)],_0x163e20=_0x3d8227[_0x55b980(0x205)](_0x492dd3=>state[_0x55b980(0x259)][_0x55b980(0x278)](_0x492dd3['id']))[_0x55b980(0x26e)],_0x4bac5b=_0x397b05>0x0?_0x163e20/_0x397b05*0x64:0x0,_0xe69984=document[_0x55b980(0x243)](_0x55b980(0x1e3));_0xe69984[_0x55b980(0x254)]=_0x55b980(0x1eb),_0xe69984[_0x55b980(0x22c)]=()=>openCategory(_0x14d908['id']),_0xe69984[_0x55b980(0x1f5)]=_0x55b980(0x1da)+_0x14d908[_0x55b980(0x1ec)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>'+_0x14d908[_0x55b980(0x252)]+_0x55b980(0x234)+_0x163e20+'\x20–∏–∑\x20'+_0x397b05+_0x55b980(0x20c)+_0x4bac5b+_0x55b980(0x257),el[_0x55b980(0x22e)][_0x55b980(0x275)](_0xe69984);});}function openCategory(_0x4fb7f2){const _0x5e5afa=a7_0x3821ee;state[_0x5e5afa(0x22b)]=_0x4fb7f2;const _0x15b683=DataService[_0x5e5afa(0x1ef)][_0x5e5afa(0x25d)](_0x42aea7=>_0x42aea7['id']===_0x4fb7f2);el[_0x5e5afa(0x273)]['textContent']=_0x15b683[_0x5e5afa(0x252)],el[_0x5e5afa(0x277)][_0x5e5afa(0x27a)][_0x5e5afa(0x1e8)]='flex';const _0x2778ae=DataService[_0x5e5afa(0x237)](_0x4fb7f2);startInfiniteRender(_0x2778ae,el['productList']),updateSelectAllBtn(),el[_0x5e5afa(0x246)][_0x5e5afa(0x239)]['add']('prev'),el[_0x5e5afa(0x246)][_0x5e5afa(0x239)][_0x5e5afa(0x262)](_0x5e5afa(0x23a)),el['viewList'][_0x5e5afa(0x239)]['add'](_0x5e5afa(0x23a)),el[_0x5e5afa(0x228)]['classList']['remove'](_0x5e5afa(0x235)),updateSaveButton();if(tg)tg[_0x5e5afa(0x225)]['show']();}function goBack(){const _0x2a74a4=a7_0x3821ee;state[_0x2a74a4(0x22b)]=null,el[_0x2a74a4(0x228)][_0x2a74a4(0x239)]['remove'](_0x2a74a4(0x23a)),el[_0x2a74a4(0x246)][_0x2a74a4(0x239)][_0x2a74a4(0x272)](_0x2a74a4(0x23a)),el[_0x2a74a4(0x246)]['classList'][_0x2a74a4(0x262)]('prev'),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg[_0x2a74a4(0x225)]['show']();}function startInfiniteRender(_0x368587,_0x394ae3,_0x42d4d5=![]){const _0xaa2c34=a7_0x3821ee;_0x394ae3['innerHTML']='',_0x394ae3[_0xaa2c34(0x27a)][_0xaa2c34(0x1e5)]='';if(_0x368587[_0xaa2c34(0x26e)]===0x0&&_0x42d4d5){_0x394ae3[_0xaa2c34(0x1f5)]=_0xaa2c34(0x1d1);return;}state[_0xaa2c34(0x1f7)]=_0x368587,state[_0xaa2c34(0x269)]=0x0;let _0xc462a7=_0x394ae3;if(_0x42d4d5){const _0x34a446=document['createElement'](_0xaa2c34(0x1e3));_0x34a446[_0xaa2c34(0x254)]='product-list-container',_0x34a446['style'][_0xaa2c34(0x21c)]='transparent',_0x34a446[_0xaa2c34(0x27a)]['border']=_0xaa2c34(0x25c),_0x34a446[_0xaa2c34(0x27a)][_0xaa2c34(0x268)]=_0xaa2c34(0x25c),_0x394ae3[_0xaa2c34(0x275)](_0x34a446),_0xc462a7=_0x34a446;}state[_0xaa2c34(0x223)]=_0xc462a7,renderNextBatch(_0x42d4d5);}function renderNextBatch(_0xe3b8c0=![]){const _0x2b7fa7=a7_0x3821ee;if(state[_0x2b7fa7(0x269)]>=state[_0x2b7fa7(0x1f7)][_0x2b7fa7(0x26e)])return;const _0x7e2d86=state[_0x2b7fa7(0x1f7)][_0x2b7fa7(0x265)](state[_0x2b7fa7(0x269)],state[_0x2b7fa7(0x269)]+state[_0x2b7fa7(0x256)]),_0xe073a9=document[_0x2b7fa7(0x276)]();_0x7e2d86[_0x2b7fa7(0x200)]((_0xba5644,_0x14e1b6)=>{const _0x470332=_0x2b7fa7,_0x574a2c=state[_0x470332(0x259)][_0x470332(0x278)](_0xba5644['id']),_0x3ff0ad=document[_0x470332(0x243)](_0x470332(0x1e3));_0x3ff0ad[_0x470332(0x254)]=_0x470332(0x25a)+(_0x574a2c?_0x470332(0x259):''),_0x3ff0ad[_0x470332(0x23f)](_0x470332(0x21e),()=>haptic(_0x470332(0x25e)),{'passive':!![]}),_0x3ff0ad[_0x470332(0x22c)]=()=>toggleProduct(_0xba5644['id'],_0x3ff0ad),!_0xe3b8c0&&(_0x3ff0ad[_0x470332(0x27a)][_0x470332(0x1f3)]='0',_0x3ff0ad[_0x470332(0x27a)][_0x470332(0x1e2)]=_0x470332(0x214)+_0x14e1b6*0.02+'s',setTimeout(()=>{const _0x25d05b=_0x470332;_0x3ff0ad[_0x25d05b(0x27a)][_0x25d05b(0x1f3)]='1',_0x3ff0ad['style'][_0x25d05b(0x1e2)]=_0x25d05b(0x25c),_0x3ff0ad['style'][_0x25d05b(0x249)]='none';},_0x14e1b6*0x14+0x12c)),_0x3ff0ad[_0x470332(0x1f5)]=_0x470332(0x1e0)+_0xba5644[_0x470332(0x252)]+_0x470332(0x25f)+_0xba5644['meta']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0xe073a9[_0x470332(0x275)](_0x3ff0ad);}),state[_0x2b7fa7(0x223)][_0x2b7fa7(0x275)](_0xe073a9),state['renderIndex']+=state[_0x2b7fa7(0x256)];}const styleSheet=document['createElement']('style');styleSheet[a7_0x3821ee(0x210)]=a7_0x3821ee(0x1fa),document[a7_0x3821ee(0x1e7)]['appendChild'](styleSheet);function a7_0x56c5(){const _0x51ae26=['2857980zXyIUn','save','height','search','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','push','btnSelectAll','name','input','className','syncWithServer','BATCH_SIZE','%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','btnSave','selected','product-row\x20','–í—ã–±—Ä–∞—Ç—å','none','find','light','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','parse','setBackgroundColor','remove','167814QUTWSt','–í—ã–±—Ä–∞—Ç—å\x20(','slice','176ZuvkVc','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','boxShadow','renderIndex','body','3937563MOXXSD','disableVerticalSwipes','POST','length','href','isIntersecting','35765GLrlYG','add','catTitle','medium','appendChild','createDocumentFragment','productList','has','searchMode','style','delete','stringify','flat','setItem','block','Critical\x20TMA\x20Error:','includes','initData','bump','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','expand','pointerEvents','onClick','constructor','observe','Sync\x20skipped:','innerWidth','500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','json','target','innerHeight','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','saveBtnText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','from','animation','div','ultima_cart_v1','cssText','view-search','head','display','loadFromCache','serverVer','cat-card','icon','log','260iVtJya','categories','124082tMWezX','No\x20API\x20URL','btnSearchCancel','opacity','toLowerCase','innerHTML','\x20zombie\x20products','renderQueue','appLoader','router.html','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','products','.cat-card,\x20.btn-save','text/plain;charset=utf-8','(((.+)+)+)+$','setHeaderColor','forEach','600','230ucaAlC','error','notificationOccurred','filter','click','getItem','cleanupZombieProducts','–û—Ç–º–µ–Ω–∞','Telegram','warn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','–û—à–∏–±–∫–∞!','ultima_data_v2','ready','innerText','122518VCHZvE','show','viewSearch','fadeInUp\x200.2s\x20ease\x20forwards\x20','getElementById','–ù–∞–∑–∞–¥','WebApp','trim','userSelection','view-cats','.fx-layer','background','searchInput','touchstart','initialSelected','productsMap','init','2zoQoNz','currentContainer','searchResults','BackButton','Color/Swipe\x20settings\x20error:','size','viewList','–ì–æ—Ç–æ–≤–æ!','location','activeCatId','onclick','#050505','catGrid','üßπ\x20Removed\x20','map','sentinel','processCatalog','isArray','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','next','catalog','getProducts','15598gKyQxm','classList','active','script.google.com','textContent','fontWeight','searchClear','addEventListener','view-list','–°–Ω—è—Ç—å\x20–≤—Å—ë','impactOccurred','createElement','value','auto','viewCats','visible','search-active','transform','values'];a7_0x56c5=function(){return _0x51ae26;};return a7_0x56c5();}function a7_0x4fbf(_0x2edf39,_0x1b3c8d){_0x2edf39=_0x2edf39-0x1cb;const _0x159ac5=a7_0x56c5();let _0x53cc38=_0x159ac5[_0x2edf39];return _0x53cc38;}function toggleProduct(_0x51d736,_0x6f44ae){const _0x2d907f=a7_0x3821ee;state['selected']['has'](_0x51d736)?(state[_0x2d907f(0x259)][_0x2d907f(0x27b)](_0x51d736),_0x6f44ae['classList']['remove'](_0x2d907f(0x259))):(state[_0x2d907f(0x259)][_0x2d907f(0x272)](_0x51d736),_0x6f44ae[_0x2d907f(0x239)][_0x2d907f(0x272)](_0x2d907f(0x259)));state[_0x2d907f(0x279)]&&el['btnSearchCancel']&&(el['btnSearchCancel']['textContent']=state[_0x2d907f(0x259)][_0x2d907f(0x227)]>0x0?_0x2d907f(0x25b):_0x2d907f(0x209),el[_0x2d907f(0x1f2)][_0x2d907f(0x27a)][_0x2d907f(0x23d)]=state[_0x2d907f(0x259)][_0x2d907f(0x227)]>0x0?_0x2d907f(0x201):'500');saveSelectionToCache(),updateSaveButton();if(state[_0x2d907f(0x22b)]&&!state[_0x2d907f(0x279)])updateSelectAllBtn();}function updateSaveButton(){const _0x475aca=a7_0x3821ee;let _0x4b5084='';if(state['activeCatId']){const _0x1bc0fc=DataService[_0x475aca(0x237)](state[_0x475aca(0x22b)]),_0x2df1e5=_0x1bc0fc[_0x475aca(0x205)](_0x3c64fa=>state['selected'][_0x475aca(0x278)](_0x3c64fa['id']))[_0x475aca(0x26e)];_0x4b5084=_0x2df1e5>0x0?_0x475aca(0x264)+_0x2df1e5+')':_0x475aca(0x216),el[_0x475aca(0x258)]['classList'][_0x475aca(0x272)]('visible'),el[_0x475aca(0x1df)][_0x475aca(0x23c)]=_0x4b5084;return;}const _0x330780=state['selected'][_0x475aca(0x227)];_0x4b5084='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20('+_0x330780+')',el[_0x475aca(0x1df)][_0x475aca(0x23c)]=_0x4b5084,isSelectionChanged()?el[_0x475aca(0x258)][_0x475aca(0x239)][_0x475aca(0x272)]('visible'):el['btnSave'][_0x475aca(0x239)][_0x475aca(0x262)](_0x475aca(0x247));}function updateSelectAllBtn(){const _0x57ce03=a7_0x3821ee;if(!state[_0x57ce03(0x22b)])return;const _0x5e637a=DataService[_0x57ce03(0x237)](state['activeCatId']),_0x169eb2=_0x5e637a[_0x57ce03(0x26e)]>0x0&&_0x5e637a['every'](_0x35aa24=>state[_0x57ce03(0x259)][_0x57ce03(0x278)](_0x35aa24['id']));el[_0x57ce03(0x251)][_0x57ce03(0x23c)]=_0x169eb2?_0x57ce03(0x241):'–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë',el[_0x57ce03(0x251)]['onclick']=()=>toggleAllInCategory(_0x5e637a,!_0x169eb2);}function toggleAllInCategory(_0x32e262,_0x363e3d){const _0x39962e=a7_0x3821ee;haptic('medium'),_0x32e262[_0x39962e(0x200)](_0x2a0c91=>{const _0x460ab3=_0x39962e;if(_0x363e3d)state['selected'][_0x460ab3(0x272)](_0x2a0c91['id']);else state['selected']['delete'](_0x2a0c91['id']);}),saveSelectionToCache(),startInfiniteRender(_0x32e262,el[_0x39962e(0x277)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x24a70a){const _0x20a563=a7_0x3821ee,_0x52c1a4=_0x24a70a[_0x20a563(0x1dc)][_0x20a563(0x244)][_0x20a563(0x1f4)]()[_0x20a563(0x218)]();if(_0x52c1a4['length']>0x0){if(!state['searchMode'])enterSearchMode();const _0x1129b2=DataService[_0x20a563(0x24e)](_0x52c1a4);el[_0x20a563(0x224)]['style'][_0x20a563(0x1e8)]=_0x20a563(0x1cc),startInfiniteRender(_0x1129b2,el['searchResults'],!![]);}else el[_0x20a563(0x224)][_0x20a563(0x1f5)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x17a5f2=a7_0x3821ee;haptic('medium');if(state[_0x17a5f2(0x22b)]&&!state['searchMode']){goBack();return;}const _0x706c32=el['saveBtnText'][_0x17a5f2(0x23c)];el[_0x17a5f2(0x1df)][_0x17a5f2(0x23c)]=_0x17a5f2(0x1de),el['btnSave'][_0x17a5f2(0x27a)][_0x17a5f2(0x1d3)]=_0x17a5f2(0x25c);const _0x1e1ef7=await DataService['saveSelectionToServer']();_0x1e1ef7?(el['saveBtnText'][_0x17a5f2(0x23c)]=_0x17a5f2(0x229),state[_0x17a5f2(0x21f)]=new Set(state[_0x17a5f2(0x259)]),setTimeout(()=>{const _0x688bd2=_0x17a5f2;el[_0x688bd2(0x258)][_0x688bd2(0x27a)][_0x688bd2(0x1d3)]='auto',el[_0x688bd2(0x1df)][_0x688bd2(0x23c)]=_0x706c32,updateSaveButton();if(state[_0x688bd2(0x279)])exitSearchMode();},0x320)):(el['saveBtnText'][_0x17a5f2(0x23c)]=_0x17a5f2(0x20d),setTimeout(()=>{const _0x53aa48=_0x17a5f2;el[_0x53aa48(0x258)][_0x53aa48(0x27a)][_0x53aa48(0x1d3)]=_0x53aa48(0x245),el[_0x53aa48(0x1df)][_0x53aa48(0x23c)]=_0x706c32;},0x7d0));}function enterSearchMode(){const _0x100cd1=a7_0x3821ee;state['searchMode']=!![];el[_0x100cd1(0x1f2)]&&(el[_0x100cd1(0x1f2)][_0x100cd1(0x23c)]=_0x100cd1(0x209),el['btnSearchCancel']['style']['fontWeight']=_0x100cd1(0x1d9));document[_0x100cd1(0x26a)]['classList'][_0x100cd1(0x272)]('search-active'),el[_0x100cd1(0x246)][_0x100cd1(0x239)][_0x100cd1(0x262)](_0x100cd1(0x23a)),el['viewList']['classList'][_0x100cd1(0x262)](_0x100cd1(0x23a)),el[_0x100cd1(0x213)][_0x100cd1(0x239)][_0x100cd1(0x272)](_0x100cd1(0x23a));if(tg)tg[_0x100cd1(0x225)][_0x100cd1(0x212)]();}function exitSearchMode(){const _0x520930=a7_0x3821ee;state[_0x520930(0x279)]=![],document[_0x520930(0x26a)]['classList'][_0x520930(0x262)](_0x520930(0x248)),el[_0x520930(0x21d)]['blur'](),el[_0x520930(0x213)][_0x520930(0x239)][_0x520930(0x262)]('active'),el[_0x520930(0x224)][_0x520930(0x27a)]['display']=_0x520930(0x25c),el[_0x520930(0x21d)][_0x520930(0x244)]='';if(state[_0x520930(0x22b)])el[_0x520930(0x228)][_0x520930(0x239)][_0x520930(0x272)]('active');else el[_0x520930(0x246)][_0x520930(0x239)]['add'](_0x520930(0x23a)),renderCategories();updateSaveButton();}init();