const a7_0x5b2d77=a7_0x3e7f;(function(_0x3d5a9b,_0x242cb2){const _0x137a85=a7_0x3e7f,_0x3caa46=_0x3d5a9b();while(!![]){try{const _0x5832d2=-parseInt(_0x137a85(0x1bb))/0x1*(parseInt(_0x137a85(0x15d))/0x2)+-parseInt(_0x137a85(0x19e))/0x3*(-parseInt(_0x137a85(0x1a0))/0x4)+-parseInt(_0x137a85(0x179))/0x5*(-parseInt(_0x137a85(0x14d))/0x6)+-parseInt(_0x137a85(0x165))/0x7*(parseInt(_0x137a85(0x13e))/0x8)+parseInt(_0x137a85(0x140))/0x9*(parseInt(_0x137a85(0x1c5))/0xa)+-parseInt(_0x137a85(0x181))/0xb*(parseInt(_0x137a85(0x1eb))/0xc)+parseInt(_0x137a85(0x1e2))/0xd;if(_0x5832d2===_0x242cb2)break;else _0x3caa46['push'](_0x3caa46['shift']());}catch(_0x1f2c17){_0x3caa46['push'](_0x3caa46['shift']());}}}(a7_0x4008,0xf357f));function a7_0x4008(){const _0x3285b7=['searchInput','observe','bump','products','Color/Swipe\x20settings\x20error:','forEach','loadFromCache','80vItsQz','catalog','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','toLowerCase','visible','remove','closest','flat','fadeInUp\x200.2s\x20ease\x20forwards\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>','size','view-search','offsetWidth','üßπ\x20Removed\x20','opacity','active','offClick','flex','name','json','div','impactOccurred','activeCatId','viewSearch','next','style','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','parse','blur','26770783NeEBaf','transparent','saveBtnText','boxShadow','ready','.fx-layer','–û—à–∏–±–∫–∞!','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','renderIndex','15979884NrNHgr','none','success','getElementById','HapticFeedback','has','classList','catTitle','includes','16DkWafb','isIntersecting','1821546wmNkwt','pointerEvents','product-row\x20','innerHTML','values','toString','head','notificationOccurred','sentinel','transform','querySelector','Sync\x20skipped:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','126jBbDId','productList','searchClear','btnSelectAll','length','warn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','router.html','initData','animation','BATCH_SIZE','#050505','apply','block','textContent','innerHeight','2qvThpU','createElement','appLoader','onclick','selected','medium','height','getItem','6282395CzUYko','save','onClick','loader','add','display','–û—Ç–º–µ–Ω–∞','setItem','stringify','–í—ã–±—Ä–∞—Ç—å\x20(','.cat-card,\x20.btn-save','appendChild','createDocumentFragment','input','500','initialSelected','map','getProducts','600','light','81940iwPkbk','touchstart','saveSelectionToServer','ultima_cart_v1','searchMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','categories','isArray','11yNsPVh','error','value','needUpdate','renderQueue','trim','setBackgroundColor','filter','serverVer','show','view-cats','btnSave','viewCats','text/plain;charset=utf-8','ultima_data_v2','cssText','POST','cat-card','searchResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','setHeaderColor','constructor','–í—ã–±—Ä–∞—Ç—å','search','cleanupZombieProducts','script.google.com','BackButton','prev','(((.+)+)+)+$','15HCtSdX','\x20–∏–∑\x20','1123684FiLbFO','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','productsMap','auto','background','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','push','innerWidth','viewList','icon','userSelection','target','currentContainer','className','search-active','body','Critical\x20TMA\x20Error:','addEventListener','–°–Ω—è—Ç—å\x20–≤—Å—ë','href','disableVerticalSwipes','meta','Telegram','catGrid','fontWeight','log','slice','1303834SnVYew','every','btnSearchCancel'];a7_0x4008=function(){return _0x3285b7;};return a7_0x4008();}const a7_0x4e90a5=(function(){let _0x4fda8b=!![];return function(_0x4042f4,_0x3098f7){const _0x1fb9dd=_0x4fda8b?function(){const _0x1c5d12=a7_0x3e7f;if(_0x3098f7){const _0x20ba3e=_0x3098f7[_0x1c5d12(0x159)](_0x4042f4,arguments);return _0x3098f7=null,_0x20ba3e;}}:function(){};return _0x4fda8b=![],_0x1fb9dd;};}()),a7_0x2c0b9b=a7_0x4e90a5(this,function(){const _0x51ecce=a7_0x3e7f;return a7_0x2c0b9b[_0x51ecce(0x145)]()['search'](_0x51ecce(0x19d))['toString']()[_0x51ecce(0x196)](a7_0x2c0b9b)[_0x51ecce(0x198)](_0x51ecce(0x19d));});a7_0x2c0b9b();const API_URL=a7_0x5b2d77(0x1df),tg=window[a7_0x5b2d77(0x1b6)]?.['WebApp'],TG_INIT_DATA=tg?.[a7_0x5b2d77(0x155)]||'';if(tg)try{tg[a7_0x5b2d77(0x1e6)](),tg['expand']();try{tg[a7_0x5b2d77(0x195)](a7_0x5b2d77(0x158));if(tg[a7_0x5b2d77(0x187)])tg[a7_0x5b2d77(0x187)](a7_0x5b2d77(0x158));if(tg[a7_0x5b2d77(0x1b4)])tg[a7_0x5b2d77(0x1b4)]();}catch(a7_0x1ded91){console[a7_0x5b2d77(0x152)](a7_0x5b2d77(0x1c2),a7_0x1ded91);}tg[a7_0x5b2d77(0x19b)]&&(tg[a7_0x5b2d77(0x19b)][a7_0x5b2d77(0x18a)](),tg[a7_0x5b2d77(0x19b)][a7_0x5b2d77(0x1d5)](),tg['BackButton'][a7_0x5b2d77(0x167)](()=>{const _0x352198=a7_0x5b2d77;if(state[_0x352198(0x17d)])exitSearchMode();else state[_0x352198(0x1db)]?goBack():window['location'][_0x352198(0x1b3)]=_0x352198(0x154);}));}catch(a7_0x1de10a){console[a7_0x5b2d77(0x182)](a7_0x5b2d77(0x1b0),a7_0x1de10a);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x12506d=a7_0x5b2d77,_0x354b3b=this[_0x12506d(0x1c4)]();_0x354b3b&&(renderCategories(),hideLoader()),updateSaveButton(),await this['syncWithServer']();},'loadFromCache'(){const _0x161301=a7_0x5b2d77;try{const _0x283884=localStorage[_0x161301(0x164)](_0x161301(0x18f));if(_0x283884){const _0x25e394=JSON[_0x161301(0x1e0)](_0x283884);this[_0x161301(0x17f)]=_0x25e394[_0x161301(0x17f)]||[],this[_0x161301(0x1a2)]=_0x25e394[_0x161301(0x1a2)]||{},this['serverVer']=_0x25e394[_0x161301(0x189)]||0x0;const _0x477eec=localStorage[_0x161301(0x164)](_0x161301(0x17c));if(_0x477eec){const _0x287686=JSON[_0x161301(0x1e0)](_0x477eec);state[_0x161301(0x161)]=new Set(_0x287686),this[_0x161301(0x199)](),state[_0x161301(0x174)]=new Set(state['selected']);}return!![];}}catch(_0x8b991d){console['error'](_0x8b991d);}return![];},async 'syncWithServer'(){const _0x5ba0c3=a7_0x5b2d77;try{if(!API_URL[_0x5ba0c3(0x13d)](_0x5ba0c3(0x19a))){console[_0x5ba0c3(0x152)]('No\x20API\x20URL'),hideLoader();return;}const _0x18303a=await fetch(API_URL,{'method':_0x5ba0c3(0x191),'headers':{'Content-Type':_0x5ba0c3(0x18e)},'body':JSON[_0x5ba0c3(0x16d)]({'action':'init','clientVer':this['serverVer'],'initData':TG_INIT_DATA})}),_0x7012a8=await _0x18303a[_0x5ba0c3(0x1d8)]();_0x7012a8['ok']&&_0x7012a8[_0x5ba0c3(0x184)]&&_0x7012a8[_0x5ba0c3(0x1c6)]&&this['processCatalog'](_0x7012a8[_0x5ba0c3(0x1c6)],_0x7012a8[_0x5ba0c3(0x189)]);if(_0x7012a8['ok']&&_0x7012a8[_0x5ba0c3(0x1aa)])try{const _0x17556f=JSON[_0x5ba0c3(0x1e0)](_0x7012a8[_0x5ba0c3(0x1aa)]);state['selected']=new Set(_0x17556f),this['cleanupZombieProducts'](),state[_0x5ba0c3(0x174)]=new Set(state[_0x5ba0c3(0x161)]),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0x4cbf66){}hideLoader();}catch(_0x5f2740){console['warn'](_0x5ba0c3(0x14b),_0x5f2740),hideLoader();if(!DataService['categories']['length'])alert(_0x5ba0c3(0x1a1));}},'processCatalog'(_0x1bd547,_0xb0390b){const _0x567525=a7_0x5b2d77;this[_0x567525(0x17f)]=_0x1bd547['categories'][_0x567525(0x175)](_0x16a9ab=>({'id':String(_0x16a9ab['id']),'name':_0x16a9ab['name'],'icon':_0x16a9ab[_0x567525(0x1a9)]}));const _0x24d1c7={};this['categories']['forEach'](_0x1ba9c4=>_0x24d1c7[_0x1ba9c4['id']]=[]),_0x1bd547['products']&&Array[_0x567525(0x180)](_0x1bd547[_0x567525(0x1c1)])&&_0x1bd547[_0x567525(0x1c1)][_0x567525(0x1c3)](_0x3fda5d=>{const _0x5c8d83=_0x567525,_0x52a6cc=String(_0x3fda5d[0x0]),_0x4e6c3a=String(_0x3fda5d[0x1]);if(!_0x24d1c7[_0x4e6c3a])_0x24d1c7[_0x4e6c3a]=[];_0x24d1c7[_0x4e6c3a][_0x5c8d83(0x1a6)]({'id':_0x52a6cc,'name':_0x3fda5d[0x2],'meta':_0x3fda5d[0x3]});}),this['productsMap']=_0x24d1c7,this[_0x567525(0x189)]=_0xb0390b,localStorage['setItem'](_0x567525(0x18f),JSON['stringify']({'categories':this['categories'],'productsMap':this[_0x567525(0x1a2)],'serverVer':this[_0x567525(0x189)]})),this[_0x567525(0x199)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x5c01cb=a7_0x5b2d77;if(!state['selected']||state[_0x5c01cb(0x161)][_0x5c01cb(0x1cf)]===0x0)return;const _0xc62c48=new Set();Object[_0x5c01cb(0x144)](this[_0x5c01cb(0x1a2)])[_0x5c01cb(0x1cc)]()[_0x5c01cb(0x1c3)](_0x59223b=>_0xc62c48[_0x5c01cb(0x169)](_0x59223b['id']));const _0x26969b=new Set();state[_0x5c01cb(0x161)][_0x5c01cb(0x1c3)](_0x468883=>{const _0x605a6b=_0x5c01cb;_0xc62c48[_0x605a6b(0x13a)](_0x468883)&&_0x26969b[_0x605a6b(0x169)](_0x468883);}),_0x26969b[_0x5c01cb(0x1cf)]!==state[_0x5c01cb(0x161)][_0x5c01cb(0x1cf)]&&(console[_0x5c01cb(0x1b9)](_0x5c01cb(0x1d2)+(state[_0x5c01cb(0x161)][_0x5c01cb(0x1cf)]-_0x26969b['size'])+'\x20zombie\x20products'),state['selected']=_0x26969b,saveSelectionToCache());},'getProducts'(_0x38260a){const _0x56cbd0=a7_0x5b2d77;return this[_0x56cbd0(0x1a2)][_0x38260a]||[];},'search'(_0x1921e6){const _0x15bf14=a7_0x5b2d77,_0x2adb54=[],_0x48c4bc=_0x1921e6[_0x15bf14(0x1c8)]();return Object['values'](this['productsMap'])['flat']()[_0x15bf14(0x1c3)](_0x1db6a8=>{const _0x22e62e=_0x15bf14;if(_0x1db6a8[_0x22e62e(0x1d7)]['toLowerCase']()['includes'](_0x48c4bc))_0x2adb54[_0x22e62e(0x1a6)](_0x1db6a8);}),_0x2adb54;},async 'saveSelectionToServer'(){const _0x24ecf1=a7_0x5b2d77;this[_0x24ecf1(0x199)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x24ecf1(0x191),'headers':{'Content-Type':'text/plain;charset=utf-8'},'body':JSON[_0x24ecf1(0x16d)]({'action':_0x24ecf1(0x166),'initData':TG_INIT_DATA,'selection':Array['from'](state[_0x24ecf1(0x161)])})}),!![];}catch(_0x442fe3){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x4768da=a7_0x5b2d77;try{localStorage[_0x4768da(0x16c)](_0x4768da(0x17c),JSON[_0x4768da(0x16d)](Array['from'](state[_0x4768da(0x161)])));}catch(_0x1159b7){}}const el={'catGrid':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x1b7)),'productList':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x14e)),'viewCats':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x18b)),'viewList':document[a7_0x5b2d77(0x138)]('view-list'),'viewSearch':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x1d0)),'catTitle':document['getElementById'](a7_0x5b2d77(0x13c)),'btnSelectAll':document['getElementById'](a7_0x5b2d77(0x150)),'searchInput':document['getElementById'](a7_0x5b2d77(0x1be)),'searchClear':document[a7_0x5b2d77(0x138)]('searchClear'),'searchResults':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x193)),'btnSearchCancel':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x1bd)),'btnSave':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x18c)),'saveBtnText':document[a7_0x5b2d77(0x138)]('saveBtnText'),'sentinel':document['getElementById'](a7_0x5b2d77(0x148)),'loader':document[a7_0x5b2d77(0x138)](a7_0x5b2d77(0x15f))};function hideLoader(){const _0x40ab69=a7_0x5b2d77;el[_0x40ab69(0x168)][_0x40ab69(0x13b)]['add']('hidden');}function haptic(_0x154daf=a7_0x5b2d77(0x178)){const _0x3ad252=a7_0x5b2d77;try{const _0x272c60=window[_0x3ad252(0x1b6)]?.['WebApp']?.[_0x3ad252(0x139)];if(_0x272c60)_0x154daf===_0x3ad252(0x178)?_0x272c60[_0x3ad252(0x1da)]('light'):_0x154daf===_0x3ad252(0x162)?_0x272c60['impactOccurred'](_0x3ad252(0x162)):_0x272c60[_0x3ad252(0x147)](_0x3ad252(0x137));}catch(_0x51cc88){}}const bump=_0xf80327=>{const _0x1124a0=a7_0x5b2d77;if(!_0xf80327)return;_0xf80327[_0x1124a0(0x13b)][_0x1124a0(0x1ca)](_0x1124a0(0x1c0)),void _0xf80327[_0x1124a0(0x1d1)],_0xf80327['classList']['add'](_0x1124a0(0x1c0));};document['addEventListener'](a7_0x5b2d77(0x17a),_0xb88fec=>{const _0x103544=a7_0x5b2d77,_0x47b05b=_0xb88fec[_0x103544(0x1ab)][_0x103544(0x1cb)](_0x103544(0x16f));if(!_0x47b05b)return;haptic('light'),bump(_0x47b05b);},{'passive':!![]});function isSelectionChanged(){const _0x5397ea=a7_0x5b2d77;if(state[_0x5397ea(0x161)][_0x5397ea(0x1cf)]!==state['initialSelected'][_0x5397ea(0x1cf)])return!![];for(let _0xb2e9c2 of state['selected']){if(!state['initialSelected'][_0x5397ea(0x13a)](_0xb2e9c2))return!![];}return![];}function init(){const _0x2849dc=a7_0x5b2d77;let _0x21cd17=window[_0x2849dc(0x1a7)];const _0x51a3b5=document[_0x2849dc(0x14a)](_0x2849dc(0x1e7)),_0x301cf7=()=>{const _0x341ffb=_0x2849dc;_0x51a3b5[_0x341ffb(0x1de)][_0x341ffb(0x163)]=window[_0x341ffb(0x15c)]+'px',_0x21cd17=window[_0x341ffb(0x1a7)];};_0x301cf7(),window[_0x2849dc(0x1b1)]('resize',()=>{const _0xb81773=_0x2849dc;if(window[_0xb81773(0x1a7)]!==_0x21cd17)_0x301cf7();}),DataService['init'](),el[_0x2849dc(0x1be)][_0x2849dc(0x1b1)](_0x2849dc(0x172),handleSearch),el[_0x2849dc(0x14f)][_0x2849dc(0x1b1)]('click',clearSearch);if(tg)tg[_0x2849dc(0x19b)]['show']();const _0x4318ce=new IntersectionObserver(_0x593489=>{const _0x1114f1=_0x2849dc;if(_0x593489[0x0][_0x1114f1(0x13f)])renderNextBatch();},{'rootMargin':'200px'});_0x4318ce[_0x2849dc(0x1bf)](el[_0x2849dc(0x148)]);}function renderCategories(){const _0x369367=a7_0x5b2d77;el[_0x369367(0x1b7)][_0x369367(0x143)]='',DataService[_0x369367(0x17f)][_0x369367(0x1c3)](_0x1c1678=>{const _0xf35bb8=_0x369367,_0x5a81a4=DataService[_0xf35bb8(0x176)](_0x1c1678['id']),_0x37f140=_0x5a81a4['length'],_0x4367cf=_0x5a81a4[_0xf35bb8(0x188)](_0x1b9b52=>state[_0xf35bb8(0x161)][_0xf35bb8(0x13a)](_0x1b9b52['id']))[_0xf35bb8(0x151)],_0x3ab38a=_0x37f140>0x0?_0x4367cf/_0x37f140*0x64:0x0,_0x234642=document[_0xf35bb8(0x15e)]('div');_0x234642[_0xf35bb8(0x1ad)]=_0xf35bb8(0x192),_0x234642[_0xf35bb8(0x160)]=()=>openCategory(_0x1c1678['id']),_0x234642['innerHTML']=_0xf35bb8(0x194)+_0x1c1678[_0xf35bb8(0x1a9)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>'+_0x1c1678[_0xf35bb8(0x1d7)]+_0xf35bb8(0x14c)+_0x4367cf+_0xf35bb8(0x19f)+_0x37f140+_0xf35bb8(0x153)+_0x3ab38a+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el['catGrid'][_0xf35bb8(0x170)](_0x234642);});}function openCategory(_0x32ef63){const _0x54187a=a7_0x5b2d77;state[_0x54187a(0x1db)]=_0x32ef63;const _0x3d3a5a=DataService[_0x54187a(0x17f)]['find'](_0x3f300e=>_0x3f300e['id']===_0x32ef63);el['catTitle']['textContent']=_0x3d3a5a[_0x54187a(0x1d7)],el[_0x54187a(0x14e)][_0x54187a(0x1de)]['display']=_0x54187a(0x1d6);const _0x27acdc=DataService[_0x54187a(0x176)](_0x32ef63);startInfiniteRender(_0x27acdc,el[_0x54187a(0x14e)]),updateSelectAllBtn(),el[_0x54187a(0x18d)][_0x54187a(0x13b)][_0x54187a(0x169)](_0x54187a(0x19c)),el[_0x54187a(0x18d)][_0x54187a(0x13b)][_0x54187a(0x1ca)](_0x54187a(0x1d4)),el['viewList'][_0x54187a(0x13b)][_0x54187a(0x169)]('active'),el[_0x54187a(0x1a8)][_0x54187a(0x13b)]['remove'](_0x54187a(0x1dd)),updateSaveButton();if(tg)tg[_0x54187a(0x19b)]['show']();}function goBack(){const _0x32714c=a7_0x5b2d77;state[_0x32714c(0x1db)]=null,el[_0x32714c(0x1a8)][_0x32714c(0x13b)][_0x32714c(0x1ca)](_0x32714c(0x1d4)),el['viewCats']['classList'][_0x32714c(0x169)](_0x32714c(0x1d4)),el[_0x32714c(0x18d)]['classList'][_0x32714c(0x1ca)](_0x32714c(0x19c)),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton'][_0x32714c(0x18a)]();}function startInfiniteRender(_0x13eb0e,_0xb7a42,_0x121e3d=![]){const _0x49a022=a7_0x5b2d77;_0xb7a42['innerHTML']='',_0xb7a42['style'][_0x49a022(0x190)]='';if(_0x13eb0e[_0x49a022(0x151)]===0x0&&_0x121e3d){_0xb7a42[_0x49a022(0x143)]='<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>';return;}state[_0x49a022(0x185)]=_0x13eb0e,state['renderIndex']=0x0;let _0x5765f2=_0xb7a42;if(_0x121e3d){const _0x34bc39=document[_0x49a022(0x15e)](_0x49a022(0x1d9));_0x34bc39['className']='product-list-container',_0x34bc39['style'][_0x49a022(0x1a4)]=_0x49a022(0x1e3),_0x34bc39[_0x49a022(0x1de)]['border']=_0x49a022(0x1ec),_0x34bc39[_0x49a022(0x1de)][_0x49a022(0x1e5)]=_0x49a022(0x1ec),_0xb7a42['appendChild'](_0x34bc39),_0x5765f2=_0x34bc39;}state[_0x49a022(0x1ac)]=_0x5765f2,renderNextBatch(_0x121e3d);}function renderNextBatch(_0x3ec2ba=![]){const _0x577969=a7_0x5b2d77;if(state[_0x577969(0x1ea)]>=state[_0x577969(0x185)][_0x577969(0x151)])return;const _0x48f9af=state[_0x577969(0x185)][_0x577969(0x1ba)](state[_0x577969(0x1ea)],state[_0x577969(0x1ea)]+state[_0x577969(0x157)]),_0x427267=document[_0x577969(0x171)]();_0x48f9af[_0x577969(0x1c3)]((_0x103de4,_0x4baaa5)=>{const _0x5cb788=_0x577969,_0x47dc50=state[_0x5cb788(0x161)][_0x5cb788(0x13a)](_0x103de4['id']),_0x557f05=document[_0x5cb788(0x15e)](_0x5cb788(0x1d9));_0x557f05[_0x5cb788(0x1ad)]=_0x5cb788(0x142)+(_0x47dc50?_0x5cb788(0x161):''),_0x557f05[_0x5cb788(0x1b1)](_0x5cb788(0x17a),()=>haptic(_0x5cb788(0x178)),{'passive':!![]}),_0x557f05[_0x5cb788(0x160)]=()=>toggleProduct(_0x103de4['id'],_0x557f05),!_0x3ec2ba&&(_0x557f05[_0x5cb788(0x1de)][_0x5cb788(0x1d3)]='0',_0x557f05[_0x5cb788(0x1de)]['animation']=_0x5cb788(0x1cd)+_0x4baaa5*0.02+'s',setTimeout(()=>{const _0x5c761e=_0x5cb788;_0x557f05[_0x5c761e(0x1de)][_0x5c761e(0x1d3)]='1',_0x557f05['style'][_0x5c761e(0x156)]=_0x5c761e(0x1ec),_0x557f05[_0x5c761e(0x1de)][_0x5c761e(0x149)]=_0x5c761e(0x1ec);},_0x4baaa5*0x14+0x12c)),_0x557f05[_0x5cb788(0x143)]=_0x5cb788(0x17e)+_0x103de4[_0x5cb788(0x1d7)]+_0x5cb788(0x1ce)+_0x103de4[_0x5cb788(0x1b5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',_0x427267[_0x5cb788(0x170)](_0x557f05);}),state['currentContainer'][_0x577969(0x170)](_0x427267),state[_0x577969(0x1ea)]+=state[_0x577969(0x157)];}const styleSheet=document['createElement']('style');styleSheet['innerText']=a7_0x5b2d77(0x1a5),document[a7_0x5b2d77(0x146)]['appendChild'](styleSheet);function toggleProduct(_0x5aa897,_0x55c5d3){const _0x5e3309=a7_0x5b2d77;state['selected']['has'](_0x5aa897)?(state[_0x5e3309(0x161)]['delete'](_0x5aa897),_0x55c5d3[_0x5e3309(0x13b)]['remove']('selected')):(state['selected'][_0x5e3309(0x169)](_0x5aa897),_0x55c5d3[_0x5e3309(0x13b)]['add']('selected'));state['searchMode']&&el[_0x5e3309(0x1bd)]&&(el[_0x5e3309(0x1bd)][_0x5e3309(0x15b)]=state[_0x5e3309(0x161)]['size']>0x0?_0x5e3309(0x197):_0x5e3309(0x16b),el[_0x5e3309(0x1bd)][_0x5e3309(0x1de)][_0x5e3309(0x1b8)]=state[_0x5e3309(0x161)]['size']>0x0?_0x5e3309(0x177):_0x5e3309(0x173));saveSelectionToCache(),updateSaveButton();if(state[_0x5e3309(0x1db)]&&!state[_0x5e3309(0x17d)])updateSelectAllBtn();}function a7_0x3e7f(_0x2f7237,_0x27a229){_0x2f7237=_0x2f7237-0x137;const _0x491456=a7_0x4008();let _0x2c0b9b=_0x491456[_0x2f7237];return _0x2c0b9b;}function updateSaveButton(){const _0x425a9f=a7_0x5b2d77;let _0x52a9b='';if(state['activeCatId']){const _0x11689e=DataService['getProducts'](state[_0x425a9f(0x1db)]),_0x59e2f4=_0x11689e[_0x425a9f(0x188)](_0x570fe6=>state['selected'][_0x425a9f(0x13a)](_0x570fe6['id']))[_0x425a9f(0x151)];_0x52a9b=_0x59e2f4>0x0?_0x425a9f(0x16e)+_0x59e2f4+')':'–ù–∞–∑–∞–¥',el[_0x425a9f(0x18c)][_0x425a9f(0x13b)][_0x425a9f(0x169)]('visible'),el[_0x425a9f(0x1e4)]['textContent']=_0x52a9b;return;}const _0x3aa995=state[_0x425a9f(0x161)][_0x425a9f(0x1cf)];_0x52a9b=_0x425a9f(0x1c7)+_0x3aa995+')',el[_0x425a9f(0x1e4)][_0x425a9f(0x15b)]=_0x52a9b,isSelectionChanged()?el[_0x425a9f(0x18c)][_0x425a9f(0x13b)]['add'](_0x425a9f(0x1c9)):el['btnSave'][_0x425a9f(0x13b)][_0x425a9f(0x1ca)](_0x425a9f(0x1c9));}function updateSelectAllBtn(){const _0x3e2ce7=a7_0x5b2d77;if(!state[_0x3e2ce7(0x1db)])return;const _0x168742=DataService[_0x3e2ce7(0x176)](state[_0x3e2ce7(0x1db)]),_0x44495c=_0x168742['length']>0x0&&_0x168742[_0x3e2ce7(0x1bc)](_0x3af4c0=>state[_0x3e2ce7(0x161)][_0x3e2ce7(0x13a)](_0x3af4c0['id']));el[_0x3e2ce7(0x150)][_0x3e2ce7(0x15b)]=_0x44495c?_0x3e2ce7(0x1b2):_0x3e2ce7(0x1e9),el[_0x3e2ce7(0x150)][_0x3e2ce7(0x160)]=()=>toggleAllInCategory(_0x168742,!_0x44495c);}function toggleAllInCategory(_0xbf32d6,_0x15f761){const _0x698a36=a7_0x5b2d77;haptic(_0x698a36(0x162)),_0xbf32d6[_0x698a36(0x1c3)](_0xd1f934=>{const _0x1c3c57=_0x698a36;if(_0x15f761)state[_0x1c3c57(0x161)][_0x1c3c57(0x169)](_0xd1f934['id']);else state[_0x1c3c57(0x161)]['delete'](_0xd1f934['id']);}),saveSelectionToCache(),startInfiniteRender(_0xbf32d6,el[_0x698a36(0x14e)]),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x545914){const _0xf86f74=a7_0x5b2d77,_0x4e5b67=_0x545914[_0xf86f74(0x1ab)]['value'][_0xf86f74(0x1c8)]()[_0xf86f74(0x186)]();if(_0x4e5b67[_0xf86f74(0x151)]>0x0){if(!state[_0xf86f74(0x17d)])enterSearchMode();const _0x479235=DataService[_0xf86f74(0x198)](_0x4e5b67);el[_0xf86f74(0x193)]['style'][_0xf86f74(0x16a)]=_0xf86f74(0x15a),startInfiniteRender(_0x479235,el[_0xf86f74(0x193)],!![]);}else el[_0xf86f74(0x193)][_0xf86f74(0x143)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x493124=a7_0x5b2d77;haptic(_0x493124(0x162));if(state[_0x493124(0x1db)]&&!state[_0x493124(0x17d)]){goBack();return;}const _0x35fc63=el[_0x493124(0x1e4)][_0x493124(0x15b)];el[_0x493124(0x1e4)]['textContent']='–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...',el[_0x493124(0x18c)][_0x493124(0x1de)][_0x493124(0x141)]=_0x493124(0x1ec);const _0x3b4703=await DataService[_0x493124(0x17b)]();_0x3b4703?(el[_0x493124(0x1e4)][_0x493124(0x15b)]='–ì–æ—Ç–æ–≤–æ!',state[_0x493124(0x174)]=new Set(state[_0x493124(0x161)]),setTimeout(()=>{const _0x3964b1=_0x493124;el[_0x3964b1(0x18c)][_0x3964b1(0x1de)][_0x3964b1(0x141)]=_0x3964b1(0x1a3),el['saveBtnText'][_0x3964b1(0x15b)]=_0x35fc63,updateSaveButton();if(state[_0x3964b1(0x17d)])exitSearchMode();},0x320)):(el['saveBtnText'][_0x493124(0x15b)]=_0x493124(0x1e8),setTimeout(()=>{const _0x4d55c6=_0x493124;el[_0x4d55c6(0x18c)][_0x4d55c6(0x1de)][_0x4d55c6(0x141)]=_0x4d55c6(0x1a3),el[_0x4d55c6(0x1e4)][_0x4d55c6(0x15b)]=_0x35fc63;},0x7d0));}function enterSearchMode(){const _0x11a06c=a7_0x5b2d77;state[_0x11a06c(0x17d)]=!![];el[_0x11a06c(0x1bd)]&&(el['btnSearchCancel']['textContent']=_0x11a06c(0x16b),el['btnSearchCancel'][_0x11a06c(0x1de)][_0x11a06c(0x1b8)]='500');document[_0x11a06c(0x1af)][_0x11a06c(0x13b)][_0x11a06c(0x169)](_0x11a06c(0x1ae)),el[_0x11a06c(0x18d)][_0x11a06c(0x13b)][_0x11a06c(0x1ca)](_0x11a06c(0x1d4)),el[_0x11a06c(0x1a8)][_0x11a06c(0x13b)][_0x11a06c(0x1ca)]('active'),el[_0x11a06c(0x1dc)][_0x11a06c(0x13b)][_0x11a06c(0x169)]('active');if(tg)tg['BackButton'][_0x11a06c(0x18a)]();}function exitSearchMode(){const _0x1ffeca=a7_0x5b2d77;state[_0x1ffeca(0x17d)]=![],document[_0x1ffeca(0x1af)][_0x1ffeca(0x13b)][_0x1ffeca(0x1ca)](_0x1ffeca(0x1ae)),el[_0x1ffeca(0x1be)][_0x1ffeca(0x1e1)](),el[_0x1ffeca(0x1dc)][_0x1ffeca(0x13b)][_0x1ffeca(0x1ca)]('active'),el[_0x1ffeca(0x193)][_0x1ffeca(0x1de)][_0x1ffeca(0x16a)]=_0x1ffeca(0x1ec),el[_0x1ffeca(0x1be)][_0x1ffeca(0x183)]='';if(state[_0x1ffeca(0x1db)])el[_0x1ffeca(0x1a8)]['classList'][_0x1ffeca(0x169)](_0x1ffeca(0x1d4));else el[_0x1ffeca(0x18d)]['classList'][_0x1ffeca(0x169)]('active'),renderCategories();updateSaveButton();}init();