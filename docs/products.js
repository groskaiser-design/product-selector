const a7_0x11dbbb=a7_0x973e;(function(_0x401eb5,_0x5c6f45){const _0x4a4f21=a7_0x973e,_0x5e6ba4=_0x401eb5();while(!![]){try{const _0x459cb4=parseInt(_0x4a4f21(0x168))/0x1+-parseInt(_0x4a4f21(0x129))/0x2*(parseInt(_0x4a4f21(0x133))/0x3)+parseInt(_0x4a4f21(0x14d))/0x4+-parseInt(_0x4a4f21(0x199))/0x5+-parseInt(_0x4a4f21(0x135))/0x6*(parseInt(_0x4a4f21(0x157))/0x7)+parseInt(_0x4a4f21(0x118))/0x8+-parseInt(_0x4a4f21(0x124))/0x9*(-parseInt(_0x4a4f21(0x103))/0xa);if(_0x459cb4===_0x5c6f45)break;else _0x5e6ba4['push'](_0x5e6ba4['shift']());}catch(_0x5c598c){_0x5e6ba4['push'](_0x5e6ba4['shift']());}}}(a7_0x3292,0xe7bf1));const a7_0x3a6c9f=(function(){let _0x109188=!![];return function(_0x11cc43,_0x224a8e){const _0x5df68a=_0x109188?function(){const _0x51a76d=a7_0x973e;if(_0x224a8e){const _0xd7025b=_0x224a8e[_0x51a76d(0x195)](_0x11cc43,arguments);return _0x224a8e=null,_0xd7025b;}}:function(){};return _0x109188=![],_0x5df68a;};}()),a7_0x33b7d3=a7_0x3a6c9f(this,function(){const _0x4b2fe6=a7_0x973e;return a7_0x33b7d3[_0x4b2fe6(0x131)]()[_0x4b2fe6(0x148)](_0x4b2fe6(0x19c))[_0x4b2fe6(0x131)]()[_0x4b2fe6(0x13c)](a7_0x33b7d3)[_0x4b2fe6(0x148)]('(((.+)+)+)+$');});a7_0x33b7d3();const API_URL=a7_0x11dbbb(0x177),tg=window['Telegram']?.[a7_0x11dbbb(0x159)],TG_INIT_DATA=tg?.['initData']||'';if(tg)try{tg[a7_0x11dbbb(0x107)](),tg[a7_0x11dbbb(0x13e)]();try{tg[a7_0x11dbbb(0x1a2)](a7_0x11dbbb(0x130));if(tg[a7_0x11dbbb(0x189)])tg[a7_0x11dbbb(0x189)](a7_0x11dbbb(0x130));if(tg['disableVerticalSwipes'])tg[a7_0x11dbbb(0x17e)]();}catch(a7_0x529d5a){console[a7_0x11dbbb(0xfc)](a7_0x11dbbb(0x194),a7_0x529d5a);}tg[a7_0x11dbbb(0x13f)]&&(tg[a7_0x11dbbb(0x13f)]['show'](),tg[a7_0x11dbbb(0x13f)][a7_0x11dbbb(0xf8)](),tg[a7_0x11dbbb(0x13f)][a7_0x11dbbb(0x1a3)](()=>{const _0x123ab0=a7_0x11dbbb;if(state[_0x123ab0(0x15b)])exitSearchMode();else state[_0x123ab0(0x16e)]?goBack():window[_0x123ab0(0x10c)]['href']=_0x123ab0(0x188);}));}catch(a7_0x18c50f){console['error'](a7_0x11dbbb(0x178),a7_0x18c50f);}const DataService={'categories':[],'productsMap':{},'serverVer':0x0,async 'init'(){const _0x388cb5=a7_0x11dbbb,_0x4eb96d=this[_0x388cb5(0x146)]();_0x4eb96d&&(renderCategories(),hideLoader()),updateSaveButton(),await this[_0x388cb5(0x15d)]();},'loadFromCache'(){const _0x3d7743=a7_0x11dbbb;try{const _0x254d39=localStorage[_0x3d7743(0x164)]('ultima_data_v2');if(_0x254d39){const _0x4bb258=JSON[_0x3d7743(0x192)](_0x254d39);this[_0x3d7743(0x11b)]=_0x4bb258['categories']||[],this[_0x3d7743(0x101)]=_0x4bb258['productsMap']||{},this[_0x3d7743(0x13b)]=_0x4bb258[_0x3d7743(0x13b)]||0x0;const _0x4157c7=localStorage[_0x3d7743(0x164)]('ultima_cart_v1');if(_0x4157c7){const _0x117766=JSON[_0x3d7743(0x192)](_0x4157c7);state['selected']=new Set(_0x117766),this['cleanupZombieProducts'](),state[_0x3d7743(0x190)]=new Set(state[_0x3d7743(0x19d)]);}return!![];}}catch(_0x321f3a){console[_0x3d7743(0x132)](_0x321f3a);}return![];},async 'syncWithServer'(){const _0xb6f3ca=a7_0x11dbbb;try{if(!API_URL['includes'](_0xb6f3ca(0x1a1))){console[_0xb6f3ca(0xfc)](_0xb6f3ca(0x11f)),hideLoader();return;}const _0x45f338=await fetch(API_URL,{'method':_0xb6f3ca(0x15f),'headers':{'Content-Type':_0xb6f3ca(0x14e)},'body':JSON[_0xb6f3ca(0x153)]({'action':'init','clientVer':this[_0xb6f3ca(0x13b)],'initData':TG_INIT_DATA})}),_0xaa9d1f=await _0x45f338[_0xb6f3ca(0x113)]();_0xaa9d1f['ok']&&_0xaa9d1f['needUpdate']&&_0xaa9d1f[_0xb6f3ca(0x161)]&&this[_0xb6f3ca(0x12f)](_0xaa9d1f[_0xb6f3ca(0x161)],_0xaa9d1f[_0xb6f3ca(0x13b)]);if(_0xaa9d1f['ok']&&_0xaa9d1f['userSelection'])try{const _0x2eddce=JSON[_0xb6f3ca(0x192)](_0xaa9d1f['userSelection']);state[_0xb6f3ca(0x19d)]=new Set(_0x2eddce),this[_0xb6f3ca(0x108)](),state[_0xb6f3ca(0x190)]=new Set(state['selected']),saveSelectionToCache(),updateSaveButton(),renderCategories();}catch(_0xaf526e){}hideLoader();}catch(_0x5317e1){console[_0xb6f3ca(0xfc)](_0xb6f3ca(0x174),_0x5317e1),hideLoader();if(!DataService['categories']['length'])alert(_0xb6f3ca(0xf2));}},'processCatalog'(_0x3ab032,_0x38e412){const _0x2d2144=a7_0x11dbbb;this[_0x2d2144(0x11b)]=_0x3ab032[_0x2d2144(0x11b)][_0x2d2144(0x149)](_0x477509=>({'id':String(_0x477509['id']),'name':_0x477509[_0x2d2144(0x19e)],'icon':_0x477509[_0x2d2144(0xfb)]}));const _0x4ed345={};this['categories'][_0x2d2144(0x105)](_0x41ea74=>_0x4ed345[_0x41ea74['id']]=[]),_0x3ab032['products']&&Array[_0x2d2144(0x122)](_0x3ab032[_0x2d2144(0x162)])&&_0x3ab032[_0x2d2144(0x162)][_0x2d2144(0x105)](_0x394428=>{const _0x18ebdd=String(_0x394428[0x0]),_0x54d2e8=String(_0x394428[0x1]);if(!_0x4ed345[_0x54d2e8])_0x4ed345[_0x54d2e8]=[];_0x4ed345[_0x54d2e8]['push']({'id':_0x18ebdd,'name':_0x394428[0x2],'meta':_0x394428[0x3]});}),this['productsMap']=_0x4ed345,this[_0x2d2144(0x13b)]=_0x38e412,localStorage[_0x2d2144(0x15e)]('ultima_data_v2',JSON[_0x2d2144(0x153)]({'categories':this[_0x2d2144(0x11b)],'productsMap':this[_0x2d2144(0x101)],'serverVer':this['serverVer']})),this[_0x2d2144(0x108)](),renderCategories(),hideLoader();},'cleanupZombieProducts'(){const _0x1de283=a7_0x11dbbb;if(!state[_0x1de283(0x19d)]||state[_0x1de283(0x19d)][_0x1de283(0x102)]===0x0)return;const _0x1d0a3f=new Set();Object[_0x1de283(0x109)](this['productsMap'])[_0x1de283(0x152)]()[_0x1de283(0x105)](_0x549766=>_0x1d0a3f[_0x1de283(0x10d)](_0x549766['id']));const _0x93cf9a=new Set();state[_0x1de283(0x19d)][_0x1de283(0x105)](_0x5db8c3=>{const _0x22bb30=_0x1de283;_0x1d0a3f[_0x22bb30(0x18f)](_0x5db8c3)&&_0x93cf9a[_0x22bb30(0x10d)](_0x5db8c3);}),_0x93cf9a[_0x1de283(0x102)]!==state[_0x1de283(0x19d)][_0x1de283(0x102)]&&(console[_0x1de283(0x13a)]('üßπ\x20Removed\x20'+(state[_0x1de283(0x19d)][_0x1de283(0x102)]-_0x93cf9a[_0x1de283(0x102)])+_0x1de283(0x19b)),state[_0x1de283(0x19d)]=_0x93cf9a,saveSelectionToCache());},'getProducts'(_0x1c293f){const _0x191b15=a7_0x11dbbb;return this[_0x191b15(0x101)][_0x1c293f]||[];},'search'(_0xd52201){const _0xf35e91=a7_0x11dbbb,_0x19173a=[],_0x2023c3=_0xd52201[_0xf35e91(0x18d)]();return Object[_0xf35e91(0x109)](this['productsMap'])['flat']()['forEach'](_0x1e2338=>{const _0xe9d331=_0xf35e91;if(_0x1e2338[_0xe9d331(0x19e)][_0xe9d331(0x18d)]()['includes'](_0x2023c3))_0x19173a[_0xe9d331(0xfe)](_0x1e2338);}),_0x19173a;},async 'saveSelectionToServer'(){const _0x26e916=a7_0x11dbbb;this[_0x26e916(0x108)](),saveSelectionToCache();try{return await fetch(API_URL,{'method':_0x26e916(0x15f),'headers':{'Content-Type':_0x26e916(0x14e)},'body':JSON[_0x26e916(0x153)]({'action':_0x26e916(0x150),'initData':TG_INIT_DATA,'selection':Array[_0x26e916(0x13d)](state[_0x26e916(0x19d)])})}),!![];}catch(_0x1f8b1b){return![];}}},state={'selected':new Set(),'initialSelected':new Set(),'activeCatId':null,'searchMode':![],'renderQueue':[],'renderIndex':0x0,'BATCH_SIZE':0x14,'currentContainer':null};function saveSelectionToCache(){const _0x3021cc=a7_0x11dbbb;try{localStorage[_0x3021cc(0x15e)](_0x3021cc(0x19a),JSON[_0x3021cc(0x153)](Array[_0x3021cc(0x13d)](state[_0x3021cc(0x19d)])));}catch(_0x267169){}}const el={'catGrid':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0xf1)),'productList':document[a7_0x11dbbb(0x198)]('productList'),'viewCats':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0xff)),'viewList':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0xf9)),'viewSearch':document[a7_0x11dbbb(0x198)]('view-search'),'catTitle':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x16a)),'btnSelectAll':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x126)),'searchInput':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x14b)),'searchClear':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x11a)),'searchResults':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x191)),'btnSearchCancel':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x17f)),'btnSave':document['getElementById']('btnSave'),'saveBtnText':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x1a4)),'sentinel':document[a7_0x11dbbb(0x198)](a7_0x11dbbb(0x15c)),'loader':document['getElementById'](a7_0x11dbbb(0x114))};function hideLoader(){const _0x287702=a7_0x11dbbb;el['loader']['classList'][_0x287702(0x10d)](_0x287702(0x17b));}function haptic(_0x256f20=a7_0x11dbbb(0x100)){const _0x5f2b2c=a7_0x11dbbb;try{const _0x43a33e=window[_0x5f2b2c(0x165)]?.[_0x5f2b2c(0x159)]?.[_0x5f2b2c(0x18e)];if(_0x43a33e)_0x256f20===_0x5f2b2c(0x100)?_0x43a33e[_0x5f2b2c(0x19f)](_0x5f2b2c(0x100)):_0x256f20===_0x5f2b2c(0x16b)?_0x43a33e[_0x5f2b2c(0x19f)]('medium'):_0x43a33e[_0x5f2b2c(0x14f)](_0x5f2b2c(0x12e));}catch(_0x5d34ee){}}const bump=_0x1b8554=>{const _0x174dbf=a7_0x11dbbb;if(!_0x1b8554)return;_0x1b8554[_0x174dbf(0x197)][_0x174dbf(0x10e)](_0x174dbf(0x106)),void _0x1b8554[_0x174dbf(0x11d)],_0x1b8554[_0x174dbf(0x197)][_0x174dbf(0x10d)]('bump');};document[a7_0x11dbbb(0x110)](a7_0x11dbbb(0x163),_0x349689=>{const _0x4f1b32=a7_0x11dbbb,_0x3abb09=_0x349689['target'][_0x4f1b32(0x17a)](_0x4f1b32(0xfa));if(!_0x3abb09)return;haptic('light'),bump(_0x3abb09);},{'passive':!![]});function isSelectionChanged(){const _0x7817d5=a7_0x11dbbb;if(state[_0x7817d5(0x19d)]['size']!==state[_0x7817d5(0x190)][_0x7817d5(0x102)])return!![];for(let _0x363e65 of state[_0x7817d5(0x19d)]){if(!state[_0x7817d5(0x190)][_0x7817d5(0x18f)](_0x363e65))return!![];}return![];}function init(){const _0x1e474c=a7_0x11dbbb;let _0x3d2542=window[_0x1e474c(0x119)];const _0x368cbb=document[_0x1e474c(0x10b)](_0x1e474c(0x155)),_0x222fde=()=>{const _0x5258cc=_0x1e474c;_0x368cbb[_0x5258cc(0x160)][_0x5258cc(0x140)]=window[_0x5258cc(0x12c)]+'px',_0x3d2542=window['innerWidth'];};_0x222fde(),window[_0x1e474c(0x110)](_0x1e474c(0x156),()=>{const _0x578ece=_0x1e474c;if(window[_0x578ece(0x119)]!==_0x3d2542)_0x222fde();}),DataService[_0x1e474c(0x115)](),el[_0x1e474c(0x14b)]['addEventListener'](_0x1e474c(0x134),handleSearch),el[_0x1e474c(0x11a)][_0x1e474c(0x110)](_0x1e474c(0x183),clearSearch);if(tg)tg['BackButton'][_0x1e474c(0xf4)]();const _0x843501=new IntersectionObserver(_0x54fd4b=>{const _0x5c829d=_0x1e474c;if(_0x54fd4b[0x0][_0x5c829d(0x179)])renderNextBatch();},{'rootMargin':_0x1e474c(0x136)});_0x843501[_0x1e474c(0x142)](el[_0x1e474c(0x15c)]);}function renderCategories(){const _0x4e57b7=a7_0x11dbbb;el[_0x4e57b7(0xf1)]['innerHTML']='',DataService[_0x4e57b7(0x11b)][_0x4e57b7(0x105)](_0xff99cf=>{const _0x3d746f=_0x4e57b7,_0xbaabe8=DataService[_0x3d746f(0x15a)](_0xff99cf['id']),_0x3e2a9b=_0xbaabe8[_0x3d746f(0x158)],_0x9517a7=_0xbaabe8[_0x3d746f(0x17c)](_0x51f24d=>state['selected']['has'](_0x51f24d['id']))[_0x3d746f(0x158)],_0x1d3cc=_0x3e2a9b>0x0?_0x9517a7/_0x3e2a9b*0x64:0x0,_0x2ecc1d=document['createElement']('div');_0x2ecc1d[_0x3d746f(0x196)]='cat-card',_0x2ecc1d[_0x3d746f(0x166)]=()=>openCategory(_0xff99cf['id']),_0x2ecc1d[_0x3d746f(0x11e)]=_0x3d746f(0x1a8)+_0xff99cf[_0x3d746f(0xfb)]+_0x3d746f(0xf0)+_0xff99cf[_0x3d746f(0x19e)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x9517a7+_0x3d746f(0x182)+_0x3e2a9b+_0x3d746f(0x139)+_0x1d3cc+'%\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20',el[_0x3d746f(0xf1)]['appendChild'](_0x2ecc1d);});}function openCategory(_0x4d4873){const _0x430e8e=a7_0x11dbbb;state[_0x430e8e(0x16e)]=_0x4d4873;const _0x2f609f=DataService[_0x430e8e(0x11b)][_0x430e8e(0x180)](_0x204036=>_0x204036['id']===_0x4d4873);el[_0x430e8e(0x16a)][_0x430e8e(0x181)]=_0x2f609f[_0x430e8e(0x19e)],el[_0x430e8e(0x16c)]['style'][_0x430e8e(0x121)]=_0x430e8e(0x12b);const _0x3c6b35=DataService[_0x430e8e(0x15a)](_0x4d4873);startInfiniteRender(_0x3c6b35,el['productList']),updateSelectAllBtn(),el[_0x430e8e(0x1a5)][_0x430e8e(0x197)]['add'](_0x430e8e(0x185)),el['viewCats'][_0x430e8e(0x197)][_0x430e8e(0x10e)](_0x430e8e(0x187)),el['viewList'][_0x430e8e(0x197)][_0x430e8e(0x10d)](_0x430e8e(0x187)),el[_0x430e8e(0x138)][_0x430e8e(0x197)][_0x430e8e(0x10e)](_0x430e8e(0x186)),updateSaveButton();if(tg)tg[_0x430e8e(0x13f)]['show']();}function goBack(){const _0x265414=a7_0x11dbbb;state[_0x265414(0x16e)]=null,el[_0x265414(0x138)]['classList'][_0x265414(0x10e)](_0x265414(0x187)),el[_0x265414(0x1a5)][_0x265414(0x197)][_0x265414(0x10d)](_0x265414(0x187)),el[_0x265414(0x1a5)][_0x265414(0x197)][_0x265414(0x10e)]('prev'),setTimeout(renderCategories,0x12c),updateSaveButton();if(tg)tg['BackButton']['show']();}function startInfiniteRender(_0x3235c5,_0x1c482c,_0x45f147=![]){const _0x484d06=a7_0x11dbbb;_0x1c482c[_0x484d06(0x11e)]='',_0x1c482c['style']['cssText']='';if(_0x3235c5[_0x484d06(0x158)]===0x0&&_0x45f147){_0x1c482c['innerHTML']=_0x484d06(0x14c);return;}state['renderQueue']=_0x3235c5,state[_0x484d06(0xfd)]=0x0;let _0x457095=_0x1c482c;if(_0x45f147){const _0x28a578=document[_0x484d06(0x171)]('div');_0x28a578['className']=_0x484d06(0x169),_0x28a578[_0x484d06(0x160)][_0x484d06(0x120)]='transparent',_0x28a578['style'][_0x484d06(0x12d)]=_0x484d06(0x14a),_0x28a578[_0x484d06(0x160)][_0x484d06(0x111)]=_0x484d06(0x14a),_0x1c482c[_0x484d06(0x16f)](_0x28a578),_0x457095=_0x28a578;}state[_0x484d06(0x104)]=_0x457095,renderNextBatch(_0x45f147);}function a7_0x3292(){const _0x4edb34=['closest','hidden','filter','value','disableVerticalSwipes','btnSearchCancel','find','textContent','\x20–∏–∑\x20','click','–ì–æ—Ç–æ–≤–æ!','prev','next','active','router.html','setBackgroundColor','600','createDocumentFragment','transform','toLowerCase','HapticFeedback','has','initialSelected','searchResults','parse','–û—Ç–º–µ–Ω–∞','Color/Swipe\x20settings\x20error:','apply','className','classList','getElementById','6959065DgigyG','ultima_cart_v1','\x20zombie\x20products','(((.+)+)+)+$','selected','name','impactOccurred','saveSelectionToServer','script.google.com','setHeaderColor','onClick','saveBtnText','viewCats','–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...','renderQueue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x20100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-icon\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-name\x22>','catGrid','–û—à–∏–±–∫–∞\x20–∑–∞–≥—Ä—É–∑–∫–∏\x20–¥–∞–Ω–Ω—ã—Ö.\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–∏–Ω—Ç–µ—Ä–Ω–µ—Ç.','target','show','–ù–∞–∑–∞–¥','animation','viewSearch','offClick','view-list','.cat-card,\x20.btn-save','icon','warn','renderIndex','push','view-cats','light','productsMap','size','2380330ZrPdDz','currentContainer','forEach','bump','ready','cleanupZombieProducts','values','500','querySelector','location','add','remove','fadeInUp\x200.2s\x20ease\x20forwards\x20','addEventListener','boxShadow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-square\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-name\x22>','json','appLoader','init','body','@keyframes\x20fadeInUp\x20{\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}','3060552FAZPbg','innerWidth','searchClear','categories','auto','offsetWidth','innerHTML','No\x20API\x20URL','background','display','isArray','–í—ã–±—Ä–∞—Ç—å\x20–≤—Å—ë','54iDrfLG','–û—à–∏–±–∫–∞!','btnSelectAll','blur','btnSave','2672242Pbujez','–°–æ—Ö—Ä–∞–Ω–∏—Ç—å\x20(','flex','innerHeight','border','success','processCatalog','#050505','toString','error','3SbZDLv','input','6VQWBNe','200px','meta','viewList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mini-track\x22><div\x20class=\x22mini-fill\x22\x20style=\x22width:\x20','log','serverVer','constructor','from','expand','BackButton','height','visible','observe','–í—ã–±—Ä–∞—Ç—å','fontWeight','block','loadFromCache','opacity','search','map','none','searchInput','<div\x20class=\x22simple-no-results\x22>–ù–∏—á–µ–≥–æ\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω–æ</div>','5656096zhxanU','text/plain;charset=utf-8','notificationOccurred','save','delete','flat','stringify','div','.fx-layer','resize','2929353jVRqBk','length','WebApp','getProducts','searchMode','sentinel','syncWithServer','setItem','POST','style','catalog','products','touchstart','getItem','Telegram','onclick','head','870855YVsGva','product-list-container','catTitle','medium','productList','search-active','activeCatId','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','createElement','innerText','BATCH_SIZE','Sync\x20skipped:','–í—ã–±—Ä–∞—Ç—å\x20(','pointerEvents','https://script.google.com/macros/s/AKfycbybxqI4xOLAUOcMXGReNl0PVjGToGg6_x3ZxlKNnUHg3XcaZGhkbsu61Adgkb4emrkm/exec','Critical\x20TMA\x20Error:','isIntersecting'];a7_0x3292=function(){return _0x4edb34;};return a7_0x3292();}function renderNextBatch(_0x41caa0=![]){const _0x65eb30=a7_0x11dbbb;if(state[_0x65eb30(0xfd)]>=state[_0x65eb30(0x1a7)]['length'])return;const _0x534e03=state[_0x65eb30(0x1a7)]['slice'](state[_0x65eb30(0xfd)],state[_0x65eb30(0xfd)]+state[_0x65eb30(0x173)]),_0x2e9fca=document[_0x65eb30(0x18b)]();_0x534e03[_0x65eb30(0x105)]((_0x2e109a,_0x407068)=>{const _0x510f18=_0x65eb30,_0x3c99f1=state[_0x510f18(0x19d)][_0x510f18(0x18f)](_0x2e109a['id']),_0x497b57=document[_0x510f18(0x171)](_0x510f18(0x154));_0x497b57[_0x510f18(0x196)]='product-row\x20'+(_0x3c99f1?'selected':''),_0x497b57[_0x510f18(0x110)]('touchstart',()=>haptic(_0x510f18(0x100)),{'passive':!![]}),_0x497b57[_0x510f18(0x166)]=()=>toggleProduct(_0x2e109a['id'],_0x497b57),!_0x41caa0&&(_0x497b57['style']['opacity']='0',_0x497b57['style'][_0x510f18(0xf6)]=_0x510f18(0x10f)+_0x407068*0.02+'s',setTimeout(()=>{const _0x2f78f8=_0x510f18;_0x497b57[_0x2f78f8(0x160)][_0x2f78f8(0x147)]='1',_0x497b57[_0x2f78f8(0x160)][_0x2f78f8(0xf6)]='none',_0x497b57[_0x2f78f8(0x160)][_0x2f78f8(0x18c)]=_0x2f78f8(0x14a);},_0x407068*0x14+0x12c)),_0x497b57['innerHTML']=_0x510f18(0x112)+_0x2e109a[_0x510f18(0x19e)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prod-meta\x22>'+_0x2e109a[_0x510f18(0x137)]+_0x510f18(0x170),_0x2e9fca['appendChild'](_0x497b57);}),state[_0x65eb30(0x104)][_0x65eb30(0x16f)](_0x2e9fca),state[_0x65eb30(0xfd)]+=state[_0x65eb30(0x173)];}const styleSheet=document[a7_0x11dbbb(0x171)](a7_0x11dbbb(0x160));styleSheet[a7_0x11dbbb(0x172)]=a7_0x11dbbb(0x117),document[a7_0x11dbbb(0x167)][a7_0x11dbbb(0x16f)](styleSheet);function toggleProduct(_0xedb4c,_0x15c3d2){const _0x58a0ab=a7_0x11dbbb;state[_0x58a0ab(0x19d)][_0x58a0ab(0x18f)](_0xedb4c)?(state[_0x58a0ab(0x19d)][_0x58a0ab(0x151)](_0xedb4c),_0x15c3d2[_0x58a0ab(0x197)][_0x58a0ab(0x10e)](_0x58a0ab(0x19d))):(state[_0x58a0ab(0x19d)]['add'](_0xedb4c),_0x15c3d2['classList'][_0x58a0ab(0x10d)](_0x58a0ab(0x19d)));state[_0x58a0ab(0x15b)]&&el['btnSearchCancel']&&(el['btnSearchCancel'][_0x58a0ab(0x181)]=state[_0x58a0ab(0x19d)][_0x58a0ab(0x102)]>0x0?_0x58a0ab(0x143):_0x58a0ab(0x193),el[_0x58a0ab(0x17f)]['style'][_0x58a0ab(0x144)]=state[_0x58a0ab(0x19d)][_0x58a0ab(0x102)]>0x0?_0x58a0ab(0x18a):_0x58a0ab(0x10a));saveSelectionToCache(),updateSaveButton();if(state['activeCatId']&&!state[_0x58a0ab(0x15b)])updateSelectAllBtn();}function updateSaveButton(){const _0x5a6049=a7_0x11dbbb;let _0x1314b8='';if(state[_0x5a6049(0x16e)]){const _0x48c1da=DataService[_0x5a6049(0x15a)](state['activeCatId']),_0x575907=_0x48c1da[_0x5a6049(0x17c)](_0x30605c=>state[_0x5a6049(0x19d)]['has'](_0x30605c['id']))[_0x5a6049(0x158)];_0x1314b8=_0x575907>0x0?_0x5a6049(0x175)+_0x575907+')':_0x5a6049(0xf5),el[_0x5a6049(0x128)][_0x5a6049(0x197)][_0x5a6049(0x10d)](_0x5a6049(0x141)),el[_0x5a6049(0x1a4)][_0x5a6049(0x181)]=_0x1314b8;return;}const _0x57c91d=state['selected'][_0x5a6049(0x102)];_0x1314b8=_0x5a6049(0x12a)+_0x57c91d+')',el['saveBtnText']['textContent']=_0x1314b8,isSelectionChanged()?el[_0x5a6049(0x128)][_0x5a6049(0x197)][_0x5a6049(0x10d)](_0x5a6049(0x141)):el['btnSave']['classList'][_0x5a6049(0x10e)](_0x5a6049(0x141));}function updateSelectAllBtn(){const _0x54964c=a7_0x11dbbb;if(!state['activeCatId'])return;const _0x57c793=DataService[_0x54964c(0x15a)](state[_0x54964c(0x16e)]),_0x47f525=_0x57c793['length']>0x0&&_0x57c793['every'](_0x331a3c=>state[_0x54964c(0x19d)][_0x54964c(0x18f)](_0x331a3c['id']));el[_0x54964c(0x126)][_0x54964c(0x181)]=_0x47f525?'–°–Ω—è—Ç—å\x20–≤—Å—ë':_0x54964c(0x123),el['btnSelectAll'][_0x54964c(0x166)]=()=>toggleAllInCategory(_0x57c793,!_0x47f525);}function toggleAllInCategory(_0x1b1ee6,_0x9288bc){const _0x2e9fd5=a7_0x11dbbb;haptic(_0x2e9fd5(0x16b)),_0x1b1ee6[_0x2e9fd5(0x105)](_0x571ed8=>{const _0x42e6f9=_0x2e9fd5;if(_0x9288bc)state[_0x42e6f9(0x19d)]['add'](_0x571ed8['id']);else state[_0x42e6f9(0x19d)]['delete'](_0x571ed8['id']);}),saveSelectionToCache(),startInfiniteRender(_0x1b1ee6,el['productList']),updateSelectAllBtn(),updateSaveButton();}function handleSearch(_0x23d026){const _0x559457=a7_0x11dbbb,_0xbe0d75=_0x23d026[_0x559457(0xf3)][_0x559457(0x17d)][_0x559457(0x18d)]()['trim']();if(_0xbe0d75['length']>0x0){if(!state[_0x559457(0x15b)])enterSearchMode();const _0x16cb02=DataService['search'](_0xbe0d75);el[_0x559457(0x191)][_0x559457(0x160)]['display']=_0x559457(0x145),startInfiniteRender(_0x16cb02,el['searchResults'],!![]);}else el[_0x559457(0x191)][_0x559457(0x11e)]='';}function clearSearch(){exitSearchMode();}async function saveSelection(){const _0x1764fa=a7_0x11dbbb;haptic(_0x1764fa(0x16b));if(state[_0x1764fa(0x16e)]&&!state[_0x1764fa(0x15b)]){goBack();return;}const _0x312dca=el[_0x1764fa(0x1a4)][_0x1764fa(0x181)];el[_0x1764fa(0x1a4)][_0x1764fa(0x181)]=_0x1764fa(0x1a6),el['btnSave'][_0x1764fa(0x160)][_0x1764fa(0x176)]=_0x1764fa(0x14a);const _0x19dc40=await DataService[_0x1764fa(0x1a0)]();_0x19dc40?(el[_0x1764fa(0x1a4)]['textContent']=_0x1764fa(0x184),state[_0x1764fa(0x190)]=new Set(state[_0x1764fa(0x19d)]),setTimeout(()=>{const _0x11e45b=_0x1764fa;el[_0x11e45b(0x128)][_0x11e45b(0x160)]['pointerEvents']=_0x11e45b(0x11c),el['saveBtnText'][_0x11e45b(0x181)]=_0x312dca,updateSaveButton();if(state[_0x11e45b(0x15b)])exitSearchMode();},0x320)):(el['saveBtnText'][_0x1764fa(0x181)]=_0x1764fa(0x125),setTimeout(()=>{const _0x3a021a=_0x1764fa;el[_0x3a021a(0x128)][_0x3a021a(0x160)][_0x3a021a(0x176)]=_0x3a021a(0x11c),el[_0x3a021a(0x1a4)][_0x3a021a(0x181)]=_0x312dca;},0x7d0));}function a7_0x973e(_0x1322a7,_0x891465){_0x1322a7=_0x1322a7-0xf0;const _0x4e5f29=a7_0x3292();let _0x33b7d3=_0x4e5f29[_0x1322a7];return _0x33b7d3;}function enterSearchMode(){const _0x256845=a7_0x11dbbb;state[_0x256845(0x15b)]=!![];el['btnSearchCancel']&&(el[_0x256845(0x17f)]['textContent']='–û—Ç–º–µ–Ω–∞',el[_0x256845(0x17f)][_0x256845(0x160)]['fontWeight']=_0x256845(0x10a));document[_0x256845(0x116)][_0x256845(0x197)][_0x256845(0x10d)]('search-active'),el[_0x256845(0x1a5)]['classList'][_0x256845(0x10e)](_0x256845(0x187)),el['viewList'][_0x256845(0x197)][_0x256845(0x10e)](_0x256845(0x187)),el['viewSearch'][_0x256845(0x197)]['add']('active');if(tg)tg[_0x256845(0x13f)][_0x256845(0xf4)]();}function exitSearchMode(){const _0x4c3945=a7_0x11dbbb;state[_0x4c3945(0x15b)]=![],document[_0x4c3945(0x116)][_0x4c3945(0x197)][_0x4c3945(0x10e)](_0x4c3945(0x16d)),el[_0x4c3945(0x14b)][_0x4c3945(0x127)](),el[_0x4c3945(0xf7)][_0x4c3945(0x197)]['remove'](_0x4c3945(0x187)),el[_0x4c3945(0x191)]['style'][_0x4c3945(0x121)]=_0x4c3945(0x14a),el[_0x4c3945(0x14b)][_0x4c3945(0x17d)]='';if(state[_0x4c3945(0x16e)])el[_0x4c3945(0x138)][_0x4c3945(0x197)][_0x4c3945(0x10d)](_0x4c3945(0x187));else el[_0x4c3945(0x1a5)]['classList'][_0x4c3945(0x10d)](_0x4c3945(0x187)),renderCategories();updateSaveButton();}init();