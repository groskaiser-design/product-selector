const a2_0x1f3422=a2_0x4d39;(function(_0x511dec,_0x324ca5){const _0x235a6e=a2_0x4d39,_0x4f27f9=_0x511dec();while(!![]){try{const _0x585397=-parseInt(_0x235a6e(0x2e5))/0x1+-parseInt(_0x235a6e(0x1fd))/0x2+parseInt(_0x235a6e(0x29b))/0x3+parseInt(_0x235a6e(0x1f0))/0x4*(parseInt(_0x235a6e(0x215))/0x5)+-parseInt(_0x235a6e(0x222))/0x6*(-parseInt(_0x235a6e(0x34c))/0x7)+parseInt(_0x235a6e(0x31e))/0x8*(parseInt(_0x235a6e(0x338))/0x9)+-parseInt(_0x235a6e(0x2f5))/0xa*(parseInt(_0x235a6e(0x287))/0xb);if(_0x585397===_0x324ca5)break;else _0x4f27f9['push'](_0x4f27f9['shift']());}catch(_0x50f059){_0x4f27f9['push'](_0x4f27f9['shift']());}}}(a2_0x4da6,0x5180f),function initTMA(){const _0x2f9278=a2_0x4d39,_0x5aee0c=(function(){let _0xbbc1ec=!![];return function(_0x275fc8,_0x2710c2){const _0x5c1422=_0xbbc1ec?function(){const _0x4e61ed=a2_0x4d39;if(_0x2710c2){const _0x13a04b=_0x2710c2[_0x4e61ed(0x34b)](_0x275fc8,arguments);return _0x2710c2=null,_0x13a04b;}}:function(){};return _0xbbc1ec=![],_0x5c1422;};}()),_0x10c5f6=_0x5aee0c(this,function(){const _0x5867bb=a2_0x4d39;return _0x10c5f6[_0x5867bb(0x2d1)]()[_0x5867bb(0x24b)](_0x5867bb(0x1e0))[_0x5867bb(0x2d1)]()['constructor'](_0x10c5f6)[_0x5867bb(0x24b)](_0x5867bb(0x1e0));});_0x10c5f6();try{const _0x536baf=window[_0x2f9278(0x2e6)]?.[_0x2f9278(0x2c7)];if(!_0x536baf)return;_0x536baf['ready'](),_0x536baf['expand']();try{_0x536baf[_0x2f9278(0x248)](_0x2f9278(0x2a4)),_0x536baf['setBackgroundColor']&&_0x536baf[_0x2f9278(0x357)](_0x2f9278(0x2a4));}catch(_0x339fa2){console[_0x2f9278(0x310)]('Error\x20setting\x20color:',_0x339fa2);}try{_0x536baf['BackButton']&&(_0x536baf[_0x2f9278(0x29e)][_0x2f9278(0x353)](),_0x536baf['BackButton'][_0x2f9278(0x2fc)](),_0x536baf[_0x2f9278(0x29e)]['onClick'](function(){const _0x49e803=_0x2f9278;window[_0x49e803(0x2d9)]['href']=_0x49e803(0x27f);}));}catch(_0x40cb20){console[_0x2f9278(0x310)]('Error\x20setting\x20back\x20button:',_0x40cb20);}try{if(_0x536baf[_0x2f9278(0x349)])_0x536baf[_0x2f9278(0x349)]();}catch(_0x534f35){}}catch(_0x40d934){console[_0x2f9278(0x1fc)]('Critical\x20TMA\x20Error:',_0x40d934);}}());function isAdmin(){const _0x31f7a7=a2_0x4d39;try{const _0x30932f=Number(window[_0x31f7a7(0x2e6)]?.[_0x31f7a7(0x2c7)]?.[_0x31f7a7(0x2bd)]?.[_0x31f7a7(0x1ea)]?.['id']);return _0x30932f===0xbaf7174;}catch(_0x559e96){return![];}}const APP_VERSION=a2_0x1f3422(0x237),API_URL=a2_0x1f3422(0x2b2),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x1f3422(0x30c),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4cf9be=a2_0x1f3422;return window[_0x4cf9be(0x2e6)]?.['WebApp']?.[_0x4cf9be(0x2bd)]?.[_0x4cf9be(0x1ea)]?.['id']||_0x4cf9be(0x293);},'saveLocally'(){const _0x2a7b20=a2_0x1f3422;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x2a7b20(0x254)](clients)),localStorage[_0x2a7b20(0x358)](KEY_SESSIONS,JSON[_0x2a7b20(0x254)](sessions)),localStorage[_0x2a7b20(0x358)](KEY_SETTINGS,JSON[_0x2a7b20(0x254)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x338def){console[_0x2a7b20(0x1fc)](_0x2a7b20(0x2a8),_0x338def);}},'loadLocal'(){const _0x5b41c5=a2_0x1f3422;try{const _0x15552a=localStorage[_0x5b41c5(0x2f3)](KEY_CLIENTS);if(_0x15552a)clients=JSON['parse'](_0x15552a);const _0x1a1256=localStorage[_0x5b41c5(0x2f3)](KEY_SESSIONS);if(_0x1a1256)sessions=JSON[_0x5b41c5(0x276)](_0x1a1256);const _0x48accb=localStorage[_0x5b41c5(0x2f3)](KEY_SETTINGS);if(_0x48accb){const _0x349ebe=JSON['parse'](_0x48accb);if(_0x349ebe[_0x5b41c5(0x28b)])availabilityPattern=_0x349ebe[_0x5b41c5(0x28b)];if(_0x349ebe['exceptions'])dateExceptions=_0x349ebe[_0x5b41c5(0x28e)];if(_0x349ebe[_0x5b41c5(0x35e)])specialRanges=_0x349ebe[_0x5b41c5(0x35e)];}else{for(let _0x5b3c6d=0x0;_0x5b3c6d<0x7;_0x5b3c6d++)availabilityPattern[_0x5b3c6d]=Array['from']({'length':0xc},(_0x56b966,_0x139501)=>_0x139501+0x9);}}catch(_0x3ef213){console[_0x5b41c5(0x1fc)](_0x5b41c5(0x329),_0x3ef213);}},async 'fetchFromServer'(_0x5627be,_0x20eff4={}){const _0x11456e=a2_0x1f3422,_0x5284cc=window[_0x11456e(0x2e6)]?.[_0x11456e(0x2c7)],_0x3b169b={'action':_0x5627be,'init_data':_0x5284cc?.[_0x11456e(0x2f2)]||'',..._0x20eff4};try{const _0x54d48f=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x11456e(0x200)},'body':JSON[_0x11456e(0x254)](_0x3b169b)}),_0x55aadb=await _0x54d48f[_0x11456e(0x26b)]();if(!_0x55aadb['ok'])throw new Error(_0x55aadb[_0x11456e(0x1fc)]||_0x11456e(0x2b8));return _0x55aadb[_0x11456e(0x250)];}catch(_0xb33b3){console[_0x11456e(0x1fc)](_0x11456e(0x258)+_0x5627be+_0x11456e(0x29a),_0xb33b3);throw _0xb33b3;}},async 'syncLoad'(){const _0x18bc66=a2_0x1f3422,_0x73f2a0=new Date(),_0x48e3f4=_0x73f2a0[_0x18bc66(0x313)]()+'-'+String(_0x73f2a0[_0x18bc66(0x1fe)]()+0x1)[_0x18bc66(0x263)](0x2,'0'),_0x14947c=new Date(_0x73f2a0);_0x14947c[_0x18bc66(0x286)](_0x73f2a0['getMonth']()+0x1);const _0xaeb79b=_0x14947c[_0x18bc66(0x313)]()+'-'+String(_0x14947c['getMonth']()+0x1)[_0x18bc66(0x263)](0x2,'0'),_0x565666=Date[_0x18bc66(0x335)]();console[_0x18bc66(0x310)](_0x18bc66(0x2aa)+_0x48e3f4+',\x20'+_0xaeb79b+'...');try{const [_0x11e706,_0x185e5e]=await Promise[_0x18bc66(0x231)]([this[_0x18bc66(0x325)](_0x18bc66(0x234),{'month_str':_0x48e3f4}),this[_0x18bc66(0x325)](_0x18bc66(0x234),{'month_str':_0xaeb79b})]);if(lastUserActionTime>_0x565666)return console[_0x18bc66(0x201)](_0x18bc66(0x297)),![];return this[_0x18bc66(0x22f)](_0x11e706,_0x48e3f4),this[_0x18bc66(0x22f)](_0x185e5e,_0xaeb79b),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x242067){console[_0x18bc66(0x1fc)](_0x242067);throw _0x242067;}},'mergeServerData'(_0x1e24c5,_0x140ddf){const _0x495084=a2_0x1f3422;if(!_0x1e24c5)return;_0x1e24c5[_0x495084(0x214)]&&Array['isArray'](_0x1e24c5[_0x495084(0x214)])&&(clients=_0x1e24c5[_0x495084(0x214)]);if(_0x1e24c5[_0x495084(0x289)]){if(_0x1e24c5['settings']['pattern'])availabilityPattern=_0x1e24c5[_0x495084(0x289)][_0x495084(0x28b)];if(_0x1e24c5[_0x495084(0x289)][_0x495084(0x28e)])dateExceptions=_0x1e24c5['settings']['exceptions'];if(_0x1e24c5[_0x495084(0x289)][_0x495084(0x35e)])specialRanges=_0x1e24c5[_0x495084(0x289)][_0x495084(0x35e)];if(_0x1e24c5[_0x495084(0x289)]['cancel_window']){localStorage[_0x495084(0x358)](_0x495084(0x27c),_0x1e24c5[_0x495084(0x289)][_0x495084(0x35c)]);const _0x5b9aea=document[_0x495084(0x322)](_0x495084(0x1ed));if(_0x5b9aea)_0x5b9aea[_0x495084(0x2e8)]=_0x1e24c5[_0x495084(0x289)][_0x495084(0x35c)];}}_0x1e24c5[_0x495084(0x33d)]&&(sessions=sessions[_0x495084(0x27a)](_0x218863=>!_0x218863[_0x495084(0x321)][_0x495084(0x1fb)](_0x140ddf)),Object[_0x495084(0x1dd)](_0x1e24c5['calendar'])['forEach'](_0x128978=>{const _0x2501bd=_0x495084,_0x4cd081=_0x1e24c5['calendar'][_0x128978];_0x4cd081[_0x2501bd(0x2ed)](_0x5758d3=>{const _0x1ff8d7=_0x2501bd,_0x327c70=clients[_0x1ff8d7(0x244)](_0x124125=>String(_0x124125['id'])===String(_0x5758d3['c']));sessions[_0x1ff8d7(0x27e)]({'id':_0x5758d3['i'],'clientId':_0x5758d3['c'],'client':_0x327c70?_0x327c70[_0x1ff8d7(0x2d4)]:_0x1ff8d7(0x282),'dateStr':_0x140ddf+'-'+_0x128978[_0x1ff8d7(0x263)](0x2,'0'),'start':_0x5758d3['s'],'end':_0x5758d3['e'],'status':_0x5758d3['st']||_0x1ff8d7(0x2ae),'note':_0x5758d3['n']||'','seriesId':_0x5758d3[_0x1ff8d7(0x316)]||null});});}));},async 'syncBatch'(_0x185625){const _0x8c4ac1=a2_0x1f3422,_0x557584=[...new Set(_0x185625)],_0x30910d=_0x557584[_0x8c4ac1(0x351)](_0x41c873=>{const _0xd0dc11=_0x8c4ac1,_0x52009a=sessions[_0xd0dc11(0x27a)](_0x2fd819=>_0x2fd819[_0xd0dc11(0x321)]===_0x41c873&&_0x2fd819[_0xd0dc11(0x307)]!==_0xd0dc11(0x252)),_0x2b0fb1=_0x52009a['map'](_0x5be8f1=>({'i':_0x5be8f1['id'],'c':_0x5be8f1['clientId'],'s':_0x5be8f1[_0xd0dc11(0x323)],'e':_0x5be8f1[_0xd0dc11(0x227)],'st':_0x5be8f1[_0xd0dc11(0x307)],'n':_0x5be8f1['note'],'sid':_0x5be8f1[_0xd0dc11(0x285)]}));return{'date':_0x41c873,'day_data':_0x2b0fb1};});if(_0x30910d[_0x8c4ac1(0x20b)]===0x0)return;console[_0x8c4ac1(0x310)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x30910d['length']+_0x8c4ac1(0x2be)),await this['fetchFromServer'](_0x8c4ac1(0x340),{'changes':_0x30910d});}};async function init(){const _0x38c8c1=a2_0x1f3422;DataManager[_0x38c8c1(0x233)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x38c8c1(0x322)](_0x38c8c1(0x277))['addEventListener'](_0x38c8c1(0x22a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x38c8c1(0x2ce)](()=>{const _0x32a9e4=_0x38c8c1;showToast(_0x32a9e4(0x2a5),!![]);})['catch'](_0xaa7fb9=>{const _0x2a2c63=_0x38c8c1;showToast(_0x2a2c63(0x2a3),![]);});}function generateId(){const _0x3ee3d5=a2_0x1f3422;return Date[_0x3ee3d5(0x335)]()[_0x3ee3d5(0x2d1)](0x24)+Math[_0x3ee3d5(0x2fd)]()[_0x3ee3d5(0x2d1)](0x24)[_0x3ee3d5(0x2ac)](0x2,0x5);}function toggleSeriesInput(){const _0x1658cc=a2_0x1f3422,_0x236784=document[_0x1658cc(0x322)](_0x1658cc(0x218))[_0x1658cc(0x2c5)],_0x347627=document[_0x1658cc(0x322)](_0x1658cc(0x330));_0x347627[_0x1658cc(0x2b3)][_0x1658cc(0x2cb)]=_0x236784?_0x1658cc(0x33e):'none';const _0x23caa7=document['getElementById']('recurringOptionContainer');_0x23caa7[_0x1658cc(0x2b3)][_0x1658cc(0x2c0)]=_0x236784?_0x1658cc(0x261):_0x1658cc(0x31b);}function openAddSession(_0x322d3e){const _0x2c968c=a2_0x1f3422;editingId=null,populateClientSelect(),document[_0x2c968c(0x322)]('sheetTitle')['textContent']=_0x2c968c(0x2c3),document['getElementById'](_0x2c968c(0x2c8))[_0x2c968c(0x2b3)]['display']=_0x2c968c(0x204),document['getElementById']('btnStatusToggle')[_0x2c968c(0x2b3)][_0x2c968c(0x2cb)]='none';const _0xfc54c3=document[_0x2c968c(0x322)](_0x2c968c(0x1ef)),_0x2b74a9=document[_0x2c968c(0x322)]('seriesCountContainer');_0xfc54c3[_0x2c968c(0x2b3)][_0x2c968c(0x2cb)]='flex',_0xfc54c3[_0x2c968c(0x2b3)][_0x2c968c(0x2c0)]=_0x2c968c(0x31b),document[_0x2c968c(0x322)](_0x2c968c(0x218))[_0x2c968c(0x2c5)]=![],document[_0x2c968c(0x322)](_0x2c968c(0x25e))[_0x2c968c(0x2e8)]=0x4,_0x2b74a9[_0x2c968c(0x2b3)]['display']=_0x2c968c(0x204),document['getElementById'](_0x2c968c(0x26a))[_0x2c968c(0x2e8)]=getLocalDateStr(_0x322d3e),updateDateDisplay();const _0x3b0141=_0x322d3e[_0x2c968c(0x288)]();document[_0x2c968c(0x322)](_0x2c968c(0x209))[_0x2c968c(0x2e8)]=String(_0x3b0141)[_0x2c968c(0x263)](0x2,'0')+':00',document[_0x2c968c(0x322)](_0x2c968c(0x212))[_0x2c968c(0x2e8)]=String(_0x3b0141+0x1)[_0x2c968c(0x263)](0x2,'0')+_0x2c968c(0x296),openSheet(_0x2c968c(0x2c1));}function openEdit(_0x55a471){const _0x5668a8=a2_0x1f3422;editingId=_0x55a471['id'],populateClientSelect(),document['getElementById'](_0x5668a8(0x2f6))['textContent']=_0x5668a8(0x23a),document[_0x5668a8(0x322)](_0x5668a8(0x2c8))[_0x5668a8(0x2b3)][_0x5668a8(0x2cb)]='block';const _0x5c12cd=document[_0x5668a8(0x322)]('btnStatusToggle');_0x5c12cd[_0x5668a8(0x2b3)][_0x5668a8(0x2cb)]='flex';_0x55a471['status']===_0x5668a8(0x33b)?(_0x5c12cd[_0x5668a8(0x300)]='btn-status-toggle\x20undo-mode',_0x5c12cd[_0x5668a8(0x2c6)]=_0x5668a8(0x260)):(_0x5c12cd[_0x5668a8(0x300)]=_0x5668a8(0x2cc),_0x5c12cd[_0x5668a8(0x2c6)]=_0x5668a8(0x259));const _0x2da0d1=!!_0x55a471['seriesId'];document['getElementById'](_0x5668a8(0x1ef))[_0x5668a8(0x2b3)]['display']='none',document['getElementById'](_0x5668a8(0x330))['style'][_0x5668a8(0x2cb)]=_0x5668a8(0x204),_0x2da0d1?(document[_0x5668a8(0x322)](_0x5668a8(0x35b))[_0x5668a8(0x2b3)][_0x5668a8(0x2cb)]=_0x5668a8(0x224),document[_0x5668a8(0x322)](_0x5668a8(0x35b))[_0x5668a8(0x24f)](_0x5668a8(0x1eb))[_0x5668a8(0x23c)]=_0x5668a8(0x208)):document['getElementById'](_0x5668a8(0x35b))[_0x5668a8(0x2b3)][_0x5668a8(0x2cb)]=_0x5668a8(0x204),document[_0x5668a8(0x322)](_0x5668a8(0x31f))[_0x5668a8(0x2e8)]=_0x55a471['client'],document[_0x5668a8(0x322)](_0x5668a8(0x26a))[_0x5668a8(0x2e8)]=_0x55a471[_0x5668a8(0x321)],document[_0x5668a8(0x322)]('inpStart')[_0x5668a8(0x2e8)]=_0x55a471['start'],document[_0x5668a8(0x322)]('inpEnd')[_0x5668a8(0x2e8)]=_0x55a471[_0x5668a8(0x227)],document['getElementById']('inpNote')[_0x5668a8(0x2e8)]=_0x55a471[_0x5668a8(0x221)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x21d28e=a2_0x1f3422,_0x13bb8c=document['getElementById']('inpClient')[_0x21d28e(0x2e8)],_0x517859=document['getElementById']('inpDate')[_0x21d28e(0x2e8)],_0x1dc2e8=document[_0x21d28e(0x322)](_0x21d28e(0x209))[_0x21d28e(0x2e8)],_0x4fe850=document[_0x21d28e(0x322)](_0x21d28e(0x212))[_0x21d28e(0x2e8)],_0x289bed=document[_0x21d28e(0x322)]('inpNote')[_0x21d28e(0x2e8)],_0x350ebb=document[_0x21d28e(0x322)]('inpRecurring')[_0x21d28e(0x2c5)];let _0x5854f4=0x4;if(_0x350ebb){const _0x3d57d6=parseInt(document['getElementById'](_0x21d28e(0x25e))['value']);if(!_0x3d57d6||_0x3d57d6<0x2){showToast(_0x21d28e(0x32a),![]);return;}if(_0x3d57d6>0x64){showToast(_0x21d28e(0x251),![]);return;}_0x5854f4=_0x3d57d6;}const _0x25219c=clients[_0x21d28e(0x244)](_0x251a90=>_0x251a90[_0x21d28e(0x2d4)]===_0x13bb8c);if(!_0x25219c){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x4cee68=validateAppointment(_0x517859,_0x1dc2e8,_0x4fe850,editingId,_0x25219c['id']);if(!_0x4cee68[_0x21d28e(0x1e1)]){showToast(_0x4cee68[_0x21d28e(0x1e6)],![]);return;}_0x4cee68['warning']&&showToast(_0x4cee68[_0x21d28e(0x365)],![]);const _0x11aa8f={'client':_0x13bb8c,'clientId':_0x25219c['id'],'start':_0x1dc2e8,'end':_0x4fe850,'note':_0x289bed,'status':'planned'},_0x4c047e=editingId?sessions[_0x21d28e(0x244)](_0x51faf2=>_0x51faf2['id']===editingId):null;if(_0x4c047e&&_0x4c047e['seriesId']){tempSessionData={..._0x11aa8f,'dateStr':_0x517859,'id':editingId,'seriesId':_0x4c047e[_0x21d28e(0x285)]},openActionSheet(_0x21d28e(0x2ba));return;}let _0x397542=null;if(!editingId)_0x397542='create';else{if(_0x4c047e){if(String(_0x4c047e[_0x21d28e(0x342)])!==String(_0x25219c['id']))console[_0x21d28e(0x310)](_0x21d28e(0x343)),NotificationManager[_0x21d28e(0x2d2)](_0x21d28e(0x2b9),_0x4c047e),_0x397542=_0x21d28e(0x238);else(_0x4c047e['start']!==_0x1dc2e8||_0x4c047e[_0x21d28e(0x227)]!==_0x4fe850||_0x4c047e[_0x21d28e(0x321)]!==_0x517859)&&(_0x397542='update');}}if(!editingId&&_0x350ebb){createBatchSeries(_0x11aa8f,_0x517859,_0x5854f4),NotificationManager[_0x21d28e(0x2d2)](_0x21d28e(0x238),{..._0x11aa8f,'dateStr':_0x517859});return;}lastUserActionTime=Date[_0x21d28e(0x335)]();const _0xa42a5d={..._0x11aa8f,'dateStr':_0x517859,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xa42a5d),_0x397542&&NotificationManager['send'](_0x397542,_0xa42a5d);}function toggleSessionStatus(){const _0x5daec1=a2_0x1f3422;lastUserActionTime=Date[_0x5daec1(0x335)]();const _0x37f1ab=sessions['find'](_0x594416=>_0x594416['id']===editingId);if(!_0x37f1ab)return;const _0x3b8f9e=_0x37f1ab[_0x5daec1(0x307)]===_0x5daec1(0x33b)?_0x5daec1(0x2ae):'completed';_0x37f1ab[_0x5daec1(0x307)]=_0x3b8f9e,saveSingleSession(_0x37f1ab),_0x3b8f9e===_0x5daec1(0x33b)&&NotificationManager[_0x5daec1(0x2d2)](_0x5daec1(0x331),_0x37f1ab),showToast(_0x3b8f9e==='completed'?_0x5daec1(0x242):_0x5daec1(0x339),!![]);}function validateAppointment(_0x43a92b,_0x39e0ab,_0x5f5d2d,_0x5006de,_0x4c5c7f){const _0x4bb68a=a2_0x1f3422,[_0x3d1043,_0x201690]=_0x39e0ab[_0x4bb68a(0x2c9)](':')[_0x4bb68a(0x351)](Number),[_0x33914d,_0x564cf2]=_0x5f5d2d[_0x4bb68a(0x2c9)](':')[_0x4bb68a(0x351)](Number),_0x31ad43=_0x3d1043*0x3c+_0x201690,_0x2f617a=_0x33914d*0x3c+_0x564cf2,_0x2af54c=String(_0x4c5c7f);let _0x57df05=![],_0x140fc5='';for(let _0x573ee6 of sessions){if(_0x573ee6[_0x4bb68a(0x321)]!==_0x43a92b)continue;if(_0x573ee6[_0x4bb68a(0x307)]==='cancelled')continue;if(_0x5006de&&String(_0x573ee6['id'])===String(_0x5006de))continue;const [_0xc03acc,_0x40e1f2]=_0x573ee6[_0x4bb68a(0x323)]['split'](':')[_0x4bb68a(0x351)](Number),[_0x3c7d9b,_0x1b9860]=_0x573ee6['end'][_0x4bb68a(0x2c9)](':')[_0x4bb68a(0x351)](Number),_0x124f14=_0xc03acc*0x3c+_0x40e1f2,_0x4927fd=_0x3c7d9b*0x3c+_0x1b9860;if(Math[_0x4bb68a(0x309)](_0x31ad43,_0x124f14)<Math[_0x4bb68a(0x2d0)](_0x2f617a,_0x4927fd)){if(_0x573ee6[_0x4bb68a(0x342)]&&String(_0x573ee6['clientId'])===_0x2af54c)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x573ee6[_0x4bb68a(0x2da)]+_0x4bb68a(0x229)};_0x57df05=!![],_0x140fc5=_0x573ee6[_0x4bb68a(0x2da)];}}if(_0x57df05)return{'valid':!![],'warning':_0x4bb68a(0x275)+_0x140fc5};return{'valid':!![]};}function saveSingleSession(_0x30400b){const _0x26e37f=a2_0x1f3422;if(editingId){const _0x212040=sessions[_0x26e37f(0x363)](_0x465df9=>_0x465df9['id']===editingId);if(_0x212040!==-0x1)sessions[_0x212040]=_0x30400b;}else sessions[_0x26e37f(0x27e)](_0x30400b);afterSaveAction([_0x30400b[_0x26e37f(0x321)]]);}function a2_0x4d39(_0x466e11,_0x3cb282){_0x466e11=_0x466e11-0x1db;const _0x14066f=a2_0x4da6();let _0x1e78f2=_0x14066f[_0x466e11];return _0x1e78f2;}function createBatchSeries(_0x25b00a,_0x125975,_0x40614f){const _0x21b71e=a2_0x1f3422,_0x9a2a88=generateId(),_0x482da7=[],_0x359ad3=[];let _0x765e1=0x0,_0x1b59dd=new Date(_0x125975);for(let _0x9f9dbe=0x0;_0x9f9dbe<_0x40614f;_0x9f9dbe++){const _0x19d572=getLocalDateStr(_0x1b59dd),_0x551a48=validateAppointment(_0x19d572,_0x25b00a[_0x21b71e(0x323)],_0x25b00a[_0x21b71e(0x227)],null,_0x25b00a['clientId']);if(!_0x551a48[_0x21b71e(0x1e1)])console[_0x21b71e(0x310)](_0x21b71e(0x29c)+_0x19d572+_0x21b71e(0x334)),_0x765e1++;else{const _0x44ae98={..._0x25b00a,'id':generateId(),'dateStr':_0x19d572,'seriesId':_0x9a2a88};_0x359ad3[_0x21b71e(0x27e)](_0x44ae98),_0x482da7[_0x21b71e(0x27e)](_0x19d572);}_0x1b59dd[_0x21b71e(0x320)](_0x1b59dd[_0x21b71e(0x2a9)]()+0x7);}if(_0x359ad3[_0x21b71e(0x20b)]===0x0){showToast(_0x21b71e(0x352),![]);return;}sessions[_0x21b71e(0x27e)](..._0x359ad3),lastUserActionTime=Date[_0x21b71e(0x335)]();let _0x3dff44='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x359ad3['length'];_0x765e1>0x0&&(_0x3dff44+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x765e1+')'),showToast(_0x3dff44,!![]),afterSaveAction(_0x482da7);}function updateSeriesBatch(_0x155d88,_0xdbb4f2){const _0x38d3e7=a2_0x1f3422,_0xcedf6a=[],_0x131ecf=_0xdbb4f2['seriesId'];if(_0x155d88===_0x38d3e7(0x230)){const _0x1a8d63={..._0xdbb4f2,'seriesId':null},_0x386972=sessions['findIndex'](_0x10bdb6=>_0x10bdb6['id']===_0xdbb4f2['id']);if(_0x386972!==-0x1)sessions[_0x386972]=_0x1a8d63;_0xcedf6a['push'](_0x1a8d63[_0x38d3e7(0x321)]);}else{if(_0x155d88===_0x38d3e7(0x1e2)){const _0x4e832f=_0xdbb4f2[_0x38d3e7(0x321)];sessions[_0x38d3e7(0x2ed)]((_0xf74c38,_0x55c8fb)=>{const _0x71713d=_0x38d3e7;_0xf74c38[_0x71713d(0x285)]===_0x131ecf&&_0xf74c38[_0x71713d(0x321)]>=_0x4e832f&&(sessions[_0x55c8fb]={...sessions[_0x55c8fb],'start':_0xdbb4f2[_0x71713d(0x323)],'end':_0xdbb4f2['end'],'note':_0xdbb4f2[_0x71713d(0x221)],'client':_0xdbb4f2[_0x71713d(0x2da)],'clientId':_0xdbb4f2[_0x71713d(0x342)]},_0xcedf6a['push'](_0xf74c38['dateStr']));});}}afterSaveAction(_0xcedf6a);}function tryDeleteSession(){const _0x1bd650=a2_0x1f3422,_0x2635fe=sessions[_0x1bd650(0x244)](_0x32dfbb=>_0x32dfbb['id']===editingId);if(!_0x2635fe)return;_0x2635fe[_0x1bd650(0x285)]?openActionSheet(_0x1bd650(0x2dc)):commitDelete(_0x1bd650(0x230),_0x2635fe);}function commitDelete(_0x4cd009,_0x269648){const _0x1892f2=a2_0x1f3422;lastUserActionTime=Date[_0x1892f2(0x335)](),NotificationManager[_0x1892f2(0x2d2)]('cancel',_0x269648);const _0x55da12=[];if(_0x4cd009===_0x1892f2(0x230))sessions=sessions[_0x1892f2(0x27a)](_0x6254a1=>_0x6254a1['id']!==_0x269648['id']),_0x55da12[_0x1892f2(0x27e)](_0x269648['dateStr']);else{if(_0x4cd009==='series'){const _0x3c077f=_0x269648[_0x1892f2(0x321)],_0x62e333=_0x269648['seriesId'];sessions['forEach'](_0x2b9a80=>{const _0x335922=_0x1892f2;_0x2b9a80[_0x335922(0x285)]===_0x62e333&&_0x2b9a80['dateStr']>=_0x3c077f&&_0x55da12['push'](_0x2b9a80[_0x335922(0x321)]);}),sessions=sessions['filter'](_0x340fcf=>!(_0x340fcf[_0x1892f2(0x285)]===_0x62e333&&_0x340fcf[_0x1892f2(0x321)]>=_0x3c077f));}}afterSaveAction(_0x55da12);}function afterSaveAction(_0x1f237d){const _0x4fc0af=a2_0x1f3422;DataManager[_0x4fc0af(0x328)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4fc0af(0x299)](_0x1f237d)[_0x4fc0af(0x2ce)](()=>console[_0x4fc0af(0x310)](_0x4fc0af(0x24a)))[_0x4fc0af(0x30e)](_0x27c4a3=>showToast(_0x4fc0af(0x318),![]));}const NotificationManager={'formatDate'(_0x47598f){const _0x5860f6=a2_0x1f3422,_0x1df699=new Date(_0x47598f),_0x43b009={'weekday':'long','day':'numeric','month':'long'};let _0xd7b17=_0x1df699[_0x5860f6(0x280)](_0x5860f6(0x292),_0x43b009);return _0xd7b17[_0x5860f6(0x24c)](0x0)[_0x5860f6(0x2a2)]()+_0xd7b17['slice'](0x1);},'getText'(_0x5cc177,_0x2cb0d7){const _0x40e767=a2_0x1f3422,_0x2bfceb=this[_0x40e767(0x235)](_0x2cb0d7[_0x40e767(0x321)]);switch(_0x5cc177){case _0x40e767(0x238):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x2bfceb+'\x0a')+(_0x40e767(0x33c)+_0x2cb0d7[_0x40e767(0x323)]+_0x40e767(0x305)+_0x2cb0d7[_0x40e767(0x227)]+'\x0a\x0a')+_0x40e767(0x1f9);case _0x40e767(0x345):return _0x40e767(0x20c)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x40e767(0x207)+_0x2cb0d7['start']+_0x40e767(0x305)+_0x2cb0d7[_0x40e767(0x227)]+_0x40e767(0x22b))+(_0x40e767(0x28a)+_0x2bfceb);case'cancel':return _0x40e767(0x21d)+(_0x40e767(0x1f5)+_0x2bfceb+'\x20('+_0x2cb0d7[_0x40e767(0x323)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x40e767(0x331):return _0x40e767(0x2ef)+_0x40e767(0x2f9)+_0x40e767(0x23b);default:return'';}},async 'send'(_0xa1ccdc,_0x353f85){const _0x2f6b65=a2_0x1f3422;console[_0x2f6b65(0x310)](_0x2f6b65(0x2fb),_0xa1ccdc,_0x353f85);if(!_0x353f85){console[_0x2f6b65(0x1fc)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x5d8cb3=String(_0x353f85['clientId']);console[_0x2f6b65(0x310)]('[Notify]\x20Detected\x20Client\x20ID:',_0x5d8cb3);if(!_0x353f85[_0x2f6b65(0x342)]||_0x5d8cb3===_0x2f6b65(0x217)||_0x5d8cb3===_0x2f6b65(0x360)){console[_0x2f6b65(0x1fc)](_0x2f6b65(0x21b));if(_0x353f85[_0x2f6b65(0x2da)]){const _0x31f23d=clients[_0x2f6b65(0x244)](_0x353a89=>_0x353a89[_0x2f6b65(0x2d4)]===_0x353f85[_0x2f6b65(0x2da)]);if(_0x31f23d)return console['log'](_0x2f6b65(0x1f3),_0x31f23d['id']),this[_0x2f6b65(0x2d2)](_0xa1ccdc,{..._0x353f85,'clientId':_0x31f23d['id']});}return;}if(_0x5d8cb3[_0x2f6b65(0x20b)]<0x5){console['warn'](_0x2f6b65(0x355),_0x5d8cb3);return;}const _0x26b115=this[_0x2f6b65(0x26f)](_0xa1ccdc,_0x353f85);if(!_0x26b115){console['error'](_0x2f6b65(0x2ee));return;}console[_0x2f6b65(0x310)](_0x2f6b65(0x2d7)+_0x5d8cb3+'...'),DataManager[_0x2f6b65(0x325)](_0x2f6b65(0x350),{'chatId':_0x5d8cb3,'text':_0x26b115})[_0x2f6b65(0x2ce)](_0x319c17=>console[_0x2f6b65(0x310)](_0x2f6b65(0x220),_0x319c17))['catch'](_0x547f22=>console['error'](_0x2f6b65(0x1f6),_0x547f22));}};function a2_0x4da6(){const _0x52e7cc=['send_notification','map','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','show','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','day-column\x20','setBackgroundColor','setItem','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','today','patternInfoBox','cancel_window','rgba(255,\x20159,\x2010,\x200.3)','ranges','%\x20+\x202px)','null','\x20status-completed','#fff','findIndex','height','warning','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','rangeStartDate','from','touchmove','#0a84ff','keys','mini','target','(((.+)+)+)+$','valid','series','splice','anCustomDates',':00</span>','msg','header-','div','globalTimeLine','user','.pib-text','firstChild','settingCancelWindow','stat-','recurringOptionContainer','2324fqmnpH','sort','long','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','success','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','[Notify]\x20Network\x20Failed','borderColor','touches','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','add','startsWith','error','142528dXlWAH','getMonth','width','text/plain;charset=UTF-8','warn','off','var(--acc-current)','none','getTime','custom','<b>‚úÖ\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','inpStart','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','length','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','btn-primary\x20btn-danger','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','doLoadPercent','touchstart','backgroundColor','inpEnd','–£—Å–ø–µ—à–Ω–æ','clients','380FXAWkQ','createElement','undefined','inpRecurring','</div>','scrollLeft','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','classList','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','time-label','<div\x20class=\x22ev-title\x22>','[Notify]\x20Server\x20Response:','note','491280bHwzcD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','flex','dayOptionsTitle','.period-switch\x20.p-btn','end','day-col-header\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','scroll','</b>\x0a\x0a','as-button\x20danger','anDonutCircle','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','mergeServerData','single','all','borderLeftColor','loadLocal','init_load','formatDate','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','v9.0-BATCH-CALENDAR','create','%\x20-\x204px)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','textContent','.day-column','[Settings]\x20Cancel\x20window\x20set\x20to:','setHours','anEnd','anPercent','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','includes','find','mouseup','var(--acc-green)','doBusyHours','setHeaderColor','getAttribute','Batch\x20Sync\x20OK','search','charAt','px\x200px','option','querySelector','data','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','deleted','addEventListener','stringify','overlay','getMinutes','numeric','[API\x20','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','color','.day-off-overlay','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','var(--acc-red)','inpSeriesCount','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','10px\x2010px\x200\x200','peGrid','padStart','active','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','client-stat-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','day-off-overlay\x20stripe-bg','doEventsList','inpDate','json','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','blocked-range-part\x20stripe-bg','total','getText','getDay','toFixed','cancelled','scrollTop','entries','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','parse','matrixViewport','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rangeEndDate','filter','#gridColumns\x20.day-column','uc_settings_cancel_window','dayOptionsSheet','push','router.html','toLocaleDateString','actionSheetOverlay','Unknown','.day-col-header','save_settings','seriesId','setMonth','11hOxELP','getHours','settings','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','pattern','statLoadCard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exceptions','rgba(','<div\x20class=\x22dch-day\x22>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ru-RU','guest','toastTitle','top',':00','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','syncBatch',']\x20Failed:','1709070jfvHUq','[Series]\x20Skipped\x20','touchend','BackButton','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','toast','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','toUpperCase','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','#050505','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','backgroundPosition','getBoundingClientRect','Local\x20Save\x20Error','getDate','[Sync]\x20Loading\x20','calc(','substr','localeCompare','planned',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','style','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','</span>\x20/\x20','createDocumentFragment','colIndex','Server\x20Error','cancel','save','appendChild','anStart','initDataUnsafe','\x20days','rangeStartTime','borderRadius','sessionSheet','–£–¥–∞–ª–µ–Ω–∏–µ','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','closest','checked','innerHTML','WebApp','btnDelete','split','settingsSheet','display','btn-status-toggle','week','then','pe-corner','min','toString','send','background','name','event-card','23:59','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','location','client','mousedown','delete','doDateHeader','analyticsSheet','month','data-day-idx','floor','anTotalStats','actionSheet','T23:59:59','392152aJmJHW','Telegram','rgba(255,\x2069,\x2058,\x200.15)','value','</div><div\x20class=\x22dch-num\x22>','.event-card','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','headerMonth','forEach','[Notify]\x20Error:\x20Text\x20generation\x20failed','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','100%','analyticsList','initData','getItem','blocked-slot\x20stripe-bg','3708820TSwRyw','sheetTitle','offsetLeft','sheetDateSubtitle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','[Notify]\x20Attempting\x20to\x20send:','offClick','random','rangesList','clientY','className','done','px\x20-','pe-cell\x20','<span>','\x20‚Äî\x20','vibrate','status','strokeDashoffset','max','onclick','setAttribute','uc_sessions_v9','timeLineBadge','catch','mousemove','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientWidth','getFullYear','remove','patternEditor','sid','text','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–ò–Ω—Ñ–æ','toast-notification\x20','10px','range-item','data-date','8wjIMzw','inpClient','setDate','dateStr','getElementById','start','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','fetchFromServer','indexOf','.dch-stats-fill','saveLocally','Local\x20Load\x20Error','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','querySelectorAll','scrollWidth','\x20-\x20','rgba(48,\x20209,\x2088,\x200.15)','DOMContentLoaded','seriesCountContainer','complete','00:00','open',':\x20Client\x20already\x20booked','now','as-button\x20danger\x20bold','left','4251699SIyNao','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','round','completed','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','calendar','block','pe-col-header','batch_sync','</div><div\x20class=\x22ev-time\x22>','clientId','[Notify]\x20Client\x20SWAP\x20detected','rangeEndTime','update','Save\x20settings\x20error:','toLocaleString','slice','disableVerticalSwipes','daysHeaderTrack','apply','7SpdamH','btn-primary\x20btn-secondary','insertBefore','asBtnSeries'];a2_0x4da6=function(){return _0x52e7cc;};return a2_0x4da6();}function getLocalDateStr(_0x26a2f3){const _0x2426ef=a2_0x1f3422,_0x2dd4b1=_0x26a2f3[_0x2426ef(0x313)](),_0x4a9798=String(_0x26a2f3[_0x2426ef(0x1fe)]()+0x1)[_0x2426ef(0x263)](0x2,'0'),_0x578df3=String(_0x26a2f3[_0x2426ef(0x2a9)]())['padStart'](0x2,'0');return _0x2dd4b1+'-'+_0x4a9798+'-'+_0x578df3;}function getDateStr(_0xc0029f){const _0x26ebe5=a2_0x1f3422,_0x116f24=new Date();return _0x116f24[_0x26ebe5(0x320)](_0x116f24['getDate']()+_0xc0029f),getLocalDateStr(_0x116f24);}function getStartOfWeek(_0x456434){const _0x46babc=a2_0x1f3422,_0x33ddae=new Date(_0x456434),_0x5cabcd=_0x33ddae[_0x46babc(0x270)](),_0x4a554c=_0x33ddae['getDate']()-_0x5cabcd+(_0x5cabcd===0x0?-0x6:0x1);return _0x33ddae['setDate'](_0x4a554c),_0x33ddae[_0x46babc(0x23f)](0x0,0x0,0x0,0x0),_0x33ddae;}function hexToRgba(_0xd8179b,_0x24b3f3){const _0x1480b5=a2_0x1f3422;if(!_0xd8179b)return'rgba(100,100,100,0.5)';let _0xcdb926=0x0,_0x51f548=0x0,_0x58cfd0=0x0;if(_0xd8179b[_0x1480b5(0x20b)]===0x4)_0xcdb926='0x'+_0xd8179b[0x1]+_0xd8179b[0x1],_0x51f548='0x'+_0xd8179b[0x2]+_0xd8179b[0x2],_0x58cfd0='0x'+_0xd8179b[0x3]+_0xd8179b[0x3];else _0xd8179b[_0x1480b5(0x20b)]===0x7&&(_0xcdb926='0x'+_0xd8179b[0x1]+_0xd8179b[0x2],_0x51f548='0x'+_0xd8179b[0x3]+_0xd8179b[0x4],_0x58cfd0='0x'+_0xd8179b[0x5]+_0xd8179b[0x6]);return _0x1480b5(0x28f)+ +_0xcdb926+',\x20'+ +_0x51f548+',\x20'+ +_0x58cfd0+',\x20'+_0x24b3f3+')';}function renderTimeColumn(){const _0x1974f7=a2_0x1f3422,_0x104fef=document[_0x1974f7(0x322)]('timeColumn'),_0x36e9d9=document['getElementById'](_0x1974f7(0x30d));_0x104fef[_0x1974f7(0x2c6)]='',_0x104fef[_0x1974f7(0x2bb)](_0x36e9d9);for(let _0x1880d4=0x0;_0x1880d4<0x18;_0x1880d4++){const _0x488879=document[_0x1974f7(0x216)](_0x1974f7(0x1e8));_0x488879[_0x1974f7(0x300)]=_0x1974f7(0x21e);if(_0x1880d4>0x0)_0x488879[_0x1974f7(0x2c6)]=_0x1974f7(0x304)+String(_0x1880d4)[_0x1974f7(0x263)](0x2,'0')+_0x1974f7(0x1e5);_0x104fef[_0x1974f7(0x2bb)](_0x488879);}}function renderDayRange(_0xea7bcd,_0x4d33c0){const _0x26d582=a2_0x1f3422,_0x5d6ae9=document['getElementById'](_0x26d582(0x34a)),_0x46c15f=document[_0x26d582(0x322)]('gridColumns'),_0x18f5b6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x519ff6=new Date();_0x519ff6[_0x26d582(0x23f)](0x0,0x0,0x0,0x0);const _0x1c9b93=getLocalDateStr(new Date());for(let _0x3e934a=_0xea7bcd;_0x3e934a<=_0x4d33c0;_0x3e934a++){const _0x1a488f=new Date(_0x519ff6);_0x1a488f[_0x26d582(0x320)](_0x1a488f['getDate']()+_0x3e934a);const _0x59d40f=getLocalDateStr(_0x1a488f);let _0x220385=_0x1a488f['getDay']()-0x1;if(_0x220385===-0x1)_0x220385=0x6;const _0xd5a800=_0x59d40f===_0x1c9b93,_0x59c6ad=document[_0x26d582(0x216)]('div');_0x59c6ad[_0x26d582(0x300)]=_0x26d582(0x228)+(_0xd5a800?_0x26d582(0x35a):''),_0x59c6ad['id']=_0x26d582(0x1e7)+_0x59d40f,_0x59c6ad[_0x26d582(0x30b)]('data-date',_0x59d40f),_0x59c6ad[_0x26d582(0x2c6)]=_0x26d582(0x290)+_0x18f5b6[_0x220385]+_0x26d582(0x2e9)+_0x1a488f[_0x26d582(0x2a9)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x59d40f+_0x26d582(0x26c),_0x59c6ad[_0x26d582(0x30a)]=()=>openDayOptions(_0x59d40f,_0x18f5b6[_0x220385]+'\x20'+_0x1a488f[_0x26d582(0x2a9)]()),_0x5d6ae9[_0x26d582(0x2bb)](_0x59c6ad);const _0x52c954=document[_0x26d582(0x216)](_0x26d582(0x1e8));_0x52c954[_0x26d582(0x300)]=_0x26d582(0x356)+(_0xd5a800?_0x26d582(0x35a):''),_0x52c954[_0x26d582(0x30b)]('data-date',_0x59d40f),_0x52c954[_0x26d582(0x30b)](_0x26d582(0x2e0),_0x220385),renderEventsForColumn(_0x52c954,_0x59d40f,_0x220385),attachLongPressHandler(_0x52c954,_0x1a488f),_0x46c15f[_0x26d582(0x2bb)](_0x52c954),updateDayStats(_0x59d40f);}}function reRenderBlocks(){const _0x467f3f=a2_0x1f3422;document['querySelectorAll'](_0x467f3f(0x27b))[_0x467f3f(0x2ed)](_0x5dead9=>{const _0x44c08d=_0x467f3f;_0x5dead9['querySelectorAll'](_0x44c08d(0x25f))[_0x44c08d(0x2ed)](_0x13da52=>_0x13da52['remove']());const _0x35373b=_0x5dead9[_0x44c08d(0x249)]('data-date'),_0x45478f=parseInt(_0x5dead9[_0x44c08d(0x249)](_0x44c08d(0x2e0))),_0x209be6=Math[_0x44c08d(0x33a)](_0x5dead9['offsetLeft']);(availabilityPattern[_0x45478f]||[])[_0x44c08d(0x2ed)](_0xbbf46e=>{const _0x159891=_0x44c08d,_0x154df5=document[_0x159891(0x216)]('div');_0x154df5[_0x159891(0x300)]=_0x159891(0x2f4);const _0x466aa2=_0xbbf46e*GRID_H;_0x154df5[_0x159891(0x2b3)][_0x159891(0x295)]=_0x466aa2+'px',_0x154df5[_0x159891(0x2b3)][_0x159891(0x2a6)]='-'+_0x209be6+_0x159891(0x302)+_0x466aa2+'px',_0x5dead9[_0x159891(0x2bb)](_0x154df5);});if(specialRanges&&specialRanges[_0x44c08d(0x20b)]>0x0){const _0x45fa79=new Date(_0x35373b+'T00:00:00')['getTime'](),_0x39094c=new Date(_0x35373b+_0x44c08d(0x2e4))[_0x44c08d(0x205)]();specialRanges[_0x44c08d(0x2ed)](_0x185bd2=>{const _0x52a376=_0x44c08d,_0x44ef09=new Date(_0x185bd2[_0x52a376(0x323)])[_0x52a376(0x205)](),_0x2f057d=new Date(_0x185bd2[_0x52a376(0x227)])[_0x52a376(0x205)](),_0x4b8e46=Math['max'](_0x45fa79,_0x44ef09),_0x3aef69=Math[_0x52a376(0x2d0)](_0x39094c,_0x2f057d);if(_0x4b8e46<_0x3aef69){if(_0x4b8e46<=_0x45fa79&&_0x3aef69>=_0x39094c-0xea60){if(!_0x5dead9['querySelector'](_0x52a376(0x25b))){const _0x3b616c=document[_0x52a376(0x216)]('div');_0x3b616c[_0x52a376(0x300)]=_0x52a376(0x268),_0x3b616c[_0x52a376(0x2b3)]['backgroundPosition']='-'+_0x209be6+_0x52a376(0x24d),_0x5dead9['appendChild'](_0x3b616c);}}else{const _0x3959fd=(_0x4b8e46-_0x45fa79)/0x36ee80*GRID_H,_0x5b9956=(_0x3aef69-_0x4b8e46)/0x36ee80*GRID_H,_0x2b0454=document[_0x52a376(0x216)](_0x52a376(0x1e8));_0x2b0454['className']=_0x52a376(0x26d),_0x2b0454[_0x52a376(0x2b3)][_0x52a376(0x295)]=_0x3959fd+'px',_0x2b0454[_0x52a376(0x2b3)][_0x52a376(0x364)]=_0x5b9956+'px',_0x2b0454[_0x52a376(0x2b3)]['backgroundPosition']='-'+_0x209be6+_0x52a376(0x302)+_0x3959fd+'px',_0x5dead9[_0x52a376(0x2bb)](_0x2b0454);}}});}if(dateExceptions[_0x35373b]===_0x44c08d(0x202)){if(!_0x5dead9[_0x44c08d(0x24f)](_0x44c08d(0x25b))){const _0x9141b1=document[_0x44c08d(0x216)](_0x44c08d(0x1e8));_0x9141b1['className']=_0x44c08d(0x268),_0x9141b1[_0x44c08d(0x2b3)][_0x44c08d(0x2a6)]='-'+_0x209be6+_0x44c08d(0x24d),_0x5dead9[_0x44c08d(0x2bb)](_0x9141b1);}}renderEventsForColumn(_0x5dead9,_0x35373b,_0x45478f),updateDayStats(_0x35373b);});}function updateAllDayStats(){const _0x431ff7=a2_0x1f3422;document[_0x431ff7(0x32b)](_0x431ff7(0x283))['forEach'](_0x1a27a4=>{const _0x200cd0=_0x431ff7;updateDayStats(_0x1a27a4['getAttribute'](_0x200cd0(0x31d)));});}function updateDayStats(_0x3b8885){const _0x5ce2f0=a2_0x1f3422,_0x2f63e6=document['getElementById'](_0x5ce2f0(0x1ee)+_0x3b8885);if(!_0x2f63e6)return;const _0x489f55=new Date(_0x3b8885);let _0x5d018e=_0x489f55[_0x5ce2f0(0x270)]()-0x1;if(_0x5d018e===-0x1)_0x5d018e=0x6;if(dateExceptions[_0x3b8885]===_0x5ce2f0(0x202)){_0x2f63e6[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x2cb)]=_0x5ce2f0(0x204);return;}const _0x54e852=availabilityPattern[_0x5d018e]||[],_0x454de=0x18-_0x54e852[_0x5ce2f0(0x20b)],_0x45df8b=_0x454de*0x3c,_0x3bbe54=sessions['filter'](_0x32e1c5=>_0x32e1c5['dateStr']===_0x3b8885&&_0x32e1c5[_0x5ce2f0(0x307)]!==_0x5ce2f0(0x272));if(_0x3bbe54[_0x5ce2f0(0x20b)]===0x0){_0x2f63e6[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x2cb)]='none';return;}let _0x378cd2=_0x3bbe54['map'](_0x36c8f8=>{const _0x13b728=_0x5ce2f0,[_0x299f3c,_0x465e4b]=_0x36c8f8['start']['split'](':')[_0x13b728(0x351)](Number),[_0x509ddd,_0x38b2c8]=_0x36c8f8['end'][_0x13b728(0x2c9)](':')[_0x13b728(0x351)](Number);return[_0x299f3c*0x3c+_0x465e4b,_0x509ddd*0x3c+_0x38b2c8];});_0x378cd2[_0x5ce2f0(0x1f1)]((_0x5cb482,_0x476041)=>_0x5cb482[0x0]-_0x476041[0x0]);let _0x52ad07=[];if(_0x378cd2['length']>0x0){let _0x4991b3=_0x378cd2[0x0];for(let _0x10bb19=0x1;_0x10bb19<_0x378cd2[_0x5ce2f0(0x20b)];_0x10bb19++){_0x378cd2[_0x10bb19][0x0]<_0x4991b3[0x1]?_0x4991b3[0x1]=Math[_0x5ce2f0(0x309)](_0x4991b3[0x1],_0x378cd2[_0x10bb19][0x1]):(_0x52ad07[_0x5ce2f0(0x27e)](_0x4991b3),_0x4991b3=_0x378cd2[_0x10bb19]);}_0x52ad07[_0x5ce2f0(0x27e)](_0x4991b3);}let _0x19ed1e=0x0;_0x52ad07[_0x5ce2f0(0x2ed)](_0x486195=>_0x19ed1e+=_0x486195[0x1]-_0x486195[0x0]),_0x2f63e6[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x2cb)]=_0x5ce2f0(0x224);const _0x4f8cf1=_0x2f63e6['querySelector'](_0x5ce2f0(0x327));if(_0x45df8b===0x0){_0x4f8cf1[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x1ff)]=_0x5ce2f0(0x2f0),_0x4f8cf1[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x2d3)]=_0x5ce2f0(0x25d);return;}const _0x394962=_0x19ed1e/_0x45df8b*0x64;console[_0x5ce2f0(0x310)]('['+_0x3b8885+_0x5ce2f0(0x2af)+_0x454de+_0x5ce2f0(0x20e)+_0x19ed1e+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x394962[_0x5ce2f0(0x271)](0x1)+'%'),_0x394962>0x64?(_0x4f8cf1[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x1ff)]=_0x5ce2f0(0x2f0),_0x4f8cf1['style'][_0x5ce2f0(0x2d3)]=_0x5ce2f0(0x25d)):(_0x4f8cf1['style'][_0x5ce2f0(0x1ff)]=_0x394962+'%',_0x4f8cf1[_0x5ce2f0(0x2b3)][_0x5ce2f0(0x2d3)]=_0x5ce2f0(0x203));}function renderEventsForColumn(_0x44bc80,_0x39b805,_0x57e5ea){const _0x33d676=a2_0x1f3422,_0x3ec1c2=sessions[_0x33d676(0x27a)](_0x1d1afd=>_0x1d1afd[_0x33d676(0x321)]===_0x39b805),_0x1dc2e0=_0x3ec1c2[_0x33d676(0x351)](_0x4a7516=>{const _0x3a1b02=_0x33d676,[_0x1096fc,_0x4767b4]=_0x4a7516[_0x3a1b02(0x323)][_0x3a1b02(0x2c9)](':')[_0x3a1b02(0x351)](Number),[_0xccc78,_0x5db14b]=_0x4a7516[_0x3a1b02(0x227)]['split'](':')['map'](Number);return{'data':_0x4a7516,'start':_0x1096fc*0x3c+_0x4767b4,'end':_0xccc78*0x3c+_0x5db14b,'colIndex':0x0};});_0x1dc2e0[_0x33d676(0x1f1)]((_0x2f8f1c,_0x3b5df5)=>{const _0x5808c1=_0x33d676;if(_0x2f8f1c[_0x5808c1(0x323)]!==_0x3b5df5[_0x5808c1(0x323)])return _0x2f8f1c[_0x5808c1(0x323)]-_0x3b5df5['start'];return _0x3b5df5[_0x5808c1(0x227)]-_0x3b5df5[_0x5808c1(0x323)]-(_0x2f8f1c[_0x5808c1(0x227)]-_0x2f8f1c['start']);});const _0x418741=[];_0x1dc2e0[_0x33d676(0x2ed)](_0x10cdf8=>{const _0xf3549c=_0x33d676;let _0x37308e=![];for(let _0xc024c6=0x0;_0xc024c6<_0x418741[_0xf3549c(0x20b)];_0xc024c6++){const _0x312990=_0x418741[_0xc024c6],_0x40ee71=_0x312990[_0x312990[_0xf3549c(0x20b)]-0x1];if(_0x10cdf8[_0xf3549c(0x323)]>=_0x40ee71['end']){_0x312990['push'](_0x10cdf8),_0x10cdf8[_0xf3549c(0x2b7)]=_0xc024c6,_0x37308e=!![];break;}}!_0x37308e&&(_0x418741[_0xf3549c(0x27e)]([_0x10cdf8]),_0x10cdf8[_0xf3549c(0x2b7)]=_0x418741[_0xf3549c(0x20b)]-0x1);}),_0x1dc2e0['forEach'](_0x59d2f2=>{const _0x589e4=_0x33d676;let _0x3b9eb8=0x0;_0x1dc2e0[_0x589e4(0x2ed)](_0x378143=>{const _0x1b590d=_0x589e4;if(Math[_0x1b590d(0x309)](_0x59d2f2['start'],_0x378143[_0x1b590d(0x323)])<Math[_0x1b590d(0x2d0)](_0x59d2f2['end'],_0x378143[_0x1b590d(0x227)])){if(_0x378143[_0x1b590d(0x2b7)]>_0x3b9eb8)_0x3b9eb8=_0x378143[_0x1b590d(0x2b7)];}});const _0x52ab04=_0x3b9eb8+0x1,_0x2bf4e8=0x64/_0x52ab04,_0x52deca=_0x59d2f2[_0x589e4(0x2b7)]*_0x2bf4e8,_0x4d3bcf=createEventEl(_0x59d2f2['data']);_0x4d3bcf[_0x589e4(0x2b3)]['width']=_0x589e4(0x2ab)+_0x2bf4e8+_0x589e4(0x239),_0x4d3bcf[_0x589e4(0x2b3)][_0x589e4(0x337)]=_0x589e4(0x2ab)+_0x52deca+_0x589e4(0x35f),_0x4d3bcf[_0x589e4(0x2b3)]['zIndex']=0xa+_0x59d2f2[_0x589e4(0x2b7)],_0x2bf4e8<0x55&&_0x4d3bcf[_0x589e4(0x21c)][_0x589e4(0x1fa)](_0x589e4(0x1de)),_0x44bc80[_0x589e4(0x2bb)](_0x4d3bcf);});}function createEventEl(_0x48dcde){const _0x293e07=a2_0x1f3422,[_0x521af0,_0x23d6a2]=_0x48dcde[_0x293e07(0x323)][_0x293e07(0x2c9)](':')[_0x293e07(0x351)](Number),[_0xba30ac,_0x31aa52]=_0x48dcde['end'][_0x293e07(0x2c9)](':')[_0x293e07(0x351)](Number),_0x366285=(_0x521af0*0x3c+_0x23d6a2)/0x3c*GRID_H,_0x53d870=(_0xba30ac*0x3c+_0x31aa52-(_0x521af0*0x3c+_0x23d6a2))/0x3c*GRID_H,_0x5d1ebc=document[_0x293e07(0x216)](_0x293e07(0x1e8)),_0x1dd5a5=_0x48dcde['status']===_0x293e07(0x33b)?_0x293e07(0x361):'';_0x5d1ebc[_0x293e07(0x300)]=_0x293e07(0x2d5)+_0x1dd5a5,_0x5d1ebc['style']['top']=_0x366285+'px',_0x5d1ebc[_0x293e07(0x2b3)][_0x293e07(0x364)]=Math[_0x293e07(0x309)](_0x53d870,0x14)+'px';const _0x5edacb=clients[_0x293e07(0x244)](_0x2d8d28=>_0x48dcde[_0x293e07(0x342)]&&String(_0x2d8d28['id'])===String(_0x48dcde[_0x293e07(0x342)])||_0x2d8d28[_0x293e07(0x2d4)]===_0x48dcde[_0x293e07(0x2da)]),_0x296627=_0x5edacb?_0x5edacb[_0x293e07(0x25a)]:_0x293e07(0x1dc);_0x5d1ebc['style'][_0x293e07(0x232)]=_0x296627,_0x5d1ebc[_0x293e07(0x2b3)][_0x293e07(0x211)]=hexToRgba(_0x296627,0.85);let _0xdf8271=_0x293e07(0x21f)+_0x48dcde[_0x293e07(0x2da)]+_0x293e07(0x341)+_0x48dcde[_0x293e07(0x323)]+_0x293e07(0x32d)+_0x48dcde[_0x293e07(0x227)]+_0x293e07(0x219);return _0x48dcde[_0x293e07(0x285)]&&(_0xdf8271+=_0x293e07(0x20a)),_0x48dcde[_0x293e07(0x307)]===_0x293e07(0x33b)&&(_0xdf8271+=_0x293e07(0x324)),_0x5d1ebc[_0x293e07(0x2c6)]=_0xdf8271,_0x5d1ebc[_0x293e07(0x30a)]=_0x5c609e=>{_0x5c609e['stopPropagation'](),openEdit(_0x48dcde);},_0x5d1ebc;}function attachLongPressHandler(_0x4005ae,_0x50e912){const _0x3f4ef7=a2_0x1f3422;let _0x7c6346=0x0,_0x5d6518=null;const _0x2691a7=_0xe097ea=>{const _0x181a28=a2_0x4d39;if(_0xe097ea[_0x181a28(0x1df)][_0x181a28(0x2c4)](_0x181a28(0x2ea)))return;isScrolling=![],_0x7c6346=_0xe097ea[_0x181a28(0x1f8)]?_0xe097ea[_0x181a28(0x1f8)][0x0][_0x181a28(0x2ff)]:_0xe097ea[_0x181a28(0x2ff)],_0x5d6518=setTimeout(()=>{const _0x5c3d82=_0x181a28;if(!isScrolling){navigator[_0x5c3d82(0x306)]?.(0x32);const _0x2c26d4=_0x4005ae[_0x5c3d82(0x2a7)](),_0x1b08b8=Math[_0x5c3d82(0x2e1)]((_0x7c6346-_0x2c26d4['top'])/GRID_H);_0x50e912[_0x5c3d82(0x23f)](_0x1b08b8,0x0),openAddSession(_0x50e912);}},0x1f4);},_0x22bbf0=()=>{isScrolling=!![],clearTimeout(_0x5d6518);},_0x2e5df5=()=>{clearTimeout(_0x5d6518);};_0x4005ae[_0x3f4ef7(0x253)](_0x3f4ef7(0x210),_0x2691a7,{'passive':!![]}),_0x4005ae[_0x3f4ef7(0x253)](_0x3f4ef7(0x1db),_0x22bbf0,{'passive':!![]}),_0x4005ae[_0x3f4ef7(0x253)](_0x3f4ef7(0x29d),_0x2e5df5),_0x4005ae['addEventListener'](_0x3f4ef7(0x2db),_0x2691a7),_0x4005ae[_0x3f4ef7(0x253)](_0x3f4ef7(0x30f),_0x22bbf0),_0x4005ae[_0x3f4ef7(0x253)](_0x3f4ef7(0x245),_0x2e5df5);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x32b64f=a2_0x1f3422,_0xe49209=document[_0x32b64f(0x322)]('matrixViewport'),_0x1c124c=_0xe49209[_0x32b64f(0x21a)],_0xfabb90=_0xe49209[_0x32b64f(0x32c)],_0x59247e=_0xe49209[_0x32b64f(0x312)];if(_0xfabb90-(_0x1c124c+_0x59247e)<0x12c){const _0x212dd7=endOffset;endOffset+=0xe,renderDayRange(_0x212dd7+0x1,endOffset),reRenderBlocks();}if(_0x1c124c<0x12c){const _0x242341=startOffset;startOffset-=0xe,prependDays(startOffset,_0x242341-0x1),_0xe49209[_0x32b64f(0x21a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9d3d6a,_0x42cee0){const _0x552256=a2_0x1f3422,_0x598568=document[_0x552256(0x322)]('daysHeaderTrack'),_0x6fd1f4=document[_0x552256(0x322)]('gridColumns'),_0x1540ce=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3139ec=new Date();_0x3139ec['setHours'](0x0,0x0,0x0,0x0);const _0xe2e87a=getLocalDateStr(new Date()),_0xa9563=document['createDocumentFragment'](),_0x29513b=document[_0x552256(0x2b6)]();for(let _0x178b5b=_0x9d3d6a;_0x178b5b<=_0x42cee0;_0x178b5b++){const _0x15ad43=new Date(_0x3139ec);_0x15ad43[_0x552256(0x320)](_0x15ad43[_0x552256(0x2a9)]()+_0x178b5b);const _0x967b5c=getLocalDateStr(_0x15ad43);let _0x11a162=_0x15ad43['getDay']()-0x1;if(_0x11a162===-0x1)_0x11a162=0x6;const _0x37fb9b=_0x967b5c===_0xe2e87a,_0x58fe96=document[_0x552256(0x216)]('div');_0x58fe96[_0x552256(0x300)]=_0x552256(0x228)+(_0x37fb9b?'today':''),_0x58fe96['id']=_0x552256(0x1e7)+_0x967b5c,_0x58fe96['setAttribute'](_0x552256(0x31d),_0x967b5c),_0x58fe96[_0x552256(0x2c6)]='<div\x20class=\x22dch-day\x22>'+_0x1540ce[_0x11a162]+'</div><div\x20class=\x22dch-num\x22>'+_0x15ad43[_0x552256(0x2a9)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x967b5c+_0x552256(0x26c),_0x58fe96[_0x552256(0x30a)]=()=>openDayOptions(_0x967b5c,_0x1540ce[_0x11a162]+'\x20'+_0x15ad43[_0x552256(0x2a9)]()),_0xa9563[_0x552256(0x2bb)](_0x58fe96);const _0x4fb58a=document[_0x552256(0x216)](_0x552256(0x1e8));_0x4fb58a[_0x552256(0x300)]=_0x552256(0x356)+(_0x37fb9b?_0x552256(0x35a):''),_0x4fb58a['setAttribute'](_0x552256(0x31d),_0x967b5c),_0x4fb58a['setAttribute'](_0x552256(0x2e0),_0x11a162),renderEventsForColumn(_0x4fb58a,_0x967b5c,_0x11a162),attachLongPressHandler(_0x4fb58a,_0x15ad43),_0x29513b[_0x552256(0x2bb)](_0x4fb58a),updateDayStats(_0x967b5c);}_0x598568[_0x552256(0x34e)](_0xa9563,_0x598568[_0x552256(0x1ec)]),_0x6fd1f4[_0x552256(0x34e)](_0x29513b,_0x6fd1f4[_0x552256(0x24f)](_0x552256(0x23d)));}function validateAppointment(_0x2e17c7,_0x4f3e65,_0xd1bd3c,_0x2f24be,_0x3ae789){const _0x5afd79=a2_0x1f3422,[_0x2d8f97,_0x21ef9c]=_0x4f3e65[_0x5afd79(0x2c9)](':')[_0x5afd79(0x351)](Number),[_0x1a35ac,_0x4b6fe2]=_0xd1bd3c['split'](':')[_0x5afd79(0x351)](Number),_0x581fdf=_0x2d8f97*0x3c+_0x21ef9c,_0x32b9a0=_0x1a35ac*0x3c+_0x4b6fe2,_0x76647f=String(_0x3ae789);let _0x26277e=![],_0x2e25ff='';for(let _0x53fad6 of sessions){if(_0x53fad6['dateStr']!==_0x2e17c7)continue;if(_0x53fad6['status']===_0x5afd79(0x272))continue;if(_0x2f24be&&String(_0x53fad6['id'])===String(_0x2f24be))continue;const [_0x1221bf,_0x29e2d6]=_0x53fad6[_0x5afd79(0x323)][_0x5afd79(0x2c9)](':')[_0x5afd79(0x351)](Number),[_0x15ee3b,_0x27d23b]=_0x53fad6['end'][_0x5afd79(0x2c9)](':')[_0x5afd79(0x351)](Number),_0x5c38cf=_0x1221bf*0x3c+_0x29e2d6,_0x4212b2=_0x15ee3b*0x3c+_0x27d23b;if(Math[_0x5afd79(0x309)](_0x581fdf,_0x5c38cf)<Math[_0x5afd79(0x2d0)](_0x32b9a0,_0x4212b2)){if(_0x53fad6[_0x5afd79(0x342)]&&String(_0x53fad6[_0x5afd79(0x342)])===_0x76647f)return{'valid':![],'msg':_0x5afd79(0x359)+_0x53fad6[_0x5afd79(0x2da)]+_0x5afd79(0x229)};_0x26277e=!![],_0x2e25ff=_0x53fad6[_0x5afd79(0x2da)];}}if(_0x26277e)return{'valid':!![],'warning':_0x5afd79(0x275)+_0x2e25ff};return{'valid':!![]};}function updateDateDisplay(){const _0x5626ea=a2_0x1f3422,_0x36fbe2=document[_0x5626ea(0x322)](_0x5626ea(0x26a))[_0x5626ea(0x2e8)],_0x3b4b06=document['getElementById'](_0x5626ea(0x2f8));if(!_0x36fbe2){_0x3b4b06[_0x5626ea(0x23c)]='';return;}const [_0x392c1d,_0x125557,_0x4a186a]=_0x36fbe2['split']('-')[_0x5626ea(0x351)](Number),_0x271fcb=new Date(_0x392c1d,_0x125557-0x1,_0x4a186a),_0xe563cc={'weekday':_0x5626ea(0x1f2),'day':_0x5626ea(0x257),'month':'long','year':_0x5626ea(0x257)};let _0x44675a=_0x271fcb[_0x5626ea(0x280)](_0x5626ea(0x292),_0xe563cc);_0x44675a=_0x44675a['charAt'](0x0)[_0x5626ea(0x2a2)]()+_0x44675a[_0x5626ea(0x348)](0x1),_0x3b4b06[_0x5626ea(0x23c)]=_0x44675a;}function autoSetEndTime(){const _0x11c20a=a2_0x1f3422,_0x2714e5=document[_0x11c20a(0x322)](_0x11c20a(0x209))['value'];if(!_0x2714e5)return;const [_0x4536c3,_0x56961d]=_0x2714e5[_0x11c20a(0x2c9)](':')[_0x11c20a(0x351)](Number);let _0x14ee38=_0x4536c3+0x1;if(_0x14ee38>0x17)_0x14ee38=0x0;const _0x3eddd5=String(_0x14ee38)[_0x11c20a(0x263)](0x2,'0')+':'+String(_0x56961d)[_0x11c20a(0x263)](0x2,'0');document['getElementById'](_0x11c20a(0x212))[_0x11c20a(0x2e8)]=_0x3eddd5;}function populateClientSelect(){const _0x46e986=a2_0x1f3422,_0x17e846=document[_0x46e986(0x322)](_0x46e986(0x31f));_0x17e846['innerHTML']='';if(clients['length']===0x0){const _0x393bd8=document[_0x46e986(0x216)](_0x46e986(0x24e));_0x393bd8[_0x46e986(0x317)]=_0x46e986(0x2eb),_0x17e846[_0x46e986(0x2bb)](_0x393bd8);return;}clients[_0x46e986(0x2ed)](_0x338c10=>{const _0x4c4776=_0x46e986,_0x1d8e17=document[_0x4c4776(0x216)](_0x4c4776(0x24e));_0x1d8e17[_0x4c4776(0x2e8)]=_0x338c10['name'],_0x1d8e17[_0x4c4776(0x23c)]=_0x338c10[_0x4c4776(0x2d4)],_0x17e846[_0x4c4776(0x2bb)](_0x1d8e17);});}function openActionSheet(_0x4adf31){const _0x2c6f39=a2_0x1f3422,_0x3f7d43=document[_0x2c6f39(0x322)](_0x2c6f39(0x2e3)),_0x27d0b7=document[_0x2c6f39(0x322)](_0x2c6f39(0x281)),_0xa57c6e=document[_0x2c6f39(0x322)]('asTitle'),_0x2e9a1b=document[_0x2c6f39(0x322)]('asBtnOne'),_0x30a2ea=document[_0x2c6f39(0x322)](_0x2c6f39(0x34f));_0x27d0b7['classList'][_0x2c6f39(0x1fa)](_0x2c6f39(0x264)),_0x3f7d43['classList'][_0x2c6f39(0x1fa)](_0x2c6f39(0x333));if(_0x4adf31===_0x2c6f39(0x2ba))_0xa57c6e['textContent']=_0x2c6f39(0x2b0),_0x2e9a1b[_0x2c6f39(0x23c)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2e9a1b['onclick']=()=>{const _0x39477b=_0x2c6f39;closeActionSheet(),updateSeriesBatch(_0x39477b(0x230),tempSessionData);},_0x30a2ea[_0x2c6f39(0x23c)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x30a2ea[_0x2c6f39(0x30a)]=()=>{const _0x137aa2=_0x2c6f39;closeActionSheet(),updateSeriesBatch(_0x137aa2(0x1e2),tempSessionData);};else _0x4adf31===_0x2c6f39(0x2dc)&&(_0xa57c6e['textContent']=_0x2c6f39(0x2c2),_0x2e9a1b[_0x2c6f39(0x23c)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2e9a1b[_0x2c6f39(0x300)]=_0x2c6f39(0x22c),_0x2e9a1b[_0x2c6f39(0x30a)]=()=>{const _0x35e2fd=_0x2c6f39;closeActionSheet(),commitDelete('single',sessions[_0x35e2fd(0x244)](_0x432569=>_0x432569['id']===editingId));},_0x30a2ea[_0x2c6f39(0x23c)]=_0x2c6f39(0x25c),_0x30a2ea[_0x2c6f39(0x300)]=_0x2c6f39(0x336),_0x30a2ea['onclick']=()=>{const _0x4ee691=_0x2c6f39;closeActionSheet(),commitDelete(_0x4ee691(0x1e2),sessions[_0x4ee691(0x244)](_0x246ba5=>_0x246ba5['id']===editingId));});}function closeActionSheet(){const _0xc04162=a2_0x1f3422;document[_0xc04162(0x322)](_0xc04162(0x2e3))[_0xc04162(0x21c)][_0xc04162(0x314)]('open'),document[_0xc04162(0x322)](_0xc04162(0x281))['classList'][_0xc04162(0x314)]('active');}function openSettings(){const _0x21f3fd=a2_0x1f3422;openSheet(_0x21f3fd(0x2ca));}function saveCoachSettings(){const _0xc83b0c=a2_0x1f3422,_0x406eb8=document[_0xc83b0c(0x322)](_0xc83b0c(0x1ed))[_0xc83b0c(0x2e8)];localStorage[_0xc83b0c(0x358)](_0xc83b0c(0x27c),_0x406eb8),console['log'](_0xc83b0c(0x23e),_0x406eb8),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x406eb8}})[_0xc83b0c(0x30e)](_0x29ce11=>{const _0x503aba=_0xc83b0c;console['error'](_0x503aba(0x346),_0x29ce11),showToast(_0x503aba(0x2b4),![]);});}function loadCoachSettings(){const _0x4dc3e7=a2_0x1f3422,_0x5dc7ca=localStorage[_0x4dc3e7(0x2f3)](_0x4dc3e7(0x27c));_0x5dc7ca&&(document['getElementById']('settingCancelWindow')[_0x4dc3e7(0x2e8)]=_0x5dc7ca);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2f5dec=a2_0x1f3422,_0x32356c=document[_0x2f5dec(0x322)]('rangeStartDate')['value'],_0x160368=document['getElementById'](_0x2f5dec(0x2bf))[_0x2f5dec(0x2e8)],_0x58a4b4=document[_0x2f5dec(0x322)](_0x2f5dec(0x279))[_0x2f5dec(0x2e8)],_0x3d2289=document[_0x2f5dec(0x322)](_0x2f5dec(0x344))['value'];if(!_0x32356c||!_0x160368||!_0x58a4b4||!_0x3d2289)return alert(_0x2f5dec(0x298));const _0x1388d7=_0x32356c+'T'+_0x160368,_0xb6d618=_0x58a4b4+'T'+_0x3d2289;if(_0x1388d7>=_0xb6d618)return alert(_0x2f5dec(0x2d8));specialRanges['push']({'start':_0x1388d7,'end':_0xb6d618}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x2f5dec(0x325)](_0x2f5dec(0x284),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4034c5){const _0x264323=a2_0x1f3422;specialRanges[_0x264323(0x1e3)](_0x4034c5,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x264323(0x328)](),DataManager[_0x264323(0x325)](_0x264323(0x284),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x14d715=a2_0x1f3422;document[_0x14d715(0x322)](_0x14d715(0x367))[_0x14d715(0x2e8)]='',document['getElementById'](_0x14d715(0x2bf))['value']=_0x14d715(0x332),document[_0x14d715(0x322)](_0x14d715(0x279))[_0x14d715(0x2e8)]='',document[_0x14d715(0x322)](_0x14d715(0x344))[_0x14d715(0x2e8)]=_0x14d715(0x2d6);}function renderRangesList(){const _0x45bbde=a2_0x1f3422,_0x346a14=document[_0x45bbde(0x322)](_0x45bbde(0x2fe));_0x346a14[_0x45bbde(0x2c6)]='';if(!specialRanges[_0x45bbde(0x20b)]){_0x346a14['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x45bbde(0x2ed)]((_0x1873a7,_0x3c5ed1)=>{const _0x3d1ea0=_0x45bbde,_0x4f7077=document[_0x3d1ea0(0x216)](_0x3d1ea0(0x1e8));_0x4f7077[_0x3d1ea0(0x300)]=_0x3d1ea0(0x31c);const _0x86d656=_0x28d837=>{const _0x26f3f2=_0x3d1ea0,_0x1d5c56=new Date(_0x28d837);return _0x1d5c56[_0x26f3f2(0x2a9)]()+'.'+String(_0x1d5c56['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x1d5c56[_0x26f3f2(0x288)]())[_0x26f3f2(0x263)](0x2,'0')+':'+String(_0x1d5c56[_0x26f3f2(0x256)]())[_0x26f3f2(0x263)](0x2,'0');};_0x4f7077['innerHTML']=_0x3d1ea0(0x2a1)+_0x86d656(_0x1873a7['start'])+'\x20‚Äî\x20'+_0x86d656(_0x1873a7[_0x3d1ea0(0x227)])+_0x3d1ea0(0x29f)+_0x3c5ed1+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x346a14[_0x3d1ea0(0x2bb)](_0x4f7077);});}function scrollToToday(){const _0xe7403b=a2_0x1f3422,_0x115f6=getLocalDateStr(new Date()),_0x5730af=document[_0xe7403b(0x322)](_0xe7403b(0x1e7)+_0x115f6),_0x38067d=document[_0xe7403b(0x322)](_0xe7403b(0x277));if(_0x5730af&&_0x38067d){const _0x26b21b=_0x38067d[_0xe7403b(0x312)],_0x444d3d=_0x5730af[_0xe7403b(0x2f7)],_0x4b2fbf=_0x5730af['offsetWidth'];_0x38067d[_0xe7403b(0x21a)]=_0x444d3d-_0x26b21b/0x2+_0x4b2fbf/0x2,_0x38067d[_0xe7403b(0x273)]=0x9*GRID_H;}}function onScroll(){const _0x1a1230=a2_0x1f3422,_0x169c3d=document['getElementById']('matrixViewport'),_0x13bcd0=document[_0x1a1230(0x32b)](_0x1a1230(0x283));for(let _0x25cd9f of _0x13bcd0)if(_0x25cd9f['offsetLeft']>=_0x169c3d[_0x1a1230(0x21a)]){const _0xe7bb8d=new Date(_0x25cd9f[_0x1a1230(0x249)](_0x1a1230(0x31d)));document[_0x1a1230(0x322)](_0x1a1230(0x2ec))[_0x1a1230(0x23c)]=_0xe7bb8d[_0x1a1230(0x347)]('ru',{'month':_0x1a1230(0x1f2)})['toUpperCase']()+'\x20'+_0xe7bb8d[_0x1a1230(0x313)]();break;}}function showToast(_0x254582,_0x483f41=![]){const _0x249a51=a2_0x1f3422,_0xd64ee9=document[_0x249a51(0x322)](_0x249a51(0x2a0));_0xd64ee9[_0x249a51(0x300)]=_0x249a51(0x31a)+(_0x483f41?_0x249a51(0x1f4):''),document[_0x249a51(0x322)](_0x249a51(0x294))[_0x249a51(0x23c)]=_0x483f41?_0x249a51(0x213):_0x249a51(0x319),document[_0x249a51(0x322)]('toastMessage')[_0x249a51(0x23c)]=_0x254582,_0xd64ee9[_0x249a51(0x21c)][_0x249a51(0x1fa)](_0x249a51(0x353)),setTimeout(()=>{const _0x5c63e0=_0x249a51;_0xd64ee9[_0x5c63e0(0x21c)][_0x5c63e0(0x314)](_0x5c63e0(0x353));},0xbb8);}function openDayOptions(_0x54bbda,_0x4870a4){const _0x299e6d=a2_0x1f3422;selectedDayForOptions=_0x54bbda,document['getElementById'](_0x299e6d(0x225))['textContent']=_0x4870a4,openSheet(_0x299e6d(0x27d));}function toggleDayOff(){const _0x2d84af=a2_0x1f3422;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x2d84af(0x284),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3dcf85=a2_0x1f3422;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3dcf85(0x328)](),DataManager[_0x3dcf85(0x325)](_0x3dcf85(0x284),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1a74b3){const _0x3b6925=a2_0x1f3422;document[_0x3b6925(0x322)]('overlay')['classList'][_0x3b6925(0x1fa)](_0x3b6925(0x264)),document[_0x3b6925(0x322)](_0x1a74b3)[_0x3b6925(0x21c)]['add'](_0x3b6925(0x333));}function closeAllSheets(){const _0x1eaea9=a2_0x1f3422;document[_0x1eaea9(0x322)](_0x1eaea9(0x255))['classList']['remove'](_0x1eaea9(0x264)),document[_0x1eaea9(0x32b)]('.sheet')[_0x1eaea9(0x2ed)](_0x588938=>_0x588938[_0x1eaea9(0x21c)]['remove'](_0x1eaea9(0x333)));}function openPatternEditor(){const _0x39c09b=a2_0x1f3422;closeAllSheets(),document[_0x39c09b(0x322)](_0x39c09b(0x315))['classList'][_0x39c09b(0x1fa)](_0x39c09b(0x333)),renderPatternEditor();}function closePatternEditor(){const _0x4fe8eb=a2_0x1f3422;document[_0x4fe8eb(0x322)](_0x4fe8eb(0x315))[_0x4fe8eb(0x21c)][_0x4fe8eb(0x314)](_0x4fe8eb(0x333));}function savePattern(){const _0x51d666=a2_0x1f3422;document[_0x51d666(0x322)](_0x51d666(0x315))[_0x51d666(0x21c)][_0x51d666(0x314)](_0x51d666(0x333)),reRenderBlocks(),DataManager[_0x51d666(0x328)](),DataManager[_0x51d666(0x325)](_0x51d666(0x284),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5b2266=a2_0x1f3422,_0x37984d=document[_0x5b2266(0x322)](_0x5b2266(0x262));_0x37984d['innerHTML']='';const _0x1fa45e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x269769=document[_0x5b2266(0x216)](_0x5b2266(0x1e8));_0x269769['className']=_0x5b2266(0x2cf),_0x37984d[_0x5b2266(0x2bb)](_0x269769),_0x1fa45e[_0x5b2266(0x2ed)]((_0x3351be,_0x31f150)=>{const _0x141c0d=_0x5b2266,_0x1187ed=document['createElement'](_0x141c0d(0x1e8));_0x1187ed['className']=_0x141c0d(0x33f),_0x1187ed['innerHTML']=_0x3351be+_0x141c0d(0x366),_0x1187ed[_0x141c0d(0x30a)]=()=>toggleColPattern(_0x31f150),_0x37984d[_0x141c0d(0x2bb)](_0x1187ed);});for(let _0x44ab0b=0x0;_0x44ab0b<0x18;_0x44ab0b++){const _0x1665f9=document['createElement'](_0x5b2266(0x1e8));_0x1665f9[_0x5b2266(0x300)]='pe-time-label',_0x1665f9[_0x5b2266(0x2c6)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x44ab0b)['padStart'](0x2,'0')+_0x5b2266(0x296),_0x1665f9[_0x5b2266(0x30a)]=()=>toggleRowPattern(_0x44ab0b),_0x37984d[_0x5b2266(0x2bb)](_0x1665f9);for(let _0x756c99=0x0;_0x756c99<0x7;_0x756c99++){const _0xdfb3a5=document[_0x5b2266(0x216)](_0x5b2266(0x1e8)),_0x2b9287=(availabilityPattern[_0x756c99]||[])['includes'](_0x44ab0b),_0xf39d5f=!_0x2b9287;_0xdfb3a5['className']=_0x5b2266(0x303)+(_0xf39d5f?'active':''),_0xdfb3a5[_0x5b2266(0x30a)]=()=>toggleSinglePattern(_0x756c99,_0x44ab0b),_0x37984d[_0x5b2266(0x2bb)](_0xdfb3a5);}}}function toggleSinglePattern(_0x193d37,_0x23a5fd){const _0x3c3eb1=a2_0x1f3422;if(!availabilityPattern[_0x193d37])availabilityPattern[_0x193d37]=[];const _0x2aa339=availabilityPattern[_0x193d37],_0xa3178a=_0x2aa339[_0x3c3eb1(0x326)](_0x23a5fd);_0xa3178a===-0x1?_0x2aa339['push'](_0x23a5fd):_0x2aa339['splice'](_0xa3178a,0x1),renderPatternEditor();}function toggleColPattern(_0xe919c4){const _0x32685f=a2_0x1f3422;if(!availabilityPattern[_0xe919c4])availabilityPattern[_0xe919c4]=[];const _0x357773=availabilityPattern[_0xe919c4];_0x357773[_0x32685f(0x20b)]===0x0?availabilityPattern[_0xe919c4]=Array[_0x32685f(0x368)]({'length':0x18},(_0x1fd2b0,_0x50c18a)=>_0x50c18a):availabilityPattern[_0xe919c4]=[],renderPatternEditor();}function toggleRowPattern(_0x311f1d){const _0x43a989=a2_0x1f3422;let _0x29f151=!![];for(let _0x3346c5=0x0;_0x3346c5<0x7;_0x3346c5++){if((availabilityPattern[_0x3346c5]||[])[_0x43a989(0x243)](_0x311f1d)){_0x29f151=![];break;}}for(let _0x121877=0x0;_0x121877<0x7;_0x121877++){if(!availabilityPattern[_0x121877])availabilityPattern[_0x121877]=[];const _0x3a7be1=availabilityPattern[_0x121877]['indexOf'](_0x311f1d);if(_0x29f151){if(_0x3a7be1===-0x1)availabilityPattern[_0x121877]['push'](_0x311f1d);}else{if(_0x3a7be1!==-0x1)availabilityPattern[_0x121877][_0x43a989(0x1e3)](_0x3a7be1,0x1);}}renderPatternEditor();}function renderPCol(_0x32e120,_0x439fc5){const _0x37d0b6=a2_0x1f3422;_0x32e120['innerHTML']='';const _0x4f9c72=Math[_0x37d0b6(0x33a)](_0x32e120[_0x37d0b6(0x2f7)]);(availabilityPattern[_0x439fc5]||[])[_0x37d0b6(0x2ed)](_0x40b8a6=>{const _0x37d0fb=_0x37d0b6,_0x23e886=document[_0x37d0fb(0x216)](_0x37d0fb(0x1e8));_0x23e886[_0x37d0fb(0x300)]=_0x37d0fb(0x2f4);const _0x317a3d=_0x40b8a6*GRID_H;_0x23e886['style'][_0x37d0fb(0x295)]=_0x317a3d+'px',_0x23e886[_0x37d0fb(0x2b3)]['backgroundPosition']='-'+_0x4f9c72+'px\x20-'+_0x317a3d+'px',_0x23e886[_0x37d0fb(0x30a)]=_0xc958d5=>{_0xc958d5['stopPropagation'](),toggleSinglePattern(_0x439fc5,_0x40b8a6);},_0x32e120['appendChild'](_0x23e886);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x575784=a2_0x1f3422,_0x4daa78=new Date(),_0x2c4f86=document['getElementById'](_0x575784(0x1e9)),_0x20f53c=document[_0x575784(0x322)](_0x575784(0x30d)),_0x38cc50=(_0x4daa78['getHours']()*0x3c+_0x4daa78[_0x575784(0x256)]())/0x3c*GRID_H;_0x2c4f86[_0x575784(0x2b3)][_0x575784(0x295)]=_0x38cc50+'px',_0x2c4f86[_0x575784(0x2b3)]['display']=_0x575784(0x33e),_0x20f53c[_0x575784(0x23c)]=String(_0x4daa78['getHours']())[_0x575784(0x263)](0x2,'0')+':'+String(_0x4daa78['getMinutes']())[_0x575784(0x263)](0x2,'0'),_0x20f53c[_0x575784(0x2b3)][_0x575784(0x2cb)]=_0x575784(0x33e),_0x20f53c[_0x575784(0x2b3)]['top']=_0x38cc50+'px';}document['addEventListener'](a2_0x1f3422(0x32f),init);function openDayOptions(_0x2da5c7){const _0x2a1c1a=a2_0x1f3422;selectedDayForOptions=_0x2da5c7;const _0x2ed0c9=new Date(_0x2da5c7),_0x2a6291={'weekday':_0x2a1c1a(0x1f2),'day':_0x2a1c1a(0x257),'month':_0x2a1c1a(0x1f2),'year':_0x2a1c1a(0x257)},_0x3b6cfb=_0x2ed0c9['toLocaleDateString'](_0x2a1c1a(0x292),_0x2a6291);document[_0x2a1c1a(0x322)](_0x2a1c1a(0x2dd))[_0x2a1c1a(0x23c)]=_0x3b6cfb[_0x2a1c1a(0x24c)](0x0)[_0x2a1c1a(0x2a2)]()+_0x3b6cfb['slice'](0x1);let _0x6ffd55=_0x2ed0c9[_0x2a1c1a(0x270)]()-0x1;if(_0x6ffd55===-0x1)_0x6ffd55=0x6;const _0x2b8d80=availabilityPattern[_0x6ffd55]||[],_0x126bd3=0x18-_0x2b8d80[_0x2a1c1a(0x20b)],_0x10a231=_0x126bd3*0x3c,_0x3229b5=sessions[_0x2a1c1a(0x27a)](_0x3424c0=>_0x3424c0[_0x2a1c1a(0x321)]===_0x2da5c7&&_0x3424c0['status']!==_0x2a1c1a(0x272));let _0xf4882c=_0x3229b5['map'](_0x493675=>{const _0x302566=_0x2a1c1a,[_0x449f3a,_0x2d9e9d]=_0x493675['start'][_0x302566(0x2c9)](':')[_0x302566(0x351)](Number),[_0x4142d8,_0x212654]=_0x493675[_0x302566(0x227)][_0x302566(0x2c9)](':')[_0x302566(0x351)](Number);return[_0x449f3a*0x3c+_0x2d9e9d,_0x4142d8*0x3c+_0x212654];});_0xf4882c['sort']((_0x1e56c9,_0x327e6b)=>_0x1e56c9[0x0]-_0x327e6b[0x0]);let _0x2a251a=[];if(_0xf4882c[_0x2a1c1a(0x20b)]>0x0){let _0x4ba38b=_0xf4882c[0x0];for(let _0xd5d33c=0x1;_0xd5d33c<_0xf4882c[_0x2a1c1a(0x20b)];_0xd5d33c++){_0xf4882c[_0xd5d33c][0x0]<_0x4ba38b[0x1]?_0x4ba38b[0x1]=Math[_0x2a1c1a(0x309)](_0x4ba38b[0x1],_0xf4882c[_0xd5d33c][0x1]):(_0x2a251a['push'](_0x4ba38b),_0x4ba38b=_0xf4882c[_0xd5d33c]);}_0x2a251a[_0x2a1c1a(0x27e)](_0x4ba38b);}let _0x3f0e26=0x0;_0x2a251a[_0x2a1c1a(0x2ed)](_0x5e4e9f=>_0x3f0e26+=_0x5e4e9f[0x1]-_0x5e4e9f[0x0]),document['getElementById']('doWorkHours')[_0x2a1c1a(0x23c)]=formatMinsToHrs(_0x10a231),document[_0x2a1c1a(0x322)](_0x2a1c1a(0x247))[_0x2a1c1a(0x23c)]=formatMinsToHrs(_0x3f0e26);const _0x3565f2=_0x10a231>0x0?Math['round'](_0x3f0e26/_0x10a231*0x64):0x0,_0x28ae75=document['getElementById'](_0x2a1c1a(0x20f));_0x28ae75[_0x2a1c1a(0x23c)]=_0x3565f2+'%';const _0x4a6fcf=document[_0x2a1c1a(0x322)](_0x2a1c1a(0x28c));if(_0x3565f2>0x64)_0x28ae75[_0x2a1c1a(0x2b3)][_0x2a1c1a(0x25a)]=_0x2a1c1a(0x25d),_0x4a6fcf['style']['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x3565f2>0x50?(_0x28ae75[_0x2a1c1a(0x2b3)][_0x2a1c1a(0x25a)]='var(--acc-orange)',_0x4a6fcf[_0x2a1c1a(0x2b3)][_0x2a1c1a(0x1f7)]=_0x2a1c1a(0x35d)):(_0x28ae75[_0x2a1c1a(0x2b3)][_0x2a1c1a(0x25a)]=_0x2a1c1a(0x246),_0x4a6fcf['style']['borderColor']='rgba(255,255,255,0.05)');const _0x19e416=document[_0x2a1c1a(0x322)](_0x2a1c1a(0x269));_0x19e416['innerHTML']='';_0x3229b5['length']===0x0?_0x19e416[_0x2a1c1a(0x2c6)]=_0x2a1c1a(0x265):(_0x3229b5[_0x2a1c1a(0x1f1)]((_0x3f46b4,_0x224bcb)=>_0x3f46b4[_0x2a1c1a(0x323)][_0x2a1c1a(0x2ad)](_0x224bcb[_0x2a1c1a(0x323)])),_0x3229b5[_0x2a1c1a(0x2ed)](_0x1b2a5d=>{const _0x53f468=_0x2a1c1a,_0x85d00a=clients[_0x53f468(0x244)](_0x4c5583=>_0x4c5583[_0x53f468(0x2d4)]===_0x1b2a5d[_0x53f468(0x2da)]),_0x23b53b=_0x85d00a?_0x85d00a[_0x53f468(0x25a)]:_0x53f468(0x362),_0x11c3d4=_0x1b2a5d[_0x53f468(0x307)]==='completed',_0x58b62f=_0x11c3d4?_0x53f468(0x22e):'',_0x416408=document[_0x53f468(0x216)](_0x53f468(0x1e8));_0x416408[_0x53f468(0x300)]='de-item',_0x416408['style'][_0x53f468(0x232)]=_0x23b53b,_0x416408[_0x53f468(0x2c6)]=_0x53f468(0x2fa)+_0x1b2a5d['start']+_0x53f468(0x32d)+_0x1b2a5d[_0x53f468(0x227)]+_0x53f468(0x28d)+_0x1b2a5d['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58b62f+_0x53f468(0x311),_0x19e416[_0x53f468(0x2bb)](_0x416408);}));const _0x2dc8e6=document['getElementById']('btnDayToggle'),_0x195c40=dateExceptions[_0x2da5c7]==='off';_0x195c40?(_0x2dc8e6[_0x2a1c1a(0x23c)]=_0x2a1c1a(0x278),_0x2dc8e6['className']=_0x2a1c1a(0x34d),_0x2dc8e6['style'][_0x2a1c1a(0x25a)]='var(--acc-green)',_0x2dc8e6['style'][_0x2a1c1a(0x2d3)]=_0x2a1c1a(0x32e)):(_0x2dc8e6[_0x2a1c1a(0x23c)]=_0x2a1c1a(0x236),_0x2dc8e6[_0x2a1c1a(0x300)]=_0x2a1c1a(0x20d),_0x2dc8e6['style'][_0x2a1c1a(0x25a)]=_0x2a1c1a(0x25d),_0x2dc8e6[_0x2a1c1a(0x2b3)][_0x2a1c1a(0x2d3)]=_0x2a1c1a(0x2e7)),openSheet(_0x2a1c1a(0x27d));}let currentAnPeriod=a2_0x1f3422(0x2cd);function openAnalytics(){const _0x2f1922=a2_0x1f3422,_0x3e8af9=document[_0x2f1922(0x24f)](_0x2f1922(0x226));setAnalyticsPeriod(_0x2f1922(0x2cd),_0x3e8af9),closeAllSheets(),openSheet(_0x2f1922(0x2de));}function setAnalyticsPeriod(_0x4a36d9,_0x4d8a6b){const _0x2830d9=a2_0x1f3422;currentAnPeriod=_0x4a36d9,document[_0x2830d9(0x32b)](_0x2830d9(0x226))[_0x2830d9(0x2ed)](_0x1f3517=>_0x1f3517[_0x2830d9(0x21c)][_0x2830d9(0x314)](_0x2830d9(0x264)));if(_0x4d8a6b)_0x4d8a6b[_0x2830d9(0x21c)]['add'](_0x2830d9(0x264));const _0x5be24e=document[_0x2830d9(0x322)](_0x2830d9(0x1e4));_0x5be24e[_0x2830d9(0x2b3)][_0x2830d9(0x2cb)]=_0x4a36d9===_0x2830d9(0x206)?_0x2830d9(0x224):_0x2830d9(0x204);const _0x4a3fbd=new Date();let _0x485892=new Date(),_0xd0e878=new Date();if(_0x4a36d9===_0x2830d9(0x2cd))_0x485892=getStartOfWeek(_0x4a3fbd),_0xd0e878=new Date(_0x485892),_0xd0e878[_0x2830d9(0x320)](_0xd0e878[_0x2830d9(0x2a9)]()+0x6);else{if(_0x4a36d9===_0x2830d9(0x2df))_0x485892=new Date(_0x4a3fbd[_0x2830d9(0x313)](),_0x4a3fbd[_0x2830d9(0x1fe)](),0x1),_0xd0e878=new Date(_0x4a3fbd['getFullYear'](),_0x4a3fbd[_0x2830d9(0x1fe)]()+0x1,0x0);else{!document[_0x2830d9(0x322)](_0x2830d9(0x2bc))[_0x2830d9(0x2e8)]&&(document['getElementById'](_0x2830d9(0x2bc))['value']=getLocalDateStr(_0x4a3fbd),document[_0x2830d9(0x322)](_0x2830d9(0x240))['value']=getLocalDateStr(_0x4a3fbd));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x485892),document[_0x2830d9(0x322)](_0x2830d9(0x240))[_0x2830d9(0x2e8)]=getLocalDateStr(_0xd0e878),refreshAnalytics();}function refreshAnalytics(){const _0x310789=a2_0x1f3422,_0x1956f9=document[_0x310789(0x322)](_0x310789(0x2bc))[_0x310789(0x2e8)],_0x3b1798=document[_0x310789(0x322)]('anEnd')[_0x310789(0x2e8)];if(!_0x1956f9||!_0x3b1798)return;const _0x7745ff=sessions[_0x310789(0x27a)](_0x2bba1e=>_0x2bba1e[_0x310789(0x321)]>=_0x1956f9&&_0x2bba1e[_0x310789(0x321)]<=_0x3b1798&&_0x2bba1e[_0x310789(0x307)]!==_0x310789(0x272)),_0x292479=_0x7745ff[_0x310789(0x20b)],_0x121114=_0x7745ff[_0x310789(0x27a)](_0x4d139d=>_0x4d139d[_0x310789(0x307)]===_0x310789(0x33b))[_0x310789(0x20b)],_0x55c6da=_0x292479>0x0?Math[_0x310789(0x33a)](_0x121114/_0x292479*0x64):0x0;document[_0x310789(0x322)](_0x310789(0x241))['textContent']=_0x55c6da+'%',document['getElementById'](_0x310789(0x2e2))['textContent']=_0x121114+'\x20–∏–∑\x20'+_0x292479+_0x310789(0x354);const _0xaef75=document[_0x310789(0x322)](_0x310789(0x22d)),_0x288287=0x2*Math['PI']*0x23,_0x57c016=_0x288287-_0x55c6da/0x64*_0x288287;_0xaef75[_0x310789(0x2b3)][_0x310789(0x308)]=_0x57c016;const _0x33ec66={};_0x7745ff['forEach'](_0x4afa44=>{const _0x45da9e=_0x310789;if(!_0x33ec66[_0x4afa44['client']]){const _0x65e6e8=clients['find'](_0xce34a5=>_0xce34a5[_0x45da9e(0x2d4)]===_0x4afa44['client']);_0x33ec66[_0x4afa44[_0x45da9e(0x2da)]]={'total':0x0,'done':0x0,'color':_0x65e6e8?_0x65e6e8[_0x45da9e(0x25a)]:_0x45da9e(0x362)};}_0x33ec66[_0x4afa44[_0x45da9e(0x2da)]]['total']++;if(_0x4afa44[_0x45da9e(0x307)]==='completed')_0x33ec66[_0x4afa44['client']][_0x45da9e(0x301)]++;});const _0x5649fb=document[_0x310789(0x322)](_0x310789(0x2f1));_0x5649fb[_0x310789(0x2c6)]='';const _0x3d28a5=Object[_0x310789(0x274)](_0x33ec66)[_0x310789(0x1f1)]((_0x7d374c,_0x2b1884)=>_0x2b1884[0x1][_0x310789(0x26e)]-_0x7d374c[0x1]['total']);if(_0x3d28a5[_0x310789(0x20b)]===0x0){_0x5649fb[_0x310789(0x2c6)]=_0x310789(0x2b1);return;}_0x3d28a5[_0x310789(0x2ed)](([_0xebd450,_0x24d09c])=>{const _0x39feb0=_0x310789,_0x2843d9=Math[_0x39feb0(0x33a)](_0x24d09c[_0x39feb0(0x301)]/_0x24d09c[_0x39feb0(0x26e)]*0x64),_0x4d0586=document[_0x39feb0(0x216)](_0x39feb0(0x1e8));_0x4d0586['className']=_0x39feb0(0x266),_0x4d0586[_0x39feb0(0x2b3)][_0x39feb0(0x232)]=_0x24d09c['color'],_0x4d0586[_0x39feb0(0x2c6)]=_0x39feb0(0x223)+_0xebd450+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x24d09c['done']+_0x39feb0(0x2b5)+_0x24d09c[_0x39feb0(0x26e)]+_0x39feb0(0x267)+_0x2843d9+_0x39feb0(0x291),_0x5649fb['appendChild'](_0x4d0586);});}function formatMinsToHrs(_0x50e005){const _0x218008=a2_0x1f3422;if(_0x50e005===0x0)return'0';const _0x389041=Math[_0x218008(0x2e1)](_0x50e005/0x3c),_0x5e1f35=_0x50e005%0x3c;if(_0x5e1f35===0x0)return _0x389041+'—á';return _0x389041+'—á\x20'+_0x5e1f35+'–º';}