const a2_0x618d7a=a2_0x4105;(function(_0x38e281,_0x20aae1){const _0x5aa85c=a2_0x4105,_0x1db2b9=_0x38e281();while(!![]){try{const _0x4168ce=parseInt(_0x5aa85c(0x263))/0x1*(-parseInt(_0x5aa85c(0x21a))/0x2)+parseInt(_0x5aa85c(0x1dd))/0x3+parseInt(_0x5aa85c(0x26e))/0x4*(-parseInt(_0x5aa85c(0x225))/0x5)+parseInt(_0x5aa85c(0x232))/0x6+-parseInt(_0x5aa85c(0x21f))/0x7*(parseInt(_0x5aa85c(0x1fe))/0x8)+parseInt(_0x5aa85c(0x1f0))/0x9+parseInt(_0x5aa85c(0x240))/0xa*(-parseInt(_0x5aa85c(0x2ee))/0xb);if(_0x4168ce===_0x20aae1)break;else _0x1db2b9['push'](_0x1db2b9['shift']());}catch(_0x59470e){_0x1db2b9['push'](_0x1db2b9['shift']());}}}(a2_0x23a6,0x2a772),function initTMA(){const _0x1bbc7e=a2_0x4105,_0x13a586=(function(){let _0x22b719=!![];return function(_0x38e2f3,_0x908d48){const _0x5e5d8d=_0x22b719?function(){const _0x46e758=a2_0x4105;if(_0x908d48){const _0x3d55a4=_0x908d48[_0x46e758(0x237)](_0x38e2f3,arguments);return _0x908d48=null,_0x3d55a4;}}:function(){};return _0x22b719=![],_0x5e5d8d;};}()),_0x1f4adf=_0x13a586(this,function(){const _0x2ccc32=a2_0x4105;return _0x1f4adf[_0x2ccc32(0x270)]()[_0x2ccc32(0x2eb)](_0x2ccc32(0x2c8))['toString']()[_0x2ccc32(0x283)](_0x1f4adf)['search'](_0x2ccc32(0x2c8));});_0x1f4adf();try{const _0xf9f5c=window[_0x1bbc7e(0x29c)]?.[_0x1bbc7e(0x30b)];if(!_0xf9f5c)return;_0xf9f5c[_0x1bbc7e(0x213)](),_0xf9f5c[_0x1bbc7e(0x2c3)]();try{_0xf9f5c[_0x1bbc7e(0x1dc)](_0x1bbc7e(0x2a1)),_0xf9f5c['setBackgroundColor']&&_0xf9f5c[_0x1bbc7e(0x252)](_0x1bbc7e(0x2a1));}catch(_0x27ee41){console[_0x1bbc7e(0x18e)](_0x1bbc7e(0x2c7),_0x27ee41);}try{_0xf9f5c[_0x1bbc7e(0x1e5)]&&(_0xf9f5c[_0x1bbc7e(0x1e5)][_0x1bbc7e(0x299)](),_0xf9f5c['BackButton']['offClick'](),_0xf9f5c[_0x1bbc7e(0x1e5)][_0x1bbc7e(0x24b)](function(){const _0x5b4bb1=_0x1bbc7e;window['location'][_0x5b4bb1(0x2cc)]='router.html';}));}catch(_0x403893){console[_0x1bbc7e(0x18e)](_0x1bbc7e(0x255),_0x403893);}try{if(_0xf9f5c[_0x1bbc7e(0x308)])_0xf9f5c['disableVerticalSwipes']();}catch(_0x2ab704){}}catch(_0x3d57b8){console[_0x1bbc7e(0x1c4)](_0x1bbc7e(0x1b1),_0x3d57b8);}}());function isAdmin(){const _0xf146b4=a2_0x4105;try{const _0x4307ff=Number(window[_0xf146b4(0x29c)]?.['WebApp']?.[_0xf146b4(0x2c2)]?.[_0xf146b4(0x2d3)]?.['id']);return _0x4307ff===0xbaf7174;}catch(_0x1fcd9d){return![];}}const APP_VERSION=a2_0x618d7a(0x1f4),API_URL=a2_0x618d7a(0x2bf),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x618d7a(0x208),KEY_SESSIONS=a2_0x618d7a(0x24e),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x250935=a2_0x618d7a;return window[_0x250935(0x29c)]?.[_0x250935(0x30b)]?.[_0x250935(0x2c2)]?.['user']?.['id']||_0x250935(0x277);},'saveLocally'(){const _0x1eadb2=a2_0x618d7a;try{localStorage[_0x1eadb2(0x303)](KEY_CLIENTS,JSON[_0x1eadb2(0x26f)](clients)),localStorage[_0x1eadb2(0x303)](KEY_SESSIONS,JSON[_0x1eadb2(0x26f)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x1eadb2(0x26f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2a9dc2){console['error'](_0x1eadb2(0x1cb),_0x2a9dc2);}},'loadLocal'(){const _0x25292e=a2_0x618d7a;try{const _0x333f67=localStorage[_0x25292e(0x22a)](KEY_CLIENTS);if(_0x333f67)clients=JSON['parse'](_0x333f67);const _0x504ea2=localStorage[_0x25292e(0x22a)](KEY_SESSIONS);if(_0x504ea2)sessions=JSON[_0x25292e(0x265)](_0x504ea2);const _0x8a8ec4=localStorage['getItem'](KEY_SETTINGS);if(_0x8a8ec4){const _0x9db5da=JSON[_0x25292e(0x265)](_0x8a8ec4);if(_0x9db5da['pattern'])availabilityPattern=_0x9db5da[_0x25292e(0x2dd)];if(_0x9db5da[_0x25292e(0x29e)])dateExceptions=_0x9db5da[_0x25292e(0x29e)];if(_0x9db5da[_0x25292e(0x2b4)])specialRanges=_0x9db5da['ranges'];}else{for(let _0x3bb4f=0x0;_0x3bb4f<0x7;_0x3bb4f++)availabilityPattern[_0x3bb4f]=Array['from']({'length':0xc},(_0x4865b8,_0x2d9e12)=>_0x2d9e12+0x9);}}catch(_0x2be141){console['error'](_0x25292e(0x1f2),_0x2be141);}},async 'fetchFromServer'(_0x407c88,_0x2e6ff3={}){const _0x508510=a2_0x618d7a,_0x2bbf81=window[_0x508510(0x29c)]?.[_0x508510(0x30b)],_0x47df04={'action':_0x407c88,'init_data':_0x2bbf81?.[_0x508510(0x28f)]||'',..._0x2e6ff3};try{const _0x3fab89=await fetch(API_URL,{'method':_0x508510(0x1d2),'headers':{'Content-Type':_0x508510(0x22f)},'body':JSON['stringify'](_0x47df04)}),_0x3077ba=await _0x3fab89[_0x508510(0x27e)]();if(!_0x3077ba['ok'])throw new Error(_0x3077ba[_0x508510(0x1c4)]||_0x508510(0x30a));return _0x3077ba[_0x508510(0x1c7)];}catch(_0x2ae946){console[_0x508510(0x1c4)](_0x508510(0x1f9)+_0x407c88+']\x20Failed:',_0x2ae946);throw _0x2ae946;}},async 'syncLoad'(){const _0x315d4f=a2_0x618d7a,_0x3edc7d=new Date(),_0x4b750d=_0x3edc7d[_0x315d4f(0x289)]()+'-'+String(_0x3edc7d[_0x315d4f(0x2db)]()+0x1)[_0x315d4f(0x28c)](0x2,'0'),_0x1e81c9=new Date(_0x3edc7d);_0x1e81c9['setMonth'](_0x3edc7d[_0x315d4f(0x2db)]()+0x1);const _0x1f87ae=_0x1e81c9[_0x315d4f(0x289)]()+'-'+String(_0x1e81c9[_0x315d4f(0x2db)]()+0x1)[_0x315d4f(0x28c)](0x2,'0'),_0x9e463e=Date[_0x315d4f(0x2a5)]();console[_0x315d4f(0x18e)](_0x315d4f(0x2d0)+_0x4b750d+',\x20'+_0x1f87ae+_0x315d4f(0x231));try{const [_0x53d88a,_0xaf70b6]=await Promise[_0x315d4f(0x2fc)]([this[_0x315d4f(0x2c6)](_0x315d4f(0x306),{'month_str':_0x4b750d}),this[_0x315d4f(0x2c6)](_0x315d4f(0x306),{'month_str':_0x1f87ae})]);if(lastUserActionTime>_0x9e463e)return console[_0x315d4f(0x248)](_0x315d4f(0x295)),![];return this[_0x315d4f(0x22b)](_0x53d88a,_0x4b750d),this['mergeServerData'](_0xaf70b6,_0x1f87ae),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x233d0a){console[_0x315d4f(0x1c4)](_0x233d0a);throw _0x233d0a;}},'mergeServerData'(_0x1bea02,_0x4d84e6){const _0x3cae83=a2_0x618d7a;if(!_0x1bea02)return;_0x1bea02[_0x3cae83(0x2ea)]&&Array[_0x3cae83(0x29a)](_0x1bea02[_0x3cae83(0x2ea)])&&(clients=_0x1bea02['clients']);if(_0x1bea02[_0x3cae83(0x276)]){if(_0x1bea02[_0x3cae83(0x276)][_0x3cae83(0x2dd)])availabilityPattern=_0x1bea02[_0x3cae83(0x276)]['pattern'];if(_0x1bea02[_0x3cae83(0x276)][_0x3cae83(0x29e)])dateExceptions=_0x1bea02[_0x3cae83(0x276)][_0x3cae83(0x29e)];if(_0x1bea02[_0x3cae83(0x276)][_0x3cae83(0x2b4)])specialRanges=_0x1bea02[_0x3cae83(0x276)]['ranges'];if(_0x1bea02['settings'][_0x3cae83(0x27c)]){localStorage[_0x3cae83(0x303)](_0x3cae83(0x197),_0x1bea02['settings'][_0x3cae83(0x27c)]);const _0x3318a0=document[_0x3cae83(0x1ba)](_0x3cae83(0x193));if(_0x3318a0)_0x3318a0[_0x3cae83(0x1c3)]=_0x1bea02[_0x3cae83(0x276)][_0x3cae83(0x27c)];}}_0x1bea02[_0x3cae83(0x233)]&&(sessions=sessions[_0x3cae83(0x246)](_0x1a1d4b=>!_0x1a1d4b[_0x3cae83(0x243)][_0x3cae83(0x2fe)](_0x4d84e6)),Object[_0x3cae83(0x1e0)](_0x1bea02['calendar'])[_0x3cae83(0x1c1)](_0x254a7d=>{const _0x58a86b=_0x3cae83,_0x5e4258=_0x1bea02[_0x58a86b(0x233)][_0x254a7d];_0x5e4258[_0x58a86b(0x1c1)](_0x4dab74=>{const _0x1750ec=_0x58a86b,_0x4866f5=clients[_0x1750ec(0x2a4)](_0x334b35=>String(_0x334b35['id'])===String(_0x4dab74['c']));sessions['push']({'id':_0x4dab74['i'],'clientId':_0x4dab74['c'],'client':_0x4866f5?_0x4866f5['name']:'Unknown','dateStr':_0x4d84e6+'-'+_0x254a7d[_0x1750ec(0x28c)](0x2,'0'),'start':_0x4dab74['s'],'end':_0x4dab74['e'],'status':_0x4dab74['st']||'planned','note':_0x4dab74['n']||'','seriesId':_0x4dab74[_0x1750ec(0x25f)]||null});});}));},async 'syncBatch'(_0x19ead4){const _0x4d0323=a2_0x618d7a,_0x383764=[...new Set(_0x19ead4)],_0x57ae12=_0x383764[_0x4d0323(0x22d)](_0x455815=>{const _0x3045d3=_0x4d0323,_0x5603ab=sessions[_0x3045d3(0x246)](_0x2d697e=>_0x2d697e[_0x3045d3(0x243)]===_0x455815&&_0x2d697e[_0x3045d3(0x288)]!==_0x3045d3(0x22c)),_0x2d36e2=_0x5603ab[_0x3045d3(0x22d)](_0x162fd1=>({'i':_0x162fd1['id'],'c':_0x162fd1[_0x3045d3(0x1f5)],'s':_0x162fd1['start'],'e':_0x162fd1[_0x3045d3(0x207)],'st':_0x162fd1[_0x3045d3(0x288)],'n':_0x162fd1[_0x3045d3(0x1a7)],'sid':_0x162fd1[_0x3045d3(0x251)]}));return{'date':_0x455815,'day_data':_0x2d36e2};});if(_0x57ae12[_0x4d0323(0x1c5)]===0x0)return;console[_0x4d0323(0x18e)](_0x4d0323(0x1b8)+_0x57ae12[_0x4d0323(0x1c5)]+_0x4d0323(0x1ea)),await this['fetchFromServer']('batch_sync',{'changes':_0x57ae12});}};async function init(){const _0x4cc834=a2_0x618d7a;DataManager[_0x4cc834(0x1ac)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x4cc834(0x20e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4cc834(0x211)]()['then'](()=>{const _0x2c5a15=_0x4cc834;showToast(_0x2c5a15(0x1ae),!![]);})['catch'](_0x19174e=>{const _0x4df38f=_0x4cc834;showToast(_0x4df38f(0x1d9),![]);});}function generateId(){const _0x36445d=a2_0x618d7a;return Date[_0x36445d(0x2a5)]()[_0x36445d(0x270)](0x24)+Math[_0x36445d(0x22e)]()[_0x36445d(0x270)](0x24)[_0x36445d(0x245)](0x2,0x5);}function toggleSeriesInput(){const _0x57da21=a2_0x618d7a,_0x53bed2=document['getElementById'](_0x57da21(0x2f1))[_0x57da21(0x290)],_0x19203b=document[_0x57da21(0x1ba)](_0x57da21(0x247));_0x19203b[_0x57da21(0x1fb)][_0x57da21(0x260)]=_0x53bed2?_0x57da21(0x280):_0x57da21(0x1a2);const _0x3657c3=document[_0x57da21(0x1ba)](_0x57da21(0x2ef));_0x3657c3[_0x57da21(0x1fb)][_0x57da21(0x1b3)]=_0x53bed2?_0x57da21(0x20f):'10px';}function openAddSession(_0x29d643){const _0x5b3d90=a2_0x618d7a;editingId=null,populateClientSelect(),document[_0x5b3d90(0x1ba)](_0x5b3d90(0x1f8))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x5b3d90(0x1ba)](_0x5b3d90(0x27f))['style'][_0x5b3d90(0x260)]=_0x5b3d90(0x1a2),document[_0x5b3d90(0x1ba)](_0x5b3d90(0x2bb))[_0x5b3d90(0x1fb)][_0x5b3d90(0x260)]='none';const _0x27fe81=document[_0x5b3d90(0x1ba)](_0x5b3d90(0x2ef)),_0x38c6a5=document[_0x5b3d90(0x1ba)](_0x5b3d90(0x247));_0x27fe81[_0x5b3d90(0x1fb)]['display']='flex',_0x27fe81['style']['borderRadius']=_0x5b3d90(0x2b0),document[_0x5b3d90(0x1ba)](_0x5b3d90(0x2f1))['checked']=![],document[_0x5b3d90(0x1ba)](_0x5b3d90(0x226))[_0x5b3d90(0x1c3)]=0x4,_0x38c6a5[_0x5b3d90(0x1fb)][_0x5b3d90(0x260)]=_0x5b3d90(0x1a2),document[_0x5b3d90(0x1ba)](_0x5b3d90(0x2a9))[_0x5b3d90(0x1c3)]=getLocalDateStr(_0x29d643),updateDateDisplay();const _0x43b6ec=_0x29d643[_0x5b3d90(0x1d3)]();document[_0x5b3d90(0x1ba)](_0x5b3d90(0x244))['value']=String(_0x43b6ec)[_0x5b3d90(0x28c)](0x2,'0')+_0x5b3d90(0x254),document[_0x5b3d90(0x1ba)](_0x5b3d90(0x1b4))['value']=String(_0x43b6ec+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x5b3d90(0x2d6));}function openEdit(_0x28f62f){const _0x4bfcb8=a2_0x618d7a;editingId=_0x28f62f['id'],populateClientSelect(),document[_0x4bfcb8(0x1ba)](_0x4bfcb8(0x1f8))[_0x4bfcb8(0x2f7)]=_0x4bfcb8(0x1d8),document['getElementById'](_0x4bfcb8(0x27f))[_0x4bfcb8(0x1fb)][_0x4bfcb8(0x260)]=_0x4bfcb8(0x280);const _0x230888=document['getElementById'](_0x4bfcb8(0x2bb));_0x230888[_0x4bfcb8(0x1fb)][_0x4bfcb8(0x260)]='flex';_0x28f62f['status']==='completed'?(_0x230888['className']=_0x4bfcb8(0x1a4),_0x230888[_0x4bfcb8(0x1b5)]=_0x4bfcb8(0x19d)):(_0x230888[_0x4bfcb8(0x268)]=_0x4bfcb8(0x1b0),_0x230888['innerHTML']=_0x4bfcb8(0x1bf));const _0x929ff4=!!_0x28f62f[_0x4bfcb8(0x251)];document[_0x4bfcb8(0x1ba)](_0x4bfcb8(0x2ef))['style'][_0x4bfcb8(0x260)]=_0x4bfcb8(0x1a2),document['getElementById'](_0x4bfcb8(0x247))[_0x4bfcb8(0x1fb)][_0x4bfcb8(0x260)]='none',_0x929ff4?(document['getElementById'](_0x4bfcb8(0x264))['style'][_0x4bfcb8(0x260)]=_0x4bfcb8(0x2fb),document[_0x4bfcb8(0x1ba)]('patternInfoBox')[_0x4bfcb8(0x294)](_0x4bfcb8(0x215))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById'](_0x4bfcb8(0x264))['style'][_0x4bfcb8(0x260)]=_0x4bfcb8(0x1a2),document['getElementById'](_0x4bfcb8(0x272))['value']=_0x28f62f[_0x4bfcb8(0x286)],document[_0x4bfcb8(0x1ba)]('inpDate')['value']=_0x28f62f[_0x4bfcb8(0x243)],document['getElementById']('inpStart')[_0x4bfcb8(0x1c3)]=_0x28f62f[_0x4bfcb8(0x281)],document[_0x4bfcb8(0x1ba)](_0x4bfcb8(0x1b4))[_0x4bfcb8(0x1c3)]=_0x28f62f[_0x4bfcb8(0x207)],document[_0x4bfcb8(0x1ba)](_0x4bfcb8(0x1b9))[_0x4bfcb8(0x1c3)]=_0x28f62f[_0x4bfcb8(0x1a7)]||'',updateDateDisplay(),openSheet(_0x4bfcb8(0x2d6));}async function trySaveSession(){const _0x46154e=a2_0x618d7a,_0x426e25=document[_0x46154e(0x1ba)](_0x46154e(0x272))[_0x46154e(0x1c3)],_0x55aaf0=document['getElementById'](_0x46154e(0x2a9))['value'],_0x3a4316=document[_0x46154e(0x1ba)](_0x46154e(0x244))['value'],_0x1efc82=document[_0x46154e(0x1ba)](_0x46154e(0x1b4))[_0x46154e(0x1c3)],_0x1315ff=document[_0x46154e(0x1ba)](_0x46154e(0x1b9))['value'],_0x58fa61=document[_0x46154e(0x1ba)](_0x46154e(0x2f1))[_0x46154e(0x290)];let _0xc852a=0x4;if(_0x58fa61){const _0x1a6789=parseInt(document['getElementById'](_0x46154e(0x226))[_0x46154e(0x1c3)]);if(!_0x1a6789||_0x1a6789<0x2){showToast(_0x46154e(0x1af),![]);return;}if(_0x1a6789>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0xc852a=_0x1a6789;}const _0x54d690=clients['find'](_0x48dbf0=>_0x48dbf0[_0x46154e(0x23c)]===_0x426e25);if(!_0x54d690){showToast(_0x46154e(0x1e1),![]);return;}const _0x4966f0=validateAppointment(_0x55aaf0,_0x3a4316,_0x1efc82,editingId,_0x54d690['id']);if(!_0x4966f0[_0x46154e(0x191)]){showToast(_0x4966f0[_0x46154e(0x212)],![]);return;}_0x4966f0[_0x46154e(0x1eb)]&&showToast(_0x4966f0[_0x46154e(0x1eb)],![]);const _0x5beaf8={'client':_0x426e25,'clientId':_0x54d690['id'],'start':_0x3a4316,'end':_0x1efc82,'note':_0x1315ff,'status':_0x46154e(0x284)},_0x16c2f2=editingId?sessions['find'](_0x27edcf=>_0x27edcf['id']===editingId):null;if(_0x16c2f2&&_0x16c2f2[_0x46154e(0x251)]){tempSessionData={..._0x5beaf8,'dateStr':_0x55aaf0,'id':editingId,'seriesId':_0x16c2f2['seriesId']},openActionSheet(_0x46154e(0x2d9));return;}let _0x342da1=null;if(!editingId)_0x342da1=_0x46154e(0x2b8);else{if(_0x16c2f2){if(String(_0x16c2f2[_0x46154e(0x1f5)])!==String(_0x54d690['id']))console[_0x46154e(0x18e)](_0x46154e(0x2b2)),NotificationManager['send'](_0x46154e(0x229),_0x16c2f2),_0x342da1=_0x46154e(0x2b8);else(_0x16c2f2['start']!==_0x3a4316||_0x16c2f2[_0x46154e(0x207)]!==_0x1efc82||_0x16c2f2[_0x46154e(0x243)]!==_0x55aaf0)&&(_0x342da1='update');}}if(!editingId&&_0x58fa61){createBatchSeries(_0x5beaf8,_0x55aaf0,_0xc852a),NotificationManager['send'](_0x46154e(0x2b8),{..._0x5beaf8,'dateStr':_0x55aaf0});return;}lastUserActionTime=Date[_0x46154e(0x2a5)]();const _0x5bb467={..._0x5beaf8,'dateStr':_0x55aaf0,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5bb467),_0x342da1&&NotificationManager[_0x46154e(0x305)](_0x342da1,_0x5bb467);}function toggleSessionStatus(){const _0x33109b=a2_0x618d7a;lastUserActionTime=Date[_0x33109b(0x2a5)]();const _0x581e77=sessions[_0x33109b(0x2a4)](_0x5bcc90=>_0x5bcc90['id']===editingId);if(!_0x581e77)return;const _0x39060e=_0x581e77[_0x33109b(0x288)]===_0x33109b(0x201)?_0x33109b(0x284):'completed';_0x581e77[_0x33109b(0x288)]=_0x39060e,saveSingleSession(_0x581e77),_0x39060e===_0x33109b(0x201)&&NotificationManager[_0x33109b(0x305)]('complete',_0x581e77),showToast(_0x39060e===_0x33109b(0x201)?_0x33109b(0x1ca):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x4160f1,_0x1f9c37,_0x5d4127,_0x34aeaa,_0x1397e5){const _0xb70a12=a2_0x618d7a,[_0x83e6bc,_0x3b17cb]=_0x1f9c37[_0xb70a12(0x1d1)](':')[_0xb70a12(0x22d)](Number),[_0x10daa0,_0x3a6da6]=_0x5d4127[_0xb70a12(0x1d1)](':')['map'](Number),_0x2e2100=_0x83e6bc*0x3c+_0x3b17cb,_0x377bd0=_0x10daa0*0x3c+_0x3a6da6,_0x101d8a=String(_0x1397e5);let _0x462e4e=![],_0x3daff1='';for(let _0x59035e of sessions){if(_0x59035e[_0xb70a12(0x243)]!==_0x4160f1)continue;if(_0x59035e[_0xb70a12(0x288)]===_0xb70a12(0x19b))continue;if(_0x34aeaa&&String(_0x59035e['id'])===String(_0x34aeaa))continue;const [_0x4916bf,_0x4b74ea]=_0x59035e[_0xb70a12(0x281)][_0xb70a12(0x1d1)](':')[_0xb70a12(0x22d)](Number),[_0x282ad4,_0x15d93d]=_0x59035e[_0xb70a12(0x207)][_0xb70a12(0x1d1)](':')[_0xb70a12(0x22d)](Number),_0x2a82ed=_0x4916bf*0x3c+_0x4b74ea,_0x41c52f=_0x282ad4*0x3c+_0x15d93d;if(Math['max'](_0x2e2100,_0x2a82ed)<Math['min'](_0x377bd0,_0x41c52f)){if(_0x59035e['clientId']&&String(_0x59035e[_0xb70a12(0x1f5)])===_0x101d8a)return{'valid':![],'msg':_0xb70a12(0x18d)+_0x59035e[_0xb70a12(0x286)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x462e4e=!![],_0x3daff1=_0x59035e[_0xb70a12(0x286)];}}if(_0x462e4e)return{'valid':!![],'warning':_0xb70a12(0x1f6)+_0x3daff1};return{'valid':!![]};}function saveSingleSession(_0x3e9c93){const _0x2a4573=a2_0x618d7a;if(editingId){const _0x5cdbe6=sessions[_0x2a4573(0x253)](_0x9e9c3d=>_0x9e9c3d['id']===editingId);if(_0x5cdbe6!==-0x1)sessions[_0x5cdbe6]=_0x3e9c93;}else sessions[_0x2a4573(0x257)](_0x3e9c93);afterSaveAction([_0x3e9c93[_0x2a4573(0x243)]]);}function createBatchSeries(_0x29af6d,_0x3d1a4d,_0x1de7c4){const _0x3db73b=a2_0x618d7a,_0xf5b6a3=generateId(),_0x204e9e=[],_0x254e86=[];let _0x278648=0x0,_0xac45a3=new Date(_0x3d1a4d);for(let _0x2f9bcc=0x0;_0x2f9bcc<_0x1de7c4;_0x2f9bcc++){const _0x56aeeb=getLocalDateStr(_0xac45a3),_0x325881=validateAppointment(_0x56aeeb,_0x29af6d[_0x3db73b(0x281)],_0x29af6d[_0x3db73b(0x207)],null,_0x29af6d['clientId']);if(!_0x325881['valid'])console[_0x3db73b(0x18e)]('[Series]\x20Skipped\x20'+_0x56aeeb+_0x3db73b(0x1d5)),_0x278648++;else{const _0x44fb4c={..._0x29af6d,'id':generateId(),'dateStr':_0x56aeeb,'seriesId':_0xf5b6a3};_0x254e86[_0x3db73b(0x257)](_0x44fb4c),_0x204e9e[_0x3db73b(0x257)](_0x56aeeb);}_0xac45a3[_0x3db73b(0x2e5)](_0xac45a3[_0x3db73b(0x2f2)]()+0x7);}if(_0x254e86[_0x3db73b(0x1c5)]===0x0){showToast(_0x3db73b(0x261),![]);return;}sessions['push'](..._0x254e86),lastUserActionTime=Date[_0x3db73b(0x2a5)]();let _0x52eade='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x254e86['length'];_0x278648>0x0&&(_0x52eade+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x278648+')'),showToast(_0x52eade,!![]),afterSaveAction(_0x204e9e);}function updateSeriesBatch(_0x5ac6ae,_0x359f2f){const _0x19686c=a2_0x618d7a,_0x248063=[],_0x508a12=_0x359f2f[_0x19686c(0x251)];if(_0x5ac6ae===_0x19686c(0x302)){const _0x1eeaae={..._0x359f2f,'seriesId':null},_0x402524=sessions[_0x19686c(0x253)](_0x5a4a13=>_0x5a4a13['id']===_0x359f2f['id']);if(_0x402524!==-0x1)sessions[_0x402524]=_0x1eeaae;_0x248063[_0x19686c(0x257)](_0x1eeaae['dateStr']);}else{if(_0x5ac6ae===_0x19686c(0x239)){const _0x446d98=_0x359f2f['dateStr'];sessions[_0x19686c(0x1c1)]((_0x2b1295,_0x3789b3)=>{const _0x4668c0=_0x19686c;_0x2b1295[_0x4668c0(0x251)]===_0x508a12&&_0x2b1295[_0x4668c0(0x243)]>=_0x446d98&&(sessions[_0x3789b3]={...sessions[_0x3789b3],'start':_0x359f2f[_0x4668c0(0x281)],'end':_0x359f2f[_0x4668c0(0x207)],'note':_0x359f2f['note'],'client':_0x359f2f[_0x4668c0(0x286)],'clientId':_0x359f2f[_0x4668c0(0x1f5)]},_0x248063['push'](_0x2b1295[_0x4668c0(0x243)]));});}}afterSaveAction(_0x248063);}function tryDeleteSession(){const _0x8f82a3=a2_0x618d7a,_0x39521a=sessions['find'](_0x73a365=>_0x73a365['id']===editingId);if(!_0x39521a)return;_0x39521a['seriesId']?openActionSheet(_0x8f82a3(0x2a7)):commitDelete('single',_0x39521a);}function commitDelete(_0x298826,_0x2fd34b){const _0x25afef=a2_0x618d7a;lastUserActionTime=Date[_0x25afef(0x2a5)](),NotificationManager[_0x25afef(0x305)](_0x25afef(0x229),_0x2fd34b);const _0x1fcba4=[];if(_0x298826===_0x25afef(0x302))sessions=sessions['filter'](_0x419980=>_0x419980['id']!==_0x2fd34b['id']),_0x1fcba4['push'](_0x2fd34b['dateStr']);else{if(_0x298826===_0x25afef(0x239)){const _0x9604b2=_0x2fd34b[_0x25afef(0x243)],_0x477565=_0x2fd34b[_0x25afef(0x251)];sessions['forEach'](_0x535c14=>{const _0x29b7b7=_0x25afef;_0x535c14[_0x29b7b7(0x251)]===_0x477565&&_0x535c14[_0x29b7b7(0x243)]>=_0x9604b2&&_0x1fcba4[_0x29b7b7(0x257)](_0x535c14[_0x29b7b7(0x243)]);}),sessions=sessions[_0x25afef(0x246)](_0x5c9112=>!(_0x5c9112[_0x25afef(0x251)]===_0x477565&&_0x5c9112[_0x25afef(0x243)]>=_0x9604b2));}}afterSaveAction(_0x1fcba4);}function afterSaveAction(_0x327d29){const _0x318a27=a2_0x618d7a;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x327d29)[_0x318a27(0x2ec)](()=>console[_0x318a27(0x18e)](_0x318a27(0x1be)))[_0x318a27(0x19c)](_0x1de731=>showToast(_0x318a27(0x274),![]));}const NotificationManager={'formatDate'(_0x20c48c){const _0x50a78b=a2_0x618d7a,_0x3b23e6=new Date(_0x20c48c),_0x4d993c={'weekday':_0x50a78b(0x2a6),'day':_0x50a78b(0x214),'month':'long'};let _0x376721=_0x3b23e6[_0x50a78b(0x199)](_0x50a78b(0x259),_0x4d993c);return _0x376721[_0x50a78b(0x19a)](0x0)[_0x50a78b(0x2d7)]()+_0x376721['slice'](0x1);},'getText'(_0x4d5166,_0x54f8dc){const _0xcd13c9=a2_0x618d7a,_0x57c4d8=this[_0xcd13c9(0x190)](_0x54f8dc[_0xcd13c9(0x243)]);switch(_0x4d5166){case _0xcd13c9(0x2b8):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0xcd13c9(0x2ac)+_0x57c4d8+'\x0a')+(_0xcd13c9(0x21d)+_0x54f8dc[_0xcd13c9(0x281)]+_0xcd13c9(0x23e)+_0x54f8dc[_0xcd13c9(0x207)]+'\x0a\x0a')+_0xcd13c9(0x285);case _0xcd13c9(0x2f9):return _0xcd13c9(0x242)+_0xcd13c9(0x23b)+(_0xcd13c9(0x2c5)+_0x54f8dc[_0xcd13c9(0x281)]+_0xcd13c9(0x23e)+_0x54f8dc[_0xcd13c9(0x207)]+_0xcd13c9(0x249))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x57c4d8);case'cancel':return _0xcd13c9(0x198)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x57c4d8+'\x20('+_0x54f8dc[_0xcd13c9(0x281)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0xcd13c9(0x2b3);default:return'';}},async 'send'(_0x2b76de,_0x557d5d){const _0x459ced=a2_0x618d7a;console[_0x459ced(0x18e)](_0x459ced(0x2fa),_0x2b76de,_0x557d5d);if(!_0x557d5d){console[_0x459ced(0x1c4)](_0x459ced(0x21c));return;}const _0x2a4ebb=String(_0x557d5d['clientId']);console[_0x459ced(0x18e)]('[Notify]\x20Detected\x20Client\x20ID:',_0x2a4ebb);if(!_0x557d5d[_0x459ced(0x1f5)]||_0x2a4ebb===_0x459ced(0x287)||_0x2a4ebb===_0x459ced(0x1d6)){console[_0x459ced(0x1c4)](_0x459ced(0x2da));if(_0x557d5d[_0x459ced(0x286)]){const _0x4b803c=clients[_0x459ced(0x2a4)](_0x1609f8=>_0x1609f8['name']===_0x557d5d[_0x459ced(0x286)]);if(_0x4b803c)return console[_0x459ced(0x18e)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x4b803c['id']),this[_0x459ced(0x305)](_0x2b76de,{..._0x557d5d,'clientId':_0x4b803c['id']});}return;}if(_0x2a4ebb[_0x459ced(0x1c5)]<0x5){console['warn'](_0x459ced(0x236),_0x2a4ebb);return;}const _0x5cc1d9=this[_0x459ced(0x224)](_0x2b76de,_0x557d5d);if(!_0x5cc1d9){console['error']('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x459ced(0x18e)](_0x459ced(0x26d)+_0x2a4ebb+_0x459ced(0x231)),DataManager[_0x459ced(0x2c6)]('send_notification',{'chatId':_0x2a4ebb,'text':_0x5cc1d9})[_0x459ced(0x2ec)](_0x4f57ea=>console['log'](_0x459ced(0x296),_0x4f57ea))['catch'](_0xc54fab=>console[_0x459ced(0x1c4)](_0x459ced(0x18c),_0xc54fab));}};function a2_0x4105(_0x1c94cc,_0x1ff5f7){_0x1c94cc=_0x1c94cc-0x18b;const _0x28202b=a2_0x23a6();let _0x2d0b9c=_0x28202b[_0x1c94cc];return _0x2d0b9c;}function getLocalDateStr(_0x5a9ef8){const _0x33a179=a2_0x618d7a,_0x137093=_0x5a9ef8[_0x33a179(0x289)](),_0x27acff=String(_0x5a9ef8[_0x33a179(0x2db)]()+0x1)[_0x33a179(0x28c)](0x2,'0'),_0x4d7041=String(_0x5a9ef8[_0x33a179(0x2f2)]())[_0x33a179(0x28c)](0x2,'0');return _0x137093+'-'+_0x27acff+'-'+_0x4d7041;}function getDateStr(_0x548f8b){const _0x216738=a2_0x618d7a,_0x95d2b0=new Date();return _0x95d2b0[_0x216738(0x2e5)](_0x95d2b0[_0x216738(0x2f2)]()+_0x548f8b),getLocalDateStr(_0x95d2b0);}function getStartOfWeek(_0x1aadc2){const _0x440ca4=a2_0x618d7a,_0xed76d3=new Date(_0x1aadc2),_0x285cb9=_0xed76d3[_0x440ca4(0x1f1)](),_0x5d84b8=_0xed76d3[_0x440ca4(0x2f2)]()-_0x285cb9+(_0x285cb9===0x0?-0x6:0x1);return _0xed76d3[_0x440ca4(0x2e5)](_0x5d84b8),_0xed76d3[_0x440ca4(0x1a3)](0x0,0x0,0x0,0x0),_0xed76d3;}function hexToRgba(_0x54f26a,_0x57d5bf){const _0x5ed6d2=a2_0x618d7a;if(!_0x54f26a)return _0x5ed6d2(0x25d);let _0x3f1a52=0x0,_0x3ecf03=0x0,_0x5650ac=0x0;if(_0x54f26a['length']===0x4)_0x3f1a52='0x'+_0x54f26a[0x1]+_0x54f26a[0x1],_0x3ecf03='0x'+_0x54f26a[0x2]+_0x54f26a[0x2],_0x5650ac='0x'+_0x54f26a[0x3]+_0x54f26a[0x3];else _0x54f26a[_0x5ed6d2(0x1c5)]===0x7&&(_0x3f1a52='0x'+_0x54f26a[0x1]+_0x54f26a[0x2],_0x3ecf03='0x'+_0x54f26a[0x3]+_0x54f26a[0x4],_0x5650ac='0x'+_0x54f26a[0x5]+_0x54f26a[0x6]);return _0x5ed6d2(0x293)+ +_0x3f1a52+',\x20'+ +_0x3ecf03+',\x20'+ +_0x5650ac+',\x20'+_0x57d5bf+')';}function renderTimeColumn(){const _0x254e60=a2_0x618d7a,_0x4b1d02=document[_0x254e60(0x1ba)](_0x254e60(0x2df)),_0x89c805=document[_0x254e60(0x1ba)](_0x254e60(0x238));_0x4b1d02[_0x254e60(0x1b5)]='',_0x4b1d02[_0x254e60(0x2aa)](_0x89c805);for(let _0x463bad=0x0;_0x463bad<0x18;_0x463bad++){const _0x1f3b48=document[_0x254e60(0x2ce)](_0x254e60(0x235));_0x1f3b48[_0x254e60(0x268)]=_0x254e60(0x27a);if(_0x463bad>0x0)_0x1f3b48[_0x254e60(0x1b5)]=_0x254e60(0x29d)+String(_0x463bad)[_0x254e60(0x28c)](0x2,'0')+_0x254e60(0x2f4);_0x4b1d02[_0x254e60(0x2aa)](_0x1f3b48);}}function renderDayRange(_0x4c66b7,_0x1ecdf3){const _0xbdb4e6=a2_0x618d7a,_0x3a5247=document[_0xbdb4e6(0x1ba)]('daysHeaderTrack'),_0x44a6ee=document[_0xbdb4e6(0x1ba)](_0xbdb4e6(0x20a)),_0x50508d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xffa8d6=new Date();_0xffa8d6[_0xbdb4e6(0x1a3)](0x0,0x0,0x0,0x0);const _0x13a121=getLocalDateStr(new Date());for(let _0x44ff85=_0x4c66b7;_0x44ff85<=_0x1ecdf3;_0x44ff85++){const _0x2eff01=new Date(_0xffa8d6);_0x2eff01['setDate'](_0x2eff01[_0xbdb4e6(0x2f2)]()+_0x44ff85);const _0x503878=getLocalDateStr(_0x2eff01);let _0x8de525=_0x2eff01[_0xbdb4e6(0x1f1)]()-0x1;if(_0x8de525===-0x1)_0x8de525=0x6;const _0x26fb88=_0x503878===_0x13a121,_0x16a383=document[_0xbdb4e6(0x2ce)](_0xbdb4e6(0x235));_0x16a383[_0xbdb4e6(0x268)]=_0xbdb4e6(0x217)+(_0x26fb88?_0xbdb4e6(0x26b):''),_0x16a383['id']=_0xbdb4e6(0x2ff)+_0x503878,_0x16a383[_0xbdb4e6(0x307)](_0xbdb4e6(0x2e8),_0x503878),_0x16a383['innerHTML']=_0xbdb4e6(0x1e4)+_0x50508d[_0x8de525]+_0xbdb4e6(0x2cb)+_0x2eff01[_0xbdb4e6(0x2f2)]()+_0xbdb4e6(0x279)+_0x503878+_0xbdb4e6(0x1ab),_0x16a383[_0xbdb4e6(0x18b)]=()=>openDayOptions(_0x503878,_0x50508d[_0x8de525]+'\x20'+_0x2eff01[_0xbdb4e6(0x2f2)]()),_0x3a5247[_0xbdb4e6(0x2aa)](_0x16a383);const _0x3fc357=document['createElement'](_0xbdb4e6(0x235));_0x3fc357[_0xbdb4e6(0x268)]=_0xbdb4e6(0x2a0)+(_0x26fb88?_0xbdb4e6(0x26b):''),_0x3fc357[_0xbdb4e6(0x307)](_0xbdb4e6(0x2e8),_0x503878),_0x3fc357['setAttribute'](_0xbdb4e6(0x230),_0x8de525),renderEventsForColumn(_0x3fc357,_0x503878,_0x8de525),attachLongPressHandler(_0x3fc357,_0x2eff01),_0x44a6ee[_0xbdb4e6(0x2aa)](_0x3fc357),updateDayStats(_0x503878);}}function reRenderBlocks(){const _0x252d6a=a2_0x618d7a;document[_0x252d6a(0x2b9)](_0x252d6a(0x222))[_0x252d6a(0x1c1)](_0x47549f=>{const _0x515569=_0x252d6a;_0x47549f[_0x515569(0x2b9)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x515569(0x1c1)](_0x126e79=>_0x126e79[_0x515569(0x20c)]());const _0x464ec8=_0x47549f['getAttribute']('data-date'),_0x2217e9=parseInt(_0x47549f['getAttribute'](_0x515569(0x230))),_0x2d445b=Math[_0x515569(0x2e1)](_0x47549f[_0x515569(0x1cc)]);(availabilityPattern[_0x2217e9]||[])[_0x515569(0x1c1)](_0x21e8c7=>{const _0x5c9dd0=_0x515569,_0x4a9e6c=document['createElement']('div');_0x4a9e6c[_0x5c9dd0(0x268)]=_0x5c9dd0(0x204);const _0x4a3895=_0x21e8c7*GRID_H;_0x4a9e6c[_0x5c9dd0(0x1fb)][_0x5c9dd0(0x220)]=_0x4a3895+'px',_0x4a9e6c[_0x5c9dd0(0x1fb)][_0x5c9dd0(0x266)]='-'+_0x2d445b+'px\x20-'+_0x4a3895+'px',_0x47549f[_0x5c9dd0(0x2aa)](_0x4a9e6c);});if(specialRanges&&specialRanges[_0x515569(0x1c5)]>0x0){const _0x5174ed=new Date(_0x464ec8+_0x515569(0x1bc))[_0x515569(0x218)](),_0x19d9d0=new Date(_0x464ec8+'T23:59:59')[_0x515569(0x218)]();specialRanges[_0x515569(0x1c1)](_0x805338=>{const _0x5c8eec=_0x515569,_0x6c4ee9=new Date(_0x805338[_0x5c8eec(0x281)])[_0x5c8eec(0x218)](),_0x479ab5=new Date(_0x805338[_0x5c8eec(0x207)])[_0x5c8eec(0x218)](),_0xf4d7ea=Math[_0x5c8eec(0x275)](_0x5174ed,_0x6c4ee9),_0x464b58=Math['min'](_0x19d9d0,_0x479ab5);if(_0xf4d7ea<_0x464b58){if(_0xf4d7ea<=_0x5174ed&&_0x464b58>=_0x19d9d0-0xea60){if(!_0x47549f[_0x5c8eec(0x294)]('.day-off-overlay')){const _0x26ed14=document[_0x5c8eec(0x2ce)](_0x5c8eec(0x235));_0x26ed14['className']=_0x5c8eec(0x2a2),_0x26ed14[_0x5c8eec(0x1fb)][_0x5c8eec(0x266)]='-'+_0x2d445b+_0x5c8eec(0x195),_0x47549f[_0x5c8eec(0x2aa)](_0x26ed14);}}else{const _0x5f4116=(_0xf4d7ea-_0x5174ed)/0x36ee80*GRID_H,_0xf0b206=(_0x464b58-_0xf4d7ea)/0x36ee80*GRID_H,_0x452672=document[_0x5c8eec(0x2ce)]('div');_0x452672['className']=_0x5c8eec(0x1ce),_0x452672[_0x5c8eec(0x1fb)]['top']=_0x5f4116+'px',_0x452672['style']['height']=_0xf0b206+'px',_0x452672[_0x5c8eec(0x1fb)][_0x5c8eec(0x266)]='-'+_0x2d445b+_0x5c8eec(0x1a5)+_0x5f4116+'px',_0x47549f[_0x5c8eec(0x2aa)](_0x452672);}}});}if(dateExceptions[_0x464ec8]==='off'){if(!_0x47549f[_0x515569(0x294)]('.day-off-overlay')){const _0x2994da=document['createElement'](_0x515569(0x235));_0x2994da['className']=_0x515569(0x2a2),_0x2994da[_0x515569(0x1fb)][_0x515569(0x266)]='-'+_0x2d445b+_0x515569(0x195),_0x47549f[_0x515569(0x2aa)](_0x2994da);}}renderEventsForColumn(_0x47549f,_0x464ec8,_0x2217e9),updateDayStats(_0x464ec8);});}function updateAllDayStats(){const _0x5cb676=a2_0x618d7a;document[_0x5cb676(0x2b9)](_0x5cb676(0x1aa))[_0x5cb676(0x1c1)](_0x489274=>{const _0x47df91=_0x5cb676;updateDayStats(_0x489274[_0x47df91(0x2fd)](_0x47df91(0x2e8)));});}function updateDayStats(_0x1c311e){const _0x4390e5=a2_0x618d7a,_0x553360=document[_0x4390e5(0x1ba)]('stat-'+_0x1c311e);if(!_0x553360)return;const _0x5b0d3b=new Date(_0x1c311e);let _0x4c5a3f=_0x5b0d3b[_0x4390e5(0x1f1)]()-0x1;if(_0x4c5a3f===-0x1)_0x4c5a3f=0x6;if(dateExceptions[_0x1c311e]==='off'){_0x553360[_0x4390e5(0x1fb)]['display']=_0x4390e5(0x1a2);return;}const _0x3a930=availabilityPattern[_0x4c5a3f]||[],_0x1a6cb0=0x18-_0x3a930[_0x4390e5(0x1c5)],_0x2bc388=_0x1a6cb0*0x3c,_0x2fae4f=sessions[_0x4390e5(0x246)](_0x5328bc=>_0x5328bc['dateStr']===_0x1c311e&&_0x5328bc[_0x4390e5(0x288)]!==_0x4390e5(0x19b));if(_0x2fae4f[_0x4390e5(0x1c5)]===0x0){_0x553360[_0x4390e5(0x1fb)][_0x4390e5(0x260)]=_0x4390e5(0x1a2);return;}let _0x22e3e7=_0x2fae4f['map'](_0x2d3d7e=>{const _0x434eda=_0x4390e5,[_0x42085f,_0x13c999]=_0x2d3d7e[_0x434eda(0x281)][_0x434eda(0x1d1)](':')[_0x434eda(0x22d)](Number),[_0x1b1ff6,_0x241552]=_0x2d3d7e[_0x434eda(0x207)][_0x434eda(0x1d1)](':')[_0x434eda(0x22d)](Number);return[_0x42085f*0x3c+_0x13c999,_0x1b1ff6*0x3c+_0x241552];});_0x22e3e7[_0x4390e5(0x24f)]((_0x33a047,_0x223e7b)=>_0x33a047[0x0]-_0x223e7b[0x0]);let _0x67779d=[];if(_0x22e3e7['length']>0x0){let _0x57aff9=_0x22e3e7[0x0];for(let _0xc4ba5e=0x1;_0xc4ba5e<_0x22e3e7[_0x4390e5(0x1c5)];_0xc4ba5e++){_0x22e3e7[_0xc4ba5e][0x0]<_0x57aff9[0x1]?_0x57aff9[0x1]=Math[_0x4390e5(0x275)](_0x57aff9[0x1],_0x22e3e7[_0xc4ba5e][0x1]):(_0x67779d['push'](_0x57aff9),_0x57aff9=_0x22e3e7[_0xc4ba5e]);}_0x67779d[_0x4390e5(0x257)](_0x57aff9);}let _0x4161eb=0x0;_0x67779d[_0x4390e5(0x1c1)](_0x732dc4=>_0x4161eb+=_0x732dc4[0x1]-_0x732dc4[0x0]),_0x553360[_0x4390e5(0x1fb)][_0x4390e5(0x260)]=_0x4390e5(0x2fb);const _0x1ccd5a=_0x553360[_0x4390e5(0x294)](_0x4390e5(0x1d0));if(_0x2bc388===0x0){_0x1ccd5a[_0x4390e5(0x1fb)][_0x4390e5(0x1fd)]=_0x4390e5(0x250),_0x1ccd5a['style'][_0x4390e5(0x210)]=_0x4390e5(0x23d);return;}const _0x2e345e=_0x4161eb/_0x2bc388*0x64;console[_0x4390e5(0x18e)]('['+_0x1c311e+_0x4390e5(0x2bc)+_0x1a6cb0+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x4161eb+_0x4390e5(0x1a0)+_0x2e345e[_0x4390e5(0x241)](0x1)+'%'),_0x2e345e>0x64?(_0x1ccd5a[_0x4390e5(0x1fb)][_0x4390e5(0x1fd)]='100%',_0x1ccd5a[_0x4390e5(0x1fb)][_0x4390e5(0x210)]=_0x4390e5(0x23d)):(_0x1ccd5a['style'][_0x4390e5(0x1fd)]=_0x2e345e+'%',_0x1ccd5a[_0x4390e5(0x1fb)][_0x4390e5(0x210)]=_0x4390e5(0x1c0));}function renderEventsForColumn(_0x4a3d0c,_0x5d8b2a,_0x573517){const _0x18f38b=a2_0x618d7a,_0x432875=sessions[_0x18f38b(0x246)](_0x5afa34=>_0x5afa34[_0x18f38b(0x243)]===_0x5d8b2a),_0x2a837b=_0x432875[_0x18f38b(0x22d)](_0x163782=>{const _0x277467=_0x18f38b,[_0x1edbde,_0x3e7f57]=_0x163782[_0x277467(0x281)][_0x277467(0x1d1)](':')[_0x277467(0x22d)](Number),[_0x3907d4,_0x27c7ae]=_0x163782[_0x277467(0x207)]['split'](':')['map'](Number);return{'data':_0x163782,'start':_0x1edbde*0x3c+_0x3e7f57,'end':_0x3907d4*0x3c+_0x27c7ae,'colIndex':0x0};});_0x2a837b[_0x18f38b(0x24f)]((_0x487b13,_0x16e799)=>{const _0x1156a6=_0x18f38b;if(_0x487b13[_0x1156a6(0x281)]!==_0x16e799[_0x1156a6(0x281)])return _0x487b13['start']-_0x16e799['start'];return _0x16e799[_0x1156a6(0x207)]-_0x16e799['start']-(_0x487b13['end']-_0x487b13['start']);});const _0x53ee5e=[];_0x2a837b['forEach'](_0x24edbb=>{const _0x2e3121=_0x18f38b;let _0x1ac5b4=![];for(let _0x38d8f1=0x0;_0x38d8f1<_0x53ee5e[_0x2e3121(0x1c5)];_0x38d8f1++){const _0x444781=_0x53ee5e[_0x38d8f1],_0x373b1e=_0x444781[_0x444781[_0x2e3121(0x1c5)]-0x1];if(_0x24edbb[_0x2e3121(0x281)]>=_0x373b1e['end']){_0x444781[_0x2e3121(0x257)](_0x24edbb),_0x24edbb[_0x2e3121(0x1b7)]=_0x38d8f1,_0x1ac5b4=!![];break;}}!_0x1ac5b4&&(_0x53ee5e['push']([_0x24edbb]),_0x24edbb[_0x2e3121(0x1b7)]=_0x53ee5e[_0x2e3121(0x1c5)]-0x1);}),_0x2a837b[_0x18f38b(0x1c1)](_0x1a0f5f=>{const _0x125d5e=_0x18f38b;let _0x2f6680=0x0;_0x2a837b[_0x125d5e(0x1c1)](_0x55b64d=>{const _0x2a9f9e=_0x125d5e;if(Math[_0x2a9f9e(0x275)](_0x1a0f5f['start'],_0x55b64d[_0x2a9f9e(0x281)])<Math[_0x2a9f9e(0x1d7)](_0x1a0f5f[_0x2a9f9e(0x207)],_0x55b64d[_0x2a9f9e(0x207)])){if(_0x55b64d[_0x2a9f9e(0x1b7)]>_0x2f6680)_0x2f6680=_0x55b64d[_0x2a9f9e(0x1b7)];}});const _0x50a7e3=_0x2f6680+0x1,_0x7a26ef=0x64/_0x50a7e3,_0x3f38c4=_0x1a0f5f['colIndex']*_0x7a26ef,_0x38c399=createEventEl(_0x1a0f5f[_0x125d5e(0x1c7)]);_0x38c399['style'][_0x125d5e(0x1fd)]=_0x125d5e(0x1c9)+_0x7a26ef+_0x125d5e(0x216),_0x38c399[_0x125d5e(0x1fb)][_0x125d5e(0x2dc)]=_0x125d5e(0x1c9)+_0x3f38c4+'%\x20+\x202px)',_0x38c399[_0x125d5e(0x1fb)][_0x125d5e(0x1b6)]=0xa+_0x1a0f5f[_0x125d5e(0x1b7)],_0x7a26ef<0x55&&_0x38c399[_0x125d5e(0x298)][_0x125d5e(0x2c0)](_0x125d5e(0x2a8)),_0x4a3d0c['appendChild'](_0x38c399);});}function createEventEl(_0x2bbca0){const _0x1211ce=a2_0x618d7a,[_0x462583,_0x13e6e8]=_0x2bbca0[_0x1211ce(0x281)][_0x1211ce(0x1d1)](':')[_0x1211ce(0x22d)](Number),[_0x560998,_0x3adb7c]=_0x2bbca0[_0x1211ce(0x207)][_0x1211ce(0x1d1)](':')[_0x1211ce(0x22d)](Number),_0x4f63d3=(_0x462583*0x3c+_0x13e6e8)/0x3c*GRID_H,_0x1c0f6b=(_0x560998*0x3c+_0x3adb7c-(_0x462583*0x3c+_0x13e6e8))/0x3c*GRID_H,_0x46f550=document[_0x1211ce(0x2ce)]('div'),_0x5ec2b0=_0x2bbca0[_0x1211ce(0x288)]===_0x1211ce(0x201)?'\x20status-completed':'';_0x46f550[_0x1211ce(0x268)]=_0x1211ce(0x269)+_0x5ec2b0,_0x46f550[_0x1211ce(0x1fb)][_0x1211ce(0x220)]=_0x4f63d3+'px',_0x46f550[_0x1211ce(0x1fb)][_0x1211ce(0x301)]=Math['max'](_0x1c0f6b,0x14)+'px';const _0x1ea4fd=clients[_0x1211ce(0x2a4)](_0x187d5d=>_0x2bbca0[_0x1211ce(0x1f5)]&&String(_0x187d5d['id'])===String(_0x2bbca0['clientId'])||_0x187d5d['name']===_0x2bbca0[_0x1211ce(0x286)]),_0x3d52e3=_0x1ea4fd?_0x1ea4fd['color']:_0x1211ce(0x258);_0x46f550['style']['borderLeftColor']=_0x3d52e3,_0x46f550[_0x1211ce(0x1fb)]['backgroundColor']=hexToRgba(_0x3d52e3,0.85);let _0x3a24df=_0x1211ce(0x1fc)+_0x2bbca0['client']+_0x1211ce(0x1f7)+_0x2bbca0[_0x1211ce(0x281)]+_0x1211ce(0x2b5)+_0x2bbca0[_0x1211ce(0x207)]+'</div>';return _0x2bbca0[_0x1211ce(0x251)]&&(_0x3a24df+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x2bbca0['status']===_0x1211ce(0x201)&&(_0x3a24df+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x46f550[_0x1211ce(0x1b5)]=_0x3a24df,_0x46f550[_0x1211ce(0x18b)]=_0x19ce6a=>{const _0x5f0e36=_0x1211ce;_0x19ce6a[_0x5f0e36(0x202)](),openEdit(_0x2bbca0);},_0x46f550;}function attachLongPressHandler(_0x1582b1,_0x12c26e){const _0x22045f=a2_0x618d7a;let _0x2dba37=0x0,_0x5ec512=null;const _0x23c1d9=_0x15ccb1=>{const _0x26ce49=a2_0x4105;if(_0x15ccb1[_0x26ce49(0x18f)]['closest']('.event-card'))return;isScrolling=![],_0x2dba37=_0x15ccb1[_0x26ce49(0x203)]?_0x15ccb1[_0x26ce49(0x203)][0x0][_0x26ce49(0x2cf)]:_0x15ccb1[_0x26ce49(0x2cf)],_0x5ec512=setTimeout(()=>{const _0x57d429=_0x26ce49;if(!isScrolling){navigator[_0x57d429(0x2c1)]?.(0x32);const _0x18d7e4=_0x1582b1[_0x57d429(0x28e)](),_0x17c495=Math[_0x57d429(0x292)]((_0x2dba37-_0x18d7e4[_0x57d429(0x220)])/GRID_H);_0x12c26e[_0x57d429(0x1a3)](_0x17c495,0x0),openAddSession(_0x12c26e);}},0x1f4);},_0x138883=()=>{isScrolling=!![],clearTimeout(_0x5ec512);},_0x212d7c=()=>{clearTimeout(_0x5ec512);};_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x2f3),_0x23c1d9,{'passive':!![]}),_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x1e8),_0x138883,{'passive':!![]}),_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x2be),_0x212d7c),_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x28b),_0x23c1d9),_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x196),_0x138883),_0x1582b1[_0x22045f(0x1ad)](_0x22045f(0x23f),_0x212d7c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1bd564=a2_0x618d7a,_0x3f6650=document[_0x1bd564(0x1ba)](_0x1bd564(0x1e7)),_0x2c19cb=_0x3f6650[_0x1bd564(0x2d2)],_0x506356=_0x3f6650[_0x1bd564(0x2b6)],_0xe8108d=_0x3f6650[_0x1bd564(0x24c)];if(_0x506356-(_0x2c19cb+_0xe8108d)<0x12c){const _0x4a378c=endOffset;endOffset+=0xe,renderDayRange(_0x4a378c+0x1,endOffset),reRenderBlocks();}if(_0x2c19cb<0x12c){const _0x1c5d1b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1c5d1b-0x1),_0x3f6650[_0x1bd564(0x2d2)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x20c1d3,_0x4e0e63){const _0x71d594=a2_0x618d7a,_0x15f162=document[_0x71d594(0x1ba)](_0x71d594(0x1db)),_0x268cc5=document[_0x71d594(0x1ba)]('gridColumns'),_0x54aae1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x14cf54=new Date();_0x14cf54[_0x71d594(0x1a3)](0x0,0x0,0x0,0x0);const _0x307f6d=getLocalDateStr(new Date()),_0x16098a=document[_0x71d594(0x27d)](),_0x3a4484=document['createDocumentFragment']();for(let _0x4a4a77=_0x20c1d3;_0x4a4a77<=_0x4e0e63;_0x4a4a77++){const _0x56b332=new Date(_0x14cf54);_0x56b332[_0x71d594(0x2e5)](_0x56b332['getDate']()+_0x4a4a77);const _0x2071f7=getLocalDateStr(_0x56b332);let _0x495254=_0x56b332[_0x71d594(0x1f1)]()-0x1;if(_0x495254===-0x1)_0x495254=0x6;const _0x4c7fa1=_0x2071f7===_0x307f6d,_0x506d03=document[_0x71d594(0x2ce)](_0x71d594(0x235));_0x506d03[_0x71d594(0x268)]=_0x71d594(0x217)+(_0x4c7fa1?_0x71d594(0x26b):''),_0x506d03['id']=_0x71d594(0x2ff)+_0x2071f7,_0x506d03[_0x71d594(0x307)](_0x71d594(0x2e8),_0x2071f7),_0x506d03[_0x71d594(0x1b5)]=_0x71d594(0x1e4)+_0x54aae1[_0x495254]+_0x71d594(0x2cb)+_0x56b332[_0x71d594(0x2f2)]()+_0x71d594(0x279)+_0x2071f7+_0x71d594(0x1ab),_0x506d03[_0x71d594(0x18b)]=()=>openDayOptions(_0x2071f7,_0x54aae1[_0x495254]+'\x20'+_0x56b332[_0x71d594(0x2f2)]()),_0x16098a[_0x71d594(0x2aa)](_0x506d03);const _0x4dce5b=document[_0x71d594(0x2ce)](_0x71d594(0x235));_0x4dce5b[_0x71d594(0x268)]=_0x71d594(0x2a0)+(_0x4c7fa1?_0x71d594(0x26b):''),_0x4dce5b['setAttribute'](_0x71d594(0x2e8),_0x2071f7),_0x4dce5b[_0x71d594(0x307)](_0x71d594(0x230),_0x495254),renderEventsForColumn(_0x4dce5b,_0x2071f7,_0x495254),attachLongPressHandler(_0x4dce5b,_0x56b332),_0x3a4484[_0x71d594(0x2aa)](_0x4dce5b),updateDayStats(_0x2071f7);}_0x15f162[_0x71d594(0x1ed)](_0x16098a,_0x15f162['firstChild']),_0x268cc5[_0x71d594(0x1ed)](_0x3a4484,_0x268cc5['querySelector'](_0x71d594(0x282)));}function validateAppointment(_0x333e8b,_0xefe74c,_0xe13b1a,_0x4a33c9,_0x235d98){const _0x2b8820=a2_0x618d7a,[_0x17b92,_0x2e0dcb]=_0xefe74c['split'](':')[_0x2b8820(0x22d)](Number),[_0xbbfcf9,_0x34800d]=_0xe13b1a[_0x2b8820(0x1d1)](':')[_0x2b8820(0x22d)](Number),_0x3aee25=_0x17b92*0x3c+_0x2e0dcb,_0x32dc9d=_0xbbfcf9*0x3c+_0x34800d,_0x3ef931=String(_0x235d98);let _0xbdde4c=![],_0x4a95fd='';for(let _0x3161b7 of sessions){if(_0x3161b7['dateStr']!==_0x333e8b)continue;if(_0x3161b7[_0x2b8820(0x288)]===_0x2b8820(0x19b))continue;if(_0x4a33c9&&String(_0x3161b7['id'])===String(_0x4a33c9))continue;const [_0x165f01,_0x26560d]=_0x3161b7[_0x2b8820(0x281)][_0x2b8820(0x1d1)](':')[_0x2b8820(0x22d)](Number),[_0x8ff3a7,_0x143d27]=_0x3161b7['end'][_0x2b8820(0x1d1)](':')[_0x2b8820(0x22d)](Number),_0x4e946a=_0x165f01*0x3c+_0x26560d,_0x530b38=_0x8ff3a7*0x3c+_0x143d27;if(Math[_0x2b8820(0x275)](_0x3aee25,_0x4e946a)<Math['min'](_0x32dc9d,_0x530b38)){if(_0x3161b7[_0x2b8820(0x1f5)]&&String(_0x3161b7[_0x2b8820(0x1f5)])===_0x3ef931)return{'valid':![],'msg':_0x2b8820(0x18d)+_0x3161b7['client']+_0x2b8820(0x1a1)};_0xbdde4c=!![],_0x4a95fd=_0x3161b7[_0x2b8820(0x286)];}}if(_0xbdde4c)return{'valid':!![],'warning':_0x2b8820(0x1f6)+_0x4a95fd};return{'valid':!![]};}function updateDateDisplay(){const _0x6bbea0=a2_0x618d7a,_0x4352b3=document[_0x6bbea0(0x1ba)](_0x6bbea0(0x2a9))[_0x6bbea0(0x1c3)],_0x44b5e1=document['getElementById'](_0x6bbea0(0x2e2));if(!_0x4352b3){_0x44b5e1['textContent']='';return;}const [_0x11b190,_0x13880f,_0x207c0c]=_0x4352b3[_0x6bbea0(0x1d1)]('-')[_0x6bbea0(0x22d)](Number),_0x198c78=new Date(_0x11b190,_0x13880f-0x1,_0x207c0c),_0x233a6e={'weekday':'long','day':_0x6bbea0(0x214),'month':_0x6bbea0(0x2a6),'year':_0x6bbea0(0x214)};let _0x3db1e8=_0x198c78[_0x6bbea0(0x199)](_0x6bbea0(0x259),_0x233a6e);_0x3db1e8=_0x3db1e8[_0x6bbea0(0x19a)](0x0)['toUpperCase']()+_0x3db1e8[_0x6bbea0(0x228)](0x1),_0x44b5e1[_0x6bbea0(0x2f7)]=_0x3db1e8;}function autoSetEndTime(){const _0x324435=a2_0x618d7a,_0x5b13a4=document[_0x324435(0x1ba)]('inpStart')[_0x324435(0x1c3)];if(!_0x5b13a4)return;const [_0x451a01,_0x1035ae]=_0x5b13a4['split'](':')[_0x324435(0x22d)](Number);let _0x180541=_0x451a01+0x1;if(_0x180541>0x17)_0x180541=0x0;const _0x24d45e=String(_0x180541)[_0x324435(0x28c)](0x2,'0')+':'+String(_0x1035ae)[_0x324435(0x28c)](0x2,'0');document[_0x324435(0x1ba)](_0x324435(0x1b4))['value']=_0x24d45e;}function populateClientSelect(){const _0x1bf9c2=a2_0x618d7a,_0x36f547=document[_0x1bf9c2(0x1ba)](_0x1bf9c2(0x272));_0x36f547[_0x1bf9c2(0x1b5)]='';if(clients[_0x1bf9c2(0x1c5)]===0x0){const _0x5363cc=document['createElement'](_0x1bf9c2(0x271));_0x5363cc[_0x1bf9c2(0x2ed)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x36f547[_0x1bf9c2(0x2aa)](_0x5363cc);return;}clients[_0x1bf9c2(0x1c1)](_0x192aad=>{const _0x4716ee=_0x1bf9c2,_0x4e7bcb=document[_0x4716ee(0x2ce)]('option');_0x4e7bcb[_0x4716ee(0x1c3)]=_0x192aad[_0x4716ee(0x23c)],_0x4e7bcb[_0x4716ee(0x2f7)]=_0x192aad[_0x4716ee(0x23c)],_0x36f547[_0x4716ee(0x2aa)](_0x4e7bcb);});}function openActionSheet(_0x20d815){const _0x3c47cf=a2_0x618d7a,_0x54638e=document[_0x3c47cf(0x1ba)](_0x3c47cf(0x1cd)),_0x30dffe=document[_0x3c47cf(0x1ba)](_0x3c47cf(0x2b7)),_0x267ec=document[_0x3c47cf(0x1ba)](_0x3c47cf(0x2e7)),_0x57bbd3=document[_0x3c47cf(0x1ba)](_0x3c47cf(0x1d4)),_0x242c5b=document[_0x3c47cf(0x1ba)]('asBtnSeries');_0x30dffe['classList']['add']('active'),_0x54638e['classList']['add'](_0x3c47cf(0x2b1));if(_0x20d815===_0x3c47cf(0x2d9))_0x267ec[_0x3c47cf(0x2f7)]=_0x3c47cf(0x209),_0x57bbd3[_0x3c47cf(0x2f7)]=_0x3c47cf(0x2f8),_0x57bbd3[_0x3c47cf(0x18b)]=()=>{const _0x4b368b=_0x3c47cf;closeActionSheet(),updateSeriesBatch(_0x4b368b(0x302),tempSessionData);},_0x242c5b[_0x3c47cf(0x2f7)]=_0x3c47cf(0x1e9),_0x242c5b[_0x3c47cf(0x18b)]=()=>{const _0x3b58d6=_0x3c47cf;closeActionSheet(),updateSeriesBatch(_0x3b58d6(0x239),tempSessionData);};else _0x20d815===_0x3c47cf(0x2a7)&&(_0x267ec['textContent']=_0x3c47cf(0x1a6),_0x57bbd3[_0x3c47cf(0x2f7)]=_0x3c47cf(0x2f8),_0x57bbd3['className']=_0x3c47cf(0x1ef),_0x57bbd3[_0x3c47cf(0x18b)]=()=>{const _0xf4ba71=_0x3c47cf;closeActionSheet(),commitDelete('single',sessions[_0xf4ba71(0x2a4)](_0x6a6cf1=>_0x6a6cf1['id']===editingId));},_0x242c5b[_0x3c47cf(0x2f7)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x242c5b['className']=_0x3c47cf(0x2d5),_0x242c5b[_0x3c47cf(0x18b)]=()=>{const _0x6f677=_0x3c47cf;closeActionSheet(),commitDelete('series',sessions[_0x6f677(0x2a4)](_0x382650=>_0x382650['id']===editingId));});}function closeActionSheet(){const _0x3ad878=a2_0x618d7a;document[_0x3ad878(0x1ba)](_0x3ad878(0x1cd))[_0x3ad878(0x298)][_0x3ad878(0x20c)](_0x3ad878(0x2b1)),document['getElementById'](_0x3ad878(0x2b7))[_0x3ad878(0x298)][_0x3ad878(0x20c)](_0x3ad878(0x25a));}function openSettings(){const _0x5a7ca4=a2_0x618d7a;openSheet(_0x5a7ca4(0x194));}function saveCoachSettings(){const _0x3539a1=a2_0x618d7a,_0x482c05=document[_0x3539a1(0x1ba)]('settingCancelWindow')[_0x3539a1(0x1c3)];localStorage[_0x3539a1(0x303)](_0x3539a1(0x197),_0x482c05),console[_0x3539a1(0x18e)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x482c05),DataManager[_0x3539a1(0x2c6)](_0x3539a1(0x200),{'settings':{'cancel_window':_0x482c05}})['catch'](_0x4d5ed8=>{const _0x530a2f=_0x3539a1;console[_0x530a2f(0x1c4)](_0x530a2f(0x1da),_0x4d5ed8),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x3057c2=a2_0x618d7a,_0x4599b1=localStorage[_0x3057c2(0x22a)]('uc_settings_cancel_window');_0x4599b1&&(document['getElementById'](_0x3057c2(0x193))[_0x3057c2(0x1c3)]=_0x4599b1);}function openRangesSheet(){const _0x306773=a2_0x618d7a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x306773(0x1de));}function addRange(){const _0x1be378=a2_0x618d7a,_0x573e36=document[_0x1be378(0x1ba)](_0x1be378(0x2cd))['value'],_0x517474=document['getElementById'](_0x1be378(0x2af))[_0x1be378(0x1c3)],_0xda05ab=document['getElementById']('rangeEndDate')[_0x1be378(0x1c3)],_0x50020a=document[_0x1be378(0x1ba)](_0x1be378(0x1a9))['value'];if(!_0x573e36||!_0x517474||!_0xda05ab||!_0x50020a)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x4eb62a=_0x573e36+'T'+_0x517474,_0x44eb27=_0xda05ab+'T'+_0x50020a;if(_0x4eb62a>=_0x44eb27)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x4eb62a,'end':_0x44eb27}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1be378(0x2e3)](),DataManager[_0x1be378(0x2c6)](_0x1be378(0x200),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x360823){const _0xa49727=a2_0x618d7a;specialRanges[_0xa49727(0x1e2)](_0x360823,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xa49727(0x2e3)](),DataManager['fetchFromServer'](_0xa49727(0x200),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1ac3a0=a2_0x618d7a;document[_0x1ac3a0(0x1ba)](_0x1ac3a0(0x2cd))['value']='',document[_0x1ac3a0(0x1ba)](_0x1ac3a0(0x2af))['value']=_0x1ac3a0(0x1c8),document['getElementById'](_0x1ac3a0(0x1cf))[_0x1ac3a0(0x1c3)]='',document[_0x1ac3a0(0x1ba)](_0x1ac3a0(0x1a9))[_0x1ac3a0(0x1c3)]=_0x1ac3a0(0x206);}function renderRangesList(){const _0x2987fd=a2_0x618d7a,_0x1952e9=document[_0x2987fd(0x1ba)](_0x2987fd(0x2f0));_0x1952e9[_0x2987fd(0x1b5)]='';if(!specialRanges[_0x2987fd(0x1c5)]){_0x1952e9[_0x2987fd(0x1b5)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x2987fd(0x1c1)]((_0x55afb0,_0x3e0d24)=>{const _0x358d23=_0x2987fd,_0x2931b6=document['createElement'](_0x358d23(0x235));_0x2931b6['className']='range-item';const _0x22a995=_0x23bcd9=>{const _0x5f2d31=_0x358d23,_0x536050=new Date(_0x23bcd9);return _0x536050['getDate']()+'.'+String(_0x536050['getMonth']()+0x1)[_0x5f2d31(0x28c)](0x2,'0')+'\x20'+String(_0x536050[_0x5f2d31(0x1d3)]())['padStart'](0x2,'0')+':'+String(_0x536050[_0x5f2d31(0x227)]())[_0x5f2d31(0x28c)](0x2,'0');};_0x2931b6[_0x358d23(0x1b5)]=_0x358d23(0x205)+_0x22a995(_0x55afb0[_0x358d23(0x281)])+_0x358d23(0x23e)+_0x22a995(_0x55afb0[_0x358d23(0x207)])+_0x358d23(0x21e)+_0x3e0d24+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1952e9[_0x358d23(0x2aa)](_0x2931b6);});}function scrollToToday(){const _0x4d0b8a=a2_0x618d7a,_0x17a4ed=getLocalDateStr(new Date()),_0x3df4c2=document['getElementById'](_0x4d0b8a(0x2ff)+_0x17a4ed),_0x33c1d1=document['getElementById'](_0x4d0b8a(0x1e7));if(_0x3df4c2&&_0x33c1d1){const _0x3ef776=_0x33c1d1[_0x4d0b8a(0x24c)],_0x3b169d=_0x3df4c2[_0x4d0b8a(0x1cc)],_0x4605dd=_0x3df4c2['offsetWidth'];_0x33c1d1[_0x4d0b8a(0x2d2)]=_0x3b169d-_0x3ef776/0x2+_0x4605dd/0x2,_0x33c1d1[_0x4d0b8a(0x1bb)]=0x9*GRID_H;}}function onScroll(){const _0x5deaf7=a2_0x618d7a,_0x509e57=document['getElementById'](_0x5deaf7(0x1e7)),_0x32d7c1=document[_0x5deaf7(0x2b9)](_0x5deaf7(0x1aa));for(let _0x411a5e of _0x32d7c1)if(_0x411a5e[_0x5deaf7(0x1cc)]>=_0x509e57[_0x5deaf7(0x2d2)]){const _0x15b7b7=new Date(_0x411a5e[_0x5deaf7(0x2fd)](_0x5deaf7(0x2e8)));document[_0x5deaf7(0x1ba)](_0x5deaf7(0x223))[_0x5deaf7(0x2f7)]=_0x15b7b7[_0x5deaf7(0x2e6)]('ru',{'month':_0x5deaf7(0x2a6)})['toUpperCase']()+'\x20'+_0x15b7b7[_0x5deaf7(0x289)]();break;}}function showToast(_0x133026,_0x2dc30d=![]){const _0x4b8b48=a2_0x618d7a,_0x3de790=document[_0x4b8b48(0x1ba)]('toast');_0x3de790['className']=_0x4b8b48(0x2a3)+(_0x2dc30d?_0x4b8b48(0x29b):''),document[_0x4b8b48(0x1ba)](_0x4b8b48(0x21b))[_0x4b8b48(0x2f7)]=_0x2dc30d?'–£—Å–ø–µ—à–Ω–æ':_0x4b8b48(0x25e),document[_0x4b8b48(0x1ba)](_0x4b8b48(0x2d8))[_0x4b8b48(0x2f7)]=_0x133026,_0x3de790[_0x4b8b48(0x298)][_0x4b8b48(0x2c0)](_0x4b8b48(0x299)),setTimeout(()=>{const _0x2dfe9e=_0x4b8b48;_0x3de790[_0x2dfe9e(0x298)][_0x2dfe9e(0x20c)]('show');},0xbb8);}function openDayOptions(_0x5e7c0d,_0x33fe99){const _0x38e390=a2_0x618d7a;selectedDayForOptions=_0x5e7c0d,document[_0x38e390(0x1ba)](_0x38e390(0x28d))['textContent']=_0x33fe99,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x355b6a=a2_0x618d7a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x355b6a(0x2f6),reRenderBlocks(),closeAllSheets(),DataManager[_0x355b6a(0x2e3)](),DataManager[_0x355b6a(0x2c6)](_0x355b6a(0x200),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1d096d=a2_0x618d7a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1d096d(0x2e3)](),DataManager[_0x1d096d(0x2c6)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2e26a1){const _0x3f4e6f=a2_0x618d7a;document[_0x3f4e6f(0x1ba)](_0x3f4e6f(0x1a8))[_0x3f4e6f(0x298)]['add'](_0x3f4e6f(0x25a)),document['getElementById'](_0x2e26a1)['classList'][_0x3f4e6f(0x2c0)](_0x3f4e6f(0x2b1));}function closeAllSheets(){const _0x1028ff=a2_0x618d7a;document['getElementById'](_0x1028ff(0x1a8))[_0x1028ff(0x298)][_0x1028ff(0x20c)](_0x1028ff(0x25a)),document[_0x1028ff(0x2b9)](_0x1028ff(0x2ae))[_0x1028ff(0x1c1)](_0x58ea07=>_0x58ea07[_0x1028ff(0x298)][_0x1028ff(0x20c)](_0x1028ff(0x2b1)));}function openPatternEditor(){const _0x5effa6=a2_0x618d7a;closeAllSheets(),document[_0x5effa6(0x1ba)](_0x5effa6(0x273))[_0x5effa6(0x298)][_0x5effa6(0x2c0)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x4c2ecc=a2_0x618d7a;document['getElementById'](_0x4c2ecc(0x273))[_0x4c2ecc(0x298)][_0x4c2ecc(0x20c)]('open');}function savePattern(){const _0x125fd4=a2_0x618d7a;document[_0x125fd4(0x1ba)](_0x125fd4(0x273))[_0x125fd4(0x298)]['remove'](_0x125fd4(0x2b1)),reRenderBlocks(),DataManager[_0x125fd4(0x2e3)](),DataManager[_0x125fd4(0x2c6)](_0x125fd4(0x200),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x6d9eb4=a2_0x618d7a,_0xcd11e5=document[_0x6d9eb4(0x1ba)](_0x6d9eb4(0x267));_0xcd11e5['innerHTML']='';const _0xd4a138=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xad050f=document[_0x6d9eb4(0x2ce)](_0x6d9eb4(0x235));_0xad050f['className']=_0x6d9eb4(0x20d),_0xcd11e5[_0x6d9eb4(0x2aa)](_0xad050f),_0xd4a138['forEach']((_0x41a3c3,_0x5546ad)=>{const _0x59eb0d=_0x6d9eb4,_0x31e97c=document['createElement'](_0x59eb0d(0x235));_0x31e97c[_0x59eb0d(0x268)]=_0x59eb0d(0x2ca),_0x31e97c[_0x59eb0d(0x1b5)]=_0x41a3c3+_0x59eb0d(0x19e),_0x31e97c[_0x59eb0d(0x18b)]=()=>toggleColPattern(_0x5546ad),_0xcd11e5[_0x59eb0d(0x2aa)](_0x31e97c);});for(let _0x2e34a4=0x0;_0x2e34a4<0x18;_0x2e34a4++){const _0x2cb00e=document[_0x6d9eb4(0x2ce)]('div');_0x2cb00e['className']='pe-time-label',_0x2cb00e[_0x6d9eb4(0x1b5)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x2e34a4)[_0x6d9eb4(0x28c)](0x2,'0')+_0x6d9eb4(0x254),_0x2cb00e[_0x6d9eb4(0x18b)]=()=>toggleRowPattern(_0x2e34a4),_0xcd11e5[_0x6d9eb4(0x2aa)](_0x2cb00e);for(let _0x2408fa=0x0;_0x2408fa<0x7;_0x2408fa++){const _0x1c2b60=document['createElement']('div'),_0xc41ee3=(availabilityPattern[_0x2408fa]||[])['includes'](_0x2e34a4),_0xb6c4a=!_0xc41ee3;_0x1c2b60[_0x6d9eb4(0x268)]='pe-cell\x20'+(_0xb6c4a?_0x6d9eb4(0x25a):''),_0x1c2b60[_0x6d9eb4(0x18b)]=()=>toggleSinglePattern(_0x2408fa,_0x2e34a4),_0xcd11e5[_0x6d9eb4(0x2aa)](_0x1c2b60);}}}function toggleSinglePattern(_0x349178,_0x2f3fa2){const _0x4e24c2=a2_0x618d7a;if(!availabilityPattern[_0x349178])availabilityPattern[_0x349178]=[];const _0x3b31ab=availabilityPattern[_0x349178],_0x299221=_0x3b31ab[_0x4e24c2(0x1c2)](_0x2f3fa2);_0x299221===-0x1?_0x3b31ab[_0x4e24c2(0x257)](_0x2f3fa2):_0x3b31ab[_0x4e24c2(0x1e2)](_0x299221,0x1),renderPatternEditor();}function toggleColPattern(_0x3198ed){const _0x1f7e8c=a2_0x618d7a;if(!availabilityPattern[_0x3198ed])availabilityPattern[_0x3198ed]=[];const _0x21a4ed=availabilityPattern[_0x3198ed];_0x21a4ed[_0x1f7e8c(0x1c5)]===0x0?availabilityPattern[_0x3198ed]=Array[_0x1f7e8c(0x2c4)]({'length':0x18},(_0x1e6815,_0x18b7e3)=>_0x18b7e3):availabilityPattern[_0x3198ed]=[],renderPatternEditor();}function toggleRowPattern(_0x583099){const _0x139f6c=a2_0x618d7a;let _0x1ed84f=!![];for(let _0x1c6b40=0x0;_0x1c6b40<0x7;_0x1c6b40++){if((availabilityPattern[_0x1c6b40]||[])[_0x139f6c(0x2e9)](_0x583099)){_0x1ed84f=![];break;}}for(let _0x5cbd43=0x0;_0x5cbd43<0x7;_0x5cbd43++){if(!availabilityPattern[_0x5cbd43])availabilityPattern[_0x5cbd43]=[];const _0x17b8f6=availabilityPattern[_0x5cbd43]['indexOf'](_0x583099);if(_0x1ed84f){if(_0x17b8f6===-0x1)availabilityPattern[_0x5cbd43]['push'](_0x583099);}else{if(_0x17b8f6!==-0x1)availabilityPattern[_0x5cbd43][_0x139f6c(0x1e2)](_0x17b8f6,0x1);}}renderPatternEditor();}function a2_0x23a6(){const _0x43aef8=['setItem','rgba(48,\x20209,\x2088,\x200.15)','send','init_load','setAttribute','disableVerticalSwipes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','Server\x20Error','WebApp','onclick','[Notify]\x20Network\x20Failed','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','log','target','formatDate','valid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settingCancelWindow','settingsSheet','px\x200px','mousemove','uc_settings_cancel_window','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','toLocaleDateString','charAt','cancelled','catch','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','statLoadCard','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','none','setHours','btn-status-toggle\x20undo-mode','px\x20-','–£–¥–∞–ª–µ–Ω–∏–µ','note','overlay','rangeEndTime','.day-col-header','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','loadLocal','addEventListener','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','btn-status-toggle','Critical\x20TMA\x20Error:','#fff','borderRadius','inpEnd','innerHTML','zIndex','colIndex','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','inpNote','getElementById','scrollTop','T00:00:00','month','Batch\x20Sync\x20OK','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','var(--acc-current)','forEach','indexOf','value','error','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','data','00:00','calc(','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','Local\x20Save\x20Error','offsetLeft','actionSheet','blocked-range-part\x20stripe-bg','rangeEndDate','.dch-stats-fill','split','POST','getHours','asBtnOne',':\x20Client\x20already\x20booked','null','min','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','Save\x20settings\x20error:','daysHeaderTrack','setHeaderColor','397674CMltuF','rangesSheet','total','keys','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','splice','borderColor','<div\x20class=\x22dch-day\x22>','BackButton','doWorkHours','matrixViewport','touchmove','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x20days','warning','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','insertBefore','.period-switch\x20.p-btn','as-button\x20danger','1620981oKvWbf','getDay','Local\x20Load\x20Error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','v9.0-BATCH-CALENDAR','clientId','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','</div><div\x20class=\x22ev-time\x22>','sheetTitle','[API\x20','entries','style','<div\x20class=\x22ev-title\x22>','width','568qgYBFN','custom','save_settings','completed','stopPropagation','touches','blocked-slot\x20stripe-bg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','23:59','end','uc_clients_v9','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','gridColumns','rgba(255,\x2069,\x2058,\x200.15)','remove','pe-corner','scroll','10px\x2010px\x200\x200','background','syncLoad','msg','ready','numeric','.pib-text','%\x20-\x204px)','day-col-header\x20','getTime','strokeDashoffset','4TpMHHO','toastTitle','[Notify]\x20Error:\x20sessionData\x20is\x20null','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','2821GdFohx','top','doEventsList','#gridColumns\x20.day-column','headerMonth','getText','5245vlfgqs','inpSeriesCount','getMinutes','slice','cancel','getItem','mergeServerData','deleted','map','random','text/plain;charset=UTF-8','data-day-idx','...','496092weOBOt','calendar','week','div','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','apply','timeLineBadge','series','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','name','var(--acc-red)','\x20‚Äî\x20','mouseup','3730RtQHwI','toFixed','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','dateStr','inpStart','substr','filter','seriesCountContainer','warn','</b>\x0a\x0a','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','onClick','clientWidth','</span>\x20/\x20','uc_sessions_v9','sort','100%','seriesId','setBackgroundColor','findIndex',':00','Error\x20setting\x20back\x20button:','localeCompare','push','#0a84ff','ru-RU','active','anCustomDates','doBusyHours','rgba(100,100,100,0.5)','–ò–Ω—Ñ–æ','sid','display','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','borderLeftColor','56687IMngje','patternInfoBox','parse','backgroundPosition','peGrid','className','event-card','DOMContentLoaded','today','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','108JpEIyB','stringify','toString','option','inpClient','patternEditor','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','max','settings','guest','anDonutCircle','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','time-label','anStart','cancel_window','createDocumentFragment','json','btnDelete','block','start','.day-column','constructor','planned','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','client','undefined','status','getFullYear','globalTimeLine','mousedown','padStart','dayOptionsTitle','getBoundingClientRect','initData','checked','rgba(255,\x20159,\x2010,\x200.3)','floor','rgba(','querySelector','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Notify]\x20Server\x20Response:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','classList','show','isArray','success','Telegram','<span>','exceptions','rgba(255,\x2069,\x2058,\x200.3)','day-column\x20','#050505','day-off-overlay\x20stripe-bg','toast-notification\x20','find','now','long','delete','mini','inpDate','appendChild','done','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','color','.sheet','rangeStartTime','10px','open','[Notify]\x20Client\x20SWAP\x20detected','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','ranges','\x20-\x20','scrollWidth','actionSheetOverlay','create','querySelectorAll','var(--acc-green)','btnStatusToggle',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','touchend','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','add','vibrate','initDataUnsafe','expand','from','<b>‚úÖ\x20','fetchFromServer','Error\x20setting\x20color:','(((.+)+)+)+$','de-item','pe-col-header','</div><div\x20class=\x22dch-num\x22>','href','rangeStartDate','createElement','clientY','[Sync]\x20Loading\x20','doDateHeader','scrollLeft','user','anEnd','as-button\x20danger\x20bold','sessionSheet','toUpperCase','toastMessage','save','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','getMonth','left','pattern','anTotalStats','timeColumn','\x20–∏–∑\x20','round','sheetDateSubtitle','saveLocally','doLoadPercent','setDate','toLocaleString','asTitle','data-date','includes','clients','search','then','text','1507kAAIzL','recurringOptionContainer','rangesList','inpRecurring','getDate','touchstart',':00</span>','client-stat-card','off','textContent','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','update','[Notify]\x20Attempting\x20to\x20send:','flex','all','getAttribute','startsWith','header-','anPercent','height','single'];a2_0x23a6=function(){return _0x43aef8;};return a2_0x23a6();}function renderPCol(_0x4324e3,_0x388a8f){const _0x2e63c0=a2_0x618d7a;_0x4324e3[_0x2e63c0(0x1b5)]='';const _0x3da071=Math['round'](_0x4324e3[_0x2e63c0(0x1cc)]);(availabilityPattern[_0x388a8f]||[])['forEach'](_0x4aed51=>{const _0x1a6863=_0x2e63c0,_0x36c063=document[_0x1a6863(0x2ce)](_0x1a6863(0x235));_0x36c063[_0x1a6863(0x268)]='blocked-slot\x20stripe-bg';const _0x55f1fb=_0x4aed51*GRID_H;_0x36c063[_0x1a6863(0x1fb)]['top']=_0x55f1fb+'px',_0x36c063[_0x1a6863(0x1fb)]['backgroundPosition']='-'+_0x3da071+_0x1a6863(0x1a5)+_0x55f1fb+'px',_0x36c063['onclick']=_0x2cb8fc=>{_0x2cb8fc['stopPropagation'](),toggleSinglePattern(_0x388a8f,_0x4aed51);},_0x4324e3['appendChild'](_0x36c063);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a986f=a2_0x618d7a,_0x590db2=new Date(),_0x496fdf=document[_0x2a986f(0x1ba)](_0x2a986f(0x28a)),_0x19f697=document['getElementById'](_0x2a986f(0x238)),_0x3c99ba=(_0x590db2[_0x2a986f(0x1d3)]()*0x3c+_0x590db2[_0x2a986f(0x227)]())/0x3c*GRID_H;_0x496fdf['style'][_0x2a986f(0x220)]=_0x3c99ba+'px',_0x496fdf['style']['display']=_0x2a986f(0x280),_0x19f697[_0x2a986f(0x2f7)]=String(_0x590db2['getHours']())[_0x2a986f(0x28c)](0x2,'0')+':'+String(_0x590db2[_0x2a986f(0x227)]())[_0x2a986f(0x28c)](0x2,'0'),_0x19f697['style']['display']=_0x2a986f(0x280),_0x19f697[_0x2a986f(0x1fb)][_0x2a986f(0x220)]=_0x3c99ba+'px';}document[a2_0x618d7a(0x1ad)](a2_0x618d7a(0x26a),init);function openDayOptions(_0x19f4ae){const _0x55cfcb=a2_0x618d7a;selectedDayForOptions=_0x19f4ae;const _0x5e1a52=new Date(_0x19f4ae),_0x570ecd={'weekday':_0x55cfcb(0x2a6),'day':_0x55cfcb(0x214),'month':_0x55cfcb(0x2a6),'year':'numeric'},_0xd6de96=_0x5e1a52[_0x55cfcb(0x199)](_0x55cfcb(0x259),_0x570ecd);document[_0x55cfcb(0x1ba)](_0x55cfcb(0x2d1))['textContent']=_0xd6de96[_0x55cfcb(0x19a)](0x0)['toUpperCase']()+_0xd6de96[_0x55cfcb(0x228)](0x1);let _0x55deb8=_0x5e1a52[_0x55cfcb(0x1f1)]()-0x1;if(_0x55deb8===-0x1)_0x55deb8=0x6;const _0x256e90=availabilityPattern[_0x55deb8]||[],_0x269623=0x18-_0x256e90[_0x55cfcb(0x1c5)],_0x4fe0f6=_0x269623*0x3c,_0x444da6=sessions[_0x55cfcb(0x246)](_0x573465=>_0x573465['dateStr']===_0x19f4ae&&_0x573465[_0x55cfcb(0x288)]!==_0x55cfcb(0x19b));let _0x12bfbf=_0x444da6[_0x55cfcb(0x22d)](_0x45a7ac=>{const _0x472bc1=_0x55cfcb,[_0x134e17,_0x2a2e11]=_0x45a7ac[_0x472bc1(0x281)][_0x472bc1(0x1d1)](':')[_0x472bc1(0x22d)](Number),[_0x5bbea4,_0x90439f]=_0x45a7ac['end'][_0x472bc1(0x1d1)](':')[_0x472bc1(0x22d)](Number);return[_0x134e17*0x3c+_0x2a2e11,_0x5bbea4*0x3c+_0x90439f];});_0x12bfbf[_0x55cfcb(0x24f)]((_0x2ae1cc,_0x53c450)=>_0x2ae1cc[0x0]-_0x53c450[0x0]);let _0x2231a4=[];if(_0x12bfbf[_0x55cfcb(0x1c5)]>0x0){let _0x56543f=_0x12bfbf[0x0];for(let _0x3064b5=0x1;_0x3064b5<_0x12bfbf[_0x55cfcb(0x1c5)];_0x3064b5++){_0x12bfbf[_0x3064b5][0x0]<_0x56543f[0x1]?_0x56543f[0x1]=Math[_0x55cfcb(0x275)](_0x56543f[0x1],_0x12bfbf[_0x3064b5][0x1]):(_0x2231a4[_0x55cfcb(0x257)](_0x56543f),_0x56543f=_0x12bfbf[_0x3064b5]);}_0x2231a4['push'](_0x56543f);}let _0x2913d3=0x0;_0x2231a4['forEach'](_0x1551e7=>_0x2913d3+=_0x1551e7[0x1]-_0x1551e7[0x0]),document[_0x55cfcb(0x1ba)](_0x55cfcb(0x1e6))[_0x55cfcb(0x2f7)]=formatMinsToHrs(_0x4fe0f6),document[_0x55cfcb(0x1ba)](_0x55cfcb(0x25c))[_0x55cfcb(0x2f7)]=formatMinsToHrs(_0x2913d3);const _0x3f63b8=_0x4fe0f6>0x0?Math['round'](_0x2913d3/_0x4fe0f6*0x64):0x0,_0x54c84a=document[_0x55cfcb(0x1ba)](_0x55cfcb(0x2e4));_0x54c84a[_0x55cfcb(0x2f7)]=_0x3f63b8+'%';const _0x5132a9=document[_0x55cfcb(0x1ba)](_0x55cfcb(0x19f));if(_0x3f63b8>0x64)_0x54c84a[_0x55cfcb(0x1fb)][_0x55cfcb(0x2ad)]=_0x55cfcb(0x23d),_0x5132a9['style'][_0x55cfcb(0x1e3)]=_0x55cfcb(0x29f);else _0x3f63b8>0x50?(_0x54c84a['style'][_0x55cfcb(0x2ad)]='var(--acc-orange)',_0x5132a9[_0x55cfcb(0x1fb)][_0x55cfcb(0x1e3)]=_0x55cfcb(0x291)):(_0x54c84a[_0x55cfcb(0x1fb)][_0x55cfcb(0x2ad)]=_0x55cfcb(0x2ba),_0x5132a9[_0x55cfcb(0x1fb)][_0x55cfcb(0x1e3)]='rgba(255,255,255,0.05)');const _0x3f636a=document[_0x55cfcb(0x1ba)](_0x55cfcb(0x221));_0x3f636a['innerHTML']='';_0x444da6[_0x55cfcb(0x1c5)]===0x0?_0x3f636a[_0x55cfcb(0x1b5)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x444da6[_0x55cfcb(0x24f)]((_0x384d46,_0xa5095d)=>_0x384d46[_0x55cfcb(0x281)][_0x55cfcb(0x256)](_0xa5095d[_0x55cfcb(0x281)])),_0x444da6['forEach'](_0x11b711=>{const _0x19471a=_0x55cfcb,_0x2fe7ee=clients[_0x19471a(0x2a4)](_0x4ca0d6=>_0x4ca0d6[_0x19471a(0x23c)]===_0x11b711[_0x19471a(0x286)]),_0x2f799d=_0x2fe7ee?_0x2fe7ee['color']:_0x19471a(0x1b2),_0x3c23e2=_0x11b711[_0x19471a(0x288)]===_0x19471a(0x201),_0x15fef2=_0x3c23e2?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x539c1b=document[_0x19471a(0x2ce)](_0x19471a(0x235));_0x539c1b[_0x19471a(0x268)]=_0x19471a(0x2c9),_0x539c1b[_0x19471a(0x1fb)][_0x19471a(0x262)]=_0x2f799d,_0x539c1b[_0x19471a(0x1b5)]=_0x19471a(0x309)+_0x11b711['start']+_0x19471a(0x2b5)+_0x11b711[_0x19471a(0x207)]+_0x19471a(0x192)+_0x11b711[_0x19471a(0x286)]+_0x19471a(0x26c)+_0x15fef2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3f636a['appendChild'](_0x539c1b);}));const _0x5eae16=document[_0x55cfcb(0x1ba)]('btnDayToggle'),_0x4d03c2=dateExceptions[_0x19f4ae]==='off';_0x4d03c2?(_0x5eae16['textContent']=_0x55cfcb(0x2bd),_0x5eae16[_0x55cfcb(0x268)]='btn-primary\x20btn-secondary',_0x5eae16['style'][_0x55cfcb(0x2ad)]=_0x55cfcb(0x2ba),_0x5eae16[_0x55cfcb(0x1fb)][_0x55cfcb(0x210)]=_0x55cfcb(0x304)):(_0x5eae16[_0x55cfcb(0x2f7)]=_0x55cfcb(0x1ec),_0x5eae16[_0x55cfcb(0x268)]='btn-primary\x20btn-danger',_0x5eae16['style'][_0x55cfcb(0x2ad)]=_0x55cfcb(0x23d),_0x5eae16['style'][_0x55cfcb(0x210)]=_0x55cfcb(0x20b)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x618d7a(0x234);function openAnalytics(){const _0x389dc4=a2_0x618d7a,_0x2994d6=document[_0x389dc4(0x294)](_0x389dc4(0x1ee));setAnalyticsPeriod(_0x389dc4(0x234),_0x2994d6),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x223331,_0x29327c){const _0x10b1d9=a2_0x618d7a;currentAnPeriod=_0x223331,document[_0x10b1d9(0x2b9)](_0x10b1d9(0x1ee))[_0x10b1d9(0x1c1)](_0x7ecc18=>_0x7ecc18[_0x10b1d9(0x298)][_0x10b1d9(0x20c)](_0x10b1d9(0x25a)));if(_0x29327c)_0x29327c[_0x10b1d9(0x298)][_0x10b1d9(0x2c0)](_0x10b1d9(0x25a));const _0x1f175c=document[_0x10b1d9(0x1ba)](_0x10b1d9(0x25b));_0x1f175c['style'][_0x10b1d9(0x260)]=_0x223331===_0x10b1d9(0x1ff)?'flex':_0x10b1d9(0x1a2);const _0x297453=new Date();let _0x37650d=new Date(),_0x50e126=new Date();if(_0x223331==='week')_0x37650d=getStartOfWeek(_0x297453),_0x50e126=new Date(_0x37650d),_0x50e126['setDate'](_0x50e126[_0x10b1d9(0x2f2)]()+0x6);else{if(_0x223331===_0x10b1d9(0x1bd))_0x37650d=new Date(_0x297453[_0x10b1d9(0x289)](),_0x297453['getMonth'](),0x1),_0x50e126=new Date(_0x297453['getFullYear'](),_0x297453[_0x10b1d9(0x2db)]()+0x1,0x0);else{!document[_0x10b1d9(0x1ba)]('anStart')[_0x10b1d9(0x1c3)]&&(document[_0x10b1d9(0x1ba)](_0x10b1d9(0x27b))['value']=getLocalDateStr(_0x297453),document['getElementById']('anEnd')[_0x10b1d9(0x1c3)]=getLocalDateStr(_0x297453));refreshAnalytics();return;}}document[_0x10b1d9(0x1ba)](_0x10b1d9(0x27b))[_0x10b1d9(0x1c3)]=getLocalDateStr(_0x37650d),document['getElementById']('anEnd')[_0x10b1d9(0x1c3)]=getLocalDateStr(_0x50e126),refreshAnalytics();}function refreshAnalytics(){const _0x5dae45=a2_0x618d7a,_0x95ddfa=document[_0x5dae45(0x1ba)](_0x5dae45(0x27b))['value'],_0x249c1f=document[_0x5dae45(0x1ba)](_0x5dae45(0x2d4))['value'];if(!_0x95ddfa||!_0x249c1f)return;const _0x588e37=sessions['filter'](_0x32ecd3=>_0x32ecd3['dateStr']>=_0x95ddfa&&_0x32ecd3[_0x5dae45(0x243)]<=_0x249c1f&&_0x32ecd3[_0x5dae45(0x288)]!==_0x5dae45(0x19b)),_0x1858a6=_0x588e37[_0x5dae45(0x1c5)],_0x12fc2d=_0x588e37[_0x5dae45(0x246)](_0x314605=>_0x314605[_0x5dae45(0x288)]===_0x5dae45(0x201))[_0x5dae45(0x1c5)],_0x174dd3=_0x1858a6>0x0?Math[_0x5dae45(0x2e1)](_0x12fc2d/_0x1858a6*0x64):0x0;document[_0x5dae45(0x1ba)](_0x5dae45(0x300))['textContent']=_0x174dd3+'%',document[_0x5dae45(0x1ba)](_0x5dae45(0x2de))['textContent']=_0x12fc2d+_0x5dae45(0x2e0)+_0x1858a6+_0x5dae45(0x24a);const _0x516fee=document['getElementById'](_0x5dae45(0x278)),_0x187875=0x2*Math['PI']*0x23,_0x4f14e0=_0x187875-_0x174dd3/0x64*_0x187875;_0x516fee[_0x5dae45(0x1fb)][_0x5dae45(0x219)]=_0x4f14e0;const _0x3624ae={};_0x588e37[_0x5dae45(0x1c1)](_0x3691fe=>{const _0x2d22d2=_0x5dae45;if(!_0x3624ae[_0x3691fe['client']]){const _0x1220ab=clients['find'](_0x75b385=>_0x75b385[_0x2d22d2(0x23c)]===_0x3691fe[_0x2d22d2(0x286)]);_0x3624ae[_0x3691fe[_0x2d22d2(0x286)]]={'total':0x0,'done':0x0,'color':_0x1220ab?_0x1220ab[_0x2d22d2(0x2ad)]:_0x2d22d2(0x1b2)};}_0x3624ae[_0x3691fe[_0x2d22d2(0x286)]]['total']++;if(_0x3691fe[_0x2d22d2(0x288)]===_0x2d22d2(0x201))_0x3624ae[_0x3691fe[_0x2d22d2(0x286)]]['done']++;});const _0x514382=document[_0x5dae45(0x1ba)]('analyticsList');_0x514382[_0x5dae45(0x1b5)]='';const _0x135dbd=Object[_0x5dae45(0x1fa)](_0x3624ae)['sort']((_0x199474,_0x5ebece)=>_0x5ebece[0x1]['total']-_0x199474[0x1]['total']);if(_0x135dbd['length']===0x0){_0x514382[_0x5dae45(0x1b5)]=_0x5dae45(0x297);return;}_0x135dbd['forEach'](([_0xb7abdd,_0x1e3dfd])=>{const _0x2d412e=_0x5dae45,_0x505956=Math[_0x2d412e(0x2e1)](_0x1e3dfd[_0x2d412e(0x2ab)]/_0x1e3dfd['total']*0x64),_0x24b0f3=document[_0x2d412e(0x2ce)](_0x2d412e(0x235));_0x24b0f3[_0x2d412e(0x268)]=_0x2d412e(0x2f5),_0x24b0f3[_0x2d412e(0x1fb)]['borderLeftColor']=_0x1e3dfd[_0x2d412e(0x2ad)],_0x24b0f3[_0x2d412e(0x1b5)]=_0x2d412e(0x23a)+_0xb7abdd+_0x2d412e(0x1c6)+_0x1e3dfd['done']+_0x2d412e(0x24d)+_0x1e3dfd[_0x2d412e(0x1df)]+_0x2d412e(0x1f3)+_0x505956+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x514382[_0x2d412e(0x2aa)](_0x24b0f3);});}function formatMinsToHrs(_0x5a9c11){const _0x2c6aca=a2_0x618d7a;if(_0x5a9c11===0x0)return'0';const _0x23aaee=Math[_0x2c6aca(0x292)](_0x5a9c11/0x3c),_0x456fdf=_0x5a9c11%0x3c;if(_0x456fdf===0x0)return _0x23aaee+'—á';return _0x23aaee+'—á\x20'+_0x456fdf+'–º';}