const a2_0x11bd8c=a2_0x1d20;(function(_0x46ce8c,_0x268469){const _0xe241dd=a2_0x1d20,_0x50642c=_0x46ce8c();while(!![]){try{const _0x45cdf7=-parseInt(_0xe241dd(0x26c))/0x1+-parseInt(_0xe241dd(0x1c0))/0x2*(parseInt(_0xe241dd(0x298))/0x3)+-parseInt(_0xe241dd(0x1c7))/0x4+-parseInt(_0xe241dd(0x187))/0x5*(-parseInt(_0xe241dd(0x203))/0x6)+-parseInt(_0xe241dd(0x1ad))/0x7*(parseInt(_0xe241dd(0x1d0))/0x8)+-parseInt(_0xe241dd(0x1d6))/0x9*(-parseInt(_0xe241dd(0x138))/0xa)+parseInt(_0xe241dd(0x179))/0xb;if(_0x45cdf7===_0x268469)break;else _0x50642c['push'](_0x50642c['shift']());}catch(_0x55107c){_0x50642c['push'](_0x50642c['shift']());}}}(a2_0x4346,0xac342),function initTMA(){const _0x3f4b97=a2_0x1d20,_0x4d4054=(function(){let _0x5bc536=!![];return function(_0x3037f3,_0x3b17a8){const _0x367045=_0x5bc536?function(){if(_0x3b17a8){const _0x5c0b36=_0x3b17a8['apply'](_0x3037f3,arguments);return _0x3b17a8=null,_0x5c0b36;}}:function(){};return _0x5bc536=![],_0x367045;};}()),_0x31924f=_0x4d4054(this,function(){const _0x1ee10b=a2_0x1d20;return _0x31924f[_0x1ee10b(0x19f)]()[_0x1ee10b(0x294)]('(((.+)+)+)+$')[_0x1ee10b(0x19f)]()[_0x1ee10b(0x1d3)](_0x31924f)[_0x1ee10b(0x294)](_0x1ee10b(0x270));});_0x31924f();try{const _0x5bf980=window[_0x3f4b97(0x198)]?.[_0x3f4b97(0x185)];if(!_0x5bf980)return;_0x5bf980['ready'](),_0x5bf980['expand']();try{_0x5bf980[_0x3f4b97(0x1a2)](_0x3f4b97(0x163)),_0x5bf980[_0x3f4b97(0x15b)]&&_0x5bf980[_0x3f4b97(0x15b)]('#050505');}catch(_0x348dbe){console['log']('Error\x20setting\x20color:',_0x348dbe);}try{_0x5bf980[_0x3f4b97(0x236)]&&(_0x5bf980[_0x3f4b97(0x236)][_0x3f4b97(0x171)](),_0x5bf980['BackButton'][_0x3f4b97(0x135)](),_0x5bf980[_0x3f4b97(0x236)]['onClick'](function(){const _0x5a373d=_0x3f4b97;window[_0x5a373d(0x16a)][_0x5a373d(0x13b)]='router.html';}));}catch(_0x11e5ae){console[_0x3f4b97(0x15a)](_0x3f4b97(0x137),_0x11e5ae);}try{if(_0x5bf980['disableVerticalSwipes'])_0x5bf980[_0x3f4b97(0x1c9)]();}catch(_0x1e1d94){}}catch(_0x42f229){console['error'](_0x3f4b97(0x1d5),_0x42f229);}}());function isAdmin(){const _0x3751e6=a2_0x1d20;try{const _0x3bffdd=Number(window[_0x3751e6(0x198)]?.[_0x3751e6(0x185)]?.['initDataUnsafe']?.['user']?.['id']);return _0x3bffdd===0xbaf7174;}catch(_0x2bb540){return![];}}const APP_VERSION=a2_0x11bd8c(0x1ec),API_URL=a2_0x11bd8c(0x1c2),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x11bd8c(0x195),KEY_SETTINGS=a2_0x11bd8c(0x1fb);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1f8f94=a2_0x11bd8c;return window[_0x1f8f94(0x198)]?.[_0x1f8f94(0x185)]?.['initDataUnsafe']?.[_0x1f8f94(0x223)]?.['id']||'guest';},'saveLocally'(){const _0x34a2d8=a2_0x11bd8c;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x34a2d8(0x13f)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x34a2d8(0x13f)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2e4d22){console[_0x34a2d8(0x205)](_0x34a2d8(0x224),_0x2e4d22);}},'loadLocal'(){const _0x5e974f=a2_0x11bd8c;try{const _0x338da3=localStorage[_0x5e974f(0x1e3)](KEY_CLIENTS);if(_0x338da3)clients=JSON[_0x5e974f(0x204)](_0x338da3);const _0x3a3a2e=localStorage['getItem'](KEY_SESSIONS);if(_0x3a3a2e)sessions=JSON[_0x5e974f(0x204)](_0x3a3a2e);const _0xacf3a6=localStorage[_0x5e974f(0x1e3)](KEY_SETTINGS);if(_0xacf3a6){const _0x2c48d8=JSON[_0x5e974f(0x204)](_0xacf3a6);if(_0x2c48d8[_0x5e974f(0x1cd)])availabilityPattern=_0x2c48d8[_0x5e974f(0x1cd)];if(_0x2c48d8['exceptions'])dateExceptions=_0x2c48d8['exceptions'];if(_0x2c48d8[_0x5e974f(0x1c8)])specialRanges=_0x2c48d8[_0x5e974f(0x1c8)];}else{for(let _0x40e8e4=0x0;_0x40e8e4<0x7;_0x40e8e4++)availabilityPattern[_0x40e8e4]=Array[_0x5e974f(0x18a)]({'length':0xc},(_0xa3f2e4,_0x46ceff)=>_0x46ceff+0x9);}}catch(_0x8c2ca4){console['error'](_0x5e974f(0x251),_0x8c2ca4);}},async 'fetchFromServer'(_0x465a1a,_0x4fc6f3={}){const _0x4645fb=a2_0x11bd8c,_0x4ffbc8=window[_0x4645fb(0x198)]?.[_0x4645fb(0x185)],_0x2e4c6e={'action':_0x465a1a,'init_data':_0x4ffbc8?.[_0x4645fb(0x176)]||'',..._0x4fc6f3};try{const _0x14cdc9=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4645fb(0x225)},'body':JSON[_0x4645fb(0x13f)](_0x2e4c6e)}),_0x4a39bb=await _0x14cdc9['json']();if(!_0x4a39bb['ok'])throw new Error(_0x4a39bb[_0x4645fb(0x205)]||_0x4645fb(0x279));return _0x4a39bb[_0x4645fb(0x24d)];}catch(_0x3db0ad){console[_0x4645fb(0x205)](_0x4645fb(0x25f)+_0x465a1a+']\x20Failed:',_0x3db0ad);throw _0x3db0ad;}},async 'syncLoad'(){const _0x58d5e7=a2_0x11bd8c,_0x19840f=new Date(),_0x49b7cc=_0x19840f[_0x58d5e7(0x281)]()+'-'+String(_0x19840f[_0x58d5e7(0x1d8)]()+0x1)[_0x58d5e7(0x274)](0x2,'0'),_0x5cb983=new Date(_0x19840f);_0x5cb983[_0x58d5e7(0x253)](_0x19840f[_0x58d5e7(0x1d8)]()+0x1);const _0x208926=_0x5cb983['getFullYear']()+'-'+String(_0x5cb983[_0x58d5e7(0x1d8)]()+0x1)[_0x58d5e7(0x274)](0x2,'0'),_0x2155b4=Date[_0x58d5e7(0x244)]();console[_0x58d5e7(0x15a)]('[Sync]\x20Loading\x20'+_0x49b7cc+',\x20'+_0x208926+_0x58d5e7(0x141));try{const [_0x3c9658,_0x27e55c]=await Promise[_0x58d5e7(0x234)]([this[_0x58d5e7(0x226)](_0x58d5e7(0x23a),{'month_str':_0x49b7cc}),this['fetchFromServer']('init_load',{'month_str':_0x208926})]);if(lastUserActionTime>_0x2155b4)return console[_0x58d5e7(0x17e)](_0x58d5e7(0x2a0)),![];return this['mergeServerData'](_0x3c9658,_0x49b7cc),this[_0x58d5e7(0x1b0)](_0x27e55c,_0x208926),this[_0x58d5e7(0x23c)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x133bf4){console['error'](_0x133bf4);throw _0x133bf4;}},'mergeServerData'(_0xf75eed,_0x2f18c3){const _0x173532=a2_0x11bd8c;if(!_0xf75eed)return;_0xf75eed['clients']&&Array[_0x173532(0x186)](_0xf75eed[_0x173532(0x1f9)])&&(clients=_0xf75eed['clients']);if(_0xf75eed['settings']){if(_0xf75eed[_0x173532(0x143)][_0x173532(0x1cd)])availabilityPattern=_0xf75eed[_0x173532(0x143)][_0x173532(0x1cd)];if(_0xf75eed[_0x173532(0x143)]['exceptions'])dateExceptions=_0xf75eed[_0x173532(0x143)][_0x173532(0x1ed)];if(_0xf75eed[_0x173532(0x143)][_0x173532(0x1c8)])specialRanges=_0xf75eed[_0x173532(0x143)][_0x173532(0x1c8)];if(_0xf75eed[_0x173532(0x143)][_0x173532(0x20e)]){localStorage[_0x173532(0x243)](_0x173532(0x209),_0xf75eed[_0x173532(0x143)][_0x173532(0x20e)]);const _0x2953dd=document['getElementById'](_0x173532(0x161));if(_0x2953dd)_0x2953dd[_0x173532(0x248)]=_0xf75eed[_0x173532(0x143)][_0x173532(0x20e)];}}_0xf75eed[_0x173532(0x28c)]&&(sessions=sessions[_0x173532(0x256)](_0x1b0ca2=>!_0x1b0ca2['dateStr'][_0x173532(0x17a)](_0x2f18c3)),Object['keys'](_0xf75eed[_0x173532(0x28c)])['forEach'](_0x511253=>{const _0x5be782=_0x173532,_0x34e75b=_0xf75eed[_0x5be782(0x28c)][_0x511253];_0x34e75b['forEach'](_0x2fbfbd=>{const _0x33d83d=_0x5be782,_0x515e5d=clients[_0x33d83d(0x2a1)](_0x21aaac=>String(_0x21aaac['id'])===String(_0x2fbfbd['c']));sessions[_0x33d83d(0x26e)]({'id':_0x2fbfbd['i'],'clientId':_0x2fbfbd['c'],'client':_0x515e5d?_0x515e5d['name']:_0x33d83d(0x16b),'dateStr':_0x2f18c3+'-'+_0x511253[_0x33d83d(0x274)](0x2,'0'),'start':_0x2fbfbd['s'],'end':_0x2fbfbd['e'],'status':_0x2fbfbd['st']||_0x33d83d(0x1f6),'note':_0x2fbfbd['n']||'','seriesId':_0x2fbfbd[_0x33d83d(0x1b4)]||null});});}));},async 'syncBatch'(_0x1fd4bf){const _0x5049ed=a2_0x11bd8c,_0x30062d=[...new Set(_0x1fd4bf)],_0x4f9258=_0x30062d[_0x5049ed(0x1fc)](_0xd1c47e=>{const _0x42dfb9=_0x5049ed,_0x10876c=sessions['filter'](_0x475d25=>_0x475d25['dateStr']===_0xd1c47e&&_0x475d25['status']!==_0x42dfb9(0x162)),_0x31a972=_0x10876c[_0x42dfb9(0x1fc)](_0x1fbc8f=>({'i':_0x1fbc8f['id'],'c':_0x1fbc8f[_0x42dfb9(0x25d)],'s':_0x1fbc8f[_0x42dfb9(0x272)],'e':_0x1fbc8f[_0x42dfb9(0x1d4)],'st':_0x1fbc8f[_0x42dfb9(0x262)],'n':_0x1fbc8f[_0x42dfb9(0x287)],'sid':_0x1fbc8f[_0x42dfb9(0x1ca)]}));return{'date':_0xd1c47e,'day_data':_0x31a972};});if(_0x4f9258[_0x5049ed(0x14b)]===0x0)return;console[_0x5049ed(0x15a)](_0x5049ed(0x28d)+_0x4f9258['length']+'\x20days'),await this['fetchFromServer']('batch_sync',{'changes':_0x4f9258});}};async function init(){const _0x5238b7=a2_0x11bd8c;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x5238b7(0x142)](_0x5238b7(0x172),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5238b7(0x145)]()[_0x5238b7(0x192)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x161562=>{const _0x465b2b=_0x5238b7;showToast(_0x465b2b(0x21c),![]);});}function generateId(){const _0x3a2acf=a2_0x11bd8c;return Date[_0x3a2acf(0x244)]()['toString'](0x24)+Math[_0x3a2acf(0x288)]()[_0x3a2acf(0x19f)](0x24)[_0x3a2acf(0x156)](0x2,0x5);}function toggleSeriesInput(){const _0x200462=a2_0x11bd8c,_0x271c07=document[_0x200462(0x193)](_0x200462(0x1a5))[_0x200462(0x213)],_0x2f15d3=document['getElementById'](_0x200462(0x1e1));_0x2f15d3[_0x200462(0x291)]['display']=_0x271c07?_0x200462(0x26b):_0x200462(0x17c);const _0x2d56d1=document[_0x200462(0x193)](_0x200462(0x13c));_0x2d56d1[_0x200462(0x291)]['borderRadius']=_0x271c07?'10px\x2010px\x200\x200':_0x200462(0x1fa);}function openAddSession(_0x1d2cff){const _0x3875d3=a2_0x11bd8c;editingId=null,populateClientSelect(),document[_0x3875d3(0x193)]('sheetTitle')[_0x3875d3(0x158)]=_0x3875d3(0x27a),document[_0x3875d3(0x193)](_0x3875d3(0x1bd))[_0x3875d3(0x291)]['display']=_0x3875d3(0x17c),document['getElementById']('btnStatusToggle')[_0x3875d3(0x291)][_0x3875d3(0x165)]=_0x3875d3(0x17c);const _0x34d11c=document[_0x3875d3(0x193)]('recurringOptionContainer'),_0x3dc8b6=document[_0x3875d3(0x193)](_0x3875d3(0x1e1));_0x34d11c[_0x3875d3(0x291)][_0x3875d3(0x165)]='flex',_0x34d11c['style']['borderRadius']=_0x3875d3(0x1fa),document[_0x3875d3(0x193)](_0x3875d3(0x1a5))[_0x3875d3(0x213)]=![],document['getElementById'](_0x3875d3(0x132))[_0x3875d3(0x248)]=0x4,_0x3dc8b6['style']['display']=_0x3875d3(0x17c),document['getElementById'](_0x3875d3(0x21f))[_0x3875d3(0x248)]=getLocalDateStr(_0x1d2cff),updateDateDisplay();const _0x1c23bc=_0x1d2cff[_0x3875d3(0x1bf)]();document[_0x3875d3(0x193)](_0x3875d3(0x175))[_0x3875d3(0x248)]=String(_0x1c23bc)[_0x3875d3(0x274)](0x2,'0')+_0x3875d3(0x184),document['getElementById']('inpEnd')[_0x3875d3(0x248)]=String(_0x1c23bc+0x1)[_0x3875d3(0x274)](0x2,'0')+_0x3875d3(0x184),openSheet(_0x3875d3(0x1f7));}function openEdit(_0x4905b8){const _0x1d136d=a2_0x11bd8c;editingId=_0x4905b8['id'],populateClientSelect(),document['getElementById'](_0x1d136d(0x206))[_0x1d136d(0x158)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x1d136d(0x193)](_0x1d136d(0x1bd))['style'][_0x1d136d(0x165)]=_0x1d136d(0x26b);const _0x382838=document[_0x1d136d(0x193)](_0x1d136d(0x16e));_0x382838[_0x1d136d(0x291)]['display']=_0x1d136d(0x1d7);_0x4905b8[_0x1d136d(0x262)]===_0x1d136d(0x15f)?(_0x382838[_0x1d136d(0x154)]=_0x1d136d(0x1af),_0x382838['innerHTML']=_0x1d136d(0x146)):(_0x382838[_0x1d136d(0x154)]=_0x1d136d(0x1c5),_0x382838[_0x1d136d(0x25e)]=_0x1d136d(0x19d));const _0x112071=!!_0x4905b8['seriesId'];document[_0x1d136d(0x193)](_0x1d136d(0x13c))[_0x1d136d(0x291)][_0x1d136d(0x165)]=_0x1d136d(0x17c),document[_0x1d136d(0x193)](_0x1d136d(0x1e1))[_0x1d136d(0x291)][_0x1d136d(0x165)]=_0x1d136d(0x17c),_0x112071?(document[_0x1d136d(0x193)](_0x1d136d(0x210))[_0x1d136d(0x291)]['display']=_0x1d136d(0x1d7),document[_0x1d136d(0x193)]('patternInfoBox')[_0x1d136d(0x1cf)](_0x1d136d(0x1ee))[_0x1d136d(0x158)]=_0x1d136d(0x170)):document[_0x1d136d(0x193)](_0x1d136d(0x210))[_0x1d136d(0x291)][_0x1d136d(0x165)]=_0x1d136d(0x17c),document[_0x1d136d(0x193)](_0x1d136d(0x1e6))[_0x1d136d(0x248)]=_0x4905b8[_0x1d136d(0x1eb)],document['getElementById'](_0x1d136d(0x21f))['value']=_0x4905b8[_0x1d136d(0x136)],document[_0x1d136d(0x193)](_0x1d136d(0x175))[_0x1d136d(0x248)]=_0x4905b8[_0x1d136d(0x272)],document[_0x1d136d(0x193)](_0x1d136d(0x1fe))[_0x1d136d(0x248)]=_0x4905b8[_0x1d136d(0x1d4)],document['getElementById'](_0x1d136d(0x1ab))[_0x1d136d(0x248)]=_0x4905b8['note']||'',updateDateDisplay(),openSheet(_0x1d136d(0x1f7));}async function trySaveSession(){const _0x334562=a2_0x11bd8c,_0x41b88e=document[_0x334562(0x193)](_0x334562(0x1e6))[_0x334562(0x248)],_0x40c022=document[_0x334562(0x193)]('inpDate')[_0x334562(0x248)],_0x49b82f=document[_0x334562(0x193)](_0x334562(0x175))['value'],_0x46f867=document['getElementById']('inpEnd')[_0x334562(0x248)],_0x298807=document[_0x334562(0x193)](_0x334562(0x1ab))[_0x334562(0x248)],_0x19ed4f=document[_0x334562(0x193)](_0x334562(0x1a5))[_0x334562(0x213)];let _0x90269=0x4;if(_0x19ed4f){const _0x56f393=parseInt(document[_0x334562(0x193)](_0x334562(0x132))[_0x334562(0x248)]);if(!_0x56f393||_0x56f393<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x56f393>0x64){showToast(_0x334562(0x21b),![]);return;}_0x90269=_0x56f393;}const _0x26f01d=clients[_0x334562(0x2a1)](_0x46613b=>_0x46613b[_0x334562(0x284)]===_0x41b88e);if(!_0x26f01d){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x500065=validateAppointment(_0x40c022,_0x49b82f,_0x46f867,editingId,_0x26f01d['id']);if(!_0x500065[_0x334562(0x188)]){showToast(_0x500065[_0x334562(0x13e)],![]);return;}_0x500065[_0x334562(0x18e)]&&showToast(_0x500065['warning'],![]);const _0x1ad591={'client':_0x41b88e,'clientId':_0x26f01d['id'],'start':_0x49b82f,'end':_0x46f867,'note':_0x298807,'status':'planned'},_0x26d784=editingId?sessions['find'](_0x4e7e8b=>_0x4e7e8b['id']===editingId):null;if(_0x26d784&&_0x26d784[_0x334562(0x1ca)]){tempSessionData={..._0x1ad591,'dateStr':_0x40c022,'id':editingId,'seriesId':_0x26d784['seriesId']},openActionSheet('save');return;}let _0xfec8bc=null;if(!editingId)_0xfec8bc=_0x334562(0x283);else{if(_0x26d784){if(String(_0x26d784[_0x334562(0x25d)])!==String(_0x26f01d['id']))console[_0x334562(0x15a)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x334562(0x23e)](_0x334562(0x140),_0x26d784),_0xfec8bc=_0x334562(0x283);else(_0x26d784[_0x334562(0x272)]!==_0x49b82f||_0x26d784[_0x334562(0x1d4)]!==_0x46f867||_0x26d784[_0x334562(0x136)]!==_0x40c022)&&(_0xfec8bc=_0x334562(0x1cb));}}if(!editingId&&_0x19ed4f){createBatchSeries(_0x1ad591,_0x40c022,_0x90269),NotificationManager['send'](_0x334562(0x283),{..._0x1ad591,'dateStr':_0x40c022});return;}lastUserActionTime=Date[_0x334562(0x244)]();const _0x193c15={..._0x1ad591,'dateStr':_0x40c022,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x193c15),_0xfec8bc&&NotificationManager[_0x334562(0x23e)](_0xfec8bc,_0x193c15);}function toggleSessionStatus(){const _0x3cdc87=a2_0x11bd8c;lastUserActionTime=Date['now']();const _0x51be81=sessions[_0x3cdc87(0x2a1)](_0x1301ae=>_0x1301ae['id']===editingId);if(!_0x51be81)return;const _0x1b57c9=_0x51be81[_0x3cdc87(0x262)]==='completed'?_0x3cdc87(0x1f6):_0x3cdc87(0x15f);_0x51be81['status']=_0x1b57c9,saveSingleSession(_0x51be81),_0x1b57c9===_0x3cdc87(0x15f)&&NotificationManager[_0x3cdc87(0x23e)](_0x3cdc87(0x1f1),_0x51be81),showToast(_0x1b57c9==='completed'?_0x3cdc87(0x20d):_0x3cdc87(0x1aa),!![]);}function validateAppointment(_0x1669cc,_0x311fd1,_0x4b09cf,_0x470ae4,_0x185641){const _0x5de353=a2_0x11bd8c,[_0x3da451,_0x2ef82c]=_0x311fd1[_0x5de353(0x232)](':')['map'](Number),[_0x55e0b7,_0x5cc6df]=_0x4b09cf['split'](':')[_0x5de353(0x1fc)](Number),_0xcc7db1=_0x3da451*0x3c+_0x2ef82c,_0x4925e8=_0x55e0b7*0x3c+_0x5cc6df,_0x27533e=String(_0x185641);let _0x2e8702=![],_0x26b0b9='';for(let _0x12266f of sessions){if(_0x12266f[_0x5de353(0x136)]!==_0x1669cc)continue;if(_0x12266f[_0x5de353(0x262)]==='cancelled')continue;if(_0x470ae4&&String(_0x12266f['id'])===String(_0x470ae4))continue;const [_0x12e48b,_0x457485]=_0x12266f[_0x5de353(0x272)][_0x5de353(0x232)](':')['map'](Number),[_0x272fe3,_0x10294c]=_0x12266f[_0x5de353(0x1d4)][_0x5de353(0x232)](':')['map'](Number),_0x44f142=_0x12e48b*0x3c+_0x457485,_0x5aa515=_0x272fe3*0x3c+_0x10294c;if(Math['max'](_0xcc7db1,_0x44f142)<Math[_0x5de353(0x1ff)](_0x4925e8,_0x5aa515)){if(_0x12266f[_0x5de353(0x25d)]&&String(_0x12266f[_0x5de353(0x25d)])===_0x27533e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x12266f[_0x5de353(0x1eb)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x2e8702=!![],_0x26b0b9=_0x12266f[_0x5de353(0x1eb)];}}if(_0x2e8702)return{'valid':!![],'warning':_0x5de353(0x164)+_0x26b0b9};return{'valid':!![]};}function saveSingleSession(_0x2311af){const _0x76a9d0=a2_0x11bd8c;if(editingId){const _0x289227=sessions[_0x76a9d0(0x23b)](_0x1d0c75=>_0x1d0c75['id']===editingId);if(_0x289227!==-0x1)sessions[_0x289227]=_0x2311af;}else sessions[_0x76a9d0(0x26e)](_0x2311af);afterSaveAction([_0x2311af[_0x76a9d0(0x136)]]);}function createBatchSeries(_0x4d3987,_0x5dbf5a,_0x4461e8){const _0xc4c15d=a2_0x11bd8c,_0x5e2a5e=generateId(),_0x105080=[],_0xa78f06=[];let _0x50a95c=0x0,_0x2bf92e=new Date(_0x5dbf5a);for(let _0x2b1d04=0x0;_0x2b1d04<_0x4461e8;_0x2b1d04++){const _0x3275aa=getLocalDateStr(_0x2bf92e),_0x4393ad=validateAppointment(_0x3275aa,_0x4d3987['start'],_0x4d3987['end'],null,_0x4d3987[_0xc4c15d(0x25d)]);if(!_0x4393ad['valid'])console[_0xc4c15d(0x15a)](_0xc4c15d(0x2a4)+_0x3275aa+':\x20Client\x20already\x20booked'),_0x50a95c++;else{const _0x1a7a06={..._0x4d3987,'id':generateId(),'dateStr':_0x3275aa,'seriesId':_0x5e2a5e};_0xa78f06[_0xc4c15d(0x26e)](_0x1a7a06),_0x105080[_0xc4c15d(0x26e)](_0x3275aa);}_0x2bf92e[_0xc4c15d(0x1a8)](_0x2bf92e['getDate']()+0x7);}if(_0xa78f06[_0xc4c15d(0x14b)]===0x0){showToast(_0xc4c15d(0x25c),![]);return;}sessions['push'](..._0xa78f06),lastUserActionTime=Date['now']();let _0x496ced=_0xc4c15d(0x267)+_0xa78f06[_0xc4c15d(0x14b)];_0x50a95c>0x0&&(_0x496ced+=_0xc4c15d(0x22a)+_0x50a95c+')'),showToast(_0x496ced,!![]),afterSaveAction(_0x105080);}function updateSeriesBatch(_0x21b01d,_0x2767dd){const _0x160697=a2_0x11bd8c,_0x5edce1=[],_0x486988=_0x2767dd[_0x160697(0x1ca)];if(_0x21b01d===_0x160697(0x199)){const _0xba8b6d={..._0x2767dd,'seriesId':null},_0x3a6dd9=sessions[_0x160697(0x23b)](_0x5281f1=>_0x5281f1['id']===_0x2767dd['id']);if(_0x3a6dd9!==-0x1)sessions[_0x3a6dd9]=_0xba8b6d;_0x5edce1[_0x160697(0x26e)](_0xba8b6d[_0x160697(0x136)]);}else{if(_0x21b01d==='series'){const _0x2730d1=_0x2767dd['dateStr'];sessions['forEach']((_0x4e66eb,_0x20c08b)=>{const _0x296faa=_0x160697;_0x4e66eb['seriesId']===_0x486988&&_0x4e66eb[_0x296faa(0x136)]>=_0x2730d1&&(sessions[_0x20c08b]={...sessions[_0x20c08b],'start':_0x2767dd[_0x296faa(0x272)],'end':_0x2767dd[_0x296faa(0x1d4)],'note':_0x2767dd['note'],'client':_0x2767dd[_0x296faa(0x1eb)],'clientId':_0x2767dd['clientId']},_0x5edce1[_0x296faa(0x26e)](_0x4e66eb[_0x296faa(0x136)]));});}}afterSaveAction(_0x5edce1);}function tryDeleteSession(){const _0x4816e2=a2_0x11bd8c,_0x595c4f=sessions[_0x4816e2(0x2a1)](_0x42b67f=>_0x42b67f['id']===editingId);if(!_0x595c4f)return;_0x595c4f[_0x4816e2(0x1ca)]?openActionSheet(_0x4816e2(0x1ae)):commitDelete(_0x4816e2(0x199),_0x595c4f);}function commitDelete(_0x2644bf,_0xe8db86){const _0x387945=a2_0x11bd8c;lastUserActionTime=Date[_0x387945(0x244)](),NotificationManager[_0x387945(0x23e)](_0x387945(0x140),_0xe8db86);const _0x359e31=[];if(_0x2644bf===_0x387945(0x199))sessions=sessions[_0x387945(0x256)](_0x59421d=>_0x59421d['id']!==_0xe8db86['id']),_0x359e31[_0x387945(0x26e)](_0xe8db86[_0x387945(0x136)]);else{if(_0x2644bf==='series'){const _0x1df1af=_0xe8db86['dateStr'],_0x4fe848=_0xe8db86[_0x387945(0x1ca)];sessions[_0x387945(0x265)](_0x63daaf=>{const _0x1c5140=_0x387945;_0x63daaf['seriesId']===_0x4fe848&&_0x63daaf[_0x1c5140(0x136)]>=_0x1df1af&&_0x359e31[_0x1c5140(0x26e)](_0x63daaf['dateStr']);}),sessions=sessions[_0x387945(0x256)](_0x9b61c6=>!(_0x9b61c6['seriesId']===_0x4fe848&&_0x9b61c6[_0x387945(0x136)]>=_0x1df1af));}}afterSaveAction(_0x359e31);}function afterSaveAction(_0x120097){const _0x387636=a2_0x11bd8c;DataManager[_0x387636(0x23c)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x387636(0x257)](_0x120097)[_0x387636(0x192)](()=>console[_0x387636(0x15a)](_0x387636(0x19c)))[_0x387636(0x231)](_0x21b52f=>showToast(_0x387636(0x17d),![]));}function a2_0x1d20(_0x265a15,_0x275c66){_0x265a15=_0x265a15-0x130;const _0x2e2c18=a2_0x4346();let _0xe2fb58=_0x2e2c18[_0x265a15];return _0xe2fb58;}const NotificationManager={'formatDate'(_0x2da9c6){const _0x203372=a2_0x11bd8c,_0x58b401=new Date(_0x2da9c6),_0x4320e2={'weekday':_0x203372(0x250),'day':_0x203372(0x285),'month':_0x203372(0x250)};let _0x173563=_0x58b401[_0x203372(0x254)](_0x203372(0x1f4),_0x4320e2);return _0x173563[_0x203372(0x252)](0x0)[_0x203372(0x220)]()+_0x173563[_0x203372(0x218)](0x1);},'getText'(_0x1855fa,_0x470f3a){const _0x5c4ea7=a2_0x11bd8c,_0x2bb466=this['formatDate'](_0x470f3a['dateStr']);switch(_0x1855fa){case _0x5c4ea7(0x283):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x5c4ea7(0x19b)+_0x2bb466+'\x0a')+(_0x5c4ea7(0x293)+_0x470f3a['start']+_0x5c4ea7(0x1ef)+_0x470f3a[_0x5c4ea7(0x1d4)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x5c4ea7(0x238)+('<b>‚úÖ\x20'+_0x470f3a[_0x5c4ea7(0x272)]+_0x5c4ea7(0x1ef)+_0x470f3a[_0x5c4ea7(0x1d4)]+_0x5c4ea7(0x19a))+(_0x5c4ea7(0x19b)+_0x2bb466);case _0x5c4ea7(0x140):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x5c4ea7(0x22c)+_0x2bb466+'\x20('+_0x470f3a[_0x5c4ea7(0x272)]+_0x5c4ea7(0x233));case _0x5c4ea7(0x1f1):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x5c4ea7(0x1e0)+_0x5c4ea7(0x177);default:return'';}},async 'send'(_0x4dc7f6,_0x23ba45){const _0x4b7644=a2_0x11bd8c;console[_0x4b7644(0x15a)](_0x4b7644(0x29e),_0x4dc7f6,_0x23ba45);if(!_0x23ba45){console[_0x4b7644(0x205)](_0x4b7644(0x14c));return;}const _0x4ab83c=String(_0x23ba45['clientId']);console[_0x4b7644(0x15a)]('[Notify]\x20Detected\x20Client\x20ID:',_0x4ab83c);if(!_0x23ba45[_0x4b7644(0x25d)]||_0x4ab83c==='undefined'||_0x4ab83c===_0x4b7644(0x21e)){console[_0x4b7644(0x205)](_0x4b7644(0x28b));if(_0x23ba45['client']){const _0x3e1203=clients[_0x4b7644(0x2a1)](_0x54abc8=>_0x54abc8[_0x4b7644(0x284)]===_0x23ba45['client']);if(_0x3e1203)return console[_0x4b7644(0x15a)](_0x4b7644(0x23f),_0x3e1203['id']),this[_0x4b7644(0x23e)](_0x4dc7f6,{..._0x23ba45,'clientId':_0x3e1203['id']});}return;}if(_0x4ab83c['length']<0x5){console[_0x4b7644(0x17e)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x4ab83c);return;}const _0x554946=this[_0x4b7644(0x1a3)](_0x4dc7f6,_0x23ba45);if(!_0x554946){console[_0x4b7644(0x205)](_0x4b7644(0x152));return;}console[_0x4b7644(0x15a)](_0x4b7644(0x1da)+_0x4ab83c+_0x4b7644(0x141)),DataManager[_0x4b7644(0x226)](_0x4b7644(0x178),{'chatId':_0x4ab83c,'text':_0x554946})['then'](_0x4a228d=>console[_0x4b7644(0x15a)](_0x4b7644(0x22b),_0x4a228d))['catch'](_0x369c5b=>console[_0x4b7644(0x205)](_0x4b7644(0x155),_0x369c5b));}};function getLocalDateStr(_0x1868bb){const _0x1a9fbe=a2_0x11bd8c,_0x45f249=_0x1868bb[_0x1a9fbe(0x281)](),_0x49127b=String(_0x1868bb[_0x1a9fbe(0x1d8)]()+0x1)[_0x1a9fbe(0x274)](0x2,'0'),_0x4ab9a1=String(_0x1868bb[_0x1a9fbe(0x1a7)]())[_0x1a9fbe(0x274)](0x2,'0');return _0x45f249+'-'+_0x49127b+'-'+_0x4ab9a1;}function getDateStr(_0x213b23){const _0x23700d=a2_0x11bd8c,_0x1817a5=new Date();return _0x1817a5[_0x23700d(0x1a8)](_0x1817a5['getDate']()+_0x213b23),getLocalDateStr(_0x1817a5);}function getStartOfWeek(_0x4fe5f4){const _0x16412f=a2_0x11bd8c,_0x415843=new Date(_0x4fe5f4),_0x24ff82=_0x415843[_0x16412f(0x263)](),_0x2e57bc=_0x415843[_0x16412f(0x1a7)]()-_0x24ff82+(_0x24ff82===0x0?-0x6:0x1);return _0x415843[_0x16412f(0x1a8)](_0x2e57bc),_0x415843[_0x16412f(0x289)](0x0,0x0,0x0,0x0),_0x415843;}function hexToRgba(_0x2cabab,_0x2a3ed3){const _0x5d1d97=a2_0x11bd8c;if(!_0x2cabab)return _0x5d1d97(0x174);let _0x4e203f=0x0,_0x21cb1f=0x0,_0x5f246c=0x0;if(_0x2cabab[_0x5d1d97(0x14b)]===0x4)_0x4e203f='0x'+_0x2cabab[0x1]+_0x2cabab[0x1],_0x21cb1f='0x'+_0x2cabab[0x2]+_0x2cabab[0x2],_0x5f246c='0x'+_0x2cabab[0x3]+_0x2cabab[0x3];else _0x2cabab[_0x5d1d97(0x14b)]===0x7&&(_0x4e203f='0x'+_0x2cabab[0x1]+_0x2cabab[0x2],_0x21cb1f='0x'+_0x2cabab[0x3]+_0x2cabab[0x4],_0x5f246c='0x'+_0x2cabab[0x5]+_0x2cabab[0x6]);return _0x5d1d97(0x276)+ +_0x4e203f+',\x20'+ +_0x21cb1f+',\x20'+ +_0x5f246c+',\x20'+_0x2a3ed3+')';}function renderTimeColumn(){const _0x1a0436=a2_0x11bd8c,_0x49b1eb=document[_0x1a0436(0x193)](_0x1a0436(0x22d)),_0x1b9fba=document[_0x1a0436(0x193)](_0x1a0436(0x25a));_0x49b1eb[_0x1a0436(0x25e)]='',_0x49b1eb['appendChild'](_0x1b9fba);for(let _0x32eb97=0x0;_0x32eb97<0x18;_0x32eb97++){const _0x108a9f=document['createElement'](_0x1a0436(0x246));_0x108a9f['className']=_0x1a0436(0x1db);if(_0x32eb97>0x0)_0x108a9f[_0x1a0436(0x25e)]=_0x1a0436(0x200)+String(_0x32eb97)['padStart'](0x2,'0')+_0x1a0436(0x201);_0x49b1eb['appendChild'](_0x108a9f);}}function renderDayRange(_0x56575d,_0x1244ad){const _0x13fe95=a2_0x11bd8c,_0x10e80e=document['getElementById'](_0x13fe95(0x242)),_0x493195=document[_0x13fe95(0x193)](_0x13fe95(0x241)),_0x271d17=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3e2e2f=new Date();_0x3e2e2f['setHours'](0x0,0x0,0x0,0x0);const _0x2a2eb7=getLocalDateStr(new Date());for(let _0x47c776=_0x56575d;_0x47c776<=_0x1244ad;_0x47c776++){const _0x57d368=new Date(_0x3e2e2f);_0x57d368[_0x13fe95(0x1a8)](_0x57d368[_0x13fe95(0x1a7)]()+_0x47c776);const _0x3af392=getLocalDateStr(_0x57d368);let _0x5f5419=_0x57d368[_0x13fe95(0x263)]()-0x1;if(_0x5f5419===-0x1)_0x5f5419=0x6;const _0x3969c6=_0x3af392===_0x2a2eb7,_0x4f75c9=document[_0x13fe95(0x1b8)]('div');_0x4f75c9[_0x13fe95(0x154)]='day-col-header\x20'+(_0x3969c6?'today':''),_0x4f75c9['id']=_0x13fe95(0x1d2)+_0x3af392,_0x4f75c9['setAttribute']('data-date',_0x3af392),_0x4f75c9[_0x13fe95(0x25e)]=_0x13fe95(0x16c)+_0x271d17[_0x5f5419]+'</div><div\x20class=\x22dch-num\x22>'+_0x57d368['getDate']()+_0x13fe95(0x148)+_0x3af392+_0x13fe95(0x14f),_0x4f75c9['onclick']=()=>openDayOptions(_0x3af392,_0x271d17[_0x5f5419]+'\x20'+_0x57d368[_0x13fe95(0x1a7)]()),_0x10e80e[_0x13fe95(0x26f)](_0x4f75c9);const _0x2a6591=document['createElement']('div');_0x2a6591['className']=_0x13fe95(0x1e4)+(_0x3969c6?_0x13fe95(0x26a):''),_0x2a6591[_0x13fe95(0x153)]('data-date',_0x3af392),_0x2a6591['setAttribute'](_0x13fe95(0x266),_0x5f5419),renderEventsForColumn(_0x2a6591,_0x3af392,_0x5f5419),attachLongPressHandler(_0x2a6591,_0x57d368),_0x493195['appendChild'](_0x2a6591),updateDayStats(_0x3af392);}}function reRenderBlocks(){const _0xdc9037=a2_0x11bd8c;document[_0xdc9037(0x16d)]('#gridColumns\x20.day-column')[_0xdc9037(0x265)](_0x530ce3=>{const _0x4f2e7f=_0xdc9037;_0x530ce3[_0x4f2e7f(0x16d)](_0x4f2e7f(0x215))['forEach'](_0x404c17=>_0x404c17[_0x4f2e7f(0x24a)]());const _0x344669=_0x530ce3[_0x4f2e7f(0x21a)](_0x4f2e7f(0x216)),_0x20bf74=parseInt(_0x530ce3[_0x4f2e7f(0x21a)](_0x4f2e7f(0x266))),_0x231e24=Math[_0x4f2e7f(0x261)](_0x530ce3[_0x4f2e7f(0x28f)]);(availabilityPattern[_0x20bf74]||[])[_0x4f2e7f(0x265)](_0xc79981=>{const _0x275ab9=_0x4f2e7f,_0x4a8421=document[_0x275ab9(0x1b8)](_0x275ab9(0x246));_0x4a8421[_0x275ab9(0x154)]=_0x275ab9(0x255);const _0x476a88=_0xc79981*GRID_H;_0x4a8421[_0x275ab9(0x291)][_0x275ab9(0x1b6)]=_0x476a88+'px',_0x4a8421[_0x275ab9(0x291)]['backgroundPosition']='-'+_0x231e24+_0x275ab9(0x130)+_0x476a88+'px',_0x530ce3[_0x275ab9(0x26f)](_0x4a8421);});if(specialRanges&&specialRanges[_0x4f2e7f(0x14b)]>0x0){const _0x13d280=new Date(_0x344669+_0x4f2e7f(0x1f8))[_0x4f2e7f(0x21d)](),_0xf3c01f=new Date(_0x344669+_0x4f2e7f(0x18d))['getTime']();specialRanges[_0x4f2e7f(0x265)](_0x539824=>{const _0x5b921b=_0x4f2e7f,_0x2a9337=new Date(_0x539824[_0x5b921b(0x272)])[_0x5b921b(0x21d)](),_0xd61edb=new Date(_0x539824[_0x5b921b(0x1d4)])[_0x5b921b(0x21d)](),_0x26b8f4=Math[_0x5b921b(0x258)](_0x13d280,_0x2a9337),_0x135429=Math[_0x5b921b(0x1ff)](_0xf3c01f,_0xd61edb);if(_0x26b8f4<_0x135429){if(_0x26b8f4<=_0x13d280&&_0x135429>=_0xf3c01f-0xea60){if(!_0x530ce3[_0x5b921b(0x1cf)](_0x5b921b(0x1c6))){const _0x398ea7=document['createElement'](_0x5b921b(0x246));_0x398ea7[_0x5b921b(0x154)]='day-off-overlay\x20stripe-bg',_0x398ea7[_0x5b921b(0x291)]['backgroundPosition']='-'+_0x231e24+_0x5b921b(0x1bc),_0x530ce3[_0x5b921b(0x26f)](_0x398ea7);}}else{const _0x3d8043=(_0x26b8f4-_0x13d280)/0x36ee80*GRID_H,_0x3c41ae=(_0x135429-_0x26b8f4)/0x36ee80*GRID_H,_0x5c0a29=document[_0x5b921b(0x1b8)](_0x5b921b(0x246));_0x5c0a29[_0x5b921b(0x154)]=_0x5b921b(0x24e),_0x5c0a29[_0x5b921b(0x291)][_0x5b921b(0x1b6)]=_0x3d8043+'px',_0x5c0a29[_0x5b921b(0x291)][_0x5b921b(0x221)]=_0x3c41ae+'px',_0x5c0a29['style'][_0x5b921b(0x17f)]='-'+_0x231e24+_0x5b921b(0x130)+_0x3d8043+'px',_0x530ce3[_0x5b921b(0x26f)](_0x5c0a29);}}});}if(dateExceptions[_0x344669]==='off'){if(!_0x530ce3[_0x4f2e7f(0x1cf)](_0x4f2e7f(0x1c6))){const _0x656e28=document[_0x4f2e7f(0x1b8)](_0x4f2e7f(0x246));_0x656e28[_0x4f2e7f(0x154)]=_0x4f2e7f(0x20a),_0x656e28[_0x4f2e7f(0x291)]['backgroundPosition']='-'+_0x231e24+'px\x200px',_0x530ce3['appendChild'](_0x656e28);}}renderEventsForColumn(_0x530ce3,_0x344669,_0x20bf74),updateDayStats(_0x344669);});}function updateAllDayStats(){const _0x3642fd=a2_0x11bd8c;document['querySelectorAll']('.day-col-header')[_0x3642fd(0x265)](_0x2c54ce=>{const _0x4685ae=_0x3642fd;updateDayStats(_0x2c54ce['getAttribute'](_0x4685ae(0x216)));});}function updateDayStats(_0x20587d){const _0x50b8b5=a2_0x11bd8c,_0x189f6b=document[_0x50b8b5(0x193)](_0x50b8b5(0x2a2)+_0x20587d);if(!_0x189f6b)return;const _0xea4211=new Date(_0x20587d);let _0x1b8e7c=_0xea4211[_0x50b8b5(0x263)]()-0x1;if(_0x1b8e7c===-0x1)_0x1b8e7c=0x6;if(dateExceptions[_0x20587d]==='off'){_0x189f6b[_0x50b8b5(0x291)][_0x50b8b5(0x165)]=_0x50b8b5(0x17c);return;}const _0x401e04=availabilityPattern[_0x1b8e7c]||[],_0x2e94a9=0x18-_0x401e04[_0x50b8b5(0x14b)],_0x25fe8a=_0x2e94a9*0x3c,_0x165dbb=sessions[_0x50b8b5(0x256)](_0x380f22=>_0x380f22[_0x50b8b5(0x136)]===_0x20587d&&_0x380f22[_0x50b8b5(0x262)]!=='cancelled');if(_0x165dbb[_0x50b8b5(0x14b)]===0x0){_0x189f6b['style']['display']='none';return;}let _0x114e3f=_0x165dbb[_0x50b8b5(0x1fc)](_0x410bd5=>{const _0x2c0cdc=_0x50b8b5,[_0x1ddb04,_0x375e74]=_0x410bd5[_0x2c0cdc(0x272)][_0x2c0cdc(0x232)](':')[_0x2c0cdc(0x1fc)](Number),[_0x47b701,_0x2b1b27]=_0x410bd5[_0x2c0cdc(0x1d4)][_0x2c0cdc(0x232)](':')[_0x2c0cdc(0x1fc)](Number);return[_0x1ddb04*0x3c+_0x375e74,_0x47b701*0x3c+_0x2b1b27];});_0x114e3f[_0x50b8b5(0x1a1)]((_0xfb2189,_0x3a4c2d)=>_0xfb2189[0x0]-_0x3a4c2d[0x0]);let _0x15d5c3=[];if(_0x114e3f[_0x50b8b5(0x14b)]>0x0){let _0x491c8b=_0x114e3f[0x0];for(let _0x3104fc=0x1;_0x3104fc<_0x114e3f['length'];_0x3104fc++){_0x114e3f[_0x3104fc][0x0]<_0x491c8b[0x1]?_0x491c8b[0x1]=Math['max'](_0x491c8b[0x1],_0x114e3f[_0x3104fc][0x1]):(_0x15d5c3['push'](_0x491c8b),_0x491c8b=_0x114e3f[_0x3104fc]);}_0x15d5c3['push'](_0x491c8b);}let _0xc59d7c=0x0;_0x15d5c3[_0x50b8b5(0x265)](_0x4c8718=>_0xc59d7c+=_0x4c8718[0x1]-_0x4c8718[0x0]),_0x189f6b['style']['display']=_0x50b8b5(0x1d7);const _0x2f8239=_0x189f6b[_0x50b8b5(0x1cf)]('.dch-stats-fill');if(_0x25fe8a===0x0){_0x2f8239[_0x50b8b5(0x291)][_0x50b8b5(0x25b)]=_0x50b8b5(0x17b),_0x2f8239[_0x50b8b5(0x291)]['background']='var(--acc-red)';return;}const _0x3f2c4f=_0xc59d7c/_0x25fe8a*0x64;console['log']('['+_0x20587d+_0x50b8b5(0x151)+_0x2e94a9+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0xc59d7c+_0x50b8b5(0x24c)+_0x3f2c4f[_0x50b8b5(0x1de)](0x1)+'%'),_0x3f2c4f>0x64?(_0x2f8239[_0x50b8b5(0x291)][_0x50b8b5(0x25b)]='100%',_0x2f8239[_0x50b8b5(0x291)][_0x50b8b5(0x278)]=_0x50b8b5(0x1e9)):(_0x2f8239[_0x50b8b5(0x291)][_0x50b8b5(0x25b)]=_0x3f2c4f+'%',_0x2f8239[_0x50b8b5(0x291)]['background']=_0x50b8b5(0x269));}function renderEventsForColumn(_0x2b1fab,_0x4ad1ed,_0x1e8540){const _0x163484=a2_0x11bd8c,_0x15d57d=sessions[_0x163484(0x256)](_0x152b31=>_0x152b31[_0x163484(0x136)]===_0x4ad1ed),_0x4ddc15=_0x15d57d[_0x163484(0x1fc)](_0x5a9f4e=>{const _0xc8ec83=_0x163484,[_0x5c28b6,_0x2edf2d]=_0x5a9f4e[_0xc8ec83(0x272)][_0xc8ec83(0x232)](':')[_0xc8ec83(0x1fc)](Number),[_0x5757a6,_0x194bd8]=_0x5a9f4e[_0xc8ec83(0x1d4)][_0xc8ec83(0x232)](':')[_0xc8ec83(0x1fc)](Number);return{'data':_0x5a9f4e,'start':_0x5c28b6*0x3c+_0x2edf2d,'end':_0x5757a6*0x3c+_0x194bd8,'colIndex':0x0};});_0x4ddc15['sort']((_0x5d9412,_0x34819a)=>{const _0x30c9a5=_0x163484;if(_0x5d9412['start']!==_0x34819a['start'])return _0x5d9412[_0x30c9a5(0x272)]-_0x34819a[_0x30c9a5(0x272)];return _0x34819a[_0x30c9a5(0x1d4)]-_0x34819a[_0x30c9a5(0x272)]-(_0x5d9412[_0x30c9a5(0x1d4)]-_0x5d9412[_0x30c9a5(0x272)]);});const _0x25bfc5=[];_0x4ddc15['forEach'](_0x282bc6=>{const _0x34ed0b=_0x163484;let _0x7795fb=![];for(let _0x3c0d0=0x0;_0x3c0d0<_0x25bfc5['length'];_0x3c0d0++){const _0x2b5bab=_0x25bfc5[_0x3c0d0],_0x43e7c5=_0x2b5bab[_0x2b5bab[_0x34ed0b(0x14b)]-0x1];if(_0x282bc6[_0x34ed0b(0x272)]>=_0x43e7c5['end']){_0x2b5bab[_0x34ed0b(0x26e)](_0x282bc6),_0x282bc6[_0x34ed0b(0x249)]=_0x3c0d0,_0x7795fb=!![];break;}}!_0x7795fb&&(_0x25bfc5['push']([_0x282bc6]),_0x282bc6[_0x34ed0b(0x249)]=_0x25bfc5[_0x34ed0b(0x14b)]-0x1);}),_0x4ddc15['forEach'](_0x53be1c=>{const _0x3db1e0=_0x163484;let _0x1845fa=0x0;_0x4ddc15[_0x3db1e0(0x265)](_0x4e1e07=>{const _0xf27257=_0x3db1e0;if(Math[_0xf27257(0x258)](_0x53be1c[_0xf27257(0x272)],_0x4e1e07[_0xf27257(0x272)])<Math[_0xf27257(0x1ff)](_0x53be1c[_0xf27257(0x1d4)],_0x4e1e07['end'])){if(_0x4e1e07[_0xf27257(0x249)]>_0x1845fa)_0x1845fa=_0x4e1e07[_0xf27257(0x249)];}});const _0x1c5dd9=_0x1845fa+0x1,_0x1c2b6e=0x64/_0x1c5dd9,_0x114a98=_0x53be1c[_0x3db1e0(0x249)]*_0x1c2b6e,_0x58fdf0=createEventEl(_0x53be1c[_0x3db1e0(0x24d)]);_0x58fdf0[_0x3db1e0(0x291)]['width']=_0x3db1e0(0x230)+_0x1c2b6e+_0x3db1e0(0x1e7),_0x58fdf0['style'][_0x3db1e0(0x1a0)]=_0x3db1e0(0x230)+_0x114a98+_0x3db1e0(0x292),_0x58fdf0[_0x3db1e0(0x291)]['zIndex']=0xa+_0x53be1c[_0x3db1e0(0x249)],_0x1c2b6e<0x55&&_0x58fdf0[_0x3db1e0(0x18c)][_0x3db1e0(0x1cc)]('mini'),_0x2b1fab[_0x3db1e0(0x26f)](_0x58fdf0);});}function createEventEl(_0x567a62){const _0x9ddb24=a2_0x11bd8c,[_0x25ab92,_0x551259]=_0x567a62[_0x9ddb24(0x272)][_0x9ddb24(0x232)](':')[_0x9ddb24(0x1fc)](Number),[_0x8f0a9e,_0x4104da]=_0x567a62[_0x9ddb24(0x1d4)]['split'](':')[_0x9ddb24(0x1fc)](Number),_0x1f7ef1=(_0x25ab92*0x3c+_0x551259)/0x3c*GRID_H,_0x264f98=(_0x8f0a9e*0x3c+_0x4104da-(_0x25ab92*0x3c+_0x551259))/0x3c*GRID_H,_0x2b2983=document[_0x9ddb24(0x1b8)]('div'),_0x391e82=_0x567a62[_0x9ddb24(0x262)]===_0x9ddb24(0x15f)?'\x20status-completed':'';_0x2b2983['className']=_0x9ddb24(0x1ea)+_0x391e82,_0x2b2983['style'][_0x9ddb24(0x1b6)]=_0x1f7ef1+'px',_0x2b2983[_0x9ddb24(0x291)]['height']=Math[_0x9ddb24(0x258)](_0x264f98,0x14)+'px';const _0x241d8f=clients[_0x9ddb24(0x2a1)](_0x5b8bcb=>_0x567a62[_0x9ddb24(0x25d)]&&String(_0x5b8bcb['id'])===String(_0x567a62[_0x9ddb24(0x25d)])||_0x5b8bcb['name']===_0x567a62[_0x9ddb24(0x1eb)]),_0x5b274f=_0x241d8f?_0x241d8f['color']:_0x9ddb24(0x27d);_0x2b2983[_0x9ddb24(0x291)][_0x9ddb24(0x13d)]=_0x5b274f,_0x2b2983['style'][_0x9ddb24(0x1b5)]=hexToRgba(_0x5b274f,0.85);let _0x2690b8=_0x9ddb24(0x20f)+_0x567a62['client']+_0x9ddb24(0x133)+_0x567a62[_0x9ddb24(0x272)]+_0x9ddb24(0x144)+_0x567a62[_0x9ddb24(0x1d4)]+_0x9ddb24(0x275);return _0x567a62[_0x9ddb24(0x1ca)]&&(_0x2690b8+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x567a62[_0x9ddb24(0x262)]===_0x9ddb24(0x15f)&&(_0x2690b8+=_0x9ddb24(0x214)),_0x2b2983[_0x9ddb24(0x25e)]=_0x2690b8,_0x2b2983[_0x9ddb24(0x1c4)]=_0xd6c837=>{const _0x151ca2=_0x9ddb24;_0xd6c837[_0x151ca2(0x1dc)](),openEdit(_0x567a62);},_0x2b2983;}function attachLongPressHandler(_0x4d8871,_0x5f1b86){const _0x520667=a2_0x11bd8c;let _0x5bdf75=0x0,_0x5a7292=null;const _0x16779a=_0x4e2a01=>{const _0x5c7c64=a2_0x1d20;if(_0x4e2a01[_0x5c7c64(0x273)]['closest'](_0x5c7c64(0x268)))return;isScrolling=![],_0x5bdf75=_0x4e2a01[_0x5c7c64(0x239)]?_0x4e2a01[_0x5c7c64(0x239)][0x0][_0x5c7c64(0x24b)]:_0x4e2a01[_0x5c7c64(0x24b)],_0x5a7292=setTimeout(()=>{const _0x1c7937=_0x5c7c64;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x3754b4=_0x4d8871[_0x1c7937(0x1ce)](),_0x1bb9cf=Math[_0x1c7937(0x286)]((_0x5bdf75-_0x3754b4[_0x1c7937(0x1b6)])/GRID_H);_0x5f1b86[_0x1c7937(0x289)](_0x1bb9cf,0x0),openAddSession(_0x5f1b86);}},0x1f4);},_0x3c7e61=()=>{isScrolling=!![],clearTimeout(_0x5a7292);},_0x5e24e9=()=>{clearTimeout(_0x5a7292);};_0x4d8871[_0x520667(0x142)]('touchstart',_0x16779a,{'passive':!![]}),_0x4d8871[_0x520667(0x142)]('touchmove',_0x3c7e61,{'passive':!![]}),_0x4d8871[_0x520667(0x142)](_0x520667(0x211),_0x5e24e9),_0x4d8871[_0x520667(0x142)](_0x520667(0x166),_0x16779a),_0x4d8871['addEventListener']('mousemove',_0x3c7e61),_0x4d8871[_0x520667(0x142)](_0x520667(0x29b),_0x5e24e9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x346645=a2_0x11bd8c,_0x986d3a=document[_0x346645(0x193)](_0x346645(0x22f)),_0x4c0965=_0x986d3a[_0x346645(0x264)],_0x2ded33=_0x986d3a['scrollWidth'],_0x1ad5bd=_0x986d3a[_0x346645(0x23d)];if(_0x2ded33-(_0x4c0965+_0x1ad5bd)<0x12c){const _0x15bfb0=endOffset;endOffset+=0xe,renderDayRange(_0x15bfb0+0x1,endOffset),reRenderBlocks();}if(_0x4c0965<0x12c){const _0x4cc46d=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4cc46d-0x1),_0x986d3a['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1ae1b1,_0x502f06){const _0x2463a8=a2_0x11bd8c,_0x21a0e3=document[_0x2463a8(0x193)]('daysHeaderTrack'),_0x1b9143=document[_0x2463a8(0x193)](_0x2463a8(0x241)),_0x1df4ad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c9452=new Date();_0x4c9452[_0x2463a8(0x289)](0x0,0x0,0x0,0x0);const _0xd06ff7=getLocalDateStr(new Date()),_0x146acf=document['createDocumentFragment'](),_0x97a798=document[_0x2463a8(0x168)]();for(let _0x35e99c=_0x1ae1b1;_0x35e99c<=_0x502f06;_0x35e99c++){const _0x19a76a=new Date(_0x4c9452);_0x19a76a[_0x2463a8(0x1a8)](_0x19a76a[_0x2463a8(0x1a7)]()+_0x35e99c);const _0x4e0ac=getLocalDateStr(_0x19a76a);let _0x39812b=_0x19a76a['getDay']()-0x1;if(_0x39812b===-0x1)_0x39812b=0x6;const _0x1399b6=_0x4e0ac===_0xd06ff7,_0x433214=document[_0x2463a8(0x1b8)](_0x2463a8(0x246));_0x433214[_0x2463a8(0x154)]=_0x2463a8(0x237)+(_0x1399b6?_0x2463a8(0x26a):''),_0x433214['id']='header-'+_0x4e0ac,_0x433214[_0x2463a8(0x153)](_0x2463a8(0x216),_0x4e0ac),_0x433214['innerHTML']=_0x2463a8(0x16c)+_0x1df4ad[_0x39812b]+'</div><div\x20class=\x22dch-num\x22>'+_0x19a76a['getDate']()+_0x2463a8(0x148)+_0x4e0ac+_0x2463a8(0x14f),_0x433214['onclick']=()=>openDayOptions(_0x4e0ac,_0x1df4ad[_0x39812b]+'\x20'+_0x19a76a[_0x2463a8(0x1a7)]()),_0x146acf[_0x2463a8(0x26f)](_0x433214);const _0x4fc2dc=document[_0x2463a8(0x1b8)]('div');_0x4fc2dc[_0x2463a8(0x154)]=_0x2463a8(0x1e4)+(_0x1399b6?_0x2463a8(0x26a):''),_0x4fc2dc['setAttribute'](_0x2463a8(0x216),_0x4e0ac),_0x4fc2dc[_0x2463a8(0x153)](_0x2463a8(0x266),_0x39812b),renderEventsForColumn(_0x4fc2dc,_0x4e0ac,_0x39812b),attachLongPressHandler(_0x4fc2dc,_0x19a76a),_0x97a798['appendChild'](_0x4fc2dc),updateDayStats(_0x4e0ac);}_0x21a0e3[_0x2463a8(0x1e5)](_0x146acf,_0x21a0e3[_0x2463a8(0x1e2)]),_0x1b9143['insertBefore'](_0x97a798,_0x1b9143[_0x2463a8(0x1cf)](_0x2463a8(0x197)));}function validateAppointment(_0x3a2027,_0x4f16ab,_0xc31c47,_0x11e1e7,_0x3b2cac){const _0xbfe36d=a2_0x11bd8c,[_0x41d7ed,_0x108f54]=_0x4f16ab[_0xbfe36d(0x232)](':')[_0xbfe36d(0x1fc)](Number),[_0x46f638,_0x304de6]=_0xc31c47['split'](':')[_0xbfe36d(0x1fc)](Number),_0x5380f7=_0x41d7ed*0x3c+_0x108f54,_0xb025d3=_0x46f638*0x3c+_0x304de6,_0x5e3939=String(_0x3b2cac);let _0x13ff45=![],_0x169e72='';for(let _0x4c8c41 of sessions){if(_0x4c8c41['dateStr']!==_0x3a2027)continue;if(_0x4c8c41[_0xbfe36d(0x262)]===_0xbfe36d(0x15d))continue;if(_0x11e1e7&&String(_0x4c8c41['id'])===String(_0x11e1e7))continue;const [_0x2b1a8f,_0x213ed1]=_0x4c8c41[_0xbfe36d(0x272)]['split'](':')['map'](Number),[_0x35a251,_0x2aa628]=_0x4c8c41[_0xbfe36d(0x1d4)][_0xbfe36d(0x232)](':')[_0xbfe36d(0x1fc)](Number),_0x31b12f=_0x2b1a8f*0x3c+_0x213ed1,_0x448f56=_0x35a251*0x3c+_0x2aa628;if(Math[_0xbfe36d(0x258)](_0x5380f7,_0x31b12f)<Math[_0xbfe36d(0x1ff)](_0xb025d3,_0x448f56)){if(_0x4c8c41[_0xbfe36d(0x25d)]&&String(_0x4c8c41[_0xbfe36d(0x25d)])===_0x5e3939)return{'valid':![],'msg':_0xbfe36d(0x189)+_0x4c8c41[_0xbfe36d(0x1eb)]+_0xbfe36d(0x29c)};_0x13ff45=!![],_0x169e72=_0x4c8c41[_0xbfe36d(0x1eb)];}}if(_0x13ff45)return{'valid':!![],'warning':_0xbfe36d(0x164)+_0x169e72};return{'valid':!![]};}function updateDateDisplay(){const _0xe69c2=a2_0x11bd8c,_0x11af7e=document[_0xe69c2(0x193)](_0xe69c2(0x21f))[_0xe69c2(0x248)],_0x4b37dd=document[_0xe69c2(0x193)](_0xe69c2(0x1f0));if(!_0x11af7e){_0x4b37dd['textContent']='';return;}const [_0x55c16b,_0x3947df,_0x5c31ba]=_0x11af7e[_0xe69c2(0x232)]('-')[_0xe69c2(0x1fc)](Number),_0x1f47f8=new Date(_0x55c16b,_0x3947df-0x1,_0x5c31ba),_0x50ff40={'weekday':_0xe69c2(0x250),'day':_0xe69c2(0x285),'month':_0xe69c2(0x250),'year':_0xe69c2(0x285)};let _0x47e5c1=_0x1f47f8[_0xe69c2(0x254)](_0xe69c2(0x1f4),_0x50ff40);_0x47e5c1=_0x47e5c1[_0xe69c2(0x252)](0x0)['toUpperCase']()+_0x47e5c1[_0xe69c2(0x218)](0x1),_0x4b37dd['textContent']=_0x47e5c1;}function autoSetEndTime(){const _0x24ce02=a2_0x11bd8c,_0x2473f1=document[_0x24ce02(0x193)](_0x24ce02(0x175))['value'];if(!_0x2473f1)return;const [_0x2acc55,_0x15239d]=_0x2473f1[_0x24ce02(0x232)](':')[_0x24ce02(0x1fc)](Number);let _0x5b198c=_0x2acc55+0x1;if(_0x5b198c>0x17)_0x5b198c=0x0;const _0x3c6c5c=String(_0x5b198c)[_0x24ce02(0x274)](0x2,'0')+':'+String(_0x15239d)['padStart'](0x2,'0');document[_0x24ce02(0x193)](_0x24ce02(0x1fe))[_0x24ce02(0x248)]=_0x3c6c5c;}function populateClientSelect(){const _0x1eac22=a2_0x11bd8c,_0x2bfc94=document[_0x1eac22(0x193)](_0x1eac22(0x1e6));_0x2bfc94[_0x1eac22(0x25e)]='';if(clients[_0x1eac22(0x14b)]===0x0){const _0x4b02d2=document[_0x1eac22(0x1b8)]('option');_0x4b02d2['text']=_0x1eac22(0x260),_0x2bfc94[_0x1eac22(0x26f)](_0x4b02d2);return;}clients['forEach'](_0x4d664a=>{const _0x500503=_0x1eac22,_0x9c169d=document[_0x500503(0x1b8)]('option');_0x9c169d['value']=_0x4d664a[_0x500503(0x284)],_0x9c169d[_0x500503(0x158)]=_0x4d664a[_0x500503(0x284)],_0x2bfc94[_0x500503(0x26f)](_0x9c169d);});}function openActionSheet(_0x4ce6ed){const _0x4324e3=a2_0x11bd8c,_0x25f910=document[_0x4324e3(0x193)]('actionSheet'),_0x3a32f4=document[_0x4324e3(0x193)](_0x4324e3(0x182)),_0x43ae2f=document[_0x4324e3(0x193)](_0x4324e3(0x27c)),_0x2fd117=document[_0x4324e3(0x193)](_0x4324e3(0x297)),_0x39d340=document[_0x4324e3(0x193)]('asBtnSeries');_0x3a32f4[_0x4324e3(0x18c)][_0x4324e3(0x1cc)]('active'),_0x25f910[_0x4324e3(0x18c)][_0x4324e3(0x1cc)](_0x4324e3(0x277));if(_0x4ce6ed===_0x4324e3(0x202))_0x43ae2f[_0x4324e3(0x158)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x2fd117[_0x4324e3(0x158)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2fd117[_0x4324e3(0x1c4)]=()=>{const _0x5e6b11=_0x4324e3;closeActionSheet(),updateSeriesBatch(_0x5e6b11(0x199),tempSessionData);},_0x39d340['textContent']=_0x4324e3(0x180),_0x39d340[_0x4324e3(0x1c4)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x4ce6ed===_0x4324e3(0x1ae)&&(_0x43ae2f['textContent']=_0x4324e3(0x245),_0x2fd117[_0x4324e3(0x158)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2fd117[_0x4324e3(0x154)]='as-button\x20danger',_0x2fd117[_0x4324e3(0x1c4)]=()=>{const _0x369df4=_0x4324e3;closeActionSheet(),commitDelete('single',sessions[_0x369df4(0x2a1)](_0x39ce7b=>_0x39ce7b['id']===editingId));},_0x39d340[_0x4324e3(0x158)]=_0x4324e3(0x180),_0x39d340[_0x4324e3(0x154)]=_0x4324e3(0x147),_0x39d340[_0x4324e3(0x1c4)]=()=>{const _0x5b97bf=_0x4324e3;closeActionSheet(),commitDelete(_0x5b97bf(0x1be),sessions[_0x5b97bf(0x2a1)](_0x33868e=>_0x33868e['id']===editingId));});}function closeActionSheet(){const _0x5bdeeb=a2_0x11bd8c;document['getElementById']('actionSheet')[_0x5bdeeb(0x18c)][_0x5bdeeb(0x24a)](_0x5bdeeb(0x277)),document[_0x5bdeeb(0x193)](_0x5bdeeb(0x182))[_0x5bdeeb(0x18c)]['remove'](_0x5bdeeb(0x212));}function openSettings(){const _0x35a8c9=a2_0x11bd8c;openSheet(_0x35a8c9(0x1f5));}function saveCoachSettings(){const _0x180c7c=a2_0x11bd8c,_0x24a958=document[_0x180c7c(0x193)](_0x180c7c(0x161))['value'];localStorage[_0x180c7c(0x243)](_0x180c7c(0x209),_0x24a958),console[_0x180c7c(0x15a)](_0x180c7c(0x1d9),_0x24a958),DataManager[_0x180c7c(0x226)](_0x180c7c(0x27e),{'settings':{'cancel_window':_0x24a958}})[_0x180c7c(0x231)](_0x287922=>{const _0x55e92e=_0x180c7c;console[_0x55e92e(0x205)](_0x55e92e(0x247),_0x287922),showToast(_0x55e92e(0x229),![]);});}function loadCoachSettings(){const _0x2b6d15=a2_0x11bd8c,_0x2e6e12=localStorage[_0x2b6d15(0x1e3)](_0x2b6d15(0x209));_0x2e6e12&&(document[_0x2b6d15(0x193)]('settingCancelWindow')[_0x2b6d15(0x248)]=_0x2e6e12);}function openRangesSheet(){const _0x39970e=a2_0x11bd8c;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x39970e(0x27b));}function addRange(){const _0x12b91a=a2_0x11bd8c,_0x285972=document[_0x12b91a(0x193)](_0x12b91a(0x14e))[_0x12b91a(0x248)],_0x6a01b6=document[_0x12b91a(0x193)](_0x12b91a(0x280))[_0x12b91a(0x248)],_0x21104d=document[_0x12b91a(0x193)]('rangeEndDate')[_0x12b91a(0x248)],_0x492b6d=document[_0x12b91a(0x193)]('rangeEndTime')[_0x12b91a(0x248)];if(!_0x285972||!_0x6a01b6||!_0x21104d||!_0x492b6d)return alert(_0x12b91a(0x282));const _0x1d640f=_0x285972+'T'+_0x6a01b6,_0xe93f50=_0x21104d+'T'+_0x492b6d;if(_0x1d640f>=_0xe93f50)return alert(_0x12b91a(0x28a));specialRanges['push']({'start':_0x1d640f,'end':_0xe93f50}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x12b91a(0x226)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x49ea60){const _0x46848f=a2_0x11bd8c;specialRanges[_0x46848f(0x190)](_0x49ea60,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x46848f(0x23c)](),DataManager[_0x46848f(0x226)](_0x46848f(0x27e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x527745=a2_0x11bd8c;document[_0x527745(0x193)](_0x527745(0x14e))[_0x527745(0x248)]='',document[_0x527745(0x193)](_0x527745(0x280))[_0x527745(0x248)]=_0x527745(0x2a3),document[_0x527745(0x193)](_0x527745(0x18b))['value']='',document['getElementById']('rangeEndTime')[_0x527745(0x248)]=_0x527745(0x160);}function renderRangesList(){const _0x4c0ec2=a2_0x11bd8c,_0x10cc13=document[_0x4c0ec2(0x193)]('rangesList');_0x10cc13['innerHTML']='';if(!specialRanges['length']){_0x10cc13[_0x4c0ec2(0x25e)]=_0x4c0ec2(0x1a6);return;}specialRanges[_0x4c0ec2(0x265)]((_0x1d87dc,_0x5caf3d)=>{const _0x147db3=_0x4c0ec2,_0xa3b29b=document[_0x147db3(0x1b8)](_0x147db3(0x246));_0xa3b29b['className']=_0x147db3(0x22e);const _0x45de09=_0x562e43=>{const _0x1a6b2c=_0x147db3,_0x43c137=new Date(_0x562e43);return _0x43c137[_0x1a6b2c(0x1a7)]()+'.'+String(_0x43c137[_0x1a6b2c(0x1d8)]()+0x1)[_0x1a6b2c(0x274)](0x2,'0')+'\x20'+String(_0x43c137[_0x1a6b2c(0x1bf)]())[_0x1a6b2c(0x274)](0x2,'0')+':'+String(_0x43c137['getMinutes']())['padStart'](0x2,'0');};_0xa3b29b[_0x147db3(0x25e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x45de09(_0x1d87dc[_0x147db3(0x272)])+_0x147db3(0x1ef)+_0x45de09(_0x1d87dc['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5caf3d+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x10cc13['appendChild'](_0xa3b29b);});}function scrollToToday(){const _0x1f38f7=a2_0x11bd8c,_0x29c931=getLocalDateStr(new Date()),_0xb88eb=document[_0x1f38f7(0x193)](_0x1f38f7(0x1d2)+_0x29c931),_0x59cd14=document[_0x1f38f7(0x193)](_0x1f38f7(0x22f));if(_0xb88eb&&_0x59cd14){const _0x2d9801=_0x59cd14[_0x1f38f7(0x23d)],_0x1f0c59=_0xb88eb[_0x1f38f7(0x28f)],_0x477a7a=_0xb88eb['offsetWidth'];_0x59cd14[_0x1f38f7(0x264)]=_0x1f0c59-_0x2d9801/0x2+_0x477a7a/0x2,_0x59cd14[_0x1f38f7(0x1b7)]=0x9*GRID_H;}}function onScroll(){const _0x29a95b=a2_0x11bd8c,_0x4be0af=document[_0x29a95b(0x193)](_0x29a95b(0x22f)),_0x43a181=document[_0x29a95b(0x16d)](_0x29a95b(0x227));for(let _0xe456f9 of _0x43a181)if(_0xe456f9[_0x29a95b(0x28f)]>=_0x4be0af[_0x29a95b(0x264)]){const _0xefde9d=new Date(_0xe456f9[_0x29a95b(0x21a)](_0x29a95b(0x216)));document['getElementById'](_0x29a95b(0x1c1))[_0x29a95b(0x158)]=_0xefde9d[_0x29a95b(0x1e8)]('ru',{'month':'long'})[_0x29a95b(0x220)]()+'\x20'+_0xefde9d[_0x29a95b(0x281)]();break;}}function showToast(_0xdef93,_0x254ef0=![]){const _0x144946=a2_0x11bd8c,_0x1b3deb=document[_0x144946(0x193)](_0x144946(0x240));_0x1b3deb[_0x144946(0x154)]=_0x144946(0x1a4)+(_0x254ef0?'success':''),document['getElementById'](_0x144946(0x134))['textContent']=_0x254ef0?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x144946(0x193)]('toastMessage')[_0x144946(0x158)]=_0xdef93,_0x1b3deb[_0x144946(0x18c)][_0x144946(0x1cc)](_0x144946(0x171)),setTimeout(()=>{const _0x123bf9=_0x144946;_0x1b3deb[_0x123bf9(0x18c)][_0x123bf9(0x24a)](_0x123bf9(0x171));},0xbb8);}function openDayOptions(_0x5b49a3,_0x29a785){const _0x364d48=a2_0x11bd8c;selectedDayForOptions=_0x5b49a3,document[_0x364d48(0x193)]('dayOptionsTitle')['textContent']=_0x29a785,openSheet(_0x364d48(0x24f));}function toggleDayOff(){const _0x5df831=a2_0x11bd8c;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5df831(0x29d),reRenderBlocks(),closeAllSheets(),DataManager[_0x5df831(0x23c)](),DataManager[_0x5df831(0x226)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1e7365=a2_0x11bd8c;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1e7365(0x23c)](),DataManager['fetchFromServer'](_0x1e7365(0x27e),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4d5150){const _0x325d99=a2_0x11bd8c;document[_0x325d99(0x193)](_0x325d99(0x150))[_0x325d99(0x18c)][_0x325d99(0x1cc)](_0x325d99(0x212)),document[_0x325d99(0x193)](_0x4d5150)[_0x325d99(0x18c)]['add'](_0x325d99(0x277));}function a2_0x4346(){const _0xbfecdc=['–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','warn','backgroundPosition','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actionSheetOverlay','week',':00','WebApp','isArray','624860iyLlZm','valid','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','from','rangeEndDate','classList','T23:59:59','warning','btn-primary\x20btn-secondary','splice','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','then','getElementById','analyticsSheet','uc_sessions_v9','anEnd','.day-column','Telegram','single','</b>\x0a\x0a','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','Batch\x20Sync\x20OK','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','pe-col-header','toString','left','sort','setHeaderColor','getText','toast-notification\x20','inpRecurring','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getDate','setDate','.sheet','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','inpNote','doBusyHours','88984mrtcWS','delete','btn-status-toggle\x20undo-mode','mergeServerData','total','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sid','backgroundColor','top','scrollTop','createElement','var(--acc-orange)','patternEditor','strokeDashoffset','px\x200px','btnDelete','series','getHours','2uHwsRw','headerMonth','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','pe-cell\x20','onclick','btn-status-toggle','.day-off-overlay','3020964loWNtt','ranges','disableVerticalSwipes','seriesId','update','add','pattern','getBoundingClientRect','querySelector','376pQgGKd','month','header-','constructor','end','Critical\x20TMA\x20Error:','9iykQuZ','flex','getMonth','[Settings]\x20Cancel\x20window\x20set\x20to:','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','time-label','stopPropagation','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toFixed','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','seriesCountContainer','firstChild','getItem','day-column\x20','insertBefore','inpClient','%\x20-\x204px)','toLocaleString','var(--acc-red)','event-card','client','v9.0-BATCH-CALENDAR','exceptions','.pib-text','\x20‚Äî\x20','sheetDateSubtitle','complete','pe-time-label','anCustomDates','ru-RU','settingsSheet','planned','sessionSheet','T00:00:00','clients','10px','uc_settings_v9','map','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','inpEnd','min','<span>',':00</span>','save','6Fvdnws','parse','error','sheetTitle','btnDayToggle','var(--acc-green)','uc_settings_cancel_window','day-off-overlay\x20stripe-bg','indexOf','rgba(255,\x2069,\x2058,\x200.3)','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','cancel_window','<div\x20class=\x22ev-title\x22>','patternInfoBox','touchend','active','checked','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','data-date','\x20–∏–∑\x20','slice','custom','getAttribute','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getTime','null','inpDate','toUpperCase','height','entries','user','Local\x20Save\x20Error','text/plain;charset=UTF-8','fetchFromServer','.day-col-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','[Notify]\x20Server\x20Response:','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','timeColumn','range-item','matrixViewport','calc(','catch','split',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','all','anTotalStats','BackButton','day-col-header\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','touches','init_load','findIndex','saveLocally','clientWidth','send','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','toast','gridColumns','daysHeaderTrack','setItem','now','–£–¥–∞–ª–µ–Ω–∏–µ','div','Save\x20settings\x20error:','value','colIndex','remove','clientY','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','data','blocked-range-part\x20stripe-bg','dayOptionsSheet','long','Local\x20Load\x20Error','charAt','setMonth','toLocaleDateString','blocked-slot\x20stripe-bg','filter','syncBatch','max','anPercent','timeLineBadge','width','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','clientId','innerHTML','[API\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','round','status','getDay','scrollLeft','forEach','data-day-idx','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','.event-card','var(--acc-current)','today','block','542227fcvuTP','rgba(255,\x20159,\x2010,\x200.3)','push','appendChild','(((.+)+)+)+$','client-stat-card','start','target','padStart','</div>','rgba(','open','background','Server\x20Error','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','rangesSheet','asTitle','#0a84ff','save_settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','rangeStartTime','getFullYear','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','create','name','numeric','floor','note','random','setHours','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','calendar','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','offsetLeft','anStart','style','%\x20+\x202px)','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','search','.period-switch\x20.p-btn','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','asBtnOne','1704249Jxkqig','includes','done','mouseup',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','off','[Notify]\x20Attempting\x20to\x20send:','btn-primary\x20btn-danger','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','find','stat-','00:00','[Series]\x20Skipped\x20','px\x20-','doEventsList','inpSeriesCount','</div><div\x20class=\x22ev-time\x22>','toastTitle','offClick','dateStr','Error\x20setting\x20back\x20button:','13773030DByKMo','pe-corner','borderColor','href','recurringOptionContainer','borderLeftColor','msg','stringify','cancel','...','addEventListener','settings','\x20-\x20','syncLoad','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','as-button\x20danger\x20bold','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','doDateHeader','rgba(255,255,255,0.05)','length','[Notify]\x20Error:\x20sessionData\x20is\x20null','color','rangeStartDate','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','overlay',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','setAttribute','className','[Notify]\x20Network\x20Failed','substr','#fff','textContent','doWorkHours','log','setBackgroundColor','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','cancelled','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','completed','23:59','settingCancelWindow','deleted','#050505','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','display','mousedown','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','createDocumentFragment','statLoadCard','location','Unknown','<div\x20class=\x22dch-day\x22>','querySelectorAll','btnStatusToggle','rgba(48,\x20209,\x2088,\x200.15)','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','show','scroll','peGrid','rgba(100,100,100,0.5)','inpStart','initData','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','send_notification','18326946cpFoVp','startsWith','100%','none'];a2_0x4346=function(){return _0xbfecdc;};return a2_0x4346();}function closeAllSheets(){const _0x75c769=a2_0x11bd8c;document[_0x75c769(0x193)](_0x75c769(0x150))[_0x75c769(0x18c)][_0x75c769(0x24a)](_0x75c769(0x212)),document[_0x75c769(0x16d)](_0x75c769(0x1a9))['forEach'](_0x31991c=>_0x31991c[_0x75c769(0x18c)]['remove'](_0x75c769(0x277)));}function openPatternEditor(){const _0x25fb28=a2_0x11bd8c;closeAllSheets(),document[_0x25fb28(0x193)](_0x25fb28(0x1ba))['classList'][_0x25fb28(0x1cc)](_0x25fb28(0x277)),renderPatternEditor();}function closePatternEditor(){const _0x4fa2a7=a2_0x11bd8c;document[_0x4fa2a7(0x193)]('patternEditor')[_0x4fa2a7(0x18c)][_0x4fa2a7(0x24a)](_0x4fa2a7(0x277));}function savePattern(){const _0x125a57=a2_0x11bd8c;document[_0x125a57(0x193)](_0x125a57(0x1ba))[_0x125a57(0x18c)]['remove'](_0x125a57(0x277)),reRenderBlocks(),DataManager[_0x125a57(0x23c)](),DataManager['fetchFromServer'](_0x125a57(0x27e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x24cc3c=a2_0x11bd8c,_0x1c9328=document['getElementById'](_0x24cc3c(0x173));_0x1c9328['innerHTML']='';const _0x4bd6a6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x325722=document[_0x24cc3c(0x1b8)](_0x24cc3c(0x246));_0x325722[_0x24cc3c(0x154)]=_0x24cc3c(0x139),_0x1c9328[_0x24cc3c(0x26f)](_0x325722),_0x4bd6a6['forEach']((_0x579602,_0xd59fab)=>{const _0x3d2d8b=_0x24cc3c,_0xdd86b1=document['createElement'](_0x3d2d8b(0x246));_0xdd86b1[_0x3d2d8b(0x154)]=_0x3d2d8b(0x19e),_0xdd86b1[_0x3d2d8b(0x25e)]=_0x579602+_0x3d2d8b(0x1fd),_0xdd86b1['onclick']=()=>toggleColPattern(_0xd59fab),_0x1c9328[_0x3d2d8b(0x26f)](_0xdd86b1);});for(let _0xd2b5c3=0x0;_0xd2b5c3<0x18;_0xd2b5c3++){const _0x2ebb2e=document['createElement'](_0x24cc3c(0x246));_0x2ebb2e['className']=_0x24cc3c(0x1f2),_0x2ebb2e[_0x24cc3c(0x25e)]=_0x24cc3c(0x296)+String(_0xd2b5c3)[_0x24cc3c(0x274)](0x2,'0')+':00',_0x2ebb2e['onclick']=()=>toggleRowPattern(_0xd2b5c3),_0x1c9328[_0x24cc3c(0x26f)](_0x2ebb2e);for(let _0x534356=0x0;_0x534356<0x7;_0x534356++){const _0x62f2d6=document[_0x24cc3c(0x1b8)](_0x24cc3c(0x246)),_0x52f787=(availabilityPattern[_0x534356]||[])['includes'](_0xd2b5c3),_0x112a35=!_0x52f787;_0x62f2d6['className']=_0x24cc3c(0x1c3)+(_0x112a35?'active':''),_0x62f2d6[_0x24cc3c(0x1c4)]=()=>toggleSinglePattern(_0x534356,_0xd2b5c3),_0x1c9328[_0x24cc3c(0x26f)](_0x62f2d6);}}}function toggleSinglePattern(_0x57648d,_0x319e71){const _0x25e51d=a2_0x11bd8c;if(!availabilityPattern[_0x57648d])availabilityPattern[_0x57648d]=[];const _0x1fcb8a=availabilityPattern[_0x57648d],_0x28c21d=_0x1fcb8a[_0x25e51d(0x20b)](_0x319e71);_0x28c21d===-0x1?_0x1fcb8a[_0x25e51d(0x26e)](_0x319e71):_0x1fcb8a[_0x25e51d(0x190)](_0x28c21d,0x1),renderPatternEditor();}function toggleColPattern(_0x4014d7){const _0x9d7c23=a2_0x11bd8c;if(!availabilityPattern[_0x4014d7])availabilityPattern[_0x4014d7]=[];const _0x231ba5=availabilityPattern[_0x4014d7];_0x231ba5[_0x9d7c23(0x14b)]===0x0?availabilityPattern[_0x4014d7]=Array[_0x9d7c23(0x18a)]({'length':0x18},(_0x1e6ac9,_0x8bcf8)=>_0x8bcf8):availabilityPattern[_0x4014d7]=[],renderPatternEditor();}function toggleRowPattern(_0x5efabb){const _0x314bae=a2_0x11bd8c;let _0x7fb55b=!![];for(let _0x2e6c92=0x0;_0x2e6c92<0x7;_0x2e6c92++){if((availabilityPattern[_0x2e6c92]||[])[_0x314bae(0x299)](_0x5efabb)){_0x7fb55b=![];break;}}for(let _0x4f6511=0x0;_0x4f6511<0x7;_0x4f6511++){if(!availabilityPattern[_0x4f6511])availabilityPattern[_0x4f6511]=[];const _0x5df8a2=availabilityPattern[_0x4f6511][_0x314bae(0x20b)](_0x5efabb);if(_0x7fb55b){if(_0x5df8a2===-0x1)availabilityPattern[_0x4f6511][_0x314bae(0x26e)](_0x5efabb);}else{if(_0x5df8a2!==-0x1)availabilityPattern[_0x4f6511][_0x314bae(0x190)](_0x5df8a2,0x1);}}renderPatternEditor();}function renderPCol(_0x1f9230,_0x5585b5){const _0x5e0f89=a2_0x11bd8c;_0x1f9230[_0x5e0f89(0x25e)]='';const _0x2cde2f=Math[_0x5e0f89(0x261)](_0x1f9230['offsetLeft']);(availabilityPattern[_0x5585b5]||[])[_0x5e0f89(0x265)](_0x455c8a=>{const _0x1d2f1a=_0x5e0f89,_0x917e6b=document[_0x1d2f1a(0x1b8)](_0x1d2f1a(0x246));_0x917e6b[_0x1d2f1a(0x154)]=_0x1d2f1a(0x255);const _0x3c156e=_0x455c8a*GRID_H;_0x917e6b[_0x1d2f1a(0x291)][_0x1d2f1a(0x1b6)]=_0x3c156e+'px',_0x917e6b[_0x1d2f1a(0x291)][_0x1d2f1a(0x17f)]='-'+_0x2cde2f+_0x1d2f1a(0x130)+_0x3c156e+'px',_0x917e6b[_0x1d2f1a(0x1c4)]=_0x24ceaf=>{const _0x293a47=_0x1d2f1a;_0x24ceaf[_0x293a47(0x1dc)](),toggleSinglePattern(_0x5585b5,_0x455c8a);},_0x1f9230[_0x1d2f1a(0x26f)](_0x917e6b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5b38df=a2_0x11bd8c,_0x1c95d6=new Date(),_0x5da4b6=document[_0x5b38df(0x193)]('globalTimeLine'),_0x465e5d=document[_0x5b38df(0x193)](_0x5b38df(0x25a)),_0x17014a=(_0x1c95d6['getHours']()*0x3c+_0x1c95d6['getMinutes']())/0x3c*GRID_H;_0x5da4b6[_0x5b38df(0x291)]['top']=_0x17014a+'px',_0x5da4b6[_0x5b38df(0x291)][_0x5b38df(0x165)]='block',_0x465e5d[_0x5b38df(0x158)]=String(_0x1c95d6[_0x5b38df(0x1bf)]())[_0x5b38df(0x274)](0x2,'0')+':'+String(_0x1c95d6['getMinutes']())[_0x5b38df(0x274)](0x2,'0'),_0x465e5d[_0x5b38df(0x291)][_0x5b38df(0x165)]='block',_0x465e5d['style'][_0x5b38df(0x1b6)]=_0x17014a+'px';}document[a2_0x11bd8c(0x142)]('DOMContentLoaded',init);function openDayOptions(_0x4d83a4){const _0x4da976=a2_0x11bd8c;selectedDayForOptions=_0x4d83a4;const _0x413543=new Date(_0x4d83a4),_0xbb5068={'weekday':_0x4da976(0x250),'day':'numeric','month':_0x4da976(0x250),'year':'numeric'},_0x338a0a=_0x413543[_0x4da976(0x254)](_0x4da976(0x1f4),_0xbb5068);document[_0x4da976(0x193)](_0x4da976(0x149))[_0x4da976(0x158)]=_0x338a0a['charAt'](0x0)[_0x4da976(0x220)]()+_0x338a0a[_0x4da976(0x218)](0x1);let _0x638bd4=_0x413543[_0x4da976(0x263)]()-0x1;if(_0x638bd4===-0x1)_0x638bd4=0x6;const _0x4cb071=availabilityPattern[_0x638bd4]||[],_0x1611e7=0x18-_0x4cb071[_0x4da976(0x14b)],_0x1647bb=_0x1611e7*0x3c,_0x374e16=sessions[_0x4da976(0x256)](_0x2c187d=>_0x2c187d[_0x4da976(0x136)]===_0x4d83a4&&_0x2c187d[_0x4da976(0x262)]!=='cancelled');let _0x20ebb3=_0x374e16[_0x4da976(0x1fc)](_0x31cdef=>{const _0x1acd61=_0x4da976,[_0x437eb4,_0x34f004]=_0x31cdef[_0x1acd61(0x272)][_0x1acd61(0x232)](':')[_0x1acd61(0x1fc)](Number),[_0x880442,_0x10dad9]=_0x31cdef[_0x1acd61(0x1d4)][_0x1acd61(0x232)](':')[_0x1acd61(0x1fc)](Number);return[_0x437eb4*0x3c+_0x34f004,_0x880442*0x3c+_0x10dad9];});_0x20ebb3[_0x4da976(0x1a1)]((_0x197824,_0x5e310c)=>_0x197824[0x0]-_0x5e310c[0x0]);let _0x595461=[];if(_0x20ebb3['length']>0x0){let _0x58e631=_0x20ebb3[0x0];for(let _0x5e3b1d=0x1;_0x5e3b1d<_0x20ebb3[_0x4da976(0x14b)];_0x5e3b1d++){_0x20ebb3[_0x5e3b1d][0x0]<_0x58e631[0x1]?_0x58e631[0x1]=Math[_0x4da976(0x258)](_0x58e631[0x1],_0x20ebb3[_0x5e3b1d][0x1]):(_0x595461[_0x4da976(0x26e)](_0x58e631),_0x58e631=_0x20ebb3[_0x5e3b1d]);}_0x595461[_0x4da976(0x26e)](_0x58e631);}let _0x21f302=0x0;_0x595461['forEach'](_0x320233=>_0x21f302+=_0x320233[0x1]-_0x320233[0x0]),document['getElementById'](_0x4da976(0x159))[_0x4da976(0x158)]=formatMinsToHrs(_0x1647bb),document[_0x4da976(0x193)](_0x4da976(0x1ac))[_0x4da976(0x158)]=formatMinsToHrs(_0x21f302);const _0x5e3fb0=_0x1647bb>0x0?Math['round'](_0x21f302/_0x1647bb*0x64):0x0,_0x1cc40d=document[_0x4da976(0x193)]('doLoadPercent');_0x1cc40d[_0x4da976(0x158)]=_0x5e3fb0+'%';const _0x4253ce=document['getElementById'](_0x4da976(0x169));if(_0x5e3fb0>0x64)_0x1cc40d[_0x4da976(0x291)][_0x4da976(0x14d)]=_0x4da976(0x1e9),_0x4253ce[_0x4da976(0x291)][_0x4da976(0x13a)]=_0x4da976(0x20c);else _0x5e3fb0>0x50?(_0x1cc40d[_0x4da976(0x291)][_0x4da976(0x14d)]=_0x4da976(0x1b9),_0x4253ce[_0x4da976(0x291)][_0x4da976(0x13a)]=_0x4da976(0x26d)):(_0x1cc40d[_0x4da976(0x291)][_0x4da976(0x14d)]=_0x4da976(0x208),_0x4253ce[_0x4da976(0x291)][_0x4da976(0x13a)]=_0x4da976(0x14a));const _0x340f1f=document[_0x4da976(0x193)](_0x4da976(0x131));_0x340f1f[_0x4da976(0x25e)]='';_0x374e16['length']===0x0?_0x340f1f[_0x4da976(0x25e)]=_0x4da976(0x191):(_0x374e16['sort']((_0x2ef8e6,_0x24ae91)=>_0x2ef8e6['start']['localeCompare'](_0x24ae91[_0x4da976(0x272)])),_0x374e16[_0x4da976(0x265)](_0x56d523=>{const _0xa09dc3=_0x4da976,_0x4aee02=clients[_0xa09dc3(0x2a1)](_0x542231=>_0x542231[_0xa09dc3(0x284)]===_0x56d523[_0xa09dc3(0x1eb)]),_0x594768=_0x4aee02?_0x4aee02[_0xa09dc3(0x14d)]:_0xa09dc3(0x157),_0x4cc5c2=_0x56d523[_0xa09dc3(0x262)]===_0xa09dc3(0x15f),_0x163011=_0x4cc5c2?_0xa09dc3(0x167):'',_0x220b0a=document[_0xa09dc3(0x1b8)](_0xa09dc3(0x246));_0x220b0a['className']='de-item',_0x220b0a[_0xa09dc3(0x291)][_0xa09dc3(0x13d)]=_0x594768,_0x220b0a[_0xa09dc3(0x25e)]=_0xa09dc3(0x27f)+_0x56d523[_0xa09dc3(0x272)]+'\x20-\x20'+_0x56d523['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56d523['client']+_0xa09dc3(0x181)+_0x163011+_0xa09dc3(0x1b3),_0x340f1f[_0xa09dc3(0x26f)](_0x220b0a);}));const _0x53fee4=document[_0x4da976(0x193)](_0x4da976(0x207)),_0x60ad10=dateExceptions[_0x4d83a4]===_0x4da976(0x29d);_0x60ad10?(_0x53fee4[_0x4da976(0x158)]=_0x4da976(0x28e),_0x53fee4[_0x4da976(0x154)]=_0x4da976(0x18f),_0x53fee4[_0x4da976(0x291)][_0x4da976(0x14d)]=_0x4da976(0x208),_0x53fee4[_0x4da976(0x291)]['background']=_0x4da976(0x16f)):(_0x53fee4[_0x4da976(0x158)]=_0x4da976(0x15e),_0x53fee4[_0x4da976(0x154)]=_0x4da976(0x29f),_0x53fee4[_0x4da976(0x291)][_0x4da976(0x14d)]=_0x4da976(0x1e9),_0x53fee4[_0x4da976(0x291)][_0x4da976(0x278)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x4da976(0x24f));}let currentAnPeriod=a2_0x11bd8c(0x183);function openAnalytics(){const _0x2acbd6=a2_0x11bd8c,_0x1747bc=document[_0x2acbd6(0x1cf)](_0x2acbd6(0x295));setAnalyticsPeriod(_0x2acbd6(0x183),_0x1747bc),closeAllSheets(),openSheet(_0x2acbd6(0x194));}function setAnalyticsPeriod(_0x2780f5,_0x4f7c9d){const _0x44d06f=a2_0x11bd8c;currentAnPeriod=_0x2780f5,document[_0x44d06f(0x16d)](_0x44d06f(0x295))['forEach'](_0x406450=>_0x406450[_0x44d06f(0x18c)]['remove'](_0x44d06f(0x212)));if(_0x4f7c9d)_0x4f7c9d['classList'][_0x44d06f(0x1cc)](_0x44d06f(0x212));const _0x1f886c=document['getElementById'](_0x44d06f(0x1f3));_0x1f886c[_0x44d06f(0x291)][_0x44d06f(0x165)]=_0x2780f5===_0x44d06f(0x219)?_0x44d06f(0x1d7):_0x44d06f(0x17c);const _0x115b9d=new Date();let _0x2a670f=new Date(),_0x574ffa=new Date();if(_0x2780f5==='week')_0x2a670f=getStartOfWeek(_0x115b9d),_0x574ffa=new Date(_0x2a670f),_0x574ffa[_0x44d06f(0x1a8)](_0x574ffa[_0x44d06f(0x1a7)]()+0x6);else{if(_0x2780f5===_0x44d06f(0x1d1))_0x2a670f=new Date(_0x115b9d[_0x44d06f(0x281)](),_0x115b9d[_0x44d06f(0x1d8)](),0x1),_0x574ffa=new Date(_0x115b9d[_0x44d06f(0x281)](),_0x115b9d[_0x44d06f(0x1d8)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x44d06f(0x248)]&&(document['getElementById'](_0x44d06f(0x290))[_0x44d06f(0x248)]=getLocalDateStr(_0x115b9d),document[_0x44d06f(0x193)](_0x44d06f(0x196))[_0x44d06f(0x248)]=getLocalDateStr(_0x115b9d));refreshAnalytics();return;}}document[_0x44d06f(0x193)](_0x44d06f(0x290))[_0x44d06f(0x248)]=getLocalDateStr(_0x2a670f),document[_0x44d06f(0x193)]('anEnd')[_0x44d06f(0x248)]=getLocalDateStr(_0x574ffa),refreshAnalytics();}function refreshAnalytics(){const _0x4b762d=a2_0x11bd8c,_0x5ccd15=document[_0x4b762d(0x193)](_0x4b762d(0x290))[_0x4b762d(0x248)],_0x82addb=document[_0x4b762d(0x193)]('anEnd')[_0x4b762d(0x248)];if(!_0x5ccd15||!_0x82addb)return;const _0x5e7c22=sessions[_0x4b762d(0x256)](_0x6481e6=>_0x6481e6[_0x4b762d(0x136)]>=_0x5ccd15&&_0x6481e6[_0x4b762d(0x136)]<=_0x82addb&&_0x6481e6[_0x4b762d(0x262)]!==_0x4b762d(0x15d)),_0x49af4b=_0x5e7c22[_0x4b762d(0x14b)],_0x3a6c78=_0x5e7c22[_0x4b762d(0x256)](_0x273a08=>_0x273a08['status']===_0x4b762d(0x15f))[_0x4b762d(0x14b)],_0x2331dd=_0x49af4b>0x0?Math[_0x4b762d(0x261)](_0x3a6c78/_0x49af4b*0x64):0x0;document[_0x4b762d(0x193)](_0x4b762d(0x259))[_0x4b762d(0x158)]=_0x2331dd+'%',document[_0x4b762d(0x193)](_0x4b762d(0x235))[_0x4b762d(0x158)]=_0x3a6c78+_0x4b762d(0x217)+_0x49af4b+_0x4b762d(0x1dd);const _0x311e7d=document[_0x4b762d(0x193)]('anDonutCircle'),_0x99f8dd=0x2*Math['PI']*0x23,_0xb12f88=_0x99f8dd-_0x2331dd/0x64*_0x99f8dd;_0x311e7d[_0x4b762d(0x291)][_0x4b762d(0x1bb)]=_0xb12f88;const _0x25104a={};_0x5e7c22[_0x4b762d(0x265)](_0x28581d=>{const _0x17a508=_0x4b762d;if(!_0x25104a[_0x28581d[_0x17a508(0x1eb)]]){const _0x436bca=clients[_0x17a508(0x2a1)](_0x4c6b36=>_0x4c6b36['name']===_0x28581d[_0x17a508(0x1eb)]);_0x25104a[_0x28581d['client']]={'total':0x0,'done':0x0,'color':_0x436bca?_0x436bca[_0x17a508(0x14d)]:_0x17a508(0x157)};}_0x25104a[_0x28581d['client']][_0x17a508(0x1b1)]++;if(_0x28581d[_0x17a508(0x262)]===_0x17a508(0x15f))_0x25104a[_0x28581d['client']][_0x17a508(0x29a)]++;});const _0x265350=document[_0x4b762d(0x193)]('analyticsList');_0x265350[_0x4b762d(0x25e)]='';const _0x453b5d=Object[_0x4b762d(0x222)](_0x25104a)[_0x4b762d(0x1a1)]((_0x44de26,_0x1924b0)=>_0x1924b0[0x1]['total']-_0x44de26[0x1][_0x4b762d(0x1b1)]);if(_0x453b5d[_0x4b762d(0x14b)]===0x0){_0x265350['innerHTML']=_0x4b762d(0x15c);return;}_0x453b5d[_0x4b762d(0x265)](([_0x12c1bd,_0x1f4236])=>{const _0x386725=_0x4b762d,_0x5bfff1=Math[_0x386725(0x261)](_0x1f4236[_0x386725(0x29a)]/_0x1f4236['total']*0x64),_0x1e35d7=document['createElement'](_0x386725(0x246));_0x1e35d7[_0x386725(0x154)]=_0x386725(0x271),_0x1e35d7[_0x386725(0x291)][_0x386725(0x13d)]=_0x1f4236[_0x386725(0x14d)],_0x1e35d7['innerHTML']=_0x386725(0x228)+_0x12c1bd+_0x386725(0x1b2)+_0x1f4236[_0x386725(0x29a)]+'</span>\x20/\x20'+_0x1f4236[_0x386725(0x1b1)]+_0x386725(0x1df)+_0x5bfff1+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x265350['appendChild'](_0x1e35d7);});}function formatMinsToHrs(_0x4e9fbd){if(_0x4e9fbd===0x0)return'0';const _0x4f6830=Math['floor'](_0x4e9fbd/0x3c),_0x41afc5=_0x4e9fbd%0x3c;if(_0x41afc5===0x0)return _0x4f6830+'—á';return _0x4f6830+'—á\x20'+_0x41afc5+'–º';}