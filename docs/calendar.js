const a2_0x1418fc=a2_0xe3d5;(function(_0x572616,_0x400c7f){const _0x4697e4=a2_0xe3d5,_0x3c9536=_0x572616();while(!![]){try{const _0x2f5bbb=-parseInt(_0x4697e4(0x235))/0x1+parseInt(_0x4697e4(0x1d2))/0x2*(-parseInt(_0x4697e4(0x2c5))/0x3)+-parseInt(_0x4697e4(0x1c8))/0x4*(parseInt(_0x4697e4(0x238))/0x5)+-parseInt(_0x4697e4(0x1bf))/0x6*(-parseInt(_0x4697e4(0x2c2))/0x7)+-parseInt(_0x4697e4(0x203))/0x8*(parseInt(_0x4697e4(0x254))/0x9)+-parseInt(_0x4697e4(0x2ae))/0xa*(-parseInt(_0x4697e4(0x2b8))/0xb)+parseInt(_0x4697e4(0x2a7))/0xc;if(_0x2f5bbb===_0x400c7f)break;else _0x3c9536['push'](_0x3c9536['shift']());}catch(_0x4c3829){_0x3c9536['push'](_0x3c9536['shift']());}}}(a2_0x1e63,0x6a460),function initTMA(){const _0x36264e=a2_0xe3d5,_0x59ad9b=(function(){let _0x7e0c5b=!![];return function(_0x44101d,_0x4211fc){const _0xf2d11=_0x7e0c5b?function(){if(_0x4211fc){const _0x4f76ee=_0x4211fc['apply'](_0x44101d,arguments);return _0x4211fc=null,_0x4f76ee;}}:function(){};return _0x7e0c5b=![],_0xf2d11;};}()),_0x4ae2dd=_0x59ad9b(this,function(){const _0x43234f=a2_0xe3d5;return _0x4ae2dd[_0x43234f(0x18a)]()[_0x43234f(0x297)](_0x43234f(0x223))[_0x43234f(0x18a)]()[_0x43234f(0x2d3)](_0x4ae2dd)[_0x43234f(0x297)](_0x43234f(0x223));});_0x4ae2dd();try{const _0x242c5e=window[_0x36264e(0x16e)]?.[_0x36264e(0x27b)];if(!_0x242c5e)return;_0x242c5e[_0x36264e(0x1ca)](),_0x242c5e['expand']();try{_0x242c5e['setHeaderColor'](_0x36264e(0x282)),_0x242c5e[_0x36264e(0x2bf)]&&_0x242c5e[_0x36264e(0x2bf)](_0x36264e(0x282));}catch(_0x4f65c7){console[_0x36264e(0x2b6)](_0x36264e(0x1aa),_0x4f65c7);}try{_0x242c5e[_0x36264e(0x279)]&&(_0x242c5e[_0x36264e(0x279)][_0x36264e(0x22e)](),_0x242c5e['BackButton'][_0x36264e(0x241)](),_0x242c5e[_0x36264e(0x279)][_0x36264e(0x29b)](function(){window['location']['href']='router.html';}));}catch(_0xa66be0){console[_0x36264e(0x2b6)](_0x36264e(0x2cd),_0xa66be0);}try{if(_0x242c5e[_0x36264e(0x1e6)])_0x242c5e[_0x36264e(0x1e6)]();}catch(_0x7000c2){}}catch(_0x4876e9){console[_0x36264e(0x29d)](_0x36264e(0x189),_0x4876e9);}}());function isAdmin(){const _0x4aecd1=a2_0xe3d5;try{const _0x170700=Number(window[_0x4aecd1(0x16e)]?.['WebApp']?.[_0x4aecd1(0x1d1)]?.[_0x4aecd1(0x218)]?.['id']);return _0x170700===0xbaf7174;}catch(_0x56181d){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1418fc(0x246),KEY_SESSIONS=a2_0x1418fc(0x1a6),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x12e994=a2_0x1418fc;return window[_0x12e994(0x16e)]?.[_0x12e994(0x27b)]?.[_0x12e994(0x1d1)]?.[_0x12e994(0x218)]?.['id']||_0x12e994(0x213);},'saveLocally'(){const _0x5dce98=a2_0x1418fc;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x5dce98(0x177)](clients)),localStorage[_0x5dce98(0x2d2)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x5dce98(0x2d2)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x26fcf5){console[_0x5dce98(0x29d)](_0x5dce98(0x1b4),_0x26fcf5);}},'loadLocal'(){const _0xae262f=a2_0x1418fc;try{const _0x26cec6=localStorage[_0xae262f(0x2ca)](KEY_CLIENTS);if(_0x26cec6)clients=JSON[_0xae262f(0x232)](_0x26cec6);const _0x1c380e=localStorage[_0xae262f(0x2ca)](KEY_SESSIONS);if(_0x1c380e)sessions=JSON[_0xae262f(0x232)](_0x1c380e);const _0x585f6d=localStorage['getItem'](KEY_SETTINGS);if(_0x585f6d){const _0x5eafe0=JSON[_0xae262f(0x232)](_0x585f6d);if(_0x5eafe0['pattern'])availabilityPattern=_0x5eafe0[_0xae262f(0x198)];if(_0x5eafe0[_0xae262f(0x285)])dateExceptions=_0x5eafe0['exceptions'];if(_0x5eafe0[_0xae262f(0x19a)])specialRanges=_0x5eafe0[_0xae262f(0x19a)];}else{for(let _0x18c2f6=0x0;_0x18c2f6<0x7;_0x18c2f6++)availabilityPattern[_0x18c2f6]=Array[_0xae262f(0x1d6)]({'length':0xc},(_0xb894e,_0x12a918)=>_0x12a918+0x9);}}catch(_0x5ac78d){console[_0xae262f(0x29d)](_0xae262f(0x1f7),_0x5ac78d);}},async 'fetchFromServer'(_0x426948,_0x4c34a4={}){const _0x280b2f=a2_0x1418fc,_0xd94737=window[_0x280b2f(0x16e)]?.[_0x280b2f(0x27b)],_0x1e015b={'action':_0x426948,'init_data':_0xd94737?.['initData']||'',..._0x4c34a4};try{const _0x4b4f77=await fetch(API_URL,{'method':_0x280b2f(0x195),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x280b2f(0x177)](_0x1e015b)}),_0x19063f=await _0x4b4f77[_0x280b2f(0x270)]();if(!_0x19063f['ok'])throw new Error(_0x19063f[_0x280b2f(0x29d)]||_0x280b2f(0x288));return _0x19063f[_0x280b2f(0x286)];}catch(_0x3c7cf3){console[_0x280b2f(0x29d)](_0x280b2f(0x236)+_0x426948+_0x280b2f(0x23c),_0x3c7cf3);throw _0x3c7cf3;}},async 'syncLoad'(){const _0x436ac2=a2_0x1418fc,_0x5dc6e3=new Date(),_0xdbe141=_0x5dc6e3[_0x436ac2(0x23e)]()+'-'+String(_0x5dc6e3['getMonth']()+0x1)['padStart'](0x2,'0'),_0x27c6dc=new Date(_0x5dc6e3);_0x27c6dc['setMonth'](_0x5dc6e3['getMonth']()+0x1);const _0x3c36d3=_0x27c6dc['getFullYear']()+'-'+String(_0x27c6dc['getMonth']()+0x1)[_0x436ac2(0x243)](0x2,'0'),_0x10a072=Date[_0x436ac2(0x193)]();console['log'](_0x436ac2(0x24f)+_0xdbe141+',\x20'+_0x3c36d3+'...');try{const [_0x80f353,_0x25a473]=await Promise[_0x436ac2(0x1bb)]([this[_0x436ac2(0x162)](_0x436ac2(0x17c),{'month_str':_0xdbe141}),this[_0x436ac2(0x162)](_0x436ac2(0x17c),{'month_str':_0x3c36d3})]);if(lastUserActionTime>_0x10a072)return console[_0x436ac2(0x1f6)](_0x436ac2(0x21f)),![];return this[_0x436ac2(0x262)](_0x80f353,_0xdbe141),this['mergeServerData'](_0x25a473,_0x3c36d3),this[_0x436ac2(0x19b)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x409cbd){console[_0x436ac2(0x29d)](_0x409cbd);throw _0x409cbd;}},'mergeServerData'(_0x5b4d10,_0x6ec9eb){const _0x172f9a=a2_0x1418fc;if(!_0x5b4d10)return;_0x5b4d10[_0x172f9a(0x251)]&&Array[_0x172f9a(0x17b)](_0x5b4d10['clients'])&&(clients=_0x5b4d10['clients']);if(_0x5b4d10['settings']){if(_0x5b4d10[_0x172f9a(0x2ad)]['pattern'])availabilityPattern=_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x198)];if(_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x285)])dateExceptions=_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x285)];if(_0x5b4d10['settings']['ranges'])specialRanges=_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x19a)];if(_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x15e)]){localStorage[_0x172f9a(0x2d2)](_0x172f9a(0x1a1),_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x15e)]);const _0x52ad26=document[_0x172f9a(0x165)]('settingCancelWindow');if(_0x52ad26)_0x52ad26['value']=_0x5b4d10[_0x172f9a(0x2ad)][_0x172f9a(0x15e)];}}_0x5b4d10['calendar']&&(sessions=sessions[_0x172f9a(0x1fa)](_0x2ced83=>!_0x2ced83[_0x172f9a(0x20d)][_0x172f9a(0x15d)](_0x6ec9eb)),Object['keys'](_0x5b4d10['calendar'])[_0x172f9a(0x17d)](_0x171d79=>{const _0x4f9f1b=_0x172f9a,_0x19106d=_0x5b4d10[_0x4f9f1b(0x2b0)][_0x171d79];_0x19106d['forEach'](_0x4ef2e4=>{const _0x23fe73=_0x4f9f1b,_0x4fed37=clients[_0x23fe73(0x263)](_0x248927=>String(_0x248927['id'])===String(_0x4ef2e4['c']));sessions['push']({'id':_0x4ef2e4['i'],'clientId':_0x4ef2e4['c'],'client':_0x4fed37?_0x4fed37['name']:'Unknown','dateStr':_0x6ec9eb+'-'+_0x171d79[_0x23fe73(0x243)](0x2,'0'),'start':_0x4ef2e4['s'],'end':_0x4ef2e4['e'],'status':_0x4ef2e4['st']||_0x23fe73(0x219),'note':_0x4ef2e4['n']||'','seriesId':_0x4ef2e4[_0x23fe73(0x266)]||null});});}));},async 'syncBatch'(_0xa46341){const _0x126a35=a2_0x1418fc,_0x4aa4f5=[...new Set(_0xa46341)],_0x589d4b=_0x4aa4f5[_0x126a35(0x26d)](_0xb3ba81=>{const _0x8ea540=_0x126a35,_0x31d5bd=sessions[_0x8ea540(0x1fa)](_0x4c88d0=>_0x4c88d0[_0x8ea540(0x20d)]===_0xb3ba81&&_0x4c88d0['status']!=='deleted'),_0x15cfa8=_0x31d5bd[_0x8ea540(0x26d)](_0x52865e=>({'i':_0x52865e['id'],'c':_0x52865e[_0x8ea540(0x1dc)],'s':_0x52865e[_0x8ea540(0x280)],'e':_0x52865e[_0x8ea540(0x22d)],'st':_0x52865e[_0x8ea540(0x2ac)],'n':_0x52865e['note'],'sid':_0x52865e[_0x8ea540(0x182)]}));return{'date':_0xb3ba81,'day_data':_0x15cfa8};});if(_0x589d4b[_0x126a35(0x211)]===0x0)return;console[_0x126a35(0x2b6)](_0x126a35(0x167)+_0x589d4b[_0x126a35(0x211)]+_0x126a35(0x161)),await this[_0x126a35(0x162)](_0x126a35(0x29c),{'changes':_0x589d4b});}};async function init(){const _0x5f06db=a2_0x1418fc;DataManager[_0x5f06db(0x1e9)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5f06db(0x165)]('matrixViewport')[_0x5f06db(0x27f)](_0x5f06db(0x21c),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5f06db(0x234)]()[_0x5f06db(0x268)](()=>{const _0x1b0dfc=_0x5f06db;showToast(_0x1b0dfc(0x1e4),!![]);})[_0x5f06db(0x24a)](_0x1ea5e1=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x14b641=a2_0x1418fc;return Date[_0x14b641(0x193)]()[_0x14b641(0x18a)](0x24)+Math[_0x14b641(0x169)]()[_0x14b641(0x18a)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x153e60=a2_0x1418fc,_0x436da7=document[_0x153e60(0x165)](_0x153e60(0x27c))[_0x153e60(0x28b)],_0x2167fe=document['getElementById'](_0x153e60(0x239));_0x2167fe[_0x153e60(0x233)][_0x153e60(0x1b2)]=_0x436da7?_0x153e60(0x202):_0x153e60(0x212);const _0x5de24f=document['getElementById'](_0x153e60(0x209));_0x5de24f[_0x153e60(0x233)][_0x153e60(0x178)]=_0x436da7?'10px\x2010px\x200\x200':_0x153e60(0x1e1);}function openAddSession(_0x203c03){const _0x2f0ad9=a2_0x1418fc;editingId=null,populateClientSelect(),document[_0x2f0ad9(0x165)](_0x2f0ad9(0x261))['textContent']=_0x2f0ad9(0x1a7),document[_0x2f0ad9(0x165)]('btnDelete')[_0x2f0ad9(0x233)]['display']=_0x2f0ad9(0x212),document[_0x2f0ad9(0x165)](_0x2f0ad9(0x249))[_0x2f0ad9(0x233)][_0x2f0ad9(0x1b2)]=_0x2f0ad9(0x212);const _0x393263=document[_0x2f0ad9(0x165)](_0x2f0ad9(0x209)),_0xd443d=document[_0x2f0ad9(0x165)](_0x2f0ad9(0x239));_0x393263[_0x2f0ad9(0x233)][_0x2f0ad9(0x1b2)]=_0x2f0ad9(0x274),_0x393263['style']['borderRadius']=_0x2f0ad9(0x1e1),document[_0x2f0ad9(0x165)](_0x2f0ad9(0x27c))[_0x2f0ad9(0x28b)]=![],document[_0x2f0ad9(0x165)](_0x2f0ad9(0x2a2))['value']=0x4,_0xd443d[_0x2f0ad9(0x233)][_0x2f0ad9(0x1b2)]='none',document[_0x2f0ad9(0x165)](_0x2f0ad9(0x1e3))['value']=getLocalDateStr(_0x203c03),updateDateDisplay();const _0x269f74=_0x203c03[_0x2f0ad9(0x2be)]();document['getElementById'](_0x2f0ad9(0x253))[_0x2f0ad9(0x1db)]=String(_0x269f74)['padStart'](0x2,'0')+':00',document[_0x2f0ad9(0x165)]('inpEnd')[_0x2f0ad9(0x1db)]=String(_0x269f74+0x1)[_0x2f0ad9(0x243)](0x2,'0')+_0x2f0ad9(0x28e),openSheet('sessionSheet');}function openEdit(_0x5df741){const _0x4ce6e0=a2_0x1418fc;editingId=_0x5df741['id'],populateClientSelect(),document[_0x4ce6e0(0x165)]('sheetTitle')[_0x4ce6e0(0x190)]=_0x4ce6e0(0x28a),document[_0x4ce6e0(0x165)](_0x4ce6e0(0x22a))['style']['display']=_0x4ce6e0(0x202);const _0x1e66da=document[_0x4ce6e0(0x165)](_0x4ce6e0(0x249));_0x1e66da[_0x4ce6e0(0x233)][_0x4ce6e0(0x1b2)]='flex';_0x5df741[_0x4ce6e0(0x2ac)]==='completed'?(_0x1e66da[_0x4ce6e0(0x23d)]=_0x4ce6e0(0x1ab),_0x1e66da['innerHTML']=_0x4ce6e0(0x201)):(_0x1e66da[_0x4ce6e0(0x23d)]=_0x4ce6e0(0x200),_0x1e66da[_0x4ce6e0(0x1a8)]=_0x4ce6e0(0x1f2));const _0x4c9d2b=!!_0x5df741['seriesId'];document[_0x4ce6e0(0x165)](_0x4ce6e0(0x209))[_0x4ce6e0(0x233)][_0x4ce6e0(0x1b2)]=_0x4ce6e0(0x212),document[_0x4ce6e0(0x165)](_0x4ce6e0(0x239))[_0x4ce6e0(0x233)][_0x4ce6e0(0x1b2)]=_0x4ce6e0(0x212),_0x4c9d2b?(document['getElementById']('patternInfoBox')[_0x4ce6e0(0x233)][_0x4ce6e0(0x1b2)]=_0x4ce6e0(0x274),document['getElementById'](_0x4ce6e0(0x2cb))[_0x4ce6e0(0x163)](_0x4ce6e0(0x272))['textContent']=_0x4ce6e0(0x18e)):document[_0x4ce6e0(0x165)](_0x4ce6e0(0x2cb))[_0x4ce6e0(0x233)][_0x4ce6e0(0x1b2)]=_0x4ce6e0(0x212),document['getElementById'](_0x4ce6e0(0x1c1))['value']=_0x5df741[_0x4ce6e0(0x24c)],document[_0x4ce6e0(0x165)](_0x4ce6e0(0x1e3))['value']=_0x5df741[_0x4ce6e0(0x20d)],document['getElementById'](_0x4ce6e0(0x253))[_0x4ce6e0(0x1db)]=_0x5df741[_0x4ce6e0(0x280)],document[_0x4ce6e0(0x165)](_0x4ce6e0(0x228))[_0x4ce6e0(0x1db)]=_0x5df741[_0x4ce6e0(0x22d)],document['getElementById'](_0x4ce6e0(0x160))[_0x4ce6e0(0x1db)]=_0x5df741[_0x4ce6e0(0x196)]||'',updateDateDisplay(),openSheet(_0x4ce6e0(0x292));}async function trySaveSession(){const _0x35e01b=a2_0x1418fc,_0x58ec29=document[_0x35e01b(0x165)](_0x35e01b(0x1c1))[_0x35e01b(0x1db)],_0x705005=document[_0x35e01b(0x165)]('inpDate')[_0x35e01b(0x1db)],_0xd6043=document[_0x35e01b(0x165)](_0x35e01b(0x253))[_0x35e01b(0x1db)],_0x2f2207=document[_0x35e01b(0x165)](_0x35e01b(0x228))[_0x35e01b(0x1db)],_0x3ad434=document[_0x35e01b(0x165)](_0x35e01b(0x160))[_0x35e01b(0x1db)],_0xa4045c=document[_0x35e01b(0x165)](_0x35e01b(0x27c))[_0x35e01b(0x28b)];let _0x1838fd=0x4;if(_0xa4045c){const _0x3dde54=parseInt(document[_0x35e01b(0x165)]('inpSeriesCount')[_0x35e01b(0x1db)]);if(!_0x3dde54||_0x3dde54<0x2){showToast(_0x35e01b(0x1cd),![]);return;}if(_0x3dde54>0x64){showToast(_0x35e01b(0x1b1),![]);return;}_0x1838fd=_0x3dde54;}const _0x1ff913=clients['find'](_0x3fa157=>_0x3fa157[_0x35e01b(0x1df)]===_0x58ec29);if(!_0x1ff913){showToast(_0x35e01b(0x24d),![]);return;}const _0x25d7f9=validateAppointment(_0x705005,_0xd6043,_0x2f2207,editingId,_0x1ff913['id']);if(!_0x25d7f9['valid']){showToast(_0x25d7f9[_0x35e01b(0x215)],![]);return;}_0x25d7f9['warning']&&showToast(_0x25d7f9[_0x35e01b(0x29a)],![]);const _0x494fe5={'client':_0x58ec29,'clientId':_0x1ff913['id'],'start':_0xd6043,'end':_0x2f2207,'note':_0x3ad434,'status':'planned'},_0x13067d=editingId?sessions[_0x35e01b(0x263)](_0x3b92c5=>_0x3b92c5['id']===editingId):null;if(_0x13067d&&_0x13067d['seriesId']){tempSessionData={..._0x494fe5,'dateStr':_0x705005,'id':editingId,'seriesId':_0x13067d[_0x35e01b(0x182)]},openActionSheet(_0x35e01b(0x29f));return;}let _0x3424a0=null;if(!editingId)_0x3424a0=_0x35e01b(0x2c3);else{if(_0x13067d){if(String(_0x13067d['clientId'])!==String(_0x1ff913['id']))console[_0x35e01b(0x2b6)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send'](_0x35e01b(0x264),_0x13067d),_0x3424a0=_0x35e01b(0x2c3);else(_0x13067d[_0x35e01b(0x280)]!==_0xd6043||_0x13067d[_0x35e01b(0x22d)]!==_0x2f2207||_0x13067d['dateStr']!==_0x705005)&&(_0x3424a0='update');}}if(!editingId&&_0xa4045c){createBatchSeries(_0x494fe5,_0x705005,_0x1838fd),NotificationManager[_0x35e01b(0x2d5)](_0x35e01b(0x2c3),{..._0x494fe5,'dateStr':_0x705005});return;}lastUserActionTime=Date[_0x35e01b(0x193)]();const _0x1c7c85={..._0x494fe5,'dateStr':_0x705005,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1c7c85),_0x3424a0&&NotificationManager[_0x35e01b(0x2d5)](_0x3424a0,_0x1c7c85);}function toggleSessionStatus(){const _0x325318=a2_0x1418fc;lastUserActionTime=Date[_0x325318(0x193)]();const _0x1c45dd=sessions[_0x325318(0x263)](_0x5c89f9=>_0x5c89f9['id']===editingId);if(!_0x1c45dd)return;const _0x4b7fc1=_0x1c45dd[_0x325318(0x2ac)]==='completed'?_0x325318(0x219):_0x325318(0x18b);_0x1c45dd[_0x325318(0x2ac)]=_0x4b7fc1,saveSingleSession(_0x1c45dd),_0x4b7fc1===_0x325318(0x18b)&&NotificationManager[_0x325318(0x2d5)]('complete',_0x1c45dd),showToast(_0x4b7fc1===_0x325318(0x18b)?_0x325318(0x25a):_0x325318(0x197),!![]);}function validateAppointment(_0x3e6634,_0x1d19d8,_0x2e4327,_0x3a0ebf,_0x19d4e3){const _0x5a5de0=a2_0x1418fc,[_0x182db7,_0x1d559c]=_0x1d19d8['split'](':')[_0x5a5de0(0x26d)](Number),[_0x34693c,_0x1acad1]=_0x2e4327[_0x5a5de0(0x1ba)](':')[_0x5a5de0(0x26d)](Number),_0x298e4e=_0x182db7*0x3c+_0x1d559c,_0x1adc03=_0x34693c*0x3c+_0x1acad1,_0x44d513=String(_0x19d4e3);let _0x4d2469=![],_0x1345da='';for(let _0x1b1cc4 of sessions){if(_0x1b1cc4[_0x5a5de0(0x20d)]!==_0x3e6634)continue;if(_0x1b1cc4[_0x5a5de0(0x2ac)]===_0x5a5de0(0x2ba))continue;if(_0x3a0ebf&&String(_0x1b1cc4['id'])===String(_0x3a0ebf))continue;const [_0x213145,_0x169440]=_0x1b1cc4[_0x5a5de0(0x280)][_0x5a5de0(0x1ba)](':')['map'](Number),[_0x25b62c,_0x47dc83]=_0x1b1cc4[_0x5a5de0(0x22d)]['split'](':')[_0x5a5de0(0x26d)](Number),_0x554855=_0x213145*0x3c+_0x169440,_0x5a135f=_0x25b62c*0x3c+_0x47dc83;if(Math[_0x5a5de0(0x2b2)](_0x298e4e,_0x554855)<Math[_0x5a5de0(0x222)](_0x1adc03,_0x5a135f)){if(_0x1b1cc4[_0x5a5de0(0x1dc)]&&String(_0x1b1cc4['clientId'])===_0x44d513)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1b1cc4[_0x5a5de0(0x24c)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4d2469=!![],_0x1345da=_0x1b1cc4['client'];}}if(_0x4d2469)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x1345da};return{'valid':!![]};}function saveSingleSession(_0x2a297a){const _0x5774a1=a2_0x1418fc;if(editingId){const _0x13260c=sessions[_0x5774a1(0x226)](_0x5ad1c5=>_0x5ad1c5['id']===editingId);if(_0x13260c!==-0x1)sessions[_0x13260c]=_0x2a297a;}else sessions[_0x5774a1(0x25b)](_0x2a297a);afterSaveAction([_0x2a297a[_0x5774a1(0x20d)]]);}function createBatchSeries(_0x446ba1,_0x4cdc38,_0x4b3feb){const _0xa1b1a3=a2_0x1418fc,_0x599ae0=generateId(),_0x52d4a6=[],_0x5db593=[];let _0x2dc280=0x0,_0x53e3d2=new Date(_0x4cdc38);for(let _0x1392e2=0x0;_0x1392e2<_0x4b3feb;_0x1392e2++){const _0x888b0b=getLocalDateStr(_0x53e3d2),_0xc6ca13=validateAppointment(_0x888b0b,_0x446ba1[_0xa1b1a3(0x280)],_0x446ba1[_0xa1b1a3(0x22d)],null,_0x446ba1[_0xa1b1a3(0x1dc)]);if(!_0xc6ca13[_0xa1b1a3(0x2a4)])console['log']('[Series]\x20Skipped\x20'+_0x888b0b+_0xa1b1a3(0x22f)),_0x2dc280++;else{const _0x2d4149={..._0x446ba1,'id':generateId(),'dateStr':_0x888b0b,'seriesId':_0x599ae0};_0x5db593[_0xa1b1a3(0x25b)](_0x2d4149),_0x52d4a6[_0xa1b1a3(0x25b)](_0x888b0b);}_0x53e3d2[_0xa1b1a3(0x1a5)](_0x53e3d2['getDate']()+0x7);}if(_0x5db593['length']===0x0){showToast(_0xa1b1a3(0x1cb),![]);return;}sessions['push'](..._0x5db593),lastUserActionTime=Date['now']();let _0x4ce64f=_0xa1b1a3(0x21d)+_0x5db593[_0xa1b1a3(0x211)];_0x2dc280>0x0&&(_0x4ce64f+=_0xa1b1a3(0x271)+_0x2dc280+')'),showToast(_0x4ce64f,!![]),afterSaveAction(_0x52d4a6);}function updateSeriesBatch(_0x1f8b8a,_0x3052af){const _0x3e8a4a=a2_0x1418fc,_0x55aef8=[],_0x5ea598=_0x3052af[_0x3e8a4a(0x182)];if(_0x1f8b8a===_0x3e8a4a(0x25c)){const _0x552478={..._0x3052af,'seriesId':null},_0x52b047=sessions[_0x3e8a4a(0x226)](_0x45a3ac=>_0x45a3ac['id']===_0x3052af['id']);if(_0x52b047!==-0x1)sessions[_0x52b047]=_0x552478;_0x55aef8['push'](_0x552478[_0x3e8a4a(0x20d)]);}else{if(_0x1f8b8a===_0x3e8a4a(0x1ad)){const _0x1af5b9=_0x3052af['dateStr'];sessions[_0x3e8a4a(0x17d)]((_0x362e2f,_0x443c89)=>{const _0x5ea18e=_0x3e8a4a;_0x362e2f['seriesId']===_0x5ea598&&_0x362e2f['dateStr']>=_0x1af5b9&&(sessions[_0x443c89]={...sessions[_0x443c89],'start':_0x3052af[_0x5ea18e(0x280)],'end':_0x3052af[_0x5ea18e(0x22d)],'note':_0x3052af[_0x5ea18e(0x196)],'client':_0x3052af['client'],'clientId':_0x3052af[_0x5ea18e(0x1dc)]},_0x55aef8['push'](_0x362e2f[_0x5ea18e(0x20d)]));});}}afterSaveAction(_0x55aef8);}function tryDeleteSession(){const _0x184157=a2_0x1418fc,_0x6ca937=sessions[_0x184157(0x263)](_0x2fc302=>_0x2fc302['id']===editingId);if(!_0x6ca937)return;_0x6ca937[_0x184157(0x182)]?openActionSheet(_0x184157(0x1a9)):commitDelete(_0x184157(0x25c),_0x6ca937);}function commitDelete(_0x40a59d,_0x3d4630){const _0x3baaac=a2_0x1418fc;lastUserActionTime=Date[_0x3baaac(0x193)](),NotificationManager[_0x3baaac(0x2d5)](_0x3baaac(0x264),_0x3d4630);const _0x2f221f=[];if(_0x40a59d==='single')sessions=sessions[_0x3baaac(0x1fa)](_0x166cb9=>_0x166cb9['id']!==_0x3d4630['id']),_0x2f221f[_0x3baaac(0x25b)](_0x3d4630[_0x3baaac(0x20d)]);else{if(_0x40a59d==='series'){const _0x2453dd=_0x3d4630[_0x3baaac(0x20d)],_0xbe9188=_0x3d4630['seriesId'];sessions[_0x3baaac(0x17d)](_0x31fc44=>{const _0x32794a=_0x3baaac;_0x31fc44[_0x32794a(0x182)]===_0xbe9188&&_0x31fc44[_0x32794a(0x20d)]>=_0x2453dd&&_0x2f221f[_0x32794a(0x25b)](_0x31fc44[_0x32794a(0x20d)]);}),sessions=sessions[_0x3baaac(0x1fa)](_0x4291fe=>!(_0x4291fe[_0x3baaac(0x182)]===_0xbe9188&&_0x4291fe[_0x3baaac(0x20d)]>=_0x2453dd));}}afterSaveAction(_0x2f221f);}function afterSaveAction(_0x18499b){const _0x36c2a7=a2_0x1418fc;DataManager[_0x36c2a7(0x19b)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x36c2a7(0x22c)](_0x18499b)[_0x36c2a7(0x268)](()=>console[_0x36c2a7(0x2b6)]('Batch\x20Sync\x20OK'))['catch'](_0x24b6fd=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1f4f52){const _0x3ebb4a=a2_0x1418fc,_0x12700=new Date(_0x1f4f52),_0x51a7bc={'weekday':_0x3ebb4a(0x2b3),'day':_0x3ebb4a(0x1cf),'month':_0x3ebb4a(0x2b3)};let _0x1f3fe0=_0x12700[_0x3ebb4a(0x1b7)](_0x3ebb4a(0x291),_0x51a7bc);return _0x1f3fe0[_0x3ebb4a(0x2bd)](0x0)[_0x3ebb4a(0x2ce)]()+_0x1f3fe0[_0x3ebb4a(0x1be)](0x1);},'getText'(_0x3e7272,_0x515f06){const _0x430f7a=a2_0x1418fc,_0x55729f=this[_0x430f7a(0x18f)](_0x515f06[_0x430f7a(0x20d)]);switch(_0x3e7272){case _0x430f7a(0x2c3):return _0x430f7a(0x1e2)+(_0x430f7a(0x2b9)+_0x55729f+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x515f06['start']+_0x430f7a(0x231)+_0x515f06[_0x430f7a(0x22d)]+'\x0a\x0a')+_0x430f7a(0x2ab);case _0x430f7a(0x278):return _0x430f7a(0x29e)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x430f7a(0x2bc)+_0x515f06['start']+_0x430f7a(0x231)+_0x515f06[_0x430f7a(0x22d)]+_0x430f7a(0x1e0))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x55729f);case _0x430f7a(0x264):return _0x430f7a(0x1c4)+(_0x430f7a(0x1b3)+_0x55729f+'\x20('+_0x515f06[_0x430f7a(0x280)]+_0x430f7a(0x1eb));case _0x430f7a(0x181):return _0x430f7a(0x294)+_0x430f7a(0x188)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x7ec625,_0x9418){const _0x31ec3f=a2_0x1418fc;console['log'](_0x31ec3f(0x275),_0x7ec625,_0x9418);if(!_0x9418){console[_0x31ec3f(0x29d)](_0x31ec3f(0x172));return;}const _0x13155d=String(_0x9418[_0x31ec3f(0x1dc)]);console[_0x31ec3f(0x2b6)](_0x31ec3f(0x171),_0x13155d);if(!_0x9418['clientId']||_0x13155d===_0x31ec3f(0x2d7)||_0x13155d==='null'){console[_0x31ec3f(0x29d)](_0x31ec3f(0x1c3));if(_0x9418[_0x31ec3f(0x24c)]){const _0xa5e669=clients[_0x31ec3f(0x263)](_0x29d6e4=>_0x29d6e4['name']===_0x9418[_0x31ec3f(0x24c)]);if(_0xa5e669)return console[_0x31ec3f(0x2b6)](_0x31ec3f(0x17f),_0xa5e669['id']),this[_0x31ec3f(0x2d5)](_0x7ec625,{..._0x9418,'clientId':_0xa5e669['id']});}return;}if(_0x13155d[_0x31ec3f(0x211)]<0x5){console['warn'](_0x31ec3f(0x210),_0x13155d);return;}const _0x147a5e=this['getText'](_0x7ec625,_0x9418);if(!_0x147a5e){console[_0x31ec3f(0x29d)](_0x31ec3f(0x199));return;}console[_0x31ec3f(0x2b6)](_0x31ec3f(0x192)+_0x13155d+_0x31ec3f(0x2af)),DataManager[_0x31ec3f(0x162)](_0x31ec3f(0x247),{'chatId':_0x13155d,'text':_0x147a5e})[_0x31ec3f(0x268)](_0x2dca38=>console[_0x31ec3f(0x2b6)](_0x31ec3f(0x24e),_0x2dca38))['catch'](_0x1312e8=>console[_0x31ec3f(0x29d)](_0x31ec3f(0x256),_0x1312e8));}};function getLocalDateStr(_0x3148ab){const _0x19ddeb=a2_0x1418fc,_0x14ea8f=_0x3148ab['getFullYear'](),_0x272876=String(_0x3148ab['getMonth']()+0x1)['padStart'](0x2,'0'),_0x456e95=String(_0x3148ab[_0x19ddeb(0x25f)]())[_0x19ddeb(0x243)](0x2,'0');return _0x14ea8f+'-'+_0x272876+'-'+_0x456e95;}function getDateStr(_0x592325){const _0x2af5b3=a2_0x1418fc,_0x2050c1=new Date();return _0x2050c1['setDate'](_0x2050c1[_0x2af5b3(0x25f)]()+_0x592325),getLocalDateStr(_0x2050c1);}function getStartOfWeek(_0x972029){const _0x318e5e=a2_0x1418fc,_0x67377b=new Date(_0x972029),_0x4b1160=_0x67377b[_0x318e5e(0x2a3)](),_0xe6e936=_0x67377b['getDate']()-_0x4b1160+(_0x4b1160===0x0?-0x6:0x1);return _0x67377b[_0x318e5e(0x1a5)](_0xe6e936),_0x67377b[_0x318e5e(0x245)](0x0,0x0,0x0,0x0),_0x67377b;}function hexToRgba(_0x456f77,_0x414ca3){const _0x134b00=a2_0x1418fc;if(!_0x456f77)return'rgba(100,100,100,0.5)';let _0x3a4b49=0x0,_0xa131a3=0x0,_0x2eeb48=0x0;if(_0x456f77['length']===0x4)_0x3a4b49='0x'+_0x456f77[0x1]+_0x456f77[0x1],_0xa131a3='0x'+_0x456f77[0x2]+_0x456f77[0x2],_0x2eeb48='0x'+_0x456f77[0x3]+_0x456f77[0x3];else _0x456f77[_0x134b00(0x211)]===0x7&&(_0x3a4b49='0x'+_0x456f77[0x1]+_0x456f77[0x2],_0xa131a3='0x'+_0x456f77[0x3]+_0x456f77[0x4],_0x2eeb48='0x'+_0x456f77[0x5]+_0x456f77[0x6]);return _0x134b00(0x2cc)+ +_0x3a4b49+',\x20'+ +_0xa131a3+',\x20'+ +_0x2eeb48+',\x20'+_0x414ca3+')';}function a2_0xe3d5(_0x365907,_0x2aafb8){_0x365907=_0x365907-0x15d;const _0x102859=a2_0x1e63();let _0x398688=_0x102859[_0x365907];return _0x398688;}function renderTimeColumn(){const _0x2a865f=a2_0x1418fc,_0x51b9f4=document[_0x2a865f(0x165)]('timeColumn'),_0x2a5bb1=document[_0x2a865f(0x165)](_0x2a865f(0x170));_0x51b9f4[_0x2a865f(0x1a8)]='',_0x51b9f4['appendChild'](_0x2a5bb1);for(let _0x1a27e7=0x0;_0x1a27e7<0x18;_0x1a27e7++){const _0x39da99=document['createElement'](_0x2a865f(0x276));_0x39da99[_0x2a865f(0x23d)]='time-label';if(_0x1a27e7>0x0)_0x39da99[_0x2a865f(0x1a8)]='<span>'+String(_0x1a27e7)[_0x2a865f(0x243)](0x2,'0')+_0x2a865f(0x1fe);_0x51b9f4['appendChild'](_0x39da99);}}function renderDayRange(_0x1bd248,_0xc7f402){const _0x3ec920=a2_0x1418fc,_0x374aaa=document[_0x3ec920(0x165)](_0x3ec920(0x25d)),_0x4b7db4=document[_0x3ec920(0x165)]('gridColumns'),_0x3caa89=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b1948=new Date();_0x1b1948[_0x3ec920(0x245)](0x0,0x0,0x0,0x0);const _0x3baf1e=getLocalDateStr(new Date());for(let _0x4e3e23=_0x1bd248;_0x4e3e23<=_0xc7f402;_0x4e3e23++){const _0x9fe591=new Date(_0x1b1948);_0x9fe591[_0x3ec920(0x1a5)](_0x9fe591[_0x3ec920(0x25f)]()+_0x4e3e23);const _0xc96222=getLocalDateStr(_0x9fe591);let _0x137b58=_0x9fe591[_0x3ec920(0x2a3)]()-0x1;if(_0x137b58===-0x1)_0x137b58=0x6;const _0x57a1f7=_0xc96222===_0x3baf1e,_0x30a370=document[_0x3ec920(0x18d)](_0x3ec920(0x276));_0x30a370[_0x3ec920(0x23d)]=_0x3ec920(0x1fd)+(_0x57a1f7?_0x3ec920(0x1bd):''),_0x30a370['id']=_0x3ec920(0x217)+_0xc96222,_0x30a370[_0x3ec920(0x16a)](_0x3ec920(0x1d9),_0xc96222),_0x30a370['innerHTML']=_0x3ec920(0x244)+_0x3caa89[_0x137b58]+'</div><div\x20class=\x22dch-num\x22>'+_0x9fe591['getDate']()+_0x3ec920(0x1b5)+_0xc96222+_0x3ec920(0x19d),_0x30a370['onclick']=()=>openDayOptions(_0xc96222,_0x3caa89[_0x137b58]+'\x20'+_0x9fe591[_0x3ec920(0x25f)]()),_0x374aaa[_0x3ec920(0x2aa)](_0x30a370);const _0x40a7f8=document[_0x3ec920(0x18d)](_0x3ec920(0x276));_0x40a7f8['className']='day-column\x20'+(_0x57a1f7?_0x3ec920(0x1bd):''),_0x40a7f8[_0x3ec920(0x16a)](_0x3ec920(0x1d9),_0xc96222),_0x40a7f8[_0x3ec920(0x16a)](_0x3ec920(0x293),_0x137b58),renderEventsForColumn(_0x40a7f8,_0xc96222,_0x137b58),attachLongPressHandler(_0x40a7f8,_0x9fe591),_0x4b7db4[_0x3ec920(0x2aa)](_0x40a7f8),updateDayStats(_0xc96222);}}function reRenderBlocks(){const _0x53e15a=a2_0x1418fc;document[_0x53e15a(0x16f)]('#gridColumns\x20.day-column')['forEach'](_0xa0b04b=>{const _0xac329f=_0x53e15a;_0xa0b04b[_0xac329f(0x16f)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x47b699=>_0x47b699[_0xac329f(0x18c)]());const _0x4a75e5=_0xa0b04b['getAttribute']('data-date'),_0x2c4226=parseInt(_0xa0b04b['getAttribute'](_0xac329f(0x293))),_0x201f9e=Math['round'](_0xa0b04b['offsetLeft']);(availabilityPattern[_0x2c4226]||[])['forEach'](_0x426545=>{const _0x1d7b31=_0xac329f,_0x360a70=document[_0x1d7b31(0x18d)](_0x1d7b31(0x276));_0x360a70[_0x1d7b31(0x23d)]=_0x1d7b31(0x2c9);const _0x104f9e=_0x426545*GRID_H;_0x360a70[_0x1d7b31(0x233)][_0x1d7b31(0x257)]=_0x104f9e+'px',_0x360a70[_0x1d7b31(0x233)]['backgroundPosition']='-'+_0x201f9e+_0x1d7b31(0x237)+_0x104f9e+'px',_0xa0b04b['appendChild'](_0x360a70);});if(specialRanges&&specialRanges[_0xac329f(0x211)]>0x0){const _0x29e6bd=new Date(_0x4a75e5+'T00:00:00')[_0xac329f(0x183)](),_0x46b884=new Date(_0x4a75e5+'T23:59:59')['getTime']();specialRanges[_0xac329f(0x17d)](_0x3ea65b=>{const _0x4b5054=_0xac329f,_0x42ab2e=new Date(_0x3ea65b[_0x4b5054(0x280)])['getTime'](),_0x1a075a=new Date(_0x3ea65b['end'])[_0x4b5054(0x183)](),_0x3b7393=Math[_0x4b5054(0x2b2)](_0x29e6bd,_0x42ab2e),_0x34fd79=Math[_0x4b5054(0x222)](_0x46b884,_0x1a075a);if(_0x3b7393<_0x34fd79){if(_0x3b7393<=_0x29e6bd&&_0x34fd79>=_0x46b884-0xea60){if(!_0xa0b04b[_0x4b5054(0x163)](_0x4b5054(0x28f))){const _0x512bcb=document[_0x4b5054(0x18d)](_0x4b5054(0x276));_0x512bcb['className']=_0x4b5054(0x173),_0x512bcb[_0x4b5054(0x233)][_0x4b5054(0x1f3)]='-'+_0x201f9e+_0x4b5054(0x26b),_0xa0b04b[_0x4b5054(0x2aa)](_0x512bcb);}}else{const _0x4f1012=(_0x3b7393-_0x29e6bd)/0x36ee80*GRID_H,_0x3a4c10=(_0x34fd79-_0x3b7393)/0x36ee80*GRID_H,_0x291048=document[_0x4b5054(0x18d)](_0x4b5054(0x276));_0x291048[_0x4b5054(0x23d)]=_0x4b5054(0x1a0),_0x291048[_0x4b5054(0x233)][_0x4b5054(0x257)]=_0x4f1012+'px',_0x291048[_0x4b5054(0x233)][_0x4b5054(0x16c)]=_0x3a4c10+'px',_0x291048[_0x4b5054(0x233)]['backgroundPosition']='-'+_0x201f9e+'px\x20-'+_0x4f1012+'px',_0xa0b04b['appendChild'](_0x291048);}}});}if(dateExceptions[_0x4a75e5]===_0xac329f(0x1c6)){if(!_0xa0b04b['querySelector'](_0xac329f(0x28f))){const _0x5632a6=document[_0xac329f(0x18d)](_0xac329f(0x276));_0x5632a6[_0xac329f(0x23d)]=_0xac329f(0x173),_0x5632a6[_0xac329f(0x233)][_0xac329f(0x1f3)]='-'+_0x201f9e+_0xac329f(0x26b),_0xa0b04b[_0xac329f(0x2aa)](_0x5632a6);}}renderEventsForColumn(_0xa0b04b,_0x4a75e5,_0x2c4226),updateDayStats(_0x4a75e5);});}function updateAllDayStats(){const _0x1db3ec=a2_0x1418fc;document[_0x1db3ec(0x16f)](_0x1db3ec(0x21b))[_0x1db3ec(0x17d)](_0x802e9b=>{const _0x443e42=_0x1db3ec;updateDayStats(_0x802e9b[_0x443e42(0x26a)](_0x443e42(0x1d9)));});}function updateDayStats(_0x31d39d){const _0x144a78=a2_0x1418fc,_0x2688ed=document[_0x144a78(0x165)](_0x144a78(0x2c7)+_0x31d39d);if(!_0x2688ed)return;const _0x30d535=new Date(_0x31d39d);let _0x4d43b1=_0x30d535[_0x144a78(0x2a3)]()-0x1;if(_0x4d43b1===-0x1)_0x4d43b1=0x6;if(dateExceptions[_0x31d39d]===_0x144a78(0x1c6)){_0x2688ed['style'][_0x144a78(0x1b2)]='none';return;}const _0x5b2ca2=availabilityPattern[_0x4d43b1]||[],_0x9c074e=0x18-_0x5b2ca2[_0x144a78(0x211)],_0x4bd3a8=_0x9c074e*0x3c,_0x24011d=sessions[_0x144a78(0x1fa)](_0x33e43e=>_0x33e43e[_0x144a78(0x20d)]===_0x31d39d&&_0x33e43e[_0x144a78(0x2ac)]!==_0x144a78(0x2ba));if(_0x24011d['length']===0x0){_0x2688ed[_0x144a78(0x233)][_0x144a78(0x1b2)]=_0x144a78(0x212);return;}let _0x7d5319=_0x24011d[_0x144a78(0x26d)](_0x8f719b=>{const _0x55f521=_0x144a78,[_0x4438e4,_0x4edd1b]=_0x8f719b[_0x55f521(0x280)]['split'](':')[_0x55f521(0x26d)](Number),[_0xc23968,_0x3a2172]=_0x8f719b[_0x55f521(0x22d)][_0x55f521(0x1ba)](':')['map'](Number);return[_0x4438e4*0x3c+_0x4edd1b,_0xc23968*0x3c+_0x3a2172];});_0x7d5319[_0x144a78(0x184)]((_0x179dfd,_0x4584e6)=>_0x179dfd[0x0]-_0x4584e6[0x0]);let _0x298b7f=[];if(_0x7d5319[_0x144a78(0x211)]>0x0){let _0x2762c0=_0x7d5319[0x0];for(let _0x14c50c=0x1;_0x14c50c<_0x7d5319[_0x144a78(0x211)];_0x14c50c++){_0x7d5319[_0x14c50c][0x0]<_0x2762c0[0x1]?_0x2762c0[0x1]=Math[_0x144a78(0x2b2)](_0x2762c0[0x1],_0x7d5319[_0x14c50c][0x1]):(_0x298b7f[_0x144a78(0x25b)](_0x2762c0),_0x2762c0=_0x7d5319[_0x14c50c]);}_0x298b7f[_0x144a78(0x25b)](_0x2762c0);}let _0x51e779=0x0;_0x298b7f[_0x144a78(0x17d)](_0x4b585f=>_0x51e779+=_0x4b585f[0x1]-_0x4b585f[0x0]),_0x2688ed['style'][_0x144a78(0x1b2)]=_0x144a78(0x274);const _0x14c7b4=_0x2688ed[_0x144a78(0x163)](_0x144a78(0x260));if(_0x4bd3a8===0x0){_0x14c7b4[_0x144a78(0x233)][_0x144a78(0x194)]='100%',_0x14c7b4['style'][_0x144a78(0x224)]='var(--acc-red)';return;}const _0x571df9=_0x51e779/_0x4bd3a8*0x64;console[_0x144a78(0x2b6)]('['+_0x31d39d+_0x144a78(0x207)+_0x9c074e+_0x144a78(0x1d7)+_0x51e779+_0x144a78(0x186)+_0x571df9[_0x144a78(0x20f)](0x1)+'%'),_0x571df9>0x64?(_0x14c7b4[_0x144a78(0x233)]['width']='100%',_0x14c7b4[_0x144a78(0x233)][_0x144a78(0x224)]='var(--acc-red)'):(_0x14c7b4[_0x144a78(0x233)][_0x144a78(0x194)]=_0x571df9+'%',_0x14c7b4[_0x144a78(0x233)][_0x144a78(0x224)]=_0x144a78(0x229));}function renderEventsForColumn(_0x540009,_0x2050e7,_0xc5ac6a){const _0x3ff951=a2_0x1418fc,_0xd23ec3=sessions[_0x3ff951(0x1fa)](_0x111fe9=>_0x111fe9[_0x3ff951(0x20d)]===_0x2050e7),_0xe4a16b=_0xd23ec3[_0x3ff951(0x26d)](_0x555a5e=>{const _0xe8ab87=_0x3ff951,[_0x32b063,_0x26e435]=_0x555a5e[_0xe8ab87(0x280)][_0xe8ab87(0x1ba)](':')[_0xe8ab87(0x26d)](Number),[_0x25b97e,_0x3b754c]=_0x555a5e[_0xe8ab87(0x22d)]['split'](':')[_0xe8ab87(0x26d)](Number);return{'data':_0x555a5e,'start':_0x32b063*0x3c+_0x26e435,'end':_0x25b97e*0x3c+_0x3b754c,'colIndex':0x0};});_0xe4a16b[_0x3ff951(0x184)]((_0x41624f,_0x35c6a8)=>{const _0x4c8c43=_0x3ff951;if(_0x41624f[_0x4c8c43(0x280)]!==_0x35c6a8['start'])return _0x41624f['start']-_0x35c6a8[_0x4c8c43(0x280)];return _0x35c6a8[_0x4c8c43(0x22d)]-_0x35c6a8[_0x4c8c43(0x280)]-(_0x41624f[_0x4c8c43(0x22d)]-_0x41624f[_0x4c8c43(0x280)]);});const _0x556f80=[];_0xe4a16b['forEach'](_0x2c9906=>{const _0x3bfd6b=_0x3ff951;let _0x117035=![];for(let _0x541bb1=0x0;_0x541bb1<_0x556f80['length'];_0x541bb1++){const _0x173410=_0x556f80[_0x541bb1],_0x50711b=_0x173410[_0x173410['length']-0x1];if(_0x2c9906[_0x3bfd6b(0x280)]>=_0x50711b['end']){_0x173410['push'](_0x2c9906),_0x2c9906[_0x3bfd6b(0x2d1)]=_0x541bb1,_0x117035=!![];break;}}!_0x117035&&(_0x556f80[_0x3bfd6b(0x25b)]([_0x2c9906]),_0x2c9906['colIndex']=_0x556f80[_0x3bfd6b(0x211)]-0x1);}),_0xe4a16b[_0x3ff951(0x17d)](_0x399ddb=>{const _0x2714c9=_0x3ff951;let _0xc59aa2=0x0;_0xe4a16b[_0x2714c9(0x17d)](_0x531e67=>{const _0x28d0c8=_0x2714c9;if(Math[_0x28d0c8(0x2b2)](_0x399ddb['start'],_0x531e67['start'])<Math['min'](_0x399ddb[_0x28d0c8(0x22d)],_0x531e67[_0x28d0c8(0x22d)])){if(_0x531e67[_0x28d0c8(0x2d1)]>_0xc59aa2)_0xc59aa2=_0x531e67[_0x28d0c8(0x2d1)];}});const _0x14c039=_0xc59aa2+0x1,_0xb3f80f=0x64/_0x14c039,_0x25104e=_0x399ddb['colIndex']*_0xb3f80f,_0x214112=createEventEl(_0x399ddb['data']);_0x214112[_0x2714c9(0x233)][_0x2714c9(0x194)]=_0x2714c9(0x2d8)+_0xb3f80f+_0x2714c9(0x20b),_0x214112[_0x2714c9(0x233)][_0x2714c9(0x2c1)]=_0x2714c9(0x2d8)+_0x25104e+'%\x20+\x202px)',_0x214112[_0x2714c9(0x233)][_0x2714c9(0x214)]=0xa+_0x399ddb['colIndex'],_0xb3f80f<0x55&&_0x214112[_0x2714c9(0x1d8)][_0x2714c9(0x2a1)](_0x2714c9(0x19c)),_0x540009[_0x2714c9(0x2aa)](_0x214112);});}function createEventEl(_0x19b9f8){const _0x5841d9=a2_0x1418fc,[_0x2af070,_0x26daaf]=_0x19b9f8[_0x5841d9(0x280)][_0x5841d9(0x1ba)](':')[_0x5841d9(0x26d)](Number),[_0x30fe29,_0x400f90]=_0x19b9f8[_0x5841d9(0x22d)][_0x5841d9(0x1ba)](':')[_0x5841d9(0x26d)](Number),_0x21a2d4=(_0x2af070*0x3c+_0x26daaf)/0x3c*GRID_H,_0x65bd16=(_0x30fe29*0x3c+_0x400f90-(_0x2af070*0x3c+_0x26daaf))/0x3c*GRID_H,_0x3793c3=document['createElement']('div'),_0x9b88a3=_0x19b9f8[_0x5841d9(0x2ac)]==='completed'?_0x5841d9(0x259):'';_0x3793c3[_0x5841d9(0x23d)]=_0x5841d9(0x281)+_0x9b88a3,_0x3793c3[_0x5841d9(0x233)][_0x5841d9(0x257)]=_0x21a2d4+'px',_0x3793c3[_0x5841d9(0x233)][_0x5841d9(0x16c)]=Math[_0x5841d9(0x2b2)](_0x65bd16,0x14)+'px';const _0x418627=clients[_0x5841d9(0x263)](_0x3171db=>_0x19b9f8['clientId']&&String(_0x3171db['id'])===String(_0x19b9f8['clientId'])||_0x3171db[_0x5841d9(0x1df)]===_0x19b9f8[_0x5841d9(0x24c)]),_0x22a26f=_0x418627?_0x418627[_0x5841d9(0x298)]:'#0a84ff';_0x3793c3[_0x5841d9(0x233)]['borderLeftColor']=_0x22a26f,_0x3793c3['style'][_0x5841d9(0x1dd)]=hexToRgba(_0x22a26f,0.85);let _0x213fc7='<div\x20class=\x22ev-title\x22>'+_0x19b9f8[_0x5841d9(0x24c)]+_0x5841d9(0x1ec)+_0x19b9f8[_0x5841d9(0x280)]+_0x5841d9(0x26f)+_0x19b9f8[_0x5841d9(0x22d)]+_0x5841d9(0x1ce);return _0x19b9f8['seriesId']&&(_0x213fc7+=_0x5841d9(0x1ee)),_0x19b9f8[_0x5841d9(0x2ac)]===_0x5841d9(0x18b)&&(_0x213fc7+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x3793c3[_0x5841d9(0x1a8)]=_0x213fc7,_0x3793c3[_0x5841d9(0x267)]=_0x2f8585=>{_0x2f8585['stopPropagation'](),openEdit(_0x19b9f8);},_0x3793c3;}function attachLongPressHandler(_0x535a19,_0x5250b8){const _0x48d33c=a2_0x1418fc;let _0x2beda5=0x0,_0xa5ad93=null;const _0x487a7a=_0x5e638a=>{const _0x45e209=a2_0xe3d5;if(_0x5e638a['target'][_0x45e209(0x185)]('.event-card'))return;isScrolling=![],_0x2beda5=_0x5e638a[_0x45e209(0x206)]?_0x5e638a[_0x45e209(0x206)][0x0][_0x45e209(0x20e)]:_0x5e638a[_0x45e209(0x20e)],_0xa5ad93=setTimeout(()=>{const _0x5107f0=_0x45e209;if(!isScrolling){navigator[_0x5107f0(0x1d4)]?.(0x32);const _0x398b55=_0x535a19[_0x5107f0(0x284)](),_0x416412=Math[_0x5107f0(0x1b6)]((_0x2beda5-_0x398b55[_0x5107f0(0x257)])/GRID_H);_0x5250b8[_0x5107f0(0x245)](_0x416412,0x0),openAddSession(_0x5250b8);}},0x1f4);},_0xf6b9b9=()=>{isScrolling=!![],clearTimeout(_0xa5ad93);},_0x76b6a9=()=>{clearTimeout(_0xa5ad93);};_0x535a19[_0x48d33c(0x27f)]('touchstart',_0x487a7a,{'passive':!![]}),_0x535a19['addEventListener'](_0x48d33c(0x1fb),_0xf6b9b9,{'passive':!![]}),_0x535a19[_0x48d33c(0x27f)]('touchend',_0x76b6a9),_0x535a19[_0x48d33c(0x27f)](_0x48d33c(0x1c0),_0x487a7a),_0x535a19[_0x48d33c(0x27f)]('mousemove',_0xf6b9b9),_0x535a19['addEventListener'](_0x48d33c(0x22b),_0x76b6a9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4e9dd8=a2_0x1418fc,_0x5df78e=document[_0x4e9dd8(0x165)](_0x4e9dd8(0x273)),_0x4f828c=_0x5df78e[_0x4e9dd8(0x1af)],_0x452129=_0x5df78e[_0x4e9dd8(0x2a0)],_0x2651da=_0x5df78e[_0x4e9dd8(0x19f)];if(_0x452129-(_0x4f828c+_0x2651da)<0x12c){const _0x254de5=endOffset;endOffset+=0xe,renderDayRange(_0x254de5+0x1,endOffset),reRenderBlocks();}if(_0x4f828c<0x12c){const _0x54edfc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54edfc-0x1),_0x5df78e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5c2b0c,_0x54ffda){const _0x4c65d0=a2_0x1418fc,_0x142202=document['getElementById']('daysHeaderTrack'),_0x28de15=document[_0x4c65d0(0x165)]('gridColumns'),_0x41811d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29ead3=new Date();_0x29ead3[_0x4c65d0(0x245)](0x0,0x0,0x0,0x0);const _0x419aaa=getLocalDateStr(new Date()),_0x444ad6=document[_0x4c65d0(0x1c5)](),_0x5eab0d=document[_0x4c65d0(0x1c5)]();for(let _0x48937f=_0x5c2b0c;_0x48937f<=_0x54ffda;_0x48937f++){const _0x257c03=new Date(_0x29ead3);_0x257c03['setDate'](_0x257c03['getDate']()+_0x48937f);const _0x3a4c9e=getLocalDateStr(_0x257c03);let _0x2d8ab7=_0x257c03['getDay']()-0x1;if(_0x2d8ab7===-0x1)_0x2d8ab7=0x6;const _0x59e86f=_0x3a4c9e===_0x419aaa,_0x4b2c06=document['createElement'](_0x4c65d0(0x276));_0x4b2c06[_0x4c65d0(0x23d)]=_0x4c65d0(0x1fd)+(_0x59e86f?_0x4c65d0(0x1bd):''),_0x4b2c06['id']=_0x4c65d0(0x217)+_0x3a4c9e,_0x4b2c06[_0x4c65d0(0x16a)](_0x4c65d0(0x1d9),_0x3a4c9e),_0x4b2c06['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x41811d[_0x2d8ab7]+'</div><div\x20class=\x22dch-num\x22>'+_0x257c03[_0x4c65d0(0x25f)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3a4c9e+_0x4c65d0(0x19d),_0x4b2c06['onclick']=()=>openDayOptions(_0x3a4c9e,_0x41811d[_0x2d8ab7]+'\x20'+_0x257c03[_0x4c65d0(0x25f)]()),_0x444ad6['appendChild'](_0x4b2c06);const _0x4030ac=document[_0x4c65d0(0x18d)](_0x4c65d0(0x276));_0x4030ac[_0x4c65d0(0x23d)]=_0x4c65d0(0x1f5)+(_0x59e86f?_0x4c65d0(0x1bd):''),_0x4030ac['setAttribute'](_0x4c65d0(0x1d9),_0x3a4c9e),_0x4030ac[_0x4c65d0(0x16a)](_0x4c65d0(0x293),_0x2d8ab7),renderEventsForColumn(_0x4030ac,_0x3a4c9e,_0x2d8ab7),attachLongPressHandler(_0x4030ac,_0x257c03),_0x5eab0d[_0x4c65d0(0x2aa)](_0x4030ac),updateDayStats(_0x3a4c9e);}_0x142202[_0x4c65d0(0x2b5)](_0x444ad6,_0x142202[_0x4c65d0(0x23a)]),_0x28de15[_0x4c65d0(0x2b5)](_0x5eab0d,_0x28de15[_0x4c65d0(0x163)](_0x4c65d0(0x269)));}function validateAppointment(_0x48581c,_0x104264,_0x57d813,_0x44758a,_0x4bb401){const _0x2a68e7=a2_0x1418fc,[_0x2887b2,_0x252421]=_0x104264[_0x2a68e7(0x1ba)](':')[_0x2a68e7(0x26d)](Number),[_0x55663e,_0x159793]=_0x57d813['split'](':')[_0x2a68e7(0x26d)](Number),_0x2acffa=_0x2887b2*0x3c+_0x252421,_0x5a3e4a=_0x55663e*0x3c+_0x159793,_0x2e24da=String(_0x4bb401);let _0x5f9883=![],_0x2028a1='';for(let _0x41a132 of sessions){if(_0x41a132[_0x2a68e7(0x20d)]!==_0x48581c)continue;if(_0x41a132[_0x2a68e7(0x2ac)]===_0x2a68e7(0x2ba))continue;if(_0x44758a&&String(_0x41a132['id'])===String(_0x44758a))continue;const [_0x534c53,_0x4b1a92]=_0x41a132[_0x2a68e7(0x280)][_0x2a68e7(0x1ba)](':')[_0x2a68e7(0x26d)](Number),[_0x30af7b,_0xe7ad8f]=_0x41a132[_0x2a68e7(0x22d)][_0x2a68e7(0x1ba)](':')[_0x2a68e7(0x26d)](Number),_0x4457d6=_0x534c53*0x3c+_0x4b1a92,_0x473c91=_0x30af7b*0x3c+_0xe7ad8f;if(Math[_0x2a68e7(0x2b2)](_0x2acffa,_0x4457d6)<Math[_0x2a68e7(0x222)](_0x5a3e4a,_0x473c91)){if(_0x41a132['clientId']&&String(_0x41a132[_0x2a68e7(0x1dc)])===_0x2e24da)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x41a132[_0x2a68e7(0x24c)]+_0x2a68e7(0x2bb)};_0x5f9883=!![],_0x2028a1=_0x41a132['client'];}}if(_0x5f9883)return{'valid':!![],'warning':_0x2a68e7(0x1b9)+_0x2028a1};return{'valid':!![]};}function updateDateDisplay(){const _0x691c49=a2_0x1418fc,_0x5a3de0=document[_0x691c49(0x165)]('inpDate')[_0x691c49(0x1db)],_0x1abc89=document['getElementById'](_0x691c49(0x1ae));if(!_0x5a3de0){_0x1abc89['textContent']='';return;}const [_0x437028,_0x116065,_0xc4e0c0]=_0x5a3de0[_0x691c49(0x1ba)]('-')[_0x691c49(0x26d)](Number),_0x50f76a=new Date(_0x437028,_0x116065-0x1,_0xc4e0c0),_0xaea4ac={'weekday':_0x691c49(0x2b3),'day':_0x691c49(0x1cf),'month':_0x691c49(0x2b3),'year':'numeric'};let _0x217a32=_0x50f76a[_0x691c49(0x1b7)](_0x691c49(0x291),_0xaea4ac);_0x217a32=_0x217a32[_0x691c49(0x2bd)](0x0)[_0x691c49(0x2ce)]()+_0x217a32[_0x691c49(0x1be)](0x1),_0x1abc89[_0x691c49(0x190)]=_0x217a32;}function autoSetEndTime(){const _0x40bc46=a2_0x1418fc,_0x2c2522=document['getElementById']('inpStart')[_0x40bc46(0x1db)];if(!_0x2c2522)return;const [_0x3a53b2,_0x18b7eb]=_0x2c2522[_0x40bc46(0x1ba)](':')['map'](Number);let _0x15382f=_0x3a53b2+0x1;if(_0x15382f>0x17)_0x15382f=0x0;const _0x3ffa36=String(_0x15382f)[_0x40bc46(0x243)](0x2,'0')+':'+String(_0x18b7eb)['padStart'](0x2,'0');document[_0x40bc46(0x165)](_0x40bc46(0x228))[_0x40bc46(0x1db)]=_0x3ffa36;}function populateClientSelect(){const _0x426018=a2_0x1418fc,_0x449898=document['getElementById'](_0x426018(0x1c1));_0x449898['innerHTML']='';if(clients[_0x426018(0x211)]===0x0){const _0x1b3cff=document['createElement'](_0x426018(0x225));_0x1b3cff['text']=_0x426018(0x287),_0x449898['appendChild'](_0x1b3cff);return;}clients['forEach'](_0x1b891d=>{const _0x11790e=_0x426018,_0x5444ed=document['createElement'](_0x11790e(0x225));_0x5444ed['value']=_0x1b891d[_0x11790e(0x1df)],_0x5444ed[_0x11790e(0x190)]=_0x1b891d[_0x11790e(0x1df)],_0x449898[_0x11790e(0x2aa)](_0x5444ed);});}function openActionSheet(_0x43902b){const _0x43e2e3=a2_0x1418fc,_0x293122=document[_0x43e2e3(0x165)](_0x43e2e3(0x216)),_0xb2182a=document['getElementById']('actionSheetOverlay'),_0x48e6d9=document[_0x43e2e3(0x165)](_0x43e2e3(0x1ea)),_0xbfb4d0=document['getElementById'](_0x43e2e3(0x252)),_0x10cf55=document[_0x43e2e3(0x165)](_0x43e2e3(0x1a3));_0xb2182a[_0x43e2e3(0x1d8)][_0x43e2e3(0x2a1)](_0x43e2e3(0x1bc)),_0x293122[_0x43e2e3(0x1d8)][_0x43e2e3(0x2a1)](_0x43e2e3(0x1c7));if(_0x43902b==='save')_0x48e6d9[_0x43e2e3(0x190)]=_0x43e2e3(0x164),_0xbfb4d0[_0x43e2e3(0x190)]=_0x43e2e3(0x175),_0xbfb4d0[_0x43e2e3(0x267)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x10cf55[_0x43e2e3(0x190)]=_0x43e2e3(0x1de),_0x10cf55['onclick']=()=>{const _0x524f3b=_0x43e2e3;closeActionSheet(),updateSeriesBatch(_0x524f3b(0x1ad),tempSessionData);};else _0x43902b===_0x43e2e3(0x1a9)&&(_0x48e6d9[_0x43e2e3(0x190)]=_0x43e2e3(0x176),_0xbfb4d0[_0x43e2e3(0x190)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0xbfb4d0[_0x43e2e3(0x23d)]=_0x43e2e3(0x296),_0xbfb4d0[_0x43e2e3(0x267)]=()=>{const _0x553948=_0x43e2e3;closeActionSheet(),commitDelete('single',sessions[_0x553948(0x263)](_0x3e04db=>_0x3e04db['id']===editingId));},_0x10cf55[_0x43e2e3(0x190)]=_0x43e2e3(0x1de),_0x10cf55[_0x43e2e3(0x23d)]='as-button\x20danger\x20bold',_0x10cf55[_0x43e2e3(0x267)]=()=>{const _0x5579a5=_0x43e2e3;closeActionSheet(),commitDelete(_0x5579a5(0x1ad),sessions[_0x5579a5(0x263)](_0x688d26=>_0x688d26['id']===editingId));});}function closeActionSheet(){const _0x10ecf7=a2_0x1418fc;document[_0x10ecf7(0x165)](_0x10ecf7(0x216))[_0x10ecf7(0x1d8)][_0x10ecf7(0x18c)](_0x10ecf7(0x1c7)),document[_0x10ecf7(0x165)](_0x10ecf7(0x28d))['classList'][_0x10ecf7(0x18c)](_0x10ecf7(0x1bc));}function openSettings(){const _0x47d298=a2_0x1418fc;openSheet(_0x47d298(0x180));}function saveCoachSettings(){const _0x997cd5=a2_0x1418fc,_0x8c54a2=document[_0x997cd5(0x165)](_0x997cd5(0x187))['value'];localStorage[_0x997cd5(0x2d2)](_0x997cd5(0x1a1),_0x8c54a2),console[_0x997cd5(0x2b6)](_0x997cd5(0x166),_0x8c54a2),DataManager[_0x997cd5(0x162)]('save_settings',{'settings':{'cancel_window':_0x8c54a2}})[_0x997cd5(0x24a)](_0x3159ee=>{const _0x4c8822=_0x997cd5;console[_0x4c8822(0x29d)](_0x4c8822(0x290),_0x3159ee),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x47f863=a2_0x1418fc,_0x44aaf4=localStorage[_0x47f863(0x2ca)]('uc_settings_cancel_window');_0x44aaf4&&(document[_0x47f863(0x165)](_0x47f863(0x187))[_0x47f863(0x1db)]=_0x44aaf4);}function openRangesSheet(){const _0x5c15ff=a2_0x1418fc;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5c15ff(0x1cc));}function addRange(){const _0x322437=a2_0x1418fc,_0x318eb7=document[_0x322437(0x165)](_0x322437(0x26c))[_0x322437(0x1db)],_0x4cd4ef=document[_0x322437(0x165)](_0x322437(0x230))['value'],_0x4607b3=document['getElementById'](_0x322437(0x191))['value'],_0x3a3c72=document[_0x322437(0x165)]('rangeEndTime')[_0x322437(0x1db)];if(!_0x318eb7||!_0x4cd4ef||!_0x4607b3||!_0x3a3c72)return alert(_0x322437(0x1b8));const _0x12ad76=_0x318eb7+'T'+_0x4cd4ef,_0x2bd6ad=_0x4607b3+'T'+_0x3a3c72;if(_0x12ad76>=_0x2bd6ad)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x322437(0x25b)]({'start':_0x12ad76,'end':_0x2bd6ad}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x322437(0x19b)](),DataManager[_0x322437(0x162)](_0x322437(0x23f),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x14f61d){const _0x52bcd9=a2_0x1418fc;specialRanges['splice'](_0x14f61d,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x52bcd9(0x19b)](),DataManager[_0x52bcd9(0x162)](_0x52bcd9(0x23f),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2bd6d0=a2_0x1418fc;document[_0x2bd6d0(0x165)]('rangeStartDate')[_0x2bd6d0(0x1db)]='',document[_0x2bd6d0(0x165)](_0x2bd6d0(0x230))[_0x2bd6d0(0x1db)]='00:00',document[_0x2bd6d0(0x165)](_0x2bd6d0(0x191))[_0x2bd6d0(0x1db)]='',document[_0x2bd6d0(0x165)]('rangeEndTime')['value']=_0x2bd6d0(0x27a);}function renderRangesList(){const _0x40a827=a2_0x1418fc,_0x4586b2=document['getElementById']('rangesList');_0x4586b2[_0x40a827(0x1a8)]='';if(!specialRanges['length']){_0x4586b2[_0x40a827(0x1a8)]=_0x40a827(0x2c4);return;}specialRanges[_0x40a827(0x17d)]((_0x13a7a0,_0x42478f)=>{const _0x2bb8ba=_0x40a827,_0x52ba40=document[_0x2bb8ba(0x18d)]('div');_0x52ba40[_0x2bb8ba(0x23d)]=_0x2bb8ba(0x2d0);const _0x445696=_0x103ff4=>{const _0x3a4567=_0x2bb8ba,_0x28490c=new Date(_0x103ff4);return _0x28490c['getDate']()+'.'+String(_0x28490c['getMonth']()+0x1)[_0x3a4567(0x243)](0x2,'0')+'\x20'+String(_0x28490c['getHours']())[_0x3a4567(0x243)](0x2,'0')+':'+String(_0x28490c[_0x3a4567(0x255)]())[_0x3a4567(0x243)](0x2,'0');};_0x52ba40[_0x2bb8ba(0x1a8)]=_0x2bb8ba(0x1c9)+_0x445696(_0x13a7a0[_0x2bb8ba(0x280)])+_0x2bb8ba(0x231)+_0x445696(_0x13a7a0[_0x2bb8ba(0x22d)])+_0x2bb8ba(0x21e)+_0x42478f+_0x2bb8ba(0x1da),_0x4586b2[_0x2bb8ba(0x2aa)](_0x52ba40);});}function scrollToToday(){const _0x8f3eaa=a2_0x1418fc,_0x29bb1a=getLocalDateStr(new Date()),_0x13e558=document[_0x8f3eaa(0x165)](_0x8f3eaa(0x217)+_0x29bb1a),_0x6d6b81=document[_0x8f3eaa(0x165)](_0x8f3eaa(0x273));if(_0x13e558&&_0x6d6b81){const _0xe1c6bb=_0x6d6b81['clientWidth'],_0x2c58c5=_0x13e558['offsetLeft'],_0x2566f8=_0x13e558['offsetWidth'];_0x6d6b81[_0x8f3eaa(0x1af)]=_0x2c58c5-_0xe1c6bb/0x2+_0x2566f8/0x2,_0x6d6b81[_0x8f3eaa(0x283)]=0x9*GRID_H;}}function onScroll(){const _0x5e9be0=a2_0x1418fc,_0x3d9305=document[_0x5e9be0(0x165)](_0x5e9be0(0x273)),_0x21ee1e=document['querySelectorAll'](_0x5e9be0(0x21b));for(let _0xdbb7b6 of _0x21ee1e)if(_0xdbb7b6[_0x5e9be0(0x2c8)]>=_0x3d9305[_0x5e9be0(0x1af)]){const _0x171df4=new Date(_0xdbb7b6[_0x5e9be0(0x26a)]('data-date'));document[_0x5e9be0(0x165)](_0x5e9be0(0x299))['textContent']=_0x171df4[_0x5e9be0(0x2c0)]('ru',{'month':_0x5e9be0(0x2b3)})[_0x5e9be0(0x2ce)]()+'\x20'+_0x171df4[_0x5e9be0(0x23e)]();break;}}function showToast(_0x3438cb,_0x452b2c=![]){const _0x20371d=a2_0x1418fc,_0x31be59=document['getElementById']('toast');_0x31be59[_0x20371d(0x23d)]=_0x20371d(0x277)+(_0x452b2c?_0x20371d(0x1ed):''),document[_0x20371d(0x165)]('toastTitle')[_0x20371d(0x190)]=_0x452b2c?_0x20371d(0x19e):_0x20371d(0x289),document[_0x20371d(0x165)](_0x20371d(0x2b1))[_0x20371d(0x190)]=_0x3438cb,_0x31be59[_0x20371d(0x1d8)][_0x20371d(0x2a1)](_0x20371d(0x22e)),setTimeout(()=>{const _0x145c83=_0x20371d;_0x31be59[_0x145c83(0x1d8)][_0x145c83(0x18c)](_0x145c83(0x22e));},0xbb8);}function openDayOptions(_0x780bce,_0x2d2207){const _0xc76bdd=a2_0x1418fc;selectedDayForOptions=_0x780bce,document['getElementById']('dayOptionsTitle')[_0xc76bdd(0x190)]=_0x2d2207,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x138973=a2_0x1418fc;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x138973(0x1c6),reRenderBlocks(),closeAllSheets(),DataManager[_0x138973(0x19b)](),DataManager['fetchFromServer'](_0x138973(0x23f),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2f6f5d=a2_0x1418fc;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2f6f5d(0x19b)](),DataManager[_0x2f6f5d(0x162)](_0x2f6f5d(0x23f),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x139ebb){const _0x5db148=a2_0x1418fc;document[_0x5db148(0x165)](_0x5db148(0x265))['classList'][_0x5db148(0x2a1)](_0x5db148(0x1bc)),document[_0x5db148(0x165)](_0x139ebb)[_0x5db148(0x1d8)][_0x5db148(0x2a1)](_0x5db148(0x1c7));}function closeAllSheets(){const _0x21a92f=a2_0x1418fc;document[_0x21a92f(0x165)]('overlay')[_0x21a92f(0x1d8)][_0x21a92f(0x18c)](_0x21a92f(0x1bc)),document[_0x21a92f(0x16f)](_0x21a92f(0x1e7))[_0x21a92f(0x17d)](_0x2f7988=>_0x2f7988[_0x21a92f(0x1d8)]['remove'](_0x21a92f(0x1c7)));}function openPatternEditor(){const _0x58667a=a2_0x1418fc;closeAllSheets(),document[_0x58667a(0x165)](_0x58667a(0x27d))['classList'][_0x58667a(0x2a1)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x530f66=a2_0x1418fc;document[_0x530f66(0x165)]('patternEditor')[_0x530f66(0x1d8)][_0x530f66(0x18c)]('open');}function a2_0x1e63(){const _0x5b08a5=['flex','[Notify]\x20Attempting\x20to\x20send:','div','toast-notification\x20','update','BackButton','23:59','WebApp','inpRecurring','patternEditor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','addEventListener','start','event-card','#050505','scrollTop','getBoundingClientRect','exceptions','data','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','Server\x20Error','–ò–Ω—Ñ–æ','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','checked','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','actionSheetOverlay',':00','.day-off-overlay','Save\x20settings\x20error:','ru-RU','sessionSheet','data-day-idx','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','DOMContentLoaded','as-button\x20danger','search','color','headerMonth','warning','onClick','batch_sync','error','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','save','scrollWidth','add','inpSeriesCount','getDay','valid','pe-col-header','round','21481236ASvVDt','analyticsSheet','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','appendChild','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','status','settings','110VfDbIR','...','calendar','toastMessage','max','long','getMonth','insertBefore','log','doLoadPercent','226237AdTYTV','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','cancelled',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','<b>‚úÖ\x20','charAt','getHours','setBackgroundColor','toLocaleString','left','5240102UkDygs','create','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','3yRwlQq','btn-primary\x20btn-secondary','stat-','offsetLeft','blocked-slot\x20stripe-bg','getItem','patternInfoBox','rgba(','Error\x20setting\x20back\x20button:','toUpperCase','var(--acc-green)','range-item','colIndex','setItem','constructor','peGrid','send','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','calc(','startsWith','cancel_window','rgba(48,\x20209,\x2088,\x200.15)','inpNote','\x20days','fetchFromServer','querySelector','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','getElementById','[Settings]\x20Cancel\x20window\x20set\x20to:','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','includes','random','setAttribute','stopPropagation','height','anCustomDates','Telegram','querySelectorAll','timeLineBadge','[Notify]\x20Detected\x20Client\x20ID:','[Notify]\x20Error:\x20sessionData\x20is\x20null','day-off-overlay\x20stripe-bg','custom','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–£–¥–∞–ª–µ–Ω–∏–µ','stringify','borderRadius','doDateHeader','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','isArray','init_load','forEach','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','settingsSheet','complete','seriesId','getTime','sort','closest','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','settingCancelWindow','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','Critical\x20TMA\x20Error:','toString','completed','remove','createElement','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','formatDate','textContent','rangeEndDate','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','now','width','POST','note','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','pattern','[Notify]\x20Error:\x20Text\x20generation\x20failed','ranges','saveLocally','mini','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–£—Å–ø–µ—à–Ω–æ','clientWidth','blocked-range-part\x20stripe-bg','uc_settings_cancel_window','anDonutCircle','asBtnSeries','rgba(255,\x20159,\x2010,\x200.3)','setDate','uc_sessions_v9','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','innerHTML','delete','Error\x20setting\x20color:','btn-status-toggle\x20undo-mode','strokeDashoffset','series','sheetDateSubtitle','scrollLeft','#fff','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','display','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Local\x20Save\x20Error','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','floor','toLocaleDateString','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','split','all','active','today','slice','6HSgLQY','mousedown','inpClient','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','createDocumentFragment','off','open','24KVfZHv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','ready','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','rangesSheet','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','</div>','numeric','doBusyHours','initDataUnsafe','1541686LJWaRy','pe-cell\x20','vibrate','.period-switch\x20.p-btn','from','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','classList','data-date',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','value','clientId','backgroundColor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','name','</b>\x0a\x0a','10px','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','inpDate','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','done','disableVerticalSwipes','.sheet','total','loadLocal','asTitle',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','</div><div\x20class=\x22ev-time\x22>','success','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','doEventsList','anEnd','pe-corner','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','backgroundPosition','var(--acc-red)','day-column\x20','warn','Local\x20Load\x20Error','pe-time-label','indexOf','filter','touchmove','de-item','day-col-header\x20',':00</span>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','btn-status-toggle','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','block','8tLKSOw','globalTimeLine','anTotalStats','touches',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','btnDayToggle','recurringOptionContainer','anStart','%\x20-\x204px)','rgba(255,\x2069,\x2058,\x200.15)','dateStr','clientY','toFixed','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','length','none','guest','zIndex','msg','actionSheet','header-','user','planned','analyticsList','.day-col-header','scroll','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','borderLeftColor','min','(((.+)+)+)+$','background','option','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','inpEnd','var(--acc-current)','btnDelete','mouseup','syncBatch','end','show',':\x20Client\x20already\x20booked','rangeStartTime','\x20‚Äî\x20','parse','style','syncLoad','40450auHUQt','[API\x20','px\x20-','588605qTbfKg','seriesCountContainer','firstChild','var(--acc-orange)',']\x20Failed:','className','getFullYear','save_settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offClick','week','padStart','<div\x20class=\x22dch-day\x22>','setHours','uc_clients_v9','send_notification','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','btnStatusToggle','catch','borderColor','client','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','[Notify]\x20Server\x20Response:','[Sync]\x20Loading\x20','splice','clients','asBtnOne','inpStart','7308099SkeQwB','getMinutes','[Notify]\x20Network\x20Failed','top','localeCompare','\x20status-completed','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','push','single','daysHeaderTrack','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','getDate','.dch-stats-fill','sheetTitle','mergeServerData','find','cancel','overlay','sid','onclick','then','.day-column','getAttribute','px\x200px','rangeStartDate','map','rgba(255,\x2069,\x2058,\x200.3)','\x20-\x20','json','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','.pib-text','matrixViewport'];a2_0x1e63=function(){return _0x5b08a5;};return a2_0x1e63();}function savePattern(){const _0x54f786=a2_0x1418fc;document['getElementById'](_0x54f786(0x27d))[_0x54f786(0x1d8)]['remove'](_0x54f786(0x1c7)),reRenderBlocks(),DataManager[_0x54f786(0x19b)](),DataManager[_0x54f786(0x162)](_0x54f786(0x23f),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2ef0a6=a2_0x1418fc,_0x44d35f=document[_0x2ef0a6(0x165)](_0x2ef0a6(0x2d4));_0x44d35f[_0x2ef0a6(0x1a8)]='';const _0x48e5d4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x38c93f=document[_0x2ef0a6(0x18d)]('div');_0x38c93f[_0x2ef0a6(0x23d)]=_0x2ef0a6(0x1f1),_0x44d35f[_0x2ef0a6(0x2aa)](_0x38c93f),_0x48e5d4[_0x2ef0a6(0x17d)]((_0x51bd3a,_0x527a03)=>{const _0x29a40e=_0x2ef0a6,_0x393c9c=document['createElement']('div');_0x393c9c[_0x29a40e(0x23d)]=_0x29a40e(0x2a5),_0x393c9c[_0x29a40e(0x1a8)]=_0x51bd3a+_0x29a40e(0x1ff),_0x393c9c[_0x29a40e(0x267)]=()=>toggleColPattern(_0x527a03),_0x44d35f[_0x29a40e(0x2aa)](_0x393c9c);});for(let _0x148e72=0x0;_0x148e72<0x18;_0x148e72++){const _0x4ebf4e=document[_0x2ef0a6(0x18d)](_0x2ef0a6(0x276));_0x4ebf4e['className']=_0x2ef0a6(0x1f8),_0x4ebf4e[_0x2ef0a6(0x1a8)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x148e72)['padStart'](0x2,'0')+_0x2ef0a6(0x28e),_0x4ebf4e[_0x2ef0a6(0x267)]=()=>toggleRowPattern(_0x148e72),_0x44d35f['appendChild'](_0x4ebf4e);for(let _0x54c84b=0x0;_0x54c84b<0x7;_0x54c84b++){const _0x6c85fe=document[_0x2ef0a6(0x18d)](_0x2ef0a6(0x276)),_0x405916=(availabilityPattern[_0x54c84b]||[])[_0x2ef0a6(0x168)](_0x148e72),_0x3fa8b0=!_0x405916;_0x6c85fe['className']=_0x2ef0a6(0x1d3)+(_0x3fa8b0?_0x2ef0a6(0x1bc):''),_0x6c85fe['onclick']=()=>toggleSinglePattern(_0x54c84b,_0x148e72),_0x44d35f[_0x2ef0a6(0x2aa)](_0x6c85fe);}}}function toggleSinglePattern(_0x5f31a0,_0x28ae2a){const _0x44c34b=a2_0x1418fc;if(!availabilityPattern[_0x5f31a0])availabilityPattern[_0x5f31a0]=[];const _0x10f9ba=availabilityPattern[_0x5f31a0],_0x245676=_0x10f9ba[_0x44c34b(0x1f9)](_0x28ae2a);_0x245676===-0x1?_0x10f9ba[_0x44c34b(0x25b)](_0x28ae2a):_0x10f9ba[_0x44c34b(0x250)](_0x245676,0x1),renderPatternEditor();}function toggleColPattern(_0x297506){const _0x3d4430=a2_0x1418fc;if(!availabilityPattern[_0x297506])availabilityPattern[_0x297506]=[];const _0x3a10f7=availabilityPattern[_0x297506];_0x3a10f7[_0x3d4430(0x211)]===0x0?availabilityPattern[_0x297506]=Array[_0x3d4430(0x1d6)]({'length':0x18},(_0x1d7cee,_0x3bcd9d)=>_0x3bcd9d):availabilityPattern[_0x297506]=[],renderPatternEditor();}function toggleRowPattern(_0x5e6abd){const _0x5d7358=a2_0x1418fc;let _0x45f6c0=!![];for(let _0x5b5389=0x0;_0x5b5389<0x7;_0x5b5389++){if((availabilityPattern[_0x5b5389]||[])[_0x5d7358(0x168)](_0x5e6abd)){_0x45f6c0=![];break;}}for(let _0x2bab29=0x0;_0x2bab29<0x7;_0x2bab29++){if(!availabilityPattern[_0x2bab29])availabilityPattern[_0x2bab29]=[];const _0x74d406=availabilityPattern[_0x2bab29][_0x5d7358(0x1f9)](_0x5e6abd);if(_0x45f6c0){if(_0x74d406===-0x1)availabilityPattern[_0x2bab29][_0x5d7358(0x25b)](_0x5e6abd);}else{if(_0x74d406!==-0x1)availabilityPattern[_0x2bab29][_0x5d7358(0x250)](_0x74d406,0x1);}}renderPatternEditor();}function renderPCol(_0x595b67,_0x52a921){const _0x165b13=a2_0x1418fc;_0x595b67['innerHTML']='';const _0x10c205=Math['round'](_0x595b67[_0x165b13(0x2c8)]);(availabilityPattern[_0x52a921]||[])[_0x165b13(0x17d)](_0x35e2e6=>{const _0x460b0d=_0x165b13,_0x319f80=document[_0x460b0d(0x18d)]('div');_0x319f80[_0x460b0d(0x23d)]='blocked-slot\x20stripe-bg';const _0x4bbfd0=_0x35e2e6*GRID_H;_0x319f80[_0x460b0d(0x233)][_0x460b0d(0x257)]=_0x4bbfd0+'px',_0x319f80['style'][_0x460b0d(0x1f3)]='-'+_0x10c205+_0x460b0d(0x237)+_0x4bbfd0+'px',_0x319f80[_0x460b0d(0x267)]=_0x4e92f5=>{const _0x405c5c=_0x460b0d;_0x4e92f5[_0x405c5c(0x16b)](),toggleSinglePattern(_0x52a921,_0x35e2e6);},_0x595b67[_0x460b0d(0x2aa)](_0x319f80);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x186c0c=a2_0x1418fc,_0x57071f=new Date(),_0x9de7a8=document['getElementById'](_0x186c0c(0x204)),_0x287810=document[_0x186c0c(0x165)](_0x186c0c(0x170)),_0x1235dc=(_0x57071f[_0x186c0c(0x2be)]()*0x3c+_0x57071f[_0x186c0c(0x255)]())/0x3c*GRID_H;_0x9de7a8[_0x186c0c(0x233)][_0x186c0c(0x257)]=_0x1235dc+'px',_0x9de7a8[_0x186c0c(0x233)][_0x186c0c(0x1b2)]='block',_0x287810['textContent']=String(_0x57071f['getHours']())[_0x186c0c(0x243)](0x2,'0')+':'+String(_0x57071f['getMinutes']())[_0x186c0c(0x243)](0x2,'0'),_0x287810[_0x186c0c(0x233)]['display']=_0x186c0c(0x202),_0x287810[_0x186c0c(0x233)][_0x186c0c(0x257)]=_0x1235dc+'px';}document['addEventListener'](a2_0x1418fc(0x295),init);function openDayOptions(_0x5d8729){const _0x581efb=a2_0x1418fc;selectedDayForOptions=_0x5d8729;const _0x5d75cb=new Date(_0x5d8729),_0x561bcc={'weekday':_0x581efb(0x2b3),'day':_0x581efb(0x1cf),'month':_0x581efb(0x2b3),'year':'numeric'},_0x439f1f=_0x5d75cb[_0x581efb(0x1b7)](_0x581efb(0x291),_0x561bcc);document[_0x581efb(0x165)](_0x581efb(0x179))['textContent']=_0x439f1f[_0x581efb(0x2bd)](0x0)[_0x581efb(0x2ce)]()+_0x439f1f[_0x581efb(0x1be)](0x1);let _0x42485c=_0x5d75cb[_0x581efb(0x2a3)]()-0x1;if(_0x42485c===-0x1)_0x42485c=0x6;const _0x5460bf=availabilityPattern[_0x42485c]||[],_0x45a042=0x18-_0x5460bf[_0x581efb(0x211)],_0x1d2a86=_0x45a042*0x3c,_0x7f905a=sessions[_0x581efb(0x1fa)](_0x4eac43=>_0x4eac43[_0x581efb(0x20d)]===_0x5d8729&&_0x4eac43[_0x581efb(0x2ac)]!==_0x581efb(0x2ba));let _0x1c74bf=_0x7f905a['map'](_0x52e127=>{const _0x527ac4=_0x581efb,[_0x29eca8,_0xac692]=_0x52e127[_0x527ac4(0x280)][_0x527ac4(0x1ba)](':')[_0x527ac4(0x26d)](Number),[_0x1263e9,_0x29c343]=_0x52e127[_0x527ac4(0x22d)][_0x527ac4(0x1ba)](':')[_0x527ac4(0x26d)](Number);return[_0x29eca8*0x3c+_0xac692,_0x1263e9*0x3c+_0x29c343];});_0x1c74bf[_0x581efb(0x184)]((_0x25afdc,_0x3d23c0)=>_0x25afdc[0x0]-_0x3d23c0[0x0]);let _0x49c674=[];if(_0x1c74bf[_0x581efb(0x211)]>0x0){let _0x3ccfd2=_0x1c74bf[0x0];for(let _0x27d12c=0x1;_0x27d12c<_0x1c74bf[_0x581efb(0x211)];_0x27d12c++){_0x1c74bf[_0x27d12c][0x0]<_0x3ccfd2[0x1]?_0x3ccfd2[0x1]=Math[_0x581efb(0x2b2)](_0x3ccfd2[0x1],_0x1c74bf[_0x27d12c][0x1]):(_0x49c674[_0x581efb(0x25b)](_0x3ccfd2),_0x3ccfd2=_0x1c74bf[_0x27d12c]);}_0x49c674[_0x581efb(0x25b)](_0x3ccfd2);}let _0x3a13fa=0x0;_0x49c674[_0x581efb(0x17d)](_0x4b37be=>_0x3a13fa+=_0x4b37be[0x1]-_0x4b37be[0x0]),document['getElementById']('doWorkHours')['textContent']=formatMinsToHrs(_0x1d2a86),document[_0x581efb(0x165)](_0x581efb(0x1d0))[_0x581efb(0x190)]=formatMinsToHrs(_0x3a13fa);const _0x33043c=_0x1d2a86>0x0?Math['round'](_0x3a13fa/_0x1d2a86*0x64):0x0,_0x4433d9=document[_0x581efb(0x165)](_0x581efb(0x2b7));_0x4433d9[_0x581efb(0x190)]=_0x33043c+'%';const _0x4df5fe=document[_0x581efb(0x165)]('statLoadCard');if(_0x33043c>0x64)_0x4433d9['style'][_0x581efb(0x298)]=_0x581efb(0x1f4),_0x4df5fe[_0x581efb(0x233)][_0x581efb(0x24b)]=_0x581efb(0x26e);else _0x33043c>0x50?(_0x4433d9['style']['color']=_0x581efb(0x23b),_0x4df5fe[_0x581efb(0x233)][_0x581efb(0x24b)]=_0x581efb(0x1a4)):(_0x4433d9[_0x581efb(0x233)][_0x581efb(0x298)]=_0x581efb(0x2cf),_0x4df5fe['style'][_0x581efb(0x24b)]='rgba(255,255,255,0.05)');const _0x2a9857=document[_0x581efb(0x165)](_0x581efb(0x1ef));_0x2a9857[_0x581efb(0x1a8)]='';_0x7f905a[_0x581efb(0x211)]===0x0?_0x2a9857[_0x581efb(0x1a8)]=_0x581efb(0x248):(_0x7f905a[_0x581efb(0x184)]((_0x2038b8,_0x3607bb)=>_0x2038b8['start'][_0x581efb(0x258)](_0x3607bb[_0x581efb(0x280)])),_0x7f905a['forEach'](_0xa8a032=>{const _0x820008=_0x581efb,_0x77c686=clients[_0x820008(0x263)](_0x32a8d1=>_0x32a8d1[_0x820008(0x1df)]===_0xa8a032['client']),_0x49682f=_0x77c686?_0x77c686[_0x820008(0x298)]:_0x820008(0x1b0),_0x43dbc9=_0xa8a032[_0x820008(0x2ac)]==='completed',_0x5b462c=_0x43dbc9?_0x820008(0x17a):'',_0x4085eb=document[_0x820008(0x18d)](_0x820008(0x276));_0x4085eb[_0x820008(0x23d)]=_0x820008(0x1fc),_0x4085eb[_0x820008(0x233)][_0x820008(0x221)]=_0x49682f,_0x4085eb[_0x820008(0x1a8)]=_0x820008(0x227)+_0xa8a032[_0x820008(0x280)]+_0x820008(0x26f)+_0xa8a032[_0x820008(0x22d)]+_0x820008(0x17e)+_0xa8a032[_0x820008(0x24c)]+_0x820008(0x2d6)+_0x5b462c+_0x820008(0x240),_0x2a9857[_0x820008(0x2aa)](_0x4085eb);}));const _0x14fc05=document[_0x581efb(0x165)](_0x581efb(0x208)),_0x2e2f60=dateExceptions[_0x5d8729]===_0x581efb(0x1c6);_0x2e2f60?(_0x14fc05[_0x581efb(0x190)]=_0x581efb(0x2a9),_0x14fc05[_0x581efb(0x23d)]=_0x581efb(0x2c6),_0x14fc05[_0x581efb(0x233)][_0x581efb(0x298)]='var(--acc-green)',_0x14fc05[_0x581efb(0x233)][_0x581efb(0x224)]=_0x581efb(0x15f)):(_0x14fc05[_0x581efb(0x190)]=_0x581efb(0x25e),_0x14fc05['className']='btn-primary\x20btn-danger',_0x14fc05[_0x581efb(0x233)][_0x581efb(0x298)]=_0x581efb(0x1f4),_0x14fc05[_0x581efb(0x233)]['background']=_0x581efb(0x20c)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x1418fc(0x242);function openAnalytics(){const _0x3e5002=a2_0x1418fc,_0x2d60c2=document[_0x3e5002(0x163)](_0x3e5002(0x1d5));setAnalyticsPeriod('week',_0x2d60c2),closeAllSheets(),openSheet(_0x3e5002(0x2a8));}function setAnalyticsPeriod(_0x2bed36,_0x112d73){const _0x5520dd=a2_0x1418fc;currentAnPeriod=_0x2bed36,document[_0x5520dd(0x16f)](_0x5520dd(0x1d5))[_0x5520dd(0x17d)](_0x433dff=>_0x433dff[_0x5520dd(0x1d8)][_0x5520dd(0x18c)]('active'));if(_0x112d73)_0x112d73['classList']['add'](_0x5520dd(0x1bc));const _0x3ed6c4=document['getElementById'](_0x5520dd(0x16d));_0x3ed6c4[_0x5520dd(0x233)][_0x5520dd(0x1b2)]=_0x2bed36===_0x5520dd(0x174)?_0x5520dd(0x274):_0x5520dd(0x212);const _0x34301f=new Date();let _0x1db7f2=new Date(),_0x1106dc=new Date();if(_0x2bed36===_0x5520dd(0x242))_0x1db7f2=getStartOfWeek(_0x34301f),_0x1106dc=new Date(_0x1db7f2),_0x1106dc[_0x5520dd(0x1a5)](_0x1106dc[_0x5520dd(0x25f)]()+0x6);else{if(_0x2bed36==='month')_0x1db7f2=new Date(_0x34301f[_0x5520dd(0x23e)](),_0x34301f[_0x5520dd(0x2b4)](),0x1),_0x1106dc=new Date(_0x34301f['getFullYear'](),_0x34301f['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x5520dd(0x20a))[_0x5520dd(0x1db)]&&(document[_0x5520dd(0x165)](_0x5520dd(0x20a))[_0x5520dd(0x1db)]=getLocalDateStr(_0x34301f),document[_0x5520dd(0x165)](_0x5520dd(0x1f0))['value']=getLocalDateStr(_0x34301f));refreshAnalytics();return;}}document['getElementById'](_0x5520dd(0x20a))['value']=getLocalDateStr(_0x1db7f2),document[_0x5520dd(0x165)](_0x5520dd(0x1f0))[_0x5520dd(0x1db)]=getLocalDateStr(_0x1106dc),refreshAnalytics();}function refreshAnalytics(){const _0xf7194e=a2_0x1418fc,_0x41fdf2=document[_0xf7194e(0x165)]('anStart')['value'],_0x1eb924=document[_0xf7194e(0x165)](_0xf7194e(0x1f0))['value'];if(!_0x41fdf2||!_0x1eb924)return;const _0x248bc9=sessions[_0xf7194e(0x1fa)](_0x140a8f=>_0x140a8f[_0xf7194e(0x20d)]>=_0x41fdf2&&_0x140a8f['dateStr']<=_0x1eb924&&_0x140a8f[_0xf7194e(0x2ac)]!==_0xf7194e(0x2ba)),_0x34e1eb=_0x248bc9['length'],_0x1d47af=_0x248bc9['filter'](_0x4a5114=>_0x4a5114[_0xf7194e(0x2ac)]===_0xf7194e(0x18b))[_0xf7194e(0x211)],_0x1462db=_0x34e1eb>0x0?Math[_0xf7194e(0x2a6)](_0x1d47af/_0x34e1eb*0x64):0x0;document[_0xf7194e(0x165)]('anPercent')[_0xf7194e(0x190)]=_0x1462db+'%',document[_0xf7194e(0x165)](_0xf7194e(0x205))['textContent']=_0x1d47af+'\x20–∏–∑\x20'+_0x34e1eb+_0xf7194e(0x28c);const _0x4e9d8a=document[_0xf7194e(0x165)](_0xf7194e(0x1a2)),_0x250cda=0x2*Math['PI']*0x23,_0x22d975=_0x250cda-_0x1462db/0x64*_0x250cda;_0x4e9d8a[_0xf7194e(0x233)][_0xf7194e(0x1ac)]=_0x22d975;const _0x197b41={};_0x248bc9['forEach'](_0xa51a64=>{const _0x4a3463=_0xf7194e;if(!_0x197b41[_0xa51a64['client']]){const _0x338852=clients[_0x4a3463(0x263)](_0x20d979=>_0x20d979['name']===_0xa51a64['client']);_0x197b41[_0xa51a64[_0x4a3463(0x24c)]]={'total':0x0,'done':0x0,'color':_0x338852?_0x338852[_0x4a3463(0x298)]:_0x4a3463(0x1b0)};}_0x197b41[_0xa51a64['client']][_0x4a3463(0x1e8)]++;if(_0xa51a64[_0x4a3463(0x2ac)]===_0x4a3463(0x18b))_0x197b41[_0xa51a64['client']][_0x4a3463(0x1e5)]++;});const _0x43c18d=document[_0xf7194e(0x165)](_0xf7194e(0x21a));_0x43c18d['innerHTML']='';const _0x34adbe=Object['entries'](_0x197b41)[_0xf7194e(0x184)]((_0x3d571f,_0x53c878)=>_0x53c878[0x1][_0xf7194e(0x1e8)]-_0x3d571f[0x1]['total']);if(_0x34adbe[_0xf7194e(0x211)]===0x0){_0x43c18d['innerHTML']=_0xf7194e(0x220);return;}_0x34adbe[_0xf7194e(0x17d)](([_0xa4f29b,_0x39eb24])=>{const _0xed757f=_0xf7194e,_0x1dc3df=Math[_0xed757f(0x2a6)](_0x39eb24['done']/_0x39eb24[_0xed757f(0x1e8)]*0x64),_0x156242=document[_0xed757f(0x18d)]('div');_0x156242[_0xed757f(0x23d)]='client-stat-card',_0x156242['style'][_0xed757f(0x221)]=_0x39eb24[_0xed757f(0x298)],_0x156242[_0xed757f(0x1a8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xa4f29b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x39eb24[_0xed757f(0x1e5)]+'</span>\x20/\x20'+_0x39eb24[_0xed757f(0x1e8)]+_0xed757f(0x27e)+_0x1dc3df+_0xed757f(0x1c2),_0x43c18d[_0xed757f(0x2aa)](_0x156242);});}function formatMinsToHrs(_0x3f8e03){const _0x11e2b7=a2_0x1418fc;if(_0x3f8e03===0x0)return'0';const _0x298eb9=Math[_0x11e2b7(0x1b6)](_0x3f8e03/0x3c),_0x118082=_0x3f8e03%0x3c;if(_0x118082===0x0)return _0x298eb9+'—á';return _0x298eb9+'—á\x20'+_0x118082+'–º';}