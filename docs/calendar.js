const a2_0xfa3410=a2_0x13e4;(function(_0x1a4029,_0x320880){const _0x91167d=a2_0x13e4,_0x636aa8=_0x1a4029();while(!![]){try{const _0x524b35=parseInt(_0x91167d(0x1f4))/0x1+-parseInt(_0x91167d(0x233))/0x2*(parseInt(_0x91167d(0x202))/0x3)+parseInt(_0x91167d(0x245))/0x4+parseInt(_0x91167d(0x20b))/0x5*(-parseInt(_0x91167d(0x13a))/0x6)+parseInt(_0x91167d(0x1dd))/0x7+parseInt(_0x91167d(0x1c0))/0x8*(parseInt(_0x91167d(0x244))/0x9)+parseInt(_0x91167d(0x11b))/0xa*(-parseInt(_0x91167d(0x191))/0xb);if(_0x524b35===_0x320880)break;else _0x636aa8['push'](_0x636aa8['shift']());}catch(_0x100741){_0x636aa8['push'](_0x636aa8['shift']());}}}(a2_0x384a,0xac128),function initTMA(){const _0x3066e0=a2_0x13e4,_0x26b5d4=(function(){let _0x2ad6f2=!![];return function(_0x44d0ce,_0x5510b5){const _0x579bf5=_0x2ad6f2?function(){const _0x1ec840=a2_0x13e4;if(_0x5510b5){const _0x5404da=_0x5510b5[_0x1ec840(0x1db)](_0x44d0ce,arguments);return _0x5510b5=null,_0x5404da;}}:function(){};return _0x2ad6f2=![],_0x579bf5;};}()),_0x563f62=_0x26b5d4(this,function(){const _0x4ab196=a2_0x13e4;return _0x563f62[_0x4ab196(0x14f)]()['search'](_0x4ab196(0x12b))[_0x4ab196(0x14f)]()[_0x4ab196(0x232)](_0x563f62)[_0x4ab196(0x1d7)](_0x4ab196(0x12b));});_0x563f62();try{const _0x651c08=window[_0x3066e0(0x240)]?.['WebApp'];if(!_0x651c08)return;_0x651c08[_0x3066e0(0x24c)](),_0x651c08['expand']();try{_0x651c08[_0x3066e0(0x1f8)]('#050505'),_0x651c08[_0x3066e0(0x1bc)]&&_0x651c08[_0x3066e0(0x1bc)](_0x3066e0(0x1e8));}catch(_0x54b2fd){console[_0x3066e0(0x1a5)]('Error\x20setting\x20color:',_0x54b2fd);}try{_0x651c08['BackButton']&&(_0x651c08[_0x3066e0(0x162)][_0x3066e0(0x150)](),_0x651c08[_0x3066e0(0x162)]['offClick'](),_0x651c08['BackButton']['onClick'](function(){const _0x1bde43=_0x3066e0;window[_0x1bde43(0x112)][_0x1bde43(0x1fc)]=_0x1bde43(0x108);}));}catch(_0x4ba0d3){console[_0x3066e0(0x1a5)](_0x3066e0(0x1f1),_0x4ba0d3);}try{if(_0x651c08[_0x3066e0(0x1b6)])_0x651c08[_0x3066e0(0x1b6)]();}catch(_0x543d6c){}}catch(_0x1608e1){console[_0x3066e0(0x1da)]('Critical\x20TMA\x20Error:',_0x1608e1);}}());function isAdmin(){const _0x3c40fe=a2_0x13e4;try{const _0x1fad5f=Number(window[_0x3c40fe(0x240)]?.[_0x3c40fe(0x254)]?.[_0x3c40fe(0x157)]?.[_0x3c40fe(0x16e)]?.['id']);return _0x1fad5f===0xbaf7174;}catch(_0x167149){return![];}}const APP_VERSION=a2_0xfa3410(0x14e),API_URL=a2_0xfa3410(0x1ef),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0xfa3410(0x24e),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2cf9cd=a2_0xfa3410;return window[_0x2cf9cd(0x240)]?.[_0x2cf9cd(0x254)]?.['initDataUnsafe']?.[_0x2cf9cd(0x16e)]?.['id']||'guest';},'saveLocally'(){const _0x123050=a2_0xfa3410;try{localStorage[_0x123050(0x142)](KEY_CLIENTS,JSON[_0x123050(0x1e7)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x123050(0x1e7)](sessions)),localStorage[_0x123050(0x142)](KEY_SETTINGS,JSON[_0x123050(0x1e7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x21fcfc){console[_0x123050(0x1da)](_0x123050(0x1fe),_0x21fcfc);}},'loadLocal'(){const _0x5b39b2=a2_0xfa3410;try{const _0x4c3794=localStorage[_0x5b39b2(0x238)](KEY_CLIENTS);if(_0x4c3794)clients=JSON['parse'](_0x4c3794);const _0x2c52fa=localStorage[_0x5b39b2(0x238)](KEY_SESSIONS);if(_0x2c52fa)sessions=JSON[_0x5b39b2(0x21d)](_0x2c52fa);const _0x7d3594=localStorage[_0x5b39b2(0x238)](KEY_SETTINGS);if(_0x7d3594){const _0x5bb01f=JSON['parse'](_0x7d3594);if(_0x5bb01f[_0x5b39b2(0x15a)])availabilityPattern=_0x5bb01f['pattern'];if(_0x5bb01f[_0x5b39b2(0x1bb)])dateExceptions=_0x5bb01f[_0x5b39b2(0x1bb)];if(_0x5bb01f[_0x5b39b2(0x163)])specialRanges=_0x5bb01f['ranges'];}else{for(let _0x240089=0x0;_0x240089<0x7;_0x240089++)availabilityPattern[_0x240089]=Array[_0x5b39b2(0x11c)]({'length':0xc},(_0x17fe04,_0x4790ba)=>_0x4790ba+0x9);}}catch(_0x1fb678){console[_0x5b39b2(0x1da)](_0x5b39b2(0xe1),_0x1fb678);}},async 'fetchFromServer'(_0x36ce45,_0x180302={}){const _0x7a43dc=a2_0xfa3410,_0x5cd5e2=window[_0x7a43dc(0x240)]?.[_0x7a43dc(0x254)],_0x4e5548={'action':_0x36ce45,'init_data':_0x5cd5e2?.['initData']||'',..._0x180302};try{const _0xe04605=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x7a43dc(0xfb)},'body':JSON[_0x7a43dc(0x1e7)](_0x4e5548)}),_0x1ce23d=await _0xe04605[_0x7a43dc(0x1d4)]();if(!_0x1ce23d['ok'])throw new Error(_0x1ce23d[_0x7a43dc(0x1da)]||_0x7a43dc(0x117));return _0x1ce23d[_0x7a43dc(0x12a)];}catch(_0x176bff){console[_0x7a43dc(0x1da)](_0x7a43dc(0x195)+_0x36ce45+_0x7a43dc(0x211),_0x176bff);throw _0x176bff;}},async 'syncLoad'(){const _0x3f9d57=a2_0xfa3410,_0x5081e7=new Date(),_0x5e0df3=_0x5081e7[_0x3f9d57(0x210)]()+'-'+String(_0x5081e7[_0x3f9d57(0xfc)]()+0x1)[_0x3f9d57(0xe4)](0x2,'0'),_0x388970=new Date(_0x5081e7);_0x388970[_0x3f9d57(0x23a)](_0x5081e7[_0x3f9d57(0xfc)]()+0x1);const _0x429046=_0x388970['getFullYear']()+'-'+String(_0x388970[_0x3f9d57(0xfc)]()+0x1)[_0x3f9d57(0xe4)](0x2,'0'),_0x269a1b=Date[_0x3f9d57(0x1d8)]();console[_0x3f9d57(0x1a5)](_0x3f9d57(0x203)+_0x5e0df3+',\x20'+_0x429046+'...');try{const [_0x16a0a2,_0x3d87d8]=await Promise['all']([this[_0x3f9d57(0x1f3)]('init_load',{'month_str':_0x5e0df3}),this[_0x3f9d57(0x1f3)](_0x3f9d57(0x21b),{'month_str':_0x429046})]);if(lastUserActionTime>_0x269a1b)return console[_0x3f9d57(0x1de)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x16a0a2,_0x5e0df3),this[_0x3f9d57(0x235)](_0x3d87d8,_0x429046),this[_0x3f9d57(0x253)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x518902){console[_0x3f9d57(0x1da)](_0x518902);throw _0x518902;}},'mergeServerData'(_0x392e9e,_0x353928){const _0x52f5cc=a2_0xfa3410;if(!_0x392e9e)return;_0x392e9e[_0x52f5cc(0x179)]&&Array[_0x52f5cc(0x171)](_0x392e9e['clients'])&&(clients=_0x392e9e[_0x52f5cc(0x179)]);if(_0x392e9e[_0x52f5cc(0x19e)]){if(_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x15a)])availabilityPattern=_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x15a)];if(_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x1bb)])dateExceptions=_0x392e9e['settings'][_0x52f5cc(0x1bb)];if(_0x392e9e['settings'][_0x52f5cc(0x163)])specialRanges=_0x392e9e['settings'][_0x52f5cc(0x163)];if(_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x13b)]){localStorage[_0x52f5cc(0x142)]('uc_settings_cancel_window',_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x13b)]);const _0x229121=document['getElementById']('settingCancelWindow');if(_0x229121)_0x229121[_0x52f5cc(0x160)]=_0x392e9e[_0x52f5cc(0x19e)][_0x52f5cc(0x13b)];}}_0x392e9e[_0x52f5cc(0x17b)]&&(sessions=sessions[_0x52f5cc(0x199)](_0x395e2e=>!_0x395e2e[_0x52f5cc(0x1a4)][_0x52f5cc(0x115)](_0x353928)),Object['keys'](_0x392e9e[_0x52f5cc(0x17b)])['forEach'](_0x414ec7=>{const _0x5527d2=_0x392e9e['calendar'][_0x414ec7];_0x5527d2['forEach'](_0x48e6c9=>{const _0x58a8cd=a2_0x13e4,_0x2178aa=clients[_0x58a8cd(0x22b)](_0x42b866=>String(_0x42b866['id'])===String(_0x48e6c9['c']));sessions[_0x58a8cd(0x18e)]({'id':_0x48e6c9['i'],'clientId':_0x48e6c9['c'],'client':_0x2178aa?_0x2178aa['name']:'Unknown','dateStr':_0x353928+'-'+_0x414ec7[_0x58a8cd(0xe4)](0x2,'0'),'start':_0x48e6c9['s'],'end':_0x48e6c9['e'],'status':_0x48e6c9['st']||'planned','note':_0x48e6c9['n']||'','seriesId':_0x48e6c9['sid']||null});});}));},async 'syncBatch'(_0x3e3c99){const _0x1b43ca=a2_0xfa3410,_0x479780=[...new Set(_0x3e3c99)],_0x29f964=_0x479780[_0x1b43ca(0x184)](_0x26ec38=>{const _0x5240af=_0x1b43ca,_0x1208b8=sessions[_0x5240af(0x199)](_0xc581b1=>_0xc581b1[_0x5240af(0x1a4)]===_0x26ec38&&_0xc581b1[_0x5240af(0x12d)]!==_0x5240af(0x158)),_0x44faf0=_0x1208b8[_0x5240af(0x184)](_0x19c1e4=>({'i':_0x19c1e4['id'],'c':_0x19c1e4[_0x5240af(0x219)],'s':_0x19c1e4[_0x5240af(0xf1)],'e':_0x19c1e4[_0x5240af(0x1e3)],'st':_0x19c1e4['status'],'n':_0x19c1e4[_0x5240af(0x19d)],'sid':_0x19c1e4[_0x5240af(0xef)]}));return{'date':_0x26ec38,'day_data':_0x44faf0};});if(_0x29f964[_0x1b43ca(0x153)]===0x0)return;console[_0x1b43ca(0x1a5)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x29f964[_0x1b43ca(0x153)]+'\x20days'),await this[_0x1b43ca(0x1f3)](_0x1b43ca(0x10b),{'changes':_0x29f964});}};async function init(){const _0x26d1fd=a2_0xfa3410;DataManager[_0x26d1fd(0x20e)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x26d1fd(0x17d)]('matrixViewport')[_0x26d1fd(0x165)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x26d1fd(0x169)](()=>{const _0x48b686=_0x26d1fd;showToast(_0x48b686(0x1f9),!![]);})['catch'](_0x28ea87=>{const _0x12e6e2=_0x26d1fd;showToast(_0x12e6e2(0xe7),![]);});}function generateId(){const _0x4650d5=a2_0xfa3410;return Date[_0x4650d5(0x1d8)]()[_0x4650d5(0x14f)](0x24)+Math[_0x4650d5(0xe6)]()['toString'](0x24)[_0x4650d5(0x1aa)](0x2,0x5);}function toggleSeriesInput(){const _0x4a2b6f=a2_0xfa3410,_0x7f5afd=document[_0x4a2b6f(0x17d)](_0x4a2b6f(0xf2))['checked'],_0x46ed1e=document[_0x4a2b6f(0x17d)]('seriesCountContainer');_0x46ed1e[_0x4a2b6f(0x1ed)]['display']=_0x7f5afd?_0x4a2b6f(0x13f):'none';const _0x589ff1=document[_0x4a2b6f(0x17d)]('recurringOptionContainer');_0x589ff1[_0x4a2b6f(0x1ed)][_0x4a2b6f(0xe5)]=_0x7f5afd?'10px\x2010px\x200\x200':_0x4a2b6f(0x208);}function openAddSession(_0xe8e8c9){const _0xacf005=a2_0xfa3410;editingId=null,populateClientSelect(),document[_0xacf005(0x17d)](_0xacf005(0x172))[_0xacf005(0x228)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0xacf005(0x17d)](_0xacf005(0x16c))[_0xacf005(0x1ed)][_0xacf005(0x1eb)]=_0xacf005(0x148),document['getElementById']('btnStatusToggle')[_0xacf005(0x1ed)][_0xacf005(0x1eb)]=_0xacf005(0x148);const _0xac183a=document[_0xacf005(0x17d)](_0xacf005(0x16d)),_0x3dec76=document[_0xacf005(0x17d)](_0xacf005(0x1c8));_0xac183a[_0xacf005(0x1ed)][_0xacf005(0x1eb)]=_0xacf005(0x1b7),_0xac183a[_0xacf005(0x1ed)][_0xacf005(0xe5)]=_0xacf005(0x208),document[_0xacf005(0x17d)](_0xacf005(0xf2))[_0xacf005(0x1ee)]=![],document['getElementById']('inpSeriesCount')[_0xacf005(0x160)]=0x4,_0x3dec76[_0xacf005(0x1ed)]['display']=_0xacf005(0x148),document['getElementById'](_0xacf005(0x1ad))[_0xacf005(0x160)]=getLocalDateStr(_0xe8e8c9),updateDateDisplay();const _0x5839fb=_0xe8e8c9[_0xacf005(0x12e)]();document['getElementById']('inpStart')[_0xacf005(0x160)]=String(_0x5839fb)[_0xacf005(0xe4)](0x2,'0')+_0xacf005(0x106),document[_0xacf005(0x17d)]('inpEnd')[_0xacf005(0x160)]=String(_0x5839fb+0x1)[_0xacf005(0xe4)](0x2,'0')+_0xacf005(0x106),openSheet(_0xacf005(0x10f));}function openEdit(_0x4551a7){const _0x315acb=a2_0xfa3410;editingId=_0x4551a7['id'],populateClientSelect(),document[_0x315acb(0x17d)]('sheetTitle')[_0x315acb(0x228)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById']('btnDelete')[_0x315acb(0x1ed)][_0x315acb(0x1eb)]=_0x315acb(0x13f);const _0x26cba2=document[_0x315acb(0x17d)](_0x315acb(0x21f));_0x26cba2[_0x315acb(0x1ed)]['display']=_0x315acb(0x1b7);_0x4551a7['status']==='completed'?(_0x26cba2[_0x315acb(0x16f)]=_0x315acb(0xd6),_0x26cba2[_0x315acb(0x24b)]=_0x315acb(0x187)):(_0x26cba2[_0x315acb(0x16f)]=_0x315acb(0xde),_0x26cba2[_0x315acb(0x24b)]=_0x315acb(0x217));const _0x1e9286=!!_0x4551a7['seriesId'];document['getElementById'](_0x315acb(0x16d))[_0x315acb(0x1ed)][_0x315acb(0x1eb)]=_0x315acb(0x148),document['getElementById'](_0x315acb(0x1c8))[_0x315acb(0x1ed)][_0x315acb(0x1eb)]='none',_0x1e9286?(document[_0x315acb(0x17d)]('patternInfoBox')[_0x315acb(0x1ed)][_0x315acb(0x1eb)]=_0x315acb(0x1b7),document['getElementById'](_0x315acb(0x166))[_0x315acb(0x1ac)](_0x315acb(0x1c9))['textContent']='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x315acb(0x17d)](_0x315acb(0x166))[_0x315acb(0x1ed)]['display']='none',document[_0x315acb(0x17d)]('inpClient')[_0x315acb(0x160)]=_0x4551a7['client'],document['getElementById'](_0x315acb(0x1ad))[_0x315acb(0x160)]=_0x4551a7['dateStr'],document['getElementById']('inpStart')['value']=_0x4551a7[_0x315acb(0xf1)],document[_0x315acb(0x17d)](_0x315acb(0x1e6))['value']=_0x4551a7[_0x315acb(0x1e3)],document[_0x315acb(0x17d)]('inpNote')[_0x315acb(0x160)]=_0x4551a7[_0x315acb(0x19d)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x17c683=a2_0xfa3410,_0x2a3a44=document[_0x17c683(0x17d)]('inpClient')[_0x17c683(0x160)],_0x287994=document['getElementById']('inpDate')[_0x17c683(0x160)],_0x39a043=document[_0x17c683(0x17d)](_0x17c683(0x1e9))[_0x17c683(0x160)],_0x287eb8=document[_0x17c683(0x17d)](_0x17c683(0x1e6))[_0x17c683(0x160)],_0x677cd3=document[_0x17c683(0x17d)](_0x17c683(0x15d))[_0x17c683(0x160)],_0x349e2b=document[_0x17c683(0x17d)](_0x17c683(0xf2))['checked'];let _0x234382=0x4;if(_0x349e2b){const _0x838f93=parseInt(document['getElementById']('inpSeriesCount')[_0x17c683(0x160)]);if(!_0x838f93||_0x838f93<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x838f93>0x64){showToast(_0x17c683(0x192),![]);return;}_0x234382=_0x838f93;}const _0x141eab=clients[_0x17c683(0x22b)](_0x269388=>_0x269388[_0x17c683(0x23c)]===_0x2a3a44);if(!_0x141eab){showToast(_0x17c683(0x1e2),![]);return;}const _0x34b746=validateAppointment(_0x287994,_0x39a043,_0x287eb8,editingId,_0x141eab['id']);if(!_0x34b746[_0x17c683(0x121)]){showToast(_0x34b746['msg'],![]);return;}_0x34b746[_0x17c683(0x146)]&&showToast(_0x34b746['warning'],![]);const _0x9c0878={'client':_0x2a3a44,'clientId':_0x141eab['id'],'start':_0x39a043,'end':_0x287eb8,'note':_0x677cd3,'status':_0x17c683(0x156)},_0x2237b1=editingId?sessions[_0x17c683(0x22b)](_0x4744b1=>_0x4744b1['id']===editingId):null;if(_0x2237b1&&_0x2237b1[_0x17c683(0xef)]){tempSessionData={..._0x9c0878,'dateStr':_0x287994,'id':editingId,'seriesId':_0x2237b1[_0x17c683(0xef)]},openActionSheet(_0x17c683(0x12c));return;}let _0x2f4127=null;if(!editingId)_0x2f4127=_0x17c683(0x131);else{if(_0x2237b1){if(String(_0x2237b1['clientId'])!==String(_0x141eab['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send'](_0x17c683(0x1e0),_0x2237b1),_0x2f4127=_0x17c683(0x131);else(_0x2237b1[_0x17c683(0xf1)]!==_0x39a043||_0x2237b1[_0x17c683(0x1e3)]!==_0x287eb8||_0x2237b1[_0x17c683(0x1a4)]!==_0x287994)&&(_0x2f4127=_0x17c683(0x1ab));}}if(!editingId&&_0x349e2b){createBatchSeries(_0x9c0878,_0x287994,_0x234382),NotificationManager[_0x17c683(0x23e)](_0x17c683(0x131),{..._0x9c0878,'dateStr':_0x287994});return;}lastUserActionTime=Date[_0x17c683(0x1d8)]();const _0x1368f6={..._0x9c0878,'dateStr':_0x287994,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1368f6),_0x2f4127&&NotificationManager[_0x17c683(0x23e)](_0x2f4127,_0x1368f6);}function toggleSessionStatus(){const _0x3d69d1=a2_0xfa3410;lastUserActionTime=Date['now']();const _0x250334=sessions[_0x3d69d1(0x22b)](_0x2e800f=>_0x2e800f['id']===editingId);if(!_0x250334)return;const _0x26f0a0=_0x250334[_0x3d69d1(0x12d)]===_0x3d69d1(0x133)?'planned':_0x3d69d1(0x133);_0x250334[_0x3d69d1(0x12d)]=_0x26f0a0,saveSingleSession(_0x250334),_0x26f0a0===_0x3d69d1(0x133)&&NotificationManager['send']('complete',_0x250334),showToast(_0x26f0a0===_0x3d69d1(0x133)?_0x3d69d1(0x23f):_0x3d69d1(0x18a),!![]);}function validateAppointment(_0x47daeb,_0x2f2bae,_0x590bb2,_0x1ee148,_0x2f142b){const _0x4c298b=a2_0xfa3410,[_0x176d22,_0x19b28c]=_0x2f2bae[_0x4c298b(0x1d5)](':')[_0x4c298b(0x184)](Number),[_0x294320,_0x4e040c]=_0x590bb2['split'](':')[_0x4c298b(0x184)](Number),_0x28b6fa=_0x176d22*0x3c+_0x19b28c,_0x4b36c5=_0x294320*0x3c+_0x4e040c,_0x402e34=String(_0x2f142b);let _0x22d750=![],_0xca528='';for(let _0x1b2950 of sessions){if(_0x1b2950['dateStr']!==_0x47daeb)continue;if(_0x1b2950[_0x4c298b(0x12d)]===_0x4c298b(0x113))continue;if(_0x1ee148&&String(_0x1b2950['id'])===String(_0x1ee148))continue;const [_0x3ae751,_0x1cf71e]=_0x1b2950[_0x4c298b(0xf1)]['split'](':')['map'](Number),[_0x17acf3,_0x392eac]=_0x1b2950['end'][_0x4c298b(0x1d5)](':')[_0x4c298b(0x184)](Number),_0x11433a=_0x3ae751*0x3c+_0x1cf71e,_0x4546eb=_0x17acf3*0x3c+_0x392eac;if(Math[_0x4c298b(0x1fa)](_0x28b6fa,_0x11433a)<Math['min'](_0x4b36c5,_0x4546eb)){if(_0x1b2950[_0x4c298b(0x219)]&&String(_0x1b2950[_0x4c298b(0x219)])===_0x402e34)return{'valid':![],'msg':_0x4c298b(0x155)+_0x1b2950[_0x4c298b(0x220)]+_0x4c298b(0x123)};_0x22d750=!![],_0xca528=_0x1b2950[_0x4c298b(0x220)];}}if(_0x22d750)return{'valid':!![],'warning':_0x4c298b(0x141)+_0xca528};return{'valid':!![]};}function saveSingleSession(_0x374be0){const _0x2e4b63=a2_0xfa3410;if(editingId){const _0x112b6c=sessions[_0x2e4b63(0x139)](_0x541c48=>_0x541c48['id']===editingId);if(_0x112b6c!==-0x1)sessions[_0x112b6c]=_0x374be0;}else sessions[_0x2e4b63(0x18e)](_0x374be0);afterSaveAction([_0x374be0[_0x2e4b63(0x1a4)]]);}function createBatchSeries(_0x4a1245,_0xa00252,_0x18ffc2){const _0x396663=a2_0xfa3410,_0x345282=generateId(),_0x4f13ce=[],_0x1b0266=[];let _0x29828b=0x0,_0x4135ce=new Date(_0xa00252);for(let _0x2f23e5=0x0;_0x2f23e5<_0x18ffc2;_0x2f23e5++){const _0x12b534=getLocalDateStr(_0x4135ce),_0x10ad11=validateAppointment(_0x12b534,_0x4a1245[_0x396663(0xf1)],_0x4a1245[_0x396663(0x1e3)],null,_0x4a1245[_0x396663(0x219)]);if(!_0x10ad11[_0x396663(0x121)])console[_0x396663(0x1a5)](_0x396663(0x19c)+_0x12b534+_0x396663(0x145)),_0x29828b++;else{const _0x16401e={..._0x4a1245,'id':generateId(),'dateStr':_0x12b534,'seriesId':_0x345282};_0x1b0266[_0x396663(0x18e)](_0x16401e),_0x4f13ce[_0x396663(0x18e)](_0x12b534);}_0x4135ce['setDate'](_0x4135ce[_0x396663(0x231)]()+0x7);}if(_0x1b0266[_0x396663(0x153)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x396663(0x18e)](..._0x1b0266),lastUserActionTime=Date[_0x396663(0x1d8)]();let _0x608af9=_0x396663(0x178)+_0x1b0266['length'];_0x29828b>0x0&&(_0x608af9+=_0x396663(0x1e5)+_0x29828b+')'),showToast(_0x608af9,!![]),afterSaveAction(_0x4f13ce);}function updateSeriesBatch(_0x1bf624,_0x53bbdd){const _0x4182a6=a2_0xfa3410,_0x1e0292=[],_0x5067f3=_0x53bbdd[_0x4182a6(0xef)];if(_0x1bf624===_0x4182a6(0x105)){const _0x2636cc={..._0x53bbdd,'seriesId':null},_0x144bf0=sessions['findIndex'](_0xa551ed=>_0xa551ed['id']===_0x53bbdd['id']);if(_0x144bf0!==-0x1)sessions[_0x144bf0]=_0x2636cc;_0x1e0292['push'](_0x2636cc[_0x4182a6(0x1a4)]);}else{if(_0x1bf624===_0x4182a6(0x10a)){const _0x5a8c63=_0x53bbdd[_0x4182a6(0x1a4)];sessions[_0x4182a6(0x1be)]((_0x363944,_0x4662b2)=>{const _0x40e073=_0x4182a6;_0x363944[_0x40e073(0xef)]===_0x5067f3&&_0x363944[_0x40e073(0x1a4)]>=_0x5a8c63&&(sessions[_0x4662b2]={...sessions[_0x4662b2],'start':_0x53bbdd[_0x40e073(0xf1)],'end':_0x53bbdd[_0x40e073(0x1e3)],'note':_0x53bbdd['note'],'client':_0x53bbdd[_0x40e073(0x220)],'clientId':_0x53bbdd[_0x40e073(0x219)]},_0x1e0292[_0x40e073(0x18e)](_0x363944[_0x40e073(0x1a4)]));});}}afterSaveAction(_0x1e0292);}function tryDeleteSession(){const _0x13f6dc=a2_0xfa3410,_0x10cf12=sessions['find'](_0x2772e6=>_0x2772e6['id']===editingId);if(!_0x10cf12)return;_0x10cf12[_0x13f6dc(0xef)]?openActionSheet(_0x13f6dc(0x11f)):commitDelete(_0x13f6dc(0x105),_0x10cf12);}function commitDelete(_0x41238c,_0x920a0e){const _0x38df5b=a2_0xfa3410;lastUserActionTime=Date[_0x38df5b(0x1d8)](),NotificationManager[_0x38df5b(0x23e)](_0x38df5b(0x1e0),_0x920a0e);const _0x166787=[];if(_0x41238c==='single')sessions=sessions[_0x38df5b(0x199)](_0x1354aa=>_0x1354aa['id']!==_0x920a0e['id']),_0x166787[_0x38df5b(0x18e)](_0x920a0e[_0x38df5b(0x1a4)]);else{if(_0x41238c===_0x38df5b(0x10a)){const _0x470378=_0x920a0e[_0x38df5b(0x1a4)],_0x579e7c=_0x920a0e[_0x38df5b(0xef)];sessions[_0x38df5b(0x1be)](_0x5d883a=>{const _0x19ab20=_0x38df5b;_0x5d883a['seriesId']===_0x579e7c&&_0x5d883a['dateStr']>=_0x470378&&_0x166787[_0x19ab20(0x18e)](_0x5d883a[_0x19ab20(0x1a4)]);}),sessions=sessions[_0x38df5b(0x199)](_0x5f0fbd=>!(_0x5f0fbd['seriesId']===_0x579e7c&&_0x5f0fbd['dateStr']>=_0x470378));}}afterSaveAction(_0x166787);}function afterSaveAction(_0x268c62){const _0xe258a5=a2_0xfa3410;DataManager[_0xe258a5(0x253)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xe258a5(0x1c1)](_0x268c62)[_0xe258a5(0x169)](()=>console['log'](_0xe258a5(0x122)))[_0xe258a5(0x1b0)](_0x23284f=>showToast(_0xe258a5(0x1fd),![]));}const NotificationManager={'formatDate'(_0x551e25){const _0x561362=a2_0xfa3410,_0x320ad5=new Date(_0x551e25),_0x3cc39a={'weekday':_0x561362(0x13e),'day':_0x561362(0x18b),'month':'long'};let _0x23e86b=_0x320ad5[_0x561362(0x20d)](_0x561362(0x193),_0x3cc39a);return _0x23e86b[_0x561362(0x234)](0x0)[_0x561362(0x1c4)]()+_0x23e86b['slice'](0x1);},'getText'(_0x4241cd,_0x364ab6){const _0x31679f=a2_0xfa3410,_0x23fa0d=this[_0x31679f(0x239)](_0x364ab6[_0x31679f(0x1a4)]);switch(_0x4241cd){case _0x31679f(0x131):return _0x31679f(0xf5)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x23fa0d+'\x0a')+(_0x31679f(0x110)+_0x364ab6['start']+_0x31679f(0x21a)+_0x364ab6[_0x31679f(0x1e3)]+'\x0a\x0a')+_0x31679f(0x1c3);case _0x31679f(0x1ab):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x31679f(0x164)+('<b>‚úÖ\x20'+_0x364ab6[_0x31679f(0xf1)]+_0x31679f(0x21a)+_0x364ab6[_0x31679f(0x1e3)]+_0x31679f(0x194))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x23fa0d);case'cancel':return _0x31679f(0x175)+(_0x31679f(0x18d)+_0x23fa0d+'\x20('+_0x364ab6[_0x31679f(0xf1)]+_0x31679f(0x144));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x31679f(0x1e4)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x8c9ea9,_0xa64406){const _0x1e40fd=a2_0xfa3410;console['log'](_0x1e40fd(0x15f),_0x8c9ea9,_0xa64406);if(!_0xa64406){console[_0x1e40fd(0x1da)](_0x1e40fd(0x159));return;}const _0x500d81=String(_0xa64406[_0x1e40fd(0x219)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x500d81);if(!_0xa64406[_0x1e40fd(0x219)]||_0x500d81==='undefined'||_0x500d81===_0x1e40fd(0x1c6)){console[_0x1e40fd(0x1da)](_0x1e40fd(0x1af));if(_0xa64406[_0x1e40fd(0x220)]){const _0x3d1a0e=clients[_0x1e40fd(0x22b)](_0x9af742=>_0x9af742['name']===_0xa64406[_0x1e40fd(0x220)]);if(_0x3d1a0e)return console[_0x1e40fd(0x1a5)](_0x1e40fd(0x22f),_0x3d1a0e['id']),this[_0x1e40fd(0x23e)](_0x8c9ea9,{..._0xa64406,'clientId':_0x3d1a0e['id']});}return;}if(_0x500d81['length']<0x5){console[_0x1e40fd(0x1de)](_0x1e40fd(0x174),_0x500d81);return;}const _0xab5db4=this[_0x1e40fd(0x214)](_0x8c9ea9,_0xa64406);if(!_0xab5db4){console[_0x1e40fd(0x1da)](_0x1e40fd(0x14b));return;}console[_0x1e40fd(0x1a5)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x500d81+_0x1e40fd(0x22e)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x500d81,'text':_0xab5db4})[_0x1e40fd(0x169)](_0x1ef97b=>console[_0x1e40fd(0x1a5)](_0x1e40fd(0x250),_0x1ef97b))['catch'](_0x331890=>console[_0x1e40fd(0x1da)](_0x1e40fd(0x103),_0x331890));}};function getLocalDateStr(_0x229e07){const _0x1e0515=a2_0xfa3410,_0x102f98=_0x229e07[_0x1e0515(0x210)](),_0x21c006=String(_0x229e07[_0x1e0515(0xfc)]()+0x1)[_0x1e0515(0xe4)](0x2,'0'),_0x107080=String(_0x229e07[_0x1e0515(0x231)]())['padStart'](0x2,'0');return _0x102f98+'-'+_0x21c006+'-'+_0x107080;}function getDateStr(_0x452da3){const _0x3c1564=a2_0xfa3410,_0x30e618=new Date();return _0x30e618[_0x3c1564(0x17c)](_0x30e618[_0x3c1564(0x231)]()+_0x452da3),getLocalDateStr(_0x30e618);}function getStartOfWeek(_0x3c5188){const _0x315499=a2_0xfa3410,_0x5bb79d=new Date(_0x3c5188),_0x3c6c41=_0x5bb79d[_0x315499(0x207)](),_0x5065e2=_0x5bb79d[_0x315499(0x231)]()-_0x3c6c41+(_0x3c6c41===0x0?-0x6:0x1);return _0x5bb79d['setDate'](_0x5065e2),_0x5bb79d[_0x315499(0x132)](0x0,0x0,0x0,0x0),_0x5bb79d;}function hexToRgba(_0x324715,_0x474838){const _0x498685=a2_0xfa3410;if(!_0x324715)return'rgba(100,100,100,0.5)';let _0x499f45=0x0,_0x2dc34d=0x0,_0x314ad6=0x0;if(_0x324715[_0x498685(0x153)]===0x4)_0x499f45='0x'+_0x324715[0x1]+_0x324715[0x1],_0x2dc34d='0x'+_0x324715[0x2]+_0x324715[0x2],_0x314ad6='0x'+_0x324715[0x3]+_0x324715[0x3];else _0x324715[_0x498685(0x153)]===0x7&&(_0x499f45='0x'+_0x324715[0x1]+_0x324715[0x2],_0x2dc34d='0x'+_0x324715[0x3]+_0x324715[0x4],_0x314ad6='0x'+_0x324715[0x5]+_0x324715[0x6]);return _0x498685(0x16a)+ +_0x499f45+',\x20'+ +_0x2dc34d+',\x20'+ +_0x314ad6+',\x20'+_0x474838+')';}function renderTimeColumn(){const _0x51648f=a2_0xfa3410,_0x590185=document[_0x51648f(0x17d)](_0x51648f(0x100)),_0x577651=document[_0x51648f(0x17d)](_0x51648f(0x19b));_0x590185[_0x51648f(0x24b)]='',_0x590185[_0x51648f(0x221)](_0x577651);for(let _0x51352e=0x0;_0x51352e<0x18;_0x51352e++){const _0x5be5a6=document[_0x51648f(0x226)]('div');_0x5be5a6[_0x51648f(0x16f)]=_0x51648f(0x17a);if(_0x51352e>0x0)_0x5be5a6[_0x51648f(0x24b)]=_0x51648f(0x200)+String(_0x51352e)[_0x51648f(0xe4)](0x2,'0')+_0x51648f(0x129);_0x590185[_0x51648f(0x221)](_0x5be5a6);}}function renderDayRange(_0x290c62,_0xbf1945){const _0x58e072=a2_0xfa3410,_0x5b9a98=document[_0x58e072(0x17d)]('daysHeaderTrack'),_0x200d8a=document['getElementById'](_0x58e072(0x23d)),_0x1ba9b0=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34eace=new Date();_0x34eace[_0x58e072(0x132)](0x0,0x0,0x0,0x0);const _0x920831=getLocalDateStr(new Date());for(let _0x489de3=_0x290c62;_0x489de3<=_0xbf1945;_0x489de3++){const _0x41efe8=new Date(_0x34eace);_0x41efe8['setDate'](_0x41efe8[_0x58e072(0x231)]()+_0x489de3);const _0x2a21e4=getLocalDateStr(_0x41efe8);let _0x31c6c5=_0x41efe8[_0x58e072(0x207)]()-0x1;if(_0x31c6c5===-0x1)_0x31c6c5=0x6;const _0x5afeb7=_0x2a21e4===_0x920831,_0xf9aaab=document[_0x58e072(0x226)](_0x58e072(0xf3));_0xf9aaab[_0x58e072(0x16f)]=_0x58e072(0x197)+(_0x5afeb7?_0x58e072(0x1f2):''),_0xf9aaab['id']=_0x58e072(0xf6)+_0x2a21e4,_0xf9aaab[_0x58e072(0x215)](_0x58e072(0xf4),_0x2a21e4),_0xf9aaab[_0x58e072(0x24b)]=_0x58e072(0x22d)+_0x1ba9b0[_0x31c6c5]+'</div><div\x20class=\x22dch-num\x22>'+_0x41efe8[_0x58e072(0x231)]()+_0x58e072(0x227)+_0x2a21e4+_0x58e072(0x15b),_0xf9aaab[_0x58e072(0x116)]=()=>openDayOptions(_0x2a21e4,_0x1ba9b0[_0x31c6c5]+'\x20'+_0x41efe8[_0x58e072(0x231)]()),_0x5b9a98['appendChild'](_0xf9aaab);const _0x1241ce=document[_0x58e072(0x226)]('div');_0x1241ce[_0x58e072(0x16f)]=_0x58e072(0xe2)+(_0x5afeb7?_0x58e072(0x1f2):''),_0x1241ce[_0x58e072(0x215)](_0x58e072(0xf4),_0x2a21e4),_0x1241ce[_0x58e072(0x215)]('data-day-idx',_0x31c6c5),renderEventsForColumn(_0x1241ce,_0x2a21e4,_0x31c6c5),attachLongPressHandler(_0x1241ce,_0x41efe8),_0x200d8a[_0x58e072(0x221)](_0x1241ce),updateDayStats(_0x2a21e4);}}function reRenderBlocks(){const _0x3fd159=a2_0xfa3410;document[_0x3fd159(0x17f)](_0x3fd159(0xd9))[_0x3fd159(0x1be)](_0x54453c=>{const _0x28e60d=_0x3fd159;_0x54453c[_0x28e60d(0x17f)](_0x28e60d(0x1a3))['forEach'](_0xc6b928=>_0xc6b928['remove']());const _0x1a058d=_0x54453c[_0x28e60d(0x149)]('data-date'),_0x14d1f6=parseInt(_0x54453c[_0x28e60d(0x149)](_0x28e60d(0x201))),_0x4eaeeb=Math[_0x28e60d(0x12f)](_0x54453c[_0x28e60d(0x1ea)]);(availabilityPattern[_0x14d1f6]||[])[_0x28e60d(0x1be)](_0x597626=>{const _0x1d10df=_0x28e60d,_0xa42edc=document[_0x1d10df(0x226)]('div');_0xa42edc[_0x1d10df(0x16f)]=_0x1d10df(0x24f);const _0x453a16=_0x597626*GRID_H;_0xa42edc['style'][_0x1d10df(0x251)]=_0x453a16+'px',_0xa42edc[_0x1d10df(0x1ed)][_0x1d10df(0xec)]='-'+_0x4eaeeb+_0x1d10df(0x241)+_0x453a16+'px',_0x54453c[_0x1d10df(0x221)](_0xa42edc);});if(specialRanges&&specialRanges[_0x28e60d(0x153)]>0x0){const _0x67e817=new Date(_0x1a058d+_0x28e60d(0x22a))['getTime'](),_0x55a4fd=new Date(_0x1a058d+_0x28e60d(0x236))[_0x28e60d(0x176)]();specialRanges[_0x28e60d(0x1be)](_0x4b44c9=>{const _0x328707=_0x28e60d,_0x5c6e04=new Date(_0x4b44c9[_0x328707(0xf1)])[_0x328707(0x176)](),_0x2cb5bc=new Date(_0x4b44c9[_0x328707(0x1e3)])['getTime'](),_0x37cbce=Math['max'](_0x67e817,_0x5c6e04),_0x500fa4=Math[_0x328707(0x143)](_0x55a4fd,_0x2cb5bc);if(_0x37cbce<_0x500fa4){if(_0x37cbce<=_0x67e817&&_0x500fa4>=_0x55a4fd-0xea60){if(!_0x54453c['querySelector']('.day-off-overlay')){const _0x2e4f5a=document[_0x328707(0x226)](_0x328707(0xf3));_0x2e4f5a[_0x328707(0x16f)]='day-off-overlay\x20stripe-bg',_0x2e4f5a[_0x328707(0x1ed)][_0x328707(0xec)]='-'+_0x4eaeeb+_0x328707(0x101),_0x54453c[_0x328707(0x221)](_0x2e4f5a);}}else{const _0x5653d2=(_0x37cbce-_0x67e817)/0x36ee80*GRID_H,_0x4d1a88=(_0x500fa4-_0x37cbce)/0x36ee80*GRID_H,_0xa740=document[_0x328707(0x226)](_0x328707(0xf3));_0xa740[_0x328707(0x16f)]=_0x328707(0x1e1),_0xa740['style'][_0x328707(0x251)]=_0x5653d2+'px',_0xa740[_0x328707(0x1ed)][_0x328707(0x1d9)]=_0x4d1a88+'px',_0xa740[_0x328707(0x1ed)][_0x328707(0xec)]='-'+_0x4eaeeb+'px\x20-'+_0x5653d2+'px',_0x54453c['appendChild'](_0xa740);}}});}if(dateExceptions[_0x1a058d]===_0x28e60d(0x154)){if(!_0x54453c[_0x28e60d(0x1ac)](_0x28e60d(0x135))){const _0x494796=document['createElement'](_0x28e60d(0xf3));_0x494796[_0x28e60d(0x16f)]=_0x28e60d(0x17e),_0x494796[_0x28e60d(0x1ed)][_0x28e60d(0xec)]='-'+_0x4eaeeb+_0x28e60d(0x101),_0x54453c[_0x28e60d(0x221)](_0x494796);}}renderEventsForColumn(_0x54453c,_0x1a058d,_0x14d1f6),updateDayStats(_0x1a058d);});}function updateAllDayStats(){const _0x4d8d84=a2_0xfa3410;document[_0x4d8d84(0x17f)](_0x4d8d84(0x167))['forEach'](_0x289389=>{const _0x2d81cf=_0x4d8d84;updateDayStats(_0x289389[_0x2d81cf(0x149)]('data-date'));});}function a2_0x13e4(_0x361dea,_0x964eb6){_0x361dea=_0x361dea-0xd6;const _0x1f3221=a2_0x384a();let _0x59bcfb=_0x1f3221[_0x361dea];return _0x59bcfb;}function updateDayStats(_0x4fb37e){const _0x1c2dd5=a2_0xfa3410,_0x1641e5=document[_0x1c2dd5(0x17d)]('stat-'+_0x4fb37e);if(!_0x1641e5)return;const _0x267f4f=new Date(_0x4fb37e);let _0x15904d=_0x267f4f['getDay']()-0x1;if(_0x15904d===-0x1)_0x15904d=0x6;if(dateExceptions[_0x4fb37e]===_0x1c2dd5(0x154)){_0x1641e5['style']['display']=_0x1c2dd5(0x148);return;}const _0xcfa30d=availabilityPattern[_0x15904d]||[],_0xbb9071=0x18-_0xcfa30d[_0x1c2dd5(0x153)],_0x31e3e2=_0xbb9071*0x3c,_0xa3ea4e=sessions[_0x1c2dd5(0x199)](_0x42bfd3=>_0x42bfd3[_0x1c2dd5(0x1a4)]===_0x4fb37e&&_0x42bfd3[_0x1c2dd5(0x12d)]!==_0x1c2dd5(0x113));if(_0xa3ea4e['length']===0x0){_0x1641e5[_0x1c2dd5(0x1ed)]['display']=_0x1c2dd5(0x148);return;}let _0x1f2674=_0xa3ea4e[_0x1c2dd5(0x184)](_0x4cdb3f=>{const _0x4c278f=_0x1c2dd5,[_0x2ba95b,_0x64d117]=_0x4cdb3f['start']['split'](':')['map'](Number),[_0x167bd6,_0x21f619]=_0x4cdb3f[_0x4c278f(0x1e3)]['split'](':')[_0x4c278f(0x184)](Number);return[_0x2ba95b*0x3c+_0x64d117,_0x167bd6*0x3c+_0x21f619];});_0x1f2674[_0x1c2dd5(0x1ce)]((_0x5b9106,_0x261040)=>_0x5b9106[0x0]-_0x261040[0x0]);let _0x10d812=[];if(_0x1f2674[_0x1c2dd5(0x153)]>0x0){let _0x565b40=_0x1f2674[0x0];for(let _0x5deaa9=0x1;_0x5deaa9<_0x1f2674[_0x1c2dd5(0x153)];_0x5deaa9++){_0x1f2674[_0x5deaa9][0x0]<_0x565b40[0x1]?_0x565b40[0x1]=Math[_0x1c2dd5(0x1fa)](_0x565b40[0x1],_0x1f2674[_0x5deaa9][0x1]):(_0x10d812[_0x1c2dd5(0x18e)](_0x565b40),_0x565b40=_0x1f2674[_0x5deaa9]);}_0x10d812[_0x1c2dd5(0x18e)](_0x565b40);}let _0x3b3489=0x0;_0x10d812['forEach'](_0x357762=>_0x3b3489+=_0x357762[0x1]-_0x357762[0x0]),_0x1641e5[_0x1c2dd5(0x1ed)]['display']='flex';const _0x54163e=_0x1641e5[_0x1c2dd5(0x1ac)](_0x1c2dd5(0x14a));if(_0x31e3e2===0x0){_0x54163e[_0x1c2dd5(0x1ed)]['width']=_0x1c2dd5(0x248),_0x54163e[_0x1c2dd5(0x1ed)][_0x1c2dd5(0x181)]=_0x1c2dd5(0x114);return;}const _0x2f4d52=_0x3b3489/_0x31e3e2*0x64;console[_0x1c2dd5(0x1a5)]('['+_0x4fb37e+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0xbb9071+_0x1c2dd5(0x1ae)+_0x3b3489+_0x1c2dd5(0x107)+_0x2f4d52[_0x1c2dd5(0x229)](0x1)+'%'),_0x2f4d52>0x64?(_0x54163e['style'][_0x1c2dd5(0x13c)]='100%',_0x54163e['style']['background']=_0x1c2dd5(0x114)):(_0x54163e['style'][_0x1c2dd5(0x13c)]=_0x2f4d52+'%',_0x54163e[_0x1c2dd5(0x1ed)]['background']='var(--acc-current)');}function renderEventsForColumn(_0x2b7713,_0x45890b,_0x5ccfb9){const _0x24fe6f=a2_0xfa3410,_0x2ee6f5=sessions[_0x24fe6f(0x199)](_0x5b3d64=>_0x5b3d64[_0x24fe6f(0x1a4)]===_0x45890b),_0x18c592=_0x2ee6f5['map'](_0x196892=>{const _0x58968e=_0x24fe6f,[_0x11e668,_0x52ee68]=_0x196892['start']['split'](':')[_0x58968e(0x184)](Number),[_0x22f701,_0x220312]=_0x196892[_0x58968e(0x1e3)][_0x58968e(0x1d5)](':')[_0x58968e(0x184)](Number);return{'data':_0x196892,'start':_0x11e668*0x3c+_0x52ee68,'end':_0x22f701*0x3c+_0x220312,'colIndex':0x0};});_0x18c592[_0x24fe6f(0x1ce)]((_0x22cb21,_0x525510)=>{const _0x3d2d5f=_0x24fe6f;if(_0x22cb21[_0x3d2d5f(0xf1)]!==_0x525510[_0x3d2d5f(0xf1)])return _0x22cb21[_0x3d2d5f(0xf1)]-_0x525510['start'];return _0x525510[_0x3d2d5f(0x1e3)]-_0x525510[_0x3d2d5f(0xf1)]-(_0x22cb21[_0x3d2d5f(0x1e3)]-_0x22cb21[_0x3d2d5f(0xf1)]);});const _0x14c9ce=[];_0x18c592['forEach'](_0x5d533b=>{const _0x5e4815=_0x24fe6f;let _0x5a6006=![];for(let _0x4a6697=0x0;_0x4a6697<_0x14c9ce[_0x5e4815(0x153)];_0x4a6697++){const _0x340c40=_0x14c9ce[_0x4a6697],_0x56c165=_0x340c40[_0x340c40[_0x5e4815(0x153)]-0x1];if(_0x5d533b[_0x5e4815(0xf1)]>=_0x56c165[_0x5e4815(0x1e3)]){_0x340c40[_0x5e4815(0x18e)](_0x5d533b),_0x5d533b['colIndex']=_0x4a6697,_0x5a6006=!![];break;}}!_0x5a6006&&(_0x14c9ce[_0x5e4815(0x18e)]([_0x5d533b]),_0x5d533b[_0x5e4815(0x180)]=_0x14c9ce[_0x5e4815(0x153)]-0x1);}),_0x18c592[_0x24fe6f(0x1be)](_0x59453b=>{const _0x3f073d=_0x24fe6f;let _0x3e856e=0x0;_0x18c592[_0x3f073d(0x1be)](_0x4823f3=>{const _0xc54dc8=_0x3f073d;if(Math[_0xc54dc8(0x1fa)](_0x59453b[_0xc54dc8(0xf1)],_0x4823f3[_0xc54dc8(0xf1)])<Math[_0xc54dc8(0x143)](_0x59453b[_0xc54dc8(0x1e3)],_0x4823f3[_0xc54dc8(0x1e3)])){if(_0x4823f3[_0xc54dc8(0x180)]>_0x3e856e)_0x3e856e=_0x4823f3['colIndex'];}});const _0x42bf5a=_0x3e856e+0x1,_0x456616=0x64/_0x42bf5a,_0x586e7c=_0x59453b['colIndex']*_0x456616,_0x4b4432=createEventEl(_0x59453b['data']);_0x4b4432[_0x3f073d(0x1ed)][_0x3f073d(0x13c)]=_0x3f073d(0x11d)+_0x456616+_0x3f073d(0x1b4),_0x4b4432[_0x3f073d(0x1ed)][_0x3f073d(0x1b2)]=_0x3f073d(0x11d)+_0x586e7c+_0x3f073d(0x173),_0x4b4432[_0x3f073d(0x1ed)][_0x3f073d(0x1b3)]=0xa+_0x59453b['colIndex'],_0x456616<0x55&&_0x4b4432[_0x3f073d(0xe3)][_0x3f073d(0xff)](_0x3f073d(0x1a7)),_0x2b7713[_0x3f073d(0x221)](_0x4b4432);});}function createEventEl(_0x399277){const _0x59ddfe=a2_0xfa3410,[_0x574960,_0x369e68]=_0x399277[_0x59ddfe(0xf1)][_0x59ddfe(0x1d5)](':')['map'](Number),[_0x59aff6,_0x3df437]=_0x399277[_0x59ddfe(0x1e3)]['split'](':')[_0x59ddfe(0x184)](Number),_0x97f890=(_0x574960*0x3c+_0x369e68)/0x3c*GRID_H,_0x4595cb=(_0x59aff6*0x3c+_0x3df437-(_0x574960*0x3c+_0x369e68))/0x3c*GRID_H,_0x5cea48=document[_0x59ddfe(0x226)](_0x59ddfe(0xf3)),_0x31f9c7=_0x399277[_0x59ddfe(0x12d)]==='completed'?_0x59ddfe(0x104):'';_0x5cea48[_0x59ddfe(0x16f)]=_0x59ddfe(0x177)+_0x31f9c7,_0x5cea48[_0x59ddfe(0x1ed)][_0x59ddfe(0x251)]=_0x97f890+'px',_0x5cea48[_0x59ddfe(0x1ed)][_0x59ddfe(0x1d9)]=Math[_0x59ddfe(0x1fa)](_0x4595cb,0x14)+'px';const _0x3fa4aa=clients[_0x59ddfe(0x22b)](_0x2e7313=>_0x399277[_0x59ddfe(0x219)]&&String(_0x2e7313['id'])===String(_0x399277[_0x59ddfe(0x219)])||_0x2e7313[_0x59ddfe(0x23c)]===_0x399277[_0x59ddfe(0x220)]),_0x23993=_0x3fa4aa?_0x3fa4aa['color']:_0x59ddfe(0x247);_0x5cea48[_0x59ddfe(0x1ed)]['borderLeftColor']=_0x23993,_0x5cea48[_0x59ddfe(0x1ed)][_0x59ddfe(0x1b9)]=hexToRgba(_0x23993,0.85);let _0x2c4fd7=_0x59ddfe(0x212)+_0x399277['client']+_0x59ddfe(0x223)+_0x399277[_0x59ddfe(0xf1)]+'\x20-\x20'+_0x399277['end']+'</div>';return _0x399277[_0x59ddfe(0xef)]&&(_0x2c4fd7+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x399277[_0x59ddfe(0x12d)]===_0x59ddfe(0x133)&&(_0x2c4fd7+=_0x59ddfe(0xea)),_0x5cea48[_0x59ddfe(0x24b)]=_0x2c4fd7,_0x5cea48['onclick']=_0x4f6a9c=>{const _0x36d09f=_0x59ddfe;_0x4f6a9c[_0x36d09f(0xee)](),openEdit(_0x399277);},_0x5cea48;}function attachLongPressHandler(_0x7accb4,_0x3ba361){const _0x2412cd=a2_0xfa3410;let _0x53764d=0x0,_0x4610ab=null;const _0x485a75=_0x51f43f=>{const _0x557f32=a2_0x13e4;if(_0x51f43f[_0x557f32(0x225)][_0x557f32(0x213)](_0x557f32(0xfa)))return;isScrolling=![],_0x53764d=_0x51f43f[_0x557f32(0xd7)]?_0x51f43f[_0x557f32(0xd7)][0x0][_0x557f32(0x1fb)]:_0x51f43f[_0x557f32(0x1fb)],_0x4610ab=setTimeout(()=>{const _0x34b1c6=_0x557f32;if(!isScrolling){navigator[_0x34b1c6(0x120)]?.(0x32);const _0x228fe4=_0x7accb4[_0x34b1c6(0xf7)](),_0x3a52d2=Math[_0x34b1c6(0x18f)]((_0x53764d-_0x228fe4[_0x34b1c6(0x251)])/GRID_H);_0x3ba361['setHours'](_0x3a52d2,0x0),openAddSession(_0x3ba361);}},0x1f4);},_0x48c717=()=>{isScrolling=!![],clearTimeout(_0x4610ab);},_0x7e37c9=()=>{clearTimeout(_0x4610ab);};_0x7accb4[_0x2412cd(0x165)](_0x2412cd(0x1f7),_0x485a75,{'passive':!![]}),_0x7accb4[_0x2412cd(0x165)]('touchmove',_0x48c717,{'passive':!![]}),_0x7accb4[_0x2412cd(0x165)](_0x2412cd(0x124),_0x7e37c9),_0x7accb4[_0x2412cd(0x165)](_0x2412cd(0x1bd),_0x485a75),_0x7accb4[_0x2412cd(0x165)](_0x2412cd(0x109),_0x48c717),_0x7accb4[_0x2412cd(0x165)](_0x2412cd(0xeb),_0x7e37c9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4e8a75=a2_0xfa3410,_0x239d3c=document['getElementById'](_0x4e8a75(0x1ec)),_0x25e7bb=_0x239d3c[_0x4e8a75(0x127)],_0x44096a=_0x239d3c[_0x4e8a75(0xe0)],_0x52c6d3=_0x239d3c[_0x4e8a75(0x218)];if(_0x44096a-(_0x25e7bb+_0x52c6d3)<0x12c){const _0x6b6081=endOffset;endOffset+=0xe,renderDayRange(_0x6b6081+0x1,endOffset),reRenderBlocks();}if(_0x25e7bb<0x12c){const _0x1e38b6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1e38b6-0x1),_0x239d3c['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x33bfa3,_0x334dad){const _0x539fdc=a2_0xfa3410,_0x3eb438=document[_0x539fdc(0x17d)](_0x539fdc(0x125)),_0x48dd63=document[_0x539fdc(0x17d)]('gridColumns'),_0x426801=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x24fe39=new Date();_0x24fe39[_0x539fdc(0x132)](0x0,0x0,0x0,0x0);const _0x4be004=getLocalDateStr(new Date()),_0x4a1508=document[_0x539fdc(0x20a)](),_0x314a52=document['createDocumentFragment']();for(let _0x28df8f=_0x33bfa3;_0x28df8f<=_0x334dad;_0x28df8f++){const _0x2118ab=new Date(_0x24fe39);_0x2118ab[_0x539fdc(0x17c)](_0x2118ab[_0x539fdc(0x231)]()+_0x28df8f);const _0x45179c=getLocalDateStr(_0x2118ab);let _0x24f43d=_0x2118ab[_0x539fdc(0x207)]()-0x1;if(_0x24f43d===-0x1)_0x24f43d=0x6;const _0x306dae=_0x45179c===_0x4be004,_0x436acd=document['createElement'](_0x539fdc(0xf3));_0x436acd[_0x539fdc(0x16f)]=_0x539fdc(0x197)+(_0x306dae?_0x539fdc(0x1f2):''),_0x436acd['id']='header-'+_0x45179c,_0x436acd['setAttribute'](_0x539fdc(0xf4),_0x45179c),_0x436acd[_0x539fdc(0x24b)]=_0x539fdc(0x22d)+_0x426801[_0x24f43d]+_0x539fdc(0x186)+_0x2118ab[_0x539fdc(0x231)]()+_0x539fdc(0x227)+_0x45179c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x436acd[_0x539fdc(0x116)]=()=>openDayOptions(_0x45179c,_0x426801[_0x24f43d]+'\x20'+_0x2118ab[_0x539fdc(0x231)]()),_0x4a1508[_0x539fdc(0x221)](_0x436acd);const _0x2a7cc7=document['createElement'](_0x539fdc(0xf3));_0x2a7cc7[_0x539fdc(0x16f)]=_0x539fdc(0xe2)+(_0x306dae?_0x539fdc(0x1f2):''),_0x2a7cc7[_0x539fdc(0x215)](_0x539fdc(0xf4),_0x45179c),_0x2a7cc7[_0x539fdc(0x215)](_0x539fdc(0x201),_0x24f43d),renderEventsForColumn(_0x2a7cc7,_0x45179c,_0x24f43d),attachLongPressHandler(_0x2a7cc7,_0x2118ab),_0x314a52[_0x539fdc(0x221)](_0x2a7cc7),updateDayStats(_0x45179c);}_0x3eb438['insertBefore'](_0x4a1508,_0x3eb438[_0x539fdc(0x15c)]),_0x48dd63[_0x539fdc(0x22c)](_0x314a52,_0x48dd63[_0x539fdc(0x1ac)](_0x539fdc(0x15e)));}function validateAppointment(_0x283e97,_0x539d72,_0x176ad2,_0x2e8674,_0x4e9780){const _0x4a9869=a2_0xfa3410,[_0x2db943,_0x6dc732]=_0x539d72[_0x4a9869(0x1d5)](':')[_0x4a9869(0x184)](Number),[_0x9a1357,_0x53ad9c]=_0x176ad2[_0x4a9869(0x1d5)](':')[_0x4a9869(0x184)](Number),_0x370197=_0x2db943*0x3c+_0x6dc732,_0x48c4ef=_0x9a1357*0x3c+_0x53ad9c,_0x6b22ce=String(_0x4e9780);let _0x55859f=![],_0x23c614='';for(let _0x1e822f of sessions){if(_0x1e822f[_0x4a9869(0x1a4)]!==_0x283e97)continue;if(_0x1e822f[_0x4a9869(0x12d)]===_0x4a9869(0x113))continue;if(_0x2e8674&&String(_0x1e822f['id'])===String(_0x2e8674))continue;const [_0x3df3ef,_0x348b6d]=_0x1e822f[_0x4a9869(0xf1)][_0x4a9869(0x1d5)](':')[_0x4a9869(0x184)](Number),[_0x554b4d,_0xdfc665]=_0x1e822f[_0x4a9869(0x1e3)][_0x4a9869(0x1d5)](':')[_0x4a9869(0x184)](Number),_0xf631af=_0x3df3ef*0x3c+_0x348b6d,_0x5edb28=_0x554b4d*0x3c+_0xdfc665;if(Math[_0x4a9869(0x1fa)](_0x370197,_0xf631af)<Math[_0x4a9869(0x143)](_0x48c4ef,_0x5edb28)){if(_0x1e822f['clientId']&&String(_0x1e822f[_0x4a9869(0x219)])===_0x6b22ce)return{'valid':![],'msg':_0x4a9869(0x155)+_0x1e822f['client']+_0x4a9869(0x123)};_0x55859f=!![],_0x23c614=_0x1e822f[_0x4a9869(0x220)];}}if(_0x55859f)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x23c614};return{'valid':!![]};}function updateDateDisplay(){const _0x3f5ad2=a2_0xfa3410,_0x116973=document[_0x3f5ad2(0x17d)]('inpDate')[_0x3f5ad2(0x160)],_0x471417=document[_0x3f5ad2(0x17d)](_0x3f5ad2(0x185));if(!_0x116973){_0x471417['textContent']='';return;}const [_0x47c74c,_0x1c5459,_0x4e4f08]=_0x116973['split']('-')[_0x3f5ad2(0x184)](Number),_0x5b47a1=new Date(_0x47c74c,_0x1c5459-0x1,_0x4e4f08),_0x192d93={'weekday':'long','day':_0x3f5ad2(0x18b),'month':_0x3f5ad2(0x13e),'year':_0x3f5ad2(0x18b)};let _0x1b5c2d=_0x5b47a1['toLocaleDateString']('ru-RU',_0x192d93);_0x1b5c2d=_0x1b5c2d['charAt'](0x0)[_0x3f5ad2(0x1c4)]()+_0x1b5c2d[_0x3f5ad2(0x24a)](0x1),_0x471417[_0x3f5ad2(0x228)]=_0x1b5c2d;}function autoSetEndTime(){const _0xab0375=a2_0xfa3410,_0x37829f=document[_0xab0375(0x17d)](_0xab0375(0x1e9))['value'];if(!_0x37829f)return;const [_0x1b2f66,_0x3c9218]=_0x37829f[_0xab0375(0x1d5)](':')[_0xab0375(0x184)](Number);let _0x85dadb=_0x1b2f66+0x1;if(_0x85dadb>0x17)_0x85dadb=0x0;const _0x1bb5de=String(_0x85dadb)['padStart'](0x2,'0')+':'+String(_0x3c9218)[_0xab0375(0xe4)](0x2,'0');document[_0xab0375(0x17d)](_0xab0375(0x1e6))[_0xab0375(0x160)]=_0x1bb5de;}function populateClientSelect(){const _0x3d863b=a2_0xfa3410,_0x3031ae=document[_0x3d863b(0x17d)](_0x3d863b(0xdf));_0x3031ae[_0x3d863b(0x24b)]='';if(clients[_0x3d863b(0x153)]===0x0){const _0x4ce240=document[_0x3d863b(0x226)]('option');_0x4ce240['text']=_0x3d863b(0x1a8),_0x3031ae[_0x3d863b(0x221)](_0x4ce240);return;}clients['forEach'](_0x393f0d=>{const _0x4cec80=_0x3d863b,_0x2812fc=document['createElement'](_0x4cec80(0xdc));_0x2812fc['value']=_0x393f0d['name'],_0x2812fc[_0x4cec80(0x228)]=_0x393f0d[_0x4cec80(0x23c)],_0x3031ae[_0x4cec80(0x221)](_0x2812fc);});}function openActionSheet(_0x34187a){const _0x4e260c=a2_0xfa3410,_0x49aded=document[_0x4e260c(0x17d)]('actionSheet'),_0x36b244=document[_0x4e260c(0x17d)](_0x4e260c(0x224)),_0x1951cd=document[_0x4e260c(0x17d)](_0x4e260c(0x190)),_0x115e63=document['getElementById'](_0x4e260c(0x1a6)),_0x188a3e=document['getElementById'](_0x4e260c(0x1ff));_0x36b244[_0x4e260c(0xe3)]['add'](_0x4e260c(0x134)),_0x49aded[_0x4e260c(0xe3)]['add'](_0x4e260c(0x140));if(_0x34187a===_0x4e260c(0x12c))_0x1951cd[_0x4e260c(0x228)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x115e63[_0x4e260c(0x228)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x115e63[_0x4e260c(0x116)]=()=>{const _0x23adef=_0x4e260c;closeActionSheet(),updateSeriesBatch(_0x23adef(0x105),tempSessionData);},_0x188a3e[_0x4e260c(0x228)]=_0x4e260c(0x1f0),_0x188a3e[_0x4e260c(0x116)]=()=>{const _0x2ff618=_0x4e260c;closeActionSheet(),updateSeriesBatch(_0x2ff618(0x10a),tempSessionData);};else _0x34187a==='delete'&&(_0x1951cd[_0x4e260c(0x228)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x115e63[_0x4e260c(0x228)]=_0x4e260c(0x14d),_0x115e63[_0x4e260c(0x16f)]='as-button\x20danger',_0x115e63[_0x4e260c(0x116)]=()=>{const _0x189c70=_0x4e260c;closeActionSheet(),commitDelete(_0x189c70(0x105),sessions[_0x189c70(0x22b)](_0x1a22c8=>_0x1a22c8['id']===editingId));},_0x188a3e[_0x4e260c(0x228)]=_0x4e260c(0x1f0),_0x188a3e[_0x4e260c(0x16f)]=_0x4e260c(0x137),_0x188a3e[_0x4e260c(0x116)]=()=>{const _0x51baa0=_0x4e260c;closeActionSheet(),commitDelete(_0x51baa0(0x10a),sessions[_0x51baa0(0x22b)](_0x15d646=>_0x15d646['id']===editingId));});}function closeActionSheet(){const _0x2b851e=a2_0xfa3410;document[_0x2b851e(0x17d)](_0x2b851e(0xfe))[_0x2b851e(0xe3)][_0x2b851e(0x243)](_0x2b851e(0x140)),document[_0x2b851e(0x17d)](_0x2b851e(0x224))[_0x2b851e(0xe3)][_0x2b851e(0x243)]('active');}function openSettings(){const _0x448d56=a2_0xfa3410;openSheet(_0x448d56(0x246));}function saveCoachSettings(){const _0x176004=a2_0xfa3410,_0x1f60b9=document[_0x176004(0x17d)](_0x176004(0x1c7))[_0x176004(0x160)];localStorage['setItem'](_0x176004(0x14c),_0x1f60b9),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x1f60b9),DataManager[_0x176004(0x1f3)](_0x176004(0xe9),{'settings':{'cancel_window':_0x1f60b9}})[_0x176004(0x1b0)](_0x79347c=>{const _0x32916b=_0x176004;console[_0x32916b(0x1da)](_0x32916b(0xfd),_0x79347c),showToast(_0x32916b(0x1a1),![]);});}function loadCoachSettings(){const _0x3d6eeb=a2_0xfa3410,_0x57f629=localStorage[_0x3d6eeb(0x238)](_0x3d6eeb(0x14c));_0x57f629&&(document[_0x3d6eeb(0x17d)](_0x3d6eeb(0x1c7))[_0x3d6eeb(0x160)]=_0x57f629);}function openRangesSheet(){const _0x302a9a=a2_0xfa3410;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x302a9a(0x119));}function addRange(){const _0x19b8bc=a2_0xfa3410,_0x2b992b=document[_0x19b8bc(0x17d)](_0x19b8bc(0x1a2))[_0x19b8bc(0x160)],_0xf38867=document[_0x19b8bc(0x17d)](_0x19b8bc(0x1bf))[_0x19b8bc(0x160)],_0x3b6c38=document[_0x19b8bc(0x17d)](_0x19b8bc(0xdd))[_0x19b8bc(0x160)],_0x1bb3d8=document[_0x19b8bc(0x17d)](_0x19b8bc(0x1cf))[_0x19b8bc(0x160)];if(!_0x2b992b||!_0xf38867||!_0x3b6c38||!_0x1bb3d8)return alert(_0x19b8bc(0x23b));const _0x48bd88=_0x2b992b+'T'+_0xf38867,_0xd9d33c=_0x3b6c38+'T'+_0x1bb3d8;if(_0x48bd88>=_0xd9d33c)return alert(_0x19b8bc(0xed));specialRanges[_0x19b8bc(0x18e)]({'start':_0x48bd88,'end':_0xd9d33c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x19b8bc(0x253)](),DataManager[_0x19b8bc(0x1f3)](_0x19b8bc(0xe9),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1c6617){const _0x4e895b=a2_0xfa3410;specialRanges[_0x4e895b(0x126)](_0x1c6617,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4e895b(0x1f3)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x396488=a2_0xfa3410;document[_0x396488(0x17d)](_0x396488(0x1a2))['value']='',document[_0x396488(0x17d)](_0x396488(0x1bf))['value']=_0x396488(0x1d3),document[_0x396488(0x17d)](_0x396488(0xdd))[_0x396488(0x160)]='',document[_0x396488(0x17d)]('rangeEndTime')['value']=_0x396488(0x242);}function renderRangesList(){const _0xc080ae=a2_0xfa3410,_0x415c3e=document[_0xc080ae(0x17d)](_0xc080ae(0x1df));_0x415c3e[_0xc080ae(0x24b)]='';if(!specialRanges[_0xc080ae(0x153)]){_0x415c3e[_0xc080ae(0x24b)]=_0xc080ae(0x11e);return;}specialRanges[_0xc080ae(0x1be)]((_0x58d71c,_0x57792c)=>{const _0x2ff401=_0xc080ae,_0x280090=document[_0x2ff401(0x226)](_0x2ff401(0xf3));_0x280090[_0x2ff401(0x16f)]=_0x2ff401(0x16b);const _0x279990=_0x559b14=>{const _0x1ace4a=_0x2ff401,_0x2d9eff=new Date(_0x559b14);return _0x2d9eff['getDate']()+'.'+String(_0x2d9eff[_0x1ace4a(0xfc)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x2d9eff[_0x1ace4a(0x12e)]())['padStart'](0x2,'0')+':'+String(_0x2d9eff[_0x1ace4a(0x1d6)]())[_0x1ace4a(0xe4)](0x2,'0');};_0x280090['innerHTML']=_0x2ff401(0xda)+_0x279990(_0x58d71c[_0x2ff401(0xf1)])+_0x2ff401(0x21a)+_0x279990(_0x58d71c[_0x2ff401(0x1e3)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x57792c+_0x2ff401(0x1b5),_0x415c3e[_0x2ff401(0x221)](_0x280090);});}function scrollToToday(){const _0x5e2266=a2_0xfa3410,_0x26c365=getLocalDateStr(new Date()),_0x499105=document[_0x5e2266(0x17d)]('header-'+_0x26c365),_0x13bd33=document['getElementById'](_0x5e2266(0x1ec));if(_0x499105&&_0x13bd33){const _0x29ff7b=_0x13bd33['clientWidth'],_0x294989=_0x499105[_0x5e2266(0x1ea)],_0x21ef61=_0x499105[_0x5e2266(0x188)];_0x13bd33['scrollLeft']=_0x294989-_0x29ff7b/0x2+_0x21ef61/0x2,_0x13bd33['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x4c78b8=a2_0xfa3410,_0x16b9c1=document[_0x4c78b8(0x17d)](_0x4c78b8(0x1ec)),_0x40a74d=document[_0x4c78b8(0x17f)](_0x4c78b8(0x167));for(let _0x5de7e5 of _0x40a74d)if(_0x5de7e5[_0x4c78b8(0x1ea)]>=_0x16b9c1[_0x4c78b8(0x127)]){const _0x3533f8=new Date(_0x5de7e5[_0x4c78b8(0x149)]('data-date'));document[_0x4c78b8(0x17d)](_0x4c78b8(0x206))[_0x4c78b8(0x228)]=_0x3533f8[_0x4c78b8(0x161)]('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x3533f8['getFullYear']();break;}}function showToast(_0x5e78ad,_0x298386=![]){const _0x16769e=a2_0xfa3410,_0x879107=document['getElementById'](_0x16769e(0x13d));_0x879107[_0x16769e(0x16f)]=_0x16769e(0x128)+(_0x298386?_0x16769e(0x102):''),document['getElementById'](_0x16769e(0x1ba))[_0x16769e(0x228)]=_0x298386?_0x16769e(0x204):_0x16769e(0x183),document[_0x16769e(0x17d)]('toastMessage')[_0x16769e(0x228)]=_0x5e78ad,_0x879107['classList'][_0x16769e(0xff)](_0x16769e(0x150)),setTimeout(()=>{const _0x33a09a=_0x16769e;_0x879107[_0x33a09a(0xe3)][_0x33a09a(0x243)](_0x33a09a(0x150));},0xbb8);}function openDayOptions(_0x5522b4,_0x151d3f){const _0x227417=a2_0xfa3410;selectedDayForOptions=_0x5522b4,document['getElementById'](_0x227417(0xf9))[_0x227417(0x228)]=_0x151d3f,openSheet(_0x227417(0xe8));}function toggleDayOff(){const _0x334a22=a2_0xfa3410;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x334a22(0x154),reRenderBlocks(),closeAllSheets(),DataManager[_0x334a22(0x253)](),DataManager[_0x334a22(0x1f3)](_0x334a22(0xe9),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1edcd4=a2_0xfa3410;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1edcd4(0x253)](),DataManager[_0x1edcd4(0x1f3)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4e58a3){const _0x95743c=a2_0xfa3410;document[_0x95743c(0x17d)](_0x95743c(0x10c))[_0x95743c(0xe3)]['add'](_0x95743c(0x134)),document[_0x95743c(0x17d)](_0x4e58a3)[_0x95743c(0xe3)][_0x95743c(0xff)](_0x95743c(0x140));}function closeAllSheets(){const _0x179672=a2_0xfa3410;document[_0x179672(0x17d)](_0x179672(0x10c))[_0x179672(0xe3)][_0x179672(0x243)](_0x179672(0x134)),document[_0x179672(0x17f)](_0x179672(0x182))['forEach'](_0x3bdfb8=>_0x3bdfb8[_0x179672(0xe3)]['remove'](_0x179672(0x140)));}function openPatternEditor(){const _0x5aae56=a2_0xfa3410;closeAllSheets(),document['getElementById'](_0x5aae56(0x216))[_0x5aae56(0xe3)]['add'](_0x5aae56(0x140)),renderPatternEditor();}function closePatternEditor(){const _0x1f1bd0=a2_0xfa3410;document[_0x1f1bd0(0x17d)](_0x1f1bd0(0x216))[_0x1f1bd0(0xe3)][_0x1f1bd0(0x243)](_0x1f1bd0(0x140));}function savePattern(){const _0x349edb=a2_0xfa3410;document[_0x349edb(0x17d)]('patternEditor')['classList'][_0x349edb(0x243)](_0x349edb(0x140)),reRenderBlocks(),DataManager[_0x349edb(0x253)](),DataManager[_0x349edb(0x1f3)](_0x349edb(0xe9),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x66b76=a2_0xfa3410,_0x1f1143=document['getElementById'](_0x66b76(0x151));_0x1f1143[_0x66b76(0x24b)]='';const _0x3357d6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x375022=document['createElement']('div');_0x375022['className']=_0x66b76(0xd8),_0x1f1143[_0x66b76(0x221)](_0x375022),_0x3357d6[_0x66b76(0x1be)]((_0x37cbd2,_0x2302fb)=>{const _0x5ed2f4=_0x66b76,_0x4b2506=document['createElement'](_0x5ed2f4(0xf3));_0x4b2506[_0x5ed2f4(0x16f)]=_0x5ed2f4(0x249),_0x4b2506['innerHTML']=_0x37cbd2+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4b2506[_0x5ed2f4(0x116)]=()=>toggleColPattern(_0x2302fb),_0x1f1143[_0x5ed2f4(0x221)](_0x4b2506);});for(let _0x5a402a=0x0;_0x5a402a<0x18;_0x5a402a++){const _0x536c33=document[_0x66b76(0x226)](_0x66b76(0xf3));_0x536c33[_0x66b76(0x16f)]='pe-time-label',_0x536c33[_0x66b76(0x24b)]=_0x66b76(0x1c2)+String(_0x5a402a)[_0x66b76(0xe4)](0x2,'0')+_0x66b76(0x106),_0x536c33[_0x66b76(0x116)]=()=>toggleRowPattern(_0x5a402a),_0x1f1143['appendChild'](_0x536c33);for(let _0x5c91c9=0x0;_0x5c91c9<0x7;_0x5c91c9++){const _0x4e79e1=document[_0x66b76(0x226)](_0x66b76(0xf3)),_0x8f81ed=(availabilityPattern[_0x5c91c9]||[])[_0x66b76(0x19a)](_0x5a402a),_0x4f7144=!_0x8f81ed;_0x4e79e1[_0x66b76(0x16f)]=_0x66b76(0x11a)+(_0x4f7144?_0x66b76(0x134):''),_0x4e79e1[_0x66b76(0x116)]=()=>toggleSinglePattern(_0x5c91c9,_0x5a402a),_0x1f1143['appendChild'](_0x4e79e1);}}}function a2_0x384a(){const _0x310c87=['fetchFromServer','139482MtEGGq','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyticsSheet','touchstart','setHeaderColor','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','max','clientY','href','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','Local\x20Save\x20Error','asBtnSeries','<span>','data-day-idx','1737Fszolr','[Sync]\x20Loading\x20','–£—Å–ø–µ—à–Ω–æ','doLoadPercent','headerMonth','getDay','10px','week','createDocumentFragment','5uvyHIX','\x20–∏–∑\x20','toLocaleDateString','loadLocal','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','getFullYear',']\x20Failed:','<div\x20class=\x22ev-title\x22>','closest','getText','setAttribute','patternEditor','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','clientWidth','clientId','\x20‚Äî\x20','init_load','DOMContentLoaded','parse','rgba(255,\x20159,\x2010,\x200.3)','btnStatusToggle','client','appendChild','doWorkHours','</div><div\x20class=\x22ev-time\x22>','actionSheetOverlay','target','createElement','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','textContent','toFixed','T00:00:00','find','insertBefore','<div\x20class=\x22dch-day\x22>','...','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','var(--acc-orange)','getDate','constructor','1790vgIlqI','charAt','mergeServerData','T23:59:59','btn-primary\x20btn-danger','getItem','formatDate','setMonth','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','name','gridColumns','send','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','Telegram','px\x20-','23:59','remove','2857131UgvFHw','4697004ySrBcf','settingsSheet','#0a84ff','100%','pe-col-header','slice','innerHTML','ready','color','uc_sessions_v9','blocked-slot\x20stripe-bg','[Notify]\x20Server\x20Response:','top','done','saveLocally','WebApp','borderColor','btn-status-toggle\x20undo-mode','touches','pe-corner','#gridColumns\x20.day-column','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','globalTimeLine','option','rangeEndDate','btn-status-toggle','inpClient','scrollWidth','Local\x20Load\x20Error','day-column\x20','classList','padStart','borderRadius','random','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','dayOptionsSheet','save_settings','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','mouseup','backgroundPosition','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','stopPropagation','seriesId','anStart','start','inpRecurring','div','data-date','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','header-','getBoundingClientRect','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dayOptionsTitle','.event-card','text/plain;charset=UTF-8','getMonth','Save\x20settings\x20error:','actionSheet','add','timeColumn','px\x200px','success','[Notify]\x20Network\x20Failed','\x20status-completed','single',':00','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','router.html','mousemove','series','batch_sync','overlay','anTotalStats','total','sessionSheet','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','#fff','location','cancelled','var(--acc-red)','startsWith','onclick','Server\x20Error','localeCompare','rangesSheet','pe-cell\x20','13750410BXrbKQ','from','calc(','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','delete','vibrate','valid','Batch\x20Sync\x20OK',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','touchend','daysHeaderTrack','splice','scrollLeft','toast-notification\x20',':00</span>','data','(((.+)+)+)+$','save','status','getHours','round','doBusyHours','create','setHours','completed','active','.day-off-overlay','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','as-button\x20danger\x20bold','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','findIndex','2403372KnzxqE','cancel_window','width','toast','long','block','open','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setItem','min',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.',':\x20Client\x20already\x20booked','warning','anPercent','none','getAttribute','.dch-stats-fill','[Notify]\x20Error:\x20Text\x20generation\x20failed','uc_settings_cancel_window','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','v9.0-BATCH-CALENDAR','toString','show','peGrid','analyticsList','length','off','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','planned','initDataUnsafe','deleted','[Notify]\x20Error:\x20sessionData\x20is\x20null','pattern','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','firstChild','inpNote','.day-column','[Notify]\x20Attempting\x20to\x20send:','value','toLocaleString','BackButton','ranges','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','addEventListener','patternInfoBox','.day-col-header','borderLeftColor','then','rgba(','range-item','btnDelete','recurringOptionContainer','user','className','custom','isArray','sheetTitle','%\x20+\x202px)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','getTime','event-card','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','clients','time-label','calendar','setDate','getElementById','day-off-overlay\x20stripe-bg','querySelectorAll','colIndex','background','.sheet','–ò–Ω—Ñ–æ','map','sheetDateSubtitle','</div><div\x20class=\x22dch-num\x22>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','offsetWidth','indexOf','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','numeric','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','push','floor','asTitle','11HEWyjk','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','ru-RU','</b>\x0a\x0a','[API\x20','.period-switch\x20.p-btn','day-col-header\x20','statLoadCard','filter','includes','timeLineBadge','[Series]\x20Skipped\x20','note','settings','var(--acc-green)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rangeStartDate','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','dateStr','log','asBtnOne','mini','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','de-item','substr','update','querySelector','inpDate','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','catch','month','left','zIndex','%\x20-\x204px)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','disableVerticalSwipes','flex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','backgroundColor','toastTitle','exceptions','setBackgroundColor','mousedown','forEach','rangeStartTime','8UZMnmY','syncBatch','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toUpperCase','rgba(255,\x2069,\x2058,\x200.15)','null','settingCancelWindow','seriesCountContainer','.pib-text','anDonutCircle','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','doDateHeader','entries','sort','rangeEndTime','anEnd','strokeDashoffset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','00:00','json','split','getMinutes','search','now','height','error','apply','rgba(255,\x2069,\x2058,\x200.3)','9571968sddChD','warn','rangesList','cancel','blocked-range-part\x20stripe-bg','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','end','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','inpEnd','stringify','#050505','inpStart','offsetLeft','display','matrixViewport','style','checked','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','Error\x20setting\x20back\x20button:','today'];a2_0x384a=function(){return _0x310c87;};return a2_0x384a();}function toggleSinglePattern(_0x3f3143,_0x273b8d){const _0x3e19dc=a2_0xfa3410;if(!availabilityPattern[_0x3f3143])availabilityPattern[_0x3f3143]=[];const _0x5da44e=availabilityPattern[_0x3f3143],_0x539101=_0x5da44e['indexOf'](_0x273b8d);_0x539101===-0x1?_0x5da44e[_0x3e19dc(0x18e)](_0x273b8d):_0x5da44e[_0x3e19dc(0x126)](_0x539101,0x1),renderPatternEditor();}function toggleColPattern(_0x5e617e){const _0xfd5c8d=a2_0xfa3410;if(!availabilityPattern[_0x5e617e])availabilityPattern[_0x5e617e]=[];const _0xd779cb=availabilityPattern[_0x5e617e];_0xd779cb[_0xfd5c8d(0x153)]===0x0?availabilityPattern[_0x5e617e]=Array['from']({'length':0x18},(_0x143445,_0x181628)=>_0x181628):availabilityPattern[_0x5e617e]=[],renderPatternEditor();}function toggleRowPattern(_0x25fa7e){const _0x384ca4=a2_0xfa3410;let _0xed622c=!![];for(let _0x1b5029=0x0;_0x1b5029<0x7;_0x1b5029++){if((availabilityPattern[_0x1b5029]||[])[_0x384ca4(0x19a)](_0x25fa7e)){_0xed622c=![];break;}}for(let _0x29f5b7=0x0;_0x29f5b7<0x7;_0x29f5b7++){if(!availabilityPattern[_0x29f5b7])availabilityPattern[_0x29f5b7]=[];const _0xb12724=availabilityPattern[_0x29f5b7][_0x384ca4(0x189)](_0x25fa7e);if(_0xed622c){if(_0xb12724===-0x1)availabilityPattern[_0x29f5b7][_0x384ca4(0x18e)](_0x25fa7e);}else{if(_0xb12724!==-0x1)availabilityPattern[_0x29f5b7]['splice'](_0xb12724,0x1);}}renderPatternEditor();}function renderPCol(_0x338070,_0x54c947){const _0x44f5b0=a2_0xfa3410;_0x338070[_0x44f5b0(0x24b)]='';const _0x25631b=Math['round'](_0x338070[_0x44f5b0(0x1ea)]);(availabilityPattern[_0x54c947]||[])[_0x44f5b0(0x1be)](_0xfc4ce4=>{const _0x36d686=_0x44f5b0,_0x404de1=document['createElement'](_0x36d686(0xf3));_0x404de1[_0x36d686(0x16f)]='blocked-slot\x20stripe-bg';const _0x3f2664=_0xfc4ce4*GRID_H;_0x404de1['style'][_0x36d686(0x251)]=_0x3f2664+'px',_0x404de1[_0x36d686(0x1ed)][_0x36d686(0xec)]='-'+_0x25631b+'px\x20-'+_0x3f2664+'px',_0x404de1[_0x36d686(0x116)]=_0x590eac=>{const _0x2ec4f4=_0x36d686;_0x590eac[_0x2ec4f4(0xee)](),toggleSinglePattern(_0x54c947,_0xfc4ce4);},_0x338070[_0x36d686(0x221)](_0x404de1);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xbba875=a2_0xfa3410,_0x4bd778=new Date(),_0x25eeb8=document['getElementById'](_0xbba875(0xdb)),_0x56e86b=document[_0xbba875(0x17d)](_0xbba875(0x19b)),_0x2b0097=(_0x4bd778[_0xbba875(0x12e)]()*0x3c+_0x4bd778[_0xbba875(0x1d6)]())/0x3c*GRID_H;_0x25eeb8['style']['top']=_0x2b0097+'px',_0x25eeb8[_0xbba875(0x1ed)][_0xbba875(0x1eb)]=_0xbba875(0x13f),_0x56e86b[_0xbba875(0x228)]=String(_0x4bd778['getHours']())[_0xbba875(0xe4)](0x2,'0')+':'+String(_0x4bd778[_0xbba875(0x1d6)]())[_0xbba875(0xe4)](0x2,'0'),_0x56e86b[_0xbba875(0x1ed)]['display']=_0xbba875(0x13f),_0x56e86b[_0xbba875(0x1ed)][_0xbba875(0x251)]=_0x2b0097+'px';}document['addEventListener'](a2_0xfa3410(0x21c),init);function openDayOptions(_0x30205b){const _0x5eea67=a2_0xfa3410;selectedDayForOptions=_0x30205b;const _0x262308=new Date(_0x30205b),_0x357918={'weekday':'long','day':_0x5eea67(0x18b),'month':_0x5eea67(0x13e),'year':'numeric'},_0x2147a8=_0x262308['toLocaleDateString']('ru-RU',_0x357918);document[_0x5eea67(0x17d)](_0x5eea67(0x1cc))[_0x5eea67(0x228)]=_0x2147a8[_0x5eea67(0x234)](0x0)[_0x5eea67(0x1c4)]()+_0x2147a8[_0x5eea67(0x24a)](0x1);let _0x17ebf0=_0x262308[_0x5eea67(0x207)]()-0x1;if(_0x17ebf0===-0x1)_0x17ebf0=0x6;const _0x52dcf9=availabilityPattern[_0x17ebf0]||[],_0x3f3d02=0x18-_0x52dcf9[_0x5eea67(0x153)],_0x1279c1=_0x3f3d02*0x3c,_0x244c70=sessions['filter'](_0x268754=>_0x268754[_0x5eea67(0x1a4)]===_0x30205b&&_0x268754[_0x5eea67(0x12d)]!==_0x5eea67(0x113));let _0x506fa2=_0x244c70[_0x5eea67(0x184)](_0x1b17db=>{const _0x3b1dc1=_0x5eea67,[_0x58b555,_0x498a00]=_0x1b17db[_0x3b1dc1(0xf1)][_0x3b1dc1(0x1d5)](':')[_0x3b1dc1(0x184)](Number),[_0x4c1f3c,_0x5a5c3f]=_0x1b17db[_0x3b1dc1(0x1e3)][_0x3b1dc1(0x1d5)](':')['map'](Number);return[_0x58b555*0x3c+_0x498a00,_0x4c1f3c*0x3c+_0x5a5c3f];});_0x506fa2[_0x5eea67(0x1ce)]((_0x42a1a7,_0x27ec34)=>_0x42a1a7[0x0]-_0x27ec34[0x0]);let _0x23a3a9=[];if(_0x506fa2[_0x5eea67(0x153)]>0x0){let _0x5ce406=_0x506fa2[0x0];for(let _0x2f9735=0x1;_0x2f9735<_0x506fa2[_0x5eea67(0x153)];_0x2f9735++){_0x506fa2[_0x2f9735][0x0]<_0x5ce406[0x1]?_0x5ce406[0x1]=Math[_0x5eea67(0x1fa)](_0x5ce406[0x1],_0x506fa2[_0x2f9735][0x1]):(_0x23a3a9['push'](_0x5ce406),_0x5ce406=_0x506fa2[_0x2f9735]);}_0x23a3a9[_0x5eea67(0x18e)](_0x5ce406);}let _0x45596a=0x0;_0x23a3a9[_0x5eea67(0x1be)](_0x4a9a14=>_0x45596a+=_0x4a9a14[0x1]-_0x4a9a14[0x0]),document[_0x5eea67(0x17d)](_0x5eea67(0x222))[_0x5eea67(0x228)]=formatMinsToHrs(_0x1279c1),document[_0x5eea67(0x17d)](_0x5eea67(0x130))[_0x5eea67(0x228)]=formatMinsToHrs(_0x45596a);const _0xd4abc1=_0x1279c1>0x0?Math[_0x5eea67(0x12f)](_0x45596a/_0x1279c1*0x64):0x0,_0x2f93c7=document[_0x5eea67(0x17d)](_0x5eea67(0x205));_0x2f93c7['textContent']=_0xd4abc1+'%';const _0xcbd164=document['getElementById'](_0x5eea67(0x198));if(_0xd4abc1>0x64)_0x2f93c7[_0x5eea67(0x1ed)]['color']='var(--acc-red)',_0xcbd164[_0x5eea67(0x1ed)]['borderColor']=_0x5eea67(0x1dc);else _0xd4abc1>0x50?(_0x2f93c7[_0x5eea67(0x1ed)]['color']=_0x5eea67(0x230),_0xcbd164[_0x5eea67(0x1ed)][_0x5eea67(0x255)]=_0x5eea67(0x21e)):(_0x2f93c7['style'][_0x5eea67(0x24d)]=_0x5eea67(0x19f),_0xcbd164[_0x5eea67(0x1ed)]['borderColor']='rgba(255,255,255,0.05)');const _0x4bddaf=document[_0x5eea67(0x17d)]('doEventsList');_0x4bddaf[_0x5eea67(0x24b)]='';_0x244c70[_0x5eea67(0x153)]===0x0?_0x4bddaf[_0x5eea67(0x24b)]=_0x5eea67(0x1cb):(_0x244c70[_0x5eea67(0x1ce)]((_0x523eba,_0x1b7387)=>_0x523eba[_0x5eea67(0xf1)][_0x5eea67(0x118)](_0x1b7387[_0x5eea67(0xf1)])),_0x244c70['forEach'](_0x572e8d=>{const _0x440421=_0x5eea67,_0x187b92=clients['find'](_0x44a35a=>_0x44a35a[_0x440421(0x23c)]===_0x572e8d[_0x440421(0x220)]),_0x51d73e=_0x187b92?_0x187b92['color']:_0x440421(0x111),_0x3ec328=_0x572e8d[_0x440421(0x12d)]===_0x440421(0x133),_0x4088e1=_0x3ec328?_0x440421(0xf8):'',_0xd1e0bb=document[_0x440421(0x226)](_0x440421(0xf3));_0xd1e0bb[_0x440421(0x16f)]=_0x440421(0x1a9),_0xd1e0bb[_0x440421(0x1ed)][_0x440421(0x168)]=_0x51d73e,_0xd1e0bb[_0x440421(0x24b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x572e8d[_0x440421(0xf1)]+'\x20-\x20'+_0x572e8d[_0x440421(0x1e3)]+_0x440421(0x1f5)+_0x572e8d[_0x440421(0x220)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4088e1+_0x440421(0x1d2),_0x4bddaf[_0x440421(0x221)](_0xd1e0bb);}));const _0x599b0d=document['getElementById']('btnDayToggle'),_0x15fa8b=dateExceptions[_0x30205b]===_0x5eea67(0x154);_0x15fa8b?(_0x599b0d[_0x5eea67(0x228)]=_0x5eea67(0x18c),_0x599b0d[_0x5eea67(0x16f)]='btn-primary\x20btn-secondary',_0x599b0d[_0x5eea67(0x1ed)][_0x5eea67(0x24d)]=_0x5eea67(0x19f),_0x599b0d[_0x5eea67(0x1ed)][_0x5eea67(0x181)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x599b0d[_0x5eea67(0x228)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x599b0d[_0x5eea67(0x16f)]=_0x5eea67(0x237),_0x599b0d[_0x5eea67(0x1ed)]['color']=_0x5eea67(0x114),_0x599b0d['style'][_0x5eea67(0x181)]=_0x5eea67(0x1c5)),openSheet(_0x5eea67(0xe8));}let currentAnPeriod=a2_0xfa3410(0x209);function openAnalytics(){const _0x350e14=a2_0xfa3410,_0x1f9969=document[_0x350e14(0x1ac)](_0x350e14(0x196));setAnalyticsPeriod('week',_0x1f9969),closeAllSheets(),openSheet(_0x350e14(0x1f6));}function setAnalyticsPeriod(_0x1db22e,_0x32962a){const _0x4ac1e1=a2_0xfa3410;currentAnPeriod=_0x1db22e,document[_0x4ac1e1(0x17f)](_0x4ac1e1(0x196))[_0x4ac1e1(0x1be)](_0x5511d8=>_0x5511d8[_0x4ac1e1(0xe3)][_0x4ac1e1(0x243)](_0x4ac1e1(0x134)));if(_0x32962a)_0x32962a[_0x4ac1e1(0xe3)][_0x4ac1e1(0xff)](_0x4ac1e1(0x134));const _0x385246=document['getElementById']('anCustomDates');_0x385246[_0x4ac1e1(0x1ed)][_0x4ac1e1(0x1eb)]=_0x1db22e===_0x4ac1e1(0x170)?_0x4ac1e1(0x1b7):_0x4ac1e1(0x148);const _0x4223f8=new Date();let _0x2662f9=new Date(),_0x318d1a=new Date();if(_0x1db22e===_0x4ac1e1(0x209))_0x2662f9=getStartOfWeek(_0x4223f8),_0x318d1a=new Date(_0x2662f9),_0x318d1a['setDate'](_0x318d1a[_0x4ac1e1(0x231)]()+0x6);else{if(_0x1db22e===_0x4ac1e1(0x1b1))_0x2662f9=new Date(_0x4223f8[_0x4ac1e1(0x210)](),_0x4223f8[_0x4ac1e1(0xfc)](),0x1),_0x318d1a=new Date(_0x4223f8['getFullYear'](),_0x4223f8['getMonth']()+0x1,0x0);else{!document[_0x4ac1e1(0x17d)](_0x4ac1e1(0xf0))[_0x4ac1e1(0x160)]&&(document[_0x4ac1e1(0x17d)](_0x4ac1e1(0xf0))[_0x4ac1e1(0x160)]=getLocalDateStr(_0x4223f8),document[_0x4ac1e1(0x17d)](_0x4ac1e1(0x1d0))[_0x4ac1e1(0x160)]=getLocalDateStr(_0x4223f8));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x4ac1e1(0x160)]=getLocalDateStr(_0x2662f9),document['getElementById'](_0x4ac1e1(0x1d0))[_0x4ac1e1(0x160)]=getLocalDateStr(_0x318d1a),refreshAnalytics();}function refreshAnalytics(){const _0x1a8889=a2_0xfa3410,_0x9e833e=document[_0x1a8889(0x17d)](_0x1a8889(0xf0))['value'],_0x256f8e=document[_0x1a8889(0x17d)](_0x1a8889(0x1d0))['value'];if(!_0x9e833e||!_0x256f8e)return;const _0x5c4246=sessions[_0x1a8889(0x199)](_0x57b261=>_0x57b261[_0x1a8889(0x1a4)]>=_0x9e833e&&_0x57b261[_0x1a8889(0x1a4)]<=_0x256f8e&&_0x57b261[_0x1a8889(0x12d)]!==_0x1a8889(0x113)),_0xa0c83e=_0x5c4246[_0x1a8889(0x153)],_0x1f0488=_0x5c4246[_0x1a8889(0x199)](_0x5d7819=>_0x5d7819[_0x1a8889(0x12d)]==='completed')[_0x1a8889(0x153)],_0x189888=_0xa0c83e>0x0?Math['round'](_0x1f0488/_0xa0c83e*0x64):0x0;document[_0x1a8889(0x17d)](_0x1a8889(0x147))['textContent']=_0x189888+'%',document[_0x1a8889(0x17d)](_0x1a8889(0x10d))[_0x1a8889(0x228)]=_0x1f0488+_0x1a8889(0x20c)+_0xa0c83e+_0x1a8889(0x136);const _0x3fba4f=document['getElementById'](_0x1a8889(0x1ca)),_0x143a4c=0x2*Math['PI']*0x23,_0x2827fd=_0x143a4c-_0x189888/0x64*_0x143a4c;_0x3fba4f['style'][_0x1a8889(0x1d1)]=_0x2827fd;const _0xd6a68={};_0x5c4246['forEach'](_0x46466d=>{const _0x5d38ad=_0x1a8889;if(!_0xd6a68[_0x46466d['client']]){const _0x19eed3=clients['find'](_0x5b7557=>_0x5b7557[_0x5d38ad(0x23c)]===_0x46466d['client']);_0xd6a68[_0x46466d[_0x5d38ad(0x220)]]={'total':0x0,'done':0x0,'color':_0x19eed3?_0x19eed3[_0x5d38ad(0x24d)]:_0x5d38ad(0x111)};}_0xd6a68[_0x46466d[_0x5d38ad(0x220)]][_0x5d38ad(0x10e)]++;if(_0x46466d[_0x5d38ad(0x12d)]==='completed')_0xd6a68[_0x46466d[_0x5d38ad(0x220)]][_0x5d38ad(0x252)]++;});const _0x3107b7=document[_0x1a8889(0x17d)](_0x1a8889(0x152));_0x3107b7[_0x1a8889(0x24b)]='';const _0x451376=Object[_0x1a8889(0x1cd)](_0xd6a68)[_0x1a8889(0x1ce)]((_0x5e1dbb,_0x172a23)=>_0x172a23[0x1]['total']-_0x5e1dbb[0x1][_0x1a8889(0x10e)]);if(_0x451376[_0x1a8889(0x153)]===0x0){_0x3107b7['innerHTML']=_0x1a8889(0x20f);return;}_0x451376[_0x1a8889(0x1be)](([_0xbf7ee1,_0x20e4ed])=>{const _0x15c761=_0x1a8889,_0xb3820f=Math[_0x15c761(0x12f)](_0x20e4ed[_0x15c761(0x252)]/_0x20e4ed[_0x15c761(0x10e)]*0x64),_0x357893=document['createElement'](_0x15c761(0xf3));_0x357893[_0x15c761(0x16f)]='client-stat-card',_0x357893[_0x15c761(0x1ed)][_0x15c761(0x168)]=_0x20e4ed['color'],_0x357893[_0x15c761(0x24b)]=_0x15c761(0x1a0)+_0xbf7ee1+_0x15c761(0x138)+_0x20e4ed['done']+'</span>\x20/\x20'+_0x20e4ed[_0x15c761(0x10e)]+_0x15c761(0x1b8)+_0xb3820f+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3107b7[_0x15c761(0x221)](_0x357893);});}function formatMinsToHrs(_0x43d6bd){if(_0x43d6bd===0x0)return'0';const _0x57ed73=Math['floor'](_0x43d6bd/0x3c),_0x243a52=_0x43d6bd%0x3c;if(_0x243a52===0x0)return _0x57ed73+'—á';return _0x57ed73+'—á\x20'+_0x243a52+'–º';}