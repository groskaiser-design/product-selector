const a2_0x150fbf=a2_0x35a1;(function(_0x27dffb,_0x3533dc){const _0x1b5cb7=a2_0x35a1,_0x48a719=_0x27dffb();while(!![]){try{const _0x4f204a=parseInt(_0x1b5cb7(0x33c))/0x1*(-parseInt(_0x1b5cb7(0x2b8))/0x2)+-parseInt(_0x1b5cb7(0x27f))/0x3*(-parseInt(_0x1b5cb7(0x2fa))/0x4)+-parseInt(_0x1b5cb7(0x1e9))/0x5+-parseInt(_0x1b5cb7(0x2d6))/0x6+parseInt(_0x1b5cb7(0x1fa))/0x7+parseInt(_0x1b5cb7(0x2a5))/0x8*(-parseInt(_0x1b5cb7(0x1ef))/0x9)+parseInt(_0x1b5cb7(0x227))/0xa;if(_0x4f204a===_0x3533dc)break;else _0x48a719['push'](_0x48a719['shift']());}catch(_0x169f5d){_0x48a719['push'](_0x48a719['shift']());}}}(a2_0x20e9,0xca483),function initTMA(){const _0x14d9d2=a2_0x35a1,_0x3abf03=(function(){let _0x334a25=!![];return function(_0x507c24,_0x4a8133){const _0x348625=_0x334a25?function(){const _0x5752df=a2_0x35a1;if(_0x4a8133){const _0x4e1477=_0x4a8133[_0x5752df(0x2ad)](_0x507c24,arguments);return _0x4a8133=null,_0x4e1477;}}:function(){};return _0x334a25=![],_0x348625;};}()),_0x37894e=_0x3abf03(this,function(){const _0x2feaf9=a2_0x35a1;return _0x37894e[_0x2feaf9(0x254)]()[_0x2feaf9(0x2f6)](_0x2feaf9(0x321))['toString']()['constructor'](_0x37894e)[_0x2feaf9(0x2f6)](_0x2feaf9(0x321));});_0x37894e();try{const _0x365e90=window[_0x14d9d2(0x2e5)]?.[_0x14d9d2(0x237)];if(!_0x365e90)return;_0x365e90[_0x14d9d2(0x33f)](),_0x365e90[_0x14d9d2(0x1e4)]();try{_0x365e90[_0x14d9d2(0x306)](_0x14d9d2(0x2db)),_0x365e90[_0x14d9d2(0x229)]&&_0x365e90[_0x14d9d2(0x229)](_0x14d9d2(0x2db));}catch(_0x5d0f86){console[_0x14d9d2(0x26c)](_0x14d9d2(0x2d0),_0x5d0f86);}try{_0x365e90[_0x14d9d2(0x34c)]&&(_0x365e90[_0x14d9d2(0x34c)]['show'](),_0x365e90[_0x14d9d2(0x34c)][_0x14d9d2(0x261)](),_0x365e90['BackButton'][_0x14d9d2(0x2b4)](function(){const _0x55afee=_0x14d9d2;window[_0x55afee(0x218)]['href']=_0x55afee(0x2e8);}));}catch(_0x483bc9){console['log'](_0x14d9d2(0x241),_0x483bc9);}try{if(_0x365e90[_0x14d9d2(0x2b9)])_0x365e90[_0x14d9d2(0x2b9)]();}catch(_0x3af10e){}}catch(_0x77791e){console[_0x14d9d2(0x283)]('Critical\x20TMA\x20Error:',_0x77791e);}}());function isAdmin(){const _0x3bbd62=a2_0x35a1;try{const _0x584e1a=Number(window[_0x3bbd62(0x2e5)]?.[_0x3bbd62(0x237)]?.[_0x3bbd62(0x2a4)]?.[_0x3bbd62(0x27e)]?.['id']);return _0x584e1a===0xbaf7174;}catch(_0x362741){return![];}}const APP_VERSION=a2_0x150fbf(0x214),API_URL=a2_0x150fbf(0x21e),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x150fbf(0x253),KEY_SESSIONS=a2_0x150fbf(0x2c6),KEY_SETTINGS=a2_0x150fbf(0x32a);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x27a2fe=a2_0x150fbf;return window[_0x27a2fe(0x2e5)]?.[_0x27a2fe(0x237)]?.[_0x27a2fe(0x2a4)]?.[_0x27a2fe(0x27e)]?.['id']||_0x27a2fe(0x2f2);},'saveLocally'(){const _0x441d02=a2_0x150fbf;try{localStorage[_0x441d02(0x20a)](KEY_CLIENTS,JSON[_0x441d02(0x262)](clients)),localStorage[_0x441d02(0x20a)](KEY_SESSIONS,JSON[_0x441d02(0x262)](sessions)),localStorage[_0x441d02(0x20a)](KEY_SETTINGS,JSON[_0x441d02(0x262)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3ccc93){console[_0x441d02(0x283)](_0x441d02(0x208),_0x3ccc93);}},'loadLocal'(){const _0x120ce3=a2_0x150fbf;try{const _0x3e81e2=localStorage['getItem'](KEY_CLIENTS);if(_0x3e81e2)clients=JSON[_0x120ce3(0x319)](_0x3e81e2);const _0x52746a=localStorage['getItem'](KEY_SESSIONS);if(_0x52746a)sessions=JSON[_0x120ce3(0x319)](_0x52746a);const _0x58d156=localStorage['getItem'](KEY_SETTINGS);if(_0x58d156){const _0x558d6a=JSON['parse'](_0x58d156);if(_0x558d6a[_0x120ce3(0x269)])availabilityPattern=_0x558d6a[_0x120ce3(0x269)];if(_0x558d6a[_0x120ce3(0x1fd)])dateExceptions=_0x558d6a['exceptions'];if(_0x558d6a[_0x120ce3(0x24e)])specialRanges=_0x558d6a[_0x120ce3(0x24e)];}else{for(let _0x1831ef=0x0;_0x1831ef<0x7;_0x1831ef++)availabilityPattern[_0x1831ef]=Array[_0x120ce3(0x358)]({'length':0xc},(_0x2e034c,_0x39e79e)=>_0x39e79e+0x9);}}catch(_0x2f332c){console[_0x120ce3(0x283)]('Local\x20Load\x20Error',_0x2f332c);}},async 'fetchFromServer'(_0x36d448,_0x13b942={}){const _0xb8bca8=a2_0x150fbf,_0x3d3ba6=window[_0xb8bca8(0x2e5)]?.[_0xb8bca8(0x237)],_0x2b254e={'action':_0x36d448,'init_data':_0x3d3ba6?.[_0xb8bca8(0x307)]||'',..._0x13b942};try{const _0x45b399=await fetch(API_URL,{'method':_0xb8bca8(0x2bd),'headers':{'Content-Type':_0xb8bca8(0x2be)},'body':JSON[_0xb8bca8(0x262)](_0x2b254e)}),_0x1492b9=await _0x45b399['json']();if(!_0x1492b9['ok'])throw new Error(_0x1492b9[_0xb8bca8(0x283)]||_0xb8bca8(0x2ef));return _0x1492b9['data'];}catch(_0x180031){console[_0xb8bca8(0x283)](_0xb8bca8(0x238)+_0x36d448+_0xb8bca8(0x1f7),_0x180031);throw _0x180031;}},async 'syncLoad'(){const _0x429a9e=a2_0x150fbf,_0x9eb62a=new Date(),_0x367316=_0x9eb62a[_0x429a9e(0x209)]()+'-'+String(_0x9eb62a[_0x429a9e(0x258)]()+0x1)[_0x429a9e(0x266)](0x2,'0'),_0x5ec160=new Date(_0x9eb62a);_0x5ec160['setMonth'](_0x9eb62a[_0x429a9e(0x258)]()+0x1);const _0x75ea36=_0x5ec160[_0x429a9e(0x209)]()+'-'+String(_0x5ec160[_0x429a9e(0x258)]()+0x1)[_0x429a9e(0x266)](0x2,'0'),_0x6b340a=Date[_0x429a9e(0x219)]();console[_0x429a9e(0x26c)](_0x429a9e(0x2c4)+_0x367316+',\x20'+_0x75ea36+_0x429a9e(0x1ff));try{const [_0x2b184a,_0x17f7fd]=await Promise[_0x429a9e(0x347)]([this[_0x429a9e(0x2ba)](_0x429a9e(0x2af),{'month_str':_0x367316}),this['fetchFromServer'](_0x429a9e(0x2af),{'month_str':_0x75ea36})]);if(lastUserActionTime>_0x6b340a)return console[_0x429a9e(0x1f1)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x429a9e(0x32b)](_0x2b184a,_0x367316),this[_0x429a9e(0x32b)](_0x17f7fd,_0x75ea36),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4a2484){console[_0x429a9e(0x283)](_0x4a2484);throw _0x4a2484;}},'mergeServerData'(_0x28820a,_0x254cbc){const _0x498faa=a2_0x150fbf;if(!_0x28820a)return;_0x28820a[_0x498faa(0x27b)]&&Array[_0x498faa(0x2d1)](_0x28820a[_0x498faa(0x27b)])&&(clients=_0x28820a[_0x498faa(0x27b)]);if(_0x28820a[_0x498faa(0x2d9)]){if(_0x28820a[_0x498faa(0x2d9)][_0x498faa(0x269)])availabilityPattern=_0x28820a[_0x498faa(0x2d9)]['pattern'];if(_0x28820a[_0x498faa(0x2d9)]['exceptions'])dateExceptions=_0x28820a[_0x498faa(0x2d9)]['exceptions'];if(_0x28820a[_0x498faa(0x2d9)][_0x498faa(0x24e)])specialRanges=_0x28820a['settings'][_0x498faa(0x24e)];if(_0x28820a['settings']['cancel_window']){localStorage[_0x498faa(0x20a)](_0x498faa(0x2a0),_0x28820a[_0x498faa(0x2d9)][_0x498faa(0x233)]);const _0x54addd=document[_0x498faa(0x274)](_0x498faa(0x31d));if(_0x54addd)_0x54addd['value']=_0x28820a[_0x498faa(0x2d9)][_0x498faa(0x233)];}}_0x28820a[_0x498faa(0x23e)]&&(sessions=sessions[_0x498faa(0x284)](_0x4554a4=>!_0x4554a4[_0x498faa(0x2e7)][_0x498faa(0x34a)](_0x254cbc)),Object[_0x498faa(0x34b)](_0x28820a[_0x498faa(0x23e)])[_0x498faa(0x298)](_0xd74b3a=>{const _0xde46b0=_0x498faa,_0x42c280=_0x28820a[_0xde46b0(0x23e)][_0xd74b3a];_0x42c280[_0xde46b0(0x298)](_0x39dc6a=>{const _0x107495=_0xde46b0,_0x305f3a=clients[_0x107495(0x2a2)](_0x2ab583=>String(_0x2ab583['id'])===String(_0x39dc6a['c']));sessions[_0x107495(0x30a)]({'id':_0x39dc6a['i'],'clientId':_0x39dc6a['c'],'client':_0x305f3a?_0x305f3a[_0x107495(0x29a)]:'Unknown','dateStr':_0x254cbc+'-'+_0xd74b3a[_0x107495(0x266)](0x2,'0'),'start':_0x39dc6a['s'],'end':_0x39dc6a['e'],'status':_0x39dc6a['st']||_0x107495(0x25d),'note':_0x39dc6a['n']||'','seriesId':_0x39dc6a['sid']||null});});}));},async 'syncBatch'(_0xdbf6ba){const _0x406e36=a2_0x150fbf,_0x203fca=[...new Set(_0xdbf6ba)],_0x218864=_0x203fca[_0x406e36(0x2c3)](_0x13463d=>{const _0x363868=_0x406e36,_0x26d511=sessions[_0x363868(0x284)](_0x36eeb7=>_0x36eeb7[_0x363868(0x2e7)]===_0x13463d&&_0x36eeb7['status']!==_0x363868(0x338)),_0x3d0fd5=_0x26d511[_0x363868(0x2c3)](_0x5afd33=>({'i':_0x5afd33['id'],'c':_0x5afd33[_0x363868(0x2e9)],'s':_0x5afd33[_0x363868(0x278)],'e':_0x5afd33[_0x363868(0x2fe)],'st':_0x5afd33[_0x363868(0x310)],'n':_0x5afd33['note'],'sid':_0x5afd33[_0x363868(0x282)]}));return{'date':_0x13463d,'day_data':_0x3d0fd5};});if(_0x218864[_0x406e36(0x25f)]===0x0)return;console[_0x406e36(0x26c)](_0x406e36(0x34d)+_0x218864[_0x406e36(0x25f)]+_0x406e36(0x26a)),await this[_0x406e36(0x2ba)](_0x406e36(0x260),{'changes':_0x218864});}};async function init(){const _0x380aed=a2_0x150fbf;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x380aed(0x274)](_0x380aed(0x285))[_0x380aed(0x21b)](_0x380aed(0x200),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x380aed(0x20c)]()[_0x380aed(0x305)](()=>{const _0x50b0c7=_0x380aed;showToast(_0x50b0c7(0x286),!![]);})['catch'](_0x455d91=>{const _0x44ea9d=_0x380aed;showToast(_0x44ea9d(0x21c),![]);});}function generateId(){const _0x52104c=a2_0x150fbf;return Date[_0x52104c(0x219)]()['toString'](0x24)+Math[_0x52104c(0x341)]()[_0x52104c(0x254)](0x24)[_0x52104c(0x230)](0x2,0x5);}function toggleSeriesInput(){const _0x502d75=a2_0x150fbf,_0x57dbeb=document[_0x502d75(0x274)](_0x502d75(0x265))[_0x502d75(0x239)],_0x4b19f8=document[_0x502d75(0x274)](_0x502d75(0x28e));_0x4b19f8[_0x502d75(0x222)][_0x502d75(0x350)]=_0x57dbeb?_0x502d75(0x204):_0x502d75(0x1fe);const _0x160819=document['getElementById'](_0x502d75(0x27d));_0x160819[_0x502d75(0x222)][_0x502d75(0x352)]=_0x57dbeb?_0x502d75(0x22d):_0x502d75(0x35a);}function openAddSession(_0x1255fa){const _0xf83a89=a2_0x150fbf;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')[_0xf83a89(0x291)]=_0xf83a89(0x231),document[_0xf83a89(0x274)]('btnDelete')[_0xf83a89(0x222)]['display']=_0xf83a89(0x1fe),document[_0xf83a89(0x274)](_0xf83a89(0x21a))[_0xf83a89(0x222)][_0xf83a89(0x350)]='none';const _0x1b3498=document[_0xf83a89(0x274)](_0xf83a89(0x27d)),_0x2c9bc7=document[_0xf83a89(0x274)]('seriesCountContainer');_0x1b3498[_0xf83a89(0x222)][_0xf83a89(0x350)]='flex',_0x1b3498['style'][_0xf83a89(0x352)]=_0xf83a89(0x35a),document[_0xf83a89(0x274)](_0xf83a89(0x265))['checked']=![],document[_0xf83a89(0x274)](_0xf83a89(0x296))[_0xf83a89(0x255)]=0x4,_0x2c9bc7[_0xf83a89(0x222)][_0xf83a89(0x350)]=_0xf83a89(0x1fe),document[_0xf83a89(0x274)](_0xf83a89(0x213))[_0xf83a89(0x255)]=getLocalDateStr(_0x1255fa),updateDateDisplay();const _0x377a92=_0x1255fa[_0xf83a89(0x288)]();document[_0xf83a89(0x274)]('inpStart')[_0xf83a89(0x255)]=String(_0x377a92)[_0xf83a89(0x266)](0x2,'0')+_0xf83a89(0x316),document[_0xf83a89(0x274)]('inpEnd')[_0xf83a89(0x255)]=String(_0x377a92+0x1)['padStart'](0x2,'0')+_0xf83a89(0x316),openSheet(_0xf83a89(0x2eb));}function openEdit(_0x591fb0){const _0x207617=a2_0x150fbf;editingId=_0x591fb0['id'],populateClientSelect(),document[_0x207617(0x274)]('sheetTitle')['textContent']=_0x207617(0x325),document[_0x207617(0x274)]('btnDelete')[_0x207617(0x222)][_0x207617(0x350)]=_0x207617(0x204);const _0x3b20d3=document[_0x207617(0x274)](_0x207617(0x21a));_0x3b20d3['style'][_0x207617(0x350)]=_0x207617(0x2ab);_0x591fb0[_0x207617(0x310)]===_0x207617(0x33a)?(_0x3b20d3[_0x207617(0x34e)]=_0x207617(0x359),_0x3b20d3[_0x207617(0x251)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3b20d3[_0x207617(0x34e)]=_0x207617(0x339),_0x3b20d3[_0x207617(0x251)]=_0x207617(0x2bf));const _0x1bc651=!!_0x591fb0[_0x207617(0x282)];document[_0x207617(0x274)]('recurringOptionContainer')[_0x207617(0x222)][_0x207617(0x350)]=_0x207617(0x1fe),document[_0x207617(0x274)](_0x207617(0x28e))[_0x207617(0x222)]['display']=_0x207617(0x1fe),_0x1bc651?(document[_0x207617(0x274)](_0x207617(0x2d7))[_0x207617(0x222)][_0x207617(0x350)]='flex',document[_0x207617(0x274)]('patternInfoBox')[_0x207617(0x2c2)](_0x207617(0x29d))['textContent']=_0x207617(0x333)):document[_0x207617(0x274)]('patternInfoBox')['style'][_0x207617(0x350)]=_0x207617(0x1fe),document[_0x207617(0x274)](_0x207617(0x2f8))['value']=_0x591fb0[_0x207617(0x211)],document[_0x207617(0x274)]('inpDate')[_0x207617(0x255)]=_0x591fb0['dateStr'],document[_0x207617(0x274)](_0x207617(0x328))[_0x207617(0x255)]=_0x591fb0[_0x207617(0x278)],document[_0x207617(0x274)](_0x207617(0x342))[_0x207617(0x255)]=_0x591fb0[_0x207617(0x2fe)],document[_0x207617(0x274)]('inpNote')[_0x207617(0x255)]=_0x591fb0[_0x207617(0x22b)]||'',updateDateDisplay(),openSheet(_0x207617(0x2eb));}async function trySaveSession(){const _0x25084c=a2_0x150fbf,_0x518c81=document['getElementById'](_0x25084c(0x2f8))[_0x25084c(0x255)],_0x504ee6=document[_0x25084c(0x274)](_0x25084c(0x213))[_0x25084c(0x255)],_0x48a30a=document['getElementById'](_0x25084c(0x328))[_0x25084c(0x255)],_0x209b2e=document['getElementById'](_0x25084c(0x342))[_0x25084c(0x255)],_0x549a52=document['getElementById'](_0x25084c(0x245))[_0x25084c(0x255)],_0x2fdf0a=document['getElementById'](_0x25084c(0x265))[_0x25084c(0x239)];let _0x50b92e=0x4;if(_0x2fdf0a){const _0x59423b=parseInt(document[_0x25084c(0x274)]('inpSeriesCount')[_0x25084c(0x255)]);if(!_0x59423b||_0x59423b<0x2){showToast(_0x25084c(0x346),![]);return;}if(_0x59423b>0x64){showToast(_0x25084c(0x33b),![]);return;}_0x50b92e=_0x59423b;}const _0x510080=clients[_0x25084c(0x2a2)](_0x39f4ec=>_0x39f4ec[_0x25084c(0x29a)]===_0x518c81);if(!_0x510080){showToast(_0x25084c(0x2c9),![]);return;}const _0x20464b=validateAppointment(_0x504ee6,_0x48a30a,_0x209b2e,editingId,_0x510080['id']);if(!_0x20464b[_0x25084c(0x206)]){showToast(_0x20464b[_0x25084c(0x267)],![]);return;}_0x20464b[_0x25084c(0x1e3)]&&showToast(_0x20464b[_0x25084c(0x1e3)],![]);const _0x540481={'client':_0x518c81,'clientId':_0x510080['id'],'start':_0x48a30a,'end':_0x209b2e,'note':_0x549a52,'status':'planned'},_0x181a21=editingId?sessions[_0x25084c(0x2a2)](_0x3169fc=>_0x3169fc['id']===editingId):null;if(_0x181a21&&_0x181a21[_0x25084c(0x282)]){tempSessionData={..._0x540481,'dateStr':_0x504ee6,'id':editingId,'seriesId':_0x181a21[_0x25084c(0x282)]},openActionSheet(_0x25084c(0x1fc));return;}let _0x1e4ac5=null;if(!editingId)_0x1e4ac5=_0x25084c(0x205);else{if(_0x181a21){if(String(_0x181a21['clientId'])!==String(_0x510080['id']))console[_0x25084c(0x26c)](_0x25084c(0x26e)),NotificationManager[_0x25084c(0x27c)](_0x25084c(0x1f9),_0x181a21),_0x1e4ac5=_0x25084c(0x205);else(_0x181a21[_0x25084c(0x278)]!==_0x48a30a||_0x181a21['end']!==_0x209b2e||_0x181a21[_0x25084c(0x2e7)]!==_0x504ee6)&&(_0x1e4ac5=_0x25084c(0x25a));}}if(!editingId&&_0x2fdf0a){createBatchSeries(_0x540481,_0x504ee6,_0x50b92e),NotificationManager[_0x25084c(0x27c)](_0x25084c(0x205),{..._0x540481,'dateStr':_0x504ee6});return;}lastUserActionTime=Date[_0x25084c(0x219)]();const _0x4e7cdc={..._0x540481,'dateStr':_0x504ee6,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4e7cdc),_0x1e4ac5&&NotificationManager[_0x25084c(0x27c)](_0x1e4ac5,_0x4e7cdc);}function toggleSessionStatus(){const _0x34e9c0=a2_0x150fbf;lastUserActionTime=Date[_0x34e9c0(0x219)]();const _0x347a8b=sessions[_0x34e9c0(0x2a2)](_0x46bf14=>_0x46bf14['id']===editingId);if(!_0x347a8b)return;const _0x390566=_0x347a8b[_0x34e9c0(0x310)]===_0x34e9c0(0x33a)?_0x34e9c0(0x25d):_0x34e9c0(0x33a);_0x347a8b[_0x34e9c0(0x310)]=_0x390566,saveSingleSession(_0x347a8b),_0x390566===_0x34e9c0(0x33a)&&NotificationManager[_0x34e9c0(0x27c)](_0x34e9c0(0x326),_0x347a8b),showToast(_0x390566===_0x34e9c0(0x33a)?_0x34e9c0(0x226):_0x34e9c0(0x20f),!![]);}function validateAppointment(_0xf026c3,_0x126af6,_0x8c7db8,_0x2f8f49,_0x16bbfa){const _0x2018b1=a2_0x150fbf,[_0x496b1c,_0x158818]=_0x126af6[_0x2018b1(0x2e3)](':')['map'](Number),[_0x379088,_0x1e7b87]=_0x8c7db8[_0x2018b1(0x2e3)](':')['map'](Number),_0x4c54b3=_0x496b1c*0x3c+_0x158818,_0x5cf087=_0x379088*0x3c+_0x1e7b87,_0x473b6b=String(_0x16bbfa);let _0x22a31c=![],_0x5c0999='';for(let _0x1fa854 of sessions){if(_0x1fa854[_0x2018b1(0x2e7)]!==_0xf026c3)continue;if(_0x1fa854[_0x2018b1(0x310)]==='cancelled')continue;if(_0x2f8f49&&String(_0x1fa854['id'])===String(_0x2f8f49))continue;const [_0x439390,_0x2fd6e7]=_0x1fa854[_0x2018b1(0x278)]['split'](':')[_0x2018b1(0x2c3)](Number),[_0x27670b,_0x1025db]=_0x1fa854[_0x2018b1(0x2fe)]['split'](':')[_0x2018b1(0x2c3)](Number),_0x46f333=_0x439390*0x3c+_0x2fd6e7,_0x5e55df=_0x27670b*0x3c+_0x1025db;if(Math[_0x2018b1(0x2c8)](_0x4c54b3,_0x46f333)<Math[_0x2018b1(0x1de)](_0x5cf087,_0x5e55df)){if(_0x1fa854['clientId']&&String(_0x1fa854[_0x2018b1(0x2e9)])===_0x473b6b)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1fa854[_0x2018b1(0x211)]+_0x2018b1(0x1e7)};_0x22a31c=!![],_0x5c0999=_0x1fa854['client'];}}if(_0x22a31c)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x5c0999};return{'valid':!![]};}function saveSingleSession(_0x48ff12){const _0x5e0f97=a2_0x150fbf;if(editingId){const _0x56d58b=sessions['findIndex'](_0x538762=>_0x538762['id']===editingId);if(_0x56d58b!==-0x1)sessions[_0x56d58b]=_0x48ff12;}else sessions[_0x5e0f97(0x30a)](_0x48ff12);afterSaveAction([_0x48ff12[_0x5e0f97(0x2e7)]]);}function createBatchSeries(_0xfe12e6,_0x9e92e1,_0x6c81d7){const _0x2289f0=a2_0x150fbf,_0x2297e3=generateId(),_0x315765=[],_0x28d147=[];let _0x26162e=0x0,_0x12f62b=new Date(_0x9e92e1);for(let _0x25d497=0x0;_0x25d497<_0x6c81d7;_0x25d497++){const _0x2cabb0=getLocalDateStr(_0x12f62b),_0x46d69f=validateAppointment(_0x2cabb0,_0xfe12e6[_0x2289f0(0x278)],_0xfe12e6[_0x2289f0(0x2fe)],null,_0xfe12e6[_0x2289f0(0x2e9)]);if(!_0x46d69f[_0x2289f0(0x206)])console[_0x2289f0(0x26c)](_0x2289f0(0x2d3)+_0x2cabb0+_0x2289f0(0x2b3)),_0x26162e++;else{const _0x9891a2={..._0xfe12e6,'id':generateId(),'dateStr':_0x2cabb0,'seriesId':_0x2297e3};_0x28d147['push'](_0x9891a2),_0x315765[_0x2289f0(0x30a)](_0x2cabb0);}_0x12f62b[_0x2289f0(0x2ce)](_0x12f62b['getDate']()+0x7);}if(_0x28d147[_0x2289f0(0x25f)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions['push'](..._0x28d147),lastUserActionTime=Date[_0x2289f0(0x219)]();let _0x53070c='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x28d147[_0x2289f0(0x25f)];_0x26162e>0x0&&(_0x53070c+=_0x2289f0(0x30c)+_0x26162e+')'),showToast(_0x53070c,!![]),afterSaveAction(_0x315765);}function updateSeriesBatch(_0x209de5,_0x1cb5ea){const _0x3e801e=a2_0x150fbf,_0x5d59c9=[],_0x1a8296=_0x1cb5ea[_0x3e801e(0x282)];if(_0x209de5===_0x3e801e(0x289)){const _0x4ef884={..._0x1cb5ea,'seriesId':null},_0x4264d6=sessions['findIndex'](_0x6b70de=>_0x6b70de['id']===_0x1cb5ea['id']);if(_0x4264d6!==-0x1)sessions[_0x4264d6]=_0x4ef884;_0x5d59c9[_0x3e801e(0x30a)](_0x4ef884[_0x3e801e(0x2e7)]);}else{if(_0x209de5===_0x3e801e(0x2ed)){const _0x199764=_0x1cb5ea[_0x3e801e(0x2e7)];sessions[_0x3e801e(0x298)]((_0x5c7ee1,_0x2bf6c2)=>{const _0x3465fd=_0x3e801e;_0x5c7ee1[_0x3465fd(0x282)]===_0x1a8296&&_0x5c7ee1['dateStr']>=_0x199764&&(sessions[_0x2bf6c2]={...sessions[_0x2bf6c2],'start':_0x1cb5ea['start'],'end':_0x1cb5ea[_0x3465fd(0x2fe)],'note':_0x1cb5ea[_0x3465fd(0x22b)],'client':_0x1cb5ea[_0x3465fd(0x211)],'clientId':_0x1cb5ea[_0x3465fd(0x2e9)]},_0x5d59c9['push'](_0x5c7ee1[_0x3465fd(0x2e7)]));});}}afterSaveAction(_0x5d59c9);}function tryDeleteSession(){const _0x5839db=a2_0x150fbf,_0x433057=sessions[_0x5839db(0x2a2)](_0x3f33ff=>_0x3f33ff['id']===editingId);if(!_0x433057)return;_0x433057[_0x5839db(0x282)]?openActionSheet(_0x5839db(0x313)):commitDelete(_0x5839db(0x289),_0x433057);}function commitDelete(_0x33d6da,_0x3f21ca){const _0x1f878f=a2_0x150fbf;lastUserActionTime=Date[_0x1f878f(0x219)](),NotificationManager['send'](_0x1f878f(0x1f9),_0x3f21ca);const _0x403938=[];if(_0x33d6da===_0x1f878f(0x289))sessions=sessions[_0x1f878f(0x284)](_0x383306=>_0x383306['id']!==_0x3f21ca['id']),_0x403938['push'](_0x3f21ca[_0x1f878f(0x2e7)]);else{if(_0x33d6da===_0x1f878f(0x2ed)){const _0x2fbd50=_0x3f21ca[_0x1f878f(0x2e7)],_0x56dbff=_0x3f21ca[_0x1f878f(0x282)];sessions[_0x1f878f(0x298)](_0x15762d=>{const _0x12fb24=_0x1f878f;_0x15762d['seriesId']===_0x56dbff&&_0x15762d[_0x12fb24(0x2e7)]>=_0x2fbd50&&_0x403938[_0x12fb24(0x30a)](_0x15762d['dateStr']);}),sessions=sessions[_0x1f878f(0x284)](_0x1028df=>!(_0x1028df['seriesId']===_0x56dbff&&_0x1028df['dateStr']>=_0x2fbd50));}}afterSaveAction(_0x403938);}function afterSaveAction(_0x4588ec){const _0x2f1f8d=a2_0x150fbf;DataManager[_0x2f1f8d(0x303)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2f1f8d(0x2d8)](_0x4588ec)[_0x2f1f8d(0x305)](()=>console[_0x2f1f8d(0x26c)]('Batch\x20Sync\x20OK'))['catch'](_0x5852da=>showToast(_0x2f1f8d(0x2f9),![]));}const NotificationManager={'formatDate'(_0x3de977){const _0x1944b5=a2_0x150fbf,_0x4da7ed=new Date(_0x3de977),_0x483052={'weekday':_0x1944b5(0x294),'day':_0x1944b5(0x28d),'month':'long'};let _0xd6ab91=_0x4da7ed[_0x1944b5(0x25c)](_0x1944b5(0x256),_0x483052);return _0xd6ab91['charAt'](0x0)[_0x1944b5(0x312)]()+_0xd6ab91[_0x1944b5(0x263)](0x1);},'getText'(_0x5b3026,_0x16c49b){const _0x160cb3=a2_0x150fbf,_0x192b82=this[_0x160cb3(0x332)](_0x16c49b[_0x160cb3(0x2e7)]);switch(_0x5b3026){case _0x160cb3(0x205):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x160cb3(0x2da)+_0x192b82+'\x0a')+(_0x160cb3(0x33d)+_0x16c49b[_0x160cb3(0x278)]+_0x160cb3(0x2e6)+_0x16c49b['end']+'\x0a\x0a')+_0x160cb3(0x343);case _0x160cb3(0x25a):return _0x160cb3(0x202)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x160cb3(0x23c)+_0x16c49b[_0x160cb3(0x278)]+_0x160cb3(0x2e6)+_0x16c49b[_0x160cb3(0x2fe)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x192b82);case'cancel':return _0x160cb3(0x21d)+(_0x160cb3(0x2e4)+_0x192b82+'\x20('+_0x16c49b[_0x160cb3(0x278)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x160cb3(0x326):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x160cb3(0x322);default:return'';}},async 'send'(_0x2194ca,_0x392354){const _0x50d1f7=a2_0x150fbf;console[_0x50d1f7(0x26c)](_0x50d1f7(0x314),_0x2194ca,_0x392354);if(!_0x392354){console[_0x50d1f7(0x283)](_0x50d1f7(0x2bc));return;}const _0x1f5cf3=String(_0x392354[_0x50d1f7(0x2e9)]);console['log'](_0x50d1f7(0x2b5),_0x1f5cf3);if(!_0x392354[_0x50d1f7(0x2e9)]||_0x1f5cf3==='undefined'||_0x1f5cf3===_0x50d1f7(0x30d)){console[_0x50d1f7(0x283)](_0x50d1f7(0x1e8));if(_0x392354[_0x50d1f7(0x211)]){const _0x4583a8=clients[_0x50d1f7(0x2a2)](_0x4b1c56=>_0x4b1c56[_0x50d1f7(0x29a)]===_0x392354[_0x50d1f7(0x211)]);if(_0x4583a8)return console[_0x50d1f7(0x26c)](_0x50d1f7(0x279),_0x4583a8['id']),this[_0x50d1f7(0x27c)](_0x2194ca,{..._0x392354,'clientId':_0x4583a8['id']});}return;}if(_0x1f5cf3[_0x50d1f7(0x25f)]<0x5){console['warn'](_0x50d1f7(0x277),_0x1f5cf3);return;}const _0x384094=this['getText'](_0x2194ca,_0x392354);if(!_0x384094){console[_0x50d1f7(0x283)](_0x50d1f7(0x24d));return;}console[_0x50d1f7(0x26c)](_0x50d1f7(0x35d)+_0x1f5cf3+_0x50d1f7(0x1ff)),DataManager[_0x50d1f7(0x2ba)]('send_notification',{'chatId':_0x1f5cf3,'text':_0x384094})[_0x50d1f7(0x305)](_0x55dd1b=>console[_0x50d1f7(0x26c)](_0x50d1f7(0x2b2),_0x55dd1b))[_0x50d1f7(0x300)](_0x2dd162=>console[_0x50d1f7(0x283)](_0x50d1f7(0x1f8),_0x2dd162));}};function getLocalDateStr(_0x185644){const _0x48da22=a2_0x150fbf,_0x31ae4f=_0x185644['getFullYear'](),_0x4eab47=String(_0x185644[_0x48da22(0x258)]()+0x1)[_0x48da22(0x266)](0x2,'0'),_0x1f0155=String(_0x185644['getDate']())[_0x48da22(0x266)](0x2,'0');return _0x31ae4f+'-'+_0x4eab47+'-'+_0x1f0155;}function getDateStr(_0x55a33d){const _0x18ad6e=a2_0x150fbf,_0x1f9591=new Date();return _0x1f9591[_0x18ad6e(0x2ce)](_0x1f9591[_0x18ad6e(0x1ea)]()+_0x55a33d),getLocalDateStr(_0x1f9591);}function getStartOfWeek(_0x13d658){const _0x3abc61=a2_0x150fbf,_0x5d44fd=new Date(_0x13d658),_0x7074be=_0x5d44fd[_0x3abc61(0x232)](),_0x33d543=_0x5d44fd[_0x3abc61(0x1ea)]()-_0x7074be+(_0x7074be===0x0?-0x6:0x1);return _0x5d44fd[_0x3abc61(0x2ce)](_0x33d543),_0x5d44fd[_0x3abc61(0x31f)](0x0,0x0,0x0,0x0),_0x5d44fd;}function hexToRgba(_0x433fd9,_0x4f91dd){const _0x4014e6=a2_0x150fbf;if(!_0x433fd9)return _0x4014e6(0x297);let _0x57f336=0x0,_0xf65b9d=0x0,_0x19a30f=0x0;if(_0x433fd9['length']===0x4)_0x57f336='0x'+_0x433fd9[0x1]+_0x433fd9[0x1],_0xf65b9d='0x'+_0x433fd9[0x2]+_0x433fd9[0x2],_0x19a30f='0x'+_0x433fd9[0x3]+_0x433fd9[0x3];else _0x433fd9[_0x4014e6(0x25f)]===0x7&&(_0x57f336='0x'+_0x433fd9[0x1]+_0x433fd9[0x2],_0xf65b9d='0x'+_0x433fd9[0x3]+_0x433fd9[0x4],_0x19a30f='0x'+_0x433fd9[0x5]+_0x433fd9[0x6]);return _0x4014e6(0x268)+ +_0x57f336+',\x20'+ +_0xf65b9d+',\x20'+ +_0x19a30f+',\x20'+_0x4f91dd+')';}function renderTimeColumn(){const _0x4ddfc0=a2_0x150fbf,_0x364ae0=document[_0x4ddfc0(0x274)](_0x4ddfc0(0x2dc)),_0x536055=document['getElementById']('timeLineBadge');_0x364ae0[_0x4ddfc0(0x251)]='',_0x364ae0[_0x4ddfc0(0x216)](_0x536055);for(let _0x3f8b8c=0x0;_0x3f8b8c<0x18;_0x3f8b8c++){const _0xe0235f=document[_0x4ddfc0(0x2f4)](_0x4ddfc0(0x20e));_0xe0235f[_0x4ddfc0(0x34e)]=_0x4ddfc0(0x29c);if(_0x3f8b8c>0x0)_0xe0235f[_0x4ddfc0(0x251)]='<span>'+String(_0x3f8b8c)[_0x4ddfc0(0x266)](0x2,'0')+_0x4ddfc0(0x281);_0x364ae0[_0x4ddfc0(0x216)](_0xe0235f);}}function renderDayRange(_0x2eec66,_0x5032fb){const _0x33bcf2=a2_0x150fbf,_0x3461a6=document[_0x33bcf2(0x274)](_0x33bcf2(0x2ea)),_0x115ed0=document[_0x33bcf2(0x274)](_0x33bcf2(0x2d4)),_0x58297d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1a534b=new Date();_0x1a534b['setHours'](0x0,0x0,0x0,0x0);const _0x1420d1=getLocalDateStr(new Date());for(let _0xae023b=_0x2eec66;_0xae023b<=_0x5032fb;_0xae023b++){const _0x2a96f3=new Date(_0x1a534b);_0x2a96f3[_0x33bcf2(0x2ce)](_0x2a96f3[_0x33bcf2(0x1ea)]()+_0xae023b);const _0x2a7d8a=getLocalDateStr(_0x2a96f3);let _0x1ffb84=_0x2a96f3[_0x33bcf2(0x232)]()-0x1;if(_0x1ffb84===-0x1)_0x1ffb84=0x6;const _0x5dd2fc=_0x2a7d8a===_0x1420d1,_0x5187dd=document[_0x33bcf2(0x2f4)]('div');_0x5187dd['className']=_0x33bcf2(0x217)+(_0x5dd2fc?_0x33bcf2(0x349):''),_0x5187dd['id']=_0x33bcf2(0x31a)+_0x2a7d8a,_0x5187dd[_0x33bcf2(0x31b)](_0x33bcf2(0x30f),_0x2a7d8a),_0x5187dd['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x58297d[_0x1ffb84]+_0x33bcf2(0x1ec)+_0x2a96f3['getDate']()+_0x33bcf2(0x23a)+_0x2a7d8a+_0x33bcf2(0x20b),_0x5187dd['onclick']=()=>openDayOptions(_0x2a7d8a,_0x58297d[_0x1ffb84]+'\x20'+_0x2a96f3[_0x33bcf2(0x1ea)]()),_0x3461a6[_0x33bcf2(0x216)](_0x5187dd);const _0x560e3c=document[_0x33bcf2(0x2f4)]('div');_0x560e3c[_0x33bcf2(0x34e)]=_0x33bcf2(0x246)+(_0x5dd2fc?_0x33bcf2(0x349):''),_0x560e3c[_0x33bcf2(0x31b)](_0x33bcf2(0x30f),_0x2a7d8a),_0x560e3c['setAttribute'](_0x33bcf2(0x32f),_0x1ffb84),renderEventsForColumn(_0x560e3c,_0x2a7d8a,_0x1ffb84),attachLongPressHandler(_0x560e3c,_0x2a96f3),_0x115ed0[_0x33bcf2(0x216)](_0x560e3c),updateDayStats(_0x2a7d8a);}}function reRenderBlocks(){const _0x2e7467=a2_0x150fbf;document['querySelectorAll'](_0x2e7467(0x31c))[_0x2e7467(0x298)](_0x6d6c71=>{const _0x54a937=_0x2e7467;_0x6d6c71[_0x54a937(0x1e1)](_0x54a937(0x235))['forEach'](_0x4b030e=>_0x4b030e[_0x54a937(0x2e0)]());const _0x596a61=_0x6d6c71['getAttribute']('data-date'),_0x5c05ee=parseInt(_0x6d6c71[_0x54a937(0x28f)](_0x54a937(0x32f))),_0x124c30=Math[_0x54a937(0x287)](_0x6d6c71[_0x54a937(0x2c0)]);(availabilityPattern[_0x5c05ee]||[])[_0x54a937(0x298)](_0x1ccfc6=>{const _0x5f5409=_0x54a937,_0x195761=document['createElement'](_0x5f5409(0x20e));_0x195761[_0x5f5409(0x34e)]=_0x5f5409(0x331);const _0x4f21a1=_0x1ccfc6*GRID_H;_0x195761[_0x5f5409(0x222)][_0x5f5409(0x1f0)]=_0x4f21a1+'px',_0x195761[_0x5f5409(0x222)][_0x5f5409(0x2df)]='-'+_0x124c30+'px\x20-'+_0x4f21a1+'px',_0x6d6c71[_0x5f5409(0x216)](_0x195761);});if(specialRanges&&specialRanges[_0x54a937(0x25f)]>0x0){const _0x565e99=new Date(_0x596a61+_0x54a937(0x336))[_0x54a937(0x1fb)](),_0x4aef55=new Date(_0x596a61+'T23:59:59')[_0x54a937(0x1fb)]();specialRanges[_0x54a937(0x298)](_0x5bafd1=>{const _0x1d8e42=_0x54a937,_0x11aab7=new Date(_0x5bafd1[_0x1d8e42(0x278)])[_0x1d8e42(0x1fb)](),_0x34e867=new Date(_0x5bafd1[_0x1d8e42(0x2fe)])[_0x1d8e42(0x1fb)](),_0x143e00=Math['max'](_0x565e99,_0x11aab7),_0x5a08fc=Math[_0x1d8e42(0x1de)](_0x4aef55,_0x34e867);if(_0x143e00<_0x5a08fc){if(_0x143e00<=_0x565e99&&_0x5a08fc>=_0x4aef55-0xea60){if(!_0x6d6c71[_0x1d8e42(0x2c2)](_0x1d8e42(0x2ac))){const _0x370d9f=document[_0x1d8e42(0x2f4)]('div');_0x370d9f[_0x1d8e42(0x34e)]='day-off-overlay\x20stripe-bg',_0x370d9f[_0x1d8e42(0x222)][_0x1d8e42(0x2df)]='-'+_0x124c30+_0x1d8e42(0x2ca),_0x6d6c71[_0x1d8e42(0x216)](_0x370d9f);}}else{const _0x527ad5=(_0x143e00-_0x565e99)/0x36ee80*GRID_H,_0x54861e=(_0x5a08fc-_0x143e00)/0x36ee80*GRID_H,_0x575471=document[_0x1d8e42(0x2f4)]('div');_0x575471[_0x1d8e42(0x34e)]='blocked-range-part\x20stripe-bg',_0x575471[_0x1d8e42(0x222)][_0x1d8e42(0x1f0)]=_0x527ad5+'px',_0x575471[_0x1d8e42(0x222)][_0x1d8e42(0x2bb)]=_0x54861e+'px',_0x575471[_0x1d8e42(0x222)][_0x1d8e42(0x2df)]='-'+_0x124c30+_0x1d8e42(0x33e)+_0x527ad5+'px',_0x6d6c71[_0x1d8e42(0x216)](_0x575471);}}});}if(dateExceptions[_0x596a61]===_0x54a937(0x259)){if(!_0x6d6c71[_0x54a937(0x2c2)](_0x54a937(0x2ac))){const _0x726be8=document[_0x54a937(0x2f4)](_0x54a937(0x20e));_0x726be8[_0x54a937(0x34e)]=_0x54a937(0x2aa),_0x726be8[_0x54a937(0x222)]['backgroundPosition']='-'+_0x124c30+'px\x200px',_0x6d6c71['appendChild'](_0x726be8);}}renderEventsForColumn(_0x6d6c71,_0x596a61,_0x5c05ee),updateDayStats(_0x596a61);});}function updateAllDayStats(){const _0x191249=a2_0x150fbf;document[_0x191249(0x1e1)](_0x191249(0x26f))[_0x191249(0x298)](_0x26a17a=>{const _0x29229f=_0x191249;updateDayStats(_0x26a17a['getAttribute'](_0x29229f(0x30f)));});}function updateDayStats(_0x1be27c){const _0x54c973=a2_0x150fbf,_0x7b8339=document[_0x54c973(0x274)](_0x54c973(0x1dd)+_0x1be27c);if(!_0x7b8339)return;const _0x1e8fb6=new Date(_0x1be27c);let _0x1a45bd=_0x1e8fb6[_0x54c973(0x232)]()-0x1;if(_0x1a45bd===-0x1)_0x1a45bd=0x6;if(dateExceptions[_0x1be27c]===_0x54c973(0x259)){_0x7b8339[_0x54c973(0x222)]['display']='none';return;}const _0x16a1fb=availabilityPattern[_0x1a45bd]||[],_0x219670=0x18-_0x16a1fb[_0x54c973(0x25f)],_0x1e6f2f=_0x219670*0x3c,_0xc45c4d=sessions[_0x54c973(0x284)](_0x892e05=>_0x892e05[_0x54c973(0x2e7)]===_0x1be27c&&_0x892e05[_0x54c973(0x310)]!==_0x54c973(0x248));if(_0xc45c4d[_0x54c973(0x25f)]===0x0){_0x7b8339[_0x54c973(0x222)][_0x54c973(0x350)]='none';return;}let _0xc7a636=_0xc45c4d['map'](_0x446d6e=>{const _0x5ba72c=_0x54c973,[_0x50af4d,_0xefe33f]=_0x446d6e['start']['split'](':')[_0x5ba72c(0x2c3)](Number),[_0x1aab83,_0x2b26f3]=_0x446d6e[_0x5ba72c(0x2fe)][_0x5ba72c(0x2e3)](':')[_0x5ba72c(0x2c3)](Number);return[_0x50af4d*0x3c+_0xefe33f,_0x1aab83*0x3c+_0x2b26f3];});_0xc7a636[_0x54c973(0x215)]((_0x2c7285,_0x43c7c4)=>_0x2c7285[0x0]-_0x43c7c4[0x0]);let _0x84fe43=[];if(_0xc7a636['length']>0x0){let _0x56af13=_0xc7a636[0x0];for(let _0x1b2c17=0x1;_0x1b2c17<_0xc7a636[_0x54c973(0x25f)];_0x1b2c17++){_0xc7a636[_0x1b2c17][0x0]<_0x56af13[0x1]?_0x56af13[0x1]=Math['max'](_0x56af13[0x1],_0xc7a636[_0x1b2c17][0x1]):(_0x84fe43[_0x54c973(0x30a)](_0x56af13),_0x56af13=_0xc7a636[_0x1b2c17]);}_0x84fe43['push'](_0x56af13);}let _0x1f2f22=0x0;_0x84fe43[_0x54c973(0x298)](_0x49e4b1=>_0x1f2f22+=_0x49e4b1[0x1]-_0x49e4b1[0x0]),_0x7b8339[_0x54c973(0x222)]['display']='flex';const _0x258236=_0x7b8339[_0x54c973(0x2c2)](_0x54c973(0x354));if(_0x1e6f2f===0x0){_0x258236['style'][_0x54c973(0x210)]=_0x54c973(0x1ed),_0x258236[_0x54c973(0x222)][_0x54c973(0x24f)]=_0x54c973(0x23d);return;}const _0x30e31e=_0x1f2f22/_0x1e6f2f*0x64;console[_0x54c973(0x26c)]('['+_0x1be27c+_0x54c973(0x2c7)+_0x219670+_0x54c973(0x228)+_0x1f2f22+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x30e31e[_0x54c973(0x2a7)](0x1)+'%'),_0x30e31e>0x64?(_0x258236['style'][_0x54c973(0x210)]='100%',_0x258236['style'][_0x54c973(0x24f)]='var(--acc-red)'):(_0x258236['style'][_0x54c973(0x210)]=_0x30e31e+'%',_0x258236[_0x54c973(0x222)][_0x54c973(0x24f)]=_0x54c973(0x308));}function renderEventsForColumn(_0x82de93,_0x17df5d,_0x43784b){const _0x33f72b=a2_0x150fbf,_0x5047e5=sessions[_0x33f72b(0x284)](_0x42051a=>_0x42051a[_0x33f72b(0x2e7)]===_0x17df5d),_0x1071cf=_0x5047e5[_0x33f72b(0x2c3)](_0x144ce9=>{const _0x2fa4a9=_0x33f72b,[_0x3615bc,_0x57e76a]=_0x144ce9[_0x2fa4a9(0x278)][_0x2fa4a9(0x2e3)](':')['map'](Number),[_0x396645,_0xb38fbb]=_0x144ce9[_0x2fa4a9(0x2fe)][_0x2fa4a9(0x2e3)](':')['map'](Number);return{'data':_0x144ce9,'start':_0x3615bc*0x3c+_0x57e76a,'end':_0x396645*0x3c+_0xb38fbb,'colIndex':0x0};});_0x1071cf[_0x33f72b(0x215)]((_0x1fd0a4,_0x579fd4)=>{const _0x246f33=_0x33f72b;if(_0x1fd0a4[_0x246f33(0x278)]!==_0x579fd4[_0x246f33(0x278)])return _0x1fd0a4[_0x246f33(0x278)]-_0x579fd4[_0x246f33(0x278)];return _0x579fd4['end']-_0x579fd4[_0x246f33(0x278)]-(_0x1fd0a4[_0x246f33(0x2fe)]-_0x1fd0a4[_0x246f33(0x278)]);});const _0xf46f2d=[];_0x1071cf[_0x33f72b(0x298)](_0x5bcfd7=>{const _0x1fa913=_0x33f72b;let _0x2d5260=![];for(let _0x5f473f=0x0;_0x5f473f<_0xf46f2d[_0x1fa913(0x25f)];_0x5f473f++){const _0x53053e=_0xf46f2d[_0x5f473f],_0x515dcc=_0x53053e[_0x53053e[_0x1fa913(0x25f)]-0x1];if(_0x5bcfd7[_0x1fa913(0x278)]>=_0x515dcc[_0x1fa913(0x2fe)]){_0x53053e[_0x1fa913(0x30a)](_0x5bcfd7),_0x5bcfd7[_0x1fa913(0x356)]=_0x5f473f,_0x2d5260=!![];break;}}!_0x2d5260&&(_0xf46f2d['push']([_0x5bcfd7]),_0x5bcfd7[_0x1fa913(0x356)]=_0xf46f2d['length']-0x1);}),_0x1071cf[_0x33f72b(0x298)](_0x3972f2=>{const _0x540927=_0x33f72b;let _0x5c4eeb=0x0;_0x1071cf[_0x540927(0x298)](_0x578698=>{const _0x10c1f7=_0x540927;if(Math[_0x10c1f7(0x2c8)](_0x3972f2['start'],_0x578698[_0x10c1f7(0x278)])<Math[_0x10c1f7(0x1de)](_0x3972f2['end'],_0x578698[_0x10c1f7(0x2fe)])){if(_0x578698['colIndex']>_0x5c4eeb)_0x5c4eeb=_0x578698[_0x10c1f7(0x356)];}});const _0x406409=_0x5c4eeb+0x1,_0x119ee2=0x64/_0x406409,_0x27a88e=_0x3972f2[_0x540927(0x356)]*_0x119ee2,_0x3ccaec=createEventEl(_0x3972f2[_0x540927(0x2a6)]);_0x3ccaec['style'][_0x540927(0x210)]='calc('+_0x119ee2+_0x540927(0x24a),_0x3ccaec[_0x540927(0x222)][_0x540927(0x1f6)]=_0x540927(0x25e)+_0x27a88e+'%\x20+\x202px)',_0x3ccaec['style'][_0x540927(0x203)]=0xa+_0x3972f2['colIndex'],_0x119ee2<0x55&&_0x3ccaec[_0x540927(0x21f)][_0x540927(0x270)](_0x540927(0x2de)),_0x82de93['appendChild'](_0x3ccaec);});}function createEventEl(_0x28b425){const _0x4126e5=a2_0x150fbf,[_0x4f9699,_0x32c8c8]=_0x28b425[_0x4126e5(0x278)][_0x4126e5(0x2e3)](':')['map'](Number),[_0x4c5e84,_0xe668a5]=_0x28b425[_0x4126e5(0x2fe)][_0x4126e5(0x2e3)](':')[_0x4126e5(0x2c3)](Number),_0x53851d=(_0x4f9699*0x3c+_0x32c8c8)/0x3c*GRID_H,_0x36e1b0=(_0x4c5e84*0x3c+_0xe668a5-(_0x4f9699*0x3c+_0x32c8c8))/0x3c*GRID_H,_0xf7be12=document[_0x4126e5(0x2f4)](_0x4126e5(0x20e)),_0x4b1355=_0x28b425['status']===_0x4126e5(0x33a)?'\x20status-completed':'';_0xf7be12[_0x4126e5(0x34e)]=_0x4126e5(0x2d2)+_0x4b1355,_0xf7be12[_0x4126e5(0x222)]['top']=_0x53851d+'px',_0xf7be12[_0x4126e5(0x222)][_0x4126e5(0x2bb)]=Math[_0x4126e5(0x2c8)](_0x36e1b0,0x14)+'px';const _0x42a3b8=clients[_0x4126e5(0x2a2)](_0x20312d=>_0x28b425[_0x4126e5(0x2e9)]&&String(_0x20312d['id'])===String(_0x28b425['clientId'])||_0x20312d['name']===_0x28b425['client']),_0x13695e=_0x42a3b8?_0x42a3b8[_0x4126e5(0x34f)]:'#0a84ff';_0xf7be12[_0x4126e5(0x222)][_0x4126e5(0x2f1)]=_0x13695e,_0xf7be12[_0x4126e5(0x222)][_0x4126e5(0x355)]=hexToRgba(_0x13695e,0.85);let _0x29ccf9=_0x4126e5(0x252)+_0x28b425[_0x4126e5(0x211)]+'</div><div\x20class=\x22ev-time\x22>'+_0x28b425[_0x4126e5(0x278)]+_0x4126e5(0x317)+_0x28b425[_0x4126e5(0x2fe)]+'</div>';return _0x28b425[_0x4126e5(0x282)]&&(_0x29ccf9+=_0x4126e5(0x28a)),_0x28b425[_0x4126e5(0x310)]===_0x4126e5(0x33a)&&(_0x29ccf9+=_0x4126e5(0x1f3)),_0xf7be12[_0x4126e5(0x251)]=_0x29ccf9,_0xf7be12[_0x4126e5(0x290)]=_0x10138d=>{const _0x209be7=_0x4126e5;_0x10138d[_0x209be7(0x22f)](),openEdit(_0x28b425);},_0xf7be12;}function attachLongPressHandler(_0x377c42,_0x6d477){const _0x589c5d=a2_0x150fbf;let _0x39cc38=0x0,_0xe1c3c7=null;const _0x289c67=_0x1fe3cb=>{const _0xdc48bc=a2_0x35a1;if(_0x1fe3cb[_0xdc48bc(0x340)][_0xdc48bc(0x2d5)]('.event-card'))return;isScrolling=![],_0x39cc38=_0x1fe3cb[_0xdc48bc(0x2ae)]?_0x1fe3cb[_0xdc48bc(0x2ae)][0x0][_0xdc48bc(0x301)]:_0x1fe3cb['clientY'],_0xe1c3c7=setTimeout(()=>{const _0x5ed6e9=_0xdc48bc;if(!isScrolling){navigator[_0x5ed6e9(0x2f3)]?.(0x32);const _0x1e466b=_0x377c42['getBoundingClientRect'](),_0x20159d=Math['floor']((_0x39cc38-_0x1e466b[_0x5ed6e9(0x1f0)])/GRID_H);_0x6d477[_0x5ed6e9(0x31f)](_0x20159d,0x0),openAddSession(_0x6d477);}},0x1f4);},_0x6a3696=()=>{isScrolling=!![],clearTimeout(_0xe1c3c7);},_0xd27c5f=()=>{clearTimeout(_0xe1c3c7);};_0x377c42[_0x589c5d(0x21b)](_0x589c5d(0x293),_0x289c67,{'passive':!![]}),_0x377c42['addEventListener'](_0x589c5d(0x2a3),_0x6a3696,{'passive':!![]}),_0x377c42[_0x589c5d(0x21b)](_0x589c5d(0x2b0),_0xd27c5f),_0x377c42['addEventListener']('mousedown',_0x289c67),_0x377c42[_0x589c5d(0x21b)]('mousemove',_0x6a3696),_0x377c42['addEventListener'](_0x589c5d(0x2e2),_0xd27c5f);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x57836c=a2_0x150fbf,_0x3cbef8=document['getElementById'](_0x57836c(0x285)),_0x2b6d32=_0x3cbef8[_0x57836c(0x2a8)],_0x3c9336=_0x3cbef8['scrollWidth'],_0x413d6c=_0x3cbef8[_0x57836c(0x1f2)];if(_0x3c9336-(_0x2b6d32+_0x413d6c)<0x12c){const _0x34d87d=endOffset;endOffset+=0xe,renderDayRange(_0x34d87d+0x1,endOffset),reRenderBlocks();}if(_0x2b6d32<0x12c){const _0x978584=startOffset;startOffset-=0xe,prependDays(startOffset,_0x978584-0x1),_0x3cbef8[_0x57836c(0x2a8)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x499c11,_0x29f7dd){const _0x4b3150=a2_0x150fbf,_0x38cbcd=document[_0x4b3150(0x274)]('daysHeaderTrack'),_0x3890d6=document[_0x4b3150(0x274)](_0x4b3150(0x2d4)),_0x1dd509=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x23da11=new Date();_0x23da11['setHours'](0x0,0x0,0x0,0x0);const _0x30b548=getLocalDateStr(new Date()),_0x34cb80=document[_0x4b3150(0x320)](),_0x19bcdd=document[_0x4b3150(0x320)]();for(let _0x4b5d49=_0x499c11;_0x4b5d49<=_0x29f7dd;_0x4b5d49++){const _0x24657f=new Date(_0x23da11);_0x24657f['setDate'](_0x24657f['getDate']()+_0x4b5d49);const _0x4c2328=getLocalDateStr(_0x24657f);let _0x7debd5=_0x24657f[_0x4b3150(0x232)]()-0x1;if(_0x7debd5===-0x1)_0x7debd5=0x6;const _0x3ab1ad=_0x4c2328===_0x30b548,_0x32973f=document[_0x4b3150(0x2f4)](_0x4b3150(0x20e));_0x32973f[_0x4b3150(0x34e)]=_0x4b3150(0x217)+(_0x3ab1ad?_0x4b3150(0x349):''),_0x32973f['id']=_0x4b3150(0x31a)+_0x4c2328,_0x32973f[_0x4b3150(0x31b)](_0x4b3150(0x30f),_0x4c2328),_0x32973f[_0x4b3150(0x251)]=_0x4b3150(0x2fc)+_0x1dd509[_0x7debd5]+_0x4b3150(0x1ec)+_0x24657f[_0x4b3150(0x1ea)]()+_0x4b3150(0x23a)+_0x4c2328+_0x4b3150(0x20b),_0x32973f[_0x4b3150(0x290)]=()=>openDayOptions(_0x4c2328,_0x1dd509[_0x7debd5]+'\x20'+_0x24657f[_0x4b3150(0x1ea)]()),_0x34cb80['appendChild'](_0x32973f);const _0x42388f=document[_0x4b3150(0x2f4)](_0x4b3150(0x20e));_0x42388f['className']=_0x4b3150(0x246)+(_0x3ab1ad?_0x4b3150(0x349):''),_0x42388f[_0x4b3150(0x31b)]('data-date',_0x4c2328),_0x42388f['setAttribute']('data-day-idx',_0x7debd5),renderEventsForColumn(_0x42388f,_0x4c2328,_0x7debd5),attachLongPressHandler(_0x42388f,_0x24657f),_0x19bcdd[_0x4b3150(0x216)](_0x42388f),updateDayStats(_0x4c2328);}_0x38cbcd['insertBefore'](_0x34cb80,_0x38cbcd['firstChild']),_0x3890d6[_0x4b3150(0x2cc)](_0x19bcdd,_0x3890d6['querySelector'](_0x4b3150(0x2e1)));}function validateAppointment(_0x570c40,_0x57d188,_0x4baea1,_0x1eee9d,_0x1fa1a7){const _0x4fcaef=a2_0x150fbf,[_0x475e4e,_0x2e8e16]=_0x57d188[_0x4fcaef(0x2e3)](':')[_0x4fcaef(0x2c3)](Number),[_0x1b45de,_0xc4c88a]=_0x4baea1[_0x4fcaef(0x2e3)](':')[_0x4fcaef(0x2c3)](Number),_0x43fa64=_0x475e4e*0x3c+_0x2e8e16,_0xdf9e6c=_0x1b45de*0x3c+_0xc4c88a,_0x2cfc67=String(_0x1fa1a7);let _0x4e3af9=![],_0x597077='';for(let _0x39b1fe of sessions){if(_0x39b1fe['dateStr']!==_0x570c40)continue;if(_0x39b1fe[_0x4fcaef(0x310)]===_0x4fcaef(0x248))continue;if(_0x1eee9d&&String(_0x39b1fe['id'])===String(_0x1eee9d))continue;const [_0x49869e,_0x2d3940]=_0x39b1fe[_0x4fcaef(0x278)][_0x4fcaef(0x2e3)](':')['map'](Number),[_0x5ed343,_0x101d0d]=_0x39b1fe[_0x4fcaef(0x2fe)][_0x4fcaef(0x2e3)](':')[_0x4fcaef(0x2c3)](Number),_0x24289f=_0x49869e*0x3c+_0x2d3940,_0x469411=_0x5ed343*0x3c+_0x101d0d;if(Math[_0x4fcaef(0x2c8)](_0x43fa64,_0x24289f)<Math['min'](_0xdf9e6c,_0x469411)){if(_0x39b1fe[_0x4fcaef(0x2e9)]&&String(_0x39b1fe[_0x4fcaef(0x2e9)])===_0x2cfc67)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x39b1fe['client']+_0x4fcaef(0x1e7)};_0x4e3af9=!![],_0x597077=_0x39b1fe['client'];}}if(_0x4e3af9)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x597077};return{'valid':!![]};}function updateDateDisplay(){const _0x47406d=a2_0x150fbf,_0x21f342=document['getElementById']('inpDate')[_0x47406d(0x255)],_0x265865=document[_0x47406d(0x274)](_0x47406d(0x292));if(!_0x21f342){_0x265865[_0x47406d(0x291)]='';return;}const [_0x2125cc,_0x41bf5a,_0x54c50c]=_0x21f342[_0x47406d(0x2e3)]('-')[_0x47406d(0x2c3)](Number),_0x2c6d23=new Date(_0x2125cc,_0x41bf5a-0x1,_0x54c50c),_0x5e253f={'weekday':_0x47406d(0x294),'day':_0x47406d(0x28d),'month':_0x47406d(0x294),'year':_0x47406d(0x28d)};let _0x23cf57=_0x2c6d23[_0x47406d(0x25c)](_0x47406d(0x256),_0x5e253f);_0x23cf57=_0x23cf57['charAt'](0x0)[_0x47406d(0x312)]()+_0x23cf57['slice'](0x1),_0x265865[_0x47406d(0x291)]=_0x23cf57;}function autoSetEndTime(){const _0x5589f6=a2_0x150fbf,_0x53a8f2=document['getElementById'](_0x5589f6(0x328))['value'];if(!_0x53a8f2)return;const [_0x3d7f66,_0x4e471c]=_0x53a8f2['split'](':')[_0x5589f6(0x2c3)](Number);let _0x1ce70=_0x3d7f66+0x1;if(_0x1ce70>0x17)_0x1ce70=0x0;const _0x4e429b=String(_0x1ce70)[_0x5589f6(0x266)](0x2,'0')+':'+String(_0x4e471c)[_0x5589f6(0x266)](0x2,'0');document[_0x5589f6(0x274)](_0x5589f6(0x342))[_0x5589f6(0x255)]=_0x4e429b;}function populateClientSelect(){const _0x58b55e=a2_0x150fbf,_0x10ab2d=document[_0x58b55e(0x274)]('inpClient');_0x10ab2d[_0x58b55e(0x251)]='';if(clients[_0x58b55e(0x25f)]===0x0){const _0x4f2fe0=document[_0x58b55e(0x2f4)](_0x58b55e(0x272));_0x4f2fe0[_0x58b55e(0x295)]=_0x58b55e(0x22e),_0x10ab2d['appendChild'](_0x4f2fe0);return;}clients[_0x58b55e(0x298)](_0x593780=>{const _0x5dbba2=_0x58b55e,_0x1de037=document[_0x5dbba2(0x2f4)](_0x5dbba2(0x272));_0x1de037[_0x5dbba2(0x255)]=_0x593780[_0x5dbba2(0x29a)],_0x1de037['textContent']=_0x593780[_0x5dbba2(0x29a)],_0x10ab2d[_0x5dbba2(0x216)](_0x1de037);});}function openActionSheet(_0x5eee16){const _0x5b9820=a2_0x150fbf,_0x28588d=document[_0x5b9820(0x274)](_0x5b9820(0x257)),_0x9dcc61=document[_0x5b9820(0x274)]('actionSheetOverlay'),_0x3fc354=document[_0x5b9820(0x274)](_0x5b9820(0x334)),_0x15e22b=document[_0x5b9820(0x274)](_0x5b9820(0x2fb)),_0x43ee8d=document['getElementById']('asBtnSeries');_0x9dcc61['classList'][_0x5b9820(0x270)]('active'),_0x28588d[_0x5b9820(0x21f)]['add'](_0x5b9820(0x2a9));if(_0x5eee16===_0x5b9820(0x1fc))_0x3fc354[_0x5b9820(0x291)]=_0x5b9820(0x311),_0x15e22b['textContent']=_0x5b9820(0x26d),_0x15e22b[_0x5b9820(0x290)]=()=>{const _0x7022af=_0x5b9820;closeActionSheet(),updateSeriesBatch(_0x7022af(0x289),tempSessionData);},_0x43ee8d['textContent']=_0x5b9820(0x30e),_0x43ee8d['onclick']=()=>{const _0x3cca06=_0x5b9820;closeActionSheet(),updateSeriesBatch(_0x3cca06(0x2ed),tempSessionData);};else _0x5eee16===_0x5b9820(0x313)&&(_0x3fc354[_0x5b9820(0x291)]=_0x5b9820(0x1eb),_0x15e22b['textContent']=_0x5b9820(0x26d),_0x15e22b['className']=_0x5b9820(0x32c),_0x15e22b[_0x5b9820(0x290)]=()=>{const _0x27def0=_0x5b9820;closeActionSheet(),commitDelete(_0x27def0(0x289),sessions[_0x27def0(0x2a2)](_0x3994dc=>_0x3994dc['id']===editingId));},_0x43ee8d[_0x5b9820(0x291)]=_0x5b9820(0x30e),_0x43ee8d['className']='as-button\x20danger\x20bold',_0x43ee8d['onclick']=()=>{const _0x10fabc=_0x5b9820;closeActionSheet(),commitDelete('series',sessions[_0x10fabc(0x2a2)](_0x56fc04=>_0x56fc04['id']===editingId));});}function closeActionSheet(){const _0x20727a=a2_0x150fbf;document[_0x20727a(0x274)](_0x20727a(0x257))[_0x20727a(0x21f)][_0x20727a(0x2e0)](_0x20727a(0x2a9)),document[_0x20727a(0x274)]('actionSheetOverlay')['classList'][_0x20727a(0x2e0)](_0x20727a(0x201));}function openSettings(){const _0xebdfea=a2_0x150fbf;openSheet(_0xebdfea(0x242));}function saveCoachSettings(){const _0x3fac58=a2_0x150fbf,_0x431189=document[_0x3fac58(0x274)](_0x3fac58(0x31d))['value'];localStorage['setItem'](_0x3fac58(0x2a0),_0x431189),console[_0x3fac58(0x26c)](_0x3fac58(0x2dd),_0x431189),DataManager[_0x3fac58(0x2ba)]('save_settings',{'settings':{'cancel_window':_0x431189}})['catch'](_0xb106ee=>{const _0x1a635a=_0x3fac58;console['error'](_0x1a635a(0x1e5),_0xb106ee),showToast(_0x1a635a(0x240),![]);});}function loadCoachSettings(){const _0x2b8d67=a2_0x150fbf,_0x29b175=localStorage['getItem'](_0x2b8d67(0x2a0));_0x29b175&&(document[_0x2b8d67(0x274)]('settingCancelWindow')['value']=_0x29b175);}function openRangesSheet(){const _0x45e016=a2_0x150fbf;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x45e016(0x2f5));}function addRange(){const _0x5bcaef=a2_0x150fbf,_0x5b4fcc=document['getElementById'](_0x5bcaef(0x353))[_0x5bcaef(0x255)],_0x394d85=document[_0x5bcaef(0x274)](_0x5bcaef(0x2cd))[_0x5bcaef(0x255)],_0x2f0feb=document[_0x5bcaef(0x274)]('rangeEndDate')[_0x5bcaef(0x255)],_0x5f0b6b=document['getElementById'](_0x5bcaef(0x302))[_0x5bcaef(0x255)];if(!_0x5b4fcc||!_0x394d85||!_0x2f0feb||!_0x5f0b6b)return alert(_0x5bcaef(0x2ec));const _0x2a4ce0=_0x5b4fcc+'T'+_0x394d85,_0x52e776=_0x2f0feb+'T'+_0x5f0b6b;if(_0x2a4ce0>=_0x52e776)return alert(_0x5bcaef(0x2b7));specialRanges['push']({'start':_0x2a4ce0,'end':_0x52e776}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x43c304){const _0x55a224=a2_0x150fbf;specialRanges[_0x55a224(0x2a1)](_0x43c304,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x55a224(0x2ba)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x40ec1a=a2_0x150fbf;document[_0x40ec1a(0x274)](_0x40ec1a(0x353))[_0x40ec1a(0x255)]='',document[_0x40ec1a(0x274)](_0x40ec1a(0x2cd))[_0x40ec1a(0x255)]='00:00',document['getElementById'](_0x40ec1a(0x27a))[_0x40ec1a(0x255)]='',document['getElementById']('rangeEndTime')[_0x40ec1a(0x255)]=_0x40ec1a(0x221);}function renderRangesList(){const _0x3e94c4=a2_0x150fbf,_0x526dfd=document[_0x3e94c4(0x274)]('rangesList');_0x526dfd[_0x3e94c4(0x251)]='';if(!specialRanges[_0x3e94c4(0x25f)]){_0x526dfd['innerHTML']=_0x3e94c4(0x2ee);return;}specialRanges[_0x3e94c4(0x298)]((_0x474821,_0x93c05c)=>{const _0x24b8ef=_0x3e94c4,_0x1402e2=document['createElement'](_0x24b8ef(0x20e));_0x1402e2[_0x24b8ef(0x34e)]=_0x24b8ef(0x2cf);const _0x11c157=_0x3c7a49=>{const _0x3b8275=_0x24b8ef,_0x299ba7=new Date(_0x3c7a49);return _0x299ba7['getDate']()+'.'+String(_0x299ba7['getMonth']()+0x1)[_0x3b8275(0x266)](0x2,'0')+'\x20'+String(_0x299ba7[_0x3b8275(0x288)]())[_0x3b8275(0x266)](0x2,'0')+':'+String(_0x299ba7[_0x3b8275(0x318)]())[_0x3b8275(0x266)](0x2,'0');};_0x1402e2[_0x24b8ef(0x251)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x11c157(_0x474821[_0x24b8ef(0x278)])+_0x24b8ef(0x2e6)+_0x11c157(_0x474821[_0x24b8ef(0x2fe)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x93c05c+_0x24b8ef(0x2c1),_0x526dfd[_0x24b8ef(0x216)](_0x1402e2);});}function scrollToToday(){const _0x324ef4=a2_0x150fbf,_0x157a2c=getLocalDateStr(new Date()),_0x3518ef=document[_0x324ef4(0x274)]('header-'+_0x157a2c),_0x553ffe=document[_0x324ef4(0x274)](_0x324ef4(0x285));if(_0x3518ef&&_0x553ffe){const _0x505940=_0x553ffe[_0x324ef4(0x1f2)],_0x3e0bf7=_0x3518ef[_0x324ef4(0x2c0)],_0x437d15=_0x3518ef[_0x324ef4(0x2ff)];_0x553ffe[_0x324ef4(0x2a8)]=_0x3e0bf7-_0x505940/0x2+_0x437d15/0x2,_0x553ffe['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xe5e3db=a2_0x150fbf,_0x235c2a=document[_0xe5e3db(0x274)](_0xe5e3db(0x285)),_0x15467f=document['querySelectorAll']('.day-col-header');for(let _0x20ec34 of _0x15467f)if(_0x20ec34[_0xe5e3db(0x2c0)]>=_0x235c2a[_0xe5e3db(0x2a8)]){const _0x4e0aca=new Date(_0x20ec34['getAttribute'](_0xe5e3db(0x30f)));document[_0xe5e3db(0x274)](_0xe5e3db(0x1f4))[_0xe5e3db(0x291)]=_0x4e0aca['toLocaleString']('ru',{'month':_0xe5e3db(0x294)})[_0xe5e3db(0x312)]()+'\x20'+_0x4e0aca[_0xe5e3db(0x209)]();break;}}function showToast(_0x25e53d,_0x58036b=![]){const _0x1ad99a=a2_0x150fbf,_0x1e71a1=document[_0x1ad99a(0x274)](_0x1ad99a(0x2b6));_0x1e71a1[_0x1ad99a(0x34e)]=_0x1ad99a(0x20d)+(_0x58036b?_0x1ad99a(0x22a):''),document[_0x1ad99a(0x274)](_0x1ad99a(0x225))[_0x1ad99a(0x291)]=_0x58036b?_0x1ad99a(0x29b):_0x1ad99a(0x35c),document[_0x1ad99a(0x274)](_0x1ad99a(0x32e))[_0x1ad99a(0x291)]=_0x25e53d,_0x1e71a1[_0x1ad99a(0x21f)][_0x1ad99a(0x270)]('show'),setTimeout(()=>{const _0x114ee6=_0x1ad99a;_0x1e71a1[_0x114ee6(0x21f)]['remove'](_0x114ee6(0x2c5));},0xbb8);}function openDayOptions(_0x553722,_0x2b7a70){const _0x2bd7d9=a2_0x150fbf;selectedDayForOptions=_0x553722,document[_0x2bd7d9(0x274)](_0x2bd7d9(0x31e))[_0x2bd7d9(0x291)]=_0x2b7a70,openSheet(_0x2bd7d9(0x212));}function toggleDayOff(){const _0x2b2448=a2_0x150fbf;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2b2448(0x259),reRenderBlocks(),closeAllSheets(),DataManager[_0x2b2448(0x303)](),DataManager[_0x2b2448(0x2ba)](_0x2b2448(0x323),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x167998=a2_0x150fbf;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x167998(0x303)](),DataManager[_0x167998(0x2ba)](_0x167998(0x323),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x452386){const _0xf40049=a2_0x150fbf;document[_0xf40049(0x274)](_0xf40049(0x275))[_0xf40049(0x21f)][_0xf40049(0x270)](_0xf40049(0x201)),document['getElementById'](_0x452386)[_0xf40049(0x21f)]['add']('open');}function a2_0x20e9(){const _0x4e87bc=['toLocaleDateString','planned','calc(','length','batch_sync','offClick','stringify','slice','anPercent','inpRecurring','padStart','msg','rgba(','pattern','\x20days','.period-switch\x20.p-btn','log','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','[Notify]\x20Client\x20SWAP\x20detected','.day-col-header','add','patternEditor','option','analyticsSheet','getElementById','overlay','rgba(255,\x2069,\x2058,\x200.15)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','start','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','rangeEndDate','clients','send','recurringOptionContainer','user','2979ojZCHE','anTotalStats',':00</span>','seriesId','error','filter','matrixViewport','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','round','getHours','single','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','btn-primary\x20btn-secondary','DOMContentLoaded','numeric','seriesCountContainer','getAttribute','onclick','textContent','sheetDateSubtitle','touchstart','long','text','inpSeriesCount','rgba(100,100,100,0.5)','forEach','btn-primary\x20btn-danger','name','–£—Å–ø–µ—à–Ω–æ','time-label','.pib-text','statLoadCard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','uc_settings_cancel_window','splice','find','touchmove','initDataUnsafe','56TyKVsh','data','toFixed','scrollLeft','open','day-off-overlay\x20stripe-bg','flex','.day-off-overlay','apply','touches','init_load','touchend','pe-col-header','[Notify]\x20Server\x20Response:',':\x20Client\x20already\x20booked','onClick','[Notify]\x20Detected\x20Client\x20ID:','toast','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','9230oqhdQp','disableVerticalSwipes','fetchFromServer','height','[Notify]\x20Error:\x20sessionData\x20is\x20null','POST','text/plain;charset=UTF-8','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','offsetLeft',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','querySelector','map','[Sync]\x20Loading\x20','show','uc_sessions_v9',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','max','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','px\x200px','floor','insertBefore','rangeStartTime','setDate','range-item','Error\x20setting\x20color:','isArray','event-card','[Series]\x20Skipped\x20','gridColumns','closest','9322932lHHfhW','patternInfoBox','syncBatch','settings','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','#050505','timeColumn','[Settings]\x20Cancel\x20window\x20set\x20to:','mini','backgroundPosition','remove','.day-column','mouseup','split','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','Telegram','\x20‚Äî\x20','dateStr','router.html','clientId','daysHeaderTrack','sessionSheet','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','series','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','Server\x20Error','doWorkHours','borderLeftColor','guest','vibrate','createElement','rangesSheet','search','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','inpClient','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','2724vucqCt','asBtnOne','<div\x20class=\x22dch-day\x22>','var(--acc-orange)','end','offsetWidth','catch','clientY','rangeEndTime','saveLocally','.sheet','then','setHeaderColor','initData','var(--acc-current)','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','push','pe-time-label','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','null','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','data-date','status','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','toUpperCase','delete','[Notify]\x20Attempting\x20to\x20send:','btnDayToggle',':00','\x20-\x20','getMinutes','parse','header-','setAttribute','#gridColumns\x20.day-column','settingCancelWindow','dayOptionsTitle','setHours','createDocumentFragment','(((.+)+)+)+$','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','save_settings','custom','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','complete','peGrid','inpStart','total','uc_settings_v9','mergeServerData','as-button\x20danger','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','toastMessage','data-day-idx','done','blocked-slot\x20stripe-bg','formatDate','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','asTitle','borderColor','T00:00:00','#fff','deleted','btn-status-toggle','completed','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','163uQZzhS','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','px\x20-','ready','target','random','inpEnd','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','rgba(255,255,255,0.05)','month','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','all','rgba(48,\x20209,\x2088,\x200.15)','today','startsWith','keys','BackButton','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','className','color','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','borderRadius','rangeStartDate','.dch-stats-fill','backgroundColor','colIndex','anEnd','from','btn-status-toggle\x20undo-mode','10px','week','–ò–Ω—Ñ–æ','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','stat-','min','charAt','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','querySelectorAll','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','warning','expand','Save\x20settings\x20error:','doEventsList',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','5640nbBQLK','getDate','–£–¥–∞–ª–µ–Ω–∏–µ','</div><div\x20class=\x22dch-num\x22>','100%','doLoadPercent','230490dccLJy','top','warn','clientWidth','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','headerMonth','pe-cell\x20','left',']\x20Failed:','[Notify]\x20Network\x20Failed','cancel','6367326XdwrQU','getTime','save','exceptions','none','...','scroll','active','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','zIndex','block','create','valid','doBusyHours','Local\x20Save\x20Error','getFullYear','setItem','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','syncLoad','toast-notification\x20','div','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','width','client','dayOptionsSheet','inpDate','v9.0-BATCH-CALENDAR','sort','appendChild','day-col-header\x20','location','now','btnStatusToggle','addEventListener','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','23:59','style','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','</span>\x20/\x20','toastTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','17291610QauyQt','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','setBackgroundColor','success','note','\x20–∏–∑\x20','10px\x2010px\x200\x200','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','stopPropagation','substr','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','getDay','cancel_window','indexOf','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','localeCompare','WebApp','[API\x20','checked','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>‚úÖ\x20','var(--acc-red)','calendar','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','Error\x20setting\x20back\x20button:','settingsSheet','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpNote','day-column\x20','anStart','cancelled','rgba(255,\x2069,\x2058,\x200.3)','%\x20-\x204px)','analyticsList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','[Notify]\x20Error:\x20Text\x20generation\x20failed','ranges','background','var(--acc-green)','innerHTML','<div\x20class=\x22ev-title\x22>','uc_clients_v9','toString','value','ru-RU','actionSheet','getMonth','off','update','pe-corner'];a2_0x20e9=function(){return _0x4e87bc;};return a2_0x20e9();}function closeAllSheets(){const _0xb00e4d=a2_0x150fbf;document[_0xb00e4d(0x274)](_0xb00e4d(0x275))[_0xb00e4d(0x21f)]['remove'](_0xb00e4d(0x201)),document[_0xb00e4d(0x1e1)](_0xb00e4d(0x304))[_0xb00e4d(0x298)](_0x2ce84f=>_0x2ce84f['classList'][_0xb00e4d(0x2e0)](_0xb00e4d(0x2a9)));}function openPatternEditor(){const _0x31403f=a2_0x150fbf;closeAllSheets(),document['getElementById'](_0x31403f(0x271))['classList']['add']('open'),renderPatternEditor();}function closePatternEditor(){const _0x591aa0=a2_0x150fbf;document[_0x591aa0(0x274)]('patternEditor')[_0x591aa0(0x21f)]['remove']('open');}function a2_0x35a1(_0x2c8a5b,_0x46cf33){_0x2c8a5b=_0x2c8a5b-0x1dd;const _0x2f3776=a2_0x20e9();let _0xbfaa59=_0x2f3776[_0x2c8a5b];return _0xbfaa59;}function savePattern(){const _0x3b9103=a2_0x150fbf;document[_0x3b9103(0x274)](_0x3b9103(0x271))[_0x3b9103(0x21f)][_0x3b9103(0x2e0)](_0x3b9103(0x2a9)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x3b9103(0x323),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x38dbd4=a2_0x150fbf,_0x2d277a=document['getElementById'](_0x38dbd4(0x327));_0x2d277a['innerHTML']='';const _0xc2ebd9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3776e2=document[_0x38dbd4(0x2f4)](_0x38dbd4(0x20e));_0x3776e2['className']=_0x38dbd4(0x25b),_0x2d277a[_0x38dbd4(0x216)](_0x3776e2),_0xc2ebd9[_0x38dbd4(0x298)]((_0x23cbdc,_0xafc407)=>{const _0x282d4a=_0x38dbd4,_0x43ce20=document[_0x282d4a(0x2f4)](_0x282d4a(0x20e));_0x43ce20[_0x282d4a(0x34e)]=_0x282d4a(0x2b1),_0x43ce20[_0x282d4a(0x251)]=_0x23cbdc+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x43ce20[_0x282d4a(0x290)]=()=>toggleColPattern(_0xafc407),_0x2d277a[_0x282d4a(0x216)](_0x43ce20);});for(let _0x7b7bfa=0x0;_0x7b7bfa<0x18;_0x7b7bfa++){const _0x3d2774=document['createElement'](_0x38dbd4(0x20e));_0x3d2774[_0x38dbd4(0x34e)]=_0x38dbd4(0x30b),_0x3d2774['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x7b7bfa)['padStart'](0x2,'0')+_0x38dbd4(0x316),_0x3d2774['onclick']=()=>toggleRowPattern(_0x7b7bfa),_0x2d277a['appendChild'](_0x3d2774);for(let _0x5a310d=0x0;_0x5a310d<0x7;_0x5a310d++){const _0x51a3a4=document[_0x38dbd4(0x2f4)](_0x38dbd4(0x20e)),_0x3025bf=(availabilityPattern[_0x5a310d]||[])[_0x38dbd4(0x243)](_0x7b7bfa),_0x3cdcd6=!_0x3025bf;_0x51a3a4[_0x38dbd4(0x34e)]=_0x38dbd4(0x1f5)+(_0x3cdcd6?'active':''),_0x51a3a4[_0x38dbd4(0x290)]=()=>toggleSinglePattern(_0x5a310d,_0x7b7bfa),_0x2d277a[_0x38dbd4(0x216)](_0x51a3a4);}}}function toggleSinglePattern(_0x10bf74,_0x3a9751){const _0x5bd184=a2_0x150fbf;if(!availabilityPattern[_0x10bf74])availabilityPattern[_0x10bf74]=[];const _0x192c05=availabilityPattern[_0x10bf74],_0x52dd06=_0x192c05[_0x5bd184(0x234)](_0x3a9751);_0x52dd06===-0x1?_0x192c05[_0x5bd184(0x30a)](_0x3a9751):_0x192c05[_0x5bd184(0x2a1)](_0x52dd06,0x1),renderPatternEditor();}function toggleColPattern(_0x48df4a){if(!availabilityPattern[_0x48df4a])availabilityPattern[_0x48df4a]=[];const _0x9bef63=availabilityPattern[_0x48df4a];_0x9bef63['length']===0x0?availabilityPattern[_0x48df4a]=Array['from']({'length':0x18},(_0x42f8a8,_0x2ba3df)=>_0x2ba3df):availabilityPattern[_0x48df4a]=[],renderPatternEditor();}function toggleRowPattern(_0x3c629c){const _0x490a88=a2_0x150fbf;let _0x1faeb9=!![];for(let _0x2f34a7=0x0;_0x2f34a7<0x7;_0x2f34a7++){if((availabilityPattern[_0x2f34a7]||[])[_0x490a88(0x243)](_0x3c629c)){_0x1faeb9=![];break;}}for(let _0x7943b0=0x0;_0x7943b0<0x7;_0x7943b0++){if(!availabilityPattern[_0x7943b0])availabilityPattern[_0x7943b0]=[];const _0x6a1bfe=availabilityPattern[_0x7943b0][_0x490a88(0x234)](_0x3c629c);if(_0x1faeb9){if(_0x6a1bfe===-0x1)availabilityPattern[_0x7943b0]['push'](_0x3c629c);}else{if(_0x6a1bfe!==-0x1)availabilityPattern[_0x7943b0][_0x490a88(0x2a1)](_0x6a1bfe,0x1);}}renderPatternEditor();}function renderPCol(_0x160be4,_0x4d2fdf){const _0x397a32=a2_0x150fbf;_0x160be4[_0x397a32(0x251)]='';const _0x4501af=Math[_0x397a32(0x287)](_0x160be4['offsetLeft']);(availabilityPattern[_0x4d2fdf]||[])[_0x397a32(0x298)](_0x5d63a1=>{const _0x12b5d3=_0x397a32,_0xcdbc3=document[_0x12b5d3(0x2f4)](_0x12b5d3(0x20e));_0xcdbc3[_0x12b5d3(0x34e)]=_0x12b5d3(0x331);const _0x14d67a=_0x5d63a1*GRID_H;_0xcdbc3[_0x12b5d3(0x222)]['top']=_0x14d67a+'px',_0xcdbc3['style'][_0x12b5d3(0x2df)]='-'+_0x4501af+_0x12b5d3(0x33e)+_0x14d67a+'px',_0xcdbc3[_0x12b5d3(0x290)]=_0xda4d41=>{_0xda4d41['stopPropagation'](),toggleSinglePattern(_0x4d2fdf,_0x5d63a1);},_0x160be4['appendChild'](_0xcdbc3);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x313374=a2_0x150fbf,_0x12df24=new Date(),_0x4e4e70=document[_0x313374(0x274)]('globalTimeLine'),_0x5f199c=document[_0x313374(0x274)]('timeLineBadge'),_0x4b4f79=(_0x12df24[_0x313374(0x288)]()*0x3c+_0x12df24['getMinutes']())/0x3c*GRID_H;_0x4e4e70[_0x313374(0x222)]['top']=_0x4b4f79+'px',_0x4e4e70[_0x313374(0x222)][_0x313374(0x350)]='block',_0x5f199c['textContent']=String(_0x12df24[_0x313374(0x288)]())[_0x313374(0x266)](0x2,'0')+':'+String(_0x12df24[_0x313374(0x318)]())[_0x313374(0x266)](0x2,'0'),_0x5f199c['style'][_0x313374(0x350)]='block',_0x5f199c[_0x313374(0x222)][_0x313374(0x1f0)]=_0x4b4f79+'px';}document[a2_0x150fbf(0x21b)](a2_0x150fbf(0x28c),init);function openDayOptions(_0x7e9898){const _0x34f463=a2_0x150fbf;selectedDayForOptions=_0x7e9898;const _0xb247c4=new Date(_0x7e9898),_0x230116={'weekday':_0x34f463(0x294),'day':_0x34f463(0x28d),'month':_0x34f463(0x294),'year':'numeric'},_0x22b465=_0xb247c4[_0x34f463(0x25c)]('ru-RU',_0x230116);document['getElementById']('doDateHeader')[_0x34f463(0x291)]=_0x22b465[_0x34f463(0x1df)](0x0)[_0x34f463(0x312)]()+_0x22b465[_0x34f463(0x263)](0x1);let _0x3a33de=_0xb247c4[_0x34f463(0x232)]()-0x1;if(_0x3a33de===-0x1)_0x3a33de=0x6;const _0x1462ea=availabilityPattern[_0x3a33de]||[],_0x36049e=0x18-_0x1462ea[_0x34f463(0x25f)],_0x518c63=_0x36049e*0x3c,_0x4cfd6e=sessions[_0x34f463(0x284)](_0x3c2be2=>_0x3c2be2['dateStr']===_0x7e9898&&_0x3c2be2[_0x34f463(0x310)]!=='cancelled');let _0x4e37e6=_0x4cfd6e[_0x34f463(0x2c3)](_0x38902b=>{const _0x41a785=_0x34f463,[_0x1553bf,_0x6ebdf5]=_0x38902b[_0x41a785(0x278)][_0x41a785(0x2e3)](':')[_0x41a785(0x2c3)](Number),[_0x3eb72a,_0x3dea81]=_0x38902b['end'][_0x41a785(0x2e3)](':')[_0x41a785(0x2c3)](Number);return[_0x1553bf*0x3c+_0x6ebdf5,_0x3eb72a*0x3c+_0x3dea81];});_0x4e37e6[_0x34f463(0x215)]((_0x6a6ed6,_0x5b6fd8)=>_0x6a6ed6[0x0]-_0x5b6fd8[0x0]);let _0x2d6210=[];if(_0x4e37e6[_0x34f463(0x25f)]>0x0){let _0x235348=_0x4e37e6[0x0];for(let _0x486cd7=0x1;_0x486cd7<_0x4e37e6[_0x34f463(0x25f)];_0x486cd7++){_0x4e37e6[_0x486cd7][0x0]<_0x235348[0x1]?_0x235348[0x1]=Math['max'](_0x235348[0x1],_0x4e37e6[_0x486cd7][0x1]):(_0x2d6210[_0x34f463(0x30a)](_0x235348),_0x235348=_0x4e37e6[_0x486cd7]);}_0x2d6210['push'](_0x235348);}let _0x4caa59=0x0;_0x2d6210['forEach'](_0xfc00db=>_0x4caa59+=_0xfc00db[0x1]-_0xfc00db[0x0]),document[_0x34f463(0x274)](_0x34f463(0x2f0))[_0x34f463(0x291)]=formatMinsToHrs(_0x518c63),document[_0x34f463(0x274)](_0x34f463(0x207))[_0x34f463(0x291)]=formatMinsToHrs(_0x4caa59);const _0x4434b0=_0x518c63>0x0?Math[_0x34f463(0x287)](_0x4caa59/_0x518c63*0x64):0x0,_0x72f13=document[_0x34f463(0x274)](_0x34f463(0x1ee));_0x72f13[_0x34f463(0x291)]=_0x4434b0+'%';const _0x17159c=document['getElementById'](_0x34f463(0x29e));if(_0x4434b0>0x64)_0x72f13[_0x34f463(0x222)][_0x34f463(0x34f)]='var(--acc-red)',_0x17159c[_0x34f463(0x222)][_0x34f463(0x335)]=_0x34f463(0x249);else _0x4434b0>0x50?(_0x72f13[_0x34f463(0x222)][_0x34f463(0x34f)]=_0x34f463(0x2fd),_0x17159c[_0x34f463(0x222)][_0x34f463(0x335)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x72f13['style'][_0x34f463(0x34f)]=_0x34f463(0x250),_0x17159c[_0x34f463(0x222)][_0x34f463(0x335)]=_0x34f463(0x344));const _0x4076f0=document['getElementById'](_0x34f463(0x1e6));_0x4076f0[_0x34f463(0x251)]='';_0x4cfd6e[_0x34f463(0x25f)]===0x0?_0x4076f0[_0x34f463(0x251)]=_0x34f463(0x23f):(_0x4cfd6e[_0x34f463(0x215)]((_0x590bec,_0x33c776)=>_0x590bec['start'][_0x34f463(0x236)](_0x33c776[_0x34f463(0x278)])),_0x4cfd6e[_0x34f463(0x298)](_0x224c0d=>{const _0x319b17=_0x34f463,_0x4d9543=clients[_0x319b17(0x2a2)](_0x4aae60=>_0x4aae60['name']===_0x224c0d[_0x319b17(0x211)]),_0xba38e0=_0x4d9543?_0x4d9543['color']:_0x319b17(0x337),_0x529d1d=_0x224c0d[_0x319b17(0x310)]===_0x319b17(0x33a),_0xde6856=_0x529d1d?_0x319b17(0x309):'',_0x51478d=document[_0x319b17(0x2f4)](_0x319b17(0x20e));_0x51478d[_0x319b17(0x34e)]='de-item',_0x51478d['style'][_0x319b17(0x2f1)]=_0xba38e0,_0x51478d[_0x319b17(0x251)]=_0x319b17(0x351)+_0x224c0d[_0x319b17(0x278)]+'\x20-\x20'+_0x224c0d['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x224c0d[_0x319b17(0x211)]+_0x319b17(0x244)+_0xde6856+_0x319b17(0x220),_0x4076f0[_0x319b17(0x216)](_0x51478d);}));const _0x3a0abc=document[_0x34f463(0x274)](_0x34f463(0x315)),_0x5bdcd3=dateExceptions[_0x7e9898]===_0x34f463(0x259);_0x5bdcd3?(_0x3a0abc[_0x34f463(0x291)]=_0x34f463(0x223),_0x3a0abc[_0x34f463(0x34e)]=_0x34f463(0x28b),_0x3a0abc['style'][_0x34f463(0x34f)]='var(--acc-green)',_0x3a0abc[_0x34f463(0x222)][_0x34f463(0x24f)]=_0x34f463(0x348)):(_0x3a0abc[_0x34f463(0x291)]=_0x34f463(0x1e0),_0x3a0abc[_0x34f463(0x34e)]=_0x34f463(0x299),_0x3a0abc['style'][_0x34f463(0x34f)]=_0x34f463(0x23d),_0x3a0abc[_0x34f463(0x222)][_0x34f463(0x24f)]=_0x34f463(0x276)),openSheet(_0x34f463(0x212));}let currentAnPeriod='week';function openAnalytics(){const _0x3b4c10=a2_0x150fbf,_0xc85e73=document[_0x3b4c10(0x2c2)](_0x3b4c10(0x26b));setAnalyticsPeriod(_0x3b4c10(0x35b),_0xc85e73),closeAllSheets(),openSheet(_0x3b4c10(0x273));}function setAnalyticsPeriod(_0x101abc,_0xac2aca){const _0x214020=a2_0x150fbf;currentAnPeriod=_0x101abc,document[_0x214020(0x1e1)](_0x214020(0x26b))['forEach'](_0xb5e4f4=>_0xb5e4f4[_0x214020(0x21f)][_0x214020(0x2e0)](_0x214020(0x201)));if(_0xac2aca)_0xac2aca[_0x214020(0x21f)][_0x214020(0x270)](_0x214020(0x201));const _0x529d63=document[_0x214020(0x274)]('anCustomDates');_0x529d63[_0x214020(0x222)][_0x214020(0x350)]=_0x101abc===_0x214020(0x324)?_0x214020(0x2ab):'none';const _0x5f8708=new Date();let _0x6d6219=new Date(),_0x2f5cb5=new Date();if(_0x101abc==='week')_0x6d6219=getStartOfWeek(_0x5f8708),_0x2f5cb5=new Date(_0x6d6219),_0x2f5cb5['setDate'](_0x2f5cb5[_0x214020(0x1ea)]()+0x6);else{if(_0x101abc===_0x214020(0x345))_0x6d6219=new Date(_0x5f8708[_0x214020(0x209)](),_0x5f8708[_0x214020(0x258)](),0x1),_0x2f5cb5=new Date(_0x5f8708[_0x214020(0x209)](),_0x5f8708[_0x214020(0x258)]()+0x1,0x0);else{!document[_0x214020(0x274)](_0x214020(0x247))[_0x214020(0x255)]&&(document['getElementById'](_0x214020(0x247))[_0x214020(0x255)]=getLocalDateStr(_0x5f8708),document[_0x214020(0x274)](_0x214020(0x357))[_0x214020(0x255)]=getLocalDateStr(_0x5f8708));refreshAnalytics();return;}}document['getElementById'](_0x214020(0x247))[_0x214020(0x255)]=getLocalDateStr(_0x6d6219),document[_0x214020(0x274)](_0x214020(0x357))['value']=getLocalDateStr(_0x2f5cb5),refreshAnalytics();}function refreshAnalytics(){const _0x7f5428=a2_0x150fbf,_0x530bd9=document[_0x7f5428(0x274)](_0x7f5428(0x247))['value'],_0x4ecc90=document[_0x7f5428(0x274)](_0x7f5428(0x357))[_0x7f5428(0x255)];if(!_0x530bd9||!_0x4ecc90)return;const _0x34d634=sessions[_0x7f5428(0x284)](_0x3d9c40=>_0x3d9c40['dateStr']>=_0x530bd9&&_0x3d9c40[_0x7f5428(0x2e7)]<=_0x4ecc90&&_0x3d9c40[_0x7f5428(0x310)]!=='cancelled'),_0x5a2f7c=_0x34d634[_0x7f5428(0x25f)],_0x19228a=_0x34d634[_0x7f5428(0x284)](_0x2e6557=>_0x2e6557[_0x7f5428(0x310)]===_0x7f5428(0x33a))['length'],_0x5c668b=_0x5a2f7c>0x0?Math[_0x7f5428(0x287)](_0x19228a/_0x5a2f7c*0x64):0x0;document[_0x7f5428(0x274)](_0x7f5428(0x264))[_0x7f5428(0x291)]=_0x5c668b+'%',document[_0x7f5428(0x274)](_0x7f5428(0x280))[_0x7f5428(0x291)]=_0x19228a+_0x7f5428(0x22c)+_0x5a2f7c+_0x7f5428(0x1e2);const _0xf0f8e6=document['getElementById']('anDonutCircle'),_0x8100f4=0x2*Math['PI']*0x23,_0x2fb8bd=_0x8100f4-_0x5c668b/0x64*_0x8100f4;_0xf0f8e6[_0x7f5428(0x222)]['strokeDashoffset']=_0x2fb8bd;const _0x407e1d={};_0x34d634[_0x7f5428(0x298)](_0x52c08e=>{const _0x124107=_0x7f5428;if(!_0x407e1d[_0x52c08e['client']]){const _0x430416=clients[_0x124107(0x2a2)](_0x5f1b0d=>_0x5f1b0d['name']===_0x52c08e[_0x124107(0x211)]);_0x407e1d[_0x52c08e[_0x124107(0x211)]]={'total':0x0,'done':0x0,'color':_0x430416?_0x430416[_0x124107(0x34f)]:_0x124107(0x337)};}_0x407e1d[_0x52c08e[_0x124107(0x211)]]['total']++;if(_0x52c08e[_0x124107(0x310)]===_0x124107(0x33a))_0x407e1d[_0x52c08e[_0x124107(0x211)]][_0x124107(0x330)]++;});const _0x1a4e03=document[_0x7f5428(0x274)](_0x7f5428(0x24b));_0x1a4e03[_0x7f5428(0x251)]='';const _0x508b39=Object['entries'](_0x407e1d)[_0x7f5428(0x215)]((_0x3dc5ae,_0x3cbe8a)=>_0x3cbe8a[0x1]['total']-_0x3dc5ae[0x1][_0x7f5428(0x329)]);if(_0x508b39[_0x7f5428(0x25f)]===0x0){_0x1a4e03[_0x7f5428(0x251)]=_0x7f5428(0x2f7);return;}_0x508b39['forEach'](([_0x22d365,_0x4f0551])=>{const _0x454068=_0x7f5428,_0x21d03c=Math[_0x454068(0x287)](_0x4f0551['done']/_0x4f0551['total']*0x64),_0x35c8ec=document['createElement'](_0x454068(0x20e));_0x35c8ec[_0x454068(0x34e)]='client-stat-card',_0x35c8ec[_0x454068(0x222)][_0x454068(0x2f1)]=_0x4f0551[_0x454068(0x34f)],_0x35c8ec['innerHTML']=_0x454068(0x24c)+_0x22d365+_0x454068(0x29f)+_0x4f0551['done']+_0x454068(0x224)+_0x4f0551[_0x454068(0x329)]+_0x454068(0x32d)+_0x21d03c+_0x454068(0x23b),_0x1a4e03['appendChild'](_0x35c8ec);});}function formatMinsToHrs(_0x4aa2a5){const _0x4bfb31=a2_0x150fbf;if(_0x4aa2a5===0x0)return'0';const _0x1ccccd=Math[_0x4bfb31(0x2cb)](_0x4aa2a5/0x3c),_0x1b1897=_0x4aa2a5%0x3c;if(_0x1b1897===0x0)return _0x1ccccd+'—á';return _0x1ccccd+'—á\x20'+_0x1b1897+'–º';}