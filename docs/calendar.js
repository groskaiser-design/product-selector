const a2_0x46b829=a2_0x53f2;(function(_0x7e4235,_0x29c017){const _0x28746=a2_0x53f2,_0x99bd20=_0x7e4235();while(!![]){try{const _0x5349f7=-parseInt(_0x28746(0x18d))/0x1*(-parseInt(_0x28746(0x1af))/0x2)+parseInt(_0x28746(0xc7))/0x3*(parseInt(_0x28746(0x1e0))/0x4)+parseInt(_0x28746(0x217))/0x5+-parseInt(_0x28746(0x1b2))/0x6+-parseInt(_0x28746(0x212))/0x7+parseInt(_0x28746(0x190))/0x8*(parseInt(_0x28746(0x104))/0x9)+parseInt(_0x28746(0x136))/0xa*(parseInt(_0x28746(0x114))/0xb);if(_0x5349f7===_0x29c017)break;else _0x99bd20['push'](_0x99bd20['shift']());}catch(_0x4b73a0){_0x99bd20['push'](_0x99bd20['shift']());}}}(a2_0x2a54,0x87d72),function initTMA(){const _0x4e7da5=a2_0x53f2;try{const _0x1b3633=window[_0x4e7da5(0x132)]?.[_0x4e7da5(0x1be)];if(!_0x1b3633)return;_0x1b3633['ready'](),_0x1b3633[_0x4e7da5(0xf5)]();try{_0x1b3633['setHeaderColor'](_0x4e7da5(0x14a)),_0x1b3633['setBackgroundColor']&&_0x1b3633[_0x4e7da5(0xca)]('#050505');}catch(_0x20fa6d){console[_0x4e7da5(0x19a)](_0x4e7da5(0x1bf),_0x20fa6d);}try{_0x1b3633[_0x4e7da5(0x211)]&&(_0x1b3633[_0x4e7da5(0x211)][_0x4e7da5(0x20c)](),_0x1b3633[_0x4e7da5(0x211)][_0x4e7da5(0x1a5)](),_0x1b3633[_0x4e7da5(0x211)][_0x4e7da5(0x204)](function(){const _0xb2607a=_0x4e7da5;window[_0xb2607a(0x13e)][_0xb2607a(0xf0)]=_0xb2607a(0x108);}));}catch(_0x431d32){console['log'](_0x4e7da5(0xec),_0x431d32);}try{if(_0x1b3633[_0x4e7da5(0x195)])_0x1b3633[_0x4e7da5(0x195)]();}catch(_0x51f24a){}}catch(_0x42df97){console[_0x4e7da5(0x1f1)](_0x4e7da5(0xdd),_0x42df97);}}());function isAdmin(){const _0x103bef=a2_0x53f2;try{const _0x397974=Number(window[_0x103bef(0x132)]?.[_0x103bef(0x1be)]?.[_0x103bef(0xd1)]?.[_0x103bef(0x1a9)]?.['id']);return _0x397974===0xbaf7174;}catch(_0x1d4e3f){return![];}}const APP_VERSION=a2_0x46b829(0x111),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x46b829(0x163),KEY_SESSIONS=a2_0x46b829(0x1b3),KEY_SETTINGS=a2_0x46b829(0x194);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x112db6=a2_0x46b829;return window['Telegram']?.[_0x112db6(0x1be)]?.[_0x112db6(0xd1)]?.[_0x112db6(0x1a9)]?.['id']||'guest';},'saveLocally'(){const _0x2a5966=a2_0x46b829;try{localStorage[_0x2a5966(0x18b)](KEY_CLIENTS,JSON[_0x2a5966(0x117)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x2a5966(0x18b)](KEY_SETTINGS,JSON[_0x2a5966(0x117)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x30888a){console[_0x2a5966(0x1f1)](_0x2a5966(0x1d8),_0x30888a);}},'loadLocal'(){const _0x4500d6=a2_0x46b829;try{const _0x1eb1aa=localStorage['getItem'](KEY_CLIENTS);if(_0x1eb1aa)clients=JSON[_0x4500d6(0x21b)](_0x1eb1aa);const _0x5a8d4d=localStorage[_0x4500d6(0x10a)](KEY_SESSIONS);if(_0x5a8d4d)sessions=JSON[_0x4500d6(0x21b)](_0x5a8d4d);const _0x1ced46=localStorage['getItem'](KEY_SETTINGS);if(_0x1ced46){const _0x4c20f8=JSON['parse'](_0x1ced46);if(_0x4c20f8[_0x4500d6(0x1b9)])availabilityPattern=_0x4c20f8[_0x4500d6(0x1b9)];if(_0x4c20f8[_0x4500d6(0x128)])dateExceptions=_0x4c20f8[_0x4500d6(0x128)];if(_0x4c20f8[_0x4500d6(0x161)])specialRanges=_0x4c20f8[_0x4500d6(0x161)];}else{for(let _0x18fc5f=0x0;_0x18fc5f<0x7;_0x18fc5f++)availabilityPattern[_0x18fc5f]=Array[_0x4500d6(0x238)]({'length':0xc},(_0x331fa4,_0x59f156)=>_0x59f156+0x9);}}catch(_0x35a384){console[_0x4500d6(0x1f1)](_0x4500d6(0x17a),_0x35a384);}},async 'fetchFromServer'(_0x43336f,_0x1748ad={}){const _0x8b2b0b=a2_0x46b829,_0x381978=window['Telegram']?.[_0x8b2b0b(0x1be)],_0x521f64={'action':_0x43336f,'init_data':_0x381978?.[_0x8b2b0b(0xba)]||'',..._0x1748ad};try{const _0x3738dc=await fetch(API_URL,{'method':_0x8b2b0b(0x149),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x8b2b0b(0x117)](_0x521f64)}),_0x164529=await _0x3738dc[_0x8b2b0b(0x112)]();if(!_0x164529['ok'])throw new Error(_0x164529[_0x8b2b0b(0x1f1)]||_0x8b2b0b(0x223));return _0x164529['data'];}catch(_0x29c961){console[_0x8b2b0b(0x1f1)](_0x8b2b0b(0x15d)+_0x43336f+']\x20Failed:',_0x29c961);throw _0x29c961;}},async 'syncLoad'(){const _0x1ee629=a2_0x46b829,_0x1d77af=new Date(),_0x4512fe=_0x1d77af[_0x1ee629(0x214)]()+'-'+String(_0x1d77af[_0x1ee629(0x101)]()+0x1)[_0x1ee629(0x219)](0x2,'0'),_0x486993=new Date(_0x1d77af);_0x486993['setMonth'](_0x1d77af[_0x1ee629(0x101)]()+0x1);const _0x3a2676=_0x486993[_0x1ee629(0x214)]()+'-'+String(_0x486993['getMonth']()+0x1)[_0x1ee629(0x219)](0x2,'0'),_0x5309dc=Date[_0x1ee629(0xf7)]();console[_0x1ee629(0x19a)](_0x1ee629(0x234)+_0x4512fe+',\x20'+_0x3a2676+_0x1ee629(0x142));try{const [_0x14525b,_0x2c8995]=await Promise[_0x1ee629(0x20d)]([this[_0x1ee629(0xbc)]('init_load',{'month_str':_0x4512fe}),this[_0x1ee629(0xbc)](_0x1ee629(0x124),{'month_str':_0x3a2676})]);if(lastUserActionTime>_0x5309dc)return console[_0x1ee629(0x206)](_0x1ee629(0xcf)),![];return this[_0x1ee629(0xbe)](_0x14525b,_0x4512fe),this[_0x1ee629(0xbe)](_0x2c8995,_0x3a2676),this[_0x1ee629(0x137)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xb62d6d){console[_0x1ee629(0x1f1)](_0xb62d6d);throw _0xb62d6d;}},'mergeServerData'(_0x4b10da,_0x2824cf){const _0x188f60=a2_0x46b829;if(!_0x4b10da)return;_0x4b10da['clients']&&Array[_0x188f60(0xfc)](_0x4b10da[_0x188f60(0xc8)])&&(clients=_0x4b10da[_0x188f60(0xc8)]);if(_0x4b10da[_0x188f60(0xe0)]){if(_0x4b10da[_0x188f60(0xe0)][_0x188f60(0x1b9)])availabilityPattern=_0x4b10da[_0x188f60(0xe0)]['pattern'];if(_0x4b10da[_0x188f60(0xe0)][_0x188f60(0x128)])dateExceptions=_0x4b10da[_0x188f60(0xe0)][_0x188f60(0x128)];if(_0x4b10da[_0x188f60(0xe0)][_0x188f60(0x161)])specialRanges=_0x4b10da['settings'][_0x188f60(0x161)];if(_0x4b10da['settings'][_0x188f60(0x130)]){localStorage[_0x188f60(0x18b)]('uc_settings_cancel_window',_0x4b10da['settings'][_0x188f60(0x130)]);const _0x3da11a=document[_0x188f60(0x165)](_0x188f60(0x186));if(_0x3da11a)_0x3da11a[_0x188f60(0x1c2)]=_0x4b10da[_0x188f60(0xe0)]['cancel_window'];}}_0x4b10da[_0x188f60(0x1e1)]&&(sessions=sessions[_0x188f60(0x1e4)](_0x5c1390=>!_0x5c1390[_0x188f60(0x1b1)]['startsWith'](_0x2824cf)),Object[_0x188f60(0x183)](_0x4b10da[_0x188f60(0x1e1)])[_0x188f60(0x145)](_0xdce510=>{const _0x4ed4a=_0x188f60,_0x5967d0=_0x4b10da[_0x4ed4a(0x1e1)][_0xdce510];_0x5967d0[_0x4ed4a(0x145)](_0x446dfe=>{const _0xf2294d=_0x4ed4a,_0x584507=clients[_0xf2294d(0x1de)](_0x26ea01=>String(_0x26ea01['id'])===String(_0x446dfe['c']));sessions[_0xf2294d(0x1ad)]({'id':_0x446dfe['i'],'clientId':_0x446dfe['c'],'client':_0x584507?_0x584507[_0xf2294d(0x146)]:_0xf2294d(0x134),'dateStr':_0x2824cf+'-'+_0xdce510[_0xf2294d(0x219)](0x2,'0'),'start':_0x446dfe['s'],'end':_0x446dfe['e'],'status':_0x446dfe['st']||_0xf2294d(0x11c),'note':_0x446dfe['n']||'','seriesId':_0x446dfe['sid']||null});});}));},async 'syncBatch'(_0x36cdee){const _0x31c7d0=a2_0x46b829,_0x421532=[...new Set(_0x36cdee)],_0x5d15ff=_0x421532['map'](_0x2b7220=>{const _0x6d86e7=a2_0x53f2,_0x27f5a1=sessions[_0x6d86e7(0x1e4)](_0x54bb61=>_0x54bb61[_0x6d86e7(0x1b1)]===_0x2b7220&&_0x54bb61[_0x6d86e7(0x1ba)]!==_0x6d86e7(0x207)),_0x433840=_0x27f5a1[_0x6d86e7(0x232)](_0x7cbf6e=>({'i':_0x7cbf6e['id'],'c':_0x7cbf6e[_0x6d86e7(0x1cc)],'s':_0x7cbf6e[_0x6d86e7(0x150)],'e':_0x7cbf6e[_0x6d86e7(0x18e)],'st':_0x7cbf6e[_0x6d86e7(0x1ba)],'n':_0x7cbf6e[_0x6d86e7(0x1fb)],'sid':_0x7cbf6e[_0x6d86e7(0x173)]}));return{'date':_0x2b7220,'day_data':_0x433840};});if(_0x5d15ff[_0x31c7d0(0x115)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x5d15ff[_0x31c7d0(0x115)]+_0x31c7d0(0x198)),await this[_0x31c7d0(0xbc)]('batch_sync',{'changes':_0x5d15ff});}};async function init(){const _0x3b038f=a2_0x46b829;DataManager[_0x3b038f(0xc3)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x3b038f(0x1ff))[_0x3b038f(0x172)](_0x3b038f(0x1b7),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3b038f(0xcc)]()[_0x3b038f(0x116)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x3b038f(0x216)](_0x144b31=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x2c1c89=a2_0x46b829;return Date['now']()[_0x2c1c89(0x19b)](0x24)+Math[_0x2c1c89(0x1e6)]()[_0x2c1c89(0x19b)](0x24)[_0x2c1c89(0x171)](0x2,0x5);}function toggleSeriesInput(){const _0x4d5f13=a2_0x46b829,_0x330343=document['getElementById']('inpRecurring')[_0x4d5f13(0xea)],_0x41a614=document['getElementById'](_0x4d5f13(0x153));_0x41a614['style'][_0x4d5f13(0x127)]=_0x330343?'block':_0x4d5f13(0x1ce);const _0x429c5a=document['getElementById'](_0x4d5f13(0x1c1));_0x429c5a[_0x4d5f13(0xda)][_0x4d5f13(0x144)]=_0x330343?_0x4d5f13(0x13a):_0x4d5f13(0x15a);}function openAddSession(_0x225a24){const _0x1b33a7=a2_0x46b829;editingId=null,populateClientSelect(),document[_0x1b33a7(0x165)](_0x1b33a7(0x192))['textContent']=_0x1b33a7(0x11e),document[_0x1b33a7(0x165)](_0x1b33a7(0x1fc))['style'][_0x1b33a7(0x127)]=_0x1b33a7(0x1ce),document[_0x1b33a7(0x165)](_0x1b33a7(0xce))[_0x1b33a7(0xda)]['display']=_0x1b33a7(0x1ce);const _0x5a1a3e=document['getElementById'](_0x1b33a7(0x1c1)),_0x2aa1de=document[_0x1b33a7(0x165)](_0x1b33a7(0x153));_0x5a1a3e[_0x1b33a7(0xda)]['display']='flex',_0x5a1a3e[_0x1b33a7(0xda)][_0x1b33a7(0x144)]=_0x1b33a7(0x15a),document[_0x1b33a7(0x165)](_0x1b33a7(0x1d7))[_0x1b33a7(0xea)]=![],document['getElementById'](_0x1b33a7(0xe4))[_0x1b33a7(0x1c2)]=0x4,_0x2aa1de['style'][_0x1b33a7(0x127)]=_0x1b33a7(0x1ce),document[_0x1b33a7(0x165)](_0x1b33a7(0x148))[_0x1b33a7(0x1c2)]=getLocalDateStr(_0x225a24),updateDateDisplay();const _0x48f143=_0x225a24[_0x1b33a7(0x1cd)]();document['getElementById']('inpStart')[_0x1b33a7(0x1c2)]=String(_0x48f143)['padStart'](0x2,'0')+_0x1b33a7(0x1a0),document[_0x1b33a7(0x165)]('inpEnd')[_0x1b33a7(0x1c2)]=String(_0x48f143+0x1)[_0x1b33a7(0x219)](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0xbff98d){const _0x3ef232=a2_0x46b829;editingId=_0xbff98d['id'],populateClientSelect(),document['getElementById'](_0x3ef232(0x192))[_0x3ef232(0x1b5)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById'](_0x3ef232(0x1fc))[_0x3ef232(0xda)]['display']=_0x3ef232(0x1c0);const _0x2603f8=document['getElementById'](_0x3ef232(0xce));_0x2603f8[_0x3ef232(0xda)][_0x3ef232(0x127)]='flex';_0xbff98d[_0x3ef232(0x1ba)]==='completed'?(_0x2603f8[_0x3ef232(0x22f)]=_0x3ef232(0x157),_0x2603f8[_0x3ef232(0x1a7)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x2603f8['className']=_0x3ef232(0x1c3),_0x2603f8[_0x3ef232(0x1a7)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x90c7cd=!!_0xbff98d[_0x3ef232(0x173)];document[_0x3ef232(0x165)](_0x3ef232(0x1c1))['style'][_0x3ef232(0x127)]=_0x3ef232(0x1ce),document[_0x3ef232(0x165)](_0x3ef232(0x153))[_0x3ef232(0xda)][_0x3ef232(0x127)]=_0x3ef232(0x1ce),_0x90c7cd?(document[_0x3ef232(0x165)](_0x3ef232(0x155))[_0x3ef232(0xda)][_0x3ef232(0x127)]='flex',document[_0x3ef232(0x165)]('patternInfoBox')['querySelector'](_0x3ef232(0x1e7))['textContent']=_0x3ef232(0x147)):document['getElementById'](_0x3ef232(0x155))[_0x3ef232(0xda)][_0x3ef232(0x127)]=_0x3ef232(0x1ce),document[_0x3ef232(0x165)]('inpClient')[_0x3ef232(0x1c2)]=_0xbff98d[_0x3ef232(0x126)],document[_0x3ef232(0x165)](_0x3ef232(0x148))[_0x3ef232(0x1c2)]=_0xbff98d[_0x3ef232(0x1b1)],document['getElementById'](_0x3ef232(0x228))[_0x3ef232(0x1c2)]=_0xbff98d[_0x3ef232(0x150)],document['getElementById'](_0x3ef232(0x177))[_0x3ef232(0x1c2)]=_0xbff98d[_0x3ef232(0x18e)],document[_0x3ef232(0x165)]('inpNote')['value']=_0xbff98d[_0x3ef232(0x1fb)]||'',updateDateDisplay(),openSheet(_0x3ef232(0x22a));}async function trySaveSession(){const _0xf4a697=a2_0x46b829,_0x21387c=document[_0xf4a697(0x165)](_0xf4a697(0x188))[_0xf4a697(0x1c2)],_0x3d8a7e=document[_0xf4a697(0x165)](_0xf4a697(0x148))['value'],_0x98e230=document[_0xf4a697(0x165)](_0xf4a697(0x228))[_0xf4a697(0x1c2)],_0x24d5a2=document[_0xf4a697(0x165)](_0xf4a697(0x177))[_0xf4a697(0x1c2)],_0x9fd28d=document[_0xf4a697(0x165)](_0xf4a697(0x1c6))['value'],_0x42d573=document['getElementById']('inpRecurring')[_0xf4a697(0xea)];let _0x4f84b2=0x4;if(_0x42d573){const _0x3d7ab2=parseInt(document['getElementById']('inpSeriesCount')[_0xf4a697(0x1c2)]);if(!_0x3d7ab2||_0x3d7ab2<0x2){showToast(_0xf4a697(0x178),![]);return;}if(_0x3d7ab2>0x64){showToast(_0xf4a697(0x17f),![]);return;}_0x4f84b2=_0x3d7ab2;}const _0x52e89e=clients[_0xf4a697(0x1de)](_0x267708=>_0x267708['name']===_0x21387c);if(!_0x52e89e){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x44df99=validateAppointment(_0x3d8a7e,_0x98e230,_0x24d5a2,editingId,_0x52e89e['id']);if(!_0x44df99[_0xf4a697(0x22b)]){showToast(_0x44df99['msg'],![]);return;}_0x44df99[_0xf4a697(0x154)]&&showToast(_0x44df99[_0xf4a697(0x154)],![]);const _0x2e9b9f={'client':_0x21387c,'clientId':_0x52e89e['id'],'start':_0x98e230,'end':_0x24d5a2,'note':_0x9fd28d,'status':'planned'},_0x2b7ebe=editingId?sessions[_0xf4a697(0x1de)](_0x404630=>_0x404630['id']===editingId):null;if(_0x2b7ebe&&_0x2b7ebe[_0xf4a697(0x173)]){tempSessionData={..._0x2e9b9f,'dateStr':_0x3d8a7e,'id':editingId,'seriesId':_0x2b7ebe[_0xf4a697(0x173)]},openActionSheet(_0xf4a697(0x100));return;}let _0x660f2a=null;if(!editingId)_0x660f2a=_0xf4a697(0x1f8);else{if(_0x2b7ebe){if(String(_0x2b7ebe[_0xf4a697(0x1cc)])!==String(_0x52e89e['id']))console[_0xf4a697(0x19a)](_0xf4a697(0x14d)),NotificationManager[_0xf4a697(0xd6)](_0xf4a697(0x17e),_0x2b7ebe),_0x660f2a=_0xf4a697(0x1f8);else(_0x2b7ebe[_0xf4a697(0x150)]!==_0x98e230||_0x2b7ebe[_0xf4a697(0x18e)]!==_0x24d5a2||_0x2b7ebe[_0xf4a697(0x1b1)]!==_0x3d8a7e)&&(_0x660f2a=_0xf4a697(0x176));}}if(!editingId&&_0x42d573){createBatchSeries(_0x2e9b9f,_0x3d8a7e,_0x4f84b2),NotificationManager[_0xf4a697(0xd6)](_0xf4a697(0x1f8),{..._0x2e9b9f,'dateStr':_0x3d8a7e});return;}lastUserActionTime=Date[_0xf4a697(0xf7)]();const _0x2ab9b7={..._0x2e9b9f,'dateStr':_0x3d8a7e,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2ab9b7),_0x660f2a&&NotificationManager[_0xf4a697(0xd6)](_0x660f2a,_0x2ab9b7);}function toggleSessionStatus(){const _0x396791=a2_0x46b829;lastUserActionTime=Date[_0x396791(0xf7)]();const _0x5eaddc=sessions[_0x396791(0x1de)](_0x351395=>_0x351395['id']===editingId);if(!_0x5eaddc)return;const _0x1bcabf=_0x5eaddc['status']===_0x396791(0xe1)?_0x396791(0x11c):'completed';_0x5eaddc[_0x396791(0x1ba)]=_0x1bcabf,saveSingleSession(_0x5eaddc),_0x1bcabf===_0x396791(0xe1)&&NotificationManager[_0x396791(0xd6)]('complete',_0x5eaddc),showToast(_0x1bcabf===_0x396791(0xe1)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x396791(0x1b8),!![]);}function validateAppointment(_0x3d354d,_0x474eed,_0x263ef0,_0x39a467,_0x2b7ea6){const _0x30e8d4=a2_0x46b829,[_0x2e45c8,_0x553727]=_0x474eed[_0x30e8d4(0x1a3)](':')[_0x30e8d4(0x232)](Number),[_0x256d35,_0x30b94c]=_0x263ef0[_0x30e8d4(0x1a3)](':')[_0x30e8d4(0x232)](Number),_0x21005d=_0x2e45c8*0x3c+_0x553727,_0x1fb0c1=_0x256d35*0x3c+_0x30b94c,_0x2160c1=String(_0x2b7ea6);let _0x21df68=![],_0x5c4195='';for(let _0x1f8745 of sessions){if(_0x1f8745[_0x30e8d4(0x1b1)]!==_0x3d354d)continue;if(_0x1f8745['status']==='cancelled')continue;if(_0x39a467&&String(_0x1f8745['id'])===String(_0x39a467))continue;const [_0x23d9dc,_0x300888]=_0x1f8745[_0x30e8d4(0x150)][_0x30e8d4(0x1a3)](':')['map'](Number),[_0xb03062,_0x4646be]=_0x1f8745[_0x30e8d4(0x18e)][_0x30e8d4(0x1a3)](':')['map'](Number),_0x5b405a=_0x23d9dc*0x3c+_0x300888,_0x421949=_0xb03062*0x3c+_0x4646be;if(Math[_0x30e8d4(0x120)](_0x21005d,_0x5b405a)<Math[_0x30e8d4(0x14c)](_0x1fb0c1,_0x421949)){if(_0x1f8745[_0x30e8d4(0x1cc)]&&String(_0x1f8745[_0x30e8d4(0x1cc)])===_0x2160c1)return{'valid':![],'msg':_0x30e8d4(0x225)+_0x1f8745[_0x30e8d4(0x126)]+_0x30e8d4(0x143)};_0x21df68=!![],_0x5c4195=_0x1f8745[_0x30e8d4(0x126)];}}if(_0x21df68)return{'valid':!![],'warning':_0x30e8d4(0x170)+_0x5c4195};return{'valid':!![]};}function saveSingleSession(_0x9ded0b){const _0x2ef4bd=a2_0x46b829;if(editingId){const _0x18263f=sessions[_0x2ef4bd(0xc4)](_0xa6e0c1=>_0xa6e0c1['id']===editingId);if(_0x18263f!==-0x1)sessions[_0x18263f]=_0x9ded0b;}else sessions[_0x2ef4bd(0x1ad)](_0x9ded0b);afterSaveAction([_0x9ded0b[_0x2ef4bd(0x1b1)]]);}function createBatchSeries(_0x5ed6ca,_0x8e137e,_0x4e0a4d){const _0x1f9dbd=a2_0x46b829,_0x3c9617=generateId(),_0x418ca1=[],_0x3c66b6=[];let _0x57d527=0x0,_0x421046=new Date(_0x8e137e);for(let _0x3b4b8e=0x0;_0x3b4b8e<_0x4e0a4d;_0x3b4b8e++){const _0x18e285=getLocalDateStr(_0x421046),_0x2ba119=validateAppointment(_0x18e285,_0x5ed6ca[_0x1f9dbd(0x150)],_0x5ed6ca[_0x1f9dbd(0x18e)],null,_0x5ed6ca[_0x1f9dbd(0x1cc)]);if(!_0x2ba119['valid'])console['log']('[Series]\x20Skipped\x20'+_0x18e285+':\x20Client\x20already\x20booked'),_0x57d527++;else{const _0x5b176f={..._0x5ed6ca,'id':generateId(),'dateStr':_0x18e285,'seriesId':_0x3c9617};_0x3c66b6[_0x1f9dbd(0x1ad)](_0x5b176f),_0x418ca1['push'](_0x18e285);}_0x421046[_0x1f9dbd(0x13c)](_0x421046[_0x1f9dbd(0x179)]()+0x7);}if(_0x3c66b6['length']===0x0){showToast(_0x1f9dbd(0x15e),![]);return;}sessions[_0x1f9dbd(0x1ad)](..._0x3c66b6),lastUserActionTime=Date['now']();let _0xb468ae=_0x1f9dbd(0x12d)+_0x3c66b6[_0x1f9dbd(0x115)];_0x57d527>0x0&&(_0xb468ae+=_0x1f9dbd(0x19d)+_0x57d527+')'),showToast(_0xb468ae,!![]),afterSaveAction(_0x418ca1);}function updateSeriesBatch(_0x282e11,_0x4a432c){const _0x4e8078=a2_0x46b829,_0x54d098=[],_0x5e0e7b=_0x4a432c[_0x4e8078(0x173)];if(_0x282e11===_0x4e8078(0x1ab)){const _0xb6d0a7={..._0x4a432c,'seriesId':null},_0x3debd3=sessions[_0x4e8078(0xc4)](_0x23b09d=>_0x23b09d['id']===_0x4a432c['id']);if(_0x3debd3!==-0x1)sessions[_0x3debd3]=_0xb6d0a7;_0x54d098['push'](_0xb6d0a7[_0x4e8078(0x1b1)]);}else{if(_0x282e11==='series'){const _0x3edbd2=_0x4a432c[_0x4e8078(0x1b1)];sessions[_0x4e8078(0x145)]((_0x534177,_0x2d9068)=>{const _0x49c338=_0x4e8078;_0x534177['seriesId']===_0x5e0e7b&&_0x534177['dateStr']>=_0x3edbd2&&(sessions[_0x2d9068]={...sessions[_0x2d9068],'start':_0x4a432c['start'],'end':_0x4a432c['end'],'note':_0x4a432c[_0x49c338(0x1fb)],'client':_0x4a432c[_0x49c338(0x126)],'clientId':_0x4a432c[_0x49c338(0x1cc)]},_0x54d098['push'](_0x534177['dateStr']));});}}afterSaveAction(_0x54d098);}function tryDeleteSession(){const _0x2dcaf1=a2_0x46b829,_0x283915=sessions['find'](_0x3fa2bb=>_0x3fa2bb['id']===editingId);if(!_0x283915)return;_0x283915['seriesId']?openActionSheet(_0x2dcaf1(0xe5)):commitDelete('single',_0x283915);}function commitDelete(_0x1723f6,_0x5f41ff){const _0x412ceb=a2_0x46b829;lastUserActionTime=Date[_0x412ceb(0xf7)](),NotificationManager[_0x412ceb(0xd6)](_0x412ceb(0x17e),_0x5f41ff);const _0x504a8a=[];if(_0x1723f6===_0x412ceb(0x1ab))sessions=sessions[_0x412ceb(0x1e4)](_0x28c190=>_0x28c190['id']!==_0x5f41ff['id']),_0x504a8a[_0x412ceb(0x1ad)](_0x5f41ff['dateStr']);else{if(_0x1723f6==='series'){const _0x1dc849=_0x5f41ff['dateStr'],_0x9515da=_0x5f41ff['seriesId'];sessions[_0x412ceb(0x145)](_0x7e8cfc=>{const _0x4b83fd=_0x412ceb;_0x7e8cfc[_0x4b83fd(0x173)]===_0x9515da&&_0x7e8cfc['dateStr']>=_0x1dc849&&_0x504a8a[_0x4b83fd(0x1ad)](_0x7e8cfc[_0x4b83fd(0x1b1)]);}),sessions=sessions[_0x412ceb(0x1e4)](_0x31f2f7=>!(_0x31f2f7['seriesId']===_0x9515da&&_0x31f2f7['dateStr']>=_0x1dc849));}}afterSaveAction(_0x504a8a);}function afterSaveAction(_0x2936e4){const _0x3699b7=a2_0x46b829;DataManager[_0x3699b7(0x137)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3699b7(0x1e5)](_0x2936e4)[_0x3699b7(0x116)](()=>console[_0x3699b7(0x19a)](_0x3699b7(0x222)))['catch'](_0x4e6194=>showToast(_0x3699b7(0x224),![]));}const NotificationManager={'formatDate'(_0x3e6801){const _0x5a8f54=a2_0x46b829,_0x498249=new Date(_0x3e6801),_0x24ac4a={'weekday':_0x5a8f54(0x1bd),'day':_0x5a8f54(0x1d1),'month':_0x5a8f54(0x1bd)};let _0x3eded7=_0x498249[_0x5a8f54(0xbd)](_0x5a8f54(0x21f),_0x24ac4a);return _0x3eded7[_0x5a8f54(0x221)](0x0)['toUpperCase']()+_0x3eded7[_0x5a8f54(0x19c)](0x1);},'getText'(_0x2779ce,_0x5ba356){const _0x5ede15=a2_0x46b829,_0xd62ae0=this[_0x5ede15(0x17c)](_0x5ba356[_0x5ede15(0x1b1)]);switch(_0x2779ce){case _0x5ede15(0x1f8):return _0x5ede15(0x231)+(_0x5ede15(0x168)+_0xd62ae0+'\x0a')+(_0x5ede15(0x184)+_0x5ba356[_0x5ede15(0x150)]+_0x5ede15(0x10c)+_0x5ba356['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x5ede15(0x176):return _0x5ede15(0x205)+_0x5ede15(0x22c)+('<b>‚úÖ\x20'+_0x5ba356[_0x5ede15(0x150)]+'\x20‚Äî\x20'+_0x5ba356[_0x5ede15(0x18e)]+'</b>\x0a\x0a')+(_0x5ede15(0x168)+_0xd62ae0);case _0x5ede15(0x17e):return _0x5ede15(0x213)+(_0x5ede15(0x21e)+_0xd62ae0+'\x20('+_0x5ba356['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x5ede15(0x122):return _0x5ede15(0x12b)+_0x5ede15(0x1dd)+_0x5ede15(0x1f0);default:return'';}},async 'send'(_0x2dfa0b,_0x44547a){const _0x1c7610=a2_0x46b829;console[_0x1c7610(0x19a)]('[Notify]\x20Attempting\x20to\x20send:',_0x2dfa0b,_0x44547a);if(!_0x44547a){console[_0x1c7610(0x1f1)](_0x1c7610(0x174));return;}const _0x574adb=String(_0x44547a['clientId']);console[_0x1c7610(0x19a)]('[Notify]\x20Detected\x20Client\x20ID:',_0x574adb);if(!_0x44547a[_0x1c7610(0x1cc)]||_0x574adb==='undefined'||_0x574adb===_0x1c7610(0x12a)){console['error'](_0x1c7610(0x20a));if(_0x44547a['client']){const _0x5d82a7=clients[_0x1c7610(0x1de)](_0x5a87be=>_0x5a87be[_0x1c7610(0x146)]===_0x44547a['client']);if(_0x5d82a7)return console[_0x1c7610(0x19a)](_0x1c7610(0x113),_0x5d82a7['id']),this['send'](_0x2dfa0b,{..._0x44547a,'clientId':_0x5d82a7['id']});}return;}if(_0x574adb[_0x1c7610(0x115)]<0x5){console['warn'](_0x1c7610(0x10e),_0x574adb);return;}const _0xf507ec=this[_0x1c7610(0x1bc)](_0x2dfa0b,_0x44547a);if(!_0xf507ec){console[_0x1c7610(0x1f1)](_0x1c7610(0x1ed));return;}console[_0x1c7610(0x19a)](_0x1c7610(0xed)+_0x574adb+_0x1c7610(0x142)),DataManager['fetchFromServer'](_0x1c7610(0x16b),{'chatId':_0x574adb,'text':_0xf507ec})[_0x1c7610(0x116)](_0x5e025a=>console[_0x1c7610(0x19a)](_0x1c7610(0x1cb),_0x5e025a))[_0x1c7610(0x216)](_0x4238f7=>console[_0x1c7610(0x1f1)]('[Notify]\x20Network\x20Failed',_0x4238f7));}};function getLocalDateStr(_0x20c9e5){const _0x275836=a2_0x46b829,_0x26adb5=_0x20c9e5[_0x275836(0x214)](),_0x1c92ba=String(_0x20c9e5[_0x275836(0x101)]()+0x1)[_0x275836(0x219)](0x2,'0'),_0x1ed923=String(_0x20c9e5[_0x275836(0x179)]())[_0x275836(0x219)](0x2,'0');return _0x26adb5+'-'+_0x1c92ba+'-'+_0x1ed923;}function getDateStr(_0x333721){const _0x2ed3fa=new Date();return _0x2ed3fa['setDate'](_0x2ed3fa['getDate']()+_0x333721),getLocalDateStr(_0x2ed3fa);}function getStartOfWeek(_0x15eda7){const _0x17535e=a2_0x46b829,_0x15990f=(function(){let _0x462fe4=!![];return function(_0xc27eae,_0x41c708){const _0x2b96d9=_0x462fe4?function(){const _0x52df4f=a2_0x53f2;if(_0x41c708){const _0x3bdc7f=_0x41c708[_0x52df4f(0x230)](_0xc27eae,arguments);return _0x41c708=null,_0x3bdc7f;}}:function(){};return _0x462fe4=![],_0x2b96d9;};}()),_0x52adda=_0x15990f(this,function(){const _0x27c98f=a2_0x53f2;return _0x52adda[_0x27c98f(0x19b)]()[_0x27c98f(0x1ea)](_0x27c98f(0x227))[_0x27c98f(0x19b)]()[_0x27c98f(0x19e)](_0x52adda)[_0x27c98f(0x1ea)](_0x27c98f(0x227));});_0x52adda();const _0x232a2=new Date(_0x15eda7),_0xa4ba9e=_0x232a2['getDay'](),_0x12089a=_0x232a2[_0x17535e(0x179)]()-_0xa4ba9e+(_0xa4ba9e===0x0?-0x6:0x1);return _0x232a2[_0x17535e(0x13c)](_0x12089a),_0x232a2['setHours'](0x0,0x0,0x0,0x0),_0x232a2;}function hexToRgba(_0x202a56,_0x169646){const _0x7a702c=a2_0x46b829;if(!_0x202a56)return _0x7a702c(0x21c);let _0x2c32f3=0x0,_0x53b0d3=0x0,_0x4c7ab6=0x0;if(_0x202a56['length']===0x4)_0x2c32f3='0x'+_0x202a56[0x1]+_0x202a56[0x1],_0x53b0d3='0x'+_0x202a56[0x2]+_0x202a56[0x2],_0x4c7ab6='0x'+_0x202a56[0x3]+_0x202a56[0x3];else _0x202a56[_0x7a702c(0x115)]===0x7&&(_0x2c32f3='0x'+_0x202a56[0x1]+_0x202a56[0x2],_0x53b0d3='0x'+_0x202a56[0x3]+_0x202a56[0x4],_0x4c7ab6='0x'+_0x202a56[0x5]+_0x202a56[0x6]);return _0x7a702c(0x119)+ +_0x2c32f3+',\x20'+ +_0x53b0d3+',\x20'+ +_0x4c7ab6+',\x20'+_0x169646+')';}function renderTimeColumn(){const _0x2b4ffa=a2_0x46b829,_0x127d0f=document[_0x2b4ffa(0x165)]('timeColumn'),_0x5dbcb4=document[_0x2b4ffa(0x165)](_0x2b4ffa(0x15f));_0x127d0f[_0x2b4ffa(0x1a7)]='',_0x127d0f[_0x2b4ffa(0x1a2)](_0x5dbcb4);for(let _0x3df24=0x0;_0x3df24<0x18;_0x3df24++){const _0x3c8cdd=document[_0x2b4ffa(0x162)](_0x2b4ffa(0x182));_0x3c8cdd['className']=_0x2b4ffa(0x1c7);if(_0x3df24>0x0)_0x3c8cdd[_0x2b4ffa(0x1a7)]=_0x2b4ffa(0x17b)+String(_0x3df24)['padStart'](0x2,'0')+_0x2b4ffa(0x1b6);_0x127d0f[_0x2b4ffa(0x1a2)](_0x3c8cdd);}}function renderDayRange(_0x404385,_0x3cb05d){const _0x47683e=a2_0x46b829,_0x29b40b=document['getElementById'](_0x47683e(0x133)),_0x1f807a=document[_0x47683e(0x165)]('gridColumns'),_0x567b46=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x310614=new Date();_0x310614[_0x47683e(0x166)](0x0,0x0,0x0,0x0);const _0x37599a=getLocalDateStr(new Date());for(let _0x56e17f=_0x404385;_0x56e17f<=_0x3cb05d;_0x56e17f++){const _0x567681=new Date(_0x310614);_0x567681[_0x47683e(0x13c)](_0x567681[_0x47683e(0x179)]()+_0x56e17f);const _0x2d41a9=getLocalDateStr(_0x567681);let _0xcc2d06=_0x567681['getDay']()-0x1;if(_0xcc2d06===-0x1)_0xcc2d06=0x6;const _0x520903=_0x2d41a9===_0x37599a,_0x255b86=document[_0x47683e(0x162)](_0x47683e(0x182));_0x255b86[_0x47683e(0x22f)]=_0x47683e(0xc2)+(_0x520903?'today':''),_0x255b86['id']='header-'+_0x2d41a9,_0x255b86['setAttribute']('data-date',_0x2d41a9),_0x255b86['innerHTML']=_0x47683e(0x16e)+_0x567b46[_0xcc2d06]+_0x47683e(0xf6)+_0x567681['getDate']()+_0x47683e(0xfe)+_0x2d41a9+_0x47683e(0x19f),_0x255b86[_0x47683e(0x1dc)]=()=>openDayOptions(_0x2d41a9,_0x567b46[_0xcc2d06]+'\x20'+_0x567681[_0x47683e(0x179)]()),_0x29b40b['appendChild'](_0x255b86);const _0x4275f6=document[_0x47683e(0x162)](_0x47683e(0x182));_0x4275f6['className']=_0x47683e(0x15b)+(_0x520903?_0x47683e(0x1e9):''),_0x4275f6[_0x47683e(0x1c8)]('data-date',_0x2d41a9),_0x4275f6[_0x47683e(0x1c8)](_0x47683e(0x1eb),_0xcc2d06),renderEventsForColumn(_0x4275f6,_0x2d41a9,_0xcc2d06),attachLongPressHandler(_0x4275f6,_0x567681),_0x1f807a['appendChild'](_0x4275f6),updateDayStats(_0x2d41a9);}}function reRenderBlocks(){const _0x1c32f7=a2_0x46b829;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x1c32f7(0x145)](_0x582221=>{const _0x21bbb1=_0x1c32f7;_0x582221[_0x21bbb1(0x16f)](_0x21bbb1(0x201))[_0x21bbb1(0x145)](_0x5e1cd0=>_0x5e1cd0['remove']());const _0xc3e140=_0x582221['getAttribute']('data-date'),_0x2859aa=parseInt(_0x582221['getAttribute'](_0x21bbb1(0x1eb))),_0x555ee0=Math['round'](_0x582221[_0x21bbb1(0x181)]);(availabilityPattern[_0x2859aa]||[])[_0x21bbb1(0x145)](_0x2876dc=>{const _0x238894=_0x21bbb1,_0x3e6a30=document[_0x238894(0x162)](_0x238894(0x182));_0x3e6a30[_0x238894(0x22f)]=_0x238894(0x139);const _0xf74fe8=_0x2876dc*GRID_H;_0x3e6a30['style'][_0x238894(0x18a)]=_0xf74fe8+'px',_0x3e6a30[_0x238894(0xda)][_0x238894(0x233)]='-'+_0x555ee0+_0x238894(0x18c)+_0xf74fe8+'px',_0x582221[_0x238894(0x1a2)](_0x3e6a30);});if(specialRanges&&specialRanges[_0x21bbb1(0x115)]>0x0){const _0xe810a1=new Date(_0xc3e140+_0x21bbb1(0x1ec))[_0x21bbb1(0xe6)](),_0x76ca1c=new Date(_0xc3e140+'T23:59:59')[_0x21bbb1(0xe6)]();specialRanges[_0x21bbb1(0x145)](_0x3f5787=>{const _0x2fb135=_0x21bbb1,_0x3b4318=new Date(_0x3f5787[_0x2fb135(0x150)])[_0x2fb135(0xe6)](),_0x257ba9=new Date(_0x3f5787['end'])[_0x2fb135(0xe6)](),_0xfaf7ab=Math[_0x2fb135(0x120)](_0xe810a1,_0x3b4318),_0x5b5cb9=Math['min'](_0x76ca1c,_0x257ba9);if(_0xfaf7ab<_0x5b5cb9){if(_0xfaf7ab<=_0xe810a1&&_0x5b5cb9>=_0x76ca1c-0xea60){if(!_0x582221[_0x2fb135(0x235)](_0x2fb135(0x105))){const _0x196a38=document[_0x2fb135(0x162)]('div');_0x196a38['className']=_0x2fb135(0x193),_0x196a38[_0x2fb135(0xda)][_0x2fb135(0x233)]='-'+_0x555ee0+_0x2fb135(0x1c9),_0x582221['appendChild'](_0x196a38);}}else{const _0x4ad109=(_0xfaf7ab-_0xe810a1)/0x36ee80*GRID_H,_0x568bb5=(_0x5b5cb9-_0xfaf7ab)/0x36ee80*GRID_H,_0xbf44fe=document[_0x2fb135(0x162)]('div');_0xbf44fe[_0x2fb135(0x22f)]=_0x2fb135(0x1f3),_0xbf44fe[_0x2fb135(0xda)][_0x2fb135(0x18a)]=_0x4ad109+'px',_0xbf44fe['style'][_0x2fb135(0x17d)]=_0x568bb5+'px',_0xbf44fe['style'][_0x2fb135(0x233)]='-'+_0x555ee0+_0x2fb135(0x18c)+_0x4ad109+'px',_0x582221[_0x2fb135(0x1a2)](_0xbf44fe);}}});}if(dateExceptions[_0xc3e140]==='off'){if(!_0x582221[_0x21bbb1(0x235)](_0x21bbb1(0x105))){const _0x32f6ec=document[_0x21bbb1(0x162)]('div');_0x32f6ec[_0x21bbb1(0x22f)]=_0x21bbb1(0x193),_0x32f6ec[_0x21bbb1(0xda)][_0x21bbb1(0x233)]='-'+_0x555ee0+_0x21bbb1(0x1c9),_0x582221[_0x21bbb1(0x1a2)](_0x32f6ec);}}renderEventsForColumn(_0x582221,_0xc3e140,_0x2859aa),updateDayStats(_0xc3e140);});}function updateAllDayStats(){const _0x151037=a2_0x46b829;document[_0x151037(0x16f)](_0x151037(0x1b0))[_0x151037(0x145)](_0x2f689d=>{const _0x5c4fd1=_0x151037;updateDayStats(_0x2f689d[_0x5c4fd1(0x200)](_0x5c4fd1(0x229)));});}function updateDayStats(_0x4de838){const _0x2cd19c=a2_0x46b829,_0x5f2c78=document[_0x2cd19c(0x165)]('stat-'+_0x4de838);if(!_0x5f2c78)return;const _0x4eff4e=new Date(_0x4de838);let _0xb746b5=_0x4eff4e['getDay']()-0x1;if(_0xb746b5===-0x1)_0xb746b5=0x6;if(dateExceptions[_0x4de838]===_0x2cd19c(0x197)){_0x5f2c78[_0x2cd19c(0xda)][_0x2cd19c(0x127)]='none';return;}const _0x5a8766=availabilityPattern[_0xb746b5]||[],_0x522ad0=0x18-_0x5a8766[_0x2cd19c(0x115)],_0xcb209f=_0x522ad0*0x3c,_0x54212b=sessions[_0x2cd19c(0x1e4)](_0x423cfd=>_0x423cfd['dateStr']===_0x4de838&&_0x423cfd[_0x2cd19c(0x1ba)]!=='cancelled');if(_0x54212b[_0x2cd19c(0x115)]===0x0){_0x5f2c78['style'][_0x2cd19c(0x127)]='none';return;}let _0x184379=_0x54212b['map'](_0x56fe86=>{const _0x2d8490=_0x2cd19c,[_0x39edb3,_0x126e58]=_0x56fe86[_0x2d8490(0x150)][_0x2d8490(0x1a3)](':')['map'](Number),[_0x4e285c,_0x66125d]=_0x56fe86[_0x2d8490(0x18e)]['split'](':')[_0x2d8490(0x232)](Number);return[_0x39edb3*0x3c+_0x126e58,_0x4e285c*0x3c+_0x66125d];});_0x184379['sort']((_0x334b05,_0x40e187)=>_0x334b05[0x0]-_0x40e187[0x0]);let _0x2ff138=[];if(_0x184379[_0x2cd19c(0x115)]>0x0){let _0x46550b=_0x184379[0x0];for(let _0x1bb192=0x1;_0x1bb192<_0x184379[_0x2cd19c(0x115)];_0x1bb192++){_0x184379[_0x1bb192][0x0]<_0x46550b[0x1]?_0x46550b[0x1]=Math[_0x2cd19c(0x120)](_0x46550b[0x1],_0x184379[_0x1bb192][0x1]):(_0x2ff138[_0x2cd19c(0x1ad)](_0x46550b),_0x46550b=_0x184379[_0x1bb192]);}_0x2ff138['push'](_0x46550b);}let _0x31c317=0x0;_0x2ff138[_0x2cd19c(0x145)](_0x3c8b51=>_0x31c317+=_0x3c8b51[0x1]-_0x3c8b51[0x0]),_0x5f2c78[_0x2cd19c(0xda)][_0x2cd19c(0x127)]=_0x2cd19c(0xfa);const _0x581917=_0x5f2c78[_0x2cd19c(0x235)](_0x2cd19c(0x13d));if(_0xcb209f===0x0){_0x581917[_0x2cd19c(0xda)][_0x2cd19c(0xf1)]=_0x2cd19c(0x1ef),_0x581917[_0x2cd19c(0xda)]['background']=_0x2cd19c(0x11f);return;}const _0x73d024=_0x31c317/_0xcb209f*0x64;console['log']('['+_0x4de838+_0x2cd19c(0x167)+_0x522ad0+_0x2cd19c(0x22d)+_0x31c317+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x73d024['toFixed'](0x1)+'%'),_0x73d024>0x64?(_0x581917['style'][_0x2cd19c(0xf1)]=_0x2cd19c(0x1ef),_0x581917[_0x2cd19c(0xda)][_0x2cd19c(0x1f2)]=_0x2cd19c(0x11f)):(_0x581917[_0x2cd19c(0xda)][_0x2cd19c(0xf1)]=_0x73d024+'%',_0x581917[_0x2cd19c(0xda)][_0x2cd19c(0x1f2)]=_0x2cd19c(0xf4));}function renderEventsForColumn(_0x1f5af8,_0x52f2c6,_0x28f63){const _0x15c559=a2_0x46b829,_0x1d98fe=sessions[_0x15c559(0x1e4)](_0x28c1a0=>_0x28c1a0[_0x15c559(0x1b1)]===_0x52f2c6),_0x382271=_0x1d98fe['map'](_0x304f14=>{const _0x40aa9d=_0x15c559,[_0x462ee0,_0x47792d]=_0x304f14[_0x40aa9d(0x150)][_0x40aa9d(0x1a3)](':')[_0x40aa9d(0x232)](Number),[_0x3d4526,_0x18d212]=_0x304f14['end'][_0x40aa9d(0x1a3)](':')['map'](Number);return{'data':_0x304f14,'start':_0x462ee0*0x3c+_0x47792d,'end':_0x3d4526*0x3c+_0x18d212,'colIndex':0x0};});_0x382271[_0x15c559(0xd0)]((_0x5acbec,_0x4b5a61)=>{const _0x3ee1eb=_0x15c559;if(_0x5acbec[_0x3ee1eb(0x150)]!==_0x4b5a61['start'])return _0x5acbec[_0x3ee1eb(0x150)]-_0x4b5a61[_0x3ee1eb(0x150)];return _0x4b5a61[_0x3ee1eb(0x18e)]-_0x4b5a61[_0x3ee1eb(0x150)]-(_0x5acbec[_0x3ee1eb(0x18e)]-_0x5acbec[_0x3ee1eb(0x150)]);});const _0x51c545=[];_0x382271['forEach'](_0x3ee61c=>{const _0x431737=_0x15c559;let _0x4accae=![];for(let _0x5bd7d9=0x0;_0x5bd7d9<_0x51c545[_0x431737(0x115)];_0x5bd7d9++){const _0x13b6ec=_0x51c545[_0x5bd7d9],_0xceb56c=_0x13b6ec[_0x13b6ec['length']-0x1];if(_0x3ee61c[_0x431737(0x150)]>=_0xceb56c[_0x431737(0x18e)]){_0x13b6ec[_0x431737(0x1ad)](_0x3ee61c),_0x3ee61c[_0x431737(0xfb)]=_0x5bd7d9,_0x4accae=!![];break;}}!_0x4accae&&(_0x51c545[_0x431737(0x1ad)]([_0x3ee61c]),_0x3ee61c[_0x431737(0xfb)]=_0x51c545[_0x431737(0x115)]-0x1);}),_0x382271[_0x15c559(0x145)](_0x1a7a0e=>{const _0x550cf4=_0x15c559;let _0x58cf51=0x0;_0x382271[_0x550cf4(0x145)](_0xbfede3=>{const _0x17b3c1=_0x550cf4;if(Math[_0x17b3c1(0x120)](_0x1a7a0e[_0x17b3c1(0x150)],_0xbfede3[_0x17b3c1(0x150)])<Math[_0x17b3c1(0x14c)](_0x1a7a0e[_0x17b3c1(0x18e)],_0xbfede3['end'])){if(_0xbfede3[_0x17b3c1(0xfb)]>_0x58cf51)_0x58cf51=_0xbfede3[_0x17b3c1(0xfb)];}});const _0x14d5de=_0x58cf51+0x1,_0x3d22be=0x64/_0x14d5de,_0x567a64=_0x1a7a0e[_0x550cf4(0xfb)]*_0x3d22be,_0x15e873=createEventEl(_0x1a7a0e[_0x550cf4(0xcb)]);_0x15e873[_0x550cf4(0xda)]['width']=_0x550cf4(0x203)+_0x3d22be+_0x550cf4(0x226),_0x15e873[_0x550cf4(0xda)]['left']=_0x550cf4(0x203)+_0x567a64+'%\x20+\x202px)',_0x15e873['style']['zIndex']=0xa+_0x1a7a0e[_0x550cf4(0xfb)],_0x3d22be<0x55&&_0x15e873['classList'][_0x550cf4(0xc9)](_0x550cf4(0xf2)),_0x1f5af8[_0x550cf4(0x1a2)](_0x15e873);});}function createEventEl(_0x109ba5){const _0xdf5d62=a2_0x46b829,[_0x431158,_0x2dd68f]=_0x109ba5[_0xdf5d62(0x150)][_0xdf5d62(0x1a3)](':')['map'](Number),[_0x4eb0e1,_0x5b59f0]=_0x109ba5[_0xdf5d62(0x18e)]['split'](':')[_0xdf5d62(0x232)](Number),_0x16e495=(_0x431158*0x3c+_0x2dd68f)/0x3c*GRID_H,_0x382af5=(_0x4eb0e1*0x3c+_0x5b59f0-(_0x431158*0x3c+_0x2dd68f))/0x3c*GRID_H,_0x5a0de8=document['createElement'](_0xdf5d62(0x182)),_0x175125=_0x109ba5[_0xdf5d62(0x1ba)]===_0xdf5d62(0xe1)?_0xdf5d62(0x152):'';_0x5a0de8[_0xdf5d62(0x22f)]='event-card'+_0x175125,_0x5a0de8[_0xdf5d62(0xda)][_0xdf5d62(0x18a)]=_0x16e495+'px',_0x5a0de8[_0xdf5d62(0xda)][_0xdf5d62(0x17d)]=Math['max'](_0x382af5,0x14)+'px';const _0x1bf4c4=clients[_0xdf5d62(0x1de)](_0x401620=>_0x109ba5[_0xdf5d62(0x1cc)]&&String(_0x401620['id'])===String(_0x109ba5[_0xdf5d62(0x1cc)])||_0x401620[_0xdf5d62(0x146)]===_0x109ba5[_0xdf5d62(0x126)]),_0x4b60d9=_0x1bf4c4?_0x1bf4c4[_0xdf5d62(0x1aa)]:_0xdf5d62(0x10b);_0x5a0de8[_0xdf5d62(0xda)][_0xdf5d62(0x12f)]=_0x4b60d9,_0x5a0de8[_0xdf5d62(0xda)][_0xdf5d62(0xc1)]=hexToRgba(_0x4b60d9,0.85);let _0x24f324='<div\x20class=\x22ev-title\x22>'+_0x109ba5['client']+_0xdf5d62(0x1d0)+_0x109ba5[_0xdf5d62(0x150)]+_0xdf5d62(0x159)+_0x109ba5[_0xdf5d62(0x18e)]+_0xdf5d62(0x1c5);return _0x109ba5[_0xdf5d62(0x173)]&&(_0x24f324+=_0xdf5d62(0xde)),_0x109ba5[_0xdf5d62(0x1ba)]===_0xdf5d62(0xe1)&&(_0x24f324+=_0xdf5d62(0x239)),_0x5a0de8[_0xdf5d62(0x1a7)]=_0x24f324,_0x5a0de8[_0xdf5d62(0x1dc)]=_0x34de8d=>{const _0x3dd71b=_0xdf5d62;_0x34de8d[_0x3dd71b(0xd7)](),openEdit(_0x109ba5);},_0x5a0de8;}function attachLongPressHandler(_0x1dcd57,_0x7f5b57){const _0x54c7bd=a2_0x46b829;let _0x12e2ff=0x0,_0x79be39=null;const _0x76afe2=_0x387ba9=>{const _0x23a7fd=a2_0x53f2;if(_0x387ba9[_0x23a7fd(0x209)]['closest'](_0x23a7fd(0x15c)))return;isScrolling=![],_0x12e2ff=_0x387ba9[_0x23a7fd(0xf8)]?_0x387ba9[_0x23a7fd(0xf8)][0x0][_0x23a7fd(0x12c)]:_0x387ba9[_0x23a7fd(0x12c)],_0x79be39=setTimeout(()=>{const _0x52b163=_0x23a7fd;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x12beeb=_0x1dcd57[_0x52b163(0x1db)](),_0x4211aa=Math[_0x52b163(0xc5)]((_0x12e2ff-_0x12beeb[_0x52b163(0x18a)])/GRID_H);_0x7f5b57[_0x52b163(0x166)](_0x4211aa,0x0),openAddSession(_0x7f5b57);}},0x1f4);},_0x2ac3dd=()=>{isScrolling=!![],clearTimeout(_0x79be39);},_0x4d4399=()=>{clearTimeout(_0x79be39);};_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0xbb),_0x76afe2,{'passive':!![]}),_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0x14f),_0x2ac3dd,{'passive':!![]}),_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0x1d2),_0x4d4399),_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0x1da),_0x76afe2),_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0x13f),_0x2ac3dd),_0x1dcd57[_0x54c7bd(0x172)](_0x54c7bd(0x180),_0x4d4399);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4f2a08=a2_0x46b829,_0x2f6905=document[_0x4f2a08(0x165)](_0x4f2a08(0x1ff)),_0x1eaa5f=_0x2f6905[_0x4f2a08(0x20f)],_0x2bf34a=_0x2f6905[_0x4f2a08(0x210)],_0xdef163=_0x2f6905[_0x4f2a08(0xeb)];if(_0x2bf34a-(_0x1eaa5f+_0xdef163)<0x12c){const _0x463113=endOffset;endOffset+=0xe,renderDayRange(_0x463113+0x1,endOffset),reRenderBlocks();}if(_0x1eaa5f<0x12c){const _0x2ea4bb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2ea4bb-0x1),_0x2f6905[_0x4f2a08(0x20f)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x21bb2d,_0x2d3c0b){const _0x8817fd=a2_0x46b829,_0x54dbc9=document['getElementById'](_0x8817fd(0x133)),_0xeeda00=document['getElementById'](_0x8817fd(0xd4)),_0x5611b9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3df954=new Date();_0x3df954['setHours'](0x0,0x0,0x0,0x0);const _0x2c13ff=getLocalDateStr(new Date()),_0x4ae958=document[_0x8817fd(0x1ae)](),_0x438459=document['createDocumentFragment']();for(let _0x4df695=_0x21bb2d;_0x4df695<=_0x2d3c0b;_0x4df695++){const _0x17ac6f=new Date(_0x3df954);_0x17ac6f[_0x8817fd(0x13c)](_0x17ac6f[_0x8817fd(0x179)]()+_0x4df695);const _0x188afa=getLocalDateStr(_0x17ac6f);let _0x35ae28=_0x17ac6f['getDay']()-0x1;if(_0x35ae28===-0x1)_0x35ae28=0x6;const _0x86973c=_0x188afa===_0x2c13ff,_0x490a9b=document[_0x8817fd(0x162)](_0x8817fd(0x182));_0x490a9b[_0x8817fd(0x22f)]=_0x8817fd(0xc2)+(_0x86973c?_0x8817fd(0x1e9):''),_0x490a9b['id']=_0x8817fd(0x16c)+_0x188afa,_0x490a9b[_0x8817fd(0x1c8)](_0x8817fd(0x229),_0x188afa),_0x490a9b['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x5611b9[_0x35ae28]+_0x8817fd(0xf6)+_0x17ac6f['getDate']()+_0x8817fd(0xfe)+_0x188afa+_0x8817fd(0x19f),_0x490a9b[_0x8817fd(0x1dc)]=()=>openDayOptions(_0x188afa,_0x5611b9[_0x35ae28]+'\x20'+_0x17ac6f[_0x8817fd(0x179)]()),_0x4ae958['appendChild'](_0x490a9b);const _0x5e3a3b=document['createElement'](_0x8817fd(0x182));_0x5e3a3b[_0x8817fd(0x22f)]='day-column\x20'+(_0x86973c?_0x8817fd(0x1e9):''),_0x5e3a3b['setAttribute'](_0x8817fd(0x229),_0x188afa),_0x5e3a3b[_0x8817fd(0x1c8)](_0x8817fd(0x1eb),_0x35ae28),renderEventsForColumn(_0x5e3a3b,_0x188afa,_0x35ae28),attachLongPressHandler(_0x5e3a3b,_0x17ac6f),_0x438459[_0x8817fd(0x1a2)](_0x5e3a3b),updateDayStats(_0x188afa);}_0x54dbc9[_0x8817fd(0x138)](_0x4ae958,_0x54dbc9[_0x8817fd(0x1a6)]),_0xeeda00[_0x8817fd(0x138)](_0x438459,_0xeeda00[_0x8817fd(0x235)](_0x8817fd(0x151)));}function validateAppointment(_0x300ece,_0xfa1a15,_0x271fb2,_0x46f868,_0x2ad40d){const _0x141b0a=a2_0x46b829,[_0x4444e0,_0x1887b1]=_0xfa1a15[_0x141b0a(0x1a3)](':')[_0x141b0a(0x232)](Number),[_0x29e3d4,_0x24d14f]=_0x271fb2['split'](':')[_0x141b0a(0x232)](Number),_0x48b75=_0x4444e0*0x3c+_0x1887b1,_0xf60733=_0x29e3d4*0x3c+_0x24d14f,_0x38b256=String(_0x2ad40d);let _0x2ea8c8=![],_0x428a4f='';for(let _0x14537a of sessions){if(_0x14537a['dateStr']!==_0x300ece)continue;if(_0x14537a[_0x141b0a(0x1ba)]===_0x141b0a(0xf9))continue;if(_0x46f868&&String(_0x14537a['id'])===String(_0x46f868))continue;const [_0x3e8f91,_0x278e0d]=_0x14537a['start'][_0x141b0a(0x1a3)](':')['map'](Number),[_0x3dd020,_0x51da6b]=_0x14537a[_0x141b0a(0x18e)]['split'](':')[_0x141b0a(0x232)](Number),_0x2d33bd=_0x3e8f91*0x3c+_0x278e0d,_0x4e50ae=_0x3dd020*0x3c+_0x51da6b;if(Math['max'](_0x48b75,_0x2d33bd)<Math['min'](_0xf60733,_0x4e50ae)){if(_0x14537a[_0x141b0a(0x1cc)]&&String(_0x14537a['clientId'])===_0x38b256)return{'valid':![],'msg':_0x141b0a(0x225)+_0x14537a['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x2ea8c8=!![],_0x428a4f=_0x14537a[_0x141b0a(0x126)];}}if(_0x2ea8c8)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x428a4f};return{'valid':!![]};}function updateDateDisplay(){const _0x301db3=a2_0x46b829,_0x5e5684=document[_0x301db3(0x165)](_0x301db3(0x148))[_0x301db3(0x1c2)],_0x5db153=document[_0x301db3(0x165)](_0x301db3(0x1f9));if(!_0x5e5684){_0x5db153[_0x301db3(0x1b5)]='';return;}const [_0x363f7e,_0xaafd6a,_0x4f488a]=_0x5e5684['split']('-')['map'](Number),_0x4d92c8=new Date(_0x363f7e,_0xaafd6a-0x1,_0x4f488a),_0x3cb262={'weekday':_0x301db3(0x1bd),'day':_0x301db3(0x1d1),'month':_0x301db3(0x1bd),'year':_0x301db3(0x1d1)};let _0x375f7d=_0x4d92c8['toLocaleDateString'](_0x301db3(0x21f),_0x3cb262);_0x375f7d=_0x375f7d[_0x301db3(0x221)](0x0)[_0x301db3(0x11d)]()+_0x375f7d[_0x301db3(0x19c)](0x1),_0x5db153['textContent']=_0x375f7d;}function autoSetEndTime(){const _0x240b4b=a2_0x46b829,_0x470481=document[_0x240b4b(0x165)](_0x240b4b(0x228))[_0x240b4b(0x1c2)];if(!_0x470481)return;const [_0x1e9a07,_0x5f2475]=_0x470481[_0x240b4b(0x1a3)](':')['map'](Number);let _0x1a2a93=_0x1e9a07+0x1;if(_0x1a2a93>0x17)_0x1a2a93=0x0;const _0x58960b=String(_0x1a2a93)[_0x240b4b(0x219)](0x2,'0')+':'+String(_0x5f2475)['padStart'](0x2,'0');document['getElementById'](_0x240b4b(0x177))['value']=_0x58960b;}function populateClientSelect(){const _0x37cccb=a2_0x46b829,_0x326518=document[_0x37cccb(0x165)](_0x37cccb(0x188));_0x326518[_0x37cccb(0x1a7)]='';if(clients[_0x37cccb(0x115)]===0x0){const _0x8ca9ee=document[_0x37cccb(0x162)](_0x37cccb(0x1e3));_0x8ca9ee['text']=_0x37cccb(0xdb),_0x326518[_0x37cccb(0x1a2)](_0x8ca9ee);return;}clients[_0x37cccb(0x145)](_0x4dc40d=>{const _0x18ec10=_0x37cccb,_0x50b92a=document[_0x18ec10(0x162)](_0x18ec10(0x1e3));_0x50b92a[_0x18ec10(0x1c2)]=_0x4dc40d[_0x18ec10(0x146)],_0x50b92a[_0x18ec10(0x1b5)]=_0x4dc40d[_0x18ec10(0x146)],_0x326518[_0x18ec10(0x1a2)](_0x50b92a);});}function openActionSheet(_0x1cbdd0){const _0x57180a=a2_0x46b829,_0x3ad420=document[_0x57180a(0x165)](_0x57180a(0x123)),_0x1b29d3=document['getElementById'](_0x57180a(0xe2)),_0x33358=document[_0x57180a(0x165)]('asTitle'),_0x50df37=document[_0x57180a(0x165)](_0x57180a(0x1f6)),_0x3be290=document[_0x57180a(0x165)](_0x57180a(0x158));_0x1b29d3[_0x57180a(0x13b)][_0x57180a(0xc9)]('active'),_0x3ad420[_0x57180a(0x13b)][_0x57180a(0xc9)](_0x57180a(0xe3));if(_0x1cbdd0===_0x57180a(0x100))_0x33358[_0x57180a(0x1b5)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x50df37[_0x57180a(0x1b5)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x50df37[_0x57180a(0x1dc)]=()=>{const _0x88f429=_0x57180a;closeActionSheet(),updateSeriesBatch(_0x88f429(0x1ab),tempSessionData);},_0x3be290[_0x57180a(0x1b5)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3be290[_0x57180a(0x1dc)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x1cbdd0===_0x57180a(0xe5)&&(_0x33358[_0x57180a(0x1b5)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x50df37['textContent']=_0x57180a(0x11a),_0x50df37[_0x57180a(0x22f)]=_0x57180a(0xcd),_0x50df37[_0x57180a(0x1dc)]=()=>{const _0x42246a=_0x57180a;closeActionSheet(),commitDelete(_0x42246a(0x1ab),sessions['find'](_0x1d2f0d=>_0x1d2f0d['id']===editingId));},_0x3be290['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x3be290[_0x57180a(0x22f)]=_0x57180a(0x156),_0x3be290[_0x57180a(0x1dc)]=()=>{closeActionSheet(),commitDelete('series',sessions['find'](_0x15b4e3=>_0x15b4e3['id']===editingId));});}function closeActionSheet(){const _0x2401aa=a2_0x46b829;document['getElementById'](_0x2401aa(0x123))[_0x2401aa(0x13b)]['remove']('open'),document[_0x2401aa(0x165)](_0x2401aa(0xe2))[_0x2401aa(0x13b)]['remove']('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x1952e0=a2_0x46b829,_0x56b02d=document['getElementById']('settingCancelWindow')[_0x1952e0(0x1c2)];localStorage[_0x1952e0(0x18b)]('uc_settings_cancel_window',_0x56b02d),console[_0x1952e0(0x19a)](_0x1952e0(0x16a),_0x56b02d),DataManager[_0x1952e0(0xbc)](_0x1952e0(0x1f7),{'settings':{'cancel_window':_0x56b02d}})['catch'](_0xed52a2=>{const _0x106ec0=_0x1952e0;console['error']('Save\x20settings\x20error:',_0xed52a2),showToast(_0x106ec0(0xbf),![]);});}function loadCoachSettings(){const _0x1afa06=a2_0x46b829,_0x2b727f=localStorage[_0x1afa06(0x10a)]('uc_settings_cancel_window');_0x2b727f&&(document[_0x1afa06(0x165)](_0x1afa06(0x186))[_0x1afa06(0x1c2)]=_0x2b727f);}function openRangesSheet(){const _0x30a56f=a2_0x46b829;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x30a56f(0x169));}function addRange(){const _0x55319b=a2_0x46b829,_0xa942d9=document[_0x55319b(0x165)](_0x55319b(0x236))[_0x55319b(0x1c2)],_0x4608dd=document['getElementById'](_0x55319b(0xff))[_0x55319b(0x1c2)],_0x4c0d4c=document[_0x55319b(0x165)]('rangeEndDate')['value'],_0x2417b6=document[_0x55319b(0x165)](_0x55319b(0xf3))['value'];if(!_0xa942d9||!_0x4608dd||!_0x4c0d4c||!_0x2417b6)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0xadceb=_0xa942d9+'T'+_0x4608dd,_0x4340f7=_0x4c0d4c+'T'+_0x2417b6;if(_0xadceb>=_0x4340f7)return alert(_0x55319b(0x21d));specialRanges[_0x55319b(0x1ad)]({'start':_0xadceb,'end':_0x4340f7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x55319b(0x137)](),DataManager['fetchFromServer'](_0x55319b(0x1f7),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5ddd34){const _0x15992f=a2_0x46b829;specialRanges['splice'](_0x5ddd34,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x15992f(0x137)](),DataManager[_0x15992f(0xbc)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1d04b3=a2_0x46b829;document[_0x1d04b3(0x165)](_0x1d04b3(0x236))[_0x1d04b3(0x1c2)]='',document[_0x1d04b3(0x165)]('rangeStartTime')['value']=_0x1d04b3(0xb9),document[_0x1d04b3(0x165)]('rangeEndDate')[_0x1d04b3(0x1c2)]='',document[_0x1d04b3(0x165)]('rangeEndTime')['value']=_0x1d04b3(0xd9);}function renderRangesList(){const _0x29ee44=a2_0x46b829,_0x6e69bb=document[_0x29ee44(0x165)](_0x29ee44(0x237));_0x6e69bb[_0x29ee44(0x1a7)]='';if(!specialRanges[_0x29ee44(0x115)]){_0x6e69bb[_0x29ee44(0x1a7)]=_0x29ee44(0x1cf);return;}specialRanges['forEach']((_0x1aa82c,_0x264d3e)=>{const _0x214f70=_0x29ee44,_0x2c5200=document['createElement']('div');_0x2c5200[_0x214f70(0x22f)]=_0x214f70(0x109);const _0x8e8e61=_0x3c508f=>{const _0x2af2c8=_0x214f70,_0x28e74a=new Date(_0x3c508f);return _0x28e74a[_0x2af2c8(0x179)]()+'.'+String(_0x28e74a[_0x2af2c8(0x101)]()+0x1)[_0x2af2c8(0x219)](0x2,'0')+'\x20'+String(_0x28e74a[_0x2af2c8(0x1cd)]())[_0x2af2c8(0x219)](0x2,'0')+':'+String(_0x28e74a[_0x2af2c8(0x141)]())[_0x2af2c8(0x219)](0x2,'0');};_0x2c5200[_0x214f70(0x1a7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x8e8e61(_0x1aa82c[_0x214f70(0x150)])+_0x214f70(0x10c)+_0x8e8e61(_0x1aa82c['end'])+_0x214f70(0xd3)+_0x264d3e+_0x214f70(0x121),_0x6e69bb['appendChild'](_0x2c5200);});}function scrollToToday(){const _0x4ef030=a2_0x46b829,_0x2644ea=getLocalDateStr(new Date()),_0x53e5a5=document[_0x4ef030(0x165)]('header-'+_0x2644ea),_0x275399=document['getElementById']('matrixViewport');if(_0x53e5a5&&_0x275399){const _0x125028=_0x275399[_0x4ef030(0xeb)],_0x2b80f4=_0x53e5a5[_0x4ef030(0x181)],_0x5646b8=_0x53e5a5[_0x4ef030(0xef)];_0x275399[_0x4ef030(0x20f)]=_0x2b80f4-_0x125028/0x2+_0x5646b8/0x2,_0x275399['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x3886a9=a2_0x46b829,_0x10d0af=document[_0x3886a9(0x165)](_0x3886a9(0x1ff)),_0x5bfca7=document[_0x3886a9(0x16f)](_0x3886a9(0x1b0));for(let _0x2641a6 of _0x5bfca7)if(_0x2641a6['offsetLeft']>=_0x10d0af['scrollLeft']){const _0x1c4975=new Date(_0x2641a6[_0x3886a9(0x200)](_0x3886a9(0x229)));document['getElementById'](_0x3886a9(0x16d))[_0x3886a9(0x1b5)]=_0x1c4975['toLocaleString']('ru',{'month':'long'})[_0x3886a9(0x11d)]()+'\x20'+_0x1c4975[_0x3886a9(0x214)]();break;}}function showToast(_0x2be29b,_0x30fcb4=![]){const _0x163019=a2_0x46b829,_0x159bfc=document[_0x163019(0x165)](_0x163019(0x1fe));_0x159bfc[_0x163019(0x22f)]=_0x163019(0xe9)+(_0x30fcb4?_0x163019(0x106):''),document[_0x163019(0x165)](_0x163019(0x14e))[_0x163019(0x1b5)]=_0x30fcb4?_0x163019(0x135):'–ò–Ω—Ñ–æ',document[_0x163019(0x165)](_0x163019(0x215))[_0x163019(0x1b5)]=_0x2be29b,_0x159bfc[_0x163019(0x13b)]['add'](_0x163019(0x20c)),setTimeout(()=>{const _0x405be4=_0x163019;_0x159bfc[_0x405be4(0x13b)][_0x405be4(0xd5)](_0x405be4(0x20c));},0xbb8);}function a2_0x53f2(_0x3a267e,_0x29226a){_0x3a267e=_0x3a267e-0xb9;const _0x3debe0=a2_0x2a54();let _0x5beae0=_0x3debe0[_0x3a267e];return _0x5beae0;}function openDayOptions(_0x41d571,_0x435eb3){const _0x5d42a4=a2_0x46b829;selectedDayForOptions=_0x41d571,document[_0x5d42a4(0x165)](_0x5d42a4(0xfd))['textContent']=_0x435eb3,openSheet(_0x5d42a4(0x1b4));}function toggleDayOff(){const _0x4a8ec1=a2_0x46b829;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4a8ec1(0x197),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x4a8ec1(0x1f7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x204b5f=a2_0x46b829;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x204b5f(0xbc)](_0x204b5f(0x1f7),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x438880){const _0x208291=a2_0x46b829;document[_0x208291(0x165)]('overlay')[_0x208291(0x13b)][_0x208291(0xc9)](_0x208291(0x21a)),document[_0x208291(0x165)](_0x438880)[_0x208291(0x13b)]['add'](_0x208291(0xe3));}function closeAllSheets(){const _0xceb435=a2_0x46b829;document[_0xceb435(0x165)](_0xceb435(0x1d5))['classList'][_0xceb435(0xd5)](_0xceb435(0x21a)),document['querySelectorAll'](_0xceb435(0x1df))[_0xceb435(0x145)](_0x2c7edb=>_0x2c7edb[_0xceb435(0x13b)]['remove'](_0xceb435(0xe3)));}function openPatternEditor(){const _0x110fd7=a2_0x46b829;closeAllSheets(),document[_0x110fd7(0x165)](_0x110fd7(0x10f))[_0x110fd7(0x13b)][_0x110fd7(0xc9)](_0x110fd7(0xe3)),renderPatternEditor();}function closePatternEditor(){const _0x43fba9=a2_0x46b829;document['getElementById'](_0x43fba9(0x10f))[_0x43fba9(0x13b)][_0x43fba9(0xd5)](_0x43fba9(0xe3));}function savePattern(){const _0x28c0a1=a2_0x46b829;document[_0x28c0a1(0x165)](_0x28c0a1(0x10f))[_0x28c0a1(0x13b)][_0x28c0a1(0xd5)](_0x28c0a1(0xe3)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x28c0a1(0xbc)](_0x28c0a1(0x1f7),{'settings':{'pattern':availabilityPattern}});}function a2_0x2a54(){const _0x61b3bc=['getMonth','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','doBusyHours','18ebVGVb','.day-off-overlay','success','total','router.html','range-item','getItem','#0a84ff','\x20‚Äî\x20','strokeDashoffset','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','patternEditor','localeCompare','v9.0-BATCH-CALENDAR','json','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','11sjqgdG','length','then','stringify','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rgba(','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','planned','toUpperCase','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','var(--acc-red)','max',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','complete','actionSheet','init_load','done','client','display','exceptions','custom','null','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','clientY','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','month','borderLeftColor','cancel_window','week','Telegram','daysHeaderTrack','Unknown','–£—Å–ø–µ—à–Ω–æ','3453830oHYBvJ','saveLocally','insertBefore','blocked-slot\x20stripe-bg','10px\x2010px\x200\x200','classList','setDate','.dch-stats-fill','location','mousemove','DOMContentLoaded','getMinutes','...',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','borderRadius','forEach','name','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','inpDate','POST','#050505','getDay','min','[Notify]\x20Client\x20SWAP\x20detected','toastTitle','touchmove','start','.day-column','\x20status-completed','seriesCountContainer','warning','patternInfoBox','as-button\x20danger\x20bold','btn-status-toggle\x20undo-mode','asBtnSeries','\x20-\x20','10px','day-column\x20','.event-card','[API\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','timeLineBadge','doDateHeader','ranges','createElement','uc_clients_v9','anCustomDates','getElementById','setHours',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rangesSheet','[Settings]\x20Cancel\x20window\x20set\x20to:','send_notification','header-','headerMonth','<div\x20class=\x22dch-day\x22>','querySelectorAll','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','substr','addEventListener','seriesId','[Notify]\x20Error:\x20sessionData\x20is\x20null','var(--acc-green)','update','inpEnd','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getDate','Local\x20Load\x20Error','<span>','formatDate','height','cancel','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','mouseup','offsetLeft','div','keys','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settingCancelWindow','indexOf','inpClient','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','top','setItem','px\x20-','16993OLkrvk','end','anStart','1591976POWdwD','entries','sheetTitle','day-off-overlay\x20stripe-bg','uc_settings_v9','disableVerticalSwipes','rgba(255,255,255,0.05)','off','\x20days','round','log','toString','slice','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','constructor','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',':00','doLoadPercent','appendChild','split','anDonutCircle','offClick','firstChild','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','user','color','single','pe-col-header','push','createDocumentFragment','68QHKwoJ','.day-col-header','dateStr','3359466ZEmfjp','uc_sessions_v9','dayOptionsSheet','textContent',':00</span>','scroll','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','pattern','status','btnDayToggle','getText','long','WebApp','Error\x20setting\x20color:','block','recurringOptionContainer','value','btn-status-toggle','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','</div>','inpNote','time-label','setAttribute','px\x200px','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','[Notify]\x20Server\x20Response:','clientId','getHours','none','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','</div><div\x20class=\x22ev-time\x22>','numeric','touchend','rgba(255,\x2069,\x2058,\x200.3)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','overlay','globalTimeLine','inpRecurring','Local\x20Save\x20Error','rgba(255,\x20159,\x2010,\x200.3)','mousedown','getBoundingClientRect','onclick','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','find','.sheet','1700lDvOtj','calendar','client-stat-card','option','filter','syncBatch','random','.pib-text','statLoadCard','today','search','data-day-idx','T00:00:00','[Notify]\x20Error:\x20Text\x20generation\x20failed','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','100%','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','error','background','blocked-range-part\x20stripe-bg','anEnd','\x20–∏–∑\x20','asBtnOne','save_settings','create','sheetDateSubtitle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','note','btnDelete','pe-cell\x20','toast','matrixViewport','getAttribute','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','anPercent','calc(','onClick','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','warn','deleted','pe-time-label','target','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','peGrid','show','all','btn-primary\x20btn-secondary','scrollLeft','scrollWidth','BackButton','3825815GHOSiy','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','getFullYear','toastMessage','catch','201970vDTRiM','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','active','parse','rgba(100,100,100,0.5)','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','ru-RU','analyticsSheet','charAt','Batch\x20Sync\x20OK','Server\x20Error','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','%\x20-\x204px)','(((.+)+)+)+$','inpStart','data-date','sessionSheet','valid','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','.period-switch\x20.p-btn','className','apply','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','map','backgroundPosition','[Sync]\x20Loading\x20','querySelector','rangeStartDate','rangesList','from','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','00:00','initData','touchstart','fetchFromServer','toLocaleDateString','mergeServerData','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','borderColor','backgroundColor','day-col-header\x20','loadLocal','findIndex','floor','var(--acc-orange)','2127aIYxcI','clients','add','setBackgroundColor','data','syncLoad','as-button\x20danger','btnStatusToggle','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','sort','initDataUnsafe','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','gridColumns','remove','send','stopPropagation','doEventsList','23:59','style','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','rgba(48,\x20209,\x2088,\x200.15)','Critical\x20TMA\x20Error:','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','anTotalStats','settings','completed','actionSheetOverlay','open','inpSeriesCount','delete','getTime','#fff','btn-primary\x20btn-danger','toast-notification\x20','checked','clientWidth','Error\x20setting\x20back\x20button:','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','splice','offsetWidth','href','width','mini','rangeEndTime','var(--acc-current)','expand','</div><div\x20class=\x22dch-num\x22>','now','touches','cancelled','flex','colIndex','isArray','dayOptionsTitle','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rangeStartTime','save'];a2_0x2a54=function(){return _0x61b3bc;};return a2_0x2a54();}function renderPatternEditor(){const _0x46163f=a2_0x46b829,_0xf30278=document['getElementById'](_0x46163f(0x20b));_0xf30278[_0x46163f(0x1a7)]='';const _0x28a61b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x848d28=document[_0x46163f(0x162)](_0x46163f(0x182));_0x848d28[_0x46163f(0x22f)]='pe-corner',_0xf30278['appendChild'](_0x848d28),_0x28a61b[_0x46163f(0x145)]((_0x547069,_0x36743a)=>{const _0x43a386=_0x46163f,_0x1567d1=document[_0x43a386(0x162)]('div');_0x1567d1[_0x43a386(0x22f)]=_0x43a386(0x1ac),_0x1567d1[_0x43a386(0x1a7)]=_0x547069+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1567d1['onclick']=()=>toggleColPattern(_0x36743a),_0xf30278[_0x43a386(0x1a2)](_0x1567d1);});for(let _0x35e7bb=0x0;_0x35e7bb<0x18;_0x35e7bb++){const _0x11a728=document[_0x46163f(0x162)](_0x46163f(0x182));_0x11a728[_0x46163f(0x22f)]=_0x46163f(0x208),_0x11a728[_0x46163f(0x1a7)]=_0x46163f(0x1c4)+String(_0x35e7bb)[_0x46163f(0x219)](0x2,'0')+_0x46163f(0x1a0),_0x11a728[_0x46163f(0x1dc)]=()=>toggleRowPattern(_0x35e7bb),_0xf30278['appendChild'](_0x11a728);for(let _0x67e5ee=0x0;_0x67e5ee<0x7;_0x67e5ee++){const _0x1c26e1=document[_0x46163f(0x162)]('div'),_0x13846b=(availabilityPattern[_0x67e5ee]||[])['includes'](_0x35e7bb),_0x178a76=!_0x13846b;_0x1c26e1[_0x46163f(0x22f)]=_0x46163f(0x1fd)+(_0x178a76?'active':''),_0x1c26e1[_0x46163f(0x1dc)]=()=>toggleSinglePattern(_0x67e5ee,_0x35e7bb),_0xf30278[_0x46163f(0x1a2)](_0x1c26e1);}}}function toggleSinglePattern(_0xf49b02,_0x3c6828){const _0x450e5d=a2_0x46b829;if(!availabilityPattern[_0xf49b02])availabilityPattern[_0xf49b02]=[];const _0x180e24=availabilityPattern[_0xf49b02],_0x3f271b=_0x180e24[_0x450e5d(0x187)](_0x3c6828);_0x3f271b===-0x1?_0x180e24[_0x450e5d(0x1ad)](_0x3c6828):_0x180e24[_0x450e5d(0xee)](_0x3f271b,0x1),renderPatternEditor();}function toggleColPattern(_0x4dc926){const _0x221073=a2_0x46b829;if(!availabilityPattern[_0x4dc926])availabilityPattern[_0x4dc926]=[];const _0x2cc9e5=availabilityPattern[_0x4dc926];_0x2cc9e5[_0x221073(0x115)]===0x0?availabilityPattern[_0x4dc926]=Array['from']({'length':0x18},(_0x2acf0b,_0x50d32c)=>_0x50d32c):availabilityPattern[_0x4dc926]=[],renderPatternEditor();}function toggleRowPattern(_0x151ae5){const _0x2d5b4e=a2_0x46b829;let _0x2c1625=!![];for(let _0x4280d2=0x0;_0x4280d2<0x7;_0x4280d2++){if((availabilityPattern[_0x4280d2]||[])['includes'](_0x151ae5)){_0x2c1625=![];break;}}for(let _0x45b6f6=0x0;_0x45b6f6<0x7;_0x45b6f6++){if(!availabilityPattern[_0x45b6f6])availabilityPattern[_0x45b6f6]=[];const _0x52ef3f=availabilityPattern[_0x45b6f6][_0x2d5b4e(0x187)](_0x151ae5);if(_0x2c1625){if(_0x52ef3f===-0x1)availabilityPattern[_0x45b6f6][_0x2d5b4e(0x1ad)](_0x151ae5);}else{if(_0x52ef3f!==-0x1)availabilityPattern[_0x45b6f6][_0x2d5b4e(0xee)](_0x52ef3f,0x1);}}renderPatternEditor();}function renderPCol(_0x576bb7,_0x7faec){const _0x10d86e=a2_0x46b829;_0x576bb7[_0x10d86e(0x1a7)]='';const _0x295aa4=Math[_0x10d86e(0x199)](_0x576bb7[_0x10d86e(0x181)]);(availabilityPattern[_0x7faec]||[])['forEach'](_0x2bf270=>{const _0x20ec05=_0x10d86e,_0x29e27c=document[_0x20ec05(0x162)](_0x20ec05(0x182));_0x29e27c['className']=_0x20ec05(0x139);const _0x4ac323=_0x2bf270*GRID_H;_0x29e27c[_0x20ec05(0xda)][_0x20ec05(0x18a)]=_0x4ac323+'px',_0x29e27c[_0x20ec05(0xda)][_0x20ec05(0x233)]='-'+_0x295aa4+_0x20ec05(0x18c)+_0x4ac323+'px',_0x29e27c[_0x20ec05(0x1dc)]=_0x408bb0=>{const _0x46b781=_0x20ec05;_0x408bb0[_0x46b781(0xd7)](),toggleSinglePattern(_0x7faec,_0x2bf270);},_0x576bb7[_0x20ec05(0x1a2)](_0x29e27c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2cbc96=a2_0x46b829,_0x2960e2=new Date(),_0x43982b=document['getElementById'](_0x2cbc96(0x1d6)),_0x5295b7=document[_0x2cbc96(0x165)](_0x2cbc96(0x15f)),_0x286e0a=(_0x2960e2[_0x2cbc96(0x1cd)]()*0x3c+_0x2960e2['getMinutes']())/0x3c*GRID_H;_0x43982b[_0x2cbc96(0xda)][_0x2cbc96(0x18a)]=_0x286e0a+'px',_0x43982b[_0x2cbc96(0xda)]['display']=_0x2cbc96(0x1c0),_0x5295b7['textContent']=String(_0x2960e2['getHours']())[_0x2cbc96(0x219)](0x2,'0')+':'+String(_0x2960e2['getMinutes']())[_0x2cbc96(0x219)](0x2,'0'),_0x5295b7[_0x2cbc96(0xda)][_0x2cbc96(0x127)]='block',_0x5295b7[_0x2cbc96(0xda)][_0x2cbc96(0x18a)]=_0x286e0a+'px';}document[a2_0x46b829(0x172)](a2_0x46b829(0x140),init);function openDayOptions(_0xa33f15){const _0x199db6=a2_0x46b829;selectedDayForOptions=_0xa33f15;const _0x10812b=new Date(_0xa33f15),_0xdfe1bc={'weekday':_0x199db6(0x1bd),'day':'numeric','month':_0x199db6(0x1bd),'year':_0x199db6(0x1d1)},_0x996e92=_0x10812b[_0x199db6(0xbd)](_0x199db6(0x21f),_0xdfe1bc);document['getElementById'](_0x199db6(0x160))[_0x199db6(0x1b5)]=_0x996e92['charAt'](0x0)[_0x199db6(0x11d)]()+_0x996e92[_0x199db6(0x19c)](0x1);let _0x49dd47=_0x10812b[_0x199db6(0x14b)]()-0x1;if(_0x49dd47===-0x1)_0x49dd47=0x6;const _0x30429d=availabilityPattern[_0x49dd47]||[],_0x565cc5=0x18-_0x30429d[_0x199db6(0x115)],_0xd4d15=_0x565cc5*0x3c,_0x134099=sessions[_0x199db6(0x1e4)](_0x19d70f=>_0x19d70f[_0x199db6(0x1b1)]===_0xa33f15&&_0x19d70f[_0x199db6(0x1ba)]!=='cancelled');let _0x4986c5=_0x134099[_0x199db6(0x232)](_0x3c48a2=>{const _0xdee5d4=_0x199db6,[_0x4cd533,_0x11c4a0]=_0x3c48a2[_0xdee5d4(0x150)][_0xdee5d4(0x1a3)](':')[_0xdee5d4(0x232)](Number),[_0x12c86c,_0x32a45b]=_0x3c48a2[_0xdee5d4(0x18e)][_0xdee5d4(0x1a3)](':')['map'](Number);return[_0x4cd533*0x3c+_0x11c4a0,_0x12c86c*0x3c+_0x32a45b];});_0x4986c5[_0x199db6(0xd0)]((_0x18c9d3,_0xbebf94)=>_0x18c9d3[0x0]-_0xbebf94[0x0]);let _0x25c7ce=[];if(_0x4986c5[_0x199db6(0x115)]>0x0){let _0x3740cb=_0x4986c5[0x0];for(let _0xb4d8cf=0x1;_0xb4d8cf<_0x4986c5[_0x199db6(0x115)];_0xb4d8cf++){_0x4986c5[_0xb4d8cf][0x0]<_0x3740cb[0x1]?_0x3740cb[0x1]=Math[_0x199db6(0x120)](_0x3740cb[0x1],_0x4986c5[_0xb4d8cf][0x1]):(_0x25c7ce['push'](_0x3740cb),_0x3740cb=_0x4986c5[_0xb4d8cf]);}_0x25c7ce['push'](_0x3740cb);}let _0x1de3e4=0x0;_0x25c7ce[_0x199db6(0x145)](_0x1d7ee4=>_0x1de3e4+=_0x1d7ee4[0x1]-_0x1d7ee4[0x0]),document[_0x199db6(0x165)]('doWorkHours')[_0x199db6(0x1b5)]=formatMinsToHrs(_0xd4d15),document['getElementById'](_0x199db6(0x103))[_0x199db6(0x1b5)]=formatMinsToHrs(_0x1de3e4);const _0x42ddb3=_0xd4d15>0x0?Math[_0x199db6(0x199)](_0x1de3e4/_0xd4d15*0x64):0x0,_0x5aa5bd=document[_0x199db6(0x165)](_0x199db6(0x1a1));_0x5aa5bd[_0x199db6(0x1b5)]=_0x42ddb3+'%';const _0x27160d=document[_0x199db6(0x165)](_0x199db6(0x1e8));if(_0x42ddb3>0x64)_0x5aa5bd['style'][_0x199db6(0x1aa)]=_0x199db6(0x11f),_0x27160d['style'][_0x199db6(0xc0)]=_0x199db6(0x1d3);else _0x42ddb3>0x50?(_0x5aa5bd[_0x199db6(0xda)][_0x199db6(0x1aa)]=_0x199db6(0xc6),_0x27160d['style']['borderColor']=_0x199db6(0x1d9)):(_0x5aa5bd[_0x199db6(0xda)][_0x199db6(0x1aa)]=_0x199db6(0x175),_0x27160d[_0x199db6(0xda)][_0x199db6(0xc0)]=_0x199db6(0x196));const _0x1ab494=document[_0x199db6(0x165)](_0x199db6(0xd8));_0x1ab494[_0x199db6(0x1a7)]='';_0x134099[_0x199db6(0x115)]===0x0?_0x1ab494[_0x199db6(0x1a7)]=_0x199db6(0x189):(_0x134099[_0x199db6(0xd0)]((_0x46007f,_0x545335)=>_0x46007f[_0x199db6(0x150)][_0x199db6(0x110)](_0x545335['start'])),_0x134099[_0x199db6(0x145)](_0x5f5497=>{const _0x4bdd1c=_0x199db6,_0x41b128=clients[_0x4bdd1c(0x1de)](_0xdc5949=>_0xdc5949[_0x4bdd1c(0x146)]===_0x5f5497[_0x4bdd1c(0x126)]),_0x493900=_0x41b128?_0x41b128['color']:_0x4bdd1c(0xe7),_0x267a62=_0x5f5497['status']==='completed',_0xbb2f78=_0x267a62?_0x4bdd1c(0x118):'',_0x735d43=document['createElement'](_0x4bdd1c(0x182));_0x735d43[_0x4bdd1c(0x22f)]='de-item',_0x735d43[_0x4bdd1c(0xda)]['borderLeftColor']=_0x493900,_0x735d43[_0x4bdd1c(0x1a7)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x5f5497[_0x4bdd1c(0x150)]+_0x4bdd1c(0x159)+_0x5f5497[_0x4bdd1c(0x18e)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f5497[_0x4bdd1c(0x126)]+_0x4bdd1c(0x185)+_0xbb2f78+_0x4bdd1c(0x1fa),_0x1ab494[_0x4bdd1c(0x1a2)](_0x735d43);}));const _0x11e62c=document[_0x199db6(0x165)](_0x199db6(0x1bb)),_0x22dd83=dateExceptions[_0xa33f15]===_0x199db6(0x197);_0x22dd83?(_0x11e62c[_0x199db6(0x1b5)]=_0x199db6(0x102),_0x11e62c[_0x199db6(0x22f)]=_0x199db6(0x20e),_0x11e62c[_0x199db6(0xda)][_0x199db6(0x1aa)]=_0x199db6(0x175),_0x11e62c[_0x199db6(0xda)][_0x199db6(0x1f2)]=_0x199db6(0xdc)):(_0x11e62c[_0x199db6(0x1b5)]=_0x199db6(0x11b),_0x11e62c[_0x199db6(0x22f)]=_0x199db6(0xe8),_0x11e62c[_0x199db6(0xda)][_0x199db6(0x1aa)]=_0x199db6(0x11f),_0x11e62c[_0x199db6(0xda)][_0x199db6(0x1f2)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x199db6(0x1b4));}let currentAnPeriod=a2_0x46b829(0x131);function openAnalytics(){const _0x38e217=a2_0x46b829,_0x330f80=document[_0x38e217(0x235)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x38e217(0x131),_0x330f80),closeAllSheets(),openSheet(_0x38e217(0x220));}function setAnalyticsPeriod(_0x31465f,_0x531e77){const _0x3a1297=a2_0x46b829;currentAnPeriod=_0x31465f,document[_0x3a1297(0x16f)](_0x3a1297(0x22e))['forEach'](_0x45cca5=>_0x45cca5['classList']['remove']('active'));if(_0x531e77)_0x531e77[_0x3a1297(0x13b)][_0x3a1297(0xc9)](_0x3a1297(0x21a));const _0x10537b=document['getElementById'](_0x3a1297(0x164));_0x10537b[_0x3a1297(0xda)][_0x3a1297(0x127)]=_0x31465f===_0x3a1297(0x129)?'flex':'none';const _0x5ad9fd=new Date();let _0x54f6ab=new Date(),_0x25605c=new Date();if(_0x31465f===_0x3a1297(0x131))_0x54f6ab=getStartOfWeek(_0x5ad9fd),_0x25605c=new Date(_0x54f6ab),_0x25605c[_0x3a1297(0x13c)](_0x25605c[_0x3a1297(0x179)]()+0x6);else{if(_0x31465f===_0x3a1297(0x12e))_0x54f6ab=new Date(_0x5ad9fd['getFullYear'](),_0x5ad9fd[_0x3a1297(0x101)](),0x1),_0x25605c=new Date(_0x5ad9fd[_0x3a1297(0x214)](),_0x5ad9fd[_0x3a1297(0x101)]()+0x1,0x0);else{!document[_0x3a1297(0x165)](_0x3a1297(0x18f))[_0x3a1297(0x1c2)]&&(document[_0x3a1297(0x165)](_0x3a1297(0x18f))[_0x3a1297(0x1c2)]=getLocalDateStr(_0x5ad9fd),document[_0x3a1297(0x165)](_0x3a1297(0x1f4))[_0x3a1297(0x1c2)]=getLocalDateStr(_0x5ad9fd));refreshAnalytics();return;}}document[_0x3a1297(0x165)](_0x3a1297(0x18f))['value']=getLocalDateStr(_0x54f6ab),document[_0x3a1297(0x165)](_0x3a1297(0x1f4))[_0x3a1297(0x1c2)]=getLocalDateStr(_0x25605c),refreshAnalytics();}function refreshAnalytics(){const _0x588a3f=a2_0x46b829,_0x5bdb97=document['getElementById'](_0x588a3f(0x18f))[_0x588a3f(0x1c2)],_0x1615ba=document[_0x588a3f(0x165)](_0x588a3f(0x1f4))['value'];if(!_0x5bdb97||!_0x1615ba)return;const _0x386008=sessions[_0x588a3f(0x1e4)](_0x533047=>_0x533047['dateStr']>=_0x5bdb97&&_0x533047['dateStr']<=_0x1615ba&&_0x533047['status']!==_0x588a3f(0xf9)),_0x7f0677=_0x386008[_0x588a3f(0x115)],_0x1b8771=_0x386008[_0x588a3f(0x1e4)](_0x9f5077=>_0x9f5077['status']==='completed')[_0x588a3f(0x115)],_0x2210b5=_0x7f0677>0x0?Math['round'](_0x1b8771/_0x7f0677*0x64):0x0;document[_0x588a3f(0x165)](_0x588a3f(0x202))[_0x588a3f(0x1b5)]=_0x2210b5+'%',document[_0x588a3f(0x165)](_0x588a3f(0xdf))[_0x588a3f(0x1b5)]=_0x1b8771+_0x588a3f(0x1f5)+_0x7f0677+_0x588a3f(0x1ca);const _0x7fba4b=document[_0x588a3f(0x165)](_0x588a3f(0x1a4)),_0xc03d41=0x2*Math['PI']*0x23,_0x57e289=_0xc03d41-_0x2210b5/0x64*_0xc03d41;_0x7fba4b[_0x588a3f(0xda)][_0x588a3f(0x10d)]=_0x57e289;const _0x57c48d={};_0x386008['forEach'](_0x2ccf65=>{const _0x342fc5=_0x588a3f;if(!_0x57c48d[_0x2ccf65[_0x342fc5(0x126)]]){const _0x7646dc=clients[_0x342fc5(0x1de)](_0x226ce7=>_0x226ce7[_0x342fc5(0x146)]===_0x2ccf65[_0x342fc5(0x126)]);_0x57c48d[_0x2ccf65[_0x342fc5(0x126)]]={'total':0x0,'done':0x0,'color':_0x7646dc?_0x7646dc[_0x342fc5(0x1aa)]:_0x342fc5(0xe7)};}_0x57c48d[_0x2ccf65['client']][_0x342fc5(0x107)]++;if(_0x2ccf65[_0x342fc5(0x1ba)]===_0x342fc5(0xe1))_0x57c48d[_0x2ccf65[_0x342fc5(0x126)]][_0x342fc5(0x125)]++;});const _0x2feb7b=document[_0x588a3f(0x165)]('analyticsList');_0x2feb7b['innerHTML']='';const _0x2cb2f7=Object[_0x588a3f(0x191)](_0x57c48d)[_0x588a3f(0xd0)]((_0x10f9ee,_0x505acb)=>_0x505acb[0x1][_0x588a3f(0x107)]-_0x10f9ee[0x1][_0x588a3f(0x107)]);if(_0x2cb2f7['length']===0x0){_0x2feb7b[_0x588a3f(0x1a7)]=_0x588a3f(0x1ee);return;}_0x2cb2f7[_0x588a3f(0x145)](([_0x48aa95,_0x486368])=>{const _0x1c203c=_0x588a3f,_0x6c24d8=Math['round'](_0x486368[_0x1c203c(0x125)]/_0x486368[_0x1c203c(0x107)]*0x64),_0x47ecc9=document[_0x1c203c(0x162)](_0x1c203c(0x182));_0x47ecc9['className']=_0x1c203c(0x1e2),_0x47ecc9[_0x1c203c(0xda)][_0x1c203c(0x12f)]=_0x486368[_0x1c203c(0x1aa)],_0x47ecc9[_0x1c203c(0x1a7)]=_0x1c203c(0x1d4)+_0x48aa95+_0x1c203c(0x1a8)+_0x486368['done']+'</span>\x20/\x20'+_0x486368[_0x1c203c(0x107)]+_0x1c203c(0xd2)+_0x6c24d8+_0x1c203c(0x218),_0x2feb7b[_0x1c203c(0x1a2)](_0x47ecc9);});}function formatMinsToHrs(_0x1e2492){const _0x3977d5=a2_0x46b829;if(_0x1e2492===0x0)return'0';const _0x3e07d8=Math[_0x3977d5(0xc5)](_0x1e2492/0x3c),_0xa4c3ea=_0x1e2492%0x3c;if(_0xa4c3ea===0x0)return _0x3e07d8+'—á';return _0x3e07d8+'—á\x20'+_0xa4c3ea+'–º';}