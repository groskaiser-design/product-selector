const a2_0x5e3f42=a2_0x3a80;(function(_0x4bd3cf,_0x1f6aa9){const _0xae5843=a2_0x3a80,_0x4197eb=_0x4bd3cf();while(!![]){try{const _0x3b3df7=parseInt(_0xae5843(0x2a4))/0x1+parseInt(_0xae5843(0x299))/0x2*(parseInt(_0xae5843(0x26c))/0x3)+parseInt(_0xae5843(0x294))/0x4+parseInt(_0xae5843(0x320))/0x5*(parseInt(_0xae5843(0x235))/0x6)+-parseInt(_0xae5843(0x252))/0x7*(parseInt(_0xae5843(0x2fe))/0x8)+parseInt(_0xae5843(0x20b))/0x9+-parseInt(_0xae5843(0x2b4))/0xa*(parseInt(_0xae5843(0x202))/0xb);if(_0x3b3df7===_0x1f6aa9)break;else _0x4197eb['push'](_0x4197eb['shift']());}catch(_0x1abd0a){_0x4197eb['push'](_0x4197eb['shift']());}}}(a2_0x110a,0x94991),function initTMA(){const _0x184a63=a2_0x3a80,_0x3abc6b=(function(){let _0x199c49=!![];return function(_0xdaa14f,_0x338b97){const _0x4e7292=_0x199c49?function(){if(_0x338b97){const _0x1bf0f8=_0x338b97['apply'](_0xdaa14f,arguments);return _0x338b97=null,_0x1bf0f8;}}:function(){};return _0x199c49=![],_0x4e7292;};}()),_0xa7bc94=_0x3abc6b(this,function(){const _0x41daf6=a2_0x3a80;return _0xa7bc94[_0x41daf6(0x21b)]()['search']('(((.+)+)+)+$')[_0x41daf6(0x21b)]()['constructor'](_0xa7bc94)[_0x41daf6(0x23b)](_0x41daf6(0x1e8));});_0xa7bc94();try{const _0x1a1aab=window[_0x184a63(0x361)]?.[_0x184a63(0x2d8)];if(!_0x1a1aab)return;_0x1a1aab['ready'](),_0x1a1aab[_0x184a63(0x32e)]();try{_0x1a1aab['setHeaderColor'](_0x184a63(0x352)),_0x1a1aab['setBackgroundColor']&&_0x1a1aab['setBackgroundColor'](_0x184a63(0x352));}catch(_0xb0c2f5){console['log']('Error\x20setting\x20color:',_0xb0c2f5);}try{_0x1a1aab[_0x184a63(0x2fc)]&&(_0x1a1aab[_0x184a63(0x2fc)][_0x184a63(0x220)](),_0x1a1aab['BackButton'][_0x184a63(0x2a0)](),_0x1a1aab[_0x184a63(0x2fc)][_0x184a63(0x2b6)](function(){const _0x3bbc17=_0x184a63;window[_0x3bbc17(0x318)]['href']=_0x3bbc17(0x2d5);}));}catch(_0x30199f){console[_0x184a63(0x25a)](_0x184a63(0x25f),_0x30199f);}try{if(_0x1a1aab[_0x184a63(0x277)])_0x1a1aab['disableVerticalSwipes']();}catch(_0x1988a9){}}catch(_0x33adcc){console[_0x184a63(0x200)](_0x184a63(0x21f),_0x33adcc);}}());function a2_0x110a(){const _0x2e0e44=['</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','dayOptionsSheet','saveLocally','Batch\x20Sync\x20OK','exceptions','parse','3xZqXfy','initData','.event-card','data','ru-RU','–ò–Ω—Ñ–æ','getItem','addEventListener','total','valid','delete','disableVerticalSwipes','Local\x20Load\x20Error','mini','floor','clientId','data-date','zIndex','rangeEndDate','rangeStartTime','textContent','\x20days','vibrate','cancel_window','create','entries','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','rgba(255,\x2069,\x2058,\x200.15)','23:59','syncBatch','formatDate','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','mousemove','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','sort','then','complete','stat-','rgba(255,255,255,0.05)','long','3998108Rekdmk','timeLineBadge',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','...','33574jNMsOy','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','T00:00:00','getMonth','length','single','appendChild','offClick','inpDate','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getAttribute','248467geZGKH','patternInfoBox','toastMessage','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','insertBefore','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','peGrid','pe-corner','split','open','toastTitle','getTime','.day-col-header','getMinutes','toast','toast-notification\x20','20Vzyvdw','mousedown','onClick','settings','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','range-item','blocked-range-part\x20stripe-bg','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','includes','random','uc_settings_cancel_window','<div\x20class=\x22dch-day\x22>','btn-primary\x20btn-danger','100%','now','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','[Notify]\x20Detected\x20Client\x20ID:','note','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','pe-time-label','.sheet','borderLeftColor','flex','</b>\x0a\x0a','block','uc_sessions_v9','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','client','uc_clients_v9','catch','padStart','recurringOptionContainer','router.html','backgroundPosition','null','WebApp','month','sessionSheet','<div\x20class=\x22ev-title\x22>','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','rgba(255,\x20159,\x2010,\x200.3)','anDonutCircle','inpNote','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','time-label','[Notify]\x20Server\x20Response:','status','anStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','doBusyHours','client-stat-card','fetchFromServer','stringify','matrixViewport','actionSheetOverlay','setDate','btnDelete','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rangeEndTime','00:00','doLoadPercent','px\x200px','slice','\x20–∏–∑\x20','seriesId','createElement','setHours','color','inpStart','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','BackButton','var(--acc-red)','16VydQck','touchstart','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','classList',':00','inpSeriesCount','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','borderColor','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20‚Äî\x20','stopPropagation','doWorkHours','rgba(100,100,100,0.5)','colIndex','completed','cancelled','push','div','clients','as-button\x20danger\x20bold','day-col-header\x20','event-card','sheetTitle','anCustomDates','.day-column','setMonth','location','warning','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','createDocumentFragment','actionSheet','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','5ePEjWI','data-day-idx','inpRecurring','dateStr','T23:59:59','start','[Series]\x20Skipped\x20','find','init_load','send_notification','anPercent','initDataUnsafe','[Settings]\x20Cancel\x20window\x20set\x20to:','name','expand','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','</div><div\x20class=\x22dch-num\x22>','header-','option','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','dayOptionsTitle','rangesSheet','#fff','clientY','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','var(--acc-orange)','getElementById','scroll','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Notify]\x20Error:\x20Text\x20generation\x20failed','inpClient','save_settings','background','end','de-item','innerHTML','10px','inpEnd','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','toUpperCase','rangesList','gridColumns','anTotalStats','%\x20-\x204px)','send','left','btn-status-toggle\x20undo-mode','calc(','user','#050505','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','Save\x20settings\x20error:','</div>','localeCompare','round','charAt','cancel','isArray','numeric','firstChild','display','btnStatusToggle','borderRadius','Local\x20Save\x20Error','Telegram','splice','startsWith','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','getBoundingClientRect','syncLoad','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','onclick','strokeDashoffset','(((.+)+)+)+$','–£—Å–ø–µ—à–Ω–æ','top','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','series','[Sync]\x20Loading\x20','update','touchmove','overlay','doEventsList','touchend','none','querySelectorAll','scrollLeft','analyticsList','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','rangeStartDate','headerMonth','Server\x20Error','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','pattern','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','done','error','checked','2177483xKNROf','min','save','anEnd','–£–¥–∞–ª–µ–Ω–∏–µ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','setItem','week','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','4254111gxgkhY','height','10px\x2010px\x200\x200','getHours','planned','today','deleted','width','guest','\x20status-completed','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','pe-col-header','remove','mergeServerData','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','filter','toString','getDay','rgba(','closest','Critical\x20TMA\x20Error:','show','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','px\x20-','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','json','className',':\x20Client\x20already\x20booked','target','toLocaleDateString','settingsSheet','blocked-slot\x20stripe-bg','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','findIndex','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','querySelector','offsetLeft','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn-primary\x20btn-secondary','.pib-text','getFullYear','add','2343234PtEZhC','active','statLoadCard','settingCancelWindow','uc_settings_v9','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','search','day-column\x20','ranges','[API\x20','map','#gridColumns\x20.day-column','mouseup','.day-off-overlay','value','style','warn','forEach','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','from','POST','setAttribute','text/plain;charset=UTF-8','clientWidth','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','daysHeaderTrack','timeColumn','3932026KHZWKo','asBtnOne','seriesCountContainer','custom','getDate','#0a84ff','btnDayToggle','asBtnSeries','log','rgba(255,\x2069,\x2058,\x200.3)','.period-switch\x20.p-btn','toFixed','backgroundColor','Error\x20setting\x20back\x20button:','\x20-\x20','sheetDateSubtitle','calendar','off','max','touches'];a2_0x110a=function(){return _0x2e0e44;};return a2_0x110a();}function isAdmin(){const _0x3cb90c=a2_0x3a80;try{const _0x4eedd1=Number(window[_0x3cb90c(0x361)]?.[_0x3cb90c(0x2d8)]?.['initDataUnsafe']?.[_0x3cb90c(0x351)]?.['id']);return _0x4eedd1===0xbaf7174;}catch(_0x57ea5f){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5e3f42(0x306),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x5e3f42(0x2d1),KEY_SESSIONS=a2_0x5e3f42(0x2ce),KEY_SETTINGS=a2_0x5e3f42(0x239);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1a652d=a2_0x5e3f42;return window[_0x1a652d(0x361)]?.[_0x1a652d(0x2d8)]?.[_0x1a652d(0x32b)]?.[_0x1a652d(0x351)]?.['id']||_0x1a652d(0x213);},'saveLocally'(){const _0x18f127=a2_0x5e3f42;try{localStorage[_0x18f127(0x208)](KEY_CLIENTS,JSON[_0x18f127(0x2ea)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x18f127(0x2ea)](sessions)),localStorage[_0x18f127(0x208)](KEY_SETTINGS,JSON[_0x18f127(0x2ea)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x9005ce){console[_0x18f127(0x200)](_0x18f127(0x360),_0x9005ce);}},'loadLocal'(){const _0x1b2970=a2_0x5e3f42;try{const _0x57c7ba=localStorage[_0x1b2970(0x272)](KEY_CLIENTS);if(_0x57c7ba)clients=JSON[_0x1b2970(0x26b)](_0x57c7ba);const _0xde1705=localStorage[_0x1b2970(0x272)](KEY_SESSIONS);if(_0xde1705)sessions=JSON['parse'](_0xde1705);const _0x39b48b=localStorage[_0x1b2970(0x272)](KEY_SETTINGS);if(_0x39b48b){const _0x3943b1=JSON[_0x1b2970(0x26b)](_0x39b48b);if(_0x3943b1[_0x1b2970(0x1fd)])availabilityPattern=_0x3943b1['pattern'];if(_0x3943b1[_0x1b2970(0x26a)])dateExceptions=_0x3943b1[_0x1b2970(0x26a)];if(_0x3943b1[_0x1b2970(0x23d)])specialRanges=_0x3943b1['ranges'];}else{for(let _0x3f5de9=0x0;_0x3f5de9<0x7;_0x3f5de9++)availabilityPattern[_0x3f5de9]=Array[_0x1b2970(0x249)]({'length':0xc},(_0x4b947b,_0x1c5834)=>_0x1c5834+0x9);}}catch(_0x444003){console[_0x1b2970(0x200)](_0x1b2970(0x278),_0x444003);}},async 'fetchFromServer'(_0x2730d3,_0x26b544={}){const _0xc9e6af=a2_0x5e3f42,_0x4b4d2e=window['Telegram']?.['WebApp'],_0x34f93e={'action':_0x2730d3,'init_data':_0x4b4d2e?.[_0xc9e6af(0x26d)]||'',..._0x26b544};try{const _0x5f4260=await fetch(API_URL,{'method':_0xc9e6af(0x24a),'headers':{'Content-Type':_0xc9e6af(0x24c)},'body':JSON[_0xc9e6af(0x2ea)](_0x34f93e)}),_0x37217b=await _0x5f4260[_0xc9e6af(0x224)]();if(!_0x37217b['ok'])throw new Error(_0x37217b[_0xc9e6af(0x200)]||_0xc9e6af(0x1fa));return _0x37217b['data'];}catch(_0x41283b){console[_0xc9e6af(0x200)](_0xc9e6af(0x23e)+_0x2730d3+']\x20Failed:',_0x41283b);throw _0x41283b;}},async 'syncLoad'(){const _0x2fe015=a2_0x5e3f42,_0x1a1a6c=new Date(),_0x3814a0=_0x1a1a6c[_0x2fe015(0x233)]()+'-'+String(_0x1a1a6c[_0x2fe015(0x29c)]()+0x1)[_0x2fe015(0x2d3)](0x2,'0'),_0x5ef605=new Date(_0x1a1a6c);_0x5ef605[_0x2fe015(0x317)](_0x1a1a6c['getMonth']()+0x1);const _0xc971f5=_0x5ef605[_0x2fe015(0x233)]()+'-'+String(_0x5ef605[_0x2fe015(0x29c)]()+0x1)[_0x2fe015(0x2d3)](0x2,'0'),_0x8d1e42=Date[_0x2fe015(0x2c2)]();console[_0x2fe015(0x25a)](_0x2fe015(0x1ed)+_0x3814a0+',\x20'+_0xc971f5+_0x2fe015(0x298));try{const [_0x6a51e0,_0x26fc26]=await Promise['all']([this[_0x2fe015(0x2e9)](_0x2fe015(0x328),{'month_str':_0x3814a0}),this[_0x2fe015(0x2e9)](_0x2fe015(0x328),{'month_str':_0xc971f5})]);if(lastUserActionTime>_0x8d1e42)return console[_0x2fe015(0x245)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x2fe015(0x218)](_0x6a51e0,_0x3814a0),this[_0x2fe015(0x218)](_0x26fc26,_0xc971f5),this[_0x2fe015(0x268)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x430f46){console['error'](_0x430f46);throw _0x430f46;}},'mergeServerData'(_0x5ad1be,_0x553eb3){const _0x3d214a=a2_0x5e3f42;if(!_0x5ad1be)return;_0x5ad1be[_0x3d214a(0x310)]&&Array[_0x3d214a(0x35a)](_0x5ad1be['clients'])&&(clients=_0x5ad1be[_0x3d214a(0x310)]);if(_0x5ad1be[_0x3d214a(0x2b7)]){if(_0x5ad1be[_0x3d214a(0x2b7)]['pattern'])availabilityPattern=_0x5ad1be[_0x3d214a(0x2b7)][_0x3d214a(0x1fd)];if(_0x5ad1be['settings'][_0x3d214a(0x26a)])dateExceptions=_0x5ad1be[_0x3d214a(0x2b7)][_0x3d214a(0x26a)];if(_0x5ad1be[_0x3d214a(0x2b7)][_0x3d214a(0x23d)])specialRanges=_0x5ad1be['settings'][_0x3d214a(0x23d)];if(_0x5ad1be[_0x3d214a(0x2b7)][_0x3d214a(0x283)]){localStorage['setItem'](_0x3d214a(0x2be),_0x5ad1be[_0x3d214a(0x2b7)][_0x3d214a(0x283)]);const _0x48539c=document[_0x3d214a(0x33b)](_0x3d214a(0x238));if(_0x48539c)_0x48539c[_0x3d214a(0x243)]=_0x5ad1be[_0x3d214a(0x2b7)]['cancel_window'];}}_0x5ad1be[_0x3d214a(0x262)]&&(sessions=sessions[_0x3d214a(0x21a)](_0x4fee47=>!_0x4fee47[_0x3d214a(0x323)][_0x3d214a(0x363)](_0x553eb3)),Object['keys'](_0x5ad1be['calendar'])[_0x3d214a(0x246)](_0x12835a=>{const _0x221043=_0x3d214a,_0x3516af=_0x5ad1be[_0x221043(0x262)][_0x12835a];_0x3516af[_0x221043(0x246)](_0x27e07a=>{const _0x395bd4=_0x221043,_0x523bbf=clients['find'](_0x559487=>String(_0x559487['id'])===String(_0x27e07a['c']));sessions[_0x395bd4(0x30e)]({'id':_0x27e07a['i'],'clientId':_0x27e07a['c'],'client':_0x523bbf?_0x523bbf[_0x395bd4(0x32d)]:'Unknown','dateStr':_0x553eb3+'-'+_0x12835a[_0x395bd4(0x2d3)](0x2,'0'),'start':_0x27e07a['s'],'end':_0x27e07a['e'],'status':_0x27e07a['st']||_0x395bd4(0x20f),'note':_0x27e07a['n']||'','seriesId':_0x27e07a['sid']||null});});}));},async 'syncBatch'(_0xfb03e2){const _0x176929=a2_0x5e3f42,_0x397d1d=[...new Set(_0xfb03e2)],_0x492563=_0x397d1d[_0x176929(0x23f)](_0x556cb8=>{const _0x3f7e42=_0x176929,_0xbbfdea=sessions['filter'](_0x33a623=>_0x33a623[_0x3f7e42(0x323)]===_0x556cb8&&_0x33a623['status']!==_0x3f7e42(0x211)),_0x1fbf38=_0xbbfdea[_0x3f7e42(0x23f)](_0x31faa0=>({'i':_0x31faa0['id'],'c':_0x31faa0['clientId'],'s':_0x31faa0[_0x3f7e42(0x325)],'e':_0x31faa0[_0x3f7e42(0x342)],'st':_0x31faa0[_0x3f7e42(0x2e4)],'n':_0x31faa0[_0x3f7e42(0x2c5)],'sid':_0x31faa0[_0x3f7e42(0x2f6)]}));return{'date':_0x556cb8,'day_data':_0x1fbf38};});if(_0x492563[_0x176929(0x29d)]===0x0)return;console[_0x176929(0x25a)](_0x176929(0x330)+_0x492563['length']+_0x176929(0x281)),await this[_0x176929(0x2e9)]('batch_sync',{'changes':_0x492563});}};async function init(){const _0x42f01b=a2_0x5e3f42;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x42f01b(0x2eb))['addEventListener'](_0x42f01b(0x33c),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x42f01b(0x1e4)]()[_0x42f01b(0x28f)](()=>{const _0x13a912=_0x42f01b;showToast(_0x13a912(0x1f7),!![]);})[_0x42f01b(0x2d2)](_0x54c2d1=>{const _0x70fb9d=_0x42f01b;showToast(_0x70fb9d(0x2c3),![]);});}function generateId(){const _0x390309=a2_0x5e3f42;return Date[_0x390309(0x2c2)]()[_0x390309(0x21b)](0x24)+Math[_0x390309(0x2bd)]()[_0x390309(0x21b)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0xdea175=a2_0x5e3f42,_0x116f2b=document[_0xdea175(0x33b)](_0xdea175(0x322))[_0xdea175(0x201)],_0x340156=document[_0xdea175(0x33b)](_0xdea175(0x254));_0x340156['style'][_0xdea175(0x35d)]=_0x116f2b?'block':_0xdea175(0x1f3);const _0x12514f=document[_0xdea175(0x33b)](_0xdea175(0x2d4));_0x12514f[_0xdea175(0x244)][_0xdea175(0x35f)]=_0x116f2b?_0xdea175(0x20d):_0xdea175(0x345);}function openAddSession(_0x1db11a){const _0x2a2921=a2_0x5e3f42;editingId=null,populateClientSelect(),document[_0x2a2921(0x33b)](_0x2a2921(0x314))[_0x2a2921(0x280)]=_0x2a2921(0x334),document[_0x2a2921(0x33b)](_0x2a2921(0x2ee))[_0x2a2921(0x244)][_0x2a2921(0x35d)]=_0x2a2921(0x1f3),document[_0x2a2921(0x33b)](_0x2a2921(0x35e))[_0x2a2921(0x244)][_0x2a2921(0x35d)]='none';const _0x2a95f2=document[_0x2a2921(0x33b)]('recurringOptionContainer'),_0x2f5947=document['getElementById'](_0x2a2921(0x254));_0x2a95f2[_0x2a2921(0x244)][_0x2a2921(0x35d)]=_0x2a2921(0x2cb),_0x2a95f2[_0x2a2921(0x244)][_0x2a2921(0x35f)]=_0x2a2921(0x345),document['getElementById']('inpRecurring')[_0x2a2921(0x201)]=![],document[_0x2a2921(0x33b)](_0x2a2921(0x303))[_0x2a2921(0x243)]=0x4,_0x2f5947[_0x2a2921(0x244)][_0x2a2921(0x35d)]='none',document[_0x2a2921(0x33b)](_0x2a2921(0x2a1))[_0x2a2921(0x243)]=getLocalDateStr(_0x1db11a),updateDateDisplay();const _0x338be8=_0x1db11a[_0x2a2921(0x20e)]();document['getElementById']('inpStart')[_0x2a2921(0x243)]=String(_0x338be8)['padStart'](0x2,'0')+_0x2a2921(0x302),document['getElementById'](_0x2a2921(0x346))[_0x2a2921(0x243)]=String(_0x338be8+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x2a2921(0x2da));}function openEdit(_0x22b664){const _0x24db6f=a2_0x5e3f42;editingId=_0x22b664['id'],populateClientSelect(),document[_0x24db6f(0x33b)](_0x24db6f(0x314))[_0x24db6f(0x280)]=_0x24db6f(0x23a),document[_0x24db6f(0x33b)](_0x24db6f(0x2ee))[_0x24db6f(0x244)]['display']=_0x24db6f(0x2cd);const _0x281549=document['getElementById'](_0x24db6f(0x35e));_0x281549[_0x24db6f(0x244)]['display']=_0x24db6f(0x2cb);_0x22b664[_0x24db6f(0x2e4)]===_0x24db6f(0x30c)?(_0x281549[_0x24db6f(0x225)]=_0x24db6f(0x34f),_0x281549[_0x24db6f(0x344)]=_0x24db6f(0x300)):(_0x281549['className']='btn-status-toggle',_0x281549[_0x24db6f(0x344)]=_0x24db6f(0x223));const _0x250c50=!!_0x22b664['seriesId'];document[_0x24db6f(0x33b)](_0x24db6f(0x2d4))['style'][_0x24db6f(0x35d)]=_0x24db6f(0x1f3),document[_0x24db6f(0x33b)]('seriesCountContainer')[_0x24db6f(0x244)][_0x24db6f(0x35d)]=_0x24db6f(0x1f3),_0x250c50?(document[_0x24db6f(0x33b)](_0x24db6f(0x2a5))[_0x24db6f(0x244)][_0x24db6f(0x35d)]=_0x24db6f(0x2cb),document['getElementById'](_0x24db6f(0x2a5))[_0x24db6f(0x22e)](_0x24db6f(0x232))[_0x24db6f(0x280)]=_0x24db6f(0x22b)):document[_0x24db6f(0x33b)](_0x24db6f(0x2a5))[_0x24db6f(0x244)]['display']='none',document[_0x24db6f(0x33b)](_0x24db6f(0x33f))[_0x24db6f(0x243)]=_0x22b664[_0x24db6f(0x2d0)],document[_0x24db6f(0x33b)](_0x24db6f(0x2a1))['value']=_0x22b664[_0x24db6f(0x323)],document['getElementById'](_0x24db6f(0x2fa))[_0x24db6f(0x243)]=_0x22b664['start'],document['getElementById'](_0x24db6f(0x346))['value']=_0x22b664[_0x24db6f(0x342)],document[_0x24db6f(0x33b)](_0x24db6f(0x2df))['value']=_0x22b664[_0x24db6f(0x2c5)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x28ba42=a2_0x5e3f42,_0x5783a9=document['getElementById'](_0x28ba42(0x33f))[_0x28ba42(0x243)],_0xaa9899=document[_0x28ba42(0x33b)](_0x28ba42(0x2a1))[_0x28ba42(0x243)],_0x53f5df=document[_0x28ba42(0x33b)](_0x28ba42(0x2fa))[_0x28ba42(0x243)],_0x3bde66=document['getElementById'](_0x28ba42(0x346))[_0x28ba42(0x243)],_0x18a5fc=document['getElementById'](_0x28ba42(0x2df))[_0x28ba42(0x243)],_0x56a78b=document[_0x28ba42(0x33b)](_0x28ba42(0x322))[_0x28ba42(0x201)];let _0x451f5b=0x4;if(_0x56a78b){const _0x19e9b9=parseInt(document[_0x28ba42(0x33b)]('inpSeriesCount')[_0x28ba42(0x243)]);if(!_0x19e9b9||_0x19e9b9<0x2){showToast(_0x28ba42(0x286),![]);return;}if(_0x19e9b9>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x451f5b=_0x19e9b9;}const _0x2be2aa=clients[_0x28ba42(0x327)](_0x284f82=>_0x284f82[_0x28ba42(0x32d)]===_0x5783a9);if(!_0x2be2aa){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x429ef6=validateAppointment(_0xaa9899,_0x53f5df,_0x3bde66,editingId,_0x2be2aa['id']);if(!_0x429ef6[_0x28ba42(0x275)]){showToast(_0x429ef6['msg'],![]);return;}_0x429ef6[_0x28ba42(0x319)]&&showToast(_0x429ef6[_0x28ba42(0x319)],![]);const _0x49436e={'client':_0x5783a9,'clientId':_0x2be2aa['id'],'start':_0x53f5df,'end':_0x3bde66,'note':_0x18a5fc,'status':'planned'},_0x10d411=editingId?sessions[_0x28ba42(0x327)](_0x20715b=>_0x20715b['id']===editingId):null;if(_0x10d411&&_0x10d411[_0x28ba42(0x2f6)]){tempSessionData={..._0x49436e,'dateStr':_0xaa9899,'id':editingId,'seriesId':_0x10d411[_0x28ba42(0x2f6)]},openActionSheet('save');return;}let _0x303252=null;if(!editingId)_0x303252='create';else{if(_0x10d411){if(String(_0x10d411[_0x28ba42(0x27b)])!==String(_0x2be2aa['id']))console[_0x28ba42(0x25a)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x28ba42(0x34d)](_0x28ba42(0x359),_0x10d411),_0x303252=_0x28ba42(0x284);else(_0x10d411['start']!==_0x53f5df||_0x10d411['end']!==_0x3bde66||_0x10d411[_0x28ba42(0x323)]!==_0xaa9899)&&(_0x303252=_0x28ba42(0x1ee));}}if(!editingId&&_0x56a78b){createBatchSeries(_0x49436e,_0xaa9899,_0x451f5b),NotificationManager[_0x28ba42(0x34d)](_0x28ba42(0x284),{..._0x49436e,'dateStr':_0xaa9899});return;}lastUserActionTime=Date['now']();const _0xf433bd={..._0x49436e,'dateStr':_0xaa9899,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xf433bd),_0x303252&&NotificationManager[_0x28ba42(0x34d)](_0x303252,_0xf433bd);}function toggleSessionStatus(){const _0x43db2d=a2_0x5e3f42;lastUserActionTime=Date['now']();const _0x499956=sessions[_0x43db2d(0x327)](_0x3e8bc7=>_0x3e8bc7['id']===editingId);if(!_0x499956)return;const _0x487c9a=_0x499956[_0x43db2d(0x2e4)]==='completed'?_0x43db2d(0x20f):_0x43db2d(0x30c);_0x499956['status']=_0x487c9a,saveSingleSession(_0x499956),_0x487c9a==='completed'&&NotificationManager['send']('complete',_0x499956),showToast(_0x487c9a==='completed'?_0x43db2d(0x31a):_0x43db2d(0x304),!![]);}function validateAppointment(_0x4c580c,_0x47e48e,_0x59dced,_0x478263,_0x5025b9){const _0x3cefbc=a2_0x5e3f42,[_0x1cfff8,_0x18ba2b]=_0x47e48e[_0x3cefbc(0x2ac)](':')[_0x3cefbc(0x23f)](Number),[_0x1059ab,_0x4f0fbf]=_0x59dced[_0x3cefbc(0x2ac)](':')['map'](Number),_0x44e978=_0x1cfff8*0x3c+_0x18ba2b,_0x57c812=_0x1059ab*0x3c+_0x4f0fbf,_0xa7fc6c=String(_0x5025b9);let _0xd6da6f=![],_0x847c6b='';for(let _0x50d442 of sessions){if(_0x50d442['dateStr']!==_0x4c580c)continue;if(_0x50d442['status']===_0x3cefbc(0x30d))continue;if(_0x478263&&String(_0x50d442['id'])===String(_0x478263))continue;const [_0x1dd57f,_0xc96aa0]=_0x50d442['start'][_0x3cefbc(0x2ac)](':')[_0x3cefbc(0x23f)](Number),[_0x23f674,_0x44c08c]=_0x50d442[_0x3cefbc(0x342)][_0x3cefbc(0x2ac)](':')[_0x3cefbc(0x23f)](Number),_0x4bcfe4=_0x1dd57f*0x3c+_0xc96aa0,_0x53b6c8=_0x23f674*0x3c+_0x44c08c;if(Math[_0x3cefbc(0x264)](_0x44e978,_0x4bcfe4)<Math[_0x3cefbc(0x203)](_0x57c812,_0x53b6c8)){if(_0x50d442['clientId']&&String(_0x50d442[_0x3cefbc(0x27b)])===_0xa7fc6c)return{'valid':![],'msg':_0x3cefbc(0x1fb)+_0x50d442['client']+_0x3cefbc(0x296)};_0xd6da6f=!![],_0x847c6b=_0x50d442['client'];}}if(_0xd6da6f)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x847c6b};return{'valid':!![]};}function saveSingleSession(_0x3932d7){const _0xeb4f99=a2_0x5e3f42;if(editingId){const _0x308917=sessions[_0xeb4f99(0x22c)](_0x4b7ca3=>_0x4b7ca3['id']===editingId);if(_0x308917!==-0x1)sessions[_0x308917]=_0x3932d7;}else sessions['push'](_0x3932d7);afterSaveAction([_0x3932d7[_0xeb4f99(0x323)]]);}function createBatchSeries(_0x48bbe,_0x3b559f,_0x1ca5a0){const _0x3df0bd=a2_0x5e3f42,_0x1bd59b=generateId(),_0x567793=[],_0x4896bc=[];let _0x24e10e=0x0,_0x3e96c0=new Date(_0x3b559f);for(let _0x2024fb=0x0;_0x2024fb<_0x1ca5a0;_0x2024fb++){const _0x4c70ef=getLocalDateStr(_0x3e96c0),_0x3aea7b=validateAppointment(_0x4c70ef,_0x48bbe[_0x3df0bd(0x325)],_0x48bbe[_0x3df0bd(0x342)],null,_0x48bbe[_0x3df0bd(0x27b)]);if(!_0x3aea7b[_0x3df0bd(0x275)])console[_0x3df0bd(0x25a)](_0x3df0bd(0x326)+_0x4c70ef+_0x3df0bd(0x226)),_0x24e10e++;else{const _0x1243d3={..._0x48bbe,'id':generateId(),'dateStr':_0x4c70ef,'seriesId':_0x1bd59b};_0x4896bc[_0x3df0bd(0x30e)](_0x1243d3),_0x567793[_0x3df0bd(0x30e)](_0x4c70ef);}_0x3e96c0[_0x3df0bd(0x2ed)](_0x3e96c0[_0x3df0bd(0x256)]()+0x7);}if(_0x4896bc[_0x3df0bd(0x29d)]===0x0){showToast(_0x3df0bd(0x28b),![]);return;}sessions[_0x3df0bd(0x30e)](..._0x4896bc),lastUserActionTime=Date['now']();let _0x4f015a=_0x3df0bd(0x1fc)+_0x4896bc[_0x3df0bd(0x29d)];_0x24e10e>0x0&&(_0x4f015a+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x24e10e+')'),showToast(_0x4f015a,!![]),afterSaveAction(_0x567793);}function updateSeriesBatch(_0x32de0d,_0x295d6e){const _0x2b6dd9=a2_0x5e3f42,_0x595a95=[],_0x30f6e7=_0x295d6e[_0x2b6dd9(0x2f6)];if(_0x32de0d===_0x2b6dd9(0x29e)){const _0x313ce2={..._0x295d6e,'seriesId':null},_0x2c2fb7=sessions[_0x2b6dd9(0x22c)](_0x54d101=>_0x54d101['id']===_0x295d6e['id']);if(_0x2c2fb7!==-0x1)sessions[_0x2c2fb7]=_0x313ce2;_0x595a95[_0x2b6dd9(0x30e)](_0x313ce2['dateStr']);}else{if(_0x32de0d===_0x2b6dd9(0x1ec)){const _0x348b68=_0x295d6e[_0x2b6dd9(0x323)];sessions[_0x2b6dd9(0x246)]((_0x22dce3,_0x59c4a1)=>{const _0x69254f=_0x2b6dd9;_0x22dce3[_0x69254f(0x2f6)]===_0x30f6e7&&_0x22dce3['dateStr']>=_0x348b68&&(sessions[_0x59c4a1]={...sessions[_0x59c4a1],'start':_0x295d6e['start'],'end':_0x295d6e['end'],'note':_0x295d6e[_0x69254f(0x2c5)],'client':_0x295d6e[_0x69254f(0x2d0)],'clientId':_0x295d6e[_0x69254f(0x27b)]},_0x595a95[_0x69254f(0x30e)](_0x22dce3[_0x69254f(0x323)]));});}}afterSaveAction(_0x595a95);}function tryDeleteSession(){const _0x51c62c=a2_0x5e3f42,_0xa79991=sessions['find'](_0x2388f8=>_0x2388f8['id']===editingId);if(!_0xa79991)return;_0xa79991['seriesId']?openActionSheet(_0x51c62c(0x276)):commitDelete(_0x51c62c(0x29e),_0xa79991);}function commitDelete(_0x25d7bb,_0x2d2285){const _0x4b5e3e=a2_0x5e3f42;lastUserActionTime=Date[_0x4b5e3e(0x2c2)](),NotificationManager[_0x4b5e3e(0x34d)]('cancel',_0x2d2285);const _0x3637d8=[];if(_0x25d7bb===_0x4b5e3e(0x29e))sessions=sessions[_0x4b5e3e(0x21a)](_0x1d716b=>_0x1d716b['id']!==_0x2d2285['id']),_0x3637d8['push'](_0x2d2285[_0x4b5e3e(0x323)]);else{if(_0x25d7bb===_0x4b5e3e(0x1ec)){const _0x439820=_0x2d2285['dateStr'],_0x36b552=_0x2d2285[_0x4b5e3e(0x2f6)];sessions[_0x4b5e3e(0x246)](_0x27c1da=>{const _0x417dfb=_0x4b5e3e;_0x27c1da[_0x417dfb(0x2f6)]===_0x36b552&&_0x27c1da[_0x417dfb(0x323)]>=_0x439820&&_0x3637d8[_0x417dfb(0x30e)](_0x27c1da[_0x417dfb(0x323)]);}),sessions=sessions[_0x4b5e3e(0x21a)](_0x486705=>!(_0x486705[_0x4b5e3e(0x2f6)]===_0x36b552&&_0x486705['dateStr']>=_0x439820));}}afterSaveAction(_0x3637d8);}function a2_0x3a80(_0x1f4052,_0x3b7b82){_0x1f4052=_0x1f4052-0x1e3;const _0x208bb6=a2_0x110a();let _0x281f70=_0x208bb6[_0x1f4052];return _0x281f70;}function afterSaveAction(_0x56eac3){const _0x5a89a9=a2_0x5e3f42;DataManager[_0x5a89a9(0x268)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5a89a9(0x289)](_0x56eac3)[_0x5a89a9(0x28f)](()=>console[_0x5a89a9(0x25a)](_0x5a89a9(0x269)))[_0x5a89a9(0x2d2)](_0x30aba6=>showToast(_0x5a89a9(0x1fe),![]));}const NotificationManager={'formatDate'(_0x961d40){const _0x280cd9=a2_0x5e3f42,_0x581d6c=new Date(_0x961d40),_0x249232={'weekday':_0x280cd9(0x293),'day':_0x280cd9(0x35b),'month':_0x280cd9(0x293)};let _0x532733=_0x581d6c[_0x280cd9(0x228)](_0x280cd9(0x270),_0x249232);return _0x532733[_0x280cd9(0x358)](0x0)['toUpperCase']()+_0x532733[_0x280cd9(0x2f4)](0x1);},'getText'(_0x58b909,_0x3e64c0){const _0x693e94=a2_0x5e3f42,_0x562599=this[_0x693e94(0x28a)](_0x3e64c0[_0x693e94(0x323)]);switch(_0x58b909){case _0x693e94(0x284):return _0x693e94(0x31f)+(_0x693e94(0x2e0)+_0x562599+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x3e64c0[_0x693e94(0x325)]+_0x693e94(0x307)+_0x3e64c0['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x693e94(0x1ee):return _0x693e94(0x2e1)+_0x693e94(0x339)+('<b>‚úÖ\x20'+_0x3e64c0[_0x693e94(0x325)]+_0x693e94(0x307)+_0x3e64c0[_0x693e94(0x342)]+_0x693e94(0x2cc))+(_0x693e94(0x2e0)+_0x562599);case _0x693e94(0x359):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x693e94(0x364)+_0x562599+'\x20('+_0x3e64c0[_0x693e94(0x325)]+_0x693e94(0x297));case _0x693e94(0x290):return _0x693e94(0x20a)+_0x693e94(0x2a7)+_0x693e94(0x22d);default:return'';}},async 'send'(_0x356237,_0x51dfc0){const _0x315577=a2_0x5e3f42;console[_0x315577(0x25a)]('[Notify]\x20Attempting\x20to\x20send:',_0x356237,_0x51dfc0);if(!_0x51dfc0){console[_0x315577(0x200)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x11c28a=String(_0x51dfc0[_0x315577(0x27b)]);console[_0x315577(0x25a)](_0x315577(0x2c4),_0x11c28a);if(!_0x51dfc0[_0x315577(0x27b)]||_0x11c28a==='undefined'||_0x11c28a===_0x315577(0x2d7)){console[_0x315577(0x200)](_0x315577(0x365));if(_0x51dfc0[_0x315577(0x2d0)]){const _0x239666=clients[_0x315577(0x327)](_0x4fa11e=>_0x4fa11e['name']===_0x51dfc0[_0x315577(0x2d0)]);if(_0x239666)return console['log'](_0x315577(0x2bb),_0x239666['id']),this[_0x315577(0x34d)](_0x356237,{..._0x51dfc0,'clientId':_0x239666['id']});}return;}if(_0x11c28a[_0x315577(0x29d)]<0x5){console[_0x315577(0x245)](_0x315577(0x2a2),_0x11c28a);return;}const _0x4eab2e=this['getText'](_0x356237,_0x51dfc0);if(!_0x4eab2e){console[_0x315577(0x200)](_0x315577(0x33e));return;}console[_0x315577(0x25a)](_0x315577(0x215)+_0x11c28a+_0x315577(0x298)),DataManager[_0x315577(0x2e9)](_0x315577(0x329),{'chatId':_0x11c28a,'text':_0x4eab2e})['then'](_0x2791cc=>console[_0x315577(0x25a)](_0x315577(0x2e3),_0x2791cc))[_0x315577(0x2d2)](_0x3b88c9=>console[_0x315577(0x200)]('[Notify]\x20Network\x20Failed',_0x3b88c9));}};function getLocalDateStr(_0x553536){const _0x254484=a2_0x5e3f42,_0x3248e4=_0x553536[_0x254484(0x233)](),_0x4b0104=String(_0x553536[_0x254484(0x29c)]()+0x1)[_0x254484(0x2d3)](0x2,'0'),_0x4d75e3=String(_0x553536[_0x254484(0x256)]())['padStart'](0x2,'0');return _0x3248e4+'-'+_0x4b0104+'-'+_0x4d75e3;}function getDateStr(_0x49c171){const _0x5b8d2a=a2_0x5e3f42,_0x21123c=new Date();return _0x21123c[_0x5b8d2a(0x2ed)](_0x21123c[_0x5b8d2a(0x256)]()+_0x49c171),getLocalDateStr(_0x21123c);}function getStartOfWeek(_0x48d857){const _0x3548e8=a2_0x5e3f42,_0x167e9e=new Date(_0x48d857),_0x1cd0ab=_0x167e9e[_0x3548e8(0x21c)](),_0x4f19f6=_0x167e9e[_0x3548e8(0x256)]()-_0x1cd0ab+(_0x1cd0ab===0x0?-0x6:0x1);return _0x167e9e[_0x3548e8(0x2ed)](_0x4f19f6),_0x167e9e['setHours'](0x0,0x0,0x0,0x0),_0x167e9e;}function hexToRgba(_0x1e2dc5,_0xdbe9b){const _0xa7ce=a2_0x5e3f42;if(!_0x1e2dc5)return _0xa7ce(0x30a);let _0x1dd31c=0x0,_0x4713fc=0x0,_0x335f5e=0x0;if(_0x1e2dc5[_0xa7ce(0x29d)]===0x4)_0x1dd31c='0x'+_0x1e2dc5[0x1]+_0x1e2dc5[0x1],_0x4713fc='0x'+_0x1e2dc5[0x2]+_0x1e2dc5[0x2],_0x335f5e='0x'+_0x1e2dc5[0x3]+_0x1e2dc5[0x3];else _0x1e2dc5[_0xa7ce(0x29d)]===0x7&&(_0x1dd31c='0x'+_0x1e2dc5[0x1]+_0x1e2dc5[0x2],_0x4713fc='0x'+_0x1e2dc5[0x3]+_0x1e2dc5[0x4],_0x335f5e='0x'+_0x1e2dc5[0x5]+_0x1e2dc5[0x6]);return _0xa7ce(0x21d)+ +_0x1dd31c+',\x20'+ +_0x4713fc+',\x20'+ +_0x335f5e+',\x20'+_0xdbe9b+')';}function renderTimeColumn(){const _0x305dd6=a2_0x5e3f42,_0x13b732=document[_0x305dd6(0x33b)](_0x305dd6(0x251)),_0x8bdb7=document[_0x305dd6(0x33b)](_0x305dd6(0x295));_0x13b732[_0x305dd6(0x344)]='',_0x13b732['appendChild'](_0x8bdb7);for(let _0x5e700a=0x0;_0x5e700a<0x18;_0x5e700a++){const _0x303e0f=document[_0x305dd6(0x2f7)](_0x305dd6(0x30f));_0x303e0f[_0x305dd6(0x225)]=_0x305dd6(0x2e2);if(_0x5e700a>0x0)_0x303e0f[_0x305dd6(0x344)]='<span>'+String(_0x5e700a)[_0x305dd6(0x2d3)](0x2,'0')+':00</span>';_0x13b732[_0x305dd6(0x29f)](_0x303e0f);}}function renderDayRange(_0x2bcf20,_0xcad381){const _0x8f7f66=a2_0x5e3f42,_0x5d650c=document[_0x8f7f66(0x33b)](_0x8f7f66(0x250)),_0x3318d2=document[_0x8f7f66(0x33b)](_0x8f7f66(0x34a)),_0x145aee=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29138a=new Date();_0x29138a[_0x8f7f66(0x2f8)](0x0,0x0,0x0,0x0);const _0x1ca1a1=getLocalDateStr(new Date());for(let _0x59afa7=_0x2bcf20;_0x59afa7<=_0xcad381;_0x59afa7++){const _0x5930db=new Date(_0x29138a);_0x5930db[_0x8f7f66(0x2ed)](_0x5930db[_0x8f7f66(0x256)]()+_0x59afa7);const _0x3f759c=getLocalDateStr(_0x5930db);let _0x8d1413=_0x5930db['getDay']()-0x1;if(_0x8d1413===-0x1)_0x8d1413=0x6;const _0x1d4e74=_0x3f759c===_0x1ca1a1,_0x2564cc=document['createElement'](_0x8f7f66(0x30f));_0x2564cc[_0x8f7f66(0x225)]=_0x8f7f66(0x312)+(_0x1d4e74?_0x8f7f66(0x210):''),_0x2564cc['id']=_0x8f7f66(0x332)+_0x3f759c,_0x2564cc['setAttribute'](_0x8f7f66(0x27c),_0x3f759c),_0x2564cc[_0x8f7f66(0x344)]=_0x8f7f66(0x2bf)+_0x145aee[_0x8d1413]+_0x8f7f66(0x331)+_0x5930db[_0x8f7f66(0x256)]()+_0x8f7f66(0x266)+_0x3f759c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2564cc[_0x8f7f66(0x1e6)]=()=>openDayOptions(_0x3f759c,_0x145aee[_0x8d1413]+'\x20'+_0x5930db['getDate']()),_0x5d650c['appendChild'](_0x2564cc);const _0x3ac51e=document[_0x8f7f66(0x2f7)](_0x8f7f66(0x30f));_0x3ac51e[_0x8f7f66(0x225)]=_0x8f7f66(0x23c)+(_0x1d4e74?_0x8f7f66(0x210):''),_0x3ac51e[_0x8f7f66(0x24b)](_0x8f7f66(0x27c),_0x3f759c),_0x3ac51e[_0x8f7f66(0x24b)](_0x8f7f66(0x321),_0x8d1413),renderEventsForColumn(_0x3ac51e,_0x3f759c,_0x8d1413),attachLongPressHandler(_0x3ac51e,_0x5930db),_0x3318d2[_0x8f7f66(0x29f)](_0x3ac51e),updateDayStats(_0x3f759c);}}function reRenderBlocks(){const _0x1bd243=a2_0x5e3f42;document[_0x1bd243(0x1f4)](_0x1bd243(0x240))['forEach'](_0x244a52=>{const _0x56750c=_0x1bd243;_0x244a52[_0x56750c(0x1f4)](_0x56750c(0x2fb))[_0x56750c(0x246)](_0x59d87a=>_0x59d87a[_0x56750c(0x217)]());const _0x34609e=_0x244a52['getAttribute'](_0x56750c(0x27c)),_0x5cdda2=parseInt(_0x244a52['getAttribute'](_0x56750c(0x321))),_0x226ee9=Math[_0x56750c(0x357)](_0x244a52[_0x56750c(0x22f)]);(availabilityPattern[_0x5cdda2]||[])['forEach'](_0x48ec78=>{const _0x4d2503=_0x56750c,_0x7d5e2e=document[_0x4d2503(0x2f7)](_0x4d2503(0x30f));_0x7d5e2e[_0x4d2503(0x225)]=_0x4d2503(0x22a);const _0x1bade1=_0x48ec78*GRID_H;_0x7d5e2e[_0x4d2503(0x244)][_0x4d2503(0x1ea)]=_0x1bade1+'px',_0x7d5e2e['style'][_0x4d2503(0x2d6)]='-'+_0x226ee9+_0x4d2503(0x222)+_0x1bade1+'px',_0x244a52[_0x4d2503(0x29f)](_0x7d5e2e);});if(specialRanges&&specialRanges[_0x56750c(0x29d)]>0x0){const _0x44d2fa=new Date(_0x34609e+_0x56750c(0x29b))[_0x56750c(0x2af)](),_0x2fe7d4=new Date(_0x34609e+_0x56750c(0x324))['getTime']();specialRanges[_0x56750c(0x246)](_0x679b52=>{const _0x2cbf55=_0x56750c,_0xf90257=new Date(_0x679b52[_0x2cbf55(0x325)])[_0x2cbf55(0x2af)](),_0x513596=new Date(_0x679b52[_0x2cbf55(0x342)])['getTime'](),_0x28ff43=Math['max'](_0x44d2fa,_0xf90257),_0x5c3f54=Math[_0x2cbf55(0x203)](_0x2fe7d4,_0x513596);if(_0x28ff43<_0x5c3f54){if(_0x28ff43<=_0x44d2fa&&_0x5c3f54>=_0x2fe7d4-0xea60){if(!_0x244a52[_0x2cbf55(0x22e)]('.day-off-overlay')){const _0x2ff125=document[_0x2cbf55(0x2f7)](_0x2cbf55(0x30f));_0x2ff125[_0x2cbf55(0x225)]='day-off-overlay\x20stripe-bg',_0x2ff125['style'][_0x2cbf55(0x2d6)]='-'+_0x226ee9+_0x2cbf55(0x2f3),_0x244a52[_0x2cbf55(0x29f)](_0x2ff125);}}else{const _0x188059=(_0x28ff43-_0x44d2fa)/0x36ee80*GRID_H,_0x27d160=(_0x5c3f54-_0x28ff43)/0x36ee80*GRID_H,_0x21dda8=document[_0x2cbf55(0x2f7)]('div');_0x21dda8[_0x2cbf55(0x225)]=_0x2cbf55(0x2ba),_0x21dda8[_0x2cbf55(0x244)]['top']=_0x188059+'px',_0x21dda8[_0x2cbf55(0x244)][_0x2cbf55(0x20c)]=_0x27d160+'px',_0x21dda8[_0x2cbf55(0x244)][_0x2cbf55(0x2d6)]='-'+_0x226ee9+_0x2cbf55(0x222)+_0x188059+'px',_0x244a52[_0x2cbf55(0x29f)](_0x21dda8);}}});}if(dateExceptions[_0x34609e]==='off'){if(!_0x244a52[_0x56750c(0x22e)](_0x56750c(0x242))){const _0x570494=document[_0x56750c(0x2f7)](_0x56750c(0x30f));_0x570494['className']='day-off-overlay\x20stripe-bg',_0x570494[_0x56750c(0x244)]['backgroundPosition']='-'+_0x226ee9+_0x56750c(0x2f3),_0x244a52[_0x56750c(0x29f)](_0x570494);}}renderEventsForColumn(_0x244a52,_0x34609e,_0x5cdda2),updateDayStats(_0x34609e);});}function updateAllDayStats(){const _0x78d8e4=a2_0x5e3f42;document[_0x78d8e4(0x1f4)](_0x78d8e4(0x2b0))[_0x78d8e4(0x246)](_0x4f2174=>{const _0x4c601a=_0x78d8e4;updateDayStats(_0x4f2174['getAttribute'](_0x4c601a(0x27c)));});}function updateDayStats(_0x169754){const _0x1f7033=a2_0x5e3f42,_0x117ed4=document[_0x1f7033(0x33b)](_0x1f7033(0x291)+_0x169754);if(!_0x117ed4)return;const _0x4bfd96=new Date(_0x169754);let _0x341ce0=_0x4bfd96[_0x1f7033(0x21c)]()-0x1;if(_0x341ce0===-0x1)_0x341ce0=0x6;if(dateExceptions[_0x169754]==='off'){_0x117ed4['style'][_0x1f7033(0x35d)]='none';return;}const _0x1586b3=availabilityPattern[_0x341ce0]||[],_0x38de36=0x18-_0x1586b3[_0x1f7033(0x29d)],_0x645591=_0x38de36*0x3c,_0x56d080=sessions['filter'](_0x4d619c=>_0x4d619c['dateStr']===_0x169754&&_0x4d619c[_0x1f7033(0x2e4)]!==_0x1f7033(0x30d));if(_0x56d080[_0x1f7033(0x29d)]===0x0){_0x117ed4[_0x1f7033(0x244)][_0x1f7033(0x35d)]=_0x1f7033(0x1f3);return;}let _0x5b08d9=_0x56d080[_0x1f7033(0x23f)](_0x8443c=>{const _0x1c5400=_0x1f7033,[_0x4cd5d9,_0x22b492]=_0x8443c[_0x1c5400(0x325)][_0x1c5400(0x2ac)](':')[_0x1c5400(0x23f)](Number),[_0x3ea1cf,_0x338a8a]=_0x8443c[_0x1c5400(0x342)]['split'](':')[_0x1c5400(0x23f)](Number);return[_0x4cd5d9*0x3c+_0x22b492,_0x3ea1cf*0x3c+_0x338a8a];});_0x5b08d9[_0x1f7033(0x28e)]((_0x35d92c,_0x138bd8)=>_0x35d92c[0x0]-_0x138bd8[0x0]);let _0x11aba8=[];if(_0x5b08d9[_0x1f7033(0x29d)]>0x0){let _0x256f45=_0x5b08d9[0x0];for(let _0x87d479=0x1;_0x87d479<_0x5b08d9[_0x1f7033(0x29d)];_0x87d479++){_0x5b08d9[_0x87d479][0x0]<_0x256f45[0x1]?_0x256f45[0x1]=Math['max'](_0x256f45[0x1],_0x5b08d9[_0x87d479][0x1]):(_0x11aba8[_0x1f7033(0x30e)](_0x256f45),_0x256f45=_0x5b08d9[_0x87d479]);}_0x11aba8[_0x1f7033(0x30e)](_0x256f45);}let _0x5ce0e9=0x0;_0x11aba8[_0x1f7033(0x246)](_0x81bea8=>_0x5ce0e9+=_0x81bea8[0x1]-_0x81bea8[0x0]),_0x117ed4[_0x1f7033(0x244)][_0x1f7033(0x35d)]=_0x1f7033(0x2cb);const _0x3459b1=_0x117ed4[_0x1f7033(0x22e)]('.dch-stats-fill');if(_0x645591===0x0){_0x3459b1[_0x1f7033(0x244)][_0x1f7033(0x212)]=_0x1f7033(0x2c1),_0x3459b1[_0x1f7033(0x244)][_0x1f7033(0x341)]=_0x1f7033(0x2fd);return;}const _0xda39fc=_0x5ce0e9/_0x645591*0x64;console[_0x1f7033(0x25a)]('['+_0x169754+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x38de36+_0x1f7033(0x219)+_0x5ce0e9+_0x1f7033(0x2b8)+_0xda39fc[_0x1f7033(0x25d)](0x1)+'%'),_0xda39fc>0x64?(_0x3459b1['style'][_0x1f7033(0x212)]=_0x1f7033(0x2c1),_0x3459b1[_0x1f7033(0x244)][_0x1f7033(0x341)]='var(--acc-red)'):(_0x3459b1[_0x1f7033(0x244)][_0x1f7033(0x212)]=_0xda39fc+'%',_0x3459b1['style'][_0x1f7033(0x341)]='var(--acc-current)');}function renderEventsForColumn(_0x3c8096,_0x369a3b,_0x1c80ba){const _0x3191a0=a2_0x5e3f42,_0x2873ff=sessions[_0x3191a0(0x21a)](_0xd026d9=>_0xd026d9[_0x3191a0(0x323)]===_0x369a3b),_0x4c2c04=_0x2873ff[_0x3191a0(0x23f)](_0x320a63=>{const _0xc92dd4=_0x3191a0,[_0x42b583,_0x200b47]=_0x320a63[_0xc92dd4(0x325)]['split'](':')[_0xc92dd4(0x23f)](Number),[_0x1dc03f,_0x93fd2b]=_0x320a63[_0xc92dd4(0x342)][_0xc92dd4(0x2ac)](':')[_0xc92dd4(0x23f)](Number);return{'data':_0x320a63,'start':_0x42b583*0x3c+_0x200b47,'end':_0x1dc03f*0x3c+_0x93fd2b,'colIndex':0x0};});_0x4c2c04[_0x3191a0(0x28e)]((_0xa2ef63,_0x2553ae)=>{const _0x2f62c1=_0x3191a0;if(_0xa2ef63['start']!==_0x2553ae[_0x2f62c1(0x325)])return _0xa2ef63[_0x2f62c1(0x325)]-_0x2553ae[_0x2f62c1(0x325)];return _0x2553ae[_0x2f62c1(0x342)]-_0x2553ae[_0x2f62c1(0x325)]-(_0xa2ef63[_0x2f62c1(0x342)]-_0xa2ef63[_0x2f62c1(0x325)]);});const _0x2c2418=[];_0x4c2c04[_0x3191a0(0x246)](_0x3a9a45=>{const _0x458661=_0x3191a0;let _0x8d6f63=![];for(let _0x54ff2c=0x0;_0x54ff2c<_0x2c2418['length'];_0x54ff2c++){const _0x5099dd=_0x2c2418[_0x54ff2c],_0x4908d2=_0x5099dd[_0x5099dd[_0x458661(0x29d)]-0x1];if(_0x3a9a45[_0x458661(0x325)]>=_0x4908d2[_0x458661(0x342)]){_0x5099dd[_0x458661(0x30e)](_0x3a9a45),_0x3a9a45[_0x458661(0x30b)]=_0x54ff2c,_0x8d6f63=!![];break;}}!_0x8d6f63&&(_0x2c2418[_0x458661(0x30e)]([_0x3a9a45]),_0x3a9a45[_0x458661(0x30b)]=_0x2c2418[_0x458661(0x29d)]-0x1);}),_0x4c2c04[_0x3191a0(0x246)](_0x4f318e=>{const _0x39116d=_0x3191a0;let _0x1d82bf=0x0;_0x4c2c04['forEach'](_0x5541b2=>{const _0x290641=a2_0x3a80;if(Math[_0x290641(0x264)](_0x4f318e[_0x290641(0x325)],_0x5541b2[_0x290641(0x325)])<Math['min'](_0x4f318e[_0x290641(0x342)],_0x5541b2[_0x290641(0x342)])){if(_0x5541b2['colIndex']>_0x1d82bf)_0x1d82bf=_0x5541b2[_0x290641(0x30b)];}});const _0x1a699f=_0x1d82bf+0x1,_0x189d8f=0x64/_0x1a699f,_0x54333c=_0x4f318e['colIndex']*_0x189d8f,_0x1bdfb8=createEventEl(_0x4f318e[_0x39116d(0x26f)]);_0x1bdfb8['style'][_0x39116d(0x212)]=_0x39116d(0x350)+_0x189d8f+_0x39116d(0x34c),_0x1bdfb8[_0x39116d(0x244)][_0x39116d(0x34e)]='calc('+_0x54333c+'%\x20+\x202px)',_0x1bdfb8[_0x39116d(0x244)][_0x39116d(0x27d)]=0xa+_0x4f318e[_0x39116d(0x30b)],_0x189d8f<0x55&&_0x1bdfb8[_0x39116d(0x301)][_0x39116d(0x234)](_0x39116d(0x279)),_0x3c8096[_0x39116d(0x29f)](_0x1bdfb8);});}function createEventEl(_0x52c918){const _0x52c479=a2_0x5e3f42,[_0x3ed7fe,_0x4fbda2]=_0x52c918[_0x52c479(0x325)][_0x52c479(0x2ac)](':')['map'](Number),[_0x4850fc,_0x4a4627]=_0x52c918[_0x52c479(0x342)]['split'](':')['map'](Number),_0x5de900=(_0x3ed7fe*0x3c+_0x4fbda2)/0x3c*GRID_H,_0x4bd9ae=(_0x4850fc*0x3c+_0x4a4627-(_0x3ed7fe*0x3c+_0x4fbda2))/0x3c*GRID_H,_0x52d9d6=document[_0x52c479(0x2f7)](_0x52c479(0x30f)),_0xe61ac=_0x52c918['status']==='completed'?_0x52c479(0x214):'';_0x52d9d6[_0x52c479(0x225)]=_0x52c479(0x313)+_0xe61ac,_0x52d9d6[_0x52c479(0x244)][_0x52c479(0x1ea)]=_0x5de900+'px',_0x52d9d6['style'][_0x52c479(0x20c)]=Math[_0x52c479(0x264)](_0x4bd9ae,0x14)+'px';const _0x4982fa=clients['find'](_0x4ff138=>_0x52c918[_0x52c479(0x27b)]&&String(_0x4ff138['id'])===String(_0x52c918[_0x52c479(0x27b)])||_0x4ff138[_0x52c479(0x32d)]===_0x52c918[_0x52c479(0x2d0)]),_0x35edd2=_0x4982fa?_0x4982fa[_0x52c479(0x2f9)]:_0x52c479(0x257);_0x52d9d6[_0x52c479(0x244)][_0x52c479(0x2ca)]=_0x35edd2,_0x52d9d6['style'][_0x52c479(0x25e)]=hexToRgba(_0x35edd2,0.85);let _0x30db1b=_0x52c479(0x2db)+_0x52c918['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x52c918['start']+_0x52c479(0x260)+_0x52c918[_0x52c479(0x342)]+_0x52c479(0x355);return _0x52c918[_0x52c479(0x2f6)]&&(_0x30db1b+=_0x52c479(0x32f)),_0x52c918[_0x52c479(0x2e4)]===_0x52c479(0x30c)&&(_0x30db1b+=_0x52c479(0x248)),_0x52d9d6['innerHTML']=_0x30db1b,_0x52d9d6[_0x52c479(0x1e6)]=_0x56fdbe=>{const _0x104f5a=_0x52c479;_0x56fdbe[_0x104f5a(0x308)](),openEdit(_0x52c918);},_0x52d9d6;}function attachLongPressHandler(_0x2efa80,_0x4f8343){const _0xba5d54=a2_0x5e3f42;let _0x5a7f91=0x0,_0x33bf10=null;const _0x13c817=_0x113055=>{const _0x5efb47=a2_0x3a80;if(_0x113055[_0x5efb47(0x227)][_0x5efb47(0x21e)](_0x5efb47(0x26e)))return;isScrolling=![],_0x5a7f91=_0x113055['touches']?_0x113055[_0x5efb47(0x265)][0x0][_0x5efb47(0x338)]:_0x113055[_0x5efb47(0x338)],_0x33bf10=setTimeout(()=>{const _0x545893=_0x5efb47;if(!isScrolling){navigator[_0x545893(0x282)]?.(0x32);const _0x552db5=_0x2efa80[_0x545893(0x1e3)](),_0x310800=Math[_0x545893(0x27a)]((_0x5a7f91-_0x552db5[_0x545893(0x1ea)])/GRID_H);_0x4f8343['setHours'](_0x310800,0x0),openAddSession(_0x4f8343);}},0x1f4);},_0x50fff9=()=>{isScrolling=!![],clearTimeout(_0x33bf10);},_0x2c2cd1=()=>{clearTimeout(_0x33bf10);};_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x2ff),_0x13c817,{'passive':!![]}),_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x1ef),_0x50fff9,{'passive':!![]}),_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x1f2),_0x2c2cd1),_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x2b5),_0x13c817),_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x28c),_0x50fff9),_0x2efa80[_0xba5d54(0x273)](_0xba5d54(0x241),_0x2c2cd1);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2edcda=a2_0x5e3f42,_0x369bd7=document[_0x2edcda(0x33b)](_0x2edcda(0x2eb)),_0x5c23c7=_0x369bd7[_0x2edcda(0x1f5)],_0x407dae=_0x369bd7['scrollWidth'],_0x342419=_0x369bd7['clientWidth'];if(_0x407dae-(_0x5c23c7+_0x342419)<0x12c){const _0x999038=endOffset;endOffset+=0xe,renderDayRange(_0x999038+0x1,endOffset),reRenderBlocks();}if(_0x5c23c7<0x12c){const _0x15517e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x15517e-0x1),_0x369bd7['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1dafcc,_0x31229f){const _0x53d071=a2_0x5e3f42,_0x1cfdd7=document['getElementById']('daysHeaderTrack'),_0x16666e=document[_0x53d071(0x33b)](_0x53d071(0x34a)),_0x53fd2f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2a20b9=new Date();_0x2a20b9[_0x53d071(0x2f8)](0x0,0x0,0x0,0x0);const _0x5eee61=getLocalDateStr(new Date()),_0xcd89d8=document[_0x53d071(0x31c)](),_0x2a213c=document[_0x53d071(0x31c)]();for(let _0x35bd70=_0x1dafcc;_0x35bd70<=_0x31229f;_0x35bd70++){const _0x5737a3=new Date(_0x2a20b9);_0x5737a3[_0x53d071(0x2ed)](_0x5737a3['getDate']()+_0x35bd70);const _0x2ace5a=getLocalDateStr(_0x5737a3);let _0xff5e65=_0x5737a3[_0x53d071(0x21c)]()-0x1;if(_0xff5e65===-0x1)_0xff5e65=0x6;const _0xaf4c25=_0x2ace5a===_0x5eee61,_0xf3111b=document['createElement'](_0x53d071(0x30f));_0xf3111b['className']=_0x53d071(0x312)+(_0xaf4c25?'today':''),_0xf3111b['id']=_0x53d071(0x332)+_0x2ace5a,_0xf3111b[_0x53d071(0x24b)](_0x53d071(0x27c),_0x2ace5a),_0xf3111b[_0x53d071(0x344)]='<div\x20class=\x22dch-day\x22>'+_0x53fd2f[_0xff5e65]+_0x53d071(0x331)+_0x5737a3[_0x53d071(0x256)]()+_0x53d071(0x266)+_0x2ace5a+_0x53d071(0x2c7),_0xf3111b[_0x53d071(0x1e6)]=()=>openDayOptions(_0x2ace5a,_0x53fd2f[_0xff5e65]+'\x20'+_0x5737a3[_0x53d071(0x256)]()),_0xcd89d8[_0x53d071(0x29f)](_0xf3111b);const _0x4b97fc=document['createElement']('div');_0x4b97fc[_0x53d071(0x225)]='day-column\x20'+(_0xaf4c25?_0x53d071(0x210):''),_0x4b97fc[_0x53d071(0x24b)](_0x53d071(0x27c),_0x2ace5a),_0x4b97fc['setAttribute'](_0x53d071(0x321),_0xff5e65),renderEventsForColumn(_0x4b97fc,_0x2ace5a,_0xff5e65),attachLongPressHandler(_0x4b97fc,_0x5737a3),_0x2a213c['appendChild'](_0x4b97fc),updateDayStats(_0x2ace5a);}_0x1cfdd7[_0x53d071(0x2a8)](_0xcd89d8,_0x1cfdd7[_0x53d071(0x35c)]),_0x16666e[_0x53d071(0x2a8)](_0x2a213c,_0x16666e['querySelector'](_0x53d071(0x316)));}function validateAppointment(_0xcd055,_0x1c2ca6,_0x613bdc,_0x785e70,_0x1c0dad){const _0x22e0db=a2_0x5e3f42,[_0x19cc29,_0x305d86]=_0x1c2ca6[_0x22e0db(0x2ac)](':')['map'](Number),[_0x3ab2ae,_0x4b27d6]=_0x613bdc[_0x22e0db(0x2ac)](':')[_0x22e0db(0x23f)](Number),_0x12f75b=_0x19cc29*0x3c+_0x305d86,_0x3200a9=_0x3ab2ae*0x3c+_0x4b27d6,_0x55bfeb=String(_0x1c0dad);let _0x34bb74=![],_0x346610='';for(let _0x5cf28b of sessions){if(_0x5cf28b[_0x22e0db(0x323)]!==_0xcd055)continue;if(_0x5cf28b[_0x22e0db(0x2e4)]==='cancelled')continue;if(_0x785e70&&String(_0x5cf28b['id'])===String(_0x785e70))continue;const [_0x243fc3,_0x282699]=_0x5cf28b[_0x22e0db(0x325)][_0x22e0db(0x2ac)](':')[_0x22e0db(0x23f)](Number),[_0x17cc6a,_0x1dd215]=_0x5cf28b[_0x22e0db(0x342)][_0x22e0db(0x2ac)](':')['map'](Number),_0x175b03=_0x243fc3*0x3c+_0x282699,_0x3573d0=_0x17cc6a*0x3c+_0x1dd215;if(Math[_0x22e0db(0x264)](_0x12f75b,_0x175b03)<Math[_0x22e0db(0x203)](_0x3200a9,_0x3573d0)){if(_0x5cf28b['clientId']&&String(_0x5cf28b['clientId'])===_0x55bfeb)return{'valid':![],'msg':_0x22e0db(0x1fb)+_0x5cf28b[_0x22e0db(0x2d0)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x34bb74=!![],_0x346610=_0x5cf28b['client'];}}if(_0x34bb74)return{'valid':!![],'warning':_0x22e0db(0x2cf)+_0x346610};return{'valid':!![]};}function updateDateDisplay(){const _0x4ba6d8=a2_0x5e3f42,_0x3e9cf4=document[_0x4ba6d8(0x33b)]('inpDate')['value'],_0x338667=document[_0x4ba6d8(0x33b)](_0x4ba6d8(0x261));if(!_0x3e9cf4){_0x338667[_0x4ba6d8(0x280)]='';return;}const [_0xd40426,_0x361b46,_0xe3b19b]=_0x3e9cf4['split']('-')['map'](Number),_0x563b1c=new Date(_0xd40426,_0x361b46-0x1,_0xe3b19b),_0x8d2f84={'weekday':_0x4ba6d8(0x293),'day':_0x4ba6d8(0x35b),'month':_0x4ba6d8(0x293),'year':_0x4ba6d8(0x35b)};let _0x3ef35b=_0x563b1c['toLocaleDateString']('ru-RU',_0x8d2f84);_0x3ef35b=_0x3ef35b[_0x4ba6d8(0x358)](0x0)['toUpperCase']()+_0x3ef35b[_0x4ba6d8(0x2f4)](0x1),_0x338667['textContent']=_0x3ef35b;}function autoSetEndTime(){const _0x3d380e=a2_0x5e3f42,_0x479141=document[_0x3d380e(0x33b)](_0x3d380e(0x2fa))[_0x3d380e(0x243)];if(!_0x479141)return;const [_0x4119a0,_0x458d2f]=_0x479141[_0x3d380e(0x2ac)](':')[_0x3d380e(0x23f)](Number);let _0x4b7430=_0x4119a0+0x1;if(_0x4b7430>0x17)_0x4b7430=0x0;const _0x328605=String(_0x4b7430)[_0x3d380e(0x2d3)](0x2,'0')+':'+String(_0x458d2f)[_0x3d380e(0x2d3)](0x2,'0');document[_0x3d380e(0x33b)](_0x3d380e(0x346))['value']=_0x328605;}function populateClientSelect(){const _0x2e44bc=a2_0x5e3f42,_0x46bf1d=document[_0x2e44bc(0x33b)](_0x2e44bc(0x33f));_0x46bf1d['innerHTML']='';if(clients[_0x2e44bc(0x29d)]===0x0){const _0x224fec=document[_0x2e44bc(0x2f7)](_0x2e44bc(0x333));_0x224fec['text']=_0x2e44bc(0x31b),_0x46bf1d[_0x2e44bc(0x29f)](_0x224fec);return;}clients[_0x2e44bc(0x246)](_0x6662f8=>{const _0x1dc3c2=_0x2e44bc,_0x1fceec=document[_0x1dc3c2(0x2f7)]('option');_0x1fceec[_0x1dc3c2(0x243)]=_0x6662f8['name'],_0x1fceec[_0x1dc3c2(0x280)]=_0x6662f8[_0x1dc3c2(0x32d)],_0x46bf1d[_0x1dc3c2(0x29f)](_0x1fceec);});}function openActionSheet(_0x7eaa5a){const _0x1abf07=a2_0x5e3f42,_0x5381c1=document[_0x1abf07(0x33b)](_0x1abf07(0x31d)),_0x4a3cb0=document[_0x1abf07(0x33b)](_0x1abf07(0x2ec)),_0x354657=document['getElementById']('asTitle'),_0x34da5d=document[_0x1abf07(0x33b)](_0x1abf07(0x253)),_0xb72c39=document['getElementById'](_0x1abf07(0x259));_0x4a3cb0[_0x1abf07(0x301)]['add'](_0x1abf07(0x236)),_0x5381c1['classList'][_0x1abf07(0x234)]('open');if(_0x7eaa5a===_0x1abf07(0x204))_0x354657[_0x1abf07(0x280)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x34da5d[_0x1abf07(0x280)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x34da5d[_0x1abf07(0x1e6)]=()=>{const _0x2166e6=_0x1abf07;closeActionSheet(),updateSeriesBatch(_0x2166e6(0x29e),tempSessionData);},_0xb72c39[_0x1abf07(0x280)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0xb72c39[_0x1abf07(0x1e6)]=()=>{const _0x54615d=_0x1abf07;closeActionSheet(),updateSeriesBatch(_0x54615d(0x1ec),tempSessionData);};else _0x7eaa5a===_0x1abf07(0x276)&&(_0x354657[_0x1abf07(0x280)]=_0x1abf07(0x206),_0x34da5d[_0x1abf07(0x280)]=_0x1abf07(0x247),_0x34da5d[_0x1abf07(0x225)]='as-button\x20danger',_0x34da5d[_0x1abf07(0x1e6)]=()=>{const _0x2714ed=_0x1abf07;closeActionSheet(),commitDelete(_0x2714ed(0x29e),sessions[_0x2714ed(0x327)](_0xb83069=>_0xb83069['id']===editingId));},_0xb72c39[_0x1abf07(0x280)]=_0x1abf07(0x1eb),_0xb72c39[_0x1abf07(0x225)]=_0x1abf07(0x311),_0xb72c39[_0x1abf07(0x1e6)]=()=>{const _0x5716d5=_0x1abf07;closeActionSheet(),commitDelete(_0x5716d5(0x1ec),sessions['find'](_0x32a670=>_0x32a670['id']===editingId));});}function closeActionSheet(){const _0x40faea=a2_0x5e3f42;document[_0x40faea(0x33b)]('actionSheet')[_0x40faea(0x301)][_0x40faea(0x217)](_0x40faea(0x2ad)),document[_0x40faea(0x33b)](_0x40faea(0x2ec))['classList'][_0x40faea(0x217)](_0x40faea(0x236));}function openSettings(){const _0x221650=a2_0x5e3f42;openSheet(_0x221650(0x229));}function saveCoachSettings(){const _0x2c2c0c=a2_0x5e3f42,_0x504411=document[_0x2c2c0c(0x33b)](_0x2c2c0c(0x238))[_0x2c2c0c(0x243)];localStorage[_0x2c2c0c(0x208)]('uc_settings_cancel_window',_0x504411),console[_0x2c2c0c(0x25a)](_0x2c2c0c(0x32c),_0x504411),DataManager[_0x2c2c0c(0x2e9)](_0x2c2c0c(0x340),{'settings':{'cancel_window':_0x504411}})[_0x2c2c0c(0x2d2)](_0x1d750b=>{const _0x25c8fd=_0x2c2c0c;console[_0x25c8fd(0x200)](_0x25c8fd(0x354),_0x1d750b),showToast(_0x25c8fd(0x28d),![]);});}function loadCoachSettings(){const _0x4e4ccf=a2_0x5e3f42,_0x444baa=localStorage[_0x4e4ccf(0x272)](_0x4e4ccf(0x2be));_0x444baa&&(document[_0x4e4ccf(0x33b)](_0x4e4ccf(0x238))['value']=_0x444baa);}function openRangesSheet(){const _0x4a319d=a2_0x5e3f42;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4a319d(0x336));}function addRange(){const _0x1f13c1=a2_0x5e3f42,_0x1c78c3=document[_0x1f13c1(0x33b)]('rangeStartDate')[_0x1f13c1(0x243)],_0x47bc1c=document[_0x1f13c1(0x33b)](_0x1f13c1(0x27f))['value'],_0x46c3d0=document[_0x1f13c1(0x33b)](_0x1f13c1(0x27e))['value'],_0x11f091=document[_0x1f13c1(0x33b)](_0x1f13c1(0x2f0))[_0x1f13c1(0x243)];if(!_0x1c78c3||!_0x47bc1c||!_0x46c3d0||!_0x11f091)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x12efe3=_0x1c78c3+'T'+_0x47bc1c,_0x3a288c=_0x46c3d0+'T'+_0x11f091;if(_0x12efe3>=_0x3a288c)return alert(_0x1f13c1(0x2dc));specialRanges[_0x1f13c1(0x30e)]({'start':_0x12efe3,'end':_0x3a288c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1f13c1(0x268)](),DataManager[_0x1f13c1(0x2e9)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x18da67){const _0x587752=a2_0x5e3f42;specialRanges[_0x587752(0x362)](_0x18da67,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x587752(0x268)](),DataManager['fetchFromServer'](_0x587752(0x340),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x413445=a2_0x5e3f42;document[_0x413445(0x33b)](_0x413445(0x1f8))[_0x413445(0x243)]='',document[_0x413445(0x33b)](_0x413445(0x27f))[_0x413445(0x243)]=_0x413445(0x2f1),document[_0x413445(0x33b)](_0x413445(0x27e))['value']='',document[_0x413445(0x33b)](_0x413445(0x2f0))[_0x413445(0x243)]=_0x413445(0x288);}function renderRangesList(){const _0x57dce6=a2_0x5e3f42,_0x323713=document[_0x57dce6(0x33b)](_0x57dce6(0x349));_0x323713[_0x57dce6(0x344)]='';if(!specialRanges[_0x57dce6(0x29d)]){_0x323713[_0x57dce6(0x344)]=_0x57dce6(0x31e);return;}specialRanges[_0x57dce6(0x246)]((_0x413765,_0xc79fde)=>{const _0x2aca81=_0x57dce6,_0x21c6d8=document['createElement'](_0x2aca81(0x30f));_0x21c6d8['className']=_0x2aca81(0x2b9);const _0x35a018=_0x290ca6=>{const _0xc77d75=_0x2aca81,_0x4713bd=new Date(_0x290ca6);return _0x4713bd[_0xc77d75(0x256)]()+'.'+String(_0x4713bd[_0xc77d75(0x29c)]()+0x1)[_0xc77d75(0x2d3)](0x2,'0')+'\x20'+String(_0x4713bd[_0xc77d75(0x20e)]())[_0xc77d75(0x2d3)](0x2,'0')+':'+String(_0x4713bd[_0xc77d75(0x2b1)]())[_0xc77d75(0x2d3)](0x2,'0');};_0x21c6d8[_0x2aca81(0x344)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x35a018(_0x413765[_0x2aca81(0x325)])+'\x20‚Äî\x20'+_0x35a018(_0x413765[_0x2aca81(0x342)])+_0x2aca81(0x207)+_0xc79fde+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x323713['appendChild'](_0x21c6d8);});}function scrollToToday(){const _0xd64862=a2_0x5e3f42,_0x215c44=getLocalDateStr(new Date()),_0x311fdf=document['getElementById']('header-'+_0x215c44),_0x51997b=document[_0xd64862(0x33b)](_0xd64862(0x2eb));if(_0x311fdf&&_0x51997b){const _0x344011=_0x51997b[_0xd64862(0x24d)],_0x531b72=_0x311fdf[_0xd64862(0x22f)],_0x2e7fc8=_0x311fdf['offsetWidth'];_0x51997b[_0xd64862(0x1f5)]=_0x531b72-_0x344011/0x2+_0x2e7fc8/0x2,_0x51997b['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x44d2f7=a2_0x5e3f42,_0x10a726=document[_0x44d2f7(0x33b)]('matrixViewport'),_0xa4406b=document[_0x44d2f7(0x1f4)](_0x44d2f7(0x2b0));for(let _0x3a6c4c of _0xa4406b)if(_0x3a6c4c['offsetLeft']>=_0x10a726[_0x44d2f7(0x1f5)]){const _0x5e305c=new Date(_0x3a6c4c[_0x44d2f7(0x2a3)]('data-date'));document[_0x44d2f7(0x33b)](_0x44d2f7(0x1f9))['textContent']=_0x5e305c['toLocaleString']('ru',{'month':_0x44d2f7(0x293)})[_0x44d2f7(0x348)]()+'\x20'+_0x5e305c['getFullYear']();break;}}function showToast(_0x5c2e56,_0x3c2425=![]){const _0x3fc44a=a2_0x5e3f42,_0x515f32=document[_0x3fc44a(0x33b)](_0x3fc44a(0x2b2));_0x515f32[_0x3fc44a(0x225)]=_0x3fc44a(0x2b3)+(_0x3c2425?'success':''),document[_0x3fc44a(0x33b)](_0x3fc44a(0x2ae))[_0x3fc44a(0x280)]=_0x3c2425?_0x3fc44a(0x1e9):_0x3fc44a(0x271),document[_0x3fc44a(0x33b)](_0x3fc44a(0x2a6))[_0x3fc44a(0x280)]=_0x5c2e56,_0x515f32[_0x3fc44a(0x301)][_0x3fc44a(0x234)](_0x3fc44a(0x220)),setTimeout(()=>{const _0x234395=_0x3fc44a;_0x515f32[_0x234395(0x301)][_0x234395(0x217)](_0x234395(0x220));},0xbb8);}function openDayOptions(_0x22fe4b,_0x3a0b61){const _0x32c839=a2_0x5e3f42;selectedDayForOptions=_0x22fe4b,document[_0x32c839(0x33b)](_0x32c839(0x335))[_0x32c839(0x280)]=_0x3a0b61,openSheet(_0x32c839(0x267));}function toggleDayOff(){const _0x568961=a2_0x5e3f42;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x568961(0x263),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x568961(0x340),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2fe430=a2_0x5e3f42;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2fe430(0x268)](),DataManager[_0x2fe430(0x2e9)](_0x2fe430(0x340),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1198e9){const _0x3058aa=a2_0x5e3f42;document[_0x3058aa(0x33b)]('overlay')[_0x3058aa(0x301)][_0x3058aa(0x234)](_0x3058aa(0x236)),document[_0x3058aa(0x33b)](_0x1198e9)['classList'][_0x3058aa(0x234)]('open');}function closeAllSheets(){const _0x2de295=a2_0x5e3f42;document[_0x2de295(0x33b)](_0x2de295(0x1f0))[_0x2de295(0x301)]['remove'](_0x2de295(0x236)),document[_0x2de295(0x1f4)](_0x2de295(0x2c9))[_0x2de295(0x246)](_0x27e875=>_0x27e875['classList'][_0x2de295(0x217)](_0x2de295(0x2ad)));}function openPatternEditor(){const _0x343730=a2_0x5e3f42;closeAllSheets(),document[_0x343730(0x33b)]('patternEditor')[_0x343730(0x301)][_0x343730(0x234)](_0x343730(0x2ad)),renderPatternEditor();}function closePatternEditor(){const _0x1ba726=a2_0x5e3f42;document['getElementById']('patternEditor')[_0x1ba726(0x301)][_0x1ba726(0x217)](_0x1ba726(0x2ad));}function savePattern(){const _0x4c2e06=a2_0x5e3f42;document[_0x4c2e06(0x33b)]('patternEditor')[_0x4c2e06(0x301)][_0x4c2e06(0x217)](_0x4c2e06(0x2ad)),reRenderBlocks(),DataManager[_0x4c2e06(0x268)](),DataManager[_0x4c2e06(0x2e9)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2d4025=a2_0x5e3f42,_0x4e5187=document[_0x2d4025(0x33b)](_0x2d4025(0x2aa));_0x4e5187[_0x2d4025(0x344)]='';const _0x225a99=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e3a39=document[_0x2d4025(0x2f7)](_0x2d4025(0x30f));_0x1e3a39[_0x2d4025(0x225)]=_0x2d4025(0x2ab),_0x4e5187[_0x2d4025(0x29f)](_0x1e3a39),_0x225a99[_0x2d4025(0x246)]((_0x430448,_0x4c97bf)=>{const _0x38cc87=_0x2d4025,_0x5a2340=document[_0x38cc87(0x2f7)](_0x38cc87(0x30f));_0x5a2340[_0x38cc87(0x225)]=_0x38cc87(0x216),_0x5a2340[_0x38cc87(0x344)]=_0x430448+_0x38cc87(0x221),_0x5a2340[_0x38cc87(0x1e6)]=()=>toggleColPattern(_0x4c97bf),_0x4e5187[_0x38cc87(0x29f)](_0x5a2340);});for(let _0x483db2=0x0;_0x483db2<0x18;_0x483db2++){const _0x4fdb9a=document[_0x2d4025(0x2f7)](_0x2d4025(0x30f));_0x4fdb9a[_0x2d4025(0x225)]=_0x2d4025(0x2c8),_0x4fdb9a['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x483db2)[_0x2d4025(0x2d3)](0x2,'0')+_0x2d4025(0x302),_0x4fdb9a[_0x2d4025(0x1e6)]=()=>toggleRowPattern(_0x483db2),_0x4e5187[_0x2d4025(0x29f)](_0x4fdb9a);for(let _0x8a9674=0x0;_0x8a9674<0x7;_0x8a9674++){const _0x4e16c4=document[_0x2d4025(0x2f7)](_0x2d4025(0x30f)),_0x115291=(availabilityPattern[_0x8a9674]||[])[_0x2d4025(0x2bc)](_0x483db2),_0x5313d9=!_0x115291;_0x4e16c4[_0x2d4025(0x225)]='pe-cell\x20'+(_0x5313d9?_0x2d4025(0x236):''),_0x4e16c4[_0x2d4025(0x1e6)]=()=>toggleSinglePattern(_0x8a9674,_0x483db2),_0x4e5187[_0x2d4025(0x29f)](_0x4e16c4);}}}function toggleSinglePattern(_0x4f238c,_0x3a2ad5){if(!availabilityPattern[_0x4f238c])availabilityPattern[_0x4f238c]=[];const _0x6912f8=availabilityPattern[_0x4f238c],_0x50a470=_0x6912f8['indexOf'](_0x3a2ad5);_0x50a470===-0x1?_0x6912f8['push'](_0x3a2ad5):_0x6912f8['splice'](_0x50a470,0x1),renderPatternEditor();}function toggleColPattern(_0x1b506e){const _0x50d42a=a2_0x5e3f42;if(!availabilityPattern[_0x1b506e])availabilityPattern[_0x1b506e]=[];const _0x2eea89=availabilityPattern[_0x1b506e];_0x2eea89[_0x50d42a(0x29d)]===0x0?availabilityPattern[_0x1b506e]=Array[_0x50d42a(0x249)]({'length':0x18},(_0xf9e9ce,_0x5c2b7e)=>_0x5c2b7e):availabilityPattern[_0x1b506e]=[],renderPatternEditor();}function toggleRowPattern(_0x4ea9d4){const _0xe5452b=a2_0x5e3f42;let _0x5e04f5=!![];for(let _0x1f08c7=0x0;_0x1f08c7<0x7;_0x1f08c7++){if((availabilityPattern[_0x1f08c7]||[])[_0xe5452b(0x2bc)](_0x4ea9d4)){_0x5e04f5=![];break;}}for(let _0x378427=0x0;_0x378427<0x7;_0x378427++){if(!availabilityPattern[_0x378427])availabilityPattern[_0x378427]=[];const _0x4aa98d=availabilityPattern[_0x378427]['indexOf'](_0x4ea9d4);if(_0x5e04f5){if(_0x4aa98d===-0x1)availabilityPattern[_0x378427][_0xe5452b(0x30e)](_0x4ea9d4);}else{if(_0x4aa98d!==-0x1)availabilityPattern[_0x378427][_0xe5452b(0x362)](_0x4aa98d,0x1);}}renderPatternEditor();}function renderPCol(_0x1774e4,_0x175138){const _0xf69418=a2_0x5e3f42;_0x1774e4['innerHTML']='';const _0x5d505f=Math[_0xf69418(0x357)](_0x1774e4[_0xf69418(0x22f)]);(availabilityPattern[_0x175138]||[])[_0xf69418(0x246)](_0x161d2e=>{const _0x8c4d10=_0xf69418,_0x471256=document[_0x8c4d10(0x2f7)](_0x8c4d10(0x30f));_0x471256[_0x8c4d10(0x225)]='blocked-slot\x20stripe-bg';const _0xc4cd87=_0x161d2e*GRID_H;_0x471256[_0x8c4d10(0x244)]['top']=_0xc4cd87+'px',_0x471256[_0x8c4d10(0x244)]['backgroundPosition']='-'+_0x5d505f+_0x8c4d10(0x222)+_0xc4cd87+'px',_0x471256[_0x8c4d10(0x1e6)]=_0x1e834d=>{const _0x456d5b=_0x8c4d10;_0x1e834d[_0x456d5b(0x308)](),toggleSinglePattern(_0x175138,_0x161d2e);},_0x1774e4[_0x8c4d10(0x29f)](_0x471256);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x301c94=a2_0x5e3f42,_0xf45255=new Date(),_0x5ec4ab=document[_0x301c94(0x33b)]('globalTimeLine'),_0x4871e6=document[_0x301c94(0x33b)](_0x301c94(0x295)),_0xcc3dd3=(_0xf45255[_0x301c94(0x20e)]()*0x3c+_0xf45255['getMinutes']())/0x3c*GRID_H;_0x5ec4ab[_0x301c94(0x244)][_0x301c94(0x1ea)]=_0xcc3dd3+'px',_0x5ec4ab[_0x301c94(0x244)]['display']=_0x301c94(0x2cd),_0x4871e6[_0x301c94(0x280)]=String(_0xf45255[_0x301c94(0x20e)]())[_0x301c94(0x2d3)](0x2,'0')+':'+String(_0xf45255[_0x301c94(0x2b1)]())['padStart'](0x2,'0'),_0x4871e6[_0x301c94(0x244)][_0x301c94(0x35d)]=_0x301c94(0x2cd),_0x4871e6[_0x301c94(0x244)][_0x301c94(0x1ea)]=_0xcc3dd3+'px';}document[a2_0x5e3f42(0x273)]('DOMContentLoaded',init);function openDayOptions(_0x14ec98){const _0x128742=a2_0x5e3f42;selectedDayForOptions=_0x14ec98;const _0xe6e4d2=new Date(_0x14ec98),_0x45f2ac={'weekday':_0x128742(0x293),'day':_0x128742(0x35b),'month':'long','year':_0x128742(0x35b)},_0x13ee44=_0xe6e4d2['toLocaleDateString']('ru-RU',_0x45f2ac);document[_0x128742(0x33b)]('doDateHeader')[_0x128742(0x280)]=_0x13ee44[_0x128742(0x358)](0x0)[_0x128742(0x348)]()+_0x13ee44[_0x128742(0x2f4)](0x1);let _0x2ebcab=_0xe6e4d2[_0x128742(0x21c)]()-0x1;if(_0x2ebcab===-0x1)_0x2ebcab=0x6;const _0x3d6839=availabilityPattern[_0x2ebcab]||[],_0x96ac12=0x18-_0x3d6839['length'],_0x41a1c6=_0x96ac12*0x3c,_0x37838f=sessions[_0x128742(0x21a)](_0x239c17=>_0x239c17['dateStr']===_0x14ec98&&_0x239c17[_0x128742(0x2e4)]!==_0x128742(0x30d));let _0x4168a6=_0x37838f[_0x128742(0x23f)](_0x151b91=>{const _0x24a0fb=_0x128742,[_0x28ad04,_0x41314f]=_0x151b91[_0x24a0fb(0x325)][_0x24a0fb(0x2ac)](':')[_0x24a0fb(0x23f)](Number),[_0x3eb608,_0x1a8c52]=_0x151b91['end']['split'](':')[_0x24a0fb(0x23f)](Number);return[_0x28ad04*0x3c+_0x41314f,_0x3eb608*0x3c+_0x1a8c52];});_0x4168a6[_0x128742(0x28e)]((_0x4a61ad,_0x2e8a7c)=>_0x4a61ad[0x0]-_0x2e8a7c[0x0]);let _0x597162=[];if(_0x4168a6['length']>0x0){let _0x545f77=_0x4168a6[0x0];for(let _0x106058=0x1;_0x106058<_0x4168a6[_0x128742(0x29d)];_0x106058++){_0x4168a6[_0x106058][0x0]<_0x545f77[0x1]?_0x545f77[0x1]=Math[_0x128742(0x264)](_0x545f77[0x1],_0x4168a6[_0x106058][0x1]):(_0x597162['push'](_0x545f77),_0x545f77=_0x4168a6[_0x106058]);}_0x597162[_0x128742(0x30e)](_0x545f77);}let _0x3e7587=0x0;_0x597162['forEach'](_0x1df07d=>_0x3e7587+=_0x1df07d[0x1]-_0x1df07d[0x0]),document[_0x128742(0x33b)](_0x128742(0x309))['textContent']=formatMinsToHrs(_0x41a1c6),document[_0x128742(0x33b)](_0x128742(0x2e7))[_0x128742(0x280)]=formatMinsToHrs(_0x3e7587);const _0x2a6e20=_0x41a1c6>0x0?Math[_0x128742(0x357)](_0x3e7587/_0x41a1c6*0x64):0x0,_0x4cb3d8=document['getElementById'](_0x128742(0x2f2));_0x4cb3d8[_0x128742(0x280)]=_0x2a6e20+'%';const _0x4c145b=document[_0x128742(0x33b)](_0x128742(0x237));if(_0x2a6e20>0x64)_0x4cb3d8[_0x128742(0x244)][_0x128742(0x2f9)]='var(--acc-red)',_0x4c145b[_0x128742(0x244)]['borderColor']=_0x128742(0x25b);else _0x2a6e20>0x50?(_0x4cb3d8[_0x128742(0x244)]['color']=_0x128742(0x33a),_0x4c145b[_0x128742(0x244)]['borderColor']=_0x128742(0x2dd)):(_0x4cb3d8['style'][_0x128742(0x2f9)]='var(--acc-green)',_0x4c145b[_0x128742(0x244)][_0x128742(0x305)]=_0x128742(0x292));const _0x1e8052=document[_0x128742(0x33b)](_0x128742(0x1f1));_0x1e8052[_0x128742(0x344)]='';_0x37838f[_0x128742(0x29d)]===0x0?_0x1e8052[_0x128742(0x344)]=_0x128742(0x347):(_0x37838f[_0x128742(0x28e)]((_0x560f39,_0x448e9e)=>_0x560f39[_0x128742(0x325)][_0x128742(0x356)](_0x448e9e['start'])),_0x37838f[_0x128742(0x246)](_0x2515c5=>{const _0x14d559=_0x128742,_0x7da613=clients['find'](_0x9d9ea9=>_0x9d9ea9[_0x14d559(0x32d)]===_0x2515c5['client']),_0xc111c=_0x7da613?_0x7da613['color']:_0x14d559(0x337),_0x2b8a42=_0x2515c5[_0x14d559(0x2e4)]===_0x14d559(0x30c),_0x1ef549=_0x2b8a42?_0x14d559(0x2a9):'',_0x553025=document[_0x14d559(0x2f7)](_0x14d559(0x30f));_0x553025['className']=_0x14d559(0x343),_0x553025[_0x14d559(0x244)]['borderLeftColor']=_0xc111c,_0x553025[_0x14d559(0x344)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x2515c5[_0x14d559(0x325)]+_0x14d559(0x260)+_0x2515c5[_0x14d559(0x342)]+_0x14d559(0x24e)+_0x2515c5[_0x14d559(0x2d0)]+_0x14d559(0x2c6)+_0x1ef549+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1e8052[_0x14d559(0x29f)](_0x553025);}));const _0xde3f0a=document[_0x128742(0x33b)](_0x128742(0x258)),_0x46fb0a=dateExceptions[_0x14ec98]===_0x128742(0x263);_0x46fb0a?(_0xde3f0a[_0x128742(0x280)]=_0x128742(0x24f),_0xde3f0a[_0x128742(0x225)]=_0x128742(0x231),_0xde3f0a[_0x128742(0x244)][_0x128742(0x2f9)]='var(--acc-green)',_0xde3f0a[_0x128742(0x244)][_0x128742(0x341)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0xde3f0a[_0x128742(0x280)]=_0x128742(0x33d),_0xde3f0a[_0x128742(0x225)]=_0x128742(0x2c0),_0xde3f0a[_0x128742(0x244)][_0x128742(0x2f9)]=_0x128742(0x2fd),_0xde3f0a[_0x128742(0x244)]['background']=_0x128742(0x287)),openSheet(_0x128742(0x267));}let currentAnPeriod=a2_0x5e3f42(0x209);function openAnalytics(){const _0x11f066=a2_0x5e3f42,_0x1eb0b6=document[_0x11f066(0x22e)](_0x11f066(0x25c));setAnalyticsPeriod(_0x11f066(0x209),_0x1eb0b6),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x44b38c,_0x119475){const _0x38d1b0=a2_0x5e3f42;currentAnPeriod=_0x44b38c,document[_0x38d1b0(0x1f4)](_0x38d1b0(0x25c))['forEach'](_0x24f162=>_0x24f162[_0x38d1b0(0x301)][_0x38d1b0(0x217)](_0x38d1b0(0x236)));if(_0x119475)_0x119475['classList'][_0x38d1b0(0x234)](_0x38d1b0(0x236));const _0x10a1e9=document[_0x38d1b0(0x33b)](_0x38d1b0(0x315));_0x10a1e9[_0x38d1b0(0x244)][_0x38d1b0(0x35d)]=_0x44b38c===_0x38d1b0(0x255)?_0x38d1b0(0x2cb):_0x38d1b0(0x1f3);const _0x25257b=new Date();let _0x331ea5=new Date(),_0x461073=new Date();if(_0x44b38c===_0x38d1b0(0x209))_0x331ea5=getStartOfWeek(_0x25257b),_0x461073=new Date(_0x331ea5),_0x461073[_0x38d1b0(0x2ed)](_0x461073['getDate']()+0x6);else{if(_0x44b38c===_0x38d1b0(0x2d9))_0x331ea5=new Date(_0x25257b[_0x38d1b0(0x233)](),_0x25257b[_0x38d1b0(0x29c)](),0x1),_0x461073=new Date(_0x25257b[_0x38d1b0(0x233)](),_0x25257b[_0x38d1b0(0x29c)]()+0x1,0x0);else{!document[_0x38d1b0(0x33b)]('anStart')[_0x38d1b0(0x243)]&&(document[_0x38d1b0(0x33b)](_0x38d1b0(0x2e5))[_0x38d1b0(0x243)]=getLocalDateStr(_0x25257b),document[_0x38d1b0(0x33b)](_0x38d1b0(0x205))[_0x38d1b0(0x243)]=getLocalDateStr(_0x25257b));refreshAnalytics();return;}}document[_0x38d1b0(0x33b)](_0x38d1b0(0x2e5))['value']=getLocalDateStr(_0x331ea5),document[_0x38d1b0(0x33b)]('anEnd')[_0x38d1b0(0x243)]=getLocalDateStr(_0x461073),refreshAnalytics();}function refreshAnalytics(){const _0x36ad81=a2_0x5e3f42,_0x14fb83=document[_0x36ad81(0x33b)](_0x36ad81(0x2e5))[_0x36ad81(0x243)],_0x5adf02=document[_0x36ad81(0x33b)](_0x36ad81(0x205))[_0x36ad81(0x243)];if(!_0x14fb83||!_0x5adf02)return;const _0x66ed49=sessions['filter'](_0x165e23=>_0x165e23[_0x36ad81(0x323)]>=_0x14fb83&&_0x165e23[_0x36ad81(0x323)]<=_0x5adf02&&_0x165e23[_0x36ad81(0x2e4)]!==_0x36ad81(0x30d)),_0x26ec7a=_0x66ed49[_0x36ad81(0x29d)],_0x56b462=_0x66ed49[_0x36ad81(0x21a)](_0x53488c=>_0x53488c[_0x36ad81(0x2e4)]===_0x36ad81(0x30c))['length'],_0x1684cc=_0x26ec7a>0x0?Math['round'](_0x56b462/_0x26ec7a*0x64):0x0;document[_0x36ad81(0x33b)](_0x36ad81(0x32a))[_0x36ad81(0x280)]=_0x1684cc+'%',document[_0x36ad81(0x33b)](_0x36ad81(0x34b))[_0x36ad81(0x280)]=_0x56b462+_0x36ad81(0x2f5)+_0x26ec7a+_0x36ad81(0x2ef);const _0x215ffd=document[_0x36ad81(0x33b)](_0x36ad81(0x2de)),_0x30af7a=0x2*Math['PI']*0x23,_0x168146=_0x30af7a-_0x1684cc/0x64*_0x30af7a;_0x215ffd['style'][_0x36ad81(0x1e7)]=_0x168146;const _0x5e0eec={};_0x66ed49[_0x36ad81(0x246)](_0x3078d6=>{const _0x1cde64=_0x36ad81;if(!_0x5e0eec[_0x3078d6['client']]){const _0x5df699=clients[_0x1cde64(0x327)](_0x59c749=>_0x59c749['name']===_0x3078d6[_0x1cde64(0x2d0)]);_0x5e0eec[_0x3078d6[_0x1cde64(0x2d0)]]={'total':0x0,'done':0x0,'color':_0x5df699?_0x5df699[_0x1cde64(0x2f9)]:'#fff'};}_0x5e0eec[_0x3078d6[_0x1cde64(0x2d0)]][_0x1cde64(0x274)]++;if(_0x3078d6[_0x1cde64(0x2e4)]===_0x1cde64(0x30c))_0x5e0eec[_0x3078d6[_0x1cde64(0x2d0)]][_0x1cde64(0x1ff)]++;});const _0x29808e=document[_0x36ad81(0x33b)](_0x36ad81(0x1f6));_0x29808e[_0x36ad81(0x344)]='';const _0x4fa84d=Object[_0x36ad81(0x285)](_0x5e0eec)[_0x36ad81(0x28e)]((_0x29855c,_0x4d30ce)=>_0x4d30ce[0x1]['total']-_0x29855c[0x1]['total']);if(_0x4fa84d[_0x36ad81(0x29d)]===0x0){_0x29808e[_0x36ad81(0x344)]=_0x36ad81(0x1e5);return;}_0x4fa84d['forEach'](([_0x33a9f9,_0x240ca8])=>{const _0x699601=_0x36ad81,_0x56480e=Math[_0x699601(0x357)](_0x240ca8['done']/_0x240ca8['total']*0x64),_0x5a04c5=document[_0x699601(0x2f7)](_0x699601(0x30f));_0x5a04c5['className']=_0x699601(0x2e8),_0x5a04c5[_0x699601(0x244)]['borderLeftColor']=_0x240ca8[_0x699601(0x2f9)],_0x5a04c5['innerHTML']=_0x699601(0x353)+_0x33a9f9+_0x699601(0x2e6)+_0x240ca8['done']+'</span>\x20/\x20'+_0x240ca8[_0x699601(0x274)]+_0x699601(0x29a)+_0x56480e+_0x699601(0x230),_0x29808e[_0x699601(0x29f)](_0x5a04c5);});}function formatMinsToHrs(_0x5b76a9){const _0x4233f1=a2_0x5e3f42;if(_0x5b76a9===0x0)return'0';const _0x158429=Math[_0x4233f1(0x27a)](_0x5b76a9/0x3c),_0x1b9657=_0x5b76a9%0x3c;if(_0x1b9657===0x0)return _0x158429+'—á';return _0x158429+'—á\x20'+_0x1b9657+'–º';}