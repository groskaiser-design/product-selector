const a2_0xd7d60e=a2_0xdd82;(function(_0x304034,_0x53969f){const _0x2ed51b=a2_0xdd82,_0x4b3f74=_0x304034();while(!![]){try{const _0x4430db=parseInt(_0x2ed51b(0x25e))/0x1+parseInt(_0x2ed51b(0x189))/0x2+-parseInt(_0x2ed51b(0x209))/0x3*(parseInt(_0x2ed51b(0x267))/0x4)+parseInt(_0x2ed51b(0x1c5))/0x5*(parseInt(_0x2ed51b(0x140))/0x6)+-parseInt(_0x2ed51b(0x298))/0x7*(-parseInt(_0x2ed51b(0x200))/0x8)+-parseInt(_0x2ed51b(0x184))/0x9+-parseInt(_0x2ed51b(0x242))/0xa*(parseInt(_0x2ed51b(0x1b6))/0xb);if(_0x4430db===_0x53969f)break;else _0x4b3f74['push'](_0x4b3f74['shift']());}catch(_0x529a89){_0x4b3f74['push'](_0x4b3f74['shift']());}}}(a2_0x40ef,0xa4c4a),function initTMA(){const _0x509517=a2_0xdd82;try{const _0x43236b=window[_0x509517(0x240)]?.[_0x509517(0x182)];if(!_0x43236b)return;_0x43236b[_0x509517(0x1a3)](),_0x43236b[_0x509517(0x178)]();try{_0x43236b['setHeaderColor'](_0x509517(0x13d)),_0x43236b['setBackgroundColor']&&_0x43236b[_0x509517(0x219)]('#050505');}catch(_0x1467c9){console[_0x509517(0x29a)](_0x509517(0x29b),_0x1467c9);}try{_0x43236b[_0x509517(0x1ff)]&&(_0x43236b[_0x509517(0x1ff)][_0x509517(0x1d3)](),_0x43236b[_0x509517(0x1ff)][_0x509517(0x171)](),_0x43236b['BackButton']['onClick'](function(){const _0x35e4a8=_0x509517;window['location'][_0x35e4a8(0x1b7)]=_0x35e4a8(0x1fa);}));}catch(_0x4bd30d){console[_0x509517(0x29a)](_0x509517(0x1ca),_0x4bd30d);}try{if(_0x43236b['disableVerticalSwipes'])_0x43236b[_0x509517(0x26d)]();}catch(_0x47945d){}}catch(_0x1c73c3){console['error'](_0x509517(0x1a8),_0x1c73c3);}}());function isAdmin(){const _0x1815bb=a2_0xdd82;try{const _0x46153=Number(window[_0x1815bb(0x240)]?.[_0x1815bb(0x182)]?.['initDataUnsafe']?.[_0x1815bb(0x1ee)]?.['id']);return _0x46153===0xbaf7174;}catch(_0x1a28fe){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0xd7d60e(0x1e0),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xd7d60e(0x14f),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0xd7d60e(0x16d);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5f0f5c=a2_0xd7d60e;return window['Telegram']?.[_0x5f0f5c(0x182)]?.[_0x5f0f5c(0x1f0)]?.['user']?.['id']||_0x5f0f5c(0x144);},'saveLocally'(){const _0x462212=a2_0xd7d60e;try{localStorage[_0x462212(0x22b)](KEY_CLIENTS,JSON[_0x462212(0x1a2)](clients)),localStorage[_0x462212(0x22b)](KEY_SESSIONS,JSON[_0x462212(0x1a2)](sessions)),localStorage[_0x462212(0x22b)](KEY_SETTINGS,JSON[_0x462212(0x1a2)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x320174){console[_0x462212(0x183)](_0x462212(0x21a),_0x320174);}},'loadLocal'(){const _0x44dd33=a2_0xd7d60e;try{const _0x17d905=localStorage[_0x44dd33(0x260)](KEY_CLIENTS);if(_0x17d905)clients=JSON[_0x44dd33(0x146)](_0x17d905);const _0x25db48=localStorage[_0x44dd33(0x260)](KEY_SESSIONS);if(_0x25db48)sessions=JSON[_0x44dd33(0x146)](_0x25db48);const _0x40dfdf=localStorage[_0x44dd33(0x260)](KEY_SETTINGS);if(_0x40dfdf){const _0x59a57d=JSON[_0x44dd33(0x146)](_0x40dfdf);if(_0x59a57d[_0x44dd33(0x19b)])availabilityPattern=_0x59a57d[_0x44dd33(0x19b)];if(_0x59a57d[_0x44dd33(0x21b)])dateExceptions=_0x59a57d['exceptions'];if(_0x59a57d[_0x44dd33(0x17d)])specialRanges=_0x59a57d[_0x44dd33(0x17d)];}else{for(let _0x6d80c0=0x0;_0x6d80c0<0x7;_0x6d80c0++)availabilityPattern[_0x6d80c0]=Array[_0x44dd33(0x1c4)]({'length':0xc},(_0x25e04e,_0x5b6203)=>_0x5b6203+0x9);}}catch(_0x3c8c1a){console[_0x44dd33(0x183)](_0x44dd33(0x151),_0x3c8c1a);}},async 'fetchFromServer'(_0x10e237,_0x2af30b={}){const _0x276f74=a2_0xd7d60e,_0x266046=window[_0x276f74(0x240)]?.[_0x276f74(0x182)],_0x20744b={'action':_0x10e237,'init_data':_0x266046?.['initData']||'',..._0x2af30b};try{const _0x10b94b=await fetch(API_URL,{'method':_0x276f74(0x264),'headers':{'Content-Type':_0x276f74(0x1f8)},'body':JSON[_0x276f74(0x1a2)](_0x20744b)}),_0x58eddd=await _0x10b94b[_0x276f74(0x1a4)]();if(!_0x58eddd['ok'])throw new Error(_0x58eddd[_0x276f74(0x183)]||_0x276f74(0x29d));return _0x58eddd[_0x276f74(0x1d5)];}catch(_0xb8ced1){console[_0x276f74(0x183)](_0x276f74(0x283)+_0x10e237+_0x276f74(0x130),_0xb8ced1);throw _0xb8ced1;}},async 'syncLoad'(){const _0xb7432b=a2_0xd7d60e,_0x5c29c3=new Date(),_0x294d75=_0x5c29c3[_0xb7432b(0x28b)]()+'-'+String(_0x5c29c3['getMonth']()+0x1)[_0xb7432b(0x26e)](0x2,'0'),_0xf0d4dd=new Date(_0x5c29c3);_0xf0d4dd[_0xb7432b(0x1e3)](_0x5c29c3['getMonth']()+0x1);const _0x4f1b61=_0xf0d4dd[_0xb7432b(0x28b)]()+'-'+String(_0xf0d4dd['getMonth']()+0x1)[_0xb7432b(0x26e)](0x2,'0'),_0x3c8870=Date[_0xb7432b(0x168)]();console[_0xb7432b(0x29a)](_0xb7432b(0x198)+_0x294d75+',\x20'+_0x4f1b61+_0xb7432b(0x17c));try{const [_0x3ba9de,_0x160b60]=await Promise['all']([this['fetchFromServer'](_0xb7432b(0x25f),{'month_str':_0x294d75}),this['fetchFromServer'](_0xb7432b(0x25f),{'month_str':_0x4f1b61})]);if(lastUserActionTime>_0x3c8870)return console[_0xb7432b(0x12c)](_0xb7432b(0x23d)),![];return this[_0xb7432b(0x1a9)](_0x3ba9de,_0x294d75),this[_0xb7432b(0x1a9)](_0x160b60,_0x4f1b61),this[_0xb7432b(0x170)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1079de){console['error'](_0x1079de);throw _0x1079de;}},'mergeServerData'(_0x428447,_0x136ec0){const _0x5d565a=a2_0xd7d60e;if(!_0x428447)return;_0x428447[_0x5d565a(0x204)]&&Array[_0x5d565a(0x266)](_0x428447[_0x5d565a(0x204)])&&(clients=_0x428447[_0x5d565a(0x204)]);if(_0x428447['settings']){if(_0x428447[_0x5d565a(0x23a)][_0x5d565a(0x19b)])availabilityPattern=_0x428447[_0x5d565a(0x23a)][_0x5d565a(0x19b)];if(_0x428447[_0x5d565a(0x23a)]['exceptions'])dateExceptions=_0x428447['settings'][_0x5d565a(0x21b)];if(_0x428447['settings'][_0x5d565a(0x17d)])specialRanges=_0x428447[_0x5d565a(0x23a)][_0x5d565a(0x17d)];if(_0x428447[_0x5d565a(0x23a)][_0x5d565a(0x185)]){localStorage[_0x5d565a(0x22b)](_0x5d565a(0x16c),_0x428447['settings'][_0x5d565a(0x185)]);const _0x42e20f=document[_0x5d565a(0x1d6)]('settingCancelWindow');if(_0x42e20f)_0x42e20f['value']=_0x428447['settings'][_0x5d565a(0x185)];}}_0x428447[_0x5d565a(0x241)]&&(sessions=sessions[_0x5d565a(0x218)](_0x3babdf=>!_0x3babdf[_0x5d565a(0x1e5)][_0x5d565a(0x152)](_0x136ec0)),Object['keys'](_0x428447[_0x5d565a(0x241)])['forEach'](_0x1c68c3=>{const _0x3f20c2=_0x5d565a,_0x1de1e8=_0x428447['calendar'][_0x1c68c3];_0x1de1e8[_0x3f20c2(0x20f)](_0xe664a=>{const _0x46bf00=_0x3f20c2,_0x2ee86e=clients[_0x46bf00(0x160)](_0xbb4838=>String(_0xbb4838['id'])===String(_0xe664a['c']));sessions[_0x46bf00(0x252)]({'id':_0xe664a['i'],'clientId':_0xe664a['c'],'client':_0x2ee86e?_0x2ee86e[_0x46bf00(0x1dc)]:_0x46bf00(0x24f),'dateStr':_0x136ec0+'-'+_0x1c68c3[_0x46bf00(0x26e)](0x2,'0'),'start':_0xe664a['s'],'end':_0xe664a['e'],'status':_0xe664a['st']||_0x46bf00(0x203),'note':_0xe664a['n']||'','seriesId':_0xe664a['sid']||null});});}));},async 'syncBatch'(_0x41675a){const _0x48e568=a2_0xd7d60e,_0x2fe402=[...new Set(_0x41675a)],_0x1b66bd=_0x2fe402[_0x48e568(0x22a)](_0x59b423=>{const _0x2b43be=_0x48e568,_0x47aa47=sessions[_0x2b43be(0x218)](_0x275723=>_0x275723[_0x2b43be(0x1e5)]===_0x59b423&&_0x275723[_0x2b43be(0x206)]!=='deleted'),_0x34af32=_0x47aa47[_0x2b43be(0x22a)](_0x37f729=>({'i':_0x37f729['id'],'c':_0x37f729['clientId'],'s':_0x37f729[_0x2b43be(0x211)],'e':_0x37f729[_0x2b43be(0x133)],'st':_0x37f729['status'],'n':_0x37f729[_0x2b43be(0x1c2)],'sid':_0x37f729[_0x2b43be(0x232)]}));return{'date':_0x59b423,'day_data':_0x34af32};});if(_0x1b66bd[_0x48e568(0x19a)]===0x0)return;console[_0x48e568(0x29a)](_0x48e568(0x22c)+_0x1b66bd[_0x48e568(0x19a)]+_0x48e568(0x296)),await this[_0x48e568(0x14a)]('batch_sync',{'changes':_0x1b66bd});}};async function init(){const _0x4b055e=a2_0xd7d60e;DataManager[_0x4b055e(0x16e)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4b055e(0x1d6)]('matrixViewport')[_0x4b055e(0x15f)](_0x4b055e(0x222),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4b055e(0x1c1)]()[_0x4b055e(0x21d)](()=>{const _0x41c6f3=_0x4b055e;showToast(_0x41c6f3(0x2a5),!![]);})[_0x4b055e(0x212)](_0xf8941d=>{const _0x52050f=_0x4b055e;showToast(_0x52050f(0x26b),![]);});}function generateId(){const _0x2db571=a2_0xd7d60e;return Date[_0x2db571(0x168)]()[_0x2db571(0x27a)](0x24)+Math[_0x2db571(0x15c)]()['toString'](0x24)[_0x2db571(0x199)](0x2,0x5);}function toggleSeriesInput(){const _0x172af5=a2_0xd7d60e,_0x3dc67b=document[_0x172af5(0x1d6)](_0x172af5(0x14e))[_0x172af5(0x136)],_0x3432d9=document[_0x172af5(0x1d6)]('seriesCountContainer');_0x3432d9[_0x172af5(0x166)][_0x172af5(0x237)]=_0x3dc67b?_0x172af5(0x179):_0x172af5(0x1e9);const _0x1ffbf3=document[_0x172af5(0x1d6)](_0x172af5(0x23e));_0x1ffbf3['style'][_0x172af5(0x156)]=_0x3dc67b?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x2b8aa9){const _0xcd860=a2_0xd7d60e;editingId=null,populateClientSelect(),document[_0xcd860(0x1d6)](_0xcd860(0x142))['textContent']=_0xcd860(0x24d),document['getElementById']('btnDelete')['style'][_0xcd860(0x237)]='none',document[_0xcd860(0x1d6)]('btnStatusToggle')['style'][_0xcd860(0x237)]=_0xcd860(0x1e9);const _0x13f80e=document[_0xcd860(0x1d6)](_0xcd860(0x23e)),_0x56ecd0=document[_0xcd860(0x1d6)](_0xcd860(0x258));_0x13f80e['style'][_0xcd860(0x237)]=_0xcd860(0x13e),_0x13f80e[_0xcd860(0x166)]['borderRadius']=_0xcd860(0x27e),document[_0xcd860(0x1d6)](_0xcd860(0x14e))[_0xcd860(0x136)]=![],document[_0xcd860(0x1d6)](_0xcd860(0x158))[_0xcd860(0x1b5)]=0x4,_0x56ecd0[_0xcd860(0x166)]['display']=_0xcd860(0x1e9),document[_0xcd860(0x1d6)](_0xcd860(0x1ab))[_0xcd860(0x1b5)]=getLocalDateStr(_0x2b8aa9),updateDateDisplay();const _0xcbdbc4=_0x2b8aa9[_0xcd860(0x17b)]();document[_0xcd860(0x1d6)](_0xcd860(0x236))[_0xcd860(0x1b5)]=String(_0xcbdbc4)[_0xcd860(0x26e)](0x2,'0')+_0xcd860(0x254),document[_0xcd860(0x1d6)](_0xcd860(0x22f))['value']=String(_0xcbdbc4+0x1)[_0xcd860(0x26e)](0x2,'0')+_0xcd860(0x254),openSheet(_0xcd860(0x279));}function openEdit(_0x23f5fd){const _0x490ac8=a2_0xd7d60e;editingId=_0x23f5fd['id'],populateClientSelect(),document[_0x490ac8(0x1d6)](_0x490ac8(0x142))[_0x490ac8(0x1f7)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x490ac8(0x1d6)](_0x490ac8(0x265))[_0x490ac8(0x166)][_0x490ac8(0x237)]='block';const _0x56db03=document[_0x490ac8(0x1d6)](_0x490ac8(0x28c));_0x56db03[_0x490ac8(0x166)][_0x490ac8(0x237)]=_0x490ac8(0x13e);_0x23f5fd[_0x490ac8(0x206)]===_0x490ac8(0x261)?(_0x56db03[_0x490ac8(0x18e)]=_0x490ac8(0x197),_0x56db03['innerHTML']=_0x490ac8(0x21f)):(_0x56db03['className']=_0x490ac8(0x1ac),_0x56db03[_0x490ac8(0x230)]=_0x490ac8(0x14d));const _0x3b9783=!!_0x23f5fd['seriesId'];document['getElementById'](_0x490ac8(0x23e))[_0x490ac8(0x166)][_0x490ac8(0x237)]=_0x490ac8(0x1e9),document['getElementById'](_0x490ac8(0x258))['style'][_0x490ac8(0x237)]=_0x490ac8(0x1e9),_0x3b9783?(document['getElementById'](_0x490ac8(0x270))[_0x490ac8(0x166)]['display']=_0x490ac8(0x13e),document[_0x490ac8(0x1d6)]('patternInfoBox')['querySelector'](_0x490ac8(0x299))[_0x490ac8(0x1f7)]=_0x490ac8(0x19f)):document['getElementById'](_0x490ac8(0x270))[_0x490ac8(0x166)][_0x490ac8(0x237)]='none',document[_0x490ac8(0x1d6)](_0x490ac8(0x1b1))['value']=_0x23f5fd[_0x490ac8(0x1be)],document[_0x490ac8(0x1d6)](_0x490ac8(0x1ab))[_0x490ac8(0x1b5)]=_0x23f5fd['dateStr'],document['getElementById'](_0x490ac8(0x236))[_0x490ac8(0x1b5)]=_0x23f5fd[_0x490ac8(0x211)],document[_0x490ac8(0x1d6)](_0x490ac8(0x22f))[_0x490ac8(0x1b5)]=_0x23f5fd[_0x490ac8(0x133)],document[_0x490ac8(0x1d6)]('inpNote')[_0x490ac8(0x1b5)]=_0x23f5fd[_0x490ac8(0x1c2)]||'',updateDateDisplay(),openSheet(_0x490ac8(0x279));}async function trySaveSession(){const _0x35bc71=a2_0xd7d60e,_0x314a6b=document[_0x35bc71(0x1d6)](_0x35bc71(0x1b1))[_0x35bc71(0x1b5)],_0x31d3aa=document[_0x35bc71(0x1d6)](_0x35bc71(0x1ab))[_0x35bc71(0x1b5)],_0x2927e3=document[_0x35bc71(0x1d6)](_0x35bc71(0x236))[_0x35bc71(0x1b5)],_0xfa3d69=document[_0x35bc71(0x1d6)](_0x35bc71(0x22f))[_0x35bc71(0x1b5)],_0x1f24e8=document['getElementById'](_0x35bc71(0x1f2))[_0x35bc71(0x1b5)],_0x15edb3=document[_0x35bc71(0x1d6)]('inpRecurring')[_0x35bc71(0x136)];let _0x4d97e7=0x4;if(_0x15edb3){const _0x402380=parseInt(document[_0x35bc71(0x1d6)](_0x35bc71(0x158))['value']);if(!_0x402380||_0x402380<0x2){showToast(_0x35bc71(0x1a7),![]);return;}if(_0x402380>0x64){showToast(_0x35bc71(0x1de),![]);return;}_0x4d97e7=_0x402380;}const _0xacdeb2=clients[_0x35bc71(0x160)](_0x4557a3=>_0x4557a3[_0x35bc71(0x1dc)]===_0x314a6b);if(!_0xacdeb2){showToast(_0x35bc71(0x27f),![]);return;}const _0xfca0c8=validateAppointment(_0x31d3aa,_0x2927e3,_0xfa3d69,editingId,_0xacdeb2['id']);if(!_0xfca0c8[_0x35bc71(0x289)]){showToast(_0xfca0c8[_0x35bc71(0x1df)],![]);return;}_0xfca0c8[_0x35bc71(0x255)]&&showToast(_0xfca0c8['warning'],![]);const _0x2153a8={'client':_0x314a6b,'clientId':_0xacdeb2['id'],'start':_0x2927e3,'end':_0xfa3d69,'note':_0x1f24e8,'status':_0x35bc71(0x203)},_0x2bfce9=editingId?sessions[_0x35bc71(0x160)](_0x2c77e1=>_0x2c77e1['id']===editingId):null;if(_0x2bfce9&&_0x2bfce9['seriesId']){tempSessionData={..._0x2153a8,'dateStr':_0x31d3aa,'id':editingId,'seriesId':_0x2bfce9['seriesId']},openActionSheet(_0x35bc71(0x192));return;}let _0x3c93fb=null;if(!editingId)_0x3c93fb=_0x35bc71(0x2a0);else{if(_0x2bfce9){if(String(_0x2bfce9[_0x35bc71(0x1a0)])!==String(_0xacdeb2['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x35bc71(0x12a)](_0x35bc71(0x22d),_0x2bfce9),_0x3c93fb=_0x35bc71(0x2a0);else(_0x2bfce9['start']!==_0x2927e3||_0x2bfce9['end']!==_0xfa3d69||_0x2bfce9[_0x35bc71(0x1e5)]!==_0x31d3aa)&&(_0x3c93fb=_0x35bc71(0x2a2));}}if(!editingId&&_0x15edb3){createBatchSeries(_0x2153a8,_0x31d3aa,_0x4d97e7),NotificationManager[_0x35bc71(0x12a)](_0x35bc71(0x2a0),{..._0x2153a8,'dateStr':_0x31d3aa});return;}lastUserActionTime=Date[_0x35bc71(0x168)]();const _0x269a8a={..._0x2153a8,'dateStr':_0x31d3aa,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x269a8a),_0x3c93fb&&NotificationManager[_0x35bc71(0x12a)](_0x3c93fb,_0x269a8a);}function toggleSessionStatus(){const _0x5375e3=a2_0xd7d60e;lastUserActionTime=Date[_0x5375e3(0x168)]();const _0x338b50=sessions[_0x5375e3(0x160)](_0x1cb765=>_0x1cb765['id']===editingId);if(!_0x338b50)return;const _0x1f5e9c=_0x338b50[_0x5375e3(0x206)]===_0x5375e3(0x261)?'planned':'completed';_0x338b50[_0x5375e3(0x206)]=_0x1f5e9c,saveSingleSession(_0x338b50),_0x1f5e9c==='completed'&&NotificationManager[_0x5375e3(0x12a)]('complete',_0x338b50),showToast(_0x1f5e9c===_0x5375e3(0x261)?_0x5375e3(0x290):_0x5375e3(0x14b),!![]);}function validateAppointment(_0x518a09,_0x48af78,_0x768887,_0x854ff9,_0x113e10){const _0x1c9355=a2_0xd7d60e,[_0x2d9fbe,_0x18a881]=_0x48af78[_0x1c9355(0x1bc)](':')[_0x1c9355(0x22a)](Number),[_0x32e66b,_0x701cbd]=_0x768887['split'](':')['map'](Number),_0x3f03c7=_0x2d9fbe*0x3c+_0x18a881,_0x12310c=_0x32e66b*0x3c+_0x701cbd,_0x1fdc19=String(_0x113e10);let _0xb6b35a=![],_0x440050='';for(let _0x12b6ad of sessions){if(_0x12b6ad[_0x1c9355(0x1e5)]!==_0x518a09)continue;if(_0x12b6ad[_0x1c9355(0x206)]===_0x1c9355(0x15e))continue;if(_0x854ff9&&String(_0x12b6ad['id'])===String(_0x854ff9))continue;const [_0x17bc40,_0xedb392]=_0x12b6ad[_0x1c9355(0x211)][_0x1c9355(0x1bc)](':')[_0x1c9355(0x22a)](Number),[_0x7d808f,_0x1dfa7b]=_0x12b6ad['end'][_0x1c9355(0x1bc)](':')[_0x1c9355(0x22a)](Number),_0x2d2b9a=_0x17bc40*0x3c+_0xedb392,_0x450f80=_0x7d808f*0x3c+_0x1dfa7b;if(Math[_0x1c9355(0x1af)](_0x3f03c7,_0x2d2b9a)<Math[_0x1c9355(0x169)](_0x12310c,_0x450f80)){if(_0x12b6ad[_0x1c9355(0x1a0)]&&String(_0x12b6ad[_0x1c9355(0x1a0)])===_0x1fdc19)return{'valid':![],'msg':_0x1c9355(0x148)+_0x12b6ad[_0x1c9355(0x1be)]+_0x1c9355(0x20c)};_0xb6b35a=!![],_0x440050=_0x12b6ad['client'];}}if(_0xb6b35a)return{'valid':!![],'warning':_0x1c9355(0x1bf)+_0x440050};return{'valid':!![]};}function a2_0x40ef(){const _0x1f78c4=['overlay','ru-RU','search','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',':00</span>','Unknown','.day-column','\x20-\x20','push','[Notify]\x20Error:\x20sessionData\x20is\x20null',':00','warning','classList','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','seriesCountContainer','var(--acc-orange)','day-col-header\x20','today','100%','send_notification','146562BEbKJG','init_load','getItem','completed','pe-cell\x20','rangesList','POST','btnDelete','isArray','261864CJZAme','<div\x20class=\x22ev-title\x22>','pe-col-header','indexOf','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','disableVerticalSwipes','padStart','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','patternInfoBox','stat-','[Notify]\x20Error:\x20Text\x20generation\x20failed','open','entries','actionSheet','blocked-slot\x20stripe-bg','text','toFixed','sessionSheet','toString','px\x200px','scrollWidth','undefined','10px','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','clientY','[Notify]\x20Server\x20Response:','\x20‚Äî\x20','[API\x20','.day-col-header','includes','toast-notification\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','target','valid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getFullYear','btnStatusToggle','total','getDay','anTotalStats','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','settingCancelWindow','offsetLeft','background','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','doWorkHours','\x20days','vibrate','133056tupplB','.pib-text','log','Error\x20setting\x20color:','off','Server\x20Error','rangesSheet','rgba(255,\x20159,\x2010,\x200.3)','create','success','update','scrollLeft','.period-switch\x20.p-btn','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','toLocaleDateString','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','remove','colIndex','send','series','warn','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','onclick',']\x20Failed:','<div\x20class=\x22dch-day\x22>','height','end','mousemove','\x20–∏–∑\x20','checked','23:59','actionSheetOverlay','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','findIndex','analyticsSheet','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','#050505','flex','getMinutes','12456olSnVl','rgba(255,\x2069,\x2058,\x200.3)','sheetTitle','complete','guest','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','parse','offsetWidth','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','.day-off-overlay','fetchFromServer','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','peGrid','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','inpRecurring','uc_clients_v9','analyticsList','Local\x20Load\x20Error','startsWith','save_settings','[Series]\x20Skipped\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','borderRadius','setDate','inpSeriesCount','splice','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','asBtnOne','random','getTime','cancelled','addEventListener','find','top','querySelector','event-card','closest','var(--acc-green)','style','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','now','min','round','timeLineBadge','uc_settings_cancel_window','uc_settings_v9','loadLocal','DOMContentLoaded','saveLocally','offClick','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','getMonth','btn-primary\x20btn-danger','getAttribute','rangeStartDate','zIndex','expand','block','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','getHours','...','ranges','sheetDateSubtitle','insertBefore','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','header-','WebApp','error','859977pnfJvn','cancel_window','week','apply','data-date','487942jjmLhY','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!',':\x20Client\x20already\x20booked','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','className','data-day-idx','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','backgroundPosition','save','time-label','numeric','touchmove','asBtnSeries','btn-status-toggle\x20undo-mode','[Sync]\x20Loading\x20','substr','length','pattern','borderColor','single','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','clientId','calc(','stringify','ready','json','clientWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','Critical\x20TMA\x20Error:','mergeServerData','appendChild','inpDate','btn-status-toggle','active','color','max','</div>','inpClient','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','constructor','Batch\x20Sync\x20OK','value','11iiozAf','href','mouseup','rangeEndDate','done','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','split','mousedown','client','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','add','syncLoad','note','#fff','from','1745NAODGp','charAt','de-item','rangeStartTime',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','Error\x20setting\x20back\x20button:','rangeEndTime','matrixViewport','createElement','long','custom','Save\x20settings\x20error:','[Settings]\x20Cancel\x20window\x20set\x20to:','createDocumentFragment','show','toast','data','getElementById','.sheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','sort','toLocaleString','\x20status-completed','name','gridColumns','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','msg','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','as-button\x20danger','(((.+)+)+)+$','setMonth','anPercent','dateStr','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','toUpperCase','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','none','asTitle','blocked-range-part\x20stripe-bg','[Notify]\x20Attempting\x20to\x20send:','var(--acc-red)','user','day-off-overlay\x20stripe-bg','initDataUnsafe','statLoadCard','inpNote','getDate','setAttribute','getBoundingClientRect','doBusyHours','textContent','text/plain;charset=UTF-8','patternEditor','router.html','touches','</b>\x0a\x0a','–£–¥–∞–ª–µ–Ω–∏–µ','syncBatch','BackButton','552voAYYf','%\x20+\x202px)','timeColumn','planned','clients','borderLeftColor','status','px\x20-','anEnd','15bDpaDB','#0a84ff','toastMessage',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','toastTitle','as-button\x20danger\x20bold','forEach','width','start','catch','client-stat-card','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','option','daysHeaderTrack','filter','setBackgroundColor','Local\x20Save\x20Error','exceptions','%\x20-\x204px)','then','var(--acc-current)','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','setHours','anDonutCircle','scroll','#gridColumns\x20.day-column','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','scrollTop','stopPropagation','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','.event-card','map','setItem','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','cancel','delete','inpEnd','innerHTML','formatDate','seriesId','doEventsList','rgba(100,100,100,0.5)','anStart','inpStart','display','div','floor','settings','querySelectorAll','null','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','recurringOptionContainer','pe-corner','Telegram','calendar','13288360TzPiFS','</div><div\x20class=\x22dch-num\x22>','localeCompare','anCustomDates','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];a2_0x40ef=function(){return _0x1f78c4;};return a2_0x40ef();}function saveSingleSession(_0x1884d4){const _0x40af98=a2_0xd7d60e;if(editingId){const _0x1d185b=sessions[_0x40af98(0x13a)](_0x1d9c85=>_0x1d9c85['id']===editingId);if(_0x1d185b!==-0x1)sessions[_0x1d185b]=_0x1884d4;}else sessions['push'](_0x1884d4);afterSaveAction([_0x1884d4[_0x40af98(0x1e5)]]);}function createBatchSeries(_0x25b9b0,_0x53450f,_0x1050e9){const _0x2890b5=a2_0xd7d60e,_0x351e75=generateId(),_0x485cb9=[],_0x4ebdda=[];let _0xaa1608=0x0,_0x58bf09=new Date(_0x53450f);for(let _0x49341b=0x0;_0x49341b<_0x1050e9;_0x49341b++){const _0x4c1026=getLocalDateStr(_0x58bf09),_0x42d55c=validateAppointment(_0x4c1026,_0x25b9b0[_0x2890b5(0x211)],_0x25b9b0[_0x2890b5(0x133)],null,_0x25b9b0[_0x2890b5(0x1a0)]);if(!_0x42d55c['valid'])console[_0x2890b5(0x29a)](_0x2890b5(0x154)+_0x4c1026+_0x2890b5(0x18c)),_0xaa1608++;else{const _0x359b76={..._0x25b9b0,'id':generateId(),'dateStr':_0x4c1026,'seriesId':_0x351e75};_0x4ebdda[_0x2890b5(0x252)](_0x359b76),_0x485cb9[_0x2890b5(0x252)](_0x4c1026);}_0x58bf09['setDate'](_0x58bf09[_0x2890b5(0x1f3)]()+0x7);}if(_0x4ebdda[_0x2890b5(0x19a)]===0x0){showToast(_0x2890b5(0x1e8),![]);return;}sessions[_0x2890b5(0x252)](..._0x4ebdda),lastUserActionTime=Date[_0x2890b5(0x168)]();let _0x7e5e2f=_0x2890b5(0x15a)+_0x4ebdda[_0x2890b5(0x19a)];_0xaa1608>0x0&&(_0x7e5e2f+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0xaa1608+')'),showToast(_0x7e5e2f,!![]),afterSaveAction(_0x485cb9);}function updateSeriesBatch(_0x3f5d97,_0x87854e){const _0x160c92=a2_0xd7d60e,_0xa3f53=[],_0x32cd9f=_0x87854e['seriesId'];if(_0x3f5d97===_0x160c92(0x19d)){const _0x628109={..._0x87854e,'seriesId':null},_0x3ded23=sessions[_0x160c92(0x13a)](_0x819b38=>_0x819b38['id']===_0x87854e['id']);if(_0x3ded23!==-0x1)sessions[_0x3ded23]=_0x628109;_0xa3f53[_0x160c92(0x252)](_0x628109[_0x160c92(0x1e5)]);}else{if(_0x3f5d97===_0x160c92(0x12b)){const _0x35c85e=_0x87854e['dateStr'];sessions[_0x160c92(0x20f)]((_0x201976,_0x45b1e6)=>{const _0x322859=_0x160c92;_0x201976['seriesId']===_0x32cd9f&&_0x201976['dateStr']>=_0x35c85e&&(sessions[_0x45b1e6]={...sessions[_0x45b1e6],'start':_0x87854e['start'],'end':_0x87854e[_0x322859(0x133)],'note':_0x87854e[_0x322859(0x1c2)],'client':_0x87854e[_0x322859(0x1be)],'clientId':_0x87854e[_0x322859(0x1a0)]},_0xa3f53[_0x322859(0x252)](_0x201976[_0x322859(0x1e5)]));});}}afterSaveAction(_0xa3f53);}function tryDeleteSession(){const _0x4e72bc=a2_0xd7d60e,_0x577c5e=sessions[_0x4e72bc(0x160)](_0x27d4a3=>_0x27d4a3['id']===editingId);if(!_0x577c5e)return;_0x577c5e[_0x4e72bc(0x232)]?openActionSheet(_0x4e72bc(0x22e)):commitDelete(_0x4e72bc(0x19d),_0x577c5e);}function commitDelete(_0x44bcf3,_0x18500a){const _0x1f93dc=a2_0xd7d60e;lastUserActionTime=Date[_0x1f93dc(0x168)](),NotificationManager['send']('cancel',_0x18500a);const _0x583e47=[];if(_0x44bcf3===_0x1f93dc(0x19d))sessions=sessions[_0x1f93dc(0x218)](_0x1f67bf=>_0x1f67bf['id']!==_0x18500a['id']),_0x583e47['push'](_0x18500a[_0x1f93dc(0x1e5)]);else{if(_0x44bcf3==='series'){const _0x5d573c=_0x18500a[_0x1f93dc(0x1e5)],_0x43380c=_0x18500a['seriesId'];sessions[_0x1f93dc(0x20f)](_0x386275=>{const _0x98efb5=_0x1f93dc;_0x386275[_0x98efb5(0x232)]===_0x43380c&&_0x386275[_0x98efb5(0x1e5)]>=_0x5d573c&&_0x583e47[_0x98efb5(0x252)](_0x386275[_0x98efb5(0x1e5)]);}),sessions=sessions['filter'](_0x82bc3b=>!(_0x82bc3b[_0x1f93dc(0x232)]===_0x43380c&&_0x82bc3b[_0x1f93dc(0x1e5)]>=_0x5d573c));}}afterSaveAction(_0x583e47);}function afterSaveAction(_0x1b91eb){const _0x28856b=a2_0xd7d60e;DataManager[_0x28856b(0x170)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x28856b(0x1fe)](_0x1b91eb)['then'](()=>console[_0x28856b(0x29a)](_0x28856b(0x1b4)))['catch'](_0x27a198=>showToast(_0x28856b(0x28a),![]));}const NotificationManager={'formatDate'(_0x234154){const _0x17e694=a2_0xd7d60e,_0x313e65=new Date(_0x234154),_0x2d15a5={'weekday':_0x17e694(0x1ce),'day':_0x17e694(0x194),'month':_0x17e694(0x1ce)};let _0x169b2f=_0x313e65['toLocaleDateString'](_0x17e694(0x24b),_0x2d15a5);return _0x169b2f['charAt'](0x0)[_0x17e694(0x1e7)]()+_0x169b2f[_0x17e694(0x248)](0x1);},'getText'(_0xf5f246,_0x533d0d){const _0x319143=a2_0xd7d60e,_0xf4a7ec=this[_0x319143(0x231)](_0x533d0d[_0x319143(0x1e5)]);switch(_0xf5f246){case _0x319143(0x2a0):return _0x319143(0x1b2)+(_0x319143(0x13c)+_0xf4a7ec+'\x0a')+(_0x319143(0x214)+_0x533d0d[_0x319143(0x211)]+_0x319143(0x282)+_0x533d0d['end']+'\x0a\x0a')+_0x319143(0x180);case'update':return _0x319143(0x18d)+_0x319143(0x18a)+('<b>‚úÖ\x20'+_0x533d0d[_0x319143(0x211)]+_0x319143(0x282)+_0x533d0d[_0x319143(0x133)]+_0x319143(0x1fc))+(_0x319143(0x13c)+_0xf4a7ec);case _0x319143(0x22d):return _0x319143(0x127)+(_0x319143(0x172)+_0xf4a7ec+'\x20('+_0x533d0d['start']+_0x319143(0x1c9));case _0x319143(0x143):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x319143(0x190)+_0x319143(0x139);default:return'';}},async 'send'(_0x1b18a2,_0x46454e){const _0x312ed9=a2_0xd7d60e;console['log'](_0x312ed9(0x1ec),_0x1b18a2,_0x46454e);if(!_0x46454e){console[_0x312ed9(0x183)](_0x312ed9(0x253));return;}const _0x182718=String(_0x46454e['clientId']);console[_0x312ed9(0x29a)]('[Notify]\x20Detected\x20Client\x20ID:',_0x182718);if(!_0x46454e[_0x312ed9(0x1a0)]||_0x182718===_0x312ed9(0x27d)||_0x182718===_0x312ed9(0x23c)){console[_0x312ed9(0x183)](_0x312ed9(0x18b));if(_0x46454e[_0x312ed9(0x1be)]){const _0x24defc=clients[_0x312ed9(0x160)](_0x1e7888=>_0x1e7888['name']===_0x46454e[_0x312ed9(0x1be)]);if(_0x24defc)return console['log'](_0x312ed9(0x246),_0x24defc['id']),this['send'](_0x1b18a2,{..._0x46454e,'clientId':_0x24defc['id']});}return;}if(_0x182718['length']<0x5){console[_0x312ed9(0x12c)](_0x312ed9(0x224),_0x182718);return;}const _0x1fc58a=this['getText'](_0x1b18a2,_0x46454e);if(!_0x1fc58a){console[_0x312ed9(0x183)](_0x312ed9(0x272));return;}console[_0x312ed9(0x29a)](_0x312ed9(0x227)+_0x182718+_0x312ed9(0x17c)),DataManager[_0x312ed9(0x14a)](_0x312ed9(0x25d),{'chatId':_0x182718,'text':_0x1fc58a})['then'](_0x59203b=>console['log'](_0x312ed9(0x281),_0x59203b))['catch'](_0x4a47d2=>console[_0x312ed9(0x183)]('[Notify]\x20Network\x20Failed',_0x4a47d2));}};function getLocalDateStr(_0x546b8d){const _0x157b8e=a2_0xd7d60e,_0x590924=_0x546b8d[_0x157b8e(0x28b)](),_0x5453d9=String(_0x546b8d['getMonth']()+0x1)['padStart'](0x2,'0'),_0x46febb=String(_0x546b8d[_0x157b8e(0x1f3)]())['padStart'](0x2,'0');return _0x590924+'-'+_0x5453d9+'-'+_0x46febb;}function getDateStr(_0x1cf56c){const _0x2f37ab=new Date();return _0x2f37ab['setDate'](_0x2f37ab['getDate']()+_0x1cf56c),getLocalDateStr(_0x2f37ab);}function getStartOfWeek(_0x4b422f){const _0x87c54d=a2_0xd7d60e,_0x57393a=(function(){let _0x47ddc4=!![];return function(_0x3f8006,_0x51482c){const _0x3f40c6=_0x47ddc4?function(){const _0xa7975f=a2_0xdd82;if(_0x51482c){const _0x5630fd=_0x51482c[_0xa7975f(0x187)](_0x3f8006,arguments);return _0x51482c=null,_0x5630fd;}}:function(){};return _0x47ddc4=![],_0x3f40c6;};}()),_0x12bd40=_0x57393a(this,function(){const _0x302511=a2_0xdd82;return _0x12bd40[_0x302511(0x27a)]()['search'](_0x302511(0x1e2))[_0x302511(0x27a)]()[_0x302511(0x1b3)](_0x12bd40)[_0x302511(0x24c)](_0x302511(0x1e2));});_0x12bd40();const _0x5bcae3=new Date(_0x4b422f),_0x266ab7=_0x5bcae3[_0x87c54d(0x28e)](),_0x55c646=_0x5bcae3[_0x87c54d(0x1f3)]()-_0x266ab7+(_0x266ab7===0x0?-0x6:0x1);return _0x5bcae3[_0x87c54d(0x157)](_0x55c646),_0x5bcae3['setHours'](0x0,0x0,0x0,0x0),_0x5bcae3;}function hexToRgba(_0x1ff3b5,_0x29e0ee){const _0x3062a9=a2_0xd7d60e;if(!_0x1ff3b5)return _0x3062a9(0x234);let _0x530edd=0x0,_0x9e73a7=0x0,_0x52c028=0x0;if(_0x1ff3b5[_0x3062a9(0x19a)]===0x4)_0x530edd='0x'+_0x1ff3b5[0x1]+_0x1ff3b5[0x1],_0x9e73a7='0x'+_0x1ff3b5[0x2]+_0x1ff3b5[0x2],_0x52c028='0x'+_0x1ff3b5[0x3]+_0x1ff3b5[0x3];else _0x1ff3b5['length']===0x7&&(_0x530edd='0x'+_0x1ff3b5[0x1]+_0x1ff3b5[0x2],_0x9e73a7='0x'+_0x1ff3b5[0x3]+_0x1ff3b5[0x4],_0x52c028='0x'+_0x1ff3b5[0x5]+_0x1ff3b5[0x6]);return'rgba('+ +_0x530edd+',\x20'+ +_0x9e73a7+',\x20'+ +_0x52c028+',\x20'+_0x29e0ee+')';}function renderTimeColumn(){const _0x4cf9a0=a2_0xd7d60e,_0x5f4087=document[_0x4cf9a0(0x1d6)](_0x4cf9a0(0x202)),_0x1feb03=document[_0x4cf9a0(0x1d6)](_0x4cf9a0(0x16b));_0x5f4087[_0x4cf9a0(0x230)]='',_0x5f4087[_0x4cf9a0(0x1aa)](_0x1feb03);for(let _0x463190=0x0;_0x463190<0x18;_0x463190++){const _0x37619b=document[_0x4cf9a0(0x1cd)](_0x4cf9a0(0x238));_0x37619b[_0x4cf9a0(0x18e)]=_0x4cf9a0(0x193);if(_0x463190>0x0)_0x37619b[_0x4cf9a0(0x230)]='<span>'+String(_0x463190)[_0x4cf9a0(0x26e)](0x2,'0')+_0x4cf9a0(0x24e);_0x5f4087[_0x4cf9a0(0x1aa)](_0x37619b);}}function renderDayRange(_0x403aec,_0x258b22){const _0x385c6a=a2_0xd7d60e,_0x53bcb1=document[_0x385c6a(0x1d6)](_0x385c6a(0x217)),_0x3a7a10=document[_0x385c6a(0x1d6)](_0x385c6a(0x1dd)),_0x4e4464=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5e2233=new Date();_0x5e2233[_0x385c6a(0x220)](0x0,0x0,0x0,0x0);const _0x541f29=getLocalDateStr(new Date());for(let _0xb4ace1=_0x403aec;_0xb4ace1<=_0x258b22;_0xb4ace1++){const _0x46d2c4=new Date(_0x5e2233);_0x46d2c4['setDate'](_0x46d2c4[_0x385c6a(0x1f3)]()+_0xb4ace1);const _0x180024=getLocalDateStr(_0x46d2c4);let _0x1632b0=_0x46d2c4[_0x385c6a(0x28e)]()-0x1;if(_0x1632b0===-0x1)_0x1632b0=0x6;const _0x1525c2=_0x180024===_0x541f29,_0x1699b4=document[_0x385c6a(0x1cd)](_0x385c6a(0x238));_0x1699b4[_0x385c6a(0x18e)]=_0x385c6a(0x25a)+(_0x1525c2?'today':''),_0x1699b4['id']=_0x385c6a(0x181)+_0x180024,_0x1699b4[_0x385c6a(0x1f4)](_0x385c6a(0x188),_0x180024),_0x1699b4['innerHTML']=_0x385c6a(0x131)+_0x4e4464[_0x1632b0]+_0x385c6a(0x243)+_0x46d2c4['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x180024+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1699b4[_0x385c6a(0x12f)]=()=>openDayOptions(_0x180024,_0x4e4464[_0x1632b0]+'\x20'+_0x46d2c4[_0x385c6a(0x1f3)]()),_0x53bcb1[_0x385c6a(0x1aa)](_0x1699b4);const _0x214d2f=document['createElement']('div');_0x214d2f[_0x385c6a(0x18e)]='day-column\x20'+(_0x1525c2?'today':''),_0x214d2f[_0x385c6a(0x1f4)](_0x385c6a(0x188),_0x180024),_0x214d2f[_0x385c6a(0x1f4)](_0x385c6a(0x18f),_0x1632b0),renderEventsForColumn(_0x214d2f,_0x180024,_0x1632b0),attachLongPressHandler(_0x214d2f,_0x46d2c4),_0x3a7a10['appendChild'](_0x214d2f),updateDayStats(_0x180024);}}function a2_0xdd82(_0x261ee7,_0x12ad0c){_0x261ee7=_0x261ee7-0x127;const _0x40336c=a2_0x40ef();let _0x17b81b=_0x40336c[_0x261ee7];return _0x17b81b;}function reRenderBlocks(){const _0x29e67b=a2_0xd7d60e;document[_0x29e67b(0x23b)](_0x29e67b(0x223))[_0x29e67b(0x20f)](_0x2172fa=>{const _0xe7e008=_0x29e67b;_0x2172fa[_0xe7e008(0x23b)](_0xe7e008(0x167))[_0xe7e008(0x20f)](_0x959ae2=>_0x959ae2[_0xe7e008(0x128)]());const _0x2a5838=_0x2172fa[_0xe7e008(0x175)]('data-date'),_0x8fe655=parseInt(_0x2172fa['getAttribute'](_0xe7e008(0x18f))),_0x57b669=Math[_0xe7e008(0x16a)](_0x2172fa[_0xe7e008(0x292)]);(availabilityPattern[_0x8fe655]||[])[_0xe7e008(0x20f)](_0x5f01a7=>{const _0x421f10=_0xe7e008,_0x48553f=document[_0x421f10(0x1cd)](_0x421f10(0x238));_0x48553f[_0x421f10(0x18e)]=_0x421f10(0x276);const _0x392040=_0x5f01a7*GRID_H;_0x48553f['style']['top']=_0x392040+'px',_0x48553f['style'][_0x421f10(0x191)]='-'+_0x57b669+_0x421f10(0x207)+_0x392040+'px',_0x2172fa[_0x421f10(0x1aa)](_0x48553f);});if(specialRanges&&specialRanges[_0xe7e008(0x19a)]>0x0){const _0x28f762=new Date(_0x2a5838+'T00:00:00')['getTime'](),_0x1d99f3=new Date(_0x2a5838+'T23:59:59')['getTime']();specialRanges[_0xe7e008(0x20f)](_0x462645=>{const _0x1a260f=_0xe7e008,_0x420e6b=new Date(_0x462645[_0x1a260f(0x211)])[_0x1a260f(0x15d)](),_0x16b7f0=new Date(_0x462645[_0x1a260f(0x133)])[_0x1a260f(0x15d)](),_0x3e55f5=Math[_0x1a260f(0x1af)](_0x28f762,_0x420e6b),_0x2d4f52=Math[_0x1a260f(0x169)](_0x1d99f3,_0x16b7f0);if(_0x3e55f5<_0x2d4f52){if(_0x3e55f5<=_0x28f762&&_0x2d4f52>=_0x1d99f3-0xea60){if(!_0x2172fa['querySelector'](_0x1a260f(0x149))){const _0xabb73d=document[_0x1a260f(0x1cd)](_0x1a260f(0x238));_0xabb73d['className']=_0x1a260f(0x1ef),_0xabb73d[_0x1a260f(0x166)][_0x1a260f(0x191)]='-'+_0x57b669+'px\x200px',_0x2172fa['appendChild'](_0xabb73d);}}else{const _0x4f22c5=(_0x3e55f5-_0x28f762)/0x36ee80*GRID_H,_0x3ee007=(_0x2d4f52-_0x3e55f5)/0x36ee80*GRID_H,_0x579c6b=document[_0x1a260f(0x1cd)]('div');_0x579c6b[_0x1a260f(0x18e)]=_0x1a260f(0x1eb),_0x579c6b[_0x1a260f(0x166)][_0x1a260f(0x161)]=_0x4f22c5+'px',_0x579c6b['style'][_0x1a260f(0x132)]=_0x3ee007+'px',_0x579c6b[_0x1a260f(0x166)][_0x1a260f(0x191)]='-'+_0x57b669+_0x1a260f(0x207)+_0x4f22c5+'px',_0x2172fa[_0x1a260f(0x1aa)](_0x579c6b);}}});}if(dateExceptions[_0x2a5838]===_0xe7e008(0x29c)){if(!_0x2172fa['querySelector'](_0xe7e008(0x149))){const _0x311504=document[_0xe7e008(0x1cd)](_0xe7e008(0x238));_0x311504[_0xe7e008(0x18e)]=_0xe7e008(0x1ef),_0x311504[_0xe7e008(0x166)]['backgroundPosition']='-'+_0x57b669+_0xe7e008(0x27b),_0x2172fa[_0xe7e008(0x1aa)](_0x311504);}}renderEventsForColumn(_0x2172fa,_0x2a5838,_0x8fe655),updateDayStats(_0x2a5838);});}function updateAllDayStats(){const _0x1f3a18=a2_0xd7d60e;document[_0x1f3a18(0x23b)](_0x1f3a18(0x284))[_0x1f3a18(0x20f)](_0x2447e3=>{const _0x2e62c1=_0x1f3a18;updateDayStats(_0x2447e3[_0x2e62c1(0x175)](_0x2e62c1(0x188)));});}function updateDayStats(_0x28c0d8){const _0xb3500f=a2_0xd7d60e,_0x70559b=document[_0xb3500f(0x1d6)](_0xb3500f(0x271)+_0x28c0d8);if(!_0x70559b)return;const _0x590db4=new Date(_0x28c0d8);let _0x1bebe7=_0x590db4[_0xb3500f(0x28e)]()-0x1;if(_0x1bebe7===-0x1)_0x1bebe7=0x6;if(dateExceptions[_0x28c0d8]===_0xb3500f(0x29c)){_0x70559b['style']['display']='none';return;}const _0x1bb79c=availabilityPattern[_0x1bebe7]||[],_0x3b6918=0x18-_0x1bb79c[_0xb3500f(0x19a)],_0x4826d7=_0x3b6918*0x3c,_0x5aefb6=sessions[_0xb3500f(0x218)](_0x8683b8=>_0x8683b8[_0xb3500f(0x1e5)]===_0x28c0d8&&_0x8683b8[_0xb3500f(0x206)]!==_0xb3500f(0x15e));if(_0x5aefb6[_0xb3500f(0x19a)]===0x0){_0x70559b[_0xb3500f(0x166)]['display']=_0xb3500f(0x1e9);return;}let _0x3e7465=_0x5aefb6['map'](_0x30e9b6=>{const _0x4f5df4=_0xb3500f,[_0x5b801c,_0x491bae]=_0x30e9b6[_0x4f5df4(0x211)]['split'](':')[_0x4f5df4(0x22a)](Number),[_0x4584fb,_0x5ec2bc]=_0x30e9b6[_0x4f5df4(0x133)][_0x4f5df4(0x1bc)](':')[_0x4f5df4(0x22a)](Number);return[_0x5b801c*0x3c+_0x491bae,_0x4584fb*0x3c+_0x5ec2bc];});_0x3e7465[_0xb3500f(0x1d9)]((_0x1693b6,_0x2dd93d)=>_0x1693b6[0x0]-_0x2dd93d[0x0]);let _0x302061=[];if(_0x3e7465[_0xb3500f(0x19a)]>0x0){let _0x3d67ed=_0x3e7465[0x0];for(let _0x42ebe4=0x1;_0x42ebe4<_0x3e7465[_0xb3500f(0x19a)];_0x42ebe4++){_0x3e7465[_0x42ebe4][0x0]<_0x3d67ed[0x1]?_0x3d67ed[0x1]=Math[_0xb3500f(0x1af)](_0x3d67ed[0x1],_0x3e7465[_0x42ebe4][0x1]):(_0x302061[_0xb3500f(0x252)](_0x3d67ed),_0x3d67ed=_0x3e7465[_0x42ebe4]);}_0x302061[_0xb3500f(0x252)](_0x3d67ed);}let _0x3536b9=0x0;_0x302061[_0xb3500f(0x20f)](_0x11f55d=>_0x3536b9+=_0x11f55d[0x1]-_0x11f55d[0x0]),_0x70559b[_0xb3500f(0x166)][_0xb3500f(0x237)]=_0xb3500f(0x13e);const _0x9835f4=_0x70559b[_0xb3500f(0x162)]('.dch-stats-fill');if(_0x4826d7===0x0){_0x9835f4[_0xb3500f(0x166)][_0xb3500f(0x210)]=_0xb3500f(0x25c),_0x9835f4[_0xb3500f(0x166)][_0xb3500f(0x293)]=_0xb3500f(0x1ed);return;}const _0x2904da=_0x3536b9/_0x4826d7*0x64;console[_0xb3500f(0x29a)]('['+_0x28c0d8+_0xb3500f(0x12e)+_0x3b6918+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x3536b9+_0xb3500f(0x17a)+_0x2904da[_0xb3500f(0x278)](0x1)+'%'),_0x2904da>0x64?(_0x9835f4[_0xb3500f(0x166)][_0xb3500f(0x210)]=_0xb3500f(0x25c),_0x9835f4[_0xb3500f(0x166)][_0xb3500f(0x293)]=_0xb3500f(0x1ed)):(_0x9835f4[_0xb3500f(0x166)][_0xb3500f(0x210)]=_0x2904da+'%',_0x9835f4[_0xb3500f(0x166)]['background']=_0xb3500f(0x21e));}function renderEventsForColumn(_0x6ad892,_0x48007a,_0x3fd50d){const _0x3b021a=a2_0xd7d60e,_0x8082fc=sessions[_0x3b021a(0x218)](_0x240927=>_0x240927[_0x3b021a(0x1e5)]===_0x48007a),_0x346ab4=_0x8082fc[_0x3b021a(0x22a)](_0x2773e3=>{const _0x523dbc=_0x3b021a,[_0xb1ccb2,_0x1dd8a0]=_0x2773e3[_0x523dbc(0x211)][_0x523dbc(0x1bc)](':')['map'](Number),[_0x2b83fb,_0x13c0f2]=_0x2773e3[_0x523dbc(0x133)][_0x523dbc(0x1bc)](':')[_0x523dbc(0x22a)](Number);return{'data':_0x2773e3,'start':_0xb1ccb2*0x3c+_0x1dd8a0,'end':_0x2b83fb*0x3c+_0x13c0f2,'colIndex':0x0};});_0x346ab4[_0x3b021a(0x1d9)]((_0x1f3e2a,_0x1244b9)=>{const _0x38d1e4=_0x3b021a;if(_0x1f3e2a[_0x38d1e4(0x211)]!==_0x1244b9[_0x38d1e4(0x211)])return _0x1f3e2a['start']-_0x1244b9[_0x38d1e4(0x211)];return _0x1244b9[_0x38d1e4(0x133)]-_0x1244b9[_0x38d1e4(0x211)]-(_0x1f3e2a[_0x38d1e4(0x133)]-_0x1f3e2a[_0x38d1e4(0x211)]);});const _0x4dcbea=[];_0x346ab4[_0x3b021a(0x20f)](_0x373aef=>{const _0x210854=_0x3b021a;let _0x3ea17f=![];for(let _0xb0b4e7=0x0;_0xb0b4e7<_0x4dcbea[_0x210854(0x19a)];_0xb0b4e7++){const _0x5270cb=_0x4dcbea[_0xb0b4e7],_0x541f36=_0x5270cb[_0x5270cb[_0x210854(0x19a)]-0x1];if(_0x373aef[_0x210854(0x211)]>=_0x541f36[_0x210854(0x133)]){_0x5270cb['push'](_0x373aef),_0x373aef[_0x210854(0x129)]=_0xb0b4e7,_0x3ea17f=!![];break;}}!_0x3ea17f&&(_0x4dcbea['push']([_0x373aef]),_0x373aef[_0x210854(0x129)]=_0x4dcbea['length']-0x1);}),_0x346ab4[_0x3b021a(0x20f)](_0x219375=>{const _0x1ba84e=_0x3b021a;let _0x1be63f=0x0;_0x346ab4[_0x1ba84e(0x20f)](_0xccc3bf=>{const _0x3951a4=_0x1ba84e;if(Math['max'](_0x219375[_0x3951a4(0x211)],_0xccc3bf[_0x3951a4(0x211)])<Math[_0x3951a4(0x169)](_0x219375[_0x3951a4(0x133)],_0xccc3bf[_0x3951a4(0x133)])){if(_0xccc3bf[_0x3951a4(0x129)]>_0x1be63f)_0x1be63f=_0xccc3bf['colIndex'];}});const _0x2e1402=_0x1be63f+0x1,_0x2025b6=0x64/_0x2e1402,_0x47a68f=_0x219375[_0x1ba84e(0x129)]*_0x2025b6,_0x1c0f15=createEventEl(_0x219375[_0x1ba84e(0x1d5)]);_0x1c0f15[_0x1ba84e(0x166)][_0x1ba84e(0x210)]=_0x1ba84e(0x1a1)+_0x2025b6+_0x1ba84e(0x21c),_0x1c0f15[_0x1ba84e(0x166)]['left']=_0x1ba84e(0x1a1)+_0x47a68f+_0x1ba84e(0x201),_0x1c0f15[_0x1ba84e(0x166)][_0x1ba84e(0x177)]=0xa+_0x219375[_0x1ba84e(0x129)],_0x2025b6<0x55&&_0x1c0f15[_0x1ba84e(0x256)][_0x1ba84e(0x1c0)]('mini'),_0x6ad892[_0x1ba84e(0x1aa)](_0x1c0f15);});}function createEventEl(_0x413705){const _0x18220b=a2_0xd7d60e,[_0x10fc9e,_0x57a74e]=_0x413705['start']['split'](':')['map'](Number),[_0x4d2ea5,_0x551c6d]=_0x413705['end'][_0x18220b(0x1bc)](':')[_0x18220b(0x22a)](Number),_0x5ab413=(_0x10fc9e*0x3c+_0x57a74e)/0x3c*GRID_H,_0x174faa=(_0x4d2ea5*0x3c+_0x551c6d-(_0x10fc9e*0x3c+_0x57a74e))/0x3c*GRID_H,_0x38c153=document[_0x18220b(0x1cd)](_0x18220b(0x238)),_0x4af791=_0x413705['status']===_0x18220b(0x261)?_0x18220b(0x1db):'';_0x38c153[_0x18220b(0x18e)]=_0x18220b(0x163)+_0x4af791,_0x38c153['style']['top']=_0x5ab413+'px',_0x38c153[_0x18220b(0x166)][_0x18220b(0x132)]=Math[_0x18220b(0x1af)](_0x174faa,0x14)+'px';const _0x4a6551=clients[_0x18220b(0x160)](_0x56e157=>_0x413705['clientId']&&String(_0x56e157['id'])===String(_0x413705['clientId'])||_0x56e157[_0x18220b(0x1dc)]===_0x413705[_0x18220b(0x1be)]),_0x4b61d7=_0x4a6551?_0x4a6551[_0x18220b(0x1ae)]:_0x18220b(0x20a);_0x38c153['style']['borderLeftColor']=_0x4b61d7,_0x38c153[_0x18220b(0x166)]['backgroundColor']=hexToRgba(_0x4b61d7,0.85);let _0x55f46b=_0x18220b(0x268)+_0x413705[_0x18220b(0x1be)]+'</div><div\x20class=\x22ev-time\x22>'+_0x413705[_0x18220b(0x211)]+_0x18220b(0x251)+_0x413705[_0x18220b(0x133)]+_0x18220b(0x1b0);return _0x413705[_0x18220b(0x232)]&&(_0x55f46b+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x413705[_0x18220b(0x206)]===_0x18220b(0x261)&&(_0x55f46b+=_0x18220b(0x294)),_0x38c153[_0x18220b(0x230)]=_0x55f46b,_0x38c153['onclick']=_0x2f0d29=>{const _0x33cd53=_0x18220b;_0x2f0d29[_0x33cd53(0x226)](),openEdit(_0x413705);},_0x38c153;}function attachLongPressHandler(_0x2c6ddc,_0x2f24eb){const _0x7c84f4=a2_0xd7d60e;let _0x1f524f=0x0,_0x21ab8d=null;const _0x5547ef=_0xcc4cd3=>{const _0x33f3ac=a2_0xdd82;if(_0xcc4cd3[_0x33f3ac(0x288)][_0x33f3ac(0x164)](_0x33f3ac(0x229)))return;isScrolling=![],_0x1f524f=_0xcc4cd3[_0x33f3ac(0x1fb)]?_0xcc4cd3[_0x33f3ac(0x1fb)][0x0][_0x33f3ac(0x280)]:_0xcc4cd3['clientY'],_0x21ab8d=setTimeout(()=>{const _0x5b5654=_0x33f3ac;if(!isScrolling){navigator[_0x5b5654(0x297)]?.(0x32);const _0x57d77f=_0x2c6ddc[_0x5b5654(0x1f5)](),_0xe8ab5d=Math[_0x5b5654(0x239)]((_0x1f524f-_0x57d77f[_0x5b5654(0x161)])/GRID_H);_0x2f24eb['setHours'](_0xe8ab5d,0x0),openAddSession(_0x2f24eb);}},0x1f4);},_0x4a837e=()=>{isScrolling=!![],clearTimeout(_0x21ab8d);},_0x48dbc6=()=>{clearTimeout(_0x21ab8d);};_0x2c6ddc[_0x7c84f4(0x15f)]('touchstart',_0x5547ef,{'passive':!![]}),_0x2c6ddc[_0x7c84f4(0x15f)](_0x7c84f4(0x195),_0x4a837e,{'passive':!![]}),_0x2c6ddc['addEventListener']('touchend',_0x48dbc6),_0x2c6ddc['addEventListener'](_0x7c84f4(0x1bd),_0x5547ef),_0x2c6ddc[_0x7c84f4(0x15f)](_0x7c84f4(0x134),_0x4a837e),_0x2c6ddc[_0x7c84f4(0x15f)](_0x7c84f4(0x1b8),_0x48dbc6);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x42ab48=a2_0xd7d60e,_0x36c560=document[_0x42ab48(0x1d6)]('matrixViewport'),_0x49d8e3=_0x36c560['scrollLeft'],_0x2a0c30=_0x36c560[_0x42ab48(0x27c)],_0x177e96=_0x36c560[_0x42ab48(0x1a5)];if(_0x2a0c30-(_0x49d8e3+_0x177e96)<0x12c){const _0x34b0ed=endOffset;endOffset+=0xe,renderDayRange(_0x34b0ed+0x1,endOffset),reRenderBlocks();}if(_0x49d8e3<0x12c){const _0x14ffec=startOffset;startOffset-=0xe,prependDays(startOffset,_0x14ffec-0x1),_0x36c560[_0x42ab48(0x2a3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1e9888,_0xb2f80){const _0x1e4fcd=a2_0xd7d60e,_0x1ed229=document[_0x1e4fcd(0x1d6)](_0x1e4fcd(0x217)),_0x7dd018=document[_0x1e4fcd(0x1d6)]('gridColumns'),_0x20ce76=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4ba33a=new Date();_0x4ba33a['setHours'](0x0,0x0,0x0,0x0);const _0xe13c65=getLocalDateStr(new Date()),_0x3a7e16=document[_0x1e4fcd(0x1d2)](),_0x447211=document[_0x1e4fcd(0x1d2)]();for(let _0x2c4fd6=_0x1e9888;_0x2c4fd6<=_0xb2f80;_0x2c4fd6++){const _0x459d5c=new Date(_0x4ba33a);_0x459d5c['setDate'](_0x459d5c[_0x1e4fcd(0x1f3)]()+_0x2c4fd6);const _0x110abf=getLocalDateStr(_0x459d5c);let _0x4e97e1=_0x459d5c[_0x1e4fcd(0x28e)]()-0x1;if(_0x4e97e1===-0x1)_0x4e97e1=0x6;const _0x131128=_0x110abf===_0xe13c65,_0x547956=document[_0x1e4fcd(0x1cd)](_0x1e4fcd(0x238));_0x547956[_0x1e4fcd(0x18e)]=_0x1e4fcd(0x25a)+(_0x131128?_0x1e4fcd(0x25b):''),_0x547956['id']='header-'+_0x110abf,_0x547956[_0x1e4fcd(0x1f4)](_0x1e4fcd(0x188),_0x110abf),_0x547956[_0x1e4fcd(0x230)]=_0x1e4fcd(0x131)+_0x20ce76[_0x4e97e1]+_0x1e4fcd(0x243)+_0x459d5c[_0x1e4fcd(0x1f3)]()+_0x1e4fcd(0x215)+_0x110abf+_0x1e4fcd(0x247),_0x547956[_0x1e4fcd(0x12f)]=()=>openDayOptions(_0x110abf,_0x20ce76[_0x4e97e1]+'\x20'+_0x459d5c[_0x1e4fcd(0x1f3)]()),_0x3a7e16[_0x1e4fcd(0x1aa)](_0x547956);const _0x50773a=document[_0x1e4fcd(0x1cd)](_0x1e4fcd(0x238));_0x50773a[_0x1e4fcd(0x18e)]='day-column\x20'+(_0x131128?'today':''),_0x50773a[_0x1e4fcd(0x1f4)](_0x1e4fcd(0x188),_0x110abf),_0x50773a[_0x1e4fcd(0x1f4)](_0x1e4fcd(0x18f),_0x4e97e1),renderEventsForColumn(_0x50773a,_0x110abf,_0x4e97e1),attachLongPressHandler(_0x50773a,_0x459d5c),_0x447211['appendChild'](_0x50773a),updateDayStats(_0x110abf);}_0x1ed229[_0x1e4fcd(0x17f)](_0x3a7e16,_0x1ed229['firstChild']),_0x7dd018[_0x1e4fcd(0x17f)](_0x447211,_0x7dd018[_0x1e4fcd(0x162)](_0x1e4fcd(0x250)));}function validateAppointment(_0x50f01c,_0x44767c,_0x160a46,_0x472ddc,_0x4a4697){const _0x52a67e=a2_0xd7d60e,[_0x44416f,_0x56fb80]=_0x44767c['split'](':')[_0x52a67e(0x22a)](Number),[_0x32614d,_0x555196]=_0x160a46[_0x52a67e(0x1bc)](':')[_0x52a67e(0x22a)](Number),_0x49b32a=_0x44416f*0x3c+_0x56fb80,_0x54c358=_0x32614d*0x3c+_0x555196,_0x340bc9=String(_0x4a4697);let _0x3b7410=![],_0x5bfa51='';for(let _0x449d29 of sessions){if(_0x449d29['dateStr']!==_0x50f01c)continue;if(_0x449d29['status']===_0x52a67e(0x15e))continue;if(_0x472ddc&&String(_0x449d29['id'])===String(_0x472ddc))continue;const [_0x4a54e2,_0x1c459c]=_0x449d29[_0x52a67e(0x211)]['split'](':')[_0x52a67e(0x22a)](Number),[_0x6118de,_0x2c7c7]=_0x449d29[_0x52a67e(0x133)][_0x52a67e(0x1bc)](':')[_0x52a67e(0x22a)](Number),_0x4e5824=_0x4a54e2*0x3c+_0x1c459c,_0x106945=_0x6118de*0x3c+_0x2c7c7;if(Math[_0x52a67e(0x1af)](_0x49b32a,_0x4e5824)<Math[_0x52a67e(0x169)](_0x54c358,_0x106945)){if(_0x449d29[_0x52a67e(0x1a0)]&&String(_0x449d29['clientId'])===_0x340bc9)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x449d29['client']+_0x52a67e(0x20c)};_0x3b7410=!![],_0x5bfa51=_0x449d29['client'];}}if(_0x3b7410)return{'valid':!![],'warning':_0x52a67e(0x1bf)+_0x5bfa51};return{'valid':!![]};}function updateDateDisplay(){const _0x4d9468=a2_0xd7d60e,_0x1d9d79=document[_0x4d9468(0x1d6)]('inpDate')[_0x4d9468(0x1b5)],_0x4c48ac=document[_0x4d9468(0x1d6)](_0x4d9468(0x17e));if(!_0x1d9d79){_0x4c48ac['textContent']='';return;}const [_0x3a0d9a,_0x1d20dc,_0x192bf9]=_0x1d9d79[_0x4d9468(0x1bc)]('-')[_0x4d9468(0x22a)](Number),_0x385572=new Date(_0x3a0d9a,_0x1d20dc-0x1,_0x192bf9),_0x303691={'weekday':_0x4d9468(0x1ce),'day':'numeric','month':'long','year':_0x4d9468(0x194)};let _0x131c2a=_0x385572[_0x4d9468(0x2a6)](_0x4d9468(0x24b),_0x303691);_0x131c2a=_0x131c2a[_0x4d9468(0x1c6)](0x0)['toUpperCase']()+_0x131c2a[_0x4d9468(0x248)](0x1),_0x4c48ac['textContent']=_0x131c2a;}function autoSetEndTime(){const _0x1608fc=a2_0xd7d60e,_0x5c4e33=document[_0x1608fc(0x1d6)](_0x1608fc(0x236))[_0x1608fc(0x1b5)];if(!_0x5c4e33)return;const [_0x308e17,_0x43f0e9]=_0x5c4e33[_0x1608fc(0x1bc)](':')['map'](Number);let _0x480f72=_0x308e17+0x1;if(_0x480f72>0x17)_0x480f72=0x0;const _0x9eb140=String(_0x480f72)[_0x1608fc(0x26e)](0x2,'0')+':'+String(_0x43f0e9)[_0x1608fc(0x26e)](0x2,'0');document['getElementById'](_0x1608fc(0x22f))[_0x1608fc(0x1b5)]=_0x9eb140;}function populateClientSelect(){const _0x374cc8=a2_0xd7d60e,_0x3b8806=document[_0x374cc8(0x1d6)]('inpClient');_0x3b8806[_0x374cc8(0x230)]='';if(clients['length']===0x0){const _0x24f261=document[_0x374cc8(0x1cd)](_0x374cc8(0x216));_0x24f261[_0x374cc8(0x277)]=_0x374cc8(0x228),_0x3b8806['appendChild'](_0x24f261);return;}clients[_0x374cc8(0x20f)](_0x43fd62=>{const _0x4bb5ae=_0x374cc8,_0xdbe15d=document[_0x4bb5ae(0x1cd)](_0x4bb5ae(0x216));_0xdbe15d[_0x4bb5ae(0x1b5)]=_0x43fd62['name'],_0xdbe15d['textContent']=_0x43fd62[_0x4bb5ae(0x1dc)],_0x3b8806['appendChild'](_0xdbe15d);});}function openActionSheet(_0x3c3f22){const _0x320df0=a2_0xd7d60e,_0x5a18c8=document[_0x320df0(0x1d6)](_0x320df0(0x275)),_0x5e0ae2=document[_0x320df0(0x1d6)]('actionSheetOverlay'),_0x25d695=document[_0x320df0(0x1d6)](_0x320df0(0x1ea)),_0x4c8d6d=document[_0x320df0(0x1d6)](_0x320df0(0x15b)),_0x357f2e=document[_0x320df0(0x1d6)](_0x320df0(0x196));_0x5e0ae2[_0x320df0(0x256)][_0x320df0(0x1c0)](_0x320df0(0x1ad)),_0x5a18c8[_0x320df0(0x256)]['add'](_0x320df0(0x273));if(_0x3c3f22===_0x320df0(0x192))_0x25d695['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x4c8d6d[_0x320df0(0x1f7)]=_0x320df0(0x1bb),_0x4c8d6d[_0x320df0(0x12f)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x357f2e[_0x320df0(0x1f7)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x357f2e[_0x320df0(0x12f)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x3c3f22===_0x320df0(0x22e)&&(_0x25d695[_0x320df0(0x1f7)]=_0x320df0(0x1fd),_0x4c8d6d[_0x320df0(0x1f7)]=_0x320df0(0x1bb),_0x4c8d6d[_0x320df0(0x18e)]=_0x320df0(0x1e1),_0x4c8d6d[_0x320df0(0x12f)]=()=>{const _0x51e3c5=_0x320df0;closeActionSheet(),commitDelete(_0x51e3c5(0x19d),sessions[_0x51e3c5(0x160)](_0x151761=>_0x151761['id']===editingId));},_0x357f2e[_0x320df0(0x1f7)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x357f2e[_0x320df0(0x18e)]=_0x320df0(0x20e),_0x357f2e['onclick']=()=>{const _0x4c1684=_0x320df0;closeActionSheet(),commitDelete(_0x4c1684(0x12b),sessions[_0x4c1684(0x160)](_0x44b7f2=>_0x44b7f2['id']===editingId));});}function closeActionSheet(){const _0x181551=a2_0xd7d60e;document[_0x181551(0x1d6)]('actionSheet')[_0x181551(0x256)][_0x181551(0x128)](_0x181551(0x273)),document[_0x181551(0x1d6)](_0x181551(0x138))[_0x181551(0x256)][_0x181551(0x128)](_0x181551(0x1ad));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x3c601f=a2_0xd7d60e,_0x2591a9=document[_0x3c601f(0x1d6)]('settingCancelWindow')[_0x3c601f(0x1b5)];localStorage[_0x3c601f(0x22b)](_0x3c601f(0x16c),_0x2591a9),console[_0x3c601f(0x29a)](_0x3c601f(0x1d1),_0x2591a9),DataManager[_0x3c601f(0x14a)]('save_settings',{'settings':{'cancel_window':_0x2591a9}})[_0x3c601f(0x212)](_0x443f5d=>{const _0x41eb27=_0x3c601f;console[_0x41eb27(0x183)](_0x41eb27(0x1d0),_0x443f5d),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x141fed=a2_0xd7d60e,_0x2fcfca=localStorage[_0x141fed(0x260)](_0x141fed(0x16c));_0x2fcfca&&(document[_0x141fed(0x1d6)](_0x141fed(0x291))[_0x141fed(0x1b5)]=_0x2fcfca);}function openRangesSheet(){const _0x346642=a2_0xd7d60e;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x346642(0x29e));}function addRange(){const _0x31bbce=a2_0xd7d60e,_0x1e24b3=document['getElementById'](_0x31bbce(0x176))[_0x31bbce(0x1b5)],_0xe0d304=document[_0x31bbce(0x1d6)](_0x31bbce(0x1c8))['value'],_0x5eae9a=document[_0x31bbce(0x1d6)]('rangeEndDate')[_0x31bbce(0x1b5)],_0x3cf07f=document[_0x31bbce(0x1d6)]('rangeEndTime')[_0x31bbce(0x1b5)];if(!_0x1e24b3||!_0xe0d304||!_0x5eae9a||!_0x3cf07f)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x494162=_0x1e24b3+'T'+_0xe0d304,_0xda35c8=_0x5eae9a+'T'+_0x3cf07f;if(_0x494162>=_0xda35c8)return alert(_0x31bbce(0x26c));specialRanges[_0x31bbce(0x252)]({'start':_0x494162,'end':_0xda35c8}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x31bbce(0x170)](),DataManager[_0x31bbce(0x14a)](_0x31bbce(0x153),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x27d77b){const _0x312166=a2_0xd7d60e;specialRanges[_0x312166(0x159)](_0x27d77b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x312166(0x170)](),DataManager['fetchFromServer'](_0x312166(0x153),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4d86f8=a2_0xd7d60e;document[_0x4d86f8(0x1d6)](_0x4d86f8(0x176))[_0x4d86f8(0x1b5)]='',document[_0x4d86f8(0x1d6)](_0x4d86f8(0x1c8))[_0x4d86f8(0x1b5)]='00:00',document[_0x4d86f8(0x1d6)](_0x4d86f8(0x1b9))['value']='',document['getElementById'](_0x4d86f8(0x1cb))[_0x4d86f8(0x1b5)]=_0x4d86f8(0x137);}function renderRangesList(){const _0x53ebcd=a2_0xd7d60e,_0x1be127=document[_0x53ebcd(0x1d6)](_0x53ebcd(0x263));_0x1be127[_0x53ebcd(0x230)]='';if(!specialRanges[_0x53ebcd(0x19a)]){_0x1be127[_0x53ebcd(0x230)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x53ebcd(0x20f)]((_0x4129db,_0x15db0d)=>{const _0x360ef5=_0x53ebcd,_0x125cae=document[_0x360ef5(0x1cd)](_0x360ef5(0x238));_0x125cae[_0x360ef5(0x18e)]='range-item';const _0x19441e=_0x54ccd4=>{const _0x23be12=_0x360ef5,_0x278395=new Date(_0x54ccd4);return _0x278395[_0x23be12(0x1f3)]()+'.'+String(_0x278395[_0x23be12(0x173)]()+0x1)[_0x23be12(0x26e)](0x2,'0')+'\x20'+String(_0x278395[_0x23be12(0x17b)]())['padStart'](0x2,'0')+':'+String(_0x278395[_0x23be12(0x13f)]())[_0x23be12(0x26e)](0x2,'0');};_0x125cae[_0x360ef5(0x230)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x19441e(_0x4129db[_0x360ef5(0x211)])+_0x360ef5(0x282)+_0x19441e(_0x4129db[_0x360ef5(0x133)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x15db0d+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1be127['appendChild'](_0x125cae);});}function scrollToToday(){const _0x4fe427=a2_0xd7d60e,_0x35904c=getLocalDateStr(new Date()),_0x15ae37=document[_0x4fe427(0x1d6)](_0x4fe427(0x181)+_0x35904c),_0x4d2b08=document[_0x4fe427(0x1d6)]('matrixViewport');if(_0x15ae37&&_0x4d2b08){const _0x352b2d=_0x4d2b08['clientWidth'],_0x3516bb=_0x15ae37['offsetLeft'],_0x2d6190=_0x15ae37[_0x4fe427(0x147)];_0x4d2b08[_0x4fe427(0x2a3)]=_0x3516bb-_0x352b2d/0x2+_0x2d6190/0x2,_0x4d2b08[_0x4fe427(0x225)]=0x9*GRID_H;}}function onScroll(){const _0x25e27b=a2_0xd7d60e,_0x2f93ad=document[_0x25e27b(0x1d6)](_0x25e27b(0x1cc)),_0x9bfea3=document[_0x25e27b(0x23b)](_0x25e27b(0x284));for(let _0x1d0b9b of _0x9bfea3)if(_0x1d0b9b[_0x25e27b(0x292)]>=_0x2f93ad[_0x25e27b(0x2a3)]){const _0x32d22d=new Date(_0x1d0b9b['getAttribute'](_0x25e27b(0x188)));document[_0x25e27b(0x1d6)]('headerMonth')['textContent']=_0x32d22d[_0x25e27b(0x1da)]('ru',{'month':'long'})[_0x25e27b(0x1e7)]()+'\x20'+_0x32d22d[_0x25e27b(0x28b)]();break;}}function showToast(_0x592d53,_0x330fa5=![]){const _0x4ceb90=a2_0xd7d60e,_0xb36b4f=document[_0x4ceb90(0x1d6)](_0x4ceb90(0x1d4));_0xb36b4f[_0x4ceb90(0x18e)]=_0x4ceb90(0x286)+(_0x330fa5?_0x4ceb90(0x2a1):''),document[_0x4ceb90(0x1d6)](_0x4ceb90(0x20d))[_0x4ceb90(0x1f7)]=_0x330fa5?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x4ceb90(0x1d6)](_0x4ceb90(0x20b))[_0x4ceb90(0x1f7)]=_0x592d53,_0xb36b4f['classList'][_0x4ceb90(0x1c0)]('show'),setTimeout(()=>{const _0x3142d7=_0x4ceb90;_0xb36b4f[_0x3142d7(0x256)][_0x3142d7(0x128)](_0x3142d7(0x1d3));},0xbb8);}function openDayOptions(_0x1121d9,_0x2d25f3){const _0x5aa53c=a2_0xd7d60e;selectedDayForOptions=_0x1121d9,document[_0x5aa53c(0x1d6)]('dayOptionsTitle')[_0x5aa53c(0x1f7)]=_0x2d25f3,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x242cdd=a2_0xd7d60e;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x242cdd(0x29c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x242cdd(0x14a)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x12dd9d=a2_0xd7d60e;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x12dd9d(0x170)](),DataManager[_0x12dd9d(0x14a)](_0x12dd9d(0x153),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x24a663){const _0xf2f2d5=a2_0xd7d60e;document[_0xf2f2d5(0x1d6)](_0xf2f2d5(0x24a))[_0xf2f2d5(0x256)][_0xf2f2d5(0x1c0)](_0xf2f2d5(0x1ad)),document[_0xf2f2d5(0x1d6)](_0x24a663)[_0xf2f2d5(0x256)][_0xf2f2d5(0x1c0)](_0xf2f2d5(0x273));}function closeAllSheets(){const _0x2589a7=a2_0xd7d60e;document[_0x2589a7(0x1d6)]('overlay')[_0x2589a7(0x256)]['remove'](_0x2589a7(0x1ad)),document[_0x2589a7(0x23b)](_0x2589a7(0x1d7))['forEach'](_0x739c92=>_0x739c92['classList'][_0x2589a7(0x128)](_0x2589a7(0x273)));}function openPatternEditor(){const _0xd704b4=a2_0xd7d60e;closeAllSheets(),document[_0xd704b4(0x1d6)]('patternEditor')[_0xd704b4(0x256)][_0xd704b4(0x1c0)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x5666a5=a2_0xd7d60e;document[_0x5666a5(0x1d6)](_0x5666a5(0x1f9))[_0x5666a5(0x256)]['remove'](_0x5666a5(0x273));}function savePattern(){const _0x295240=a2_0xd7d60e;document[_0x295240(0x1d6)]('patternEditor')['classList'][_0x295240(0x128)]('open'),reRenderBlocks(),DataManager[_0x295240(0x170)](),DataManager[_0x295240(0x14a)](_0x295240(0x153),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5dda39=a2_0xd7d60e,_0x4a1960=document[_0x5dda39(0x1d6)](_0x5dda39(0x14c));_0x4a1960[_0x5dda39(0x230)]='';const _0x2c6bf3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x51025f=document['createElement'](_0x5dda39(0x238));_0x51025f['className']=_0x5dda39(0x23f),_0x4a1960[_0x5dda39(0x1aa)](_0x51025f),_0x2c6bf3[_0x5dda39(0x20f)]((_0x3492eb,_0x15095e)=>{const _0x2a8fab=_0x5dda39,_0x3ad199=document[_0x2a8fab(0x1cd)](_0x2a8fab(0x238));_0x3ad199['className']=_0x2a8fab(0x269),_0x3ad199[_0x2a8fab(0x230)]=_0x3492eb+_0x2a8fab(0x287),_0x3ad199['onclick']=()=>toggleColPattern(_0x15095e),_0x4a1960['appendChild'](_0x3ad199);});for(let _0x581b2a=0x0;_0x581b2a<0x18;_0x581b2a++){const _0x3141c5=document[_0x5dda39(0x1cd)](_0x5dda39(0x238));_0x3141c5[_0x5dda39(0x18e)]='pe-time-label',_0x3141c5[_0x5dda39(0x230)]=_0x5dda39(0x155)+String(_0x581b2a)[_0x5dda39(0x26e)](0x2,'0')+':00',_0x3141c5['onclick']=()=>toggleRowPattern(_0x581b2a),_0x4a1960[_0x5dda39(0x1aa)](_0x3141c5);for(let _0x1d1b97=0x0;_0x1d1b97<0x7;_0x1d1b97++){const _0x27a4a0=document[_0x5dda39(0x1cd)](_0x5dda39(0x238)),_0x5813e7=(availabilityPattern[_0x1d1b97]||[])[_0x5dda39(0x285)](_0x581b2a),_0x48466f=!_0x5813e7;_0x27a4a0['className']=_0x5dda39(0x262)+(_0x48466f?_0x5dda39(0x1ad):''),_0x27a4a0['onclick']=()=>toggleSinglePattern(_0x1d1b97,_0x581b2a),_0x4a1960[_0x5dda39(0x1aa)](_0x27a4a0);}}}function toggleSinglePattern(_0x27884e,_0x274dd5){const _0x2ca24b=a2_0xd7d60e;if(!availabilityPattern[_0x27884e])availabilityPattern[_0x27884e]=[];const _0x7eb9d5=availabilityPattern[_0x27884e],_0x5796f7=_0x7eb9d5['indexOf'](_0x274dd5);_0x5796f7===-0x1?_0x7eb9d5[_0x2ca24b(0x252)](_0x274dd5):_0x7eb9d5[_0x2ca24b(0x159)](_0x5796f7,0x1),renderPatternEditor();}function toggleColPattern(_0x463a5e){const _0x17c099=a2_0xd7d60e;if(!availabilityPattern[_0x463a5e])availabilityPattern[_0x463a5e]=[];const _0x354a57=availabilityPattern[_0x463a5e];_0x354a57[_0x17c099(0x19a)]===0x0?availabilityPattern[_0x463a5e]=Array[_0x17c099(0x1c4)]({'length':0x18},(_0xf811ef,_0x4ae573)=>_0x4ae573):availabilityPattern[_0x463a5e]=[],renderPatternEditor();}function toggleRowPattern(_0x22697f){const _0x1a83b4=a2_0xd7d60e;let _0x4a4a2c=!![];for(let _0x191beb=0x0;_0x191beb<0x7;_0x191beb++){if((availabilityPattern[_0x191beb]||[])['includes'](_0x22697f)){_0x4a4a2c=![];break;}}for(let _0x54f62=0x0;_0x54f62<0x7;_0x54f62++){if(!availabilityPattern[_0x54f62])availabilityPattern[_0x54f62]=[];const _0x1d635e=availabilityPattern[_0x54f62][_0x1a83b4(0x26a)](_0x22697f);if(_0x4a4a2c){if(_0x1d635e===-0x1)availabilityPattern[_0x54f62][_0x1a83b4(0x252)](_0x22697f);}else{if(_0x1d635e!==-0x1)availabilityPattern[_0x54f62][_0x1a83b4(0x159)](_0x1d635e,0x1);}}renderPatternEditor();}function renderPCol(_0x5c8dab,_0x573474){const _0x224741=a2_0xd7d60e;_0x5c8dab[_0x224741(0x230)]='';const _0x1fa6a7=Math[_0x224741(0x16a)](_0x5c8dab['offsetLeft']);(availabilityPattern[_0x573474]||[])[_0x224741(0x20f)](_0x13ca49=>{const _0x5d91c5=_0x224741,_0x34960c=document[_0x5d91c5(0x1cd)]('div');_0x34960c[_0x5d91c5(0x18e)]=_0x5d91c5(0x276);const _0x8441fa=_0x13ca49*GRID_H;_0x34960c['style'][_0x5d91c5(0x161)]=_0x8441fa+'px',_0x34960c['style'][_0x5d91c5(0x191)]='-'+_0x1fa6a7+_0x5d91c5(0x207)+_0x8441fa+'px',_0x34960c[_0x5d91c5(0x12f)]=_0x298236=>{const _0x2fbd29=_0x5d91c5;_0x298236[_0x2fbd29(0x226)](),toggleSinglePattern(_0x573474,_0x13ca49);},_0x5c8dab[_0x5d91c5(0x1aa)](_0x34960c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5862aa=a2_0xd7d60e,_0x3518f9=new Date(),_0x248670=document['getElementById']('globalTimeLine'),_0x49335a=document[_0x5862aa(0x1d6)]('timeLineBadge'),_0x125184=(_0x3518f9[_0x5862aa(0x17b)]()*0x3c+_0x3518f9[_0x5862aa(0x13f)]())/0x3c*GRID_H;_0x248670[_0x5862aa(0x166)][_0x5862aa(0x161)]=_0x125184+'px',_0x248670[_0x5862aa(0x166)][_0x5862aa(0x237)]=_0x5862aa(0x179),_0x49335a[_0x5862aa(0x1f7)]=String(_0x3518f9[_0x5862aa(0x17b)]())['padStart'](0x2,'0')+':'+String(_0x3518f9[_0x5862aa(0x13f)]())[_0x5862aa(0x26e)](0x2,'0'),_0x49335a[_0x5862aa(0x166)][_0x5862aa(0x237)]=_0x5862aa(0x179),_0x49335a['style']['top']=_0x125184+'px';}document['addEventListener'](a2_0xd7d60e(0x16f),init);function openDayOptions(_0x55dd75){const _0x1ac1f6=a2_0xd7d60e;selectedDayForOptions=_0x55dd75;const _0x2a68ae=new Date(_0x55dd75),_0x4a4ab3={'weekday':'long','day':_0x1ac1f6(0x194),'month':'long','year':_0x1ac1f6(0x194)},_0x3c97c0=_0x2a68ae[_0x1ac1f6(0x2a6)](_0x1ac1f6(0x24b),_0x4a4ab3);document[_0x1ac1f6(0x1d6)]('doDateHeader')[_0x1ac1f6(0x1f7)]=_0x3c97c0['charAt'](0x0)[_0x1ac1f6(0x1e7)]()+_0x3c97c0['slice'](0x1);let _0x1215f3=_0x2a68ae[_0x1ac1f6(0x28e)]()-0x1;if(_0x1215f3===-0x1)_0x1215f3=0x6;const _0x55583c=availabilityPattern[_0x1215f3]||[],_0x5a7071=0x18-_0x55583c[_0x1ac1f6(0x19a)],_0x254d5f=_0x5a7071*0x3c,_0x49e27f=sessions[_0x1ac1f6(0x218)](_0x5019a8=>_0x5019a8[_0x1ac1f6(0x1e5)]===_0x55dd75&&_0x5019a8[_0x1ac1f6(0x206)]!=='cancelled');let _0x5049bc=_0x49e27f[_0x1ac1f6(0x22a)](_0x28300b=>{const _0x18e987=_0x1ac1f6,[_0xde280d,_0x4f3420]=_0x28300b[_0x18e987(0x211)][_0x18e987(0x1bc)](':')['map'](Number),[_0x3d88cf,_0x1b7475]=_0x28300b[_0x18e987(0x133)][_0x18e987(0x1bc)](':')[_0x18e987(0x22a)](Number);return[_0xde280d*0x3c+_0x4f3420,_0x3d88cf*0x3c+_0x1b7475];});_0x5049bc['sort']((_0x14b767,_0x6e9fbb)=>_0x14b767[0x0]-_0x6e9fbb[0x0]);let _0x2d73b4=[];if(_0x5049bc[_0x1ac1f6(0x19a)]>0x0){let _0x11b43f=_0x5049bc[0x0];for(let _0x1f068d=0x1;_0x1f068d<_0x5049bc[_0x1ac1f6(0x19a)];_0x1f068d++){_0x5049bc[_0x1f068d][0x0]<_0x11b43f[0x1]?_0x11b43f[0x1]=Math['max'](_0x11b43f[0x1],_0x5049bc[_0x1f068d][0x1]):(_0x2d73b4[_0x1ac1f6(0x252)](_0x11b43f),_0x11b43f=_0x5049bc[_0x1f068d]);}_0x2d73b4['push'](_0x11b43f);}let _0x28e025=0x0;_0x2d73b4[_0x1ac1f6(0x20f)](_0x27034a=>_0x28e025+=_0x27034a[0x1]-_0x27034a[0x0]),document[_0x1ac1f6(0x1d6)](_0x1ac1f6(0x295))[_0x1ac1f6(0x1f7)]=formatMinsToHrs(_0x254d5f),document['getElementById'](_0x1ac1f6(0x1f6))['textContent']=formatMinsToHrs(_0x28e025);const _0x1a9e15=_0x254d5f>0x0?Math[_0x1ac1f6(0x16a)](_0x28e025/_0x254d5f*0x64):0x0,_0x5880dc=document['getElementById']('doLoadPercent');_0x5880dc[_0x1ac1f6(0x1f7)]=_0x1a9e15+'%';const _0x2794ed=document[_0x1ac1f6(0x1d6)](_0x1ac1f6(0x1f1));if(_0x1a9e15>0x64)_0x5880dc[_0x1ac1f6(0x166)][_0x1ac1f6(0x1ae)]=_0x1ac1f6(0x1ed),_0x2794ed['style'][_0x1ac1f6(0x19c)]=_0x1ac1f6(0x141);else _0x1a9e15>0x50?(_0x5880dc['style'][_0x1ac1f6(0x1ae)]=_0x1ac1f6(0x259),_0x2794ed['style']['borderColor']=_0x1ac1f6(0x29f)):(_0x5880dc[_0x1ac1f6(0x166)][_0x1ac1f6(0x1ae)]=_0x1ac1f6(0x165),_0x2794ed[_0x1ac1f6(0x166)][_0x1ac1f6(0x19c)]='rgba(255,255,255,0.05)');const _0x41ab86=document['getElementById'](_0x1ac1f6(0x233));_0x41ab86[_0x1ac1f6(0x230)]='';_0x49e27f[_0x1ac1f6(0x19a)]===0x0?_0x41ab86[_0x1ac1f6(0x230)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x49e27f[_0x1ac1f6(0x1d9)]((_0x1dc58d,_0x1950a4)=>_0x1dc58d[_0x1ac1f6(0x211)][_0x1ac1f6(0x244)](_0x1950a4['start'])),_0x49e27f['forEach'](_0x2e8120=>{const _0x31e614=_0x1ac1f6,_0x1d52c0=clients[_0x31e614(0x160)](_0x43d213=>_0x43d213[_0x31e614(0x1dc)]===_0x2e8120[_0x31e614(0x1be)]),_0x5c58b8=_0x1d52c0?_0x1d52c0['color']:_0x31e614(0x1c3),_0x92bfac=_0x2e8120[_0x31e614(0x206)]===_0x31e614(0x261),_0x59da9c=_0x92bfac?_0x31e614(0x145):'',_0x5030d2=document[_0x31e614(0x1cd)]('div');_0x5030d2['className']=_0x31e614(0x1c7),_0x5030d2[_0x31e614(0x166)][_0x31e614(0x205)]=_0x5c58b8,_0x5030d2[_0x31e614(0x230)]=_0x31e614(0x1d8)+_0x2e8120[_0x31e614(0x211)]+_0x31e614(0x251)+_0x2e8120[_0x31e614(0x133)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e8120[_0x31e614(0x1be)]+_0x31e614(0x249)+_0x59da9c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x41ab86[_0x31e614(0x1aa)](_0x5030d2);}));const _0x4bcac7=document['getElementById']('btnDayToggle'),_0x2ad60a=dateExceptions[_0x55dd75]===_0x1ac1f6(0x29c);_0x2ad60a?(_0x4bcac7[_0x1ac1f6(0x1f7)]=_0x1ac1f6(0x19e),_0x4bcac7['className']='btn-primary\x20btn-secondary',_0x4bcac7[_0x1ac1f6(0x166)]['color']=_0x1ac1f6(0x165),_0x4bcac7[_0x1ac1f6(0x166)][_0x1ac1f6(0x293)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x4bcac7[_0x1ac1f6(0x1f7)]=_0x1ac1f6(0x26f),_0x4bcac7[_0x1ac1f6(0x18e)]=_0x1ac1f6(0x174),_0x4bcac7[_0x1ac1f6(0x166)]['color']=_0x1ac1f6(0x1ed),_0x4bcac7['style']['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0xd7d60e(0x186);function openAnalytics(){const _0x56730e=a2_0xd7d60e,_0x9fc4b5=document['querySelector'](_0x56730e(0x2a4));setAnalyticsPeriod(_0x56730e(0x186),_0x9fc4b5),closeAllSheets(),openSheet(_0x56730e(0x13b));}function setAnalyticsPeriod(_0xc38305,_0x516a0f){const _0x543587=a2_0xd7d60e;currentAnPeriod=_0xc38305,document[_0x543587(0x23b)](_0x543587(0x2a4))[_0x543587(0x20f)](_0x593a4e=>_0x593a4e[_0x543587(0x256)][_0x543587(0x128)]('active'));if(_0x516a0f)_0x516a0f['classList'][_0x543587(0x1c0)]('active');const _0x373d86=document['getElementById'](_0x543587(0x245));_0x373d86[_0x543587(0x166)]['display']=_0xc38305===_0x543587(0x1cf)?_0x543587(0x13e):_0x543587(0x1e9);const _0x1585af=new Date();let _0x579e63=new Date(),_0x2e3d52=new Date();if(_0xc38305==='week')_0x579e63=getStartOfWeek(_0x1585af),_0x2e3d52=new Date(_0x579e63),_0x2e3d52[_0x543587(0x157)](_0x2e3d52['getDate']()+0x6);else{if(_0xc38305==='month')_0x579e63=new Date(_0x1585af['getFullYear'](),_0x1585af['getMonth'](),0x1),_0x2e3d52=new Date(_0x1585af[_0x543587(0x28b)](),_0x1585af[_0x543587(0x173)]()+0x1,0x0);else{!document[_0x543587(0x1d6)](_0x543587(0x235))[_0x543587(0x1b5)]&&(document[_0x543587(0x1d6)]('anStart')[_0x543587(0x1b5)]=getLocalDateStr(_0x1585af),document[_0x543587(0x1d6)]('anEnd')['value']=getLocalDateStr(_0x1585af));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x579e63),document[_0x543587(0x1d6)](_0x543587(0x208))[_0x543587(0x1b5)]=getLocalDateStr(_0x2e3d52),refreshAnalytics();}function refreshAnalytics(){const _0x5c6374=a2_0xd7d60e,_0x259628=document['getElementById'](_0x5c6374(0x235))['value'],_0x40f181=document[_0x5c6374(0x1d6)](_0x5c6374(0x208))[_0x5c6374(0x1b5)];if(!_0x259628||!_0x40f181)return;const _0x1ed31f=sessions[_0x5c6374(0x218)](_0x5b742a=>_0x5b742a[_0x5c6374(0x1e5)]>=_0x259628&&_0x5b742a['dateStr']<=_0x40f181&&_0x5b742a[_0x5c6374(0x206)]!=='cancelled'),_0x3359c7=_0x1ed31f[_0x5c6374(0x19a)],_0x2b6391=_0x1ed31f[_0x5c6374(0x218)](_0x3e3fb7=>_0x3e3fb7['status']==='completed')[_0x5c6374(0x19a)],_0x430d69=_0x3359c7>0x0?Math['round'](_0x2b6391/_0x3359c7*0x64):0x0;document[_0x5c6374(0x1d6)](_0x5c6374(0x1e4))[_0x5c6374(0x1f7)]=_0x430d69+'%',document['getElementById'](_0x5c6374(0x28f))[_0x5c6374(0x1f7)]=_0x2b6391+_0x5c6374(0x135)+_0x3359c7+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x188be2=document[_0x5c6374(0x1d6)](_0x5c6374(0x221)),_0x28b83c=0x2*Math['PI']*0x23,_0x5b4037=_0x28b83c-_0x430d69/0x64*_0x28b83c;_0x188be2[_0x5c6374(0x166)]['strokeDashoffset']=_0x5b4037;const _0x4a2c3f={};_0x1ed31f[_0x5c6374(0x20f)](_0x192ff5=>{const _0x169bfc=_0x5c6374;if(!_0x4a2c3f[_0x192ff5['client']]){const _0x101c81=clients[_0x169bfc(0x160)](_0x3a3244=>_0x3a3244['name']===_0x192ff5[_0x169bfc(0x1be)]);_0x4a2c3f[_0x192ff5[_0x169bfc(0x1be)]]={'total':0x0,'done':0x0,'color':_0x101c81?_0x101c81['color']:_0x169bfc(0x1c3)};}_0x4a2c3f[_0x192ff5['client']][_0x169bfc(0x28d)]++;if(_0x192ff5[_0x169bfc(0x206)]===_0x169bfc(0x261))_0x4a2c3f[_0x192ff5[_0x169bfc(0x1be)]][_0x169bfc(0x1ba)]++;});const _0x438af2=document[_0x5c6374(0x1d6)](_0x5c6374(0x150));_0x438af2[_0x5c6374(0x230)]='';const _0x281b92=Object[_0x5c6374(0x274)](_0x4a2c3f)['sort']((_0x528ddb,_0x44ce53)=>_0x44ce53[0x1]['total']-_0x528ddb[0x1][_0x5c6374(0x28d)]);if(_0x281b92[_0x5c6374(0x19a)]===0x0){_0x438af2[_0x5c6374(0x230)]=_0x5c6374(0x257);return;}_0x281b92[_0x5c6374(0x20f)](([_0x1e8a5a,_0x16a11b])=>{const _0x3963f7=_0x5c6374,_0x51ff17=Math[_0x3963f7(0x16a)](_0x16a11b[_0x3963f7(0x1ba)]/_0x16a11b[_0x3963f7(0x28d)]*0x64),_0x145456=document[_0x3963f7(0x1cd)](_0x3963f7(0x238));_0x145456[_0x3963f7(0x18e)]=_0x3963f7(0x213),_0x145456['style']['borderLeftColor']=_0x16a11b[_0x3963f7(0x1ae)],_0x145456[_0x3963f7(0x230)]=_0x3963f7(0x1a6)+_0x1e8a5a+_0x3963f7(0x1e6)+_0x16a11b[_0x3963f7(0x1ba)]+'</span>\x20/\x20'+_0x16a11b[_0x3963f7(0x28d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x51ff17+_0x3963f7(0x12d),_0x438af2['appendChild'](_0x145456);});}function formatMinsToHrs(_0x55d769){const _0x2a077d=a2_0xd7d60e;if(_0x55d769===0x0)return'0';const _0x34dbc7=Math[_0x2a077d(0x239)](_0x55d769/0x3c),_0x308731=_0x55d769%0x3c;if(_0x308731===0x0)return _0x34dbc7+'—á';return _0x34dbc7+'—á\x20'+_0x308731+'–º';}