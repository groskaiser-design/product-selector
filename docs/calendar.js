const a2_0x35894b=a2_0x8895;(function(_0x46969f,_0x432ec0){const _0x2d4d24=a2_0x8895,_0x481ce4=_0x46969f();while(!![]){try{const _0x197fc8=-parseInt(_0x2d4d24(0x264))/0x1+parseInt(_0x2d4d24(0x26d))/0x2*(parseInt(_0x2d4d24(0x23e))/0x3)+parseInt(_0x2d4d24(0x226))/0x4+parseInt(_0x2d4d24(0x263))/0x5*(-parseInt(_0x2d4d24(0x268))/0x6)+parseInt(_0x2d4d24(0x120))/0x7*(parseInt(_0x2d4d24(0x242))/0x8)+-parseInt(_0x2d4d24(0x1f6))/0x9*(-parseInt(_0x2d4d24(0x26b))/0xa)+-parseInt(_0x2d4d24(0x162))/0xb;if(_0x197fc8===_0x432ec0)break;else _0x481ce4['push'](_0x481ce4['shift']());}catch(_0x131397){_0x481ce4['push'](_0x481ce4['shift']());}}}(a2_0x19ea,0xe4bdf),function initTMA(){const _0x4625c2=a2_0x8895,_0x251fbb=(function(){let _0x2553b7=!![];return function(_0x18c28a,_0x31e587){const _0x2389e4=_0x2553b7?function(){const _0x374517=a2_0x8895;if(_0x31e587){const _0x56ad96=_0x31e587[_0x374517(0x1a4)](_0x18c28a,arguments);return _0x31e587=null,_0x56ad96;}}:function(){};return _0x2553b7=![],_0x2389e4;};}()),_0x31fcae=_0x251fbb(this,function(){const _0x5b6881=a2_0x8895;return _0x31fcae[_0x5b6881(0x1fc)]()[_0x5b6881(0x18d)](_0x5b6881(0x219))[_0x5b6881(0x1fc)]()[_0x5b6881(0x1a9)](_0x31fcae)['search']('(((.+)+)+)+$');});_0x31fcae();try{const _0x1ec7b9=window[_0x4625c2(0x234)]?.[_0x4625c2(0xf9)];if(!_0x1ec7b9)return;_0x1ec7b9[_0x4625c2(0x26c)](),_0x1ec7b9['expand']();try{_0x1ec7b9[_0x4625c2(0x10b)]('#050505'),_0x1ec7b9[_0x4625c2(0x1ef)]&&_0x1ec7b9['setBackgroundColor'](_0x4625c2(0x257));}catch(_0x8f4c02){console[_0x4625c2(0x13e)](_0x4625c2(0x244),_0x8f4c02);}try{_0x1ec7b9['BackButton']&&(_0x1ec7b9[_0x4625c2(0x1da)][_0x4625c2(0x25c)](),_0x1ec7b9[_0x4625c2(0x1da)][_0x4625c2(0x1dd)](),_0x1ec7b9[_0x4625c2(0x1da)][_0x4625c2(0x198)](function(){const _0x54d605=_0x4625c2;window[_0x54d605(0x110)][_0x54d605(0x158)]=_0x54d605(0x176);}));}catch(_0x1013a1){console[_0x4625c2(0x13e)](_0x4625c2(0x26f),_0x1013a1);}try{if(_0x1ec7b9[_0x4625c2(0x138)])_0x1ec7b9[_0x4625c2(0x138)]();}catch(_0x3dd928){}}catch(_0x517b69){console[_0x4625c2(0x17b)](_0x4625c2(0x246),_0x517b69);}}());function isAdmin(){const _0x55c863=a2_0x8895;try{const _0x2177e2=Number(window[_0x55c863(0x234)]?.[_0x55c863(0xf9)]?.[_0x55c863(0x23a)]?.['user']?.['id']);return _0x2177e2===0xbaf7174;}catch(_0x24d56e){return![];}}const APP_VERSION=a2_0x35894b(0xf8),API_URL=a2_0x35894b(0x16c),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x35894b(0x267),KEY_SESSIONS=a2_0x35894b(0x22e),KEY_SETTINGS=a2_0x35894b(0x217);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x22066a=a2_0x35894b;return window['Telegram']?.['WebApp']?.['initDataUnsafe']?.['user']?.['id']||_0x22066a(0xed);},'saveLocally'(){const _0x20d74c=a2_0x35894b;try{localStorage[_0x20d74c(0x1cb)](KEY_CLIENTS,JSON[_0x20d74c(0x230)](clients)),localStorage[_0x20d74c(0x1cb)](KEY_SESSIONS,JSON[_0x20d74c(0x230)](sessions)),localStorage[_0x20d74c(0x1cb)](KEY_SETTINGS,JSON[_0x20d74c(0x230)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3e6760){console[_0x20d74c(0x17b)]('Local\x20Save\x20Error',_0x3e6760);}},'loadLocal'(){const _0x2d6fbe=a2_0x35894b;try{const _0x115429=localStorage[_0x2d6fbe(0x1ac)](KEY_CLIENTS);if(_0x115429)clients=JSON[_0x2d6fbe(0x1f1)](_0x115429);const _0x1f99ba=localStorage['getItem'](KEY_SESSIONS);if(_0x1f99ba)sessions=JSON[_0x2d6fbe(0x1f1)](_0x1f99ba);const _0x367203=localStorage[_0x2d6fbe(0x1ac)](KEY_SETTINGS);if(_0x367203){const _0x2d05d6=JSON[_0x2d6fbe(0x1f1)](_0x367203);if(_0x2d05d6[_0x2d6fbe(0x177)])availabilityPattern=_0x2d05d6[_0x2d6fbe(0x177)];if(_0x2d05d6['exceptions'])dateExceptions=_0x2d05d6[_0x2d6fbe(0x160)];if(_0x2d05d6['ranges'])specialRanges=_0x2d05d6[_0x2d6fbe(0x265)];}else{for(let _0x4723d0=0x0;_0x4723d0<0x7;_0x4723d0++)availabilityPattern[_0x4723d0]=Array[_0x2d6fbe(0x245)]({'length':0xc},(_0x1b826a,_0x3678ad)=>_0x3678ad+0x9);}}catch(_0x5f0ec6){console['error'](_0x2d6fbe(0x153),_0x5f0ec6);}},async 'fetchFromServer'(_0x2ee331,_0x2931da={}){const _0x5155c2=a2_0x35894b,_0x1742fe=window[_0x5155c2(0x234)]?.[_0x5155c2(0xf9)],_0x4674e8={'action':_0x2ee331,'init_data':_0x1742fe?.['initData']||'',..._0x2931da};try{const _0x1091d8=await fetch(API_URL,{'method':_0x5155c2(0x1ec),'headers':{'Content-Type':_0x5155c2(0x1db)},'body':JSON['stringify'](_0x4674e8)}),_0x1e1c00=await _0x1091d8[_0x5155c2(0x11e)]();if(!_0x1e1c00['ok'])throw new Error(_0x1e1c00[_0x5155c2(0x17b)]||_0x5155c2(0x18a));return _0x1e1c00[_0x5155c2(0x1fe)];}catch(_0x1f459b){console['error'](_0x5155c2(0x115)+_0x2ee331+_0x5155c2(0x1cc),_0x1f459b);throw _0x1f459b;}},async 'syncLoad'(){const _0x4a5fb5=a2_0x35894b,_0x460d02=new Date(),_0x2ee048=_0x460d02[_0x4a5fb5(0x254)]()+'-'+String(_0x460d02[_0x4a5fb5(0x11b)]()+0x1)[_0x4a5fb5(0x1ae)](0x2,'0'),_0xf214a1=new Date(_0x460d02);_0xf214a1[_0x4a5fb5(0x1d5)](_0x460d02[_0x4a5fb5(0x11b)]()+0x1);const _0x2643be=_0xf214a1[_0x4a5fb5(0x254)]()+'-'+String(_0xf214a1[_0x4a5fb5(0x11b)]()+0x1)['padStart'](0x2,'0'),_0x5910f9=Date[_0x4a5fb5(0x194)]();console[_0x4a5fb5(0x13e)](_0x4a5fb5(0x139)+_0x2ee048+',\x20'+_0x2643be+'...');try{const [_0x4bde6a,_0x160f98]=await Promise[_0x4a5fb5(0x10f)]([this[_0x4a5fb5(0x207)](_0x4a5fb5(0x1de),{'month_str':_0x2ee048}),this[_0x4a5fb5(0x207)](_0x4a5fb5(0x1de),{'month_str':_0x2643be})]);if(lastUserActionTime>_0x5910f9)return console['warn'](_0x4a5fb5(0x183)),![];return this[_0x4a5fb5(0x146)](_0x4bde6a,_0x2ee048),this['mergeServerData'](_0x160f98,_0x2643be),this[_0x4a5fb5(0x26e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x1bdd09){console[_0x4a5fb5(0x17b)](_0x1bdd09);throw _0x1bdd09;}},'mergeServerData'(_0x1c97d3,_0x44acbd){const _0x372c6f=a2_0x35894b;if(!_0x1c97d3)return;_0x1c97d3['clients']&&Array[_0x372c6f(0x185)](_0x1c97d3[_0x372c6f(0xee)])&&(clients=_0x1c97d3['clients']);if(_0x1c97d3[_0x372c6f(0x247)]){if(_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x177)])availabilityPattern=_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x177)];if(_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x160)])dateExceptions=_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x160)];if(_0x1c97d3['settings'][_0x372c6f(0x265)])specialRanges=_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x265)];if(_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x170)]){localStorage[_0x372c6f(0x1cb)](_0x372c6f(0x205),_0x1c97d3[_0x372c6f(0x247)][_0x372c6f(0x170)]);const _0x164ebf=document[_0x372c6f(0x258)](_0x372c6f(0x108));if(_0x164ebf)_0x164ebf[_0x372c6f(0x241)]=_0x1c97d3[_0x372c6f(0x247)]['cancel_window'];}}_0x1c97d3[_0x372c6f(0x1b4)]&&(sessions=sessions['filter'](_0x523bc5=>!_0x523bc5[_0x372c6f(0x21d)][_0x372c6f(0x1fa)](_0x44acbd)),Object[_0x372c6f(0x1bf)](_0x1c97d3[_0x372c6f(0x1b4)])['forEach'](_0x21d864=>{const _0x61888b=_0x372c6f,_0x424c14=_0x1c97d3['calendar'][_0x21d864];_0x424c14[_0x61888b(0x191)](_0x1c5803=>{const _0x25f570=_0x61888b,_0x37cdef=clients['find'](_0x390bd8=>String(_0x390bd8['id'])===String(_0x1c5803['c']));sessions[_0x25f570(0x134)]({'id':_0x1c5803['i'],'clientId':_0x1c5803['c'],'client':_0x37cdef?_0x37cdef[_0x25f570(0x208)]:_0x25f570(0x1b1),'dateStr':_0x44acbd+'-'+_0x21d864[_0x25f570(0x1ae)](0x2,'0'),'start':_0x1c5803['s'],'end':_0x1c5803['e'],'status':_0x1c5803['st']||_0x25f570(0x1e0),'note':_0x1c5803['n']||'','seriesId':_0x1c5803[_0x25f570(0xe6)]||null});});}));},async 'syncBatch'(_0x1fb3c4){const _0x348c25=a2_0x35894b,_0x48a96a=[...new Set(_0x1fb3c4)],_0x41ba9a=_0x48a96a['map'](_0x250a3e=>{const _0x3eba5f=a2_0x8895,_0x1cdfa1=sessions[_0x3eba5f(0x155)](_0x388404=>_0x388404['dateStr']===_0x250a3e&&_0x388404[_0x3eba5f(0x151)]!==_0x3eba5f(0x1be)),_0x14a473=_0x1cdfa1['map'](_0x16095e=>({'i':_0x16095e['id'],'c':_0x16095e['clientId'],'s':_0x16095e[_0x3eba5f(0x275)],'e':_0x16095e['end'],'st':_0x16095e[_0x3eba5f(0x151)],'n':_0x16095e['note'],'sid':_0x16095e[_0x3eba5f(0xe5)]}));return{'date':_0x250a3e,'day_data':_0x14a473};});if(_0x41ba9a[_0x348c25(0x252)]===0x0)return;console[_0x348c25(0x13e)](_0x348c25(0x145)+_0x41ba9a[_0x348c25(0x252)]+_0x348c25(0x21b)),await this[_0x348c25(0x207)](_0x348c25(0x1ca),{'changes':_0x41ba9a});}};async function init(){const _0x2ef359=a2_0x35894b;DataManager[_0x2ef359(0x1a2)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2ef359(0x258)]('matrixViewport')[_0x2ef359(0x19c)](_0x2ef359(0x272),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2ef359(0x128)]()[_0x2ef359(0x164)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x2ef359(0x16a)](_0xcf2fad=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0xc527a9=a2_0x35894b;return Date[_0xc527a9(0x194)]()['toString'](0x24)+Math[_0xc527a9(0x1fb)]()[_0xc527a9(0x1fc)](0x24)[_0xc527a9(0x1d3)](0x2,0x5);}function toggleSeriesInput(){const _0x2bf43a=a2_0x35894b,_0x1496d2=document[_0x2bf43a(0x258)]('inpRecurring')[_0x2bf43a(0x1a3)],_0x37cd5b=document[_0x2bf43a(0x258)](_0x2bf43a(0x24b));_0x37cd5b['style']['display']=_0x1496d2?'block':_0x2bf43a(0x1d8);const _0x569b8e=document['getElementById'](_0x2bf43a(0x220));_0x569b8e[_0x2bf43a(0x250)][_0x2bf43a(0x25a)]=_0x1496d2?_0x2bf43a(0x20d):_0x2bf43a(0x1dc);}function openAddSession(_0x546325){const _0x5a9f6a=a2_0x35894b;editingId=null,populateClientSelect(),document[_0x5a9f6a(0x258)](_0x5a9f6a(0x1c4))[_0x5a9f6a(0xfc)]=_0x5a9f6a(0x109),document['getElementById'](_0x5a9f6a(0x18c))[_0x5a9f6a(0x250)][_0x5a9f6a(0x16b)]=_0x5a9f6a(0x1d8),document['getElementById']('btnStatusToggle')['style'][_0x5a9f6a(0x16b)]=_0x5a9f6a(0x1d8);const _0x27f81d=document[_0x5a9f6a(0x258)]('recurringOptionContainer'),_0x2a0daa=document[_0x5a9f6a(0x258)](_0x5a9f6a(0x24b));_0x27f81d[_0x5a9f6a(0x250)][_0x5a9f6a(0x16b)]=_0x5a9f6a(0x135),_0x27f81d[_0x5a9f6a(0x250)][_0x5a9f6a(0x25a)]=_0x5a9f6a(0x1dc),document['getElementById']('inpRecurring')[_0x5a9f6a(0x1a3)]=![],document[_0x5a9f6a(0x258)](_0x5a9f6a(0xe8))[_0x5a9f6a(0x241)]=0x4,_0x2a0daa['style'][_0x5a9f6a(0x16b)]='none',document['getElementById'](_0x5a9f6a(0x19b))[_0x5a9f6a(0x241)]=getLocalDateStr(_0x546325),updateDateDisplay();const _0x7d0027=_0x546325[_0x5a9f6a(0x227)]();document[_0x5a9f6a(0x258)](_0x5a9f6a(0x202))['value']=String(_0x7d0027)[_0x5a9f6a(0x1ae)](0x2,'0')+_0x5a9f6a(0x18f),document[_0x5a9f6a(0x258)](_0x5a9f6a(0x20a))[_0x5a9f6a(0x241)]=String(_0x7d0027+0x1)[_0x5a9f6a(0x1ae)](0x2,'0')+':00',openSheet(_0x5a9f6a(0x126));}function openEdit(_0x586a09){const _0x36dff7=a2_0x35894b;editingId=_0x586a09['id'],populateClientSelect(),document['getElementById'](_0x36dff7(0x1c4))[_0x36dff7(0xfc)]=_0x36dff7(0x14c),document[_0x36dff7(0x258)]('btnDelete')[_0x36dff7(0x250)][_0x36dff7(0x16b)]=_0x36dff7(0x1e1);const _0x355471=document[_0x36dff7(0x258)]('btnStatusToggle');_0x355471['style'][_0x36dff7(0x16b)]=_0x36dff7(0x135);_0x586a09[_0x36dff7(0x151)]===_0x36dff7(0x127)?(_0x355471[_0x36dff7(0xeb)]=_0x36dff7(0x25b),_0x355471['innerHTML']=_0x36dff7(0x181)):(_0x355471[_0x36dff7(0xeb)]=_0x36dff7(0x26a),_0x355471[_0x36dff7(0x17d)]=_0x36dff7(0x21f));const _0xc37d8b=!!_0x586a09['seriesId'];document[_0x36dff7(0x258)](_0x36dff7(0x220))[_0x36dff7(0x250)][_0x36dff7(0x16b)]=_0x36dff7(0x1d8),document[_0x36dff7(0x258)](_0x36dff7(0x24b))[_0x36dff7(0x250)][_0x36dff7(0x16b)]=_0x36dff7(0x1d8),_0xc37d8b?(document[_0x36dff7(0x258)](_0x36dff7(0x21e))['style'][_0x36dff7(0x16b)]=_0x36dff7(0x135),document[_0x36dff7(0x258)](_0x36dff7(0x21e))[_0x36dff7(0x132)](_0x36dff7(0x19e))['textContent']=_0x36dff7(0x175)):document[_0x36dff7(0x258)](_0x36dff7(0x21e))['style'][_0x36dff7(0x16b)]=_0x36dff7(0x1d8),document[_0x36dff7(0x258)](_0x36dff7(0x1fd))['value']=_0x586a09[_0x36dff7(0x231)],document['getElementById']('inpDate')[_0x36dff7(0x241)]=_0x586a09[_0x36dff7(0x21d)],document[_0x36dff7(0x258)](_0x36dff7(0x202))[_0x36dff7(0x241)]=_0x586a09[_0x36dff7(0x275)],document[_0x36dff7(0x258)]('inpEnd')[_0x36dff7(0x241)]=_0x586a09[_0x36dff7(0x10d)],document[_0x36dff7(0x258)](_0x36dff7(0x236))[_0x36dff7(0x241)]=_0x586a09[_0x36dff7(0x11f)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x5d61ca=a2_0x35894b,_0x2b98e1=document[_0x5d61ca(0x258)]('inpClient')[_0x5d61ca(0x241)],_0xdf215f=document[_0x5d61ca(0x258)](_0x5d61ca(0x19b))[_0x5d61ca(0x241)],_0x5ed88a=document[_0x5d61ca(0x258)]('inpStart')[_0x5d61ca(0x241)],_0x4d8889=document[_0x5d61ca(0x258)]('inpEnd')['value'],_0x56adc8=document[_0x5d61ca(0x258)](_0x5d61ca(0x236))[_0x5d61ca(0x241)],_0x42b627=document['getElementById'](_0x5d61ca(0xef))['checked'];let _0x3e4591=0x4;if(_0x42b627){const _0x3fd488=parseInt(document[_0x5d61ca(0x258)](_0x5d61ca(0xe8))[_0x5d61ca(0x241)]);if(!_0x3fd488||_0x3fd488<0x2){showToast(_0x5d61ca(0xf3),![]);return;}if(_0x3fd488>0x64){showToast(_0x5d61ca(0x212),![]);return;}_0x3e4591=_0x3fd488;}const _0x2e203d=clients[_0x5d61ca(0x270)](_0x5d731b=>_0x5d731b[_0x5d61ca(0x208)]===_0x2b98e1);if(!_0x2e203d){showToast(_0x5d61ca(0x1bb),![]);return;}const _0x1ccad5=validateAppointment(_0xdf215f,_0x5ed88a,_0x4d8889,editingId,_0x2e203d['id']);if(!_0x1ccad5[_0x5d61ca(0x214)]){showToast(_0x1ccad5[_0x5d61ca(0x12b)],![]);return;}_0x1ccad5['warning']&&showToast(_0x1ccad5[_0x5d61ca(0x174)],![]);const _0x139bbf={'client':_0x2b98e1,'clientId':_0x2e203d['id'],'start':_0x5ed88a,'end':_0x4d8889,'note':_0x56adc8,'status':_0x5d61ca(0x1e0)},_0x874022=editingId?sessions[_0x5d61ca(0x270)](_0x3dc6e1=>_0x3dc6e1['id']===editingId):null;if(_0x874022&&_0x874022[_0x5d61ca(0xe5)]){tempSessionData={..._0x139bbf,'dateStr':_0xdf215f,'id':editingId,'seriesId':_0x874022[_0x5d61ca(0xe5)]},openActionSheet('save');return;}let _0x42b8a8=null;if(!editingId)_0x42b8a8=_0x5d61ca(0x1b6);else{if(_0x874022){if(String(_0x874022[_0x5d61ca(0x12e)])!==String(_0x2e203d['id']))console['log'](_0x5d61ca(0x17a)),NotificationManager[_0x5d61ca(0x221)](_0x5d61ca(0x13a),_0x874022),_0x42b8a8=_0x5d61ca(0x1b6);else(_0x874022[_0x5d61ca(0x275)]!==_0x5ed88a||_0x874022['end']!==_0x4d8889||_0x874022[_0x5d61ca(0x21d)]!==_0xdf215f)&&(_0x42b8a8='update');}}if(!editingId&&_0x42b627){createBatchSeries(_0x139bbf,_0xdf215f,_0x3e4591),NotificationManager[_0x5d61ca(0x221)]('create',{..._0x139bbf,'dateStr':_0xdf215f});return;}lastUserActionTime=Date[_0x5d61ca(0x194)]();const _0x257234={..._0x139bbf,'dateStr':_0xdf215f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x257234),_0x42b8a8&&NotificationManager[_0x5d61ca(0x221)](_0x42b8a8,_0x257234);}function toggleSessionStatus(){const _0x3a482d=a2_0x35894b;lastUserActionTime=Date[_0x3a482d(0x194)]();const _0x3fe385=sessions[_0x3a482d(0x270)](_0x1f4f0d=>_0x1f4f0d['id']===editingId);if(!_0x3fe385)return;const _0x47f627=_0x3fe385[_0x3a482d(0x151)]===_0x3a482d(0x127)?'planned':'completed';_0x3fe385[_0x3a482d(0x151)]=_0x47f627,saveSingleSession(_0x3fe385),_0x47f627===_0x3a482d(0x127)&&NotificationManager[_0x3a482d(0x221)]('complete',_0x3fe385),showToast(_0x47f627===_0x3a482d(0x127)?_0x3a482d(0x193):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x2d6b61,_0x6ab139,_0x2adecf,_0x3577f9,_0x9e2ae0){const _0x4b283e=a2_0x35894b,[_0x6fccfd,_0x2f3fd9]=_0x6ab139[_0x4b283e(0x149)](':')[_0x4b283e(0x1af)](Number),[_0x30dedb,_0x5e9a9e]=_0x2adecf['split'](':')[_0x4b283e(0x1af)](Number),_0x2937aa=_0x6fccfd*0x3c+_0x2f3fd9,_0x3be479=_0x30dedb*0x3c+_0x5e9a9e,_0x2a8c87=String(_0x9e2ae0);let _0x293264=![],_0x77ca7a='';for(let _0x45362c of sessions){if(_0x45362c[_0x4b283e(0x21d)]!==_0x2d6b61)continue;if(_0x45362c['status']===_0x4b283e(0x13f))continue;if(_0x3577f9&&String(_0x45362c['id'])===String(_0x3577f9))continue;const [_0x28bbde,_0x5d498f]=_0x45362c[_0x4b283e(0x275)][_0x4b283e(0x149)](':')['map'](Number),[_0x2d24bf,_0x3fdd6f]=_0x45362c[_0x4b283e(0x10d)][_0x4b283e(0x149)](':')[_0x4b283e(0x1af)](Number),_0x265ae6=_0x28bbde*0x3c+_0x5d498f,_0x19ba6d=_0x2d24bf*0x3c+_0x3fdd6f;if(Math[_0x4b283e(0x1c0)](_0x2937aa,_0x265ae6)<Math['min'](_0x3be479,_0x19ba6d)){if(_0x45362c[_0x4b283e(0x12e)]&&String(_0x45362c[_0x4b283e(0x12e)])===_0x2a8c87)return{'valid':![],'msg':_0x4b283e(0x171)+_0x45362c['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x293264=!![],_0x77ca7a=_0x45362c[_0x4b283e(0x231)];}}if(_0x293264)return{'valid':!![],'warning':_0x4b283e(0x113)+_0x77ca7a};return{'valid':!![]};}function saveSingleSession(_0x3f878d){const _0x760d45=a2_0x35894b;if(editingId){const _0x1b865b=sessions[_0x760d45(0x189)](_0x4fe9a7=>_0x4fe9a7['id']===editingId);if(_0x1b865b!==-0x1)sessions[_0x1b865b]=_0x3f878d;}else sessions['push'](_0x3f878d);afterSaveAction([_0x3f878d[_0x760d45(0x21d)]]);}function a2_0x19ea(){const _0x3efda1=['btn-status-toggle\x20undo-mode','show','day-off-overlay\x20stripe-bg','px\x20-','\x20-\x20','–£–¥–∞–ª–µ–Ω–∏–µ','text','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','195925zEDPxK','776890EdKVDf','ranges','firstChild','uc_clients_v9','60BbmPqv','getTime','btn-status-toggle','120TNMlPZ','ready','2168770GokCFv','saveLocally','Error\x20setting\x20back\x20button:','find','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','scroll','setHours','background','start','height','data-date','getDay','appendChild','seriesId','sid','[Notify]\x20Server\x20Response:','inpSeriesCount','[Series]\x20Skipped\x20','toLocaleDateString','className','borderColor','guest','clients','inpRecurring','anEnd','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','syncBatch','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','time-label','%\x20-\x204px)','\x20status-completed','done','v9.0-BATCH-CALENDAR','WebApp','single','classList','textContent','asBtnSeries','Batch\x20Sync\x20OK','warn','client-stat-card','rgba(48,\x20209,\x2088,\x200.15)','off','week','charAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','mousedown',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','settingCancelWindow','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','setHeaderColor','...','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','all','location','rangeEndTime',':\x20Client\x20already\x20booked','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','series','[API\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','px\x200px','day-col-header\x20','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getMonth','stopPropagation','ru-RU','json','note','7AcbBxx','blocked-slot\x20stripe-bg','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','includes','indexOf','backgroundPosition','sessionSheet','completed','syncLoad','rgba(255,255,255,0.05)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','msg','anStart','overlay','clientId','–ò–Ω—Ñ–æ','localeCompare','[Notify]\x20Error:\x20sessionData\x20is\x20null','querySelector','getDate','push','flex','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','pe-col-header','disableVerticalSwipes','[Sync]\x20Loading\x20','cancel','backgroundColor','daysHeaderTrack','var(--acc-current)','log','cancelled','slice','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','save','insertBefore',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','mergeServerData','undefined','vibrate','split','peGrid','send_notification','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','getMinutes','.sheet','patternEditor','scrollLeft','status','anCustomDates','Local\x20Load\x20Error','rgba(','filter','timeColumn','option','href','T00:00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22ev-title\x22>','asTitle','min','stat-','%\x20+\x202px)','exceptions','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','9273781MCGGzN','toast','then','remove','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','100%','btnDayToggle','catch','display','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','actionSheet','pe-corner','[Notify]\x20Detected\x20Client\x20ID:','cancel_window','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','00:00','warning','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','router.html','pattern','round',':00</span>','[Notify]\x20Client\x20SWAP\x20detected','error','T23:59:59','innerHTML','doBusyHours','dayOptionsTitle','offsetWidth','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','data-day-idx','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','div','isArray','open','floor','rangeEndDate','findIndex','Server\x20Error','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','btnDelete','search','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',':00','mousemove','forEach','\x20‚Äî\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','now','long','event-card','custom','onClick',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','inpDate','addEventListener','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','.pib-text','today','rgba(255,\x2069,\x2058,\x200.3)','var(--acc-red)','loadLocal','checked','apply','<span>','<div\x20class=\x22dch-day\x22>','</span>\x20/\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','constructor','borderLeftColor','createElement','getItem','getAttribute','padStart','map','querySelectorAll','Unknown','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','toastMessage','calendar','width','create','de-item','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','toUpperCase','pe-time-label','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','closest','save_settings','deleted','keys','max','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','btn-primary\x20btn-secondary','as-button\x20danger\x20bold','sheetTitle','headerMonth','month','total','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','delete','batch_sync','setItem',']\x20Failed:','complete','sheetDateSubtitle','zIndex','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','range-item','timeLineBadge','substr','doWorkHours','setMonth','setDate','rgba(100,100,100,0.5)','none','splice','BackButton','text/plain;charset=UTF-8','10px','offClick','init_load','sort','planned','block','.day-col-header','</b>\x0a\x0a','header-','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','toastTitle','top','asBtnOne','.event-card','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','left','POST','offsetLeft','[Notify]\x20Attempting\x20to\x20send:','setBackgroundColor','mouseup','parse','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','DOMContentLoaded','#fff','[Notify]\x20Error:\x20Text\x20generation\x20failed','1165527MBrerd','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','#0a84ff','setAttribute','startsWith','random','toString','inpClient','data','#gridColumns\x20.day-column','analyticsSheet','pe-cell\x20','inpStart','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','as-button\x20danger','uc_settings_cancel_window','rangesSheet','fetchFromServer','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','inpEnd',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.dch-stats-fill','10px\x2010px\x200\x200','touchend','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','strokeDashoffset','rangeStartDate','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','scrollTop','valid','target','numeric','uc_settings_v9','</div>','(((.+)+)+)+$','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','\x20days','day-column\x20','dateStr','patternInfoBox','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','recurringOptionContainer','send','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','var(--acc-orange)','clientY','937596aUDcWd','getHours','mini','.day-off-overlay','var(--acc-green)','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','formatDate','colIndex','uc_sessions_v9','actionSheetOverlay','stringify','client','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','Telegram','rgba(255,\x20159,\x2010,\x200.3)','inpNote','</div><div\x20class=\x22dch-num\x22>','globalTimeLine','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','initDataUnsafe','clientWidth','calc(','touches','3kCoaaE','.day-column','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','value','607344dSsdyz','btn-primary\x20btn-danger','Error\x20setting\x20color:','from','Critical\x20TMA\x20Error:','settings','anPercent','active','add','seriesCountContainer','dayOptionsSheet','update','.period-switch\x20.p-btn','rgba(255,\x2069,\x2058,\x200.15)','style','color','length','gridColumns','getFullYear','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','matrixViewport','#050505','getElementById','doEventsList','borderRadius'];a2_0x19ea=function(){return _0x3efda1;};return a2_0x19ea();}function createBatchSeries(_0x152e16,_0x8196a0,_0x103372){const _0x4c9df=a2_0x35894b,_0x5a71d1=generateId(),_0x420bad=[],_0x584d84=[];let _0x2a3d9d=0x0,_0x4e2b05=new Date(_0x8196a0);for(let _0x54c532=0x0;_0x54c532<_0x103372;_0x54c532++){const _0x1f4855=getLocalDateStr(_0x4e2b05),_0x5056c8=validateAppointment(_0x1f4855,_0x152e16[_0x4c9df(0x275)],_0x152e16[_0x4c9df(0x10d)],null,_0x152e16[_0x4c9df(0x12e)]);if(!_0x5056c8[_0x4c9df(0x214)])console[_0x4c9df(0x13e)](_0x4c9df(0xe9)+_0x1f4855+_0x4c9df(0x112)),_0x2a3d9d++;else{const _0x5a4681={..._0x152e16,'id':generateId(),'dateStr':_0x1f4855,'seriesId':_0x5a71d1};_0x584d84['push'](_0x5a4681),_0x420bad['push'](_0x1f4855);}_0x4e2b05['setDate'](_0x4e2b05['getDate']()+0x7);}if(_0x584d84['length']===0x0){showToast(_0x4c9df(0x1d0),![]);return;}sessions[_0x4c9df(0x134)](..._0x584d84),lastUserActionTime=Date['now']();let _0x3d412d=_0x4c9df(0x19d)+_0x584d84[_0x4c9df(0x252)];_0x2a3d9d>0x0&&(_0x3d412d+=_0x4c9df(0x20f)+_0x2a3d9d+')'),showToast(_0x3d412d,!![]),afterSaveAction(_0x420bad);}function updateSeriesBatch(_0x5b0b2c,_0x289e77){const _0x5d6ea1=a2_0x35894b,_0x396814=[],_0x401ace=_0x289e77[_0x5d6ea1(0xe5)];if(_0x5b0b2c===_0x5d6ea1(0xfa)){const _0x21c677={..._0x289e77,'seriesId':null},_0x2ac542=sessions['findIndex'](_0x98b273=>_0x98b273['id']===_0x289e77['id']);if(_0x2ac542!==-0x1)sessions[_0x2ac542]=_0x21c677;_0x396814[_0x5d6ea1(0x134)](_0x21c677[_0x5d6ea1(0x21d)]);}else{if(_0x5b0b2c===_0x5d6ea1(0x114)){const _0x34195f=_0x289e77[_0x5d6ea1(0x21d)];sessions[_0x5d6ea1(0x191)]((_0x3482e2,_0x522f72)=>{const _0x5c744c=_0x5d6ea1;_0x3482e2[_0x5c744c(0xe5)]===_0x401ace&&_0x3482e2[_0x5c744c(0x21d)]>=_0x34195f&&(sessions[_0x522f72]={...sessions[_0x522f72],'start':_0x289e77[_0x5c744c(0x275)],'end':_0x289e77[_0x5c744c(0x10d)],'note':_0x289e77['note'],'client':_0x289e77['client'],'clientId':_0x289e77[_0x5c744c(0x12e)]},_0x396814[_0x5c744c(0x134)](_0x3482e2['dateStr']));});}}afterSaveAction(_0x396814);}function tryDeleteSession(){const _0x376d82=a2_0x35894b,_0x4b70f9=sessions[_0x376d82(0x270)](_0x3e368d=>_0x3e368d['id']===editingId);if(!_0x4b70f9)return;_0x4b70f9[_0x376d82(0xe5)]?openActionSheet(_0x376d82(0x1c9)):commitDelete(_0x376d82(0xfa),_0x4b70f9);}function commitDelete(_0x6fed44,_0x4d1ab8){const _0x21db03=a2_0x35894b;lastUserActionTime=Date[_0x21db03(0x194)](),NotificationManager[_0x21db03(0x221)]('cancel',_0x4d1ab8);const _0x3250b1=[];if(_0x6fed44===_0x21db03(0xfa))sessions=sessions[_0x21db03(0x155)](_0x34d1fc=>_0x34d1fc['id']!==_0x4d1ab8['id']),_0x3250b1[_0x21db03(0x134)](_0x4d1ab8[_0x21db03(0x21d)]);else{if(_0x6fed44==='series'){const _0x57c87a=_0x4d1ab8[_0x21db03(0x21d)],_0x19dd67=_0x4d1ab8[_0x21db03(0xe5)];sessions[_0x21db03(0x191)](_0x567188=>{const _0x47061b=_0x21db03;_0x567188[_0x47061b(0xe5)]===_0x19dd67&&_0x567188[_0x47061b(0x21d)]>=_0x57c87a&&_0x3250b1['push'](_0x567188['dateStr']);}),sessions=sessions[_0x21db03(0x155)](_0x53e48e=>!(_0x53e48e[_0x21db03(0xe5)]===_0x19dd67&&_0x53e48e[_0x21db03(0x21d)]>=_0x57c87a));}}afterSaveAction(_0x3250b1);}function afterSaveAction(_0x566898){const _0x4fbdef=a2_0x35894b;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4fbdef(0xf2)](_0x566898)['then'](()=>console[_0x4fbdef(0x13e)](_0x4fbdef(0xfe)))[_0x4fbdef(0x16a)](_0x82c60c=>showToast(_0x4fbdef(0x18e),![]));}const NotificationManager={'formatDate'(_0x3154e8){const _0x2d90e1=a2_0x35894b,_0x3374af=new Date(_0x3154e8),_0x3e7e37={'weekday':'long','day':_0x2d90e1(0x216),'month':_0x2d90e1(0x195)};let _0x14a0e9=_0x3374af[_0x2d90e1(0xea)]('ru-RU',_0x3e7e37);return _0x14a0e9['charAt'](0x0)[_0x2d90e1(0x1b9)]()+_0x14a0e9['slice'](0x1);},'getText'(_0x304c86,_0xca22bc){const _0x28de4d=a2_0x35894b,_0x4645fd=this[_0x28de4d(0x22c)](_0xca22bc['dateStr']);switch(_0x304c86){case _0x28de4d(0x1b6):return _0x28de4d(0x232)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x4645fd+'\x0a')+(_0x28de4d(0x172)+_0xca22bc[_0x28de4d(0x275)]+_0x28de4d(0x192)+_0xca22bc['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x28de4d(0x24d):return _0x28de4d(0x1b8)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0xca22bc[_0x28de4d(0x275)]+_0x28de4d(0x192)+_0xca22bc[_0x28de4d(0x10d)]+_0x28de4d(0x1e3))+(_0x28de4d(0x262)+_0x4645fd);case _0x28de4d(0x13a):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x28de4d(0x10a)+_0x4645fd+'\x20('+_0xca22bc[_0x28de4d(0x275)]+_0x28de4d(0x107));case _0x28de4d(0x1cd):return _0x28de4d(0x1c1)+_0x28de4d(0x22b)+_0x28de4d(0x233);default:return'';}},async 'send'(_0x3e72d9,_0x306a06){const _0xbf6fe9=a2_0x35894b;console[_0xbf6fe9(0x13e)](_0xbf6fe9(0x1ee),_0x3e72d9,_0x306a06);if(!_0x306a06){console[_0xbf6fe9(0x17b)](_0xbf6fe9(0x131));return;}const _0xa0377c=String(_0x306a06[_0xbf6fe9(0x12e)]);console[_0xbf6fe9(0x13e)](_0xbf6fe9(0x16f),_0xa0377c);if(!_0x306a06[_0xbf6fe9(0x12e)]||_0xa0377c===_0xbf6fe9(0x147)||_0xa0377c==='null'){console[_0xbf6fe9(0x17b)](_0xbf6fe9(0x141));if(_0x306a06[_0xbf6fe9(0x231)]){const _0x38198e=clients[_0xbf6fe9(0x270)](_0x318187=>_0x318187[_0xbf6fe9(0x208)]===_0x306a06['client']);if(_0x38198e)return console['log'](_0xbf6fe9(0x1f2),_0x38198e['id']),this[_0xbf6fe9(0x221)](_0x3e72d9,{..._0x306a06,'clientId':_0x38198e['id']});}return;}if(_0xa0377c[_0xbf6fe9(0x252)]<0x5){console[_0xbf6fe9(0xff)](_0xbf6fe9(0x122),_0xa0377c);return;}const _0x379972=this['getText'](_0x3e72d9,_0x306a06);if(!_0x379972){console[_0xbf6fe9(0x17b)](_0xbf6fe9(0x1f5));return;}console[_0xbf6fe9(0x13e)](_0xbf6fe9(0x240)+_0xa0377c+_0xbf6fe9(0x10c)),DataManager[_0xbf6fe9(0x207)](_0xbf6fe9(0x14b),{'chatId':_0xa0377c,'text':_0x379972})[_0xbf6fe9(0x164)](_0x3d0808=>console[_0xbf6fe9(0x13e)](_0xbf6fe9(0xe7),_0x3d0808))[_0xbf6fe9(0x16a)](_0x2344fd=>console[_0xbf6fe9(0x17b)]('[Notify]\x20Network\x20Failed',_0x2344fd));}};function getLocalDateStr(_0x2b1059){const _0xc1dcd=a2_0x35894b,_0x40746f=_0x2b1059['getFullYear'](),_0x4f2c9b=String(_0x2b1059['getMonth']()+0x1)[_0xc1dcd(0x1ae)](0x2,'0'),_0x4041fa=String(_0x2b1059[_0xc1dcd(0x133)]())['padStart'](0x2,'0');return _0x40746f+'-'+_0x4f2c9b+'-'+_0x4041fa;}function getDateStr(_0x394b4c){const _0x549305=a2_0x35894b,_0x3e6b2c=new Date();return _0x3e6b2c[_0x549305(0x1d6)](_0x3e6b2c[_0x549305(0x133)]()+_0x394b4c),getLocalDateStr(_0x3e6b2c);}function getStartOfWeek(_0x1d2caa){const _0x46f285=a2_0x35894b,_0x4b1dfd=new Date(_0x1d2caa),_0x4c4100=_0x4b1dfd['getDay'](),_0x512569=_0x4b1dfd['getDate']()-_0x4c4100+(_0x4c4100===0x0?-0x6:0x1);return _0x4b1dfd[_0x46f285(0x1d6)](_0x512569),_0x4b1dfd[_0x46f285(0x273)](0x0,0x0,0x0,0x0),_0x4b1dfd;}function hexToRgba(_0x2b8174,_0x5b0f3e){const _0x46e676=a2_0x35894b;if(!_0x2b8174)return _0x46e676(0x1d7);let _0xb3268d=0x0,_0x45d400=0x0,_0x41b7f3=0x0;if(_0x2b8174[_0x46e676(0x252)]===0x4)_0xb3268d='0x'+_0x2b8174[0x1]+_0x2b8174[0x1],_0x45d400='0x'+_0x2b8174[0x2]+_0x2b8174[0x2],_0x41b7f3='0x'+_0x2b8174[0x3]+_0x2b8174[0x3];else _0x2b8174[_0x46e676(0x252)]===0x7&&(_0xb3268d='0x'+_0x2b8174[0x1]+_0x2b8174[0x2],_0x45d400='0x'+_0x2b8174[0x3]+_0x2b8174[0x4],_0x41b7f3='0x'+_0x2b8174[0x5]+_0x2b8174[0x6]);return _0x46e676(0x154)+ +_0xb3268d+',\x20'+ +_0x45d400+',\x20'+ +_0x41b7f3+',\x20'+_0x5b0f3e+')';}function renderTimeColumn(){const _0xdeacaa=a2_0x35894b,_0x280e47=document['getElementById'](_0xdeacaa(0x156)),_0x28f9d9=document[_0xdeacaa(0x258)](_0xdeacaa(0x1d2));_0x280e47[_0xdeacaa(0x17d)]='',_0x280e47[_0xdeacaa(0xe4)](_0x28f9d9);for(let _0x17ecaa=0x0;_0x17ecaa<0x18;_0x17ecaa++){const _0x566134=document[_0xdeacaa(0x1ab)](_0xdeacaa(0x184));_0x566134[_0xdeacaa(0xeb)]=_0xdeacaa(0xf4);if(_0x17ecaa>0x0)_0x566134[_0xdeacaa(0x17d)]=_0xdeacaa(0x1a5)+String(_0x17ecaa)[_0xdeacaa(0x1ae)](0x2,'0')+_0xdeacaa(0x179);_0x280e47['appendChild'](_0x566134);}}function renderDayRange(_0x238cd6,_0x55158b){const _0x11c28d=a2_0x35894b,_0x410870=document[_0x11c28d(0x258)](_0x11c28d(0x13c)),_0x38ce5a=document[_0x11c28d(0x258)]('gridColumns'),_0xb19d51=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x17b003=new Date();_0x17b003[_0x11c28d(0x273)](0x0,0x0,0x0,0x0);const _0x579916=getLocalDateStr(new Date());for(let _0x1f6dea=_0x238cd6;_0x1f6dea<=_0x55158b;_0x1f6dea++){const _0x47b25d=new Date(_0x17b003);_0x47b25d[_0x11c28d(0x1d6)](_0x47b25d[_0x11c28d(0x133)]()+_0x1f6dea);const _0x494b14=getLocalDateStr(_0x47b25d);let _0x311615=_0x47b25d[_0x11c28d(0x278)]()-0x1;if(_0x311615===-0x1)_0x311615=0x6;const _0x9ba4c0=_0x494b14===_0x579916,_0x56696f=document[_0x11c28d(0x1ab)](_0x11c28d(0x184));_0x56696f[_0x11c28d(0xeb)]=_0x11c28d(0x118)+(_0x9ba4c0?_0x11c28d(0x19f):''),_0x56696f['id']='header-'+_0x494b14,_0x56696f['setAttribute']('data-date',_0x494b14),_0x56696f[_0x11c28d(0x17d)]=_0x11c28d(0x1a6)+_0xb19d51[_0x311615]+_0x11c28d(0x237)+_0x47b25d[_0x11c28d(0x133)]()+_0x11c28d(0x271)+_0x494b14+_0x11c28d(0x203),_0x56696f[_0x11c28d(0x223)]=()=>openDayOptions(_0x494b14,_0xb19d51[_0x311615]+'\x20'+_0x47b25d[_0x11c28d(0x133)]()),_0x410870[_0x11c28d(0xe4)](_0x56696f);const _0x480823=document[_0x11c28d(0x1ab)]('div');_0x480823['className']=_0x11c28d(0x21c)+(_0x9ba4c0?_0x11c28d(0x19f):''),_0x480823['setAttribute'](_0x11c28d(0x277),_0x494b14),_0x480823[_0x11c28d(0x1f9)](_0x11c28d(0x182),_0x311615),renderEventsForColumn(_0x480823,_0x494b14,_0x311615),attachLongPressHandler(_0x480823,_0x47b25d),_0x38ce5a[_0x11c28d(0xe4)](_0x480823),updateDayStats(_0x494b14);}}function reRenderBlocks(){const _0x51387f=a2_0x35894b;document[_0x51387f(0x1b0)](_0x51387f(0x1ff))[_0x51387f(0x191)](_0x1c62b1=>{const _0x587ae0=_0x51387f;_0x1c62b1['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x587ae0(0x191)](_0x1438c3=>_0x1438c3[_0x587ae0(0x165)]());const _0x434f22=_0x1c62b1[_0x587ae0(0x1ad)](_0x587ae0(0x277)),_0x404a0c=parseInt(_0x1c62b1[_0x587ae0(0x1ad)]('data-day-idx')),_0x50d1b7=Math['round'](_0x1c62b1[_0x587ae0(0x1ed)]);(availabilityPattern[_0x404a0c]||[])[_0x587ae0(0x191)](_0x1c01da=>{const _0x281b02=_0x587ae0,_0x1fa9be=document[_0x281b02(0x1ab)](_0x281b02(0x184));_0x1fa9be[_0x281b02(0xeb)]=_0x281b02(0x121);const _0x365276=_0x1c01da*GRID_H;_0x1fa9be['style'][_0x281b02(0x1e7)]=_0x365276+'px',_0x1fa9be[_0x281b02(0x250)][_0x281b02(0x125)]='-'+_0x50d1b7+_0x281b02(0x25e)+_0x365276+'px',_0x1c62b1['appendChild'](_0x1fa9be);});if(specialRanges&&specialRanges[_0x587ae0(0x252)]>0x0){const _0x252441=new Date(_0x434f22+_0x587ae0(0x159))[_0x587ae0(0x269)](),_0xf39e02=new Date(_0x434f22+_0x587ae0(0x17c))[_0x587ae0(0x269)]();specialRanges[_0x587ae0(0x191)](_0x19d2d5=>{const _0x13146d=_0x587ae0,_0xa78f4=new Date(_0x19d2d5[_0x13146d(0x275)])[_0x13146d(0x269)](),_0x1d94a4=new Date(_0x19d2d5[_0x13146d(0x10d)])['getTime'](),_0x18dffa=Math[_0x13146d(0x1c0)](_0x252441,_0xa78f4),_0x223430=Math[_0x13146d(0x15d)](_0xf39e02,_0x1d94a4);if(_0x18dffa<_0x223430){if(_0x18dffa<=_0x252441&&_0x223430>=_0xf39e02-0xea60){if(!_0x1c62b1[_0x13146d(0x132)](_0x13146d(0x229))){const _0x15ac0e=document[_0x13146d(0x1ab)](_0x13146d(0x184));_0x15ac0e[_0x13146d(0xeb)]='day-off-overlay\x20stripe-bg',_0x15ac0e['style']['backgroundPosition']='-'+_0x50d1b7+'px\x200px',_0x1c62b1['appendChild'](_0x15ac0e);}}else{const _0x3db5f2=(_0x18dffa-_0x252441)/0x36ee80*GRID_H,_0x363201=(_0x223430-_0x18dffa)/0x36ee80*GRID_H,_0x209128=document['createElement'](_0x13146d(0x184));_0x209128[_0x13146d(0xeb)]='blocked-range-part\x20stripe-bg',_0x209128[_0x13146d(0x250)][_0x13146d(0x1e7)]=_0x3db5f2+'px',_0x209128[_0x13146d(0x250)][_0x13146d(0x276)]=_0x363201+'px',_0x209128[_0x13146d(0x250)][_0x13146d(0x125)]='-'+_0x50d1b7+_0x13146d(0x25e)+_0x3db5f2+'px',_0x1c62b1[_0x13146d(0xe4)](_0x209128);}}});}if(dateExceptions[_0x434f22]==='off'){if(!_0x1c62b1[_0x587ae0(0x132)](_0x587ae0(0x229))){const _0x150b01=document[_0x587ae0(0x1ab)](_0x587ae0(0x184));_0x150b01[_0x587ae0(0xeb)]=_0x587ae0(0x25d),_0x150b01[_0x587ae0(0x250)][_0x587ae0(0x125)]='-'+_0x50d1b7+_0x587ae0(0x117),_0x1c62b1[_0x587ae0(0xe4)](_0x150b01);}}renderEventsForColumn(_0x1c62b1,_0x434f22,_0x404a0c),updateDayStats(_0x434f22);});}function updateAllDayStats(){const _0x1a124d=a2_0x35894b;document[_0x1a124d(0x1b0)](_0x1a124d(0x1e2))[_0x1a124d(0x191)](_0x5e20b6=>{const _0xc263a9=_0x1a124d;updateDayStats(_0x5e20b6[_0xc263a9(0x1ad)](_0xc263a9(0x277)));});}function updateDayStats(_0x4321a0){const _0x22af3b=a2_0x35894b,_0x19db8b=document[_0x22af3b(0x258)](_0x22af3b(0x15e)+_0x4321a0);if(!_0x19db8b)return;const _0x373d56=new Date(_0x4321a0);let _0x26ec17=_0x373d56[_0x22af3b(0x278)]()-0x1;if(_0x26ec17===-0x1)_0x26ec17=0x6;if(dateExceptions[_0x4321a0]==='off'){_0x19db8b['style'][_0x22af3b(0x16b)]=_0x22af3b(0x1d8);return;}const _0xeec749=availabilityPattern[_0x26ec17]||[],_0x436c9d=0x18-_0xeec749['length'],_0x2c7813=_0x436c9d*0x3c,_0x17266f=sessions[_0x22af3b(0x155)](_0x3ea3c0=>_0x3ea3c0[_0x22af3b(0x21d)]===_0x4321a0&&_0x3ea3c0[_0x22af3b(0x151)]!==_0x22af3b(0x13f));if(_0x17266f['length']===0x0){_0x19db8b[_0x22af3b(0x250)][_0x22af3b(0x16b)]='none';return;}let _0x6af8=_0x17266f[_0x22af3b(0x1af)](_0x36ca0e=>{const _0x30a3bb=_0x22af3b,[_0x30ed15,_0x35dc5f]=_0x36ca0e['start'][_0x30a3bb(0x149)](':')[_0x30a3bb(0x1af)](Number),[_0x4f342d,_0x273c1c]=_0x36ca0e[_0x30a3bb(0x10d)][_0x30a3bb(0x149)](':')['map'](Number);return[_0x30ed15*0x3c+_0x35dc5f,_0x4f342d*0x3c+_0x273c1c];});_0x6af8[_0x22af3b(0x1df)]((_0x46c912,_0x4017e1)=>_0x46c912[0x0]-_0x4017e1[0x0]);let _0x323320=[];if(_0x6af8[_0x22af3b(0x252)]>0x0){let _0x29dd51=_0x6af8[0x0];for(let _0x45944e=0x1;_0x45944e<_0x6af8[_0x22af3b(0x252)];_0x45944e++){_0x6af8[_0x45944e][0x0]<_0x29dd51[0x1]?_0x29dd51[0x1]=Math['max'](_0x29dd51[0x1],_0x6af8[_0x45944e][0x1]):(_0x323320['push'](_0x29dd51),_0x29dd51=_0x6af8[_0x45944e]);}_0x323320[_0x22af3b(0x134)](_0x29dd51);}let _0x35c342=0x0;_0x323320['forEach'](_0x2695f0=>_0x35c342+=_0x2695f0[0x1]-_0x2695f0[0x0]),_0x19db8b[_0x22af3b(0x250)][_0x22af3b(0x16b)]=_0x22af3b(0x135);const _0x3b060a=_0x19db8b[_0x22af3b(0x132)](_0x22af3b(0x20c));if(_0x2c7813===0x0){_0x3b060a[_0x22af3b(0x250)]['width']=_0x22af3b(0x168),_0x3b060a[_0x22af3b(0x250)][_0x22af3b(0x274)]=_0x22af3b(0x1a1);return;}const _0x302d47=_0x35c342/_0x2c7813*0x64;console[_0x22af3b(0x13e)]('['+_0x4321a0+_0x22af3b(0x199)+_0x436c9d+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x35c342+_0x22af3b(0x239)+_0x302d47['toFixed'](0x1)+'%'),_0x302d47>0x64?(_0x3b060a['style'][_0x22af3b(0x1b5)]=_0x22af3b(0x168),_0x3b060a['style'][_0x22af3b(0x274)]=_0x22af3b(0x1a1)):(_0x3b060a['style'][_0x22af3b(0x1b5)]=_0x302d47+'%',_0x3b060a[_0x22af3b(0x250)][_0x22af3b(0x274)]=_0x22af3b(0x13d));}function renderEventsForColumn(_0x5255ad,_0x692029,_0x4b3e94){const _0x3d8666=a2_0x35894b,_0x3c410c=sessions[_0x3d8666(0x155)](_0x3efdfc=>_0x3efdfc[_0x3d8666(0x21d)]===_0x692029),_0x1e50a2=_0x3c410c['map'](_0x2488c1=>{const _0x5569d0=_0x3d8666,[_0x430d0a,_0x436687]=_0x2488c1[_0x5569d0(0x275)]['split'](':')['map'](Number),[_0x3d3947,_0x3aefb7]=_0x2488c1[_0x5569d0(0x10d)]['split'](':')[_0x5569d0(0x1af)](Number);return{'data':_0x2488c1,'start':_0x430d0a*0x3c+_0x436687,'end':_0x3d3947*0x3c+_0x3aefb7,'colIndex':0x0};});_0x1e50a2[_0x3d8666(0x1df)]((_0x252c1b,_0x4ca362)=>{const _0x13f33f=_0x3d8666;if(_0x252c1b[_0x13f33f(0x275)]!==_0x4ca362[_0x13f33f(0x275)])return _0x252c1b[_0x13f33f(0x275)]-_0x4ca362['start'];return _0x4ca362[_0x13f33f(0x10d)]-_0x4ca362[_0x13f33f(0x275)]-(_0x252c1b[_0x13f33f(0x10d)]-_0x252c1b['start']);});const _0x1933e5=[];_0x1e50a2[_0x3d8666(0x191)](_0x3c6e18=>{const _0x8a1497=_0x3d8666;let _0xea4d71=![];for(let _0x2dede4=0x0;_0x2dede4<_0x1933e5[_0x8a1497(0x252)];_0x2dede4++){const _0x1a3111=_0x1933e5[_0x2dede4],_0x57fbdd=_0x1a3111[_0x1a3111['length']-0x1];if(_0x3c6e18[_0x8a1497(0x275)]>=_0x57fbdd[_0x8a1497(0x10d)]){_0x1a3111[_0x8a1497(0x134)](_0x3c6e18),_0x3c6e18[_0x8a1497(0x22d)]=_0x2dede4,_0xea4d71=!![];break;}}!_0xea4d71&&(_0x1933e5[_0x8a1497(0x134)]([_0x3c6e18]),_0x3c6e18[_0x8a1497(0x22d)]=_0x1933e5[_0x8a1497(0x252)]-0x1);}),_0x1e50a2[_0x3d8666(0x191)](_0x2a3d75=>{const _0x37ec51=_0x3d8666;let _0x5f23b8=0x0;_0x1e50a2['forEach'](_0x50dc7d=>{const _0x2c4ca5=a2_0x8895;if(Math[_0x2c4ca5(0x1c0)](_0x2a3d75[_0x2c4ca5(0x275)],_0x50dc7d[_0x2c4ca5(0x275)])<Math['min'](_0x2a3d75['end'],_0x50dc7d[_0x2c4ca5(0x10d)])){if(_0x50dc7d[_0x2c4ca5(0x22d)]>_0x5f23b8)_0x5f23b8=_0x50dc7d[_0x2c4ca5(0x22d)];}});const _0x14b0fb=_0x5f23b8+0x1,_0x5cc186=0x64/_0x14b0fb,_0x47bd3d=_0x2a3d75['colIndex']*_0x5cc186,_0x4d872d=createEventEl(_0x2a3d75['data']);_0x4d872d[_0x37ec51(0x250)]['width']='calc('+_0x5cc186+_0x37ec51(0xf5),_0x4d872d[_0x37ec51(0x250)][_0x37ec51(0x1eb)]=_0x37ec51(0x23c)+_0x47bd3d+_0x37ec51(0x15f),_0x4d872d[_0x37ec51(0x250)][_0x37ec51(0x1cf)]=0xa+_0x2a3d75[_0x37ec51(0x22d)],_0x5cc186<0x55&&_0x4d872d['classList'][_0x37ec51(0x24a)](_0x37ec51(0x228)),_0x5255ad[_0x37ec51(0xe4)](_0x4d872d);});}function createEventEl(_0x420b61){const _0xb6d30f=a2_0x35894b,[_0x1cdfff,_0x45a975]=_0x420b61['start']['split'](':')[_0xb6d30f(0x1af)](Number),[_0x44e8b8,_0x1ae7e1]=_0x420b61[_0xb6d30f(0x10d)][_0xb6d30f(0x149)](':')[_0xb6d30f(0x1af)](Number),_0xe4ed82=(_0x1cdfff*0x3c+_0x45a975)/0x3c*GRID_H,_0xbe737c=(_0x44e8b8*0x3c+_0x1ae7e1-(_0x1cdfff*0x3c+_0x45a975))/0x3c*GRID_H,_0x57ef27=document[_0xb6d30f(0x1ab)](_0xb6d30f(0x184)),_0x50c98a=_0x420b61[_0xb6d30f(0x151)]===_0xb6d30f(0x127)?_0xb6d30f(0xf6):'';_0x57ef27[_0xb6d30f(0xeb)]=_0xb6d30f(0x196)+_0x50c98a,_0x57ef27['style'][_0xb6d30f(0x1e7)]=_0xe4ed82+'px',_0x57ef27[_0xb6d30f(0x250)][_0xb6d30f(0x276)]=Math[_0xb6d30f(0x1c0)](_0xbe737c,0x14)+'px';const _0xfceac2=clients[_0xb6d30f(0x270)](_0x12fd72=>_0x420b61['clientId']&&String(_0x12fd72['id'])===String(_0x420b61[_0xb6d30f(0x12e)])||_0x12fd72['name']===_0x420b61[_0xb6d30f(0x231)]),_0x3a091e=_0xfceac2?_0xfceac2[_0xb6d30f(0x251)]:_0xb6d30f(0x1f8);_0x57ef27[_0xb6d30f(0x250)]['borderLeftColor']=_0x3a091e,_0x57ef27[_0xb6d30f(0x250)][_0xb6d30f(0x13b)]=hexToRgba(_0x3a091e,0.85);let _0x476ac9=_0xb6d30f(0x15b)+_0x420b61[_0xb6d30f(0x231)]+'</div><div\x20class=\x22ev-time\x22>'+_0x420b61[_0xb6d30f(0x275)]+_0xb6d30f(0x25f)+_0x420b61[_0xb6d30f(0x10d)]+_0xb6d30f(0x218);return _0x420b61[_0xb6d30f(0xe5)]&&(_0x476ac9+=_0xb6d30f(0x18b)),_0x420b61[_0xb6d30f(0x151)]==='completed'&&(_0x476ac9+=_0xb6d30f(0x167)),_0x57ef27[_0xb6d30f(0x17d)]=_0x476ac9,_0x57ef27[_0xb6d30f(0x223)]=_0x4ebe5e=>{const _0x11b83d=_0xb6d30f;_0x4ebe5e[_0x11b83d(0x11c)](),openEdit(_0x420b61);},_0x57ef27;}function attachLongPressHandler(_0x2b0f6a,_0x4f157f){const _0x399b6d=a2_0x35894b;let _0x14e53f=0x0,_0xd8b868=null;const _0x101a0f=_0x11c681=>{const _0x237b8b=a2_0x8895;if(_0x11c681[_0x237b8b(0x215)][_0x237b8b(0x1bc)](_0x237b8b(0x1e9)))return;isScrolling=![],_0x14e53f=_0x11c681['touches']?_0x11c681[_0x237b8b(0x23d)][0x0][_0x237b8b(0x225)]:_0x11c681[_0x237b8b(0x225)],_0xd8b868=setTimeout(()=>{const _0x182acd=_0x237b8b;if(!isScrolling){navigator[_0x182acd(0x148)]?.(0x32);const _0x24825c=_0x2b0f6a['getBoundingClientRect'](),_0x3df9a9=Math[_0x182acd(0x187)]((_0x14e53f-_0x24825c[_0x182acd(0x1e7)])/GRID_H);_0x4f157f['setHours'](_0x3df9a9,0x0),openAddSession(_0x4f157f);}},0x1f4);},_0x177bd9=()=>{isScrolling=!![],clearTimeout(_0xd8b868);},_0x578c08=()=>{clearTimeout(_0xd8b868);};_0x2b0f6a[_0x399b6d(0x19c)]('touchstart',_0x101a0f,{'passive':!![]}),_0x2b0f6a['addEventListener']('touchmove',_0x177bd9,{'passive':!![]}),_0x2b0f6a['addEventListener'](_0x399b6d(0x20e),_0x578c08),_0x2b0f6a[_0x399b6d(0x19c)](_0x399b6d(0x106),_0x101a0f),_0x2b0f6a['addEventListener'](_0x399b6d(0x190),_0x177bd9),_0x2b0f6a[_0x399b6d(0x19c)](_0x399b6d(0x1f0),_0x578c08);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x409382=a2_0x35894b,_0x2f10bb=document['getElementById'](_0x409382(0x256)),_0x59bec2=_0x2f10bb[_0x409382(0x150)],_0x1c5c67=_0x2f10bb['scrollWidth'],_0x1ce4f8=_0x2f10bb['clientWidth'];if(_0x1c5c67-(_0x59bec2+_0x1ce4f8)<0x12c){const _0x2ecbae=endOffset;endOffset+=0xe,renderDayRange(_0x2ecbae+0x1,endOffset),reRenderBlocks();}if(_0x59bec2<0x12c){const _0xf62cfd=startOffset;startOffset-=0xe,prependDays(startOffset,_0xf62cfd-0x1),_0x2f10bb['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x17b216,_0x5567db){const _0x25cc52=a2_0x35894b,_0x28874a=document[_0x25cc52(0x258)]('daysHeaderTrack'),_0x544225=document[_0x25cc52(0x258)](_0x25cc52(0x253)),_0x4058c5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x591248=new Date();_0x591248[_0x25cc52(0x273)](0x0,0x0,0x0,0x0);const _0x3c8e09=getLocalDateStr(new Date()),_0x263ad7=document['createDocumentFragment'](),_0x58e012=document['createDocumentFragment']();for(let _0x12a003=_0x17b216;_0x12a003<=_0x5567db;_0x12a003++){const _0x1f3e3e=new Date(_0x591248);_0x1f3e3e[_0x25cc52(0x1d6)](_0x1f3e3e[_0x25cc52(0x133)]()+_0x12a003);const _0x1c0f04=getLocalDateStr(_0x1f3e3e);let _0x2b20e4=_0x1f3e3e['getDay']()-0x1;if(_0x2b20e4===-0x1)_0x2b20e4=0x6;const _0x29eb38=_0x1c0f04===_0x3c8e09,_0xe77add=document[_0x25cc52(0x1ab)]('div');_0xe77add[_0x25cc52(0xeb)]='day-col-header\x20'+(_0x29eb38?'today':''),_0xe77add['id']=_0x25cc52(0x1e4)+_0x1c0f04,_0xe77add[_0x25cc52(0x1f9)](_0x25cc52(0x277),_0x1c0f04),_0xe77add[_0x25cc52(0x17d)]=_0x25cc52(0x1a6)+_0x4058c5[_0x2b20e4]+_0x25cc52(0x237)+_0x1f3e3e[_0x25cc52(0x133)]()+_0x25cc52(0x271)+_0x1c0f04+_0x25cc52(0x203),_0xe77add[_0x25cc52(0x223)]=()=>openDayOptions(_0x1c0f04,_0x4058c5[_0x2b20e4]+'\x20'+_0x1f3e3e[_0x25cc52(0x133)]()),_0x263ad7[_0x25cc52(0xe4)](_0xe77add);const _0x1ee822=document['createElement'](_0x25cc52(0x184));_0x1ee822[_0x25cc52(0xeb)]=_0x25cc52(0x21c)+(_0x29eb38?'today':''),_0x1ee822[_0x25cc52(0x1f9)]('data-date',_0x1c0f04),_0x1ee822['setAttribute'](_0x25cc52(0x182),_0x2b20e4),renderEventsForColumn(_0x1ee822,_0x1c0f04,_0x2b20e4),attachLongPressHandler(_0x1ee822,_0x1f3e3e),_0x58e012['appendChild'](_0x1ee822),updateDayStats(_0x1c0f04);}_0x28874a[_0x25cc52(0x143)](_0x263ad7,_0x28874a[_0x25cc52(0x266)]),_0x544225[_0x25cc52(0x143)](_0x58e012,_0x544225[_0x25cc52(0x132)](_0x25cc52(0x23f)));}function validateAppointment(_0x3c0f85,_0x2c479f,_0x20c5e6,_0x168248,_0x2de953){const _0x1b0d2f=a2_0x35894b,[_0x42004b,_0x1fe899]=_0x2c479f[_0x1b0d2f(0x149)](':')['map'](Number),[_0x57653a,_0x541345]=_0x20c5e6['split'](':')['map'](Number),_0x13d962=_0x42004b*0x3c+_0x1fe899,_0x35b856=_0x57653a*0x3c+_0x541345,_0x4ef719=String(_0x2de953);let _0x280f9a=![],_0x29f6e9='';for(let _0x213cfd of sessions){if(_0x213cfd[_0x1b0d2f(0x21d)]!==_0x3c0f85)continue;if(_0x213cfd['status']==='cancelled')continue;if(_0x168248&&String(_0x213cfd['id'])===String(_0x168248))continue;const [_0x253837,_0x282235]=_0x213cfd[_0x1b0d2f(0x275)]['split'](':')[_0x1b0d2f(0x1af)](Number),[_0x361872,_0x134793]=_0x213cfd[_0x1b0d2f(0x10d)][_0x1b0d2f(0x149)](':')[_0x1b0d2f(0x1af)](Number),_0x2cece3=_0x253837*0x3c+_0x282235,_0xbc50af=_0x361872*0x3c+_0x134793;if(Math['max'](_0x13d962,_0x2cece3)<Math['min'](_0x35b856,_0xbc50af)){if(_0x213cfd[_0x1b0d2f(0x12e)]&&String(_0x213cfd[_0x1b0d2f(0x12e)])===_0x4ef719)return{'valid':![],'msg':_0x1b0d2f(0x171)+_0x213cfd[_0x1b0d2f(0x231)]+_0x1b0d2f(0x144)};_0x280f9a=!![],_0x29f6e9=_0x213cfd[_0x1b0d2f(0x231)];}}if(_0x280f9a)return{'valid':!![],'warning':_0x1b0d2f(0x113)+_0x29f6e9};return{'valid':!![]};}function updateDateDisplay(){const _0x8b3d24=a2_0x35894b,_0x123fcc=document['getElementById']('inpDate')[_0x8b3d24(0x241)],_0x1d9256=document[_0x8b3d24(0x258)](_0x8b3d24(0x1ce));if(!_0x123fcc){_0x1d9256[_0x8b3d24(0xfc)]='';return;}const [_0x185afe,_0x564e39,_0x17d706]=_0x123fcc[_0x8b3d24(0x149)]('-')[_0x8b3d24(0x1af)](Number),_0x5c416d=new Date(_0x185afe,_0x564e39-0x1,_0x17d706),_0x4668ce={'weekday':_0x8b3d24(0x195),'day':_0x8b3d24(0x216),'month':_0x8b3d24(0x195),'year':'numeric'};let _0xa05f81=_0x5c416d[_0x8b3d24(0xea)]('ru-RU',_0x4668ce);_0xa05f81=_0xa05f81['charAt'](0x0)['toUpperCase']()+_0xa05f81['slice'](0x1),_0x1d9256['textContent']=_0xa05f81;}function autoSetEndTime(){const _0x6cea2d=a2_0x35894b,_0x515595=document['getElementById'](_0x6cea2d(0x202))[_0x6cea2d(0x241)];if(!_0x515595)return;const [_0x1489fc,_0x304870]=_0x515595[_0x6cea2d(0x149)](':')[_0x6cea2d(0x1af)](Number);let _0x11b410=_0x1489fc+0x1;if(_0x11b410>0x17)_0x11b410=0x0;const _0xc290ef=String(_0x11b410)[_0x6cea2d(0x1ae)](0x2,'0')+':'+String(_0x304870)[_0x6cea2d(0x1ae)](0x2,'0');document['getElementById'](_0x6cea2d(0x20a))[_0x6cea2d(0x241)]=_0xc290ef;}function populateClientSelect(){const _0x1a1f47=a2_0x35894b,_0x56b241=document[_0x1a1f47(0x258)]('inpClient');_0x56b241[_0x1a1f47(0x17d)]='';if(clients['length']===0x0){const _0x4d41ec=document[_0x1a1f47(0x1ab)](_0x1a1f47(0x157));_0x4d41ec[_0x1a1f47(0x261)]=_0x1a1f47(0x255),_0x56b241[_0x1a1f47(0xe4)](_0x4d41ec);return;}clients[_0x1a1f47(0x191)](_0x366f16=>{const _0x14bec2=_0x1a1f47,_0x4f1d13=document[_0x14bec2(0x1ab)](_0x14bec2(0x157));_0x4f1d13[_0x14bec2(0x241)]=_0x366f16[_0x14bec2(0x208)],_0x4f1d13[_0x14bec2(0xfc)]=_0x366f16[_0x14bec2(0x208)],_0x56b241['appendChild'](_0x4f1d13);});}function openActionSheet(_0x188321){const _0x4fb540=a2_0x35894b,_0x4d65ca=document['getElementById']('actionSheet'),_0x3a704b=document['getElementById'](_0x4fb540(0x22f)),_0x587f62=document[_0x4fb540(0x258)](_0x4fb540(0x15c)),_0x455ce9=document[_0x4fb540(0x258)](_0x4fb540(0x1e8)),_0x11747a=document[_0x4fb540(0x258)](_0x4fb540(0xfd));_0x3a704b[_0x4fb540(0xfb)][_0x4fb540(0x24a)](_0x4fb540(0x249)),_0x4d65ca[_0x4fb540(0xfb)][_0x4fb540(0x24a)]('open');if(_0x188321===_0x4fb540(0x142))_0x587f62[_0x4fb540(0xfc)]=_0x4fb540(0x119),_0x455ce9[_0x4fb540(0xfc)]=_0x4fb540(0x21a),_0x455ce9[_0x4fb540(0x223)]=()=>{const _0x2d8799=_0x4fb540;closeActionSheet(),updateSeriesBatch(_0x2d8799(0xfa),tempSessionData);},_0x11747a[_0x4fb540(0xfc)]=_0x4fb540(0x1a8),_0x11747a[_0x4fb540(0x223)]=()=>{const _0x2477b3=_0x4fb540;closeActionSheet(),updateSeriesBatch(_0x2477b3(0x114),tempSessionData);};else _0x188321==='delete'&&(_0x587f62['textContent']=_0x4fb540(0x260),_0x455ce9[_0x4fb540(0xfc)]=_0x4fb540(0x21a),_0x455ce9[_0x4fb540(0xeb)]=_0x4fb540(0x204),_0x455ce9[_0x4fb540(0x223)]=()=>{const _0x32a636=_0x4fb540;closeActionSheet(),commitDelete(_0x32a636(0xfa),sessions[_0x32a636(0x270)](_0x178b32=>_0x178b32['id']===editingId));},_0x11747a[_0x4fb540(0xfc)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x11747a[_0x4fb540(0xeb)]=_0x4fb540(0x1c3),_0x11747a['onclick']=()=>{const _0x275857=_0x4fb540;closeActionSheet(),commitDelete(_0x275857(0x114),sessions[_0x275857(0x270)](_0x436ecc=>_0x436ecc['id']===editingId));});}function closeActionSheet(){const _0x41e361=a2_0x35894b;document[_0x41e361(0x258)](_0x41e361(0x16d))[_0x41e361(0xfb)][_0x41e361(0x165)](_0x41e361(0x186)),document[_0x41e361(0x258)](_0x41e361(0x22f))[_0x41e361(0xfb)]['remove'](_0x41e361(0x249));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x539be3=a2_0x35894b,_0x2a87b9=document[_0x539be3(0x258)]('settingCancelWindow')[_0x539be3(0x241)];localStorage['setItem'](_0x539be3(0x205),_0x2a87b9),console[_0x539be3(0x13e)](_0x539be3(0x19a),_0x2a87b9),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x2a87b9}})[_0x539be3(0x16a)](_0x3c189d=>{console['error']('Save\x20settings\x20error:',_0x3c189d),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x12a8f0=a2_0x35894b,_0xc68fa4=localStorage['getItem'](_0x12a8f0(0x205));_0xc68fa4&&(document['getElementById'](_0x12a8f0(0x108))[_0x12a8f0(0x241)]=_0xc68fa4);}function openRangesSheet(){const _0x3d8989=a2_0x35894b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3d8989(0x206));}function addRange(){const _0x408713=a2_0x35894b,_0x4448d5=document[_0x408713(0x258)](_0x408713(0x211))[_0x408713(0x241)],_0x18ebed=document[_0x408713(0x258)]('rangeStartTime')[_0x408713(0x241)],_0x10afed=document[_0x408713(0x258)](_0x408713(0x188))[_0x408713(0x241)],_0x225578=document[_0x408713(0x258)](_0x408713(0x111))['value'];if(!_0x4448d5||!_0x18ebed||!_0x10afed||!_0x225578)return alert(_0x408713(0x136));const _0x32303a=_0x4448d5+'T'+_0x18ebed,_0x1b15e7=_0x10afed+'T'+_0x225578;if(_0x32303a>=_0x1b15e7)return alert(_0x408713(0x1b2));specialRanges[_0x408713(0x134)]({'start':_0x32303a,'end':_0x1b15e7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x408713(0x1bd),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x55d133){const _0x2340ea=a2_0x35894b;specialRanges[_0x2340ea(0x1d9)](_0x55d133,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2340ea(0x26e)](),DataManager[_0x2340ea(0x207)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5cccd3=a2_0x35894b;document[_0x5cccd3(0x258)](_0x5cccd3(0x211))[_0x5cccd3(0x241)]='',document['getElementById']('rangeStartTime')[_0x5cccd3(0x241)]=_0x5cccd3(0x173),document[_0x5cccd3(0x258)](_0x5cccd3(0x188))[_0x5cccd3(0x241)]='',document[_0x5cccd3(0x258)](_0x5cccd3(0x111))[_0x5cccd3(0x241)]='23:59';}function renderRangesList(){const _0x5639e3=a2_0x35894b,_0x2b01b2=document[_0x5639e3(0x258)]('rangesList');_0x2b01b2[_0x5639e3(0x17d)]='';if(!specialRanges[_0x5639e3(0x252)]){_0x2b01b2[_0x5639e3(0x17d)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x5639e3(0x191)]((_0xc765ac,_0x44b472)=>{const _0x453c9f=_0x5639e3,_0x2be9f7=document[_0x453c9f(0x1ab)](_0x453c9f(0x184));_0x2be9f7[_0x453c9f(0xeb)]=_0x453c9f(0x1d1);const _0xc4314f=_0x2b753e=>{const _0x5ab96f=_0x453c9f,_0x474733=new Date(_0x2b753e);return _0x474733[_0x5ab96f(0x133)]()+'.'+String(_0x474733[_0x5ab96f(0x11b)]()+0x1)[_0x5ab96f(0x1ae)](0x2,'0')+'\x20'+String(_0x474733[_0x5ab96f(0x227)]())['padStart'](0x2,'0')+':'+String(_0x474733[_0x5ab96f(0x14d)]())['padStart'](0x2,'0');};_0x2be9f7[_0x453c9f(0x17d)]=_0x453c9f(0x209)+_0xc4314f(_0xc765ac[_0x453c9f(0x275)])+'\x20‚Äî\x20'+_0xc4314f(_0xc765ac['end'])+_0x453c9f(0x161)+_0x44b472+_0x453c9f(0x20b),_0x2b01b2['appendChild'](_0x2be9f7);});}function scrollToToday(){const _0x1d4ac4=a2_0x35894b,_0x3d3b3a=getLocalDateStr(new Date()),_0x3044c8=document[_0x1d4ac4(0x258)](_0x1d4ac4(0x1e4)+_0x3d3b3a),_0x22bccd=document[_0x1d4ac4(0x258)](_0x1d4ac4(0x256));if(_0x3044c8&&_0x22bccd){const _0x213d58=_0x22bccd[_0x1d4ac4(0x23b)],_0xbefe7=_0x3044c8[_0x1d4ac4(0x1ed)],_0x127b62=_0x3044c8[_0x1d4ac4(0x180)];_0x22bccd['scrollLeft']=_0xbefe7-_0x213d58/0x2+_0x127b62/0x2,_0x22bccd[_0x1d4ac4(0x213)]=0x9*GRID_H;}}function onScroll(){const _0x5b04fa=a2_0x35894b,_0x1005c2=document[_0x5b04fa(0x258)](_0x5b04fa(0x256)),_0x2a60da=document['querySelectorAll']('.day-col-header');for(let _0x4ece81 of _0x2a60da)if(_0x4ece81[_0x5b04fa(0x1ed)]>=_0x1005c2['scrollLeft']){const _0x131293=new Date(_0x4ece81[_0x5b04fa(0x1ad)](_0x5b04fa(0x277)));document[_0x5b04fa(0x258)](_0x5b04fa(0x1c5))['textContent']=_0x131293['toLocaleString']('ru',{'month':'long'})[_0x5b04fa(0x1b9)]()+'\x20'+_0x131293[_0x5b04fa(0x254)]();break;}}function showToast(_0x2a3d13,_0x1115b3=![]){const _0x183bd0=a2_0x35894b,_0xddf408=document[_0x183bd0(0x258)](_0x183bd0(0x163));_0xddf408['className']='toast-notification\x20'+(_0x1115b3?'success':''),document[_0x183bd0(0x258)](_0x183bd0(0x1e6))[_0x183bd0(0xfc)]=_0x1115b3?'–£—Å–ø–µ—à–Ω–æ':_0x183bd0(0x12f),document[_0x183bd0(0x258)](_0x183bd0(0x1b3))[_0x183bd0(0xfc)]=_0x2a3d13,_0xddf408[_0x183bd0(0xfb)][_0x183bd0(0x24a)]('show'),setTimeout(()=>{const _0x257ee6=_0x183bd0;_0xddf408[_0x257ee6(0xfb)][_0x257ee6(0x165)](_0x257ee6(0x25c));},0xbb8);}function openDayOptions(_0x2c1307,_0x17ef0e){const _0x2c1c8b=a2_0x35894b;selectedDayForOptions=_0x2c1307,document['getElementById'](_0x2c1c8b(0x17f))[_0x2c1c8b(0xfc)]=_0x17ef0e,openSheet(_0x2c1c8b(0x24c));}function toggleDayOff(){const _0x13a111=a2_0x35894b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x13a111(0x26e)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0xea3fa5=a2_0x35894b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0xea3fa5(0x26e)](),DataManager[_0xea3fa5(0x207)](_0xea3fa5(0x1bd),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x30c8b6){const _0x21d5b3=a2_0x35894b;document[_0x21d5b3(0x258)](_0x21d5b3(0x12d))[_0x21d5b3(0xfb)][_0x21d5b3(0x24a)]('active'),document['getElementById'](_0x30c8b6)['classList'][_0x21d5b3(0x24a)](_0x21d5b3(0x186));}function a2_0x8895(_0xec3255,_0x9628f5){_0xec3255=_0xec3255-0xe4;const _0x2da66e=a2_0x19ea();let _0x451282=_0x2da66e[_0xec3255];return _0x451282;}function closeAllSheets(){const _0x4a03d1=a2_0x35894b;document[_0x4a03d1(0x258)](_0x4a03d1(0x12d))[_0x4a03d1(0xfb)][_0x4a03d1(0x165)](_0x4a03d1(0x249)),document[_0x4a03d1(0x1b0)](_0x4a03d1(0x14e))[_0x4a03d1(0x191)](_0x545bcf=>_0x545bcf[_0x4a03d1(0xfb)]['remove'](_0x4a03d1(0x186)));}function openPatternEditor(){const _0x3dca46=a2_0x35894b;closeAllSheets(),document[_0x3dca46(0x258)]('patternEditor')['classList'][_0x3dca46(0x24a)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x129145=a2_0x35894b;document[_0x129145(0x258)](_0x129145(0x14f))[_0x129145(0xfb)][_0x129145(0x165)](_0x129145(0x186));}function savePattern(){const _0x4ece28=a2_0x35894b;document['getElementById']('patternEditor')[_0x4ece28(0xfb)][_0x4ece28(0x165)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4ece28(0x207)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4ca9e=a2_0x35894b,_0x410e8d=document['getElementById'](_0x4ca9e(0x14a));_0x410e8d['innerHTML']='';const _0x229ae4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2cc1e0=document[_0x4ca9e(0x1ab)](_0x4ca9e(0x184));_0x2cc1e0[_0x4ca9e(0xeb)]=_0x4ca9e(0x16e),_0x410e8d['appendChild'](_0x2cc1e0),_0x229ae4['forEach']((_0x5382e9,_0x1bd2ce)=>{const _0x39d09e=_0x4ca9e,_0x3913e9=document['createElement'](_0x39d09e(0x184));_0x3913e9['className']=_0x39d09e(0x137),_0x3913e9[_0x39d09e(0x17d)]=_0x5382e9+_0x39d09e(0x116),_0x3913e9[_0x39d09e(0x223)]=()=>toggleColPattern(_0x1bd2ce),_0x410e8d[_0x39d09e(0xe4)](_0x3913e9);});for(let _0x1b4d9a=0x0;_0x1b4d9a<0x18;_0x1b4d9a++){const _0x2b8834=document['createElement'](_0x4ca9e(0x184));_0x2b8834['className']=_0x4ca9e(0x1ba),_0x2b8834['innerHTML']=_0x4ca9e(0x1c8)+String(_0x1b4d9a)[_0x4ca9e(0x1ae)](0x2,'0')+_0x4ca9e(0x18f),_0x2b8834[_0x4ca9e(0x223)]=()=>toggleRowPattern(_0x1b4d9a),_0x410e8d[_0x4ca9e(0xe4)](_0x2b8834);for(let _0x3336e2=0x0;_0x3336e2<0x7;_0x3336e2++){const _0x3ef46c=document[_0x4ca9e(0x1ab)](_0x4ca9e(0x184)),_0x2e8c50=(availabilityPattern[_0x3336e2]||[])['includes'](_0x1b4d9a),_0x8a9ec1=!_0x2e8c50;_0x3ef46c[_0x4ca9e(0xeb)]=_0x4ca9e(0x201)+(_0x8a9ec1?_0x4ca9e(0x249):''),_0x3ef46c['onclick']=()=>toggleSinglePattern(_0x3336e2,_0x1b4d9a),_0x410e8d[_0x4ca9e(0xe4)](_0x3ef46c);}}}function toggleSinglePattern(_0x378b57,_0x3ac0f2){const _0x31fe02=a2_0x35894b;if(!availabilityPattern[_0x378b57])availabilityPattern[_0x378b57]=[];const _0x559bc0=availabilityPattern[_0x378b57],_0x58bd02=_0x559bc0[_0x31fe02(0x124)](_0x3ac0f2);_0x58bd02===-0x1?_0x559bc0[_0x31fe02(0x134)](_0x3ac0f2):_0x559bc0[_0x31fe02(0x1d9)](_0x58bd02,0x1),renderPatternEditor();}function toggleColPattern(_0x3c7c0c){const _0x5c38ed=a2_0x35894b;if(!availabilityPattern[_0x3c7c0c])availabilityPattern[_0x3c7c0c]=[];const _0x1fdbaf=availabilityPattern[_0x3c7c0c];_0x1fdbaf[_0x5c38ed(0x252)]===0x0?availabilityPattern[_0x3c7c0c]=Array['from']({'length':0x18},(_0xdc3d72,_0x160400)=>_0x160400):availabilityPattern[_0x3c7c0c]=[],renderPatternEditor();}function toggleRowPattern(_0x5bbc22){const _0x500555=a2_0x35894b;let _0x465beb=!![];for(let _0x268b4c=0x0;_0x268b4c<0x7;_0x268b4c++){if((availabilityPattern[_0x268b4c]||[])[_0x500555(0x123)](_0x5bbc22)){_0x465beb=![];break;}}for(let _0x207fec=0x0;_0x207fec<0x7;_0x207fec++){if(!availabilityPattern[_0x207fec])availabilityPattern[_0x207fec]=[];const _0x1e8733=availabilityPattern[_0x207fec][_0x500555(0x124)](_0x5bbc22);if(_0x465beb){if(_0x1e8733===-0x1)availabilityPattern[_0x207fec][_0x500555(0x134)](_0x5bbc22);}else{if(_0x1e8733!==-0x1)availabilityPattern[_0x207fec][_0x500555(0x1d9)](_0x1e8733,0x1);}}renderPatternEditor();}function renderPCol(_0x3262b8,_0x217513){const _0x400df6=a2_0x35894b;_0x3262b8['innerHTML']='';const _0x3555f7=Math['round'](_0x3262b8[_0x400df6(0x1ed)]);(availabilityPattern[_0x217513]||[])[_0x400df6(0x191)](_0x117f28=>{const _0xee6934=_0x400df6,_0x38aabc=document[_0xee6934(0x1ab)]('div');_0x38aabc[_0xee6934(0xeb)]='blocked-slot\x20stripe-bg';const _0xff9de3=_0x117f28*GRID_H;_0x38aabc['style'][_0xee6934(0x1e7)]=_0xff9de3+'px',_0x38aabc['style'][_0xee6934(0x125)]='-'+_0x3555f7+_0xee6934(0x25e)+_0xff9de3+'px',_0x38aabc[_0xee6934(0x223)]=_0x39a90d=>{const _0x339ff3=_0xee6934;_0x39a90d[_0x339ff3(0x11c)](),toggleSinglePattern(_0x217513,_0x117f28);},_0x3262b8[_0xee6934(0xe4)](_0x38aabc);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x159a95=a2_0x35894b,_0x1982fc=new Date(),_0x922940=document[_0x159a95(0x258)](_0x159a95(0x238)),_0x186b53=document[_0x159a95(0x258)](_0x159a95(0x1d2)),_0x6c56e3=(_0x1982fc[_0x159a95(0x227)]()*0x3c+_0x1982fc[_0x159a95(0x14d)]())/0x3c*GRID_H;_0x922940[_0x159a95(0x250)][_0x159a95(0x1e7)]=_0x6c56e3+'px',_0x922940['style']['display']=_0x159a95(0x1e1),_0x186b53['textContent']=String(_0x1982fc['getHours']())[_0x159a95(0x1ae)](0x2,'0')+':'+String(_0x1982fc[_0x159a95(0x14d)]())[_0x159a95(0x1ae)](0x2,'0'),_0x186b53[_0x159a95(0x250)][_0x159a95(0x16b)]='block',_0x186b53[_0x159a95(0x250)][_0x159a95(0x1e7)]=_0x6c56e3+'px';}document['addEventListener'](a2_0x35894b(0x1f3),init);function openDayOptions(_0x4dd692){const _0x594bb3=a2_0x35894b;selectedDayForOptions=_0x4dd692;const _0x23b4c6=new Date(_0x4dd692),_0x11eadd={'weekday':'long','day':_0x594bb3(0x216),'month':'long','year':_0x594bb3(0x216)},_0x573cd8=_0x23b4c6['toLocaleDateString'](_0x594bb3(0x11d),_0x11eadd);document[_0x594bb3(0x258)]('doDateHeader')['textContent']=_0x573cd8[_0x594bb3(0x104)](0x0)['toUpperCase']()+_0x573cd8[_0x594bb3(0x140)](0x1);let _0x3444de=_0x23b4c6['getDay']()-0x1;if(_0x3444de===-0x1)_0x3444de=0x6;const _0xb037fe=availabilityPattern[_0x3444de]||[],_0x39e274=0x18-_0xb037fe['length'],_0x799e38=_0x39e274*0x3c,_0x55c009=sessions[_0x594bb3(0x155)](_0x1a347b=>_0x1a347b[_0x594bb3(0x21d)]===_0x4dd692&&_0x1a347b[_0x594bb3(0x151)]!=='cancelled');let _0x50533d=_0x55c009[_0x594bb3(0x1af)](_0x4a6296=>{const _0x282cec=_0x594bb3,[_0x79923e,_0x4451c5]=_0x4a6296[_0x282cec(0x275)]['split'](':')[_0x282cec(0x1af)](Number),[_0x935056,_0x34e4d2]=_0x4a6296[_0x282cec(0x10d)][_0x282cec(0x149)](':')[_0x282cec(0x1af)](Number);return[_0x79923e*0x3c+_0x4451c5,_0x935056*0x3c+_0x34e4d2];});_0x50533d['sort']((_0x5e74da,_0x23c19d)=>_0x5e74da[0x0]-_0x23c19d[0x0]);let _0x1f2b5f=[];if(_0x50533d[_0x594bb3(0x252)]>0x0){let _0x50b74d=_0x50533d[0x0];for(let _0x5743eb=0x1;_0x5743eb<_0x50533d[_0x594bb3(0x252)];_0x5743eb++){_0x50533d[_0x5743eb][0x0]<_0x50b74d[0x1]?_0x50b74d[0x1]=Math[_0x594bb3(0x1c0)](_0x50b74d[0x1],_0x50533d[_0x5743eb][0x1]):(_0x1f2b5f[_0x594bb3(0x134)](_0x50b74d),_0x50b74d=_0x50533d[_0x5743eb]);}_0x1f2b5f[_0x594bb3(0x134)](_0x50b74d);}let _0xf3f588=0x0;_0x1f2b5f[_0x594bb3(0x191)](_0x13e1b0=>_0xf3f588+=_0x13e1b0[0x1]-_0x13e1b0[0x0]),document[_0x594bb3(0x258)](_0x594bb3(0x1d4))[_0x594bb3(0xfc)]=formatMinsToHrs(_0x799e38),document[_0x594bb3(0x258)](_0x594bb3(0x17e))[_0x594bb3(0xfc)]=formatMinsToHrs(_0xf3f588);const _0x5f9965=_0x799e38>0x0?Math[_0x594bb3(0x178)](_0xf3f588/_0x799e38*0x64):0x0,_0x554fb3=document[_0x594bb3(0x258)]('doLoadPercent');_0x554fb3[_0x594bb3(0xfc)]=_0x5f9965+'%';const _0x3d3aca=document[_0x594bb3(0x258)]('statLoadCard');if(_0x5f9965>0x64)_0x554fb3[_0x594bb3(0x250)][_0x594bb3(0x251)]='var(--acc-red)',_0x3d3aca[_0x594bb3(0x250)][_0x594bb3(0xec)]=_0x594bb3(0x1a0);else _0x5f9965>0x50?(_0x554fb3[_0x594bb3(0x250)][_0x594bb3(0x251)]=_0x594bb3(0x224),_0x3d3aca[_0x594bb3(0x250)][_0x594bb3(0xec)]=_0x594bb3(0x235)):(_0x554fb3['style'][_0x594bb3(0x251)]=_0x594bb3(0x22a),_0x3d3aca[_0x594bb3(0x250)]['borderColor']=_0x594bb3(0x129));const _0x129d03=document[_0x594bb3(0x258)](_0x594bb3(0x259));_0x129d03[_0x594bb3(0x17d)]='';_0x55c009[_0x594bb3(0x252)]===0x0?_0x129d03[_0x594bb3(0x17d)]=_0x594bb3(0x11a):(_0x55c009[_0x594bb3(0x1df)]((_0x46998a,_0x584b86)=>_0x46998a['start'][_0x594bb3(0x130)](_0x584b86[_0x594bb3(0x275)])),_0x55c009[_0x594bb3(0x191)](_0x347fea=>{const _0x42cd30=_0x594bb3,_0x4d36b2=clients[_0x42cd30(0x270)](_0x5271c2=>_0x5271c2[_0x42cd30(0x208)]===_0x347fea[_0x42cd30(0x231)]),_0x1a30f1=_0x4d36b2?_0x4d36b2[_0x42cd30(0x251)]:_0x42cd30(0x1f4),_0x8c4484=_0x347fea[_0x42cd30(0x151)]==='completed',_0x7b210d=_0x8c4484?_0x42cd30(0x1f7):'',_0x55427b=document['createElement'](_0x42cd30(0x184));_0x55427b['className']=_0x42cd30(0x1b7),_0x55427b[_0x42cd30(0x250)][_0x42cd30(0x1aa)]=_0x1a30f1,_0x55427b['innerHTML']=_0x42cd30(0x10e)+_0x347fea['start']+_0x42cd30(0x25f)+_0x347fea[_0x42cd30(0x10d)]+_0x42cd30(0x222)+_0x347fea['client']+_0x42cd30(0x15a)+_0x7b210d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x129d03[_0x42cd30(0xe4)](_0x55427b);}));const _0x33cefe=document[_0x594bb3(0x258)](_0x594bb3(0x169)),_0x5bff2d=dateExceptions[_0x4dd692]===_0x594bb3(0x102);_0x5bff2d?(_0x33cefe[_0x594bb3(0xfc)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x33cefe['className']=_0x594bb3(0x1c2),_0x33cefe[_0x594bb3(0x250)][_0x594bb3(0x251)]='var(--acc-green)',_0x33cefe['style'][_0x594bb3(0x274)]=_0x594bb3(0x101)):(_0x33cefe['textContent']=_0x594bb3(0x166),_0x33cefe[_0x594bb3(0xeb)]=_0x594bb3(0x243),_0x33cefe[_0x594bb3(0x250)][_0x594bb3(0x251)]=_0x594bb3(0x1a1),_0x33cefe[_0x594bb3(0x250)]['background']=_0x594bb3(0x24f)),openSheet(_0x594bb3(0x24c));}let currentAnPeriod=a2_0x35894b(0x103);function openAnalytics(){const _0x57c9c5=a2_0x35894b,_0x4c751b=document[_0x57c9c5(0x132)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x57c9c5(0x103),_0x4c751b),closeAllSheets(),openSheet(_0x57c9c5(0x200));}function setAnalyticsPeriod(_0x5a06e3,_0x335121){const _0x303e33=a2_0x35894b;currentAnPeriod=_0x5a06e3,document['querySelectorAll'](_0x303e33(0x24e))[_0x303e33(0x191)](_0xb655c1=>_0xb655c1[_0x303e33(0xfb)][_0x303e33(0x165)](_0x303e33(0x249)));if(_0x335121)_0x335121[_0x303e33(0xfb)][_0x303e33(0x24a)](_0x303e33(0x249));const _0x404da6=document[_0x303e33(0x258)](_0x303e33(0x152));_0x404da6[_0x303e33(0x250)][_0x303e33(0x16b)]=_0x5a06e3===_0x303e33(0x197)?_0x303e33(0x135):_0x303e33(0x1d8);const _0x5f417e=new Date();let _0x2992ea=new Date(),_0x345efd=new Date();if(_0x5a06e3===_0x303e33(0x103))_0x2992ea=getStartOfWeek(_0x5f417e),_0x345efd=new Date(_0x2992ea),_0x345efd[_0x303e33(0x1d6)](_0x345efd[_0x303e33(0x133)]()+0x6);else{if(_0x5a06e3===_0x303e33(0x1c6))_0x2992ea=new Date(_0x5f417e[_0x303e33(0x254)](),_0x5f417e['getMonth'](),0x1),_0x345efd=new Date(_0x5f417e[_0x303e33(0x254)](),_0x5f417e[_0x303e33(0x11b)]()+0x1,0x0);else{!document[_0x303e33(0x258)](_0x303e33(0x12c))['value']&&(document[_0x303e33(0x258)]('anStart')[_0x303e33(0x241)]=getLocalDateStr(_0x5f417e),document[_0x303e33(0x258)]('anEnd')[_0x303e33(0x241)]=getLocalDateStr(_0x5f417e));refreshAnalytics();return;}}document['getElementById'](_0x303e33(0x12c))[_0x303e33(0x241)]=getLocalDateStr(_0x2992ea),document['getElementById'](_0x303e33(0xf0))[_0x303e33(0x241)]=getLocalDateStr(_0x345efd),refreshAnalytics();}function refreshAnalytics(){const _0x3b2ca3=a2_0x35894b,_0x3b73b1=document[_0x3b2ca3(0x258)](_0x3b2ca3(0x12c))[_0x3b2ca3(0x241)],_0x1f3592=document[_0x3b2ca3(0x258)](_0x3b2ca3(0xf0))[_0x3b2ca3(0x241)];if(!_0x3b73b1||!_0x1f3592)return;const _0x465ec2=sessions[_0x3b2ca3(0x155)](_0x2eaff5=>_0x2eaff5[_0x3b2ca3(0x21d)]>=_0x3b73b1&&_0x2eaff5[_0x3b2ca3(0x21d)]<=_0x1f3592&&_0x2eaff5['status']!=='cancelled'),_0x148aa3=_0x465ec2[_0x3b2ca3(0x252)],_0x9e5807=_0x465ec2['filter'](_0x51f431=>_0x51f431[_0x3b2ca3(0x151)]===_0x3b2ca3(0x127))[_0x3b2ca3(0x252)],_0x8ab6bb=_0x148aa3>0x0?Math[_0x3b2ca3(0x178)](_0x9e5807/_0x148aa3*0x64):0x0;document['getElementById'](_0x3b2ca3(0x248))[_0x3b2ca3(0xfc)]=_0x8ab6bb+'%',document[_0x3b2ca3(0x258)]('anTotalStats')[_0x3b2ca3(0xfc)]=_0x9e5807+'\x20–∏–∑\x20'+_0x148aa3+_0x3b2ca3(0x1e5);const _0x9957e6=document['getElementById']('anDonutCircle'),_0x189ecd=0x2*Math['PI']*0x23,_0x1f7ca9=_0x189ecd-_0x8ab6bb/0x64*_0x189ecd;_0x9957e6[_0x3b2ca3(0x250)][_0x3b2ca3(0x210)]=_0x1f7ca9;const _0x385d15={};_0x465ec2[_0x3b2ca3(0x191)](_0x344019=>{const _0x1aba48=_0x3b2ca3;if(!_0x385d15[_0x344019[_0x1aba48(0x231)]]){const _0x17762d=clients[_0x1aba48(0x270)](_0x2f0b7e=>_0x2f0b7e[_0x1aba48(0x208)]===_0x344019[_0x1aba48(0x231)]);_0x385d15[_0x344019[_0x1aba48(0x231)]]={'total':0x0,'done':0x0,'color':_0x17762d?_0x17762d[_0x1aba48(0x251)]:_0x1aba48(0x1f4)};}_0x385d15[_0x344019[_0x1aba48(0x231)]][_0x1aba48(0x1c7)]++;if(_0x344019[_0x1aba48(0x151)]==='completed')_0x385d15[_0x344019['client']][_0x1aba48(0xf7)]++;});const _0x4186e5=document['getElementById']('analyticsList');_0x4186e5[_0x3b2ca3(0x17d)]='';const _0x1d551a=Object['entries'](_0x385d15)[_0x3b2ca3(0x1df)]((_0x43901d,_0x39feef)=>_0x39feef[0x1][_0x3b2ca3(0x1c7)]-_0x43901d[0x1][_0x3b2ca3(0x1c7)]);if(_0x1d551a[_0x3b2ca3(0x252)]===0x0){_0x4186e5[_0x3b2ca3(0x17d)]=_0x3b2ca3(0x1ea);return;}_0x1d551a[_0x3b2ca3(0x191)](([_0x58d1c2,_0x5f0f3b])=>{const _0x33ded5=_0x3b2ca3,_0x4a7f63=Math[_0x33ded5(0x178)](_0x5f0f3b['done']/_0x5f0f3b['total']*0x64),_0x48a6d6=document['createElement']('div');_0x48a6d6[_0x33ded5(0xeb)]=_0x33ded5(0x100),_0x48a6d6['style'][_0x33ded5(0x1aa)]=_0x5f0f3b[_0x33ded5(0x251)],_0x48a6d6[_0x33ded5(0x17d)]=_0x33ded5(0x12a)+_0x58d1c2+_0x33ded5(0x105)+_0x5f0f3b[_0x33ded5(0xf7)]+_0x33ded5(0x1a7)+_0x5f0f3b['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4a7f63+_0x33ded5(0xf1),_0x4186e5[_0x33ded5(0xe4)](_0x48a6d6);});}function formatMinsToHrs(_0x5c2d93){const _0x28b3ab=a2_0x35894b;if(_0x5c2d93===0x0)return'0';const _0x327985=Math[_0x28b3ab(0x187)](_0x5c2d93/0x3c),_0x35790d=_0x5c2d93%0x3c;if(_0x35790d===0x0)return _0x327985+'—á';return _0x327985+'—á\x20'+_0x35790d+'–º';}