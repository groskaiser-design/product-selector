const a2_0x1dda79=a2_0x53ed;(function(_0x27502f,_0x3e5615){const _0x44adbd=a2_0x53ed,_0x204dea=_0x27502f();while(!![]){try{const _0x4ae2c2=-parseInt(_0x44adbd(0x101))/0x1+parseInt(_0x44adbd(0x1f0))/0x2+-parseInt(_0x44adbd(0x172))/0x3+-parseInt(_0x44adbd(0x1ec))/0x4+-parseInt(_0x44adbd(0x131))/0x5+-parseInt(_0x44adbd(0x1ef))/0x6+-parseInt(_0x44adbd(0x1f8))/0x7*(-parseInt(_0x44adbd(0x1e8))/0x8);if(_0x4ae2c2===_0x3e5615)break;else _0x204dea['push'](_0x204dea['shift']());}catch(_0x218c6f){_0x204dea['push'](_0x204dea['shift']());}}}(a2_0xd5ba,0xb8df7),function initTMA(){const _0x48dd1d=a2_0x53ed,_0x328770=(function(){let _0xf5d477=!![];return function(_0x328a17,_0x35646a){const _0xc0f644=_0xf5d477?function(){const _0x29f2f4=a2_0x53ed;if(_0x35646a){const _0x31fbcd=_0x35646a[_0x29f2f4(0x13d)](_0x328a17,arguments);return _0x35646a=null,_0x31fbcd;}}:function(){};return _0xf5d477=![],_0xc0f644;};}()),_0x185572=_0x328770(this,function(){const _0xa80e85=a2_0x53ed;return _0x185572[_0xa80e85(0x1fe)]()[_0xa80e85(0x148)]('(((.+)+)+)+$')[_0xa80e85(0x1fe)]()[_0xa80e85(0xa8)](_0x185572)[_0xa80e85(0x148)](_0xa80e85(0x83));});_0x185572();try{const _0x5ad718=window[_0x48dd1d(0x87)]?.[_0x48dd1d(0x144)];if(!_0x5ad718)return;_0x5ad718[_0x48dd1d(0x1c8)](),_0x5ad718[_0x48dd1d(0x1b1)]();try{_0x5ad718[_0x48dd1d(0x10c)](_0x48dd1d(0xcd)),_0x5ad718['setBackgroundColor']&&_0x5ad718[_0x48dd1d(0x203)](_0x48dd1d(0xcd));}catch(_0x3066a6){console[_0x48dd1d(0x1f7)](_0x48dd1d(0xab),_0x3066a6);}try{_0x5ad718[_0x48dd1d(0x17a)]&&(_0x5ad718[_0x48dd1d(0x17a)][_0x48dd1d(0x16f)](),_0x5ad718[_0x48dd1d(0x17a)][_0x48dd1d(0x14e)](),_0x5ad718['BackButton'][_0x48dd1d(0xf1)](function(){const _0x2058c3=_0x48dd1d;window['location'][_0x2058c3(0x1d3)]=_0x2058c3(0x109);}));}catch(_0x193846){console[_0x48dd1d(0x1f7)](_0x48dd1d(0x1d4),_0x193846);}try{if(_0x5ad718['disableVerticalSwipes'])_0x5ad718[_0x48dd1d(0xae)]();}catch(_0x1ed236){}}catch(_0x1f4df8){console['error'](_0x48dd1d(0x17e),_0x1f4df8);}}());function isAdmin(){const _0x317478=a2_0x53ed;try{const _0x43b573=Number(window[_0x317478(0x87)]?.[_0x317478(0x144)]?.[_0x317478(0x199)]?.['user']?.['id']);return _0x43b573===0xbaf7174;}catch(_0x90cd3d){return![];}}const APP_VERSION=a2_0x1dda79(0x1f4),API_URL=a2_0x1dda79(0x89),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1dda79(0x18a),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x1dda79(0x10a);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4cdb37=a2_0x1dda79;return window[_0x4cdb37(0x87)]?.[_0x4cdb37(0x144)]?.['initDataUnsafe']?.['user']?.['id']||_0x4cdb37(0xca);},'saveLocally'(){const _0x23f4c7=a2_0x1dda79;try{localStorage[_0x23f4c7(0x18d)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x23f4c7(0x18d)](KEY_SESSIONS,JSON[_0x23f4c7(0x84)](sessions)),localStorage[_0x23f4c7(0x18d)](KEY_SETTINGS,JSON[_0x23f4c7(0x84)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xc7aa85){console[_0x23f4c7(0x93)](_0x23f4c7(0x1e6),_0xc7aa85);}},'loadLocal'(){const _0x45029c=a2_0x1dda79;try{const _0x30170d=localStorage['getItem'](KEY_CLIENTS);if(_0x30170d)clients=JSON['parse'](_0x30170d);const _0x5cc94b=localStorage[_0x45029c(0xec)](KEY_SESSIONS);if(_0x5cc94b)sessions=JSON[_0x45029c(0x182)](_0x5cc94b);const _0x49a835=localStorage['getItem'](KEY_SETTINGS);if(_0x49a835){const _0x7a2be6=JSON['parse'](_0x49a835);if(_0x7a2be6[_0x45029c(0x14f)])availabilityPattern=_0x7a2be6['pattern'];if(_0x7a2be6[_0x45029c(0x81)])dateExceptions=_0x7a2be6[_0x45029c(0x81)];if(_0x7a2be6['ranges'])specialRanges=_0x7a2be6['ranges'];}else{for(let _0x5c0c5d=0x0;_0x5c0c5d<0x7;_0x5c0c5d++)availabilityPattern[_0x5c0c5d]=Array['from']({'length':0xc},(_0x27f7c9,_0x10e3dd)=>_0x10e3dd+0x9);}}catch(_0x14559c){console[_0x45029c(0x93)](_0x45029c(0x1e2),_0x14559c);}},async 'fetchFromServer'(_0x1dc729,_0x45595d={}){const _0x2335eb=a2_0x1dda79,_0x5af216=window[_0x2335eb(0x87)]?.['WebApp'],_0x97071e={'action':_0x1dc729,'init_data':_0x5af216?.[_0x2335eb(0x16c)]||'',..._0x45595d};try{const _0x111be9=await fetch(API_URL,{'method':_0x2335eb(0x200),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x2335eb(0x84)](_0x97071e)}),_0x169b57=await _0x111be9[_0x2335eb(0x187)]();if(!_0x169b57['ok'])throw new Error(_0x169b57[_0x2335eb(0x93)]||_0x2335eb(0x185));return _0x169b57[_0x2335eb(0x14a)];}catch(_0x2a3d49){console[_0x2335eb(0x93)](_0x2335eb(0xc4)+_0x1dc729+_0x2335eb(0x125),_0x2a3d49);throw _0x2a3d49;}},async 'syncLoad'(){const _0xdda98f=a2_0x1dda79,_0x33d741=new Date(),_0x44d69e=_0x33d741[_0xdda98f(0xe0)]()+'-'+String(_0x33d741[_0xdda98f(0x16b)]()+0x1)[_0xdda98f(0x15d)](0x2,'0'),_0x2010da=new Date(_0x33d741);_0x2010da[_0xdda98f(0xbf)](_0x33d741[_0xdda98f(0x16b)]()+0x1);const _0x24af1a=_0x2010da['getFullYear']()+'-'+String(_0x2010da[_0xdda98f(0x16b)]()+0x1)[_0xdda98f(0x15d)](0x2,'0'),_0x37c31c=Date[_0xdda98f(0xaf)]();console['log'](_0xdda98f(0xb6)+_0x44d69e+',\x20'+_0x24af1a+_0xdda98f(0x7f));try{const [_0x259ddd,_0x2a5d3a]=await Promise[_0xdda98f(0x7c)]([this[_0xdda98f(0xbc)](_0xdda98f(0xd3),{'month_str':_0x44d69e}),this[_0xdda98f(0xbc)](_0xdda98f(0xd3),{'month_str':_0x24af1a})]);if(lastUserActionTime>_0x37c31c)return console[_0xdda98f(0x8a)](_0xdda98f(0x11b)),![];return this[_0xdda98f(0x193)](_0x259ddd,_0x44d69e),this['mergeServerData'](_0x2a5d3a,_0x24af1a),this[_0xdda98f(0x140)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x18b824){console[_0xdda98f(0x93)](_0x18b824);throw _0x18b824;}},'mergeServerData'(_0x5219f5,_0x2c6187){const _0x58b777=a2_0x1dda79;if(!_0x5219f5)return;_0x5219f5[_0x58b777(0x197)]&&Array[_0x58b777(0x19f)](_0x5219f5[_0x58b777(0x197)])&&(clients=_0x5219f5[_0x58b777(0x197)]);if(_0x5219f5[_0x58b777(0x198)]){if(_0x5219f5[_0x58b777(0x198)][_0x58b777(0x14f)])availabilityPattern=_0x5219f5[_0x58b777(0x198)][_0x58b777(0x14f)];if(_0x5219f5['settings']['exceptions'])dateExceptions=_0x5219f5[_0x58b777(0x198)][_0x58b777(0x81)];if(_0x5219f5[_0x58b777(0x198)][_0x58b777(0x122)])specialRanges=_0x5219f5[_0x58b777(0x198)][_0x58b777(0x122)];if(_0x5219f5[_0x58b777(0x198)][_0x58b777(0xf7)]){localStorage[_0x58b777(0x18d)](_0x58b777(0x129),_0x5219f5[_0x58b777(0x198)][_0x58b777(0xf7)]);const _0x1b232a=document['getElementById']('settingCancelWindow');if(_0x1b232a)_0x1b232a[_0x58b777(0x8f)]=_0x5219f5[_0x58b777(0x198)][_0x58b777(0xf7)];}}_0x5219f5['calendar']&&(sessions=sessions['filter'](_0x3c916f=>!_0x3c916f[_0x58b777(0x154)]['startsWith'](_0x2c6187)),Object[_0x58b777(0x165)](_0x5219f5[_0x58b777(0xe3)])[_0x58b777(0x97)](_0x93dae5=>{const _0x3809c4=_0x58b777,_0x8efd20=_0x5219f5['calendar'][_0x93dae5];_0x8efd20[_0x3809c4(0x97)](_0x31e683=>{const _0x162ec3=_0x3809c4,_0x27e8ed=clients[_0x162ec3(0xad)](_0x5b6441=>String(_0x5b6441['id'])===String(_0x31e683['c']));sessions[_0x162ec3(0xfa)]({'id':_0x31e683['i'],'clientId':_0x31e683['c'],'client':_0x27e8ed?_0x27e8ed['name']:_0x162ec3(0xa6),'dateStr':_0x2c6187+'-'+_0x93dae5['padStart'](0x2,'0'),'start':_0x31e683['s'],'end':_0x31e683['e'],'status':_0x31e683['st']||'planned','note':_0x31e683['n']||'','seriesId':_0x31e683['sid']||null});});}));},async 'syncBatch'(_0x514343){const _0x50b6d8=a2_0x1dda79,_0x487a00=[...new Set(_0x514343)],_0x23439b=_0x487a00['map'](_0x3db02e=>{const _0x4e5368=a2_0x53ed,_0x332d24=sessions[_0x4e5368(0xa9)](_0xb9454e=>_0xb9454e[_0x4e5368(0x154)]===_0x3db02e&&_0xb9454e[_0x4e5368(0x119)]!=='deleted'),_0x25d897=_0x332d24[_0x4e5368(0xb4)](_0x1b16a1=>({'i':_0x1b16a1['id'],'c':_0x1b16a1[_0x4e5368(0x115)],'s':_0x1b16a1[_0x4e5368(0x167)],'e':_0x1b16a1[_0x4e5368(0x1cb)],'st':_0x1b16a1['status'],'n':_0x1b16a1[_0x4e5368(0x1ba)],'sid':_0x1b16a1[_0x4e5368(0x1db)]}));return{'date':_0x3db02e,'day_data':_0x25d897};});if(_0x23439b['length']===0x0)return;console[_0x50b6d8(0x1f7)](_0x50b6d8(0x143)+_0x23439b[_0x50b6d8(0xd4)]+_0x50b6d8(0x1a5)),await this[_0x50b6d8(0xbc)](_0x50b6d8(0x208),{'changes':_0x23439b});}};async function init(){const _0x114411=a2_0x1dda79;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x114411(0x201)](_0x114411(0x124))[_0x114411(0x107)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x114411(0x1a2)]()['then'](()=>{const _0x4968b6=_0x114411;showToast(_0x4968b6(0x13c),!![]);})[_0x114411(0x17b)](_0x282c1e=>{const _0xff9f8=_0x114411;showToast(_0xff9f8(0x162),![]);});}function generateId(){const _0x46727e=a2_0x1dda79;return Date[_0x46727e(0xaf)]()['toString'](0x24)+Math['random']()['toString'](0x24)[_0x46727e(0x12f)](0x2,0x5);}function toggleSeriesInput(){const _0xb42dec=a2_0x1dda79,_0x4665ec=document[_0xb42dec(0x201)]('inpRecurring')[_0xb42dec(0x1ae)],_0x3cc097=document[_0xb42dec(0x201)]('seriesCountContainer');_0x3cc097[_0xb42dec(0xfc)][_0xb42dec(0x1a6)]=_0x4665ec?_0xb42dec(0x137):'none';const _0x2a440e=document[_0xb42dec(0x201)](_0xb42dec(0x138));_0x2a440e[_0xb42dec(0xfc)][_0xb42dec(0x127)]=_0x4665ec?'10px\x2010px\x200\x200':_0xb42dec(0x1c1);}function openAddSession(_0x5cd163){const _0x2595d1=a2_0x1dda79;editingId=null,populateClientSelect(),document['getElementById'](_0x2595d1(0x1c0))['textContent']=_0x2595d1(0x204),document[_0x2595d1(0x201)](_0x2595d1(0x95))[_0x2595d1(0xfc)]['display']=_0x2595d1(0x177),document['getElementById'](_0x2595d1(0xc2))[_0x2595d1(0xfc)][_0x2595d1(0x1a6)]=_0x2595d1(0x177);const _0x31ff9f=document[_0x2595d1(0x201)](_0x2595d1(0x138)),_0x5dd579=document[_0x2595d1(0x201)](_0x2595d1(0x1d1));_0x31ff9f['style'][_0x2595d1(0x1a6)]=_0x2595d1(0x9f),_0x31ff9f[_0x2595d1(0xfc)][_0x2595d1(0x127)]=_0x2595d1(0x1c1),document['getElementById'](_0x2595d1(0xc7))[_0x2595d1(0x1ae)]=![],document[_0x2595d1(0x201)](_0x2595d1(0xb1))[_0x2595d1(0x8f)]=0x4,_0x5dd579[_0x2595d1(0xfc)][_0x2595d1(0x1a6)]=_0x2595d1(0x177),document[_0x2595d1(0x201)]('inpDate')[_0x2595d1(0x8f)]=getLocalDateStr(_0x5cd163),updateDateDisplay();const _0x221465=_0x5cd163[_0x2595d1(0x106)]();document[_0x2595d1(0x201)](_0x2595d1(0x164))['value']=String(_0x221465)[_0x2595d1(0x15d)](0x2,'0')+_0x2595d1(0x1c5),document[_0x2595d1(0x201)]('inpEnd')[_0x2595d1(0x8f)]=String(_0x221465+0x1)[_0x2595d1(0x15d)](0x2,'0')+':00',openSheet(_0x2595d1(0xd8));}function openEdit(_0x317777){const _0x4cca05=a2_0x1dda79;editingId=_0x317777['id'],populateClientSelect(),document[_0x4cca05(0x201)](_0x4cca05(0x1c0))[_0x4cca05(0x1c7)]=_0x4cca05(0x196),document[_0x4cca05(0x201)](_0x4cca05(0x95))[_0x4cca05(0xfc)][_0x4cca05(0x1a6)]=_0x4cca05(0x137);const _0x3ba0b0=document[_0x4cca05(0x201)]('btnStatusToggle');_0x3ba0b0[_0x4cca05(0xfc)][_0x4cca05(0x1a6)]=_0x4cca05(0x9f);_0x317777[_0x4cca05(0x119)]===_0x4cca05(0xb3)?(_0x3ba0b0[_0x4cca05(0x11a)]=_0x4cca05(0x14c),_0x3ba0b0[_0x4cca05(0x1f3)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3ba0b0[_0x4cca05(0x11a)]=_0x4cca05(0x1eb),_0x3ba0b0[_0x4cca05(0x1f3)]=_0x4cca05(0x190));const _0x458942=!!_0x317777[_0x4cca05(0x1db)];document[_0x4cca05(0x201)](_0x4cca05(0x138))['style'][_0x4cca05(0x1a6)]='none',document[_0x4cca05(0x201)](_0x4cca05(0x1d1))[_0x4cca05(0xfc)][_0x4cca05(0x1a6)]='none',_0x458942?(document[_0x4cca05(0x201)]('patternInfoBox')[_0x4cca05(0xfc)][_0x4cca05(0x1a6)]=_0x4cca05(0x9f),document[_0x4cca05(0x201)](_0x4cca05(0x1c2))[_0x4cca05(0x9a)](_0x4cca05(0x1ea))[_0x4cca05(0x1c7)]=_0x4cca05(0xa2)):document[_0x4cca05(0x201)](_0x4cca05(0x1c2))[_0x4cca05(0xfc)][_0x4cca05(0x1a6)]='none',document[_0x4cca05(0x201)](_0x4cca05(0x104))[_0x4cca05(0x8f)]=_0x317777[_0x4cca05(0xcf)],document['getElementById'](_0x4cca05(0x8c))[_0x4cca05(0x8f)]=_0x317777[_0x4cca05(0x154)],document['getElementById'](_0x4cca05(0x164))[_0x4cca05(0x8f)]=_0x317777['start'],document[_0x4cca05(0x201)](_0x4cca05(0x166))[_0x4cca05(0x8f)]=_0x317777['end'],document[_0x4cca05(0x201)]('inpNote')[_0x4cca05(0x8f)]=_0x317777[_0x4cca05(0x1ba)]||'',updateDateDisplay(),openSheet(_0x4cca05(0xd8));}async function trySaveSession(){const _0x23dd42=a2_0x1dda79,_0x213fad=document[_0x23dd42(0x201)](_0x23dd42(0x104))[_0x23dd42(0x8f)],_0x372526=document[_0x23dd42(0x201)](_0x23dd42(0x8c))[_0x23dd42(0x8f)],_0x4ce4e2=document['getElementById'](_0x23dd42(0x164))[_0x23dd42(0x8f)],_0x192120=document[_0x23dd42(0x201)](_0x23dd42(0x166))[_0x23dd42(0x8f)],_0x2ca02b=document[_0x23dd42(0x201)](_0x23dd42(0x130))[_0x23dd42(0x8f)],_0x2cd246=document[_0x23dd42(0x201)]('inpRecurring')[_0x23dd42(0x1ae)];let _0x75f360=0x4;if(_0x2cd246){const _0x4a9893=parseInt(document['getElementById'](_0x23dd42(0xb1))['value']);if(!_0x4a9893||_0x4a9893<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x4a9893>0x64){showToast(_0x23dd42(0xde),![]);return;}_0x75f360=_0x4a9893;}const _0x15ac5b=clients['find'](_0x5362fe=>_0x5362fe[_0x23dd42(0xf5)]===_0x213fad);if(!_0x15ac5b){showToast(_0x23dd42(0xf3),![]);return;}const _0x535219=validateAppointment(_0x372526,_0x4ce4e2,_0x192120,editingId,_0x15ac5b['id']);if(!_0x535219[_0x23dd42(0x194)]){showToast(_0x535219[_0x23dd42(0x1dd)],![]);return;}_0x535219[_0x23dd42(0xdc)]&&showToast(_0x535219[_0x23dd42(0xdc)],![]);const _0x19b741={'client':_0x213fad,'clientId':_0x15ac5b['id'],'start':_0x4ce4e2,'end':_0x192120,'note':_0x2ca02b,'status':_0x23dd42(0x19e)},_0x1260a9=editingId?sessions[_0x23dd42(0xad)](_0x5a6e70=>_0x5a6e70['id']===editingId):null;if(_0x1260a9&&_0x1260a9[_0x23dd42(0x1db)]){tempSessionData={..._0x19b741,'dateStr':_0x372526,'id':editingId,'seriesId':_0x1260a9[_0x23dd42(0x1db)]},openActionSheet(_0x23dd42(0x157));return;}let _0x3dd47d=null;if(!editingId)_0x3dd47d=_0x23dd42(0x153);else{if(_0x1260a9){if(String(_0x1260a9['clientId'])!==String(_0x15ac5b['id']))console[_0x23dd42(0x1f7)](_0x23dd42(0x110)),NotificationManager[_0x23dd42(0x179)](_0x23dd42(0x17d),_0x1260a9),_0x3dd47d=_0x23dd42(0x153);else(_0x1260a9[_0x23dd42(0x167)]!==_0x4ce4e2||_0x1260a9['end']!==_0x192120||_0x1260a9['dateStr']!==_0x372526)&&(_0x3dd47d=_0x23dd42(0x1cc));}}if(!editingId&&_0x2cd246){createBatchSeries(_0x19b741,_0x372526,_0x75f360),NotificationManager[_0x23dd42(0x179)](_0x23dd42(0x153),{..._0x19b741,'dateStr':_0x372526});return;}lastUserActionTime=Date[_0x23dd42(0xaf)]();const _0x14b49a={..._0x19b741,'dateStr':_0x372526,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x14b49a),_0x3dd47d&&NotificationManager[_0x23dd42(0x179)](_0x3dd47d,_0x14b49a);}function toggleSessionStatus(){const _0x141712=a2_0x1dda79;lastUserActionTime=Date[_0x141712(0xaf)]();const _0xf93fa=sessions[_0x141712(0xad)](_0x206425=>_0x206425['id']===editingId);if(!_0xf93fa)return;const _0x350561=_0xf93fa[_0x141712(0x119)]===_0x141712(0xb3)?'planned':_0x141712(0xb3);_0xf93fa['status']=_0x350561,saveSingleSession(_0xf93fa),_0x350561===_0x141712(0xb3)&&NotificationManager['send']('complete',_0xf93fa),showToast(_0x350561===_0x141712(0xb3)?_0x141712(0xee):_0x141712(0x128),!![]);}function validateAppointment(_0xf3302a,_0x29561c,_0xa330e5,_0x5d7fda,_0x38e336){const _0x118005=a2_0x1dda79,[_0x47c20c,_0x717756]=_0x29561c[_0x118005(0x10f)](':')[_0x118005(0xb4)](Number),[_0x12e3ff,_0x33907e]=_0xa330e5[_0x118005(0x10f)](':')['map'](Number),_0x59ae9d=_0x47c20c*0x3c+_0x717756,_0xf7ec28=_0x12e3ff*0x3c+_0x33907e,_0x247f04=String(_0x38e336);let _0x594f5c=![],_0x19ab80='';for(let _0x7769f5 of sessions){if(_0x7769f5['dateStr']!==_0xf3302a)continue;if(_0x7769f5['status']==='cancelled')continue;if(_0x5d7fda&&String(_0x7769f5['id'])===String(_0x5d7fda))continue;const [_0x458ca4,_0x54ae33]=_0x7769f5[_0x118005(0x167)][_0x118005(0x10f)](':')[_0x118005(0xb4)](Number),[_0x465f66,_0xc96af6]=_0x7769f5[_0x118005(0x1cb)][_0x118005(0x10f)](':')[_0x118005(0xb4)](Number),_0x5b9dfd=_0x458ca4*0x3c+_0x54ae33,_0x582d33=_0x465f66*0x3c+_0xc96af6;if(Math[_0x118005(0x1ab)](_0x59ae9d,_0x5b9dfd)<Math['min'](_0xf7ec28,_0x582d33)){if(_0x7769f5[_0x118005(0x115)]&&String(_0x7769f5['clientId'])===_0x247f04)return{'valid':![],'msg':_0x118005(0xe8)+_0x7769f5[_0x118005(0xcf)]+_0x118005(0x111)};_0x594f5c=!![],_0x19ab80=_0x7769f5[_0x118005(0xcf)];}}if(_0x594f5c)return{'valid':!![],'warning':_0x118005(0x1f6)+_0x19ab80};return{'valid':!![]};}function saveSingleSession(_0x361795){const _0x31aea3=a2_0x1dda79;if(editingId){const _0x49e300=sessions[_0x31aea3(0x1b7)](_0x584c2a=>_0x584c2a['id']===editingId);if(_0x49e300!==-0x1)sessions[_0x49e300]=_0x361795;}else sessions[_0x31aea3(0xfa)](_0x361795);afterSaveAction([_0x361795[_0x31aea3(0x154)]]);}function createBatchSeries(_0x7c897c,_0x20c64a,_0x5969b7){const _0xcbed67=a2_0x1dda79,_0x827a27=generateId(),_0x49c205=[],_0x3be0c2=[];let _0x1a028c=0x0,_0x3dd27c=new Date(_0x20c64a);for(let _0x446803=0x0;_0x446803<_0x5969b7;_0x446803++){const _0x49c457=getLocalDateStr(_0x3dd27c),_0x37a69f=validateAppointment(_0x49c457,_0x7c897c[_0xcbed67(0x167)],_0x7c897c[_0xcbed67(0x1cb)],null,_0x7c897c['clientId']);if(!_0x37a69f[_0xcbed67(0x194)])console['log'](_0xcbed67(0xc8)+_0x49c457+_0xcbed67(0x207)),_0x1a028c++;else{const _0x939796={..._0x7c897c,'id':generateId(),'dateStr':_0x49c457,'seriesId':_0x827a27};_0x3be0c2['push'](_0x939796),_0x49c205[_0xcbed67(0xfa)](_0x49c457);}_0x3dd27c[_0xcbed67(0xd7)](_0x3dd27c[_0xcbed67(0x1d8)]()+0x7);}if(_0x3be0c2[_0xcbed67(0xd4)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0xcbed67(0xfa)](..._0x3be0c2),lastUserActionTime=Date[_0xcbed67(0xaf)]();let _0x20c1fe=_0xcbed67(0x98)+_0x3be0c2[_0xcbed67(0xd4)];_0x1a028c>0x0&&(_0x20c1fe+=_0xcbed67(0xbb)+_0x1a028c+')'),showToast(_0x20c1fe,!![]),afterSaveAction(_0x49c205);}function updateSeriesBatch(_0x3936cc,_0x55a6fc){const _0x205886=a2_0x1dda79,_0x4987fd=[],_0x44d83a=_0x55a6fc[_0x205886(0x1db)];if(_0x3936cc===_0x205886(0xe4)){const _0x31e991={..._0x55a6fc,'seriesId':null},_0x3f91c3=sessions[_0x205886(0x1b7)](_0x405fde=>_0x405fde['id']===_0x55a6fc['id']);if(_0x3f91c3!==-0x1)sessions[_0x3f91c3]=_0x31e991;_0x4987fd[_0x205886(0xfa)](_0x31e991['dateStr']);}else{if(_0x3936cc==='series'){const _0x3cc19b=_0x55a6fc[_0x205886(0x154)];sessions['forEach']((_0x26a9ea,_0x1637b6)=>{const _0x25cc95=_0x205886;_0x26a9ea['seriesId']===_0x44d83a&&_0x26a9ea[_0x25cc95(0x154)]>=_0x3cc19b&&(sessions[_0x1637b6]={...sessions[_0x1637b6],'start':_0x55a6fc[_0x25cc95(0x167)],'end':_0x55a6fc['end'],'note':_0x55a6fc[_0x25cc95(0x1ba)],'client':_0x55a6fc[_0x25cc95(0xcf)],'clientId':_0x55a6fc['clientId']},_0x4987fd[_0x25cc95(0xfa)](_0x26a9ea[_0x25cc95(0x154)]));});}}afterSaveAction(_0x4987fd);}function tryDeleteSession(){const _0x2c324b=a2_0x1dda79,_0x406cd8=sessions[_0x2c324b(0xad)](_0x469005=>_0x469005['id']===editingId);if(!_0x406cd8)return;_0x406cd8[_0x2c324b(0x1db)]?openActionSheet('delete'):commitDelete('single',_0x406cd8);}function commitDelete(_0x38ac33,_0x5a766d){const _0x262c8e=a2_0x1dda79;lastUserActionTime=Date[_0x262c8e(0xaf)](),NotificationManager['send'](_0x262c8e(0x17d),_0x5a766d);const _0x535db2=[];if(_0x38ac33==='single')sessions=sessions['filter'](_0x341354=>_0x341354['id']!==_0x5a766d['id']),_0x535db2[_0x262c8e(0xfa)](_0x5a766d[_0x262c8e(0x154)]);else{if(_0x38ac33===_0x262c8e(0xc6)){const _0x17596c=_0x5a766d[_0x262c8e(0x154)],_0x1431fb=_0x5a766d[_0x262c8e(0x1db)];sessions[_0x262c8e(0x97)](_0x54927c=>{const _0x30047a=_0x262c8e;_0x54927c['seriesId']===_0x1431fb&&_0x54927c[_0x30047a(0x154)]>=_0x17596c&&_0x535db2['push'](_0x54927c[_0x30047a(0x154)]);}),sessions=sessions[_0x262c8e(0xa9)](_0x1ac33b=>!(_0x1ac33b[_0x262c8e(0x1db)]===_0x1431fb&&_0x1ac33b[_0x262c8e(0x154)]>=_0x17596c));}}afterSaveAction(_0x535db2);}function afterSaveAction(_0x4e512e){const _0x3f19b0=a2_0x1dda79;DataManager[_0x3f19b0(0x140)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x4e512e)[_0x3f19b0(0x8b)](()=>console[_0x3f19b0(0x1f7)](_0x3f19b0(0x117)))['catch'](_0x56246a=>showToast(_0x3f19b0(0x147),![]));}const NotificationManager={'formatDate'(_0x305765){const _0x492297=a2_0x1dda79,_0x15e521=new Date(_0x305765),_0x348069={'weekday':'long','day':_0x492297(0x1ca),'month':'long'};let _0x2c4fd1=_0x15e521[_0x492297(0xed)](_0x492297(0x13a),_0x348069);return _0x2c4fd1['charAt'](0x0)['toUpperCase']()+_0x2c4fd1[_0x492297(0x1d9)](0x1);},'getText'(_0x9d663c,_0x17d7ea){const _0x4130f3=a2_0x1dda79,_0x560c7c=this[_0x4130f3(0xc9)](_0x17d7ea[_0x4130f3(0x154)]);switch(_0x9d663c){case _0x4130f3(0x153):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x4130f3(0x12a)+_0x560c7c+'\x0a')+(_0x4130f3(0x206)+_0x17d7ea[_0x4130f3(0x167)]+_0x4130f3(0x116)+_0x17d7ea[_0x4130f3(0x1cb)]+'\x0a\x0a')+_0x4130f3(0x7b);case'update':return _0x4130f3(0x13e)+_0x4130f3(0x1bb)+(_0x4130f3(0x160)+_0x17d7ea['start']+'\x20‚Äî\x20'+_0x17d7ea[_0x4130f3(0x1cb)]+_0x4130f3(0x1c9))+(_0x4130f3(0x12a)+_0x560c7c);case _0x4130f3(0x17d):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x4130f3(0x186)+_0x560c7c+'\x20('+_0x17d7ea[_0x4130f3(0x167)]+_0x4130f3(0x1ff));case _0x4130f3(0xe2):return _0x4130f3(0x19c)+_0x4130f3(0x149)+_0x4130f3(0x92);default:return'';}},async 'send'(_0x1d0c74,_0x246e61){const _0x52cfb8=a2_0x1dda79;console['log'](_0x52cfb8(0x1fa),_0x1d0c74,_0x246e61);if(!_0x246e61){console[_0x52cfb8(0x93)](_0x52cfb8(0x103));return;}const _0x41c9b5=String(_0x246e61[_0x52cfb8(0x115)]);console['log'](_0x52cfb8(0x1e5),_0x41c9b5);if(!_0x246e61[_0x52cfb8(0x115)]||_0x41c9b5===_0x52cfb8(0x14d)||_0x41c9b5===_0x52cfb8(0x1e7)){console['error'](_0x52cfb8(0x15f));if(_0x246e61[_0x52cfb8(0xcf)]){const _0x391fc5=clients['find'](_0x1d2656=>_0x1d2656['name']===_0x246e61[_0x52cfb8(0xcf)]);if(_0x391fc5)return console[_0x52cfb8(0x1f7)](_0x52cfb8(0x108),_0x391fc5['id']),this[_0x52cfb8(0x179)](_0x1d0c74,{..._0x246e61,'clientId':_0x391fc5['id']});}return;}if(_0x41c9b5[_0x52cfb8(0xd4)]<0x5){console['warn'](_0x52cfb8(0x176),_0x41c9b5);return;}const _0x3af160=this[_0x52cfb8(0x1cd)](_0x1d0c74,_0x246e61);if(!_0x3af160){console[_0x52cfb8(0x93)](_0x52cfb8(0xdd));return;}console['log'](_0x52cfb8(0xc1)+_0x41c9b5+_0x52cfb8(0x7f)),DataManager[_0x52cfb8(0xbc)](_0x52cfb8(0xe6),{'chatId':_0x41c9b5,'text':_0x3af160})[_0x52cfb8(0x8b)](_0x36949e=>console[_0x52cfb8(0x1f7)](_0x52cfb8(0x113),_0x36949e))['catch'](_0x56fab0=>console[_0x52cfb8(0x93)](_0x52cfb8(0x1e4),_0x56fab0));}};function getLocalDateStr(_0x4dfad7){const _0x507e7b=a2_0x1dda79,_0xcad31c=_0x4dfad7[_0x507e7b(0xe0)](),_0x37196c=String(_0x4dfad7[_0x507e7b(0x16b)]()+0x1)[_0x507e7b(0x15d)](0x2,'0'),_0x2d2b2b=String(_0x4dfad7['getDate']())['padStart'](0x2,'0');return _0xcad31c+'-'+_0x37196c+'-'+_0x2d2b2b;}function getDateStr(_0x2589a2){const _0x3b25c8=a2_0x1dda79,_0x33981f=new Date();return _0x33981f['setDate'](_0x33981f[_0x3b25c8(0x1d8)]()+_0x2589a2),getLocalDateStr(_0x33981f);}function getStartOfWeek(_0x380ad0){const _0x337e4b=a2_0x1dda79,_0x44a961=new Date(_0x380ad0),_0x143dba=_0x44a961[_0x337e4b(0x1af)](),_0x3461e6=_0x44a961[_0x337e4b(0x1d8)]()-_0x143dba+(_0x143dba===0x0?-0x6:0x1);return _0x44a961[_0x337e4b(0xd7)](_0x3461e6),_0x44a961['setHours'](0x0,0x0,0x0,0x0),_0x44a961;}function hexToRgba(_0x53f81b,_0x2faeee){const _0x536811=a2_0x1dda79;if(!_0x53f81b)return'rgba(100,100,100,0.5)';let _0x51f2ed=0x0,_0x4452e6=0x0,_0x33e893=0x0;if(_0x53f81b['length']===0x4)_0x51f2ed='0x'+_0x53f81b[0x1]+_0x53f81b[0x1],_0x4452e6='0x'+_0x53f81b[0x2]+_0x53f81b[0x2],_0x33e893='0x'+_0x53f81b[0x3]+_0x53f81b[0x3];else _0x53f81b['length']===0x7&&(_0x51f2ed='0x'+_0x53f81b[0x1]+_0x53f81b[0x2],_0x4452e6='0x'+_0x53f81b[0x3]+_0x53f81b[0x4],_0x33e893='0x'+_0x53f81b[0x5]+_0x53f81b[0x6]);return _0x536811(0xf2)+ +_0x51f2ed+',\x20'+ +_0x4452e6+',\x20'+ +_0x33e893+',\x20'+_0x2faeee+')';}function renderTimeColumn(){const _0x3ec965=a2_0x1dda79,_0x58bd20=document['getElementById'](_0x3ec965(0x16a)),_0x3044bd=document[_0x3ec965(0x201)](_0x3ec965(0x1a1));_0x58bd20['innerHTML']='',_0x58bd20[_0x3ec965(0x156)](_0x3044bd);for(let _0xac51c3=0x0;_0xac51c3<0x18;_0xac51c3++){const _0x126b7f=document[_0x3ec965(0xfb)](_0x3ec965(0x11e));_0x126b7f[_0x3ec965(0x11a)]=_0x3ec965(0x12e);if(_0xac51c3>0x0)_0x126b7f[_0x3ec965(0x1f3)]=_0x3ec965(0x88)+String(_0xac51c3)['padStart'](0x2,'0')+_0x3ec965(0x1ac);_0x58bd20['appendChild'](_0x126b7f);}}function renderDayRange(_0x266b92,_0x37b6aa){const _0x592dc5=a2_0x1dda79,_0x4995ef=document['getElementById']('daysHeaderTrack'),_0x12c779=document[_0x592dc5(0x201)](_0x592dc5(0x19d)),_0x2f33a5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39c7e4=new Date();_0x39c7e4['setHours'](0x0,0x0,0x0,0x0);const _0x26e38c=getLocalDateStr(new Date());for(let _0xa644ca=_0x266b92;_0xa644ca<=_0x37b6aa;_0xa644ca++){const _0x32ddf2=new Date(_0x39c7e4);_0x32ddf2[_0x592dc5(0xd7)](_0x32ddf2['getDate']()+_0xa644ca);const _0x29d8ed=getLocalDateStr(_0x32ddf2);let _0x15cc02=_0x32ddf2[_0x592dc5(0x1af)]()-0x1;if(_0x15cc02===-0x1)_0x15cc02=0x6;const _0x90a056=_0x29d8ed===_0x26e38c,_0x15a337=document['createElement'](_0x592dc5(0x11e));_0x15a337[_0x592dc5(0x11a)]=_0x592dc5(0xe1)+(_0x90a056?_0x592dc5(0x1f2):''),_0x15a337['id']='header-'+_0x29d8ed,_0x15a337[_0x592dc5(0xc0)](_0x592dc5(0xd1),_0x29d8ed),_0x15a337[_0x592dc5(0x1f3)]=_0x592dc5(0x12d)+_0x2f33a5[_0x15cc02]+_0x592dc5(0x15c)+_0x32ddf2[_0x592dc5(0x1d8)]()+_0x592dc5(0x1b2)+_0x29d8ed+_0x592dc5(0x1aa),_0x15a337[_0x592dc5(0x1a9)]=()=>openDayOptions(_0x29d8ed,_0x2f33a5[_0x15cc02]+'\x20'+_0x32ddf2['getDate']()),_0x4995ef[_0x592dc5(0x156)](_0x15a337);const _0x1afa48=document[_0x592dc5(0xfb)](_0x592dc5(0x11e));_0x1afa48[_0x592dc5(0x11a)]=_0x592dc5(0x158)+(_0x90a056?_0x592dc5(0x1f2):''),_0x1afa48[_0x592dc5(0xc0)](_0x592dc5(0xd1),_0x29d8ed),_0x1afa48[_0x592dc5(0xc0)](_0x592dc5(0x1df),_0x15cc02),renderEventsForColumn(_0x1afa48,_0x29d8ed,_0x15cc02),attachLongPressHandler(_0x1afa48,_0x32ddf2),_0x12c779[_0x592dc5(0x156)](_0x1afa48),updateDayStats(_0x29d8ed);}}function reRenderBlocks(){const _0x122c75=a2_0x1dda79;document['querySelectorAll'](_0x122c75(0xa3))['forEach'](_0x5ce9cb=>{const _0x4fa67c=_0x122c75;_0x5ce9cb[_0x4fa67c(0x105)](_0x4fa67c(0x18e))[_0x4fa67c(0x97)](_0x4f8747=>_0x4f8747[_0x4fa67c(0x102)]());const _0x1cc5b5=_0x5ce9cb['getAttribute'](_0x4fa67c(0xd1)),_0x27e5f4=parseInt(_0x5ce9cb[_0x4fa67c(0x170)](_0x4fa67c(0x1df))),_0x2990c7=Math['round'](_0x5ce9cb['offsetLeft']);(availabilityPattern[_0x27e5f4]||[])[_0x4fa67c(0x97)](_0x125dfc=>{const _0x4a31a5=_0x4fa67c,_0x47af53=document[_0x4a31a5(0xfb)](_0x4a31a5(0x11e));_0x47af53['className']=_0x4a31a5(0x1bc);const _0xf1420d=_0x125dfc*GRID_H;_0x47af53[_0x4a31a5(0xfc)]['top']=_0xf1420d+'px',_0x47af53[_0x4a31a5(0xfc)][_0x4a31a5(0x1fc)]='-'+_0x2990c7+'px\x20-'+_0xf1420d+'px',_0x5ce9cb[_0x4a31a5(0x156)](_0x47af53);});if(specialRanges&&specialRanges[_0x4fa67c(0xd4)]>0x0){const _0x750566=new Date(_0x1cc5b5+'T00:00:00')[_0x4fa67c(0x118)](),_0x44d95f=new Date(_0x1cc5b5+_0x4fa67c(0x1b3))[_0x4fa67c(0x118)]();specialRanges[_0x4fa67c(0x97)](_0x8906f4=>{const _0xfb4915=_0x4fa67c,_0x3e5ddf=new Date(_0x8906f4[_0xfb4915(0x167)])[_0xfb4915(0x118)](),_0x587da2=new Date(_0x8906f4[_0xfb4915(0x1cb)])['getTime'](),_0x88fe2a=Math[_0xfb4915(0x1ab)](_0x750566,_0x3e5ddf),_0x315bda=Math['min'](_0x44d95f,_0x587da2);if(_0x88fe2a<_0x315bda){if(_0x88fe2a<=_0x750566&&_0x315bda>=_0x44d95f-0xea60){if(!_0x5ce9cb[_0xfb4915(0x9a)](_0xfb4915(0xfd))){const _0xaa04a=document[_0xfb4915(0xfb)]('div');_0xaa04a[_0xfb4915(0x11a)]=_0xfb4915(0x86),_0xaa04a[_0xfb4915(0xfc)][_0xfb4915(0x1fc)]='-'+_0x2990c7+_0xfb4915(0x9c),_0x5ce9cb[_0xfb4915(0x156)](_0xaa04a);}}else{const _0x2e7f79=(_0x88fe2a-_0x750566)/0x36ee80*GRID_H,_0x20f270=(_0x315bda-_0x88fe2a)/0x36ee80*GRID_H,_0x43bf25=document[_0xfb4915(0xfb)](_0xfb4915(0x11e));_0x43bf25['className']=_0xfb4915(0xb5),_0x43bf25[_0xfb4915(0xfc)][_0xfb4915(0x191)]=_0x2e7f79+'px',_0x43bf25[_0xfb4915(0xfc)][_0xfb4915(0xb9)]=_0x20f270+'px',_0x43bf25[_0xfb4915(0xfc)][_0xfb4915(0x1fc)]='-'+_0x2990c7+'px\x20-'+_0x2e7f79+'px',_0x5ce9cb[_0xfb4915(0x156)](_0x43bf25);}}});}if(dateExceptions[_0x1cc5b5]===_0x4fa67c(0xea)){if(!_0x5ce9cb[_0x4fa67c(0x9a)]('.day-off-overlay')){const _0x36df63=document['createElement'](_0x4fa67c(0x11e));_0x36df63['className']=_0x4fa67c(0x86),_0x36df63['style']['backgroundPosition']='-'+_0x2990c7+'px\x200px',_0x5ce9cb[_0x4fa67c(0x156)](_0x36df63);}}renderEventsForColumn(_0x5ce9cb,_0x1cc5b5,_0x27e5f4),updateDayStats(_0x1cc5b5);});}function a2_0x53ed(_0x5976b9,_0x113a63){_0x5976b9=_0x5976b9-0x7b;const _0x147929=a2_0xd5ba();let _0x5eb91e=_0x147929[_0x5976b9];return _0x5eb91e;}function updateAllDayStats(){const _0x43bf0a=a2_0x1dda79;document['querySelectorAll'](_0x43bf0a(0x99))[_0x43bf0a(0x97)](_0x5a067b=>{const _0x394744=_0x43bf0a;updateDayStats(_0x5a067b[_0x394744(0x170)](_0x394744(0xd1)));});}function updateDayStats(_0x17f735){const _0x25333f=a2_0x1dda79,_0x3d7072=document['getElementById'](_0x25333f(0x123)+_0x17f735);if(!_0x3d7072)return;const _0x14d975=new Date(_0x17f735);let _0x39db2c=_0x14d975['getDay']()-0x1;if(_0x39db2c===-0x1)_0x39db2c=0x6;if(dateExceptions[_0x17f735]===_0x25333f(0xea)){_0x3d7072[_0x25333f(0xfc)][_0x25333f(0x1a6)]=_0x25333f(0x177);return;}const _0x5274ac=availabilityPattern[_0x39db2c]||[],_0x9cab01=0x18-_0x5274ac[_0x25333f(0xd4)],_0x129600=_0x9cab01*0x3c,_0x1603ed=sessions[_0x25333f(0xa9)](_0x1813a9=>_0x1813a9[_0x25333f(0x154)]===_0x17f735&&_0x1813a9[_0x25333f(0x119)]!==_0x25333f(0x7d));if(_0x1603ed[_0x25333f(0xd4)]===0x0){_0x3d7072['style'][_0x25333f(0x1a6)]=_0x25333f(0x177);return;}let _0x486d15=_0x1603ed[_0x25333f(0xb4)](_0x155f7a=>{const _0x230306=_0x25333f,[_0x2ad9ea,_0xaa87e7]=_0x155f7a[_0x230306(0x167)][_0x230306(0x10f)](':')[_0x230306(0xb4)](Number),[_0xc041d2,_0x29b57f]=_0x155f7a[_0x230306(0x1cb)][_0x230306(0x10f)](':')[_0x230306(0xb4)](Number);return[_0x2ad9ea*0x3c+_0xaa87e7,_0xc041d2*0x3c+_0x29b57f];});_0x486d15[_0x25333f(0x7e)]((_0x48df0b,_0x2e0f2b)=>_0x48df0b[0x0]-_0x2e0f2b[0x0]);let _0x188654=[];if(_0x486d15[_0x25333f(0xd4)]>0x0){let _0x3a1a50=_0x486d15[0x0];for(let _0x3f837a=0x1;_0x3f837a<_0x486d15['length'];_0x3f837a++){_0x486d15[_0x3f837a][0x0]<_0x3a1a50[0x1]?_0x3a1a50[0x1]=Math[_0x25333f(0x1ab)](_0x3a1a50[0x1],_0x486d15[_0x3f837a][0x1]):(_0x188654[_0x25333f(0xfa)](_0x3a1a50),_0x3a1a50=_0x486d15[_0x3f837a]);}_0x188654[_0x25333f(0xfa)](_0x3a1a50);}let _0x30b450=0x0;_0x188654[_0x25333f(0x97)](_0x1586e1=>_0x30b450+=_0x1586e1[0x1]-_0x1586e1[0x0]),_0x3d7072[_0x25333f(0xfc)][_0x25333f(0x1a6)]=_0x25333f(0x9f);const _0x499ea5=_0x3d7072[_0x25333f(0x9a)](_0x25333f(0x15e));if(_0x129600===0x0){_0x499ea5[_0x25333f(0xfc)][_0x25333f(0x132)]=_0x25333f(0x135),_0x499ea5['style'][_0x25333f(0x1e3)]=_0x25333f(0x1a8);return;}const _0x289a07=_0x30b450/_0x129600*0x64;console['log']('['+_0x17f735+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x9cab01+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x30b450+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x289a07[_0x25333f(0x1f1)](0x1)+'%'),_0x289a07>0x64?(_0x499ea5[_0x25333f(0xfc)][_0x25333f(0x132)]=_0x25333f(0x135),_0x499ea5[_0x25333f(0xfc)][_0x25333f(0x1e3)]=_0x25333f(0x1a8)):(_0x499ea5[_0x25333f(0xfc)][_0x25333f(0x132)]=_0x289a07+'%',_0x499ea5[_0x25333f(0xfc)][_0x25333f(0x1e3)]=_0x25333f(0x1b9));}function renderEventsForColumn(_0x58922c,_0x159b1d,_0x30e899){const _0x126d0e=a2_0x1dda79,_0x5eee3a=sessions['filter'](_0x9fb6b2=>_0x9fb6b2['dateStr']===_0x159b1d),_0x14f2ff=_0x5eee3a['map'](_0x274505=>{const _0xa9401=a2_0x53ed,[_0x2bb0c2,_0x3417b3]=_0x274505[_0xa9401(0x167)]['split'](':')[_0xa9401(0xb4)](Number),[_0x49d781,_0x3a971f]=_0x274505[_0xa9401(0x1cb)]['split'](':')['map'](Number);return{'data':_0x274505,'start':_0x2bb0c2*0x3c+_0x3417b3,'end':_0x49d781*0x3c+_0x3a971f,'colIndex':0x0};});_0x14f2ff[_0x126d0e(0x7e)]((_0x19ff67,_0x36f011)=>{const _0x1c4805=_0x126d0e;if(_0x19ff67[_0x1c4805(0x167)]!==_0x36f011['start'])return _0x19ff67[_0x1c4805(0x167)]-_0x36f011['start'];return _0x36f011[_0x1c4805(0x1cb)]-_0x36f011[_0x1c4805(0x167)]-(_0x19ff67[_0x1c4805(0x1cb)]-_0x19ff67['start']);});const _0x48fdf8=[];_0x14f2ff[_0x126d0e(0x97)](_0x50ecb6=>{const _0x374168=_0x126d0e;let _0x24ceeb=![];for(let _0x285b61=0x0;_0x285b61<_0x48fdf8['length'];_0x285b61++){const _0x20ab9b=_0x48fdf8[_0x285b61],_0x250578=_0x20ab9b[_0x20ab9b[_0x374168(0xd4)]-0x1];if(_0x50ecb6['start']>=_0x250578[_0x374168(0x1cb)]){_0x20ab9b['push'](_0x50ecb6),_0x50ecb6[_0x374168(0x1d2)]=_0x285b61,_0x24ceeb=!![];break;}}!_0x24ceeb&&(_0x48fdf8[_0x374168(0xfa)]([_0x50ecb6]),_0x50ecb6[_0x374168(0x1d2)]=_0x48fdf8[_0x374168(0xd4)]-0x1);}),_0x14f2ff['forEach'](_0x266d24=>{const _0x2477c5=_0x126d0e;let _0x2679b7=0x0;_0x14f2ff[_0x2477c5(0x97)](_0x4b7c8a=>{const _0x3e77a5=_0x2477c5;if(Math[_0x3e77a5(0x1ab)](_0x266d24[_0x3e77a5(0x167)],_0x4b7c8a[_0x3e77a5(0x167)])<Math['min'](_0x266d24[_0x3e77a5(0x1cb)],_0x4b7c8a['end'])){if(_0x4b7c8a['colIndex']>_0x2679b7)_0x2679b7=_0x4b7c8a[_0x3e77a5(0x1d2)];}});const _0x3d40c2=_0x2679b7+0x1,_0xbb2fb7=0x64/_0x3d40c2,_0x1fcc36=_0x266d24[_0x2477c5(0x1d2)]*_0xbb2fb7,_0x13bfee=createEventEl(_0x266d24[_0x2477c5(0x14a)]);_0x13bfee[_0x2477c5(0xfc)]['width']='calc('+_0xbb2fb7+_0x2477c5(0x145),_0x13bfee[_0x2477c5(0xfc)][_0x2477c5(0x1d7)]='calc('+_0x1fcc36+'%\x20+\x202px)',_0x13bfee[_0x2477c5(0xfc)][_0x2477c5(0x1ee)]=0xa+_0x266d24[_0x2477c5(0x1d2)],_0xbb2fb7<0x55&&_0x13bfee[_0x2477c5(0x150)][_0x2477c5(0xc3)](_0x2477c5(0xe7)),_0x58922c['appendChild'](_0x13bfee);});}function createEventEl(_0x516d65){const _0x2fcf9f=a2_0x1dda79,[_0x412089,_0x23e94e]=_0x516d65[_0x2fcf9f(0x167)][_0x2fcf9f(0x10f)](':')[_0x2fcf9f(0xb4)](Number),[_0x22f750,_0x280889]=_0x516d65[_0x2fcf9f(0x1cb)][_0x2fcf9f(0x10f)](':')['map'](Number),_0x24e41c=(_0x412089*0x3c+_0x23e94e)/0x3c*GRID_H,_0x5818de=(_0x22f750*0x3c+_0x280889-(_0x412089*0x3c+_0x23e94e))/0x3c*GRID_H,_0x12efff=document[_0x2fcf9f(0xfb)](_0x2fcf9f(0x11e)),_0x14321c=_0x516d65['status']===_0x2fcf9f(0xb3)?_0x2fcf9f(0x151):'';_0x12efff[_0x2fcf9f(0x11a)]=_0x2fcf9f(0x12c)+_0x14321c,_0x12efff['style'][_0x2fcf9f(0x191)]=_0x24e41c+'px',_0x12efff['style'][_0x2fcf9f(0xb9)]=Math['max'](_0x5818de,0x14)+'px';const _0x1038eb=clients[_0x2fcf9f(0xad)](_0xffdf39=>_0x516d65[_0x2fcf9f(0x115)]&&String(_0xffdf39['id'])===String(_0x516d65[_0x2fcf9f(0x115)])||_0xffdf39[_0x2fcf9f(0xf5)]===_0x516d65[_0x2fcf9f(0xcf)]),_0x382b6d=_0x1038eb?_0x1038eb['color']:_0x2fcf9f(0x11d);_0x12efff[_0x2fcf9f(0xfc)][_0x2fcf9f(0x16d)]=_0x382b6d,_0x12efff[_0x2fcf9f(0xfc)][_0x2fcf9f(0xa1)]=hexToRgba(_0x382b6d,0.85);let _0x10331e=_0x2fcf9f(0x17c)+_0x516d65[_0x2fcf9f(0xcf)]+'</div><div\x20class=\x22ev-time\x22>'+_0x516d65[_0x2fcf9f(0x167)]+_0x2fcf9f(0xfe)+_0x516d65[_0x2fcf9f(0x1cb)]+_0x2fcf9f(0x161);return _0x516d65[_0x2fcf9f(0x1db)]&&(_0x10331e+=_0x2fcf9f(0x1ad)),_0x516d65['status']===_0x2fcf9f(0xb3)&&(_0x10331e+=_0x2fcf9f(0x180)),_0x12efff[_0x2fcf9f(0x1f3)]=_0x10331e,_0x12efff['onclick']=_0x493192=>{const _0x489514=_0x2fcf9f;_0x493192[_0x489514(0x94)](),openEdit(_0x516d65);},_0x12efff;}function attachLongPressHandler(_0x2fecc5,_0x4417eb){const _0x2d1026=a2_0x1dda79;let _0x267cfe=0x0,_0x4e91fa=null;const _0x4a4f3e=_0x2cd9d6=>{const _0x278a09=a2_0x53ed;if(_0x2cd9d6[_0x278a09(0xbe)][_0x278a09(0x202)](_0x278a09(0x1bf)))return;isScrolling=![],_0x267cfe=_0x2cd9d6[_0x278a09(0x19a)]?_0x2cd9d6['touches'][0x0]['clientY']:_0x2cd9d6[_0x278a09(0xa0)],_0x4e91fa=setTimeout(()=>{const _0x3d9322=_0x278a09;if(!isScrolling){navigator[_0x3d9322(0x1f5)]?.(0x32);const _0x51e77f=_0x2fecc5[_0x3d9322(0x1b6)](),_0x128ec7=Math[_0x3d9322(0xba)]((_0x267cfe-_0x51e77f['top'])/GRID_H);_0x4417eb[_0x3d9322(0xa7)](_0x128ec7,0x0),openAddSession(_0x4417eb);}},0x1f4);},_0x28ec53=()=>{isScrolling=!![],clearTimeout(_0x4e91fa);},_0x2d93a9=()=>{clearTimeout(_0x4e91fa);};_0x2fecc5[_0x2d1026(0x107)]('touchstart',_0x4a4f3e,{'passive':!![]}),_0x2fecc5['addEventListener']('touchmove',_0x28ec53,{'passive':!![]}),_0x2fecc5['addEventListener'](_0x2d1026(0x1a7),_0x2d93a9),_0x2fecc5[_0x2d1026(0x107)](_0x2d1026(0xe5),_0x4a4f3e),_0x2fecc5[_0x2d1026(0x107)](_0x2d1026(0x1b0),_0x28ec53),_0x2fecc5[_0x2d1026(0x107)](_0x2d1026(0x169),_0x2d93a9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x471a15=a2_0x1dda79,_0x2f23e9=document[_0x471a15(0x201)](_0x471a15(0x124)),_0x4539f6=_0x2f23e9[_0x471a15(0x1fb)],_0x88c340=_0x2f23e9[_0x471a15(0x9b)],_0x3462d3=_0x2f23e9['clientWidth'];if(_0x88c340-(_0x4539f6+_0x3462d3)<0x12c){const _0x5ed457=endOffset;endOffset+=0xe,renderDayRange(_0x5ed457+0x1,endOffset),reRenderBlocks();}if(_0x4539f6<0x12c){const _0x3a0113=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3a0113-0x1),_0x2f23e9[_0x471a15(0x1fb)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x191406,_0x1262d0){const _0x59f7bd=a2_0x1dda79,_0x3f1c32=document[_0x59f7bd(0x201)](_0x59f7bd(0x184)),_0x302583=document[_0x59f7bd(0x201)]('gridColumns'),_0x1c2a70=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x27e84e=new Date();_0x27e84e[_0x59f7bd(0xa7)](0x0,0x0,0x0,0x0);const _0x5243e9=getLocalDateStr(new Date()),_0x4578f2=document['createDocumentFragment'](),_0x64e4ba=document[_0x59f7bd(0x1d5)]();for(let _0x303970=_0x191406;_0x303970<=_0x1262d0;_0x303970++){const _0x5f1141=new Date(_0x27e84e);_0x5f1141['setDate'](_0x5f1141[_0x59f7bd(0x1d8)]()+_0x303970);const _0x51a133=getLocalDateStr(_0x5f1141);let _0x3bc7f2=_0x5f1141[_0x59f7bd(0x1af)]()-0x1;if(_0x3bc7f2===-0x1)_0x3bc7f2=0x6;const _0x2158b4=_0x51a133===_0x5243e9,_0x2d7c42=document[_0x59f7bd(0xfb)]('div');_0x2d7c42[_0x59f7bd(0x11a)]='day-col-header\x20'+(_0x2158b4?_0x59f7bd(0x1f2):''),_0x2d7c42['id']=_0x59f7bd(0x1c6)+_0x51a133,_0x2d7c42['setAttribute']('data-date',_0x51a133),_0x2d7c42[_0x59f7bd(0x1f3)]='<div\x20class=\x22dch-day\x22>'+_0x1c2a70[_0x3bc7f2]+_0x59f7bd(0x15c)+_0x5f1141[_0x59f7bd(0x1d8)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x51a133+_0x59f7bd(0x1aa),_0x2d7c42[_0x59f7bd(0x1a9)]=()=>openDayOptions(_0x51a133,_0x1c2a70[_0x3bc7f2]+'\x20'+_0x5f1141['getDate']()),_0x4578f2[_0x59f7bd(0x156)](_0x2d7c42);const _0x3c5bc5=document[_0x59f7bd(0xfb)](_0x59f7bd(0x11e));_0x3c5bc5[_0x59f7bd(0x11a)]=_0x59f7bd(0x158)+(_0x2158b4?'today':''),_0x3c5bc5[_0x59f7bd(0xc0)]('data-date',_0x51a133),_0x3c5bc5[_0x59f7bd(0xc0)](_0x59f7bd(0x1df),_0x3bc7f2),renderEventsForColumn(_0x3c5bc5,_0x51a133,_0x3bc7f2),attachLongPressHandler(_0x3c5bc5,_0x5f1141),_0x64e4ba[_0x59f7bd(0x156)](_0x3c5bc5),updateDayStats(_0x51a133);}_0x3f1c32[_0x59f7bd(0x13b)](_0x4578f2,_0x3f1c32[_0x59f7bd(0xef)]),_0x302583[_0x59f7bd(0x13b)](_0x64e4ba,_0x302583[_0x59f7bd(0x9a)]('.day-column'));}function validateAppointment(_0x8aa586,_0x175817,_0x47203d,_0x338503,_0x458d51){const _0x1ec0ee=a2_0x1dda79,[_0x692307,_0x8776a0]=_0x175817[_0x1ec0ee(0x10f)](':')[_0x1ec0ee(0xb4)](Number),[_0x40706d,_0x451616]=_0x47203d[_0x1ec0ee(0x10f)](':')['map'](Number),_0x125f06=_0x692307*0x3c+_0x8776a0,_0x139fbb=_0x40706d*0x3c+_0x451616,_0xea45e5=String(_0x458d51);let _0x1e9d31=![],_0x39c4c3='';for(let _0x2f77e1 of sessions){if(_0x2f77e1['dateStr']!==_0x8aa586)continue;if(_0x2f77e1[_0x1ec0ee(0x119)]==='cancelled')continue;if(_0x338503&&String(_0x2f77e1['id'])===String(_0x338503))continue;const [_0x24142f,_0x35f1de]=_0x2f77e1['start'][_0x1ec0ee(0x10f)](':')[_0x1ec0ee(0xb4)](Number),[_0x241802,_0x2d9e1a]=_0x2f77e1[_0x1ec0ee(0x1cb)][_0x1ec0ee(0x10f)](':')[_0x1ec0ee(0xb4)](Number),_0x194633=_0x24142f*0x3c+_0x35f1de,_0x461d24=_0x241802*0x3c+_0x2d9e1a;if(Math[_0x1ec0ee(0x1ab)](_0x125f06,_0x194633)<Math[_0x1ec0ee(0x1a0)](_0x139fbb,_0x461d24)){if(_0x2f77e1[_0x1ec0ee(0x115)]&&String(_0x2f77e1[_0x1ec0ee(0x115)])===_0xea45e5)return{'valid':![],'msg':_0x1ec0ee(0xe8)+_0x2f77e1[_0x1ec0ee(0xcf)]+_0x1ec0ee(0x111)};_0x1e9d31=!![],_0x39c4c3=_0x2f77e1[_0x1ec0ee(0xcf)];}}if(_0x1e9d31)return{'valid':!![],'warning':_0x1ec0ee(0x1f6)+_0x39c4c3};return{'valid':!![]};}function updateDateDisplay(){const _0x337bc2=a2_0x1dda79,_0x3739e2=document['getElementById']('inpDate')[_0x337bc2(0x8f)],_0x32b264=document[_0x337bc2(0x201)](_0x337bc2(0x1e9));if(!_0x3739e2){_0x32b264[_0x337bc2(0x1c7)]='';return;}const [_0x1f442d,_0x1c5b0b,_0x58694c]=_0x3739e2[_0x337bc2(0x10f)]('-')['map'](Number),_0x28ae41=new Date(_0x1f442d,_0x1c5b0b-0x1,_0x58694c),_0x352072={'weekday':_0x337bc2(0x96),'day':_0x337bc2(0x1ca),'month':_0x337bc2(0x96),'year':_0x337bc2(0x1ca)};let _0x89ba47=_0x28ae41[_0x337bc2(0xed)]('ru-RU',_0x352072);_0x89ba47=_0x89ba47['charAt'](0x0)[_0x337bc2(0x12b)]()+_0x89ba47[_0x337bc2(0x1d9)](0x1),_0x32b264[_0x337bc2(0x1c7)]=_0x89ba47;}function autoSetEndTime(){const _0x3be3c9=a2_0x1dda79,_0x33154d=document[_0x3be3c9(0x201)](_0x3be3c9(0x164))[_0x3be3c9(0x8f)];if(!_0x33154d)return;const [_0x40ea7f,_0x3687f5]=_0x33154d[_0x3be3c9(0x10f)](':')[_0x3be3c9(0xb4)](Number);let _0x4a616f=_0x40ea7f+0x1;if(_0x4a616f>0x17)_0x4a616f=0x0;const _0x414ca2=String(_0x4a616f)[_0x3be3c9(0x15d)](0x2,'0')+':'+String(_0x3687f5)[_0x3be3c9(0x15d)](0x2,'0');document[_0x3be3c9(0x201)](_0x3be3c9(0x166))[_0x3be3c9(0x8f)]=_0x414ca2;}function populateClientSelect(){const _0x3beada=a2_0x1dda79,_0x4a0e92=document['getElementById'](_0x3beada(0x104));_0x4a0e92[_0x3beada(0x1f3)]='';if(clients['length']===0x0){const _0x108206=document[_0x3beada(0xfb)](_0x3beada(0x10e));_0x108206[_0x3beada(0x142)]=_0x3beada(0x1da),_0x4a0e92[_0x3beada(0x156)](_0x108206);return;}clients['forEach'](_0x283093=>{const _0xe4ba54=_0x3beada,_0x1fc602=document[_0xe4ba54(0xfb)](_0xe4ba54(0x10e));_0x1fc602['value']=_0x283093['name'],_0x1fc602[_0xe4ba54(0x1c7)]=_0x283093[_0xe4ba54(0xf5)],_0x4a0e92['appendChild'](_0x1fc602);});}function openActionSheet(_0x56d7f8){const _0x279095=a2_0x1dda79,_0x51426b=document['getElementById'](_0x279095(0xb7)),_0x3255fa=document[_0x279095(0x201)]('actionSheetOverlay'),_0x538f2d=document[_0x279095(0x201)](_0x279095(0xf4)),_0x3d62e8=document[_0x279095(0x201)](_0x279095(0xce)),_0xae0060=document[_0x279095(0x201)](_0x279095(0xf0));_0x3255fa['classList'][_0x279095(0xc3)](_0x279095(0x19b)),_0x51426b[_0x279095(0x150)][_0x279095(0xc3)]('open');if(_0x56d7f8===_0x279095(0x157))_0x538f2d['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3d62e8['textContent']=_0x279095(0x1d0),_0x3d62e8['onclick']=()=>{const _0xca401e=_0x279095;closeActionSheet(),updateSeriesBatch(_0xca401e(0xe4),tempSessionData);},_0xae0060[_0x279095(0x1c7)]=_0x279095(0x13f),_0xae0060[_0x279095(0x1a9)]=()=>{const _0x3e0316=_0x279095;closeActionSheet(),updateSeriesBatch(_0x3e0316(0xc6),tempSessionData);};else _0x56d7f8==='delete'&&(_0x538f2d[_0x279095(0x1c7)]=_0x279095(0x188),_0x3d62e8[_0x279095(0x1c7)]=_0x279095(0x1d0),_0x3d62e8[_0x279095(0x11a)]=_0x279095(0xaa),_0x3d62e8[_0x279095(0x1a9)]=()=>{const _0x52f6bd=_0x279095;closeActionSheet(),commitDelete(_0x52f6bd(0xe4),sessions['find'](_0x4d8ef7=>_0x4d8ef7['id']===editingId));},_0xae0060[_0x279095(0x1c7)]=_0x279095(0x13f),_0xae0060[_0x279095(0x11a)]=_0x279095(0x178),_0xae0060[_0x279095(0x1a9)]=()=>{const _0x4a33a2=_0x279095;closeActionSheet(),commitDelete(_0x4a33a2(0xc6),sessions[_0x4a33a2(0xad)](_0x3b07d1=>_0x3b07d1['id']===editingId));});}function closeActionSheet(){const _0x2bee6b=a2_0x1dda79;document[_0x2bee6b(0x201)](_0x2bee6b(0xb7))['classList'][_0x2bee6b(0x102)]('open'),document[_0x2bee6b(0x201)](_0x2bee6b(0x173))[_0x2bee6b(0x150)]['remove'](_0x2bee6b(0x19b));}function openSettings(){const _0x327e83=a2_0x1dda79;openSheet(_0x327e83(0x114));}function saveCoachSettings(){const _0x32d398=a2_0x1dda79,_0x47b0ee=document[_0x32d398(0x201)]('settingCancelWindow')[_0x32d398(0x8f)];localStorage['setItem']('uc_settings_cancel_window',_0x47b0ee),console[_0x32d398(0x1f7)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x47b0ee),DataManager[_0x32d398(0xbc)](_0x32d398(0x112),{'settings':{'cancel_window':_0x47b0ee}})[_0x32d398(0x17b)](_0x17f58f=>{const _0x5209a2=_0x32d398;console[_0x5209a2(0x93)]('Save\x20settings\x20error:',_0x17f58f),showToast(_0x5209a2(0x171),![]);});}function loadCoachSettings(){const _0x202c78=a2_0x1dda79,_0x21fdfa=localStorage['getItem'](_0x202c78(0x129));_0x21fdfa&&(document[_0x202c78(0x201)](_0x202c78(0x15b))[_0x202c78(0x8f)]=_0x21fdfa);}function openRangesSheet(){const _0x35be17=a2_0x1dda79;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x35be17(0x146));}function addRange(){const _0x42ef25=a2_0x1dda79,_0x32f623=document[_0x42ef25(0x201)](_0x42ef25(0xa5))['value'],_0x3afc35=document[_0x42ef25(0x201)]('rangeStartTime')['value'],_0x2c35cb=document[_0x42ef25(0x201)](_0x42ef25(0xf8))[_0x42ef25(0x8f)],_0x27b270=document['getElementById'](_0x42ef25(0xcc))[_0x42ef25(0x8f)];if(!_0x32f623||!_0x3afc35||!_0x2c35cb||!_0x27b270)return alert(_0x42ef25(0x192));const _0x3927e2=_0x32f623+'T'+_0x3afc35,_0x5acba7=_0x2c35cb+'T'+_0x27b270;if(_0x3927e2>=_0x5acba7)return alert(_0x42ef25(0x1de));specialRanges[_0x42ef25(0xfa)]({'start':_0x3927e2,'end':_0x5acba7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x42ef25(0x140)](),DataManager[_0x42ef25(0xbc)](_0x42ef25(0x112),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x511d28){const _0x3a0f6a=a2_0x1dda79;specialRanges['splice'](_0x511d28,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3a0f6a(0x140)](),DataManager[_0x3a0f6a(0xbc)](_0x3a0f6a(0x112),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x263373=a2_0x1dda79;document['getElementById']('rangeStartDate')[_0x263373(0x8f)]='',document[_0x263373(0x201)](_0x263373(0x8e))[_0x263373(0x8f)]=_0x263373(0x100),document[_0x263373(0x201)](_0x263373(0xf8))['value']='',document['getElementById'](_0x263373(0xcc))['value']=_0x263373(0x10b);}function renderRangesList(){const _0x23eb5b=a2_0x1dda79,_0x3e473b=document[_0x23eb5b(0x201)]('rangesList');_0x3e473b['innerHTML']='';if(!specialRanges['length']){_0x3e473b[_0x23eb5b(0x1f3)]=_0x23eb5b(0x183);return;}specialRanges[_0x23eb5b(0x97)]((_0x66628e,_0x1573f5)=>{const _0x2a0793=_0x23eb5b,_0x1ee17e=document[_0x2a0793(0xfb)](_0x2a0793(0x11e));_0x1ee17e[_0x2a0793(0x11a)]=_0x2a0793(0x1bd);const _0x196d44=_0x59227b=>{const _0x6b1d0d=_0x2a0793,_0x4b8ef2=new Date(_0x59227b);return _0x4b8ef2[_0x6b1d0d(0x1d8)]()+'.'+String(_0x4b8ef2[_0x6b1d0d(0x16b)]()+0x1)[_0x6b1d0d(0x15d)](0x2,'0')+'\x20'+String(_0x4b8ef2['getHours']())[_0x6b1d0d(0x15d)](0x2,'0')+':'+String(_0x4b8ef2[_0x6b1d0d(0x1b8)]())[_0x6b1d0d(0x15d)](0x2,'0');};_0x1ee17e[_0x2a0793(0x1f3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x196d44(_0x66628e[_0x2a0793(0x167)])+_0x2a0793(0x116)+_0x196d44(_0x66628e[_0x2a0793(0x1cb)])+_0x2a0793(0xff)+_0x1573f5+_0x2a0793(0xd5),_0x3e473b['appendChild'](_0x1ee17e);});}function scrollToToday(){const _0xeda84d=a2_0x1dda79,_0x55f311=getLocalDateStr(new Date()),_0x1936f8=document[_0xeda84d(0x201)](_0xeda84d(0x1c6)+_0x55f311),_0x504701=document[_0xeda84d(0x201)](_0xeda84d(0x124));if(_0x1936f8&&_0x504701){const _0xb8ec87=_0x504701[_0xeda84d(0xbd)],_0x2b0b4a=_0x1936f8['offsetLeft'],_0x3bced4=_0x1936f8[_0xeda84d(0xdb)];_0x504701[_0xeda84d(0x1fb)]=_0x2b0b4a-_0xb8ec87/0x2+_0x3bced4/0x2,_0x504701['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x245a1=a2_0x1dda79,_0x1724f9=document['getElementById'](_0x245a1(0x124)),_0x476d45=document[_0x245a1(0x105)](_0x245a1(0x99));for(let _0x56941b of _0x476d45)if(_0x56941b[_0x245a1(0x80)]>=_0x1724f9['scrollLeft']){const _0x15bf9f=new Date(_0x56941b[_0x245a1(0x170)](_0x245a1(0xd1)));document[_0x245a1(0x201)](_0x245a1(0x16e))['textContent']=_0x15bf9f['toLocaleString']('ru',{'month':'long'})[_0x245a1(0x12b)]()+'\x20'+_0x15bf9f[_0x245a1(0xe0)]();break;}}function showToast(_0x12073b,_0x13d949=![]){const _0x46a670=a2_0x1dda79,_0x71e8b0=document[_0x46a670(0x201)](_0x46a670(0x1a3));_0x71e8b0[_0x46a670(0x11a)]=_0x46a670(0x1ed)+(_0x13d949?_0x46a670(0xda):''),document[_0x46a670(0x201)]('toastTitle')[_0x46a670(0x1c7)]=_0x13d949?_0x46a670(0x9d):_0x46a670(0x11c),document[_0x46a670(0x201)](_0x46a670(0x159))[_0x46a670(0x1c7)]=_0x12073b,_0x71e8b0[_0x46a670(0x150)]['add'](_0x46a670(0x16f)),setTimeout(()=>{const _0x3f69f9=_0x46a670;_0x71e8b0['classList'][_0x3f69f9(0x102)](_0x3f69f9(0x16f));},0xbb8);}function openDayOptions(_0x1988d8,_0x4ddeb3){const _0x56e38d=a2_0x1dda79;selectedDayForOptions=_0x1988d8,document['getElementById'](_0x56e38d(0x1b5))[_0x56e38d(0x1c7)]=_0x4ddeb3,openSheet(_0x56e38d(0xb8));}function toggleDayOff(){const _0x1caa8a=a2_0x1dda79;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x1caa8a(0xbc)](_0x1caa8a(0x112),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x471468=a2_0x1dda79;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x471468(0x112),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xd41e4a){const _0x10a2f9=a2_0x1dda79;document['getElementById']('overlay')['classList'][_0x10a2f9(0xc3)]('active'),document['getElementById'](_0xd41e4a)[_0x10a2f9(0x150)][_0x10a2f9(0xc3)](_0x10a2f9(0x18c));}function closeAllSheets(){const _0x1b4069=a2_0x1dda79;document[_0x1b4069(0x201)](_0x1b4069(0xac))[_0x1b4069(0x150)][_0x1b4069(0x102)](_0x1b4069(0x19b)),document[_0x1b4069(0x105)](_0x1b4069(0x134))[_0x1b4069(0x97)](_0x73684b=>_0x73684b[_0x1b4069(0x150)][_0x1b4069(0x102)](_0x1b4069(0x18c)));}function a2_0xd5ba(){const _0x5b4af7=['var(--acc-current)','note','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','blocked-slot\x20stripe-bg','range-item','charAt','.event-card','sheetTitle','10px','patternInfoBox','doEventsList','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',':00','header-','textContent','ready','</b>\x0a\x0a','numeric','end','update','getText','de-item','anDonutCircle','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','seriesCountContainer','colIndex','href','Error\x20setting\x20back\x20button:','createDocumentFragment','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','getDate','slice','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','seriesId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msg','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','data-day-idx','includes','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Local\x20Load\x20Error','background','[Notify]\x20Network\x20Failed','[Notify]\x20Detected\x20Client\x20ID:','Local\x20Save\x20Error','null','79320eDKRxg','sheetDateSubtitle','.pib-text','btn-status-toggle','4954656vNiaSk','toast-notification\x20','zIndex','7442142VhLsYm','686280poXvgH','toFixed','today','innerHTML','v9.0-BATCH-CALENDAR','vibrate','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','log','3619OzFWHo','strokeDashoffset','[Notify]\x20Attempting\x20to\x20send:','scrollLeft','backgroundPosition','analyticsSheet','toString',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','POST','getElementById','closest','setBackgroundColor','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','pe-col-header','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20',':\x20Client\x20already\x20booked','batch_sync','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','all','cancelled','sort','...','offsetLeft','exceptions','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','(((.+)+)+)+$','stringify','color','day-off-overlay\x20stripe-bg','Telegram','<span>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','warn','then','inpDate','round','rangeStartTime','value','</span>\x20/\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','error','stopPropagation','btnDelete','long','forEach','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','.day-col-header','querySelector','scrollWidth','px\x200px','–£—Å–ø–µ—à–Ω–æ','statLoadCard','flex','clientY','backgroundColor','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','#gridColumns\x20.day-column','localeCompare','rangeStartDate','Unknown','setHours','constructor','filter','as-button\x20danger','Error\x20setting\x20color:','overlay','find','disableVerticalSwipes','now','week','inpSeriesCount','btn-primary\x20btn-danger','completed','map','blocked-range-part\x20stripe-bg','[Sync]\x20Loading\x20','actionSheet','dayOptionsSheet','height','floor','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','fetchFromServer','clientWidth','target','setMonth','setAttribute','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','btnStatusToggle','add','[API\x20','custom','series','inpRecurring','[Series]\x20Skipped\x20','formatDate','guest','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','rangeEndTime','#050505','asBtnOne','client','btnDayToggle','data-date','anTotalStats','init_load','length',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','rgba(255,\x2069,\x2058,\x200.15)','setDate','sessionSheet','rgba(48,\x20209,\x2088,\x200.15)','success','offsetWidth','warning','[Notify]\x20Error:\x20Text\x20generation\x20failed','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','var(--acc-green)','getFullYear','day-col-header\x20','complete','calendar','single','mousedown','send_notification','mini','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','indexOf','off','.period-switch\x20.p-btn','getItem','toLocaleDateString','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','firstChild','asBtnSeries','onClick','rgba(','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','asTitle','name','done','cancel_window','rangeEndDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','push','createElement','style','.day-off-overlay','\x20-\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','00:00','543888DQeCQa','remove','[Notify]\x20Error:\x20sessionData\x20is\x20null','inpClient','querySelectorAll','getHours','addEventListener','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','router.html','uc_settings_v9','23:59','setHeaderColor','btn-primary\x20btn-secondary','option','split','[Notify]\x20Client\x20SWAP\x20detected',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','save_settings','[Notify]\x20Server\x20Response:','settingsSheet','clientId','\x20‚Äî\x20','Batch\x20Sync\x20OK','getTime','status','className','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–ò–Ω—Ñ–æ','#0a84ff','div','anStart','DOMContentLoaded','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','ranges','stat-','matrixViewport',']\x20Failed:','pe-time-label','borderRadius','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','uc_settings_cancel_window','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','toUpperCase','event-card','<div\x20class=\x22dch-day\x22>','time-label','substr','inpNote','7457825gwzmTO','width','#fff','.sheet','100%','rgba(255,\x20159,\x2010,\x200.3)','block','recurringOptionContainer','var(--acc-orange)','ru-RU','insertBefore','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','apply','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','saveLocally','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','text','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','WebApp','%\x20-\x204px)','rangesSheet','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','search','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','data','rgba(255,\x2069,\x2058,\x200.3)','btn-status-toggle\x20undo-mode','undefined','offClick','pattern','classList','\x20status-completed','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','create','dateStr','borderColor','appendChild','save','day-column\x20','toastMessage','doDateHeader','settingCancelWindow','</div><div\x20class=\x22dch-num\x22>','padStart','.dch-stats-fill','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','<b>‚úÖ\x20','</div>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','inpStart','keys','inpEnd','start','anCustomDates','mouseup','timeColumn','getMonth','initData','borderLeftColor','headerMonth','show','getAttribute','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','592446PLRqxB','actionSheetOverlay','total','anEnd','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','none','as-button\x20danger\x20bold','send','BackButton','catch','<div\x20class=\x22ev-title\x22>','cancel','Critical\x20TMA\x20Error:','doWorkHours','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','peGrid','parse','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','daysHeaderTrack','Server\x20Error','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','json','–£–¥–∞–ª–µ–Ω–∏–µ','patternEditor','uc_clients_v9','px\x20-','open','setItem','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','top','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','mergeServerData','valid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','clients','settings','initDataUnsafe','touches','active','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','gridColumns','planned','isArray','min','timeLineBadge','syncLoad','toast','splice','\x20days','display','touchend','var(--acc-red)','onclick','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','max',':00</span>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','checked','getDay','mousemove','expand','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','T23:59:59','pe-cell\x20','dayOptionsTitle','getBoundingClientRect','findIndex','getMinutes'];a2_0xd5ba=function(){return _0x5b4af7;};return a2_0xd5ba();}function openPatternEditor(){const _0x4a6855=a2_0x1dda79;closeAllSheets(),document['getElementById']('patternEditor')[_0x4a6855(0x150)][_0x4a6855(0xc3)](_0x4a6855(0x18c)),renderPatternEditor();}function closePatternEditor(){const _0x53d612=a2_0x1dda79;document[_0x53d612(0x201)](_0x53d612(0x189))[_0x53d612(0x150)][_0x53d612(0x102)](_0x53d612(0x18c));}function savePattern(){const _0x3c6603=a2_0x1dda79;document[_0x3c6603(0x201)](_0x3c6603(0x189))[_0x3c6603(0x150)][_0x3c6603(0x102)](_0x3c6603(0x18c)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x3c6603(0xbc)](_0x3c6603(0x112),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3076e5=a2_0x1dda79,_0x33d85a=document[_0x3076e5(0x201)](_0x3076e5(0x181));_0x33d85a[_0x3076e5(0x1f3)]='';const _0x14fbad=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41f30e=document[_0x3076e5(0xfb)](_0x3076e5(0x11e));_0x41f30e['className']='pe-corner',_0x33d85a[_0x3076e5(0x156)](_0x41f30e),_0x14fbad[_0x3076e5(0x97)]((_0x4d1b86,_0x361a8e)=>{const _0x5e6a67=_0x3076e5,_0x34ca42=document['createElement'](_0x5e6a67(0x11e));_0x34ca42['className']=_0x5e6a67(0x205),_0x34ca42['innerHTML']=_0x4d1b86+_0x5e6a67(0x91),_0x34ca42[_0x5e6a67(0x1a9)]=()=>toggleColPattern(_0x361a8e),_0x33d85a[_0x5e6a67(0x156)](_0x34ca42);});for(let _0x35cab7=0x0;_0x35cab7<0x18;_0x35cab7++){const _0x2a22f5=document['createElement'](_0x3076e5(0x11e));_0x2a22f5[_0x3076e5(0x11a)]=_0x3076e5(0x126),_0x2a22f5[_0x3076e5(0x1f3)]=_0x3076e5(0x121)+String(_0x35cab7)['padStart'](0x2,'0')+_0x3076e5(0x1c5),_0x2a22f5['onclick']=()=>toggleRowPattern(_0x35cab7),_0x33d85a['appendChild'](_0x2a22f5);for(let _0xfcf3ca=0x0;_0xfcf3ca<0x7;_0xfcf3ca++){const _0x197faf=document[_0x3076e5(0xfb)](_0x3076e5(0x11e)),_0x561537=(availabilityPattern[_0xfcf3ca]||[])[_0x3076e5(0x1e0)](_0x35cab7),_0x529923=!_0x561537;_0x197faf[_0x3076e5(0x11a)]=_0x3076e5(0x1b4)+(_0x529923?_0x3076e5(0x19b):''),_0x197faf['onclick']=()=>toggleSinglePattern(_0xfcf3ca,_0x35cab7),_0x33d85a['appendChild'](_0x197faf);}}}function toggleSinglePattern(_0x3328d9,_0x373e6b){const _0x11c007=a2_0x1dda79;if(!availabilityPattern[_0x3328d9])availabilityPattern[_0x3328d9]=[];const _0x3dd9a7=availabilityPattern[_0x3328d9],_0x1ecee8=_0x3dd9a7[_0x11c007(0xe9)](_0x373e6b);_0x1ecee8===-0x1?_0x3dd9a7[_0x11c007(0xfa)](_0x373e6b):_0x3dd9a7[_0x11c007(0x1a4)](_0x1ecee8,0x1),renderPatternEditor();}function toggleColPattern(_0x30e56c){if(!availabilityPattern[_0x30e56c])availabilityPattern[_0x30e56c]=[];const _0x3b7c=availabilityPattern[_0x30e56c];_0x3b7c['length']===0x0?availabilityPattern[_0x30e56c]=Array['from']({'length':0x18},(_0x46b149,_0x2d6d68)=>_0x2d6d68):availabilityPattern[_0x30e56c]=[],renderPatternEditor();}function toggleRowPattern(_0x5c5691){const _0x997e42=a2_0x1dda79;let _0xbcb491=!![];for(let _0x4b23f9=0x0;_0x4b23f9<0x7;_0x4b23f9++){if((availabilityPattern[_0x4b23f9]||[])[_0x997e42(0x1e0)](_0x5c5691)){_0xbcb491=![];break;}}for(let _0x8f3db5=0x0;_0x8f3db5<0x7;_0x8f3db5++){if(!availabilityPattern[_0x8f3db5])availabilityPattern[_0x8f3db5]=[];const _0x4448a0=availabilityPattern[_0x8f3db5]['indexOf'](_0x5c5691);if(_0xbcb491){if(_0x4448a0===-0x1)availabilityPattern[_0x8f3db5]['push'](_0x5c5691);}else{if(_0x4448a0!==-0x1)availabilityPattern[_0x8f3db5][_0x997e42(0x1a4)](_0x4448a0,0x1);}}renderPatternEditor();}function renderPCol(_0x5d2629,_0x106e00){const _0x4425dd=a2_0x1dda79;_0x5d2629['innerHTML']='';const _0x3c331a=Math[_0x4425dd(0x8d)](_0x5d2629[_0x4425dd(0x80)]);(availabilityPattern[_0x106e00]||[])[_0x4425dd(0x97)](_0x3dd5b2=>{const _0x20643e=_0x4425dd,_0x35421c=document['createElement'](_0x20643e(0x11e));_0x35421c[_0x20643e(0x11a)]='blocked-slot\x20stripe-bg';const _0xa9228=_0x3dd5b2*GRID_H;_0x35421c[_0x20643e(0xfc)][_0x20643e(0x191)]=_0xa9228+'px',_0x35421c[_0x20643e(0xfc)][_0x20643e(0x1fc)]='-'+_0x3c331a+_0x20643e(0x18b)+_0xa9228+'px',_0x35421c[_0x20643e(0x1a9)]=_0x27fe36=>{const _0x354a93=_0x20643e;_0x27fe36[_0x354a93(0x94)](),toggleSinglePattern(_0x106e00,_0x3dd5b2);},_0x5d2629[_0x20643e(0x156)](_0x35421c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x601ba6=a2_0x1dda79,_0x121818=new Date(),_0x5b16fe=document[_0x601ba6(0x201)]('globalTimeLine'),_0x33b445=document['getElementById'](_0x601ba6(0x1a1)),_0x5ca4d0=(_0x121818['getHours']()*0x3c+_0x121818['getMinutes']())/0x3c*GRID_H;_0x5b16fe[_0x601ba6(0xfc)][_0x601ba6(0x191)]=_0x5ca4d0+'px',_0x5b16fe[_0x601ba6(0xfc)][_0x601ba6(0x1a6)]=_0x601ba6(0x137),_0x33b445[_0x601ba6(0x1c7)]=String(_0x121818[_0x601ba6(0x106)]())[_0x601ba6(0x15d)](0x2,'0')+':'+String(_0x121818[_0x601ba6(0x1b8)]())[_0x601ba6(0x15d)](0x2,'0'),_0x33b445[_0x601ba6(0xfc)]['display']=_0x601ba6(0x137),_0x33b445[_0x601ba6(0xfc)][_0x601ba6(0x191)]=_0x5ca4d0+'px';}document[a2_0x1dda79(0x107)](a2_0x1dda79(0x120),init);function openDayOptions(_0x338306){const _0x38a7f4=a2_0x1dda79;selectedDayForOptions=_0x338306;const _0x5357bc=new Date(_0x338306),_0x26a213={'weekday':_0x38a7f4(0x96),'day':_0x38a7f4(0x1ca),'month':'long','year':_0x38a7f4(0x1ca)},_0x338449=_0x5357bc[_0x38a7f4(0xed)](_0x38a7f4(0x13a),_0x26a213);document[_0x38a7f4(0x201)](_0x38a7f4(0x15a))[_0x38a7f4(0x1c7)]=_0x338449[_0x38a7f4(0x1be)](0x0)[_0x38a7f4(0x12b)]()+_0x338449[_0x38a7f4(0x1d9)](0x1);let _0xe3f24a=_0x5357bc['getDay']()-0x1;if(_0xe3f24a===-0x1)_0xe3f24a=0x6;const _0x2b46f1=availabilityPattern[_0xe3f24a]||[],_0x5ada4b=0x18-_0x2b46f1['length'],_0x10f285=_0x5ada4b*0x3c,_0x3803c4=sessions[_0x38a7f4(0xa9)](_0x112e35=>_0x112e35[_0x38a7f4(0x154)]===_0x338306&&_0x112e35[_0x38a7f4(0x119)]!==_0x38a7f4(0x7d));let _0x1adfd4=_0x3803c4[_0x38a7f4(0xb4)](_0x37510f=>{const _0x2265b7=_0x38a7f4,[_0x4d413e,_0x45fee2]=_0x37510f[_0x2265b7(0x167)][_0x2265b7(0x10f)](':')[_0x2265b7(0xb4)](Number),[_0x44cfec,_0x388ef4]=_0x37510f[_0x2265b7(0x1cb)]['split'](':')[_0x2265b7(0xb4)](Number);return[_0x4d413e*0x3c+_0x45fee2,_0x44cfec*0x3c+_0x388ef4];});_0x1adfd4['sort']((_0x25a849,_0x551d58)=>_0x25a849[0x0]-_0x551d58[0x0]);let _0x28ab62=[];if(_0x1adfd4['length']>0x0){let _0x4391f2=_0x1adfd4[0x0];for(let _0x376a1d=0x1;_0x376a1d<_0x1adfd4[_0x38a7f4(0xd4)];_0x376a1d++){_0x1adfd4[_0x376a1d][0x0]<_0x4391f2[0x1]?_0x4391f2[0x1]=Math[_0x38a7f4(0x1ab)](_0x4391f2[0x1],_0x1adfd4[_0x376a1d][0x1]):(_0x28ab62[_0x38a7f4(0xfa)](_0x4391f2),_0x4391f2=_0x1adfd4[_0x376a1d]);}_0x28ab62[_0x38a7f4(0xfa)](_0x4391f2);}let _0x4a570e=0x0;_0x28ab62['forEach'](_0x1cc8fb=>_0x4a570e+=_0x1cc8fb[0x1]-_0x1cc8fb[0x0]),document[_0x38a7f4(0x201)](_0x38a7f4(0x17f))[_0x38a7f4(0x1c7)]=formatMinsToHrs(_0x10f285),document[_0x38a7f4(0x201)]('doBusyHours')[_0x38a7f4(0x1c7)]=formatMinsToHrs(_0x4a570e);const _0x5eacb6=_0x10f285>0x0?Math['round'](_0x4a570e/_0x10f285*0x64):0x0,_0x22f0fc=document['getElementById']('doLoadPercent');_0x22f0fc[_0x38a7f4(0x1c7)]=_0x5eacb6+'%';const _0x5244db=document[_0x38a7f4(0x201)](_0x38a7f4(0x9e));if(_0x5eacb6>0x64)_0x22f0fc['style'][_0x38a7f4(0x85)]=_0x38a7f4(0x1a8),_0x5244db[_0x38a7f4(0xfc)][_0x38a7f4(0x155)]=_0x38a7f4(0x14b);else _0x5eacb6>0x50?(_0x22f0fc['style'][_0x38a7f4(0x85)]=_0x38a7f4(0x139),_0x5244db[_0x38a7f4(0xfc)][_0x38a7f4(0x155)]=_0x38a7f4(0x136)):(_0x22f0fc['style'][_0x38a7f4(0x85)]='var(--acc-green)',_0x5244db[_0x38a7f4(0xfc)]['borderColor']='rgba(255,255,255,0.05)');const _0x5b6f1d=document[_0x38a7f4(0x201)](_0x38a7f4(0x1c3));_0x5b6f1d[_0x38a7f4(0x1f3)]='';_0x3803c4[_0x38a7f4(0xd4)]===0x0?_0x5b6f1d['innerHTML']=_0x38a7f4(0x141):(_0x3803c4[_0x38a7f4(0x7e)]((_0xc911dd,_0x4e34ec)=>_0xc911dd[_0x38a7f4(0x167)][_0x38a7f4(0xa4)](_0x4e34ec[_0x38a7f4(0x167)])),_0x3803c4[_0x38a7f4(0x97)](_0xb5ac9e=>{const _0x49c317=_0x38a7f4,_0x168c74=clients[_0x49c317(0xad)](_0x54ddc8=>_0x54ddc8[_0x49c317(0xf5)]===_0xb5ac9e[_0x49c317(0xcf)]),_0x156a58=_0x168c74?_0x168c74['color']:_0x49c317(0x133),_0x321afc=_0xb5ac9e[_0x49c317(0x119)]==='completed',_0x53eacf=_0x321afc?_0x49c317(0x18f):'',_0x35f72d=document[_0x49c317(0xfb)]('div');_0x35f72d[_0x49c317(0x11a)]=_0x49c317(0x1ce),_0x35f72d['style'][_0x49c317(0x16d)]=_0x156a58,_0x35f72d[_0x49c317(0x1f3)]=_0x49c317(0x163)+_0xb5ac9e['start']+'\x20-\x20'+_0xb5ac9e[_0x49c317(0x1cb)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb5ac9e[_0x49c317(0xcf)]+_0x49c317(0x1dc)+_0x53eacf+_0x49c317(0x195),_0x5b6f1d['appendChild'](_0x35f72d);}));const _0x2341d8=document[_0x38a7f4(0x201)](_0x38a7f4(0xd0)),_0x30696c=dateExceptions[_0x338306]==='off';_0x30696c?(_0x2341d8[_0x38a7f4(0x1c7)]=_0x38a7f4(0x82),_0x2341d8[_0x38a7f4(0x11a)]=_0x38a7f4(0x10d),_0x2341d8[_0x38a7f4(0xfc)]['color']=_0x38a7f4(0xdf),_0x2341d8[_0x38a7f4(0xfc)][_0x38a7f4(0x1e3)]=_0x38a7f4(0xd9)):(_0x2341d8[_0x38a7f4(0x1c7)]=_0x38a7f4(0x1c4),_0x2341d8[_0x38a7f4(0x11a)]=_0x38a7f4(0xb2),_0x2341d8[_0x38a7f4(0xfc)][_0x38a7f4(0x85)]=_0x38a7f4(0x1a8),_0x2341d8[_0x38a7f4(0xfc)][_0x38a7f4(0x1e3)]=_0x38a7f4(0xd6)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x1dda79(0xb0);function openAnalytics(){const _0x2ae9b5=a2_0x1dda79,_0x350c99=document[_0x2ae9b5(0x9a)](_0x2ae9b5(0xeb));setAnalyticsPeriod('week',_0x350c99),closeAllSheets(),openSheet(_0x2ae9b5(0x1fd));}function setAnalyticsPeriod(_0x9ed92a,_0x3b2ec5){const _0x41e1ce=a2_0x1dda79;currentAnPeriod=_0x9ed92a,document[_0x41e1ce(0x105)](_0x41e1ce(0xeb))[_0x41e1ce(0x97)](_0x558d31=>_0x558d31[_0x41e1ce(0x150)]['remove']('active'));if(_0x3b2ec5)_0x3b2ec5[_0x41e1ce(0x150)]['add']('active');const _0x53b643=document[_0x41e1ce(0x201)](_0x41e1ce(0x168));_0x53b643['style'][_0x41e1ce(0x1a6)]=_0x9ed92a===_0x41e1ce(0xc5)?_0x41e1ce(0x9f):'none';const _0x4e7fce=new Date();let _0x46d1f1=new Date(),_0x4c20e5=new Date();if(_0x9ed92a==='week')_0x46d1f1=getStartOfWeek(_0x4e7fce),_0x4c20e5=new Date(_0x46d1f1),_0x4c20e5[_0x41e1ce(0xd7)](_0x4c20e5[_0x41e1ce(0x1d8)]()+0x6);else{if(_0x9ed92a==='month')_0x46d1f1=new Date(_0x4e7fce[_0x41e1ce(0xe0)](),_0x4e7fce[_0x41e1ce(0x16b)](),0x1),_0x4c20e5=new Date(_0x4e7fce[_0x41e1ce(0xe0)](),_0x4e7fce[_0x41e1ce(0x16b)]()+0x1,0x0);else{!document[_0x41e1ce(0x201)](_0x41e1ce(0x11f))['value']&&(document[_0x41e1ce(0x201)](_0x41e1ce(0x11f))[_0x41e1ce(0x8f)]=getLocalDateStr(_0x4e7fce),document[_0x41e1ce(0x201)](_0x41e1ce(0x175))['value']=getLocalDateStr(_0x4e7fce));refreshAnalytics();return;}}document[_0x41e1ce(0x201)](_0x41e1ce(0x11f))[_0x41e1ce(0x8f)]=getLocalDateStr(_0x46d1f1),document[_0x41e1ce(0x201)](_0x41e1ce(0x175))[_0x41e1ce(0x8f)]=getLocalDateStr(_0x4c20e5),refreshAnalytics();}function refreshAnalytics(){const _0x4386e6=a2_0x1dda79,_0x1107bb=document['getElementById'](_0x4386e6(0x11f))[_0x4386e6(0x8f)],_0x6b7d7=document['getElementById'](_0x4386e6(0x175))[_0x4386e6(0x8f)];if(!_0x1107bb||!_0x6b7d7)return;const _0x53fd9c=sessions[_0x4386e6(0xa9)](_0x2795b3=>_0x2795b3[_0x4386e6(0x154)]>=_0x1107bb&&_0x2795b3['dateStr']<=_0x6b7d7&&_0x2795b3['status']!=='cancelled'),_0x572b00=_0x53fd9c[_0x4386e6(0xd4)],_0x41fb6d=_0x53fd9c[_0x4386e6(0xa9)](_0x538d9e=>_0x538d9e[_0x4386e6(0x119)]===_0x4386e6(0xb3))[_0x4386e6(0xd4)],_0x520f05=_0x572b00>0x0?Math[_0x4386e6(0x8d)](_0x41fb6d/_0x572b00*0x64):0x0;document['getElementById']('anPercent')[_0x4386e6(0x1c7)]=_0x520f05+'%',document[_0x4386e6(0x201)](_0x4386e6(0xd2))[_0x4386e6(0x1c7)]=_0x41fb6d+'\x20–∏–∑\x20'+_0x572b00+_0x4386e6(0x1e1);const _0x14ecda=document[_0x4386e6(0x201)](_0x4386e6(0x1cf)),_0x2a2b7b=0x2*Math['PI']*0x23,_0x420738=_0x2a2b7b-_0x520f05/0x64*_0x2a2b7b;_0x14ecda[_0x4386e6(0xfc)][_0x4386e6(0x1f9)]=_0x420738;const _0x2ccba1={};_0x53fd9c[_0x4386e6(0x97)](_0x563ce9=>{const _0x43cdd9=_0x4386e6;if(!_0x2ccba1[_0x563ce9['client']]){const _0x50b324=clients[_0x43cdd9(0xad)](_0x214d2b=>_0x214d2b[_0x43cdd9(0xf5)]===_0x563ce9['client']);_0x2ccba1[_0x563ce9['client']]={'total':0x0,'done':0x0,'color':_0x50b324?_0x50b324[_0x43cdd9(0x85)]:_0x43cdd9(0x133)};}_0x2ccba1[_0x563ce9[_0x43cdd9(0xcf)]][_0x43cdd9(0x174)]++;if(_0x563ce9[_0x43cdd9(0x119)]===_0x43cdd9(0xb3))_0x2ccba1[_0x563ce9[_0x43cdd9(0xcf)]][_0x43cdd9(0xf6)]++;});const _0x424243=document[_0x4386e6(0x201)]('analyticsList');_0x424243[_0x4386e6(0x1f3)]='';const _0x9fc5b2=Object['entries'](_0x2ccba1)[_0x4386e6(0x7e)]((_0x5b02c0,_0x49e74b)=>_0x49e74b[0x1]['total']-_0x5b02c0[0x1][_0x4386e6(0x174)]);if(_0x9fc5b2[_0x4386e6(0xd4)]===0x0){_0x424243['innerHTML']=_0x4386e6(0xcb);return;}_0x9fc5b2[_0x4386e6(0x97)](([_0x2ced7b,_0x503fad])=>{const _0x143512=_0x4386e6,_0x50e9c3=Math[_0x143512(0x8d)](_0x503fad[_0x143512(0xf6)]/_0x503fad[_0x143512(0x174)]*0x64),_0x4438c2=document[_0x143512(0xfb)](_0x143512(0x11e));_0x4438c2[_0x143512(0x11a)]='client-stat-card',_0x4438c2['style'][_0x143512(0x16d)]=_0x503fad[_0x143512(0x85)],_0x4438c2['innerHTML']=_0x143512(0xf9)+_0x2ced7b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x503fad[_0x143512(0xf6)]+_0x143512(0x90)+_0x503fad[_0x143512(0x174)]+_0x143512(0x152)+_0x50e9c3+_0x143512(0x1d6),_0x424243[_0x143512(0x156)](_0x4438c2);});}function formatMinsToHrs(_0x4aa8de){if(_0x4aa8de===0x0)return'0';const _0x36ad5d=Math['floor'](_0x4aa8de/0x3c),_0xa49696=_0x4aa8de%0x3c;if(_0xa49696===0x0)return _0x36ad5d+'—á';return _0x36ad5d+'—á\x20'+_0xa49696+'–º';}