const a2_0x1d0b16=a2_0x10dc;(function(_0x12bc3b,_0x23d5c0){const _0xf13f7f=a2_0x10dc,_0x14cbfd=_0x12bc3b();while(!![]){try{const _0x427c1d=-parseInt(_0xf13f7f(0x2ed))/0x1*(parseInt(_0xf13f7f(0x1c7))/0x2)+-parseInt(_0xf13f7f(0x201))/0x3*(parseInt(_0xf13f7f(0x1de))/0x4)+-parseInt(_0xf13f7f(0x190))/0x5+parseInt(_0xf13f7f(0x26e))/0x6*(-parseInt(_0xf13f7f(0x2ce))/0x7)+parseInt(_0xf13f7f(0x19c))/0x8*(-parseInt(_0xf13f7f(0x1c2))/0x9)+-parseInt(_0xf13f7f(0x218))/0xa+parseInt(_0xf13f7f(0x2b1))/0xb;if(_0x427c1d===_0x23d5c0)break;else _0x14cbfd['push'](_0x14cbfd['shift']());}catch(_0x40a442){_0x14cbfd['push'](_0x14cbfd['shift']());}}}(a2_0x15bc,0x94ef5),function initTMA(){const _0xd8d831=a2_0x10dc,_0x105566=(function(){let _0x6360ca=!![];return function(_0x4ec850,_0x3996ae){const _0x231e7b=_0x6360ca?function(){const _0x35ce83=a2_0x10dc;if(_0x3996ae){const _0x5efea0=_0x3996ae[_0x35ce83(0x2b3)](_0x4ec850,arguments);return _0x3996ae=null,_0x5efea0;}}:function(){};return _0x6360ca=![],_0x231e7b;};}()),_0xbc6e66=_0x105566(this,function(){const _0x3c6ef2=a2_0x10dc;return _0xbc6e66[_0x3c6ef2(0x282)]()[_0x3c6ef2(0x2e5)](_0x3c6ef2(0x1a2))[_0x3c6ef2(0x282)]()[_0x3c6ef2(0x27f)](_0xbc6e66)['search'](_0x3c6ef2(0x1a2));});_0xbc6e66();try{const _0x2d14b3=window[_0xd8d831(0x235)]?.[_0xd8d831(0x29e)];if(!_0x2d14b3)return;_0x2d14b3[_0xd8d831(0x2ea)](),_0x2d14b3[_0xd8d831(0x29a)]();try{_0x2d14b3['setHeaderColor']('#050505'),_0x2d14b3[_0xd8d831(0x2cf)]&&_0x2d14b3[_0xd8d831(0x2cf)]('#050505');}catch(_0x58ea46){console['log'](_0xd8d831(0x23e),_0x58ea46);}try{_0x2d14b3[_0xd8d831(0x1e9)]&&(_0x2d14b3[_0xd8d831(0x1e9)]['show'](),_0x2d14b3[_0xd8d831(0x1e9)][_0xd8d831(0x23c)](),_0x2d14b3[_0xd8d831(0x1e9)][_0xd8d831(0x2ff)](function(){const _0xeea5ba=_0xd8d831;window[_0xeea5ba(0x22d)][_0xeea5ba(0x1d2)]=_0xeea5ba(0x208);}));}catch(_0x4169ec){console[_0xd8d831(0x24a)](_0xd8d831(0x1cb),_0x4169ec);}try{if(_0x2d14b3[_0xd8d831(0x2db)])_0x2d14b3[_0xd8d831(0x2db)]();}catch(_0x331106){}}catch(_0x2a3c19){console['error'](_0xd8d831(0x205),_0x2a3c19);}}());function isAdmin(){const _0x5cac21=a2_0x10dc;try{const _0x42c0fa=Number(window[_0x5cac21(0x235)]?.[_0x5cac21(0x29e)]?.['initDataUnsafe']?.[_0x5cac21(0x2dd)]?.['id']);return _0x42c0fa===0xbaf7174;}catch(_0x3bf33a){return![];}}const APP_VERSION=a2_0x1d0b16(0x1d1),API_URL=a2_0x1d0b16(0x1ed),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1d0b16(0x298),KEY_SESSIONS=a2_0x1d0b16(0x28f),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4770d8=a2_0x1d0b16;return window['Telegram']?.[_0x4770d8(0x29e)]?.[_0x4770d8(0x2e7)]?.['user']?.['id']||_0x4770d8(0x1f4);},'saveLocally'(){const _0x16443d=a2_0x1d0b16;try{localStorage[_0x16443d(0x313)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x16443d(0x313)](KEY_SESSIONS,JSON[_0x16443d(0x2bd)](sessions)),localStorage[_0x16443d(0x313)](KEY_SETTINGS,JSON[_0x16443d(0x2bd)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4d3f3f){console[_0x16443d(0x20a)](_0x16443d(0x2a9),_0x4d3f3f);}},'loadLocal'(){const _0x366bfa=a2_0x1d0b16;try{const _0x429a14=localStorage[_0x366bfa(0x212)](KEY_CLIENTS);if(_0x429a14)clients=JSON[_0x366bfa(0x1ad)](_0x429a14);const _0x44ac37=localStorage['getItem'](KEY_SESSIONS);if(_0x44ac37)sessions=JSON[_0x366bfa(0x1ad)](_0x44ac37);const _0x4b570d=localStorage[_0x366bfa(0x212)](KEY_SETTINGS);if(_0x4b570d){const _0x2bfaf6=JSON[_0x366bfa(0x1ad)](_0x4b570d);if(_0x2bfaf6[_0x366bfa(0x1c0)])availabilityPattern=_0x2bfaf6[_0x366bfa(0x1c0)];if(_0x2bfaf6['exceptions'])dateExceptions=_0x2bfaf6[_0x366bfa(0x1a5)];if(_0x2bfaf6[_0x366bfa(0x309)])specialRanges=_0x2bfaf6['ranges'];}else{for(let _0x5ee3d2=0x0;_0x5ee3d2<0x7;_0x5ee3d2++)availabilityPattern[_0x5ee3d2]=Array[_0x366bfa(0x316)]({'length':0xc},(_0x8e3fee,_0x33cc55)=>_0x33cc55+0x9);}}catch(_0x2c89a4){console[_0x366bfa(0x20a)](_0x366bfa(0x20d),_0x2c89a4);}},async 'fetchFromServer'(_0x439571,_0x1cd552={}){const _0x1e53d7=a2_0x1d0b16,_0x4f2509=window[_0x1e53d7(0x235)]?.[_0x1e53d7(0x29e)],_0x7203c={'action':_0x439571,'init_data':_0x4f2509?.[_0x1e53d7(0x30f)]||'',..._0x1cd552};try{const _0x48ae8a=await fetch(API_URL,{'method':_0x1e53d7(0x1c5),'headers':{'Content-Type':_0x1e53d7(0x1f3)},'body':JSON[_0x1e53d7(0x2bd)](_0x7203c)}),_0x10248d=await _0x48ae8a[_0x1e53d7(0x247)]();if(!_0x10248d['ok'])throw new Error(_0x10248d[_0x1e53d7(0x20a)]||_0x1e53d7(0x310));return _0x10248d[_0x1e53d7(0x2f6)];}catch(_0xbc947c){console[_0x1e53d7(0x20a)](_0x1e53d7(0x304)+_0x439571+_0x1e53d7(0x1be),_0xbc947c);throw _0xbc947c;}},async 'syncLoad'(){const _0x299a6d=a2_0x1d0b16,_0x283c14=new Date(),_0x4df0d7=_0x283c14[_0x299a6d(0x2a6)]()+'-'+String(_0x283c14[_0x299a6d(0x2c6)]()+0x1)[_0x299a6d(0x1a4)](0x2,'0'),_0xd3ed5c=new Date(_0x283c14);_0xd3ed5c[_0x299a6d(0x2c4)](_0x283c14[_0x299a6d(0x2c6)]()+0x1);const _0xbb576b=_0xd3ed5c[_0x299a6d(0x2a6)]()+'-'+String(_0xd3ed5c[_0x299a6d(0x2c6)]()+0x1)['padStart'](0x2,'0'),_0xa89f59=Date['now']();console[_0x299a6d(0x24a)](_0x299a6d(0x301)+_0x4df0d7+',\x20'+_0xbb576b+_0x299a6d(0x24b));try{const [_0x2d3971,_0xd29b67]=await Promise[_0x299a6d(0x27b)]([this['fetchFromServer'](_0x299a6d(0x213),{'month_str':_0x4df0d7}),this[_0x299a6d(0x241)]('init_load',{'month_str':_0xbb576b})]);if(lastUserActionTime>_0xa89f59)return console[_0x299a6d(0x1f9)](_0x299a6d(0x19f)),![];return this['mergeServerData'](_0x2d3971,_0x4df0d7),this[_0x299a6d(0x210)](_0xd29b67,_0xbb576b),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xaa62d8){console[_0x299a6d(0x20a)](_0xaa62d8);throw _0xaa62d8;}},'mergeServerData'(_0x2508a9,_0x137cb1){const _0x1a03fe=a2_0x1d0b16;if(!_0x2508a9)return;_0x2508a9[_0x1a03fe(0x1d0)]&&Array[_0x1a03fe(0x259)](_0x2508a9[_0x1a03fe(0x1d0)])&&(clients=_0x2508a9[_0x1a03fe(0x1d0)]);if(_0x2508a9[_0x1a03fe(0x2b8)]){if(_0x2508a9['settings']['pattern'])availabilityPattern=_0x2508a9[_0x1a03fe(0x2b8)]['pattern'];if(_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x1a5)])dateExceptions=_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x1a5)];if(_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x309)])specialRanges=_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x309)];if(_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x252)]){localStorage[_0x1a03fe(0x313)](_0x1a03fe(0x19a),_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x252)]);const _0x1fdd47=document[_0x1a03fe(0x1fa)](_0x1a03fe(0x1a3));if(_0x1fdd47)_0x1fdd47['value']=_0x2508a9[_0x1a03fe(0x2b8)][_0x1a03fe(0x252)];}}_0x2508a9['calendar']&&(sessions=sessions[_0x1a03fe(0x204)](_0x494038=>!_0x494038[_0x1a03fe(0x260)][_0x1a03fe(0x214)](_0x137cb1)),Object[_0x1a03fe(0x2f5)](_0x2508a9[_0x1a03fe(0x28e)])[_0x1a03fe(0x2a0)](_0xd30932=>{const _0x5d8b55=_0x1a03fe,_0x5bb66b=_0x2508a9[_0x5d8b55(0x28e)][_0xd30932];_0x5bb66b['forEach'](_0x435457=>{const _0x16c427=_0x5d8b55,_0x315e63=clients['find'](_0x3c3ce5=>String(_0x3c3ce5['id'])===String(_0x435457['c']));sessions['push']({'id':_0x435457['i'],'clientId':_0x435457['c'],'client':_0x315e63?_0x315e63[_0x16c427(0x1e4)]:'Unknown','dateStr':_0x137cb1+'-'+_0xd30932[_0x16c427(0x1a4)](0x2,'0'),'start':_0x435457['s'],'end':_0x435457['e'],'status':_0x435457['st']||_0x16c427(0x231),'note':_0x435457['n']||'','seriesId':_0x435457[_0x16c427(0x193)]||null});});}));},async 'syncBatch'(_0x46eae4){const _0x403c2a=a2_0x1d0b16,_0x2ca498=[...new Set(_0x46eae4)],_0xc36342=_0x2ca498[_0x403c2a(0x2c8)](_0x31106d=>{const _0x11b4f1=_0x403c2a,_0x1b156c=sessions[_0x11b4f1(0x204)](_0x3b4f20=>_0x3b4f20[_0x11b4f1(0x260)]===_0x31106d&&_0x3b4f20[_0x11b4f1(0x1bb)]!==_0x11b4f1(0x1ac)),_0x28602d=_0x1b156c[_0x11b4f1(0x2c8)](_0x26ac56=>({'i':_0x26ac56['id'],'c':_0x26ac56['clientId'],'s':_0x26ac56[_0x11b4f1(0x1b0)],'e':_0x26ac56[_0x11b4f1(0x250)],'st':_0x26ac56[_0x11b4f1(0x1bb)],'n':_0x26ac56[_0x11b4f1(0x258)],'sid':_0x26ac56[_0x11b4f1(0x2dc)]}));return{'date':_0x31106d,'day_data':_0x28602d};});if(_0xc36342[_0x403c2a(0x265)]===0x0)return;console[_0x403c2a(0x24a)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0xc36342['length']+_0x403c2a(0x229)),await this[_0x403c2a(0x241)](_0x403c2a(0x1fd),{'changes':_0xc36342});}};async function init(){const _0x7cf16f=a2_0x1d0b16;DataManager[_0x7cf16f(0x227)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x7cf16f(0x1fa)](_0x7cf16f(0x211))[_0x7cf16f(0x194)](_0x7cf16f(0x228),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x7cf16f(0x299)](()=>{const _0x3747b1=_0x7cf16f;showToast(_0x3747b1(0x26d),!![]);})[_0x7cf16f(0x197)](_0x1411d4=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x374883=a2_0x1d0b16;return Date[_0x374883(0x1ee)]()['toString'](0x24)+Math[_0x374883(0x200)]()[_0x374883(0x282)](0x24)[_0x374883(0x1b1)](0x2,0x5);}function toggleSeriesInput(){const _0x3fa831=a2_0x1d0b16,_0x135e02=document[_0x3fa831(0x1fa)]('inpRecurring')[_0x3fa831(0x2e2)],_0x35a999=document['getElementById']('seriesCountContainer');_0x35a999[_0x3fa831(0x28b)][_0x3fa831(0x22e)]=_0x135e02?_0x3fa831(0x2f9):_0x3fa831(0x294);const _0x13fbb9=document[_0x3fa831(0x1fa)](_0x3fa831(0x2ad));_0x13fbb9[_0x3fa831(0x28b)][_0x3fa831(0x1b9)]=_0x135e02?_0x3fa831(0x25e):_0x3fa831(0x29b);}function openAddSession(_0x55fe2f){const _0x1b7434=a2_0x1d0b16;editingId=null,populateClientSelect(),document[_0x1b7434(0x1fa)](_0x1b7434(0x1b4))[_0x1b7434(0x1ec)]=_0x1b7434(0x1e5),document['getElementById']('btnDelete')[_0x1b7434(0x28b)][_0x1b7434(0x22e)]=_0x1b7434(0x294),document[_0x1b7434(0x1fa)]('btnStatusToggle')[_0x1b7434(0x28b)]['display']=_0x1b7434(0x294);const _0xc74766=document[_0x1b7434(0x1fa)](_0x1b7434(0x2ad)),_0x4f2e16=document[_0x1b7434(0x1fa)]('seriesCountContainer');_0xc74766[_0x1b7434(0x28b)][_0x1b7434(0x22e)]='flex',_0xc74766[_0x1b7434(0x28b)][_0x1b7434(0x1b9)]='10px',document['getElementById'](_0x1b7434(0x233))[_0x1b7434(0x2e2)]=![],document[_0x1b7434(0x1fa)](_0x1b7434(0x311))[_0x1b7434(0x1af)]=0x4,_0x4f2e16[_0x1b7434(0x28b)][_0x1b7434(0x22e)]=_0x1b7434(0x294),document[_0x1b7434(0x1fa)](_0x1b7434(0x296))[_0x1b7434(0x1af)]=getLocalDateStr(_0x55fe2f),updateDateDisplay();const _0x49d86e=_0x55fe2f[_0x1b7434(0x25c)]();document[_0x1b7434(0x1fa)]('inpStart')[_0x1b7434(0x1af)]=String(_0x49d86e)['padStart'](0x2,'0')+_0x1b7434(0x277),document['getElementById'](_0x1b7434(0x215))[_0x1b7434(0x1af)]=String(_0x49d86e+0x1)[_0x1b7434(0x1a4)](0x2,'0')+':00',openSheet(_0x1b7434(0x248));}function openEdit(_0xaf9500){const _0x3b501=a2_0x1d0b16;editingId=_0xaf9500['id'],populateClientSelect(),document[_0x3b501(0x1fa)](_0x3b501(0x1b4))[_0x3b501(0x1ec)]=_0x3b501(0x2a7),document['getElementById'](_0x3b501(0x287))[_0x3b501(0x28b)][_0x3b501(0x22e)]=_0x3b501(0x2f9);const _0x56e034=document[_0x3b501(0x1fa)](_0x3b501(0x245));_0x56e034[_0x3b501(0x28b)]['display']=_0x3b501(0x303);_0xaf9500[_0x3b501(0x1bb)]===_0x3b501(0x24d)?(_0x56e034[_0x3b501(0x237)]=_0x3b501(0x1ae),_0x56e034[_0x3b501(0x25b)]=_0x3b501(0x2e0)):(_0x56e034['className']='btn-status-toggle',_0x56e034[_0x3b501(0x25b)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x47a497=!!_0xaf9500[_0x3b501(0x2dc)];document[_0x3b501(0x1fa)](_0x3b501(0x2ad))[_0x3b501(0x28b)]['display']='none',document[_0x3b501(0x1fa)](_0x3b501(0x2aa))[_0x3b501(0x28b)][_0x3b501(0x22e)]=_0x3b501(0x294),_0x47a497?(document[_0x3b501(0x1fa)](_0x3b501(0x24f))['style'][_0x3b501(0x22e)]='flex',document['getElementById'](_0x3b501(0x24f))[_0x3b501(0x273)](_0x3b501(0x279))[_0x3b501(0x1ec)]=_0x3b501(0x284)):document[_0x3b501(0x1fa)]('patternInfoBox')[_0x3b501(0x28b)][_0x3b501(0x22e)]=_0x3b501(0x294),document[_0x3b501(0x1fa)](_0x3b501(0x256))['value']=_0xaf9500[_0x3b501(0x300)],document[_0x3b501(0x1fa)]('inpDate')[_0x3b501(0x1af)]=_0xaf9500[_0x3b501(0x260)],document['getElementById'](_0x3b501(0x2ac))[_0x3b501(0x1af)]=_0xaf9500[_0x3b501(0x1b0)],document[_0x3b501(0x1fa)]('inpEnd')[_0x3b501(0x1af)]=_0xaf9500[_0x3b501(0x250)],document[_0x3b501(0x1fa)](_0x3b501(0x272))[_0x3b501(0x1af)]=_0xaf9500['note']||'',updateDateDisplay(),openSheet(_0x3b501(0x248));}async function trySaveSession(){const _0x362346=a2_0x1d0b16,_0x1abe46=document[_0x362346(0x1fa)]('inpClient')[_0x362346(0x1af)],_0x50c0ce=document[_0x362346(0x1fa)]('inpDate')[_0x362346(0x1af)],_0x23b064=document[_0x362346(0x1fa)]('inpStart')[_0x362346(0x1af)],_0x5143d4=document[_0x362346(0x1fa)](_0x362346(0x215))[_0x362346(0x1af)],_0x404461=document[_0x362346(0x1fa)](_0x362346(0x272))[_0x362346(0x1af)],_0x505aa2=document['getElementById']('inpRecurring')['checked'];let _0x3c3616=0x4;if(_0x505aa2){const _0xb4a423=parseInt(document[_0x362346(0x1fa)](_0x362346(0x311))[_0x362346(0x1af)]);if(!_0xb4a423||_0xb4a423<0x2){showToast(_0x362346(0x1b7),![]);return;}if(_0xb4a423>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x3c3616=_0xb4a423;}const _0x436ed8=clients['find'](_0x5ee3fa=>_0x5ee3fa['name']===_0x1abe46);if(!_0x436ed8){showToast(_0x362346(0x1b3),![]);return;}const _0x57911a=validateAppointment(_0x50c0ce,_0x23b064,_0x5143d4,editingId,_0x436ed8['id']);if(!_0x57911a[_0x362346(0x2d3)]){showToast(_0x57911a[_0x362346(0x21f)],![]);return;}_0x57911a[_0x362346(0x26c)]&&showToast(_0x57911a[_0x362346(0x26c)],![]);const _0x18f920={'client':_0x1abe46,'clientId':_0x436ed8['id'],'start':_0x23b064,'end':_0x5143d4,'note':_0x404461,'status':_0x362346(0x231)},_0x4b3048=editingId?sessions[_0x362346(0x1c6)](_0x26f804=>_0x26f804['id']===editingId):null;if(_0x4b3048&&_0x4b3048[_0x362346(0x2dc)]){tempSessionData={..._0x18f920,'dateStr':_0x50c0ce,'id':editingId,'seriesId':_0x4b3048[_0x362346(0x2dc)]},openActionSheet(_0x362346(0x1a7));return;}let _0x222085=null;if(!editingId)_0x222085=_0x362346(0x195);else{if(_0x4b3048){if(String(_0x4b3048[_0x362346(0x240)])!==String(_0x436ed8['id']))console['log'](_0x362346(0x2f2)),NotificationManager[_0x362346(0x283)](_0x362346(0x21e),_0x4b3048),_0x222085='create';else(_0x4b3048[_0x362346(0x1b0)]!==_0x23b064||_0x4b3048['end']!==_0x5143d4||_0x4b3048[_0x362346(0x260)]!==_0x50c0ce)&&(_0x222085=_0x362346(0x25a));}}if(!editingId&&_0x505aa2){createBatchSeries(_0x18f920,_0x50c0ce,_0x3c3616),NotificationManager[_0x362346(0x283)](_0x362346(0x195),{..._0x18f920,'dateStr':_0x50c0ce});return;}lastUserActionTime=Date[_0x362346(0x1ee)]();const _0xb149a4={..._0x18f920,'dateStr':_0x50c0ce,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xb149a4),_0x222085&&NotificationManager[_0x362346(0x283)](_0x222085,_0xb149a4);}function toggleSessionStatus(){const _0x1546ea=a2_0x1d0b16;lastUserActionTime=Date['now']();const _0x53b793=sessions[_0x1546ea(0x1c6)](_0x1ba52f=>_0x1ba52f['id']===editingId);if(!_0x53b793)return;const _0x363840=_0x53b793[_0x1546ea(0x1bb)]==='completed'?_0x1546ea(0x231):_0x1546ea(0x24d);_0x53b793[_0x1546ea(0x1bb)]=_0x363840,saveSingleSession(_0x53b793),_0x363840===_0x1546ea(0x24d)&&NotificationManager[_0x1546ea(0x283)](_0x1546ea(0x319),_0x53b793),showToast(_0x363840===_0x1546ea(0x24d)?_0x1546ea(0x1f6):_0x1546ea(0x23a),!![]);}function validateAppointment(_0x4345dc,_0x54abea,_0x43c8c3,_0xa91f27,_0x74600d){const _0x4f2157=a2_0x1d0b16,[_0x6cde69,_0x55b2aa]=_0x54abea[_0x4f2157(0x2ba)](':')[_0x4f2157(0x2c8)](Number),[_0xd98765,_0x3f2e55]=_0x43c8c3[_0x4f2157(0x2ba)](':')[_0x4f2157(0x2c8)](Number),_0x8e82c9=_0x6cde69*0x3c+_0x55b2aa,_0x5c72a3=_0xd98765*0x3c+_0x3f2e55,_0x1c0500=String(_0x74600d);let _0x4a367c=![],_0x25a79f='';for(let _0x29c975 of sessions){if(_0x29c975[_0x4f2157(0x260)]!==_0x4345dc)continue;if(_0x29c975['status']===_0x4f2157(0x263))continue;if(_0xa91f27&&String(_0x29c975['id'])===String(_0xa91f27))continue;const [_0x500dd0,_0x4b1220]=_0x29c975[_0x4f2157(0x1b0)][_0x4f2157(0x2ba)](':')[_0x4f2157(0x2c8)](Number),[_0x36f919,_0x11ee31]=_0x29c975[_0x4f2157(0x250)][_0x4f2157(0x2ba)](':')[_0x4f2157(0x2c8)](Number),_0x902231=_0x500dd0*0x3c+_0x4b1220,_0x2f84f0=_0x36f919*0x3c+_0x11ee31;if(Math[_0x4f2157(0x24c)](_0x8e82c9,_0x902231)<Math[_0x4f2157(0x2bc)](_0x5c72a3,_0x2f84f0)){if(_0x29c975[_0x4f2157(0x240)]&&String(_0x29c975[_0x4f2157(0x240)])===_0x1c0500)return{'valid':![],'msg':_0x4f2157(0x315)+_0x29c975[_0x4f2157(0x300)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4a367c=!![],_0x25a79f=_0x29c975['client'];}}if(_0x4a367c)return{'valid':!![],'warning':_0x4f2157(0x31a)+_0x25a79f};return{'valid':!![]};}function saveSingleSession(_0x2d7347){const _0x122574=a2_0x1d0b16;if(editingId){const _0xe2c978=sessions[_0x122574(0x2fc)](_0x2e28dc=>_0x2e28dc['id']===editingId);if(_0xe2c978!==-0x1)sessions[_0xe2c978]=_0x2d7347;}else sessions['push'](_0x2d7347);afterSaveAction([_0x2d7347[_0x122574(0x260)]]);}function createBatchSeries(_0x7d2436,_0xb24cbe,_0x52faba){const _0x393de2=a2_0x1d0b16,_0x166370=generateId(),_0x47ea75=[],_0x61bf4=[];let _0x320aaa=0x0,_0x2d3d83=new Date(_0xb24cbe);for(let _0x2744ea=0x0;_0x2744ea<_0x52faba;_0x2744ea++){const _0x40abae=getLocalDateStr(_0x2d3d83),_0x35c4d6=validateAppointment(_0x40abae,_0x7d2436[_0x393de2(0x1b0)],_0x7d2436[_0x393de2(0x250)],null,_0x7d2436[_0x393de2(0x240)]);if(!_0x35c4d6['valid'])console[_0x393de2(0x24a)](_0x393de2(0x30d)+_0x40abae+_0x393de2(0x2f0)),_0x320aaa++;else{const _0x53ae23={..._0x7d2436,'id':generateId(),'dateStr':_0x40abae,'seriesId':_0x166370};_0x61bf4[_0x393de2(0x266)](_0x53ae23),_0x47ea75[_0x393de2(0x266)](_0x40abae);}_0x2d3d83[_0x393de2(0x27e)](_0x2d3d83[_0x393de2(0x2b0)]()+0x7);}if(_0x61bf4[_0x393de2(0x265)]===0x0){showToast(_0x393de2(0x20b),![]);return;}sessions[_0x393de2(0x266)](..._0x61bf4),lastUserActionTime=Date[_0x393de2(0x1ee)]();let _0x1e2fec='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x61bf4[_0x393de2(0x265)];_0x320aaa>0x0&&(_0x1e2fec+=_0x393de2(0x1c9)+_0x320aaa+')'),showToast(_0x1e2fec,!![]),afterSaveAction(_0x47ea75);}function updateSeriesBatch(_0x32abb1,_0x193aa6){const _0x4aeecf=a2_0x1d0b16,_0x50ead5=[],_0x27ad88=_0x193aa6[_0x4aeecf(0x2dc)];if(_0x32abb1===_0x4aeecf(0x1e6)){const _0x4f4a39={..._0x193aa6,'seriesId':null},_0x3b750a=sessions[_0x4aeecf(0x2fc)](_0x49c754=>_0x49c754['id']===_0x193aa6['id']);if(_0x3b750a!==-0x1)sessions[_0x3b750a]=_0x4f4a39;_0x50ead5[_0x4aeecf(0x266)](_0x4f4a39[_0x4aeecf(0x260)]);}else{if(_0x32abb1===_0x4aeecf(0x220)){const _0x4e6409=_0x193aa6['dateStr'];sessions['forEach']((_0x33ed6e,_0x3ac2d3)=>{const _0xcefab8=_0x4aeecf;_0x33ed6e[_0xcefab8(0x2dc)]===_0x27ad88&&_0x33ed6e['dateStr']>=_0x4e6409&&(sessions[_0x3ac2d3]={...sessions[_0x3ac2d3],'start':_0x193aa6[_0xcefab8(0x1b0)],'end':_0x193aa6['end'],'note':_0x193aa6['note'],'client':_0x193aa6['client'],'clientId':_0x193aa6[_0xcefab8(0x240)]},_0x50ead5[_0xcefab8(0x266)](_0x33ed6e['dateStr']));});}}afterSaveAction(_0x50ead5);}function tryDeleteSession(){const _0x4bc6d9=a2_0x1d0b16,_0x1c6a68=sessions[_0x4bc6d9(0x1c6)](_0x3d3661=>_0x3d3661['id']===editingId);if(!_0x1c6a68)return;_0x1c6a68[_0x4bc6d9(0x2dc)]?openActionSheet(_0x4bc6d9(0x308)):commitDelete(_0x4bc6d9(0x1e6),_0x1c6a68);}function commitDelete(_0x1e6da1,_0x40f5c0){const _0x132b42=a2_0x1d0b16;lastUserActionTime=Date[_0x132b42(0x1ee)](),NotificationManager[_0x132b42(0x283)]('cancel',_0x40f5c0);const _0x4d6135=[];if(_0x1e6da1===_0x132b42(0x1e6))sessions=sessions[_0x132b42(0x204)](_0x5d5298=>_0x5d5298['id']!==_0x40f5c0['id']),_0x4d6135[_0x132b42(0x266)](_0x40f5c0[_0x132b42(0x260)]);else{if(_0x1e6da1===_0x132b42(0x220)){const _0x345a48=_0x40f5c0[_0x132b42(0x260)],_0x4cc9db=_0x40f5c0[_0x132b42(0x2dc)];sessions['forEach'](_0x35ee64=>{const _0x5daa17=_0x132b42;_0x35ee64['seriesId']===_0x4cc9db&&_0x35ee64[_0x5daa17(0x260)]>=_0x345a48&&_0x4d6135['push'](_0x35ee64['dateStr']);}),sessions=sessions[_0x132b42(0x204)](_0x4feccc=>!(_0x4feccc[_0x132b42(0x2dc)]===_0x4cc9db&&_0x4feccc[_0x132b42(0x260)]>=_0x345a48));}}afterSaveAction(_0x4d6135);}function afterSaveAction(_0x15f2e8){const _0x1a165f=a2_0x1d0b16;DataManager[_0x1a165f(0x225)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x15f2e8)['then'](()=>console['log'](_0x1a165f(0x1c4)))['catch'](_0x1eb443=>showToast(_0x1a165f(0x2e9),![]));}const NotificationManager={'formatDate'(_0x2bed1c){const _0x25571d=a2_0x1d0b16,_0x17fe5a=new Date(_0x2bed1c),_0x45c9c7={'weekday':_0x25571d(0x1fe),'day':'numeric','month':'long'};let _0x2e0c41=_0x17fe5a['toLocaleDateString'](_0x25571d(0x269),_0x45c9c7);return _0x2e0c41[_0x25571d(0x243)](0x0)[_0x25571d(0x2af)]()+_0x2e0c41[_0x25571d(0x2c1)](0x1);},'getText'(_0x184378,_0xb23b98){const _0xf5ffec=a2_0x1d0b16,_0x1356a4=this[_0xf5ffec(0x2f8)](_0xb23b98['dateStr']);switch(_0x184378){case _0xf5ffec(0x195):return _0xf5ffec(0x2d8)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1356a4+'\x0a')+(_0xf5ffec(0x2ae)+_0xb23b98[_0xf5ffec(0x1b0)]+'\x20‚Äî\x20'+_0xb23b98[_0xf5ffec(0x250)]+'\x0a\x0a')+_0xf5ffec(0x25d);case _0xf5ffec(0x25a):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0xf5ffec(0x307)+_0xb23b98['start']+_0xf5ffec(0x1bd)+_0xb23b98[_0xf5ffec(0x250)]+_0xf5ffec(0x2b2))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1356a4);case _0xf5ffec(0x21e):return _0xf5ffec(0x28c)+(_0xf5ffec(0x21b)+_0x1356a4+'\x20('+_0xb23b98[_0xf5ffec(0x1b0)]+_0xf5ffec(0x27d));case _0xf5ffec(0x319):return _0xf5ffec(0x1d3)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x4f04e4,_0x1fb6fb){const _0xa5e311=a2_0x1d0b16;console[_0xa5e311(0x24a)]('[Notify]\x20Attempting\x20to\x20send:',_0x4f04e4,_0x1fb6fb);if(!_0x1fb6fb){console[_0xa5e311(0x20a)](_0xa5e311(0x281));return;}const _0x227d58=String(_0x1fb6fb[_0xa5e311(0x240)]);console[_0xa5e311(0x24a)](_0xa5e311(0x1a9),_0x227d58);if(!_0x1fb6fb[_0xa5e311(0x240)]||_0x227d58===_0xa5e311(0x2e8)||_0x227d58===_0xa5e311(0x222)){console[_0xa5e311(0x20a)](_0xa5e311(0x257));if(_0x1fb6fb[_0xa5e311(0x300)]){const _0x2022f8=clients[_0xa5e311(0x1c6)](_0x160f09=>_0x160f09[_0xa5e311(0x1e4)]===_0x1fb6fb[_0xa5e311(0x300)]);if(_0x2022f8)return console[_0xa5e311(0x24a)](_0xa5e311(0x292),_0x2022f8['id']),this[_0xa5e311(0x283)](_0x4f04e4,{..._0x1fb6fb,'clientId':_0x2022f8['id']});}return;}if(_0x227d58['length']<0x5){console[_0xa5e311(0x1f9)](_0xa5e311(0x289),_0x227d58);return;}const _0x39299e=this[_0xa5e311(0x206)](_0x4f04e4,_0x1fb6fb);if(!_0x39299e){console[_0xa5e311(0x20a)](_0xa5e311(0x261));return;}console[_0xa5e311(0x24a)](_0xa5e311(0x254)+_0x227d58+_0xa5e311(0x24b)),DataManager[_0xa5e311(0x241)](_0xa5e311(0x2be),{'chatId':_0x227d58,'text':_0x39299e})[_0xa5e311(0x299)](_0x399270=>console['log'](_0xa5e311(0x2c7),_0x399270))[_0xa5e311(0x197)](_0x3c9122=>console['error'](_0xa5e311(0x2a3),_0x3c9122));}};function getLocalDateStr(_0x348b50){const _0x201eef=a2_0x1d0b16,_0x3c08c7=_0x348b50[_0x201eef(0x2a6)](),_0x553fb1=String(_0x348b50[_0x201eef(0x2c6)]()+0x1)[_0x201eef(0x1a4)](0x2,'0'),_0x118690=String(_0x348b50[_0x201eef(0x2b0)]())['padStart'](0x2,'0');return _0x3c08c7+'-'+_0x553fb1+'-'+_0x118690;}function getDateStr(_0xd47a40){const _0x5a21c7=a2_0x1d0b16,_0x11d376=new Date();return _0x11d376[_0x5a21c7(0x27e)](_0x11d376[_0x5a21c7(0x2b0)]()+_0xd47a40),getLocalDateStr(_0x11d376);}function getStartOfWeek(_0x504954){const _0x29a64d=a2_0x1d0b16,_0x2612e0=new Date(_0x504954),_0x1a88d5=_0x2612e0[_0x29a64d(0x1c3)](),_0x2d945a=_0x2612e0[_0x29a64d(0x2b0)]()-_0x1a88d5+(_0x1a88d5===0x0?-0x6:0x1);return _0x2612e0[_0x29a64d(0x27e)](_0x2d945a),_0x2612e0[_0x29a64d(0x2b4)](0x0,0x0,0x0,0x0),_0x2612e0;}function hexToRgba(_0x31315b,_0x4c87c5){const _0x41e82f=a2_0x1d0b16;if(!_0x31315b)return _0x41e82f(0x2d0);let _0x48e71b=0x0,_0x3ed427=0x0,_0x3deaf2=0x0;if(_0x31315b[_0x41e82f(0x265)]===0x4)_0x48e71b='0x'+_0x31315b[0x1]+_0x31315b[0x1],_0x3ed427='0x'+_0x31315b[0x2]+_0x31315b[0x2],_0x3deaf2='0x'+_0x31315b[0x3]+_0x31315b[0x3];else _0x31315b[_0x41e82f(0x265)]===0x7&&(_0x48e71b='0x'+_0x31315b[0x1]+_0x31315b[0x2],_0x3ed427='0x'+_0x31315b[0x3]+_0x31315b[0x4],_0x3deaf2='0x'+_0x31315b[0x5]+_0x31315b[0x6]);return'rgba('+ +_0x48e71b+',\x20'+ +_0x3ed427+',\x20'+ +_0x3deaf2+',\x20'+_0x4c87c5+')';}function renderTimeColumn(){const _0x386a02=a2_0x1d0b16,_0x1325b6=document['getElementById']('timeColumn'),_0x752ae8=document[_0x386a02(0x1fa)]('timeLineBadge');_0x1325b6[_0x386a02(0x25b)]='',_0x1325b6[_0x386a02(0x318)](_0x752ae8);for(let _0x1e3d59=0x0;_0x1e3d59<0x18;_0x1e3d59++){const _0x304e66=document[_0x386a02(0x1eb)](_0x386a02(0x224));_0x304e66[_0x386a02(0x237)]=_0x386a02(0x2c9);if(_0x1e3d59>0x0)_0x304e66[_0x386a02(0x25b)]=_0x386a02(0x312)+String(_0x1e3d59)[_0x386a02(0x1a4)](0x2,'0')+':00</span>';_0x1325b6['appendChild'](_0x304e66);}}function renderDayRange(_0x1567d8,_0x3a3e69){const _0x56a7aa=a2_0x1d0b16,_0x526265=document[_0x56a7aa(0x1fa)]('daysHeaderTrack'),_0x5d3f27=document[_0x56a7aa(0x1fa)](_0x56a7aa(0x2d7)),_0x578a9f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x8178c9=new Date();_0x8178c9[_0x56a7aa(0x2b4)](0x0,0x0,0x0,0x0);const _0x4592a3=getLocalDateStr(new Date());for(let _0x20249b=_0x1567d8;_0x20249b<=_0x3a3e69;_0x20249b++){const _0x5eab38=new Date(_0x8178c9);_0x5eab38['setDate'](_0x5eab38[_0x56a7aa(0x2b0)]()+_0x20249b);const _0x347a5c=getLocalDateStr(_0x5eab38);let _0x2964ff=_0x5eab38[_0x56a7aa(0x1c3)]()-0x1;if(_0x2964ff===-0x1)_0x2964ff=0x6;const _0x3d3004=_0x347a5c===_0x4592a3,_0x579f30=document[_0x56a7aa(0x1eb)](_0x56a7aa(0x224));_0x579f30[_0x56a7aa(0x237)]=_0x56a7aa(0x1d7)+(_0x3d3004?_0x56a7aa(0x29c):''),_0x579f30['id']=_0x56a7aa(0x295)+_0x347a5c,_0x579f30[_0x56a7aa(0x2fa)](_0x56a7aa(0x2d4),_0x347a5c),_0x579f30[_0x56a7aa(0x25b)]=_0x56a7aa(0x2f7)+_0x578a9f[_0x2964ff]+_0x56a7aa(0x199)+_0x5eab38['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x347a5c+_0x56a7aa(0x2bb),_0x579f30['onclick']=()=>openDayOptions(_0x347a5c,_0x578a9f[_0x2964ff]+'\x20'+_0x5eab38['getDate']()),_0x526265['appendChild'](_0x579f30);const _0x4b7b8e=document[_0x56a7aa(0x1eb)](_0x56a7aa(0x224));_0x4b7b8e[_0x56a7aa(0x237)]=_0x56a7aa(0x27a)+(_0x3d3004?'today':''),_0x4b7b8e[_0x56a7aa(0x2fa)](_0x56a7aa(0x2d4),_0x347a5c),_0x4b7b8e[_0x56a7aa(0x2fa)](_0x56a7aa(0x290),_0x2964ff),renderEventsForColumn(_0x4b7b8e,_0x347a5c,_0x2964ff),attachLongPressHandler(_0x4b7b8e,_0x5eab38),_0x5d3f27[_0x56a7aa(0x318)](_0x4b7b8e),updateDayStats(_0x347a5c);}}function reRenderBlocks(){const _0x300231=a2_0x1d0b16;document[_0x300231(0x192)]('#gridColumns\x20.day-column')[_0x300231(0x2a0)](_0x3aacef=>{const _0x44cebf=_0x300231;_0x3aacef[_0x44cebf(0x192)](_0x44cebf(0x1a0))[_0x44cebf(0x2a0)](_0x19cb64=>_0x19cb64[_0x44cebf(0x1d5)]());const _0x3f5167=_0x3aacef[_0x44cebf(0x305)](_0x44cebf(0x2d4)),_0x12133a=parseInt(_0x3aacef[_0x44cebf(0x305)](_0x44cebf(0x290))),_0x52f137=Math['round'](_0x3aacef[_0x44cebf(0x2b7)]);(availabilityPattern[_0x12133a]||[])[_0x44cebf(0x2a0)](_0x3ddd24=>{const _0x5a2de1=_0x44cebf,_0x384b67=document[_0x5a2de1(0x1eb)](_0x5a2de1(0x224));_0x384b67['className']=_0x5a2de1(0x2ee);const _0x459720=_0x3ddd24*GRID_H;_0x384b67['style']['top']=_0x459720+'px',_0x384b67[_0x5a2de1(0x28b)][_0x5a2de1(0x2bf)]='-'+_0x52f137+_0x5a2de1(0x2cc)+_0x459720+'px',_0x3aacef[_0x5a2de1(0x318)](_0x384b67);});if(specialRanges&&specialRanges[_0x44cebf(0x265)]>0x0){const _0x4b7626=new Date(_0x3f5167+_0x44cebf(0x1d4))['getTime'](),_0x4d8eb4=new Date(_0x3f5167+'T23:59:59')[_0x44cebf(0x1f0)]();specialRanges['forEach'](_0x2cfdbb=>{const _0x31a96a=_0x44cebf,_0x3825e9=new Date(_0x2cfdbb[_0x31a96a(0x1b0)])[_0x31a96a(0x1f0)](),_0x44b0f8=new Date(_0x2cfdbb['end'])[_0x31a96a(0x1f0)](),_0x2b9de5=Math[_0x31a96a(0x24c)](_0x4b7626,_0x3825e9),_0x13589d=Math['min'](_0x4d8eb4,_0x44b0f8);if(_0x2b9de5<_0x13589d){if(_0x2b9de5<=_0x4b7626&&_0x13589d>=_0x4d8eb4-0xea60){if(!_0x3aacef[_0x31a96a(0x273)](_0x31a96a(0x1ce))){const _0x15fe99=document[_0x31a96a(0x1eb)](_0x31a96a(0x224));_0x15fe99[_0x31a96a(0x237)]=_0x31a96a(0x2d6),_0x15fe99[_0x31a96a(0x28b)][_0x31a96a(0x2bf)]='-'+_0x52f137+'px\x200px',_0x3aacef[_0x31a96a(0x318)](_0x15fe99);}}else{const _0x156413=(_0x2b9de5-_0x4b7626)/0x36ee80*GRID_H,_0x4c4933=(_0x13589d-_0x2b9de5)/0x36ee80*GRID_H,_0x572f94=document[_0x31a96a(0x1eb)](_0x31a96a(0x224));_0x572f94['className']='blocked-range-part\x20stripe-bg',_0x572f94[_0x31a96a(0x28b)][_0x31a96a(0x302)]=_0x156413+'px',_0x572f94['style'][_0x31a96a(0x285)]=_0x4c4933+'px',_0x572f94[_0x31a96a(0x28b)][_0x31a96a(0x2bf)]='-'+_0x52f137+_0x31a96a(0x2cc)+_0x156413+'px',_0x3aacef['appendChild'](_0x572f94);}}});}if(dateExceptions[_0x3f5167]===_0x44cebf(0x1e8)){if(!_0x3aacef[_0x44cebf(0x273)](_0x44cebf(0x1ce))){const _0x28ca50=document['createElement']('div');_0x28ca50[_0x44cebf(0x237)]=_0x44cebf(0x2d6),_0x28ca50[_0x44cebf(0x28b)][_0x44cebf(0x2bf)]='-'+_0x52f137+'px\x200px',_0x3aacef[_0x44cebf(0x318)](_0x28ca50);}}renderEventsForColumn(_0x3aacef,_0x3f5167,_0x12133a),updateDayStats(_0x3f5167);});}function updateAllDayStats(){const _0x58b5e9=a2_0x1d0b16;document[_0x58b5e9(0x192)]('.day-col-header')[_0x58b5e9(0x2a0)](_0x48513e=>{updateDayStats(_0x48513e['getAttribute']('data-date'));});}function updateDayStats(_0x4e5539){const _0x183493=a2_0x1d0b16,_0x1431d9=document[_0x183493(0x1fa)](_0x183493(0x1ba)+_0x4e5539);if(!_0x1431d9)return;const _0x3e0994=new Date(_0x4e5539);let _0x272049=_0x3e0994['getDay']()-0x1;if(_0x272049===-0x1)_0x272049=0x6;if(dateExceptions[_0x4e5539]===_0x183493(0x1e8)){_0x1431d9['style']['display']='none';return;}const _0x391746=availabilityPattern[_0x272049]||[],_0x2a09d5=0x18-_0x391746['length'],_0x17a203=_0x2a09d5*0x3c,_0x4fd869=sessions[_0x183493(0x204)](_0x56f88c=>_0x56f88c['dateStr']===_0x4e5539&&_0x56f88c['status']!==_0x183493(0x263));if(_0x4fd869[_0x183493(0x265)]===0x0){_0x1431d9[_0x183493(0x28b)][_0x183493(0x22e)]=_0x183493(0x294);return;}let _0x93eea7=_0x4fd869['map'](_0x45484b=>{const _0x750f13=_0x183493,[_0x5442bb,_0x3f64d3]=_0x45484b[_0x750f13(0x1b0)][_0x750f13(0x2ba)](':')[_0x750f13(0x2c8)](Number),[_0x3319c3,_0x439232]=_0x45484b[_0x750f13(0x250)]['split'](':')[_0x750f13(0x2c8)](Number);return[_0x5442bb*0x3c+_0x3f64d3,_0x3319c3*0x3c+_0x439232];});_0x93eea7[_0x183493(0x191)]((_0x11b345,_0x1b5a4b)=>_0x11b345[0x0]-_0x1b5a4b[0x0]);let _0x4604ee=[];if(_0x93eea7['length']>0x0){let _0x4f292c=_0x93eea7[0x0];for(let _0x1a6e86=0x1;_0x1a6e86<_0x93eea7[_0x183493(0x265)];_0x1a6e86++){_0x93eea7[_0x1a6e86][0x0]<_0x4f292c[0x1]?_0x4f292c[0x1]=Math[_0x183493(0x24c)](_0x4f292c[0x1],_0x93eea7[_0x1a6e86][0x1]):(_0x4604ee[_0x183493(0x266)](_0x4f292c),_0x4f292c=_0x93eea7[_0x1a6e86]);}_0x4604ee[_0x183493(0x266)](_0x4f292c);}let _0x26924f=0x0;_0x4604ee[_0x183493(0x2a0)](_0x11664a=>_0x26924f+=_0x11664a[0x1]-_0x11664a[0x0]),_0x1431d9['style'][_0x183493(0x22e)]=_0x183493(0x303);const _0x53e23f=_0x1431d9['querySelector'](_0x183493(0x2d5));if(_0x17a203===0x0){_0x53e23f[_0x183493(0x28b)][_0x183493(0x1cd)]=_0x183493(0x21d),_0x53e23f[_0x183493(0x28b)]['background']='var(--acc-red)';return;}const _0x460b7e=_0x26924f/_0x17a203*0x64;console[_0x183493(0x24a)]('['+_0x4e5539+_0x183493(0x23d)+_0x2a09d5+_0x183493(0x2d2)+_0x26924f+_0x183493(0x29f)+_0x460b7e['toFixed'](0x1)+'%'),_0x460b7e>0x64?(_0x53e23f['style']['width']=_0x183493(0x21d),_0x53e23f[_0x183493(0x28b)][_0x183493(0x30a)]=_0x183493(0x291)):(_0x53e23f['style']['width']=_0x460b7e+'%',_0x53e23f['style'][_0x183493(0x30a)]=_0x183493(0x2fb));}function renderEventsForColumn(_0x703fdd,_0x5e1a51,_0x3cd699){const _0x1d0bf9=a2_0x1d0b16,_0x26790b=sessions[_0x1d0bf9(0x204)](_0x9e3479=>_0x9e3479[_0x1d0bf9(0x260)]===_0x5e1a51),_0x280304=_0x26790b[_0x1d0bf9(0x2c8)](_0x623dd0=>{const _0xc980=_0x1d0bf9,[_0x110bca,_0x34e811]=_0x623dd0[_0xc980(0x1b0)][_0xc980(0x2ba)](':')[_0xc980(0x2c8)](Number),[_0x479d5b,_0x136790]=_0x623dd0['end'][_0xc980(0x2ba)](':')[_0xc980(0x2c8)](Number);return{'data':_0x623dd0,'start':_0x110bca*0x3c+_0x34e811,'end':_0x479d5b*0x3c+_0x136790,'colIndex':0x0};});_0x280304[_0x1d0bf9(0x191)]((_0xc5016f,_0x290de1)=>{const _0x1c91c2=_0x1d0bf9;if(_0xc5016f[_0x1c91c2(0x1b0)]!==_0x290de1[_0x1c91c2(0x1b0)])return _0xc5016f[_0x1c91c2(0x1b0)]-_0x290de1[_0x1c91c2(0x1b0)];return _0x290de1[_0x1c91c2(0x250)]-_0x290de1[_0x1c91c2(0x1b0)]-(_0xc5016f[_0x1c91c2(0x250)]-_0xc5016f[_0x1c91c2(0x1b0)]);});const _0x2b46d1=[];_0x280304[_0x1d0bf9(0x2a0)](_0x173c35=>{const _0x1f5bae=_0x1d0bf9;let _0x381b20=![];for(let _0x562450=0x0;_0x562450<_0x2b46d1[_0x1f5bae(0x265)];_0x562450++){const _0x56e1bf=_0x2b46d1[_0x562450],_0x328fe2=_0x56e1bf[_0x56e1bf[_0x1f5bae(0x265)]-0x1];if(_0x173c35[_0x1f5bae(0x1b0)]>=_0x328fe2[_0x1f5bae(0x250)]){_0x56e1bf['push'](_0x173c35),_0x173c35[_0x1f5bae(0x1b5)]=_0x562450,_0x381b20=!![];break;}}!_0x381b20&&(_0x2b46d1['push']([_0x173c35]),_0x173c35['colIndex']=_0x2b46d1['length']-0x1);}),_0x280304['forEach'](_0x1c32b2=>{const _0x34c1d0=_0x1d0bf9;let _0x17b3b7=0x0;_0x280304[_0x34c1d0(0x2a0)](_0x437afb=>{const _0x43c7c0=_0x34c1d0;if(Math[_0x43c7c0(0x24c)](_0x1c32b2[_0x43c7c0(0x1b0)],_0x437afb['start'])<Math['min'](_0x1c32b2[_0x43c7c0(0x250)],_0x437afb[_0x43c7c0(0x250)])){if(_0x437afb['colIndex']>_0x17b3b7)_0x17b3b7=_0x437afb[_0x43c7c0(0x1b5)];}});const _0x379834=_0x17b3b7+0x1,_0x192381=0x64/_0x379834,_0x365f7b=_0x1c32b2[_0x34c1d0(0x1b5)]*_0x192381,_0x937b26=createEventEl(_0x1c32b2[_0x34c1d0(0x2f6)]);_0x937b26[_0x34c1d0(0x28b)][_0x34c1d0(0x1cd)]=_0x34c1d0(0x27c)+_0x192381+'%\x20-\x204px)',_0x937b26[_0x34c1d0(0x28b)][_0x34c1d0(0x246)]=_0x34c1d0(0x27c)+_0x365f7b+_0x34c1d0(0x1f1),_0x937b26[_0x34c1d0(0x28b)][_0x34c1d0(0x21a)]=0xa+_0x1c32b2[_0x34c1d0(0x1b5)],_0x192381<0x55&&_0x937b26[_0x34c1d0(0x26f)][_0x34c1d0(0x2cd)]('mini'),_0x703fdd['appendChild'](_0x937b26);});}function createEventEl(_0x54cec2){const _0x170afc=a2_0x1d0b16,[_0x2f8391,_0x5cada2]=_0x54cec2['start'][_0x170afc(0x2ba)](':')['map'](Number),[_0x4ce12d,_0x1a5fee]=_0x54cec2[_0x170afc(0x250)][_0x170afc(0x2ba)](':')[_0x170afc(0x2c8)](Number),_0x105bad=(_0x2f8391*0x3c+_0x5cada2)/0x3c*GRID_H,_0x36e9b5=(_0x4ce12d*0x3c+_0x1a5fee-(_0x2f8391*0x3c+_0x5cada2))/0x3c*GRID_H,_0x31d22b=document['createElement']('div'),_0x2ff2e7=_0x54cec2[_0x170afc(0x1bb)]===_0x170afc(0x24d)?_0x170afc(0x1a1):'';_0x31d22b['className']=_0x170afc(0x19e)+_0x2ff2e7,_0x31d22b[_0x170afc(0x28b)][_0x170afc(0x302)]=_0x105bad+'px',_0x31d22b[_0x170afc(0x28b)][_0x170afc(0x285)]=Math['max'](_0x36e9b5,0x14)+'px';const _0x48fb40=clients['find'](_0x4c29a6=>_0x54cec2[_0x170afc(0x240)]&&String(_0x4c29a6['id'])===String(_0x54cec2[_0x170afc(0x240)])||_0x4c29a6[_0x170afc(0x1e4)]===_0x54cec2['client']),_0x12df0d=_0x48fb40?_0x48fb40[_0x170afc(0x238)]:_0x170afc(0x1d9);_0x31d22b[_0x170afc(0x28b)][_0x170afc(0x280)]=_0x12df0d,_0x31d22b[_0x170afc(0x28b)][_0x170afc(0x30c)]=hexToRgba(_0x12df0d,0.85);let _0x17e8d2=_0x170afc(0x232)+_0x54cec2[_0x170afc(0x300)]+_0x170afc(0x2b5)+_0x54cec2[_0x170afc(0x1b0)]+'\x20-\x20'+_0x54cec2['end']+_0x170afc(0x20e);return _0x54cec2['seriesId']&&(_0x17e8d2+=_0x170afc(0x23f)),_0x54cec2['status']===_0x170afc(0x24d)&&(_0x17e8d2+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x31d22b[_0x170afc(0x25b)]=_0x17e8d2,_0x31d22b[_0x170afc(0x2de)]=_0x2e9b5e=>{const _0x7e9f7=_0x170afc;_0x2e9b5e[_0x7e9f7(0x28a)](),openEdit(_0x54cec2);},_0x31d22b;}function attachLongPressHandler(_0x2af556,_0x570928){const _0x256feb=a2_0x1d0b16;let _0x561770=0x0,_0xff2409=null;const _0x41e6dc=_0x32b28e=>{const _0x51137d=a2_0x10dc;if(_0x32b28e[_0x51137d(0x23b)][_0x51137d(0x22c)](_0x51137d(0x22a)))return;isScrolling=![],_0x561770=_0x32b28e[_0x51137d(0x234)]?_0x32b28e[_0x51137d(0x234)][0x0][_0x51137d(0x1b6)]:_0x32b28e[_0x51137d(0x1b6)],_0xff2409=setTimeout(()=>{const _0x5d2cc6=_0x51137d;if(!isScrolling){navigator[_0x5d2cc6(0x274)]?.(0x32);const _0x890abb=_0x2af556[_0x5d2cc6(0x275)](),_0x53a636=Math[_0x5d2cc6(0x30b)]((_0x561770-_0x890abb['top'])/GRID_H);_0x570928[_0x5d2cc6(0x2b4)](_0x53a636,0x0),openAddSession(_0x570928);}},0x1f4);},_0x2aa58b=()=>{isScrolling=!![],clearTimeout(_0xff2409);},_0x3b3ba4=()=>{clearTimeout(_0xff2409);};_0x2af556[_0x256feb(0x194)]('touchstart',_0x41e6dc,{'passive':!![]}),_0x2af556[_0x256feb(0x194)]('touchmove',_0x2aa58b,{'passive':!![]}),_0x2af556['addEventListener'](_0x256feb(0x264),_0x3b3ba4),_0x2af556[_0x256feb(0x194)](_0x256feb(0x230),_0x41e6dc),_0x2af556[_0x256feb(0x194)](_0x256feb(0x2a4),_0x2aa58b),_0x2af556['addEventListener']('mouseup',_0x3b3ba4);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x25894b=a2_0x1d0b16,_0x43a749=document[_0x25894b(0x1fa)](_0x25894b(0x211)),_0x17ce60=_0x43a749[_0x25894b(0x306)],_0x1991f8=_0x43a749['scrollWidth'],_0x351464=_0x43a749[_0x25894b(0x223)];if(_0x1991f8-(_0x17ce60+_0x351464)<0x12c){const _0x172b4f=endOffset;endOffset+=0xe,renderDayRange(_0x172b4f+0x1,endOffset),reRenderBlocks();}if(_0x17ce60<0x12c){const _0x56a721=startOffset;startOffset-=0xe,prependDays(startOffset,_0x56a721-0x1),_0x43a749[_0x25894b(0x306)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1762a0,_0x52c458){const _0x46bfd5=a2_0x1d0b16,_0x4434cd=document['getElementById'](_0x46bfd5(0x1dd)),_0x465e47=document[_0x46bfd5(0x1fa)]('gridColumns'),_0x100b07=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1cf626=new Date();_0x1cf626['setHours'](0x0,0x0,0x0,0x0);const _0x2754eb=getLocalDateStr(new Date()),_0x2b4cf4=document[_0x46bfd5(0x2c2)](),_0x2ce59c=document['createDocumentFragment']();for(let _0x3f422b=_0x1762a0;_0x3f422b<=_0x52c458;_0x3f422b++){const _0xdeb5db=new Date(_0x1cf626);_0xdeb5db[_0x46bfd5(0x27e)](_0xdeb5db[_0x46bfd5(0x2b0)]()+_0x3f422b);const _0x3681a1=getLocalDateStr(_0xdeb5db);let _0x340da8=_0xdeb5db[_0x46bfd5(0x1c3)]()-0x1;if(_0x340da8===-0x1)_0x340da8=0x6;const _0x4e8dba=_0x3681a1===_0x2754eb,_0x7f5ac=document[_0x46bfd5(0x1eb)](_0x46bfd5(0x224));_0x7f5ac['className']='day-col-header\x20'+(_0x4e8dba?_0x46bfd5(0x29c):''),_0x7f5ac['id']=_0x46bfd5(0x295)+_0x3681a1,_0x7f5ac[_0x46bfd5(0x2fa)](_0x46bfd5(0x2d4),_0x3681a1),_0x7f5ac[_0x46bfd5(0x25b)]='<div\x20class=\x22dch-day\x22>'+_0x100b07[_0x340da8]+_0x46bfd5(0x199)+_0xdeb5db[_0x46bfd5(0x2b0)]()+_0x46bfd5(0x196)+_0x3681a1+_0x46bfd5(0x2bb),_0x7f5ac[_0x46bfd5(0x2de)]=()=>openDayOptions(_0x3681a1,_0x100b07[_0x340da8]+'\x20'+_0xdeb5db['getDate']()),_0x2b4cf4['appendChild'](_0x7f5ac);const _0x39d0e3=document[_0x46bfd5(0x1eb)]('div');_0x39d0e3[_0x46bfd5(0x237)]=_0x46bfd5(0x27a)+(_0x4e8dba?_0x46bfd5(0x29c):''),_0x39d0e3[_0x46bfd5(0x2fa)](_0x46bfd5(0x2d4),_0x3681a1),_0x39d0e3['setAttribute'](_0x46bfd5(0x290),_0x340da8),renderEventsForColumn(_0x39d0e3,_0x3681a1,_0x340da8),attachLongPressHandler(_0x39d0e3,_0xdeb5db),_0x2ce59c[_0x46bfd5(0x318)](_0x39d0e3),updateDayStats(_0x3681a1);}_0x4434cd[_0x46bfd5(0x2cb)](_0x2b4cf4,_0x4434cd[_0x46bfd5(0x221)]),_0x465e47[_0x46bfd5(0x2cb)](_0x2ce59c,_0x465e47[_0x46bfd5(0x273)](_0x46bfd5(0x1f5)));}function validateAppointment(_0x2fb4f9,_0x4c770f,_0x2b3e3b,_0x6f35ca,_0x54029e){const _0x1558a3=a2_0x1d0b16,[_0x3f0fea,_0x2c1c2a]=_0x4c770f[_0x1558a3(0x2ba)](':')[_0x1558a3(0x2c8)](Number),[_0x10cc35,_0x25139c]=_0x2b3e3b[_0x1558a3(0x2ba)](':')['map'](Number),_0x5076ae=_0x3f0fea*0x3c+_0x2c1c2a,_0x12e716=_0x10cc35*0x3c+_0x25139c,_0x4ae1e6=String(_0x54029e);let _0x503ed1=![],_0x57dddd='';for(let _0xa05225 of sessions){if(_0xa05225[_0x1558a3(0x260)]!==_0x2fb4f9)continue;if(_0xa05225[_0x1558a3(0x1bb)]===_0x1558a3(0x263))continue;if(_0x6f35ca&&String(_0xa05225['id'])===String(_0x6f35ca))continue;const [_0x5ee073,_0x31a103]=_0xa05225[_0x1558a3(0x1b0)][_0x1558a3(0x2ba)](':')['map'](Number),[_0x21243b,_0x334d51]=_0xa05225[_0x1558a3(0x250)][_0x1558a3(0x2ba)](':')[_0x1558a3(0x2c8)](Number),_0x1d0648=_0x5ee073*0x3c+_0x31a103,_0x17cdd1=_0x21243b*0x3c+_0x334d51;if(Math[_0x1558a3(0x24c)](_0x5076ae,_0x1d0648)<Math[_0x1558a3(0x2bc)](_0x12e716,_0x17cdd1)){if(_0xa05225[_0x1558a3(0x240)]&&String(_0xa05225[_0x1558a3(0x240)])===_0x4ae1e6)return{'valid':![],'msg':_0x1558a3(0x315)+_0xa05225['client']+_0x1558a3(0x1c8)};_0x503ed1=!![],_0x57dddd=_0xa05225[_0x1558a3(0x300)];}}if(_0x503ed1)return{'valid':!![],'warning':_0x1558a3(0x31a)+_0x57dddd};return{'valid':!![]};}function updateDateDisplay(){const _0x366536=a2_0x1d0b16,_0x413665=document[_0x366536(0x1fa)]('inpDate')[_0x366536(0x1af)],_0x25221b=document[_0x366536(0x1fa)]('sheetDateSubtitle');if(!_0x413665){_0x25221b[_0x366536(0x1ec)]='';return;}const [_0x366ab4,_0x5b2075,_0x42e48b]=_0x413665[_0x366536(0x2ba)]('-')[_0x366536(0x2c8)](Number),_0x5cab7a=new Date(_0x366ab4,_0x5b2075-0x1,_0x42e48b),_0x584e6b={'weekday':_0x366536(0x1fe),'day':_0x366536(0x2c0),'month':_0x366536(0x1fe),'year':_0x366536(0x2c0)};let _0x5a140f=_0x5cab7a['toLocaleDateString']('ru-RU',_0x584e6b);_0x5a140f=_0x5a140f[_0x366536(0x243)](0x0)['toUpperCase']()+_0x5a140f[_0x366536(0x2c1)](0x1),_0x25221b['textContent']=_0x5a140f;}function autoSetEndTime(){const _0x1fa625=a2_0x1d0b16,_0x575963=document[_0x1fa625(0x1fa)]('inpStart')[_0x1fa625(0x1af)];if(!_0x575963)return;const [_0x211097,_0x76e6c9]=_0x575963[_0x1fa625(0x2ba)](':')[_0x1fa625(0x2c8)](Number);let _0xd6c1f8=_0x211097+0x1;if(_0xd6c1f8>0x17)_0xd6c1f8=0x0;const _0x186169=String(_0xd6c1f8)[_0x1fa625(0x1a4)](0x2,'0')+':'+String(_0x76e6c9)[_0x1fa625(0x1a4)](0x2,'0');document['getElementById'](_0x1fa625(0x215))[_0x1fa625(0x1af)]=_0x186169;}function populateClientSelect(){const _0x549fbb=a2_0x1d0b16,_0x620f3f=document['getElementById'](_0x549fbb(0x256));_0x620f3f[_0x549fbb(0x25b)]='';if(clients[_0x549fbb(0x265)]===0x0){const _0xcd6fd5=document['createElement'](_0x549fbb(0x293));_0xcd6fd5[_0x549fbb(0x1e7)]=_0x549fbb(0x1ca),_0x620f3f['appendChild'](_0xcd6fd5);return;}clients[_0x549fbb(0x2a0)](_0x1c7803=>{const _0xbda1c1=_0x549fbb,_0x53bae4=document[_0xbda1c1(0x1eb)](_0xbda1c1(0x293));_0x53bae4[_0xbda1c1(0x1af)]=_0x1c7803['name'],_0x53bae4[_0xbda1c1(0x1ec)]=_0x1c7803[_0xbda1c1(0x1e4)],_0x620f3f[_0xbda1c1(0x318)](_0x53bae4);});}function openActionSheet(_0x368da1){const _0x59ff40=a2_0x1d0b16,_0x4f9448=document[_0x59ff40(0x1fa)](_0x59ff40(0x209)),_0x19b01f=document['getElementById'](_0x59ff40(0x19d)),_0x36028b=document[_0x59ff40(0x1fa)](_0x59ff40(0x198)),_0x383337=document['getElementById'](_0x59ff40(0x22f)),_0x251265=document['getElementById'](_0x59ff40(0x26a));_0x19b01f[_0x59ff40(0x26f)][_0x59ff40(0x2cd)](_0x59ff40(0x288)),_0x4f9448[_0x59ff40(0x26f)][_0x59ff40(0x2cd)](_0x59ff40(0x2f3));if(_0x368da1===_0x59ff40(0x1a7))_0x36028b[_0x59ff40(0x1ec)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x383337[_0x59ff40(0x1ec)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x383337[_0x59ff40(0x2de)]=()=>{const _0xba646f=_0x59ff40;closeActionSheet(),updateSeriesBatch(_0xba646f(0x1e6),tempSessionData);},_0x251265[_0x59ff40(0x1ec)]=_0x59ff40(0x2fe),_0x251265[_0x59ff40(0x2de)]=()=>{const _0x1050c6=_0x59ff40;closeActionSheet(),updateSeriesBatch(_0x1050c6(0x220),tempSessionData);};else _0x368da1===_0x59ff40(0x308)&&(_0x36028b[_0x59ff40(0x1ec)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x383337[_0x59ff40(0x1ec)]=_0x59ff40(0x1b2),_0x383337['className']=_0x59ff40(0x2d9),_0x383337['onclick']=()=>{const _0x141437=_0x59ff40;closeActionSheet(),commitDelete('single',sessions[_0x141437(0x1c6)](_0x480179=>_0x480179['id']===editingId));},_0x251265['textContent']=_0x59ff40(0x2fe),_0x251265[_0x59ff40(0x237)]=_0x59ff40(0x2e6),_0x251265[_0x59ff40(0x2de)]=()=>{const _0x2b9250=_0x59ff40;closeActionSheet(),commitDelete('series',sessions[_0x2b9250(0x1c6)](_0x4b3e97=>_0x4b3e97['id']===editingId));});}function closeActionSheet(){const _0x532d6b=a2_0x1d0b16;document['getElementById'](_0x532d6b(0x209))[_0x532d6b(0x26f)]['remove']('open'),document[_0x532d6b(0x1fa)]('actionSheetOverlay')[_0x532d6b(0x26f)][_0x532d6b(0x1d5)](_0x532d6b(0x288));}function openSettings(){const _0x17a02d=a2_0x1d0b16;openSheet(_0x17a02d(0x2e1));}function saveCoachSettings(){const _0x2422b6=a2_0x1d0b16,_0x52f1d3=document[_0x2422b6(0x1fa)](_0x2422b6(0x1a3))[_0x2422b6(0x1af)];localStorage[_0x2422b6(0x313)](_0x2422b6(0x19a),_0x52f1d3),console['log'](_0x2422b6(0x2fd),_0x52f1d3),DataManager[_0x2422b6(0x241)](_0x2422b6(0x2a8),{'settings':{'cancel_window':_0x52f1d3}})[_0x2422b6(0x197)](_0x15b270=>{const _0x5ef5f7=_0x2422b6;console['error'](_0x5ef5f7(0x286),_0x15b270),showToast(_0x5ef5f7(0x1e1),![]);});}function loadCoachSettings(){const _0x5b51eb=a2_0x1d0b16,_0xce385e=localStorage[_0x5b51eb(0x212)](_0x5b51eb(0x19a));_0xce385e&&(document['getElementById'](_0x5b51eb(0x1a3))[_0x5b51eb(0x1af)]=_0xce385e);}function openRangesSheet(){const _0x586a99=a2_0x1d0b16;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x586a99(0x236));}function a2_0x15bc(){const _0x9e38da=['btnDayToggle','calendar','uc_sessions_v9','data-day-idx','var(--acc-red)','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','option','none','header-','inpDate','overlay','uc_clients_v9','then','expand','10px','today','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','WebApp','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','forEach','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','anCustomDates','[Notify]\x20Network\x20Failed','mousemove','offsetWidth','getFullYear','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','save_settings','Local\x20Save\x20Error','seriesCountContainer','toastTitle','inpStart','recurringOptionContainer','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','toUpperCase','getDate','51441225wzkqls','</b>\x0a\x0a','apply','setHours','</div><div\x20class=\x22ev-time\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetLeft','settings','entries','split','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','min','stringify','send_notification','backgroundPosition','numeric','slice','createDocumentFragment','splice','setMonth','–£—Å–ø–µ—à–Ω–æ','getMonth','[Notify]\x20Server\x20Response:','map','time-label','indexOf','insertBefore','px\x20-','add','7ZuoDpG','setBackgroundColor','rgba(100,100,100,0.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','valid','data-date','.dch-stats-fill','day-off-overlay\x20stripe-bg','gridColumns','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','as-button\x20danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disableVerticalSwipes','seriesId','user','onclick','headerMonth','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','settingsSheet','checked','pe-corner','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','search','as-button\x20danger\x20bold','initDataUnsafe','undefined','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','ready','var(--acc-green)','doBusyHours','176272BlavdE','blocked-slot\x20stripe-bg','doLoadPercent',':\x20Client\x20already\x20booked','client-stat-card','[Notify]\x20Client\x20SWAP\x20detected','open','round','keys','data','<div\x20class=\x22dch-day\x22>','formatDate','block','setAttribute','var(--acc-current)','findIndex','[Settings]\x20Cancel\x20window\x20set\x20to:','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','onClick','client','[Sync]\x20Loading\x20','top','flex','[API\x20','getAttribute','scrollLeft','<b>‚úÖ\x20','delete','ranges','background','floor','backgroundColor','[Series]\x20Skipped\x20','rgba(255,\x2069,\x2058,\x200.3)','initData','Server\x20Error','inpSeriesCount','<span>','setItem','range-item','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','from','getMinutes','appendChild','complete','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','timeLineBadge','603130PlRlRY','sort','querySelectorAll','sid','addEventListener','create','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','catch','asTitle','</div><div\x20class=\x22dch-num\x22>','uc_settings_cancel_window','statLoadCard','2664BySkgH','actionSheetOverlay','event-card','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','\x20status-completed','(((.+)+)+)+$','settingCancelWindow','padStart','exceptions','patternEditor','save','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[Notify]\x20Detected\x20Client\x20ID:','\x20-\x20','anStart','deleted','parse','btn-status-toggle\x20undo-mode','value','start','substr','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','sheetTitle','colIndex','clientY','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','toLocaleDateString','borderRadius','stat-','status','localeCompare','\x20‚Äî\x20',']\x20Failed:','peGrid','pattern','strokeDashoffset','8118BmKTFk','getDay','Batch\x20Sync\x20OK','POST','find','2OyrLDb',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','Error\x20setting\x20back\x20button:','.day-col-header','width','.day-off-overlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','clients','v9.0-BATCH-CALENDAR','href','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','T00:00:00','remove','dayOptionsSheet','day-col-header\x20','toastMessage','#0a84ff','pe-col-header','anEnd','rangeStartDate','daysHeaderTrack','112FSKrgF','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','anDonutCircle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','DOMContentLoaded','done','name','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','single','text','off','BackButton','analyticsSheet','createElement','textContent','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','now','success','getTime','%\x20+\x202px)','#fff','text/plain;charset=UTF-8','guest','.day-column','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','toast','doDateHeader','warn','getElementById','var(--acc-orange)','\x20–∏–∑\x20','batch_sync','long','–ò–Ω—Ñ–æ','random','127611anudrb','rangeEndTime','rgba(255,255,255,0.05)','filter','Critical\x20TMA\x20Error:','getText','anTotalStats','router.html','actionSheet','error','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','total','Local\x20Load\x20Error','</div>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mergeServerData','matrixViewport','getItem','init_load','startsWith','inpEnd','toast-notification\x20','dayOptionsTitle','10877550uKyxOO','analyticsList','zIndex','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','month','100%','cancel','msg','series','firstChild','null','clientWidth','div','saveLocally','custom','loadLocal','scroll','\x20days','.event-card','rangeEndDate','closest','location','display','asBtnOne','mousedown','planned','<div\x20class=\x22ev-title\x22>','inpRecurring','touches','Telegram','rangesSheet','className','color','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','target','offClick',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','Error\x20setting\x20color:','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clientId','fetchFromServer','rgba(255,\x2069,\x2058,\x200.15)','charAt','00:00','btnStatusToggle','left','json','sessionSheet',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','log','...','max','completed','de-item','patternInfoBox','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel_window','doWorkHours','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','borderColor','inpClient','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','note','isArray','update','innerHTML','getHours','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','10px\x2010px\x200\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','dateStr','[Notify]\x20Error:\x20Text\x20generation\x20failed','23:59','cancelled','touchend','length','push','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','doEventsList','ru-RU','asBtnSeries','week','warning','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','7142298hMMrhl','classList','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','anPercent','inpNote','querySelector','vibrate','getBoundingClientRect','pe-cell\x20',':00','rangesList','.pib-text','day-column\x20','all','calc(',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','setDate','constructor','borderLeftColor','[Notify]\x20Error:\x20sessionData\x20is\x20null','toString','send','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','height','Save\x20settings\x20error:','btnDelete','active','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','stopPropagation','style','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'];a2_0x15bc=function(){return _0x9e38da;};return a2_0x15bc();}function addRange(){const _0x1d4ceb=a2_0x1d0b16,_0x5e1a1c=document['getElementById'](_0x1d4ceb(0x1dc))['value'],_0x1446ee=document[_0x1d4ceb(0x1fa)]('rangeStartTime')['value'],_0x3899c9=document[_0x1d4ceb(0x1fa)](_0x1d4ceb(0x22b))['value'],_0x5a4700=document[_0x1d4ceb(0x1fa)](_0x1d4ceb(0x202))['value'];if(!_0x5e1a1c||!_0x1446ee||!_0x3899c9||!_0x5a4700)return alert(_0x1d4ceb(0x1df));const _0x8ed355=_0x5e1a1c+'T'+_0x1446ee,_0x4dc431=_0x3899c9+'T'+_0x5a4700;if(_0x8ed355>=_0x4dc431)return alert(_0x1d4ceb(0x2e4));specialRanges[_0x1d4ceb(0x266)]({'start':_0x8ed355,'end':_0x4dc431}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1d4ceb(0x225)](),DataManager[_0x1d4ceb(0x241)](_0x1d4ceb(0x2a8),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5a54a3){const _0x5db10e=a2_0x1d0b16;specialRanges[_0x5db10e(0x2c3)](_0x5a54a3,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5db10e(0x225)](),DataManager[_0x5db10e(0x241)](_0x5db10e(0x2a8),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x55b3b0=a2_0x1d0b16;document[_0x55b3b0(0x1fa)](_0x55b3b0(0x1dc))[_0x55b3b0(0x1af)]='',document[_0x55b3b0(0x1fa)]('rangeStartTime')[_0x55b3b0(0x1af)]=_0x55b3b0(0x244),document[_0x55b3b0(0x1fa)](_0x55b3b0(0x22b))[_0x55b3b0(0x1af)]='',document['getElementById'](_0x55b3b0(0x202))[_0x55b3b0(0x1af)]=_0x55b3b0(0x262);}function renderRangesList(){const _0x320da4=a2_0x1d0b16,_0x5ce898=document['getElementById'](_0x320da4(0x278));_0x5ce898[_0x320da4(0x25b)]='';if(!specialRanges[_0x320da4(0x265)]){_0x5ce898[_0x320da4(0x25b)]=_0x320da4(0x267);return;}specialRanges[_0x320da4(0x2a0)]((_0x37451a,_0x46e5a9)=>{const _0x157b2d=_0x320da4,_0x3be1aa=document[_0x157b2d(0x1eb)](_0x157b2d(0x224));_0x3be1aa[_0x157b2d(0x237)]=_0x157b2d(0x314);const _0x104665=_0x215980=>{const _0x397ae1=_0x157b2d,_0x3f9bba=new Date(_0x215980);return _0x3f9bba['getDate']()+'.'+String(_0x3f9bba['getMonth']()+0x1)[_0x397ae1(0x1a4)](0x2,'0')+'\x20'+String(_0x3f9bba[_0x397ae1(0x25c)]())[_0x397ae1(0x1a4)](0x2,'0')+':'+String(_0x3f9bba[_0x397ae1(0x317)]())[_0x397ae1(0x1a4)](0x2,'0');};_0x3be1aa['innerHTML']=_0x157b2d(0x1cf)+_0x104665(_0x37451a[_0x157b2d(0x1b0)])+'\x20‚Äî\x20'+_0x104665(_0x37451a[_0x157b2d(0x250)])+_0x157b2d(0x1a8)+_0x46e5a9+_0x157b2d(0x249),_0x5ce898[_0x157b2d(0x318)](_0x3be1aa);});}function scrollToToday(){const _0x5baa01=a2_0x1d0b16,_0x51b63f=getLocalDateStr(new Date()),_0x20d962=document[_0x5baa01(0x1fa)](_0x5baa01(0x295)+_0x51b63f),_0x534dfd=document[_0x5baa01(0x1fa)](_0x5baa01(0x211));if(_0x20d962&&_0x534dfd){const _0x39dce2=_0x534dfd[_0x5baa01(0x223)],_0x3d088c=_0x20d962['offsetLeft'],_0x145147=_0x20d962[_0x5baa01(0x2a5)];_0x534dfd[_0x5baa01(0x306)]=_0x3d088c-_0x39dce2/0x2+_0x145147/0x2,_0x534dfd['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x5070b9=a2_0x1d0b16,_0x1e58b4=document['getElementById']('matrixViewport'),_0x3f35e8=document[_0x5070b9(0x192)](_0x5070b9(0x1cc));for(let _0x293884 of _0x3f35e8)if(_0x293884[_0x5070b9(0x2b7)]>=_0x1e58b4[_0x5070b9(0x306)]){const _0x2fd1ad=new Date(_0x293884[_0x5070b9(0x305)]('data-date'));document[_0x5070b9(0x1fa)](_0x5070b9(0x2df))[_0x5070b9(0x1ec)]=_0x2fd1ad['toLocaleString']('ru',{'month':_0x5070b9(0x1fe)})[_0x5070b9(0x2af)]()+'\x20'+_0x2fd1ad[_0x5070b9(0x2a6)]();break;}}function showToast(_0x9442f9,_0x25f242=![]){const _0x26bf98=a2_0x1d0b16,_0x2a1627=document[_0x26bf98(0x1fa)](_0x26bf98(0x1f7));_0x2a1627[_0x26bf98(0x237)]=_0x26bf98(0x216)+(_0x25f242?_0x26bf98(0x1ef):''),document[_0x26bf98(0x1fa)](_0x26bf98(0x2ab))[_0x26bf98(0x1ec)]=_0x25f242?_0x26bf98(0x2c5):_0x26bf98(0x1ff),document['getElementById'](_0x26bf98(0x1d8))[_0x26bf98(0x1ec)]=_0x9442f9,_0x2a1627[_0x26bf98(0x26f)][_0x26bf98(0x2cd)]('show'),setTimeout(()=>{_0x2a1627['classList']['remove']('show');},0xbb8);}function openDayOptions(_0x54e6c7,_0x2aab02){const _0x45641d=a2_0x1d0b16;selectedDayForOptions=_0x54e6c7,document[_0x45641d(0x1fa)](_0x45641d(0x217))[_0x45641d(0x1ec)]=_0x2aab02,openSheet(_0x45641d(0x1d6));}function toggleDayOff(){const _0x2e1ed0=a2_0x1d0b16;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x2e1ed0(0x1e8),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x2e1ed0(0x241)](_0x2e1ed0(0x2a8),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1c719b=a2_0x1d0b16;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1c719b(0x225)](),DataManager['fetchFromServer'](_0x1c719b(0x2a8),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x159e49){const _0x3154da=a2_0x1d0b16;document[_0x3154da(0x1fa)](_0x3154da(0x297))['classList'][_0x3154da(0x2cd)](_0x3154da(0x288)),document[_0x3154da(0x1fa)](_0x159e49)[_0x3154da(0x26f)][_0x3154da(0x2cd)](_0x3154da(0x2f3));}function closeAllSheets(){const _0x432f70=a2_0x1d0b16;document[_0x432f70(0x1fa)](_0x432f70(0x297))['classList'][_0x432f70(0x1d5)](_0x432f70(0x288)),document[_0x432f70(0x192)]('.sheet')[_0x432f70(0x2a0)](_0x80ac87=>_0x80ac87[_0x432f70(0x26f)]['remove'](_0x432f70(0x2f3)));}function openPatternEditor(){const _0x39c912=a2_0x1d0b16;closeAllSheets(),document[_0x39c912(0x1fa)](_0x39c912(0x1a6))[_0x39c912(0x26f)][_0x39c912(0x2cd)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x30a033=a2_0x1d0b16;document[_0x30a033(0x1fa)](_0x30a033(0x1a6))['classList'][_0x30a033(0x1d5)](_0x30a033(0x2f3));}function a2_0x10dc(_0x5b7e73,_0x1fcb16){_0x5b7e73=_0x5b7e73-0x190;const _0x56445f=a2_0x15bc();let _0x1cb160=_0x56445f[_0x5b7e73];return _0x1cb160;}function savePattern(){const _0x38e64a=a2_0x1d0b16;document[_0x38e64a(0x1fa)](_0x38e64a(0x1a6))[_0x38e64a(0x26f)][_0x38e64a(0x1d5)](_0x38e64a(0x2f3)),reRenderBlocks(),DataManager[_0x38e64a(0x225)](),DataManager['fetchFromServer'](_0x38e64a(0x2a8),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x106d4a=a2_0x1d0b16,_0x2a8065=document[_0x106d4a(0x1fa)](_0x106d4a(0x1bf));_0x2a8065[_0x106d4a(0x25b)]='';const _0x3d1ee1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5a1c22=document[_0x106d4a(0x1eb)](_0x106d4a(0x224));_0x5a1c22['className']=_0x106d4a(0x2e3),_0x2a8065['appendChild'](_0x5a1c22),_0x3d1ee1[_0x106d4a(0x2a0)]((_0x4e19cf,_0x484fdb)=>{const _0xaa855b=_0x106d4a,_0x1a6d06=document[_0xaa855b(0x1eb)](_0xaa855b(0x224));_0x1a6d06[_0xaa855b(0x237)]=_0xaa855b(0x1da),_0x1a6d06[_0xaa855b(0x25b)]=_0x4e19cf+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1a6d06[_0xaa855b(0x2de)]=()=>toggleColPattern(_0x484fdb),_0x2a8065[_0xaa855b(0x318)](_0x1a6d06);});for(let _0x10b551=0x0;_0x10b551<0x18;_0x10b551++){const _0xa86788=document[_0x106d4a(0x1eb)]('div');_0xa86788[_0x106d4a(0x237)]='pe-time-label',_0xa86788[_0x106d4a(0x25b)]=_0x106d4a(0x270)+String(_0x10b551)[_0x106d4a(0x1a4)](0x2,'0')+_0x106d4a(0x277),_0xa86788[_0x106d4a(0x2de)]=()=>toggleRowPattern(_0x10b551),_0x2a8065[_0x106d4a(0x318)](_0xa86788);for(let _0x3ebf56=0x0;_0x3ebf56<0x7;_0x3ebf56++){const _0x1b1bf2=document['createElement'](_0x106d4a(0x224)),_0x5b12db=(availabilityPattern[_0x3ebf56]||[])['includes'](_0x10b551),_0x57525f=!_0x5b12db;_0x1b1bf2[_0x106d4a(0x237)]=_0x106d4a(0x276)+(_0x57525f?_0x106d4a(0x288):''),_0x1b1bf2['onclick']=()=>toggleSinglePattern(_0x3ebf56,_0x10b551),_0x2a8065[_0x106d4a(0x318)](_0x1b1bf2);}}}function toggleSinglePattern(_0x30e0b8,_0x544e6d){const _0xf73ce4=a2_0x1d0b16;if(!availabilityPattern[_0x30e0b8])availabilityPattern[_0x30e0b8]=[];const _0x4205dd=availabilityPattern[_0x30e0b8],_0x38f694=_0x4205dd[_0xf73ce4(0x2ca)](_0x544e6d);_0x38f694===-0x1?_0x4205dd[_0xf73ce4(0x266)](_0x544e6d):_0x4205dd['splice'](_0x38f694,0x1),renderPatternEditor();}function toggleColPattern(_0x34409e){const _0x397443=a2_0x1d0b16;if(!availabilityPattern[_0x34409e])availabilityPattern[_0x34409e]=[];const _0x3a3390=availabilityPattern[_0x34409e];_0x3a3390[_0x397443(0x265)]===0x0?availabilityPattern[_0x34409e]=Array['from']({'length':0x18},(_0x225189,_0x4aa438)=>_0x4aa438):availabilityPattern[_0x34409e]=[],renderPatternEditor();}function toggleRowPattern(_0x1ce934){const _0x9e8e17=a2_0x1d0b16;let _0x305a46=!![];for(let _0x352613=0x0;_0x352613<0x7;_0x352613++){if((availabilityPattern[_0x352613]||[])['includes'](_0x1ce934)){_0x305a46=![];break;}}for(let _0x1e2ff3=0x0;_0x1e2ff3<0x7;_0x1e2ff3++){if(!availabilityPattern[_0x1e2ff3])availabilityPattern[_0x1e2ff3]=[];const _0x3da228=availabilityPattern[_0x1e2ff3][_0x9e8e17(0x2ca)](_0x1ce934);if(_0x305a46){if(_0x3da228===-0x1)availabilityPattern[_0x1e2ff3][_0x9e8e17(0x266)](_0x1ce934);}else{if(_0x3da228!==-0x1)availabilityPattern[_0x1e2ff3]['splice'](_0x3da228,0x1);}}renderPatternEditor();}function renderPCol(_0x5760b0,_0x4d11be){const _0x259519=a2_0x1d0b16;_0x5760b0[_0x259519(0x25b)]='';const _0x1aff8a=Math[_0x259519(0x2f4)](_0x5760b0[_0x259519(0x2b7)]);(availabilityPattern[_0x4d11be]||[])[_0x259519(0x2a0)](_0x643214=>{const _0x1df23f=_0x259519,_0x3fb4c0=document[_0x1df23f(0x1eb)](_0x1df23f(0x224));_0x3fb4c0['className']=_0x1df23f(0x2ee);const _0x39cf89=_0x643214*GRID_H;_0x3fb4c0[_0x1df23f(0x28b)][_0x1df23f(0x302)]=_0x39cf89+'px',_0x3fb4c0[_0x1df23f(0x28b)]['backgroundPosition']='-'+_0x1aff8a+'px\x20-'+_0x39cf89+'px',_0x3fb4c0['onclick']=_0x41bbf8=>{const _0x489f46=_0x1df23f;_0x41bbf8[_0x489f46(0x28a)](),toggleSinglePattern(_0x4d11be,_0x643214);},_0x5760b0[_0x1df23f(0x318)](_0x3fb4c0);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x56bd61=a2_0x1d0b16,_0x6d5b52=new Date(),_0x534757=document[_0x56bd61(0x1fa)]('globalTimeLine'),_0x4d1528=document[_0x56bd61(0x1fa)](_0x56bd61(0x31b)),_0x9d8957=(_0x6d5b52[_0x56bd61(0x25c)]()*0x3c+_0x6d5b52[_0x56bd61(0x317)]())/0x3c*GRID_H;_0x534757[_0x56bd61(0x28b)][_0x56bd61(0x302)]=_0x9d8957+'px',_0x534757['style'][_0x56bd61(0x22e)]=_0x56bd61(0x2f9),_0x4d1528['textContent']=String(_0x6d5b52[_0x56bd61(0x25c)]())[_0x56bd61(0x1a4)](0x2,'0')+':'+String(_0x6d5b52[_0x56bd61(0x317)]())[_0x56bd61(0x1a4)](0x2,'0'),_0x4d1528[_0x56bd61(0x28b)]['display']='block',_0x4d1528['style'][_0x56bd61(0x302)]=_0x9d8957+'px';}document[a2_0x1d0b16(0x194)](a2_0x1d0b16(0x1e2),init);function openDayOptions(_0x2ee5e5){const _0x1f9d3f=a2_0x1d0b16;selectedDayForOptions=_0x2ee5e5;const _0x3d1b0f=new Date(_0x2ee5e5),_0x4768b7={'weekday':_0x1f9d3f(0x1fe),'day':'numeric','month':_0x1f9d3f(0x1fe),'year':_0x1f9d3f(0x2c0)},_0x59f169=_0x3d1b0f[_0x1f9d3f(0x1b8)]('ru-RU',_0x4768b7);document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x1f8))['textContent']=_0x59f169[_0x1f9d3f(0x243)](0x0)[_0x1f9d3f(0x2af)]()+_0x59f169[_0x1f9d3f(0x2c1)](0x1);let _0x3f65cf=_0x3d1b0f[_0x1f9d3f(0x1c3)]()-0x1;if(_0x3f65cf===-0x1)_0x3f65cf=0x6;const _0x1e2065=availabilityPattern[_0x3f65cf]||[],_0x3e8137=0x18-_0x1e2065[_0x1f9d3f(0x265)],_0x210018=_0x3e8137*0x3c,_0x395bd4=sessions[_0x1f9d3f(0x204)](_0x3ca479=>_0x3ca479['dateStr']===_0x2ee5e5&&_0x3ca479[_0x1f9d3f(0x1bb)]!==_0x1f9d3f(0x263));let _0x504b59=_0x395bd4[_0x1f9d3f(0x2c8)](_0x561a46=>{const _0x561dda=_0x1f9d3f,[_0x324949,_0x4768c4]=_0x561a46[_0x561dda(0x1b0)][_0x561dda(0x2ba)](':')[_0x561dda(0x2c8)](Number),[_0x145510,_0x60d77d]=_0x561a46['end'][_0x561dda(0x2ba)](':')['map'](Number);return[_0x324949*0x3c+_0x4768c4,_0x145510*0x3c+_0x60d77d];});_0x504b59[_0x1f9d3f(0x191)]((_0x15034b,_0x3625e2)=>_0x15034b[0x0]-_0x3625e2[0x0]);let _0x15abf5=[];if(_0x504b59[_0x1f9d3f(0x265)]>0x0){let _0x4cf7dc=_0x504b59[0x0];for(let _0x5b6180=0x1;_0x5b6180<_0x504b59[_0x1f9d3f(0x265)];_0x5b6180++){_0x504b59[_0x5b6180][0x0]<_0x4cf7dc[0x1]?_0x4cf7dc[0x1]=Math[_0x1f9d3f(0x24c)](_0x4cf7dc[0x1],_0x504b59[_0x5b6180][0x1]):(_0x15abf5[_0x1f9d3f(0x266)](_0x4cf7dc),_0x4cf7dc=_0x504b59[_0x5b6180]);}_0x15abf5['push'](_0x4cf7dc);}let _0x50c18e=0x0;_0x15abf5[_0x1f9d3f(0x2a0)](_0x2946d9=>_0x50c18e+=_0x2946d9[0x1]-_0x2946d9[0x0]),document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x253))[_0x1f9d3f(0x1ec)]=formatMinsToHrs(_0x210018),document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x2ec))['textContent']=formatMinsToHrs(_0x50c18e);const _0x20326b=_0x210018>0x0?Math['round'](_0x50c18e/_0x210018*0x64):0x0,_0x59bc7f=document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x2ef));_0x59bc7f[_0x1f9d3f(0x1ec)]=_0x20326b+'%';const _0x4328f8=document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x19b));if(_0x20326b>0x64)_0x59bc7f['style'][_0x1f9d3f(0x238)]='var(--acc-red)',_0x4328f8[_0x1f9d3f(0x28b)][_0x1f9d3f(0x255)]=_0x1f9d3f(0x30e);else _0x20326b>0x50?(_0x59bc7f[_0x1f9d3f(0x28b)]['color']=_0x1f9d3f(0x1fb),_0x4328f8['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x59bc7f['style'][_0x1f9d3f(0x238)]=_0x1f9d3f(0x2eb),_0x4328f8['style']['borderColor']=_0x1f9d3f(0x203));const _0x2b8495=document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x268));_0x2b8495['innerHTML']='';_0x395bd4[_0x1f9d3f(0x265)]===0x0?_0x2b8495[_0x1f9d3f(0x25b)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x395bd4[_0x1f9d3f(0x191)]((_0x21c9a,_0x1a47f7)=>_0x21c9a[_0x1f9d3f(0x1b0)][_0x1f9d3f(0x1bc)](_0x1a47f7['start'])),_0x395bd4['forEach'](_0x39ea26=>{const _0x48d394=_0x1f9d3f,_0xcfdd92=clients[_0x48d394(0x1c6)](_0x4e0ed9=>_0x4e0ed9[_0x48d394(0x1e4)]===_0x39ea26['client']),_0x1cbe90=_0xcfdd92?_0xcfdd92['color']:_0x48d394(0x1f2),_0x1086d9=_0x39ea26[_0x48d394(0x1bb)]===_0x48d394(0x24d),_0x210d92=_0x1086d9?_0x48d394(0x239):'',_0x527756=document[_0x48d394(0x1eb)](_0x48d394(0x224));_0x527756[_0x48d394(0x237)]=_0x48d394(0x24e),_0x527756[_0x48d394(0x28b)][_0x48d394(0x280)]=_0x1cbe90,_0x527756[_0x48d394(0x25b)]=_0x48d394(0x25f)+_0x39ea26[_0x48d394(0x1b0)]+_0x48d394(0x1aa)+_0x39ea26['end']+_0x48d394(0x2b6)+_0x39ea26[_0x48d394(0x300)]+_0x48d394(0x251)+_0x210d92+_0x48d394(0x2da),_0x2b8495[_0x48d394(0x318)](_0x527756);}));const _0x5e8170=document[_0x1f9d3f(0x1fa)](_0x1f9d3f(0x28d)),_0x14a888=dateExceptions[_0x2ee5e5]===_0x1f9d3f(0x1e8);_0x14a888?(_0x5e8170[_0x1f9d3f(0x1ec)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x5e8170[_0x1f9d3f(0x237)]='btn-primary\x20btn-secondary',_0x5e8170['style']['color']=_0x1f9d3f(0x2eb),_0x5e8170[_0x1f9d3f(0x28b)][_0x1f9d3f(0x30a)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x5e8170['textContent']=_0x1f9d3f(0x2a1),_0x5e8170[_0x1f9d3f(0x237)]='btn-primary\x20btn-danger',_0x5e8170[_0x1f9d3f(0x28b)][_0x1f9d3f(0x238)]=_0x1f9d3f(0x291),_0x5e8170[_0x1f9d3f(0x28b)][_0x1f9d3f(0x30a)]=_0x1f9d3f(0x242)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x5630c4=a2_0x1d0b16,_0x515cbb=document[_0x5630c4(0x273)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x515cbb),closeAllSheets(),openSheet(_0x5630c4(0x1ea));}function setAnalyticsPeriod(_0x21c995,_0xb6cda2){const _0x1c6f70=a2_0x1d0b16;currentAnPeriod=_0x21c995,document[_0x1c6f70(0x192)]('.period-switch\x20.p-btn')['forEach'](_0x4e8cab=>_0x4e8cab['classList'][_0x1c6f70(0x1d5)](_0x1c6f70(0x288)));if(_0xb6cda2)_0xb6cda2['classList'][_0x1c6f70(0x2cd)]('active');const _0x2e54ec=document['getElementById'](_0x1c6f70(0x2a2));_0x2e54ec[_0x1c6f70(0x28b)][_0x1c6f70(0x22e)]=_0x21c995===_0x1c6f70(0x226)?_0x1c6f70(0x303):'none';const _0x419ae1=new Date();let _0x34a426=new Date(),_0x57ece3=new Date();if(_0x21c995===_0x1c6f70(0x26b))_0x34a426=getStartOfWeek(_0x419ae1),_0x57ece3=new Date(_0x34a426),_0x57ece3[_0x1c6f70(0x27e)](_0x57ece3[_0x1c6f70(0x2b0)]()+0x6);else{if(_0x21c995===_0x1c6f70(0x21c))_0x34a426=new Date(_0x419ae1['getFullYear'](),_0x419ae1[_0x1c6f70(0x2c6)](),0x1),_0x57ece3=new Date(_0x419ae1[_0x1c6f70(0x2a6)](),_0x419ae1[_0x1c6f70(0x2c6)]()+0x1,0x0);else{!document['getElementById'](_0x1c6f70(0x1ab))[_0x1c6f70(0x1af)]&&(document['getElementById'](_0x1c6f70(0x1ab))[_0x1c6f70(0x1af)]=getLocalDateStr(_0x419ae1),document[_0x1c6f70(0x1fa)](_0x1c6f70(0x1db))[_0x1c6f70(0x1af)]=getLocalDateStr(_0x419ae1));refreshAnalytics();return;}}document['getElementById'](_0x1c6f70(0x1ab))[_0x1c6f70(0x1af)]=getLocalDateStr(_0x34a426),document[_0x1c6f70(0x1fa)]('anEnd')[_0x1c6f70(0x1af)]=getLocalDateStr(_0x57ece3),refreshAnalytics();}function refreshAnalytics(){const _0x760bb3=a2_0x1d0b16,_0x16214e=document['getElementById'](_0x760bb3(0x1ab))['value'],_0x5d25d8=document[_0x760bb3(0x1fa)]('anEnd')[_0x760bb3(0x1af)];if(!_0x16214e||!_0x5d25d8)return;const _0x11df2f=sessions[_0x760bb3(0x204)](_0x4cf8a5=>_0x4cf8a5[_0x760bb3(0x260)]>=_0x16214e&&_0x4cf8a5[_0x760bb3(0x260)]<=_0x5d25d8&&_0x4cf8a5[_0x760bb3(0x1bb)]!=='cancelled'),_0x41a785=_0x11df2f[_0x760bb3(0x265)],_0xe039ad=_0x11df2f[_0x760bb3(0x204)](_0x2442ad=>_0x2442ad['status']===_0x760bb3(0x24d))[_0x760bb3(0x265)],_0x3fcbb1=_0x41a785>0x0?Math['round'](_0xe039ad/_0x41a785*0x64):0x0;document[_0x760bb3(0x1fa)](_0x760bb3(0x271))[_0x760bb3(0x1ec)]=_0x3fcbb1+'%',document['getElementById'](_0x760bb3(0x207))[_0x760bb3(0x1ec)]=_0xe039ad+_0x760bb3(0x1fc)+_0x41a785+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x33e321=document[_0x760bb3(0x1fa)](_0x760bb3(0x1e0)),_0xaaf061=0x2*Math['PI']*0x23,_0x5cb42c=_0xaaf061-_0x3fcbb1/0x64*_0xaaf061;_0x33e321['style'][_0x760bb3(0x1c1)]=_0x5cb42c;const _0x296a6d={};_0x11df2f['forEach'](_0x1d0c5f=>{const _0x15d56d=_0x760bb3;if(!_0x296a6d[_0x1d0c5f['client']]){const _0x43f9c4=clients[_0x15d56d(0x1c6)](_0xd58661=>_0xd58661[_0x15d56d(0x1e4)]===_0x1d0c5f[_0x15d56d(0x300)]);_0x296a6d[_0x1d0c5f[_0x15d56d(0x300)]]={'total':0x0,'done':0x0,'color':_0x43f9c4?_0x43f9c4[_0x15d56d(0x238)]:_0x15d56d(0x1f2)};}_0x296a6d[_0x1d0c5f['client']][_0x15d56d(0x20c)]++;if(_0x1d0c5f[_0x15d56d(0x1bb)]===_0x15d56d(0x24d))_0x296a6d[_0x1d0c5f[_0x15d56d(0x300)]]['done']++;});const _0x5c6716=document['getElementById'](_0x760bb3(0x219));_0x5c6716[_0x760bb3(0x25b)]='';const _0x507ed0=Object[_0x760bb3(0x2b9)](_0x296a6d)[_0x760bb3(0x191)]((_0xceaa9e,_0x87e308)=>_0x87e308[0x1][_0x760bb3(0x20c)]-_0xceaa9e[0x1]['total']);if(_0x507ed0[_0x760bb3(0x265)]===0x0){_0x5c6716[_0x760bb3(0x25b)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x507ed0[_0x760bb3(0x2a0)](([_0x4aadc9,_0x56c43f])=>{const _0x2b4e43=_0x760bb3,_0x44d94d=Math[_0x2b4e43(0x2f4)](_0x56c43f[_0x2b4e43(0x1e3)]/_0x56c43f['total']*0x64),_0x3264ab=document['createElement'](_0x2b4e43(0x224));_0x3264ab[_0x2b4e43(0x237)]=_0x2b4e43(0x2f1),_0x3264ab[_0x2b4e43(0x28b)][_0x2b4e43(0x280)]=_0x56c43f[_0x2b4e43(0x238)],_0x3264ab[_0x2b4e43(0x25b)]=_0x2b4e43(0x2d1)+_0x4aadc9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x56c43f[_0x2b4e43(0x1e3)]+'</span>\x20/\x20'+_0x56c43f[_0x2b4e43(0x20c)]+_0x2b4e43(0x29d)+_0x44d94d+_0x2b4e43(0x20f),_0x5c6716[_0x2b4e43(0x318)](_0x3264ab);});}function formatMinsToHrs(_0x416668){const _0xec1182=a2_0x1d0b16;if(_0x416668===0x0)return'0';const _0x2275dd=Math[_0xec1182(0x30b)](_0x416668/0x3c),_0x209a1d=_0x416668%0x3c;if(_0x209a1d===0x0)return _0x2275dd+'—á';return _0x2275dd+'—á\x20'+_0x209a1d+'–º';}