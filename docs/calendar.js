const a2_0x51a5bb=a2_0x5251;(function(_0x1ef7ea,_0x329700){const _0x172473=a2_0x5251,_0x505aab=_0x1ef7ea();while(!![]){try{const _0x5efa50=-parseInt(_0x172473(0x1fa))/0x1*(parseInt(_0x172473(0x254))/0x2)+parseInt(_0x172473(0x1ec))/0x3*(-parseInt(_0x172473(0x218))/0x4)+parseInt(_0x172473(0x24a))/0x5*(parseInt(_0x172473(0x1a7))/0x6)+-parseInt(_0x172473(0x232))/0x7*(parseInt(_0x172473(0x1b1))/0x8)+-parseInt(_0x172473(0x1ed))/0x9+parseInt(_0x172473(0x297))/0xa+-parseInt(_0x172473(0x18a))/0xb*(-parseInt(_0x172473(0x24e))/0xc);if(_0x5efa50===_0x329700)break;else _0x505aab['push'](_0x505aab['shift']());}catch(_0x2b638e){_0x505aab['push'](_0x505aab['shift']());}}}(a2_0x5bd7,0x7829d),function initTMA(){const _0x22aedc=a2_0x5251;try{const _0x5e5276=window['Telegram']?.[_0x22aedc(0x2c8)];if(!_0x5e5276)return;_0x5e5276[_0x22aedc(0x236)](),_0x5e5276['expand']();try{_0x5e5276[_0x22aedc(0x2b8)](_0x22aedc(0x1b6)),_0x5e5276[_0x22aedc(0x27e)]&&_0x5e5276[_0x22aedc(0x27e)](_0x22aedc(0x1b6));}catch(_0x18316b){console[_0x22aedc(0x282)]('Error\x20setting\x20color:',_0x18316b);}try{_0x5e5276[_0x22aedc(0x247)]&&(_0x5e5276[_0x22aedc(0x247)][_0x22aedc(0x1bb)](),_0x5e5276[_0x22aedc(0x247)][_0x22aedc(0x1a1)](),_0x5e5276[_0x22aedc(0x247)][_0x22aedc(0x1be)](function(){const _0x91282=_0x22aedc;window[_0x91282(0x202)][_0x91282(0x160)]=_0x91282(0x1d5);}));}catch(_0x4eeb65){console['log'](_0x22aedc(0x28b),_0x4eeb65);}try{if(_0x5e5276[_0x22aedc(0x20f)])_0x5e5276[_0x22aedc(0x20f)]();}catch(_0x11532a){}}catch(_0x1a0672){console[_0x22aedc(0x1d8)]('Critical\x20TMA\x20Error:',_0x1a0672);}}());function isAdmin(){const _0x262b20=a2_0x5251;try{const _0x47588c=Number(window[_0x262b20(0x288)]?.[_0x262b20(0x2c8)]?.[_0x262b20(0x2c6)]?.[_0x262b20(0x182)]?.['id']);return _0x47588c===0xbaf7174;}catch(_0x4856eb){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x51a5bb(0x15d),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x51a5bb(0x258),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x51a5bb(0x1f8);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5d9fb7=a2_0x51a5bb;return window[_0x5d9fb7(0x288)]?.['WebApp']?.[_0x5d9fb7(0x2c6)]?.[_0x5d9fb7(0x182)]?.['id']||_0x5d9fb7(0x25e);},'saveLocally'(){const _0x20df42=a2_0x51a5bb;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x20df42(0x294)](clients)),localStorage[_0x20df42(0x2ca)](KEY_SESSIONS,JSON[_0x20df42(0x294)](sessions)),localStorage[_0x20df42(0x2ca)](KEY_SETTINGS,JSON[_0x20df42(0x294)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5eed79){console[_0x20df42(0x1d8)]('Local\x20Save\x20Error',_0x5eed79);}},'loadLocal'(){const _0xfe62c=a2_0x51a5bb;try{const _0x2d4fd9=localStorage['getItem'](KEY_CLIENTS);if(_0x2d4fd9)clients=JSON['parse'](_0x2d4fd9);const _0x25a801=localStorage[_0xfe62c(0x180)](KEY_SESSIONS);if(_0x25a801)sessions=JSON[_0xfe62c(0x266)](_0x25a801);const _0x10b993=localStorage['getItem'](KEY_SETTINGS);if(_0x10b993){const _0x18f425=JSON[_0xfe62c(0x266)](_0x10b993);if(_0x18f425[_0xfe62c(0x241)])availabilityPattern=_0x18f425[_0xfe62c(0x241)];if(_0x18f425[_0xfe62c(0x16d)])dateExceptions=_0x18f425[_0xfe62c(0x16d)];if(_0x18f425['ranges'])specialRanges=_0x18f425[_0xfe62c(0x1db)];}else{for(let _0x6c8798=0x0;_0x6c8798<0x7;_0x6c8798++)availabilityPattern[_0x6c8798]=Array[_0xfe62c(0x1af)]({'length':0xc},(_0x14cec0,_0x356dac)=>_0x356dac+0x9);}}catch(_0x35ac8b){console[_0xfe62c(0x1d8)](_0xfe62c(0x214),_0x35ac8b);}},async 'fetchFromServer'(_0x514715,_0x1c94c9={}){const _0x5a9511=a2_0x51a5bb,_0x55a839=window[_0x5a9511(0x288)]?.['WebApp'],_0x8626e8={'action':_0x514715,'init_data':_0x55a839?.[_0x5a9511(0x255)]||'',..._0x1c94c9};try{const _0xa2ff54=await fetch(API_URL,{'method':_0x5a9511(0x223),'headers':{'Content-Type':_0x5a9511(0x209)},'body':JSON['stringify'](_0x8626e8)}),_0x45f0d5=await _0xa2ff54[_0x5a9511(0x1fe)]();if(!_0x45f0d5['ok'])throw new Error(_0x45f0d5[_0x5a9511(0x1d8)]||'Server\x20Error');return _0x45f0d5[_0x5a9511(0x2ba)];}catch(_0x2cd119){console[_0x5a9511(0x1d8)]('[API\x20'+_0x514715+_0x5a9511(0x1c7),_0x2cd119);throw _0x2cd119;}},async 'syncLoad'(){const _0x5ac1a3=a2_0x51a5bb,_0x84a704=new Date(),_0x4cec72=_0x84a704[_0x5ac1a3(0x1e7)]()+'-'+String(_0x84a704[_0x5ac1a3(0x203)]()+0x1)[_0x5ac1a3(0x2a1)](0x2,'0'),_0x752d3c=new Date(_0x84a704);_0x752d3c[_0x5ac1a3(0x215)](_0x84a704['getMonth']()+0x1);const _0x4b1296=_0x752d3c[_0x5ac1a3(0x1e7)]()+'-'+String(_0x752d3c[_0x5ac1a3(0x203)]()+0x1)[_0x5ac1a3(0x2a1)](0x2,'0'),_0x4f9ff9=Date['now']();console[_0x5ac1a3(0x282)](_0x5ac1a3(0x213)+_0x4cec72+',\x20'+_0x4b1296+_0x5ac1a3(0x25c));try{const [_0x4645c4,_0x5763b5]=await Promise[_0x5ac1a3(0x1ba)]([this['fetchFromServer'](_0x5ac1a3(0x184),{'month_str':_0x4cec72}),this['fetchFromServer']('init_load',{'month_str':_0x4b1296})]);if(lastUserActionTime>_0x4f9ff9)return console['warn'](_0x5ac1a3(0x1ab)),![];return this['mergeServerData'](_0x4645c4,_0x4cec72),this[_0x5ac1a3(0x212)](_0x5763b5,_0x4b1296),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x48d276){console[_0x5ac1a3(0x1d8)](_0x48d276);throw _0x48d276;}},'mergeServerData'(_0x6c7f6c,_0x50d8d5){const _0x1d65a6=a2_0x51a5bb;if(!_0x6c7f6c)return;_0x6c7f6c[_0x1d65a6(0x249)]&&Array['isArray'](_0x6c7f6c[_0x1d65a6(0x249)])&&(clients=_0x6c7f6c['clients']);if(_0x6c7f6c[_0x1d65a6(0x278)]){if(_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x241)])availabilityPattern=_0x6c7f6c[_0x1d65a6(0x278)]['pattern'];if(_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x16d)])dateExceptions=_0x6c7f6c['settings'][_0x1d65a6(0x16d)];if(_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x1db)])specialRanges=_0x6c7f6c['settings']['ranges'];if(_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x23f)]){localStorage[_0x1d65a6(0x2ca)](_0x1d65a6(0x18f),_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x23f)]);const _0x3d3a57=document[_0x1d65a6(0x2c9)]('settingCancelWindow');if(_0x3d3a57)_0x3d3a57[_0x1d65a6(0x150)]=_0x6c7f6c[_0x1d65a6(0x278)][_0x1d65a6(0x23f)];}}_0x6c7f6c[_0x1d65a6(0x1dc)]&&(sessions=sessions[_0x1d65a6(0x1d4)](_0x5673d3=>!_0x5673d3[_0x1d65a6(0x1cf)][_0x1d65a6(0x1a4)](_0x50d8d5)),Object[_0x1d65a6(0x2a0)](_0x6c7f6c[_0x1d65a6(0x1dc)])['forEach'](_0x37c698=>{const _0x926f35=_0x1d65a6,_0x447974=_0x6c7f6c[_0x926f35(0x1dc)][_0x37c698];_0x447974[_0x926f35(0x20c)](_0x4233d2=>{const _0x3b693a=_0x926f35,_0x179012=clients[_0x3b693a(0x2aa)](_0x25d71a=>String(_0x25d71a['id'])===String(_0x4233d2['c']));sessions[_0x3b693a(0x17b)]({'id':_0x4233d2['i'],'clientId':_0x4233d2['c'],'client':_0x179012?_0x179012['name']:_0x3b693a(0x1cd),'dateStr':_0x50d8d5+'-'+_0x37c698[_0x3b693a(0x2a1)](0x2,'0'),'start':_0x4233d2['s'],'end':_0x4233d2['e'],'status':_0x4233d2['st']||_0x3b693a(0x2af),'note':_0x4233d2['n']||'','seriesId':_0x4233d2['sid']||null});});}));},async 'syncBatch'(_0x53719d){const _0x55f55a=a2_0x51a5bb,_0x3f9c83=[...new Set(_0x53719d)],_0x251f26=_0x3f9c83[_0x55f55a(0x205)](_0x4b3fcc=>{const _0x35acd0=_0x55f55a,_0x56a31a=sessions[_0x35acd0(0x1d4)](_0x37b90e=>_0x37b90e[_0x35acd0(0x1cf)]===_0x4b3fcc&&_0x37b90e[_0x35acd0(0x1a6)]!==_0x35acd0(0x1c3)),_0x486a7f=_0x56a31a[_0x35acd0(0x205)](_0x4f86b9=>({'i':_0x4f86b9['id'],'c':_0x4f86b9[_0x35acd0(0x1bf)],'s':_0x4f86b9['start'],'e':_0x4f86b9['end'],'st':_0x4f86b9['status'],'n':_0x4f86b9['note'],'sid':_0x4f86b9[_0x35acd0(0x194)]}));return{'date':_0x4b3fcc,'day_data':_0x486a7f};});if(_0x251f26[_0x55f55a(0x21f)]===0x0)return;console[_0x55f55a(0x282)](_0x55f55a(0x28c)+_0x251f26[_0x55f55a(0x21f)]+_0x55f55a(0x238)),await this[_0x55f55a(0x265)](_0x55f55a(0x2bb),{'changes':_0x251f26});}};async function init(){const _0x48aca8=a2_0x51a5bb;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x48aca8(0x2c9)](_0x48aca8(0x253))[_0x48aca8(0x1b5)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x48aca8(0x256)]()['then'](()=>{const _0x5e609b=_0x48aca8;showToast(_0x5e609b(0x26c),!![]);})['catch'](_0x483609=>{const _0x4f64f8=_0x48aca8;showToast(_0x4f64f8(0x2bc),![]);});}function generateId(){const _0x2d035e=a2_0x51a5bb;return Date[_0x2d035e(0x1fd)]()[_0x2d035e(0x2b5)](0x24)+Math[_0x2d035e(0x299)]()['toString'](0x24)[_0x2d035e(0x24d)](0x2,0x5);}function a2_0x5251(_0x2ddb19,_0x5ca7ff){_0x2ddb19=_0x2ddb19-0x14d;const _0x49f9e8=a2_0x5bd7();let _0x16a2ef=_0x49f9e8[_0x2ddb19];return _0x16a2ef;}function toggleSeriesInput(){const _0x2532cb=a2_0x51a5bb,_0x2a0b0a=document['getElementById'](_0x2532cb(0x201))['checked'],_0xf4fc36=document[_0x2532cb(0x2c9)](_0x2532cb(0x1e6));_0xf4fc36[_0x2532cb(0x2a8)][_0x2532cb(0x2b4)]=_0x2a0b0a?_0x2532cb(0x15f):'none';const _0x566c57=document['getElementById'](_0x2532cb(0x157));_0x566c57['style']['borderRadius']=_0x2a0b0a?'10px\x2010px\x200\x200':_0x2532cb(0x17f);}function openAddSession(_0x30d7a0){const _0x20578c=a2_0x51a5bb;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')[_0x20578c(0x15e)]=_0x20578c(0x1a8),document[_0x20578c(0x2c9)]('btnDelete')[_0x20578c(0x2a8)][_0x20578c(0x2b4)]=_0x20578c(0x195),document['getElementById'](_0x20578c(0x21b))[_0x20578c(0x2a8)][_0x20578c(0x2b4)]=_0x20578c(0x195);const _0x264a65=document['getElementById']('recurringOptionContainer'),_0x1c9d96=document[_0x20578c(0x2c9)](_0x20578c(0x1e6));_0x264a65[_0x20578c(0x2a8)][_0x20578c(0x2b4)]=_0x20578c(0x18b),_0x264a65['style'][_0x20578c(0x196)]='10px',document[_0x20578c(0x2c9)](_0x20578c(0x201))[_0x20578c(0x229)]=![],document[_0x20578c(0x2c9)](_0x20578c(0x21d))[_0x20578c(0x150)]=0x4,_0x1c9d96[_0x20578c(0x2a8)][_0x20578c(0x2b4)]=_0x20578c(0x195),document[_0x20578c(0x2c9)](_0x20578c(0x1f5))[_0x20578c(0x150)]=getLocalDateStr(_0x30d7a0),updateDateDisplay();const _0x3ceb2e=_0x30d7a0[_0x20578c(0x277)]();document[_0x20578c(0x2c9)](_0x20578c(0x20a))[_0x20578c(0x150)]=String(_0x3ceb2e)[_0x20578c(0x2a1)](0x2,'0')+_0x20578c(0x191),document[_0x20578c(0x2c9)](_0x20578c(0x23d))[_0x20578c(0x150)]=String(_0x3ceb2e+0x1)[_0x20578c(0x2a1)](0x2,'0')+_0x20578c(0x191),openSheet(_0x20578c(0x23e));}function openEdit(_0x1c95b3){const _0x427df3=a2_0x51a5bb;editingId=_0x1c95b3['id'],populateClientSelect(),document[_0x427df3(0x2c9)](_0x427df3(0x19d))[_0x427df3(0x15e)]=_0x427df3(0x16a),document[_0x427df3(0x2c9)](_0x427df3(0x22d))[_0x427df3(0x2a8)][_0x427df3(0x2b4)]=_0x427df3(0x15f);const _0x2f95b4=document[_0x427df3(0x2c9)](_0x427df3(0x21b));_0x2f95b4[_0x427df3(0x2a8)][_0x427df3(0x2b4)]='flex';_0x1c95b3[_0x427df3(0x1a6)]===_0x427df3(0x169)?(_0x2f95b4[_0x427df3(0x1cc)]=_0x427df3(0x1da),_0x2f95b4[_0x427df3(0x285)]=_0x427df3(0x224)):(_0x2f95b4[_0x427df3(0x1cc)]=_0x427df3(0x2a5),_0x2f95b4['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x4706d1=!!_0x1c95b3['seriesId'];document[_0x427df3(0x2c9)]('recurringOptionContainer')[_0x427df3(0x2a8)]['display']=_0x427df3(0x195),document['getElementById'](_0x427df3(0x1e6))[_0x427df3(0x2a8)][_0x427df3(0x2b4)]=_0x427df3(0x195),_0x4706d1?(document['getElementById']('patternInfoBox')[_0x427df3(0x2a8)][_0x427df3(0x2b4)]=_0x427df3(0x18b),document[_0x427df3(0x2c9)](_0x427df3(0x216))[_0x427df3(0x219)](_0x427df3(0x276))['textContent']=_0x427df3(0x1d6)):document[_0x427df3(0x2c9)](_0x427df3(0x216))[_0x427df3(0x2a8)][_0x427df3(0x2b4)]=_0x427df3(0x195),document[_0x427df3(0x2c9)](_0x427df3(0x263))[_0x427df3(0x150)]=_0x1c95b3[_0x427df3(0x281)],document[_0x427df3(0x2c9)]('inpDate')['value']=_0x1c95b3[_0x427df3(0x1cf)],document[_0x427df3(0x2c9)](_0x427df3(0x20a))['value']=_0x1c95b3[_0x427df3(0x2c7)],document['getElementById'](_0x427df3(0x23d))[_0x427df3(0x150)]=_0x1c95b3[_0x427df3(0x1b0)],document[_0x427df3(0x2c9)](_0x427df3(0x2b6))[_0x427df3(0x150)]=_0x1c95b3[_0x427df3(0x158)]||'',updateDateDisplay(),openSheet(_0x427df3(0x23e));}async function trySaveSession(){const _0x5f4068=a2_0x51a5bb,_0x102fc4=document['getElementById'](_0x5f4068(0x263))[_0x5f4068(0x150)],_0x4a6196=document[_0x5f4068(0x2c9)](_0x5f4068(0x1f5))[_0x5f4068(0x150)],_0x134caf=document[_0x5f4068(0x2c9)](_0x5f4068(0x20a))[_0x5f4068(0x150)],_0xcc29c=document['getElementById'](_0x5f4068(0x23d))['value'],_0x12fad8=document['getElementById'](_0x5f4068(0x2b6))[_0x5f4068(0x150)],_0x7fb366=document[_0x5f4068(0x2c9)]('inpRecurring')[_0x5f4068(0x229)];let _0x211f05=0x4;if(_0x7fb366){const _0x17e33a=parseInt(document[_0x5f4068(0x2c9)](_0x5f4068(0x21d))['value']);if(!_0x17e33a||_0x17e33a<0x2){showToast(_0x5f4068(0x274),![]);return;}if(_0x17e33a>0x64){showToast(_0x5f4068(0x22a),![]);return;}_0x211f05=_0x17e33a;}const _0x3abd67=clients['find'](_0x47399a=>_0x47399a[_0x5f4068(0x1ad)]===_0x102fc4);if(!_0x3abd67){showToast(_0x5f4068(0x1ff),![]);return;}const _0xa2e5ca=validateAppointment(_0x4a6196,_0x134caf,_0xcc29c,editingId,_0x3abd67['id']);if(!_0xa2e5ca['valid']){showToast(_0xa2e5ca[_0x5f4068(0x190)],![]);return;}_0xa2e5ca[_0x5f4068(0x1bc)]&&showToast(_0xa2e5ca[_0x5f4068(0x1bc)],![]);const _0x2ed65b={'client':_0x102fc4,'clientId':_0x3abd67['id'],'start':_0x134caf,'end':_0xcc29c,'note':_0x12fad8,'status':_0x5f4068(0x2af)},_0x37a2bf=editingId?sessions[_0x5f4068(0x2aa)](_0x3d6cc1=>_0x3d6cc1['id']===editingId):null;if(_0x37a2bf&&_0x37a2bf[_0x5f4068(0x194)]){tempSessionData={..._0x2ed65b,'dateStr':_0x4a6196,'id':editingId,'seriesId':_0x37a2bf[_0x5f4068(0x194)]},openActionSheet(_0x5f4068(0x1e0));return;}let _0x97e54f=null;if(!editingId)_0x97e54f=_0x5f4068(0x231);else{if(_0x37a2bf){if(String(_0x37a2bf[_0x5f4068(0x1bf)])!==String(_0x3abd67['id']))console[_0x5f4068(0x282)](_0x5f4068(0x2cb)),NotificationManager[_0x5f4068(0x1d0)](_0x5f4068(0x210),_0x37a2bf),_0x97e54f=_0x5f4068(0x231);else(_0x37a2bf[_0x5f4068(0x2c7)]!==_0x134caf||_0x37a2bf[_0x5f4068(0x1b0)]!==_0xcc29c||_0x37a2bf[_0x5f4068(0x1cf)]!==_0x4a6196)&&(_0x97e54f=_0x5f4068(0x23a));}}if(!editingId&&_0x7fb366){createBatchSeries(_0x2ed65b,_0x4a6196,_0x211f05),NotificationManager[_0x5f4068(0x1d0)](_0x5f4068(0x231),{..._0x2ed65b,'dateStr':_0x4a6196});return;}lastUserActionTime=Date[_0x5f4068(0x1fd)]();const _0x433ecb={..._0x2ed65b,'dateStr':_0x4a6196,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x433ecb),_0x97e54f&&NotificationManager[_0x5f4068(0x1d0)](_0x97e54f,_0x433ecb);}function toggleSessionStatus(){const _0x346be4=a2_0x51a5bb;lastUserActionTime=Date[_0x346be4(0x1fd)]();const _0x579e1d=sessions[_0x346be4(0x2aa)](_0x1f67ec=>_0x1f67ec['id']===editingId);if(!_0x579e1d)return;const _0x173ba7=_0x579e1d[_0x346be4(0x1a6)]===_0x346be4(0x169)?_0x346be4(0x2af):'completed';_0x579e1d[_0x346be4(0x1a6)]=_0x173ba7,saveSingleSession(_0x579e1d),_0x173ba7==='completed'&&NotificationManager['send'](_0x346be4(0x279),_0x579e1d),showToast(_0x173ba7==='completed'?_0x346be4(0x15b):_0x346be4(0x1f1),!![]);}function validateAppointment(_0x634c23,_0x286e50,_0x3c8833,_0x242fe6,_0x7a10ff){const _0x478379=a2_0x51a5bb,[_0x21f777,_0x2c6611]=_0x286e50[_0x478379(0x287)](':')[_0x478379(0x205)](Number),[_0x58e767,_0x3f82e9]=_0x3c8833[_0x478379(0x287)](':')[_0x478379(0x205)](Number),_0x26a60e=_0x21f777*0x3c+_0x2c6611,_0x457519=_0x58e767*0x3c+_0x3f82e9,_0x3f3782=String(_0x7a10ff);let _0x53641f=![],_0x34894b='';for(let _0x2697ac of sessions){if(_0x2697ac[_0x478379(0x1cf)]!==_0x634c23)continue;if(_0x2697ac[_0x478379(0x1a6)]===_0x478379(0x242))continue;if(_0x242fe6&&String(_0x2697ac['id'])===String(_0x242fe6))continue;const [_0x468c1a,_0x58f70b]=_0x2697ac[_0x478379(0x2c7)][_0x478379(0x287)](':')[_0x478379(0x205)](Number),[_0x3a4b64,_0x5f18e3]=_0x2697ac['end']['split'](':')[_0x478379(0x205)](Number),_0x1fccc2=_0x468c1a*0x3c+_0x58f70b,_0x37d5cc=_0x3a4b64*0x3c+_0x5f18e3;if(Math[_0x478379(0x29f)](_0x26a60e,_0x1fccc2)<Math[_0x478379(0x25f)](_0x457519,_0x37d5cc)){if(_0x2697ac[_0x478379(0x1bf)]&&String(_0x2697ac['clientId'])===_0x3f3782)return{'valid':![],'msg':_0x478379(0x1f2)+_0x2697ac[_0x478379(0x281)]+_0x478379(0x1c2)};_0x53641f=!![],_0x34894b=_0x2697ac['client'];}}if(_0x53641f)return{'valid':!![],'warning':_0x478379(0x20d)+_0x34894b};return{'valid':!![]};}function saveSingleSession(_0x4b7cae){const _0x3fadb7=a2_0x51a5bb;if(editingId){const _0xa92c14=sessions[_0x3fadb7(0x1b3)](_0x32ca01=>_0x32ca01['id']===editingId);if(_0xa92c14!==-0x1)sessions[_0xa92c14]=_0x4b7cae;}else sessions[_0x3fadb7(0x17b)](_0x4b7cae);afterSaveAction([_0x4b7cae[_0x3fadb7(0x1cf)]]);}function createBatchSeries(_0x3b986b,_0x3dea58,_0x1722a1){const _0x38b69c=a2_0x51a5bb,_0x5bfd99=generateId(),_0x1ca228=[],_0x6529c6=[];let _0x3a23ef=0x0,_0x59166b=new Date(_0x3dea58);for(let _0x38b489=0x0;_0x38b489<_0x1722a1;_0x38b489++){const _0x18de25=getLocalDateStr(_0x59166b),_0x57f64c=validateAppointment(_0x18de25,_0x3b986b['start'],_0x3b986b[_0x38b69c(0x1b0)],null,_0x3b986b['clientId']);if(!_0x57f64c[_0x38b69c(0x14f)])console[_0x38b69c(0x282)](_0x38b69c(0x1df)+_0x18de25+_0x38b69c(0x1e4)),_0x3a23ef++;else{const _0x371e1f={..._0x3b986b,'id':generateId(),'dateStr':_0x18de25,'seriesId':_0x5bfd99};_0x6529c6[_0x38b69c(0x17b)](_0x371e1f),_0x1ca228[_0x38b69c(0x17b)](_0x18de25);}_0x59166b[_0x38b69c(0x165)](_0x59166b[_0x38b69c(0x164)]()+0x7);}if(_0x6529c6[_0x38b69c(0x21f)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x38b69c(0x17b)](..._0x6529c6),lastUserActionTime=Date[_0x38b69c(0x1fd)]();let _0x644a35='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x6529c6[_0x38b69c(0x21f)];_0x3a23ef>0x0&&(_0x644a35+=_0x38b69c(0x291)+_0x3a23ef+')'),showToast(_0x644a35,!![]),afterSaveAction(_0x1ca228);}function updateSeriesBatch(_0xbc69a,_0x3c52fc){const _0xc30cd7=a2_0x51a5bb,_0x2fa924=[],_0x3d1bc5=_0x3c52fc['seriesId'];if(_0xbc69a===_0xc30cd7(0x18c)){const _0x4b574b={..._0x3c52fc,'seriesId':null},_0x11e4ac=sessions['findIndex'](_0x3b3af6=>_0x3b3af6['id']===_0x3c52fc['id']);if(_0x11e4ac!==-0x1)sessions[_0x11e4ac]=_0x4b574b;_0x2fa924['push'](_0x4b574b[_0xc30cd7(0x1cf)]);}else{if(_0xbc69a===_0xc30cd7(0x1eb)){const _0x15901a=_0x3c52fc[_0xc30cd7(0x1cf)];sessions[_0xc30cd7(0x20c)]((_0x20d831,_0x12677a)=>{const _0x2dab09=_0xc30cd7;_0x20d831[_0x2dab09(0x194)]===_0x3d1bc5&&_0x20d831[_0x2dab09(0x1cf)]>=_0x15901a&&(sessions[_0x12677a]={...sessions[_0x12677a],'start':_0x3c52fc['start'],'end':_0x3c52fc['end'],'note':_0x3c52fc[_0x2dab09(0x158)],'client':_0x3c52fc[_0x2dab09(0x281)],'clientId':_0x3c52fc[_0x2dab09(0x1bf)]},_0x2fa924['push'](_0x20d831[_0x2dab09(0x1cf)]));});}}afterSaveAction(_0x2fa924);}function tryDeleteSession(){const _0x54017d=a2_0x51a5bb,_0x4016e6=sessions['find'](_0x24bf64=>_0x24bf64['id']===editingId);if(!_0x4016e6)return;_0x4016e6[_0x54017d(0x194)]?openActionSheet(_0x54017d(0x22f)):commitDelete(_0x54017d(0x18c),_0x4016e6);}function commitDelete(_0x14b4dd,_0x151766){const _0x2e2f0c=a2_0x51a5bb;lastUserActionTime=Date['now'](),NotificationManager[_0x2e2f0c(0x1d0)]('cancel',_0x151766);const _0x3419c3=[];if(_0x14b4dd==='single')sessions=sessions[_0x2e2f0c(0x1d4)](_0x11b529=>_0x11b529['id']!==_0x151766['id']),_0x3419c3[_0x2e2f0c(0x17b)](_0x151766[_0x2e2f0c(0x1cf)]);else{if(_0x14b4dd===_0x2e2f0c(0x1eb)){const _0x1aa848=_0x151766[_0x2e2f0c(0x1cf)],_0x5d0237=_0x151766[_0x2e2f0c(0x194)];sessions[_0x2e2f0c(0x20c)](_0x53f9bb=>{const _0x1889ad=_0x2e2f0c;_0x53f9bb[_0x1889ad(0x194)]===_0x5d0237&&_0x53f9bb[_0x1889ad(0x1cf)]>=_0x1aa848&&_0x3419c3['push'](_0x53f9bb['dateStr']);}),sessions=sessions[_0x2e2f0c(0x1d4)](_0x9df077=>!(_0x9df077[_0x2e2f0c(0x194)]===_0x5d0237&&_0x9df077[_0x2e2f0c(0x1cf)]>=_0x1aa848));}}afterSaveAction(_0x3419c3);}function afterSaveAction(_0x4b6d75){const _0x504e42=a2_0x51a5bb;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x504e42(0x27a)](_0x4b6d75)[_0x504e42(0x230)](()=>console[_0x504e42(0x282)](_0x504e42(0x1c0)))[_0x504e42(0x24f)](_0x53fee7=>showToast(_0x504e42(0x198),![]));}function a2_0x5bd7(){const _0x188ef0=['name','gridColumns','from','end','40sOWwGM','<div\x20class=\x22ev-title\x22>','findIndex','rgba(255,\x2069,\x2058,\x200.3)','addEventListener','#050505','div','(((.+)+)+)+$','<div\x20class=\x22dch-day\x22>','all','show','warning','blocked-slot\x20stripe-bg','onClick','clientId','Batch\x20Sync\x20OK','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','deleted','open','anCustomDates','</span>\x20/\x20',']\x20Failed:','text','borderColor','long','peGrid','className','Unknown','numeric','dateStr','send','week','rangeEndDate','timeLineBadge','filter','router.html','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','error','day-col-header\x20','btn-status-toggle\x20undo-mode','ranges','calendar','\x20–∏–∑\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[Series]\x20Skipped\x20','save','mouseup','indexOf','toastMessage',':\x20Client\x20already\x20booked','dayOptionsTitle','seriesCountContainer','getFullYear','anDonutCircle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','series','246vhDFfB','4850136KyLsGm','stat-','classList','[Settings]\x20Cancel\x20window\x20set\x20to:','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','entries','saveLocally','inpDate','toastTitle','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','uc_settings_v9','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','15619CtypbJ','round','apply','now','json','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','inpRecurring','location','getMonth','querySelectorAll','map','success','T00:00:00','var(--acc-red)','text/plain;charset=UTF-8','inpStart','option','forEach','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','slice','disableVerticalSwipes','cancel','23:59','mergeServerData','[Sync]\x20Loading\x20','Local\x20Load\x20Error','setMonth','patternInfoBox','pe-time-label','28640EthJvk','querySelector','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','btnStatusToggle','constructor','inpSeriesCount','.day-column','length','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settingsSheet','target','POST','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','zIndex','pe-corner','color','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','checked','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','sort','btnDelete','toUpperCase','delete','then','create','341663vnpTLh','doLoadPercent','%\x20-\x204px)','send_notification','ready','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20days','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','update','.sheet','getBoundingClientRect','inpEnd','sessionSheet','cancel_window','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','pattern','cancelled','patternEditor','day-off-overlay\x20stripe-bg','getTime','px\x20-','BackButton','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','clients','138055jWoOqj','.day-col-header','btn-primary\x20btn-secondary','substr','36SIZvXD','catch','statLoadCard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','splice','matrixViewport','118dyOvKy','initData','syncLoad','total','uc_clients_v9','remove','doBusyHours','localeCompare','...','save_settings','guest','min','stopPropagation','onclick','%\x20+\x202px)','inpClient','px\x200px','fetchFromServer','parse','clientWidth','daysHeaderTrack','undefined','[Notify]\x20Server\x20Response:','backgroundPosition','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','offsetLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','clientY','add','\x20status-completed','as-button\x20danger','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','doEventsList','.pib-text','getHours','settings','complete','syncBatch','[Notify]\x20Attempting\x20to\x20send:','colIndex','background','setBackgroundColor','floor','touchend','client','log','vibrate','<span>','innerHTML','rgba(255,255,255,0.05)','split','Telegram','search','[Notify]\x20Error:\x20sessionData\x20is\x20null','Error\x20setting\x20back\x20button:','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','top','rangeStartTime','anPercent','#0a84ff','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','ru-RU','stringify','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','5933480AvYONR','getMinutes','random','setAttribute','</b>\x0a\x0a','\x20-\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','max','keys','padStart','header-','height','left','btn-status-toggle','time-label','.event-card','style','includes','find','data-date','active','[Notify]\x20Detected\x20Client\x20ID:','asBtnSeries','planned','–£—Å–ø–µ—à–Ω–æ','headerMonth','off','month','display','toString','inpNote','toFixed','setHeaderColor','appendChild','data','batch_sync','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','asBtnOne','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','createDocumentFragment','calc(','createElement','blocked-range-part\x20stripe-bg','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','null','initDataUnsafe','start','WebApp','getElementById','setItem','[Notify]\x20Client\x20SWAP\x20detected','</div><div\x20class=\x22ev-time\x22>','touchstart','valid','value',':00</span>','–ò–Ω—Ñ–æ','borderLeftColor','rgba(100,100,100,0.5)','.period-switch\x20.p-btn','getAttribute','recurringOptionContainer','note','toast-notification\x20','dayOptionsSheet','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','charAt','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','textContent','block','href','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rangeStartDate','anStart','getDate','setDate','insertBefore','doWorkHours','rgba(255,\x2069,\x2058,\x200.15)','completed','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','[Notify]\x20Error:\x20Text\x20generation\x20failed','.day-off-overlay','exceptions','globalTimeLine','pe-col-header','</div><div\x20class=\x22dch-num\x22>','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','data-day-idx','mousemove','var(--acc-green)','\x20‚Äî\x20','asTitle','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','today','width','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','push','closest','sheetDateSubtitle','anEnd','10px','getItem','rangeEndTime','user','de-item','init_load','touches','getText','timeColumn','#fff','.dch-stats-fill','6411735ayBRkQ','flex','single','as-button\x20danger\x20bold','toLocaleDateString','uc_settings_cancel_window','msg',':00','setHours','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','seriesId','none','borderRadius','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','actionSheetOverlay','scrollLeft','offsetWidth','var(--acc-current)','sheetTitle','toast','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','var(--acc-orange)','offClick','firstChild','event-card','startsWith','scrollTop','status','96EwVHCt','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','getDay','day-column\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','range-item'];a2_0x5bd7=function(){return _0x188ef0;};return a2_0x5bd7();}const NotificationManager={'formatDate'(_0x391fb7){const _0x184e5c=a2_0x51a5bb,_0x25176a=new Date(_0x391fb7),_0x3a4b37={'weekday':_0x184e5c(0x1ca),'day':'numeric','month':_0x184e5c(0x1ca)};let _0xf6a1e=_0x25176a[_0x184e5c(0x18e)]('ru-RU',_0x3a4b37);return _0xf6a1e[_0x184e5c(0x15c)](0x0)[_0x184e5c(0x22e)]()+_0xf6a1e[_0x184e5c(0x20e)](0x1);},'getText'(_0x3f098f,_0x5f2cee){const _0x5c27f1=a2_0x51a5bb,_0x55e96a=this['formatDate'](_0x5f2cee[_0x5c27f1(0x1cf)]);switch(_0x3f098f){case _0x5c27f1(0x231):return _0x5c27f1(0x240)+(_0x5c27f1(0x228)+_0x55e96a+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x5f2cee['start']+_0x5c27f1(0x175)+_0x5f2cee[_0x5c27f1(0x1b0)]+'\x0a\x0a')+_0x5c27f1(0x2c3);case _0x5c27f1(0x23a):return _0x5c27f1(0x2c4)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x5f2cee[_0x5c27f1(0x2c7)]+_0x5c27f1(0x175)+_0x5f2cee[_0x5c27f1(0x1b0)]+_0x5c27f1(0x29b))+(_0x5c27f1(0x228)+_0x55e96a);case _0x5c27f1(0x210):return _0x5c27f1(0x171)+(_0x5c27f1(0x239)+_0x55e96a+'\x20('+_0x5f2cee[_0x5c27f1(0x2c7)]+_0x5c27f1(0x29e));case _0x5c27f1(0x279):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x5c27f1(0x1e9);default:return'';}},async 'send'(_0x32c326,_0x4f85ba){const _0x9d3e5a=a2_0x51a5bb;console['log'](_0x9d3e5a(0x27b),_0x32c326,_0x4f85ba);if(!_0x4f85ba){console[_0x9d3e5a(0x1d8)](_0x9d3e5a(0x28a));return;}const _0x431590=String(_0x4f85ba['clientId']);console['log'](_0x9d3e5a(0x2ad),_0x431590);if(!_0x4f85ba[_0x9d3e5a(0x1bf)]||_0x431590===_0x9d3e5a(0x269)||_0x431590===_0x9d3e5a(0x2c5)){console['error'](_0x9d3e5a(0x1f7));if(_0x4f85ba['client']){const _0x46c9eb=clients['find'](_0x4f4e36=>_0x4f4e36[_0x9d3e5a(0x1ad)]===_0x4f85ba[_0x9d3e5a(0x281)]);if(_0x46c9eb)return console[_0x9d3e5a(0x282)](_0x9d3e5a(0x1c1),_0x46c9eb['id']),this[_0x9d3e5a(0x1d0)](_0x32c326,{..._0x4f85ba,'clientId':_0x46c9eb['id']});}return;}if(_0x431590[_0x9d3e5a(0x21f)]<0x5){console['warn'](_0x9d3e5a(0x295),_0x431590);return;}const _0x214463=this[_0x9d3e5a(0x186)](_0x32c326,_0x4f85ba);if(!_0x214463){console[_0x9d3e5a(0x1d8)](_0x9d3e5a(0x16b));return;}console[_0x9d3e5a(0x282)](_0x9d3e5a(0x17a)+_0x431590+_0x9d3e5a(0x25c)),DataManager[_0x9d3e5a(0x265)](_0x9d3e5a(0x235),{'chatId':_0x431590,'text':_0x214463})[_0x9d3e5a(0x230)](_0x572799=>console['log'](_0x9d3e5a(0x26a),_0x572799))[_0x9d3e5a(0x24f)](_0xe6b9aa=>console[_0x9d3e5a(0x1d8)]('[Notify]\x20Network\x20Failed',_0xe6b9aa));}};function getLocalDateStr(_0x138c9c){const _0x8763bc=a2_0x51a5bb,_0x30fd9d=_0x138c9c[_0x8763bc(0x1e7)](),_0x557c02=String(_0x138c9c['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2f4b0e=String(_0x138c9c['getDate']())[_0x8763bc(0x2a1)](0x2,'0');return _0x30fd9d+'-'+_0x557c02+'-'+_0x2f4b0e;}function getDateStr(_0x3a59dc){const _0x2b16b0=a2_0x51a5bb,_0x24b689=new Date();return _0x24b689[_0x2b16b0(0x165)](_0x24b689[_0x2b16b0(0x164)]()+_0x3a59dc),getLocalDateStr(_0x24b689);}function getStartOfWeek(_0x330b69){const _0x5c21f0=a2_0x51a5bb,_0x224971=(function(){let _0x1428ca=!![];return function(_0x4823ca,_0x43f2de){const _0x13a094=_0x1428ca?function(){const _0x36c280=a2_0x5251;if(_0x43f2de){const _0x5a67b=_0x43f2de[_0x36c280(0x1fc)](_0x4823ca,arguments);return _0x43f2de=null,_0x5a67b;}}:function(){};return _0x1428ca=![],_0x13a094;};}()),_0x2a899b=_0x224971(this,function(){const _0x149f53=a2_0x5251;return _0x2a899b['toString']()[_0x149f53(0x289)]('(((.+)+)+)+$')[_0x149f53(0x2b5)]()[_0x149f53(0x21c)](_0x2a899b)[_0x149f53(0x289)](_0x149f53(0x1b8));});_0x2a899b();const _0x3c3286=new Date(_0x330b69),_0x4099f3=_0x3c3286[_0x5c21f0(0x1a9)](),_0x4f44d8=_0x3c3286[_0x5c21f0(0x164)]()-_0x4099f3+(_0x4099f3===0x0?-0x6:0x1);return _0x3c3286[_0x5c21f0(0x165)](_0x4f44d8),_0x3c3286[_0x5c21f0(0x192)](0x0,0x0,0x0,0x0),_0x3c3286;}function hexToRgba(_0xcb64ca,_0x34ecca){const _0x4d48f6=a2_0x51a5bb;if(!_0xcb64ca)return _0x4d48f6(0x154);let _0x49092f=0x0,_0x2b2669=0x0,_0x25d8fd=0x0;if(_0xcb64ca[_0x4d48f6(0x21f)]===0x4)_0x49092f='0x'+_0xcb64ca[0x1]+_0xcb64ca[0x1],_0x2b2669='0x'+_0xcb64ca[0x2]+_0xcb64ca[0x2],_0x25d8fd='0x'+_0xcb64ca[0x3]+_0xcb64ca[0x3];else _0xcb64ca[_0x4d48f6(0x21f)]===0x7&&(_0x49092f='0x'+_0xcb64ca[0x1]+_0xcb64ca[0x2],_0x2b2669='0x'+_0xcb64ca[0x3]+_0xcb64ca[0x4],_0x25d8fd='0x'+_0xcb64ca[0x5]+_0xcb64ca[0x6]);return'rgba('+ +_0x49092f+',\x20'+ +_0x2b2669+',\x20'+ +_0x25d8fd+',\x20'+_0x34ecca+')';}function renderTimeColumn(){const _0x18c9b7=a2_0x51a5bb,_0x300936=document['getElementById'](_0x18c9b7(0x187)),_0x18571d=document['getElementById']('timeLineBadge');_0x300936[_0x18c9b7(0x285)]='',_0x300936[_0x18c9b7(0x2b9)](_0x18571d);for(let _0x206d4a=0x0;_0x206d4a<0x18;_0x206d4a++){const _0x13f4ce=document[_0x18c9b7(0x2c1)](_0x18c9b7(0x1b7));_0x13f4ce[_0x18c9b7(0x1cc)]=_0x18c9b7(0x2a6);if(_0x206d4a>0x0)_0x13f4ce[_0x18c9b7(0x285)]=_0x18c9b7(0x284)+String(_0x206d4a)[_0x18c9b7(0x2a1)](0x2,'0')+_0x18c9b7(0x151);_0x300936['appendChild'](_0x13f4ce);}}function renderDayRange(_0x14f9f6,_0x1a48f3){const _0x1eac82=a2_0x51a5bb,_0x416e7b=document[_0x1eac82(0x2c9)](_0x1eac82(0x268)),_0x160905=document[_0x1eac82(0x2c9)](_0x1eac82(0x1ae)),_0x13f5c1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4b7b30=new Date();_0x4b7b30[_0x1eac82(0x192)](0x0,0x0,0x0,0x0);const _0x3222c2=getLocalDateStr(new Date());for(let _0x54b2ca=_0x14f9f6;_0x54b2ca<=_0x1a48f3;_0x54b2ca++){const _0x49a8c=new Date(_0x4b7b30);_0x49a8c[_0x1eac82(0x165)](_0x49a8c[_0x1eac82(0x164)]()+_0x54b2ca);const _0x207ab9=getLocalDateStr(_0x49a8c);let _0x34227d=_0x49a8c[_0x1eac82(0x1a9)]()-0x1;if(_0x34227d===-0x1)_0x34227d=0x6;const _0x53f177=_0x207ab9===_0x3222c2,_0x591a15=document[_0x1eac82(0x2c1)](_0x1eac82(0x1b7));_0x591a15[_0x1eac82(0x1cc)]=_0x1eac82(0x1d9)+(_0x53f177?_0x1eac82(0x178):''),_0x591a15['id']='header-'+_0x207ab9,_0x591a15['setAttribute'](_0x1eac82(0x2ab),_0x207ab9),_0x591a15[_0x1eac82(0x285)]=_0x1eac82(0x1b9)+_0x13f5c1[_0x34227d]+_0x1eac82(0x170)+_0x49a8c[_0x1eac82(0x164)]()+_0x1eac82(0x193)+_0x207ab9+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x591a15[_0x1eac82(0x261)]=()=>openDayOptions(_0x207ab9,_0x13f5c1[_0x34227d]+'\x20'+_0x49a8c[_0x1eac82(0x164)]()),_0x416e7b[_0x1eac82(0x2b9)](_0x591a15);const _0xe1adae=document[_0x1eac82(0x2c1)]('div');_0xe1adae['className']=_0x1eac82(0x1aa)+(_0x53f177?_0x1eac82(0x178):''),_0xe1adae[_0x1eac82(0x29a)](_0x1eac82(0x2ab),_0x207ab9),_0xe1adae[_0x1eac82(0x29a)](_0x1eac82(0x172),_0x34227d),renderEventsForColumn(_0xe1adae,_0x207ab9,_0x34227d),attachLongPressHandler(_0xe1adae,_0x49a8c),_0x160905[_0x1eac82(0x2b9)](_0xe1adae),updateDayStats(_0x207ab9);}}function reRenderBlocks(){const _0x2e84e4=a2_0x51a5bb;document[_0x2e84e4(0x204)]('#gridColumns\x20.day-column')[_0x2e84e4(0x20c)](_0x53f511=>{const _0x117bc6=_0x2e84e4;_0x53f511['querySelectorAll'](_0x117bc6(0x19f))[_0x117bc6(0x20c)](_0x9fcdc6=>_0x9fcdc6['remove']());const _0x4e3391=_0x53f511[_0x117bc6(0x156)](_0x117bc6(0x2ab)),_0x1a02aa=parseInt(_0x53f511[_0x117bc6(0x156)](_0x117bc6(0x172))),_0x5a87c1=Math[_0x117bc6(0x1fb)](_0x53f511[_0x117bc6(0x26e)]);(availabilityPattern[_0x1a02aa]||[])[_0x117bc6(0x20c)](_0x583501=>{const _0x4c9621=_0x117bc6,_0x133bd0=document[_0x4c9621(0x2c1)](_0x4c9621(0x1b7));_0x133bd0['className']=_0x4c9621(0x1bd);const _0x184373=_0x583501*GRID_H;_0x133bd0[_0x4c9621(0x2a8)][_0x4c9621(0x28d)]=_0x184373+'px',_0x133bd0[_0x4c9621(0x2a8)][_0x4c9621(0x26b)]='-'+_0x5a87c1+_0x4c9621(0x246)+_0x184373+'px',_0x53f511[_0x4c9621(0x2b9)](_0x133bd0);});if(specialRanges&&specialRanges['length']>0x0){const _0x365abc=new Date(_0x4e3391+_0x117bc6(0x207))[_0x117bc6(0x245)](),_0x41af6e=new Date(_0x4e3391+'T23:59:59')[_0x117bc6(0x245)]();specialRanges[_0x117bc6(0x20c)](_0x379dca=>{const _0x1e7a82=_0x117bc6,_0x29a59f=new Date(_0x379dca[_0x1e7a82(0x2c7)])['getTime'](),_0x4ae19b=new Date(_0x379dca['end'])['getTime'](),_0x6e512f=Math['max'](_0x365abc,_0x29a59f),_0x357b40=Math[_0x1e7a82(0x25f)](_0x41af6e,_0x4ae19b);if(_0x6e512f<_0x357b40){if(_0x6e512f<=_0x365abc&&_0x357b40>=_0x41af6e-0xea60){if(!_0x53f511[_0x1e7a82(0x219)](_0x1e7a82(0x16c))){const _0x104067=document['createElement'](_0x1e7a82(0x1b7));_0x104067['className']=_0x1e7a82(0x244),_0x104067[_0x1e7a82(0x2a8)][_0x1e7a82(0x26b)]='-'+_0x5a87c1+_0x1e7a82(0x264),_0x53f511[_0x1e7a82(0x2b9)](_0x104067);}}else{const _0x5b932e=(_0x6e512f-_0x365abc)/0x36ee80*GRID_H,_0x10203e=(_0x357b40-_0x6e512f)/0x36ee80*GRID_H,_0x88c119=document[_0x1e7a82(0x2c1)](_0x1e7a82(0x1b7));_0x88c119[_0x1e7a82(0x1cc)]=_0x1e7a82(0x2c2),_0x88c119[_0x1e7a82(0x2a8)][_0x1e7a82(0x28d)]=_0x5b932e+'px',_0x88c119[_0x1e7a82(0x2a8)][_0x1e7a82(0x2a3)]=_0x10203e+'px',_0x88c119[_0x1e7a82(0x2a8)]['backgroundPosition']='-'+_0x5a87c1+_0x1e7a82(0x246)+_0x5b932e+'px',_0x53f511['appendChild'](_0x88c119);}}});}if(dateExceptions[_0x4e3391]===_0x117bc6(0x2b2)){if(!_0x53f511[_0x117bc6(0x219)](_0x117bc6(0x16c))){const _0x4d898e=document[_0x117bc6(0x2c1)](_0x117bc6(0x1b7));_0x4d898e[_0x117bc6(0x1cc)]=_0x117bc6(0x244),_0x4d898e['style'][_0x117bc6(0x26b)]='-'+_0x5a87c1+_0x117bc6(0x264),_0x53f511[_0x117bc6(0x2b9)](_0x4d898e);}}renderEventsForColumn(_0x53f511,_0x4e3391,_0x1a02aa),updateDayStats(_0x4e3391);});}function updateAllDayStats(){const _0x3fff09=a2_0x51a5bb;document[_0x3fff09(0x204)](_0x3fff09(0x24b))[_0x3fff09(0x20c)](_0x9352a1=>{const _0x3885e2=_0x3fff09;updateDayStats(_0x9352a1[_0x3885e2(0x156)](_0x3885e2(0x2ab)));});}function updateDayStats(_0xdde8ff){const _0x553c7d=a2_0x51a5bb,_0x14bd5d=document[_0x553c7d(0x2c9)](_0x553c7d(0x1ee)+_0xdde8ff);if(!_0x14bd5d)return;const _0x5e6933=new Date(_0xdde8ff);let _0xc26826=_0x5e6933[_0x553c7d(0x1a9)]()-0x1;if(_0xc26826===-0x1)_0xc26826=0x6;if(dateExceptions[_0xdde8ff]==='off'){_0x14bd5d[_0x553c7d(0x2a8)]['display']=_0x553c7d(0x195);return;}const _0x1c107b=availabilityPattern[_0xc26826]||[],_0x1ed007=0x18-_0x1c107b[_0x553c7d(0x21f)],_0x56f34a=_0x1ed007*0x3c,_0x9d5ab2=sessions[_0x553c7d(0x1d4)](_0x18dded=>_0x18dded[_0x553c7d(0x1cf)]===_0xdde8ff&&_0x18dded['status']!==_0x553c7d(0x242));if(_0x9d5ab2['length']===0x0){_0x14bd5d[_0x553c7d(0x2a8)]['display']=_0x553c7d(0x195);return;}let _0x39f271=_0x9d5ab2[_0x553c7d(0x205)](_0x3681e0=>{const _0x62b133=_0x553c7d,[_0xbbdc2c,_0x5a3e18]=_0x3681e0[_0x62b133(0x2c7)][_0x62b133(0x287)](':')[_0x62b133(0x205)](Number),[_0x374b7f,_0x3dfebd]=_0x3681e0[_0x62b133(0x1b0)][_0x62b133(0x287)](':')[_0x62b133(0x205)](Number);return[_0xbbdc2c*0x3c+_0x5a3e18,_0x374b7f*0x3c+_0x3dfebd];});_0x39f271[_0x553c7d(0x22c)]((_0x164bd4,_0x765e8b)=>_0x164bd4[0x0]-_0x765e8b[0x0]);let _0x2b2341=[];if(_0x39f271['length']>0x0){let _0x3fa2e6=_0x39f271[0x0];for(let _0x1c69b5=0x1;_0x1c69b5<_0x39f271[_0x553c7d(0x21f)];_0x1c69b5++){_0x39f271[_0x1c69b5][0x0]<_0x3fa2e6[0x1]?_0x3fa2e6[0x1]=Math[_0x553c7d(0x29f)](_0x3fa2e6[0x1],_0x39f271[_0x1c69b5][0x1]):(_0x2b2341['push'](_0x3fa2e6),_0x3fa2e6=_0x39f271[_0x1c69b5]);}_0x2b2341[_0x553c7d(0x17b)](_0x3fa2e6);}let _0x4649a7=0x0;_0x2b2341[_0x553c7d(0x20c)](_0x5764da=>_0x4649a7+=_0x5764da[0x1]-_0x5764da[0x0]),_0x14bd5d['style'][_0x553c7d(0x2b4)]=_0x553c7d(0x18b);const _0x56a151=_0x14bd5d[_0x553c7d(0x219)](_0x553c7d(0x189));if(_0x56f34a===0x0){_0x56a151['style'][_0x553c7d(0x179)]='100%',_0x56a151[_0x553c7d(0x2a8)]['background']='var(--acc-red)';return;}const _0x344abd=_0x4649a7/_0x56f34a*0x64;console['log']('['+_0xdde8ff+_0x553c7d(0x1ea)+_0x1ed007+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x4649a7+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x344abd[_0x553c7d(0x2b7)](0x1)+'%'),_0x344abd>0x64?(_0x56a151[_0x553c7d(0x2a8)]['width']='100%',_0x56a151[_0x553c7d(0x2a8)]['background']=_0x553c7d(0x208)):(_0x56a151[_0x553c7d(0x2a8)][_0x553c7d(0x179)]=_0x344abd+'%',_0x56a151[_0x553c7d(0x2a8)][_0x553c7d(0x27d)]=_0x553c7d(0x19c));}function renderEventsForColumn(_0x1089fc,_0x15b1db,_0x48602c){const _0x40cfdf=a2_0x51a5bb,_0x217bff=sessions['filter'](_0x211b29=>_0x211b29['dateStr']===_0x15b1db),_0x31061e=_0x217bff[_0x40cfdf(0x205)](_0x5b7806=>{const _0x2dc94a=_0x40cfdf,[_0x370a76,_0x2beb26]=_0x5b7806[_0x2dc94a(0x2c7)][_0x2dc94a(0x287)](':')[_0x2dc94a(0x205)](Number),[_0x32666a,_0x340211]=_0x5b7806[_0x2dc94a(0x1b0)][_0x2dc94a(0x287)](':')[_0x2dc94a(0x205)](Number);return{'data':_0x5b7806,'start':_0x370a76*0x3c+_0x2beb26,'end':_0x32666a*0x3c+_0x340211,'colIndex':0x0};});_0x31061e[_0x40cfdf(0x22c)]((_0x82d5f5,_0x554a7c)=>{const _0x2da5b4=_0x40cfdf;if(_0x82d5f5['start']!==_0x554a7c[_0x2da5b4(0x2c7)])return _0x82d5f5[_0x2da5b4(0x2c7)]-_0x554a7c['start'];return _0x554a7c[_0x2da5b4(0x1b0)]-_0x554a7c['start']-(_0x82d5f5[_0x2da5b4(0x1b0)]-_0x82d5f5['start']);});const _0x3a96fc=[];_0x31061e[_0x40cfdf(0x20c)](_0x358ffc=>{const _0x5628d1=_0x40cfdf;let _0x31d736=![];for(let _0x56f5e0=0x0;_0x56f5e0<_0x3a96fc[_0x5628d1(0x21f)];_0x56f5e0++){const _0x25e7c2=_0x3a96fc[_0x56f5e0],_0x38f6ee=_0x25e7c2[_0x25e7c2[_0x5628d1(0x21f)]-0x1];if(_0x358ffc[_0x5628d1(0x2c7)]>=_0x38f6ee[_0x5628d1(0x1b0)]){_0x25e7c2['push'](_0x358ffc),_0x358ffc['colIndex']=_0x56f5e0,_0x31d736=!![];break;}}!_0x31d736&&(_0x3a96fc['push']([_0x358ffc]),_0x358ffc[_0x5628d1(0x27c)]=_0x3a96fc[_0x5628d1(0x21f)]-0x1);}),_0x31061e[_0x40cfdf(0x20c)](_0xcbed36=>{const _0x34ff52=_0x40cfdf;let _0x2d6f13=0x0;_0x31061e[_0x34ff52(0x20c)](_0x37b41f=>{const _0x43aa4c=_0x34ff52;if(Math[_0x43aa4c(0x29f)](_0xcbed36['start'],_0x37b41f['start'])<Math[_0x43aa4c(0x25f)](_0xcbed36[_0x43aa4c(0x1b0)],_0x37b41f[_0x43aa4c(0x1b0)])){if(_0x37b41f[_0x43aa4c(0x27c)]>_0x2d6f13)_0x2d6f13=_0x37b41f[_0x43aa4c(0x27c)];}});const _0x53bf44=_0x2d6f13+0x1,_0x12209d=0x64/_0x53bf44,_0x2380d5=_0xcbed36[_0x34ff52(0x27c)]*_0x12209d,_0x2d459e=createEventEl(_0xcbed36[_0x34ff52(0x2ba)]);_0x2d459e[_0x34ff52(0x2a8)][_0x34ff52(0x179)]=_0x34ff52(0x2c0)+_0x12209d+_0x34ff52(0x234),_0x2d459e[_0x34ff52(0x2a8)][_0x34ff52(0x2a4)]='calc('+_0x2380d5+_0x34ff52(0x262),_0x2d459e[_0x34ff52(0x2a8)][_0x34ff52(0x225)]=0xa+_0xcbed36[_0x34ff52(0x27c)],_0x12209d<0x55&&_0x2d459e[_0x34ff52(0x1ef)][_0x34ff52(0x271)]('mini'),_0x1089fc[_0x34ff52(0x2b9)](_0x2d459e);});}function createEventEl(_0x54e2bd){const _0x4a8b48=a2_0x51a5bb,[_0x5a2230,_0x3f69ab]=_0x54e2bd[_0x4a8b48(0x2c7)][_0x4a8b48(0x287)](':')[_0x4a8b48(0x205)](Number),[_0x997c58,_0x42e9f3]=_0x54e2bd[_0x4a8b48(0x1b0)][_0x4a8b48(0x287)](':')['map'](Number),_0x4538fb=(_0x5a2230*0x3c+_0x3f69ab)/0x3c*GRID_H,_0x57cf6f=(_0x997c58*0x3c+_0x42e9f3-(_0x5a2230*0x3c+_0x3f69ab))/0x3c*GRID_H,_0x400926=document[_0x4a8b48(0x2c1)](_0x4a8b48(0x1b7)),_0x198b7e=_0x54e2bd[_0x4a8b48(0x1a6)]===_0x4a8b48(0x169)?_0x4a8b48(0x272):'';_0x400926['className']=_0x4a8b48(0x1a3)+_0x198b7e,_0x400926['style'][_0x4a8b48(0x28d)]=_0x4538fb+'px',_0x400926[_0x4a8b48(0x2a8)][_0x4a8b48(0x2a3)]=Math[_0x4a8b48(0x29f)](_0x57cf6f,0x14)+'px';const _0x516521=clients[_0x4a8b48(0x2aa)](_0x4bf7c2=>_0x54e2bd[_0x4a8b48(0x1bf)]&&String(_0x4bf7c2['id'])===String(_0x54e2bd[_0x4a8b48(0x1bf)])||_0x4bf7c2[_0x4a8b48(0x1ad)]===_0x54e2bd[_0x4a8b48(0x281)]),_0x48c180=_0x516521?_0x516521[_0x4a8b48(0x227)]:_0x4a8b48(0x290);_0x400926[_0x4a8b48(0x2a8)][_0x4a8b48(0x153)]=_0x48c180,_0x400926[_0x4a8b48(0x2a8)]['backgroundColor']=hexToRgba(_0x48c180,0.85);let _0x1dfd3a=_0x4a8b48(0x1b2)+_0x54e2bd['client']+_0x4a8b48(0x14d)+_0x54e2bd[_0x4a8b48(0x2c7)]+_0x4a8b48(0x29c)+_0x54e2bd[_0x4a8b48(0x1b0)]+'</div>';return _0x54e2bd[_0x4a8b48(0x194)]&&(_0x1dfd3a+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x54e2bd[_0x4a8b48(0x1a6)]==='completed'&&(_0x1dfd3a+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x400926[_0x4a8b48(0x285)]=_0x1dfd3a,_0x400926[_0x4a8b48(0x261)]=_0x2ed9a1=>{_0x2ed9a1['stopPropagation'](),openEdit(_0x54e2bd);},_0x400926;}function attachLongPressHandler(_0x1efb2d,_0x443c43){const _0x1b08e1=a2_0x51a5bb;let _0x186c55=0x0,_0x168475=null;const _0x2b0e40=_0x2667e3=>{const _0x5699ad=a2_0x5251;if(_0x2667e3[_0x5699ad(0x222)][_0x5699ad(0x17c)](_0x5699ad(0x2a7)))return;isScrolling=![],_0x186c55=_0x2667e3[_0x5699ad(0x185)]?_0x2667e3['touches'][0x0][_0x5699ad(0x270)]:_0x2667e3['clientY'],_0x168475=setTimeout(()=>{const _0x4ecb46=_0x5699ad;if(!isScrolling){navigator[_0x4ecb46(0x283)]?.(0x32);const _0x3b52b5=_0x1efb2d[_0x4ecb46(0x23c)](),_0x5f0b83=Math['floor']((_0x186c55-_0x3b52b5[_0x4ecb46(0x28d)])/GRID_H);_0x443c43[_0x4ecb46(0x192)](_0x5f0b83,0x0),openAddSession(_0x443c43);}},0x1f4);},_0x1dc2ed=()=>{isScrolling=!![],clearTimeout(_0x168475);},_0x4e40cc=()=>{clearTimeout(_0x168475);};_0x1efb2d[_0x1b08e1(0x1b5)](_0x1b08e1(0x14e),_0x2b0e40,{'passive':!![]}),_0x1efb2d['addEventListener']('touchmove',_0x1dc2ed,{'passive':!![]}),_0x1efb2d[_0x1b08e1(0x1b5)](_0x1b08e1(0x280),_0x4e40cc),_0x1efb2d[_0x1b08e1(0x1b5)]('mousedown',_0x2b0e40),_0x1efb2d[_0x1b08e1(0x1b5)](_0x1b08e1(0x173),_0x1dc2ed),_0x1efb2d[_0x1b08e1(0x1b5)](_0x1b08e1(0x1e1),_0x4e40cc);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x27e6a0=a2_0x51a5bb,_0x55ee03=document[_0x27e6a0(0x2c9)](_0x27e6a0(0x253)),_0x24c56c=_0x55ee03[_0x27e6a0(0x19a)],_0x22950e=_0x55ee03['scrollWidth'],_0x15f489=_0x55ee03[_0x27e6a0(0x267)];if(_0x22950e-(_0x24c56c+_0x15f489)<0x12c){const _0x990e25=endOffset;endOffset+=0xe,renderDayRange(_0x990e25+0x1,endOffset),reRenderBlocks();}if(_0x24c56c<0x12c){const _0x540ee0=startOffset;startOffset-=0xe,prependDays(startOffset,_0x540ee0-0x1),_0x55ee03[_0x27e6a0(0x19a)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1bc9e1,_0x5dde1a){const _0x5a9d23=a2_0x51a5bb,_0x364b49=document[_0x5a9d23(0x2c9)]('daysHeaderTrack'),_0x5320d4=document[_0x5a9d23(0x2c9)](_0x5a9d23(0x1ae)),_0xe5e5cb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x25671f=new Date();_0x25671f['setHours'](0x0,0x0,0x0,0x0);const _0x98a6d8=getLocalDateStr(new Date()),_0x3776a5=document['createDocumentFragment'](),_0x1531cf=document[_0x5a9d23(0x2bf)]();for(let _0x24af88=_0x1bc9e1;_0x24af88<=_0x5dde1a;_0x24af88++){const _0x18bf96=new Date(_0x25671f);_0x18bf96[_0x5a9d23(0x165)](_0x18bf96[_0x5a9d23(0x164)]()+_0x24af88);const _0x19588d=getLocalDateStr(_0x18bf96);let _0x45a684=_0x18bf96[_0x5a9d23(0x1a9)]()-0x1;if(_0x45a684===-0x1)_0x45a684=0x6;const _0x57e609=_0x19588d===_0x98a6d8,_0x3a0883=document[_0x5a9d23(0x2c1)](_0x5a9d23(0x1b7));_0x3a0883['className']=_0x5a9d23(0x1d9)+(_0x57e609?_0x5a9d23(0x178):''),_0x3a0883['id']='header-'+_0x19588d,_0x3a0883[_0x5a9d23(0x29a)](_0x5a9d23(0x2ab),_0x19588d),_0x3a0883[_0x5a9d23(0x285)]=_0x5a9d23(0x1b9)+_0xe5e5cb[_0x45a684]+'</div><div\x20class=\x22dch-num\x22>'+_0x18bf96[_0x5a9d23(0x164)]()+_0x5a9d23(0x193)+_0x19588d+_0x5a9d23(0x22b),_0x3a0883[_0x5a9d23(0x261)]=()=>openDayOptions(_0x19588d,_0xe5e5cb[_0x45a684]+'\x20'+_0x18bf96[_0x5a9d23(0x164)]()),_0x3776a5[_0x5a9d23(0x2b9)](_0x3a0883);const _0x59d03e=document[_0x5a9d23(0x2c1)](_0x5a9d23(0x1b7));_0x59d03e[_0x5a9d23(0x1cc)]=_0x5a9d23(0x1aa)+(_0x57e609?'today':''),_0x59d03e['setAttribute']('data-date',_0x19588d),_0x59d03e[_0x5a9d23(0x29a)]('data-day-idx',_0x45a684),renderEventsForColumn(_0x59d03e,_0x19588d,_0x45a684),attachLongPressHandler(_0x59d03e,_0x18bf96),_0x1531cf[_0x5a9d23(0x2b9)](_0x59d03e),updateDayStats(_0x19588d);}_0x364b49[_0x5a9d23(0x166)](_0x3776a5,_0x364b49[_0x5a9d23(0x1a2)]),_0x5320d4[_0x5a9d23(0x166)](_0x1531cf,_0x5320d4['querySelector'](_0x5a9d23(0x21e)));}function validateAppointment(_0x55706c,_0x59b8f8,_0x3ee5e3,_0x178f04,_0x44861b){const _0x10bce4=a2_0x51a5bb,[_0x208ffe,_0x5f25de]=_0x59b8f8[_0x10bce4(0x287)](':')[_0x10bce4(0x205)](Number),[_0x19f6e8,_0x46217f]=_0x3ee5e3[_0x10bce4(0x287)](':')['map'](Number),_0xbe769b=_0x208ffe*0x3c+_0x5f25de,_0x5a66c3=_0x19f6e8*0x3c+_0x46217f,_0x1e1b12=String(_0x44861b);let _0x5f50e4=![],_0x32b022='';for(let _0x1da15e of sessions){if(_0x1da15e[_0x10bce4(0x1cf)]!==_0x55706c)continue;if(_0x1da15e['status']==='cancelled')continue;if(_0x178f04&&String(_0x1da15e['id'])===String(_0x178f04))continue;const [_0x329716,_0x57fbf4]=_0x1da15e['start'][_0x10bce4(0x287)](':')[_0x10bce4(0x205)](Number),[_0x1fb238,_0x3ddf63]=_0x1da15e[_0x10bce4(0x1b0)][_0x10bce4(0x287)](':')['map'](Number),_0x19f99d=_0x329716*0x3c+_0x57fbf4,_0x15903f=_0x1fb238*0x3c+_0x3ddf63;if(Math[_0x10bce4(0x29f)](_0xbe769b,_0x19f99d)<Math[_0x10bce4(0x25f)](_0x5a66c3,_0x15903f)){if(_0x1da15e[_0x10bce4(0x1bf)]&&String(_0x1da15e[_0x10bce4(0x1bf)])===_0x1e1b12)return{'valid':![],'msg':_0x10bce4(0x1f2)+_0x1da15e[_0x10bce4(0x281)]+_0x10bce4(0x1c2)};_0x5f50e4=!![],_0x32b022=_0x1da15e[_0x10bce4(0x281)];}}if(_0x5f50e4)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x32b022};return{'valid':!![]};}function updateDateDisplay(){const _0x12ff3b=a2_0x51a5bb,_0x24b973=document['getElementById']('inpDate')[_0x12ff3b(0x150)],_0x1dfa96=document['getElementById'](_0x12ff3b(0x17d));if(!_0x24b973){_0x1dfa96[_0x12ff3b(0x15e)]='';return;}const [_0x37f21b,_0x5e0a57,_0x462af0]=_0x24b973[_0x12ff3b(0x287)]('-')[_0x12ff3b(0x205)](Number),_0x1300a5=new Date(_0x37f21b,_0x5e0a57-0x1,_0x462af0),_0x1b77c8={'weekday':_0x12ff3b(0x1ca),'day':_0x12ff3b(0x1ce),'month':_0x12ff3b(0x1ca),'year':'numeric'};let _0x368d6c=_0x1300a5[_0x12ff3b(0x18e)](_0x12ff3b(0x293),_0x1b77c8);_0x368d6c=_0x368d6c[_0x12ff3b(0x15c)](0x0)['toUpperCase']()+_0x368d6c[_0x12ff3b(0x20e)](0x1),_0x1dfa96[_0x12ff3b(0x15e)]=_0x368d6c;}function autoSetEndTime(){const _0x21ed6d=a2_0x51a5bb,_0x543c46=document[_0x21ed6d(0x2c9)]('inpStart')['value'];if(!_0x543c46)return;const [_0xbb8e33,_0x3b32bc]=_0x543c46['split'](':')['map'](Number);let _0x5f0fe0=_0xbb8e33+0x1;if(_0x5f0fe0>0x17)_0x5f0fe0=0x0;const _0x11cd76=String(_0x5f0fe0)[_0x21ed6d(0x2a1)](0x2,'0')+':'+String(_0x3b32bc)[_0x21ed6d(0x2a1)](0x2,'0');document[_0x21ed6d(0x2c9)](_0x21ed6d(0x23d))[_0x21ed6d(0x150)]=_0x11cd76;}function populateClientSelect(){const _0x4ac117=a2_0x51a5bb,_0x4f6373=document[_0x4ac117(0x2c9)](_0x4ac117(0x263));_0x4f6373['innerHTML']='';if(clients['length']===0x0){const _0x4fbfcd=document[_0x4ac117(0x2c1)](_0x4ac117(0x20b));_0x4fbfcd[_0x4ac117(0x1c8)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x4f6373[_0x4ac117(0x2b9)](_0x4fbfcd);return;}clients['forEach'](_0x34db07=>{const _0x1b7750=_0x4ac117,_0x43ddfb=document[_0x1b7750(0x2c1)](_0x1b7750(0x20b));_0x43ddfb[_0x1b7750(0x150)]=_0x34db07[_0x1b7750(0x1ad)],_0x43ddfb[_0x1b7750(0x15e)]=_0x34db07['name'],_0x4f6373[_0x1b7750(0x2b9)](_0x43ddfb);});}function openActionSheet(_0x33806e){const _0x3b67ff=a2_0x51a5bb,_0x55680e=document[_0x3b67ff(0x2c9)]('actionSheet'),_0x489550=document[_0x3b67ff(0x2c9)](_0x3b67ff(0x199)),_0x37a08b=document[_0x3b67ff(0x2c9)](_0x3b67ff(0x176)),_0x11fa49=document[_0x3b67ff(0x2c9)](_0x3b67ff(0x2bd)),_0x4d6ea7=document[_0x3b67ff(0x2c9)](_0x3b67ff(0x2ae));_0x489550[_0x3b67ff(0x1ef)][_0x3b67ff(0x271)](_0x3b67ff(0x2ac)),_0x55680e[_0x3b67ff(0x1ef)][_0x3b67ff(0x271)](_0x3b67ff(0x1c4));if(_0x33806e===_0x3b67ff(0x1e0))_0x37a08b[_0x3b67ff(0x15e)]=_0x3b67ff(0x177),_0x11fa49[_0x3b67ff(0x15e)]=_0x3b67ff(0x1d7),_0x11fa49[_0x3b67ff(0x261)]=()=>{const _0x198b6d=_0x3b67ff;closeActionSheet(),updateSeriesBatch(_0x198b6d(0x18c),tempSessionData);},_0x4d6ea7[_0x3b67ff(0x15e)]=_0x3b67ff(0x197),_0x4d6ea7[_0x3b67ff(0x261)]=()=>{const _0x3208da=_0x3b67ff;closeActionSheet(),updateSeriesBatch(_0x3208da(0x1eb),tempSessionData);};else _0x33806e===_0x3b67ff(0x22f)&&(_0x37a08b[_0x3b67ff(0x15e)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x11fa49[_0x3b67ff(0x15e)]=_0x3b67ff(0x1d7),_0x11fa49['className']=_0x3b67ff(0x273),_0x11fa49[_0x3b67ff(0x261)]=()=>{const _0x45f7fa=_0x3b67ff;closeActionSheet(),commitDelete(_0x45f7fa(0x18c),sessions[_0x45f7fa(0x2aa)](_0x36a75e=>_0x36a75e['id']===editingId));},_0x4d6ea7[_0x3b67ff(0x15e)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4d6ea7['className']=_0x3b67ff(0x18d),_0x4d6ea7['onclick']=()=>{const _0x2ff119=_0x3b67ff;closeActionSheet(),commitDelete(_0x2ff119(0x1eb),sessions[_0x2ff119(0x2aa)](_0x2e579c=>_0x2e579c['id']===editingId));});}function closeActionSheet(){const _0x531097=a2_0x51a5bb;document[_0x531097(0x2c9)]('actionSheet')[_0x531097(0x1ef)]['remove']('open'),document['getElementById'](_0x531097(0x199))[_0x531097(0x1ef)][_0x531097(0x259)]('active');}function openSettings(){const _0x17bc6f=a2_0x51a5bb;openSheet(_0x17bc6f(0x221));}function saveCoachSettings(){const _0x3fa18c=a2_0x51a5bb,_0x238cbe=document['getElementById']('settingCancelWindow')[_0x3fa18c(0x150)];localStorage['setItem'](_0x3fa18c(0x18f),_0x238cbe),console[_0x3fa18c(0x282)](_0x3fa18c(0x1f0),_0x238cbe),DataManager['fetchFromServer'](_0x3fa18c(0x25d),{'settings':{'cancel_window':_0x238cbe}})[_0x3fa18c(0x24f)](_0x2a9442=>{console['error']('Save\x20settings\x20error:',_0x2a9442),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x28a64d=a2_0x51a5bb,_0x1b336a=localStorage['getItem'](_0x28a64d(0x18f));_0x1b336a&&(document[_0x28a64d(0x2c9)]('settingCancelWindow')[_0x28a64d(0x150)]=_0x1b336a);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x114f3f=a2_0x51a5bb,_0x11c1d1=document['getElementById'](_0x114f3f(0x162))[_0x114f3f(0x150)],_0x14fd96=document[_0x114f3f(0x2c9)](_0x114f3f(0x28e))[_0x114f3f(0x150)],_0x2db12b=document[_0x114f3f(0x2c9)](_0x114f3f(0x1d2))[_0x114f3f(0x150)],_0x13c04e=document['getElementById'](_0x114f3f(0x181))[_0x114f3f(0x150)];if(!_0x11c1d1||!_0x14fd96||!_0x2db12b||!_0x13c04e)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0xecd2fc=_0x11c1d1+'T'+_0x14fd96,_0x39d625=_0x2db12b+'T'+_0x13c04e;if(_0xecd2fc>=_0x39d625)return alert(_0x114f3f(0x2be));specialRanges[_0x114f3f(0x17b)]({'start':_0xecd2fc,'end':_0x39d625}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x114f3f(0x1f4)](),DataManager[_0x114f3f(0x265)](_0x114f3f(0x25d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x21a646){const _0x30171f=a2_0x51a5bb;specialRanges[_0x30171f(0x252)](_0x21a646,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x30171f(0x1f4)](),DataManager['fetchFromServer'](_0x30171f(0x25d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5afe09=a2_0x51a5bb;document['getElementById'](_0x5afe09(0x162))[_0x5afe09(0x150)]='',document[_0x5afe09(0x2c9)]('rangeStartTime')[_0x5afe09(0x150)]='00:00',document['getElementById'](_0x5afe09(0x1d2))[_0x5afe09(0x150)]='',document[_0x5afe09(0x2c9)](_0x5afe09(0x181))[_0x5afe09(0x150)]=_0x5afe09(0x211);}function renderRangesList(){const _0x1447be=a2_0x51a5bb,_0x4d5612=document[_0x1447be(0x2c9)]('rangesList');_0x4d5612[_0x1447be(0x285)]='';if(!specialRanges[_0x1447be(0x21f)]){_0x4d5612['innerHTML']=_0x1447be(0x29d);return;}specialRanges[_0x1447be(0x20c)]((_0x365cdf,_0x115252)=>{const _0x1d3ebb=_0x1447be,_0x545150=document['createElement']('div');_0x545150['className']=_0x1d3ebb(0x1ac);const _0x56d5ab=_0x28e53a=>{const _0x560d6d=_0x1d3ebb,_0x16ce6c=new Date(_0x28e53a);return _0x16ce6c[_0x560d6d(0x164)]()+'.'+String(_0x16ce6c[_0x560d6d(0x203)]()+0x1)[_0x560d6d(0x2a1)](0x2,'0')+'\x20'+String(_0x16ce6c[_0x560d6d(0x277)]())[_0x560d6d(0x2a1)](0x2,'0')+':'+String(_0x16ce6c['getMinutes']())[_0x560d6d(0x2a1)](0x2,'0');};_0x545150[_0x1d3ebb(0x285)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x56d5ab(_0x365cdf['start'])+_0x1d3ebb(0x175)+_0x56d5ab(_0x365cdf['end'])+_0x1d3ebb(0x1de)+_0x115252+_0x1d3ebb(0x296),_0x4d5612['appendChild'](_0x545150);});}function scrollToToday(){const _0x4eeeb9=a2_0x51a5bb,_0x284387=getLocalDateStr(new Date()),_0x2e7610=document[_0x4eeeb9(0x2c9)](_0x4eeeb9(0x2a2)+_0x284387),_0x299071=document[_0x4eeeb9(0x2c9)]('matrixViewport');if(_0x2e7610&&_0x299071){const _0x5e07d5=_0x299071[_0x4eeeb9(0x267)],_0x1f3101=_0x2e7610['offsetLeft'],_0x1d0702=_0x2e7610[_0x4eeeb9(0x19b)];_0x299071[_0x4eeeb9(0x19a)]=_0x1f3101-_0x5e07d5/0x2+_0x1d0702/0x2,_0x299071[_0x4eeeb9(0x1a5)]=0x9*GRID_H;}}function onScroll(){const _0x25a26d=a2_0x51a5bb,_0x275057=document[_0x25a26d(0x2c9)]('matrixViewport'),_0x194873=document[_0x25a26d(0x204)](_0x25a26d(0x24b));for(let _0x196053 of _0x194873)if(_0x196053[_0x25a26d(0x26e)]>=_0x275057[_0x25a26d(0x19a)]){const _0x53db0a=new Date(_0x196053[_0x25a26d(0x156)](_0x25a26d(0x2ab)));document[_0x25a26d(0x2c9)](_0x25a26d(0x2b1))[_0x25a26d(0x15e)]=_0x53db0a['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x53db0a[_0x25a26d(0x1e7)]();break;}}function showToast(_0x40e655,_0x176835=![]){const _0x1448b5=a2_0x51a5bb,_0x1ed22e=document[_0x1448b5(0x2c9)](_0x1448b5(0x19e));_0x1ed22e[_0x1448b5(0x1cc)]=_0x1448b5(0x159)+(_0x176835?_0x1448b5(0x206):''),document['getElementById'](_0x1448b5(0x1f6))[_0x1448b5(0x15e)]=_0x176835?_0x1448b5(0x2b0):_0x1448b5(0x152),document[_0x1448b5(0x2c9)](_0x1448b5(0x1e3))[_0x1448b5(0x15e)]=_0x40e655,_0x1ed22e[_0x1448b5(0x1ef)][_0x1448b5(0x271)]('show'),setTimeout(()=>{const _0x366260=_0x1448b5;_0x1ed22e[_0x366260(0x1ef)][_0x366260(0x259)](_0x366260(0x1bb));},0xbb8);}function openDayOptions(_0x24e0a5,_0x1ce863){const _0x12e139=a2_0x51a5bb;selectedDayForOptions=_0x24e0a5,document[_0x12e139(0x2c9)](_0x12e139(0x1e5))['textContent']=_0x1ce863,openSheet(_0x12e139(0x15a));}function toggleDayOff(){const _0x1f67c1=a2_0x51a5bb;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1f67c1(0x2b2),reRenderBlocks(),closeAllSheets(),DataManager[_0x1f67c1(0x1f4)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5badca=a2_0x51a5bb;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5badca(0x1f4)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4df8f5){const _0x26d447=a2_0x51a5bb;document['getElementById']('overlay')[_0x26d447(0x1ef)][_0x26d447(0x271)](_0x26d447(0x2ac)),document[_0x26d447(0x2c9)](_0x4df8f5)[_0x26d447(0x1ef)][_0x26d447(0x271)]('open');}function closeAllSheets(){const _0x47f17e=a2_0x51a5bb;document[_0x47f17e(0x2c9)]('overlay')[_0x47f17e(0x1ef)][_0x47f17e(0x259)](_0x47f17e(0x2ac)),document[_0x47f17e(0x204)](_0x47f17e(0x23b))[_0x47f17e(0x20c)](_0x2b4a5b=>_0x2b4a5b[_0x47f17e(0x1ef)][_0x47f17e(0x259)](_0x47f17e(0x1c4)));}function openPatternEditor(){const _0x3e0549=a2_0x51a5bb;closeAllSheets(),document['getElementById'](_0x3e0549(0x243))[_0x3e0549(0x1ef)][_0x3e0549(0x271)](_0x3e0549(0x1c4)),renderPatternEditor();}function closePatternEditor(){const _0x18426a=a2_0x51a5bb;document[_0x18426a(0x2c9)](_0x18426a(0x243))['classList'][_0x18426a(0x259)](_0x18426a(0x1c4));}function savePattern(){const _0x1db513=a2_0x51a5bb;document[_0x1db513(0x2c9)](_0x1db513(0x243))[_0x1db513(0x1ef)]['remove'](_0x1db513(0x1c4)),reRenderBlocks(),DataManager[_0x1db513(0x1f4)](),DataManager[_0x1db513(0x265)](_0x1db513(0x25d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x42a45b=a2_0x51a5bb,_0x461d72=document[_0x42a45b(0x2c9)](_0x42a45b(0x1cb));_0x461d72[_0x42a45b(0x285)]='';const _0x46a845=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3198af=document['createElement'](_0x42a45b(0x1b7));_0x3198af[_0x42a45b(0x1cc)]=_0x42a45b(0x226),_0x461d72[_0x42a45b(0x2b9)](_0x3198af),_0x46a845[_0x42a45b(0x20c)]((_0x28a242,_0x18f679)=>{const _0x1ee403=_0x42a45b,_0x4c778f=document['createElement']('div');_0x4c778f[_0x1ee403(0x1cc)]=_0x1ee403(0x16f),_0x4c778f[_0x1ee403(0x285)]=_0x28a242+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x4c778f[_0x1ee403(0x261)]=()=>toggleColPattern(_0x18f679),_0x461d72['appendChild'](_0x4c778f);});for(let _0x4252c5=0x0;_0x4252c5<0x18;_0x4252c5++){const _0xb5f62b=document[_0x42a45b(0x2c1)](_0x42a45b(0x1b7));_0xb5f62b[_0x42a45b(0x1cc)]=_0x42a45b(0x217),_0xb5f62b[_0x42a45b(0x285)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x4252c5)[_0x42a45b(0x2a1)](0x2,'0')+_0x42a45b(0x191),_0xb5f62b[_0x42a45b(0x261)]=()=>toggleRowPattern(_0x4252c5),_0x461d72[_0x42a45b(0x2b9)](_0xb5f62b);for(let _0xf24eab=0x0;_0xf24eab<0x7;_0xf24eab++){const _0x175a80=document[_0x42a45b(0x2c1)]('div'),_0x596771=(availabilityPattern[_0xf24eab]||[])[_0x42a45b(0x2a9)](_0x4252c5),_0x39ef3a=!_0x596771;_0x175a80[_0x42a45b(0x1cc)]='pe-cell\x20'+(_0x39ef3a?_0x42a45b(0x2ac):''),_0x175a80['onclick']=()=>toggleSinglePattern(_0xf24eab,_0x4252c5),_0x461d72[_0x42a45b(0x2b9)](_0x175a80);}}}function toggleSinglePattern(_0x35e341,_0x128f3e){const _0x2ff91b=a2_0x51a5bb;if(!availabilityPattern[_0x35e341])availabilityPattern[_0x35e341]=[];const _0x6b854f=availabilityPattern[_0x35e341],_0x5302c2=_0x6b854f[_0x2ff91b(0x1e2)](_0x128f3e);_0x5302c2===-0x1?_0x6b854f['push'](_0x128f3e):_0x6b854f[_0x2ff91b(0x252)](_0x5302c2,0x1),renderPatternEditor();}function toggleColPattern(_0x53cb15){const _0x1ca68c=a2_0x51a5bb;if(!availabilityPattern[_0x53cb15])availabilityPattern[_0x53cb15]=[];const _0x3a30b1=availabilityPattern[_0x53cb15];_0x3a30b1['length']===0x0?availabilityPattern[_0x53cb15]=Array[_0x1ca68c(0x1af)]({'length':0x18},(_0xad7205,_0x32f6b9)=>_0x32f6b9):availabilityPattern[_0x53cb15]=[],renderPatternEditor();}function toggleRowPattern(_0x35fe06){const _0x41314f=a2_0x51a5bb;let _0x129085=!![];for(let _0x3e9884=0x0;_0x3e9884<0x7;_0x3e9884++){if((availabilityPattern[_0x3e9884]||[])[_0x41314f(0x2a9)](_0x35fe06)){_0x129085=![];break;}}for(let _0x1b7ad5=0x0;_0x1b7ad5<0x7;_0x1b7ad5++){if(!availabilityPattern[_0x1b7ad5])availabilityPattern[_0x1b7ad5]=[];const _0x4ce5ac=availabilityPattern[_0x1b7ad5][_0x41314f(0x1e2)](_0x35fe06);if(_0x129085){if(_0x4ce5ac===-0x1)availabilityPattern[_0x1b7ad5][_0x41314f(0x17b)](_0x35fe06);}else{if(_0x4ce5ac!==-0x1)availabilityPattern[_0x1b7ad5][_0x41314f(0x252)](_0x4ce5ac,0x1);}}renderPatternEditor();}function renderPCol(_0x229853,_0x20a9d4){const _0x4ef044=a2_0x51a5bb;_0x229853['innerHTML']='';const _0x51731a=Math['round'](_0x229853[_0x4ef044(0x26e)]);(availabilityPattern[_0x20a9d4]||[])[_0x4ef044(0x20c)](_0x29cf80=>{const _0x3560a0=_0x4ef044,_0x47e9e3=document[_0x3560a0(0x2c1)](_0x3560a0(0x1b7));_0x47e9e3[_0x3560a0(0x1cc)]='blocked-slot\x20stripe-bg';const _0x5d29ed=_0x29cf80*GRID_H;_0x47e9e3['style'][_0x3560a0(0x28d)]=_0x5d29ed+'px',_0x47e9e3[_0x3560a0(0x2a8)][_0x3560a0(0x26b)]='-'+_0x51731a+'px\x20-'+_0x5d29ed+'px',_0x47e9e3[_0x3560a0(0x261)]=_0x2233bf=>{const _0x3a5a9c=_0x3560a0;_0x2233bf[_0x3a5a9c(0x260)](),toggleSinglePattern(_0x20a9d4,_0x29cf80);},_0x229853[_0x3560a0(0x2b9)](_0x47e9e3);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x17686a=a2_0x51a5bb,_0x15579a=new Date(),_0x1cde50=document[_0x17686a(0x2c9)](_0x17686a(0x16e)),_0x132d67=document['getElementById'](_0x17686a(0x1d3)),_0x28686e=(_0x15579a[_0x17686a(0x277)]()*0x3c+_0x15579a[_0x17686a(0x298)]())/0x3c*GRID_H;_0x1cde50[_0x17686a(0x2a8)]['top']=_0x28686e+'px',_0x1cde50[_0x17686a(0x2a8)]['display']='block',_0x132d67[_0x17686a(0x15e)]=String(_0x15579a[_0x17686a(0x277)]())['padStart'](0x2,'0')+':'+String(_0x15579a[_0x17686a(0x298)]())['padStart'](0x2,'0'),_0x132d67[_0x17686a(0x2a8)]['display']=_0x17686a(0x15f),_0x132d67[_0x17686a(0x2a8)][_0x17686a(0x28d)]=_0x28686e+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x2a9b00){const _0x349807=a2_0x51a5bb;selectedDayForOptions=_0x2a9b00;const _0x304382=new Date(_0x2a9b00),_0x50f89a={'weekday':_0x349807(0x1ca),'day':'numeric','month':_0x349807(0x1ca),'year':'numeric'},_0x2ed5bd=_0x304382[_0x349807(0x18e)](_0x349807(0x293),_0x50f89a);document[_0x349807(0x2c9)]('doDateHeader')[_0x349807(0x15e)]=_0x2ed5bd['charAt'](0x0)[_0x349807(0x22e)]()+_0x2ed5bd['slice'](0x1);let _0x460ace=_0x304382[_0x349807(0x1a9)]()-0x1;if(_0x460ace===-0x1)_0x460ace=0x6;const _0x24342d=availabilityPattern[_0x460ace]||[],_0x1fcc14=0x18-_0x24342d['length'],_0x3f085b=_0x1fcc14*0x3c,_0x1d1454=sessions[_0x349807(0x1d4)](_0x5ef6e0=>_0x5ef6e0[_0x349807(0x1cf)]===_0x2a9b00&&_0x5ef6e0[_0x349807(0x1a6)]!==_0x349807(0x242));let _0x4d5ad1=_0x1d1454[_0x349807(0x205)](_0x3b621d=>{const _0x4ee0fe=_0x349807,[_0x5692e5,_0x21fb4b]=_0x3b621d[_0x4ee0fe(0x2c7)]['split'](':')[_0x4ee0fe(0x205)](Number),[_0x141b2c,_0x7737f4]=_0x3b621d['end']['split'](':')[_0x4ee0fe(0x205)](Number);return[_0x5692e5*0x3c+_0x21fb4b,_0x141b2c*0x3c+_0x7737f4];});_0x4d5ad1[_0x349807(0x22c)]((_0x3f069c,_0x3a1178)=>_0x3f069c[0x0]-_0x3a1178[0x0]);let _0x2a5425=[];if(_0x4d5ad1[_0x349807(0x21f)]>0x0){let _0x24dabc=_0x4d5ad1[0x0];for(let _0x1f068c=0x1;_0x1f068c<_0x4d5ad1['length'];_0x1f068c++){_0x4d5ad1[_0x1f068c][0x0]<_0x24dabc[0x1]?_0x24dabc[0x1]=Math[_0x349807(0x29f)](_0x24dabc[0x1],_0x4d5ad1[_0x1f068c][0x1]):(_0x2a5425[_0x349807(0x17b)](_0x24dabc),_0x24dabc=_0x4d5ad1[_0x1f068c]);}_0x2a5425[_0x349807(0x17b)](_0x24dabc);}let _0x4b8fc0=0x0;_0x2a5425[_0x349807(0x20c)](_0x18f413=>_0x4b8fc0+=_0x18f413[0x1]-_0x18f413[0x0]),document[_0x349807(0x2c9)](_0x349807(0x167))[_0x349807(0x15e)]=formatMinsToHrs(_0x3f085b),document['getElementById'](_0x349807(0x25a))[_0x349807(0x15e)]=formatMinsToHrs(_0x4b8fc0);const _0x621dc4=_0x3f085b>0x0?Math[_0x349807(0x1fb)](_0x4b8fc0/_0x3f085b*0x64):0x0,_0x3c9478=document['getElementById'](_0x349807(0x233));_0x3c9478['textContent']=_0x621dc4+'%';const _0x5cf8f3=document[_0x349807(0x2c9)](_0x349807(0x250));if(_0x621dc4>0x64)_0x3c9478[_0x349807(0x2a8)][_0x349807(0x227)]=_0x349807(0x208),_0x5cf8f3[_0x349807(0x2a8)]['borderColor']=_0x349807(0x1b4);else _0x621dc4>0x50?(_0x3c9478[_0x349807(0x2a8)]['color']=_0x349807(0x1a0),_0x5cf8f3[_0x349807(0x2a8)][_0x349807(0x1c9)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x3c9478[_0x349807(0x2a8)][_0x349807(0x227)]=_0x349807(0x174),_0x5cf8f3['style'][_0x349807(0x1c9)]=_0x349807(0x286));const _0xf1527=document['getElementById'](_0x349807(0x275));_0xf1527[_0x349807(0x285)]='';_0x1d1454[_0x349807(0x21f)]===0x0?_0xf1527[_0x349807(0x285)]=_0x349807(0x21a):(_0x1d1454[_0x349807(0x22c)]((_0x42ee86,_0x2a5b4f)=>_0x42ee86[_0x349807(0x2c7)][_0x349807(0x25b)](_0x2a5b4f['start'])),_0x1d1454['forEach'](_0x32de38=>{const _0x215e2a=_0x349807,_0x543198=clients['find'](_0x136275=>_0x136275[_0x215e2a(0x1ad)]===_0x32de38[_0x215e2a(0x281)]),_0x273a80=_0x543198?_0x543198[_0x215e2a(0x227)]:_0x215e2a(0x188),_0x396173=_0x32de38[_0x215e2a(0x1a6)]==='completed',_0x1f9775=_0x396173?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x3e511e=document[_0x215e2a(0x2c1)](_0x215e2a(0x1b7));_0x3e511e[_0x215e2a(0x1cc)]=_0x215e2a(0x183),_0x3e511e[_0x215e2a(0x2a8)][_0x215e2a(0x153)]=_0x273a80,_0x3e511e[_0x215e2a(0x285)]=_0x215e2a(0x26f)+_0x32de38[_0x215e2a(0x2c7)]+_0x215e2a(0x29c)+_0x32de38[_0x215e2a(0x1b0)]+_0x215e2a(0x220)+_0x32de38[_0x215e2a(0x281)]+_0x215e2a(0x237)+_0x1f9775+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xf1527['appendChild'](_0x3e511e);}));const _0x5398b0=document['getElementById']('btnDayToggle'),_0x3a9553=dateExceptions[_0x2a9b00]==='off';_0x3a9553?(_0x5398b0[_0x349807(0x15e)]=_0x349807(0x200),_0x5398b0[_0x349807(0x1cc)]=_0x349807(0x24c),_0x5398b0[_0x349807(0x2a8)][_0x349807(0x227)]=_0x349807(0x174),_0x5398b0[_0x349807(0x2a8)][_0x349807(0x27d)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x5398b0[_0x349807(0x15e)]=_0x349807(0x248),_0x5398b0['className']='btn-primary\x20btn-danger',_0x5398b0[_0x349807(0x2a8)]['color']=_0x349807(0x208),_0x5398b0[_0x349807(0x2a8)]['background']=_0x349807(0x168)),openSheet(_0x349807(0x15a));}let currentAnPeriod=a2_0x51a5bb(0x1d1);function openAnalytics(){const _0x1a8875=a2_0x51a5bb,_0x292d3a=document[_0x1a8875(0x219)](_0x1a8875(0x155));setAnalyticsPeriod(_0x1a8875(0x1d1),_0x292d3a),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x36e195,_0x58e217){const _0x15664f=a2_0x51a5bb;currentAnPeriod=_0x36e195,document[_0x15664f(0x204)](_0x15664f(0x155))[_0x15664f(0x20c)](_0x3ad3c3=>_0x3ad3c3[_0x15664f(0x1ef)][_0x15664f(0x259)](_0x15664f(0x2ac)));if(_0x58e217)_0x58e217[_0x15664f(0x1ef)][_0x15664f(0x271)]('active');const _0x2be771=document[_0x15664f(0x2c9)](_0x15664f(0x1c5));_0x2be771[_0x15664f(0x2a8)][_0x15664f(0x2b4)]=_0x36e195==='custom'?_0x15664f(0x18b):'none';const _0x2a9186=new Date();let _0x510eca=new Date(),_0x36c891=new Date();if(_0x36e195==='week')_0x510eca=getStartOfWeek(_0x2a9186),_0x36c891=new Date(_0x510eca),_0x36c891['setDate'](_0x36c891[_0x15664f(0x164)]()+0x6);else{if(_0x36e195===_0x15664f(0x2b3))_0x510eca=new Date(_0x2a9186['getFullYear'](),_0x2a9186['getMonth'](),0x1),_0x36c891=new Date(_0x2a9186[_0x15664f(0x1e7)](),_0x2a9186['getMonth']()+0x1,0x0);else{!document[_0x15664f(0x2c9)]('anStart')[_0x15664f(0x150)]&&(document['getElementById'](_0x15664f(0x163))['value']=getLocalDateStr(_0x2a9186),document['getElementById'](_0x15664f(0x17e))[_0x15664f(0x150)]=getLocalDateStr(_0x2a9186));refreshAnalytics();return;}}document['getElementById'](_0x15664f(0x163))[_0x15664f(0x150)]=getLocalDateStr(_0x510eca),document['getElementById']('anEnd')[_0x15664f(0x150)]=getLocalDateStr(_0x36c891),refreshAnalytics();}function refreshAnalytics(){const _0x410239=a2_0x51a5bb,_0x132470=document['getElementById']('anStart')[_0x410239(0x150)],_0x453e75=document[_0x410239(0x2c9)](_0x410239(0x17e))[_0x410239(0x150)];if(!_0x132470||!_0x453e75)return;const _0x205347=sessions[_0x410239(0x1d4)](_0x2685a9=>_0x2685a9[_0x410239(0x1cf)]>=_0x132470&&_0x2685a9[_0x410239(0x1cf)]<=_0x453e75&&_0x2685a9['status']!=='cancelled'),_0x4cf50e=_0x205347[_0x410239(0x21f)],_0x1f9625=_0x205347[_0x410239(0x1d4)](_0x1100ee=>_0x1100ee[_0x410239(0x1a6)]===_0x410239(0x169))[_0x410239(0x21f)],_0xf11439=_0x4cf50e>0x0?Math['round'](_0x1f9625/_0x4cf50e*0x64):0x0;document['getElementById'](_0x410239(0x28f))['textContent']=_0xf11439+'%',document[_0x410239(0x2c9)]('anTotalStats')[_0x410239(0x15e)]=_0x1f9625+_0x410239(0x1dd)+_0x4cf50e+_0x410239(0x292);const _0x2824ea=document[_0x410239(0x2c9)](_0x410239(0x1e8)),_0x3784b4=0x2*Math['PI']*0x23,_0x2a39fa=_0x3784b4-_0xf11439/0x64*_0x3784b4;_0x2824ea[_0x410239(0x2a8)]['strokeDashoffset']=_0x2a39fa;const _0x4f485a={};_0x205347[_0x410239(0x20c)](_0x45c943=>{const _0x4acaae=_0x410239;if(!_0x4f485a[_0x45c943[_0x4acaae(0x281)]]){const _0x316ee1=clients[_0x4acaae(0x2aa)](_0x172352=>_0x172352['name']===_0x45c943[_0x4acaae(0x281)]);_0x4f485a[_0x45c943[_0x4acaae(0x281)]]={'total':0x0,'done':0x0,'color':_0x316ee1?_0x316ee1['color']:_0x4acaae(0x188)};}_0x4f485a[_0x45c943[_0x4acaae(0x281)]]['total']++;if(_0x45c943[_0x4acaae(0x1a6)]===_0x4acaae(0x169))_0x4f485a[_0x45c943[_0x4acaae(0x281)]]['done']++;});const _0x2f5171=document[_0x410239(0x2c9)]('analyticsList');_0x2f5171[_0x410239(0x285)]='';const _0x591572=Object[_0x410239(0x1f3)](_0x4f485a)[_0x410239(0x22c)]((_0x681ea9,_0x322167)=>_0x322167[0x1][_0x410239(0x257)]-_0x681ea9[0x1][_0x410239(0x257)]);if(_0x591572[_0x410239(0x21f)]===0x0){_0x2f5171[_0x410239(0x285)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x591572[_0x410239(0x20c)](([_0x116001,_0x3b5059])=>{const _0x353399=_0x410239,_0x45cfeb=Math['round'](_0x3b5059['done']/_0x3b5059['total']*0x64),_0x293cce=document[_0x353399(0x2c1)]('div');_0x293cce['className']='client-stat-card',_0x293cce['style'][_0x353399(0x153)]=_0x3b5059[_0x353399(0x227)],_0x293cce[_0x353399(0x285)]=_0x353399(0x26d)+_0x116001+_0x353399(0x251)+_0x3b5059['done']+_0x353399(0x1c6)+_0x3b5059[_0x353399(0x257)]+_0x353399(0x1f9)+_0x45cfeb+_0x353399(0x161),_0x2f5171[_0x353399(0x2b9)](_0x293cce);});}function formatMinsToHrs(_0x26439a){const _0x56139d=a2_0x51a5bb;if(_0x26439a===0x0)return'0';const _0x3b731c=Math[_0x56139d(0x27f)](_0x26439a/0x3c),_0x27a904=_0x26439a%0x3c;if(_0x27a904===0x0)return _0x3b731c+'—á';return _0x3b731c+'—á\x20'+_0x27a904+'–º';}