const a2_0xa8c310=a2_0x4b90;(function(_0x2bdb83,_0x4c6047){const _0x167c38=a2_0x4b90,_0x3f0f47=_0x2bdb83();while(!![]){try{const _0x2fb375=parseInt(_0x167c38(0x1d8))/0x1*(parseInt(_0x167c38(0xff))/0x2)+-parseInt(_0x167c38(0xed))/0x3*(parseInt(_0x167c38(0x1f1))/0x4)+parseInt(_0x167c38(0x1e3))/0x5+-parseInt(_0x167c38(0x1c4))/0x6+parseInt(_0x167c38(0x1f4))/0x7+parseInt(_0x167c38(0x13a))/0x8*(-parseInt(_0x167c38(0xd3))/0x9)+parseInt(_0x167c38(0x12b))/0xa;if(_0x2fb375===_0x4c6047)break;else _0x3f0f47['push'](_0x3f0f47['shift']());}catch(_0xa6e642){_0x3f0f47['push'](_0x3f0f47['shift']());}}}(a2_0x3f64,0x4b65b),function initTMA(){const _0x44dacd=a2_0x4b90,_0x21a822=(function(){let _0x333ed3=!![];return function(_0xbd4e09,_0x39ae4e){const _0x4749a3=_0x333ed3?function(){if(_0x39ae4e){const _0x43af4f=_0x39ae4e['apply'](_0xbd4e09,arguments);return _0x39ae4e=null,_0x43af4f;}}:function(){};return _0x333ed3=![],_0x4749a3;};}()),_0x223af1=_0x21a822(this,function(){const _0x9cdccb=a2_0x4b90;return _0x223af1[_0x9cdccb(0x1b3)]()[_0x9cdccb(0x15a)](_0x9cdccb(0xb9))[_0x9cdccb(0x1b3)]()[_0x9cdccb(0x1f9)](_0x223af1)[_0x9cdccb(0x15a)](_0x9cdccb(0xb9));});_0x223af1();try{const _0x52e34d=window['Telegram']?.[_0x44dacd(0x163)];if(!_0x52e34d)return;_0x52e34d[_0x44dacd(0xf7)](),_0x52e34d[_0x44dacd(0x15d)]();try{_0x52e34d['setHeaderColor'](_0x44dacd(0x11f)),_0x52e34d[_0x44dacd(0x98)]&&_0x52e34d[_0x44dacd(0x98)](_0x44dacd(0x11f));}catch(_0x123cdc){console['log'](_0x44dacd(0x132),_0x123cdc);}try{_0x52e34d[_0x44dacd(0x1f5)]&&(_0x52e34d[_0x44dacd(0x1f5)][_0x44dacd(0xde)](),_0x52e34d[_0x44dacd(0x1f5)]['offClick'](),_0x52e34d[_0x44dacd(0x1f5)][_0x44dacd(0x121)](function(){const _0x2390c5=_0x44dacd;window['location'][_0x2390c5(0x113)]=_0x2390c5(0x8a);}));}catch(_0x40b05e){console[_0x44dacd(0x152)]('Error\x20setting\x20back\x20button:',_0x40b05e);}try{if(_0x52e34d[_0x44dacd(0x183)])_0x52e34d[_0x44dacd(0x183)]();}catch(_0x407832){}}catch(_0x1f2378){console[_0x44dacd(0x166)]('Critical\x20TMA\x20Error:',_0x1f2378);}}());function isAdmin(){const _0x295d8f=a2_0x4b90;try{const _0x3c6d7d=Number(window[_0x295d8f(0x111)]?.[_0x295d8f(0x163)]?.[_0x295d8f(0xca)]?.['user']?.['id']);return _0x3c6d7d===0xbaf7174;}catch(_0x46cb54){return![];}}const APP_VERSION=a2_0xa8c310(0x14f),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xa8c310(0x1f3),KEY_SESSIONS=a2_0xa8c310(0x141),KEY_SETTINGS=a2_0xa8c310(0x134);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x113863=a2_0xa8c310;return window[_0x113863(0x111)]?.[_0x113863(0x163)]?.[_0x113863(0xca)]?.[_0x113863(0x136)]?.['id']||_0x113863(0xcf);},'saveLocally'(){const _0xe9f954=a2_0xa8c310;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0xe9f954(0x1a7)](KEY_SESSIONS,JSON[_0xe9f954(0x1f7)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0xe9f954(0x1f7)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4a7d02){console[_0xe9f954(0x166)](_0xe9f954(0xc0),_0x4a7d02);}},'loadLocal'(){const _0x814bc5=a2_0xa8c310;try{const _0x58583f=localStorage[_0x814bc5(0xd8)](KEY_CLIENTS);if(_0x58583f)clients=JSON[_0x814bc5(0xeb)](_0x58583f);const _0x2586f0=localStorage[_0x814bc5(0xd8)](KEY_SESSIONS);if(_0x2586f0)sessions=JSON['parse'](_0x2586f0);const _0xd32111=localStorage[_0x814bc5(0xd8)](KEY_SETTINGS);if(_0xd32111){const _0x43f6d1=JSON[_0x814bc5(0xeb)](_0xd32111);if(_0x43f6d1[_0x814bc5(0x116)])availabilityPattern=_0x43f6d1['pattern'];if(_0x43f6d1[_0x814bc5(0x8e)])dateExceptions=_0x43f6d1[_0x814bc5(0x8e)];if(_0x43f6d1[_0x814bc5(0xd7)])specialRanges=_0x43f6d1[_0x814bc5(0xd7)];}else{for(let _0x46e95a=0x0;_0x46e95a<0x7;_0x46e95a++)availabilityPattern[_0x46e95a]=Array[_0x814bc5(0x95)]({'length':0xc},(_0xaef68a,_0x3b7be4)=>_0x3b7be4+0x9);}}catch(_0x4a0c11){console[_0x814bc5(0x166)](_0x814bc5(0x1b1),_0x4a0c11);}},async 'fetchFromServer'(_0x2df758,_0x55c525={}){const _0x244b71=a2_0xa8c310,_0x5448a7=window[_0x244b71(0x111)]?.[_0x244b71(0x163)],_0x19c725={'action':_0x2df758,'init_data':_0x5448a7?.['initData']||'',..._0x55c525};try{const _0x43329b=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x244b71(0x1e7)},'body':JSON[_0x244b71(0x1f7)](_0x19c725)}),_0x1f36c8=await _0x43329b[_0x244b71(0xcb)]();if(!_0x1f36c8['ok'])throw new Error(_0x1f36c8[_0x244b71(0x166)]||_0x244b71(0x1ca));return _0x1f36c8[_0x244b71(0xa2)];}catch(_0x140e22){console[_0x244b71(0x166)](_0x244b71(0xfe)+_0x2df758+_0x244b71(0x1be),_0x140e22);throw _0x140e22;}},async 'syncLoad'(){const _0x416639=a2_0xa8c310,_0xa2fd72=new Date(),_0x2e4a51=_0xa2fd72['getFullYear']()+'-'+String(_0xa2fd72[_0x416639(0x16b)]()+0x1)[_0x416639(0x10f)](0x2,'0'),_0x10fa4b=new Date(_0xa2fd72);_0x10fa4b[_0x416639(0x91)](_0xa2fd72[_0x416639(0x16b)]()+0x1);const _0x222573=_0x10fa4b[_0x416639(0x18a)]()+'-'+String(_0x10fa4b[_0x416639(0x16b)]()+0x1)[_0x416639(0x10f)](0x2,'0'),_0x8f1047=Date['now']();console[_0x416639(0x152)]('[Sync]\x20Loading\x20'+_0x2e4a51+',\x20'+_0x222573+'...');try{const [_0x50e25f,_0x13bbda]=await Promise[_0x416639(0x178)]([this['fetchFromServer'](_0x416639(0x11a),{'month_str':_0x2e4a51}),this[_0x416639(0x179)](_0x416639(0x11a),{'month_str':_0x222573})]);if(lastUserActionTime>_0x8f1047)return console[_0x416639(0x19d)](_0x416639(0xee)),![];return this[_0x416639(0xe6)](_0x50e25f,_0x2e4a51),this['mergeServerData'](_0x13bbda,_0x222573),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x6058f0){console[_0x416639(0x166)](_0x6058f0);throw _0x6058f0;}},'mergeServerData'(_0x281da1,_0x2f1eac){const _0x23e0f4=a2_0xa8c310;if(!_0x281da1)return;_0x281da1[_0x23e0f4(0x16d)]&&Array[_0x23e0f4(0x1e0)](_0x281da1[_0x23e0f4(0x16d)])&&(clients=_0x281da1[_0x23e0f4(0x16d)]);if(_0x281da1['settings']){if(_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x116)])availabilityPattern=_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x116)];if(_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x8e)])dateExceptions=_0x281da1[_0x23e0f4(0xd2)]['exceptions'];if(_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0xd7)])specialRanges=_0x281da1[_0x23e0f4(0xd2)]['ranges'];if(_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x181)]){localStorage[_0x23e0f4(0x1a7)](_0x23e0f4(0x123),_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x181)]);const _0x5db048=document[_0x23e0f4(0x140)](_0x23e0f4(0x82));if(_0x5db048)_0x5db048[_0x23e0f4(0x17a)]=_0x281da1[_0x23e0f4(0xd2)][_0x23e0f4(0x181)];}}_0x281da1[_0x23e0f4(0x14c)]&&(sessions=sessions['filter'](_0x18c6e7=>!_0x18c6e7[_0x23e0f4(0x129)][_0x23e0f4(0x144)](_0x2f1eac)),Object[_0x23e0f4(0x149)](_0x281da1[_0x23e0f4(0x14c)])[_0x23e0f4(0x19c)](_0xf21a7d=>{const _0x173134=_0x23e0f4,_0x13cdf1=_0x281da1['calendar'][_0xf21a7d];_0x13cdf1[_0x173134(0x19c)](_0x2cd80e=>{const _0x45884d=_0x173134,_0xfe70ab=clients[_0x45884d(0x1f6)](_0x35afba=>String(_0x35afba['id'])===String(_0x2cd80e['c']));sessions[_0x45884d(0x192)]({'id':_0x2cd80e['i'],'clientId':_0x2cd80e['c'],'client':_0xfe70ab?_0xfe70ab[_0x45884d(0xf1)]:_0x45884d(0xe1),'dateStr':_0x2f1eac+'-'+_0xf21a7d[_0x45884d(0x10f)](0x2,'0'),'start':_0x2cd80e['s'],'end':_0x2cd80e['e'],'status':_0x2cd80e['st']||_0x45884d(0x118),'note':_0x2cd80e['n']||'','seriesId':_0x2cd80e['sid']||null});});}));},async 'syncBatch'(_0x32a387){const _0x4f4b8b=a2_0xa8c310,_0x7cb87d=[...new Set(_0x32a387)],_0x136e19=_0x7cb87d[_0x4f4b8b(0x1ed)](_0x533aed=>{const _0x56ded1=_0x4f4b8b,_0x5eb9fa=sessions[_0x56ded1(0xbb)](_0x5c372b=>_0x5c372b[_0x56ded1(0x129)]===_0x533aed&&_0x5c372b[_0x56ded1(0x10e)]!==_0x56ded1(0x12d)),_0x5e7c58=_0x5eb9fa[_0x56ded1(0x1ed)](_0xae2f6a=>({'i':_0xae2f6a['id'],'c':_0xae2f6a[_0x56ded1(0x18b)],'s':_0xae2f6a['start'],'e':_0xae2f6a[_0x56ded1(0xcd)],'st':_0xae2f6a[_0x56ded1(0x10e)],'n':_0xae2f6a[_0x56ded1(0x13e)],'sid':_0xae2f6a[_0x56ded1(0xa6)]}));return{'date':_0x533aed,'day_data':_0x5e7c58};});if(_0x136e19['length']===0x0)return;console['log'](_0x4f4b8b(0x17f)+_0x136e19[_0x4f4b8b(0x1da)]+_0x4f4b8b(0xbd)),await this[_0x4f4b8b(0x179)]('batch_sync',{'changes':_0x136e19});}};async function init(){const _0x1f2a7f=a2_0xa8c310;DataManager[_0x1f2a7f(0x1a4)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1f2a7f(0x140)](_0x1f2a7f(0x1bc))[_0x1f2a7f(0x187)](_0x1f2a7f(0x146),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x1f2a7f(0x18e)](()=>{const _0x248ff9=_0x1f2a7f;showToast(_0x248ff9(0x1d2),!![]);})[_0x1f2a7f(0x133)](_0x4bfee3=>{const _0x2f6a91=_0x1f2a7f;showToast(_0x2f6a91(0x92),![]);});}function generateId(){const _0x45a4a1=a2_0xa8c310;return Date['now']()['toString'](0x24)+Math[_0x45a4a1(0x131)]()['toString'](0x24)[_0x45a4a1(0xe0)](0x2,0x5);}function toggleSeriesInput(){const _0x2d8fc4=a2_0xa8c310,_0x20acf3=document[_0x2d8fc4(0x140)]('inpRecurring')[_0x2d8fc4(0x170)],_0x33805d=document[_0x2d8fc4(0x140)]('seriesCountContainer');_0x33805d[_0x2d8fc4(0x18d)]['display']=_0x20acf3?_0x2d8fc4(0x1e8):_0x2d8fc4(0x15f);const _0x3056cd=document[_0x2d8fc4(0x140)](_0x2d8fc4(0x1ea));_0x3056cd[_0x2d8fc4(0x18d)][_0x2d8fc4(0xdd)]=_0x20acf3?_0x2d8fc4(0x186):'10px';}function openAddSession(_0x3436b3){const _0x56ba70=a2_0xa8c310;editingId=null,populateClientSelect(),document[_0x56ba70(0x140)](_0x56ba70(0x164))[_0x56ba70(0xa5)]=_0x56ba70(0x18c),document['getElementById'](_0x56ba70(0xc4))[_0x56ba70(0x18d)][_0x56ba70(0x17e)]=_0x56ba70(0x15f),document[_0x56ba70(0x140)]('btnStatusToggle')[_0x56ba70(0x18d)][_0x56ba70(0x17e)]='none';const _0x4fbf73=document[_0x56ba70(0x140)](_0x56ba70(0x1ea)),_0x434815=document[_0x56ba70(0x140)]('seriesCountContainer');_0x4fbf73[_0x56ba70(0x18d)][_0x56ba70(0x17e)]=_0x56ba70(0x10d),_0x4fbf73[_0x56ba70(0x18d)][_0x56ba70(0xdd)]=_0x56ba70(0x13f),document[_0x56ba70(0x140)](_0x56ba70(0x1e2))[_0x56ba70(0x170)]=![],document['getElementById'](_0x56ba70(0x19e))[_0x56ba70(0x17a)]=0x4,_0x434815[_0x56ba70(0x18d)][_0x56ba70(0x17e)]=_0x56ba70(0x15f),document[_0x56ba70(0x140)](_0x56ba70(0x109))[_0x56ba70(0x17a)]=getLocalDateStr(_0x3436b3),updateDateDisplay();const _0x219b7e=_0x3436b3[_0x56ba70(0xd0)]();document[_0x56ba70(0x140)]('inpStart')[_0x56ba70(0x17a)]=String(_0x219b7e)['padStart'](0x2,'0')+':00',document[_0x56ba70(0x140)](_0x56ba70(0x1c7))[_0x56ba70(0x17a)]=String(_0x219b7e+0x1)['padStart'](0x2,'0')+_0x56ba70(0x117),openSheet(_0x56ba70(0x1b2));}function openEdit(_0x118315){const _0x2ae92c=a2_0xa8c310;editingId=_0x118315['id'],populateClientSelect(),document['getElementById'](_0x2ae92c(0x164))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x2ae92c(0x140)](_0x2ae92c(0xc4))[_0x2ae92c(0x18d)]['display']=_0x2ae92c(0x1e8);const _0x3d7258=document['getElementById']('btnStatusToggle');_0x3d7258[_0x2ae92c(0x18d)]['display']=_0x2ae92c(0x10d);_0x118315[_0x2ae92c(0x10e)]===_0x2ae92c(0x104)?(_0x3d7258[_0x2ae92c(0x1a1)]=_0x2ae92c(0x199),_0x3d7258[_0x2ae92c(0x1fe)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3d7258[_0x2ae92c(0x1a1)]=_0x2ae92c(0x1ce),_0x3d7258[_0x2ae92c(0x1fe)]=_0x2ae92c(0x124));const _0x2c2cb2=!!_0x118315[_0x2ae92c(0xa6)];document['getElementById']('recurringOptionContainer')[_0x2ae92c(0x18d)][_0x2ae92c(0x17e)]=_0x2ae92c(0x15f),document['getElementById'](_0x2ae92c(0xf3))[_0x2ae92c(0x18d)][_0x2ae92c(0x17e)]=_0x2ae92c(0x15f),_0x2c2cb2?(document[_0x2ae92c(0x140)](_0x2ae92c(0x188))[_0x2ae92c(0x18d)]['display']=_0x2ae92c(0x10d),document['getElementById']('patternInfoBox')[_0x2ae92c(0xfb)](_0x2ae92c(0x1d7))['textContent']=_0x2ae92c(0x1a2)):document[_0x2ae92c(0x140)]('patternInfoBox')[_0x2ae92c(0x18d)][_0x2ae92c(0x17e)]=_0x2ae92c(0x15f),document['getElementById'](_0x2ae92c(0x151))['value']=_0x118315[_0x2ae92c(0x1b8)],document[_0x2ae92c(0x140)](_0x2ae92c(0x109))[_0x2ae92c(0x17a)]=_0x118315['dateStr'],document['getElementById'](_0x2ae92c(0x191))[_0x2ae92c(0x17a)]=_0x118315['start'],document['getElementById'](_0x2ae92c(0x1c7))[_0x2ae92c(0x17a)]=_0x118315[_0x2ae92c(0xcd)],document[_0x2ae92c(0x140)](_0x2ae92c(0x1fc))[_0x2ae92c(0x17a)]=_0x118315['note']||'',updateDateDisplay(),openSheet(_0x2ae92c(0x1b2));}async function trySaveSession(){const _0x12117e=a2_0xa8c310,_0x7d4dda=document[_0x12117e(0x140)](_0x12117e(0x151))[_0x12117e(0x17a)],_0x1c9da9=document[_0x12117e(0x140)](_0x12117e(0x109))[_0x12117e(0x17a)],_0x55c194=document[_0x12117e(0x140)](_0x12117e(0x191))['value'],_0x3ce7e8=document['getElementById'](_0x12117e(0x1c7))[_0x12117e(0x17a)],_0x23fed0=document[_0x12117e(0x140)]('inpNote')[_0x12117e(0x17a)],_0x3d2462=document[_0x12117e(0x140)](_0x12117e(0x1e2))[_0x12117e(0x170)];let _0x818d02=0x4;if(_0x3d2462){const _0x2abb4a=parseInt(document['getElementById'](_0x12117e(0x19e))['value']);if(!_0x2abb4a||_0x2abb4a<0x2){showToast(_0x12117e(0x94),![]);return;}if(_0x2abb4a>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x818d02=_0x2abb4a;}const _0x2d56f8=clients[_0x12117e(0x1f6)](_0x6f4471=>_0x6f4471[_0x12117e(0xf1)]===_0x7d4dda);if(!_0x2d56f8){showToast(_0x12117e(0x9d),![]);return;}const _0x5d77d5=validateAppointment(_0x1c9da9,_0x55c194,_0x3ce7e8,editingId,_0x2d56f8['id']);if(!_0x5d77d5[_0x12117e(0x19a)]){showToast(_0x5d77d5[_0x12117e(0x150)],![]);return;}_0x5d77d5[_0x12117e(0x135)]&&showToast(_0x5d77d5[_0x12117e(0x135)],![]);const _0x3007ba={'client':_0x7d4dda,'clientId':_0x2d56f8['id'],'start':_0x55c194,'end':_0x3ce7e8,'note':_0x23fed0,'status':'planned'},_0x5a8c7e=editingId?sessions[_0x12117e(0x1f6)](_0x2e8ad1=>_0x2e8ad1['id']===editingId):null;if(_0x5a8c7e&&_0x5a8c7e[_0x12117e(0xa6)]){tempSessionData={..._0x3007ba,'dateStr':_0x1c9da9,'id':editingId,'seriesId':_0x5a8c7e['seriesId']},openActionSheet(_0x12117e(0x1ec));return;}let _0x5a2aee=null;if(!editingId)_0x5a2aee=_0x12117e(0xa1);else{if(_0x5a8c7e){if(String(_0x5a8c7e[_0x12117e(0x18b)])!==String(_0x2d56f8['id']))console[_0x12117e(0x152)](_0x12117e(0x160)),NotificationManager[_0x12117e(0x159)]('cancel',_0x5a8c7e),_0x5a2aee=_0x12117e(0xa1);else(_0x5a8c7e['start']!==_0x55c194||_0x5a8c7e[_0x12117e(0xcd)]!==_0x3ce7e8||_0x5a8c7e[_0x12117e(0x129)]!==_0x1c9da9)&&(_0x5a2aee=_0x12117e(0xe2));}}if(!editingId&&_0x3d2462){createBatchSeries(_0x3007ba,_0x1c9da9,_0x818d02),NotificationManager[_0x12117e(0x159)](_0x12117e(0xa1),{..._0x3007ba,'dateStr':_0x1c9da9});return;}lastUserActionTime=Date[_0x12117e(0x97)]();const _0x27f214={..._0x3007ba,'dateStr':_0x1c9da9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x27f214),_0x5a2aee&&NotificationManager['send'](_0x5a2aee,_0x27f214);}function toggleSessionStatus(){const _0x1dda19=a2_0xa8c310;lastUserActionTime=Date[_0x1dda19(0x97)]();const _0x413676=sessions[_0x1dda19(0x1f6)](_0x5830a4=>_0x5830a4['id']===editingId);if(!_0x413676)return;const _0x30c203=_0x413676['status']===_0x1dda19(0x104)?_0x1dda19(0x118):_0x1dda19(0x104);_0x413676['status']=_0x30c203,saveSingleSession(_0x413676),_0x30c203===_0x1dda19(0x104)&&NotificationManager[_0x1dda19(0x159)]('complete',_0x413676),showToast(_0x30c203===_0x1dda19(0x104)?_0x1dda19(0x128):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x320a6c,_0x953b1d,_0x23e1cd,_0x3d3a45,_0x50df68){const _0x426e12=a2_0xa8c310,[_0x206f74,_0x2bfcca]=_0x953b1d[_0x426e12(0x173)](':')[_0x426e12(0x1ed)](Number),[_0x462e96,_0x26d4a4]=_0x23e1cd[_0x426e12(0x173)](':')['map'](Number),_0x1d78d1=_0x206f74*0x3c+_0x2bfcca,_0x2ca1ea=_0x462e96*0x3c+_0x26d4a4,_0x2828d0=String(_0x50df68);let _0x36a436=![],_0x1590ed='';for(let _0x9491d8 of sessions){if(_0x9491d8[_0x426e12(0x129)]!==_0x320a6c)continue;if(_0x9491d8['status']==='cancelled')continue;if(_0x3d3a45&&String(_0x9491d8['id'])===String(_0x3d3a45))continue;const [_0x38196e,_0x11b82a]=_0x9491d8[_0x426e12(0x1a8)]['split'](':')[_0x426e12(0x1ed)](Number),[_0x3452c4,_0x4d6f57]=_0x9491d8[_0x426e12(0xcd)][_0x426e12(0x173)](':')[_0x426e12(0x1ed)](Number),_0x4bcfbf=_0x38196e*0x3c+_0x11b82a,_0x30b660=_0x3452c4*0x3c+_0x4d6f57;if(Math['max'](_0x1d78d1,_0x4bcfbf)<Math[_0x426e12(0x85)](_0x2ca1ea,_0x30b660)){if(_0x9491d8[_0x426e12(0x18b)]&&String(_0x9491d8[_0x426e12(0x18b)])===_0x2828d0)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x9491d8[_0x426e12(0x1b8)]+_0x426e12(0xb7)};_0x36a436=!![],_0x1590ed=_0x9491d8['client'];}}if(_0x36a436)return{'valid':!![],'warning':_0x426e12(0x10b)+_0x1590ed};return{'valid':!![]};}function saveSingleSession(_0x238ad8){const _0x446253=a2_0xa8c310;if(editingId){const _0x33b1d3=sessions['findIndex'](_0xea5dfa=>_0xea5dfa['id']===editingId);if(_0x33b1d3!==-0x1)sessions[_0x33b1d3]=_0x238ad8;}else sessions['push'](_0x238ad8);afterSaveAction([_0x238ad8[_0x446253(0x129)]]);}function createBatchSeries(_0xe769c8,_0x5467b8,_0x1c2c10){const _0x42115e=a2_0xa8c310,_0x52f13f=generateId(),_0x5349fb=[],_0x37953b=[];let _0x4f6d62=0x0,_0x369234=new Date(_0x5467b8);for(let _0xe510da=0x0;_0xe510da<_0x1c2c10;_0xe510da++){const _0x30f693=getLocalDateStr(_0x369234),_0x4ea477=validateAppointment(_0x30f693,_0xe769c8['start'],_0xe769c8[_0x42115e(0xcd)],null,_0xe769c8['clientId']);if(!_0x4ea477[_0x42115e(0x19a)])console[_0x42115e(0x152)]('[Series]\x20Skipped\x20'+_0x30f693+':\x20Client\x20already\x20booked'),_0x4f6d62++;else{const _0x2fd09e={..._0xe769c8,'id':generateId(),'dateStr':_0x30f693,'seriesId':_0x52f13f};_0x37953b[_0x42115e(0x192)](_0x2fd09e),_0x5349fb[_0x42115e(0x192)](_0x30f693);}_0x369234[_0x42115e(0x83)](_0x369234[_0x42115e(0xb1)]()+0x7);}if(_0x37953b[_0x42115e(0x1da)]===0x0){showToast(_0x42115e(0x197),![]);return;}sessions[_0x42115e(0x192)](..._0x37953b),lastUserActionTime=Date['now']();let _0x41e278=_0x42115e(0x14b)+_0x37953b[_0x42115e(0x1da)];_0x4f6d62>0x0&&(_0x41e278+=_0x42115e(0x1ee)+_0x4f6d62+')'),showToast(_0x41e278,!![]),afterSaveAction(_0x5349fb);}function updateSeriesBatch(_0x425c6f,_0x1b9901){const _0x1675a3=a2_0xa8c310,_0x513340=[],_0x4aa47c=_0x1b9901[_0x1675a3(0xa6)];if(_0x425c6f===_0x1675a3(0x1c2)){const _0x470971={..._0x1b9901,'seriesId':null},_0x51aeb8=sessions[_0x1675a3(0xdc)](_0x267006=>_0x267006['id']===_0x1b9901['id']);if(_0x51aeb8!==-0x1)sessions[_0x51aeb8]=_0x470971;_0x513340[_0x1675a3(0x192)](_0x470971[_0x1675a3(0x129)]);}else{if(_0x425c6f===_0x1675a3(0xda)){const _0x396a2f=_0x1b9901[_0x1675a3(0x129)];sessions[_0x1675a3(0x19c)]((_0x54f011,_0x29c37c)=>{const _0x22138e=_0x1675a3;_0x54f011['seriesId']===_0x4aa47c&&_0x54f011[_0x22138e(0x129)]>=_0x396a2f&&(sessions[_0x29c37c]={...sessions[_0x29c37c],'start':_0x1b9901[_0x22138e(0x1a8)],'end':_0x1b9901[_0x22138e(0xcd)],'note':_0x1b9901[_0x22138e(0x13e)],'client':_0x1b9901[_0x22138e(0x1b8)],'clientId':_0x1b9901[_0x22138e(0x18b)]},_0x513340[_0x22138e(0x192)](_0x54f011[_0x22138e(0x129)]));});}}afterSaveAction(_0x513340);}function tryDeleteSession(){const _0x4bf850=a2_0xa8c310,_0x163872=sessions[_0x4bf850(0x1f6)](_0x2e4ee7=>_0x2e4ee7['id']===editingId);if(!_0x163872)return;_0x163872[_0x4bf850(0xa6)]?openActionSheet(_0x4bf850(0x1ab)):commitDelete(_0x4bf850(0x1c2),_0x163872);}function commitDelete(_0x47be91,_0x3380df){const _0xc93f57=a2_0xa8c310;lastUserActionTime=Date[_0xc93f57(0x97)](),NotificationManager['send'](_0xc93f57(0x1e6),_0x3380df);const _0x1e2033=[];if(_0x47be91===_0xc93f57(0x1c2))sessions=sessions[_0xc93f57(0xbb)](_0x21445b=>_0x21445b['id']!==_0x3380df['id']),_0x1e2033['push'](_0x3380df[_0xc93f57(0x129)]);else{if(_0x47be91==='series'){const _0xa3c503=_0x3380df['dateStr'],_0x4d0ed1=_0x3380df[_0xc93f57(0xa6)];sessions[_0xc93f57(0x19c)](_0x1d5ea4=>{const _0x4a3413=_0xc93f57;_0x1d5ea4[_0x4a3413(0xa6)]===_0x4d0ed1&&_0x1d5ea4[_0x4a3413(0x129)]>=_0xa3c503&&_0x1e2033['push'](_0x1d5ea4[_0x4a3413(0x129)]);}),sessions=sessions['filter'](_0x13985f=>!(_0x13985f[_0xc93f57(0xa6)]===_0x4d0ed1&&_0x13985f[_0xc93f57(0x129)]>=_0xa3c503));}}afterSaveAction(_0x1e2033);}function afterSaveAction(_0x4aabf0){const _0x1b38f9=a2_0xa8c310;DataManager[_0x1b38f9(0x114)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1b38f9(0x1c5)](_0x4aabf0)[_0x1b38f9(0x18e)](()=>console[_0x1b38f9(0x152)](_0x1b38f9(0x17c)))['catch'](_0x295677=>showToast(_0x1b38f9(0xc7),![]));}const NotificationManager={'formatDate'(_0xb2543a){const _0x268b92=a2_0xa8c310,_0x437b0d=new Date(_0xb2543a),_0x3733ed={'weekday':_0x268b92(0xb4),'day':_0x268b92(0xd9),'month':_0x268b92(0xb4)};let _0xb79e40=_0x437b0d[_0x268b92(0x1ad)](_0x268b92(0xaf),_0x3733ed);return _0xb79e40['charAt'](0x0)[_0x268b92(0x107)]()+_0xb79e40[_0x268b92(0x1d6)](0x1);},'getText'(_0x1a7d53,_0x548569){const _0x465569=a2_0xa8c310,_0x1164c0=this[_0x465569(0x9a)](_0x548569[_0x465569(0x129)]);switch(_0x1a7d53){case _0x465569(0xa1):return _0x465569(0x12a)+(_0x465569(0x96)+_0x1164c0+'\x0a')+(_0x465569(0x1f2)+_0x548569[_0x465569(0x1a8)]+_0x465569(0x1ef)+_0x548569[_0x465569(0xcd)]+'\x0a\x0a')+_0x465569(0xd4);case _0x465569(0xe2):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x465569(0x11c)+('<b>‚úÖ\x20'+_0x548569[_0x465569(0x1a8)]+_0x465569(0x1ef)+_0x548569[_0x465569(0xcd)]+'</b>\x0a\x0a')+(_0x465569(0x96)+_0x1164c0);case _0x465569(0x1e6):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x465569(0x182)+_0x1164c0+'\x20('+_0x548569['start']+_0x465569(0x139));case _0x465569(0x1dc):return _0x465569(0x189)+_0x465569(0x137)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x4c7f60,_0x4121a0){const _0x8515bf=a2_0xa8c310;console[_0x8515bf(0x152)](_0x8515bf(0x15c),_0x4c7f60,_0x4121a0);if(!_0x4121a0){console[_0x8515bf(0x166)](_0x8515bf(0x1a9));return;}const _0x27e1bd=String(_0x4121a0[_0x8515bf(0x18b)]);console['log']('[Notify]\x20Detected\x20Client\x20ID:',_0x27e1bd);if(!_0x4121a0[_0x8515bf(0x18b)]||_0x27e1bd===_0x8515bf(0x1fd)||_0x27e1bd===_0x8515bf(0x90)){console[_0x8515bf(0x166)](_0x8515bf(0x12c));if(_0x4121a0[_0x8515bf(0x1b8)]){const _0x232b28=clients[_0x8515bf(0x1f6)](_0xee67ce=>_0xee67ce[_0x8515bf(0xf1)]===_0x4121a0['client']);if(_0x232b28)return console[_0x8515bf(0x152)](_0x8515bf(0xa9),_0x232b28['id']),this[_0x8515bf(0x159)](_0x4c7f60,{..._0x4121a0,'clientId':_0x232b28['id']});}return;}if(_0x27e1bd[_0x8515bf(0x1da)]<0x5){console[_0x8515bf(0x19d)](_0x8515bf(0xbe),_0x27e1bd);return;}const _0x141343=this[_0x8515bf(0xd1)](_0x4c7f60,_0x4121a0);if(!_0x141343){console[_0x8515bf(0x166)](_0x8515bf(0x1c6));return;}console[_0x8515bf(0x152)](_0x8515bf(0x130)+_0x27e1bd+_0x8515bf(0x84)),DataManager['fetchFromServer'](_0x8515bf(0x89),{'chatId':_0x27e1bd,'text':_0x141343})[_0x8515bf(0x18e)](_0x4bad86=>console[_0x8515bf(0x152)](_0x8515bf(0x1f0),_0x4bad86))['catch'](_0x50b7a8=>console['error'](_0x8515bf(0x198),_0x50b7a8));}};function getLocalDateStr(_0x1299ee){const _0xbeea0c=a2_0xa8c310,_0x1767eb=_0x1299ee[_0xbeea0c(0x18a)](),_0x403565=String(_0x1299ee[_0xbeea0c(0x16b)]()+0x1)[_0xbeea0c(0x10f)](0x2,'0'),_0xd210af=String(_0x1299ee['getDate']())[_0xbeea0c(0x10f)](0x2,'0');return _0x1767eb+'-'+_0x403565+'-'+_0xd210af;}function getDateStr(_0x2deb56){const _0x27af17=a2_0xa8c310,_0x32fc7e=new Date();return _0x32fc7e[_0x27af17(0x83)](_0x32fc7e[_0x27af17(0xb1)]()+_0x2deb56),getLocalDateStr(_0x32fc7e);}function getStartOfWeek(_0x23a329){const _0x3fac69=a2_0xa8c310,_0x550f30=new Date(_0x23a329),_0x3f76fa=_0x550f30[_0x3fac69(0x15e)](),_0x4d9fc3=_0x550f30[_0x3fac69(0xb1)]()-_0x3f76fa+(_0x3f76fa===0x0?-0x6:0x1);return _0x550f30[_0x3fac69(0x83)](_0x4d9fc3),_0x550f30[_0x3fac69(0x10a)](0x0,0x0,0x0,0x0),_0x550f30;}function hexToRgba(_0xff0571,_0x375b27){const _0x410378=a2_0xa8c310;if(!_0xff0571)return _0x410378(0x1c3);let _0x4f2db4=0x0,_0x29cf70=0x0,_0x3ad731=0x0;if(_0xff0571['length']===0x4)_0x4f2db4='0x'+_0xff0571[0x1]+_0xff0571[0x1],_0x29cf70='0x'+_0xff0571[0x2]+_0xff0571[0x2],_0x3ad731='0x'+_0xff0571[0x3]+_0xff0571[0x3];else _0xff0571[_0x410378(0x1da)]===0x7&&(_0x4f2db4='0x'+_0xff0571[0x1]+_0xff0571[0x2],_0x29cf70='0x'+_0xff0571[0x3]+_0xff0571[0x4],_0x3ad731='0x'+_0xff0571[0x5]+_0xff0571[0x6]);return _0x410378(0xc3)+ +_0x4f2db4+',\x20'+ +_0x29cf70+',\x20'+ +_0x3ad731+',\x20'+_0x375b27+')';}function renderTimeColumn(){const _0x880e77=a2_0xa8c310,_0x336aae=document[_0x880e77(0x140)](_0x880e77(0x86)),_0x7109c3=document[_0x880e77(0x140)]('timeLineBadge');_0x336aae[_0x880e77(0x1fe)]='',_0x336aae[_0x880e77(0x158)](_0x7109c3);for(let _0x49dc67=0x0;_0x49dc67<0x18;_0x49dc67++){const _0x222bb2=document[_0x880e77(0x80)]('div');_0x222bb2[_0x880e77(0x1a1)]='time-label';if(_0x49dc67>0x0)_0x222bb2[_0x880e77(0x1fe)]=_0x880e77(0x120)+String(_0x49dc67)[_0x880e77(0x10f)](0x2,'0')+_0x880e77(0xea);_0x336aae[_0x880e77(0x158)](_0x222bb2);}}function renderDayRange(_0x189c10,_0x29a8e5){const _0x37f90c=a2_0xa8c310,_0x23e4f4=document[_0x37f90c(0x140)](_0x37f90c(0x193)),_0x140a88=document['getElementById']('gridColumns'),_0x5ca976=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x128870=new Date();_0x128870[_0x37f90c(0x10a)](0x0,0x0,0x0,0x0);const _0x29fe67=getLocalDateStr(new Date());for(let _0x5b8f7e=_0x189c10;_0x5b8f7e<=_0x29a8e5;_0x5b8f7e++){const _0x5b39c3=new Date(_0x128870);_0x5b39c3[_0x37f90c(0x83)](_0x5b39c3[_0x37f90c(0xb1)]()+_0x5b8f7e);const _0x42195c=getLocalDateStr(_0x5b39c3);let _0x1f5dfc=_0x5b39c3[_0x37f90c(0x15e)]()-0x1;if(_0x1f5dfc===-0x1)_0x1f5dfc=0x6;const _0x1b0463=_0x42195c===_0x29fe67,_0x31e15c=document[_0x37f90c(0x80)]('div');_0x31e15c[_0x37f90c(0x1a1)]=_0x37f90c(0xba)+(_0x1b0463?_0x37f90c(0x11e):''),_0x31e15c['id']='header-'+_0x42195c,_0x31e15c['setAttribute'](_0x37f90c(0x1bf),_0x42195c),_0x31e15c['innerHTML']=_0x37f90c(0x125)+_0x5ca976[_0x1f5dfc]+_0x37f90c(0x17b)+_0x5b39c3[_0x37f90c(0xb1)]()+_0x37f90c(0xdb)+_0x42195c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x31e15c[_0x37f90c(0x185)]=()=>openDayOptions(_0x42195c,_0x5ca976[_0x1f5dfc]+'\x20'+_0x5b39c3[_0x37f90c(0xb1)]()),_0x23e4f4[_0x37f90c(0x158)](_0x31e15c);const _0x3f1b90=document[_0x37f90c(0x80)](_0x37f90c(0x105));_0x3f1b90['className']='day-column\x20'+(_0x1b0463?'today':''),_0x3f1b90[_0x37f90c(0x1c0)](_0x37f90c(0x1bf),_0x42195c),_0x3f1b90[_0x37f90c(0x1c0)]('data-day-idx',_0x1f5dfc),renderEventsForColumn(_0x3f1b90,_0x42195c,_0x1f5dfc),attachLongPressHandler(_0x3f1b90,_0x5b39c3),_0x140a88[_0x37f90c(0x158)](_0x3f1b90),updateDayStats(_0x42195c);}}function reRenderBlocks(){const _0x4b8fe4=a2_0xa8c310;document[_0x4b8fe4(0x16c)](_0x4b8fe4(0x1b6))[_0x4b8fe4(0x19c)](_0x3e3055=>{const _0x1944f6=_0x4b8fe4;_0x3e3055[_0x1944f6(0x16c)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x291831=>_0x291831[_0x1944f6(0xe4)]());const _0x295bcd=_0x3e3055['getAttribute'](_0x1944f6(0x1bf)),_0x34c72c=parseInt(_0x3e3055['getAttribute'](_0x1944f6(0x180))),_0x71b548=Math['round'](_0x3e3055['offsetLeft']);(availabilityPattern[_0x34c72c]||[])[_0x1944f6(0x19c)](_0x3ca9b2=>{const _0x4cec01=_0x1944f6,_0x199097=document['createElement'](_0x4cec01(0x105));_0x199097[_0x4cec01(0x1a1)]=_0x4cec01(0x194);const _0x9ce933=_0x3ca9b2*GRID_H;_0x199097[_0x4cec01(0x18d)][_0x4cec01(0x81)]=_0x9ce933+'px',_0x199097[_0x4cec01(0x18d)][_0x4cec01(0x174)]='-'+_0x71b548+_0x4cec01(0x8c)+_0x9ce933+'px',_0x3e3055[_0x4cec01(0x158)](_0x199097);});if(specialRanges&&specialRanges['length']>0x0){const _0x3a1a47=new Date(_0x295bcd+_0x1944f6(0x1e9))[_0x1944f6(0x1a6)](),_0x5bc797=new Date(_0x295bcd+_0x1944f6(0xc9))[_0x1944f6(0x1a6)]();specialRanges[_0x1944f6(0x19c)](_0x1ddb65=>{const _0x2c0ea7=_0x1944f6,_0x426634=new Date(_0x1ddb65[_0x2c0ea7(0x1a8)])[_0x2c0ea7(0x1a6)](),_0x4947c4=new Date(_0x1ddb65[_0x2c0ea7(0xcd)])[_0x2c0ea7(0x1a6)](),_0x28a0a8=Math[_0x2c0ea7(0x1b7)](_0x3a1a47,_0x426634),_0x2108c5=Math[_0x2c0ea7(0x85)](_0x5bc797,_0x4947c4);if(_0x28a0a8<_0x2108c5){if(_0x28a0a8<=_0x3a1a47&&_0x2108c5>=_0x5bc797-0xea60){if(!_0x3e3055[_0x2c0ea7(0xfb)](_0x2c0ea7(0x196))){const _0x94c600=document[_0x2c0ea7(0x80)](_0x2c0ea7(0x105));_0x94c600[_0x2c0ea7(0x1a1)]=_0x2c0ea7(0x1d4),_0x94c600[_0x2c0ea7(0x18d)][_0x2c0ea7(0x174)]='-'+_0x71b548+_0x2c0ea7(0x126),_0x3e3055[_0x2c0ea7(0x158)](_0x94c600);}}else{const _0x5f4acb=(_0x28a0a8-_0x3a1a47)/0x36ee80*GRID_H,_0x5c7124=(_0x2108c5-_0x28a0a8)/0x36ee80*GRID_H,_0x34a3d1=document[_0x2c0ea7(0x80)](_0x2c0ea7(0x105));_0x34a3d1['className']=_0x2c0ea7(0x147),_0x34a3d1[_0x2c0ea7(0x18d)]['top']=_0x5f4acb+'px',_0x34a3d1[_0x2c0ea7(0x18d)][_0x2c0ea7(0x195)]=_0x5c7124+'px',_0x34a3d1[_0x2c0ea7(0x18d)][_0x2c0ea7(0x174)]='-'+_0x71b548+_0x2c0ea7(0x8c)+_0x5f4acb+'px',_0x3e3055['appendChild'](_0x34a3d1);}}});}if(dateExceptions[_0x295bcd]===_0x1944f6(0x153)){if(!_0x3e3055[_0x1944f6(0xfb)](_0x1944f6(0x196))){const _0x1e76c8=document['createElement'](_0x1944f6(0x105));_0x1e76c8['className']='day-off-overlay\x20stripe-bg',_0x1e76c8[_0x1944f6(0x18d)]['backgroundPosition']='-'+_0x71b548+'px\x200px',_0x3e3055[_0x1944f6(0x158)](_0x1e76c8);}}renderEventsForColumn(_0x3e3055,_0x295bcd,_0x34c72c),updateDayStats(_0x295bcd);});}function updateAllDayStats(){const _0x5bed01=a2_0xa8c310;document[_0x5bed01(0x16c)](_0x5bed01(0xa0))[_0x5bed01(0x19c)](_0x5cc0f8=>{const _0x1f2671=_0x5bed01;updateDayStats(_0x5cc0f8[_0x1f2671(0xf2)](_0x1f2671(0x1bf)));});}function updateDayStats(_0x4c2fee){const _0x5ce793=a2_0xa8c310,_0x3ac3ac=document[_0x5ce793(0x140)]('stat-'+_0x4c2fee);if(!_0x3ac3ac)return;const _0x2f391c=new Date(_0x4c2fee);let _0x26b1f2=_0x2f391c[_0x5ce793(0x15e)]()-0x1;if(_0x26b1f2===-0x1)_0x26b1f2=0x6;if(dateExceptions[_0x4c2fee]==='off'){_0x3ac3ac[_0x5ce793(0x18d)]['display']=_0x5ce793(0x15f);return;}const _0x2c6df1=availabilityPattern[_0x26b1f2]||[],_0x5647d4=0x18-_0x2c6df1['length'],_0x326782=_0x5647d4*0x3c,_0x46107f=sessions[_0x5ce793(0xbb)](_0x523fa8=>_0x523fa8[_0x5ce793(0x129)]===_0x4c2fee&&_0x523fa8[_0x5ce793(0x10e)]!==_0x5ce793(0xb8));if(_0x46107f['length']===0x0){_0x3ac3ac[_0x5ce793(0x18d)][_0x5ce793(0x17e)]='none';return;}let _0x2d8517=_0x46107f[_0x5ce793(0x1ed)](_0x221762=>{const _0x1280ae=_0x5ce793,[_0x61d5cd,_0x2289ee]=_0x221762[_0x1280ae(0x1a8)][_0x1280ae(0x173)](':')[_0x1280ae(0x1ed)](Number),[_0x53e016,_0x4e17de]=_0x221762[_0x1280ae(0xcd)][_0x1280ae(0x173)](':')['map'](Number);return[_0x61d5cd*0x3c+_0x2289ee,_0x53e016*0x3c+_0x4e17de];});_0x2d8517[_0x5ce793(0x93)]((_0x4d39d0,_0x2c12c7)=>_0x4d39d0[0x0]-_0x2c12c7[0x0]);let _0x39fff1=[];if(_0x2d8517['length']>0x0){let _0x4a5d54=_0x2d8517[0x0];for(let _0x440490=0x1;_0x440490<_0x2d8517[_0x5ce793(0x1da)];_0x440490++){_0x2d8517[_0x440490][0x0]<_0x4a5d54[0x1]?_0x4a5d54[0x1]=Math[_0x5ce793(0x1b7)](_0x4a5d54[0x1],_0x2d8517[_0x440490][0x1]):(_0x39fff1[_0x5ce793(0x192)](_0x4a5d54),_0x4a5d54=_0x2d8517[_0x440490]);}_0x39fff1[_0x5ce793(0x192)](_0x4a5d54);}let _0x2f6eff=0x0;_0x39fff1['forEach'](_0x3ce639=>_0x2f6eff+=_0x3ce639[0x1]-_0x3ce639[0x0]),_0x3ac3ac[_0x5ce793(0x18d)][_0x5ce793(0x17e)]=_0x5ce793(0x10d);const _0x505f3e=_0x3ac3ac['querySelector']('.dch-stats-fill');if(_0x326782===0x0){_0x505f3e['style'][_0x5ce793(0x87)]=_0x5ce793(0x9e),_0x505f3e[_0x5ce793(0x18d)][_0x5ce793(0x16f)]=_0x5ce793(0x17d);return;}const _0x30f09f=_0x2f6eff/_0x326782*0x64;console[_0x5ce793(0x152)]('['+_0x4c2fee+_0x5ce793(0xab)+_0x5647d4+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x2f6eff+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x30f09f[_0x5ce793(0xb3)](0x1)+'%'),_0x30f09f>0x64?(_0x505f3e['style']['width']=_0x5ce793(0x9e),_0x505f3e[_0x5ce793(0x18d)][_0x5ce793(0x16f)]=_0x5ce793(0x17d)):(_0x505f3e[_0x5ce793(0x18d)][_0x5ce793(0x87)]=_0x30f09f+'%',_0x505f3e[_0x5ce793(0x18d)][_0x5ce793(0x16f)]=_0x5ce793(0x1f8));}function renderEventsForColumn(_0x20ac68,_0x467dc5,_0x4acaeb){const _0x59ce32=a2_0xa8c310,_0x25768b=sessions[_0x59ce32(0xbb)](_0x23fb87=>_0x23fb87[_0x59ce32(0x129)]===_0x467dc5),_0x2a3cfb=_0x25768b[_0x59ce32(0x1ed)](_0x4a4030=>{const _0x11f990=_0x59ce32,[_0x3d2d48,_0x1efa98]=_0x4a4030['start'][_0x11f990(0x173)](':')['map'](Number),[_0x222261,_0x8d03ac]=_0x4a4030[_0x11f990(0xcd)][_0x11f990(0x173)](':')[_0x11f990(0x1ed)](Number);return{'data':_0x4a4030,'start':_0x3d2d48*0x3c+_0x1efa98,'end':_0x222261*0x3c+_0x8d03ac,'colIndex':0x0};});_0x2a3cfb[_0x59ce32(0x93)]((_0x195392,_0x283e99)=>{const _0x2e0589=_0x59ce32;if(_0x195392[_0x2e0589(0x1a8)]!==_0x283e99[_0x2e0589(0x1a8)])return _0x195392['start']-_0x283e99[_0x2e0589(0x1a8)];return _0x283e99[_0x2e0589(0xcd)]-_0x283e99['start']-(_0x195392[_0x2e0589(0xcd)]-_0x195392[_0x2e0589(0x1a8)]);});const _0xd5ee7=[];_0x2a3cfb[_0x59ce32(0x19c)](_0x1e549d=>{const _0x5d8f83=_0x59ce32;let _0x132dbf=![];for(let _0x4e0f16=0x0;_0x4e0f16<_0xd5ee7[_0x5d8f83(0x1da)];_0x4e0f16++){const _0x4953ac=_0xd5ee7[_0x4e0f16],_0x39267f=_0x4953ac[_0x4953ac[_0x5d8f83(0x1da)]-0x1];if(_0x1e549d[_0x5d8f83(0x1a8)]>=_0x39267f[_0x5d8f83(0xcd)]){_0x4953ac[_0x5d8f83(0x192)](_0x1e549d),_0x1e549d[_0x5d8f83(0xbc)]=_0x4e0f16,_0x132dbf=!![];break;}}!_0x132dbf&&(_0xd5ee7[_0x5d8f83(0x192)]([_0x1e549d]),_0x1e549d['colIndex']=_0xd5ee7[_0x5d8f83(0x1da)]-0x1);}),_0x2a3cfb['forEach'](_0x263fac=>{const _0x5c9538=_0x59ce32;let _0x152a03=0x0;_0x2a3cfb[_0x5c9538(0x19c)](_0x43a028=>{const _0x1cd490=_0x5c9538;if(Math[_0x1cd490(0x1b7)](_0x263fac[_0x1cd490(0x1a8)],_0x43a028[_0x1cd490(0x1a8)])<Math[_0x1cd490(0x85)](_0x263fac[_0x1cd490(0xcd)],_0x43a028[_0x1cd490(0xcd)])){if(_0x43a028['colIndex']>_0x152a03)_0x152a03=_0x43a028[_0x1cd490(0xbc)];}});const _0xddacfa=_0x152a03+0x1,_0x55e26a=0x64/_0xddacfa,_0x4f003c=_0x263fac[_0x5c9538(0xbc)]*_0x55e26a,_0x43664f=createEventEl(_0x263fac['data']);_0x43664f[_0x5c9538(0x18d)][_0x5c9538(0x87)]='calc('+_0x55e26a+'%\x20-\x204px)',_0x43664f[_0x5c9538(0x18d)][_0x5c9538(0x13d)]=_0x5c9538(0x1bb)+_0x4f003c+_0x5c9538(0x154),_0x43664f['style'][_0x5c9538(0x7f)]=0xa+_0x263fac[_0x5c9538(0xbc)],_0x55e26a<0x55&&_0x43664f['classList'][_0x5c9538(0x9c)](_0x5c9538(0xb5)),_0x20ac68[_0x5c9538(0x158)](_0x43664f);});}function createEventEl(_0x4b93b6){const _0x5a2c00=a2_0xa8c310,[_0x519212,_0x286835]=_0x4b93b6[_0x5a2c00(0x1a8)][_0x5a2c00(0x173)](':')[_0x5a2c00(0x1ed)](Number),[_0x1c8886,_0x384cf8]=_0x4b93b6['end'][_0x5a2c00(0x173)](':')[_0x5a2c00(0x1ed)](Number),_0x463bea=(_0x519212*0x3c+_0x286835)/0x3c*GRID_H,_0x16797e=(_0x1c8886*0x3c+_0x384cf8-(_0x519212*0x3c+_0x286835))/0x3c*GRID_H,_0x53b661=document[_0x5a2c00(0x80)](_0x5a2c00(0x105)),_0x32e57a=_0x4b93b6['status']===_0x5a2c00(0x104)?_0x5a2c00(0xcc):'';_0x53b661[_0x5a2c00(0x1a1)]=_0x5a2c00(0xf6)+_0x32e57a,_0x53b661[_0x5a2c00(0x18d)][_0x5a2c00(0x81)]=_0x463bea+'px',_0x53b661[_0x5a2c00(0x18d)][_0x5a2c00(0x195)]=Math[_0x5a2c00(0x1b7)](_0x16797e,0x14)+'px';const _0x4edee6=clients['find'](_0x518b9d=>_0x4b93b6['clientId']&&String(_0x518b9d['id'])===String(_0x4b93b6[_0x5a2c00(0x18b)])||_0x518b9d['name']===_0x4b93b6['client']),_0x2c661b=_0x4edee6?_0x4edee6['color']:_0x5a2c00(0x1d3);_0x53b661[_0x5a2c00(0x18d)][_0x5a2c00(0x1db)]=_0x2c661b,_0x53b661[_0x5a2c00(0x18d)][_0x5a2c00(0xe9)]=hexToRgba(_0x2c661b,0.85);let _0x4af145=_0x5a2c00(0x16e)+_0x4b93b6[_0x5a2c00(0x1b8)]+_0x5a2c00(0xc6)+_0x4b93b6[_0x5a2c00(0x1a8)]+_0x5a2c00(0x1c9)+_0x4b93b6[_0x5a2c00(0xcd)]+_0x5a2c00(0x165);return _0x4b93b6[_0x5a2c00(0xa6)]&&(_0x4af145+=_0x5a2c00(0x171)),_0x4b93b6['status']===_0x5a2c00(0x104)&&(_0x4af145+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x53b661[_0x5a2c00(0x1fe)]=_0x4af145,_0x53b661[_0x5a2c00(0x185)]=_0x529bdd=>{const _0xf3e21f=_0x5a2c00;_0x529bdd[_0xf3e21f(0x12f)](),openEdit(_0x4b93b6);},_0x53b661;}function attachLongPressHandler(_0x36c407,_0x5c4bb2){const _0x330e02=a2_0xa8c310;let _0x2b8859=0x0,_0x51057c=null;const _0x14088b=_0x1859ad=>{const _0x1739b5=a2_0x4b90;if(_0x1859ad['target'][_0x1739b5(0x1aa)](_0x1739b5(0x19f)))return;isScrolling=![],_0x2b8859=_0x1859ad[_0x1739b5(0x168)]?_0x1859ad[_0x1739b5(0x168)][0x0][_0x1739b5(0x19b)]:_0x1859ad['clientY'],_0x51057c=setTimeout(()=>{const _0x51f8cf=_0x1739b5;if(!isScrolling){navigator[_0x51f8cf(0x1de)]?.(0x32);const _0x191dd3=_0x36c407['getBoundingClientRect'](),_0x23fc0a=Math[_0x51f8cf(0x14e)]((_0x2b8859-_0x191dd3[_0x51f8cf(0x81)])/GRID_H);_0x5c4bb2[_0x51f8cf(0x10a)](_0x23fc0a,0x0),openAddSession(_0x5c4bb2);}},0x1f4);},_0x3e6f01=()=>{isScrolling=!![],clearTimeout(_0x51057c);},_0x16bc8a=()=>{clearTimeout(_0x51057c);};_0x36c407[_0x330e02(0x187)](_0x330e02(0x1a5),_0x14088b,{'passive':!![]}),_0x36c407['addEventListener']('touchmove',_0x3e6f01,{'passive':!![]}),_0x36c407[_0x330e02(0x187)](_0x330e02(0x12e),_0x16bc8a),_0x36c407[_0x330e02(0x187)](_0x330e02(0x1ae),_0x14088b),_0x36c407[_0x330e02(0x187)]('mousemove',_0x3e6f01),_0x36c407['addEventListener'](_0x330e02(0xe3),_0x16bc8a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5ae8fa=a2_0xa8c310,_0x23cb2f=document[_0x5ae8fa(0x140)](_0x5ae8fa(0x1bc)),_0x21dfdd=_0x23cb2f['scrollLeft'],_0x289358=_0x23cb2f[_0x5ae8fa(0x169)],_0x3f0d71=_0x23cb2f[_0x5ae8fa(0x1a0)];if(_0x289358-(_0x21dfdd+_0x3f0d71)<0x12c){const _0x1ce92b=endOffset;endOffset+=0xe,renderDayRange(_0x1ce92b+0x1,endOffset),reRenderBlocks();}if(_0x21dfdd<0x12c){const _0x5d3d06=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5d3d06-0x1),_0x23cb2f[_0x5ae8fa(0x172)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3afdeb,_0x1daf48){const _0xaac3f2=a2_0xa8c310,_0x59a145=document[_0xaac3f2(0x140)]('daysHeaderTrack'),_0x426de9=document['getElementById'](_0xaac3f2(0x138)),_0x383891=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1503e8=new Date();_0x1503e8['setHours'](0x0,0x0,0x0,0x0);const _0x1cd77f=getLocalDateStr(new Date()),_0x5d9e81=document[_0xaac3f2(0xbf)](),_0x174824=document[_0xaac3f2(0xbf)]();for(let _0x20d076=_0x3afdeb;_0x20d076<=_0x1daf48;_0x20d076++){const _0x3c5028=new Date(_0x1503e8);_0x3c5028[_0xaac3f2(0x83)](_0x3c5028['getDate']()+_0x20d076);const _0x36012c=getLocalDateStr(_0x3c5028);let _0x21c9bd=_0x3c5028[_0xaac3f2(0x15e)]()-0x1;if(_0x21c9bd===-0x1)_0x21c9bd=0x6;const _0x4d4afa=_0x36012c===_0x1cd77f,_0x2ef6c3=document[_0xaac3f2(0x80)]('div');_0x2ef6c3['className']='day-col-header\x20'+(_0x4d4afa?'today':''),_0x2ef6c3['id']=_0xaac3f2(0xa8)+_0x36012c,_0x2ef6c3[_0xaac3f2(0x1c0)](_0xaac3f2(0x1bf),_0x36012c),_0x2ef6c3[_0xaac3f2(0x1fe)]=_0xaac3f2(0x125)+_0x383891[_0x21c9bd]+_0xaac3f2(0x17b)+_0x3c5028[_0xaac3f2(0xb1)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x36012c+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2ef6c3[_0xaac3f2(0x185)]=()=>openDayOptions(_0x36012c,_0x383891[_0x21c9bd]+'\x20'+_0x3c5028[_0xaac3f2(0xb1)]()),_0x5d9e81[_0xaac3f2(0x158)](_0x2ef6c3);const _0x743e5a=document[_0xaac3f2(0x80)](_0xaac3f2(0x105));_0x743e5a[_0xaac3f2(0x1a1)]=_0xaac3f2(0x1eb)+(_0x4d4afa?_0xaac3f2(0x11e):''),_0x743e5a['setAttribute'](_0xaac3f2(0x1bf),_0x36012c),_0x743e5a['setAttribute'](_0xaac3f2(0x180),_0x21c9bd),renderEventsForColumn(_0x743e5a,_0x36012c,_0x21c9bd),attachLongPressHandler(_0x743e5a,_0x3c5028),_0x174824['appendChild'](_0x743e5a),updateDayStats(_0x36012c);}_0x59a145[_0xaac3f2(0xf8)](_0x5d9e81,_0x59a145['firstChild']),_0x426de9[_0xaac3f2(0xf8)](_0x174824,_0x426de9[_0xaac3f2(0xfb)](_0xaac3f2(0xd6)));}function validateAppointment(_0x4c3007,_0x1d146c,_0x1c2186,_0x4eed53,_0x4f2f6c){const _0x52026b=a2_0xa8c310,[_0x1f8f44,_0x5e2577]=_0x1d146c[_0x52026b(0x173)](':')[_0x52026b(0x1ed)](Number),[_0x58f6b6,_0x3d88c4]=_0x1c2186[_0x52026b(0x173)](':')[_0x52026b(0x1ed)](Number),_0x1ef31d=_0x1f8f44*0x3c+_0x5e2577,_0x2fe8e4=_0x58f6b6*0x3c+_0x3d88c4,_0x2d8143=String(_0x4f2f6c);let _0x370004=![],_0x404224='';for(let _0x4b0c1d of sessions){if(_0x4b0c1d[_0x52026b(0x129)]!==_0x4c3007)continue;if(_0x4b0c1d[_0x52026b(0x10e)]===_0x52026b(0xb8))continue;if(_0x4eed53&&String(_0x4b0c1d['id'])===String(_0x4eed53))continue;const [_0x2a7742,_0x3c8a49]=_0x4b0c1d[_0x52026b(0x1a8)][_0x52026b(0x173)](':')[_0x52026b(0x1ed)](Number),[_0x26a1c0,_0x5dab9e]=_0x4b0c1d[_0x52026b(0xcd)][_0x52026b(0x173)](':')[_0x52026b(0x1ed)](Number),_0x551edd=_0x2a7742*0x3c+_0x3c8a49,_0x34476f=_0x26a1c0*0x3c+_0x5dab9e;if(Math[_0x52026b(0x1b7)](_0x1ef31d,_0x551edd)<Math['min'](_0x2fe8e4,_0x34476f)){if(_0x4b0c1d['clientId']&&String(_0x4b0c1d[_0x52026b(0x18b)])===_0x2d8143)return{'valid':![],'msg':_0x52026b(0x1b0)+_0x4b0c1d[_0x52026b(0x1b8)]+_0x52026b(0xb7)};_0x370004=!![],_0x404224=_0x4b0c1d['client'];}}if(_0x370004)return{'valid':!![],'warning':_0x52026b(0x10b)+_0x404224};return{'valid':!![]};}function updateDateDisplay(){const _0x59df75=a2_0xa8c310,_0x2f2b12=document['getElementById'](_0x59df75(0x109))[_0x59df75(0x17a)],_0x23806a=document[_0x59df75(0x140)]('sheetDateSubtitle');if(!_0x2f2b12){_0x23806a[_0x59df75(0xa5)]='';return;}const [_0x314b8c,_0x2c1c60,_0x35943b]=_0x2f2b12[_0x59df75(0x173)]('-')[_0x59df75(0x1ed)](Number),_0x43e09b=new Date(_0x314b8c,_0x2c1c60-0x1,_0x35943b),_0x44449b={'weekday':_0x59df75(0xb4),'day':_0x59df75(0xd9),'month':_0x59df75(0xb4),'year':_0x59df75(0xd9)};let _0xcdbbf4=_0x43e09b[_0x59df75(0x1ad)]('ru-RU',_0x44449b);_0xcdbbf4=_0xcdbbf4[_0x59df75(0x11d)](0x0)[_0x59df75(0x107)]()+_0xcdbbf4[_0x59df75(0x1d6)](0x1),_0x23806a['textContent']=_0xcdbbf4;}function autoSetEndTime(){const _0x54cd54=a2_0xa8c310,_0x3a979b=document[_0x54cd54(0x140)](_0x54cd54(0x191))[_0x54cd54(0x17a)];if(!_0x3a979b)return;const [_0x1328c1,_0x354b40]=_0x3a979b[_0x54cd54(0x173)](':')[_0x54cd54(0x1ed)](Number);let _0x1c30cd=_0x1328c1+0x1;if(_0x1c30cd>0x17)_0x1c30cd=0x0;const _0x63c525=String(_0x1c30cd)[_0x54cd54(0x10f)](0x2,'0')+':'+String(_0x354b40)[_0x54cd54(0x10f)](0x2,'0');document[_0x54cd54(0x140)](_0x54cd54(0x1c7))[_0x54cd54(0x17a)]=_0x63c525;}function populateClientSelect(){const _0x5c2267=a2_0xa8c310,_0x585539=document[_0x5c2267(0x140)](_0x5c2267(0x151));_0x585539['innerHTML']='';if(clients[_0x5c2267(0x1da)]===0x0){const _0x5e675a=document[_0x5c2267(0x80)](_0x5c2267(0x167));_0x5e675a[_0x5c2267(0x13c)]=_0x5c2267(0x108),_0x585539['appendChild'](_0x5e675a);return;}clients['forEach'](_0x11e4e1=>{const _0xea8ae8=_0x5c2267,_0x9d59d6=document['createElement'](_0xea8ae8(0x167));_0x9d59d6[_0xea8ae8(0x17a)]=_0x11e4e1[_0xea8ae8(0xf1)],_0x9d59d6[_0xea8ae8(0xa5)]=_0x11e4e1[_0xea8ae8(0xf1)],_0x585539[_0xea8ae8(0x158)](_0x9d59d6);});}function openActionSheet(_0x4e4e72){const _0x5c60f5=a2_0xa8c310,_0x1be4d9=document[_0x5c60f5(0x140)](_0x5c60f5(0xf9)),_0x1087ae=document['getElementById']('actionSheetOverlay'),_0x18f70f=document[_0x5c60f5(0x140)](_0x5c60f5(0x10c)),_0x227de2=document['getElementById']('asBtnOne'),_0x5ee5c3=document[_0x5c60f5(0x140)](_0x5c60f5(0x8f));_0x1087ae[_0x5c60f5(0xc8)][_0x5c60f5(0x9c)](_0x5c60f5(0x157)),_0x1be4d9['classList'][_0x5c60f5(0x9c)]('open');if(_0x4e4e72===_0x5c60f5(0x1ec))_0x18f70f['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x227de2['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x227de2['onclick']=()=>{const _0x4fe6b5=_0x5c60f5;closeActionSheet(),updateSeriesBatch(_0x4fe6b5(0x1c2),tempSessionData);},_0x5ee5c3[_0x5c60f5(0xa5)]=_0x5c60f5(0x155),_0x5ee5c3['onclick']=()=>{const _0x1df8a2=_0x5c60f5;closeActionSheet(),updateSeriesBatch(_0x1df8a2(0xda),tempSessionData);};else _0x4e4e72==='delete'&&(_0x18f70f[_0x5c60f5(0xa5)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x227de2['textContent']=_0x5c60f5(0x127),_0x227de2['className']=_0x5c60f5(0xfd),_0x227de2[_0x5c60f5(0x185)]=()=>{const _0x2f2ffa=_0x5c60f5;closeActionSheet(),commitDelete(_0x2f2ffa(0x1c2),sessions[_0x2f2ffa(0x1f6)](_0x4a8e25=>_0x4a8e25['id']===editingId));},_0x5ee5c3[_0x5c60f5(0xa5)]=_0x5c60f5(0x155),_0x5ee5c3['className']='as-button\x20danger\x20bold',_0x5ee5c3[_0x5c60f5(0x185)]=()=>{const _0x39c83b=_0x5c60f5;closeActionSheet(),commitDelete(_0x39c83b(0xda),sessions['find'](_0x597a66=>_0x597a66['id']===editingId));});}function a2_0x4b90(_0x43e399,_0xeab518){_0x43e399=_0x43e399-0x7f;const _0x219573=a2_0x3f64();let _0x5e1389=_0x219573[_0x43e399];return _0x5e1389;}function closeActionSheet(){const _0x415512=a2_0xa8c310;document['getElementById'](_0x415512(0xf9))[_0x415512(0xc8)]['remove']('open'),document['getElementById'](_0x415512(0xa3))[_0x415512(0xc8)]['remove']('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x186783=a2_0xa8c310,_0x4d98be=document[_0x186783(0x140)](_0x186783(0x82))[_0x186783(0x17a)];localStorage[_0x186783(0x1a7)](_0x186783(0x123),_0x4d98be),console[_0x186783(0x152)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x4d98be),DataManager[_0x186783(0x179)]('save_settings',{'settings':{'cancel_window':_0x4d98be}})[_0x186783(0x133)](_0xf95aa3=>{const _0x5988d2=_0x186783;console[_0x5988d2(0x166)](_0x5988d2(0xf4),_0xf95aa3),showToast(_0x5988d2(0xc2),![]);});}function loadCoachSettings(){const _0x4376a0=a2_0xa8c310,_0x2f82f2=localStorage[_0x4376a0(0xd8)]('uc_settings_cancel_window');_0x2f82f2&&(document['getElementById'](_0x4376a0(0x82))[_0x4376a0(0x17a)]=_0x2f82f2);}function openRangesSheet(){const _0x3d481c=a2_0xa8c310;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3d481c(0x184));}function addRange(){const _0x347de7=a2_0xa8c310,_0x38e002=document['getElementById'](_0x347de7(0x1cf))[_0x347de7(0x17a)],_0x20e6fc=document['getElementById'](_0x347de7(0x148))[_0x347de7(0x17a)],_0x432631=document[_0x347de7(0x140)](_0x347de7(0x190))[_0x347de7(0x17a)],_0x15980a=document['getElementById'](_0x347de7(0xec))[_0x347de7(0x17a)];if(!_0x38e002||!_0x20e6fc||!_0x432631||!_0x15980a)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x31a735=_0x38e002+'T'+_0x20e6fc,_0x3f2f49=_0x432631+'T'+_0x15980a;if(_0x31a735>=_0x3f2f49)return alert(_0x347de7(0x1d5));specialRanges[_0x347de7(0x192)]({'start':_0x31a735,'end':_0x3f2f49}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x347de7(0x114)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1e693c){const _0x51692e=a2_0xa8c310;specialRanges[_0x51692e(0x1bd)](_0x1e693c,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x51692e(0x114)](),DataManager[_0x51692e(0x179)](_0x51692e(0x1cc),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x343f3c=a2_0xa8c310;document['getElementById'](_0x343f3c(0x1cf))[_0x343f3c(0x17a)]='',document[_0x343f3c(0x140)]('rangeStartTime')[_0x343f3c(0x17a)]=_0x343f3c(0xdf),document[_0x343f3c(0x140)](_0x343f3c(0x190))[_0x343f3c(0x17a)]='',document[_0x343f3c(0x140)]('rangeEndTime')['value']=_0x343f3c(0xb2);}function renderRangesList(){const _0x1315e4=a2_0xa8c310,_0x421a8d=document[_0x1315e4(0x140)]('rangesList');_0x421a8d[_0x1315e4(0x1fe)]='';if(!specialRanges[_0x1315e4(0x1da)]){_0x421a8d[_0x1315e4(0x1fe)]=_0x1315e4(0x1dd);return;}specialRanges['forEach']((_0x3510c2,_0x465040)=>{const _0x3575bd=_0x1315e4,_0x1d2a0f=document[_0x3575bd(0x80)](_0x3575bd(0x105));_0x1d2a0f[_0x3575bd(0x1a1)]='range-item';const _0x49e912=_0xed8dfe=>{const _0x241963=_0x3575bd,_0x29dd44=new Date(_0xed8dfe);return _0x29dd44[_0x241963(0xb1)]()+'.'+String(_0x29dd44[_0x241963(0x16b)]()+0x1)[_0x241963(0x10f)](0x2,'0')+'\x20'+String(_0x29dd44['getHours']())[_0x241963(0x10f)](0x2,'0')+':'+String(_0x29dd44['getMinutes']())[_0x241963(0x10f)](0x2,'0');};_0x1d2a0f['innerHTML']=_0x3575bd(0x143)+_0x49e912(_0x3510c2[_0x3575bd(0x1a8)])+'\x20‚Äî\x20'+_0x49e912(_0x3510c2[_0x3575bd(0xcd)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x465040+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x421a8d[_0x3575bd(0x158)](_0x1d2a0f);});}function scrollToToday(){const _0x15976c=a2_0xa8c310,_0x2ab2b5=getLocalDateStr(new Date()),_0x2ca176=document[_0x15976c(0x140)]('header-'+_0x2ab2b5),_0x311642=document[_0x15976c(0x140)](_0x15976c(0x1bc));if(_0x2ca176&&_0x311642){const _0x528b89=_0x311642[_0x15976c(0x1a0)],_0x4aab3d=_0x2ca176[_0x15976c(0x8b)],_0xcf7c6a=_0x2ca176[_0x15976c(0x176)];_0x311642[_0x15976c(0x172)]=_0x4aab3d-_0x528b89/0x2+_0xcf7c6a/0x2,_0x311642[_0x15976c(0xc1)]=0x9*GRID_H;}}function onScroll(){const _0x1747f5=a2_0xa8c310,_0x2168ef=document[_0x1747f5(0x140)](_0x1747f5(0x1bc)),_0x539ecd=document[_0x1747f5(0x16c)](_0x1747f5(0xa0));for(let _0x51b2e6 of _0x539ecd)if(_0x51b2e6[_0x1747f5(0x8b)]>=_0x2168ef[_0x1747f5(0x172)]){const _0xe944d4=new Date(_0x51b2e6['getAttribute'](_0x1747f5(0x1bf)));document[_0x1747f5(0x140)](_0x1747f5(0x8d))[_0x1747f5(0xa5)]=_0xe944d4['toLocaleString']('ru',{'month':'long'})[_0x1747f5(0x107)]()+'\x20'+_0xe944d4[_0x1747f5(0x18a)]();break;}}function showToast(_0x30789e,_0x4e8c6f=![]){const _0x2fdba6=a2_0xa8c310,_0x51d5e6=document[_0x2fdba6(0x140)]('toast');_0x51d5e6[_0x2fdba6(0x1a1)]=_0x2fdba6(0x103)+(_0x4e8c6f?_0x2fdba6(0x102):''),document[_0x2fdba6(0x140)](_0x2fdba6(0x112))['textContent']=_0x4e8c6f?_0x2fdba6(0x1fb):_0x2fdba6(0xf0),document[_0x2fdba6(0x140)](_0x2fdba6(0x156))[_0x2fdba6(0xa5)]=_0x30789e,_0x51d5e6[_0x2fdba6(0xc8)][_0x2fdba6(0x9c)](_0x2fdba6(0xde)),setTimeout(()=>{const _0xfe24be=_0x2fdba6;_0x51d5e6[_0xfe24be(0xc8)][_0xfe24be(0xe4)]('show');},0xbb8);}function openDayOptions(_0x1446ac,_0x295193){const _0x5567d9=a2_0xa8c310;selectedDayForOptions=_0x1446ac,document[_0x5567d9(0x140)](_0x5567d9(0xa4))['textContent']=_0x295193,openSheet(_0x5567d9(0x101));}function toggleDayOff(){const _0x8c30c2=a2_0xa8c310;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x8c30c2(0x153),reRenderBlocks(),closeAllSheets(),DataManager[_0x8c30c2(0x114)](),DataManager[_0x8c30c2(0x179)](_0x8c30c2(0x1cc),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x36edeb=a2_0xa8c310;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x36edeb(0x179)](_0x36edeb(0x1cc),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x123e07){const _0x5262c4=a2_0xa8c310;document[_0x5262c4(0x140)]('overlay')['classList'][_0x5262c4(0x9c)](_0x5262c4(0x157)),document[_0x5262c4(0x140)](_0x123e07)['classList'][_0x5262c4(0x9c)](_0x5262c4(0xe8));}function closeAllSheets(){const _0x47b661=a2_0xa8c310;document[_0x47b661(0x140)](_0x47b661(0x1a3))[_0x47b661(0xc8)][_0x47b661(0xe4)]('active'),document[_0x47b661(0x16c)](_0x47b661(0x1b5))['forEach'](_0x4819af=>_0x4819af[_0x47b661(0xc8)][_0x47b661(0xe4)](_0x47b661(0xe8)));}function openPatternEditor(){const _0x699a59=a2_0xa8c310;closeAllSheets(),document[_0x699a59(0x140)](_0x699a59(0x1fa))[_0x699a59(0xc8)]['add'](_0x699a59(0xe8)),renderPatternEditor();}function closePatternEditor(){const _0x514944=a2_0xa8c310;document['getElementById']('patternEditor')[_0x514944(0xc8)][_0x514944(0xe4)](_0x514944(0xe8));}function savePattern(){const _0x395f0b=a2_0xa8c310;document[_0x395f0b(0x140)]('patternEditor')[_0x395f0b(0xc8)][_0x395f0b(0xe4)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x395f0b(0x179)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function a2_0x3f64(){const _0x3fe399=['–ò–Ω—Ñ–æ','name','getAttribute','seriesCountContainer','Save\x20settings\x20error:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','event-card','ready','insertBefore','actionSheet','month','querySelector','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','as-button\x20danger','[API\x20','62tNdoSA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','dayOptionsSheet','success','toast-notification\x20','completed','div','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','toUpperCase','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','inpDate','setHours','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','asTitle','flex','status','padStart','rgba(255,\x2069,\x2058,\x200.15)','Telegram','toastTitle','href','saveLocally','doEventsList','pattern',':00','planned','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','init_load','color','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','charAt','today','#050505','<span>','onClick','statLoadCard','uc_settings_cancel_window','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','<div\x20class=\x22dch-day\x22>','px\x200px','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','dateStr','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','3663960tVgdfj','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','deleted','touchend','stopPropagation','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','random','Error\x20setting\x20color:','catch','uc_settings_v9','warning','user','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','gridColumns',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','2224sBMooH','total','text','left','note','10px','getElementById','uc_sessions_v9','#fff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','startsWith','anDonutCircle','scroll','blocked-range-part\x20stripe-bg','rangeStartTime','keys','timeLineBadge','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','calendar','anEnd','floor','v9.0-BATCH-CALENDAR','msg','inpClient','log','off','%\x20+\x202px)','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','toastMessage','active','appendChild','send','search','analyticsList','[Notify]\x20Attempting\x20to\x20send:','expand','getDay','none','[Notify]\x20Client\x20SWAP\x20detected','done','anStart','WebApp','sheetTitle','</div>','error','option','touches','scrollWidth','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','getMonth','querySelectorAll','clients','<div\x20class=\x22ev-title\x22>','background','checked','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','scrollLeft','split','backgroundPosition','doDateHeader','offsetWidth','includes','all','fetchFromServer','value','</div><div\x20class=\x22dch-num\x22>','Batch\x20Sync\x20OK','var(--acc-red)','display','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','data-day-idx','cancel_window','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','disableVerticalSwipes','rangesSheet','onclick','10px\x2010px\x200\x200','addEventListener','patternInfoBox','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','getFullYear','clientId','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','style','then','rgba(255,255,255,0.05)','rangeEndDate','inpStart','push','daysHeaderTrack','blocked-slot\x20stripe-bg','height','.day-off-overlay','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','[Notify]\x20Network\x20Failed','btn-status-toggle\x20undo-mode','valid','clientY','forEach','warn','inpSeriesCount','.event-card','clientWidth','className','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','overlay','loadLocal','touchstart','getTime','setItem','start','[Notify]\x20Error:\x20sessionData\x20is\x20null','closest','delete','borderColor','toLocaleDateString','mousedown','DOMContentLoaded','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','Local\x20Load\x20Error','sessionSheet','toString','round','.sheet','#gridColumns\x20.day-column','max','client','custom','var(--acc-green)','calc(','matrixViewport','splice',']\x20Failed:','data-date','setAttribute','doLoadPercent','single','rgba(100,100,100,0.5)','2125824lKZUnE','syncBatch','[Notify]\x20Error:\x20Text\x20generation\x20failed','inpEnd','rgba(255,\x2069,\x2058,\x200.3)','\x20-\x20','Server\x20Error','anPercent','save_settings','getMinutes','btn-status-toggle','rangeStartDate','rgba(48,\x20209,\x2088,\x200.15)','peGrid','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','#0a84ff','day-off-overlay\x20stripe-bg','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','slice','.pib-text','1527jhMFxQ','pe-col-header','length','borderLeftColor','complete','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','vibrate','anCustomDates','isArray','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','inpRecurring','338355PLzdgA','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel','text/plain;charset=UTF-8','block','T00:00:00','recurringOptionContainer','day-column\x20','save','map','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','\x20‚Äî\x20','[Notify]\x20Server\x20Response:','14320gdMNWu','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','uc_clients_v9','2953951OEIOeA','BackButton','find','stringify','var(--acc-current)','constructor','patternEditor','–£—Å–ø–µ—à–Ω–æ','inpNote','undefined','innerHTML','zIndex','createElement','top','settingCancelWindow','setDate','...','min','timeColumn','width','globalTimeLine','send_notification','router.html','offsetLeft','px\x20-','headerMonth','exceptions','asBtnSeries','null','setMonth','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','sort','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','from','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','now','setBackgroundColor','rgba(255,\x20159,\x2010,\x200.3)','formatDate','strokeDashoffset','add','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','100%','analyticsSheet','.day-col-header','create','data','actionSheetOverlay','dayOptionsTitle','textContent','seriesId','indexOf','header-','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anTotalStats','btnDayToggle','ru-RU','var(--acc-orange)','getDate','23:59','toFixed','long','mini','localeCompare',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','cancelled','(((.+)+)+)+$','day-col-header\x20','filter','colIndex','\x20days','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','createDocumentFragment','Local\x20Save\x20Error','scrollTop','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rgba(','btnDelete','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22ev-time\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','classList','T23:59:59','initDataUnsafe','json','\x20status-completed','end','.period-switch\x20.p-btn','guest','getHours','getText','settings','7083OCEqYx','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','pe-corner','.day-column','ranges','getItem','numeric','series','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','findIndex','borderRadius','show','00:00','substr','Unknown','update','mouseup','remove','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','mergeServerData','\x20–∏–∑\x20','open','backgroundColor',':00</span>','parse','rangeEndTime','18qMWTcq','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','pe-time-label'];a2_0x3f64=function(){return _0x3fe399;};return a2_0x3f64();}function renderPatternEditor(){const _0x41a2f4=a2_0xa8c310,_0x169cfa=document[_0x41a2f4(0x140)](_0x41a2f4(0x1d1));_0x169cfa[_0x41a2f4(0x1fe)]='';const _0x264608=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1bf68d=document[_0x41a2f4(0x80)](_0x41a2f4(0x105));_0x1bf68d[_0x41a2f4(0x1a1)]=_0x41a2f4(0xd5),_0x169cfa[_0x41a2f4(0x158)](_0x1bf68d),_0x264608[_0x41a2f4(0x19c)]((_0x5c9d4d,_0x14c43d)=>{const _0x1e1a53=_0x41a2f4,_0x320759=document[_0x1e1a53(0x80)](_0x1e1a53(0x105));_0x320759['className']=_0x1e1a53(0x1d9),_0x320759[_0x1e1a53(0x1fe)]=_0x5c9d4d+_0x1e1a53(0x119),_0x320759[_0x1e1a53(0x185)]=()=>toggleColPattern(_0x14c43d),_0x169cfa[_0x1e1a53(0x158)](_0x320759);});for(let _0x5cb279=0x0;_0x5cb279<0x18;_0x5cb279++){const _0x287794=document['createElement'](_0x41a2f4(0x105));_0x287794[_0x41a2f4(0x1a1)]=_0x41a2f4(0xef),_0x287794['innerHTML']=_0x41a2f4(0x16a)+String(_0x5cb279)[_0x41a2f4(0x10f)](0x2,'0')+_0x41a2f4(0x117),_0x287794[_0x41a2f4(0x185)]=()=>toggleRowPattern(_0x5cb279),_0x169cfa[_0x41a2f4(0x158)](_0x287794);for(let _0x153451=0x0;_0x153451<0x7;_0x153451++){const _0x30106d=document[_0x41a2f4(0x80)]('div'),_0x445aa1=(availabilityPattern[_0x153451]||[])[_0x41a2f4(0x177)](_0x5cb279),_0x26099c=!_0x445aa1;_0x30106d[_0x41a2f4(0x1a1)]='pe-cell\x20'+(_0x26099c?_0x41a2f4(0x157):''),_0x30106d[_0x41a2f4(0x185)]=()=>toggleSinglePattern(_0x153451,_0x5cb279),_0x169cfa[_0x41a2f4(0x158)](_0x30106d);}}}function toggleSinglePattern(_0x3a58d9,_0x4202ce){const _0x45d443=a2_0xa8c310;if(!availabilityPattern[_0x3a58d9])availabilityPattern[_0x3a58d9]=[];const _0x45490c=availabilityPattern[_0x3a58d9],_0x112188=_0x45490c[_0x45d443(0xa7)](_0x4202ce);_0x112188===-0x1?_0x45490c[_0x45d443(0x192)](_0x4202ce):_0x45490c[_0x45d443(0x1bd)](_0x112188,0x1),renderPatternEditor();}function toggleColPattern(_0x415392){const _0x5ae5dd=a2_0xa8c310;if(!availabilityPattern[_0x415392])availabilityPattern[_0x415392]=[];const _0x2817d4=availabilityPattern[_0x415392];_0x2817d4[_0x5ae5dd(0x1da)]===0x0?availabilityPattern[_0x415392]=Array['from']({'length':0x18},(_0x2b4559,_0x241107)=>_0x241107):availabilityPattern[_0x415392]=[],renderPatternEditor();}function toggleRowPattern(_0x5755b0){const _0x40cf6c=a2_0xa8c310;let _0x386b47=!![];for(let _0x2570d4=0x0;_0x2570d4<0x7;_0x2570d4++){if((availabilityPattern[_0x2570d4]||[])[_0x40cf6c(0x177)](_0x5755b0)){_0x386b47=![];break;}}for(let _0xcf0ff4=0x0;_0xcf0ff4<0x7;_0xcf0ff4++){if(!availabilityPattern[_0xcf0ff4])availabilityPattern[_0xcf0ff4]=[];const _0x552501=availabilityPattern[_0xcf0ff4][_0x40cf6c(0xa7)](_0x5755b0);if(_0x386b47){if(_0x552501===-0x1)availabilityPattern[_0xcf0ff4][_0x40cf6c(0x192)](_0x5755b0);}else{if(_0x552501!==-0x1)availabilityPattern[_0xcf0ff4][_0x40cf6c(0x1bd)](_0x552501,0x1);}}renderPatternEditor();}function renderPCol(_0x3e6155,_0x371fef){const _0xdc1d52=a2_0xa8c310;_0x3e6155['innerHTML']='';const _0x25e900=Math['round'](_0x3e6155[_0xdc1d52(0x8b)]);(availabilityPattern[_0x371fef]||[])[_0xdc1d52(0x19c)](_0x2abff6=>{const _0x356078=_0xdc1d52,_0x424952=document['createElement'](_0x356078(0x105));_0x424952[_0x356078(0x1a1)]=_0x356078(0x194);const _0x5d0593=_0x2abff6*GRID_H;_0x424952['style'][_0x356078(0x81)]=_0x5d0593+'px',_0x424952[_0x356078(0x18d)][_0x356078(0x174)]='-'+_0x25e900+_0x356078(0x8c)+_0x5d0593+'px',_0x424952['onclick']=_0x35b0a9=>{const _0x235677=_0x356078;_0x35b0a9[_0x235677(0x12f)](),toggleSinglePattern(_0x371fef,_0x2abff6);},_0x3e6155[_0x356078(0x158)](_0x424952);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1beed4=a2_0xa8c310,_0x48b132=new Date(),_0x234c4e=document[_0x1beed4(0x140)](_0x1beed4(0x88)),_0x5e5f72=document[_0x1beed4(0x140)](_0x1beed4(0x14a)),_0x16941b=(_0x48b132[_0x1beed4(0xd0)]()*0x3c+_0x48b132['getMinutes']())/0x3c*GRID_H;_0x234c4e['style']['top']=_0x16941b+'px',_0x234c4e[_0x1beed4(0x18d)][_0x1beed4(0x17e)]=_0x1beed4(0x1e8),_0x5e5f72[_0x1beed4(0xa5)]=String(_0x48b132[_0x1beed4(0xd0)]())[_0x1beed4(0x10f)](0x2,'0')+':'+String(_0x48b132[_0x1beed4(0x1cd)]())[_0x1beed4(0x10f)](0x2,'0'),_0x5e5f72[_0x1beed4(0x18d)][_0x1beed4(0x17e)]=_0x1beed4(0x1e8),_0x5e5f72['style'][_0x1beed4(0x81)]=_0x16941b+'px';}document['addEventListener'](a2_0xa8c310(0x1af),init);function openDayOptions(_0x56b23f){const _0x1a8536=a2_0xa8c310;selectedDayForOptions=_0x56b23f;const _0x3387e2=new Date(_0x56b23f),_0x366a4d={'weekday':_0x1a8536(0xb4),'day':'numeric','month':_0x1a8536(0xb4),'year':_0x1a8536(0xd9)},_0x269319=_0x3387e2['toLocaleDateString'](_0x1a8536(0xaf),_0x366a4d);document['getElementById'](_0x1a8536(0x175))['textContent']=_0x269319['charAt'](0x0)[_0x1a8536(0x107)]()+_0x269319[_0x1a8536(0x1d6)](0x1);let _0x928871=_0x3387e2[_0x1a8536(0x15e)]()-0x1;if(_0x928871===-0x1)_0x928871=0x6;const _0x36e7e7=availabilityPattern[_0x928871]||[],_0x56737b=0x18-_0x36e7e7[_0x1a8536(0x1da)],_0x3b615d=_0x56737b*0x3c,_0x548eda=sessions[_0x1a8536(0xbb)](_0x4109c3=>_0x4109c3[_0x1a8536(0x129)]===_0x56b23f&&_0x4109c3['status']!=='cancelled');let _0x3a6d8b=_0x548eda[_0x1a8536(0x1ed)](_0x2e54b9=>{const _0x2973c7=_0x1a8536,[_0x194882,_0x31e62b]=_0x2e54b9[_0x2973c7(0x1a8)][_0x2973c7(0x173)](':')['map'](Number),[_0x57bea7,_0x34dcfd]=_0x2e54b9[_0x2973c7(0xcd)][_0x2973c7(0x173)](':')[_0x2973c7(0x1ed)](Number);return[_0x194882*0x3c+_0x31e62b,_0x57bea7*0x3c+_0x34dcfd];});_0x3a6d8b[_0x1a8536(0x93)]((_0x4224e8,_0x490f3c)=>_0x4224e8[0x0]-_0x490f3c[0x0]);let _0x329fa6=[];if(_0x3a6d8b['length']>0x0){let _0x3d19c4=_0x3a6d8b[0x0];for(let _0x163afc=0x1;_0x163afc<_0x3a6d8b[_0x1a8536(0x1da)];_0x163afc++){_0x3a6d8b[_0x163afc][0x0]<_0x3d19c4[0x1]?_0x3d19c4[0x1]=Math[_0x1a8536(0x1b7)](_0x3d19c4[0x1],_0x3a6d8b[_0x163afc][0x1]):(_0x329fa6['push'](_0x3d19c4),_0x3d19c4=_0x3a6d8b[_0x163afc]);}_0x329fa6[_0x1a8536(0x192)](_0x3d19c4);}let _0x35748e=0x0;_0x329fa6['forEach'](_0x3b3b41=>_0x35748e+=_0x3b3b41[0x1]-_0x3b3b41[0x0]),document[_0x1a8536(0x140)]('doWorkHours')[_0x1a8536(0xa5)]=formatMinsToHrs(_0x3b615d),document[_0x1a8536(0x140)]('doBusyHours')[_0x1a8536(0xa5)]=formatMinsToHrs(_0x35748e);const _0x122cad=_0x3b615d>0x0?Math[_0x1a8536(0x1b4)](_0x35748e/_0x3b615d*0x64):0x0,_0x478c7f=document[_0x1a8536(0x140)](_0x1a8536(0x1c1));_0x478c7f[_0x1a8536(0xa5)]=_0x122cad+'%';const _0x114236=document['getElementById'](_0x1a8536(0x122));if(_0x122cad>0x64)_0x478c7f['style']['color']=_0x1a8536(0x17d),_0x114236['style']['borderColor']=_0x1a8536(0x1c8);else _0x122cad>0x50?(_0x478c7f[_0x1a8536(0x18d)]['color']=_0x1a8536(0xb0),_0x114236[_0x1a8536(0x18d)][_0x1a8536(0x1ac)]=_0x1a8536(0x99)):(_0x478c7f[_0x1a8536(0x18d)][_0x1a8536(0x11b)]=_0x1a8536(0x1ba),_0x114236[_0x1a8536(0x18d)][_0x1a8536(0x1ac)]=_0x1a8536(0x18f));const _0x512224=document['getElementById'](_0x1a8536(0x115));_0x512224[_0x1a8536(0x1fe)]='';_0x548eda[_0x1a8536(0x1da)]===0x0?_0x512224[_0x1a8536(0x1fe)]=_0x1a8536(0xfc):(_0x548eda['sort']((_0x3faa50,_0x2f5bb5)=>_0x3faa50[_0x1a8536(0x1a8)][_0x1a8536(0xb6)](_0x2f5bb5['start'])),_0x548eda[_0x1a8536(0x19c)](_0x4b304f=>{const _0x54e27d=_0x1a8536,_0x2f3778=clients[_0x54e27d(0x1f6)](_0x2a9076=>_0x2a9076['name']===_0x4b304f[_0x54e27d(0x1b8)]),_0x539430=_0x2f3778?_0x2f3778[_0x54e27d(0x11b)]:_0x54e27d(0x142),_0x307b96=_0x4b304f['status']===_0x54e27d(0x104),_0x25c6fa=_0x307b96?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0xc033e7=document[_0x54e27d(0x80)](_0x54e27d(0x105));_0xc033e7[_0x54e27d(0x1a1)]='de-item',_0xc033e7[_0x54e27d(0x18d)][_0x54e27d(0x1db)]=_0x539430,_0xc033e7[_0x54e27d(0x1fe)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x4b304f[_0x54e27d(0x1a8)]+'\x20-\x20'+_0x4b304f[_0x54e27d(0xcd)]+_0x54e27d(0xaa)+_0x4b304f[_0x54e27d(0x1b8)]+_0x54e27d(0x1e5)+_0x25c6fa+_0x54e27d(0xac),_0x512224['appendChild'](_0xc033e7);}));const _0x48ffcd=document[_0x1a8536(0x140)](_0x1a8536(0xae)),_0x4e46f3=dateExceptions[_0x56b23f]===_0x1a8536(0x153);_0x4e46f3?(_0x48ffcd['textContent']=_0x1a8536(0xe5),_0x48ffcd[_0x1a8536(0x1a1)]='btn-primary\x20btn-secondary',_0x48ffcd[_0x1a8536(0x18d)]['color']=_0x1a8536(0x1ba),_0x48ffcd[_0x1a8536(0x18d)][_0x1a8536(0x16f)]=_0x1a8536(0x1d0)):(_0x48ffcd[_0x1a8536(0xa5)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x48ffcd[_0x1a8536(0x1a1)]='btn-primary\x20btn-danger',_0x48ffcd[_0x1a8536(0x18d)][_0x1a8536(0x11b)]=_0x1a8536(0x17d),_0x48ffcd['style'][_0x1a8536(0x16f)]=_0x1a8536(0x110)),openSheet(_0x1a8536(0x101));}let currentAnPeriod=a2_0xa8c310(0x1e4);function openAnalytics(){const _0x122e30=a2_0xa8c310,_0x3e9440=document[_0x122e30(0xfb)](_0x122e30(0xce));setAnalyticsPeriod(_0x122e30(0x1e4),_0x3e9440),closeAllSheets(),openSheet(_0x122e30(0x9f));}function setAnalyticsPeriod(_0x1787ac,_0x9f9f06){const _0x53d924=a2_0xa8c310;currentAnPeriod=_0x1787ac,document[_0x53d924(0x16c)]('.period-switch\x20.p-btn')[_0x53d924(0x19c)](_0x4d4a7d=>_0x4d4a7d[_0x53d924(0xc8)][_0x53d924(0xe4)](_0x53d924(0x157)));if(_0x9f9f06)_0x9f9f06['classList'][_0x53d924(0x9c)](_0x53d924(0x157));const _0xf5512b=document[_0x53d924(0x140)](_0x53d924(0x1df));_0xf5512b[_0x53d924(0x18d)][_0x53d924(0x17e)]=_0x1787ac===_0x53d924(0x1b9)?_0x53d924(0x10d):_0x53d924(0x15f);const _0x58cb7b=new Date();let _0x3f2ea5=new Date(),_0x2f7dfc=new Date();if(_0x1787ac===_0x53d924(0x1e4))_0x3f2ea5=getStartOfWeek(_0x58cb7b),_0x2f7dfc=new Date(_0x3f2ea5),_0x2f7dfc[_0x53d924(0x83)](_0x2f7dfc[_0x53d924(0xb1)]()+0x6);else{if(_0x1787ac===_0x53d924(0xfa))_0x3f2ea5=new Date(_0x58cb7b[_0x53d924(0x18a)](),_0x58cb7b['getMonth'](),0x1),_0x2f7dfc=new Date(_0x58cb7b['getFullYear'](),_0x58cb7b[_0x53d924(0x16b)]()+0x1,0x0);else{!document[_0x53d924(0x140)](_0x53d924(0x162))[_0x53d924(0x17a)]&&(document[_0x53d924(0x140)](_0x53d924(0x162))[_0x53d924(0x17a)]=getLocalDateStr(_0x58cb7b),document[_0x53d924(0x140)](_0x53d924(0x14d))[_0x53d924(0x17a)]=getLocalDateStr(_0x58cb7b));refreshAnalytics();return;}}document[_0x53d924(0x140)](_0x53d924(0x162))[_0x53d924(0x17a)]=getLocalDateStr(_0x3f2ea5),document[_0x53d924(0x140)](_0x53d924(0x14d))[_0x53d924(0x17a)]=getLocalDateStr(_0x2f7dfc),refreshAnalytics();}function refreshAnalytics(){const _0x1d3146=a2_0xa8c310,_0x45069f=document['getElementById'](_0x1d3146(0x162))['value'],_0x2f0834=document[_0x1d3146(0x140)]('anEnd')[_0x1d3146(0x17a)];if(!_0x45069f||!_0x2f0834)return;const _0x421c31=sessions[_0x1d3146(0xbb)](_0x3c0fea=>_0x3c0fea['dateStr']>=_0x45069f&&_0x3c0fea['dateStr']<=_0x2f0834&&_0x3c0fea['status']!=='cancelled'),_0x1d5558=_0x421c31[_0x1d3146(0x1da)],_0x1a833f=_0x421c31[_0x1d3146(0xbb)](_0x112807=>_0x112807[_0x1d3146(0x10e)]==='completed')[_0x1d3146(0x1da)],_0x4a9387=_0x1d5558>0x0?Math[_0x1d3146(0x1b4)](_0x1a833f/_0x1d5558*0x64):0x0;document[_0x1d3146(0x140)](_0x1d3146(0x1cb))[_0x1d3146(0xa5)]=_0x4a9387+'%',document[_0x1d3146(0x140)](_0x1d3146(0xad))[_0x1d3146(0xa5)]=_0x1a833f+_0x1d3146(0xe7)+_0x1d5558+_0x1d3146(0x1e1);const _0x4d3852=document[_0x1d3146(0x140)](_0x1d3146(0x145)),_0x152f2d=0x2*Math['PI']*0x23,_0x217fe5=_0x152f2d-_0x4a9387/0x64*_0x152f2d;_0x4d3852['style'][_0x1d3146(0x9b)]=_0x217fe5;const _0x5f408f={};_0x421c31[_0x1d3146(0x19c)](_0x213e27=>{const _0x49fe25=_0x1d3146;if(!_0x5f408f[_0x213e27['client']]){const _0x23b988=clients[_0x49fe25(0x1f6)](_0x49611e=>_0x49611e[_0x49fe25(0xf1)]===_0x213e27[_0x49fe25(0x1b8)]);_0x5f408f[_0x213e27[_0x49fe25(0x1b8)]]={'total':0x0,'done':0x0,'color':_0x23b988?_0x23b988[_0x49fe25(0x11b)]:_0x49fe25(0x142)};}_0x5f408f[_0x213e27[_0x49fe25(0x1b8)]][_0x49fe25(0x13b)]++;if(_0x213e27[_0x49fe25(0x10e)]==='completed')_0x5f408f[_0x213e27[_0x49fe25(0x1b8)]]['done']++;});const _0x5d7bb8=document['getElementById'](_0x1d3146(0x15b));_0x5d7bb8[_0x1d3146(0x1fe)]='';const _0x42edfd=Object['entries'](_0x5f408f)[_0x1d3146(0x93)]((_0x15d09a,_0x1aaf5e)=>_0x1aaf5e[0x1]['total']-_0x15d09a[0x1][_0x1d3146(0x13b)]);if(_0x42edfd[_0x1d3146(0x1da)]===0x0){_0x5d7bb8[_0x1d3146(0x1fe)]=_0x1d3146(0xf5);return;}_0x42edfd['forEach'](([_0x12ce86,_0x2ecef6])=>{const _0x679ad4=_0x1d3146,_0x3c4fa5=Math[_0x679ad4(0x1b4)](_0x2ecef6[_0x679ad4(0x161)]/_0x2ecef6[_0x679ad4(0x13b)]*0x64),_0xa24bc3=document[_0x679ad4(0x80)](_0x679ad4(0x105));_0xa24bc3[_0x679ad4(0x1a1)]='client-stat-card',_0xa24bc3[_0x679ad4(0x18d)][_0x679ad4(0x1db)]=_0x2ecef6[_0x679ad4(0x11b)],_0xa24bc3[_0x679ad4(0x1fe)]=_0x679ad4(0x100)+_0x12ce86+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2ecef6[_0x679ad4(0x161)]+'</span>\x20/\x20'+_0x2ecef6[_0x679ad4(0x13b)]+_0x679ad4(0x106)+_0x3c4fa5+_0x679ad4(0xc5),_0x5d7bb8[_0x679ad4(0x158)](_0xa24bc3);});}function formatMinsToHrs(_0x2dbded){if(_0x2dbded===0x0)return'0';const _0x43aac0=Math['floor'](_0x2dbded/0x3c),_0x1c3b16=_0x2dbded%0x3c;if(_0x1c3b16===0x0)return _0x43aac0+'—á';return _0x43aac0+'—á\x20'+_0x1c3b16+'–º';}