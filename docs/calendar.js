const a2_0x59ccb9=a2_0x2ff6;(function(_0xfec6b5,_0x1ba50a){const _0x30855e=a2_0x2ff6,_0xeddbc2=_0xfec6b5();while(!![]){try{const _0x14265d=parseInt(_0x30855e(0x296))/0x1+-parseInt(_0x30855e(0x2a6))/0x2+-parseInt(_0x30855e(0x2b9))/0x3*(-parseInt(_0x30855e(0x29a))/0x4)+-parseInt(_0x30855e(0x2c4))/0x5*(-parseInt(_0x30855e(0x2b4))/0x6)+-parseInt(_0x30855e(0x1bf))/0x7+parseInt(_0x30855e(0x1b8))/0x8+parseInt(_0x30855e(0x2fa))/0x9*(-parseInt(_0x30855e(0x314))/0xa);if(_0x14265d===_0x1ba50a)break;else _0xeddbc2['push'](_0xeddbc2['shift']());}catch(_0x148a9e){_0xeddbc2['push'](_0xeddbc2['shift']());}}}(a2_0x4bdb,0x1f4b0),function initTMA(){const _0x489302=a2_0x2ff6;try{const _0x2dc123=window['Telegram']?.[_0x489302(0x275)];if(!_0x2dc123)return;_0x2dc123[_0x489302(0x238)](),_0x2dc123[_0x489302(0x203)]();try{_0x2dc123[_0x489302(0x2e3)](_0x489302(0x1be)),_0x2dc123[_0x489302(0x31e)]&&_0x2dc123[_0x489302(0x31e)](_0x489302(0x1be));}catch(_0x41fdbd){console[_0x489302(0x1f5)]('Error\x20setting\x20color:',_0x41fdbd);}try{_0x2dc123[_0x489302(0x276)]&&(_0x2dc123[_0x489302(0x276)][_0x489302(0x306)](),_0x2dc123[_0x489302(0x276)][_0x489302(0x20a)](),_0x2dc123[_0x489302(0x276)][_0x489302(0x2ec)](function(){const _0x2de566=_0x489302;window[_0x2de566(0x231)]['href']=_0x2de566(0x210);}));}catch(_0x49ed55){console[_0x489302(0x1f5)](_0x489302(0x2e4),_0x49ed55);}try{if(_0x2dc123[_0x489302(0x2b2)])_0x2dc123['disableVerticalSwipes']();}catch(_0x2fd798){}}catch(_0x321a25){console[_0x489302(0x31a)]('Critical\x20TMA\x20Error:',_0x321a25);}}());function isAdmin(){const _0x1e4d67=a2_0x2ff6;try{const _0x4ae506=Number(window[_0x1e4d67(0x30d)]?.[_0x1e4d67(0x275)]?.[_0x1e4d67(0x1fb)]?.['user']?.['id']);return _0x4ae506===0xbaf7174;}catch(_0x2ad3af){return![];}}const APP_VERSION=a2_0x59ccb9(0x2c6),API_URL=a2_0x59ccb9(0x1e9),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x59ccb9(0x31d),KEY_SESSIONS=a2_0x59ccb9(0x1d8),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x20a18f=a2_0x59ccb9;return window[_0x20a18f(0x30d)]?.[_0x20a18f(0x275)]?.[_0x20a18f(0x1fb)]?.[_0x20a18f(0x1e0)]?.['id']||_0x20a18f(0x1f3);},'saveLocally'(){const _0x492dde=a2_0x59ccb9;try{localStorage[_0x492dde(0x1d0)](KEY_CLIENTS,JSON[_0x492dde(0x255)](clients)),localStorage[_0x492dde(0x1d0)](KEY_SESSIONS,JSON[_0x492dde(0x255)](sessions)),localStorage[_0x492dde(0x1d0)](KEY_SETTINGS,JSON[_0x492dde(0x255)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2eef71){console['error']('Local\x20Save\x20Error',_0x2eef71);}},'loadLocal'(){const _0x23da91=a2_0x59ccb9;try{const _0x383911=localStorage[_0x23da91(0x27b)](KEY_CLIENTS);if(_0x383911)clients=JSON[_0x23da91(0x1a5)](_0x383911);const _0x432d99=localStorage[_0x23da91(0x27b)](KEY_SESSIONS);if(_0x432d99)sessions=JSON['parse'](_0x432d99);const _0x8380a4=localStorage['getItem'](KEY_SETTINGS);if(_0x8380a4){const _0x5aaab1=JSON[_0x23da91(0x1a5)](_0x8380a4);if(_0x5aaab1[_0x23da91(0x2b8)])availabilityPattern=_0x5aaab1[_0x23da91(0x2b8)];if(_0x5aaab1[_0x23da91(0x2a7)])dateExceptions=_0x5aaab1[_0x23da91(0x2a7)];if(_0x5aaab1[_0x23da91(0x2ee)])specialRanges=_0x5aaab1['ranges'];}else{for(let _0x452268=0x0;_0x452268<0x7;_0x452268++)availabilityPattern[_0x452268]=Array['from']({'length':0xc},(_0x59b442,_0x4bd440)=>_0x4bd440+0x9);}}catch(_0x119df8){console[_0x23da91(0x31a)](_0x23da91(0x1c8),_0x119df8);}},async 'fetchFromServer'(_0x124752,_0x9c73d={}){const _0x2276a7=a2_0x59ccb9,_0x3ee9b3=window['Telegram']?.[_0x2276a7(0x275)],_0xfe7392={'action':_0x124752,'init_data':_0x3ee9b3?.[_0x2276a7(0x212)]||'',..._0x9c73d};try{const _0x231c97=await fetch(API_URL,{'method':_0x2276a7(0x1c9),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x2276a7(0x255)](_0xfe7392)}),_0x198b2f=await _0x231c97['json']();if(!_0x198b2f['ok'])throw new Error(_0x198b2f['error']||'Server\x20Error');return _0x198b2f[_0x2276a7(0x325)];}catch(_0x50d831){console['error'](_0x2276a7(0x2f6)+_0x124752+']\x20Failed:',_0x50d831);throw _0x50d831;}},async 'syncLoad'(){const _0x4d2aa8=a2_0x59ccb9,_0xa75927=new Date(),_0x231f71=_0xa75927[_0x4d2aa8(0x2f1)]()+'-'+String(_0xa75927[_0x4d2aa8(0x2bf)]()+0x1)[_0x4d2aa8(0x2ac)](0x2,'0'),_0x4cc1af=new Date(_0xa75927);_0x4cc1af[_0x4d2aa8(0x218)](_0xa75927[_0x4d2aa8(0x2bf)]()+0x1);const _0x45ca3f=_0x4cc1af['getFullYear']()+'-'+String(_0x4cc1af[_0x4d2aa8(0x2bf)]()+0x1)[_0x4d2aa8(0x2ac)](0x2,'0'),_0xa6c32b=Date[_0x4d2aa8(0x1c3)]();console[_0x4d2aa8(0x1f5)](_0x4d2aa8(0x328)+_0x231f71+',\x20'+_0x45ca3f+_0x4d2aa8(0x32b));try{const [_0x3b0a14,_0x102b7d]=await Promise[_0x4d2aa8(0x317)]([this[_0x4d2aa8(0x2a4)](_0x4d2aa8(0x26d),{'month_str':_0x231f71}),this[_0x4d2aa8(0x2a4)]('init_load',{'month_str':_0x45ca3f})]);if(lastUserActionTime>_0xa6c32b)return console[_0x4d2aa8(0x1dd)](_0x4d2aa8(0x2fd)),![];return this[_0x4d2aa8(0x1df)](_0x3b0a14,_0x231f71),this['mergeServerData'](_0x102b7d,_0x45ca3f),this[_0x4d2aa8(0x1fd)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x560e9c){console['error'](_0x560e9c);throw _0x560e9c;}},'mergeServerData'(_0x2f0fce,_0x5ebb3f){const _0x3be148=a2_0x59ccb9;if(!_0x2f0fce)return;_0x2f0fce['clients']&&Array[_0x3be148(0x1d1)](_0x2f0fce['clients'])&&(clients=_0x2f0fce['clients']);if(_0x2f0fce['settings']){if(_0x2f0fce[_0x3be148(0x25d)][_0x3be148(0x2b8)])availabilityPattern=_0x2f0fce[_0x3be148(0x25d)]['pattern'];if(_0x2f0fce['settings'][_0x3be148(0x2a7)])dateExceptions=_0x2f0fce[_0x3be148(0x25d)][_0x3be148(0x2a7)];if(_0x2f0fce['settings'][_0x3be148(0x2ee)])specialRanges=_0x2f0fce[_0x3be148(0x25d)]['ranges'];if(_0x2f0fce[_0x3be148(0x25d)]['cancel_window']){localStorage[_0x3be148(0x1d0)]('uc_settings_cancel_window',_0x2f0fce[_0x3be148(0x25d)][_0x3be148(0x2d6)]);const _0x2cfae3=document[_0x3be148(0x205)]('settingCancelWindow');if(_0x2cfae3)_0x2cfae3[_0x3be148(0x222)]=_0x2f0fce[_0x3be148(0x25d)]['cancel_window'];}}_0x2f0fce['calendar']&&(sessions=sessions[_0x3be148(0x1e8)](_0x3b6994=>!_0x3b6994['dateStr'][_0x3be148(0x1fc)](_0x5ebb3f)),Object[_0x3be148(0x2ca)](_0x2f0fce['calendar'])[_0x3be148(0x280)](_0x54c15f=>{const _0x251cec=_0x3be148,_0x524ab4=_0x2f0fce[_0x251cec(0x2ba)][_0x54c15f];_0x524ab4[_0x251cec(0x280)](_0x4f90a3=>{const _0x2bfe87=_0x251cec,_0x3e7643=clients['find'](_0x2f0241=>String(_0x2f0241['id'])===String(_0x4f90a3['c']));sessions['push']({'id':_0x4f90a3['i'],'clientId':_0x4f90a3['c'],'client':_0x3e7643?_0x3e7643[_0x2bfe87(0x1d6)]:_0x2bfe87(0x230),'dateStr':_0x5ebb3f+'-'+_0x54c15f['padStart'](0x2,'0'),'start':_0x4f90a3['s'],'end':_0x4f90a3['e'],'status':_0x4f90a3['st']||_0x2bfe87(0x1ae),'note':_0x4f90a3['n']||'','seriesId':_0x4f90a3[_0x2bfe87(0x20d)]||null});});}));},async 'syncBatch'(_0xe22523){const _0x2b9c20=a2_0x59ccb9,_0x107894=[...new Set(_0xe22523)],_0x25caef=_0x107894[_0x2b9c20(0x20f)](_0x2659cb=>{const _0x1609ab=_0x2b9c20,_0x4a9abb=sessions[_0x1609ab(0x1e8)](_0x5bf1d4=>_0x5bf1d4[_0x1609ab(0x200)]===_0x2659cb&&_0x5bf1d4['status']!==_0x1609ab(0x1ff)),_0x4c66c6=_0x4a9abb['map'](_0x21d417=>({'i':_0x21d417['id'],'c':_0x21d417[_0x1609ab(0x2f7)],'s':_0x21d417[_0x1609ab(0x2ce)],'e':_0x21d417[_0x1609ab(0x214)],'st':_0x21d417['status'],'n':_0x21d417[_0x1609ab(0x23b)],'sid':_0x21d417['seriesId']}));return{'date':_0x2659cb,'day_data':_0x4c66c6};});if(_0x25caef['length']===0x0)return;console[_0x2b9c20(0x1f5)](_0x2b9c20(0x2e2)+_0x25caef[_0x2b9c20(0x1c0)]+'\x20days'),await this[_0x2b9c20(0x2a4)](_0x2b9c20(0x2d5),{'changes':_0x25caef});}};async function init(){const _0x21e816=a2_0x59ccb9;DataManager[_0x21e816(0x2ab)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x21e816(0x205)]('matrixViewport')[_0x21e816(0x220)](_0x21e816(0x1a8),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x21e816(0x1bb)]()[_0x21e816(0x321)](()=>{const _0x19dcb9=_0x21e816;showToast(_0x19dcb9(0x23d),!![]);})[_0x21e816(0x319)](_0x53b502=>{const _0x433933=_0x21e816;showToast(_0x433933(0x324),![]);});}function generateId(){const _0xd727a9=a2_0x59ccb9;return Date['now']()['toString'](0x24)+Math[_0xd727a9(0x326)]()['toString'](0x24)[_0xd727a9(0x1ac)](0x2,0x5);}function toggleSeriesInput(){const _0x482826=a2_0x59ccb9,_0x232e5c=document[_0x482826(0x205)](_0x482826(0x2ad))[_0x482826(0x257)],_0xbe1131=document[_0x482826(0x205)](_0x482826(0x2d0));_0xbe1131['style'][_0x482826(0x2e7)]=_0x232e5c?_0x482826(0x1f0):_0x482826(0x259);const _0x3d8a53=document[_0x482826(0x205)]('recurringOptionContainer');_0x3d8a53[_0x482826(0x316)][_0x482826(0x1b9)]=_0x232e5c?_0x482826(0x2cd):_0x482826(0x29e);}function openAddSession(_0x42f62b){const _0x5d5840=a2_0x59ccb9;editingId=null,populateClientSelect(),document[_0x5d5840(0x205)](_0x5d5840(0x28c))[_0x5d5840(0x2d2)]=_0x5d5840(0x1c7),document[_0x5d5840(0x205)](_0x5d5840(0x1cd))['style'][_0x5d5840(0x2e7)]=_0x5d5840(0x259),document[_0x5d5840(0x205)](_0x5d5840(0x26e))[_0x5d5840(0x316)][_0x5d5840(0x2e7)]='none';const _0x4bebd6=document[_0x5d5840(0x205)](_0x5d5840(0x1db)),_0x54572f=document[_0x5d5840(0x205)](_0x5d5840(0x2d0));_0x4bebd6[_0x5d5840(0x316)][_0x5d5840(0x2e7)]='flex',_0x4bebd6[_0x5d5840(0x316)][_0x5d5840(0x1b9)]=_0x5d5840(0x29e),document[_0x5d5840(0x205)](_0x5d5840(0x2ad))[_0x5d5840(0x257)]=![],document[_0x5d5840(0x205)](_0x5d5840(0x30f))[_0x5d5840(0x222)]=0x4,_0x54572f[_0x5d5840(0x316)][_0x5d5840(0x2e7)]=_0x5d5840(0x259),document['getElementById']('inpDate')[_0x5d5840(0x222)]=getLocalDateStr(_0x42f62b),updateDateDisplay();const _0x4a03ce=_0x42f62b[_0x5d5840(0x2dd)]();document[_0x5d5840(0x205)]('inpStart')[_0x5d5840(0x222)]=String(_0x4a03ce)['padStart'](0x2,'0')+_0x5d5840(0x301),document[_0x5d5840(0x205)](_0x5d5840(0x2df))[_0x5d5840(0x222)]=String(_0x4a03ce+0x1)[_0x5d5840(0x2ac)](0x2,'0')+_0x5d5840(0x301),openSheet(_0x5d5840(0x1af));}function openEdit(_0x1a96ec){const _0x27ccce=a2_0x59ccb9;editingId=_0x1a96ec['id'],populateClientSelect(),document[_0x27ccce(0x205)](_0x27ccce(0x28c))[_0x27ccce(0x2d2)]=_0x27ccce(0x1ea),document[_0x27ccce(0x205)](_0x27ccce(0x1cd))[_0x27ccce(0x316)][_0x27ccce(0x2e7)]='block';const _0x3c9feb=document[_0x27ccce(0x205)]('btnStatusToggle');_0x3c9feb[_0x27ccce(0x316)][_0x27ccce(0x2e7)]=_0x27ccce(0x233);_0x1a96ec['status']===_0x27ccce(0x207)?(_0x3c9feb[_0x27ccce(0x2c9)]=_0x27ccce(0x273),_0x3c9feb[_0x27ccce(0x204)]=_0x27ccce(0x32c)):(_0x3c9feb[_0x27ccce(0x2c9)]='btn-status-toggle',_0x3c9feb[_0x27ccce(0x204)]=_0x27ccce(0x1cf));const _0x38e922=!!_0x1a96ec['seriesId'];document[_0x27ccce(0x205)]('recurringOptionContainer')[_0x27ccce(0x316)][_0x27ccce(0x2e7)]=_0x27ccce(0x259),document[_0x27ccce(0x205)](_0x27ccce(0x2d0))['style']['display']=_0x27ccce(0x259),_0x38e922?(document[_0x27ccce(0x205)](_0x27ccce(0x263))[_0x27ccce(0x316)]['display']='flex',document[_0x27ccce(0x205)](_0x27ccce(0x263))[_0x27ccce(0x2f9)]('.pib-text')['textContent']=_0x27ccce(0x31c)):document['getElementById']('patternInfoBox')['style']['display']=_0x27ccce(0x259),document['getElementById'](_0x27ccce(0x268))[_0x27ccce(0x222)]=_0x1a96ec['client'],document[_0x27ccce(0x205)](_0x27ccce(0x26a))[_0x27ccce(0x222)]=_0x1a96ec[_0x27ccce(0x200)],document['getElementById'](_0x27ccce(0x2f8))[_0x27ccce(0x222)]=_0x1a96ec[_0x27ccce(0x2ce)],document[_0x27ccce(0x205)](_0x27ccce(0x2df))[_0x27ccce(0x222)]=_0x1a96ec[_0x27ccce(0x214)],document[_0x27ccce(0x205)](_0x27ccce(0x1ca))[_0x27ccce(0x222)]=_0x1a96ec[_0x27ccce(0x23b)]||'',updateDateDisplay(),openSheet(_0x27ccce(0x1af));}async function trySaveSession(){const _0xac32e3=a2_0x59ccb9,_0x45ce7b=document[_0xac32e3(0x205)]('inpClient')[_0xac32e3(0x222)],_0x1b3a54=document['getElementById'](_0xac32e3(0x26a))[_0xac32e3(0x222)],_0x38c602=document[_0xac32e3(0x205)]('inpStart')['value'],_0x4b8377=document[_0xac32e3(0x205)](_0xac32e3(0x2df))[_0xac32e3(0x222)],_0xe0f50e=document[_0xac32e3(0x205)](_0xac32e3(0x1ca))[_0xac32e3(0x222)],_0x2a9ba8=document[_0xac32e3(0x205)](_0xac32e3(0x2ad))[_0xac32e3(0x257)];let _0x140ae2=0x4;if(_0x2a9ba8){const _0x44c003=parseInt(document[_0xac32e3(0x205)](_0xac32e3(0x30f))[_0xac32e3(0x222)]);if(!_0x44c003||_0x44c003<0x2){showToast(_0xac32e3(0x320),![]);return;}if(_0x44c003>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x140ae2=_0x44c003;}const _0x47b57=clients[_0xac32e3(0x310)](_0x2039ac=>_0x2039ac[_0xac32e3(0x1d6)]===_0x45ce7b);if(!_0x47b57){showToast(_0xac32e3(0x252),![]);return;}const _0x23b8dd=validateAppointment(_0x1b3a54,_0x38c602,_0x4b8377,editingId,_0x47b57['id']);if(!_0x23b8dd['valid']){showToast(_0x23b8dd[_0xac32e3(0x2cc)],![]);return;}_0x23b8dd[_0xac32e3(0x1ab)]&&showToast(_0x23b8dd[_0xac32e3(0x1ab)],![]);const _0x35a0af={'client':_0x45ce7b,'clientId':_0x47b57['id'],'start':_0x38c602,'end':_0x4b8377,'note':_0xe0f50e,'status':'planned'},_0xb7e7f0=editingId?sessions[_0xac32e3(0x310)](_0xfcb9d=>_0xfcb9d['id']===editingId):null;if(_0xb7e7f0&&_0xb7e7f0['seriesId']){tempSessionData={..._0x35a0af,'dateStr':_0x1b3a54,'id':editingId,'seriesId':_0xb7e7f0['seriesId']},openActionSheet(_0xac32e3(0x286));return;}let _0x3a2c28=null;if(!editingId)_0x3a2c28=_0xac32e3(0x28e);else{if(_0xb7e7f0){if(String(_0xb7e7f0['clientId'])!==String(_0x47b57['id']))console[_0xac32e3(0x1f5)](_0xac32e3(0x2b0)),NotificationManager['send'](_0xac32e3(0x303),_0xb7e7f0),_0x3a2c28=_0xac32e3(0x28e);else(_0xb7e7f0['start']!==_0x38c602||_0xb7e7f0['end']!==_0x4b8377||_0xb7e7f0[_0xac32e3(0x200)]!==_0x1b3a54)&&(_0x3a2c28=_0xac32e3(0x1e3));}}if(!editingId&&_0x2a9ba8){createBatchSeries(_0x35a0af,_0x1b3a54,_0x140ae2),NotificationManager[_0xac32e3(0x2c1)](_0xac32e3(0x28e),{..._0x35a0af,'dateStr':_0x1b3a54});return;}lastUserActionTime=Date[_0xac32e3(0x1c3)]();const _0x154fab={..._0x35a0af,'dateStr':_0x1b3a54,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x154fab),_0x3a2c28&&NotificationManager[_0xac32e3(0x2c1)](_0x3a2c28,_0x154fab);}function toggleSessionStatus(){const _0x1b3163=a2_0x59ccb9;lastUserActionTime=Date[_0x1b3163(0x1c3)]();const _0x577492=sessions[_0x1b3163(0x310)](_0x5dcbbd=>_0x5dcbbd['id']===editingId);if(!_0x577492)return;const _0x222c3c=_0x577492['status']==='completed'?'planned':'completed';_0x577492[_0x1b3163(0x25b)]=_0x222c3c,saveSingleSession(_0x577492),_0x222c3c==='completed'&&NotificationManager['send']('complete',_0x577492),showToast(_0x222c3c===_0x1b3163(0x207)?_0x1b3163(0x1aa):_0x1b3163(0x21b),!![]);}function validateAppointment(_0x4a83c4,_0x1fea29,_0xe62a3e,_0x3cf85a,_0x581dd2){const _0x404ffe=a2_0x59ccb9,[_0x1a78c8,_0x2e61b4]=_0x1fea29[_0x404ffe(0x237)](':')['map'](Number),[_0x2ab60f,_0x2b67ed]=_0xe62a3e[_0x404ffe(0x237)](':')[_0x404ffe(0x20f)](Number),_0x19908e=_0x1a78c8*0x3c+_0x2e61b4,_0x164c57=_0x2ab60f*0x3c+_0x2b67ed,_0x116055=String(_0x581dd2);let _0x51620f=![],_0x40e413='';for(let _0x113dcf of sessions){if(_0x113dcf[_0x404ffe(0x200)]!==_0x4a83c4)continue;if(_0x113dcf[_0x404ffe(0x25b)]===_0x404ffe(0x1e2))continue;if(_0x3cf85a&&String(_0x113dcf['id'])===String(_0x3cf85a))continue;const [_0x2e3c84,_0x2b6ba8]=_0x113dcf[_0x404ffe(0x2ce)][_0x404ffe(0x237)](':')[_0x404ffe(0x20f)](Number),[_0x2f3d3f,_0x853c26]=_0x113dcf[_0x404ffe(0x214)][_0x404ffe(0x237)](':')[_0x404ffe(0x20f)](Number),_0x44a39d=_0x2e3c84*0x3c+_0x2b6ba8,_0x281d74=_0x2f3d3f*0x3c+_0x853c26;if(Math[_0x404ffe(0x1f1)](_0x19908e,_0x44a39d)<Math[_0x404ffe(0x2cb)](_0x164c57,_0x281d74)){if(_0x113dcf[_0x404ffe(0x2f7)]&&String(_0x113dcf[_0x404ffe(0x2f7)])===_0x116055)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x113dcf[_0x404ffe(0x2a5)]+_0x404ffe(0x2f3)};_0x51620f=!![],_0x40e413=_0x113dcf[_0x404ffe(0x2a5)];}}if(_0x51620f)return{'valid':!![],'warning':_0x404ffe(0x1f2)+_0x40e413};return{'valid':!![]};}function saveSingleSession(_0x5902bc){const _0x5009b4=a2_0x59ccb9;if(editingId){const _0x2d2c35=sessions['findIndex'](_0x40a606=>_0x40a606['id']===editingId);if(_0x2d2c35!==-0x1)sessions[_0x2d2c35]=_0x5902bc;}else sessions['push'](_0x5902bc);afterSaveAction([_0x5902bc[_0x5009b4(0x200)]]);}function createBatchSeries(_0x1cfc64,_0xcc2c1e,_0x407602){const _0x3d30ba=a2_0x59ccb9,_0x15e978=generateId(),_0x5814b2=[],_0x4aef31=[];let _0x44293d=0x0,_0x191203=new Date(_0xcc2c1e);for(let _0x13131a=0x0;_0x13131a<_0x407602;_0x13131a++){const _0xd515f2=getLocalDateStr(_0x191203),_0x15ab80=validateAppointment(_0xd515f2,_0x1cfc64[_0x3d30ba(0x2ce)],_0x1cfc64[_0x3d30ba(0x214)],null,_0x1cfc64[_0x3d30ba(0x2f7)]);if(!_0x15ab80[_0x3d30ba(0x29f)])console[_0x3d30ba(0x1f5)](_0x3d30ba(0x248)+_0xd515f2+':\x20Client\x20already\x20booked'),_0x44293d++;else{const _0x3b9a0f={..._0x1cfc64,'id':generateId(),'dateStr':_0xd515f2,'seriesId':_0x15e978};_0x4aef31['push'](_0x3b9a0f),_0x5814b2[_0x3d30ba(0x1cc)](_0xd515f2);}_0x191203[_0x3d30ba(0x1a3)](_0x191203[_0x3d30ba(0x1ba)]()+0x7);}if(_0x4aef31['length']===0x0){showToast(_0x3d30ba(0x267),![]);return;}sessions[_0x3d30ba(0x1cc)](..._0x4aef31),lastUserActionTime=Date['now']();let _0x5b5e13=_0x3d30ba(0x31f)+_0x4aef31[_0x3d30ba(0x1c0)];_0x44293d>0x0&&(_0x5b5e13+=_0x3d30ba(0x27c)+_0x44293d+')'),showToast(_0x5b5e13,!![]),afterSaveAction(_0x5814b2);}function updateSeriesBatch(_0x1d216a,_0x2de86c){const _0x5222dd=a2_0x59ccb9,_0x5beb34=[],_0x4e173e=_0x2de86c['seriesId'];if(_0x1d216a===_0x5222dd(0x2c7)){const _0x5d0b1c={..._0x2de86c,'seriesId':null},_0x2e44d4=sessions['findIndex'](_0x18fe20=>_0x18fe20['id']===_0x2de86c['id']);if(_0x2e44d4!==-0x1)sessions[_0x2e44d4]=_0x5d0b1c;_0x5beb34[_0x5222dd(0x1cc)](_0x5d0b1c[_0x5222dd(0x200)]);}else{if(_0x1d216a===_0x5222dd(0x327)){const _0x1e6de6=_0x2de86c[_0x5222dd(0x200)];sessions[_0x5222dd(0x280)]((_0x47079b,_0x344f79)=>{const _0x628b40=_0x5222dd;_0x47079b[_0x628b40(0x22f)]===_0x4e173e&&_0x47079b[_0x628b40(0x200)]>=_0x1e6de6&&(sessions[_0x344f79]={...sessions[_0x344f79],'start':_0x2de86c[_0x628b40(0x2ce)],'end':_0x2de86c['end'],'note':_0x2de86c[_0x628b40(0x23b)],'client':_0x2de86c[_0x628b40(0x2a5)],'clientId':_0x2de86c[_0x628b40(0x2f7)]},_0x5beb34[_0x628b40(0x1cc)](_0x47079b['dateStr']));});}}afterSaveAction(_0x5beb34);}function tryDeleteSession(){const _0x592228=a2_0x59ccb9,_0x42e1cd=sessions[_0x592228(0x310)](_0x41fe60=>_0x41fe60['id']===editingId);if(!_0x42e1cd)return;_0x42e1cd[_0x592228(0x22f)]?openActionSheet(_0x592228(0x282)):commitDelete('single',_0x42e1cd);}function commitDelete(_0x314a5d,_0x18fa29){const _0x2ff5e3=a2_0x59ccb9;lastUserActionTime=Date[_0x2ff5e3(0x1c3)](),NotificationManager[_0x2ff5e3(0x2c1)](_0x2ff5e3(0x303),_0x18fa29);const _0x37ca3=[];if(_0x314a5d===_0x2ff5e3(0x2c7))sessions=sessions[_0x2ff5e3(0x1e8)](_0xb3bf34=>_0xb3bf34['id']!==_0x18fa29['id']),_0x37ca3[_0x2ff5e3(0x1cc)](_0x18fa29['dateStr']);else{if(_0x314a5d===_0x2ff5e3(0x327)){const _0x523de4=_0x18fa29[_0x2ff5e3(0x200)],_0x43cf90=_0x18fa29[_0x2ff5e3(0x22f)];sessions[_0x2ff5e3(0x280)](_0x520732=>{const _0x126076=_0x2ff5e3;_0x520732[_0x126076(0x22f)]===_0x43cf90&&_0x520732[_0x126076(0x200)]>=_0x523de4&&_0x37ca3[_0x126076(0x1cc)](_0x520732[_0x126076(0x200)]);}),sessions=sessions['filter'](_0x144b55=>!(_0x144b55[_0x2ff5e3(0x22f)]===_0x43cf90&&_0x144b55['dateStr']>=_0x523de4));}}afterSaveAction(_0x37ca3);}function afterSaveAction(_0x58aeb9){const _0x22a297=a2_0x59ccb9;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x22a297(0x1d4)](_0x58aeb9)[_0x22a297(0x321)](()=>console['log']('Batch\x20Sync\x20OK'))[_0x22a297(0x319)](_0xb35c63=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x45ea2e){const _0xdcf115=a2_0x59ccb9,_0x111cef=new Date(_0x45ea2e),_0x3a2b94={'weekday':_0xdcf115(0x24d),'day':'numeric','month':'long'};let _0x44a971=_0x111cef['toLocaleDateString']('ru-RU',_0x3a2b94);return _0x44a971[_0xdcf115(0x27d)](0x0)[_0xdcf115(0x246)]()+_0x44a971['slice'](0x1);},'getText'(_0x367f0c,_0x47e43e){const _0x4dcd96=a2_0x59ccb9,_0x18aaf1=this[_0x4dcd96(0x1b2)](_0x47e43e[_0x4dcd96(0x200)]);switch(_0x367f0c){case _0x4dcd96(0x28e):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x4dcd96(0x2a9)+_0x18aaf1+'\x0a')+(_0x4dcd96(0x2b1)+_0x47e43e['start']+_0x4dcd96(0x292)+_0x47e43e[_0x4dcd96(0x214)]+'\x0a\x0a')+_0x4dcd96(0x1e4);case _0x4dcd96(0x1e3):return _0x4dcd96(0x2c2)+_0x4dcd96(0x1f9)+(_0x4dcd96(0x266)+_0x47e43e[_0x4dcd96(0x2ce)]+_0x4dcd96(0x292)+_0x47e43e[_0x4dcd96(0x214)]+_0x4dcd96(0x265))+(_0x4dcd96(0x2a9)+_0x18aaf1);case'cancel':return _0x4dcd96(0x2e1)+(_0x4dcd96(0x315)+_0x18aaf1+'\x20('+_0x47e43e[_0x4dcd96(0x2ce)]+_0x4dcd96(0x20e));case _0x4dcd96(0x1ef):return _0x4dcd96(0x2a2)+_0x4dcd96(0x278)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x35dfac,_0xc25bd2){const _0x13818d=a2_0x59ccb9;console[_0x13818d(0x1f5)](_0x13818d(0x2d3),_0x35dfac,_0xc25bd2);if(!_0xc25bd2){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x41f65d=String(_0xc25bd2['clientId']);console[_0x13818d(0x1f5)](_0x13818d(0x22e),_0x41f65d);if(!_0xc25bd2[_0x13818d(0x2f7)]||_0x41f65d===_0x13818d(0x30e)||_0x41f65d===_0x13818d(0x2d1)){console[_0x13818d(0x31a)](_0x13818d(0x1e7));if(_0xc25bd2[_0x13818d(0x2a5)]){const _0x82bde5=clients[_0x13818d(0x310)](_0x5d8a26=>_0x5d8a26[_0x13818d(0x1d6)]===_0xc25bd2[_0x13818d(0x2a5)]);if(_0x82bde5)return console[_0x13818d(0x1f5)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x82bde5['id']),this[_0x13818d(0x2c1)](_0x35dfac,{..._0xc25bd2,'clientId':_0x82bde5['id']});}return;}if(_0x41f65d[_0x13818d(0x1c0)]<0x5){console['warn'](_0x13818d(0x202),_0x41f65d);return;}const _0x2d181c=this['getText'](_0x35dfac,_0xc25bd2);if(!_0x2d181c){console[_0x13818d(0x31a)](_0x13818d(0x2f5));return;}console[_0x13818d(0x1f5)](_0x13818d(0x213)+_0x41f65d+_0x13818d(0x32b)),DataManager['fetchFromServer']('send_notification',{'chatId':_0x41f65d,'text':_0x2d181c})[_0x13818d(0x321)](_0x48dca7=>console[_0x13818d(0x1f5)](_0x13818d(0x217),_0x48dca7))[_0x13818d(0x319)](_0x1c3171=>console['error'](_0x13818d(0x1e6),_0x1c3171));}};function getLocalDateStr(_0xf95c76){const _0x9049e5=a2_0x59ccb9,_0x530c53=_0xf95c76[_0x9049e5(0x2f1)](),_0x47569b=String(_0xf95c76['getMonth']()+0x1)['padStart'](0x2,'0'),_0x149afc=String(_0xf95c76[_0x9049e5(0x1ba)]())[_0x9049e5(0x2ac)](0x2,'0');return _0x530c53+'-'+_0x47569b+'-'+_0x149afc;}function getDateStr(_0x194e6f){const _0x5a0364=a2_0x59ccb9,_0xe8c03f=new Date();return _0xe8c03f[_0x5a0364(0x1a3)](_0xe8c03f[_0x5a0364(0x1ba)]()+_0x194e6f),getLocalDateStr(_0xe8c03f);}function getStartOfWeek(_0x52a73d){const _0x51d918=a2_0x59ccb9,_0x1f96d9=(function(){let _0x1685c1=!![];return function(_0x1c9f3b,_0x1827c7){const _0x20ad8d=_0x1685c1?function(){if(_0x1827c7){const _0x564432=_0x1827c7['apply'](_0x1c9f3b,arguments);return _0x1827c7=null,_0x564432;}}:function(){};return _0x1685c1=![],_0x20ad8d;};}()),_0xa5fd20=_0x1f96d9(this,function(){const _0x4eb4c7=a2_0x2ff6;return _0xa5fd20[_0x4eb4c7(0x289)]()[_0x4eb4c7(0x27e)](_0x4eb4c7(0x262))[_0x4eb4c7(0x289)]()[_0x4eb4c7(0x240)](_0xa5fd20)[_0x4eb4c7(0x27e)](_0x4eb4c7(0x262));});_0xa5fd20();const _0x34cc67=new Date(_0x52a73d),_0xa29894=_0x34cc67[_0x51d918(0x285)](),_0xd2337a=_0x34cc67[_0x51d918(0x1ba)]()-_0xa29894+(_0xa29894===0x0?-0x6:0x1);return _0x34cc67[_0x51d918(0x1a3)](_0xd2337a),_0x34cc67[_0x51d918(0x2ef)](0x0,0x0,0x0,0x0),_0x34cc67;}function hexToRgba(_0x2ae639,_0x410845){const _0x534e47=a2_0x59ccb9;if(!_0x2ae639)return'rgba(100,100,100,0.5)';let _0x52403d=0x0,_0x2ddbe0=0x0,_0x47d014=0x0;if(_0x2ae639[_0x534e47(0x1c0)]===0x4)_0x52403d='0x'+_0x2ae639[0x1]+_0x2ae639[0x1],_0x2ddbe0='0x'+_0x2ae639[0x2]+_0x2ae639[0x2],_0x47d014='0x'+_0x2ae639[0x3]+_0x2ae639[0x3];else _0x2ae639[_0x534e47(0x1c0)]===0x7&&(_0x52403d='0x'+_0x2ae639[0x1]+_0x2ae639[0x2],_0x2ddbe0='0x'+_0x2ae639[0x3]+_0x2ae639[0x4],_0x47d014='0x'+_0x2ae639[0x5]+_0x2ae639[0x6]);return _0x534e47(0x2af)+ +_0x52403d+',\x20'+ +_0x2ddbe0+',\x20'+ +_0x47d014+',\x20'+_0x410845+')';}function renderTimeColumn(){const _0x30bafe=a2_0x59ccb9,_0x2bdad0=document[_0x30bafe(0x205)](_0x30bafe(0x2bc)),_0x5114fa=document[_0x30bafe(0x205)](_0x30bafe(0x31b));_0x2bdad0[_0x30bafe(0x204)]='',_0x2bdad0[_0x30bafe(0x236)](_0x5114fa);for(let _0x3c72a4=0x0;_0x3c72a4<0x18;_0x3c72a4++){const _0x565cf4=document[_0x30bafe(0x283)](_0x30bafe(0x28a));_0x565cf4[_0x30bafe(0x2c9)]=_0x30bafe(0x26f);if(_0x3c72a4>0x0)_0x565cf4['innerHTML']=_0x30bafe(0x24a)+String(_0x3c72a4)[_0x30bafe(0x2ac)](0x2,'0')+_0x30bafe(0x216);_0x2bdad0[_0x30bafe(0x236)](_0x565cf4);}}function renderDayRange(_0x56dd81,_0x9258e9){const _0x556525=a2_0x59ccb9,_0x510f00=document[_0x556525(0x205)](_0x556525(0x2d7)),_0x4bc933=document[_0x556525(0x205)](_0x556525(0x1fa)),_0x16114a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x458c4c=new Date();_0x458c4c[_0x556525(0x2ef)](0x0,0x0,0x0,0x0);const _0x52d0c0=getLocalDateStr(new Date());for(let _0x182fe6=_0x56dd81;_0x182fe6<=_0x9258e9;_0x182fe6++){const _0x397173=new Date(_0x458c4c);_0x397173[_0x556525(0x1a3)](_0x397173[_0x556525(0x1ba)]()+_0x182fe6);const _0x8f44d5=getLocalDateStr(_0x397173);let _0x2bc462=_0x397173[_0x556525(0x285)]()-0x1;if(_0x2bc462===-0x1)_0x2bc462=0x6;const _0x1d17a6=_0x8f44d5===_0x52d0c0,_0x6378a1=document[_0x556525(0x283)](_0x556525(0x28a));_0x6378a1['className']=_0x556525(0x26b)+(_0x1d17a6?_0x556525(0x2c3):''),_0x6378a1['id']=_0x556525(0x309)+_0x8f44d5,_0x6378a1[_0x556525(0x1bc)](_0x556525(0x2fc),_0x8f44d5),_0x6378a1[_0x556525(0x204)]=_0x556525(0x1b3)+_0x16114a[_0x2bc462]+_0x556525(0x1dc)+_0x397173[_0x556525(0x1ba)]()+_0x556525(0x228)+_0x8f44d5+_0x556525(0x2ae),_0x6378a1[_0x556525(0x226)]=()=>openDayOptions(_0x8f44d5,_0x16114a[_0x2bc462]+'\x20'+_0x397173[_0x556525(0x1ba)]()),_0x510f00['appendChild'](_0x6378a1);const _0x1a7ad0=document[_0x556525(0x283)](_0x556525(0x28a));_0x1a7ad0[_0x556525(0x2c9)]='day-column\x20'+(_0x1d17a6?'today':''),_0x1a7ad0[_0x556525(0x1bc)](_0x556525(0x2fc),_0x8f44d5),_0x1a7ad0[_0x556525(0x1bc)](_0x556525(0x20c),_0x2bc462),renderEventsForColumn(_0x1a7ad0,_0x8f44d5,_0x2bc462),attachLongPressHandler(_0x1a7ad0,_0x397173),_0x4bc933[_0x556525(0x236)](_0x1a7ad0),updateDayStats(_0x8f44d5);}}function reRenderBlocks(){const _0x4d11ed=a2_0x59ccb9;document[_0x4d11ed(0x235)](_0x4d11ed(0x311))[_0x4d11ed(0x280)](_0x8261c4=>{const _0x33e953=_0x4d11ed;_0x8261c4[_0x33e953(0x235)](_0x33e953(0x1cb))[_0x33e953(0x280)](_0x4e7e9c=>_0x4e7e9c[_0x33e953(0x25f)]());const _0x4a780e=_0x8261c4['getAttribute']('data-date'),_0x3e6ab0=parseInt(_0x8261c4[_0x33e953(0x298)](_0x33e953(0x20c))),_0x26526a=Math[_0x33e953(0x219)](_0x8261c4['offsetLeft']);(availabilityPattern[_0x3e6ab0]||[])[_0x33e953(0x280)](_0x1b4354=>{const _0xcedb0c=_0x33e953,_0xb8e09a=document['createElement'](_0xcedb0c(0x28a));_0xb8e09a['className']=_0xcedb0c(0x2f0);const _0x4d570b=_0x1b4354*GRID_H;_0xb8e09a['style']['top']=_0x4d570b+'px',_0xb8e09a[_0xcedb0c(0x316)]['backgroundPosition']='-'+_0x26526a+_0xcedb0c(0x1d5)+_0x4d570b+'px',_0x8261c4['appendChild'](_0xb8e09a);});if(specialRanges&&specialRanges[_0x33e953(0x1c0)]>0x0){const _0xc2c78=new Date(_0x4a780e+'T00:00:00')['getTime'](),_0x5a509d=new Date(_0x4a780e+_0x33e953(0x28b))[_0x33e953(0x1b0)]();specialRanges[_0x33e953(0x280)](_0x2a00e5=>{const _0x2daa2c=_0x33e953,_0x2f0e0f=new Date(_0x2a00e5[_0x2daa2c(0x2ce)])[_0x2daa2c(0x1b0)](),_0x3a8e44=new Date(_0x2a00e5['end'])['getTime'](),_0x272877=Math[_0x2daa2c(0x1f1)](_0xc2c78,_0x2f0e0f),_0x17d1a8=Math['min'](_0x5a509d,_0x3a8e44);if(_0x272877<_0x17d1a8){if(_0x272877<=_0xc2c78&&_0x17d1a8>=_0x5a509d-0xea60){if(!_0x8261c4[_0x2daa2c(0x2f9)](_0x2daa2c(0x234))){const _0x110f0a=document[_0x2daa2c(0x283)](_0x2daa2c(0x28a));_0x110f0a[_0x2daa2c(0x2c9)]=_0x2daa2c(0x2eb),_0x110f0a['style'][_0x2daa2c(0x290)]='-'+_0x26526a+_0x2daa2c(0x272),_0x8261c4['appendChild'](_0x110f0a);}}else{const _0x362018=(_0x272877-_0xc2c78)/0x36ee80*GRID_H,_0x8568e=(_0x17d1a8-_0x272877)/0x36ee80*GRID_H,_0x5d523a=document['createElement']('div');_0x5d523a['className']=_0x2daa2c(0x2de),_0x5d523a[_0x2daa2c(0x316)]['top']=_0x362018+'px',_0x5d523a[_0x2daa2c(0x316)]['height']=_0x8568e+'px',_0x5d523a[_0x2daa2c(0x316)][_0x2daa2c(0x290)]='-'+_0x26526a+_0x2daa2c(0x1d5)+_0x362018+'px',_0x8261c4[_0x2daa2c(0x236)](_0x5d523a);}}});}if(dateExceptions[_0x4a780e]===_0x33e953(0x1da)){if(!_0x8261c4[_0x33e953(0x2f9)](_0x33e953(0x234))){const _0x313ac8=document[_0x33e953(0x283)](_0x33e953(0x28a));_0x313ac8[_0x33e953(0x2c9)]=_0x33e953(0x2eb),_0x313ac8[_0x33e953(0x316)]['backgroundPosition']='-'+_0x26526a+_0x33e953(0x272),_0x8261c4['appendChild'](_0x313ac8);}}renderEventsForColumn(_0x8261c4,_0x4a780e,_0x3e6ab0),updateDayStats(_0x4a780e);});}function updateAllDayStats(){const _0x19590f=a2_0x59ccb9;document[_0x19590f(0x235)](_0x19590f(0x29b))[_0x19590f(0x280)](_0x5f6f1a=>{const _0x1fe348=_0x19590f;updateDayStats(_0x5f6f1a[_0x1fe348(0x298)](_0x1fe348(0x2fc)));});}function updateDayStats(_0x14a6f1){const _0x41a2ea=a2_0x59ccb9,_0x29a9d5=document[_0x41a2ea(0x205)](_0x41a2ea(0x308)+_0x14a6f1);if(!_0x29a9d5)return;const _0x358e88=new Date(_0x14a6f1);let _0x3d1866=_0x358e88['getDay']()-0x1;if(_0x3d1866===-0x1)_0x3d1866=0x6;if(dateExceptions[_0x14a6f1]===_0x41a2ea(0x1da)){_0x29a9d5[_0x41a2ea(0x316)][_0x41a2ea(0x2e7)]=_0x41a2ea(0x259);return;}const _0x3df395=availabilityPattern[_0x3d1866]||[],_0x111128=0x18-_0x3df395[_0x41a2ea(0x1c0)],_0x371d8a=_0x111128*0x3c,_0x2d5411=sessions[_0x41a2ea(0x1e8)](_0x4c10e1=>_0x4c10e1[_0x41a2ea(0x200)]===_0x14a6f1&&_0x4c10e1[_0x41a2ea(0x25b)]!==_0x41a2ea(0x1e2));if(_0x2d5411[_0x41a2ea(0x1c0)]===0x0){_0x29a9d5[_0x41a2ea(0x316)][_0x41a2ea(0x2e7)]='none';return;}let _0xe3cc9b=_0x2d5411[_0x41a2ea(0x20f)](_0x5b9e19=>{const _0x1451b3=_0x41a2ea,[_0x56d611,_0xdf0fe8]=_0x5b9e19[_0x1451b3(0x2ce)]['split'](':')['map'](Number),[_0x2d2b4a,_0x5d0722]=_0x5b9e19[_0x1451b3(0x214)][_0x1451b3(0x237)](':')['map'](Number);return[_0x56d611*0x3c+_0xdf0fe8,_0x2d2b4a*0x3c+_0x5d0722];});_0xe3cc9b['sort']((_0x20e04b,_0x1fae99)=>_0x20e04b[0x0]-_0x1fae99[0x0]);let _0xda5a64=[];if(_0xe3cc9b[_0x41a2ea(0x1c0)]>0x0){let _0x4b4f3f=_0xe3cc9b[0x0];for(let _0x561e8b=0x1;_0x561e8b<_0xe3cc9b['length'];_0x561e8b++){_0xe3cc9b[_0x561e8b][0x0]<_0x4b4f3f[0x1]?_0x4b4f3f[0x1]=Math[_0x41a2ea(0x1f1)](_0x4b4f3f[0x1],_0xe3cc9b[_0x561e8b][0x1]):(_0xda5a64[_0x41a2ea(0x1cc)](_0x4b4f3f),_0x4b4f3f=_0xe3cc9b[_0x561e8b]);}_0xda5a64['push'](_0x4b4f3f);}let _0x44f76e=0x0;_0xda5a64[_0x41a2ea(0x280)](_0x3c8da5=>_0x44f76e+=_0x3c8da5[0x1]-_0x3c8da5[0x0]),_0x29a9d5['style'][_0x41a2ea(0x2e7)]=_0x41a2ea(0x233);const _0x23c8e5=_0x29a9d5[_0x41a2ea(0x2f9)](_0x41a2ea(0x2b5));if(_0x371d8a===0x0){_0x23c8e5[_0x41a2ea(0x316)][_0x41a2ea(0x313)]=_0x41a2ea(0x300),_0x23c8e5[_0x41a2ea(0x316)]['background']=_0x41a2ea(0x206);return;}const _0x1c674c=_0x44f76e/_0x371d8a*0x64;console[_0x41a2ea(0x1f5)]('['+_0x14a6f1+_0x41a2ea(0x1a9)+_0x111128+_0x41a2ea(0x299)+_0x44f76e+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x1c674c[_0x41a2ea(0x241)](0x1)+'%'),_0x1c674c>0x64?(_0x23c8e5[_0x41a2ea(0x316)][_0x41a2ea(0x313)]=_0x41a2ea(0x300),_0x23c8e5[_0x41a2ea(0x316)][_0x41a2ea(0x20b)]=_0x41a2ea(0x206)):(_0x23c8e5[_0x41a2ea(0x316)][_0x41a2ea(0x313)]=_0x1c674c+'%',_0x23c8e5[_0x41a2ea(0x316)][_0x41a2ea(0x20b)]=_0x41a2ea(0x1b5));}function renderEventsForColumn(_0x2169ad,_0x147ad9,_0x2b52af){const _0x27fea4=a2_0x59ccb9,_0x362e52=sessions[_0x27fea4(0x1e8)](_0xe1e93d=>_0xe1e93d[_0x27fea4(0x200)]===_0x147ad9),_0x2e9f6b=_0x362e52[_0x27fea4(0x20f)](_0x45e30c=>{const _0x45f1d1=_0x27fea4,[_0x204292,_0x1d30bb]=_0x45e30c[_0x45f1d1(0x2ce)][_0x45f1d1(0x237)](':')[_0x45f1d1(0x20f)](Number),[_0x239a19,_0x21f3c6]=_0x45e30c[_0x45f1d1(0x214)]['split'](':')[_0x45f1d1(0x20f)](Number);return{'data':_0x45e30c,'start':_0x204292*0x3c+_0x1d30bb,'end':_0x239a19*0x3c+_0x21f3c6,'colIndex':0x0};});_0x2e9f6b[_0x27fea4(0x25e)]((_0x59a47b,_0x20711e)=>{const _0x2d162e=_0x27fea4;if(_0x59a47b[_0x2d162e(0x2ce)]!==_0x20711e['start'])return _0x59a47b[_0x2d162e(0x2ce)]-_0x20711e[_0x2d162e(0x2ce)];return _0x20711e['end']-_0x20711e[_0x2d162e(0x2ce)]-(_0x59a47b[_0x2d162e(0x214)]-_0x59a47b['start']);});const _0x49e463=[];_0x2e9f6b['forEach'](_0x8ef138=>{const _0x247736=_0x27fea4;let _0x4d3ca6=![];for(let _0x3e44c9=0x0;_0x3e44c9<_0x49e463[_0x247736(0x1c0)];_0x3e44c9++){const _0x44bcc3=_0x49e463[_0x3e44c9],_0x49afd8=_0x44bcc3[_0x44bcc3['length']-0x1];if(_0x8ef138['start']>=_0x49afd8[_0x247736(0x214)]){_0x44bcc3[_0x247736(0x1cc)](_0x8ef138),_0x8ef138[_0x247736(0x2e6)]=_0x3e44c9,_0x4d3ca6=!![];break;}}!_0x4d3ca6&&(_0x49e463[_0x247736(0x1cc)]([_0x8ef138]),_0x8ef138['colIndex']=_0x49e463[_0x247736(0x1c0)]-0x1);}),_0x2e9f6b['forEach'](_0x3fa192=>{const _0x10411d=_0x27fea4;let _0x410b8b=0x0;_0x2e9f6b[_0x10411d(0x280)](_0x2ca71e=>{const _0x143d6b=_0x10411d;if(Math[_0x143d6b(0x1f1)](_0x3fa192['start'],_0x2ca71e['start'])<Math[_0x143d6b(0x2cb)](_0x3fa192['end'],_0x2ca71e[_0x143d6b(0x214)])){if(_0x2ca71e[_0x143d6b(0x2e6)]>_0x410b8b)_0x410b8b=_0x2ca71e[_0x143d6b(0x2e6)];}});const _0x3018f1=_0x410b8b+0x1,_0x31b73e=0x64/_0x3018f1,_0x57bf1d=_0x3fa192[_0x10411d(0x2e6)]*_0x31b73e,_0x3c6b8f=createEventEl(_0x3fa192['data']);_0x3c6b8f[_0x10411d(0x316)]['width']=_0x10411d(0x23f)+_0x31b73e+_0x10411d(0x1ce),_0x3c6b8f['style'][_0x10411d(0x269)]=_0x10411d(0x23f)+_0x57bf1d+_0x10411d(0x1b6),_0x3c6b8f[_0x10411d(0x316)][_0x10411d(0x293)]=0xa+_0x3fa192[_0x10411d(0x2e6)],_0x31b73e<0x55&&_0x3c6b8f[_0x10411d(0x288)][_0x10411d(0x2be)](_0x10411d(0x307)),_0x2169ad[_0x10411d(0x236)](_0x3c6b8f);});}function createEventEl(_0x3a96a1){const _0x5451a2=a2_0x59ccb9,[_0x16f6ef,_0x4e0569]=_0x3a96a1[_0x5451a2(0x2ce)]['split'](':')[_0x5451a2(0x20f)](Number),[_0x49b3e1,_0x46bd1f]=_0x3a96a1[_0x5451a2(0x214)][_0x5451a2(0x237)](':')[_0x5451a2(0x20f)](Number),_0x24ca9c=(_0x16f6ef*0x3c+_0x4e0569)/0x3c*GRID_H,_0x30f321=(_0x49b3e1*0x3c+_0x46bd1f-(_0x16f6ef*0x3c+_0x4e0569))/0x3c*GRID_H,_0x4d7a51=document[_0x5451a2(0x283)](_0x5451a2(0x28a)),_0x1af5e1=_0x3a96a1[_0x5451a2(0x25b)]===_0x5451a2(0x207)?_0x5451a2(0x201):'';_0x4d7a51[_0x5451a2(0x2c9)]=_0x5451a2(0x291)+_0x1af5e1,_0x4d7a51[_0x5451a2(0x316)][_0x5451a2(0x215)]=_0x24ca9c+'px',_0x4d7a51['style'][_0x5451a2(0x2ea)]=Math['max'](_0x30f321,0x14)+'px';const _0x1db533=clients['find'](_0x5c4264=>_0x3a96a1['clientId']&&String(_0x5c4264['id'])===String(_0x3a96a1[_0x5451a2(0x2f7)])||_0x5c4264['name']===_0x3a96a1[_0x5451a2(0x2a5)]),_0x1dfb0b=_0x1db533?_0x1db533[_0x5451a2(0x322)]:_0x5451a2(0x2e0);_0x4d7a51[_0x5451a2(0x316)][_0x5451a2(0x2e8)]=_0x1dfb0b,_0x4d7a51[_0x5451a2(0x316)][_0x5451a2(0x1a7)]=hexToRgba(_0x1dfb0b,0.85);let _0x5cd0a6=_0x5451a2(0x1c4)+_0x3a96a1[_0x5451a2(0x2a5)]+_0x5451a2(0x2a1)+_0x3a96a1[_0x5451a2(0x2ce)]+'\x20-\x20'+_0x3a96a1[_0x5451a2(0x214)]+_0x5451a2(0x227);return _0x3a96a1['seriesId']&&(_0x5cd0a6+=_0x5451a2(0x221)),_0x3a96a1[_0x5451a2(0x25b)]==='completed'&&(_0x5cd0a6+=_0x5451a2(0x2a8)),_0x4d7a51[_0x5451a2(0x204)]=_0x5cd0a6,_0x4d7a51[_0x5451a2(0x226)]=_0x4d3395=>{const _0x500870=_0x5451a2;_0x4d3395[_0x500870(0x21f)](),openEdit(_0x3a96a1);},_0x4d7a51;}function attachLongPressHandler(_0x495e73,_0x566c85){const _0x1265dd=a2_0x59ccb9;let _0x21faef=0x0,_0x2b81be=null;const _0x36565c=_0x9d762b=>{const _0xdc15ae=a2_0x2ff6;if(_0x9d762b[_0xdc15ae(0x256)]['closest']('.event-card'))return;isScrolling=![],_0x21faef=_0x9d762b['touches']?_0x9d762b[_0xdc15ae(0x318)][0x0][_0xdc15ae(0x1b1)]:_0x9d762b[_0xdc15ae(0x1b1)],_0x2b81be=setTimeout(()=>{const _0xf2a0b2=_0xdc15ae;if(!isScrolling){navigator[_0xf2a0b2(0x24c)]?.(0x32);const _0x5b4322=_0x495e73[_0xf2a0b2(0x28d)](),_0x139f8d=Math[_0xf2a0b2(0x1c6)]((_0x21faef-_0x5b4322['top'])/GRID_H);_0x566c85['setHours'](_0x139f8d,0x0),openAddSession(_0x566c85);}},0x1f4);},_0x4b6769=()=>{isScrolling=!![],clearTimeout(_0x2b81be);},_0x196734=()=>{clearTimeout(_0x2b81be);};_0x495e73[_0x1265dd(0x220)](_0x1265dd(0x260),_0x36565c,{'passive':!![]}),_0x495e73[_0x1265dd(0x220)]('touchmove',_0x4b6769,{'passive':!![]}),_0x495e73[_0x1265dd(0x220)](_0x1265dd(0x254),_0x196734),_0x495e73[_0x1265dd(0x220)](_0x1265dd(0x208),_0x36565c),_0x495e73[_0x1265dd(0x220)](_0x1265dd(0x1de),_0x4b6769),_0x495e73['addEventListener'](_0x1265dd(0x249),_0x196734);}function cancelLongPress(){}function handleInfiniteScroll(){const _0xb309ac=a2_0x59ccb9,_0x1c59bd=document['getElementById'](_0xb309ac(0x30c)),_0xb531a7=_0x1c59bd[_0xb309ac(0x329)],_0x14eaf7=_0x1c59bd[_0xb309ac(0x1f7)],_0x535974=_0x1c59bd[_0xb309ac(0x1a4)];if(_0x14eaf7-(_0xb531a7+_0x535974)<0x12c){const _0x2b036c=endOffset;endOffset+=0xe,renderDayRange(_0x2b036c+0x1,endOffset),reRenderBlocks();}if(_0xb531a7<0x12c){const _0x4c7048=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4c7048-0x1),_0x1c59bd[_0xb309ac(0x329)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x36b03e,_0x4ff575){const _0x26fa53=a2_0x59ccb9,_0x4b4a86=document[_0x26fa53(0x205)](_0x26fa53(0x2d7)),_0x30fcf1=document[_0x26fa53(0x205)](_0x26fa53(0x1fa)),_0x25efdd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x52ac35=new Date();_0x52ac35[_0x26fa53(0x2ef)](0x0,0x0,0x0,0x0);const _0x413bc2=getLocalDateStr(new Date()),_0x2784e9=document[_0x26fa53(0x1c5)](),_0x5b1614=document[_0x26fa53(0x1c5)]();for(let _0x148a6f=_0x36b03e;_0x148a6f<=_0x4ff575;_0x148a6f++){const _0x30dad1=new Date(_0x52ac35);_0x30dad1[_0x26fa53(0x1a3)](_0x30dad1[_0x26fa53(0x1ba)]()+_0x148a6f);const _0x34561d=getLocalDateStr(_0x30dad1);let _0x536303=_0x30dad1['getDay']()-0x1;if(_0x536303===-0x1)_0x536303=0x6;const _0x32b17e=_0x34561d===_0x413bc2,_0x24cf3a=document[_0x26fa53(0x283)](_0x26fa53(0x28a));_0x24cf3a[_0x26fa53(0x2c9)]=_0x26fa53(0x26b)+(_0x32b17e?_0x26fa53(0x2c3):''),_0x24cf3a['id']=_0x26fa53(0x309)+_0x34561d,_0x24cf3a[_0x26fa53(0x1bc)]('data-date',_0x34561d),_0x24cf3a[_0x26fa53(0x204)]='<div\x20class=\x22dch-day\x22>'+_0x25efdd[_0x536303]+'</div><div\x20class=\x22dch-num\x22>'+_0x30dad1[_0x26fa53(0x1ba)]()+_0x26fa53(0x228)+_0x34561d+_0x26fa53(0x2ae),_0x24cf3a[_0x26fa53(0x226)]=()=>openDayOptions(_0x34561d,_0x25efdd[_0x536303]+'\x20'+_0x30dad1['getDate']()),_0x2784e9['appendChild'](_0x24cf3a);const _0x33d9c8=document['createElement']('div');_0x33d9c8[_0x26fa53(0x2c9)]=_0x26fa53(0x1f8)+(_0x32b17e?_0x26fa53(0x2c3):''),_0x33d9c8['setAttribute'](_0x26fa53(0x2fc),_0x34561d),_0x33d9c8['setAttribute'](_0x26fa53(0x20c),_0x536303),renderEventsForColumn(_0x33d9c8,_0x34561d,_0x536303),attachLongPressHandler(_0x33d9c8,_0x30dad1),_0x5b1614[_0x26fa53(0x236)](_0x33d9c8),updateDayStats(_0x34561d);}_0x4b4a86[_0x26fa53(0x26c)](_0x2784e9,_0x4b4a86['firstChild']),_0x30fcf1['insertBefore'](_0x5b1614,_0x30fcf1[_0x26fa53(0x2f9)](_0x26fa53(0x1eb)));}function validateAppointment(_0xfcff7b,_0x5ababf,_0x8d145f,_0x985b94,_0x44d74b){const _0x42b1dc=a2_0x59ccb9,[_0x3879b7,_0x47679d]=_0x5ababf[_0x42b1dc(0x237)](':')[_0x42b1dc(0x20f)](Number),[_0x476300,_0x30433f]=_0x8d145f['split'](':')[_0x42b1dc(0x20f)](Number),_0x27a6bb=_0x3879b7*0x3c+_0x47679d,_0x177f97=_0x476300*0x3c+_0x30433f,_0x3fc220=String(_0x44d74b);let _0x9471e=![],_0x3c9f29='';for(let _0x3623d of sessions){if(_0x3623d['dateStr']!==_0xfcff7b)continue;if(_0x3623d[_0x42b1dc(0x25b)]==='cancelled')continue;if(_0x985b94&&String(_0x3623d['id'])===String(_0x985b94))continue;const [_0x43bbb2,_0x18c411]=_0x3623d[_0x42b1dc(0x2ce)]['split'](':')['map'](Number),[_0x4a85fb,_0x43a29c]=_0x3623d['end']['split'](':')[_0x42b1dc(0x20f)](Number),_0x5cea2c=_0x43bbb2*0x3c+_0x18c411,_0x5e961f=_0x4a85fb*0x3c+_0x43a29c;if(Math['max'](_0x27a6bb,_0x5cea2c)<Math[_0x42b1dc(0x2cb)](_0x177f97,_0x5e961f)){if(_0x3623d[_0x42b1dc(0x2f7)]&&String(_0x3623d[_0x42b1dc(0x2f7)])===_0x3fc220)return{'valid':![],'msg':_0x42b1dc(0x21c)+_0x3623d['client']+_0x42b1dc(0x2f3)};_0x9471e=!![],_0x3c9f29=_0x3623d[_0x42b1dc(0x2a5)];}}if(_0x9471e)return{'valid':!![],'warning':_0x42b1dc(0x1f2)+_0x3c9f29};return{'valid':!![]};}function updateDateDisplay(){const _0xc0861=a2_0x59ccb9,_0x1af885=document[_0xc0861(0x205)](_0xc0861(0x26a))[_0xc0861(0x222)],_0x2bb807=document[_0xc0861(0x205)]('sheetDateSubtitle');if(!_0x1af885){_0x2bb807['textContent']='';return;}const [_0x45a461,_0x46c656,_0x5efa46]=_0x1af885[_0xc0861(0x237)]('-')[_0xc0861(0x20f)](Number),_0xaed5c8=new Date(_0x45a461,_0x46c656-0x1,_0x5efa46),_0x740813={'weekday':_0xc0861(0x24d),'day':_0xc0861(0x22c),'month':'long','year':'numeric'};let _0x2dbc6a=_0xaed5c8[_0xc0861(0x277)](_0xc0861(0x24f),_0x740813);_0x2dbc6a=_0x2dbc6a['charAt'](0x0)[_0xc0861(0x246)]()+_0x2dbc6a[_0xc0861(0x1c1)](0x1),_0x2bb807[_0xc0861(0x2d2)]=_0x2dbc6a;}function autoSetEndTime(){const _0x52fdb1=a2_0x59ccb9,_0x353340=document[_0x52fdb1(0x205)](_0x52fdb1(0x2f8))[_0x52fdb1(0x222)];if(!_0x353340)return;const [_0x7a98d5,_0x8a3243]=_0x353340[_0x52fdb1(0x237)](':')['map'](Number);let _0x41a5de=_0x7a98d5+0x1;if(_0x41a5de>0x17)_0x41a5de=0x0;const _0x5568ff=String(_0x41a5de)[_0x52fdb1(0x2ac)](0x2,'0')+':'+String(_0x8a3243)[_0x52fdb1(0x2ac)](0x2,'0');document[_0x52fdb1(0x205)]('inpEnd')[_0x52fdb1(0x222)]=_0x5568ff;}function populateClientSelect(){const _0x562916=a2_0x59ccb9,_0x38a4ee=document[_0x562916(0x205)](_0x562916(0x268));_0x38a4ee['innerHTML']='';if(clients[_0x562916(0x1c0)]===0x0){const _0x42a6ee=document['createElement']('option');_0x42a6ee[_0x562916(0x1d2)]=_0x562916(0x250),_0x38a4ee[_0x562916(0x236)](_0x42a6ee);return;}clients[_0x562916(0x280)](_0x4f10a1=>{const _0x291383=_0x562916,_0x2273f2=document[_0x291383(0x283)]('option');_0x2273f2[_0x291383(0x222)]=_0x4f10a1[_0x291383(0x1d6)],_0x2273f2[_0x291383(0x2d2)]=_0x4f10a1[_0x291383(0x1d6)],_0x38a4ee[_0x291383(0x236)](_0x2273f2);});}function openActionSheet(_0x147714){const _0x1ed01b=a2_0x59ccb9,_0x351ff4=document[_0x1ed01b(0x205)](_0x1ed01b(0x27f)),_0x1bf52c=document['getElementById'](_0x1ed01b(0x305)),_0x25e9de=document[_0x1ed01b(0x205)]('asTitle'),_0x3f032a=document[_0x1ed01b(0x205)](_0x1ed01b(0x251)),_0x59f95c=document[_0x1ed01b(0x205)](_0x1ed01b(0x297));_0x1bf52c[_0x1ed01b(0x288)]['add'](_0x1ed01b(0x294)),_0x351ff4[_0x1ed01b(0x288)]['add']('open');if(_0x147714===_0x1ed01b(0x286))_0x25e9de[_0x1ed01b(0x2d2)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x3f032a['textContent']=_0x1ed01b(0x1a6),_0x3f032a[_0x1ed01b(0x226)]=()=>{const _0x4fd6f1=_0x1ed01b;closeActionSheet(),updateSeriesBatch(_0x4fd6f1(0x2c7),tempSessionData);},_0x59f95c[_0x1ed01b(0x2d2)]=_0x1ed01b(0x2fe),_0x59f95c['onclick']=()=>{const _0x341583=_0x1ed01b;closeActionSheet(),updateSeriesBatch(_0x341583(0x327),tempSessionData);};else _0x147714===_0x1ed01b(0x282)&&(_0x25e9de['textContent']=_0x1ed01b(0x23a),_0x3f032a['textContent']=_0x1ed01b(0x1a6),_0x3f032a[_0x1ed01b(0x2c9)]=_0x1ed01b(0x253),_0x3f032a['onclick']=()=>{const _0x3582b3=_0x1ed01b;closeActionSheet(),commitDelete(_0x3582b3(0x2c7),sessions[_0x3582b3(0x310)](_0x306517=>_0x306517['id']===editingId));},_0x59f95c[_0x1ed01b(0x2d2)]=_0x1ed01b(0x2fe),_0x59f95c[_0x1ed01b(0x2c9)]='as-button\x20danger\x20bold',_0x59f95c['onclick']=()=>{const _0xfd9357=_0x1ed01b;closeActionSheet(),commitDelete(_0xfd9357(0x327),sessions[_0xfd9357(0x310)](_0x309e11=>_0x309e11['id']===editingId));});}function closeActionSheet(){const _0x24103b=a2_0x59ccb9;document['getElementById']('actionSheet')[_0x24103b(0x288)]['remove']('open'),document['getElementById'](_0x24103b(0x305))[_0x24103b(0x288)][_0x24103b(0x25f)](_0x24103b(0x294));}function openSettings(){const _0x5b0087=a2_0x59ccb9;openSheet(_0x5b0087(0x27a));}function saveCoachSettings(){const _0x479c65=a2_0x59ccb9,_0x57e32a=document[_0x479c65(0x205)](_0x479c65(0x245))['value'];localStorage[_0x479c65(0x1d0)]('uc_settings_cancel_window',_0x57e32a),console[_0x479c65(0x1f5)](_0x479c65(0x323),_0x57e32a),DataManager[_0x479c65(0x2a4)](_0x479c65(0x2bb),{'settings':{'cancel_window':_0x57e32a}})[_0x479c65(0x319)](_0x597c0c=>{const _0x335049=_0x479c65;console['error'](_0x335049(0x211),_0x597c0c),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4de3b0=a2_0x59ccb9,_0x4068ac=localStorage[_0x4de3b0(0x27b)](_0x4de3b0(0x23e));_0x4068ac&&(document[_0x4de3b0(0x205)](_0x4de3b0(0x245))[_0x4de3b0(0x222)]=_0x4068ac);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x177f83=a2_0x59ccb9,_0x2932fe=document[_0x177f83(0x205)](_0x177f83(0x1d7))[_0x177f83(0x222)],_0x155639=document[_0x177f83(0x205)](_0x177f83(0x284))[_0x177f83(0x222)],_0x385955=document[_0x177f83(0x205)](_0x177f83(0x302))[_0x177f83(0x222)],_0x4a3504=document[_0x177f83(0x205)]('rangeEndTime')[_0x177f83(0x222)];if(!_0x2932fe||!_0x155639||!_0x385955||!_0x4a3504)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x201cbe=_0x2932fe+'T'+_0x155639,_0x6f14e=_0x385955+'T'+_0x4a3504;if(_0x201cbe>=_0x6f14e)return alert(_0x177f83(0x2f2));specialRanges[_0x177f83(0x1cc)]({'start':_0x201cbe,'end':_0x6f14e}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x177f83(0x1fd)](),DataManager[_0x177f83(0x2a4)](_0x177f83(0x2bb),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x20b3ca){const _0x1e9580=a2_0x59ccb9;specialRanges[_0x1e9580(0x271)](_0x20b3ca,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1e9580(0x2a4)](_0x1e9580(0x2bb),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5c521b=a2_0x59ccb9;document['getElementById'](_0x5c521b(0x1d7))[_0x5c521b(0x222)]='',document[_0x5c521b(0x205)](_0x5c521b(0x284))['value']=_0x5c521b(0x247),document[_0x5c521b(0x205)](_0x5c521b(0x302))['value']='',document[_0x5c521b(0x205)](_0x5c521b(0x2bd))[_0x5c521b(0x222)]=_0x5c521b(0x30a);}function renderRangesList(){const _0x33561c=a2_0x59ccb9,_0x2b7c8a=document[_0x33561c(0x205)](_0x33561c(0x22b));_0x2b7c8a['innerHTML']='';if(!specialRanges[_0x33561c(0x1c0)]){_0x2b7c8a['innerHTML']=_0x33561c(0x279);return;}specialRanges[_0x33561c(0x280)]((_0x129cca,_0x543e7e)=>{const _0x341da6=_0x33561c,_0x2ec411=document[_0x341da6(0x283)](_0x341da6(0x28a));_0x2ec411[_0x341da6(0x2c9)]=_0x341da6(0x2b7);const _0x291235=_0x584594=>{const _0x1eac20=_0x341da6,_0x5722c4=new Date(_0x584594);return _0x5722c4[_0x1eac20(0x1ba)]()+'.'+String(_0x5722c4[_0x1eac20(0x2bf)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x5722c4[_0x1eac20(0x2dd)]())[_0x1eac20(0x2ac)](0x2,'0')+':'+String(_0x5722c4[_0x1eac20(0x243)]())[_0x1eac20(0x2ac)](0x2,'0');};_0x2ec411[_0x341da6(0x204)]=_0x341da6(0x24b)+_0x291235(_0x129cca['start'])+'\x20‚Äî\x20'+_0x291235(_0x129cca[_0x341da6(0x214)])+_0x341da6(0x223)+_0x543e7e+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x2b7c8a['appendChild'](_0x2ec411);});}function scrollToToday(){const _0x4c6d89=a2_0x59ccb9,_0x124637=getLocalDateStr(new Date()),_0xae4de3=document[_0x4c6d89(0x205)](_0x4c6d89(0x309)+_0x124637),_0x3e09a7=document[_0x4c6d89(0x205)](_0x4c6d89(0x30c));if(_0xae4de3&&_0x3e09a7){const _0x42631a=_0x3e09a7['clientWidth'],_0x493d26=_0xae4de3[_0x4c6d89(0x1d9)],_0x4825a1=_0xae4de3[_0x4c6d89(0x1fe)];_0x3e09a7['scrollLeft']=_0x493d26-_0x42631a/0x2+_0x4825a1/0x2,_0x3e09a7[_0x4c6d89(0x22d)]=0x9*GRID_H;}}function a2_0x2ff6(_0x211e04,_0x3e7b74){_0x211e04=_0x211e04-0x1a2;const _0x53dca2=a2_0x4bdb();let _0x22ce3c=_0x53dca2[_0x211e04];return _0x22ce3c;}function onScroll(){const _0x448901=a2_0x59ccb9,_0x28b4c6=document[_0x448901(0x205)](_0x448901(0x30c)),_0x950b1f=document[_0x448901(0x235)](_0x448901(0x29b));for(let _0x127f28 of _0x950b1f)if(_0x127f28[_0x448901(0x1d9)]>=_0x28b4c6[_0x448901(0x329)]){const _0x29acf3=new Date(_0x127f28[_0x448901(0x298)]('data-date'));document[_0x448901(0x205)](_0x448901(0x21e))[_0x448901(0x2d2)]=_0x29acf3[_0x448901(0x295)]('ru',{'month':_0x448901(0x24d)})[_0x448901(0x246)]()+'\x20'+_0x29acf3[_0x448901(0x2f1)]();break;}}function a2_0x4bdb(){const _0x477d69=['touchstart','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','(((.+)+)+)+$','patternInfoBox','rgba(48,\x20209,\x2088,\x200.15)','</b>\x0a\x0a','<b>‚úÖ\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','inpClient','left','inpDate','day-col-header\x20','insertBefore','init_load','btnStatusToggle','time-label','toast','splice','px\x200px','btn-status-toggle\x20undo-mode','pe-col-header','WebApp','BackButton','toLocaleDateString','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','settingsSheet','getItem','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','charAt','search','actionSheet','forEach','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','delete','createElement','rangeStartTime','getDay','save','DOMContentLoaded','classList','toString','div','T23:59:59','sheetTitle','getBoundingClientRect','create','–ò–Ω—Ñ–æ','backgroundPosition','event-card','\x20‚Äî\x20','zIndex','active','toLocaleString','126661hsSyCQ','asBtnSeries','getAttribute','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','4sGoqSf','.day-col-header','month','anPercent','10px','valid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','</div><div\x20class=\x22ev-time\x22>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','\x20-\x20','fetchFromServer','client','187394NoVcSf','exceptions','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','pe-time-label','loadLocal','padStart','inpRecurring','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rgba(','[Notify]\x20Client\x20SWAP\x20detected','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','disableVerticalSwipes','borderColor','777294eDyjCJ','.dch-stats-fill','#fff','range-item','pattern','668373MpRYQt','calendar','save_settings','timeColumn','rangeEndTime','add','getMonth','dayOptionsTitle','send','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','today','5cRYMPb','doLoadPercent','v9.0-BATCH-CALENDAR','single','week','className','keys','min','msg','10px\x2010px\x200\x200','start','client-stat-card','seriesCountContainer','null','textContent','[Notify]\x20Attempting\x20to\x20send:','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','batch_sync','cancel_window','daysHeaderTrack','dayOptionsSheet','</span>\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anDonutCircle','anStart','getHours','blocked-range-part\x20stripe-bg','inpEnd','#0a84ff','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','setHeaderColor','Error\x20setting\x20back\x20button:','anEnd','colIndex','display','borderLeftColor','pe-cell\x20','height','day-off-overlay\x20stripe-bg','onClick','doWorkHours','ranges','setHours','blocked-slot\x20stripe-bg','getFullYear','–û—à–∏–±–∫–∞\x20–¥–∞—Ç',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','analyticsList','[Notify]\x20Error:\x20Text\x20generation\x20failed','[API\x20','clientId','inpStart','querySelector','33021emhoVD','doEventsList','data-date','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','doDateHeader','100%',':00','rangeEndDate','cancel','globalTimeLine','actionSheetOverlay','show','mini','stat-','header-','23:59','.sheet','matrixViewport','Telegram','undefined','inpSeriesCount','find','#gridColumns\x20.day-column','localeCompare','width','580uhkcit','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','style','all','touches','catch','error','timeLineBadge','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','uc_clients_v9','setBackgroundColor','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','then','color','[Settings]\x20Cancel\x20window\x20set\x20to:','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','data','random','series','[Sync]\x20Loading\x20','scrollLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','...','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','indexOf','setDate','clientWidth','parse','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','backgroundColor','scroll',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','warning','substr','pe-corner','planned','sessionSheet','getTime','clientY','formatDate','<div\x20class=\x22dch-day\x22>','success','var(--acc-current)','%\x20+\x202px)','total','807592ZGfjYJ','borderRadius','getDate','syncLoad','setAttribute','peGrid','#050505','1016925XTVaBF','length','slice','toast-notification\x20','now','<div\x20class=\x22ev-title\x22>','createDocumentFragment','floor','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','Local\x20Load\x20Error','POST','inpNote','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','push','btnDelete','%\x20-\x204px)','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','setItem','isArray','text','btnDayToggle','syncBatch','px\x20-','name','rangeStartDate','uc_sessions_v9','offsetLeft','off','recurringOptionContainer','</div><div\x20class=\x22dch-num\x22>','warn','mousemove','mergeServerData','user','toastMessage','cancelled','update','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','from','[Notify]\x20Network\x20Failed','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','filter','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','.day-column','patternEditor','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','var(--acc-orange)','complete','block','max','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','guest','strokeDashoffset','log','done','scrollWidth','day-column\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','gridColumns','initDataUnsafe','startsWith','saveLocally','offsetWidth','deleted','dateStr','\x20status-completed','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','expand','innerHTML','getElementById','var(--acc-red)','completed','mousedown','rgba(255,\x2069,\x2058,\x200.3)','offClick','background','data-day-idx','sid',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','map','router.html','Save\x20settings\x20error:','initData','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','end','top',':00</span>','[Notify]\x20Server\x20Response:','setMonth','round','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','anCustomDates','headerMonth','stopPropagation','addEventListener','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','value','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','.period-switch\x20.p-btn','btn-primary\x20btn-danger','onclick','</div>','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–£—Å–ø–µ—à–Ω–æ','rangesList','numeric','scrollTop','[Notify]\x20Detected\x20Client\x20ID:','seriesId','Unknown','location','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','.day-off-overlay','querySelectorAll','appendChild','split','ready','custom','–£–¥–∞–ª–µ–Ω–∏–µ','note','open','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','uc_settings_cancel_window','calc(','constructor','toFixed','overlay','getMinutes','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','settingCancelWindow','toUpperCase','00:00','[Series]\x20Skipped\x20','mouseup','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','vibrate','long','anTotalStats','ru-RU','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','asBtnOne','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','as-button\x20danger','touchend','stringify','target','checked','doBusyHours','none','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','status','statLoadCard','settings','sort','remove'];a2_0x4bdb=function(){return _0x477d69;};return a2_0x4bdb();}function showToast(_0x402d79,_0x4d8f4f=![]){const _0x51af7f=a2_0x59ccb9,_0x58ce13=document[_0x51af7f(0x205)](_0x51af7f(0x270));_0x58ce13['className']=_0x51af7f(0x1c2)+(_0x4d8f4f?_0x51af7f(0x1b4):''),document['getElementById']('toastTitle')[_0x51af7f(0x2d2)]=_0x4d8f4f?_0x51af7f(0x22a):_0x51af7f(0x28f),document['getElementById'](_0x51af7f(0x1e1))[_0x51af7f(0x2d2)]=_0x402d79,_0x58ce13[_0x51af7f(0x288)][_0x51af7f(0x2be)](_0x51af7f(0x306)),setTimeout(()=>{const _0x9ad97b=_0x51af7f;_0x58ce13['classList'][_0x9ad97b(0x25f)]('show');},0xbb8);}function openDayOptions(_0x3c26f0,_0x153c91){const _0x52638d=a2_0x59ccb9;selectedDayForOptions=_0x3c26f0,document[_0x52638d(0x205)](_0x52638d(0x2c0))[_0x52638d(0x2d2)]=_0x153c91,openSheet(_0x52638d(0x2d8));}function toggleDayOff(){const _0x57a484=a2_0x59ccb9;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x57a484(0x1da),reRenderBlocks(),closeAllSheets(),DataManager[_0x57a484(0x1fd)](),DataManager[_0x57a484(0x2a4)](_0x57a484(0x2bb),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5bef3f=a2_0x59ccb9;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5bef3f(0x1fd)](),DataManager[_0x5bef3f(0x2a4)](_0x5bef3f(0x2bb),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xbd4ce6){const _0x1e3292=a2_0x59ccb9;document['getElementById'](_0x1e3292(0x242))[_0x1e3292(0x288)]['add'](_0x1e3292(0x294)),document[_0x1e3292(0x205)](_0xbd4ce6)[_0x1e3292(0x288)][_0x1e3292(0x2be)]('open');}function closeAllSheets(){const _0x15912c=a2_0x59ccb9;document[_0x15912c(0x205)]('overlay')[_0x15912c(0x288)][_0x15912c(0x25f)](_0x15912c(0x294)),document[_0x15912c(0x235)](_0x15912c(0x30b))[_0x15912c(0x280)](_0x5b95fc=>_0x5b95fc[_0x15912c(0x288)][_0x15912c(0x25f)](_0x15912c(0x23c)));}function openPatternEditor(){const _0x448acb=a2_0x59ccb9;closeAllSheets(),document['getElementById'](_0x448acb(0x1ec))[_0x448acb(0x288)][_0x448acb(0x2be)](_0x448acb(0x23c)),renderPatternEditor();}function closePatternEditor(){const _0x5b6c7b=a2_0x59ccb9;document[_0x5b6c7b(0x205)](_0x5b6c7b(0x1ec))[_0x5b6c7b(0x288)][_0x5b6c7b(0x25f)](_0x5b6c7b(0x23c));}function savePattern(){const _0xe04a61=a2_0x59ccb9;document[_0xe04a61(0x205)]('patternEditor')['classList'][_0xe04a61(0x25f)](_0xe04a61(0x23c)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0xe04a61(0x2bb),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x591852=a2_0x59ccb9,_0x2c3a12=document[_0x591852(0x205)](_0x591852(0x1bd));_0x2c3a12[_0x591852(0x204)]='';const _0x31476f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2104c6=document[_0x591852(0x283)]('div');_0x2104c6[_0x591852(0x2c9)]=_0x591852(0x1ad),_0x2c3a12[_0x591852(0x236)](_0x2104c6),_0x31476f['forEach']((_0x83cf80,_0x26714f)=>{const _0x110f2d=_0x591852,_0x3a3c3e=document[_0x110f2d(0x283)](_0x110f2d(0x28a));_0x3a3c3e[_0x110f2d(0x2c9)]=_0x110f2d(0x274),_0x3a3c3e[_0x110f2d(0x204)]=_0x83cf80+_0x110f2d(0x2d4),_0x3a3c3e[_0x110f2d(0x226)]=()=>toggleColPattern(_0x26714f),_0x2c3a12[_0x110f2d(0x236)](_0x3a3c3e);});for(let _0x4960a6=0x0;_0x4960a6<0x18;_0x4960a6++){const _0x29bc4c=document[_0x591852(0x283)](_0x591852(0x28a));_0x29bc4c[_0x591852(0x2c9)]=_0x591852(0x2aa),_0x29bc4c[_0x591852(0x204)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x4960a6)[_0x591852(0x2ac)](0x2,'0')+':00',_0x29bc4c[_0x591852(0x226)]=()=>toggleRowPattern(_0x4960a6),_0x2c3a12[_0x591852(0x236)](_0x29bc4c);for(let _0x2c7d77=0x0;_0x2c7d77<0x7;_0x2c7d77++){const _0x203014=document['createElement'](_0x591852(0x28a)),_0x222218=(availabilityPattern[_0x2c7d77]||[])['includes'](_0x4960a6),_0x346aa1=!_0x222218;_0x203014[_0x591852(0x2c9)]=_0x591852(0x2e9)+(_0x346aa1?_0x591852(0x294):''),_0x203014['onclick']=()=>toggleSinglePattern(_0x2c7d77,_0x4960a6),_0x2c3a12[_0x591852(0x236)](_0x203014);}}}function toggleSinglePattern(_0x393e20,_0x231168){const _0x213083=a2_0x59ccb9;if(!availabilityPattern[_0x393e20])availabilityPattern[_0x393e20]=[];const _0x480072=availabilityPattern[_0x393e20],_0x5b484c=_0x480072[_0x213083(0x1a2)](_0x231168);_0x5b484c===-0x1?_0x480072[_0x213083(0x1cc)](_0x231168):_0x480072[_0x213083(0x271)](_0x5b484c,0x1),renderPatternEditor();}function toggleColPattern(_0x476035){const _0x7a07d5=a2_0x59ccb9;if(!availabilityPattern[_0x476035])availabilityPattern[_0x476035]=[];const _0x11e0d5=availabilityPattern[_0x476035];_0x11e0d5[_0x7a07d5(0x1c0)]===0x0?availabilityPattern[_0x476035]=Array[_0x7a07d5(0x1e5)]({'length':0x18},(_0x5ecd78,_0x5aee3f)=>_0x5aee3f):availabilityPattern[_0x476035]=[],renderPatternEditor();}function toggleRowPattern(_0x480308){const _0xde4811=a2_0x59ccb9;let _0x23041f=!![];for(let _0x262a81=0x0;_0x262a81<0x7;_0x262a81++){if((availabilityPattern[_0x262a81]||[])['includes'](_0x480308)){_0x23041f=![];break;}}for(let _0x3e4c85=0x0;_0x3e4c85<0x7;_0x3e4c85++){if(!availabilityPattern[_0x3e4c85])availabilityPattern[_0x3e4c85]=[];const _0x17c076=availabilityPattern[_0x3e4c85]['indexOf'](_0x480308);if(_0x23041f){if(_0x17c076===-0x1)availabilityPattern[_0x3e4c85][_0xde4811(0x1cc)](_0x480308);}else{if(_0x17c076!==-0x1)availabilityPattern[_0x3e4c85][_0xde4811(0x271)](_0x17c076,0x1);}}renderPatternEditor();}function renderPCol(_0x171ccf,_0x23d198){const _0x5e1272=a2_0x59ccb9;_0x171ccf['innerHTML']='';const _0x47b734=Math[_0x5e1272(0x219)](_0x171ccf[_0x5e1272(0x1d9)]);(availabilityPattern[_0x23d198]||[])['forEach'](_0x43d02a=>{const _0x32e8a7=_0x5e1272,_0x2553bd=document['createElement'](_0x32e8a7(0x28a));_0x2553bd[_0x32e8a7(0x2c9)]=_0x32e8a7(0x2f0);const _0xebeb0e=_0x43d02a*GRID_H;_0x2553bd[_0x32e8a7(0x316)][_0x32e8a7(0x215)]=_0xebeb0e+'px',_0x2553bd[_0x32e8a7(0x316)][_0x32e8a7(0x290)]='-'+_0x47b734+_0x32e8a7(0x1d5)+_0xebeb0e+'px',_0x2553bd['onclick']=_0x4859d1=>{_0x4859d1['stopPropagation'](),toggleSinglePattern(_0x23d198,_0x43d02a);},_0x171ccf[_0x32e8a7(0x236)](_0x2553bd);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3a85a8=a2_0x59ccb9,_0x5e42f8=new Date(),_0x4e7192=document[_0x3a85a8(0x205)](_0x3a85a8(0x304)),_0x128e57=document[_0x3a85a8(0x205)](_0x3a85a8(0x31b)),_0x17e781=(_0x5e42f8[_0x3a85a8(0x2dd)]()*0x3c+_0x5e42f8[_0x3a85a8(0x243)]())/0x3c*GRID_H;_0x4e7192['style'][_0x3a85a8(0x215)]=_0x17e781+'px',_0x4e7192[_0x3a85a8(0x316)][_0x3a85a8(0x2e7)]='block',_0x128e57[_0x3a85a8(0x2d2)]=String(_0x5e42f8[_0x3a85a8(0x2dd)]())[_0x3a85a8(0x2ac)](0x2,'0')+':'+String(_0x5e42f8[_0x3a85a8(0x243)]())[_0x3a85a8(0x2ac)](0x2,'0'),_0x128e57[_0x3a85a8(0x316)][_0x3a85a8(0x2e7)]=_0x3a85a8(0x1f0),_0x128e57['style'][_0x3a85a8(0x215)]=_0x17e781+'px';}document[a2_0x59ccb9(0x220)](a2_0x59ccb9(0x287),init);function openDayOptions(_0x56e249){const _0x340231=a2_0x59ccb9;selectedDayForOptions=_0x56e249;const _0xf17050=new Date(_0x56e249),_0x539cad={'weekday':_0x340231(0x24d),'day':'numeric','month':_0x340231(0x24d),'year':_0x340231(0x22c)},_0x59415a=_0xf17050[_0x340231(0x277)](_0x340231(0x24f),_0x539cad);document[_0x340231(0x205)](_0x340231(0x2ff))[_0x340231(0x2d2)]=_0x59415a[_0x340231(0x27d)](0x0)['toUpperCase']()+_0x59415a[_0x340231(0x1c1)](0x1);let _0x374c48=_0xf17050['getDay']()-0x1;if(_0x374c48===-0x1)_0x374c48=0x6;const _0x30bcab=availabilityPattern[_0x374c48]||[],_0x2f79a8=0x18-_0x30bcab[_0x340231(0x1c0)],_0x42a00f=_0x2f79a8*0x3c,_0x5f15e0=sessions[_0x340231(0x1e8)](_0x476769=>_0x476769[_0x340231(0x200)]===_0x56e249&&_0x476769[_0x340231(0x25b)]!=='cancelled');let _0x3fbbdd=_0x5f15e0[_0x340231(0x20f)](_0x2bd215=>{const _0x2bb3db=_0x340231,[_0xb27d29,_0xf76993]=_0x2bd215[_0x2bb3db(0x2ce)][_0x2bb3db(0x237)](':')[_0x2bb3db(0x20f)](Number),[_0x4124de,_0x4b5d20]=_0x2bd215[_0x2bb3db(0x214)]['split'](':')[_0x2bb3db(0x20f)](Number);return[_0xb27d29*0x3c+_0xf76993,_0x4124de*0x3c+_0x4b5d20];});_0x3fbbdd[_0x340231(0x25e)]((_0x173fdb,_0x5ac317)=>_0x173fdb[0x0]-_0x5ac317[0x0]);let _0x16dfa6=[];if(_0x3fbbdd['length']>0x0){let _0x1d5748=_0x3fbbdd[0x0];for(let _0x45c21d=0x1;_0x45c21d<_0x3fbbdd[_0x340231(0x1c0)];_0x45c21d++){_0x3fbbdd[_0x45c21d][0x0]<_0x1d5748[0x1]?_0x1d5748[0x1]=Math['max'](_0x1d5748[0x1],_0x3fbbdd[_0x45c21d][0x1]):(_0x16dfa6['push'](_0x1d5748),_0x1d5748=_0x3fbbdd[_0x45c21d]);}_0x16dfa6[_0x340231(0x1cc)](_0x1d5748);}let _0x1c7aaa=0x0;_0x16dfa6[_0x340231(0x280)](_0x41aea7=>_0x1c7aaa+=_0x41aea7[0x1]-_0x41aea7[0x0]),document[_0x340231(0x205)](_0x340231(0x2ed))[_0x340231(0x2d2)]=formatMinsToHrs(_0x42a00f),document[_0x340231(0x205)](_0x340231(0x258))[_0x340231(0x2d2)]=formatMinsToHrs(_0x1c7aaa);const _0x16874c=_0x42a00f>0x0?Math[_0x340231(0x219)](_0x1c7aaa/_0x42a00f*0x64):0x0,_0x2e5702=document[_0x340231(0x205)](_0x340231(0x2c5));_0x2e5702[_0x340231(0x2d2)]=_0x16874c+'%';const _0x41bf9e=document['getElementById'](_0x340231(0x25c));if(_0x16874c>0x64)_0x2e5702[_0x340231(0x316)][_0x340231(0x322)]=_0x340231(0x206),_0x41bf9e[_0x340231(0x316)][_0x340231(0x2b3)]=_0x340231(0x209);else _0x16874c>0x50?(_0x2e5702[_0x340231(0x316)][_0x340231(0x322)]=_0x340231(0x1ee),_0x41bf9e[_0x340231(0x316)]['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x2e5702[_0x340231(0x316)]['color']='var(--acc-green)',_0x41bf9e[_0x340231(0x316)][_0x340231(0x2b3)]='rgba(255,255,255,0.05)');const _0x15fca0=document[_0x340231(0x205)](_0x340231(0x2fb));_0x15fca0['innerHTML']='';_0x5f15e0['length']===0x0?_0x15fca0[_0x340231(0x204)]=_0x340231(0x1ed):(_0x5f15e0[_0x340231(0x25e)]((_0x30498e,_0x448b3e)=>_0x30498e[_0x340231(0x2ce)][_0x340231(0x312)](_0x448b3e[_0x340231(0x2ce)])),_0x5f15e0['forEach'](_0x26f567=>{const _0x3cb0f8=_0x340231,_0x2667e1=clients['find'](_0x16d22f=>_0x16d22f[_0x3cb0f8(0x1d6)]===_0x26f567['client']),_0x4283cb=_0x2667e1?_0x2667e1[_0x3cb0f8(0x322)]:_0x3cb0f8(0x2b6),_0x43a856=_0x26f567[_0x3cb0f8(0x25b)]===_0x3cb0f8(0x207),_0x165432=_0x43a856?_0x3cb0f8(0x261):'',_0x55fe13=document['createElement']('div');_0x55fe13[_0x3cb0f8(0x2c9)]='de-item',_0x55fe13['style'][_0x3cb0f8(0x2e8)]=_0x4283cb,_0x55fe13[_0x3cb0f8(0x204)]=_0x3cb0f8(0x32a)+_0x26f567['start']+_0x3cb0f8(0x2a3)+_0x26f567[_0x3cb0f8(0x214)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26f567[_0x3cb0f8(0x2a5)]+_0x3cb0f8(0x229)+_0x165432+_0x3cb0f8(0x2da),_0x15fca0[_0x3cb0f8(0x236)](_0x55fe13);}));const _0x1b0dcf=document[_0x340231(0x205)](_0x340231(0x1d3)),_0x15e5be=dateExceptions[_0x56e249]===_0x340231(0x1da);_0x15e5be?(_0x1b0dcf[_0x340231(0x2d2)]=_0x340231(0x281),_0x1b0dcf['className']='btn-primary\x20btn-secondary',_0x1b0dcf[_0x340231(0x316)][_0x340231(0x322)]='var(--acc-green)',_0x1b0dcf[_0x340231(0x316)][_0x340231(0x20b)]=_0x340231(0x264)):(_0x1b0dcf[_0x340231(0x2d2)]=_0x340231(0x25a),_0x1b0dcf['className']=_0x340231(0x225),_0x1b0dcf[_0x340231(0x316)]['color']=_0x340231(0x206),_0x1b0dcf['style'][_0x340231(0x20b)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x340231(0x2d8));}let currentAnPeriod=a2_0x59ccb9(0x2c8);function openAnalytics(){const _0x378c2e=a2_0x59ccb9,_0x23a625=document['querySelector'](_0x378c2e(0x224));setAnalyticsPeriod('week',_0x23a625),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x5af238,_0x2d8a30){const _0x106514=a2_0x59ccb9;currentAnPeriod=_0x5af238,document[_0x106514(0x235)](_0x106514(0x224))[_0x106514(0x280)](_0x262c74=>_0x262c74['classList'][_0x106514(0x25f)](_0x106514(0x294)));if(_0x2d8a30)_0x2d8a30[_0x106514(0x288)][_0x106514(0x2be)](_0x106514(0x294));const _0x532277=document[_0x106514(0x205)](_0x106514(0x21d));_0x532277[_0x106514(0x316)][_0x106514(0x2e7)]=_0x5af238===_0x106514(0x239)?'flex':'none';const _0x528fe2=new Date();let _0x32e6af=new Date(),_0x1f3ba4=new Date();if(_0x5af238===_0x106514(0x2c8))_0x32e6af=getStartOfWeek(_0x528fe2),_0x1f3ba4=new Date(_0x32e6af),_0x1f3ba4[_0x106514(0x1a3)](_0x1f3ba4['getDate']()+0x6);else{if(_0x5af238===_0x106514(0x29c))_0x32e6af=new Date(_0x528fe2[_0x106514(0x2f1)](),_0x528fe2[_0x106514(0x2bf)](),0x1),_0x1f3ba4=new Date(_0x528fe2['getFullYear'](),_0x528fe2[_0x106514(0x2bf)]()+0x1,0x0);else{!document['getElementById'](_0x106514(0x2dc))[_0x106514(0x222)]&&(document['getElementById'](_0x106514(0x2dc))[_0x106514(0x222)]=getLocalDateStr(_0x528fe2),document[_0x106514(0x205)](_0x106514(0x2e5))[_0x106514(0x222)]=getLocalDateStr(_0x528fe2));refreshAnalytics();return;}}document[_0x106514(0x205)]('anStart')[_0x106514(0x222)]=getLocalDateStr(_0x32e6af),document[_0x106514(0x205)](_0x106514(0x2e5))[_0x106514(0x222)]=getLocalDateStr(_0x1f3ba4),refreshAnalytics();}function refreshAnalytics(){const _0x374b36=a2_0x59ccb9,_0x1fbf4e=document[_0x374b36(0x205)](_0x374b36(0x2dc))[_0x374b36(0x222)],_0x580181=document[_0x374b36(0x205)]('anEnd')['value'];if(!_0x1fbf4e||!_0x580181)return;const _0x299f89=sessions[_0x374b36(0x1e8)](_0x45ee12=>_0x45ee12[_0x374b36(0x200)]>=_0x1fbf4e&&_0x45ee12['dateStr']<=_0x580181&&_0x45ee12[_0x374b36(0x25b)]!==_0x374b36(0x1e2)),_0x1a9412=_0x299f89[_0x374b36(0x1c0)],_0x233aae=_0x299f89['filter'](_0x99fc7a=>_0x99fc7a[_0x374b36(0x25b)]===_0x374b36(0x207))[_0x374b36(0x1c0)],_0x20555a=_0x1a9412>0x0?Math['round'](_0x233aae/_0x1a9412*0x64):0x0;document[_0x374b36(0x205)](_0x374b36(0x29d))[_0x374b36(0x2d2)]=_0x20555a+'%',document[_0x374b36(0x205)](_0x374b36(0x24e))[_0x374b36(0x2d2)]=_0x233aae+'\x20–∏–∑\x20'+_0x1a9412+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x2fdc99=document[_0x374b36(0x205)](_0x374b36(0x2db)),_0x2b948c=0x2*Math['PI']*0x23,_0x4acb4a=_0x2b948c-_0x20555a/0x64*_0x2b948c;_0x2fdc99['style'][_0x374b36(0x1f4)]=_0x4acb4a;const _0x265c4a={};_0x299f89[_0x374b36(0x280)](_0x59e2d0=>{const _0x4e2c37=_0x374b36;if(!_0x265c4a[_0x59e2d0['client']]){const _0x2dc79d=clients[_0x4e2c37(0x310)](_0x1b501b=>_0x1b501b[_0x4e2c37(0x1d6)]===_0x59e2d0['client']);_0x265c4a[_0x59e2d0['client']]={'total':0x0,'done':0x0,'color':_0x2dc79d?_0x2dc79d['color']:_0x4e2c37(0x2b6)};}_0x265c4a[_0x59e2d0[_0x4e2c37(0x2a5)]]['total']++;if(_0x59e2d0[_0x4e2c37(0x25b)]===_0x4e2c37(0x207))_0x265c4a[_0x59e2d0['client']][_0x4e2c37(0x1f6)]++;});const _0x279f6a=document[_0x374b36(0x205)](_0x374b36(0x2f4));_0x279f6a[_0x374b36(0x204)]='';const _0x269fd8=Object['entries'](_0x265c4a)[_0x374b36(0x25e)]((_0x1d3864,_0x1e4a38)=>_0x1e4a38[0x1]['total']-_0x1d3864[0x1][_0x374b36(0x1b7)]);if(_0x269fd8[_0x374b36(0x1c0)]===0x0){_0x279f6a['innerHTML']=_0x374b36(0x244);return;}_0x269fd8['forEach'](([_0x213064,_0x3ae5d4])=>{const _0x2727d1=_0x374b36,_0x2793eb=Math[_0x2727d1(0x219)](_0x3ae5d4[_0x2727d1(0x1f6)]/_0x3ae5d4[_0x2727d1(0x1b7)]*0x64),_0x5726f5=document['createElement'](_0x2727d1(0x28a));_0x5726f5[_0x2727d1(0x2c9)]=_0x2727d1(0x2cf),_0x5726f5['style'][_0x2727d1(0x2e8)]=_0x3ae5d4['color'],_0x5726f5[_0x2727d1(0x204)]=_0x2727d1(0x2a0)+_0x213064+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3ae5d4[_0x2727d1(0x1f6)]+_0x2727d1(0x2d9)+_0x3ae5d4[_0x2727d1(0x1b7)]+_0x2727d1(0x21a)+_0x2793eb+_0x2727d1(0x232),_0x279f6a['appendChild'](_0x5726f5);});}function formatMinsToHrs(_0xa1bad3){const _0x7b3e0c=a2_0x59ccb9;if(_0xa1bad3===0x0)return'0';const _0x11390f=Math[_0x7b3e0c(0x1c6)](_0xa1bad3/0x3c),_0x1a0abe=_0xa1bad3%0x3c;if(_0x1a0abe===0x0)return _0x11390f+'—á';return _0x11390f+'—á\x20'+_0x1a0abe+'–º';}