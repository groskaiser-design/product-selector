const a2_0x3f43e6=a2_0x40d7;(function(_0x29c632,_0x4cd49b){const _0x4625ab=a2_0x40d7,_0x2a2120=_0x29c632();while(!![]){try{const _0x20741b=parseInt(_0x4625ab(0xda))/0x1+parseInt(_0x4625ab(0x12c))/0x2*(-parseInt(_0x4625ab(0xc5))/0x3)+-parseInt(_0x4625ab(0x15b))/0x4+-parseInt(_0x4625ab(0x150))/0x5+parseInt(_0x4625ab(0x9d))/0x6*(parseInt(_0x4625ab(0xfa))/0x7)+parseInt(_0x4625ab(0x146))/0x8*(-parseInt(_0x4625ab(0x116))/0x9)+-parseInt(_0x4625ab(0xd4))/0xa*(-parseInt(_0x4625ab(0x9f))/0xb);if(_0x20741b===_0x4cd49b)break;else _0x2a2120['push'](_0x2a2120['shift']());}catch(_0x247850){_0x2a2120['push'](_0x2a2120['shift']());}}}(a2_0x1d8a,0xe96f8),function initTMA(){const _0x5d4fe5=a2_0x40d7;try{const _0x5cf5ca=window[_0x5d4fe5(0x107)]?.['WebApp'];if(!_0x5cf5ca)return;_0x5cf5ca[_0x5d4fe5(0x13e)](),_0x5cf5ca[_0x5d4fe5(0x1a6)]();try{_0x5cf5ca[_0x5d4fe5(0x1f1)](_0x5d4fe5(0xbc)),_0x5cf5ca['setBackgroundColor']&&_0x5cf5ca[_0x5d4fe5(0x1c9)]('#050505');}catch(_0x4f0611){console['log'](_0x5d4fe5(0xdd),_0x4f0611);}try{_0x5cf5ca[_0x5d4fe5(0xe7)]&&(_0x5cf5ca[_0x5d4fe5(0xe7)][_0x5d4fe5(0x1b0)](),_0x5cf5ca[_0x5d4fe5(0xe7)][_0x5d4fe5(0x1c4)](),_0x5cf5ca['BackButton'][_0x5d4fe5(0x9b)](function(){const _0x35aff5=_0x5d4fe5;window[_0x35aff5(0xb8)][_0x35aff5(0xc6)]=_0x35aff5(0x6c);}));}catch(_0x17dfea){console[_0x5d4fe5(0x147)](_0x5d4fe5(0x149),_0x17dfea);}try{if(_0x5cf5ca[_0x5d4fe5(0x18e)])_0x5cf5ca[_0x5d4fe5(0x18e)]();}catch(_0x35367b){}}catch(_0x44663f){console[_0x5d4fe5(0x197)](_0x5d4fe5(0x1a8),_0x44663f);}}());function isAdmin(){const _0xd86808=a2_0x40d7;try{const _0x4f02e3=Number(window[_0xd86808(0x107)]?.[_0xd86808(0xed)]?.[_0xd86808(0x17b)]?.[_0xd86808(0x12d)]?.['id']);return _0x4f02e3===0xbaf7174;}catch(_0x460d82){return![];}}const APP_VERSION=a2_0x3f43e6(0x15d),API_URL=a2_0x3f43e6(0x1e3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3f43e6(0x172),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x3f43e6(0x94);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x454d87=a2_0x3f43e6;return window[_0x454d87(0x107)]?.[_0x454d87(0xed)]?.['initDataUnsafe']?.['user']?.['id']||_0x454d87(0x141);},'saveLocally'(){const _0x66cd=a2_0x3f43e6;try{localStorage[_0x66cd(0x1ea)](KEY_CLIENTS,JSON[_0x66cd(0x93)](clients)),localStorage[_0x66cd(0x1ea)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x66cd(0x93)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x45bc5d){console[_0x66cd(0x197)](_0x66cd(0xb3),_0x45bc5d);}},'loadLocal'(){const _0x2115cb=a2_0x3f43e6;try{const _0x41b448=localStorage[_0x2115cb(0x11e)](KEY_CLIENTS);if(_0x41b448)clients=JSON[_0x2115cb(0x1b7)](_0x41b448);const _0x381345=localStorage[_0x2115cb(0x11e)](KEY_SESSIONS);if(_0x381345)sessions=JSON[_0x2115cb(0x1b7)](_0x381345);const _0x16076f=localStorage[_0x2115cb(0x11e)](KEY_SETTINGS);if(_0x16076f){const _0x376840=JSON['parse'](_0x16076f);if(_0x376840['pattern'])availabilityPattern=_0x376840['pattern'];if(_0x376840['exceptions'])dateExceptions=_0x376840[_0x2115cb(0x11f)];if(_0x376840[_0x2115cb(0x121)])specialRanges=_0x376840[_0x2115cb(0x121)];}else{for(let _0x4407a8=0x0;_0x4407a8<0x7;_0x4407a8++)availabilityPattern[_0x4407a8]=Array['from']({'length':0xc},(_0x2d35ab,_0xede2fc)=>_0xede2fc+0x9);}}catch(_0x13c52f){console[_0x2115cb(0x197)](_0x2115cb(0x173),_0x13c52f);}},async 'fetchFromServer'(_0x2d935b,_0x2c9222={}){const _0x481782=a2_0x3f43e6,_0x5a5f72=window[_0x481782(0x107)]?.[_0x481782(0xed)],_0x278538={'action':_0x2d935b,'init_data':_0x5a5f72?.[_0x481782(0xa4)]||'',..._0x2c9222};try{const _0x12a820=await fetch(API_URL,{'method':_0x481782(0xb6),'headers':{'Content-Type':_0x481782(0xfc)},'body':JSON[_0x481782(0x93)](_0x278538)}),_0x46f281=await _0x12a820[_0x481782(0x139)]();if(!_0x46f281['ok'])throw new Error(_0x46f281[_0x481782(0x197)]||_0x481782(0xe4));return _0x46f281[_0x481782(0xc8)];}catch(_0x1b4c8e){console[_0x481782(0x197)]('[API\x20'+_0x2d935b+_0x481782(0xa7),_0x1b4c8e);throw _0x1b4c8e;}},async 'syncLoad'(){const _0x4b5567=a2_0x3f43e6,_0x4988f5=new Date(),_0x436a01=_0x4988f5[_0x4b5567(0xbf)]()+'-'+String(_0x4988f5[_0x4b5567(0x1f0)]()+0x1)['padStart'](0x2,'0'),_0x39e962=new Date(_0x4988f5);_0x39e962['setMonth'](_0x4988f5[_0x4b5567(0x1f0)]()+0x1);const _0x4e2dda=_0x39e962['getFullYear']()+'-'+String(_0x39e962[_0x4b5567(0x1f0)]()+0x1)[_0x4b5567(0xd7)](0x2,'0'),_0x331fa7=Date[_0x4b5567(0x77)]();console[_0x4b5567(0x147)](_0x4b5567(0x190)+_0x436a01+',\x20'+_0x4e2dda+_0x4b5567(0xff));try{const [_0x45fd45,_0x739174]=await Promise[_0x4b5567(0xdf)]([this[_0x4b5567(0x15f)](_0x4b5567(0x9a),{'month_str':_0x436a01}),this[_0x4b5567(0x15f)]('init_load',{'month_str':_0x4e2dda})]);if(lastUserActionTime>_0x331fa7)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x4b5567(0x129)](_0x45fd45,_0x436a01),this['mergeServerData'](_0x739174,_0x4e2dda),this[_0x4b5567(0xab)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3bd297){console['error'](_0x3bd297);throw _0x3bd297;}},'mergeServerData'(_0x5de2b3,_0xfae307){const _0x539534=a2_0x3f43e6;if(!_0x5de2b3)return;_0x5de2b3[_0x539534(0x189)]&&Array[_0x539534(0x13a)](_0x5de2b3[_0x539534(0x189)])&&(clients=_0x5de2b3[_0x539534(0x189)]);if(_0x5de2b3[_0x539534(0x1e4)]){if(_0x5de2b3[_0x539534(0x1e4)][_0x539534(0xf7)])availabilityPattern=_0x5de2b3[_0x539534(0x1e4)][_0x539534(0xf7)];if(_0x5de2b3[_0x539534(0x1e4)]['exceptions'])dateExceptions=_0x5de2b3[_0x539534(0x1e4)][_0x539534(0x11f)];if(_0x5de2b3[_0x539534(0x1e4)][_0x539534(0x121)])specialRanges=_0x5de2b3[_0x539534(0x1e4)][_0x539534(0x121)];if(_0x5de2b3['settings'][_0x539534(0xf8)]){localStorage[_0x539534(0x1ea)]('uc_settings_cancel_window',_0x5de2b3['settings']['cancel_window']);const _0x412902=document[_0x539534(0xe2)](_0x539534(0x1ee));if(_0x412902)_0x412902['value']=_0x5de2b3[_0x539534(0x1e4)][_0x539534(0xf8)];}}_0x5de2b3[_0x539534(0x14d)]&&(sessions=sessions[_0x539534(0x188)](_0x4a2456=>!_0x4a2456[_0x539534(0x86)][_0x539534(0x10d)](_0xfae307)),Object[_0x539534(0x109)](_0x5de2b3[_0x539534(0x14d)])[_0x539534(0x6e)](_0x5b70af=>{const _0x46675e=_0x539534,_0x38523c=_0x5de2b3[_0x46675e(0x14d)][_0x5b70af];_0x38523c[_0x46675e(0x6e)](_0x594ac5=>{const _0x236141=_0x46675e,_0x1ecec3=clients[_0x236141(0xa0)](_0x10f94e=>String(_0x10f94e['id'])===String(_0x594ac5['c']));sessions['push']({'id':_0x594ac5['i'],'clientId':_0x594ac5['c'],'client':_0x1ecec3?_0x1ecec3[_0x236141(0x76)]:_0x236141(0x138),'dateStr':_0xfae307+'-'+_0x5b70af[_0x236141(0xd7)](0x2,'0'),'start':_0x594ac5['s'],'end':_0x594ac5['e'],'status':_0x594ac5['st']||_0x236141(0xd9),'note':_0x594ac5['n']||'','seriesId':_0x594ac5[_0x236141(0x110)]||null});});}));},async 'syncBatch'(_0x1a16eb){const _0x2c9cae=a2_0x3f43e6,_0xb2c018=[...new Set(_0x1a16eb)],_0x18b363=_0xb2c018[_0x2c9cae(0x98)](_0x4897e3=>{const _0x461441=_0x2c9cae,_0x2b1958=sessions[_0x461441(0x188)](_0x32f494=>_0x32f494['dateStr']===_0x4897e3&&_0x32f494[_0x461441(0x1a0)]!=='deleted'),_0x140659=_0x2b1958['map'](_0x2da122=>({'i':_0x2da122['id'],'c':_0x2da122[_0x461441(0x143)],'s':_0x2da122['start'],'e':_0x2da122[_0x461441(0x71)],'st':_0x2da122['status'],'n':_0x2da122['note'],'sid':_0x2da122['seriesId']}));return{'date':_0x4897e3,'day_data':_0x140659};});if(_0x18b363[_0x2c9cae(0x120)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x18b363['length']+_0x2c9cae(0x1c8)),await this[_0x2c9cae(0x15f)](_0x2c9cae(0x10f),{'changes':_0x18b363});}};async function init(){const _0x3d8326=a2_0x3f43e6;DataManager[_0x3d8326(0x101)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3d8326(0xe2)](_0x3d8326(0x166))['addEventListener'](_0x3d8326(0x137),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3d8326(0x105)]()['then'](()=>{const _0x469810=_0x3d8326;showToast(_0x469810(0x1c0),!![]);})[_0x3d8326(0x82)](_0x5634ae=>{const _0xfa6609=_0x3d8326;showToast(_0xfa6609(0x1ca),![]);});}function generateId(){const _0x1d8ef0=a2_0x3f43e6;return Date['now']()['toString'](0x24)+Math['random']()['toString'](0x24)[_0x1d8ef0(0xee)](0x2,0x5);}function toggleSeriesInput(){const _0x260c21=a2_0x3f43e6,_0x57050c=document[_0x260c21(0xe2)](_0x260c21(0x8a))[_0x260c21(0x174)],_0x1169be=document[_0x260c21(0xe2)](_0x260c21(0x115));_0x1169be['style'][_0x260c21(0xae)]=_0x57050c?_0x260c21(0xf5):_0x260c21(0xa8);const _0x3923a3=document[_0x260c21(0xe2)](_0x260c21(0x18b));_0x3923a3[_0x260c21(0xea)][_0x260c21(0xd6)]=_0x57050c?_0x260c21(0x1c6):_0x260c21(0x17d);}function openAddSession(_0x18d7d5){const _0x34e7fd=a2_0x3f43e6;editingId=null,populateClientSelect(),document[_0x34e7fd(0xe2)]('sheetTitle')['textContent']=_0x34e7fd(0x127),document[_0x34e7fd(0xe2)]('btnDelete')['style'][_0x34e7fd(0xae)]='none',document['getElementById']('btnStatusToggle')[_0x34e7fd(0xea)][_0x34e7fd(0xae)]=_0x34e7fd(0xa8);const _0x2517a9=document[_0x34e7fd(0xe2)](_0x34e7fd(0x18b)),_0x34cfa2=document[_0x34e7fd(0xe2)](_0x34e7fd(0x115));_0x2517a9['style'][_0x34e7fd(0xae)]='flex',_0x2517a9['style'][_0x34e7fd(0xd6)]=_0x34e7fd(0x17d),document[_0x34e7fd(0xe2)](_0x34e7fd(0x8a))['checked']=![],document['getElementById'](_0x34e7fd(0x1e9))['value']=0x4,_0x34cfa2['style']['display']=_0x34e7fd(0xa8),document['getElementById'](_0x34e7fd(0x15a))['value']=getLocalDateStr(_0x18d7d5),updateDateDisplay();const _0x5ea3e8=_0x18d7d5['getHours']();document['getElementById']('inpStart')[_0x34e7fd(0x108)]=String(_0x5ea3e8)[_0x34e7fd(0xd7)](0x2,'0')+':00',document[_0x34e7fd(0xe2)](_0x34e7fd(0xde))[_0x34e7fd(0x108)]=String(_0x5ea3e8+0x1)[_0x34e7fd(0xd7)](0x2,'0')+_0x34e7fd(0xd2),openSheet('sessionSheet');}function openEdit(_0x8682c7){const _0x1887fa=a2_0x3f43e6;editingId=_0x8682c7['id'],populateClientSelect(),document[_0x1887fa(0xe2)](_0x1887fa(0x194))[_0x1887fa(0x1de)]=_0x1887fa(0x74),document['getElementById'](_0x1887fa(0xa3))[_0x1887fa(0xea)][_0x1887fa(0xae)]=_0x1887fa(0xf5);const _0x221568=document[_0x1887fa(0xe2)]('btnStatusToggle');_0x221568[_0x1887fa(0xea)][_0x1887fa(0xae)]=_0x1887fa(0xb7);_0x8682c7[_0x1887fa(0x1a0)]===_0x1887fa(0x175)?(_0x221568[_0x1887fa(0x199)]=_0x1887fa(0x176),_0x221568['innerHTML']=_0x1887fa(0x165)):(_0x221568[_0x1887fa(0x199)]='btn-status-toggle',_0x221568['innerHTML']=_0x1887fa(0x171));const _0x482463=!!_0x8682c7[_0x1887fa(0x114)];document[_0x1887fa(0xe2)]('recurringOptionContainer')[_0x1887fa(0xea)][_0x1887fa(0xae)]='none',document[_0x1887fa(0xe2)](_0x1887fa(0x115))[_0x1887fa(0xea)][_0x1887fa(0xae)]='none',_0x482463?(document[_0x1887fa(0xe2)](_0x1887fa(0x177))[_0x1887fa(0xea)]['display']=_0x1887fa(0xb7),document[_0x1887fa(0xe2)](_0x1887fa(0x177))['querySelector'](_0x1887fa(0x11c))[_0x1887fa(0x1de)]=_0x1887fa(0x1f3)):document[_0x1887fa(0xe2)](_0x1887fa(0x177))[_0x1887fa(0xea)][_0x1887fa(0xae)]=_0x1887fa(0xa8),document[_0x1887fa(0xe2)](_0x1887fa(0x13f))[_0x1887fa(0x108)]=_0x8682c7['client'],document['getElementById']('inpDate')[_0x1887fa(0x108)]=_0x8682c7[_0x1887fa(0x86)],document['getElementById'](_0x1887fa(0x126))[_0x1887fa(0x108)]=_0x8682c7['start'],document[_0x1887fa(0xe2)](_0x1887fa(0xde))[_0x1887fa(0x108)]=_0x8682c7[_0x1887fa(0x71)],document[_0x1887fa(0xe2)]('inpNote')[_0x1887fa(0x108)]=_0x8682c7[_0x1887fa(0xc1)]||'',updateDateDisplay(),openSheet(_0x1887fa(0x1f4));}async function trySaveSession(){const _0x23b32a=a2_0x3f43e6,_0x465518=document[_0x23b32a(0xe2)](_0x23b32a(0x13f))[_0x23b32a(0x108)],_0x8acafa=document[_0x23b32a(0xe2)](_0x23b32a(0x15a))[_0x23b32a(0x108)],_0x33b451=document[_0x23b32a(0xe2)](_0x23b32a(0x126))[_0x23b32a(0x108)],_0x173401=document['getElementById'](_0x23b32a(0xde))['value'],_0x30612b=document[_0x23b32a(0xe2)](_0x23b32a(0xcb))[_0x23b32a(0x108)],_0x1a0ea9=document[_0x23b32a(0xe2)](_0x23b32a(0x8a))[_0x23b32a(0x174)];let _0x62661c=0x4;if(_0x1a0ea9){const _0x4830b9=parseInt(document[_0x23b32a(0xe2)](_0x23b32a(0x1e9))[_0x23b32a(0x108)]);if(!_0x4830b9||_0x4830b9<0x2){showToast(_0x23b32a(0x1b2),![]);return;}if(_0x4830b9>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x62661c=_0x4830b9;}const _0x532b17=clients[_0x23b32a(0xa0)](_0x1c85c6=>_0x1c85c6[_0x23b32a(0x76)]===_0x465518);if(!_0x532b17){showToast(_0x23b32a(0x1c5),![]);return;}const _0x20a6fc=validateAppointment(_0x8acafa,_0x33b451,_0x173401,editingId,_0x532b17['id']);if(!_0x20a6fc[_0x23b32a(0xa1)]){showToast(_0x20a6fc[_0x23b32a(0x1b9)],![]);return;}_0x20a6fc[_0x23b32a(0x167)]&&showToast(_0x20a6fc[_0x23b32a(0x167)],![]);const _0x18b14c={'client':_0x465518,'clientId':_0x532b17['id'],'start':_0x33b451,'end':_0x173401,'note':_0x30612b,'status':_0x23b32a(0xd9)},_0x37facd=editingId?sessions[_0x23b32a(0xa0)](_0x19b412=>_0x19b412['id']===editingId):null;if(_0x37facd&&_0x37facd[_0x23b32a(0x114)]){tempSessionData={..._0x18b14c,'dateStr':_0x8acafa,'id':editingId,'seriesId':_0x37facd['seriesId']},openActionSheet(_0x23b32a(0x97));return;}let _0x2572b5=null;if(!editingId)_0x2572b5='create';else{if(_0x37facd){if(String(_0x37facd['clientId'])!==String(_0x532b17['id']))console[_0x23b32a(0x147)](_0x23b32a(0x178)),NotificationManager['send'](_0x23b32a(0x7e),_0x37facd),_0x2572b5=_0x23b32a(0x1f2);else(_0x37facd[_0x23b32a(0x7c)]!==_0x33b451||_0x37facd[_0x23b32a(0x71)]!==_0x173401||_0x37facd['dateStr']!==_0x8acafa)&&(_0x2572b5=_0x23b32a(0xa6));}}if(!editingId&&_0x1a0ea9){createBatchSeries(_0x18b14c,_0x8acafa,_0x62661c),NotificationManager[_0x23b32a(0x118)](_0x23b32a(0x1f2),{..._0x18b14c,'dateStr':_0x8acafa});return;}lastUserActionTime=Date[_0x23b32a(0x77)]();const _0x4953ef={..._0x18b14c,'dateStr':_0x8acafa,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4953ef),_0x2572b5&&NotificationManager[_0x23b32a(0x118)](_0x2572b5,_0x4953ef);}function toggleSessionStatus(){const _0x2d58d5=a2_0x3f43e6;lastUserActionTime=Date[_0x2d58d5(0x77)]();const _0xd6a42e=sessions[_0x2d58d5(0xa0)](_0x3eac94=>_0x3eac94['id']===editingId);if(!_0xd6a42e)return;const _0x9f456=_0xd6a42e['status']==='completed'?'planned':_0x2d58d5(0x175);_0xd6a42e[_0x2d58d5(0x1a0)]=_0x9f456,saveSingleSession(_0xd6a42e),_0x9f456===_0x2d58d5(0x175)&&NotificationManager[_0x2d58d5(0x118)](_0x2d58d5(0x7d),_0xd6a42e),showToast(_0x9f456===_0x2d58d5(0x175)?_0x2d58d5(0x96):_0x2d58d5(0x191),!![]);}function validateAppointment(_0x158de8,_0x515a99,_0xfb59e1,_0x530d53,_0x47fbb2){const _0x39f3e6=a2_0x3f43e6,[_0x6c5ad7,_0x842a03]=_0x515a99['split'](':')['map'](Number),[_0x547a6e,_0x4dfa0d]=_0xfb59e1['split'](':')['map'](Number),_0x41e1b0=_0x6c5ad7*0x3c+_0x842a03,_0xd7aaaa=_0x547a6e*0x3c+_0x4dfa0d,_0x5942b4=String(_0x47fbb2);let _0x252ff6=![],_0x43fdf8='';for(let _0x2ae8ea of sessions){if(_0x2ae8ea[_0x39f3e6(0x86)]!==_0x158de8)continue;if(_0x2ae8ea[_0x39f3e6(0x1a0)]===_0x39f3e6(0x1d2))continue;if(_0x530d53&&String(_0x2ae8ea['id'])===String(_0x530d53))continue;const [_0x49d525,_0xac256a]=_0x2ae8ea[_0x39f3e6(0x7c)][_0x39f3e6(0x79)](':')[_0x39f3e6(0x98)](Number),[_0xc74d84,_0x5bfa51]=_0x2ae8ea[_0x39f3e6(0x71)][_0x39f3e6(0x79)](':')['map'](Number),_0x1e7006=_0x49d525*0x3c+_0xac256a,_0x358bff=_0xc74d84*0x3c+_0x5bfa51;if(Math[_0x39f3e6(0x183)](_0x41e1b0,_0x1e7006)<Math['min'](_0xd7aaaa,_0x358bff)){if(_0x2ae8ea['clientId']&&String(_0x2ae8ea[_0x39f3e6(0x143)])===_0x5942b4)return{'valid':![],'msg':_0x39f3e6(0x1e0)+_0x2ae8ea[_0x39f3e6(0x184)]+_0x39f3e6(0x186)};_0x252ff6=!![],_0x43fdf8=_0x2ae8ea[_0x39f3e6(0x184)];}}if(_0x252ff6)return{'valid':!![],'warning':_0x39f3e6(0x119)+_0x43fdf8};return{'valid':!![]};}function saveSingleSession(_0x3a2f99){const _0x50ea50=a2_0x3f43e6;if(editingId){const _0x3c3067=sessions[_0x50ea50(0x19c)](_0xd5f5a4=>_0xd5f5a4['id']===editingId);if(_0x3c3067!==-0x1)sessions[_0x3c3067]=_0x3a2f99;}else sessions[_0x50ea50(0xe1)](_0x3a2f99);afterSaveAction([_0x3a2f99[_0x50ea50(0x86)]]);}function createBatchSeries(_0x5a24dc,_0x479cc3,_0x190209){const _0x5c5094=a2_0x3f43e6,_0x164033=generateId(),_0x367454=[],_0x3fb87c=[];let _0x2429e9=0x0,_0x4d6777=new Date(_0x479cc3);for(let _0x52996f=0x0;_0x52996f<_0x190209;_0x52996f++){const _0x41b69f=getLocalDateStr(_0x4d6777),_0x23b5c2=validateAppointment(_0x41b69f,_0x5a24dc[_0x5c5094(0x7c)],_0x5a24dc['end'],null,_0x5a24dc[_0x5c5094(0x143)]);if(!_0x23b5c2[_0x5c5094(0xa1)])console[_0x5c5094(0x147)](_0x5c5094(0x1c1)+_0x41b69f+_0x5c5094(0xa2)),_0x2429e9++;else{const _0x42851c={..._0x5a24dc,'id':generateId(),'dateStr':_0x41b69f,'seriesId':_0x164033};_0x3fb87c[_0x5c5094(0xe1)](_0x42851c),_0x367454[_0x5c5094(0xe1)](_0x41b69f);}_0x4d6777['setDate'](_0x4d6777['getDate']()+0x7);}if(_0x3fb87c[_0x5c5094(0x120)]===0x0){showToast(_0x5c5094(0x1d3),![]);return;}sessions[_0x5c5094(0xe1)](..._0x3fb87c),lastUserActionTime=Date[_0x5c5094(0x77)]();let _0x42e2d3=_0x5c5094(0xcc)+_0x3fb87c[_0x5c5094(0x120)];_0x2429e9>0x0&&(_0x42e2d3+=_0x5c5094(0x69)+_0x2429e9+')'),showToast(_0x42e2d3,!![]),afterSaveAction(_0x367454);}function updateSeriesBatch(_0x25f2bb,_0xa561f2){const _0x20ff5a=a2_0x3f43e6,_0x537101=[],_0xc09d4=_0xa561f2[_0x20ff5a(0x114)];if(_0x25f2bb===_0x20ff5a(0xa9)){const _0x252902={..._0xa561f2,'seriesId':null},_0x319baa=sessions['findIndex'](_0x3c62a0=>_0x3c62a0['id']===_0xa561f2['id']);if(_0x319baa!==-0x1)sessions[_0x319baa]=_0x252902;_0x537101[_0x20ff5a(0xe1)](_0x252902[_0x20ff5a(0x86)]);}else{if(_0x25f2bb===_0x20ff5a(0xef)){const _0x12da65=_0xa561f2[_0x20ff5a(0x86)];sessions[_0x20ff5a(0x6e)]((_0x310281,_0x150f31)=>{const _0x3de36e=_0x20ff5a;_0x310281[_0x3de36e(0x114)]===_0xc09d4&&_0x310281['dateStr']>=_0x12da65&&(sessions[_0x150f31]={...sessions[_0x150f31],'start':_0xa561f2['start'],'end':_0xa561f2['end'],'note':_0xa561f2[_0x3de36e(0xc1)],'client':_0xa561f2[_0x3de36e(0x184)],'clientId':_0xa561f2[_0x3de36e(0x143)]},_0x537101[_0x3de36e(0xe1)](_0x310281[_0x3de36e(0x86)]));});}}afterSaveAction(_0x537101);}function tryDeleteSession(){const _0x5a307b=a2_0x3f43e6,_0x1769d8=sessions[_0x5a307b(0xa0)](_0x49a93f=>_0x49a93f['id']===editingId);if(!_0x1769d8)return;_0x1769d8['seriesId']?openActionSheet(_0x5a307b(0x18a)):commitDelete(_0x5a307b(0xa9),_0x1769d8);}function commitDelete(_0x4ac199,_0x81a38){const _0x38d415=a2_0x3f43e6;lastUserActionTime=Date[_0x38d415(0x77)](),NotificationManager[_0x38d415(0x118)]('cancel',_0x81a38);const _0xfbca0d=[];if(_0x4ac199===_0x38d415(0xa9))sessions=sessions[_0x38d415(0x188)](_0x2ab17a=>_0x2ab17a['id']!==_0x81a38['id']),_0xfbca0d[_0x38d415(0xe1)](_0x81a38['dateStr']);else{if(_0x4ac199===_0x38d415(0xef)){const _0x32007a=_0x81a38[_0x38d415(0x86)],_0x2e030c=_0x81a38['seriesId'];sessions[_0x38d415(0x6e)](_0x283b7e=>{const _0x463512=_0x38d415;_0x283b7e[_0x463512(0x114)]===_0x2e030c&&_0x283b7e[_0x463512(0x86)]>=_0x32007a&&_0xfbca0d['push'](_0x283b7e[_0x463512(0x86)]);}),sessions=sessions[_0x38d415(0x188)](_0x2e3c52=>!(_0x2e3c52[_0x38d415(0x114)]===_0x2e030c&&_0x2e3c52['dateStr']>=_0x32007a));}}afterSaveAction(_0xfbca0d);}function afterSaveAction(_0x104082){const _0x1290fa=a2_0x3f43e6;DataManager[_0x1290fa(0xab)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1290fa(0x169)](_0x104082)[_0x1290fa(0x142)](()=>console[_0x1290fa(0x147)](_0x1290fa(0x1a9)))[_0x1290fa(0x82)](_0x575d0d=>showToast(_0x1290fa(0x1bf),![]));}const NotificationManager={'formatDate'(_0x2d09b5){const _0x3126a5=a2_0x3f43e6,_0x1e29a5=new Date(_0x2d09b5),_0x280c37={'weekday':_0x3126a5(0x1a2),'day':_0x3126a5(0xb4),'month':_0x3126a5(0x1a2)};let _0x542e00=_0x1e29a5[_0x3126a5(0xeb)](_0x3126a5(0xb9),_0x280c37);return _0x542e00[_0x3126a5(0x1c7)](0x0)[_0x3126a5(0x1dc)]()+_0x542e00['slice'](0x1);},'getText'(_0x5bcf58,_0x1b0d79){const _0x3ab6f2=a2_0x3f43e6,_0x91c404=this[_0x3ab6f2(0x160)](_0x1b0d79['dateStr']);switch(_0x5bcf58){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x91c404+'\x0a')+(_0x3ab6f2(0x1be)+_0x1b0d79[_0x3ab6f2(0x7c)]+_0x3ab6f2(0xb0)+_0x1b0d79[_0x3ab6f2(0x71)]+'\x0a\x0a')+_0x3ab6f2(0x12e);case'update':return _0x3ab6f2(0x6d)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x3ab6f2(0x1d1)+_0x1b0d79['start']+_0x3ab6f2(0xb0)+_0x1b0d79[_0x3ab6f2(0x71)]+_0x3ab6f2(0xfd))+(_0x3ab6f2(0x1b6)+_0x91c404);case _0x3ab6f2(0x7e):return _0x3ab6f2(0x1a7)+(_0x3ab6f2(0x113)+_0x91c404+'\x20('+_0x1b0d79[_0x3ab6f2(0x7c)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x3ab6f2(0x7d):return _0x3ab6f2(0x155)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x3ab6f2(0x164);default:return'';}},async 'send'(_0x1ccedf,_0x4d25f4){const _0x544c6f=a2_0x3f43e6;console['log'](_0x544c6f(0x6a),_0x1ccedf,_0x4d25f4);if(!_0x4d25f4){console[_0x544c6f(0x197)](_0x544c6f(0xbe));return;}const _0x21e391=String(_0x4d25f4['clientId']);console[_0x544c6f(0x147)](_0x544c6f(0x1d0),_0x21e391);if(!_0x4d25f4[_0x544c6f(0x143)]||_0x21e391===_0x544c6f(0x99)||_0x21e391==='null'){console[_0x544c6f(0x197)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x4d25f4[_0x544c6f(0x184)]){const _0x5bb34e=clients[_0x544c6f(0xa0)](_0x52efe5=>_0x52efe5['name']===_0x4d25f4[_0x544c6f(0x184)]);if(_0x5bb34e)return console['log'](_0x544c6f(0xe8),_0x5bb34e['id']),this[_0x544c6f(0x118)](_0x1ccedf,{..._0x4d25f4,'clientId':_0x5bb34e['id']});}return;}if(_0x21e391[_0x544c6f(0x120)]<0x5){console['warn'](_0x544c6f(0xb5),_0x21e391);return;}const _0x2da529=this[_0x544c6f(0x14a)](_0x1ccedf,_0x4d25f4);if(!_0x2da529){console[_0x544c6f(0x197)](_0x544c6f(0x19b));return;}console['log'](_0x544c6f(0x128)+_0x21e391+_0x544c6f(0xff)),DataManager[_0x544c6f(0x15f)](_0x544c6f(0x13c),{'chatId':_0x21e391,'text':_0x2da529})[_0x544c6f(0x142)](_0xa58809=>console[_0x544c6f(0x147)](_0x544c6f(0x19a),_0xa58809))['catch'](_0x223846=>console['error'](_0x544c6f(0x78),_0x223846));}};function getLocalDateStr(_0x29ae4a){const _0x1ee9a8=a2_0x3f43e6,_0x56e367=_0x29ae4a[_0x1ee9a8(0xbf)](),_0x296f8b=String(_0x29ae4a['getMonth']()+0x1)[_0x1ee9a8(0xd7)](0x2,'0'),_0x266fe0=String(_0x29ae4a[_0x1ee9a8(0x1d8)]())['padStart'](0x2,'0');return _0x56e367+'-'+_0x296f8b+'-'+_0x266fe0;}function getDateStr(_0x5d7c46){const _0x19db7f=a2_0x3f43e6,_0x3dc098=new Date();return _0x3dc098[_0x19db7f(0xb2)](_0x3dc098[_0x19db7f(0x1d8)]()+_0x5d7c46),getLocalDateStr(_0x3dc098);}function getStartOfWeek(_0x3b30bb){const _0x5cd0cf=a2_0x3f43e6,_0x105c4b=(function(){let _0x4e76ef=!![];return function(_0xb003a,_0x2dcb19){const _0x944e99=_0x4e76ef?function(){const _0x565ecb=a2_0x40d7;if(_0x2dcb19){const _0x369c73=_0x2dcb19[_0x565ecb(0x145)](_0xb003a,arguments);return _0x2dcb19=null,_0x369c73;}}:function(){};return _0x4e76ef=![],_0x944e99;};}()),_0x322c65=_0x105c4b(this,function(){const _0x2860e6=a2_0x40d7;return _0x322c65['toString']()[_0x2860e6(0x161)](_0x2860e6(0x19d))[_0x2860e6(0x1e2)]()[_0x2860e6(0x111)](_0x322c65)[_0x2860e6(0x161)](_0x2860e6(0x19d));});_0x322c65();const _0x4685fc=new Date(_0x3b30bb),_0x1ba382=_0x4685fc['getDay'](),_0x5be27f=_0x4685fc['getDate']()-_0x1ba382+(_0x1ba382===0x0?-0x6:0x1);return _0x4685fc[_0x5cd0cf(0xb2)](_0x5be27f),_0x4685fc['setHours'](0x0,0x0,0x0,0x0),_0x4685fc;}function hexToRgba(_0x1604e0,_0x5920dd){const _0x4a3f4e=a2_0x3f43e6;if(!_0x1604e0)return _0x4a3f4e(0xbd);let _0x1ded7d=0x0,_0x159fc9=0x0,_0x440da9=0x0;if(_0x1604e0[_0x4a3f4e(0x120)]===0x4)_0x1ded7d='0x'+_0x1604e0[0x1]+_0x1604e0[0x1],_0x159fc9='0x'+_0x1604e0[0x2]+_0x1604e0[0x2],_0x440da9='0x'+_0x1604e0[0x3]+_0x1604e0[0x3];else _0x1604e0['length']===0x7&&(_0x1ded7d='0x'+_0x1604e0[0x1]+_0x1604e0[0x2],_0x159fc9='0x'+_0x1604e0[0x3]+_0x1604e0[0x4],_0x440da9='0x'+_0x1604e0[0x5]+_0x1604e0[0x6]);return _0x4a3f4e(0x1c2)+ +_0x1ded7d+',\x20'+ +_0x159fc9+',\x20'+ +_0x440da9+',\x20'+_0x5920dd+')';}function renderTimeColumn(){const _0xda05c6=a2_0x3f43e6,_0x457f3f=document[_0xda05c6(0xe2)](_0xda05c6(0xf9)),_0x2837a8=document['getElementById'](_0xda05c6(0x157));_0x457f3f[_0xda05c6(0xd0)]='',_0x457f3f[_0xda05c6(0x10c)](_0x2837a8);for(let _0x33f6e1=0x0;_0x33f6e1<0x18;_0x33f6e1++){const _0x4fed60=document[_0xda05c6(0xc0)](_0xda05c6(0x15c));_0x4fed60['className']=_0xda05c6(0x159);if(_0x33f6e1>0x0)_0x4fed60['innerHTML']=_0xda05c6(0xc3)+String(_0x33f6e1)['padStart'](0x2,'0')+':00</span>';_0x457f3f[_0xda05c6(0x10c)](_0x4fed60);}}function renderDayRange(_0x1a7861,_0x229771){const _0x38383d=a2_0x3f43e6,_0x2248bd=document[_0x38383d(0xe2)](_0x38383d(0x1bd)),_0x535885=document[_0x38383d(0xe2)](_0x38383d(0x1ef)),_0x4eaaeb=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5550bc=new Date();_0x5550bc[_0x38383d(0x6f)](0x0,0x0,0x0,0x0);const _0x23c6cb=getLocalDateStr(new Date());for(let _0x3823e7=_0x1a7861;_0x3823e7<=_0x229771;_0x3823e7++){const _0x3aaffe=new Date(_0x5550bc);_0x3aaffe[_0x38383d(0xb2)](_0x3aaffe['getDate']()+_0x3823e7);const _0x107d5c=getLocalDateStr(_0x3aaffe);let _0x571530=_0x3aaffe['getDay']()-0x1;if(_0x571530===-0x1)_0x571530=0x6;const _0x52fc08=_0x107d5c===_0x23c6cb,_0x1865e4=document[_0x38383d(0xc0)](_0x38383d(0x15c));_0x1865e4['className']=_0x38383d(0xdb)+(_0x52fc08?_0x38383d(0x17f):''),_0x1865e4['id']=_0x38383d(0x15e)+_0x107d5c,_0x1865e4[_0x38383d(0x1ce)]('data-date',_0x107d5c),_0x1865e4[_0x38383d(0xd0)]=_0x38383d(0x1d4)+_0x4eaaeb[_0x571530]+_0x38383d(0x16d)+_0x3aaffe['getDate']()+_0x38383d(0xbb)+_0x107d5c+_0x38383d(0x19e),_0x1865e4[_0x38383d(0xa5)]=()=>openDayOptions(_0x107d5c,_0x4eaaeb[_0x571530]+'\x20'+_0x3aaffe['getDate']()),_0x2248bd['appendChild'](_0x1865e4);const _0x17752f=document['createElement'](_0x38383d(0x15c));_0x17752f[_0x38383d(0x199)]='day-column\x20'+(_0x52fc08?_0x38383d(0x17f):''),_0x17752f[_0x38383d(0x1ce)](_0x38383d(0x117),_0x107d5c),_0x17752f[_0x38383d(0x1ce)]('data-day-idx',_0x571530),renderEventsForColumn(_0x17752f,_0x107d5c,_0x571530),attachLongPressHandler(_0x17752f,_0x3aaffe),_0x535885[_0x38383d(0x10c)](_0x17752f),updateDayStats(_0x107d5c);}}function reRenderBlocks(){const _0x4d45a4=a2_0x3f43e6;document['querySelectorAll'](_0x4d45a4(0x1ed))[_0x4d45a4(0x6e)](_0xf0bed5=>{const _0x4eecd6=_0x4d45a4;_0xf0bed5[_0x4eecd6(0xfe)](_0x4eecd6(0xba))['forEach'](_0x3b086f=>_0x3b086f[_0x4eecd6(0x1cc)]());const _0x4dc264=_0xf0bed5[_0x4eecd6(0x124)](_0x4eecd6(0x117)),_0x4ea066=parseInt(_0xf0bed5[_0x4eecd6(0x124)]('data-day-idx')),_0x445f3d=Math[_0x4eecd6(0x181)](_0xf0bed5[_0x4eecd6(0xcd)]);(availabilityPattern[_0x4ea066]||[])[_0x4eecd6(0x6e)](_0x2702c7=>{const _0x24440c=_0x4eecd6,_0x4f19ba=document[_0x24440c(0xc0)](_0x24440c(0x15c));_0x4f19ba[_0x24440c(0x199)]=_0x24440c(0x73);const _0x2065b8=_0x2702c7*GRID_H;_0x4f19ba[_0x24440c(0xea)][_0x24440c(0x185)]=_0x2065b8+'px',_0x4f19ba[_0x24440c(0xea)][_0x24440c(0x162)]='-'+_0x445f3d+_0x24440c(0x95)+_0x2065b8+'px',_0xf0bed5[_0x24440c(0x10c)](_0x4f19ba);});if(specialRanges&&specialRanges[_0x4eecd6(0x120)]>0x0){const _0x39bbd7=new Date(_0x4dc264+_0x4eecd6(0x133))['getTime'](),_0x1e8020=new Date(_0x4dc264+_0x4eecd6(0x140))[_0x4eecd6(0x9e)]();specialRanges[_0x4eecd6(0x6e)](_0xc93ebc=>{const _0x51793a=_0x4eecd6,_0x148bd6=new Date(_0xc93ebc['start'])[_0x51793a(0x9e)](),_0x239b03=new Date(_0xc93ebc[_0x51793a(0x71)])['getTime'](),_0x161efe=Math[_0x51793a(0x183)](_0x39bbd7,_0x148bd6),_0x3a847e=Math[_0x51793a(0xe6)](_0x1e8020,_0x239b03);if(_0x161efe<_0x3a847e){if(_0x161efe<=_0x39bbd7&&_0x3a847e>=_0x1e8020-0xea60){if(!_0xf0bed5[_0x51793a(0x10e)](_0x51793a(0x187))){const _0x343012=document[_0x51793a(0xc0)](_0x51793a(0x15c));_0x343012[_0x51793a(0x199)]=_0x51793a(0x1e6),_0x343012[_0x51793a(0xea)][_0x51793a(0x162)]='-'+_0x445f3d+'px\x200px',_0xf0bed5[_0x51793a(0x10c)](_0x343012);}}else{const _0x70f9ad=(_0x161efe-_0x39bbd7)/0x36ee80*GRID_H,_0x559901=(_0x3a847e-_0x161efe)/0x36ee80*GRID_H,_0x562d46=document['createElement'](_0x51793a(0x15c));_0x562d46[_0x51793a(0x199)]='blocked-range-part\x20stripe-bg',_0x562d46[_0x51793a(0xea)][_0x51793a(0x185)]=_0x70f9ad+'px',_0x562d46['style'][_0x51793a(0xd8)]=_0x559901+'px',_0x562d46[_0x51793a(0xea)][_0x51793a(0x162)]='-'+_0x445f3d+'px\x20-'+_0x70f9ad+'px',_0xf0bed5[_0x51793a(0x10c)](_0x562d46);}}});}if(dateExceptions[_0x4dc264]===_0x4eecd6(0x16a)){if(!_0xf0bed5[_0x4eecd6(0x10e)](_0x4eecd6(0x187))){const _0x373542=document[_0x4eecd6(0xc0)]('div');_0x373542[_0x4eecd6(0x199)]=_0x4eecd6(0x1e6),_0x373542['style']['backgroundPosition']='-'+_0x445f3d+_0x4eecd6(0x106),_0xf0bed5[_0x4eecd6(0x10c)](_0x373542);}}renderEventsForColumn(_0xf0bed5,_0x4dc264,_0x4ea066),updateDayStats(_0x4dc264);});}function updateAllDayStats(){const _0x2980a8=a2_0x3f43e6;document[_0x2980a8(0xfe)](_0x2980a8(0x122))[_0x2980a8(0x6e)](_0x4dca51=>{const _0x21887a=_0x2980a8;updateDayStats(_0x4dca51[_0x21887a(0x124)](_0x21887a(0x117)));});}function updateDayStats(_0x501fc7){const _0x393456=a2_0x3f43e6,_0x38491c=document[_0x393456(0xe2)](_0x393456(0x1ab)+_0x501fc7);if(!_0x38491c)return;const _0x7ea52d=new Date(_0x501fc7);let _0x1e8df1=_0x7ea52d[_0x393456(0x1d6)]()-0x1;if(_0x1e8df1===-0x1)_0x1e8df1=0x6;if(dateExceptions[_0x501fc7]===_0x393456(0x16a)){_0x38491c['style']['display']='none';return;}const _0x27ff1d=availabilityPattern[_0x1e8df1]||[],_0x27663e=0x18-_0x27ff1d[_0x393456(0x120)],_0x4e229e=_0x27663e*0x3c,_0x49618d=sessions[_0x393456(0x188)](_0x571165=>_0x571165[_0x393456(0x86)]===_0x501fc7&&_0x571165[_0x393456(0x1a0)]!=='cancelled');if(_0x49618d[_0x393456(0x120)]===0x0){_0x38491c[_0x393456(0xea)][_0x393456(0xae)]=_0x393456(0xa8);return;}let _0x6b8018=_0x49618d['map'](_0x39c6b1=>{const _0x4208de=_0x393456,[_0x103c8e,_0x24cb0e]=_0x39c6b1[_0x4208de(0x7c)][_0x4208de(0x79)](':')[_0x4208de(0x98)](Number),[_0x2b4e21,_0x20c3eb]=_0x39c6b1[_0x4208de(0x71)][_0x4208de(0x79)](':')[_0x4208de(0x98)](Number);return[_0x103c8e*0x3c+_0x24cb0e,_0x2b4e21*0x3c+_0x20c3eb];});_0x6b8018[_0x393456(0x13b)]((_0x260878,_0x5cd3df)=>_0x260878[0x0]-_0x5cd3df[0x0]);let _0x277948=[];if(_0x6b8018[_0x393456(0x120)]>0x0){let _0x2528f5=_0x6b8018[0x0];for(let _0x4fb492=0x1;_0x4fb492<_0x6b8018['length'];_0x4fb492++){_0x6b8018[_0x4fb492][0x0]<_0x2528f5[0x1]?_0x2528f5[0x1]=Math['max'](_0x2528f5[0x1],_0x6b8018[_0x4fb492][0x1]):(_0x277948[_0x393456(0xe1)](_0x2528f5),_0x2528f5=_0x6b8018[_0x4fb492]);}_0x277948[_0x393456(0xe1)](_0x2528f5);}let _0x12b31e=0x0;_0x277948[_0x393456(0x6e)](_0x194b90=>_0x12b31e+=_0x194b90[0x1]-_0x194b90[0x0]),_0x38491c[_0x393456(0xea)][_0x393456(0xae)]='flex';const _0x4d5742=_0x38491c['querySelector']('.dch-stats-fill');if(_0x4e229e===0x0){_0x4d5742['style'][_0x393456(0xcf)]=_0x393456(0xd1),_0x4d5742[_0x393456(0xea)]['background']=_0x393456(0x1ac);return;}const _0x10c827=_0x12b31e/_0x4e229e*0x64;console['log']('['+_0x501fc7+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x27663e+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x12b31e+_0x393456(0x104)+_0x10c827['toFixed'](0x1)+'%'),_0x10c827>0x64?(_0x4d5742[_0x393456(0xea)][_0x393456(0xcf)]=_0x393456(0xd1),_0x4d5742[_0x393456(0xea)][_0x393456(0x92)]=_0x393456(0x1ac)):(_0x4d5742[_0x393456(0xea)][_0x393456(0xcf)]=_0x10c827+'%',_0x4d5742[_0x393456(0xea)][_0x393456(0x92)]='var(--acc-current)');}function renderEventsForColumn(_0x51dd31,_0x585b75,_0xd01a3c){const _0x410c8a=a2_0x3f43e6,_0x425e2e=sessions[_0x410c8a(0x188)](_0x58e33f=>_0x58e33f['dateStr']===_0x585b75),_0x3ae4aa=_0x425e2e[_0x410c8a(0x98)](_0x506097=>{const _0x4556d2=_0x410c8a,[_0x51f87c,_0x15a968]=_0x506097['start'][_0x4556d2(0x79)](':')[_0x4556d2(0x98)](Number),[_0x1fdc93,_0xad7a94]=_0x506097[_0x4556d2(0x71)]['split'](':')['map'](Number);return{'data':_0x506097,'start':_0x51f87c*0x3c+_0x15a968,'end':_0x1fdc93*0x3c+_0xad7a94,'colIndex':0x0};});_0x3ae4aa[_0x410c8a(0x13b)]((_0x5e84e6,_0x2f3cdc)=>{const _0x23081e=_0x410c8a;if(_0x5e84e6[_0x23081e(0x7c)]!==_0x2f3cdc[_0x23081e(0x7c)])return _0x5e84e6['start']-_0x2f3cdc['start'];return _0x2f3cdc[_0x23081e(0x71)]-_0x2f3cdc[_0x23081e(0x7c)]-(_0x5e84e6['end']-_0x5e84e6['start']);});const _0x588305=[];_0x3ae4aa[_0x410c8a(0x6e)](_0x560c74=>{const _0x291b89=_0x410c8a;let _0x4c41e0=![];for(let _0x2ffe17=0x0;_0x2ffe17<_0x588305[_0x291b89(0x120)];_0x2ffe17++){const _0x309bdf=_0x588305[_0x2ffe17],_0xd5388=_0x309bdf[_0x309bdf[_0x291b89(0x120)]-0x1];if(_0x560c74[_0x291b89(0x7c)]>=_0xd5388[_0x291b89(0x71)]){_0x309bdf[_0x291b89(0xe1)](_0x560c74),_0x560c74[_0x291b89(0x163)]=_0x2ffe17,_0x4c41e0=!![];break;}}!_0x4c41e0&&(_0x588305[_0x291b89(0xe1)]([_0x560c74]),_0x560c74[_0x291b89(0x163)]=_0x588305['length']-0x1);}),_0x3ae4aa[_0x410c8a(0x6e)](_0x347acf=>{const _0xfe4377=_0x410c8a;let _0x55aae6=0x0;_0x3ae4aa['forEach'](_0x47fbac=>{const _0x28ef44=a2_0x40d7;if(Math[_0x28ef44(0x183)](_0x347acf[_0x28ef44(0x7c)],_0x47fbac[_0x28ef44(0x7c)])<Math[_0x28ef44(0xe6)](_0x347acf[_0x28ef44(0x71)],_0x47fbac[_0x28ef44(0x71)])){if(_0x47fbac[_0x28ef44(0x163)]>_0x55aae6)_0x55aae6=_0x47fbac['colIndex'];}});const _0x516657=_0x55aae6+0x1,_0x473794=0x64/_0x516657,_0x3b265e=_0x347acf[_0xfe4377(0x163)]*_0x473794,_0x36c12b=createEventEl(_0x347acf[_0xfe4377(0xc8)]);_0x36c12b['style']['width']='calc('+_0x473794+'%\x20-\x204px)',_0x36c12b[_0xfe4377(0xea)]['left']=_0xfe4377(0xc7)+_0x3b265e+_0xfe4377(0x1db),_0x36c12b[_0xfe4377(0xea)][_0xfe4377(0x151)]=0xa+_0x347acf[_0xfe4377(0x163)],_0x473794<0x55&&_0x36c12b[_0xfe4377(0xe3)][_0xfe4377(0x1cb)](_0xfe4377(0x198)),_0x51dd31[_0xfe4377(0x10c)](_0x36c12b);});}function createEventEl(_0x10c818){const _0x20769f=a2_0x3f43e6,[_0x5eb629,_0x3d04f5]=_0x10c818[_0x20769f(0x7c)][_0x20769f(0x79)](':')[_0x20769f(0x98)](Number),[_0x15723b,_0x168a7d]=_0x10c818['end'][_0x20769f(0x79)](':')[_0x20769f(0x98)](Number),_0x170bea=(_0x5eb629*0x3c+_0x3d04f5)/0x3c*GRID_H,_0x3e642f=(_0x15723b*0x3c+_0x168a7d-(_0x5eb629*0x3c+_0x3d04f5))/0x3c*GRID_H,_0x377a5e=document[_0x20769f(0xc0)]('div'),_0xa9ec8c=_0x10c818[_0x20769f(0x1a0)]===_0x20769f(0x175)?_0x20769f(0x1a3):'';_0x377a5e[_0x20769f(0x199)]=_0x20769f(0xca)+_0xa9ec8c,_0x377a5e['style']['top']=_0x170bea+'px',_0x377a5e[_0x20769f(0xea)][_0x20769f(0xd8)]=Math[_0x20769f(0x183)](_0x3e642f,0x14)+'px';const _0x5e7b3e=clients[_0x20769f(0xa0)](_0x16d6d1=>_0x10c818['clientId']&&String(_0x16d6d1['id'])===String(_0x10c818[_0x20769f(0x143)])||_0x16d6d1['name']===_0x10c818[_0x20769f(0x184)]),_0x1fd17e=_0x5e7b3e?_0x5e7b3e[_0x20769f(0x11b)]:_0x20769f(0x1ad);_0x377a5e[_0x20769f(0xea)][_0x20769f(0x1aa)]=_0x1fd17e,_0x377a5e[_0x20769f(0xea)][_0x20769f(0xf3)]=hexToRgba(_0x1fd17e,0.85);let _0x343551='<div\x20class=\x22ev-title\x22>'+_0x10c818[_0x20769f(0x184)]+_0x20769f(0x1cd)+_0x10c818['start']+_0x20769f(0x123)+_0x10c818['end']+_0x20769f(0x8d);return _0x10c818[_0x20769f(0x114)]&&(_0x343551+=_0x20769f(0x1af)),_0x10c818['status']===_0x20769f(0x175)&&(_0x343551+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x377a5e['innerHTML']=_0x343551,_0x377a5e[_0x20769f(0xa5)]=_0x126efa=>{const _0x8911cb=_0x20769f;_0x126efa[_0x8911cb(0x136)](),openEdit(_0x10c818);},_0x377a5e;}function attachLongPressHandler(_0x3f1f60,_0x2d04e5){const _0x3249ff=a2_0x3f43e6;let _0x499f46=0x0,_0x112cfd=null;const _0x48d363=_0x43e633=>{const _0x2713a8=a2_0x40d7;if(_0x43e633['target']['closest'](_0x2713a8(0xaf)))return;isScrolling=![],_0x499f46=_0x43e633[_0x2713a8(0x125)]?_0x43e633[_0x2713a8(0x125)][0x0][_0x2713a8(0x131)]:_0x43e633['clientY'],_0x112cfd=setTimeout(()=>{const _0x1ebd90=_0x2713a8;if(!isScrolling){navigator[_0x1ebd90(0x1b8)]?.(0x32);const _0x3a70ac=_0x3f1f60[_0x1ebd90(0x14e)](),_0x1f817a=Math[_0x1ebd90(0x154)]((_0x499f46-_0x3a70ac['top'])/GRID_H);_0x2d04e5[_0x1ebd90(0x6f)](_0x1f817a,0x0),openAddSession(_0x2d04e5);}},0x1f4);},_0x53f25d=()=>{isScrolling=!![],clearTimeout(_0x112cfd);},_0xc0bdb5=()=>{clearTimeout(_0x112cfd);};_0x3f1f60[_0x3249ff(0x196)](_0x3249ff(0x153),_0x48d363,{'passive':!![]}),_0x3f1f60[_0x3249ff(0x196)]('touchmove',_0x53f25d,{'passive':!![]}),_0x3f1f60[_0x3249ff(0x196)](_0x3249ff(0xf2),_0xc0bdb5),_0x3f1f60['addEventListener'](_0x3249ff(0xec),_0x48d363),_0x3f1f60[_0x3249ff(0x196)](_0x3249ff(0x80),_0x53f25d),_0x3f1f60[_0x3249ff(0x196)](_0x3249ff(0x8f),_0xc0bdb5);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3a996f=a2_0x3f43e6,_0xb5c385=document[_0x3a996f(0xe2)](_0x3a996f(0x166)),_0x2dcfa0=_0xb5c385[_0x3a996f(0x100)],_0x4f149b=_0xb5c385[_0x3a996f(0x130)],_0x1f445c=_0xb5c385[_0x3a996f(0x7a)];if(_0x4f149b-(_0x2dcfa0+_0x1f445c)<0x12c){const _0x245a9c=endOffset;endOffset+=0xe,renderDayRange(_0x245a9c+0x1,endOffset),reRenderBlocks();}if(_0x2dcfa0<0x12c){const _0x505e87=startOffset;startOffset-=0xe,prependDays(startOffset,_0x505e87-0x1),_0xb5c385['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x172ba5,_0x30a2c1){const _0x50b26e=a2_0x3f43e6,_0x4db87f=document[_0x50b26e(0xe2)](_0x50b26e(0x1bd)),_0x11254=document[_0x50b26e(0xe2)](_0x50b26e(0x1ef)),_0x45b1aa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5a378a=new Date();_0x5a378a[_0x50b26e(0x6f)](0x0,0x0,0x0,0x0);const _0x3f1805=getLocalDateStr(new Date()),_0x9d5e66=document[_0x50b26e(0x17a)](),_0x36c3c9=document[_0x50b26e(0x17a)]();for(let _0x264f4=_0x172ba5;_0x264f4<=_0x30a2c1;_0x264f4++){const _0x4ca807=new Date(_0x5a378a);_0x4ca807[_0x50b26e(0xb2)](_0x4ca807['getDate']()+_0x264f4);const _0x530558=getLocalDateStr(_0x4ca807);let _0x3bd626=_0x4ca807[_0x50b26e(0x1d6)]()-0x1;if(_0x3bd626===-0x1)_0x3bd626=0x6;const _0x269f4b=_0x530558===_0x3f1805,_0x4426d4=document[_0x50b26e(0xc0)](_0x50b26e(0x15c));_0x4426d4[_0x50b26e(0x199)]='day-col-header\x20'+(_0x269f4b?'today':''),_0x4426d4['id']=_0x50b26e(0x15e)+_0x530558,_0x4426d4[_0x50b26e(0x1ce)](_0x50b26e(0x117),_0x530558),_0x4426d4[_0x50b26e(0xd0)]=_0x50b26e(0x1d4)+_0x45b1aa[_0x3bd626]+'</div><div\x20class=\x22dch-num\x22>'+_0x4ca807[_0x50b26e(0x1d8)]()+_0x50b26e(0xbb)+_0x530558+_0x50b26e(0x19e),_0x4426d4[_0x50b26e(0xa5)]=()=>openDayOptions(_0x530558,_0x45b1aa[_0x3bd626]+'\x20'+_0x4ca807['getDate']()),_0x9d5e66['appendChild'](_0x4426d4);const _0x25a6fd=document[_0x50b26e(0xc0)](_0x50b26e(0x15c));_0x25a6fd['className']=_0x50b26e(0x1eb)+(_0x269f4b?'today':''),_0x25a6fd['setAttribute'](_0x50b26e(0x117),_0x530558),_0x25a6fd['setAttribute']('data-day-idx',_0x3bd626),renderEventsForColumn(_0x25a6fd,_0x530558,_0x3bd626),attachLongPressHandler(_0x25a6fd,_0x4ca807),_0x36c3c9[_0x50b26e(0x10c)](_0x25a6fd),updateDayStats(_0x530558);}_0x4db87f[_0x50b26e(0x158)](_0x9d5e66,_0x4db87f[_0x50b26e(0xc9)]),_0x11254[_0x50b26e(0x158)](_0x36c3c9,_0x11254[_0x50b26e(0x10e)](_0x50b26e(0x11d)));}function validateAppointment(_0x290695,_0x2ec84c,_0x569cb7,_0xc9e8a3,_0x881fcd){const _0x2cd904=a2_0x3f43e6,[_0x51f46b,_0x50e809]=_0x2ec84c[_0x2cd904(0x79)](':')['map'](Number),[_0x2bcf75,_0x32b43e]=_0x569cb7[_0x2cd904(0x79)](':')[_0x2cd904(0x98)](Number),_0x3f6cfa=_0x51f46b*0x3c+_0x50e809,_0x17d92a=_0x2bcf75*0x3c+_0x32b43e,_0x58b7c4=String(_0x881fcd);let _0x2e282e=![],_0x4b062a='';for(let _0x1e1c59 of sessions){if(_0x1e1c59[_0x2cd904(0x86)]!==_0x290695)continue;if(_0x1e1c59['status']===_0x2cd904(0x1d2))continue;if(_0xc9e8a3&&String(_0x1e1c59['id'])===String(_0xc9e8a3))continue;const [_0x1ba69e,_0x1bcc31]=_0x1e1c59[_0x2cd904(0x7c)]['split'](':')['map'](Number),[_0x4605dc,_0x46f852]=_0x1e1c59[_0x2cd904(0x71)][_0x2cd904(0x79)](':')[_0x2cd904(0x98)](Number),_0x222ded=_0x1ba69e*0x3c+_0x1bcc31,_0x486515=_0x4605dc*0x3c+_0x46f852;if(Math[_0x2cd904(0x183)](_0x3f6cfa,_0x222ded)<Math['min'](_0x17d92a,_0x486515)){if(_0x1e1c59[_0x2cd904(0x143)]&&String(_0x1e1c59[_0x2cd904(0x143)])===_0x58b7c4)return{'valid':![],'msg':_0x2cd904(0x1e0)+_0x1e1c59[_0x2cd904(0x184)]+_0x2cd904(0x186)};_0x2e282e=!![],_0x4b062a=_0x1e1c59[_0x2cd904(0x184)];}}if(_0x2e282e)return{'valid':!![],'warning':_0x2cd904(0x119)+_0x4b062a};return{'valid':!![]};}function updateDateDisplay(){const _0x4fa597=a2_0x3f43e6,_0x5bb02b=document[_0x4fa597(0xe2)](_0x4fa597(0x15a))['value'],_0x18989f=document[_0x4fa597(0xe2)](_0x4fa597(0x84));if(!_0x5bb02b){_0x18989f['textContent']='';return;}const [_0x4ae97d,_0x72ebc1,_0x3c9ed8]=_0x5bb02b[_0x4fa597(0x79)]('-')[_0x4fa597(0x98)](Number),_0x11ea9a=new Date(_0x4ae97d,_0x72ebc1-0x1,_0x3c9ed8),_0x4c3b12={'weekday':'long','day':_0x4fa597(0xb4),'month':'long','year':'numeric'};let _0x5af47c=_0x11ea9a[_0x4fa597(0xeb)]('ru-RU',_0x4c3b12);_0x5af47c=_0x5af47c[_0x4fa597(0x1c7)](0x0)[_0x4fa597(0x1dc)]()+_0x5af47c[_0x4fa597(0x1bb)](0x1),_0x18989f[_0x4fa597(0x1de)]=_0x5af47c;}function a2_0x1d8a(){const _0x194d78=['timeColumn','7032956magDFn','getHours','text/plain;charset=UTF-8','</b>\x0a\x0a','querySelectorAll','...','scrollLeft','loadLocal','indexOf','doDateHeader','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','syncLoad','px\x200px','Telegram','value','keys','rangeStartDate','btn-primary\x20btn-danger','appendChild','startsWith','querySelector','batch_sync','sid','constructor','dayOptionsSheet','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','seriesId','seriesCountContainer','28656gLZKZO','data-date','send','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','pe-time-label','color','.pib-text','.day-column','getItem','exceptions','length','ranges','.day-col-header','\x20-\x20','getAttribute','touches','inpStart','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','mergeServerData','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','58bGVYhd','user','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','var(--acc-orange)','scrollWidth','clientY','rgba(255,\x2069,\x2058,\x200.3)','T00:00:00','[Settings]\x20Cancel\x20window\x20set\x20to:','rangeStartTime','stopPropagation','scroll','Unknown','json','isArray','sort','send_notification','headerMonth','ready','inpClient','T23:59:59','guest','then','clientId','asBtnOne','apply','4256oGcIHi','log','Save\x20settings\x20error:','Error\x20setting\x20back\x20button:','getText','open','settingsSheet','calendar','getBoundingClientRect','success','2408320krycNb','zIndex','includes','touchstart','floor','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','timeLineBadge','insertBefore','time-label','inpDate','2525348OxVvde','div','v9.0-BATCH-CALENDAR','header-','fetchFromServer','formatDate','search','backgroundPosition','colIndex','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','matrixViewport','warning','.period-switch\x20.p-btn','syncBatch','off','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','</div><div\x20class=\x22dch-num\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','toastTitle','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','uc_clients_v9','Local\x20Load\x20Error','checked','completed','btn-status-toggle\x20undo-mode','patternInfoBox','[Notify]\x20Client\x20SWAP\x20detected','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createDocumentFragment','initDataUnsafe','rangeEndDate','10px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','today','#fff','round','–£–¥–∞–ª–µ–Ω–∏–µ','max','client','top',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','.day-off-overlay','filter','clients','delete','recurringOptionContainer','strokeDashoffset','month','disableVerticalSwipes','as-button\x20danger\x20bold','[Sync]\x20Loading\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','rangesSheet','sheetTitle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','addEventListener','error','mini','className','[Notify]\x20Server\x20Response:','[Notify]\x20Error:\x20Text\x20generation\x20failed','findIndex','(((.+)+)+)+$','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','DOMContentLoaded','status','</span>\x20/\x20','long','\x20status-completed','offsetWidth','pe-cell\x20','expand','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','Critical\x20TMA\x20Error:','Batch\x20Sync\x20OK','borderLeftColor','stat-','var(--acc-red)','#0a84ff','\x20–∏–∑\x20','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','show','text','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','toast','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','parse','vibrate','msg','asBtnSeries','slice','splice','daysHeaderTrack','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','[Series]\x20Skipped\x20','rgba(','pe-col-header','offClick','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','10px\x2010px\x200\x200','charAt','\x20days','setBackgroundColor','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','add','remove','</div><div\x20class=\x22ev-time\x22>','setAttribute','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Detected\x20Client\x20ID:','<b>‚úÖ\x20','cancelled','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','<div\x20class=\x22dch-day\x22>','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getDay','entries','getDate','doBusyHours','getMinutes','%\x20+\x202px)','toUpperCase','actionSheet','textContent','doWorkHours','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','anDonutCircle','toString','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','settings','23:59','day-off-overlay\x20stripe-bg','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','from','inpSeriesCount','setItem','day-column\x20','week','#gridColumns\x20.day-column','settingCancelWindow','gridColumns','getMonth','setHeaderColor','create','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','sessionSheet','overlay','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','[Notify]\x20Attempting\x20to\x20send:','anEnd','router.html','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','forEach','setHours','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','end','client-stat-card','blocked-slot\x20stripe-bg','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','–£—Å–ø–µ—à–Ω–æ','name','now','[Notify]\x20Network\x20Failed','split','clientWidth','rgba(48,\x20209,\x2088,\x200.15)','start','complete','cancel','asTitle','mousemove','dayOptionsTitle','catch','active','sheetDateSubtitle','btn-primary\x20btn-secondary','dateStr','range-item','toLocaleString','custom','inpRecurring','anTotalStats','borderColor','</div>','save_settings','mouseup','var(--acc-green)','option','background','stringify','uc_settings_v9','px\x20-','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','save','map','undefined','init_load','onClick','statLoadCard','6wnAiNh','getTime','99WWOPHA','find','valid',':\x20Client\x20already\x20booked','btnDelete','initData','onclick','update',']\x20Failed:','none','single','localeCompare','saveLocally','toastMessage','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','display','.event-card','\x20‚Äî\x20','rangesList','setDate','Local\x20Save\x20Error','numeric','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','POST','flex','location','ru-RU','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','#050505','rgba(100,100,100,0.5)','[Notify]\x20Error:\x20sessionData\x20is\x20null','getFullYear','createElement','note','rgba(255,\x2069,\x2058,\x200.15)','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','7944fuvadQ','href','calc(','data','firstChild','event-card','inpNote','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','offsetLeft','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','width','innerHTML','100%',':00','peGrid','1047830yRlHvY','total','borderRadius','padStart','height','planned','1892078aByQXu','day-col-header\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Error\x20setting\x20color:','inpEnd','all','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','push','getElementById','classList','Server\x20Error','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','min','BackButton','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','anStart','style','toLocaleDateString','mousedown','WebApp','substr','series','rgba(255,255,255,0.05)','toast-notification\x20','touchend','backgroundColor','patternEditor','block','done','pattern','cancel_window'];a2_0x1d8a=function(){return _0x194d78;};return a2_0x1d8a();}function autoSetEndTime(){const _0x147f2f=a2_0x3f43e6,_0x392d2a=document[_0x147f2f(0xe2)](_0x147f2f(0x126))[_0x147f2f(0x108)];if(!_0x392d2a)return;const [_0x48895b,_0x3f33e4]=_0x392d2a[_0x147f2f(0x79)](':')[_0x147f2f(0x98)](Number);let _0x365a6b=_0x48895b+0x1;if(_0x365a6b>0x17)_0x365a6b=0x0;const _0x388c9b=String(_0x365a6b)[_0x147f2f(0xd7)](0x2,'0')+':'+String(_0x3f33e4)[_0x147f2f(0xd7)](0x2,'0');document[_0x147f2f(0xe2)]('inpEnd')[_0x147f2f(0x108)]=_0x388c9b;}function populateClientSelect(){const _0x46f85a=a2_0x3f43e6,_0x50b481=document[_0x46f85a(0xe2)]('inpClient');_0x50b481[_0x46f85a(0xd0)]='';if(clients[_0x46f85a(0x120)]===0x0){const _0x30b7=document[_0x46f85a(0xc0)](_0x46f85a(0x91));_0x30b7[_0x46f85a(0x1b1)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x50b481[_0x46f85a(0x10c)](_0x30b7);return;}clients[_0x46f85a(0x6e)](_0x3456e8=>{const _0x3ded54=_0x46f85a,_0x4c19b7=document['createElement'](_0x3ded54(0x91));_0x4c19b7[_0x3ded54(0x108)]=_0x3456e8[_0x3ded54(0x76)],_0x4c19b7['textContent']=_0x3456e8[_0x3ded54(0x76)],_0x50b481[_0x3ded54(0x10c)](_0x4c19b7);});}function openActionSheet(_0x33cd38){const _0x434f29=a2_0x3f43e6,_0x4ea750=document[_0x434f29(0xe2)](_0x434f29(0x1dd)),_0x13d72e=document[_0x434f29(0xe2)]('actionSheetOverlay'),_0x19328f=document[_0x434f29(0xe2)](_0x434f29(0x7f)),_0xa069c2=document[_0x434f29(0xe2)](_0x434f29(0x144)),_0x220acc=document[_0x434f29(0xe2)](_0x434f29(0x1ba));_0x13d72e[_0x434f29(0xe3)][_0x434f29(0x1cb)](_0x434f29(0x83)),_0x4ea750[_0x434f29(0xe3)]['add'](_0x434f29(0x14b));if(_0x33cd38===_0x434f29(0x97))_0x19328f[_0x434f29(0x1de)]=_0x434f29(0x16b),_0xa069c2[_0x434f29(0x1de)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0xa069c2['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x220acc[_0x434f29(0x1de)]=_0x434f29(0x16c),_0x220acc['onclick']=()=>{const _0x3372bc=_0x434f29;closeActionSheet(),updateSeriesBatch(_0x3372bc(0xef),tempSessionData);};else _0x33cd38===_0x434f29(0x18a)&&(_0x19328f[_0x434f29(0x1de)]=_0x434f29(0x182),_0xa069c2[_0x434f29(0x1de)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0xa069c2[_0x434f29(0x199)]='as-button\x20danger',_0xa069c2[_0x434f29(0xa5)]=()=>{const _0x5db71f=_0x434f29;closeActionSheet(),commitDelete(_0x5db71f(0xa9),sessions['find'](_0x31e48e=>_0x31e48e['id']===editingId));},_0x220acc['textContent']=_0x434f29(0x16c),_0x220acc[_0x434f29(0x199)]=_0x434f29(0x18f),_0x220acc[_0x434f29(0xa5)]=()=>{const _0x5b3438=_0x434f29;closeActionSheet(),commitDelete(_0x5b3438(0xef),sessions['find'](_0x9b1b16=>_0x9b1b16['id']===editingId));});}function closeActionSheet(){const _0x23944f=a2_0x3f43e6;document['getElementById'](_0x23944f(0x1dd))['classList'][_0x23944f(0x1cc)](_0x23944f(0x14b)),document[_0x23944f(0xe2)]('actionSheetOverlay')[_0x23944f(0xe3)][_0x23944f(0x1cc)]('active');}function openSettings(){const _0x472988=a2_0x3f43e6;openSheet(_0x472988(0x14c));}function saveCoachSettings(){const _0x4024fd=a2_0x3f43e6,_0x4d063b=document['getElementById'](_0x4024fd(0x1ee))[_0x4024fd(0x108)];localStorage[_0x4024fd(0x1ea)]('uc_settings_cancel_window',_0x4d063b),console[_0x4024fd(0x147)](_0x4024fd(0x134),_0x4d063b),DataManager[_0x4024fd(0x15f)](_0x4024fd(0x8e),{'settings':{'cancel_window':_0x4d063b}})['catch'](_0x4cc878=>{const _0x44a18b=_0x4024fd;console[_0x44a18b(0x197)](_0x44a18b(0x148),_0x4cc878),showToast(_0x44a18b(0x1b4),![]);});}function loadCoachSettings(){const _0x161c4f=a2_0x3f43e6,_0x1f3030=localStorage[_0x161c4f(0x11e)]('uc_settings_cancel_window');_0x1f3030&&(document[_0x161c4f(0xe2)]('settingCancelWindow')[_0x161c4f(0x108)]=_0x1f3030);}function openRangesSheet(){const _0x4ad094=a2_0x3f43e6;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4ad094(0x193));}function addRange(){const _0x5e46c1=a2_0x3f43e6,_0x3d6a0c=document[_0x5e46c1(0xe2)](_0x5e46c1(0x10a))[_0x5e46c1(0x108)],_0x36c822=document[_0x5e46c1(0xe2)](_0x5e46c1(0x135))['value'],_0x141d8a=document[_0x5e46c1(0xe2)](_0x5e46c1(0x17c))[_0x5e46c1(0x108)],_0x43b8df=document[_0x5e46c1(0xe2)]('rangeEndTime')[_0x5e46c1(0x108)];if(!_0x3d6a0c||!_0x36c822||!_0x141d8a||!_0x43b8df)return alert(_0x5e46c1(0x1e7));const _0x36b8a2=_0x3d6a0c+'T'+_0x36c822,_0x48471a=_0x141d8a+'T'+_0x43b8df;if(_0x36b8a2>=_0x48471a)return alert(_0x5e46c1(0xce));specialRanges[_0x5e46c1(0xe1)]({'start':_0x36b8a2,'end':_0x48471a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x5e46c1(0xab)](),DataManager[_0x5e46c1(0x15f)](_0x5e46c1(0x8e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1a69c4){const _0x178f5d=a2_0x3f43e6;specialRanges['splice'](_0x1a69c4,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x178f5d(0xab)](),DataManager[_0x178f5d(0x15f)](_0x178f5d(0x8e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x43154b=a2_0x3f43e6;document[_0x43154b(0xe2)](_0x43154b(0x10a))['value']='',document[_0x43154b(0xe2)](_0x43154b(0x135))[_0x43154b(0x108)]='00:00',document[_0x43154b(0xe2)](_0x43154b(0x17c))['value']='',document['getElementById']('rangeEndTime')['value']=_0x43154b(0x1e5);}function renderRangesList(){const _0xabf41=a2_0x3f43e6,_0x18d8e7=document[_0xabf41(0xe2)](_0xabf41(0xb1));_0x18d8e7[_0xabf41(0xd0)]='';if(!specialRanges[_0xabf41(0x120)]){_0x18d8e7['innerHTML']=_0xabf41(0xe5);return;}specialRanges[_0xabf41(0x6e)]((_0xfb2037,_0x49672d)=>{const _0x4197dd=_0xabf41,_0x2b83da=document[_0x4197dd(0xc0)]('div');_0x2b83da[_0x4197dd(0x199)]=_0x4197dd(0x87);const _0x55b767=_0xc249a=>{const _0x4e92d2=_0x4197dd,_0x2c4511=new Date(_0xc249a);return _0x2c4511['getDate']()+'.'+String(_0x2c4511[_0x4e92d2(0x1f0)]()+0x1)[_0x4e92d2(0xd7)](0x2,'0')+'\x20'+String(_0x2c4511[_0x4e92d2(0xfb)]())[_0x4e92d2(0xd7)](0x2,'0')+':'+String(_0x2c4511[_0x4e92d2(0x1da)]())[_0x4e92d2(0xd7)](0x2,'0');};_0x2b83da[_0x4197dd(0xd0)]=_0x4197dd(0x195)+_0x55b767(_0xfb2037[_0x4197dd(0x7c)])+_0x4197dd(0xb0)+_0x55b767(_0xfb2037['end'])+_0x4197dd(0x12b)+_0x49672d+_0x4197dd(0x192),_0x18d8e7['appendChild'](_0x2b83da);});}function scrollToToday(){const _0x5315ed=a2_0x3f43e6,_0x5e7d0c=getLocalDateStr(new Date()),_0xa4271=document[_0x5315ed(0xe2)](_0x5315ed(0x15e)+_0x5e7d0c),_0x1e55a8=document[_0x5315ed(0xe2)](_0x5315ed(0x166));if(_0xa4271&&_0x1e55a8){const _0x25c18f=_0x1e55a8[_0x5315ed(0x7a)],_0x2220e5=_0xa4271['offsetLeft'],_0x5ef3a3=_0xa4271[_0x5315ed(0x1a4)];_0x1e55a8[_0x5315ed(0x100)]=_0x2220e5-_0x25c18f/0x2+_0x5ef3a3/0x2,_0x1e55a8['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x5381b3=a2_0x3f43e6,_0x4dbb4f=document[_0x5381b3(0xe2)]('matrixViewport'),_0x2a5dcf=document[_0x5381b3(0xfe)](_0x5381b3(0x122));for(let _0x53baf3 of _0x2a5dcf)if(_0x53baf3[_0x5381b3(0xcd)]>=_0x4dbb4f[_0x5381b3(0x100)]){const _0x716b90=new Date(_0x53baf3[_0x5381b3(0x124)](_0x5381b3(0x117)));document[_0x5381b3(0xe2)](_0x5381b3(0x13d))[_0x5381b3(0x1de)]=_0x716b90[_0x5381b3(0x88)]('ru',{'month':'long'})[_0x5381b3(0x1dc)]()+'\x20'+_0x716b90[_0x5381b3(0xbf)]();break;}}function showToast(_0x1badad,_0x2fdaab=![]){const _0x5da9e4=a2_0x3f43e6,_0x342437=document['getElementById'](_0x5da9e4(0x1b3));_0x342437[_0x5da9e4(0x199)]=_0x5da9e4(0xf1)+(_0x2fdaab?_0x5da9e4(0x14f):''),document['getElementById'](_0x5da9e4(0x170))[_0x5da9e4(0x1de)]=_0x2fdaab?_0x5da9e4(0x75):'–ò–Ω—Ñ–æ',document['getElementById'](_0x5da9e4(0xac))[_0x5da9e4(0x1de)]=_0x1badad,_0x342437['classList'][_0x5da9e4(0x1cb)]('show'),setTimeout(()=>{const _0x2b29d2=_0x5da9e4;_0x342437[_0x2b29d2(0xe3)][_0x2b29d2(0x1cc)](_0x2b29d2(0x1b0));},0xbb8);}function a2_0x40d7(_0x5147a0,_0x3faf4d){_0x5147a0=_0x5147a0-0x68;const _0x3f825e=a2_0x1d8a();let _0x40a945=_0x3f825e[_0x5147a0];return _0x40a945;}function openDayOptions(_0x41576d,_0x4794a4){const _0x425e5b=a2_0x3f43e6;selectedDayForOptions=_0x41576d,document['getElementById'](_0x425e5b(0x81))[_0x425e5b(0x1de)]=_0x4794a4,openSheet(_0x425e5b(0x112));}function toggleDayOff(){const _0x2e09ff=a2_0x3f43e6;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x2e09ff(0xab)](),DataManager[_0x2e09ff(0x15f)](_0x2e09ff(0x8e),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x354c6f=a2_0x3f43e6;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x354c6f(0xab)](),DataManager['fetchFromServer'](_0x354c6f(0x8e),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4bfbb1){const _0x141fde=a2_0x3f43e6;document[_0x141fde(0xe2)](_0x141fde(0x68))['classList'][_0x141fde(0x1cb)](_0x141fde(0x83)),document[_0x141fde(0xe2)](_0x4bfbb1)[_0x141fde(0xe3)][_0x141fde(0x1cb)]('open');}function closeAllSheets(){const _0x426f2c=a2_0x3f43e6;document['getElementById'](_0x426f2c(0x68))[_0x426f2c(0xe3)][_0x426f2c(0x1cc)](_0x426f2c(0x83)),document[_0x426f2c(0xfe)]('.sheet')[_0x426f2c(0x6e)](_0x173758=>_0x173758['classList'][_0x426f2c(0x1cc)](_0x426f2c(0x14b)));}function openPatternEditor(){const _0x4f1c9f=a2_0x3f43e6;closeAllSheets(),document[_0x4f1c9f(0xe2)](_0x4f1c9f(0xf4))[_0x4f1c9f(0xe3)][_0x4f1c9f(0x1cb)](_0x4f1c9f(0x14b)),renderPatternEditor();}function closePatternEditor(){const _0x596fd8=a2_0x3f43e6;document[_0x596fd8(0xe2)]('patternEditor')['classList'][_0x596fd8(0x1cc)](_0x596fd8(0x14b));}function savePattern(){const _0x5ef20e=a2_0x3f43e6;document[_0x5ef20e(0xe2)](_0x5ef20e(0xf4))[_0x5ef20e(0xe3)][_0x5ef20e(0x1cc)](_0x5ef20e(0x14b)),reRenderBlocks(),DataManager[_0x5ef20e(0xab)](),DataManager[_0x5ef20e(0x15f)](_0x5ef20e(0x8e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2760db=a2_0x3f43e6,_0x660f89=document[_0x2760db(0xe2)](_0x2760db(0xd3));_0x660f89[_0x2760db(0xd0)]='';const _0x408b10=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x70f7a6=document[_0x2760db(0xc0)](_0x2760db(0x15c));_0x70f7a6[_0x2760db(0x199)]='pe-corner',_0x660f89[_0x2760db(0x10c)](_0x70f7a6),_0x408b10[_0x2760db(0x6e)]((_0x8285a,_0x4bbdfa)=>{const _0x489495=_0x2760db,_0x16883c=document[_0x489495(0xc0)](_0x489495(0x15c));_0x16883c['className']=_0x489495(0x1c3),_0x16883c['innerHTML']=_0x8285a+_0x489495(0x1d5),_0x16883c['onclick']=()=>toggleColPattern(_0x4bbdfa),_0x660f89['appendChild'](_0x16883c);});for(let _0x498bb4=0x0;_0x498bb4<0x18;_0x498bb4++){const _0x3c43df=document[_0x2760db(0xc0)](_0x2760db(0x15c));_0x3c43df['className']=_0x2760db(0x11a),_0x3c43df['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x498bb4)[_0x2760db(0xd7)](0x2,'0')+':00',_0x3c43df[_0x2760db(0xa5)]=()=>toggleRowPattern(_0x498bb4),_0x660f89['appendChild'](_0x3c43df);for(let _0x6a57f6=0x0;_0x6a57f6<0x7;_0x6a57f6++){const _0x2bc003=document['createElement'](_0x2760db(0x15c)),_0x31b9c5=(availabilityPattern[_0x6a57f6]||[])[_0x2760db(0x152)](_0x498bb4),_0x57962e=!_0x31b9c5;_0x2bc003[_0x2760db(0x199)]=_0x2760db(0x1a5)+(_0x57962e?_0x2760db(0x83):''),_0x2bc003[_0x2760db(0xa5)]=()=>toggleSinglePattern(_0x6a57f6,_0x498bb4),_0x660f89[_0x2760db(0x10c)](_0x2bc003);}}}function toggleSinglePattern(_0x354d87,_0x3c6b4b){if(!availabilityPattern[_0x354d87])availabilityPattern[_0x354d87]=[];const _0x1d9217=availabilityPattern[_0x354d87],_0x534228=_0x1d9217['indexOf'](_0x3c6b4b);_0x534228===-0x1?_0x1d9217['push'](_0x3c6b4b):_0x1d9217['splice'](_0x534228,0x1),renderPatternEditor();}function toggleColPattern(_0x66b005){const _0x5d651e=a2_0x3f43e6;if(!availabilityPattern[_0x66b005])availabilityPattern[_0x66b005]=[];const _0x59833a=availabilityPattern[_0x66b005];_0x59833a[_0x5d651e(0x120)]===0x0?availabilityPattern[_0x66b005]=Array[_0x5d651e(0x1e8)]({'length':0x18},(_0x5f1183,_0x50d3b9)=>_0x50d3b9):availabilityPattern[_0x66b005]=[],renderPatternEditor();}function toggleRowPattern(_0xb76091){const _0x2a79ba=a2_0x3f43e6;let _0x1055f0=!![];for(let _0x53d9c3=0x0;_0x53d9c3<0x7;_0x53d9c3++){if((availabilityPattern[_0x53d9c3]||[])[_0x2a79ba(0x152)](_0xb76091)){_0x1055f0=![];break;}}for(let _0x2d3b0a=0x0;_0x2d3b0a<0x7;_0x2d3b0a++){if(!availabilityPattern[_0x2d3b0a])availabilityPattern[_0x2d3b0a]=[];const _0x139b7f=availabilityPattern[_0x2d3b0a][_0x2a79ba(0x102)](_0xb76091);if(_0x1055f0){if(_0x139b7f===-0x1)availabilityPattern[_0x2d3b0a][_0x2a79ba(0xe1)](_0xb76091);}else{if(_0x139b7f!==-0x1)availabilityPattern[_0x2d3b0a][_0x2a79ba(0x1bc)](_0x139b7f,0x1);}}renderPatternEditor();}function renderPCol(_0x25e32b,_0x2915bd){const _0x1fca2f=a2_0x3f43e6;_0x25e32b[_0x1fca2f(0xd0)]='';const _0x41e7bd=Math[_0x1fca2f(0x181)](_0x25e32b[_0x1fca2f(0xcd)]);(availabilityPattern[_0x2915bd]||[])[_0x1fca2f(0x6e)](_0x75b519=>{const _0x42c5a3=_0x1fca2f,_0x3216be=document['createElement'](_0x42c5a3(0x15c));_0x3216be[_0x42c5a3(0x199)]=_0x42c5a3(0x73);const _0x13ac18=_0x75b519*GRID_H;_0x3216be[_0x42c5a3(0xea)][_0x42c5a3(0x185)]=_0x13ac18+'px',_0x3216be[_0x42c5a3(0xea)][_0x42c5a3(0x162)]='-'+_0x41e7bd+_0x42c5a3(0x95)+_0x13ac18+'px',_0x3216be[_0x42c5a3(0xa5)]=_0x1a180b=>{const _0x9c138e=_0x42c5a3;_0x1a180b[_0x9c138e(0x136)](),toggleSinglePattern(_0x2915bd,_0x75b519);},_0x25e32b[_0x42c5a3(0x10c)](_0x3216be);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x17b7ac=a2_0x3f43e6,_0x399a29=new Date(),_0x3f252a=document['getElementById']('globalTimeLine'),_0x47f50d=document['getElementById']('timeLineBadge'),_0x24ac52=(_0x399a29[_0x17b7ac(0xfb)]()*0x3c+_0x399a29[_0x17b7ac(0x1da)]())/0x3c*GRID_H;_0x3f252a[_0x17b7ac(0xea)][_0x17b7ac(0x185)]=_0x24ac52+'px',_0x3f252a[_0x17b7ac(0xea)][_0x17b7ac(0xae)]=_0x17b7ac(0xf5),_0x47f50d[_0x17b7ac(0x1de)]=String(_0x399a29['getHours']())[_0x17b7ac(0xd7)](0x2,'0')+':'+String(_0x399a29[_0x17b7ac(0x1da)]())[_0x17b7ac(0xd7)](0x2,'0'),_0x47f50d[_0x17b7ac(0xea)][_0x17b7ac(0xae)]=_0x17b7ac(0xf5),_0x47f50d[_0x17b7ac(0xea)][_0x17b7ac(0x185)]=_0x24ac52+'px';}document['addEventListener'](a2_0x3f43e6(0x19f),init);function openDayOptions(_0x3e765a){const _0xe709fb=a2_0x3f43e6;selectedDayForOptions=_0x3e765a;const _0x1e39d9=new Date(_0x3e765a),_0x20388c={'weekday':'long','day':_0xe709fb(0xb4),'month':_0xe709fb(0x1a2),'year':_0xe709fb(0xb4)},_0x4dfe51=_0x1e39d9[_0xe709fb(0xeb)](_0xe709fb(0xb9),_0x20388c);document[_0xe709fb(0xe2)](_0xe709fb(0x103))[_0xe709fb(0x1de)]=_0x4dfe51[_0xe709fb(0x1c7)](0x0)['toUpperCase']()+_0x4dfe51[_0xe709fb(0x1bb)](0x1);let _0x51e96f=_0x1e39d9[_0xe709fb(0x1d6)]()-0x1;if(_0x51e96f===-0x1)_0x51e96f=0x6;const _0x294b34=availabilityPattern[_0x51e96f]||[],_0x6e472e=0x18-_0x294b34['length'],_0x31354f=_0x6e472e*0x3c,_0x9f3332=sessions[_0xe709fb(0x188)](_0x26e8d0=>_0x26e8d0[_0xe709fb(0x86)]===_0x3e765a&&_0x26e8d0['status']!==_0xe709fb(0x1d2));let _0x3d93d3=_0x9f3332[_0xe709fb(0x98)](_0x36d8e9=>{const _0x161f1f=_0xe709fb,[_0x6c4f20,_0x3f6b65]=_0x36d8e9[_0x161f1f(0x7c)]['split'](':')[_0x161f1f(0x98)](Number),[_0xb71172,_0x115bba]=_0x36d8e9['end'][_0x161f1f(0x79)](':')[_0x161f1f(0x98)](Number);return[_0x6c4f20*0x3c+_0x3f6b65,_0xb71172*0x3c+_0x115bba];});_0x3d93d3[_0xe709fb(0x13b)]((_0x286568,_0x2eba0b)=>_0x286568[0x0]-_0x2eba0b[0x0]);let _0x17d111=[];if(_0x3d93d3[_0xe709fb(0x120)]>0x0){let _0x28a6d9=_0x3d93d3[0x0];for(let _0x320dce=0x1;_0x320dce<_0x3d93d3[_0xe709fb(0x120)];_0x320dce++){_0x3d93d3[_0x320dce][0x0]<_0x28a6d9[0x1]?_0x28a6d9[0x1]=Math['max'](_0x28a6d9[0x1],_0x3d93d3[_0x320dce][0x1]):(_0x17d111[_0xe709fb(0xe1)](_0x28a6d9),_0x28a6d9=_0x3d93d3[_0x320dce]);}_0x17d111['push'](_0x28a6d9);}let _0x2da3ae=0x0;_0x17d111[_0xe709fb(0x6e)](_0x3945e1=>_0x2da3ae+=_0x3945e1[0x1]-_0x3945e1[0x0]),document[_0xe709fb(0xe2)](_0xe709fb(0x1df))[_0xe709fb(0x1de)]=formatMinsToHrs(_0x31354f),document[_0xe709fb(0xe2)](_0xe709fb(0x1d9))['textContent']=formatMinsToHrs(_0x2da3ae);const _0x587096=_0x31354f>0x0?Math[_0xe709fb(0x181)](_0x2da3ae/_0x31354f*0x64):0x0,_0x129c6c=document['getElementById']('doLoadPercent');_0x129c6c[_0xe709fb(0x1de)]=_0x587096+'%';const _0x59a3a9=document[_0xe709fb(0xe2)](_0xe709fb(0x9c));if(_0x587096>0x64)_0x129c6c['style'][_0xe709fb(0x11b)]=_0xe709fb(0x1ac),_0x59a3a9['style']['borderColor']=_0xe709fb(0x132);else _0x587096>0x50?(_0x129c6c[_0xe709fb(0xea)][_0xe709fb(0x11b)]=_0xe709fb(0x12f),_0x59a3a9[_0xe709fb(0xea)][_0xe709fb(0x8c)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x129c6c[_0xe709fb(0xea)][_0xe709fb(0x11b)]=_0xe709fb(0x90),_0x59a3a9[_0xe709fb(0xea)][_0xe709fb(0x8c)]=_0xe709fb(0xf0));const _0x3719ce=document[_0xe709fb(0xe2)]('doEventsList');_0x3719ce[_0xe709fb(0xd0)]='';_0x9f3332[_0xe709fb(0x120)]===0x0?_0x3719ce[_0xe709fb(0xd0)]=_0xe709fb(0x16f):(_0x9f3332['sort']((_0x377706,_0x24ca35)=>_0x377706[_0xe709fb(0x7c)][_0xe709fb(0xaa)](_0x24ca35[_0xe709fb(0x7c)])),_0x9f3332['forEach'](_0x56949a=>{const _0x49e3ab=_0xe709fb,_0x2a01f8=clients[_0x49e3ab(0xa0)](_0x53a60f=>_0x53a60f[_0x49e3ab(0x76)]===_0x56949a[_0x49e3ab(0x184)]),_0x2ac605=_0x2a01f8?_0x2a01f8['color']:_0x49e3ab(0x180),_0x482cf9=_0x56949a[_0x49e3ab(0x1a0)]===_0x49e3ab(0x175),_0x47956e=_0x482cf9?_0x49e3ab(0xe0):'',_0x555018=document['createElement'](_0x49e3ab(0x15c));_0x555018[_0x49e3ab(0x199)]='de-item',_0x555018[_0x49e3ab(0xea)][_0x49e3ab(0x1aa)]=_0x2ac605,_0x555018[_0x49e3ab(0xd0)]=_0x49e3ab(0x1b5)+_0x56949a[_0x49e3ab(0x7c)]+_0x49e3ab(0x123)+_0x56949a['end']+_0x49e3ab(0x16e)+_0x56949a['client']+_0x49e3ab(0x179)+_0x47956e+_0x49e3ab(0x17e),_0x3719ce[_0x49e3ab(0x10c)](_0x555018);}));const _0x328116=document['getElementById']('btnDayToggle'),_0x199858=dateExceptions[_0x3e765a]==='off';_0x199858?(_0x328116[_0xe709fb(0x1de)]=_0xe709fb(0x12a),_0x328116[_0xe709fb(0x199)]=_0xe709fb(0x85),_0x328116[_0xe709fb(0xea)]['color']='var(--acc-green)',_0x328116['style'][_0xe709fb(0x92)]=_0xe709fb(0x7b)):(_0x328116[_0xe709fb(0x1de)]=_0xe709fb(0x156),_0x328116['className']=_0xe709fb(0x10b),_0x328116['style']['color']=_0xe709fb(0x1ac),_0x328116[_0xe709fb(0xea)][_0xe709fb(0x92)]=_0xe709fb(0xc2)),openSheet(_0xe709fb(0x112));}let currentAnPeriod=a2_0x3f43e6(0x1ec);function openAnalytics(){const _0x21385e=a2_0x3f43e6,_0xb2961=document[_0x21385e(0x10e)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x21385e(0x1ec),_0xb2961),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3d8458,_0x368562){const _0x8b2642=a2_0x3f43e6;currentAnPeriod=_0x3d8458,document[_0x8b2642(0xfe)](_0x8b2642(0x168))[_0x8b2642(0x6e)](_0x8f1dcc=>_0x8f1dcc[_0x8b2642(0xe3)][_0x8b2642(0x1cc)](_0x8b2642(0x83)));if(_0x368562)_0x368562['classList']['add'](_0x8b2642(0x83));const _0x5af3ae=document[_0x8b2642(0xe2)]('anCustomDates');_0x5af3ae[_0x8b2642(0xea)][_0x8b2642(0xae)]=_0x3d8458===_0x8b2642(0x89)?_0x8b2642(0xb7):_0x8b2642(0xa8);const _0x903337=new Date();let _0x11858c=new Date(),_0x8a1318=new Date();if(_0x3d8458===_0x8b2642(0x1ec))_0x11858c=getStartOfWeek(_0x903337),_0x8a1318=new Date(_0x11858c),_0x8a1318[_0x8b2642(0xb2)](_0x8a1318[_0x8b2642(0x1d8)]()+0x6);else{if(_0x3d8458===_0x8b2642(0x18d))_0x11858c=new Date(_0x903337[_0x8b2642(0xbf)](),_0x903337['getMonth'](),0x1),_0x8a1318=new Date(_0x903337[_0x8b2642(0xbf)](),_0x903337['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x8b2642(0xe9))[_0x8b2642(0x108)]&&(document[_0x8b2642(0xe2)](_0x8b2642(0xe9))[_0x8b2642(0x108)]=getLocalDateStr(_0x903337),document['getElementById'](_0x8b2642(0x6b))[_0x8b2642(0x108)]=getLocalDateStr(_0x903337));refreshAnalytics();return;}}document['getElementById'](_0x8b2642(0xe9))[_0x8b2642(0x108)]=getLocalDateStr(_0x11858c),document[_0x8b2642(0xe2)](_0x8b2642(0x6b))[_0x8b2642(0x108)]=getLocalDateStr(_0x8a1318),refreshAnalytics();}function refreshAnalytics(){const _0x3262b8=a2_0x3f43e6,_0x44bc08=document['getElementById'](_0x3262b8(0xe9))['value'],_0x30f24b=document[_0x3262b8(0xe2)](_0x3262b8(0x6b))[_0x3262b8(0x108)];if(!_0x44bc08||!_0x30f24b)return;const _0x37851c=sessions[_0x3262b8(0x188)](_0x55b9a6=>_0x55b9a6[_0x3262b8(0x86)]>=_0x44bc08&&_0x55b9a6['dateStr']<=_0x30f24b&&_0x55b9a6[_0x3262b8(0x1a0)]!=='cancelled'),_0x42da4e=_0x37851c[_0x3262b8(0x120)],_0x30c427=_0x37851c[_0x3262b8(0x188)](_0x45c901=>_0x45c901[_0x3262b8(0x1a0)]===_0x3262b8(0x175))[_0x3262b8(0x120)],_0x4505a3=_0x42da4e>0x0?Math[_0x3262b8(0x181)](_0x30c427/_0x42da4e*0x64):0x0;document[_0x3262b8(0xe2)]('anPercent')[_0x3262b8(0x1de)]=_0x4505a3+'%',document['getElementById'](_0x3262b8(0x8b))[_0x3262b8(0x1de)]=_0x30c427+_0x3262b8(0x1ae)+_0x42da4e+_0x3262b8(0xdc);const _0x33fb2b=document[_0x3262b8(0xe2)](_0x3262b8(0x1e1)),_0x24b764=0x2*Math['PI']*0x23,_0x555be3=_0x24b764-_0x4505a3/0x64*_0x24b764;_0x33fb2b['style'][_0x3262b8(0x18c)]=_0x555be3;const _0x2f867a={};_0x37851c[_0x3262b8(0x6e)](_0x3f95f3=>{const _0x15dad2=_0x3262b8;if(!_0x2f867a[_0x3f95f3[_0x15dad2(0x184)]]){const _0x1871c5=clients[_0x15dad2(0xa0)](_0x39294c=>_0x39294c[_0x15dad2(0x76)]===_0x3f95f3[_0x15dad2(0x184)]);_0x2f867a[_0x3f95f3[_0x15dad2(0x184)]]={'total':0x0,'done':0x0,'color':_0x1871c5?_0x1871c5[_0x15dad2(0x11b)]:_0x15dad2(0x180)};}_0x2f867a[_0x3f95f3['client']][_0x15dad2(0xd5)]++;if(_0x3f95f3[_0x15dad2(0x1a0)]===_0x15dad2(0x175))_0x2f867a[_0x3f95f3[_0x15dad2(0x184)]][_0x15dad2(0xf6)]++;});const _0x3b4ffb=document[_0x3262b8(0xe2)]('analyticsList');_0x3b4ffb[_0x3262b8(0xd0)]='';const _0xb62bf5=Object[_0x3262b8(0x1d7)](_0x2f867a)[_0x3262b8(0x13b)]((_0x36c883,_0xc7e0cd)=>_0xc7e0cd[0x1][_0x3262b8(0xd5)]-_0x36c883[0x1][_0x3262b8(0xd5)]);if(_0xb62bf5[_0x3262b8(0x120)]===0x0){_0x3b4ffb[_0x3262b8(0xd0)]=_0x3262b8(0x70);return;}_0xb62bf5[_0x3262b8(0x6e)](([_0x11f9c9,_0x2169df])=>{const _0x59bcd2=_0x3262b8,_0x2fd783=Math['round'](_0x2169df['done']/_0x2169df[_0x59bcd2(0xd5)]*0x64),_0xda281f=document['createElement'](_0x59bcd2(0x15c));_0xda281f[_0x59bcd2(0x199)]=_0x59bcd2(0x72),_0xda281f[_0x59bcd2(0xea)]['borderLeftColor']=_0x2169df[_0x59bcd2(0x11b)],_0xda281f[_0x59bcd2(0xd0)]=_0x59bcd2(0xc4)+_0x11f9c9+_0x59bcd2(0xad)+_0x2169df[_0x59bcd2(0xf6)]+_0x59bcd2(0x1a1)+_0x2169df[_0x59bcd2(0xd5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x2fd783+_0x59bcd2(0x1cf),_0x3b4ffb[_0x59bcd2(0x10c)](_0xda281f);});}function formatMinsToHrs(_0x37bca6){const _0x15a279=a2_0x3f43e6;if(_0x37bca6===0x0)return'0';const _0x21e389=Math[_0x15a279(0x154)](_0x37bca6/0x3c),_0x458cd3=_0x37bca6%0x3c;if(_0x458cd3===0x0)return _0x21e389+'—á';return _0x21e389+'—á\x20'+_0x458cd3+'–º';}