const a2_0x3f395c=a2_0x35f7;(function(_0x3b2035,_0x575353){const _0xeee1ca=a2_0x35f7,_0x107298=_0x3b2035();while(!![]){try{const _0x45e31e=-parseInt(_0xeee1ca(0x19f))/0x1*(parseInt(_0xeee1ca(0x11f))/0x2)+parseInt(_0xeee1ca(0x192))/0x3+parseInt(_0xeee1ca(0x1eb))/0x4*(parseInt(_0xeee1ca(0x1cb))/0x5)+parseInt(_0xeee1ca(0x112))/0x6*(-parseInt(_0xeee1ca(0x173))/0x7)+parseInt(_0xeee1ca(0x105))/0x8*(-parseInt(_0xeee1ca(0x126))/0x9)+-parseInt(_0xeee1ca(0x1ab))/0xa*(parseInt(_0xeee1ca(0x219))/0xb)+-parseInt(_0xeee1ca(0x162))/0xc*(-parseInt(_0xeee1ca(0x1f5))/0xd);if(_0x45e31e===_0x575353)break;else _0x107298['push'](_0x107298['shift']());}catch(_0x50936f){_0x107298['push'](_0x107298['shift']());}}}(a2_0x5632,0x43b8a),function initTMA(){const _0x47d1c0=a2_0x35f7;try{const _0x46c0ed=window[_0x47d1c0(0x224)]?.[_0x47d1c0(0xed)];if(!_0x46c0ed)return;_0x46c0ed[_0x47d1c0(0x17f)](),_0x46c0ed[_0x47d1c0(0x114)]();try{_0x46c0ed[_0x47d1c0(0x14c)]('#050505'),_0x46c0ed['setBackgroundColor']&&_0x46c0ed['setBackgroundColor'](_0x47d1c0(0x1c9));}catch(_0x1335ad){console[_0x47d1c0(0x23f)](_0x47d1c0(0x21d),_0x1335ad);}try{_0x46c0ed[_0x47d1c0(0x176)]&&(_0x46c0ed[_0x47d1c0(0x176)][_0x47d1c0(0x13d)](),_0x46c0ed[_0x47d1c0(0x176)][_0x47d1c0(0x182)](),_0x46c0ed[_0x47d1c0(0x176)]['onClick'](function(){const _0x311e19=_0x47d1c0;window[_0x311e19(0x107)][_0x311e19(0x200)]=_0x311e19(0x20f);}));}catch(_0x14e56f){console['log'](_0x47d1c0(0x1d9),_0x14e56f);}try{if(_0x46c0ed['disableVerticalSwipes'])_0x46c0ed[_0x47d1c0(0x21f)]();}catch(_0x4a0fde){}}catch(_0x23c159){console['error']('Critical\x20TMA\x20Error:',_0x23c159);}}());function isAdmin(){const _0x4bde73=a2_0x35f7;try{const _0x4a9991=Number(window[_0x4bde73(0x224)]?.['WebApp']?.[_0x4bde73(0x1e8)]?.['user']?.['id']);return _0x4a9991===0xbaf7174;}catch(_0x32a3c5){return![];}}const APP_VERSION=a2_0x3f395c(0x12b),API_URL=a2_0x3f395c(0x1a1),GRID_H=0x3c;function a2_0x35f7(_0x534eed,_0x1223ae){_0x534eed=_0x534eed-0xd2;const _0x57e22a=a2_0x5632();let _0x19fda3=_0x57e22a[_0x534eed];return _0x19fda3;}let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x3f395c(0x248),KEY_SESSIONS=a2_0x3f395c(0x22b),KEY_SETTINGS=a2_0x3f395c(0xfa);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xab2db4=a2_0x3f395c;return window[_0xab2db4(0x224)]?.['WebApp']?.[_0xab2db4(0x1e8)]?.[_0xab2db4(0x229)]?.['id']||_0xab2db4(0x14d);},'saveLocally'(){const _0x31aff4=a2_0x3f395c;try{localStorage[_0x31aff4(0x1f0)](KEY_CLIENTS,JSON[_0x31aff4(0x24b)](clients)),localStorage[_0x31aff4(0x1f0)](KEY_SESSIONS,JSON[_0x31aff4(0x24b)](sessions)),localStorage[_0x31aff4(0x1f0)](KEY_SETTINGS,JSON[_0x31aff4(0x24b)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1a6997){console[_0x31aff4(0x211)](_0x31aff4(0x164),_0x1a6997);}},'loadLocal'(){const _0x2ef19f=a2_0x3f395c;try{const _0x2701ba=localStorage[_0x2ef19f(0x1ea)](KEY_CLIENTS);if(_0x2701ba)clients=JSON[_0x2ef19f(0x1d5)](_0x2701ba);const _0x3cedeb=localStorage[_0x2ef19f(0x1ea)](KEY_SESSIONS);if(_0x3cedeb)sessions=JSON[_0x2ef19f(0x1d5)](_0x3cedeb);const _0x4a9782=localStorage[_0x2ef19f(0x1ea)](KEY_SETTINGS);if(_0x4a9782){const _0x49ac51=JSON['parse'](_0x4a9782);if(_0x49ac51['pattern'])availabilityPattern=_0x49ac51[_0x2ef19f(0x1af)];if(_0x49ac51[_0x2ef19f(0x249)])dateExceptions=_0x49ac51[_0x2ef19f(0x249)];if(_0x49ac51[_0x2ef19f(0x1a7)])specialRanges=_0x49ac51[_0x2ef19f(0x1a7)];}else{for(let _0x329cbb=0x0;_0x329cbb<0x7;_0x329cbb++)availabilityPattern[_0x329cbb]=Array[_0x2ef19f(0x1bf)]({'length':0xc},(_0x2bf691,_0x4c4a7f)=>_0x4c4a7f+0x9);}}catch(_0x3a9870){console[_0x2ef19f(0x211)](_0x2ef19f(0x1ef),_0x3a9870);}},async 'fetchFromServer'(_0x21ebc4,_0x1f872={}){const _0x3834dc=a2_0x3f395c,_0x21af28=window['Telegram']?.[_0x3834dc(0xed)],_0xdf271={'action':_0x21ebc4,'init_data':_0x21af28?.[_0x3834dc(0x124)]||'',..._0x1f872};try{const _0x1421a1=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x3834dc(0x193)},'body':JSON[_0x3834dc(0x24b)](_0xdf271)}),_0x3f2cac=await _0x1421a1[_0x3834dc(0x218)]();if(!_0x3f2cac['ok'])throw new Error(_0x3f2cac[_0x3834dc(0x211)]||'Server\x20Error');return _0x3f2cac[_0x3834dc(0x246)];}catch(_0x5c02ad){console['error'](_0x3834dc(0x150)+_0x21ebc4+_0x3834dc(0xdf),_0x5c02ad);throw _0x5c02ad;}},async 'syncLoad'(){const _0x4139f0=a2_0x3f395c,_0x26d4ae=new Date(),_0x42d370=_0x26d4ae[_0x4139f0(0x1aa)]()+'-'+String(_0x26d4ae[_0x4139f0(0xe7)]()+0x1)[_0x4139f0(0x18f)](0x2,'0'),_0x157ba3=new Date(_0x26d4ae);_0x157ba3[_0x4139f0(0x23d)](_0x26d4ae[_0x4139f0(0xe7)]()+0x1);const _0x28ead1=_0x157ba3[_0x4139f0(0x1aa)]()+'-'+String(_0x157ba3[_0x4139f0(0xe7)]()+0x1)[_0x4139f0(0x18f)](0x2,'0'),_0x13c094=Date[_0x4139f0(0xf4)]();console[_0x4139f0(0x23f)](_0x4139f0(0x1b0)+_0x42d370+',\x20'+_0x28ead1+'...');try{const [_0x2217af,_0xe52015]=await Promise[_0x4139f0(0x22a)]([this[_0x4139f0(0x202)](_0x4139f0(0x104),{'month_str':_0x42d370}),this['fetchFromServer'](_0x4139f0(0x104),{'month_str':_0x28ead1})]);if(lastUserActionTime>_0x13c094)return console[_0x4139f0(0x1fb)](_0x4139f0(0x15d)),![];return this[_0x4139f0(0x1d1)](_0x2217af,_0x42d370),this[_0x4139f0(0x1d1)](_0xe52015,_0x28ead1),this[_0x4139f0(0x18e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x18168d){console[_0x4139f0(0x211)](_0x18168d);throw _0x18168d;}},'mergeServerData'(_0x1972b3,_0x47124c){const _0x4f6361=a2_0x3f395c;if(!_0x1972b3)return;_0x1972b3['clients']&&Array['isArray'](_0x1972b3['clients'])&&(clients=_0x1972b3[_0x4f6361(0x1c6)]);if(_0x1972b3[_0x4f6361(0x118)]){if(_0x1972b3['settings']['pattern'])availabilityPattern=_0x1972b3['settings'][_0x4f6361(0x1af)];if(_0x1972b3[_0x4f6361(0x118)]['exceptions'])dateExceptions=_0x1972b3['settings'][_0x4f6361(0x249)];if(_0x1972b3['settings'][_0x4f6361(0x1a7)])specialRanges=_0x1972b3['settings'][_0x4f6361(0x1a7)];if(_0x1972b3[_0x4f6361(0x118)][_0x4f6361(0x1b1)]){localStorage[_0x4f6361(0x1f0)]('uc_settings_cancel_window',_0x1972b3[_0x4f6361(0x118)][_0x4f6361(0x1b1)]);const _0x4a146a=document[_0x4f6361(0x178)](_0x4f6361(0x235));if(_0x4a146a)_0x4a146a[_0x4f6361(0x242)]=_0x1972b3[_0x4f6361(0x118)][_0x4f6361(0x1b1)];}}_0x1972b3['calendar']&&(sessions=sessions['filter'](_0x681986=>!_0x681986['dateStr'][_0x4f6361(0x1c0)](_0x47124c)),Object[_0x4f6361(0x19e)](_0x1972b3[_0x4f6361(0xfe)])[_0x4f6361(0x230)](_0x192acc=>{const _0x21fdc0=_0x4f6361,_0x4d8b69=_0x1972b3[_0x21fdc0(0xfe)][_0x192acc];_0x4d8b69[_0x21fdc0(0x230)](_0x487fa2=>{const _0x45ae23=_0x21fdc0,_0x20774a=clients[_0x45ae23(0x1bc)](_0x138df4=>String(_0x138df4['id'])===String(_0x487fa2['c']));sessions[_0x45ae23(0xd3)]({'id':_0x487fa2['i'],'clientId':_0x487fa2['c'],'client':_0x20774a?_0x20774a[_0x45ae23(0x247)]:_0x45ae23(0x17a),'dateStr':_0x47124c+'-'+_0x192acc['padStart'](0x2,'0'),'start':_0x487fa2['s'],'end':_0x487fa2['e'],'status':_0x487fa2['st']||_0x45ae23(0x17c),'note':_0x487fa2['n']||'','seriesId':_0x487fa2[_0x45ae23(0xea)]||null});});}));},async 'syncBatch'(_0x4ad4a2){const _0x59aa57=a2_0x3f395c,_0x577950=[...new Set(_0x4ad4a2)],_0x5da4e5=_0x577950[_0x59aa57(0x148)](_0x148743=>{const _0x23bddd=_0x59aa57,_0x2ff099=sessions[_0x23bddd(0x24e)](_0x46d3db=>_0x46d3db[_0x23bddd(0x1ac)]===_0x148743&&_0x46d3db[_0x23bddd(0x244)]!=='deleted'),_0x147cbd=_0x2ff099['map'](_0x32ec87=>({'i':_0x32ec87['id'],'c':_0x32ec87[_0x23bddd(0x17e)],'s':_0x32ec87[_0x23bddd(0x184)],'e':_0x32ec87['end'],'st':_0x32ec87[_0x23bddd(0x244)],'n':_0x32ec87[_0x23bddd(0x153)],'sid':_0x32ec87['seriesId']}));return{'date':_0x148743,'day_data':_0x147cbd};});if(_0x5da4e5[_0x59aa57(0x14f)]===0x0)return;console[_0x59aa57(0x23f)](_0x59aa57(0x1b2)+_0x5da4e5[_0x59aa57(0x14f)]+'\x20days'),await this['fetchFromServer']('batch_sync',{'changes':_0x5da4e5});}};function a2_0x5632(){const _0x5b4aca=['timeLineBadge','error','T00:00:00','daysHeaderTrack','anTotalStats','patternEditor','time-label','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','json','1551MZVMrr','rangeEndDate','width','toLocaleString','Error\x20setting\x20color:','open','disableVerticalSwipes','actionSheet','off','matrixViewport','anCustomDates','Telegram','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','series','checked','100%','user','all','uc_sessions_v9','%\x20+\x202px)','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','T23:59:59','forEach','peGrid','btnStatusToggle','pe-corner','#0a84ff','settingCancelWindow','search','getMinutes','innerHTML','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','complete','uc_settings_cancel_window','(((.+)+)+)+$','setMonth','[Notify]\x20Error:\x20sessionData\x20is\x20null','log','colIndex','inpDate','value','toFixed','status','onclick','data','name','uc_clients_v9','exceptions','random','stringify','create','active','filter','Save\x20settings\x20error:','offsetLeft','push','overlay','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','findIndex','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–£—Å–ø–µ—à–Ω–æ','pe-col-header','rgba(','catch','backgroundPosition','btnDayToggle','rgba(255,\x2069,\x2058,\x200.15)',']\x20Failed:','pe-time-label','range-item','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rangeStartDate','toLocaleDateString','min','none','getMonth','\x20-\x20','month','sid','splice','.pib-text','WebApp','height','target','asBtnOne','offsetWidth','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>',':\x20Client\x20already\x20booked','now','asTitle','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','<span>','total','touchmove','uc_settings_v9',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','done','calendar','insertBefore','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','today','px\x200px','substr','init_load','992yzulmL','getHours','location','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','entries','save','timeColumn','[Settings]\x20Cancel\x20window\x20set\x20to:','warning','querySelectorAll','createElement','calc(','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','39684AtPPrn','anStart','expand','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','update','...','settings','settingsSheet','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','var(--acc-red)','gridColumns','numeric','scroll','2PGcAdL','rangesList','querySelector','display','seriesId','initData','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','1773KuDEtG','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','touchend','blocked-range-part\x20stripe-bg','clientWidth','v9.0-BATCH-CALENDAR','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','div','.day-off-overlay','rangeStartTime','round','stat-',':00','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','strokeDashoffset','text','doEventsList','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','completed','getAttribute','10px\x2010px\x200\x200','save_settings','Batch\x20Sync\x20OK','show','header-','single','px\x20-','vibrate','day-col-header\x20','mousemove','classList','var(--acc-orange)','toUpperCase','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','map','toast','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','setHeaderColor','guest','doBusyHours','length','[API\x20','getBoundingClientRect','flex','note','syncLoad','anDonutCircle','inpNote','split','block',':00</span>','.day-col-header','.day-column','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','null','touches','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','ru-RU','7816908XShIrF','scrollLeft','Local\x20Save\x20Error','createDocumentFragment','btn-primary\x20btn-secondary','00:00','toString','doLoadPercent','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','analyticsSheet','DOMContentLoaded','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','color','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','actionSheetOverlay','getTime','btn-status-toggle\x20undo-mode','217osGPEb','–ò–Ω—Ñ–æ','scrollWidth','BackButton','addEventListener','getElementById','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','Unknown','zIndex','planned','rgba(255,\x2069,\x2058,\x200.3)','clientId','ready','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','recurringOptionContainer','offClick','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','start','floor','#fff','day-off-overlay\x20stripe-bg','btn-status-toggle','sessionSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20/\x20','</div><div\x20class=\x22ev-time\x22>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','saveLocally','padStart','inpStart','includes','818826uKpMDX','text/plain;charset=UTF-8','%\x20-\x204px)','send','rangeEndTime','[Notify]\x20Error:\x20Text\x20generation\x20failed','add','constructor','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','sort','success','day-column\x20','keys','369497mNlEnv','\x20‚Äî\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','de-item','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','background','closest','week','ranges','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','setAttribute','getFullYear','10060vFRvOu','dateStr','then','send_notification','pattern','[Sync]\x20Loading\x20','cancel_window','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','top','localeCompare','className','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','style','rgba(255,\x20159,\x2010,\x200.3)','textContent','find','seriesCountContainer','anEnd','from','startsWith','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','setHours','[Series]\x20Skipped\x20','<b>‚úÖ\x20','</b>\x0a\x0a','clients','toastTitle','10px','#050505','data-date','80pAphdi','var(--acc-green)','appendChild','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getDate','mergeServerData','blocked-slot\x20stripe-bg','.period-switch\x20.p-btn','mini','parse','inpSeriesCount','getDay','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','Error\x20setting\x20back\x20button:','data-day-idx','valid','client','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','borderColor','–£–¥–∞–ª–µ–Ω–∏–µ','backgroundColor','option','inpEnd','long','cancelled','borderLeftColor','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','initDataUnsafe','inpRecurring','getItem','23460rrEqnR','inpClient','.event-card','cancel','Local\x20Load\x20Error','setItem','as-button\x20danger\x20bold','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','max','setDate','13QMcite','sheetDateSubtitle','btnDelete','#gridColumns\x20.day-column','<div\x20class=\x22dch-day\x22>','rgba(100,100,100,0.5)','warn','mousedown','delete','btn-primary\x20btn-danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','href','touchstart','fetchFromServer','undefined','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','remove','dayOptionsTitle','mouseup','clientY','indexOf','end','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','charAt','stopPropagation','dayOptionsSheet','router.html'];a2_0x5632=function(){return _0x5b4aca;};return a2_0x5632();}async function init(){const _0x3781cf=a2_0x3f395c;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x3781cf(0x178)](_0x3781cf(0x222))[_0x3781cf(0x177)](_0x3781cf(0x11e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x3781cf(0x154)]()[_0x3781cf(0x1ad)](()=>{const _0x476df4=_0x3781cf;showToast(_0x476df4(0x20b),!![]);})[_0x3781cf(0xdb)](_0x7e39d9=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0xce6b02=a2_0x3f395c;return Date['now']()['toString'](0x24)+Math[_0xce6b02(0x24a)]()[_0xce6b02(0x168)](0x24)[_0xce6b02(0x103)](0x2,0x5);}function toggleSeriesInput(){const _0x6b33ec=a2_0x3f395c,_0x18a1f3=document[_0x6b33ec(0x178)](_0x6b33ec(0x1e9))[_0x6b33ec(0x227)],_0x4592f8=document[_0x6b33ec(0x178)](_0x6b33ec(0x1bd));_0x4592f8['style'][_0x6b33ec(0x122)]=_0x18a1f3?_0x6b33ec(0x158):_0x6b33ec(0xe6);const _0x30349d=document[_0x6b33ec(0x178)](_0x6b33ec(0x181));_0x30349d[_0x6b33ec(0x1b9)]['borderRadius']=_0x18a1f3?_0x6b33ec(0x13a):_0x6b33ec(0x1c8);}function openAddSession(_0xdd1397){const _0x41fd54=a2_0x3f395c;editingId=null,populateClientSelect(),document[_0x41fd54(0x178)]('sheetTitle')[_0x41fd54(0x1bb)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x41fd54(0x178)]('btnDelete')[_0x41fd54(0x1b9)][_0x41fd54(0x122)]=_0x41fd54(0xe6),document[_0x41fd54(0x178)](_0x41fd54(0x232))[_0x41fd54(0x1b9)]['display']=_0x41fd54(0xe6);const _0x39e165=document[_0x41fd54(0x178)](_0x41fd54(0x181)),_0x52a31f=document[_0x41fd54(0x178)](_0x41fd54(0x1bd));_0x39e165[_0x41fd54(0x1b9)]['display']='flex',_0x39e165[_0x41fd54(0x1b9)]['borderRadius']=_0x41fd54(0x1c8),document[_0x41fd54(0x178)](_0x41fd54(0x1e9))[_0x41fd54(0x227)]=![],document[_0x41fd54(0x178)](_0x41fd54(0x1d6))[_0x41fd54(0x242)]=0x4,_0x52a31f['style'][_0x41fd54(0x122)]=_0x41fd54(0xe6),document[_0x41fd54(0x178)]('inpDate')['value']=getLocalDateStr(_0xdd1397),updateDateDisplay();const _0x372495=_0xdd1397[_0x41fd54(0x106)]();document['getElementById'](_0x41fd54(0x190))[_0x41fd54(0x242)]=String(_0x372495)[_0x41fd54(0x18f)](0x2,'0')+_0x41fd54(0x132),document[_0x41fd54(0x178)]('inpEnd')[_0x41fd54(0x242)]=String(_0x372495+0x1)['padStart'](0x2,'0')+_0x41fd54(0x132),openSheet(_0x41fd54(0x189));}function openEdit(_0x11acaa){const _0x2fcef2=a2_0x3f395c;editingId=_0x11acaa['id'],populateClientSelect(),document[_0x2fcef2(0x178)]('sheetTitle')['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById'](_0x2fcef2(0x1f7))['style'][_0x2fcef2(0x122)]=_0x2fcef2(0x158);const _0x13a58b=document[_0x2fcef2(0x178)](_0x2fcef2(0x232));_0x13a58b['style'][_0x2fcef2(0x122)]='flex';_0x11acaa[_0x2fcef2(0x244)]==='completed'?(_0x13a58b[_0x2fcef2(0x1b6)]=_0x2fcef2(0x172),_0x13a58b[_0x2fcef2(0x238)]=_0x2fcef2(0x147)):(_0x13a58b[_0x2fcef2(0x1b6)]=_0x2fcef2(0x188),_0x13a58b[_0x2fcef2(0x238)]=_0x2fcef2(0x1e7));const _0x418630=!!_0x11acaa[_0x2fcef2(0x123)];document[_0x2fcef2(0x178)](_0x2fcef2(0x181))[_0x2fcef2(0x1b9)][_0x2fcef2(0x122)]='none',document[_0x2fcef2(0x178)](_0x2fcef2(0x1bd))[_0x2fcef2(0x1b9)][_0x2fcef2(0x122)]=_0x2fcef2(0xe6),_0x418630?(document[_0x2fcef2(0x178)]('patternInfoBox')[_0x2fcef2(0x1b9)]['display']=_0x2fcef2(0x152),document[_0x2fcef2(0x178)]('patternInfoBox')[_0x2fcef2(0x121)](_0x2fcef2(0xec))[_0x2fcef2(0x1bb)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x2fcef2(0x178)]('patternInfoBox')['style'][_0x2fcef2(0x122)]=_0x2fcef2(0xe6),document[_0x2fcef2(0x178)](_0x2fcef2(0x1ec))['value']=_0x11acaa[_0x2fcef2(0x1dc)],document[_0x2fcef2(0x178)]('inpDate')[_0x2fcef2(0x242)]=_0x11acaa[_0x2fcef2(0x1ac)],document[_0x2fcef2(0x178)](_0x2fcef2(0x190))[_0x2fcef2(0x242)]=_0x11acaa[_0x2fcef2(0x184)],document[_0x2fcef2(0x178)](_0x2fcef2(0x1e2))[_0x2fcef2(0x242)]=_0x11acaa[_0x2fcef2(0x20a)],document[_0x2fcef2(0x178)](_0x2fcef2(0x156))[_0x2fcef2(0x242)]=_0x11acaa[_0x2fcef2(0x153)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x3855fb=a2_0x3f395c,_0x5f1f1d=document[_0x3855fb(0x178)](_0x3855fb(0x1ec))[_0x3855fb(0x242)],_0x569d8f=document['getElementById']('inpDate')[_0x3855fb(0x242)],_0x4d35c0=document[_0x3855fb(0x178)](_0x3855fb(0x190))[_0x3855fb(0x242)],_0x55a3da=document[_0x3855fb(0x178)](_0x3855fb(0x1e2))[_0x3855fb(0x242)],_0x2ca179=document[_0x3855fb(0x178)]('inpNote')['value'],_0x3337aa=document['getElementById'](_0x3855fb(0x1e9))[_0x3855fb(0x227)];let _0x3cbe32=0x4;if(_0x3337aa){const _0xc33831=parseInt(document['getElementById']('inpSeriesCount')[_0x3855fb(0x242)]);if(!_0xc33831||_0xc33831<0x2){showToast(_0x3855fb(0x125),![]);return;}if(_0xc33831>0x64){showToast(_0x3855fb(0xd5),![]);return;}_0x3cbe32=_0xc33831;}const _0x2c244b=clients[_0x3855fb(0x1bc)](_0x390401=>_0x390401[_0x3855fb(0x247)]===_0x5f1f1d);if(!_0x2c244b){showToast(_0x3855fb(0x127),![]);return;}const _0x5e08bd=validateAppointment(_0x569d8f,_0x4d35c0,_0x55a3da,editingId,_0x2c244b['id']);if(!_0x5e08bd['valid']){showToast(_0x5e08bd['msg'],![]);return;}_0x5e08bd[_0x3855fb(0x10d)]&&showToast(_0x5e08bd['warning'],![]);const _0x3e34e8={'client':_0x5f1f1d,'clientId':_0x2c244b['id'],'start':_0x4d35c0,'end':_0x55a3da,'note':_0x2ca179,'status':_0x3855fb(0x17c)},_0x17a2af=editingId?sessions[_0x3855fb(0x1bc)](_0x4b3da1=>_0x4b3da1['id']===editingId):null;if(_0x17a2af&&_0x17a2af['seriesId']){tempSessionData={..._0x3e34e8,'dateStr':_0x569d8f,'id':editingId,'seriesId':_0x17a2af[_0x3855fb(0x123)]},openActionSheet(_0x3855fb(0x10a));return;}let _0x378d40=null;if(!editingId)_0x378d40=_0x3855fb(0x24c);else{if(_0x17a2af){if(String(_0x17a2af[_0x3855fb(0x17e)])!==String(_0x2c244b['id']))console[_0x3855fb(0x23f)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager['send'](_0x3855fb(0x1ee),_0x17a2af),_0x378d40='create';else(_0x17a2af[_0x3855fb(0x184)]!==_0x4d35c0||_0x17a2af[_0x3855fb(0x20a)]!==_0x55a3da||_0x17a2af[_0x3855fb(0x1ac)]!==_0x569d8f)&&(_0x378d40=_0x3855fb(0x116));}}if(!editingId&&_0x3337aa){createBatchSeries(_0x3e34e8,_0x569d8f,_0x3cbe32),NotificationManager[_0x3855fb(0x195)](_0x3855fb(0x24c),{..._0x3e34e8,'dateStr':_0x569d8f});return;}lastUserActionTime=Date[_0x3855fb(0xf4)]();const _0x24f613={..._0x3e34e8,'dateStr':_0x569d8f,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x24f613),_0x378d40&&NotificationManager[_0x3855fb(0x195)](_0x378d40,_0x24f613);}function toggleSessionStatus(){const _0x5f06c4=a2_0x3f395c;lastUserActionTime=Date[_0x5f06c4(0xf4)]();const _0x2f1e89=sessions[_0x5f06c4(0x1bc)](_0x1bbad0=>_0x1bbad0['id']===editingId);if(!_0x2f1e89)return;const _0x9c97d1=_0x2f1e89[_0x5f06c4(0x244)]===_0x5f06c4(0x138)?_0x5f06c4(0x17c):_0x5f06c4(0x138);_0x2f1e89[_0x5f06c4(0x244)]=_0x9c97d1,saveSingleSession(_0x2f1e89),_0x9c97d1===_0x5f06c4(0x138)&&NotificationManager['send'](_0x5f06c4(0x23a),_0x2f1e89),showToast(_0x9c97d1===_0x5f06c4(0x138)?_0x5f06c4(0xf6):_0x5f06c4(0x1e6),!![]);}function validateAppointment(_0x3314f9,_0x190434,_0x241547,_0x3fc53f,_0x1d517c){const _0x43363d=a2_0x3f395c,[_0x4e8d38,_0x25723c]=_0x190434[_0x43363d(0x157)](':')[_0x43363d(0x148)](Number),[_0x2683bc,_0x7b4dc]=_0x241547[_0x43363d(0x157)](':')[_0x43363d(0x148)](Number),_0x25b0ab=_0x4e8d38*0x3c+_0x25723c,_0x558268=_0x2683bc*0x3c+_0x7b4dc,_0x2bc8bc=String(_0x1d517c);let _0xa605bd=![],_0x366bc7='';for(let _0x4d928e of sessions){if(_0x4d928e['dateStr']!==_0x3314f9)continue;if(_0x4d928e[_0x43363d(0x244)]==='cancelled')continue;if(_0x3fc53f&&String(_0x4d928e['id'])===String(_0x3fc53f))continue;const [_0x5351b1,_0xfac73a]=_0x4d928e[_0x43363d(0x184)][_0x43363d(0x157)](':')[_0x43363d(0x148)](Number),[_0xce5756,_0xd7db98]=_0x4d928e[_0x43363d(0x20a)][_0x43363d(0x157)](':')['map'](Number),_0x5770fe=_0x5351b1*0x3c+_0xfac73a,_0x1893f1=_0xce5756*0x3c+_0xd7db98;if(Math['max'](_0x25b0ab,_0x5770fe)<Math[_0x43363d(0xe5)](_0x558268,_0x1893f1)){if(_0x4d928e[_0x43363d(0x17e)]&&String(_0x4d928e[_0x43363d(0x17e)])===_0x2bc8bc)return{'valid':![],'msg':_0x43363d(0x111)+_0x4d928e[_0x43363d(0x1dc)]+_0x43363d(0x14b)};_0xa605bd=!![],_0x366bc7=_0x4d928e[_0x43363d(0x1dc)];}}if(_0xa605bd)return{'valid':!![],'warning':_0x43363d(0x217)+_0x366bc7};return{'valid':!![]};}function saveSingleSession(_0x1aec57){const _0x3ce3ec=a2_0x3f395c;if(editingId){const _0x3c501b=sessions[_0x3ce3ec(0xd6)](_0x412a8a=>_0x412a8a['id']===editingId);if(_0x3c501b!==-0x1)sessions[_0x3c501b]=_0x1aec57;}else sessions[_0x3ce3ec(0xd3)](_0x1aec57);afterSaveAction([_0x1aec57[_0x3ce3ec(0x1ac)]]);}function createBatchSeries(_0xb0c02,_0x4124f8,_0x4e2248){const _0x596234=a2_0x3f395c,_0x412fa2=generateId(),_0x389937=[],_0x5499d5=[];let _0x3eb53e=0x0,_0x49c1b2=new Date(_0x4124f8);for(let _0x534a25=0x0;_0x534a25<_0x4e2248;_0x534a25++){const _0x10e64d=getLocalDateStr(_0x49c1b2),_0x30344b=validateAppointment(_0x10e64d,_0xb0c02[_0x596234(0x184)],_0xb0c02[_0x596234(0x20a)],null,_0xb0c02[_0x596234(0x17e)]);if(!_0x30344b[_0x596234(0x1db)])console[_0x596234(0x23f)](_0x596234(0x1c3)+_0x10e64d+_0x596234(0xf3)),_0x3eb53e++;else{const _0x38f211={..._0xb0c02,'id':generateId(),'dateStr':_0x10e64d,'seriesId':_0x412fa2};_0x5499d5[_0x596234(0xd3)](_0x38f211),_0x389937[_0x596234(0xd3)](_0x10e64d);}_0x49c1b2['setDate'](_0x49c1b2[_0x596234(0x1d0)]()+0x7);}if(_0x5499d5[_0x596234(0x14f)]===0x0){showToast(_0x596234(0x160),![]);return;}sessions[_0x596234(0xd3)](..._0x5499d5),lastUserActionTime=Date['now']();let _0x37b9f9='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x5499d5[_0x596234(0x14f)];_0x3eb53e>0x0&&(_0x37b9f9+=_0x596234(0x179)+_0x3eb53e+')'),showToast(_0x37b9f9,!![]),afterSaveAction(_0x389937);}function updateSeriesBatch(_0xc18cb9,_0x2a26b2){const _0x404633=a2_0x3f395c,_0x25f40b=[],_0x410f25=_0x2a26b2[_0x404633(0x123)];if(_0xc18cb9==='single'){const _0x47543e={..._0x2a26b2,'seriesId':null},_0x5901ea=sessions[_0x404633(0xd6)](_0xaec325=>_0xaec325['id']===_0x2a26b2['id']);if(_0x5901ea!==-0x1)sessions[_0x5901ea]=_0x47543e;_0x25f40b[_0x404633(0xd3)](_0x47543e['dateStr']);}else{if(_0xc18cb9===_0x404633(0x226)){const _0x14c531=_0x2a26b2[_0x404633(0x1ac)];sessions[_0x404633(0x230)]((_0x1bbb84,_0x3aa3c6)=>{const _0x5e8bec=_0x404633;_0x1bbb84[_0x5e8bec(0x123)]===_0x410f25&&_0x1bbb84['dateStr']>=_0x14c531&&(sessions[_0x3aa3c6]={...sessions[_0x3aa3c6],'start':_0x2a26b2['start'],'end':_0x2a26b2[_0x5e8bec(0x20a)],'note':_0x2a26b2[_0x5e8bec(0x153)],'client':_0x2a26b2[_0x5e8bec(0x1dc)],'clientId':_0x2a26b2[_0x5e8bec(0x17e)]},_0x25f40b[_0x5e8bec(0xd3)](_0x1bbb84['dateStr']));});}}afterSaveAction(_0x25f40b);}function tryDeleteSession(){const _0xe2e6ee=a2_0x3f395c,_0x351c87=sessions['find'](_0x3d0545=>_0x3d0545['id']===editingId);if(!_0x351c87)return;_0x351c87[_0xe2e6ee(0x123)]?openActionSheet(_0xe2e6ee(0x1fd)):commitDelete(_0xe2e6ee(0x13f),_0x351c87);}function commitDelete(_0x319402,_0x8ad608){const _0x5caeb2=a2_0x3f395c;lastUserActionTime=Date[_0x5caeb2(0xf4)](),NotificationManager[_0x5caeb2(0x195)](_0x5caeb2(0x1ee),_0x8ad608);const _0x24de84=[];if(_0x319402==='single')sessions=sessions[_0x5caeb2(0x24e)](_0x31610b=>_0x31610b['id']!==_0x8ad608['id']),_0x24de84[_0x5caeb2(0xd3)](_0x8ad608[_0x5caeb2(0x1ac)]);else{if(_0x319402===_0x5caeb2(0x226)){const _0x3e172e=_0x8ad608[_0x5caeb2(0x1ac)],_0x41742f=_0x8ad608[_0x5caeb2(0x123)];sessions[_0x5caeb2(0x230)](_0x3f92ed=>{const _0x1a1921=_0x5caeb2;_0x3f92ed[_0x1a1921(0x123)]===_0x41742f&&_0x3f92ed[_0x1a1921(0x1ac)]>=_0x3e172e&&_0x24de84[_0x1a1921(0xd3)](_0x3f92ed['dateStr']);}),sessions=sessions[_0x5caeb2(0x24e)](_0x5bd95b=>!(_0x5bd95b[_0x5caeb2(0x123)]===_0x41742f&&_0x5bd95b[_0x5caeb2(0x1ac)]>=_0x3e172e));}}afterSaveAction(_0x24de84);}function afterSaveAction(_0x496f32){const _0x5799ba=a2_0x3f395c;DataManager[_0x5799ba(0x18e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x496f32)['then'](()=>console[_0x5799ba(0x23f)](_0x5799ba(0x13c)))[_0x5799ba(0xdb)](_0x537514=>showToast(_0x5799ba(0x1cf),![]));}const NotificationManager={'formatDate'(_0x484909){const _0x52f41b=a2_0x3f395c,_0x29fbc1=new Date(_0x484909),_0x5db1ad={'weekday':'long','day':'numeric','month':_0x52f41b(0x1e3)};let _0x1f2c9d=_0x29fbc1[_0x52f41b(0xe4)](_0x52f41b(0x161),_0x5db1ad);return _0x1f2c9d[_0x52f41b(0x20c)](0x0)['toUpperCase']()+_0x1f2c9d['slice'](0x1);},'getText'(_0x199bfc,_0x5c7ff1){const _0x4ee699=a2_0x3f395c,_0x360299=this['formatDate'](_0x5c7ff1[_0x4ee699(0x1ac)]);switch(_0x199bfc){case'create':return _0x4ee699(0x133)+(_0x4ee699(0x1b7)+_0x360299+'\x0a')+(_0x4ee699(0x1b3)+_0x5c7ff1[_0x4ee699(0x184)]+_0x4ee699(0x1a0)+_0x5c7ff1[_0x4ee699(0x20a)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x4ee699(0x116):return _0x4ee699(0x108)+_0x4ee699(0x16d)+(_0x4ee699(0x1c4)+_0x5c7ff1[_0x4ee699(0x184)]+_0x4ee699(0x1a0)+_0x5c7ff1['end']+_0x4ee699(0x1c5))+(_0x4ee699(0x1b7)+_0x360299);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x4ee699(0x225)+_0x360299+'\x20('+_0x5c7ff1[_0x4ee699(0x184)]+_0x4ee699(0xfb));case'complete':return _0x4ee699(0x204)+_0x4ee699(0x115)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x104da5,_0x558f4c){const _0x3213b8=a2_0x3f395c;console[_0x3213b8(0x23f)]('[Notify]\x20Attempting\x20to\x20send:',_0x104da5,_0x558f4c);if(!_0x558f4c){console[_0x3213b8(0x211)](_0x3213b8(0x23e));return;}const _0x2dc0dd=String(_0x558f4c[_0x3213b8(0x17e)]);console[_0x3213b8(0x23f)]('[Notify]\x20Detected\x20Client\x20ID:',_0x2dc0dd);if(!_0x558f4c[_0x3213b8(0x17e)]||_0x2dc0dd===_0x3213b8(0x203)||_0x2dc0dd===_0x3213b8(0x15e)){console['error'](_0x3213b8(0x183));if(_0x558f4c[_0x3213b8(0x1dc)]){const _0x311cae=clients[_0x3213b8(0x1bc)](_0x29914b=>_0x29914b[_0x3213b8(0x247)]===_0x558f4c[_0x3213b8(0x1dc)]);if(_0x311cae)return console[_0x3213b8(0x23f)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x311cae['id']),this[_0x3213b8(0x195)](_0x104da5,{..._0x558f4c,'clientId':_0x311cae['id']});}return;}if(_0x2dc0dd[_0x3213b8(0x14f)]<0x5){console[_0x3213b8(0x1fb)](_0x3213b8(0x1a8),_0x2dc0dd);return;}const _0x9fb92a=this['getText'](_0x104da5,_0x558f4c);if(!_0x9fb92a){console[_0x3213b8(0x211)](_0x3213b8(0x197));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x2dc0dd+_0x3213b8(0x117)),DataManager['fetchFromServer'](_0x3213b8(0x1ae),{'chatId':_0x2dc0dd,'text':_0x9fb92a})[_0x3213b8(0x1ad)](_0x206f4f=>console[_0x3213b8(0x23f)]('[Notify]\x20Server\x20Response:',_0x206f4f))['catch'](_0x4bd597=>console[_0x3213b8(0x211)]('[Notify]\x20Network\x20Failed',_0x4bd597));}};function getLocalDateStr(_0x4d2cdb){const _0x117f58=a2_0x3f395c,_0x374010=_0x4d2cdb[_0x117f58(0x1aa)](),_0x269dfa=String(_0x4d2cdb[_0x117f58(0xe7)]()+0x1)[_0x117f58(0x18f)](0x2,'0'),_0x47cd21=String(_0x4d2cdb[_0x117f58(0x1d0)]())[_0x117f58(0x18f)](0x2,'0');return _0x374010+'-'+_0x269dfa+'-'+_0x47cd21;}function getDateStr(_0x4d73d0){const _0x3e9979=a2_0x3f395c,_0x49e636=new Date();return _0x49e636[_0x3e9979(0x1f4)](_0x49e636['getDate']()+_0x4d73d0),getLocalDateStr(_0x49e636);}function getStartOfWeek(_0x1f92da){const _0x21474e=a2_0x3f395c,_0x58177e=(function(){let _0xfabc07=!![];return function(_0x1f50f5,_0x278915){const _0x405f4c=_0xfabc07?function(){if(_0x278915){const _0x156de1=_0x278915['apply'](_0x1f50f5,arguments);return _0x278915=null,_0x156de1;}}:function(){};return _0xfabc07=![],_0x405f4c;};}()),_0x9a43=_0x58177e(this,function(){const _0xeb74d0=a2_0x35f7;return _0x9a43[_0xeb74d0(0x168)]()['search'](_0xeb74d0(0x23c))[_0xeb74d0(0x168)]()[_0xeb74d0(0x199)](_0x9a43)[_0xeb74d0(0x236)](_0xeb74d0(0x23c));});_0x9a43();const _0x5585d5=new Date(_0x1f92da),_0x1440db=_0x5585d5[_0x21474e(0x1d7)](),_0x19ef8b=_0x5585d5[_0x21474e(0x1d0)]()-_0x1440db+(_0x1440db===0x0?-0x6:0x1);return _0x5585d5['setDate'](_0x19ef8b),_0x5585d5[_0x21474e(0x1c2)](0x0,0x0,0x0,0x0),_0x5585d5;}function hexToRgba(_0x35602b,_0x1084e7){const _0x3519b0=a2_0x3f395c;if(!_0x35602b)return _0x3519b0(0x1fa);let _0x243463=0x0,_0x24be9d=0x0,_0x2d0174=0x0;if(_0x35602b['length']===0x4)_0x243463='0x'+_0x35602b[0x1]+_0x35602b[0x1],_0x24be9d='0x'+_0x35602b[0x2]+_0x35602b[0x2],_0x2d0174='0x'+_0x35602b[0x3]+_0x35602b[0x3];else _0x35602b[_0x3519b0(0x14f)]===0x7&&(_0x243463='0x'+_0x35602b[0x1]+_0x35602b[0x2],_0x24be9d='0x'+_0x35602b[0x3]+_0x35602b[0x4],_0x2d0174='0x'+_0x35602b[0x5]+_0x35602b[0x6]);return _0x3519b0(0xda)+ +_0x243463+',\x20'+ +_0x24be9d+',\x20'+ +_0x2d0174+',\x20'+_0x1084e7+')';}function renderTimeColumn(){const _0x5f08b0=a2_0x3f395c,_0x1d6cfd=document[_0x5f08b0(0x178)](_0x5f08b0(0x10b)),_0x5276c0=document[_0x5f08b0(0x178)](_0x5f08b0(0x210));_0x1d6cfd[_0x5f08b0(0x238)]='',_0x1d6cfd[_0x5f08b0(0x1cd)](_0x5276c0);for(let _0x3cd214=0x0;_0x3cd214<0x18;_0x3cd214++){const _0x4e2531=document[_0x5f08b0(0x10f)]('div');_0x4e2531['className']=_0x5f08b0(0x216);if(_0x3cd214>0x0)_0x4e2531[_0x5f08b0(0x238)]=_0x5f08b0(0xf7)+String(_0x3cd214)[_0x5f08b0(0x18f)](0x2,'0')+_0x5f08b0(0x159);_0x1d6cfd[_0x5f08b0(0x1cd)](_0x4e2531);}}function renderDayRange(_0x3282d7,_0x54c1e4){const _0x1c9048=a2_0x3f395c,_0x28e651=document[_0x1c9048(0x178)](_0x1c9048(0x213)),_0xba9dd3=document[_0x1c9048(0x178)](_0x1c9048(0x11c)),_0x4afecf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xc35533=new Date();_0xc35533[_0x1c9048(0x1c2)](0x0,0x0,0x0,0x0);const _0x3ef260=getLocalDateStr(new Date());for(let _0x4ab467=_0x3282d7;_0x4ab467<=_0x54c1e4;_0x4ab467++){const _0x2eadbd=new Date(_0xc35533);_0x2eadbd[_0x1c9048(0x1f4)](_0x2eadbd['getDate']()+_0x4ab467);const _0x491503=getLocalDateStr(_0x2eadbd);let _0x391ea8=_0x2eadbd['getDay']()-0x1;if(_0x391ea8===-0x1)_0x391ea8=0x6;const _0x397f4e=_0x491503===_0x3ef260,_0x3d6701=document[_0x1c9048(0x10f)](_0x1c9048(0x12d));_0x3d6701['className']=_0x1c9048(0x142)+(_0x397f4e?_0x1c9048(0x101):''),_0x3d6701['id']=_0x1c9048(0x13e)+_0x491503,_0x3d6701[_0x1c9048(0x1a9)]('data-date',_0x491503),_0x3d6701[_0x1c9048(0x238)]=_0x1c9048(0x1f9)+_0x4afecf[_0x391ea8]+'</div><div\x20class=\x22dch-num\x22>'+_0x2eadbd[_0x1c9048(0x1d0)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x491503+_0x1c9048(0x1f2),_0x3d6701[_0x1c9048(0x245)]=()=>openDayOptions(_0x491503,_0x4afecf[_0x391ea8]+'\x20'+_0x2eadbd[_0x1c9048(0x1d0)]()),_0x28e651[_0x1c9048(0x1cd)](_0x3d6701);const _0x31a4c2=document['createElement'](_0x1c9048(0x12d));_0x31a4c2[_0x1c9048(0x1b6)]=_0x1c9048(0x19d)+(_0x397f4e?'today':''),_0x31a4c2[_0x1c9048(0x1a9)](_0x1c9048(0x1ca),_0x491503),_0x31a4c2['setAttribute'](_0x1c9048(0x1da),_0x391ea8),renderEventsForColumn(_0x31a4c2,_0x491503,_0x391ea8),attachLongPressHandler(_0x31a4c2,_0x2eadbd),_0xba9dd3[_0x1c9048(0x1cd)](_0x31a4c2),updateDayStats(_0x491503);}}function reRenderBlocks(){const _0xda8b4f=a2_0x3f395c;document['querySelectorAll'](_0xda8b4f(0x1f8))['forEach'](_0x5e108a=>{const _0x380984=_0xda8b4f;_0x5e108a[_0x380984(0x10e)](_0x380984(0xd7))['forEach'](_0x57957b=>_0x57957b[_0x380984(0x205)]());const _0x5cfdbb=_0x5e108a['getAttribute'](_0x380984(0x1ca)),_0x19920d=parseInt(_0x5e108a[_0x380984(0x139)]('data-day-idx')),_0x35388f=Math[_0x380984(0x130)](_0x5e108a['offsetLeft']);(availabilityPattern[_0x19920d]||[])[_0x380984(0x230)](_0x414407=>{const _0x592e3e=_0x380984,_0x13e7db=document[_0x592e3e(0x10f)](_0x592e3e(0x12d));_0x13e7db['className']=_0x592e3e(0x1d2);const _0x4fa205=_0x414407*GRID_H;_0x13e7db[_0x592e3e(0x1b9)]['top']=_0x4fa205+'px',_0x13e7db[_0x592e3e(0x1b9)][_0x592e3e(0xdc)]='-'+_0x35388f+'px\x20-'+_0x4fa205+'px',_0x5e108a['appendChild'](_0x13e7db);});if(specialRanges&&specialRanges[_0x380984(0x14f)]>0x0){const _0x548ffa=new Date(_0x5cfdbb+_0x380984(0x212))['getTime'](),_0x2fd717=new Date(_0x5cfdbb+_0x380984(0x22f))[_0x380984(0x171)]();specialRanges[_0x380984(0x230)](_0x1a29fb=>{const _0x3ee33e=_0x380984,_0x42cfcf=new Date(_0x1a29fb[_0x3ee33e(0x184)])[_0x3ee33e(0x171)](),_0x56a10d=new Date(_0x1a29fb[_0x3ee33e(0x20a)])[_0x3ee33e(0x171)](),_0x52ba4b=Math[_0x3ee33e(0x1f3)](_0x548ffa,_0x42cfcf),_0x37d773=Math[_0x3ee33e(0xe5)](_0x2fd717,_0x56a10d);if(_0x52ba4b<_0x37d773){if(_0x52ba4b<=_0x548ffa&&_0x37d773>=_0x2fd717-0xea60){if(!_0x5e108a[_0x3ee33e(0x121)](_0x3ee33e(0x12e))){const _0x59a597=document[_0x3ee33e(0x10f)]('div');_0x59a597[_0x3ee33e(0x1b6)]=_0x3ee33e(0x187),_0x59a597[_0x3ee33e(0x1b9)]['backgroundPosition']='-'+_0x35388f+_0x3ee33e(0x102),_0x5e108a[_0x3ee33e(0x1cd)](_0x59a597);}}else{const _0x10b0b0=(_0x52ba4b-_0x548ffa)/0x36ee80*GRID_H,_0x4b9c94=(_0x37d773-_0x52ba4b)/0x36ee80*GRID_H,_0x12739b=document[_0x3ee33e(0x10f)](_0x3ee33e(0x12d));_0x12739b[_0x3ee33e(0x1b6)]=_0x3ee33e(0x129),_0x12739b[_0x3ee33e(0x1b9)]['top']=_0x10b0b0+'px',_0x12739b[_0x3ee33e(0x1b9)][_0x3ee33e(0xee)]=_0x4b9c94+'px',_0x12739b['style'][_0x3ee33e(0xdc)]='-'+_0x35388f+_0x3ee33e(0x140)+_0x10b0b0+'px',_0x5e108a[_0x3ee33e(0x1cd)](_0x12739b);}}});}if(dateExceptions[_0x5cfdbb]===_0x380984(0x221)){if(!_0x5e108a['querySelector']('.day-off-overlay')){const _0x9ebbea=document[_0x380984(0x10f)](_0x380984(0x12d));_0x9ebbea[_0x380984(0x1b6)]=_0x380984(0x187),_0x9ebbea['style'][_0x380984(0xdc)]='-'+_0x35388f+'px\x200px',_0x5e108a[_0x380984(0x1cd)](_0x9ebbea);}}renderEventsForColumn(_0x5e108a,_0x5cfdbb,_0x19920d),updateDayStats(_0x5cfdbb);});}function updateAllDayStats(){const _0x2874b0=a2_0x3f395c;document[_0x2874b0(0x10e)](_0x2874b0(0x15a))['forEach'](_0x324f95=>{const _0x8689f1=_0x2874b0;updateDayStats(_0x324f95[_0x8689f1(0x139)]('data-date'));});}function updateDayStats(_0x4294d8){const _0x53d53e=a2_0x3f395c,_0xdc89eb=document[_0x53d53e(0x178)](_0x53d53e(0x131)+_0x4294d8);if(!_0xdc89eb)return;const _0x36fa68=new Date(_0x4294d8);let _0x46884a=_0x36fa68['getDay']()-0x1;if(_0x46884a===-0x1)_0x46884a=0x6;if(dateExceptions[_0x4294d8]===_0x53d53e(0x221)){_0xdc89eb['style'][_0x53d53e(0x122)]='none';return;}const _0x8485b3=availabilityPattern[_0x46884a]||[],_0x583763=0x18-_0x8485b3[_0x53d53e(0x14f)],_0x41e9ec=_0x583763*0x3c,_0x1b4564=sessions[_0x53d53e(0x24e)](_0x29730f=>_0x29730f[_0x53d53e(0x1ac)]===_0x4294d8&&_0x29730f['status']!==_0x53d53e(0x1e4));if(_0x1b4564[_0x53d53e(0x14f)]===0x0){_0xdc89eb['style']['display']='none';return;}let _0x223db0=_0x1b4564[_0x53d53e(0x148)](_0x1fe914=>{const _0x4deb35=_0x53d53e,[_0x32bc46,_0x44b08b]=_0x1fe914['start']['split'](':')[_0x4deb35(0x148)](Number),[_0x24567d,_0x4e64e4]=_0x1fe914[_0x4deb35(0x20a)][_0x4deb35(0x157)](':')[_0x4deb35(0x148)](Number);return[_0x32bc46*0x3c+_0x44b08b,_0x24567d*0x3c+_0x4e64e4];});_0x223db0['sort']((_0x426ef4,_0x843598)=>_0x426ef4[0x0]-_0x843598[0x0]);let _0x4a4b80=[];if(_0x223db0[_0x53d53e(0x14f)]>0x0){let _0x134e03=_0x223db0[0x0];for(let _0x496b68=0x1;_0x496b68<_0x223db0['length'];_0x496b68++){_0x223db0[_0x496b68][0x0]<_0x134e03[0x1]?_0x134e03[0x1]=Math['max'](_0x134e03[0x1],_0x223db0[_0x496b68][0x1]):(_0x4a4b80['push'](_0x134e03),_0x134e03=_0x223db0[_0x496b68]);}_0x4a4b80[_0x53d53e(0xd3)](_0x134e03);}let _0x50fcd2=0x0;_0x4a4b80[_0x53d53e(0x230)](_0x4b608a=>_0x50fcd2+=_0x4b608a[0x1]-_0x4b608a[0x0]),_0xdc89eb[_0x53d53e(0x1b9)][_0x53d53e(0x122)]=_0x53d53e(0x152);const _0x2099db=_0xdc89eb[_0x53d53e(0x121)]('.dch-stats-fill');if(_0x41e9ec===0x0){_0x2099db[_0x53d53e(0x1b9)][_0x53d53e(0x21b)]='100%',_0x2099db[_0x53d53e(0x1b9)][_0x53d53e(0x1a4)]=_0x53d53e(0x11b);return;}const _0x4397f9=_0x50fcd2/_0x41e9ec*0x64;console[_0x53d53e(0x23f)]('['+_0x4294d8+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x583763+_0x53d53e(0x11a)+_0x50fcd2+_0x53d53e(0x16a)+_0x4397f9[_0x53d53e(0x243)](0x1)+'%'),_0x4397f9>0x64?(_0x2099db[_0x53d53e(0x1b9)]['width']=_0x53d53e(0x228),_0x2099db[_0x53d53e(0x1b9)][_0x53d53e(0x1a4)]=_0x53d53e(0x11b)):(_0x2099db['style'][_0x53d53e(0x21b)]=_0x4397f9+'%',_0x2099db[_0x53d53e(0x1b9)]['background']='var(--acc-current)');}function renderEventsForColumn(_0x5e8b9a,_0x373def,_0x1882ba){const _0x2cafa2=a2_0x3f395c,_0x33c5d7=sessions[_0x2cafa2(0x24e)](_0x28d8cf=>_0x28d8cf['dateStr']===_0x373def),_0x446908=_0x33c5d7[_0x2cafa2(0x148)](_0x4abfdb=>{const _0x4f6cea=_0x2cafa2,[_0x36b319,_0x5635bb]=_0x4abfdb[_0x4f6cea(0x184)][_0x4f6cea(0x157)](':')['map'](Number),[_0xb28384,_0x23e46b]=_0x4abfdb[_0x4f6cea(0x20a)]['split'](':')[_0x4f6cea(0x148)](Number);return{'data':_0x4abfdb,'start':_0x36b319*0x3c+_0x5635bb,'end':_0xb28384*0x3c+_0x23e46b,'colIndex':0x0};});_0x446908[_0x2cafa2(0x19b)]((_0x36be4a,_0x42a47f)=>{const _0x2174a1=_0x2cafa2;if(_0x36be4a[_0x2174a1(0x184)]!==_0x42a47f[_0x2174a1(0x184)])return _0x36be4a[_0x2174a1(0x184)]-_0x42a47f[_0x2174a1(0x184)];return _0x42a47f['end']-_0x42a47f[_0x2174a1(0x184)]-(_0x36be4a[_0x2174a1(0x20a)]-_0x36be4a[_0x2174a1(0x184)]);});const _0x530589=[];_0x446908[_0x2cafa2(0x230)](_0x3c0076=>{const _0x4fbfb1=_0x2cafa2;let _0x22f3f5=![];for(let _0x2d2f43=0x0;_0x2d2f43<_0x530589['length'];_0x2d2f43++){const _0x29128a=_0x530589[_0x2d2f43],_0x40cda6=_0x29128a[_0x29128a[_0x4fbfb1(0x14f)]-0x1];if(_0x3c0076[_0x4fbfb1(0x184)]>=_0x40cda6[_0x4fbfb1(0x20a)]){_0x29128a[_0x4fbfb1(0xd3)](_0x3c0076),_0x3c0076[_0x4fbfb1(0x240)]=_0x2d2f43,_0x22f3f5=!![];break;}}!_0x22f3f5&&(_0x530589['push']([_0x3c0076]),_0x3c0076[_0x4fbfb1(0x240)]=_0x530589[_0x4fbfb1(0x14f)]-0x1);}),_0x446908[_0x2cafa2(0x230)](_0x3b4461=>{const _0x24d875=_0x2cafa2;let _0x4e360d=0x0;_0x446908[_0x24d875(0x230)](_0x3f74c5=>{const _0x46bb91=_0x24d875;if(Math[_0x46bb91(0x1f3)](_0x3b4461[_0x46bb91(0x184)],_0x3f74c5[_0x46bb91(0x184)])<Math[_0x46bb91(0xe5)](_0x3b4461[_0x46bb91(0x20a)],_0x3f74c5[_0x46bb91(0x20a)])){if(_0x3f74c5[_0x46bb91(0x240)]>_0x4e360d)_0x4e360d=_0x3f74c5[_0x46bb91(0x240)];}});const _0x287ace=_0x4e360d+0x1,_0x58d5c1=0x64/_0x287ace,_0x2d0f1c=_0x3b4461['colIndex']*_0x58d5c1,_0x2ebb68=createEventEl(_0x3b4461[_0x24d875(0x246)]);_0x2ebb68[_0x24d875(0x1b9)]['width']='calc('+_0x58d5c1+_0x24d875(0x194),_0x2ebb68['style']['left']=_0x24d875(0x110)+_0x2d0f1c+_0x24d875(0x22c),_0x2ebb68[_0x24d875(0x1b9)][_0x24d875(0x17b)]=0xa+_0x3b4461['colIndex'],_0x58d5c1<0x55&&_0x2ebb68[_0x24d875(0x144)][_0x24d875(0x198)](_0x24d875(0x1d4)),_0x5e8b9a[_0x24d875(0x1cd)](_0x2ebb68);});}function createEventEl(_0x2471c3){const _0x4a8088=a2_0x3f395c,[_0x12289e,_0x34fa50]=_0x2471c3[_0x4a8088(0x184)][_0x4a8088(0x157)](':')['map'](Number),[_0x5a9674,_0x24c459]=_0x2471c3[_0x4a8088(0x20a)]['split'](':')[_0x4a8088(0x148)](Number),_0x10b4e0=(_0x12289e*0x3c+_0x34fa50)/0x3c*GRID_H,_0xa7abc5=(_0x5a9674*0x3c+_0x24c459-(_0x12289e*0x3c+_0x34fa50))/0x3c*GRID_H,_0x38c202=document[_0x4a8088(0x10f)](_0x4a8088(0x12d)),_0x4cddeb=_0x2471c3[_0x4a8088(0x244)]===_0x4a8088(0x138)?'\x20status-completed':'';_0x38c202[_0x4a8088(0x1b6)]='event-card'+_0x4cddeb,_0x38c202[_0x4a8088(0x1b9)][_0x4a8088(0x1b4)]=_0x10b4e0+'px',_0x38c202[_0x4a8088(0x1b9)][_0x4a8088(0xee)]=Math['max'](_0xa7abc5,0x14)+'px';const _0x64741=clients[_0x4a8088(0x1bc)](_0x18134f=>_0x2471c3[_0x4a8088(0x17e)]&&String(_0x18134f['id'])===String(_0x2471c3['clientId'])||_0x18134f[_0x4a8088(0x247)]===_0x2471c3[_0x4a8088(0x1dc)]),_0x5769f1=_0x64741?_0x64741[_0x4a8088(0x16e)]:_0x4a8088(0x234);_0x38c202[_0x4a8088(0x1b9)][_0x4a8088(0x1e5)]=_0x5769f1,_0x38c202[_0x4a8088(0x1b9)][_0x4a8088(0x1e0)]=hexToRgba(_0x5769f1,0.85);let _0x341db0='<div\x20class=\x22ev-title\x22>'+_0x2471c3[_0x4a8088(0x1dc)]+_0x4a8088(0x18c)+_0x2471c3['start']+_0x4a8088(0xe8)+_0x2471c3[_0x4a8088(0x20a)]+'</div>';return _0x2471c3[_0x4a8088(0x123)]&&(_0x341db0+=_0x4a8088(0x1d8)),_0x2471c3[_0x4a8088(0x244)]===_0x4a8088(0x138)&&(_0x341db0+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x38c202[_0x4a8088(0x238)]=_0x341db0,_0x38c202[_0x4a8088(0x245)]=_0x47fcfa=>{_0x47fcfa['stopPropagation'](),openEdit(_0x2471c3);},_0x38c202;}function attachLongPressHandler(_0x48fe4c,_0x201aae){const _0x575643=a2_0x3f395c;let _0x200b4b=0x0,_0x2d37c5=null;const _0x459a74=_0x41191a=>{const _0x52c7e2=a2_0x35f7;if(_0x41191a[_0x52c7e2(0xef)][_0x52c7e2(0x1a5)](_0x52c7e2(0x1ed)))return;isScrolling=![],_0x200b4b=_0x41191a[_0x52c7e2(0x15f)]?_0x41191a[_0x52c7e2(0x15f)][0x0]['clientY']:_0x41191a[_0x52c7e2(0x208)],_0x2d37c5=setTimeout(()=>{const _0x4d914=_0x52c7e2;if(!isScrolling){navigator[_0x4d914(0x141)]?.(0x32);const _0x1b4d8f=_0x48fe4c[_0x4d914(0x151)](),_0x1528fe=Math[_0x4d914(0x185)]((_0x200b4b-_0x1b4d8f[_0x4d914(0x1b4)])/GRID_H);_0x201aae[_0x4d914(0x1c2)](_0x1528fe,0x0),openAddSession(_0x201aae);}},0x1f4);},_0x4222da=()=>{isScrolling=!![],clearTimeout(_0x2d37c5);},_0x491bca=()=>{clearTimeout(_0x2d37c5);};_0x48fe4c[_0x575643(0x177)](_0x575643(0x201),_0x459a74,{'passive':!![]}),_0x48fe4c[_0x575643(0x177)](_0x575643(0xf9),_0x4222da,{'passive':!![]}),_0x48fe4c[_0x575643(0x177)](_0x575643(0x128),_0x491bca),_0x48fe4c[_0x575643(0x177)](_0x575643(0x1fc),_0x459a74),_0x48fe4c[_0x575643(0x177)](_0x575643(0x143),_0x4222da),_0x48fe4c[_0x575643(0x177)](_0x575643(0x207),_0x491bca);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x60ea89=a2_0x3f395c,_0x228e84=document['getElementById'](_0x60ea89(0x222)),_0x564dc5=_0x228e84[_0x60ea89(0x163)],_0x309907=_0x228e84[_0x60ea89(0x175)],_0x689f33=_0x228e84[_0x60ea89(0x12a)];if(_0x309907-(_0x564dc5+_0x689f33)<0x12c){const _0x19fa10=endOffset;endOffset+=0xe,renderDayRange(_0x19fa10+0x1,endOffset),reRenderBlocks();}if(_0x564dc5<0x12c){const _0x1481ed=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1481ed-0x1),_0x228e84['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4331c6,_0x214c4e){const _0x398559=a2_0x3f395c,_0x3034ce=document[_0x398559(0x178)](_0x398559(0x213)),_0x3051ca=document[_0x398559(0x178)]('gridColumns'),_0x3bbfff=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e03d6=new Date();_0x1e03d6[_0x398559(0x1c2)](0x0,0x0,0x0,0x0);const _0x39a1f9=getLocalDateStr(new Date()),_0x17710c=document[_0x398559(0x165)](),_0x862e67=document['createDocumentFragment']();for(let _0x2da5be=_0x4331c6;_0x2da5be<=_0x214c4e;_0x2da5be++){const _0x5a6e91=new Date(_0x1e03d6);_0x5a6e91[_0x398559(0x1f4)](_0x5a6e91[_0x398559(0x1d0)]()+_0x2da5be);const _0x36abea=getLocalDateStr(_0x5a6e91);let _0x3514cc=_0x5a6e91[_0x398559(0x1d7)]()-0x1;if(_0x3514cc===-0x1)_0x3514cc=0x6;const _0x4c04e4=_0x36abea===_0x39a1f9,_0x5d91c4=document[_0x398559(0x10f)](_0x398559(0x12d));_0x5d91c4[_0x398559(0x1b6)]=_0x398559(0x142)+(_0x4c04e4?_0x398559(0x101):''),_0x5d91c4['id']=_0x398559(0x13e)+_0x36abea,_0x5d91c4[_0x398559(0x1a9)](_0x398559(0x1ca),_0x36abea),_0x5d91c4[_0x398559(0x238)]=_0x398559(0x1f9)+_0x3bbfff[_0x3514cc]+'</div><div\x20class=\x22dch-num\x22>'+_0x5a6e91[_0x398559(0x1d0)]()+_0x398559(0x239)+_0x36abea+_0x398559(0x1f2),_0x5d91c4[_0x398559(0x245)]=()=>openDayOptions(_0x36abea,_0x3bbfff[_0x3514cc]+'\x20'+_0x5a6e91[_0x398559(0x1d0)]()),_0x17710c[_0x398559(0x1cd)](_0x5d91c4);const _0x5e96aa=document['createElement']('div');_0x5e96aa[_0x398559(0x1b6)]='day-column\x20'+(_0x4c04e4?'today':''),_0x5e96aa['setAttribute'](_0x398559(0x1ca),_0x36abea),_0x5e96aa[_0x398559(0x1a9)](_0x398559(0x1da),_0x3514cc),renderEventsForColumn(_0x5e96aa,_0x36abea,_0x3514cc),attachLongPressHandler(_0x5e96aa,_0x5a6e91),_0x862e67[_0x398559(0x1cd)](_0x5e96aa),updateDayStats(_0x36abea);}_0x3034ce[_0x398559(0xff)](_0x17710c,_0x3034ce['firstChild']),_0x3051ca[_0x398559(0xff)](_0x862e67,_0x3051ca['querySelector'](_0x398559(0x15b)));}function validateAppointment(_0x35888b,_0x2cd1bb,_0x5c147b,_0x4a0506,_0x50570e){const _0x5dc11d=a2_0x3f395c,[_0x2cb910,_0x517cb4]=_0x2cd1bb[_0x5dc11d(0x157)](':')[_0x5dc11d(0x148)](Number),[_0xbc800,_0x324b4c]=_0x5c147b[_0x5dc11d(0x157)](':')[_0x5dc11d(0x148)](Number),_0x13e25c=_0x2cb910*0x3c+_0x517cb4,_0x5f408e=_0xbc800*0x3c+_0x324b4c,_0x2eb257=String(_0x50570e);let _0x8f6c8f=![],_0x3dccba='';for(let _0x69b24d of sessions){if(_0x69b24d[_0x5dc11d(0x1ac)]!==_0x35888b)continue;if(_0x69b24d[_0x5dc11d(0x244)]===_0x5dc11d(0x1e4))continue;if(_0x4a0506&&String(_0x69b24d['id'])===String(_0x4a0506))continue;const [_0x5e5263,_0x10aaca]=_0x69b24d[_0x5dc11d(0x184)][_0x5dc11d(0x157)](':')[_0x5dc11d(0x148)](Number),[_0x3dedc3,_0x2c832b]=_0x69b24d[_0x5dc11d(0x20a)][_0x5dc11d(0x157)](':')[_0x5dc11d(0x148)](Number),_0x18fb51=_0x5e5263*0x3c+_0x10aaca,_0xa152=_0x3dedc3*0x3c+_0x2c832b;if(Math[_0x5dc11d(0x1f3)](_0x13e25c,_0x18fb51)<Math[_0x5dc11d(0xe5)](_0x5f408e,_0xa152)){if(_0x69b24d[_0x5dc11d(0x17e)]&&String(_0x69b24d[_0x5dc11d(0x17e)])===_0x2eb257)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x69b24d[_0x5dc11d(0x1dc)]+_0x5dc11d(0x14b)};_0x8f6c8f=!![],_0x3dccba=_0x69b24d[_0x5dc11d(0x1dc)];}}if(_0x8f6c8f)return{'valid':!![],'warning':_0x5dc11d(0x217)+_0x3dccba};return{'valid':!![]};}function updateDateDisplay(){const _0x2afc97=a2_0x3f395c,_0x1c8968=document[_0x2afc97(0x178)](_0x2afc97(0x241))[_0x2afc97(0x242)],_0x3ed4b7=document[_0x2afc97(0x178)](_0x2afc97(0x1f6));if(!_0x1c8968){_0x3ed4b7[_0x2afc97(0x1bb)]='';return;}const [_0x9fa8b5,_0x344ca6,_0x4f590c]=_0x1c8968[_0x2afc97(0x157)]('-')[_0x2afc97(0x148)](Number),_0x237f14=new Date(_0x9fa8b5,_0x344ca6-0x1,_0x4f590c),_0x3d4d4e={'weekday':_0x2afc97(0x1e3),'day':'numeric','month':_0x2afc97(0x1e3),'year':_0x2afc97(0x11d)};let _0x43aaf4=_0x237f14[_0x2afc97(0xe4)](_0x2afc97(0x161),_0x3d4d4e);_0x43aaf4=_0x43aaf4[_0x2afc97(0x20c)](0x0)[_0x2afc97(0x146)]()+_0x43aaf4[_0x2afc97(0x22d)](0x1),_0x3ed4b7['textContent']=_0x43aaf4;}function autoSetEndTime(){const _0x3fbe6d=a2_0x3f395c,_0x153b24=document[_0x3fbe6d(0x178)]('inpStart')[_0x3fbe6d(0x242)];if(!_0x153b24)return;const [_0x1034fe,_0xbaa520]=_0x153b24[_0x3fbe6d(0x157)](':')[_0x3fbe6d(0x148)](Number);let _0x9c2a90=_0x1034fe+0x1;if(_0x9c2a90>0x17)_0x9c2a90=0x0;const _0x4a5ea3=String(_0x9c2a90)[_0x3fbe6d(0x18f)](0x2,'0')+':'+String(_0xbaa520)[_0x3fbe6d(0x18f)](0x2,'0');document['getElementById'](_0x3fbe6d(0x1e2))[_0x3fbe6d(0x242)]=_0x4a5ea3;}function populateClientSelect(){const _0x4882ab=a2_0x3f395c,_0x34c87b=document['getElementById'](_0x4882ab(0x1ec));_0x34c87b[_0x4882ab(0x238)]='';if(clients[_0x4882ab(0x14f)]===0x0){const _0x4ffec7=document[_0x4882ab(0x10f)](_0x4882ab(0x1e1));_0x4ffec7[_0x4882ab(0x135)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x34c87b[_0x4882ab(0x1cd)](_0x4ffec7);return;}clients['forEach'](_0x3bd8b6=>{const _0x5e9131=_0x4882ab,_0x541b6d=document['createElement'](_0x5e9131(0x1e1));_0x541b6d['value']=_0x3bd8b6[_0x5e9131(0x247)],_0x541b6d[_0x5e9131(0x1bb)]=_0x3bd8b6[_0x5e9131(0x247)],_0x34c87b[_0x5e9131(0x1cd)](_0x541b6d);});}function openActionSheet(_0x2db192){const _0xc13e33=a2_0x3f395c,_0x6c9fe0=document[_0xc13e33(0x178)](_0xc13e33(0x220)),_0x449494=document[_0xc13e33(0x178)](_0xc13e33(0x170)),_0x54d9a8=document[_0xc13e33(0x178)](_0xc13e33(0xf5)),_0xdd66b0=document[_0xc13e33(0x178)](_0xc13e33(0xf0)),_0x5183cf=document[_0xc13e33(0x178)]('asBtnSeries');_0x449494[_0xc13e33(0x144)][_0xc13e33(0x198)]('active'),_0x6c9fe0['classList'][_0xc13e33(0x198)](_0xc13e33(0x21e));if(_0x2db192==='save')_0x54d9a8[_0xc13e33(0x1bb)]=_0xc13e33(0x15c),_0xdd66b0[_0xc13e33(0x1bb)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0xdd66b0[_0xc13e33(0x245)]=()=>{const _0x1aa220=_0xc13e33;closeActionSheet(),updateSeriesBatch(_0x1aa220(0x13f),tempSessionData);},_0x5183cf[_0xc13e33(0x1bb)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x5183cf[_0xc13e33(0x245)]=()=>{const _0x1d9c0c=_0xc13e33;closeActionSheet(),updateSeriesBatch(_0x1d9c0c(0x226),tempSessionData);};else _0x2db192===_0xc13e33(0x1fd)&&(_0x54d9a8[_0xc13e33(0x1bb)]=_0xc13e33(0x1df),_0xdd66b0['textContent']=_0xc13e33(0x14a),_0xdd66b0[_0xc13e33(0x1b6)]='as-button\x20danger',_0xdd66b0[_0xc13e33(0x245)]=()=>{const _0x37c7f4=_0xc13e33;closeActionSheet(),commitDelete('single',sessions[_0x37c7f4(0x1bc)](_0x531cfd=>_0x531cfd['id']===editingId));},_0x5183cf[_0xc13e33(0x1bb)]=_0xc13e33(0x100),_0x5183cf[_0xc13e33(0x1b6)]=_0xc13e33(0x1f1),_0x5183cf[_0xc13e33(0x245)]=()=>{const _0x39fc49=_0xc13e33;closeActionSheet(),commitDelete(_0x39fc49(0x226),sessions['find'](_0x2a3f57=>_0x2a3f57['id']===editingId));});}function closeActionSheet(){const _0x2d9378=a2_0x3f395c;document['getElementById'](_0x2d9378(0x220))['classList'][_0x2d9378(0x205)](_0x2d9378(0x21e)),document[_0x2d9378(0x178)]('actionSheetOverlay')[_0x2d9378(0x144)][_0x2d9378(0x205)]('active');}function openSettings(){const _0x21671c=a2_0x3f395c;openSheet(_0x21671c(0x119));}function saveCoachSettings(){const _0x1c0f89=a2_0x3f395c,_0x30a03d=document[_0x1c0f89(0x178)](_0x1c0f89(0x235))[_0x1c0f89(0x242)];localStorage['setItem'](_0x1c0f89(0x23b),_0x30a03d),console[_0x1c0f89(0x23f)](_0x1c0f89(0x10c),_0x30a03d),DataManager['fetchFromServer'](_0x1c0f89(0x13b),{'settings':{'cancel_window':_0x30a03d}})[_0x1c0f89(0xdb)](_0xb4c258=>{const _0x2a26f5=_0x1c0f89;console[_0x2a26f5(0x211)](_0x2a26f5(0x24f),_0xb4c258),showToast(_0x2a26f5(0xe2),![]);});}function loadCoachSettings(){const _0x24fc21=a2_0x3f395c,_0x5ea7fd=localStorage[_0x24fc21(0x1ea)](_0x24fc21(0x23b));_0x5ea7fd&&(document['getElementById'](_0x24fc21(0x235))[_0x24fc21(0x242)]=_0x5ea7fd);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0xe6858=a2_0x3f395c,_0x43240a=document['getElementById'](_0xe6858(0xe3))[_0xe6858(0x242)],_0x3d5f18=document[_0xe6858(0x178)](_0xe6858(0x12f))[_0xe6858(0x242)],_0x2f4937=document['getElementById']('rangeEndDate')[_0xe6858(0x242)],_0x3cc20c=document[_0xe6858(0x178)](_0xe6858(0x196))[_0xe6858(0x242)];if(!_0x43240a||!_0x3d5f18||!_0x2f4937||!_0x3cc20c)return alert(_0xe6858(0x19a));const _0x552dfe=_0x43240a+'T'+_0x3d5f18,_0x51332c=_0x2f4937+'T'+_0x3cc20c;if(_0x552dfe>=_0x51332c)return alert(_0xe6858(0x1c1));specialRanges[_0xe6858(0xd3)]({'start':_0x552dfe,'end':_0x51332c}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xe6858(0x18e)](),DataManager[_0xe6858(0x202)](_0xe6858(0x13b),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1be36a){const _0x4b585b=a2_0x3f395c;specialRanges[_0x4b585b(0xeb)](_0x1be36a,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x4b585b(0x202)](_0x4b585b(0x13b),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x35d5af=a2_0x3f395c;document['getElementById'](_0x35d5af(0xe3))['value']='',document['getElementById'](_0x35d5af(0x12f))['value']=_0x35d5af(0x167),document[_0x35d5af(0x178)](_0x35d5af(0x21a))[_0x35d5af(0x242)]='',document[_0x35d5af(0x178)](_0x35d5af(0x196))[_0x35d5af(0x242)]='23:59';}function renderRangesList(){const _0x2211ff=a2_0x3f395c,_0x2a5d2a=document['getElementById'](_0x2211ff(0x120));_0x2a5d2a[_0x2211ff(0x238)]='';if(!specialRanges['length']){_0x2a5d2a[_0x2211ff(0x238)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x2211ff(0x230)]((_0x45f21b,_0x4505af)=>{const _0x48cc51=_0x2211ff,_0x462c08=document[_0x48cc51(0x10f)](_0x48cc51(0x12d));_0x462c08[_0x48cc51(0x1b6)]=_0x48cc51(0xe1);const _0x56b54c=_0x24329b=>{const _0x10d0b7=_0x48cc51,_0x4e13da=new Date(_0x24329b);return _0x4e13da[_0x10d0b7(0x1d0)]()+'.'+String(_0x4e13da[_0x10d0b7(0xe7)]()+0x1)[_0x10d0b7(0x18f)](0x2,'0')+'\x20'+String(_0x4e13da['getHours']())[_0x10d0b7(0x18f)](0x2,'0')+':'+String(_0x4e13da['getMinutes']())[_0x10d0b7(0x18f)](0x2,'0');};_0x462c08['innerHTML']=_0x48cc51(0x22e)+_0x56b54c(_0x45f21b[_0x48cc51(0x184)])+_0x48cc51(0x1a0)+_0x56b54c(_0x45f21b[_0x48cc51(0x20a)])+_0x48cc51(0x1b8)+_0x4505af+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x2a5d2a[_0x48cc51(0x1cd)](_0x462c08);});}function scrollToToday(){const _0x147861=a2_0x3f395c,_0x13fa97=getLocalDateStr(new Date()),_0x1ec05d=document[_0x147861(0x178)](_0x147861(0x13e)+_0x13fa97),_0x21c2e6=document[_0x147861(0x178)]('matrixViewport');if(_0x1ec05d&&_0x21c2e6){const _0x1b77da=_0x21c2e6[_0x147861(0x12a)],_0x56fb9d=_0x1ec05d[_0x147861(0xd2)],_0x51f404=_0x1ec05d[_0x147861(0xf1)];_0x21c2e6['scrollLeft']=_0x56fb9d-_0x1b77da/0x2+_0x51f404/0x2,_0x21c2e6['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x3e4eb4=a2_0x3f395c,_0x4ebdea=document[_0x3e4eb4(0x178)]('matrixViewport'),_0x1d3cb3=document[_0x3e4eb4(0x10e)](_0x3e4eb4(0x15a));for(let _0x41fec8 of _0x1d3cb3)if(_0x41fec8[_0x3e4eb4(0xd2)]>=_0x4ebdea[_0x3e4eb4(0x163)]){const _0x3cd8d2=new Date(_0x41fec8[_0x3e4eb4(0x139)](_0x3e4eb4(0x1ca)));document[_0x3e4eb4(0x178)]('headerMonth')[_0x3e4eb4(0x1bb)]=_0x3cd8d2[_0x3e4eb4(0x21c)]('ru',{'month':'long'})[_0x3e4eb4(0x146)]()+'\x20'+_0x3cd8d2[_0x3e4eb4(0x1aa)]();break;}}function showToast(_0x3845a2,_0xf7f5b6=![]){const _0x33ce9e=a2_0x3f395c,_0x4de6fb=document[_0x33ce9e(0x178)](_0x33ce9e(0x149));_0x4de6fb[_0x33ce9e(0x1b6)]='toast-notification\x20'+(_0xf7f5b6?_0x33ce9e(0x19c):''),document[_0x33ce9e(0x178)](_0x33ce9e(0x1c7))[_0x33ce9e(0x1bb)]=_0xf7f5b6?_0x33ce9e(0xd8):_0x33ce9e(0x174),document[_0x33ce9e(0x178)]('toastMessage')[_0x33ce9e(0x1bb)]=_0x3845a2,_0x4de6fb[_0x33ce9e(0x144)][_0x33ce9e(0x198)](_0x33ce9e(0x13d)),setTimeout(()=>{const _0x15ce38=_0x33ce9e;_0x4de6fb['classList'][_0x15ce38(0x205)]('show');},0xbb8);}function openDayOptions(_0x5ef049,_0x2bd0df){const _0x4984f7=a2_0x3f395c;selectedDayForOptions=_0x5ef049,document['getElementById'](_0x4984f7(0x206))['textContent']=_0x2bd0df,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x49275e=a2_0x3f395c;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x49275e(0x221),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x49275e(0x202)](_0x49275e(0x13b),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x2d12e0=a2_0x3f395c;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x2d12e0(0x18e)](),DataManager[_0x2d12e0(0x202)](_0x2d12e0(0x13b),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1ef20e){const _0x2d4166=a2_0x3f395c;document[_0x2d4166(0x178)](_0x2d4166(0xd4))[_0x2d4166(0x144)]['add'](_0x2d4166(0x24d)),document[_0x2d4166(0x178)](_0x1ef20e)[_0x2d4166(0x144)][_0x2d4166(0x198)](_0x2d4166(0x21e));}function closeAllSheets(){const _0x317b40=a2_0x3f395c;document[_0x317b40(0x178)]('overlay')['classList'][_0x317b40(0x205)](_0x317b40(0x24d)),document[_0x317b40(0x10e)]('.sheet')[_0x317b40(0x230)](_0x4cbab8=>_0x4cbab8[_0x317b40(0x144)][_0x317b40(0x205)](_0x317b40(0x21e)));}function openPatternEditor(){const _0xd98b54=a2_0x3f395c;closeAllSheets(),document[_0xd98b54(0x178)](_0xd98b54(0x215))[_0xd98b54(0x144)][_0xd98b54(0x198)](_0xd98b54(0x21e)),renderPatternEditor();}function closePatternEditor(){const _0x553842=a2_0x3f395c;document[_0x553842(0x178)]('patternEditor')[_0x553842(0x144)][_0x553842(0x205)](_0x553842(0x21e));}function savePattern(){const _0x6e5fd3=a2_0x3f395c;document[_0x6e5fd3(0x178)](_0x6e5fd3(0x215))[_0x6e5fd3(0x144)][_0x6e5fd3(0x205)](_0x6e5fd3(0x21e)),reRenderBlocks(),DataManager[_0x6e5fd3(0x18e)](),DataManager['fetchFromServer'](_0x6e5fd3(0x13b),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3911e9=a2_0x3f395c,_0x29940a=document[_0x3911e9(0x178)](_0x3911e9(0x231));_0x29940a[_0x3911e9(0x238)]='';const _0x352e9b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4b2018=document[_0x3911e9(0x10f)](_0x3911e9(0x12d));_0x4b2018['className']=_0x3911e9(0x233),_0x29940a[_0x3911e9(0x1cd)](_0x4b2018),_0x352e9b[_0x3911e9(0x230)]((_0x544b15,_0x3ab59b)=>{const _0x632ba2=_0x3911e9,_0x551ffb=document[_0x632ba2(0x10f)](_0x632ba2(0x12d));_0x551ffb[_0x632ba2(0x1b6)]=_0x632ba2(0xd9),_0x551ffb[_0x632ba2(0x238)]=_0x544b15+_0x632ba2(0x137),_0x551ffb[_0x632ba2(0x245)]=()=>toggleColPattern(_0x3ab59b),_0x29940a[_0x632ba2(0x1cd)](_0x551ffb);});for(let _0x503830=0x0;_0x503830<0x18;_0x503830++){const _0x50ce99=document['createElement'](_0x3911e9(0x12d));_0x50ce99[_0x3911e9(0x1b6)]=_0x3911e9(0xe0),_0x50ce99['innerHTML']=_0x3911e9(0x180)+String(_0x503830)[_0x3911e9(0x18f)](0x2,'0')+_0x3911e9(0x132),_0x50ce99[_0x3911e9(0x245)]=()=>toggleRowPattern(_0x503830),_0x29940a[_0x3911e9(0x1cd)](_0x50ce99);for(let _0x1614f6=0x0;_0x1614f6<0x7;_0x1614f6++){const _0x4868e6=document['createElement'](_0x3911e9(0x12d)),_0x499c63=(availabilityPattern[_0x1614f6]||[])[_0x3911e9(0x191)](_0x503830),_0x12e23d=!_0x499c63;_0x4868e6[_0x3911e9(0x1b6)]='pe-cell\x20'+(_0x12e23d?_0x3911e9(0x24d):''),_0x4868e6[_0x3911e9(0x245)]=()=>toggleSinglePattern(_0x1614f6,_0x503830),_0x29940a['appendChild'](_0x4868e6);}}}function toggleSinglePattern(_0x5ca417,_0x2c3b6e){const _0x118e10=a2_0x3f395c;if(!availabilityPattern[_0x5ca417])availabilityPattern[_0x5ca417]=[];const _0x4f9589=availabilityPattern[_0x5ca417],_0x13c7d2=_0x4f9589['indexOf'](_0x2c3b6e);_0x13c7d2===-0x1?_0x4f9589[_0x118e10(0xd3)](_0x2c3b6e):_0x4f9589[_0x118e10(0xeb)](_0x13c7d2,0x1),renderPatternEditor();}function toggleColPattern(_0x12eba8){const _0x3c32a7=a2_0x3f395c;if(!availabilityPattern[_0x12eba8])availabilityPattern[_0x12eba8]=[];const _0x24d59d=availabilityPattern[_0x12eba8];_0x24d59d[_0x3c32a7(0x14f)]===0x0?availabilityPattern[_0x12eba8]=Array[_0x3c32a7(0x1bf)]({'length':0x18},(_0x4a555f,_0x281edf)=>_0x281edf):availabilityPattern[_0x12eba8]=[],renderPatternEditor();}function toggleRowPattern(_0x278c6b){const _0x5dffb8=a2_0x3f395c;let _0x2abdb5=!![];for(let _0x2c90ce=0x0;_0x2c90ce<0x7;_0x2c90ce++){if((availabilityPattern[_0x2c90ce]||[])[_0x5dffb8(0x191)](_0x278c6b)){_0x2abdb5=![];break;}}for(let _0x5252ef=0x0;_0x5252ef<0x7;_0x5252ef++){if(!availabilityPattern[_0x5252ef])availabilityPattern[_0x5252ef]=[];const _0x57d997=availabilityPattern[_0x5252ef][_0x5dffb8(0x209)](_0x278c6b);if(_0x2abdb5){if(_0x57d997===-0x1)availabilityPattern[_0x5252ef][_0x5dffb8(0xd3)](_0x278c6b);}else{if(_0x57d997!==-0x1)availabilityPattern[_0x5252ef][_0x5dffb8(0xeb)](_0x57d997,0x1);}}renderPatternEditor();}function renderPCol(_0x3fe486,_0x456ebb){const _0x4a002a=a2_0x3f395c;_0x3fe486[_0x4a002a(0x238)]='';const _0x5da321=Math[_0x4a002a(0x130)](_0x3fe486[_0x4a002a(0xd2)]);(availabilityPattern[_0x456ebb]||[])[_0x4a002a(0x230)](_0x267d98=>{const _0x2c30dc=_0x4a002a,_0x160d79=document[_0x2c30dc(0x10f)]('div');_0x160d79[_0x2c30dc(0x1b6)]=_0x2c30dc(0x1d2);const _0x552b06=_0x267d98*GRID_H;_0x160d79['style'][_0x2c30dc(0x1b4)]=_0x552b06+'px',_0x160d79[_0x2c30dc(0x1b9)][_0x2c30dc(0xdc)]='-'+_0x5da321+'px\x20-'+_0x552b06+'px',_0x160d79[_0x2c30dc(0x245)]=_0x1f50ad=>{const _0x4f6c95=_0x2c30dc;_0x1f50ad[_0x4f6c95(0x20d)](),toggleSinglePattern(_0x456ebb,_0x267d98);},_0x3fe486[_0x2c30dc(0x1cd)](_0x160d79);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5a11bc=a2_0x3f395c,_0x488bf0=new Date(),_0x2acddc=document['getElementById']('globalTimeLine'),_0x43406d=document[_0x5a11bc(0x178)](_0x5a11bc(0x210)),_0x1f17b3=(_0x488bf0[_0x5a11bc(0x106)]()*0x3c+_0x488bf0[_0x5a11bc(0x237)]())/0x3c*GRID_H;_0x2acddc[_0x5a11bc(0x1b9)][_0x5a11bc(0x1b4)]=_0x1f17b3+'px',_0x2acddc['style'][_0x5a11bc(0x122)]=_0x5a11bc(0x158),_0x43406d[_0x5a11bc(0x1bb)]=String(_0x488bf0['getHours']())[_0x5a11bc(0x18f)](0x2,'0')+':'+String(_0x488bf0[_0x5a11bc(0x237)]())[_0x5a11bc(0x18f)](0x2,'0'),_0x43406d['style'][_0x5a11bc(0x122)]=_0x5a11bc(0x158),_0x43406d[_0x5a11bc(0x1b9)][_0x5a11bc(0x1b4)]=_0x1f17b3+'px';}document[a2_0x3f395c(0x177)](a2_0x3f395c(0x16c),init);function openDayOptions(_0x28571e){const _0x21c9f7=a2_0x3f395c;selectedDayForOptions=_0x28571e;const _0x2e9fd4=new Date(_0x28571e),_0x381ccd={'weekday':_0x21c9f7(0x1e3),'day':_0x21c9f7(0x11d),'month':_0x21c9f7(0x1e3),'year':'numeric'},_0x4c78af=_0x2e9fd4[_0x21c9f7(0xe4)]('ru-RU',_0x381ccd);document[_0x21c9f7(0x178)]('doDateHeader')[_0x21c9f7(0x1bb)]=_0x4c78af[_0x21c9f7(0x20c)](0x0)['toUpperCase']()+_0x4c78af[_0x21c9f7(0x22d)](0x1);let _0x5b43ed=_0x2e9fd4['getDay']()-0x1;if(_0x5b43ed===-0x1)_0x5b43ed=0x6;const _0x55eba6=availabilityPattern[_0x5b43ed]||[],_0x509779=0x18-_0x55eba6[_0x21c9f7(0x14f)],_0xb40089=_0x509779*0x3c,_0x38ff1d=sessions[_0x21c9f7(0x24e)](_0x4e4981=>_0x4e4981[_0x21c9f7(0x1ac)]===_0x28571e&&_0x4e4981['status']!==_0x21c9f7(0x1e4));let _0x20dd93=_0x38ff1d[_0x21c9f7(0x148)](_0xc507e3=>{const _0x3b72da=_0x21c9f7,[_0x398286,_0x5e9056]=_0xc507e3['start'][_0x3b72da(0x157)](':')[_0x3b72da(0x148)](Number),[_0x2ed903,_0x2f2907]=_0xc507e3[_0x3b72da(0x20a)][_0x3b72da(0x157)](':')[_0x3b72da(0x148)](Number);return[_0x398286*0x3c+_0x5e9056,_0x2ed903*0x3c+_0x2f2907];});_0x20dd93[_0x21c9f7(0x19b)]((_0x538d19,_0x4c6d61)=>_0x538d19[0x0]-_0x4c6d61[0x0]);let _0x443b3c=[];if(_0x20dd93[_0x21c9f7(0x14f)]>0x0){let _0x58facc=_0x20dd93[0x0];for(let _0xb7d10a=0x1;_0xb7d10a<_0x20dd93['length'];_0xb7d10a++){_0x20dd93[_0xb7d10a][0x0]<_0x58facc[0x1]?_0x58facc[0x1]=Math[_0x21c9f7(0x1f3)](_0x58facc[0x1],_0x20dd93[_0xb7d10a][0x1]):(_0x443b3c['push'](_0x58facc),_0x58facc=_0x20dd93[_0xb7d10a]);}_0x443b3c['push'](_0x58facc);}let _0x570efd=0x0;_0x443b3c[_0x21c9f7(0x230)](_0x3e8ab4=>_0x570efd+=_0x3e8ab4[0x1]-_0x3e8ab4[0x0]),document['getElementById']('doWorkHours')['textContent']=formatMinsToHrs(_0xb40089),document[_0x21c9f7(0x178)](_0x21c9f7(0x14e))['textContent']=formatMinsToHrs(_0x570efd);const _0x1f165b=_0xb40089>0x0?Math[_0x21c9f7(0x130)](_0x570efd/_0xb40089*0x64):0x0,_0x172dce=document[_0x21c9f7(0x178)](_0x21c9f7(0x169));_0x172dce['textContent']=_0x1f165b+'%';const _0x25b6e7=document[_0x21c9f7(0x178)]('statLoadCard');if(_0x1f165b>0x64)_0x172dce[_0x21c9f7(0x1b9)][_0x21c9f7(0x16e)]='var(--acc-red)',_0x25b6e7[_0x21c9f7(0x1b9)][_0x21c9f7(0x1de)]=_0x21c9f7(0x17d);else _0x1f165b>0x50?(_0x172dce[_0x21c9f7(0x1b9)][_0x21c9f7(0x16e)]=_0x21c9f7(0x145),_0x25b6e7[_0x21c9f7(0x1b9)][_0x21c9f7(0x1de)]=_0x21c9f7(0x1ba)):(_0x172dce[_0x21c9f7(0x1b9)][_0x21c9f7(0x16e)]=_0x21c9f7(0x1cc),_0x25b6e7['style']['borderColor']='rgba(255,255,255,0.05)');const _0x40d3af=document[_0x21c9f7(0x178)](_0x21c9f7(0x136));_0x40d3af['innerHTML']='';_0x38ff1d['length']===0x0?_0x40d3af[_0x21c9f7(0x238)]=_0x21c9f7(0xf2):(_0x38ff1d['sort']((_0x122082,_0x516f8d)=>_0x122082[_0x21c9f7(0x184)][_0x21c9f7(0x1b5)](_0x516f8d[_0x21c9f7(0x184)])),_0x38ff1d['forEach'](_0x2dfcc8=>{const _0x16ca95=_0x21c9f7,_0x56e50c=clients[_0x16ca95(0x1bc)](_0x1d4647=>_0x1d4647[_0x16ca95(0x247)]===_0x2dfcc8['client']),_0x414d44=_0x56e50c?_0x56e50c[_0x16ca95(0x16e)]:_0x16ca95(0x186),_0xf36079=_0x2dfcc8[_0x16ca95(0x244)]==='completed',_0x294976=_0xf36079?_0x16ca95(0x12c):'',_0x21df21=document[_0x16ca95(0x10f)](_0x16ca95(0x12d));_0x21df21[_0x16ca95(0x1b6)]=_0x16ca95(0x1a2),_0x21df21[_0x16ca95(0x1b9)][_0x16ca95(0x1e5)]=_0x414d44,_0x21df21[_0x16ca95(0x238)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x2dfcc8[_0x16ca95(0x184)]+_0x16ca95(0xe8)+_0x2dfcc8['end']+_0x16ca95(0x1dd)+_0x2dfcc8['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x294976+_0x16ca95(0x18a),_0x40d3af[_0x16ca95(0x1cd)](_0x21df21);}));const _0x86e4d3=document[_0x21c9f7(0x178)](_0x21c9f7(0xdd)),_0x510a3b=dateExceptions[_0x28571e]===_0x21c9f7(0x221);_0x510a3b?(_0x86e4d3['textContent']=_0x21c9f7(0x18d),_0x86e4d3[_0x21c9f7(0x1b6)]=_0x21c9f7(0x166),_0x86e4d3['style'][_0x21c9f7(0x16e)]=_0x21c9f7(0x1cc),_0x86e4d3[_0x21c9f7(0x1b9)][_0x21c9f7(0x1a4)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x86e4d3['textContent']=_0x21c9f7(0x1ce),_0x86e4d3['className']=_0x21c9f7(0x1fe),_0x86e4d3[_0x21c9f7(0x1b9)][_0x21c9f7(0x16e)]=_0x21c9f7(0x11b),_0x86e4d3[_0x21c9f7(0x1b9)][_0x21c9f7(0x1a4)]=_0x21c9f7(0xde)),openSheet(_0x21c9f7(0x20e));}let currentAnPeriod=a2_0x3f395c(0x1a6);function openAnalytics(){const _0x1489de=a2_0x3f395c,_0x1fdaa4=document[_0x1489de(0x121)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x1fdaa4),closeAllSheets(),openSheet(_0x1489de(0x16b));}function setAnalyticsPeriod(_0x39e6c5,_0x37b66a){const _0xe29a26=a2_0x3f395c;currentAnPeriod=_0x39e6c5,document[_0xe29a26(0x10e)](_0xe29a26(0x1d3))['forEach'](_0x30e037=>_0x30e037[_0xe29a26(0x144)][_0xe29a26(0x205)](_0xe29a26(0x24d)));if(_0x37b66a)_0x37b66a[_0xe29a26(0x144)]['add'](_0xe29a26(0x24d));const _0x481dea=document[_0xe29a26(0x178)](_0xe29a26(0x223));_0x481dea[_0xe29a26(0x1b9)][_0xe29a26(0x122)]=_0x39e6c5==='custom'?'flex':_0xe29a26(0xe6);const _0x3126bb=new Date();let _0x4024df=new Date(),_0x3bb8da=new Date();if(_0x39e6c5===_0xe29a26(0x1a6))_0x4024df=getStartOfWeek(_0x3126bb),_0x3bb8da=new Date(_0x4024df),_0x3bb8da[_0xe29a26(0x1f4)](_0x3bb8da['getDate']()+0x6);else{if(_0x39e6c5===_0xe29a26(0xe9))_0x4024df=new Date(_0x3126bb[_0xe29a26(0x1aa)](),_0x3126bb[_0xe29a26(0xe7)](),0x1),_0x3bb8da=new Date(_0x3126bb[_0xe29a26(0x1aa)](),_0x3126bb[_0xe29a26(0xe7)]()+0x1,0x0);else{!document['getElementById'](_0xe29a26(0x113))[_0xe29a26(0x242)]&&(document[_0xe29a26(0x178)]('anStart')[_0xe29a26(0x242)]=getLocalDateStr(_0x3126bb),document[_0xe29a26(0x178)](_0xe29a26(0x1be))['value']=getLocalDateStr(_0x3126bb));refreshAnalytics();return;}}document[_0xe29a26(0x178)](_0xe29a26(0x113))[_0xe29a26(0x242)]=getLocalDateStr(_0x4024df),document[_0xe29a26(0x178)](_0xe29a26(0x1be))[_0xe29a26(0x242)]=getLocalDateStr(_0x3bb8da),refreshAnalytics();}function refreshAnalytics(){const _0x4d6373=a2_0x3f395c,_0x2f893c=document[_0x4d6373(0x178)](_0x4d6373(0x113))[_0x4d6373(0x242)],_0x57c7a7=document[_0x4d6373(0x178)]('anEnd')[_0x4d6373(0x242)];if(!_0x2f893c||!_0x57c7a7)return;const _0x15bf49=sessions[_0x4d6373(0x24e)](_0x25c047=>_0x25c047[_0x4d6373(0x1ac)]>=_0x2f893c&&_0x25c047[_0x4d6373(0x1ac)]<=_0x57c7a7&&_0x25c047[_0x4d6373(0x244)]!==_0x4d6373(0x1e4)),_0x56eed=_0x15bf49['length'],_0x27e73c=_0x15bf49[_0x4d6373(0x24e)](_0x5bad89=>_0x5bad89[_0x4d6373(0x244)]===_0x4d6373(0x138))[_0x4d6373(0x14f)],_0x31b57b=_0x56eed>0x0?Math['round'](_0x27e73c/_0x56eed*0x64):0x0;document[_0x4d6373(0x178)]('anPercent')['textContent']=_0x31b57b+'%',document[_0x4d6373(0x178)](_0x4d6373(0x214))['textContent']=_0x27e73c+'\x20–∏–∑\x20'+_0x56eed+_0x4d6373(0x16f);const _0x17194c=document[_0x4d6373(0x178)](_0x4d6373(0x155)),_0x53dbdb=0x2*Math['PI']*0x23,_0x54bdba=_0x53dbdb-_0x31b57b/0x64*_0x53dbdb;_0x17194c['style'][_0x4d6373(0x134)]=_0x54bdba;const _0x42106c={};_0x15bf49[_0x4d6373(0x230)](_0x54e538=>{const _0x1b50a0=_0x4d6373;if(!_0x42106c[_0x54e538['client']]){const _0x24615c=clients['find'](_0x1e4f79=>_0x1e4f79[_0x1b50a0(0x247)]===_0x54e538['client']);_0x42106c[_0x54e538[_0x1b50a0(0x1dc)]]={'total':0x0,'done':0x0,'color':_0x24615c?_0x24615c['color']:_0x1b50a0(0x186)};}_0x42106c[_0x54e538[_0x1b50a0(0x1dc)]][_0x1b50a0(0xf8)]++;if(_0x54e538['status']==='completed')_0x42106c[_0x54e538[_0x1b50a0(0x1dc)]]['done']++;});const _0x528d98=document[_0x4d6373(0x178)]('analyticsList');_0x528d98[_0x4d6373(0x238)]='';const _0x1ba7d5=Object[_0x4d6373(0x109)](_0x42106c)[_0x4d6373(0x19b)]((_0x38e3c2,_0x72b571)=>_0x72b571[0x1][_0x4d6373(0xf8)]-_0x38e3c2[0x1]['total']);if(_0x1ba7d5['length']===0x0){_0x528d98[_0x4d6373(0x238)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x1ba7d5[_0x4d6373(0x230)](([_0x4158f7,_0x1b00b4])=>{const _0x1b86cb=_0x4d6373,_0x52c76a=Math[_0x1b86cb(0x130)](_0x1b00b4[_0x1b86cb(0xfd)]/_0x1b00b4['total']*0x64),_0x2fcbcd=document[_0x1b86cb(0x10f)]('div');_0x2fcbcd[_0x1b86cb(0x1b6)]='client-stat-card',_0x2fcbcd[_0x1b86cb(0x1b9)][_0x1b86cb(0x1e5)]=_0x1b00b4[_0x1b86cb(0x16e)],_0x2fcbcd[_0x1b86cb(0x238)]=_0x1b86cb(0x1ff)+_0x4158f7+_0x1b86cb(0x1a3)+_0x1b00b4[_0x1b86cb(0xfd)]+_0x1b86cb(0x18b)+_0x1b00b4[_0x1b86cb(0xf8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x52c76a+_0x1b86cb(0xfc),_0x528d98[_0x1b86cb(0x1cd)](_0x2fcbcd);});}function formatMinsToHrs(_0xc03caf){const _0x4113f6=a2_0x3f395c;if(_0xc03caf===0x0)return'0';const _0x48367a=Math[_0x4113f6(0x185)](_0xc03caf/0x3c),_0x1028ee=_0xc03caf%0x3c;if(_0x1028ee===0x0)return _0x48367a+'—á';return _0x48367a+'—á\x20'+_0x1028ee+'–º';}