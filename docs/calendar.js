const a2_0x1a16c0=a2_0x5a1c;(function(_0x4acc54,_0x114b09){const _0x1b39bb=a2_0x5a1c,_0x537883=_0x4acc54();while(!![]){try{const _0x5a08e4=parseInt(_0x1b39bb(0x26b))/0x1*(parseInt(_0x1b39bb(0x1bb))/0x2)+parseInt(_0x1b39bb(0x1ba))/0x3+-parseInt(_0x1b39bb(0x143))/0x4*(-parseInt(_0x1b39bb(0x226))/0x5)+parseInt(_0x1b39bb(0x269))/0x6+-parseInt(_0x1b39bb(0x26e))/0x7*(-parseInt(_0x1b39bb(0x1ce))/0x8)+-parseInt(_0x1b39bb(0x27e))/0x9+-parseInt(_0x1b39bb(0x180))/0xa;if(_0x5a08e4===_0x114b09)break;else _0x537883['push'](_0x537883['shift']());}catch(_0x49855b){_0x537883['push'](_0x537883['shift']());}}}(a2_0x4908,0x85492),function initTMA(){const _0x2aa2e0=a2_0x5a1c;try{const _0x4c22fa=window['Telegram']?.[_0x2aa2e0(0x272)];if(!_0x4c22fa)return;_0x4c22fa[_0x2aa2e0(0x275)](),_0x4c22fa['expand']();try{_0x4c22fa[_0x2aa2e0(0x19b)]('#050505'),_0x4c22fa[_0x2aa2e0(0x1e6)]&&_0x4c22fa['setBackgroundColor'](_0x2aa2e0(0x268));}catch(_0x232c04){console[_0x2aa2e0(0x15b)](_0x2aa2e0(0x1ee),_0x232c04);}try{_0x4c22fa[_0x2aa2e0(0x1c4)]&&(_0x4c22fa['BackButton'][_0x2aa2e0(0x1cc)](),_0x4c22fa[_0x2aa2e0(0x1c4)][_0x2aa2e0(0x244)](),_0x4c22fa[_0x2aa2e0(0x1c4)][_0x2aa2e0(0x1a5)](function(){const _0x49ab97=_0x2aa2e0;window[_0x49ab97(0x123)][_0x49ab97(0x1e4)]='router.html';}));}catch(_0x1b600c){console[_0x2aa2e0(0x15b)](_0x2aa2e0(0x217),_0x1b600c);}try{if(_0x4c22fa[_0x2aa2e0(0x173)])_0x4c22fa['disableVerticalSwipes']();}catch(_0x161d57){}}catch(_0x309762){console[_0x2aa2e0(0x12e)](_0x2aa2e0(0x14d),_0x309762);}}());function isAdmin(){const _0x15f1f8=a2_0x5a1c;try{const _0x2164f3=Number(window[_0x15f1f8(0x16b)]?.[_0x15f1f8(0x272)]?.['initDataUnsafe']?.['user']?.['id']);return _0x2164f3===0xbaf7174;}catch(_0x1e8451){return![];}}const APP_VERSION=a2_0x1a16c0(0x200),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1a16c0(0x15f),KEY_SESSIONS=a2_0x1a16c0(0x162),KEY_SETTINGS=a2_0x1a16c0(0x1e1);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x381a47=a2_0x1a16c0;return window['Telegram']?.[_0x381a47(0x272)]?.[_0x381a47(0x145)]?.[_0x381a47(0x26a)]?.['id']||'guest';},'saveLocally'(){const _0x38ec1b=a2_0x1a16c0;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x38ec1b(0x201)](clients)),localStorage[_0x38ec1b(0x230)](KEY_SESSIONS,JSON[_0x38ec1b(0x201)](sessions)),localStorage[_0x38ec1b(0x230)](KEY_SETTINGS,JSON[_0x38ec1b(0x201)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x5a3cb3){console[_0x38ec1b(0x12e)](_0x38ec1b(0x24d),_0x5a3cb3);}},'loadLocal'(){const _0x31959d=a2_0x1a16c0;try{const _0x1b2db3=localStorage['getItem'](KEY_CLIENTS);if(_0x1b2db3)clients=JSON[_0x31959d(0x1f5)](_0x1b2db3);const _0x161031=localStorage[_0x31959d(0x251)](KEY_SESSIONS);if(_0x161031)sessions=JSON[_0x31959d(0x1f5)](_0x161031);const _0xa2ab70=localStorage[_0x31959d(0x251)](KEY_SETTINGS);if(_0xa2ab70){const _0x367005=JSON[_0x31959d(0x1f5)](_0xa2ab70);if(_0x367005[_0x31959d(0x1d5)])availabilityPattern=_0x367005[_0x31959d(0x1d5)];if(_0x367005[_0x31959d(0x229)])dateExceptions=_0x367005[_0x31959d(0x229)];if(_0x367005[_0x31959d(0x14c)])specialRanges=_0x367005[_0x31959d(0x14c)];}else{for(let _0x47c264=0x0;_0x47c264<0x7;_0x47c264++)availabilityPattern[_0x47c264]=Array[_0x31959d(0x111)]({'length':0xc},(_0x39ff4b,_0x2554c3)=>_0x2554c3+0x9);}}catch(_0x5f12f3){console[_0x31959d(0x12e)]('Local\x20Load\x20Error',_0x5f12f3);}},async 'fetchFromServer'(_0xac638e,_0x2acbee={}){const _0x4115a7=a2_0x1a16c0,_0x9ee99a=window[_0x4115a7(0x16b)]?.[_0x4115a7(0x272)],_0x9672c4={'action':_0xac638e,'init_data':_0x9ee99a?.[_0x4115a7(0x168)]||'',..._0x2acbee};try{const _0x869fe3=await fetch(API_URL,{'method':_0x4115a7(0x17c),'headers':{'Content-Type':_0x4115a7(0x279)},'body':JSON[_0x4115a7(0x201)](_0x9672c4)}),_0x79ac0b=await _0x869fe3[_0x4115a7(0x154)]();if(!_0x79ac0b['ok'])throw new Error(_0x79ac0b[_0x4115a7(0x12e)]||_0x4115a7(0x28e));return _0x79ac0b[_0x4115a7(0x210)];}catch(_0x5f04e8){console['error'](_0x4115a7(0x12a)+_0xac638e+']\x20Failed:',_0x5f04e8);throw _0x5f04e8;}},async 'syncLoad'(){const _0xfe2e94=a2_0x1a16c0,_0x2ce01c=new Date(),_0x3102c8=_0x2ce01c['getFullYear']()+'-'+String(_0x2ce01c['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3bccba=new Date(_0x2ce01c);_0x3bccba[_0xfe2e94(0x18a)](_0x2ce01c['getMonth']()+0x1);const _0xddef9c=_0x3bccba[_0xfe2e94(0x115)]()+'-'+String(_0x3bccba['getMonth']()+0x1)['padStart'](0x2,'0'),_0x4c2488=Date['now']();console['log'](_0xfe2e94(0x174)+_0x3102c8+',\x20'+_0xddef9c+_0xfe2e94(0x261));try{const [_0xf8d386,_0x1af6ee]=await Promise[_0xfe2e94(0x19e)]([this[_0xfe2e94(0x112)](_0xfe2e94(0x20f),{'month_str':_0x3102c8}),this[_0xfe2e94(0x112)](_0xfe2e94(0x20f),{'month_str':_0xddef9c})]);if(lastUserActionTime>_0x4c2488)return console['warn'](_0xfe2e94(0x1ea)),![];return this[_0xfe2e94(0x20c)](_0xf8d386,_0x3102c8),this[_0xfe2e94(0x20c)](_0x1af6ee,_0xddef9c),this[_0xfe2e94(0x293)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x846812){console[_0xfe2e94(0x12e)](_0x846812);throw _0x846812;}},'mergeServerData'(_0x1198b5,_0x32a1f9){const _0x2910ea=a2_0x1a16c0;if(!_0x1198b5)return;_0x1198b5[_0x2910ea(0x264)]&&Array[_0x2910ea(0x22d)](_0x1198b5[_0x2910ea(0x264)])&&(clients=_0x1198b5['clients']);if(_0x1198b5[_0x2910ea(0x113)]){if(_0x1198b5[_0x2910ea(0x113)][_0x2910ea(0x1d5)])availabilityPattern=_0x1198b5[_0x2910ea(0x113)][_0x2910ea(0x1d5)];if(_0x1198b5[_0x2910ea(0x113)][_0x2910ea(0x229)])dateExceptions=_0x1198b5['settings'][_0x2910ea(0x229)];if(_0x1198b5[_0x2910ea(0x113)]['ranges'])specialRanges=_0x1198b5[_0x2910ea(0x113)][_0x2910ea(0x14c)];if(_0x1198b5[_0x2910ea(0x113)]['cancel_window']){localStorage[_0x2910ea(0x230)]('uc_settings_cancel_window',_0x1198b5[_0x2910ea(0x113)]['cancel_window']);const _0x543aff=document[_0x2910ea(0x25e)](_0x2910ea(0x13d));if(_0x543aff)_0x543aff[_0x2910ea(0x1ca)]=_0x1198b5['settings'][_0x2910ea(0x1be)];}}_0x1198b5[_0x2910ea(0x20d)]&&(sessions=sessions[_0x2910ea(0x1ec)](_0x4e3b3c=>!_0x4e3b3c[_0x2910ea(0x169)]['startsWith'](_0x32a1f9)),Object[_0x2910ea(0x1a7)](_0x1198b5[_0x2910ea(0x20d)])[_0x2910ea(0x270)](_0x1e8a9c=>{const _0x3cd164=_0x2910ea,_0x14a8e4=_0x1198b5[_0x3cd164(0x20d)][_0x1e8a9c];_0x14a8e4['forEach'](_0x260974=>{const _0x466692=_0x3cd164,_0x1f7fad=clients[_0x466692(0x21f)](_0xc9ec26=>String(_0xc9ec26['id'])===String(_0x260974['c']));sessions[_0x466692(0x133)]({'id':_0x260974['i'],'clientId':_0x260974['c'],'client':_0x1f7fad?_0x1f7fad['name']:_0x466692(0x1c5),'dateStr':_0x32a1f9+'-'+_0x1e8a9c['padStart'](0x2,'0'),'start':_0x260974['s'],'end':_0x260974['e'],'status':_0x260974['st']||_0x466692(0x297),'note':_0x260974['n']||'','seriesId':_0x260974[_0x466692(0x148)]||null});});}));},async 'syncBatch'(_0x1417c6){const _0x50662b=a2_0x1a16c0,_0x404723=[...new Set(_0x1417c6)],_0x59d3ec=_0x404723[_0x50662b(0x135)](_0x1d40b4=>{const _0x5ac04d=_0x50662b,_0x495297=sessions[_0x5ac04d(0x1ec)](_0x59fe54=>_0x59fe54[_0x5ac04d(0x169)]===_0x1d40b4&&_0x59fe54[_0x5ac04d(0x161)]!==_0x5ac04d(0x24f)),_0x2a7d13=_0x495297[_0x5ac04d(0x135)](_0xb44d06=>({'i':_0xb44d06['id'],'c':_0xb44d06['clientId'],'s':_0xb44d06['start'],'e':_0xb44d06[_0x5ac04d(0x23a)],'st':_0xb44d06[_0x5ac04d(0x161)],'n':_0xb44d06[_0x5ac04d(0x129)],'sid':_0xb44d06[_0x5ac04d(0x139)]}));return{'date':_0x1d40b4,'day_data':_0x2a7d13};});if(_0x59d3ec[_0x50662b(0x19a)]===0x0)return;console[_0x50662b(0x15b)](_0x50662b(0x1da)+_0x59d3ec[_0x50662b(0x19a)]+'\x20days'),await this[_0x50662b(0x112)](_0x50662b(0x187),{'changes':_0x59d3ec});}};async function init(){const _0x56f5fe=a2_0x1a16c0;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x56f5fe(0x252))[_0x56f5fe(0x1e2)](_0x56f5fe(0x20a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x56f5fe(0x214)]()[_0x56f5fe(0x191)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x56f5fe(0x282)](_0x5a9285=>{const _0x125d0b=_0x56f5fe;showToast(_0x125d0b(0x211),![]);});}function generateId(){const _0xc4409=a2_0x1a16c0;return Date[_0xc4409(0x18e)]()[_0xc4409(0x265)](0x24)+Math[_0xc4409(0x17f)]()[_0xc4409(0x265)](0x24)[_0xc4409(0x21e)](0x2,0x5);}function toggleSeriesInput(){const _0x274881=a2_0x1a16c0,_0x2ef9d4=document[_0x274881(0x25e)](_0x274881(0x15a))[_0x274881(0x13b)],_0x29d78a=document[_0x274881(0x25e)](_0x274881(0x27f));_0x29d78a['style'][_0x274881(0x220)]=_0x2ef9d4?_0x274881(0x25a):_0x274881(0x28d);const _0x5d9e5e=document[_0x274881(0x25e)]('recurringOptionContainer');_0x5d9e5e[_0x274881(0x290)][_0x274881(0x1a9)]=_0x2ef9d4?_0x274881(0x21d):_0x274881(0x28b);}function openAddSession(_0x5627c5){const _0x2daf72=a2_0x1a16c0;editingId=null,populateClientSelect(),document[_0x2daf72(0x25e)](_0x2daf72(0x274))[_0x2daf72(0x122)]=_0x2daf72(0x1c0),document[_0x2daf72(0x25e)]('btnDelete')[_0x2daf72(0x290)][_0x2daf72(0x220)]=_0x2daf72(0x28d),document[_0x2daf72(0x25e)](_0x2daf72(0x196))[_0x2daf72(0x290)][_0x2daf72(0x220)]=_0x2daf72(0x28d);const _0x138650=document['getElementById'](_0x2daf72(0x241)),_0x2c1933=document[_0x2daf72(0x25e)](_0x2daf72(0x27f));_0x138650[_0x2daf72(0x290)]['display']=_0x2daf72(0x234),_0x138650[_0x2daf72(0x290)]['borderRadius']=_0x2daf72(0x28b),document[_0x2daf72(0x25e)]('inpRecurring')[_0x2daf72(0x13b)]=![],document[_0x2daf72(0x25e)](_0x2daf72(0x110))['value']=0x4,_0x2c1933[_0x2daf72(0x290)][_0x2daf72(0x220)]=_0x2daf72(0x28d),document[_0x2daf72(0x25e)]('inpDate')[_0x2daf72(0x1ca)]=getLocalDateStr(_0x5627c5),updateDateDisplay();const _0x37601a=_0x5627c5['getHours']();document[_0x2daf72(0x25e)]('inpStart')[_0x2daf72(0x1ca)]=String(_0x37601a)[_0x2daf72(0x231)](0x2,'0')+_0x2daf72(0x267),document['getElementById'](_0x2daf72(0x12f))[_0x2daf72(0x1ca)]=String(_0x37601a+0x1)[_0x2daf72(0x231)](0x2,'0')+_0x2daf72(0x267),openSheet(_0x2daf72(0x243));}function openEdit(_0x17cc3d){const _0x267fa0=a2_0x1a16c0;editingId=_0x17cc3d['id'],populateClientSelect(),document[_0x267fa0(0x25e)](_0x267fa0(0x274))[_0x267fa0(0x122)]=_0x267fa0(0x132),document[_0x267fa0(0x25e)](_0x267fa0(0x152))[_0x267fa0(0x290)][_0x267fa0(0x220)]=_0x267fa0(0x25a);const _0x2992a8=document[_0x267fa0(0x25e)](_0x267fa0(0x196));_0x2992a8[_0x267fa0(0x290)][_0x267fa0(0x220)]=_0x267fa0(0x234);_0x17cc3d['status']==='completed'?(_0x2992a8['className']='btn-status-toggle\x20undo-mode',_0x2992a8[_0x267fa0(0x1ed)]=_0x267fa0(0x18d)):(_0x2992a8['className']=_0x267fa0(0x1e7),_0x2992a8[_0x267fa0(0x1ed)]=_0x267fa0(0x1b1));const _0x33337c=!!_0x17cc3d[_0x267fa0(0x139)];document[_0x267fa0(0x25e)](_0x267fa0(0x241))[_0x267fa0(0x290)]['display']=_0x267fa0(0x28d),document[_0x267fa0(0x25e)](_0x267fa0(0x27f))['style'][_0x267fa0(0x220)]=_0x267fa0(0x28d),_0x33337c?(document[_0x267fa0(0x25e)](_0x267fa0(0x24a))[_0x267fa0(0x290)][_0x267fa0(0x220)]=_0x267fa0(0x234),document[_0x267fa0(0x25e)](_0x267fa0(0x24a))[_0x267fa0(0x235)](_0x267fa0(0x171))[_0x267fa0(0x122)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x267fa0(0x25e)](_0x267fa0(0x24a))[_0x267fa0(0x290)]['display']=_0x267fa0(0x28d),document['getElementById'](_0x267fa0(0x197))[_0x267fa0(0x1ca)]=_0x17cc3d[_0x267fa0(0x1fd)],document['getElementById'](_0x267fa0(0x207))[_0x267fa0(0x1ca)]=_0x17cc3d[_0x267fa0(0x169)],document[_0x267fa0(0x25e)](_0x267fa0(0x27b))[_0x267fa0(0x1ca)]=_0x17cc3d[_0x267fa0(0x1c7)],document[_0x267fa0(0x25e)](_0x267fa0(0x12f))[_0x267fa0(0x1ca)]=_0x17cc3d[_0x267fa0(0x23a)],document[_0x267fa0(0x25e)](_0x267fa0(0x14b))[_0x267fa0(0x1ca)]=_0x17cc3d['note']||'',updateDateDisplay(),openSheet(_0x267fa0(0x243));}async function trySaveSession(){const _0x4cbdc9=a2_0x1a16c0,_0x1dbc2b=document[_0x4cbdc9(0x25e)](_0x4cbdc9(0x197))[_0x4cbdc9(0x1ca)],_0x2e5bf1=document[_0x4cbdc9(0x25e)](_0x4cbdc9(0x207))['value'],_0x29182b=document['getElementById'](_0x4cbdc9(0x27b))[_0x4cbdc9(0x1ca)],_0x43e7e4=document[_0x4cbdc9(0x25e)](_0x4cbdc9(0x12f))[_0x4cbdc9(0x1ca)],_0x5bc40b=document[_0x4cbdc9(0x25e)](_0x4cbdc9(0x14b))[_0x4cbdc9(0x1ca)],_0x19ebaa=document[_0x4cbdc9(0x25e)]('inpRecurring')[_0x4cbdc9(0x13b)];let _0x577342=0x4;if(_0x19ebaa){const _0x50f3b7=parseInt(document[_0x4cbdc9(0x25e)]('inpSeriesCount')[_0x4cbdc9(0x1ca)]);if(!_0x50f3b7||_0x50f3b7<0x2){showToast(_0x4cbdc9(0x126),![]);return;}if(_0x50f3b7>0x64){showToast(_0x4cbdc9(0x177),![]);return;}_0x577342=_0x50f3b7;}const _0x1de5cb=clients[_0x4cbdc9(0x21f)](_0x6ac7a0=>_0x6ac7a0[_0x4cbdc9(0x127)]===_0x1dbc2b);if(!_0x1de5cb){showToast(_0x4cbdc9(0x1ef),![]);return;}const _0xf4dd8e=validateAppointment(_0x2e5bf1,_0x29182b,_0x43e7e4,editingId,_0x1de5cb['id']);if(!_0xf4dd8e[_0x4cbdc9(0x142)]){showToast(_0xf4dd8e[_0x4cbdc9(0x1d4)],![]);return;}_0xf4dd8e[_0x4cbdc9(0x24b)]&&showToast(_0xf4dd8e[_0x4cbdc9(0x24b)],![]);const _0x42330c={'client':_0x1dbc2b,'clientId':_0x1de5cb['id'],'start':_0x29182b,'end':_0x43e7e4,'note':_0x5bc40b,'status':_0x4cbdc9(0x297)},_0x43a4f6=editingId?sessions[_0x4cbdc9(0x21f)](_0x91f4bc=>_0x91f4bc['id']===editingId):null;if(_0x43a4f6&&_0x43a4f6['seriesId']){tempSessionData={..._0x42330c,'dateStr':_0x2e5bf1,'id':editingId,'seriesId':_0x43a4f6['seriesId']},openActionSheet(_0x4cbdc9(0x128));return;}let _0x3e6b0d=null;if(!editingId)_0x3e6b0d=_0x4cbdc9(0x1a3);else{if(_0x43a4f6){if(String(_0x43a4f6['clientId'])!==String(_0x1de5cb['id']))console[_0x4cbdc9(0x15b)](_0x4cbdc9(0x223)),NotificationManager['send'](_0x4cbdc9(0x247),_0x43a4f6),_0x3e6b0d=_0x4cbdc9(0x1a3);else(_0x43a4f6[_0x4cbdc9(0x1c7)]!==_0x29182b||_0x43a4f6['end']!==_0x43e7e4||_0x43a4f6[_0x4cbdc9(0x169)]!==_0x2e5bf1)&&(_0x3e6b0d='update');}}if(!editingId&&_0x19ebaa){createBatchSeries(_0x42330c,_0x2e5bf1,_0x577342),NotificationManager[_0x4cbdc9(0x1dd)](_0x4cbdc9(0x1a3),{..._0x42330c,'dateStr':_0x2e5bf1});return;}lastUserActionTime=Date[_0x4cbdc9(0x18e)]();const _0x5f74be={..._0x42330c,'dateStr':_0x2e5bf1,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5f74be),_0x3e6b0d&&NotificationManager[_0x4cbdc9(0x1dd)](_0x3e6b0d,_0x5f74be);}function toggleSessionStatus(){const _0x294b1c=a2_0x1a16c0;lastUserActionTime=Date[_0x294b1c(0x18e)]();const _0x37f46e=sessions[_0x294b1c(0x21f)](_0x495beb=>_0x495beb['id']===editingId);if(!_0x37f46e)return;const _0x2e967e=_0x37f46e[_0x294b1c(0x161)]===_0x294b1c(0x1b3)?_0x294b1c(0x297):_0x294b1c(0x1b3);_0x37f46e[_0x294b1c(0x161)]=_0x2e967e,saveSingleSession(_0x37f46e),_0x2e967e===_0x294b1c(0x1b3)&&NotificationManager[_0x294b1c(0x1dd)](_0x294b1c(0x16a),_0x37f46e),showToast(_0x2e967e===_0x294b1c(0x1b3)?_0x294b1c(0x1c1):_0x294b1c(0x15d),!![]);}function validateAppointment(_0x2961d7,_0x461d92,_0x3afdfb,_0x1c49c4,_0x115a3f){const _0x2b6af5=a2_0x1a16c0,[_0x35a127,_0x1d9788]=_0x461d92['split'](':')['map'](Number),[_0x1d2b07,_0x88e84]=_0x3afdfb['split'](':')[_0x2b6af5(0x135)](Number),_0x632d93=_0x35a127*0x3c+_0x1d9788,_0x24b3d6=_0x1d2b07*0x3c+_0x88e84,_0x203625=String(_0x115a3f);let _0x55090f=![],_0x9f3012='';for(let _0x47a580 of sessions){if(_0x47a580[_0x2b6af5(0x169)]!==_0x2961d7)continue;if(_0x47a580[_0x2b6af5(0x161)]===_0x2b6af5(0x159))continue;if(_0x1c49c4&&String(_0x47a580['id'])===String(_0x1c49c4))continue;const [_0x198349,_0x5a57bf]=_0x47a580[_0x2b6af5(0x1c7)][_0x2b6af5(0x118)](':')[_0x2b6af5(0x135)](Number),[_0xa585d1,_0x1afd6c]=_0x47a580['end']['split'](':')[_0x2b6af5(0x135)](Number),_0x59cf77=_0x198349*0x3c+_0x5a57bf,_0x13ac71=_0xa585d1*0x3c+_0x1afd6c;if(Math[_0x2b6af5(0x131)](_0x632d93,_0x59cf77)<Math[_0x2b6af5(0x176)](_0x24b3d6,_0x13ac71)){if(_0x47a580[_0x2b6af5(0x277)]&&String(_0x47a580[_0x2b6af5(0x277)])===_0x203625)return{'valid':![],'msg':_0x2b6af5(0x1d7)+_0x47a580[_0x2b6af5(0x1fd)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x55090f=!![],_0x9f3012=_0x47a580[_0x2b6af5(0x1fd)];}}if(_0x55090f)return{'valid':!![],'warning':_0x2b6af5(0x20b)+_0x9f3012};return{'valid':!![]};}function saveSingleSession(_0x47581d){const _0x573a12=a2_0x1a16c0;if(editingId){const _0x4d496f=sessions[_0x573a12(0x205)](_0x282b93=>_0x282b93['id']===editingId);if(_0x4d496f!==-0x1)sessions[_0x4d496f]=_0x47581d;}else sessions[_0x573a12(0x133)](_0x47581d);afterSaveAction([_0x47581d[_0x573a12(0x169)]]);}function createBatchSeries(_0x21f11d,_0x54a8cb,_0x4fe649){const _0x283ead=a2_0x1a16c0,_0x55342e=generateId(),_0x3da802=[],_0x54476c=[];let _0x5b6b46=0x0,_0x1061f7=new Date(_0x54a8cb);for(let _0x310c6e=0x0;_0x310c6e<_0x4fe649;_0x310c6e++){const _0x1475a7=getLocalDateStr(_0x1061f7),_0x3a13d3=validateAppointment(_0x1475a7,_0x21f11d[_0x283ead(0x1c7)],_0x21f11d[_0x283ead(0x23a)],null,_0x21f11d[_0x283ead(0x277)]);if(!_0x3a13d3[_0x283ead(0x142)])console['log']('[Series]\x20Skipped\x20'+_0x1475a7+':\x20Client\x20already\x20booked'),_0x5b6b46++;else{const _0x1e7538={..._0x21f11d,'id':generateId(),'dateStr':_0x1475a7,'seriesId':_0x55342e};_0x54476c[_0x283ead(0x133)](_0x1e7538),_0x3da802[_0x283ead(0x133)](_0x1475a7);}_0x1061f7[_0x283ead(0x13e)](_0x1061f7[_0x283ead(0x1d6)]()+0x7);}if(_0x54476c['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x283ead(0x133)](..._0x54476c),lastUserActionTime=Date['now']();let _0x2270b8=_0x283ead(0x14e)+_0x54476c[_0x283ead(0x19a)];_0x5b6b46>0x0&&(_0x2270b8+=_0x283ead(0x232)+_0x5b6b46+')'),showToast(_0x2270b8,!![]),afterSaveAction(_0x3da802);}function updateSeriesBatch(_0x5b2413,_0x265276){const _0x24bb6a=a2_0x1a16c0,_0x40935a=[],_0x1ff8ce=_0x265276[_0x24bb6a(0x139)];if(_0x5b2413===_0x24bb6a(0x278)){const _0x477964={..._0x265276,'seriesId':null},_0xd62b9b=sessions[_0x24bb6a(0x205)](_0x1da57d=>_0x1da57d['id']===_0x265276['id']);if(_0xd62b9b!==-0x1)sessions[_0xd62b9b]=_0x477964;_0x40935a[_0x24bb6a(0x133)](_0x477964[_0x24bb6a(0x169)]);}else{if(_0x5b2413==='series'){const _0x57a022=_0x265276[_0x24bb6a(0x169)];sessions[_0x24bb6a(0x270)]((_0x2295bb,_0x2cdd71)=>{const _0x126126=_0x24bb6a;_0x2295bb['seriesId']===_0x1ff8ce&&_0x2295bb[_0x126126(0x169)]>=_0x57a022&&(sessions[_0x2cdd71]={...sessions[_0x2cdd71],'start':_0x265276[_0x126126(0x1c7)],'end':_0x265276[_0x126126(0x23a)],'note':_0x265276['note'],'client':_0x265276['client'],'clientId':_0x265276[_0x126126(0x277)]},_0x40935a['push'](_0x2295bb[_0x126126(0x169)]));});}}afterSaveAction(_0x40935a);}function tryDeleteSession(){const _0x312531=a2_0x1a16c0,_0xf7f2fa=sessions[_0x312531(0x21f)](_0x32c226=>_0x32c226['id']===editingId);if(!_0xf7f2fa)return;_0xf7f2fa[_0x312531(0x139)]?openActionSheet(_0x312531(0x150)):commitDelete(_0x312531(0x278),_0xf7f2fa);}function a2_0x4908(){const _0x50dcdb=['<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','block','var(--acc-red)','height','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getElementById','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','...','offsetWidth','ru-RU','clients','toString',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.',':00','#050505','4149474sBOtBf','user','863mYGHJR','search','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','2061759mdapyS','appendChild','forEach','toast','WebApp','rgba(100,100,100,0.5)','sheetTitle','ready','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','clientId','single','text/plain;charset=UTF-8','globalTimeLine','inpStart','round','(((.+)+)+)+$','79416gYNbpJ','seriesCountContainer','offsetLeft','00:00','catch','%\x20+\x202px)','clientWidth','apply','time-label','</b>\x0a\x0a',':00</span>','doEventsList','today','10px','rangeStartDate','none','Server\x20Error','%\x20-\x204px)','style','[Notify]\x20Attempting\x20to\x20send:','background','saveLocally','colIndex','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','anEnd','planned','vibrate','blocked-range-part\x20stripe-bg','as-button\x20danger','inpSeriesCount','from','fetchFromServer','settings','zIndex','getFullYear','floor','add','split','toLocaleDateString','gridColumns','var(--acc-orange)','getBoundingClientRect','#gridColumns\x20.day-column','splice',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','day-off-overlay\x20stripe-bg','\x20status-completed','textContent','location','.day-off-overlay','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','name','save','note','[API\x20','stopPropagation','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','Save\x20settings\x20error:','error','inpEnd','querySelectorAll','max','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','push','color','map','clientY','rgba(255,\x2069,\x2058,\x200.15)','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','seriesId','rangeEndDate','checked','onclick','settingCancelWindow','setDate','.event-card','</div><div\x20class=\x22dch-num\x22>','className','valid','4680yVIbos','toFixed','initDataUnsafe','<b>‚úÖ\x20','23:59','sid','sort','save_settings','inpNote','ranges','Critical\x20TMA\x20Error:','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','series','delete','scrollWidth','btnDelete','warn','json','getAttribute','–£–¥–∞–ª–µ–Ω–∏–µ','pe-time-label','stat-','cancelled','inpRecurring','log','null','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','div','uc_clients_v9','anCustomDates','status','uc_sessions_v9','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','getMonth','T00:00:00','touchstart','actionSheet','initData','dateStr','complete','Telegram','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','px\x20-','rangeEndTime','data-day-idx','.sheet','.pib-text','month','disableVerticalSwipes','[Sync]\x20Loading\x20','rgba(','min','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Notify]\x20Server\x20Response:','statLoadCard','patternEditor','POST','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','random','25684680XmEwko','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','createElement','pe-col-header','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','borderColor','as-button\x20danger\x20bold','batch_sync','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','day-col-header\x20','setMonth','option','toUpperCase','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','now','peGrid','event-card','then','anStart','pe-corner','timeColumn','.period-switch\x20.p-btn','btnStatusToggle','inpClient','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','actionSheetOverlay','length','setHeaderColor','timeLineBadge','getTime','all','#0a84ff','strokeDashoffset','undefined','analyticsList','create','week','onClick','syncBatch','keys','update','borderRadius','mousedown','long','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','[Settings]\x20Cancel\x20window\x20set\x20to:','scrollLeft','backgroundPosition','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','success','completed','top','overlay','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','[Notify]\x20Detected\x20Client\x20ID:','width','<div\x20class=\x22ev-title\x22>','1003464xhltBc','2386OxWobl','total','px\x200px','cancel_window','<div\x20class=\x22dch-day\x22>','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','\x20-\x20','.day-col-header','BackButton','Unknown','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','start','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','value','toLocaleString','show','var(--acc-green)','16DkbKYe','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','range-item','doBusyHours','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uc_settings_cancel_window','msg','pattern','getDate','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','createDocumentFragment','</span>\x20/\x20','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','setHours','send','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','numeric','#fff','uc_settings_v9','addEventListener','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','href','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','setBackgroundColor','btn-status-toggle','touchend','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','doWorkHours','filter','innerHTML','Error\x20setting\x20color:','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','header-','analyticsSheet','custom','</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','parse','off','remove','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','rangeStartTime','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','btnDayToggle','touches','client','scrollTop','btn-primary\x20btn-danger','v9.0-BATCH-CALENDAR','stringify','rgba(255,\x2069,\x2058,\x200.3)','blocked-slot\x20stripe-bg','constructor','findIndex','text','inpDate','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','dayOptionsSheet','scroll','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','mergeServerData','calendar','dayOptionsTitle','init_load','data','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','getDay',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','syncLoad','anPercent','client-stat-card','Error\x20setting\x20back\x20button:','entries','open','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mini','10px\x2010px\x200\x200','substr','find','display',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','asBtnOne','[Notify]\x20Client\x20SWAP\x20detected','getMinutes','setAttribute','2045sFmtAf','day-column\x20','data-date','exceptions','includes','doLoadPercent','[Notify]\x20Network\x20Failed','isArray','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rgba(48,\x20209,\x2088,\x200.15)','setItem','padStart','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','done','flex','querySelector','charAt','borderLeftColor','rgba(255,255,255,0.05)','calc(','end','slice','<span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','sheetDateSubtitle','Batch\x20Sync\x20OK','formatDate','recurringOptionContainer','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sessionSheet','offClick','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','closest','cancel','getHours','active','patternInfoBox','warning','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Local\x20Save\x20Error','asTitle','deleted','var(--acc-current)','getItem','matrixViewport','indexOf','\x20‚Äî\x20','mousemove','daysHeaderTrack','getText','</div><div\x20class=\x22ev-time\x22>'];a2_0x4908=function(){return _0x50dcdb;};return a2_0x4908();}function commitDelete(_0xb5b384,_0xeeb59f){const _0x5cf673=a2_0x1a16c0;lastUserActionTime=Date[_0x5cf673(0x18e)](),NotificationManager[_0x5cf673(0x1dd)](_0x5cf673(0x247),_0xeeb59f);const _0x13eadc=[];if(_0xb5b384===_0x5cf673(0x278))sessions=sessions[_0x5cf673(0x1ec)](_0x5542c3=>_0x5542c3['id']!==_0xeeb59f['id']),_0x13eadc[_0x5cf673(0x133)](_0xeeb59f[_0x5cf673(0x169)]);else{if(_0xb5b384==='series'){const _0x494d33=_0xeeb59f['dateStr'],_0x53f8c7=_0xeeb59f[_0x5cf673(0x139)];sessions[_0x5cf673(0x270)](_0x136b6a=>{const _0x164035=_0x5cf673;_0x136b6a[_0x164035(0x139)]===_0x53f8c7&&_0x136b6a[_0x164035(0x169)]>=_0x494d33&&_0x13eadc[_0x164035(0x133)](_0x136b6a[_0x164035(0x169)]);}),sessions=sessions[_0x5cf673(0x1ec)](_0x750651=>!(_0x750651[_0x5cf673(0x139)]===_0x53f8c7&&_0x750651[_0x5cf673(0x169)]>=_0x494d33));}}afterSaveAction(_0x13eadc);}function afterSaveAction(_0x19fe69){const _0x3d29fc=a2_0x1a16c0;DataManager[_0x3d29fc(0x293)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3d29fc(0x1a6)](_0x19fe69)[_0x3d29fc(0x191)](()=>console['log'](_0x3d29fc(0x23f)))[_0x3d29fc(0x282)](_0x3f11e4=>showToast(_0x3d29fc(0x1e3),![]));}function a2_0x5a1c(_0x395d5c,_0x25e9c9){_0x395d5c=_0x395d5c-0x10d;const _0x5261a2=a2_0x4908();let _0xe89de2=_0x5261a2[_0x395d5c];return _0xe89de2;}const NotificationManager={'formatDate'(_0x208cd5){const _0x144dcb=a2_0x1a16c0,_0x4cd037=new Date(_0x208cd5),_0x1e38e0={'weekday':'long','day':_0x144dcb(0x1df),'month':_0x144dcb(0x1ab)};let _0x27ca36=_0x4cd037[_0x144dcb(0x119)]('ru-RU',_0x1e38e0);return _0x27ca36[_0x144dcb(0x236)](0x0)[_0x144dcb(0x18c)]()+_0x27ca36[_0x144dcb(0x23b)](0x1);},'getText'(_0x514d5e,_0x57b1d0){const _0x1fb8d2=a2_0x1a16c0,_0x1ff5f0=this[_0x1fb8d2(0x240)](_0x57b1d0[_0x1fb8d2(0x169)]);switch(_0x514d5e){case _0x1fb8d2(0x1a3):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x1fb8d2(0x163)+_0x1ff5f0+'\x0a')+(_0x1fb8d2(0x1fa)+_0x57b1d0['start']+_0x1fb8d2(0x254)+_0x57b1d0['end']+'\x0a\x0a')+_0x1fb8d2(0x138);case _0x1fb8d2(0x1a8):return _0x1fb8d2(0x259)+_0x1fb8d2(0x295)+(_0x1fb8d2(0x146)+_0x57b1d0['start']+_0x1fb8d2(0x254)+_0x57b1d0['end']+_0x1fb8d2(0x287))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x1ff5f0);case _0x1fb8d2(0x247):return _0x1fb8d2(0x125)+(_0x1fb8d2(0x188)+_0x1ff5f0+'\x20('+_0x57b1d0[_0x1fb8d2(0x1c7)]+_0x1fb8d2(0x266));case _0x1fb8d2(0x16a):return _0x1fb8d2(0x1f8)+_0x1fb8d2(0x260)+_0x1fb8d2(0x276);default:return'';}},async 'send'(_0xaabd7c,_0x758a70){const _0x3281ec=a2_0x1a16c0;console[_0x3281ec(0x15b)](_0x3281ec(0x291),_0xaabd7c,_0x758a70);if(!_0x758a70){console[_0x3281ec(0x12e)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x254a7d=String(_0x758a70[_0x3281ec(0x277)]);console[_0x3281ec(0x15b)](_0x3281ec(0x1b7),_0x254a7d);if(!_0x758a70['clientId']||_0x254a7d===_0x3281ec(0x1a1)||_0x254a7d===_0x3281ec(0x15c)){console[_0x3281ec(0x12e)](_0x3281ec(0x26d));if(_0x758a70['client']){const _0x4687a8=clients[_0x3281ec(0x21f)](_0x2ecbdb=>_0x2ecbdb[_0x3281ec(0x127)]===_0x758a70[_0x3281ec(0x1fd)]);if(_0x4687a8)return console[_0x3281ec(0x15b)](_0x3281ec(0x208),_0x4687a8['id']),this['send'](_0xaabd7c,{..._0x758a70,'clientId':_0x4687a8['id']});}return;}if(_0x254a7d[_0x3281ec(0x19a)]<0x5){console[_0x3281ec(0x153)](_0x3281ec(0x1cf),_0x254a7d);return;}const _0x5e0e82=this[_0x3281ec(0x257)](_0xaabd7c,_0x758a70);if(!_0x5e0e82){console[_0x3281ec(0x12e)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x3281ec(0x15b)](_0x3281ec(0x184)+_0x254a7d+_0x3281ec(0x261)),DataManager[_0x3281ec(0x112)]('send_notification',{'chatId':_0x254a7d,'text':_0x5e0e82})[_0x3281ec(0x191)](_0x593105=>console[_0x3281ec(0x15b)](_0x3281ec(0x179),_0x593105))[_0x3281ec(0x282)](_0x1559ac=>console[_0x3281ec(0x12e)](_0x3281ec(0x22c),_0x1559ac));}};function getLocalDateStr(_0x1f8702){const _0x321b05=a2_0x1a16c0,_0x489384=_0x1f8702[_0x321b05(0x115)](),_0x10f4a5=String(_0x1f8702[_0x321b05(0x164)]()+0x1)[_0x321b05(0x231)](0x2,'0'),_0x41b8fb=String(_0x1f8702['getDate']())[_0x321b05(0x231)](0x2,'0');return _0x489384+'-'+_0x10f4a5+'-'+_0x41b8fb;}function getDateStr(_0x32674d){const _0x4e823e=a2_0x1a16c0,_0x149926=new Date();return _0x149926[_0x4e823e(0x13e)](_0x149926['getDate']()+_0x32674d),getLocalDateStr(_0x149926);}function getStartOfWeek(_0x43accf){const _0x2bdd5d=a2_0x1a16c0,_0x250fd8=(function(){let _0x26b92c=!![];return function(_0x4cd21a,_0x518dd5){const _0xc9db5c=_0x26b92c?function(){const _0x1e17cf=a2_0x5a1c;if(_0x518dd5){const _0x5f4042=_0x518dd5[_0x1e17cf(0x285)](_0x4cd21a,arguments);return _0x518dd5=null,_0x5f4042;}}:function(){};return _0x26b92c=![],_0xc9db5c;};}()),_0x2e1b93=_0x250fd8(this,function(){const _0x5da058=a2_0x5a1c;return _0x2e1b93[_0x5da058(0x265)]()[_0x5da058(0x26c)](_0x5da058(0x27d))[_0x5da058(0x265)]()[_0x5da058(0x204)](_0x2e1b93)[_0x5da058(0x26c)]('(((.+)+)+)+$');});_0x2e1b93();const _0x2a4db5=new Date(_0x43accf),_0xac83a0=_0x2a4db5[_0x2bdd5d(0x212)](),_0x332307=_0x2a4db5[_0x2bdd5d(0x1d6)]()-_0xac83a0+(_0xac83a0===0x0?-0x6:0x1);return _0x2a4db5['setDate'](_0x332307),_0x2a4db5['setHours'](0x0,0x0,0x0,0x0),_0x2a4db5;}function hexToRgba(_0x398b6e,_0x48d1f5){const _0x323be6=a2_0x1a16c0;if(!_0x398b6e)return _0x323be6(0x273);let _0x56ee50=0x0,_0x24e2ee=0x0,_0x3b6ee2=0x0;if(_0x398b6e[_0x323be6(0x19a)]===0x4)_0x56ee50='0x'+_0x398b6e[0x1]+_0x398b6e[0x1],_0x24e2ee='0x'+_0x398b6e[0x2]+_0x398b6e[0x2],_0x3b6ee2='0x'+_0x398b6e[0x3]+_0x398b6e[0x3];else _0x398b6e[_0x323be6(0x19a)]===0x7&&(_0x56ee50='0x'+_0x398b6e[0x1]+_0x398b6e[0x2],_0x24e2ee='0x'+_0x398b6e[0x3]+_0x398b6e[0x4],_0x3b6ee2='0x'+_0x398b6e[0x5]+_0x398b6e[0x6]);return _0x323be6(0x175)+ +_0x56ee50+',\x20'+ +_0x24e2ee+',\x20'+ +_0x3b6ee2+',\x20'+_0x48d1f5+')';}function renderTimeColumn(){const _0x367735=a2_0x1a16c0,_0x3e0fd5=document[_0x367735(0x25e)](_0x367735(0x194)),_0x22d342=document[_0x367735(0x25e)](_0x367735(0x19c));_0x3e0fd5['innerHTML']='',_0x3e0fd5[_0x367735(0x26f)](_0x22d342);for(let _0x27a2d8=0x0;_0x27a2d8<0x18;_0x27a2d8++){const _0x73cdab=document[_0x367735(0x182)](_0x367735(0x15e));_0x73cdab[_0x367735(0x141)]=_0x367735(0x286);if(_0x27a2d8>0x0)_0x73cdab[_0x367735(0x1ed)]=_0x367735(0x23c)+String(_0x27a2d8)[_0x367735(0x231)](0x2,'0')+_0x367735(0x288);_0x3e0fd5[_0x367735(0x26f)](_0x73cdab);}}function renderDayRange(_0x20877b,_0x95cd90){const _0x4a4ca3=a2_0x1a16c0,_0x2f4e41=document[_0x4a4ca3(0x25e)](_0x4a4ca3(0x256)),_0x10f562=document[_0x4a4ca3(0x25e)](_0x4a4ca3(0x11a)),_0xb9b5b3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x219efc=new Date();_0x219efc[_0x4a4ca3(0x1dc)](0x0,0x0,0x0,0x0);const _0x226035=getLocalDateStr(new Date());for(let _0x3ae141=_0x20877b;_0x3ae141<=_0x95cd90;_0x3ae141++){const _0x34992b=new Date(_0x219efc);_0x34992b['setDate'](_0x34992b[_0x4a4ca3(0x1d6)]()+_0x3ae141);const _0x4cbb22=getLocalDateStr(_0x34992b);let _0x5a8d9f=_0x34992b[_0x4a4ca3(0x212)]()-0x1;if(_0x5a8d9f===-0x1)_0x5a8d9f=0x6;const _0x385eb7=_0x4cbb22===_0x226035,_0x31e9fc=document[_0x4a4ca3(0x182)](_0x4a4ca3(0x15e));_0x31e9fc['className']=_0x4a4ca3(0x189)+(_0x385eb7?_0x4a4ca3(0x28a):''),_0x31e9fc['id']=_0x4a4ca3(0x1f0)+_0x4cbb22,_0x31e9fc[_0x4a4ca3(0x225)]('data-date',_0x4cbb22),_0x31e9fc[_0x4a4ca3(0x1ed)]=_0x4a4ca3(0x1bf)+_0xb9b5b3[_0x5a8d9f]+_0x4a4ca3(0x140)+_0x34992b[_0x4a4ca3(0x1d6)]()+_0x4a4ca3(0x16c)+_0x4cbb22+_0x4a4ca3(0x245),_0x31e9fc['onclick']=()=>openDayOptions(_0x4cbb22,_0xb9b5b3[_0x5a8d9f]+'\x20'+_0x34992b[_0x4a4ca3(0x1d6)]()),_0x2f4e41[_0x4a4ca3(0x26f)](_0x31e9fc);const _0x241961=document[_0x4a4ca3(0x182)](_0x4a4ca3(0x15e));_0x241961[_0x4a4ca3(0x141)]=_0x4a4ca3(0x227)+(_0x385eb7?_0x4a4ca3(0x28a):''),_0x241961[_0x4a4ca3(0x225)](_0x4a4ca3(0x228),_0x4cbb22),_0x241961[_0x4a4ca3(0x225)](_0x4a4ca3(0x16f),_0x5a8d9f),renderEventsForColumn(_0x241961,_0x4cbb22,_0x5a8d9f),attachLongPressHandler(_0x241961,_0x34992b),_0x10f562[_0x4a4ca3(0x26f)](_0x241961),updateDayStats(_0x4cbb22);}}function reRenderBlocks(){const _0x18f9f5=a2_0x1a16c0;document['querySelectorAll'](_0x18f9f5(0x11d))[_0x18f9f5(0x270)](_0x369e62=>{const _0x24590c=_0x18f9f5;_0x369e62[_0x24590c(0x130)](_0x24590c(0x22e))['forEach'](_0x544344=>_0x544344[_0x24590c(0x1f7)]());const _0x12f3cf=_0x369e62['getAttribute']('data-date'),_0x3b6624=parseInt(_0x369e62[_0x24590c(0x155)](_0x24590c(0x16f))),_0xa587a2=Math['round'](_0x369e62[_0x24590c(0x280)]);(availabilityPattern[_0x3b6624]||[])['forEach'](_0x2bc622=>{const _0x5e6808=_0x24590c,_0x3dd42a=document[_0x5e6808(0x182)](_0x5e6808(0x15e));_0x3dd42a['className']=_0x5e6808(0x203);const _0x4a11db=_0x2bc622*GRID_H;_0x3dd42a[_0x5e6808(0x290)][_0x5e6808(0x1b4)]=_0x4a11db+'px',_0x3dd42a[_0x5e6808(0x290)]['backgroundPosition']='-'+_0xa587a2+_0x5e6808(0x16d)+_0x4a11db+'px',_0x369e62[_0x5e6808(0x26f)](_0x3dd42a);});if(specialRanges&&specialRanges[_0x24590c(0x19a)]>0x0){const _0x207bf8=new Date(_0x12f3cf+_0x24590c(0x165))[_0x24590c(0x19d)](),_0x5afd66=new Date(_0x12f3cf+'T23:59:59')[_0x24590c(0x19d)]();specialRanges[_0x24590c(0x270)](_0x5986ed=>{const _0x50225b=_0x24590c,_0x38f30b=new Date(_0x5986ed[_0x50225b(0x1c7)])['getTime'](),_0x52668b=new Date(_0x5986ed['end'])[_0x50225b(0x19d)](),_0x3efa1f=Math[_0x50225b(0x131)](_0x207bf8,_0x38f30b),_0x4c2383=Math[_0x50225b(0x176)](_0x5afd66,_0x52668b);if(_0x3efa1f<_0x4c2383){if(_0x3efa1f<=_0x207bf8&&_0x4c2383>=_0x5afd66-0xea60){if(!_0x369e62[_0x50225b(0x235)](_0x50225b(0x124))){const _0x3f1090=document[_0x50225b(0x182)]('div');_0x3f1090[_0x50225b(0x141)]=_0x50225b(0x120),_0x3f1090[_0x50225b(0x290)][_0x50225b(0x1b0)]='-'+_0xa587a2+_0x50225b(0x1bd),_0x369e62[_0x50225b(0x26f)](_0x3f1090);}}else{const _0x1759ed=(_0x3efa1f-_0x207bf8)/0x36ee80*GRID_H,_0x2d45b5=(_0x4c2383-_0x3efa1f)/0x36ee80*GRID_H,_0x7ba7e2=document[_0x50225b(0x182)](_0x50225b(0x15e));_0x7ba7e2[_0x50225b(0x141)]=_0x50225b(0x10e),_0x7ba7e2['style'][_0x50225b(0x1b4)]=_0x1759ed+'px',_0x7ba7e2[_0x50225b(0x290)][_0x50225b(0x25c)]=_0x2d45b5+'px',_0x7ba7e2[_0x50225b(0x290)][_0x50225b(0x1b0)]='-'+_0xa587a2+'px\x20-'+_0x1759ed+'px',_0x369e62['appendChild'](_0x7ba7e2);}}});}if(dateExceptions[_0x12f3cf]===_0x24590c(0x1f6)){if(!_0x369e62[_0x24590c(0x235)]('.day-off-overlay')){const _0x31b987=document[_0x24590c(0x182)]('div');_0x31b987[_0x24590c(0x141)]=_0x24590c(0x120),_0x31b987[_0x24590c(0x290)][_0x24590c(0x1b0)]='-'+_0xa587a2+_0x24590c(0x1bd),_0x369e62[_0x24590c(0x26f)](_0x31b987);}}renderEventsForColumn(_0x369e62,_0x12f3cf,_0x3b6624),updateDayStats(_0x12f3cf);});}function updateAllDayStats(){const _0xafa942=a2_0x1a16c0;document[_0xafa942(0x130)](_0xafa942(0x1c3))['forEach'](_0x2e5206=>{const _0x28924c=_0xafa942;updateDayStats(_0x2e5206[_0x28924c(0x155)](_0x28924c(0x228)));});}function updateDayStats(_0x438a67){const _0x43217f=a2_0x1a16c0,_0x56e2ae=document[_0x43217f(0x25e)](_0x43217f(0x158)+_0x438a67);if(!_0x56e2ae)return;const _0x259f99=new Date(_0x438a67);let _0x12b52a=_0x259f99[_0x43217f(0x212)]()-0x1;if(_0x12b52a===-0x1)_0x12b52a=0x6;if(dateExceptions[_0x438a67]===_0x43217f(0x1f6)){_0x56e2ae[_0x43217f(0x290)]['display']=_0x43217f(0x28d);return;}const _0x54fca6=availabilityPattern[_0x12b52a]||[],_0x5188b7=0x18-_0x54fca6[_0x43217f(0x19a)],_0x497826=_0x5188b7*0x3c,_0x476419=sessions[_0x43217f(0x1ec)](_0x2092b0=>_0x2092b0[_0x43217f(0x169)]===_0x438a67&&_0x2092b0[_0x43217f(0x161)]!==_0x43217f(0x159));if(_0x476419[_0x43217f(0x19a)]===0x0){_0x56e2ae[_0x43217f(0x290)][_0x43217f(0x220)]=_0x43217f(0x28d);return;}let _0x49f515=_0x476419[_0x43217f(0x135)](_0x194611=>{const _0xbc0f8a=_0x43217f,[_0x3ef6ae,_0x2c79e9]=_0x194611[_0xbc0f8a(0x1c7)][_0xbc0f8a(0x118)](':')[_0xbc0f8a(0x135)](Number),[_0x2ed9a4,_0x365643]=_0x194611['end'][_0xbc0f8a(0x118)](':')[_0xbc0f8a(0x135)](Number);return[_0x3ef6ae*0x3c+_0x2c79e9,_0x2ed9a4*0x3c+_0x365643];});_0x49f515[_0x43217f(0x149)]((_0x29d5,_0x4e39e9)=>_0x29d5[0x0]-_0x4e39e9[0x0]);let _0x34d08e=[];if(_0x49f515[_0x43217f(0x19a)]>0x0){let _0x23b57c=_0x49f515[0x0];for(let _0x4fc099=0x1;_0x4fc099<_0x49f515[_0x43217f(0x19a)];_0x4fc099++){_0x49f515[_0x4fc099][0x0]<_0x23b57c[0x1]?_0x23b57c[0x1]=Math[_0x43217f(0x131)](_0x23b57c[0x1],_0x49f515[_0x4fc099][0x1]):(_0x34d08e['push'](_0x23b57c),_0x23b57c=_0x49f515[_0x4fc099]);}_0x34d08e[_0x43217f(0x133)](_0x23b57c);}let _0x1e6974=0x0;_0x34d08e[_0x43217f(0x270)](_0x2bde36=>_0x1e6974+=_0x2bde36[0x1]-_0x2bde36[0x0]),_0x56e2ae['style']['display']=_0x43217f(0x234);const _0x12f9da=_0x56e2ae['querySelector']('.dch-stats-fill');if(_0x497826===0x0){_0x12f9da[_0x43217f(0x290)][_0x43217f(0x1b8)]='100%',_0x12f9da['style'][_0x43217f(0x292)]=_0x43217f(0x25b);return;}const _0x5be1ce=_0x1e6974/_0x497826*0x64;console[_0x43217f(0x15b)]('['+_0x438a67+_0x43217f(0x213)+_0x5188b7+_0x43217f(0x12c)+_0x1e6974+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x5be1ce[_0x43217f(0x144)](0x1)+'%'),_0x5be1ce>0x64?(_0x12f9da['style'][_0x43217f(0x1b8)]='100%',_0x12f9da[_0x43217f(0x290)]['background']=_0x43217f(0x25b)):(_0x12f9da[_0x43217f(0x290)][_0x43217f(0x1b8)]=_0x5be1ce+'%',_0x12f9da[_0x43217f(0x290)]['background']=_0x43217f(0x250));}function renderEventsForColumn(_0x17a394,_0x3e885e,_0x26c6ef){const _0x3b8a0b=a2_0x1a16c0,_0x2fd200=sessions[_0x3b8a0b(0x1ec)](_0x38c917=>_0x38c917[_0x3b8a0b(0x169)]===_0x3e885e),_0x12df17=_0x2fd200[_0x3b8a0b(0x135)](_0x3e91c3=>{const _0x1c39e2=_0x3b8a0b,[_0x1ea054,_0x2bafad]=_0x3e91c3[_0x1c39e2(0x1c7)][_0x1c39e2(0x118)](':')[_0x1c39e2(0x135)](Number),[_0x2f1ffb,_0x3a03d9]=_0x3e91c3[_0x1c39e2(0x23a)][_0x1c39e2(0x118)](':')[_0x1c39e2(0x135)](Number);return{'data':_0x3e91c3,'start':_0x1ea054*0x3c+_0x2bafad,'end':_0x2f1ffb*0x3c+_0x3a03d9,'colIndex':0x0};});_0x12df17[_0x3b8a0b(0x149)]((_0x147a45,_0x1ac06b)=>{const _0x48b5d1=_0x3b8a0b;if(_0x147a45[_0x48b5d1(0x1c7)]!==_0x1ac06b[_0x48b5d1(0x1c7)])return _0x147a45['start']-_0x1ac06b[_0x48b5d1(0x1c7)];return _0x1ac06b['end']-_0x1ac06b[_0x48b5d1(0x1c7)]-(_0x147a45[_0x48b5d1(0x23a)]-_0x147a45['start']);});const _0x3206da=[];_0x12df17[_0x3b8a0b(0x270)](_0x5258e7=>{const _0x4d5af5=_0x3b8a0b;let _0x4ebde3=![];for(let _0x2c852e=0x0;_0x2c852e<_0x3206da[_0x4d5af5(0x19a)];_0x2c852e++){const _0x102ff8=_0x3206da[_0x2c852e],_0xf3bfb6=_0x102ff8[_0x102ff8[_0x4d5af5(0x19a)]-0x1];if(_0x5258e7['start']>=_0xf3bfb6['end']){_0x102ff8[_0x4d5af5(0x133)](_0x5258e7),_0x5258e7[_0x4d5af5(0x294)]=_0x2c852e,_0x4ebde3=!![];break;}}!_0x4ebde3&&(_0x3206da[_0x4d5af5(0x133)]([_0x5258e7]),_0x5258e7['colIndex']=_0x3206da[_0x4d5af5(0x19a)]-0x1);}),_0x12df17[_0x3b8a0b(0x270)](_0x49f11d=>{const _0x14fb35=_0x3b8a0b;let _0x32da81=0x0;_0x12df17[_0x14fb35(0x270)](_0x58dfeb=>{const _0x49b5aa=_0x14fb35;if(Math[_0x49b5aa(0x131)](_0x49f11d['start'],_0x58dfeb[_0x49b5aa(0x1c7)])<Math[_0x49b5aa(0x176)](_0x49f11d[_0x49b5aa(0x23a)],_0x58dfeb['end'])){if(_0x58dfeb[_0x49b5aa(0x294)]>_0x32da81)_0x32da81=_0x58dfeb[_0x49b5aa(0x294)];}});const _0x5d9718=_0x32da81+0x1,_0x427323=0x64/_0x5d9718,_0x1c5349=_0x49f11d[_0x14fb35(0x294)]*_0x427323,_0xd9334c=createEventEl(_0x49f11d[_0x14fb35(0x210)]);_0xd9334c[_0x14fb35(0x290)][_0x14fb35(0x1b8)]='calc('+_0x427323+_0x14fb35(0x28f),_0xd9334c['style']['left']=_0x14fb35(0x239)+_0x1c5349+_0x14fb35(0x283),_0xd9334c[_0x14fb35(0x290)][_0x14fb35(0x114)]=0xa+_0x49f11d['colIndex'],_0x427323<0x55&&_0xd9334c['classList'][_0x14fb35(0x117)](_0x14fb35(0x21c)),_0x17a394['appendChild'](_0xd9334c);});}function createEventEl(_0x5806dc){const _0x358384=a2_0x1a16c0,[_0x3207d4,_0xf6bbc3]=_0x5806dc[_0x358384(0x1c7)][_0x358384(0x118)](':')[_0x358384(0x135)](Number),[_0x51715d,_0xbbc606]=_0x5806dc['end'][_0x358384(0x118)](':')[_0x358384(0x135)](Number),_0x17357c=(_0x3207d4*0x3c+_0xf6bbc3)/0x3c*GRID_H,_0x956207=(_0x51715d*0x3c+_0xbbc606-(_0x3207d4*0x3c+_0xf6bbc3))/0x3c*GRID_H,_0x26e78f=document[_0x358384(0x182)](_0x358384(0x15e)),_0x1fdcb9=_0x5806dc[_0x358384(0x161)]==='completed'?_0x358384(0x121):'';_0x26e78f[_0x358384(0x141)]=_0x358384(0x190)+_0x1fdcb9,_0x26e78f[_0x358384(0x290)]['top']=_0x17357c+'px',_0x26e78f['style']['height']=Math['max'](_0x956207,0x14)+'px';const _0x327450=clients['find'](_0x9be909=>_0x5806dc['clientId']&&String(_0x9be909['id'])===String(_0x5806dc[_0x358384(0x277)])||_0x9be909[_0x358384(0x127)]===_0x5806dc[_0x358384(0x1fd)]),_0x5633e8=_0x327450?_0x327450['color']:_0x358384(0x19f);_0x26e78f['style'][_0x358384(0x237)]=_0x5633e8,_0x26e78f['style']['backgroundColor']=hexToRgba(_0x5633e8,0.85);let _0x10ffb9=_0x358384(0x1b9)+_0x5806dc[_0x358384(0x1fd)]+_0x358384(0x258)+_0x5806dc[_0x358384(0x1c7)]+_0x358384(0x1c2)+_0x5806dc[_0x358384(0x23a)]+_0x358384(0x1f3);return _0x5806dc['seriesId']&&(_0x10ffb9+=_0x358384(0x1ad)),_0x5806dc[_0x358384(0x161)]==='completed'&&(_0x10ffb9+=_0x358384(0x1c6)),_0x26e78f['innerHTML']=_0x10ffb9,_0x26e78f[_0x358384(0x13c)]=_0x6e53b0=>{const _0x1f9f11=_0x358384;_0x6e53b0[_0x1f9f11(0x12b)](),openEdit(_0x5806dc);},_0x26e78f;}function attachLongPressHandler(_0x3aa764,_0x59230d){const _0x5aa7a8=a2_0x1a16c0;let _0x37bae1=0x0,_0x1d8358=null;const _0x13f497=_0x4ec175=>{const _0x2ff020=a2_0x5a1c;if(_0x4ec175['target'][_0x2ff020(0x246)](_0x2ff020(0x13f)))return;isScrolling=![],_0x37bae1=_0x4ec175['touches']?_0x4ec175[_0x2ff020(0x1fc)][0x0]['clientY']:_0x4ec175[_0x2ff020(0x136)],_0x1d8358=setTimeout(()=>{const _0x286765=_0x2ff020;if(!isScrolling){navigator[_0x286765(0x10d)]?.(0x32);const _0xdcf968=_0x3aa764[_0x286765(0x11c)](),_0xe10fdf=Math[_0x286765(0x116)]((_0x37bae1-_0xdcf968['top'])/GRID_H);_0x59230d[_0x286765(0x1dc)](_0xe10fdf,0x0),openAddSession(_0x59230d);}},0x1f4);},_0x17b8ee=()=>{isScrolling=!![],clearTimeout(_0x1d8358);},_0x23e9cf=()=>{clearTimeout(_0x1d8358);};_0x3aa764[_0x5aa7a8(0x1e2)](_0x5aa7a8(0x166),_0x13f497,{'passive':!![]}),_0x3aa764[_0x5aa7a8(0x1e2)]('touchmove',_0x17b8ee,{'passive':!![]}),_0x3aa764[_0x5aa7a8(0x1e2)](_0x5aa7a8(0x1e8),_0x23e9cf),_0x3aa764['addEventListener'](_0x5aa7a8(0x1aa),_0x13f497),_0x3aa764[_0x5aa7a8(0x1e2)](_0x5aa7a8(0x255),_0x17b8ee),_0x3aa764[_0x5aa7a8(0x1e2)]('mouseup',_0x23e9cf);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x59837d=a2_0x1a16c0,_0xbd8b53=document[_0x59837d(0x25e)]('matrixViewport'),_0x2a9873=_0xbd8b53[_0x59837d(0x1af)],_0x93c044=_0xbd8b53[_0x59837d(0x151)],_0x352e9e=_0xbd8b53[_0x59837d(0x284)];if(_0x93c044-(_0x2a9873+_0x352e9e)<0x12c){const _0x1640bf=endOffset;endOffset+=0xe,renderDayRange(_0x1640bf+0x1,endOffset),reRenderBlocks();}if(_0x2a9873<0x12c){const _0x3a81b5=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3a81b5-0x1),_0xbd8b53['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1f377d,_0x4ce9b1){const _0x1f0b74=a2_0x1a16c0,_0x26253d=document[_0x1f0b74(0x25e)](_0x1f0b74(0x256)),_0x4d9340=document[_0x1f0b74(0x25e)]('gridColumns'),_0x55f48b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x76ba1f=new Date();_0x76ba1f[_0x1f0b74(0x1dc)](0x0,0x0,0x0,0x0);const _0x5d453e=getLocalDateStr(new Date()),_0x2cb6ff=document[_0x1f0b74(0x1d8)](),_0x22266a=document['createDocumentFragment']();for(let _0x1c583c=_0x1f377d;_0x1c583c<=_0x4ce9b1;_0x1c583c++){const _0x511166=new Date(_0x76ba1f);_0x511166[_0x1f0b74(0x13e)](_0x511166[_0x1f0b74(0x1d6)]()+_0x1c583c);const _0x494323=getLocalDateStr(_0x511166);let _0x45f201=_0x511166[_0x1f0b74(0x212)]()-0x1;if(_0x45f201===-0x1)_0x45f201=0x6;const _0x258d01=_0x494323===_0x5d453e,_0x125d50=document[_0x1f0b74(0x182)](_0x1f0b74(0x15e));_0x125d50[_0x1f0b74(0x141)]=_0x1f0b74(0x189)+(_0x258d01?'today':''),_0x125d50['id']=_0x1f0b74(0x1f0)+_0x494323,_0x125d50['setAttribute'](_0x1f0b74(0x228),_0x494323),_0x125d50['innerHTML']=_0x1f0b74(0x1bf)+_0x55f48b[_0x45f201]+'</div><div\x20class=\x22dch-num\x22>'+_0x511166[_0x1f0b74(0x1d6)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x494323+_0x1f0b74(0x245),_0x125d50[_0x1f0b74(0x13c)]=()=>openDayOptions(_0x494323,_0x55f48b[_0x45f201]+'\x20'+_0x511166['getDate']()),_0x2cb6ff[_0x1f0b74(0x26f)](_0x125d50);const _0x42fbe0=document['createElement'](_0x1f0b74(0x15e));_0x42fbe0[_0x1f0b74(0x141)]='day-column\x20'+(_0x258d01?_0x1f0b74(0x28a):''),_0x42fbe0[_0x1f0b74(0x225)](_0x1f0b74(0x228),_0x494323),_0x42fbe0[_0x1f0b74(0x225)]('data-day-idx',_0x45f201),renderEventsForColumn(_0x42fbe0,_0x494323,_0x45f201),attachLongPressHandler(_0x42fbe0,_0x511166),_0x22266a[_0x1f0b74(0x26f)](_0x42fbe0),updateDayStats(_0x494323);}_0x26253d[_0x1f0b74(0x21a)](_0x2cb6ff,_0x26253d['firstChild']),_0x4d9340[_0x1f0b74(0x21a)](_0x22266a,_0x4d9340[_0x1f0b74(0x235)]('.day-column'));}function validateAppointment(_0x1a4644,_0x112479,_0x1438de,_0x50c204,_0x299aac){const _0x48f0a3=a2_0x1a16c0,[_0x25229a,_0x1c7f9b]=_0x112479[_0x48f0a3(0x118)](':')[_0x48f0a3(0x135)](Number),[_0x180b2d,_0x2850f8]=_0x1438de[_0x48f0a3(0x118)](':')[_0x48f0a3(0x135)](Number),_0x4bca1e=_0x25229a*0x3c+_0x1c7f9b,_0x451859=_0x180b2d*0x3c+_0x2850f8,_0x2db5fe=String(_0x299aac);let _0x14d6ee=![],_0x591cf7='';for(let _0x34a58 of sessions){if(_0x34a58['dateStr']!==_0x1a4644)continue;if(_0x34a58[_0x48f0a3(0x161)]===_0x48f0a3(0x159))continue;if(_0x50c204&&String(_0x34a58['id'])===String(_0x50c204))continue;const [_0x1d4b91,_0x384ba]=_0x34a58['start'][_0x48f0a3(0x118)](':')[_0x48f0a3(0x135)](Number),[_0x2a9bb1,_0x3bda25]=_0x34a58['end'][_0x48f0a3(0x118)](':')[_0x48f0a3(0x135)](Number),_0x3fbae8=_0x1d4b91*0x3c+_0x384ba,_0x432e0d=_0x2a9bb1*0x3c+_0x3bda25;if(Math[_0x48f0a3(0x131)](_0x4bca1e,_0x3fbae8)<Math[_0x48f0a3(0x176)](_0x451859,_0x432e0d)){if(_0x34a58[_0x48f0a3(0x277)]&&String(_0x34a58['clientId'])===_0x2db5fe)return{'valid':![],'msg':_0x48f0a3(0x1d7)+_0x34a58[_0x48f0a3(0x1fd)]+_0x48f0a3(0x11f)};_0x14d6ee=!![],_0x591cf7=_0x34a58['client'];}}if(_0x14d6ee)return{'valid':!![],'warning':_0x48f0a3(0x20b)+_0x591cf7};return{'valid':!![]};}function updateDateDisplay(){const _0x2bd1b1=a2_0x1a16c0,_0x2cb591=document[_0x2bd1b1(0x25e)](_0x2bd1b1(0x207))[_0x2bd1b1(0x1ca)],_0x583cdc=document['getElementById'](_0x2bd1b1(0x23e));if(!_0x2cb591){_0x583cdc[_0x2bd1b1(0x122)]='';return;}const [_0x4333ca,_0x1dd7b9,_0xbb6882]=_0x2cb591[_0x2bd1b1(0x118)]('-')[_0x2bd1b1(0x135)](Number),_0x20e30f=new Date(_0x4333ca,_0x1dd7b9-0x1,_0xbb6882),_0x102e52={'weekday':_0x2bd1b1(0x1ab),'day':_0x2bd1b1(0x1df),'month':_0x2bd1b1(0x1ab),'year':_0x2bd1b1(0x1df)};let _0x4bca32=_0x20e30f[_0x2bd1b1(0x119)](_0x2bd1b1(0x263),_0x102e52);_0x4bca32=_0x4bca32[_0x2bd1b1(0x236)](0x0)[_0x2bd1b1(0x18c)]()+_0x4bca32[_0x2bd1b1(0x23b)](0x1),_0x583cdc['textContent']=_0x4bca32;}function autoSetEndTime(){const _0x16d9d7=a2_0x1a16c0,_0x1a5e35=document[_0x16d9d7(0x25e)](_0x16d9d7(0x27b))[_0x16d9d7(0x1ca)];if(!_0x1a5e35)return;const [_0xe79da1,_0x28af6b]=_0x1a5e35['split'](':')[_0x16d9d7(0x135)](Number);let _0x3e7502=_0xe79da1+0x1;if(_0x3e7502>0x17)_0x3e7502=0x0;const _0x50cba3=String(_0x3e7502)[_0x16d9d7(0x231)](0x2,'0')+':'+String(_0x28af6b)['padStart'](0x2,'0');document[_0x16d9d7(0x25e)](_0x16d9d7(0x12f))['value']=_0x50cba3;}function populateClientSelect(){const _0x23f626=a2_0x1a16c0,_0x63889d=document[_0x23f626(0x25e)]('inpClient');_0x63889d[_0x23f626(0x1ed)]='';if(clients[_0x23f626(0x19a)]===0x0){const _0x139c0b=document[_0x23f626(0x182)](_0x23f626(0x18b));_0x139c0b[_0x23f626(0x206)]=_0x23f626(0x1ac),_0x63889d['appendChild'](_0x139c0b);return;}clients[_0x23f626(0x270)](_0xd2a0aa=>{const _0x2b7ebb=_0x23f626,_0x525dcd=document[_0x2b7ebb(0x182)](_0x2b7ebb(0x18b));_0x525dcd['value']=_0xd2a0aa[_0x2b7ebb(0x127)],_0x525dcd[_0x2b7ebb(0x122)]=_0xd2a0aa['name'],_0x63889d[_0x2b7ebb(0x26f)](_0x525dcd);});}function openActionSheet(_0xa935f2){const _0x35ca2e=a2_0x1a16c0,_0x50591b=document[_0x35ca2e(0x25e)](_0x35ca2e(0x167)),_0x3c7f2c=document[_0x35ca2e(0x25e)](_0x35ca2e(0x199)),_0x32e2ba=document[_0x35ca2e(0x25e)](_0x35ca2e(0x24e)),_0x1ad7a8=document['getElementById'](_0x35ca2e(0x222)),_0x36f1b4=document[_0x35ca2e(0x25e)]('asBtnSeries');_0x3c7f2c['classList'][_0x35ca2e(0x117)](_0x35ca2e(0x249)),_0x50591b[_0x35ca2e(0x1c8)][_0x35ca2e(0x117)](_0x35ca2e(0x219));if(_0xa935f2===_0x35ca2e(0x128))_0x32e2ba['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x1ad7a8[_0x35ca2e(0x122)]=_0x35ca2e(0x1de),_0x1ad7a8['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x36f1b4[_0x35ca2e(0x122)]=_0x35ca2e(0x25d),_0x36f1b4['onclick']=()=>{const _0x37d044=_0x35ca2e;closeActionSheet(),updateSeriesBatch(_0x37d044(0x14f),tempSessionData);};else _0xa935f2==='delete'&&(_0x32e2ba[_0x35ca2e(0x122)]=_0x35ca2e(0x156),_0x1ad7a8[_0x35ca2e(0x122)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1ad7a8[_0x35ca2e(0x141)]=_0x35ca2e(0x10f),_0x1ad7a8['onclick']=()=>{const _0x4e3122=_0x35ca2e;closeActionSheet(),commitDelete(_0x4e3122(0x278),sessions[_0x4e3122(0x21f)](_0xca6bea=>_0xca6bea['id']===editingId));},_0x36f1b4[_0x35ca2e(0x122)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x36f1b4[_0x35ca2e(0x141)]=_0x35ca2e(0x186),_0x36f1b4[_0x35ca2e(0x13c)]=()=>{const _0xd73a2=_0x35ca2e;closeActionSheet(),commitDelete(_0xd73a2(0x14f),sessions[_0xd73a2(0x21f)](_0x485f17=>_0x485f17['id']===editingId));});}function closeActionSheet(){const _0x3c2258=a2_0x1a16c0;document[_0x3c2258(0x25e)](_0x3c2258(0x167))[_0x3c2258(0x1c8)][_0x3c2258(0x1f7)](_0x3c2258(0x219)),document[_0x3c2258(0x25e)](_0x3c2258(0x199))[_0x3c2258(0x1c8)][_0x3c2258(0x1f7)](_0x3c2258(0x249));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x361d73=a2_0x1a16c0,_0x907cff=document[_0x361d73(0x25e)](_0x361d73(0x13d))['value'];localStorage[_0x361d73(0x230)]('uc_settings_cancel_window',_0x907cff),console[_0x361d73(0x15b)](_0x361d73(0x1ae),_0x907cff),DataManager[_0x361d73(0x112)](_0x361d73(0x14a),{'settings':{'cancel_window':_0x907cff}})[_0x361d73(0x282)](_0x5cd42e=>{const _0x7bc47=_0x361d73;console[_0x7bc47(0x12e)](_0x7bc47(0x12d),_0x5cd42e),showToast(_0x7bc47(0x1db),![]);});}function loadCoachSettings(){const _0x3753dd=a2_0x1a16c0,_0x2a2b1c=localStorage[_0x3753dd(0x251)](_0x3753dd(0x1d3));_0x2a2b1c&&(document[_0x3753dd(0x25e)]('settingCancelWindow')[_0x3753dd(0x1ca)]=_0x2a2b1c);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x34e92b=a2_0x1a16c0,_0x24991b=document[_0x34e92b(0x25e)](_0x34e92b(0x28c))[_0x34e92b(0x1ca)],_0x173eec=document[_0x34e92b(0x25e)](_0x34e92b(0x1f9))[_0x34e92b(0x1ca)],_0x49d7c1=document[_0x34e92b(0x25e)]('rangeEndDate')['value'],_0x477aa2=document[_0x34e92b(0x25e)](_0x34e92b(0x16e))[_0x34e92b(0x1ca)];if(!_0x24991b||!_0x173eec||!_0x49d7c1||!_0x477aa2)return alert(_0x34e92b(0x17d));const _0x121aeb=_0x24991b+'T'+_0x173eec,_0x42ed42=_0x49d7c1+'T'+_0x477aa2;if(_0x121aeb>=_0x42ed42)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x121aeb,'end':_0x42ed42}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x34e92b(0x293)](),DataManager[_0x34e92b(0x112)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x3b59aa){const _0x3d3fe6=a2_0x1a16c0;specialRanges[_0x3d3fe6(0x11e)](_0x3b59aa,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3d3fe6(0x293)](),DataManager[_0x3d3fe6(0x112)](_0x3d3fe6(0x14a),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4ddb26=a2_0x1a16c0;document['getElementById']('rangeStartDate')[_0x4ddb26(0x1ca)]='',document[_0x4ddb26(0x25e)]('rangeStartTime')[_0x4ddb26(0x1ca)]=_0x4ddb26(0x281),document[_0x4ddb26(0x25e)](_0x4ddb26(0x13a))[_0x4ddb26(0x1ca)]='',document[_0x4ddb26(0x25e)](_0x4ddb26(0x16e))[_0x4ddb26(0x1ca)]=_0x4ddb26(0x147);}function renderRangesList(){const _0x595ab4=a2_0x1a16c0,_0x4f21c0=document[_0x595ab4(0x25e)]('rangesList');_0x4f21c0[_0x595ab4(0x1ed)]='';if(!specialRanges[_0x595ab4(0x19a)]){_0x4f21c0[_0x595ab4(0x1ed)]=_0x595ab4(0x198);return;}specialRanges[_0x595ab4(0x270)]((_0x52fbce,_0x2d88f1)=>{const _0x53237d=_0x595ab4,_0x35206d=document[_0x53237d(0x182)]('div');_0x35206d['className']=_0x53237d(0x1d0);const _0x26412d=_0x5cf82a=>{const _0x447e0d=_0x53237d,_0x311cd2=new Date(_0x5cf82a);return _0x311cd2['getDate']()+'.'+String(_0x311cd2['getMonth']()+0x1)[_0x447e0d(0x231)](0x2,'0')+'\x20'+String(_0x311cd2[_0x447e0d(0x248)]())[_0x447e0d(0x231)](0x2,'0')+':'+String(_0x311cd2[_0x447e0d(0x224)]())[_0x447e0d(0x231)](0x2,'0');};_0x35206d['innerHTML']=_0x53237d(0x1c9)+_0x26412d(_0x52fbce[_0x53237d(0x1c7)])+_0x53237d(0x254)+_0x26412d(_0x52fbce[_0x53237d(0x23a)])+_0x53237d(0x1e9)+_0x2d88f1+_0x53237d(0x221),_0x4f21c0['appendChild'](_0x35206d);});}function scrollToToday(){const _0x4ca22c=a2_0x1a16c0,_0x187fc4=getLocalDateStr(new Date()),_0xbe5330=document[_0x4ca22c(0x25e)](_0x4ca22c(0x1f0)+_0x187fc4),_0x3a24b0=document['getElementById'](_0x4ca22c(0x252));if(_0xbe5330&&_0x3a24b0){const _0x1bc9e4=_0x3a24b0['clientWidth'],_0x1e1147=_0xbe5330[_0x4ca22c(0x280)],_0xd30a72=_0xbe5330[_0x4ca22c(0x262)];_0x3a24b0[_0x4ca22c(0x1af)]=_0x1e1147-_0x1bc9e4/0x2+_0xd30a72/0x2,_0x3a24b0[_0x4ca22c(0x1fe)]=0x9*GRID_H;}}function onScroll(){const _0xbf6a69=a2_0x1a16c0,_0x63cbb6=document[_0xbf6a69(0x25e)](_0xbf6a69(0x252)),_0x2a3bbd=document[_0xbf6a69(0x130)](_0xbf6a69(0x1c3));for(let _0x3d83a7 of _0x2a3bbd)if(_0x3d83a7[_0xbf6a69(0x280)]>=_0x63cbb6[_0xbf6a69(0x1af)]){const _0x1de59a=new Date(_0x3d83a7[_0xbf6a69(0x155)](_0xbf6a69(0x228)));document[_0xbf6a69(0x25e)]('headerMonth')['textContent']=_0x1de59a[_0xbf6a69(0x1cb)]('ru',{'month':_0xbf6a69(0x1ab)})[_0xbf6a69(0x18c)]()+'\x20'+_0x1de59a[_0xbf6a69(0x115)]();break;}}function showToast(_0x3c256c,_0x26ccbd=![]){const _0x2ece58=a2_0x1a16c0,_0x172571=document[_0x2ece58(0x25e)](_0x2ece58(0x271));_0x172571[_0x2ece58(0x141)]='toast-notification\x20'+(_0x26ccbd?_0x2ece58(0x1b2):''),document[_0x2ece58(0x25e)]('toastTitle')[_0x2ece58(0x122)]=_0x26ccbd?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x2ece58(0x25e)]('toastMessage')[_0x2ece58(0x122)]=_0x3c256c,_0x172571['classList'][_0x2ece58(0x117)](_0x2ece58(0x1cc)),setTimeout(()=>{const _0x356c94=_0x2ece58;_0x172571[_0x356c94(0x1c8)][_0x356c94(0x1f7)](_0x356c94(0x1cc));},0xbb8);}function openDayOptions(_0x3f48ff,_0x565cae){const _0x427843=a2_0x1a16c0;selectedDayForOptions=_0x3f48ff,document[_0x427843(0x25e)](_0x427843(0x20e))[_0x427843(0x122)]=_0x565cae,openSheet(_0x427843(0x209));}function toggleDayOff(){const _0x3f79bc=a2_0x1a16c0;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x3f79bc(0x293)](),DataManager[_0x3f79bc(0x112)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5bb4cd=a2_0x1a16c0;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5bb4cd(0x293)](),DataManager[_0x5bb4cd(0x112)](_0x5bb4cd(0x14a),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x14d8f2){const _0x4ce788=a2_0x1a16c0;document['getElementById'](_0x4ce788(0x1b5))['classList']['add'](_0x4ce788(0x249)),document[_0x4ce788(0x25e)](_0x14d8f2)['classList'][_0x4ce788(0x117)]('open');}function closeAllSheets(){const _0x454770=a2_0x1a16c0;document[_0x454770(0x25e)]('overlay')[_0x454770(0x1c8)][_0x454770(0x1f7)](_0x454770(0x249)),document[_0x454770(0x130)](_0x454770(0x170))[_0x454770(0x270)](_0x4a7978=>_0x4a7978[_0x454770(0x1c8)]['remove'](_0x454770(0x219)));}function openPatternEditor(){const _0x4bd57b=a2_0x1a16c0;closeAllSheets(),document[_0x4bd57b(0x25e)](_0x4bd57b(0x17b))[_0x4bd57b(0x1c8)][_0x4bd57b(0x117)]('open'),renderPatternEditor();}function closePatternEditor(){const _0xb3b376=a2_0x1a16c0;document['getElementById'](_0xb3b376(0x17b))['classList'][_0xb3b376(0x1f7)](_0xb3b376(0x219));}function savePattern(){const _0x36383f=a2_0x1a16c0;document[_0x36383f(0x25e)]('patternEditor')[_0x36383f(0x1c8)][_0x36383f(0x1f7)](_0x36383f(0x219)),reRenderBlocks(),DataManager[_0x36383f(0x293)](),DataManager['fetchFromServer'](_0x36383f(0x14a),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x6c4500=a2_0x1a16c0,_0x2bb6de=document['getElementById'](_0x6c4500(0x18f));_0x2bb6de['innerHTML']='';const _0x22fa3d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4205f9=document[_0x6c4500(0x182)](_0x6c4500(0x15e));_0x4205f9[_0x6c4500(0x141)]=_0x6c4500(0x193),_0x2bb6de[_0x6c4500(0x26f)](_0x4205f9),_0x22fa3d[_0x6c4500(0x270)]((_0x1a8cf7,_0x813115)=>{const _0x388e94=_0x6c4500,_0x22b692=document['createElement']('div');_0x22b692[_0x388e94(0x141)]=_0x388e94(0x183),_0x22b692[_0x388e94(0x1ed)]=_0x1a8cf7+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x22b692['onclick']=()=>toggleColPattern(_0x813115),_0x2bb6de['appendChild'](_0x22b692);});for(let _0x470d72=0x0;_0x470d72<0x18;_0x470d72++){const _0x238e8a=document[_0x6c4500(0x182)](_0x6c4500(0x15e));_0x238e8a['className']=_0x6c4500(0x157),_0x238e8a['innerHTML']=_0x6c4500(0x1e5)+String(_0x470d72)[_0x6c4500(0x231)](0x2,'0')+':00',_0x238e8a[_0x6c4500(0x13c)]=()=>toggleRowPattern(_0x470d72),_0x2bb6de['appendChild'](_0x238e8a);for(let _0x193f97=0x0;_0x193f97<0x7;_0x193f97++){const _0x2c2b0e=document[_0x6c4500(0x182)](_0x6c4500(0x15e)),_0x55ba05=(availabilityPattern[_0x193f97]||[])[_0x6c4500(0x22a)](_0x470d72),_0x4125ba=!_0x55ba05;_0x2c2b0e[_0x6c4500(0x141)]='pe-cell\x20'+(_0x4125ba?_0x6c4500(0x249):''),_0x2c2b0e[_0x6c4500(0x13c)]=()=>toggleSinglePattern(_0x193f97,_0x470d72),_0x2bb6de[_0x6c4500(0x26f)](_0x2c2b0e);}}}function toggleSinglePattern(_0xac3f3f,_0xfdb773){const _0x4fa186=a2_0x1a16c0;if(!availabilityPattern[_0xac3f3f])availabilityPattern[_0xac3f3f]=[];const _0x571871=availabilityPattern[_0xac3f3f],_0x109db4=_0x571871['indexOf'](_0xfdb773);_0x109db4===-0x1?_0x571871[_0x4fa186(0x133)](_0xfdb773):_0x571871[_0x4fa186(0x11e)](_0x109db4,0x1),renderPatternEditor();}function toggleColPattern(_0x62746b){if(!availabilityPattern[_0x62746b])availabilityPattern[_0x62746b]=[];const _0x19f1a6=availabilityPattern[_0x62746b];_0x19f1a6['length']===0x0?availabilityPattern[_0x62746b]=Array['from']({'length':0x18},(_0x1a4166,_0xf87104)=>_0xf87104):availabilityPattern[_0x62746b]=[],renderPatternEditor();}function toggleRowPattern(_0x3ca6f9){const _0x778599=a2_0x1a16c0;let _0x475961=!![];for(let _0x47de21=0x0;_0x47de21<0x7;_0x47de21++){if((availabilityPattern[_0x47de21]||[])[_0x778599(0x22a)](_0x3ca6f9)){_0x475961=![];break;}}for(let _0xcf7477=0x0;_0xcf7477<0x7;_0xcf7477++){if(!availabilityPattern[_0xcf7477])availabilityPattern[_0xcf7477]=[];const _0x5e46b6=availabilityPattern[_0xcf7477][_0x778599(0x253)](_0x3ca6f9);if(_0x475961){if(_0x5e46b6===-0x1)availabilityPattern[_0xcf7477][_0x778599(0x133)](_0x3ca6f9);}else{if(_0x5e46b6!==-0x1)availabilityPattern[_0xcf7477][_0x778599(0x11e)](_0x5e46b6,0x1);}}renderPatternEditor();}function renderPCol(_0x5b638a,_0x245ebf){const _0x45c5da=a2_0x1a16c0;_0x5b638a[_0x45c5da(0x1ed)]='';const _0x385be3=Math['round'](_0x5b638a[_0x45c5da(0x280)]);(availabilityPattern[_0x245ebf]||[])[_0x45c5da(0x270)](_0x169818=>{const _0x483bb6=_0x45c5da,_0x4b5f48=document['createElement']('div');_0x4b5f48[_0x483bb6(0x141)]=_0x483bb6(0x203);const _0x3375ea=_0x169818*GRID_H;_0x4b5f48['style'][_0x483bb6(0x1b4)]=_0x3375ea+'px',_0x4b5f48[_0x483bb6(0x290)][_0x483bb6(0x1b0)]='-'+_0x385be3+_0x483bb6(0x16d)+_0x3375ea+'px',_0x4b5f48['onclick']=_0xbc7c9c=>{const _0xdc5058=_0x483bb6;_0xbc7c9c[_0xdc5058(0x12b)](),toggleSinglePattern(_0x245ebf,_0x169818);},_0x5b638a[_0x483bb6(0x26f)](_0x4b5f48);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2e455e=a2_0x1a16c0,_0x86d459=new Date(),_0x1efca8=document[_0x2e455e(0x25e)](_0x2e455e(0x27a)),_0x460e0d=document['getElementById'](_0x2e455e(0x19c)),_0x449a68=(_0x86d459[_0x2e455e(0x248)]()*0x3c+_0x86d459[_0x2e455e(0x224)]())/0x3c*GRID_H;_0x1efca8[_0x2e455e(0x290)][_0x2e455e(0x1b4)]=_0x449a68+'px',_0x1efca8[_0x2e455e(0x290)][_0x2e455e(0x220)]=_0x2e455e(0x25a),_0x460e0d[_0x2e455e(0x122)]=String(_0x86d459[_0x2e455e(0x248)]())[_0x2e455e(0x231)](0x2,'0')+':'+String(_0x86d459[_0x2e455e(0x224)]())[_0x2e455e(0x231)](0x2,'0'),_0x460e0d[_0x2e455e(0x290)][_0x2e455e(0x220)]=_0x2e455e(0x25a),_0x460e0d[_0x2e455e(0x290)][_0x2e455e(0x1b4)]=_0x449a68+'px';}document[a2_0x1a16c0(0x1e2)]('DOMContentLoaded',init);function openDayOptions(_0x342504){const _0x2474b8=a2_0x1a16c0;selectedDayForOptions=_0x342504;const _0x450e48=new Date(_0x342504),_0x228327={'weekday':_0x2474b8(0x1ab),'day':_0x2474b8(0x1df),'month':_0x2474b8(0x1ab),'year':_0x2474b8(0x1df)},_0x47fd1a=_0x450e48[_0x2474b8(0x119)](_0x2474b8(0x263),_0x228327);document[_0x2474b8(0x25e)]('doDateHeader')[_0x2474b8(0x122)]=_0x47fd1a[_0x2474b8(0x236)](0x0)['toUpperCase']()+_0x47fd1a[_0x2474b8(0x23b)](0x1);let _0x2f1700=_0x450e48[_0x2474b8(0x212)]()-0x1;if(_0x2f1700===-0x1)_0x2f1700=0x6;const _0x4ca2a5=availabilityPattern[_0x2f1700]||[],_0x2ad64d=0x18-_0x4ca2a5['length'],_0x58626e=_0x2ad64d*0x3c,_0x428714=sessions[_0x2474b8(0x1ec)](_0x2ff566=>_0x2ff566['dateStr']===_0x342504&&_0x2ff566['status']!=='cancelled');let _0x47e9ab=_0x428714[_0x2474b8(0x135)](_0xf12a3f=>{const _0x58acc9=_0x2474b8,[_0xd282d2,_0x2ab83a]=_0xf12a3f['start'][_0x58acc9(0x118)](':')[_0x58acc9(0x135)](Number),[_0x37e69b,_0x59f3de]=_0xf12a3f[_0x58acc9(0x23a)]['split'](':')[_0x58acc9(0x135)](Number);return[_0xd282d2*0x3c+_0x2ab83a,_0x37e69b*0x3c+_0x59f3de];});_0x47e9ab['sort']((_0x58f101,_0x44decf)=>_0x58f101[0x0]-_0x44decf[0x0]);let _0xc4b3b5=[];if(_0x47e9ab[_0x2474b8(0x19a)]>0x0){let _0x413043=_0x47e9ab[0x0];for(let _0x1cf65a=0x1;_0x1cf65a<_0x47e9ab[_0x2474b8(0x19a)];_0x1cf65a++){_0x47e9ab[_0x1cf65a][0x0]<_0x413043[0x1]?_0x413043[0x1]=Math[_0x2474b8(0x131)](_0x413043[0x1],_0x47e9ab[_0x1cf65a][0x1]):(_0xc4b3b5[_0x2474b8(0x133)](_0x413043),_0x413043=_0x47e9ab[_0x1cf65a]);}_0xc4b3b5['push'](_0x413043);}let _0x16c0c4=0x0;_0xc4b3b5[_0x2474b8(0x270)](_0x1d1093=>_0x16c0c4+=_0x1d1093[0x1]-_0x1d1093[0x0]),document[_0x2474b8(0x25e)](_0x2474b8(0x1eb))[_0x2474b8(0x122)]=formatMinsToHrs(_0x58626e),document['getElementById'](_0x2474b8(0x1d1))[_0x2474b8(0x122)]=formatMinsToHrs(_0x16c0c4);const _0x587909=_0x58626e>0x0?Math[_0x2474b8(0x27c)](_0x16c0c4/_0x58626e*0x64):0x0,_0x229fad=document['getElementById'](_0x2474b8(0x22b));_0x229fad[_0x2474b8(0x122)]=_0x587909+'%';const _0x161c88=document[_0x2474b8(0x25e)](_0x2474b8(0x17a));if(_0x587909>0x64)_0x229fad['style'][_0x2474b8(0x134)]=_0x2474b8(0x25b),_0x161c88[_0x2474b8(0x290)]['borderColor']=_0x2474b8(0x202);else _0x587909>0x50?(_0x229fad[_0x2474b8(0x290)][_0x2474b8(0x134)]=_0x2474b8(0x11b),_0x161c88['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x229fad[_0x2474b8(0x290)][_0x2474b8(0x134)]=_0x2474b8(0x1cd),_0x161c88[_0x2474b8(0x290)][_0x2474b8(0x185)]=_0x2474b8(0x238));const _0x6033eb=document['getElementById'](_0x2474b8(0x289));_0x6033eb['innerHTML']='';_0x428714[_0x2474b8(0x19a)]===0x0?_0x6033eb[_0x2474b8(0x1ed)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x428714['sort']((_0x2366fe,_0x4e5705)=>_0x2366fe['start']['localeCompare'](_0x4e5705[_0x2474b8(0x1c7)])),_0x428714[_0x2474b8(0x270)](_0x29c5d1=>{const _0x5cfdeb=_0x2474b8,_0x2a3cda=clients[_0x5cfdeb(0x21f)](_0x4c0c51=>_0x4c0c51[_0x5cfdeb(0x127)]===_0x29c5d1[_0x5cfdeb(0x1fd)]),_0x196535=_0x2a3cda?_0x2a3cda[_0x5cfdeb(0x134)]:_0x5cfdeb(0x1e0),_0x547747=_0x29c5d1['status']==='completed',_0x16c040=_0x547747?_0x5cfdeb(0x25f):'',_0x5b1cce=document[_0x5cfdeb(0x182)]('div');_0x5b1cce[_0x5cfdeb(0x141)]='de-item',_0x5b1cce[_0x5cfdeb(0x290)]['borderLeftColor']=_0x196535,_0x5b1cce[_0x5cfdeb(0x1ed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x29c5d1[_0x5cfdeb(0x1c7)]+_0x5cfdeb(0x1c2)+_0x29c5d1[_0x5cfdeb(0x23a)]+_0x5cfdeb(0x1d2)+_0x29c5d1[_0x5cfdeb(0x1fd)]+_0x5cfdeb(0x21b)+_0x16c040+_0x5cfdeb(0x24c),_0x6033eb['appendChild'](_0x5b1cce);}));const _0x409f0f=document[_0x2474b8(0x25e)](_0x2474b8(0x1fb)),_0x859359=dateExceptions[_0x342504]===_0x2474b8(0x1f6);_0x859359?(_0x409f0f[_0x2474b8(0x122)]=_0x2474b8(0x1b6),_0x409f0f[_0x2474b8(0x141)]='btn-primary\x20btn-secondary',_0x409f0f[_0x2474b8(0x290)][_0x2474b8(0x134)]=_0x2474b8(0x1cd),_0x409f0f[_0x2474b8(0x290)][_0x2474b8(0x292)]=_0x2474b8(0x22f)):(_0x409f0f[_0x2474b8(0x122)]=_0x2474b8(0x178),_0x409f0f[_0x2474b8(0x141)]=_0x2474b8(0x1ff),_0x409f0f[_0x2474b8(0x290)][_0x2474b8(0x134)]=_0x2474b8(0x25b),_0x409f0f[_0x2474b8(0x290)][_0x2474b8(0x292)]=_0x2474b8(0x137)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x4ff0e2=a2_0x1a16c0,_0x498733=document[_0x4ff0e2(0x235)](_0x4ff0e2(0x195));setAnalyticsPeriod('week',_0x498733),closeAllSheets(),openSheet(_0x4ff0e2(0x1f1));}function setAnalyticsPeriod(_0x31bab3,_0x2acb0e){const _0x7424ac=a2_0x1a16c0;currentAnPeriod=_0x31bab3,document[_0x7424ac(0x130)](_0x7424ac(0x195))[_0x7424ac(0x270)](_0x3d3301=>_0x3d3301[_0x7424ac(0x1c8)]['remove']('active'));if(_0x2acb0e)_0x2acb0e[_0x7424ac(0x1c8)]['add'](_0x7424ac(0x249));const _0x111d8d=document[_0x7424ac(0x25e)](_0x7424ac(0x160));_0x111d8d['style'][_0x7424ac(0x220)]=_0x31bab3===_0x7424ac(0x1f2)?'flex':_0x7424ac(0x28d);const _0x5738c9=new Date();let _0x1d09a5=new Date(),_0x4d1919=new Date();if(_0x31bab3===_0x7424ac(0x1a4))_0x1d09a5=getStartOfWeek(_0x5738c9),_0x4d1919=new Date(_0x1d09a5),_0x4d1919[_0x7424ac(0x13e)](_0x4d1919[_0x7424ac(0x1d6)]()+0x6);else{if(_0x31bab3===_0x7424ac(0x172))_0x1d09a5=new Date(_0x5738c9[_0x7424ac(0x115)](),_0x5738c9['getMonth'](),0x1),_0x4d1919=new Date(_0x5738c9[_0x7424ac(0x115)](),_0x5738c9['getMonth']()+0x1,0x0);else{!document[_0x7424ac(0x25e)]('anStart')[_0x7424ac(0x1ca)]&&(document['getElementById'](_0x7424ac(0x192))[_0x7424ac(0x1ca)]=getLocalDateStr(_0x5738c9),document[_0x7424ac(0x25e)](_0x7424ac(0x296))[_0x7424ac(0x1ca)]=getLocalDateStr(_0x5738c9));refreshAnalytics();return;}}document[_0x7424ac(0x25e)](_0x7424ac(0x192))['value']=getLocalDateStr(_0x1d09a5),document[_0x7424ac(0x25e)](_0x7424ac(0x296))[_0x7424ac(0x1ca)]=getLocalDateStr(_0x4d1919),refreshAnalytics();}function refreshAnalytics(){const _0x32b961=a2_0x1a16c0,_0x4f0802=document[_0x32b961(0x25e)](_0x32b961(0x192))[_0x32b961(0x1ca)],_0x7f6591=document[_0x32b961(0x25e)](_0x32b961(0x296))[_0x32b961(0x1ca)];if(!_0x4f0802||!_0x7f6591)return;const _0x1d5d20=sessions[_0x32b961(0x1ec)](_0x4fba98=>_0x4fba98[_0x32b961(0x169)]>=_0x4f0802&&_0x4fba98[_0x32b961(0x169)]<=_0x7f6591&&_0x4fba98[_0x32b961(0x161)]!==_0x32b961(0x159)),_0x4ddab2=_0x1d5d20['length'],_0x4ff1af=_0x1d5d20[_0x32b961(0x1ec)](_0x5e0d9a=>_0x5e0d9a['status']===_0x32b961(0x1b3))[_0x32b961(0x19a)],_0x10a55c=_0x4ddab2>0x0?Math['round'](_0x4ff1af/_0x4ddab2*0x64):0x0;document[_0x32b961(0x25e)](_0x32b961(0x215))['textContent']=_0x10a55c+'%',document[_0x32b961(0x25e)]('anTotalStats')[_0x32b961(0x122)]=_0x4ff1af+'\x20–∏–∑\x20'+_0x4ddab2+_0x32b961(0x17e);const _0x210ffa=document[_0x32b961(0x25e)]('anDonutCircle'),_0x560e7b=0x2*Math['PI']*0x23,_0xd3e296=_0x560e7b-_0x10a55c/0x64*_0x560e7b;_0x210ffa[_0x32b961(0x290)][_0x32b961(0x1a0)]=_0xd3e296;const _0x53f026={};_0x1d5d20[_0x32b961(0x270)](_0x48808a=>{const _0x290c3c=_0x32b961;if(!_0x53f026[_0x48808a[_0x290c3c(0x1fd)]]){const _0x40331a=clients[_0x290c3c(0x21f)](_0x5d5fc6=>_0x5d5fc6[_0x290c3c(0x127)]===_0x48808a['client']);_0x53f026[_0x48808a[_0x290c3c(0x1fd)]]={'total':0x0,'done':0x0,'color':_0x40331a?_0x40331a[_0x290c3c(0x134)]:_0x290c3c(0x1e0)};}_0x53f026[_0x48808a[_0x290c3c(0x1fd)]][_0x290c3c(0x1bc)]++;if(_0x48808a['status']===_0x290c3c(0x1b3))_0x53f026[_0x48808a[_0x290c3c(0x1fd)]][_0x290c3c(0x233)]++;});const _0x45c2f0=document['getElementById'](_0x32b961(0x1a2));_0x45c2f0['innerHTML']='';const _0x45d598=Object[_0x32b961(0x218)](_0x53f026)[_0x32b961(0x149)]((_0x474590,_0x1c80e7)=>_0x1c80e7[0x1][_0x32b961(0x1bc)]-_0x474590[0x1][_0x32b961(0x1bc)]);if(_0x45d598['length']===0x0){_0x45c2f0['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x45d598[_0x32b961(0x270)](([_0x4397b4,_0x55854a])=>{const _0x121f77=_0x32b961,_0x487a8c=Math[_0x121f77(0x27c)](_0x55854a[_0x121f77(0x233)]/_0x55854a[_0x121f77(0x1bc)]*0x64),_0x2a9075=document[_0x121f77(0x182)]('div');_0x2a9075[_0x121f77(0x141)]=_0x121f77(0x216),_0x2a9075[_0x121f77(0x290)]['borderLeftColor']=_0x55854a[_0x121f77(0x134)],_0x2a9075[_0x121f77(0x1ed)]=_0x121f77(0x181)+_0x4397b4+_0x121f77(0x23d)+_0x55854a[_0x121f77(0x233)]+_0x121f77(0x1d9)+_0x55854a['total']+_0x121f77(0x1f4)+_0x487a8c+_0x121f77(0x242),_0x45c2f0[_0x121f77(0x26f)](_0x2a9075);});}function formatMinsToHrs(_0x3fb754){if(_0x3fb754===0x0)return'0';const _0x210f7d=Math['floor'](_0x3fb754/0x3c),_0x3b813e=_0x3fb754%0x3c;if(_0x3b813e===0x0)return _0x210f7d+'—á';return _0x210f7d+'—á\x20'+_0x3b813e+'–º';}