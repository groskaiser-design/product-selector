const a2_0x31dd2a=a2_0x2560;(function(_0x2cb77c,_0x9aaa7d){const _0x1a07c6=a2_0x2560,_0x2c850c=_0x2cb77c();while(!![]){try{const _0x4c3431=parseInt(_0x1a07c6(0x2c3))/0x1*(parseInt(_0x1a07c6(0x237))/0x2)+parseInt(_0x1a07c6(0x1b0))/0x3+-parseInt(_0x1a07c6(0x30e))/0x4*(-parseInt(_0x1a07c6(0x23d))/0x5)+parseInt(_0x1a07c6(0x2fe))/0x6*(-parseInt(_0x1a07c6(0x2bf))/0x7)+-parseInt(_0x1a07c6(0x1df))/0x8*(-parseInt(_0x1a07c6(0x2f7))/0x9)+parseInt(_0x1a07c6(0x30b))/0xa+-parseInt(_0x1a07c6(0x26a))/0xb*(parseInt(_0x1a07c6(0x208))/0xc);if(_0x4c3431===_0x9aaa7d)break;else _0x2c850c['push'](_0x2c850c['shift']());}catch(_0x40d5db){_0x2c850c['push'](_0x2c850c['shift']());}}}(a2_0x3263,0x8159c),function initTMA(){const _0x516664=a2_0x2560;try{const _0x3cd27f=window[_0x516664(0x223)]?.['WebApp'];if(!_0x3cd27f)return;_0x3cd27f['ready'](),_0x3cd27f['expand']();try{_0x3cd27f[_0x516664(0x302)](_0x516664(0x2e8)),_0x3cd27f[_0x516664(0x25c)]&&_0x3cd27f[_0x516664(0x25c)](_0x516664(0x2e8));}catch(_0x413c07){console[_0x516664(0x2d8)](_0x516664(0x29d),_0x413c07);}try{_0x3cd27f[_0x516664(0x266)]&&(_0x3cd27f[_0x516664(0x266)][_0x516664(0x2c7)](),_0x3cd27f[_0x516664(0x266)][_0x516664(0x1fe)](),_0x3cd27f[_0x516664(0x266)][_0x516664(0x1d8)](function(){const _0x199549=_0x516664;window[_0x199549(0x312)][_0x199549(0x269)]='router.html';}));}catch(_0x24cb62){console['log'](_0x516664(0x212),_0x24cb62);}try{if(_0x3cd27f['disableVerticalSwipes'])_0x3cd27f[_0x516664(0x293)]();}catch(_0x928337){}}catch(_0x23f888){console[_0x516664(0x27d)](_0x516664(0x26f),_0x23f888);}}());function isAdmin(){const _0x55ddd8=a2_0x2560;try{const _0x3ee97b=Number(window[_0x55ddd8(0x223)]?.['WebApp']?.[_0x55ddd8(0x1fd)]?.[_0x55ddd8(0x2e0)]?.['id']);return _0x3ee97b===0xbaf7174;}catch(_0x3c51e4){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x31dd2a(0x251),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x31dd2a(0x236),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x31dd2a(0x1af);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x49329a=a2_0x31dd2a;return window[_0x49329a(0x223)]?.[_0x49329a(0x2df)]?.[_0x49329a(0x1fd)]?.['user']?.['id']||'guest';},'saveLocally'(){const _0x195e46=a2_0x31dd2a;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x195e46(0x28c)](clients)),localStorage[_0x195e46(0x249)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x195e46(0x249)](KEY_SETTINGS,JSON[_0x195e46(0x28c)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x101a43){console[_0x195e46(0x27d)](_0x195e46(0x1b2),_0x101a43);}},'loadLocal'(){const _0x31a7f9=a2_0x31dd2a;try{const _0x40652b=localStorage[_0x31a7f9(0x30c)](KEY_CLIENTS);if(_0x40652b)clients=JSON[_0x31a7f9(0x1dc)](_0x40652b);const _0x5a654d=localStorage[_0x31a7f9(0x30c)](KEY_SESSIONS);if(_0x5a654d)sessions=JSON['parse'](_0x5a654d);const _0xb1a3f5=localStorage[_0x31a7f9(0x30c)](KEY_SETTINGS);if(_0xb1a3f5){const _0x5de9a6=JSON[_0x31a7f9(0x1dc)](_0xb1a3f5);if(_0x5de9a6[_0x31a7f9(0x28a)])availabilityPattern=_0x5de9a6[_0x31a7f9(0x28a)];if(_0x5de9a6['exceptions'])dateExceptions=_0x5de9a6[_0x31a7f9(0x1e3)];if(_0x5de9a6[_0x31a7f9(0x31f)])specialRanges=_0x5de9a6['ranges'];}else{for(let _0xec0948=0x0;_0xec0948<0x7;_0xec0948++)availabilityPattern[_0xec0948]=Array[_0x31a7f9(0x225)]({'length':0xc},(_0x158b33,_0x263655)=>_0x263655+0x9);}}catch(_0xa2acaf){console[_0x31a7f9(0x27d)](_0x31a7f9(0x1c8),_0xa2acaf);}},async 'fetchFromServer'(_0x24eb9b,_0x39d67c={}){const _0x4c6fab=a2_0x31dd2a,_0x45ba66=window[_0x4c6fab(0x223)]?.[_0x4c6fab(0x2df)],_0x4505de={'action':_0x24eb9b,'init_data':_0x45ba66?.[_0x4c6fab(0x2a5)]||'',..._0x39d67c};try{const _0x438fd7=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x4c6fab(0x28c)](_0x4505de)}),_0x382326=await _0x438fd7['json']();if(!_0x382326['ok'])throw new Error(_0x382326[_0x4c6fab(0x27d)]||_0x4c6fab(0x213));return _0x382326[_0x4c6fab(0x23a)];}catch(_0x20f9d9){console[_0x4c6fab(0x27d)](_0x4c6fab(0x319)+_0x24eb9b+']\x20Failed:',_0x20f9d9);throw _0x20f9d9;}},async 'syncLoad'(){const _0x259825=a2_0x31dd2a,_0x4af3c4=new Date(),_0x13b4ff=_0x4af3c4[_0x259825(0x24c)]()+'-'+String(_0x4af3c4['getMonth']()+0x1)[_0x259825(0x1ff)](0x2,'0'),_0x5eab52=new Date(_0x4af3c4);_0x5eab52[_0x259825(0x307)](_0x4af3c4[_0x259825(0x1e2)]()+0x1);const _0x235807=_0x5eab52[_0x259825(0x24c)]()+'-'+String(_0x5eab52['getMonth']()+0x1)[_0x259825(0x1ff)](0x2,'0'),_0x37aad1=Date['now']();console[_0x259825(0x2d8)](_0x259825(0x214)+_0x13b4ff+',\x20'+_0x235807+'...');try{const [_0x14ee49,_0x46732b]=await Promise[_0x259825(0x27e)]([this[_0x259825(0x305)](_0x259825(0x219),{'month_str':_0x13b4ff}),this[_0x259825(0x305)](_0x259825(0x219),{'month_str':_0x235807})]);if(lastUserActionTime>_0x37aad1)return console[_0x259825(0x2dc)](_0x259825(0x20c)),![];return this[_0x259825(0x1bb)](_0x14ee49,_0x13b4ff),this[_0x259825(0x1bb)](_0x46732b,_0x235807),this[_0x259825(0x1ae)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5f31a7){console[_0x259825(0x27d)](_0x5f31a7);throw _0x5f31a7;}},'mergeServerData'(_0x58adf4,_0x2f6190){const _0x3cd0a5=a2_0x31dd2a;if(!_0x58adf4)return;_0x58adf4[_0x3cd0a5(0x2f0)]&&Array[_0x3cd0a5(0x1d7)](_0x58adf4[_0x3cd0a5(0x2f0)])&&(clients=_0x58adf4[_0x3cd0a5(0x2f0)]);if(_0x58adf4[_0x3cd0a5(0x257)]){if(_0x58adf4[_0x3cd0a5(0x257)][_0x3cd0a5(0x28a)])availabilityPattern=_0x58adf4[_0x3cd0a5(0x257)][_0x3cd0a5(0x28a)];if(_0x58adf4[_0x3cd0a5(0x257)][_0x3cd0a5(0x1e3)])dateExceptions=_0x58adf4[_0x3cd0a5(0x257)][_0x3cd0a5(0x1e3)];if(_0x58adf4['settings'][_0x3cd0a5(0x31f)])specialRanges=_0x58adf4[_0x3cd0a5(0x257)]['ranges'];if(_0x58adf4['settings'][_0x3cd0a5(0x301)]){localStorage[_0x3cd0a5(0x249)]('uc_settings_cancel_window',_0x58adf4['settings'][_0x3cd0a5(0x301)]);const _0x20d505=document['getElementById'](_0x3cd0a5(0x291));if(_0x20d505)_0x20d505[_0x3cd0a5(0x22d)]=_0x58adf4[_0x3cd0a5(0x257)][_0x3cd0a5(0x301)];}}_0x58adf4[_0x3cd0a5(0x290)]&&(sessions=sessions[_0x3cd0a5(0x20e)](_0x4de528=>!_0x4de528[_0x3cd0a5(0x283)][_0x3cd0a5(0x1c7)](_0x2f6190)),Object['keys'](_0x58adf4[_0x3cd0a5(0x290)])[_0x3cd0a5(0x23f)](_0x250045=>{const _0x42eef0=_0x3cd0a5,_0x1df154=_0x58adf4[_0x42eef0(0x290)][_0x250045];_0x1df154['forEach'](_0x4e9b25=>{const _0x243a1f=_0x42eef0,_0x3e45d1=clients[_0x243a1f(0x308)](_0xcd399b=>String(_0xcd399b['id'])===String(_0x4e9b25['c']));sessions[_0x243a1f(0x252)]({'id':_0x4e9b25['i'],'clientId':_0x4e9b25['c'],'client':_0x3e45d1?_0x3e45d1[_0x243a1f(0x1b8)]:'Unknown','dateStr':_0x2f6190+'-'+_0x250045[_0x243a1f(0x1ff)](0x2,'0'),'start':_0x4e9b25['s'],'end':_0x4e9b25['e'],'status':_0x4e9b25['st']||_0x243a1f(0x1de),'note':_0x4e9b25['n']||'','seriesId':_0x4e9b25[_0x243a1f(0x209)]||null});});}));},async 'syncBatch'(_0x1fd25b){const _0x449723=a2_0x31dd2a,_0x24f4c1=[...new Set(_0x1fd25b)],_0x5f57b4=_0x24f4c1[_0x449723(0x29b)](_0x5d0c5e=>{const _0x23c238=_0x449723,_0x59ab28=sessions[_0x23c238(0x20e)](_0x1a3597=>_0x1a3597['dateStr']===_0x5d0c5e&&_0x1a3597[_0x23c238(0x24e)]!==_0x23c238(0x282)),_0xb5499c=_0x59ab28[_0x23c238(0x29b)](_0x3558ad=>({'i':_0x3558ad['id'],'c':_0x3558ad[_0x23c238(0x2c4)],'s':_0x3558ad[_0x23c238(0x330)],'e':_0x3558ad['end'],'st':_0x3558ad['status'],'n':_0x3558ad[_0x23c238(0x31e)],'sid':_0x3558ad[_0x23c238(0x2db)]}));return{'date':_0x5d0c5e,'day_data':_0xb5499c};});if(_0x5f57b4[_0x449723(0x24a)]===0x0)return;console[_0x449723(0x2d8)](_0x449723(0x2fa)+_0x5f57b4[_0x449723(0x24a)]+'\x20days'),await this[_0x449723(0x305)](_0x449723(0x29f),{'changes':_0x5f57b4});}};async function init(){const _0x240c0d=a2_0x31dd2a;DataManager[_0x240c0d(0x1c5)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x240c0d(0x216)](_0x240c0d(0x231),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x240c0d(0x277)](()=>{const _0x1f346c=_0x240c0d;showToast(_0x1f346c(0x2f2),!![]);})[_0x240c0d(0x2eb)](_0x43aa68=>{const _0x5d1262=_0x240c0d;showToast(_0x5d1262(0x1e7),![]);});}function generateId(){const _0x39b17c=a2_0x31dd2a;return Date['now']()[_0x39b17c(0x26e)](0x24)+Math[_0x39b17c(0x311)]()[_0x39b17c(0x26e)](0x24)[_0x39b17c(0x2b9)](0x2,0x5);}function toggleSeriesInput(){const _0x59493f=a2_0x31dd2a,_0x37615b=document[_0x59493f(0x286)](_0x59493f(0x304))['checked'],_0x37f64f=document[_0x59493f(0x286)](_0x59493f(0x320));_0x37f64f[_0x59493f(0x2cf)]['display']=_0x37615b?_0x59493f(0x2f5):_0x59493f(0x200);const _0x3082e5=document[_0x59493f(0x286)](_0x59493f(0x20b));_0x3082e5['style'][_0x59493f(0x2cc)]=_0x37615b?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x3201a2){const _0x1bdd39=a2_0x31dd2a;editingId=null,populateClientSelect(),document[_0x1bdd39(0x286)]('sheetTitle')['textContent']=_0x1bdd39(0x2cd),document['getElementById'](_0x1bdd39(0x2c5))[_0x1bdd39(0x2cf)]['display']=_0x1bdd39(0x200),document[_0x1bdd39(0x286)]('btnStatusToggle')[_0x1bdd39(0x2cf)][_0x1bdd39(0x322)]='none';const _0x207e8b=document[_0x1bdd39(0x286)](_0x1bdd39(0x20b)),_0xc2d9a8=document[_0x1bdd39(0x286)](_0x1bdd39(0x320));_0x207e8b[_0x1bdd39(0x2cf)]['display']='flex',_0x207e8b[_0x1bdd39(0x2cf)]['borderRadius']=_0x1bdd39(0x29c),document[_0x1bdd39(0x286)](_0x1bdd39(0x304))[_0x1bdd39(0x2a6)]=![],document[_0x1bdd39(0x286)](_0x1bdd39(0x25b))[_0x1bdd39(0x22d)]=0x4,_0xc2d9a8[_0x1bdd39(0x2cf)][_0x1bdd39(0x322)]=_0x1bdd39(0x200),document[_0x1bdd39(0x286)](_0x1bdd39(0x273))['value']=getLocalDateStr(_0x3201a2),updateDateDisplay();const _0x41055a=_0x3201a2[_0x1bdd39(0x289)]();document[_0x1bdd39(0x286)](_0x1bdd39(0x324))['value']=String(_0x41055a)[_0x1bdd39(0x1ff)](0x2,'0')+':00',document[_0x1bdd39(0x286)](_0x1bdd39(0x1be))[_0x1bdd39(0x22d)]=String(_0x41055a+0x1)[_0x1bdd39(0x1ff)](0x2,'0')+_0x1bdd39(0x1ba),openSheet('sessionSheet');}function openEdit(_0x52793b){const _0x5c3028=a2_0x31dd2a;editingId=_0x52793b['id'],populateClientSelect(),document[_0x5c3028(0x286)](_0x5c3028(0x2d6))[_0x5c3028(0x239)]=_0x5c3028(0x1e8),document[_0x5c3028(0x286)](_0x5c3028(0x2c5))[_0x5c3028(0x2cf)]['display']='block';const _0x4cc3ca=document[_0x5c3028(0x286)]('btnStatusToggle');_0x4cc3ca['style']['display']=_0x5c3028(0x262);_0x52793b[_0x5c3028(0x24e)]===_0x5c3028(0x2d9)?(_0x4cc3ca['className']=_0x5c3028(0x1cb),_0x4cc3ca[_0x5c3028(0x1b7)]=_0x5c3028(0x1b3)):(_0x4cc3ca[_0x5c3028(0x279)]='btn-status-toggle',_0x4cc3ca['innerHTML']=_0x5c3028(0x32c));const _0x11fed7=!!_0x52793b[_0x5c3028(0x2db)];document[_0x5c3028(0x286)](_0x5c3028(0x20b))[_0x5c3028(0x2cf)][_0x5c3028(0x322)]=_0x5c3028(0x200),document['getElementById'](_0x5c3028(0x320))['style']['display']=_0x5c3028(0x200),_0x11fed7?(document[_0x5c3028(0x286)](_0x5c3028(0x1c4))[_0x5c3028(0x2cf)]['display']=_0x5c3028(0x262),document[_0x5c3028(0x286)]('patternInfoBox')[_0x5c3028(0x28f)](_0x5c3028(0x20d))[_0x5c3028(0x239)]=_0x5c3028(0x2c2)):document[_0x5c3028(0x286)](_0x5c3028(0x1c4))[_0x5c3028(0x2cf)][_0x5c3028(0x322)]='none',document['getElementById'](_0x5c3028(0x26d))[_0x5c3028(0x22d)]=_0x52793b[_0x5c3028(0x297)],document[_0x5c3028(0x286)](_0x5c3028(0x273))[_0x5c3028(0x22d)]=_0x52793b['dateStr'],document[_0x5c3028(0x286)]('inpStart')[_0x5c3028(0x22d)]=_0x52793b['start'],document[_0x5c3028(0x286)](_0x5c3028(0x1be))[_0x5c3028(0x22d)]=_0x52793b[_0x5c3028(0x2dd)],document[_0x5c3028(0x286)](_0x5c3028(0x248))[_0x5c3028(0x22d)]=_0x52793b[_0x5c3028(0x31e)]||'',updateDateDisplay(),openSheet(_0x5c3028(0x1b1));}async function trySaveSession(){const _0x19dd3e=a2_0x31dd2a,_0x4c77fc=document[_0x19dd3e(0x286)](_0x19dd3e(0x26d))['value'],_0x50f4e9=document[_0x19dd3e(0x286)](_0x19dd3e(0x273))[_0x19dd3e(0x22d)],_0x591e3e=document[_0x19dd3e(0x286)](_0x19dd3e(0x324))[_0x19dd3e(0x22d)],_0x3b4893=document[_0x19dd3e(0x286)](_0x19dd3e(0x1be))[_0x19dd3e(0x22d)],_0x4d6cdc=document[_0x19dd3e(0x286)]('inpNote')[_0x19dd3e(0x22d)],_0x4fcbf3=document[_0x19dd3e(0x286)](_0x19dd3e(0x304))[_0x19dd3e(0x2a6)];let _0x3a2ecd=0x4;if(_0x4fcbf3){const _0x37a470=parseInt(document[_0x19dd3e(0x286)]('inpSeriesCount')['value']);if(!_0x37a470||_0x37a470<0x2){showToast(_0x19dd3e(0x221),![]);return;}if(_0x37a470>0x64){showToast(_0x19dd3e(0x2a3),![]);return;}_0x3a2ecd=_0x37a470;}const _0x832714=clients['find'](_0x1eebad=>_0x1eebad['name']===_0x4c77fc);if(!_0x832714){showToast(_0x19dd3e(0x1d5),![]);return;}const _0x1d4f74=validateAppointment(_0x50f4e9,_0x591e3e,_0x3b4893,editingId,_0x832714['id']);if(!_0x1d4f74[_0x19dd3e(0x2d2)]){showToast(_0x1d4f74[_0x19dd3e(0x1c9)],![]);return;}_0x1d4f74[_0x19dd3e(0x29a)]&&showToast(_0x1d4f74['warning'],![]);const _0x8025c2={'client':_0x4c77fc,'clientId':_0x832714['id'],'start':_0x591e3e,'end':_0x3b4893,'note':_0x4d6cdc,'status':_0x19dd3e(0x1de)},_0x455bec=editingId?sessions[_0x19dd3e(0x308)](_0x388428=>_0x388428['id']===editingId):null;if(_0x455bec&&_0x455bec[_0x19dd3e(0x2db)]){tempSessionData={..._0x8025c2,'dateStr':_0x50f4e9,'id':editingId,'seriesId':_0x455bec[_0x19dd3e(0x2db)]},openActionSheet(_0x19dd3e(0x1f6));return;}let _0x1e5288=null;if(!editingId)_0x1e5288=_0x19dd3e(0x2ca);else{if(_0x455bec){if(String(_0x455bec['clientId'])!==String(_0x832714['id']))console[_0x19dd3e(0x2d8)](_0x19dd3e(0x2b3)),NotificationManager[_0x19dd3e(0x253)]('cancel',_0x455bec),_0x1e5288='create';else(_0x455bec['start']!==_0x591e3e||_0x455bec[_0x19dd3e(0x2dd)]!==_0x3b4893||_0x455bec[_0x19dd3e(0x283)]!==_0x50f4e9)&&(_0x1e5288='update');}}if(!editingId&&_0x4fcbf3){createBatchSeries(_0x8025c2,_0x50f4e9,_0x3a2ecd),NotificationManager[_0x19dd3e(0x253)](_0x19dd3e(0x2ca),{..._0x8025c2,'dateStr':_0x50f4e9});return;}lastUserActionTime=Date['now']();const _0x1bdef3={..._0x8025c2,'dateStr':_0x50f4e9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1bdef3),_0x1e5288&&NotificationManager[_0x19dd3e(0x253)](_0x1e5288,_0x1bdef3);}function toggleSessionStatus(){const _0x587ccc=a2_0x31dd2a;lastUserActionTime=Date[_0x587ccc(0x295)]();const _0x26a105=sessions[_0x587ccc(0x308)](_0x5cd240=>_0x5cd240['id']===editingId);if(!_0x26a105)return;const _0x4a174d=_0x26a105[_0x587ccc(0x24e)]===_0x587ccc(0x2d9)?_0x587ccc(0x1de):_0x587ccc(0x2d9);_0x26a105[_0x587ccc(0x24e)]=_0x4a174d,saveSingleSession(_0x26a105),_0x4a174d===_0x587ccc(0x2d9)&&NotificationManager[_0x587ccc(0x253)](_0x587ccc(0x1e1),_0x26a105),showToast(_0x4a174d==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x587ccc(0x241),!![]);}function validateAppointment(_0x360520,_0x1173ac,_0x219ecd,_0x1391d9,_0xdd423f){const _0x880ee5=a2_0x31dd2a,[_0x203b80,_0x489b41]=_0x1173ac[_0x880ee5(0x235)](':')[_0x880ee5(0x29b)](Number),[_0x17ae8c,_0x81101c]=_0x219ecd[_0x880ee5(0x235)](':')['map'](Number),_0x128a96=_0x203b80*0x3c+_0x489b41,_0x3d7c76=_0x17ae8c*0x3c+_0x81101c,_0x5357a5=String(_0xdd423f);let _0x3fc5f3=![],_0x5d9841='';for(let _0x15832f of sessions){if(_0x15832f[_0x880ee5(0x283)]!==_0x360520)continue;if(_0x15832f['status']===_0x880ee5(0x328))continue;if(_0x1391d9&&String(_0x15832f['id'])===String(_0x1391d9))continue;const [_0xcb1f67,_0x597479]=_0x15832f[_0x880ee5(0x330)]['split'](':')['map'](Number),[_0x5cb3da,_0x2a3690]=_0x15832f['end']['split'](':')['map'](Number),_0x9d34d4=_0xcb1f67*0x3c+_0x597479,_0x530ff9=_0x5cb3da*0x3c+_0x2a3690;if(Math['max'](_0x128a96,_0x9d34d4)<Math[_0x880ee5(0x1f9)](_0x3d7c76,_0x530ff9)){if(_0x15832f[_0x880ee5(0x2c4)]&&String(_0x15832f['clientId'])===_0x5357a5)return{'valid':![],'msg':_0x880ee5(0x2a7)+_0x15832f[_0x880ee5(0x297)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3fc5f3=!![],_0x5d9841=_0x15832f['client'];}}if(_0x3fc5f3)return{'valid':!![],'warning':_0x880ee5(0x325)+_0x5d9841};return{'valid':!![]};}function saveSingleSession(_0x591a60){const _0x387d97=a2_0x31dd2a;if(editingId){const _0x4b5de8=sessions[_0x387d97(0x2b5)](_0x3e54f6=>_0x3e54f6['id']===editingId);if(_0x4b5de8!==-0x1)sessions[_0x4b5de8]=_0x591a60;}else sessions['push'](_0x591a60);afterSaveAction([_0x591a60['dateStr']]);}function a2_0x2560(_0x114bd1,_0x4aceee){_0x114bd1=_0x114bd1-0x1ae;const _0x3c61aa=a2_0x3263();let _0x3b90a7=_0x3c61aa[_0x114bd1];return _0x3b90a7;}function createBatchSeries(_0xe5a0b3,_0x4af009,_0x41f1a7){const _0x4ceeaa=a2_0x31dd2a,_0x451fea=generateId(),_0x7d4412=[],_0x1afc9a=[];let _0x153e08=0x0,_0x45b054=new Date(_0x4af009);for(let _0x1f7d97=0x0;_0x1f7d97<_0x41f1a7;_0x1f7d97++){const _0x494d63=getLocalDateStr(_0x45b054),_0x4180a5=validateAppointment(_0x494d63,_0xe5a0b3[_0x4ceeaa(0x330)],_0xe5a0b3[_0x4ceeaa(0x2dd)],null,_0xe5a0b3[_0x4ceeaa(0x2c4)]);if(!_0x4180a5[_0x4ceeaa(0x2d2)])console[_0x4ceeaa(0x2d8)]('[Series]\x20Skipped\x20'+_0x494d63+_0x4ceeaa(0x281)),_0x153e08++;else{const _0x1b26ee={..._0xe5a0b3,'id':generateId(),'dateStr':_0x494d63,'seriesId':_0x451fea};_0x1afc9a[_0x4ceeaa(0x252)](_0x1b26ee),_0x7d4412[_0x4ceeaa(0x252)](_0x494d63);}_0x45b054['setDate'](_0x45b054[_0x4ceeaa(0x306)]()+0x7);}if(_0x1afc9a[_0x4ceeaa(0x24a)]===0x0){showToast(_0x4ceeaa(0x318),![]);return;}sessions[_0x4ceeaa(0x252)](..._0x1afc9a),lastUserActionTime=Date[_0x4ceeaa(0x295)]();let _0x1815cb=_0x4ceeaa(0x1f7)+_0x1afc9a[_0x4ceeaa(0x24a)];_0x153e08>0x0&&(_0x1815cb+=_0x4ceeaa(0x2c9)+_0x153e08+')'),showToast(_0x1815cb,!![]),afterSaveAction(_0x7d4412);}function updateSeriesBatch(_0x3c3d20,_0x520246){const _0x7322e5=a2_0x31dd2a,_0x56c607=[],_0x47b3b9=_0x520246[_0x7322e5(0x2db)];if(_0x3c3d20===_0x7322e5(0x31b)){const _0x1fdea8={..._0x520246,'seriesId':null},_0x3390c0=sessions['findIndex'](_0x3bbf88=>_0x3bbf88['id']===_0x520246['id']);if(_0x3390c0!==-0x1)sessions[_0x3390c0]=_0x1fdea8;_0x56c607[_0x7322e5(0x252)](_0x1fdea8[_0x7322e5(0x283)]);}else{if(_0x3c3d20===_0x7322e5(0x21b)){const _0x263cb2=_0x520246['dateStr'];sessions[_0x7322e5(0x23f)]((_0x23e529,_0x1485e0)=>{const _0x25c33e=_0x7322e5;_0x23e529[_0x25c33e(0x2db)]===_0x47b3b9&&_0x23e529[_0x25c33e(0x283)]>=_0x263cb2&&(sessions[_0x1485e0]={...sessions[_0x1485e0],'start':_0x520246[_0x25c33e(0x330)],'end':_0x520246['end'],'note':_0x520246[_0x25c33e(0x31e)],'client':_0x520246['client'],'clientId':_0x520246[_0x25c33e(0x2c4)]},_0x56c607['push'](_0x23e529['dateStr']));});}}afterSaveAction(_0x56c607);}function tryDeleteSession(){const _0x165d58=a2_0x31dd2a,_0x34254a=sessions[_0x165d58(0x308)](_0x54868f=>_0x54868f['id']===editingId);if(!_0x34254a)return;_0x34254a[_0x165d58(0x2db)]?openActionSheet(_0x165d58(0x230)):commitDelete('single',_0x34254a);}function commitDelete(_0x3c28ff,_0x3f5a4a){const _0x3c83ea=a2_0x31dd2a;lastUserActionTime=Date[_0x3c83ea(0x295)](),NotificationManager['send']('cancel',_0x3f5a4a);const _0x303159=[];if(_0x3c28ff===_0x3c83ea(0x31b))sessions=sessions[_0x3c83ea(0x20e)](_0x18ba89=>_0x18ba89['id']!==_0x3f5a4a['id']),_0x303159[_0x3c83ea(0x252)](_0x3f5a4a[_0x3c83ea(0x283)]);else{if(_0x3c28ff===_0x3c83ea(0x21b)){const _0x487348=_0x3f5a4a[_0x3c83ea(0x283)],_0x79ef25=_0x3f5a4a['seriesId'];sessions[_0x3c83ea(0x23f)](_0x3edf76=>{const _0xb35f30=_0x3c83ea;_0x3edf76[_0xb35f30(0x2db)]===_0x79ef25&&_0x3edf76[_0xb35f30(0x283)]>=_0x487348&&_0x303159['push'](_0x3edf76[_0xb35f30(0x283)]);}),sessions=sessions[_0x3c83ea(0x20e)](_0x14ad02=>!(_0x14ad02['seriesId']===_0x79ef25&&_0x14ad02['dateStr']>=_0x487348));}}afterSaveAction(_0x303159);}function afterSaveAction(_0x267159){const _0x2ee58d=a2_0x31dd2a;DataManager[_0x2ee58d(0x1ae)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2ee58d(0x1e5)](_0x267159)['then'](()=>console[_0x2ee58d(0x2d8)](_0x2ee58d(0x1cc)))[_0x2ee58d(0x2eb)](_0x4e9b32=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x56ead2){const _0x2ee699=a2_0x31dd2a,_0x2e6edb=new Date(_0x56ead2),_0x4d50d4={'weekday':'long','day':_0x2ee699(0x220),'month':'long'};let _0x472ec1=_0x2e6edb[_0x2ee699(0x217)](_0x2ee699(0x1b6),_0x4d50d4);return _0x472ec1['charAt'](0x0)['toUpperCase']()+_0x472ec1[_0x2ee699(0x218)](0x1);},'getText'(_0x1ebeeb,_0x1ded6e){const _0x2b36e1=a2_0x31dd2a,_0x150969=this[_0x2b36e1(0x1b4)](_0x1ded6e[_0x2b36e1(0x283)]);switch(_0x1ebeeb){case _0x2b36e1(0x2ca):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x2b36e1(0x31d)+_0x150969+'\x0a')+(_0x2b36e1(0x1bd)+_0x1ded6e['start']+_0x2b36e1(0x22b)+_0x1ded6e[_0x2b36e1(0x2dd)]+'\x0a\x0a')+_0x2b36e1(0x2c0);case'update':return _0x2b36e1(0x1cd)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x1ded6e[_0x2b36e1(0x330)]+'\x20‚Äî\x20'+_0x1ded6e['end']+_0x2b36e1(0x1bc))+(_0x2b36e1(0x31d)+_0x150969);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x2b36e1(0x1ef)+_0x150969+'\x20('+_0x1ded6e[_0x2b36e1(0x330)]+_0x2b36e1(0x234));case _0x2b36e1(0x1e1):return _0x2b36e1(0x28d)+_0x2b36e1(0x24b)+_0x2b36e1(0x2a1);default:return'';}},async 'send'(_0x501553,_0x69b02){const _0x450698=a2_0x31dd2a;console[_0x450698(0x2d8)](_0x450698(0x22e),_0x501553,_0x69b02);if(!_0x69b02){console[_0x450698(0x27d)](_0x450698(0x1f8));return;}const _0x2098cb=String(_0x69b02[_0x450698(0x2c4)]);console[_0x450698(0x2d8)](_0x450698(0x2ff),_0x2098cb);if(!_0x69b02['clientId']||_0x2098cb==='undefined'||_0x2098cb===_0x450698(0x229)){console[_0x450698(0x27d)](_0x450698(0x21c));if(_0x69b02[_0x450698(0x297)]){const _0x414722=clients[_0x450698(0x308)](_0x4c21d1=>_0x4c21d1['name']===_0x69b02['client']);if(_0x414722)return console['log'](_0x450698(0x270),_0x414722['id']),this[_0x450698(0x253)](_0x501553,{..._0x69b02,'clientId':_0x414722['id']});}return;}if(_0x2098cb[_0x450698(0x24a)]<0x5){console[_0x450698(0x2dc)](_0x450698(0x2e3),_0x2098cb);return;}const _0x4ee3d2=this[_0x450698(0x215)](_0x501553,_0x69b02);if(!_0x4ee3d2){console[_0x450698(0x27d)](_0x450698(0x2af));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x2098cb+'...'),DataManager[_0x450698(0x305)](_0x450698(0x1ea),{'chatId':_0x2098cb,'text':_0x4ee3d2})[_0x450698(0x277)](_0x131890=>console[_0x450698(0x2d8)]('[Notify]\x20Server\x20Response:',_0x131890))[_0x450698(0x2eb)](_0x441685=>console['error'](_0x450698(0x288),_0x441685));}};function getLocalDateStr(_0x3f6e4b){const _0x126fe1=a2_0x31dd2a,_0x5ab2be=_0x3f6e4b[_0x126fe1(0x24c)](),_0x4300e4=String(_0x3f6e4b['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3a14d2=String(_0x3f6e4b['getDate']())['padStart'](0x2,'0');return _0x5ab2be+'-'+_0x4300e4+'-'+_0x3a14d2;}function getDateStr(_0x3ad824){const _0x3a45c2=a2_0x31dd2a,_0x3abdb4=new Date();return _0x3abdb4[_0x3a45c2(0x244)](_0x3abdb4[_0x3a45c2(0x306)]()+_0x3ad824),getLocalDateStr(_0x3abdb4);}function getStartOfWeek(_0x1a7e45){const _0x52be03=a2_0x31dd2a,_0x5a4b2f=(function(){let _0x2d1331=!![];return function(_0x5e2329,_0x50e1b5){const _0x5af0b0=_0x2d1331?function(){const _0x1ee70a=a2_0x2560;if(_0x50e1b5){const _0x5131c1=_0x50e1b5[_0x1ee70a(0x284)](_0x5e2329,arguments);return _0x50e1b5=null,_0x5131c1;}}:function(){};return _0x2d1331=![],_0x5af0b0;};}()),_0xa8865e=_0x5a4b2f(this,function(){const _0xda0f34=a2_0x2560;return _0xa8865e[_0xda0f34(0x26e)]()[_0xda0f34(0x2be)](_0xda0f34(0x232))[_0xda0f34(0x26e)]()[_0xda0f34(0x227)](_0xa8865e)[_0xda0f34(0x2be)](_0xda0f34(0x232));});_0xa8865e();const _0x1a2d91=new Date(_0x1a7e45),_0x4cefa4=_0x1a2d91['getDay'](),_0x50e2f6=_0x1a2d91[_0x52be03(0x306)]()-_0x4cefa4+(_0x4cefa4===0x0?-0x6:0x1);return _0x1a2d91['setDate'](_0x50e2f6),_0x1a2d91[_0x52be03(0x2fb)](0x0,0x0,0x0,0x0),_0x1a2d91;}function hexToRgba(_0x3f7f1a,_0x202e99){const _0x1e9326=a2_0x31dd2a;if(!_0x3f7f1a)return _0x1e9326(0x2e4);let _0x1e37a3=0x0,_0x2a1b61=0x0,_0x263342=0x0;if(_0x3f7f1a[_0x1e9326(0x24a)]===0x4)_0x1e37a3='0x'+_0x3f7f1a[0x1]+_0x3f7f1a[0x1],_0x2a1b61='0x'+_0x3f7f1a[0x2]+_0x3f7f1a[0x2],_0x263342='0x'+_0x3f7f1a[0x3]+_0x3f7f1a[0x3];else _0x3f7f1a[_0x1e9326(0x24a)]===0x7&&(_0x1e37a3='0x'+_0x3f7f1a[0x1]+_0x3f7f1a[0x2],_0x2a1b61='0x'+_0x3f7f1a[0x3]+_0x3f7f1a[0x4],_0x263342='0x'+_0x3f7f1a[0x5]+_0x3f7f1a[0x6]);return'rgba('+ +_0x1e37a3+',\x20'+ +_0x2a1b61+',\x20'+ +_0x263342+',\x20'+_0x202e99+')';}function renderTimeColumn(){const _0x537244=a2_0x31dd2a,_0x277389=document[_0x537244(0x286)](_0x537244(0x1f3)),_0x16512a=document[_0x537244(0x286)](_0x537244(0x2ef));_0x277389[_0x537244(0x1b7)]='',_0x277389[_0x537244(0x326)](_0x16512a);for(let _0x4e45c8=0x0;_0x4e45c8<0x18;_0x4e45c8++){const _0x3491ad=document[_0x537244(0x2bc)](_0x537244(0x303));_0x3491ad[_0x537244(0x279)]=_0x537244(0x287);if(_0x4e45c8>0x0)_0x3491ad['innerHTML']='<span>'+String(_0x4e45c8)[_0x537244(0x1ff)](0x2,'0')+_0x537244(0x1b5);_0x277389[_0x537244(0x326)](_0x3491ad);}}function renderDayRange(_0x5adbc2,_0x459234){const _0x23715c=a2_0x31dd2a,_0x5004bc=document[_0x23715c(0x286)](_0x23715c(0x329)),_0x81a97b=document['getElementById'](_0x23715c(0x24d)),_0x13b436=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3777e9=new Date();_0x3777e9[_0x23715c(0x2fb)](0x0,0x0,0x0,0x0);const _0x3c0f57=getLocalDateStr(new Date());for(let _0x4aef53=_0x5adbc2;_0x4aef53<=_0x459234;_0x4aef53++){const _0x13496b=new Date(_0x3777e9);_0x13496b[_0x23715c(0x244)](_0x13496b[_0x23715c(0x306)]()+_0x4aef53);const _0x5b4af2=getLocalDateStr(_0x13496b);let _0x1de837=_0x13496b[_0x23715c(0x25f)]()-0x1;if(_0x1de837===-0x1)_0x1de837=0x6;const _0x411bb3=_0x5b4af2===_0x3c0f57,_0x39c231=document['createElement'](_0x23715c(0x303));_0x39c231['className']=_0x23715c(0x1f1)+(_0x411bb3?'today':''),_0x39c231['id']=_0x23715c(0x242)+_0x5b4af2,_0x39c231[_0x23715c(0x310)](_0x23715c(0x27b),_0x5b4af2),_0x39c231[_0x23715c(0x1b7)]=_0x23715c(0x294)+_0x13b436[_0x1de837]+_0x23715c(0x1f2)+_0x13496b[_0x23715c(0x306)]()+_0x23715c(0x331)+_0x5b4af2+_0x23715c(0x2e7),_0x39c231[_0x23715c(0x2a0)]=()=>openDayOptions(_0x5b4af2,_0x13b436[_0x1de837]+'\x20'+_0x13496b['getDate']()),_0x5004bc[_0x23715c(0x326)](_0x39c231);const _0x46e536=document['createElement'](_0x23715c(0x303));_0x46e536[_0x23715c(0x279)]=_0x23715c(0x1fb)+(_0x411bb3?_0x23715c(0x2d5):''),_0x46e536[_0x23715c(0x310)](_0x23715c(0x27b),_0x5b4af2),_0x46e536[_0x23715c(0x310)](_0x23715c(0x327),_0x1de837),renderEventsForColumn(_0x46e536,_0x5b4af2,_0x1de837),attachLongPressHandler(_0x46e536,_0x13496b),_0x81a97b[_0x23715c(0x326)](_0x46e536),updateDayStats(_0x5b4af2);}}function reRenderBlocks(){const _0x12b076=a2_0x31dd2a;document[_0x12b076(0x263)](_0x12b076(0x25d))['forEach'](_0x43c2ad=>{const _0x58f37b=_0x12b076;_0x43c2ad[_0x58f37b(0x263)](_0x58f37b(0x26b))['forEach'](_0x346af5=>_0x346af5['remove']());const _0x2d1742=_0x43c2ad[_0x58f37b(0x2c8)]('data-date'),_0x16d333=parseInt(_0x43c2ad[_0x58f37b(0x2c8)]('data-day-idx')),_0xbe6a73=Math[_0x58f37b(0x2a2)](_0x43c2ad['offsetLeft']);(availabilityPattern[_0x16d333]||[])[_0x58f37b(0x23f)](_0x375605=>{const _0x3386a5=_0x58f37b,_0x23e719=document[_0x3386a5(0x2bc)](_0x3386a5(0x303));_0x23e719[_0x3386a5(0x279)]=_0x3386a5(0x207);const _0x582c24=_0x375605*GRID_H;_0x23e719[_0x3386a5(0x2cf)][_0x3386a5(0x27c)]=_0x582c24+'px',_0x23e719['style'][_0x3386a5(0x2cb)]='-'+_0xbe6a73+_0x3386a5(0x1d0)+_0x582c24+'px',_0x43c2ad[_0x3386a5(0x326)](_0x23e719);});if(specialRanges&&specialRanges['length']>0x0){const _0x11d408=new Date(_0x2d1742+'T00:00:00')[_0x58f37b(0x2d7)](),_0x4f13a5=new Date(_0x2d1742+_0x58f37b(0x1e9))[_0x58f37b(0x2d7)]();specialRanges['forEach'](_0x5c9e47=>{const _0x473e7c=_0x58f37b,_0x52fa5f=new Date(_0x5c9e47[_0x473e7c(0x330)])['getTime'](),_0x4f0db6=new Date(_0x5c9e47['end'])[_0x473e7c(0x2d7)](),_0x2d7bc6=Math[_0x473e7c(0x264)](_0x11d408,_0x52fa5f),_0x182dd8=Math['min'](_0x4f13a5,_0x4f0db6);if(_0x2d7bc6<_0x182dd8){if(_0x2d7bc6<=_0x11d408&&_0x182dd8>=_0x4f13a5-0xea60){if(!_0x43c2ad[_0x473e7c(0x28f)](_0x473e7c(0x2fc))){const _0x331d20=document[_0x473e7c(0x2bc)](_0x473e7c(0x303));_0x331d20[_0x473e7c(0x279)]=_0x473e7c(0x2e5),_0x331d20['style'][_0x473e7c(0x2cb)]='-'+_0xbe6a73+_0x473e7c(0x314),_0x43c2ad['appendChild'](_0x331d20);}}else{const _0x4b2590=(_0x2d7bc6-_0x11d408)/0x36ee80*GRID_H,_0x2377a5=(_0x182dd8-_0x2d7bc6)/0x36ee80*GRID_H,_0x1ce786=document[_0x473e7c(0x2bc)](_0x473e7c(0x303));_0x1ce786[_0x473e7c(0x279)]='blocked-range-part\x20stripe-bg',_0x1ce786[_0x473e7c(0x2cf)][_0x473e7c(0x27c)]=_0x4b2590+'px',_0x1ce786[_0x473e7c(0x2cf)][_0x473e7c(0x205)]=_0x2377a5+'px',_0x1ce786[_0x473e7c(0x2cf)][_0x473e7c(0x2cb)]='-'+_0xbe6a73+'px\x20-'+_0x4b2590+'px',_0x43c2ad['appendChild'](_0x1ce786);}}});}if(dateExceptions[_0x2d1742]===_0x58f37b(0x2ee)){if(!_0x43c2ad[_0x58f37b(0x28f)](_0x58f37b(0x2fc))){const _0x94c4d1=document[_0x58f37b(0x2bc)]('div');_0x94c4d1['className']=_0x58f37b(0x2e5),_0x94c4d1[_0x58f37b(0x2cf)][_0x58f37b(0x2cb)]='-'+_0xbe6a73+'px\x200px',_0x43c2ad[_0x58f37b(0x326)](_0x94c4d1);}}renderEventsForColumn(_0x43c2ad,_0x2d1742,_0x16d333),updateDayStats(_0x2d1742);});}function updateAllDayStats(){const _0x254699=a2_0x31dd2a;document[_0x254699(0x263)](_0x254699(0x22a))[_0x254699(0x23f)](_0xb7c620=>{const _0x410f33=_0x254699;updateDayStats(_0xb7c620[_0x410f33(0x2c8)]('data-date'));});}function updateDayStats(_0x2bbb27){const _0x141700=a2_0x31dd2a,_0x3dff4e=document['getElementById'](_0x141700(0x2c1)+_0x2bbb27);if(!_0x3dff4e)return;const _0x32027c=new Date(_0x2bbb27);let _0x281ffe=_0x32027c[_0x141700(0x25f)]()-0x1;if(_0x281ffe===-0x1)_0x281ffe=0x6;if(dateExceptions[_0x2bbb27]===_0x141700(0x2ee)){_0x3dff4e[_0x141700(0x2cf)][_0x141700(0x322)]=_0x141700(0x200);return;}const _0x27da05=availabilityPattern[_0x281ffe]||[],_0x27867e=0x18-_0x27da05[_0x141700(0x24a)],_0x3a1d22=_0x27867e*0x3c,_0x3723a9=sessions[_0x141700(0x20e)](_0x214959=>_0x214959[_0x141700(0x283)]===_0x2bbb27&&_0x214959['status']!==_0x141700(0x328));if(_0x3723a9[_0x141700(0x24a)]===0x0){_0x3dff4e[_0x141700(0x2cf)][_0x141700(0x322)]='none';return;}let _0x4f4c0f=_0x3723a9[_0x141700(0x29b)](_0x41c8e8=>{const _0x41cbb7=_0x141700,[_0x474c49,_0x967842]=_0x41c8e8[_0x41cbb7(0x330)][_0x41cbb7(0x235)](':')[_0x41cbb7(0x29b)](Number),[_0xb03bc9,_0xc1dc81]=_0x41c8e8[_0x41cbb7(0x2dd)]['split'](':')[_0x41cbb7(0x29b)](Number);return[_0x474c49*0x3c+_0x967842,_0xb03bc9*0x3c+_0xc1dc81];});_0x4f4c0f[_0x141700(0x2bd)]((_0x3a07e6,_0x3b8148)=>_0x3a07e6[0x0]-_0x3b8148[0x0]);let _0xd08dd5=[];if(_0x4f4c0f[_0x141700(0x24a)]>0x0){let _0x1f8798=_0x4f4c0f[0x0];for(let _0x5a2bd5=0x1;_0x5a2bd5<_0x4f4c0f['length'];_0x5a2bd5++){_0x4f4c0f[_0x5a2bd5][0x0]<_0x1f8798[0x1]?_0x1f8798[0x1]=Math[_0x141700(0x264)](_0x1f8798[0x1],_0x4f4c0f[_0x5a2bd5][0x1]):(_0xd08dd5[_0x141700(0x252)](_0x1f8798),_0x1f8798=_0x4f4c0f[_0x5a2bd5]);}_0xd08dd5[_0x141700(0x252)](_0x1f8798);}let _0x35a338=0x0;_0xd08dd5[_0x141700(0x23f)](_0x546209=>_0x35a338+=_0x546209[0x1]-_0x546209[0x0]),_0x3dff4e[_0x141700(0x2cf)][_0x141700(0x322)]=_0x141700(0x262);const _0x55be15=_0x3dff4e[_0x141700(0x28f)](_0x141700(0x21d));if(_0x3a1d22===0x0){_0x55be15[_0x141700(0x2cf)][_0x141700(0x2b8)]=_0x141700(0x300),_0x55be15['style']['background']=_0x141700(0x285);return;}const _0x12d121=_0x35a338/_0x3a1d22*0x64;console[_0x141700(0x2d8)]('['+_0x2bbb27+_0x141700(0x31c)+_0x27867e+_0x141700(0x22c)+_0x35a338+_0x141700(0x2ba)+_0x12d121[_0x141700(0x258)](0x1)+'%'),_0x12d121>0x64?(_0x55be15[_0x141700(0x2cf)][_0x141700(0x2b8)]='100%',_0x55be15[_0x141700(0x2cf)][_0x141700(0x1f5)]='var(--acc-red)'):(_0x55be15[_0x141700(0x2cf)]['width']=_0x12d121+'%',_0x55be15[_0x141700(0x2cf)][_0x141700(0x1f5)]=_0x141700(0x1db));}function renderEventsForColumn(_0x10c13a,_0x216410,_0x3ea567){const _0x3b5304=a2_0x31dd2a,_0x515c9d=sessions['filter'](_0x27fd7b=>_0x27fd7b['dateStr']===_0x216410),_0x5ecc6d=_0x515c9d[_0x3b5304(0x29b)](_0x446afc=>{const _0x1f848c=_0x3b5304,[_0x5932bd,_0xceac1a]=_0x446afc['start'][_0x1f848c(0x235)](':')[_0x1f848c(0x29b)](Number),[_0xbd6641,_0x4ff5fa]=_0x446afc[_0x1f848c(0x2dd)]['split'](':')[_0x1f848c(0x29b)](Number);return{'data':_0x446afc,'start':_0x5932bd*0x3c+_0xceac1a,'end':_0xbd6641*0x3c+_0x4ff5fa,'colIndex':0x0};});_0x5ecc6d['sort']((_0x2173b9,_0x1ff220)=>{const _0x56f93f=_0x3b5304;if(_0x2173b9[_0x56f93f(0x330)]!==_0x1ff220[_0x56f93f(0x330)])return _0x2173b9[_0x56f93f(0x330)]-_0x1ff220[_0x56f93f(0x330)];return _0x1ff220['end']-_0x1ff220['start']-(_0x2173b9[_0x56f93f(0x2dd)]-_0x2173b9[_0x56f93f(0x330)]);});const _0x19a2da=[];_0x5ecc6d['forEach'](_0x2d5113=>{const _0x28da6b=_0x3b5304;let _0x4cd2c9=![];for(let _0x36bb48=0x0;_0x36bb48<_0x19a2da['length'];_0x36bb48++){const _0x267bc1=_0x19a2da[_0x36bb48],_0x44858b=_0x267bc1[_0x267bc1[_0x28da6b(0x24a)]-0x1];if(_0x2d5113[_0x28da6b(0x330)]>=_0x44858b[_0x28da6b(0x2dd)]){_0x267bc1[_0x28da6b(0x252)](_0x2d5113),_0x2d5113[_0x28da6b(0x259)]=_0x36bb48,_0x4cd2c9=!![];break;}}!_0x4cd2c9&&(_0x19a2da[_0x28da6b(0x252)]([_0x2d5113]),_0x2d5113[_0x28da6b(0x259)]=_0x19a2da[_0x28da6b(0x24a)]-0x1);}),_0x5ecc6d['forEach'](_0x3e1d4b=>{const _0x25b75d=_0x3b5304;let _0x323c95=0x0;_0x5ecc6d['forEach'](_0x3a83ec=>{const _0x2cc70f=a2_0x2560;if(Math[_0x2cc70f(0x264)](_0x3e1d4b[_0x2cc70f(0x330)],_0x3a83ec[_0x2cc70f(0x330)])<Math[_0x2cc70f(0x1f9)](_0x3e1d4b['end'],_0x3a83ec[_0x2cc70f(0x2dd)])){if(_0x3a83ec[_0x2cc70f(0x259)]>_0x323c95)_0x323c95=_0x3a83ec[_0x2cc70f(0x259)];}});const _0xd82ed5=_0x323c95+0x1,_0x3945c0=0x64/_0xd82ed5,_0x2fa8c1=_0x3e1d4b['colIndex']*_0x3945c0,_0x17453d=createEventEl(_0x3e1d4b[_0x25b75d(0x23a)]);_0x17453d[_0x25b75d(0x2cf)][_0x25b75d(0x2b8)]=_0x25b75d(0x30f)+_0x3945c0+_0x25b75d(0x1b9),_0x17453d[_0x25b75d(0x2cf)][_0x25b75d(0x1fc)]=_0x25b75d(0x30f)+_0x2fa8c1+_0x25b75d(0x1e4),_0x17453d[_0x25b75d(0x2cf)][_0x25b75d(0x316)]=0xa+_0x3e1d4b[_0x25b75d(0x259)],_0x3945c0<0x55&&_0x17453d['classList']['add']('mini'),_0x10c13a[_0x25b75d(0x326)](_0x17453d);});}function createEventEl(_0x54e9ff){const _0x3068b3=a2_0x31dd2a,[_0x180c35,_0x351956]=_0x54e9ff[_0x3068b3(0x330)]['split'](':')['map'](Number),[_0x7cebd7,_0x5c4b4d]=_0x54e9ff[_0x3068b3(0x2dd)]['split'](':')['map'](Number),_0x69a64f=(_0x180c35*0x3c+_0x351956)/0x3c*GRID_H,_0x2abb7a=(_0x7cebd7*0x3c+_0x5c4b4d-(_0x180c35*0x3c+_0x351956))/0x3c*GRID_H,_0x3ebf70=document[_0x3068b3(0x2bc)](_0x3068b3(0x303)),_0x45f9db=_0x54e9ff[_0x3068b3(0x24e)]===_0x3068b3(0x2d9)?_0x3068b3(0x296):'';_0x3ebf70[_0x3068b3(0x279)]='event-card'+_0x45f9db,_0x3ebf70[_0x3068b3(0x2cf)][_0x3068b3(0x27c)]=_0x69a64f+'px',_0x3ebf70[_0x3068b3(0x2cf)][_0x3068b3(0x205)]=Math[_0x3068b3(0x264)](_0x2abb7a,0x14)+'px';const _0x49763e=clients[_0x3068b3(0x308)](_0x3d2464=>_0x54e9ff[_0x3068b3(0x2c4)]&&String(_0x3d2464['id'])===String(_0x54e9ff[_0x3068b3(0x2c4)])||_0x3d2464['name']===_0x54e9ff[_0x3068b3(0x297)]),_0x142aee=_0x49763e?_0x49763e['color']:_0x3068b3(0x2f1);_0x3ebf70[_0x3068b3(0x2cf)][_0x3068b3(0x2d4)]=_0x142aee,_0x3ebf70[_0x3068b3(0x2cf)][_0x3068b3(0x1ce)]=hexToRgba(_0x142aee,0.85);let _0x3bf1ca=_0x3068b3(0x2f4)+_0x54e9ff[_0x3068b3(0x297)]+_0x3068b3(0x1eb)+_0x54e9ff[_0x3068b3(0x330)]+'\x20-\x20'+_0x54e9ff[_0x3068b3(0x2dd)]+_0x3068b3(0x1d4);return _0x54e9ff[_0x3068b3(0x2db)]&&(_0x3bf1ca+=_0x3068b3(0x1ee)),_0x54e9ff[_0x3068b3(0x24e)]===_0x3068b3(0x2d9)&&(_0x3bf1ca+=_0x3068b3(0x321)),_0x3ebf70[_0x3068b3(0x1b7)]=_0x3bf1ca,_0x3ebf70[_0x3068b3(0x2a0)]=_0x582b1=>{const _0x27eeaf=_0x3068b3;_0x582b1[_0x27eeaf(0x1d9)](),openEdit(_0x54e9ff);},_0x3ebf70;}function attachLongPressHandler(_0xd2d4c7,_0x431f0f){const _0x174376=a2_0x31dd2a;let _0x58d83e=0x0,_0x4136c4=null;const _0x4e8e12=_0x286887=>{const _0x30fc91=a2_0x2560;if(_0x286887[_0x30fc91(0x32f)][_0x30fc91(0x240)](_0x30fc91(0x238)))return;isScrolling=![],_0x58d83e=_0x286887[_0x30fc91(0x245)]?_0x286887[_0x30fc91(0x245)][0x0][_0x30fc91(0x2a4)]:_0x286887[_0x30fc91(0x2a4)],_0x4136c4=setTimeout(()=>{const _0x4ae796=_0x30fc91;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x57f0f6=_0xd2d4c7[_0x4ae796(0x1e6)](),_0x444816=Math[_0x4ae796(0x25a)]((_0x58d83e-_0x57f0f6['top'])/GRID_H);_0x431f0f[_0x4ae796(0x2fb)](_0x444816,0x0),openAddSession(_0x431f0f);}},0x1f4);},_0x595f8d=()=>{isScrolling=!![],clearTimeout(_0x4136c4);},_0xa445a1=()=>{clearTimeout(_0x4136c4);};_0xd2d4c7[_0x174376(0x216)](_0x174376(0x22f),_0x4e8e12,{'passive':!![]}),_0xd2d4c7[_0x174376(0x216)](_0x174376(0x2e6),_0x595f8d,{'passive':!![]}),_0xd2d4c7[_0x174376(0x216)](_0x174376(0x27f),_0xa445a1),_0xd2d4c7[_0x174376(0x216)]('mousedown',_0x4e8e12),_0xd2d4c7[_0x174376(0x216)]('mousemove',_0x595f8d),_0xd2d4c7['addEventListener'](_0x174376(0x204),_0xa445a1);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x10d87a=a2_0x31dd2a,_0x45d50e=document[_0x10d87a(0x286)](_0x10d87a(0x2f9)),_0x2db637=_0x45d50e[_0x10d87a(0x309)],_0x2f1613=_0x45d50e[_0x10d87a(0x32b)],_0x4c1fb2=_0x45d50e['clientWidth'];if(_0x2f1613-(_0x2db637+_0x4c1fb2)<0x12c){const _0x2259d7=endOffset;endOffset+=0xe,renderDayRange(_0x2259d7+0x1,endOffset),reRenderBlocks();}if(_0x2db637<0x12c){const _0x425749=startOffset;startOffset-=0xe,prependDays(startOffset,_0x425749-0x1),_0x45d50e[_0x10d87a(0x309)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x130def,_0x27dcba){const _0xeb3eef=a2_0x31dd2a,_0x261ff7=document[_0xeb3eef(0x286)]('daysHeaderTrack'),_0x3ed70f=document[_0xeb3eef(0x286)](_0xeb3eef(0x24d)),_0x13b315=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34e27c=new Date();_0x34e27c[_0xeb3eef(0x2fb)](0x0,0x0,0x0,0x0);const _0x597d74=getLocalDateStr(new Date()),_0x4bd6c5=document['createDocumentFragment'](),_0xf9c0b4=document[_0xeb3eef(0x2a8)]();for(let _0x104eea=_0x130def;_0x104eea<=_0x27dcba;_0x104eea++){const _0x49b32a=new Date(_0x34e27c);_0x49b32a['setDate'](_0x49b32a[_0xeb3eef(0x306)]()+_0x104eea);const _0xed7f50=getLocalDateStr(_0x49b32a);let _0x1b82be=_0x49b32a[_0xeb3eef(0x25f)]()-0x1;if(_0x1b82be===-0x1)_0x1b82be=0x6;const _0x98a7e1=_0xed7f50===_0x597d74,_0x940b0c=document['createElement'](_0xeb3eef(0x303));_0x940b0c[_0xeb3eef(0x279)]=_0xeb3eef(0x1f1)+(_0x98a7e1?'today':''),_0x940b0c['id']=_0xeb3eef(0x242)+_0xed7f50,_0x940b0c[_0xeb3eef(0x310)](_0xeb3eef(0x27b),_0xed7f50),_0x940b0c['innerHTML']=_0xeb3eef(0x294)+_0x13b315[_0x1b82be]+_0xeb3eef(0x1f2)+_0x49b32a['getDate']()+_0xeb3eef(0x331)+_0xed7f50+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x940b0c[_0xeb3eef(0x2a0)]=()=>openDayOptions(_0xed7f50,_0x13b315[_0x1b82be]+'\x20'+_0x49b32a[_0xeb3eef(0x306)]()),_0x4bd6c5[_0xeb3eef(0x326)](_0x940b0c);const _0x3c4f6a=document['createElement'](_0xeb3eef(0x303));_0x3c4f6a[_0xeb3eef(0x279)]=_0xeb3eef(0x1fb)+(_0x98a7e1?_0xeb3eef(0x2d5):''),_0x3c4f6a['setAttribute'](_0xeb3eef(0x27b),_0xed7f50),_0x3c4f6a[_0xeb3eef(0x310)](_0xeb3eef(0x327),_0x1b82be),renderEventsForColumn(_0x3c4f6a,_0xed7f50,_0x1b82be),attachLongPressHandler(_0x3c4f6a,_0x49b32a),_0xf9c0b4[_0xeb3eef(0x326)](_0x3c4f6a),updateDayStats(_0xed7f50);}_0x261ff7[_0xeb3eef(0x28e)](_0x4bd6c5,_0x261ff7[_0xeb3eef(0x25e)]),_0x3ed70f[_0xeb3eef(0x28e)](_0xf9c0b4,_0x3ed70f[_0xeb3eef(0x28f)](_0xeb3eef(0x1ca)));}function validateAppointment(_0x370590,_0x3e8b6e,_0x56951f,_0x3d55b7,_0x3b0b1f){const _0x119755=a2_0x31dd2a,[_0x1337b8,_0xd18ddb]=_0x3e8b6e['split'](':')[_0x119755(0x29b)](Number),[_0x49c8f5,_0x592221]=_0x56951f[_0x119755(0x235)](':')[_0x119755(0x29b)](Number),_0x5138f4=_0x1337b8*0x3c+_0xd18ddb,_0x5efb56=_0x49c8f5*0x3c+_0x592221,_0x32885c=String(_0x3b0b1f);let _0x3807b6=![],_0x325546='';for(let _0x7cec13 of sessions){if(_0x7cec13['dateStr']!==_0x370590)continue;if(_0x7cec13[_0x119755(0x24e)]===_0x119755(0x328))continue;if(_0x3d55b7&&String(_0x7cec13['id'])===String(_0x3d55b7))continue;const [_0x3bcfbf,_0x30e204]=_0x7cec13[_0x119755(0x330)][_0x119755(0x235)](':')[_0x119755(0x29b)](Number),[_0x46670f,_0x2b7af0]=_0x7cec13['end']['split'](':')[_0x119755(0x29b)](Number),_0x33029c=_0x3bcfbf*0x3c+_0x30e204,_0x1f5c43=_0x46670f*0x3c+_0x2b7af0;if(Math['max'](_0x5138f4,_0x33029c)<Math[_0x119755(0x1f9)](_0x5efb56,_0x1f5c43)){if(_0x7cec13[_0x119755(0x2c4)]&&String(_0x7cec13[_0x119755(0x2c4)])===_0x32885c)return{'valid':![],'msg':_0x119755(0x2a7)+_0x7cec13[_0x119755(0x297)]+_0x119755(0x30a)};_0x3807b6=!![],_0x325546=_0x7cec13[_0x119755(0x297)];}}if(_0x3807b6)return{'valid':!![],'warning':_0x119755(0x325)+_0x325546};return{'valid':!![]};}function updateDateDisplay(){const _0x3dfc2f=a2_0x31dd2a,_0x558ec5=document[_0x3dfc2f(0x286)](_0x3dfc2f(0x273))[_0x3dfc2f(0x22d)],_0x1e803e=document[_0x3dfc2f(0x286)](_0x3dfc2f(0x2c6));if(!_0x558ec5){_0x1e803e[_0x3dfc2f(0x239)]='';return;}const [_0x28f242,_0x49a8f8,_0x56febe]=_0x558ec5[_0x3dfc2f(0x235)]('-')[_0x3dfc2f(0x29b)](Number),_0x4048ee=new Date(_0x28f242,_0x49a8f8-0x1,_0x56febe),_0x541f88={'weekday':_0x3dfc2f(0x1f0),'day':_0x3dfc2f(0x220),'month':'long','year':_0x3dfc2f(0x220)};let _0x197e39=_0x4048ee[_0x3dfc2f(0x217)](_0x3dfc2f(0x1b6),_0x541f88);_0x197e39=_0x197e39[_0x3dfc2f(0x1f4)](0x0)[_0x3dfc2f(0x2ce)]()+_0x197e39[_0x3dfc2f(0x218)](0x1),_0x1e803e['textContent']=_0x197e39;}function autoSetEndTime(){const _0x5e31a9=a2_0x31dd2a,_0x16b94e=document['getElementById'](_0x5e31a9(0x324))[_0x5e31a9(0x22d)];if(!_0x16b94e)return;const [_0x3dde4a,_0x15fda0]=_0x16b94e[_0x5e31a9(0x235)](':')[_0x5e31a9(0x29b)](Number);let _0xfe3d02=_0x3dde4a+0x1;if(_0xfe3d02>0x17)_0xfe3d02=0x0;const _0x5b757c=String(_0xfe3d02)[_0x5e31a9(0x1ff)](0x2,'0')+':'+String(_0x15fda0)['padStart'](0x2,'0');document[_0x5e31a9(0x286)]('inpEnd')[_0x5e31a9(0x22d)]=_0x5b757c;}function populateClientSelect(){const _0x4ca3c7=a2_0x31dd2a,_0x1cda98=document[_0x4ca3c7(0x286)](_0x4ca3c7(0x26d));_0x1cda98[_0x4ca3c7(0x1b7)]='';if(clients[_0x4ca3c7(0x24a)]===0x0){const _0x1f6fec=document[_0x4ca3c7(0x2bc)](_0x4ca3c7(0x2ab));_0x1f6fec[_0x4ca3c7(0x274)]=_0x4ca3c7(0x30d),_0x1cda98[_0x4ca3c7(0x326)](_0x1f6fec);return;}clients[_0x4ca3c7(0x23f)](_0x269c9e=>{const _0x580401=_0x4ca3c7,_0x21e899=document['createElement'](_0x580401(0x2ab));_0x21e899[_0x580401(0x22d)]=_0x269c9e[_0x580401(0x1b8)],_0x21e899[_0x580401(0x239)]=_0x269c9e[_0x580401(0x1b8)],_0x1cda98['appendChild'](_0x21e899);});}function openActionSheet(_0x102d6f){const _0x2f990f=a2_0x31dd2a,_0x3a28b8=document['getElementById'](_0x2f990f(0x21f)),_0x3839cb=document[_0x2f990f(0x286)](_0x2f990f(0x29e)),_0x45b8df=document[_0x2f990f(0x286)](_0x2f990f(0x23c)),_0x5467c9=document[_0x2f990f(0x286)](_0x2f990f(0x1dd)),_0x46fb57=document['getElementById'](_0x2f990f(0x1c0));_0x3839cb[_0x2f990f(0x1d1)]['add'](_0x2f990f(0x2ea)),_0x3a28b8['classList']['add']('open');if(_0x102d6f===_0x2f990f(0x1f6))_0x45b8df[_0x2f990f(0x239)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x5467c9[_0x2f990f(0x239)]=_0x2f990f(0x2b4),_0x5467c9['onclick']=()=>{const _0x2a8b87=_0x2f990f;closeActionSheet(),updateSeriesBatch(_0x2a8b87(0x31b),tempSessionData);},_0x46fb57['textContent']=_0x2f990f(0x1c3),_0x46fb57[_0x2f990f(0x2a0)]=()=>{const _0x49bdef=_0x2f990f;closeActionSheet(),updateSeriesBatch(_0x49bdef(0x21b),tempSessionData);};else _0x102d6f===_0x2f990f(0x230)&&(_0x45b8df['textContent']=_0x2f990f(0x2a9),_0x5467c9[_0x2f990f(0x239)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5467c9[_0x2f990f(0x279)]=_0x2f990f(0x2b7),_0x5467c9[_0x2f990f(0x2a0)]=()=>{const _0x2f111b=_0x2f990f;closeActionSheet(),commitDelete(_0x2f111b(0x31b),sessions[_0x2f111b(0x308)](_0x1eaf88=>_0x1eaf88['id']===editingId));},_0x46fb57[_0x2f990f(0x239)]=_0x2f990f(0x1c3),_0x46fb57[_0x2f990f(0x279)]=_0x2f990f(0x222),_0x46fb57[_0x2f990f(0x2a0)]=()=>{const _0x186d7f=_0x2f990f;closeActionSheet(),commitDelete(_0x186d7f(0x21b),sessions['find'](_0x4a4e7e=>_0x4a4e7e['id']===editingId));});}function closeActionSheet(){const _0x574898=a2_0x31dd2a;document['getElementById'](_0x574898(0x21f))[_0x574898(0x1d1)][_0x574898(0x268)](_0x574898(0x2f8)),document[_0x574898(0x286)]('actionSheetOverlay')['classList'][_0x574898(0x268)](_0x574898(0x2ea));}function openSettings(){const _0x323f7f=a2_0x31dd2a;openSheet(_0x323f7f(0x28b));}function saveCoachSettings(){const _0x47335d=a2_0x31dd2a,_0x235cde=document['getElementById'](_0x47335d(0x291))[_0x47335d(0x22d)];localStorage['setItem']('uc_settings_cancel_window',_0x235cde),console[_0x47335d(0x2d8)](_0x47335d(0x2ad),_0x235cde),DataManager[_0x47335d(0x305)](_0x47335d(0x2e9),{'settings':{'cancel_window':_0x235cde}})[_0x47335d(0x2eb)](_0x22e556=>{const _0x179e26=_0x47335d;console['error']('Save\x20settings\x20error:',_0x22e556),showToast(_0x179e26(0x255),![]);});}function loadCoachSettings(){const _0x17413d=a2_0x31dd2a,_0x3cbb40=localStorage[_0x17413d(0x30c)](_0x17413d(0x2b1));_0x3cbb40&&(document[_0x17413d(0x286)]('settingCancelWindow')[_0x17413d(0x22d)]=_0x3cbb40);}function openRangesSheet(){const _0xcec94b=a2_0x31dd2a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xcec94b(0x20a));}function addRange(){const _0x4c83bf=a2_0x31dd2a,_0x2563f1=document[_0x4c83bf(0x286)](_0x4c83bf(0x23e))[_0x4c83bf(0x22d)],_0x3c2083=document['getElementById']('rangeStartTime')[_0x4c83bf(0x22d)],_0x45e583=document['getElementById']('rangeEndDate')[_0x4c83bf(0x22d)],_0x240059=document[_0x4c83bf(0x286)](_0x4c83bf(0x2f6))[_0x4c83bf(0x22d)];if(!_0x2563f1||!_0x3c2083||!_0x45e583||!_0x240059)return alert(_0x4c83bf(0x278));const _0x3fe717=_0x2563f1+'T'+_0x3c2083,_0x3457ac=_0x45e583+'T'+_0x240059;if(_0x3fe717>=_0x3457ac)return alert(_0x4c83bf(0x292));specialRanges[_0x4c83bf(0x252)]({'start':_0x3fe717,'end':_0x3457ac}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4c83bf(0x1ae)](),DataManager[_0x4c83bf(0x305)](_0x4c83bf(0x2e9),{'settings':{'ranges':specialRanges}});}function a2_0x3263(){const _0x26bb71=['btnDelete','sheetDateSubtitle','show','getAttribute','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','create','backgroundPosition','borderRadius','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','toUpperCase','style','scrollTop','getMinutes','valid','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','borderLeftColor','today','sheetTitle','getTime','log','completed','done','seriesId','warn','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','WebApp','user','total','borderColor','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','rgba(100,100,100,0.5)','day-off-overlay\x20stripe-bg','touchmove','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','#050505','save_settings','active','catch','rangesList','strokeDashoffset','off','timeLineBadge','clients','#0a84ff','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<div\x20class=\x22ev-title\x22>','block','rangeEndTime','738sQMPxP','open','matrixViewport','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','setHours','.day-off-overlay','doEventsList','1191948qocmQK','[Notify]\x20Detected\x20Client\x20ID:','100%','cancel_window','setHeaderColor','div','inpRecurring','fetchFromServer','getDate','setMonth','find','scrollLeft',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','3634590nIyBLP','getItem','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','2647516cQUxzZ','calc(','setAttribute','random','location','var(--acc-orange)','px\x200px','week','zIndex','headerMonth','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','[API\x20','btn-primary\x20btn-secondary','single',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','note','ranges','seriesCountContainer','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','display','#fff','inpStart','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','appendChild','data-day-idx','cancelled','daysHeaderTrack','rgba(255,\x2069,\x2058,\x200.3)','scrollWidth','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','dayOptionsSheet','doBusyHours','target','start','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','saveLocally','uc_settings_v9','1736928OEByjC','sessionSheet','Local\x20Save\x20Error','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','formatDate',':00</span>','ru-RU','innerHTML','name','%\x20-\x204px)',':00','mergeServerData','</b>\x0a\x0a','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','inpEnd','anEnd','asBtnSeries','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','offsetLeft','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','patternInfoBox','loadLocal','pe-time-label','startsWith','Local\x20Load\x20Error','msg','.day-column','btn-status-toggle\x20undo-mode','Batch\x20Sync\x20OK','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','backgroundColor','btnDayToggle','px\x20-','classList','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rgba(255,\x20159,\x2010,\x200.3)','</div>','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','localeCompare','isArray','onClick','stopPropagation','dayOptionsTitle','var(--acc-current)','parse','asBtnOne','planned','8016WnGJyp','00:00','complete','getMonth','exceptions','%\x20+\x202px)','syncBatch','getBoundingClientRect','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','T23:59:59','send_notification','</div><div\x20class=\x22ev-time\x22>','client-stat-card','includes','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','long','day-col-header\x20','</div><div\x20class=\x22dch-num\x22>','timeColumn','charAt','background','save','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','min','success','day-column\x20','left','initDataUnsafe','offClick','padStart','none','indexOf','color','.period-switch\x20.p-btn','mouseup','height','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','blocked-slot\x20stripe-bg','13020QVSQtI','sid','rangesSheet','recurringOptionContainer','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.pib-text','filter','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–ò–Ω—Ñ–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','Error\x20setting\x20back\x20button:','Server\x20Error','[Sync]\x20Loading\x20','getText','addEventListener','toLocaleDateString','slice','init_load','patternEditor','series','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','.dch-stats-fill','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actionSheet','numeric','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','as-button\x20danger\x20bold','Telegram','anDonutCircle','from','analyticsSheet','constructor','\x20-\x20','null','.day-col-header','\x20‚Äî\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','value','[Notify]\x20Attempting\x20to\x20send:','touchstart','delete','scroll','(((.+)+)+)+$','anStart',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','split','uc_clients_v9','34eKaHyl','.event-card','textContent','data','.sheet','asTitle','5fLOHke','rangeStartDate','forEach','closest','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','header-','overlay','setDate','touches','\x20–∏–∑\x20','DOMContentLoaded','inpNote','setItem','length','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','getFullYear','gridColumns','status','btn-primary\x20btn-danger','analyticsList','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','push','send','pe-corner','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rgba(255,\x2069,\x2058,\x200.15)','settings','toFixed','colIndex','floor','inpSeriesCount','setBackgroundColor','#gridColumns\x20.day-column','firstChild','getDay','doLoadPercent','toastTitle','flex','querySelectorAll','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackButton','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','remove','href','2563DFZGPB','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','add','inpClient','toString','Critical\x20TMA\x20Error:','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','anTotalStats','toastMessage','inpDate','text','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rgba(255,255,255,0.05)','then','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','className','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','data-date','top','error','all','touchend','globalTimeLine',':\x20Client\x20already\x20booked','deleted','dateStr','apply','var(--acc-red)','getElementById','time-label','[Notify]\x20Network\x20Failed','getHours','pattern','settingsSheet','stringify','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','insertBefore','querySelector','calendar','settingCancelWindow','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','disableVerticalSwipes','<div\x20class=\x22dch-day\x22>','now','\x20status-completed','client','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','var(--acc-green)','warning','map','10px','Error\x20setting\x20color:','actionSheetOverlay','batch_sync','onclick','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','round','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','clientY','initData','checked','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','createDocumentFragment','–£–¥–∞–ª–µ–Ω–∏–µ','pe-col-header','option','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','[Settings]\x20Cancel\x20window\x20set\x20to:','rangeEndDate','[Notify]\x20Error:\x20Text\x20generation\x20failed','rgba(48,\x20209,\x2088,\x200.15)','uc_settings_cancel_window','splice','[Notify]\x20Client\x20SWAP\x20detected','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','findIndex','toast-notification\x20','as-button\x20danger','width','substr','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','createElement','sort','search','35zaredQ','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','stat-','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','5261rInNMW','clientId'];a2_0x3263=function(){return _0x26bb71;};return a2_0x3263();}function deleteRange(_0x23e6c2){const _0x434dcf=a2_0x31dd2a;specialRanges[_0x434dcf(0x2b2)](_0x23e6c2,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x434dcf(0x305)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x35c86f=a2_0x31dd2a;document['getElementById'](_0x35c86f(0x23e))[_0x35c86f(0x22d)]='',document[_0x35c86f(0x286)]('rangeStartTime')[_0x35c86f(0x22d)]=_0x35c86f(0x1e0),document[_0x35c86f(0x286)](_0x35c86f(0x2ae))[_0x35c86f(0x22d)]='',document['getElementById'](_0x35c86f(0x2f6))['value']='23:59';}function renderRangesList(){const _0x1c3d43=a2_0x31dd2a,_0x5b9925=document[_0x1c3d43(0x286)](_0x1c3d43(0x2ec));_0x5b9925[_0x1c3d43(0x1b7)]='';if(!specialRanges[_0x1c3d43(0x24a)]){_0x5b9925['innerHTML']=_0x1c3d43(0x2ac);return;}specialRanges[_0x1c3d43(0x23f)]((_0x1ad6c2,_0x35929)=>{const _0x59f59b=_0x1c3d43,_0x3b4abd=document['createElement']('div');_0x3b4abd[_0x59f59b(0x279)]='range-item';const _0x46e5dd=_0x5c7fc7=>{const _0x38918e=_0x59f59b,_0x457b6d=new Date(_0x5c7fc7);return _0x457b6d[_0x38918e(0x306)]()+'.'+String(_0x457b6d['getMonth']()+0x1)[_0x38918e(0x1ff)](0x2,'0')+'\x20'+String(_0x457b6d[_0x38918e(0x289)]())[_0x38918e(0x1ff)](0x2,'0')+':'+String(_0x457b6d[_0x38918e(0x2d1)]())[_0x38918e(0x1ff)](0x2,'0');};_0x3b4abd[_0x59f59b(0x1b7)]=_0x59f59b(0x2de)+_0x46e5dd(_0x1ad6c2['start'])+_0x59f59b(0x22b)+_0x46e5dd(_0x1ad6c2[_0x59f59b(0x2dd)])+_0x59f59b(0x2f3)+_0x35929+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x5b9925[_0x59f59b(0x326)](_0x3b4abd);});}function scrollToToday(){const _0x31ea3a=a2_0x31dd2a,_0x30571b=getLocalDateStr(new Date()),_0x5aa338=document[_0x31ea3a(0x286)](_0x31ea3a(0x242)+_0x30571b),_0x13cc33=document[_0x31ea3a(0x286)](_0x31ea3a(0x2f9));if(_0x5aa338&&_0x13cc33){const _0x5e4967=_0x13cc33['clientWidth'],_0x296054=_0x5aa338[_0x31ea3a(0x1c2)],_0x331a36=_0x5aa338['offsetWidth'];_0x13cc33[_0x31ea3a(0x309)]=_0x296054-_0x5e4967/0x2+_0x331a36/0x2,_0x13cc33[_0x31ea3a(0x2d0)]=0x9*GRID_H;}}function onScroll(){const _0x5ee41a=a2_0x31dd2a,_0x458721=document[_0x5ee41a(0x286)](_0x5ee41a(0x2f9)),_0x2729c9=document[_0x5ee41a(0x263)](_0x5ee41a(0x22a));for(let _0x5aa26e of _0x2729c9)if(_0x5aa26e[_0x5ee41a(0x1c2)]>=_0x458721['scrollLeft']){const _0x3c8a5b=new Date(_0x5aa26e[_0x5ee41a(0x2c8)](_0x5ee41a(0x27b)));document[_0x5ee41a(0x286)](_0x5ee41a(0x317))['textContent']=_0x3c8a5b['toLocaleString']('ru',{'month':_0x5ee41a(0x1f0)})[_0x5ee41a(0x2ce)]()+'\x20'+_0x3c8a5b[_0x5ee41a(0x24c)]();break;}}function showToast(_0x600233,_0x6bfc5b=![]){const _0x5a6e6d=a2_0x31dd2a,_0x48efa7=document[_0x5a6e6d(0x286)]('toast');_0x48efa7[_0x5a6e6d(0x279)]=_0x5a6e6d(0x2b6)+(_0x6bfc5b?_0x5a6e6d(0x1fa):''),document['getElementById'](_0x5a6e6d(0x261))[_0x5a6e6d(0x239)]=_0x6bfc5b?'–£—Å–ø–µ—à–Ω–æ':_0x5a6e6d(0x210),document[_0x5a6e6d(0x286)](_0x5a6e6d(0x272))[_0x5a6e6d(0x239)]=_0x600233,_0x48efa7['classList']['add']('show'),setTimeout(()=>{const _0x48c3ea=_0x5a6e6d;_0x48efa7[_0x48c3ea(0x1d1)]['remove'](_0x48c3ea(0x2c7));},0xbb8);}function openDayOptions(_0x455264,_0x2f91c7){const _0x204942=a2_0x31dd2a;selectedDayForOptions=_0x455264,document[_0x204942(0x286)](_0x204942(0x1da))['textContent']=_0x2f91c7,openSheet(_0x204942(0x32d));}function toggleDayOff(){const _0xf059e6=a2_0x31dd2a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0xf059e6(0x305)](_0xf059e6(0x2e9),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x32d378){const _0x4ffb98=a2_0x31dd2a;document[_0x4ffb98(0x286)](_0x4ffb98(0x243))[_0x4ffb98(0x1d1)]['add'](_0x4ffb98(0x2ea)),document[_0x4ffb98(0x286)](_0x32d378)[_0x4ffb98(0x1d1)][_0x4ffb98(0x26c)](_0x4ffb98(0x2f8));}function closeAllSheets(){const _0x5d1bce=a2_0x31dd2a;document['getElementById'](_0x5d1bce(0x243))[_0x5d1bce(0x1d1)][_0x5d1bce(0x268)](_0x5d1bce(0x2ea)),document[_0x5d1bce(0x263)](_0x5d1bce(0x23b))[_0x5d1bce(0x23f)](_0x17ab33=>_0x17ab33['classList'][_0x5d1bce(0x268)]('open'));}function openPatternEditor(){const _0x276711=a2_0x31dd2a;closeAllSheets(),document['getElementById']('patternEditor')[_0x276711(0x1d1)][_0x276711(0x26c)](_0x276711(0x2f8)),renderPatternEditor();}function closePatternEditor(){const _0x40c68e=a2_0x31dd2a;document[_0x40c68e(0x286)]('patternEditor')[_0x40c68e(0x1d1)][_0x40c68e(0x268)]('open');}function savePattern(){const _0x861883=a2_0x31dd2a;document[_0x861883(0x286)](_0x861883(0x21a))[_0x861883(0x1d1)][_0x861883(0x268)](_0x861883(0x2f8)),reRenderBlocks(),DataManager[_0x861883(0x1ae)](),DataManager[_0x861883(0x305)](_0x861883(0x2e9),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x6c33a4=a2_0x31dd2a,_0xc38d32=document[_0x6c33a4(0x286)]('peGrid');_0xc38d32[_0x6c33a4(0x1b7)]='';const _0x17d240=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5cefaa=document[_0x6c33a4(0x2bc)]('div');_0x5cefaa[_0x6c33a4(0x279)]=_0x6c33a4(0x254),_0xc38d32[_0x6c33a4(0x326)](_0x5cefaa),_0x17d240['forEach']((_0x26a561,_0x150565)=>{const _0x3b9d8a=_0x6c33a4,_0x494332=document['createElement']('div');_0x494332['className']=_0x3b9d8a(0x2aa),_0x494332[_0x3b9d8a(0x1b7)]=_0x26a561+_0x3b9d8a(0x27a),_0x494332[_0x3b9d8a(0x2a0)]=()=>toggleColPattern(_0x150565),_0xc38d32[_0x3b9d8a(0x326)](_0x494332);});for(let _0x2d22ad=0x0;_0x2d22ad<0x18;_0x2d22ad++){const _0x3b9461=document['createElement'](_0x6c33a4(0x303));_0x3b9461['className']=_0x6c33a4(0x1c6),_0x3b9461[_0x6c33a4(0x1b7)]=_0x6c33a4(0x2bb)+String(_0x2d22ad)[_0x6c33a4(0x1ff)](0x2,'0')+':00',_0x3b9461[_0x6c33a4(0x2a0)]=()=>toggleRowPattern(_0x2d22ad),_0xc38d32['appendChild'](_0x3b9461);for(let _0x2f5fd7=0x0;_0x2f5fd7<0x7;_0x2f5fd7++){const _0x459276=document['createElement'](_0x6c33a4(0x303)),_0x2664e4=(availabilityPattern[_0x2f5fd7]||[])[_0x6c33a4(0x1ed)](_0x2d22ad),_0x38cd91=!_0x2664e4;_0x459276[_0x6c33a4(0x279)]='pe-cell\x20'+(_0x38cd91?_0x6c33a4(0x2ea):''),_0x459276[_0x6c33a4(0x2a0)]=()=>toggleSinglePattern(_0x2f5fd7,_0x2d22ad),_0xc38d32[_0x6c33a4(0x326)](_0x459276);}}}function toggleSinglePattern(_0x5163ac,_0x2587ff){const _0x7434b7=a2_0x31dd2a;if(!availabilityPattern[_0x5163ac])availabilityPattern[_0x5163ac]=[];const _0x1ecdd9=availabilityPattern[_0x5163ac],_0x22d8b0=_0x1ecdd9[_0x7434b7(0x201)](_0x2587ff);_0x22d8b0===-0x1?_0x1ecdd9[_0x7434b7(0x252)](_0x2587ff):_0x1ecdd9['splice'](_0x22d8b0,0x1),renderPatternEditor();}function toggleColPattern(_0x42d32f){if(!availabilityPattern[_0x42d32f])availabilityPattern[_0x42d32f]=[];const _0x31c707=availabilityPattern[_0x42d32f];_0x31c707['length']===0x0?availabilityPattern[_0x42d32f]=Array['from']({'length':0x18},(_0x5361c4,_0x3cfd93)=>_0x3cfd93):availabilityPattern[_0x42d32f]=[],renderPatternEditor();}function toggleRowPattern(_0x2bc5c6){const _0x39a747=a2_0x31dd2a;let _0x1602c8=!![];for(let _0x352d7b=0x0;_0x352d7b<0x7;_0x352d7b++){if((availabilityPattern[_0x352d7b]||[])[_0x39a747(0x1ed)](_0x2bc5c6)){_0x1602c8=![];break;}}for(let _0x5b6fc3=0x0;_0x5b6fc3<0x7;_0x5b6fc3++){if(!availabilityPattern[_0x5b6fc3])availabilityPattern[_0x5b6fc3]=[];const _0x5dcb3b=availabilityPattern[_0x5b6fc3]['indexOf'](_0x2bc5c6);if(_0x1602c8){if(_0x5dcb3b===-0x1)availabilityPattern[_0x5b6fc3][_0x39a747(0x252)](_0x2bc5c6);}else{if(_0x5dcb3b!==-0x1)availabilityPattern[_0x5b6fc3][_0x39a747(0x2b2)](_0x5dcb3b,0x1);}}renderPatternEditor();}function renderPCol(_0x297985,_0x2086fe){const _0x4a5c52=a2_0x31dd2a;_0x297985[_0x4a5c52(0x1b7)]='';const _0x9d8a64=Math[_0x4a5c52(0x2a2)](_0x297985['offsetLeft']);(availabilityPattern[_0x2086fe]||[])['forEach'](_0x47fd08=>{const _0x19de7c=_0x4a5c52,_0x3d2aff=document[_0x19de7c(0x2bc)]('div');_0x3d2aff['className']=_0x19de7c(0x207);const _0x48d8b3=_0x47fd08*GRID_H;_0x3d2aff[_0x19de7c(0x2cf)][_0x19de7c(0x27c)]=_0x48d8b3+'px',_0x3d2aff[_0x19de7c(0x2cf)][_0x19de7c(0x2cb)]='-'+_0x9d8a64+_0x19de7c(0x1d0)+_0x48d8b3+'px',_0x3d2aff[_0x19de7c(0x2a0)]=_0x13496c=>{const _0x2cc2f4=_0x19de7c;_0x13496c[_0x2cc2f4(0x1d9)](),toggleSinglePattern(_0x2086fe,_0x47fd08);},_0x297985[_0x19de7c(0x326)](_0x3d2aff);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x295219=a2_0x31dd2a,_0x2ab86a=new Date(),_0x5d8fe=document[_0x295219(0x286)](_0x295219(0x280)),_0x42a948=document[_0x295219(0x286)]('timeLineBadge'),_0x21abbd=(_0x2ab86a['getHours']()*0x3c+_0x2ab86a[_0x295219(0x2d1)]())/0x3c*GRID_H;_0x5d8fe[_0x295219(0x2cf)]['top']=_0x21abbd+'px',_0x5d8fe['style']['display']=_0x295219(0x2f5),_0x42a948[_0x295219(0x239)]=String(_0x2ab86a[_0x295219(0x289)]())[_0x295219(0x1ff)](0x2,'0')+':'+String(_0x2ab86a[_0x295219(0x2d1)]())[_0x295219(0x1ff)](0x2,'0'),_0x42a948['style'][_0x295219(0x322)]=_0x295219(0x2f5),_0x42a948[_0x295219(0x2cf)][_0x295219(0x27c)]=_0x21abbd+'px';}document[a2_0x31dd2a(0x216)](a2_0x31dd2a(0x247),init);function openDayOptions(_0x53061f){const _0xe515da=a2_0x31dd2a;selectedDayForOptions=_0x53061f;const _0x1a15bf=new Date(_0x53061f),_0xb07b26={'weekday':_0xe515da(0x1f0),'day':_0xe515da(0x220),'month':_0xe515da(0x1f0),'year':_0xe515da(0x220)},_0x5a1e21=_0x1a15bf[_0xe515da(0x217)]('ru-RU',_0xb07b26);document[_0xe515da(0x286)]('doDateHeader')['textContent']=_0x5a1e21[_0xe515da(0x1f4)](0x0)[_0xe515da(0x2ce)]()+_0x5a1e21['slice'](0x1);let _0x163b50=_0x1a15bf[_0xe515da(0x25f)]()-0x1;if(_0x163b50===-0x1)_0x163b50=0x6;const _0x1b447e=availabilityPattern[_0x163b50]||[],_0x2e6f82=0x18-_0x1b447e[_0xe515da(0x24a)],_0x1d5986=_0x2e6f82*0x3c,_0x45acf4=sessions['filter'](_0x44c93d=>_0x44c93d[_0xe515da(0x283)]===_0x53061f&&_0x44c93d['status']!==_0xe515da(0x328));let _0xb6ad06=_0x45acf4[_0xe515da(0x29b)](_0x5981ed=>{const _0x340b4f=_0xe515da,[_0x2d8af1,_0x3e1226]=_0x5981ed[_0x340b4f(0x330)]['split'](':')[_0x340b4f(0x29b)](Number),[_0x1df2b7,_0x8092f5]=_0x5981ed[_0x340b4f(0x2dd)][_0x340b4f(0x235)](':')[_0x340b4f(0x29b)](Number);return[_0x2d8af1*0x3c+_0x3e1226,_0x1df2b7*0x3c+_0x8092f5];});_0xb6ad06[_0xe515da(0x2bd)]((_0x164c6c,_0x1186c3)=>_0x164c6c[0x0]-_0x1186c3[0x0]);let _0x333dcd=[];if(_0xb6ad06['length']>0x0){let _0x2e8ed0=_0xb6ad06[0x0];for(let _0x17cb63=0x1;_0x17cb63<_0xb6ad06[_0xe515da(0x24a)];_0x17cb63++){_0xb6ad06[_0x17cb63][0x0]<_0x2e8ed0[0x1]?_0x2e8ed0[0x1]=Math[_0xe515da(0x264)](_0x2e8ed0[0x1],_0xb6ad06[_0x17cb63][0x1]):(_0x333dcd[_0xe515da(0x252)](_0x2e8ed0),_0x2e8ed0=_0xb6ad06[_0x17cb63]);}_0x333dcd[_0xe515da(0x252)](_0x2e8ed0);}let _0x802f1d=0x0;_0x333dcd[_0xe515da(0x23f)](_0x504de2=>_0x802f1d+=_0x504de2[0x1]-_0x504de2[0x0]),document['getElementById']('doWorkHours')[_0xe515da(0x239)]=formatMinsToHrs(_0x1d5986),document['getElementById'](_0xe515da(0x32e))['textContent']=formatMinsToHrs(_0x802f1d);const _0x46bedc=_0x1d5986>0x0?Math['round'](_0x802f1d/_0x1d5986*0x64):0x0,_0x1215e4=document[_0xe515da(0x286)](_0xe515da(0x260));_0x1215e4[_0xe515da(0x239)]=_0x46bedc+'%';const _0x20e937=document[_0xe515da(0x286)]('statLoadCard');if(_0x46bedc>0x64)_0x1215e4['style'][_0xe515da(0x202)]=_0xe515da(0x285),_0x20e937[_0xe515da(0x2cf)]['borderColor']=_0xe515da(0x32a);else _0x46bedc>0x50?(_0x1215e4[_0xe515da(0x2cf)][_0xe515da(0x202)]=_0xe515da(0x313),_0x20e937[_0xe515da(0x2cf)][_0xe515da(0x2e2)]=_0xe515da(0x1d3)):(_0x1215e4[_0xe515da(0x2cf)][_0xe515da(0x202)]=_0xe515da(0x299),_0x20e937[_0xe515da(0x2cf)]['borderColor']=_0xe515da(0x276));const _0x39278b=document[_0xe515da(0x286)](_0xe515da(0x2fd));_0x39278b[_0xe515da(0x1b7)]='';_0x45acf4[_0xe515da(0x24a)]===0x0?_0x39278b[_0xe515da(0x1b7)]=_0xe515da(0x20f):(_0x45acf4[_0xe515da(0x2bd)]((_0x503e2b,_0x479b34)=>_0x503e2b[_0xe515da(0x330)][_0xe515da(0x1d6)](_0x479b34[_0xe515da(0x330)])),_0x45acf4[_0xe515da(0x23f)](_0x5bb48b=>{const _0xe26872=_0xe515da,_0x2dfe6d=clients[_0xe26872(0x308)](_0x10a3aa=>_0x10a3aa[_0xe26872(0x1b8)]===_0x5bb48b[_0xe26872(0x297)]),_0x3cfbd6=_0x2dfe6d?_0x2dfe6d[_0xe26872(0x202)]:'#fff',_0x62ec3d=_0x5bb48b[_0xe26872(0x24e)]===_0xe26872(0x2d9),_0x223265=_0x62ec3d?_0xe26872(0x1d2):'',_0x188ce6=document[_0xe26872(0x2bc)](_0xe26872(0x303));_0x188ce6['className']='de-item',_0x188ce6[_0xe26872(0x2cf)][_0xe26872(0x2d4)]=_0x3cfbd6,_0x188ce6['innerHTML']=_0xe26872(0x298)+_0x5bb48b[_0xe26872(0x330)]+_0xe26872(0x228)+_0x5bb48b[_0xe26872(0x2dd)]+_0xe26872(0x21e)+_0x5bb48b[_0xe26872(0x297)]+_0xe26872(0x265)+_0x223265+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x39278b[_0xe26872(0x326)](_0x188ce6);}));const _0x1592d4=document[_0xe515da(0x286)](_0xe515da(0x1cf)),_0x3b9f3b=dateExceptions[_0x53061f]===_0xe515da(0x2ee);_0x3b9f3b?(_0x1592d4[_0xe515da(0x239)]=_0xe515da(0x275),_0x1592d4[_0xe515da(0x279)]=_0xe515da(0x31a),_0x1592d4[_0xe515da(0x2cf)]['color']='var(--acc-green)',_0x1592d4[_0xe515da(0x2cf)][_0xe515da(0x1f5)]=_0xe515da(0x2b0)):(_0x1592d4[_0xe515da(0x239)]=_0xe515da(0x267),_0x1592d4['className']=_0xe515da(0x24f),_0x1592d4['style'][_0xe515da(0x202)]='var(--acc-red)',_0x1592d4[_0xe515da(0x2cf)][_0xe515da(0x1f5)]=_0xe515da(0x256)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x31dd2a(0x315);function openAnalytics(){const _0x3e249d=a2_0x31dd2a,_0x266932=document[_0x3e249d(0x28f)]('.period-switch\x20.p-btn');setAnalyticsPeriod('week',_0x266932),closeAllSheets(),openSheet(_0x3e249d(0x226));}function setAnalyticsPeriod(_0xb60b81,_0x5f2783){const _0x3c3d98=a2_0x31dd2a;currentAnPeriod=_0xb60b81,document[_0x3c3d98(0x263)](_0x3c3d98(0x203))[_0x3c3d98(0x23f)](_0x41f67e=>_0x41f67e[_0x3c3d98(0x1d1)][_0x3c3d98(0x268)](_0x3c3d98(0x2ea)));if(_0x5f2783)_0x5f2783['classList'][_0x3c3d98(0x26c)]('active');const _0x1c44bb=document['getElementById']('anCustomDates');_0x1c44bb[_0x3c3d98(0x2cf)][_0x3c3d98(0x322)]=_0xb60b81==='custom'?_0x3c3d98(0x262):_0x3c3d98(0x200);const _0x29e8ef=new Date();let _0x20b4cd=new Date(),_0x560cdc=new Date();if(_0xb60b81==='week')_0x20b4cd=getStartOfWeek(_0x29e8ef),_0x560cdc=new Date(_0x20b4cd),_0x560cdc[_0x3c3d98(0x244)](_0x560cdc[_0x3c3d98(0x306)]()+0x6);else{if(_0xb60b81==='month')_0x20b4cd=new Date(_0x29e8ef['getFullYear'](),_0x29e8ef[_0x3c3d98(0x1e2)](),0x1),_0x560cdc=new Date(_0x29e8ef[_0x3c3d98(0x24c)](),_0x29e8ef['getMonth']()+0x1,0x0);else{!document[_0x3c3d98(0x286)]('anStart')['value']&&(document[_0x3c3d98(0x286)](_0x3c3d98(0x233))[_0x3c3d98(0x22d)]=getLocalDateStr(_0x29e8ef),document[_0x3c3d98(0x286)]('anEnd')['value']=getLocalDateStr(_0x29e8ef));refreshAnalytics();return;}}document[_0x3c3d98(0x286)](_0x3c3d98(0x233))[_0x3c3d98(0x22d)]=getLocalDateStr(_0x20b4cd),document[_0x3c3d98(0x286)]('anEnd')['value']=getLocalDateStr(_0x560cdc),refreshAnalytics();}function refreshAnalytics(){const _0x42d48f=a2_0x31dd2a,_0x47dd32=document[_0x42d48f(0x286)](_0x42d48f(0x233))['value'],_0x21861f=document['getElementById'](_0x42d48f(0x1bf))[_0x42d48f(0x22d)];if(!_0x47dd32||!_0x21861f)return;const _0x27dbed=sessions[_0x42d48f(0x20e)](_0x256cfc=>_0x256cfc[_0x42d48f(0x283)]>=_0x47dd32&&_0x256cfc[_0x42d48f(0x283)]<=_0x21861f&&_0x256cfc[_0x42d48f(0x24e)]!=='cancelled'),_0x2930ff=_0x27dbed[_0x42d48f(0x24a)],_0x3c40c5=_0x27dbed[_0x42d48f(0x20e)](_0x34cbb2=>_0x34cbb2[_0x42d48f(0x24e)]===_0x42d48f(0x2d9))[_0x42d48f(0x24a)],_0x52e979=_0x2930ff>0x0?Math[_0x42d48f(0x2a2)](_0x3c40c5/_0x2930ff*0x64):0x0;document['getElementById']('anPercent')[_0x42d48f(0x239)]=_0x52e979+'%',document['getElementById'](_0x42d48f(0x271))[_0x42d48f(0x239)]=_0x3c40c5+_0x42d48f(0x246)+_0x2930ff+_0x42d48f(0x206);const _0x2e0003=document[_0x42d48f(0x286)](_0x42d48f(0x224)),_0x32c7cf=0x2*Math['PI']*0x23,_0x98129a=_0x32c7cf-_0x52e979/0x64*_0x32c7cf;_0x2e0003[_0x42d48f(0x2cf)][_0x42d48f(0x2ed)]=_0x98129a;const _0x15f841={};_0x27dbed[_0x42d48f(0x23f)](_0x348c29=>{const _0x319df1=_0x42d48f;if(!_0x15f841[_0x348c29[_0x319df1(0x297)]]){const _0x59e164=clients[_0x319df1(0x308)](_0x3edb48=>_0x3edb48[_0x319df1(0x1b8)]===_0x348c29[_0x319df1(0x297)]);_0x15f841[_0x348c29['client']]={'total':0x0,'done':0x0,'color':_0x59e164?_0x59e164[_0x319df1(0x202)]:_0x319df1(0x323)};}_0x15f841[_0x348c29[_0x319df1(0x297)]]['total']++;if(_0x348c29['status']==='completed')_0x15f841[_0x348c29['client']][_0x319df1(0x2da)]++;});const _0x2609b2=document[_0x42d48f(0x286)](_0x42d48f(0x250));_0x2609b2['innerHTML']='';const _0x4c49ae=Object['entries'](_0x15f841)[_0x42d48f(0x2bd)]((_0x1eda71,_0x2cf7ec)=>_0x2cf7ec[0x1][_0x42d48f(0x2e1)]-_0x1eda71[0x1][_0x42d48f(0x2e1)]);if(_0x4c49ae[_0x42d48f(0x24a)]===0x0){_0x2609b2[_0x42d48f(0x1b7)]=_0x42d48f(0x2d3);return;}_0x4c49ae[_0x42d48f(0x23f)](([_0x2dad65,_0x18e720])=>{const _0x1d2b3d=_0x42d48f,_0x438e71=Math['round'](_0x18e720[_0x1d2b3d(0x2da)]/_0x18e720[_0x1d2b3d(0x2e1)]*0x64),_0x190789=document[_0x1d2b3d(0x2bc)]('div');_0x190789[_0x1d2b3d(0x279)]=_0x1d2b3d(0x1ec),_0x190789[_0x1d2b3d(0x2cf)][_0x1d2b3d(0x2d4)]=_0x18e720['color'],_0x190789['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x2dad65+_0x1d2b3d(0x1c1)+_0x18e720[_0x1d2b3d(0x2da)]+'</span>\x20/\x20'+_0x18e720[_0x1d2b3d(0x2e1)]+_0x1d2b3d(0x211)+_0x438e71+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2609b2[_0x1d2b3d(0x326)](_0x190789);});}function formatMinsToHrs(_0x15dbcf){const _0x1dc89a=a2_0x31dd2a;if(_0x15dbcf===0x0)return'0';const _0xc2f03b=Math[_0x1dc89a(0x25a)](_0x15dbcf/0x3c),_0x518938=_0x15dbcf%0x3c;if(_0x518938===0x0)return _0xc2f03b+'—á';return _0xc2f03b+'—á\x20'+_0x518938+'–º';}