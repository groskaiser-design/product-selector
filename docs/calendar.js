const a2_0xa4ad55=a2_0x41ee;(function(_0x1455b6,_0x7d7114){const _0x3a5213=a2_0x41ee,_0x60eff8=_0x1455b6();while(!![]){try{const _0x33bd66=parseInt(_0x3a5213(0x2b3))/0x1+parseInt(_0x3a5213(0x1ac))/0x2+-parseInt(_0x3a5213(0x2c1))/0x3*(parseInt(_0x3a5213(0x1a4))/0x4)+-parseInt(_0x3a5213(0x19f))/0x5*(parseInt(_0x3a5213(0x2b9))/0x6)+parseInt(_0x3a5213(0x2b1))/0x7*(parseInt(_0x3a5213(0x1a1))/0x8)+parseInt(_0x3a5213(0x1da))/0x9*(-parseInt(_0x3a5213(0x205))/0xa)+parseInt(_0x3a5213(0x219))/0xb;if(_0x33bd66===_0x7d7114)break;else _0x60eff8['push'](_0x60eff8['shift']());}catch(_0xa1278b){_0x60eff8['push'](_0x60eff8['shift']());}}}(a2_0x4815,0x97b6c),function initTMA(){const _0x4ab39a=a2_0x41ee;try{const _0x40afc1=window[_0x4ab39a(0x168)]?.[_0x4ab39a(0x1a0)];if(!_0x40afc1)return;_0x40afc1[_0x4ab39a(0x1bb)](),_0x40afc1[_0x4ab39a(0x245)]();try{_0x40afc1['setHeaderColor'](_0x4ab39a(0x2d5)),_0x40afc1[_0x4ab39a(0x1ed)]&&_0x40afc1[_0x4ab39a(0x1ed)]('#050505');}catch(_0xa4bb48){console['log'](_0x4ab39a(0x2ba),_0xa4bb48);}try{_0x40afc1[_0x4ab39a(0x1cb)]&&(_0x40afc1['BackButton'][_0x4ab39a(0x181)](),_0x40afc1[_0x4ab39a(0x1cb)][_0x4ab39a(0x255)](),_0x40afc1[_0x4ab39a(0x1cb)][_0x4ab39a(0x2a7)](function(){const _0x37962d=_0x4ab39a;window[_0x37962d(0x236)][_0x37962d(0x197)]='router.html';}));}catch(_0x485243){console[_0x4ab39a(0x1fd)](_0x4ab39a(0x1fe),_0x485243);}try{if(_0x40afc1[_0x4ab39a(0x246)])_0x40afc1[_0x4ab39a(0x246)]();}catch(_0x108dfe){}}catch(_0x52dca5){console[_0x4ab39a(0x2cf)](_0x4ab39a(0x220),_0x52dca5);}}());function isAdmin(){const _0x4f173c=a2_0x41ee;try{const _0x4e5cd0=Number(window[_0x4f173c(0x168)]?.[_0x4f173c(0x1a0)]?.[_0x4f173c(0x1d8)]?.[_0x4f173c(0x19d)]?.['id']);return _0x4e5cd0===0xbaf7174;}catch(_0x2215ca){return![];}}const APP_VERSION=a2_0xa4ad55(0x1bc),API_URL=a2_0xa4ad55(0x192),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xa4ad55(0x1d0),KEY_SESSIONS=a2_0xa4ad55(0x27f),KEY_SETTINGS=a2_0xa4ad55(0x187);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3e4b97=a2_0xa4ad55;return window[_0x3e4b97(0x168)]?.[_0x3e4b97(0x1a0)]?.[_0x3e4b97(0x1d8)]?.[_0x3e4b97(0x19d)]?.['id']||_0x3e4b97(0x24e);},'saveLocally'(){const _0xa5318c=a2_0xa4ad55;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0xa5318c(0x1b1)](clients)),localStorage[_0xa5318c(0x261)](KEY_SESSIONS,JSON[_0xa5318c(0x1b1)](sessions)),localStorage[_0xa5318c(0x261)](KEY_SETTINGS,JSON[_0xa5318c(0x1b1)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x32de1d){console[_0xa5318c(0x2cf)](_0xa5318c(0x29b),_0x32de1d);}},'loadLocal'(){const _0x5d69ef=a2_0xa4ad55;try{const _0x212456=localStorage[_0x5d69ef(0x2c6)](KEY_CLIENTS);if(_0x212456)clients=JSON['parse'](_0x212456);const _0x4f7587=localStorage['getItem'](KEY_SESSIONS);if(_0x4f7587)sessions=JSON[_0x5d69ef(0x278)](_0x4f7587);const _0x2d6d98=localStorage[_0x5d69ef(0x2c6)](KEY_SETTINGS);if(_0x2d6d98){const _0x2e9cd6=JSON[_0x5d69ef(0x278)](_0x2d6d98);if(_0x2e9cd6[_0x5d69ef(0x194)])availabilityPattern=_0x2e9cd6[_0x5d69ef(0x194)];if(_0x2e9cd6[_0x5d69ef(0x2d3)])dateExceptions=_0x2e9cd6[_0x5d69ef(0x2d3)];if(_0x2e9cd6['ranges'])specialRanges=_0x2e9cd6[_0x5d69ef(0x1b2)];}else{for(let _0xfc6e96=0x0;_0xfc6e96<0x7;_0xfc6e96++)availabilityPattern[_0xfc6e96]=Array[_0x5d69ef(0x26e)]({'length':0xc},(_0x144778,_0x11955c)=>_0x11955c+0x9);}}catch(_0x719680){console[_0x5d69ef(0x2cf)](_0x5d69ef(0x20b),_0x719680);}},async 'fetchFromServer'(_0x3cf5e7,_0x146bdb={}){const _0x591d92=a2_0xa4ad55,_0xb08ab4=window[_0x591d92(0x168)]?.[_0x591d92(0x1a0)],_0x1d1f84={'action':_0x3cf5e7,'init_data':_0xb08ab4?.[_0x591d92(0x166)]||'',..._0x146bdb};try{const _0x6960fd=await fetch(API_URL,{'method':_0x591d92(0x2e2),'headers':{'Content-Type':_0x591d92(0x269)},'body':JSON[_0x591d92(0x1b1)](_0x1d1f84)}),_0x13a8f4=await _0x6960fd[_0x591d92(0x297)]();if(!_0x13a8f4['ok'])throw new Error(_0x13a8f4['error']||_0x591d92(0x247));return _0x13a8f4[_0x591d92(0x1b7)];}catch(_0xad8fe3){console[_0x591d92(0x2cf)](_0x591d92(0x1cc)+_0x3cf5e7+_0x591d92(0x23d),_0xad8fe3);throw _0xad8fe3;}},async 'syncLoad'(){const _0x30805a=a2_0xa4ad55,_0x156c1e=new Date(),_0x202c9e=_0x156c1e[_0x30805a(0x241)]()+'-'+String(_0x156c1e['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2a8df8=new Date(_0x156c1e);_0x2a8df8['setMonth'](_0x156c1e[_0x30805a(0x26a)]()+0x1);const _0x26b9c5=_0x2a8df8[_0x30805a(0x241)]()+'-'+String(_0x2a8df8['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2c9256=Date[_0x30805a(0x202)]();console[_0x30805a(0x1fd)](_0x30805a(0x1dc)+_0x202c9e+',\x20'+_0x26b9c5+_0x30805a(0x2da));try{const [_0x334435,_0x250200]=await Promise[_0x30805a(0x25f)]([this['fetchFromServer'](_0x30805a(0x2c4),{'month_str':_0x202c9e}),this['fetchFromServer'](_0x30805a(0x2c4),{'month_str':_0x26b9c5})]);if(lastUserActionTime>_0x2c9256)return console[_0x30805a(0x185)](_0x30805a(0x244)),![];return this[_0x30805a(0x1de)](_0x334435,_0x202c9e),this[_0x30805a(0x1de)](_0x250200,_0x26b9c5),this[_0x30805a(0x1ec)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3bce26){console[_0x30805a(0x2cf)](_0x3bce26);throw _0x3bce26;}},'mergeServerData'(_0x1a885f,_0x2a3d60){const _0x5bb51a=a2_0xa4ad55;if(!_0x1a885f)return;_0x1a885f[_0x5bb51a(0x2a8)]&&Array['isArray'](_0x1a885f[_0x5bb51a(0x2a8)])&&(clients=_0x1a885f[_0x5bb51a(0x2a8)]);if(_0x1a885f[_0x5bb51a(0x2d1)]){if(_0x1a885f['settings'][_0x5bb51a(0x194)])availabilityPattern=_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x194)];if(_0x1a885f[_0x5bb51a(0x2d1)]['exceptions'])dateExceptions=_0x1a885f[_0x5bb51a(0x2d1)]['exceptions'];if(_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x1b2)])specialRanges=_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x1b2)];if(_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x242)]){localStorage[_0x5bb51a(0x261)](_0x5bb51a(0x1df),_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x242)]);const _0x5bbc99=document[_0x5bb51a(0x1c8)](_0x5bb51a(0x243));if(_0x5bbc99)_0x5bbc99[_0x5bb51a(0x208)]=_0x1a885f[_0x5bb51a(0x2d1)][_0x5bb51a(0x242)];}}_0x1a885f['calendar']&&(sessions=sessions[_0x5bb51a(0x285)](_0x6f1405=>!_0x6f1405[_0x5bb51a(0x2dd)][_0x5bb51a(0x20e)](_0x2a3d60)),Object[_0x5bb51a(0x180)](_0x1a885f[_0x5bb51a(0x296)])[_0x5bb51a(0x298)](_0x1e1302=>{const _0x34e45d=_0x5bb51a,_0x1901cf=_0x1a885f[_0x34e45d(0x296)][_0x1e1302];_0x1901cf[_0x34e45d(0x298)](_0x2e9a87=>{const _0x5f4532=_0x34e45d,_0x2a97a7=clients['find'](_0x474031=>String(_0x474031['id'])===String(_0x2e9a87['c']));sessions[_0x5f4532(0x274)]({'id':_0x2e9a87['i'],'clientId':_0x2e9a87['c'],'client':_0x2a97a7?_0x2a97a7[_0x5f4532(0x1d5)]:'Unknown','dateStr':_0x2a3d60+'-'+_0x1e1302[_0x5f4532(0x227)](0x2,'0'),'start':_0x2e9a87['s'],'end':_0x2e9a87['e'],'status':_0x2e9a87['st']||'planned','note':_0x2e9a87['n']||'','seriesId':_0x2e9a87[_0x5f4532(0x228)]||null});});}));},async 'syncBatch'(_0x3a6812){const _0x3c39bf=a2_0xa4ad55,_0x54d12a=[...new Set(_0x3a6812)],_0x380fc6=_0x54d12a[_0x3c39bf(0x262)](_0x5958c2=>{const _0x5cae33=_0x3c39bf,_0x5b6164=sessions[_0x5cae33(0x285)](_0x51e0b8=>_0x51e0b8[_0x5cae33(0x2dd)]===_0x5958c2&&_0x51e0b8[_0x5cae33(0x24c)]!==_0x5cae33(0x2b7)),_0x4c341d=_0x5b6164[_0x5cae33(0x262)](_0x5488cb=>({'i':_0x5488cb['id'],'c':_0x5488cb[_0x5cae33(0x237)],'s':_0x5488cb['start'],'e':_0x5488cb[_0x5cae33(0x271)],'st':_0x5488cb[_0x5cae33(0x24c)],'n':_0x5488cb[_0x5cae33(0x203)],'sid':_0x5488cb[_0x5cae33(0x2db)]}));return{'date':_0x5958c2,'day_data':_0x4c341d};});if(_0x380fc6[_0x3c39bf(0x2c3)]===0x0)return;console[_0x3c39bf(0x1fd)](_0x3c39bf(0x25d)+_0x380fc6['length']+'\x20days'),await this['fetchFromServer'](_0x3c39bf(0x1b3),{'changes':_0x380fc6});}};async function init(){const _0x4456af=a2_0xa4ad55;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4456af(0x1c8)]('matrixViewport')[_0x4456af(0x23f)](_0x4456af(0x1f2),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4456af(0x231)]()[_0x4456af(0x276)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x4456af(0x234)](_0x5282b7=>{const _0x5bf213=_0x4456af;showToast(_0x5bf213(0x2b5),![]);});}function generateId(){const _0x7db7c6=a2_0xa4ad55;return Date[_0x7db7c6(0x202)]()[_0x7db7c6(0x1a7)](0x24)+Math[_0x7db7c6(0x1a8)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x3226dc=a2_0xa4ad55,_0x2000fe=document[_0x3226dc(0x1c8)](_0x3226dc(0x193))['checked'],_0x2245fa=document[_0x3226dc(0x1c8)](_0x3226dc(0x167));_0x2245fa[_0x3226dc(0x182)][_0x3226dc(0x2c7)]=_0x2000fe?_0x3226dc(0x21b):_0x3226dc(0x2b6);const _0xa0c542=document[_0x3226dc(0x1c8)](_0x3226dc(0x17e));_0xa0c542[_0x3226dc(0x182)]['borderRadius']=_0x2000fe?_0x3226dc(0x24b):'10px';}function openAddSession(_0x17ea20){const _0x270b3c=a2_0xa4ad55;editingId=null,populateClientSelect(),document[_0x270b3c(0x1c8)]('sheetTitle')[_0x270b3c(0x2ad)]=_0x270b3c(0x17c),document['getElementById'](_0x270b3c(0x186))[_0x270b3c(0x182)][_0x270b3c(0x2c7)]=_0x270b3c(0x2b6),document['getElementById']('btnStatusToggle')[_0x270b3c(0x182)][_0x270b3c(0x2c7)]=_0x270b3c(0x2b6);const _0x1ca834=document['getElementById']('recurringOptionContainer'),_0x2fc636=document['getElementById'](_0x270b3c(0x167));_0x1ca834['style'][_0x270b3c(0x2c7)]='flex',_0x1ca834[_0x270b3c(0x182)][_0x270b3c(0x1f5)]='10px',document[_0x270b3c(0x1c8)]('inpRecurring')['checked']=![],document[_0x270b3c(0x1c8)](_0x270b3c(0x28f))[_0x270b3c(0x208)]=0x4,_0x2fc636[_0x270b3c(0x182)][_0x270b3c(0x2c7)]='none',document[_0x270b3c(0x1c8)](_0x270b3c(0x1b4))[_0x270b3c(0x208)]=getLocalDateStr(_0x17ea20),updateDateDisplay();const _0x4cab16=_0x17ea20[_0x270b3c(0x2b4)]();document[_0x270b3c(0x1c8)](_0x270b3c(0x2e3))['value']=String(_0x4cab16)['padStart'](0x2,'0')+':00',document[_0x270b3c(0x1c8)]('inpEnd')[_0x270b3c(0x208)]=String(_0x4cab16+0x1)[_0x270b3c(0x227)](0x2,'0')+_0x270b3c(0x215),openSheet(_0x270b3c(0x23a));}function openEdit(_0x4f2c3a){const _0x1eedc1=a2_0xa4ad55;editingId=_0x4f2c3a['id'],populateClientSelect(),document[_0x1eedc1(0x1c8)](_0x1eedc1(0x1f7))['textContent']=_0x1eedc1(0x27a),document[_0x1eedc1(0x1c8)](_0x1eedc1(0x186))['style'][_0x1eedc1(0x2c7)]=_0x1eedc1(0x21b);const _0x5ad60e=document[_0x1eedc1(0x1c8)](_0x1eedc1(0x24f));_0x5ad60e['style']['display']=_0x1eedc1(0x1a5);_0x4f2c3a[_0x1eedc1(0x24c)]===_0x1eedc1(0x2e1)?(_0x5ad60e['className']='btn-status-toggle\x20undo-mode',_0x5ad60e[_0x1eedc1(0x25a)]=_0x1eedc1(0x275)):(_0x5ad60e['className']=_0x1eedc1(0x1d9),_0x5ad60e[_0x1eedc1(0x25a)]=_0x1eedc1(0x1f8));const _0x593081=!!_0x4f2c3a['seriesId'];document[_0x1eedc1(0x1c8)](_0x1eedc1(0x17e))[_0x1eedc1(0x182)]['display']=_0x1eedc1(0x2b6),document[_0x1eedc1(0x1c8)](_0x1eedc1(0x167))[_0x1eedc1(0x182)][_0x1eedc1(0x2c7)]=_0x1eedc1(0x2b6),_0x593081?(document[_0x1eedc1(0x1c8)](_0x1eedc1(0x257))[_0x1eedc1(0x182)][_0x1eedc1(0x2c7)]=_0x1eedc1(0x1a5),document['getElementById'](_0x1eedc1(0x257))[_0x1eedc1(0x28d)](_0x1eedc1(0x17d))[_0x1eedc1(0x2ad)]=_0x1eedc1(0x28c)):document['getElementById']('patternInfoBox')[_0x1eedc1(0x182)]['display']=_0x1eedc1(0x2b6),document[_0x1eedc1(0x1c8)](_0x1eedc1(0x1f9))['value']=_0x4f2c3a[_0x1eedc1(0x223)],document['getElementById'](_0x1eedc1(0x1b4))[_0x1eedc1(0x208)]=_0x4f2c3a[_0x1eedc1(0x2dd)],document[_0x1eedc1(0x1c8)](_0x1eedc1(0x2e3))['value']=_0x4f2c3a[_0x1eedc1(0x2cc)],document[_0x1eedc1(0x1c8)](_0x1eedc1(0x201))[_0x1eedc1(0x208)]=_0x4f2c3a[_0x1eedc1(0x271)],document[_0x1eedc1(0x1c8)](_0x1eedc1(0x21c))['value']=_0x4f2c3a[_0x1eedc1(0x203)]||'',updateDateDisplay(),openSheet(_0x1eedc1(0x23a));}async function trySaveSession(){const _0x2ac0b3=a2_0xa4ad55,_0x311fd3=document['getElementById'](_0x2ac0b3(0x1f9))[_0x2ac0b3(0x208)],_0x2008bc=document['getElementById'](_0x2ac0b3(0x1b4))[_0x2ac0b3(0x208)],_0x170681=document[_0x2ac0b3(0x1c8)](_0x2ac0b3(0x2e3))[_0x2ac0b3(0x208)],_0x79824f=document[_0x2ac0b3(0x1c8)]('inpEnd')[_0x2ac0b3(0x208)],_0x31b5c9=document[_0x2ac0b3(0x1c8)]('inpNote')['value'],_0x3088f4=document['getElementById']('inpRecurring')[_0x2ac0b3(0x286)];let _0xb56579=0x4;if(_0x3088f4){const _0x3459a9=parseInt(document[_0x2ac0b3(0x1c8)](_0x2ac0b3(0x28f))['value']);if(!_0x3459a9||_0x3459a9<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x3459a9>0x64){showToast(_0x2ac0b3(0x22a),![]);return;}_0xb56579=_0x3459a9;}const _0x4a3144=clients[_0x2ac0b3(0x24a)](_0x4efb49=>_0x4efb49[_0x2ac0b3(0x1d5)]===_0x311fd3);if(!_0x4a3144){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x426921=validateAppointment(_0x2008bc,_0x170681,_0x79824f,editingId,_0x4a3144['id']);if(!_0x426921[_0x2ac0b3(0x1cf)]){showToast(_0x426921[_0x2ac0b3(0x28e)],![]);return;}_0x426921[_0x2ac0b3(0x2af)]&&showToast(_0x426921['warning'],![]);const _0x24632e={'client':_0x311fd3,'clientId':_0x4a3144['id'],'start':_0x170681,'end':_0x79824f,'note':_0x31b5c9,'status':_0x2ac0b3(0x272)},_0x59777a=editingId?sessions['find'](_0x13971a=>_0x13971a['id']===editingId):null;if(_0x59777a&&_0x59777a['seriesId']){tempSessionData={..._0x24632e,'dateStr':_0x2008bc,'id':editingId,'seriesId':_0x59777a[_0x2ac0b3(0x2db)]},openActionSheet(_0x2ac0b3(0x2bd));return;}let _0x555cfb=null;if(!editingId)_0x555cfb=_0x2ac0b3(0x2bc);else{if(_0x59777a){if(String(_0x59777a[_0x2ac0b3(0x237)])!==String(_0x4a3144['id']))console[_0x2ac0b3(0x1fd)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x2ac0b3(0x2d6)](_0x2ac0b3(0x171),_0x59777a),_0x555cfb=_0x2ac0b3(0x2bc);else(_0x59777a[_0x2ac0b3(0x2cc)]!==_0x170681||_0x59777a[_0x2ac0b3(0x271)]!==_0x79824f||_0x59777a[_0x2ac0b3(0x2dd)]!==_0x2008bc)&&(_0x555cfb='update');}}if(!editingId&&_0x3088f4){createBatchSeries(_0x24632e,_0x2008bc,_0xb56579),NotificationManager[_0x2ac0b3(0x2d6)](_0x2ac0b3(0x2bc),{..._0x24632e,'dateStr':_0x2008bc});return;}lastUserActionTime=Date[_0x2ac0b3(0x202)]();const _0x5ea564={..._0x24632e,'dateStr':_0x2008bc,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5ea564),_0x555cfb&&NotificationManager[_0x2ac0b3(0x2d6)](_0x555cfb,_0x5ea564);}function toggleSessionStatus(){const _0x250eea=a2_0xa4ad55;lastUserActionTime=Date[_0x250eea(0x202)]();const _0x2180fd=sessions[_0x250eea(0x24a)](_0x4d3611=>_0x4d3611['id']===editingId);if(!_0x2180fd)return;const _0x1460f8=_0x2180fd[_0x250eea(0x24c)]===_0x250eea(0x2e1)?_0x250eea(0x272):_0x250eea(0x2e1);_0x2180fd[_0x250eea(0x24c)]=_0x1460f8,saveSingleSession(_0x2180fd),_0x1460f8===_0x250eea(0x2e1)&&NotificationManager[_0x250eea(0x2d6)](_0x250eea(0x2df),_0x2180fd),showToast(_0x1460f8===_0x250eea(0x2e1)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x42fa18,_0x4772fa,_0x34af26,_0xc7cf21,_0x596b0a){const _0x15fa92=a2_0xa4ad55,[_0x12b98c,_0x2cc4ee]=_0x4772fa[_0x15fa92(0x2d4)](':')[_0x15fa92(0x262)](Number),[_0x12f4a1,_0x5a8fe3]=_0x34af26[_0x15fa92(0x2d4)](':')['map'](Number),_0x1d4598=_0x12b98c*0x3c+_0x2cc4ee,_0x2bab4b=_0x12f4a1*0x3c+_0x5a8fe3,_0x370396=String(_0x596b0a);let _0x28f4c8=![],_0x39d49c='';for(let _0x37a2f9 of sessions){if(_0x37a2f9[_0x15fa92(0x2dd)]!==_0x42fa18)continue;if(_0x37a2f9[_0x15fa92(0x24c)]===_0x15fa92(0x2a1))continue;if(_0xc7cf21&&String(_0x37a2f9['id'])===String(_0xc7cf21))continue;const [_0xc1bbbd,_0x169785]=_0x37a2f9[_0x15fa92(0x2cc)]['split'](':')[_0x15fa92(0x262)](Number),[_0x25b705,_0x723d9]=_0x37a2f9[_0x15fa92(0x271)][_0x15fa92(0x2d4)](':')[_0x15fa92(0x262)](Number),_0x53c464=_0xc1bbbd*0x3c+_0x169785,_0xbbcaf1=_0x25b705*0x3c+_0x723d9;if(Math['max'](_0x1d4598,_0x53c464)<Math[_0x15fa92(0x1c5)](_0x2bab4b,_0xbbcaf1)){if(_0x37a2f9['clientId']&&String(_0x37a2f9[_0x15fa92(0x237)])===_0x370396)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x37a2f9[_0x15fa92(0x223)]+_0x15fa92(0x239)};_0x28f4c8=!![],_0x39d49c=_0x37a2f9['client'];}}if(_0x28f4c8)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x39d49c};return{'valid':!![]};}function saveSingleSession(_0x2f847b){const _0x8f632=a2_0xa4ad55;if(editingId){const _0x540d4d=sessions['findIndex'](_0x1f4468=>_0x1f4468['id']===editingId);if(_0x540d4d!==-0x1)sessions[_0x540d4d]=_0x2f847b;}else sessions[_0x8f632(0x274)](_0x2f847b);afterSaveAction([_0x2f847b[_0x8f632(0x2dd)]]);}function createBatchSeries(_0x2f2719,_0x4bd1cf,_0x1a0eb0){const _0x1a3c67=a2_0xa4ad55,_0x226152=generateId(),_0x1dc33b=[],_0x2904ec=[];let _0x5a49f0=0x0,_0x395144=new Date(_0x4bd1cf);for(let _0x5cec8f=0x0;_0x5cec8f<_0x1a0eb0;_0x5cec8f++){const _0xc9435f=getLocalDateStr(_0x395144),_0x530f70=validateAppointment(_0xc9435f,_0x2f2719[_0x1a3c67(0x2cc)],_0x2f2719[_0x1a3c67(0x271)],null,_0x2f2719[_0x1a3c67(0x237)]);if(!_0x530f70[_0x1a3c67(0x1cf)])console[_0x1a3c67(0x1fd)]('[Series]\x20Skipped\x20'+_0xc9435f+_0x1a3c67(0x1ff)),_0x5a49f0++;else{const _0x4750e8={..._0x2f2719,'id':generateId(),'dateStr':_0xc9435f,'seriesId':_0x226152};_0x2904ec[_0x1a3c67(0x274)](_0x4750e8),_0x1dc33b[_0x1a3c67(0x274)](_0xc9435f);}_0x395144['setDate'](_0x395144['getDate']()+0x7);}if(_0x2904ec['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x1a3c67(0x274)](..._0x2904ec),lastUserActionTime=Date[_0x1a3c67(0x202)]();let _0x3af07c='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x2904ec['length'];_0x5a49f0>0x0&&(_0x3af07c+=_0x1a3c67(0x1bd)+_0x5a49f0+')'),showToast(_0x3af07c,!![]),afterSaveAction(_0x1dc33b);}function updateSeriesBatch(_0x4a380f,_0x1bd465){const _0x35e7f6=a2_0xa4ad55,_0x2f2248=[],_0x218c9a=_0x1bd465['seriesId'];if(_0x4a380f==='single'){const _0x24fa33={..._0x1bd465,'seriesId':null},_0xec0b94=sessions[_0x35e7f6(0x1f1)](_0x1e26c5=>_0x1e26c5['id']===_0x1bd465['id']);if(_0xec0b94!==-0x1)sessions[_0xec0b94]=_0x24fa33;_0x2f2248[_0x35e7f6(0x274)](_0x24fa33[_0x35e7f6(0x2dd)]);}else{if(_0x4a380f===_0x35e7f6(0x21d)){const _0xc28d1b=_0x1bd465[_0x35e7f6(0x2dd)];sessions[_0x35e7f6(0x298)]((_0x51898f,_0x36423e)=>{const _0x1acf84=_0x35e7f6;_0x51898f[_0x1acf84(0x2db)]===_0x218c9a&&_0x51898f[_0x1acf84(0x2dd)]>=_0xc28d1b&&(sessions[_0x36423e]={...sessions[_0x36423e],'start':_0x1bd465[_0x1acf84(0x2cc)],'end':_0x1bd465['end'],'note':_0x1bd465['note'],'client':_0x1bd465[_0x1acf84(0x223)],'clientId':_0x1bd465[_0x1acf84(0x237)]},_0x2f2248['push'](_0x51898f[_0x1acf84(0x2dd)]));});}}afterSaveAction(_0x2f2248);}function tryDeleteSession(){const _0x38b255=a2_0xa4ad55,_0x159ccd=sessions[_0x38b255(0x24a)](_0x23fe58=>_0x23fe58['id']===editingId);if(!_0x159ccd)return;_0x159ccd['seriesId']?openActionSheet('delete'):commitDelete('single',_0x159ccd);}function commitDelete(_0xfa29d4,_0x5dfbed){const _0x379a77=a2_0xa4ad55;lastUserActionTime=Date[_0x379a77(0x202)](),NotificationManager[_0x379a77(0x2d6)]('cancel',_0x5dfbed);const _0x15933b=[];if(_0xfa29d4===_0x379a77(0x20d))sessions=sessions[_0x379a77(0x285)](_0x25ce69=>_0x25ce69['id']!==_0x5dfbed['id']),_0x15933b[_0x379a77(0x274)](_0x5dfbed[_0x379a77(0x2dd)]);else{if(_0xfa29d4===_0x379a77(0x21d)){const _0x2a8a82=_0x5dfbed[_0x379a77(0x2dd)],_0x3346c9=_0x5dfbed[_0x379a77(0x2db)];sessions[_0x379a77(0x298)](_0x525a43=>{const _0x1bc9da=_0x379a77;_0x525a43[_0x1bc9da(0x2db)]===_0x3346c9&&_0x525a43['dateStr']>=_0x2a8a82&&_0x15933b['push'](_0x525a43[_0x1bc9da(0x2dd)]);}),sessions=sessions[_0x379a77(0x285)](_0x4484cd=>!(_0x4484cd['seriesId']===_0x3346c9&&_0x4484cd[_0x379a77(0x2dd)]>=_0x2a8a82));}}afterSaveAction(_0x15933b);}function afterSaveAction(_0x3b35e0){const _0x1c3542=a2_0xa4ad55;DataManager[_0x1c3542(0x1ec)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x1c3542(0x1d4)](_0x3b35e0)[_0x1c3542(0x276)](()=>console['log']('Batch\x20Sync\x20OK'))['catch'](_0x1a607f=>showToast(_0x1c3542(0x28b),![]));}const NotificationManager={'formatDate'(_0x300ba4){const _0x30087d=a2_0xa4ad55,_0x5f28ed=new Date(_0x300ba4),_0x31572b={'weekday':'long','day':'numeric','month':_0x30087d(0x22f)};let _0x5b30c3=_0x5f28ed[_0x30087d(0x2c2)](_0x30087d(0x19e),_0x31572b);return _0x5b30c3['charAt'](0x0)[_0x30087d(0x293)]()+_0x5b30c3['slice'](0x1);},'getText'(_0x2412f5,_0x4d3b5b){const _0x1aeb1f=a2_0xa4ad55,_0x53c882=this[_0x1aeb1f(0x1ee)](_0x4d3b5b[_0x1aeb1f(0x2dd)]);switch(_0x2412f5){case'create':return _0x1aeb1f(0x1fb)+(_0x1aeb1f(0x27e)+_0x53c882+'\x0a')+(_0x1aeb1f(0x279)+_0x4d3b5b[_0x1aeb1f(0x2cc)]+_0x1aeb1f(0x2d2)+_0x4d3b5b[_0x1aeb1f(0x271)]+'\x0a\x0a')+_0x1aeb1f(0x2be);case'update':return _0x1aeb1f(0x209)+_0x1aeb1f(0x165)+(_0x1aeb1f(0x18e)+_0x4d3b5b[_0x1aeb1f(0x2cc)]+_0x1aeb1f(0x2d2)+_0x4d3b5b[_0x1aeb1f(0x271)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x53c882);case'cancel':return _0x1aeb1f(0x2e6)+(_0x1aeb1f(0x1f0)+_0x53c882+'\x20('+_0x4d3b5b[_0x1aeb1f(0x2cc)]+_0x1aeb1f(0x2a0));case _0x1aeb1f(0x2df):return _0x1aeb1f(0x253)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x1aeb1f(0x258);default:return'';}},async 'send'(_0x1bb7ea,_0x46b3ee){const _0x564605=a2_0xa4ad55;console[_0x564605(0x1fd)](_0x564605(0x2a6),_0x1bb7ea,_0x46b3ee);if(!_0x46b3ee){console['error'](_0x564605(0x2ae));return;}const _0x5ee666=String(_0x46b3ee[_0x564605(0x237)]);console[_0x564605(0x1fd)](_0x564605(0x216),_0x5ee666);if(!_0x46b3ee['clientId']||_0x5ee666===_0x564605(0x16c)||_0x5ee666==='null'){console[_0x564605(0x2cf)](_0x564605(0x289));if(_0x46b3ee[_0x564605(0x223)]){const _0x2351e1=clients['find'](_0x5bf9dc=>_0x5bf9dc[_0x564605(0x1d5)]===_0x46b3ee[_0x564605(0x223)]);if(_0x2351e1)return console[_0x564605(0x1fd)](_0x564605(0x1be),_0x2351e1['id']),this['send'](_0x1bb7ea,{..._0x46b3ee,'clientId':_0x2351e1['id']});}return;}if(_0x5ee666[_0x564605(0x2c3)]<0x5){console[_0x564605(0x185)](_0x564605(0x240),_0x5ee666);return;}const _0x5a2495=this['getText'](_0x1bb7ea,_0x46b3ee);if(!_0x5a2495){console[_0x564605(0x2cf)](_0x564605(0x191));return;}console[_0x564605(0x1fd)](_0x564605(0x175)+_0x5ee666+_0x564605(0x2da)),DataManager[_0x564605(0x1eb)]('send_notification',{'chatId':_0x5ee666,'text':_0x5a2495})['then'](_0x8890a3=>console['log'](_0x564605(0x1b9),_0x8890a3))[_0x564605(0x234)](_0x40e51e=>console[_0x564605(0x2cf)](_0x564605(0x254),_0x40e51e));}};function getLocalDateStr(_0x55a966){const _0x2872d7=a2_0xa4ad55,_0x1cc040=_0x55a966[_0x2872d7(0x241)](),_0x4dc1f0=String(_0x55a966[_0x2872d7(0x26a)]()+0x1)[_0x2872d7(0x227)](0x2,'0'),_0x5dd4d3=String(_0x55a966['getDate']())[_0x2872d7(0x227)](0x2,'0');return _0x1cc040+'-'+_0x4dc1f0+'-'+_0x5dd4d3;}function a2_0x4815(){const _0x3a74d8=['zIndex','doBusyHours','statLoadCard',':00</span>','timeColumn','toast','text/plain;charset=UTF-8','getMonth','header-','borderLeftColor','offsetWidth','from','setHours','createDocumentFragment','end','planned','round','push','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','then','blocked-slot\x20stripe-bg','parse','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','.day-off-overlay','getDate','splice','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','uc_sessions_v9','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMinutes','var(--acc-green)','touchmove','insertBefore','filter','checked','T23:59:59','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','btnDayToggle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','querySelector','msg','inpSeriesCount','clientY','asTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–£–¥–∞–ª–µ–Ω–∏–µ','calendar','json','forEach','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','Local\x20Save\x20Error','overlay','analyticsSheet','.event-card','rangeEndDate',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','cancelled','var(--acc-current)','btn-primary\x20btn-secondary','touches','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20Attempting\x20to\x20send:','onClick','clients','rgba(255,\x2069,\x2058,\x200.15)','sort','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','backgroundPosition','textContent','[Notify]\x20Error:\x20sessionData\x20is\x20null','warning','rangeStartDate','14TbiUAb','pe-time-label','921791YHVTrR','getHours','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','none','deleted','DOMContentLoaded','1998192jtFNeY','Error\x20setting\x20color:','daysHeaderTrack','create','save','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','onclick','.sheet','3MOyluJ','toLocaleDateString','length','init_load','appendChild','getItem','display','rangeStartTime','anCustomDates','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','start','today','charAt','error','max','settings','\x20‚Äî\x20','exceptions','split','#050505','send','px\x20-','day-off-overlay\x20stripe-bg','includes','...','seriesId','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','dateStr','#0a84ff','complete','color','completed','POST','inpStart','.dch-stats-fill','toastTitle','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','delete','classList','colIndex','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','initData','seriesCountContainer','Telegram','scrollLeft','open','</span>\x20/\x20','undefined','day-column\x20','getTime','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','doWorkHours','cancel','range-item','rgba(48,\x20209,\x2088,\x200.15)','stat-','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','scrollWidth','querySelectorAll','settingsSheet','getAttribute','calc(','<div\x20class=\x22ev-title\x22>','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','.pib-text','recurringOptionContainer','</div><div\x20class=\x22dch-num\x22>','keys','show','style','custom','top','warn','btnDelete','uc_settings_v9','setAttribute','option','–ò–Ω—Ñ–æ','slice','actionSheetOverlay','toastMessage','<b>‚úÖ\x20','var(--acc-orange)','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','inpRecurring','pattern','off','mouseup','href','rgba(100,100,100,0.5)','anDonutCircle','rgba(','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','done','user','ru-RU','5jITjaL','WebApp','1283144WPRfLw','entries','borderColor','3681836UEoMUo','flex','rgba(255,255,255,0.05)','toString','random','</div><div\x20class=\x22ev-time\x22>','doLoadPercent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1171956NAKXNm','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','week','total','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','stringify','ranges','batch_sync','inpDate','\x20status-completed','%\x20+\x202px)','data','scrollTop','[Notify]\x20Server\x20Response:','doDateHeader','ready','v9.0-BATCH-CALENDAR','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','anEnd','toast-notification\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','rangesSheet','offsetLeft','min','pe-col-header','peGrid','getElementById','\x20-\x20','var(--acc-red)','BackButton','[API\x20','background','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','valid','uc_clients_v9','asBtnSeries','[Settings]\x20Cancel\x20window\x20set\x20to:','timeLineBadge','syncBatch','name','sheetDateSubtitle','pe-corner','initDataUnsafe','btn-status-toggle','9JwkPLV','toFixed','[Sync]\x20Loading\x20','active','mergeServerData','uc_settings_cancel_window','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','dayOptionsTitle','rangesList','add','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','blocked-range-part\x20stripe-bg','touchstart',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','text','as-button\x20danger','fetchFromServer','saveLocally','setBackgroundColor','formatDate','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','findIndex','scroll','</div>','clientWidth','borderRadius','dayOptionsSheet','sheetTitle','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','inpClient','div','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','matrixViewport','log','Error\x20setting\x20back\x20button:',':\x20Client\x20already\x20booked','<div\x20class=\x22dch-day\x22>','inpEnd','now','note','floor','1909730TmzIvx','(((.+)+)+)+$','closest','value','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','anStart','Local\x20Load\x20Error','00:00','single','startsWith','event-card','%\x20-\x204px)','save_settings','left','.day-column','numeric',':00','[Notify]\x20Detected\x20Client\x20ID:','data-date','rgba(255,\x2069,\x2058,\x200.3)','2610619dpyFDd','#fff','block','inpNote','series','data-day-idx','stopPropagation','Critical\x20TMA\x20Error:','asBtnOne','anTotalStats','client','createElement','rangeEndTime','btn-primary\x20btn-danger','padStart','sid','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','headerMonth','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','patternEditor','long','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','syncLoad','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','catch','gridColumns','location','clientId','.day-col-header',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','sessionSheet','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','mini',']\x20Failed:','getDay','addEventListener','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','getFullYear','cancel_window','settingCancelWindow','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','expand','disableVerticalSwipes','Server\x20Error','T00:00:00','setDate','find','10px\x2010px\x200\x200','status','remove','guest','btnStatusToggle','search','rgba(255,\x20159,\x2010,\x200.3)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','[Notify]\x20Network\x20Failed','offClick','width','patternInfoBox','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','doEventsList','innerHTML','height','100%','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','className','all',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','setItem','map'];a2_0x4815=function(){return _0x3a74d8;};return a2_0x4815();}function getDateStr(_0xf0800c){const _0x53d22b=a2_0xa4ad55,_0x1ee86d=new Date();return _0x1ee86d[_0x53d22b(0x249)](_0x1ee86d[_0x53d22b(0x27c)]()+_0xf0800c),getLocalDateStr(_0x1ee86d);}function getStartOfWeek(_0x353481){const _0x1bf167=a2_0xa4ad55,_0x2cb37f=(function(){let _0x57a69a=!![];return function(_0x869fc,_0x47a3d3){const _0x403934=_0x57a69a?function(){if(_0x47a3d3){const _0x5e845d=_0x47a3d3['apply'](_0x869fc,arguments);return _0x47a3d3=null,_0x5e845d;}}:function(){};return _0x57a69a=![],_0x403934;};}()),_0x473cec=_0x2cb37f(this,function(){const _0x557f87=a2_0x41ee;return _0x473cec['toString']()[_0x557f87(0x250)](_0x557f87(0x206))[_0x557f87(0x1a7)]()['constructor'](_0x473cec)['search'](_0x557f87(0x206));});_0x473cec();const _0x23a266=new Date(_0x353481),_0x208ddb=_0x23a266[_0x1bf167(0x23e)](),_0x5a93b1=_0x23a266[_0x1bf167(0x27c)]()-_0x208ddb+(_0x208ddb===0x0?-0x6:0x1);return _0x23a266[_0x1bf167(0x249)](_0x5a93b1),_0x23a266['setHours'](0x0,0x0,0x0,0x0),_0x23a266;}function hexToRgba(_0x40c357,_0x14fae9){const _0x386bdb=a2_0xa4ad55;if(!_0x40c357)return _0x386bdb(0x198);let _0x11eedb=0x0,_0x41d5c7=0x0,_0x4dc673=0x0;if(_0x40c357[_0x386bdb(0x2c3)]===0x4)_0x11eedb='0x'+_0x40c357[0x1]+_0x40c357[0x1],_0x41d5c7='0x'+_0x40c357[0x2]+_0x40c357[0x2],_0x4dc673='0x'+_0x40c357[0x3]+_0x40c357[0x3];else _0x40c357['length']===0x7&&(_0x11eedb='0x'+_0x40c357[0x1]+_0x40c357[0x2],_0x41d5c7='0x'+_0x40c357[0x3]+_0x40c357[0x4],_0x4dc673='0x'+_0x40c357[0x5]+_0x40c357[0x6]);return _0x386bdb(0x19a)+ +_0x11eedb+',\x20'+ +_0x41d5c7+',\x20'+ +_0x4dc673+',\x20'+_0x14fae9+')';}function renderTimeColumn(){const _0x1bcc8d=a2_0xa4ad55,_0x145f87=document[_0x1bcc8d(0x1c8)](_0x1bcc8d(0x267)),_0x16bdf6=document[_0x1bcc8d(0x1c8)](_0x1bcc8d(0x1d3));_0x145f87[_0x1bcc8d(0x25a)]='',_0x145f87[_0x1bcc8d(0x2c5)](_0x16bdf6);for(let _0x2125fa=0x0;_0x2125fa<0x18;_0x2125fa++){const _0x569dd3=document['createElement'](_0x1bcc8d(0x1fa));_0x569dd3[_0x1bcc8d(0x25e)]='time-label';if(_0x2125fa>0x0)_0x569dd3[_0x1bcc8d(0x25a)]='<span>'+String(_0x2125fa)[_0x1bcc8d(0x227)](0x2,'0')+_0x1bcc8d(0x266);_0x145f87[_0x1bcc8d(0x2c5)](_0x569dd3);}}function renderDayRange(_0x5d6def,_0x186ace){const _0x485476=a2_0xa4ad55,_0x4af394=document['getElementById'](_0x485476(0x2bb)),_0x2ad529=document[_0x485476(0x1c8)]('gridColumns'),_0xc8b867=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x9506bf=new Date();_0x9506bf['setHours'](0x0,0x0,0x0,0x0);const _0x555723=getLocalDateStr(new Date());for(let _0x197249=_0x5d6def;_0x197249<=_0x186ace;_0x197249++){const _0x580136=new Date(_0x9506bf);_0x580136[_0x485476(0x249)](_0x580136[_0x485476(0x27c)]()+_0x197249);const _0x1f8d3b=getLocalDateStr(_0x580136);let _0x5ae9a1=_0x580136['getDay']()-0x1;if(_0x5ae9a1===-0x1)_0x5ae9a1=0x6;const _0x36cf61=_0x1f8d3b===_0x555723,_0x52f3b1=document[_0x485476(0x224)]('div');_0x52f3b1['className']='day-col-header\x20'+(_0x36cf61?_0x485476(0x2cd):''),_0x52f3b1['id']=_0x485476(0x26b)+_0x1f8d3b,_0x52f3b1[_0x485476(0x188)](_0x485476(0x217),_0x1f8d3b),_0x52f3b1[_0x485476(0x25a)]=_0x485476(0x200)+_0xc8b867[_0x5ae9a1]+_0x485476(0x17f)+_0x580136['getDate']()+_0x485476(0x1ad)+_0x1f8d3b+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x52f3b1[_0x485476(0x2bf)]=()=>openDayOptions(_0x1f8d3b,_0xc8b867[_0x5ae9a1]+'\x20'+_0x580136[_0x485476(0x27c)]()),_0x4af394['appendChild'](_0x52f3b1);const _0x3600e1=document[_0x485476(0x224)](_0x485476(0x1fa));_0x3600e1['className']=_0x485476(0x16d)+(_0x36cf61?'today':''),_0x3600e1[_0x485476(0x188)](_0x485476(0x217),_0x1f8d3b),_0x3600e1[_0x485476(0x188)](_0x485476(0x21e),_0x5ae9a1),renderEventsForColumn(_0x3600e1,_0x1f8d3b,_0x5ae9a1),attachLongPressHandler(_0x3600e1,_0x580136),_0x2ad529[_0x485476(0x2c5)](_0x3600e1),updateDayStats(_0x1f8d3b);}}function reRenderBlocks(){const _0x26539a=a2_0xa4ad55;document[_0x26539a(0x177)]('#gridColumns\x20.day-column')[_0x26539a(0x298)](_0x288a3a=>{const _0x2aa911=_0x26539a;_0x288a3a[_0x2aa911(0x177)](_0x2aa911(0x22c))[_0x2aa911(0x298)](_0x3dfa21=>_0x3dfa21[_0x2aa911(0x24d)]());const _0x5b58c5=_0x288a3a[_0x2aa911(0x179)](_0x2aa911(0x217)),_0x25eb52=parseInt(_0x288a3a['getAttribute'](_0x2aa911(0x21e))),_0x11be1f=Math[_0x2aa911(0x273)](_0x288a3a['offsetLeft']);(availabilityPattern[_0x25eb52]||[])[_0x2aa911(0x298)](_0x34cd15=>{const _0x3f36e1=_0x2aa911,_0x4ee2aa=document[_0x3f36e1(0x224)]('div');_0x4ee2aa[_0x3f36e1(0x25e)]='blocked-slot\x20stripe-bg';const _0x50d498=_0x34cd15*GRID_H;_0x4ee2aa[_0x3f36e1(0x182)][_0x3f36e1(0x184)]=_0x50d498+'px',_0x4ee2aa[_0x3f36e1(0x182)]['backgroundPosition']='-'+_0x11be1f+_0x3f36e1(0x2d7)+_0x50d498+'px',_0x288a3a[_0x3f36e1(0x2c5)](_0x4ee2aa);});if(specialRanges&&specialRanges['length']>0x0){const _0x46ec99=new Date(_0x5b58c5+_0x2aa911(0x248))[_0x2aa911(0x16e)](),_0x3df099=new Date(_0x5b58c5+_0x2aa911(0x287))[_0x2aa911(0x16e)]();specialRanges[_0x2aa911(0x298)](_0x171668=>{const _0x4d3f96=_0x2aa911,_0x2e4bbf=new Date(_0x171668['start'])[_0x4d3f96(0x16e)](),_0x127340=new Date(_0x171668[_0x4d3f96(0x271)])[_0x4d3f96(0x16e)](),_0x2ccf2c=Math['max'](_0x46ec99,_0x2e4bbf),_0x488241=Math['min'](_0x3df099,_0x127340);if(_0x2ccf2c<_0x488241){if(_0x2ccf2c<=_0x46ec99&&_0x488241>=_0x3df099-0xea60){if(!_0x288a3a[_0x4d3f96(0x28d)](_0x4d3f96(0x27b))){const _0x3bb72d=document[_0x4d3f96(0x224)](_0x4d3f96(0x1fa));_0x3bb72d['className']='day-off-overlay\x20stripe-bg',_0x3bb72d[_0x4d3f96(0x182)]['backgroundPosition']='-'+_0x11be1f+'px\x200px',_0x288a3a['appendChild'](_0x3bb72d);}}else{const _0x44f783=(_0x2ccf2c-_0x46ec99)/0x36ee80*GRID_H,_0x2af7b6=(_0x488241-_0x2ccf2c)/0x36ee80*GRID_H,_0x414698=document[_0x4d3f96(0x224)](_0x4d3f96(0x1fa));_0x414698[_0x4d3f96(0x25e)]=_0x4d3f96(0x1e6),_0x414698[_0x4d3f96(0x182)]['top']=_0x44f783+'px',_0x414698[_0x4d3f96(0x182)][_0x4d3f96(0x25b)]=_0x2af7b6+'px',_0x414698[_0x4d3f96(0x182)][_0x4d3f96(0x2ac)]='-'+_0x11be1f+_0x4d3f96(0x2d7)+_0x44f783+'px',_0x288a3a[_0x4d3f96(0x2c5)](_0x414698);}}});}if(dateExceptions[_0x5b58c5]==='off'){if(!_0x288a3a[_0x2aa911(0x28d)](_0x2aa911(0x27b))){const _0x118685=document[_0x2aa911(0x224)](_0x2aa911(0x1fa));_0x118685[_0x2aa911(0x25e)]=_0x2aa911(0x2d8),_0x118685['style'][_0x2aa911(0x2ac)]='-'+_0x11be1f+'px\x200px',_0x288a3a[_0x2aa911(0x2c5)](_0x118685);}}renderEventsForColumn(_0x288a3a,_0x5b58c5,_0x25eb52),updateDayStats(_0x5b58c5);});}function updateAllDayStats(){const _0x1f9484=a2_0xa4ad55;document[_0x1f9484(0x177)](_0x1f9484(0x238))[_0x1f9484(0x298)](_0x2a83a2=>{const _0x418fb5=_0x1f9484;updateDayStats(_0x2a83a2[_0x418fb5(0x179)](_0x418fb5(0x217)));});}function updateDayStats(_0x276964){const _0x5aba1b=a2_0xa4ad55,_0x2f06d1=document[_0x5aba1b(0x1c8)](_0x5aba1b(0x174)+_0x276964);if(!_0x2f06d1)return;const _0x4f2a87=new Date(_0x276964);let _0x6ba8df=_0x4f2a87['getDay']()-0x1;if(_0x6ba8df===-0x1)_0x6ba8df=0x6;if(dateExceptions[_0x276964]==='off'){_0x2f06d1[_0x5aba1b(0x182)][_0x5aba1b(0x2c7)]='none';return;}const _0x300a7f=availabilityPattern[_0x6ba8df]||[],_0x122ff5=0x18-_0x300a7f[_0x5aba1b(0x2c3)],_0x328eb3=_0x122ff5*0x3c,_0x150f88=sessions[_0x5aba1b(0x285)](_0x3b7b76=>_0x3b7b76['dateStr']===_0x276964&&_0x3b7b76[_0x5aba1b(0x24c)]!==_0x5aba1b(0x2a1));if(_0x150f88[_0x5aba1b(0x2c3)]===0x0){_0x2f06d1[_0x5aba1b(0x182)][_0x5aba1b(0x2c7)]=_0x5aba1b(0x2b6);return;}let _0x44bebe=_0x150f88[_0x5aba1b(0x262)](_0x2f0ae6=>{const _0x81fbd4=_0x5aba1b,[_0x49a606,_0x20ed7c]=_0x2f0ae6[_0x81fbd4(0x2cc)][_0x81fbd4(0x2d4)](':')['map'](Number),[_0x3124f1,_0x2f22f4]=_0x2f0ae6['end']['split'](':')['map'](Number);return[_0x49a606*0x3c+_0x20ed7c,_0x3124f1*0x3c+_0x2f22f4];});_0x44bebe[_0x5aba1b(0x2aa)]((_0xffbbce,_0x2aac61)=>_0xffbbce[0x0]-_0x2aac61[0x0]);let _0x43f1b8=[];if(_0x44bebe[_0x5aba1b(0x2c3)]>0x0){let _0x2f6e3f=_0x44bebe[0x0];for(let _0x59ce69=0x1;_0x59ce69<_0x44bebe[_0x5aba1b(0x2c3)];_0x59ce69++){_0x44bebe[_0x59ce69][0x0]<_0x2f6e3f[0x1]?_0x2f6e3f[0x1]=Math[_0x5aba1b(0x2d0)](_0x2f6e3f[0x1],_0x44bebe[_0x59ce69][0x1]):(_0x43f1b8[_0x5aba1b(0x274)](_0x2f6e3f),_0x2f6e3f=_0x44bebe[_0x59ce69]);}_0x43f1b8[_0x5aba1b(0x274)](_0x2f6e3f);}let _0x287fd8=0x0;_0x43f1b8['forEach'](_0x38d297=>_0x287fd8+=_0x38d297[0x1]-_0x38d297[0x0]),_0x2f06d1['style'][_0x5aba1b(0x2c7)]=_0x5aba1b(0x1a5);const _0x3200e4=_0x2f06d1[_0x5aba1b(0x28d)](_0x5aba1b(0x2e4));if(_0x328eb3===0x0){_0x3200e4[_0x5aba1b(0x182)][_0x5aba1b(0x256)]=_0x5aba1b(0x25c),_0x3200e4[_0x5aba1b(0x182)][_0x5aba1b(0x1cd)]='var(--acc-red)';return;}const _0x1fde54=_0x287fd8/_0x328eb3*0x64;console[_0x5aba1b(0x1fd)]('['+_0x276964+_0x5aba1b(0x260)+_0x122ff5+_0x5aba1b(0x23b)+_0x287fd8+_0x5aba1b(0x2ab)+_0x1fde54[_0x5aba1b(0x1db)](0x1)+'%'),_0x1fde54>0x64?(_0x3200e4[_0x5aba1b(0x182)][_0x5aba1b(0x256)]='100%',_0x3200e4['style'][_0x5aba1b(0x1cd)]=_0x5aba1b(0x1ca)):(_0x3200e4['style'][_0x5aba1b(0x256)]=_0x1fde54+'%',_0x3200e4[_0x5aba1b(0x182)][_0x5aba1b(0x1cd)]=_0x5aba1b(0x2a2));}function renderEventsForColumn(_0x7873b8,_0x15ac60,_0x1be94f){const _0x32010c=a2_0xa4ad55,_0x9e728b=sessions[_0x32010c(0x285)](_0x29e372=>_0x29e372[_0x32010c(0x2dd)]===_0x15ac60),_0x3a1650=_0x9e728b[_0x32010c(0x262)](_0x4f4a05=>{const _0x54e5f0=_0x32010c,[_0x483a29,_0x49bdee]=_0x4f4a05[_0x54e5f0(0x2cc)][_0x54e5f0(0x2d4)](':')[_0x54e5f0(0x262)](Number),[_0x5a9491,_0x3e1435]=_0x4f4a05[_0x54e5f0(0x271)]['split'](':')[_0x54e5f0(0x262)](Number);return{'data':_0x4f4a05,'start':_0x483a29*0x3c+_0x49bdee,'end':_0x5a9491*0x3c+_0x3e1435,'colIndex':0x0};});_0x3a1650[_0x32010c(0x2aa)]((_0x1af100,_0x5e4ebf)=>{const _0x2a77df=_0x32010c;if(_0x1af100[_0x2a77df(0x2cc)]!==_0x5e4ebf[_0x2a77df(0x2cc)])return _0x1af100[_0x2a77df(0x2cc)]-_0x5e4ebf['start'];return _0x5e4ebf[_0x2a77df(0x271)]-_0x5e4ebf['start']-(_0x1af100[_0x2a77df(0x271)]-_0x1af100['start']);});const _0x178537=[];_0x3a1650[_0x32010c(0x298)](_0xc60868=>{const _0x33ef33=_0x32010c;let _0x3d78b4=![];for(let _0x1eba4d=0x0;_0x1eba4d<_0x178537[_0x33ef33(0x2c3)];_0x1eba4d++){const _0x53a793=_0x178537[_0x1eba4d],_0x445ac3=_0x53a793[_0x53a793[_0x33ef33(0x2c3)]-0x1];if(_0xc60868[_0x33ef33(0x2cc)]>=_0x445ac3['end']){_0x53a793['push'](_0xc60868),_0xc60868[_0x33ef33(0x164)]=_0x1eba4d,_0x3d78b4=!![];break;}}!_0x3d78b4&&(_0x178537[_0x33ef33(0x274)]([_0xc60868]),_0xc60868['colIndex']=_0x178537[_0x33ef33(0x2c3)]-0x1);}),_0x3a1650[_0x32010c(0x298)](_0x75732f=>{const _0x39db50=_0x32010c;let _0x1eeb36=0x0;_0x3a1650[_0x39db50(0x298)](_0x21f42b=>{const _0x858faf=_0x39db50;if(Math['max'](_0x75732f[_0x858faf(0x2cc)],_0x21f42b[_0x858faf(0x2cc)])<Math[_0x858faf(0x1c5)](_0x75732f[_0x858faf(0x271)],_0x21f42b[_0x858faf(0x271)])){if(_0x21f42b[_0x858faf(0x164)]>_0x1eeb36)_0x1eeb36=_0x21f42b[_0x858faf(0x164)];}});const _0x2efd1d=_0x1eeb36+0x1,_0x48d97a=0x64/_0x2efd1d,_0x23f930=_0x75732f[_0x39db50(0x164)]*_0x48d97a,_0x277769=createEventEl(_0x75732f['data']);_0x277769[_0x39db50(0x182)][_0x39db50(0x256)]=_0x39db50(0x17a)+_0x48d97a+_0x39db50(0x210),_0x277769[_0x39db50(0x182)][_0x39db50(0x212)]='calc('+_0x23f930+_0x39db50(0x1b6),_0x277769[_0x39db50(0x182)][_0x39db50(0x263)]=0xa+_0x75732f[_0x39db50(0x164)],_0x48d97a<0x55&&_0x277769[_0x39db50(0x163)]['add'](_0x39db50(0x23c)),_0x7873b8[_0x39db50(0x2c5)](_0x277769);});}function createEventEl(_0xfe8fce){const _0x16325d=a2_0xa4ad55,[_0x5a43fe,_0x4585b4]=_0xfe8fce[_0x16325d(0x2cc)][_0x16325d(0x2d4)](':')[_0x16325d(0x262)](Number),[_0x1f9a48,_0x406fbc]=_0xfe8fce[_0x16325d(0x271)][_0x16325d(0x2d4)](':')[_0x16325d(0x262)](Number),_0x27521d=(_0x5a43fe*0x3c+_0x4585b4)/0x3c*GRID_H,_0x5edfcb=(_0x1f9a48*0x3c+_0x406fbc-(_0x5a43fe*0x3c+_0x4585b4))/0x3c*GRID_H,_0x3742c2=document[_0x16325d(0x224)](_0x16325d(0x1fa)),_0x427549=_0xfe8fce[_0x16325d(0x24c)]===_0x16325d(0x2e1)?_0x16325d(0x1b5):'';_0x3742c2[_0x16325d(0x25e)]=_0x16325d(0x20f)+_0x427549,_0x3742c2[_0x16325d(0x182)]['top']=_0x27521d+'px',_0x3742c2[_0x16325d(0x182)][_0x16325d(0x25b)]=Math['max'](_0x5edfcb,0x14)+'px';const _0x3b3059=clients[_0x16325d(0x24a)](_0x6a4d73=>_0xfe8fce[_0x16325d(0x237)]&&String(_0x6a4d73['id'])===String(_0xfe8fce[_0x16325d(0x237)])||_0x6a4d73[_0x16325d(0x1d5)]===_0xfe8fce['client']),_0x2c91c2=_0x3b3059?_0x3b3059[_0x16325d(0x2e0)]:_0x16325d(0x2de);_0x3742c2[_0x16325d(0x182)]['borderLeftColor']=_0x2c91c2,_0x3742c2[_0x16325d(0x182)][_0x16325d(0x1e0)]=hexToRgba(_0x2c91c2,0.85);let _0x564740=_0x16325d(0x17b)+_0xfe8fce[_0x16325d(0x223)]+_0x16325d(0x1a9)+_0xfe8fce['start']+_0x16325d(0x1c9)+_0xfe8fce[_0x16325d(0x271)]+_0x16325d(0x1f3);return _0xfe8fce['seriesId']&&(_0x564740+=_0x16325d(0x288)),_0xfe8fce[_0x16325d(0x24c)]===_0x16325d(0x2e1)&&(_0x564740+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x3742c2[_0x16325d(0x25a)]=_0x564740,_0x3742c2[_0x16325d(0x2bf)]=_0x4743d0=>{const _0x171215=_0x16325d;_0x4743d0[_0x171215(0x21f)](),openEdit(_0xfe8fce);},_0x3742c2;}function attachLongPressHandler(_0x504af4,_0x4f4ecb){const _0x42fe9d=a2_0xa4ad55;let _0x32e554=0x0,_0x5b0f4d=null;const _0x125eda=_0x3b3364=>{const _0x4644ca=a2_0x41ee;if(_0x3b3364['target'][_0x4644ca(0x207)](_0x4644ca(0x29e)))return;isScrolling=![],_0x32e554=_0x3b3364[_0x4644ca(0x2a4)]?_0x3b3364[_0x4644ca(0x2a4)][0x0][_0x4644ca(0x290)]:_0x3b3364[_0x4644ca(0x290)],_0x5b0f4d=setTimeout(()=>{const _0x187ad6=_0x4644ca;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x389061=_0x504af4['getBoundingClientRect'](),_0x25f594=Math[_0x187ad6(0x204)]((_0x32e554-_0x389061[_0x187ad6(0x184)])/GRID_H);_0x4f4ecb[_0x187ad6(0x26f)](_0x25f594,0x0),openAddSession(_0x4f4ecb);}},0x1f4);},_0x315d9a=()=>{isScrolling=!![],clearTimeout(_0x5b0f4d);},_0x2c1410=()=>{clearTimeout(_0x5b0f4d);};_0x504af4['addEventListener'](_0x42fe9d(0x1e7),_0x125eda,{'passive':!![]}),_0x504af4[_0x42fe9d(0x23f)](_0x42fe9d(0x283),_0x315d9a,{'passive':!![]}),_0x504af4[_0x42fe9d(0x23f)]('touchend',_0x2c1410),_0x504af4[_0x42fe9d(0x23f)]('mousedown',_0x125eda),_0x504af4[_0x42fe9d(0x23f)]('mousemove',_0x315d9a),_0x504af4['addEventListener'](_0x42fe9d(0x196),_0x2c1410);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x403331=a2_0xa4ad55,_0x5a588e=document[_0x403331(0x1c8)](_0x403331(0x1fc)),_0x39d7e1=_0x5a588e[_0x403331(0x169)],_0x53a688=_0x5a588e[_0x403331(0x176)],_0x563c85=_0x5a588e['clientWidth'];if(_0x53a688-(_0x39d7e1+_0x563c85)<0x12c){const _0x138107=endOffset;endOffset+=0xe,renderDayRange(_0x138107+0x1,endOffset),reRenderBlocks();}if(_0x39d7e1<0x12c){const _0x24959e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x24959e-0x1),_0x5a588e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3a1c6e,_0x15979a){const _0x43aae6=a2_0xa4ad55,_0x57320b=document[_0x43aae6(0x1c8)](_0x43aae6(0x2bb)),_0x5a062a=document['getElementById'](_0x43aae6(0x235)),_0x212965=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4eb981=new Date();_0x4eb981['setHours'](0x0,0x0,0x0,0x0);const _0x429428=getLocalDateStr(new Date()),_0x592731=document[_0x43aae6(0x270)](),_0x127739=document[_0x43aae6(0x270)]();for(let _0x3a0d25=_0x3a1c6e;_0x3a0d25<=_0x15979a;_0x3a0d25++){const _0x58b5a4=new Date(_0x4eb981);_0x58b5a4['setDate'](_0x58b5a4[_0x43aae6(0x27c)]()+_0x3a0d25);const _0x527744=getLocalDateStr(_0x58b5a4);let _0x297f8c=_0x58b5a4[_0x43aae6(0x23e)]()-0x1;if(_0x297f8c===-0x1)_0x297f8c=0x6;const _0x52c170=_0x527744===_0x429428,_0x8da641=document[_0x43aae6(0x224)](_0x43aae6(0x1fa));_0x8da641['className']='day-col-header\x20'+(_0x52c170?_0x43aae6(0x2cd):''),_0x8da641['id']=_0x43aae6(0x26b)+_0x527744,_0x8da641[_0x43aae6(0x188)](_0x43aae6(0x217),_0x527744),_0x8da641[_0x43aae6(0x25a)]=_0x43aae6(0x200)+_0x212965[_0x297f8c]+'</div><div\x20class=\x22dch-num\x22>'+_0x58b5a4[_0x43aae6(0x27c)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x527744+_0x43aae6(0x1ef),_0x8da641[_0x43aae6(0x2bf)]=()=>openDayOptions(_0x527744,_0x212965[_0x297f8c]+'\x20'+_0x58b5a4[_0x43aae6(0x27c)]()),_0x592731[_0x43aae6(0x2c5)](_0x8da641);const _0x1b5248=document[_0x43aae6(0x224)](_0x43aae6(0x1fa));_0x1b5248[_0x43aae6(0x25e)]=_0x43aae6(0x16d)+(_0x52c170?'today':''),_0x1b5248[_0x43aae6(0x188)]('data-date',_0x527744),_0x1b5248[_0x43aae6(0x188)](_0x43aae6(0x21e),_0x297f8c),renderEventsForColumn(_0x1b5248,_0x527744,_0x297f8c),attachLongPressHandler(_0x1b5248,_0x58b5a4),_0x127739[_0x43aae6(0x2c5)](_0x1b5248),updateDayStats(_0x527744);}_0x57320b['insertBefore'](_0x592731,_0x57320b['firstChild']),_0x5a062a[_0x43aae6(0x284)](_0x127739,_0x5a062a[_0x43aae6(0x28d)](_0x43aae6(0x213)));}function validateAppointment(_0x5b5ce0,_0x1bcdea,_0x4c3f79,_0x58c346,_0x7b09cd){const _0x52f608=a2_0xa4ad55,[_0x24c5b4,_0x12eb0c]=_0x1bcdea[_0x52f608(0x2d4)](':')[_0x52f608(0x262)](Number),[_0x18ba36,_0x3dd399]=_0x4c3f79[_0x52f608(0x2d4)](':')[_0x52f608(0x262)](Number),_0x593227=_0x24c5b4*0x3c+_0x12eb0c,_0x19f7ef=_0x18ba36*0x3c+_0x3dd399,_0x780bc3=String(_0x7b09cd);let _0x48c169=![],_0x1cc0cc='';for(let _0x9fd713 of sessions){if(_0x9fd713[_0x52f608(0x2dd)]!==_0x5b5ce0)continue;if(_0x9fd713[_0x52f608(0x24c)]===_0x52f608(0x2a1))continue;if(_0x58c346&&String(_0x9fd713['id'])===String(_0x58c346))continue;const [_0x203fef,_0x59eb11]=_0x9fd713['start'][_0x52f608(0x2d4)](':')[_0x52f608(0x262)](Number),[_0x45771a,_0x1e35f6]=_0x9fd713[_0x52f608(0x271)][_0x52f608(0x2d4)](':')[_0x52f608(0x262)](Number),_0x242a43=_0x203fef*0x3c+_0x59eb11,_0x499921=_0x45771a*0x3c+_0x1e35f6;if(Math['max'](_0x593227,_0x242a43)<Math[_0x52f608(0x1c5)](_0x19f7ef,_0x499921)){if(_0x9fd713[_0x52f608(0x237)]&&String(_0x9fd713[_0x52f608(0x237)])===_0x780bc3)return{'valid':![],'msg':_0x52f608(0x19b)+_0x9fd713[_0x52f608(0x223)]+_0x52f608(0x239)};_0x48c169=!![],_0x1cc0cc=_0x9fd713[_0x52f608(0x223)];}}if(_0x48c169)return{'valid':!![],'warning':_0x52f608(0x232)+_0x1cc0cc};return{'valid':!![]};}function updateDateDisplay(){const _0x20a77e=a2_0xa4ad55,_0x43c712=document['getElementById'](_0x20a77e(0x1b4))[_0x20a77e(0x208)],_0x20e680=document[_0x20a77e(0x1c8)](_0x20a77e(0x1d6));if(!_0x43c712){_0x20e680[_0x20a77e(0x2ad)]='';return;}const [_0x3a1fb4,_0xa49fbf,_0x796e6c]=_0x43c712[_0x20a77e(0x2d4)]('-')[_0x20a77e(0x262)](Number),_0x59e94e=new Date(_0x3a1fb4,_0xa49fbf-0x1,_0x796e6c),_0x4491d6={'weekday':_0x20a77e(0x22f),'day':_0x20a77e(0x214),'month':'long','year':'numeric'};let _0x8b0574=_0x59e94e[_0x20a77e(0x2c2)](_0x20a77e(0x19e),_0x4491d6);_0x8b0574=_0x8b0574[_0x20a77e(0x2ce)](0x0)['toUpperCase']()+_0x8b0574[_0x20a77e(0x18b)](0x1),_0x20e680[_0x20a77e(0x2ad)]=_0x8b0574;}function autoSetEndTime(){const _0x2281b0=a2_0xa4ad55,_0x46c031=document[_0x2281b0(0x1c8)](_0x2281b0(0x2e3))[_0x2281b0(0x208)];if(!_0x46c031)return;const [_0x24fbc1,_0x549f16]=_0x46c031[_0x2281b0(0x2d4)](':')[_0x2281b0(0x262)](Number);let _0x3be617=_0x24fbc1+0x1;if(_0x3be617>0x17)_0x3be617=0x0;const _0x39a059=String(_0x3be617)[_0x2281b0(0x227)](0x2,'0')+':'+String(_0x549f16)[_0x2281b0(0x227)](0x2,'0');document[_0x2281b0(0x1c8)](_0x2281b0(0x201))[_0x2281b0(0x208)]=_0x39a059;}function populateClientSelect(){const _0x767fa0=a2_0xa4ad55,_0x139c00=document[_0x767fa0(0x1c8)]('inpClient');_0x139c00[_0x767fa0(0x25a)]='';if(clients['length']===0x0){const _0x292a92=document[_0x767fa0(0x224)](_0x767fa0(0x189));_0x292a92[_0x767fa0(0x1e9)]=_0x767fa0(0x1b0),_0x139c00[_0x767fa0(0x2c5)](_0x292a92);return;}clients[_0x767fa0(0x298)](_0x20b05b=>{const _0x484e86=_0x767fa0,_0xcded4c=document[_0x484e86(0x224)](_0x484e86(0x189));_0xcded4c[_0x484e86(0x208)]=_0x20b05b[_0x484e86(0x1d5)],_0xcded4c[_0x484e86(0x2ad)]=_0x20b05b[_0x484e86(0x1d5)],_0x139c00['appendChild'](_0xcded4c);});}function openActionSheet(_0x24b042){const _0x441488=a2_0xa4ad55,_0xebdd67=document[_0x441488(0x1c8)]('actionSheet'),_0x115773=document[_0x441488(0x1c8)](_0x441488(0x18c)),_0x25aa86=document[_0x441488(0x1c8)](_0x441488(0x291)),_0x33c846=document[_0x441488(0x1c8)](_0x441488(0x221)),_0x48aeb9=document[_0x441488(0x1c8)](_0x441488(0x1d1));_0x115773[_0x441488(0x163)][_0x441488(0x1e4)](_0x441488(0x1dd)),_0xebdd67['classList']['add'](_0x441488(0x16a));if(_0x24b042===_0x441488(0x2bd))_0x25aa86['textContent']=_0x441488(0x229),_0x33c846[_0x441488(0x2ad)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x33c846[_0x441488(0x2bf)]=()=>{const _0x3256ac=_0x441488;closeActionSheet(),updateSeriesBatch(_0x3256ac(0x20d),tempSessionData);},_0x48aeb9[_0x441488(0x2ad)]=_0x441488(0x1e5),_0x48aeb9[_0x441488(0x2bf)]=()=>{const _0x320290=_0x441488;closeActionSheet(),updateSeriesBatch(_0x320290(0x21d),tempSessionData);};else _0x24b042===_0x441488(0x162)&&(_0x25aa86[_0x441488(0x2ad)]=_0x441488(0x295),_0x33c846[_0x441488(0x2ad)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x33c846[_0x441488(0x25e)]=_0x441488(0x1ea),_0x33c846[_0x441488(0x2bf)]=()=>{const _0xace455=_0x441488;closeActionSheet(),commitDelete(_0xace455(0x20d),sessions[_0xace455(0x24a)](_0x19deb3=>_0x19deb3['id']===editingId));},_0x48aeb9[_0x441488(0x2ad)]=_0x441488(0x1e5),_0x48aeb9['className']='as-button\x20danger\x20bold',_0x48aeb9[_0x441488(0x2bf)]=()=>{const _0x262973=_0x441488;closeActionSheet(),commitDelete(_0x262973(0x21d),sessions[_0x262973(0x24a)](_0x417110=>_0x417110['id']===editingId));});}function closeActionSheet(){const _0x18f908=a2_0xa4ad55;document[_0x18f908(0x1c8)]('actionSheet')[_0x18f908(0x163)][_0x18f908(0x24d)](_0x18f908(0x16a)),document['getElementById'](_0x18f908(0x18c))[_0x18f908(0x163)]['remove']('active');}function openSettings(){const _0x4d538e=a2_0xa4ad55;openSheet(_0x4d538e(0x178));}function saveCoachSettings(){const _0x359d68=a2_0xa4ad55,_0x19af09=document[_0x359d68(0x1c8)]('settingCancelWindow')[_0x359d68(0x208)];localStorage[_0x359d68(0x261)](_0x359d68(0x1df),_0x19af09),console[_0x359d68(0x1fd)](_0x359d68(0x1d2),_0x19af09),DataManager[_0x359d68(0x1eb)]('save_settings',{'settings':{'cancel_window':_0x19af09}})[_0x359d68(0x234)](_0x33381c=>{const _0x4df90e=_0x359d68;console[_0x4df90e(0x2cf)]('Save\x20settings\x20error:',_0x33381c),showToast(_0x4df90e(0x2dc),![]);});}function loadCoachSettings(){const _0x14a7e8=a2_0xa4ad55,_0x253352=localStorage[_0x14a7e8(0x2c6)]('uc_settings_cancel_window');_0x253352&&(document['getElementById'](_0x14a7e8(0x243))[_0x14a7e8(0x208)]=_0x253352);}function openRangesSheet(){const _0xe8b20b=a2_0xa4ad55;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0xe8b20b(0x1c3));}function addRange(){const _0x5cc62f=a2_0xa4ad55,_0x2ea365=document[_0x5cc62f(0x1c8)]('rangeStartDate')[_0x5cc62f(0x208)],_0xb13e57=document[_0x5cc62f(0x1c8)](_0x5cc62f(0x2c8))[_0x5cc62f(0x208)],_0x4c8600=document[_0x5cc62f(0x1c8)](_0x5cc62f(0x29f))[_0x5cc62f(0x208)],_0x4136ac=document[_0x5cc62f(0x1c8)]('rangeEndTime')[_0x5cc62f(0x208)];if(!_0x2ea365||!_0xb13e57||!_0x4c8600||!_0x4136ac)return alert(_0x5cc62f(0x252));const _0x157097=_0x2ea365+'T'+_0xb13e57,_0x442b12=_0x4c8600+'T'+_0x4136ac;if(_0x157097>=_0x442b12)return alert(_0x5cc62f(0x299));specialRanges['push']({'start':_0x157097,'end':_0x442b12}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x5cc62f(0x1ec)](),DataManager[_0x5cc62f(0x1eb)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x235ea4){const _0x3031a4=a2_0xa4ad55;specialRanges['splice'](_0x235ea4,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3031a4(0x1ec)](),DataManager['fetchFromServer'](_0x3031a4(0x211),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x579e3d=a2_0xa4ad55;document[_0x579e3d(0x1c8)](_0x579e3d(0x2b0))[_0x579e3d(0x208)]='',document[_0x579e3d(0x1c8)](_0x579e3d(0x2c8))['value']=_0x579e3d(0x20c),document[_0x579e3d(0x1c8)](_0x579e3d(0x29f))['value']='',document[_0x579e3d(0x1c8)](_0x579e3d(0x225))[_0x579e3d(0x208)]='23:59';}function renderRangesList(){const _0x1983f2=a2_0xa4ad55,_0x5ec805=document['getElementById'](_0x1983f2(0x1e3));_0x5ec805[_0x1983f2(0x25a)]='';if(!specialRanges['length']){_0x5ec805[_0x1983f2(0x25a)]=_0x1983f2(0x22d);return;}specialRanges[_0x1983f2(0x298)]((_0x5d2de1,_0x2f2574)=>{const _0x619fea=_0x1983f2,_0x2d5972=document['createElement'](_0x619fea(0x1fa));_0x2d5972[_0x619fea(0x25e)]=_0x619fea(0x172);const _0x359526=_0x5b856d=>{const _0x536dd6=_0x619fea,_0x556dd4=new Date(_0x5b856d);return _0x556dd4['getDate']()+'.'+String(_0x556dd4[_0x536dd6(0x26a)]()+0x1)[_0x536dd6(0x227)](0x2,'0')+'\x20'+String(_0x556dd4[_0x536dd6(0x2b4)]())[_0x536dd6(0x227)](0x2,'0')+':'+String(_0x556dd4['getMinutes']())[_0x536dd6(0x227)](0x2,'0');};_0x2d5972[_0x619fea(0x25a)]=_0x619fea(0x1e1)+_0x359526(_0x5d2de1[_0x619fea(0x2cc)])+_0x619fea(0x2d2)+_0x359526(_0x5d2de1[_0x619fea(0x271)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x2f2574+_0x619fea(0x1e8),_0x5ec805['appendChild'](_0x2d5972);});}function scrollToToday(){const _0x4061fb=a2_0xa4ad55,_0x308ac3=getLocalDateStr(new Date()),_0x819464=document[_0x4061fb(0x1c8)](_0x4061fb(0x26b)+_0x308ac3),_0x20ded5=document[_0x4061fb(0x1c8)]('matrixViewport');if(_0x819464&&_0x20ded5){const _0xb2756d=_0x20ded5[_0x4061fb(0x1f4)],_0x56617a=_0x819464['offsetLeft'],_0x32c2b3=_0x819464[_0x4061fb(0x26d)];_0x20ded5['scrollLeft']=_0x56617a-_0xb2756d/0x2+_0x32c2b3/0x2,_0x20ded5[_0x4061fb(0x1b8)]=0x9*GRID_H;}}function onScroll(){const _0x542e96=a2_0xa4ad55,_0x25f7a4=document[_0x542e96(0x1c8)]('matrixViewport'),_0x5123c5=document[_0x542e96(0x177)]('.day-col-header');for(let _0x10ac24 of _0x5123c5)if(_0x10ac24[_0x542e96(0x1c4)]>=_0x25f7a4['scrollLeft']){const _0x1cfb9a=new Date(_0x10ac24[_0x542e96(0x179)](_0x542e96(0x217)));document[_0x542e96(0x1c8)](_0x542e96(0x22b))[_0x542e96(0x2ad)]=_0x1cfb9a['toLocaleString']('ru',{'month':_0x542e96(0x22f)})['toUpperCase']()+'\x20'+_0x1cfb9a['getFullYear']();break;}}function showToast(_0x5d5149,_0x1146fd=![]){const _0x1a6d3e=a2_0xa4ad55,_0x599911=document['getElementById'](_0x1a6d3e(0x268));_0x599911[_0x1a6d3e(0x25e)]=_0x1a6d3e(0x1c1)+(_0x1146fd?'success':''),document[_0x1a6d3e(0x1c8)](_0x1a6d3e(0x2e5))[_0x1a6d3e(0x2ad)]=_0x1146fd?_0x1a6d3e(0x2a5):_0x1a6d3e(0x18a),document[_0x1a6d3e(0x1c8)](_0x1a6d3e(0x18d))[_0x1a6d3e(0x2ad)]=_0x5d5149,_0x599911[_0x1a6d3e(0x163)][_0x1a6d3e(0x1e4)](_0x1a6d3e(0x181)),setTimeout(()=>{const _0x4035b5=_0x1a6d3e;_0x599911[_0x4035b5(0x163)][_0x4035b5(0x24d)](_0x4035b5(0x181));},0xbb8);}function openDayOptions(_0x4415d7,_0x54c637){const _0x24ebfd=a2_0xa4ad55;selectedDayForOptions=_0x4415d7,document[_0x24ebfd(0x1c8)](_0x24ebfd(0x1e2))[_0x24ebfd(0x2ad)]=_0x54c637,openSheet(_0x24ebfd(0x1f6));}function toggleDayOff(){const _0x3082ad=a2_0xa4ad55;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x3082ad(0x1ec)](),DataManager[_0x3082ad(0x1eb)](_0x3082ad(0x211),{'settings':{'exceptions':dateExceptions}}));}function a2_0x41ee(_0x1fa7e4,_0x58333a){_0x1fa7e4=_0x1fa7e4-0x162;const _0x3eddbd=a2_0x4815();let _0x5aa3ac=_0x3eddbd[_0x1fa7e4];return _0x5aa3ac;}function clearDayOff(){selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x21c241){const _0xe2b31b=a2_0xa4ad55;document[_0xe2b31b(0x1c8)](_0xe2b31b(0x29c))[_0xe2b31b(0x163)]['add'](_0xe2b31b(0x1dd)),document['getElementById'](_0x21c241)[_0xe2b31b(0x163)][_0xe2b31b(0x1e4)](_0xe2b31b(0x16a));}function closeAllSheets(){const _0x49877b=a2_0xa4ad55;document[_0x49877b(0x1c8)]('overlay')['classList']['remove'](_0x49877b(0x1dd)),document['querySelectorAll'](_0x49877b(0x2c0))[_0x49877b(0x298)](_0x18dbfc=>_0x18dbfc[_0x49877b(0x163)][_0x49877b(0x24d)](_0x49877b(0x16a)));}function openPatternEditor(){const _0xe3fcf9=a2_0xa4ad55;closeAllSheets(),document[_0xe3fcf9(0x1c8)]('patternEditor')['classList'][_0xe3fcf9(0x1e4)](_0xe3fcf9(0x16a)),renderPatternEditor();}function closePatternEditor(){const _0xded46e=a2_0xa4ad55;document['getElementById'](_0xded46e(0x22e))[_0xded46e(0x163)][_0xded46e(0x24d)](_0xded46e(0x16a));}function savePattern(){const _0x352f1a=a2_0xa4ad55;document[_0x352f1a(0x1c8)](_0x352f1a(0x22e))[_0x352f1a(0x163)][_0x352f1a(0x24d)](_0x352f1a(0x16a)),reRenderBlocks(),DataManager[_0x352f1a(0x1ec)](),DataManager[_0x352f1a(0x1eb)](_0x352f1a(0x211),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x21b1b4=a2_0xa4ad55,_0x394e53=document[_0x21b1b4(0x1c8)](_0x21b1b4(0x1c7));_0x394e53[_0x21b1b4(0x25a)]='';const _0x31ef27=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4a7205=document[_0x21b1b4(0x224)](_0x21b1b4(0x1fa));_0x4a7205[_0x21b1b4(0x25e)]=_0x21b1b4(0x1d7),_0x394e53[_0x21b1b4(0x2c5)](_0x4a7205),_0x31ef27['forEach']((_0x995a12,_0x572e4f)=>{const _0x4cf265=_0x21b1b4,_0x44da39=document['createElement'](_0x4cf265(0x1fa));_0x44da39[_0x4cf265(0x25e)]=_0x4cf265(0x1c6),_0x44da39['innerHTML']=_0x995a12+_0x4cf265(0x230),_0x44da39[_0x4cf265(0x2bf)]=()=>toggleColPattern(_0x572e4f),_0x394e53[_0x4cf265(0x2c5)](_0x44da39);});for(let _0x11ded4=0x0;_0x11ded4<0x18;_0x11ded4++){const _0x58278e=document[_0x21b1b4(0x224)](_0x21b1b4(0x1fa));_0x58278e['className']=_0x21b1b4(0x2b2),_0x58278e['innerHTML']=_0x21b1b4(0x2cb)+String(_0x11ded4)[_0x21b1b4(0x227)](0x2,'0')+_0x21b1b4(0x215),_0x58278e[_0x21b1b4(0x2bf)]=()=>toggleRowPattern(_0x11ded4),_0x394e53[_0x21b1b4(0x2c5)](_0x58278e);for(let _0xd1fa90=0x0;_0xd1fa90<0x7;_0xd1fa90++){const _0x37a68f=document['createElement'](_0x21b1b4(0x1fa)),_0x127aa5=(availabilityPattern[_0xd1fa90]||[])[_0x21b1b4(0x2d9)](_0x11ded4),_0x39b50f=!_0x127aa5;_0x37a68f[_0x21b1b4(0x25e)]='pe-cell\x20'+(_0x39b50f?_0x21b1b4(0x1dd):''),_0x37a68f[_0x21b1b4(0x2bf)]=()=>toggleSinglePattern(_0xd1fa90,_0x11ded4),_0x394e53[_0x21b1b4(0x2c5)](_0x37a68f);}}}function toggleSinglePattern(_0x418db3,_0x31a725){const _0x2fe6ca=a2_0xa4ad55;if(!availabilityPattern[_0x418db3])availabilityPattern[_0x418db3]=[];const _0x19077c=availabilityPattern[_0x418db3],_0x27d5b2=_0x19077c['indexOf'](_0x31a725);_0x27d5b2===-0x1?_0x19077c[_0x2fe6ca(0x274)](_0x31a725):_0x19077c['splice'](_0x27d5b2,0x1),renderPatternEditor();}function toggleColPattern(_0x5003d4){const _0x2c8792=a2_0xa4ad55;if(!availabilityPattern[_0x5003d4])availabilityPattern[_0x5003d4]=[];const _0x5ee25a=availabilityPattern[_0x5003d4];_0x5ee25a[_0x2c8792(0x2c3)]===0x0?availabilityPattern[_0x5003d4]=Array[_0x2c8792(0x26e)]({'length':0x18},(_0x4981d3,_0x11b9a0)=>_0x11b9a0):availabilityPattern[_0x5003d4]=[],renderPatternEditor();}function toggleRowPattern(_0x4511b2){const _0xe53ece=a2_0xa4ad55;let _0xf5752d=!![];for(let _0x1973fe=0x0;_0x1973fe<0x7;_0x1973fe++){if((availabilityPattern[_0x1973fe]||[])[_0xe53ece(0x2d9)](_0x4511b2)){_0xf5752d=![];break;}}for(let _0xa63ef5=0x0;_0xa63ef5<0x7;_0xa63ef5++){if(!availabilityPattern[_0xa63ef5])availabilityPattern[_0xa63ef5]=[];const _0x3080b5=availabilityPattern[_0xa63ef5]['indexOf'](_0x4511b2);if(_0xf5752d){if(_0x3080b5===-0x1)availabilityPattern[_0xa63ef5]['push'](_0x4511b2);}else{if(_0x3080b5!==-0x1)availabilityPattern[_0xa63ef5][_0xe53ece(0x27d)](_0x3080b5,0x1);}}renderPatternEditor();}function renderPCol(_0x300aad,_0x47775a){const _0x26e534=a2_0xa4ad55;_0x300aad['innerHTML']='';const _0x7af17e=Math[_0x26e534(0x273)](_0x300aad[_0x26e534(0x1c4)]);(availabilityPattern[_0x47775a]||[])['forEach'](_0x20a833=>{const _0x14574f=_0x26e534,_0x4f6351=document[_0x14574f(0x224)](_0x14574f(0x1fa));_0x4f6351[_0x14574f(0x25e)]=_0x14574f(0x277);const _0x1465c3=_0x20a833*GRID_H;_0x4f6351[_0x14574f(0x182)][_0x14574f(0x184)]=_0x1465c3+'px',_0x4f6351[_0x14574f(0x182)]['backgroundPosition']='-'+_0x7af17e+_0x14574f(0x2d7)+_0x1465c3+'px',_0x4f6351['onclick']=_0x4ec5d7=>{const _0x4cfa54=_0x14574f;_0x4ec5d7[_0x4cfa54(0x21f)](),toggleSinglePattern(_0x47775a,_0x20a833);},_0x300aad[_0x14574f(0x2c5)](_0x4f6351);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x564e4e=a2_0xa4ad55,_0x289e27=new Date(),_0x5e4f01=document['getElementById']('globalTimeLine'),_0xe4a08=document[_0x564e4e(0x1c8)](_0x564e4e(0x1d3)),_0x1fbd2f=(_0x289e27[_0x564e4e(0x2b4)]()*0x3c+_0x289e27[_0x564e4e(0x281)]())/0x3c*GRID_H;_0x5e4f01[_0x564e4e(0x182)][_0x564e4e(0x184)]=_0x1fbd2f+'px',_0x5e4f01['style'][_0x564e4e(0x2c7)]=_0x564e4e(0x21b),_0xe4a08['textContent']=String(_0x289e27['getHours']())[_0x564e4e(0x227)](0x2,'0')+':'+String(_0x289e27[_0x564e4e(0x281)]())[_0x564e4e(0x227)](0x2,'0'),_0xe4a08['style'][_0x564e4e(0x2c7)]=_0x564e4e(0x21b),_0xe4a08[_0x564e4e(0x182)][_0x564e4e(0x184)]=_0x1fbd2f+'px';}document[a2_0xa4ad55(0x23f)](a2_0xa4ad55(0x2b8),init);function openDayOptions(_0x47391f){const _0x1f02aa=a2_0xa4ad55;selectedDayForOptions=_0x47391f;const _0xd70ed5=new Date(_0x47391f),_0x33c208={'weekday':_0x1f02aa(0x22f),'day':_0x1f02aa(0x214),'month':'long','year':_0x1f02aa(0x214)},_0x16cfc1=_0xd70ed5[_0x1f02aa(0x2c2)](_0x1f02aa(0x19e),_0x33c208);document[_0x1f02aa(0x1c8)](_0x1f02aa(0x1ba))[_0x1f02aa(0x2ad)]=_0x16cfc1[_0x1f02aa(0x2ce)](0x0)[_0x1f02aa(0x293)]()+_0x16cfc1[_0x1f02aa(0x18b)](0x1);let _0x3b95a5=_0xd70ed5[_0x1f02aa(0x23e)]()-0x1;if(_0x3b95a5===-0x1)_0x3b95a5=0x6;const _0x2c4f0f=availabilityPattern[_0x3b95a5]||[],_0x3e524b=0x18-_0x2c4f0f['length'],_0x4ed008=_0x3e524b*0x3c,_0x13da6a=sessions[_0x1f02aa(0x285)](_0x2be73f=>_0x2be73f[_0x1f02aa(0x2dd)]===_0x47391f&&_0x2be73f[_0x1f02aa(0x24c)]!==_0x1f02aa(0x2a1));let _0x232603=_0x13da6a['map'](_0x56ca26=>{const _0x40aab2=_0x1f02aa,[_0x282db9,_0x1831bf]=_0x56ca26['start']['split'](':')['map'](Number),[_0x13cc22,_0x2594e3]=_0x56ca26[_0x40aab2(0x271)][_0x40aab2(0x2d4)](':')['map'](Number);return[_0x282db9*0x3c+_0x1831bf,_0x13cc22*0x3c+_0x2594e3];});_0x232603['sort']((_0x4bf19d,_0xd55b1d)=>_0x4bf19d[0x0]-_0xd55b1d[0x0]);let _0xb86ebc=[];if(_0x232603[_0x1f02aa(0x2c3)]>0x0){let _0x570d13=_0x232603[0x0];for(let _0x472d81=0x1;_0x472d81<_0x232603[_0x1f02aa(0x2c3)];_0x472d81++){_0x232603[_0x472d81][0x0]<_0x570d13[0x1]?_0x570d13[0x1]=Math[_0x1f02aa(0x2d0)](_0x570d13[0x1],_0x232603[_0x472d81][0x1]):(_0xb86ebc['push'](_0x570d13),_0x570d13=_0x232603[_0x472d81]);}_0xb86ebc['push'](_0x570d13);}let _0x4611ee=0x0;_0xb86ebc[_0x1f02aa(0x298)](_0x195985=>_0x4611ee+=_0x195985[0x1]-_0x195985[0x0]),document[_0x1f02aa(0x1c8)](_0x1f02aa(0x170))[_0x1f02aa(0x2ad)]=formatMinsToHrs(_0x4ed008),document[_0x1f02aa(0x1c8)](_0x1f02aa(0x264))[_0x1f02aa(0x2ad)]=formatMinsToHrs(_0x4611ee);const _0x28f829=_0x4ed008>0x0?Math[_0x1f02aa(0x273)](_0x4611ee/_0x4ed008*0x64):0x0,_0x2dce29=document[_0x1f02aa(0x1c8)](_0x1f02aa(0x1aa));_0x2dce29[_0x1f02aa(0x2ad)]=_0x28f829+'%';const _0x12f6ac=document[_0x1f02aa(0x1c8)](_0x1f02aa(0x265));if(_0x28f829>0x64)_0x2dce29[_0x1f02aa(0x182)][_0x1f02aa(0x2e0)]='var(--acc-red)',_0x12f6ac[_0x1f02aa(0x182)][_0x1f02aa(0x1a3)]=_0x1f02aa(0x218);else _0x28f829>0x50?(_0x2dce29['style'][_0x1f02aa(0x2e0)]=_0x1f02aa(0x18f),_0x12f6ac[_0x1f02aa(0x182)][_0x1f02aa(0x1a3)]=_0x1f02aa(0x251)):(_0x2dce29['style'][_0x1f02aa(0x2e0)]='var(--acc-green)',_0x12f6ac['style']['borderColor']=_0x1f02aa(0x1a6));const _0xb0c66a=document['getElementById'](_0x1f02aa(0x259));_0xb0c66a[_0x1f02aa(0x25a)]='';_0x13da6a[_0x1f02aa(0x2c3)]===0x0?_0xb0c66a['innerHTML']=_0x1f02aa(0x1c2):(_0x13da6a['sort']((_0x283eec,_0x5c1966)=>_0x283eec[_0x1f02aa(0x2cc)]['localeCompare'](_0x5c1966[_0x1f02aa(0x2cc)])),_0x13da6a[_0x1f02aa(0x298)](_0x5d2482=>{const _0x2ea10a=_0x1f02aa,_0xcf723=clients[_0x2ea10a(0x24a)](_0x5295e9=>_0x5295e9[_0x2ea10a(0x1d5)]===_0x5d2482[_0x2ea10a(0x223)]),_0x180f9e=_0xcf723?_0xcf723[_0x2ea10a(0x2e0)]:_0x2ea10a(0x21a),_0x2b3788=_0x5d2482[_0x2ea10a(0x24c)]===_0x2ea10a(0x2e1),_0x39de86=_0x2b3788?_0x2ea10a(0x294):'',_0x14e0f6=document['createElement'](_0x2ea10a(0x1fa));_0x14e0f6['className']='de-item',_0x14e0f6[_0x2ea10a(0x182)][_0x2ea10a(0x26c)]=_0x180f9e,_0x14e0f6['innerHTML']=_0x2ea10a(0x29a)+_0x5d2482['start']+'\x20-\x20'+_0x5d2482['end']+_0x2ea10a(0x292)+_0x5d2482[_0x2ea10a(0x223)]+_0x2ea10a(0x280)+_0x39de86+_0x2ea10a(0x1ab),_0xb0c66a[_0x2ea10a(0x2c5)](_0x14e0f6);}));const _0x383559=document['getElementById'](_0x1f02aa(0x28a)),_0x3490a4=dateExceptions[_0x47391f]===_0x1f02aa(0x195);_0x3490a4?(_0x383559['textContent']='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x383559[_0x1f02aa(0x25e)]=_0x1f02aa(0x2a3),_0x383559[_0x1f02aa(0x182)]['color']=_0x1f02aa(0x282),_0x383559['style']['background']=_0x1f02aa(0x173)):(_0x383559[_0x1f02aa(0x2ad)]=_0x1f02aa(0x16f),_0x383559['className']=_0x1f02aa(0x226),_0x383559[_0x1f02aa(0x182)][_0x1f02aa(0x2e0)]=_0x1f02aa(0x1ca),_0x383559[_0x1f02aa(0x182)][_0x1f02aa(0x1cd)]=_0x1f02aa(0x2a9)),openSheet(_0x1f02aa(0x1f6));}let currentAnPeriod=a2_0xa4ad55(0x1ae);function openAnalytics(){const _0x4d26cb=a2_0xa4ad55,_0x24e010=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x4d26cb(0x1ae),_0x24e010),closeAllSheets(),openSheet(_0x4d26cb(0x29d));}function setAnalyticsPeriod(_0x5a4132,_0x591fdc){const _0x29e90a=a2_0xa4ad55;currentAnPeriod=_0x5a4132,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x29e90a(0x298)](_0x3f148c=>_0x3f148c[_0x29e90a(0x163)][_0x29e90a(0x24d)](_0x29e90a(0x1dd)));if(_0x591fdc)_0x591fdc[_0x29e90a(0x163)][_0x29e90a(0x1e4)](_0x29e90a(0x1dd));const _0x306ec8=document[_0x29e90a(0x1c8)](_0x29e90a(0x2c9));_0x306ec8['style']['display']=_0x5a4132===_0x29e90a(0x183)?_0x29e90a(0x1a5):_0x29e90a(0x2b6);const _0x3dde6b=new Date();let _0x61a9a0=new Date(),_0x403eff=new Date();if(_0x5a4132===_0x29e90a(0x1ae))_0x61a9a0=getStartOfWeek(_0x3dde6b),_0x403eff=new Date(_0x61a9a0),_0x403eff['setDate'](_0x403eff['getDate']()+0x6);else{if(_0x5a4132==='month')_0x61a9a0=new Date(_0x3dde6b[_0x29e90a(0x241)](),_0x3dde6b[_0x29e90a(0x26a)](),0x1),_0x403eff=new Date(_0x3dde6b[_0x29e90a(0x241)](),_0x3dde6b['getMonth']()+0x1,0x0);else{!document['getElementById'](_0x29e90a(0x20a))[_0x29e90a(0x208)]&&(document[_0x29e90a(0x1c8)](_0x29e90a(0x20a))[_0x29e90a(0x208)]=getLocalDateStr(_0x3dde6b),document[_0x29e90a(0x1c8)](_0x29e90a(0x1c0))[_0x29e90a(0x208)]=getLocalDateStr(_0x3dde6b));refreshAnalytics();return;}}document[_0x29e90a(0x1c8)](_0x29e90a(0x20a))[_0x29e90a(0x208)]=getLocalDateStr(_0x61a9a0),document[_0x29e90a(0x1c8)](_0x29e90a(0x1c0))['value']=getLocalDateStr(_0x403eff),refreshAnalytics();}function refreshAnalytics(){const _0x2efb0c=a2_0xa4ad55,_0x3b6066=document[_0x2efb0c(0x1c8)](_0x2efb0c(0x20a))[_0x2efb0c(0x208)],_0x5a4cba=document['getElementById'](_0x2efb0c(0x1c0))[_0x2efb0c(0x208)];if(!_0x3b6066||!_0x5a4cba)return;const _0x561c96=sessions[_0x2efb0c(0x285)](_0x5a00bf=>_0x5a00bf['dateStr']>=_0x3b6066&&_0x5a00bf[_0x2efb0c(0x2dd)]<=_0x5a4cba&&_0x5a00bf[_0x2efb0c(0x24c)]!==_0x2efb0c(0x2a1)),_0x5833b2=_0x561c96[_0x2efb0c(0x2c3)],_0x54377f=_0x561c96['filter'](_0x1b1dad=>_0x1b1dad['status']==='completed')[_0x2efb0c(0x2c3)],_0x379d96=_0x5833b2>0x0?Math[_0x2efb0c(0x273)](_0x54377f/_0x5833b2*0x64):0x0;document[_0x2efb0c(0x1c8)]('anPercent')[_0x2efb0c(0x2ad)]=_0x379d96+'%',document[_0x2efb0c(0x1c8)](_0x2efb0c(0x222))[_0x2efb0c(0x2ad)]=_0x54377f+'\x20–∏–∑\x20'+_0x5833b2+_0x2efb0c(0x233);const _0x3377f0=document[_0x2efb0c(0x1c8)](_0x2efb0c(0x199)),_0x204acd=0x2*Math['PI']*0x23,_0x41b7fb=_0x204acd-_0x379d96/0x64*_0x204acd;_0x3377f0[_0x2efb0c(0x182)]['strokeDashoffset']=_0x41b7fb;const _0x47262e={};_0x561c96['forEach'](_0x3c6396=>{const _0x3204d4=_0x2efb0c;if(!_0x47262e[_0x3c6396[_0x3204d4(0x223)]]){const _0x475e8d=clients[_0x3204d4(0x24a)](_0x41b240=>_0x41b240[_0x3204d4(0x1d5)]===_0x3c6396[_0x3204d4(0x223)]);_0x47262e[_0x3c6396[_0x3204d4(0x223)]]={'total':0x0,'done':0x0,'color':_0x475e8d?_0x475e8d['color']:_0x3204d4(0x21a)};}_0x47262e[_0x3c6396[_0x3204d4(0x223)]]['total']++;if(_0x3c6396[_0x3204d4(0x24c)]==='completed')_0x47262e[_0x3c6396[_0x3204d4(0x223)]]['done']++;});const _0x212836=document[_0x2efb0c(0x1c8)]('analyticsList');_0x212836['innerHTML']='';const _0x10d55d=Object[_0x2efb0c(0x1a2)](_0x47262e)[_0x2efb0c(0x2aa)]((_0x12bee1,_0x1856e4)=>_0x1856e4[0x1][_0x2efb0c(0x1af)]-_0x12bee1[0x1]['total']);if(_0x10d55d[_0x2efb0c(0x2c3)]===0x0){_0x212836[_0x2efb0c(0x25a)]=_0x2efb0c(0x1ce);return;}_0x10d55d[_0x2efb0c(0x298)](([_0x313fb5,_0x10998a])=>{const _0x2be90b=_0x2efb0c,_0x1ca776=Math[_0x2be90b(0x273)](_0x10998a[_0x2be90b(0x19c)]/_0x10998a['total']*0x64),_0x417fee=document[_0x2be90b(0x224)]('div');_0x417fee[_0x2be90b(0x25e)]='client-stat-card',_0x417fee[_0x2be90b(0x182)][_0x2be90b(0x26c)]=_0x10998a[_0x2be90b(0x2e0)],_0x417fee['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x313fb5+_0x2be90b(0x1bf)+_0x10998a[_0x2be90b(0x19c)]+_0x2be90b(0x16b)+_0x10998a[_0x2be90b(0x1af)]+_0x2be90b(0x2ca)+_0x1ca776+_0x2be90b(0x190),_0x212836[_0x2be90b(0x2c5)](_0x417fee);});}function formatMinsToHrs(_0xf7b6a3){const _0x332833=a2_0xa4ad55;if(_0xf7b6a3===0x0)return'0';const _0x3107f5=Math[_0x332833(0x204)](_0xf7b6a3/0x3c),_0x26ad28=_0xf7b6a3%0x3c;if(_0x26ad28===0x0)return _0x3107f5+'—á';return _0x3107f5+'—á\x20'+_0x26ad28+'–º';}