const a2_0x2f8d75=a2_0x11db;(function(_0x381a6c,_0x64964c){const _0x3385a0=a2_0x11db,_0x3d53c1=_0x381a6c();while(!![]){try{const _0x599ac5=-parseInt(_0x3385a0(0x1e7))/0x1+parseInt(_0x3385a0(0xf7))/0x2+-parseInt(_0x3385a0(0x12a))/0x3*(parseInt(_0x3385a0(0xd4))/0x4)+-parseInt(_0x3385a0(0x103))/0x5*(parseInt(_0x3385a0(0xd2))/0x6)+-parseInt(_0x3385a0(0x9e))/0x7+-parseInt(_0x3385a0(0x181))/0x8+parseInt(_0x3385a0(0x13c))/0x9;if(_0x599ac5===_0x64964c)break;else _0x3d53c1['push'](_0x3d53c1['shift']());}catch(_0x32a48b){_0x3d53c1['push'](_0x3d53c1['shift']());}}}(a2_0x361b,0xb1dd5),function initTMA(){const _0x4a8d27=a2_0x11db,_0x2021fb=(function(){let _0x3316c3=!![];return function(_0x14bac9,_0x1996d5){const _0x19afc1=_0x3316c3?function(){const _0x3b174e=a2_0x11db;if(_0x1996d5){const _0x38295b=_0x1996d5[_0x3b174e(0xcc)](_0x14bac9,arguments);return _0x1996d5=null,_0x38295b;}}:function(){};return _0x3316c3=![],_0x19afc1;};}()),_0x1c1528=_0x2021fb(this,function(){const _0x1fadd8=a2_0x11db;return _0x1c1528[_0x1fadd8(0x163)]()[_0x1fadd8(0xbe)](_0x1fadd8(0xf1))['toString']()[_0x1fadd8(0x1a8)](_0x1c1528)[_0x1fadd8(0xbe)](_0x1fadd8(0xf1));});_0x1c1528();try{const _0x19f0b7=window[_0x4a8d27(0xc6)]?.[_0x4a8d27(0xd5)];if(!_0x19f0b7)return;_0x19f0b7[_0x4a8d27(0x18e)](),_0x19f0b7[_0x4a8d27(0x121)]();try{_0x19f0b7[_0x4a8d27(0xcf)](_0x4a8d27(0x19d)),_0x19f0b7[_0x4a8d27(0xb2)]&&_0x19f0b7[_0x4a8d27(0xb2)](_0x4a8d27(0x19d));}catch(_0x32f62a){console[_0x4a8d27(0x117)](_0x4a8d27(0x1ca),_0x32f62a);}try{_0x19f0b7[_0x4a8d27(0x138)]&&(_0x19f0b7[_0x4a8d27(0x138)][_0x4a8d27(0xa4)](),_0x19f0b7[_0x4a8d27(0x138)][_0x4a8d27(0x102)](),_0x19f0b7[_0x4a8d27(0x138)]['onClick'](function(){const _0x446065=_0x4a8d27;window[_0x446065(0x19e)][_0x446065(0xde)]=_0x446065(0x110);}));}catch(_0x853bdf){console['log'](_0x4a8d27(0xa5),_0x853bdf);}try{if(_0x19f0b7[_0x4a8d27(0x20b)])_0x19f0b7[_0x4a8d27(0x20b)]();}catch(_0x12cf82){}}catch(_0x577703){console['error'](_0x4a8d27(0xbc),_0x577703);}}());function isAdmin(){const _0x27d48c=a2_0x11db;try{const _0x5decb7=Number(window[_0x27d48c(0xc6)]?.[_0x27d48c(0xd5)]?.[_0x27d48c(0x18b)]?.[_0x27d48c(0x20e)]?.['id']);return _0x5decb7===0xbaf7174;}catch(_0x45a4fc){return![];}}const APP_VERSION=a2_0x2f8d75(0x1da),API_URL=a2_0x2f8d75(0x158),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2f8d75(0xa1),KEY_SESSIONS=a2_0x2f8d75(0x197),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x56d86b=a2_0x2f8d75;return window[_0x56d86b(0xc6)]?.[_0x56d86b(0xd5)]?.[_0x56d86b(0x18b)]?.[_0x56d86b(0x20e)]?.['id']||'guest';},'saveLocally'(){const _0x1e7d8d=a2_0x2f8d75;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x1e7d8d(0x109)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x1e7d8d(0x109)](sessions)),localStorage[_0x1e7d8d(0xab)](KEY_SETTINGS,JSON[_0x1e7d8d(0x109)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1f9284){console[_0x1e7d8d(0x1fb)](_0x1e7d8d(0xeb),_0x1f9284);}},'loadLocal'(){const _0x515852=a2_0x2f8d75;try{const _0x347a57=localStorage['getItem'](KEY_CLIENTS);if(_0x347a57)clients=JSON['parse'](_0x347a57);const _0x37ca8c=localStorage[_0x515852(0x161)](KEY_SESSIONS);if(_0x37ca8c)sessions=JSON[_0x515852(0x1c1)](_0x37ca8c);const _0x2a2e2a=localStorage[_0x515852(0x161)](KEY_SETTINGS);if(_0x2a2e2a){const _0x226820=JSON['parse'](_0x2a2e2a);if(_0x226820[_0x515852(0x1a1)])availabilityPattern=_0x226820[_0x515852(0x1a1)];if(_0x226820['exceptions'])dateExceptions=_0x226820[_0x515852(0x201)];if(_0x226820[_0x515852(0xc2)])specialRanges=_0x226820['ranges'];}else{for(let _0x2095e7=0x0;_0x2095e7<0x7;_0x2095e7++)availabilityPattern[_0x2095e7]=Array[_0x515852(0x188)]({'length':0xc},(_0xbbd77c,_0x2fda89)=>_0x2fda89+0x9);}}catch(_0x38f38a){console[_0x515852(0x1fb)](_0x515852(0x1e5),_0x38f38a);}},async 'fetchFromServer'(_0x36f75a,_0x332337={}){const _0x36fda0=a2_0x2f8d75,_0x61a381=window[_0x36fda0(0xc6)]?.[_0x36fda0(0xd5)],_0x2eaeab={'action':_0x36f75a,'init_data':_0x61a381?.[_0x36fda0(0x1fd)]||'',..._0x332337};try{const _0xbeb13e=await fetch(API_URL,{'method':_0x36fda0(0x1c8),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x36fda0(0x109)](_0x2eaeab)}),_0x580d2b=await _0xbeb13e[_0x36fda0(0x113)]();if(!_0x580d2b['ok'])throw new Error(_0x580d2b[_0x36fda0(0x1fb)]||_0x36fda0(0x1ee));return _0x580d2b[_0x36fda0(0x136)];}catch(_0x286c21){console[_0x36fda0(0x1fb)](_0x36fda0(0x185)+_0x36f75a+_0x36fda0(0x1c3),_0x286c21);throw _0x286c21;}},async 'syncLoad'(){const _0x343650=a2_0x2f8d75,_0x3b1b95=new Date(),_0x3e76c6=_0x3b1b95[_0x343650(0x17f)]()+'-'+String(_0x3b1b95[_0x343650(0x20c)]()+0x1)[_0x343650(0x1e8)](0x2,'0'),_0x5a4351=new Date(_0x3b1b95);_0x5a4351['setMonth'](_0x3b1b95['getMonth']()+0x1);const _0x7b0e36=_0x5a4351[_0x343650(0x17f)]()+'-'+String(_0x5a4351[_0x343650(0x20c)]()+0x1)[_0x343650(0x1e8)](0x2,'0'),_0x2d4574=Date[_0x343650(0xe8)]();console[_0x343650(0x117)](_0x343650(0x126)+_0x3e76c6+',\x20'+_0x7b0e36+'...');try{const [_0x25fc06,_0x35430b]=await Promise['all']([this['fetchFromServer']('init_load',{'month_str':_0x3e76c6}),this[_0x343650(0x1dd)](_0x343650(0x11b),{'month_str':_0x7b0e36})]);if(lastUserActionTime>_0x2d4574)return console[_0x343650(0xba)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x343650(0x1f5)](_0x25fc06,_0x3e76c6),this[_0x343650(0x1f5)](_0x35430b,_0x7b0e36),this[_0x343650(0x170)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x5a2d63){console[_0x343650(0x1fb)](_0x5a2d63);throw _0x5a2d63;}},'mergeServerData'(_0x191184,_0x56d257){const _0x18a065=a2_0x2f8d75;if(!_0x191184)return;_0x191184['clients']&&Array[_0x18a065(0xf3)](_0x191184[_0x18a065(0x137)])&&(clients=_0x191184[_0x18a065(0x137)]);if(_0x191184[_0x18a065(0x1d8)]){if(_0x191184[_0x18a065(0x1d8)]['pattern'])availabilityPattern=_0x191184['settings'][_0x18a065(0x1a1)];if(_0x191184[_0x18a065(0x1d8)][_0x18a065(0x201)])dateExceptions=_0x191184[_0x18a065(0x1d8)]['exceptions'];if(_0x191184[_0x18a065(0x1d8)]['ranges'])specialRanges=_0x191184[_0x18a065(0x1d8)]['ranges'];if(_0x191184[_0x18a065(0x1d8)][_0x18a065(0x1e2)]){localStorage[_0x18a065(0xab)](_0x18a065(0x182),_0x191184['settings'][_0x18a065(0x1e2)]);const _0x4863b8=document[_0x18a065(0x193)](_0x18a065(0x19a));if(_0x4863b8)_0x4863b8[_0x18a065(0x191)]=_0x191184[_0x18a065(0x1d8)][_0x18a065(0x1e2)];}}_0x191184[_0x18a065(0x1dc)]&&(sessions=sessions[_0x18a065(0x1d9)](_0x2a4537=>!_0x2a4537[_0x18a065(0x18c)]['startsWith'](_0x56d257)),Object[_0x18a065(0xee)](_0x191184[_0x18a065(0x1dc)])[_0x18a065(0x1e0)](_0xd119f=>{const _0x1b94dc=_0x18a065,_0xd8c666=_0x191184[_0x1b94dc(0x1dc)][_0xd119f];_0xd8c666['forEach'](_0x1daba8=>{const _0x255127=_0x1b94dc,_0x3eddae=clients['find'](_0x8be273=>String(_0x8be273['id'])===String(_0x1daba8['c']));sessions['push']({'id':_0x1daba8['i'],'clientId':_0x1daba8['c'],'client':_0x3eddae?_0x3eddae['name']:_0x255127(0x1a6),'dateStr':_0x56d257+'-'+_0xd119f['padStart'](0x2,'0'),'start':_0x1daba8['s'],'end':_0x1daba8['e'],'status':_0x1daba8['st']||_0x255127(0x133),'note':_0x1daba8['n']||'','seriesId':_0x1daba8[_0x255127(0x114)]||null});});}));},async 'syncBatch'(_0x7526fa){const _0x1121b1=a2_0x2f8d75,_0xc29640=[...new Set(_0x7526fa)],_0x4585ca=_0xc29640['map'](_0x4580d7=>{const _0xb00558=a2_0x11db,_0xb21ee5=sessions[_0xb00558(0x1d9)](_0x446749=>_0x446749[_0xb00558(0x18c)]===_0x4580d7&&_0x446749[_0xb00558(0x122)]!==_0xb00558(0x207)),_0x36b846=_0xb21ee5[_0xb00558(0x1d7)](_0x2cb84e=>({'i':_0x2cb84e['id'],'c':_0x2cb84e['clientId'],'s':_0x2cb84e[_0xb00558(0x155)],'e':_0x2cb84e[_0xb00558(0x1a7)],'st':_0x2cb84e['status'],'n':_0x2cb84e[_0xb00558(0x1d3)],'sid':_0x2cb84e['seriesId']}));return{'date':_0x4580d7,'day_data':_0x36b846};});if(_0x4585ca[_0x1121b1(0x99)]===0x0)return;console[_0x1121b1(0x117)](_0x1121b1(0xc0)+_0x4585ca['length']+'\x20days'),await this[_0x1121b1(0x1dd)]('batch_sync',{'changes':_0x4585ca});}};async function init(){const _0x213497=a2_0x2f8d75;DataManager[_0x213497(0x135)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x213497(0x175),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x213497(0x156)]()[_0x213497(0x20d)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x213497(0x15a)](_0x28f2f9=>{const _0x3513b7=_0x213497;showToast(_0x3513b7(0x1cb),![]);});}function generateId(){const _0x5ee1b6=a2_0x2f8d75;return Date[_0x5ee1b6(0xe8)]()[_0x5ee1b6(0x163)](0x24)+Math[_0x5ee1b6(0x177)]()[_0x5ee1b6(0x163)](0x24)[_0x5ee1b6(0x1b9)](0x2,0x5);}function toggleSeriesInput(){const _0x24722e=a2_0x2f8d75,_0x201bf3=document[_0x24722e(0x193)]('inpRecurring')[_0x24722e(0x15c)],_0xdc9c18=document['getElementById'](_0x24722e(0xb4));_0xdc9c18[_0x24722e(0x168)][_0x24722e(0x1cd)]=_0x201bf3?_0x24722e(0x19b):_0x24722e(0x12e);const _0xca648d=document[_0x24722e(0x193)](_0x24722e(0xe0));_0xca648d['style'][_0x24722e(0xdc)]=_0x201bf3?_0x24722e(0xf2):_0x24722e(0x160);}function openAddSession(_0x434aef){const _0x1952d3=a2_0x2f8d75;editingId=null,populateClientSelect(),document[_0x1952d3(0x193)](_0x1952d3(0x1ec))[_0x1952d3(0xef)]=_0x1952d3(0x178),document['getElementById'](_0x1952d3(0x11f))[_0x1952d3(0x168)][_0x1952d3(0x1cd)]=_0x1952d3(0x12e),document[_0x1952d3(0x193)]('btnStatusToggle')['style'][_0x1952d3(0x1cd)]=_0x1952d3(0x12e);const _0x46b7a1=document[_0x1952d3(0x193)](_0x1952d3(0xe0)),_0xda6247=document[_0x1952d3(0x193)]('seriesCountContainer');_0x46b7a1[_0x1952d3(0x168)][_0x1952d3(0x1cd)]='flex',_0x46b7a1[_0x1952d3(0x168)]['borderRadius']=_0x1952d3(0x160),document[_0x1952d3(0x193)](_0x1952d3(0x1ab))['checked']=![],document[_0x1952d3(0x193)]('inpSeriesCount')[_0x1952d3(0x191)]=0x4,_0xda6247[_0x1952d3(0x168)][_0x1952d3(0x1cd)]=_0x1952d3(0x12e),document[_0x1952d3(0x193)](_0x1952d3(0xc3))[_0x1952d3(0x191)]=getLocalDateStr(_0x434aef),updateDateDisplay();const _0x3d2d93=_0x434aef[_0x1952d3(0x157)]();document[_0x1952d3(0x193)](_0x1952d3(0x124))[_0x1952d3(0x191)]=String(_0x3d2d93)[_0x1952d3(0x1e8)](0x2,'0')+_0x1952d3(0x108),document['getElementById'](_0x1952d3(0x1d5))['value']=String(_0x3d2d93+0x1)[_0x1952d3(0x1e8)](0x2,'0')+':00',openSheet(_0x1952d3(0x215));}function openEdit(_0x2df262){const _0x4c734e=a2_0x2f8d75;editingId=_0x2df262['id'],populateClientSelect(),document[_0x4c734e(0x193)]('sheetTitle')[_0x4c734e(0xef)]=_0x4c734e(0x1db),document[_0x4c734e(0x193)](_0x4c734e(0x11f))['style'][_0x4c734e(0x1cd)]=_0x4c734e(0x19b);const _0x2c979f=document[_0x4c734e(0x193)](_0x4c734e(0x1ea));_0x2c979f[_0x4c734e(0x168)][_0x4c734e(0x1cd)]='flex';_0x2df262['status']===_0x4c734e(0x184)?(_0x2c979f[_0x4c734e(0x1ef)]=_0x4c734e(0x213),_0x2c979f[_0x4c734e(0x1f4)]=_0x4c734e(0x129)):(_0x2c979f['className']='btn-status-toggle',_0x2c979f['innerHTML']=_0x4c734e(0xe9));const _0x54aa8d=!!_0x2df262['seriesId'];document[_0x4c734e(0x193)]('recurringOptionContainer')[_0x4c734e(0x168)]['display']=_0x4c734e(0x12e),document[_0x4c734e(0x193)](_0x4c734e(0xb4))[_0x4c734e(0x168)][_0x4c734e(0x1cd)]='none',_0x54aa8d?(document[_0x4c734e(0x193)](_0x4c734e(0xe1))[_0x4c734e(0x168)][_0x4c734e(0x1cd)]=_0x4c734e(0x1f7),document[_0x4c734e(0x193)](_0x4c734e(0xe1))[_0x4c734e(0x1cf)](_0x4c734e(0x101))[_0x4c734e(0xef)]=_0x4c734e(0x174)):document[_0x4c734e(0x193)](_0x4c734e(0xe1))['style'][_0x4c734e(0x1cd)]=_0x4c734e(0x12e),document[_0x4c734e(0x193)](_0x4c734e(0xa8))[_0x4c734e(0x191)]=_0x2df262['client'],document[_0x4c734e(0x193)](_0x4c734e(0xc3))[_0x4c734e(0x191)]=_0x2df262['dateStr'],document['getElementById']('inpStart')[_0x4c734e(0x191)]=_0x2df262['start'],document['getElementById']('inpEnd')['value']=_0x2df262[_0x4c734e(0x1a7)],document['getElementById'](_0x4c734e(0xa3))['value']=_0x2df262['note']||'',updateDateDisplay(),openSheet(_0x4c734e(0x215));}async function trySaveSession(){const _0x44c16c=a2_0x2f8d75,_0x274823=document[_0x44c16c(0x193)](_0x44c16c(0xa8))[_0x44c16c(0x191)],_0x3e001a=document['getElementById'](_0x44c16c(0xc3))['value'],_0x5a6762=document[_0x44c16c(0x193)](_0x44c16c(0x124))[_0x44c16c(0x191)],_0x34e51b=document[_0x44c16c(0x193)]('inpEnd')[_0x44c16c(0x191)],_0x3f1618=document['getElementById'](_0x44c16c(0xa3))[_0x44c16c(0x191)],_0x3b1822=document[_0x44c16c(0x193)](_0x44c16c(0x1ab))[_0x44c16c(0x15c)];let _0x391dc1=0x4;if(_0x3b1822){const _0x5ae890=parseInt(document[_0x44c16c(0x193)](_0x44c16c(0x1c2))['value']);if(!_0x5ae890||_0x5ae890<0x2){showToast(_0x44c16c(0x130),![]);return;}if(_0x5ae890>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x391dc1=_0x5ae890;}const _0x4fdd7f=clients['find'](_0x1726f4=>_0x1726f4[_0x44c16c(0x17b)]===_0x274823);if(!_0x4fdd7f){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x47b4bb=validateAppointment(_0x3e001a,_0x5a6762,_0x34e51b,editingId,_0x4fdd7f['id']);if(!_0x47b4bb[_0x44c16c(0x1b4)]){showToast(_0x47b4bb[_0x44c16c(0x9d)],![]);return;}_0x47b4bb[_0x44c16c(0x180)]&&showToast(_0x47b4bb[_0x44c16c(0x180)],![]);const _0x2b4d8c={'client':_0x274823,'clientId':_0x4fdd7f['id'],'start':_0x5a6762,'end':_0x34e51b,'note':_0x3f1618,'status':_0x44c16c(0x133)},_0x5c118c=editingId?sessions[_0x44c16c(0x1e4)](_0x1203a9=>_0x1203a9['id']===editingId):null;if(_0x5c118c&&_0x5c118c['seriesId']){tempSessionData={..._0x2b4d8c,'dateStr':_0x3e001a,'id':editingId,'seriesId':_0x5c118c[_0x44c16c(0x1de)]},openActionSheet('save');return;}let _0xc7cba7=null;if(!editingId)_0xc7cba7=_0x44c16c(0x14f);else{if(_0x5c118c){if(String(_0x5c118c[_0x44c16c(0x20a)])!==String(_0x4fdd7f['id']))console[_0x44c16c(0x117)](_0x44c16c(0x1b7)),NotificationManager[_0x44c16c(0x18a)](_0x44c16c(0x1ed),_0x5c118c),_0xc7cba7=_0x44c16c(0x14f);else(_0x5c118c[_0x44c16c(0x155)]!==_0x5a6762||_0x5c118c[_0x44c16c(0x1a7)]!==_0x34e51b||_0x5c118c[_0x44c16c(0x18c)]!==_0x3e001a)&&(_0xc7cba7=_0x44c16c(0xc9));}}if(!editingId&&_0x3b1822){createBatchSeries(_0x2b4d8c,_0x3e001a,_0x391dc1),NotificationManager[_0x44c16c(0x18a)](_0x44c16c(0x14f),{..._0x2b4d8c,'dateStr':_0x3e001a});return;}lastUserActionTime=Date[_0x44c16c(0xe8)]();const _0x3fcc62={..._0x2b4d8c,'dateStr':_0x3e001a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3fcc62),_0xc7cba7&&NotificationManager[_0x44c16c(0x18a)](_0xc7cba7,_0x3fcc62);}function toggleSessionStatus(){const _0x29168d=a2_0x2f8d75;lastUserActionTime=Date['now']();const _0x200e1b=sessions[_0x29168d(0x1e4)](_0x19e7c3=>_0x19e7c3['id']===editingId);if(!_0x200e1b)return;const _0x53f6be=_0x200e1b['status']===_0x29168d(0x184)?_0x29168d(0x133):_0x29168d(0x184);_0x200e1b[_0x29168d(0x122)]=_0x53f6be,saveSingleSession(_0x200e1b),_0x53f6be===_0x29168d(0x184)&&NotificationManager[_0x29168d(0x18a)]('complete',_0x200e1b),showToast(_0x53f6be===_0x29168d(0x184)?_0x29168d(0xd8):_0x29168d(0x192),!![]);}function validateAppointment(_0x5d8a4a,_0x5ad229,_0x4223b3,_0x528b5a,_0x1cae8c){const _0x413a57=a2_0x2f8d75,[_0x5d1e73,_0x4c9c48]=_0x5ad229[_0x413a57(0x1f6)](':')['map'](Number),[_0x5b63a7,_0x376ad0]=_0x4223b3[_0x413a57(0x1f6)](':')[_0x413a57(0x1d7)](Number),_0x4e43b2=_0x5d1e73*0x3c+_0x4c9c48,_0x5a5224=_0x5b63a7*0x3c+_0x376ad0,_0x991877=String(_0x1cae8c);let _0x237668=![],_0x395cd0='';for(let _0x5cfe99 of sessions){if(_0x5cfe99[_0x413a57(0x18c)]!==_0x5d8a4a)continue;if(_0x5cfe99[_0x413a57(0x122)]==='cancelled')continue;if(_0x528b5a&&String(_0x5cfe99['id'])===String(_0x528b5a))continue;const [_0x439b6d,_0x3adac2]=_0x5cfe99[_0x413a57(0x155)][_0x413a57(0x1f6)](':')[_0x413a57(0x1d7)](Number),[_0x1bc03c,_0x223cb1]=_0x5cfe99[_0x413a57(0x1a7)][_0x413a57(0x1f6)](':')[_0x413a57(0x1d7)](Number),_0x44a6cc=_0x439b6d*0x3c+_0x3adac2,_0xf8a1c9=_0x1bc03c*0x3c+_0x223cb1;if(Math[_0x413a57(0xff)](_0x4e43b2,_0x44a6cc)<Math['min'](_0x5a5224,_0xf8a1c9)){if(_0x5cfe99['clientId']&&String(_0x5cfe99[_0x413a57(0x20a)])===_0x991877)return{'valid':![],'msg':_0x413a57(0x1bf)+_0x5cfe99[_0x413a57(0x143)]+_0x413a57(0xf9)};_0x237668=!![],_0x395cd0=_0x5cfe99[_0x413a57(0x143)];}}if(_0x237668)return{'valid':!![],'warning':_0x413a57(0xd9)+_0x395cd0};return{'valid':!![]};}function saveSingleSession(_0x152ea7){const _0x349eda=a2_0x2f8d75;if(editingId){const _0x3ccc0f=sessions['findIndex'](_0x2b3ba6=>_0x2b3ba6['id']===editingId);if(_0x3ccc0f!==-0x1)sessions[_0x3ccc0f]=_0x152ea7;}else sessions[_0x349eda(0x15d)](_0x152ea7);afterSaveAction([_0x152ea7[_0x349eda(0x18c)]]);}function createBatchSeries(_0x4f1b58,_0x489d24,_0x2b8dca){const _0x1f2bc9=a2_0x2f8d75,_0x3f619b=generateId(),_0x1ffa68=[],_0x2f64d5=[];let _0x25a786=0x0,_0xf0d1e2=new Date(_0x489d24);for(let _0x1993a4=0x0;_0x1993a4<_0x2b8dca;_0x1993a4++){const _0x4e5cd8=getLocalDateStr(_0xf0d1e2),_0x5e39d6=validateAppointment(_0x4e5cd8,_0x4f1b58[_0x1f2bc9(0x155)],_0x4f1b58[_0x1f2bc9(0x1a7)],null,_0x4f1b58['clientId']);if(!_0x5e39d6['valid'])console['log'](_0x1f2bc9(0x1ac)+_0x4e5cd8+_0x1f2bc9(0x12b)),_0x25a786++;else{const _0x43509b={..._0x4f1b58,'id':generateId(),'dateStr':_0x4e5cd8,'seriesId':_0x3f619b};_0x2f64d5[_0x1f2bc9(0x15d)](_0x43509b),_0x1ffa68['push'](_0x4e5cd8);}_0xf0d1e2[_0x1f2bc9(0x13d)](_0xf0d1e2['getDate']()+0x7);}if(_0x2f64d5['length']===0x0){showToast(_0x1f2bc9(0x176),![]);return;}sessions[_0x1f2bc9(0x15d)](..._0x2f64d5),lastUserActionTime=Date[_0x1f2bc9(0xe8)]();let _0xa2e976=_0x1f2bc9(0xfd)+_0x2f64d5[_0x1f2bc9(0x99)];_0x25a786>0x0&&(_0xa2e976+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x25a786+')'),showToast(_0xa2e976,!![]),afterSaveAction(_0x1ffa68);}function updateSeriesBatch(_0x265a4e,_0x5474ba){const _0x1fa03c=a2_0x2f8d75,_0x1cb9c3=[],_0x896ec9=_0x5474ba[_0x1fa03c(0x1de)];if(_0x265a4e==='single'){const _0x5bd3a0={..._0x5474ba,'seriesId':null},_0x38e1fb=sessions['findIndex'](_0xc35da4=>_0xc35da4['id']===_0x5474ba['id']);if(_0x38e1fb!==-0x1)sessions[_0x38e1fb]=_0x5bd3a0;_0x1cb9c3[_0x1fa03c(0x15d)](_0x5bd3a0[_0x1fa03c(0x18c)]);}else{if(_0x265a4e===_0x1fa03c(0x98)){const _0x1a3cc4=_0x5474ba[_0x1fa03c(0x18c)];sessions[_0x1fa03c(0x1e0)]((_0xd705d0,_0x411cdd)=>{const _0x2ef2be=_0x1fa03c;_0xd705d0[_0x2ef2be(0x1de)]===_0x896ec9&&_0xd705d0[_0x2ef2be(0x18c)]>=_0x1a3cc4&&(sessions[_0x411cdd]={...sessions[_0x411cdd],'start':_0x5474ba['start'],'end':_0x5474ba['end'],'note':_0x5474ba[_0x2ef2be(0x1d3)],'client':_0x5474ba[_0x2ef2be(0x143)],'clientId':_0x5474ba[_0x2ef2be(0x20a)]},_0x1cb9c3[_0x2ef2be(0x15d)](_0xd705d0[_0x2ef2be(0x18c)]));});}}afterSaveAction(_0x1cb9c3);}function tryDeleteSession(){const _0x37e8ff=a2_0x2f8d75,_0x42bbb5=sessions[_0x37e8ff(0x1e4)](_0x7febc7=>_0x7febc7['id']===editingId);if(!_0x42bbb5)return;_0x42bbb5[_0x37e8ff(0x1de)]?openActionSheet(_0x37e8ff(0x209)):commitDelete(_0x37e8ff(0x200),_0x42bbb5);}function commitDelete(_0x30ee75,_0x27908c){const _0x478f38=a2_0x2f8d75;lastUserActionTime=Date['now'](),NotificationManager[_0x478f38(0x18a)]('cancel',_0x27908c);const _0x47556c=[];if(_0x30ee75==='single')sessions=sessions[_0x478f38(0x1d9)](_0x4e9631=>_0x4e9631['id']!==_0x27908c['id']),_0x47556c[_0x478f38(0x15d)](_0x27908c[_0x478f38(0x18c)]);else{if(_0x30ee75===_0x478f38(0x98)){const _0x1ee63e=_0x27908c[_0x478f38(0x18c)],_0x15c198=_0x27908c[_0x478f38(0x1de)];sessions['forEach'](_0x78d6ab=>{const _0x59f91e=_0x478f38;_0x78d6ab[_0x59f91e(0x1de)]===_0x15c198&&_0x78d6ab[_0x59f91e(0x18c)]>=_0x1ee63e&&_0x47556c[_0x59f91e(0x15d)](_0x78d6ab[_0x59f91e(0x18c)]);}),sessions=sessions[_0x478f38(0x1d9)](_0x41fc62=>!(_0x41fc62[_0x478f38(0x1de)]===_0x15c198&&_0x41fc62[_0x478f38(0x18c)]>=_0x1ee63e));}}afterSaveAction(_0x47556c);}function afterSaveAction(_0x44ec28){const _0x347920=a2_0x2f8d75;DataManager[_0x347920(0x170)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x347920(0xb5)](_0x44ec28)['then'](()=>console[_0x347920(0x117)](_0x347920(0xcb)))[_0x347920(0x15a)](_0x3e0c9c=>showToast(_0x347920(0x115),![]));}const NotificationManager={'formatDate'(_0x58796d){const _0x4a915a=a2_0x2f8d75,_0x1ac0e1=new Date(_0x58796d),_0x18347a={'weekday':_0x4a915a(0x1c7),'day':'numeric','month':_0x4a915a(0x1c7)};let _0x3dd4ab=_0x1ac0e1[_0x4a915a(0x1c4)](_0x4a915a(0xf8),_0x18347a);return _0x3dd4ab[_0x4a915a(0x144)](0x0)['toUpperCase']()+_0x3dd4ab[_0x4a915a(0x139)](0x1);},'getText'(_0x4b1f0e,_0x2aedcb){const _0x183143=a2_0x2f8d75,_0x3b18c8=this[_0x183143(0xac)](_0x2aedcb[_0x183143(0x18c)]);switch(_0x4b1f0e){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3b18c8+'\x0a')+(_0x183143(0x12c)+_0x2aedcb[_0x183143(0x155)]+_0x183143(0x1ae)+_0x2aedcb[_0x183143(0x1a7)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x183143(0xc9):return _0x183143(0x149)+_0x183143(0xc5)+(_0x183143(0xed)+_0x2aedcb[_0x183143(0x155)]+_0x183143(0x1ae)+_0x2aedcb[_0x183143(0x1a7)]+'</b>\x0a\x0a')+(_0x183143(0xdf)+_0x3b18c8);case _0x183143(0x1ed):return _0x183143(0x1c5)+(_0x183143(0xad)+_0x3b18c8+'\x20('+_0x2aedcb[_0x183143(0x155)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x183143(0x1a3):return _0x183143(0x186)+_0x183143(0x151)+_0x183143(0x18d);default:return'';}},async 'send'(_0x4c5bde,_0x29e9e8){const _0x332dac=a2_0x2f8d75;console[_0x332dac(0x117)](_0x332dac(0x120),_0x4c5bde,_0x29e9e8);if(!_0x29e9e8){console['error'](_0x332dac(0xf4));return;}const _0x158701=String(_0x29e9e8[_0x332dac(0x20a)]);console[_0x332dac(0x117)]('[Notify]\x20Detected\x20Client\x20ID:',_0x158701);if(!_0x29e9e8[_0x332dac(0x20a)]||_0x158701===_0x332dac(0xb3)||_0x158701===_0x332dac(0x1ad)){console[_0x332dac(0x1fb)](_0x332dac(0x10c));if(_0x29e9e8['client']){const _0x368c77=clients['find'](_0x5a965a=>_0x5a965a[_0x332dac(0x17b)]===_0x29e9e8[_0x332dac(0x143)]);if(_0x368c77)return console[_0x332dac(0x117)](_0x332dac(0x116),_0x368c77['id']),this[_0x332dac(0x18a)](_0x4c5bde,{..._0x29e9e8,'clientId':_0x368c77['id']});}return;}if(_0x158701[_0x332dac(0x99)]<0x5){console[_0x332dac(0xba)](_0x332dac(0x212),_0x158701);return;}const _0x357fce=this[_0x332dac(0x145)](_0x4c5bde,_0x29e9e8);if(!_0x357fce){console[_0x332dac(0x1fb)](_0x332dac(0x206));return;}console[_0x332dac(0x117)](_0x332dac(0x11d)+_0x158701+'...'),DataManager[_0x332dac(0x1dd)](_0x332dac(0x150),{'chatId':_0x158701,'text':_0x357fce})[_0x332dac(0x20d)](_0x4260be=>console[_0x332dac(0x117)]('[Notify]\x20Server\x20Response:',_0x4260be))[_0x332dac(0x15a)](_0xfa8b4=>console[_0x332dac(0x1fb)](_0x332dac(0x1f0),_0xfa8b4));}};function getLocalDateStr(_0x2c8053){const _0x466ee8=a2_0x2f8d75,_0x92c67d=_0x2c8053[_0x466ee8(0x17f)](),_0x4fa495=String(_0x2c8053[_0x466ee8(0x20c)]()+0x1)[_0x466ee8(0x1e8)](0x2,'0'),_0xb44b88=String(_0x2c8053[_0x466ee8(0x20f)]())[_0x466ee8(0x1e8)](0x2,'0');return _0x92c67d+'-'+_0x4fa495+'-'+_0xb44b88;}function getDateStr(_0x489ee9){const _0x1b1a38=a2_0x2f8d75,_0x1e30a3=new Date();return _0x1e30a3[_0x1b1a38(0x13d)](_0x1e30a3[_0x1b1a38(0x20f)]()+_0x489ee9),getLocalDateStr(_0x1e30a3);}function getStartOfWeek(_0x3b5170){const _0x2703fb=a2_0x2f8d75,_0x3f5332=new Date(_0x3b5170),_0x4de5ea=_0x3f5332[_0x2703fb(0x195)](),_0xf9d173=_0x3f5332['getDate']()-_0x4de5ea+(_0x4de5ea===0x0?-0x6:0x1);return _0x3f5332[_0x2703fb(0x13d)](_0xf9d173),_0x3f5332['setHours'](0x0,0x0,0x0,0x0),_0x3f5332;}function hexToRgba(_0x325102,_0x51a389){const _0x170a13=a2_0x2f8d75;if(!_0x325102)return _0x170a13(0x13f);let _0x36aa6b=0x0,_0x20a898=0x0,_0x18f6b4=0x0;if(_0x325102['length']===0x4)_0x36aa6b='0x'+_0x325102[0x1]+_0x325102[0x1],_0x20a898='0x'+_0x325102[0x2]+_0x325102[0x2],_0x18f6b4='0x'+_0x325102[0x3]+_0x325102[0x3];else _0x325102[_0x170a13(0x99)]===0x7&&(_0x36aa6b='0x'+_0x325102[0x1]+_0x325102[0x2],_0x20a898='0x'+_0x325102[0x3]+_0x325102[0x4],_0x18f6b4='0x'+_0x325102[0x5]+_0x325102[0x6]);return _0x170a13(0x194)+ +_0x36aa6b+',\x20'+ +_0x20a898+',\x20'+ +_0x18f6b4+',\x20'+_0x51a389+')';}function renderTimeColumn(){const _0x56645c=a2_0x2f8d75,_0x5976b1=document[_0x56645c(0x193)](_0x56645c(0x1ce)),_0x133043=document[_0x56645c(0x193)](_0x56645c(0x1f8));_0x5976b1[_0x56645c(0x1f4)]='',_0x5976b1['appendChild'](_0x133043);for(let _0x2794fd=0x0;_0x2794fd<0x18;_0x2794fd++){const _0x308851=document[_0x56645c(0x10a)](_0x56645c(0x17c));_0x308851[_0x56645c(0x1ef)]=_0x56645c(0x165);if(_0x2794fd>0x0)_0x308851['innerHTML']='<span>'+String(_0x2794fd)[_0x56645c(0x1e8)](0x2,'0')+_0x56645c(0x1d0);_0x5976b1[_0x56645c(0xe6)](_0x308851);}}function renderDayRange(_0x313632,_0x2343c9){const _0x279230=a2_0x2f8d75,_0x25be80=document['getElementById']('daysHeaderTrack'),_0x487ce0=document['getElementById']('gridColumns'),_0x16101e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2d9857=new Date();_0x2d9857[_0x279230(0x1bc)](0x0,0x0,0x0,0x0);const _0x556fc6=getLocalDateStr(new Date());for(let _0x3b8d1e=_0x313632;_0x3b8d1e<=_0x2343c9;_0x3b8d1e++){const _0x37e2f5=new Date(_0x2d9857);_0x37e2f5[_0x279230(0x13d)](_0x37e2f5[_0x279230(0x20f)]()+_0x3b8d1e);const _0x50f1a9=getLocalDateStr(_0x37e2f5);let _0x2d6162=_0x37e2f5[_0x279230(0x195)]()-0x1;if(_0x2d6162===-0x1)_0x2d6162=0x6;const _0x5a11c4=_0x50f1a9===_0x556fc6,_0x2844ae=document[_0x279230(0x10a)](_0x279230(0x17c));_0x2844ae[_0x279230(0x1ef)]=_0x279230(0x9a)+(_0x5a11c4?'today':''),_0x2844ae['id']=_0x279230(0x1fc)+_0x50f1a9,_0x2844ae[_0x279230(0x19f)](_0x279230(0xb7),_0x50f1a9),_0x2844ae['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x16101e[_0x2d6162]+'</div><div\x20class=\x22dch-num\x22>'+_0x37e2f5[_0x279230(0x20f)]()+_0x279230(0x1d4)+_0x50f1a9+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2844ae['onclick']=()=>openDayOptions(_0x50f1a9,_0x16101e[_0x2d6162]+'\x20'+_0x37e2f5['getDate']()),_0x25be80[_0x279230(0xe6)](_0x2844ae);const _0x2f3de7=document['createElement'](_0x279230(0x17c));_0x2f3de7[_0x279230(0x1ef)]='day-column\x20'+(_0x5a11c4?_0x279230(0x12f):''),_0x2f3de7[_0x279230(0x19f)](_0x279230(0xb7),_0x50f1a9),_0x2f3de7['setAttribute'](_0x279230(0x1aa),_0x2d6162),renderEventsForColumn(_0x2f3de7,_0x50f1a9,_0x2d6162),attachLongPressHandler(_0x2f3de7,_0x37e2f5),_0x487ce0[_0x279230(0xe6)](_0x2f3de7),updateDayStats(_0x50f1a9);}}function reRenderBlocks(){const _0x5c4dc4=a2_0x2f8d75;document[_0x5c4dc4(0x1a4)](_0x5c4dc4(0x169))[_0x5c4dc4(0x1e0)](_0x25bbdd=>{const _0x384033=_0x5c4dc4;_0x25bbdd['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x384033(0x1e0)](_0x318251=>_0x318251[_0x384033(0x15f)]());const _0x14b387=_0x25bbdd['getAttribute'](_0x384033(0xb7)),_0x5bf15d=parseInt(_0x25bbdd[_0x384033(0x1e1)](_0x384033(0x1aa))),_0x1b89d0=Math[_0x384033(0x1d6)](_0x25bbdd[_0x384033(0x128)]);(availabilityPattern[_0x5bf15d]||[])[_0x384033(0x1e0)](_0x12edfe=>{const _0x8b02ab=_0x384033,_0x5a9ee8=document['createElement']('div');_0x5a9ee8[_0x8b02ab(0x1ef)]=_0x8b02ab(0xd6);const _0x1c67d0=_0x12edfe*GRID_H;_0x5a9ee8[_0x8b02ab(0x168)][_0x8b02ab(0x1b1)]=_0x1c67d0+'px',_0x5a9ee8[_0x8b02ab(0x168)][_0x8b02ab(0xbd)]='-'+_0x1b89d0+_0x8b02ab(0xf6)+_0x1c67d0+'px',_0x25bbdd[_0x8b02ab(0xe6)](_0x5a9ee8);});if(specialRanges&&specialRanges[_0x384033(0x99)]>0x0){const _0x2b7476=new Date(_0x14b387+_0x384033(0x10d))[_0x384033(0x106)](),_0x2773f9=new Date(_0x14b387+'T23:59:59')['getTime']();specialRanges[_0x384033(0x1e0)](_0x53994a=>{const _0x424b2d=_0x384033,_0x256bb0=new Date(_0x53994a[_0x424b2d(0x155)])['getTime'](),_0x56c000=new Date(_0x53994a[_0x424b2d(0x1a7)])[_0x424b2d(0x106)](),_0x41044b=Math[_0x424b2d(0xff)](_0x2b7476,_0x256bb0),_0x5103f3=Math[_0x424b2d(0x10b)](_0x2773f9,_0x56c000);if(_0x41044b<_0x5103f3){if(_0x41044b<=_0x2b7476&&_0x5103f3>=_0x2773f9-0xea60){if(!_0x25bbdd[_0x424b2d(0x1cf)]('.day-off-overlay')){const _0x12ace2=document[_0x424b2d(0x10a)](_0x424b2d(0x17c));_0x12ace2[_0x424b2d(0x1ef)]='day-off-overlay\x20stripe-bg',_0x12ace2[_0x424b2d(0x168)][_0x424b2d(0xbd)]='-'+_0x1b89d0+'px\x200px',_0x25bbdd[_0x424b2d(0xe6)](_0x12ace2);}}else{const _0x46b9ff=(_0x41044b-_0x2b7476)/0x36ee80*GRID_H,_0x233bee=(_0x5103f3-_0x41044b)/0x36ee80*GRID_H,_0x1fa1fd=document[_0x424b2d(0x10a)](_0x424b2d(0x17c));_0x1fa1fd['className']=_0x424b2d(0x14a),_0x1fa1fd['style'][_0x424b2d(0x1b1)]=_0x46b9ff+'px',_0x1fa1fd['style'][_0x424b2d(0x189)]=_0x233bee+'px',_0x1fa1fd[_0x424b2d(0x168)][_0x424b2d(0xbd)]='-'+_0x1b89d0+_0x424b2d(0xf6)+_0x46b9ff+'px',_0x25bbdd['appendChild'](_0x1fa1fd);}}});}if(dateExceptions[_0x14b387]==='off'){if(!_0x25bbdd['querySelector']('.day-off-overlay')){const _0x2acaf4=document[_0x384033(0x10a)](_0x384033(0x17c));_0x2acaf4[_0x384033(0x1ef)]=_0x384033(0xbb),_0x2acaf4[_0x384033(0x168)][_0x384033(0xbd)]='-'+_0x1b89d0+_0x384033(0xfc),_0x25bbdd['appendChild'](_0x2acaf4);}}renderEventsForColumn(_0x25bbdd,_0x14b387,_0x5bf15d),updateDayStats(_0x14b387);});}function updateAllDayStats(){const _0xaf50ad=a2_0x2f8d75;document[_0xaf50ad(0x1a4)](_0xaf50ad(0xa0))[_0xaf50ad(0x1e0)](_0x4fb590=>{const _0x4ac27c=_0xaf50ad;updateDayStats(_0x4fb590[_0x4ac27c(0x1e1)](_0x4ac27c(0xb7)));});}function updateDayStats(_0x4eab1e){const _0x658728=a2_0x2f8d75,_0x4ff2d6=document['getElementById'](_0x658728(0x214)+_0x4eab1e);if(!_0x4ff2d6)return;const _0x3ee2ba=new Date(_0x4eab1e);let _0x2feda0=_0x3ee2ba[_0x658728(0x195)]()-0x1;if(_0x2feda0===-0x1)_0x2feda0=0x6;if(dateExceptions[_0x4eab1e]===_0x658728(0x1b3)){_0x4ff2d6[_0x658728(0x168)][_0x658728(0x1cd)]='none';return;}const _0x261f3b=availabilityPattern[_0x2feda0]||[],_0x484a57=0x18-_0x261f3b[_0x658728(0x99)],_0x2d326f=_0x484a57*0x3c,_0x37dbdc=sessions['filter'](_0x4f92c2=>_0x4f92c2[_0x658728(0x18c)]===_0x4eab1e&&_0x4f92c2[_0x658728(0x122)]!==_0x658728(0xd1));if(_0x37dbdc[_0x658728(0x99)]===0x0){_0x4ff2d6[_0x658728(0x168)][_0x658728(0x1cd)]='none';return;}let _0x3c1f64=_0x37dbdc[_0x658728(0x1d7)](_0x37b7b5=>{const _0x28895a=_0x658728,[_0x76068f,_0x5bd334]=_0x37b7b5[_0x28895a(0x155)]['split'](':')[_0x28895a(0x1d7)](Number),[_0x491fb6,_0x4b2a77]=_0x37b7b5[_0x28895a(0x1a7)][_0x28895a(0x1f6)](':')[_0x28895a(0x1d7)](Number);return[_0x76068f*0x3c+_0x5bd334,_0x491fb6*0x3c+_0x4b2a77];});_0x3c1f64[_0x658728(0x1eb)]((_0x45de94,_0x57cdd5)=>_0x45de94[0x0]-_0x57cdd5[0x0]);let _0x1f2aa2=[];if(_0x3c1f64[_0x658728(0x99)]>0x0){let _0x1833c0=_0x3c1f64[0x0];for(let _0x16083f=0x1;_0x16083f<_0x3c1f64[_0x658728(0x99)];_0x16083f++){_0x3c1f64[_0x16083f][0x0]<_0x1833c0[0x1]?_0x1833c0[0x1]=Math['max'](_0x1833c0[0x1],_0x3c1f64[_0x16083f][0x1]):(_0x1f2aa2[_0x658728(0x15d)](_0x1833c0),_0x1833c0=_0x3c1f64[_0x16083f]);}_0x1f2aa2[_0x658728(0x15d)](_0x1833c0);}let _0x207602=0x0;_0x1f2aa2[_0x658728(0x1e0)](_0x41a7a3=>_0x207602+=_0x41a7a3[0x1]-_0x41a7a3[0x0]),_0x4ff2d6[_0x658728(0x168)]['display']=_0x658728(0x1f7);const _0x18e062=_0x4ff2d6['querySelector'](_0x658728(0xaf));if(_0x2d326f===0x0){_0x18e062[_0x658728(0x168)][_0x658728(0x216)]='100%',_0x18e062[_0x658728(0x168)]['background']=_0x658728(0x141);return;}const _0xfbb695=_0x207602/_0x2d326f*0x64;console[_0x658728(0x117)]('['+_0x4eab1e+_0x658728(0xea)+_0x484a57+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x207602+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0xfbb695['toFixed'](0x1)+'%'),_0xfbb695>0x64?(_0x18e062[_0x658728(0x168)][_0x658728(0x216)]=_0x658728(0x142),_0x18e062[_0x658728(0x168)][_0x658728(0x1f1)]='var(--acc-red)'):(_0x18e062[_0x658728(0x168)][_0x658728(0x216)]=_0xfbb695+'%',_0x18e062[_0x658728(0x168)][_0x658728(0x1f1)]=_0x658728(0xe2));}function a2_0x11db(_0x212189,_0x17ca1d){_0x212189=_0x212189-0x97;const _0x206315=a2_0x361b();let _0x2ca12b=_0x206315[_0x212189];return _0x2ca12b;}function renderEventsForColumn(_0x2d33a2,_0x4aae90,_0x4b9b0c){const _0x428daa=a2_0x2f8d75,_0x3a5784=sessions[_0x428daa(0x1d9)](_0x5af511=>_0x5af511[_0x428daa(0x18c)]===_0x4aae90),_0x393f79=_0x3a5784[_0x428daa(0x1d7)](_0x475a91=>{const _0xb98426=_0x428daa,[_0x440c2d,_0x1ff09b]=_0x475a91['start'][_0xb98426(0x1f6)](':')[_0xb98426(0x1d7)](Number),[_0x423b15,_0x3c8475]=_0x475a91[_0xb98426(0x1a7)]['split'](':')[_0xb98426(0x1d7)](Number);return{'data':_0x475a91,'start':_0x440c2d*0x3c+_0x1ff09b,'end':_0x423b15*0x3c+_0x3c8475,'colIndex':0x0};});_0x393f79[_0x428daa(0x1eb)]((_0x5f4376,_0x499bb8)=>{const _0x44e41c=_0x428daa;if(_0x5f4376[_0x44e41c(0x155)]!==_0x499bb8[_0x44e41c(0x155)])return _0x5f4376[_0x44e41c(0x155)]-_0x499bb8[_0x44e41c(0x155)];return _0x499bb8[_0x44e41c(0x1a7)]-_0x499bb8[_0x44e41c(0x155)]-(_0x5f4376['end']-_0x5f4376[_0x44e41c(0x155)]);});const _0x5b9f40=[];_0x393f79[_0x428daa(0x1e0)](_0x522a0=>{const _0x399ae4=_0x428daa;let _0x3ccde3=![];for(let _0x500aee=0x0;_0x500aee<_0x5b9f40['length'];_0x500aee++){const _0x3031c4=_0x5b9f40[_0x500aee],_0x18f08b=_0x3031c4[_0x3031c4[_0x399ae4(0x99)]-0x1];if(_0x522a0['start']>=_0x18f08b[_0x399ae4(0x1a7)]){_0x3031c4['push'](_0x522a0),_0x522a0[_0x399ae4(0x100)]=_0x500aee,_0x3ccde3=!![];break;}}!_0x3ccde3&&(_0x5b9f40[_0x399ae4(0x15d)]([_0x522a0]),_0x522a0[_0x399ae4(0x100)]=_0x5b9f40['length']-0x1);}),_0x393f79['forEach'](_0x55d7eb=>{const _0x58c269=_0x428daa;let _0x24f215=0x0;_0x393f79[_0x58c269(0x1e0)](_0x2f609a=>{const _0x2d3ae2=_0x58c269;if(Math[_0x2d3ae2(0xff)](_0x55d7eb[_0x2d3ae2(0x155)],_0x2f609a[_0x2d3ae2(0x155)])<Math[_0x2d3ae2(0x10b)](_0x55d7eb[_0x2d3ae2(0x1a7)],_0x2f609a[_0x2d3ae2(0x1a7)])){if(_0x2f609a[_0x2d3ae2(0x100)]>_0x24f215)_0x24f215=_0x2f609a[_0x2d3ae2(0x100)];}});const _0x205652=_0x24f215+0x1,_0x3ffca9=0x64/_0x205652,_0x941275=_0x55d7eb[_0x58c269(0x100)]*_0x3ffca9,_0x523ee7=createEventEl(_0x55d7eb[_0x58c269(0x136)]);_0x523ee7['style']['width']=_0x58c269(0x164)+_0x3ffca9+_0x58c269(0x140),_0x523ee7['style']['left']=_0x58c269(0x164)+_0x941275+_0x58c269(0x154),_0x523ee7[_0x58c269(0x168)]['zIndex']=0xa+_0x55d7eb[_0x58c269(0x100)],_0x3ffca9<0x55&&_0x523ee7[_0x58c269(0x196)]['add']('mini'),_0x2d33a2[_0x58c269(0xe6)](_0x523ee7);});}function createEventEl(_0x3b00a3){const _0x2a9afc=a2_0x2f8d75,[_0x5ee423,_0x484a32]=_0x3b00a3['start'][_0x2a9afc(0x1f6)](':')[_0x2a9afc(0x1d7)](Number),[_0x7f1406,_0x89a1df]=_0x3b00a3[_0x2a9afc(0x1a7)][_0x2a9afc(0x1f6)](':')[_0x2a9afc(0x1d7)](Number),_0x205317=(_0x5ee423*0x3c+_0x484a32)/0x3c*GRID_H,_0x57f534=(_0x7f1406*0x3c+_0x89a1df-(_0x5ee423*0x3c+_0x484a32))/0x3c*GRID_H,_0x108009=document['createElement'](_0x2a9afc(0x17c)),_0x49a4a4=_0x3b00a3[_0x2a9afc(0x122)]===_0x2a9afc(0x184)?_0x2a9afc(0x173):'';_0x108009[_0x2a9afc(0x1ef)]=_0x2a9afc(0x179)+_0x49a4a4,_0x108009[_0x2a9afc(0x168)][_0x2a9afc(0x1b1)]=_0x205317+'px',_0x108009[_0x2a9afc(0x168)][_0x2a9afc(0x189)]=Math['max'](_0x57f534,0x14)+'px';const _0x78c760=clients[_0x2a9afc(0x1e4)](_0x1ead03=>_0x3b00a3[_0x2a9afc(0x20a)]&&String(_0x1ead03['id'])===String(_0x3b00a3[_0x2a9afc(0x20a)])||_0x1ead03[_0x2a9afc(0x17b)]===_0x3b00a3['client']),_0x48eab9=_0x78c760?_0x78c760[_0x2a9afc(0x162)]:_0x2a9afc(0x1a5);_0x108009[_0x2a9afc(0x168)]['borderLeftColor']=_0x48eab9,_0x108009[_0x2a9afc(0x168)][_0x2a9afc(0x210)]=hexToRgba(_0x48eab9,0.85);let _0x19aa16=_0x2a9afc(0x9b)+_0x3b00a3['client']+_0x2a9afc(0xcd)+_0x3b00a3[_0x2a9afc(0x155)]+_0x2a9afc(0x13b)+_0x3b00a3[_0x2a9afc(0x1a7)]+_0x2a9afc(0x1e6);return _0x3b00a3[_0x2a9afc(0x1de)]&&(_0x19aa16+=_0x2a9afc(0x132)),_0x3b00a3[_0x2a9afc(0x122)]===_0x2a9afc(0x184)&&(_0x19aa16+=_0x2a9afc(0xb9)),_0x108009[_0x2a9afc(0x1f4)]=_0x19aa16,_0x108009[_0x2a9afc(0x1bd)]=_0x4eed46=>{const _0x584c35=_0x2a9afc;_0x4eed46[_0x584c35(0x19c)](),openEdit(_0x3b00a3);},_0x108009;}function attachLongPressHandler(_0x92aad9,_0x29052c){const _0x22da6e=a2_0x2f8d75;let _0x34a33b=0x0,_0x448cc8=null;const _0x13e715=_0x5b386c=>{const _0x560713=a2_0x11db;if(_0x5b386c[_0x560713(0xe4)][_0x560713(0x153)]('.event-card'))return;isScrolling=![],_0x34a33b=_0x5b386c[_0x560713(0x202)]?_0x5b386c[_0x560713(0x202)][0x0][_0x560713(0x167)]:_0x5b386c['clientY'],_0x448cc8=setTimeout(()=>{const _0x1f9e28=_0x560713;if(!isScrolling){navigator[_0x1f9e28(0x1cc)]?.(0x32);const _0x2e0700=_0x92aad9[_0x1f9e28(0x1fa)](),_0x1b7d41=Math[_0x1f9e28(0x1f3)]((_0x34a33b-_0x2e0700[_0x1f9e28(0x1b1)])/GRID_H);_0x29052c[_0x1f9e28(0x1bc)](_0x1b7d41,0x0),openAddSession(_0x29052c);}},0x1f4);},_0xd22eaf=()=>{isScrolling=!![],clearTimeout(_0x448cc8);},_0x692619=()=>{clearTimeout(_0x448cc8);};_0x92aad9[_0x22da6e(0x208)](_0x22da6e(0x1fe),_0x13e715,{'passive':!![]}),_0x92aad9[_0x22da6e(0x208)](_0x22da6e(0x152),_0xd22eaf,{'passive':!![]}),_0x92aad9['addEventListener'](_0x22da6e(0x10f),_0x692619),_0x92aad9[_0x22da6e(0x208)](_0x22da6e(0xd7),_0x13e715),_0x92aad9['addEventListener'](_0x22da6e(0xc8),_0xd22eaf),_0x92aad9[_0x22da6e(0x208)](_0x22da6e(0x205),_0x692619);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x588a25=a2_0x2f8d75,_0x479812=document['getElementById'](_0x588a25(0x1a0)),_0x6c9c82=_0x479812[_0x588a25(0x112)],_0x4cf3fc=_0x479812['scrollWidth'],_0x55f338=_0x479812[_0x588a25(0x17d)];if(_0x4cf3fc-(_0x6c9c82+_0x55f338)<0x12c){const _0x436801=endOffset;endOffset+=0xe,renderDayRange(_0x436801+0x1,endOffset),reRenderBlocks();}if(_0x6c9c82<0x12c){const _0x37e8a0=startOffset;startOffset-=0xe,prependDays(startOffset,_0x37e8a0-0x1),_0x479812['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x3545e8,_0x4d54fb){const _0x338610=a2_0x2f8d75,_0x4602e1=document[_0x338610(0x193)]('daysHeaderTrack'),_0x515ddd=document[_0x338610(0x193)](_0x338610(0xe7)),_0x78f26f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x447695=new Date();_0x447695[_0x338610(0x1bc)](0x0,0x0,0x0,0x0);const _0x501b5e=getLocalDateStr(new Date()),_0x5cd1cd=document[_0x338610(0x1df)](),_0x57a8b8=document[_0x338610(0x1df)]();for(let _0x5b9fda=_0x3545e8;_0x5b9fda<=_0x4d54fb;_0x5b9fda++){const _0x13a409=new Date(_0x447695);_0x13a409['setDate'](_0x13a409[_0x338610(0x20f)]()+_0x5b9fda);const _0x10bac1=getLocalDateStr(_0x13a409);let _0x3cab39=_0x13a409[_0x338610(0x195)]()-0x1;if(_0x3cab39===-0x1)_0x3cab39=0x6;const _0x5183ce=_0x10bac1===_0x501b5e,_0x293c36=document[_0x338610(0x10a)]('div');_0x293c36[_0x338610(0x1ef)]=_0x338610(0x9a)+(_0x5183ce?'today':''),_0x293c36['id']='header-'+_0x10bac1,_0x293c36['setAttribute']('data-date',_0x10bac1),_0x293c36['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x78f26f[_0x3cab39]+_0x338610(0x16e)+_0x13a409[_0x338610(0x20f)]()+_0x338610(0x1d4)+_0x10bac1+_0x338610(0x11a),_0x293c36[_0x338610(0x1bd)]=()=>openDayOptions(_0x10bac1,_0x78f26f[_0x3cab39]+'\x20'+_0x13a409[_0x338610(0x20f)]()),_0x5cd1cd['appendChild'](_0x293c36);const _0x4191bf=document[_0x338610(0x10a)]('div');_0x4191bf[_0x338610(0x1ef)]='day-column\x20'+(_0x5183ce?_0x338610(0x12f):''),_0x4191bf[_0x338610(0x19f)](_0x338610(0xb7),_0x10bac1),_0x4191bf[_0x338610(0x19f)](_0x338610(0x1aa),_0x3cab39),renderEventsForColumn(_0x4191bf,_0x10bac1,_0x3cab39),attachLongPressHandler(_0x4191bf,_0x13a409),_0x57a8b8[_0x338610(0xe6)](_0x4191bf),updateDayStats(_0x10bac1);}_0x4602e1[_0x338610(0xb0)](_0x5cd1cd,_0x4602e1[_0x338610(0x198)]),_0x515ddd[_0x338610(0xb0)](_0x57a8b8,_0x515ddd[_0x338610(0x1cf)](_0x338610(0x217)));}function validateAppointment(_0x1271df,_0x53f4b9,_0x2d46fc,_0x20031b,_0x24f4c2){const _0x38d9a9=a2_0x2f8d75,[_0x24a12f,_0x334801]=_0x53f4b9[_0x38d9a9(0x1f6)](':')[_0x38d9a9(0x1d7)](Number),[_0x2a47be,_0x5ed4fe]=_0x2d46fc[_0x38d9a9(0x1f6)](':')[_0x38d9a9(0x1d7)](Number),_0x1caa6d=_0x24a12f*0x3c+_0x334801,_0x2fc822=_0x2a47be*0x3c+_0x5ed4fe,_0x35c0f9=String(_0x24f4c2);let _0x469478=![],_0x45a9a7='';for(let _0xdd9875 of sessions){if(_0xdd9875[_0x38d9a9(0x18c)]!==_0x1271df)continue;if(_0xdd9875[_0x38d9a9(0x122)]===_0x38d9a9(0xd1))continue;if(_0x20031b&&String(_0xdd9875['id'])===String(_0x20031b))continue;const [_0x183100,_0x2daf0c]=_0xdd9875[_0x38d9a9(0x155)]['split'](':')[_0x38d9a9(0x1d7)](Number),[_0x1fa160,_0x277356]=_0xdd9875['end']['split'](':')[_0x38d9a9(0x1d7)](Number),_0x463c1d=_0x183100*0x3c+_0x2daf0c,_0x4f4e75=_0x1fa160*0x3c+_0x277356;if(Math[_0x38d9a9(0xff)](_0x1caa6d,_0x463c1d)<Math[_0x38d9a9(0x10b)](_0x2fc822,_0x4f4e75)){if(_0xdd9875[_0x38d9a9(0x20a)]&&String(_0xdd9875[_0x38d9a9(0x20a)])===_0x35c0f9)return{'valid':![],'msg':_0x38d9a9(0x1bf)+_0xdd9875[_0x38d9a9(0x143)]+_0x38d9a9(0xf9)};_0x469478=!![],_0x45a9a7=_0xdd9875[_0x38d9a9(0x143)];}}if(_0x469478)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x45a9a7};return{'valid':!![]};}function updateDateDisplay(){const _0x574331=a2_0x2f8d75,_0x2b0d2f=document[_0x574331(0x193)](_0x574331(0xc3))[_0x574331(0x191)],_0x558ba4=document[_0x574331(0x193)]('sheetDateSubtitle');if(!_0x2b0d2f){_0x558ba4['textContent']='';return;}const [_0xf7352c,_0x49e2b6,_0x3d069e]=_0x2b0d2f['split']('-')['map'](Number),_0x39cc75=new Date(_0xf7352c,_0x49e2b6-0x1,_0x3d069e),_0x57784b={'weekday':_0x574331(0x1c7),'day':_0x574331(0x123),'month':_0x574331(0x1c7),'year':_0x574331(0x123)};let _0x2e99d3=_0x39cc75['toLocaleDateString']('ru-RU',_0x57784b);_0x2e99d3=_0x2e99d3[_0x574331(0x144)](0x0)[_0x574331(0x16f)]()+_0x2e99d3[_0x574331(0x139)](0x1),_0x558ba4[_0x574331(0xef)]=_0x2e99d3;}function autoSetEndTime(){const _0x213cbb=a2_0x2f8d75,_0x5345d5=document[_0x213cbb(0x193)]('inpStart')[_0x213cbb(0x191)];if(!_0x5345d5)return;const [_0x13201d,_0x5d88ab]=_0x5345d5[_0x213cbb(0x1f6)](':')[_0x213cbb(0x1d7)](Number);let _0x41300e=_0x13201d+0x1;if(_0x41300e>0x17)_0x41300e=0x0;const _0x507b4b=String(_0x41300e)['padStart'](0x2,'0')+':'+String(_0x5d88ab)['padStart'](0x2,'0');document[_0x213cbb(0x193)](_0x213cbb(0x1d5))[_0x213cbb(0x191)]=_0x507b4b;}function populateClientSelect(){const _0x4d5300=a2_0x2f8d75,_0x5a86ce=document[_0x4d5300(0x193)](_0x4d5300(0xa8));_0x5a86ce['innerHTML']='';if(clients['length']===0x0){const _0x52f5cf=document[_0x4d5300(0x10a)](_0x4d5300(0x204));_0x52f5cf[_0x4d5300(0x9c)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x5a86ce[_0x4d5300(0xe6)](_0x52f5cf);return;}clients[_0x4d5300(0x1e0)](_0x4252ca=>{const _0x1d155f=_0x4d5300,_0x4d3592=document[_0x1d155f(0x10a)](_0x1d155f(0x204));_0x4d3592[_0x1d155f(0x191)]=_0x4252ca[_0x1d155f(0x17b)],_0x4d3592[_0x1d155f(0xef)]=_0x4252ca[_0x1d155f(0x17b)],_0x5a86ce[_0x1d155f(0xe6)](_0x4d3592);});}function openActionSheet(_0x318e45){const _0x556a51=a2_0x2f8d75,_0x15c999=document['getElementById'](_0x556a51(0x97)),_0x352f76=document['getElementById']('actionSheetOverlay'),_0x19f72b=document[_0x556a51(0x193)](_0x556a51(0xca)),_0x3d005a=document['getElementById'](_0x556a51(0x172)),_0x6e0f9f=document[_0x556a51(0x193)](_0x556a51(0x1be));_0x352f76[_0x556a51(0x196)]['add']('active'),_0x15c999[_0x556a51(0x196)][_0x556a51(0x12d)](_0x556a51(0x131));if(_0x318e45===_0x556a51(0x118))_0x19f72b[_0x556a51(0xef)]=_0x556a51(0x17a),_0x3d005a['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3d005a[_0x556a51(0x1bd)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x6e0f9f[_0x556a51(0xef)]=_0x556a51(0x159),_0x6e0f9f[_0x556a51(0x1bd)]=()=>{const _0x4cf65a=_0x556a51;closeActionSheet(),updateSeriesBatch(_0x4cf65a(0x98),tempSessionData);};else _0x318e45==='delete'&&(_0x19f72b[_0x556a51(0xef)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x3d005a['textContent']=_0x556a51(0x1c9),_0x3d005a[_0x556a51(0x1ef)]=_0x556a51(0x17e),_0x3d005a[_0x556a51(0x1bd)]=()=>{const _0x582c44=_0x556a51;closeActionSheet(),commitDelete('single',sessions[_0x582c44(0x1e4)](_0x30b4bb=>_0x30b4bb['id']===editingId));},_0x6e0f9f[_0x556a51(0xef)]=_0x556a51(0x159),_0x6e0f9f[_0x556a51(0x1ef)]='as-button\x20danger\x20bold',_0x6e0f9f[_0x556a51(0x1bd)]=()=>{const _0x3bafd6=_0x556a51;closeActionSheet(),commitDelete(_0x3bafd6(0x98),sessions[_0x3bafd6(0x1e4)](_0x4343b5=>_0x4343b5['id']===editingId));});}function closeActionSheet(){const _0x59fa6a=a2_0x2f8d75;document[_0x59fa6a(0x193)](_0x59fa6a(0x97))[_0x59fa6a(0x196)][_0x59fa6a(0x15f)](_0x59fa6a(0x131)),document[_0x59fa6a(0x193)](_0x59fa6a(0x119))[_0x59fa6a(0x196)][_0x59fa6a(0x15f)](_0x59fa6a(0xaa));}function openSettings(){const _0x45199f=a2_0x2f8d75;openSheet(_0x45199f(0x1b6));}function saveCoachSettings(){const _0x33b406=a2_0x2f8d75,_0x3c286b=document[_0x33b406(0x193)](_0x33b406(0x19a))[_0x33b406(0x191)];localStorage[_0x33b406(0xab)](_0x33b406(0x182),_0x3c286b),console[_0x33b406(0x117)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x3c286b),DataManager[_0x33b406(0x1dd)](_0x33b406(0x15e),{'settings':{'cancel_window':_0x3c286b}})[_0x33b406(0x15a)](_0x346046=>{const _0x49329a=_0x33b406;console['error'](_0x49329a(0x15b),_0x346046),showToast(_0x49329a(0x1c0),![]);});}function loadCoachSettings(){const _0x4d45b5=a2_0x2f8d75,_0x1a7bf4=localStorage['getItem'](_0x4d45b5(0x182));_0x1a7bf4&&(document[_0x4d45b5(0x193)](_0x4d45b5(0x19a))[_0x4d45b5(0x191)]=_0x1a7bf4);}function openRangesSheet(){const _0x568d80=a2_0x2f8d75;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x568d80(0xb6));}function addRange(){const _0x1e9798=a2_0x2f8d75,_0x274815=document['getElementById'](_0x1e9798(0xfe))[_0x1e9798(0x191)],_0x38b2ab=document[_0x1e9798(0x193)](_0x1e9798(0xdd))['value'],_0xfb289e=document[_0x1e9798(0x193)](_0x1e9798(0x199))[_0x1e9798(0x191)],_0x1c4771=document['getElementById'](_0x1e9798(0x14e))[_0x1e9798(0x191)];if(!_0x274815||!_0x38b2ab||!_0xfb289e||!_0x1c4771)return alert(_0x1e9798(0xe3));const _0x5b7d62=_0x274815+'T'+_0x38b2ab,_0x22e5aa=_0xfb289e+'T'+_0x1c4771;if(_0x5b7d62>=_0x22e5aa)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x1e9798(0x15d)]({'start':_0x5b7d62,'end':_0x22e5aa}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1e9798(0x15e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x42824f){const _0x2fda6b=a2_0x2f8d75;specialRanges['splice'](_0x42824f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2fda6b(0x170)](),DataManager[_0x2fda6b(0x1dd)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5e83e9=a2_0x2f8d75;document['getElementById'](_0x5e83e9(0xfe))[_0x5e83e9(0x191)]='',document[_0x5e83e9(0x193)](_0x5e83e9(0xdd))[_0x5e83e9(0x191)]=_0x5e83e9(0xb8),document[_0x5e83e9(0x193)]('rangeEndDate')['value']='',document['getElementById']('rangeEndTime')[_0x5e83e9(0x191)]=_0x5e83e9(0x1d1);}function renderRangesList(){const _0x5a69bf=a2_0x2f8d75,_0x590c6f=document[_0x5a69bf(0x193)](_0x5a69bf(0x166));_0x590c6f[_0x5a69bf(0x1f4)]='';if(!specialRanges['length']){_0x590c6f['innerHTML']=_0x5a69bf(0x1f9);return;}specialRanges[_0x5a69bf(0x1e0)]((_0x5615ae,_0x1dee9a)=>{const _0x5c8711=_0x5a69bf,_0x5c178f=document['createElement'](_0x5c8711(0x17c));_0x5c178f[_0x5c8711(0x1ef)]=_0x5c8711(0x9f);const _0x178b29=_0x1a1239=>{const _0x3f66f2=_0x5c8711,_0x4bb0ca=new Date(_0x1a1239);return _0x4bb0ca[_0x3f66f2(0x20f)]()+'.'+String(_0x4bb0ca[_0x3f66f2(0x20c)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x4bb0ca[_0x3f66f2(0x157)]())[_0x3f66f2(0x1e8)](0x2,'0')+':'+String(_0x4bb0ca['getMinutes']())['padStart'](0x2,'0');};_0x5c178f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x178b29(_0x5615ae[_0x5c8711(0x155)])+_0x5c8711(0x1ae)+_0x178b29(_0x5615ae[_0x5c8711(0x1a7)])+_0x5c8711(0x127)+_0x1dee9a+_0x5c8711(0x1bb),_0x590c6f[_0x5c8711(0xe6)](_0x5c178f);});}function scrollToToday(){const _0x4ce571=a2_0x2f8d75,_0x339923=getLocalDateStr(new Date()),_0x53626c=document['getElementById']('header-'+_0x339923),_0x59186a=document['getElementById'](_0x4ce571(0x1a0));if(_0x53626c&&_0x59186a){const _0x196f9f=_0x59186a[_0x4ce571(0x17d)],_0x4ef218=_0x53626c[_0x4ce571(0x128)],_0x60c281=_0x53626c[_0x4ce571(0xa6)];_0x59186a[_0x4ce571(0x112)]=_0x4ef218-_0x196f9f/0x2+_0x60c281/0x2,_0x59186a[_0x4ce571(0xc1)]=0x9*GRID_H;}}function onScroll(){const _0x8a45c7=a2_0x2f8d75,_0x394e19=document['getElementById'](_0x8a45c7(0x1a0)),_0x521137=document[_0x8a45c7(0x1a4)](_0x8a45c7(0xa0));for(let _0x4c6c91 of _0x521137)if(_0x4c6c91['offsetLeft']>=_0x394e19['scrollLeft']){const _0xa8beca=new Date(_0x4c6c91[_0x8a45c7(0x1e1)](_0x8a45c7(0xb7)));document[_0x8a45c7(0x193)](_0x8a45c7(0x11e))[_0x8a45c7(0xef)]=_0xa8beca[_0x8a45c7(0xce)]('ru',{'month':_0x8a45c7(0x1c7)})[_0x8a45c7(0x16f)]()+'\x20'+_0xa8beca[_0x8a45c7(0x17f)]();break;}}function showToast(_0x41928a,_0x2bfb67=![]){const _0x503bbd=a2_0x2f8d75,_0x1adfe3=document[_0x503bbd(0x193)](_0x503bbd(0x14b));_0x1adfe3['className']=_0x503bbd(0x13a)+(_0x2bfb67?'success':''),document['getElementById'](_0x503bbd(0xc7))[_0x503bbd(0xef)]=_0x2bfb67?_0x503bbd(0x171):_0x503bbd(0x14d),document['getElementById'](_0x503bbd(0x104))[_0x503bbd(0xef)]=_0x41928a,_0x1adfe3[_0x503bbd(0x196)][_0x503bbd(0x12d)](_0x503bbd(0xa4)),setTimeout(()=>{const _0x2c8b22=_0x503bbd;_0x1adfe3[_0x2c8b22(0x196)]['remove'](_0x2c8b22(0xa4));},0xbb8);}function openDayOptions(_0x5032ef,_0x309628){const _0x541298=a2_0x2f8d75;selectedDayForOptions=_0x5032ef,document[_0x541298(0x193)](_0x541298(0xc4))['textContent']=_0x309628,openSheet(_0x541298(0xa9));}function toggleDayOff(){const _0x349dc1=a2_0x2f8d75;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x349dc1(0x1b3),reRenderBlocks(),closeAllSheets(),DataManager[_0x349dc1(0x170)](),DataManager[_0x349dc1(0x1dd)](_0x349dc1(0x15e),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x12ba6b=a2_0x2f8d75;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x12ba6b(0x170)](),DataManager[_0x12ba6b(0x1dd)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x50c766){const _0x78529c=a2_0x2f8d75;document[_0x78529c(0x193)](_0x78529c(0xd0))['classList']['add'](_0x78529c(0xaa)),document[_0x78529c(0x193)](_0x50c766)[_0x78529c(0x196)]['add'](_0x78529c(0x131));}function closeAllSheets(){const _0x393393=a2_0x2f8d75;document[_0x393393(0x193)](_0x393393(0xd0))[_0x393393(0x196)][_0x393393(0x15f)]('active'),document[_0x393393(0x1a4)]('.sheet')[_0x393393(0x1e0)](_0x44909c=>_0x44909c[_0x393393(0x196)][_0x393393(0x15f)](_0x393393(0x131)));}function openPatternEditor(){const _0x39efd2=a2_0x2f8d75;closeAllSheets(),document['getElementById'](_0x39efd2(0x16c))[_0x39efd2(0x196)][_0x39efd2(0x12d)](_0x39efd2(0x131)),renderPatternEditor();}function closePatternEditor(){const _0x18ed72=a2_0x2f8d75;document[_0x18ed72(0x193)]('patternEditor')[_0x18ed72(0x196)]['remove'](_0x18ed72(0x131));}function savePattern(){const _0xdff78a=a2_0x2f8d75;document[_0xdff78a(0x193)]('patternEditor')[_0xdff78a(0x196)][_0xdff78a(0x15f)](_0xdff78a(0x131)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0xdff78a(0x1dd)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2201ca=a2_0x2f8d75,_0x12dc1a=document['getElementById'](_0x2201ca(0xa2));_0x12dc1a[_0x2201ca(0x1f4)]='';const _0x412ae1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x40560d=document['createElement'](_0x2201ca(0x17c));_0x40560d[_0x2201ca(0x1ef)]=_0x2201ca(0x16a),_0x12dc1a[_0x2201ca(0xe6)](_0x40560d),_0x412ae1[_0x2201ca(0x1e0)]((_0x15ae68,_0xa15703)=>{const _0xb9e182=_0x2201ca,_0x18a988=document[_0xb9e182(0x10a)]('div');_0x18a988[_0xb9e182(0x1ef)]=_0xb9e182(0xfa),_0x18a988[_0xb9e182(0x1f4)]=_0x15ae68+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x18a988[_0xb9e182(0x1bd)]=()=>toggleColPattern(_0xa15703),_0x12dc1a['appendChild'](_0x18a988);});for(let _0x5c3cf5=0x0;_0x5c3cf5<0x18;_0x5c3cf5++){const _0x214622=document[_0x2201ca(0x10a)](_0x2201ca(0x17c));_0x214622[_0x2201ca(0x1ef)]='pe-time-label',_0x214622[_0x2201ca(0x1f4)]=_0x2201ca(0x1a9)+String(_0x5c3cf5)[_0x2201ca(0x1e8)](0x2,'0')+_0x2201ca(0x108),_0x214622[_0x2201ca(0x1bd)]=()=>toggleRowPattern(_0x5c3cf5),_0x12dc1a[_0x2201ca(0xe6)](_0x214622);for(let _0x5782b4=0x0;_0x5782b4<0x7;_0x5782b4++){const _0xc5863d=document[_0x2201ca(0x10a)]('div'),_0x7014b8=(availabilityPattern[_0x5782b4]||[])[_0x2201ca(0x1b5)](_0x5c3cf5),_0x564c22=!_0x7014b8;_0xc5863d['className']=_0x2201ca(0x211)+(_0x564c22?'active':''),_0xc5863d[_0x2201ca(0x1bd)]=()=>toggleSinglePattern(_0x5782b4,_0x5c3cf5),_0x12dc1a[_0x2201ca(0xe6)](_0xc5863d);}}}function a2_0x361b(){const _0x1c90bc=['toastTitle','mousemove','update','asTitle','Batch\x20Sync\x20OK','apply','</div><div\x20class=\x22ev-time\x22>','toLocaleString','setHeaderColor','overlay','cancelled','174PgQiER','getMinutes','199632vvtyNn','WebApp','blocked-slot\x20stripe-bg','mousedown','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','entries','de-item','borderRadius','rangeStartTime','href','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','recurringOptionContainer','patternInfoBox','var(--acc-current)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','target','doLoadPercent','appendChild','gridColumns','now','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','Local\x20Save\x20Error','rgba(255,\x2069,\x2058,\x200.3)','<b>‚úÖ\x20','keys','textContent','doDateHeader','(((.+)+)+)+$','10px\x2010px\x200\x200','isArray','[Notify]\x20Error:\x20sessionData\x20is\x20null','doWorkHours','px\x20-','62628lheGUR','ru-RU',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','pe-col-header','borderColor','px\x200px','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','rangeStartDate','max','colIndex','.pib-text','offClick','118130PsUeYt','toastMessage','var(--acc-orange)','getTime','anEnd',':00','stringify','createElement','min','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','T00:00:00','</span>\x20/\x20','touchend','router.html','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollLeft','json','sid','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','log','save','actionSheetOverlay','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','init_load','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','headerMonth','btnDelete','[Notify]\x20Attempting\x20to\x20send:','expand','status','numeric','inpStart','\x20–∏–∑\x20','[Sync]\x20Loading\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','offsetLeft','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','57VPxzbv',':\x20Client\x20already\x20booked','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','add','none','today','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','open','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','planned','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loadLocal','data','clients','BackButton','slice','toast-notification\x20','\x20-\x20','41032899PwttHM','setDate','strokeDashoffset','rgba(100,100,100,0.5)','%\x20-\x204px)','var(--acc-red)','100%','client','charAt','getText','anDonutCircle','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','var(--acc-green)','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','blocked-range-part\x20stripe-bg','toast','localeCompare','–ò–Ω—Ñ–æ','rangeEndTime','create','send_notification','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','touchmove','closest','%\x20+\x202px)','start','syncLoad','getHours','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','catch','Save\x20settings\x20error:','checked','push','save_settings','remove','10px','getItem','color','toString','calc(','time-label','rangesList','clientY','style','#gridColumns\x20.day-column','pe-corner','.period-switch\x20.p-btn','patternEditor','client-stat-card','</div><div\x20class=\x22dch-num\x22>','toUpperCase','saveLocally','–£—Å–ø–µ—à–Ω–æ','asBtnOne','\x20status-completed','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','scroll','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','random','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','event-card','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','name','div','clientWidth','as-button\x20danger','getFullYear','warning','4460080RuMnsj','uc_settings_cancel_window','btn-primary\x20btn-danger','completed','[API\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','anStart','from','height','send','initDataUnsafe','dateStr','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','ready','#fff','rgba(255,\x2069,\x2058,\x200.15)','value','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','getElementById','rgba(','getDay','classList','uc_sessions_v9','firstChild','rangeEndDate','settingCancelWindow','block','stopPropagation','#050505','location','setAttribute','matrixViewport','pattern','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','complete','querySelectorAll','#0a84ff','Unknown','end','constructor','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','data-day-idx','inpRecurring','[Series]\x20Skipped\x20','null','\x20‚Äî\x20','anPercent','done','top','analyticsSheet','off','valid','includes','settingsSheet','[Notify]\x20Client\x20SWAP\x20detected','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','substr','DOMContentLoaded',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','setHours','onclick','asBtnSeries','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','parse','inpSeriesCount',']\x20Failed:','toLocaleDateString','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','doEventsList','long','POST','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','Error\x20setting\x20color:','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','vibrate','display','timeColumn','querySelector',':00</span>','23:59','total','note','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','inpEnd','round','map','settings','filter','v9.0-BATCH-CALENDAR','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','calendar','fetchFromServer','seriesId','createDocumentFragment','forEach','getAttribute','cancel_window','globalTimeLine','find','Local\x20Load\x20Error','</div>','761405Dphhfy','padStart','week','btnStatusToggle','sort','sheetTitle','cancel','Server\x20Error','className','[Notify]\x20Network\x20Failed','background','rgba(255,255,255,0.05)','floor','innerHTML','mergeServerData','split','flex','timeLineBadge','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getBoundingClientRect','error','header-','initData','touchstart','indexOf','single','exceptions','touches','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','option','mouseup','[Notify]\x20Error:\x20Text\x20generation\x20failed','deleted','addEventListener','delete','clientId','disableVerticalSwipes','getMonth','then','user','getDate','backgroundColor','pe-cell\x20','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','btn-status-toggle\x20undo-mode','stat-','sessionSheet','width','.day-column','actionSheet','series','length','day-col-header\x20','<div\x20class=\x22ev-title\x22>','text','msg','6367697lgkBNh','range-item','.day-col-header','uc_clients_v9','peGrid','inpNote','show','Error\x20setting\x20back\x20button:','offsetWidth','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','inpClient','dayOptionsSheet','active','setItem','formatDate','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','borderLeftColor','.dch-stats-fill','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','undefined','seriesCountContainer','syncBatch','rangesSheet','data-date','00:00','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','warn','day-off-overlay\x20stripe-bg','Critical\x20TMA\x20Error:','backgroundPosition','search','statLoadCard','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','scrollTop','ranges','inpDate','dayOptionsTitle','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','Telegram'];a2_0x361b=function(){return _0x1c90bc;};return a2_0x361b();}function toggleSinglePattern(_0x3b0189,_0x973541){if(!availabilityPattern[_0x3b0189])availabilityPattern[_0x3b0189]=[];const _0x373abc=availabilityPattern[_0x3b0189],_0x290044=_0x373abc['indexOf'](_0x973541);_0x290044===-0x1?_0x373abc['push'](_0x973541):_0x373abc['splice'](_0x290044,0x1),renderPatternEditor();}function toggleColPattern(_0xc3d336){const _0x276d32=a2_0x2f8d75;if(!availabilityPattern[_0xc3d336])availabilityPattern[_0xc3d336]=[];const _0x4f951d=availabilityPattern[_0xc3d336];_0x4f951d[_0x276d32(0x99)]===0x0?availabilityPattern[_0xc3d336]=Array[_0x276d32(0x188)]({'length':0x18},(_0x5bb30b,_0xbd5c0a)=>_0xbd5c0a):availabilityPattern[_0xc3d336]=[],renderPatternEditor();}function toggleRowPattern(_0x2f7108){const _0x44b1c1=a2_0x2f8d75;let _0x44fe40=!![];for(let _0x247435=0x0;_0x247435<0x7;_0x247435++){if((availabilityPattern[_0x247435]||[])['includes'](_0x2f7108)){_0x44fe40=![];break;}}for(let _0xf34203=0x0;_0xf34203<0x7;_0xf34203++){if(!availabilityPattern[_0xf34203])availabilityPattern[_0xf34203]=[];const _0x547775=availabilityPattern[_0xf34203][_0x44b1c1(0x1ff)](_0x2f7108);if(_0x44fe40){if(_0x547775===-0x1)availabilityPattern[_0xf34203][_0x44b1c1(0x15d)](_0x2f7108);}else{if(_0x547775!==-0x1)availabilityPattern[_0xf34203]['splice'](_0x547775,0x1);}}renderPatternEditor();}function renderPCol(_0x1b9742,_0x41846d){const _0x453748=a2_0x2f8d75;_0x1b9742[_0x453748(0x1f4)]='';const _0x445cfb=Math['round'](_0x1b9742[_0x453748(0x128)]);(availabilityPattern[_0x41846d]||[])[_0x453748(0x1e0)](_0x43afbe=>{const _0x25e207=_0x453748,_0x39ca45=document[_0x25e207(0x10a)](_0x25e207(0x17c));_0x39ca45['className']=_0x25e207(0xd6);const _0x3c4a01=_0x43afbe*GRID_H;_0x39ca45['style']['top']=_0x3c4a01+'px',_0x39ca45[_0x25e207(0x168)][_0x25e207(0xbd)]='-'+_0x445cfb+_0x25e207(0xf6)+_0x3c4a01+'px',_0x39ca45[_0x25e207(0x1bd)]=_0x54f093=>{const _0x2d54a4=_0x25e207;_0x54f093[_0x2d54a4(0x19c)](),toggleSinglePattern(_0x41846d,_0x43afbe);},_0x1b9742[_0x25e207(0xe6)](_0x39ca45);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59f940=a2_0x2f8d75,_0x569eb9=new Date(),_0x2318ee=document[_0x59f940(0x193)](_0x59f940(0x1e3)),_0x29acde=document[_0x59f940(0x193)]('timeLineBadge'),_0x467e56=(_0x569eb9[_0x59f940(0x157)]()*0x3c+_0x569eb9[_0x59f940(0xd3)]())/0x3c*GRID_H;_0x2318ee[_0x59f940(0x168)]['top']=_0x467e56+'px',_0x2318ee['style'][_0x59f940(0x1cd)]=_0x59f940(0x19b),_0x29acde[_0x59f940(0xef)]=String(_0x569eb9[_0x59f940(0x157)]())[_0x59f940(0x1e8)](0x2,'0')+':'+String(_0x569eb9[_0x59f940(0xd3)]())['padStart'](0x2,'0'),_0x29acde[_0x59f940(0x168)][_0x59f940(0x1cd)]=_0x59f940(0x19b),_0x29acde[_0x59f940(0x168)][_0x59f940(0x1b1)]=_0x467e56+'px';}document[a2_0x2f8d75(0x208)](a2_0x2f8d75(0x1ba),init);function openDayOptions(_0x312722){const _0x5939cb=a2_0x2f8d75;selectedDayForOptions=_0x312722;const _0x577035=new Date(_0x312722),_0x22918a={'weekday':_0x5939cb(0x1c7),'day':_0x5939cb(0x123),'month':_0x5939cb(0x1c7),'year':'numeric'},_0x53776c=_0x577035[_0x5939cb(0x1c4)](_0x5939cb(0xf8),_0x22918a);document[_0x5939cb(0x193)](_0x5939cb(0xf0))['textContent']=_0x53776c['charAt'](0x0)[_0x5939cb(0x16f)]()+_0x53776c[_0x5939cb(0x139)](0x1);let _0x5594b5=_0x577035[_0x5939cb(0x195)]()-0x1;if(_0x5594b5===-0x1)_0x5594b5=0x6;const _0x8cd024=availabilityPattern[_0x5594b5]||[],_0x29d3e2=0x18-_0x8cd024[_0x5939cb(0x99)],_0x1bfd86=_0x29d3e2*0x3c,_0xf8b28c=sessions['filter'](_0x3d2945=>_0x3d2945[_0x5939cb(0x18c)]===_0x312722&&_0x3d2945[_0x5939cb(0x122)]!==_0x5939cb(0xd1));let _0x5b305d=_0xf8b28c[_0x5939cb(0x1d7)](_0x35e04a=>{const _0x2fd798=_0x5939cb,[_0x47240b,_0x122b0e]=_0x35e04a[_0x2fd798(0x155)][_0x2fd798(0x1f6)](':')[_0x2fd798(0x1d7)](Number),[_0xba49ff,_0x201027]=_0x35e04a[_0x2fd798(0x1a7)][_0x2fd798(0x1f6)](':')[_0x2fd798(0x1d7)](Number);return[_0x47240b*0x3c+_0x122b0e,_0xba49ff*0x3c+_0x201027];});_0x5b305d[_0x5939cb(0x1eb)]((_0x290f10,_0x20157b)=>_0x290f10[0x0]-_0x20157b[0x0]);let _0x34443a=[];if(_0x5b305d[_0x5939cb(0x99)]>0x0){let _0x243cf9=_0x5b305d[0x0];for(let _0x2ed2f4=0x1;_0x2ed2f4<_0x5b305d['length'];_0x2ed2f4++){_0x5b305d[_0x2ed2f4][0x0]<_0x243cf9[0x1]?_0x243cf9[0x1]=Math[_0x5939cb(0xff)](_0x243cf9[0x1],_0x5b305d[_0x2ed2f4][0x1]):(_0x34443a[_0x5939cb(0x15d)](_0x243cf9),_0x243cf9=_0x5b305d[_0x2ed2f4]);}_0x34443a[_0x5939cb(0x15d)](_0x243cf9);}let _0x3dcf18=0x0;_0x34443a[_0x5939cb(0x1e0)](_0x37e66d=>_0x3dcf18+=_0x37e66d[0x1]-_0x37e66d[0x0]),document[_0x5939cb(0x193)](_0x5939cb(0xf5))[_0x5939cb(0xef)]=formatMinsToHrs(_0x1bfd86),document[_0x5939cb(0x193)]('doBusyHours')['textContent']=formatMinsToHrs(_0x3dcf18);const _0x12331f=_0x1bfd86>0x0?Math[_0x5939cb(0x1d6)](_0x3dcf18/_0x1bfd86*0x64):0x0,_0x503751=document[_0x5939cb(0x193)](_0x5939cb(0xe5));_0x503751['textContent']=_0x12331f+'%';const _0x18b344=document['getElementById'](_0x5939cb(0xbf));if(_0x12331f>0x64)_0x503751[_0x5939cb(0x168)][_0x5939cb(0x162)]=_0x5939cb(0x141),_0x18b344['style'][_0x5939cb(0xfb)]=_0x5939cb(0xec);else _0x12331f>0x50?(_0x503751[_0x5939cb(0x168)][_0x5939cb(0x162)]=_0x5939cb(0x105),_0x18b344['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x503751[_0x5939cb(0x168)][_0x5939cb(0x162)]=_0x5939cb(0x148),_0x18b344['style'][_0x5939cb(0xfb)]=_0x5939cb(0x1f2));const _0x5c3023=document[_0x5939cb(0x193)](_0x5939cb(0x1c6));_0x5c3023['innerHTML']='';_0xf8b28c['length']===0x0?_0x5c3023[_0x5939cb(0x1f4)]=_0x5939cb(0xa7):(_0xf8b28c['sort']((_0x3dc30d,_0x5e8da1)=>_0x3dc30d['start'][_0x5939cb(0x14c)](_0x5e8da1[_0x5939cb(0x155)])),_0xf8b28c['forEach'](_0xa061e0=>{const _0x90729b=_0x5939cb,_0x1b6cfa=clients['find'](_0x591131=>_0x591131[_0x90729b(0x17b)]===_0xa061e0[_0x90729b(0x143)]),_0x24ea39=_0x1b6cfa?_0x1b6cfa[_0x90729b(0x162)]:_0x90729b(0x18f),_0x270304=_0xa061e0[_0x90729b(0x122)]===_0x90729b(0x184),_0x221bce=_0x270304?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x5a35cd=document[_0x90729b(0x10a)](_0x90729b(0x17c));_0x5a35cd[_0x90729b(0x1ef)]=_0x90729b(0xdb),_0x5a35cd[_0x90729b(0x168)][_0x90729b(0xae)]=_0x24ea39,_0x5a35cd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0xa061e0[_0x90729b(0x155)]+'\x20-\x20'+_0xa061e0[_0x90729b(0x1a7)]+_0x90729b(0x134)+_0xa061e0[_0x90729b(0x143)]+_0x90729b(0x11c)+_0x221bce+_0x90729b(0xb1),_0x5c3023['appendChild'](_0x5a35cd);}));const _0x225c2e=document[_0x5939cb(0x193)]('btnDayToggle'),_0x295667=dateExceptions[_0x312722]===_0x5939cb(0x1b3);_0x295667?(_0x225c2e['textContent']=_0x5939cb(0x203),_0x225c2e[_0x5939cb(0x1ef)]='btn-primary\x20btn-secondary',_0x225c2e[_0x5939cb(0x168)]['color']=_0x5939cb(0x148),_0x225c2e[_0x5939cb(0x168)][_0x5939cb(0x1f1)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x225c2e[_0x5939cb(0xef)]=_0x5939cb(0x147),_0x225c2e[_0x5939cb(0x1ef)]=_0x5939cb(0x183),_0x225c2e[_0x5939cb(0x168)][_0x5939cb(0x162)]=_0x5939cb(0x141),_0x225c2e[_0x5939cb(0x168)][_0x5939cb(0x1f1)]=_0x5939cb(0x190)),openSheet(_0x5939cb(0xa9));}let currentAnPeriod=a2_0x2f8d75(0x1e9);function openAnalytics(){const _0x3a2d95=a2_0x2f8d75,_0x13ec38=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x3a2d95(0x1e9),_0x13ec38),closeAllSheets(),openSheet(_0x3a2d95(0x1b2));}function setAnalyticsPeriod(_0x5d8edb,_0x11ac72){const _0x59b591=a2_0x2f8d75;currentAnPeriod=_0x5d8edb,document[_0x59b591(0x1a4)](_0x59b591(0x16b))[_0x59b591(0x1e0)](_0x5c5c4a=>_0x5c5c4a[_0x59b591(0x196)][_0x59b591(0x15f)](_0x59b591(0xaa)));if(_0x11ac72)_0x11ac72[_0x59b591(0x196)]['add'](_0x59b591(0xaa));const _0x1860f8=document[_0x59b591(0x193)]('anCustomDates');_0x1860f8[_0x59b591(0x168)]['display']=_0x5d8edb==='custom'?_0x59b591(0x1f7):'none';const _0x5cc307=new Date();let _0x56e8ec=new Date(),_0x1b2408=new Date();if(_0x5d8edb==='week')_0x56e8ec=getStartOfWeek(_0x5cc307),_0x1b2408=new Date(_0x56e8ec),_0x1b2408[_0x59b591(0x13d)](_0x1b2408[_0x59b591(0x20f)]()+0x6);else{if(_0x5d8edb==='month')_0x56e8ec=new Date(_0x5cc307[_0x59b591(0x17f)](),_0x5cc307[_0x59b591(0x20c)](),0x1),_0x1b2408=new Date(_0x5cc307[_0x59b591(0x17f)](),_0x5cc307[_0x59b591(0x20c)]()+0x1,0x0);else{!document[_0x59b591(0x193)](_0x59b591(0x187))[_0x59b591(0x191)]&&(document[_0x59b591(0x193)](_0x59b591(0x187))[_0x59b591(0x191)]=getLocalDateStr(_0x5cc307),document[_0x59b591(0x193)](_0x59b591(0x107))[_0x59b591(0x191)]=getLocalDateStr(_0x5cc307));refreshAnalytics();return;}}document[_0x59b591(0x193)](_0x59b591(0x187))[_0x59b591(0x191)]=getLocalDateStr(_0x56e8ec),document[_0x59b591(0x193)](_0x59b591(0x107))[_0x59b591(0x191)]=getLocalDateStr(_0x1b2408),refreshAnalytics();}function refreshAnalytics(){const _0x3311b6=a2_0x2f8d75,_0x392417=document['getElementById'](_0x3311b6(0x187))[_0x3311b6(0x191)],_0x8b091b=document[_0x3311b6(0x193)]('anEnd')[_0x3311b6(0x191)];if(!_0x392417||!_0x8b091b)return;const _0x445b9a=sessions[_0x3311b6(0x1d9)](_0x894e56=>_0x894e56[_0x3311b6(0x18c)]>=_0x392417&&_0x894e56[_0x3311b6(0x18c)]<=_0x8b091b&&_0x894e56[_0x3311b6(0x122)]!==_0x3311b6(0xd1)),_0x2b8a0c=_0x445b9a[_0x3311b6(0x99)],_0x10188d=_0x445b9a[_0x3311b6(0x1d9)](_0x39504b=>_0x39504b[_0x3311b6(0x122)]==='completed')[_0x3311b6(0x99)],_0x7e2eed=_0x2b8a0c>0x0?Math[_0x3311b6(0x1d6)](_0x10188d/_0x2b8a0c*0x64):0x0;document[_0x3311b6(0x193)](_0x3311b6(0x1af))[_0x3311b6(0xef)]=_0x7e2eed+'%',document['getElementById']('anTotalStats')[_0x3311b6(0xef)]=_0x10188d+_0x3311b6(0x125)+_0x2b8a0c+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4bf31c=document[_0x3311b6(0x193)](_0x3311b6(0x146)),_0x241a3b=0x2*Math['PI']*0x23,_0x3b043a=_0x241a3b-_0x7e2eed/0x64*_0x241a3b;_0x4bf31c['style'][_0x3311b6(0x13e)]=_0x3b043a;const _0x13806a={};_0x445b9a[_0x3311b6(0x1e0)](_0x4ef49a=>{const _0x341618=_0x3311b6;if(!_0x13806a[_0x4ef49a[_0x341618(0x143)]]){const _0x3dcb1d=clients[_0x341618(0x1e4)](_0x5b1740=>_0x5b1740[_0x341618(0x17b)]===_0x4ef49a[_0x341618(0x143)]);_0x13806a[_0x4ef49a[_0x341618(0x143)]]={'total':0x0,'done':0x0,'color':_0x3dcb1d?_0x3dcb1d[_0x341618(0x162)]:_0x341618(0x18f)};}_0x13806a[_0x4ef49a[_0x341618(0x143)]][_0x341618(0x1d2)]++;if(_0x4ef49a[_0x341618(0x122)]===_0x341618(0x184))_0x13806a[_0x4ef49a[_0x341618(0x143)]][_0x341618(0x1b0)]++;});const _0x588090=document[_0x3311b6(0x193)]('analyticsList');_0x588090['innerHTML']='';const _0x31111a=Object[_0x3311b6(0xda)](_0x13806a)[_0x3311b6(0x1eb)]((_0x4d1cb3,_0x4c72c8)=>_0x4c72c8[0x1][_0x3311b6(0x1d2)]-_0x4d1cb3[0x1][_0x3311b6(0x1d2)]);if(_0x31111a[_0x3311b6(0x99)]===0x0){_0x588090[_0x3311b6(0x1f4)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x31111a[_0x3311b6(0x1e0)](([_0x6e36ef,_0x319170])=>{const _0x27b315=_0x3311b6,_0x49f18e=Math[_0x27b315(0x1d6)](_0x319170[_0x27b315(0x1b0)]/_0x319170[_0x27b315(0x1d2)]*0x64),_0x5a6780=document[_0x27b315(0x10a)](_0x27b315(0x17c));_0x5a6780['className']=_0x27b315(0x16d),_0x5a6780[_0x27b315(0x168)]['borderLeftColor']=_0x319170[_0x27b315(0x162)],_0x5a6780[_0x27b315(0x1f4)]=_0x27b315(0x1b8)+_0x6e36ef+_0x27b315(0x1a2)+_0x319170[_0x27b315(0x1b0)]+_0x27b315(0x10e)+_0x319170[_0x27b315(0x1d2)]+_0x27b315(0x111)+_0x49f18e+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x588090[_0x27b315(0xe6)](_0x5a6780);});}function formatMinsToHrs(_0x6aa6f0){if(_0x6aa6f0===0x0)return'0';const _0xddcdca=Math['floor'](_0x6aa6f0/0x3c),_0x4b2627=_0x6aa6f0%0x3c;if(_0x4b2627===0x0)return _0xddcdca+'—á';return _0xddcdca+'—á\x20'+_0x4b2627+'–º';}