const a2_0x2bcb19=a2_0x40ca;(function(_0x183eb9,_0x4e984e){const _0x11e39e=a2_0x40ca,_0x2bf7e0=_0x183eb9();while(!![]){try{const _0x4912a8=-parseInt(_0x11e39e(0x315))/0x1*(-parseInt(_0x11e39e(0x2b6))/0x2)+-parseInt(_0x11e39e(0x319))/0x3*(-parseInt(_0x11e39e(0x2c0))/0x4)+-parseInt(_0x11e39e(0x34f))/0x5*(-parseInt(_0x11e39e(0x354))/0x6)+parseInt(_0x11e39e(0x1fd))/0x7*(-parseInt(_0x11e39e(0x2d3))/0x8)+-parseInt(_0x11e39e(0x205))/0x9*(parseInt(_0x11e39e(0x2de))/0xa)+parseInt(_0x11e39e(0x1fb))/0xb*(-parseInt(_0x11e39e(0x2a7))/0xc)+parseInt(_0x11e39e(0x321))/0xd;if(_0x4912a8===_0x4e984e)break;else _0x2bf7e0['push'](_0x2bf7e0['shift']());}catch(_0x435e9c){_0x2bf7e0['push'](_0x2bf7e0['shift']());}}}(a2_0x597d,0xc57c8),function initTMA(){const _0x32be5f=a2_0x40ca,_0x39250f=(function(){let _0x47c3f5=!![];return function(_0x47cbc7,_0x37bba5){const _0x2ef027=_0x47c3f5?function(){const _0x47db8c=a2_0x40ca;if(_0x37bba5){const _0x34c384=_0x37bba5[_0x47db8c(0x23e)](_0x47cbc7,arguments);return _0x37bba5=null,_0x34c384;}}:function(){};return _0x47c3f5=![],_0x2ef027;};}()),_0x1cd56d=_0x39250f(this,function(){const _0x29901a=a2_0x40ca;return _0x1cd56d[_0x29901a(0x231)]()['search'](_0x29901a(0x28b))['toString']()['constructor'](_0x1cd56d)['search']('(((.+)+)+)+$');});_0x1cd56d();try{const _0x2b6d86=window['Telegram']?.['WebApp'];if(!_0x2b6d86)return;_0x2b6d86[_0x32be5f(0x2d5)](),_0x2b6d86[_0x32be5f(0x2c8)]();try{_0x2b6d86[_0x32be5f(0x26c)](_0x32be5f(0x2b8)),_0x2b6d86[_0x32be5f(0x21e)]&&_0x2b6d86[_0x32be5f(0x21e)](_0x32be5f(0x2b8));}catch(_0x2c4e58){console[_0x32be5f(0x34b)](_0x32be5f(0x35b),_0x2c4e58);}try{_0x2b6d86['BackButton']&&(_0x2b6d86[_0x32be5f(0x28a)]['show'](),_0x2b6d86['BackButton'][_0x32be5f(0x352)](),_0x2b6d86[_0x32be5f(0x28a)][_0x32be5f(0x357)](function(){const _0x4b7df7=_0x32be5f;window[_0x4b7df7(0x267)][_0x4b7df7(0x207)]=_0x4b7df7(0x2a2);}));}catch(_0x4c134c){console[_0x32be5f(0x34b)](_0x32be5f(0x225),_0x4c134c);}try{if(_0x2b6d86[_0x32be5f(0x2b0)])_0x2b6d86['disableVerticalSwipes']();}catch(_0x1dd622){}}catch(_0x5ea0e5){console[_0x32be5f(0x26d)](_0x32be5f(0x2dd),_0x5ea0e5);}}());function isAdmin(){const _0x37ece1=a2_0x40ca;try{const _0xa097ac=Number(window[_0x37ece1(0x2fd)]?.[_0x37ece1(0x2ed)]?.[_0x37ece1(0x1f2)]?.[_0x37ece1(0x366)]?.['id']);return _0xa097ac===0xbaf7174;}catch(_0x5250b7){return![];}}const APP_VERSION=a2_0x2bcb19(0x349),API_URL=a2_0x2bcb19(0x216),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2bcb19(0x24d),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x558058=a2_0x2bcb19;return window['Telegram']?.['WebApp']?.[_0x558058(0x1f2)]?.[_0x558058(0x366)]?.['id']||_0x558058(0x346);},'saveLocally'(){const _0x1df986=a2_0x2bcb19;try{localStorage[_0x1df986(0x286)](KEY_CLIENTS,JSON[_0x1df986(0x2fa)](clients)),localStorage[_0x1df986(0x286)](KEY_SESSIONS,JSON[_0x1df986(0x2fa)](sessions)),localStorage[_0x1df986(0x286)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x254a22){console['error'](_0x1df986(0x298),_0x254a22);}},'loadLocal'(){const _0x59b578=a2_0x2bcb19;try{const _0x4496f0=localStorage['getItem'](KEY_CLIENTS);if(_0x4496f0)clients=JSON[_0x59b578(0x28d)](_0x4496f0);const _0x540b35=localStorage[_0x59b578(0x2d0)](KEY_SESSIONS);if(_0x540b35)sessions=JSON[_0x59b578(0x28d)](_0x540b35);const _0x4bc415=localStorage[_0x59b578(0x2d0)](KEY_SETTINGS);if(_0x4bc415){const _0x1c2a26=JSON[_0x59b578(0x28d)](_0x4bc415);if(_0x1c2a26[_0x59b578(0x285)])availabilityPattern=_0x1c2a26[_0x59b578(0x285)];if(_0x1c2a26[_0x59b578(0x282)])dateExceptions=_0x1c2a26[_0x59b578(0x282)];if(_0x1c2a26[_0x59b578(0x29b)])specialRanges=_0x1c2a26['ranges'];}else{for(let _0x39a525=0x0;_0x39a525<0x7;_0x39a525++)availabilityPattern[_0x39a525]=Array['from']({'length':0xc},(_0x10f91e,_0x4c2234)=>_0x4c2234+0x9);}}catch(_0x26f564){console[_0x59b578(0x26d)](_0x59b578(0x291),_0x26f564);}},async 'fetchFromServer'(_0x499d96,_0x182e04={}){const _0x2d8b1f=a2_0x2bcb19,_0x5ab590=window[_0x2d8b1f(0x2fd)]?.[_0x2d8b1f(0x2ed)],_0x2311c9={'action':_0x499d96,'init_data':_0x5ab590?.['initData']||'',..._0x182e04};try{const _0x1a82cb=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x2d8b1f(0x268)},'body':JSON[_0x2d8b1f(0x2fa)](_0x2311c9)}),_0x4459b6=await _0x1a82cb[_0x2d8b1f(0x230)]();if(!_0x4459b6['ok'])throw new Error(_0x4459b6[_0x2d8b1f(0x26d)]||_0x2d8b1f(0x323));return _0x4459b6[_0x2d8b1f(0x2d4)];}catch(_0x42b3fb){console[_0x2d8b1f(0x26d)](_0x2d8b1f(0x2d6)+_0x499d96+_0x2d8b1f(0x2a8),_0x42b3fb);throw _0x42b3fb;}},async 'syncLoad'(){const _0x5194bf=a2_0x2bcb19,_0x1eb814=new Date(),_0x261842=_0x1eb814[_0x5194bf(0x360)]()+'-'+String(_0x1eb814['getMonth']()+0x1)[_0x5194bf(0x266)](0x2,'0'),_0x36a44a=new Date(_0x1eb814);_0x36a44a[_0x5194bf(0x1f5)](_0x1eb814[_0x5194bf(0x369)]()+0x1);const _0x3075a7=_0x36a44a[_0x5194bf(0x360)]()+'-'+String(_0x36a44a[_0x5194bf(0x369)]()+0x1)[_0x5194bf(0x266)](0x2,'0'),_0x7714d6=Date['now']();console[_0x5194bf(0x34b)](_0x5194bf(0x20d)+_0x261842+',\x20'+_0x3075a7+_0x5194bf(0x261));try{const [_0x1f68e2,_0x19d731]=await Promise[_0x5194bf(0x331)]([this[_0x5194bf(0x33a)](_0x5194bf(0x29a),{'month_str':_0x261842}),this[_0x5194bf(0x33a)](_0x5194bf(0x29a),{'month_str':_0x3075a7})]);if(lastUserActionTime>_0x7714d6)return console['warn']('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x1f68e2,_0x261842),this['mergeServerData'](_0x19d731,_0x3075a7),this[_0x5194bf(0x31b)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0xda0873){console['error'](_0xda0873);throw _0xda0873;}},'mergeServerData'(_0x574e24,_0x5e3a4d){const _0x16e357=a2_0x2bcb19;if(!_0x574e24)return;_0x574e24[_0x16e357(0x279)]&&Array['isArray'](_0x574e24[_0x16e357(0x279)])&&(clients=_0x574e24[_0x16e357(0x279)]);if(_0x574e24[_0x16e357(0x32e)]){if(_0x574e24[_0x16e357(0x32e)]['pattern'])availabilityPattern=_0x574e24[_0x16e357(0x32e)][_0x16e357(0x285)];if(_0x574e24[_0x16e357(0x32e)][_0x16e357(0x282)])dateExceptions=_0x574e24['settings']['exceptions'];if(_0x574e24[_0x16e357(0x32e)]['ranges'])specialRanges=_0x574e24[_0x16e357(0x32e)]['ranges'];if(_0x574e24[_0x16e357(0x32e)][_0x16e357(0x34a)]){localStorage['setItem'](_0x16e357(0x296),_0x574e24[_0x16e357(0x32e)][_0x16e357(0x34a)]);const _0xe19a4d=document['getElementById'](_0x16e357(0x283));if(_0xe19a4d)_0xe19a4d[_0x16e357(0x2ce)]=_0x574e24[_0x16e357(0x32e)][_0x16e357(0x34a)];}}_0x574e24[_0x16e357(0x28e)]&&(sessions=sessions[_0x16e357(0x26e)](_0x40f7bc=>!_0x40f7bc[_0x16e357(0x255)][_0x16e357(0x344)](_0x5e3a4d)),Object['keys'](_0x574e24[_0x16e357(0x28e)])[_0x16e357(0x23f)](_0x3d5f3d=>{const _0x21df5b=_0x16e357,_0x9f10ba=_0x574e24['calendar'][_0x3d5f3d];_0x9f10ba[_0x21df5b(0x23f)](_0xebf575=>{const _0x3fd796=_0x21df5b,_0x18343a=clients['find'](_0x12c082=>String(_0x12c082['id'])===String(_0xebf575['c']));sessions[_0x3fd796(0x2c3)]({'id':_0xebf575['i'],'clientId':_0xebf575['c'],'client':_0x18343a?_0x18343a[_0x3fd796(0x351)]:_0x3fd796(0x1ef),'dateStr':_0x5e3a4d+'-'+_0x3d5f3d[_0x3fd796(0x266)](0x2,'0'),'start':_0xebf575['s'],'end':_0xebf575['e'],'status':_0xebf575['st']||_0x3fd796(0x33d),'note':_0xebf575['n']||'','seriesId':_0xebf575[_0x3fd796(0x25e)]||null});});}));},async 'syncBatch'(_0x2cc696){const _0x1c36f1=a2_0x2bcb19,_0x528f9f=[...new Set(_0x2cc696)],_0xb0c19b=_0x528f9f[_0x1c36f1(0x239)](_0x18f7eb=>{const _0x244256=_0x1c36f1,_0x1696eb=sessions['filter'](_0x182f10=>_0x182f10['dateStr']===_0x18f7eb&&_0x182f10['status']!==_0x244256(0x2f7)),_0x9ea06f=_0x1696eb[_0x244256(0x239)](_0x1620ef=>({'i':_0x1620ef['id'],'c':_0x1620ef[_0x244256(0x21d)],'s':_0x1620ef['start'],'e':_0x1620ef['end'],'st':_0x1620ef[_0x244256(0x330)],'n':_0x1620ef[_0x244256(0x309)],'sid':_0x1620ef['seriesId']}));return{'date':_0x18f7eb,'day_data':_0x9ea06f};});if(_0xb0c19b[_0x1c36f1(0x290)]===0x0)return;console['log'](_0x1c36f1(0x2b9)+_0xb0c19b['length']+_0x1c36f1(0x345)),await this[_0x1c36f1(0x33a)](_0x1c36f1(0x1eb),{'changes':_0xb0c19b});}};async function init(){const _0x5a1c24=a2_0x2bcb19;DataManager[_0x5a1c24(0x2ac)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5a1c24(0x289)](_0x5a1c24(0x2d1))[_0x5a1c24(0x327)](_0x5a1c24(0x22b),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5a1c24(0x240)]()[_0x5a1c24(0x2ea)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x58a88f=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x402036=a2_0x2bcb19;return Date[_0x402036(0x27a)]()[_0x402036(0x231)](0x24)+Math[_0x402036(0x2aa)]()[_0x402036(0x231)](0x24)[_0x402036(0x2f6)](0x2,0x5);}function a2_0x40ca(_0x380aa7,_0x44f3f9){_0x380aa7=_0x380aa7-0x1e6;const _0x4e9302=a2_0x597d();let _0x4006a4=_0x4e9302[_0x380aa7];return _0x4006a4;}function toggleSeriesInput(){const _0x2621c5=a2_0x2bcb19,_0x1b8308=document[_0x2621c5(0x289)](_0x2621c5(0x272))[_0x2621c5(0x2a6)],_0x3d9404=document[_0x2621c5(0x289)](_0x2621c5(0x2db));_0x3d9404[_0x2621c5(0x364)][_0x2621c5(0x264)]=_0x1b8308?_0x2621c5(0x275):'none';const _0x33b045=document['getElementById']('recurringOptionContainer');_0x33b045[_0x2621c5(0x364)]['borderRadius']=_0x1b8308?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x293759){const _0x50d72e=a2_0x2bcb19;editingId=null,populateClientSelect(),document['getElementById'](_0x50d72e(0x212))[_0x50d72e(0x2e9)]=_0x50d72e(0x318),document[_0x50d72e(0x289)](_0x50d72e(0x1f1))[_0x50d72e(0x364)][_0x50d72e(0x264)]=_0x50d72e(0x202),document['getElementById']('btnStatusToggle')[_0x50d72e(0x364)]['display']=_0x50d72e(0x202);const _0x2b97cf=document[_0x50d72e(0x289)](_0x50d72e(0x215)),_0x63910=document[_0x50d72e(0x289)](_0x50d72e(0x2db));_0x2b97cf['style']['display']='flex',_0x2b97cf[_0x50d72e(0x364)]['borderRadius']='10px',document[_0x50d72e(0x289)](_0x50d72e(0x272))['checked']=![],document[_0x50d72e(0x289)](_0x50d72e(0x306))['value']=0x4,_0x63910[_0x50d72e(0x364)][_0x50d72e(0x264)]=_0x50d72e(0x202),document[_0x50d72e(0x289)](_0x50d72e(0x2eb))[_0x50d72e(0x2ce)]=getLocalDateStr(_0x293759),updateDateDisplay();const _0x1bfc76=_0x293759['getHours']();document[_0x50d72e(0x289)](_0x50d72e(0x1e9))[_0x50d72e(0x2ce)]=String(_0x1bfc76)['padStart'](0x2,'0')+_0x50d72e(0x358),document[_0x50d72e(0x289)](_0x50d72e(0x322))[_0x50d72e(0x2ce)]=String(_0x1bfc76+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x50d72e(0x281));}function openEdit(_0x5229ce){const _0x27f0b7=a2_0x2bcb19;editingId=_0x5229ce['id'],populateClientSelect(),document[_0x27f0b7(0x289)](_0x27f0b7(0x212))[_0x27f0b7(0x2e9)]=_0x27f0b7(0x35e),document[_0x27f0b7(0x289)]('btnDelete')[_0x27f0b7(0x364)][_0x27f0b7(0x264)]=_0x27f0b7(0x275);const _0x3ad354=document[_0x27f0b7(0x289)]('btnStatusToggle');_0x3ad354[_0x27f0b7(0x364)][_0x27f0b7(0x264)]='flex';_0x5229ce['status']===_0x27f0b7(0x2f8)?(_0x3ad354[_0x27f0b7(0x2e4)]=_0x27f0b7(0x22a),_0x3ad354[_0x27f0b7(0x218)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3ad354['className']=_0x27f0b7(0x23d),_0x3ad354['innerHTML']=_0x27f0b7(0x1e7));const _0x2807f2=!!_0x5229ce[_0x27f0b7(0x2f3)];document[_0x27f0b7(0x289)]('recurringOptionContainer')[_0x27f0b7(0x364)][_0x27f0b7(0x264)]=_0x27f0b7(0x202),document['getElementById']('seriesCountContainer')['style'][_0x27f0b7(0x264)]=_0x27f0b7(0x202),_0x2807f2?(document[_0x27f0b7(0x289)](_0x27f0b7(0x31c))[_0x27f0b7(0x364)]['display']=_0x27f0b7(0x2d9),document[_0x27f0b7(0x289)](_0x27f0b7(0x31c))[_0x27f0b7(0x2a0)]('.pib-text')[_0x27f0b7(0x2e9)]=_0x27f0b7(0x26f)):document['getElementById']('patternInfoBox')[_0x27f0b7(0x364)]['display']=_0x27f0b7(0x202),document['getElementById'](_0x27f0b7(0x200))[_0x27f0b7(0x2ce)]=_0x5229ce['client'],document[_0x27f0b7(0x289)](_0x27f0b7(0x2eb))[_0x27f0b7(0x2ce)]=_0x5229ce[_0x27f0b7(0x255)],document[_0x27f0b7(0x289)]('inpStart')[_0x27f0b7(0x2ce)]=_0x5229ce['start'],document[_0x27f0b7(0x289)]('inpEnd')[_0x27f0b7(0x2ce)]=_0x5229ce[_0x27f0b7(0x2ad)],document[_0x27f0b7(0x289)](_0x27f0b7(0x2bc))[_0x27f0b7(0x2ce)]=_0x5229ce[_0x27f0b7(0x309)]||'',updateDateDisplay(),openSheet(_0x27f0b7(0x281));}async function trySaveSession(){const _0x4f1aa9=a2_0x2bcb19,_0x362fcb=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x200))[_0x4f1aa9(0x2ce)],_0x1c0d6b=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x2eb))[_0x4f1aa9(0x2ce)],_0x39a9f2=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x1e9))[_0x4f1aa9(0x2ce)],_0x34de33=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x322))[_0x4f1aa9(0x2ce)],_0x411e25=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x2bc))['value'],_0x20b918=document[_0x4f1aa9(0x289)](_0x4f1aa9(0x272))[_0x4f1aa9(0x2a6)];let _0x10d7f6=0x4;if(_0x20b918){const _0x19888c=parseInt(document[_0x4f1aa9(0x289)](_0x4f1aa9(0x306))[_0x4f1aa9(0x2ce)]);if(!_0x19888c||_0x19888c<0x2){showToast(_0x4f1aa9(0x2da),![]);return;}if(_0x19888c>0x64){showToast(_0x4f1aa9(0x244),![]);return;}_0x10d7f6=_0x19888c;}const _0xee8025=clients[_0x4f1aa9(0x2b2)](_0x2d99ff=>_0x2d99ff[_0x4f1aa9(0x351)]===_0x362fcb);if(!_0xee8025){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x543882=validateAppointment(_0x1c0d6b,_0x39a9f2,_0x34de33,editingId,_0xee8025['id']);if(!_0x543882['valid']){showToast(_0x543882[_0x4f1aa9(0x335)],![]);return;}_0x543882['warning']&&showToast(_0x543882[_0x4f1aa9(0x2f5)],![]);const _0x2a54f8={'client':_0x362fcb,'clientId':_0xee8025['id'],'start':_0x39a9f2,'end':_0x34de33,'note':_0x411e25,'status':_0x4f1aa9(0x33d)},_0x145c3d=editingId?sessions[_0x4f1aa9(0x2b2)](_0x5813af=>_0x5813af['id']===editingId):null;if(_0x145c3d&&_0x145c3d['seriesId']){tempSessionData={..._0x2a54f8,'dateStr':_0x1c0d6b,'id':editingId,'seriesId':_0x145c3d[_0x4f1aa9(0x2f3)]},openActionSheet(_0x4f1aa9(0x203));return;}let _0x4c4e91=null;if(!editingId)_0x4c4e91=_0x4f1aa9(0x1fc);else{if(_0x145c3d){if(String(_0x145c3d[_0x4f1aa9(0x21d)])!==String(_0xee8025['id']))console[_0x4f1aa9(0x34b)](_0x4f1aa9(0x27f)),NotificationManager['send'](_0x4f1aa9(0x2ae),_0x145c3d),_0x4c4e91=_0x4f1aa9(0x1fc);else(_0x145c3d['start']!==_0x39a9f2||_0x145c3d[_0x4f1aa9(0x2ad)]!==_0x34de33||_0x145c3d[_0x4f1aa9(0x255)]!==_0x1c0d6b)&&(_0x4c4e91=_0x4f1aa9(0x320));}}if(!editingId&&_0x20b918){createBatchSeries(_0x2a54f8,_0x1c0d6b,_0x10d7f6),NotificationManager[_0x4f1aa9(0x21a)]('create',{..._0x2a54f8,'dateStr':_0x1c0d6b});return;}lastUserActionTime=Date['now']();const _0x4b434b={..._0x2a54f8,'dateStr':_0x1c0d6b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4b434b),_0x4c4e91&&NotificationManager[_0x4f1aa9(0x21a)](_0x4c4e91,_0x4b434b);}function toggleSessionStatus(){const _0xfdc5e8=a2_0x2bcb19;lastUserActionTime=Date[_0xfdc5e8(0x27a)]();const _0x7c252c=sessions['find'](_0x390cfd=>_0x390cfd['id']===editingId);if(!_0x7c252c)return;const _0x5db07c=_0x7c252c['status']===_0xfdc5e8(0x2f8)?_0xfdc5e8(0x33d):'completed';_0x7c252c['status']=_0x5db07c,saveSingleSession(_0x7c252c),_0x5db07c===_0xfdc5e8(0x2f8)&&NotificationManager[_0xfdc5e8(0x21a)]('complete',_0x7c252c),showToast(_0x5db07c==='completed'?_0xfdc5e8(0x2c7):_0xfdc5e8(0x2e7),!![]);}function validateAppointment(_0x3b06ca,_0x5d966a,_0x571666,_0x25c333,_0x13c7c8){const _0x5dc0f5=a2_0x2bcb19,[_0x561451,_0x2751f8]=_0x5d966a[_0x5dc0f5(0x278)](':')[_0x5dc0f5(0x239)](Number),[_0x3407bb,_0x2784d0]=_0x571666[_0x5dc0f5(0x278)](':')['map'](Number),_0x39e289=_0x561451*0x3c+_0x2751f8,_0x2b31ae=_0x3407bb*0x3c+_0x2784d0,_0x1c721f=String(_0x13c7c8);let _0x1557fa=![],_0x323261='';for(let _0x23a988 of sessions){if(_0x23a988[_0x5dc0f5(0x255)]!==_0x3b06ca)continue;if(_0x23a988[_0x5dc0f5(0x330)]===_0x5dc0f5(0x328))continue;if(_0x25c333&&String(_0x23a988['id'])===String(_0x25c333))continue;const [_0x29847d,_0x16ea1b]=_0x23a988['start'][_0x5dc0f5(0x278)](':')[_0x5dc0f5(0x239)](Number),[_0x470e60,_0x58acb7]=_0x23a988['end']['split'](':')[_0x5dc0f5(0x239)](Number),_0x611fff=_0x29847d*0x3c+_0x16ea1b,_0x434f18=_0x470e60*0x3c+_0x58acb7;if(Math[_0x5dc0f5(0x223)](_0x39e289,_0x611fff)<Math[_0x5dc0f5(0x293)](_0x2b31ae,_0x434f18)){if(_0x23a988[_0x5dc0f5(0x21d)]&&String(_0x23a988[_0x5dc0f5(0x21d)])===_0x1c721f)return{'valid':![],'msg':_0x5dc0f5(0x21b)+_0x23a988['client']+_0x5dc0f5(0x29d)};_0x1557fa=!![],_0x323261=_0x23a988[_0x5dc0f5(0x297)];}}if(_0x1557fa)return{'valid':!![],'warning':_0x5dc0f5(0x252)+_0x323261};return{'valid':!![]};}function saveSingleSession(_0x492ec2){const _0x14cf39=a2_0x2bcb19;if(editingId){const _0x4607e5=sessions[_0x14cf39(0x30d)](_0x184f18=>_0x184f18['id']===editingId);if(_0x4607e5!==-0x1)sessions[_0x4607e5]=_0x492ec2;}else sessions[_0x14cf39(0x2c3)](_0x492ec2);afterSaveAction([_0x492ec2[_0x14cf39(0x255)]]);}function createBatchSeries(_0x1d2927,_0x2ee339,_0x29643c){const _0x54c9ef=a2_0x2bcb19,_0x54319a=generateId(),_0x5af3ac=[],_0x3cd98f=[];let _0x2be238=0x0,_0x19cd96=new Date(_0x2ee339);for(let _0x1e3d1e=0x0;_0x1e3d1e<_0x29643c;_0x1e3d1e++){const _0x368d34=getLocalDateStr(_0x19cd96),_0x121a4c=validateAppointment(_0x368d34,_0x1d2927['start'],_0x1d2927['end'],null,_0x1d2927[_0x54c9ef(0x21d)]);if(!_0x121a4c['valid'])console[_0x54c9ef(0x34b)](_0x54c9ef(0x348)+_0x368d34+':\x20Client\x20already\x20booked'),_0x2be238++;else{const _0x2d659b={..._0x1d2927,'id':generateId(),'dateStr':_0x368d34,'seriesId':_0x54319a};_0x3cd98f[_0x54c9ef(0x2c3)](_0x2d659b),_0x5af3ac['push'](_0x368d34);}_0x19cd96[_0x54c9ef(0x333)](_0x19cd96[_0x54c9ef(0x1ed)]()+0x7);}if(_0x3cd98f[_0x54c9ef(0x290)]===0x0){showToast(_0x54c9ef(0x259),![]);return;}sessions[_0x54c9ef(0x2c3)](..._0x3cd98f),lastUserActionTime=Date[_0x54c9ef(0x27a)]();let _0xbde22d=_0x54c9ef(0x356)+_0x3cd98f[_0x54c9ef(0x290)];_0x2be238>0x0&&(_0xbde22d+=_0x54c9ef(0x217)+_0x2be238+')'),showToast(_0xbde22d,!![]),afterSaveAction(_0x5af3ac);}function updateSeriesBatch(_0x481e99,_0x5c9012){const _0x2ba38f=a2_0x2bcb19,_0x1c3aaa=[],_0x9b1ad7=_0x5c9012[_0x2ba38f(0x2f3)];if(_0x481e99===_0x2ba38f(0x276)){const _0x1321f0={..._0x5c9012,'seriesId':null},_0x48f4a8=sessions[_0x2ba38f(0x30d)](_0xb30d69=>_0xb30d69['id']===_0x5c9012['id']);if(_0x48f4a8!==-0x1)sessions[_0x48f4a8]=_0x1321f0;_0x1c3aaa[_0x2ba38f(0x2c3)](_0x1321f0[_0x2ba38f(0x255)]);}else{if(_0x481e99===_0x2ba38f(0x242)){const _0x147785=_0x5c9012[_0x2ba38f(0x255)];sessions[_0x2ba38f(0x23f)]((_0x1dca16,_0x4e5ce1)=>{const _0x592684=_0x2ba38f;_0x1dca16[_0x592684(0x2f3)]===_0x9b1ad7&&_0x1dca16['dateStr']>=_0x147785&&(sessions[_0x4e5ce1]={...sessions[_0x4e5ce1],'start':_0x5c9012['start'],'end':_0x5c9012[_0x592684(0x2ad)],'note':_0x5c9012[_0x592684(0x309)],'client':_0x5c9012[_0x592684(0x297)],'clientId':_0x5c9012['clientId']},_0x1c3aaa[_0x592684(0x2c3)](_0x1dca16['dateStr']));});}}afterSaveAction(_0x1c3aaa);}function tryDeleteSession(){const _0x15c07c=a2_0x2bcb19,_0x12be8e=sessions['find'](_0x54469d=>_0x54469d['id']===editingId);if(!_0x12be8e)return;_0x12be8e[_0x15c07c(0x2f3)]?openActionSheet(_0x15c07c(0x305)):commitDelete(_0x15c07c(0x276),_0x12be8e);}function commitDelete(_0x563f70,_0x387f98){const _0x32b537=a2_0x2bcb19;lastUserActionTime=Date['now'](),NotificationManager[_0x32b537(0x21a)](_0x32b537(0x2ae),_0x387f98);const _0xf805b=[];if(_0x563f70===_0x32b537(0x276))sessions=sessions[_0x32b537(0x26e)](_0x129462=>_0x129462['id']!==_0x387f98['id']),_0xf805b[_0x32b537(0x2c3)](_0x387f98[_0x32b537(0x255)]);else{if(_0x563f70==='series'){const _0x554757=_0x387f98[_0x32b537(0x255)],_0x1ca8f1=_0x387f98[_0x32b537(0x2f3)];sessions[_0x32b537(0x23f)](_0x2a4aa5=>{const _0x233d91=_0x32b537;_0x2a4aa5['seriesId']===_0x1ca8f1&&_0x2a4aa5['dateStr']>=_0x554757&&_0xf805b[_0x233d91(0x2c3)](_0x2a4aa5[_0x233d91(0x255)]);}),sessions=sessions['filter'](_0x3360c7=>!(_0x3360c7['seriesId']===_0x1ca8f1&&_0x3360c7[_0x32b537(0x255)]>=_0x554757));}}afterSaveAction(_0xf805b);}function afterSaveAction(_0x47a8ce){const _0x58a484=a2_0x2bcb19;DataManager[_0x58a484(0x31b)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x58a484(0x25d)](_0x47a8ce)[_0x58a484(0x2ea)](()=>console[_0x58a484(0x34b)](_0x58a484(0x2bf)))[_0x58a484(0x27d)](_0xe23c8f=>showToast(_0x58a484(0x308),![]));}function a2_0x597d(){const _0x5d756a=['var(--acc-red)','stringify','stat-','mousedown','Telegram','.day-col-header','<span>',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','backgroundPosition','\x20–∏–∑\x20','analyticsList','doWorkHours','delete','inpSeriesCount','.event-card','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','note','toastMessage','mini','left','findIndex','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','toUpperCase','numeric','getDay','vibrate','header-','2IwigVq','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','total','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','1483851AtTFNL','btn-primary\x20btn-secondary','saveLocally','patternInfoBox','.sheet','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollWidth','update','11852724dVfmob','inpEnd','Server\x20Error','Save\x20settings\x20error:','rgba(48,\x20209,\x2088,\x200.15)','formatDate','addEventListener','cancelled','backgroundColor','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','classList','gridColumns','settings','mousemove','status','all','warn','setDate','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','msg','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','data-date','splice','fetchFromServer','doEventsList','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','planned','remove','getBoundingClientRect','rgba(255,\x2069,\x2058,\x200.15)','–£—Å–ø–µ—à–Ω–æ','var(--acc-green)','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','startsWith','\x20days','guest','–£–¥–∞–ª–µ–Ω–∏–µ','[Series]\x20Skipped\x20','v9.0-BATCH-CALENDAR','cancel_window','log','off','settingsSheet','data-day-idx','551155aBWvLe','done','name','offClick','px\x200px','18NpiCbv','toFixed','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','onClick',':00','save_settings',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','Error\x20setting\x20color:','rangeStartDate','client-stat-card','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','btn-primary\x20btn-danger','getFullYear','as-button\x20danger\x20bold','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','style','headerMonth','user','borderColor','timeLineBadge','getMonth','touchend','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','firstChild','inpStart','show','batch_sync','touchmove','getDate','rangeEndTime','Unknown','mouseup','btnDelete','initDataUnsafe','asBtnSeries','null','setMonth','borderLeftColor','week','offsetWidth','rgba(100,100,100,0.5)','toLocaleDateString','44qUofQB','create','7bsnNTV','sort','rangesSheet','inpClient','background','none','save','setHours','2115VywUjh','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','href','.day-off-overlay','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','px\x20-','[Sync]\x20Loading\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','actionSheet','doDateHeader','rangesList','sheetTitle','round','send_notification','recurringOptionContainer','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','innerHTML','pe-time-label','send','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','btnDayToggle','clientId','setBackgroundColor','charAt','anStart','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','[Notify]\x20Server\x20Response:','max','.day-column','Error\x20setting\x20back\x20button:','anEnd','clientWidth','23:59','complete','btn-status-toggle\x20undo-mode','scroll','scrollTop','DOMContentLoaded','[Notify]\x20Error:\x20Text\x20generation\x20failed','var(--acc-current)','json','toString','<b>‚úÖ\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','floor','[Notify]\x20Detected\x20Client\x20ID:','.period-switch\x20.p-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dayOptionsSheet','map','rgba(255,\x20159,\x2010,\x200.3)','</div><div\x20class=\x22ev-time\x22>','closest','btn-status-toggle','apply','forEach','syncLoad','</b>\x0a\x0a','series','getMinutes','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','insertBefore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20',':00</span>','getHours','clientY','start','today','analyticsSheet','uc_sessions_v9','createElement','rgba(255,\x2069,\x2058,\x200.3)','calc(','peGrid','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','toLocaleString','sheetDateSubtitle','dateStr','rangeEndDate','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','ru-RU','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','<div\x20class=\x22dch-day\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','\x20‚Äî\x20','syncBatch','sid','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','querySelectorAll','...','success','appendChild','display','touches','padStart','location','text/plain;charset=UTF-8','#gridColumns\x20.day-column','option','undefined','setHeaderColor','error','filter','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','time-label','offsetLeft','inpRecurring','zIndex','top','block','single','scrollLeft','split','clients','now','entries','getAttribute','catch','toast-notification\x20','[Notify]\x20Client\x20SWAP\x20detected','add','sessionSheet','exceptions','settingCancelWindow','asTitle','pattern','setItem','\x20-\x20','</span>\x20/\x20','getElementById','BackButton','(((.+)+)+)+$','rgba(255,255,255,0.05)','parse','calendar','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','length','Local\x20Load\x20Error','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','min',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','color','uc_settings_cancel_window','client','Local\x20Save\x20Error','open','init_load','ranges','</div><div\x20class=\x22dch-num\x22>',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','day-off-overlay\x20stripe-bg','includes','querySelector','100%','router.html','anPercent','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','target','checked','4134108BSwKJt',']\x20Failed:','day-col-header\x20','random','colIndex','loadLocal','end','cancel','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','disableVerticalSwipes','\x20status-completed','find','–ò–Ω—Ñ–æ','.dch-stats-fill','anCustomDates','1513214WkEBHY','stopPropagation','#050505','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','#0a84ff','createDocumentFragment','inpNote','00:00','actionSheetOverlay','Batch\x20Sync\x20OK','8eavTme','long','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','push','%\x20+\x202px)','setAttribute','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','expand','getTime','patternEditor','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rangeStartTime','[Notify]\x20Network\x20Failed','value','T23:59:59','getItem','matrixViewport','onclick','12051872xVIpTN','data','ready','[API\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','flex','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','seriesCountContainer','var(--acc-orange)','Critical\x20TMA\x20Error:','2190yWWyfo','height','div','anDonutCircle','slice','day-column\x20','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','active','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','asBtnOne','textContent','then','inpDate','as-button\x20danger','WebApp','globalTimeLine','doLoadPercent','dayOptionsTitle','width','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','seriesId','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','warning','substr','deleted','completed'];a2_0x597d=function(){return _0x5d756a;};return a2_0x597d();}const NotificationManager={'formatDate'(_0x24be4d){const _0x15a9ab=a2_0x2bcb19,_0x39322c=new Date(_0x24be4d),_0x5710c9={'weekday':'long','day':_0x15a9ab(0x311),'month':_0x15a9ab(0x2c1)};let _0x16bccc=_0x39322c[_0x15a9ab(0x1fa)](_0x15a9ab(0x258),_0x5710c9);return _0x16bccc[_0x15a9ab(0x21f)](0x0)[_0x15a9ab(0x310)]()+_0x16bccc['slice'](0x1);},'getText'(_0x44410c,_0x385d61){const _0x3b4f04=a2_0x2bcb19,_0x1d8b00=this[_0x3b4f04(0x326)](_0x385d61[_0x3b4f04(0x255)]);switch(_0x44410c){case _0x3b4f04(0x1fc):return _0x3b4f04(0x257)+(_0x3b4f04(0x2cb)+_0x1d8b00+'\x0a')+(_0x3b4f04(0x206)+_0x385d61['start']+_0x3b4f04(0x25c)+_0x385d61[_0x3b4f04(0x2ad)]+'\x0a\x0a')+_0x3b4f04(0x28f);case _0x3b4f04(0x320):return _0x3b4f04(0x337)+_0x3b4f04(0x233)+(_0x3b4f04(0x232)+_0x385d61[_0x3b4f04(0x24a)]+_0x3b4f04(0x25c)+_0x385d61[_0x3b4f04(0x2ad)]+_0x3b4f04(0x241))+(_0x3b4f04(0x2cb)+_0x1d8b00);case _0x3b4f04(0x2ae):return _0x3b4f04(0x209)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x1d8b00+'\x20('+_0x385d61['start']+_0x3b4f04(0x300));case _0x3b4f04(0x229):return _0x3b4f04(0x221)+_0x3b4f04(0x334)+_0x3b4f04(0x25f);default:return'';}},async 'send'(_0xfd0282,_0x36d4aa){const _0x1b1b28=a2_0x2bcb19;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0xfd0282,_0x36d4aa);if(!_0x36d4aa){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x126f23=String(_0x36d4aa[_0x1b1b28(0x21d)]);console[_0x1b1b28(0x34b)](_0x1b1b28(0x235),_0x126f23);if(!_0x36d4aa[_0x1b1b28(0x21d)]||_0x126f23===_0x1b1b28(0x26b)||_0x126f23===_0x1b1b28(0x1f4)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x36d4aa[_0x1b1b28(0x297)]){const _0x464962=clients[_0x1b1b28(0x2b2)](_0x331922=>_0x331922[_0x1b1b28(0x351)]===_0x36d4aa[_0x1b1b28(0x297)]);if(_0x464962)return console[_0x1b1b28(0x34b)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x464962['id']),this[_0x1b1b28(0x21a)](_0xfd0282,{..._0x36d4aa,'clientId':_0x464962['id']});}return;}if(_0x126f23[_0x1b1b28(0x290)]<0x5){console[_0x1b1b28(0x332)](_0x1b1b28(0x362),_0x126f23);return;}const _0x266dd6=this['getText'](_0xfd0282,_0x36d4aa);if(!_0x266dd6){console[_0x1b1b28(0x26d)](_0x1b1b28(0x22e));return;}console[_0x1b1b28(0x34b)](_0x1b1b28(0x20e)+_0x126f23+'...'),DataManager[_0x1b1b28(0x33a)](_0x1b1b28(0x214),{'chatId':_0x126f23,'text':_0x266dd6})[_0x1b1b28(0x2ea)](_0x1088d1=>console['log'](_0x1b1b28(0x222),_0x1088d1))[_0x1b1b28(0x27d)](_0x286da1=>console[_0x1b1b28(0x26d)](_0x1b1b28(0x2cd),_0x286da1));}};function getLocalDateStr(_0x57f140){const _0x5755aa=a2_0x2bcb19,_0xebcb43=_0x57f140[_0x5755aa(0x360)](),_0x370b85=String(_0x57f140[_0x5755aa(0x369)]()+0x1)[_0x5755aa(0x266)](0x2,'0'),_0x46261f=String(_0x57f140[_0x5755aa(0x1ed)]())[_0x5755aa(0x266)](0x2,'0');return _0xebcb43+'-'+_0x370b85+'-'+_0x46261f;}function getDateStr(_0x59a385){const _0x21e270=a2_0x2bcb19,_0x2e2e54=new Date();return _0x2e2e54[_0x21e270(0x333)](_0x2e2e54[_0x21e270(0x1ed)]()+_0x59a385),getLocalDateStr(_0x2e2e54);}function getStartOfWeek(_0x368c8e){const _0x53a00a=a2_0x2bcb19,_0x51ff14=new Date(_0x368c8e),_0x210df9=_0x51ff14[_0x53a00a(0x312)](),_0x406694=_0x51ff14[_0x53a00a(0x1ed)]()-_0x210df9+(_0x210df9===0x0?-0x6:0x1);return _0x51ff14[_0x53a00a(0x333)](_0x406694),_0x51ff14['setHours'](0x0,0x0,0x0,0x0),_0x51ff14;}function hexToRgba(_0x32bb8c,_0x69bac7){const _0x1d4811=a2_0x2bcb19;if(!_0x32bb8c)return _0x1d4811(0x1f9);let _0x565097=0x0,_0x18ab12=0x0,_0x1c1e1d=0x0;if(_0x32bb8c[_0x1d4811(0x290)]===0x4)_0x565097='0x'+_0x32bb8c[0x1]+_0x32bb8c[0x1],_0x18ab12='0x'+_0x32bb8c[0x2]+_0x32bb8c[0x2],_0x1c1e1d='0x'+_0x32bb8c[0x3]+_0x32bb8c[0x3];else _0x32bb8c[_0x1d4811(0x290)]===0x7&&(_0x565097='0x'+_0x32bb8c[0x1]+_0x32bb8c[0x2],_0x18ab12='0x'+_0x32bb8c[0x3]+_0x32bb8c[0x4],_0x1c1e1d='0x'+_0x32bb8c[0x5]+_0x32bb8c[0x6]);return'rgba('+ +_0x565097+',\x20'+ +_0x18ab12+',\x20'+ +_0x1c1e1d+',\x20'+_0x69bac7+')';}function renderTimeColumn(){const _0x1db5e9=a2_0x2bcb19,_0x5c73f0=document[_0x1db5e9(0x289)]('timeColumn'),_0x3ed9ee=document[_0x1db5e9(0x289)](_0x1db5e9(0x368));_0x5c73f0[_0x1db5e9(0x218)]='',_0x5c73f0[_0x1db5e9(0x263)](_0x3ed9ee);for(let _0x3f2ff4=0x0;_0x3f2ff4<0x18;_0x3f2ff4++){const _0x440e64=document['createElement']('div');_0x440e64[_0x1db5e9(0x2e4)]=_0x1db5e9(0x270);if(_0x3f2ff4>0x0)_0x440e64[_0x1db5e9(0x218)]=_0x1db5e9(0x2ff)+String(_0x3f2ff4)[_0x1db5e9(0x266)](0x2,'0')+_0x1db5e9(0x247);_0x5c73f0[_0x1db5e9(0x263)](_0x440e64);}}function renderDayRange(_0x433578,_0x21f02d){const _0x2abe2a=a2_0x2bcb19,_0xb2f731=document[_0x2abe2a(0x289)]('daysHeaderTrack'),_0x2fd99c=document[_0x2abe2a(0x289)](_0x2abe2a(0x32d)),_0x358065=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x30811b=new Date();_0x30811b[_0x2abe2a(0x204)](0x0,0x0,0x0,0x0);const _0x13ade4=getLocalDateStr(new Date());for(let _0x4bf11a=_0x433578;_0x4bf11a<=_0x21f02d;_0x4bf11a++){const _0x2e2227=new Date(_0x30811b);_0x2e2227['setDate'](_0x2e2227[_0x2abe2a(0x1ed)]()+_0x4bf11a);const _0x497ba3=getLocalDateStr(_0x2e2227);let _0x4669b4=_0x2e2227['getDay']()-0x1;if(_0x4669b4===-0x1)_0x4669b4=0x6;const _0x130541=_0x497ba3===_0x13ade4,_0x289014=document[_0x2abe2a(0x24e)]('div');_0x289014[_0x2abe2a(0x2e4)]='day-col-header\x20'+(_0x130541?_0x2abe2a(0x24b):''),_0x289014['id']=_0x2abe2a(0x314)+_0x497ba3,_0x289014[_0x2abe2a(0x2c5)]('data-date',_0x497ba3),_0x289014[_0x2abe2a(0x218)]=_0x2abe2a(0x25a)+_0x358065[_0x4669b4]+_0x2abe2a(0x29c)+_0x2e2227[_0x2abe2a(0x1ed)]()+_0x2abe2a(0x2af)+_0x497ba3+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x289014[_0x2abe2a(0x2d2)]=()=>openDayOptions(_0x497ba3,_0x358065[_0x4669b4]+'\x20'+_0x2e2227[_0x2abe2a(0x1ed)]()),_0xb2f731['appendChild'](_0x289014);const _0x38f1dd=document[_0x2abe2a(0x24e)](_0x2abe2a(0x2e0));_0x38f1dd[_0x2abe2a(0x2e4)]=_0x2abe2a(0x2e3)+(_0x130541?'today':''),_0x38f1dd['setAttribute'](_0x2abe2a(0x338),_0x497ba3),_0x38f1dd[_0x2abe2a(0x2c5)](_0x2abe2a(0x34e),_0x4669b4),renderEventsForColumn(_0x38f1dd,_0x497ba3,_0x4669b4),attachLongPressHandler(_0x38f1dd,_0x2e2227),_0x2fd99c[_0x2abe2a(0x263)](_0x38f1dd),updateDayStats(_0x497ba3);}}function reRenderBlocks(){const _0x549921=a2_0x2bcb19;document[_0x549921(0x260)](_0x549921(0x269))[_0x549921(0x23f)](_0x4b0eeb=>{const _0x1f70f5=_0x549921;_0x4b0eeb['querySelectorAll'](_0x1f70f5(0x2f2))['forEach'](_0x2ad228=>_0x2ad228[_0x1f70f5(0x33e)]());const _0x23df73=_0x4b0eeb[_0x1f70f5(0x27c)]('data-date'),_0x4292ca=parseInt(_0x4b0eeb[_0x1f70f5(0x27c)](_0x1f70f5(0x34e))),_0x3757c3=Math[_0x1f70f5(0x213)](_0x4b0eeb[_0x1f70f5(0x271)]);(availabilityPattern[_0x4292ca]||[])[_0x1f70f5(0x23f)](_0x5ee085=>{const _0x3437ca=_0x1f70f5,_0x4375aa=document[_0x3437ca(0x24e)](_0x3437ca(0x2e0));_0x4375aa[_0x3437ca(0x2e4)]='blocked-slot\x20stripe-bg';const _0x477dc9=_0x5ee085*GRID_H;_0x4375aa[_0x3437ca(0x364)]['top']=_0x477dc9+'px',_0x4375aa[_0x3437ca(0x364)][_0x3437ca(0x301)]='-'+_0x3757c3+'px\x20-'+_0x477dc9+'px',_0x4b0eeb[_0x3437ca(0x263)](_0x4375aa);});if(specialRanges&&specialRanges[_0x1f70f5(0x290)]>0x0){const _0x5409ea=new Date(_0x23df73+'T00:00:00')['getTime'](),_0x26ded9=new Date(_0x23df73+_0x1f70f5(0x2cf))['getTime']();specialRanges[_0x1f70f5(0x23f)](_0x65665=>{const _0x424348=_0x1f70f5,_0x2c266b=new Date(_0x65665['start'])[_0x424348(0x2c9)](),_0x4b6cb3=new Date(_0x65665[_0x424348(0x2ad)])[_0x424348(0x2c9)](),_0x174ee8=Math[_0x424348(0x223)](_0x5409ea,_0x2c266b),_0x26d5d1=Math[_0x424348(0x293)](_0x26ded9,_0x4b6cb3);if(_0x174ee8<_0x26d5d1){if(_0x174ee8<=_0x5409ea&&_0x26d5d1>=_0x26ded9-0xea60){if(!_0x4b0eeb['querySelector'](_0x424348(0x208))){const _0x504ad7=document['createElement']('div');_0x504ad7[_0x424348(0x2e4)]='day-off-overlay\x20stripe-bg',_0x504ad7['style'][_0x424348(0x301)]='-'+_0x3757c3+_0x424348(0x353),_0x4b0eeb['appendChild'](_0x504ad7);}}else{const _0x43a85c=(_0x174ee8-_0x5409ea)/0x36ee80*GRID_H,_0x169bf1=(_0x26d5d1-_0x174ee8)/0x36ee80*GRID_H,_0x2bebf7=document[_0x424348(0x24e)](_0x424348(0x2e0));_0x2bebf7[_0x424348(0x2e4)]='blocked-range-part\x20stripe-bg',_0x2bebf7[_0x424348(0x364)][_0x424348(0x274)]=_0x43a85c+'px',_0x2bebf7['style']['height']=_0x169bf1+'px',_0x2bebf7[_0x424348(0x364)]['backgroundPosition']='-'+_0x3757c3+_0x424348(0x20c)+_0x43a85c+'px',_0x4b0eeb['appendChild'](_0x2bebf7);}}});}if(dateExceptions[_0x23df73]===_0x1f70f5(0x34c)){if(!_0x4b0eeb[_0x1f70f5(0x2a0)](_0x1f70f5(0x208))){const _0x331c16=document[_0x1f70f5(0x24e)](_0x1f70f5(0x2e0));_0x331c16[_0x1f70f5(0x2e4)]=_0x1f70f5(0x29e),_0x331c16[_0x1f70f5(0x364)][_0x1f70f5(0x301)]='-'+_0x3757c3+_0x1f70f5(0x353),_0x4b0eeb[_0x1f70f5(0x263)](_0x331c16);}}renderEventsForColumn(_0x4b0eeb,_0x23df73,_0x4292ca),updateDayStats(_0x23df73);});}function updateAllDayStats(){const _0x4c9654=a2_0x2bcb19;document[_0x4c9654(0x260)](_0x4c9654(0x2fe))[_0x4c9654(0x23f)](_0x3b83cc=>{const _0x28c445=_0x4c9654;updateDayStats(_0x3b83cc[_0x28c445(0x27c)](_0x28c445(0x338)));});}function updateDayStats(_0x491766){const _0x490295=a2_0x2bcb19,_0x44c342=document['getElementById'](_0x490295(0x2fb)+_0x491766);if(!_0x44c342)return;const _0x9d0d67=new Date(_0x491766);let _0x5f39d8=_0x9d0d67[_0x490295(0x312)]()-0x1;if(_0x5f39d8===-0x1)_0x5f39d8=0x6;if(dateExceptions[_0x491766]===_0x490295(0x34c)){_0x44c342[_0x490295(0x364)][_0x490295(0x264)]='none';return;}const _0x10b86b=availabilityPattern[_0x5f39d8]||[],_0x2a7648=0x18-_0x10b86b[_0x490295(0x290)],_0xf97b=_0x2a7648*0x3c,_0x4a2b90=sessions[_0x490295(0x26e)](_0x22cef4=>_0x22cef4[_0x490295(0x255)]===_0x491766&&_0x22cef4[_0x490295(0x330)]!==_0x490295(0x328));if(_0x4a2b90[_0x490295(0x290)]===0x0){_0x44c342[_0x490295(0x364)]['display']=_0x490295(0x202);return;}let _0x5c0adb=_0x4a2b90[_0x490295(0x239)](_0xc4300f=>{const _0x3960f8=_0x490295,[_0x1c7239,_0x67c20b]=_0xc4300f[_0x3960f8(0x24a)][_0x3960f8(0x278)](':')[_0x3960f8(0x239)](Number),[_0x32b742,_0x3c1ec2]=_0xc4300f['end'][_0x3960f8(0x278)](':')['map'](Number);return[_0x1c7239*0x3c+_0x67c20b,_0x32b742*0x3c+_0x3c1ec2];});_0x5c0adb[_0x490295(0x1fe)]((_0x5855f6,_0x2b51f4)=>_0x5855f6[0x0]-_0x2b51f4[0x0]);let _0x3f9287=[];if(_0x5c0adb[_0x490295(0x290)]>0x0){let _0x5a3827=_0x5c0adb[0x0];for(let _0x7d3695=0x1;_0x7d3695<_0x5c0adb[_0x490295(0x290)];_0x7d3695++){_0x5c0adb[_0x7d3695][0x0]<_0x5a3827[0x1]?_0x5a3827[0x1]=Math[_0x490295(0x223)](_0x5a3827[0x1],_0x5c0adb[_0x7d3695][0x1]):(_0x3f9287[_0x490295(0x2c3)](_0x5a3827),_0x5a3827=_0x5c0adb[_0x7d3695]);}_0x3f9287['push'](_0x5a3827);}let _0x2ff2e6=0x0;_0x3f9287[_0x490295(0x23f)](_0x5970d5=>_0x2ff2e6+=_0x5970d5[0x1]-_0x5970d5[0x0]),_0x44c342[_0x490295(0x364)]['display']=_0x490295(0x2d9);const _0x2428f2=_0x44c342[_0x490295(0x2a0)](_0x490295(0x2b4));if(_0xf97b===0x0){_0x2428f2[_0x490295(0x364)]['width']=_0x490295(0x2a1),_0x2428f2[_0x490295(0x364)]['background']=_0x490295(0x2f9);return;}const _0x5909f6=_0x2ff2e6/_0xf97b*0x64;console['log']('['+_0x491766+_0x490295(0x35a)+_0x2a7648+_0x490295(0x20a)+_0x2ff2e6+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x5909f6[_0x490295(0x355)](0x1)+'%'),_0x5909f6>0x64?(_0x2428f2['style'][_0x490295(0x2f1)]=_0x490295(0x2a1),_0x2428f2[_0x490295(0x364)][_0x490295(0x201)]=_0x490295(0x2f9)):(_0x2428f2[_0x490295(0x364)][_0x490295(0x2f1)]=_0x5909f6+'%',_0x2428f2['style'][_0x490295(0x201)]=_0x490295(0x22f));}function renderEventsForColumn(_0x45bf6e,_0x54ff17,_0x468f2f){const _0x470cf0=a2_0x2bcb19,_0x5b2608=sessions['filter'](_0x3c2d8d=>_0x3c2d8d['dateStr']===_0x54ff17),_0x5ebb81=_0x5b2608['map'](_0x3a0931=>{const _0x5290a1=a2_0x40ca,[_0x53be49,_0x5923e3]=_0x3a0931['start'][_0x5290a1(0x278)](':')[_0x5290a1(0x239)](Number),[_0x355282,_0x2c3c57]=_0x3a0931[_0x5290a1(0x2ad)][_0x5290a1(0x278)](':')[_0x5290a1(0x239)](Number);return{'data':_0x3a0931,'start':_0x53be49*0x3c+_0x5923e3,'end':_0x355282*0x3c+_0x2c3c57,'colIndex':0x0};});_0x5ebb81[_0x470cf0(0x1fe)]((_0x3a2632,_0x282f61)=>{const _0x4345b0=_0x470cf0;if(_0x3a2632[_0x4345b0(0x24a)]!==_0x282f61[_0x4345b0(0x24a)])return _0x3a2632[_0x4345b0(0x24a)]-_0x282f61[_0x4345b0(0x24a)];return _0x282f61['end']-_0x282f61[_0x4345b0(0x24a)]-(_0x3a2632[_0x4345b0(0x2ad)]-_0x3a2632[_0x4345b0(0x24a)]);});const _0x793bcd=[];_0x5ebb81[_0x470cf0(0x23f)](_0x3aa593=>{const _0x2108a5=_0x470cf0;let _0x4efa42=![];for(let _0x5daf2b=0x0;_0x5daf2b<_0x793bcd['length'];_0x5daf2b++){const _0xee9feb=_0x793bcd[_0x5daf2b],_0x5e6804=_0xee9feb[_0xee9feb[_0x2108a5(0x290)]-0x1];if(_0x3aa593[_0x2108a5(0x24a)]>=_0x5e6804[_0x2108a5(0x2ad)]){_0xee9feb[_0x2108a5(0x2c3)](_0x3aa593),_0x3aa593[_0x2108a5(0x2ab)]=_0x5daf2b,_0x4efa42=!![];break;}}!_0x4efa42&&(_0x793bcd['push']([_0x3aa593]),_0x3aa593[_0x2108a5(0x2ab)]=_0x793bcd[_0x2108a5(0x290)]-0x1);}),_0x5ebb81['forEach'](_0x637285=>{const _0x3cf2e9=_0x470cf0;let _0x1ae852=0x0;_0x5ebb81['forEach'](_0xae8c23=>{const _0x54163d=a2_0x40ca;if(Math['max'](_0x637285[_0x54163d(0x24a)],_0xae8c23[_0x54163d(0x24a)])<Math['min'](_0x637285[_0x54163d(0x2ad)],_0xae8c23[_0x54163d(0x2ad)])){if(_0xae8c23[_0x54163d(0x2ab)]>_0x1ae852)_0x1ae852=_0xae8c23[_0x54163d(0x2ab)];}});const _0x37f88b=_0x1ae852+0x1,_0x5e50ff=0x64/_0x37f88b,_0x1bcc8e=_0x637285[_0x3cf2e9(0x2ab)]*_0x5e50ff,_0x590b1f=createEventEl(_0x637285[_0x3cf2e9(0x2d4)]);_0x590b1f['style'][_0x3cf2e9(0x2f1)]=_0x3cf2e9(0x250)+_0x5e50ff+'%\x20-\x204px)',_0x590b1f['style'][_0x3cf2e9(0x30c)]=_0x3cf2e9(0x250)+_0x1bcc8e+_0x3cf2e9(0x2c4),_0x590b1f[_0x3cf2e9(0x364)][_0x3cf2e9(0x273)]=0xa+_0x637285['colIndex'],_0x5e50ff<0x55&&_0x590b1f[_0x3cf2e9(0x32c)][_0x3cf2e9(0x280)](_0x3cf2e9(0x30b)),_0x45bf6e['appendChild'](_0x590b1f);});}function createEventEl(_0x3acd05){const _0x5b003f=a2_0x2bcb19,[_0x176335,_0x27a330]=_0x3acd05[_0x5b003f(0x24a)][_0x5b003f(0x278)](':')[_0x5b003f(0x239)](Number),[_0x3fe536,_0x1c43d5]=_0x3acd05[_0x5b003f(0x2ad)]['split'](':')[_0x5b003f(0x239)](Number),_0x260aa0=(_0x176335*0x3c+_0x27a330)/0x3c*GRID_H,_0x14ded1=(_0x3fe536*0x3c+_0x1c43d5-(_0x176335*0x3c+_0x27a330))/0x3c*GRID_H,_0x1e5583=document['createElement'](_0x5b003f(0x2e0)),_0x4a18be=_0x3acd05[_0x5b003f(0x330)]===_0x5b003f(0x2f8)?_0x5b003f(0x2b1):'';_0x1e5583[_0x5b003f(0x2e4)]='event-card'+_0x4a18be,_0x1e5583[_0x5b003f(0x364)][_0x5b003f(0x274)]=_0x260aa0+'px',_0x1e5583['style'][_0x5b003f(0x2df)]=Math[_0x5b003f(0x223)](_0x14ded1,0x14)+'px';const _0x4bf795=clients[_0x5b003f(0x2b2)](_0x981dd2=>_0x3acd05[_0x5b003f(0x21d)]&&String(_0x981dd2['id'])===String(_0x3acd05['clientId'])||_0x981dd2[_0x5b003f(0x351)]===_0x3acd05[_0x5b003f(0x297)]),_0x3ceaf1=_0x4bf795?_0x4bf795['color']:_0x5b003f(0x2ba);_0x1e5583['style'][_0x5b003f(0x1f6)]=_0x3ceaf1,_0x1e5583['style'][_0x5b003f(0x329)]=hexToRgba(_0x3ceaf1,0.85);let _0x4163fc='<div\x20class=\x22ev-title\x22>'+_0x3acd05[_0x5b003f(0x297)]+_0x5b003f(0x23b)+_0x3acd05['start']+'\x20-\x20'+_0x3acd05['end']+'</div>';return _0x3acd05['seriesId']&&(_0x4163fc+=_0x5b003f(0x32b)),_0x3acd05[_0x5b003f(0x330)]===_0x5b003f(0x2f8)&&(_0x4163fc+=_0x5b003f(0x32a)),_0x1e5583[_0x5b003f(0x218)]=_0x4163fc,_0x1e5583[_0x5b003f(0x2d2)]=_0x3431af=>{const _0x4034d4=_0x5b003f;_0x3431af[_0x4034d4(0x2b7)](),openEdit(_0x3acd05);},_0x1e5583;}function attachLongPressHandler(_0x22ca4c,_0x4b18b6){const _0x382e84=a2_0x2bcb19;let _0x5aacba=0x0,_0x53928d=null;const _0x1ebe42=_0x5f0eb1=>{const _0x2487fe=a2_0x40ca;if(_0x5f0eb1[_0x2487fe(0x2a5)][_0x2487fe(0x23c)](_0x2487fe(0x307)))return;isScrolling=![],_0x5aacba=_0x5f0eb1[_0x2487fe(0x265)]?_0x5f0eb1['touches'][0x0][_0x2487fe(0x249)]:_0x5f0eb1[_0x2487fe(0x249)],_0x53928d=setTimeout(()=>{const _0x24437b=_0x2487fe;if(!isScrolling){navigator[_0x24437b(0x313)]?.(0x32);const _0x53e823=_0x22ca4c[_0x24437b(0x33f)](),_0x392489=Math['floor']((_0x5aacba-_0x53e823[_0x24437b(0x274)])/GRID_H);_0x4b18b6[_0x24437b(0x204)](_0x392489,0x0),openAddSession(_0x4b18b6);}},0x1f4);},_0x274ea7=()=>{isScrolling=!![],clearTimeout(_0x53928d);},_0x40393a=()=>{clearTimeout(_0x53928d);};_0x22ca4c['addEventListener']('touchstart',_0x1ebe42,{'passive':!![]}),_0x22ca4c[_0x382e84(0x327)](_0x382e84(0x1ec),_0x274ea7,{'passive':!![]}),_0x22ca4c[_0x382e84(0x327)](_0x382e84(0x1e6),_0x40393a),_0x22ca4c['addEventListener'](_0x382e84(0x2fc),_0x1ebe42),_0x22ca4c[_0x382e84(0x327)](_0x382e84(0x32f),_0x274ea7),_0x22ca4c[_0x382e84(0x327)](_0x382e84(0x1f0),_0x40393a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3d0651=a2_0x2bcb19,_0x119e76=document[_0x3d0651(0x289)](_0x3d0651(0x2d1)),_0x535adc=_0x119e76[_0x3d0651(0x277)],_0x1272f2=_0x119e76[_0x3d0651(0x31f)],_0x66a383=_0x119e76[_0x3d0651(0x227)];if(_0x1272f2-(_0x535adc+_0x66a383)<0x12c){const _0x37a87f=endOffset;endOffset+=0xe,renderDayRange(_0x37a87f+0x1,endOffset),reRenderBlocks();}if(_0x535adc<0x12c){const _0x2284f2=startOffset;startOffset-=0xe,prependDays(startOffset,_0x2284f2-0x1),_0x119e76[_0x3d0651(0x277)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x36f98e,_0xfe5103){const _0x105390=a2_0x2bcb19,_0x54ff87=document[_0x105390(0x289)]('daysHeaderTrack'),_0x337aac=document[_0x105390(0x289)]('gridColumns'),_0x2ff780=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f5129=new Date();_0x2f5129[_0x105390(0x204)](0x0,0x0,0x0,0x0);const _0x2782ba=getLocalDateStr(new Date()),_0x428f5a=document[_0x105390(0x2bb)](),_0x3e247b=document[_0x105390(0x2bb)]();for(let _0x352602=_0x36f98e;_0x352602<=_0xfe5103;_0x352602++){const _0x49251d=new Date(_0x2f5129);_0x49251d[_0x105390(0x333)](_0x49251d[_0x105390(0x1ed)]()+_0x352602);const _0x30d8ea=getLocalDateStr(_0x49251d);let _0x1828ed=_0x49251d['getDay']()-0x1;if(_0x1828ed===-0x1)_0x1828ed=0x6;const _0x5ce44a=_0x30d8ea===_0x2782ba,_0x46b8ff=document[_0x105390(0x24e)](_0x105390(0x2e0));_0x46b8ff[_0x105390(0x2e4)]=_0x105390(0x2a9)+(_0x5ce44a?_0x105390(0x24b):''),_0x46b8ff['id']=_0x105390(0x314)+_0x30d8ea,_0x46b8ff[_0x105390(0x2c5)]('data-date',_0x30d8ea),_0x46b8ff[_0x105390(0x218)]='<div\x20class=\x22dch-day\x22>'+_0x2ff780[_0x1828ed]+_0x105390(0x29c)+_0x49251d[_0x105390(0x1ed)]()+_0x105390(0x2af)+_0x30d8ea+_0x105390(0x30f),_0x46b8ff[_0x105390(0x2d2)]=()=>openDayOptions(_0x30d8ea,_0x2ff780[_0x1828ed]+'\x20'+_0x49251d['getDate']()),_0x428f5a[_0x105390(0x263)](_0x46b8ff);const _0x5e0d54=document[_0x105390(0x24e)]('div');_0x5e0d54[_0x105390(0x2e4)]=_0x105390(0x2e3)+(_0x5ce44a?_0x105390(0x24b):''),_0x5e0d54[_0x105390(0x2c5)]('data-date',_0x30d8ea),_0x5e0d54[_0x105390(0x2c5)](_0x105390(0x34e),_0x1828ed),renderEventsForColumn(_0x5e0d54,_0x30d8ea,_0x1828ed),attachLongPressHandler(_0x5e0d54,_0x49251d),_0x3e247b[_0x105390(0x263)](_0x5e0d54),updateDayStats(_0x30d8ea);}_0x54ff87['insertBefore'](_0x428f5a,_0x54ff87[_0x105390(0x1e8)]),_0x337aac[_0x105390(0x245)](_0x3e247b,_0x337aac[_0x105390(0x2a0)](_0x105390(0x224)));}function validateAppointment(_0x1fd113,_0x3dc9f4,_0x87b354,_0x1b7dbe,_0x3a267f){const _0x3fd437=a2_0x2bcb19,[_0x33ccf0,_0x27440c]=_0x3dc9f4[_0x3fd437(0x278)](':')[_0x3fd437(0x239)](Number),[_0x47b9b6,_0x44685d]=_0x87b354[_0x3fd437(0x278)](':')[_0x3fd437(0x239)](Number),_0x4181f0=_0x33ccf0*0x3c+_0x27440c,_0x6e5f2e=_0x47b9b6*0x3c+_0x44685d,_0x458c39=String(_0x3a267f);let _0x309ea2=![],_0xd0cc11='';for(let _0x313986 of sessions){if(_0x313986['dateStr']!==_0x1fd113)continue;if(_0x313986[_0x3fd437(0x330)]===_0x3fd437(0x328))continue;if(_0x1b7dbe&&String(_0x313986['id'])===String(_0x1b7dbe))continue;const [_0x10cb0b,_0x11a3dd]=_0x313986[_0x3fd437(0x24a)][_0x3fd437(0x278)](':')['map'](Number),[_0x109ef5,_0x5eeecf]=_0x313986[_0x3fd437(0x2ad)][_0x3fd437(0x278)](':')['map'](Number),_0x3e6542=_0x10cb0b*0x3c+_0x11a3dd,_0x1e834b=_0x109ef5*0x3c+_0x5eeecf;if(Math[_0x3fd437(0x223)](_0x4181f0,_0x3e6542)<Math['min'](_0x6e5f2e,_0x1e834b)){if(_0x313986[_0x3fd437(0x21d)]&&String(_0x313986['clientId'])===_0x458c39)return{'valid':![],'msg':_0x3fd437(0x21b)+_0x313986[_0x3fd437(0x297)]+_0x3fd437(0x29d)};_0x309ea2=!![],_0xd0cc11=_0x313986[_0x3fd437(0x297)];}}if(_0x309ea2)return{'valid':!![],'warning':_0x3fd437(0x252)+_0xd0cc11};return{'valid':!![]};}function updateDateDisplay(){const _0x53a873=a2_0x2bcb19,_0x2eb353=document[_0x53a873(0x289)](_0x53a873(0x2eb))[_0x53a873(0x2ce)],_0x28fa04=document[_0x53a873(0x289)](_0x53a873(0x254));if(!_0x2eb353){_0x28fa04['textContent']='';return;}const [_0x8ca61f,_0x14338a,_0x487f69]=_0x2eb353[_0x53a873(0x278)]('-')[_0x53a873(0x239)](Number),_0x3582db=new Date(_0x8ca61f,_0x14338a-0x1,_0x487f69),_0x4fe451={'weekday':'long','day':'numeric','month':_0x53a873(0x2c1),'year':_0x53a873(0x311)};let _0xcdef5a=_0x3582db['toLocaleDateString']('ru-RU',_0x4fe451);_0xcdef5a=_0xcdef5a['charAt'](0x0)['toUpperCase']()+_0xcdef5a[_0x53a873(0x2e2)](0x1),_0x28fa04[_0x53a873(0x2e9)]=_0xcdef5a;}function autoSetEndTime(){const _0x89fa6d=a2_0x2bcb19,_0x3369e1=document[_0x89fa6d(0x289)](_0x89fa6d(0x1e9))[_0x89fa6d(0x2ce)];if(!_0x3369e1)return;const [_0x29c0ae,_0x5221d6]=_0x3369e1['split'](':')[_0x89fa6d(0x239)](Number);let _0x27f136=_0x29c0ae+0x1;if(_0x27f136>0x17)_0x27f136=0x0;const _0x30d1d5=String(_0x27f136)['padStart'](0x2,'0')+':'+String(_0x5221d6)[_0x89fa6d(0x266)](0x2,'0');document[_0x89fa6d(0x289)](_0x89fa6d(0x322))['value']=_0x30d1d5;}function populateClientSelect(){const _0x3659f2=a2_0x2bcb19,_0x441ceb=document[_0x3659f2(0x289)]('inpClient');_0x441ceb[_0x3659f2(0x218)]='';if(clients[_0x3659f2(0x290)]===0x0){const _0x17488b=document['createElement'](_0x3659f2(0x26a));_0x17488b['text']=_0x3659f2(0x33c),_0x441ceb['appendChild'](_0x17488b);return;}clients['forEach'](_0x1f9a72=>{const _0x1536c5=_0x3659f2,_0x559b61=document[_0x1536c5(0x24e)](_0x1536c5(0x26a));_0x559b61['value']=_0x1f9a72['name'],_0x559b61['textContent']=_0x1f9a72[_0x1536c5(0x351)],_0x441ceb[_0x1536c5(0x263)](_0x559b61);});}function openActionSheet(_0xbae25d){const _0x435a73=a2_0x2bcb19,_0x1f2ac9=document[_0x435a73(0x289)]('actionSheet'),_0x54718f=document[_0x435a73(0x289)](_0x435a73(0x2be)),_0x416ff8=document[_0x435a73(0x289)](_0x435a73(0x284)),_0x5a1fa8=document[_0x435a73(0x289)](_0x435a73(0x2e8)),_0x41644b=document['getElementById'](_0x435a73(0x1f3));_0x54718f[_0x435a73(0x32c)][_0x435a73(0x280)](_0x435a73(0x2e6)),_0x1f2ac9[_0x435a73(0x32c)]['add'](_0x435a73(0x299));if(_0xbae25d==='save')_0x416ff8[_0x435a73(0x2e9)]=_0x435a73(0x25b),_0x5a1fa8[_0x435a73(0x2e9)]=_0x435a73(0x30e),_0x5a1fa8[_0x435a73(0x2d2)]=()=>{const _0x16df38=_0x435a73;closeActionSheet(),updateSeriesBatch(_0x16df38(0x276),tempSessionData);},_0x41644b['textContent']=_0x435a73(0x343),_0x41644b[_0x435a73(0x2d2)]=()=>{const _0x4f95c2=_0x435a73;closeActionSheet(),updateSeriesBatch(_0x4f95c2(0x242),tempSessionData);};else _0xbae25d==='delete'&&(_0x416ff8[_0x435a73(0x2e9)]=_0x435a73(0x347),_0x5a1fa8[_0x435a73(0x2e9)]=_0x435a73(0x30e),_0x5a1fa8[_0x435a73(0x2e4)]=_0x435a73(0x2ec),_0x5a1fa8[_0x435a73(0x2d2)]=()=>{const _0x3e6b5f=_0x435a73;closeActionSheet(),commitDelete(_0x3e6b5f(0x276),sessions[_0x3e6b5f(0x2b2)](_0x45d333=>_0x45d333['id']===editingId));},_0x41644b[_0x435a73(0x2e9)]=_0x435a73(0x343),_0x41644b[_0x435a73(0x2e4)]=_0x435a73(0x361),_0x41644b[_0x435a73(0x2d2)]=()=>{const _0x1e4dd5=_0x435a73;closeActionSheet(),commitDelete(_0x1e4dd5(0x242),sessions[_0x1e4dd5(0x2b2)](_0x5f3b2e=>_0x5f3b2e['id']===editingId));});}function closeActionSheet(){const _0x4572c0=a2_0x2bcb19;document[_0x4572c0(0x289)](_0x4572c0(0x20f))[_0x4572c0(0x32c)][_0x4572c0(0x33e)](_0x4572c0(0x299)),document[_0x4572c0(0x289)]('actionSheetOverlay')['classList'][_0x4572c0(0x33e)](_0x4572c0(0x2e6));}function openSettings(){const _0x34b6e4=a2_0x2bcb19;openSheet(_0x34b6e4(0x34d));}function saveCoachSettings(){const _0x1cc7a6=a2_0x2bcb19,_0x28917c=document['getElementById'](_0x1cc7a6(0x283))[_0x1cc7a6(0x2ce)];localStorage[_0x1cc7a6(0x286)](_0x1cc7a6(0x296),_0x28917c),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x28917c),DataManager[_0x1cc7a6(0x33a)](_0x1cc7a6(0x359),{'settings':{'cancel_window':_0x28917c}})['catch'](_0x3948c2=>{const _0xa159a6=_0x1cc7a6;console[_0xa159a6(0x26d)](_0xa159a6(0x324),_0x3948c2),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x181b36=a2_0x2bcb19,_0x5574bc=localStorage[_0x181b36(0x2d0)](_0x181b36(0x296));_0x5574bc&&(document[_0x181b36(0x289)](_0x181b36(0x283))['value']=_0x5574bc);}function openRangesSheet(){const _0x25023c=a2_0x2bcb19;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x25023c(0x1ff));}function addRange(){const _0x217e74=a2_0x2bcb19,_0x4fa968=document[_0x217e74(0x289)](_0x217e74(0x35c))[_0x217e74(0x2ce)],_0x3df58b=document['getElementById']('rangeStartTime')[_0x217e74(0x2ce)],_0x340ebb=document['getElementById'](_0x217e74(0x256))['value'],_0x2ecbbe=document[_0x217e74(0x289)](_0x217e74(0x1ee))[_0x217e74(0x2ce)];if(!_0x4fa968||!_0x3df58b||!_0x340ebb||!_0x2ecbbe)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x2faff9=_0x4fa968+'T'+_0x3df58b,_0x48e6f9=_0x340ebb+'T'+_0x2ecbbe;if(_0x2faff9>=_0x48e6f9)return alert(_0x217e74(0x2a4));specialRanges[_0x217e74(0x2c3)]({'start':_0x2faff9,'end':_0x48e6f9}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x217e74(0x31b)](),DataManager[_0x217e74(0x33a)](_0x217e74(0x359),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x412831){const _0x2d954b=a2_0x2bcb19;specialRanges[_0x2d954b(0x339)](_0x412831,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x2d954b(0x33a)](_0x2d954b(0x359),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1dcb47=a2_0x2bcb19;document[_0x1dcb47(0x289)](_0x1dcb47(0x35c))[_0x1dcb47(0x2ce)]='',document[_0x1dcb47(0x289)](_0x1dcb47(0x2cc))[_0x1dcb47(0x2ce)]=_0x1dcb47(0x2bd),document[_0x1dcb47(0x289)](_0x1dcb47(0x256))['value']='',document[_0x1dcb47(0x289)](_0x1dcb47(0x1ee))['value']=_0x1dcb47(0x228);}function renderRangesList(){const _0x19e871=a2_0x2bcb19,_0xa933d=document[_0x19e871(0x289)](_0x19e871(0x211));_0xa933d[_0x19e871(0x218)]='';if(!specialRanges[_0x19e871(0x290)]){_0xa933d[_0x19e871(0x218)]=_0x19e871(0x292);return;}specialRanges[_0x19e871(0x23f)]((_0x1e5047,_0xeab5df)=>{const _0x40ed41=_0x19e871,_0x26735f=document['createElement'](_0x40ed41(0x2e0));_0x26735f[_0x40ed41(0x2e4)]='range-item';const _0x374a28=_0x30eb32=>{const _0x5a2102=_0x40ed41,_0x1a45b0=new Date(_0x30eb32);return _0x1a45b0['getDate']()+'.'+String(_0x1a45b0[_0x5a2102(0x369)]()+0x1)[_0x5a2102(0x266)](0x2,'0')+'\x20'+String(_0x1a45b0[_0x5a2102(0x248)]())['padStart'](0x2,'0')+':'+String(_0x1a45b0[_0x5a2102(0x243)]())[_0x5a2102(0x266)](0x2,'0');};_0x26735f[_0x40ed41(0x218)]=_0x40ed41(0x20b)+_0x374a28(_0x1e5047[_0x40ed41(0x24a)])+_0x40ed41(0x25c)+_0x374a28(_0x1e5047[_0x40ed41(0x2ad)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0xeab5df+_0x40ed41(0x294),_0xa933d[_0x40ed41(0x263)](_0x26735f);});}function scrollToToday(){const _0x3965a9=a2_0x2bcb19,_0x2a66d2=getLocalDateStr(new Date()),_0x563665=document[_0x3965a9(0x289)](_0x3965a9(0x314)+_0x2a66d2),_0x47883f=document['getElementById'](_0x3965a9(0x2d1));if(_0x563665&&_0x47883f){const _0xd0e3bf=_0x47883f['clientWidth'],_0x1f1232=_0x563665[_0x3965a9(0x271)],_0x4f3bb9=_0x563665[_0x3965a9(0x1f8)];_0x47883f[_0x3965a9(0x277)]=_0x1f1232-_0xd0e3bf/0x2+_0x4f3bb9/0x2,_0x47883f[_0x3965a9(0x22c)]=0x9*GRID_H;}}function onScroll(){const _0x3f70e9=a2_0x2bcb19,_0x2dcf46=document[_0x3f70e9(0x289)]('matrixViewport'),_0x3f6730=document[_0x3f70e9(0x260)](_0x3f70e9(0x2fe));for(let _0x59c8f9 of _0x3f6730)if(_0x59c8f9[_0x3f70e9(0x271)]>=_0x2dcf46[_0x3f70e9(0x277)]){const _0x3c2e01=new Date(_0x59c8f9['getAttribute'](_0x3f70e9(0x338)));document[_0x3f70e9(0x289)](_0x3f70e9(0x365))['textContent']=_0x3c2e01[_0x3f70e9(0x253)]('ru',{'month':_0x3f70e9(0x2c1)})[_0x3f70e9(0x310)]()+'\x20'+_0x3c2e01[_0x3f70e9(0x360)]();break;}}function showToast(_0x525b8d,_0x3aabed=![]){const _0x4c5ed6=a2_0x2bcb19,_0x44cf0e=document['getElementById']('toast');_0x44cf0e[_0x4c5ed6(0x2e4)]=_0x4c5ed6(0x27e)+(_0x3aabed?_0x4c5ed6(0x262):''),document[_0x4c5ed6(0x289)]('toastTitle')[_0x4c5ed6(0x2e9)]=_0x3aabed?_0x4c5ed6(0x341):_0x4c5ed6(0x2b3),document[_0x4c5ed6(0x289)](_0x4c5ed6(0x30a))[_0x4c5ed6(0x2e9)]=_0x525b8d,_0x44cf0e['classList'][_0x4c5ed6(0x280)](_0x4c5ed6(0x1ea)),setTimeout(()=>{const _0x4f88db=_0x4c5ed6;_0x44cf0e[_0x4f88db(0x32c)][_0x4f88db(0x33e)](_0x4f88db(0x1ea));},0xbb8);}function openDayOptions(_0x450bb5,_0x40fe72){const _0x3dcbf8=a2_0x2bcb19;selectedDayForOptions=_0x450bb5,document[_0x3dcbf8(0x289)](_0x3dcbf8(0x2f0))[_0x3dcbf8(0x2e9)]=_0x40fe72,openSheet(_0x3dcbf8(0x238));}function toggleDayOff(){const _0x5b9b6e=a2_0x2bcb19;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5b9b6e(0x34c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x5b9b6e(0x33a)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0xdf62c5=a2_0x2bcb19;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0xdf62c5(0x31b)](),DataManager['fetchFromServer'](_0xdf62c5(0x359),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x215ebc){const _0x5289ff=a2_0x2bcb19;document[_0x5289ff(0x289)]('overlay')[_0x5289ff(0x32c)][_0x5289ff(0x280)](_0x5289ff(0x2e6)),document['getElementById'](_0x215ebc)[_0x5289ff(0x32c)][_0x5289ff(0x280)](_0x5289ff(0x299));}function closeAllSheets(){const _0x3f064c=a2_0x2bcb19;document[_0x3f064c(0x289)]('overlay')[_0x3f064c(0x32c)][_0x3f064c(0x33e)](_0x3f064c(0x2e6)),document[_0x3f064c(0x260)](_0x3f064c(0x31d))[_0x3f064c(0x23f)](_0x3b641d=>_0x3b641d[_0x3f064c(0x32c)][_0x3f064c(0x33e)](_0x3f064c(0x299)));}function openPatternEditor(){const _0x4d49a1=a2_0x2bcb19;closeAllSheets(),document['getElementById'](_0x4d49a1(0x2ca))['classList'][_0x4d49a1(0x280)](_0x4d49a1(0x299)),renderPatternEditor();}function closePatternEditor(){const _0x500f8b=a2_0x2bcb19;document[_0x500f8b(0x289)](_0x500f8b(0x2ca))[_0x500f8b(0x32c)]['remove'](_0x500f8b(0x299));}function savePattern(){const _0x496521=a2_0x2bcb19;document[_0x496521(0x289)]('patternEditor')[_0x496521(0x32c)][_0x496521(0x33e)](_0x496521(0x299)),reRenderBlocks(),DataManager[_0x496521(0x31b)](),DataManager['fetchFromServer'](_0x496521(0x359),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2c8f4e=a2_0x2bcb19,_0x1cfd82=document[_0x2c8f4e(0x289)](_0x2c8f4e(0x251));_0x1cfd82['innerHTML']='';const _0x4b394b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x118493=document[_0x2c8f4e(0x24e)](_0x2c8f4e(0x2e0));_0x118493[_0x2c8f4e(0x2e4)]='pe-corner',_0x1cfd82[_0x2c8f4e(0x263)](_0x118493),_0x4b394b[_0x2c8f4e(0x23f)]((_0x5c65d3,_0x2500cb)=>{const _0x4ba133=_0x2c8f4e,_0x1431eb=document['createElement'](_0x4ba133(0x2e0));_0x1431eb[_0x4ba133(0x2e4)]='pe-col-header',_0x1431eb[_0x4ba133(0x218)]=_0x5c65d3+_0x4ba133(0x363),_0x1431eb[_0x4ba133(0x2d2)]=()=>toggleColPattern(_0x2500cb),_0x1cfd82['appendChild'](_0x1431eb);});for(let _0x5973b6=0x0;_0x5973b6<0x18;_0x5973b6++){const _0x354cc1=document['createElement'](_0x2c8f4e(0x2e0));_0x354cc1[_0x2c8f4e(0x2e4)]=_0x2c8f4e(0x219),_0x354cc1[_0x2c8f4e(0x218)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x5973b6)[_0x2c8f4e(0x266)](0x2,'0')+_0x2c8f4e(0x358),_0x354cc1[_0x2c8f4e(0x2d2)]=()=>toggleRowPattern(_0x5973b6),_0x1cfd82[_0x2c8f4e(0x263)](_0x354cc1);for(let _0x351a84=0x0;_0x351a84<0x7;_0x351a84++){const _0x1ece2b=document['createElement'](_0x2c8f4e(0x2e0)),_0x28f3ee=(availabilityPattern[_0x351a84]||[])[_0x2c8f4e(0x29f)](_0x5973b6),_0x3909d7=!_0x28f3ee;_0x1ece2b[_0x2c8f4e(0x2e4)]='pe-cell\x20'+(_0x3909d7?'active':''),_0x1ece2b[_0x2c8f4e(0x2d2)]=()=>toggleSinglePattern(_0x351a84,_0x5973b6),_0x1cfd82[_0x2c8f4e(0x263)](_0x1ece2b);}}}function toggleSinglePattern(_0x33fa7c,_0x38994b){const _0x113d46=a2_0x2bcb19;if(!availabilityPattern[_0x33fa7c])availabilityPattern[_0x33fa7c]=[];const _0x3acece=availabilityPattern[_0x33fa7c],_0x15f6c6=_0x3acece['indexOf'](_0x38994b);_0x15f6c6===-0x1?_0x3acece[_0x113d46(0x2c3)](_0x38994b):_0x3acece['splice'](_0x15f6c6,0x1),renderPatternEditor();}function toggleColPattern(_0x5a991a){const _0x5da100=a2_0x2bcb19;if(!availabilityPattern[_0x5a991a])availabilityPattern[_0x5a991a]=[];const _0x43ea71=availabilityPattern[_0x5a991a];_0x43ea71[_0x5da100(0x290)]===0x0?availabilityPattern[_0x5a991a]=Array['from']({'length':0x18},(_0x138b85,_0x17e32b)=>_0x17e32b):availabilityPattern[_0x5a991a]=[],renderPatternEditor();}function toggleRowPattern(_0x846dae){const _0x5c7be2=a2_0x2bcb19;let _0x277fb1=!![];for(let _0x107733=0x0;_0x107733<0x7;_0x107733++){if((availabilityPattern[_0x107733]||[])[_0x5c7be2(0x29f)](_0x846dae)){_0x277fb1=![];break;}}for(let _0xf2bb2c=0x0;_0xf2bb2c<0x7;_0xf2bb2c++){if(!availabilityPattern[_0xf2bb2c])availabilityPattern[_0xf2bb2c]=[];const _0x47359a=availabilityPattern[_0xf2bb2c]['indexOf'](_0x846dae);if(_0x277fb1){if(_0x47359a===-0x1)availabilityPattern[_0xf2bb2c][_0x5c7be2(0x2c3)](_0x846dae);}else{if(_0x47359a!==-0x1)availabilityPattern[_0xf2bb2c][_0x5c7be2(0x339)](_0x47359a,0x1);}}renderPatternEditor();}function renderPCol(_0x2c842b,_0x2679cb){const _0x27daa5=a2_0x2bcb19;_0x2c842b[_0x27daa5(0x218)]='';const _0x2709e0=Math[_0x27daa5(0x213)](_0x2c842b[_0x27daa5(0x271)]);(availabilityPattern[_0x2679cb]||[])[_0x27daa5(0x23f)](_0x294d69=>{const _0x32626c=_0x27daa5,_0xa291f9=document['createElement'](_0x32626c(0x2e0));_0xa291f9[_0x32626c(0x2e4)]='blocked-slot\x20stripe-bg';const _0x2b0615=_0x294d69*GRID_H;_0xa291f9[_0x32626c(0x364)][_0x32626c(0x274)]=_0x2b0615+'px',_0xa291f9[_0x32626c(0x364)]['backgroundPosition']='-'+_0x2709e0+_0x32626c(0x20c)+_0x2b0615+'px',_0xa291f9['onclick']=_0x3e3314=>{_0x3e3314['stopPropagation'](),toggleSinglePattern(_0x2679cb,_0x294d69);},_0x2c842b[_0x32626c(0x263)](_0xa291f9);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1fb79e=a2_0x2bcb19,_0x20b433=new Date(),_0x43872c=document[_0x1fb79e(0x289)](_0x1fb79e(0x2ee)),_0x11a8c5=document[_0x1fb79e(0x289)](_0x1fb79e(0x368)),_0xd1bce9=(_0x20b433[_0x1fb79e(0x248)]()*0x3c+_0x20b433['getMinutes']())/0x3c*GRID_H;_0x43872c['style'][_0x1fb79e(0x274)]=_0xd1bce9+'px',_0x43872c['style']['display']=_0x1fb79e(0x275),_0x11a8c5[_0x1fb79e(0x2e9)]=String(_0x20b433['getHours']())[_0x1fb79e(0x266)](0x2,'0')+':'+String(_0x20b433[_0x1fb79e(0x243)]())[_0x1fb79e(0x266)](0x2,'0'),_0x11a8c5['style'][_0x1fb79e(0x264)]=_0x1fb79e(0x275),_0x11a8c5['style']['top']=_0xd1bce9+'px';}document[a2_0x2bcb19(0x327)](a2_0x2bcb19(0x22d),init);function openDayOptions(_0x27eff8){const _0x741e1f=a2_0x2bcb19;selectedDayForOptions=_0x27eff8;const _0x52098b=new Date(_0x27eff8),_0x55f7e5={'weekday':_0x741e1f(0x2c1),'day':'numeric','month':_0x741e1f(0x2c1),'year':_0x741e1f(0x311)},_0x27729e=_0x52098b[_0x741e1f(0x1fa)](_0x741e1f(0x258),_0x55f7e5);document[_0x741e1f(0x289)](_0x741e1f(0x210))['textContent']=_0x27729e['charAt'](0x0)[_0x741e1f(0x310)]()+_0x27729e[_0x741e1f(0x2e2)](0x1);let _0x189eb7=_0x52098b['getDay']()-0x1;if(_0x189eb7===-0x1)_0x189eb7=0x6;const _0x407497=availabilityPattern[_0x189eb7]||[],_0x23ae30=0x18-_0x407497['length'],_0x27a915=_0x23ae30*0x3c,_0x5a6f7f=sessions[_0x741e1f(0x26e)](_0x5c071d=>_0x5c071d['dateStr']===_0x27eff8&&_0x5c071d[_0x741e1f(0x330)]!==_0x741e1f(0x328));let _0x558429=_0x5a6f7f['map'](_0x1bbf0d=>{const _0xe740cb=_0x741e1f,[_0xd9ba8c,_0x5ab00d]=_0x1bbf0d['start'][_0xe740cb(0x278)](':')['map'](Number),[_0x755563,_0x18e107]=_0x1bbf0d['end']['split'](':')[_0xe740cb(0x239)](Number);return[_0xd9ba8c*0x3c+_0x5ab00d,_0x755563*0x3c+_0x18e107];});_0x558429['sort']((_0x198eaa,_0x54d333)=>_0x198eaa[0x0]-_0x54d333[0x0]);let _0x2992d0=[];if(_0x558429[_0x741e1f(0x290)]>0x0){let _0x3b2f6c=_0x558429[0x0];for(let _0xe5632=0x1;_0xe5632<_0x558429[_0x741e1f(0x290)];_0xe5632++){_0x558429[_0xe5632][0x0]<_0x3b2f6c[0x1]?_0x3b2f6c[0x1]=Math[_0x741e1f(0x223)](_0x3b2f6c[0x1],_0x558429[_0xe5632][0x1]):(_0x2992d0[_0x741e1f(0x2c3)](_0x3b2f6c),_0x3b2f6c=_0x558429[_0xe5632]);}_0x2992d0[_0x741e1f(0x2c3)](_0x3b2f6c);}let _0x5b418b=0x0;_0x2992d0[_0x741e1f(0x23f)](_0x3dbd39=>_0x5b418b+=_0x3dbd39[0x1]-_0x3dbd39[0x0]),document[_0x741e1f(0x289)](_0x741e1f(0x304))[_0x741e1f(0x2e9)]=formatMinsToHrs(_0x27a915),document['getElementById']('doBusyHours')['textContent']=formatMinsToHrs(_0x5b418b);const _0x15a009=_0x27a915>0x0?Math['round'](_0x5b418b/_0x27a915*0x64):0x0,_0x87e5bf=document[_0x741e1f(0x289)](_0x741e1f(0x2ef));_0x87e5bf['textContent']=_0x15a009+'%';const _0x2966aa=document['getElementById']('statLoadCard');if(_0x15a009>0x64)_0x87e5bf['style'][_0x741e1f(0x295)]=_0x741e1f(0x2f9),_0x2966aa['style'][_0x741e1f(0x367)]=_0x741e1f(0x24f);else _0x15a009>0x50?(_0x87e5bf[_0x741e1f(0x364)]['color']=_0x741e1f(0x2dc),_0x2966aa[_0x741e1f(0x364)][_0x741e1f(0x367)]=_0x741e1f(0x23a)):(_0x87e5bf['style']['color']=_0x741e1f(0x342),_0x2966aa[_0x741e1f(0x364)][_0x741e1f(0x367)]=_0x741e1f(0x28c));const _0x4e20b1=document[_0x741e1f(0x289)](_0x741e1f(0x33b));_0x4e20b1['innerHTML']='';_0x5a6f7f[_0x741e1f(0x290)]===0x0?_0x4e20b1[_0x741e1f(0x218)]=_0x741e1f(0x2c6):(_0x5a6f7f[_0x741e1f(0x1fe)]((_0x86aef3,_0x43e267)=>_0x86aef3['start']['localeCompare'](_0x43e267[_0x741e1f(0x24a)])),_0x5a6f7f[_0x741e1f(0x23f)](_0x2bd962=>{const _0x25e977=_0x741e1f,_0x52beee=clients['find'](_0x2b2c6c=>_0x2b2c6c['name']===_0x2bd962[_0x25e977(0x297)]),_0x2c76e4=_0x52beee?_0x52beee['color']:'#fff',_0x1a375c=_0x2bd962[_0x25e977(0x330)]===_0x25e977(0x2f8),_0x1021e0=_0x1a375c?_0x25e977(0x2d7):'',_0x51e4d1=document['createElement'](_0x25e977(0x2e0));_0x51e4d1[_0x25e977(0x2e4)]='de-item',_0x51e4d1[_0x25e977(0x364)][_0x25e977(0x1f6)]=_0x2c76e4,_0x51e4d1[_0x25e977(0x218)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x2bd962[_0x25e977(0x24a)]+_0x25e977(0x287)+_0x2bd962[_0x25e977(0x2ad)]+_0x25e977(0x31e)+_0x2bd962[_0x25e977(0x297)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1021e0+_0x25e977(0x237),_0x4e20b1[_0x25e977(0x263)](_0x51e4d1);}));const _0x584b3f=document[_0x741e1f(0x289)](_0x741e1f(0x21c)),_0x15de56=dateExceptions[_0x27eff8]==='off';_0x15de56?(_0x584b3f[_0x741e1f(0x2e9)]=_0x741e1f(0x2c2),_0x584b3f[_0x741e1f(0x2e4)]=_0x741e1f(0x31a),_0x584b3f['style']['color']='var(--acc-green)',_0x584b3f[_0x741e1f(0x364)][_0x741e1f(0x201)]=_0x741e1f(0x325)):(_0x584b3f[_0x741e1f(0x2e9)]=_0x741e1f(0x2f4),_0x584b3f[_0x741e1f(0x2e4)]=_0x741e1f(0x35f),_0x584b3f[_0x741e1f(0x364)]['color']=_0x741e1f(0x2f9),_0x584b3f[_0x741e1f(0x364)]['background']=_0x741e1f(0x340)),openSheet(_0x741e1f(0x238));}let currentAnPeriod='week';function openAnalytics(){const _0x25c613=a2_0x2bcb19,_0x3c1852=document[_0x25c613(0x2a0)](_0x25c613(0x236));setAnalyticsPeriod(_0x25c613(0x1f7),_0x3c1852),closeAllSheets(),openSheet(_0x25c613(0x24c));}function setAnalyticsPeriod(_0x661b97,_0x1784e7){const _0x4da43f=a2_0x2bcb19;currentAnPeriod=_0x661b97,document[_0x4da43f(0x260)](_0x4da43f(0x236))[_0x4da43f(0x23f)](_0x44e3c3=>_0x44e3c3[_0x4da43f(0x32c)][_0x4da43f(0x33e)](_0x4da43f(0x2e6)));if(_0x1784e7)_0x1784e7[_0x4da43f(0x32c)]['add'](_0x4da43f(0x2e6));const _0x169479=document[_0x4da43f(0x289)](_0x4da43f(0x2b5));_0x169479[_0x4da43f(0x364)][_0x4da43f(0x264)]=_0x661b97==='custom'?'flex':_0x4da43f(0x202);const _0x2fcd47=new Date();let _0x59d648=new Date(),_0x9054e6=new Date();if(_0x661b97===_0x4da43f(0x1f7))_0x59d648=getStartOfWeek(_0x2fcd47),_0x9054e6=new Date(_0x59d648),_0x9054e6['setDate'](_0x9054e6[_0x4da43f(0x1ed)]()+0x6);else{if(_0x661b97==='month')_0x59d648=new Date(_0x2fcd47[_0x4da43f(0x360)](),_0x2fcd47['getMonth'](),0x1),_0x9054e6=new Date(_0x2fcd47['getFullYear'](),_0x2fcd47[_0x4da43f(0x369)]()+0x1,0x0);else{!document[_0x4da43f(0x289)](_0x4da43f(0x220))[_0x4da43f(0x2ce)]&&(document[_0x4da43f(0x289)](_0x4da43f(0x220))['value']=getLocalDateStr(_0x2fcd47),document[_0x4da43f(0x289)](_0x4da43f(0x226))['value']=getLocalDateStr(_0x2fcd47));refreshAnalytics();return;}}document[_0x4da43f(0x289)]('anStart')[_0x4da43f(0x2ce)]=getLocalDateStr(_0x59d648),document['getElementById'](_0x4da43f(0x226))[_0x4da43f(0x2ce)]=getLocalDateStr(_0x9054e6),refreshAnalytics();}function refreshAnalytics(){const _0x184542=a2_0x2bcb19,_0x579b2d=document[_0x184542(0x289)]('anStart')['value'],_0x3b57ce=document[_0x184542(0x289)](_0x184542(0x226))[_0x184542(0x2ce)];if(!_0x579b2d||!_0x3b57ce)return;const _0x23fd95=sessions[_0x184542(0x26e)](_0x203b1d=>_0x203b1d['dateStr']>=_0x579b2d&&_0x203b1d[_0x184542(0x255)]<=_0x3b57ce&&_0x203b1d[_0x184542(0x330)]!==_0x184542(0x328)),_0x10fa45=_0x23fd95['length'],_0x44d389=_0x23fd95[_0x184542(0x26e)](_0x413862=>_0x413862[_0x184542(0x330)]==='completed')[_0x184542(0x290)],_0x316844=_0x10fa45>0x0?Math[_0x184542(0x213)](_0x44d389/_0x10fa45*0x64):0x0;document['getElementById'](_0x184542(0x2a3))[_0x184542(0x2e9)]=_0x316844+'%',document['getElementById']('anTotalStats')['textContent']=_0x44d389+_0x184542(0x302)+_0x10fa45+_0x184542(0x2d8);const _0x336307=document['getElementById'](_0x184542(0x2e1)),_0x11db51=0x2*Math['PI']*0x23,_0x2aed90=_0x11db51-_0x316844/0x64*_0x11db51;_0x336307['style']['strokeDashoffset']=_0x2aed90;const _0x5f2fd0={};_0x23fd95['forEach'](_0x108b16=>{const _0x43e936=_0x184542;if(!_0x5f2fd0[_0x108b16[_0x43e936(0x297)]]){const _0x123d23=clients[_0x43e936(0x2b2)](_0x25ea5a=>_0x25ea5a[_0x43e936(0x351)]===_0x108b16['client']);_0x5f2fd0[_0x108b16[_0x43e936(0x297)]]={'total':0x0,'done':0x0,'color':_0x123d23?_0x123d23[_0x43e936(0x295)]:'#fff'};}_0x5f2fd0[_0x108b16[_0x43e936(0x297)]][_0x43e936(0x317)]++;if(_0x108b16[_0x43e936(0x330)]===_0x43e936(0x2f8))_0x5f2fd0[_0x108b16['client']][_0x43e936(0x350)]++;});const _0x1839d4=document[_0x184542(0x289)](_0x184542(0x303));_0x1839d4['innerHTML']='';const _0x3d906e=Object[_0x184542(0x27b)](_0x5f2fd0)[_0x184542(0x1fe)]((_0x4e21e1,_0x297016)=>_0x297016[0x1]['total']-_0x4e21e1[0x1][_0x184542(0x317)]);if(_0x3d906e['length']===0x0){_0x1839d4['innerHTML']=_0x184542(0x316);return;}_0x3d906e['forEach'](([_0x15f0bf,_0x30b214])=>{const _0x20338b=_0x184542,_0x29b195=Math[_0x20338b(0x213)](_0x30b214[_0x20338b(0x350)]/_0x30b214[_0x20338b(0x317)]*0x64),_0x32e975=document[_0x20338b(0x24e)](_0x20338b(0x2e0));_0x32e975[_0x20338b(0x2e4)]=_0x20338b(0x35d),_0x32e975[_0x20338b(0x364)][_0x20338b(0x1f6)]=_0x30b214['color'],_0x32e975[_0x20338b(0x218)]=_0x20338b(0x2e5)+_0x15f0bf+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x30b214[_0x20338b(0x350)]+_0x20338b(0x288)+_0x30b214[_0x20338b(0x317)]+_0x20338b(0x246)+_0x29b195+_0x20338b(0x336),_0x1839d4[_0x20338b(0x263)](_0x32e975);});}function formatMinsToHrs(_0x30563c){const _0x6e34a4=a2_0x2bcb19;if(_0x30563c===0x0)return'0';const _0x137efe=Math[_0x6e34a4(0x234)](_0x30563c/0x3c),_0x5a9d6b=_0x30563c%0x3c;if(_0x5a9d6b===0x0)return _0x137efe+'—á';return _0x137efe+'—á\x20'+_0x5a9d6b+'–º';}