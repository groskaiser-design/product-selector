const a2_0x4b67e0=a2_0x5e77;(function(_0x1428c1,_0x5435d0){const _0x3f8f4c=a2_0x5e77,_0x13a87b=_0x1428c1();while(!![]){try{const _0x596957=parseInt(_0x3f8f4c(0x29b))/0x1+-parseInt(_0x3f8f4c(0x15f))/0x2*(-parseInt(_0x3f8f4c(0x1f6))/0x3)+-parseInt(_0x3f8f4c(0x1cd))/0x4+-parseInt(_0x3f8f4c(0x169))/0x5+parseInt(_0x3f8f4c(0x137))/0x6+parseInt(_0x3f8f4c(0x153))/0x7*(-parseInt(_0x3f8f4c(0x26e))/0x8)+parseInt(_0x3f8f4c(0x21d))/0x9*(parseInt(_0x3f8f4c(0x1b0))/0xa);if(_0x596957===_0x5435d0)break;else _0x13a87b['push'](_0x13a87b['shift']());}catch(_0x4bf25a){_0x13a87b['push'](_0x13a87b['shift']());}}}(a2_0x3719,0xd398d),function initTMA(){const _0x4cfa90=a2_0x5e77;try{const _0x56d659=window[_0x4cfa90(0x262)]?.[_0x4cfa90(0x1a3)];if(!_0x56d659)return;_0x56d659[_0x4cfa90(0x167)](),_0x56d659[_0x4cfa90(0x1c7)]();try{_0x56d659[_0x4cfa90(0x173)](_0x4cfa90(0x29d)),_0x56d659[_0x4cfa90(0x1d8)]&&_0x56d659[_0x4cfa90(0x1d8)](_0x4cfa90(0x29d));}catch(_0x44ef7c){console['log'](_0x4cfa90(0x25f),_0x44ef7c);}try{_0x56d659[_0x4cfa90(0x178)]&&(_0x56d659[_0x4cfa90(0x178)][_0x4cfa90(0x131)](),_0x56d659[_0x4cfa90(0x178)][_0x4cfa90(0x26f)](),_0x56d659[_0x4cfa90(0x178)][_0x4cfa90(0x1ff)](function(){const _0xad6d85=_0x4cfa90;window[_0xad6d85(0x203)][_0xad6d85(0x165)]=_0xad6d85(0x163);}));}catch(_0x813d55){console[_0x4cfa90(0x268)](_0x4cfa90(0x225),_0x813d55);}try{if(_0x56d659[_0x4cfa90(0x1bb)])_0x56d659[_0x4cfa90(0x1bb)]();}catch(_0x4c9a36){}}catch(_0x456f56){console[_0x4cfa90(0x2ae)](_0x4cfa90(0x295),_0x456f56);}}());function isAdmin(){const _0x5ddaad=a2_0x5e77;try{const _0x1ce466=Number(window[_0x5ddaad(0x262)]?.[_0x5ddaad(0x1a3)]?.[_0x5ddaad(0x226)]?.[_0x5ddaad(0x227)]?.['id']);return _0x1ce466===0xbaf7174;}catch(_0x210ced){return![];}}const APP_VERSION=a2_0x4b67e0(0x1a6),API_URL=a2_0x4b67e0(0x147),GRID_H=0x3c;function a2_0x5e77(_0x3fa921,_0x5843f7){_0x3fa921=_0x3fa921-0x12e;const _0x581768=a2_0x3719();let _0x5b7258=_0x581768[_0x3fa921];return _0x5b7258;}let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4b67e0(0x299),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x45c3d0=a2_0x4b67e0;return window['Telegram']?.[_0x45c3d0(0x1a3)]?.['initDataUnsafe']?.[_0x45c3d0(0x227)]?.['id']||_0x45c3d0(0x13a);},'saveLocally'(){const _0x39bbb9=a2_0x4b67e0;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x39bbb9(0x1e4)](clients)),localStorage[_0x39bbb9(0x250)](KEY_SESSIONS,JSON[_0x39bbb9(0x1e4)](sessions)),localStorage[_0x39bbb9(0x250)](KEY_SETTINGS,JSON[_0x39bbb9(0x1e4)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x38bbc3){console['error'](_0x39bbb9(0x1de),_0x38bbc3);}},'loadLocal'(){const _0x5219ad=a2_0x4b67e0;try{const _0x3f751d=localStorage[_0x5219ad(0x168)](KEY_CLIENTS);if(_0x3f751d)clients=JSON[_0x5219ad(0x205)](_0x3f751d);const _0x3373f9=localStorage[_0x5219ad(0x168)](KEY_SESSIONS);if(_0x3373f9)sessions=JSON[_0x5219ad(0x205)](_0x3373f9);const _0x39c6bd=localStorage[_0x5219ad(0x168)](KEY_SETTINGS);if(_0x39c6bd){const _0x14206d=JSON['parse'](_0x39c6bd);if(_0x14206d['pattern'])availabilityPattern=_0x14206d[_0x5219ad(0x141)];if(_0x14206d['exceptions'])dateExceptions=_0x14206d[_0x5219ad(0x245)];if(_0x14206d['ranges'])specialRanges=_0x14206d[_0x5219ad(0x1d3)];}else{for(let _0x1f1948=0x0;_0x1f1948<0x7;_0x1f1948++)availabilityPattern[_0x1f1948]=Array[_0x5219ad(0x12e)]({'length':0xc},(_0x2caf62,_0x19807b)=>_0x19807b+0x9);}}catch(_0x4704d9){console['error'](_0x5219ad(0x1d9),_0x4704d9);}},async 'fetchFromServer'(_0x4f568d,_0x11b44e={}){const _0x410e5=a2_0x4b67e0,_0x202bb7=window[_0x410e5(0x262)]?.['WebApp'],_0x2e5c12={'action':_0x4f568d,'init_data':_0x202bb7?.['initData']||'',..._0x11b44e};try{const _0x3c445e=await fetch(API_URL,{'method':_0x410e5(0x284),'headers':{'Content-Type':_0x410e5(0x23b)},'body':JSON[_0x410e5(0x1e4)](_0x2e5c12)}),_0x5d39ca=await _0x3c445e[_0x410e5(0x1aa)]();if(!_0x5d39ca['ok'])throw new Error(_0x5d39ca[_0x410e5(0x2ae)]||'Server\x20Error');return _0x5d39ca['data'];}catch(_0x12ecc5){console[_0x410e5(0x2ae)](_0x410e5(0x150)+_0x4f568d+_0x410e5(0x255),_0x12ecc5);throw _0x12ecc5;}},async 'syncLoad'(){const _0x46e14f=a2_0x4b67e0,_0x42ef04=new Date(),_0x1d4b11=_0x42ef04[_0x46e14f(0x28f)]()+'-'+String(_0x42ef04[_0x46e14f(0x1ec)]()+0x1)[_0x46e14f(0x175)](0x2,'0'),_0x539765=new Date(_0x42ef04);_0x539765['setMonth'](_0x42ef04[_0x46e14f(0x1ec)]()+0x1);const _0x1678d3=_0x539765['getFullYear']()+'-'+String(_0x539765[_0x46e14f(0x1ec)]()+0x1)[_0x46e14f(0x175)](0x2,'0'),_0x552172=Date[_0x46e14f(0x180)]();console['log'](_0x46e14f(0x214)+_0x1d4b11+',\x20'+_0x1678d3+_0x46e14f(0x17a));try{const [_0x2c940d,_0x179b48]=await Promise[_0x46e14f(0x201)]([this[_0x46e14f(0x208)](_0x46e14f(0x135),{'month_str':_0x1d4b11}),this[_0x46e14f(0x208)](_0x46e14f(0x135),{'month_str':_0x1678d3})]);if(lastUserActionTime>_0x552172)return console[_0x46e14f(0x140)](_0x46e14f(0x1cf)),![];return this[_0x46e14f(0x29a)](_0x2c940d,_0x1d4b11),this[_0x46e14f(0x29a)](_0x179b48,_0x1678d3),this[_0x46e14f(0x270)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x56a101){console['error'](_0x56a101);throw _0x56a101;}},'mergeServerData'(_0x284cd7,_0x360daa){const _0x9007e3=a2_0x4b67e0;if(!_0x284cd7)return;_0x284cd7['clients']&&Array['isArray'](_0x284cd7[_0x9007e3(0x156)])&&(clients=_0x284cd7[_0x9007e3(0x156)]);if(_0x284cd7[_0x9007e3(0x1e9)]){if(_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x141)])availabilityPattern=_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x141)];if(_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x245)])dateExceptions=_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x245)];if(_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x1d3)])specialRanges=_0x284cd7['settings']['ranges'];if(_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x2a4)]){localStorage[_0x9007e3(0x250)]('uc_settings_cancel_window',_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x2a4)]);const _0x2ba6e1=document[_0x9007e3(0x186)](_0x9007e3(0x1fb));if(_0x2ba6e1)_0x2ba6e1[_0x9007e3(0x19b)]=_0x284cd7[_0x9007e3(0x1e9)][_0x9007e3(0x2a4)];}}_0x284cd7[_0x9007e3(0x179)]&&(sessions=sessions['filter'](_0x3b91af=>!_0x3b91af[_0x9007e3(0x1fa)][_0x9007e3(0x27c)](_0x360daa)),Object[_0x9007e3(0x151)](_0x284cd7[_0x9007e3(0x179)])[_0x9007e3(0x171)](_0x4e18dc=>{const _0x328732=_0x9007e3,_0x4e80bb=_0x284cd7[_0x328732(0x179)][_0x4e18dc];_0x4e80bb[_0x328732(0x171)](_0x285de8=>{const _0x547f23=_0x328732,_0x777e81=clients[_0x547f23(0x1c0)](_0x310e1b=>String(_0x310e1b['id'])===String(_0x285de8['c']));sessions[_0x547f23(0x1d2)]({'id':_0x285de8['i'],'clientId':_0x285de8['c'],'client':_0x777e81?_0x777e81['name']:'Unknown','dateStr':_0x360daa+'-'+_0x4e18dc['padStart'](0x2,'0'),'start':_0x285de8['s'],'end':_0x285de8['e'],'status':_0x285de8['st']||_0x547f23(0x136),'note':_0x285de8['n']||'','seriesId':_0x285de8[_0x547f23(0x1df)]||null});});}));},async 'syncBatch'(_0x137ec9){const _0x1e8ab7=a2_0x4b67e0,_0x2d87b5=[...new Set(_0x137ec9)],_0x408e74=_0x2d87b5[_0x1e8ab7(0x1a9)](_0x37d530=>{const _0x2e9dcc=_0x1e8ab7,_0x44e10a=sessions[_0x2e9dcc(0x242)](_0x5b5127=>_0x5b5127['dateStr']===_0x37d530&&_0x5b5127[_0x2e9dcc(0x177)]!==_0x2e9dcc(0x1e0)),_0x113c8f=_0x44e10a[_0x2e9dcc(0x1a9)](_0x347ad2=>({'i':_0x347ad2['id'],'c':_0x347ad2[_0x2e9dcc(0x23e)],'s':_0x347ad2[_0x2e9dcc(0x1bc)],'e':_0x347ad2[_0x2e9dcc(0x17e)],'st':_0x347ad2[_0x2e9dcc(0x177)],'n':_0x347ad2[_0x2e9dcc(0x154)],'sid':_0x347ad2[_0x2e9dcc(0x1f4)]}));return{'date':_0x37d530,'day_data':_0x113c8f};});if(_0x408e74[_0x1e8ab7(0x241)]===0x0)return;console[_0x1e8ab7(0x268)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x408e74[_0x1e8ab7(0x241)]+'\x20days'),await this[_0x1e8ab7(0x208)](_0x1e8ab7(0x210),{'changes':_0x408e74});}};async function init(){const _0x2d06cc=a2_0x4b67e0;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2d06cc(0x186)](_0x2d06cc(0x267))[_0x2d06cc(0x273)](_0x2d06cc(0x27a),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2d06cc(0x2af)]()[_0x2d06cc(0x251)](()=>{const _0x374a48=_0x2d06cc;showToast(_0x374a48(0x26b),!![]);})['catch'](_0x25fdfa=>{const _0x198974=_0x2d06cc;showToast(_0x198974(0x21f),![]);});}function generateId(){const _0x159083=a2_0x4b67e0;return Date['now']()['toString'](0x24)+Math[_0x159083(0x292)]()[_0x159083(0x1d5)](0x24)[_0x159083(0x298)](0x2,0x5);}function toggleSeriesInput(){const _0x1ee8fa=a2_0x4b67e0,_0x2b6ca1=document[_0x1ee8fa(0x186)]('inpRecurring')['checked'],_0x2f20a0=document[_0x1ee8fa(0x186)](_0x1ee8fa(0x260));_0x2f20a0[_0x1ee8fa(0x17b)][_0x1ee8fa(0x269)]=_0x2b6ca1?_0x1ee8fa(0x1f7):_0x1ee8fa(0x29f);const _0x2220a1=document[_0x1ee8fa(0x186)](_0x1ee8fa(0x1d6));_0x2220a1[_0x1ee8fa(0x17b)][_0x1ee8fa(0x1b6)]=_0x2b6ca1?_0x1ee8fa(0x29c):'10px';}function openAddSession(_0x4af70d){const _0x3baae4=a2_0x4b67e0;editingId=null,populateClientSelect(),document[_0x3baae4(0x186)](_0x3baae4(0x212))[_0x3baae4(0x132)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x3baae4(0x186)](_0x3baae4(0x228))[_0x3baae4(0x17b)][_0x3baae4(0x269)]=_0x3baae4(0x29f),document[_0x3baae4(0x186)](_0x3baae4(0x1c1))[_0x3baae4(0x17b)][_0x3baae4(0x269)]=_0x3baae4(0x29f);const _0x43d1fb=document['getElementById'](_0x3baae4(0x1d6)),_0x129c2b=document['getElementById'](_0x3baae4(0x260));_0x43d1fb[_0x3baae4(0x17b)][_0x3baae4(0x269)]=_0x3baae4(0x24d),_0x43d1fb[_0x3baae4(0x17b)][_0x3baae4(0x1b6)]=_0x3baae4(0x16c),document['getElementById'](_0x3baae4(0x187))[_0x3baae4(0x1e8)]=![],document[_0x3baae4(0x186)](_0x3baae4(0x14f))[_0x3baae4(0x19b)]=0x4,_0x129c2b[_0x3baae4(0x17b)][_0x3baae4(0x269)]=_0x3baae4(0x29f),document[_0x3baae4(0x186)](_0x3baae4(0x221))[_0x3baae4(0x19b)]=getLocalDateStr(_0x4af70d),updateDateDisplay();const _0x1f3a4f=_0x4af70d[_0x3baae4(0x288)]();document['getElementById'](_0x3baae4(0x25d))[_0x3baae4(0x19b)]=String(_0x1f3a4f)['padStart'](0x2,'0')+_0x3baae4(0x283),document[_0x3baae4(0x186)]('inpEnd')[_0x3baae4(0x19b)]=String(_0x1f3a4f+0x1)[_0x3baae4(0x175)](0x2,'0')+_0x3baae4(0x283),openSheet('sessionSheet');}function openEdit(_0x2c045e){const _0x181440=a2_0x4b67e0;editingId=_0x2c045e['id'],populateClientSelect(),document[_0x181440(0x186)](_0x181440(0x212))[_0x181440(0x132)]=_0x181440(0x14b),document[_0x181440(0x186)]('btnDelete')[_0x181440(0x17b)][_0x181440(0x269)]=_0x181440(0x1f7);const _0x390795=document['getElementById']('btnStatusToggle');_0x390795['style']['display']='flex';_0x2c045e[_0x181440(0x177)]===_0x181440(0x215)?(_0x390795[_0x181440(0x16a)]='btn-status-toggle\x20undo-mode',_0x390795['innerHTML']=_0x181440(0x2a7)):(_0x390795[_0x181440(0x16a)]=_0x181440(0x15c),_0x390795[_0x181440(0x1af)]=_0x181440(0x28e));const _0x85ba83=!!_0x2c045e[_0x181440(0x1f4)];document[_0x181440(0x186)](_0x181440(0x1d6))['style']['display']=_0x181440(0x29f),document['getElementById'](_0x181440(0x260))[_0x181440(0x17b)][_0x181440(0x269)]='none',_0x85ba83?(document[_0x181440(0x186)](_0x181440(0x1cc))[_0x181440(0x17b)][_0x181440(0x269)]='flex',document[_0x181440(0x186)]('patternInfoBox')[_0x181440(0x182)](_0x181440(0x1ca))[_0x181440(0x132)]=_0x181440(0x133)):document[_0x181440(0x186)]('patternInfoBox')[_0x181440(0x17b)][_0x181440(0x269)]='none',document[_0x181440(0x186)]('inpClient')[_0x181440(0x19b)]=_0x2c045e[_0x181440(0x220)],document[_0x181440(0x186)](_0x181440(0x221))[_0x181440(0x19b)]=_0x2c045e[_0x181440(0x1fa)],document[_0x181440(0x186)](_0x181440(0x25d))['value']=_0x2c045e[_0x181440(0x1bc)],document[_0x181440(0x186)]('inpEnd')[_0x181440(0x19b)]=_0x2c045e[_0x181440(0x17e)],document[_0x181440(0x186)]('inpNote')[_0x181440(0x19b)]=_0x2c045e[_0x181440(0x154)]||'',updateDateDisplay(),openSheet(_0x181440(0x19d));}async function trySaveSession(){const _0x3c399b=a2_0x4b67e0,_0x4e020c=document[_0x3c399b(0x186)](_0x3c399b(0x202))['value'],_0x5d232d=document['getElementById'](_0x3c399b(0x221))['value'],_0x11e9dc=document[_0x3c399b(0x186)]('inpStart')[_0x3c399b(0x19b)],_0x2d4ac5=document[_0x3c399b(0x186)](_0x3c399b(0x236))[_0x3c399b(0x19b)],_0x16f8b6=document[_0x3c399b(0x186)](_0x3c399b(0x2b0))[_0x3c399b(0x19b)],_0x2b1d7d=document['getElementById'](_0x3c399b(0x187))[_0x3c399b(0x1e8)];let _0x113008=0x4;if(_0x2b1d7d){const _0x2204a7=parseInt(document['getElementById'](_0x3c399b(0x14f))['value']);if(!_0x2204a7||_0x2204a7<0x2){showToast(_0x3c399b(0x28b),![]);return;}if(_0x2204a7>0x64){showToast(_0x3c399b(0x1ee),![]);return;}_0x113008=_0x2204a7;}const _0x1356e6=clients[_0x3c399b(0x1c0)](_0x19d748=>_0x19d748[_0x3c399b(0x223)]===_0x4e020c);if(!_0x1356e6){showToast(_0x3c399b(0x20c),![]);return;}const _0x471f68=validateAppointment(_0x5d232d,_0x11e9dc,_0x2d4ac5,editingId,_0x1356e6['id']);if(!_0x471f68['valid']){showToast(_0x471f68[_0x3c399b(0x23d)],![]);return;}_0x471f68['warning']&&showToast(_0x471f68['warning'],![]);const _0x7559ec={'client':_0x4e020c,'clientId':_0x1356e6['id'],'start':_0x11e9dc,'end':_0x2d4ac5,'note':_0x16f8b6,'status':'planned'},_0x504b14=editingId?sessions[_0x3c399b(0x1c0)](_0x1ecce1=>_0x1ecce1['id']===editingId):null;if(_0x504b14&&_0x504b14['seriesId']){tempSessionData={..._0x7559ec,'dateStr':_0x5d232d,'id':editingId,'seriesId':_0x504b14[_0x3c399b(0x1f4)]},openActionSheet(_0x3c399b(0x26a));return;}let _0x32219b=null;if(!editingId)_0x32219b=_0x3c399b(0x1b7);else{if(_0x504b14){if(String(_0x504b14['clientId'])!==String(_0x1356e6['id']))console[_0x3c399b(0x268)](_0x3c399b(0x1d4)),NotificationManager[_0x3c399b(0x233)](_0x3c399b(0x170),_0x504b14),_0x32219b='create';else(_0x504b14['start']!==_0x11e9dc||_0x504b14[_0x3c399b(0x17e)]!==_0x2d4ac5||_0x504b14[_0x3c399b(0x1fa)]!==_0x5d232d)&&(_0x32219b='update');}}if(!editingId&&_0x2b1d7d){createBatchSeries(_0x7559ec,_0x5d232d,_0x113008),NotificationManager[_0x3c399b(0x233)](_0x3c399b(0x1b7),{..._0x7559ec,'dateStr':_0x5d232d});return;}lastUserActionTime=Date[_0x3c399b(0x180)]();const _0x46f6bd={..._0x7559ec,'dateStr':_0x5d232d,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x46f6bd),_0x32219b&&NotificationManager['send'](_0x32219b,_0x46f6bd);}function toggleSessionStatus(){const _0x753f9d=a2_0x4b67e0;lastUserActionTime=Date[_0x753f9d(0x180)]();const _0x596b30=sessions[_0x753f9d(0x1c0)](_0x579f6f=>_0x579f6f['id']===editingId);if(!_0x596b30)return;const _0x59ad5f=_0x596b30['status']===_0x753f9d(0x215)?_0x753f9d(0x136):_0x753f9d(0x215);_0x596b30[_0x753f9d(0x177)]=_0x59ad5f,saveSingleSession(_0x596b30),_0x59ad5f===_0x753f9d(0x215)&&NotificationManager[_0x753f9d(0x233)](_0x753f9d(0x28d),_0x596b30),showToast(_0x59ad5f===_0x753f9d(0x215)?_0x753f9d(0x23f):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x45579c,_0x5465ad,_0x4c3aef,_0xb6bea3,_0x3f2d3a){const _0x1b5897=a2_0x4b67e0,[_0xc375f3,_0x3c9b76]=_0x5465ad[_0x1b5897(0x1f9)](':')[_0x1b5897(0x1a9)](Number),[_0x2987f2,_0x49940b]=_0x4c3aef[_0x1b5897(0x1f9)](':')[_0x1b5897(0x1a9)](Number),_0x27b731=_0xc375f3*0x3c+_0x3c9b76,_0x21dec9=_0x2987f2*0x3c+_0x49940b,_0x5969f3=String(_0x3f2d3a);let _0x801c76=![],_0x35705d='';for(let _0x51bfbe of sessions){if(_0x51bfbe[_0x1b5897(0x1fa)]!==_0x45579c)continue;if(_0x51bfbe[_0x1b5897(0x177)]==='cancelled')continue;if(_0xb6bea3&&String(_0x51bfbe['id'])===String(_0xb6bea3))continue;const [_0x12df87,_0x320df8]=_0x51bfbe[_0x1b5897(0x1bc)][_0x1b5897(0x1f9)](':')[_0x1b5897(0x1a9)](Number),[_0x2aedb2,_0x34ffc2]=_0x51bfbe[_0x1b5897(0x17e)][_0x1b5897(0x1f9)](':')[_0x1b5897(0x1a9)](Number),_0x110996=_0x12df87*0x3c+_0x320df8,_0x2773b7=_0x2aedb2*0x3c+_0x34ffc2;if(Math['max'](_0x27b731,_0x110996)<Math[_0x1b5897(0x25a)](_0x21dec9,_0x2773b7)){if(_0x51bfbe[_0x1b5897(0x23e)]&&String(_0x51bfbe['clientId'])===_0x5969f3)return{'valid':![],'msg':_0x1b5897(0x190)+_0x51bfbe[_0x1b5897(0x220)]+_0x1b5897(0x1a2)};_0x801c76=!![],_0x35705d=_0x51bfbe[_0x1b5897(0x220)];}}if(_0x801c76)return{'valid':!![],'warning':_0x1b5897(0x18f)+_0x35705d};return{'valid':!![]};}function saveSingleSession(_0x4c7320){const _0x564337=a2_0x4b67e0;if(editingId){const _0x4f25e2=sessions[_0x564337(0x218)](_0x33ced6=>_0x33ced6['id']===editingId);if(_0x4f25e2!==-0x1)sessions[_0x4f25e2]=_0x4c7320;}else sessions[_0x564337(0x1d2)](_0x4c7320);afterSaveAction([_0x4c7320[_0x564337(0x1fa)]]);}function createBatchSeries(_0x3391d6,_0x51c125,_0x323959){const _0x3fdeb9=a2_0x4b67e0,_0x58da7d=generateId(),_0x1215d2=[],_0xfd6cfc=[];let _0x38b63b=0x0,_0x2ffc96=new Date(_0x51c125);for(let _0x33cb3e=0x0;_0x33cb3e<_0x323959;_0x33cb3e++){const _0x355b5e=getLocalDateStr(_0x2ffc96),_0x35c716=validateAppointment(_0x355b5e,_0x3391d6['start'],_0x3391d6[_0x3fdeb9(0x17e)],null,_0x3391d6['clientId']);if(!_0x35c716[_0x3fdeb9(0x188)])console[_0x3fdeb9(0x268)](_0x3fdeb9(0x1c3)+_0x355b5e+_0x3fdeb9(0x14a)),_0x38b63b++;else{const _0x450f14={..._0x3391d6,'id':generateId(),'dateStr':_0x355b5e,'seriesId':_0x58da7d};_0xfd6cfc['push'](_0x450f14),_0x1215d2[_0x3fdeb9(0x1d2)](_0x355b5e);}_0x2ffc96[_0x3fdeb9(0x192)](_0x2ffc96[_0x3fdeb9(0x20d)]()+0x7);}if(_0xfd6cfc[_0x3fdeb9(0x241)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x3fdeb9(0x1d2)](..._0xfd6cfc),lastUserActionTime=Date[_0x3fdeb9(0x180)]();let _0xf8c0a9=_0x3fdeb9(0x209)+_0xfd6cfc['length'];_0x38b63b>0x0&&(_0xf8c0a9+=_0x3fdeb9(0x23c)+_0x38b63b+')'),showToast(_0xf8c0a9,!![]),afterSaveAction(_0x1215d2);}function updateSeriesBatch(_0x250ae1,_0x2b4e93){const _0x3492b5=a2_0x4b67e0,_0x25e94d=[],_0xa40594=_0x2b4e93[_0x3492b5(0x1f4)];if(_0x250ae1===_0x3492b5(0x266)){const _0x42d751={..._0x2b4e93,'seriesId':null},_0x722f57=sessions[_0x3492b5(0x218)](_0x4d5f6f=>_0x4d5f6f['id']===_0x2b4e93['id']);if(_0x722f57!==-0x1)sessions[_0x722f57]=_0x42d751;_0x25e94d[_0x3492b5(0x1d2)](_0x42d751[_0x3492b5(0x1fa)]);}else{if(_0x250ae1===_0x3492b5(0x287)){const _0x38631e=_0x2b4e93[_0x3492b5(0x1fa)];sessions[_0x3492b5(0x171)]((_0x10a9e9,_0x2f53d9)=>{const _0x4b36ac=_0x3492b5;_0x10a9e9[_0x4b36ac(0x1f4)]===_0xa40594&&_0x10a9e9[_0x4b36ac(0x1fa)]>=_0x38631e&&(sessions[_0x2f53d9]={...sessions[_0x2f53d9],'start':_0x2b4e93[_0x4b36ac(0x1bc)],'end':_0x2b4e93['end'],'note':_0x2b4e93[_0x4b36ac(0x154)],'client':_0x2b4e93[_0x4b36ac(0x220)],'clientId':_0x2b4e93[_0x4b36ac(0x23e)]},_0x25e94d[_0x4b36ac(0x1d2)](_0x10a9e9[_0x4b36ac(0x1fa)]));});}}afterSaveAction(_0x25e94d);}function tryDeleteSession(){const _0x20d876=a2_0x4b67e0,_0x5e35f5=sessions[_0x20d876(0x1c0)](_0x1d4e40=>_0x1d4e40['id']===editingId);if(!_0x5e35f5)return;_0x5e35f5['seriesId']?openActionSheet('delete'):commitDelete(_0x20d876(0x266),_0x5e35f5);}function commitDelete(_0x2b5e37,_0x5c7ce2){const _0x4b0596=a2_0x4b67e0;lastUserActionTime=Date['now'](),NotificationManager[_0x4b0596(0x233)](_0x4b0596(0x170),_0x5c7ce2);const _0x54911a=[];if(_0x2b5e37===_0x4b0596(0x266))sessions=sessions[_0x4b0596(0x242)](_0x2440ea=>_0x2440ea['id']!==_0x5c7ce2['id']),_0x54911a[_0x4b0596(0x1d2)](_0x5c7ce2[_0x4b0596(0x1fa)]);else{if(_0x2b5e37==='series'){const _0x2ac473=_0x5c7ce2[_0x4b0596(0x1fa)],_0xdfd367=_0x5c7ce2['seriesId'];sessions['forEach'](_0x4c47f4=>{const _0x5b9acc=_0x4b0596;_0x4c47f4['seriesId']===_0xdfd367&&_0x4c47f4[_0x5b9acc(0x1fa)]>=_0x2ac473&&_0x54911a[_0x5b9acc(0x1d2)](_0x4c47f4['dateStr']);}),sessions=sessions[_0x4b0596(0x242)](_0x3a0003=>!(_0x3a0003[_0x4b0596(0x1f4)]===_0xdfd367&&_0x3a0003[_0x4b0596(0x1fa)]>=_0x2ac473));}}afterSaveAction(_0x54911a);}function afterSaveAction(_0x4f01bf){const _0x5b2a2e=a2_0x4b67e0;DataManager[_0x5b2a2e(0x270)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5b2a2e(0x1fd)](_0x4f01bf)[_0x5b2a2e(0x251)](()=>console[_0x5b2a2e(0x268)](_0x5b2a2e(0x25e)))[_0x5b2a2e(0x152)](_0x55a5ae=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x50c65b){const _0x237dc9=a2_0x4b67e0,_0x2b3dff=new Date(_0x50c65b),_0xd82e14={'weekday':_0x237dc9(0x1ae),'day':'numeric','month':_0x237dc9(0x1ae)};let _0x2f74e9=_0x2b3dff[_0x237dc9(0x1b4)](_0x237dc9(0x143),_0xd82e14);return _0x2f74e9[_0x237dc9(0x2ad)](0x0)[_0x237dc9(0x1ab)]()+_0x2f74e9[_0x237dc9(0x2aa)](0x1);},'getText'(_0x56c4e4,_0xe16abe){const _0x5aecd6=a2_0x4b67e0,_0xc436e2=this['formatDate'](_0xe16abe['dateStr']);switch(_0x56c4e4){case _0x5aecd6(0x1b7):return _0x5aecd6(0x12f)+(_0x5aecd6(0x1e3)+_0xc436e2+'\x0a')+(_0x5aecd6(0x249)+_0xe16abe['start']+_0x5aecd6(0x1a7)+_0xe16abe['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x5aecd6(0x25c):return _0x5aecd6(0x2b1)+_0x5aecd6(0x20b)+(_0x5aecd6(0x24e)+_0xe16abe[_0x5aecd6(0x1bc)]+_0x5aecd6(0x1a7)+_0xe16abe[_0x5aecd6(0x17e)]+_0x5aecd6(0x14c))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xc436e2);case _0x5aecd6(0x170):return _0x5aecd6(0x1b1)+(_0x5aecd6(0x27e)+_0xc436e2+'\x20('+_0xe16abe[_0x5aecd6(0x1bc)]+_0x5aecd6(0x194));case _0x5aecd6(0x28d):return _0x5aecd6(0x235)+_0x5aecd6(0x256)+_0x5aecd6(0x139);default:return'';}},async 'send'(_0x2a9c9a,_0x2b0202){const _0x1f467a=a2_0x4b67e0;console['log'](_0x1f467a(0x232),_0x2a9c9a,_0x2b0202);if(!_0x2b0202){console[_0x1f467a(0x2ae)](_0x1f467a(0x29e));return;}const _0x69e99a=String(_0x2b0202[_0x1f467a(0x23e)]);console['log'](_0x1f467a(0x18d),_0x69e99a);if(!_0x2b0202[_0x1f467a(0x23e)]||_0x69e99a===_0x1f467a(0x27f)||_0x69e99a===_0x1f467a(0x2ac)){console['error'](_0x1f467a(0x277));if(_0x2b0202['client']){const _0x59273a=clients[_0x1f467a(0x1c0)](_0x5609d6=>_0x5609d6[_0x1f467a(0x223)]===_0x2b0202[_0x1f467a(0x220)]);if(_0x59273a)return console['log'](_0x1f467a(0x1b9),_0x59273a['id']),this['send'](_0x2a9c9a,{..._0x2b0202,'clientId':_0x59273a['id']});}return;}if(_0x69e99a[_0x1f467a(0x241)]<0x5){console[_0x1f467a(0x140)](_0x1f467a(0x1dd),_0x69e99a);return;}const _0x1982bc=this[_0x1f467a(0x149)](_0x2a9c9a,_0x2b0202);if(!_0x1982bc){console[_0x1f467a(0x2ae)](_0x1f467a(0x280));return;}console[_0x1f467a(0x268)](_0x1f467a(0x1d0)+_0x69e99a+'...'),DataManager[_0x1f467a(0x208)](_0x1f467a(0x2a6),{'chatId':_0x69e99a,'text':_0x1982bc})[_0x1f467a(0x251)](_0x110ae5=>console['log']('[Notify]\x20Server\x20Response:',_0x110ae5))['catch'](_0x1e4708=>console[_0x1f467a(0x2ae)](_0x1f467a(0x1a4),_0x1e4708));}};function getLocalDateStr(_0xc65e0e){const _0x34637d=a2_0x4b67e0,_0xb4fdd4=_0xc65e0e[_0x34637d(0x28f)](),_0x54b488=String(_0xc65e0e[_0x34637d(0x1ec)]()+0x1)[_0x34637d(0x175)](0x2,'0'),_0x1a83e8=String(_0xc65e0e[_0x34637d(0x20d)]())[_0x34637d(0x175)](0x2,'0');return _0xb4fdd4+'-'+_0x54b488+'-'+_0x1a83e8;}function getDateStr(_0x546bb5){const _0x573cb4=a2_0x4b67e0,_0xf95cf3=new Date();return _0xf95cf3[_0x573cb4(0x192)](_0xf95cf3[_0x573cb4(0x20d)]()+_0x546bb5),getLocalDateStr(_0xf95cf3);}function getStartOfWeek(_0x100c86){const _0x1e4e18=a2_0x4b67e0,_0x17064c=(function(){let _0xb50a70=!![];return function(_0x5a64bd,_0x33e69e){const _0x335e28=_0xb50a70?function(){const _0x30be76=a2_0x5e77;if(_0x33e69e){const _0x181de0=_0x33e69e[_0x30be76(0x146)](_0x5a64bd,arguments);return _0x33e69e=null,_0x181de0;}}:function(){};return _0xb50a70=![],_0x335e28;};}()),_0x1da0e1=_0x17064c(this,function(){const _0x937733=a2_0x5e77;return _0x1da0e1[_0x937733(0x1d5)]()[_0x937733(0x189)](_0x937733(0x1ad))['toString']()['constructor'](_0x1da0e1)[_0x937733(0x189)]('(((.+)+)+)+$');});_0x1da0e1();const _0x13acd8=new Date(_0x100c86),_0x3d2196=_0x13acd8[_0x1e4e18(0x1a1)](),_0x26af07=_0x13acd8[_0x1e4e18(0x20d)]()-_0x3d2196+(_0x3d2196===0x0?-0x6:0x1);return _0x13acd8[_0x1e4e18(0x192)](_0x26af07),_0x13acd8['setHours'](0x0,0x0,0x0,0x0),_0x13acd8;}function hexToRgba(_0x3dff3c,_0x570757){const _0x17a201=a2_0x4b67e0;if(!_0x3dff3c)return _0x17a201(0x20e);let _0x475581=0x0,_0x528421=0x0,_0x3040b5=0x0;if(_0x3dff3c['length']===0x4)_0x475581='0x'+_0x3dff3c[0x1]+_0x3dff3c[0x1],_0x528421='0x'+_0x3dff3c[0x2]+_0x3dff3c[0x2],_0x3040b5='0x'+_0x3dff3c[0x3]+_0x3dff3c[0x3];else _0x3dff3c['length']===0x7&&(_0x475581='0x'+_0x3dff3c[0x1]+_0x3dff3c[0x2],_0x528421='0x'+_0x3dff3c[0x3]+_0x3dff3c[0x4],_0x3040b5='0x'+_0x3dff3c[0x5]+_0x3dff3c[0x6]);return'rgba('+ +_0x475581+',\x20'+ +_0x528421+',\x20'+ +_0x3040b5+',\x20'+_0x570757+')';}function renderTimeColumn(){const _0x58f3d0=a2_0x4b67e0,_0x45bdc4=document['getElementById']('timeColumn'),_0x3a03da=document[_0x58f3d0(0x186)]('timeLineBadge');_0x45bdc4[_0x58f3d0(0x1af)]='',_0x45bdc4[_0x58f3d0(0x297)](_0x3a03da);for(let _0x100250=0x0;_0x100250<0x18;_0x100250++){const _0x5eb462=document[_0x58f3d0(0x23a)](_0x58f3d0(0x2a3));_0x5eb462[_0x58f3d0(0x16a)]=_0x58f3d0(0x18c);if(_0x100250>0x0)_0x5eb462['innerHTML']='<span>'+String(_0x100250)[_0x58f3d0(0x175)](0x2,'0')+_0x58f3d0(0x18e);_0x45bdc4[_0x58f3d0(0x297)](_0x5eb462);}}function renderDayRange(_0x36f382,_0x3dcead){const _0x542a9b=a2_0x4b67e0,_0x4e7591=document[_0x542a9b(0x186)](_0x542a9b(0x185)),_0x532b6f=document[_0x542a9b(0x186)](_0x542a9b(0x261)),_0x23e516=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x54032b=new Date();_0x54032b[_0x542a9b(0x26c)](0x0,0x0,0x0,0x0);const _0x26090a=getLocalDateStr(new Date());for(let _0x46811b=_0x36f382;_0x46811b<=_0x3dcead;_0x46811b++){const _0x59db9a=new Date(_0x54032b);_0x59db9a[_0x542a9b(0x192)](_0x59db9a[_0x542a9b(0x20d)]()+_0x46811b);const _0x319b16=getLocalDateStr(_0x59db9a);let _0x26ced1=_0x59db9a[_0x542a9b(0x1a1)]()-0x1;if(_0x26ced1===-0x1)_0x26ced1=0x6;const _0x191674=_0x319b16===_0x26090a,_0xe3f4ee=document['createElement'](_0x542a9b(0x2a3));_0xe3f4ee['className']='day-col-header\x20'+(_0x191674?_0x542a9b(0x247):''),_0xe3f4ee['id']='header-'+_0x319b16,_0xe3f4ee[_0x542a9b(0x258)]('data-date',_0x319b16),_0xe3f4ee[_0x542a9b(0x1af)]=_0x542a9b(0x234)+_0x23e516[_0x26ced1]+_0x542a9b(0x138)+_0x59db9a[_0x542a9b(0x20d)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x319b16+_0x542a9b(0x130),_0xe3f4ee[_0x542a9b(0x22d)]=()=>openDayOptions(_0x319b16,_0x23e516[_0x26ced1]+'\x20'+_0x59db9a[_0x542a9b(0x20d)]()),_0x4e7591[_0x542a9b(0x297)](_0xe3f4ee);const _0x3d088c=document[_0x542a9b(0x23a)](_0x542a9b(0x2a3));_0x3d088c[_0x542a9b(0x16a)]=_0x542a9b(0x199)+(_0x191674?_0x542a9b(0x247):''),_0x3d088c[_0x542a9b(0x258)]('data-date',_0x319b16),_0x3d088c[_0x542a9b(0x258)]('data-day-idx',_0x26ced1),renderEventsForColumn(_0x3d088c,_0x319b16,_0x26ced1),attachLongPressHandler(_0x3d088c,_0x59db9a),_0x532b6f[_0x542a9b(0x297)](_0x3d088c),updateDayStats(_0x319b16);}}function reRenderBlocks(){const _0x378a7e=a2_0x4b67e0;document[_0x378a7e(0x134)](_0x378a7e(0x274))[_0x378a7e(0x171)](_0x34b0a0=>{const _0x2a0d81=_0x378a7e;_0x34b0a0[_0x2a0d81(0x134)](_0x2a0d81(0x25b))[_0x2a0d81(0x171)](_0x3aaafb=>_0x3aaafb[_0x2a0d81(0x148)]());const _0x275360=_0x34b0a0[_0x2a0d81(0x24a)](_0x2a0d81(0x17f)),_0x553361=parseInt(_0x34b0a0[_0x2a0d81(0x24a)](_0x2a0d81(0x144))),_0x280722=Math['round'](_0x34b0a0[_0x2a0d81(0x229)]);(availabilityPattern[_0x553361]||[])[_0x2a0d81(0x171)](_0x4fb48e=>{const _0x3f38ec=_0x2a0d81,_0x3a5a79=document['createElement'](_0x3f38ec(0x2a3));_0x3a5a79[_0x3f38ec(0x16a)]=_0x3f38ec(0x1a0);const _0x1ae6be=_0x4fb48e*GRID_H;_0x3a5a79[_0x3f38ec(0x17b)][_0x3f38ec(0x1cb)]=_0x1ae6be+'px',_0x3a5a79[_0x3f38ec(0x17b)][_0x3f38ec(0x1b3)]='-'+_0x280722+_0x3f38ec(0x20f)+_0x1ae6be+'px',_0x34b0a0[_0x3f38ec(0x297)](_0x3a5a79);});if(specialRanges&&specialRanges[_0x2a0d81(0x241)]>0x0){const _0x289419=new Date(_0x275360+'T00:00:00')[_0x2a0d81(0x253)](),_0x2dd021=new Date(_0x275360+'T23:59:59')[_0x2a0d81(0x253)]();specialRanges[_0x2a0d81(0x171)](_0x5be7dc=>{const _0x3f8d2b=_0x2a0d81,_0x4e12c5=new Date(_0x5be7dc[_0x3f8d2b(0x1bc)])[_0x3f8d2b(0x253)](),_0x5b10a2=new Date(_0x5be7dc[_0x3f8d2b(0x17e)])['getTime'](),_0x5f0858=Math[_0x3f8d2b(0x197)](_0x289419,_0x4e12c5),_0x46f7c2=Math[_0x3f8d2b(0x25a)](_0x2dd021,_0x5b10a2);if(_0x5f0858<_0x46f7c2){if(_0x5f0858<=_0x289419&&_0x46f7c2>=_0x2dd021-0xea60){if(!_0x34b0a0[_0x3f8d2b(0x182)](_0x3f8d2b(0x1c4))){const _0x22b628=document['createElement'](_0x3f8d2b(0x2a3));_0x22b628[_0x3f8d2b(0x16a)]='day-off-overlay\x20stripe-bg',_0x22b628[_0x3f8d2b(0x17b)][_0x3f8d2b(0x1b3)]='-'+_0x280722+_0x3f8d2b(0x237),_0x34b0a0[_0x3f8d2b(0x297)](_0x22b628);}}else{const _0x1b4ca5=(_0x5f0858-_0x289419)/0x36ee80*GRID_H,_0x400648=(_0x46f7c2-_0x5f0858)/0x36ee80*GRID_H,_0x3072d0=document[_0x3f8d2b(0x23a)](_0x3f8d2b(0x2a3));_0x3072d0['className']='blocked-range-part\x20stripe-bg',_0x3072d0[_0x3f8d2b(0x17b)][_0x3f8d2b(0x1cb)]=_0x1b4ca5+'px',_0x3072d0[_0x3f8d2b(0x17b)]['height']=_0x400648+'px',_0x3072d0[_0x3f8d2b(0x17b)][_0x3f8d2b(0x1b3)]='-'+_0x280722+_0x3f8d2b(0x20f)+_0x1b4ca5+'px',_0x34b0a0[_0x3f8d2b(0x297)](_0x3072d0);}}});}if(dateExceptions[_0x275360]===_0x2a0d81(0x1fc)){if(!_0x34b0a0[_0x2a0d81(0x182)](_0x2a0d81(0x1c4))){const _0x283f87=document[_0x2a0d81(0x23a)](_0x2a0d81(0x2a3));_0x283f87['className']=_0x2a0d81(0x231),_0x283f87[_0x2a0d81(0x17b)][_0x2a0d81(0x1b3)]='-'+_0x280722+_0x2a0d81(0x237),_0x34b0a0['appendChild'](_0x283f87);}}renderEventsForColumn(_0x34b0a0,_0x275360,_0x553361),updateDayStats(_0x275360);});}function updateAllDayStats(){const _0x83ffae=a2_0x4b67e0;document[_0x83ffae(0x134)](_0x83ffae(0x296))['forEach'](_0x33dbbb=>{const _0x1a62db=_0x83ffae;updateDayStats(_0x33dbbb[_0x1a62db(0x24a)](_0x1a62db(0x17f)));});}function updateDayStats(_0x27b53c){const _0x9fe039=a2_0x4b67e0,_0x18d7c9=document[_0x9fe039(0x186)](_0x9fe039(0x1fe)+_0x27b53c);if(!_0x18d7c9)return;const _0x38cd3b=new Date(_0x27b53c);let _0x4cfd3a=_0x38cd3b['getDay']()-0x1;if(_0x4cfd3a===-0x1)_0x4cfd3a=0x6;if(dateExceptions[_0x27b53c]===_0x9fe039(0x1fc)){_0x18d7c9[_0x9fe039(0x17b)][_0x9fe039(0x269)]=_0x9fe039(0x29f);return;}const _0x575b8b=availabilityPattern[_0x4cfd3a]||[],_0x5e8137=0x18-_0x575b8b['length'],_0x4e3ca8=_0x5e8137*0x3c,_0x24115f=sessions[_0x9fe039(0x242)](_0x3e72c6=>_0x3e72c6[_0x9fe039(0x1fa)]===_0x27b53c&&_0x3e72c6[_0x9fe039(0x177)]!==_0x9fe039(0x276));if(_0x24115f[_0x9fe039(0x241)]===0x0){_0x18d7c9[_0x9fe039(0x17b)][_0x9fe039(0x269)]=_0x9fe039(0x29f);return;}let _0x3bfd64=_0x24115f[_0x9fe039(0x1a9)](_0x1719f6=>{const _0x214b4a=_0x9fe039,[_0x2c4516,_0x3a365d]=_0x1719f6[_0x214b4a(0x1bc)][_0x214b4a(0x1f9)](':')[_0x214b4a(0x1a9)](Number),[_0xb2fc92,_0x146b42]=_0x1719f6[_0x214b4a(0x17e)][_0x214b4a(0x1f9)](':')[_0x214b4a(0x1a9)](Number);return[_0x2c4516*0x3c+_0x3a365d,_0xb2fc92*0x3c+_0x146b42];});_0x3bfd64[_0x9fe039(0x157)]((_0x14fb56,_0x3996c1)=>_0x14fb56[0x0]-_0x3996c1[0x0]);let _0x5809e0=[];if(_0x3bfd64[_0x9fe039(0x241)]>0x0){let _0x10cfca=_0x3bfd64[0x0];for(let _0xb2f279=0x1;_0xb2f279<_0x3bfd64['length'];_0xb2f279++){_0x3bfd64[_0xb2f279][0x0]<_0x10cfca[0x1]?_0x10cfca[0x1]=Math[_0x9fe039(0x197)](_0x10cfca[0x1],_0x3bfd64[_0xb2f279][0x1]):(_0x5809e0['push'](_0x10cfca),_0x10cfca=_0x3bfd64[_0xb2f279]);}_0x5809e0['push'](_0x10cfca);}let _0x15b080=0x0;_0x5809e0[_0x9fe039(0x171)](_0x2eab21=>_0x15b080+=_0x2eab21[0x1]-_0x2eab21[0x0]),_0x18d7c9[_0x9fe039(0x17b)]['display']=_0x9fe039(0x24d);const _0x196643=_0x18d7c9[_0x9fe039(0x182)](_0x9fe039(0x19f));if(_0x4e3ca8===0x0){_0x196643[_0x9fe039(0x17b)][_0x9fe039(0x195)]=_0x9fe039(0x22e),_0x196643[_0x9fe039(0x17b)][_0x9fe039(0x279)]=_0x9fe039(0x259);return;}const _0x97127f=_0x15b080/_0x4e3ca8*0x64;console[_0x9fe039(0x268)]('['+_0x27b53c+_0x9fe039(0x213)+_0x5e8137+_0x9fe039(0x1c5)+_0x15b080+_0x9fe039(0x16d)+_0x97127f[_0x9fe039(0x176)](0x1)+'%'),_0x97127f>0x64?(_0x196643[_0x9fe039(0x17b)][_0x9fe039(0x195)]='100%',_0x196643[_0x9fe039(0x17b)][_0x9fe039(0x279)]='var(--acc-red)'):(_0x196643[_0x9fe039(0x17b)][_0x9fe039(0x195)]=_0x97127f+'%',_0x196643['style'][_0x9fe039(0x279)]=_0x9fe039(0x13d));}function renderEventsForColumn(_0x43d93d,_0x282c5c,_0x57cdb0){const _0x2c403e=a2_0x4b67e0,_0x1da29f=sessions['filter'](_0x38cc14=>_0x38cc14['dateStr']===_0x282c5c),_0x5d3cb2=_0x1da29f['map'](_0x1ee310=>{const _0x2bfafc=a2_0x5e77,[_0x25ad2f,_0x154fd2]=_0x1ee310[_0x2bfafc(0x1bc)][_0x2bfafc(0x1f9)](':')[_0x2bfafc(0x1a9)](Number),[_0x487499,_0x26bbca]=_0x1ee310[_0x2bfafc(0x17e)]['split'](':')['map'](Number);return{'data':_0x1ee310,'start':_0x25ad2f*0x3c+_0x154fd2,'end':_0x487499*0x3c+_0x26bbca,'colIndex':0x0};});_0x5d3cb2[_0x2c403e(0x157)]((_0x531a49,_0x135d71)=>{const _0x5c0c9c=_0x2c403e;if(_0x531a49['start']!==_0x135d71['start'])return _0x531a49[_0x5c0c9c(0x1bc)]-_0x135d71[_0x5c0c9c(0x1bc)];return _0x135d71['end']-_0x135d71['start']-(_0x531a49[_0x5c0c9c(0x17e)]-_0x531a49[_0x5c0c9c(0x1bc)]);});const _0x63b28c=[];_0x5d3cb2['forEach'](_0x416707=>{const _0x2d7178=_0x2c403e;let _0x567524=![];for(let _0x5b4e7a=0x0;_0x5b4e7a<_0x63b28c[_0x2d7178(0x241)];_0x5b4e7a++){const _0xbe693b=_0x63b28c[_0x5b4e7a],_0xa36ca0=_0xbe693b[_0xbe693b[_0x2d7178(0x241)]-0x1];if(_0x416707[_0x2d7178(0x1bc)]>=_0xa36ca0[_0x2d7178(0x17e)]){_0xbe693b['push'](_0x416707),_0x416707['colIndex']=_0x5b4e7a,_0x567524=!![];break;}}!_0x567524&&(_0x63b28c[_0x2d7178(0x1d2)]([_0x416707]),_0x416707[_0x2d7178(0x21b)]=_0x63b28c['length']-0x1);}),_0x5d3cb2[_0x2c403e(0x171)](_0x3c0738=>{const _0x2be0c6=_0x2c403e;let _0x879fc4=0x0;_0x5d3cb2['forEach'](_0x4d37fa=>{const _0x2c125a=a2_0x5e77;if(Math['max'](_0x3c0738[_0x2c125a(0x1bc)],_0x4d37fa[_0x2c125a(0x1bc)])<Math[_0x2c125a(0x25a)](_0x3c0738[_0x2c125a(0x17e)],_0x4d37fa[_0x2c125a(0x17e)])){if(_0x4d37fa[_0x2c125a(0x21b)]>_0x879fc4)_0x879fc4=_0x4d37fa['colIndex'];}});const _0x7ec92b=_0x879fc4+0x1,_0x593dd1=0x64/_0x7ec92b,_0x438222=_0x3c0738[_0x2be0c6(0x21b)]*_0x593dd1,_0xf8b6fa=createEventEl(_0x3c0738[_0x2be0c6(0x244)]);_0xf8b6fa[_0x2be0c6(0x17b)][_0x2be0c6(0x195)]='calc('+_0x593dd1+'%\x20-\x204px)',_0xf8b6fa['style'][_0x2be0c6(0x2a0)]=_0x2be0c6(0x291)+_0x438222+_0x2be0c6(0x24b),_0xf8b6fa[_0x2be0c6(0x17b)]['zIndex']=0xa+_0x3c0738['colIndex'],_0x593dd1<0x55&&_0xf8b6fa[_0x2be0c6(0x1c6)][_0x2be0c6(0x1d1)](_0x2be0c6(0x282)),_0x43d93d['appendChild'](_0xf8b6fa);});}function createEventEl(_0x4fc86d){const _0x526363=a2_0x4b67e0,[_0x9cf48,_0x1a8297]=_0x4fc86d[_0x526363(0x1bc)][_0x526363(0x1f9)](':')[_0x526363(0x1a9)](Number),[_0x20f3be,_0x44ba9d]=_0x4fc86d[_0x526363(0x17e)]['split'](':')['map'](Number),_0x71e433=(_0x9cf48*0x3c+_0x1a8297)/0x3c*GRID_H,_0x7d8dc9=(_0x20f3be*0x3c+_0x44ba9d-(_0x9cf48*0x3c+_0x1a8297))/0x3c*GRID_H,_0x26dade=document[_0x526363(0x23a)](_0x526363(0x2a3)),_0x3483e5=_0x4fc86d['status']===_0x526363(0x215)?_0x526363(0x13c):'';_0x26dade['className']='event-card'+_0x3483e5,_0x26dade['style'][_0x526363(0x1cb)]=_0x71e433+'px',_0x26dade[_0x526363(0x17b)][_0x526363(0x196)]=Math[_0x526363(0x197)](_0x7d8dc9,0x14)+'px';const _0x2e3fe5=clients[_0x526363(0x1c0)](_0x171aea=>_0x4fc86d['clientId']&&String(_0x171aea['id'])===String(_0x4fc86d[_0x526363(0x23e)])||_0x171aea['name']===_0x4fc86d[_0x526363(0x220)]),_0x5aace8=_0x2e3fe5?_0x2e3fe5['color']:_0x526363(0x155);_0x26dade['style'][_0x526363(0x240)]=_0x5aace8,_0x26dade['style']['backgroundColor']=hexToRgba(_0x5aace8,0.85);let _0x50aede='<div\x20class=\x22ev-title\x22>'+_0x4fc86d['client']+_0x526363(0x271)+_0x4fc86d[_0x526363(0x1bc)]+_0x526363(0x24f)+_0x4fc86d['end']+_0x526363(0x27b);return _0x4fc86d[_0x526363(0x1f4)]&&(_0x50aede+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x4fc86d['status']===_0x526363(0x215)&&(_0x50aede+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x26dade[_0x526363(0x1af)]=_0x50aede,_0x26dade[_0x526363(0x22d)]=_0x1d29c4=>{const _0xf08c4e=_0x526363;_0x1d29c4[_0xf08c4e(0x222)](),openEdit(_0x4fc86d);},_0x26dade;}function attachLongPressHandler(_0x1feed4,_0x1a6187){const _0x30fbad=a2_0x4b67e0;let _0x46a110=0x0,_0x2dbddf=null;const _0x2a1634=_0x307e3b=>{const _0x4327da=a2_0x5e77;if(_0x307e3b['target'][_0x4327da(0x1d7)]('.event-card'))return;isScrolling=![],_0x46a110=_0x307e3b['touches']?_0x307e3b['touches'][0x0][_0x4327da(0x238)]:_0x307e3b[_0x4327da(0x238)],_0x2dbddf=setTimeout(()=>{const _0x25cc3b=_0x4327da;if(!isScrolling){navigator[_0x25cc3b(0x191)]?.(0x32);const _0x5ad205=_0x1feed4[_0x25cc3b(0x27d)](),_0xbc62e6=Math[_0x25cc3b(0x164)]((_0x46a110-_0x5ad205['top'])/GRID_H);_0x1a6187[_0x25cc3b(0x26c)](_0xbc62e6,0x0),openAddSession(_0x1a6187);}},0x1f4);},_0x1e698c=()=>{isScrolling=!![],clearTimeout(_0x2dbddf);},_0x4e5488=()=>{clearTimeout(_0x2dbddf);};_0x1feed4[_0x30fbad(0x273)]('touchstart',_0x2a1634,{'passive':!![]}),_0x1feed4[_0x30fbad(0x273)](_0x30fbad(0x1e2),_0x1e698c,{'passive':!![]}),_0x1feed4[_0x30fbad(0x273)](_0x30fbad(0x198),_0x4e5488),_0x1feed4['addEventListener'](_0x30fbad(0x16e),_0x2a1634),_0x1feed4[_0x30fbad(0x273)](_0x30fbad(0x13b),_0x1e698c),_0x1feed4[_0x30fbad(0x273)](_0x30fbad(0x1da),_0x4e5488);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5db7f6=a2_0x4b67e0,_0x48d39d=document[_0x5db7f6(0x186)]('matrixViewport'),_0x2ea0f9=_0x48d39d[_0x5db7f6(0x1ac)],_0x5c8699=_0x48d39d[_0x5db7f6(0x2a9)],_0x1c9265=_0x48d39d[_0x5db7f6(0x22b)];if(_0x5c8699-(_0x2ea0f9+_0x1c9265)<0x12c){const _0x1f03e3=endOffset;endOffset+=0xe,renderDayRange(_0x1f03e3+0x1,endOffset),reRenderBlocks();}if(_0x2ea0f9<0x12c){const _0x477cfc=startOffset;startOffset-=0xe,prependDays(startOffset,_0x477cfc-0x1),_0x48d39d['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x35ad67,_0x2534dd){const _0x4773eb=a2_0x4b67e0,_0x267b21=document[_0x4773eb(0x186)]('daysHeaderTrack'),_0x5cfb7c=document[_0x4773eb(0x186)](_0x4773eb(0x261)),_0x391927=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c5f4e=new Date();_0x1c5f4e[_0x4773eb(0x26c)](0x0,0x0,0x0,0x0);const _0x224e30=getLocalDateStr(new Date()),_0x10af5d=document[_0x4773eb(0x1bf)](),_0x534dd4=document[_0x4773eb(0x1bf)]();for(let _0xdbec1a=_0x35ad67;_0xdbec1a<=_0x2534dd;_0xdbec1a++){const _0x46d292=new Date(_0x1c5f4e);_0x46d292['setDate'](_0x46d292[_0x4773eb(0x20d)]()+_0xdbec1a);const _0x219ef4=getLocalDateStr(_0x46d292);let _0x85659b=_0x46d292[_0x4773eb(0x1a1)]()-0x1;if(_0x85659b===-0x1)_0x85659b=0x6;const _0x234ead=_0x219ef4===_0x224e30,_0xf98f4f=document['createElement'](_0x4773eb(0x2a3));_0xf98f4f['className']='day-col-header\x20'+(_0x234ead?'today':''),_0xf98f4f['id']=_0x4773eb(0x206)+_0x219ef4,_0xf98f4f[_0x4773eb(0x258)](_0x4773eb(0x17f),_0x219ef4),_0xf98f4f[_0x4773eb(0x1af)]=_0x4773eb(0x234)+_0x391927[_0x85659b]+_0x4773eb(0x138)+_0x46d292[_0x4773eb(0x20d)]()+_0x4773eb(0x159)+_0x219ef4+_0x4773eb(0x130),_0xf98f4f[_0x4773eb(0x22d)]=()=>openDayOptions(_0x219ef4,_0x391927[_0x85659b]+'\x20'+_0x46d292[_0x4773eb(0x20d)]()),_0x10af5d[_0x4773eb(0x297)](_0xf98f4f);const _0x5467e7=document[_0x4773eb(0x23a)](_0x4773eb(0x2a3));_0x5467e7[_0x4773eb(0x16a)]=_0x4773eb(0x199)+(_0x234ead?_0x4773eb(0x247):''),_0x5467e7[_0x4773eb(0x258)](_0x4773eb(0x17f),_0x219ef4),_0x5467e7[_0x4773eb(0x258)](_0x4773eb(0x144),_0x85659b),renderEventsForColumn(_0x5467e7,_0x219ef4,_0x85659b),attachLongPressHandler(_0x5467e7,_0x46d292),_0x534dd4['appendChild'](_0x5467e7),updateDayStats(_0x219ef4);}_0x267b21['insertBefore'](_0x10af5d,_0x267b21[_0x4773eb(0x161)]),_0x5cfb7c[_0x4773eb(0x2a1)](_0x534dd4,_0x5cfb7c[_0x4773eb(0x182)]('.day-column'));}function validateAppointment(_0x489e45,_0x54e7e9,_0x53d7f7,_0x20be70,_0x43efbd){const _0x576821=a2_0x4b67e0,[_0x2ff32e,_0xd57a2]=_0x54e7e9['split'](':')[_0x576821(0x1a9)](Number),[_0x42d46c,_0x2ae4aa]=_0x53d7f7['split'](':')[_0x576821(0x1a9)](Number),_0x2a3a8e=_0x2ff32e*0x3c+_0xd57a2,_0x4e8380=_0x42d46c*0x3c+_0x2ae4aa,_0x1f8d57=String(_0x43efbd);let _0x42e241=![],_0x61d370='';for(let _0x18e910 of sessions){if(_0x18e910[_0x576821(0x1fa)]!==_0x489e45)continue;if(_0x18e910[_0x576821(0x177)]==='cancelled')continue;if(_0x20be70&&String(_0x18e910['id'])===String(_0x20be70))continue;const [_0x46813e,_0x3577e4]=_0x18e910[_0x576821(0x1bc)]['split'](':')[_0x576821(0x1a9)](Number),[_0x13cec9,_0x120829]=_0x18e910[_0x576821(0x17e)][_0x576821(0x1f9)](':')[_0x576821(0x1a9)](Number),_0x112a9f=_0x46813e*0x3c+_0x3577e4,_0xa0a175=_0x13cec9*0x3c+_0x120829;if(Math[_0x576821(0x197)](_0x2a3a8e,_0x112a9f)<Math[_0x576821(0x25a)](_0x4e8380,_0xa0a175)){if(_0x18e910[_0x576821(0x23e)]&&String(_0x18e910[_0x576821(0x23e)])===_0x1f8d57)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x18e910[_0x576821(0x220)]+_0x576821(0x1a2)};_0x42e241=!![],_0x61d370=_0x18e910[_0x576821(0x220)];}}if(_0x42e241)return{'valid':!![],'warning':_0x576821(0x18f)+_0x61d370};return{'valid':!![]};}function updateDateDisplay(){const _0x3591f3=a2_0x4b67e0,_0x45ee31=document[_0x3591f3(0x186)](_0x3591f3(0x221))[_0x3591f3(0x19b)],_0x2a72df=document[_0x3591f3(0x186)](_0x3591f3(0x166));if(!_0x45ee31){_0x2a72df[_0x3591f3(0x132)]='';return;}const [_0x5afdd0,_0x361721,_0x37ca59]=_0x45ee31[_0x3591f3(0x1f9)]('-')[_0x3591f3(0x1a9)](Number),_0x4d2869=new Date(_0x5afdd0,_0x361721-0x1,_0x37ca59),_0x21bd46={'weekday':_0x3591f3(0x1ae),'day':_0x3591f3(0x2ab),'month':_0x3591f3(0x1ae),'year':_0x3591f3(0x2ab)};let _0x5c374d=_0x4d2869[_0x3591f3(0x1b4)]('ru-RU',_0x21bd46);_0x5c374d=_0x5c374d[_0x3591f3(0x2ad)](0x0)['toUpperCase']()+_0x5c374d[_0x3591f3(0x2aa)](0x1),_0x2a72df[_0x3591f3(0x132)]=_0x5c374d;}function autoSetEndTime(){const _0x475c7e=a2_0x4b67e0,_0x92462c=document[_0x475c7e(0x186)](_0x475c7e(0x25d))['value'];if(!_0x92462c)return;const [_0x20c1bf,_0x1bbf22]=_0x92462c['split'](':')['map'](Number);let _0x57627a=_0x20c1bf+0x1;if(_0x57627a>0x17)_0x57627a=0x0;const _0xab628e=String(_0x57627a)[_0x475c7e(0x175)](0x2,'0')+':'+String(_0x1bbf22)[_0x475c7e(0x175)](0x2,'0');document['getElementById'](_0x475c7e(0x236))[_0x475c7e(0x19b)]=_0xab628e;}function populateClientSelect(){const _0x45d1d1=a2_0x4b67e0,_0x1a4fed=document[_0x45d1d1(0x186)](_0x45d1d1(0x202));_0x1a4fed[_0x45d1d1(0x1af)]='';if(clients['length']===0x0){const _0x262cd0=document[_0x45d1d1(0x23a)](_0x45d1d1(0x1b5));_0x262cd0['text']=_0x45d1d1(0x16f),_0x1a4fed[_0x45d1d1(0x297)](_0x262cd0);return;}clients[_0x45d1d1(0x171)](_0x348433=>{const _0x242fa9=_0x45d1d1,_0x55d32e=document[_0x242fa9(0x23a)](_0x242fa9(0x1b5));_0x55d32e['value']=_0x348433[_0x242fa9(0x223)],_0x55d32e['textContent']=_0x348433[_0x242fa9(0x223)],_0x1a4fed[_0x242fa9(0x297)](_0x55d32e);});}function openActionSheet(_0x227cd8){const _0x3c46ba=a2_0x4b67e0,_0x3137dc=document[_0x3c46ba(0x186)](_0x3c46ba(0x1b8)),_0x1cb139=document['getElementById'](_0x3c46ba(0x28a)),_0x426c32=document[_0x3c46ba(0x186)](_0x3c46ba(0x248)),_0x5e4306=document[_0x3c46ba(0x186)](_0x3c46ba(0x17d)),_0x36dd89=document[_0x3c46ba(0x186)](_0x3c46ba(0x265));_0x1cb139['classList'][_0x3c46ba(0x1d1)](_0x3c46ba(0x21a)),_0x3137dc[_0x3c46ba(0x1c6)][_0x3c46ba(0x1d1)](_0x3c46ba(0x1a5));if(_0x227cd8==='save')_0x426c32[_0x3c46ba(0x132)]=_0x3c46ba(0x16b),_0x5e4306['textContent']=_0x3c46ba(0x160),_0x5e4306[_0x3c46ba(0x22d)]=()=>{const _0x23f2c9=_0x3c46ba;closeActionSheet(),updateSeriesBatch(_0x23f2c9(0x266),tempSessionData);},_0x36dd89[_0x3c46ba(0x132)]=_0x3c46ba(0x19a),_0x36dd89[_0x3c46ba(0x22d)]=()=>{const _0x26a8e5=_0x3c46ba;closeActionSheet(),updateSeriesBatch(_0x26a8e5(0x287),tempSessionData);};else _0x227cd8===_0x3c46ba(0x1be)&&(_0x426c32['textContent']=_0x3c46ba(0x18a),_0x5e4306['textContent']=_0x3c46ba(0x160),_0x5e4306[_0x3c46ba(0x16a)]=_0x3c46ba(0x285),_0x5e4306['onclick']=()=>{const _0x1d8740=_0x3c46ba;closeActionSheet(),commitDelete(_0x1d8740(0x266),sessions[_0x1d8740(0x1c0)](_0x89fceb=>_0x89fceb['id']===editingId));},_0x36dd89[_0x3c46ba(0x132)]=_0x3c46ba(0x19a),_0x36dd89[_0x3c46ba(0x16a)]=_0x3c46ba(0x1ba),_0x36dd89[_0x3c46ba(0x22d)]=()=>{const _0x181c8e=_0x3c46ba;closeActionSheet(),commitDelete('series',sessions[_0x181c8e(0x1c0)](_0x205469=>_0x205469['id']===editingId));});}function closeActionSheet(){const _0x2c10bc=a2_0x4b67e0;document[_0x2c10bc(0x186)](_0x2c10bc(0x1b8))[_0x2c10bc(0x1c6)][_0x2c10bc(0x148)](_0x2c10bc(0x1a5)),document[_0x2c10bc(0x186)]('actionSheetOverlay')[_0x2c10bc(0x1c6)]['remove'](_0x2c10bc(0x21a));}function openSettings(){const _0x1db900=a2_0x4b67e0;openSheet(_0x1db900(0x254));}function saveCoachSettings(){const _0x1a9bac=a2_0x4b67e0,_0x44194a=document['getElementById'](_0x1a9bac(0x1fb))[_0x1a9bac(0x19b)];localStorage[_0x1a9bac(0x250)](_0x1a9bac(0x272),_0x44194a),console[_0x1a9bac(0x268)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x44194a),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x44194a}})['catch'](_0x21c92c=>{const _0x405de0=_0x1a9bac;console['error']('Save\x20settings\x20error:',_0x21c92c),showToast(_0x405de0(0x1c2),![]);});}function loadCoachSettings(){const _0x2ae8e6=a2_0x4b67e0,_0x5805a8=localStorage['getItem'](_0x2ae8e6(0x272));_0x5805a8&&(document[_0x2ae8e6(0x186)](_0x2ae8e6(0x1fb))['value']=_0x5805a8);}function openRangesSheet(){const _0x49c0f0=a2_0x4b67e0;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x49c0f0(0x181));}function addRange(){const _0x4e8be9=a2_0x4b67e0,_0xd8cba2=document[_0x4e8be9(0x186)](_0x4e8be9(0x15a))['value'],_0x2c9fac=document[_0x4e8be9(0x186)](_0x4e8be9(0x1e5))[_0x4e8be9(0x19b)],_0x33bc71=document[_0x4e8be9(0x186)](_0x4e8be9(0x200))[_0x4e8be9(0x19b)],_0xa5df11=document[_0x4e8be9(0x186)](_0x4e8be9(0x2a8))[_0x4e8be9(0x19b)];if(!_0xd8cba2||!_0x2c9fac||!_0x33bc71||!_0xa5df11)return alert(_0x4e8be9(0x20a));const _0x2e72f1=_0xd8cba2+'T'+_0x2c9fac,_0x90d81e=_0x33bc71+'T'+_0xa5df11;if(_0x2e72f1>=_0x90d81e)return alert(_0x4e8be9(0x26d));specialRanges[_0x4e8be9(0x1d2)]({'start':_0x2e72f1,'end':_0x90d81e}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x4e8be9(0x270)](),DataManager[_0x4e8be9(0x208)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x325d8c){const _0x31a867=a2_0x4b67e0;specialRanges[_0x31a867(0x22c)](_0x325d8c,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x31a867(0x270)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x29f499=a2_0x4b67e0;document[_0x29f499(0x186)](_0x29f499(0x15a))[_0x29f499(0x19b)]='',document[_0x29f499(0x186)](_0x29f499(0x1e5))[_0x29f499(0x19b)]=_0x29f499(0x21e),document['getElementById'](_0x29f499(0x200))[_0x29f499(0x19b)]='',document[_0x29f499(0x186)](_0x29f499(0x2a8))[_0x29f499(0x19b)]=_0x29f499(0x207);}function renderRangesList(){const _0x328690=a2_0x4b67e0,_0x53a143=document[_0x328690(0x186)](_0x328690(0x158));_0x53a143[_0x328690(0x1af)]='';if(!specialRanges['length']){_0x53a143['innerHTML']=_0x328690(0x15d);return;}specialRanges[_0x328690(0x171)]((_0x1120d0,_0x99823a)=>{const _0x5b58fc=_0x328690,_0x4376a3=document[_0x5b58fc(0x23a)]('div');_0x4376a3[_0x5b58fc(0x16a)]='range-item';const _0xbc38f0=_0x1ae18d=>{const _0x10d675=_0x5b58fc,_0x51be47=new Date(_0x1ae18d);return _0x51be47[_0x10d675(0x20d)]()+'.'+String(_0x51be47[_0x10d675(0x1ec)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x51be47[_0x10d675(0x288)]())[_0x10d675(0x175)](0x2,'0')+':'+String(_0x51be47[_0x10d675(0x1f3)]())[_0x10d675(0x175)](0x2,'0');};_0x4376a3[_0x5b58fc(0x1af)]=_0x5b58fc(0x278)+_0xbc38f0(_0x1120d0[_0x5b58fc(0x1bc)])+_0x5b58fc(0x1a7)+_0xbc38f0(_0x1120d0[_0x5b58fc(0x17e)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x99823a+_0x5b58fc(0x2a2),_0x53a143[_0x5b58fc(0x297)](_0x4376a3);});}function scrollToToday(){const _0x20f5ea=a2_0x4b67e0,_0x4de3ee=getLocalDateStr(new Date()),_0x59b9d9=document[_0x20f5ea(0x186)](_0x20f5ea(0x206)+_0x4de3ee),_0x3d6a29=document[_0x20f5ea(0x186)]('matrixViewport');if(_0x59b9d9&&_0x3d6a29){const _0x36001c=_0x3d6a29[_0x20f5ea(0x22b)],_0x588a43=_0x59b9d9[_0x20f5ea(0x229)],_0x233787=_0x59b9d9[_0x20f5ea(0x13f)];_0x3d6a29[_0x20f5ea(0x1ac)]=_0x588a43-_0x36001c/0x2+_0x233787/0x2,_0x3d6a29[_0x20f5ea(0x2a5)]=0x9*GRID_H;}}function onScroll(){const _0x1527b9=a2_0x4b67e0,_0x4082e2=document[_0x1527b9(0x186)]('matrixViewport'),_0x5c2fb6=document[_0x1527b9(0x134)](_0x1527b9(0x296));for(let _0x370115 of _0x5c2fb6)if(_0x370115[_0x1527b9(0x229)]>=_0x4082e2[_0x1527b9(0x1ac)]){const _0x31cf16=new Date(_0x370115[_0x1527b9(0x24a)](_0x1527b9(0x17f)));document[_0x1527b9(0x186)](_0x1527b9(0x263))[_0x1527b9(0x132)]=_0x31cf16[_0x1527b9(0x294)]('ru',{'month':_0x1527b9(0x1ae)})[_0x1527b9(0x1ab)]()+'\x20'+_0x31cf16[_0x1527b9(0x28f)]();break;}}function showToast(_0x3161ce,_0x5d3ce9=![]){const _0x2c0098=a2_0x4b67e0,_0x39cbb9=document[_0x2c0098(0x186)](_0x2c0098(0x224));_0x39cbb9['className']=_0x2c0098(0x142)+(_0x5d3ce9?_0x2c0098(0x257):''),document['getElementById']('toastTitle')[_0x2c0098(0x132)]=_0x5d3ce9?_0x2c0098(0x293):'–ò–Ω—Ñ–æ',document[_0x2c0098(0x186)]('toastMessage')[_0x2c0098(0x132)]=_0x3161ce,_0x39cbb9[_0x2c0098(0x1c6)][_0x2c0098(0x1d1)](_0x2c0098(0x131)),setTimeout(()=>{const _0xbecf7a=_0x2c0098;_0x39cbb9[_0xbecf7a(0x1c6)]['remove'](_0xbecf7a(0x131));},0xbb8);}function openDayOptions(_0x2b883d,_0xcc372a){const _0x9abbf5=a2_0x4b67e0;selectedDayForOptions=_0x2b883d,document[_0x9abbf5(0x186)](_0x9abbf5(0x1dc))[_0x9abbf5(0x132)]=_0xcc372a,openSheet(_0x9abbf5(0x239));}function toggleDayOff(){const _0x168534=a2_0x4b67e0;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x168534(0x1fc),reRenderBlocks(),closeAllSheets(),DataManager[_0x168534(0x270)](),DataManager[_0x168534(0x208)](_0x168534(0x1f1),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1a2f63=a2_0x4b67e0;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x1a2f63(0x270)](),DataManager[_0x1a2f63(0x208)](_0x1a2f63(0x1f1),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3081e9){const _0x416b91=a2_0x4b67e0;document[_0x416b91(0x186)](_0x416b91(0x162))[_0x416b91(0x1c6)][_0x416b91(0x1d1)](_0x416b91(0x21a)),document['getElementById'](_0x3081e9)['classList'][_0x416b91(0x1d1)](_0x416b91(0x1a5));}function closeAllSheets(){const _0x38b72f=a2_0x4b67e0;document[_0x38b72f(0x186)](_0x38b72f(0x162))[_0x38b72f(0x1c6)][_0x38b72f(0x148)](_0x38b72f(0x21a)),document['querySelectorAll'](_0x38b72f(0x22a))['forEach'](_0x57cf44=>_0x57cf44['classList'][_0x38b72f(0x148)]('open'));}function openPatternEditor(){const _0x1eb2b0=a2_0x4b67e0;closeAllSheets(),document[_0x1eb2b0(0x186)]('patternEditor')[_0x1eb2b0(0x1c6)][_0x1eb2b0(0x1d1)](_0x1eb2b0(0x1a5)),renderPatternEditor();}function closePatternEditor(){const _0x57f05f=a2_0x4b67e0;document[_0x57f05f(0x186)](_0x57f05f(0x246))[_0x57f05f(0x1c6)][_0x57f05f(0x148)](_0x57f05f(0x1a5));}function savePattern(){const _0x43093e=a2_0x4b67e0;document['getElementById'](_0x43093e(0x246))[_0x43093e(0x1c6)][_0x43093e(0x148)](_0x43093e(0x1a5)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x43093e(0x208)](_0x43093e(0x1f1),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4b2e36=a2_0x4b67e0,_0x32ea64=document[_0x4b2e36(0x186)](_0x4b2e36(0x281));_0x32ea64['innerHTML']='';const _0x18760d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2338a8=document[_0x4b2e36(0x23a)](_0x4b2e36(0x2a3));_0x2338a8['className']=_0x4b2e36(0x1eb),_0x32ea64['appendChild'](_0x2338a8),_0x18760d[_0x4b2e36(0x171)]((_0x1798c9,_0x5bd070)=>{const _0x1c222c=_0x4b2e36,_0x10eed2=document[_0x1c222c(0x23a)](_0x1c222c(0x2a3));_0x10eed2[_0x1c222c(0x16a)]=_0x1c222c(0x145),_0x10eed2[_0x1c222c(0x1af)]=_0x1798c9+_0x1c222c(0x18b),_0x10eed2['onclick']=()=>toggleColPattern(_0x5bd070),_0x32ea64[_0x1c222c(0x297)](_0x10eed2);});for(let _0x35788c=0x0;_0x35788c<0x18;_0x35788c++){const _0x1a6458=document['createElement'](_0x4b2e36(0x2a3));_0x1a6458[_0x4b2e36(0x16a)]=_0x4b2e36(0x174),_0x1a6458['innerHTML']=_0x4b2e36(0x28c)+String(_0x35788c)[_0x4b2e36(0x175)](0x2,'0')+_0x4b2e36(0x283),_0x1a6458[_0x4b2e36(0x22d)]=()=>toggleRowPattern(_0x35788c),_0x32ea64[_0x4b2e36(0x297)](_0x1a6458);for(let _0x2bab91=0x0;_0x2bab91<0x7;_0x2bab91++){const _0x20d09b=document[_0x4b2e36(0x23a)](_0x4b2e36(0x2a3)),_0x187087=(availabilityPattern[_0x2bab91]||[])[_0x4b2e36(0x1f2)](_0x35788c),_0x3ff7a9=!_0x187087;_0x20d09b[_0x4b2e36(0x16a)]='pe-cell\x20'+(_0x3ff7a9?_0x4b2e36(0x21a):''),_0x20d09b[_0x4b2e36(0x22d)]=()=>toggleSinglePattern(_0x2bab91,_0x35788c),_0x32ea64[_0x4b2e36(0x297)](_0x20d09b);}}}function a2_0x3719(){const _0x30eaaa=['–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','doBusyHours','rgba(255,255,255,0.05)','save_settings','includes','getMinutes','seriesId','#fff','75bPggla','block','rgba(255,\x2069,\x2058,\x200.3)','split','dateStr','settingCancelWindow','off','syncBatch','stat-','onClick','rangeEndDate','all','inpClient','location','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','parse','header-','23:59','fetchFromServer','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','getDate','rgba(100,100,100,0.5)','px\x20-','batch_sync','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','sheetTitle',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','[Sync]\x20Loading\x20','completed','anCustomDates','btnDayToggle','findIndex','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','active','colIndex','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','699291oGjhye','00:00','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','client','inpDate','stopPropagation','name','toast','Error\x20setting\x20back\x20button:','initDataUnsafe','user','btnDelete','offsetLeft','.sheet','clientWidth','splice','onclick','100%','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','day-off-overlay\x20stripe-bg','[Notify]\x20Attempting\x20to\x20send:','send','<div\x20class=\x22dch-day\x22>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','inpEnd','px\x200px','clientY','dayOptionsSheet','createElement','text/plain;charset=UTF-8','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','msg','clientId','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','borderLeftColor','length','filter','round','data','exceptions','patternEditor','today','asTitle','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getAttribute','%\x20+\x202px)','globalTimeLine','flex','<b>‚úÖ\x20','\x20-\x20','setItem','then','rgba(255,\x2069,\x2058,\x200.15)','getTime','settingsSheet',']\x20Failed:','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','success','setAttribute','var(--acc-red)','min','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','update','inpStart','Batch\x20Sync\x20OK','Error\x20setting\x20color:','seriesCountContainer','gridColumns','Telegram','headerMonth','doDateHeader','asBtnSeries','single','matrixViewport','log','display','save','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','setHours','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','8Bxfhhx','offClick','saveLocally','</div><div\x20class=\x22ev-time\x22>','uc_settings_cancel_window','addEventListener','#gridColumns\x20.day-column','doEventsList','cancelled','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','background','scroll','</div>','startsWith','getBoundingClientRect','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','undefined','[Notify]\x20Error:\x20Text\x20generation\x20failed','peGrid','mini',':00','POST','as-button\x20danger','week','series','getHours','anStart','actionSheetOverlay','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','complete','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','getFullYear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calc(','random','–£—Å–ø–µ—à–Ω–æ','toLocaleString','Critical\x20TMA\x20Error:','.day-col-header','appendChild','substr','uc_clients_v9','mergeServerData','1123506QBrwfg','10px\x2010px\x200\x200','#050505','[Notify]\x20Error:\x20sessionData\x20is\x20null','none','left','insertBefore',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','div','cancel_window','scrollTop','send_notification','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','rangeEndTime','scrollWidth','slice','numeric','null','charAt','error','syncLoad','inpNote','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','from','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','show','textContent','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','querySelectorAll','init_load','planned','7164618ZchdHM','</div><div\x20class=\x22dch-num\x22>','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','guest','mousemove','\x20status-completed','var(--acc-current)','anEnd','offsetWidth','warn','pattern','toast-notification\x20','ru-RU','data-day-idx','pe-col-header','apply','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','remove','getText',':\x20Client\x20already\x20booked','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','</b>\x0a\x0a','borderColor','anDonutCircle','inpSeriesCount','[API\x20','keys','catch','8122457hMGMeh','note','#0a84ff','clients','sort','rangesList','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rangeStartDate','month','btn-status-toggle','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','total','12340ZJDHAS','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','firstChild','overlay','router.html','floor','href','sheetDateSubtitle','ready','getItem','6402965swFOlW','className','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','10px','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','mousedown','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','cancel','forEach','anPercent','setHeaderColor','pe-time-label','padStart','toFixed','status','BackButton','calendar','...','style','analyticsSheet','asBtnOne','end','data-date','now','rangesSheet','querySelector','done','btn-primary\x20btn-danger','daysHeaderTrack','getElementById','inpRecurring','valid','search','–£–¥–∞–ª–µ–Ω–∏–µ','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','time-label','[Notify]\x20Detected\x20Client\x20ID:',':00</span>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','vibrate','setDate','color',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','width','height','max','touchend','day-column\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','value','rgba(255,\x20159,\x2010,\x200.3)','sessionSheet','doWorkHours','.dch-stats-fill','blocked-slot\x20stripe-bg','getDay',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','WebApp','[Notify]\x20Network\x20Failed','open','v9.0-BATCH-CALENDAR','\x20‚Äî\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','map','json','toUpperCase','scrollLeft','(((.+)+)+)+$','long','innerHTML','120XfAore','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','localeCompare','backgroundPosition','toLocaleDateString','option','borderRadius','create','actionSheet','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','as-button\x20danger\x20bold','disableVerticalSwipes','start','var(--acc-green)','delete','createDocumentFragment','find','btnStatusToggle','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','[Series]\x20Skipped\x20','.day-off-overlay','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','classList','expand','client-stat-card','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pib-text','top','patternInfoBox','386408HsdIRx','statLoadCard','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','add','push','ranges','[Notify]\x20Client\x20SWAP\x20detected','toString','recurringOptionContainer','closest','setBackgroundColor','Local\x20Load\x20Error','mouseup','.period-switch\x20.p-btn','dayOptionsTitle','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','Local\x20Save\x20Error','sid','deleted','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','touchmove','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','stringify','rangeStartTime','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','checked','settings','indexOf','pe-corner','getMonth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];a2_0x3719=function(){return _0x30eaaa;};return a2_0x3719();}function toggleSinglePattern(_0x36be96,_0x2945ab){const _0x5a0f45=a2_0x4b67e0;if(!availabilityPattern[_0x36be96])availabilityPattern[_0x36be96]=[];const _0x1018c5=availabilityPattern[_0x36be96],_0x133cae=_0x1018c5[_0x5a0f45(0x1ea)](_0x2945ab);_0x133cae===-0x1?_0x1018c5[_0x5a0f45(0x1d2)](_0x2945ab):_0x1018c5[_0x5a0f45(0x22c)](_0x133cae,0x1),renderPatternEditor();}function toggleColPattern(_0x3163d9){const _0x52bf4c=a2_0x4b67e0;if(!availabilityPattern[_0x3163d9])availabilityPattern[_0x3163d9]=[];const _0x3ae930=availabilityPattern[_0x3163d9];_0x3ae930[_0x52bf4c(0x241)]===0x0?availabilityPattern[_0x3163d9]=Array['from']({'length':0x18},(_0x43d22e,_0x47e90c)=>_0x47e90c):availabilityPattern[_0x3163d9]=[],renderPatternEditor();}function toggleRowPattern(_0x2dda5d){const _0x1b01ea=a2_0x4b67e0;let _0x57f5ff=!![];for(let _0xa49ee2=0x0;_0xa49ee2<0x7;_0xa49ee2++){if((availabilityPattern[_0xa49ee2]||[])['includes'](_0x2dda5d)){_0x57f5ff=![];break;}}for(let _0x28e32d=0x0;_0x28e32d<0x7;_0x28e32d++){if(!availabilityPattern[_0x28e32d])availabilityPattern[_0x28e32d]=[];const _0x5bc866=availabilityPattern[_0x28e32d][_0x1b01ea(0x1ea)](_0x2dda5d);if(_0x57f5ff){if(_0x5bc866===-0x1)availabilityPattern[_0x28e32d]['push'](_0x2dda5d);}else{if(_0x5bc866!==-0x1)availabilityPattern[_0x28e32d]['splice'](_0x5bc866,0x1);}}renderPatternEditor();}function renderPCol(_0x273913,_0x2e30ae){const _0x3631de=a2_0x4b67e0;_0x273913[_0x3631de(0x1af)]='';const _0x5a367a=Math['round'](_0x273913[_0x3631de(0x229)]);(availabilityPattern[_0x2e30ae]||[])[_0x3631de(0x171)](_0x438e04=>{const _0x3ef12d=_0x3631de,_0x41dea5=document[_0x3ef12d(0x23a)](_0x3ef12d(0x2a3));_0x41dea5[_0x3ef12d(0x16a)]=_0x3ef12d(0x1a0);const _0x4e88a8=_0x438e04*GRID_H;_0x41dea5[_0x3ef12d(0x17b)][_0x3ef12d(0x1cb)]=_0x4e88a8+'px',_0x41dea5[_0x3ef12d(0x17b)][_0x3ef12d(0x1b3)]='-'+_0x5a367a+_0x3ef12d(0x20f)+_0x4e88a8+'px',_0x41dea5['onclick']=_0x5b9f7e=>{const _0x4f080e=_0x3ef12d;_0x5b9f7e[_0x4f080e(0x222)](),toggleSinglePattern(_0x2e30ae,_0x438e04);},_0x273913[_0x3ef12d(0x297)](_0x41dea5);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x5c3078=a2_0x4b67e0,_0x18ecd6=new Date(),_0x2ccfc3=document[_0x5c3078(0x186)](_0x5c3078(0x24c)),_0x1403ec=document[_0x5c3078(0x186)]('timeLineBadge'),_0x4b8ec7=(_0x18ecd6[_0x5c3078(0x288)]()*0x3c+_0x18ecd6['getMinutes']())/0x3c*GRID_H;_0x2ccfc3[_0x5c3078(0x17b)][_0x5c3078(0x1cb)]=_0x4b8ec7+'px',_0x2ccfc3[_0x5c3078(0x17b)][_0x5c3078(0x269)]=_0x5c3078(0x1f7),_0x1403ec[_0x5c3078(0x132)]=String(_0x18ecd6[_0x5c3078(0x288)]())[_0x5c3078(0x175)](0x2,'0')+':'+String(_0x18ecd6[_0x5c3078(0x1f3)]())[_0x5c3078(0x175)](0x2,'0'),_0x1403ec[_0x5c3078(0x17b)][_0x5c3078(0x269)]='block',_0x1403ec['style'][_0x5c3078(0x1cb)]=_0x4b8ec7+'px';}document[a2_0x4b67e0(0x273)](a2_0x4b67e0(0x1e6),init);function openDayOptions(_0x84651c){const _0x176535=a2_0x4b67e0;selectedDayForOptions=_0x84651c;const _0x5cd929=new Date(_0x84651c),_0x11f687={'weekday':_0x176535(0x1ae),'day':_0x176535(0x2ab),'month':'long','year':_0x176535(0x2ab)},_0x1b5b18=_0x5cd929['toLocaleDateString']('ru-RU',_0x11f687);document[_0x176535(0x186)](_0x176535(0x264))[_0x176535(0x132)]=_0x1b5b18[_0x176535(0x2ad)](0x0)[_0x176535(0x1ab)]()+_0x1b5b18[_0x176535(0x2aa)](0x1);let _0x2ffa19=_0x5cd929[_0x176535(0x1a1)]()-0x1;if(_0x2ffa19===-0x1)_0x2ffa19=0x6;const _0x25faca=availabilityPattern[_0x2ffa19]||[],_0x5ed06d=0x18-_0x25faca[_0x176535(0x241)],_0x749c94=_0x5ed06d*0x3c,_0x739921=sessions[_0x176535(0x242)](_0x2c69a2=>_0x2c69a2[_0x176535(0x1fa)]===_0x84651c&&_0x2c69a2['status']!==_0x176535(0x276));let _0x3fafa1=_0x739921['map'](_0x3b265f=>{const _0x323cea=_0x176535,[_0x5d903c,_0x52df75]=_0x3b265f['start']['split'](':')[_0x323cea(0x1a9)](Number),[_0x172736,_0x1057c1]=_0x3b265f[_0x323cea(0x17e)]['split'](':')[_0x323cea(0x1a9)](Number);return[_0x5d903c*0x3c+_0x52df75,_0x172736*0x3c+_0x1057c1];});_0x3fafa1[_0x176535(0x157)]((_0x49ff27,_0x2e3558)=>_0x49ff27[0x0]-_0x2e3558[0x0]);let _0x1c6abe=[];if(_0x3fafa1[_0x176535(0x241)]>0x0){let _0x460735=_0x3fafa1[0x0];for(let _0x40c6ae=0x1;_0x40c6ae<_0x3fafa1['length'];_0x40c6ae++){_0x3fafa1[_0x40c6ae][0x0]<_0x460735[0x1]?_0x460735[0x1]=Math[_0x176535(0x197)](_0x460735[0x1],_0x3fafa1[_0x40c6ae][0x1]):(_0x1c6abe[_0x176535(0x1d2)](_0x460735),_0x460735=_0x3fafa1[_0x40c6ae]);}_0x1c6abe['push'](_0x460735);}let _0xa5aa72=0x0;_0x1c6abe[_0x176535(0x171)](_0x1d8ee0=>_0xa5aa72+=_0x1d8ee0[0x1]-_0x1d8ee0[0x0]),document[_0x176535(0x186)](_0x176535(0x19e))[_0x176535(0x132)]=formatMinsToHrs(_0x749c94),document[_0x176535(0x186)](_0x176535(0x1ef))[_0x176535(0x132)]=formatMinsToHrs(_0xa5aa72);const _0x10e21c=_0x749c94>0x0?Math[_0x176535(0x243)](_0xa5aa72/_0x749c94*0x64):0x0,_0x11e02b=document[_0x176535(0x186)]('doLoadPercent');_0x11e02b[_0x176535(0x132)]=_0x10e21c+'%';const _0x34b820=document[_0x176535(0x186)](_0x176535(0x1ce));if(_0x10e21c>0x64)_0x11e02b['style']['color']='var(--acc-red)',_0x34b820[_0x176535(0x17b)][_0x176535(0x14d)]=_0x176535(0x1f8);else _0x10e21c>0x50?(_0x11e02b[_0x176535(0x17b)][_0x176535(0x193)]='var(--acc-orange)',_0x34b820['style'][_0x176535(0x14d)]=_0x176535(0x19c)):(_0x11e02b[_0x176535(0x17b)][_0x176535(0x193)]=_0x176535(0x1bd),_0x34b820[_0x176535(0x17b)][_0x176535(0x14d)]=_0x176535(0x1f0));const _0x516f97=document[_0x176535(0x186)](_0x176535(0x275));_0x516f97[_0x176535(0x1af)]='';_0x739921[_0x176535(0x241)]===0x0?_0x516f97[_0x176535(0x1af)]=_0x176535(0x204):(_0x739921[_0x176535(0x157)]((_0x3845f3,_0x5de124)=>_0x3845f3[_0x176535(0x1bc)][_0x176535(0x1b2)](_0x5de124['start'])),_0x739921[_0x176535(0x171)](_0x471635=>{const _0x1fd620=_0x176535,_0x4ed577=clients[_0x1fd620(0x1c0)](_0x533636=>_0x533636[_0x1fd620(0x223)]===_0x471635[_0x1fd620(0x220)]),_0x5923a4=_0x4ed577?_0x4ed577['color']:_0x1fd620(0x1f5),_0x255377=_0x471635[_0x1fd620(0x177)]===_0x1fd620(0x215),_0x4e2abc=_0x255377?_0x1fd620(0x1a8):'',_0x531edf=document['createElement'](_0x1fd620(0x2a3));_0x531edf[_0x1fd620(0x16a)]='de-item',_0x531edf[_0x1fd620(0x17b)][_0x1fd620(0x240)]=_0x5923a4,_0x531edf['innerHTML']=_0x1fd620(0x1e7)+_0x471635['start']+_0x1fd620(0x24f)+_0x471635[_0x1fd620(0x17e)]+_0x1fd620(0x1c9)+_0x471635[_0x1fd620(0x220)]+_0x1fd620(0x290)+_0x4e2abc+_0x1fd620(0x1ed),_0x516f97[_0x1fd620(0x297)](_0x531edf);}));const _0x1d0a03=document[_0x176535(0x186)](_0x176535(0x217)),_0x10e3b8=dateExceptions[_0x84651c]===_0x176535(0x1fc);_0x10e3b8?(_0x1d0a03[_0x176535(0x132)]=_0x176535(0x21c),_0x1d0a03[_0x176535(0x16a)]='btn-primary\x20btn-secondary',_0x1d0a03[_0x176535(0x17b)][_0x176535(0x193)]=_0x176535(0x1bd),_0x1d0a03['style'][_0x176535(0x279)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x1d0a03[_0x176535(0x132)]=_0x176535(0x219),_0x1d0a03[_0x176535(0x16a)]=_0x176535(0x184),_0x1d0a03['style'][_0x176535(0x193)]=_0x176535(0x259),_0x1d0a03[_0x176535(0x17b)][_0x176535(0x279)]=_0x176535(0x252)),openSheet(_0x176535(0x239));}let currentAnPeriod=a2_0x4b67e0(0x286);function openAnalytics(){const _0x207213=a2_0x4b67e0,_0x256d4f=document[_0x207213(0x182)](_0x207213(0x1db));setAnalyticsPeriod(_0x207213(0x286),_0x256d4f),closeAllSheets(),openSheet(_0x207213(0x17c));}function setAnalyticsPeriod(_0x44857a,_0x4f37ad){const _0x4027d8=a2_0x4b67e0;currentAnPeriod=_0x44857a,document['querySelectorAll'](_0x4027d8(0x1db))[_0x4027d8(0x171)](_0x1755fd=>_0x1755fd[_0x4027d8(0x1c6)]['remove'](_0x4027d8(0x21a)));if(_0x4f37ad)_0x4f37ad[_0x4027d8(0x1c6)][_0x4027d8(0x1d1)](_0x4027d8(0x21a));const _0x421cad=document[_0x4027d8(0x186)](_0x4027d8(0x216));_0x421cad['style'][_0x4027d8(0x269)]=_0x44857a==='custom'?'flex':_0x4027d8(0x29f);const _0x253c75=new Date();let _0x31a57c=new Date(),_0x4ef136=new Date();if(_0x44857a===_0x4027d8(0x286))_0x31a57c=getStartOfWeek(_0x253c75),_0x4ef136=new Date(_0x31a57c),_0x4ef136[_0x4027d8(0x192)](_0x4ef136['getDate']()+0x6);else{if(_0x44857a===_0x4027d8(0x15b))_0x31a57c=new Date(_0x253c75[_0x4027d8(0x28f)](),_0x253c75[_0x4027d8(0x1ec)](),0x1),_0x4ef136=new Date(_0x253c75['getFullYear'](),_0x253c75['getMonth']()+0x1,0x0);else{!document[_0x4027d8(0x186)](_0x4027d8(0x289))['value']&&(document['getElementById'](_0x4027d8(0x289))[_0x4027d8(0x19b)]=getLocalDateStr(_0x253c75),document[_0x4027d8(0x186)](_0x4027d8(0x13e))[_0x4027d8(0x19b)]=getLocalDateStr(_0x253c75));refreshAnalytics();return;}}document[_0x4027d8(0x186)]('anStart')['value']=getLocalDateStr(_0x31a57c),document[_0x4027d8(0x186)](_0x4027d8(0x13e))[_0x4027d8(0x19b)]=getLocalDateStr(_0x4ef136),refreshAnalytics();}function refreshAnalytics(){const _0x10e227=a2_0x4b67e0,_0x564727=document['getElementById'](_0x10e227(0x289))['value'],_0x47c9a3=document[_0x10e227(0x186)]('anEnd')[_0x10e227(0x19b)];if(!_0x564727||!_0x47c9a3)return;const _0x40381b=sessions[_0x10e227(0x242)](_0x286291=>_0x286291['dateStr']>=_0x564727&&_0x286291['dateStr']<=_0x47c9a3&&_0x286291[_0x10e227(0x177)]!==_0x10e227(0x276)),_0x1c4694=_0x40381b[_0x10e227(0x241)],_0x5db794=_0x40381b['filter'](_0xa2346a=>_0xa2346a[_0x10e227(0x177)]==='completed')[_0x10e227(0x241)],_0x42a011=_0x1c4694>0x0?Math[_0x10e227(0x243)](_0x5db794/_0x1c4694*0x64):0x0;document[_0x10e227(0x186)](_0x10e227(0x172))['textContent']=_0x42a011+'%',document[_0x10e227(0x186)]('anTotalStats')['textContent']=_0x5db794+'\x20–∏–∑\x20'+_0x1c4694+_0x10e227(0x211);const _0x29f4a4=document['getElementById'](_0x10e227(0x14e)),_0x107e12=0x2*Math['PI']*0x23,_0x3242fd=_0x107e12-_0x42a011/0x64*_0x107e12;_0x29f4a4[_0x10e227(0x17b)]['strokeDashoffset']=_0x3242fd;const _0x46d0a0={};_0x40381b[_0x10e227(0x171)](_0x2dbe3a=>{const _0x10990d=_0x10e227;if(!_0x46d0a0[_0x2dbe3a['client']]){const _0x101595=clients[_0x10990d(0x1c0)](_0x48f4b3=>_0x48f4b3[_0x10990d(0x223)]===_0x2dbe3a['client']);_0x46d0a0[_0x2dbe3a[_0x10990d(0x220)]]={'total':0x0,'done':0x0,'color':_0x101595?_0x101595[_0x10990d(0x193)]:'#fff'};}_0x46d0a0[_0x2dbe3a['client']][_0x10990d(0x15e)]++;if(_0x2dbe3a[_0x10990d(0x177)]===_0x10990d(0x215))_0x46d0a0[_0x2dbe3a[_0x10990d(0x220)]][_0x10990d(0x183)]++;});const _0x596fa7=document['getElementById']('analyticsList');_0x596fa7[_0x10e227(0x1af)]='';const _0x658a70=Object['entries'](_0x46d0a0)[_0x10e227(0x157)]((_0x2f75b7,_0x574caf)=>_0x574caf[0x1][_0x10e227(0x15e)]-_0x2f75b7[0x1]['total']);if(_0x658a70[_0x10e227(0x241)]===0x0){_0x596fa7[_0x10e227(0x1af)]=_0x10e227(0x1e1);return;}_0x658a70[_0x10e227(0x171)](([_0x5774a8,_0x4b0643])=>{const _0x311338=_0x10e227,_0x124610=Math[_0x311338(0x243)](_0x4b0643[_0x311338(0x183)]/_0x4b0643['total']*0x64),_0x81b07a=document[_0x311338(0x23a)]('div');_0x81b07a[_0x311338(0x16a)]=_0x311338(0x1c8),_0x81b07a[_0x311338(0x17b)][_0x311338(0x240)]=_0x4b0643[_0x311338(0x193)],_0x81b07a[_0x311338(0x1af)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x5774a8+_0x311338(0x22f)+_0x4b0643[_0x311338(0x183)]+'</span>\x20/\x20'+_0x4b0643[_0x311338(0x15e)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x124610+_0x311338(0x230),_0x596fa7[_0x311338(0x297)](_0x81b07a);});}function formatMinsToHrs(_0x3c78b1){if(_0x3c78b1===0x0)return'0';const _0x1f23d5=Math['floor'](_0x3c78b1/0x3c),_0x5473a6=_0x3c78b1%0x3c;if(_0x5473a6===0x0)return _0x1f23d5+'—á';return _0x1f23d5+'—á\x20'+_0x5473a6+'–º';}