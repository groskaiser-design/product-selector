const a2_0x52000a=a2_0x23ae;(function(_0x1199d6,_0x4a3166){const _0x191521=a2_0x23ae,_0x45dff0=_0x1199d6();while(!![]){try{const _0xc89b91=parseInt(_0x191521(0x118))/0x1*(parseInt(_0x191521(0xc2))/0x2)+-parseInt(_0x191521(0x13e))/0x3*(parseInt(_0x191521(0x1a5))/0x4)+-parseInt(_0x191521(0x1a1))/0x5+parseInt(_0x191521(0x157))/0x6*(-parseInt(_0x191521(0x225))/0x7)+parseInt(_0x191521(0x158))/0x8*(parseInt(_0x191521(0x1c2))/0x9)+parseInt(_0x191521(0x1a6))/0xa*(-parseInt(_0x191521(0x211))/0xb)+parseInt(_0x191521(0xc5))/0xc*(parseInt(_0x191521(0xb5))/0xd);if(_0xc89b91===_0x4a3166)break;else _0x45dff0['push'](_0x45dff0['shift']());}catch(_0x51faf7){_0x45dff0['push'](_0x45dff0['shift']());}}}(a2_0x327d,0xc7de6),function initTMA(){const _0x56b2b6=a2_0x23ae;try{const _0x17f5cb=window[_0x56b2b6(0x16f)]?.[_0x56b2b6(0x1c0)];if(!_0x17f5cb)return;_0x17f5cb[_0x56b2b6(0xcd)](),_0x17f5cb[_0x56b2b6(0x1d9)]();try{_0x17f5cb[_0x56b2b6(0xe1)](_0x56b2b6(0x1c8)),_0x17f5cb[_0x56b2b6(0x110)]&&_0x17f5cb['setBackgroundColor'](_0x56b2b6(0x1c8));}catch(_0x132912){console['log']('Error\x20setting\x20color:',_0x132912);}try{_0x17f5cb[_0x56b2b6(0x1b6)]&&(_0x17f5cb[_0x56b2b6(0x1b6)][_0x56b2b6(0x101)](),_0x17f5cb[_0x56b2b6(0x1b6)]['offClick'](),_0x17f5cb[_0x56b2b6(0x1b6)][_0x56b2b6(0x1c9)](function(){const _0x2f1169=_0x56b2b6;window['location'][_0x2f1169(0x153)]=_0x2f1169(0x1d6);}));}catch(_0x4a1038){console[_0x56b2b6(0xdc)](_0x56b2b6(0x194),_0x4a1038);}try{if(_0x17f5cb[_0x56b2b6(0x1c3)])_0x17f5cb[_0x56b2b6(0x1c3)]();}catch(_0x56e122){}}catch(_0x237018){console[_0x56b2b6(0xdf)]('Critical\x20TMA\x20Error:',_0x237018);}}());function isAdmin(){const _0x2ac8f3=a2_0x23ae;try{const _0x2a4e16=Number(window[_0x2ac8f3(0x16f)]?.[_0x2ac8f3(0x1c0)]?.[_0x2ac8f3(0xb3)]?.[_0x2ac8f3(0x136)]?.['id']);return _0x2a4e16===0xbaf7174;}catch(_0x57cb72){return![];}}const APP_VERSION=a2_0x52000a(0x179),API_URL=a2_0x52000a(0x186),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x52000a(0x18a),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x30f9b2=a2_0x52000a;return window['Telegram']?.[_0x30f9b2(0x1c0)]?.[_0x30f9b2(0xb3)]?.[_0x30f9b2(0x136)]?.['id']||_0x30f9b2(0xc6);},'saveLocally'(){const _0x21264a=a2_0x52000a;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x21264a(0x10e)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x21264a(0x10e)](sessions)),localStorage[_0x21264a(0x156)](KEY_SETTINGS,JSON[_0x21264a(0x10e)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x43946d){console[_0x21264a(0xdf)]('Local\x20Save\x20Error',_0x43946d);}},'loadLocal'(){const _0x3a4dc0=a2_0x52000a;try{const _0x5a6330=localStorage[_0x3a4dc0(0x214)](KEY_CLIENTS);if(_0x5a6330)clients=JSON[_0x3a4dc0(0x16d)](_0x5a6330);const _0x385790=localStorage[_0x3a4dc0(0x214)](KEY_SESSIONS);if(_0x385790)sessions=JSON[_0x3a4dc0(0x16d)](_0x385790);const _0x4eeb94=localStorage[_0x3a4dc0(0x214)](KEY_SETTINGS);if(_0x4eeb94){const _0x187cdd=JSON[_0x3a4dc0(0x16d)](_0x4eeb94);if(_0x187cdd['pattern'])availabilityPattern=_0x187cdd[_0x3a4dc0(0x11b)];if(_0x187cdd[_0x3a4dc0(0x15b)])dateExceptions=_0x187cdd[_0x3a4dc0(0x15b)];if(_0x187cdd[_0x3a4dc0(0x128)])specialRanges=_0x187cdd[_0x3a4dc0(0x128)];}else{for(let _0x38635e=0x0;_0x38635e<0x7;_0x38635e++)availabilityPattern[_0x38635e]=Array[_0x3a4dc0(0x123)]({'length':0xc},(_0x2c8810,_0x3f041b)=>_0x3f041b+0x9);}}catch(_0x4c3af9){console[_0x3a4dc0(0xdf)](_0x3a4dc0(0x1cf),_0x4c3af9);}},async 'fetchFromServer'(_0x3b7f5a,_0x471270={}){const _0x1ec101=a2_0x52000a,_0x1a1a75=window[_0x1ec101(0x16f)]?.['WebApp'],_0x56f61c={'action':_0x3b7f5a,'init_data':_0x1a1a75?.[_0x1ec101(0x199)]||'',..._0x471270};try{const _0x1afbd4=await fetch(API_URL,{'method':_0x1ec101(0x10b),'headers':{'Content-Type':_0x1ec101(0x134)},'body':JSON[_0x1ec101(0x10e)](_0x56f61c)}),_0x34334e=await _0x1afbd4[_0x1ec101(0xbe)]();if(!_0x34334e['ok'])throw new Error(_0x34334e['error']||_0x1ec101(0xee));return _0x34334e[_0x1ec101(0xc4)];}catch(_0x105cb5){console[_0x1ec101(0xdf)](_0x1ec101(0x1ee)+_0x3b7f5a+_0x1ec101(0xff),_0x105cb5);throw _0x105cb5;}},async 'syncLoad'(){const _0x3de9b6=a2_0x52000a,_0x39cb08=new Date(),_0x5d6a64=_0x39cb08[_0x3de9b6(0x144)]()+'-'+String(_0x39cb08[_0x3de9b6(0xe2)]()+0x1)[_0x3de9b6(0x205)](0x2,'0'),_0x7f6f20=new Date(_0x39cb08);_0x7f6f20[_0x3de9b6(0x1c5)](_0x39cb08[_0x3de9b6(0xe2)]()+0x1);const _0x3c2bf0=_0x7f6f20[_0x3de9b6(0x144)]()+'-'+String(_0x7f6f20[_0x3de9b6(0xe2)]()+0x1)[_0x3de9b6(0x205)](0x2,'0'),_0x50822b=Date['now']();console[_0x3de9b6(0xdc)](_0x3de9b6(0x1c6)+_0x5d6a64+',\x20'+_0x3c2bf0+'...');try{const [_0x28a195,_0x187b5f]=await Promise['all']([this[_0x3de9b6(0xf1)]('init_load',{'month_str':_0x5d6a64}),this[_0x3de9b6(0xf1)](_0x3de9b6(0x1e6),{'month_str':_0x3c2bf0})]);if(lastUserActionTime>_0x50822b)return console[_0x3de9b6(0x165)](_0x3de9b6(0x149)),![];return this['mergeServerData'](_0x28a195,_0x5d6a64),this[_0x3de9b6(0x188)](_0x187b5f,_0x3c2bf0),this[_0x3de9b6(0xde)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x383b82){console[_0x3de9b6(0xdf)](_0x383b82);throw _0x383b82;}},'mergeServerData'(_0x47346c,_0x4e43ed){const _0x46795f=a2_0x52000a;if(!_0x47346c)return;_0x47346c[_0x46795f(0xc7)]&&Array['isArray'](_0x47346c[_0x46795f(0xc7)])&&(clients=_0x47346c[_0x46795f(0xc7)]);if(_0x47346c[_0x46795f(0x176)]){if(_0x47346c[_0x46795f(0x176)][_0x46795f(0x11b)])availabilityPattern=_0x47346c[_0x46795f(0x176)][_0x46795f(0x11b)];if(_0x47346c[_0x46795f(0x176)][_0x46795f(0x15b)])dateExceptions=_0x47346c[_0x46795f(0x176)]['exceptions'];if(_0x47346c[_0x46795f(0x176)][_0x46795f(0x128)])specialRanges=_0x47346c['settings'][_0x46795f(0x128)];if(_0x47346c[_0x46795f(0x176)]['cancel_window']){localStorage[_0x46795f(0x156)](_0x46795f(0x150),_0x47346c[_0x46795f(0x176)]['cancel_window']);const _0x345725=document['getElementById'](_0x46795f(0x203));if(_0x345725)_0x345725[_0x46795f(0x1f9)]=_0x47346c[_0x46795f(0x176)][_0x46795f(0x1de)];}}_0x47346c['calendar']&&(sessions=sessions[_0x46795f(0x171)](_0x1ba17f=>!_0x1ba17f['dateStr'][_0x46795f(0x1f4)](_0x4e43ed)),Object['keys'](_0x47346c['calendar'])[_0x46795f(0x130)](_0x160209=>{const _0x1bc61d=_0x46795f,_0x20cd86=_0x47346c[_0x1bc61d(0xea)][_0x160209];_0x20cd86[_0x1bc61d(0x130)](_0x43197f=>{const _0x47b5f3=_0x1bc61d,_0x3c495c=clients['find'](_0x5c5e63=>String(_0x5c5e63['id'])===String(_0x43197f['c']));sessions[_0x47b5f3(0x161)]({'id':_0x43197f['i'],'clientId':_0x43197f['c'],'client':_0x3c495c?_0x3c495c[_0x47b5f3(0xc0)]:'Unknown','dateStr':_0x4e43ed+'-'+_0x160209[_0x47b5f3(0x205)](0x2,'0'),'start':_0x43197f['s'],'end':_0x43197f['e'],'status':_0x43197f['st']||_0x47b5f3(0x21b),'note':_0x43197f['n']||'','seriesId':_0x43197f['sid']||null});});}));},async 'syncBatch'(_0x13dd8a){const _0x290c22=a2_0x52000a,_0x25f836=[...new Set(_0x13dd8a)],_0x46e11d=_0x25f836[_0x290c22(0xbd)](_0x20e543=>{const _0x1aefef=_0x290c22,_0x539166=sessions['filter'](_0x30699c=>_0x30699c['dateStr']===_0x20e543&&_0x30699c['status']!=='deleted'),_0x56a9e2=_0x539166[_0x1aefef(0xbd)](_0x3fd646=>({'i':_0x3fd646['id'],'c':_0x3fd646['clientId'],'s':_0x3fd646['start'],'e':_0x3fd646['end'],'st':_0x3fd646[_0x1aefef(0x212)],'n':_0x3fd646['note'],'sid':_0x3fd646[_0x1aefef(0x151)]}));return{'date':_0x20e543,'day_data':_0x56a9e2};});if(_0x46e11d[_0x290c22(0x1fd)]===0x0)return;console[_0x290c22(0xdc)](_0x290c22(0x18d)+_0x46e11d[_0x290c22(0x1fd)]+_0x290c22(0x1c1)),await this[_0x290c22(0xf1)]('batch_sync',{'changes':_0x46e11d});}};async function init(){const _0x1c6c93=a2_0x52000a;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x1c6c93(0x120)](_0x1c6c93(0xcc))[_0x1c6c93(0xb7)](_0x1c6c93(0x17e),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x1c6c93(0x1d8)]()[_0x1c6c93(0xc3)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x1c6c93(0x1f3)](_0x39e3a4=>{const _0x1c87d7=_0x1c6c93;showToast(_0x1c87d7(0x1ea),![]);});}function generateId(){const _0x5a179e=a2_0x52000a;return Date[_0x5a179e(0x104)]()[_0x5a179e(0x21c)](0x24)+Math[_0x5a179e(0x143)]()['toString'](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x3a808a=a2_0x52000a,_0x5b5150=document['getElementById'](_0x3a808a(0x137))[_0x3a808a(0xb8)],_0x1ae472=document[_0x3a808a(0x120)](_0x3a808a(0x121));_0x1ae472[_0x3a808a(0x1b5)][_0x3a808a(0x219)]=_0x5b5150?'block':'none';const _0x96e1ec=document['getElementById'](_0x3a808a(0x100));_0x96e1ec[_0x3a808a(0x1b5)]['borderRadius']=_0x5b5150?_0x3a808a(0x109):'10px';}function openAddSession(_0x34223b){const _0x5a5300=a2_0x52000a;editingId=null,populateClientSelect(),document[_0x5a5300(0x120)](_0x5a5300(0x1dd))[_0x5a5300(0x15f)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x5a5300(0x120)](_0x5a5300(0x216))[_0x5a5300(0x1b5)][_0x5a5300(0x219)]='none',document[_0x5a5300(0x120)]('btnStatusToggle')[_0x5a5300(0x1b5)][_0x5a5300(0x219)]='none';const _0x43751f=document[_0x5a5300(0x120)](_0x5a5300(0x100)),_0x1fad75=document[_0x5a5300(0x120)]('seriesCountContainer');_0x43751f[_0x5a5300(0x1b5)][_0x5a5300(0x219)]=_0x5a5300(0x1ba),_0x43751f['style']['borderRadius']='10px',document[_0x5a5300(0x120)](_0x5a5300(0x137))[_0x5a5300(0xb8)]=![],document['getElementById'](_0x5a5300(0x174))['value']=0x4,_0x1fad75[_0x5a5300(0x1b5)]['display']=_0x5a5300(0x207),document[_0x5a5300(0x120)]('inpDate')[_0x5a5300(0x1f9)]=getLocalDateStr(_0x34223b),updateDateDisplay();const _0x35bd8e=_0x34223b[_0x5a5300(0x215)]();document[_0x5a5300(0x120)]('inpStart')[_0x5a5300(0x1f9)]=String(_0x35bd8e)['padStart'](0x2,'0')+':00',document['getElementById'](_0x5a5300(0x20c))[_0x5a5300(0x1f9)]=String(_0x35bd8e+0x1)[_0x5a5300(0x205)](0x2,'0')+_0x5a5300(0x1ff),openSheet(_0x5a5300(0x172));}function openEdit(_0x29a8f9){const _0x3b488b=a2_0x52000a;editingId=_0x29a8f9['id'],populateClientSelect(),document[_0x3b488b(0x120)](_0x3b488b(0x1dd))['textContent']=_0x3b488b(0xe9),document[_0x3b488b(0x120)](_0x3b488b(0x216))['style'][_0x3b488b(0x219)]='block';const _0x189709=document['getElementById']('btnStatusToggle');_0x189709[_0x3b488b(0x1b5)]['display']=_0x3b488b(0x1ba);_0x29a8f9[_0x3b488b(0x212)]==='completed'?(_0x189709['className']='btn-status-toggle\x20undo-mode',_0x189709[_0x3b488b(0x222)]=_0x3b488b(0x10d)):(_0x189709[_0x3b488b(0xb0)]=_0x3b488b(0x1bb),_0x189709['innerHTML']=_0x3b488b(0x229));const _0x3acdbd=!!_0x29a8f9[_0x3b488b(0x151)];document[_0x3b488b(0x120)]('recurringOptionContainer')['style'][_0x3b488b(0x219)]=_0x3b488b(0x207),document[_0x3b488b(0x120)](_0x3b488b(0x121))['style'][_0x3b488b(0x219)]=_0x3b488b(0x207),_0x3acdbd?(document[_0x3b488b(0x120)]('patternInfoBox')[_0x3b488b(0x1b5)][_0x3b488b(0x219)]='flex',document[_0x3b488b(0x120)](_0x3b488b(0x139))[_0x3b488b(0x142)](_0x3b488b(0x129))[_0x3b488b(0x15f)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document['getElementById']('patternInfoBox')[_0x3b488b(0x1b5)][_0x3b488b(0x219)]=_0x3b488b(0x207),document[_0x3b488b(0x120)](_0x3b488b(0x192))['value']=_0x29a8f9[_0x3b488b(0x22a)],document[_0x3b488b(0x120)](_0x3b488b(0x17c))[_0x3b488b(0x1f9)]=_0x29a8f9[_0x3b488b(0x10a)],document[_0x3b488b(0x120)](_0x3b488b(0x14a))[_0x3b488b(0x1f9)]=_0x29a8f9[_0x3b488b(0x112)],document[_0x3b488b(0x120)](_0x3b488b(0x20c))[_0x3b488b(0x1f9)]=_0x29a8f9[_0x3b488b(0xcf)],document[_0x3b488b(0x120)](_0x3b488b(0xd3))[_0x3b488b(0x1f9)]=_0x29a8f9[_0x3b488b(0x11d)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x10d11c=a2_0x52000a,_0x21b2a=document[_0x10d11c(0x120)](_0x10d11c(0x192))[_0x10d11c(0x1f9)],_0x45be00=document[_0x10d11c(0x120)]('inpDate')[_0x10d11c(0x1f9)],_0x1a882e=document[_0x10d11c(0x120)](_0x10d11c(0x14a))['value'],_0x27d548=document[_0x10d11c(0x120)](_0x10d11c(0x20c))['value'],_0x3e6f4d=document['getElementById']('inpNote')['value'],_0x3c63a8=document[_0x10d11c(0x120)](_0x10d11c(0x137))[_0x10d11c(0xb8)];let _0x339ae0=0x4;if(_0x3c63a8){const _0x59b623=parseInt(document['getElementById']('inpSeriesCount')[_0x10d11c(0x1f9)]);if(!_0x59b623||_0x59b623<0x2){showToast(_0x10d11c(0x21f),![]);return;}if(_0x59b623>0x64){showToast(_0x10d11c(0x231),![]);return;}_0x339ae0=_0x59b623;}const _0x5968ae=clients['find'](_0x1cf026=>_0x1cf026[_0x10d11c(0xc0)]===_0x21b2a);if(!_0x5968ae){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x20473b=validateAppointment(_0x45be00,_0x1a882e,_0x27d548,editingId,_0x5968ae['id']);if(!_0x20473b['valid']){showToast(_0x20473b[_0x10d11c(0x102)],![]);return;}_0x20473b[_0x10d11c(0xdb)]&&showToast(_0x20473b['warning'],![]);const _0x2f29cf={'client':_0x21b2a,'clientId':_0x5968ae['id'],'start':_0x1a882e,'end':_0x27d548,'note':_0x3e6f4d,'status':_0x10d11c(0x21b)},_0x4dea10=editingId?sessions[_0x10d11c(0x198)](_0x6370c3=>_0x6370c3['id']===editingId):null;if(_0x4dea10&&_0x4dea10[_0x10d11c(0x151)]){tempSessionData={..._0x2f29cf,'dateStr':_0x45be00,'id':editingId,'seriesId':_0x4dea10[_0x10d11c(0x151)]},openActionSheet(_0x10d11c(0x1b8));return;}let _0x3f0a28=null;if(!editingId)_0x3f0a28=_0x10d11c(0x17f);else{if(_0x4dea10){if(String(_0x4dea10['clientId'])!==String(_0x5968ae['id']))console[_0x10d11c(0xdc)](_0x10d11c(0x16a)),NotificationManager[_0x10d11c(0x224)]('cancel',_0x4dea10),_0x3f0a28=_0x10d11c(0x17f);else(_0x4dea10['start']!==_0x1a882e||_0x4dea10[_0x10d11c(0xcf)]!==_0x27d548||_0x4dea10[_0x10d11c(0x10a)]!==_0x45be00)&&(_0x3f0a28=_0x10d11c(0x169));}}if(!editingId&&_0x3c63a8){createBatchSeries(_0x2f29cf,_0x45be00,_0x339ae0),NotificationManager['send'](_0x10d11c(0x17f),{..._0x2f29cf,'dateStr':_0x45be00});return;}lastUserActionTime=Date[_0x10d11c(0x104)]();const _0x6b9ed5={..._0x2f29cf,'dateStr':_0x45be00,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x6b9ed5),_0x3f0a28&&NotificationManager[_0x10d11c(0x224)](_0x3f0a28,_0x6b9ed5);}function toggleSessionStatus(){const _0x178497=a2_0x52000a;lastUserActionTime=Date[_0x178497(0x104)]();const _0xe57043=sessions[_0x178497(0x198)](_0x37b2a2=>_0x37b2a2['id']===editingId);if(!_0xe57043)return;const _0x4b4ec5=_0xe57043[_0x178497(0x212)]===_0x178497(0x168)?_0x178497(0x21b):'completed';_0xe57043[_0x178497(0x212)]=_0x4b4ec5,saveSingleSession(_0xe57043),_0x4b4ec5===_0x178497(0x168)&&NotificationManager[_0x178497(0x224)]('complete',_0xe57043),showToast(_0x4b4ec5===_0x178497(0x168)?_0x178497(0x11e):_0x178497(0xf7),!![]);}function validateAppointment(_0x150e30,_0x36e595,_0x3c0e5f,_0x4b4302,_0x2608f5){const _0x2e844b=a2_0x52000a,[_0x2fdd8b,_0x3d82f0]=_0x36e595[_0x2e844b(0x115)](':')[_0x2e844b(0xbd)](Number),[_0x540430,_0x5ccbff]=_0x3c0e5f[_0x2e844b(0x115)](':')[_0x2e844b(0xbd)](Number),_0x37cddc=_0x2fdd8b*0x3c+_0x3d82f0,_0x3b1c3c=_0x540430*0x3c+_0x5ccbff,_0x1d5c8a=String(_0x2608f5);let _0x2c8443=![],_0x5791bd='';for(let _0x332fad of sessions){if(_0x332fad[_0x2e844b(0x10a)]!==_0x150e30)continue;if(_0x332fad[_0x2e844b(0x212)]===_0x2e844b(0x16e))continue;if(_0x4b4302&&String(_0x332fad['id'])===String(_0x4b4302))continue;const [_0x5eba47,_0x287b81]=_0x332fad[_0x2e844b(0x112)]['split'](':')[_0x2e844b(0xbd)](Number),[_0x3833e6,_0x1d0e44]=_0x332fad['end'][_0x2e844b(0x115)](':')[_0x2e844b(0xbd)](Number),_0x5b0f44=_0x5eba47*0x3c+_0x287b81,_0x5e4f02=_0x3833e6*0x3c+_0x1d0e44;if(Math[_0x2e844b(0x20d)](_0x37cddc,_0x5b0f44)<Math[_0x2e844b(0xe0)](_0x3b1c3c,_0x5e4f02)){if(_0x332fad[_0x2e844b(0x1af)]&&String(_0x332fad['clientId'])===_0x1d5c8a)return{'valid':![],'msg':_0x2e844b(0xb9)+_0x332fad[_0x2e844b(0x22a)]+_0x2e844b(0xd7)};_0x2c8443=!![],_0x5791bd=_0x332fad[_0x2e844b(0x22a)];}}if(_0x2c8443)return{'valid':!![],'warning':_0x2e844b(0x22d)+_0x5791bd};return{'valid':!![]};}function saveSingleSession(_0x2ec998){const _0x500295=a2_0x52000a;if(editingId){const _0x45a2d6=sessions['findIndex'](_0x5c79e4=>_0x5c79e4['id']===editingId);if(_0x45a2d6!==-0x1)sessions[_0x45a2d6]=_0x2ec998;}else sessions[_0x500295(0x161)](_0x2ec998);afterSaveAction([_0x2ec998[_0x500295(0x10a)]]);}function createBatchSeries(_0x23f668,_0x5b2902,_0x1adf95){const _0x12cf6c=a2_0x52000a,_0x40d5dd=generateId(),_0x36f9fd=[],_0x5e07a0=[];let _0x43156a=0x0,_0x1a29dc=new Date(_0x5b2902);for(let _0x346f3f=0x0;_0x346f3f<_0x1adf95;_0x346f3f++){const _0x1f039f=getLocalDateStr(_0x1a29dc),_0x33a447=validateAppointment(_0x1f039f,_0x23f668[_0x12cf6c(0x112)],_0x23f668['end'],null,_0x23f668['clientId']);if(!_0x33a447[_0x12cf6c(0x210)])console[_0x12cf6c(0xdc)](_0x12cf6c(0x201)+_0x1f039f+_0x12cf6c(0x1ab)),_0x43156a++;else{const _0x23248c={..._0x23f668,'id':generateId(),'dateStr':_0x1f039f,'seriesId':_0x40d5dd};_0x5e07a0['push'](_0x23248c),_0x36f9fd[_0x12cf6c(0x161)](_0x1f039f);}_0x1a29dc[_0x12cf6c(0x15a)](_0x1a29dc[_0x12cf6c(0x21e)]()+0x7);}if(_0x5e07a0['length']===0x0){showToast(_0x12cf6c(0x19d),![]);return;}sessions[_0x12cf6c(0x161)](..._0x5e07a0),lastUserActionTime=Date[_0x12cf6c(0x104)]();let _0x3a6e9b=_0x12cf6c(0x1ad)+_0x5e07a0[_0x12cf6c(0x1fd)];_0x43156a>0x0&&(_0x3a6e9b+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x43156a+')'),showToast(_0x3a6e9b,!![]),afterSaveAction(_0x36f9fd);}function updateSeriesBatch(_0x266437,_0x3478b3){const _0x216469=a2_0x52000a,_0x2d3e15=[],_0x46b2d2=_0x3478b3['seriesId'];if(_0x266437==='single'){const _0x53fac1={..._0x3478b3,'seriesId':null},_0x35526c=sessions['findIndex'](_0x29e9b2=>_0x29e9b2['id']===_0x3478b3['id']);if(_0x35526c!==-0x1)sessions[_0x35526c]=_0x53fac1;_0x2d3e15[_0x216469(0x161)](_0x53fac1[_0x216469(0x10a)]);}else{if(_0x266437===_0x216469(0x159)){const _0x1bf159=_0x3478b3[_0x216469(0x10a)];sessions['forEach']((_0x3716d0,_0x218847)=>{const _0x8ee274=_0x216469;_0x3716d0[_0x8ee274(0x151)]===_0x46b2d2&&_0x3716d0[_0x8ee274(0x10a)]>=_0x1bf159&&(sessions[_0x218847]={...sessions[_0x218847],'start':_0x3478b3['start'],'end':_0x3478b3[_0x8ee274(0xcf)],'note':_0x3478b3[_0x8ee274(0x11d)],'client':_0x3478b3[_0x8ee274(0x22a)],'clientId':_0x3478b3[_0x8ee274(0x1af)]},_0x2d3e15['push'](_0x3716d0[_0x8ee274(0x10a)]));});}}afterSaveAction(_0x2d3e15);}function tryDeleteSession(){const _0x29d347=a2_0x52000a,_0x459160=sessions[_0x29d347(0x198)](_0x293b7e=>_0x293b7e['id']===editingId);if(!_0x459160)return;_0x459160[_0x29d347(0x151)]?openActionSheet(_0x29d347(0x233)):commitDelete('single',_0x459160);}function commitDelete(_0x508708,_0x22161c){const _0x1df3c0=a2_0x52000a;lastUserActionTime=Date[_0x1df3c0(0x104)](),NotificationManager['send'](_0x1df3c0(0x170),_0x22161c);const _0xa217d9=[];if(_0x508708===_0x1df3c0(0xe4))sessions=sessions[_0x1df3c0(0x171)](_0x168d15=>_0x168d15['id']!==_0x22161c['id']),_0xa217d9[_0x1df3c0(0x161)](_0x22161c[_0x1df3c0(0x10a)]);else{if(_0x508708==='series'){const _0x1ac3a9=_0x22161c[_0x1df3c0(0x10a)],_0x42d443=_0x22161c[_0x1df3c0(0x151)];sessions['forEach'](_0x890ce0=>{const _0x4a0579=_0x1df3c0;_0x890ce0[_0x4a0579(0x151)]===_0x42d443&&_0x890ce0[_0x4a0579(0x10a)]>=_0x1ac3a9&&_0xa217d9[_0x4a0579(0x161)](_0x890ce0['dateStr']);}),sessions=sessions[_0x1df3c0(0x171)](_0x2d0de5=>!(_0x2d0de5[_0x1df3c0(0x151)]===_0x42d443&&_0x2d0de5['dateStr']>=_0x1ac3a9));}}afterSaveAction(_0xa217d9);}function a2_0x23ae(_0x23f111,_0x53c81c){_0x23f111=_0x23f111-0xaf;const _0x520552=a2_0x327d();let _0x154e89=_0x520552[_0x23f111];return _0x154e89;}function afterSaveAction(_0x4b0a3d){const _0x561552=a2_0x52000a;DataManager[_0x561552(0xde)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x561552(0x12b)](_0x4b0a3d)[_0x561552(0xc3)](()=>console[_0x561552(0xdc)](_0x561552(0x1f5)))[_0x561552(0x1f3)](_0x5843d6=>showToast(_0x561552(0x15e),![]));}const NotificationManager={'formatDate'(_0x46ca1f){const _0x125d1a=a2_0x52000a,_0xf2b93b=new Date(_0x46ca1f),_0x5eb039={'weekday':_0x125d1a(0x1dc),'day':_0x125d1a(0xf6),'month':_0x125d1a(0x1dc)};let _0x5a7f23=_0xf2b93b['toLocaleDateString'](_0x125d1a(0x127),_0x5eb039);return _0x5a7f23[_0x125d1a(0x160)](0x0)[_0x125d1a(0x16c)]()+_0x5a7f23[_0x125d1a(0x11c)](0x1);},'getText'(_0x3173a8,_0x14172b){const _0x4e8233=a2_0x52000a,_0x3aa221=this[_0x4e8233(0xc9)](_0x14172b[_0x4e8233(0x10a)]);switch(_0x3173a8){case _0x4e8233(0x17f):return _0x4e8233(0x1b7)+(_0x4e8233(0x1bd)+_0x3aa221+'\x0a')+(_0x4e8233(0x1df)+_0x14172b[_0x4e8233(0x112)]+_0x4e8233(0x232)+_0x14172b['end']+'\x0a\x0a')+_0x4e8233(0x167);case'update':return _0x4e8233(0x1f8)+_0x4e8233(0x12c)+(_0x4e8233(0x208)+_0x14172b[_0x4e8233(0x112)]+_0x4e8233(0x232)+_0x14172b[_0x4e8233(0xcf)]+_0x4e8233(0x1cc))+(_0x4e8233(0x1bd)+_0x3aa221);case _0x4e8233(0x170):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x4e8233(0x1be)+_0x3aa221+'\x20('+_0x14172b[_0x4e8233(0x112)]+_0x4e8233(0x1b2));case _0x4e8233(0x197):return _0x4e8233(0x113)+_0x4e8233(0x213)+_0x4e8233(0xb6);default:return'';}},async 'send'(_0x7d7ffb,_0x3b8878){const _0x468583=a2_0x52000a;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x7d7ffb,_0x3b8878);if(!_0x3b8878){console[_0x468583(0xdf)](_0x468583(0x1e7));return;}const _0x3598f6=String(_0x3b8878[_0x468583(0x1af)]);console[_0x468583(0xdc)](_0x468583(0x1b4),_0x3598f6);if(!_0x3b8878[_0x468583(0x1af)]||_0x3598f6===_0x468583(0x1f7)||_0x3598f6==='null'){console['error'](_0x468583(0x14b));if(_0x3b8878[_0x468583(0x22a)]){const _0x47d57a=clients[_0x468583(0x198)](_0x1d63db=>_0x1d63db[_0x468583(0xc0)]===_0x3b8878[_0x468583(0x22a)]);if(_0x47d57a)return console['log'](_0x468583(0x200),_0x47d57a['id']),this['send'](_0x7d7ffb,{..._0x3b8878,'clientId':_0x47d57a['id']});}return;}if(_0x3598f6[_0x468583(0x1fd)]<0x5){console[_0x468583(0x165)](_0x468583(0xf0),_0x3598f6);return;}const _0x4b2400=this[_0x468583(0x1e0)](_0x7d7ffb,_0x3b8878);if(!_0x4b2400){console['error'](_0x468583(0x12f));return;}console[_0x468583(0xdc)](_0x468583(0x18f)+_0x3598f6+'...'),DataManager[_0x468583(0xf1)](_0x468583(0x1e4),{'chatId':_0x3598f6,'text':_0x4b2400})['then'](_0x2ecf6e=>console[_0x468583(0xdc)](_0x468583(0x1e3),_0x2ecf6e))[_0x468583(0x1f3)](_0x12e9e0=>console['error'](_0x468583(0x173),_0x12e9e0));}};function getLocalDateStr(_0x1ccf1d){const _0x26fe21=a2_0x52000a,_0x41984a=_0x1ccf1d[_0x26fe21(0x144)](),_0x228654=String(_0x1ccf1d['getMonth']()+0x1)[_0x26fe21(0x205)](0x2,'0'),_0x5e3f74=String(_0x1ccf1d['getDate']())[_0x26fe21(0x205)](0x2,'0');return _0x41984a+'-'+_0x228654+'-'+_0x5e3f74;}function getDateStr(_0x326c87){const _0x5912e5=a2_0x52000a,_0xc863ce=new Date();return _0xc863ce[_0x5912e5(0x15a)](_0xc863ce[_0x5912e5(0x21e)]()+_0x326c87),getLocalDateStr(_0xc863ce);}function getStartOfWeek(_0x58b3b8){const _0x3058db=a2_0x52000a,_0x2aca11=(function(){let _0x436e1c=!![];return function(_0x196564,_0x4374d3){const _0x31c545=_0x436e1c?function(){const _0x16369b=a2_0x23ae;if(_0x4374d3){const _0x4b9b73=_0x4374d3[_0x16369b(0xda)](_0x196564,arguments);return _0x4374d3=null,_0x4b9b73;}}:function(){};return _0x436e1c=![],_0x31c545;};}()),_0xb8b949=_0x2aca11(this,function(){const _0x8176bd=a2_0x23ae;return _0xb8b949[_0x8176bd(0x21c)]()[_0x8176bd(0x138)](_0x8176bd(0x1a2))[_0x8176bd(0x21c)]()[_0x8176bd(0x1db)](_0xb8b949)[_0x8176bd(0x138)](_0x8176bd(0x1a2));});_0xb8b949();const _0x4c12ae=new Date(_0x58b3b8),_0x1c543b=_0x4c12ae[_0x3058db(0x15d)](),_0x520855=_0x4c12ae[_0x3058db(0x21e)]()-_0x1c543b+(_0x1c543b===0x0?-0x6:0x1);return _0x4c12ae['setDate'](_0x520855),_0x4c12ae[_0x3058db(0xe3)](0x0,0x0,0x0,0x0),_0x4c12ae;}function hexToRgba(_0x46498e,_0x1cfb75){const _0xb84dbb=a2_0x52000a;if(!_0x46498e)return _0xb84dbb(0x217);let _0x3004f4=0x0,_0x29f770=0x0,_0x20abb5=0x0;if(_0x46498e[_0xb84dbb(0x1fd)]===0x4)_0x3004f4='0x'+_0x46498e[0x1]+_0x46498e[0x1],_0x29f770='0x'+_0x46498e[0x2]+_0x46498e[0x2],_0x20abb5='0x'+_0x46498e[0x3]+_0x46498e[0x3];else _0x46498e['length']===0x7&&(_0x3004f4='0x'+_0x46498e[0x1]+_0x46498e[0x2],_0x29f770='0x'+_0x46498e[0x3]+_0x46498e[0x4],_0x20abb5='0x'+_0x46498e[0x5]+_0x46498e[0x6]);return _0xb84dbb(0x190)+ +_0x3004f4+',\x20'+ +_0x29f770+',\x20'+ +_0x20abb5+',\x20'+_0x1cfb75+')';}function renderTimeColumn(){const _0x523e4d=a2_0x52000a,_0x543dfc=document[_0x523e4d(0x120)]('timeColumn'),_0x1ec575=document[_0x523e4d(0x120)](_0x523e4d(0x1b3));_0x543dfc['innerHTML']='',_0x543dfc[_0x523e4d(0x12a)](_0x1ec575);for(let _0x4d3cd4=0x0;_0x4d3cd4<0x18;_0x4d3cd4++){const _0x50a615=document[_0x523e4d(0x1a0)]('div');_0x50a615['className']=_0x523e4d(0x1ce);if(_0x4d3cd4>0x0)_0x50a615[_0x523e4d(0x222)]='<span>'+String(_0x4d3cd4)[_0x523e4d(0x205)](0x2,'0')+_0x523e4d(0xdd);_0x543dfc[_0x523e4d(0x12a)](_0x50a615);}}function renderDayRange(_0x59eefb,_0x13cab5){const _0x51a292=a2_0x52000a,_0x2f167c=document[_0x51a292(0x120)]('daysHeaderTrack'),_0x1b1784=document['getElementById']('gridColumns'),_0x35e7e9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x169ccf=new Date();_0x169ccf['setHours'](0x0,0x0,0x0,0x0);const _0x97d3f8=getLocalDateStr(new Date());for(let _0x369fc4=_0x59eefb;_0x369fc4<=_0x13cab5;_0x369fc4++){const _0x5998ad=new Date(_0x169ccf);_0x5998ad[_0x51a292(0x15a)](_0x5998ad['getDate']()+_0x369fc4);const _0x229a8d=getLocalDateStr(_0x5998ad);let _0x530c91=_0x5998ad['getDay']()-0x1;if(_0x530c91===-0x1)_0x530c91=0x6;const _0x156e39=_0x229a8d===_0x97d3f8,_0x3e6e1b=document[_0x51a292(0x1a0)](_0x51a292(0x195));_0x3e6e1b[_0x51a292(0xb0)]=_0x51a292(0x1ac)+(_0x156e39?'today':''),_0x3e6e1b['id']=_0x51a292(0xd6)+_0x229a8d,_0x3e6e1b[_0x51a292(0x1d7)]('data-date',_0x229a8d),_0x3e6e1b['innerHTML']=_0x51a292(0x12e)+_0x35e7e9[_0x530c91]+'</div><div\x20class=\x22dch-num\x22>'+_0x5998ad[_0x51a292(0x21e)]()+_0x51a292(0x1f0)+_0x229a8d+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x3e6e1b[_0x51a292(0xf9)]=()=>openDayOptions(_0x229a8d,_0x35e7e9[_0x530c91]+'\x20'+_0x5998ad[_0x51a292(0x21e)]()),_0x2f167c['appendChild'](_0x3e6e1b);const _0xc9c8e3=document[_0x51a292(0x1a0)]('div');_0xc9c8e3[_0x51a292(0xb0)]=_0x51a292(0x180)+(_0x156e39?_0x51a292(0xf4):''),_0xc9c8e3[_0x51a292(0x1d7)](_0x51a292(0x131),_0x229a8d),_0xc9c8e3[_0x51a292(0x1d7)]('data-day-idx',_0x530c91),renderEventsForColumn(_0xc9c8e3,_0x229a8d,_0x530c91),attachLongPressHandler(_0xc9c8e3,_0x5998ad),_0x1b1784['appendChild'](_0xc9c8e3),updateDayStats(_0x229a8d);}}function reRenderBlocks(){const _0x57c471=a2_0x52000a;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x57c471(0x130)](_0x4c35c9=>{const _0x33ceed=_0x57c471;_0x4c35c9[_0x33ceed(0x10f)](_0x33ceed(0x10c))[_0x33ceed(0x130)](_0x6c904=>_0x6c904['remove']());const _0x37524a=_0x4c35c9[_0x33ceed(0x114)](_0x33ceed(0x131)),_0x177645=parseInt(_0x4c35c9[_0x33ceed(0x114)](_0x33ceed(0x1fa))),_0x10d720=Math[_0x33ceed(0xf8)](_0x4c35c9['offsetLeft']);(availabilityPattern[_0x177645]||[])[_0x33ceed(0x130)](_0x29ca34=>{const _0x163983=_0x33ceed,_0x149f1d=document[_0x163983(0x1a0)](_0x163983(0x195));_0x149f1d[_0x163983(0xb0)]='blocked-slot\x20stripe-bg';const _0x8ad3c2=_0x29ca34*GRID_H;_0x149f1d[_0x163983(0x1b5)]['top']=_0x8ad3c2+'px',_0x149f1d[_0x163983(0x1b5)][_0x163983(0x132)]='-'+_0x10d720+_0x163983(0x19e)+_0x8ad3c2+'px',_0x4c35c9[_0x163983(0x12a)](_0x149f1d);});if(specialRanges&&specialRanges[_0x33ceed(0x1fd)]>0x0){const _0x2e7bc3=new Date(_0x37524a+_0x33ceed(0xfc))[_0x33ceed(0xfa)](),_0x151ed8=new Date(_0x37524a+_0x33ceed(0x177))[_0x33ceed(0xfa)]();specialRanges[_0x33ceed(0x130)](_0x16afaf=>{const _0x5b34e1=_0x33ceed,_0x143775=new Date(_0x16afaf['start'])[_0x5b34e1(0xfa)](),_0x4cbc4f=new Date(_0x16afaf['end'])['getTime'](),_0x33d09d=Math[_0x5b34e1(0x20d)](_0x2e7bc3,_0x143775),_0xa8f88f=Math[_0x5b34e1(0xe0)](_0x151ed8,_0x4cbc4f);if(_0x33d09d<_0xa8f88f){if(_0x33d09d<=_0x2e7bc3&&_0xa8f88f>=_0x151ed8-0xea60){if(!_0x4c35c9[_0x5b34e1(0x142)](_0x5b34e1(0x133))){const _0x4891dc=document[_0x5b34e1(0x1a0)](_0x5b34e1(0x195));_0x4891dc[_0x5b34e1(0xb0)]=_0x5b34e1(0x21d),_0x4891dc[_0x5b34e1(0x1b5)][_0x5b34e1(0x132)]='-'+_0x10d720+_0x5b34e1(0x1f1),_0x4c35c9['appendChild'](_0x4891dc);}}else{const _0x43b406=(_0x33d09d-_0x2e7bc3)/0x36ee80*GRID_H,_0x565635=(_0xa8f88f-_0x33d09d)/0x36ee80*GRID_H,_0x185014=document[_0x5b34e1(0x1a0)](_0x5b34e1(0x195));_0x185014[_0x5b34e1(0xb0)]=_0x5b34e1(0x220),_0x185014['style']['top']=_0x43b406+'px',_0x185014[_0x5b34e1(0x1b5)][_0x5b34e1(0x116)]=_0x565635+'px',_0x185014[_0x5b34e1(0x1b5)][_0x5b34e1(0x132)]='-'+_0x10d720+_0x5b34e1(0x19e)+_0x43b406+'px',_0x4c35c9[_0x5b34e1(0x12a)](_0x185014);}}});}if(dateExceptions[_0x37524a]==='off'){if(!_0x4c35c9['querySelector'](_0x33ceed(0x133))){const _0xed6f11=document[_0x33ceed(0x1a0)]('div');_0xed6f11['className']='day-off-overlay\x20stripe-bg',_0xed6f11[_0x33ceed(0x1b5)][_0x33ceed(0x132)]='-'+_0x10d720+_0x33ceed(0x1f1),_0x4c35c9[_0x33ceed(0x12a)](_0xed6f11);}}renderEventsForColumn(_0x4c35c9,_0x37524a,_0x177645),updateDayStats(_0x37524a);});}function updateAllDayStats(){const _0x96b35f=a2_0x52000a;document['querySelectorAll'](_0x96b35f(0x196))[_0x96b35f(0x130)](_0xe1d1ab=>{const _0x243fde=_0x96b35f;updateDayStats(_0xe1d1ab[_0x243fde(0x114)](_0x243fde(0x131)));});}function updateDayStats(_0x51d12c){const _0x339a66=a2_0x52000a,_0x2f3bbb=document[_0x339a66(0x120)](_0x339a66(0x178)+_0x51d12c);if(!_0x2f3bbb)return;const _0xf845f3=new Date(_0x51d12c);let _0x2539a5=_0xf845f3[_0x339a66(0x15d)]()-0x1;if(_0x2539a5===-0x1)_0x2539a5=0x6;if(dateExceptions[_0x51d12c]==='off'){_0x2f3bbb[_0x339a66(0x1b5)][_0x339a66(0x219)]=_0x339a66(0x207);return;}const _0x125975=availabilityPattern[_0x2539a5]||[],_0x4c7a3c=0x18-_0x125975[_0x339a66(0x1fd)],_0x320c62=_0x4c7a3c*0x3c,_0x5b3cff=sessions['filter'](_0x41034b=>_0x41034b[_0x339a66(0x10a)]===_0x51d12c&&_0x41034b[_0x339a66(0x212)]!==_0x339a66(0x16e));if(_0x5b3cff[_0x339a66(0x1fd)]===0x0){_0x2f3bbb[_0x339a66(0x1b5)][_0x339a66(0x219)]='none';return;}let _0x580702=_0x5b3cff[_0x339a66(0xbd)](_0x1dfddc=>{const _0x539258=_0x339a66,[_0x24b2e4,_0x54f841]=_0x1dfddc[_0x539258(0x112)]['split'](':')[_0x539258(0xbd)](Number),[_0x426eec,_0x1e589a]=_0x1dfddc[_0x539258(0xcf)][_0x539258(0x115)](':')[_0x539258(0xbd)](Number);return[_0x24b2e4*0x3c+_0x54f841,_0x426eec*0x3c+_0x1e589a];});_0x580702[_0x339a66(0x1ae)]((_0x41d85e,_0x5beaa2)=>_0x41d85e[0x0]-_0x5beaa2[0x0]);let _0x7a08ed=[];if(_0x580702['length']>0x0){let _0x19289d=_0x580702[0x0];for(let _0x3c5ecb=0x1;_0x3c5ecb<_0x580702[_0x339a66(0x1fd)];_0x3c5ecb++){_0x580702[_0x3c5ecb][0x0]<_0x19289d[0x1]?_0x19289d[0x1]=Math['max'](_0x19289d[0x1],_0x580702[_0x3c5ecb][0x1]):(_0x7a08ed[_0x339a66(0x161)](_0x19289d),_0x19289d=_0x580702[_0x3c5ecb]);}_0x7a08ed['push'](_0x19289d);}let _0x6876f7=0x0;_0x7a08ed[_0x339a66(0x130)](_0xe14fec=>_0x6876f7+=_0xe14fec[0x1]-_0xe14fec[0x0]),_0x2f3bbb[_0x339a66(0x1b5)][_0x339a66(0x219)]=_0x339a66(0x1ba);const _0x2b9852=_0x2f3bbb[_0x339a66(0x142)]('.dch-stats-fill');if(_0x320c62===0x0){_0x2b9852[_0x339a66(0x1b5)][_0x339a66(0xbf)]='100%',_0x2b9852[_0x339a66(0x1b5)]['background']='var(--acc-red)';return;}const _0x261503=_0x6876f7/_0x320c62*0x64;console['log']('['+_0x51d12c+_0x339a66(0xe5)+_0x4c7a3c+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x6876f7+_0x339a66(0x117)+_0x261503[_0x339a66(0x14d)](0x1)+'%'),_0x261503>0x64?(_0x2b9852['style'][_0x339a66(0xbf)]='100%',_0x2b9852[_0x339a66(0x1b5)]['background']=_0x339a66(0xd1)):(_0x2b9852[_0x339a66(0x1b5)][_0x339a66(0xbf)]=_0x261503+'%',_0x2b9852[_0x339a66(0x1b5)]['background']=_0x339a66(0x147));}function renderEventsForColumn(_0x2a1ddb,_0x504d3c,_0x3a7cd5){const _0x285841=a2_0x52000a,_0x21ac6c=sessions[_0x285841(0x171)](_0x221fac=>_0x221fac[_0x285841(0x10a)]===_0x504d3c),_0x585036=_0x21ac6c[_0x285841(0xbd)](_0x4c422d=>{const _0x28e431=_0x285841,[_0x353a34,_0x34b214]=_0x4c422d['start']['split'](':')['map'](Number),[_0x31f46d,_0x21acb9]=_0x4c422d[_0x28e431(0xcf)][_0x28e431(0x115)](':')['map'](Number);return{'data':_0x4c422d,'start':_0x353a34*0x3c+_0x34b214,'end':_0x31f46d*0x3c+_0x21acb9,'colIndex':0x0};});_0x585036[_0x285841(0x1ae)]((_0x4bbc2c,_0x337fa3)=>{const _0x2f9702=_0x285841;if(_0x4bbc2c[_0x2f9702(0x112)]!==_0x337fa3[_0x2f9702(0x112)])return _0x4bbc2c['start']-_0x337fa3['start'];return _0x337fa3[_0x2f9702(0xcf)]-_0x337fa3[_0x2f9702(0x112)]-(_0x4bbc2c[_0x2f9702(0xcf)]-_0x4bbc2c[_0x2f9702(0x112)]);});const _0x5eee7d=[];_0x585036[_0x285841(0x130)](_0x1efcfb=>{const _0x481bf2=_0x285841;let _0x100863=![];for(let _0x52c796=0x0;_0x52c796<_0x5eee7d[_0x481bf2(0x1fd)];_0x52c796++){const _0x17c3e0=_0x5eee7d[_0x52c796],_0x390fa0=_0x17c3e0[_0x17c3e0[_0x481bf2(0x1fd)]-0x1];if(_0x1efcfb[_0x481bf2(0x112)]>=_0x390fa0[_0x481bf2(0xcf)]){_0x17c3e0['push'](_0x1efcfb),_0x1efcfb['colIndex']=_0x52c796,_0x100863=!![];break;}}!_0x100863&&(_0x5eee7d['push']([_0x1efcfb]),_0x1efcfb[_0x481bf2(0x223)]=_0x5eee7d[_0x481bf2(0x1fd)]-0x1);}),_0x585036[_0x285841(0x130)](_0x1cd211=>{const _0x6cc9f1=_0x285841;let _0x16351e=0x0;_0x585036[_0x6cc9f1(0x130)](_0xd6846e=>{const _0x20b42b=_0x6cc9f1;if(Math[_0x20b42b(0x20d)](_0x1cd211['start'],_0xd6846e[_0x20b42b(0x112)])<Math[_0x20b42b(0xe0)](_0x1cd211['end'],_0xd6846e[_0x20b42b(0xcf)])){if(_0xd6846e[_0x20b42b(0x223)]>_0x16351e)_0x16351e=_0xd6846e[_0x20b42b(0x223)];}});const _0x4a0c21=_0x16351e+0x1,_0x2b7587=0x64/_0x4a0c21,_0x4c571a=_0x1cd211['colIndex']*_0x2b7587,_0x3e901e=createEventEl(_0x1cd211[_0x6cc9f1(0xc4)]);_0x3e901e[_0x6cc9f1(0x1b5)]['width']=_0x6cc9f1(0x1b0)+_0x2b7587+_0x6cc9f1(0x1e5),_0x3e901e[_0x6cc9f1(0x1b5)][_0x6cc9f1(0x221)]=_0x6cc9f1(0x1b0)+_0x4c571a+_0x6cc9f1(0xcb),_0x3e901e[_0x6cc9f1(0x1b5)][_0x6cc9f1(0x126)]=0xa+_0x1cd211['colIndex'],_0x2b7587<0x55&&_0x3e901e[_0x6cc9f1(0x119)][_0x6cc9f1(0xf2)](_0x6cc9f1(0x209)),_0x2a1ddb[_0x6cc9f1(0x12a)](_0x3e901e);});}function createEventEl(_0x159d7e){const _0x662781=a2_0x52000a,[_0x3ebd5c,_0x4f1e20]=_0x159d7e['start'][_0x662781(0x115)](':')[_0x662781(0xbd)](Number),[_0x49b443,_0xc9a6f5]=_0x159d7e[_0x662781(0xcf)][_0x662781(0x115)](':')[_0x662781(0xbd)](Number),_0x25c843=(_0x3ebd5c*0x3c+_0x4f1e20)/0x3c*GRID_H,_0x5ae9f9=(_0x49b443*0x3c+_0xc9a6f5-(_0x3ebd5c*0x3c+_0x4f1e20))/0x3c*GRID_H,_0x4fe685=document['createElement'](_0x662781(0x195)),_0x53f1a8=_0x159d7e['status']==='completed'?_0x662781(0x18b):'';_0x4fe685['className']='event-card'+_0x53f1a8,_0x4fe685[_0x662781(0x1b5)][_0x662781(0x1bf)]=_0x25c843+'px',_0x4fe685[_0x662781(0x1b5)][_0x662781(0x116)]=Math[_0x662781(0x20d)](_0x5ae9f9,0x14)+'px';const _0x5cd500=clients[_0x662781(0x198)](_0x563edf=>_0x159d7e[_0x662781(0x1af)]&&String(_0x563edf['id'])===String(_0x159d7e[_0x662781(0x1af)])||_0x563edf[_0x662781(0xc0)]===_0x159d7e[_0x662781(0x22a)]),_0x56340d=_0x5cd500?_0x5cd500['color']:'#0a84ff';_0x4fe685[_0x662781(0x1b5)]['borderLeftColor']=_0x56340d,_0x4fe685[_0x662781(0x1b5)][_0x662781(0x1d1)]=hexToRgba(_0x56340d,0.85);let _0x512a9b=_0x662781(0x1ca)+_0x159d7e[_0x662781(0x22a)]+_0x662781(0x146)+_0x159d7e[_0x662781(0x112)]+_0x662781(0x206)+_0x159d7e[_0x662781(0xcf)]+_0x662781(0x20e);return _0x159d7e['seriesId']&&(_0x512a9b+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x159d7e[_0x662781(0x212)]===_0x662781(0x168)&&(_0x512a9b+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x4fe685['innerHTML']=_0x512a9b,_0x4fe685[_0x662781(0xf9)]=_0x19784c=>{_0x19784c['stopPropagation'](),openEdit(_0x159d7e);},_0x4fe685;}function attachLongPressHandler(_0x294879,_0x2992de){const _0xa7459a=a2_0x52000a;let _0x36ec51=0x0,_0x484250=null;const _0x1f52a9=_0x5ca806=>{const _0x1d7332=a2_0x23ae;if(_0x5ca806[_0x1d7332(0x22c)][_0x1d7332(0x20f)](_0x1d7332(0xf3)))return;isScrolling=![],_0x36ec51=_0x5ca806[_0x1d7332(0x135)]?_0x5ca806[_0x1d7332(0x135)][0x0][_0x1d7332(0x155)]:_0x5ca806[_0x1d7332(0x155)],_0x484250=setTimeout(()=>{const _0x4a9b02=_0x1d7332;if(!isScrolling){navigator[_0x4a9b02(0x228)]?.(0x32);const _0x4de444=_0x294879[_0x4a9b02(0xb2)](),_0x29ab67=Math[_0x4a9b02(0x166)]((_0x36ec51-_0x4de444[_0x4a9b02(0x1bf)])/GRID_H);_0x2992de[_0x4a9b02(0xe3)](_0x29ab67,0x0),openAddSession(_0x2992de);}},0x1f4);},_0x1aae5e=()=>{isScrolling=!![],clearTimeout(_0x484250);},_0x5166ff=()=>{clearTimeout(_0x484250);};_0x294879[_0xa7459a(0xb7)](_0xa7459a(0x140),_0x1f52a9,{'passive':!![]}),_0x294879[_0xa7459a(0xb7)](_0xa7459a(0x141),_0x1aae5e,{'passive':!![]}),_0x294879['addEventListener'](_0xa7459a(0x1b9),_0x5166ff),_0x294879[_0xa7459a(0xb7)](_0xa7459a(0x13a),_0x1f52a9),_0x294879[_0xa7459a(0xb7)]('mousemove',_0x1aae5e),_0x294879[_0xa7459a(0xb7)](_0xa7459a(0x1cd),_0x5166ff);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5e33f0=a2_0x52000a,_0xa46ef6=document['getElementById'](_0x5e33f0(0xcc)),_0x58c8ad=_0xa46ef6[_0x5e33f0(0x164)],_0x4e7918=_0xa46ef6[_0x5e33f0(0x105)],_0x48eb30=_0xa46ef6[_0x5e33f0(0x22e)];if(_0x4e7918-(_0x58c8ad+_0x48eb30)<0x12c){const _0x478c32=endOffset;endOffset+=0xe,renderDayRange(_0x478c32+0x1,endOffset),reRenderBlocks();}if(_0x58c8ad<0x12c){const _0x25fd58=startOffset;startOffset-=0xe,prependDays(startOffset,_0x25fd58-0x1),_0xa46ef6['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0xc1c5ae,_0x5d19ba){const _0x23f7e0=a2_0x52000a,_0x2780db=document['getElementById'](_0x23f7e0(0x14c)),_0x5e5e12=document[_0x23f7e0(0x120)](_0x23f7e0(0x163)),_0x1a3fa2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1b3c4c=new Date();_0x1b3c4c[_0x23f7e0(0xe3)](0x0,0x0,0x0,0x0);const _0x4b86f0=getLocalDateStr(new Date()),_0x362506=document['createDocumentFragment'](),_0x329a8f=document[_0x23f7e0(0x152)]();for(let _0x230809=_0xc1c5ae;_0x230809<=_0x5d19ba;_0x230809++){const _0x2ab362=new Date(_0x1b3c4c);_0x2ab362[_0x23f7e0(0x15a)](_0x2ab362[_0x23f7e0(0x21e)]()+_0x230809);const _0x3150c4=getLocalDateStr(_0x2ab362);let _0x4021a8=_0x2ab362[_0x23f7e0(0x15d)]()-0x1;if(_0x4021a8===-0x1)_0x4021a8=0x6;const _0x15860b=_0x3150c4===_0x4b86f0,_0x41cebb=document[_0x23f7e0(0x1a0)](_0x23f7e0(0x195));_0x41cebb[_0x23f7e0(0xb0)]='day-col-header\x20'+(_0x15860b?_0x23f7e0(0xf4):''),_0x41cebb['id']=_0x23f7e0(0xd6)+_0x3150c4,_0x41cebb['setAttribute']('data-date',_0x3150c4),_0x41cebb['innerHTML']=_0x23f7e0(0x12e)+_0x1a3fa2[_0x4021a8]+_0x23f7e0(0x184)+_0x2ab362[_0x23f7e0(0x21e)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x3150c4+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x41cebb[_0x23f7e0(0xf9)]=()=>openDayOptions(_0x3150c4,_0x1a3fa2[_0x4021a8]+'\x20'+_0x2ab362[_0x23f7e0(0x21e)]()),_0x362506[_0x23f7e0(0x12a)](_0x41cebb);const _0x8a79bc=document[_0x23f7e0(0x1a0)](_0x23f7e0(0x195));_0x8a79bc[_0x23f7e0(0xb0)]=_0x23f7e0(0x180)+(_0x15860b?_0x23f7e0(0xf4):''),_0x8a79bc[_0x23f7e0(0x1d7)]('data-date',_0x3150c4),_0x8a79bc[_0x23f7e0(0x1d7)](_0x23f7e0(0x1fa),_0x4021a8),renderEventsForColumn(_0x8a79bc,_0x3150c4,_0x4021a8),attachLongPressHandler(_0x8a79bc,_0x2ab362),_0x329a8f[_0x23f7e0(0x12a)](_0x8a79bc),updateDayStats(_0x3150c4);}_0x2780db[_0x23f7e0(0x1da)](_0x362506,_0x2780db[_0x23f7e0(0xd4)]),_0x5e5e12[_0x23f7e0(0x1da)](_0x329a8f,_0x5e5e12[_0x23f7e0(0x142)](_0x23f7e0(0xd9)));}function validateAppointment(_0x4ab57,_0x19c0c8,_0x384685,_0x45556d,_0x16ba2f){const _0x2892d6=a2_0x52000a,[_0x4966e8,_0x31ea5b]=_0x19c0c8['split'](':')[_0x2892d6(0xbd)](Number),[_0xf55da,_0x20a2cf]=_0x384685['split'](':')['map'](Number),_0x3b0c07=_0x4966e8*0x3c+_0x31ea5b,_0x2d3d26=_0xf55da*0x3c+_0x20a2cf,_0x3068b6=String(_0x16ba2f);let _0x2da7c2=![],_0x3721a8='';for(let _0x3d1589 of sessions){if(_0x3d1589[_0x2892d6(0x10a)]!==_0x4ab57)continue;if(_0x3d1589[_0x2892d6(0x212)]==='cancelled')continue;if(_0x45556d&&String(_0x3d1589['id'])===String(_0x45556d))continue;const [_0x2bf19b,_0x2d1d32]=_0x3d1589[_0x2892d6(0x112)][_0x2892d6(0x115)](':')[_0x2892d6(0xbd)](Number),[_0x4f11fc,_0x45aae3]=_0x3d1589[_0x2892d6(0xcf)][_0x2892d6(0x115)](':')[_0x2892d6(0xbd)](Number),_0x1f1244=_0x2bf19b*0x3c+_0x2d1d32,_0xa6efbd=_0x4f11fc*0x3c+_0x45aae3;if(Math[_0x2892d6(0x20d)](_0x3b0c07,_0x1f1244)<Math[_0x2892d6(0xe0)](_0x2d3d26,_0xa6efbd)){if(_0x3d1589[_0x2892d6(0x1af)]&&String(_0x3d1589[_0x2892d6(0x1af)])===_0x3068b6)return{'valid':![],'msg':_0x2892d6(0xb9)+_0x3d1589[_0x2892d6(0x22a)]+_0x2892d6(0xd7)};_0x2da7c2=!![],_0x3721a8=_0x3d1589['client'];}}if(_0x2da7c2)return{'valid':!![],'warning':_0x2892d6(0x22d)+_0x3721a8};return{'valid':!![]};}function updateDateDisplay(){const _0x4ae7a4=a2_0x52000a,_0x8b83ea=document[_0x4ae7a4(0x120)](_0x4ae7a4(0x17c))[_0x4ae7a4(0x1f9)],_0xde7fc6=document['getElementById'](_0x4ae7a4(0x19f));if(!_0x8b83ea){_0xde7fc6[_0x4ae7a4(0x15f)]='';return;}const [_0x41efaf,_0x5a8188,_0x47e749]=_0x8b83ea[_0x4ae7a4(0x115)]('-')[_0x4ae7a4(0xbd)](Number),_0x15945a=new Date(_0x41efaf,_0x5a8188-0x1,_0x47e749),_0x2d3ae1={'weekday':_0x4ae7a4(0x1dc),'day':'numeric','month':_0x4ae7a4(0x1dc),'year':'numeric'};let _0x254a91=_0x15945a[_0x4ae7a4(0xc1)]('ru-RU',_0x2d3ae1);_0x254a91=_0x254a91[_0x4ae7a4(0x160)](0x0)[_0x4ae7a4(0x16c)]()+_0x254a91[_0x4ae7a4(0x11c)](0x1),_0xde7fc6[_0x4ae7a4(0x15f)]=_0x254a91;}function autoSetEndTime(){const _0x5c9e57=a2_0x52000a,_0x10ebc8=document[_0x5c9e57(0x120)](_0x5c9e57(0x14a))[_0x5c9e57(0x1f9)];if(!_0x10ebc8)return;const [_0x1298c7,_0x37a889]=_0x10ebc8['split'](':')[_0x5c9e57(0xbd)](Number);let _0x20e873=_0x1298c7+0x1;if(_0x20e873>0x17)_0x20e873=0x0;const _0x521b93=String(_0x20e873)[_0x5c9e57(0x205)](0x2,'0')+':'+String(_0x37a889)[_0x5c9e57(0x205)](0x2,'0');document[_0x5c9e57(0x120)]('inpEnd')['value']=_0x521b93;}function populateClientSelect(){const _0x28d392=a2_0x52000a,_0x3ce922=document[_0x28d392(0x120)](_0x28d392(0x192));_0x3ce922[_0x28d392(0x222)]='';if(clients[_0x28d392(0x1fd)]===0x0){const _0x3fd453=document[_0x28d392(0x1a0)](_0x28d392(0x1a4));_0x3fd453[_0x28d392(0x154)]=_0x28d392(0x111),_0x3ce922[_0x28d392(0x12a)](_0x3fd453);return;}clients['forEach'](_0x21632b=>{const _0x2a06ce=_0x28d392,_0x3b4758=document['createElement'](_0x2a06ce(0x1a4));_0x3b4758[_0x2a06ce(0x1f9)]=_0x21632b['name'],_0x3b4758[_0x2a06ce(0x15f)]=_0x21632b[_0x2a06ce(0xc0)],_0x3ce922[_0x2a06ce(0x12a)](_0x3b4758);});}function openActionSheet(_0x322761){const _0x278d5c=a2_0x52000a,_0x475e6a=document['getElementById']('actionSheet'),_0x4c738b=document[_0x278d5c(0x120)](_0x278d5c(0x1d4)),_0x25c90a=document[_0x278d5c(0x120)](_0x278d5c(0x162)),_0x2ac18b=document[_0x278d5c(0x120)](_0x278d5c(0x12d)),_0x5a450f=document['getElementById']('asBtnSeries');_0x4c738b[_0x278d5c(0x119)][_0x278d5c(0xf2)](_0x278d5c(0x1f6)),_0x475e6a[_0x278d5c(0x119)][_0x278d5c(0xf2)](_0x278d5c(0xeb));if(_0x322761===_0x278d5c(0x1b8))_0x25c90a[_0x278d5c(0x15f)]=_0x278d5c(0x1e8),_0x2ac18b['textContent']=_0x278d5c(0xc8),_0x2ac18b[_0x278d5c(0xf9)]=()=>{const _0x258653=_0x278d5c;closeActionSheet(),updateSeriesBatch(_0x258653(0xe4),tempSessionData);},_0x5a450f[_0x278d5c(0x15f)]=_0x278d5c(0x1bc),_0x5a450f[_0x278d5c(0xf9)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x322761===_0x278d5c(0x233)&&(_0x25c90a[_0x278d5c(0x15f)]=_0x278d5c(0x187),_0x2ac18b[_0x278d5c(0x15f)]=_0x278d5c(0xc8),_0x2ac18b[_0x278d5c(0xb0)]=_0x278d5c(0x13b),_0x2ac18b['onclick']=()=>{const _0x33c1d4=_0x278d5c;closeActionSheet(),commitDelete('single',sessions[_0x33c1d4(0x198)](_0x43636d=>_0x43636d['id']===editingId));},_0x5a450f[_0x278d5c(0x15f)]=_0x278d5c(0x1bc),_0x5a450f[_0x278d5c(0xb0)]=_0x278d5c(0x122),_0x5a450f['onclick']=()=>{const _0x2fdf12=_0x278d5c;closeActionSheet(),commitDelete(_0x2fdf12(0x159),sessions[_0x2fdf12(0x198)](_0x314fd4=>_0x314fd4['id']===editingId));});}function closeActionSheet(){const _0x3537a1=a2_0x52000a;document['getElementById'](_0x3537a1(0x1d5))[_0x3537a1(0x119)][_0x3537a1(0xf5)](_0x3537a1(0xeb)),document[_0x3537a1(0x120)]('actionSheetOverlay')[_0x3537a1(0x119)][_0x3537a1(0xf5)](_0x3537a1(0x1f6));}function openSettings(){const _0x3d6f95=a2_0x52000a;openSheet(_0x3d6f95(0xca));}function saveCoachSettings(){const _0x4a8c97=a2_0x52000a,_0x2a0a19=document[_0x4a8c97(0x120)]('settingCancelWindow')['value'];localStorage[_0x4a8c97(0x156)]('uc_settings_cancel_window',_0x2a0a19),console[_0x4a8c97(0xdc)](_0x4a8c97(0xfd),_0x2a0a19),DataManager[_0x4a8c97(0xf1)]('save_settings',{'settings':{'cancel_window':_0x2a0a19}})[_0x4a8c97(0x1f3)](_0x22f536=>{const _0x379c57=_0x4a8c97;console[_0x379c57(0xdf)](_0x379c57(0x14f),_0x22f536),showToast(_0x379c57(0x19a),![]);});}function loadCoachSettings(){const _0x41f7cb=a2_0x52000a,_0x25b438=localStorage[_0x41f7cb(0x214)](_0x41f7cb(0x150));_0x25b438&&(document['getElementById'](_0x41f7cb(0x203))['value']=_0x25b438);}function openRangesSheet(){const _0x50aff3=a2_0x52000a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x50aff3(0x11a));}function addRange(){const _0x143453=a2_0x52000a,_0x2a26b3=document['getElementById'](_0x143453(0x1ef))['value'],_0x3ae8fb=document[_0x143453(0x120)](_0x143453(0x1a8))[_0x143453(0x1f9)],_0x483951=document[_0x143453(0x120)](_0x143453(0xbc))['value'],_0x101324=document[_0x143453(0x120)](_0x143453(0x18e))[_0x143453(0x1f9)];if(!_0x2a26b3||!_0x3ae8fb||!_0x483951||!_0x101324)return alert(_0x143453(0x148));const _0x1c972f=_0x2a26b3+'T'+_0x3ae8fb,_0x5793b4=_0x483951+'T'+_0x101324;if(_0x1c972f>=_0x5793b4)return alert(_0x143453(0x20a));specialRanges[_0x143453(0x161)]({'start':_0x1c972f,'end':_0x5793b4}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2778d7){const _0x369ff1=a2_0x52000a;specialRanges['splice'](_0x2778d7,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x369ff1(0xde)](),DataManager[_0x369ff1(0xf1)](_0x369ff1(0x1c7),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5977d5=a2_0x52000a;document[_0x5977d5(0x120)]('rangeStartDate')['value']='',document['getElementById'](_0x5977d5(0x1a8))[_0x5977d5(0x1f9)]=_0x5977d5(0x103),document[_0x5977d5(0x120)]('rangeEndDate')[_0x5977d5(0x1f9)]='',document['getElementById'](_0x5977d5(0x18e))[_0x5977d5(0x1f9)]=_0x5977d5(0x183);}function renderRangesList(){const _0x54adc4=a2_0x52000a,_0x34f2a5=document['getElementById'](_0x54adc4(0x185));_0x34f2a5[_0x54adc4(0x222)]='';if(!specialRanges[_0x54adc4(0x1fd)]){_0x34f2a5[_0x54adc4(0x222)]=_0x54adc4(0x1a9);return;}specialRanges['forEach']((_0x50302f,_0x3ede9f)=>{const _0x5e812f=_0x54adc4,_0x3acdc6=document[_0x5e812f(0x1a0)](_0x5e812f(0x195));_0x3acdc6[_0x5e812f(0xb0)]='range-item';const _0x569864=_0x4536af=>{const _0x1c4a85=_0x5e812f,_0x20758f=new Date(_0x4536af);return _0x20758f[_0x1c4a85(0x21e)]()+'.'+String(_0x20758f[_0x1c4a85(0xe2)]()+0x1)[_0x1c4a85(0x205)](0x2,'0')+'\x20'+String(_0x20758f[_0x1c4a85(0x215)]())[_0x1c4a85(0x205)](0x2,'0')+':'+String(_0x20758f[_0x1c4a85(0x218)]())[_0x1c4a85(0x205)](0x2,'0');};_0x3acdc6[_0x5e812f(0x222)]=_0x5e812f(0x17a)+_0x569864(_0x50302f[_0x5e812f(0x112)])+_0x5e812f(0x232)+_0x569864(_0x50302f[_0x5e812f(0xcf)])+_0x5e812f(0xe7)+_0x3ede9f+_0x5e812f(0xed),_0x34f2a5['appendChild'](_0x3acdc6);});}function scrollToToday(){const _0x4c5b07=a2_0x52000a,_0x5167f1=getLocalDateStr(new Date()),_0x4f5be5=document['getElementById'](_0x4c5b07(0xd6)+_0x5167f1),_0x361300=document['getElementById'](_0x4c5b07(0xcc));if(_0x4f5be5&&_0x361300){const _0x405b54=_0x361300[_0x4c5b07(0x22e)],_0x3652c5=_0x4f5be5[_0x4c5b07(0x11f)],_0x1972ae=_0x4f5be5[_0x4c5b07(0x13d)];_0x361300['scrollLeft']=_0x3652c5-_0x405b54/0x2+_0x1972ae/0x2,_0x361300[_0x4c5b07(0x20b)]=0x9*GRID_H;}}function onScroll(){const _0x287a6b=a2_0x52000a,_0x2c554c=document[_0x287a6b(0x120)]('matrixViewport'),_0x1c2e93=document[_0x287a6b(0x10f)]('.day-col-header');for(let _0x479b72 of _0x1c2e93)if(_0x479b72[_0x287a6b(0x11f)]>=_0x2c554c[_0x287a6b(0x164)]){const _0x1a3280=new Date(_0x479b72['getAttribute'](_0x287a6b(0x131)));document['getElementById'](_0x287a6b(0x17d))[_0x287a6b(0x15f)]=_0x1a3280['toLocaleString']('ru',{'month':_0x287a6b(0x1dc)})['toUpperCase']()+'\x20'+_0x1a3280['getFullYear']();break;}}function showToast(_0x5bb51f,_0x56561a=![]){const _0x231ea0=a2_0x52000a,_0x425169=document[_0x231ea0(0x120)]('toast');_0x425169[_0x231ea0(0xb0)]='toast-notification\x20'+(_0x56561a?_0x231ea0(0x181):''),document[_0x231ea0(0x120)](_0x231ea0(0x1ed))[_0x231ea0(0x15f)]=_0x56561a?'–£—Å–ø–µ—à–Ω–æ':_0x231ea0(0xb4),document[_0x231ea0(0x120)](_0x231ea0(0x22b))[_0x231ea0(0x15f)]=_0x5bb51f,_0x425169[_0x231ea0(0x119)][_0x231ea0(0xf2)]('show'),setTimeout(()=>{const _0x1ad4ea=_0x231ea0;_0x425169[_0x1ad4ea(0x119)]['remove']('show');},0xbb8);}function openDayOptions(_0x1d253a,_0x37a82b){const _0x278298=a2_0x52000a;selectedDayForOptions=_0x1d253a,document[_0x278298(0x120)](_0x278298(0xd0))['textContent']=_0x37a82b,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x4a0ce3=a2_0x52000a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x4a0ce3(0x19c),reRenderBlocks(),closeAllSheets(),DataManager[_0x4a0ce3(0xde)](),DataManager[_0x4a0ce3(0xf1)](_0x4a0ce3(0x1c7),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4f34c1=a2_0x52000a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4f34c1(0xde)](),DataManager[_0x4f34c1(0xf1)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x52c394){const _0x272fd9=a2_0x52000a;document[_0x272fd9(0x120)](_0x272fd9(0xce))['classList'][_0x272fd9(0xf2)](_0x272fd9(0x1f6)),document['getElementById'](_0x52c394)['classList'][_0x272fd9(0xf2)](_0x272fd9(0xeb));}function closeAllSheets(){const _0x27efff=a2_0x52000a;document['getElementById']('overlay')['classList']['remove'](_0x27efff(0x1f6)),document[_0x27efff(0x10f)](_0x27efff(0x227))[_0x27efff(0x130)](_0x1638f5=>_0x1638f5[_0x27efff(0x119)][_0x27efff(0xf5)](_0x27efff(0xeb)));}function openPatternEditor(){const _0x5a436a=a2_0x52000a;closeAllSheets(),document[_0x5a436a(0x120)](_0x5a436a(0x1cb))[_0x5a436a(0x119)][_0x5a436a(0xf2)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x2f74e2=a2_0x52000a;document['getElementById'](_0x2f74e2(0x1cb))['classList']['remove'](_0x2f74e2(0xeb));}function savePattern(){const _0x24ee82=a2_0x52000a;document[_0x24ee82(0x120)](_0x24ee82(0x1cb))[_0x24ee82(0x119)][_0x24ee82(0xf5)](_0x24ee82(0xeb)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x24ee82(0xf1)](_0x24ee82(0x1c7),{'settings':{'pattern':availabilityPattern}});}function a2_0x327d(){const _0x22f8f2=['msg','00:00','now','scrollWidth','anDonutCircle','client-stat-card','doBusyHours','10px\x2010px\x200\x200','dateStr','POST','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','stringify','querySelectorAll','setBackgroundColor','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','start','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','getAttribute','split','height','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','398HaFfAU','classList','rangesSheet','pattern','slice','note','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','offsetLeft','getElementById','seriesCountContainer','as-button\x20danger\x20bold','from','color','dayOptionsSheet','zIndex','ru-RU','ranges','.pib-text','appendChild','syncBatch','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','asBtnOne','<div\x20class=\x22dch-day\x22>','[Notify]\x20Error:\x20Text\x20generation\x20failed','forEach','data-date','backgroundPosition','.day-off-overlay','text/plain;charset=UTF-8','touches','user','inpRecurring','search','patternInfoBox','mousedown','as-button\x20danger','rgba(255,\x2069,\x2058,\x200.3)','offsetWidth','87OZFAHi','\x20–∏–∑\x20','touchstart','touchmove','querySelector','random','getFullYear','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','</div><div\x20class=\x22ev-time\x22>','var(--acc-current)','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','inpStart','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','daysHeaderTrack','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Save\x20settings\x20error:','uc_settings_cancel_window','seriesId','createDocumentFragment','href','text','clientY','setItem','80862JXFjPM','2337928PdhQXf','series','setDate','exceptions','doDateHeader','getDay','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','textContent','charAt','push','asTitle','gridColumns','scrollLeft','warn','floor','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','completed','update','[Notify]\x20Client\x20SWAP\x20detected','analyticsSheet','toUpperCase','parse','cancelled','Telegram','cancel','filter','sessionSheet','[Notify]\x20Network\x20Failed','inpSeriesCount','localeCompare','settings','T23:59:59','stat-','v9.0-BATCH-CALENDAR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','anEnd','inpDate','headerMonth','scroll','create','day-column\x20','success','doLoadPercent','23:59','</div><div\x20class=\x22dch-num\x22>','rangesList','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–£–¥–∞–ª–µ–Ω–∏–µ','mergeServerData','pe-col-header','uc_clients_v9','\x20status-completed','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','rangeEndTime','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','rgba(','anPercent','inpClient','doEventsList','Error\x20setting\x20back\x20button:','div','.day-col-header','complete','find','initData','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','peGrid','off','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','px\x20-','sheetDateSubtitle','createElement','5429400WMWWmM','(((.+)+)+)+$','var(--acc-green)','option','200700zqtbBG','312260ETXRbS','indexOf','rangeStartTime','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>',':\x20Client\x20already\x20booked','day-col-header\x20','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','sort','clientId','calc(','doWorkHours',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','timeLineBadge','[Notify]\x20Detected\x20Client\x20ID:','style','BackButton','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','save','touchend','flex','btn-status-toggle','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','top','WebApp','\x20days','18cAWpIK','disableVerticalSwipes','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','setMonth','[Sync]\x20Loading\x20','save_settings','#050505','onClick','<div\x20class=\x22ev-title\x22>','patternEditor','</b>\x0a\x0a','mouseup','time-label','Local\x20Load\x20Error','done','backgroundColor','anStart','pe-corner','actionSheetOverlay','actionSheet','router.html','setAttribute','syncLoad','expand','insertBefore','constructor','long','sheetTitle','cancel_window','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getText','borderLeftColor','analyticsList','[Notify]\x20Server\x20Response:','send_notification','%\x20-\x204px)','init_load','[Notify]\x20Error:\x20sessionData\x20is\x20null','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','DOMContentLoaded','globalTimeLine','toastTitle','[API\x20','rangeStartDate','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','px\x200px','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','catch','startsWith','Batch\x20Sync\x20OK','active','undefined','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','value','data-day-idx','anTotalStats','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','length','rgba(48,\x20209,\x2088,\x200.15)',':00','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','[Series]\x20Skipped\x20','borderColor','settingCancelWindow','month','padStart','\x20-\x20','none','<b>‚úÖ\x20','mini','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','scrollTop','inpEnd','max','</div>','closest','valid','506bxBTSv','status','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','getItem','getHours','btnDelete','rgba(100,100,100,0.5)','getMinutes','display','blocked-slot\x20stripe-bg','planned','toString','day-off-overlay\x20stripe-bg','getDate','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','blocked-range-part\x20stripe-bg','left','innerHTML','colIndex','send','819RNZjVM','custom','.sheet','vibrate','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','client','toastMessage','target','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','clientWidth','</span>\x20/\x20','pe-time-label','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','\x20‚Äî\x20','delete','statLoadCard','className','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','getBoundingClientRect','initDataUnsafe','–ò–Ω—Ñ–æ','3120trMSzt','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','addEventListener','checked','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','stopPropagation','anCustomDates','rangeEndDate','map','json','width','name','toLocaleDateString','3260yqSUHe','then','data','256980vqbTgJ','guest','clients','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','formatDate','settingsSheet','%\x20+\x202px)','matrixViewport','ready','overlay','end','dayOptionsTitle','var(--acc-red)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpNote','firstChild','background','header-',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','.day-column','apply','warning','log',':00</span>','saveLocally','error','min','setHeaderColor','getMonth','setHours','single',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','includes','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','.period-switch\x20.p-btn','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','calendar','open','var(--acc-orange)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','Server\x20Error','#fff','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','fetchFromServer','add','.event-card','today','remove','numeric','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','round','onclick','getTime','block','T00:00:00','[Settings]\x20Cancel\x20window\x20set\x20to:','total',']\x20Failed:','recurringOptionContainer','show'];a2_0x327d=function(){return _0x22f8f2;};return a2_0x327d();}function renderPatternEditor(){const _0x23cc98=a2_0x52000a,_0x4a81d1=document[_0x23cc98(0x120)](_0x23cc98(0x19b));_0x4a81d1[_0x23cc98(0x222)]='';const _0x5d866a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x66cdb5=document[_0x23cc98(0x1a0)](_0x23cc98(0x195));_0x66cdb5[_0x23cc98(0xb0)]=_0x23cc98(0x1d3),_0x4a81d1['appendChild'](_0x66cdb5),_0x5d866a[_0x23cc98(0x130)]((_0x46756b,_0x1a89f2)=>{const _0x1e13fc=_0x23cc98,_0x3fe032=document[_0x1e13fc(0x1a0)](_0x1e13fc(0x195));_0x3fe032[_0x1e13fc(0xb0)]=_0x1e13fc(0x189),_0x3fe032[_0x1e13fc(0x222)]=_0x46756b+_0x1e13fc(0x1fc),_0x3fe032[_0x1e13fc(0xf9)]=()=>toggleColPattern(_0x1a89f2),_0x4a81d1[_0x1e13fc(0x12a)](_0x3fe032);});for(let _0x15e556=0x0;_0x15e556<0x18;_0x15e556++){const _0x24130f=document['createElement']('div');_0x24130f[_0x23cc98(0xb0)]=_0x23cc98(0x230),_0x24130f[_0x23cc98(0x222)]=_0x23cc98(0xb1)+String(_0x15e556)['padStart'](0x2,'0')+_0x23cc98(0x1ff),_0x24130f[_0x23cc98(0xf9)]=()=>toggleRowPattern(_0x15e556),_0x4a81d1[_0x23cc98(0x12a)](_0x24130f);for(let _0x2873b7=0x0;_0x2873b7<0x7;_0x2873b7++){const _0x3c4474=document[_0x23cc98(0x1a0)](_0x23cc98(0x195)),_0x535ef7=(availabilityPattern[_0x2873b7]||[])[_0x23cc98(0xe6)](_0x15e556),_0x2be535=!_0x535ef7;_0x3c4474[_0x23cc98(0xb0)]='pe-cell\x20'+(_0x2be535?'active':''),_0x3c4474['onclick']=()=>toggleSinglePattern(_0x2873b7,_0x15e556),_0x4a81d1[_0x23cc98(0x12a)](_0x3c4474);}}}function toggleSinglePattern(_0x586a05,_0x5ef7b6){const _0x3df896=a2_0x52000a;if(!availabilityPattern[_0x586a05])availabilityPattern[_0x586a05]=[];const _0x2624f4=availabilityPattern[_0x586a05],_0x170ad4=_0x2624f4[_0x3df896(0x1a7)](_0x5ef7b6);_0x170ad4===-0x1?_0x2624f4[_0x3df896(0x161)](_0x5ef7b6):_0x2624f4['splice'](_0x170ad4,0x1),renderPatternEditor();}function toggleColPattern(_0x14b2dd){const _0x350e08=a2_0x52000a;if(!availabilityPattern[_0x14b2dd])availabilityPattern[_0x14b2dd]=[];const _0x529b7e=availabilityPattern[_0x14b2dd];_0x529b7e[_0x350e08(0x1fd)]===0x0?availabilityPattern[_0x14b2dd]=Array[_0x350e08(0x123)]({'length':0x18},(_0xdfcb6b,_0x3d210a)=>_0x3d210a):availabilityPattern[_0x14b2dd]=[],renderPatternEditor();}function toggleRowPattern(_0x107b32){const _0x54db7c=a2_0x52000a;let _0x22836b=!![];for(let _0x4e9cdf=0x0;_0x4e9cdf<0x7;_0x4e9cdf++){if((availabilityPattern[_0x4e9cdf]||[])[_0x54db7c(0xe6)](_0x107b32)){_0x22836b=![];break;}}for(let _0x588622=0x0;_0x588622<0x7;_0x588622++){if(!availabilityPattern[_0x588622])availabilityPattern[_0x588622]=[];const _0x52040c=availabilityPattern[_0x588622][_0x54db7c(0x1a7)](_0x107b32);if(_0x22836b){if(_0x52040c===-0x1)availabilityPattern[_0x588622][_0x54db7c(0x161)](_0x107b32);}else{if(_0x52040c!==-0x1)availabilityPattern[_0x588622]['splice'](_0x52040c,0x1);}}renderPatternEditor();}function renderPCol(_0x398222,_0x5a45bd){const _0x141e58=a2_0x52000a;_0x398222[_0x141e58(0x222)]='';const _0xc0f7ae=Math[_0x141e58(0xf8)](_0x398222[_0x141e58(0x11f)]);(availabilityPattern[_0x5a45bd]||[])[_0x141e58(0x130)](_0x56cca1=>{const _0x5f4cff=_0x141e58,_0x55f627=document[_0x5f4cff(0x1a0)](_0x5f4cff(0x195));_0x55f627[_0x5f4cff(0xb0)]=_0x5f4cff(0x21a);const _0x300067=_0x56cca1*GRID_H;_0x55f627['style'][_0x5f4cff(0x1bf)]=_0x300067+'px',_0x55f627[_0x5f4cff(0x1b5)][_0x5f4cff(0x132)]='-'+_0xc0f7ae+_0x5f4cff(0x19e)+_0x300067+'px',_0x55f627['onclick']=_0x27784a=>{const _0x348f10=_0x5f4cff;_0x27784a[_0x348f10(0xba)](),toggleSinglePattern(_0x5a45bd,_0x56cca1);},_0x398222[_0x5f4cff(0x12a)](_0x55f627);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x39ddc6=a2_0x52000a,_0x4ae5ad=new Date(),_0x757d94=document[_0x39ddc6(0x120)](_0x39ddc6(0x1ec)),_0x32d947=document[_0x39ddc6(0x120)](_0x39ddc6(0x1b3)),_0x14bfc5=(_0x4ae5ad[_0x39ddc6(0x215)]()*0x3c+_0x4ae5ad[_0x39ddc6(0x218)]())/0x3c*GRID_H;_0x757d94[_0x39ddc6(0x1b5)]['top']=_0x14bfc5+'px',_0x757d94['style'][_0x39ddc6(0x219)]='block',_0x32d947[_0x39ddc6(0x15f)]=String(_0x4ae5ad[_0x39ddc6(0x215)]())[_0x39ddc6(0x205)](0x2,'0')+':'+String(_0x4ae5ad['getMinutes']())[_0x39ddc6(0x205)](0x2,'0'),_0x32d947[_0x39ddc6(0x1b5)][_0x39ddc6(0x219)]=_0x39ddc6(0xfb),_0x32d947[_0x39ddc6(0x1b5)]['top']=_0x14bfc5+'px';}document[a2_0x52000a(0xb7)](a2_0x52000a(0x1eb),init);function openDayOptions(_0x507ed7){const _0x17090b=a2_0x52000a;selectedDayForOptions=_0x507ed7;const _0x5303d5=new Date(_0x507ed7),_0x3cd032={'weekday':_0x17090b(0x1dc),'day':_0x17090b(0xf6),'month':_0x17090b(0x1dc),'year':_0x17090b(0xf6)},_0x44b7af=_0x5303d5[_0x17090b(0xc1)](_0x17090b(0x127),_0x3cd032);document['getElementById'](_0x17090b(0x15c))[_0x17090b(0x15f)]=_0x44b7af['charAt'](0x0)[_0x17090b(0x16c)]()+_0x44b7af['slice'](0x1);let _0x361191=_0x5303d5['getDay']()-0x1;if(_0x361191===-0x1)_0x361191=0x6;const _0x3c340e=availabilityPattern[_0x361191]||[],_0x40822b=0x18-_0x3c340e[_0x17090b(0x1fd)],_0x1ab1f7=_0x40822b*0x3c,_0xec29d6=sessions[_0x17090b(0x171)](_0x8f4ba1=>_0x8f4ba1['dateStr']===_0x507ed7&&_0x8f4ba1[_0x17090b(0x212)]!==_0x17090b(0x16e));let _0x22bf15=_0xec29d6['map'](_0x42ff24=>{const _0x45370a=_0x17090b,[_0x33e2bc,_0x57bf94]=_0x42ff24['start']['split'](':')[_0x45370a(0xbd)](Number),[_0x687336,_0x39d386]=_0x42ff24[_0x45370a(0xcf)][_0x45370a(0x115)](':')['map'](Number);return[_0x33e2bc*0x3c+_0x57bf94,_0x687336*0x3c+_0x39d386];});_0x22bf15[_0x17090b(0x1ae)]((_0x3eceeb,_0xd39f0d)=>_0x3eceeb[0x0]-_0xd39f0d[0x0]);let _0x381788=[];if(_0x22bf15['length']>0x0){let _0x3a7ec1=_0x22bf15[0x0];for(let _0x3c52f7=0x1;_0x3c52f7<_0x22bf15[_0x17090b(0x1fd)];_0x3c52f7++){_0x22bf15[_0x3c52f7][0x0]<_0x3a7ec1[0x1]?_0x3a7ec1[0x1]=Math[_0x17090b(0x20d)](_0x3a7ec1[0x1],_0x22bf15[_0x3c52f7][0x1]):(_0x381788[_0x17090b(0x161)](_0x3a7ec1),_0x3a7ec1=_0x22bf15[_0x3c52f7]);}_0x381788[_0x17090b(0x161)](_0x3a7ec1);}let _0x30e4cf=0x0;_0x381788['forEach'](_0x180747=>_0x30e4cf+=_0x180747[0x1]-_0x180747[0x0]),document[_0x17090b(0x120)](_0x17090b(0x1b1))[_0x17090b(0x15f)]=formatMinsToHrs(_0x1ab1f7),document[_0x17090b(0x120)](_0x17090b(0x108))[_0x17090b(0x15f)]=formatMinsToHrs(_0x30e4cf);const _0x3ed632=_0x1ab1f7>0x0?Math[_0x17090b(0xf8)](_0x30e4cf/_0x1ab1f7*0x64):0x0,_0x543e95=document['getElementById'](_0x17090b(0x182));_0x543e95[_0x17090b(0x15f)]=_0x3ed632+'%';const _0x346bf0=document[_0x17090b(0x120)](_0x17090b(0xaf));if(_0x3ed632>0x64)_0x543e95[_0x17090b(0x1b5)][_0x17090b(0x124)]=_0x17090b(0xd1),_0x346bf0[_0x17090b(0x1b5)][_0x17090b(0x202)]=_0x17090b(0x13c);else _0x3ed632>0x50?(_0x543e95['style'][_0x17090b(0x124)]=_0x17090b(0xec),_0x346bf0['style'][_0x17090b(0x202)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x543e95[_0x17090b(0x1b5)][_0x17090b(0x124)]=_0x17090b(0x1a3),_0x346bf0[_0x17090b(0x1b5)][_0x17090b(0x202)]='rgba(255,255,255,0.05)');const _0x59aa19=document[_0x17090b(0x120)](_0x17090b(0x193));_0x59aa19['innerHTML']='';_0xec29d6[_0x17090b(0x1fd)]===0x0?_0x59aa19[_0x17090b(0x222)]=_0x17090b(0x1aa):(_0xec29d6[_0x17090b(0x1ae)]((_0x4c3372,_0x10b7b3)=>_0x4c3372[_0x17090b(0x112)][_0x17090b(0x175)](_0x10b7b3[_0x17090b(0x112)])),_0xec29d6[_0x17090b(0x130)](_0x220326=>{const _0x14fd0c=_0x17090b,_0x57d401=clients[_0x14fd0c(0x198)](_0x91eb57=>_0x91eb57['name']===_0x220326['client']),_0x10b3e8=_0x57d401?_0x57d401['color']:_0x14fd0c(0xef),_0x2ac842=_0x220326['status']===_0x14fd0c(0x168),_0x4f706d=_0x2ac842?_0x14fd0c(0x1f2):'',_0x5cf9d0=document[_0x14fd0c(0x1a0)](_0x14fd0c(0x195));_0x5cf9d0[_0x14fd0c(0xb0)]='de-item',_0x5cf9d0[_0x14fd0c(0x1b5)][_0x14fd0c(0x1e1)]=_0x10b3e8,_0x5cf9d0[_0x14fd0c(0x222)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x220326[_0x14fd0c(0x112)]+_0x14fd0c(0x206)+_0x220326[_0x14fd0c(0xcf)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x220326[_0x14fd0c(0x22a)]+_0x14fd0c(0xd2)+_0x4f706d+_0x14fd0c(0x14e),_0x59aa19[_0x14fd0c(0x12a)](_0x5cf9d0);}));const _0x47805e=document[_0x17090b(0x120)]('btnDayToggle'),_0xdee9e6=dateExceptions[_0x507ed7]===_0x17090b(0x19c);_0xdee9e6?(_0x47805e[_0x17090b(0x15f)]=_0x17090b(0xd8),_0x47805e[_0x17090b(0xb0)]='btn-primary\x20btn-secondary',_0x47805e['style']['color']='var(--acc-green)',_0x47805e[_0x17090b(0x1b5)][_0x17090b(0xd5)]=_0x17090b(0x1fe)):(_0x47805e[_0x17090b(0x15f)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x47805e['className']='btn-primary\x20btn-danger',_0x47805e['style'][_0x17090b(0x124)]='var(--acc-red)',_0x47805e[_0x17090b(0x1b5)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x17090b(0x125));}let currentAnPeriod='week';function openAnalytics(){const _0x53bf1f=a2_0x52000a,_0x447dc0=document['querySelector'](_0x53bf1f(0xe8));setAnalyticsPeriod('week',_0x447dc0),closeAllSheets(),openSheet(_0x53bf1f(0x16b));}function setAnalyticsPeriod(_0x58b1af,_0x21b29a){const _0x15ed8d=a2_0x52000a;currentAnPeriod=_0x58b1af,document['querySelectorAll'](_0x15ed8d(0xe8))[_0x15ed8d(0x130)](_0x40fd15=>_0x40fd15[_0x15ed8d(0x119)]['remove']('active'));if(_0x21b29a)_0x21b29a[_0x15ed8d(0x119)][_0x15ed8d(0xf2)](_0x15ed8d(0x1f6));const _0x17c089=document[_0x15ed8d(0x120)](_0x15ed8d(0xbb));_0x17c089[_0x15ed8d(0x1b5)][_0x15ed8d(0x219)]=_0x58b1af===_0x15ed8d(0x226)?_0x15ed8d(0x1ba):'none';const _0x734901=new Date();let _0x3f42e7=new Date(),_0x41ee76=new Date();if(_0x58b1af==='week')_0x3f42e7=getStartOfWeek(_0x734901),_0x41ee76=new Date(_0x3f42e7),_0x41ee76[_0x15ed8d(0x15a)](_0x41ee76[_0x15ed8d(0x21e)]()+0x6);else{if(_0x58b1af===_0x15ed8d(0x204))_0x3f42e7=new Date(_0x734901[_0x15ed8d(0x144)](),_0x734901[_0x15ed8d(0xe2)](),0x1),_0x41ee76=new Date(_0x734901[_0x15ed8d(0x144)](),_0x734901[_0x15ed8d(0xe2)]()+0x1,0x0);else{!document[_0x15ed8d(0x120)](_0x15ed8d(0x1d2))[_0x15ed8d(0x1f9)]&&(document[_0x15ed8d(0x120)](_0x15ed8d(0x1d2))[_0x15ed8d(0x1f9)]=getLocalDateStr(_0x734901),document[_0x15ed8d(0x120)](_0x15ed8d(0x17b))['value']=getLocalDateStr(_0x734901));refreshAnalytics();return;}}document['getElementById'](_0x15ed8d(0x1d2))[_0x15ed8d(0x1f9)]=getLocalDateStr(_0x3f42e7),document['getElementById'](_0x15ed8d(0x17b))['value']=getLocalDateStr(_0x41ee76),refreshAnalytics();}function refreshAnalytics(){const _0x1e49aa=a2_0x52000a,_0x4e100e=document[_0x1e49aa(0x120)]('anStart')['value'],_0x4f2236=document[_0x1e49aa(0x120)](_0x1e49aa(0x17b))['value'];if(!_0x4e100e||!_0x4f2236)return;const _0x14a2d2=sessions[_0x1e49aa(0x171)](_0x43b110=>_0x43b110['dateStr']>=_0x4e100e&&_0x43b110[_0x1e49aa(0x10a)]<=_0x4f2236&&_0x43b110['status']!=='cancelled'),_0x417ceb=_0x14a2d2[_0x1e49aa(0x1fd)],_0x30d7cb=_0x14a2d2[_0x1e49aa(0x171)](_0x2b8061=>_0x2b8061['status']===_0x1e49aa(0x168))[_0x1e49aa(0x1fd)],_0x22294a=_0x417ceb>0x0?Math['round'](_0x30d7cb/_0x417ceb*0x64):0x0;document[_0x1e49aa(0x120)](_0x1e49aa(0x191))['textContent']=_0x22294a+'%',document['getElementById'](_0x1e49aa(0x1fb))['textContent']=_0x30d7cb+_0x1e49aa(0x13f)+_0x417ceb+_0x1e49aa(0x1c4);const _0x26b5bd=document['getElementById'](_0x1e49aa(0x106)),_0x3f28cc=0x2*Math['PI']*0x23,_0x20b59c=_0x3f28cc-_0x22294a/0x64*_0x3f28cc;_0x26b5bd[_0x1e49aa(0x1b5)]['strokeDashoffset']=_0x20b59c;const _0x395581={};_0x14a2d2[_0x1e49aa(0x130)](_0x3ddd65=>{const _0x2548b6=_0x1e49aa;if(!_0x395581[_0x3ddd65['client']]){const _0x5885ba=clients[_0x2548b6(0x198)](_0x1ee844=>_0x1ee844[_0x2548b6(0xc0)]===_0x3ddd65['client']);_0x395581[_0x3ddd65[_0x2548b6(0x22a)]]={'total':0x0,'done':0x0,'color':_0x5885ba?_0x5885ba['color']:_0x2548b6(0xef)};}_0x395581[_0x3ddd65[_0x2548b6(0x22a)]][_0x2548b6(0xfe)]++;if(_0x3ddd65['status']===_0x2548b6(0x168))_0x395581[_0x3ddd65[_0x2548b6(0x22a)]]['done']++;});const _0xf5428=document[_0x1e49aa(0x120)](_0x1e49aa(0x1e2));_0xf5428['innerHTML']='';const _0x28c266=Object['entries'](_0x395581)[_0x1e49aa(0x1ae)]((_0x359cf3,_0x527c2e)=>_0x527c2e[0x1][_0x1e49aa(0xfe)]-_0x359cf3[0x1][_0x1e49aa(0xfe)]);if(_0x28c266[_0x1e49aa(0x1fd)]===0x0){_0xf5428[_0x1e49aa(0x222)]=_0x1e49aa(0x18c);return;}_0x28c266['forEach'](([_0x4420bf,_0x154985])=>{const _0x7c8d45=_0x1e49aa,_0x4c7b99=Math['round'](_0x154985[_0x7c8d45(0x1d0)]/_0x154985[_0x7c8d45(0xfe)]*0x64),_0x417313=document[_0x7c8d45(0x1a0)](_0x7c8d45(0x195));_0x417313['className']=_0x7c8d45(0x107),_0x417313[_0x7c8d45(0x1b5)][_0x7c8d45(0x1e1)]=_0x154985[_0x7c8d45(0x124)],_0x417313['innerHTML']=_0x7c8d45(0x1e9)+_0x4420bf+_0x7c8d45(0x145)+_0x154985['done']+_0x7c8d45(0x22f)+_0x154985[_0x7c8d45(0xfe)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x4c7b99+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xf5428[_0x7c8d45(0x12a)](_0x417313);});}function formatMinsToHrs(_0x4294ff){const _0x2b663f=a2_0x52000a;if(_0x4294ff===0x0)return'0';const _0x4c6e5e=Math[_0x2b663f(0x166)](_0x4294ff/0x3c),_0x412b4c=_0x4294ff%0x3c;if(_0x412b4c===0x0)return _0x4c6e5e+'—á';return _0x4c6e5e+'—á\x20'+_0x412b4c+'–º';}