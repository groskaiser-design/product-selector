const a2_0x2a3fd0=a2_0x2309;(function(_0x4d8c48,_0x16b2f9){const _0x6b68de=a2_0x2309,_0x2e2c71=_0x4d8c48();while(!![]){try{const _0x5e629e=-parseInt(_0x6b68de(0x112))/0x1*(parseInt(_0x6b68de(0x120))/0x2)+-parseInt(_0x6b68de(0xf3))/0x3+parseInt(_0x6b68de(0x146))/0x4*(-parseInt(_0x6b68de(0x14f))/0x5)+-parseInt(_0x6b68de(0x9d))/0x6*(parseInt(_0x6b68de(0x1c8))/0x7)+-parseInt(_0x6b68de(0x215))/0x8*(parseInt(_0x6b68de(0x107))/0x9)+-parseInt(_0x6b68de(0x1d6))/0xa+parseInt(_0x6b68de(0x10c))/0xb;if(_0x5e629e===_0x16b2f9)break;else _0x2e2c71['push'](_0x2e2c71['shift']());}catch(_0x1e479a){_0x2e2c71['push'](_0x2e2c71['shift']());}}}(a2_0x1db8,0x608fc),function initTMA(){const _0x1429ab=a2_0x2309,_0x24ec0d=(function(){let _0x31fdd9=!![];return function(_0x44b951,_0x5770f0){const _0x3d0b34=_0x31fdd9?function(){const _0x238225=a2_0x2309;if(_0x5770f0){const _0x5329d8=_0x5770f0[_0x238225(0xb0)](_0x44b951,arguments);return _0x5770f0=null,_0x5329d8;}}:function(){};return _0x31fdd9=![],_0x3d0b34;};}()),_0x20655e=_0x24ec0d(this,function(){const _0x43b435=a2_0x2309;return _0x20655e['toString']()['search']('(((.+)+)+)+$')[_0x43b435(0x196)]()[_0x43b435(0x141)](_0x20655e)[_0x43b435(0xa4)](_0x43b435(0x1d9));});_0x20655e();try{const _0x258468=window[_0x1429ab(0x1dd)]?.[_0x1429ab(0x18d)];if(!_0x258468)return;_0x258468[_0x1429ab(0x1c9)](),_0x258468[_0x1429ab(0xdf)]();try{_0x258468[_0x1429ab(0x160)](_0x1429ab(0xf7)),_0x258468[_0x1429ab(0x17a)]&&_0x258468['setBackgroundColor']('#050505');}catch(_0x12c869){console['log'](_0x1429ab(0x159),_0x12c869);}try{_0x258468[_0x1429ab(0x94)]&&(_0x258468[_0x1429ab(0x94)][_0x1429ab(0x1a9)](),_0x258468[_0x1429ab(0x94)][_0x1429ab(0x21f)](),_0x258468[_0x1429ab(0x94)][_0x1429ab(0xc7)](function(){const _0x137db9=_0x1429ab;window['location'][_0x137db9(0x1d1)]=_0x137db9(0x14c);}));}catch(_0x58cdc2){console[_0x1429ab(0x140)](_0x1429ab(0x1a6),_0x58cdc2);}try{if(_0x258468['disableVerticalSwipes'])_0x258468[_0x1429ab(0x12a)]();}catch(_0x304a00){}}catch(_0x36b857){console['error'](_0x1429ab(0x124),_0x36b857);}}());function isAdmin(){const _0x56d3af=a2_0x2309;try{const _0x29034f=Number(window[_0x56d3af(0x1dd)]?.[_0x56d3af(0x18d)]?.[_0x56d3af(0xd0)]?.[_0x56d3af(0x1eb)]?.['id']);return _0x29034f===0xbaf7174;}catch(_0x4e2ad4){return![];}}const APP_VERSION=a2_0x2a3fd0(0x1ed),API_URL=a2_0x2a3fd0(0xd7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2a3fd0(0x1d2),KEY_SESSIONS=a2_0x2a3fd0(0x11b),KEY_SETTINGS=a2_0x2a3fd0(0x218);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x17f4f5=a2_0x2a3fd0;return window[_0x17f4f5(0x1dd)]?.[_0x17f4f5(0x18d)]?.[_0x17f4f5(0xd0)]?.[_0x17f4f5(0x1eb)]?.['id']||_0x17f4f5(0x100);},'saveLocally'(){const _0x25f087=a2_0x2a3fd0;try{localStorage[_0x25f087(0x180)](KEY_CLIENTS,JSON[_0x25f087(0xfd)](clients)),localStorage[_0x25f087(0x180)](KEY_SESSIONS,JSON[_0x25f087(0xfd)](sessions)),localStorage[_0x25f087(0x180)](KEY_SETTINGS,JSON[_0x25f087(0xfd)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3cc7c1){console[_0x25f087(0x105)](_0x25f087(0x101),_0x3cc7c1);}},'loadLocal'(){const _0x65197f=a2_0x2a3fd0;try{const _0x284559=localStorage['getItem'](KEY_CLIENTS);if(_0x284559)clients=JSON[_0x65197f(0x1a1)](_0x284559);const _0x5a720f=localStorage['getItem'](KEY_SESSIONS);if(_0x5a720f)sessions=JSON['parse'](_0x5a720f);const _0x54dde2=localStorage[_0x65197f(0x1f0)](KEY_SETTINGS);if(_0x54dde2){const _0x748749=JSON[_0x65197f(0x1a1)](_0x54dde2);if(_0x748749[_0x65197f(0x11f)])availabilityPattern=_0x748749[_0x65197f(0x11f)];if(_0x748749['exceptions'])dateExceptions=_0x748749[_0x65197f(0x1c7)];if(_0x748749[_0x65197f(0x15b)])specialRanges=_0x748749[_0x65197f(0x15b)];}else{for(let _0xd68cda=0x0;_0xd68cda<0x7;_0xd68cda++)availabilityPattern[_0xd68cda]=Array[_0x65197f(0xc4)]({'length':0xc},(_0xebc1a5,_0x29b5b0)=>_0x29b5b0+0x9);}}catch(_0x164376){console[_0x65197f(0x105)](_0x65197f(0x134),_0x164376);}},async 'fetchFromServer'(_0x306bc0,_0x3994dd={}){const _0x4887bf=a2_0x2a3fd0,_0xf946a2=window[_0x4887bf(0x1dd)]?.[_0x4887bf(0x18d)],_0x46c28c={'action':_0x306bc0,'init_data':_0xf946a2?.[_0x4887bf(0x1b9)]||'',..._0x3994dd};try{const _0x390278=await fetch(API_URL,{'method':_0x4887bf(0x1f8),'headers':{'Content-Type':_0x4887bf(0x12f)},'body':JSON[_0x4887bf(0xfd)](_0x46c28c)}),_0xd438c8=await _0x390278[_0x4887bf(0x147)]();if(!_0xd438c8['ok'])throw new Error(_0xd438c8[_0x4887bf(0x105)]||_0x4887bf(0x1fe));return _0xd438c8[_0x4887bf(0x199)];}catch(_0x40c1da){console[_0x4887bf(0x105)](_0x4887bf(0x1f4)+_0x306bc0+_0x4887bf(0x13a),_0x40c1da);throw _0x40c1da;}},async 'syncLoad'(){const _0x59e5f8=a2_0x2a3fd0,_0x6bdde0=new Date(),_0x5d3ebe=_0x6bdde0[_0x59e5f8(0x1e7)]()+'-'+String(_0x6bdde0[_0x59e5f8(0x1fb)]()+0x1)[_0x59e5f8(0xac)](0x2,'0'),_0x57d6c8=new Date(_0x6bdde0);_0x57d6c8[_0x59e5f8(0xf9)](_0x6bdde0['getMonth']()+0x1);const _0x1b9521=_0x57d6c8[_0x59e5f8(0x1e7)]()+'-'+String(_0x57d6c8[_0x59e5f8(0x1fb)]()+0x1)[_0x59e5f8(0xac)](0x2,'0'),_0x26bc3c=Date[_0x59e5f8(0xd8)]();console[_0x59e5f8(0x140)](_0x59e5f8(0x13b)+_0x5d3ebe+',\x20'+_0x1b9521+_0x59e5f8(0xd3));try{const [_0x3bb8af,_0xf843c3]=await Promise[_0x59e5f8(0x177)]([this['fetchFromServer'](_0x59e5f8(0x19d),{'month_str':_0x5d3ebe}),this[_0x59e5f8(0x21e)](_0x59e5f8(0x19d),{'month_str':_0x1b9521})]);if(lastUserActionTime>_0x26bc3c)return console[_0x59e5f8(0x12d)](_0x59e5f8(0x198)),![];return this['mergeServerData'](_0x3bb8af,_0x5d3ebe),this[_0x59e5f8(0x126)](_0xf843c3,_0x1b9521),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4ec3cb){console[_0x59e5f8(0x105)](_0x4ec3cb);throw _0x4ec3cb;}},'mergeServerData'(_0x1d90ae,_0x102260){const _0x3d2e93=a2_0x2a3fd0;if(!_0x1d90ae)return;_0x1d90ae[_0x3d2e93(0x185)]&&Array[_0x3d2e93(0x149)](_0x1d90ae[_0x3d2e93(0x185)])&&(clients=_0x1d90ae['clients']);if(_0x1d90ae[_0x3d2e93(0x1ee)]){if(_0x1d90ae['settings'][_0x3d2e93(0x11f)])availabilityPattern=_0x1d90ae[_0x3d2e93(0x1ee)][_0x3d2e93(0x11f)];if(_0x1d90ae['settings'][_0x3d2e93(0x1c7)])dateExceptions=_0x1d90ae[_0x3d2e93(0x1ee)][_0x3d2e93(0x1c7)];if(_0x1d90ae[_0x3d2e93(0x1ee)][_0x3d2e93(0x15b)])specialRanges=_0x1d90ae['settings'][_0x3d2e93(0x15b)];if(_0x1d90ae['settings'][_0x3d2e93(0x13d)]){localStorage[_0x3d2e93(0x180)](_0x3d2e93(0x132),_0x1d90ae[_0x3d2e93(0x1ee)][_0x3d2e93(0x13d)]);const _0x37f278=document[_0x3d2e93(0x116)]('settingCancelWindow');if(_0x37f278)_0x37f278[_0x3d2e93(0xe2)]=_0x1d90ae['settings'][_0x3d2e93(0x13d)];}}_0x1d90ae[_0x3d2e93(0x186)]&&(sessions=sessions['filter'](_0x14110c=>!_0x14110c[_0x3d2e93(0x166)][_0x3d2e93(0x207)](_0x102260)),Object[_0x3d2e93(0x102)](_0x1d90ae[_0x3d2e93(0x186)])['forEach'](_0x3e7aac=>{const _0x471f5b=_0x3d2e93,_0x295fb7=_0x1d90ae['calendar'][_0x3e7aac];_0x295fb7[_0x471f5b(0xc5)](_0x5b2528=>{const _0x428060=_0x471f5b,_0x12b777=clients[_0x428060(0x97)](_0x56656f=>String(_0x56656f['id'])===String(_0x5b2528['c']));sessions[_0x428060(0x1ca)]({'id':_0x5b2528['i'],'clientId':_0x5b2528['c'],'client':_0x12b777?_0x12b777['name']:'Unknown','dateStr':_0x102260+'-'+_0x3e7aac[_0x428060(0xac)](0x2,'0'),'start':_0x5b2528['s'],'end':_0x5b2528['e'],'status':_0x5b2528['st']||_0x428060(0xae),'note':_0x5b2528['n']||'','seriesId':_0x5b2528[_0x428060(0x144)]||null});});}));},async 'syncBatch'(_0x21a480){const _0x56f466=a2_0x2a3fd0,_0x1cad07=[...new Set(_0x21a480)],_0x534f99=_0x1cad07[_0x56f466(0x143)](_0x16f160=>{const _0x59419f=_0x56f466,_0x5896fa=sessions[_0x59419f(0x17c)](_0xe49846=>_0xe49846[_0x59419f(0x166)]===_0x16f160&&_0xe49846['status']!==_0x59419f(0x11e)),_0x2815a7=_0x5896fa[_0x59419f(0x143)](_0x1cc09a=>({'i':_0x1cc09a['id'],'c':_0x1cc09a['clientId'],'s':_0x1cc09a[_0x59419f(0xcf)],'e':_0x1cc09a[_0x59419f(0xf4)],'st':_0x1cc09a[_0x59419f(0x172)],'n':_0x1cc09a['note'],'sid':_0x1cc09a[_0x59419f(0x161)]}));return{'date':_0x16f160,'day_data':_0x2815a7};});if(_0x534f99[_0x56f466(0x98)]===0x0)return;console[_0x56f466(0x140)](_0x56f466(0xc0)+_0x534f99[_0x56f466(0x98)]+_0x56f466(0x16f)),await this[_0x56f466(0x21e)](_0x56f466(0x15d),{'changes':_0x534f99});}};async function init(){const _0x29c887=a2_0x2a3fd0;DataManager[_0x29c887(0x122)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x29c887(0x116)]('matrixViewport')[_0x29c887(0xb7)](_0x29c887(0x17d),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x29c887(0xda)]()[_0x29c887(0x1b8)](()=>{const _0x1c485c=_0x29c887;showToast(_0x1c485c(0x1e6),!![]);})['catch'](_0x593166=>{const _0x36612b=_0x29c887;showToast(_0x36612b(0x211),![]);});}function generateId(){const _0x2ac312=a2_0x2a3fd0;return Date[_0x2ac312(0xd8)]()[_0x2ac312(0x196)](0x24)+Math[_0x2ac312(0x157)]()['toString'](0x24)[_0x2ac312(0x201)](0x2,0x5);}function toggleSeriesInput(){const _0x4dd2ad=a2_0x2a3fd0,_0x3fbeac=document['getElementById'](_0x4dd2ad(0xcd))[_0x4dd2ad(0x1e2)],_0x3f8d67=document[_0x4dd2ad(0x116)](_0x4dd2ad(0xfe));_0x3f8d67[_0x4dd2ad(0xd6)]['display']=_0x3fbeac?'block':_0x4dd2ad(0x1ab);const _0x521c04=document[_0x4dd2ad(0x116)](_0x4dd2ad(0x135));_0x521c04[_0x4dd2ad(0xd6)][_0x4dd2ad(0x158)]=_0x3fbeac?_0x4dd2ad(0xc2):_0x4dd2ad(0x21a);}function openAddSession(_0x589438){const _0x34e6fd=a2_0x2a3fd0;editingId=null,populateClientSelect(),document['getElementById'](_0x34e6fd(0xa5))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x34e6fd(0x116)](_0x34e6fd(0x110))['style'][_0x34e6fd(0x205)]=_0x34e6fd(0x1ab),document[_0x34e6fd(0x116)]('btnStatusToggle')[_0x34e6fd(0xd6)][_0x34e6fd(0x205)]=_0x34e6fd(0x1ab);const _0x4ce8d2=document['getElementById'](_0x34e6fd(0x135)),_0x1e7571=document['getElementById']('seriesCountContainer');_0x4ce8d2[_0x34e6fd(0xd6)][_0x34e6fd(0x205)]='flex',_0x4ce8d2[_0x34e6fd(0xd6)][_0x34e6fd(0x158)]='10px',document[_0x34e6fd(0x116)](_0x34e6fd(0xcd))[_0x34e6fd(0x1e2)]=![],document[_0x34e6fd(0x116)]('inpSeriesCount')[_0x34e6fd(0xe2)]=0x4,_0x1e7571[_0x34e6fd(0xd6)][_0x34e6fd(0x205)]=_0x34e6fd(0x1ab),document[_0x34e6fd(0x116)](_0x34e6fd(0x173))['value']=getLocalDateStr(_0x589438),updateDateDisplay();const _0x5262b9=_0x589438[_0x34e6fd(0x21b)]();document['getElementById']('inpStart')[_0x34e6fd(0xe2)]=String(_0x5262b9)['padStart'](0x2,'0')+':00',document[_0x34e6fd(0x116)](_0x34e6fd(0x190))['value']=String(_0x5262b9+0x1)[_0x34e6fd(0xac)](0x2,'0')+_0x34e6fd(0x151),openSheet(_0x34e6fd(0x136));}function openEdit(_0x22d0d3){const _0x23ec16=a2_0x2a3fd0;editingId=_0x22d0d3['id'],populateClientSelect(),document[_0x23ec16(0x116)](_0x23ec16(0xa5))['textContent']=_0x23ec16(0xeb),document['getElementById'](_0x23ec16(0x110))[_0x23ec16(0xd6)][_0x23ec16(0x205)]=_0x23ec16(0x13e);const _0x3ae640=document[_0x23ec16(0x116)]('btnStatusToggle');_0x3ae640[_0x23ec16(0xd6)]['display']=_0x23ec16(0x13f);_0x22d0d3['status']==='completed'?(_0x3ae640[_0x23ec16(0xe1)]=_0x23ec16(0xcc),_0x3ae640[_0x23ec16(0xed)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x3ae640[_0x23ec16(0xe1)]=_0x23ec16(0x1b3),_0x3ae640[_0x23ec16(0xed)]=_0x23ec16(0x137));const _0x27c216=!!_0x22d0d3[_0x23ec16(0x161)];document[_0x23ec16(0x116)](_0x23ec16(0x135))[_0x23ec16(0xd6)][_0x23ec16(0x205)]=_0x23ec16(0x1ab),document[_0x23ec16(0x116)]('seriesCountContainer')[_0x23ec16(0xd6)][_0x23ec16(0x205)]=_0x23ec16(0x1ab),_0x27c216?(document[_0x23ec16(0x116)](_0x23ec16(0x95))[_0x23ec16(0xd6)][_0x23ec16(0x205)]=_0x23ec16(0x13f),document['getElementById'](_0x23ec16(0x95))['querySelector'](_0x23ec16(0x123))[_0x23ec16(0xd4)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x23ec16(0x116)]('patternInfoBox')[_0x23ec16(0xd6)][_0x23ec16(0x205)]=_0x23ec16(0x1ab),document[_0x23ec16(0x116)](_0x23ec16(0x15f))['value']=_0x22d0d3[_0x23ec16(0x9e)],document['getElementById']('inpDate')[_0x23ec16(0xe2)]=_0x22d0d3[_0x23ec16(0x166)],document[_0x23ec16(0x116)]('inpStart')[_0x23ec16(0xe2)]=_0x22d0d3[_0x23ec16(0xcf)],document['getElementById'](_0x23ec16(0x190))[_0x23ec16(0xe2)]=_0x22d0d3['end'],document[_0x23ec16(0x116)](_0x23ec16(0xde))[_0x23ec16(0xe2)]=_0x22d0d3[_0x23ec16(0x108)]||'',updateDateDisplay(),openSheet(_0x23ec16(0x136));}async function trySaveSession(){const _0xf827f1=a2_0x2a3fd0,_0x836c=document[_0xf827f1(0x116)](_0xf827f1(0x15f))[_0xf827f1(0xe2)],_0x4eb009=document[_0xf827f1(0x116)]('inpDate')['value'],_0x11d133=document[_0xf827f1(0x116)](_0xf827f1(0x1c3))['value'],_0x24b85c=document[_0xf827f1(0x116)](_0xf827f1(0x190))[_0xf827f1(0xe2)],_0x48cb9b=document['getElementById'](_0xf827f1(0xde))['value'],_0x35ade7=document[_0xf827f1(0x116)](_0xf827f1(0xcd))['checked'];let _0x2c335f=0x4;if(_0x35ade7){const _0x3157e4=parseInt(document[_0xf827f1(0x116)]('inpSeriesCount')[_0xf827f1(0xe2)]);if(!_0x3157e4||_0x3157e4<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x3157e4>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x2c335f=_0x3157e4;}const _0x40bf2d=clients[_0xf827f1(0x97)](_0x2e59fc=>_0x2e59fc[_0xf827f1(0x220)]===_0x836c);if(!_0x40bf2d){showToast(_0xf827f1(0x15c),![]);return;}const _0x1886a8=validateAppointment(_0x4eb009,_0x11d133,_0x24b85c,editingId,_0x40bf2d['id']);if(!_0x1886a8[_0xf827f1(0x9c)]){showToast(_0x1886a8[_0xf827f1(0x118)],![]);return;}_0x1886a8[_0xf827f1(0x1c5)]&&showToast(_0x1886a8[_0xf827f1(0x1c5)],![]);const _0x3948f0={'client':_0x836c,'clientId':_0x40bf2d['id'],'start':_0x11d133,'end':_0x24b85c,'note':_0x48cb9b,'status':_0xf827f1(0xae)},_0xb313f5=editingId?sessions[_0xf827f1(0x97)](_0x28dd0b=>_0x28dd0b['id']===editingId):null;if(_0xb313f5&&_0xb313f5[_0xf827f1(0x161)]){tempSessionData={..._0x3948f0,'dateStr':_0x4eb009,'id':editingId,'seriesId':_0xb313f5[_0xf827f1(0x161)]},openActionSheet(_0xf827f1(0x163));return;}let _0x2de1cf=null;if(!editingId)_0x2de1cf=_0xf827f1(0x114);else{if(_0xb313f5){if(String(_0xb313f5[_0xf827f1(0x10d)])!==String(_0x40bf2d['id']))console[_0xf827f1(0x140)](_0xf827f1(0x214)),NotificationManager[_0xf827f1(0x178)](_0xf827f1(0x142),_0xb313f5),_0x2de1cf='create';else(_0xb313f5[_0xf827f1(0xcf)]!==_0x11d133||_0xb313f5[_0xf827f1(0xf4)]!==_0x24b85c||_0xb313f5['dateStr']!==_0x4eb009)&&(_0x2de1cf='update');}}if(!editingId&&_0x35ade7){createBatchSeries(_0x3948f0,_0x4eb009,_0x2c335f),NotificationManager[_0xf827f1(0x178)](_0xf827f1(0x114),{..._0x3948f0,'dateStr':_0x4eb009});return;}lastUserActionTime=Date['now']();const _0x11863f={..._0x3948f0,'dateStr':_0x4eb009,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x11863f),_0x2de1cf&&NotificationManager[_0xf827f1(0x178)](_0x2de1cf,_0x11863f);}function a2_0x2309(_0x1dfc39,_0x1c9d6a){_0x1dfc39=_0x1dfc39-0x94;const _0x221598=a2_0x1db8();let _0x39f4c5=_0x221598[_0x1dfc39];return _0x39f4c5;}function toggleSessionStatus(){const _0x36cc86=a2_0x2a3fd0;lastUserActionTime=Date[_0x36cc86(0xd8)]();const _0x566149=sessions[_0x36cc86(0x97)](_0x1bd4ec=>_0x1bd4ec['id']===editingId);if(!_0x566149)return;const _0x2a7479=_0x566149[_0x36cc86(0x172)]==='completed'?_0x36cc86(0xae):'completed';_0x566149[_0x36cc86(0x172)]=_0x2a7479,saveSingleSession(_0x566149),_0x2a7479==='completed'&&NotificationManager[_0x36cc86(0x178)](_0x36cc86(0x16c),_0x566149),showToast(_0x2a7479===_0x36cc86(0xd9)?_0x36cc86(0x1e5):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function a2_0x1db8(){const _0x3bdafd=['div','setDate','</div><div\x20class=\x22dch-num\x22>','6993300yazwYu','onclick','</span>\x20/\x20','(((.+)+)+)+$','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','offsetWidth','Telegram','px\x20-','actionSheet','toastTitle','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','checked','sheetDateSubtitle','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','getFullYear','toLocaleDateString','remove','mouseup','user','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','v9.0-BATCH-CALENDAR','settings','daysHeaderTrack','getItem','rangeStartTime','insertBefore','</div><div\x20class=\x22ev-time\x22>','[API\x20','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','toastMessage','toast','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','getMonth','findIndex','T23:59:59','Server\x20Error','getAttribute','offsetLeft','substr','anDonutCircle','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','rgba(48,\x20209,\x2088,\x200.15)','display','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','startsWith','doLoadPercent','var(--acc-orange)','\x20status-completed','rangeEndDate','month','00:00','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','day-column\x20','active','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','as-button\x20danger','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','[Notify]\x20Client\x20SWAP\x20detected','531096nEmsBr','headerMonth','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','uc_settings_v9','rangesList','10px','getHours','[Notify]\x20Error:\x20Text\x20generation\x20failed','delete','fetchFromServer','offClick','name','[Series]\x20Skipped\x20','custom','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','BackButton','patternInfoBox','formatDate','find','length','anCustomDates','querySelectorAll','dayOptionsTitle','valid','410598URpdcO','client','\x20–∏–∑\x20','long','anStart','.period-switch\x20.p-btn','toLocaleString','search','sheetTitle','[Notify]\x20Network\x20Failed','text','rangeStartDate','scrollLeft','overlay','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','padStart','borderLeftColor','planned','classList','apply','split','#gridColumns\x20.day-column','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anTotalStats','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','addEventListener','day-col-header\x20','includes','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','sort','calc(','</div>','createDocumentFragment','[Settings]\x20Cancel\x20window\x20set\x20to:','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','data-day-idx','10px\x2010px\x200\x200','ru-RU','from','forEach','matrixViewport','onClick','zIndex','backgroundPosition','pe-time-label','rgba(255,255,255,0.05)','btn-status-toggle\x20undo-mode','inpRecurring','success','start','initDataUnsafe','catch','min','...','textContent','T00:00:00','style','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','now','completed','syncLoad','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','gridColumns','touches','inpNote','expand','settingCancelWindow','className','value','getText','#fff','touchmove','slice','.day-off-overlay','\x20‚Äî\x20','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','btn-primary\x20btn-secondary','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','week','innerHTML','[Notify]\x20Detected\x20Client\x20ID:','clientWidth','<span>','%\x20+\x202px)','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','1141200ppvSEa','end',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','range-item','#050505',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','setMonth','getDate','–£—Å–ø–µ—à–Ω–æ','setHours','stringify','seriesCountContainer','option','guest','Local\x20Save\x20Error','keys','null','syncBatch','error','send_notification','27YKgvLE','note','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','de-item','DOMContentLoaded','31909999JBctnI','clientId','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','firstChild','btnDelete','23:59','2069UICfjK','.day-col-header','create','single','getElementById','toast-notification\x20','msg','vibrate','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','uc_sessions_v9','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','mousedown','deleted','pattern','454BRNevj','time-label','loadLocal','.pib-text','Critical\x20TMA\x20Error:','getDay','mergeServerData','[Notify]\x20Attempting\x20to\x20send:','anPercent',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','disableVerticalSwipes','rgba(255,\x2069,\x2058,\x200.15)','target','warn','doEventsList','text/plain;charset=UTF-8','borderColor','touchend','uc_settings_cancel_window','%\x20-\x204px)','Local\x20Load\x20Error','recurringOptionContainer','sessionSheet','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>',']\x20Failed:','[Sync]\x20Loading\x20','.dch-stats-fill','cancel_window','block','flex','log','constructor','cancel','map','sid','add','1376812PjPJzv','json','var(--acc-red)','isArray','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','router.html','asBtnOne','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','10aHonFn','asTitle',':00','[Notify]\x20Server\x20Response:','timeColumn','getTime','–ò–Ω—Ñ–æ','background','random','borderRadius','Error\x20setting\x20color:','backgroundColor','ranges','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','batch_sync','toUpperCase','inpClient','setHeaderColor','seriesId','var(--acc-green)','save','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','blocked-slot\x20stripe-bg','dateStr','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','scrollTop','rgba(255,\x20159,\x2010,\x200.3)','numeric','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','complete','colIndex',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','\x20days',':00</span>','doWorkHours','status','inpDate','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','all','send','mini','setBackgroundColor','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','filter','scroll','px\x200px','rgba(255,\x2069,\x2058,\x200.3)','setItem','rangeEndTime','\x20-\x20','today','indexOf','clients','calendar','touchstart','charAt','createElement','settingsSheet','strokeDashoffset','dayOptionsSheet','WebApp','patternEditor','100%','inpEnd','max','peGrid','series','getBoundingClientRect','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','toString','round','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','data','cancelled','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','setAttribute','init_load','entries','</b>\x0a\x0a','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','parse','client-stat-card','actionSheetOverlay','.day-column','left','Error\x20setting\x20back\x20button:','done','<div\x20class=\x22dch-day\x22>','show','color','none','Save\x20settings\x20error:','top','open','anEnd','off','undefined','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','btn-status-toggle','doBusyHours','total','pe-cell\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','then','initData','data-date','timeLineBadge','height','splice','btn-primary\x20btn-danger','globalTimeLine','querySelector','header-','saveLocally','inpStart','save_settings','warning','stopPropagation','exceptions','7aMyaOT','ready','push','statLoadCard','analyticsList','floor','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','update','appendChild','href','uc_clients_v9'];a2_0x1db8=function(){return _0x3bdafd;};return a2_0x1db8();}function validateAppointment(_0x5f012e,_0x6bb85d,_0x45819a,_0x3779cd,_0x31713d){const _0x56c95e=a2_0x2a3fd0,[_0x493b50,_0x289ca7]=_0x6bb85d[_0x56c95e(0xb1)](':')[_0x56c95e(0x143)](Number),[_0x11ff57,_0x4e925a]=_0x45819a[_0x56c95e(0xb1)](':')['map'](Number),_0xbe8473=_0x493b50*0x3c+_0x289ca7,_0x1b39fd=_0x11ff57*0x3c+_0x4e925a,_0x386f7e=String(_0x31713d);let _0x9a555f=![],_0x5f2f44='';for(let _0x5484c8 of sessions){if(_0x5484c8[_0x56c95e(0x166)]!==_0x5f012e)continue;if(_0x5484c8['status']===_0x56c95e(0x19a))continue;if(_0x3779cd&&String(_0x5484c8['id'])===String(_0x3779cd))continue;const [_0x46d8e7,_0x14fd5b]=_0x5484c8[_0x56c95e(0xcf)][_0x56c95e(0xb1)](':')['map'](Number),[_0x208d17,_0x2e5dc9]=_0x5484c8[_0x56c95e(0xf4)][_0x56c95e(0xb1)](':')[_0x56c95e(0x143)](Number),_0x10ef05=_0x46d8e7*0x3c+_0x14fd5b,_0x492b61=_0x208d17*0x3c+_0x2e5dc9;if(Math[_0x56c95e(0x191)](_0xbe8473,_0x10ef05)<Math[_0x56c95e(0xd2)](_0x1b39fd,_0x492b61)){if(_0x5484c8[_0x56c95e(0x10d)]&&String(_0x5484c8[_0x56c95e(0x10d)])===_0x386f7e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5484c8[_0x56c95e(0x9e)]+_0x56c95e(0x129)};_0x9a555f=!![],_0x5f2f44=_0x5484c8['client'];}}if(_0x9a555f)return{'valid':!![],'warning':_0x56c95e(0xba)+_0x5f2f44};return{'valid':!![]};}function saveSingleSession(_0x26d5fa){const _0x1a0a0b=a2_0x2a3fd0;if(editingId){const _0x15d53f=sessions[_0x1a0a0b(0x1fc)](_0x2d2ae3=>_0x2d2ae3['id']===editingId);if(_0x15d53f!==-0x1)sessions[_0x15d53f]=_0x26d5fa;}else sessions[_0x1a0a0b(0x1ca)](_0x26d5fa);afterSaveAction([_0x26d5fa[_0x1a0a0b(0x166)]]);}function createBatchSeries(_0x5aab7b,_0x536cea,_0x169c68){const _0x16dec4=a2_0x2a3fd0,_0x5307bf=generateId(),_0x3a2f9e=[],_0x1d6070=[];let _0x194b6e=0x0,_0x86c5e4=new Date(_0x536cea);for(let _0x38679b=0x0;_0x38679b<_0x169c68;_0x38679b++){const _0x363528=getLocalDateStr(_0x86c5e4),_0x2f840d=validateAppointment(_0x363528,_0x5aab7b[_0x16dec4(0xcf)],_0x5aab7b[_0x16dec4(0xf4)],null,_0x5aab7b['clientId']);if(!_0x2f840d['valid'])console[_0x16dec4(0x140)](_0x16dec4(0x221)+_0x363528+':\x20Client\x20already\x20booked'),_0x194b6e++;else{const _0x59eb25={..._0x5aab7b,'id':generateId(),'dateStr':_0x363528,'seriesId':_0x5307bf};_0x1d6070[_0x16dec4(0x1ca)](_0x59eb25),_0x3a2f9e['push'](_0x363528);}_0x86c5e4['setDate'](_0x86c5e4[_0x16dec4(0xfa)]()+0x7);}if(_0x1d6070[_0x16dec4(0x98)]===0x0){showToast(_0x16dec4(0x195),![]);return;}sessions[_0x16dec4(0x1ca)](..._0x1d6070),lastUserActionTime=Date[_0x16dec4(0xd8)]();let _0x27396a='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x1d6070['length'];_0x194b6e>0x0&&(_0x27396a+=_0x16dec4(0x217)+_0x194b6e+')'),showToast(_0x27396a,!![]),afterSaveAction(_0x3a2f9e);}function updateSeriesBatch(_0x58a51d,_0x551f1e){const _0x3e71ca=a2_0x2a3fd0,_0x174ecb=[],_0x2aa6da=_0x551f1e['seriesId'];if(_0x58a51d==='single'){const _0x3df67b={..._0x551f1e,'seriesId':null},_0x543b11=sessions[_0x3e71ca(0x1fc)](_0x465c2b=>_0x465c2b['id']===_0x551f1e['id']);if(_0x543b11!==-0x1)sessions[_0x543b11]=_0x3df67b;_0x174ecb[_0x3e71ca(0x1ca)](_0x3df67b[_0x3e71ca(0x166)]);}else{if(_0x58a51d===_0x3e71ca(0x193)){const _0x1cb467=_0x551f1e['dateStr'];sessions[_0x3e71ca(0xc5)]((_0x2ebce6,_0x515d49)=>{const _0x5dc958=_0x3e71ca;_0x2ebce6[_0x5dc958(0x161)]===_0x2aa6da&&_0x2ebce6[_0x5dc958(0x166)]>=_0x1cb467&&(sessions[_0x515d49]={...sessions[_0x515d49],'start':_0x551f1e[_0x5dc958(0xcf)],'end':_0x551f1e[_0x5dc958(0xf4)],'note':_0x551f1e[_0x5dc958(0x108)],'client':_0x551f1e[_0x5dc958(0x9e)],'clientId':_0x551f1e[_0x5dc958(0x10d)]},_0x174ecb[_0x5dc958(0x1ca)](_0x2ebce6[_0x5dc958(0x166)]));});}}afterSaveAction(_0x174ecb);}function tryDeleteSession(){const _0x3bc06a=a2_0x2a3fd0,_0xbc0949=sessions['find'](_0x1c2411=>_0x1c2411['id']===editingId);if(!_0xbc0949)return;_0xbc0949[_0x3bc06a(0x161)]?openActionSheet(_0x3bc06a(0x21d)):commitDelete(_0x3bc06a(0x115),_0xbc0949);}function commitDelete(_0x570383,_0x7d3f1){const _0x28a3b2=a2_0x2a3fd0;lastUserActionTime=Date[_0x28a3b2(0xd8)](),NotificationManager['send'](_0x28a3b2(0x142),_0x7d3f1);const _0x223a04=[];if(_0x570383===_0x28a3b2(0x115))sessions=sessions[_0x28a3b2(0x17c)](_0x3d6d25=>_0x3d6d25['id']!==_0x7d3f1['id']),_0x223a04['push'](_0x7d3f1[_0x28a3b2(0x166)]);else{if(_0x570383==='series'){const _0x314330=_0x7d3f1[_0x28a3b2(0x166)],_0x231af8=_0x7d3f1[_0x28a3b2(0x161)];sessions[_0x28a3b2(0xc5)](_0x3fad22=>{const _0x303991=_0x28a3b2;_0x3fad22['seriesId']===_0x231af8&&_0x3fad22['dateStr']>=_0x314330&&_0x223a04[_0x303991(0x1ca)](_0x3fad22[_0x303991(0x166)]);}),sessions=sessions[_0x28a3b2(0x17c)](_0x58614a=>!(_0x58614a[_0x28a3b2(0x161)]===_0x231af8&&_0x58614a[_0x28a3b2(0x166)]>=_0x314330));}}afterSaveAction(_0x223a04);}function afterSaveAction(_0x1dbebf){const _0xa70e62=a2_0x2a3fd0;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xa70e62(0x104)](_0x1dbebf)[_0xa70e62(0x1b8)](()=>console[_0xa70e62(0x140)]('Batch\x20Sync\x20OK'))[_0xa70e62(0xd1)](_0x3ce120=>showToast(_0xa70e62(0x11a),![]));}const NotificationManager={'formatDate'(_0x496906){const _0x3b6e93=a2_0x2a3fd0,_0x361fc8=new Date(_0x496906),_0x1b1715={'weekday':_0x3b6e93(0xa0),'day':_0x3b6e93(0x16a),'month':_0x3b6e93(0xa0)};let _0x3e7725=_0x361fc8['toLocaleDateString'](_0x3b6e93(0xc3),_0x1b1715);return _0x3e7725[_0x3b6e93(0x188)](0x0)[_0x3b6e93(0x15e)]()+_0x3e7725[_0x3b6e93(0xe6)](0x1);},'getText'(_0x110133,_0x56fd97){const _0x48ff88=a2_0x2a3fd0,_0x3afebb=this[_0x48ff88(0x96)](_0x56fd97[_0x48ff88(0x166)]);switch(_0x110133){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x48ff88(0x138)+_0x3afebb+'\x0a')+(_0x48ff88(0x16b)+_0x56fd97['start']+'\x20‚Äî\x20'+_0x56fd97['end']+'\x0a\x0a')+_0x48ff88(0x174);case _0x48ff88(0x1cf):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x48ff88(0x10e)+('<b>‚úÖ\x20'+_0x56fd97['start']+_0x48ff88(0xe8)+_0x56fd97[_0x48ff88(0xf4)]+_0x48ff88(0x19f))+(_0x48ff88(0x138)+_0x3afebb);case _0x48ff88(0x142):return _0x48ff88(0x1ce)+(_0x48ff88(0x1e1)+_0x3afebb+'\x20('+_0x56fd97[_0x48ff88(0xcf)]+_0x48ff88(0x16e));case'complete':return _0x48ff88(0x176)+_0x48ff88(0x175)+_0x48ff88(0x20e);default:return'';}},async 'send'(_0x5c1a08,_0x36783b){const _0x5f33c1=a2_0x2a3fd0;console['log'](_0x5f33c1(0x127),_0x5c1a08,_0x36783b);if(!_0x36783b){console[_0x5f33c1(0x105)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x6c824c=String(_0x36783b[_0x5f33c1(0x10d)]);console[_0x5f33c1(0x140)](_0x5f33c1(0xee),_0x6c824c);if(!_0x36783b[_0x5f33c1(0x10d)]||_0x6c824c===_0x5f33c1(0x1b1)||_0x6c824c===_0x5f33c1(0x103)){console[_0x5f33c1(0x105)](_0x5f33c1(0x14a));if(_0x36783b[_0x5f33c1(0x9e)]){const _0x4fb7bb=clients[_0x5f33c1(0x97)](_0x188808=>_0x188808[_0x5f33c1(0x220)]===_0x36783b[_0x5f33c1(0x9e)]);if(_0x4fb7bb)return console[_0x5f33c1(0x140)](_0x5f33c1(0x19b),_0x4fb7bb['id']),this[_0x5f33c1(0x178)](_0x5c1a08,{..._0x36783b,'clientId':_0x4fb7bb['id']});}return;}if(_0x6c824c[_0x5f33c1(0x98)]<0x5){console['warn'](_0x5f33c1(0x1b2),_0x6c824c);return;}const _0x3ff2f0=this[_0x5f33c1(0xe3)](_0x5c1a08,_0x36783b);if(!_0x3ff2f0){console['error'](_0x5f33c1(0x21c));return;}console[_0x5f33c1(0x140)](_0x5f33c1(0xab)+_0x6c824c+_0x5f33c1(0xd3)),DataManager[_0x5f33c1(0x21e)](_0x5f33c1(0x106),{'chatId':_0x6c824c,'text':_0x3ff2f0})[_0x5f33c1(0x1b8)](_0x175a09=>console[_0x5f33c1(0x140)](_0x5f33c1(0x152),_0x175a09))[_0x5f33c1(0xd1)](_0x26cef4=>console[_0x5f33c1(0x105)](_0x5f33c1(0xa6),_0x26cef4));}};function getLocalDateStr(_0x43313e){const _0x47b0d8=a2_0x2a3fd0,_0x92c73=_0x43313e['getFullYear'](),_0x4ab94f=String(_0x43313e[_0x47b0d8(0x1fb)]()+0x1)['padStart'](0x2,'0'),_0x27accb=String(_0x43313e[_0x47b0d8(0xfa)]())['padStart'](0x2,'0');return _0x92c73+'-'+_0x4ab94f+'-'+_0x27accb;}function getDateStr(_0x36fd5f){const _0x3f2f77=a2_0x2a3fd0,_0xbda122=new Date();return _0xbda122['setDate'](_0xbda122[_0x3f2f77(0xfa)]()+_0x36fd5f),getLocalDateStr(_0xbda122);}function getStartOfWeek(_0x3882a3){const _0x348e17=a2_0x2a3fd0,_0x2fbc52=new Date(_0x3882a3),_0x59f3b4=_0x2fbc52[_0x348e17(0x125)](),_0x593d6d=_0x2fbc52[_0x348e17(0xfa)]()-_0x59f3b4+(_0x59f3b4===0x0?-0x6:0x1);return _0x2fbc52[_0x348e17(0x1d4)](_0x593d6d),_0x2fbc52[_0x348e17(0xfc)](0x0,0x0,0x0,0x0),_0x2fbc52;}function hexToRgba(_0x51fe36,_0x2c5b28){const _0x3249ea=a2_0x2a3fd0;if(!_0x51fe36)return'rgba(100,100,100,0.5)';let _0x168166=0x0,_0x164f70=0x0,_0x487509=0x0;if(_0x51fe36[_0x3249ea(0x98)]===0x4)_0x168166='0x'+_0x51fe36[0x1]+_0x51fe36[0x1],_0x164f70='0x'+_0x51fe36[0x2]+_0x51fe36[0x2],_0x487509='0x'+_0x51fe36[0x3]+_0x51fe36[0x3];else _0x51fe36[_0x3249ea(0x98)]===0x7&&(_0x168166='0x'+_0x51fe36[0x1]+_0x51fe36[0x2],_0x164f70='0x'+_0x51fe36[0x3]+_0x51fe36[0x4],_0x487509='0x'+_0x51fe36[0x5]+_0x51fe36[0x6]);return'rgba('+ +_0x168166+',\x20'+ +_0x164f70+',\x20'+ +_0x487509+',\x20'+_0x2c5b28+')';}function renderTimeColumn(){const _0x5f2174=a2_0x2a3fd0,_0x1448c9=document[_0x5f2174(0x116)](_0x5f2174(0x153)),_0x1614b6=document[_0x5f2174(0x116)](_0x5f2174(0x1bb));_0x1448c9[_0x5f2174(0xed)]='',_0x1448c9[_0x5f2174(0x1d0)](_0x1614b6);for(let _0x555f45=0x0;_0x555f45<0x18;_0x555f45++){const _0x96af98=document[_0x5f2174(0x189)](_0x5f2174(0x1d3));_0x96af98[_0x5f2174(0xe1)]=_0x5f2174(0x121);if(_0x555f45>0x0)_0x96af98['innerHTML']=_0x5f2174(0xf0)+String(_0x555f45)[_0x5f2174(0xac)](0x2,'0')+_0x5f2174(0x170);_0x1448c9[_0x5f2174(0x1d0)](_0x96af98);}}function renderDayRange(_0x103115,_0x5c1fc6){const _0x1e28a0=a2_0x2a3fd0,_0x5b7881=document['getElementById']('daysHeaderTrack'),_0x5241f0=document['getElementById']('gridColumns'),_0x545b6b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x10a758=new Date();_0x10a758['setHours'](0x0,0x0,0x0,0x0);const _0x529728=getLocalDateStr(new Date());for(let _0x598af8=_0x103115;_0x598af8<=_0x5c1fc6;_0x598af8++){const _0x38c89d=new Date(_0x10a758);_0x38c89d[_0x1e28a0(0x1d4)](_0x38c89d[_0x1e28a0(0xfa)]()+_0x598af8);const _0x125f1c=getLocalDateStr(_0x38c89d);let _0x723076=_0x38c89d[_0x1e28a0(0x125)]()-0x1;if(_0x723076===-0x1)_0x723076=0x6;const _0x39ce1a=_0x125f1c===_0x529728,_0x35adc4=document['createElement'](_0x1e28a0(0x1d3));_0x35adc4[_0x1e28a0(0xe1)]='day-col-header\x20'+(_0x39ce1a?_0x1e28a0(0x183):''),_0x35adc4['id']=_0x1e28a0(0x1c1)+_0x125f1c,_0x35adc4['setAttribute'](_0x1e28a0(0x1ba),_0x125f1c),_0x35adc4[_0x1e28a0(0xed)]=_0x1e28a0(0x1a8)+_0x545b6b[_0x723076]+_0x1e28a0(0x1d5)+_0x38c89d[_0x1e28a0(0xfa)]()+_0x1e28a0(0x17b)+_0x125f1c+_0x1e28a0(0x1f5),_0x35adc4['onclick']=()=>openDayOptions(_0x125f1c,_0x545b6b[_0x723076]+'\x20'+_0x38c89d[_0x1e28a0(0xfa)]()),_0x5b7881[_0x1e28a0(0x1d0)](_0x35adc4);const _0x150e7e=document[_0x1e28a0(0x189)](_0x1e28a0(0x1d3));_0x150e7e[_0x1e28a0(0xe1)]=_0x1e28a0(0x20f)+(_0x39ce1a?'today':''),_0x150e7e[_0x1e28a0(0x19c)](_0x1e28a0(0x1ba),_0x125f1c),_0x150e7e[_0x1e28a0(0x19c)](_0x1e28a0(0xc1),_0x723076),renderEventsForColumn(_0x150e7e,_0x125f1c,_0x723076),attachLongPressHandler(_0x150e7e,_0x38c89d),_0x5241f0['appendChild'](_0x150e7e),updateDayStats(_0x125f1c);}}function reRenderBlocks(){const _0x179a9c=a2_0x2a3fd0;document[_0x179a9c(0x9a)](_0x179a9c(0xb2))[_0x179a9c(0xc5)](_0x4d8e31=>{const _0x55cfc2=_0x179a9c;_0x4d8e31[_0x55cfc2(0x9a)](_0x55cfc2(0x1a0))[_0x55cfc2(0xc5)](_0x260a32=>_0x260a32[_0x55cfc2(0x1e9)]());const _0x82a527=_0x4d8e31[_0x55cfc2(0x1ff)](_0x55cfc2(0x1ba)),_0x442d1a=parseInt(_0x4d8e31[_0x55cfc2(0x1ff)](_0x55cfc2(0xc1))),_0xbef2dc=Math['round'](_0x4d8e31['offsetLeft']);(availabilityPattern[_0x442d1a]||[])[_0x55cfc2(0xc5)](_0x1a1db4=>{const _0x4f784c=_0x55cfc2,_0x30aeeb=document[_0x4f784c(0x189)](_0x4f784c(0x1d3));_0x30aeeb[_0x4f784c(0xe1)]='blocked-slot\x20stripe-bg';const _0x2842df=_0x1a1db4*GRID_H;_0x30aeeb[_0x4f784c(0xd6)][_0x4f784c(0x1ad)]=_0x2842df+'px',_0x30aeeb[_0x4f784c(0xd6)][_0x4f784c(0xc9)]='-'+_0xbef2dc+_0x4f784c(0x1de)+_0x2842df+'px',_0x4d8e31['appendChild'](_0x30aeeb);});if(specialRanges&&specialRanges[_0x55cfc2(0x98)]>0x0){const _0x1f545c=new Date(_0x82a527+_0x55cfc2(0xd5))[_0x55cfc2(0x154)](),_0xdec666=new Date(_0x82a527+_0x55cfc2(0x1fd))[_0x55cfc2(0x154)]();specialRanges[_0x55cfc2(0xc5)](_0x5418c4=>{const _0x2a2792=_0x55cfc2,_0x5d68a9=new Date(_0x5418c4[_0x2a2792(0xcf)])[_0x2a2792(0x154)](),_0x2c5d33=new Date(_0x5418c4[_0x2a2792(0xf4)])['getTime'](),_0x159528=Math[_0x2a2792(0x191)](_0x1f545c,_0x5d68a9),_0x514fa3=Math[_0x2a2792(0xd2)](_0xdec666,_0x2c5d33);if(_0x159528<_0x514fa3){if(_0x159528<=_0x1f545c&&_0x514fa3>=_0xdec666-0xea60){if(!_0x4d8e31[_0x2a2792(0x1c0)]('.day-off-overlay')){const _0x56f954=document[_0x2a2792(0x189)]('div');_0x56f954[_0x2a2792(0xe1)]='day-off-overlay\x20stripe-bg',_0x56f954['style'][_0x2a2792(0xc9)]='-'+_0xbef2dc+_0x2a2792(0x17e),_0x4d8e31[_0x2a2792(0x1d0)](_0x56f954);}}else{const _0x5bd9ca=(_0x159528-_0x1f545c)/0x36ee80*GRID_H,_0x5c5971=(_0x514fa3-_0x159528)/0x36ee80*GRID_H,_0x13fe34=document['createElement']('div');_0x13fe34['className']='blocked-range-part\x20stripe-bg',_0x13fe34[_0x2a2792(0xd6)][_0x2a2792(0x1ad)]=_0x5bd9ca+'px',_0x13fe34[_0x2a2792(0xd6)]['height']=_0x5c5971+'px',_0x13fe34[_0x2a2792(0xd6)][_0x2a2792(0xc9)]='-'+_0xbef2dc+_0x2a2792(0x1de)+_0x5bd9ca+'px',_0x4d8e31[_0x2a2792(0x1d0)](_0x13fe34);}}});}if(dateExceptions[_0x82a527]===_0x55cfc2(0x1b0)){if(!_0x4d8e31['querySelector'](_0x55cfc2(0xe7))){const _0x497303=document[_0x55cfc2(0x189)]('div');_0x497303[_0x55cfc2(0xe1)]='day-off-overlay\x20stripe-bg',_0x497303['style']['backgroundPosition']='-'+_0xbef2dc+_0x55cfc2(0x17e),_0x4d8e31['appendChild'](_0x497303);}}renderEventsForColumn(_0x4d8e31,_0x82a527,_0x442d1a),updateDayStats(_0x82a527);});}function updateAllDayStats(){const _0xa2737c=a2_0x2a3fd0;document['querySelectorAll'](_0xa2737c(0x113))['forEach'](_0x22246e=>{const _0x4521d4=_0xa2737c;updateDayStats(_0x22246e['getAttribute'](_0x4521d4(0x1ba)));});}function updateDayStats(_0x1c5b9c){const _0x382b41=a2_0x2a3fd0,_0x4cd6de=document[_0x382b41(0x116)]('stat-'+_0x1c5b9c);if(!_0x4cd6de)return;const _0x3bdda7=new Date(_0x1c5b9c);let _0x3e351c=_0x3bdda7[_0x382b41(0x125)]()-0x1;if(_0x3e351c===-0x1)_0x3e351c=0x6;if(dateExceptions[_0x1c5b9c]===_0x382b41(0x1b0)){_0x4cd6de['style'][_0x382b41(0x205)]=_0x382b41(0x1ab);return;}const _0x590aae=availabilityPattern[_0x3e351c]||[],_0x204d08=0x18-_0x590aae[_0x382b41(0x98)],_0x4ad8c0=_0x204d08*0x3c,_0x8ae129=sessions[_0x382b41(0x17c)](_0x42ac37=>_0x42ac37[_0x382b41(0x166)]===_0x1c5b9c&&_0x42ac37[_0x382b41(0x172)]!==_0x382b41(0x19a));if(_0x8ae129[_0x382b41(0x98)]===0x0){_0x4cd6de[_0x382b41(0xd6)][_0x382b41(0x205)]=_0x382b41(0x1ab);return;}let _0xbb7b27=_0x8ae129['map'](_0x259ec6=>{const _0x291325=_0x382b41,[_0x1d93d4,_0x4f3e8f]=_0x259ec6['start']['split'](':')[_0x291325(0x143)](Number),[_0x5523c8,_0x470291]=_0x259ec6[_0x291325(0xf4)]['split'](':')[_0x291325(0x143)](Number);return[_0x1d93d4*0x3c+_0x4f3e8f,_0x5523c8*0x3c+_0x470291];});_0xbb7b27[_0x382b41(0xbb)]((_0x8c56d1,_0xb65e63)=>_0x8c56d1[0x0]-_0xb65e63[0x0]);let _0x2249b9=[];if(_0xbb7b27[_0x382b41(0x98)]>0x0){let _0x1fbc39=_0xbb7b27[0x0];for(let _0x27b5dc=0x1;_0x27b5dc<_0xbb7b27[_0x382b41(0x98)];_0x27b5dc++){_0xbb7b27[_0x27b5dc][0x0]<_0x1fbc39[0x1]?_0x1fbc39[0x1]=Math[_0x382b41(0x191)](_0x1fbc39[0x1],_0xbb7b27[_0x27b5dc][0x1]):(_0x2249b9[_0x382b41(0x1ca)](_0x1fbc39),_0x1fbc39=_0xbb7b27[_0x27b5dc]);}_0x2249b9[_0x382b41(0x1ca)](_0x1fbc39);}let _0x2867c4=0x0;_0x2249b9[_0x382b41(0xc5)](_0x599fb6=>_0x2867c4+=_0x599fb6[0x1]-_0x599fb6[0x0]),_0x4cd6de[_0x382b41(0xd6)]['display']=_0x382b41(0x13f);const _0x4a97b2=_0x4cd6de[_0x382b41(0x1c0)](_0x382b41(0x13c));if(_0x4ad8c0===0x0){_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0xb3)]=_0x382b41(0x18f),_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0x156)]=_0x382b41(0x148);return;}const _0x4ef661=_0x2867c4/_0x4ad8c0*0x64;console[_0x382b41(0x140)]('['+_0x1c5b9c+_0x382b41(0xf8)+_0x204d08+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x2867c4+_0x382b41(0xf2)+_0x4ef661['toFixed'](0x1)+'%'),_0x4ef661>0x64?(_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0xb3)]=_0x382b41(0x18f),_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0x156)]=_0x382b41(0x148)):(_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0xb3)]=_0x4ef661+'%',_0x4a97b2[_0x382b41(0xd6)][_0x382b41(0x156)]='var(--acc-current)');}function renderEventsForColumn(_0x343411,_0x1870d5,_0x38670e){const _0x3c7c81=a2_0x2a3fd0,_0x545ed=sessions[_0x3c7c81(0x17c)](_0x40c8f7=>_0x40c8f7[_0x3c7c81(0x166)]===_0x1870d5),_0x329d74=_0x545ed['map'](_0x4bd8ca=>{const _0x206800=_0x3c7c81,[_0x5462b6,_0x6da89f]=_0x4bd8ca[_0x206800(0xcf)][_0x206800(0xb1)](':')[_0x206800(0x143)](Number),[_0x2b5ce9,_0x59f809]=_0x4bd8ca[_0x206800(0xf4)][_0x206800(0xb1)](':')[_0x206800(0x143)](Number);return{'data':_0x4bd8ca,'start':_0x5462b6*0x3c+_0x6da89f,'end':_0x2b5ce9*0x3c+_0x59f809,'colIndex':0x0};});_0x329d74['sort']((_0x8df8e5,_0x58d16d)=>{const _0x3e0dfc=_0x3c7c81;if(_0x8df8e5[_0x3e0dfc(0xcf)]!==_0x58d16d[_0x3e0dfc(0xcf)])return _0x8df8e5[_0x3e0dfc(0xcf)]-_0x58d16d[_0x3e0dfc(0xcf)];return _0x58d16d[_0x3e0dfc(0xf4)]-_0x58d16d['start']-(_0x8df8e5[_0x3e0dfc(0xf4)]-_0x8df8e5[_0x3e0dfc(0xcf)]);});const _0xfec3af=[];_0x329d74[_0x3c7c81(0xc5)](_0x52be13=>{const _0x1ade7f=_0x3c7c81;let _0x3a1b34=![];for(let _0x4ca50a=0x0;_0x4ca50a<_0xfec3af[_0x1ade7f(0x98)];_0x4ca50a++){const _0x4066b4=_0xfec3af[_0x4ca50a],_0xb27b32=_0x4066b4[_0x4066b4[_0x1ade7f(0x98)]-0x1];if(_0x52be13[_0x1ade7f(0xcf)]>=_0xb27b32[_0x1ade7f(0xf4)]){_0x4066b4['push'](_0x52be13),_0x52be13['colIndex']=_0x4ca50a,_0x3a1b34=!![];break;}}!_0x3a1b34&&(_0xfec3af[_0x1ade7f(0x1ca)]([_0x52be13]),_0x52be13['colIndex']=_0xfec3af[_0x1ade7f(0x98)]-0x1);}),_0x329d74['forEach'](_0x503bcf=>{const _0x5a0c67=_0x3c7c81;let _0xca67b=0x0;_0x329d74[_0x5a0c67(0xc5)](_0x2cfe05=>{const _0x1b6df6=_0x5a0c67;if(Math[_0x1b6df6(0x191)](_0x503bcf[_0x1b6df6(0xcf)],_0x2cfe05[_0x1b6df6(0xcf)])<Math[_0x1b6df6(0xd2)](_0x503bcf[_0x1b6df6(0xf4)],_0x2cfe05[_0x1b6df6(0xf4)])){if(_0x2cfe05[_0x1b6df6(0x16d)]>_0xca67b)_0xca67b=_0x2cfe05[_0x1b6df6(0x16d)];}});const _0x119d8e=_0xca67b+0x1,_0x1b3888=0x64/_0x119d8e,_0x4a3f10=_0x503bcf[_0x5a0c67(0x16d)]*_0x1b3888,_0x3a6f3a=createEventEl(_0x503bcf[_0x5a0c67(0x199)]);_0x3a6f3a[_0x5a0c67(0xd6)][_0x5a0c67(0xb3)]='calc('+_0x1b3888+_0x5a0c67(0x133),_0x3a6f3a['style'][_0x5a0c67(0x1a5)]=_0x5a0c67(0xbc)+_0x4a3f10+_0x5a0c67(0xf1),_0x3a6f3a['style'][_0x5a0c67(0xc8)]=0xa+_0x503bcf[_0x5a0c67(0x16d)],_0x1b3888<0x55&&_0x3a6f3a[_0x5a0c67(0xaf)]['add'](_0x5a0c67(0x179)),_0x343411[_0x5a0c67(0x1d0)](_0x3a6f3a);});}function createEventEl(_0x47da95){const _0x1472c5=a2_0x2a3fd0,[_0x16d000,_0x467707]=_0x47da95['start'][_0x1472c5(0xb1)](':')[_0x1472c5(0x143)](Number),[_0x12f388,_0x44e1d1]=_0x47da95[_0x1472c5(0xf4)][_0x1472c5(0xb1)](':')[_0x1472c5(0x143)](Number),_0x55a757=(_0x16d000*0x3c+_0x467707)/0x3c*GRID_H,_0x2822dc=(_0x12f388*0x3c+_0x44e1d1-(_0x16d000*0x3c+_0x467707))/0x3c*GRID_H,_0x26cc8=document['createElement'](_0x1472c5(0x1d3)),_0x1e155a=_0x47da95[_0x1472c5(0x172)]===_0x1472c5(0xd9)?_0x1472c5(0x20a):'';_0x26cc8[_0x1472c5(0xe1)]='event-card'+_0x1e155a,_0x26cc8[_0x1472c5(0xd6)]['top']=_0x55a757+'px',_0x26cc8['style'][_0x1472c5(0x1bc)]=Math['max'](_0x2822dc,0x14)+'px';const _0x4dd530=clients[_0x1472c5(0x97)](_0x580db0=>_0x47da95[_0x1472c5(0x10d)]&&String(_0x580db0['id'])===String(_0x47da95[_0x1472c5(0x10d)])||_0x580db0[_0x1472c5(0x220)]===_0x47da95[_0x1472c5(0x9e)]),_0x4a2447=_0x4dd530?_0x4dd530[_0x1472c5(0x1aa)]:'#0a84ff';_0x26cc8[_0x1472c5(0xd6)][_0x1472c5(0xad)]=_0x4a2447,_0x26cc8[_0x1472c5(0xd6)][_0x1472c5(0x15a)]=hexToRgba(_0x4a2447,0.85);let _0x586ef9='<div\x20class=\x22ev-title\x22>'+_0x47da95['client']+_0x1472c5(0x1f3)+_0x47da95[_0x1472c5(0xcf)]+_0x1472c5(0x182)+_0x47da95[_0x1472c5(0xf4)]+_0x1472c5(0xbd);return _0x47da95['seriesId']&&(_0x586ef9+=_0x1472c5(0xe9)),_0x47da95[_0x1472c5(0x172)]==='completed'&&(_0x586ef9+=_0x1472c5(0x139)),_0x26cc8['innerHTML']=_0x586ef9,_0x26cc8['onclick']=_0x5370b8=>{const _0x545590=_0x1472c5;_0x5370b8[_0x545590(0x1c6)](),openEdit(_0x47da95);},_0x26cc8;}function attachLongPressHandler(_0xdd795b,_0x207e37){const _0x500a3b=a2_0x2a3fd0;let _0x8603f3=0x0,_0xa0df50=null;const _0x439127=_0x3ccc94=>{const _0x48d6d4=a2_0x2309;if(_0x3ccc94[_0x48d6d4(0x12c)]['closest']('.event-card'))return;isScrolling=![],_0x8603f3=_0x3ccc94[_0x48d6d4(0xdd)]?_0x3ccc94[_0x48d6d4(0xdd)][0x0]['clientY']:_0x3ccc94['clientY'],_0xa0df50=setTimeout(()=>{const _0x256d9a=_0x48d6d4;if(!isScrolling){navigator[_0x256d9a(0x119)]?.(0x32);const _0x48cb35=_0xdd795b[_0x256d9a(0x194)](),_0x3cf541=Math[_0x256d9a(0x1cd)]((_0x8603f3-_0x48cb35[_0x256d9a(0x1ad)])/GRID_H);_0x207e37[_0x256d9a(0xfc)](_0x3cf541,0x0),openAddSession(_0x207e37);}},0x1f4);},_0x1ecaaa=()=>{isScrolling=!![],clearTimeout(_0xa0df50);},_0x494a49=()=>{clearTimeout(_0xa0df50);};_0xdd795b['addEventListener'](_0x500a3b(0x187),_0x439127,{'passive':!![]}),_0xdd795b[_0x500a3b(0xb7)](_0x500a3b(0xe5),_0x1ecaaa,{'passive':!![]}),_0xdd795b[_0x500a3b(0xb7)](_0x500a3b(0x131),_0x494a49),_0xdd795b['addEventListener'](_0x500a3b(0x11d),_0x439127),_0xdd795b[_0x500a3b(0xb7)]('mousemove',_0x1ecaaa),_0xdd795b[_0x500a3b(0xb7)](_0x500a3b(0x1ea),_0x494a49);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2fcee9=a2_0x2a3fd0,_0xd2a197=document[_0x2fcee9(0x116)](_0x2fcee9(0xc6)),_0x171485=_0xd2a197[_0x2fcee9(0xa9)],_0x5a22ba=_0xd2a197['scrollWidth'],_0x26275b=_0xd2a197[_0x2fcee9(0xef)];if(_0x5a22ba-(_0x171485+_0x26275b)<0x12c){const _0x599a8f=endOffset;endOffset+=0xe,renderDayRange(_0x599a8f+0x1,endOffset),reRenderBlocks();}if(_0x171485<0x12c){const _0x5de0ca=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5de0ca-0x1),_0xd2a197['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x9332f3,_0x2aa4ef){const _0x5cd124=a2_0x2a3fd0,_0x597298=document['getElementById'](_0x5cd124(0x1ef)),_0x3996d1=document['getElementById'](_0x5cd124(0xdc)),_0x3e537e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x47949b=new Date();_0x47949b[_0x5cd124(0xfc)](0x0,0x0,0x0,0x0);const _0x5b6b08=getLocalDateStr(new Date()),_0x5ec64e=document[_0x5cd124(0xbe)](),_0x15992c=document[_0x5cd124(0xbe)]();for(let _0x405b7b=_0x9332f3;_0x405b7b<=_0x2aa4ef;_0x405b7b++){const _0x6202b7=new Date(_0x47949b);_0x6202b7[_0x5cd124(0x1d4)](_0x6202b7[_0x5cd124(0xfa)]()+_0x405b7b);const _0x2ff5bd=getLocalDateStr(_0x6202b7);let _0x273cef=_0x6202b7['getDay']()-0x1;if(_0x273cef===-0x1)_0x273cef=0x6;const _0x5bae4d=_0x2ff5bd===_0x5b6b08,_0x20c0b3=document[_0x5cd124(0x189)](_0x5cd124(0x1d3));_0x20c0b3[_0x5cd124(0xe1)]=_0x5cd124(0xb8)+(_0x5bae4d?'today':''),_0x20c0b3['id']=_0x5cd124(0x1c1)+_0x2ff5bd,_0x20c0b3['setAttribute']('data-date',_0x2ff5bd),_0x20c0b3[_0x5cd124(0xed)]='<div\x20class=\x22dch-day\x22>'+_0x3e537e[_0x273cef]+_0x5cd124(0x1d5)+_0x6202b7[_0x5cd124(0xfa)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2ff5bd+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x20c0b3[_0x5cd124(0x1d7)]=()=>openDayOptions(_0x2ff5bd,_0x3e537e[_0x273cef]+'\x20'+_0x6202b7[_0x5cd124(0xfa)]()),_0x5ec64e['appendChild'](_0x20c0b3);const _0x58d10e=document[_0x5cd124(0x189)]('div');_0x58d10e[_0x5cd124(0xe1)]=_0x5cd124(0x20f)+(_0x5bae4d?_0x5cd124(0x183):''),_0x58d10e['setAttribute'](_0x5cd124(0x1ba),_0x2ff5bd),_0x58d10e[_0x5cd124(0x19c)](_0x5cd124(0xc1),_0x273cef),renderEventsForColumn(_0x58d10e,_0x2ff5bd,_0x273cef),attachLongPressHandler(_0x58d10e,_0x6202b7),_0x15992c['appendChild'](_0x58d10e),updateDayStats(_0x2ff5bd);}_0x597298['insertBefore'](_0x5ec64e,_0x597298[_0x5cd124(0x10f)]),_0x3996d1[_0x5cd124(0x1f2)](_0x15992c,_0x3996d1[_0x5cd124(0x1c0)](_0x5cd124(0x1a4)));}function validateAppointment(_0x266e66,_0x415406,_0x1f251b,_0x247ee6,_0x3421cf){const _0x47b79a=a2_0x2a3fd0,[_0x19fb9b,_0x5b7a1a]=_0x415406[_0x47b79a(0xb1)](':')['map'](Number),[_0x43e84e,_0x17edc8]=_0x1f251b['split'](':')[_0x47b79a(0x143)](Number),_0x480fd0=_0x19fb9b*0x3c+_0x5b7a1a,_0x214199=_0x43e84e*0x3c+_0x17edc8,_0x2435c6=String(_0x3421cf);let _0x5e6d98=![],_0x3cddad='';for(let _0x46e757 of sessions){if(_0x46e757[_0x47b79a(0x166)]!==_0x266e66)continue;if(_0x46e757[_0x47b79a(0x172)]===_0x47b79a(0x19a))continue;if(_0x247ee6&&String(_0x46e757['id'])===String(_0x247ee6))continue;const [_0x4188a9,_0x131218]=_0x46e757[_0x47b79a(0xcf)][_0x47b79a(0xb1)](':')[_0x47b79a(0x143)](Number),[_0x191175,_0x53e33a]=_0x46e757[_0x47b79a(0xf4)][_0x47b79a(0xb1)](':')[_0x47b79a(0x143)](Number),_0x4ab058=_0x4188a9*0x3c+_0x131218,_0x50600e=_0x191175*0x3c+_0x53e33a;if(Math['max'](_0x480fd0,_0x4ab058)<Math[_0x47b79a(0xd2)](_0x214199,_0x50600e)){if(_0x46e757[_0x47b79a(0x10d)]&&String(_0x46e757[_0x47b79a(0x10d)])===_0x2435c6)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x46e757[_0x47b79a(0x9e)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x5e6d98=!![],_0x3cddad=_0x46e757['client'];}}if(_0x5e6d98)return{'valid':!![],'warning':_0x47b79a(0xba)+_0x3cddad};return{'valid':!![]};}function updateDateDisplay(){const _0x3c9ef9=a2_0x2a3fd0,_0x55b74e=document['getElementById']('inpDate')[_0x3c9ef9(0xe2)],_0x10116b=document[_0x3c9ef9(0x116)](_0x3c9ef9(0x1e3));if(!_0x55b74e){_0x10116b[_0x3c9ef9(0xd4)]='';return;}const [_0x5ac913,_0x36c5c5,_0x4d856b]=_0x55b74e[_0x3c9ef9(0xb1)]('-')[_0x3c9ef9(0x143)](Number),_0x17327c=new Date(_0x5ac913,_0x36c5c5-0x1,_0x4d856b),_0x6e5d90={'weekday':_0x3c9ef9(0xa0),'day':_0x3c9ef9(0x16a),'month':_0x3c9ef9(0xa0),'year':_0x3c9ef9(0x16a)};let _0x2661b9=_0x17327c[_0x3c9ef9(0x1e8)](_0x3c9ef9(0xc3),_0x6e5d90);_0x2661b9=_0x2661b9[_0x3c9ef9(0x188)](0x0)['toUpperCase']()+_0x2661b9[_0x3c9ef9(0xe6)](0x1),_0x10116b[_0x3c9ef9(0xd4)]=_0x2661b9;}function autoSetEndTime(){const _0x18e3d1=a2_0x2a3fd0,_0x2a29a6=document['getElementById']('inpStart')[_0x18e3d1(0xe2)];if(!_0x2a29a6)return;const [_0x4e974b,_0xe6f8ef]=_0x2a29a6[_0x18e3d1(0xb1)](':')['map'](Number);let _0x20e0b4=_0x4e974b+0x1;if(_0x20e0b4>0x17)_0x20e0b4=0x0;const _0x12dbe8=String(_0x20e0b4)[_0x18e3d1(0xac)](0x2,'0')+':'+String(_0xe6f8ef)['padStart'](0x2,'0');document['getElementById'](_0x18e3d1(0x190))[_0x18e3d1(0xe2)]=_0x12dbe8;}function populateClientSelect(){const _0x3aca1d=a2_0x2a3fd0,_0x46d1d2=document[_0x3aca1d(0x116)](_0x3aca1d(0x15f));_0x46d1d2[_0x3aca1d(0xed)]='';if(clients[_0x3aca1d(0x98)]===0x0){const _0xd3c464=document[_0x3aca1d(0x189)](_0x3aca1d(0xff));_0xd3c464[_0x3aca1d(0xa7)]=_0x3aca1d(0x206),_0x46d1d2[_0x3aca1d(0x1d0)](_0xd3c464);return;}clients['forEach'](_0x289ca1=>{const _0x4d0ede=_0x3aca1d,_0x51ebf5=document['createElement']('option');_0x51ebf5[_0x4d0ede(0xe2)]=_0x289ca1[_0x4d0ede(0x220)],_0x51ebf5['textContent']=_0x289ca1['name'],_0x46d1d2[_0x4d0ede(0x1d0)](_0x51ebf5);});}function openActionSheet(_0x41d24b){const _0x54d74a=a2_0x2a3fd0,_0x477cf3=document[_0x54d74a(0x116)](_0x54d74a(0x1df)),_0x16cd72=document[_0x54d74a(0x116)]('actionSheetOverlay'),_0x305e88=document[_0x54d74a(0x116)](_0x54d74a(0x150)),_0x4d4a23=document[_0x54d74a(0x116)](_0x54d74a(0x14d)),_0x4fd491=document[_0x54d74a(0x116)]('asBtnSeries');_0x16cd72['classList']['add'](_0x54d74a(0x210)),_0x477cf3['classList']['add'](_0x54d74a(0x1ae));if(_0x41d24b==='save')_0x305e88[_0x54d74a(0xd4)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x4d4a23[_0x54d74a(0xd4)]=_0x54d74a(0x223),_0x4d4a23[_0x54d74a(0x1d7)]=()=>{const _0x48bfdc=_0x54d74a;closeActionSheet(),updateSeriesBatch(_0x48bfdc(0x115),tempSessionData);},_0x4fd491[_0x54d74a(0xd4)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4fd491[_0x54d74a(0x1d7)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x41d24b==='delete'&&(_0x305e88[_0x54d74a(0xd4)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x4d4a23[_0x54d74a(0xd4)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x4d4a23[_0x54d74a(0xe1)]=_0x54d74a(0x212),_0x4d4a23['onclick']=()=>{const _0x309053=_0x54d74a;closeActionSheet(),commitDelete(_0x309053(0x115),sessions[_0x309053(0x97)](_0x2147e6=>_0x2147e6['id']===editingId));},_0x4fd491[_0x54d74a(0xd4)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4fd491[_0x54d74a(0xe1)]='as-button\x20danger\x20bold',_0x4fd491[_0x54d74a(0x1d7)]=()=>{const _0x4c0331=_0x54d74a;closeActionSheet(),commitDelete(_0x4c0331(0x193),sessions[_0x4c0331(0x97)](_0x239dc6=>_0x239dc6['id']===editingId));});}function closeActionSheet(){const _0x7ec0f5=a2_0x2a3fd0;document[_0x7ec0f5(0x116)](_0x7ec0f5(0x1df))[_0x7ec0f5(0xaf)][_0x7ec0f5(0x1e9)](_0x7ec0f5(0x1ae)),document[_0x7ec0f5(0x116)](_0x7ec0f5(0x1a3))['classList'][_0x7ec0f5(0x1e9)](_0x7ec0f5(0x210));}function openSettings(){const _0x4fe307=a2_0x2a3fd0;openSheet(_0x4fe307(0x18a));}function saveCoachSettings(){const _0x13c31c=a2_0x2a3fd0,_0x108bc8=document[_0x13c31c(0x116)]('settingCancelWindow')[_0x13c31c(0xe2)];localStorage['setItem'](_0x13c31c(0x132),_0x108bc8),console[_0x13c31c(0x140)](_0x13c31c(0xbf),_0x108bc8),DataManager[_0x13c31c(0x21e)](_0x13c31c(0x1c4),{'settings':{'cancel_window':_0x108bc8}})['catch'](_0x5e81c3=>{const _0x100f44=_0x13c31c;console[_0x100f44(0x105)](_0x100f44(0x1ac),_0x5e81c3),showToast(_0x100f44(0x164),![]);});}function loadCoachSettings(){const _0x3494d8=a2_0x2a3fd0,_0x1c7399=localStorage[_0x3494d8(0x1f0)](_0x3494d8(0x132));_0x1c7399&&(document[_0x3494d8(0x116)](_0x3494d8(0xe0))[_0x3494d8(0xe2)]=_0x1c7399);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x409153=a2_0x2a3fd0,_0x1c432e=document[_0x409153(0x116)](_0x409153(0xa8))['value'],_0x1d4706=document[_0x409153(0x116)](_0x409153(0x1f1))[_0x409153(0xe2)],_0x169cca=document[_0x409153(0x116)](_0x409153(0x20b))[_0x409153(0xe2)],_0x239304=document[_0x409153(0x116)](_0x409153(0x181))['value'];if(!_0x1c432e||!_0x1d4706||!_0x169cca||!_0x239304)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x1769ef=_0x1c432e+'T'+_0x1d4706,_0x56d8bb=_0x169cca+'T'+_0x239304;if(_0x1769ef>=_0x56d8bb)return alert(_0x409153(0x1b7));specialRanges['push']({'start':_0x1769ef,'end':_0x56d8bb}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x409153(0x1c2)](),DataManager[_0x409153(0x21e)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0xa0d60e){const _0x3c86a5=a2_0x2a3fd0;specialRanges['splice'](_0xa0d60e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3c86a5(0x1c2)](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x580f56=a2_0x2a3fd0;document[_0x580f56(0x116)](_0x580f56(0xa8))[_0x580f56(0xe2)]='',document['getElementById'](_0x580f56(0x1f1))[_0x580f56(0xe2)]=_0x580f56(0x20d),document[_0x580f56(0x116)]('rangeEndDate')[_0x580f56(0xe2)]='',document[_0x580f56(0x116)](_0x580f56(0x181))['value']=_0x580f56(0x111);}function renderRangesList(){const _0x212f5c=a2_0x2a3fd0,_0x304999=document[_0x212f5c(0x116)](_0x212f5c(0x219));_0x304999[_0x212f5c(0xed)]='';if(!specialRanges[_0x212f5c(0x98)]){_0x304999[_0x212f5c(0xed)]=_0x212f5c(0xdb);return;}specialRanges['forEach']((_0x86377c,_0x511035)=>{const _0x2e8aa2=_0x212f5c,_0x427661=document[_0x2e8aa2(0x189)](_0x2e8aa2(0x1d3));_0x427661[_0x2e8aa2(0xe1)]=_0x2e8aa2(0xf6);const _0x114e2a=_0x2332af=>{const _0x1a6260=_0x2e8aa2,_0x49f957=new Date(_0x2332af);return _0x49f957[_0x1a6260(0xfa)]()+'.'+String(_0x49f957[_0x1a6260(0x1fb)]()+0x1)[_0x1a6260(0xac)](0x2,'0')+'\x20'+String(_0x49f957['getHours']())[_0x1a6260(0xac)](0x2,'0')+':'+String(_0x49f957['getMinutes']())[_0x1a6260(0xac)](0x2,'0');};_0x427661['innerHTML']=_0x2e8aa2(0x1fa)+_0x114e2a(_0x86377c[_0x2e8aa2(0xcf)])+_0x2e8aa2(0xe8)+_0x114e2a(_0x86377c[_0x2e8aa2(0xf4)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x511035+_0x2e8aa2(0xf5),_0x304999[_0x2e8aa2(0x1d0)](_0x427661);});}function scrollToToday(){const _0x52dc16=a2_0x2a3fd0,_0x53ba62=getLocalDateStr(new Date()),_0x41978a=document['getElementById'](_0x52dc16(0x1c1)+_0x53ba62),_0x5287f5=document[_0x52dc16(0x116)]('matrixViewport');if(_0x41978a&&_0x5287f5){const _0x1d6871=_0x5287f5['clientWidth'],_0x45fca8=_0x41978a[_0x52dc16(0x200)],_0x2aeca8=_0x41978a[_0x52dc16(0x1dc)];_0x5287f5[_0x52dc16(0xa9)]=_0x45fca8-_0x1d6871/0x2+_0x2aeca8/0x2,_0x5287f5[_0x52dc16(0x168)]=0x9*GRID_H;}}function onScroll(){const _0x21c10a=a2_0x2a3fd0,_0x4ba37b=document[_0x21c10a(0x116)]('matrixViewport'),_0x84c945=document[_0x21c10a(0x9a)](_0x21c10a(0x113));for(let _0x5420f1 of _0x84c945)if(_0x5420f1[_0x21c10a(0x200)]>=_0x4ba37b[_0x21c10a(0xa9)]){const _0x3871c6=new Date(_0x5420f1[_0x21c10a(0x1ff)](_0x21c10a(0x1ba)));document[_0x21c10a(0x116)](_0x21c10a(0x216))[_0x21c10a(0xd4)]=_0x3871c6[_0x21c10a(0xa3)]('ru',{'month':'long'})[_0x21c10a(0x15e)]()+'\x20'+_0x3871c6[_0x21c10a(0x1e7)]();break;}}function showToast(_0x360d63,_0x3238d8=![]){const _0x4233e6=a2_0x2a3fd0,_0x1d1bf1=document['getElementById'](_0x4233e6(0x1f7));_0x1d1bf1[_0x4233e6(0xe1)]=_0x4233e6(0x117)+(_0x3238d8?_0x4233e6(0xce):''),document['getElementById'](_0x4233e6(0x1e0))[_0x4233e6(0xd4)]=_0x3238d8?_0x4233e6(0xfb):_0x4233e6(0x155),document[_0x4233e6(0x116)](_0x4233e6(0x1f6))[_0x4233e6(0xd4)]=_0x360d63,_0x1d1bf1['classList']['add'](_0x4233e6(0x1a9)),setTimeout(()=>{const _0x509df2=_0x4233e6;_0x1d1bf1[_0x509df2(0xaf)]['remove'](_0x509df2(0x1a9));},0xbb8);}function openDayOptions(_0x912d00,_0x160a54){const _0x191a82=a2_0x2a3fd0;selectedDayForOptions=_0x912d00,document['getElementById'](_0x191a82(0x9b))[_0x191a82(0xd4)]=_0x160a54,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x3ca297=a2_0x2a3fd0;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x3ca297(0x1b0),reRenderBlocks(),closeAllSheets(),DataManager[_0x3ca297(0x1c2)](),DataManager['fetchFromServer'](_0x3ca297(0x1c4),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x33b3d3=a2_0x2a3fd0;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x33b3d3(0x21e)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4c1212){const _0x8c452f=a2_0x2a3fd0;document[_0x8c452f(0x116)](_0x8c452f(0xaa))[_0x8c452f(0xaf)][_0x8c452f(0x145)]('active'),document[_0x8c452f(0x116)](_0x4c1212)[_0x8c452f(0xaf)][_0x8c452f(0x145)]('open');}function closeAllSheets(){const _0x24972c=a2_0x2a3fd0;document[_0x24972c(0x116)](_0x24972c(0xaa))[_0x24972c(0xaf)]['remove']('active'),document['querySelectorAll']('.sheet')['forEach'](_0x423207=>_0x423207[_0x24972c(0xaf)]['remove'](_0x24972c(0x1ae)));}function openPatternEditor(){const _0x458726=a2_0x2a3fd0;closeAllSheets(),document[_0x458726(0x116)](_0x458726(0x18e))[_0x458726(0xaf)][_0x458726(0x145)](_0x458726(0x1ae)),renderPatternEditor();}function closePatternEditor(){const _0x1298b9=a2_0x2a3fd0;document[_0x1298b9(0x116)]('patternEditor')['classList'][_0x1298b9(0x1e9)](_0x1298b9(0x1ae));}function savePattern(){const _0x185a7e=a2_0x2a3fd0;document['getElementById']('patternEditor')['classList'][_0x185a7e(0x1e9)](_0x185a7e(0x1ae)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x185a7e(0x21e)](_0x185a7e(0x1c4),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5eb6f8=a2_0x2a3fd0,_0x4bb211=document[_0x5eb6f8(0x116)](_0x5eb6f8(0x192));_0x4bb211[_0x5eb6f8(0xed)]='';const _0x2bc696=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x725615=document[_0x5eb6f8(0x189)]('div');_0x725615[_0x5eb6f8(0xe1)]='pe-corner',_0x4bb211['appendChild'](_0x725615),_0x2bc696[_0x5eb6f8(0xc5)]((_0x22bd44,_0x10df7b)=>{const _0x17be62=_0x5eb6f8,_0x3e9034=document[_0x17be62(0x189)]('div');_0x3e9034['className']='pe-col-header',_0x3e9034[_0x17be62(0xed)]=_0x22bd44+_0x17be62(0x14e),_0x3e9034[_0x17be62(0x1d7)]=()=>toggleColPattern(_0x10df7b),_0x4bb211[_0x17be62(0x1d0)](_0x3e9034);});for(let _0xfbf107=0x0;_0xfbf107<0x18;_0xfbf107++){const _0xebef42=document[_0x5eb6f8(0x189)](_0x5eb6f8(0x1d3));_0xebef42[_0x5eb6f8(0xe1)]=_0x5eb6f8(0xca),_0xebef42['innerHTML']=_0x5eb6f8(0x213)+String(_0xfbf107)[_0x5eb6f8(0xac)](0x2,'0')+_0x5eb6f8(0x151),_0xebef42[_0x5eb6f8(0x1d7)]=()=>toggleRowPattern(_0xfbf107),_0x4bb211[_0x5eb6f8(0x1d0)](_0xebef42);for(let _0x58a81a=0x0;_0x58a81a<0x7;_0x58a81a++){const _0x20cef5=document['createElement'](_0x5eb6f8(0x1d3)),_0x2981cc=(availabilityPattern[_0x58a81a]||[])[_0x5eb6f8(0xb9)](_0xfbf107),_0x26a00c=!_0x2981cc;_0x20cef5[_0x5eb6f8(0xe1)]=_0x5eb6f8(0x1b6)+(_0x26a00c?_0x5eb6f8(0x210):''),_0x20cef5[_0x5eb6f8(0x1d7)]=()=>toggleSinglePattern(_0x58a81a,_0xfbf107),_0x4bb211[_0x5eb6f8(0x1d0)](_0x20cef5);}}}function toggleSinglePattern(_0x1873bb,_0x2ed611){const _0x313ac9=a2_0x2a3fd0;if(!availabilityPattern[_0x1873bb])availabilityPattern[_0x1873bb]=[];const _0x5c6929=availabilityPattern[_0x1873bb],_0x217085=_0x5c6929[_0x313ac9(0x184)](_0x2ed611);_0x217085===-0x1?_0x5c6929['push'](_0x2ed611):_0x5c6929[_0x313ac9(0x1bd)](_0x217085,0x1),renderPatternEditor();}function toggleColPattern(_0x397bbb){const _0x1bd5b3=a2_0x2a3fd0;if(!availabilityPattern[_0x397bbb])availabilityPattern[_0x397bbb]=[];const _0x3da71d=availabilityPattern[_0x397bbb];_0x3da71d[_0x1bd5b3(0x98)]===0x0?availabilityPattern[_0x397bbb]=Array[_0x1bd5b3(0xc4)]({'length':0x18},(_0x12f593,_0x48520d)=>_0x48520d):availabilityPattern[_0x397bbb]=[],renderPatternEditor();}function toggleRowPattern(_0x5dda4f){const _0x43445b=a2_0x2a3fd0;let _0x262f39=!![];for(let _0x389c78=0x0;_0x389c78<0x7;_0x389c78++){if((availabilityPattern[_0x389c78]||[])['includes'](_0x5dda4f)){_0x262f39=![];break;}}for(let _0x1a0a23=0x0;_0x1a0a23<0x7;_0x1a0a23++){if(!availabilityPattern[_0x1a0a23])availabilityPattern[_0x1a0a23]=[];const _0x44e866=availabilityPattern[_0x1a0a23][_0x43445b(0x184)](_0x5dda4f);if(_0x262f39){if(_0x44e866===-0x1)availabilityPattern[_0x1a0a23][_0x43445b(0x1ca)](_0x5dda4f);}else{if(_0x44e866!==-0x1)availabilityPattern[_0x1a0a23][_0x43445b(0x1bd)](_0x44e866,0x1);}}renderPatternEditor();}function renderPCol(_0x41ca1f,_0x5f456d){const _0x49d978=a2_0x2a3fd0;_0x41ca1f[_0x49d978(0xed)]='';const _0x59d4a7=Math[_0x49d978(0x197)](_0x41ca1f[_0x49d978(0x200)]);(availabilityPattern[_0x5f456d]||[])['forEach'](_0x252e3c=>{const _0x51e33c=_0x49d978,_0x39c3a5=document[_0x51e33c(0x189)](_0x51e33c(0x1d3));_0x39c3a5[_0x51e33c(0xe1)]=_0x51e33c(0x165);const _0x1c2c57=_0x252e3c*GRID_H;_0x39c3a5[_0x51e33c(0xd6)][_0x51e33c(0x1ad)]=_0x1c2c57+'px',_0x39c3a5[_0x51e33c(0xd6)][_0x51e33c(0xc9)]='-'+_0x59d4a7+'px\x20-'+_0x1c2c57+'px',_0x39c3a5[_0x51e33c(0x1d7)]=_0x1107fb=>{_0x1107fb['stopPropagation'](),toggleSinglePattern(_0x5f456d,_0x252e3c);},_0x41ca1f[_0x51e33c(0x1d0)](_0x39c3a5);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2e9c88=a2_0x2a3fd0,_0x34d00a=new Date(),_0x473306=document[_0x2e9c88(0x116)](_0x2e9c88(0x1bf)),_0x39f8d1=document[_0x2e9c88(0x116)](_0x2e9c88(0x1bb)),_0x31d50e=(_0x34d00a[_0x2e9c88(0x21b)]()*0x3c+_0x34d00a['getMinutes']())/0x3c*GRID_H;_0x473306[_0x2e9c88(0xd6)][_0x2e9c88(0x1ad)]=_0x31d50e+'px',_0x473306['style'][_0x2e9c88(0x205)]=_0x2e9c88(0x13e),_0x39f8d1[_0x2e9c88(0xd4)]=String(_0x34d00a[_0x2e9c88(0x21b)]())['padStart'](0x2,'0')+':'+String(_0x34d00a['getMinutes']())[_0x2e9c88(0xac)](0x2,'0'),_0x39f8d1[_0x2e9c88(0xd6)][_0x2e9c88(0x205)]=_0x2e9c88(0x13e),_0x39f8d1[_0x2e9c88(0xd6)]['top']=_0x31d50e+'px';}document[a2_0x2a3fd0(0xb7)](a2_0x2a3fd0(0x10b),init);function openDayOptions(_0x498d7c){const _0x324daf=a2_0x2a3fd0;selectedDayForOptions=_0x498d7c;const _0x57b5f5=new Date(_0x498d7c),_0xe09013={'weekday':_0x324daf(0xa0),'day':'numeric','month':_0x324daf(0xa0),'year':'numeric'},_0x1bae81=_0x57b5f5[_0x324daf(0x1e8)](_0x324daf(0xc3),_0xe09013);document[_0x324daf(0x116)]('doDateHeader')[_0x324daf(0xd4)]=_0x1bae81[_0x324daf(0x188)](0x0)[_0x324daf(0x15e)]()+_0x1bae81[_0x324daf(0xe6)](0x1);let _0x53733d=_0x57b5f5[_0x324daf(0x125)]()-0x1;if(_0x53733d===-0x1)_0x53733d=0x6;const _0x266a9a=availabilityPattern[_0x53733d]||[],_0xb7cf9f=0x18-_0x266a9a['length'],_0x1e8b8b=_0xb7cf9f*0x3c,_0x2be14a=sessions[_0x324daf(0x17c)](_0x4bcbec=>_0x4bcbec[_0x324daf(0x166)]===_0x498d7c&&_0x4bcbec[_0x324daf(0x172)]!=='cancelled');let _0xcb0cee=_0x2be14a['map'](_0xab7938=>{const _0x597e0c=_0x324daf,[_0x425b86,_0x4f3c20]=_0xab7938[_0x597e0c(0xcf)][_0x597e0c(0xb1)](':')[_0x597e0c(0x143)](Number),[_0x3fada1,_0x490166]=_0xab7938[_0x597e0c(0xf4)]['split'](':')[_0x597e0c(0x143)](Number);return[_0x425b86*0x3c+_0x4f3c20,_0x3fada1*0x3c+_0x490166];});_0xcb0cee[_0x324daf(0xbb)]((_0x40a115,_0x2f28e9)=>_0x40a115[0x0]-_0x2f28e9[0x0]);let _0x5c41ff=[];if(_0xcb0cee[_0x324daf(0x98)]>0x0){let _0x4db777=_0xcb0cee[0x0];for(let _0x49f7f1=0x1;_0x49f7f1<_0xcb0cee[_0x324daf(0x98)];_0x49f7f1++){_0xcb0cee[_0x49f7f1][0x0]<_0x4db777[0x1]?_0x4db777[0x1]=Math[_0x324daf(0x191)](_0x4db777[0x1],_0xcb0cee[_0x49f7f1][0x1]):(_0x5c41ff[_0x324daf(0x1ca)](_0x4db777),_0x4db777=_0xcb0cee[_0x49f7f1]);}_0x5c41ff[_0x324daf(0x1ca)](_0x4db777);}let _0x54c955=0x0;_0x5c41ff['forEach'](_0x26e724=>_0x54c955+=_0x26e724[0x1]-_0x26e724[0x0]),document[_0x324daf(0x116)](_0x324daf(0x171))[_0x324daf(0xd4)]=formatMinsToHrs(_0x1e8b8b),document['getElementById'](_0x324daf(0x1b4))['textContent']=formatMinsToHrs(_0x54c955);const _0x58fd55=_0x1e8b8b>0x0?Math[_0x324daf(0x197)](_0x54c955/_0x1e8b8b*0x64):0x0,_0x502560=document[_0x324daf(0x116)](_0x324daf(0x208));_0x502560['textContent']=_0x58fd55+'%';const _0x3703cf=document[_0x324daf(0x116)](_0x324daf(0x1cb));if(_0x58fd55>0x64)_0x502560[_0x324daf(0xd6)][_0x324daf(0x1aa)]='var(--acc-red)',_0x3703cf[_0x324daf(0xd6)][_0x324daf(0x130)]=_0x324daf(0x17f);else _0x58fd55>0x50?(_0x502560[_0x324daf(0xd6)][_0x324daf(0x1aa)]=_0x324daf(0x209),_0x3703cf[_0x324daf(0xd6)][_0x324daf(0x130)]=_0x324daf(0x169)):(_0x502560[_0x324daf(0xd6)][_0x324daf(0x1aa)]=_0x324daf(0x162),_0x3703cf[_0x324daf(0xd6)]['borderColor']=_0x324daf(0xcb));const _0x50b93a=document[_0x324daf(0x116)](_0x324daf(0x12e));_0x50b93a[_0x324daf(0xed)]='';_0x2be14a[_0x324daf(0x98)]===0x0?_0x50b93a[_0x324daf(0xed)]=_0x324daf(0x167):(_0x2be14a[_0x324daf(0xbb)]((_0x89b374,_0x2c51b3)=>_0x89b374[_0x324daf(0xcf)][_0x324daf(0x1da)](_0x2c51b3['start'])),_0x2be14a[_0x324daf(0xc5)](_0x567ce4=>{const _0x3281bd=_0x324daf,_0x3f453b=clients[_0x3281bd(0x97)](_0x55bbd9=>_0x55bbd9[_0x3281bd(0x220)]===_0x567ce4[_0x3281bd(0x9e)]),_0x595e90=_0x3f453b?_0x3f453b['color']:_0x3281bd(0xe4),_0x446d30=_0x567ce4[_0x3281bd(0x172)]===_0x3281bd(0xd9),_0x68361d=_0x446d30?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x38f58f=document[_0x3281bd(0x189)]('div');_0x38f58f[_0x3281bd(0xe1)]=_0x3281bd(0x10a),_0x38f58f[_0x3281bd(0xd6)][_0x3281bd(0xad)]=_0x595e90,_0x38f58f[_0x3281bd(0xed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x567ce4['start']+'\x20-\x20'+_0x567ce4[_0x3281bd(0xf4)]+_0x3281bd(0x109)+_0x567ce4[_0x3281bd(0x9e)]+_0x3281bd(0xb4)+_0x68361d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x50b93a[_0x3281bd(0x1d0)](_0x38f58f);}));const _0x4f8a54=document['getElementById']('btnDayToggle'),_0x57e68a=dateExceptions[_0x498d7c]===_0x324daf(0x1b0);_0x57e68a?(_0x4f8a54[_0x324daf(0xd4)]=_0x324daf(0x11c),_0x4f8a54['className']=_0x324daf(0xea),_0x4f8a54[_0x324daf(0xd6)][_0x324daf(0x1aa)]=_0x324daf(0x162),_0x4f8a54[_0x324daf(0xd6)][_0x324daf(0x156)]=_0x324daf(0x204)):(_0x4f8a54[_0x324daf(0xd4)]=_0x324daf(0x1e4),_0x4f8a54[_0x324daf(0xe1)]=_0x324daf(0x1be),_0x4f8a54[_0x324daf(0xd6)][_0x324daf(0x1aa)]='var(--acc-red)',_0x4f8a54['style'][_0x324daf(0x156)]=_0x324daf(0x12b)),openSheet(_0x324daf(0x18c));}let currentAnPeriod=a2_0x2a3fd0(0xec);function openAnalytics(){const _0x54693c=a2_0x2a3fd0,_0x3a41f2=document[_0x54693c(0x1c0)](_0x54693c(0xa2));setAnalyticsPeriod(_0x54693c(0xec),_0x3a41f2),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1987a3,_0x477be4){const _0x527cb8=a2_0x2a3fd0;currentAnPeriod=_0x1987a3,document['querySelectorAll'](_0x527cb8(0xa2))[_0x527cb8(0xc5)](_0x4a9781=>_0x4a9781[_0x527cb8(0xaf)][_0x527cb8(0x1e9)](_0x527cb8(0x210)));if(_0x477be4)_0x477be4[_0x527cb8(0xaf)][_0x527cb8(0x145)](_0x527cb8(0x210));const _0x3ef43f=document[_0x527cb8(0x116)](_0x527cb8(0x99));_0x3ef43f[_0x527cb8(0xd6)][_0x527cb8(0x205)]=_0x1987a3===_0x527cb8(0x222)?_0x527cb8(0x13f):_0x527cb8(0x1ab);const _0x2f8db6=new Date();let _0x51de32=new Date(),_0x1cd94c=new Date();if(_0x1987a3===_0x527cb8(0xec))_0x51de32=getStartOfWeek(_0x2f8db6),_0x1cd94c=new Date(_0x51de32),_0x1cd94c[_0x527cb8(0x1d4)](_0x1cd94c[_0x527cb8(0xfa)]()+0x6);else{if(_0x1987a3===_0x527cb8(0x20c))_0x51de32=new Date(_0x2f8db6[_0x527cb8(0x1e7)](),_0x2f8db6['getMonth'](),0x1),_0x1cd94c=new Date(_0x2f8db6[_0x527cb8(0x1e7)](),_0x2f8db6[_0x527cb8(0x1fb)]()+0x1,0x0);else{!document[_0x527cb8(0x116)](_0x527cb8(0xa1))['value']&&(document[_0x527cb8(0x116)](_0x527cb8(0xa1))['value']=getLocalDateStr(_0x2f8db6),document['getElementById'](_0x527cb8(0x1af))[_0x527cb8(0xe2)]=getLocalDateStr(_0x2f8db6));refreshAnalytics();return;}}document[_0x527cb8(0x116)](_0x527cb8(0xa1))[_0x527cb8(0xe2)]=getLocalDateStr(_0x51de32),document[_0x527cb8(0x116)]('anEnd')['value']=getLocalDateStr(_0x1cd94c),refreshAnalytics();}function refreshAnalytics(){const _0x3b97c4=a2_0x2a3fd0,_0x1f7908=document[_0x3b97c4(0x116)](_0x3b97c4(0xa1))[_0x3b97c4(0xe2)],_0x372052=document[_0x3b97c4(0x116)](_0x3b97c4(0x1af))['value'];if(!_0x1f7908||!_0x372052)return;const _0xae385f=sessions['filter'](_0x5c4fcf=>_0x5c4fcf[_0x3b97c4(0x166)]>=_0x1f7908&&_0x5c4fcf[_0x3b97c4(0x166)]<=_0x372052&&_0x5c4fcf[_0x3b97c4(0x172)]!=='cancelled'),_0x459575=_0xae385f[_0x3b97c4(0x98)],_0x440a90=_0xae385f[_0x3b97c4(0x17c)](_0x4df8dd=>_0x4df8dd['status']===_0x3b97c4(0xd9))['length'],_0x4486eb=_0x459575>0x0?Math[_0x3b97c4(0x197)](_0x440a90/_0x459575*0x64):0x0;document[_0x3b97c4(0x116)](_0x3b97c4(0x128))[_0x3b97c4(0xd4)]=_0x4486eb+'%',document[_0x3b97c4(0x116)](_0x3b97c4(0xb5))[_0x3b97c4(0xd4)]=_0x440a90+_0x3b97c4(0x9f)+_0x459575+_0x3b97c4(0x203);const _0x3dd2c7=document['getElementById'](_0x3b97c4(0x202)),_0x446538=0x2*Math['PI']*0x23,_0x442cc5=_0x446538-_0x4486eb/0x64*_0x446538;_0x3dd2c7[_0x3b97c4(0xd6)][_0x3b97c4(0x18b)]=_0x442cc5;const _0x41957b={};_0xae385f[_0x3b97c4(0xc5)](_0x10535c=>{const _0x5db7de=_0x3b97c4;if(!_0x41957b[_0x10535c[_0x5db7de(0x9e)]]){const _0x2b0502=clients[_0x5db7de(0x97)](_0x2f8c52=>_0x2f8c52[_0x5db7de(0x220)]===_0x10535c[_0x5db7de(0x9e)]);_0x41957b[_0x10535c[_0x5db7de(0x9e)]]={'total':0x0,'done':0x0,'color':_0x2b0502?_0x2b0502[_0x5db7de(0x1aa)]:'#fff'};}_0x41957b[_0x10535c[_0x5db7de(0x9e)]][_0x5db7de(0x1b5)]++;if(_0x10535c[_0x5db7de(0x172)]===_0x5db7de(0xd9))_0x41957b[_0x10535c[_0x5db7de(0x9e)]][_0x5db7de(0x1a7)]++;});const _0x3d842e=document[_0x3b97c4(0x116)](_0x3b97c4(0x1cc));_0x3d842e[_0x3b97c4(0xed)]='';const _0x53742d=Object[_0x3b97c4(0x19e)](_0x41957b)[_0x3b97c4(0xbb)]((_0x13fbba,_0x5f171e)=>_0x5f171e[0x1]['total']-_0x13fbba[0x1][_0x3b97c4(0x1b5)]);if(_0x53742d[_0x3b97c4(0x98)]===0x0){_0x3d842e[_0x3b97c4(0xed)]=_0x3b97c4(0xb6);return;}_0x53742d[_0x3b97c4(0xc5)](([_0x176f00,_0x42151b])=>{const _0x1a8423=_0x3b97c4,_0x296ac7=Math[_0x1a8423(0x197)](_0x42151b['done']/_0x42151b[_0x1a8423(0x1b5)]*0x64),_0x471a93=document[_0x1a8423(0x189)](_0x1a8423(0x1d3));_0x471a93['className']=_0x1a8423(0x1a2),_0x471a93[_0x1a8423(0xd6)][_0x1a8423(0xad)]=_0x42151b[_0x1a8423(0x1aa)],_0x471a93['innerHTML']=_0x1a8423(0x1db)+_0x176f00+_0x1a8423(0x14b)+_0x42151b[_0x1a8423(0x1a7)]+_0x1a8423(0x1d8)+_0x42151b[_0x1a8423(0x1b5)]+_0x1a8423(0x1f9)+_0x296ac7+_0x1a8423(0x1ec),_0x3d842e[_0x1a8423(0x1d0)](_0x471a93);});}function formatMinsToHrs(_0x15d554){if(_0x15d554===0x0)return'0';const _0x3bc09f=Math['floor'](_0x15d554/0x3c),_0x44d71b=_0x15d554%0x3c;if(_0x44d71b===0x0)return _0x3bc09f+'—á';return _0x3bc09f+'—á\x20'+_0x44d71b+'–º';}