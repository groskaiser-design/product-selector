const a2_0x11fdcb=a2_0x3938;(function(_0x3cace0,_0x30237c){const _0xfba056=a2_0x3938,_0x4a7f6d=_0x3cace0();while(!![]){try{const _0x27792b=-parseInt(_0xfba056(0x278))/0x1*(parseInt(_0xfba056(0x1b0))/0x2)+-parseInt(_0xfba056(0x283))/0x3+parseInt(_0xfba056(0x21c))/0x4+parseInt(_0xfba056(0x211))/0x5*(-parseInt(_0xfba056(0x2e2))/0x6)+-parseInt(_0xfba056(0x270))/0x7*(-parseInt(_0xfba056(0x1ae))/0x8)+-parseInt(_0xfba056(0x2b4))/0x9*(-parseInt(_0xfba056(0x25f))/0xa)+parseInt(_0xfba056(0x248))/0xb;if(_0x27792b===_0x30237c)break;else _0x4a7f6d['push'](_0x4a7f6d['shift']());}catch(_0x492f6a){_0x4a7f6d['push'](_0x4a7f6d['shift']());}}}(a2_0x48ce,0x3d723),function initTMA(){const _0x336fd7=a2_0x3938;try{const _0x1a0d74=window[_0x336fd7(0x236)]?.['WebApp'];if(!_0x1a0d74)return;_0x1a0d74[_0x336fd7(0x2c8)](),_0x1a0d74['expand']();try{_0x1a0d74[_0x336fd7(0x1e6)]('#050505'),_0x1a0d74[_0x336fd7(0x1f3)]&&_0x1a0d74[_0x336fd7(0x1f3)](_0x336fd7(0x26a));}catch(_0x1ca124){console[_0x336fd7(0x2c9)](_0x336fd7(0x2be),_0x1ca124);}try{_0x1a0d74[_0x336fd7(0x189)]&&(_0x1a0d74[_0x336fd7(0x189)][_0x336fd7(0x203)](),_0x1a0d74[_0x336fd7(0x189)][_0x336fd7(0x1ea)](),_0x1a0d74['BackButton'][_0x336fd7(0x234)](function(){const _0x554c41=_0x336fd7;window['location'][_0x554c41(0x281)]=_0x554c41(0x228);}));}catch(_0x16fec2){console['log']('Error\x20setting\x20back\x20button:',_0x16fec2);}try{if(_0x1a0d74[_0x336fd7(0x24e)])_0x1a0d74[_0x336fd7(0x24e)]();}catch(_0xf905dc){}}catch(_0x436bb0){console[_0x336fd7(0x2cb)](_0x336fd7(0x208),_0x436bb0);}}());function isAdmin(){const _0x39d047=a2_0x3938;try{const _0x4d25bb=Number(window[_0x39d047(0x236)]?.[_0x39d047(0x1d1)]?.['initDataUnsafe']?.[_0x39d047(0x1b3)]?.['id']);return _0x4d25bb===0xbaf7174;}catch(_0x358f23){return![];}}const APP_VERSION=a2_0x11fdcb(0x304),API_URL=a2_0x11fdcb(0x24d),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x11fdcb(0x24c),KEY_SESSIONS=a2_0x11fdcb(0x225),KEY_SETTINGS=a2_0x11fdcb(0x261);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x57f027=a2_0x11fdcb;return window[_0x57f027(0x236)]?.['WebApp']?.['initDataUnsafe']?.[_0x57f027(0x1b3)]?.['id']||_0x57f027(0x290);},'saveLocally'(){const _0x10a3a1=a2_0x11fdcb;try{localStorage[_0x10a3a1(0x1f0)](KEY_CLIENTS,JSON[_0x10a3a1(0x247)](clients)),localStorage[_0x10a3a1(0x1f0)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x10a3a1(0x1f0)](KEY_SETTINGS,JSON[_0x10a3a1(0x247)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x2637a0){console[_0x10a3a1(0x2cb)](_0x10a3a1(0x2fb),_0x2637a0);}},'loadLocal'(){const _0x5be07e=a2_0x11fdcb;try{const _0x44854e=localStorage[_0x5be07e(0x30c)](KEY_CLIENTS);if(_0x44854e)clients=JSON[_0x5be07e(0x27b)](_0x44854e);const _0x7b0994=localStorage[_0x5be07e(0x30c)](KEY_SESSIONS);if(_0x7b0994)sessions=JSON[_0x5be07e(0x27b)](_0x7b0994);const _0xa74522=localStorage['getItem'](KEY_SETTINGS);if(_0xa74522){const _0x226b3c=JSON[_0x5be07e(0x27b)](_0xa74522);if(_0x226b3c[_0x5be07e(0x18e)])availabilityPattern=_0x226b3c[_0x5be07e(0x18e)];if(_0x226b3c[_0x5be07e(0x2d6)])dateExceptions=_0x226b3c['exceptions'];if(_0x226b3c['ranges'])specialRanges=_0x226b3c[_0x5be07e(0x26e)];}else{for(let _0x2545ac=0x0;_0x2545ac<0x7;_0x2545ac++)availabilityPattern[_0x2545ac]=Array[_0x5be07e(0x21e)]({'length':0xc},(_0x29306e,_0x5ed327)=>_0x5ed327+0x9);}}catch(_0x4af36b){console[_0x5be07e(0x2cb)](_0x5be07e(0x266),_0x4af36b);}},async 'fetchFromServer'(_0x22dfcd,_0x48612c={}){const _0x3d588e=a2_0x11fdcb,_0x3562d6=window['Telegram']?.[_0x3d588e(0x1d1)],_0x2d5ffc={'action':_0x22dfcd,'init_data':_0x3562d6?.[_0x3d588e(0x1da)]||'',..._0x48612c};try{const _0xcbfe41=await fetch(API_URL,{'method':_0x3d588e(0x1f8),'headers':{'Content-Type':_0x3d588e(0x2d9)},'body':JSON['stringify'](_0x2d5ffc)}),_0x3725c2=await _0xcbfe41[_0x3d588e(0x1fe)]();if(!_0x3725c2['ok'])throw new Error(_0x3725c2[_0x3d588e(0x2cb)]||_0x3d588e(0x188));return _0x3725c2[_0x3d588e(0x23a)];}catch(_0x28deb9){console['error'](_0x3d588e(0x24b)+_0x22dfcd+_0x3d588e(0x265),_0x28deb9);throw _0x28deb9;}},async 'syncLoad'(){const _0xf88547=a2_0x11fdcb,_0xe9f01c=new Date(),_0x374480=_0xe9f01c[_0xf88547(0x1de)]()+'-'+String(_0xe9f01c[_0xf88547(0x255)]()+0x1)['padStart'](0x2,'0'),_0x1f835d=new Date(_0xe9f01c);_0x1f835d[_0xf88547(0x206)](_0xe9f01c[_0xf88547(0x255)]()+0x1);const _0x3849c2=_0x1f835d[_0xf88547(0x1de)]()+'-'+String(_0x1f835d[_0xf88547(0x255)]()+0x1)[_0xf88547(0x287)](0x2,'0'),_0x13319d=Date[_0xf88547(0x1ad)]();console[_0xf88547(0x2c9)](_0xf88547(0x20b)+_0x374480+',\x20'+_0x3849c2+_0xf88547(0x2aa));try{const [_0x1d241c,_0x5626f7]=await Promise['all']([this[_0xf88547(0x232)](_0xf88547(0x22d),{'month_str':_0x374480}),this['fetchFromServer'](_0xf88547(0x22d),{'month_str':_0x3849c2})]);if(lastUserActionTime>_0x13319d)return console[_0xf88547(0x207)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0xf88547(0x219)](_0x1d241c,_0x374480),this[_0xf88547(0x219)](_0x5626f7,_0x3849c2),this[_0xf88547(0x2a1)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x57fd83){console[_0xf88547(0x2cb)](_0x57fd83);throw _0x57fd83;}},'mergeServerData'(_0x2486ab,_0x36df3d){const _0x24100d=a2_0x11fdcb;if(!_0x2486ab)return;_0x2486ab[_0x24100d(0x21b)]&&Array[_0x24100d(0x2cc)](_0x2486ab[_0x24100d(0x21b)])&&(clients=_0x2486ab[_0x24100d(0x21b)]);if(_0x2486ab[_0x24100d(0x291)]){if(_0x2486ab[_0x24100d(0x291)][_0x24100d(0x18e)])availabilityPattern=_0x2486ab[_0x24100d(0x291)][_0x24100d(0x18e)];if(_0x2486ab['settings'][_0x24100d(0x2d6)])dateExceptions=_0x2486ab[_0x24100d(0x291)][_0x24100d(0x2d6)];if(_0x2486ab['settings'][_0x24100d(0x26e)])specialRanges=_0x2486ab[_0x24100d(0x291)][_0x24100d(0x26e)];if(_0x2486ab[_0x24100d(0x291)][_0x24100d(0x2ff)]){localStorage[_0x24100d(0x1f0)](_0x24100d(0x2d7),_0x2486ab[_0x24100d(0x291)][_0x24100d(0x2ff)]);const _0x1cb0d5=document['getElementById'](_0x24100d(0x26f));if(_0x1cb0d5)_0x1cb0d5[_0x24100d(0x23f)]=_0x2486ab[_0x24100d(0x291)][_0x24100d(0x2ff)];}}_0x2486ab[_0x24100d(0x195)]&&(sessions=sessions[_0x24100d(0x2d0)](_0x44e8cb=>!_0x44e8cb[_0x24100d(0x29d)][_0x24100d(0x213)](_0x36df3d)),Object[_0x24100d(0x307)](_0x2486ab['calendar'])[_0x24100d(0x1b8)](_0x411465=>{const _0xfb1183=_0x24100d,_0x167451=_0x2486ab[_0xfb1183(0x195)][_0x411465];_0x167451[_0xfb1183(0x1b8)](_0x526ef2=>{const _0x4ec101=_0xfb1183,_0x593ce1=clients[_0x4ec101(0x2f5)](_0x23121e=>String(_0x23121e['id'])===String(_0x526ef2['c']));sessions['push']({'id':_0x526ef2['i'],'clientId':_0x526ef2['c'],'client':_0x593ce1?_0x593ce1[_0x4ec101(0x23c)]:'Unknown','dateStr':_0x36df3d+'-'+_0x411465[_0x4ec101(0x287)](0x2,'0'),'start':_0x526ef2['s'],'end':_0x526ef2['e'],'status':_0x526ef2['st']||_0x4ec101(0x2b5),'note':_0x526ef2['n']||'','seriesId':_0x526ef2[_0x4ec101(0x254)]||null});});}));},async 'syncBatch'(_0x33f61c){const _0x2ae1b4=a2_0x11fdcb,_0xd24d70=[...new Set(_0x33f61c)],_0x310878=_0xd24d70['map'](_0x51f1eb=>{const _0xa6a116=a2_0x3938,_0x23abe1=sessions[_0xa6a116(0x2d0)](_0x61becb=>_0x61becb['dateStr']===_0x51f1eb&&_0x61becb[_0xa6a116(0x1c8)]!==_0xa6a116(0x1a3)),_0x56fe8c=_0x23abe1['map'](_0x2b6c54=>({'i':_0x2b6c54['id'],'c':_0x2b6c54[_0xa6a116(0x1fd)],'s':_0x2b6c54[_0xa6a116(0x186)],'e':_0x2b6c54[_0xa6a116(0x295)],'st':_0x2b6c54['status'],'n':_0x2b6c54['note'],'sid':_0x2b6c54[_0xa6a116(0x29b)]}));return{'date':_0x51f1eb,'day_data':_0x56fe8c};});if(_0x310878[_0x2ae1b4(0x1f9)]===0x0)return;console[_0x2ae1b4(0x2c9)](_0x2ae1b4(0x229)+_0x310878['length']+_0x2ae1b4(0x1e7)),await this['fetchFromServer'](_0x2ae1b4(0x24a),{'changes':_0x310878});}};async function init(){const _0x30d822=a2_0x11fdcb;DataManager[_0x30d822(0x245)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x30d822(0x20a)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x30d822(0x244)](()=>{const _0x2fe892=_0x30d822;showToast(_0x2fe892(0x2e1),!![]);})[_0x30d822(0x1ba)](_0x1d4ff0=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x495b6b=a2_0x11fdcb;return Date[_0x495b6b(0x1ad)]()[_0x495b6b(0x2af)](0x24)+Math[_0x495b6b(0x18f)]()[_0x495b6b(0x2af)](0x24)[_0x495b6b(0x299)](0x2,0x5);}function toggleSeriesInput(){const _0x11d09e=a2_0x11fdcb,_0x403c1c=document['getElementById'](_0x11d09e(0x185))['checked'],_0x1bafca=document[_0x11d09e(0x275)](_0x11d09e(0x294));_0x1bafca[_0x11d09e(0x274)][_0x11d09e(0x19d)]=_0x403c1c?'block':_0x11d09e(0x260);const _0x3ef74b=document[_0x11d09e(0x275)]('recurringOptionContainer');_0x3ef74b[_0x11d09e(0x274)][_0x11d09e(0x1d5)]=_0x403c1c?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x199496){const _0x407b36=a2_0x11fdcb;editingId=null,populateClientSelect(),document['getElementById'](_0x407b36(0x2f4))[_0x407b36(0x1cd)]=_0x407b36(0x1a6),document[_0x407b36(0x275)](_0x407b36(0x2e6))[_0x407b36(0x274)]['display']=_0x407b36(0x260),document[_0x407b36(0x275)](_0x407b36(0x220))[_0x407b36(0x274)][_0x407b36(0x19d)]=_0x407b36(0x260);const _0x12b196=document['getElementById'](_0x407b36(0x252)),_0x50c7cd=document[_0x407b36(0x275)]('seriesCountContainer');_0x12b196[_0x407b36(0x274)][_0x407b36(0x19d)]=_0x407b36(0x23b),_0x12b196['style']['borderRadius']=_0x407b36(0x1e4),document['getElementById'](_0x407b36(0x185))['checked']=![],document[_0x407b36(0x275)](_0x407b36(0x2e9))[_0x407b36(0x23f)]=0x4,_0x50c7cd['style'][_0x407b36(0x19d)]=_0x407b36(0x260),document[_0x407b36(0x275)](_0x407b36(0x2d4))[_0x407b36(0x23f)]=getLocalDateStr(_0x199496),updateDateDisplay();const _0x4a21d5=_0x199496[_0x407b36(0x2b6)]();document[_0x407b36(0x275)](_0x407b36(0x2c2))[_0x407b36(0x23f)]=String(_0x4a21d5)[_0x407b36(0x287)](0x2,'0')+_0x407b36(0x2a0),document[_0x407b36(0x275)](_0x407b36(0x18c))[_0x407b36(0x23f)]=String(_0x4a21d5+0x1)['padStart'](0x2,'0')+':00',openSheet(_0x407b36(0x309));}function openEdit(_0x1e34b4){const _0x2a8711=a2_0x11fdcb;editingId=_0x1e34b4['id'],populateClientSelect(),document['getElementById'](_0x2a8711(0x2f4))[_0x2a8711(0x1cd)]=_0x2a8711(0x1bb),document[_0x2a8711(0x275)](_0x2a8711(0x2e6))[_0x2a8711(0x274)][_0x2a8711(0x19d)]=_0x2a8711(0x1fb);const _0x288157=document[_0x2a8711(0x275)]('btnStatusToggle');_0x288157[_0x2a8711(0x274)][_0x2a8711(0x19d)]='flex';_0x1e34b4['status']===_0x2a8711(0x25b)?(_0x288157[_0x2a8711(0x23d)]=_0x2a8711(0x23e),_0x288157[_0x2a8711(0x200)]=_0x2a8711(0x1ac)):(_0x288157[_0x2a8711(0x23d)]=_0x2a8711(0x1a8),_0x288157[_0x2a8711(0x200)]=_0x2a8711(0x223));const _0x716c9=!!_0x1e34b4[_0x2a8711(0x29b)];document[_0x2a8711(0x275)]('recurringOptionContainer')['style'][_0x2a8711(0x19d)]=_0x2a8711(0x260),document[_0x2a8711(0x275)](_0x2a8711(0x294))['style'][_0x2a8711(0x19d)]=_0x2a8711(0x260),_0x716c9?(document[_0x2a8711(0x275)](_0x2a8711(0x230))['style'][_0x2a8711(0x19d)]='flex',document[_0x2a8711(0x275)](_0x2a8711(0x230))['querySelector'](_0x2a8711(0x20f))[_0x2a8711(0x1cd)]=_0x2a8711(0x1d4)):document[_0x2a8711(0x275)](_0x2a8711(0x230))[_0x2a8711(0x274)][_0x2a8711(0x19d)]='none',document[_0x2a8711(0x275)](_0x2a8711(0x21a))[_0x2a8711(0x23f)]=_0x1e34b4[_0x2a8711(0x1db)],document[_0x2a8711(0x275)](_0x2a8711(0x2d4))[_0x2a8711(0x23f)]=_0x1e34b4[_0x2a8711(0x29d)],document[_0x2a8711(0x275)](_0x2a8711(0x2c2))['value']=_0x1e34b4[_0x2a8711(0x186)],document[_0x2a8711(0x275)](_0x2a8711(0x18c))[_0x2a8711(0x23f)]=_0x1e34b4['end'],document['getElementById'](_0x2a8711(0x28f))[_0x2a8711(0x23f)]=_0x1e34b4[_0x2a8711(0x1c2)]||'',updateDateDisplay(),openSheet(_0x2a8711(0x309));}async function trySaveSession(){const _0x183518=a2_0x11fdcb,_0x471575=document[_0x183518(0x275)](_0x183518(0x21a))['value'],_0x55b00b=document['getElementById'](_0x183518(0x2d4))[_0x183518(0x23f)],_0x2bc12c=document[_0x183518(0x275)](_0x183518(0x2c2))[_0x183518(0x23f)],_0x5a16ce=document[_0x183518(0x275)]('inpEnd')['value'],_0x559c21=document[_0x183518(0x275)](_0x183518(0x28f))[_0x183518(0x23f)],_0x3704eb=document[_0x183518(0x275)](_0x183518(0x185))['checked'];let _0x59df19=0x4;if(_0x3704eb){const _0x2dc939=parseInt(document[_0x183518(0x275)](_0x183518(0x2e9))[_0x183518(0x23f)]);if(!_0x2dc939||_0x2dc939<0x2){showToast(_0x183518(0x193),![]);return;}if(_0x2dc939>0x64){showToast(_0x183518(0x217),![]);return;}_0x59df19=_0x2dc939;}const _0x5cdf16=clients[_0x183518(0x2f5)](_0xef90b6=>_0xef90b6['name']===_0x471575);if(!_0x5cdf16){showToast(_0x183518(0x308),![]);return;}const _0x3e477d=validateAppointment(_0x55b00b,_0x2bc12c,_0x5a16ce,editingId,_0x5cdf16['id']);if(!_0x3e477d[_0x183518(0x302)]){showToast(_0x3e477d[_0x183518(0x2c0)],![]);return;}_0x3e477d[_0x183518(0x1b2)]&&showToast(_0x3e477d[_0x183518(0x1b2)],![]);const _0x22509a={'client':_0x471575,'clientId':_0x5cdf16['id'],'start':_0x2bc12c,'end':_0x5a16ce,'note':_0x559c21,'status':_0x183518(0x2b5)},_0x5aa7a8=editingId?sessions[_0x183518(0x2f5)](_0x16af92=>_0x16af92['id']===editingId):null;if(_0x5aa7a8&&_0x5aa7a8[_0x183518(0x29b)]){tempSessionData={..._0x22509a,'dateStr':_0x55b00b,'id':editingId,'seriesId':_0x5aa7a8[_0x183518(0x29b)]},openActionSheet(_0x183518(0x1c9));return;}let _0xde1b19=null;if(!editingId)_0xde1b19='create';else{if(_0x5aa7a8){if(String(_0x5aa7a8['clientId'])!==String(_0x5cdf16['id']))console[_0x183518(0x2c9)](_0x183518(0x1c3)),NotificationManager['send'](_0x183518(0x1ed),_0x5aa7a8),_0xde1b19='create';else(_0x5aa7a8['start']!==_0x2bc12c||_0x5aa7a8[_0x183518(0x295)]!==_0x5a16ce||_0x5aa7a8[_0x183518(0x29d)]!==_0x55b00b)&&(_0xde1b19=_0x183518(0x2b0));}}if(!editingId&&_0x3704eb){createBatchSeries(_0x22509a,_0x55b00b,_0x59df19),NotificationManager[_0x183518(0x2df)]('create',{..._0x22509a,'dateStr':_0x55b00b});return;}lastUserActionTime=Date[_0x183518(0x1ad)]();const _0x338ab7={..._0x22509a,'dateStr':_0x55b00b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x338ab7),_0xde1b19&&NotificationManager[_0x183518(0x2df)](_0xde1b19,_0x338ab7);}function toggleSessionStatus(){const _0x514b6a=a2_0x11fdcb;lastUserActionTime=Date['now']();const _0x4e3e7e=sessions[_0x514b6a(0x2f5)](_0x27eb41=>_0x27eb41['id']===editingId);if(!_0x4e3e7e)return;const _0x2df87b=_0x4e3e7e[_0x514b6a(0x1c8)]==='completed'?_0x514b6a(0x2b5):_0x514b6a(0x25b);_0x4e3e7e[_0x514b6a(0x1c8)]=_0x2df87b,saveSingleSession(_0x4e3e7e),_0x2df87b===_0x514b6a(0x25b)&&NotificationManager[_0x514b6a(0x2df)](_0x514b6a(0x2ed),_0x4e3e7e),showToast(_0x2df87b===_0x514b6a(0x25b)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x34c4ed,_0x1805c5,_0x2f4a7e,_0x4a265f,_0x17ef7c){const _0x48429b=a2_0x11fdcb,[_0x2a9069,_0x5b107a]=_0x1805c5[_0x48429b(0x28b)](':')[_0x48429b(0x1f7)](Number),[_0x4760b3,_0x27809d]=_0x2f4a7e[_0x48429b(0x28b)](':')[_0x48429b(0x1f7)](Number),_0x18563a=_0x2a9069*0x3c+_0x5b107a,_0x2f02f5=_0x4760b3*0x3c+_0x27809d,_0x3c95d=String(_0x17ef7c);let _0x12280e=![],_0x171baf='';for(let _0x4db833 of sessions){if(_0x4db833['dateStr']!==_0x34c4ed)continue;if(_0x4db833['status']===_0x48429b(0x292))continue;if(_0x4a265f&&String(_0x4db833['id'])===String(_0x4a265f))continue;const [_0x5e58f2,_0xe36748]=_0x4db833[_0x48429b(0x186)][_0x48429b(0x28b)](':')[_0x48429b(0x1f7)](Number),[_0x447c1e,_0x16bda7]=_0x4db833[_0x48429b(0x295)][_0x48429b(0x28b)](':')[_0x48429b(0x1f7)](Number),_0x17590f=_0x5e58f2*0x3c+_0xe36748,_0x4911bb=_0x447c1e*0x3c+_0x16bda7;if(Math[_0x48429b(0x1cf)](_0x18563a,_0x17590f)<Math['min'](_0x2f02f5,_0x4911bb)){if(_0x4db833['clientId']&&String(_0x4db833[_0x48429b(0x1fd)])===_0x3c95d)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x4db833[_0x48429b(0x1db)]+_0x48429b(0x2ad)};_0x12280e=!![],_0x171baf=_0x4db833[_0x48429b(0x1db)];}}if(_0x12280e)return{'valid':!![],'warning':_0x48429b(0x2dd)+_0x171baf};return{'valid':!![]};}function saveSingleSession(_0x5c864e){const _0x53974b=a2_0x11fdcb;if(editingId){const _0xfa27fd=sessions[_0x53974b(0x22e)](_0x32cec4=>_0x32cec4['id']===editingId);if(_0xfa27fd!==-0x1)sessions[_0xfa27fd]=_0x5c864e;}else sessions[_0x53974b(0x28e)](_0x5c864e);afterSaveAction([_0x5c864e[_0x53974b(0x29d)]]);}function createBatchSeries(_0xb1b79b,_0x24df56,_0x2bb6a7){const _0x47fd15=a2_0x11fdcb,_0x3f0aa3=generateId(),_0xc5e7e6=[],_0xb0b671=[];let _0x4d663e=0x0,_0x320a88=new Date(_0x24df56);for(let _0x55bd59=0x0;_0x55bd59<_0x2bb6a7;_0x55bd59++){const _0xc07e6c=getLocalDateStr(_0x320a88),_0x104dcc=validateAppointment(_0xc07e6c,_0xb1b79b['start'],_0xb1b79b[_0x47fd15(0x295)],null,_0xb1b79b[_0x47fd15(0x1fd)]);if(!_0x104dcc[_0x47fd15(0x302)])console[_0x47fd15(0x2c9)]('[Series]\x20Skipped\x20'+_0xc07e6c+_0x47fd15(0x1fa)),_0x4d663e++;else{const _0x2c9cb8={..._0xb1b79b,'id':generateId(),'dateStr':_0xc07e6c,'seriesId':_0x3f0aa3};_0xb0b671[_0x47fd15(0x28e)](_0x2c9cb8),_0xc5e7e6[_0x47fd15(0x28e)](_0xc07e6c);}_0x320a88[_0x47fd15(0x2de)](_0x320a88[_0x47fd15(0x293)]()+0x7);}if(_0xb0b671[_0x47fd15(0x1f9)]===0x0){showToast(_0x47fd15(0x305),![]);return;}sessions[_0x47fd15(0x28e)](..._0xb0b671),lastUserActionTime=Date[_0x47fd15(0x1ad)]();let _0x1747b8=_0x47fd15(0x24f)+_0xb0b671[_0x47fd15(0x1f9)];_0x4d663e>0x0&&(_0x1747b8+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x4d663e+')'),showToast(_0x1747b8,!![]),afterSaveAction(_0xc5e7e6);}function updateSeriesBatch(_0x1cc818,_0x111be1){const _0x40e3fa=a2_0x11fdcb,_0x425fa8=[],_0x30508a=_0x111be1[_0x40e3fa(0x29b)];if(_0x1cc818===_0x40e3fa(0x1c0)){const _0x2f5cdc={..._0x111be1,'seriesId':null},_0x1fa941=sessions[_0x40e3fa(0x22e)](_0x351bbb=>_0x351bbb['id']===_0x111be1['id']);if(_0x1fa941!==-0x1)sessions[_0x1fa941]=_0x2f5cdc;_0x425fa8['push'](_0x2f5cdc[_0x40e3fa(0x29d)]);}else{if(_0x1cc818==='series'){const _0x4d911c=_0x111be1['dateStr'];sessions['forEach']((_0x491dbd,_0x54cfa0)=>{const _0x2d3823=_0x40e3fa;_0x491dbd['seriesId']===_0x30508a&&_0x491dbd[_0x2d3823(0x29d)]>=_0x4d911c&&(sessions[_0x54cfa0]={...sessions[_0x54cfa0],'start':_0x111be1[_0x2d3823(0x186)],'end':_0x111be1['end'],'note':_0x111be1[_0x2d3823(0x1c2)],'client':_0x111be1[_0x2d3823(0x1db)],'clientId':_0x111be1[_0x2d3823(0x1fd)]},_0x425fa8[_0x2d3823(0x28e)](_0x491dbd[_0x2d3823(0x29d)]));});}}afterSaveAction(_0x425fa8);}function tryDeleteSession(){const _0x2000a1=a2_0x11fdcb,_0x17dc9e=sessions[_0x2000a1(0x2f5)](_0x28c818=>_0x28c818['id']===editingId);if(!_0x17dc9e)return;_0x17dc9e[_0x2000a1(0x29b)]?openActionSheet(_0x2000a1(0x240)):commitDelete(_0x2000a1(0x1c0),_0x17dc9e);}function commitDelete(_0x1cd4aa,_0x28a130){const _0x4115af=a2_0x11fdcb;lastUserActionTime=Date['now'](),NotificationManager[_0x4115af(0x2df)]('cancel',_0x28a130);const _0x513602=[];if(_0x1cd4aa===_0x4115af(0x1c0))sessions=sessions[_0x4115af(0x2d0)](_0x1ed8ab=>_0x1ed8ab['id']!==_0x28a130['id']),_0x513602[_0x4115af(0x28e)](_0x28a130[_0x4115af(0x29d)]);else{if(_0x1cd4aa===_0x4115af(0x1ab)){const _0x439894=_0x28a130[_0x4115af(0x29d)],_0x1e0c1f=_0x28a130[_0x4115af(0x29b)];sessions[_0x4115af(0x1b8)](_0xade57d=>{const _0x2b6b12=_0x4115af;_0xade57d['seriesId']===_0x1e0c1f&&_0xade57d[_0x2b6b12(0x29d)]>=_0x439894&&_0x513602[_0x2b6b12(0x28e)](_0xade57d[_0x2b6b12(0x29d)]);}),sessions=sessions[_0x4115af(0x2d0)](_0x312f42=>!(_0x312f42['seriesId']===_0x1e0c1f&&_0x312f42[_0x4115af(0x29d)]>=_0x439894));}}afterSaveAction(_0x513602);}function afterSaveAction(_0x3222db){const _0x4c606a=a2_0x11fdcb;DataManager[_0x4c606a(0x2a1)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x4c606a(0x233)](_0x3222db)['then'](()=>console['log']('Batch\x20Sync\x20OK'))['catch'](_0x20594f=>showToast(_0x4c606a(0x2c3),![]));}const NotificationManager={'formatDate'(_0x28edeb){const _0x3c3025=a2_0x11fdcb,_0x14cb1f=new Date(_0x28edeb),_0x412685={'weekday':'long','day':_0x3c3025(0x201),'month':_0x3c3025(0x1bd)};let _0x33b444=_0x14cb1f['toLocaleDateString'](_0x3c3025(0x289),_0x412685);return _0x33b444[_0x3c3025(0x18d)](0x0)[_0x3c3025(0x268)]()+_0x33b444['slice'](0x1);},'getText'(_0x16395f,_0x4995ac){const _0x1260e8=a2_0x11fdcb,_0x3ea9a9=this[_0x1260e8(0x27c)](_0x4995ac[_0x1260e8(0x29d)]);switch(_0x16395f){case _0x1260e8(0x192):return _0x1260e8(0x1f1)+(_0x1260e8(0x250)+_0x3ea9a9+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x4995ac[_0x1260e8(0x186)]+_0x1260e8(0x20c)+_0x4995ac[_0x1260e8(0x295)]+'\x0a\x0a')+_0x1260e8(0x1ce);case _0x1260e8(0x2b0):return _0x1260e8(0x1e5)+_0x1260e8(0x1b7)+(_0x1260e8(0x205)+_0x4995ac['start']+_0x1260e8(0x20c)+_0x4995ac['end']+_0x1260e8(0x215))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3ea9a9);case _0x1260e8(0x1ed):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x1260e8(0x26c)+_0x3ea9a9+'\x20('+_0x4995ac[_0x1260e8(0x186)]+_0x1260e8(0x202));case _0x1260e8(0x2ed):return _0x1260e8(0x2a9)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x1260e8(0x28a);default:return'';}},async 'send'(_0x1b2ad2,_0x45d548){const _0x249dcc=a2_0x11fdcb;console[_0x249dcc(0x2c9)](_0x249dcc(0x277),_0x1b2ad2,_0x45d548);if(!_0x45d548){console[_0x249dcc(0x2cb)](_0x249dcc(0x1e0));return;}const _0xe288f1=String(_0x45d548[_0x249dcc(0x1fd)]);console[_0x249dcc(0x2c9)](_0x249dcc(0x2ab),_0xe288f1);if(!_0x45d548[_0x249dcc(0x1fd)]||_0xe288f1===_0x249dcc(0x218)||_0xe288f1===_0x249dcc(0x19f)){console['error'](_0x249dcc(0x2ba));if(_0x45d548[_0x249dcc(0x1db)]){const _0x22de0b=clients[_0x249dcc(0x2f5)](_0x114986=>_0x114986[_0x249dcc(0x23c)]===_0x45d548[_0x249dcc(0x1db)]);if(_0x22de0b)return console[_0x249dcc(0x2c9)](_0x249dcc(0x22b),_0x22de0b['id']),this[_0x249dcc(0x2df)](_0x1b2ad2,{..._0x45d548,'clientId':_0x22de0b['id']});}return;}if(_0xe288f1[_0x249dcc(0x1f9)]<0x5){console[_0x249dcc(0x207)](_0x249dcc(0x1bc),_0xe288f1);return;}const _0x497607=this[_0x249dcc(0x19c)](_0x1b2ad2,_0x45d548);if(!_0x497607){console[_0x249dcc(0x2cb)](_0x249dcc(0x264));return;}console[_0x249dcc(0x2c9)](_0x249dcc(0x214)+_0xe288f1+_0x249dcc(0x2aa)),DataManager[_0x249dcc(0x232)](_0x249dcc(0x25d),{'chatId':_0xe288f1,'text':_0x497607})[_0x249dcc(0x244)](_0x318ec4=>console[_0x249dcc(0x2c9)](_0x249dcc(0x22f),_0x318ec4))[_0x249dcc(0x1ba)](_0x49f7ee=>console[_0x249dcc(0x2cb)]('[Notify]\x20Network\x20Failed',_0x49f7ee));}};function getLocalDateStr(_0x444d25){const _0x5e25c9=a2_0x11fdcb,_0xc0dfac=_0x444d25[_0x5e25c9(0x1de)](),_0x17d71b=String(_0x444d25[_0x5e25c9(0x255)]()+0x1)[_0x5e25c9(0x287)](0x2,'0'),_0x2e0abb=String(_0x444d25[_0x5e25c9(0x293)]())[_0x5e25c9(0x287)](0x2,'0');return _0xc0dfac+'-'+_0x17d71b+'-'+_0x2e0abb;}function getDateStr(_0x5b7e6b){const _0x4771c3=a2_0x11fdcb,_0x17882e=new Date();return _0x17882e[_0x4771c3(0x2de)](_0x17882e[_0x4771c3(0x293)]()+_0x5b7e6b),getLocalDateStr(_0x17882e);}function getStartOfWeek(_0x164ccf){const _0x58c4c7=a2_0x11fdcb,_0x2d3df5=(function(){let _0x5da115=!![];return function(_0x5a10d1,_0x5c07de){const _0x2e14ad=_0x5da115?function(){const _0x250194=a2_0x3938;if(_0x5c07de){const _0x14ca08=_0x5c07de[_0x250194(0x1e2)](_0x5a10d1,arguments);return _0x5c07de=null,_0x14ca08;}}:function(){};return _0x5da115=![],_0x2e14ad;};}()),_0x2e8cea=_0x2d3df5(this,function(){const _0x3eaf11=a2_0x3938;return _0x2e8cea['toString']()[_0x3eaf11(0x2fe)]('(((.+)+)+)+$')[_0x3eaf11(0x2af)]()[_0x3eaf11(0x2f1)](_0x2e8cea)[_0x3eaf11(0x2fe)](_0x3eaf11(0x1ff));});_0x2e8cea();const _0x52ef95=new Date(_0x164ccf),_0x5dc99f=_0x52ef95[_0x58c4c7(0x2cf)](),_0xca6ea7=_0x52ef95[_0x58c4c7(0x293)]()-_0x5dc99f+(_0x5dc99f===0x0?-0x6:0x1);return _0x52ef95[_0x58c4c7(0x2de)](_0xca6ea7),_0x52ef95[_0x58c4c7(0x1f2)](0x0,0x0,0x0,0x0),_0x52ef95;}function hexToRgba(_0x1359fe,_0x551742){const _0x55581b=a2_0x11fdcb;if(!_0x1359fe)return _0x55581b(0x2d2);let _0x1b034b=0x0,_0x20f95e=0x0,_0x2aa04a=0x0;if(_0x1359fe[_0x55581b(0x1f9)]===0x4)_0x1b034b='0x'+_0x1359fe[0x1]+_0x1359fe[0x1],_0x20f95e='0x'+_0x1359fe[0x2]+_0x1359fe[0x2],_0x2aa04a='0x'+_0x1359fe[0x3]+_0x1359fe[0x3];else _0x1359fe[_0x55581b(0x1f9)]===0x7&&(_0x1b034b='0x'+_0x1359fe[0x1]+_0x1359fe[0x2],_0x20f95e='0x'+_0x1359fe[0x3]+_0x1359fe[0x4],_0x2aa04a='0x'+_0x1359fe[0x5]+_0x1359fe[0x6]);return _0x55581b(0x27e)+ +_0x1b034b+',\x20'+ +_0x20f95e+',\x20'+ +_0x2aa04a+',\x20'+_0x551742+')';}function a2_0x3938(_0x2c2db1,_0x3420c7){_0x2c2db1=_0x2c2db1-0x185;const _0x334a3e=a2_0x48ce();let _0x184203=_0x334a3e[_0x2c2db1];return _0x184203;}function renderTimeColumn(){const _0x4d42aa=a2_0x11fdcb,_0x2cacae=document[_0x4d42aa(0x275)](_0x4d42aa(0x190)),_0x3486a7=document['getElementById'](_0x4d42aa(0x284));_0x2cacae[_0x4d42aa(0x200)]='',_0x2cacae[_0x4d42aa(0x300)](_0x3486a7);for(let _0x2468fc=0x0;_0x2468fc<0x18;_0x2468fc++){const _0xb010d1=document[_0x4d42aa(0x26b)](_0x4d42aa(0x2a6));_0xb010d1[_0x4d42aa(0x23d)]=_0x4d42aa(0x198);if(_0x2468fc>0x0)_0xb010d1[_0x4d42aa(0x200)]=_0x4d42aa(0x1d6)+String(_0x2468fc)[_0x4d42aa(0x287)](0x2,'0')+_0x4d42aa(0x2ef);_0x2cacae[_0x4d42aa(0x300)](_0xb010d1);}}function renderDayRange(_0x3198b2,_0xf9f1b){const _0x2f26a4=a2_0x11fdcb,_0x5d89ef=document[_0x2f26a4(0x275)](_0x2f26a4(0x20d)),_0x4f5f50=document[_0x2f26a4(0x275)](_0x2f26a4(0x1df)),_0x53a525=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x146c94=new Date();_0x146c94[_0x2f26a4(0x1f2)](0x0,0x0,0x0,0x0);const _0x4a9687=getLocalDateStr(new Date());for(let _0x1774f1=_0x3198b2;_0x1774f1<=_0xf9f1b;_0x1774f1++){const _0x1cd1dc=new Date(_0x146c94);_0x1cd1dc['setDate'](_0x1cd1dc[_0x2f26a4(0x293)]()+_0x1774f1);const _0x49ae0d=getLocalDateStr(_0x1cd1dc);let _0x3a39f8=_0x1cd1dc[_0x2f26a4(0x2cf)]()-0x1;if(_0x3a39f8===-0x1)_0x3a39f8=0x6;const _0x3a1449=_0x49ae0d===_0x4a9687,_0x26c5be=document[_0x2f26a4(0x26b)](_0x2f26a4(0x2a6));_0x26c5be[_0x2f26a4(0x23d)]='day-col-header\x20'+(_0x3a1449?_0x2f26a4(0x18b):''),_0x26c5be['id']=_0x2f26a4(0x2b9)+_0x49ae0d,_0x26c5be['setAttribute'](_0x2f26a4(0x28d),_0x49ae0d),_0x26c5be[_0x2f26a4(0x200)]='<div\x20class=\x22dch-day\x22>'+_0x53a525[_0x3a39f8]+_0x2f26a4(0x272)+_0x1cd1dc[_0x2f26a4(0x293)]()+_0x2f26a4(0x2c7)+_0x49ae0d+_0x2f26a4(0x2b3),_0x26c5be['onclick']=()=>openDayOptions(_0x49ae0d,_0x53a525[_0x3a39f8]+'\x20'+_0x1cd1dc['getDate']()),_0x5d89ef[_0x2f26a4(0x300)](_0x26c5be);const _0x37ecc1=document[_0x2f26a4(0x26b)]('div');_0x37ecc1[_0x2f26a4(0x23d)]=_0x2f26a4(0x187)+(_0x3a1449?_0x2f26a4(0x18b):''),_0x37ecc1[_0x2f26a4(0x2fd)]('data-date',_0x49ae0d),_0x37ecc1[_0x2f26a4(0x2fd)](_0x2f26a4(0x222),_0x3a39f8),renderEventsForColumn(_0x37ecc1,_0x49ae0d,_0x3a39f8),attachLongPressHandler(_0x37ecc1,_0x1cd1dc),_0x4f5f50[_0x2f26a4(0x300)](_0x37ecc1),updateDayStats(_0x49ae0d);}}function reRenderBlocks(){const _0x4691bd=a2_0x11fdcb;document[_0x4691bd(0x29f)](_0x4691bd(0x1f5))[_0x4691bd(0x1b8)](_0x434c9e=>{const _0x2ed9d6=_0x4691bd;_0x434c9e['querySelectorAll'](_0x2ed9d6(0x2c5))[_0x2ed9d6(0x1b8)](_0x59f831=>_0x59f831[_0x2ed9d6(0x2c6)]());const _0x5dbd47=_0x434c9e['getAttribute']('data-date'),_0x391b03=parseInt(_0x434c9e[_0x2ed9d6(0x1ee)](_0x2ed9d6(0x222))),_0x1ae96d=Math[_0x2ed9d6(0x1d7)](_0x434c9e['offsetLeft']);(availabilityPattern[_0x391b03]||[])['forEach'](_0x29fbaf=>{const _0x27beb8=_0x2ed9d6,_0x45f743=document[_0x27beb8(0x26b)](_0x27beb8(0x2a6));_0x45f743[_0x27beb8(0x23d)]=_0x27beb8(0x212);const _0x16a40c=_0x29fbaf*GRID_H;_0x45f743[_0x27beb8(0x274)][_0x27beb8(0x1d2)]=_0x16a40c+'px',_0x45f743[_0x27beb8(0x274)][_0x27beb8(0x2e3)]='-'+_0x1ae96d+_0x27beb8(0x2f7)+_0x16a40c+'px',_0x434c9e[_0x27beb8(0x300)](_0x45f743);});if(specialRanges&&specialRanges[_0x2ed9d6(0x1f9)]>0x0){const _0x809a14=new Date(_0x5dbd47+_0x2ed9d6(0x1a1))[_0x2ed9d6(0x2ce)](),_0x31c2a9=new Date(_0x5dbd47+_0x2ed9d6(0x1af))[_0x2ed9d6(0x2ce)]();specialRanges[_0x2ed9d6(0x1b8)](_0xd17d7a=>{const _0x43a550=_0x2ed9d6,_0x34719f=new Date(_0xd17d7a[_0x43a550(0x186)])[_0x43a550(0x2ce)](),_0x3d699b=new Date(_0xd17d7a[_0x43a550(0x295)])['getTime'](),_0x1ee258=Math[_0x43a550(0x1cf)](_0x809a14,_0x34719f),_0x65717=Math[_0x43a550(0x2bc)](_0x31c2a9,_0x3d699b);if(_0x1ee258<_0x65717){if(_0x1ee258<=_0x809a14&&_0x65717>=_0x31c2a9-0xea60){if(!_0x434c9e[_0x43a550(0x251)](_0x43a550(0x1a4))){const _0x1090d6=document[_0x43a550(0x26b)](_0x43a550(0x2a6));_0x1090d6[_0x43a550(0x23d)]=_0x43a550(0x29a),_0x1090d6[_0x43a550(0x274)]['backgroundPosition']='-'+_0x1ae96d+_0x43a550(0x1b1),_0x434c9e[_0x43a550(0x300)](_0x1090d6);}}else{const _0x4f2301=(_0x1ee258-_0x809a14)/0x36ee80*GRID_H,_0x1ee0fd=(_0x65717-_0x1ee258)/0x36ee80*GRID_H,_0x1e0cb9=document[_0x43a550(0x26b)]('div');_0x1e0cb9[_0x43a550(0x23d)]='blocked-range-part\x20stripe-bg',_0x1e0cb9[_0x43a550(0x274)][_0x43a550(0x1d2)]=_0x4f2301+'px',_0x1e0cb9['style'][_0x43a550(0x2a4)]=_0x1ee0fd+'px',_0x1e0cb9[_0x43a550(0x274)]['backgroundPosition']='-'+_0x1ae96d+_0x43a550(0x2f7)+_0x4f2301+'px',_0x434c9e[_0x43a550(0x300)](_0x1e0cb9);}}});}if(dateExceptions[_0x5dbd47]===_0x2ed9d6(0x243)){if(!_0x434c9e[_0x2ed9d6(0x251)](_0x2ed9d6(0x1a4))){const _0x415acc=document[_0x2ed9d6(0x26b)](_0x2ed9d6(0x2a6));_0x415acc[_0x2ed9d6(0x23d)]=_0x2ed9d6(0x29a),_0x415acc['style'][_0x2ed9d6(0x2e3)]='-'+_0x1ae96d+'px\x200px',_0x434c9e[_0x2ed9d6(0x300)](_0x415acc);}}renderEventsForColumn(_0x434c9e,_0x5dbd47,_0x391b03),updateDayStats(_0x5dbd47);});}function updateAllDayStats(){const _0x4e7349=a2_0x11fdcb;document[_0x4e7349(0x29f)]('.day-col-header')[_0x4e7349(0x1b8)](_0x32f45b=>{const _0x134399=_0x4e7349;updateDayStats(_0x32f45b[_0x134399(0x1ee)](_0x134399(0x28d)));});}function updateDayStats(_0x308dd9){const _0x2aa90c=a2_0x11fdcb,_0x68aabb=document[_0x2aa90c(0x275)](_0x2aa90c(0x1be)+_0x308dd9);if(!_0x68aabb)return;const _0x39b599=new Date(_0x308dd9);let _0x470aa4=_0x39b599[_0x2aa90c(0x2cf)]()-0x1;if(_0x470aa4===-0x1)_0x470aa4=0x6;if(dateExceptions[_0x308dd9]===_0x2aa90c(0x243)){_0x68aabb[_0x2aa90c(0x274)][_0x2aa90c(0x19d)]=_0x2aa90c(0x260);return;}const _0x2db86c=availabilityPattern[_0x470aa4]||[],_0x2af582=0x18-_0x2db86c['length'],_0x42988e=_0x2af582*0x3c,_0x19bf28=sessions[_0x2aa90c(0x2d0)](_0x2d1491=>_0x2d1491[_0x2aa90c(0x29d)]===_0x308dd9&&_0x2d1491[_0x2aa90c(0x1c8)]!=='cancelled');if(_0x19bf28[_0x2aa90c(0x1f9)]===0x0){_0x68aabb[_0x2aa90c(0x274)]['display']=_0x2aa90c(0x260);return;}let _0x155963=_0x19bf28[_0x2aa90c(0x1f7)](_0x25a628=>{const _0x5962e9=_0x2aa90c,[_0x1df868,_0x2ec72c]=_0x25a628[_0x5962e9(0x186)][_0x5962e9(0x28b)](':')[_0x5962e9(0x1f7)](Number),[_0x46a749,_0x247fc7]=_0x25a628[_0x5962e9(0x295)][_0x5962e9(0x28b)](':')[_0x5962e9(0x1f7)](Number);return[_0x1df868*0x3c+_0x2ec72c,_0x46a749*0x3c+_0x247fc7];});_0x155963[_0x2aa90c(0x2e4)]((_0x1ab534,_0x4fd9e5)=>_0x1ab534[0x0]-_0x4fd9e5[0x0]);let _0x3499a4=[];if(_0x155963[_0x2aa90c(0x1f9)]>0x0){let _0x2dd1c8=_0x155963[0x0];for(let _0x5335d6=0x1;_0x5335d6<_0x155963[_0x2aa90c(0x1f9)];_0x5335d6++){_0x155963[_0x5335d6][0x0]<_0x2dd1c8[0x1]?_0x2dd1c8[0x1]=Math['max'](_0x2dd1c8[0x1],_0x155963[_0x5335d6][0x1]):(_0x3499a4[_0x2aa90c(0x28e)](_0x2dd1c8),_0x2dd1c8=_0x155963[_0x5335d6]);}_0x3499a4[_0x2aa90c(0x28e)](_0x2dd1c8);}let _0xbae18a=0x0;_0x3499a4[_0x2aa90c(0x1b8)](_0xa0c375=>_0xbae18a+=_0xa0c375[0x1]-_0xa0c375[0x0]),_0x68aabb['style']['display']='flex';const _0xfe914e=_0x68aabb[_0x2aa90c(0x251)](_0x2aa90c(0x25a));if(_0x42988e===0x0){_0xfe914e[_0x2aa90c(0x274)][_0x2aa90c(0x301)]='100%',_0xfe914e[_0x2aa90c(0x274)]['background']=_0x2aa90c(0x2f2);return;}const _0x2d1244=_0xbae18a/_0x42988e*0x64;console[_0x2aa90c(0x2c9)]('['+_0x308dd9+_0x2aa90c(0x1b4)+_0x2af582+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0xbae18a+_0x2aa90c(0x2fc)+_0x2d1244['toFixed'](0x1)+'%'),_0x2d1244>0x64?(_0xfe914e[_0x2aa90c(0x274)][_0x2aa90c(0x301)]=_0x2aa90c(0x2ee),_0xfe914e['style'][_0x2aa90c(0x2cd)]=_0x2aa90c(0x2f2)):(_0xfe914e[_0x2aa90c(0x274)][_0x2aa90c(0x301)]=_0x2d1244+'%',_0xfe914e['style'][_0x2aa90c(0x2cd)]=_0x2aa90c(0x2a7));}function renderEventsForColumn(_0x5a862f,_0x95004e,_0x50a7ec){const _0x3c897e=a2_0x11fdcb,_0x1ba25f=sessions['filter'](_0x3bc12a=>_0x3bc12a[_0x3c897e(0x29d)]===_0x95004e),_0x4d4189=_0x1ba25f[_0x3c897e(0x1f7)](_0x2444d0=>{const _0x162f13=_0x3c897e,[_0x5d5abf,_0x3e1c7d]=_0x2444d0[_0x162f13(0x186)][_0x162f13(0x28b)](':')[_0x162f13(0x1f7)](Number),[_0x224214,_0x5150c2]=_0x2444d0[_0x162f13(0x295)][_0x162f13(0x28b)](':')[_0x162f13(0x1f7)](Number);return{'data':_0x2444d0,'start':_0x5d5abf*0x3c+_0x3e1c7d,'end':_0x224214*0x3c+_0x5150c2,'colIndex':0x0};});_0x4d4189[_0x3c897e(0x2e4)]((_0x494923,_0x510c33)=>{const _0x4491b4=_0x3c897e;if(_0x494923[_0x4491b4(0x186)]!==_0x510c33[_0x4491b4(0x186)])return _0x494923[_0x4491b4(0x186)]-_0x510c33[_0x4491b4(0x186)];return _0x510c33['end']-_0x510c33[_0x4491b4(0x186)]-(_0x494923[_0x4491b4(0x295)]-_0x494923[_0x4491b4(0x186)]);});const _0x108170=[];_0x4d4189[_0x3c897e(0x1b8)](_0x5de2bc=>{const _0x51b109=_0x3c897e;let _0x4e49c5=![];for(let _0x44c6fe=0x0;_0x44c6fe<_0x108170[_0x51b109(0x1f9)];_0x44c6fe++){const _0x1205b1=_0x108170[_0x44c6fe],_0x4ad1ef=_0x1205b1[_0x1205b1[_0x51b109(0x1f9)]-0x1];if(_0x5de2bc[_0x51b109(0x186)]>=_0x4ad1ef['end']){_0x1205b1[_0x51b109(0x28e)](_0x5de2bc),_0x5de2bc[_0x51b109(0x30e)]=_0x44c6fe,_0x4e49c5=!![];break;}}!_0x4e49c5&&(_0x108170[_0x51b109(0x28e)]([_0x5de2bc]),_0x5de2bc[_0x51b109(0x30e)]=_0x108170['length']-0x1);}),_0x4d4189['forEach'](_0x3b3151=>{const _0x524294=_0x3c897e;let _0x394335=0x0;_0x4d4189['forEach'](_0xabc53e=>{const _0x91900a=a2_0x3938;if(Math[_0x91900a(0x1cf)](_0x3b3151[_0x91900a(0x186)],_0xabc53e[_0x91900a(0x186)])<Math[_0x91900a(0x2bc)](_0x3b3151['end'],_0xabc53e['end'])){if(_0xabc53e[_0x91900a(0x30e)]>_0x394335)_0x394335=_0xabc53e[_0x91900a(0x30e)];}});const _0x4e3a43=_0x394335+0x1,_0x17cd9b=0x64/_0x4e3a43,_0x3af401=_0x3b3151[_0x524294(0x30e)]*_0x17cd9b,_0xecd285=createEventEl(_0x3b3151[_0x524294(0x23a)]);_0xecd285['style']['width']=_0x524294(0x2db)+_0x17cd9b+'%\x20-\x204px)',_0xecd285['style'][_0x524294(0x197)]=_0x524294(0x2db)+_0x3af401+'%\x20+\x202px)',_0xecd285[_0x524294(0x274)]['zIndex']=0xa+_0x3b3151['colIndex'],_0x17cd9b<0x55&&_0xecd285[_0x524294(0x263)][_0x524294(0x2a5)](_0x524294(0x1ec)),_0x5a862f[_0x524294(0x300)](_0xecd285);});}function createEventEl(_0x2dc1ad){const _0x4a759a=a2_0x11fdcb,[_0x1476f8,_0x5a9736]=_0x2dc1ad[_0x4a759a(0x186)]['split'](':')[_0x4a759a(0x1f7)](Number),[_0xc656d3,_0x217f28]=_0x2dc1ad[_0x4a759a(0x295)][_0x4a759a(0x28b)](':')[_0x4a759a(0x1f7)](Number),_0x1cb6af=(_0x1476f8*0x3c+_0x5a9736)/0x3c*GRID_H,_0x332ca1=(_0xc656d3*0x3c+_0x217f28-(_0x1476f8*0x3c+_0x5a9736))/0x3c*GRID_H,_0x3015a4=document[_0x4a759a(0x26b)](_0x4a759a(0x2a6)),_0x447f7f=_0x2dc1ad[_0x4a759a(0x1c8)]==='completed'?'\x20status-completed':'';_0x3015a4[_0x4a759a(0x23d)]=_0x4a759a(0x237)+_0x447f7f,_0x3015a4[_0x4a759a(0x274)]['top']=_0x1cb6af+'px',_0x3015a4[_0x4a759a(0x274)][_0x4a759a(0x2a4)]=Math[_0x4a759a(0x1cf)](_0x332ca1,0x14)+'px';const _0x5803f6=clients['find'](_0x48508e=>_0x2dc1ad[_0x4a759a(0x1fd)]&&String(_0x48508e['id'])===String(_0x2dc1ad['clientId'])||_0x48508e[_0x4a759a(0x23c)]===_0x2dc1ad[_0x4a759a(0x1db)]),_0x11b6f4=_0x5803f6?_0x5803f6[_0x4a759a(0x241)]:_0x4a759a(0x30a);_0x3015a4[_0x4a759a(0x274)][_0x4a759a(0x2e7)]=_0x11b6f4,_0x3015a4[_0x4a759a(0x274)][_0x4a759a(0x25e)]=hexToRgba(_0x11b6f4,0.85);let _0x37f542='<div\x20class=\x22ev-title\x22>'+_0x2dc1ad[_0x4a759a(0x1db)]+'</div><div\x20class=\x22ev-time\x22>'+_0x2dc1ad['start']+_0x4a759a(0x2c4)+_0x2dc1ad[_0x4a759a(0x295)]+_0x4a759a(0x2ec);return _0x2dc1ad['seriesId']&&(_0x37f542+=_0x4a759a(0x259)),_0x2dc1ad[_0x4a759a(0x1c8)]===_0x4a759a(0x25b)&&(_0x37f542+=_0x4a759a(0x2a3)),_0x3015a4[_0x4a759a(0x200)]=_0x37f542,_0x3015a4['onclick']=_0x41f7b8=>{const _0x1bc10e=_0x4a759a;_0x41f7b8[_0x1bc10e(0x239)](),openEdit(_0x2dc1ad);},_0x3015a4;}function attachLongPressHandler(_0x488865,_0x2adac4){const _0x44f65e=a2_0x11fdcb;let _0x3f7624=0x0,_0x2c3542=null;const _0x3e6b7d=_0x36d3df=>{const _0x289231=a2_0x3938;if(_0x36d3df[_0x289231(0x285)][_0x289231(0x1aa)](_0x289231(0x279)))return;isScrolling=![],_0x3f7624=_0x36d3df['touches']?_0x36d3df[_0x289231(0x269)][0x0][_0x289231(0x30d)]:_0x36d3df[_0x289231(0x30d)],_0x2c3542=setTimeout(()=>{const _0x2d7684=_0x289231;if(!isScrolling){navigator[_0x2d7684(0x1fc)]?.(0x32);const _0x3fd71a=_0x488865[_0x2d7684(0x196)](),_0x5927c5=Math[_0x2d7684(0x2a2)]((_0x3f7624-_0x3fd71a[_0x2d7684(0x1d2)])/GRID_H);_0x2adac4['setHours'](_0x5927c5,0x0),openAddSession(_0x2adac4);}},0x1f4);},_0x408f82=()=>{isScrolling=!![],clearTimeout(_0x2c3542);},_0x32e936=()=>{clearTimeout(_0x2c3542);};_0x488865[_0x44f65e(0x20a)]('touchstart',_0x3e6b7d,{'passive':!![]}),_0x488865[_0x44f65e(0x20a)](_0x44f65e(0x1c6),_0x408f82,{'passive':!![]}),_0x488865['addEventListener']('touchend',_0x32e936),_0x488865[_0x44f65e(0x20a)](_0x44f65e(0x18a),_0x3e6b7d),_0x488865['addEventListener'](_0x44f65e(0x231),_0x408f82),_0x488865[_0x44f65e(0x20a)](_0x44f65e(0x298),_0x32e936);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x669cec=a2_0x11fdcb,_0x105870=document[_0x669cec(0x275)](_0x669cec(0x2e8)),_0x766f86=_0x105870[_0x669cec(0x2bf)],_0x4f09c3=_0x105870[_0x669cec(0x296)],_0xa9db63=_0x105870[_0x669cec(0x30f)];if(_0x4f09c3-(_0x766f86+_0xa9db63)<0x12c){const _0x49a2a1=endOffset;endOffset+=0xe,renderDayRange(_0x49a2a1+0x1,endOffset),reRenderBlocks();}if(_0x766f86<0x12c){const _0x52e910=startOffset;startOffset-=0xe,prependDays(startOffset,_0x52e910-0x1),_0x105870[_0x669cec(0x2bf)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2853f2,_0x492d2b){const _0xbe1a3c=a2_0x11fdcb,_0x245790=document[_0xbe1a3c(0x275)](_0xbe1a3c(0x20d)),_0x2520c5=document[_0xbe1a3c(0x275)]('gridColumns'),_0x18ffed=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5c9f30=new Date();_0x5c9f30[_0xbe1a3c(0x1f2)](0x0,0x0,0x0,0x0);const _0x25d70d=getLocalDateStr(new Date()),_0x1a74d3=document[_0xbe1a3c(0x2fa)](),_0x46b2a9=document[_0xbe1a3c(0x2fa)]();for(let _0x4acb0b=_0x2853f2;_0x4acb0b<=_0x492d2b;_0x4acb0b++){const _0x293583=new Date(_0x5c9f30);_0x293583[_0xbe1a3c(0x2de)](_0x293583[_0xbe1a3c(0x293)]()+_0x4acb0b);const _0x49cd67=getLocalDateStr(_0x293583);let _0x5c48ce=_0x293583[_0xbe1a3c(0x2cf)]()-0x1;if(_0x5c48ce===-0x1)_0x5c48ce=0x6;const _0x48380d=_0x49cd67===_0x25d70d,_0x43cb3b=document[_0xbe1a3c(0x26b)]('div');_0x43cb3b['className']=_0xbe1a3c(0x2f6)+(_0x48380d?_0xbe1a3c(0x18b):''),_0x43cb3b['id']='header-'+_0x49cd67,_0x43cb3b[_0xbe1a3c(0x2fd)](_0xbe1a3c(0x28d),_0x49cd67),_0x43cb3b[_0xbe1a3c(0x200)]=_0xbe1a3c(0x2da)+_0x18ffed[_0x5c48ce]+_0xbe1a3c(0x272)+_0x293583['getDate']()+_0xbe1a3c(0x2c7)+_0x49cd67+_0xbe1a3c(0x2b3),_0x43cb3b[_0xbe1a3c(0x1ef)]=()=>openDayOptions(_0x49cd67,_0x18ffed[_0x5c48ce]+'\x20'+_0x293583[_0xbe1a3c(0x293)]()),_0x1a74d3['appendChild'](_0x43cb3b);const _0x510149=document[_0xbe1a3c(0x26b)](_0xbe1a3c(0x2a6));_0x510149[_0xbe1a3c(0x23d)]='day-column\x20'+(_0x48380d?_0xbe1a3c(0x18b):''),_0x510149[_0xbe1a3c(0x2fd)](_0xbe1a3c(0x28d),_0x49cd67),_0x510149[_0xbe1a3c(0x2fd)](_0xbe1a3c(0x222),_0x5c48ce),renderEventsForColumn(_0x510149,_0x49cd67,_0x5c48ce),attachLongPressHandler(_0x510149,_0x293583),_0x46b2a9[_0xbe1a3c(0x300)](_0x510149),updateDayStats(_0x49cd67);}_0x245790[_0xbe1a3c(0x276)](_0x1a74d3,_0x245790['firstChild']),_0x2520c5['insertBefore'](_0x46b2a9,_0x2520c5[_0xbe1a3c(0x251)](_0xbe1a3c(0x1d8)));}function validateAppointment(_0x400960,_0x522eb9,_0x5b415a,_0x510af0,_0x57e238){const _0x992645=a2_0x11fdcb,[_0x18f93e,_0x2e4b19]=_0x522eb9['split'](':')['map'](Number),[_0x4c6d48,_0x3cf841]=_0x5b415a[_0x992645(0x28b)](':')[_0x992645(0x1f7)](Number),_0x41bf64=_0x18f93e*0x3c+_0x2e4b19,_0x5a8555=_0x4c6d48*0x3c+_0x3cf841,_0x57058d=String(_0x57e238);let _0x327687=![],_0x22986a='';for(let _0x3f915c of sessions){if(_0x3f915c['dateStr']!==_0x400960)continue;if(_0x3f915c[_0x992645(0x1c8)]===_0x992645(0x292))continue;if(_0x510af0&&String(_0x3f915c['id'])===String(_0x510af0))continue;const [_0x57578e,_0x203da2]=_0x3f915c[_0x992645(0x186)][_0x992645(0x28b)](':')[_0x992645(0x1f7)](Number),[_0x35ff34,_0x306591]=_0x3f915c[_0x992645(0x295)]['split'](':')[_0x992645(0x1f7)](Number),_0x3981c9=_0x57578e*0x3c+_0x203da2,_0x2f23d2=_0x35ff34*0x3c+_0x306591;if(Math[_0x992645(0x1cf)](_0x41bf64,_0x3981c9)<Math[_0x992645(0x2bc)](_0x5a8555,_0x2f23d2)){if(_0x3f915c[_0x992645(0x1fd)]&&String(_0x3f915c[_0x992645(0x1fd)])===_0x57058d)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x3f915c[_0x992645(0x1db)]+_0x992645(0x2ad)};_0x327687=!![],_0x22986a=_0x3f915c[_0x992645(0x1db)];}}if(_0x327687)return{'valid':!![],'warning':_0x992645(0x2dd)+_0x22986a};return{'valid':!![]};}function updateDateDisplay(){const _0x5b838e=a2_0x11fdcb,_0x3a9826=document[_0x5b838e(0x275)](_0x5b838e(0x2d4))[_0x5b838e(0x23f)],_0x1a4cc2=document[_0x5b838e(0x275)](_0x5b838e(0x1c4));if(!_0x3a9826){_0x1a4cc2['textContent']='';return;}const [_0x416b4d,_0x513e54,_0x2a8197]=_0x3a9826[_0x5b838e(0x28b)]('-')[_0x5b838e(0x1f7)](Number),_0xa1b0df=new Date(_0x416b4d,_0x513e54-0x1,_0x2a8197),_0xc917a7={'weekday':_0x5b838e(0x1bd),'day':_0x5b838e(0x201),'month':_0x5b838e(0x1bd),'year':_0x5b838e(0x201)};let _0x20a877=_0xa1b0df[_0x5b838e(0x1d0)]('ru-RU',_0xc917a7);_0x20a877=_0x20a877[_0x5b838e(0x18d)](0x0)['toUpperCase']()+_0x20a877[_0x5b838e(0x221)](0x1),_0x1a4cc2[_0x5b838e(0x1cd)]=_0x20a877;}function autoSetEndTime(){const _0x957a4b=a2_0x11fdcb,_0x458190=document['getElementById'](_0x957a4b(0x2c2))['value'];if(!_0x458190)return;const [_0x4845ca,_0x204220]=_0x458190[_0x957a4b(0x28b)](':')[_0x957a4b(0x1f7)](Number);let _0x664de3=_0x4845ca+0x1;if(_0x664de3>0x17)_0x664de3=0x0;const _0x2f460d=String(_0x664de3)[_0x957a4b(0x287)](0x2,'0')+':'+String(_0x204220)['padStart'](0x2,'0');document[_0x957a4b(0x275)]('inpEnd')[_0x957a4b(0x23f)]=_0x2f460d;}function populateClientSelect(){const _0x1ec19e=a2_0x11fdcb,_0x486b57=document[_0x1ec19e(0x275)](_0x1ec19e(0x21a));_0x486b57[_0x1ec19e(0x200)]='';if(clients[_0x1ec19e(0x1f9)]===0x0){const _0x54ec7f=document[_0x1ec19e(0x26b)](_0x1ec19e(0x1e3));_0x54ec7f[_0x1ec19e(0x22c)]=_0x1ec19e(0x27f),_0x486b57[_0x1ec19e(0x300)](_0x54ec7f);return;}clients[_0x1ec19e(0x1b8)](_0x5cb4e4=>{const _0x5bef7e=_0x1ec19e,_0xafd9ad=document['createElement'](_0x5bef7e(0x1e3));_0xafd9ad['value']=_0x5cb4e4[_0x5bef7e(0x23c)],_0xafd9ad[_0x5bef7e(0x1cd)]=_0x5cb4e4[_0x5bef7e(0x23c)],_0x486b57[_0x5bef7e(0x300)](_0xafd9ad);});}function openActionSheet(_0x49c0a0){const _0x3d9e62=a2_0x11fdcb,_0x4260cf=document[_0x3d9e62(0x275)](_0x3d9e62(0x227)),_0x5f0bdc=document['getElementById'](_0x3d9e62(0x2f0)),_0x474e2e=document['getElementById'](_0x3d9e62(0x29e)),_0x291e6e=document[_0x3d9e62(0x275)](_0x3d9e62(0x2f8)),_0x22476a=document[_0x3d9e62(0x275)]('asBtnSeries');_0x5f0bdc[_0x3d9e62(0x263)][_0x3d9e62(0x2a5)](_0x3d9e62(0x262)),_0x4260cf['classList'][_0x3d9e62(0x2a5)](_0x3d9e62(0x204));if(_0x49c0a0===_0x3d9e62(0x1c9))_0x474e2e[_0x3d9e62(0x1cd)]=_0x3d9e62(0x28c),_0x291e6e['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x291e6e[_0x3d9e62(0x1ef)]=()=>{const _0x46d945=_0x3d9e62;closeActionSheet(),updateSeriesBatch(_0x46d945(0x1c0),tempSessionData);},_0x22476a[_0x3d9e62(0x1cd)]=_0x3d9e62(0x1f4),_0x22476a[_0x3d9e62(0x1ef)]=()=>{const _0x253ac3=_0x3d9e62;closeActionSheet(),updateSeriesBatch(_0x253ac3(0x1ab),tempSessionData);};else _0x49c0a0===_0x3d9e62(0x240)&&(_0x474e2e[_0x3d9e62(0x1cd)]=_0x3d9e62(0x25c),_0x291e6e[_0x3d9e62(0x1cd)]=_0x3d9e62(0x1f6),_0x291e6e[_0x3d9e62(0x23d)]=_0x3d9e62(0x2f9),_0x291e6e['onclick']=()=>{const _0x40a51c=_0x3d9e62;closeActionSheet(),commitDelete(_0x40a51c(0x1c0),sessions[_0x40a51c(0x2f5)](_0x49ce5f=>_0x49ce5f['id']===editingId));},_0x22476a['textContent']=_0x3d9e62(0x1f4),_0x22476a[_0x3d9e62(0x23d)]=_0x3d9e62(0x199),_0x22476a[_0x3d9e62(0x1ef)]=()=>{const _0x2d3754=_0x3d9e62;closeActionSheet(),commitDelete(_0x2d3754(0x1ab),sessions[_0x2d3754(0x2f5)](_0x4a6db4=>_0x4a6db4['id']===editingId));});}function closeActionSheet(){const _0x4e1260=a2_0x11fdcb;document[_0x4e1260(0x275)](_0x4e1260(0x227))[_0x4e1260(0x263)][_0x4e1260(0x2c6)]('open'),document[_0x4e1260(0x275)]('actionSheetOverlay')[_0x4e1260(0x263)][_0x4e1260(0x2c6)](_0x4e1260(0x262));}function openSettings(){const _0x5d7767=a2_0x11fdcb;openSheet(_0x5d7767(0x2bd));}function saveCoachSettings(){const _0x43049f=a2_0x11fdcb,_0x2cfb40=document[_0x43049f(0x275)]('settingCancelWindow')['value'];localStorage[_0x43049f(0x1f0)](_0x43049f(0x2d7),_0x2cfb40),console[_0x43049f(0x2c9)](_0x43049f(0x303),_0x2cfb40),DataManager[_0x43049f(0x232)](_0x43049f(0x1a0),{'settings':{'cancel_window':_0x2cfb40}})[_0x43049f(0x1ba)](_0x372c80=>{const _0x5cb621=_0x43049f;console[_0x5cb621(0x2cb)](_0x5cb621(0x27a),_0x372c80),showToast(_0x5cb621(0x27d),![]);});}function loadCoachSettings(){const _0x258189=a2_0x11fdcb,_0x30a658=localStorage['getItem'](_0x258189(0x2d7));_0x30a658&&(document[_0x258189(0x275)](_0x258189(0x26f))[_0x258189(0x23f)]=_0x30a658);}function openRangesSheet(){const _0x48bcce=a2_0x11fdcb;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x48bcce(0x2b7));}function addRange(){const _0x1316d7=a2_0x11fdcb,_0x1f57f5=document[_0x1316d7(0x275)](_0x1316d7(0x210))['value'],_0x32bec8=document[_0x1316d7(0x275)](_0x1316d7(0x242))[_0x1316d7(0x23f)],_0x23e84f=document[_0x1316d7(0x275)](_0x1316d7(0x29c))[_0x1316d7(0x23f)],_0x50b1cc=document[_0x1316d7(0x275)](_0x1316d7(0x216))[_0x1316d7(0x23f)];if(!_0x1f57f5||!_0x32bec8||!_0x23e84f||!_0x50b1cc)return alert(_0x1316d7(0x1ca));const _0x28075a=_0x1f57f5+'T'+_0x32bec8,_0x22e900=_0x23e84f+'T'+_0x50b1cc;if(_0x28075a>=_0x22e900)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x28075a,'end':_0x22e900}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1316d7(0x2a1)](),DataManager[_0x1316d7(0x232)](_0x1316d7(0x1a0),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x563c62){specialRanges['splice'](_0x563c62,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer']('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x46856d=a2_0x11fdcb;document[_0x46856d(0x275)](_0x46856d(0x210))[_0x46856d(0x23f)]='',document[_0x46856d(0x275)]('rangeStartTime')['value']=_0x46856d(0x2bb),document['getElementById']('rangeEndDate')[_0x46856d(0x23f)]='',document[_0x46856d(0x275)](_0x46856d(0x216))[_0x46856d(0x23f)]=_0x46856d(0x30b);}function renderRangesList(){const _0x407918=a2_0x11fdcb,_0x339388=document[_0x407918(0x275)](_0x407918(0x1bf));_0x339388[_0x407918(0x200)]='';if(!specialRanges[_0x407918(0x1f9)]){_0x339388['innerHTML']=_0x407918(0x1dc);return;}specialRanges['forEach']((_0x2e6465,_0x443a07)=>{const _0x227e3b=_0x407918,_0x3a20ce=document[_0x227e3b(0x26b)]('div');_0x3a20ce['className']=_0x227e3b(0x280);const _0x1d51f0=_0x51e86c=>{const _0x345d06=_0x227e3b,_0x126489=new Date(_0x51e86c);return _0x126489[_0x345d06(0x293)]()+'.'+String(_0x126489['getMonth']()+0x1)[_0x345d06(0x287)](0x2,'0')+'\x20'+String(_0x126489[_0x345d06(0x2b6)]())[_0x345d06(0x287)](0x2,'0')+':'+String(_0x126489['getMinutes']())[_0x345d06(0x287)](0x2,'0');};_0x3a20ce[_0x227e3b(0x200)]=_0x227e3b(0x249)+_0x1d51f0(_0x2e6465[_0x227e3b(0x186)])+'\x20‚Äî\x20'+_0x1d51f0(_0x2e6465[_0x227e3b(0x295)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x443a07+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x339388[_0x227e3b(0x300)](_0x3a20ce);});}function scrollToToday(){const _0x2770b3=a2_0x11fdcb,_0x16aeb8=getLocalDateStr(new Date()),_0x40c215=document['getElementById'](_0x2770b3(0x2b9)+_0x16aeb8),_0x3623b6=document[_0x2770b3(0x275)](_0x2770b3(0x2e8));if(_0x40c215&&_0x3623b6){const _0x41f429=_0x3623b6[_0x2770b3(0x30f)],_0x396bdd=_0x40c215[_0x2770b3(0x1eb)],_0x14c52a=_0x40c215[_0x2770b3(0x271)];_0x3623b6['scrollLeft']=_0x396bdd-_0x41f429/0x2+_0x14c52a/0x2,_0x3623b6['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x21725e=a2_0x11fdcb,_0x4a740b=document[_0x21725e(0x275)](_0x21725e(0x2e8)),_0x8c2269=document[_0x21725e(0x29f)](_0x21725e(0x258));for(let _0x1c3cd5 of _0x8c2269)if(_0x1c3cd5[_0x21725e(0x1eb)]>=_0x4a740b[_0x21725e(0x2bf)]){const _0x5af2f3=new Date(_0x1c3cd5[_0x21725e(0x1ee)](_0x21725e(0x28d)));document['getElementById']('headerMonth')[_0x21725e(0x1cd)]=_0x5af2f3[_0x21725e(0x19e)]('ru',{'month':_0x21725e(0x1bd)})[_0x21725e(0x268)]()+'\x20'+_0x5af2f3['getFullYear']();break;}}function showToast(_0x6b11cb,_0xddd66a=![]){const _0x3fc365=a2_0x11fdcb,_0x3b1be0=document[_0x3fc365(0x275)](_0x3fc365(0x2d1));_0x3b1be0[_0x3fc365(0x23d)]=_0x3fc365(0x306)+(_0xddd66a?'success':''),document[_0x3fc365(0x275)](_0x3fc365(0x26d))[_0x3fc365(0x1cd)]=_0xddd66a?_0x3fc365(0x20e):_0x3fc365(0x21d),document[_0x3fc365(0x275)](_0x3fc365(0x1b9))[_0x3fc365(0x1cd)]=_0x6b11cb,_0x3b1be0[_0x3fc365(0x263)][_0x3fc365(0x2a5)](_0x3fc365(0x203)),setTimeout(()=>{const _0x5cc902=_0x3fc365;_0x3b1be0[_0x5cc902(0x263)]['remove'](_0x5cc902(0x203));},0xbb8);}function openDayOptions(_0x19239d,_0x4827bc){const _0x52ee9f=a2_0x11fdcb;selectedDayForOptions=_0x19239d,document[_0x52ee9f(0x275)](_0x52ee9f(0x1e9))['textContent']=_0x4827bc,openSheet(_0x52ee9f(0x1b6));}function a2_0x48ce(){const _0x5b40f1=['offClick','offsetLeft','mini','cancel','getAttribute','onclick','setItem','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','setHours','setBackgroundColor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','#gridColumns\x20.day-column','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','map','POST','length',':\x20Client\x20already\x20booked','block','vibrate','clientId','json','(((.+)+)+)+$','innerHTML','numeric',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','show','open','<b>‚úÖ\x20','setMonth','warn','Critical\x20TMA\x20Error:','strokeDashoffset','addEventListener','[Sync]\x20Loading\x20','\x20‚Äî\x20','daysHeaderTrack','–£—Å–ø–µ—à–Ω–æ','.pib-text','rangeStartDate','30xJmEnd','blocked-slot\x20stripe-bg','startsWith','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','</b>\x0a\x0a','rangeEndTime','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','undefined','mergeServerData','inpClient','clients','991968LrEUdD','–ò–Ω—Ñ–æ','from','pe-col-header','btnStatusToggle','slice','data-day-idx','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','patternEditor','uc_sessions_v9','doDateHeader','actionSheet','router.html','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','btnDayToggle','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','text','init_load','findIndex','[Notify]\x20Server\x20Response:','patternInfoBox','mousemove','fetchFromServer','syncBatch','onClick','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','Telegram','event-card','</span>\x20/\x20','stopPropagation','data','flex','name','className','btn-status-toggle\x20undo-mode','value','delete','color','rangeStartTime','off','then','loadLocal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','5560302Iwqhkw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','batch_sync','[API\x20','uc_clients_v9','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','disableVerticalSwipes','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','querySelector','recurringOptionContainer','anEnd','sid','getMonth','#fff','anPercent','.day-col-header','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','.dch-stats-fill','completed','–£–¥–∞–ª–µ–Ω–∏–µ','send_notification','backgroundColor','2304670GIVxYN','none','uc_settings_v9','active','classList','[Notify]\x20Error:\x20Text\x20generation\x20failed',']\x20Failed:','Local\x20Load\x20Error','.period-switch\x20.p-btn','toUpperCase','touches','#050505','createElement','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','toastTitle','ranges','settingCancelWindow','317107YZyUQO','offsetWidth','</div><div\x20class=\x22dch-num\x22>','rgba(255,255,255,0.05)','style','getElementById','insertBefore','[Notify]\x20Attempting\x20to\x20send:','3329HgzABO','.event-card','Save\x20settings\x20error:','parse','formatDate','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rgba(','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','range-item','href','month','1407453HQOeaP','timeLineBadge','target','doBusyHours','padStart','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','ru-RU','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','split','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','data-date','push','inpNote','guest','settings','cancelled','getDate','seriesCountContainer','end','scrollWidth','globalTimeLine','mouseup','substr','day-off-overlay\x20stripe-bg','seriesId','rangeEndDate','dateStr','asTitle','querySelectorAll',':00','saveLocally','floor','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','height','add','div','var(--acc-current)','doLoadPercent','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','...','[Notify]\x20Detected\x20Client\x20ID:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','anTotalStats','toString','update','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','total','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','9kypkrs','planned','getHours','rangesSheet','rgba(255,\x2069,\x2058,\x200.3)','header-','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','00:00','min','settingsSheet','Error\x20setting\x20color:','scrollLeft','msg','done','inpStart','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x20-\x20','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','remove','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','ready','log','peGrid','error','isArray','background','getTime','getDay','filter','toast','rgba(100,100,100,0.5)','analyticsList','inpDate','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','exceptions','uc_settings_cancel_window','overlay','text/plain;charset=UTF-8','<div\x20class=\x22dch-day\x22>','calc(','pe-time-label','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setDate','send','anCustomDates','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','427080qphUld','backgroundPosition','sort','borderColor','btnDelete','borderLeftColor','matrixViewport','inpSeriesCount','week','pe-corner','</div>','complete','100%',':00</span>','actionSheetOverlay','constructor','var(--acc-red)','custom','sheetTitle','find','day-col-header\x20','px\x20-','asBtnOne','as-button\x20danger','createDocumentFragment','Local\x20Save\x20Error','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','setAttribute','search','cancel_window','appendChild','width','valid','[Settings]\x20Cancel\x20window\x20set\x20to:','v9.0-BATCH-CALENDAR','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','toast-notification\x20','keys','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','sessionSheet','#0a84ff','23:59','getItem','clientY','colIndex','clientWidth','inpRecurring','start','day-column\x20','Server\x20Error','BackButton','mousedown','today','inpEnd','charAt','pattern','random','timeColumn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','create','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','anStart','calendar','getBoundingClientRect','left','time-label','as-button\x20danger\x20bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','rgba(255,\x2069,\x2058,\x200.15)','getText','display','toLocaleString','null','save_settings','T00:00:00','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','deleted','.day-off-overlay','btn-primary\x20btn-danger','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','btn-status-toggle','de-item','closest','series','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','now','56ZMZdJK','T23:59:59','92iJSCav','px\x200px','warning','user',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getMinutes','dayOptionsSheet','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','forEach','toastMessage','catch','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','long','stat-','rangesList','single','splice','note','[Notify]\x20Client\x20SWAP\x20detected','sheetDateSubtitle','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','touchmove','entries','status','save','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','DOMContentLoaded','textContent','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','max','toLocaleDateString','WebApp','top','rgba(48,\x20209,\x2088,\x200.15)','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','borderRadius','<span>','round','.day-column','client-stat-card','initData','client','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','localeCompare','getFullYear','gridColumns','[Notify]\x20Error:\x20sessionData\x20is\x20null','var(--acc-green)','apply','option','10px','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','setHeaderColor','\x20days','indexOf','dayOptionsTitle'];a2_0x48ce=function(){return _0x5b40f1;};return a2_0x48ce();}function toggleDayOff(){const _0x5607e0=a2_0x11fdcb;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x5607e0(0x1a0),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x33e8e1=a2_0x11fdcb;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x33e8e1(0x1a0),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x218f32){const _0x3101b0=a2_0x11fdcb;document[_0x3101b0(0x275)](_0x3101b0(0x2d8))[_0x3101b0(0x263)]['add'](_0x3101b0(0x262)),document['getElementById'](_0x218f32)['classList'][_0x3101b0(0x2a5)](_0x3101b0(0x204));}function closeAllSheets(){const _0x184c41=a2_0x11fdcb;document['getElementById'](_0x184c41(0x2d8))['classList'][_0x184c41(0x2c6)](_0x184c41(0x262)),document[_0x184c41(0x29f)]('.sheet')[_0x184c41(0x1b8)](_0x3d26cc=>_0x3d26cc[_0x184c41(0x263)]['remove'](_0x184c41(0x204)));}function openPatternEditor(){const _0x2b8b25=a2_0x11fdcb;closeAllSheets(),document[_0x2b8b25(0x275)]('patternEditor')[_0x2b8b25(0x263)][_0x2b8b25(0x2a5)](_0x2b8b25(0x204)),renderPatternEditor();}function closePatternEditor(){const _0x1ee2e0=a2_0x11fdcb;document[_0x1ee2e0(0x275)](_0x1ee2e0(0x224))[_0x1ee2e0(0x263)][_0x1ee2e0(0x2c6)]('open');}function savePattern(){const _0x6020ae=a2_0x11fdcb;document[_0x6020ae(0x275)](_0x6020ae(0x224))[_0x6020ae(0x263)]['remove'](_0x6020ae(0x204)),reRenderBlocks(),DataManager[_0x6020ae(0x2a1)](),DataManager['fetchFromServer'](_0x6020ae(0x1a0),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x34dae9=a2_0x11fdcb,_0x38a556=document[_0x34dae9(0x275)](_0x34dae9(0x2ca));_0x38a556[_0x34dae9(0x200)]='';const _0x43fe59=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x15d294=document[_0x34dae9(0x26b)](_0x34dae9(0x2a6));_0x15d294[_0x34dae9(0x23d)]=_0x34dae9(0x2eb),_0x38a556['appendChild'](_0x15d294),_0x43fe59[_0x34dae9(0x1b8)]((_0x5307cf,_0x13f01b)=>{const _0x1b4160=_0x34dae9,_0x50cc5b=document[_0x1b4160(0x26b)](_0x1b4160(0x2a6));_0x50cc5b['className']=_0x1b4160(0x21f),_0x50cc5b[_0x1b4160(0x200)]=_0x5307cf+_0x1b4160(0x288),_0x50cc5b[_0x1b4160(0x1ef)]=()=>toggleColPattern(_0x13f01b),_0x38a556[_0x1b4160(0x300)](_0x50cc5b);});for(let _0x94a6f3=0x0;_0x94a6f3<0x18;_0x94a6f3++){const _0x1b44ab=document[_0x34dae9(0x26b)](_0x34dae9(0x2a6));_0x1b44ab[_0x34dae9(0x23d)]=_0x34dae9(0x2dc),_0x1b44ab[_0x34dae9(0x200)]=_0x34dae9(0x2b1)+String(_0x94a6f3)['padStart'](0x2,'0')+_0x34dae9(0x2a0),_0x1b44ab[_0x34dae9(0x1ef)]=()=>toggleRowPattern(_0x94a6f3),_0x38a556[_0x34dae9(0x300)](_0x1b44ab);for(let _0x4f6fea=0x0;_0x4f6fea<0x7;_0x4f6fea++){const _0x13e990=document[_0x34dae9(0x26b)](_0x34dae9(0x2a6)),_0x5f2e90=(availabilityPattern[_0x4f6fea]||[])['includes'](_0x94a6f3),_0x142aa7=!_0x5f2e90;_0x13e990['className']='pe-cell\x20'+(_0x142aa7?_0x34dae9(0x262):''),_0x13e990[_0x34dae9(0x1ef)]=()=>toggleSinglePattern(_0x4f6fea,_0x94a6f3),_0x38a556[_0x34dae9(0x300)](_0x13e990);}}}function toggleSinglePattern(_0x254ef6,_0x34f987){const _0x5ab732=a2_0x11fdcb;if(!availabilityPattern[_0x254ef6])availabilityPattern[_0x254ef6]=[];const _0x5276c8=availabilityPattern[_0x254ef6],_0x567785=_0x5276c8[_0x5ab732(0x1e8)](_0x34f987);_0x567785===-0x1?_0x5276c8['push'](_0x34f987):_0x5276c8['splice'](_0x567785,0x1),renderPatternEditor();}function toggleColPattern(_0x471f8d){const _0x3f5ac7=a2_0x11fdcb;if(!availabilityPattern[_0x471f8d])availabilityPattern[_0x471f8d]=[];const _0xd6f414=availabilityPattern[_0x471f8d];_0xd6f414[_0x3f5ac7(0x1f9)]===0x0?availabilityPattern[_0x471f8d]=Array[_0x3f5ac7(0x21e)]({'length':0x18},(_0x1a9d65,_0x911603)=>_0x911603):availabilityPattern[_0x471f8d]=[],renderPatternEditor();}function toggleRowPattern(_0x780892){const _0x2dcd29=a2_0x11fdcb;let _0x2374ed=!![];for(let _0x528ef9=0x0;_0x528ef9<0x7;_0x528ef9++){if((availabilityPattern[_0x528ef9]||[])['includes'](_0x780892)){_0x2374ed=![];break;}}for(let _0x48ad87=0x0;_0x48ad87<0x7;_0x48ad87++){if(!availabilityPattern[_0x48ad87])availabilityPattern[_0x48ad87]=[];const _0x4e9477=availabilityPattern[_0x48ad87][_0x2dcd29(0x1e8)](_0x780892);if(_0x2374ed){if(_0x4e9477===-0x1)availabilityPattern[_0x48ad87][_0x2dcd29(0x28e)](_0x780892);}else{if(_0x4e9477!==-0x1)availabilityPattern[_0x48ad87][_0x2dcd29(0x1c1)](_0x4e9477,0x1);}}renderPatternEditor();}function renderPCol(_0x4d3ef7,_0x2b2663){const _0x30bf35=a2_0x11fdcb;_0x4d3ef7['innerHTML']='';const _0x5627f5=Math[_0x30bf35(0x1d7)](_0x4d3ef7[_0x30bf35(0x1eb)]);(availabilityPattern[_0x2b2663]||[])['forEach'](_0x7ac0a8=>{const _0x16d933=_0x30bf35,_0x523b=document['createElement'](_0x16d933(0x2a6));_0x523b[_0x16d933(0x23d)]='blocked-slot\x20stripe-bg';const _0x546a4e=_0x7ac0a8*GRID_H;_0x523b[_0x16d933(0x274)][_0x16d933(0x1d2)]=_0x546a4e+'px',_0x523b[_0x16d933(0x274)][_0x16d933(0x2e3)]='-'+_0x5627f5+_0x16d933(0x2f7)+_0x546a4e+'px',_0x523b['onclick']=_0x1d5ce0=>{const _0x223ed4=_0x16d933;_0x1d5ce0[_0x223ed4(0x239)](),toggleSinglePattern(_0x2b2663,_0x7ac0a8);},_0x4d3ef7[_0x16d933(0x300)](_0x523b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x43e088=a2_0x11fdcb,_0x1ea180=new Date(),_0x3bbdbb=document[_0x43e088(0x275)](_0x43e088(0x297)),_0x559bea=document[_0x43e088(0x275)]('timeLineBadge'),_0x7ad4a8=(_0x1ea180[_0x43e088(0x2b6)]()*0x3c+_0x1ea180[_0x43e088(0x1b5)]())/0x3c*GRID_H;_0x3bbdbb[_0x43e088(0x274)][_0x43e088(0x1d2)]=_0x7ad4a8+'px',_0x3bbdbb['style'][_0x43e088(0x19d)]=_0x43e088(0x1fb),_0x559bea[_0x43e088(0x1cd)]=String(_0x1ea180[_0x43e088(0x2b6)]())['padStart'](0x2,'0')+':'+String(_0x1ea180['getMinutes']())[_0x43e088(0x287)](0x2,'0'),_0x559bea[_0x43e088(0x274)][_0x43e088(0x19d)]=_0x43e088(0x1fb),_0x559bea[_0x43e088(0x274)][_0x43e088(0x1d2)]=_0x7ad4a8+'px';}document[a2_0x11fdcb(0x20a)](a2_0x11fdcb(0x1cc),init);function openDayOptions(_0x14f10d){const _0x4d75a6=a2_0x11fdcb;selectedDayForOptions=_0x14f10d;const _0x1469e5=new Date(_0x14f10d),_0x505242={'weekday':_0x4d75a6(0x1bd),'day':_0x4d75a6(0x201),'month':'long','year':'numeric'},_0x5a33a8=_0x1469e5['toLocaleDateString'](_0x4d75a6(0x289),_0x505242);document[_0x4d75a6(0x275)](_0x4d75a6(0x226))['textContent']=_0x5a33a8[_0x4d75a6(0x18d)](0x0)['toUpperCase']()+_0x5a33a8[_0x4d75a6(0x221)](0x1);let _0x42ad82=_0x1469e5[_0x4d75a6(0x2cf)]()-0x1;if(_0x42ad82===-0x1)_0x42ad82=0x6;const _0x3cc3f1=availabilityPattern[_0x42ad82]||[],_0x43e1dd=0x18-_0x3cc3f1[_0x4d75a6(0x1f9)],_0x5e54a9=_0x43e1dd*0x3c,_0x24066b=sessions[_0x4d75a6(0x2d0)](_0x1f6c7c=>_0x1f6c7c[_0x4d75a6(0x29d)]===_0x14f10d&&_0x1f6c7c[_0x4d75a6(0x1c8)]!=='cancelled');let _0x4c64f2=_0x24066b[_0x4d75a6(0x1f7)](_0x134cc8=>{const _0xdc888=_0x4d75a6,[_0x5e0176,_0x153130]=_0x134cc8[_0xdc888(0x186)]['split'](':')[_0xdc888(0x1f7)](Number),[_0x17c52a,_0x25e382]=_0x134cc8[_0xdc888(0x295)]['split'](':')[_0xdc888(0x1f7)](Number);return[_0x5e0176*0x3c+_0x153130,_0x17c52a*0x3c+_0x25e382];});_0x4c64f2[_0x4d75a6(0x2e4)]((_0x51dded,_0xf8287f)=>_0x51dded[0x0]-_0xf8287f[0x0]);let _0x6475cd=[];if(_0x4c64f2[_0x4d75a6(0x1f9)]>0x0){let _0x352f72=_0x4c64f2[0x0];for(let _0xb777e9=0x1;_0xb777e9<_0x4c64f2[_0x4d75a6(0x1f9)];_0xb777e9++){_0x4c64f2[_0xb777e9][0x0]<_0x352f72[0x1]?_0x352f72[0x1]=Math[_0x4d75a6(0x1cf)](_0x352f72[0x1],_0x4c64f2[_0xb777e9][0x1]):(_0x6475cd['push'](_0x352f72),_0x352f72=_0x4c64f2[_0xb777e9]);}_0x6475cd[_0x4d75a6(0x28e)](_0x352f72);}let _0x8a0672=0x0;_0x6475cd[_0x4d75a6(0x1b8)](_0x54f1d7=>_0x8a0672+=_0x54f1d7[0x1]-_0x54f1d7[0x0]),document[_0x4d75a6(0x275)]('doWorkHours')[_0x4d75a6(0x1cd)]=formatMinsToHrs(_0x5e54a9),document[_0x4d75a6(0x275)](_0x4d75a6(0x286))[_0x4d75a6(0x1cd)]=formatMinsToHrs(_0x8a0672);const _0x3edb4b=_0x5e54a9>0x0?Math['round'](_0x8a0672/_0x5e54a9*0x64):0x0,_0x944e28=document[_0x4d75a6(0x275)](_0x4d75a6(0x2a8));_0x944e28['textContent']=_0x3edb4b+'%';const _0x5d32cc=document[_0x4d75a6(0x275)]('statLoadCard');if(_0x3edb4b>0x64)_0x944e28['style'][_0x4d75a6(0x241)]=_0x4d75a6(0x2f2),_0x5d32cc[_0x4d75a6(0x274)][_0x4d75a6(0x2e5)]=_0x4d75a6(0x2b8);else _0x3edb4b>0x50?(_0x944e28[_0x4d75a6(0x274)][_0x4d75a6(0x241)]='var(--acc-orange)',_0x5d32cc[_0x4d75a6(0x274)][_0x4d75a6(0x2e5)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x944e28[_0x4d75a6(0x274)]['color']=_0x4d75a6(0x1e1),_0x5d32cc[_0x4d75a6(0x274)][_0x4d75a6(0x2e5)]=_0x4d75a6(0x273));const _0x4817ec=document[_0x4d75a6(0x275)]('doEventsList');_0x4817ec[_0x4d75a6(0x200)]='';_0x24066b[_0x4d75a6(0x1f9)]===0x0?_0x4817ec[_0x4d75a6(0x200)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x24066b[_0x4d75a6(0x2e4)]((_0x4a0204,_0x51cdb8)=>_0x4a0204['start'][_0x4d75a6(0x1dd)](_0x51cdb8[_0x4d75a6(0x186)])),_0x24066b[_0x4d75a6(0x1b8)](_0x54485=>{const _0x56c7a3=_0x4d75a6,_0x29d9e6=clients['find'](_0x3553bc=>_0x3553bc[_0x56c7a3(0x23c)]===_0x54485[_0x56c7a3(0x1db)]),_0x910025=_0x29d9e6?_0x29d9e6['color']:_0x56c7a3(0x256),_0xb49ab9=_0x54485[_0x56c7a3(0x1c8)]==='completed',_0x3076fc=_0xb49ab9?_0x56c7a3(0x1c5):'',_0x34319f=document[_0x56c7a3(0x26b)](_0x56c7a3(0x2a6));_0x34319f[_0x56c7a3(0x23d)]=_0x56c7a3(0x1a9),_0x34319f[_0x56c7a3(0x274)][_0x56c7a3(0x2e7)]=_0x910025,_0x34319f[_0x56c7a3(0x200)]=_0x56c7a3(0x19a)+_0x54485[_0x56c7a3(0x186)]+_0x56c7a3(0x2c4)+_0x54485[_0x56c7a3(0x295)]+_0x56c7a3(0x2ac)+_0x54485['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3076fc+_0x56c7a3(0x246),_0x4817ec[_0x56c7a3(0x300)](_0x34319f);}));const _0x208e64=document['getElementById'](_0x4d75a6(0x22a)),_0x5adc2b=dateExceptions[_0x14f10d]==='off';_0x5adc2b?(_0x208e64[_0x4d75a6(0x1cd)]=_0x4d75a6(0x1a7),_0x208e64['className']='btn-primary\x20btn-secondary',_0x208e64[_0x4d75a6(0x274)]['color']=_0x4d75a6(0x1e1),_0x208e64[_0x4d75a6(0x274)]['background']=_0x4d75a6(0x1d3)):(_0x208e64['textContent']=_0x4d75a6(0x1a2),_0x208e64['className']=_0x4d75a6(0x1a5),_0x208e64['style'][_0x4d75a6(0x241)]=_0x4d75a6(0x2f2),_0x208e64[_0x4d75a6(0x274)][_0x4d75a6(0x2cd)]=_0x4d75a6(0x19b)),openSheet(_0x4d75a6(0x1b6));}let currentAnPeriod=a2_0x11fdcb(0x2ea);function openAnalytics(){const _0x38cae1=a2_0x11fdcb,_0xf37051=document[_0x38cae1(0x251)](_0x38cae1(0x267));setAnalyticsPeriod(_0x38cae1(0x2ea),_0xf37051),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1efd96,_0x1d97b7){const _0x3910b9=a2_0x11fdcb;currentAnPeriod=_0x1efd96,document['querySelectorAll'](_0x3910b9(0x267))[_0x3910b9(0x1b8)](_0x331cf6=>_0x331cf6[_0x3910b9(0x263)]['remove'](_0x3910b9(0x262)));if(_0x1d97b7)_0x1d97b7['classList']['add'](_0x3910b9(0x262));const _0x2a825f=document['getElementById'](_0x3910b9(0x2e0));_0x2a825f['style'][_0x3910b9(0x19d)]=_0x1efd96===_0x3910b9(0x2f3)?'flex':'none';const _0x5632c8=new Date();let _0x53f847=new Date(),_0x4dfa33=new Date();if(_0x1efd96===_0x3910b9(0x2ea))_0x53f847=getStartOfWeek(_0x5632c8),_0x4dfa33=new Date(_0x53f847),_0x4dfa33[_0x3910b9(0x2de)](_0x4dfa33[_0x3910b9(0x293)]()+0x6);else{if(_0x1efd96===_0x3910b9(0x282))_0x53f847=new Date(_0x5632c8[_0x3910b9(0x1de)](),_0x5632c8[_0x3910b9(0x255)](),0x1),_0x4dfa33=new Date(_0x5632c8['getFullYear'](),_0x5632c8[_0x3910b9(0x255)]()+0x1,0x0);else{!document[_0x3910b9(0x275)](_0x3910b9(0x194))['value']&&(document[_0x3910b9(0x275)](_0x3910b9(0x194))[_0x3910b9(0x23f)]=getLocalDateStr(_0x5632c8),document[_0x3910b9(0x275)](_0x3910b9(0x253))[_0x3910b9(0x23f)]=getLocalDateStr(_0x5632c8));refreshAnalytics();return;}}document[_0x3910b9(0x275)](_0x3910b9(0x194))['value']=getLocalDateStr(_0x53f847),document[_0x3910b9(0x275)](_0x3910b9(0x253))[_0x3910b9(0x23f)]=getLocalDateStr(_0x4dfa33),refreshAnalytics();}function refreshAnalytics(){const _0xcd0c78=a2_0x11fdcb,_0x3265cb=document[_0xcd0c78(0x275)](_0xcd0c78(0x194))['value'],_0x282589=document['getElementById'](_0xcd0c78(0x253))[_0xcd0c78(0x23f)];if(!_0x3265cb||!_0x282589)return;const _0x14962f=sessions[_0xcd0c78(0x2d0)](_0x358963=>_0x358963[_0xcd0c78(0x29d)]>=_0x3265cb&&_0x358963[_0xcd0c78(0x29d)]<=_0x282589&&_0x358963[_0xcd0c78(0x1c8)]!==_0xcd0c78(0x292)),_0x3dbe5c=_0x14962f['length'],_0x5218f4=_0x14962f['filter'](_0x456c03=>_0x456c03[_0xcd0c78(0x1c8)]===_0xcd0c78(0x25b))[_0xcd0c78(0x1f9)],_0x21ba69=_0x3dbe5c>0x0?Math[_0xcd0c78(0x1d7)](_0x5218f4/_0x3dbe5c*0x64):0x0;document['getElementById'](_0xcd0c78(0x257))[_0xcd0c78(0x1cd)]=_0x21ba69+'%',document['getElementById'](_0xcd0c78(0x2ae))['textContent']=_0x5218f4+'\x20–∏–∑\x20'+_0x3dbe5c+_0xcd0c78(0x235);const _0x1a1ebd=document['getElementById']('anDonutCircle'),_0x2efc79=0x2*Math['PI']*0x23,_0x289146=_0x2efc79-_0x21ba69/0x64*_0x2efc79;_0x1a1ebd[_0xcd0c78(0x274)][_0xcd0c78(0x209)]=_0x289146;const _0x804e98={};_0x14962f[_0xcd0c78(0x1b8)](_0x35102c=>{const _0x25c3ef=_0xcd0c78;if(!_0x804e98[_0x35102c[_0x25c3ef(0x1db)]]){const _0x4f427e=clients[_0x25c3ef(0x2f5)](_0x2ff9ff=>_0x2ff9ff[_0x25c3ef(0x23c)]===_0x35102c['client']);_0x804e98[_0x35102c['client']]={'total':0x0,'done':0x0,'color':_0x4f427e?_0x4f427e[_0x25c3ef(0x241)]:_0x25c3ef(0x256)};}_0x804e98[_0x35102c[_0x25c3ef(0x1db)]][_0x25c3ef(0x2b2)]++;if(_0x35102c[_0x25c3ef(0x1c8)]===_0x25c3ef(0x25b))_0x804e98[_0x35102c['client']][_0x25c3ef(0x2c1)]++;});const _0x4737cb=document['getElementById'](_0xcd0c78(0x2d3));_0x4737cb[_0xcd0c78(0x200)]='';const _0x4f31c1=Object[_0xcd0c78(0x1c7)](_0x804e98)['sort']((_0xaf30e0,_0xa1fb56)=>_0xa1fb56[0x1][_0xcd0c78(0x2b2)]-_0xaf30e0[0x1][_0xcd0c78(0x2b2)]);if(_0x4f31c1[_0xcd0c78(0x1f9)]===0x0){_0x4737cb[_0xcd0c78(0x200)]=_0xcd0c78(0x2d5);return;}_0x4f31c1[_0xcd0c78(0x1b8)](([_0x2b24e7,_0xc4d5fd])=>{const _0x9f752f=_0xcd0c78,_0x20acd4=Math[_0x9f752f(0x1d7)](_0xc4d5fd[_0x9f752f(0x2c1)]/_0xc4d5fd['total']*0x64),_0x3d72cf=document['createElement'](_0x9f752f(0x2a6));_0x3d72cf[_0x9f752f(0x23d)]=_0x9f752f(0x1d9),_0x3d72cf[_0x9f752f(0x274)][_0x9f752f(0x2e7)]=_0xc4d5fd[_0x9f752f(0x241)],_0x3d72cf[_0x9f752f(0x200)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x2b24e7+_0x9f752f(0x1cb)+_0xc4d5fd['done']+_0x9f752f(0x238)+_0xc4d5fd['total']+_0x9f752f(0x191)+_0x20acd4+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4737cb['appendChild'](_0x3d72cf);});}function formatMinsToHrs(_0x215bbb){const _0x155328=a2_0x11fdcb;if(_0x215bbb===0x0)return'0';const _0x4a06c8=Math[_0x155328(0x2a2)](_0x215bbb/0x3c),_0x280b1f=_0x215bbb%0x3c;if(_0x280b1f===0x0)return _0x4a06c8+'—á';return _0x4a06c8+'—á\x20'+_0x280b1f+'–º';}