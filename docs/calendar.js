const a2_0x1c2533=a2_0x3921;(function(_0x27a191,_0x2b2cbe){const _0x2fd33c=a2_0x3921,_0x2ec5bc=_0x27a191();while(!![]){try{const _0x1aa86e=parseInt(_0x2fd33c(0x32c))/0x1+-parseInt(_0x2fd33c(0x21f))/0x2*(parseInt(_0x2fd33c(0x317))/0x3)+parseInt(_0x2fd33c(0x309))/0x4*(parseInt(_0x2fd33c(0x313))/0x5)+-parseInt(_0x2fd33c(0x2c1))/0x6*(parseInt(_0x2fd33c(0x2bf))/0x7)+parseInt(_0x2fd33c(0x244))/0x8*(-parseInt(_0x2fd33c(0x246))/0x9)+-parseInt(_0x2fd33c(0x31c))/0xa+parseInt(_0x2fd33c(0x1e2))/0xb;if(_0x1aa86e===_0x2b2cbe)break;else _0x2ec5bc['push'](_0x2ec5bc['shift']());}catch(_0x385ced){_0x2ec5bc['push'](_0x2ec5bc['shift']());}}}(a2_0x454f,0xb3cec),function initTMA(){const _0x51a39b=a2_0x3921;try{const _0x1ca491=window[_0x51a39b(0x312)]?.[_0x51a39b(0x32e)];if(!_0x1ca491)return;_0x1ca491[_0x51a39b(0x2bd)](),_0x1ca491['expand']();try{_0x1ca491[_0x51a39b(0x207)]('#050505'),_0x1ca491[_0x51a39b(0x2c7)]&&_0x1ca491['setBackgroundColor']('#050505');}catch(_0x401bba){console['log'](_0x51a39b(0x239),_0x401bba);}try{_0x1ca491[_0x51a39b(0x276)]&&(_0x1ca491['BackButton'][_0x51a39b(0x1bd)](),_0x1ca491[_0x51a39b(0x276)][_0x51a39b(0x22f)](),_0x1ca491[_0x51a39b(0x276)][_0x51a39b(0x25c)](function(){const _0x54abcc=_0x51a39b;window[_0x54abcc(0x325)]['href']=_0x54abcc(0x2e6);}));}catch(_0x38b9ce){console[_0x51a39b(0x296)](_0x51a39b(0x1db),_0x38b9ce);}try{if(_0x1ca491[_0x51a39b(0x2fd)])_0x1ca491[_0x51a39b(0x2fd)]();}catch(_0x32ebb5){}}catch(_0x7f1968){console[_0x51a39b(0x219)](_0x51a39b(0x1da),_0x7f1968);}}());function isAdmin(){const _0x4f67a9=a2_0x3921;try{const _0x1cebf2=Number(window[_0x4f67a9(0x312)]?.[_0x4f67a9(0x32e)]?.[_0x4f67a9(0x2cf)]?.[_0x4f67a9(0x26d)]?.['id']);return _0x1cebf2===0xbaf7174;}catch(_0x8de544){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x1c2533(0x331),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1c2533(0x2d1),KEY_SESSIONS=a2_0x1c2533(0x323),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xa68064=a2_0x1c2533;return window['Telegram']?.['WebApp']?.[_0xa68064(0x2cf)]?.[_0xa68064(0x26d)]?.['id']||_0xa68064(0x22a);},'saveLocally'(){const _0x3f49f3=a2_0x1c2533;try{localStorage[_0x3f49f3(0x2f7)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3f49f3(0x2f7)](KEY_SESSIONS,JSON[_0x3f49f3(0x2b6)](sessions)),localStorage[_0x3f49f3(0x2f7)](KEY_SETTINGS,JSON[_0x3f49f3(0x2b6)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x59ae24){console[_0x3f49f3(0x219)]('Local\x20Save\x20Error',_0x59ae24);}},'loadLocal'(){const _0xef849=a2_0x1c2533;try{const _0x420a53=localStorage['getItem'](KEY_CLIENTS);if(_0x420a53)clients=JSON[_0xef849(0x307)](_0x420a53);const _0x1e67e9=localStorage[_0xef849(0x2e9)](KEY_SESSIONS);if(_0x1e67e9)sessions=JSON[_0xef849(0x307)](_0x1e67e9);const _0x26e890=localStorage[_0xef849(0x2e9)](KEY_SETTINGS);if(_0x26e890){const _0x2ea92a=JSON[_0xef849(0x307)](_0x26e890);if(_0x2ea92a[_0xef849(0x318)])availabilityPattern=_0x2ea92a[_0xef849(0x318)];if(_0x2ea92a[_0xef849(0x2bb)])dateExceptions=_0x2ea92a[_0xef849(0x2bb)];if(_0x2ea92a[_0xef849(0x2f0)])specialRanges=_0x2ea92a[_0xef849(0x2f0)];}else{for(let _0x5b2f5d=0x0;_0x5b2f5d<0x7;_0x5b2f5d++)availabilityPattern[_0x5b2f5d]=Array[_0xef849(0x2c9)]({'length':0xc},(_0x39cf0e,_0x2a8682)=>_0x2a8682+0x9);}}catch(_0x5c7ed5){console[_0xef849(0x219)](_0xef849(0x248),_0x5c7ed5);}},async 'fetchFromServer'(_0x178b07,_0x56c2ca={}){const _0x36101c=a2_0x1c2533,_0x4ffbb5=window[_0x36101c(0x312)]?.['WebApp'],_0x59aa5d={'action':_0x178b07,'init_data':_0x4ffbb5?.['initData']||'',..._0x56c2ca};try{const _0x1031e6=await fetch(API_URL,{'method':_0x36101c(0x225),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x36101c(0x2b6)](_0x59aa5d)}),_0x20744b=await _0x1031e6[_0x36101c(0x1bc)]();if(!_0x20744b['ok'])throw new Error(_0x20744b[_0x36101c(0x219)]||_0x36101c(0x1fd));return _0x20744b['data'];}catch(_0x1840a3){console[_0x36101c(0x219)](_0x36101c(0x2e1)+_0x178b07+_0x36101c(0x23b),_0x1840a3);throw _0x1840a3;}},async 'syncLoad'(){const _0x8accbb=a2_0x1c2533,_0x288bcb=new Date(),_0x5c90ae=_0x288bcb[_0x8accbb(0x1e9)]()+'-'+String(_0x288bcb[_0x8accbb(0x277)]()+0x1)['padStart'](0x2,'0'),_0x51d194=new Date(_0x288bcb);_0x51d194[_0x8accbb(0x229)](_0x288bcb[_0x8accbb(0x277)]()+0x1);const _0x1e5e8e=_0x51d194['getFullYear']()+'-'+String(_0x51d194['getMonth']()+0x1)[_0x8accbb(0x27f)](0x2,'0'),_0x513816=Date[_0x8accbb(0x2a0)]();console[_0x8accbb(0x296)](_0x8accbb(0x243)+_0x5c90ae+',\x20'+_0x1e5e8e+_0x8accbb(0x328));try{const [_0x13d206,_0x28029e]=await Promise['all']([this[_0x8accbb(0x262)](_0x8accbb(0x1cb),{'month_str':_0x5c90ae}),this['fetchFromServer'](_0x8accbb(0x1cb),{'month_str':_0x1e5e8e})]);if(lastUserActionTime>_0x513816)return console[_0x8accbb(0x210)](_0x8accbb(0x32b)),![];return this[_0x8accbb(0x281)](_0x13d206,_0x5c90ae),this['mergeServerData'](_0x28029e,_0x1e5e8e),this[_0x8accbb(0x314)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x16b227){console[_0x8accbb(0x219)](_0x16b227);throw _0x16b227;}},'mergeServerData'(_0x298e3b,_0x5d9f3b){const _0x2785e0=a2_0x1c2533;if(!_0x298e3b)return;_0x298e3b[_0x2785e0(0x2de)]&&Array[_0x2785e0(0x21d)](_0x298e3b[_0x2785e0(0x2de)])&&(clients=_0x298e3b[_0x2785e0(0x2de)]);if(_0x298e3b[_0x2785e0(0x2f1)]){if(_0x298e3b[_0x2785e0(0x2f1)][_0x2785e0(0x318)])availabilityPattern=_0x298e3b[_0x2785e0(0x2f1)][_0x2785e0(0x318)];if(_0x298e3b[_0x2785e0(0x2f1)][_0x2785e0(0x2bb)])dateExceptions=_0x298e3b[_0x2785e0(0x2f1)]['exceptions'];if(_0x298e3b[_0x2785e0(0x2f1)][_0x2785e0(0x2f0)])specialRanges=_0x298e3b['settings'][_0x2785e0(0x2f0)];if(_0x298e3b[_0x2785e0(0x2f1)][_0x2785e0(0x30f)]){localStorage[_0x2785e0(0x2f7)](_0x2785e0(0x274),_0x298e3b['settings']['cancel_window']);const _0x334df7=document[_0x2785e0(0x329)](_0x2785e0(0x27b));if(_0x334df7)_0x334df7['value']=_0x298e3b['settings'][_0x2785e0(0x30f)];}}_0x298e3b['calendar']&&(sessions=sessions[_0x2785e0(0x1c8)](_0x20e30d=>!_0x20e30d[_0x2785e0(0x24f)][_0x2785e0(0x21e)](_0x5d9f3b)),Object[_0x2785e0(0x326)](_0x298e3b['calendar'])['forEach'](_0x45edb7=>{const _0x1f0a91=_0x2785e0,_0xbcfcdd=_0x298e3b[_0x1f0a91(0x261)][_0x45edb7];_0xbcfcdd[_0x1f0a91(0x25b)](_0x4f4ca4=>{const _0x482b79=_0x1f0a91,_0x5764c5=clients[_0x482b79(0x242)](_0x53c658=>String(_0x53c658['id'])===String(_0x4f4ca4['c']));sessions['push']({'id':_0x4f4ca4['i'],'clientId':_0x4f4ca4['c'],'client':_0x5764c5?_0x5764c5[_0x482b79(0x31b)]:_0x482b79(0x32d),'dateStr':_0x5d9f3b+'-'+_0x45edb7[_0x482b79(0x27f)](0x2,'0'),'start':_0x4f4ca4['s'],'end':_0x4f4ca4['e'],'status':_0x4f4ca4['st']||_0x482b79(0x1e3),'note':_0x4f4ca4['n']||'','seriesId':_0x4f4ca4[_0x482b79(0x2df)]||null});});}));},async 'syncBatch'(_0x31f493){const _0x4df289=a2_0x1c2533,_0x120b08=[...new Set(_0x31f493)],_0x5d9ada=_0x120b08[_0x4df289(0x2ca)](_0x10dee9=>{const _0x259930=_0x4df289,_0x338fa4=sessions[_0x259930(0x1c8)](_0xe332cc=>_0xe332cc['dateStr']===_0x10dee9&&_0xe332cc[_0x259930(0x259)]!==_0x259930(0x1ba)),_0x4e626b=_0x338fa4['map'](_0xf39df2=>({'i':_0xf39df2['id'],'c':_0xf39df2[_0x259930(0x2d6)],'s':_0xf39df2[_0x259930(0x1f6)],'e':_0xf39df2[_0x259930(0x2e0)],'st':_0xf39df2['status'],'n':_0xf39df2['note'],'sid':_0xf39df2[_0x259930(0x27c)]}));return{'date':_0x10dee9,'day_data':_0x4e626b};});if(_0x5d9ada['length']===0x0)return;console[_0x4df289(0x296)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x5d9ada['length']+_0x4df289(0x28e)),await this[_0x4df289(0x262)](_0x4df289(0x1dd),{'changes':_0x5d9ada});}};async function init(){const _0x221af2=a2_0x1c2533;DataManager[_0x221af2(0x2ae)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')[_0x221af2(0x284)](_0x221af2(0x20f),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x221af2(0x319)]()[_0x221af2(0x2a3)](()=>{const _0x25dba7=_0x221af2;showToast(_0x25dba7(0x292),!![]);})['catch'](_0x2038bb=>{const _0x480cc6=_0x221af2;showToast(_0x480cc6(0x26e),![]);});}function generateId(){const _0x5ee737=a2_0x1c2533;return Date[_0x5ee737(0x2a0)]()['toString'](0x24)+Math[_0x5ee737(0x27d)]()[_0x5ee737(0x215)](0x24)[_0x5ee737(0x255)](0x2,0x5);}function toggleSeriesInput(){const _0x168aef=a2_0x1c2533,_0x470595=document['getElementById']('inpRecurring')[_0x168aef(0x258)],_0x2c8626=document['getElementById'](_0x168aef(0x1e1));_0x2c8626[_0x168aef(0x1e5)][_0x168aef(0x224)]=_0x470595?_0x168aef(0x252):'none';const _0x324505=document[_0x168aef(0x329)]('recurringOptionContainer');_0x324505['style'][_0x168aef(0x22b)]=_0x470595?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x572406){const _0x538509=a2_0x1c2533;editingId=null,populateClientSelect(),document[_0x538509(0x329)](_0x538509(0x1e4))[_0x538509(0x31a)]=_0x538509(0x2b3),document['getElementById']('btnDelete')['style'][_0x538509(0x224)]=_0x538509(0x286),document['getElementById'](_0x538509(0x2d5))[_0x538509(0x1e5)]['display']=_0x538509(0x286);const _0x3648d4=document['getElementById']('recurringOptionContainer'),_0x14a87f=document[_0x538509(0x329)](_0x538509(0x1e1));_0x3648d4[_0x538509(0x1e5)][_0x538509(0x224)]=_0x538509(0x1f1),_0x3648d4['style'][_0x538509(0x22b)]=_0x538509(0x308),document[_0x538509(0x329)](_0x538509(0x238))[_0x538509(0x258)]=![],document[_0x538509(0x329)](_0x538509(0x304))['value']=0x4,_0x14a87f[_0x538509(0x1e5)][_0x538509(0x224)]=_0x538509(0x286),document['getElementById']('inpDate')[_0x538509(0x31f)]=getLocalDateStr(_0x572406),updateDateDisplay();const _0x122dab=_0x572406[_0x538509(0x2b9)]();document[_0x538509(0x329)](_0x538509(0x298))['value']=String(_0x122dab)['padStart'](0x2,'0')+':00',document[_0x538509(0x329)]('inpEnd')[_0x538509(0x31f)]=String(_0x122dab+0x1)[_0x538509(0x27f)](0x2,'0')+_0x538509(0x2c3),openSheet('sessionSheet');}function openEdit(_0x402704){const _0x57cadb=a2_0x1c2533;editingId=_0x402704['id'],populateClientSelect(),document['getElementById'](_0x57cadb(0x1e4))[_0x57cadb(0x31a)]=_0x57cadb(0x2f4),document[_0x57cadb(0x329)]('btnDelete')[_0x57cadb(0x1e5)][_0x57cadb(0x224)]='block';const _0x80998d=document['getElementById'](_0x57cadb(0x2d5));_0x80998d['style'][_0x57cadb(0x224)]='flex';_0x402704[_0x57cadb(0x259)]==='completed'?(_0x80998d['className']=_0x57cadb(0x31e),_0x80998d['innerHTML']=_0x57cadb(0x302)):(_0x80998d[_0x57cadb(0x293)]='btn-status-toggle',_0x80998d[_0x57cadb(0x21a)]=_0x57cadb(0x303));const _0x27ab5a=!!_0x402704[_0x57cadb(0x27c)];document[_0x57cadb(0x329)](_0x57cadb(0x1e7))['style']['display']=_0x57cadb(0x286),document['getElementById'](_0x57cadb(0x1e1))[_0x57cadb(0x1e5)][_0x57cadb(0x224)]=_0x57cadb(0x286),_0x27ab5a?(document[_0x57cadb(0x329)](_0x57cadb(0x297))[_0x57cadb(0x1e5)][_0x57cadb(0x224)]=_0x57cadb(0x1f1),document['getElementById']('patternInfoBox')[_0x57cadb(0x327)](_0x57cadb(0x1bf))[_0x57cadb(0x31a)]=_0x57cadb(0x1d8)):document['getElementById'](_0x57cadb(0x297))[_0x57cadb(0x1e5)][_0x57cadb(0x224)]='none',document[_0x57cadb(0x329)](_0x57cadb(0x221))[_0x57cadb(0x31f)]=_0x402704[_0x57cadb(0x287)],document[_0x57cadb(0x329)](_0x57cadb(0x2ad))[_0x57cadb(0x31f)]=_0x402704[_0x57cadb(0x24f)],document[_0x57cadb(0x329)](_0x57cadb(0x298))[_0x57cadb(0x31f)]=_0x402704[_0x57cadb(0x1f6)],document['getElementById'](_0x57cadb(0x206))[_0x57cadb(0x31f)]=_0x402704[_0x57cadb(0x2e0)],document[_0x57cadb(0x329)]('inpNote')[_0x57cadb(0x31f)]=_0x402704[_0x57cadb(0x1f5)]||'',updateDateDisplay(),openSheet(_0x57cadb(0x2e7));}async function trySaveSession(){const _0x54a915=a2_0x1c2533,_0x139072=document['getElementById'](_0x54a915(0x221))[_0x54a915(0x31f)],_0x3cbd07=document[_0x54a915(0x329)](_0x54a915(0x2ad))[_0x54a915(0x31f)],_0x24592f=document[_0x54a915(0x329)](_0x54a915(0x298))[_0x54a915(0x31f)],_0x11376c=document['getElementById']('inpEnd')['value'],_0x382642=document[_0x54a915(0x329)](_0x54a915(0x321))[_0x54a915(0x31f)],_0x379ede=document[_0x54a915(0x329)](_0x54a915(0x238))[_0x54a915(0x258)];let _0x431257=0x4;if(_0x379ede){const _0x30b966=parseInt(document[_0x54a915(0x329)](_0x54a915(0x304))[_0x54a915(0x31f)]);if(!_0x30b966||_0x30b966<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x30b966>0x64){showToast(_0x54a915(0x288),![]);return;}_0x431257=_0x30b966;}const _0x29f845=clients[_0x54a915(0x242)](_0x25ad51=>_0x25ad51[_0x54a915(0x31b)]===_0x139072);if(!_0x29f845){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x5afb07=validateAppointment(_0x3cbd07,_0x24592f,_0x11376c,editingId,_0x29f845['id']);if(!_0x5afb07[_0x54a915(0x217)]){showToast(_0x5afb07[_0x54a915(0x256)],![]);return;}_0x5afb07[_0x54a915(0x1e8)]&&showToast(_0x5afb07[_0x54a915(0x1e8)],![]);const _0x2b3d12={'client':_0x139072,'clientId':_0x29f845['id'],'start':_0x24592f,'end':_0x11376c,'note':_0x382642,'status':'planned'},_0x313fac=editingId?sessions['find'](_0xf8fa3d=>_0xf8fa3d['id']===editingId):null;if(_0x313fac&&_0x313fac[_0x54a915(0x27c)]){tempSessionData={..._0x2b3d12,'dateStr':_0x3cbd07,'id':editingId,'seriesId':_0x313fac[_0x54a915(0x27c)]},openActionSheet(_0x54a915(0x2a6));return;}let _0x2106b5=null;if(!editingId)_0x2106b5=_0x54a915(0x26a);else{if(_0x313fac){if(String(_0x313fac[_0x54a915(0x2d6)])!==String(_0x29f845['id']))console[_0x54a915(0x296)](_0x54a915(0x2cd)),NotificationManager[_0x54a915(0x235)](_0x54a915(0x2af),_0x313fac),_0x2106b5=_0x54a915(0x26a);else(_0x313fac[_0x54a915(0x1f6)]!==_0x24592f||_0x313fac[_0x54a915(0x2e0)]!==_0x11376c||_0x313fac['dateStr']!==_0x3cbd07)&&(_0x2106b5=_0x54a915(0x231));}}if(!editingId&&_0x379ede){createBatchSeries(_0x2b3d12,_0x3cbd07,_0x431257),NotificationManager[_0x54a915(0x235)]('create',{..._0x2b3d12,'dateStr':_0x3cbd07});return;}lastUserActionTime=Date[_0x54a915(0x2a0)]();const _0x419fb0={..._0x2b3d12,'dateStr':_0x3cbd07,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x419fb0),_0x2106b5&&NotificationManager[_0x54a915(0x235)](_0x2106b5,_0x419fb0);}function toggleSessionStatus(){const _0x49a9a3=a2_0x1c2533;lastUserActionTime=Date[_0x49a9a3(0x2a0)]();const _0x280109=sessions['find'](_0x50f7ff=>_0x50f7ff['id']===editingId);if(!_0x280109)return;const _0x46a02b=_0x280109[_0x49a9a3(0x259)]===_0x49a9a3(0x320)?_0x49a9a3(0x1e3):'completed';_0x280109[_0x49a9a3(0x259)]=_0x46a02b,saveSingleSession(_0x280109),_0x46a02b==='completed'&&NotificationManager['send'](_0x49a9a3(0x265),_0x280109),showToast(_0x46a02b==='completed'?_0x49a9a3(0x240):_0x49a9a3(0x2ab),!![]);}function a2_0x3921(_0x151911,_0x513bf2){_0x151911=_0x151911-0x1ba;const _0x327cea=a2_0x454f();let _0x1bdfc2=_0x327cea[_0x151911];return _0x1bdfc2;}function validateAppointment(_0x50907a,_0x30c26c,_0x3e275f,_0x3550ad,_0x15ba9b){const _0x294d4f=a2_0x1c2533,[_0x65088e,_0x32ceb7]=_0x30c26c[_0x294d4f(0x324)](':')[_0x294d4f(0x2ca)](Number),[_0x1eb456,_0xfe0ea9]=_0x3e275f[_0x294d4f(0x324)](':')[_0x294d4f(0x2ca)](Number),_0x4b011e=_0x65088e*0x3c+_0x32ceb7,_0x290179=_0x1eb456*0x3c+_0xfe0ea9,_0x42170a=String(_0x15ba9b);let _0x4acfe9=![],_0x4df2b4='';for(let _0x4d434f of sessions){if(_0x4d434f['dateStr']!==_0x50907a)continue;if(_0x4d434f[_0x294d4f(0x259)]===_0x294d4f(0x310))continue;if(_0x3550ad&&String(_0x4d434f['id'])===String(_0x3550ad))continue;const [_0x5a3ce3,_0x3a2adc]=_0x4d434f['start']['split'](':')['map'](Number),[_0x261c7f,_0x10b240]=_0x4d434f[_0x294d4f(0x2e0)][_0x294d4f(0x324)](':')[_0x294d4f(0x2ca)](Number),_0x22a768=_0x5a3ce3*0x3c+_0x3a2adc,_0x3510d3=_0x261c7f*0x3c+_0x10b240;if(Math[_0x294d4f(0x275)](_0x4b011e,_0x22a768)<Math[_0x294d4f(0x201)](_0x290179,_0x3510d3)){if(_0x4d434f[_0x294d4f(0x2d6)]&&String(_0x4d434f[_0x294d4f(0x2d6)])===_0x42170a)return{'valid':![],'msg':_0x294d4f(0x233)+_0x4d434f[_0x294d4f(0x287)]+_0x294d4f(0x295)};_0x4acfe9=!![],_0x4df2b4=_0x4d434f['client'];}}if(_0x4acfe9)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4df2b4};return{'valid':!![]};}function saveSingleSession(_0x17cadb){const _0x5e0a51=a2_0x1c2533;if(editingId){const _0x40407d=sessions['findIndex'](_0x3cb2c7=>_0x3cb2c7['id']===editingId);if(_0x40407d!==-0x1)sessions[_0x40407d]=_0x17cadb;}else sessions[_0x5e0a51(0x1e0)](_0x17cadb);afterSaveAction([_0x17cadb[_0x5e0a51(0x24f)]]);}function createBatchSeries(_0x344d1e,_0x8ae1cb,_0x4f2260){const _0x28600e=a2_0x1c2533,_0x5257c3=generateId(),_0x2ce948=[],_0x436545=[];let _0x2fa3e7=0x0,_0x4d8769=new Date(_0x8ae1cb);for(let _0x33d197=0x0;_0x33d197<_0x4f2260;_0x33d197++){const _0x2b4efc=getLocalDateStr(_0x4d8769),_0x166a84=validateAppointment(_0x2b4efc,_0x344d1e[_0x28600e(0x1f6)],_0x344d1e['end'],null,_0x344d1e[_0x28600e(0x2d6)]);if(!_0x166a84[_0x28600e(0x217)])console['log']('[Series]\x20Skipped\x20'+_0x2b4efc+_0x28600e(0x2ff)),_0x2fa3e7++;else{const _0x5e0d4c={..._0x344d1e,'id':generateId(),'dateStr':_0x2b4efc,'seriesId':_0x5257c3};_0x436545[_0x28600e(0x1e0)](_0x5e0d4c),_0x2ce948['push'](_0x2b4efc);}_0x4d8769[_0x28600e(0x25a)](_0x4d8769[_0x28600e(0x299)]()+0x7);}if(_0x436545[_0x28600e(0x2da)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x28600e(0x1e0)](..._0x436545),lastUserActionTime=Date['now']();let _0x597273=_0x28600e(0x2e3)+_0x436545[_0x28600e(0x2da)];_0x2fa3e7>0x0&&(_0x597273+=_0x28600e(0x273)+_0x2fa3e7+')'),showToast(_0x597273,!![]),afterSaveAction(_0x2ce948);}function updateSeriesBatch(_0x3cfc2e,_0x429f05){const _0x55779e=a2_0x1c2533,_0x3affb4=[],_0x388476=_0x429f05[_0x55779e(0x27c)];if(_0x3cfc2e===_0x55779e(0x2f3)){const _0x2515a9={..._0x429f05,'seriesId':null},_0x308c7d=sessions['findIndex'](_0x23b14d=>_0x23b14d['id']===_0x429f05['id']);if(_0x308c7d!==-0x1)sessions[_0x308c7d]=_0x2515a9;_0x3affb4['push'](_0x2515a9[_0x55779e(0x24f)]);}else{if(_0x3cfc2e===_0x55779e(0x2dc)){const _0x3294e0=_0x429f05[_0x55779e(0x24f)];sessions['forEach']((_0x4166e6,_0x4a45ad)=>{const _0x2a1091=_0x55779e;_0x4166e6[_0x2a1091(0x27c)]===_0x388476&&_0x4166e6[_0x2a1091(0x24f)]>=_0x3294e0&&(sessions[_0x4a45ad]={...sessions[_0x4a45ad],'start':_0x429f05[_0x2a1091(0x1f6)],'end':_0x429f05[_0x2a1091(0x2e0)],'note':_0x429f05[_0x2a1091(0x1f5)],'client':_0x429f05['client'],'clientId':_0x429f05[_0x2a1091(0x2d6)]},_0x3affb4[_0x2a1091(0x1e0)](_0x4166e6[_0x2a1091(0x24f)]));});}}afterSaveAction(_0x3affb4);}function tryDeleteSession(){const _0x4128f1=a2_0x1c2533,_0x54e51b=sessions['find'](_0xdffc3f=>_0xdffc3f['id']===editingId);if(!_0x54e51b)return;_0x54e51b['seriesId']?openActionSheet(_0x4128f1(0x2dd)):commitDelete('single',_0x54e51b);}function commitDelete(_0x2bd07f,_0x5d7d94){const _0x5491e6=a2_0x1c2533;lastUserActionTime=Date[_0x5491e6(0x2a0)](),NotificationManager[_0x5491e6(0x235)](_0x5491e6(0x2af),_0x5d7d94);const _0x1a3990=[];if(_0x2bd07f==='single')sessions=sessions[_0x5491e6(0x1c8)](_0x380d22=>_0x380d22['id']!==_0x5d7d94['id']),_0x1a3990[_0x5491e6(0x1e0)](_0x5d7d94[_0x5491e6(0x24f)]);else{if(_0x2bd07f===_0x5491e6(0x2dc)){const _0x2ab1b0=_0x5d7d94['dateStr'],_0x158a3a=_0x5d7d94['seriesId'];sessions[_0x5491e6(0x25b)](_0xd4a339=>{const _0x4c5ec2=_0x5491e6;_0xd4a339[_0x4c5ec2(0x27c)]===_0x158a3a&&_0xd4a339['dateStr']>=_0x2ab1b0&&_0x1a3990[_0x4c5ec2(0x1e0)](_0xd4a339[_0x4c5ec2(0x24f)]);}),sessions=sessions[_0x5491e6(0x1c8)](_0x14903d=>!(_0x14903d[_0x5491e6(0x27c)]===_0x158a3a&&_0x14903d[_0x5491e6(0x24f)]>=_0x2ab1b0));}}afterSaveAction(_0x1a3990);}function afterSaveAction(_0x4c32cb){const _0x261540=a2_0x1c2533;DataManager[_0x261540(0x314)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x4c32cb)[_0x261540(0x2a3)](()=>console[_0x261540(0x296)](_0x261540(0x1d7)))[_0x261540(0x1f9)](_0x5a97b7=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x3405e1){const _0x370123=a2_0x1c2533,_0x246595=new Date(_0x3405e1),_0xe7e3ff={'weekday':_0x370123(0x30a),'day':'numeric','month':_0x370123(0x30a)};let _0x52b100=_0x246595['toLocaleDateString']('ru-RU',_0xe7e3ff);return _0x52b100[_0x370123(0x1de)](0x0)['toUpperCase']()+_0x52b100[_0x370123(0x2fb)](0x1);},'getText'(_0x5bf198,_0x516c34){const _0x156bfb=a2_0x1c2533,_0x552874=this[_0x156bfb(0x1d3)](_0x516c34[_0x156bfb(0x24f)]);switch(_0x5bf198){case _0x156bfb(0x26a):return _0x156bfb(0x32a)+(_0x156bfb(0x2aa)+_0x552874+'\x0a')+(_0x156bfb(0x29a)+_0x516c34[_0x156bfb(0x1f6)]+'\x20‚Äî\x20'+_0x516c34[_0x156bfb(0x2e0)]+'\x0a\x0a')+_0x156bfb(0x1ee);case _0x156bfb(0x231):return _0x156bfb(0x1fe)+_0x156bfb(0x2f9)+('<b>‚úÖ\x20'+_0x516c34[_0x156bfb(0x1f6)]+'\x20‚Äî\x20'+_0x516c34[_0x156bfb(0x2e0)]+_0x156bfb(0x25f))+(_0x156bfb(0x2aa)+_0x552874);case _0x156bfb(0x2af):return _0x156bfb(0x2a1)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x552874+'\x20('+_0x516c34['start']+_0x156bfb(0x2b2));case _0x156bfb(0x265):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x156bfb(0x1c5)+_0x156bfb(0x305);default:return'';}},async 'send'(_0xbdf5d,_0x30b404){const _0x4ef503=a2_0x1c2533;console['log'](_0x4ef503(0x2d7),_0xbdf5d,_0x30b404);if(!_0x30b404){console[_0x4ef503(0x219)](_0x4ef503(0x289));return;}const _0x46fc4b=String(_0x30b404['clientId']);console[_0x4ef503(0x296)](_0x4ef503(0x263),_0x46fc4b);if(!_0x30b404[_0x4ef503(0x2d6)]||_0x46fc4b===_0x4ef503(0x290)||_0x46fc4b===_0x4ef503(0x1ff)){console[_0x4ef503(0x219)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x30b404[_0x4ef503(0x287)]){const _0x40a9fc=clients[_0x4ef503(0x242)](_0x410906=>_0x410906[_0x4ef503(0x31b)]===_0x30b404[_0x4ef503(0x287)]);if(_0x40a9fc)return console['log'](_0x4ef503(0x2b5),_0x40a9fc['id']),this[_0x4ef503(0x235)](_0xbdf5d,{..._0x30b404,'clientId':_0x40a9fc['id']});}return;}if(_0x46fc4b[_0x4ef503(0x2da)]<0x5){console[_0x4ef503(0x210)](_0x4ef503(0x2b7),_0x46fc4b);return;}const _0x136b2d=this['getText'](_0xbdf5d,_0x30b404);if(!_0x136b2d){console[_0x4ef503(0x219)](_0x4ef503(0x2f8));return;}console[_0x4ef503(0x296)](_0x4ef503(0x1ea)+_0x46fc4b+_0x4ef503(0x328)),DataManager[_0x4ef503(0x262)]('send_notification',{'chatId':_0x46fc4b,'text':_0x136b2d})['then'](_0x38d876=>console['log']('[Notify]\x20Server\x20Response:',_0x38d876))[_0x4ef503(0x1f9)](_0x1ac468=>console[_0x4ef503(0x219)](_0x4ef503(0x32f),_0x1ac468));}};function getLocalDateStr(_0x1dd87a){const _0x23ad8b=a2_0x1c2533,_0x567dd9=_0x1dd87a[_0x23ad8b(0x1e9)](),_0xc46c33=String(_0x1dd87a[_0x23ad8b(0x277)]()+0x1)[_0x23ad8b(0x27f)](0x2,'0'),_0x543e69=String(_0x1dd87a[_0x23ad8b(0x299)]())[_0x23ad8b(0x27f)](0x2,'0');return _0x567dd9+'-'+_0xc46c33+'-'+_0x543e69;}function getDateStr(_0x328dd0){const _0x4b54c7=a2_0x1c2533,_0x583664=new Date();return _0x583664[_0x4b54c7(0x25a)](_0x583664[_0x4b54c7(0x299)]()+_0x328dd0),getLocalDateStr(_0x583664);}function getStartOfWeek(_0x2f3e79){const _0x31317d=a2_0x1c2533,_0x50e91e=(function(){let _0x2272fb=!![];return function(_0x5db0ee,_0x2743a9){const _0x7f8f4=_0x2272fb?function(){const _0x23520b=a2_0x3921;if(_0x2743a9){const _0x1a79ec=_0x2743a9[_0x23520b(0x2a9)](_0x5db0ee,arguments);return _0x2743a9=null,_0x1a79ec;}}:function(){};return _0x2272fb=![],_0x7f8f4;};}()),_0xc65c8c=_0x50e91e(this,function(){const _0x6bfb22=a2_0x3921;return _0xc65c8c[_0x6bfb22(0x215)]()['search'](_0x6bfb22(0x280))[_0x6bfb22(0x215)]()[_0x6bfb22(0x294)](_0xc65c8c)[_0x6bfb22(0x264)]('(((.+)+)+)+$');});_0xc65c8c();const _0x1ae265=new Date(_0x2f3e79),_0x578681=_0x1ae265[_0x31317d(0x2ed)](),_0x5f547f=_0x1ae265[_0x31317d(0x299)]()-_0x578681+(_0x578681===0x0?-0x6:0x1);return _0x1ae265[_0x31317d(0x25a)](_0x5f547f),_0x1ae265[_0x31317d(0x2c6)](0x0,0x0,0x0,0x0),_0x1ae265;}function hexToRgba(_0x5c1143,_0x2007de){const _0x2ca152=a2_0x1c2533;if(!_0x5c1143)return'rgba(100,100,100,0.5)';let _0x551b41=0x0,_0x2271c5=0x0,_0x47046b=0x0;if(_0x5c1143[_0x2ca152(0x2da)]===0x4)_0x551b41='0x'+_0x5c1143[0x1]+_0x5c1143[0x1],_0x2271c5='0x'+_0x5c1143[0x2]+_0x5c1143[0x2],_0x47046b='0x'+_0x5c1143[0x3]+_0x5c1143[0x3];else _0x5c1143[_0x2ca152(0x2da)]===0x7&&(_0x551b41='0x'+_0x5c1143[0x1]+_0x5c1143[0x2],_0x2271c5='0x'+_0x5c1143[0x3]+_0x5c1143[0x4],_0x47046b='0x'+_0x5c1143[0x5]+_0x5c1143[0x6]);return _0x2ca152(0x212)+ +_0x551b41+',\x20'+ +_0x2271c5+',\x20'+ +_0x47046b+',\x20'+_0x2007de+')';}function renderTimeColumn(){const _0x1c31ca=a2_0x1c2533,_0x16a64f=document[_0x1c31ca(0x329)](_0x1c31ca(0x234)),_0x312cd1=document[_0x1c31ca(0x329)](_0x1c31ca(0x316));_0x16a64f[_0x1c31ca(0x21a)]='',_0x16a64f[_0x1c31ca(0x26f)](_0x312cd1);for(let _0x22cac6=0x0;_0x22cac6<0x18;_0x22cac6++){const _0xd5eab6=document[_0x1c31ca(0x1f8)](_0x1c31ca(0x1c6));_0xd5eab6[_0x1c31ca(0x293)]='time-label';if(_0x22cac6>0x0)_0xd5eab6[_0x1c31ca(0x21a)]='<span>'+String(_0x22cac6)[_0x1c31ca(0x27f)](0x2,'0')+_0x1c31ca(0x30d);_0x16a64f[_0x1c31ca(0x26f)](_0xd5eab6);}}function renderDayRange(_0x557e6f,_0x462ca1){const _0x4dd149=a2_0x1c2533,_0x3b4c51=document[_0x4dd149(0x329)]('daysHeaderTrack'),_0x4a5083=document[_0x4dd149(0x329)](_0x4dd149(0x204)),_0x58bedf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32be76=new Date();_0x32be76[_0x4dd149(0x2c6)](0x0,0x0,0x0,0x0);const _0x3b075e=getLocalDateStr(new Date());for(let _0x53b344=_0x557e6f;_0x53b344<=_0x462ca1;_0x53b344++){const _0x172229=new Date(_0x32be76);_0x172229['setDate'](_0x172229[_0x4dd149(0x299)]()+_0x53b344);const _0x1d8265=getLocalDateStr(_0x172229);let _0x338371=_0x172229[_0x4dd149(0x2ed)]()-0x1;if(_0x338371===-0x1)_0x338371=0x6;const _0x143898=_0x1d8265===_0x3b075e,_0x2cffea=document[_0x4dd149(0x1f8)](_0x4dd149(0x1c6));_0x2cffea[_0x4dd149(0x293)]=_0x4dd149(0x330)+(_0x143898?_0x4dd149(0x2cb):''),_0x2cffea['id']='header-'+_0x1d8265,_0x2cffea[_0x4dd149(0x2ce)](_0x4dd149(0x1ca),_0x1d8265),_0x2cffea[_0x4dd149(0x21a)]='<div\x20class=\x22dch-day\x22>'+_0x58bedf[_0x338371]+_0x4dd149(0x21b)+_0x172229[_0x4dd149(0x299)]()+_0x4dd149(0x1ed)+_0x1d8265+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x2cffea['onclick']=()=>openDayOptions(_0x1d8265,_0x58bedf[_0x338371]+'\x20'+_0x172229[_0x4dd149(0x299)]()),_0x3b4c51['appendChild'](_0x2cffea);const _0x4f1e49=document[_0x4dd149(0x1f8)](_0x4dd149(0x1c6));_0x4f1e49[_0x4dd149(0x293)]=_0x4dd149(0x2a2)+(_0x143898?_0x4dd149(0x2cb):''),_0x4f1e49[_0x4dd149(0x2ce)](_0x4dd149(0x1ca),_0x1d8265),_0x4f1e49[_0x4dd149(0x2ce)](_0x4dd149(0x315),_0x338371),renderEventsForColumn(_0x4f1e49,_0x1d8265,_0x338371),attachLongPressHandler(_0x4f1e49,_0x172229),_0x4a5083[_0x4dd149(0x26f)](_0x4f1e49),updateDayStats(_0x1d8265);}}function reRenderBlocks(){const _0x5acdba=a2_0x1c2533;document['querySelectorAll'](_0x5acdba(0x22c))[_0x5acdba(0x25b)](_0x268cad=>{const _0x342feb=_0x5acdba;_0x268cad[_0x342feb(0x220)](_0x342feb(0x2a4))['forEach'](_0x25519a=>_0x25519a[_0x342feb(0x1d1)]());const _0xa6cf37=_0x268cad[_0x342feb(0x278)](_0x342feb(0x1ca)),_0xe5e0e3=parseInt(_0x268cad['getAttribute']('data-day-idx')),_0x7b0d9f=Math[_0x342feb(0x1cc)](_0x268cad[_0x342feb(0x291)]);(availabilityPattern[_0xe5e0e3]||[])[_0x342feb(0x25b)](_0x119edc=>{const _0x5937bc=_0x342feb,_0xef4f2a=document['createElement'](_0x5937bc(0x1c6));_0xef4f2a[_0x5937bc(0x293)]=_0x5937bc(0x20e);const _0x1443a3=_0x119edc*GRID_H;_0xef4f2a['style'][_0x5937bc(0x22e)]=_0x1443a3+'px',_0xef4f2a['style'][_0x5937bc(0x2f5)]='-'+_0x7b0d9f+_0x5937bc(0x2a8)+_0x1443a3+'px',_0x268cad['appendChild'](_0xef4f2a);});if(specialRanges&&specialRanges[_0x342feb(0x2da)]>0x0){const _0x5d2658=new Date(_0xa6cf37+_0x342feb(0x241))[_0x342feb(0x2bc)](),_0x524f69=new Date(_0xa6cf37+_0x342feb(0x1d5))[_0x342feb(0x2bc)]();specialRanges['forEach'](_0xf7bd44=>{const _0x53f18b=_0x342feb,_0xb78e1e=new Date(_0xf7bd44[_0x53f18b(0x1f6)])[_0x53f18b(0x2bc)](),_0x5601f9=new Date(_0xf7bd44[_0x53f18b(0x2e0)])[_0x53f18b(0x2bc)](),_0x385e90=Math['max'](_0x5d2658,_0xb78e1e),_0x2e8851=Math[_0x53f18b(0x201)](_0x524f69,_0x5601f9);if(_0x385e90<_0x2e8851){if(_0x385e90<=_0x5d2658&&_0x2e8851>=_0x524f69-0xea60){if(!_0x268cad[_0x53f18b(0x327)]('.day-off-overlay')){const _0x4f2b97=document['createElement'](_0x53f18b(0x1c6));_0x4f2b97['className']='day-off-overlay\x20stripe-bg',_0x4f2b97[_0x53f18b(0x1e5)][_0x53f18b(0x2f5)]='-'+_0x7b0d9f+'px\x200px',_0x268cad[_0x53f18b(0x26f)](_0x4f2b97);}}else{const _0x10628d=(_0x385e90-_0x5d2658)/0x36ee80*GRID_H,_0x3a8add=(_0x2e8851-_0x385e90)/0x36ee80*GRID_H,_0x556587=document['createElement'](_0x53f18b(0x1c6));_0x556587['className']=_0x53f18b(0x2c5),_0x556587[_0x53f18b(0x1e5)]['top']=_0x10628d+'px',_0x556587[_0x53f18b(0x1e5)][_0x53f18b(0x28f)]=_0x3a8add+'px',_0x556587[_0x53f18b(0x1e5)][_0x53f18b(0x2f5)]='-'+_0x7b0d9f+_0x53f18b(0x2a8)+_0x10628d+'px',_0x268cad[_0x53f18b(0x26f)](_0x556587);}}});}if(dateExceptions[_0xa6cf37]==='off'){if(!_0x268cad[_0x342feb(0x327)](_0x342feb(0x227))){const _0x3be765=document['createElement'](_0x342feb(0x1c6));_0x3be765[_0x342feb(0x293)]='day-off-overlay\x20stripe-bg',_0x3be765['style'][_0x342feb(0x2f5)]='-'+_0x7b0d9f+_0x342feb(0x1cd),_0x268cad[_0x342feb(0x26f)](_0x3be765);}}renderEventsForColumn(_0x268cad,_0xa6cf37,_0xe5e0e3),updateDayStats(_0xa6cf37);});}function updateAllDayStats(){const _0x705d36=a2_0x1c2533;document[_0x705d36(0x220)](_0x705d36(0x266))[_0x705d36(0x25b)](_0x4cab07=>{const _0x140d26=_0x705d36;updateDayStats(_0x4cab07[_0x140d26(0x278)](_0x140d26(0x1ca)));});}function updateDayStats(_0x329884){const _0x4cdf6d=a2_0x1c2533,_0x5bdc81=document['getElementById'](_0x4cdf6d(0x2d4)+_0x329884);if(!_0x5bdc81)return;const _0x140b6f=new Date(_0x329884);let _0x35118f=_0x140b6f[_0x4cdf6d(0x2ed)]()-0x1;if(_0x35118f===-0x1)_0x35118f=0x6;if(dateExceptions[_0x329884]===_0x4cdf6d(0x31d)){_0x5bdc81['style'][_0x4cdf6d(0x224)]='none';return;}const _0x49cbad=availabilityPattern[_0x35118f]||[],_0x27d8a4=0x18-_0x49cbad[_0x4cdf6d(0x2da)],_0x39763c=_0x27d8a4*0x3c,_0x23a6f6=sessions[_0x4cdf6d(0x1c8)](_0x492536=>_0x492536[_0x4cdf6d(0x24f)]===_0x329884&&_0x492536[_0x4cdf6d(0x259)]!==_0x4cdf6d(0x310));if(_0x23a6f6[_0x4cdf6d(0x2da)]===0x0){_0x5bdc81[_0x4cdf6d(0x1e5)]['display']=_0x4cdf6d(0x286);return;}let _0x4fd1ff=_0x23a6f6['map'](_0x50fce3=>{const _0x54f6e1=_0x4cdf6d,[_0xccd740,_0x2fd68b]=_0x50fce3[_0x54f6e1(0x1f6)]['split'](':')[_0x54f6e1(0x2ca)](Number),[_0x13a3d2,_0x5f71e9]=_0x50fce3[_0x54f6e1(0x2e0)][_0x54f6e1(0x324)](':')['map'](Number);return[_0xccd740*0x3c+_0x2fd68b,_0x13a3d2*0x3c+_0x5f71e9];});_0x4fd1ff[_0x4cdf6d(0x1d2)]((_0x1806f6,_0x73d015)=>_0x1806f6[0x0]-_0x73d015[0x0]);let _0x26b5a9=[];if(_0x4fd1ff['length']>0x0){let _0x2e0d59=_0x4fd1ff[0x0];for(let _0x1c2610=0x1;_0x1c2610<_0x4fd1ff[_0x4cdf6d(0x2da)];_0x1c2610++){_0x4fd1ff[_0x1c2610][0x0]<_0x2e0d59[0x1]?_0x2e0d59[0x1]=Math[_0x4cdf6d(0x275)](_0x2e0d59[0x1],_0x4fd1ff[_0x1c2610][0x1]):(_0x26b5a9[_0x4cdf6d(0x1e0)](_0x2e0d59),_0x2e0d59=_0x4fd1ff[_0x1c2610]);}_0x26b5a9[_0x4cdf6d(0x1e0)](_0x2e0d59);}let _0x2b621b=0x0;_0x26b5a9['forEach'](_0x125c46=>_0x2b621b+=_0x125c46[0x1]-_0x125c46[0x0]),_0x5bdc81[_0x4cdf6d(0x1e5)][_0x4cdf6d(0x224)]='flex';const _0x4c83ad=_0x5bdc81[_0x4cdf6d(0x327)](_0x4cdf6d(0x2e8));if(_0x39763c===0x0){_0x4c83ad[_0x4cdf6d(0x1e5)][_0x4cdf6d(0x29b)]=_0x4cdf6d(0x1e6),_0x4c83ad['style']['background']='var(--acc-red)';return;}const _0x11e052=_0x2b621b/_0x39763c*0x64;console[_0x4cdf6d(0x296)]('['+_0x329884+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x27d8a4+_0x4cdf6d(0x23f)+_0x2b621b+_0x4cdf6d(0x28c)+_0x11e052[_0x4cdf6d(0x1f0)](0x1)+'%'),_0x11e052>0x64?(_0x4c83ad[_0x4cdf6d(0x1e5)]['width']=_0x4cdf6d(0x1e6),_0x4c83ad[_0x4cdf6d(0x1e5)]['background']=_0x4cdf6d(0x222)):(_0x4c83ad['style'][_0x4cdf6d(0x29b)]=_0x11e052+'%',_0x4c83ad[_0x4cdf6d(0x1e5)][_0x4cdf6d(0x1c9)]=_0x4cdf6d(0x2e2));}function renderEventsForColumn(_0x1fa59b,_0x58f5b6,_0x5a85c6){const _0x47dc4c=a2_0x1c2533,_0x5da63c=sessions[_0x47dc4c(0x1c8)](_0x202a95=>_0x202a95[_0x47dc4c(0x24f)]===_0x58f5b6),_0x48f809=_0x5da63c['map'](_0x4a89e4=>{const _0x54b129=_0x47dc4c,[_0x3f291c,_0x3f364d]=_0x4a89e4['start'][_0x54b129(0x324)](':')[_0x54b129(0x2ca)](Number),[_0x4ee024,_0x57bdd3]=_0x4a89e4[_0x54b129(0x2e0)]['split'](':')[_0x54b129(0x2ca)](Number);return{'data':_0x4a89e4,'start':_0x3f291c*0x3c+_0x3f364d,'end':_0x4ee024*0x3c+_0x57bdd3,'colIndex':0x0};});_0x48f809[_0x47dc4c(0x1d2)]((_0x186132,_0x2f097e)=>{const _0x135319=_0x47dc4c;if(_0x186132[_0x135319(0x1f6)]!==_0x2f097e[_0x135319(0x1f6)])return _0x186132[_0x135319(0x1f6)]-_0x2f097e['start'];return _0x2f097e['end']-_0x2f097e[_0x135319(0x1f6)]-(_0x186132[_0x135319(0x2e0)]-_0x186132[_0x135319(0x1f6)]);});const _0x5d05dd=[];_0x48f809['forEach'](_0x600aa5=>{const _0x20ef3c=_0x47dc4c;let _0x3f440f=![];for(let _0x393bb9=0x0;_0x393bb9<_0x5d05dd[_0x20ef3c(0x2da)];_0x393bb9++){const _0x57761a=_0x5d05dd[_0x393bb9],_0x574f07=_0x57761a[_0x57761a[_0x20ef3c(0x2da)]-0x1];if(_0x600aa5[_0x20ef3c(0x1f6)]>=_0x574f07[_0x20ef3c(0x2e0)]){_0x57761a['push'](_0x600aa5),_0x600aa5[_0x20ef3c(0x2fc)]=_0x393bb9,_0x3f440f=!![];break;}}!_0x3f440f&&(_0x5d05dd['push']([_0x600aa5]),_0x600aa5[_0x20ef3c(0x2fc)]=_0x5d05dd[_0x20ef3c(0x2da)]-0x1);}),_0x48f809[_0x47dc4c(0x25b)](_0x3a63e4=>{const _0x1fcc1d=_0x47dc4c;let _0x17f1e9=0x0;_0x48f809[_0x1fcc1d(0x25b)](_0x5cc129=>{const _0x75bdfe=_0x1fcc1d;if(Math[_0x75bdfe(0x275)](_0x3a63e4[_0x75bdfe(0x1f6)],_0x5cc129['start'])<Math[_0x75bdfe(0x201)](_0x3a63e4[_0x75bdfe(0x2e0)],_0x5cc129['end'])){if(_0x5cc129[_0x75bdfe(0x2fc)]>_0x17f1e9)_0x17f1e9=_0x5cc129[_0x75bdfe(0x2fc)];}});const _0x2a5948=_0x17f1e9+0x1,_0x588900=0x64/_0x2a5948,_0x8a17d1=_0x3a63e4[_0x1fcc1d(0x2fc)]*_0x588900,_0xf8c36=createEventEl(_0x3a63e4[_0x1fcc1d(0x2ac)]);_0xf8c36[_0x1fcc1d(0x1e5)]['width']=_0x1fcc1d(0x203)+_0x588900+_0x1fcc1d(0x283),_0xf8c36['style'][_0x1fcc1d(0x2fa)]='calc('+_0x8a17d1+'%\x20+\x202px)',_0xf8c36[_0x1fcc1d(0x1e5)][_0x1fcc1d(0x2b0)]=0xa+_0x3a63e4['colIndex'],_0x588900<0x55&&_0xf8c36['classList'][_0x1fcc1d(0x1cf)](_0x1fcc1d(0x2f2)),_0x1fa59b[_0x1fcc1d(0x26f)](_0xf8c36);});}function createEventEl(_0x522d8f){const _0x258e40=a2_0x1c2533,[_0x42b007,_0x541298]=_0x522d8f[_0x258e40(0x1f6)][_0x258e40(0x324)](':')[_0x258e40(0x2ca)](Number),[_0x246e6c,_0x1648ee]=_0x522d8f[_0x258e40(0x2e0)][_0x258e40(0x324)](':')['map'](Number),_0x1e47d8=(_0x42b007*0x3c+_0x541298)/0x3c*GRID_H,_0x1885aa=(_0x246e6c*0x3c+_0x1648ee-(_0x42b007*0x3c+_0x541298))/0x3c*GRID_H,_0x4b354f=document[_0x258e40(0x1f8)](_0x258e40(0x1c6)),_0x4630f0=_0x522d8f['status']===_0x258e40(0x320)?_0x258e40(0x2c4):'';_0x4b354f['className']=_0x258e40(0x270)+_0x4630f0,_0x4b354f[_0x258e40(0x1e5)][_0x258e40(0x22e)]=_0x1e47d8+'px',_0x4b354f[_0x258e40(0x1e5)][_0x258e40(0x28f)]=Math['max'](_0x1885aa,0x14)+'px';const _0x3e54e5=clients[_0x258e40(0x242)](_0x163608=>_0x522d8f[_0x258e40(0x2d6)]&&String(_0x163608['id'])===String(_0x522d8f[_0x258e40(0x2d6)])||_0x163608['name']===_0x522d8f[_0x258e40(0x287)]),_0x47dcec=_0x3e54e5?_0x3e54e5['color']:_0x258e40(0x2e5);_0x4b354f[_0x258e40(0x1e5)]['borderLeftColor']=_0x47dcec,_0x4b354f[_0x258e40(0x1e5)]['backgroundColor']=hexToRgba(_0x47dcec,0.85);let _0x2f3543='<div\x20class=\x22ev-title\x22>'+_0x522d8f[_0x258e40(0x287)]+'</div><div\x20class=\x22ev-time\x22>'+_0x522d8f[_0x258e40(0x1f6)]+_0x258e40(0x1c1)+_0x522d8f[_0x258e40(0x2e0)]+'</div>';return _0x522d8f[_0x258e40(0x27c)]&&(_0x2f3543+=_0x258e40(0x1fa)),_0x522d8f[_0x258e40(0x259)]==='completed'&&(_0x2f3543+=_0x258e40(0x2be)),_0x4b354f[_0x258e40(0x21a)]=_0x2f3543,_0x4b354f[_0x258e40(0x249)]=_0x3546e8=>{const _0xc9090c=_0x258e40;_0x3546e8[_0xc9090c(0x2ea)](),openEdit(_0x522d8f);},_0x4b354f;}function attachLongPressHandler(_0x56c6e8,_0x3341f5){const _0xc3b662=a2_0x1c2533;let _0x240eec=0x0,_0x1a4b97=null;const _0xaa597a=_0x2c6c10=>{const _0x57f1a2=a2_0x3921;if(_0x2c6c10[_0x57f1a2(0x311)][_0x57f1a2(0x245)]('.event-card'))return;isScrolling=![],_0x240eec=_0x2c6c10[_0x57f1a2(0x2ec)]?_0x2c6c10[_0x57f1a2(0x2ec)][0x0][_0x57f1a2(0x29d)]:_0x2c6c10[_0x57f1a2(0x29d)],_0x1a4b97=setTimeout(()=>{const _0x434d82=_0x57f1a2;if(!isScrolling){navigator[_0x434d82(0x24a)]?.(0x32);const _0x1f43c4=_0x56c6e8[_0x434d82(0x1df)](),_0x3095f0=Math[_0x434d82(0x268)]((_0x240eec-_0x1f43c4['top'])/GRID_H);_0x3341f5[_0x434d82(0x2c6)](_0x3095f0,0x0),openAddSession(_0x3341f5);}},0x1f4);},_0x7eb695=()=>{isScrolling=!![],clearTimeout(_0x1a4b97);},_0x4e02e9=()=>{clearTimeout(_0x1a4b97);};_0x56c6e8[_0xc3b662(0x284)](_0xc3b662(0x2a7),_0xaa597a,{'passive':!![]}),_0x56c6e8[_0xc3b662(0x284)]('touchmove',_0x7eb695,{'passive':!![]}),_0x56c6e8[_0xc3b662(0x284)](_0xc3b662(0x24d),_0x4e02e9),_0x56c6e8['addEventListener']('mousedown',_0xaa597a),_0x56c6e8[_0xc3b662(0x284)](_0xc3b662(0x1dc),_0x7eb695),_0x56c6e8[_0xc3b662(0x284)]('mouseup',_0x4e02e9);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5aa845=a2_0x1c2533,_0xe02133=document[_0x5aa845(0x329)](_0x5aa845(0x27e)),_0x5091c3=_0xe02133[_0x5aa845(0x1ec)],_0x27b8cd=_0xe02133[_0x5aa845(0x1d4)],_0x28b1e4=_0xe02133[_0x5aa845(0x30b)];if(_0x27b8cd-(_0x5091c3+_0x28b1e4)<0x12c){const _0x296cad=endOffset;endOffset+=0xe,renderDayRange(_0x296cad+0x1,endOffset),reRenderBlocks();}if(_0x5091c3<0x12c){const _0x47eadb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x47eadb-0x1),_0xe02133[_0x5aa845(0x1ec)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x53bbf1,_0x4fc3d3){const _0x26c850=a2_0x1c2533,_0x153723=document[_0x26c850(0x329)](_0x26c850(0x2d2)),_0xab1d00=document['getElementById'](_0x26c850(0x204)),_0x19f581=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3c03b2=new Date();_0x3c03b2[_0x26c850(0x2c6)](0x0,0x0,0x0,0x0);const _0x5ee2b2=getLocalDateStr(new Date()),_0x2cf71e=document[_0x26c850(0x1c0)](),_0x411231=document[_0x26c850(0x1c0)]();for(let _0x4ad942=_0x53bbf1;_0x4ad942<=_0x4fc3d3;_0x4ad942++){const _0x4e15c7=new Date(_0x3c03b2);_0x4e15c7['setDate'](_0x4e15c7[_0x26c850(0x299)]()+_0x4ad942);const _0x64daee=getLocalDateStr(_0x4e15c7);let _0x4bebac=_0x4e15c7[_0x26c850(0x2ed)]()-0x1;if(_0x4bebac===-0x1)_0x4bebac=0x6;const _0x8e75ab=_0x64daee===_0x5ee2b2,_0x5ed3c0=document[_0x26c850(0x1f8)](_0x26c850(0x1c6));_0x5ed3c0[_0x26c850(0x293)]='day-col-header\x20'+(_0x8e75ab?_0x26c850(0x2cb):''),_0x5ed3c0['id']=_0x26c850(0x24b)+_0x64daee,_0x5ed3c0[_0x26c850(0x2ce)](_0x26c850(0x1ca),_0x64daee),_0x5ed3c0[_0x26c850(0x21a)]=_0x26c850(0x267)+_0x19f581[_0x4bebac]+_0x26c850(0x21b)+_0x4e15c7[_0x26c850(0x299)]()+_0x26c850(0x1ed)+_0x64daee+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x5ed3c0[_0x26c850(0x249)]=()=>openDayOptions(_0x64daee,_0x19f581[_0x4bebac]+'\x20'+_0x4e15c7[_0x26c850(0x299)]()),_0x2cf71e[_0x26c850(0x26f)](_0x5ed3c0);const _0x2e2292=document['createElement'](_0x26c850(0x1c6));_0x2e2292['className']=_0x26c850(0x2a2)+(_0x8e75ab?_0x26c850(0x2cb):''),_0x2e2292[_0x26c850(0x2ce)](_0x26c850(0x1ca),_0x64daee),_0x2e2292[_0x26c850(0x2ce)](_0x26c850(0x315),_0x4bebac),renderEventsForColumn(_0x2e2292,_0x64daee,_0x4bebac),attachLongPressHandler(_0x2e2292,_0x4e15c7),_0x411231[_0x26c850(0x26f)](_0x2e2292),updateDayStats(_0x64daee);}_0x153723[_0x26c850(0x30e)](_0x2cf71e,_0x153723[_0x26c850(0x1ef)]),_0xab1d00[_0x26c850(0x30e)](_0x411231,_0xab1d00[_0x26c850(0x327)]('.day-column'));}function validateAppointment(_0x5d6df9,_0x234207,_0x148d4e,_0x39a40e,_0x28a681){const _0x1d4b57=a2_0x1c2533,[_0x315e28,_0x17dff2]=_0x234207[_0x1d4b57(0x324)](':')[_0x1d4b57(0x2ca)](Number),[_0x263444,_0x4b4e12]=_0x148d4e[_0x1d4b57(0x324)](':')[_0x1d4b57(0x2ca)](Number),_0x570234=_0x315e28*0x3c+_0x17dff2,_0x1b4d25=_0x263444*0x3c+_0x4b4e12,_0x83e155=String(_0x28a681);let _0x492cd0=![],_0x586d66='';for(let _0x1c7428 of sessions){if(_0x1c7428[_0x1d4b57(0x24f)]!==_0x5d6df9)continue;if(_0x1c7428['status']===_0x1d4b57(0x310))continue;if(_0x39a40e&&String(_0x1c7428['id'])===String(_0x39a40e))continue;const [_0x1b2670,_0x2727f5]=_0x1c7428['start'][_0x1d4b57(0x324)](':')[_0x1d4b57(0x2ca)](Number),[_0x238252,_0x1bbd47]=_0x1c7428[_0x1d4b57(0x2e0)][_0x1d4b57(0x324)](':')[_0x1d4b57(0x2ca)](Number),_0x5ecb52=_0x1b2670*0x3c+_0x2727f5,_0x52f164=_0x238252*0x3c+_0x1bbd47;if(Math['max'](_0x570234,_0x5ecb52)<Math[_0x1d4b57(0x201)](_0x1b4d25,_0x52f164)){if(_0x1c7428['clientId']&&String(_0x1c7428[_0x1d4b57(0x2d6)])===_0x83e155)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1c7428['client']+_0x1d4b57(0x295)};_0x492cd0=!![],_0x586d66=_0x1c7428[_0x1d4b57(0x287)];}}if(_0x492cd0)return{'valid':!![],'warning':_0x1d4b57(0x2d0)+_0x586d66};return{'valid':!![]};}function updateDateDisplay(){const _0x3ef356=a2_0x1c2533,_0x5d6f03=document['getElementById'](_0x3ef356(0x2ad))[_0x3ef356(0x31f)],_0x61e442=document['getElementById'](_0x3ef356(0x1c4));if(!_0x5d6f03){_0x61e442[_0x3ef356(0x31a)]='';return;}const [_0x18831a,_0x4219d8,_0x53da48]=_0x5d6f03[_0x3ef356(0x324)]('-')[_0x3ef356(0x2ca)](Number),_0x5edf3d=new Date(_0x18831a,_0x4219d8-0x1,_0x53da48),_0x36a008={'weekday':_0x3ef356(0x30a),'day':_0x3ef356(0x322),'month':'long','year':_0x3ef356(0x322)};let _0x5b7e49=_0x5edf3d[_0x3ef356(0x211)](_0x3ef356(0x30c),_0x36a008);_0x5b7e49=_0x5b7e49[_0x3ef356(0x1de)](0x0)[_0x3ef356(0x1eb)]()+_0x5b7e49[_0x3ef356(0x2fb)](0x1),_0x61e442[_0x3ef356(0x31a)]=_0x5b7e49;}function autoSetEndTime(){const _0x533cbb=a2_0x1c2533,_0x1a3b32=document[_0x533cbb(0x329)](_0x533cbb(0x298))[_0x533cbb(0x31f)];if(!_0x1a3b32)return;const [_0x1801fe,_0xe14903]=_0x1a3b32[_0x533cbb(0x324)](':')['map'](Number);let _0x332a51=_0x1801fe+0x1;if(_0x332a51>0x17)_0x332a51=0x0;const _0x53d1d6=String(_0x332a51)[_0x533cbb(0x27f)](0x2,'0')+':'+String(_0xe14903)[_0x533cbb(0x27f)](0x2,'0');document[_0x533cbb(0x329)]('inpEnd')[_0x533cbb(0x31f)]=_0x53d1d6;}function populateClientSelect(){const _0x4d35ac=a2_0x1c2533,_0x11b44e=document[_0x4d35ac(0x329)]('inpClient');_0x11b44e[_0x4d35ac(0x21a)]='';if(clients[_0x4d35ac(0x2da)]===0x0){const _0xfc974f=document[_0x4d35ac(0x1f8)](_0x4d35ac(0x2ba));_0xfc974f[_0x4d35ac(0x200)]=_0x4d35ac(0x2b1),_0x11b44e[_0x4d35ac(0x26f)](_0xfc974f);return;}clients[_0x4d35ac(0x25b)](_0x4457ca=>{const _0x2a4751=_0x4d35ac,_0x3202ee=document[_0x2a4751(0x1f8)](_0x2a4751(0x2ba));_0x3202ee['value']=_0x4457ca[_0x2a4751(0x31b)],_0x3202ee[_0x2a4751(0x31a)]=_0x4457ca[_0x2a4751(0x31b)],_0x11b44e[_0x2a4751(0x26f)](_0x3202ee);});}function openActionSheet(_0x272f58){const _0x119cb2=a2_0x1c2533,_0x3b8797=document[_0x119cb2(0x329)](_0x119cb2(0x1f4)),_0x1989ca=document[_0x119cb2(0x329)](_0x119cb2(0x27a)),_0x2435dd=document[_0x119cb2(0x329)]('asTitle'),_0x2c28a2=document[_0x119cb2(0x329)](_0x119cb2(0x28b)),_0x53464a=document[_0x119cb2(0x329)](_0x119cb2(0x214));_0x1989ca['classList'][_0x119cb2(0x1cf)]('active'),_0x3b8797[_0x119cb2(0x300)][_0x119cb2(0x1cf)](_0x119cb2(0x205));if(_0x272f58===_0x119cb2(0x2a6))_0x2435dd[_0x119cb2(0x31a)]=_0x119cb2(0x2ef),_0x2c28a2['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2c28a2[_0x119cb2(0x249)]=()=>{const _0x40fe6f=_0x119cb2;closeActionSheet(),updateSeriesBatch(_0x40fe6f(0x2f3),tempSessionData);},_0x53464a[_0x119cb2(0x31a)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x53464a['onclick']=()=>{const _0x17e771=_0x119cb2;closeActionSheet(),updateSeriesBatch(_0x17e771(0x2dc),tempSessionData);};else _0x272f58===_0x119cb2(0x2dd)&&(_0x2435dd[_0x119cb2(0x31a)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x2c28a2[_0x119cb2(0x31a)]=_0x119cb2(0x285),_0x2c28a2[_0x119cb2(0x293)]=_0x119cb2(0x20b),_0x2c28a2[_0x119cb2(0x249)]=()=>{const _0x3a2f8d=_0x119cb2;closeActionSheet(),commitDelete(_0x3a2f8d(0x2f3),sessions[_0x3a2f8d(0x242)](_0x58e5cf=>_0x58e5cf['id']===editingId));},_0x53464a[_0x119cb2(0x31a)]=_0x119cb2(0x306),_0x53464a[_0x119cb2(0x293)]='as-button\x20danger\x20bold',_0x53464a[_0x119cb2(0x249)]=()=>{const _0x5a25e0=_0x119cb2;closeActionSheet(),commitDelete(_0x5a25e0(0x2dc),sessions[_0x5a25e0(0x242)](_0x203c34=>_0x203c34['id']===editingId));});}function closeActionSheet(){const _0x44b774=a2_0x1c2533;document[_0x44b774(0x329)]('actionSheet')['classList'][_0x44b774(0x1d1)](_0x44b774(0x205)),document[_0x44b774(0x329)]('actionSheetOverlay')[_0x44b774(0x300)][_0x44b774(0x1d1)](_0x44b774(0x254));}function openSettings(){const _0x299174=a2_0x1c2533;openSheet(_0x299174(0x236));}function saveCoachSettings(){const _0x9f35a4=a2_0x1c2533,_0x5af252=document[_0x9f35a4(0x329)]('settingCancelWindow')[_0x9f35a4(0x31f)];localStorage[_0x9f35a4(0x2f7)](_0x9f35a4(0x274),_0x5af252),console[_0x9f35a4(0x296)](_0x9f35a4(0x230),_0x5af252),DataManager[_0x9f35a4(0x262)]('save_settings',{'settings':{'cancel_window':_0x5af252}})[_0x9f35a4(0x1f9)](_0x48fa27=>{const _0x1d27de=_0x9f35a4;console[_0x1d27de(0x219)]('Save\x20settings\x20error:',_0x48fa27),showToast(_0x1d27de(0x272),![]);});}function a2_0x454f(){const _0x122592=['–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','custom','\x20days','height','undefined','offsetLeft','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','className','constructor',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','log','patternInfoBox','inpStart','getDate','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','width','range-item','clientY','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','client-stat-card','now','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','day-column\x20','then','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rangeEndTime','save','touchstart','px\x20-','apply','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','data','inpDate','loadLocal','cancel','zIndex','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','rangeEndDate','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','stringify','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','done','getHours','option','exceptions','getTime','ready','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','42CZvHec','includes','1398876bNnkMg','23:59',':00','\x20status-completed','blocked-range-part\x20stripe-bg','setHours','setBackgroundColor','week','from','map','today','localeCompare','[Notify]\x20Client\x20SWAP\x20detected','setAttribute','initDataUnsafe','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','uc_clients_v9','daysHeaderTrack','.period-switch\x20.p-btn','stat-','btnStatusToggle','clientId','[Notify]\x20Attempting\x20to\x20send:','analyticsList','toastTitle','length','doBusyHours','series','delete','clients','sid','end','[API\x20','var(--acc-current)','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','rgba(48,\x20209,\x2088,\x200.15)','#0a84ff','router.html','sessionSheet','.dch-stats-fill','getItem','stopPropagation','anTotalStats','touches','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','ranges','settings','mini','single','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','backgroundPosition','DOMContentLoaded','setItem','[Notify]\x20Error:\x20Text\x20generation\x20failed','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','left','slice','colIndex','disableVerticalSwipes','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>',':\x20Client\x20already\x20booked','classList','#fff','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','inpSeriesCount','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','parse','10px','128XWzZGY','long','clientWidth','ru-RU',':00</span>','insertBefore','cancel_window','cancelled','target','Telegram','59895fanfGU','saveLocally','data-day-idx','timeLineBadge','9mfookB','pattern','syncLoad','textContent','name','5408550zXrqEU','off','btn-status-toggle\x20undo-mode','value','completed','inpNote','numeric','uc_sessions_v9','split','location','keys','querySelector','...','getElementById','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','747437eSZZTe','Unknown','WebApp','[Notify]\x20Network\x20Failed','day-col-header\x20','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','overlay','btn-primary\x20btn-secondary','deleted','toast','json','show','borderColor','.pib-text','createDocumentFragment','\x20-\x20','peGrid','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','sheetDateSubtitle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','div','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','filter','background','data-date','init_load','round','px\x200px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','var(--acc-orange)','remove','sort','formatDate','scrollWidth','T23:59:59','rgba(255,\x20159,\x2010,\x200.3)','Batch\x20Sync\x20OK','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','save_settings','Critical\x20TMA\x20Error:','Error\x20setting\x20back\x20button:','mousemove','batch_sync','charAt','getBoundingClientRect','push','seriesCountContainer','40076509JwcShV','planned','sheetTitle','style','100%','recurringOptionContainer','warning','getFullYear','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','toUpperCase','scrollLeft','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','firstChild','toFixed','flex','var(--acc-green)','rgba(255,\x2069,\x2058,\x200.15)','actionSheet','note','start','rgba(255,\x2069,\x2058,\x200.3)','createElement','catch','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','patternEditor','\x20–∏–∑\x20','Server\x20Error','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','null','text','min','success','calc(','gridColumns','open','inpEnd','setHeaderColor','globalTimeLine','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','</span>\x20/\x20','as-button\x20danger','doWorkHours','pe-time-label','blocked-slot\x20stripe-bg','scroll','warn','toLocaleDateString','rgba(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asBtnSeries','toString','btnDayToggle','valid','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','innerHTML','</div><div\x20class=\x22dch-num\x22>','toastMessage','isArray','startsWith','676860qXEYZh','querySelectorAll','inpClient','var(--acc-red)','indexOf','display','POST','strokeDashoffset','.day-off-overlay','dayOptionsSheet','setMonth','guest','borderRadius','#gridColumns\x20.day-column','anStart','top','offClick','[Settings]\x20Cancel\x20window\x20set\x20to:','update','rangeStartDate','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','timeColumn','send','settingsSheet','color','inpRecurring','Error\x20setting\x20color:','anCustomDates',']\x20Failed:','splice','rangeStartTime','offsetWidth','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','T00:00:00','find','[Sync]\x20Loading\x20','1237224CGUlPM','closest','63dUrqTv','total','Local\x20Load\x20Error','onclick','vibrate','header-','\x20‚Äî\x20','touchend','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','dateStr','dayOptionsTitle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','block','toast-notification\x20','active','substr','msg','statLoadCard','checked','status','setDate','forEach','onClick','doEventsList','headerMonth','</b>\x0a\x0a','getMinutes','calendar','fetchFromServer','[Notify]\x20Detected\x20Client\x20ID:','search','complete','.day-col-header','<div\x20class=\x22dch-day\x22>','floor','pe-cell\x20','create','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','00:00','user','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','appendChild','event-card','borderLeftColor','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','uc_settings_cancel_window','max','BackButton','getMonth','getAttribute','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','actionSheetOverlay','settingCancelWindow','seriesId','random','matrixViewport','padStart','(((.+)+)+)+$','mergeServerData','doLoadPercent','%\x20-\x204px)','addEventListener','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','none','client','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','[Notify]\x20Error:\x20sessionData\x20is\x20null','pe-corner','asBtnOne'];a2_0x454f=function(){return _0x122592;};return a2_0x454f();}function loadCoachSettings(){const _0x16417a=a2_0x1c2533,_0x397fc4=localStorage[_0x16417a(0x2e9)](_0x16417a(0x274));_0x397fc4&&(document[_0x16417a(0x329)]('settingCancelWindow')['value']=_0x397fc4);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0xee4f97=a2_0x1c2533,_0xd025e3=document['getElementById'](_0xee4f97(0x232))['value'],_0x371e6c=document['getElementById'](_0xee4f97(0x23d))[_0xee4f97(0x31f)],_0x464eeb=document['getElementById'](_0xee4f97(0x2b4))['value'],_0x56828e=document[_0xee4f97(0x329)]('rangeEndTime')[_0xee4f97(0x31f)];if(!_0xd025e3||!_0x371e6c||!_0x464eeb||!_0x56828e)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x57972a=_0xd025e3+'T'+_0x371e6c,_0x57d6f3=_0x464eeb+'T'+_0x56828e;if(_0x57972a>=_0x57d6f3)return alert(_0xee4f97(0x209));specialRanges['push']({'start':_0x57972a,'end':_0x57d6f3}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xee4f97(0x314)](),DataManager[_0xee4f97(0x262)](_0xee4f97(0x1d9),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x37f427){const _0x4c6fc9=a2_0x1c2533;specialRanges[_0x4c6fc9(0x23c)](_0x37f427,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4c6fc9(0x314)](),DataManager['fetchFromServer'](_0x4c6fc9(0x1d9),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x16d57b=a2_0x1c2533;document[_0x16d57b(0x329)](_0x16d57b(0x232))[_0x16d57b(0x31f)]='',document[_0x16d57b(0x329)](_0x16d57b(0x23d))[_0x16d57b(0x31f)]=_0x16d57b(0x26c),document[_0x16d57b(0x329)](_0x16d57b(0x2b4))['value']='',document['getElementById'](_0x16d57b(0x2a5))[_0x16d57b(0x31f)]=_0x16d57b(0x2c2);}function renderRangesList(){const _0x2ed0d8=a2_0x1c2533,_0x1a190b=document[_0x2ed0d8(0x329)]('rangesList');_0x1a190b[_0x2ed0d8(0x21a)]='';if(!specialRanges['length']){_0x1a190b[_0x2ed0d8(0x21a)]=_0x2ed0d8(0x1c3);return;}specialRanges['forEach']((_0xa95d5c,_0x145391)=>{const _0x17c4f5=_0x2ed0d8,_0x51bb6c=document[_0x17c4f5(0x1f8)]('div');_0x51bb6c[_0x17c4f5(0x293)]=_0x17c4f5(0x29c);const _0xfd87fc=_0x1ce240=>{const _0x4b5fba=_0x17c4f5,_0xd6319a=new Date(_0x1ce240);return _0xd6319a[_0x4b5fba(0x299)]()+'.'+String(_0xd6319a[_0x4b5fba(0x277)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0xd6319a[_0x4b5fba(0x2b9)]())[_0x4b5fba(0x27f)](0x2,'0')+':'+String(_0xd6319a[_0x4b5fba(0x260)]())[_0x4b5fba(0x27f)](0x2,'0');};_0x51bb6c[_0x17c4f5(0x21a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0xfd87fc(_0xa95d5c[_0x17c4f5(0x1f6)])+_0x17c4f5(0x24c)+_0xfd87fc(_0xa95d5c['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x145391+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x1a190b[_0x17c4f5(0x26f)](_0x51bb6c);});}function scrollToToday(){const _0x2885c0=a2_0x1c2533,_0xb0e8e9=getLocalDateStr(new Date()),_0x309149=document[_0x2885c0(0x329)](_0x2885c0(0x24b)+_0xb0e8e9),_0x189065=document['getElementById'](_0x2885c0(0x27e));if(_0x309149&&_0x189065){const _0x4b1ca3=_0x189065[_0x2885c0(0x30b)],_0x2cc2ae=_0x309149[_0x2885c0(0x291)],_0xdca0a8=_0x309149[_0x2885c0(0x23e)];_0x189065[_0x2885c0(0x1ec)]=_0x2cc2ae-_0x4b1ca3/0x2+_0xdca0a8/0x2,_0x189065['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x6f3a28=a2_0x1c2533,_0x5de641=document[_0x6f3a28(0x329)]('matrixViewport'),_0x41ac26=document[_0x6f3a28(0x220)](_0x6f3a28(0x266));for(let _0x7108ca of _0x41ac26)if(_0x7108ca[_0x6f3a28(0x291)]>=_0x5de641[_0x6f3a28(0x1ec)]){const _0xabe0a0=new Date(_0x7108ca['getAttribute'](_0x6f3a28(0x1ca)));document[_0x6f3a28(0x329)](_0x6f3a28(0x25e))[_0x6f3a28(0x31a)]=_0xabe0a0['toLocaleString']('ru',{'month':_0x6f3a28(0x30a)})[_0x6f3a28(0x1eb)]()+'\x20'+_0xabe0a0['getFullYear']();break;}}function showToast(_0x2fabf6,_0x4a0064=![]){const _0x130b3d=a2_0x1c2533,_0x55b490=document[_0x130b3d(0x329)](_0x130b3d(0x1bb));_0x55b490[_0x130b3d(0x293)]=_0x130b3d(0x253)+(_0x4a0064?_0x130b3d(0x202):''),document[_0x130b3d(0x329)](_0x130b3d(0x2d9))[_0x130b3d(0x31a)]=_0x4a0064?'–£—Å–ø–µ—à–Ω–æ':'–ò–Ω—Ñ–æ',document[_0x130b3d(0x329)](_0x130b3d(0x21c))[_0x130b3d(0x31a)]=_0x2fabf6,_0x55b490[_0x130b3d(0x300)][_0x130b3d(0x1cf)](_0x130b3d(0x1bd)),setTimeout(()=>{const _0xe7b8f7=_0x130b3d;_0x55b490[_0xe7b8f7(0x300)][_0xe7b8f7(0x1d1)](_0xe7b8f7(0x1bd));},0xbb8);}function openDayOptions(_0x1dd0c8,_0x3c5e74){const _0x5d8946=a2_0x1c2533;selectedDayForOptions=_0x1dd0c8,document[_0x5d8946(0x329)](_0x5d8946(0x250))['textContent']=_0x3c5e74,openSheet(_0x5d8946(0x228));}function toggleDayOff(){const _0x1561a3=a2_0x1c2533;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1561a3(0x31d),reRenderBlocks(),closeAllSheets(),DataManager[_0x1561a3(0x314)](),DataManager['fetchFromServer'](_0x1561a3(0x1d9),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4dcd72=a2_0x1c2533;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4dcd72(0x314)](),DataManager[_0x4dcd72(0x262)](_0x4dcd72(0x1d9),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0xb6fe34){const _0x142653=a2_0x1c2533;document[_0x142653(0x329)]('overlay')[_0x142653(0x300)][_0x142653(0x1cf)](_0x142653(0x254)),document[_0x142653(0x329)](_0xb6fe34)['classList'][_0x142653(0x1cf)](_0x142653(0x205));}function closeAllSheets(){const _0x3014ed=a2_0x1c2533;document[_0x3014ed(0x329)](_0x3014ed(0x332))[_0x3014ed(0x300)][_0x3014ed(0x1d1)](_0x3014ed(0x254)),document[_0x3014ed(0x220)]('.sheet')['forEach'](_0x18dd56=>_0x18dd56[_0x3014ed(0x300)][_0x3014ed(0x1d1)](_0x3014ed(0x205)));}function openPatternEditor(){const _0x5ab709=a2_0x1c2533;closeAllSheets(),document['getElementById'](_0x5ab709(0x1fb))[_0x5ab709(0x300)]['add'](_0x5ab709(0x205)),renderPatternEditor();}function closePatternEditor(){const _0x4be5b2=a2_0x1c2533;document['getElementById']('patternEditor')[_0x4be5b2(0x300)][_0x4be5b2(0x1d1)](_0x4be5b2(0x205));}function savePattern(){const _0x1a464b=a2_0x1c2533;document[_0x1a464b(0x329)](_0x1a464b(0x1fb))[_0x1a464b(0x300)][_0x1a464b(0x1d1)](_0x1a464b(0x205)),reRenderBlocks(),DataManager[_0x1a464b(0x314)](),DataManager[_0x1a464b(0x262)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x14a547=a2_0x1c2533,_0x514afc=document[_0x14a547(0x329)](_0x14a547(0x1c2));_0x514afc[_0x14a547(0x21a)]='';const _0x50016d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x89b501=document['createElement']('div');_0x89b501['className']=_0x14a547(0x28a),_0x514afc['appendChild'](_0x89b501),_0x50016d['forEach']((_0x2ea7f5,_0x1c35e5)=>{const _0x1e5703=_0x14a547,_0x1444e1=document[_0x1e5703(0x1f8)](_0x1e5703(0x1c6));_0x1444e1['className']='pe-col-header',_0x1444e1[_0x1e5703(0x21a)]=_0x2ea7f5+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x1444e1[_0x1e5703(0x249)]=()=>toggleColPattern(_0x1c35e5),_0x514afc['appendChild'](_0x1444e1);});for(let _0x402af7=0x0;_0x402af7<0x18;_0x402af7++){const _0x529c34=document[_0x14a547(0x1f8)](_0x14a547(0x1c6));_0x529c34[_0x14a547(0x293)]=_0x14a547(0x20d),_0x529c34[_0x14a547(0x21a)]=_0x14a547(0x24e)+String(_0x402af7)['padStart'](0x2,'0')+_0x14a547(0x2c3),_0x529c34['onclick']=()=>toggleRowPattern(_0x402af7),_0x514afc[_0x14a547(0x26f)](_0x529c34);for(let _0x4cee4d=0x0;_0x4cee4d<0x7;_0x4cee4d++){const _0x52e392=document[_0x14a547(0x1f8)]('div'),_0x4909e5=(availabilityPattern[_0x4cee4d]||[])[_0x14a547(0x2c0)](_0x402af7),_0x20a1dd=!_0x4909e5;_0x52e392[_0x14a547(0x293)]=_0x14a547(0x269)+(_0x20a1dd?'active':''),_0x52e392[_0x14a547(0x249)]=()=>toggleSinglePattern(_0x4cee4d,_0x402af7),_0x514afc[_0x14a547(0x26f)](_0x52e392);}}}function toggleSinglePattern(_0x593362,_0x442d3e){const _0x304314=a2_0x1c2533;if(!availabilityPattern[_0x593362])availabilityPattern[_0x593362]=[];const _0x4ea734=availabilityPattern[_0x593362],_0xf26dd0=_0x4ea734[_0x304314(0x223)](_0x442d3e);_0xf26dd0===-0x1?_0x4ea734[_0x304314(0x1e0)](_0x442d3e):_0x4ea734[_0x304314(0x23c)](_0xf26dd0,0x1),renderPatternEditor();}function toggleColPattern(_0x4741c5){const _0x3a87bf=a2_0x1c2533;if(!availabilityPattern[_0x4741c5])availabilityPattern[_0x4741c5]=[];const _0x5206dd=availabilityPattern[_0x4741c5];_0x5206dd[_0x3a87bf(0x2da)]===0x0?availabilityPattern[_0x4741c5]=Array[_0x3a87bf(0x2c9)]({'length':0x18},(_0x666732,_0xa08702)=>_0xa08702):availabilityPattern[_0x4741c5]=[],renderPatternEditor();}function toggleRowPattern(_0x2da025){const _0x341cc7=a2_0x1c2533;let _0x239df2=!![];for(let _0x5cf812=0x0;_0x5cf812<0x7;_0x5cf812++){if((availabilityPattern[_0x5cf812]||[])[_0x341cc7(0x2c0)](_0x2da025)){_0x239df2=![];break;}}for(let _0x84a17c=0x0;_0x84a17c<0x7;_0x84a17c++){if(!availabilityPattern[_0x84a17c])availabilityPattern[_0x84a17c]=[];const _0xa42fd=availabilityPattern[_0x84a17c]['indexOf'](_0x2da025);if(_0x239df2){if(_0xa42fd===-0x1)availabilityPattern[_0x84a17c][_0x341cc7(0x1e0)](_0x2da025);}else{if(_0xa42fd!==-0x1)availabilityPattern[_0x84a17c]['splice'](_0xa42fd,0x1);}}renderPatternEditor();}function renderPCol(_0x4abaf0,_0x44d234){const _0xff9cc7=a2_0x1c2533;_0x4abaf0[_0xff9cc7(0x21a)]='';const _0x50b9b1=Math['round'](_0x4abaf0[_0xff9cc7(0x291)]);(availabilityPattern[_0x44d234]||[])[_0xff9cc7(0x25b)](_0x47a23f=>{const _0x5f4761=_0xff9cc7,_0x365e01=document[_0x5f4761(0x1f8)]('div');_0x365e01['className']=_0x5f4761(0x20e);const _0x1be6fb=_0x47a23f*GRID_H;_0x365e01[_0x5f4761(0x1e5)][_0x5f4761(0x22e)]=_0x1be6fb+'px',_0x365e01[_0x5f4761(0x1e5)]['backgroundPosition']='-'+_0x50b9b1+_0x5f4761(0x2a8)+_0x1be6fb+'px',_0x365e01[_0x5f4761(0x249)]=_0x7b7484=>{const _0x3134fa=_0x5f4761;_0x7b7484[_0x3134fa(0x2ea)](),toggleSinglePattern(_0x44d234,_0x47a23f);},_0x4abaf0[_0x5f4761(0x26f)](_0x365e01);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1597fb=a2_0x1c2533,_0x5b06e8=new Date(),_0x25d5f9=document[_0x1597fb(0x329)](_0x1597fb(0x208)),_0x27e842=document[_0x1597fb(0x329)](_0x1597fb(0x316)),_0x3fabfd=(_0x5b06e8[_0x1597fb(0x2b9)]()*0x3c+_0x5b06e8[_0x1597fb(0x260)]())/0x3c*GRID_H;_0x25d5f9['style']['top']=_0x3fabfd+'px',_0x25d5f9[_0x1597fb(0x1e5)][_0x1597fb(0x224)]=_0x1597fb(0x252),_0x27e842[_0x1597fb(0x31a)]=String(_0x5b06e8[_0x1597fb(0x2b9)]())[_0x1597fb(0x27f)](0x2,'0')+':'+String(_0x5b06e8[_0x1597fb(0x260)]())[_0x1597fb(0x27f)](0x2,'0'),_0x27e842[_0x1597fb(0x1e5)][_0x1597fb(0x224)]=_0x1597fb(0x252),_0x27e842[_0x1597fb(0x1e5)][_0x1597fb(0x22e)]=_0x3fabfd+'px';}document[a2_0x1c2533(0x284)](a2_0x1c2533(0x2f6),init);function openDayOptions(_0x8d6784){const _0x51a85f=a2_0x1c2533;selectedDayForOptions=_0x8d6784;const _0x5e6129=new Date(_0x8d6784),_0x4a2e33={'weekday':_0x51a85f(0x30a),'day':'numeric','month':_0x51a85f(0x30a),'year':_0x51a85f(0x322)},_0x590451=_0x5e6129[_0x51a85f(0x211)](_0x51a85f(0x30c),_0x4a2e33);document[_0x51a85f(0x329)]('doDateHeader')[_0x51a85f(0x31a)]=_0x590451[_0x51a85f(0x1de)](0x0)['toUpperCase']()+_0x590451[_0x51a85f(0x2fb)](0x1);let _0x3e5670=_0x5e6129[_0x51a85f(0x2ed)]()-0x1;if(_0x3e5670===-0x1)_0x3e5670=0x6;const _0x37fed5=availabilityPattern[_0x3e5670]||[],_0x4d5b77=0x18-_0x37fed5[_0x51a85f(0x2da)],_0x1d94ee=_0x4d5b77*0x3c,_0x5e7637=sessions['filter'](_0x53fc66=>_0x53fc66['dateStr']===_0x8d6784&&_0x53fc66[_0x51a85f(0x259)]!=='cancelled');let _0x4b7637=_0x5e7637['map'](_0x175911=>{const _0x37b44b=_0x51a85f,[_0x18902b,_0xc7855f]=_0x175911['start'][_0x37b44b(0x324)](':')[_0x37b44b(0x2ca)](Number),[_0x12f16a,_0x44f4cf]=_0x175911[_0x37b44b(0x2e0)][_0x37b44b(0x324)](':')[_0x37b44b(0x2ca)](Number);return[_0x18902b*0x3c+_0xc7855f,_0x12f16a*0x3c+_0x44f4cf];});_0x4b7637['sort']((_0x49747c,_0xb9c518)=>_0x49747c[0x0]-_0xb9c518[0x0]);let _0x37038b=[];if(_0x4b7637[_0x51a85f(0x2da)]>0x0){let _0xa16447=_0x4b7637[0x0];for(let _0x165822=0x1;_0x165822<_0x4b7637['length'];_0x165822++){_0x4b7637[_0x165822][0x0]<_0xa16447[0x1]?_0xa16447[0x1]=Math[_0x51a85f(0x275)](_0xa16447[0x1],_0x4b7637[_0x165822][0x1]):(_0x37038b[_0x51a85f(0x1e0)](_0xa16447),_0xa16447=_0x4b7637[_0x165822]);}_0x37038b['push'](_0xa16447);}let _0x3ec426=0x0;_0x37038b['forEach'](_0x17c2ca=>_0x3ec426+=_0x17c2ca[0x1]-_0x17c2ca[0x0]),document[_0x51a85f(0x329)](_0x51a85f(0x20c))[_0x51a85f(0x31a)]=formatMinsToHrs(_0x1d94ee),document[_0x51a85f(0x329)](_0x51a85f(0x2db))[_0x51a85f(0x31a)]=formatMinsToHrs(_0x3ec426);const _0x121fe5=_0x1d94ee>0x0?Math[_0x51a85f(0x1cc)](_0x3ec426/_0x1d94ee*0x64):0x0,_0x24da8c=document[_0x51a85f(0x329)](_0x51a85f(0x282));_0x24da8c[_0x51a85f(0x31a)]=_0x121fe5+'%';const _0x37ce07=document['getElementById'](_0x51a85f(0x257));if(_0x121fe5>0x64)_0x24da8c[_0x51a85f(0x1e5)][_0x51a85f(0x237)]=_0x51a85f(0x222),_0x37ce07[_0x51a85f(0x1e5)][_0x51a85f(0x1be)]=_0x51a85f(0x1f7);else _0x121fe5>0x50?(_0x24da8c['style'][_0x51a85f(0x237)]=_0x51a85f(0x1d0),_0x37ce07[_0x51a85f(0x1e5)][_0x51a85f(0x1be)]=_0x51a85f(0x1d6)):(_0x24da8c[_0x51a85f(0x1e5)]['color']=_0x51a85f(0x1f2),_0x37ce07['style'][_0x51a85f(0x1be)]='rgba(255,255,255,0.05)');const _0x5ea388=document[_0x51a85f(0x329)](_0x51a85f(0x25d));_0x5ea388[_0x51a85f(0x21a)]='';_0x5e7637[_0x51a85f(0x2da)]===0x0?_0x5ea388[_0x51a85f(0x21a)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x5e7637[_0x51a85f(0x1d2)]((_0x15f225,_0x1d4647)=>_0x15f225['start'][_0x51a85f(0x2cc)](_0x1d4647[_0x51a85f(0x1f6)])),_0x5e7637[_0x51a85f(0x25b)](_0x4f48ed=>{const _0x40fbe9=_0x51a85f,_0x729764=clients['find'](_0x15d8f5=>_0x15d8f5['name']===_0x4f48ed[_0x40fbe9(0x287)]),_0x2adc5b=_0x729764?_0x729764[_0x40fbe9(0x237)]:_0x40fbe9(0x301),_0x1d2233=_0x4f48ed[_0x40fbe9(0x259)]===_0x40fbe9(0x320),_0x239731=_0x1d2233?_0x40fbe9(0x26b):'',_0x4a5f8f=document[_0x40fbe9(0x1f8)]('div');_0x4a5f8f[_0x40fbe9(0x293)]='de-item',_0x4a5f8f[_0x40fbe9(0x1e5)][_0x40fbe9(0x271)]=_0x2adc5b,_0x4a5f8f['innerHTML']=_0x40fbe9(0x2ee)+_0x4f48ed[_0x40fbe9(0x1f6)]+_0x40fbe9(0x1c1)+_0x4f48ed[_0x40fbe9(0x2e0)]+_0x40fbe9(0x218)+_0x4f48ed['client']+_0x40fbe9(0x213)+_0x239731+_0x40fbe9(0x1ce),_0x5ea388['appendChild'](_0x4a5f8f);}));const _0x383ea7=document[_0x51a85f(0x329)](_0x51a85f(0x216)),_0x1f1810=dateExceptions[_0x8d6784]===_0x51a85f(0x31d);_0x1f1810?(_0x383ea7['textContent']=_0x51a85f(0x1c7),_0x383ea7[_0x51a85f(0x293)]=_0x51a85f(0x333),_0x383ea7[_0x51a85f(0x1e5)][_0x51a85f(0x237)]=_0x51a85f(0x1f2),_0x383ea7[_0x51a85f(0x1e5)]['background']=_0x51a85f(0x2e4)):(_0x383ea7['textContent']='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x383ea7[_0x51a85f(0x293)]='btn-primary\x20btn-danger',_0x383ea7['style'][_0x51a85f(0x237)]=_0x51a85f(0x222),_0x383ea7[_0x51a85f(0x1e5)][_0x51a85f(0x1c9)]=_0x51a85f(0x1f3)),openSheet(_0x51a85f(0x228));}let currentAnPeriod=a2_0x1c2533(0x2c8);function openAnalytics(){const _0xc287d2=a2_0x1c2533,_0x3a0b76=document[_0xc287d2(0x327)](_0xc287d2(0x2d3));setAnalyticsPeriod(_0xc287d2(0x2c8),_0x3a0b76),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x4f4603,_0x487090){const _0x3bf63e=a2_0x1c2533;currentAnPeriod=_0x4f4603,document[_0x3bf63e(0x220)](_0x3bf63e(0x2d3))[_0x3bf63e(0x25b)](_0x384015=>_0x384015[_0x3bf63e(0x300)][_0x3bf63e(0x1d1)]('active'));if(_0x487090)_0x487090[_0x3bf63e(0x300)][_0x3bf63e(0x1cf)](_0x3bf63e(0x254));const _0x2c932a=document[_0x3bf63e(0x329)](_0x3bf63e(0x23a));_0x2c932a['style']['display']=_0x4f4603===_0x3bf63e(0x28d)?'flex':_0x3bf63e(0x286);const _0x87d39=new Date();let _0x30de7e=new Date(),_0x2f5dfe=new Date();if(_0x4f4603===_0x3bf63e(0x2c8))_0x30de7e=getStartOfWeek(_0x87d39),_0x2f5dfe=new Date(_0x30de7e),_0x2f5dfe['setDate'](_0x2f5dfe[_0x3bf63e(0x299)]()+0x6);else{if(_0x4f4603==='month')_0x30de7e=new Date(_0x87d39[_0x3bf63e(0x1e9)](),_0x87d39[_0x3bf63e(0x277)](),0x1),_0x2f5dfe=new Date(_0x87d39['getFullYear'](),_0x87d39['getMonth']()+0x1,0x0);else{!document[_0x3bf63e(0x329)](_0x3bf63e(0x22d))[_0x3bf63e(0x31f)]&&(document[_0x3bf63e(0x329)]('anStart')[_0x3bf63e(0x31f)]=getLocalDateStr(_0x87d39),document['getElementById']('anEnd')[_0x3bf63e(0x31f)]=getLocalDateStr(_0x87d39));refreshAnalytics();return;}}document[_0x3bf63e(0x329)]('anStart')['value']=getLocalDateStr(_0x30de7e),document['getElementById']('anEnd')[_0x3bf63e(0x31f)]=getLocalDateStr(_0x2f5dfe),refreshAnalytics();}function refreshAnalytics(){const _0x4251fc=a2_0x1c2533,_0x8a83b=document[_0x4251fc(0x329)]('anStart')['value'],_0x370aa7=document[_0x4251fc(0x329)]('anEnd')[_0x4251fc(0x31f)];if(!_0x8a83b||!_0x370aa7)return;const _0xd7a57=sessions[_0x4251fc(0x1c8)](_0x4acf86=>_0x4acf86['dateStr']>=_0x8a83b&&_0x4acf86[_0x4251fc(0x24f)]<=_0x370aa7&&_0x4acf86[_0x4251fc(0x259)]!==_0x4251fc(0x310)),_0x5240fc=_0xd7a57[_0x4251fc(0x2da)],_0x4ce998=_0xd7a57['filter'](_0x121ec3=>_0x121ec3[_0x4251fc(0x259)]===_0x4251fc(0x320))[_0x4251fc(0x2da)],_0x4cf424=_0x5240fc>0x0?Math['round'](_0x4ce998/_0x5240fc*0x64):0x0;document[_0x4251fc(0x329)]('anPercent')[_0x4251fc(0x31a)]=_0x4cf424+'%',document[_0x4251fc(0x329)](_0x4251fc(0x2eb))[_0x4251fc(0x31a)]=_0x4ce998+_0x4251fc(0x1fc)+_0x5240fc+_0x4251fc(0x279);const _0x243157=document[_0x4251fc(0x329)]('anDonutCircle'),_0x3f3458=0x2*Math['PI']*0x23,_0x432af1=_0x3f3458-_0x4cf424/0x64*_0x3f3458;_0x243157[_0x4251fc(0x1e5)][_0x4251fc(0x226)]=_0x432af1;const _0x3a5d0d={};_0xd7a57[_0x4251fc(0x25b)](_0x28a38f=>{const _0x435e42=_0x4251fc;if(!_0x3a5d0d[_0x28a38f[_0x435e42(0x287)]]){const _0x377874=clients[_0x435e42(0x242)](_0xbb7ed3=>_0xbb7ed3[_0x435e42(0x31b)]===_0x28a38f['client']);_0x3a5d0d[_0x28a38f[_0x435e42(0x287)]]={'total':0x0,'done':0x0,'color':_0x377874?_0x377874[_0x435e42(0x237)]:_0x435e42(0x301)};}_0x3a5d0d[_0x28a38f[_0x435e42(0x287)]][_0x435e42(0x247)]++;if(_0x28a38f['status']==='completed')_0x3a5d0d[_0x28a38f[_0x435e42(0x287)]][_0x435e42(0x2b8)]++;});const _0x10fcaa=document[_0x4251fc(0x329)](_0x4251fc(0x2d8));_0x10fcaa[_0x4251fc(0x21a)]='';const _0x9d59fd=Object['entries'](_0x3a5d0d)[_0x4251fc(0x1d2)]((_0x2be84a,_0x510c7f)=>_0x510c7f[0x1][_0x4251fc(0x247)]-_0x2be84a[0x1]['total']);if(_0x9d59fd['length']===0x0){_0x10fcaa[_0x4251fc(0x21a)]=_0x4251fc(0x2fe);return;}_0x9d59fd[_0x4251fc(0x25b)](([_0xd54df0,_0x48a7fd])=>{const _0x253f1b=_0x4251fc,_0x165aaf=Math[_0x253f1b(0x1cc)](_0x48a7fd['done']/_0x48a7fd[_0x253f1b(0x247)]*0x64),_0x4c491c=document[_0x253f1b(0x1f8)](_0x253f1b(0x1c6));_0x4c491c['className']=_0x253f1b(0x29f),_0x4c491c[_0x253f1b(0x1e5)][_0x253f1b(0x271)]=_0x48a7fd[_0x253f1b(0x237)],_0x4c491c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0xd54df0+_0x253f1b(0x29e)+_0x48a7fd['done']+_0x253f1b(0x20a)+_0x48a7fd[_0x253f1b(0x247)]+_0x253f1b(0x251)+_0x165aaf+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x10fcaa['appendChild'](_0x4c491c);});}function formatMinsToHrs(_0x4cc6f8){const _0x12e819=a2_0x1c2533;if(_0x4cc6f8===0x0)return'0';const _0x410565=Math[_0x12e819(0x268)](_0x4cc6f8/0x3c),_0x108dcd=_0x4cc6f8%0x3c;if(_0x108dcd===0x0)return _0x410565+'—á';return _0x410565+'—á\x20'+_0x108dcd+'–º';}