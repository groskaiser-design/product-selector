const a2_0x594b7a=a2_0x8bf7;(function(_0x100591,_0x32918c){const _0x1c7de9=a2_0x8bf7,_0x130cf6=_0x100591();while(!![]){try{const _0x1b2c42=-parseInt(_0x1c7de9(0x28e))/0x1+parseInt(_0x1c7de9(0x20a))/0x2+-parseInt(_0x1c7de9(0x1aa))/0x3*(-parseInt(_0x1c7de9(0x278))/0x4)+parseInt(_0x1c7de9(0x216))/0x5+-parseInt(_0x1c7de9(0x2a7))/0x6+-parseInt(_0x1c7de9(0x269))/0x7+parseInt(_0x1c7de9(0x24d))/0x8*(parseInt(_0x1c7de9(0x2d8))/0x9);if(_0x1b2c42===_0x32918c)break;else _0x130cf6['push'](_0x130cf6['shift']());}catch(_0x246124){_0x130cf6['push'](_0x130cf6['shift']());}}}(a2_0x2bf1,0x7f3bf),function initTMA(){const _0x359b2a=a2_0x8bf7,_0x3f5db5=(function(){let _0x2c7eb2=!![];return function(_0x57859e,_0x424a7d){const _0x5c36fb=_0x2c7eb2?function(){const _0x248e5e=a2_0x8bf7;if(_0x424a7d){const _0x274ad7=_0x424a7d[_0x248e5e(0x200)](_0x57859e,arguments);return _0x424a7d=null,_0x274ad7;}}:function(){};return _0x2c7eb2=![],_0x5c36fb;};}()),_0x1a7110=_0x3f5db5(this,function(){const _0x5b37b6=a2_0x8bf7;return _0x1a7110['toString']()[_0x5b37b6(0x2cc)](_0x5b37b6(0x20e))['toString']()[_0x5b37b6(0x2e2)](_0x1a7110)[_0x5b37b6(0x2cc)](_0x5b37b6(0x20e));});_0x1a7110();try{const _0x16bf95=window[_0x359b2a(0x2a2)]?.[_0x359b2a(0x277)];if(!_0x16bf95)return;_0x16bf95[_0x359b2a(0x1c9)](),_0x16bf95[_0x359b2a(0x247)]();try{_0x16bf95[_0x359b2a(0x258)](_0x359b2a(0x21e)),_0x16bf95[_0x359b2a(0x24b)]&&_0x16bf95[_0x359b2a(0x24b)](_0x359b2a(0x21e));}catch(_0x163ad9){console['log'](_0x359b2a(0x1d2),_0x163ad9);}try{_0x16bf95['BackButton']&&(_0x16bf95[_0x359b2a(0x253)][_0x359b2a(0x215)](),_0x16bf95[_0x359b2a(0x253)][_0x359b2a(0x1a7)](),_0x16bf95[_0x359b2a(0x253)][_0x359b2a(0x1db)](function(){const _0x4ac1b5=_0x359b2a;window[_0x4ac1b5(0x294)][_0x4ac1b5(0x304)]=_0x4ac1b5(0x262);}));}catch(_0x3e9898){console['log'](_0x359b2a(0x1ac),_0x3e9898);}try{if(_0x16bf95[_0x359b2a(0x19e)])_0x16bf95['disableVerticalSwipes']();}catch(_0x3b95c0){}}catch(_0x1b7949){console['error']('Critical\x20TMA\x20Error:',_0x1b7949);}}());function isAdmin(){const _0x9f5061=a2_0x8bf7;try{const _0x51aa4a=Number(window[_0x9f5061(0x2a2)]?.[_0x9f5061(0x277)]?.['initDataUnsafe']?.[_0x9f5061(0x211)]?.['id']);return _0x51aa4a===0xbaf7174;}catch(_0x3a22b9){return![];}}const APP_VERSION=a2_0x594b7a(0x1ed),API_URL=a2_0x594b7a(0x2ce),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x594b7a(0x1d1),KEY_SETTINGS=a2_0x594b7a(0x27a);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x1b6e96=a2_0x594b7a;return window[_0x1b6e96(0x2a2)]?.['WebApp']?.[_0x1b6e96(0x2f9)]?.[_0x1b6e96(0x211)]?.['id']||_0x1b6e96(0x213);},'saveLocally'(){const _0x5163ae=a2_0x594b7a;try{localStorage[_0x5163ae(0x242)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x5163ae(0x2af)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x5163ae(0x2af)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3e3c63){console['error'](_0x5163ae(0x2b1),_0x3e3c63);}},'loadLocal'(){const _0x6b5ebe=a2_0x594b7a;try{const _0x4f7f6e=localStorage[_0x6b5ebe(0x2cf)](KEY_CLIENTS);if(_0x4f7f6e)clients=JSON[_0x6b5ebe(0x281)](_0x4f7f6e);const _0x133ded=localStorage[_0x6b5ebe(0x2cf)](KEY_SESSIONS);if(_0x133ded)sessions=JSON['parse'](_0x133ded);const _0x5c2021=localStorage[_0x6b5ebe(0x2cf)](KEY_SETTINGS);if(_0x5c2021){const _0x32dad7=JSON[_0x6b5ebe(0x281)](_0x5c2021);if(_0x32dad7[_0x6b5ebe(0x201)])availabilityPattern=_0x32dad7[_0x6b5ebe(0x201)];if(_0x32dad7['exceptions'])dateExceptions=_0x32dad7[_0x6b5ebe(0x238)];if(_0x32dad7[_0x6b5ebe(0x23f)])specialRanges=_0x32dad7[_0x6b5ebe(0x23f)];}else{for(let _0x14e90d=0x0;_0x14e90d<0x7;_0x14e90d++)availabilityPattern[_0x14e90d]=Array[_0x6b5ebe(0x264)]({'length':0xc},(_0x371c4b,_0x237a3b)=>_0x237a3b+0x9);}}catch(_0x2a943e){console['error'](_0x6b5ebe(0x2bf),_0x2a943e);}},async 'fetchFromServer'(_0x32b6d9,_0x501dc6={}){const _0x324ab4=a2_0x594b7a,_0x5534b3=window[_0x324ab4(0x2a2)]?.['WebApp'],_0x3a2206={'action':_0x32b6d9,'init_data':_0x5534b3?.['initData']||'',..._0x501dc6};try{const _0x4445a7=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x324ab4(0x1e5)},'body':JSON[_0x324ab4(0x2af)](_0x3a2206)}),_0x42bd99=await _0x4445a7[_0x324ab4(0x1b8)]();if(!_0x42bd99['ok'])throw new Error(_0x42bd99[_0x324ab4(0x1eb)]||_0x324ab4(0x1ca));return _0x42bd99[_0x324ab4(0x2d1)];}catch(_0x2d0bfe){console[_0x324ab4(0x1eb)](_0x324ab4(0x1f8)+_0x32b6d9+']\x20Failed:',_0x2d0bfe);throw _0x2d0bfe;}},async 'syncLoad'(){const _0x19286f=a2_0x594b7a,_0x5a24a5=new Date(),_0x5736e2=_0x5a24a5['getFullYear']()+'-'+String(_0x5a24a5[_0x19286f(0x284)]()+0x1)[_0x19286f(0x27d)](0x2,'0'),_0x36673e=new Date(_0x5a24a5);_0x36673e['setMonth'](_0x5a24a5[_0x19286f(0x284)]()+0x1);const _0x88f309=_0x36673e[_0x19286f(0x290)]()+'-'+String(_0x36673e[_0x19286f(0x284)]()+0x1)[_0x19286f(0x27d)](0x2,'0'),_0x42a1c1=Date[_0x19286f(0x1f7)]();console['log'](_0x19286f(0x1d9)+_0x5736e2+',\x20'+_0x88f309+_0x19286f(0x1bf));try{const [_0x5ad1b7,_0x55353b]=await Promise[_0x19286f(0x1fa)]([this['fetchFromServer'](_0x19286f(0x20c),{'month_str':_0x5736e2}),this[_0x19286f(0x2c5)](_0x19286f(0x20c),{'month_str':_0x88f309})]);if(lastUserActionTime>_0x42a1c1)return console[_0x19286f(0x267)](_0x19286f(0x2d9)),![];return this['mergeServerData'](_0x5ad1b7,_0x5736e2),this['mergeServerData'](_0x55353b,_0x88f309),this[_0x19286f(0x208)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2d9e37){console['error'](_0x2d9e37);throw _0x2d9e37;}},'mergeServerData'(_0x171cac,_0xa41432){const _0x1924c1=a2_0x594b7a;if(!_0x171cac)return;_0x171cac['clients']&&Array['isArray'](_0x171cac[_0x1924c1(0x237)])&&(clients=_0x171cac['clients']);if(_0x171cac['settings']){if(_0x171cac[_0x1924c1(0x27b)][_0x1924c1(0x201)])availabilityPattern=_0x171cac['settings'][_0x1924c1(0x201)];if(_0x171cac['settings']['exceptions'])dateExceptions=_0x171cac[_0x1924c1(0x27b)][_0x1924c1(0x238)];if(_0x171cac[_0x1924c1(0x27b)]['ranges'])specialRanges=_0x171cac[_0x1924c1(0x27b)][_0x1924c1(0x23f)];if(_0x171cac[_0x1924c1(0x27b)][_0x1924c1(0x2c1)]){localStorage[_0x1924c1(0x242)](_0x1924c1(0x245),_0x171cac['settings'][_0x1924c1(0x2c1)]);const _0x2df46c=document[_0x1924c1(0x2b4)](_0x1924c1(0x26f));if(_0x2df46c)_0x2df46c[_0x1924c1(0x1e8)]=_0x171cac[_0x1924c1(0x27b)][_0x1924c1(0x2c1)];}}_0x171cac[_0x1924c1(0x194)]&&(sessions=sessions['filter'](_0x3791cc=>!_0x3791cc[_0x1924c1(0x1fe)][_0x1924c1(0x229)](_0xa41432)),Object['keys'](_0x171cac[_0x1924c1(0x194)])[_0x1924c1(0x282)](_0x232c20=>{const _0x1f3acd=_0x1924c1,_0x34d5ba=_0x171cac[_0x1f3acd(0x194)][_0x232c20];_0x34d5ba['forEach'](_0x16e333=>{const _0x4c0b16=_0x1f3acd,_0xa97fcf=clients[_0x4c0b16(0x1ce)](_0x33fbb5=>String(_0x33fbb5['id'])===String(_0x16e333['c']));sessions[_0x4c0b16(0x2e9)]({'id':_0x16e333['i'],'clientId':_0x16e333['c'],'client':_0xa97fcf?_0xa97fcf[_0x4c0b16(0x1c0)]:_0x4c0b16(0x191),'dateStr':_0xa41432+'-'+_0x232c20[_0x4c0b16(0x27d)](0x2,'0'),'start':_0x16e333['s'],'end':_0x16e333['e'],'status':_0x16e333['st']||_0x4c0b16(0x2cd),'note':_0x16e333['n']||'','seriesId':_0x16e333[_0x4c0b16(0x192)]||null});});}));},async 'syncBatch'(_0x4cdf9e){const _0x22fbd3=a2_0x594b7a,_0x2e482f=[...new Set(_0x4cdf9e)],_0x220007=_0x2e482f['map'](_0x2dac92=>{const _0x17babb=a2_0x8bf7,_0xe43848=sessions[_0x17babb(0x2b0)](_0x451b4f=>_0x451b4f[_0x17babb(0x1fe)]===_0x2dac92&&_0x451b4f['status']!==_0x17babb(0x25d)),_0x2eaba2=_0xe43848[_0x17babb(0x1af)](_0x488b77=>({'i':_0x488b77['id'],'c':_0x488b77['clientId'],'s':_0x488b77[_0x17babb(0x1a2)],'e':_0x488b77[_0x17babb(0x22b)],'st':_0x488b77[_0x17babb(0x2b7)],'n':_0x488b77['note'],'sid':_0x488b77['seriesId']}));return{'date':_0x2dac92,'day_data':_0x2eaba2};});if(_0x220007[_0x22fbd3(0x2f0)]===0x0)return;console[_0x22fbd3(0x23b)](_0x22fbd3(0x2c8)+_0x220007[_0x22fbd3(0x2f0)]+_0x22fbd3(0x289)),await this['fetchFromServer']('batch_sync',{'changes':_0x220007});}};async function init(){const _0x10b9f2=a2_0x594b7a;DataManager[_0x10b9f2(0x2be)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x10b9f2(0x2b4)](_0x10b9f2(0x1b5))[_0x10b9f2(0x303)](_0x10b9f2(0x2ad),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x10b9f2(0x2d5)]()[_0x10b9f2(0x2a3)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x2cb63f=>{const _0x3a3f3d=_0x10b9f2;showToast(_0x3a3f3d(0x276),![]);});}function generateId(){const _0x31f0f7=a2_0x594b7a;return Date['now']()[_0x31f0f7(0x2b3)](0x24)+Math[_0x31f0f7(0x280)]()['toString'](0x24)[_0x31f0f7(0x2e1)](0x2,0x5);}function toggleSeriesInput(){const _0xdc4f7d=a2_0x594b7a,_0x4ccbeb=document[_0xdc4f7d(0x2b4)](_0xdc4f7d(0x1de))[_0xdc4f7d(0x285)],_0x18159f=document[_0xdc4f7d(0x2b4)](_0xdc4f7d(0x265));_0x18159f[_0xdc4f7d(0x2ff)][_0xdc4f7d(0x1c6)]=_0x4ccbeb?_0xdc4f7d(0x28b):_0xdc4f7d(0x26a);const _0x2e2eaf=document[_0xdc4f7d(0x2b4)](_0xdc4f7d(0x27f));_0x2e2eaf['style'][_0xdc4f7d(0x2e7)]=_0x4ccbeb?_0xdc4f7d(0x26d):_0xdc4f7d(0x23d);}function openAddSession(_0x7cc010){const _0x4bf31a=a2_0x594b7a;editingId=null,populateClientSelect(),document[_0x4bf31a(0x2b4)](_0x4bf31a(0x268))['textContent']=_0x4bf31a(0x2e8),document[_0x4bf31a(0x2b4)](_0x4bf31a(0x2eb))[_0x4bf31a(0x2ff)][_0x4bf31a(0x1c6)]=_0x4bf31a(0x26a),document['getElementById']('btnStatusToggle')[_0x4bf31a(0x2ff)][_0x4bf31a(0x1c6)]=_0x4bf31a(0x26a);const _0x542397=document[_0x4bf31a(0x2b4)]('recurringOptionContainer'),_0x466b1c=document[_0x4bf31a(0x2b4)](_0x4bf31a(0x265));_0x542397[_0x4bf31a(0x2ff)][_0x4bf31a(0x1c6)]=_0x4bf31a(0x22d),_0x542397[_0x4bf31a(0x2ff)][_0x4bf31a(0x2e7)]=_0x4bf31a(0x23d),document[_0x4bf31a(0x2b4)]('inpRecurring')[_0x4bf31a(0x285)]=![],document[_0x4bf31a(0x2b4)](_0x4bf31a(0x1c7))[_0x4bf31a(0x1e8)]=0x4,_0x466b1c[_0x4bf31a(0x2ff)]['display']=_0x4bf31a(0x26a),document[_0x4bf31a(0x2b4)](_0x4bf31a(0x2d0))[_0x4bf31a(0x1e8)]=getLocalDateStr(_0x7cc010),updateDateDisplay();const _0x1a3cfd=_0x7cc010['getHours']();document[_0x4bf31a(0x2b4)](_0x4bf31a(0x27e))[_0x4bf31a(0x1e8)]=String(_0x1a3cfd)['padStart'](0x2,'0')+':00',document['getElementById']('inpEnd')[_0x4bf31a(0x1e8)]=String(_0x1a3cfd+0x1)[_0x4bf31a(0x27d)](0x2,'0')+_0x4bf31a(0x2b5),openSheet(_0x4bf31a(0x2ed));}function openEdit(_0x130399){const _0x2e6db1=a2_0x594b7a;editingId=_0x130399['id'],populateClientSelect(),document[_0x2e6db1(0x2b4)](_0x2e6db1(0x268))['textContent']=_0x2e6db1(0x2f4),document[_0x2e6db1(0x2b4)](_0x2e6db1(0x2eb))[_0x2e6db1(0x2ff)][_0x2e6db1(0x1c6)]=_0x2e6db1(0x28b);const _0x43fc0d=document['getElementById'](_0x2e6db1(0x1b6));_0x43fc0d[_0x2e6db1(0x2ff)][_0x2e6db1(0x1c6)]=_0x2e6db1(0x22d);_0x130399['status']===_0x2e6db1(0x2f7)?(_0x43fc0d[_0x2e6db1(0x22c)]='btn-status-toggle\x20undo-mode',_0x43fc0d[_0x2e6db1(0x2dd)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x43fc0d[_0x2e6db1(0x22c)]=_0x2e6db1(0x1cf),_0x43fc0d[_0x2e6db1(0x2dd)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x46167f=!!_0x130399[_0x2e6db1(0x19a)];document['getElementById'](_0x2e6db1(0x27f))['style'][_0x2e6db1(0x1c6)]=_0x2e6db1(0x26a),document[_0x2e6db1(0x2b4)](_0x2e6db1(0x265))[_0x2e6db1(0x2ff)][_0x2e6db1(0x1c6)]=_0x2e6db1(0x26a),_0x46167f?(document[_0x2e6db1(0x2b4)]('patternInfoBox')[_0x2e6db1(0x2ff)]['display']=_0x2e6db1(0x22d),document['getElementById'](_0x2e6db1(0x1b1))['querySelector'](_0x2e6db1(0x1c2))[_0x2e6db1(0x195)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x2e6db1(0x2b4)](_0x2e6db1(0x1b1))[_0x2e6db1(0x2ff)][_0x2e6db1(0x1c6)]='none',document[_0x2e6db1(0x2b4)](_0x2e6db1(0x235))[_0x2e6db1(0x1e8)]=_0x130399['client'],document[_0x2e6db1(0x2b4)](_0x2e6db1(0x2d0))['value']=_0x130399[_0x2e6db1(0x1fe)],document[_0x2e6db1(0x2b4)]('inpStart')[_0x2e6db1(0x1e8)]=_0x130399[_0x2e6db1(0x1a2)],document['getElementById']('inpEnd')['value']=_0x130399[_0x2e6db1(0x22b)],document[_0x2e6db1(0x2b4)](_0x2e6db1(0x301))['value']=_0x130399['note']||'',updateDateDisplay(),openSheet(_0x2e6db1(0x2ed));}function a2_0x8bf7(_0x1d0ba3,_0x5ddf26){_0x1d0ba3=_0x1d0ba3-0x18e;const _0x22a5e8=a2_0x2bf1();let _0x559f10=_0x22a5e8[_0x1d0ba3];return _0x559f10;}async function trySaveSession(){const _0x528b9b=a2_0x594b7a,_0x50337b=document[_0x528b9b(0x2b4)](_0x528b9b(0x235))['value'],_0x3f5251=document[_0x528b9b(0x2b4)](_0x528b9b(0x2d0))['value'],_0x4a36af=document[_0x528b9b(0x2b4)]('inpStart')[_0x528b9b(0x1e8)],_0x1c69d4=document[_0x528b9b(0x2b4)](_0x528b9b(0x261))[_0x528b9b(0x1e8)],_0x426a68=document['getElementById'](_0x528b9b(0x301))[_0x528b9b(0x1e8)],_0x1da212=document[_0x528b9b(0x2b4)]('inpRecurring')['checked'];let _0x5f5a72=0x4;if(_0x1da212){const _0xe3ae81=parseInt(document[_0x528b9b(0x2b4)](_0x528b9b(0x1c7))[_0x528b9b(0x1e8)]);if(!_0xe3ae81||_0xe3ae81<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0xe3ae81>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x5f5a72=_0xe3ae81;}const _0x56765b=clients[_0x528b9b(0x1ce)](_0xbb8aac=>_0xbb8aac[_0x528b9b(0x1c0)]===_0x50337b);if(!_0x56765b){showToast(_0x528b9b(0x2d4),![]);return;}const _0x2a246d=validateAppointment(_0x3f5251,_0x4a36af,_0x1c69d4,editingId,_0x56765b['id']);if(!_0x2a246d[_0x528b9b(0x1be)]){showToast(_0x2a246d[_0x528b9b(0x2ab)],![]);return;}_0x2a246d[_0x528b9b(0x1f5)]&&showToast(_0x2a246d['warning'],![]);const _0x47f445={'client':_0x50337b,'clientId':_0x56765b['id'],'start':_0x4a36af,'end':_0x1c69d4,'note':_0x426a68,'status':_0x528b9b(0x2cd)},_0xb59381=editingId?sessions[_0x528b9b(0x1ce)](_0x32622f=>_0x32622f['id']===editingId):null;if(_0xb59381&&_0xb59381[_0x528b9b(0x19a)]){tempSessionData={..._0x47f445,'dateStr':_0x3f5251,'id':editingId,'seriesId':_0xb59381[_0x528b9b(0x19a)]},openActionSheet(_0x528b9b(0x1ba));return;}let _0x4d769d=null;if(!editingId)_0x4d769d=_0x528b9b(0x1ab);else{if(_0xb59381){if(String(_0xb59381[_0x528b9b(0x273)])!==String(_0x56765b['id']))console[_0x528b9b(0x23b)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x528b9b(0x29e)]('cancel',_0xb59381),_0x4d769d=_0x528b9b(0x1ab);else(_0xb59381[_0x528b9b(0x1a2)]!==_0x4a36af||_0xb59381['end']!==_0x1c69d4||_0xb59381[_0x528b9b(0x1fe)]!==_0x3f5251)&&(_0x4d769d=_0x528b9b(0x249));}}if(!editingId&&_0x1da212){createBatchSeries(_0x47f445,_0x3f5251,_0x5f5a72),NotificationManager['send'](_0x528b9b(0x1ab),{..._0x47f445,'dateStr':_0x3f5251});return;}lastUserActionTime=Date['now']();const _0x398640={..._0x47f445,'dateStr':_0x3f5251,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x398640),_0x4d769d&&NotificationManager[_0x528b9b(0x29e)](_0x4d769d,_0x398640);}function toggleSessionStatus(){const _0x483efd=a2_0x594b7a;lastUserActionTime=Date[_0x483efd(0x1f7)]();const _0x2d1a27=sessions[_0x483efd(0x1ce)](_0x3bba91=>_0x3bba91['id']===editingId);if(!_0x2d1a27)return;const _0x49304c=_0x2d1a27['status']===_0x483efd(0x2f7)?'planned':_0x483efd(0x2f7);_0x2d1a27[_0x483efd(0x2b7)]=_0x49304c,saveSingleSession(_0x2d1a27),_0x49304c===_0x483efd(0x2f7)&&NotificationManager[_0x483efd(0x29e)](_0x483efd(0x2c6),_0x2d1a27),showToast(_0x49304c===_0x483efd(0x2f7)?_0x483efd(0x2dc):_0x483efd(0x248),!![]);}function validateAppointment(_0x116504,_0x1aba5c,_0x4e0bc0,_0x2497f0,_0x306886){const _0x28ce98=a2_0x594b7a,[_0x1468a4,_0x41192c]=_0x1aba5c[_0x28ce98(0x1f4)](':')['map'](Number),[_0x49e43a,_0x8597e9]=_0x4e0bc0['split'](':')[_0x28ce98(0x1af)](Number),_0x1a0aac=_0x1468a4*0x3c+_0x41192c,_0x20194f=_0x49e43a*0x3c+_0x8597e9,_0x31fa9e=String(_0x306886);let _0x53d617=![],_0x5b6a17='';for(let _0x2cdd1c of sessions){if(_0x2cdd1c[_0x28ce98(0x1fe)]!==_0x116504)continue;if(_0x2cdd1c[_0x28ce98(0x2b7)]==='cancelled')continue;if(_0x2497f0&&String(_0x2cdd1c['id'])===String(_0x2497f0))continue;const [_0x4e00f5,_0x464ff1]=_0x2cdd1c[_0x28ce98(0x1a2)][_0x28ce98(0x1f4)](':')[_0x28ce98(0x1af)](Number),[_0x40ea99,_0x368ce3]=_0x2cdd1c[_0x28ce98(0x22b)][_0x28ce98(0x1f4)](':')[_0x28ce98(0x1af)](Number),_0x12d4be=_0x4e00f5*0x3c+_0x464ff1,_0x4b43a0=_0x40ea99*0x3c+_0x368ce3;if(Math['max'](_0x1a0aac,_0x12d4be)<Math[_0x28ce98(0x2b8)](_0x20194f,_0x4b43a0)){if(_0x2cdd1c[_0x28ce98(0x273)]&&String(_0x2cdd1c[_0x28ce98(0x273)])===_0x31fa9e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x2cdd1c[_0x28ce98(0x21c)]+_0x28ce98(0x226)};_0x53d617=!![],_0x5b6a17=_0x2cdd1c['client'];}}if(_0x53d617)return{'valid':!![],'warning':_0x28ce98(0x2ee)+_0x5b6a17};return{'valid':!![]};}function saveSingleSession(_0x2752ae){const _0x329b98=a2_0x594b7a;if(editingId){const _0x1198ea=sessions['findIndex'](_0x8d8865=>_0x8d8865['id']===editingId);if(_0x1198ea!==-0x1)sessions[_0x1198ea]=_0x2752ae;}else sessions['push'](_0x2752ae);afterSaveAction([_0x2752ae[_0x329b98(0x1fe)]]);}function createBatchSeries(_0x1f3b6c,_0x41f9e3,_0xaf1a16){const _0x141c73=a2_0x594b7a,_0x163ce4=generateId(),_0x3d24bc=[],_0x3fe749=[];let _0x2a28a3=0x0,_0x4c8e1e=new Date(_0x41f9e3);for(let _0x1c5c37=0x0;_0x1c5c37<_0xaf1a16;_0x1c5c37++){const _0x3b37b9=getLocalDateStr(_0x4c8e1e),_0x2436e5=validateAppointment(_0x3b37b9,_0x1f3b6c['start'],_0x1f3b6c[_0x141c73(0x22b)],null,_0x1f3b6c[_0x141c73(0x273)]);if(!_0x2436e5[_0x141c73(0x1be)])console[_0x141c73(0x23b)]('[Series]\x20Skipped\x20'+_0x3b37b9+':\x20Client\x20already\x20booked'),_0x2a28a3++;else{const _0x78efc6={..._0x1f3b6c,'id':generateId(),'dateStr':_0x3b37b9,'seriesId':_0x163ce4};_0x3fe749[_0x141c73(0x2e9)](_0x78efc6),_0x3d24bc[_0x141c73(0x2e9)](_0x3b37b9);}_0x4c8e1e['setDate'](_0x4c8e1e[_0x141c73(0x239)]()+0x7);}if(_0x3fe749[_0x141c73(0x2f0)]===0x0){showToast(_0x141c73(0x2c2),![]);return;}sessions[_0x141c73(0x2e9)](..._0x3fe749),lastUserActionTime=Date[_0x141c73(0x1f7)]();let _0x48e9a5=_0x141c73(0x19f)+_0x3fe749['length'];_0x2a28a3>0x0&&(_0x48e9a5+=_0x141c73(0x2de)+_0x2a28a3+')'),showToast(_0x48e9a5,!![]),afterSaveAction(_0x3d24bc);}function updateSeriesBatch(_0x51fe05,_0x4f6f97){const _0x123366=a2_0x594b7a,_0x30c1cb=[],_0x5d23c9=_0x4f6f97['seriesId'];if(_0x51fe05===_0x123366(0x1e0)){const _0x4ccc39={..._0x4f6f97,'seriesId':null},_0x5c0c1b=sessions[_0x123366(0x296)](_0x512873=>_0x512873['id']===_0x4f6f97['id']);if(_0x5c0c1b!==-0x1)sessions[_0x5c0c1b]=_0x4ccc39;_0x30c1cb[_0x123366(0x2e9)](_0x4ccc39[_0x123366(0x1fe)]);}else{if(_0x51fe05===_0x123366(0x21b)){const _0x53f41f=_0x4f6f97[_0x123366(0x1fe)];sessions[_0x123366(0x282)]((_0x3f39a7,_0x13234b)=>{const _0x31911d=_0x123366;_0x3f39a7[_0x31911d(0x19a)]===_0x5d23c9&&_0x3f39a7[_0x31911d(0x1fe)]>=_0x53f41f&&(sessions[_0x13234b]={...sessions[_0x13234b],'start':_0x4f6f97['start'],'end':_0x4f6f97[_0x31911d(0x22b)],'note':_0x4f6f97[_0x31911d(0x219)],'client':_0x4f6f97['client'],'clientId':_0x4f6f97[_0x31911d(0x273)]},_0x30c1cb[_0x31911d(0x2e9)](_0x3f39a7[_0x31911d(0x1fe)]));});}}afterSaveAction(_0x30c1cb);}function tryDeleteSession(){const _0x23a2de=a2_0x594b7a,_0x49a9fb=sessions[_0x23a2de(0x1ce)](_0x41ce80=>_0x41ce80['id']===editingId);if(!_0x49a9fb)return;_0x49a9fb[_0x23a2de(0x19a)]?openActionSheet(_0x23a2de(0x279)):commitDelete(_0x23a2de(0x1e0),_0x49a9fb);}function commitDelete(_0x5e31ea,_0x1c5c64){const _0x209224=a2_0x594b7a;lastUserActionTime=Date[_0x209224(0x1f7)](),NotificationManager[_0x209224(0x29e)](_0x209224(0x2f6),_0x1c5c64);const _0x40bb15=[];if(_0x5e31ea===_0x209224(0x1e0))sessions=sessions['filter'](_0x5ae3b4=>_0x5ae3b4['id']!==_0x1c5c64['id']),_0x40bb15['push'](_0x1c5c64[_0x209224(0x1fe)]);else{if(_0x5e31ea===_0x209224(0x21b)){const _0xa89c08=_0x1c5c64[_0x209224(0x1fe)],_0x3813da=_0x1c5c64['seriesId'];sessions[_0x209224(0x282)](_0x1e43e7=>{const _0x279499=_0x209224;_0x1e43e7[_0x279499(0x19a)]===_0x3813da&&_0x1e43e7[_0x279499(0x1fe)]>=_0xa89c08&&_0x40bb15[_0x279499(0x2e9)](_0x1e43e7[_0x279499(0x1fe)]);}),sessions=sessions[_0x209224(0x2b0)](_0x4dab56=>!(_0x4dab56['seriesId']===_0x3813da&&_0x4dab56['dateStr']>=_0xa89c08));}}afterSaveAction(_0x40bb15);}function afterSaveAction(_0x5068c8){const _0x3be7d1=a2_0x594b7a;DataManager[_0x3be7d1(0x208)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3be7d1(0x20b)](_0x5068c8)[_0x3be7d1(0x2a3)](()=>console['log'](_0x3be7d1(0x214)))[_0x3be7d1(0x2bd)](_0x3ed5e9=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x5c006e){const _0x109ea1=a2_0x594b7a,_0x4e9999=new Date(_0x5c006e),_0x30913d={'weekday':'long','day':_0x109ea1(0x25b),'month':_0x109ea1(0x2d3)};let _0x259edf=_0x4e9999[_0x109ea1(0x18e)](_0x109ea1(0x1b4),_0x30913d);return _0x259edf[_0x109ea1(0x2e4)](0x0)[_0x109ea1(0x24c)]()+_0x259edf[_0x109ea1(0x288)](0x1);},'getText'(_0x44060b,_0x79e4f9){const _0xcab633=a2_0x594b7a,_0x50e92f=this['formatDate'](_0x79e4f9[_0xcab633(0x1fe)]);switch(_0x44060b){case _0xcab633(0x1ab):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0xcab633(0x270)+_0x50e92f+'\x0a')+(_0xcab633(0x2b2)+_0x79e4f9[_0xcab633(0x1a2)]+_0xcab633(0x246)+_0x79e4f9['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0xcab633(0x1c3)+_0xcab633(0x23e)+(_0xcab633(0x1e6)+_0x79e4f9[_0xcab633(0x1a2)]+_0xcab633(0x246)+_0x79e4f9[_0xcab633(0x22b)]+'</b>\x0a\x0a')+(_0xcab633(0x270)+_0x50e92f);case _0xcab633(0x2f6):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x50e92f+'\x20('+_0x79e4f9[_0xcab633(0x1a2)]+_0xcab633(0x300));case _0xcab633(0x2c6):return _0xcab633(0x2bc)+_0xcab633(0x233)+_0xcab633(0x25c);default:return'';}},async 'send'(_0x3cb55b,_0x15ee8d){const _0x5d361b=a2_0x594b7a;console[_0x5d361b(0x23b)](_0x5d361b(0x1f3),_0x3cb55b,_0x15ee8d);if(!_0x15ee8d){console['error'](_0x5d361b(0x275));return;}const _0x503546=String(_0x15ee8d[_0x5d361b(0x273)]);console[_0x5d361b(0x23b)]('[Notify]\x20Detected\x20Client\x20ID:',_0x503546);if(!_0x15ee8d['clientId']||_0x503546===_0x5d361b(0x2fc)||_0x503546===_0x5d361b(0x231)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x15ee8d[_0x5d361b(0x21c)]){const _0x8cbe69=clients[_0x5d361b(0x1ce)](_0x3a6ba6=>_0x3a6ba6[_0x5d361b(0x1c0)]===_0x15ee8d[_0x5d361b(0x21c)]);if(_0x8cbe69)return console['log'](_0x5d361b(0x28c),_0x8cbe69['id']),this[_0x5d361b(0x29e)](_0x3cb55b,{..._0x15ee8d,'clientId':_0x8cbe69['id']});}return;}if(_0x503546['length']<0x5){console[_0x5d361b(0x267)](_0x5d361b(0x2e6),_0x503546);return;}const _0x3962ea=this['getText'](_0x3cb55b,_0x15ee8d);if(!_0x3962ea){console[_0x5d361b(0x1eb)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x5d361b(0x23b)](_0x5d361b(0x202)+_0x503546+'...'),DataManager[_0x5d361b(0x2c5)](_0x5d361b(0x1d0),{'chatId':_0x503546,'text':_0x3962ea})[_0x5d361b(0x2a3)](_0x5b3edd=>console['log'](_0x5d361b(0x2a4),_0x5b3edd))[_0x5d361b(0x2bd)](_0x5eaf2c=>console[_0x5d361b(0x1eb)]('[Notify]\x20Network\x20Failed',_0x5eaf2c));}};function getLocalDateStr(_0x3bd2aa){const _0x4b9bdb=a2_0x594b7a,_0x450d27=_0x3bd2aa[_0x4b9bdb(0x290)](),_0x4e76b1=String(_0x3bd2aa[_0x4b9bdb(0x284)]()+0x1)[_0x4b9bdb(0x27d)](0x2,'0'),_0x10759a=String(_0x3bd2aa[_0x4b9bdb(0x239)]())[_0x4b9bdb(0x27d)](0x2,'0');return _0x450d27+'-'+_0x4e76b1+'-'+_0x10759a;}function getDateStr(_0x4f17d1){const _0x55a8b8=a2_0x594b7a,_0x1d890f=new Date();return _0x1d890f[_0x55a8b8(0x2f1)](_0x1d890f['getDate']()+_0x4f17d1),getLocalDateStr(_0x1d890f);}function getStartOfWeek(_0x156c9b){const _0x2c5fcf=a2_0x594b7a,_0xd14b5c=new Date(_0x156c9b),_0x381aa3=_0xd14b5c[_0x2c5fcf(0x1d3)](),_0x852c07=_0xd14b5c[_0x2c5fcf(0x239)]()-_0x381aa3+(_0x381aa3===0x0?-0x6:0x1);return _0xd14b5c['setDate'](_0x852c07),_0xd14b5c[_0x2c5fcf(0x210)](0x0,0x0,0x0,0x0),_0xd14b5c;}function hexToRgba(_0x582d92,_0x26e39e){const _0xfe0836=a2_0x594b7a;if(!_0x582d92)return _0xfe0836(0x209);let _0x1a2e47=0x0,_0x53704d=0x0,_0x4f0f94=0x0;if(_0x582d92['length']===0x4)_0x1a2e47='0x'+_0x582d92[0x1]+_0x582d92[0x1],_0x53704d='0x'+_0x582d92[0x2]+_0x582d92[0x2],_0x4f0f94='0x'+_0x582d92[0x3]+_0x582d92[0x3];else _0x582d92[_0xfe0836(0x2f0)]===0x7&&(_0x1a2e47='0x'+_0x582d92[0x1]+_0x582d92[0x2],_0x53704d='0x'+_0x582d92[0x3]+_0x582d92[0x4],_0x4f0f94='0x'+_0x582d92[0x5]+_0x582d92[0x6]);return _0xfe0836(0x29f)+ +_0x1a2e47+',\x20'+ +_0x53704d+',\x20'+ +_0x4f0f94+',\x20'+_0x26e39e+')';}function renderTimeColumn(){const _0x20ed3d=a2_0x594b7a,_0x59d39a=document[_0x20ed3d(0x2b4)](_0x20ed3d(0x292)),_0x1d97c0=document[_0x20ed3d(0x2b4)](_0x20ed3d(0x223));_0x59d39a[_0x20ed3d(0x2dd)]='',_0x59d39a[_0x20ed3d(0x1a5)](_0x1d97c0);for(let _0x2cbb3a=0x0;_0x2cbb3a<0x18;_0x2cbb3a++){const _0x3f5a69=document[_0x20ed3d(0x206)](_0x20ed3d(0x212));_0x3f5a69[_0x20ed3d(0x22c)]='time-label';if(_0x2cbb3a>0x0)_0x3f5a69['innerHTML']='<span>'+String(_0x2cbb3a)[_0x20ed3d(0x27d)](0x2,'0')+_0x20ed3d(0x250);_0x59d39a[_0x20ed3d(0x1a5)](_0x3f5a69);}}function renderDayRange(_0x5c077e,_0x25f732){const _0x3ba706=a2_0x594b7a,_0x180046=document[_0x3ba706(0x2b4)](_0x3ba706(0x25e)),_0x26ee1a=document[_0x3ba706(0x2b4)](_0x3ba706(0x21d)),_0x2f4dc4=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5957ef=new Date();_0x5957ef[_0x3ba706(0x210)](0x0,0x0,0x0,0x0);const _0x519610=getLocalDateStr(new Date());for(let _0x192a7d=_0x5c077e;_0x192a7d<=_0x25f732;_0x192a7d++){const _0x353166=new Date(_0x5957ef);_0x353166[_0x3ba706(0x2f1)](_0x353166[_0x3ba706(0x239)]()+_0x192a7d);const _0x449771=getLocalDateStr(_0x353166);let _0x1e6888=_0x353166[_0x3ba706(0x1d3)]()-0x1;if(_0x1e6888===-0x1)_0x1e6888=0x6;const _0x42e4bb=_0x449771===_0x519610,_0x4bd490=document[_0x3ba706(0x206)](_0x3ba706(0x212));_0x4bd490['className']='day-col-header\x20'+(_0x42e4bb?_0x3ba706(0x27c):''),_0x4bd490['id']=_0x3ba706(0x266)+_0x449771,_0x4bd490[_0x3ba706(0x2c7)](_0x3ba706(0x29d),_0x449771),_0x4bd490['innerHTML']=_0x3ba706(0x295)+_0x2f4dc4[_0x1e6888]+_0x3ba706(0x2ae)+_0x353166['getDate']()+_0x3ba706(0x2ef)+_0x449771+_0x3ba706(0x198),_0x4bd490['onclick']=()=>openDayOptions(_0x449771,_0x2f4dc4[_0x1e6888]+'\x20'+_0x353166[_0x3ba706(0x239)]()),_0x180046[_0x3ba706(0x1a5)](_0x4bd490);const _0x5dba28=document['createElement'](_0x3ba706(0x212));_0x5dba28[_0x3ba706(0x22c)]=_0x3ba706(0x28d)+(_0x42e4bb?_0x3ba706(0x27c):''),_0x5dba28[_0x3ba706(0x2c7)](_0x3ba706(0x29d),_0x449771),_0x5dba28[_0x3ba706(0x2c7)](_0x3ba706(0x2a6),_0x1e6888),renderEventsForColumn(_0x5dba28,_0x449771,_0x1e6888),attachLongPressHandler(_0x5dba28,_0x353166),_0x26ee1a['appendChild'](_0x5dba28),updateDayStats(_0x449771);}}function reRenderBlocks(){const _0x318820=a2_0x594b7a;document[_0x318820(0x274)](_0x318820(0x28f))[_0x318820(0x282)](_0x200f4a=>{const _0x11384d=_0x318820;_0x200f4a['querySelectorAll'](_0x11384d(0x236))[_0x11384d(0x282)](_0x98a587=>_0x98a587[_0x11384d(0x287)]());const _0x45fba7=_0x200f4a[_0x11384d(0x18f)](_0x11384d(0x29d)),_0x301720=parseInt(_0x200f4a[_0x11384d(0x18f)](_0x11384d(0x2a6))),_0x2a3a89=Math['round'](_0x200f4a[_0x11384d(0x1ae)]);(availabilityPattern[_0x301720]||[])[_0x11384d(0x282)](_0x50f37b=>{const _0x21c9d9=_0x11384d,_0x1bf0b7=document[_0x21c9d9(0x206)]('div');_0x1bf0b7[_0x21c9d9(0x22c)]=_0x21c9d9(0x2c3);const _0x3326e1=_0x50f37b*GRID_H;_0x1bf0b7[_0x21c9d9(0x2ff)]['top']=_0x3326e1+'px',_0x1bf0b7[_0x21c9d9(0x2ff)][_0x21c9d9(0x254)]='-'+_0x2a3a89+_0x21c9d9(0x1e9)+_0x3326e1+'px',_0x200f4a[_0x21c9d9(0x1a5)](_0x1bf0b7);});if(specialRanges&&specialRanges[_0x11384d(0x2f0)]>0x0){const _0x5c2333=new Date(_0x45fba7+_0x11384d(0x26c))['getTime'](),_0x348b52=new Date(_0x45fba7+_0x11384d(0x1d5))[_0x11384d(0x2ba)]();specialRanges[_0x11384d(0x282)](_0xdbf76a=>{const _0x502771=_0x11384d,_0x199b60=new Date(_0xdbf76a[_0x502771(0x1a2)])[_0x502771(0x2ba)](),_0x29f7c7=new Date(_0xdbf76a[_0x502771(0x22b)])['getTime'](),_0xf8a294=Math[_0x502771(0x1ad)](_0x5c2333,_0x199b60),_0x410054=Math[_0x502771(0x2b8)](_0x348b52,_0x29f7c7);if(_0xf8a294<_0x410054){if(_0xf8a294<=_0x5c2333&&_0x410054>=_0x348b52-0xea60){if(!_0x200f4a[_0x502771(0x2f8)]('.day-off-overlay')){const _0x8b37f9=document[_0x502771(0x206)]('div');_0x8b37f9[_0x502771(0x22c)]=_0x502771(0x29a),_0x8b37f9[_0x502771(0x2ff)][_0x502771(0x254)]='-'+_0x2a3a89+_0x502771(0x240),_0x200f4a[_0x502771(0x1a5)](_0x8b37f9);}}else{const _0xe3ec55=(_0xf8a294-_0x5c2333)/0x36ee80*GRID_H,_0x5ebc7a=(_0x410054-_0xf8a294)/0x36ee80*GRID_H,_0x5bdbe6=document[_0x502771(0x206)](_0x502771(0x212));_0x5bdbe6[_0x502771(0x22c)]='blocked-range-part\x20stripe-bg',_0x5bdbe6['style']['top']=_0xe3ec55+'px',_0x5bdbe6[_0x502771(0x2ff)][_0x502771(0x217)]=_0x5ebc7a+'px',_0x5bdbe6[_0x502771(0x2ff)][_0x502771(0x254)]='-'+_0x2a3a89+'px\x20-'+_0xe3ec55+'px',_0x200f4a[_0x502771(0x1a5)](_0x5bdbe6);}}});}if(dateExceptions[_0x45fba7]===_0x11384d(0x221)){if(!_0x200f4a[_0x11384d(0x2f8)](_0x11384d(0x2ea))){const _0x9c5ceb=document[_0x11384d(0x206)](_0x11384d(0x212));_0x9c5ceb[_0x11384d(0x22c)]=_0x11384d(0x29a),_0x9c5ceb[_0x11384d(0x2ff)][_0x11384d(0x254)]='-'+_0x2a3a89+_0x11384d(0x240),_0x200f4a[_0x11384d(0x1a5)](_0x9c5ceb);}}renderEventsForColumn(_0x200f4a,_0x45fba7,_0x301720),updateDayStats(_0x45fba7);});}function updateAllDayStats(){const _0x5817b9=a2_0x594b7a;document['querySelectorAll'](_0x5817b9(0x228))['forEach'](_0x1b30c9=>{const _0x532235=_0x5817b9;updateDayStats(_0x1b30c9[_0x532235(0x18f)](_0x532235(0x29d)));});}function updateDayStats(_0x3efb31){const _0x452511=a2_0x594b7a,_0x18e776=document[_0x452511(0x2b4)](_0x452511(0x218)+_0x3efb31);if(!_0x18e776)return;const _0x4df4eb=new Date(_0x3efb31);let _0x1c0d06=_0x4df4eb[_0x452511(0x1d3)]()-0x1;if(_0x1c0d06===-0x1)_0x1c0d06=0x6;if(dateExceptions[_0x3efb31]===_0x452511(0x221)){_0x18e776[_0x452511(0x2ff)]['display']=_0x452511(0x26a);return;}const _0x2d9e9d=availabilityPattern[_0x1c0d06]||[],_0x5ca3ab=0x18-_0x2d9e9d[_0x452511(0x2f0)],_0x12b273=_0x5ca3ab*0x3c,_0x4b39b8=sessions[_0x452511(0x2b0)](_0x5f1e66=>_0x5f1e66[_0x452511(0x1fe)]===_0x3efb31&&_0x5f1e66['status']!==_0x452511(0x1b3));if(_0x4b39b8[_0x452511(0x2f0)]===0x0){_0x18e776['style'][_0x452511(0x1c6)]=_0x452511(0x26a);return;}let _0x4fc674=_0x4b39b8[_0x452511(0x1af)](_0x46a1a8=>{const _0x15ae1c=_0x452511,[_0x345dd5,_0x116be6]=_0x46a1a8[_0x15ae1c(0x1a2)][_0x15ae1c(0x1f4)](':')[_0x15ae1c(0x1af)](Number),[_0xe3a060,_0x55b393]=_0x46a1a8[_0x15ae1c(0x22b)]['split'](':')[_0x15ae1c(0x1af)](Number);return[_0x345dd5*0x3c+_0x116be6,_0xe3a060*0x3c+_0x55b393];});_0x4fc674[_0x452511(0x1cc)]((_0x32da47,_0x2a607b)=>_0x32da47[0x0]-_0x2a607b[0x0]);let _0x311bf8=[];if(_0x4fc674[_0x452511(0x2f0)]>0x0){let _0x19fad5=_0x4fc674[0x0];for(let _0x3992c3=0x1;_0x3992c3<_0x4fc674[_0x452511(0x2f0)];_0x3992c3++){_0x4fc674[_0x3992c3][0x0]<_0x19fad5[0x1]?_0x19fad5[0x1]=Math[_0x452511(0x1ad)](_0x19fad5[0x1],_0x4fc674[_0x3992c3][0x1]):(_0x311bf8['push'](_0x19fad5),_0x19fad5=_0x4fc674[_0x3992c3]);}_0x311bf8[_0x452511(0x2e9)](_0x19fad5);}let _0x47e128=0x0;_0x311bf8[_0x452511(0x282)](_0x4de4f6=>_0x47e128+=_0x4de4f6[0x1]-_0x4de4f6[0x0]),_0x18e776[_0x452511(0x2ff)][_0x452511(0x1c6)]=_0x452511(0x22d);const _0x3e4e3b=_0x18e776[_0x452511(0x2f8)](_0x452511(0x252));if(_0x12b273===0x0){_0x3e4e3b['style'][_0x452511(0x1e4)]=_0x452511(0x234),_0x3e4e3b[_0x452511(0x2ff)][_0x452511(0x1ea)]=_0x452511(0x1fb);return;}const _0x4d39e8=_0x47e128/_0x12b273*0x64;console['log']('['+_0x3efb31+_0x452511(0x1b9)+_0x5ca3ab+_0x452511(0x2a9)+_0x47e128+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x4d39e8[_0x452511(0x205)](0x1)+'%'),_0x4d39e8>0x64?(_0x3e4e3b['style'][_0x452511(0x1e4)]=_0x452511(0x234),_0x3e4e3b[_0x452511(0x2ff)][_0x452511(0x1ea)]=_0x452511(0x1fb)):(_0x3e4e3b[_0x452511(0x2ff)][_0x452511(0x1e4)]=_0x4d39e8+'%',_0x3e4e3b[_0x452511(0x2ff)]['background']=_0x452511(0x204));}function renderEventsForColumn(_0x23e691,_0x492899,_0x219e74){const _0x18a4c6=a2_0x594b7a,_0x77bc13=sessions[_0x18a4c6(0x2b0)](_0x4d5c7a=>_0x4d5c7a[_0x18a4c6(0x1fe)]===_0x492899),_0x2c6b3c=_0x77bc13['map'](_0x237fa4=>{const _0x243255=_0x18a4c6,[_0x42622a,_0x2525cb]=_0x237fa4[_0x243255(0x1a2)]['split'](':')['map'](Number),[_0x19753b,_0x5216d5]=_0x237fa4['end']['split'](':')[_0x243255(0x1af)](Number);return{'data':_0x237fa4,'start':_0x42622a*0x3c+_0x2525cb,'end':_0x19753b*0x3c+_0x5216d5,'colIndex':0x0};});_0x2c6b3c[_0x18a4c6(0x1cc)]((_0x259ad9,_0x18217d)=>{const _0xd61cd2=_0x18a4c6;if(_0x259ad9[_0xd61cd2(0x1a2)]!==_0x18217d['start'])return _0x259ad9[_0xd61cd2(0x1a2)]-_0x18217d[_0xd61cd2(0x1a2)];return _0x18217d[_0xd61cd2(0x22b)]-_0x18217d[_0xd61cd2(0x1a2)]-(_0x259ad9['end']-_0x259ad9[_0xd61cd2(0x1a2)]);});const _0x18a2ff=[];_0x2c6b3c[_0x18a4c6(0x282)](_0x508d1a=>{const _0x4d8624=_0x18a4c6;let _0x3856ad=![];for(let _0x17f079=0x0;_0x17f079<_0x18a2ff[_0x4d8624(0x2f0)];_0x17f079++){const _0x409f1e=_0x18a2ff[_0x17f079],_0x545647=_0x409f1e[_0x409f1e['length']-0x1];if(_0x508d1a[_0x4d8624(0x1a2)]>=_0x545647['end']){_0x409f1e[_0x4d8624(0x2e9)](_0x508d1a),_0x508d1a['colIndex']=_0x17f079,_0x3856ad=!![];break;}}!_0x3856ad&&(_0x18a2ff[_0x4d8624(0x2e9)]([_0x508d1a]),_0x508d1a[_0x4d8624(0x2cb)]=_0x18a2ff[_0x4d8624(0x2f0)]-0x1);}),_0x2c6b3c[_0x18a4c6(0x282)](_0x3d2260=>{const _0xfd6793=_0x18a4c6;let _0x21b410=0x0;_0x2c6b3c[_0xfd6793(0x282)](_0x1686ec=>{const _0x5f4266=_0xfd6793;if(Math[_0x5f4266(0x1ad)](_0x3d2260[_0x5f4266(0x1a2)],_0x1686ec[_0x5f4266(0x1a2)])<Math['min'](_0x3d2260[_0x5f4266(0x22b)],_0x1686ec['end'])){if(_0x1686ec[_0x5f4266(0x2cb)]>_0x21b410)_0x21b410=_0x1686ec[_0x5f4266(0x2cb)];}});const _0x43f861=_0x21b410+0x1,_0x46bce6=0x64/_0x43f861,_0x387200=_0x3d2260[_0xfd6793(0x2cb)]*_0x46bce6,_0x351713=createEventEl(_0x3d2260[_0xfd6793(0x2d1)]);_0x351713['style'][_0xfd6793(0x1e4)]=_0xfd6793(0x2f2)+_0x46bce6+_0xfd6793(0x1e2),_0x351713[_0xfd6793(0x2ff)][_0xfd6793(0x1a1)]=_0xfd6793(0x2f2)+_0x387200+'%\x20+\x202px)',_0x351713['style']['zIndex']=0xa+_0x3d2260[_0xfd6793(0x2cb)],_0x46bce6<0x55&&_0x351713['classList'][_0xfd6793(0x2c9)]('mini'),_0x23e691[_0xfd6793(0x1a5)](_0x351713);});}function createEventEl(_0x1d5ab7){const _0x5eacc8=a2_0x594b7a,[_0x4ea333,_0x188994]=_0x1d5ab7[_0x5eacc8(0x1a2)][_0x5eacc8(0x1f4)](':')[_0x5eacc8(0x1af)](Number),[_0x1a95d8,_0x17fa99]=_0x1d5ab7[_0x5eacc8(0x22b)][_0x5eacc8(0x1f4)](':')[_0x5eacc8(0x1af)](Number),_0x32644d=(_0x4ea333*0x3c+_0x188994)/0x3c*GRID_H,_0x417d0d=(_0x1a95d8*0x3c+_0x17fa99-(_0x4ea333*0x3c+_0x188994))/0x3c*GRID_H,_0x332a83=document['createElement'](_0x5eacc8(0x212)),_0x3fbbe1=_0x1d5ab7[_0x5eacc8(0x2b7)]==='completed'?'\x20status-completed':'';_0x332a83[_0x5eacc8(0x22c)]=_0x5eacc8(0x222)+_0x3fbbe1,_0x332a83['style']['top']=_0x32644d+'px',_0x332a83[_0x5eacc8(0x2ff)][_0x5eacc8(0x217)]=Math[_0x5eacc8(0x1ad)](_0x417d0d,0x14)+'px';const _0x2b95b7=clients['find'](_0x5f4255=>_0x1d5ab7[_0x5eacc8(0x273)]&&String(_0x5f4255['id'])===String(_0x1d5ab7['clientId'])||_0x5f4255['name']===_0x1d5ab7[_0x5eacc8(0x21c)]),_0x26174b=_0x2b95b7?_0x2b95b7[_0x5eacc8(0x225)]:_0x5eacc8(0x263);_0x332a83[_0x5eacc8(0x2ff)][_0x5eacc8(0x22f)]=_0x26174b,_0x332a83[_0x5eacc8(0x2ff)][_0x5eacc8(0x302)]=hexToRgba(_0x26174b,0.85);let _0x31bf04=_0x5eacc8(0x293)+_0x1d5ab7[_0x5eacc8(0x21c)]+_0x5eacc8(0x220)+_0x1d5ab7['start']+_0x5eacc8(0x291)+_0x1d5ab7['end']+_0x5eacc8(0x1bc);return _0x1d5ab7[_0x5eacc8(0x19a)]&&(_0x31bf04+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x1d5ab7['status']===_0x5eacc8(0x2f7)&&(_0x31bf04+=_0x5eacc8(0x251)),_0x332a83['innerHTML']=_0x31bf04,_0x332a83[_0x5eacc8(0x2f3)]=_0x2e3b87=>{_0x2e3b87['stopPropagation'](),openEdit(_0x1d5ab7);},_0x332a83;}function attachLongPressHandler(_0x5f2ac3,_0x5f4770){const _0x29e9db=a2_0x594b7a;let _0x53c1fc=0x0,_0x43b2f7=null;const _0x43c317=_0x2fc748=>{const _0x4bd339=a2_0x8bf7;if(_0x2fc748[_0x4bd339(0x1a0)][_0x4bd339(0x1f2)](_0x4bd339(0x241)))return;isScrolling=![],_0x53c1fc=_0x2fc748[_0x4bd339(0x2fa)]?_0x2fc748[_0x4bd339(0x2fa)][0x0]['clientY']:_0x2fc748[_0x4bd339(0x25f)],_0x43b2f7=setTimeout(()=>{const _0x1943b9=_0x4bd339;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x4a5e8e=_0x5f2ac3[_0x1943b9(0x232)](),_0x1e6f17=Math['floor']((_0x53c1fc-_0x4a5e8e[_0x1943b9(0x2fb)])/GRID_H);_0x5f4770[_0x1943b9(0x210)](_0x1e6f17,0x0),openAddSession(_0x5f4770);}},0x1f4);},_0x3aaa56=()=>{isScrolling=!![],clearTimeout(_0x43b2f7);},_0x23782a=()=>{clearTimeout(_0x43b2f7);};_0x5f2ac3[_0x29e9db(0x303)](_0x29e9db(0x257),_0x43c317,{'passive':!![]}),_0x5f2ac3[_0x29e9db(0x303)](_0x29e9db(0x19d),_0x3aaa56,{'passive':!![]}),_0x5f2ac3[_0x29e9db(0x303)](_0x29e9db(0x1b0),_0x23782a),_0x5f2ac3[_0x29e9db(0x303)]('mousedown',_0x43c317),_0x5f2ac3['addEventListener'](_0x29e9db(0x259),_0x3aaa56),_0x5f2ac3[_0x29e9db(0x303)](_0x29e9db(0x272),_0x23782a);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1cf50d=a2_0x594b7a,_0x4ee8e9=document[_0x1cf50d(0x2b4)](_0x1cf50d(0x1b5)),_0x216384=_0x4ee8e9[_0x1cf50d(0x2f5)],_0x4de2ec=_0x4ee8e9[_0x1cf50d(0x1ee)],_0x13699f=_0x4ee8e9[_0x1cf50d(0x22a)];if(_0x4de2ec-(_0x216384+_0x13699f)<0x12c){const _0x2e5377=endOffset;endOffset+=0xe,renderDayRange(_0x2e5377+0x1,endOffset),reRenderBlocks();}if(_0x216384<0x12c){const _0x484627=startOffset;startOffset-=0xe,prependDays(startOffset,_0x484627-0x1),_0x4ee8e9['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x16bfbb,_0x10557a){const _0xf817fd=a2_0x594b7a,_0x57f08d=document[_0xf817fd(0x2b4)]('daysHeaderTrack'),_0x34678c=document['getElementById'](_0xf817fd(0x21d)),_0x1bbf1e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x43e9eb=new Date();_0x43e9eb[_0xf817fd(0x210)](0x0,0x0,0x0,0x0);const _0x4c8780=getLocalDateStr(new Date()),_0xd8ee8f=document['createDocumentFragment'](),_0x381888=document[_0xf817fd(0x2fe)]();for(let _0x136185=_0x16bfbb;_0x136185<=_0x10557a;_0x136185++){const _0x2a3b7f=new Date(_0x43e9eb);_0x2a3b7f[_0xf817fd(0x2f1)](_0x2a3b7f[_0xf817fd(0x239)]()+_0x136185);const _0x424cb1=getLocalDateStr(_0x2a3b7f);let _0x2b2c2e=_0x2a3b7f[_0xf817fd(0x1d3)]()-0x1;if(_0x2b2c2e===-0x1)_0x2b2c2e=0x6;const _0x7d28f4=_0x424cb1===_0x4c8780,_0x590812=document[_0xf817fd(0x206)](_0xf817fd(0x212));_0x590812[_0xf817fd(0x22c)]='day-col-header\x20'+(_0x7d28f4?_0xf817fd(0x27c):''),_0x590812['id']=_0xf817fd(0x266)+_0x424cb1,_0x590812['setAttribute'](_0xf817fd(0x29d),_0x424cb1),_0x590812[_0xf817fd(0x2dd)]=_0xf817fd(0x295)+_0x1bbf1e[_0x2b2c2e]+'</div><div\x20class=\x22dch-num\x22>'+_0x2a3b7f[_0xf817fd(0x239)]()+_0xf817fd(0x2ef)+_0x424cb1+_0xf817fd(0x198),_0x590812[_0xf817fd(0x2f3)]=()=>openDayOptions(_0x424cb1,_0x1bbf1e[_0x2b2c2e]+'\x20'+_0x2a3b7f['getDate']()),_0xd8ee8f['appendChild'](_0x590812);const _0x5bf57f=document[_0xf817fd(0x206)]('div');_0x5bf57f[_0xf817fd(0x22c)]='day-column\x20'+(_0x7d28f4?'today':''),_0x5bf57f[_0xf817fd(0x2c7)]('data-date',_0x424cb1),_0x5bf57f['setAttribute']('data-day-idx',_0x2b2c2e),renderEventsForColumn(_0x5bf57f,_0x424cb1,_0x2b2c2e),attachLongPressHandler(_0x5bf57f,_0x2a3b7f),_0x381888[_0xf817fd(0x1a5)](_0x5bf57f),updateDayStats(_0x424cb1);}_0x57f08d['insertBefore'](_0xd8ee8f,_0x57f08d[_0xf817fd(0x1f9)]),_0x34678c['insertBefore'](_0x381888,_0x34678c['querySelector'](_0xf817fd(0x1b2)));}function validateAppointment(_0x51039b,_0x358a85,_0x1f6244,_0x39358c,_0x2221aa){const _0x3a1fe8=a2_0x594b7a,[_0x779bc6,_0x4c087c]=_0x358a85[_0x3a1fe8(0x1f4)](':')[_0x3a1fe8(0x1af)](Number),[_0xdc8d98,_0x247b28]=_0x1f6244['split'](':')[_0x3a1fe8(0x1af)](Number),_0x55f02d=_0x779bc6*0x3c+_0x4c087c,_0x15431c=_0xdc8d98*0x3c+_0x247b28,_0x56c158=String(_0x2221aa);let _0x39f451=![],_0x51de80='';for(let _0x2f0397 of sessions){if(_0x2f0397['dateStr']!==_0x51039b)continue;if(_0x2f0397['status']===_0x3a1fe8(0x1b3))continue;if(_0x39358c&&String(_0x2f0397['id'])===String(_0x39358c))continue;const [_0x2373f5,_0x119ecd]=_0x2f0397[_0x3a1fe8(0x1a2)][_0x3a1fe8(0x1f4)](':')[_0x3a1fe8(0x1af)](Number),[_0x3fb3aa,_0x195fe4]=_0x2f0397[_0x3a1fe8(0x22b)][_0x3a1fe8(0x1f4)](':')['map'](Number),_0x546e75=_0x2373f5*0x3c+_0x119ecd,_0x18f585=_0x3fb3aa*0x3c+_0x195fe4;if(Math[_0x3a1fe8(0x1ad)](_0x55f02d,_0x546e75)<Math[_0x3a1fe8(0x2b8)](_0x15431c,_0x18f585)){if(_0x2f0397['clientId']&&String(_0x2f0397[_0x3a1fe8(0x273)])===_0x56c158)return{'valid':![],'msg':_0x3a1fe8(0x2d6)+_0x2f0397['client']+_0x3a1fe8(0x226)};_0x39f451=!![],_0x51de80=_0x2f0397[_0x3a1fe8(0x21c)];}}if(_0x39f451)return{'valid':!![],'warning':_0x3a1fe8(0x2ee)+_0x51de80};return{'valid':!![]};}function updateDateDisplay(){const _0xbe7f06=a2_0x594b7a,_0x4ac052=document[_0xbe7f06(0x2b4)](_0xbe7f06(0x2d0))[_0xbe7f06(0x1e8)],_0x1e908c=document[_0xbe7f06(0x2b4)](_0xbe7f06(0x1a4));if(!_0x4ac052){_0x1e908c['textContent']='';return;}const [_0x4a84da,_0x1047e7,_0x6c3b4b]=_0x4ac052[_0xbe7f06(0x1f4)]('-')[_0xbe7f06(0x1af)](Number),_0x5f2ca7=new Date(_0x4a84da,_0x1047e7-0x1,_0x6c3b4b),_0x271310={'weekday':_0xbe7f06(0x2d3),'day':'numeric','month':_0xbe7f06(0x2d3),'year':'numeric'};let _0x40481b=_0x5f2ca7['toLocaleDateString'](_0xbe7f06(0x1b4),_0x271310);_0x40481b=_0x40481b['charAt'](0x0)['toUpperCase']()+_0x40481b[_0xbe7f06(0x288)](0x1),_0x1e908c['textContent']=_0x40481b;}function autoSetEndTime(){const _0x4d8ea5=a2_0x594b7a,_0x6e9b0=document['getElementById'](_0x4d8ea5(0x27e))['value'];if(!_0x6e9b0)return;const [_0x2b058d,_0x436656]=_0x6e9b0[_0x4d8ea5(0x1f4)](':')[_0x4d8ea5(0x1af)](Number);let _0x429864=_0x2b058d+0x1;if(_0x429864>0x17)_0x429864=0x0;const _0x3d9f1d=String(_0x429864)['padStart'](0x2,'0')+':'+String(_0x436656)[_0x4d8ea5(0x27d)](0x2,'0');document[_0x4d8ea5(0x2b4)](_0x4d8ea5(0x261))[_0x4d8ea5(0x1e8)]=_0x3d9f1d;}function populateClientSelect(){const _0x3a91e4=a2_0x594b7a,_0x26d7c2=document[_0x3a91e4(0x2b4)](_0x3a91e4(0x235));_0x26d7c2[_0x3a91e4(0x2dd)]='';if(clients['length']===0x0){const _0x8f84ed=document[_0x3a91e4(0x206)](_0x3a91e4(0x2da));_0x8f84ed[_0x3a91e4(0x1ff)]=_0x3a91e4(0x297),_0x26d7c2[_0x3a91e4(0x1a5)](_0x8f84ed);return;}clients[_0x3a91e4(0x282)](_0x131545=>{const _0x420a8d=_0x3a91e4,_0x26c83c=document[_0x420a8d(0x206)](_0x420a8d(0x2da));_0x26c83c[_0x420a8d(0x1e8)]=_0x131545[_0x420a8d(0x1c0)],_0x26c83c[_0x420a8d(0x195)]=_0x131545[_0x420a8d(0x1c0)],_0x26d7c2[_0x420a8d(0x1a5)](_0x26c83c);});}function openActionSheet(_0x2d136c){const _0x246e5a=a2_0x594b7a,_0x176fcd=document[_0x246e5a(0x2b4)](_0x246e5a(0x197)),_0x3a835b=document['getElementById'](_0x246e5a(0x2db)),_0x23bbe0=document[_0x246e5a(0x2b4)](_0x246e5a(0x26b)),_0x52f6f4=document[_0x246e5a(0x2b4)](_0x246e5a(0x2b9)),_0x283c90=document[_0x246e5a(0x2b4)](_0x246e5a(0x2a0));_0x3a835b[_0x246e5a(0x1cb)][_0x246e5a(0x2c9)](_0x246e5a(0x23c)),_0x176fcd['classList'][_0x246e5a(0x2c9)](_0x246e5a(0x2e3));if(_0x2d136c===_0x246e5a(0x1ba))_0x23bbe0['textContent']=_0x246e5a(0x2ca),_0x52f6f4[_0x246e5a(0x195)]=_0x246e5a(0x1fc),_0x52f6f4[_0x246e5a(0x2f3)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x283c90[_0x246e5a(0x195)]=_0x246e5a(0x1f0),_0x283c90[_0x246e5a(0x2f3)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x2d136c===_0x246e5a(0x279)&&(_0x23bbe0['textContent']=_0x246e5a(0x244),_0x52f6f4[_0x246e5a(0x195)]=_0x246e5a(0x1fc),_0x52f6f4[_0x246e5a(0x22c)]='as-button\x20danger',_0x52f6f4[_0x246e5a(0x2f3)]=()=>{const _0x402725=_0x246e5a;closeActionSheet(),commitDelete(_0x402725(0x1e0),sessions['find'](_0x4f56f6=>_0x4f56f6['id']===editingId));},_0x283c90[_0x246e5a(0x195)]=_0x246e5a(0x1f0),_0x283c90[_0x246e5a(0x22c)]='as-button\x20danger\x20bold',_0x283c90[_0x246e5a(0x2f3)]=()=>{const _0x42bddd=_0x246e5a;closeActionSheet(),commitDelete(_0x42bddd(0x21b),sessions[_0x42bddd(0x1ce)](_0x411275=>_0x411275['id']===editingId));});}function closeActionSheet(){const _0x44ef57=a2_0x594b7a;document[_0x44ef57(0x2b4)](_0x44ef57(0x197))[_0x44ef57(0x1cb)][_0x44ef57(0x287)](_0x44ef57(0x2e3)),document[_0x44ef57(0x2b4)](_0x44ef57(0x2db))[_0x44ef57(0x1cb)][_0x44ef57(0x287)](_0x44ef57(0x23c));}function openSettings(){const _0x18454d=a2_0x594b7a;openSheet(_0x18454d(0x1c8));}function a2_0x2bf1(){const _0x351a38=['undefined','pe-time-label','createDocumentFragment','style',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','inpNote','backgroundColor','addEventListener','href','toLocaleDateString','getAttribute','custom','Unknown','sid','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','calendar','textContent','doWorkHours','actionSheet','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rgba(255,\x2069,\x2058,\x200.15)','seriesId','DOMContentLoaded','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','touchmove','disableVerticalSwipes','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','target','left','start','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','sheetDateSubtitle','appendChild','rgba(255,255,255,0.05)','offClick','de-item','entries','33jevOUT','create','Error\x20setting\x20back\x20button:','max','offsetLeft','map','touchend','patternInfoBox','.day-column','cancelled','ru-RU','matrixViewport','btnStatusToggle','–£—Å–ø–µ—à–Ω–æ','json',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','save','btn-primary\x20btn-secondary','</div>','anTotalStats','valid','...','name','</span>\x20/\x20','.pib-text','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','dayOptionsSheet','dayOptionsTitle','display','inpSeriesCount','settingsSheet','ready','Server\x20Error','classList','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','find','btn-status-toggle','send_notification','uc_sessions_v9','Error\x20setting\x20color:','getDay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','T23:59:59','scrollTop','offsetWidth','anEnd','[Sync]\x20Loading\x20','analyticsList','onClick','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','inpRecurring','getMinutes','single','rgba(255,\x2069,\x2058,\x200.3)','%\x20-\x204px)','total','width','text/plain;charset=UTF-8','<b>‚úÖ\x20','var(--acc-green)','value','px\x20-','background','error','peGrid','v9.0-BATCH-CALENDAR','scrollWidth','rangesSheet','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','btn-primary\x20btn-danger','closest','[Notify]\x20Attempting\x20to\x20send:','split','warning','anDonutCircle','now','[API\x20','firstChild','all','var(--acc-red)','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','00:00','dateStr','text','apply','pattern','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','patternEditor','var(--acc-current)','toFixed','createElement','overlay','saveLocally','rgba(100,100,100,0.5)','2047738BCasYf','syncBatch','init_load','includes','(((.+)+)+)+$','rangeStartTime','setHours','user','div','guest','Batch\x20Sync\x20OK','show','1051030ntcnuk','height','stat-','note','doLoadPercent','series','client','gridColumns','#050505','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','</div><div\x20class=\x22ev-time\x22>','off','event-card','timeLineBadge','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','color',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','.day-col-header','startsWith','clientWidth','end','className','flex','anPercent','borderLeftColor','borderColor','null','getBoundingClientRect','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','100%','inpClient','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','clients','exceptions','getDate','getHours','log','active','10px','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','ranges','px\x200px','.event-card','setItem','success','–£–¥–∞–ª–µ–Ω–∏–µ','uc_settings_cancel_window','\x20‚Äî\x20','expand','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','update','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setBackgroundColor','toUpperCase','8WzhHlz','round','.period-switch\x20.p-btn',':00</span>','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','.dch-stats-fill','BackButton','backgroundPosition','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','anStart','touchstart','setHeaderColor','mousemove','stopPropagation','numeric','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','deleted','daysHeaderTrack','clientY','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','inpEnd','router.html','#0a84ff','from','seriesCountContainer','header-','warn','sheetTitle','6100808LhVCOe','none','asTitle','T00:00:00','10px\x2010px\x200\x200','floor','settingCancelWindow','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','rangesList','mouseup','clientId','querySelectorAll','[Notify]\x20Error:\x20sessionData\x20is\x20null','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','WebApp','3824eWKjSt','delete','uc_settings_v9','settings','today','padStart','inpStart','recurringOptionContainer','random','parse','forEach','globalTimeLine','getMonth','checked','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','remove','slice','\x20days','rangeEndDate','block','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','day-column\x20','124324NAGObn','#gridColumns\x20.day-column','getFullYear','\x20-\x20','timeColumn','<div\x20class=\x22ev-title\x22>','location','<div\x20class=\x22dch-day\x22>','findIndex','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','client-stat-card','day-off-overlay\x20stripe-bg','Save\x20settings\x20error:','var(--acc-orange)','data-date','send','rgba(','asBtnSeries','.sheet','Telegram','then','[Notify]\x20Server\x20Response:','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','data-day-idx','1716792uuhIDF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','doBusyHours','msg','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','scroll','</div><div\x20class=\x22dch-num\x22>','stringify','filter','Local\x20Save\x20Error','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','toString','getElementById',':00','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','status','min','asBtnOne','getTime','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','catch','loadLocal','Local\x20Load\x20Error','toastTitle','cancel_window','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','blocked-slot\x20stripe-bg','save_settings','fetchFromServer','complete','setAttribute','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','add','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','colIndex','search','planned','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','getItem','inpDate','data','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','long','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','syncLoad','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–ò–Ω—Ñ–æ','5027040XzqYsd','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','option','actionSheetOverlay','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','innerHTML','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','done','anCustomDates','substr','constructor','open','charAt','week','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','borderRadius','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','push','.day-off-overlay','btnDelete','splice','sessionSheet','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','length','setDate','calc(','onclick','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','scrollLeft','cancel','completed','querySelector','initDataUnsafe','touches','top'];a2_0x2bf1=function(){return _0x351a38;};return a2_0x2bf1();}function saveCoachSettings(){const _0x3b3b71=a2_0x594b7a,_0x45a8a2=document['getElementById']('settingCancelWindow')[_0x3b3b71(0x1e8)];localStorage[_0x3b3b71(0x242)](_0x3b3b71(0x245),_0x45a8a2),console[_0x3b3b71(0x23b)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x45a8a2),DataManager[_0x3b3b71(0x2c5)](_0x3b3b71(0x2c4),{'settings':{'cancel_window':_0x45a8a2}})[_0x3b3b71(0x2bd)](_0x4e6bb8=>{const _0x1d1e74=_0x3b3b71;console[_0x1d1e74(0x1eb)](_0x1d1e74(0x29b),_0x4e6bb8),showToast(_0x1d1e74(0x1dc),![]);});}function loadCoachSettings(){const _0x8a2bc8=a2_0x594b7a,_0x352cb2=localStorage[_0x8a2bc8(0x2cf)](_0x8a2bc8(0x245));_0x352cb2&&(document['getElementById'](_0x8a2bc8(0x26f))[_0x8a2bc8(0x1e8)]=_0x352cb2);}function openRangesSheet(){const _0x1fc0c7=a2_0x594b7a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x1fc0c7(0x1ef));}function addRange(){const _0x51c432=a2_0x594b7a,_0xba3656=document['getElementById']('rangeStartDate')[_0x51c432(0x1e8)],_0x2ca1d5=document[_0x51c432(0x2b4)](_0x51c432(0x20f))[_0x51c432(0x1e8)],_0xdf97ce=document[_0x51c432(0x2b4)](_0x51c432(0x28a))[_0x51c432(0x1e8)],_0x4effe8=document['getElementById']('rangeEndTime')[_0x51c432(0x1e8)];if(!_0xba3656||!_0x2ca1d5||!_0xdf97ce||!_0x4effe8)return alert(_0x51c432(0x2d2));const _0x5f4903=_0xba3656+'T'+_0x2ca1d5,_0x561297=_0xdf97ce+'T'+_0x4effe8;if(_0x5f4903>=_0x561297)return alert(_0x51c432(0x260));specialRanges[_0x51c432(0x2e9)]({'start':_0x5f4903,'end':_0x561297}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x51c432(0x208)](),DataManager[_0x51c432(0x2c5)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x48d484){const _0x1c22f7=a2_0x594b7a;specialRanges['splice'](_0x48d484,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x1c22f7(0x2c5)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x509e71=a2_0x594b7a;document['getElementById']('rangeStartDate')[_0x509e71(0x1e8)]='',document[_0x509e71(0x2b4)](_0x509e71(0x20f))[_0x509e71(0x1e8)]=_0x509e71(0x1fd),document[_0x509e71(0x2b4)](_0x509e71(0x28a))[_0x509e71(0x1e8)]='',document[_0x509e71(0x2b4)]('rangeEndTime')[_0x509e71(0x1e8)]='23:59';}function renderRangesList(){const _0x3fc2a1=a2_0x594b7a,_0x5c344e=document['getElementById'](_0x3fc2a1(0x271));_0x5c344e[_0x3fc2a1(0x2dd)]='';if(!specialRanges[_0x3fc2a1(0x2f0)]){_0x5c344e[_0x3fc2a1(0x2dd)]=_0x3fc2a1(0x2a5);return;}specialRanges[_0x3fc2a1(0x282)]((_0x1e4ab4,_0x3fbaf0)=>{const _0x31f29a=_0x3fc2a1,_0x530ca7=document[_0x31f29a(0x206)](_0x31f29a(0x212));_0x530ca7[_0x31f29a(0x22c)]='range-item';const _0x3f486e=_0x2e6720=>{const _0x8981d2=_0x31f29a,_0x409348=new Date(_0x2e6720);return _0x409348[_0x8981d2(0x239)]()+'.'+String(_0x409348[_0x8981d2(0x284)]()+0x1)[_0x8981d2(0x27d)](0x2,'0')+'\x20'+String(_0x409348[_0x8981d2(0x23a)]())[_0x8981d2(0x27d)](0x2,'0')+':'+String(_0x409348[_0x8981d2(0x1df)]())[_0x8981d2(0x27d)](0x2,'0');};_0x530ca7[_0x31f29a(0x2dd)]=_0x31f29a(0x227)+_0x3f486e(_0x1e4ab4[_0x31f29a(0x1a2)])+_0x31f29a(0x246)+_0x3f486e(_0x1e4ab4['end'])+_0x31f29a(0x286)+_0x3fbaf0+_0x31f29a(0x1dd),_0x5c344e[_0x31f29a(0x1a5)](_0x530ca7);});}function scrollToToday(){const _0x57abfb=a2_0x594b7a,_0x34b0eb=getLocalDateStr(new Date()),_0x217b99=document[_0x57abfb(0x2b4)](_0x57abfb(0x266)+_0x34b0eb),_0x42bdef=document[_0x57abfb(0x2b4)](_0x57abfb(0x1b5));if(_0x217b99&&_0x42bdef){const _0x16a278=_0x42bdef[_0x57abfb(0x22a)],_0x2dd1a6=_0x217b99['offsetLeft'],_0x54106b=_0x217b99[_0x57abfb(0x1d7)];_0x42bdef['scrollLeft']=_0x2dd1a6-_0x16a278/0x2+_0x54106b/0x2,_0x42bdef[_0x57abfb(0x1d6)]=0x9*GRID_H;}}function onScroll(){const _0x3bc10c=a2_0x594b7a,_0x47ce71=document[_0x3bc10c(0x2b4)]('matrixViewport'),_0xf06071=document[_0x3bc10c(0x274)](_0x3bc10c(0x228));for(let _0x178bc0 of _0xf06071)if(_0x178bc0['offsetLeft']>=_0x47ce71['scrollLeft']){const _0x57d2a4=new Date(_0x178bc0[_0x3bc10c(0x18f)]('data-date'));document['getElementById']('headerMonth')[_0x3bc10c(0x195)]=_0x57d2a4['toLocaleString']('ru',{'month':'long'})['toUpperCase']()+'\x20'+_0x57d2a4[_0x3bc10c(0x290)]();break;}}function showToast(_0x401560,_0xb55ebb=![]){const _0x5294c0=a2_0x594b7a,_0xe1d624=document[_0x5294c0(0x2b4)]('toast');_0xe1d624[_0x5294c0(0x22c)]='toast-notification\x20'+(_0xb55ebb?_0x5294c0(0x243):''),document['getElementById'](_0x5294c0(0x2c0))[_0x5294c0(0x195)]=_0xb55ebb?_0x5294c0(0x1b7):_0x5294c0(0x2d7),document[_0x5294c0(0x2b4)]('toastMessage')[_0x5294c0(0x195)]=_0x401560,_0xe1d624[_0x5294c0(0x1cb)][_0x5294c0(0x2c9)](_0x5294c0(0x215)),setTimeout(()=>{const _0x2bf68a=_0x5294c0;_0xe1d624[_0x2bf68a(0x1cb)][_0x2bf68a(0x287)]('show');},0xbb8);}function openDayOptions(_0x39fc9c,_0x83f3db){const _0x19606=a2_0x594b7a;selectedDayForOptions=_0x39fc9c,document[_0x19606(0x2b4)](_0x19606(0x1c5))[_0x19606(0x195)]=_0x83f3db,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x57e11a=a2_0x594b7a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x57e11a(0x221),reRenderBlocks(),closeAllSheets(),DataManager[_0x57e11a(0x208)](),DataManager[_0x57e11a(0x2c5)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4de168=a2_0x594b7a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4de168(0x208)](),DataManager[_0x4de168(0x2c5)](_0x4de168(0x2c4),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2a0602){const _0x18204f=a2_0x594b7a;document[_0x18204f(0x2b4)](_0x18204f(0x207))[_0x18204f(0x1cb)]['add']('active'),document['getElementById'](_0x2a0602)[_0x18204f(0x1cb)][_0x18204f(0x2c9)](_0x18204f(0x2e3));}function closeAllSheets(){const _0x2d2cb0=a2_0x594b7a;document[_0x2d2cb0(0x2b4)]('overlay')['classList'][_0x2d2cb0(0x287)](_0x2d2cb0(0x23c)),document[_0x2d2cb0(0x274)](_0x2d2cb0(0x2a1))['forEach'](_0x3c54f8=>_0x3c54f8['classList']['remove'](_0x2d2cb0(0x2e3)));}function openPatternEditor(){const _0x2f0a15=a2_0x594b7a;closeAllSheets(),document[_0x2f0a15(0x2b4)](_0x2f0a15(0x203))['classList'][_0x2f0a15(0x2c9)](_0x2f0a15(0x2e3)),renderPatternEditor();}function closePatternEditor(){const _0x43e217=a2_0x594b7a;document[_0x43e217(0x2b4)]('patternEditor')['classList'][_0x43e217(0x287)]('open');}function savePattern(){const _0x506964=a2_0x594b7a;document[_0x506964(0x2b4)](_0x506964(0x203))[_0x506964(0x1cb)]['remove'](_0x506964(0x2e3)),reRenderBlocks(),DataManager[_0x506964(0x208)](),DataManager[_0x506964(0x2c5)](_0x506964(0x2c4),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4fa9e0=a2_0x594b7a,_0x5a6ae6=document[_0x4fa9e0(0x2b4)](_0x4fa9e0(0x1ec));_0x5a6ae6[_0x4fa9e0(0x2dd)]='';const _0x3d9c56=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4406c9=document[_0x4fa9e0(0x206)](_0x4fa9e0(0x212));_0x4406c9[_0x4fa9e0(0x22c)]='pe-corner',_0x5a6ae6[_0x4fa9e0(0x1a5)](_0x4406c9),_0x3d9c56[_0x4fa9e0(0x282)]((_0x203e8d,_0x2613f7)=>{const _0x379a7b=_0x4fa9e0,_0x41a952=document[_0x379a7b(0x206)](_0x379a7b(0x212));_0x41a952[_0x379a7b(0x22c)]='pe-col-header',_0x41a952[_0x379a7b(0x2dd)]=_0x203e8d+_0x379a7b(0x2b6),_0x41a952[_0x379a7b(0x2f3)]=()=>toggleColPattern(_0x2613f7),_0x5a6ae6[_0x379a7b(0x1a5)](_0x41a952);});for(let _0x1b0fdc=0x0;_0x1b0fdc<0x18;_0x1b0fdc++){const _0x4bc378=document['createElement'](_0x4fa9e0(0x212));_0x4bc378[_0x4fa9e0(0x22c)]=_0x4fa9e0(0x2fd),_0x4bc378[_0x4fa9e0(0x2dd)]=_0x4fa9e0(0x21f)+String(_0x1b0fdc)[_0x4fa9e0(0x27d)](0x2,'0')+_0x4fa9e0(0x2b5),_0x4bc378['onclick']=()=>toggleRowPattern(_0x1b0fdc),_0x5a6ae6['appendChild'](_0x4bc378);for(let _0x381c49=0x0;_0x381c49<0x7;_0x381c49++){const _0x2023ef=document[_0x4fa9e0(0x206)](_0x4fa9e0(0x212)),_0x382f74=(availabilityPattern[_0x381c49]||[])['includes'](_0x1b0fdc),_0x455779=!_0x382f74;_0x2023ef[_0x4fa9e0(0x22c)]='pe-cell\x20'+(_0x455779?_0x4fa9e0(0x23c):''),_0x2023ef[_0x4fa9e0(0x2f3)]=()=>toggleSinglePattern(_0x381c49,_0x1b0fdc),_0x5a6ae6[_0x4fa9e0(0x1a5)](_0x2023ef);}}}function toggleSinglePattern(_0x27116a,_0x96125e){const _0x24bf40=a2_0x594b7a;if(!availabilityPattern[_0x27116a])availabilityPattern[_0x27116a]=[];const _0x445259=availabilityPattern[_0x27116a],_0x69b77b=_0x445259['indexOf'](_0x96125e);_0x69b77b===-0x1?_0x445259[_0x24bf40(0x2e9)](_0x96125e):_0x445259[_0x24bf40(0x2ec)](_0x69b77b,0x1),renderPatternEditor();}function toggleColPattern(_0x30d244){const _0x225a60=a2_0x594b7a;if(!availabilityPattern[_0x30d244])availabilityPattern[_0x30d244]=[];const _0x4f80a6=availabilityPattern[_0x30d244];_0x4f80a6[_0x225a60(0x2f0)]===0x0?availabilityPattern[_0x30d244]=Array[_0x225a60(0x264)]({'length':0x18},(_0xa43234,_0xf2af10)=>_0xf2af10):availabilityPattern[_0x30d244]=[],renderPatternEditor();}function toggleRowPattern(_0x31be2e){const _0xd595c9=a2_0x594b7a;let _0x1d055c=!![];for(let _0x49323c=0x0;_0x49323c<0x7;_0x49323c++){if((availabilityPattern[_0x49323c]||[])[_0xd595c9(0x20d)](_0x31be2e)){_0x1d055c=![];break;}}for(let _0x523b3a=0x0;_0x523b3a<0x7;_0x523b3a++){if(!availabilityPattern[_0x523b3a])availabilityPattern[_0x523b3a]=[];const _0x5361fe=availabilityPattern[_0x523b3a]['indexOf'](_0x31be2e);if(_0x1d055c){if(_0x5361fe===-0x1)availabilityPattern[_0x523b3a][_0xd595c9(0x2e9)](_0x31be2e);}else{if(_0x5361fe!==-0x1)availabilityPattern[_0x523b3a][_0xd595c9(0x2ec)](_0x5361fe,0x1);}}renderPatternEditor();}function renderPCol(_0x4a3449,_0x1bf77d){const _0x2b41f4=a2_0x594b7a;_0x4a3449['innerHTML']='';const _0x6b621e=Math[_0x2b41f4(0x24e)](_0x4a3449[_0x2b41f4(0x1ae)]);(availabilityPattern[_0x1bf77d]||[])['forEach'](_0x532687=>{const _0x2e82f7=_0x2b41f4,_0xd2e57a=document[_0x2e82f7(0x206)](_0x2e82f7(0x212));_0xd2e57a['className']=_0x2e82f7(0x2c3);const _0x344c39=_0x532687*GRID_H;_0xd2e57a['style']['top']=_0x344c39+'px',_0xd2e57a[_0x2e82f7(0x2ff)]['backgroundPosition']='-'+_0x6b621e+'px\x20-'+_0x344c39+'px',_0xd2e57a[_0x2e82f7(0x2f3)]=_0x317d28=>{const _0x3c6111=_0x2e82f7;_0x317d28[_0x3c6111(0x25a)](),toggleSinglePattern(_0x1bf77d,_0x532687);},_0x4a3449[_0x2e82f7(0x1a5)](_0xd2e57a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x451542=a2_0x594b7a,_0x130909=new Date(),_0x4b7dc2=document['getElementById'](_0x451542(0x283)),_0x1936e2=document['getElementById'](_0x451542(0x223)),_0x56faf0=(_0x130909[_0x451542(0x23a)]()*0x3c+_0x130909[_0x451542(0x1df)]())/0x3c*GRID_H;_0x4b7dc2[_0x451542(0x2ff)][_0x451542(0x2fb)]=_0x56faf0+'px',_0x4b7dc2[_0x451542(0x2ff)][_0x451542(0x1c6)]='block',_0x1936e2['textContent']=String(_0x130909[_0x451542(0x23a)]())[_0x451542(0x27d)](0x2,'0')+':'+String(_0x130909['getMinutes']())['padStart'](0x2,'0'),_0x1936e2[_0x451542(0x2ff)]['display']=_0x451542(0x28b),_0x1936e2[_0x451542(0x2ff)][_0x451542(0x2fb)]=_0x56faf0+'px';}document[a2_0x594b7a(0x303)](a2_0x594b7a(0x19b),init);function openDayOptions(_0x525497){const _0xc20a65=a2_0x594b7a;selectedDayForOptions=_0x525497;const _0x4c47a0=new Date(_0x525497),_0x3508e6={'weekday':_0xc20a65(0x2d3),'day':_0xc20a65(0x25b),'month':_0xc20a65(0x2d3),'year':_0xc20a65(0x25b)},_0x3421dd=_0x4c47a0[_0xc20a65(0x18e)](_0xc20a65(0x1b4),_0x3508e6);document['getElementById']('doDateHeader')[_0xc20a65(0x195)]=_0x3421dd[_0xc20a65(0x2e4)](0x0)[_0xc20a65(0x24c)]()+_0x3421dd[_0xc20a65(0x288)](0x1);let _0x1e26cf=_0x4c47a0[_0xc20a65(0x1d3)]()-0x1;if(_0x1e26cf===-0x1)_0x1e26cf=0x6;const _0x1640ce=availabilityPattern[_0x1e26cf]||[],_0x7de5f8=0x18-_0x1640ce[_0xc20a65(0x2f0)],_0xa9c0dd=_0x7de5f8*0x3c,_0x16dda5=sessions[_0xc20a65(0x2b0)](_0x5be749=>_0x5be749[_0xc20a65(0x1fe)]===_0x525497&&_0x5be749[_0xc20a65(0x2b7)]!=='cancelled');let _0xf2caef=_0x16dda5[_0xc20a65(0x1af)](_0x3a6d80=>{const _0x2ac8a6=_0xc20a65,[_0x44dee6,_0x3a7fe2]=_0x3a6d80[_0x2ac8a6(0x1a2)][_0x2ac8a6(0x1f4)](':')[_0x2ac8a6(0x1af)](Number),[_0x1fbbcb,_0xa3ddd6]=_0x3a6d80[_0x2ac8a6(0x22b)][_0x2ac8a6(0x1f4)](':')[_0x2ac8a6(0x1af)](Number);return[_0x44dee6*0x3c+_0x3a7fe2,_0x1fbbcb*0x3c+_0xa3ddd6];});_0xf2caef[_0xc20a65(0x1cc)]((_0x355b18,_0x289ee9)=>_0x355b18[0x0]-_0x289ee9[0x0]);let _0x37f5ee=[];if(_0xf2caef['length']>0x0){let _0x8973c9=_0xf2caef[0x0];for(let _0x50e10d=0x1;_0x50e10d<_0xf2caef[_0xc20a65(0x2f0)];_0x50e10d++){_0xf2caef[_0x50e10d][0x0]<_0x8973c9[0x1]?_0x8973c9[0x1]=Math['max'](_0x8973c9[0x1],_0xf2caef[_0x50e10d][0x1]):(_0x37f5ee[_0xc20a65(0x2e9)](_0x8973c9),_0x8973c9=_0xf2caef[_0x50e10d]);}_0x37f5ee['push'](_0x8973c9);}let _0x34503d=0x0;_0x37f5ee['forEach'](_0x1b070a=>_0x34503d+=_0x1b070a[0x1]-_0x1b070a[0x0]),document[_0xc20a65(0x2b4)](_0xc20a65(0x196))[_0xc20a65(0x195)]=formatMinsToHrs(_0xa9c0dd),document[_0xc20a65(0x2b4)](_0xc20a65(0x2aa))['textContent']=formatMinsToHrs(_0x34503d);const _0x45f23e=_0xa9c0dd>0x0?Math[_0xc20a65(0x24e)](_0x34503d/_0xa9c0dd*0x64):0x0,_0x15dd5c=document[_0xc20a65(0x2b4)](_0xc20a65(0x21a));_0x15dd5c[_0xc20a65(0x195)]=_0x45f23e+'%';const _0x4c53bd=document[_0xc20a65(0x2b4)]('statLoadCard');if(_0x45f23e>0x64)_0x15dd5c[_0xc20a65(0x2ff)][_0xc20a65(0x225)]=_0xc20a65(0x1fb),_0x4c53bd[_0xc20a65(0x2ff)][_0xc20a65(0x230)]=_0xc20a65(0x1e1);else _0x45f23e>0x50?(_0x15dd5c[_0xc20a65(0x2ff)]['color']=_0xc20a65(0x29c),_0x4c53bd['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x15dd5c[_0xc20a65(0x2ff)]['color']=_0xc20a65(0x1e7),_0x4c53bd[_0xc20a65(0x2ff)]['borderColor']=_0xc20a65(0x1a6));const _0x27ea17=document['getElementById']('doEventsList');_0x27ea17[_0xc20a65(0x2dd)]='';_0x16dda5['length']===0x0?_0x27ea17[_0xc20a65(0x2dd)]=_0xc20a65(0x224):(_0x16dda5[_0xc20a65(0x1cc)]((_0xa0caad,_0x190649)=>_0xa0caad[_0xc20a65(0x1a2)]['localeCompare'](_0x190649[_0xc20a65(0x1a2)])),_0x16dda5[_0xc20a65(0x282)](_0x109143=>{const _0x288db4=_0xc20a65,_0x2c9e0b=clients['find'](_0x25a5ff=>_0x25a5ff['name']===_0x109143[_0x288db4(0x21c)]),_0x5081f2=_0x2c9e0b?_0x2c9e0b[_0x288db4(0x225)]:'#fff',_0x2fa7d0=_0x109143[_0x288db4(0x2b7)]==='completed',_0x208542=_0x2fa7d0?_0x288db4(0x2ac):'',_0x37e5e8=document['createElement']('div');_0x37e5e8[_0x288db4(0x22c)]=_0x288db4(0x1a8),_0x37e5e8[_0x288db4(0x2ff)][_0x288db4(0x22f)]=_0x5081f2,_0x37e5e8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x109143[_0x288db4(0x1a2)]+'\x20-\x20'+_0x109143[_0x288db4(0x22b)]+_0x288db4(0x24a)+_0x109143[_0x288db4(0x21c)]+_0x288db4(0x1d4)+_0x208542+_0x288db4(0x2a8),_0x27ea17[_0x288db4(0x1a5)](_0x37e5e8);}));const _0xd8e553=document[_0xc20a65(0x2b4)]('btnDayToggle'),_0x4d45b7=dateExceptions[_0x525497]===_0xc20a65(0x221);_0x4d45b7?(_0xd8e553[_0xc20a65(0x195)]=_0xc20a65(0x193),_0xd8e553[_0xc20a65(0x22c)]=_0xc20a65(0x1bb),_0xd8e553[_0xc20a65(0x2ff)][_0xc20a65(0x225)]=_0xc20a65(0x1e7),_0xd8e553[_0xc20a65(0x2ff)][_0xc20a65(0x1ea)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0xd8e553[_0xc20a65(0x195)]=_0xc20a65(0x255),_0xd8e553[_0xc20a65(0x22c)]=_0xc20a65(0x1f1),_0xd8e553['style'][_0xc20a65(0x225)]=_0xc20a65(0x1fb),_0xd8e553['style']['background']=_0xc20a65(0x199)),openSheet(_0xc20a65(0x1c4));}let currentAnPeriod=a2_0x594b7a(0x2e5);function openAnalytics(){const _0x518038=a2_0x594b7a,_0x68291d=document[_0x518038(0x2f8)](_0x518038(0x24f));setAnalyticsPeriod(_0x518038(0x2e5),_0x68291d),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1fe966,_0x7a200d){const _0x2cc2c0=a2_0x594b7a;currentAnPeriod=_0x1fe966,document['querySelectorAll'](_0x2cc2c0(0x24f))['forEach'](_0xae7460=>_0xae7460[_0x2cc2c0(0x1cb)]['remove'](_0x2cc2c0(0x23c)));if(_0x7a200d)_0x7a200d[_0x2cc2c0(0x1cb)][_0x2cc2c0(0x2c9)]('active');const _0x10d5db=document[_0x2cc2c0(0x2b4)](_0x2cc2c0(0x2e0));_0x10d5db[_0x2cc2c0(0x2ff)][_0x2cc2c0(0x1c6)]=_0x1fe966===_0x2cc2c0(0x190)?_0x2cc2c0(0x22d):_0x2cc2c0(0x26a);const _0x3409b9=new Date();let _0x10125c=new Date(),_0x2caaf1=new Date();if(_0x1fe966==='week')_0x10125c=getStartOfWeek(_0x3409b9),_0x2caaf1=new Date(_0x10125c),_0x2caaf1[_0x2cc2c0(0x2f1)](_0x2caaf1['getDate']()+0x6);else{if(_0x1fe966==='month')_0x10125c=new Date(_0x3409b9[_0x2cc2c0(0x290)](),_0x3409b9[_0x2cc2c0(0x284)](),0x1),_0x2caaf1=new Date(_0x3409b9[_0x2cc2c0(0x290)](),_0x3409b9[_0x2cc2c0(0x284)]()+0x1,0x0);else{!document['getElementById'](_0x2cc2c0(0x256))['value']&&(document['getElementById'](_0x2cc2c0(0x256))[_0x2cc2c0(0x1e8)]=getLocalDateStr(_0x3409b9),document['getElementById']('anEnd')[_0x2cc2c0(0x1e8)]=getLocalDateStr(_0x3409b9));refreshAnalytics();return;}}document[_0x2cc2c0(0x2b4)](_0x2cc2c0(0x256))[_0x2cc2c0(0x1e8)]=getLocalDateStr(_0x10125c),document[_0x2cc2c0(0x2b4)](_0x2cc2c0(0x1d8))[_0x2cc2c0(0x1e8)]=getLocalDateStr(_0x2caaf1),refreshAnalytics();}function refreshAnalytics(){const _0x409c09=a2_0x594b7a,_0x11a16c=document[_0x409c09(0x2b4)]('anStart')[_0x409c09(0x1e8)],_0x18c553=document[_0x409c09(0x2b4)](_0x409c09(0x1d8))[_0x409c09(0x1e8)];if(!_0x11a16c||!_0x18c553)return;const _0x31ba89=sessions['filter'](_0x58503a=>_0x58503a[_0x409c09(0x1fe)]>=_0x11a16c&&_0x58503a[_0x409c09(0x1fe)]<=_0x18c553&&_0x58503a[_0x409c09(0x2b7)]!==_0x409c09(0x1b3)),_0x597e22=_0x31ba89[_0x409c09(0x2f0)],_0x132516=_0x31ba89[_0x409c09(0x2b0)](_0xc85682=>_0xc85682[_0x409c09(0x2b7)]===_0x409c09(0x2f7))['length'],_0x4f5494=_0x597e22>0x0?Math[_0x409c09(0x24e)](_0x132516/_0x597e22*0x64):0x0;document[_0x409c09(0x2b4)](_0x409c09(0x22e))[_0x409c09(0x195)]=_0x4f5494+'%',document[_0x409c09(0x2b4)](_0x409c09(0x1bd))[_0x409c09(0x195)]=_0x132516+'\x20–∏–∑\x20'+_0x597e22+_0x409c09(0x1a3);const _0x1ad36e=document['getElementById'](_0x409c09(0x1f6)),_0x4f5ddd=0x2*Math['PI']*0x23,_0x5ccb02=_0x4f5ddd-_0x4f5494/0x64*_0x4f5ddd;_0x1ad36e[_0x409c09(0x2ff)]['strokeDashoffset']=_0x5ccb02;const _0x518304={};_0x31ba89[_0x409c09(0x282)](_0x11557c=>{const _0x4590db=_0x409c09;if(!_0x518304[_0x11557c[_0x4590db(0x21c)]]){const _0x844f12=clients[_0x4590db(0x1ce)](_0x5dcf9e=>_0x5dcf9e[_0x4590db(0x1c0)]===_0x11557c[_0x4590db(0x21c)]);_0x518304[_0x11557c[_0x4590db(0x21c)]]={'total':0x0,'done':0x0,'color':_0x844f12?_0x844f12[_0x4590db(0x225)]:'#fff'};}_0x518304[_0x11557c[_0x4590db(0x21c)]][_0x4590db(0x1e3)]++;if(_0x11557c[_0x4590db(0x2b7)]===_0x4590db(0x2f7))_0x518304[_0x11557c[_0x4590db(0x21c)]][_0x4590db(0x2df)]++;});const _0x594646=document[_0x409c09(0x2b4)](_0x409c09(0x1da));_0x594646[_0x409c09(0x2dd)]='';const _0xabf2bb=Object[_0x409c09(0x1a9)](_0x518304)[_0x409c09(0x1cc)]((_0x514203,_0x59ca5d)=>_0x59ca5d[0x1][_0x409c09(0x1e3)]-_0x514203[0x1][_0x409c09(0x1e3)]);if(_0xabf2bb[_0x409c09(0x2f0)]===0x0){_0x594646[_0x409c09(0x2dd)]=_0x409c09(0x19c);return;}_0xabf2bb[_0x409c09(0x282)](([_0xa145c6,_0x40545c])=>{const _0x281433=_0x409c09,_0x454544=Math[_0x281433(0x24e)](_0x40545c[_0x281433(0x2df)]/_0x40545c['total']*0x64),_0x516959=document[_0x281433(0x206)]('div');_0x516959[_0x281433(0x22c)]=_0x281433(0x299),_0x516959[_0x281433(0x2ff)][_0x281433(0x22f)]=_0x40545c[_0x281433(0x225)],_0x516959[_0x281433(0x2dd)]=_0x281433(0x1cd)+_0xa145c6+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x40545c[_0x281433(0x2df)]+_0x281433(0x1c1)+_0x40545c[_0x281433(0x1e3)]+_0x281433(0x2bb)+_0x454544+_0x281433(0x298),_0x594646[_0x281433(0x1a5)](_0x516959);});}function formatMinsToHrs(_0x972146){const _0x577de0=a2_0x594b7a;if(_0x972146===0x0)return'0';const _0x254a0c=Math[_0x577de0(0x26e)](_0x972146/0x3c),_0x3e1cf3=_0x972146%0x3c;if(_0x3e1cf3===0x0)return _0x254a0c+'—á';return _0x254a0c+'—á\x20'+_0x3e1cf3+'–º';}