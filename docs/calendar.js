const a2_0x100f3a=a2_0x372b;(function(_0x3503e9,_0x32a80f){const _0x4c7fc5=a2_0x372b,_0x4f8dd8=_0x3503e9();while(!![]){try{const _0x5f218a=parseInt(_0x4c7fc5(0xc7))/0x1*(-parseInt(_0x4c7fc5(0x214))/0x2)+parseInt(_0x4c7fc5(0x163))/0x3+-parseInt(_0x4c7fc5(0x171))/0x4+-parseInt(_0x4c7fc5(0xaa))/0x5*(parseInt(_0x4c7fc5(0x20f))/0x6)+-parseInt(_0x4c7fc5(0xcb))/0x7*(parseInt(_0x4c7fc5(0xfa))/0x8)+-parseInt(_0x4c7fc5(0xe0))/0x9*(-parseInt(_0x4c7fc5(0x1da))/0xa)+parseInt(_0x4c7fc5(0xcd))/0xb*(parseInt(_0x4c7fc5(0xb2))/0xc);if(_0x5f218a===_0x32a80f)break;else _0x4f8dd8['push'](_0x4f8dd8['shift']());}catch(_0x1914c7){_0x4f8dd8['push'](_0x4f8dd8['shift']());}}}(a2_0x5b49,0xbc75a),function initTMA(){const _0x575c4d=a2_0x372b,_0x21e251=(function(){let _0x34eb92=!![];return function(_0x2187c0,_0x4b8c19){const _0x44f06d=_0x34eb92?function(){const _0x3f34e9=a2_0x372b;if(_0x4b8c19){const _0x5b6e99=_0x4b8c19[_0x3f34e9(0x154)](_0x2187c0,arguments);return _0x4b8c19=null,_0x5b6e99;}}:function(){};return _0x34eb92=![],_0x44f06d;};}()),_0x272c95=_0x21e251(this,function(){const _0x202de5=a2_0x372b;return _0x272c95[_0x202de5(0x107)]()[_0x202de5(0x126)](_0x202de5(0x11b))[_0x202de5(0x107)]()[_0x202de5(0xb0)](_0x272c95)['search'](_0x202de5(0x11b));});_0x272c95();try{const _0x4a7827=window['Telegram']?.[_0x575c4d(0x103)];if(!_0x4a7827)return;_0x4a7827[_0x575c4d(0x18d)](),_0x4a7827['expand']();try{_0x4a7827[_0x575c4d(0x155)](_0x575c4d(0xf5)),_0x4a7827[_0x575c4d(0xe9)]&&_0x4a7827[_0x575c4d(0xe9)](_0x575c4d(0xf5));}catch(_0x2d6d85){console[_0x575c4d(0x18f)](_0x575c4d(0x135),_0x2d6d85);}try{_0x4a7827[_0x575c4d(0xbf)]&&(_0x4a7827[_0x575c4d(0xbf)][_0x575c4d(0x186)](),_0x4a7827['BackButton'][_0x575c4d(0x19f)](),_0x4a7827['BackButton']['onClick'](function(){const _0x92a55e=_0x575c4d;window[_0x92a55e(0x21a)][_0x92a55e(0x19a)]='router.html';}));}catch(_0x36c62f){console[_0x575c4d(0x18f)](_0x575c4d(0x1d7),_0x36c62f);}try{if(_0x4a7827['disableVerticalSwipes'])_0x4a7827[_0x575c4d(0x1c9)]();}catch(_0x4a5254){}}catch(_0x4cc0d3){console[_0x575c4d(0x19c)]('Critical\x20TMA\x20Error:',_0x4cc0d3);}}());function isAdmin(){const _0x1d7635=a2_0x372b;try{const _0x42c3dd=Number(window[_0x1d7635(0x169)]?.[_0x1d7635(0x103)]?.[_0x1d7635(0x12b)]?.[_0x1d7635(0x188)]?.['id']);return _0x42c3dd===0xbaf7174;}catch(_0x35fc47){return![];}}const APP_VERSION=a2_0x100f3a(0xfd),API_URL=a2_0x100f3a(0x13c),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x100f3a(0x1e7),KEY_SESSIONS=a2_0x100f3a(0x110),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x56123e=a2_0x100f3a;return window[_0x56123e(0x169)]?.[_0x56123e(0x103)]?.[_0x56123e(0x12b)]?.[_0x56123e(0x188)]?.['id']||'guest';},'saveLocally'(){const _0x44c51e=a2_0x100f3a;try{localStorage[_0x44c51e(0x115)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x44c51e(0x115)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x44c51e(0x115)](KEY_SETTINGS,JSON[_0x44c51e(0xec)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x350b20){console[_0x44c51e(0x19c)](_0x44c51e(0x142),_0x350b20);}},'loadLocal'(){const _0x53def2=a2_0x100f3a;try{const _0x1bb502=localStorage[_0x53def2(0xdb)](KEY_CLIENTS);if(_0x1bb502)clients=JSON['parse'](_0x1bb502);const _0x1d0e42=localStorage['getItem'](KEY_SESSIONS);if(_0x1d0e42)sessions=JSON['parse'](_0x1d0e42);const _0x515b27=localStorage[_0x53def2(0xdb)](KEY_SETTINGS);if(_0x515b27){const _0x2c4d2d=JSON[_0x53def2(0x1d2)](_0x515b27);if(_0x2c4d2d[_0x53def2(0x1f8)])availabilityPattern=_0x2c4d2d[_0x53def2(0x1f8)];if(_0x2c4d2d[_0x53def2(0x9f)])dateExceptions=_0x2c4d2d[_0x53def2(0x9f)];if(_0x2c4d2d['ranges'])specialRanges=_0x2c4d2d['ranges'];}else{for(let _0xdf5058=0x0;_0xdf5058<0x7;_0xdf5058++)availabilityPattern[_0xdf5058]=Array[_0x53def2(0x1ad)]({'length':0xc},(_0x23189f,_0x36d63d)=>_0x36d63d+0x9);}}catch(_0x4bbfe7){console[_0x53def2(0x19c)](_0x53def2(0x177),_0x4bbfe7);}},async 'fetchFromServer'(_0x306b2c,_0x3b9dc0={}){const _0x10781e=a2_0x100f3a,_0x585556=window[_0x10781e(0x169)]?.[_0x10781e(0x103)],_0xdbbea={'action':_0x306b2c,'init_data':_0x585556?.[_0x10781e(0xef)]||'',..._0x3b9dc0};try{const _0x57708b=await fetch(API_URL,{'method':_0x10781e(0x10a),'headers':{'Content-Type':_0x10781e(0x119)},'body':JSON[_0x10781e(0xec)](_0xdbbea)}),_0x39bebb=await _0x57708b[_0x10781e(0xd9)]();if(!_0x39bebb['ok'])throw new Error(_0x39bebb[_0x10781e(0x19c)]||_0x10781e(0xff));return _0x39bebb['data'];}catch(_0x44d0f7){console['error']('[API\x20'+_0x306b2c+']\x20Failed:',_0x44d0f7);throw _0x44d0f7;}},async 'syncLoad'(){const _0xb37b2f=a2_0x100f3a,_0x1e27f7=new Date(),_0x4b8ecd=_0x1e27f7[_0xb37b2f(0xda)]()+'-'+String(_0x1e27f7[_0xb37b2f(0xd2)]()+0x1)['padStart'](0x2,'0'),_0x3a6265=new Date(_0x1e27f7);_0x3a6265['setMonth'](_0x1e27f7['getMonth']()+0x1);const _0x1c3c15=_0x3a6265[_0xb37b2f(0xda)]()+'-'+String(_0x3a6265[_0xb37b2f(0xd2)]()+0x1)['padStart'](0x2,'0'),_0xa86fc3=Date[_0xb37b2f(0x122)]();console[_0xb37b2f(0x18f)]('[Sync]\x20Loading\x20'+_0x4b8ecd+',\x20'+_0x1c3c15+'...');try{const [_0x4842d6,_0xc75641]=await Promise['all']([this[_0xb37b2f(0xf4)]('init_load',{'month_str':_0x4b8ecd}),this[_0xb37b2f(0xf4)](_0xb37b2f(0x17e),{'month_str':_0x1c3c15})]);if(lastUserActionTime>_0xa86fc3)return console[_0xb37b2f(0x139)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this['mergeServerData'](_0x4842d6,_0x4b8ecd),this[_0xb37b2f(0x114)](_0xc75641,_0x1c3c15),this[_0xb37b2f(0xdd)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x35c919){console['error'](_0x35c919);throw _0x35c919;}},'mergeServerData'(_0xe8aa7c,_0x58343b){const _0x1e26e2=a2_0x100f3a;if(!_0xe8aa7c)return;_0xe8aa7c[_0x1e26e2(0x1bd)]&&Array[_0x1e26e2(0xdf)](_0xe8aa7c['clients'])&&(clients=_0xe8aa7c[_0x1e26e2(0x1bd)]);if(_0xe8aa7c[_0x1e26e2(0x1b6)]){if(_0xe8aa7c[_0x1e26e2(0x1b6)]['pattern'])availabilityPattern=_0xe8aa7c[_0x1e26e2(0x1b6)][_0x1e26e2(0x1f8)];if(_0xe8aa7c['settings'][_0x1e26e2(0x9f)])dateExceptions=_0xe8aa7c[_0x1e26e2(0x1b6)]['exceptions'];if(_0xe8aa7c['settings'][_0x1e26e2(0xe5)])specialRanges=_0xe8aa7c[_0x1e26e2(0x1b6)][_0x1e26e2(0xe5)];if(_0xe8aa7c[_0x1e26e2(0x1b6)][_0x1e26e2(0x1b8)]){localStorage[_0x1e26e2(0x115)](_0x1e26e2(0x159),_0xe8aa7c[_0x1e26e2(0x1b6)][_0x1e26e2(0x1b8)]);const _0x381e2b=document[_0x1e26e2(0x200)]('settingCancelWindow');if(_0x381e2b)_0x381e2b[_0x1e26e2(0xa5)]=_0xe8aa7c[_0x1e26e2(0x1b6)][_0x1e26e2(0x1b8)];}}_0xe8aa7c['calendar']&&(sessions=sessions[_0x1e26e2(0x1f4)](_0x35d5ce=>!_0x35d5ce[_0x1e26e2(0xb7)]['startsWith'](_0x58343b)),Object[_0x1e26e2(0xeb)](_0xe8aa7c[_0x1e26e2(0x1eb)])[_0x1e26e2(0x17d)](_0x5b3e6e=>{const _0x17a0ed=_0x1e26e2,_0x53a29d=_0xe8aa7c[_0x17a0ed(0x1eb)][_0x5b3e6e];_0x53a29d['forEach'](_0x83cf9e=>{const _0x384005=_0x17a0ed,_0x3f13d5=clients[_0x384005(0x187)](_0x36466f=>String(_0x36466f['id'])===String(_0x83cf9e['c']));sessions[_0x384005(0x192)]({'id':_0x83cf9e['i'],'clientId':_0x83cf9e['c'],'client':_0x3f13d5?_0x3f13d5[_0x384005(0x1cb)]:_0x384005(0x181),'dateStr':_0x58343b+'-'+_0x5b3e6e[_0x384005(0x118)](0x2,'0'),'start':_0x83cf9e['s'],'end':_0x83cf9e['e'],'status':_0x83cf9e['st']||'planned','note':_0x83cf9e['n']||'','seriesId':_0x83cf9e[_0x384005(0x208)]||null});});}));},async 'syncBatch'(_0x4be15e){const _0x4c9fc3=a2_0x100f3a,_0x5bd214=[...new Set(_0x4be15e)],_0x2956d0=_0x5bd214[_0x4c9fc3(0xf7)](_0x457c01=>{const _0x2fe325=_0x4c9fc3,_0x25c104=sessions[_0x2fe325(0x1f4)](_0x550c81=>_0x550c81['dateStr']===_0x457c01&&_0x550c81[_0x2fe325(0x221)]!==_0x2fe325(0x206)),_0x27be02=_0x25c104[_0x2fe325(0xf7)](_0x19f119=>({'i':_0x19f119['id'],'c':_0x19f119[_0x2fe325(0x1e6)],'s':_0x19f119['start'],'e':_0x19f119[_0x2fe325(0x1ee)],'st':_0x19f119[_0x2fe325(0x221)],'n':_0x19f119[_0x2fe325(0x1d5)],'sid':_0x19f119['seriesId']}));return{'date':_0x457c01,'day_data':_0x27be02};});if(_0x2956d0[_0x4c9fc3(0x1f3)]===0x0)return;console['log'](_0x4c9fc3(0x15b)+_0x2956d0[_0x4c9fc3(0x1f3)]+_0x4c9fc3(0x1b7)),await this[_0x4c9fc3(0xf4)]('batch_sync',{'changes':_0x2956d0});}};async function init(){const _0xe11f7f=a2_0x100f3a;DataManager[_0xe11f7f(0x196)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0xe11f7f(0x200)](_0xe11f7f(0x183))[_0xe11f7f(0x1a6)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0xe11f7f(0x1d9)]()[_0xe11f7f(0xb8)](()=>{const _0x4ade79=_0xe11f7f;showToast(_0x4ade79(0xe8),!![]);})['catch'](_0x3c2714=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0xbc219=a2_0x100f3a;return Date[_0xbc219(0x122)]()[_0xbc219(0x107)](0x24)+Math[_0xbc219(0x1a4)]()['toString'](0x24)[_0xbc219(0xba)](0x2,0x5);}function toggleSeriesInput(){const _0x2132e3=a2_0x100f3a,_0x49a6ec=document['getElementById'](_0x2132e3(0xaf))[_0x2132e3(0xb4)],_0x4f5ddf=document[_0x2132e3(0x200)](_0x2132e3(0x20d));_0x4f5ddf['style'][_0x2132e3(0x147)]=_0x49a6ec?_0x2132e3(0xe2):_0x2132e3(0x149);const _0x12fdbc=document['getElementById'](_0x2132e3(0x1e4));_0x12fdbc[_0x2132e3(0x216)]['borderRadius']=_0x49a6ec?_0x2132e3(0x220):'10px';}function openAddSession(_0x242e54){const _0x17e946=a2_0x100f3a;editingId=null,populateClientSelect(),document[_0x17e946(0x200)](_0x17e946(0x129))[_0x17e946(0x11e)]=_0x17e946(0x1b2),document['getElementById'](_0x17e946(0x168))['style'][_0x17e946(0x147)]=_0x17e946(0x149),document[_0x17e946(0x200)](_0x17e946(0x162))[_0x17e946(0x216)][_0x17e946(0x147)]=_0x17e946(0x149);const _0x1b0e02=document[_0x17e946(0x200)](_0x17e946(0x1e4)),_0x470966=document['getElementById'](_0x17e946(0x20d));_0x1b0e02[_0x17e946(0x216)][_0x17e946(0x147)]='flex',_0x1b0e02['style'][_0x17e946(0x152)]=_0x17e946(0x1c2),document[_0x17e946(0x200)]('inpRecurring')[_0x17e946(0xb4)]=![],document[_0x17e946(0x200)](_0x17e946(0x1f7))[_0x17e946(0xa5)]=0x4,_0x470966[_0x17e946(0x216)][_0x17e946(0x147)]=_0x17e946(0x149),document[_0x17e946(0x200)](_0x17e946(0x161))['value']=getLocalDateStr(_0x242e54),updateDateDisplay();const _0x5b16e3=_0x242e54[_0x17e946(0x1d4)]();document[_0x17e946(0x200)]('inpStart')[_0x17e946(0xa5)]=String(_0x5b16e3)[_0x17e946(0x118)](0x2,'0')+':00',document[_0x17e946(0x200)](_0x17e946(0xc3))['value']=String(_0x5b16e3+0x1)[_0x17e946(0x118)](0x2,'0')+_0x17e946(0x201),openSheet(_0x17e946(0x1e1));}function openEdit(_0x190c8f){const _0x1a0710=a2_0x100f3a;editingId=_0x190c8f['id'],populateClientSelect(),document[_0x1a0710(0x200)](_0x1a0710(0x129))[_0x1a0710(0x11e)]=_0x1a0710(0xe4),document['getElementById'](_0x1a0710(0x168))[_0x1a0710(0x216)][_0x1a0710(0x147)]='block';const _0x48c3d7=document[_0x1a0710(0x200)](_0x1a0710(0x162));_0x48c3d7['style'][_0x1a0710(0x147)]=_0x1a0710(0xd3);_0x190c8f['status']===_0x1a0710(0xa9)?(_0x48c3d7[_0x1a0710(0x1ed)]='btn-status-toggle\x20undo-mode',_0x48c3d7[_0x1a0710(0x203)]=_0x1a0710(0xc5)):(_0x48c3d7['className']=_0x1a0710(0x195),_0x48c3d7[_0x1a0710(0x203)]=_0x1a0710(0x13e));const _0x2b1704=!!_0x190c8f[_0x1a0710(0x143)];document[_0x1a0710(0x200)]('recurringOptionContainer')[_0x1a0710(0x216)][_0x1a0710(0x147)]='none',document[_0x1a0710(0x200)]('seriesCountContainer')[_0x1a0710(0x216)][_0x1a0710(0x147)]=_0x1a0710(0x149),_0x2b1704?(document['getElementById'](_0x1a0710(0x1c8))[_0x1a0710(0x216)][_0x1a0710(0x147)]=_0x1a0710(0xd3),document['getElementById']('patternInfoBox')['querySelector'](_0x1a0710(0x15f))[_0x1a0710(0x11e)]=_0x1a0710(0x1ac)):document[_0x1a0710(0x200)](_0x1a0710(0x1c8))[_0x1a0710(0x216)][_0x1a0710(0x147)]='none',document['getElementById'](_0x1a0710(0x165))[_0x1a0710(0xa5)]=_0x190c8f[_0x1a0710(0x20b)],document[_0x1a0710(0x200)](_0x1a0710(0x161))[_0x1a0710(0xa5)]=_0x190c8f['dateStr'],document[_0x1a0710(0x200)]('inpStart')[_0x1a0710(0xa5)]=_0x190c8f[_0x1a0710(0xc2)],document[_0x1a0710(0x200)](_0x1a0710(0xc3))[_0x1a0710(0xa5)]=_0x190c8f[_0x1a0710(0x1ee)],document[_0x1a0710(0x200)](_0x1a0710(0x1d0))[_0x1a0710(0xa5)]=_0x190c8f['note']||'',updateDateDisplay(),openSheet(_0x1a0710(0x1e1));}async function trySaveSession(){const _0x51cfa1=a2_0x100f3a,_0x74a7c5=document['getElementById'](_0x51cfa1(0x165))[_0x51cfa1(0xa5)],_0x264070=document[_0x51cfa1(0x200)](_0x51cfa1(0x161))[_0x51cfa1(0xa5)],_0x910feb=document[_0x51cfa1(0x200)](_0x51cfa1(0xde))[_0x51cfa1(0xa5)],_0x3e8e36=document[_0x51cfa1(0x200)](_0x51cfa1(0xc3))[_0x51cfa1(0xa5)],_0x4db1f3=document[_0x51cfa1(0x200)](_0x51cfa1(0x1d0))[_0x51cfa1(0xa5)],_0x46ff1c=document[_0x51cfa1(0x200)]('inpRecurring')['checked'];let _0x1c6988=0x4;if(_0x46ff1c){const _0x256e23=parseInt(document[_0x51cfa1(0x200)](_0x51cfa1(0x1f7))[_0x51cfa1(0xa5)]);if(!_0x256e23||_0x256e23<0x2){showToast(_0x51cfa1(0xcf),![]);return;}if(_0x256e23>0x64){showToast(_0x51cfa1(0x172),![]);return;}_0x1c6988=_0x256e23;}const _0x43cf95=clients[_0x51cfa1(0x187)](_0xb9473=>_0xb9473['name']===_0x74a7c5);if(!_0x43cf95){showToast(_0x51cfa1(0x184),![]);return;}const _0x45f05f=validateAppointment(_0x264070,_0x910feb,_0x3e8e36,editingId,_0x43cf95['id']);if(!_0x45f05f[_0x51cfa1(0x104)]){showToast(_0x45f05f[_0x51cfa1(0x198)],![]);return;}_0x45f05f[_0x51cfa1(0x156)]&&showToast(_0x45f05f[_0x51cfa1(0x156)],![]);const _0x31bcc1={'client':_0x74a7c5,'clientId':_0x43cf95['id'],'start':_0x910feb,'end':_0x3e8e36,'note':_0x4db1f3,'status':_0x51cfa1(0xfb)},_0x3a262a=editingId?sessions[_0x51cfa1(0x187)](_0x21de3b=>_0x21de3b['id']===editingId):null;if(_0x3a262a&&_0x3a262a['seriesId']){tempSessionData={..._0x31bcc1,'dateStr':_0x264070,'id':editingId,'seriesId':_0x3a262a[_0x51cfa1(0x143)]},openActionSheet('save');return;}let _0x1bd9fe=null;if(!editingId)_0x1bd9fe=_0x51cfa1(0x1df);else{if(_0x3a262a){if(String(_0x3a262a[_0x51cfa1(0x1e6)])!==String(_0x43cf95['id']))console['log'](_0x51cfa1(0x116)),NotificationManager[_0x51cfa1(0xb1)]('cancel',_0x3a262a),_0x1bd9fe=_0x51cfa1(0x1df);else(_0x3a262a[_0x51cfa1(0xc2)]!==_0x910feb||_0x3a262a[_0x51cfa1(0x1ee)]!==_0x3e8e36||_0x3a262a[_0x51cfa1(0xb7)]!==_0x264070)&&(_0x1bd9fe='update');}}if(!editingId&&_0x46ff1c){createBatchSeries(_0x31bcc1,_0x264070,_0x1c6988),NotificationManager[_0x51cfa1(0xb1)]('create',{..._0x31bcc1,'dateStr':_0x264070});return;}lastUserActionTime=Date[_0x51cfa1(0x122)]();const _0xaf6bdc={..._0x31bcc1,'dateStr':_0x264070,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0xaf6bdc),_0x1bd9fe&&NotificationManager[_0x51cfa1(0xb1)](_0x1bd9fe,_0xaf6bdc);}function toggleSessionStatus(){const _0x593774=a2_0x100f3a;lastUserActionTime=Date[_0x593774(0x122)]();const _0x3de921=sessions[_0x593774(0x187)](_0x1205f0=>_0x1205f0['id']===editingId);if(!_0x3de921)return;const _0x565152=_0x3de921[_0x593774(0x221)]===_0x593774(0xa9)?_0x593774(0xfb):_0x593774(0xa9);_0x3de921[_0x593774(0x221)]=_0x565152,saveSingleSession(_0x3de921),_0x565152===_0x593774(0xa9)&&NotificationManager[_0x593774(0xb1)](_0x593774(0x1c7),_0x3de921),showToast(_0x565152==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x593774(0x209),!![]);}function validateAppointment(_0x217b66,_0x5c2ed0,_0x42f902,_0x52ede7,_0x36f918){const _0x4b0d38=a2_0x100f3a,[_0x64c9b9,_0x90f7f8]=_0x5c2ed0[_0x4b0d38(0x218)](':')[_0x4b0d38(0xf7)](Number),[_0x2dbe68,_0x2e8097]=_0x42f902[_0x4b0d38(0x218)](':')['map'](Number),_0x674f73=_0x64c9b9*0x3c+_0x90f7f8,_0x50153e=_0x2dbe68*0x3c+_0x2e8097,_0x129cce=String(_0x36f918);let _0x193dd7=![],_0x3fabf8='';for(let _0x4defe0 of sessions){if(_0x4defe0[_0x4b0d38(0xb7)]!==_0x217b66)continue;if(_0x4defe0['status']===_0x4b0d38(0x12a))continue;if(_0x52ede7&&String(_0x4defe0['id'])===String(_0x52ede7))continue;const [_0x57b3b6,_0x7495a0]=_0x4defe0[_0x4b0d38(0xc2)][_0x4b0d38(0x218)](':')[_0x4b0d38(0xf7)](Number),[_0x41d05c,_0x4f0cd5]=_0x4defe0[_0x4b0d38(0x1ee)][_0x4b0d38(0x218)](':')['map'](Number),_0x59e8f0=_0x57b3b6*0x3c+_0x7495a0,_0x21fddf=_0x41d05c*0x3c+_0x4f0cd5;if(Math[_0x4b0d38(0x202)](_0x674f73,_0x59e8f0)<Math['min'](_0x50153e,_0x21fddf)){if(_0x4defe0['clientId']&&String(_0x4defe0[_0x4b0d38(0x1e6)])===_0x129cce)return{'valid':![],'msg':_0x4b0d38(0x140)+_0x4defe0[_0x4b0d38(0x20b)]+_0x4b0d38(0xa8)};_0x193dd7=!![],_0x3fabf8=_0x4defe0['client'];}}if(_0x193dd7)return{'valid':!![],'warning':_0x4b0d38(0x160)+_0x3fabf8};return{'valid':!![]};}function saveSingleSession(_0x13e8af){const _0x5599bf=a2_0x100f3a;if(editingId){const _0x4b8e7b=sessions[_0x5599bf(0xbd)](_0x15fba7=>_0x15fba7['id']===editingId);if(_0x4b8e7b!==-0x1)sessions[_0x4b8e7b]=_0x13e8af;}else sessions[_0x5599bf(0x192)](_0x13e8af);afterSaveAction([_0x13e8af[_0x5599bf(0xb7)]]);}function createBatchSeries(_0x533981,_0x520079,_0x335a0b){const _0x330957=a2_0x100f3a,_0x37b573=generateId(),_0x552538=[],_0x2c01ad=[];let _0x3ab9d9=0x0,_0x39ef92=new Date(_0x520079);for(let _0xf1c3f2=0x0;_0xf1c3f2<_0x335a0b;_0xf1c3f2++){const _0x36e425=getLocalDateStr(_0x39ef92),_0x373bd5=validateAppointment(_0x36e425,_0x533981[_0x330957(0xc2)],_0x533981[_0x330957(0x1ee)],null,_0x533981[_0x330957(0x1e6)]);if(!_0x373bd5[_0x330957(0x104)])console[_0x330957(0x18f)](_0x330957(0xed)+_0x36e425+_0x330957(0xe1)),_0x3ab9d9++;else{const _0x56991b={..._0x533981,'id':generateId(),'dateStr':_0x36e425,'seriesId':_0x37b573};_0x2c01ad[_0x330957(0x192)](_0x56991b),_0x552538[_0x330957(0x192)](_0x36e425);}_0x39ef92[_0x330957(0x125)](_0x39ef92[_0x330957(0xc6)]()+0x7);}if(_0x2c01ad['length']===0x0){showToast(_0x330957(0xc9),![]);return;}sessions[_0x330957(0x192)](..._0x2c01ad),lastUserActionTime=Date[_0x330957(0x122)]();let _0x2d556e=_0x330957(0x1d8)+_0x2c01ad[_0x330957(0x1f3)];_0x3ab9d9>0x0&&(_0x2d556e+=_0x330957(0x189)+_0x3ab9d9+')'),showToast(_0x2d556e,!![]),afterSaveAction(_0x552538);}function updateSeriesBatch(_0x2f00b3,_0x1f9c4b){const _0x1788a5=a2_0x100f3a,_0x419507=[],_0x238ded=_0x1f9c4b[_0x1788a5(0x143)];if(_0x2f00b3===_0x1788a5(0x1fb)){const _0x4c116c={..._0x1f9c4b,'seriesId':null},_0x24e804=sessions[_0x1788a5(0xbd)](_0x6bf5a0=>_0x6bf5a0['id']===_0x1f9c4b['id']);if(_0x24e804!==-0x1)sessions[_0x24e804]=_0x4c116c;_0x419507['push'](_0x4c116c[_0x1788a5(0xb7)]);}else{if(_0x2f00b3===_0x1788a5(0x170)){const _0x38fdf5=_0x1f9c4b[_0x1788a5(0xb7)];sessions['forEach']((_0x4ce446,_0x1dcbc1)=>{const _0x175b7d=_0x1788a5;_0x4ce446[_0x175b7d(0x143)]===_0x238ded&&_0x4ce446[_0x175b7d(0xb7)]>=_0x38fdf5&&(sessions[_0x1dcbc1]={...sessions[_0x1dcbc1],'start':_0x1f9c4b[_0x175b7d(0xc2)],'end':_0x1f9c4b[_0x175b7d(0x1ee)],'note':_0x1f9c4b['note'],'client':_0x1f9c4b['client'],'clientId':_0x1f9c4b[_0x175b7d(0x1e6)]},_0x419507[_0x175b7d(0x192)](_0x4ce446['dateStr']));});}}afterSaveAction(_0x419507);}function tryDeleteSession(){const _0x43a5b1=a2_0x100f3a,_0x362aac=sessions[_0x43a5b1(0x187)](_0x2b5d32=>_0x2b5d32['id']===editingId);if(!_0x362aac)return;_0x362aac[_0x43a5b1(0x143)]?openActionSheet(_0x43a5b1(0xe7)):commitDelete('single',_0x362aac);}function commitDelete(_0x57a3c2,_0x5e871d){const _0x1d63ec=a2_0x100f3a;lastUserActionTime=Date[_0x1d63ec(0x122)](),NotificationManager['send'](_0x1d63ec(0x1a2),_0x5e871d);const _0x14a974=[];if(_0x57a3c2==='single')sessions=sessions[_0x1d63ec(0x1f4)](_0x4c045a=>_0x4c045a['id']!==_0x5e871d['id']),_0x14a974['push'](_0x5e871d[_0x1d63ec(0xb7)]);else{if(_0x57a3c2==='series'){const _0x197fdf=_0x5e871d['dateStr'],_0x355fff=_0x5e871d[_0x1d63ec(0x143)];sessions[_0x1d63ec(0x17d)](_0x875c2e=>{const _0x39ae6a=_0x1d63ec;_0x875c2e[_0x39ae6a(0x143)]===_0x355fff&&_0x875c2e['dateStr']>=_0x197fdf&&_0x14a974['push'](_0x875c2e[_0x39ae6a(0xb7)]);}),sessions=sessions[_0x1d63ec(0x1f4)](_0x22d98e=>!(_0x22d98e[_0x1d63ec(0x143)]===_0x355fff&&_0x22d98e[_0x1d63ec(0xb7)]>=_0x197fdf));}}afterSaveAction(_0x14a974);}function afterSaveAction(_0x33f72b){const _0x6072b7=a2_0x100f3a;DataManager[_0x6072b7(0xdd)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x33f72b)['then'](()=>console[_0x6072b7(0x18f)](_0x6072b7(0xf0)))['catch'](_0x441ae9=>showToast(_0x6072b7(0xa2),![]));}const NotificationManager={'formatDate'(_0x1a6ef2){const _0x1fdab8=a2_0x100f3a,_0x2d4a89=new Date(_0x1a6ef2),_0x1c145b={'weekday':_0x1fdab8(0xd0),'day':_0x1fdab8(0x10b),'month':_0x1fdab8(0xd0)};let _0x3f8322=_0x2d4a89[_0x1fdab8(0x20c)]('ru-RU',_0x1c145b);return _0x3f8322['charAt'](0x0)[_0x1fdab8(0xd1)]()+_0x3f8322[_0x1fdab8(0x1a0)](0x1);},'getText'(_0x3e09a6,_0x47c677){const _0x577fa9=a2_0x100f3a,_0xa5aeae=this[_0x577fa9(0x124)](_0x47c677[_0x577fa9(0xb7)]);switch(_0x3e09a6){case _0x577fa9(0x1df):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xa5aeae+'\x0a')+(_0x577fa9(0xa6)+_0x47c677[_0x577fa9(0xc2)]+'\x20‚Äî\x20'+_0x47c677[_0x577fa9(0x1ee)]+'\x0a\x0a')+_0x577fa9(0xf9);case _0x577fa9(0x1d1):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x577fa9(0x14e)+('<b>‚úÖ\x20'+_0x47c677['start']+'\x20‚Äî\x20'+_0x47c677[_0x577fa9(0x1ee)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xa5aeae);case _0x577fa9(0x1a2):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x577fa9(0x211)+_0xa5aeae+'\x20('+_0x47c677[_0x577fa9(0xc2)]+_0x577fa9(0x1de));case _0x577fa9(0x1c7):return _0x577fa9(0x194)+_0x577fa9(0x1fc)+_0x577fa9(0x1c3);default:return'';}},async 'send'(_0x585f01,_0x154081){const _0x1fffdd=a2_0x100f3a;console['log']('[Notify]\x20Attempting\x20to\x20send:',_0x585f01,_0x154081);if(!_0x154081){console[_0x1fffdd(0x19c)](_0x1fffdd(0x13b));return;}const _0x17fb4e=String(_0x154081[_0x1fffdd(0x1e6)]);console[_0x1fffdd(0x18f)](_0x1fffdd(0x1f6),_0x17fb4e);if(!_0x154081['clientId']||_0x17fb4e===_0x1fffdd(0xe6)||_0x17fb4e==='null'){console['error'](_0x1fffdd(0x1be));if(_0x154081[_0x1fffdd(0x20b)]){const _0x5ccfe2=clients[_0x1fffdd(0x187)](_0xdf6e9c=>_0xdf6e9c[_0x1fffdd(0x1cb)]===_0x154081[_0x1fffdd(0x20b)]);if(_0x5ccfe2)return console[_0x1fffdd(0x18f)](_0x1fffdd(0x1a9),_0x5ccfe2['id']),this[_0x1fffdd(0xb1)](_0x585f01,{..._0x154081,'clientId':_0x5ccfe2['id']});}return;}if(_0x17fb4e[_0x1fffdd(0x1f3)]<0x5){console[_0x1fffdd(0x139)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x17fb4e);return;}const _0x3a4de9=this['getText'](_0x585f01,_0x154081);if(!_0x3a4de9){console[_0x1fffdd(0x19c)](_0x1fffdd(0x175));return;}console[_0x1fffdd(0x18f)](_0x1fffdd(0x158)+_0x17fb4e+'...'),DataManager['fetchFromServer'](_0x1fffdd(0x11d),{'chatId':_0x17fb4e,'text':_0x3a4de9})['then'](_0x548372=>console[_0x1fffdd(0x18f)](_0x1fffdd(0x1fe),_0x548372))[_0x1fffdd(0x134)](_0x3ed286=>console['error']('[Notify]\x20Network\x20Failed',_0x3ed286));}};function getLocalDateStr(_0x9d464d){const _0x15ae33=a2_0x100f3a,_0x666fe9=_0x9d464d['getFullYear'](),_0x2a217c=String(_0x9d464d['getMonth']()+0x1)[_0x15ae33(0x118)](0x2,'0'),_0x37076c=String(_0x9d464d[_0x15ae33(0xc6)]())['padStart'](0x2,'0');return _0x666fe9+'-'+_0x2a217c+'-'+_0x37076c;}function getDateStr(_0xb30ac3){const _0x4b4b28=a2_0x100f3a,_0x1f789b=new Date();return _0x1f789b[_0x4b4b28(0x125)](_0x1f789b[_0x4b4b28(0xc6)]()+_0xb30ac3),getLocalDateStr(_0x1f789b);}function getStartOfWeek(_0x3a37d7){const _0x4de059=a2_0x100f3a,_0x6db546=new Date(_0x3a37d7),_0x384770=_0x6db546[_0x4de059(0x1ba)](),_0x42c2af=_0x6db546[_0x4de059(0xc6)]()-_0x384770+(_0x384770===0x0?-0x6:0x1);return _0x6db546['setDate'](_0x42c2af),_0x6db546[_0x4de059(0x18c)](0x0,0x0,0x0,0x0),_0x6db546;}function hexToRgba(_0x42e228,_0x4d026a){const _0x71918a=a2_0x100f3a;if(!_0x42e228)return _0x71918a(0x109);let _0x10d95e=0x0,_0x32033b=0x0,_0x1236b5=0x0;if(_0x42e228[_0x71918a(0x1f3)]===0x4)_0x10d95e='0x'+_0x42e228[0x1]+_0x42e228[0x1],_0x32033b='0x'+_0x42e228[0x2]+_0x42e228[0x2],_0x1236b5='0x'+_0x42e228[0x3]+_0x42e228[0x3];else _0x42e228[_0x71918a(0x1f3)]===0x7&&(_0x10d95e='0x'+_0x42e228[0x1]+_0x42e228[0x2],_0x32033b='0x'+_0x42e228[0x3]+_0x42e228[0x4],_0x1236b5='0x'+_0x42e228[0x5]+_0x42e228[0x6]);return _0x71918a(0x1cd)+ +_0x10d95e+',\x20'+ +_0x32033b+',\x20'+ +_0x1236b5+',\x20'+_0x4d026a+')';}function renderTimeColumn(){const _0x78fabb=a2_0x100f3a,_0x4ef0d2=document['getElementById'](_0x78fabb(0x1c1)),_0x120786=document[_0x78fabb(0x200)](_0x78fabb(0xee));_0x4ef0d2[_0x78fabb(0x203)]='',_0x4ef0d2[_0x78fabb(0x106)](_0x120786);for(let _0xa8f714=0x0;_0xa8f714<0x18;_0xa8f714++){const _0x36cadb=document['createElement'](_0x78fabb(0x1af));_0x36cadb['className']='time-label';if(_0xa8f714>0x0)_0x36cadb[_0x78fabb(0x203)]='<span>'+String(_0xa8f714)[_0x78fabb(0x118)](0x2,'0')+_0x78fabb(0xf1);_0x4ef0d2['appendChild'](_0x36cadb);}}function renderDayRange(_0x2157f1,_0x413ea0){const _0x9f2698=a2_0x100f3a,_0x5f4125=document['getElementById']('daysHeaderTrack'),_0x4e833d=document[_0x9f2698(0x200)](_0x9f2698(0x1ef)),_0x34b836=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x533c14=new Date();_0x533c14['setHours'](0x0,0x0,0x0,0x0);const _0x5260d5=getLocalDateStr(new Date());for(let _0x2899ea=_0x2157f1;_0x2899ea<=_0x413ea0;_0x2899ea++){const _0x33129f=new Date(_0x533c14);_0x33129f[_0x9f2698(0x125)](_0x33129f[_0x9f2698(0xc6)]()+_0x2899ea);const _0xffc50c=getLocalDateStr(_0x33129f);let _0x3bcfb9=_0x33129f[_0x9f2698(0x1ba)]()-0x1;if(_0x3bcfb9===-0x1)_0x3bcfb9=0x6;const _0x592055=_0xffc50c===_0x5260d5,_0x50dbdd=document[_0x9f2698(0x21e)](_0x9f2698(0x1af));_0x50dbdd[_0x9f2698(0x1ed)]='day-col-header\x20'+(_0x592055?_0x9f2698(0x176):''),_0x50dbdd['id']=_0x9f2698(0x121)+_0xffc50c,_0x50dbdd['setAttribute'](_0x9f2698(0xbe),_0xffc50c),_0x50dbdd['innerHTML']=_0x9f2698(0xc8)+_0x34b836[_0x3bcfb9]+'</div><div\x20class=\x22dch-num\x22>'+_0x33129f['getDate']()+_0x9f2698(0x179)+_0xffc50c+_0x9f2698(0x14c),_0x50dbdd[_0x9f2698(0x1dc)]=()=>openDayOptions(_0xffc50c,_0x34b836[_0x3bcfb9]+'\x20'+_0x33129f[_0x9f2698(0xc6)]()),_0x5f4125[_0x9f2698(0x106)](_0x50dbdd);const _0x3eabab=document[_0x9f2698(0x21e)](_0x9f2698(0x1af));_0x3eabab[_0x9f2698(0x1ed)]=_0x9f2698(0x207)+(_0x592055?_0x9f2698(0x176):''),_0x3eabab[_0x9f2698(0x12c)](_0x9f2698(0xbe),_0xffc50c),_0x3eabab[_0x9f2698(0x12c)](_0x9f2698(0x1c0),_0x3bcfb9),renderEventsForColumn(_0x3eabab,_0xffc50c,_0x3bcfb9),attachLongPressHandler(_0x3eabab,_0x33129f),_0x4e833d[_0x9f2698(0x106)](_0x3eabab),updateDayStats(_0xffc50c);}}function reRenderBlocks(){const _0xabafbc=a2_0x100f3a;document[_0xabafbc(0xe3)](_0xabafbc(0x185))['forEach'](_0x562dd4=>{const _0x19c9f4=_0xabafbc;_0x562dd4[_0x19c9f4(0xe3)](_0x19c9f4(0x1dd))[_0x19c9f4(0x17d)](_0x434a85=>_0x434a85[_0x19c9f4(0x111)]());const _0x842213=_0x562dd4[_0x19c9f4(0x127)]('data-date'),_0x2a8486=parseInt(_0x562dd4[_0x19c9f4(0x127)](_0x19c9f4(0x1c0))),_0x2d020f=Math[_0x19c9f4(0x210)](_0x562dd4['offsetLeft']);(availabilityPattern[_0x2a8486]||[])[_0x19c9f4(0x17d)](_0x1a4980=>{const _0x39cc8b=_0x19c9f4,_0x29b339=document[_0x39cc8b(0x21e)](_0x39cc8b(0x1af));_0x29b339[_0x39cc8b(0x1ed)]=_0x39cc8b(0x1d6);const _0x3dd6a8=_0x1a4980*GRID_H;_0x29b339[_0x39cc8b(0x216)]['top']=_0x3dd6a8+'px',_0x29b339['style'][_0x39cc8b(0x130)]='-'+_0x2d020f+_0x39cc8b(0x145)+_0x3dd6a8+'px',_0x562dd4['appendChild'](_0x29b339);});if(specialRanges&&specialRanges['length']>0x0){const _0x454a98=new Date(_0x842213+'T00:00:00')[_0x19c9f4(0x21d)](),_0x15f11d=new Date(_0x842213+'T23:59:59')[_0x19c9f4(0x21d)]();specialRanges[_0x19c9f4(0x17d)](_0x5c8f55=>{const _0x311055=_0x19c9f4,_0x446a0c=new Date(_0x5c8f55[_0x311055(0xc2)])[_0x311055(0x21d)](),_0xad22a1=new Date(_0x5c8f55[_0x311055(0x1ee)])[_0x311055(0x21d)](),_0xd80261=Math[_0x311055(0x202)](_0x454a98,_0x446a0c),_0xa5cb8c=Math[_0x311055(0x13a)](_0x15f11d,_0xad22a1);if(_0xd80261<_0xa5cb8c){if(_0xd80261<=_0x454a98&&_0xa5cb8c>=_0x15f11d-0xea60){if(!_0x562dd4[_0x311055(0x17c)](_0x311055(0x1bf))){const _0x5028be=document['createElement'](_0x311055(0x1af));_0x5028be[_0x311055(0x1ed)]=_0x311055(0x15c),_0x5028be[_0x311055(0x216)][_0x311055(0x130)]='-'+_0x2d020f+'px\x200px',_0x562dd4[_0x311055(0x106)](_0x5028be);}}else{const _0x1c8269=(_0xd80261-_0x454a98)/0x36ee80*GRID_H,_0x17d291=(_0xa5cb8c-_0xd80261)/0x36ee80*GRID_H,_0x54e41c=document[_0x311055(0x21e)](_0x311055(0x1af));_0x54e41c[_0x311055(0x1ed)]=_0x311055(0x1fd),_0x54e41c['style']['top']=_0x1c8269+'px',_0x54e41c[_0x311055(0x216)][_0x311055(0x1b4)]=_0x17d291+'px',_0x54e41c[_0x311055(0x216)][_0x311055(0x130)]='-'+_0x2d020f+_0x311055(0x145)+_0x1c8269+'px',_0x562dd4[_0x311055(0x106)](_0x54e41c);}}});}if(dateExceptions[_0x842213]===_0x19c9f4(0x15a)){if(!_0x562dd4[_0x19c9f4(0x17c)](_0x19c9f4(0x1bf))){const _0x83231c=document[_0x19c9f4(0x21e)](_0x19c9f4(0x1af));_0x83231c[_0x19c9f4(0x1ed)]=_0x19c9f4(0x15c),_0x83231c[_0x19c9f4(0x216)]['backgroundPosition']='-'+_0x2d020f+_0x19c9f4(0x213),_0x562dd4[_0x19c9f4(0x106)](_0x83231c);}}renderEventsForColumn(_0x562dd4,_0x842213,_0x2a8486),updateDayStats(_0x842213);});}function updateAllDayStats(){const _0x3fb830=a2_0x100f3a;document[_0x3fb830(0xe3)](_0x3fb830(0x14b))[_0x3fb830(0x17d)](_0x4613ce=>{const _0x30535d=_0x3fb830;updateDayStats(_0x4613ce[_0x30535d(0x127)](_0x30535d(0xbe)));});}function updateDayStats(_0xe235e9){const _0x1892db=a2_0x100f3a,_0x4740ea=document[_0x1892db(0x200)](_0x1892db(0x1b1)+_0xe235e9);if(!_0x4740ea)return;const _0x11ff57=new Date(_0xe235e9);let _0x4bcf6b=_0x11ff57[_0x1892db(0x1ba)]()-0x1;if(_0x4bcf6b===-0x1)_0x4bcf6b=0x6;if(dateExceptions[_0xe235e9]==='off'){_0x4740ea[_0x1892db(0x216)][_0x1892db(0x147)]=_0x1892db(0x149);return;}const _0x3083a5=availabilityPattern[_0x4bcf6b]||[],_0x5cd060=0x18-_0x3083a5[_0x1892db(0x1f3)],_0x466e6e=_0x5cd060*0x3c,_0x377e28=sessions['filter'](_0x409d37=>_0x409d37[_0x1892db(0xb7)]===_0xe235e9&&_0x409d37[_0x1892db(0x221)]!==_0x1892db(0x12a));if(_0x377e28[_0x1892db(0x1f3)]===0x0){_0x4740ea[_0x1892db(0x216)]['display']='none';return;}let _0x3494a8=_0x377e28['map'](_0x35472f=>{const _0x7255bd=_0x1892db,[_0x2cf054,_0x57537b]=_0x35472f['start'][_0x7255bd(0x218)](':')[_0x7255bd(0xf7)](Number),[_0x57581c,_0x461cb0]=_0x35472f[_0x7255bd(0x1ee)][_0x7255bd(0x218)](':')[_0x7255bd(0xf7)](Number);return[_0x2cf054*0x3c+_0x57537b,_0x57581c*0x3c+_0x461cb0];});_0x3494a8[_0x1892db(0xfc)]((_0xfe2784,_0x29158f)=>_0xfe2784[0x0]-_0x29158f[0x0]);let _0x49d525=[];if(_0x3494a8[_0x1892db(0x1f3)]>0x0){let _0xcfff68=_0x3494a8[0x0];for(let _0x40fc5b=0x1;_0x40fc5b<_0x3494a8['length'];_0x40fc5b++){_0x3494a8[_0x40fc5b][0x0]<_0xcfff68[0x1]?_0xcfff68[0x1]=Math[_0x1892db(0x202)](_0xcfff68[0x1],_0x3494a8[_0x40fc5b][0x1]):(_0x49d525[_0x1892db(0x192)](_0xcfff68),_0xcfff68=_0x3494a8[_0x40fc5b]);}_0x49d525[_0x1892db(0x192)](_0xcfff68);}let _0x2367d4=0x0;_0x49d525[_0x1892db(0x17d)](_0x3bd41e=>_0x2367d4+=_0x3bd41e[0x1]-_0x3bd41e[0x0]),_0x4740ea['style'][_0x1892db(0x147)]=_0x1892db(0xd3);const _0x4ea781=_0x4740ea['querySelector'](_0x1892db(0x13d));if(_0x466e6e===0x0){_0x4ea781[_0x1892db(0x216)][_0x1892db(0xd6)]=_0x1892db(0x20e),_0x4ea781[_0x1892db(0x216)]['background']=_0x1892db(0x11c);return;}const _0x43505d=_0x2367d4/_0x466e6e*0x64;console[_0x1892db(0x18f)]('['+_0xe235e9+_0x1892db(0x1c6)+_0x5cd060+_0x1892db(0x1a8)+_0x2367d4+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x43505d[_0x1892db(0xac)](0x1)+'%'),_0x43505d>0x64?(_0x4ea781['style'][_0x1892db(0xd6)]=_0x1892db(0x20e),_0x4ea781[_0x1892db(0x216)][_0x1892db(0x1c4)]=_0x1892db(0x11c)):(_0x4ea781['style'][_0x1892db(0xd6)]=_0x43505d+'%',_0x4ea781[_0x1892db(0x216)][_0x1892db(0x1c4)]='var(--acc-current)');}function renderEventsForColumn(_0x475e8c,_0x28d50c,_0xa78357){const _0x39e24e=a2_0x100f3a,_0x482646=sessions['filter'](_0x535995=>_0x535995[_0x39e24e(0xb7)]===_0x28d50c),_0x4842c2=_0x482646[_0x39e24e(0xf7)](_0x388013=>{const _0x15a74b=_0x39e24e,[_0x1bce4e,_0xfc4cf]=_0x388013[_0x15a74b(0xc2)]['split'](':')['map'](Number),[_0x454b99,_0x38b317]=_0x388013[_0x15a74b(0x1ee)][_0x15a74b(0x218)](':')[_0x15a74b(0xf7)](Number);return{'data':_0x388013,'start':_0x1bce4e*0x3c+_0xfc4cf,'end':_0x454b99*0x3c+_0x38b317,'colIndex':0x0};});_0x4842c2['sort']((_0x55ec54,_0x372087)=>{const _0x1423b3=_0x39e24e;if(_0x55ec54[_0x1423b3(0xc2)]!==_0x372087['start'])return _0x55ec54[_0x1423b3(0xc2)]-_0x372087[_0x1423b3(0xc2)];return _0x372087[_0x1423b3(0x1ee)]-_0x372087['start']-(_0x55ec54['end']-_0x55ec54[_0x1423b3(0xc2)]);});const _0x3c957b=[];_0x4842c2['forEach'](_0x3b927=>{const _0x5b6843=_0x39e24e;let _0x4669e7=![];for(let _0x28ec3a=0x0;_0x28ec3a<_0x3c957b[_0x5b6843(0x1f3)];_0x28ec3a++){const _0x2f67ad=_0x3c957b[_0x28ec3a],_0xa0d068=_0x2f67ad[_0x2f67ad['length']-0x1];if(_0x3b927[_0x5b6843(0xc2)]>=_0xa0d068[_0x5b6843(0x1ee)]){_0x2f67ad[_0x5b6843(0x192)](_0x3b927),_0x3b927[_0x5b6843(0xf6)]=_0x28ec3a,_0x4669e7=!![];break;}}!_0x4669e7&&(_0x3c957b[_0x5b6843(0x192)]([_0x3b927]),_0x3b927[_0x5b6843(0xf6)]=_0x3c957b['length']-0x1);}),_0x4842c2[_0x39e24e(0x17d)](_0x5940e3=>{const _0x5a81d0=_0x39e24e;let _0x4becfd=0x0;_0x4842c2['forEach'](_0x5a295a=>{const _0x14cb94=a2_0x372b;if(Math[_0x14cb94(0x202)](_0x5940e3[_0x14cb94(0xc2)],_0x5a295a['start'])<Math['min'](_0x5940e3[_0x14cb94(0x1ee)],_0x5a295a['end'])){if(_0x5a295a[_0x14cb94(0xf6)]>_0x4becfd)_0x4becfd=_0x5a295a[_0x14cb94(0xf6)];}});const _0x2cf769=_0x4becfd+0x1,_0x3762dd=0x64/_0x2cf769,_0x1309fe=_0x5940e3['colIndex']*_0x3762dd,_0x46f032=createEventEl(_0x5940e3[_0x5a81d0(0xd5)]);_0x46f032[_0x5a81d0(0x216)][_0x5a81d0(0xd6)]=_0x5a81d0(0x180)+_0x3762dd+_0x5a81d0(0x1ae),_0x46f032[_0x5a81d0(0x216)][_0x5a81d0(0x10f)]=_0x5a81d0(0x180)+_0x1309fe+'%\x20+\x202px)',_0x46f032[_0x5a81d0(0x216)][_0x5a81d0(0x21b)]=0xa+_0x5940e3['colIndex'],_0x3762dd<0x55&&_0x46f032[_0x5a81d0(0x151)]['add']('mini'),_0x475e8c['appendChild'](_0x46f032);});}function createEventEl(_0x5448cc){const _0x1ba159=a2_0x100f3a,[_0x471551,_0x55ffeb]=_0x5448cc[_0x1ba159(0xc2)][_0x1ba159(0x218)](':')['map'](Number),[_0x4b8231,_0x356ed3]=_0x5448cc[_0x1ba159(0x1ee)][_0x1ba159(0x218)](':')['map'](Number),_0x1de224=(_0x471551*0x3c+_0x55ffeb)/0x3c*GRID_H,_0x3f5cb4=(_0x4b8231*0x3c+_0x356ed3-(_0x471551*0x3c+_0x55ffeb))/0x3c*GRID_H,_0x13a458=document[_0x1ba159(0x21e)](_0x1ba159(0x1af)),_0x8da8e9=_0x5448cc[_0x1ba159(0x221)]==='completed'?'\x20status-completed':'';_0x13a458[_0x1ba159(0x1ed)]=_0x1ba159(0x1fa)+_0x8da8e9,_0x13a458[_0x1ba159(0x216)]['top']=_0x1de224+'px',_0x13a458[_0x1ba159(0x216)][_0x1ba159(0x1b4)]=Math[_0x1ba159(0x202)](_0x3f5cb4,0x14)+'px';const _0x370053=clients[_0x1ba159(0x187)](_0x2ed75f=>_0x5448cc[_0x1ba159(0x1e6)]&&String(_0x2ed75f['id'])===String(_0x5448cc['clientId'])||_0x2ed75f[_0x1ba159(0x1cb)]===_0x5448cc[_0x1ba159(0x20b)]),_0x40a4ae=_0x370053?_0x370053[_0x1ba159(0xd7)]:_0x1ba159(0x212);_0x13a458[_0x1ba159(0x216)][_0x1ba159(0x19d)]=_0x40a4ae,_0x13a458[_0x1ba159(0x216)][_0x1ba159(0xdc)]=hexToRgba(_0x40a4ae,0.85);let _0x40937a=_0x1ba159(0x1ab)+_0x5448cc[_0x1ba159(0x20b)]+_0x1ba159(0xa1)+_0x5448cc[_0x1ba159(0xc2)]+_0x1ba159(0x10c)+_0x5448cc[_0x1ba159(0x1ee)]+_0x1ba159(0x14d);return _0x5448cc[_0x1ba159(0x143)]&&(_0x40937a+=_0x1ba159(0x1bc)),_0x5448cc['status']==='completed'&&(_0x40937a+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x13a458[_0x1ba159(0x203)]=_0x40937a,_0x13a458[_0x1ba159(0x1dc)]=_0x330a47=>{const _0x5a5060=_0x1ba159;_0x330a47[_0x5a5060(0x15d)](),openEdit(_0x5448cc);},_0x13a458;}function attachLongPressHandler(_0x3e9455,_0x43450e){const _0x3f40b6=a2_0x100f3a;let _0x5899df=0x0,_0xc06ac0=null;const _0x328fe5=_0x42c403=>{const _0x37aae9=a2_0x372b;if(_0x42c403['target'][_0x37aae9(0x133)](_0x37aae9(0x19b)))return;isScrolling=![],_0x5899df=_0x42c403[_0x37aae9(0x1a7)]?_0x42c403[_0x37aae9(0x1a7)][0x0][_0x37aae9(0x1b5)]:_0x42c403[_0x37aae9(0x1b5)],_0xc06ac0=setTimeout(()=>{const _0x2ef5a3=_0x37aae9;if(!isScrolling){navigator[_0x2ef5a3(0x16a)]?.(0x32);const _0x35c012=_0x3e9455[_0x2ef5a3(0x12f)](),_0x24094b=Math[_0x2ef5a3(0x1b9)]((_0x5899df-_0x35c012[_0x2ef5a3(0x11a)])/GRID_H);_0x43450e[_0x2ef5a3(0x18c)](_0x24094b,0x0),openAddSession(_0x43450e);}},0x1f4);},_0x50aade=()=>{isScrolling=!![],clearTimeout(_0xc06ac0);},_0x460c5d=()=>{clearTimeout(_0xc06ac0);};_0x3e9455[_0x3f40b6(0x1a6)](_0x3f40b6(0x1e0),_0x328fe5,{'passive':!![]}),_0x3e9455[_0x3f40b6(0x1a6)](_0x3f40b6(0x13f),_0x50aade,{'passive':!![]}),_0x3e9455[_0x3f40b6(0x1a6)](_0x3f40b6(0x150),_0x460c5d),_0x3e9455[_0x3f40b6(0x1a6)](_0x3f40b6(0x1a3),_0x328fe5),_0x3e9455[_0x3f40b6(0x1a6)](_0x3f40b6(0x1a1),_0x50aade),_0x3e9455['addEventListener'](_0x3f40b6(0x157),_0x460c5d);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x367a30=a2_0x100f3a,_0x158163=document[_0x367a30(0x200)](_0x367a30(0x183)),_0x3d1fa9=_0x158163[_0x367a30(0x1e2)],_0x32c947=_0x158163[_0x367a30(0xb6)],_0x4a82cc=_0x158163['clientWidth'];if(_0x32c947-(_0x3d1fa9+_0x4a82cc)<0x12c){const _0x3ca5e2=endOffset;endOffset+=0xe,renderDayRange(_0x3ca5e2+0x1,endOffset),reRenderBlocks();}if(_0x3d1fa9<0x12c){const _0x172045=startOffset;startOffset-=0xe,prependDays(startOffset,_0x172045-0x1),_0x158163[_0x367a30(0x1e2)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2ab233,_0x35d087){const _0x13c07a=a2_0x100f3a,_0x467238=document[_0x13c07a(0x200)]('daysHeaderTrack'),_0x3b2258=document[_0x13c07a(0x200)](_0x13c07a(0x1ef)),_0x3ece38=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x23b879=new Date();_0x23b879['setHours'](0x0,0x0,0x0,0x0);const _0xa1fcd1=getLocalDateStr(new Date()),_0x159083=document[_0x13c07a(0x197)](),_0xdc85d3=document[_0x13c07a(0x197)]();for(let _0x57ac0e=_0x2ab233;_0x57ac0e<=_0x35d087;_0x57ac0e++){const _0x5a1692=new Date(_0x23b879);_0x5a1692[_0x13c07a(0x125)](_0x5a1692[_0x13c07a(0xc6)]()+_0x57ac0e);const _0x56f4ce=getLocalDateStr(_0x5a1692);let _0x17cbf4=_0x5a1692['getDay']()-0x1;if(_0x17cbf4===-0x1)_0x17cbf4=0x6;const _0x24a66d=_0x56f4ce===_0xa1fcd1,_0x57b21c=document[_0x13c07a(0x21e)]('div');_0x57b21c[_0x13c07a(0x1ed)]=_0x13c07a(0x205)+(_0x24a66d?_0x13c07a(0x176):''),_0x57b21c['id']='header-'+_0x56f4ce,_0x57b21c['setAttribute']('data-date',_0x56f4ce),_0x57b21c[_0x13c07a(0x203)]=_0x13c07a(0xc8)+_0x3ece38[_0x17cbf4]+'</div><div\x20class=\x22dch-num\x22>'+_0x5a1692[_0x13c07a(0xc6)]()+_0x13c07a(0x179)+_0x56f4ce+_0x13c07a(0x14c),_0x57b21c['onclick']=()=>openDayOptions(_0x56f4ce,_0x3ece38[_0x17cbf4]+'\x20'+_0x5a1692[_0x13c07a(0xc6)]()),_0x159083[_0x13c07a(0x106)](_0x57b21c);const _0x527029=document['createElement'](_0x13c07a(0x1af));_0x527029[_0x13c07a(0x1ed)]='day-column\x20'+(_0x24a66d?_0x13c07a(0x176):''),_0x527029['setAttribute']('data-date',_0x56f4ce),_0x527029['setAttribute'](_0x13c07a(0x1c0),_0x17cbf4),renderEventsForColumn(_0x527029,_0x56f4ce,_0x17cbf4),attachLongPressHandler(_0x527029,_0x5a1692),_0xdc85d3[_0x13c07a(0x106)](_0x527029),updateDayStats(_0x56f4ce);}_0x467238[_0x13c07a(0xca)](_0x159083,_0x467238[_0x13c07a(0x15e)]),_0x3b2258['insertBefore'](_0xdc85d3,_0x3b2258[_0x13c07a(0x17c)](_0x13c07a(0x1b3)));}function validateAppointment(_0x57c625,_0x137bcf,_0x21ba37,_0x2353cf,_0xc62be6){const _0x57033f=a2_0x100f3a,[_0x770134,_0x37c14f]=_0x137bcf[_0x57033f(0x218)](':')[_0x57033f(0xf7)](Number),[_0x3d06a0,_0x1ebc68]=_0x21ba37[_0x57033f(0x218)](':')[_0x57033f(0xf7)](Number),_0x2701b6=_0x770134*0x3c+_0x37c14f,_0x3e7b6b=_0x3d06a0*0x3c+_0x1ebc68,_0x298ade=String(_0xc62be6);let _0x5e9153=![],_0x2f7320='';for(let _0x14fb58 of sessions){if(_0x14fb58[_0x57033f(0xb7)]!==_0x57c625)continue;if(_0x14fb58[_0x57033f(0x221)]==='cancelled')continue;if(_0x2353cf&&String(_0x14fb58['id'])===String(_0x2353cf))continue;const [_0xe4ead3,_0xbd17de]=_0x14fb58[_0x57033f(0xc2)]['split'](':')[_0x57033f(0xf7)](Number),[_0x245df6,_0x24ee36]=_0x14fb58[_0x57033f(0x1ee)][_0x57033f(0x218)](':')['map'](Number),_0x3185fd=_0xe4ead3*0x3c+_0xbd17de,_0x5f1477=_0x245df6*0x3c+_0x24ee36;if(Math[_0x57033f(0x202)](_0x2701b6,_0x3185fd)<Math[_0x57033f(0x13a)](_0x3e7b6b,_0x5f1477)){if(_0x14fb58[_0x57033f(0x1e6)]&&String(_0x14fb58[_0x57033f(0x1e6)])===_0x298ade)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x14fb58[_0x57033f(0x20b)]+_0x57033f(0xa8)};_0x5e9153=!![],_0x2f7320=_0x14fb58['client'];}}if(_0x5e9153)return{'valid':!![],'warning':_0x57033f(0x160)+_0x2f7320};return{'valid':!![]};}function updateDateDisplay(){const _0x419830=a2_0x100f3a,_0x1e8e17=document[_0x419830(0x200)]('inpDate')[_0x419830(0xa5)],_0x37dfa7=document['getElementById'](_0x419830(0x1db));if(!_0x1e8e17){_0x37dfa7[_0x419830(0x11e)]='';return;}const [_0x43bf21,_0x529a4d,_0x1c7e72]=_0x1e8e17[_0x419830(0x218)]('-')[_0x419830(0xf7)](Number),_0x28c121=new Date(_0x43bf21,_0x529a4d-0x1,_0x1c7e72),_0x26c5ce={'weekday':_0x419830(0xd0),'day':_0x419830(0x10b),'month':_0x419830(0xd0),'year':_0x419830(0x10b)};let _0x3b9ec2=_0x28c121[_0x419830(0x20c)](_0x419830(0x182),_0x26c5ce);_0x3b9ec2=_0x3b9ec2[_0x419830(0x19e)](0x0)[_0x419830(0xd1)]()+_0x3b9ec2['slice'](0x1),_0x37dfa7[_0x419830(0x11e)]=_0x3b9ec2;}function autoSetEndTime(){const _0x2c58ee=a2_0x100f3a,_0x12605a=document[_0x2c58ee(0x200)]('inpStart')[_0x2c58ee(0xa5)];if(!_0x12605a)return;const [_0x5384c1,_0x39c2d8]=_0x12605a[_0x2c58ee(0x218)](':')[_0x2c58ee(0xf7)](Number);let _0x114125=_0x5384c1+0x1;if(_0x114125>0x17)_0x114125=0x0;const _0x4bb225=String(_0x114125)[_0x2c58ee(0x118)](0x2,'0')+':'+String(_0x39c2d8)[_0x2c58ee(0x118)](0x2,'0');document[_0x2c58ee(0x200)](_0x2c58ee(0xc3))[_0x2c58ee(0xa5)]=_0x4bb225;}function populateClientSelect(){const _0x8c2529=a2_0x100f3a,_0x1779ff=document[_0x8c2529(0x200)]('inpClient');_0x1779ff[_0x8c2529(0x203)]='';if(clients['length']===0x0){const _0x341cc9=document[_0x8c2529(0x21e)](_0x8c2529(0x1aa));_0x341cc9[_0x8c2529(0xae)]=_0x8c2529(0x101),_0x1779ff[_0x8c2529(0x106)](_0x341cc9);return;}clients[_0x8c2529(0x17d)](_0x1b0e2b=>{const _0x30fab6=_0x8c2529,_0x39b7ea=document[_0x30fab6(0x21e)]('option');_0x39b7ea[_0x30fab6(0xa5)]=_0x1b0e2b['name'],_0x39b7ea[_0x30fab6(0x11e)]=_0x1b0e2b[_0x30fab6(0x1cb)],_0x1779ff[_0x30fab6(0x106)](_0x39b7ea);});}function openActionSheet(_0x4c117e){const _0x2c38c4=a2_0x100f3a,_0x3483b9=document[_0x2c38c4(0x200)](_0x2c38c4(0x17f)),_0x20cb0c=document[_0x2c38c4(0x200)]('actionSheetOverlay'),_0x59251c=document[_0x2c38c4(0x200)](_0x2c38c4(0x105)),_0x1559c3=document[_0x2c38c4(0x200)](_0x2c38c4(0x190)),_0x2e1340=document[_0x2c38c4(0x200)]('asBtnSeries');_0x20cb0c['classList'][_0x2c38c4(0x166)](_0x2c38c4(0xbc)),_0x3483b9[_0x2c38c4(0x151)][_0x2c38c4(0x166)]('open');if(_0x4c117e===_0x2c38c4(0x137))_0x59251c['textContent']=_0x2c38c4(0x138),_0x1559c3[_0x2c38c4(0x11e)]=_0x2c38c4(0xa0),_0x1559c3['onclick']=()=>{const _0x4a25e4=_0x2c38c4;closeActionSheet(),updateSeriesBatch(_0x4a25e4(0x1fb),tempSessionData);},_0x2e1340['textContent']=_0x2c38c4(0xc1),_0x2e1340[_0x2c38c4(0x1dc)]=()=>{const _0x2b6df0=_0x2c38c4;closeActionSheet(),updateSeriesBatch(_0x2b6df0(0x170),tempSessionData);};else _0x4c117e===_0x2c38c4(0xe7)&&(_0x59251c[_0x2c38c4(0x11e)]=_0x2c38c4(0x17a),_0x1559c3[_0x2c38c4(0x11e)]=_0x2c38c4(0xa0),_0x1559c3['className']='as-button\x20danger',_0x1559c3[_0x2c38c4(0x1dc)]=()=>{const _0xe7d11b=_0x2c38c4;closeActionSheet(),commitDelete(_0xe7d11b(0x1fb),sessions[_0xe7d11b(0x187)](_0x2ece3e=>_0x2ece3e['id']===editingId));},_0x2e1340[_0x2c38c4(0x11e)]=_0x2c38c4(0xc1),_0x2e1340['className']=_0x2c38c4(0x112),_0x2e1340[_0x2c38c4(0x1dc)]=()=>{const _0x154439=_0x2c38c4;closeActionSheet(),commitDelete(_0x154439(0x170),sessions[_0x154439(0x187)](_0x3ff714=>_0x3ff714['id']===editingId));});}function closeActionSheet(){const _0x257df5=a2_0x100f3a;document[_0x257df5(0x200)](_0x257df5(0x17f))[_0x257df5(0x151)][_0x257df5(0x111)]('open'),document[_0x257df5(0x200)](_0x257df5(0x1f5))['classList']['remove'](_0x257df5(0xbc));}function openSettings(){const _0x38e02d=a2_0x100f3a;openSheet(_0x38e02d(0x219));}function saveCoachSettings(){const _0x125b90=a2_0x100f3a,_0x4e92eb=document[_0x125b90(0x200)](_0x125b90(0x17b))['value'];localStorage['setItem'](_0x125b90(0x159),_0x4e92eb),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x4e92eb),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x4e92eb}})[_0x125b90(0x134)](_0x56d980=>{const _0x27c15c=_0x125b90;console[_0x27c15c(0x19c)]('Save\x20settings\x20error:',_0x56d980),showToast(_0x27c15c(0xa3),![]);});}function a2_0x5b49(){const _0x181c71=['[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','.day-off-overlay','data-day-idx','timeColumn','10px','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','background','DOMContentLoaded',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','complete','patternInfoBox','disableVerticalSwipes','rangeStartDate','name','range-item','rgba(','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','inpNote','update','parse','success','getHours','note','blocked-slot\x20stripe-bg','Error\x20setting\x20back\x20button:','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','syncLoad','10XSCGQc','sheetDateSubtitle','onclick','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','create','touchstart','sessionSheet','scrollLeft','toastTitle','recurringOptionContainer','anEnd','clientId','uc_clients_v9','de-item','rgba(255,\x2069,\x2058,\x200.15)','rangesList','calendar','client-stat-card','className','end','gridColumns','toastMessage','offsetWidth','clientWidth','length','filter','actionSheetOverlay','[Notify]\x20Detected\x20Client\x20ID:','inpSeriesCount','pattern','rgba(255,\x20159,\x2010,\x200.3)','event-card','single','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','blocked-range-part\x20stripe-bg','[Notify]\x20Server\x20Response:',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','getElementById',':00','max','innerHTML','.period-switch\x20.p-btn','day-col-header\x20','deleted','day-column\x20','sid','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','\x20‚Äî\x20','client','toLocaleDateString','seriesCountContainer','100%','589326merBGN','round','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','#0a84ff','px\x200px','496yDBSsP','save_settings','style','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','settingsSheet','location','zIndex','week','getTime','createElement','var(--acc-green)','10px\x2010px\x200\x200','status','splice','exceptions','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','</div><div\x20class=\x22ev-time\x22>','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','value','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','btnDayToggle',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','completed','15GpQCmh','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','toFixed','pe-cell\x20','text','inpRecurring','constructor','send','48828YVgaKk','patternEditor','checked','doBusyHours','scrollWidth','dateStr','then','borderColor','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','findIndex','data-date','BackButton','custom','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','start','inpEnd','23:59','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','getDate','3949cYbgDt','<div\x20class=\x22dch-day\x22>','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','insertBefore','7uufgnU','var(--acc-orange)','5753bxGdQd','month','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','long','toUpperCase','getMonth','flex','rangeEndTime','data','width','color','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','json','getFullYear','getItem','backgroundColor','saveLocally','inpStart','isArray','8508276aCIgci',':\x20Client\x20already\x20booked','block','querySelectorAll','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','ranges','undefined','delete','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','setBackgroundColor','toast-notification\x20','keys','stringify','[Series]\x20Skipped\x20','timeLineBadge','initData','Batch\x20Sync\x20OK',':00</span>','pe-time-label','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','fetchFromServer','#050505','colIndex','map','total','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','7886344tpOybl','planned','sort','v9.0-BATCH-CALENDAR','btn-primary\x20btn-danger','Server\x20Error','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','getMinutes','WebApp','valid','asTitle','appendChild','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(100,100,100,0.5)','POST','numeric','\x20-\x20','globalTimeLine','analyticsSheet','left','uc_sessions_v9','remove','as-button\x20danger\x20bold','dayOptionsSheet','mergeServerData','setItem','[Notify]\x20Client\x20SWAP\x20detected','overlay','padStart','text/plain;charset=UTF-8','top','(((.+)+)+)+$','var(--acc-red)','send_notification','textContent','pe-col-header','open','header-','now','rangeEndDate','formatDate','setDate','search','getAttribute','indexOf','sheetTitle','cancelled','initDataUnsafe','setAttribute','00:00','anDonutCircle','getBoundingClientRect','backgroundPosition','dayOptionsTitle','</span>\x20/\x20','closest','catch','Error\x20setting\x20color:','entries','save','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','warn','min','[Notify]\x20Error:\x20sessionData\x20is\x20null','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','.dch-stats-fill','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','touchmove','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','rgba(255,\x2069,\x2058,\x200.3)','Local\x20Save\x20Error','seriesId','anStart','px\x20-','anTotalStats','display','rangesSheet','none','anPercent','.day-col-header','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','</div>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','touchend','classList','borderRadius','doDateHeader','apply','setHeaderColor','warning','mouseup','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','uc_settings_cancel_window','off','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','day-off-overlay\x20stripe-bg','stopPropagation','firstChild','.pib-text','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','inpDate','btnStatusToggle','2776032srFSAY','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','inpClient','add','statLoadCard','btnDelete','Telegram','vibrate','analyticsList','\x20–∏–∑\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','includes','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','series','3868228hJiVCZ','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','anCustomDates','peGrid','[Notify]\x20Error:\x20Text\x20generation\x20failed','today','Local\x20Load\x20Error','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–£–¥–∞–ª–µ–Ω–∏–µ','settingCancelWindow','querySelector','forEach','init_load','actionSheet','calc(','Unknown','ru-RU','matrixViewport','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','#gridColumns\x20.day-column','show','find','user','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','doEventsList','headerMonth','setHours','ready','pe-corner','log','asBtnOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','push','done','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','btn-status-toggle','loadLocal','createDocumentFragment','msg','btn-primary\x20btn-secondary','href','.event-card','error','borderLeftColor','charAt','offClick','slice','mousemove','cancel','mousedown','random','–ò–Ω—Ñ–æ','addEventListener','touches','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','option','<div\x20class=\x22ev-title\x22>','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','from','%\x20-\x204px)','div','rgba(48,\x20209,\x2088,\x200.15)','stat-','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','.day-column','height','clientY','settings','\x20days','cancel_window','floor','getDay','toast','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','clients'];a2_0x5b49=function(){return _0x181c71;};return a2_0x5b49();}function loadCoachSettings(){const _0xcfc62c=a2_0x100f3a,_0x29084a=localStorage['getItem']('uc_settings_cancel_window');_0x29084a&&(document['getElementById'](_0xcfc62c(0x17b))['value']=_0x29084a);}function openRangesSheet(){const _0x23da24=a2_0x100f3a;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x23da24(0x148));}function addRange(){const _0x2c1920=a2_0x100f3a,_0x5e7b9c=document['getElementById'](_0x2c1920(0x1ca))[_0x2c1920(0xa5)],_0x16281e=document[_0x2c1920(0x200)]('rangeStartTime')[_0x2c1920(0xa5)],_0x40d59c=document[_0x2c1920(0x200)](_0x2c1920(0x123))[_0x2c1920(0xa5)],_0x4d3d82=document['getElementById'](_0x2c1920(0xd4))[_0x2c1920(0xa5)];if(!_0x5e7b9c||!_0x16281e||!_0x40d59c||!_0x4d3d82)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x24eb66=_0x5e7b9c+'T'+_0x16281e,_0x3633af=_0x40d59c+'T'+_0x4d3d82;if(_0x24eb66>=_0x3633af)return alert(_0x2c1920(0x100));specialRanges[_0x2c1920(0x192)]({'start':_0x24eb66,'end':_0x3633af}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2c1920(0xdd)](),DataManager['fetchFromServer'](_0x2c1920(0x215),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x205503){const _0x43a604=a2_0x100f3a;specialRanges[_0x43a604(0x222)](_0x205503,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x43a604(0xdd)](),DataManager['fetchFromServer'](_0x43a604(0x215),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x37b285=a2_0x100f3a;document[_0x37b285(0x200)](_0x37b285(0x1ca))[_0x37b285(0xa5)]='',document[_0x37b285(0x200)]('rangeStartTime')['value']=_0x37b285(0x12d),document['getElementById'](_0x37b285(0x123))[_0x37b285(0xa5)]='',document['getElementById'](_0x37b285(0xd4))['value']=_0x37b285(0xc4);}function renderRangesList(){const _0x36751c=a2_0x100f3a,_0x57d554=document[_0x36751c(0x200)](_0x36751c(0x1ea));_0x57d554[_0x36751c(0x203)]='';if(!specialRanges[_0x36751c(0x1f3)]){_0x57d554[_0x36751c(0x203)]=_0x36751c(0x16d);return;}specialRanges[_0x36751c(0x17d)]((_0x13b272,_0x23d11c)=>{const _0x48abb2=_0x36751c,_0x4cca3a=document[_0x48abb2(0x21e)](_0x48abb2(0x1af));_0x4cca3a[_0x48abb2(0x1ed)]=_0x48abb2(0x1cc);const _0x52fe10=_0x5e9fe7=>{const _0x47b7af=_0x48abb2,_0x218659=new Date(_0x5e9fe7);return _0x218659['getDate']()+'.'+String(_0x218659[_0x47b7af(0xd2)]()+0x1)[_0x47b7af(0x118)](0x2,'0')+'\x20'+String(_0x218659['getHours']())['padStart'](0x2,'0')+':'+String(_0x218659[_0x47b7af(0x102)]())[_0x47b7af(0x118)](0x2,'0');};_0x4cca3a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x52fe10(_0x13b272[_0x48abb2(0xc2)])+_0x48abb2(0x20a)+_0x52fe10(_0x13b272['end'])+_0x48abb2(0xf3)+_0x23d11c+_0x48abb2(0x1ff),_0x57d554[_0x48abb2(0x106)](_0x4cca3a);});}function scrollToToday(){const _0x321b4b=a2_0x100f3a,_0x1e8808=getLocalDateStr(new Date()),_0x2e5082=document[_0x321b4b(0x200)]('header-'+_0x1e8808),_0x5747ce=document[_0x321b4b(0x200)]('matrixViewport');if(_0x2e5082&&_0x5747ce){const _0x5b7f14=_0x5747ce[_0x321b4b(0x1f2)],_0x74f56c=_0x2e5082['offsetLeft'],_0x158f4e=_0x2e5082[_0x321b4b(0x1f1)];_0x5747ce[_0x321b4b(0x1e2)]=_0x74f56c-_0x5b7f14/0x2+_0x158f4e/0x2,_0x5747ce['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x3e85ce=a2_0x100f3a,_0x4a0544=document[_0x3e85ce(0x200)]('matrixViewport'),_0x309232=document[_0x3e85ce(0xe3)]('.day-col-header');for(let _0x34022c of _0x309232)if(_0x34022c['offsetLeft']>=_0x4a0544[_0x3e85ce(0x1e2)]){const _0x2d8a12=new Date(_0x34022c['getAttribute'](_0x3e85ce(0xbe)));document['getElementById'](_0x3e85ce(0x18b))[_0x3e85ce(0x11e)]=_0x2d8a12['toLocaleString']('ru',{'month':'long'})[_0x3e85ce(0xd1)]()+'\x20'+_0x2d8a12['getFullYear']();break;}}function showToast(_0x27902b,_0x27a1a2=![]){const _0x42d0ed=a2_0x100f3a,_0x172c91=document['getElementById'](_0x42d0ed(0x1bb));_0x172c91['className']=_0x42d0ed(0xea)+(_0x27a1a2?_0x42d0ed(0x1d3):''),document[_0x42d0ed(0x200)](_0x42d0ed(0x1e3))[_0x42d0ed(0x11e)]=_0x27a1a2?'–£—Å–ø–µ—à–Ω–æ':_0x42d0ed(0x1a5),document['getElementById'](_0x42d0ed(0x1f0))['textContent']=_0x27902b,_0x172c91[_0x42d0ed(0x151)][_0x42d0ed(0x166)](_0x42d0ed(0x186)),setTimeout(()=>{const _0x3ed75c=_0x42d0ed;_0x172c91[_0x3ed75c(0x151)][_0x3ed75c(0x111)]('show');},0xbb8);}function openDayOptions(_0x22b2c5,_0x27f2ed){const _0x1762a8=a2_0x100f3a;selectedDayForOptions=_0x22b2c5,document['getElementById'](_0x1762a8(0x131))[_0x1762a8(0x11e)]=_0x27f2ed,openSheet(_0x1762a8(0x113));}function toggleDayOff(){const _0xfc6e14=a2_0x100f3a;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0xfc6e14(0x15a),reRenderBlocks(),closeAllSheets(),DataManager[_0xfc6e14(0xdd)](),DataManager['fetchFromServer'](_0xfc6e14(0x215),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x420e80=a2_0x100f3a;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x420e80(0xf4)](_0x420e80(0x215),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x40638e){const _0x377c50=a2_0x100f3a;document[_0x377c50(0x200)](_0x377c50(0x117))[_0x377c50(0x151)]['add'](_0x377c50(0xbc)),document['getElementById'](_0x40638e)['classList']['add'](_0x377c50(0x120));}function closeAllSheets(){const _0x4bdbde=a2_0x100f3a;document[_0x4bdbde(0x200)](_0x4bdbde(0x117))[_0x4bdbde(0x151)][_0x4bdbde(0x111)](_0x4bdbde(0xbc)),document[_0x4bdbde(0xe3)]('.sheet')[_0x4bdbde(0x17d)](_0x56cf1d=>_0x56cf1d[_0x4bdbde(0x151)]['remove'](_0x4bdbde(0x120)));}function openPatternEditor(){const _0x4d348e=a2_0x100f3a;closeAllSheets(),document[_0x4d348e(0x200)](_0x4d348e(0xb3))[_0x4d348e(0x151)][_0x4d348e(0x166)](_0x4d348e(0x120)),renderPatternEditor();}function closePatternEditor(){const _0x46c6ed=a2_0x100f3a;document[_0x46c6ed(0x200)](_0x46c6ed(0xb3))[_0x46c6ed(0x151)][_0x46c6ed(0x111)]('open');}function savePattern(){const _0x29d19c=a2_0x100f3a;document[_0x29d19c(0x200)]('patternEditor')[_0x29d19c(0x151)][_0x29d19c(0x111)]('open'),reRenderBlocks(),DataManager[_0x29d19c(0xdd)](),DataManager['fetchFromServer'](_0x29d19c(0x215),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x1207c2=a2_0x100f3a,_0x5589b5=document[_0x1207c2(0x200)](_0x1207c2(0x174));_0x5589b5[_0x1207c2(0x203)]='';const _0x280f26=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x31e2bb=document['createElement']('div');_0x31e2bb[_0x1207c2(0x1ed)]=_0x1207c2(0x18e),_0x5589b5[_0x1207c2(0x106)](_0x31e2bb),_0x280f26[_0x1207c2(0x17d)]((_0x241cda,_0x3df99a)=>{const _0x491ecd=_0x1207c2,_0x30513f=document[_0x491ecd(0x21e)]('div');_0x30513f[_0x491ecd(0x1ed)]=_0x491ecd(0x11f),_0x30513f[_0x491ecd(0x203)]=_0x241cda+_0x491ecd(0x1ce),_0x30513f[_0x491ecd(0x1dc)]=()=>toggleColPattern(_0x3df99a),_0x5589b5[_0x491ecd(0x106)](_0x30513f);});for(let _0x10fc84=0x0;_0x10fc84<0x18;_0x10fc84++){const _0x68cfed=document[_0x1207c2(0x21e)](_0x1207c2(0x1af));_0x68cfed[_0x1207c2(0x1ed)]=_0x1207c2(0xf2),_0x68cfed[_0x1207c2(0x203)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x10fc84)[_0x1207c2(0x118)](0x2,'0')+_0x1207c2(0x201),_0x68cfed[_0x1207c2(0x1dc)]=()=>toggleRowPattern(_0x10fc84),_0x5589b5[_0x1207c2(0x106)](_0x68cfed);for(let _0x130e66=0x0;_0x130e66<0x7;_0x130e66++){const _0x4a0bab=document[_0x1207c2(0x21e)](_0x1207c2(0x1af)),_0x29bd08=(availabilityPattern[_0x130e66]||[])[_0x1207c2(0x16e)](_0x10fc84),_0x2989bf=!_0x29bd08;_0x4a0bab['className']=_0x1207c2(0xad)+(_0x2989bf?_0x1207c2(0xbc):''),_0x4a0bab[_0x1207c2(0x1dc)]=()=>toggleSinglePattern(_0x130e66,_0x10fc84),_0x5589b5[_0x1207c2(0x106)](_0x4a0bab);}}}function toggleSinglePattern(_0x466431,_0x3558b2){const _0x29a210=a2_0x100f3a;if(!availabilityPattern[_0x466431])availabilityPattern[_0x466431]=[];const _0x2f3f1b=availabilityPattern[_0x466431],_0x5aab29=_0x2f3f1b[_0x29a210(0x128)](_0x3558b2);_0x5aab29===-0x1?_0x2f3f1b[_0x29a210(0x192)](_0x3558b2):_0x2f3f1b[_0x29a210(0x222)](_0x5aab29,0x1),renderPatternEditor();}function toggleColPattern(_0x5d799b){const _0x1fc4a3=a2_0x100f3a;if(!availabilityPattern[_0x5d799b])availabilityPattern[_0x5d799b]=[];const _0x147289=availabilityPattern[_0x5d799b];_0x147289[_0x1fc4a3(0x1f3)]===0x0?availabilityPattern[_0x5d799b]=Array['from']({'length':0x18},(_0x2b9885,_0x81fe87)=>_0x81fe87):availabilityPattern[_0x5d799b]=[],renderPatternEditor();}function toggleRowPattern(_0x5ae4b3){const _0x37dbb6=a2_0x100f3a;let _0x2db317=!![];for(let _0x118fe3=0x0;_0x118fe3<0x7;_0x118fe3++){if((availabilityPattern[_0x118fe3]||[])[_0x37dbb6(0x16e)](_0x5ae4b3)){_0x2db317=![];break;}}for(let _0x5c91b2=0x0;_0x5c91b2<0x7;_0x5c91b2++){if(!availabilityPattern[_0x5c91b2])availabilityPattern[_0x5c91b2]=[];const _0x102d46=availabilityPattern[_0x5c91b2]['indexOf'](_0x5ae4b3);if(_0x2db317){if(_0x102d46===-0x1)availabilityPattern[_0x5c91b2][_0x37dbb6(0x192)](_0x5ae4b3);}else{if(_0x102d46!==-0x1)availabilityPattern[_0x5c91b2][_0x37dbb6(0x222)](_0x102d46,0x1);}}renderPatternEditor();}function renderPCol(_0x3e1905,_0x316743){const _0xb8242d=a2_0x100f3a;_0x3e1905[_0xb8242d(0x203)]='';const _0x1b941a=Math[_0xb8242d(0x210)](_0x3e1905['offsetLeft']);(availabilityPattern[_0x316743]||[])['forEach'](_0x16f073=>{const _0x4062ad=_0xb8242d,_0xa14b6b=document[_0x4062ad(0x21e)](_0x4062ad(0x1af));_0xa14b6b[_0x4062ad(0x1ed)]=_0x4062ad(0x1d6);const _0x3c7407=_0x16f073*GRID_H;_0xa14b6b[_0x4062ad(0x216)][_0x4062ad(0x11a)]=_0x3c7407+'px',_0xa14b6b[_0x4062ad(0x216)][_0x4062ad(0x130)]='-'+_0x1b941a+'px\x20-'+_0x3c7407+'px',_0xa14b6b[_0x4062ad(0x1dc)]=_0x2866a6=>{const _0x5aa640=_0x4062ad;_0x2866a6[_0x5aa640(0x15d)](),toggleSinglePattern(_0x316743,_0x16f073);},_0x3e1905[_0x4062ad(0x106)](_0xa14b6b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2f2170=a2_0x100f3a,_0x1e5989=new Date(),_0x3b0a11=document[_0x2f2170(0x200)](_0x2f2170(0x10d)),_0x5b87ac=document[_0x2f2170(0x200)](_0x2f2170(0xee)),_0x8492a6=(_0x1e5989[_0x2f2170(0x1d4)]()*0x3c+_0x1e5989['getMinutes']())/0x3c*GRID_H;_0x3b0a11[_0x2f2170(0x216)]['top']=_0x8492a6+'px',_0x3b0a11[_0x2f2170(0x216)]['display']='block',_0x5b87ac['textContent']=String(_0x1e5989[_0x2f2170(0x1d4)]())['padStart'](0x2,'0')+':'+String(_0x1e5989[_0x2f2170(0x102)]())[_0x2f2170(0x118)](0x2,'0'),_0x5b87ac[_0x2f2170(0x216)][_0x2f2170(0x147)]='block',_0x5b87ac[_0x2f2170(0x216)][_0x2f2170(0x11a)]=_0x8492a6+'px';}document[a2_0x100f3a(0x1a6)](a2_0x100f3a(0x1c5),init);function openDayOptions(_0x467f0c){const _0x2ffb41=a2_0x100f3a;selectedDayForOptions=_0x467f0c;const _0x3a8c81=new Date(_0x467f0c),_0x49657d={'weekday':_0x2ffb41(0xd0),'day':_0x2ffb41(0x10b),'month':_0x2ffb41(0xd0),'year':'numeric'},_0x367a6c=_0x3a8c81[_0x2ffb41(0x20c)]('ru-RU',_0x49657d);document[_0x2ffb41(0x200)](_0x2ffb41(0x153))[_0x2ffb41(0x11e)]=_0x367a6c[_0x2ffb41(0x19e)](0x0)[_0x2ffb41(0xd1)]()+_0x367a6c[_0x2ffb41(0x1a0)](0x1);let _0x1e12e9=_0x3a8c81[_0x2ffb41(0x1ba)]()-0x1;if(_0x1e12e9===-0x1)_0x1e12e9=0x6;const _0x2bede5=availabilityPattern[_0x1e12e9]||[],_0x3132d8=0x18-_0x2bede5[_0x2ffb41(0x1f3)],_0x51f61a=_0x3132d8*0x3c,_0x145c13=sessions['filter'](_0x53fe6b=>_0x53fe6b[_0x2ffb41(0xb7)]===_0x467f0c&&_0x53fe6b[_0x2ffb41(0x221)]!==_0x2ffb41(0x12a));let _0x1125e6=_0x145c13[_0x2ffb41(0xf7)](_0x50529b=>{const _0x30dc69=_0x2ffb41,[_0x2149ee,_0x711d75]=_0x50529b[_0x30dc69(0xc2)][_0x30dc69(0x218)](':')['map'](Number),[_0x1d133f,_0xe06a0d]=_0x50529b[_0x30dc69(0x1ee)][_0x30dc69(0x218)](':')[_0x30dc69(0xf7)](Number);return[_0x2149ee*0x3c+_0x711d75,_0x1d133f*0x3c+_0xe06a0d];});_0x1125e6[_0x2ffb41(0xfc)]((_0x329ff7,_0x1f58af)=>_0x329ff7[0x0]-_0x1f58af[0x0]);let _0x4f7a5b=[];if(_0x1125e6['length']>0x0){let _0x59d25c=_0x1125e6[0x0];for(let _0x45000c=0x1;_0x45000c<_0x1125e6[_0x2ffb41(0x1f3)];_0x45000c++){_0x1125e6[_0x45000c][0x0]<_0x59d25c[0x1]?_0x59d25c[0x1]=Math[_0x2ffb41(0x202)](_0x59d25c[0x1],_0x1125e6[_0x45000c][0x1]):(_0x4f7a5b[_0x2ffb41(0x192)](_0x59d25c),_0x59d25c=_0x1125e6[_0x45000c]);}_0x4f7a5b['push'](_0x59d25c);}let _0x2ff8a0=0x0;_0x4f7a5b[_0x2ffb41(0x17d)](_0x4d9dca=>_0x2ff8a0+=_0x4d9dca[0x1]-_0x4d9dca[0x0]),document[_0x2ffb41(0x200)]('doWorkHours')[_0x2ffb41(0x11e)]=formatMinsToHrs(_0x51f61a),document[_0x2ffb41(0x200)](_0x2ffb41(0xb5))['textContent']=formatMinsToHrs(_0x2ff8a0);const _0x1b2026=_0x51f61a>0x0?Math[_0x2ffb41(0x210)](_0x2ff8a0/_0x51f61a*0x64):0x0,_0x430637=document[_0x2ffb41(0x200)]('doLoadPercent');_0x430637[_0x2ffb41(0x11e)]=_0x1b2026+'%';const _0x25e785=document[_0x2ffb41(0x200)](_0x2ffb41(0x167));if(_0x1b2026>0x64)_0x430637['style'][_0x2ffb41(0xd7)]='var(--acc-red)',_0x25e785[_0x2ffb41(0x216)][_0x2ffb41(0xb9)]=_0x2ffb41(0x141);else _0x1b2026>0x50?(_0x430637[_0x2ffb41(0x216)]['color']=_0x2ffb41(0xcc),_0x25e785[_0x2ffb41(0x216)][_0x2ffb41(0xb9)]=_0x2ffb41(0x1f9)):(_0x430637[_0x2ffb41(0x216)][_0x2ffb41(0xd7)]=_0x2ffb41(0x21f),_0x25e785['style']['borderColor']='rgba(255,255,255,0.05)');const _0x4bf2aa=document['getElementById'](_0x2ffb41(0x18a));_0x4bf2aa[_0x2ffb41(0x203)]='';_0x145c13[_0x2ffb41(0x1f3)]===0x0?_0x4bf2aa[_0x2ffb41(0x203)]=_0x2ffb41(0x16f):(_0x145c13['sort']((_0x3e0175,_0x17b39b)=>_0x3e0175['start']['localeCompare'](_0x17b39b['start'])),_0x145c13[_0x2ffb41(0x17d)](_0x568a8d=>{const _0x3e7091=_0x2ffb41,_0x15b71f=clients[_0x3e7091(0x187)](_0x3ff59d=>_0x3ff59d['name']===_0x568a8d['client']),_0x54162f=_0x15b71f?_0x15b71f['color']:'#fff',_0xcaae8d=_0x568a8d[_0x3e7091(0x221)]===_0x3e7091(0xa9),_0x5830c1=_0xcaae8d?_0x3e7091(0x178):'',_0x2ec393=document[_0x3e7091(0x21e)](_0x3e7091(0x1af));_0x2ec393[_0x3e7091(0x1ed)]=_0x3e7091(0x1e8),_0x2ec393['style']['borderLeftColor']=_0x54162f,_0x2ec393['innerHTML']=_0x3e7091(0x191)+_0x568a8d[_0x3e7091(0xc2)]+_0x3e7091(0x10c)+_0x568a8d['end']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x568a8d['client']+_0x3e7091(0x108)+_0x5830c1+_0x3e7091(0xbb),_0x4bf2aa[_0x3e7091(0x106)](_0x2ec393);}));const _0x510e69=document['getElementById'](_0x2ffb41(0xa7)),_0x198563=dateExceptions[_0x467f0c]==='off';_0x198563?(_0x510e69[_0x2ffb41(0x11e)]=_0x2ffb41(0xab),_0x510e69[_0x2ffb41(0x1ed)]=_0x2ffb41(0x199),_0x510e69[_0x2ffb41(0x216)][_0x2ffb41(0xd7)]='var(--acc-green)',_0x510e69[_0x2ffb41(0x216)][_0x2ffb41(0x1c4)]=_0x2ffb41(0x1b0)):(_0x510e69[_0x2ffb41(0x11e)]=_0x2ffb41(0x14f),_0x510e69[_0x2ffb41(0x1ed)]=_0x2ffb41(0xfe),_0x510e69[_0x2ffb41(0x216)][_0x2ffb41(0xd7)]=_0x2ffb41(0x11c),_0x510e69['style'][_0x2ffb41(0x1c4)]=_0x2ffb41(0x1e9)),openSheet(_0x2ffb41(0x113));}let currentAnPeriod=a2_0x100f3a(0x21c);function a2_0x372b(_0x129c89,_0x46ab7c){_0x129c89=_0x129c89-0x9f;const _0x2a4292=a2_0x5b49();let _0x3cb6e4=_0x2a4292[_0x129c89];return _0x3cb6e4;}function openAnalytics(){const _0x32ec05=a2_0x100f3a,_0x1dbd66=document[_0x32ec05(0x17c)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x32ec05(0x21c),_0x1dbd66),closeAllSheets(),openSheet(_0x32ec05(0x10e));}function setAnalyticsPeriod(_0x3b541f,_0x15b308){const _0x5bf180=a2_0x100f3a;currentAnPeriod=_0x3b541f,document[_0x5bf180(0xe3)](_0x5bf180(0x204))[_0x5bf180(0x17d)](_0x359341=>_0x359341['classList'][_0x5bf180(0x111)](_0x5bf180(0xbc)));if(_0x15b308)_0x15b308[_0x5bf180(0x151)][_0x5bf180(0x166)](_0x5bf180(0xbc));const _0x56626d=document[_0x5bf180(0x200)](_0x5bf180(0x173));_0x56626d['style'][_0x5bf180(0x147)]=_0x3b541f===_0x5bf180(0xc0)?_0x5bf180(0xd3):_0x5bf180(0x149);const _0x2303a6=new Date();let _0x2cebeb=new Date(),_0x1bfd35=new Date();if(_0x3b541f===_0x5bf180(0x21c))_0x2cebeb=getStartOfWeek(_0x2303a6),_0x1bfd35=new Date(_0x2cebeb),_0x1bfd35[_0x5bf180(0x125)](_0x1bfd35['getDate']()+0x6);else{if(_0x3b541f===_0x5bf180(0xce))_0x2cebeb=new Date(_0x2303a6[_0x5bf180(0xda)](),_0x2303a6[_0x5bf180(0xd2)](),0x1),_0x1bfd35=new Date(_0x2303a6[_0x5bf180(0xda)](),_0x2303a6['getMonth']()+0x1,0x0);else{!document[_0x5bf180(0x200)](_0x5bf180(0x144))[_0x5bf180(0xa5)]&&(document[_0x5bf180(0x200)]('anStart')[_0x5bf180(0xa5)]=getLocalDateStr(_0x2303a6),document[_0x5bf180(0x200)](_0x5bf180(0x1e5))[_0x5bf180(0xa5)]=getLocalDateStr(_0x2303a6));refreshAnalytics();return;}}document[_0x5bf180(0x200)]('anStart')[_0x5bf180(0xa5)]=getLocalDateStr(_0x2cebeb),document['getElementById']('anEnd')[_0x5bf180(0xa5)]=getLocalDateStr(_0x1bfd35),refreshAnalytics();}function refreshAnalytics(){const _0x5880d1=a2_0x100f3a,_0x51754b=document['getElementById']('anStart')[_0x5880d1(0xa5)],_0xc525e4=document[_0x5880d1(0x200)](_0x5880d1(0x1e5))['value'];if(!_0x51754b||!_0xc525e4)return;const _0xb9e918=sessions['filter'](_0xd0c697=>_0xd0c697['dateStr']>=_0x51754b&&_0xd0c697[_0x5880d1(0xb7)]<=_0xc525e4&&_0xd0c697['status']!=='cancelled'),_0x470685=_0xb9e918[_0x5880d1(0x1f3)],_0x1ef3fd=_0xb9e918[_0x5880d1(0x1f4)](_0x1b4e52=>_0x1b4e52[_0x5880d1(0x221)]===_0x5880d1(0xa9))[_0x5880d1(0x1f3)],_0x4912a0=_0x470685>0x0?Math[_0x5880d1(0x210)](_0x1ef3fd/_0x470685*0x64):0x0;document[_0x5880d1(0x200)](_0x5880d1(0x14a))[_0x5880d1(0x11e)]=_0x4912a0+'%',document[_0x5880d1(0x200)](_0x5880d1(0x146))['textContent']=_0x1ef3fd+_0x5880d1(0x16c)+_0x470685+_0x5880d1(0x1cf);const _0x5ca612=document[_0x5880d1(0x200)](_0x5880d1(0x12e)),_0xc58ffb=0x2*Math['PI']*0x23,_0x2659a7=_0xc58ffb-_0x4912a0/0x64*_0xc58ffb;_0x5ca612[_0x5880d1(0x216)]['strokeDashoffset']=_0x2659a7;const _0x40ba7e={};_0xb9e918[_0x5880d1(0x17d)](_0x59af4c=>{const _0x551785=_0x5880d1;if(!_0x40ba7e[_0x59af4c['client']]){const _0x32f17e=clients[_0x551785(0x187)](_0x233c91=>_0x233c91['name']===_0x59af4c[_0x551785(0x20b)]);_0x40ba7e[_0x59af4c[_0x551785(0x20b)]]={'total':0x0,'done':0x0,'color':_0x32f17e?_0x32f17e[_0x551785(0xd7)]:'#fff'};}_0x40ba7e[_0x59af4c[_0x551785(0x20b)]][_0x551785(0xf8)]++;if(_0x59af4c[_0x551785(0x221)]===_0x551785(0xa9))_0x40ba7e[_0x59af4c[_0x551785(0x20b)]][_0x551785(0x193)]++;});const _0x323b8e=document['getElementById'](_0x5880d1(0x16b));_0x323b8e[_0x5880d1(0x203)]='';const _0x2b1148=Object[_0x5880d1(0x136)](_0x40ba7e)['sort']((_0x1d96e4,_0x38df85)=>_0x38df85[0x1][_0x5880d1(0xf8)]-_0x1d96e4[0x1][_0x5880d1(0xf8)]);if(_0x2b1148[_0x5880d1(0x1f3)]===0x0){_0x323b8e[_0x5880d1(0x203)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x2b1148[_0x5880d1(0x17d)](([_0x481000,_0x2eddf9])=>{const _0x4a4a7f=_0x5880d1,_0xccf6b=Math[_0x4a4a7f(0x210)](_0x2eddf9[_0x4a4a7f(0x193)]/_0x2eddf9[_0x4a4a7f(0xf8)]*0x64),_0x2371af=document[_0x4a4a7f(0x21e)](_0x4a4a7f(0x1af));_0x2371af[_0x4a4a7f(0x1ed)]=_0x4a4a7f(0x1ec),_0x2371af[_0x4a4a7f(0x216)][_0x4a4a7f(0x19d)]=_0x2eddf9[_0x4a4a7f(0xd7)],_0x2371af[_0x4a4a7f(0x203)]=_0x4a4a7f(0xa4)+_0x481000+_0x4a4a7f(0x164)+_0x2eddf9[_0x4a4a7f(0x193)]+_0x4a4a7f(0x132)+_0x2eddf9['total']+_0x4a4a7f(0xd8)+_0xccf6b+_0x4a4a7f(0x217),_0x323b8e['appendChild'](_0x2371af);});}function formatMinsToHrs(_0x4995cb){const _0x57ede2=a2_0x100f3a;if(_0x4995cb===0x0)return'0';const _0x4eb3e2=Math[_0x57ede2(0x1b9)](_0x4995cb/0x3c),_0x30eaa6=_0x4995cb%0x3c;if(_0x30eaa6===0x0)return _0x4eb3e2+'—á';return _0x4eb3e2+'—á\x20'+_0x30eaa6+'–º';}