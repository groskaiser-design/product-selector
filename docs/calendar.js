const a2_0x1f3333=a2_0x50d1;(function(_0x51d50c,_0x2b18ec){const _0x4c2308=a2_0x50d1,_0x28e6ae=_0x51d50c();while(!![]){try{const _0x30a5a1=parseInt(_0x4c2308(0x2e2))/0x1+parseInt(_0x4c2308(0x284))/0x2*(-parseInt(_0x4c2308(0x216))/0x3)+-parseInt(_0x4c2308(0x2b9))/0x4+parseInt(_0x4c2308(0x1d8))/0x5+-parseInt(_0x4c2308(0x245))/0x6+parseInt(_0x4c2308(0x287))/0x7*(-parseInt(_0x4c2308(0x1d7))/0x8)+parseInt(_0x4c2308(0x324))/0x9;if(_0x30a5a1===_0x2b18ec)break;else _0x28e6ae['push'](_0x28e6ae['shift']());}catch(_0x37f1b6){_0x28e6ae['push'](_0x28e6ae['shift']());}}}(a2_0x4750,0xef838),function initTMA(){const _0x1337d7=a2_0x50d1,_0x30df99=(function(){let _0x4d9c92=!![];return function(_0x2b3a45,_0x5b4dbc){const _0x194cdb=_0x4d9c92?function(){if(_0x5b4dbc){const _0x3e15c5=_0x5b4dbc['apply'](_0x2b3a45,arguments);return _0x5b4dbc=null,_0x3e15c5;}}:function(){};return _0x4d9c92=![],_0x194cdb;};}()),_0x252180=_0x30df99(this,function(){const _0x761739=a2_0x50d1;return _0x252180[_0x761739(0x1ec)]()[_0x761739(0x2a4)](_0x761739(0x1e8))[_0x761739(0x1ec)]()['constructor'](_0x252180)[_0x761739(0x2a4)](_0x761739(0x1e8));});_0x252180();try{const _0x407473=window[_0x1337d7(0x2db)]?.[_0x1337d7(0x1f3)];if(!_0x407473)return;_0x407473['ready'](),_0x407473['expand']();try{_0x407473['setHeaderColor'](_0x1337d7(0x2bc)),_0x407473[_0x1337d7(0x205)]&&_0x407473[_0x1337d7(0x205)](_0x1337d7(0x2bc));}catch(_0x367d73){console[_0x1337d7(0x23f)](_0x1337d7(0x1f2),_0x367d73);}try{_0x407473[_0x1337d7(0x1d1)]&&(_0x407473[_0x1337d7(0x1d1)][_0x1337d7(0x315)](),_0x407473[_0x1337d7(0x1d1)][_0x1337d7(0x290)](),_0x407473['BackButton'][_0x1337d7(0x322)](function(){const _0x4359ac=_0x1337d7;window[_0x4359ac(0x2f5)]['href']=_0x4359ac(0x32f);}));}catch(_0x2ac35d){console[_0x1337d7(0x23f)]('Error\x20setting\x20back\x20button:',_0x2ac35d);}try{if(_0x407473[_0x1337d7(0x2d1)])_0x407473[_0x1337d7(0x2d1)]();}catch(_0x5d09a6){}}catch(_0x210caa){console[_0x1337d7(0x2c1)](_0x1337d7(0x1cd),_0x210caa);}}());function isAdmin(){const _0x4f7716=a2_0x50d1;try{const _0x244309=Number(window[_0x4f7716(0x2db)]?.[_0x4f7716(0x1f3)]?.['initDataUnsafe']?.['user']?.['id']);return _0x244309===0xbaf7174;}catch(_0x1ac8d5){return![];}}const APP_VERSION=a2_0x1f3333(0x23a),API_URL=a2_0x1f3333(0x2b8),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x1f3333(0x333),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x8df375=a2_0x1f3333;return window[_0x8df375(0x2db)]?.[_0x8df375(0x1f3)]?.[_0x8df375(0x1dd)]?.[_0x8df375(0x256)]?.['id']||_0x8df375(0x1bf);},'saveLocally'(){const _0xda8f43=a2_0x1f3333;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0xda8f43(0x2c4)](clients)),localStorage[_0xda8f43(0x282)](KEY_SESSIONS,JSON[_0xda8f43(0x2c4)](sessions)),localStorage[_0xda8f43(0x282)](KEY_SETTINGS,JSON[_0xda8f43(0x2c4)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0xe199db){console['error']('Local\x20Save\x20Error',_0xe199db);}},'loadLocal'(){const _0x1b3cdd=a2_0x1f3333;try{const _0x20c0e4=localStorage[_0x1b3cdd(0x2d9)](KEY_CLIENTS);if(_0x20c0e4)clients=JSON['parse'](_0x20c0e4);const _0x220a88=localStorage['getItem'](KEY_SESSIONS);if(_0x220a88)sessions=JSON[_0x1b3cdd(0x2cf)](_0x220a88);const _0x59c5de=localStorage[_0x1b3cdd(0x2d9)](KEY_SETTINGS);if(_0x59c5de){const _0x52d91d=JSON['parse'](_0x59c5de);if(_0x52d91d[_0x1b3cdd(0x1f1)])availabilityPattern=_0x52d91d[_0x1b3cdd(0x1f1)];if(_0x52d91d['exceptions'])dateExceptions=_0x52d91d['exceptions'];if(_0x52d91d[_0x1b3cdd(0x27a)])specialRanges=_0x52d91d[_0x1b3cdd(0x27a)];}else{for(let _0x36d990=0x0;_0x36d990<0x7;_0x36d990++)availabilityPattern[_0x36d990]=Array[_0x1b3cdd(0x31e)]({'length':0xc},(_0xf16cc5,_0x53b67e)=>_0x53b67e+0x9);}}catch(_0x238236){console[_0x1b3cdd(0x2c1)](_0x1b3cdd(0x314),_0x238236);}},async 'fetchFromServer'(_0x48acb7,_0x4c4a66={}){const _0x57dcca=a2_0x1f3333,_0x4cb087=window[_0x57dcca(0x2db)]?.[_0x57dcca(0x1f3)],_0x170387={'action':_0x48acb7,'init_data':_0x4cb087?.[_0x57dcca(0x20e)]||'',..._0x4c4a66};try{const _0x300fb9=await fetch(API_URL,{'method':_0x57dcca(0x27c),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x57dcca(0x2c4)](_0x170387)}),_0x15b1c1=await _0x300fb9[_0x57dcca(0x2ce)]();if(!_0x15b1c1['ok'])throw new Error(_0x15b1c1[_0x57dcca(0x2c1)]||_0x57dcca(0x28f));return _0x15b1c1[_0x57dcca(0x1cf)];}catch(_0x40445f){console[_0x57dcca(0x2c1)](_0x57dcca(0x306)+_0x48acb7+_0x57dcca(0x30f),_0x40445f);throw _0x40445f;}},async 'syncLoad'(){const _0x2106b0=a2_0x1f3333,_0x1bb6a5=new Date(),_0x49a627=_0x1bb6a5[_0x2106b0(0x331)]()+'-'+String(_0x1bb6a5[_0x2106b0(0x1c6)]()+0x1)[_0x2106b0(0x2a0)](0x2,'0'),_0x222137=new Date(_0x1bb6a5);_0x222137[_0x2106b0(0x2c6)](_0x1bb6a5[_0x2106b0(0x1c6)]()+0x1);const _0x1a3088=_0x222137[_0x2106b0(0x331)]()+'-'+String(_0x222137[_0x2106b0(0x1c6)]()+0x1)[_0x2106b0(0x2a0)](0x2,'0'),_0x8d952f=Date[_0x2106b0(0x1dc)]();console[_0x2106b0(0x23f)](_0x2106b0(0x1d9)+_0x49a627+',\x20'+_0x1a3088+'...');try{const [_0x3af500,_0x4b6c47]=await Promise[_0x2106b0(0x2f3)]([this['fetchFromServer']('init_load',{'month_str':_0x49a627}),this['fetchFromServer'](_0x2106b0(0x249),{'month_str':_0x1a3088})]);if(lastUserActionTime>_0x8d952f)return console['warn'](_0x2106b0(0x2df)),![];return this[_0x2106b0(0x20d)](_0x3af500,_0x49a627),this[_0x2106b0(0x20d)](_0x4b6c47,_0x1a3088),this[_0x2106b0(0x294)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x173979){console[_0x2106b0(0x2c1)](_0x173979);throw _0x173979;}},'mergeServerData'(_0x42e6fe,_0x43f629){const _0x50152c=a2_0x1f3333;if(!_0x42e6fe)return;_0x42e6fe[_0x50152c(0x1fb)]&&Array[_0x50152c(0x32b)](_0x42e6fe[_0x50152c(0x1fb)])&&(clients=_0x42e6fe['clients']);if(_0x42e6fe[_0x50152c(0x24e)]){if(_0x42e6fe[_0x50152c(0x24e)][_0x50152c(0x1f1)])availabilityPattern=_0x42e6fe[_0x50152c(0x24e)]['pattern'];if(_0x42e6fe[_0x50152c(0x24e)][_0x50152c(0x334)])dateExceptions=_0x42e6fe[_0x50152c(0x24e)][_0x50152c(0x334)];if(_0x42e6fe['settings'][_0x50152c(0x27a)])specialRanges=_0x42e6fe[_0x50152c(0x24e)]['ranges'];if(_0x42e6fe[_0x50152c(0x24e)][_0x50152c(0x1fc)]){localStorage[_0x50152c(0x282)](_0x50152c(0x2fe),_0x42e6fe['settings'][_0x50152c(0x1fc)]);const _0x57fe22=document['getElementById']('settingCancelWindow');if(_0x57fe22)_0x57fe22[_0x50152c(0x274)]=_0x42e6fe['settings'][_0x50152c(0x1fc)];}}_0x42e6fe[_0x50152c(0x28b)]&&(sessions=sessions[_0x50152c(0x221)](_0x491ddc=>!_0x491ddc[_0x50152c(0x232)]['startsWith'](_0x43f629)),Object['keys'](_0x42e6fe[_0x50152c(0x28b)])[_0x50152c(0x26e)](_0x173cf5=>{const _0x2dc86b=_0x50152c,_0x586b07=_0x42e6fe[_0x2dc86b(0x28b)][_0x173cf5];_0x586b07[_0x2dc86b(0x26e)](_0x2d357f=>{const _0x39aa7e=_0x2dc86b,_0x5529fc=clients[_0x39aa7e(0x31d)](_0x48ad4f=>String(_0x48ad4f['id'])===String(_0x2d357f['c']));sessions[_0x39aa7e(0x318)]({'id':_0x2d357f['i'],'clientId':_0x2d357f['c'],'client':_0x5529fc?_0x5529fc[_0x39aa7e(0x263)]:_0x39aa7e(0x2d5),'dateStr':_0x43f629+'-'+_0x173cf5[_0x39aa7e(0x2a0)](0x2,'0'),'start':_0x2d357f['s'],'end':_0x2d357f['e'],'status':_0x2d357f['st']||_0x39aa7e(0x271),'note':_0x2d357f['n']||'','seriesId':_0x2d357f[_0x39aa7e(0x285)]||null});});}));},async 'syncBatch'(_0x1cad49){const _0x433982=a2_0x1f3333,_0x355998=[...new Set(_0x1cad49)],_0xbaeca=_0x355998['map'](_0x5d2c4f=>{const _0x16b051=a2_0x50d1,_0x2296b4=sessions[_0x16b051(0x221)](_0x20c614=>_0x20c614['dateStr']===_0x5d2c4f&&_0x20c614[_0x16b051(0x2c5)]!=='deleted'),_0x113e5e=_0x2296b4[_0x16b051(0x201)](_0x1deefb=>({'i':_0x1deefb['id'],'c':_0x1deefb[_0x16b051(0x1c0)],'s':_0x1deefb[_0x16b051(0x1de)],'e':_0x1deefb[_0x16b051(0x259)],'st':_0x1deefb[_0x16b051(0x2c5)],'n':_0x1deefb[_0x16b051(0x325)],'sid':_0x1deefb[_0x16b051(0x24a)]}));return{'date':_0x5d2c4f,'day_data':_0x113e5e};});if(_0xbaeca[_0x433982(0x27d)]===0x0)return;console[_0x433982(0x23f)](_0x433982(0x286)+_0xbaeca['length']+'\x20days'),await this[_0x433982(0x330)]('batch_sync',{'changes':_0xbaeca});}};async function init(){const _0x375f65=a2_0x1f3333;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById']('matrixViewport')['addEventListener'](_0x375f65(0x292),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x375f65(0x2de)]()[_0x375f65(0x24f)](()=>{const _0x207460=_0x375f65;showToast(_0x207460(0x293),!![]);})[_0x375f65(0x220)](_0x5c0560=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x6339d7=a2_0x1f3333;return Date[_0x6339d7(0x1dc)]()[_0x6339d7(0x1ec)](0x24)+Math[_0x6339d7(0x24b)]()[_0x6339d7(0x1ec)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x88013c=a2_0x1f3333,_0x259358=document[_0x88013c(0x1c3)]('inpRecurring')[_0x88013c(0x309)],_0x559b11=document[_0x88013c(0x1c3)](_0x88013c(0x303));_0x559b11[_0x88013c(0x23e)][_0x88013c(0x25b)]=_0x259358?_0x88013c(0x305):'none';const _0x5ab089=document[_0x88013c(0x1c3)](_0x88013c(0x1e9));_0x5ab089[_0x88013c(0x23e)][_0x88013c(0x228)]=_0x259358?_0x88013c(0x317):_0x88013c(0x332);}function openAddSession(_0x2a2e28){const _0x215466=a2_0x1f3333;editingId=null,populateClientSelect(),document[_0x215466(0x1c3)](_0x215466(0x203))[_0x215466(0x273)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x215466(0x2e3))[_0x215466(0x23e)][_0x215466(0x25b)]=_0x215466(0x2ae),document['getElementById']('btnStatusToggle')[_0x215466(0x23e)][_0x215466(0x25b)]=_0x215466(0x2ae);const _0xac3d77=document[_0x215466(0x1c3)]('recurringOptionContainer'),_0xfe48fa=document['getElementById'](_0x215466(0x303));_0xac3d77[_0x215466(0x23e)][_0x215466(0x25b)]=_0x215466(0x327),_0xac3d77[_0x215466(0x23e)]['borderRadius']=_0x215466(0x332),document[_0x215466(0x1c3)](_0x215466(0x20f))[_0x215466(0x309)]=![],document[_0x215466(0x1c3)](_0x215466(0x1f7))[_0x215466(0x274)]=0x4,_0xfe48fa[_0x215466(0x23e)][_0x215466(0x25b)]='none',document[_0x215466(0x1c3)]('inpDate')[_0x215466(0x274)]=getLocalDateStr(_0x2a2e28),updateDateDisplay();const _0x3d1b6f=_0x2a2e28[_0x215466(0x2ff)]();document[_0x215466(0x1c3)](_0x215466(0x1c5))['value']=String(_0x3d1b6f)[_0x215466(0x2a0)](0x2,'0')+_0x215466(0x2a2),document['getElementById'](_0x215466(0x231))['value']=String(_0x3d1b6f+0x1)[_0x215466(0x2a0)](0x2,'0')+_0x215466(0x2a2),openSheet(_0x215466(0x2d3));}function openEdit(_0x30b663){const _0x35cf6d=a2_0x1f3333;editingId=_0x30b663['id'],populateClientSelect(),document[_0x35cf6d(0x1c3)](_0x35cf6d(0x203))[_0x35cf6d(0x273)]=_0x35cf6d(0x1d2),document[_0x35cf6d(0x1c3)](_0x35cf6d(0x2e3))[_0x35cf6d(0x23e)][_0x35cf6d(0x25b)]='block';const _0x14f005=document[_0x35cf6d(0x1c3)](_0x35cf6d(0x2fa));_0x14f005[_0x35cf6d(0x23e)][_0x35cf6d(0x25b)]=_0x35cf6d(0x327);_0x30b663[_0x35cf6d(0x2c5)]===_0x35cf6d(0x2af)?(_0x14f005[_0x35cf6d(0x1e2)]=_0x35cf6d(0x2b0),_0x14f005[_0x35cf6d(0x1f6)]=_0x35cf6d(0x301)):(_0x14f005['className']=_0x35cf6d(0x328),_0x14f005['innerHTML']=_0x35cf6d(0x2f1));const _0x11b4d2=!!_0x30b663['seriesId'];document[_0x35cf6d(0x1c3)](_0x35cf6d(0x1e9))[_0x35cf6d(0x23e)][_0x35cf6d(0x25b)]=_0x35cf6d(0x2ae),document[_0x35cf6d(0x1c3)](_0x35cf6d(0x303))[_0x35cf6d(0x23e)]['display']=_0x35cf6d(0x2ae),_0x11b4d2?(document[_0x35cf6d(0x1c3)](_0x35cf6d(0x31b))[_0x35cf6d(0x23e)][_0x35cf6d(0x25b)]=_0x35cf6d(0x327),document[_0x35cf6d(0x1c3)]('patternInfoBox')[_0x35cf6d(0x2b7)](_0x35cf6d(0x25e))[_0x35cf6d(0x273)]=_0x35cf6d(0x222)):document[_0x35cf6d(0x1c3)](_0x35cf6d(0x31b))[_0x35cf6d(0x23e)][_0x35cf6d(0x25b)]=_0x35cf6d(0x2ae),document[_0x35cf6d(0x1c3)](_0x35cf6d(0x252))[_0x35cf6d(0x274)]=_0x30b663['client'],document[_0x35cf6d(0x1c3)](_0x35cf6d(0x1f5))[_0x35cf6d(0x274)]=_0x30b663[_0x35cf6d(0x232)],document['getElementById'](_0x35cf6d(0x1c5))[_0x35cf6d(0x274)]=_0x30b663['start'],document[_0x35cf6d(0x1c3)](_0x35cf6d(0x231))[_0x35cf6d(0x274)]=_0x30b663[_0x35cf6d(0x259)],document['getElementById'](_0x35cf6d(0x1b8))[_0x35cf6d(0x274)]=_0x30b663[_0x35cf6d(0x325)]||'',updateDateDisplay(),openSheet(_0x35cf6d(0x2d3));}async function trySaveSession(){const _0x5c4d54=a2_0x1f3333,_0x389d2a=document[_0x5c4d54(0x1c3)](_0x5c4d54(0x252))[_0x5c4d54(0x274)],_0x33a625=document[_0x5c4d54(0x1c3)]('inpDate')['value'],_0x2f8620=document['getElementById'](_0x5c4d54(0x1c5))[_0x5c4d54(0x274)],_0x4339f0=document['getElementById'](_0x5c4d54(0x231))[_0x5c4d54(0x274)],_0x34705d=document[_0x5c4d54(0x1c3)]('inpNote')[_0x5c4d54(0x274)],_0xf345e2=document['getElementById'](_0x5c4d54(0x20f))[_0x5c4d54(0x309)];let _0x2d6f10=0x4;if(_0xf345e2){const _0x5d5906=parseInt(document[_0x5c4d54(0x1c3)]('inpSeriesCount')[_0x5c4d54(0x274)]);if(!_0x5d5906||_0x5d5906<0x2){showToast(_0x5c4d54(0x2c0),![]);return;}if(_0x5d5906>0x64){showToast(_0x5c4d54(0x1d4),![]);return;}_0x2d6f10=_0x5d5906;}const _0x4ae10d=clients[_0x5c4d54(0x31d)](_0x834488=>_0x834488[_0x5c4d54(0x263)]===_0x389d2a);if(!_0x4ae10d){showToast(_0x5c4d54(0x206),![]);return;}const _0x324f4a=validateAppointment(_0x33a625,_0x2f8620,_0x4339f0,editingId,_0x4ae10d['id']);if(!_0x324f4a['valid']){showToast(_0x324f4a[_0x5c4d54(0x219)],![]);return;}_0x324f4a[_0x5c4d54(0x291)]&&showToast(_0x324f4a[_0x5c4d54(0x291)],![]);const _0x3a5599={'client':_0x389d2a,'clientId':_0x4ae10d['id'],'start':_0x2f8620,'end':_0x4339f0,'note':_0x34705d,'status':_0x5c4d54(0x271)},_0x37b523=editingId?sessions[_0x5c4d54(0x31d)](_0x5a2c14=>_0x5a2c14['id']===editingId):null;if(_0x37b523&&_0x37b523[_0x5c4d54(0x24a)]){tempSessionData={..._0x3a5599,'dateStr':_0x33a625,'id':editingId,'seriesId':_0x37b523['seriesId']},openActionSheet('save');return;}let _0x34c8c5=null;if(!editingId)_0x34c8c5='create';else{if(_0x37b523){if(String(_0x37b523['clientId'])!==String(_0x4ae10d['id']))console['log'](_0x5c4d54(0x28c)),NotificationManager['send']('cancel',_0x37b523),_0x34c8c5='create';else(_0x37b523[_0x5c4d54(0x1de)]!==_0x2f8620||_0x37b523[_0x5c4d54(0x259)]!==_0x4339f0||_0x37b523[_0x5c4d54(0x232)]!==_0x33a625)&&(_0x34c8c5=_0x5c4d54(0x1e4));}}if(!editingId&&_0xf345e2){createBatchSeries(_0x3a5599,_0x33a625,_0x2d6f10),NotificationManager[_0x5c4d54(0x1be)](_0x5c4d54(0x2d2),{..._0x3a5599,'dateStr':_0x33a625});return;}lastUserActionTime=Date['now']();const _0x3e1f21={..._0x3a5599,'dateStr':_0x33a625,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3e1f21),_0x34c8c5&&NotificationManager[_0x5c4d54(0x1be)](_0x34c8c5,_0x3e1f21);}function toggleSessionStatus(){const _0xec70d4=a2_0x1f3333;lastUserActionTime=Date[_0xec70d4(0x1dc)]();const _0x4c2f1a=sessions[_0xec70d4(0x31d)](_0x432b67=>_0x432b67['id']===editingId);if(!_0x4c2f1a)return;const _0x43c9d6=_0x4c2f1a[_0xec70d4(0x2c5)]===_0xec70d4(0x2af)?_0xec70d4(0x271):_0xec70d4(0x2af);_0x4c2f1a[_0xec70d4(0x2c5)]=_0x43c9d6,saveSingleSession(_0x4c2f1a),_0x43c9d6===_0xec70d4(0x2af)&&NotificationManager['send']('complete',_0x4c2f1a),showToast(_0x43c9d6===_0xec70d4(0x2af)?_0xec70d4(0x28e):_0xec70d4(0x311),!![]);}function validateAppointment(_0x57f957,_0x44535a,_0x30ccf1,_0x3eb851,_0x2c85d7){const _0x327e24=a2_0x1f3333,[_0x52cd1b,_0x2ec2da]=_0x44535a[_0x327e24(0x326)](':')[_0x327e24(0x201)](Number),[_0x4c96d1,_0x160557]=_0x30ccf1['split'](':')[_0x327e24(0x201)](Number),_0x3659f3=_0x52cd1b*0x3c+_0x2ec2da,_0x553757=_0x4c96d1*0x3c+_0x160557,_0x35ca19=String(_0x2c85d7);let _0x1b9b1=![],_0x4f56fa='';for(let _0x2570d3 of sessions){if(_0x2570d3[_0x327e24(0x232)]!==_0x57f957)continue;if(_0x2570d3[_0x327e24(0x2c5)]===_0x327e24(0x1ce))continue;if(_0x3eb851&&String(_0x2570d3['id'])===String(_0x3eb851))continue;const [_0x2a2c58,_0x5611dd]=_0x2570d3[_0x327e24(0x1de)][_0x327e24(0x326)](':')[_0x327e24(0x201)](Number),[_0x3a1cbb,_0x3df887]=_0x2570d3[_0x327e24(0x259)][_0x327e24(0x326)](':')['map'](Number),_0x3e14d0=_0x2a2c58*0x3c+_0x5611dd,_0xf603fd=_0x3a1cbb*0x3c+_0x3df887;if(Math[_0x327e24(0x29b)](_0x3659f3,_0x3e14d0)<Math[_0x327e24(0x2eb)](_0x553757,_0xf603fd)){if(_0x2570d3[_0x327e24(0x1c0)]&&String(_0x2570d3[_0x327e24(0x1c0)])===_0x35ca19)return{'valid':![],'msg':_0x327e24(0x307)+_0x2570d3[_0x327e24(0x2a9)]+_0x327e24(0x239)};_0x1b9b1=!![],_0x4f56fa=_0x2570d3[_0x327e24(0x2a9)];}}if(_0x1b9b1)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4f56fa};return{'valid':!![]};}function saveSingleSession(_0x1d1015){const _0x281e80=a2_0x1f3333;if(editingId){const _0x13511c=sessions[_0x281e80(0x28d)](_0x266b73=>_0x266b73['id']===editingId);if(_0x13511c!==-0x1)sessions[_0x13511c]=_0x1d1015;}else sessions[_0x281e80(0x318)](_0x1d1015);afterSaveAction([_0x1d1015['dateStr']]);}function createBatchSeries(_0x23faed,_0x4d7935,_0x2d19f5){const _0x450ceb=a2_0x1f3333,_0x45d18b=generateId(),_0x5e3320=[],_0x558d59=[];let _0x2fd446=0x0,_0x15b71e=new Date(_0x4d7935);for(let _0x4c74a2=0x0;_0x4c74a2<_0x2d19f5;_0x4c74a2++){const _0x384e02=getLocalDateStr(_0x15b71e),_0x347dd5=validateAppointment(_0x384e02,_0x23faed[_0x450ceb(0x1de)],_0x23faed[_0x450ceb(0x259)],null,_0x23faed[_0x450ceb(0x1c0)]);if(!_0x347dd5[_0x450ceb(0x2c9)])console[_0x450ceb(0x23f)]('[Series]\x20Skipped\x20'+_0x384e02+_0x450ceb(0x1cb)),_0x2fd446++;else{const _0x26431c={..._0x23faed,'id':generateId(),'dateStr':_0x384e02,'seriesId':_0x45d18b};_0x558d59[_0x450ceb(0x318)](_0x26431c),_0x5e3320['push'](_0x384e02);}_0x15b71e['setDate'](_0x15b71e[_0x450ceb(0x254)]()+0x7);}if(_0x558d59[_0x450ceb(0x27d)]===0x0){showToast(_0x450ceb(0x283),![]);return;}sessions[_0x450ceb(0x318)](..._0x558d59),lastUserActionTime=Date[_0x450ceb(0x1dc)]();let _0x5b7b26='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x558d59[_0x450ceb(0x27d)];_0x2fd446>0x0&&(_0x5b7b26+=_0x450ceb(0x1ef)+_0x2fd446+')'),showToast(_0x5b7b26,!![]),afterSaveAction(_0x5e3320);}function updateSeriesBatch(_0x3e21c5,_0x354ea1){const _0x2089b8=a2_0x1f3333,_0x47e2c1=[],_0x957a9a=_0x354ea1[_0x2089b8(0x24a)];if(_0x3e21c5===_0x2089b8(0x2f7)){const _0x1a6e61={..._0x354ea1,'seriesId':null},_0x2c5f9f=sessions[_0x2089b8(0x28d)](_0x86681b=>_0x86681b['id']===_0x354ea1['id']);if(_0x2c5f9f!==-0x1)sessions[_0x2c5f9f]=_0x1a6e61;_0x47e2c1[_0x2089b8(0x318)](_0x1a6e61[_0x2089b8(0x232)]);}else{if(_0x3e21c5===_0x2089b8(0x27b)){const _0x4dbb03=_0x354ea1['dateStr'];sessions[_0x2089b8(0x26e)]((_0x53e88f,_0x32bd65)=>{const _0x2b2acd=_0x2089b8;_0x53e88f[_0x2b2acd(0x24a)]===_0x957a9a&&_0x53e88f[_0x2b2acd(0x232)]>=_0x4dbb03&&(sessions[_0x32bd65]={...sessions[_0x32bd65],'start':_0x354ea1[_0x2b2acd(0x1de)],'end':_0x354ea1[_0x2b2acd(0x259)],'note':_0x354ea1[_0x2b2acd(0x325)],'client':_0x354ea1[_0x2b2acd(0x2a9)],'clientId':_0x354ea1['clientId']},_0x47e2c1[_0x2b2acd(0x318)](_0x53e88f['dateStr']));});}}afterSaveAction(_0x47e2c1);}function tryDeleteSession(){const _0x52df77=a2_0x1f3333,_0x3b9525=sessions[_0x52df77(0x31d)](_0xa0e75e=>_0xa0e75e['id']===editingId);if(!_0x3b9525)return;_0x3b9525[_0x52df77(0x24a)]?openActionSheet(_0x52df77(0x281)):commitDelete(_0x52df77(0x2f7),_0x3b9525);}function commitDelete(_0x23d1db,_0x28c8ea){const _0x58e870=a2_0x1f3333;lastUserActionTime=Date['now'](),NotificationManager[_0x58e870(0x1be)](_0x58e870(0x234),_0x28c8ea);const _0x4b4e77=[];if(_0x23d1db==='single')sessions=sessions[_0x58e870(0x221)](_0x37fb64=>_0x37fb64['id']!==_0x28c8ea['id']),_0x4b4e77[_0x58e870(0x318)](_0x28c8ea[_0x58e870(0x232)]);else{if(_0x23d1db==='series'){const _0x1b8c4c=_0x28c8ea[_0x58e870(0x232)],_0x59ef8f=_0x28c8ea[_0x58e870(0x24a)];sessions['forEach'](_0x3c97f6=>{const _0x4d1459=_0x58e870;_0x3c97f6['seriesId']===_0x59ef8f&&_0x3c97f6[_0x4d1459(0x232)]>=_0x1b8c4c&&_0x4b4e77[_0x4d1459(0x318)](_0x3c97f6[_0x4d1459(0x232)]);}),sessions=sessions[_0x58e870(0x221)](_0x1e295f=>!(_0x1e295f[_0x58e870(0x24a)]===_0x59ef8f&&_0x1e295f[_0x58e870(0x232)]>=_0x1b8c4c));}}afterSaveAction(_0x4b4e77);}function afterSaveAction(_0x5199b0){const _0x234ef8=a2_0x1f3333;DataManager[_0x234ef8(0x294)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x234ef8(0x21e)](_0x5199b0)[_0x234ef8(0x24f)](()=>console['log'](_0x234ef8(0x1ca)))[_0x234ef8(0x220)](_0x3b55a4=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x1537c7){const _0x479445=a2_0x1f3333,_0x5c13ce=new Date(_0x1537c7),_0x5ba318={'weekday':'long','day':_0x479445(0x1eb),'month':_0x479445(0x1bc)};let _0x3b4bd1=_0x5c13ce[_0x479445(0x213)]('ru-RU',_0x5ba318);return _0x3b4bd1[_0x479445(0x2b4)](0x0)[_0x479445(0x29a)]()+_0x3b4bd1['slice'](0x1);},'getText'(_0x85f863,_0x31371d){const _0x450478=a2_0x1f3333,_0x2cd61d=this[_0x450478(0x2ad)](_0x31371d[_0x450478(0x232)]);switch(_0x85f863){case _0x450478(0x2d2):return _0x450478(0x32c)+(_0x450478(0x31c)+_0x2cd61d+'\x0a')+(_0x450478(0x1ee)+_0x31371d['start']+'\x20‚Äî\x20'+_0x31371d[_0x450478(0x259)]+'\x0a\x0a')+_0x450478(0x209);case _0x450478(0x1e4):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x450478(0x20c)+('<b>‚úÖ\x20'+_0x31371d[_0x450478(0x1de)]+'\x20‚Äî\x20'+_0x31371d[_0x450478(0x259)]+_0x450478(0x255))+(_0x450478(0x31c)+_0x2cd61d);case'cancel':return _0x450478(0x262)+(_0x450478(0x320)+_0x2cd61d+'\x20('+_0x31371d[_0x450478(0x1de)]+_0x450478(0x2b2));case _0x450478(0x23b):return _0x450478(0x2f8)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x450478(0x2a7);default:return'';}},async 'send'(_0xd70fb0,_0x594501){const _0x5e116b=a2_0x1f3333;console['log'](_0x5e116b(0x227),_0xd70fb0,_0x594501);if(!_0x594501){console[_0x5e116b(0x2c1)](_0x5e116b(0x2f6));return;}const _0x2229c5=String(_0x594501[_0x5e116b(0x1c0)]);console[_0x5e116b(0x23f)](_0x5e116b(0x22d),_0x2229c5);if(!_0x594501[_0x5e116b(0x1c0)]||_0x2229c5===_0x5e116b(0x2a6)||_0x2229c5===_0x5e116b(0x2b3)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x594501[_0x5e116b(0x2a9)]){const _0x5601f4=clients[_0x5e116b(0x31d)](_0x5ac898=>_0x5ac898[_0x5e116b(0x263)]===_0x594501[_0x5e116b(0x2a9)]);if(_0x5601f4)return console[_0x5e116b(0x23f)](_0x5e116b(0x2c2),_0x5601f4['id']),this['send'](_0xd70fb0,{..._0x594501,'clientId':_0x5601f4['id']});}return;}if(_0x2229c5[_0x5e116b(0x27d)]<0x5){console[_0x5e116b(0x258)](_0x5e116b(0x30c),_0x2229c5);return;}const _0x3f0006=this['getText'](_0xd70fb0,_0x594501);if(!_0x3f0006){console[_0x5e116b(0x2c1)](_0x5e116b(0x1bd));return;}console[_0x5e116b(0x23f)](_0x5e116b(0x2f9)+_0x2229c5+_0x5e116b(0x323)),DataManager['fetchFromServer'](_0x5e116b(0x235),{'chatId':_0x2229c5,'text':_0x3f0006})[_0x5e116b(0x24f)](_0x11de8c=>console[_0x5e116b(0x23f)]('[Notify]\x20Server\x20Response:',_0x11de8c))[_0x5e116b(0x220)](_0x21fb45=>console['error'](_0x5e116b(0x300),_0x21fb45));}};function getLocalDateStr(_0x50d0d8){const _0x40d80d=a2_0x1f3333,_0x115a1f=_0x50d0d8[_0x40d80d(0x331)](),_0x4f9ab1=String(_0x50d0d8['getMonth']()+0x1)['padStart'](0x2,'0'),_0x42adbb=String(_0x50d0d8[_0x40d80d(0x254)]())[_0x40d80d(0x2a0)](0x2,'0');return _0x115a1f+'-'+_0x4f9ab1+'-'+_0x42adbb;}function getDateStr(_0x48248e){const _0x2057b8=a2_0x1f3333,_0x61fc0c=new Date();return _0x61fc0c[_0x2057b8(0x27e)](_0x61fc0c[_0x2057b8(0x254)]()+_0x48248e),getLocalDateStr(_0x61fc0c);}function getStartOfWeek(_0x3025b5){const _0x267f87=a2_0x1f3333,_0x44daa2=new Date(_0x3025b5),_0x36c826=_0x44daa2[_0x267f87(0x246)](),_0xfdf86b=_0x44daa2[_0x267f87(0x254)]()-_0x36c826+(_0x36c826===0x0?-0x6:0x1);return _0x44daa2['setDate'](_0xfdf86b),_0x44daa2['setHours'](0x0,0x0,0x0,0x0),_0x44daa2;}function hexToRgba(_0x297157,_0x2b642c){const _0x53460c=a2_0x1f3333;if(!_0x297157)return'rgba(100,100,100,0.5)';let _0x2f96d4=0x0,_0x21284e=0x0,_0x4c5e04=0x0;if(_0x297157[_0x53460c(0x27d)]===0x4)_0x2f96d4='0x'+_0x297157[0x1]+_0x297157[0x1],_0x21284e='0x'+_0x297157[0x2]+_0x297157[0x2],_0x4c5e04='0x'+_0x297157[0x3]+_0x297157[0x3];else _0x297157['length']===0x7&&(_0x2f96d4='0x'+_0x297157[0x1]+_0x297157[0x2],_0x21284e='0x'+_0x297157[0x3]+_0x297157[0x4],_0x4c5e04='0x'+_0x297157[0x5]+_0x297157[0x6]);return _0x53460c(0x30a)+ +_0x2f96d4+',\x20'+ +_0x21284e+',\x20'+ +_0x4c5e04+',\x20'+_0x2b642c+')';}function renderTimeColumn(){const _0x2d4db3=a2_0x1f3333,_0x2eb88b=document[_0x2d4db3(0x1c3)]('timeColumn'),_0x590ffd=document[_0x2d4db3(0x1c3)](_0x2d4db3(0x257));_0x2eb88b[_0x2d4db3(0x1f6)]='',_0x2eb88b['appendChild'](_0x590ffd);for(let _0x571385=0x0;_0x571385<0x18;_0x571385++){const _0xce8be=document[_0x2d4db3(0x299)]('div');_0xce8be[_0x2d4db3(0x1e2)]=_0x2d4db3(0x210);if(_0x571385>0x0)_0xce8be[_0x2d4db3(0x1f6)]=_0x2d4db3(0x31a)+String(_0x571385)[_0x2d4db3(0x2a0)](0x2,'0')+':00</span>';_0x2eb88b['appendChild'](_0xce8be);}}function renderDayRange(_0x523cd8,_0x5c9b89){const _0x292c76=a2_0x1f3333,_0x356b7e=document[_0x292c76(0x1c3)](_0x292c76(0x1e0)),_0x1305ab=document[_0x292c76(0x1c3)](_0x292c76(0x276)),_0x4434ea=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3852ad=new Date();_0x3852ad[_0x292c76(0x2e7)](0x0,0x0,0x0,0x0);const _0x128621=getLocalDateStr(new Date());for(let _0x158bf0=_0x523cd8;_0x158bf0<=_0x5c9b89;_0x158bf0++){const _0x1d7336=new Date(_0x3852ad);_0x1d7336[_0x292c76(0x27e)](_0x1d7336[_0x292c76(0x254)]()+_0x158bf0);const _0x24ae07=getLocalDateStr(_0x1d7336);let _0x354367=_0x1d7336[_0x292c76(0x246)]()-0x1;if(_0x354367===-0x1)_0x354367=0x6;const _0x371b6e=_0x24ae07===_0x128621,_0xe711e9=document[_0x292c76(0x299)]('div');_0xe711e9[_0x292c76(0x1e2)]=_0x292c76(0x2d6)+(_0x371b6e?_0x292c76(0x1f0):''),_0xe711e9['id']=_0x292c76(0x2a3)+_0x24ae07,_0xe711e9[_0x292c76(0x26c)](_0x292c76(0x2bf),_0x24ae07),_0xe711e9[_0x292c76(0x1f6)]=_0x292c76(0x266)+_0x4434ea[_0x354367]+'</div><div\x20class=\x22dch-num\x22>'+_0x1d7336[_0x292c76(0x254)]()+_0x292c76(0x28a)+_0x24ae07+_0x292c76(0x26d),_0xe711e9[_0x292c76(0x2f4)]=()=>openDayOptions(_0x24ae07,_0x4434ea[_0x354367]+'\x20'+_0x1d7336[_0x292c76(0x254)]()),_0x356b7e[_0x292c76(0x251)](_0xe711e9);const _0x44d6d3=document[_0x292c76(0x299)]('div');_0x44d6d3[_0x292c76(0x1e2)]=_0x292c76(0x238)+(_0x371b6e?_0x292c76(0x1f0):''),_0x44d6d3[_0x292c76(0x26c)](_0x292c76(0x2bf),_0x24ae07),_0x44d6d3[_0x292c76(0x26c)](_0x292c76(0x2a8),_0x354367),renderEventsForColumn(_0x44d6d3,_0x24ae07,_0x354367),attachLongPressHandler(_0x44d6d3,_0x1d7336),_0x1305ab[_0x292c76(0x251)](_0x44d6d3),updateDayStats(_0x24ae07);}}function reRenderBlocks(){const _0x47b854=a2_0x1f3333;document[_0x47b854(0x308)](_0x47b854(0x20a))[_0x47b854(0x26e)](_0x1b184d=>{const _0x56bbab=_0x47b854;_0x1b184d[_0x56bbab(0x308)](_0x56bbab(0x2bd))['forEach'](_0x2fe0de=>_0x2fe0de['remove']());const _0x1c0c18=_0x1b184d['getAttribute'](_0x56bbab(0x2bf)),_0xdad00=parseInt(_0x1b184d[_0x56bbab(0x2d8)](_0x56bbab(0x2a8))),_0x23f807=Math[_0x56bbab(0x2aa)](_0x1b184d[_0x56bbab(0x260)]);(availabilityPattern[_0xdad00]||[])[_0x56bbab(0x26e)](_0x183fd3=>{const _0x57ec6c=_0x56bbab,_0x56918f=document[_0x57ec6c(0x299)](_0x57ec6c(0x2cb));_0x56918f[_0x57ec6c(0x1e2)]='blocked-slot\x20stripe-bg';const _0x3d1f28=_0x183fd3*GRID_H;_0x56918f[_0x57ec6c(0x23e)][_0x57ec6c(0x218)]=_0x3d1f28+'px',_0x56918f[_0x57ec6c(0x23e)][_0x57ec6c(0x295)]='-'+_0x23f807+_0x57ec6c(0x229)+_0x3d1f28+'px',_0x1b184d[_0x57ec6c(0x251)](_0x56918f);});if(specialRanges&&specialRanges[_0x56bbab(0x27d)]>0x0){const _0x39d61d=new Date(_0x1c0c18+'T00:00:00')[_0x56bbab(0x21d)](),_0x285e1e=new Date(_0x1c0c18+_0x56bbab(0x1d5))[_0x56bbab(0x21d)]();specialRanges['forEach'](_0x26b68e=>{const _0x319d85=_0x56bbab,_0x215d48=new Date(_0x26b68e[_0x319d85(0x1de)])['getTime'](),_0xe7575e=new Date(_0x26b68e[_0x319d85(0x259)])['getTime'](),_0x2d6dac=Math['max'](_0x39d61d,_0x215d48),_0x13b79b=Math['min'](_0x285e1e,_0xe7575e);if(_0x2d6dac<_0x13b79b){if(_0x2d6dac<=_0x39d61d&&_0x13b79b>=_0x285e1e-0xea60){if(!_0x1b184d[_0x319d85(0x2b7)](_0x319d85(0x22e))){const _0x21a9fc=document[_0x319d85(0x299)](_0x319d85(0x2cb));_0x21a9fc[_0x319d85(0x1e2)]=_0x319d85(0x250),_0x21a9fc[_0x319d85(0x23e)][_0x319d85(0x295)]='-'+_0x23f807+_0x319d85(0x25a),_0x1b184d[_0x319d85(0x251)](_0x21a9fc);}}else{const _0x520ffc=(_0x2d6dac-_0x39d61d)/0x36ee80*GRID_H,_0x17d170=(_0x13b79b-_0x2d6dac)/0x36ee80*GRID_H,_0xe15b21=document[_0x319d85(0x299)](_0x319d85(0x2cb));_0xe15b21[_0x319d85(0x1e2)]=_0x319d85(0x20b),_0xe15b21[_0x319d85(0x23e)][_0x319d85(0x218)]=_0x520ffc+'px',_0xe15b21[_0x319d85(0x23e)][_0x319d85(0x1f9)]=_0x17d170+'px',_0xe15b21[_0x319d85(0x23e)][_0x319d85(0x295)]='-'+_0x23f807+_0x319d85(0x229)+_0x520ffc+'px',_0x1b184d[_0x319d85(0x251)](_0xe15b21);}}});}if(dateExceptions[_0x1c0c18]===_0x56bbab(0x26f)){if(!_0x1b184d['querySelector'](_0x56bbab(0x22e))){const _0x25c51f=document[_0x56bbab(0x299)](_0x56bbab(0x2cb));_0x25c51f[_0x56bbab(0x1e2)]=_0x56bbab(0x250),_0x25c51f[_0x56bbab(0x23e)][_0x56bbab(0x295)]='-'+_0x23f807+_0x56bbab(0x25a),_0x1b184d['appendChild'](_0x25c51f);}}renderEventsForColumn(_0x1b184d,_0x1c0c18,_0xdad00),updateDayStats(_0x1c0c18);});}function updateAllDayStats(){const _0x301e0a=a2_0x1f3333;document['querySelectorAll']('.day-col-header')[_0x301e0a(0x26e)](_0x538c1e=>{const _0x331632=_0x301e0a;updateDayStats(_0x538c1e['getAttribute'](_0x331632(0x2bf)));});}function updateDayStats(_0xdb72ca){const _0x15af67=a2_0x1f3333,_0x103270=document['getElementById'](_0x15af67(0x2d7)+_0xdb72ca);if(!_0x103270)return;const _0x15bf3c=new Date(_0xdb72ca);let _0x354262=_0x15bf3c[_0x15af67(0x246)]()-0x1;if(_0x354262===-0x1)_0x354262=0x6;if(dateExceptions[_0xdb72ca]===_0x15af67(0x26f)){_0x103270[_0x15af67(0x23e)][_0x15af67(0x25b)]=_0x15af67(0x2ae);return;}const _0x7bff30=availabilityPattern[_0x354262]||[],_0x220594=0x18-_0x7bff30['length'],_0x28c41d=_0x220594*0x3c,_0x10d94c=sessions[_0x15af67(0x221)](_0x7ff6bd=>_0x7ff6bd[_0x15af67(0x232)]===_0xdb72ca&&_0x7ff6bd[_0x15af67(0x2c5)]!==_0x15af67(0x1ce));if(_0x10d94c[_0x15af67(0x27d)]===0x0){_0x103270['style'][_0x15af67(0x25b)]=_0x15af67(0x2ae);return;}let _0x322569=_0x10d94c['map'](_0x120961=>{const _0x58e3b2=_0x15af67,[_0x2d86be,_0x16966e]=_0x120961[_0x58e3b2(0x1de)][_0x58e3b2(0x326)](':')[_0x58e3b2(0x201)](Number),[_0x12b150,_0x3390c5]=_0x120961[_0x58e3b2(0x259)][_0x58e3b2(0x326)](':')[_0x58e3b2(0x201)](Number);return[_0x2d86be*0x3c+_0x16966e,_0x12b150*0x3c+_0x3390c5];});_0x322569['sort']((_0x2e6e5c,_0x25c98d)=>_0x2e6e5c[0x0]-_0x25c98d[0x0]);let _0x5a22eb=[];if(_0x322569[_0x15af67(0x27d)]>0x0){let _0x49a7c5=_0x322569[0x0];for(let _0x3b8304=0x1;_0x3b8304<_0x322569[_0x15af67(0x27d)];_0x3b8304++){_0x322569[_0x3b8304][0x0]<_0x49a7c5[0x1]?_0x49a7c5[0x1]=Math[_0x15af67(0x29b)](_0x49a7c5[0x1],_0x322569[_0x3b8304][0x1]):(_0x5a22eb[_0x15af67(0x318)](_0x49a7c5),_0x49a7c5=_0x322569[_0x3b8304]);}_0x5a22eb[_0x15af67(0x318)](_0x49a7c5);}let _0x5e5277=0x0;_0x5a22eb[_0x15af67(0x26e)](_0x1bf6bb=>_0x5e5277+=_0x1bf6bb[0x1]-_0x1bf6bb[0x0]),_0x103270['style']['display']=_0x15af67(0x327);const _0x42caa1=_0x103270['querySelector'](_0x15af67(0x2ca));if(_0x28c41d===0x0){_0x42caa1[_0x15af67(0x23e)]['width']='100%',_0x42caa1[_0x15af67(0x23e)][_0x15af67(0x30e)]='var(--acc-red)';return;}const _0x417b51=_0x5e5277/_0x28c41d*0x64;console[_0x15af67(0x23f)]('['+_0xdb72ca+_0x15af67(0x241)+_0x220594+_0x15af67(0x2fd)+_0x5e5277+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x417b51['toFixed'](0x1)+'%'),_0x417b51>0x64?(_0x42caa1[_0x15af67(0x23e)][_0x15af67(0x2c3)]=_0x15af67(0x30b),_0x42caa1[_0x15af67(0x23e)][_0x15af67(0x30e)]=_0x15af67(0x1da)):(_0x42caa1[_0x15af67(0x23e)][_0x15af67(0x2c3)]=_0x417b51+'%',_0x42caa1[_0x15af67(0x23e)][_0x15af67(0x30e)]='var(--acc-current)');}function renderEventsForColumn(_0x1a66d6,_0x5c11c9,_0x3661cc){const _0x41bcd7=a2_0x1f3333,_0x3909de=sessions[_0x41bcd7(0x221)](_0x305d0d=>_0x305d0d[_0x41bcd7(0x232)]===_0x5c11c9),_0x2e3e97=_0x3909de[_0x41bcd7(0x201)](_0x53a3b5=>{const _0x35635e=_0x41bcd7,[_0x573eb6,_0x10b16f]=_0x53a3b5['start']['split'](':')[_0x35635e(0x201)](Number),[_0x392f94,_0x47c7c6]=_0x53a3b5[_0x35635e(0x259)][_0x35635e(0x326)](':')['map'](Number);return{'data':_0x53a3b5,'start':_0x573eb6*0x3c+_0x10b16f,'end':_0x392f94*0x3c+_0x47c7c6,'colIndex':0x0};});_0x2e3e97[_0x41bcd7(0x2cd)]((_0x437154,_0x1e2544)=>{const _0x1197a5=_0x41bcd7;if(_0x437154[_0x1197a5(0x1de)]!==_0x1e2544[_0x1197a5(0x1de)])return _0x437154[_0x1197a5(0x1de)]-_0x1e2544['start'];return _0x1e2544[_0x1197a5(0x259)]-_0x1e2544[_0x1197a5(0x1de)]-(_0x437154[_0x1197a5(0x259)]-_0x437154[_0x1197a5(0x1de)]);});const _0x150a96=[];_0x2e3e97[_0x41bcd7(0x26e)](_0x4e6fa5=>{const _0x53d228=_0x41bcd7;let _0x595a55=![];for(let _0x437145=0x0;_0x437145<_0x150a96[_0x53d228(0x27d)];_0x437145++){const _0x52f781=_0x150a96[_0x437145],_0x5762bc=_0x52f781[_0x52f781[_0x53d228(0x27d)]-0x1];if(_0x4e6fa5[_0x53d228(0x1de)]>=_0x5762bc[_0x53d228(0x259)]){_0x52f781['push'](_0x4e6fa5),_0x4e6fa5[_0x53d228(0x269)]=_0x437145,_0x595a55=!![];break;}}!_0x595a55&&(_0x150a96[_0x53d228(0x318)]([_0x4e6fa5]),_0x4e6fa5[_0x53d228(0x269)]=_0x150a96[_0x53d228(0x27d)]-0x1);}),_0x2e3e97[_0x41bcd7(0x26e)](_0x18212a=>{const _0x3edb7d=_0x41bcd7;let _0x5973cd=0x0;_0x2e3e97[_0x3edb7d(0x26e)](_0x4ebd5c=>{const _0xd270a9=_0x3edb7d;if(Math[_0xd270a9(0x29b)](_0x18212a[_0xd270a9(0x1de)],_0x4ebd5c[_0xd270a9(0x1de)])<Math[_0xd270a9(0x2eb)](_0x18212a['end'],_0x4ebd5c['end'])){if(_0x4ebd5c['colIndex']>_0x5973cd)_0x5973cd=_0x4ebd5c[_0xd270a9(0x269)];}});const _0x3ae6da=_0x5973cd+0x1,_0x3a92a0=0x64/_0x3ae6da,_0x143f23=_0x18212a['colIndex']*_0x3a92a0,_0x34d0d2=createEventEl(_0x18212a[_0x3edb7d(0x1cf)]);_0x34d0d2['style'][_0x3edb7d(0x2c3)]=_0x3edb7d(0x1e1)+_0x3a92a0+_0x3edb7d(0x310),_0x34d0d2['style'][_0x3edb7d(0x1fd)]=_0x3edb7d(0x1e1)+_0x143f23+_0x3edb7d(0x296),_0x34d0d2[_0x3edb7d(0x23e)][_0x3edb7d(0x270)]=0xa+_0x18212a[_0x3edb7d(0x269)],_0x3a92a0<0x55&&_0x34d0d2[_0x3edb7d(0x247)][_0x3edb7d(0x25d)]('mini'),_0x1a66d6['appendChild'](_0x34d0d2);});}function createEventEl(_0x44ae85){const _0x412ea1=a2_0x1f3333,[_0x15e331,_0x1d4497]=_0x44ae85['start'][_0x412ea1(0x326)](':')[_0x412ea1(0x201)](Number),[_0x543ecf,_0x34e96b]=_0x44ae85[_0x412ea1(0x259)][_0x412ea1(0x326)](':')[_0x412ea1(0x201)](Number),_0x4e78e9=(_0x15e331*0x3c+_0x1d4497)/0x3c*GRID_H,_0x29318b=(_0x543ecf*0x3c+_0x34e96b-(_0x15e331*0x3c+_0x1d4497))/0x3c*GRID_H,_0x5efc9e=document[_0x412ea1(0x299)](_0x412ea1(0x2cb)),_0x2462c7=_0x44ae85[_0x412ea1(0x2c5)]===_0x412ea1(0x2af)?_0x412ea1(0x2fb):'';_0x5efc9e[_0x412ea1(0x1e2)]=_0x412ea1(0x240)+_0x2462c7,_0x5efc9e['style'][_0x412ea1(0x218)]=_0x4e78e9+'px',_0x5efc9e[_0x412ea1(0x23e)][_0x412ea1(0x1f9)]=Math['max'](_0x29318b,0x14)+'px';const _0x170499=clients[_0x412ea1(0x31d)](_0x28812c=>_0x44ae85['clientId']&&String(_0x28812c['id'])===String(_0x44ae85[_0x412ea1(0x1c0)])||_0x28812c[_0x412ea1(0x263)]===_0x44ae85[_0x412ea1(0x2a9)]),_0x5a35d6=_0x170499?_0x170499[_0x412ea1(0x321)]:_0x412ea1(0x275);_0x5efc9e[_0x412ea1(0x23e)][_0x412ea1(0x2fc)]=_0x5a35d6,_0x5efc9e[_0x412ea1(0x23e)][_0x412ea1(0x223)]=hexToRgba(_0x5a35d6,0.85);let _0x4a49dd=_0x412ea1(0x1bb)+_0x44ae85['client']+_0x412ea1(0x23d)+_0x44ae85[_0x412ea1(0x1de)]+_0x412ea1(0x312)+_0x44ae85[_0x412ea1(0x259)]+_0x412ea1(0x1e6);return _0x44ae85[_0x412ea1(0x24a)]&&(_0x4a49dd+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x44ae85['status']===_0x412ea1(0x2af)&&(_0x4a49dd+=_0x412ea1(0x2ab)),_0x5efc9e[_0x412ea1(0x1f6)]=_0x4a49dd,_0x5efc9e[_0x412ea1(0x2f4)]=_0x2ca418=>{const _0x5b9dbb=_0x412ea1;_0x2ca418[_0x5b9dbb(0x304)](),openEdit(_0x44ae85);},_0x5efc9e;}function attachLongPressHandler(_0x2aa3d3,_0x1cdf93){const _0x3ebeb6=a2_0x1f3333;let _0x5c5307=0x0,_0x39a0dc=null;const _0x3b2634=_0x20d949=>{const _0x2ffa0a=a2_0x50d1;if(_0x20d949[_0x2ffa0a(0x278)][_0x2ffa0a(0x335)](_0x2ffa0a(0x26a)))return;isScrolling=![],_0x5c5307=_0x20d949['touches']?_0x20d949['touches'][0x0][_0x2ffa0a(0x1fa)]:_0x20d949[_0x2ffa0a(0x1fa)],_0x39a0dc=setTimeout(()=>{const _0xa288c6=_0x2ffa0a;if(!isScrolling){navigator[_0xa288c6(0x2bb)]?.(0x32);const _0x37f870=_0x2aa3d3[_0xa288c6(0x2d0)](),_0xda28cc=Math[_0xa288c6(0x2c7)]((_0x5c5307-_0x37f870[_0xa288c6(0x218)])/GRID_H);_0x1cdf93[_0xa288c6(0x2e7)](_0xda28cc,0x0),openAddSession(_0x1cdf93);}},0x1f4);},_0x54db75=()=>{isScrolling=!![],clearTimeout(_0x39a0dc);},_0x1a5041=()=>{clearTimeout(_0x39a0dc);};_0x2aa3d3[_0x3ebeb6(0x21b)](_0x3ebeb6(0x21c),_0x3b2634,{'passive':!![]}),_0x2aa3d3[_0x3ebeb6(0x21b)](_0x3ebeb6(0x2b1),_0x54db75,{'passive':!![]}),_0x2aa3d3['addEventListener']('touchend',_0x1a5041),_0x2aa3d3['addEventListener'](_0x3ebeb6(0x1c9),_0x3b2634),_0x2aa3d3[_0x3ebeb6(0x21b)](_0x3ebeb6(0x2ed),_0x54db75),_0x2aa3d3['addEventListener'](_0x3ebeb6(0x2e0),_0x1a5041);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x35a851=a2_0x1f3333,_0x259da9=document[_0x35a851(0x1c3)](_0x35a851(0x1d6)),_0x2567ea=_0x259da9['scrollLeft'],_0x21ef94=_0x259da9[_0x35a851(0x261)],_0x545bc9=_0x259da9['clientWidth'];if(_0x21ef94-(_0x2567ea+_0x545bc9)<0x12c){const _0x3a0b35=endOffset;endOffset+=0xe,renderDayRange(_0x3a0b35+0x1,endOffset),reRenderBlocks();}if(_0x2567ea<0x12c){const _0x54e5cb=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54e5cb-0x1),_0x259da9[_0x35a851(0x25c)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x788473,_0x20705f){const _0x1d00aa=a2_0x1f3333,_0x2eaf27=document[_0x1d00aa(0x1c3)](_0x1d00aa(0x1e0)),_0xf079e3=document[_0x1d00aa(0x1c3)]('gridColumns'),_0x4bccb3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x41dd82=new Date();_0x41dd82[_0x1d00aa(0x2e7)](0x0,0x0,0x0,0x0);const _0xb3b50f=getLocalDateStr(new Date()),_0x4092f4=document[_0x1d00aa(0x268)](),_0x535732=document[_0x1d00aa(0x268)]();for(let _0x358ea1=_0x788473;_0x358ea1<=_0x20705f;_0x358ea1++){const _0x584622=new Date(_0x41dd82);_0x584622[_0x1d00aa(0x27e)](_0x584622[_0x1d00aa(0x254)]()+_0x358ea1);const _0x5c9da0=getLocalDateStr(_0x584622);let _0x19df07=_0x584622[_0x1d00aa(0x246)]()-0x1;if(_0x19df07===-0x1)_0x19df07=0x6;const _0x4cdd8a=_0x5c9da0===_0xb3b50f,_0xda7c12=document[_0x1d00aa(0x299)](_0x1d00aa(0x2cb));_0xda7c12[_0x1d00aa(0x1e2)]=_0x1d00aa(0x2d6)+(_0x4cdd8a?_0x1d00aa(0x1f0):''),_0xda7c12['id']=_0x1d00aa(0x2a3)+_0x5c9da0,_0xda7c12[_0x1d00aa(0x26c)](_0x1d00aa(0x2bf),_0x5c9da0),_0xda7c12[_0x1d00aa(0x1f6)]=_0x1d00aa(0x266)+_0x4bccb3[_0x19df07]+_0x1d00aa(0x267)+_0x584622[_0x1d00aa(0x254)]()+_0x1d00aa(0x28a)+_0x5c9da0+_0x1d00aa(0x26d),_0xda7c12[_0x1d00aa(0x2f4)]=()=>openDayOptions(_0x5c9da0,_0x4bccb3[_0x19df07]+'\x20'+_0x584622[_0x1d00aa(0x254)]()),_0x4092f4[_0x1d00aa(0x251)](_0xda7c12);const _0x2d5638=document[_0x1d00aa(0x299)](_0x1d00aa(0x2cb));_0x2d5638[_0x1d00aa(0x1e2)]=_0x1d00aa(0x238)+(_0x4cdd8a?_0x1d00aa(0x1f0):''),_0x2d5638[_0x1d00aa(0x26c)](_0x1d00aa(0x2bf),_0x5c9da0),_0x2d5638[_0x1d00aa(0x26c)](_0x1d00aa(0x2a8),_0x19df07),renderEventsForColumn(_0x2d5638,_0x5c9da0,_0x19df07),attachLongPressHandler(_0x2d5638,_0x584622),_0x535732['appendChild'](_0x2d5638),updateDayStats(_0x5c9da0);}_0x2eaf27[_0x1d00aa(0x32a)](_0x4092f4,_0x2eaf27[_0x1d00aa(0x2ef)]),_0xf079e3[_0x1d00aa(0x32a)](_0x535732,_0xf079e3[_0x1d00aa(0x2b7)](_0x1d00aa(0x1df)));}function validateAppointment(_0x5eeac8,_0x244d43,_0x1f4867,_0x37268b,_0x4b73e9){const _0xe1d100=a2_0x1f3333,[_0x5f170f,_0x4bfff3]=_0x244d43[_0xe1d100(0x326)](':')[_0xe1d100(0x201)](Number),[_0xf15cc6,_0x529215]=_0x1f4867[_0xe1d100(0x326)](':')[_0xe1d100(0x201)](Number),_0x25c1d7=_0x5f170f*0x3c+_0x4bfff3,_0x3b6e02=_0xf15cc6*0x3c+_0x529215,_0x3ddf6a=String(_0x4b73e9);let _0x41e056=![],_0x1d223='';for(let _0x233498 of sessions){if(_0x233498[_0xe1d100(0x232)]!==_0x5eeac8)continue;if(_0x233498[_0xe1d100(0x2c5)]==='cancelled')continue;if(_0x37268b&&String(_0x233498['id'])===String(_0x37268b))continue;const [_0x31ff55,_0x288766]=_0x233498[_0xe1d100(0x1de)][_0xe1d100(0x326)](':')['map'](Number),[_0x3bcbc7,_0x3b3030]=_0x233498[_0xe1d100(0x259)]['split'](':')[_0xe1d100(0x201)](Number),_0x3fff47=_0x31ff55*0x3c+_0x288766,_0xc55d29=_0x3bcbc7*0x3c+_0x3b3030;if(Math['max'](_0x25c1d7,_0x3fff47)<Math[_0xe1d100(0x2eb)](_0x3b6e02,_0xc55d29)){if(_0x233498[_0xe1d100(0x1c0)]&&String(_0x233498[_0xe1d100(0x1c0)])===_0x3ddf6a)return{'valid':![],'msg':_0xe1d100(0x307)+_0x233498['client']+_0xe1d100(0x239)};_0x41e056=!![],_0x1d223=_0x233498[_0xe1d100(0x2a9)];}}if(_0x41e056)return{'valid':!![],'warning':_0xe1d100(0x302)+_0x1d223};return{'valid':!![]};}function updateDateDisplay(){const _0x16f498=a2_0x1f3333,_0x2df5c5=document[_0x16f498(0x1c3)](_0x16f498(0x1f5))[_0x16f498(0x274)],_0xb90bb=document[_0x16f498(0x1c3)]('sheetDateSubtitle');if(!_0x2df5c5){_0xb90bb[_0x16f498(0x273)]='';return;}const [_0x99147c,_0xbd666c,_0x2186c6]=_0x2df5c5['split']('-')[_0x16f498(0x201)](Number),_0x2f7252=new Date(_0x99147c,_0xbd666c-0x1,_0x2186c6),_0xbeae7={'weekday':'long','day':_0x16f498(0x1eb),'month':'long','year':'numeric'};let _0x45f132=_0x2f7252['toLocaleDateString']('ru-RU',_0xbeae7);_0x45f132=_0x45f132[_0x16f498(0x2b4)](0x0)[_0x16f498(0x29a)]()+_0x45f132[_0x16f498(0x1f8)](0x1),_0xb90bb[_0x16f498(0x273)]=_0x45f132;}function autoSetEndTime(){const _0x54036e=a2_0x1f3333,_0x32a370=document[_0x54036e(0x1c3)](_0x54036e(0x1c5))[_0x54036e(0x274)];if(!_0x32a370)return;const [_0x3824f4,_0x10381c]=_0x32a370[_0x54036e(0x326)](':')['map'](Number);let _0x2a9010=_0x3824f4+0x1;if(_0x2a9010>0x17)_0x2a9010=0x0;const _0x36a893=String(_0x2a9010)[_0x54036e(0x2a0)](0x2,'0')+':'+String(_0x10381c)[_0x54036e(0x2a0)](0x2,'0');document[_0x54036e(0x1c3)]('inpEnd')[_0x54036e(0x274)]=_0x36a893;}function populateClientSelect(){const _0x33672d=a2_0x1f3333,_0x221a2f=document[_0x33672d(0x1c3)](_0x33672d(0x252));_0x221a2f['innerHTML']='';if(clients[_0x33672d(0x27d)]===0x0){const _0x467ec2=document[_0x33672d(0x299)]('option');_0x467ec2['text']=_0x33672d(0x1fe),_0x221a2f['appendChild'](_0x467ec2);return;}clients[_0x33672d(0x26e)](_0x4a910b=>{const _0x60c680=_0x33672d,_0x40ae2f=document[_0x60c680(0x299)](_0x60c680(0x225));_0x40ae2f['value']=_0x4a910b['name'],_0x40ae2f['textContent']=_0x4a910b[_0x60c680(0x263)],_0x221a2f[_0x60c680(0x251)](_0x40ae2f);});}function openActionSheet(_0x48412e){const _0x507373=a2_0x1f3333,_0x2c9b12=document[_0x507373(0x1c3)]('actionSheet'),_0x66d600=document[_0x507373(0x1c3)](_0x507373(0x2f2)),_0x1fe6e6=document['getElementById']('asTitle'),_0x2651ea=document[_0x507373(0x1c3)](_0x507373(0x200)),_0x129ac9=document[_0x507373(0x1c3)](_0x507373(0x2e8));_0x66d600['classList'][_0x507373(0x25d)](_0x507373(0x230)),_0x2c9b12['classList'][_0x507373(0x25d)]('open');if(_0x48412e===_0x507373(0x272))_0x1fe6e6[_0x507373(0x273)]=_0x507373(0x2ac),_0x2651ea[_0x507373(0x273)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x2651ea[_0x507373(0x2f4)]=()=>{const _0x466468=_0x507373;closeActionSheet(),updateSeriesBatch(_0x466468(0x2f7),tempSessionData);},_0x129ac9[_0x507373(0x273)]=_0x507373(0x25f),_0x129ac9[_0x507373(0x2f4)]=()=>{const _0x411093=_0x507373;closeActionSheet(),updateSeriesBatch(_0x411093(0x27b),tempSessionData);};else _0x48412e===_0x507373(0x281)&&(_0x1fe6e6[_0x507373(0x273)]=_0x507373(0x236),_0x2651ea[_0x507373(0x273)]=_0x507373(0x2e4),_0x2651ea['className']=_0x507373(0x212),_0x2651ea[_0x507373(0x2f4)]=()=>{const _0x2d0e57=_0x507373;closeActionSheet(),commitDelete(_0x2d0e57(0x2f7),sessions[_0x2d0e57(0x31d)](_0x1999f7=>_0x1999f7['id']===editingId));},_0x129ac9[_0x507373(0x273)]=_0x507373(0x25f),_0x129ac9['className']=_0x507373(0x2da),_0x129ac9['onclick']=()=>{const _0x18afa8=_0x507373;closeActionSheet(),commitDelete(_0x18afa8(0x27b),sessions[_0x18afa8(0x31d)](_0x50f283=>_0x50f283['id']===editingId));});}function closeActionSheet(){const _0x490d89=a2_0x1f3333;document[_0x490d89(0x1c3)](_0x490d89(0x22a))['classList']['remove'](_0x490d89(0x23c)),document[_0x490d89(0x1c3)](_0x490d89(0x2f2))[_0x490d89(0x247)][_0x490d89(0x297)](_0x490d89(0x230));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x4c0fc3=a2_0x1f3333,_0x253c06=document[_0x4c0fc3(0x1c3)]('settingCancelWindow')[_0x4c0fc3(0x274)];localStorage[_0x4c0fc3(0x282)](_0x4c0fc3(0x2fe),_0x253c06),console[_0x4c0fc3(0x23f)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x253c06),DataManager[_0x4c0fc3(0x330)](_0x4c0fc3(0x32e),{'settings':{'cancel_window':_0x253c06}})['catch'](_0x5e31b6=>{const _0xdbb479=_0x4c0fc3;console[_0xdbb479(0x2c1)]('Save\x20settings\x20error:',_0x5e31b6),showToast(_0xdbb479(0x2dd),![]);});}function loadCoachSettings(){const _0x5565a4=a2_0x1f3333,_0x20e382=localStorage['getItem'](_0x5565a4(0x2fe));_0x20e382&&(document['getElementById'](_0x5565a4(0x27f))['value']=_0x20e382);}function a2_0x4750(){const _0x426207=['client','round','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','formatDate','none','completed','btn-status-toggle\x20undo-mode','touchmove',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','null','charAt','dayOptionsSheet','patternEditor','querySelector','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','1758296lrImVZ','rangesList','vibrate','#050505','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','rgba(255,\x20159,\x2010,\x200.3)','data-date','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','error','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','width','stringify','status','setMonth','floor','overlay','valid','.dch-stats-fill','div','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','sort','json','parse','getBoundingClientRect','disableVerticalSwipes','create','sessionSheet','23:59','Unknown','day-col-header\x20','stat-','getAttribute','getItem','as-button\x20danger\x20bold','Telegram','rangeStartTime','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','syncLoad','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','mouseup','pe-cell\x20','829134JFLzFA','btnDelete','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','var(--acc-green)','rgba(255,\x2069,\x2058,\x200.15)','setHours','asBtnSeries','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','borderColor','min','rgba(48,\x20209,\x2088,\x200.15)','mousemove','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','firstChild','entries','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','actionSheetOverlay','all','onclick','location','[Notify]\x20Error:\x20sessionData\x20is\x20null','single','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','btnStatusToggle','\x20status-completed','borderLeftColor','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','uc_settings_cancel_window','getHours','[Notify]\x20Network\x20Failed','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','seriesCountContainer','stopPropagation','block','[API\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','querySelectorAll','checked','rgba(','100%','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','anPercent','background',']\x20Failed:','%\x20-\x204px)','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','\x20-\x20','doWorkHours','Local\x20Load\x20Error','show','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','10px\x2010px\x200\x200','push','rgba(255,255,255,0.05)','<span>','patternInfoBox','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','find','from','–£—Å–ø–µ—à–Ω–æ','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','color','onClick','...','19705563XKsJAL','note','split','flex','btn-status-toggle','month','insertBefore','isArray','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','save_settings','router.html','fetchFromServer','getFullYear','10px','uc_clients_v9','exceptions','closest','inpNote','total','peGrid','<div\x20class=\x22ev-title\x22>','long','[Notify]\x20Error:\x20Text\x20generation\x20failed','send','guest','clientId','ru-RU','btn-primary\x20btn-secondary','getElementById','anDonutCircle','inpStart','getMonth','btn-primary\x20btn-danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','Batch\x20Sync\x20OK',':\x20Client\x20already\x20booked','00:00','Critical\x20TMA\x20Error:','cancelled','data','strokeDashoffset','BackButton','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','rangeEndDate','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','T23:59:59','matrixViewport','8ArZxjX','3616400dTCYCv','[Sync]\x20Loading\x20','var(--acc-red)','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','now','initDataUnsafe','start','.day-column','daysHeaderTrack','calc(','className','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','update','indexOf','</div>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','recurringOptionContainer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','numeric','toString','toast','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','today','pattern','Error\x20setting\x20color:','WebApp','DOMContentLoaded','inpDate','innerHTML','inpSeriesCount','slice','height','clientY','clients','cancel_window','left','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asBtnOne','map','pe-time-label','sheetTitle','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','setBackgroundColor','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','var(--acc-orange)','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','#gridColumns\x20.day-column','blocked-range-part\x20stripe-bg','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','mergeServerData','initData','inpRecurring','time-label','splice','as-button\x20danger','toLocaleDateString','anEnd','.period-switch\x20.p-btn','2529207LijCsg',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','top','msg','done','addEventListener','touchstart','getTime','syncBatch','.sheet','catch','filter','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','backgroundColor','toastMessage','option','scrollTop','[Notify]\x20Attempting\x20to\x20send:','borderRadius','px\x20-','actionSheet','</span>\x20/\x20','doEventsList','[Notify]\x20Detected\x20Client\x20ID:','.day-off-overlay','doBusyHours','active','inpEnd','dateStr','anCustomDates','cancel','send_notification','–£–¥–∞–ª–µ–Ω–∏–µ','rangeStartDate','day-column\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','v9.0-BATCH-CALENDAR','complete','open','</div><div\x20class=\x22ev-time\x22>','style','log','event-card',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','week','clientWidth','toLocaleString','979158rKgfBx','getDay','classList','statLoadCard','init_load','seriesId','random','analyticsSheet','includes','settings','then','day-off-overlay\x20stripe-bg','appendChild','inpClient','custom','getDate','</b>\x0a\x0a','user','timeLineBadge','warn','end','px\x200px','display','scrollLeft','add','.pib-text','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','offsetLeft','scrollWidth','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','name','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','anStart','<div\x20class=\x22dch-day\x22>','</div><div\x20class=\x22dch-num\x22>','createDocumentFragment','colIndex','.event-card','pe-col-header','setAttribute','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','forEach','off','zIndex','planned','save','textContent','value','#0a84ff','gridColumns','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','target','anTotalStats','ranges','series','POST','length','setDate','settingCancelWindow','rangeEndTime','delete','setItem','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','2OadHDN','sid','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','9205259ivAoAR','doDateHeader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','calendar','[Notify]\x20Client\x20SWAP\x20detected','findIndex','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','Server\x20Error','offClick','warning','scroll','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','saveLocally','backgroundPosition','%\x20+\x202px)','remove','getMinutes','createElement','toUpperCase','max','client-stat-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','#fff','localeCompare','padStart','rangesSheet',':00','header-','search','.day-col-header','undefined','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','data-day-idx'];a2_0x4750=function(){return _0x426207;};return a2_0x4750();}function openRangesSheet(){const _0x4c4f82=a2_0x1f3333;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4c4f82(0x2a1));}function addRange(){const _0x42b246=a2_0x1f3333,_0x39f52d=document[_0x42b246(0x1c3)](_0x42b246(0x237))['value'],_0x42d194=document[_0x42b246(0x1c3)](_0x42b246(0x2dc))[_0x42b246(0x274)],_0x433eba=document[_0x42b246(0x1c3)](_0x42b246(0x1d3))[_0x42b246(0x274)],_0x522b66=document[_0x42b246(0x1c3)](_0x42b246(0x280))[_0x42b246(0x274)];if(!_0x39f52d||!_0x42d194||!_0x433eba||!_0x522b66)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x45266b=_0x39f52d+'T'+_0x42d194,_0x282c3a=_0x433eba+'T'+_0x522b66;if(_0x45266b>=_0x282c3a)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges[_0x42b246(0x318)]({'start':_0x45266b,'end':_0x282c3a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x42b246(0x32e),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4c6cf8){const _0x18348f=a2_0x1f3333;specialRanges[_0x18348f(0x211)](_0x4c6cf8,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x18348f(0x294)](),DataManager[_0x18348f(0x330)](_0x18348f(0x32e),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x2425cd=a2_0x1f3333;document['getElementById'](_0x2425cd(0x237))[_0x2425cd(0x274)]='',document[_0x2425cd(0x1c3)](_0x2425cd(0x2dc))[_0x2425cd(0x274)]=_0x2425cd(0x1cc),document[_0x2425cd(0x1c3)](_0x2425cd(0x1d3))['value']='',document[_0x2425cd(0x1c3)](_0x2425cd(0x280))[_0x2425cd(0x274)]=_0x2425cd(0x2d4);}function renderRangesList(){const _0x1aa230=a2_0x1f3333,_0x1f60b7=document[_0x1aa230(0x1c3)](_0x1aa230(0x2ba));_0x1f60b7['innerHTML']='';if(!specialRanges[_0x1aa230(0x27d)]){_0x1f60b7[_0x1aa230(0x1f6)]=_0x1aa230(0x1db);return;}specialRanges[_0x1aa230(0x26e)]((_0xa4f1f8,_0x39d853)=>{const _0xa28c2b=_0x1aa230,_0x23d65a=document[_0xa28c2b(0x299)](_0xa28c2b(0x2cb));_0x23d65a[_0xa28c2b(0x1e2)]='range-item';const _0x11b12f=_0x4f633f=>{const _0x4282ae=_0xa28c2b,_0x51af8c=new Date(_0x4f633f);return _0x51af8c[_0x4282ae(0x254)]()+'.'+String(_0x51af8c[_0x4282ae(0x1c6)]()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x51af8c[_0x4282ae(0x2ff)]())[_0x4282ae(0x2a0)](0x2,'0')+':'+String(_0x51af8c['getMinutes']())[_0x4282ae(0x2a0)](0x2,'0');};_0x23d65a[_0xa28c2b(0x1f6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x11b12f(_0xa4f1f8[_0xa28c2b(0x1de)])+'\x20‚Äî\x20'+_0x11b12f(_0xa4f1f8['end'])+_0xa28c2b(0x1e3)+_0x39d853+_0xa28c2b(0x217),_0x1f60b7[_0xa28c2b(0x251)](_0x23d65a);});}function a2_0x50d1(_0x39ccde,_0x1a1c41){_0x39ccde=_0x39ccde-0x1b8;const _0x2c7a13=a2_0x4750();let _0x4fb166=_0x2c7a13[_0x39ccde];return _0x4fb166;}function scrollToToday(){const _0x3a142f=a2_0x1f3333,_0x4668d4=getLocalDateStr(new Date()),_0x5f3ad3=document[_0x3a142f(0x1c3)](_0x3a142f(0x2a3)+_0x4668d4),_0xe6abb=document[_0x3a142f(0x1c3)]('matrixViewport');if(_0x5f3ad3&&_0xe6abb){const _0x58e2ce=_0xe6abb[_0x3a142f(0x243)],_0x56f84c=_0x5f3ad3[_0x3a142f(0x260)],_0x4cbb03=_0x5f3ad3['offsetWidth'];_0xe6abb[_0x3a142f(0x25c)]=_0x56f84c-_0x58e2ce/0x2+_0x4cbb03/0x2,_0xe6abb[_0x3a142f(0x226)]=0x9*GRID_H;}}function onScroll(){const _0x2d2132=a2_0x1f3333,_0xd4a459=document[_0x2d2132(0x1c3)]('matrixViewport'),_0x2a6163=document[_0x2d2132(0x308)](_0x2d2132(0x2a5));for(let _0x32a985 of _0x2a6163)if(_0x32a985[_0x2d2132(0x260)]>=_0xd4a459[_0x2d2132(0x25c)]){const _0x419696=new Date(_0x32a985['getAttribute'](_0x2d2132(0x2bf)));document[_0x2d2132(0x1c3)]('headerMonth')[_0x2d2132(0x273)]=_0x419696[_0x2d2132(0x244)]('ru',{'month':_0x2d2132(0x1bc)})[_0x2d2132(0x29a)]()+'\x20'+_0x419696[_0x2d2132(0x331)]();break;}}function showToast(_0x314280,_0x3f5873=![]){const _0x50b1fb=a2_0x1f3333,_0x17fd26=document[_0x50b1fb(0x1c3)](_0x50b1fb(0x1ed));_0x17fd26[_0x50b1fb(0x1e2)]='toast-notification\x20'+(_0x3f5873?'success':''),document[_0x50b1fb(0x1c3)]('toastTitle')[_0x50b1fb(0x273)]=_0x3f5873?_0x50b1fb(0x31f):'–ò–Ω—Ñ–æ',document['getElementById'](_0x50b1fb(0x224))[_0x50b1fb(0x273)]=_0x314280,_0x17fd26['classList']['add'](_0x50b1fb(0x315)),setTimeout(()=>{const _0x35183b=_0x50b1fb;_0x17fd26[_0x35183b(0x247)][_0x35183b(0x297)]('show');},0xbb8);}function openDayOptions(_0x97519f,_0x18c343){const _0x189361=a2_0x1f3333;selectedDayForOptions=_0x97519f,document[_0x189361(0x1c3)]('dayOptionsTitle')[_0x189361(0x273)]=_0x18c343,openSheet(_0x189361(0x2b5));}function toggleDayOff(){const _0x42fe25=a2_0x1f3333;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x42fe25(0x26f),reRenderBlocks(),closeAllSheets(),DataManager[_0x42fe25(0x294)](),DataManager[_0x42fe25(0x330)](_0x42fe25(0x32e),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x58a924=a2_0x1f3333;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x58a924(0x294)](),DataManager['fetchFromServer'](_0x58a924(0x32e),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3608bf){const _0x3bd04b=a2_0x1f3333;document[_0x3bd04b(0x1c3)](_0x3bd04b(0x2c8))['classList']['add']('active'),document['getElementById'](_0x3608bf)[_0x3bd04b(0x247)][_0x3bd04b(0x25d)](_0x3bd04b(0x23c));}function closeAllSheets(){const _0xc8725=a2_0x1f3333;document[_0xc8725(0x1c3)](_0xc8725(0x2c8))['classList'][_0xc8725(0x297)](_0xc8725(0x230)),document['querySelectorAll'](_0xc8725(0x21f))['forEach'](_0xcc50ad=>_0xcc50ad['classList']['remove'](_0xc8725(0x23c)));}function openPatternEditor(){const _0x3f7a8e=a2_0x1f3333;closeAllSheets(),document[_0x3f7a8e(0x1c3)]('patternEditor')[_0x3f7a8e(0x247)][_0x3f7a8e(0x25d)](_0x3f7a8e(0x23c)),renderPatternEditor();}function closePatternEditor(){const _0x298446=a2_0x1f3333;document[_0x298446(0x1c3)](_0x298446(0x2b6))[_0x298446(0x247)][_0x298446(0x297)]('open');}function savePattern(){const _0x3fad1a=a2_0x1f3333;document[_0x3fad1a(0x1c3)](_0x3fad1a(0x2b6))['classList']['remove']('open'),reRenderBlocks(),DataManager[_0x3fad1a(0x294)](),DataManager[_0x3fad1a(0x330)](_0x3fad1a(0x32e),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xa85ce1=a2_0x1f3333,_0x33fff3=document[_0xa85ce1(0x1c3)](_0xa85ce1(0x1ba));_0x33fff3[_0xa85ce1(0x1f6)]='';const _0x106125=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcc6c53=document[_0xa85ce1(0x299)](_0xa85ce1(0x2cb));_0xcc6c53[_0xa85ce1(0x1e2)]='pe-corner',_0x33fff3['appendChild'](_0xcc6c53),_0x106125[_0xa85ce1(0x26e)]((_0x4fb6ae,_0x59ad40)=>{const _0x147d48=_0xa85ce1,_0x1f10e8=document[_0x147d48(0x299)]('div');_0x1f10e8[_0x147d48(0x1e2)]=_0x147d48(0x26b),_0x1f10e8[_0x147d48(0x1f6)]=_0x4fb6ae+_0x147d48(0x32d),_0x1f10e8[_0x147d48(0x2f4)]=()=>toggleColPattern(_0x59ad40),_0x33fff3[_0x147d48(0x251)](_0x1f10e8);});for(let _0x4c1945=0x0;_0x4c1945<0x18;_0x4c1945++){const _0x272f7f=document[_0xa85ce1(0x299)]('div');_0x272f7f[_0xa85ce1(0x1e2)]=_0xa85ce1(0x202),_0x272f7f[_0xa85ce1(0x1f6)]=_0xa85ce1(0x264)+String(_0x4c1945)['padStart'](0x2,'0')+':00',_0x272f7f[_0xa85ce1(0x2f4)]=()=>toggleRowPattern(_0x4c1945),_0x33fff3['appendChild'](_0x272f7f);for(let _0x3a9b97=0x0;_0x3a9b97<0x7;_0x3a9b97++){const _0x466719=document[_0xa85ce1(0x299)](_0xa85ce1(0x2cb)),_0x10a6f0=(availabilityPattern[_0x3a9b97]||[])['includes'](_0x4c1945),_0x7be07c=!_0x10a6f0;_0x466719[_0xa85ce1(0x1e2)]=_0xa85ce1(0x2e1)+(_0x7be07c?_0xa85ce1(0x230):''),_0x466719[_0xa85ce1(0x2f4)]=()=>toggleSinglePattern(_0x3a9b97,_0x4c1945),_0x33fff3[_0xa85ce1(0x251)](_0x466719);}}}function toggleSinglePattern(_0x5e37d4,_0x4b8ac0){const _0x5327c5=a2_0x1f3333;if(!availabilityPattern[_0x5e37d4])availabilityPattern[_0x5e37d4]=[];const _0x1042da=availabilityPattern[_0x5e37d4],_0x5eff23=_0x1042da[_0x5327c5(0x1e5)](_0x4b8ac0);_0x5eff23===-0x1?_0x1042da['push'](_0x4b8ac0):_0x1042da[_0x5327c5(0x211)](_0x5eff23,0x1),renderPatternEditor();}function toggleColPattern(_0x28589e){if(!availabilityPattern[_0x28589e])availabilityPattern[_0x28589e]=[];const _0x1ef6f5=availabilityPattern[_0x28589e];_0x1ef6f5['length']===0x0?availabilityPattern[_0x28589e]=Array['from']({'length':0x18},(_0x1662d1,_0x3dedbb)=>_0x3dedbb):availabilityPattern[_0x28589e]=[],renderPatternEditor();}function toggleRowPattern(_0x528556){const _0x379d41=a2_0x1f3333;let _0x2da1be=!![];for(let _0x2df047=0x0;_0x2df047<0x7;_0x2df047++){if((availabilityPattern[_0x2df047]||[])[_0x379d41(0x24d)](_0x528556)){_0x2da1be=![];break;}}for(let _0x26903d=0x0;_0x26903d<0x7;_0x26903d++){if(!availabilityPattern[_0x26903d])availabilityPattern[_0x26903d]=[];const _0x14a508=availabilityPattern[_0x26903d][_0x379d41(0x1e5)](_0x528556);if(_0x2da1be){if(_0x14a508===-0x1)availabilityPattern[_0x26903d][_0x379d41(0x318)](_0x528556);}else{if(_0x14a508!==-0x1)availabilityPattern[_0x26903d][_0x379d41(0x211)](_0x14a508,0x1);}}renderPatternEditor();}function renderPCol(_0x3fee2a,_0x299ff6){const _0x4ff244=a2_0x1f3333;_0x3fee2a[_0x4ff244(0x1f6)]='';const _0x2b7564=Math[_0x4ff244(0x2aa)](_0x3fee2a[_0x4ff244(0x260)]);(availabilityPattern[_0x299ff6]||[])[_0x4ff244(0x26e)](_0x16e8e2=>{const _0x41f1a5=_0x4ff244,_0x49f1e9=document[_0x41f1a5(0x299)](_0x41f1a5(0x2cb));_0x49f1e9['className']='blocked-slot\x20stripe-bg';const _0x102a00=_0x16e8e2*GRID_H;_0x49f1e9[_0x41f1a5(0x23e)][_0x41f1a5(0x218)]=_0x102a00+'px',_0x49f1e9[_0x41f1a5(0x23e)]['backgroundPosition']='-'+_0x2b7564+'px\x20-'+_0x102a00+'px',_0x49f1e9['onclick']=_0x448f03=>{const _0x448e16=_0x41f1a5;_0x448f03[_0x448e16(0x304)](),toggleSinglePattern(_0x299ff6,_0x16e8e2);},_0x3fee2a['appendChild'](_0x49f1e9);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4fce04=a2_0x1f3333,_0x2f9c3f=new Date(),_0x54027d=document[_0x4fce04(0x1c3)]('globalTimeLine'),_0x12f02d=document['getElementById'](_0x4fce04(0x257)),_0x363eee=(_0x2f9c3f[_0x4fce04(0x2ff)]()*0x3c+_0x2f9c3f[_0x4fce04(0x298)]())/0x3c*GRID_H;_0x54027d['style'][_0x4fce04(0x218)]=_0x363eee+'px',_0x54027d[_0x4fce04(0x23e)][_0x4fce04(0x25b)]=_0x4fce04(0x305),_0x12f02d['textContent']=String(_0x2f9c3f['getHours']())[_0x4fce04(0x2a0)](0x2,'0')+':'+String(_0x2f9c3f[_0x4fce04(0x298)]())[_0x4fce04(0x2a0)](0x2,'0'),_0x12f02d['style'][_0x4fce04(0x25b)]=_0x4fce04(0x305),_0x12f02d[_0x4fce04(0x23e)][_0x4fce04(0x218)]=_0x363eee+'px';}document['addEventListener'](a2_0x1f3333(0x1f4),init);function openDayOptions(_0x26568c){const _0x59ab01=a2_0x1f3333;selectedDayForOptions=_0x26568c;const _0x5c22ea=new Date(_0x26568c),_0x4a8054={'weekday':_0x59ab01(0x1bc),'day':_0x59ab01(0x1eb),'month':'long','year':'numeric'},_0x25902c=_0x5c22ea[_0x59ab01(0x213)](_0x59ab01(0x1c1),_0x4a8054);document[_0x59ab01(0x1c3)](_0x59ab01(0x288))[_0x59ab01(0x273)]=_0x25902c[_0x59ab01(0x2b4)](0x0)[_0x59ab01(0x29a)]()+_0x25902c[_0x59ab01(0x1f8)](0x1);let _0x1a9390=_0x5c22ea[_0x59ab01(0x246)]()-0x1;if(_0x1a9390===-0x1)_0x1a9390=0x6;const _0x49744b=availabilityPattern[_0x1a9390]||[],_0x1174ad=0x18-_0x49744b[_0x59ab01(0x27d)],_0x332465=_0x1174ad*0x3c,_0x55de50=sessions[_0x59ab01(0x221)](_0x22a397=>_0x22a397[_0x59ab01(0x232)]===_0x26568c&&_0x22a397[_0x59ab01(0x2c5)]!==_0x59ab01(0x1ce));let _0x5d9285=_0x55de50[_0x59ab01(0x201)](_0x33f2d5=>{const _0x1b93fd=_0x59ab01,[_0x2ffde6,_0x37eab6]=_0x33f2d5[_0x1b93fd(0x1de)][_0x1b93fd(0x326)](':')[_0x1b93fd(0x201)](Number),[_0x1ea0fb,_0x4d3c48]=_0x33f2d5['end'][_0x1b93fd(0x326)](':')[_0x1b93fd(0x201)](Number);return[_0x2ffde6*0x3c+_0x37eab6,_0x1ea0fb*0x3c+_0x4d3c48];});_0x5d9285['sort']((_0x38ce64,_0x59a153)=>_0x38ce64[0x0]-_0x59a153[0x0]);let _0x5ede10=[];if(_0x5d9285[_0x59ab01(0x27d)]>0x0){let _0x5bc76d=_0x5d9285[0x0];for(let _0x41d73f=0x1;_0x41d73f<_0x5d9285[_0x59ab01(0x27d)];_0x41d73f++){_0x5d9285[_0x41d73f][0x0]<_0x5bc76d[0x1]?_0x5bc76d[0x1]=Math['max'](_0x5bc76d[0x1],_0x5d9285[_0x41d73f][0x1]):(_0x5ede10['push'](_0x5bc76d),_0x5bc76d=_0x5d9285[_0x41d73f]);}_0x5ede10[_0x59ab01(0x318)](_0x5bc76d);}let _0x2f1b7e=0x0;_0x5ede10['forEach'](_0x473f24=>_0x2f1b7e+=_0x473f24[0x1]-_0x473f24[0x0]),document[_0x59ab01(0x1c3)](_0x59ab01(0x313))[_0x59ab01(0x273)]=formatMinsToHrs(_0x332465),document[_0x59ab01(0x1c3)](_0x59ab01(0x22f))[_0x59ab01(0x273)]=formatMinsToHrs(_0x2f1b7e);const _0x53afa0=_0x332465>0x0?Math[_0x59ab01(0x2aa)](_0x2f1b7e/_0x332465*0x64):0x0,_0x42fa81=document[_0x59ab01(0x1c3)]('doLoadPercent');_0x42fa81[_0x59ab01(0x273)]=_0x53afa0+'%';const _0x5b7d49=document['getElementById'](_0x59ab01(0x248));if(_0x53afa0>0x64)_0x42fa81[_0x59ab01(0x23e)][_0x59ab01(0x321)]=_0x59ab01(0x1da),_0x5b7d49[_0x59ab01(0x23e)][_0x59ab01(0x2ea)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x53afa0>0x50?(_0x42fa81[_0x59ab01(0x23e)][_0x59ab01(0x321)]=_0x59ab01(0x208),_0x5b7d49['style'][_0x59ab01(0x2ea)]=_0x59ab01(0x2be)):(_0x42fa81['style'][_0x59ab01(0x321)]=_0x59ab01(0x2e5),_0x5b7d49[_0x59ab01(0x23e)][_0x59ab01(0x2ea)]=_0x59ab01(0x319));const _0x5e4abb=document[_0x59ab01(0x1c3)](_0x59ab01(0x22c));_0x5e4abb['innerHTML']='';_0x55de50['length']===0x0?_0x5e4abb[_0x59ab01(0x1f6)]=_0x59ab01(0x2cc):(_0x55de50[_0x59ab01(0x2cd)]((_0xc2690f,_0x354d21)=>_0xc2690f[_0x59ab01(0x1de)][_0x59ab01(0x29f)](_0x354d21['start'])),_0x55de50['forEach'](_0x23a85e=>{const _0x3867e3=_0x59ab01,_0x56e1fc=clients[_0x3867e3(0x31d)](_0x2fc6c3=>_0x2fc6c3[_0x3867e3(0x263)]===_0x23a85e[_0x3867e3(0x2a9)]),_0x312ef3=_0x56e1fc?_0x56e1fc[_0x3867e3(0x321)]:_0x3867e3(0x29e),_0xa2dccf=_0x23a85e[_0x3867e3(0x2c5)]===_0x3867e3(0x2af),_0x5847e5=_0xa2dccf?_0x3867e3(0x204):'',_0x4988ff=document['createElement'](_0x3867e3(0x2cb));_0x4988ff[_0x3867e3(0x1e2)]='de-item',_0x4988ff['style'][_0x3867e3(0x2fc)]=_0x312ef3,_0x4988ff[_0x3867e3(0x1f6)]=_0x3867e3(0x1ea)+_0x23a85e[_0x3867e3(0x1de)]+_0x3867e3(0x312)+_0x23a85e[_0x3867e3(0x259)]+_0x3867e3(0x289)+_0x23a85e[_0x3867e3(0x2a9)]+_0x3867e3(0x1c8)+_0x5847e5+_0x3867e3(0x1ff),_0x5e4abb[_0x3867e3(0x251)](_0x4988ff);}));const _0xf1549a=document['getElementById']('btnDayToggle'),_0xfb213d=dateExceptions[_0x26568c]===_0x59ab01(0x26f);_0xfb213d?(_0xf1549a[_0x59ab01(0x273)]=_0x59ab01(0x2e9),_0xf1549a[_0x59ab01(0x1e2)]=_0x59ab01(0x1c2),_0xf1549a['style']['color']=_0x59ab01(0x2e5),_0xf1549a[_0x59ab01(0x23e)][_0x59ab01(0x30e)]=_0x59ab01(0x2ec)):(_0xf1549a[_0x59ab01(0x273)]=_0x59ab01(0x316),_0xf1549a['className']=_0x59ab01(0x1c7),_0xf1549a[_0x59ab01(0x23e)][_0x59ab01(0x321)]=_0x59ab01(0x1da),_0xf1549a['style'][_0x59ab01(0x30e)]=_0x59ab01(0x2e6)),openSheet(_0x59ab01(0x2b5));}let currentAnPeriod=a2_0x1f3333(0x242);function openAnalytics(){const _0x4325ad=a2_0x1f3333,_0x3547d4=document[_0x4325ad(0x2b7)](_0x4325ad(0x215));setAnalyticsPeriod(_0x4325ad(0x242),_0x3547d4),closeAllSheets(),openSheet(_0x4325ad(0x24c));}function setAnalyticsPeriod(_0x5461c0,_0x130480){const _0x51804f=a2_0x1f3333;currentAnPeriod=_0x5461c0,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x51804f(0x26e)](_0x50b614=>_0x50b614[_0x51804f(0x247)][_0x51804f(0x297)]('active'));if(_0x130480)_0x130480[_0x51804f(0x247)][_0x51804f(0x25d)](_0x51804f(0x230));const _0x8eb623=document[_0x51804f(0x1c3)](_0x51804f(0x233));_0x8eb623[_0x51804f(0x23e)][_0x51804f(0x25b)]=_0x5461c0===_0x51804f(0x253)?_0x51804f(0x327):_0x51804f(0x2ae);const _0x15c9e0=new Date();let _0x73f8fa=new Date(),_0x4e4cab=new Date();if(_0x5461c0==='week')_0x73f8fa=getStartOfWeek(_0x15c9e0),_0x4e4cab=new Date(_0x73f8fa),_0x4e4cab['setDate'](_0x4e4cab[_0x51804f(0x254)]()+0x6);else{if(_0x5461c0===_0x51804f(0x329))_0x73f8fa=new Date(_0x15c9e0[_0x51804f(0x331)](),_0x15c9e0[_0x51804f(0x1c6)](),0x1),_0x4e4cab=new Date(_0x15c9e0[_0x51804f(0x331)](),_0x15c9e0[_0x51804f(0x1c6)]()+0x1,0x0);else{!document[_0x51804f(0x1c3)]('anStart')['value']&&(document[_0x51804f(0x1c3)](_0x51804f(0x265))[_0x51804f(0x274)]=getLocalDateStr(_0x15c9e0),document['getElementById'](_0x51804f(0x214))[_0x51804f(0x274)]=getLocalDateStr(_0x15c9e0));refreshAnalytics();return;}}document['getElementById']('anStart')['value']=getLocalDateStr(_0x73f8fa),document['getElementById'](_0x51804f(0x214))[_0x51804f(0x274)]=getLocalDateStr(_0x4e4cab),refreshAnalytics();}function refreshAnalytics(){const _0x161077=a2_0x1f3333,_0x3c493d=document[_0x161077(0x1c3)](_0x161077(0x265))[_0x161077(0x274)],_0x4b667d=document[_0x161077(0x1c3)](_0x161077(0x214))[_0x161077(0x274)];if(!_0x3c493d||!_0x4b667d)return;const _0x5b95e1=sessions['filter'](_0x226916=>_0x226916[_0x161077(0x232)]>=_0x3c493d&&_0x226916[_0x161077(0x232)]<=_0x4b667d&&_0x226916[_0x161077(0x2c5)]!==_0x161077(0x1ce)),_0x1092b8=_0x5b95e1['length'],_0x56a251=_0x5b95e1[_0x161077(0x221)](_0x54fc6b=>_0x54fc6b[_0x161077(0x2c5)]===_0x161077(0x2af))[_0x161077(0x27d)],_0x146a1f=_0x1092b8>0x0?Math[_0x161077(0x2aa)](_0x56a251/_0x1092b8*0x64):0x0;document[_0x161077(0x1c3)](_0x161077(0x30d))[_0x161077(0x273)]=_0x146a1f+'%',document[_0x161077(0x1c3)](_0x161077(0x279))[_0x161077(0x273)]=_0x56a251+'\x20–∏–∑\x20'+_0x1092b8+_0x161077(0x207);const _0x3615ab=document['getElementById'](_0x161077(0x1c4)),_0x3c0ab7=0x2*Math['PI']*0x23,_0x9c6c2a=_0x3c0ab7-_0x146a1f/0x64*_0x3c0ab7;_0x3615ab[_0x161077(0x23e)][_0x161077(0x1d0)]=_0x9c6c2a;const _0x5b218a={};_0x5b95e1['forEach'](_0x3656de=>{const _0x2f3027=_0x161077;if(!_0x5b218a[_0x3656de[_0x2f3027(0x2a9)]]){const _0x29fa06=clients[_0x2f3027(0x31d)](_0x55b11c=>_0x55b11c[_0x2f3027(0x263)]===_0x3656de[_0x2f3027(0x2a9)]);_0x5b218a[_0x3656de['client']]={'total':0x0,'done':0x0,'color':_0x29fa06?_0x29fa06[_0x2f3027(0x321)]:_0x2f3027(0x29e)};}_0x5b218a[_0x3656de[_0x2f3027(0x2a9)]][_0x2f3027(0x1b9)]++;if(_0x3656de[_0x2f3027(0x2c5)]===_0x2f3027(0x2af))_0x5b218a[_0x3656de[_0x2f3027(0x2a9)]][_0x2f3027(0x21a)]++;});const _0x23a48c=document[_0x161077(0x1c3)]('analyticsList');_0x23a48c[_0x161077(0x1f6)]='';const _0x3e6584=Object[_0x161077(0x2f0)](_0x5b218a)['sort']((_0x140a75,_0x274890)=>_0x274890[0x1][_0x161077(0x1b9)]-_0x140a75[0x1][_0x161077(0x1b9)]);if(_0x3e6584[_0x161077(0x27d)]===0x0){_0x23a48c[_0x161077(0x1f6)]=_0x161077(0x2ee);return;}_0x3e6584[_0x161077(0x26e)](([_0x363ed3,_0x35fbf0])=>{const _0x4fdef9=_0x161077,_0x2dd501=Math[_0x4fdef9(0x2aa)](_0x35fbf0['done']/_0x35fbf0[_0x4fdef9(0x1b9)]*0x64),_0x3e1423=document[_0x4fdef9(0x299)]('div');_0x3e1423[_0x4fdef9(0x1e2)]=_0x4fdef9(0x29c),_0x3e1423['style']['borderLeftColor']=_0x35fbf0['color'],_0x3e1423[_0x4fdef9(0x1f6)]=_0x4fdef9(0x29d)+_0x363ed3+_0x4fdef9(0x277)+_0x35fbf0['done']+_0x4fdef9(0x22b)+_0x35fbf0[_0x4fdef9(0x1b9)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x2dd501+_0x4fdef9(0x1e7),_0x23a48c[_0x4fdef9(0x251)](_0x3e1423);});}function formatMinsToHrs(_0x2fac67){const _0x8d634a=a2_0x1f3333;if(_0x2fac67===0x0)return'0';const _0x365525=Math[_0x8d634a(0x2c7)](_0x2fac67/0x3c),_0x3dc59e=_0x2fac67%0x3c;if(_0x3dc59e===0x0)return _0x365525+'—á';return _0x365525+'—á\x20'+_0x3dc59e+'–º';}