const a2_0x5ac41c=a2_0x5582;(function(_0xfe23d9,_0x3c6976){const _0x2c9d44=a2_0x5582,_0x591218=_0xfe23d9();while(!![]){try{const _0x21cb8f=parseInt(_0x2c9d44(0x2b2))/0x1*(parseInt(_0x2c9d44(0x2a7))/0x2)+-parseInt(_0x2c9d44(0x173))/0x3+parseInt(_0x2c9d44(0x1c5))/0x4*(parseInt(_0x2c9d44(0x152))/0x5)+parseInt(_0x2c9d44(0x1d9))/0x6*(-parseInt(_0x2c9d44(0x1f9))/0x7)+parseInt(_0x2c9d44(0x2a5))/0x8+parseInt(_0x2c9d44(0x1dd))/0x9*(parseInt(_0x2c9d44(0x262))/0xa)+-parseInt(_0x2c9d44(0x17a))/0xb;if(_0x21cb8f===_0x3c6976)break;else _0x591218['push'](_0x591218['shift']());}catch(_0x5c6293){_0x591218['push'](_0x591218['shift']());}}}(a2_0x2a94,0x7eb0a),function initTMA(){const _0x1350b2=a2_0x5582;try{const _0x1e714b=window['Telegram']?.[_0x1350b2(0x18e)];if(!_0x1e714b)return;_0x1e714b[_0x1350b2(0x1fd)](),_0x1e714b[_0x1350b2(0x22a)]();try{_0x1e714b[_0x1350b2(0x1fe)](_0x1350b2(0x143)),_0x1e714b[_0x1350b2(0x209)]&&_0x1e714b[_0x1350b2(0x209)]('#050505');}catch(_0x5815a2){console[_0x1350b2(0x19c)](_0x1350b2(0x291),_0x5815a2);}try{_0x1e714b[_0x1350b2(0x26b)]&&(_0x1e714b['BackButton']['show'](),_0x1e714b[_0x1350b2(0x26b)]['offClick'](),_0x1e714b['BackButton'][_0x1350b2(0x149)](function(){const _0x123658=_0x1350b2;window[_0x123658(0x24c)][_0x123658(0x2a3)]='router.html';}));}catch(_0x3ae8e7){console[_0x1350b2(0x19c)]('Error\x20setting\x20back\x20button:',_0x3ae8e7);}try{if(_0x1e714b[_0x1350b2(0x15c)])_0x1e714b[_0x1350b2(0x15c)]();}catch(_0x3c54fb){}}catch(_0x537377){console[_0x1350b2(0x15e)](_0x1350b2(0x260),_0x537377);}}());function isAdmin(){const _0xaa8ad=a2_0x5582;try{const _0x48f23c=Number(window[_0xaa8ad(0x25d)]?.[_0xaa8ad(0x18e)]?.[_0xaa8ad(0x1de)]?.['user']?.['id']);return _0x48f23c===0xbaf7174;}catch(_0x32ec73){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x5ac41c(0x1c7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x5ac41c(0x1fc),KEY_SESSIONS=a2_0x5ac41c(0x145),KEY_SETTINGS=a2_0x5ac41c(0x1db);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x537e38=a2_0x5ac41c;return window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x537e38(0x1a6)]?.['id']||_0x537e38(0x1ea);},'saveLocally'(){const _0xcd2e30=a2_0x5ac41c;try{localStorage[_0xcd2e30(0x26a)](KEY_CLIENTS,JSON[_0xcd2e30(0x1b0)](clients)),localStorage[_0xcd2e30(0x26a)](KEY_SESSIONS,JSON[_0xcd2e30(0x1b0)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0xcd2e30(0x1b0)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x471f41){console[_0xcd2e30(0x15e)](_0xcd2e30(0x244),_0x471f41);}},'loadLocal'(){const _0x142bad=a2_0x5ac41c;try{const _0xced699=localStorage[_0x142bad(0x12a)](KEY_CLIENTS);if(_0xced699)clients=JSON[_0x142bad(0x14b)](_0xced699);const _0x116487=localStorage[_0x142bad(0x12a)](KEY_SESSIONS);if(_0x116487)sessions=JSON['parse'](_0x116487);const _0x1d04e1=localStorage[_0x142bad(0x12a)](KEY_SETTINGS);if(_0x1d04e1){const _0x191301=JSON[_0x142bad(0x14b)](_0x1d04e1);if(_0x191301[_0x142bad(0x184)])availabilityPattern=_0x191301[_0x142bad(0x184)];if(_0x191301['exceptions'])dateExceptions=_0x191301['exceptions'];if(_0x191301[_0x142bad(0x195)])specialRanges=_0x191301['ranges'];}else{for(let _0x394cb1=0x0;_0x394cb1<0x7;_0x394cb1++)availabilityPattern[_0x394cb1]=Array[_0x142bad(0x297)]({'length':0xc},(_0xde9a12,_0x1112c6)=>_0x1112c6+0x9);}}catch(_0xcd657b){console[_0x142bad(0x15e)](_0x142bad(0x13c),_0xcd657b);}},async 'fetchFromServer'(_0x225a44,_0x2b5bdc={}){const _0x5e4d4d=a2_0x5ac41c,_0x3e432b=window[_0x5e4d4d(0x25d)]?.[_0x5e4d4d(0x18e)],_0x228a7d={'action':_0x225a44,'init_data':_0x3e432b?.['initData']||'',..._0x2b5bdc};try{const _0xd1b769=await fetch(API_URL,{'method':_0x5e4d4d(0x18b),'headers':{'Content-Type':_0x5e4d4d(0x151)},'body':JSON['stringify'](_0x228a7d)}),_0x16d1e0=await _0xd1b769['json']();if(!_0x16d1e0['ok'])throw new Error(_0x16d1e0[_0x5e4d4d(0x15e)]||_0x5e4d4d(0x22e));return _0x16d1e0[_0x5e4d4d(0x279)];}catch(_0x2005ed){console[_0x5e4d4d(0x15e)](_0x5e4d4d(0x1b9)+_0x225a44+_0x5e4d4d(0x15f),_0x2005ed);throw _0x2005ed;}},async 'syncLoad'(){const _0x2340fa=a2_0x5ac41c,_0x259139=new Date(),_0x1d9c3f=_0x259139[_0x2340fa(0x181)]()+'-'+String(_0x259139[_0x2340fa(0x2b5)]()+0x1)[_0x2340fa(0x29d)](0x2,'0'),_0x1cb062=new Date(_0x259139);_0x1cb062[_0x2340fa(0x282)](_0x259139[_0x2340fa(0x2b5)]()+0x1);const _0x25aa20=_0x1cb062[_0x2340fa(0x181)]()+'-'+String(_0x1cb062[_0x2340fa(0x2b5)]()+0x1)[_0x2340fa(0x29d)](0x2,'0'),_0x2cf66d=Date[_0x2340fa(0x156)]();console[_0x2340fa(0x19c)](_0x2340fa(0x22f)+_0x1d9c3f+',\x20'+_0x25aa20+'...');try{const [_0x26631b,_0xac3dd9]=await Promise[_0x2340fa(0x1af)]([this['fetchFromServer'](_0x2340fa(0x27d),{'month_str':_0x1d9c3f}),this[_0x2340fa(0x213)]('init_load',{'month_str':_0x25aa20})]);if(lastUserActionTime>_0x2cf66d)return console[_0x2340fa(0x206)](_0x2340fa(0x180)),![];return this[_0x2340fa(0x142)](_0x26631b,_0x1d9c3f),this[_0x2340fa(0x142)](_0xac3dd9,_0x25aa20),this[_0x2340fa(0x2ad)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4e65dc){console[_0x2340fa(0x15e)](_0x4e65dc);throw _0x4e65dc;}},'mergeServerData'(_0x4954d1,_0x26c205){const _0x26998c=a2_0x5ac41c;if(!_0x4954d1)return;_0x4954d1[_0x26998c(0x1ec)]&&Array[_0x26998c(0x1f1)](_0x4954d1[_0x26998c(0x1ec)])&&(clients=_0x4954d1[_0x26998c(0x1ec)]);if(_0x4954d1[_0x26998c(0x182)]){if(_0x4954d1[_0x26998c(0x182)][_0x26998c(0x184)])availabilityPattern=_0x4954d1[_0x26998c(0x182)]['pattern'];if(_0x4954d1['settings']['exceptions'])dateExceptions=_0x4954d1['settings']['exceptions'];if(_0x4954d1[_0x26998c(0x182)][_0x26998c(0x195)])specialRanges=_0x4954d1[_0x26998c(0x182)]['ranges'];if(_0x4954d1['settings'][_0x26998c(0x1c8)]){localStorage['setItem'](_0x26998c(0x2b0),_0x4954d1['settings'][_0x26998c(0x1c8)]);const _0x2e6f73=document['getElementById'](_0x26998c(0x23d));if(_0x2e6f73)_0x2e6f73[_0x26998c(0x16b)]=_0x4954d1['settings'][_0x26998c(0x1c8)];}}_0x4954d1[_0x26998c(0x234)]&&(sessions=sessions[_0x26998c(0x172)](_0x271258=>!_0x271258[_0x26998c(0x23a)][_0x26998c(0x1a3)](_0x26c205)),Object['keys'](_0x4954d1['calendar'])['forEach'](_0xab31ef=>{const _0x32fd68=_0x26998c,_0x118697=_0x4954d1['calendar'][_0xab31ef];_0x118697[_0x32fd68(0x270)](_0x16c2ae=>{const _0x5e1bbf=_0x32fd68,_0xdaa160=clients[_0x5e1bbf(0x1e9)](_0x5290e7=>String(_0x5290e7['id'])===String(_0x16c2ae['c']));sessions['push']({'id':_0x16c2ae['i'],'clientId':_0x16c2ae['c'],'client':_0xdaa160?_0xdaa160[_0x5e1bbf(0x177)]:_0x5e1bbf(0x2a9),'dateStr':_0x26c205+'-'+_0xab31ef[_0x5e1bbf(0x29d)](0x2,'0'),'start':_0x16c2ae['s'],'end':_0x16c2ae['e'],'status':_0x16c2ae['st']||'planned','note':_0x16c2ae['n']||'','seriesId':_0x16c2ae[_0x5e1bbf(0x134)]||null});});}));},async 'syncBatch'(_0x53273d){const _0x2b3618=a2_0x5ac41c,_0x479732=[...new Set(_0x53273d)],_0x19f4f6=_0x479732[_0x2b3618(0x1ab)](_0x380756=>{const _0x1c0aad=_0x2b3618,_0x1787aa=sessions[_0x1c0aad(0x172)](_0x2c39d8=>_0x2c39d8['dateStr']===_0x380756&&_0x2c39d8[_0x1c0aad(0x15b)]!==_0x1c0aad(0x2b3)),_0x4b48a0=_0x1787aa[_0x1c0aad(0x1ab)](_0x28f8b3=>({'i':_0x28f8b3['id'],'c':_0x28f8b3['clientId'],'s':_0x28f8b3[_0x1c0aad(0x1c3)],'e':_0x28f8b3[_0x1c0aad(0x1a4)],'st':_0x28f8b3[_0x1c0aad(0x15b)],'n':_0x28f8b3[_0x1c0aad(0x29f)],'sid':_0x28f8b3['seriesId']}));return{'date':_0x380756,'day_data':_0x4b48a0};});if(_0x19f4f6['length']===0x0)return;console[_0x2b3618(0x19c)](_0x2b3618(0x17e)+_0x19f4f6[_0x2b3618(0x1ad)]+_0x2b3618(0x299)),await this[_0x2b3618(0x213)](_0x2b3618(0x28f),{'changes':_0x19f4f6});}};async function init(){const _0x2e8b6e=a2_0x5ac41c;DataManager[_0x2e8b6e(0x1d0)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2e8b6e(0x224)](_0x2e8b6e(0x1bc))[_0x2e8b6e(0x27e)](_0x2e8b6e(0x1ca),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2e8b6e(0x249)]()[_0x2e8b6e(0x1da)](()=>{const _0x936d20=_0x2e8b6e;showToast(_0x936d20(0x16d),!![]);})[_0x2e8b6e(0x179)](_0xbc90cd=>{const _0xf3f9ae=_0x2e8b6e;showToast(_0xf3f9ae(0x141),![]);});}function generateId(){const _0x395ee3=a2_0x5ac41c;return Date[_0x395ee3(0x156)]()[_0x395ee3(0x1cb)](0x24)+Math[_0x395ee3(0x25b)]()['toString'](0x24)[_0x395ee3(0x277)](0x2,0x5);}function toggleSeriesInput(){const _0x2dee99=a2_0x5ac41c,_0x309cca=document['getElementById']('inpRecurring')['checked'],_0x2fbfb2=document[_0x2dee99(0x224)](_0x2dee99(0x16e));_0x2fbfb2[_0x2dee99(0x186)][_0x2dee99(0x278)]=_0x309cca?_0x2dee99(0x1ee):'none';const _0x174eab=document[_0x2dee99(0x224)]('recurringOptionContainer');_0x174eab[_0x2dee99(0x186)][_0x2dee99(0x12b)]=_0x309cca?_0x2dee99(0x207):_0x2dee99(0x202);}function openAddSession(_0x52a036){const _0x584670=a2_0x5ac41c;editingId=null,populateClientSelect(),document[_0x584670(0x224)](_0x584670(0x21d))[_0x584670(0x1be)]=_0x584670(0x13f),document[_0x584670(0x224)](_0x584670(0x1c6))['style'][_0x584670(0x278)]=_0x584670(0x26e),document[_0x584670(0x224)](_0x584670(0x14c))[_0x584670(0x186)]['display']=_0x584670(0x26e);const _0x5abe56=document[_0x584670(0x224)](_0x584670(0x14f)),_0x15a12f=document[_0x584670(0x224)]('seriesCountContainer');_0x5abe56[_0x584670(0x186)][_0x584670(0x278)]='flex',_0x5abe56[_0x584670(0x186)][_0x584670(0x12b)]=_0x584670(0x202),document[_0x584670(0x224)](_0x584670(0x16f))[_0x584670(0x190)]=![],document[_0x584670(0x224)](_0x584670(0x191))[_0x584670(0x16b)]=0x4,_0x15a12f['style'][_0x584670(0x278)]=_0x584670(0x26e),document[_0x584670(0x224)](_0x584670(0x171))[_0x584670(0x16b)]=getLocalDateStr(_0x52a036),updateDateDisplay();const _0x20bcae=_0x52a036[_0x584670(0x178)]();document[_0x584670(0x224)](_0x584670(0x183))[_0x584670(0x16b)]=String(_0x20bcae)[_0x584670(0x29d)](0x2,'0')+_0x584670(0x25c),document[_0x584670(0x224)](_0x584670(0x256))[_0x584670(0x16b)]=String(_0x20bcae+0x1)[_0x584670(0x29d)](0x2,'0')+':00',openSheet(_0x584670(0x267));}function openEdit(_0x4832c3){const _0x4586c6=a2_0x5ac41c;editingId=_0x4832c3['id'],populateClientSelect(),document[_0x4586c6(0x224)](_0x4586c6(0x21d))[_0x4586c6(0x1be)]=_0x4586c6(0x242),document[_0x4586c6(0x224)](_0x4586c6(0x1c6))[_0x4586c6(0x186)][_0x4586c6(0x278)]=_0x4586c6(0x1ee);const _0x4fcd75=document[_0x4586c6(0x224)]('btnStatusToggle');_0x4fcd75['style'][_0x4586c6(0x278)]=_0x4586c6(0x19f);_0x4832c3[_0x4586c6(0x15b)]==='completed'?(_0x4fcd75[_0x4586c6(0x13a)]='btn-status-toggle\x20undo-mode',_0x4fcd75[_0x4586c6(0x1b3)]=_0x4586c6(0x1ff)):(_0x4fcd75[_0x4586c6(0x13a)]=_0x4586c6(0x1a8),_0x4fcd75[_0x4586c6(0x1b3)]=_0x4586c6(0x1f4));const _0x20a329=!!_0x4832c3['seriesId'];document[_0x4586c6(0x224)](_0x4586c6(0x14f))[_0x4586c6(0x186)][_0x4586c6(0x278)]=_0x4586c6(0x26e),document['getElementById'](_0x4586c6(0x16e))[_0x4586c6(0x186)]['display']='none',_0x20a329?(document[_0x4586c6(0x224)](_0x4586c6(0x1e0))['style'][_0x4586c6(0x278)]=_0x4586c6(0x19f),document['getElementById'](_0x4586c6(0x1e0))[_0x4586c6(0x28e)](_0x4586c6(0x233))[_0x4586c6(0x1be)]=_0x4586c6(0x12c)):document[_0x4586c6(0x224)]('patternInfoBox')[_0x4586c6(0x186)][_0x4586c6(0x278)]=_0x4586c6(0x26e),document[_0x4586c6(0x224)]('inpClient')['value']=_0x4832c3[_0x4586c6(0x223)],document[_0x4586c6(0x224)]('inpDate')['value']=_0x4832c3[_0x4586c6(0x23a)],document[_0x4586c6(0x224)](_0x4586c6(0x183))[_0x4586c6(0x16b)]=_0x4832c3[_0x4586c6(0x1c3)],document[_0x4586c6(0x224)](_0x4586c6(0x256))['value']=_0x4832c3[_0x4586c6(0x1a4)],document['getElementById'](_0x4586c6(0x18f))[_0x4586c6(0x16b)]=_0x4832c3[_0x4586c6(0x29f)]||'',updateDateDisplay(),openSheet(_0x4586c6(0x267));}async function trySaveSession(){const _0x58c205=a2_0x5ac41c,_0x3d2800=document[_0x58c205(0x224)]('inpClient')['value'],_0x4dfc2a=document[_0x58c205(0x224)]('inpDate')['value'],_0x4e15d1=document[_0x58c205(0x224)]('inpStart')[_0x58c205(0x16b)],_0x27bf76=document[_0x58c205(0x224)](_0x58c205(0x256))[_0x58c205(0x16b)],_0x458ece=document[_0x58c205(0x224)]('inpNote')[_0x58c205(0x16b)],_0x116bbf=document['getElementById'](_0x58c205(0x16f))[_0x58c205(0x190)];let _0x40a3d=0x4;if(_0x116bbf){const _0xfc6a59=parseInt(document['getElementById'](_0x58c205(0x191))[_0x58c205(0x16b)]);if(!_0xfc6a59||_0xfc6a59<0x2){showToast(_0x58c205(0x248),![]);return;}if(_0xfc6a59>0x64){showToast(_0x58c205(0x189),![]);return;}_0x40a3d=_0xfc6a59;}const _0x127a79=clients['find'](_0x452abb=>_0x452abb['name']===_0x3d2800);if(!_0x127a79){showToast(_0x58c205(0x216),![]);return;}const _0x5351cf=validateAppointment(_0x4dfc2a,_0x4e15d1,_0x27bf76,editingId,_0x127a79['id']);if(!_0x5351cf[_0x58c205(0x2a8)]){showToast(_0x5351cf['msg'],![]);return;}_0x5351cf[_0x58c205(0x1a7)]&&showToast(_0x5351cf[_0x58c205(0x1a7)],![]);const _0x5f8b93={'client':_0x3d2800,'clientId':_0x127a79['id'],'start':_0x4e15d1,'end':_0x27bf76,'note':_0x458ece,'status':_0x58c205(0x2a6)},_0x1cbe1e=editingId?sessions['find'](_0x33d04e=>_0x33d04e['id']===editingId):null;if(_0x1cbe1e&&_0x1cbe1e[_0x58c205(0x288)]){tempSessionData={..._0x5f8b93,'dateStr':_0x4dfc2a,'id':editingId,'seriesId':_0x1cbe1e[_0x58c205(0x288)]},openActionSheet(_0x58c205(0x245));return;}let _0x27e98e=null;if(!editingId)_0x27e98e=_0x58c205(0x28c);else{if(_0x1cbe1e){if(String(_0x1cbe1e[_0x58c205(0x2ae)])!==String(_0x127a79['id']))console[_0x58c205(0x19c)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x58c205(0x192)](_0x58c205(0x188),_0x1cbe1e),_0x27e98e=_0x58c205(0x28c);else(_0x1cbe1e[_0x58c205(0x1c3)]!==_0x4e15d1||_0x1cbe1e[_0x58c205(0x1a4)]!==_0x27bf76||_0x1cbe1e['dateStr']!==_0x4dfc2a)&&(_0x27e98e=_0x58c205(0x28d));}}if(!editingId&&_0x116bbf){createBatchSeries(_0x5f8b93,_0x4dfc2a,_0x40a3d),NotificationManager[_0x58c205(0x192)](_0x58c205(0x28c),{..._0x5f8b93,'dateStr':_0x4dfc2a});return;}lastUserActionTime=Date[_0x58c205(0x156)]();const _0x1f79c6={..._0x5f8b93,'dateStr':_0x4dfc2a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1f79c6),_0x27e98e&&NotificationManager['send'](_0x27e98e,_0x1f79c6);}function toggleSessionStatus(){const _0x1997a4=a2_0x5ac41c;lastUserActionTime=Date[_0x1997a4(0x156)]();const _0x1a52e5=sessions[_0x1997a4(0x1e9)](_0x1fadab=>_0x1fadab['id']===editingId);if(!_0x1a52e5)return;const _0x3590fa=_0x1a52e5[_0x1997a4(0x15b)]==='completed'?_0x1997a4(0x2a6):'completed';_0x1a52e5[_0x1997a4(0x15b)]=_0x3590fa,saveSingleSession(_0x1a52e5),_0x3590fa===_0x1997a4(0x1ae)&&NotificationManager[_0x1997a4(0x192)](_0x1997a4(0x13d),_0x1a52e5),showToast(_0x3590fa===_0x1997a4(0x1ae)?_0x1997a4(0x255):_0x1997a4(0x174),!![]);}function validateAppointment(_0x190269,_0x5adf40,_0x272b34,_0xee06ff,_0x3d6229){const _0x1f2503=a2_0x5ac41c,[_0x261d98,_0x80edb2]=_0x5adf40[_0x1f2503(0x12d)](':')[_0x1f2503(0x1ab)](Number),[_0x64e7b6,_0x42c684]=_0x272b34[_0x1f2503(0x12d)](':')[_0x1f2503(0x1ab)](Number),_0x2a8d8c=_0x261d98*0x3c+_0x80edb2,_0x2a99be=_0x64e7b6*0x3c+_0x42c684,_0x5ad6a2=String(_0x3d6229);let _0x5d7a62=![],_0x502f35='';for(let _0x61c83 of sessions){if(_0x61c83['dateStr']!==_0x190269)continue;if(_0x61c83['status']===_0x1f2503(0x1f5))continue;if(_0xee06ff&&String(_0x61c83['id'])===String(_0xee06ff))continue;const [_0x1abcb6,_0x2fbdb6]=_0x61c83['start']['split'](':')['map'](Number),[_0xda8f68,_0x19bc4e]=_0x61c83[_0x1f2503(0x1a4)]['split'](':')[_0x1f2503(0x1ab)](Number),_0x30a4d4=_0x1abcb6*0x3c+_0x2fbdb6,_0x4fe414=_0xda8f68*0x3c+_0x19bc4e;if(Math[_0x1f2503(0x157)](_0x2a8d8c,_0x30a4d4)<Math[_0x1f2503(0x1c2)](_0x2a99be,_0x4fe414)){if(_0x61c83[_0x1f2503(0x2ae)]&&String(_0x61c83[_0x1f2503(0x2ae)])===_0x5ad6a2)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x61c83[_0x1f2503(0x223)]+_0x1f2503(0x218)};_0x5d7a62=!![],_0x502f35=_0x61c83[_0x1f2503(0x223)];}}if(_0x5d7a62)return{'valid':!![],'warning':_0x1f2503(0x2b6)+_0x502f35};return{'valid':!![]};}function saveSingleSession(_0x59d222){const _0xf9325f=a2_0x5ac41c;if(editingId){const _0x209a35=sessions[_0xf9325f(0x1e7)](_0x2296fb=>_0x2296fb['id']===editingId);if(_0x209a35!==-0x1)sessions[_0x209a35]=_0x59d222;}else sessions['push'](_0x59d222);afterSaveAction([_0x59d222[_0xf9325f(0x23a)]]);}function createBatchSeries(_0x5caa50,_0x429d35,_0x68b1e7){const _0x58aea2=a2_0x5ac41c,_0x202ab7=generateId(),_0x1adeb7=[],_0x5d1061=[];let _0xc4d07c=0x0,_0x2feb91=new Date(_0x429d35);for(let _0x1d3eea=0x0;_0x1d3eea<_0x68b1e7;_0x1d3eea++){const _0x216a3e=getLocalDateStr(_0x2feb91),_0x1bd016=validateAppointment(_0x216a3e,_0x5caa50['start'],_0x5caa50[_0x58aea2(0x1a4)],null,_0x5caa50['clientId']);if(!_0x1bd016[_0x58aea2(0x2a8)])console['log'](_0x58aea2(0x1c4)+_0x216a3e+_0x58aea2(0x221)),_0xc4d07c++;else{const _0x4889d8={..._0x5caa50,'id':generateId(),'dateStr':_0x216a3e,'seriesId':_0x202ab7};_0x5d1061[_0x58aea2(0x222)](_0x4889d8),_0x1adeb7[_0x58aea2(0x222)](_0x216a3e);}_0x2feb91[_0x58aea2(0x168)](_0x2feb91['getDate']()+0x7);}if(_0x5d1061['length']===0x0){showToast(_0x58aea2(0x1eb),![]);return;}sessions[_0x58aea2(0x222)](..._0x5d1061),lastUserActionTime=Date[_0x58aea2(0x156)]();let _0x4aea74=_0x58aea2(0x225)+_0x5d1061[_0x58aea2(0x1ad)];_0xc4d07c>0x0&&(_0x4aea74+=_0x58aea2(0x20b)+_0xc4d07c+')'),showToast(_0x4aea74,!![]),afterSaveAction(_0x1adeb7);}function updateSeriesBatch(_0x2cdd6e,_0x164c8c){const _0x3fe26b=a2_0x5ac41c,_0x43b205=[],_0x9fc1e=_0x164c8c[_0x3fe26b(0x288)];if(_0x2cdd6e===_0x3fe26b(0x20f)){const _0x105352={..._0x164c8c,'seriesId':null},_0x7ed69f=sessions[_0x3fe26b(0x1e7)](_0x2c58db=>_0x2c58db['id']===_0x164c8c['id']);if(_0x7ed69f!==-0x1)sessions[_0x7ed69f]=_0x105352;_0x43b205['push'](_0x105352[_0x3fe26b(0x23a)]);}else{if(_0x2cdd6e==='series'){const _0x4eb9d9=_0x164c8c[_0x3fe26b(0x23a)];sessions[_0x3fe26b(0x270)]((_0x255984,_0xe9ead1)=>{const _0x208e82=_0x3fe26b;_0x255984[_0x208e82(0x288)]===_0x9fc1e&&_0x255984[_0x208e82(0x23a)]>=_0x4eb9d9&&(sessions[_0xe9ead1]={...sessions[_0xe9ead1],'start':_0x164c8c['start'],'end':_0x164c8c[_0x208e82(0x1a4)],'note':_0x164c8c[_0x208e82(0x29f)],'client':_0x164c8c[_0x208e82(0x223)],'clientId':_0x164c8c['clientId']},_0x43b205[_0x208e82(0x222)](_0x255984['dateStr']));});}}afterSaveAction(_0x43b205);}function tryDeleteSession(){const _0x1d5894=a2_0x5ac41c,_0x4ca5ba=sessions[_0x1d5894(0x1e9)](_0x1f7aa8=>_0x1f7aa8['id']===editingId);if(!_0x4ca5ba)return;_0x4ca5ba[_0x1d5894(0x288)]?openActionSheet('delete'):commitDelete(_0x1d5894(0x20f),_0x4ca5ba);}function commitDelete(_0x3d2aad,_0x31ac6d){const _0x59e570=a2_0x5ac41c;lastUserActionTime=Date['now'](),NotificationManager[_0x59e570(0x192)](_0x59e570(0x188),_0x31ac6d);const _0x5d81a4=[];if(_0x3d2aad===_0x59e570(0x20f))sessions=sessions['filter'](_0xdd0eb2=>_0xdd0eb2['id']!==_0x31ac6d['id']),_0x5d81a4[_0x59e570(0x222)](_0x31ac6d[_0x59e570(0x23a)]);else{if(_0x3d2aad===_0x59e570(0x21a)){const _0x31b3e6=_0x31ac6d['dateStr'],_0x3f5ce2=_0x31ac6d[_0x59e570(0x288)];sessions[_0x59e570(0x270)](_0x33f896=>{const _0x17fb8a=_0x59e570;_0x33f896[_0x17fb8a(0x288)]===_0x3f5ce2&&_0x33f896[_0x17fb8a(0x23a)]>=_0x31b3e6&&_0x5d81a4['push'](_0x33f896[_0x17fb8a(0x23a)]);}),sessions=sessions['filter'](_0x5357ce=>!(_0x5357ce['seriesId']===_0x3f5ce2&&_0x5357ce[_0x59e570(0x23a)]>=_0x31b3e6));}}afterSaveAction(_0x5d81a4);}function afterSaveAction(_0x3d0ef1){const _0x42a7a9=a2_0x5ac41c;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x3d0ef1)[_0x42a7a9(0x1da)](()=>console['log'](_0x42a7a9(0x246)))[_0x42a7a9(0x179)](_0x4c7652=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0xca6833){const _0x631f62=a2_0x5ac41c,_0x1d9b76=new Date(_0xca6833),_0x35d33a={'weekday':_0x631f62(0x24a),'day':_0x631f62(0x25f),'month':_0x631f62(0x24a)};let _0x350f15=_0x1d9b76['toLocaleDateString'](_0x631f62(0x161),_0x35d33a);return _0x350f15['charAt'](0x0)['toUpperCase']()+_0x350f15[_0x631f62(0x265)](0x1);},'getText'(_0x3a1254,_0x448eda){const _0x5343b5=a2_0x5ac41c,_0x33844e=this[_0x5343b5(0x274)](_0x448eda['dateStr']);switch(_0x3a1254){case _0x5343b5(0x28c):return _0x5343b5(0x283)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x33844e+'\x0a')+(_0x5343b5(0x199)+_0x448eda['start']+_0x5343b5(0x13e)+_0x448eda['end']+'\x0a\x0a')+_0x5343b5(0x1a2);case _0x5343b5(0x28d):return _0x5343b5(0x276)+_0x5343b5(0x271)+(_0x5343b5(0x146)+_0x448eda['start']+_0x5343b5(0x13e)+_0x448eda[_0x5343b5(0x1a4)]+_0x5343b5(0x185))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x33844e);case _0x5343b5(0x188):return _0x5343b5(0x2af)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x33844e+'\x20('+_0x448eda[_0x5343b5(0x1c3)]+_0x5343b5(0x162));case'complete':return _0x5343b5(0x208)+_0x5343b5(0x2a2)+_0x5343b5(0x198);default:return'';}},async 'send'(_0x142df5,_0x293fbe){const _0x426d32=a2_0x5ac41c;console[_0x426d32(0x19c)](_0x426d32(0x29c),_0x142df5,_0x293fbe);if(!_0x293fbe){console[_0x426d32(0x15e)](_0x426d32(0x296));return;}const _0x557012=String(_0x293fbe['clientId']);console[_0x426d32(0x19c)](_0x426d32(0x204),_0x557012);if(!_0x293fbe[_0x426d32(0x2ae)]||_0x557012===_0x426d32(0x1bb)||_0x557012===_0x426d32(0x22b)){console[_0x426d32(0x15e)](_0x426d32(0x1fa));if(_0x293fbe[_0x426d32(0x223)]){const _0x454c2e=clients[_0x426d32(0x1e9)](_0x21e5e3=>_0x21e5e3[_0x426d32(0x177)]===_0x293fbe[_0x426d32(0x223)]);if(_0x454c2e)return console[_0x426d32(0x19c)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x454c2e['id']),this[_0x426d32(0x192)](_0x142df5,{..._0x293fbe,'clientId':_0x454c2e['id']});}return;}if(_0x557012[_0x426d32(0x1ad)]<0x5){console['warn'](_0x426d32(0x2a0),_0x557012);return;}const _0x26d992=this['getText'](_0x142df5,_0x293fbe);if(!_0x26d992){console['error'](_0x426d32(0x212));return;}console['log']('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x557012+_0x426d32(0x236)),DataManager[_0x426d32(0x213)]('send_notification',{'chatId':_0x557012,'text':_0x26d992})[_0x426d32(0x1da)](_0x7cb07e=>console[_0x426d32(0x19c)](_0x426d32(0x159),_0x7cb07e))[_0x426d32(0x179)](_0x596808=>console[_0x426d32(0x15e)]('[Notify]\x20Network\x20Failed',_0x596808));}};function getLocalDateStr(_0x357fc6){const _0x3f6078=a2_0x5ac41c,_0x3f4b4d=_0x357fc6[_0x3f6078(0x181)](),_0x116fcd=String(_0x357fc6[_0x3f6078(0x2b5)]()+0x1)[_0x3f6078(0x29d)](0x2,'0'),_0x1b83c4=String(_0x357fc6[_0x3f6078(0x1f8)]())[_0x3f6078(0x29d)](0x2,'0');return _0x3f4b4d+'-'+_0x116fcd+'-'+_0x1b83c4;}function getDateStr(_0x4a91e2){const _0x455e1f=a2_0x5ac41c,_0x3aad38=new Date();return _0x3aad38[_0x455e1f(0x168)](_0x3aad38[_0x455e1f(0x1f8)]()+_0x4a91e2),getLocalDateStr(_0x3aad38);}function getStartOfWeek(_0x313fba){const _0x3a3122=a2_0x5ac41c,_0x50eb21=(function(){let _0x210fe4=!![];return function(_0x2f6e37,_0x4e2b56){const _0x42846b=_0x210fe4?function(){if(_0x4e2b56){const _0x169db4=_0x4e2b56['apply'](_0x2f6e37,arguments);return _0x4e2b56=null,_0x169db4;}}:function(){};return _0x210fe4=![],_0x42846b;};}()),_0x35a962=_0x50eb21(this,function(){const _0x5ef2b4=a2_0x5582;return _0x35a962[_0x5ef2b4(0x1cb)]()[_0x5ef2b4(0x138)](_0x5ef2b4(0x258))[_0x5ef2b4(0x1cb)]()[_0x5ef2b4(0x272)](_0x35a962)['search'](_0x5ef2b4(0x258));});_0x35a962();const _0x27a8b3=new Date(_0x313fba),_0x1502e1=_0x27a8b3[_0x3a3122(0x1ce)](),_0xd131d2=_0x27a8b3[_0x3a3122(0x1f8)]()-_0x1502e1+(_0x1502e1===0x0?-0x6:0x1);return _0x27a8b3[_0x3a3122(0x168)](_0xd131d2),_0x27a8b3[_0x3a3122(0x237)](0x0,0x0,0x0,0x0),_0x27a8b3;}function a2_0x5582(_0x38f6d5,_0x500673){_0x38f6d5=_0x38f6d5-0x129;const _0x329d4f=a2_0x2a94();let _0x5d41c1=_0x329d4f[_0x38f6d5];return _0x5d41c1;}function hexToRgba(_0x4aad8b,_0x48747e){const _0x2d061a=a2_0x5ac41c;if(!_0x4aad8b)return'rgba(100,100,100,0.5)';let _0x1d2f8a=0x0,_0x2b04e3=0x0,_0x4e65bb=0x0;if(_0x4aad8b[_0x2d061a(0x1ad)]===0x4)_0x1d2f8a='0x'+_0x4aad8b[0x1]+_0x4aad8b[0x1],_0x2b04e3='0x'+_0x4aad8b[0x2]+_0x4aad8b[0x2],_0x4e65bb='0x'+_0x4aad8b[0x3]+_0x4aad8b[0x3];else _0x4aad8b[_0x2d061a(0x1ad)]===0x7&&(_0x1d2f8a='0x'+_0x4aad8b[0x1]+_0x4aad8b[0x2],_0x2b04e3='0x'+_0x4aad8b[0x3]+_0x4aad8b[0x4],_0x4e65bb='0x'+_0x4aad8b[0x5]+_0x4aad8b[0x6]);return _0x2d061a(0x1cd)+ +_0x1d2f8a+',\x20'+ +_0x2b04e3+',\x20'+ +_0x4e65bb+',\x20'+_0x48747e+')';}function renderTimeColumn(){const _0x5b5281=a2_0x5ac41c,_0x269ab3=document['getElementById'](_0x5b5281(0x1d8)),_0x256253=document[_0x5b5281(0x224)](_0x5b5281(0x144));_0x269ab3[_0x5b5281(0x1b3)]='',_0x269ab3[_0x5b5281(0x1f2)](_0x256253);for(let _0x45aad5=0x0;_0x45aad5<0x18;_0x45aad5++){const _0x53a82e=document[_0x5b5281(0x29b)](_0x5b5281(0x16c));_0x53a82e[_0x5b5281(0x13a)]=_0x5b5281(0x1b5);if(_0x45aad5>0x0)_0x53a82e[_0x5b5281(0x1b3)]='<span>'+String(_0x45aad5)[_0x5b5281(0x29d)](0x2,'0')+_0x5b5281(0x1a9);_0x269ab3[_0x5b5281(0x1f2)](_0x53a82e);}}function renderDayRange(_0x49ea79,_0x330f60){const _0x4001bb=a2_0x5ac41c,_0x5da66d=document[_0x4001bb(0x224)](_0x4001bb(0x1e1)),_0x5c6b0b=document[_0x4001bb(0x224)](_0x4001bb(0x1ed)),_0x282f21=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5975d7=new Date();_0x5975d7['setHours'](0x0,0x0,0x0,0x0);const _0x4d2517=getLocalDateStr(new Date());for(let _0x208994=_0x49ea79;_0x208994<=_0x330f60;_0x208994++){const _0x403dde=new Date(_0x5975d7);_0x403dde[_0x4001bb(0x168)](_0x403dde[_0x4001bb(0x1f8)]()+_0x208994);const _0x359369=getLocalDateStr(_0x403dde);let _0x345b70=_0x403dde[_0x4001bb(0x1ce)]()-0x1;if(_0x345b70===-0x1)_0x345b70=0x6;const _0x8a32ac=_0x359369===_0x4d2517,_0xbc4d7b=document[_0x4001bb(0x29b)]('div');_0xbc4d7b[_0x4001bb(0x13a)]=_0x4001bb(0x1c1)+(_0x8a32ac?_0x4001bb(0x1f7):''),_0xbc4d7b['id']='header-'+_0x359369,_0xbc4d7b[_0x4001bb(0x2aa)](_0x4001bb(0x24f),_0x359369),_0xbc4d7b[_0x4001bb(0x1b3)]='<div\x20class=\x22dch-day\x22>'+_0x282f21[_0x345b70]+_0x4001bb(0x17c)+_0x403dde[_0x4001bb(0x1f8)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x359369+_0x4001bb(0x13b),_0xbc4d7b[_0x4001bb(0x19b)]=()=>openDayOptions(_0x359369,_0x282f21[_0x345b70]+'\x20'+_0x403dde[_0x4001bb(0x1f8)]()),_0x5da66d[_0x4001bb(0x1f2)](_0xbc4d7b);const _0x126bf5=document[_0x4001bb(0x29b)](_0x4001bb(0x16c));_0x126bf5[_0x4001bb(0x13a)]=_0x4001bb(0x2ab)+(_0x8a32ac?_0x4001bb(0x1f7):''),_0x126bf5[_0x4001bb(0x2aa)](_0x4001bb(0x24f),_0x359369),_0x126bf5[_0x4001bb(0x2aa)](_0x4001bb(0x261),_0x345b70),renderEventsForColumn(_0x126bf5,_0x359369,_0x345b70),attachLongPressHandler(_0x126bf5,_0x403dde),_0x5c6b0b[_0x4001bb(0x1f2)](_0x126bf5),updateDayStats(_0x359369);}}function reRenderBlocks(){const _0x437c95=a2_0x5ac41c;document[_0x437c95(0x26d)]('#gridColumns\x20.day-column')[_0x437c95(0x270)](_0x5c22ba=>{const _0x3e8032=_0x437c95;_0x5c22ba[_0x3e8032(0x26d)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x3e8032(0x270)](_0x34d2b5=>_0x34d2b5[_0x3e8032(0x289)]());const _0xb6f7ff=_0x5c22ba[_0x3e8032(0x158)]('data-date'),_0x2735c9=parseInt(_0x5c22ba['getAttribute'](_0x3e8032(0x261))),_0x3cc9ed=Math[_0x3e8032(0x18c)](_0x5c22ba[_0x3e8032(0x250)]);(availabilityPattern[_0x2735c9]||[])[_0x3e8032(0x270)](_0x29b851=>{const _0x22a56a=_0x3e8032,_0x4e3e6e=document[_0x22a56a(0x29b)](_0x22a56a(0x16c));_0x4e3e6e[_0x22a56a(0x13a)]='blocked-slot\x20stripe-bg';const _0xfcf16=_0x29b851*GRID_H;_0x4e3e6e['style'][_0x22a56a(0x232)]=_0xfcf16+'px',_0x4e3e6e[_0x22a56a(0x186)][_0x22a56a(0x19a)]='-'+_0x3cc9ed+_0x22a56a(0x1a1)+_0xfcf16+'px',_0x5c22ba['appendChild'](_0x4e3e6e);});if(specialRanges&&specialRanges[_0x3e8032(0x1ad)]>0x0){const _0x48f71f=new Date(_0xb6f7ff+_0x3e8032(0x200))[_0x3e8032(0x1f0)](),_0x2ec6fa=new Date(_0xb6f7ff+'T23:59:59')['getTime']();specialRanges[_0x3e8032(0x270)](_0x547174=>{const _0x13e296=_0x3e8032,_0x31b2f1=new Date(_0x547174[_0x13e296(0x1c3)])[_0x13e296(0x1f0)](),_0x3f496c=new Date(_0x547174[_0x13e296(0x1a4)])[_0x13e296(0x1f0)](),_0xba505c=Math[_0x13e296(0x157)](_0x48f71f,_0x31b2f1),_0x25c044=Math[_0x13e296(0x1c2)](_0x2ec6fa,_0x3f496c);if(_0xba505c<_0x25c044){if(_0xba505c<=_0x48f71f&&_0x25c044>=_0x2ec6fa-0xea60){if(!_0x5c22ba[_0x13e296(0x28e)](_0x13e296(0x211))){const _0x5d5dce=document[_0x13e296(0x29b)](_0x13e296(0x16c));_0x5d5dce['className']=_0x13e296(0x1e6),_0x5d5dce[_0x13e296(0x186)][_0x13e296(0x19a)]='-'+_0x3cc9ed+'px\x200px',_0x5c22ba['appendChild'](_0x5d5dce);}}else{const _0x3fc964=(_0xba505c-_0x48f71f)/0x36ee80*GRID_H,_0x4f42e0=(_0x25c044-_0xba505c)/0x36ee80*GRID_H,_0x5325c1=document[_0x13e296(0x29b)](_0x13e296(0x16c));_0x5325c1[_0x13e296(0x13a)]=_0x13e296(0x1df),_0x5325c1[_0x13e296(0x186)]['top']=_0x3fc964+'px',_0x5325c1['style'][_0x13e296(0x18a)]=_0x4f42e0+'px',_0x5325c1['style'][_0x13e296(0x19a)]='-'+_0x3cc9ed+_0x13e296(0x1a1)+_0x3fc964+'px',_0x5c22ba[_0x13e296(0x1f2)](_0x5325c1);}}});}if(dateExceptions[_0xb6f7ff]===_0x3e8032(0x1fb)){if(!_0x5c22ba[_0x3e8032(0x28e)](_0x3e8032(0x211))){const _0x87638=document[_0x3e8032(0x29b)]('div');_0x87638[_0x3e8032(0x13a)]=_0x3e8032(0x1e6),_0x87638[_0x3e8032(0x186)][_0x3e8032(0x19a)]='-'+_0x3cc9ed+_0x3e8032(0x1d1),_0x5c22ba[_0x3e8032(0x1f2)](_0x87638);}}renderEventsForColumn(_0x5c22ba,_0xb6f7ff,_0x2735c9),updateDayStats(_0xb6f7ff);});}function updateAllDayStats(){const _0x5c7357=a2_0x5ac41c;document[_0x5c7357(0x26d)](_0x5c7357(0x25e))[_0x5c7357(0x270)](_0x15787c=>{updateDayStats(_0x15787c['getAttribute']('data-date'));});}function updateDayStats(_0x16465f){const _0x19913b=a2_0x5ac41c,_0x1f5fce=document['getElementById'](_0x19913b(0x154)+_0x16465f);if(!_0x1f5fce)return;const _0x27b1d9=new Date(_0x16465f);let _0x56ebcf=_0x27b1d9[_0x19913b(0x1ce)]()-0x1;if(_0x56ebcf===-0x1)_0x56ebcf=0x6;if(dateExceptions[_0x16465f]===_0x19913b(0x1fb)){_0x1f5fce['style'][_0x19913b(0x278)]=_0x19913b(0x26e);return;}const _0x1e3e66=availabilityPattern[_0x56ebcf]||[],_0x426cf5=0x18-_0x1e3e66['length'],_0x2b4f21=_0x426cf5*0x3c,_0x79c6f8=sessions[_0x19913b(0x172)](_0x4638b2=>_0x4638b2[_0x19913b(0x23a)]===_0x16465f&&_0x4638b2[_0x19913b(0x15b)]!==_0x19913b(0x1f5));if(_0x79c6f8['length']===0x0){_0x1f5fce[_0x19913b(0x186)][_0x19913b(0x278)]=_0x19913b(0x26e);return;}let _0x24f972=_0x79c6f8['map'](_0x4662ab=>{const _0x4be70c=_0x19913b,[_0x2bb07e,_0x2c8221]=_0x4662ab[_0x4be70c(0x1c3)][_0x4be70c(0x12d)](':')[_0x4be70c(0x1ab)](Number),[_0xb637d,_0x2a6ce0]=_0x4662ab[_0x4be70c(0x1a4)][_0x4be70c(0x12d)](':')[_0x4be70c(0x1ab)](Number);return[_0x2bb07e*0x3c+_0x2c8221,_0xb637d*0x3c+_0x2a6ce0];});_0x24f972[_0x19913b(0x20c)]((_0x3d9b24,_0x58fd15)=>_0x3d9b24[0x0]-_0x58fd15[0x0]);let _0x16d5a2=[];if(_0x24f972[_0x19913b(0x1ad)]>0x0){let _0x24f7bf=_0x24f972[0x0];for(let _0x46b456=0x1;_0x46b456<_0x24f972[_0x19913b(0x1ad)];_0x46b456++){_0x24f972[_0x46b456][0x0]<_0x24f7bf[0x1]?_0x24f7bf[0x1]=Math[_0x19913b(0x157)](_0x24f7bf[0x1],_0x24f972[_0x46b456][0x1]):(_0x16d5a2['push'](_0x24f7bf),_0x24f7bf=_0x24f972[_0x46b456]);}_0x16d5a2['push'](_0x24f7bf);}let _0x5cdad8=0x0;_0x16d5a2[_0x19913b(0x270)](_0x323c59=>_0x5cdad8+=_0x323c59[0x1]-_0x323c59[0x0]),_0x1f5fce[_0x19913b(0x186)][_0x19913b(0x278)]=_0x19913b(0x19f);const _0x1ab364=_0x1f5fce[_0x19913b(0x28e)](_0x19913b(0x148));if(_0x2b4f21===0x0){_0x1ab364[_0x19913b(0x186)][_0x19913b(0x150)]=_0x19913b(0x132),_0x1ab364[_0x19913b(0x186)][_0x19913b(0x1cc)]=_0x19913b(0x12f);return;}const _0x29acd3=_0x5cdad8/_0x2b4f21*0x64;console[_0x19913b(0x19c)]('['+_0x16465f+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x426cf5+_0x19913b(0x1bd)+_0x5cdad8+_0x19913b(0x1c0)+_0x29acd3[_0x19913b(0x17d)](0x1)+'%'),_0x29acd3>0x64?(_0x1ab364[_0x19913b(0x186)][_0x19913b(0x150)]=_0x19913b(0x132),_0x1ab364['style']['background']=_0x19913b(0x12f)):(_0x1ab364['style'][_0x19913b(0x150)]=_0x29acd3+'%',_0x1ab364['style']['background']=_0x19913b(0x2b4));}function renderEventsForColumn(_0x342e18,_0x598490,_0x4f2bf7){const _0x143d09=a2_0x5ac41c,_0x42f506=sessions[_0x143d09(0x172)](_0xd8f886=>_0xd8f886['dateStr']===_0x598490),_0x269bbf=_0x42f506[_0x143d09(0x1ab)](_0x41e0ab=>{const _0xbd49b7=_0x143d09,[_0x2d76ce,_0x58a304]=_0x41e0ab['start'][_0xbd49b7(0x12d)](':')['map'](Number),[_0x5d73c1,_0x14fdee]=_0x41e0ab[_0xbd49b7(0x1a4)][_0xbd49b7(0x12d)](':')[_0xbd49b7(0x1ab)](Number);return{'data':_0x41e0ab,'start':_0x2d76ce*0x3c+_0x58a304,'end':_0x5d73c1*0x3c+_0x14fdee,'colIndex':0x0};});_0x269bbf[_0x143d09(0x20c)]((_0x531522,_0x1c089b)=>{const _0x4d6a3c=_0x143d09;if(_0x531522['start']!==_0x1c089b['start'])return _0x531522[_0x4d6a3c(0x1c3)]-_0x1c089b[_0x4d6a3c(0x1c3)];return _0x1c089b[_0x4d6a3c(0x1a4)]-_0x1c089b[_0x4d6a3c(0x1c3)]-(_0x531522[_0x4d6a3c(0x1a4)]-_0x531522['start']);});const _0x496767=[];_0x269bbf['forEach'](_0x5edd91=>{const _0x3df11c=_0x143d09;let _0x20532f=![];for(let _0x5ee94f=0x0;_0x5ee94f<_0x496767[_0x3df11c(0x1ad)];_0x5ee94f++){const _0x132493=_0x496767[_0x5ee94f],_0x318900=_0x132493[_0x132493['length']-0x1];if(_0x5edd91[_0x3df11c(0x1c3)]>=_0x318900[_0x3df11c(0x1a4)]){_0x132493[_0x3df11c(0x222)](_0x5edd91),_0x5edd91[_0x3df11c(0x264)]=_0x5ee94f,_0x20532f=!![];break;}}!_0x20532f&&(_0x496767[_0x3df11c(0x222)]([_0x5edd91]),_0x5edd91[_0x3df11c(0x264)]=_0x496767['length']-0x1);}),_0x269bbf[_0x143d09(0x270)](_0x3e3b43=>{const _0x338680=_0x143d09;let _0x100409=0x0;_0x269bbf[_0x338680(0x270)](_0x34797f=>{const _0x33cbef=_0x338680;if(Math[_0x33cbef(0x157)](_0x3e3b43['start'],_0x34797f[_0x33cbef(0x1c3)])<Math[_0x33cbef(0x1c2)](_0x3e3b43[_0x33cbef(0x1a4)],_0x34797f[_0x33cbef(0x1a4)])){if(_0x34797f[_0x33cbef(0x264)]>_0x100409)_0x100409=_0x34797f[_0x33cbef(0x264)];}});const _0x3dd79b=_0x100409+0x1,_0xe14ff4=0x64/_0x3dd79b,_0x313b96=_0x3e3b43[_0x338680(0x264)]*_0xe14ff4,_0x2ad12a=createEventEl(_0x3e3b43[_0x338680(0x279)]);_0x2ad12a['style'][_0x338680(0x150)]=_0x338680(0x238)+_0xe14ff4+_0x338680(0x203),_0x2ad12a[_0x338680(0x186)][_0x338680(0x1b8)]='calc('+_0x313b96+_0x338680(0x137),_0x2ad12a[_0x338680(0x186)][_0x338680(0x259)]=0xa+_0x3e3b43[_0x338680(0x264)],_0xe14ff4<0x55&&_0x2ad12a[_0x338680(0x1e5)][_0x338680(0x201)]('mini'),_0x342e18[_0x338680(0x1f2)](_0x2ad12a);});}function createEventEl(_0x50fb){const _0x10e32=a2_0x5ac41c,[_0x3463ce,_0x16ac3f]=_0x50fb[_0x10e32(0x1c3)][_0x10e32(0x12d)](':')[_0x10e32(0x1ab)](Number),[_0x4895c4,_0x4bf898]=_0x50fb[_0x10e32(0x1a4)][_0x10e32(0x12d)](':')[_0x10e32(0x1ab)](Number),_0x367e0b=(_0x3463ce*0x3c+_0x16ac3f)/0x3c*GRID_H,_0x39c268=(_0x4895c4*0x3c+_0x4bf898-(_0x3463ce*0x3c+_0x16ac3f))/0x3c*GRID_H,_0x43ce1a=document[_0x10e32(0x29b)](_0x10e32(0x16c)),_0x2fb16c=_0x50fb['status']===_0x10e32(0x1ae)?_0x10e32(0x15d):'';_0x43ce1a[_0x10e32(0x13a)]=_0x10e32(0x175)+_0x2fb16c,_0x43ce1a['style'][_0x10e32(0x232)]=_0x367e0b+'px',_0x43ce1a[_0x10e32(0x186)]['height']=Math[_0x10e32(0x157)](_0x39c268,0x14)+'px';const _0x55ec43=clients[_0x10e32(0x1e9)](_0x492aae=>_0x50fb[_0x10e32(0x2ae)]&&String(_0x492aae['id'])===String(_0x50fb[_0x10e32(0x2ae)])||_0x492aae[_0x10e32(0x177)]===_0x50fb[_0x10e32(0x223)]),_0x23c167=_0x55ec43?_0x55ec43[_0x10e32(0x287)]:_0x10e32(0x1aa);_0x43ce1a[_0x10e32(0x186)][_0x10e32(0x1a0)]=_0x23c167,_0x43ce1a[_0x10e32(0x186)][_0x10e32(0x1e4)]=hexToRgba(_0x23c167,0.85);let _0x5f4538=_0x10e32(0x166)+_0x50fb['client']+_0x10e32(0x286)+_0x50fb[_0x10e32(0x1c3)]+_0x10e32(0x155)+_0x50fb['end']+_0x10e32(0x130);return _0x50fb[_0x10e32(0x288)]&&(_0x5f4538+=_0x10e32(0x139)),_0x50fb[_0x10e32(0x15b)]===_0x10e32(0x1ae)&&(_0x5f4538+=_0x10e32(0x230)),_0x43ce1a['innerHTML']=_0x5f4538,_0x43ce1a['onclick']=_0x5bbeb3=>{const _0x40ba15=_0x10e32;_0x5bbeb3[_0x40ba15(0x1b6)](),openEdit(_0x50fb);},_0x43ce1a;}function attachLongPressHandler(_0x5c621b,_0x4be4d0){const _0x25ebb6=a2_0x5ac41c;let _0x1ac4bf=0x0,_0x369388=null;const _0x4078bb=_0x26d5ce=>{const _0x302fc4=a2_0x5582;if(_0x26d5ce[_0x302fc4(0x252)][_0x302fc4(0x1b2)](_0x302fc4(0x227)))return;isScrolling=![],_0x1ac4bf=_0x26d5ce['touches']?_0x26d5ce[_0x302fc4(0x1e2)][0x0][_0x302fc4(0x22d)]:_0x26d5ce[_0x302fc4(0x22d)],_0x369388=setTimeout(()=>{const _0x3a869b=_0x302fc4;if(!isScrolling){navigator[_0x3a869b(0x241)]?.(0x32);const _0x1fa45c=_0x5c621b['getBoundingClientRect'](),_0x764320=Math[_0x3a869b(0x1dc)]((_0x1ac4bf-_0x1fa45c[_0x3a869b(0x232)])/GRID_H);_0x4be4d0[_0x3a869b(0x237)](_0x764320,0x0),openAddSession(_0x4be4d0);}},0x1f4);},_0x5de25b=()=>{isScrolling=!![],clearTimeout(_0x369388);},_0x16e2c0=()=>{clearTimeout(_0x369388);};_0x5c621b[_0x25ebb6(0x27e)](_0x25ebb6(0x294),_0x4078bb,{'passive':!![]}),_0x5c621b[_0x25ebb6(0x27e)](_0x25ebb6(0x26c),_0x5de25b,{'passive':!![]}),_0x5c621b[_0x25ebb6(0x27e)](_0x25ebb6(0x194),_0x16e2c0),_0x5c621b[_0x25ebb6(0x27e)](_0x25ebb6(0x165),_0x4078bb),_0x5c621b[_0x25ebb6(0x27e)]('mousemove',_0x5de25b),_0x5c621b['addEventListener']('mouseup',_0x16e2c0);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1f25c3=a2_0x5ac41c,_0x44d03b=document[_0x1f25c3(0x224)](_0x1f25c3(0x1bc)),_0x5dcc15=_0x44d03b[_0x1f25c3(0x19e)],_0x51795b=_0x44d03b[_0x1f25c3(0x136)],_0x363dae=_0x44d03b[_0x1f25c3(0x20d)];if(_0x51795b-(_0x5dcc15+_0x363dae)<0x12c){const _0x1a95a4=endOffset;endOffset+=0xe,renderDayRange(_0x1a95a4+0x1,endOffset),reRenderBlocks();}if(_0x5dcc15<0x12c){const _0x3dcf89=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3dcf89-0x1),_0x44d03b['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x20df0c,_0xd3603b){const _0x35416b=a2_0x5ac41c,_0x180ebf=document[_0x35416b(0x224)](_0x35416b(0x1e1)),_0x53e147=document[_0x35416b(0x224)]('gridColumns'),_0x121006=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x46f4f5=new Date();_0x46f4f5[_0x35416b(0x237)](0x0,0x0,0x0,0x0);const _0xaba414=getLocalDateStr(new Date()),_0x5a542a=document[_0x35416b(0x28b)](),_0x9531c8=document[_0x35416b(0x28b)]();for(let _0x486468=_0x20df0c;_0x486468<=_0xd3603b;_0x486468++){const _0x5d6eb8=new Date(_0x46f4f5);_0x5d6eb8[_0x35416b(0x168)](_0x5d6eb8[_0x35416b(0x1f8)]()+_0x486468);const _0x3967ca=getLocalDateStr(_0x5d6eb8);let _0x3a32b6=_0x5d6eb8[_0x35416b(0x1ce)]()-0x1;if(_0x3a32b6===-0x1)_0x3a32b6=0x6;const _0x24b6e0=_0x3967ca===_0xaba414,_0x210945=document[_0x35416b(0x29b)](_0x35416b(0x16c));_0x210945[_0x35416b(0x13a)]=_0x35416b(0x1c1)+(_0x24b6e0?_0x35416b(0x1f7):''),_0x210945['id']='header-'+_0x3967ca,_0x210945['setAttribute'](_0x35416b(0x24f),_0x3967ca),_0x210945['innerHTML']=_0x35416b(0x140)+_0x121006[_0x3a32b6]+'</div><div\x20class=\x22dch-num\x22>'+_0x5d6eb8[_0x35416b(0x1f8)]()+_0x35416b(0x15a)+_0x3967ca+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x210945[_0x35416b(0x19b)]=()=>openDayOptions(_0x3967ca,_0x121006[_0x3a32b6]+'\x20'+_0x5d6eb8[_0x35416b(0x1f8)]()),_0x5a542a[_0x35416b(0x1f2)](_0x210945);const _0x4ad8ee=document[_0x35416b(0x29b)](_0x35416b(0x16c));_0x4ad8ee['className']=_0x35416b(0x2ab)+(_0x24b6e0?_0x35416b(0x1f7):''),_0x4ad8ee[_0x35416b(0x2aa)](_0x35416b(0x24f),_0x3967ca),_0x4ad8ee['setAttribute'](_0x35416b(0x261),_0x3a32b6),renderEventsForColumn(_0x4ad8ee,_0x3967ca,_0x3a32b6),attachLongPressHandler(_0x4ad8ee,_0x5d6eb8),_0x9531c8[_0x35416b(0x1f2)](_0x4ad8ee),updateDayStats(_0x3967ca);}_0x180ebf[_0x35416b(0x1d2)](_0x5a542a,_0x180ebf[_0x35416b(0x281)]),_0x53e147[_0x35416b(0x1d2)](_0x9531c8,_0x53e147[_0x35416b(0x28e)](_0x35416b(0x20e)));}function validateAppointment(_0x4ccbb2,_0x2fadb8,_0x3556e3,_0x5055be,_0xc4c807){const _0x5e27c3=a2_0x5ac41c,[_0x5cdf7c,_0x515053]=_0x2fadb8['split'](':')[_0x5e27c3(0x1ab)](Number),[_0x5b8660,_0x469ebb]=_0x3556e3[_0x5e27c3(0x12d)](':')[_0x5e27c3(0x1ab)](Number),_0x27b0a7=_0x5cdf7c*0x3c+_0x515053,_0x209872=_0x5b8660*0x3c+_0x469ebb,_0x2db562=String(_0xc4c807);let _0x341d1b=![],_0x4cbe18='';for(let _0x503bfe of sessions){if(_0x503bfe['dateStr']!==_0x4ccbb2)continue;if(_0x503bfe[_0x5e27c3(0x15b)]===_0x5e27c3(0x1f5))continue;if(_0x5055be&&String(_0x503bfe['id'])===String(_0x5055be))continue;const [_0x2086c4,_0x388a82]=_0x503bfe['start'][_0x5e27c3(0x12d)](':')[_0x5e27c3(0x1ab)](Number),[_0x42ef36,_0xc15b90]=_0x503bfe[_0x5e27c3(0x1a4)][_0x5e27c3(0x12d)](':')[_0x5e27c3(0x1ab)](Number),_0x1d32ff=_0x2086c4*0x3c+_0x388a82,_0x1ced6c=_0x42ef36*0x3c+_0xc15b90;if(Math[_0x5e27c3(0x157)](_0x27b0a7,_0x1d32ff)<Math[_0x5e27c3(0x1c2)](_0x209872,_0x1ced6c)){if(_0x503bfe['clientId']&&String(_0x503bfe[_0x5e27c3(0x2ae)])===_0x2db562)return{'valid':![],'msg':_0x5e27c3(0x285)+_0x503bfe[_0x5e27c3(0x223)]+_0x5e27c3(0x218)};_0x341d1b=!![],_0x4cbe18=_0x503bfe[_0x5e27c3(0x223)];}}if(_0x341d1b)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4cbe18};return{'valid':!![]};}function updateDateDisplay(){const _0x4de6ad=a2_0x5ac41c,_0x5b8750=document[_0x4de6ad(0x224)](_0x4de6ad(0x171))[_0x4de6ad(0x16b)],_0x17c3a9=document[_0x4de6ad(0x224)](_0x4de6ad(0x196));if(!_0x5b8750){_0x17c3a9['textContent']='';return;}const [_0x26ae0c,_0xca2441,_0x329fe2]=_0x5b8750[_0x4de6ad(0x12d)]('-')[_0x4de6ad(0x1ab)](Number),_0x5630bc=new Date(_0x26ae0c,_0xca2441-0x1,_0x329fe2),_0x968a0b={'weekday':_0x4de6ad(0x24a),'day':_0x4de6ad(0x25f),'month':_0x4de6ad(0x24a),'year':_0x4de6ad(0x25f)};let _0x4c3845=_0x5630bc[_0x4de6ad(0x1f3)]('ru-RU',_0x968a0b);_0x4c3845=_0x4c3845[_0x4de6ad(0x23e)](0x0)[_0x4de6ad(0x269)]()+_0x4c3845[_0x4de6ad(0x265)](0x1),_0x17c3a9[_0x4de6ad(0x1be)]=_0x4c3845;}function autoSetEndTime(){const _0x43b571=a2_0x5ac41c,_0x472156=document['getElementById']('inpStart')[_0x43b571(0x16b)];if(!_0x472156)return;const [_0x51d66c,_0x135037]=_0x472156[_0x43b571(0x12d)](':')['map'](Number);let _0x454a03=_0x51d66c+0x1;if(_0x454a03>0x17)_0x454a03=0x0;const _0x6829c6=String(_0x454a03)[_0x43b571(0x29d)](0x2,'0')+':'+String(_0x135037)['padStart'](0x2,'0');document['getElementById']('inpEnd')[_0x43b571(0x16b)]=_0x6829c6;}function populateClientSelect(){const _0x4b8910=a2_0x5ac41c,_0x1b9063=document[_0x4b8910(0x224)](_0x4b8910(0x187));_0x1b9063[_0x4b8910(0x1b3)]='';if(clients[_0x4b8910(0x1ad)]===0x0){const _0x655d22=document[_0x4b8910(0x29b)]('option');_0x655d22[_0x4b8910(0x1e8)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x1b9063[_0x4b8910(0x1f2)](_0x655d22);return;}clients[_0x4b8910(0x270)](_0x3d9e76=>{const _0x4b0705=_0x4b8910,_0xedb07b=document[_0x4b0705(0x29b)]('option');_0xedb07b[_0x4b0705(0x16b)]=_0x3d9e76['name'],_0xedb07b[_0x4b0705(0x1be)]=_0x3d9e76[_0x4b0705(0x177)],_0x1b9063[_0x4b0705(0x1f2)](_0xedb07b);});}function openActionSheet(_0xc0e02e){const _0x438a30=a2_0x5ac41c,_0x181bd5=document[_0x438a30(0x224)](_0x438a30(0x1a5)),_0x32c05=document['getElementById'](_0x438a30(0x163)),_0x4e8ef3=document[_0x438a30(0x224)](_0x438a30(0x275)),_0x5d5408=document[_0x438a30(0x224)](_0x438a30(0x29e)),_0x2cf12d=document[_0x438a30(0x224)](_0x438a30(0x176));_0x32c05['classList'][_0x438a30(0x201)]('active'),_0x181bd5[_0x438a30(0x1e5)][_0x438a30(0x201)]('open');if(_0xc0e02e===_0x438a30(0x245))_0x4e8ef3[_0x438a30(0x1be)]=_0x438a30(0x1b7),_0x5d5408[_0x438a30(0x1be)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5d5408['onclick']=()=>{const _0x5af780=_0x438a30;closeActionSheet(),updateSeriesBatch(_0x5af780(0x20f),tempSessionData);},_0x2cf12d['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2cf12d[_0x438a30(0x19b)]=()=>{const _0x216eea=_0x438a30;closeActionSheet(),updateSeriesBatch(_0x216eea(0x21a),tempSessionData);};else _0xc0e02e===_0x438a30(0x231)&&(_0x4e8ef3[_0x438a30(0x1be)]=_0x438a30(0x210),_0x5d5408[_0x438a30(0x1be)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5d5408[_0x438a30(0x13a)]=_0x438a30(0x298),_0x5d5408['onclick']=()=>{const _0xad11f5=_0x438a30;closeActionSheet(),commitDelete(_0xad11f5(0x20f),sessions[_0xad11f5(0x1e9)](_0xa24e67=>_0xa24e67['id']===editingId));},_0x2cf12d[_0x438a30(0x1be)]=_0x438a30(0x1d4),_0x2cf12d['className']=_0x438a30(0x1bf),_0x2cf12d[_0x438a30(0x19b)]=()=>{const _0x1c392a=_0x438a30;closeActionSheet(),commitDelete(_0x1c392a(0x21a),sessions[_0x1c392a(0x1e9)](_0x4a398a=>_0x4a398a['id']===editingId));});}function closeActionSheet(){const _0x2beabb=a2_0x5ac41c;document[_0x2beabb(0x224)](_0x2beabb(0x1a5))[_0x2beabb(0x1e5)][_0x2beabb(0x289)](_0x2beabb(0x14a)),document[_0x2beabb(0x224)](_0x2beabb(0x163))['classList'][_0x2beabb(0x289)]('active');}function openSettings(){const _0x36d678=a2_0x5ac41c;openSheet(_0x36d678(0x167));}function saveCoachSettings(){const _0x253b2b=a2_0x5ac41c,_0x1a093b=document[_0x253b2b(0x224)](_0x253b2b(0x23d))[_0x253b2b(0x16b)];localStorage[_0x253b2b(0x26a)]('uc_settings_cancel_window',_0x1a093b),console['log'](_0x253b2b(0x217),_0x1a093b),DataManager[_0x253b2b(0x213)](_0x253b2b(0x1ac),{'settings':{'cancel_window':_0x1a093b}})['catch'](_0x40d5b9=>{const _0x29ad35=_0x253b2b;console['error'](_0x29ad35(0x24e),_0x40d5b9),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4ea59c=a2_0x5ac41c,_0x2be793=localStorage[_0x4ea59c(0x12a)](_0x4ea59c(0x2b0));_0x2be793&&(document[_0x4ea59c(0x224)](_0x4ea59c(0x23d))[_0x4ea59c(0x16b)]=_0x2be793);}function openRangesSheet(){const _0x4a864a=a2_0x5ac41c;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4a864a(0x2a1));}function addRange(){const _0x1af141=a2_0x5ac41c,_0x1faffe=document[_0x1af141(0x224)]('rangeStartDate')[_0x1af141(0x16b)],_0x4e9edd=document[_0x1af141(0x224)](_0x1af141(0x16a))['value'],_0x2a55e0=document['getElementById'](_0x1af141(0x293))[_0x1af141(0x16b)],_0x3357a4=document[_0x1af141(0x224)](_0x1af141(0x1d7))[_0x1af141(0x16b)];if(!_0x1faffe||!_0x4e9edd||!_0x2a55e0||!_0x3357a4)return alert(_0x1af141(0x1d6));const _0x29385b=_0x1faffe+'T'+_0x4e9edd,_0x59c650=_0x2a55e0+'T'+_0x3357a4;if(_0x29385b>=_0x59c650)return alert(_0x1af141(0x26f));specialRanges[_0x1af141(0x222)]({'start':_0x29385b,'end':_0x59c650}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x1af141(0x2ad)](),DataManager['fetchFromServer'](_0x1af141(0x1ac),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x52f88b){const _0x5852a1=a2_0x5ac41c;specialRanges[_0x5852a1(0x1b1)](_0x52f88b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x5852a1(0x2ad)](),DataManager[_0x5852a1(0x213)](_0x5852a1(0x1ac),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x422529=a2_0x5ac41c;document[_0x422529(0x224)]('rangeStartDate')[_0x422529(0x16b)]='',document[_0x422529(0x224)](_0x422529(0x16a))[_0x422529(0x16b)]='00:00',document[_0x422529(0x224)]('rangeEndDate')[_0x422529(0x16b)]='',document[_0x422529(0x224)](_0x422529(0x1d7))['value']=_0x422529(0x1d3);}function renderRangesList(){const _0x318b46=a2_0x5ac41c,_0x1400ea=document['getElementById'](_0x318b46(0x268));_0x1400ea[_0x318b46(0x1b3)]='';if(!specialRanges[_0x318b46(0x1ad)]){_0x1400ea[_0x318b46(0x1b3)]='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x318b46(0x270)]((_0x258eb1,_0xcff89f)=>{const _0x4bbdc8=_0x318b46,_0x5a137a=document['createElement'](_0x4bbdc8(0x16c));_0x5a137a['className']=_0x4bbdc8(0x131);const _0x5af78c=_0x1091d0=>{const _0xa666e6=_0x4bbdc8,_0x512796=new Date(_0x1091d0);return _0x512796[_0xa666e6(0x1f8)]()+'.'+String(_0x512796['getMonth']()+0x1)[_0xa666e6(0x29d)](0x2,'0')+'\x20'+String(_0x512796[_0xa666e6(0x178)]())['padStart'](0x2,'0')+':'+String(_0x512796[_0xa666e6(0x2b1)]())[_0xa666e6(0x29d)](0x2,'0');};_0x5a137a['innerHTML']=_0x4bbdc8(0x1b4)+_0x5af78c(_0x258eb1[_0x4bbdc8(0x1c3)])+_0x4bbdc8(0x13e)+_0x5af78c(_0x258eb1['end'])+_0x4bbdc8(0x292)+_0xcff89f+_0x4bbdc8(0x170),_0x1400ea['appendChild'](_0x5a137a);});}function scrollToToday(){const _0x1b11d2=a2_0x5ac41c,_0x4f836e=getLocalDateStr(new Date()),_0x3ece14=document[_0x1b11d2(0x224)](_0x1b11d2(0x1cf)+_0x4f836e),_0x2466c3=document[_0x1b11d2(0x224)]('matrixViewport');if(_0x3ece14&&_0x2466c3){const _0x2da4cb=_0x2466c3[_0x1b11d2(0x20d)],_0xd379a0=_0x3ece14[_0x1b11d2(0x250)],_0xbf5631=_0x3ece14[_0x1b11d2(0x23f)];_0x2466c3[_0x1b11d2(0x19e)]=_0xd379a0-_0x2da4cb/0x2+_0xbf5631/0x2,_0x2466c3[_0x1b11d2(0x2a4)]=0x9*GRID_H;}}function onScroll(){const _0x15bc10=a2_0x5ac41c,_0x21d3b4=document[_0x15bc10(0x224)](_0x15bc10(0x1bc)),_0x51517c=document[_0x15bc10(0x26d)]('.day-col-header');for(let _0x3bd582 of _0x51517c)if(_0x3bd582[_0x15bc10(0x250)]>=_0x21d3b4[_0x15bc10(0x19e)]){const _0x35f4b8=new Date(_0x3bd582['getAttribute'](_0x15bc10(0x24f)));document[_0x15bc10(0x224)]('headerMonth')[_0x15bc10(0x1be)]=_0x35f4b8['toLocaleString']('ru',{'month':_0x15bc10(0x24a)})[_0x15bc10(0x269)]()+'\x20'+_0x35f4b8[_0x15bc10(0x181)]();break;}}function showToast(_0x5deedd,_0x21ae51=![]){const _0x14417e=a2_0x5ac41c,_0x4d3657=document[_0x14417e(0x224)](_0x14417e(0x290));_0x4d3657[_0x14417e(0x13a)]=_0x14417e(0x266)+(_0x21ae51?'success':''),document[_0x14417e(0x224)](_0x14417e(0x24d))[_0x14417e(0x1be)]=_0x21ae51?'–£—Å–ø–µ—à–Ω–æ':_0x14417e(0x14e),document['getElementById']('toastMessage')[_0x14417e(0x1be)]=_0x5deedd,_0x4d3657[_0x14417e(0x1e5)][_0x14417e(0x201)]('show'),setTimeout(()=>{const _0xe81e92=_0x14417e;_0x4d3657[_0xe81e92(0x1e5)][_0xe81e92(0x289)](_0xe81e92(0x27b));},0xbb8);}function openDayOptions(_0x195d81,_0x3fb9f0){const _0x1f0952=a2_0x5ac41c;selectedDayForOptions=_0x195d81,document[_0x1f0952(0x224)]('dayOptionsTitle')[_0x1f0952(0x1be)]=_0x3fb9f0,openSheet(_0x1f0952(0x215));}function toggleDayOff(){const _0x5fb716=a2_0x5ac41c;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5fb716(0x1fb),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x5fb716(0x213)](_0x5fb716(0x1ac),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x9a7b4e=a2_0x5ac41c;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x9a7b4e(0x2ad)](),DataManager['fetchFromServer'](_0x9a7b4e(0x1ac),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1a9da1){const _0x4f6843=a2_0x5ac41c;document[_0x4f6843(0x224)]('overlay')[_0x4f6843(0x1e5)][_0x4f6843(0x201)](_0x4f6843(0x12e)),document[_0x4f6843(0x224)](_0x1a9da1)[_0x4f6843(0x1e5)][_0x4f6843(0x201)](_0x4f6843(0x14a));}function closeAllSheets(){const _0xf51a9a=a2_0x5ac41c;document[_0xf51a9a(0x224)](_0xf51a9a(0x129))[_0xf51a9a(0x1e5)]['remove'](_0xf51a9a(0x12e)),document[_0xf51a9a(0x26d)](_0xf51a9a(0x164))['forEach'](_0x57b992=>_0x57b992[_0xf51a9a(0x1e5)][_0xf51a9a(0x289)]('open'));}function openPatternEditor(){const _0x1718c2=a2_0x5ac41c;closeAllSheets(),document['getElementById'](_0x1718c2(0x257))[_0x1718c2(0x1e5)]['add'](_0x1718c2(0x14a)),renderPatternEditor();}function closePatternEditor(){const _0x1d6bd8=a2_0x5ac41c;document[_0x1d6bd8(0x224)]('patternEditor')[_0x1d6bd8(0x1e5)]['remove'](_0x1d6bd8(0x14a));}function a2_0x2a94(){const _0x173745=['left','[API\x20','de-item','undefined','matrixViewport','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','textContent','as-button\x20danger\x20bold','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','day-col-header\x20','min','start','[Series]\x20Skipped\x20','2444712OgpxLR','btnDelete','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','cancel_window','blocked-slot\x20stripe-bg','scroll','toString','background','rgba(','getDay','header-','loadLocal','px\x200px','insertBefore','23:59','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','anDonutCircle','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','rangeEndTime','timeColumn','6036qjzFzm','then','uc_settings_v9','floor','135IqRHCu','initDataUnsafe','blocked-range-part\x20stripe-bg','patternInfoBox','daysHeaderTrack','touches','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','backgroundColor','classList','day-off-overlay\x20stripe-bg','findIndex','text','find','guest','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','clients','gridColumns','block','analyticsSheet','getTime','isArray','appendChild','toLocaleDateString','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','cancelled','btn-primary\x20btn-danger','today','getDate','28qXEWeu','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','off','uc_clients_v9','ready','setHeaderColor','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','T00:00:00','add','10px','%\x20-\x204px)','[Notify]\x20Detected\x20Client\x20ID:','rgba(255,255,255,0.05)','warn','10px\x2010px\x200\x200','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','setBackgroundColor','strokeDashoffset','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','sort','clientWidth','.day-column','single','–£–¥–∞–ª–µ–Ω–∏–µ','.day-off-overlay','[Notify]\x20Error:\x20Text\x20generation\x20failed','fetchFromServer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dayOptionsSheet','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','[Settings]\x20Cancel\x20window\x20set\x20to:',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','rgba(255,\x2069,\x2058,\x200.15)','series','anTotalStats','pe-time-label','sheetTitle','doBusyHours','indexOf','doDateHeader',':\x20Client\x20already\x20booked','push','client','getElementById','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','.event-card','rgba(48,\x20209,\x2088,\x200.15)','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','expand','null','rgba(255,\x20159,\x2010,\x200.3)','clientY','Server\x20Error','[Sync]\x20Loading\x20','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','delete','top','.pib-text','calendar','month','...','setHours','calc(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','dateStr','var(--acc-orange)','week','settingCancelWindow','charAt','offsetWidth','localeCompare','vibrate','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Local\x20Save\x20Error','save','Batch\x20Sync\x20OK','anEnd','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','syncLoad','long','borderColor','location','toastTitle','Save\x20settings\x20error:','data-date','offsetLeft','done','target','analyticsList','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','inpEnd','patternEditor','(((.+)+)+)+$','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','random',':00','Telegram','.day-col-header','numeric','Critical\x20TMA\x20Error:','data-day-idx','525730ZheSWV','includes','colIndex','slice','toast-notification\x20','sessionSheet','rangesList','toUpperCase','setItem','BackButton','touchmove','querySelectorAll','none','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','forEach','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','constructor','doLoadPercent','formatDate','asTitle','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','substr','display','data','rgba(255,\x2069,\x2058,\x200.3)','show','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','init_load','addEventListener','total','var(--acc-green)','firstChild','setMonth','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','entries','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','</div><div\x20class=\x22ev-time\x22>','color','seriesId','remove','doEventsList','createDocumentFragment','create','update','querySelector','batch_sync','toast','Error\x20setting\x20color:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','rangeEndDate','touchstart','anStart','[Notify]\x20Error:\x20sessionData\x20is\x20null','from','as-button\x20danger','\x20days','pe-corner','createElement','[Notify]\x20Attempting\x20to\x20send:','padStart','asBtnOne','note','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','rangesSheet','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','href','scrollTop','3931976xTnuwW','planned','28654WbJGxH','valid','Unknown','setAttribute','day-column\x20','client-stat-card','saveLocally','clientId','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','uc_settings_cancel_window','getMinutes','13VzDciJ','deleted','var(--acc-current)','getMonth','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','\x20–∏–∑\x20','overlay','getItem','borderRadius','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','split','active','var(--acc-red)','</div>','range-item','100%','btnDayToggle','sid','peGrid','scrollWidth','%\x20+\x202px)','search','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','className','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','Local\x20Load\x20Error','complete','\x20‚Äî\x20','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<div\x20class=\x22dch-day\x22>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','mergeServerData','#050505','timeLineBadge','uc_sessions_v9','<b>‚úÖ\x20','pe-cell\x20','.dch-stats-fill','onClick','open','parse','btnStatusToggle','statLoadCard','–ò–Ω—Ñ–æ','recurringOptionContainer','width','text/plain;charset=UTF-8','5UtgKzA','</span>\x20/\x20','stat-','\x20-\x20','now','max','getAttribute','[Notify]\x20Server\x20Response:','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','status','disableVerticalSwipes','\x20status-completed','error',']\x20Failed:','anPercent','ru-RU',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','actionSheetOverlay','.sheet','mousedown','<div\x20class=\x22ev-title\x22>','settingsSheet','setDate','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','rangeStartTime','value','div','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','seriesCountContainer','inpRecurring',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','inpDate','filter','3040281MXFlnw','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','event-card','asBtnSeries','name','getHours','catch','5952628sBWxUx','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</div><div\x20class=\x22dch-num\x22>','toFixed','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','btn-primary\x20btn-secondary','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getFullYear','settings','inpStart','pattern','</b>\x0a\x0a','style','inpClient','cancel','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','height','POST','round','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','WebApp','inpNote','checked','inpSeriesCount','send','.period-switch\x20.p-btn','touchend','ranges','sheetDateSubtitle','#fff','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','backgroundPosition','onclick','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','scrollLeft','flex','borderLeftColor','px\x20-','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','startsWith','end','actionSheet','user','warning','btn-status-toggle',':00</span>','#0a84ff','map','save_settings','length','completed','all','stringify','splice','closest','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','time-label','stopPropagation','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏'];a2_0x2a94=function(){return _0x173745;};return a2_0x2a94();}function savePattern(){const _0x339114=a2_0x5ac41c;document['getElementById'](_0x339114(0x257))[_0x339114(0x1e5)][_0x339114(0x289)](_0x339114(0x14a)),reRenderBlocks(),DataManager[_0x339114(0x2ad)](),DataManager[_0x339114(0x213)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x53c336=a2_0x5ac41c,_0x362572=document[_0x53c336(0x224)](_0x53c336(0x135));_0x362572[_0x53c336(0x1b3)]='';const _0x3e36ce=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xbaf249=document[_0x53c336(0x29b)](_0x53c336(0x16c));_0xbaf249['className']=_0x53c336(0x29a),_0x362572[_0x53c336(0x1f2)](_0xbaf249),_0x3e36ce['forEach']((_0x5ce56e,_0x4027b1)=>{const _0x46e5af=_0x53c336,_0x592e4f=document['createElement']('div');_0x592e4f[_0x46e5af(0x13a)]='pe-col-header',_0x592e4f[_0x46e5af(0x1b3)]=_0x5ce56e+_0x46e5af(0x1e3),_0x592e4f[_0x46e5af(0x19b)]=()=>toggleColPattern(_0x4027b1),_0x362572[_0x46e5af(0x1f2)](_0x592e4f);});for(let _0x394449=0x0;_0x394449<0x18;_0x394449++){const _0x17c276=document[_0x53c336(0x29b)](_0x53c336(0x16c));_0x17c276[_0x53c336(0x13a)]=_0x53c336(0x21c),_0x17c276[_0x53c336(0x1b3)]=_0x53c336(0x169)+String(_0x394449)['padStart'](0x2,'0')+_0x53c336(0x25c),_0x17c276[_0x53c336(0x19b)]=()=>toggleRowPattern(_0x394449),_0x362572[_0x53c336(0x1f2)](_0x17c276);for(let _0x39a954=0x0;_0x39a954<0x7;_0x39a954++){const _0x54b219=document['createElement'](_0x53c336(0x16c)),_0xf5a48d=(availabilityPattern[_0x39a954]||[])[_0x53c336(0x263)](_0x394449),_0x5b357f=!_0xf5a48d;_0x54b219['className']=_0x53c336(0x147)+(_0x5b357f?'active':''),_0x54b219['onclick']=()=>toggleSinglePattern(_0x39a954,_0x394449),_0x362572[_0x53c336(0x1f2)](_0x54b219);}}}function toggleSinglePattern(_0x51d5f1,_0x45b238){const _0x27745e=a2_0x5ac41c;if(!availabilityPattern[_0x51d5f1])availabilityPattern[_0x51d5f1]=[];const _0x39f858=availabilityPattern[_0x51d5f1],_0x2c2b71=_0x39f858[_0x27745e(0x21f)](_0x45b238);_0x2c2b71===-0x1?_0x39f858['push'](_0x45b238):_0x39f858[_0x27745e(0x1b1)](_0x2c2b71,0x1),renderPatternEditor();}function toggleColPattern(_0x3dcb4a){const _0x3f8d30=a2_0x5ac41c;if(!availabilityPattern[_0x3dcb4a])availabilityPattern[_0x3dcb4a]=[];const _0x407e9f=availabilityPattern[_0x3dcb4a];_0x407e9f[_0x3f8d30(0x1ad)]===0x0?availabilityPattern[_0x3dcb4a]=Array[_0x3f8d30(0x297)]({'length':0x18},(_0x18de14,_0x1d9cd1)=>_0x1d9cd1):availabilityPattern[_0x3dcb4a]=[],renderPatternEditor();}function toggleRowPattern(_0x1418a6){const _0x2b9745=a2_0x5ac41c;let _0x25b202=!![];for(let _0x4864fc=0x0;_0x4864fc<0x7;_0x4864fc++){if((availabilityPattern[_0x4864fc]||[])[_0x2b9745(0x263)](_0x1418a6)){_0x25b202=![];break;}}for(let _0x2a0905=0x0;_0x2a0905<0x7;_0x2a0905++){if(!availabilityPattern[_0x2a0905])availabilityPattern[_0x2a0905]=[];const _0x15e54c=availabilityPattern[_0x2a0905]['indexOf'](_0x1418a6);if(_0x25b202){if(_0x15e54c===-0x1)availabilityPattern[_0x2a0905][_0x2b9745(0x222)](_0x1418a6);}else{if(_0x15e54c!==-0x1)availabilityPattern[_0x2a0905][_0x2b9745(0x1b1)](_0x15e54c,0x1);}}renderPatternEditor();}function renderPCol(_0x58e8fb,_0x3cc048){const _0x18d3fa=a2_0x5ac41c;_0x58e8fb['innerHTML']='';const _0x51394e=Math[_0x18d3fa(0x18c)](_0x58e8fb[_0x18d3fa(0x250)]);(availabilityPattern[_0x3cc048]||[])[_0x18d3fa(0x270)](_0x926f6c=>{const _0x16123d=_0x18d3fa,_0x579b48=document[_0x16123d(0x29b)](_0x16123d(0x16c));_0x579b48['className']=_0x16123d(0x1c9);const _0x5de423=_0x926f6c*GRID_H;_0x579b48[_0x16123d(0x186)]['top']=_0x5de423+'px',_0x579b48[_0x16123d(0x186)][_0x16123d(0x19a)]='-'+_0x51394e+_0x16123d(0x1a1)+_0x5de423+'px',_0x579b48['onclick']=_0x248f5a=>{const _0x5c51a9=_0x16123d;_0x248f5a[_0x5c51a9(0x1b6)](),toggleSinglePattern(_0x3cc048,_0x926f6c);},_0x58e8fb['appendChild'](_0x579b48);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4d9c4f=a2_0x5ac41c,_0xdb4559=new Date(),_0x167af8=document['getElementById']('globalTimeLine'),_0x30865e=document['getElementById']('timeLineBadge'),_0x4c2fe4=(_0xdb4559['getHours']()*0x3c+_0xdb4559[_0x4d9c4f(0x2b1)]())/0x3c*GRID_H;_0x167af8[_0x4d9c4f(0x186)][_0x4d9c4f(0x232)]=_0x4c2fe4+'px',_0x167af8[_0x4d9c4f(0x186)][_0x4d9c4f(0x278)]=_0x4d9c4f(0x1ee),_0x30865e['textContent']=String(_0xdb4559['getHours']())[_0x4d9c4f(0x29d)](0x2,'0')+':'+String(_0xdb4559[_0x4d9c4f(0x2b1)]())['padStart'](0x2,'0'),_0x30865e['style'][_0x4d9c4f(0x278)]=_0x4d9c4f(0x1ee),_0x30865e[_0x4d9c4f(0x186)]['top']=_0x4c2fe4+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x142f40){const _0x5ab87f=a2_0x5ac41c;selectedDayForOptions=_0x142f40;const _0x2851cd=new Date(_0x142f40),_0xe10252={'weekday':_0x5ab87f(0x24a),'day':_0x5ab87f(0x25f),'month':_0x5ab87f(0x24a),'year':_0x5ab87f(0x25f)},_0x53de30=_0x2851cd[_0x5ab87f(0x1f3)](_0x5ab87f(0x161),_0xe10252);document[_0x5ab87f(0x224)](_0x5ab87f(0x220))[_0x5ab87f(0x1be)]=_0x53de30[_0x5ab87f(0x23e)](0x0)[_0x5ab87f(0x269)]()+_0x53de30[_0x5ab87f(0x265)](0x1);let _0x429a04=_0x2851cd[_0x5ab87f(0x1ce)]()-0x1;if(_0x429a04===-0x1)_0x429a04=0x6;const _0x5d5b4a=availabilityPattern[_0x429a04]||[],_0x2cad30=0x18-_0x5d5b4a[_0x5ab87f(0x1ad)],_0x57c7af=_0x2cad30*0x3c,_0x2cf063=sessions[_0x5ab87f(0x172)](_0xcb0f2e=>_0xcb0f2e[_0x5ab87f(0x23a)]===_0x142f40&&_0xcb0f2e[_0x5ab87f(0x15b)]!==_0x5ab87f(0x1f5));let _0x5a0807=_0x2cf063[_0x5ab87f(0x1ab)](_0xa776dd=>{const _0x435c88=_0x5ab87f,[_0x2b0fc3,_0x413061]=_0xa776dd[_0x435c88(0x1c3)]['split'](':')['map'](Number),[_0x24f460,_0x571891]=_0xa776dd[_0x435c88(0x1a4)][_0x435c88(0x12d)](':')['map'](Number);return[_0x2b0fc3*0x3c+_0x413061,_0x24f460*0x3c+_0x571891];});_0x5a0807[_0x5ab87f(0x20c)]((_0x58db1f,_0x502315)=>_0x58db1f[0x0]-_0x502315[0x0]);let _0x411721=[];if(_0x5a0807[_0x5ab87f(0x1ad)]>0x0){let _0x3beb5e=_0x5a0807[0x0];for(let _0x4e292a=0x1;_0x4e292a<_0x5a0807[_0x5ab87f(0x1ad)];_0x4e292a++){_0x5a0807[_0x4e292a][0x0]<_0x3beb5e[0x1]?_0x3beb5e[0x1]=Math['max'](_0x3beb5e[0x1],_0x5a0807[_0x4e292a][0x1]):(_0x411721['push'](_0x3beb5e),_0x3beb5e=_0x5a0807[_0x4e292a]);}_0x411721['push'](_0x3beb5e);}let _0x5696eb=0x0;_0x411721[_0x5ab87f(0x270)](_0x34b728=>_0x5696eb+=_0x34b728[0x1]-_0x34b728[0x0]),document[_0x5ab87f(0x224)]('doWorkHours')[_0x5ab87f(0x1be)]=formatMinsToHrs(_0x57c7af),document['getElementById'](_0x5ab87f(0x21e))[_0x5ab87f(0x1be)]=formatMinsToHrs(_0x5696eb);const _0x39041a=_0x57c7af>0x0?Math['round'](_0x5696eb/_0x57c7af*0x64):0x0,_0x1c1233=document['getElementById'](_0x5ab87f(0x273));_0x1c1233[_0x5ab87f(0x1be)]=_0x39041a+'%';const _0xc145ed=document[_0x5ab87f(0x224)](_0x5ab87f(0x14d));if(_0x39041a>0x64)_0x1c1233[_0x5ab87f(0x186)][_0x5ab87f(0x287)]=_0x5ab87f(0x12f),_0xc145ed['style'][_0x5ab87f(0x24b)]=_0x5ab87f(0x27a);else _0x39041a>0x50?(_0x1c1233[_0x5ab87f(0x186)][_0x5ab87f(0x287)]=_0x5ab87f(0x23b),_0xc145ed[_0x5ab87f(0x186)][_0x5ab87f(0x24b)]=_0x5ab87f(0x22c)):(_0x1c1233['style'][_0x5ab87f(0x287)]=_0x5ab87f(0x280),_0xc145ed[_0x5ab87f(0x186)][_0x5ab87f(0x24b)]=_0x5ab87f(0x205));const _0x5b8bb1=document[_0x5ab87f(0x224)](_0x5ab87f(0x28a));_0x5b8bb1[_0x5ab87f(0x1b3)]='';_0x2cf063['length']===0x0?_0x5b8bb1[_0x5ab87f(0x1b3)]=_0x5ab87f(0x229):(_0x2cf063[_0x5ab87f(0x20c)]((_0x3d0939,_0x20b6fc)=>_0x3d0939[_0x5ab87f(0x1c3)][_0x5ab87f(0x240)](_0x20b6fc[_0x5ab87f(0x1c3)])),_0x2cf063[_0x5ab87f(0x270)](_0x447e2b=>{const _0x1d2864=_0x5ab87f,_0x145eb5=clients['find'](_0x15ba15=>_0x15ba15[_0x1d2864(0x177)]===_0x447e2b[_0x1d2864(0x223)]),_0x53986b=_0x145eb5?_0x145eb5['color']:'#fff',_0x56a057=_0x447e2b[_0x1d2864(0x15b)]===_0x1d2864(0x1ae),_0x244b5e=_0x56a057?_0x1d2864(0x243):'',_0x592343=document['createElement'](_0x1d2864(0x16c));_0x592343[_0x1d2864(0x13a)]=_0x1d2864(0x1ba),_0x592343[_0x1d2864(0x186)][_0x1d2864(0x1a0)]=_0x53986b,_0x592343['innerHTML']=_0x1d2864(0x25a)+_0x447e2b['start']+_0x1d2864(0x155)+_0x447e2b[_0x1d2864(0x1a4)]+_0x1d2864(0x254)+_0x447e2b[_0x1d2864(0x223)]+_0x1d2864(0x214)+_0x244b5e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5b8bb1[_0x1d2864(0x1f2)](_0x592343);}));const _0x375836=document[_0x5ab87f(0x224)](_0x5ab87f(0x133)),_0x18b486=dateExceptions[_0x142f40]===_0x5ab87f(0x1fb);_0x18b486?(_0x375836['textContent']=_0x5ab87f(0x226),_0x375836[_0x5ab87f(0x13a)]=_0x5ab87f(0x17f),_0x375836['style'][_0x5ab87f(0x287)]=_0x5ab87f(0x280),_0x375836['style'][_0x5ab87f(0x1cc)]=_0x5ab87f(0x228)):(_0x375836[_0x5ab87f(0x1be)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x375836[_0x5ab87f(0x13a)]=_0x5ab87f(0x1f6),_0x375836[_0x5ab87f(0x186)]['color']=_0x5ab87f(0x12f),_0x375836[_0x5ab87f(0x186)][_0x5ab87f(0x1cc)]=_0x5ab87f(0x219)),openSheet(_0x5ab87f(0x215));}let currentAnPeriod=a2_0x5ac41c(0x23c);function openAnalytics(){const _0x2c05d4=a2_0x5ac41c,_0x5e6162=document[_0x2c05d4(0x28e)](_0x2c05d4(0x193));setAnalyticsPeriod(_0x2c05d4(0x23c),_0x5e6162),closeAllSheets(),openSheet(_0x2c05d4(0x1ef));}function setAnalyticsPeriod(_0x477ad6,_0x2a1349){const _0x3cb9ec=a2_0x5ac41c;currentAnPeriod=_0x477ad6,document['querySelectorAll'](_0x3cb9ec(0x193))[_0x3cb9ec(0x270)](_0x17d597=>_0x17d597[_0x3cb9ec(0x1e5)][_0x3cb9ec(0x289)](_0x3cb9ec(0x12e)));if(_0x2a1349)_0x2a1349[_0x3cb9ec(0x1e5)][_0x3cb9ec(0x201)](_0x3cb9ec(0x12e));const _0x1ba7ec=document[_0x3cb9ec(0x224)]('anCustomDates');_0x1ba7ec['style'][_0x3cb9ec(0x278)]=_0x477ad6==='custom'?'flex':_0x3cb9ec(0x26e);const _0x316b95=new Date();let _0x17cb54=new Date(),_0x2fa995=new Date();if(_0x477ad6===_0x3cb9ec(0x23c))_0x17cb54=getStartOfWeek(_0x316b95),_0x2fa995=new Date(_0x17cb54),_0x2fa995['setDate'](_0x2fa995[_0x3cb9ec(0x1f8)]()+0x6);else{if(_0x477ad6===_0x3cb9ec(0x235))_0x17cb54=new Date(_0x316b95[_0x3cb9ec(0x181)](),_0x316b95['getMonth'](),0x1),_0x2fa995=new Date(_0x316b95[_0x3cb9ec(0x181)](),_0x316b95[_0x3cb9ec(0x2b5)]()+0x1,0x0);else{!document[_0x3cb9ec(0x224)](_0x3cb9ec(0x295))['value']&&(document['getElementById'](_0x3cb9ec(0x295))[_0x3cb9ec(0x16b)]=getLocalDateStr(_0x316b95),document[_0x3cb9ec(0x224)](_0x3cb9ec(0x247))[_0x3cb9ec(0x16b)]=getLocalDateStr(_0x316b95));refreshAnalytics();return;}}document[_0x3cb9ec(0x224)](_0x3cb9ec(0x295))['value']=getLocalDateStr(_0x17cb54),document[_0x3cb9ec(0x224)](_0x3cb9ec(0x247))[_0x3cb9ec(0x16b)]=getLocalDateStr(_0x2fa995),refreshAnalytics();}function refreshAnalytics(){const _0x5a7a99=a2_0x5ac41c,_0x2fa746=document['getElementById'](_0x5a7a99(0x295))['value'],_0x2362b2=document[_0x5a7a99(0x224)](_0x5a7a99(0x247))['value'];if(!_0x2fa746||!_0x2362b2)return;const _0x373066=sessions['filter'](_0x2f602c=>_0x2f602c[_0x5a7a99(0x23a)]>=_0x2fa746&&_0x2f602c[_0x5a7a99(0x23a)]<=_0x2362b2&&_0x2f602c[_0x5a7a99(0x15b)]!==_0x5a7a99(0x1f5)),_0x494788=_0x373066['length'],_0x2bd98f=_0x373066[_0x5a7a99(0x172)](_0x1cf393=>_0x1cf393[_0x5a7a99(0x15b)]===_0x5a7a99(0x1ae))['length'],_0x432f85=_0x494788>0x0?Math[_0x5a7a99(0x18c)](_0x2bd98f/_0x494788*0x64):0x0;document[_0x5a7a99(0x224)](_0x5a7a99(0x160))[_0x5a7a99(0x1be)]=_0x432f85+'%',document[_0x5a7a99(0x224)](_0x5a7a99(0x21b))['textContent']=_0x2bd98f+_0x5a7a99(0x2b7)+_0x494788+_0x5a7a99(0x27c);const _0x272423=document[_0x5a7a99(0x224)](_0x5a7a99(0x1d5)),_0x3a1407=0x2*Math['PI']*0x23,_0x1b308a=_0x3a1407-_0x432f85/0x64*_0x3a1407;_0x272423[_0x5a7a99(0x186)][_0x5a7a99(0x20a)]=_0x1b308a;const _0x2a874b={};_0x373066[_0x5a7a99(0x270)](_0x1f250f=>{const _0x38d126=_0x5a7a99;if(!_0x2a874b[_0x1f250f[_0x38d126(0x223)]]){const _0x22faff=clients[_0x38d126(0x1e9)](_0x2f4722=>_0x2f4722[_0x38d126(0x177)]===_0x1f250f[_0x38d126(0x223)]);_0x2a874b[_0x1f250f[_0x38d126(0x223)]]={'total':0x0,'done':0x0,'color':_0x22faff?_0x22faff['color']:_0x38d126(0x197)};}_0x2a874b[_0x1f250f['client']][_0x38d126(0x27f)]++;if(_0x1f250f[_0x38d126(0x15b)]==='completed')_0x2a874b[_0x1f250f[_0x38d126(0x223)]]['done']++;});const _0xa99654=document[_0x5a7a99(0x224)](_0x5a7a99(0x253));_0xa99654['innerHTML']='';const _0x56fb0d=Object[_0x5a7a99(0x284)](_0x2a874b)[_0x5a7a99(0x20c)]((_0x2ba840,_0x10c468)=>_0x10c468[0x1]['total']-_0x2ba840[0x1][_0x5a7a99(0x27f)]);if(_0x56fb0d[_0x5a7a99(0x1ad)]===0x0){_0xa99654['innerHTML']=_0x5a7a99(0x18d);return;}_0x56fb0d[_0x5a7a99(0x270)](([_0x5c7a1f,_0x1d0738])=>{const _0x1a6a32=_0x5a7a99,_0x3de391=Math[_0x1a6a32(0x18c)](_0x1d0738[_0x1a6a32(0x251)]/_0x1d0738['total']*0x64),_0x4d02a0=document[_0x1a6a32(0x29b)](_0x1a6a32(0x16c));_0x4d02a0['className']=_0x1a6a32(0x2ac),_0x4d02a0[_0x1a6a32(0x186)]['borderLeftColor']=_0x1d0738[_0x1a6a32(0x287)],_0x4d02a0[_0x1a6a32(0x1b3)]=_0x1a6a32(0x19d)+_0x5c7a1f+_0x1a6a32(0x239)+_0x1d0738[_0x1a6a32(0x251)]+_0x1a6a32(0x153)+_0x1d0738[_0x1a6a32(0x27f)]+_0x1a6a32(0x17b)+_0x3de391+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xa99654[_0x1a6a32(0x1f2)](_0x4d02a0);});}function formatMinsToHrs(_0x388094){const _0x48d158=a2_0x5ac41c;if(_0x388094===0x0)return'0';const _0x32f96a=Math[_0x48d158(0x1dc)](_0x388094/0x3c),_0x539ee0=_0x388094%0x3c;if(_0x539ee0===0x0)return _0x32f96a+'—á';return _0x32f96a+'—á\x20'+_0x539ee0+'–º';}