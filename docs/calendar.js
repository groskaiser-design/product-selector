const a2_0xe36e4f=a2_0x2718;(function(_0x4f7bd9,_0x23d2b5){const _0x178879=a2_0x2718,_0xe0a0a6=_0x4f7bd9();while(!![]){try{const _0x4a267b=parseInt(_0x178879(0x2ab))/0x1*(parseInt(_0x178879(0x25d))/0x2)+-parseInt(_0x178879(0x2e4))/0x3*(parseInt(_0x178879(0x185))/0x4)+parseInt(_0x178879(0x2a9))/0x5+parseInt(_0x178879(0x296))/0x6+-parseInt(_0x178879(0x2b0))/0x7+parseInt(_0x178879(0x2a7))/0x8*(-parseInt(_0x178879(0x197))/0x9)+-parseInt(_0x178879(0x2b3))/0xa*(-parseInt(_0x178879(0x2ea))/0xb);if(_0x4a267b===_0x23d2b5)break;else _0xe0a0a6['push'](_0xe0a0a6['shift']());}catch(_0x353922){_0xe0a0a6['push'](_0xe0a0a6['shift']());}}}(a2_0x168d,0x40597),function initTMA(){const _0x1e5e1a=a2_0x2718,_0x21bbf9=(function(){let _0x388ed9=!![];return function(_0x412bb9,_0x45c9d1){const _0x317005=_0x388ed9?function(){const _0x32f8c8=a2_0x2718;if(_0x45c9d1){const _0x314338=_0x45c9d1[_0x32f8c8(0x2c3)](_0x412bb9,arguments);return _0x45c9d1=null,_0x314338;}}:function(){};return _0x388ed9=![],_0x317005;};}()),_0x3827b3=_0x21bbf9(this,function(){const _0x335bbc=a2_0x2718;return _0x3827b3['toString']()['search'](_0x335bbc(0x18b))['toString']()['constructor'](_0x3827b3)[_0x335bbc(0x216)](_0x335bbc(0x18b));});_0x3827b3();try{const _0x417423=window[_0x1e5e1a(0x275)]?.[_0x1e5e1a(0x24f)];if(!_0x417423)return;_0x417423[_0x1e5e1a(0x25a)](),_0x417423[_0x1e5e1a(0x20d)]();try{_0x417423[_0x1e5e1a(0x2aa)](_0x1e5e1a(0x20a)),_0x417423[_0x1e5e1a(0x2ee)]&&_0x417423['setBackgroundColor'](_0x1e5e1a(0x20a));}catch(_0x19a0f2){console['log']('Error\x20setting\x20color:',_0x19a0f2);}try{_0x417423[_0x1e5e1a(0x230)]&&(_0x417423['BackButton'][_0x1e5e1a(0x1ab)](),_0x417423[_0x1e5e1a(0x230)]['offClick'](),_0x417423['BackButton'][_0x1e5e1a(0x220)](function(){const _0x22c4a1=_0x1e5e1a;window[_0x22c4a1(0x1ae)]['href']='router.html';}));}catch(_0x102d25){console[_0x1e5e1a(0x287)](_0x1e5e1a(0x1e4),_0x102d25);}try{if(_0x417423[_0x1e5e1a(0x1cd)])_0x417423[_0x1e5e1a(0x1cd)]();}catch(_0x2c2f2e){}}catch(_0x28429e){console[_0x1e5e1a(0x232)](_0x1e5e1a(0x274),_0x28429e);}}());function isAdmin(){const _0x4a38dd=a2_0x2718;try{const _0x3dcd7a=Number(window[_0x4a38dd(0x275)]?.['WebApp']?.['initDataUnsafe']?.[_0x4a38dd(0x236)]?.['id']);return _0x3dcd7a===0xbaf7174;}catch(_0x473a09){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0xe36e4f(0x1a3),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0xe36e4f(0x2f5),KEY_SETTINGS=a2_0xe36e4f(0x237);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5ba027=a2_0xe36e4f;return window[_0x5ba027(0x275)]?.[_0x5ba027(0x24f)]?.[_0x5ba027(0x29b)]?.[_0x5ba027(0x236)]?.['id']||_0x5ba027(0x286);},'saveLocally'(){const _0x10308d=a2_0xe36e4f;try{localStorage[_0x10308d(0x18f)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x10308d(0x18f)](KEY_SESSIONS,JSON[_0x10308d(0x2da)](sessions)),localStorage[_0x10308d(0x18f)](KEY_SETTINGS,JSON[_0x10308d(0x2da)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1a5128){console[_0x10308d(0x232)]('Local\x20Save\x20Error',_0x1a5128);}},'loadLocal'(){const _0x5986a1=a2_0xe36e4f;try{const _0x4b104f=localStorage[_0x5986a1(0x1d4)](KEY_CLIENTS);if(_0x4b104f)clients=JSON[_0x5986a1(0x211)](_0x4b104f);const _0x145e36=localStorage[_0x5986a1(0x1d4)](KEY_SESSIONS);if(_0x145e36)sessions=JSON['parse'](_0x145e36);const _0x179535=localStorage[_0x5986a1(0x1d4)](KEY_SETTINGS);if(_0x179535){const _0x321c9f=JSON[_0x5986a1(0x211)](_0x179535);if(_0x321c9f['pattern'])availabilityPattern=_0x321c9f[_0x5986a1(0x1db)];if(_0x321c9f['exceptions'])dateExceptions=_0x321c9f[_0x5986a1(0x1da)];if(_0x321c9f[_0x5986a1(0x2d3)])specialRanges=_0x321c9f[_0x5986a1(0x2d3)];}else{for(let _0x173502=0x0;_0x173502<0x7;_0x173502++)availabilityPattern[_0x173502]=Array['from']({'length':0xc},(_0x2b8962,_0x441241)=>_0x441241+0x9);}}catch(_0x1b2116){console[_0x5986a1(0x232)](_0x5986a1(0x207),_0x1b2116);}},async 'fetchFromServer'(_0x18ec90,_0x4087c4={}){const _0x7f1f41=a2_0xe36e4f,_0x54b04a=window['Telegram']?.[_0x7f1f41(0x24f)],_0x5f26a7={'action':_0x18ec90,'init_data':_0x54b04a?.['initData']||'',..._0x4087c4};try{const _0x4d9812=await fetch(API_URL,{'method':_0x7f1f41(0x239),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x7f1f41(0x2da)](_0x5f26a7)}),_0x113513=await _0x4d9812[_0x7f1f41(0x188)]();if(!_0x113513['ok'])throw new Error(_0x113513[_0x7f1f41(0x232)]||'Server\x20Error');return _0x113513[_0x7f1f41(0x210)];}catch(_0x1bde58){console[_0x7f1f41(0x232)](_0x7f1f41(0x1d1)+_0x18ec90+_0x7f1f41(0x293),_0x1bde58);throw _0x1bde58;}},async 'syncLoad'(){const _0x3535fa=a2_0xe36e4f,_0x156b74=new Date(),_0xc54206=_0x156b74['getFullYear']()+'-'+String(_0x156b74[_0x3535fa(0x1fb)]()+0x1)[_0x3535fa(0x218)](0x2,'0'),_0x4fa550=new Date(_0x156b74);_0x4fa550['setMonth'](_0x156b74[_0x3535fa(0x1fb)]()+0x1);const _0x45b779=_0x4fa550[_0x3535fa(0x19c)]()+'-'+String(_0x4fa550[_0x3535fa(0x1fb)]()+0x1)['padStart'](0x2,'0'),_0x3600db=Date['now']();console[_0x3535fa(0x287)](_0x3535fa(0x1f4)+_0xc54206+',\x20'+_0x45b779+_0x3535fa(0x183));try{const [_0x517def,_0x4bb6d1]=await Promise[_0x3535fa(0x23e)]([this[_0x3535fa(0x267)](_0x3535fa(0x2ca),{'month_str':_0xc54206}),this[_0x3535fa(0x267)](_0x3535fa(0x2ca),{'month_str':_0x45b779})]);if(lastUserActionTime>_0x3600db)return console['warn'](_0x3535fa(0x2e3)),![];return this[_0x3535fa(0x184)](_0x517def,_0xc54206),this[_0x3535fa(0x184)](_0x4bb6d1,_0x45b779),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4297d5){console['error'](_0x4297d5);throw _0x4297d5;}},'mergeServerData'(_0x4d6626,_0x5433e8){const _0x1c2d7d=a2_0xe36e4f;if(!_0x4d6626)return;_0x4d6626[_0x1c2d7d(0x1ba)]&&Array['isArray'](_0x4d6626[_0x1c2d7d(0x1ba)])&&(clients=_0x4d6626[_0x1c2d7d(0x1ba)]);if(_0x4d6626['settings']){if(_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x1db)])availabilityPattern=_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x1db)];if(_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x1da)])dateExceptions=_0x4d6626['settings'][_0x1c2d7d(0x1da)];if(_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x2d3)])specialRanges=_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x2d3)];if(_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x247)]){localStorage[_0x1c2d7d(0x18f)](_0x1c2d7d(0x18a),_0x4d6626[_0x1c2d7d(0x2a4)][_0x1c2d7d(0x247)]);const _0x24783e=document[_0x1c2d7d(0x27c)](_0x1c2d7d(0x202));if(_0x24783e)_0x24783e['value']=_0x4d6626['settings']['cancel_window'];}}_0x4d6626[_0x1c2d7d(0x1e0)]&&(sessions=sessions[_0x1c2d7d(0x1d2)](_0x19d1f4=>!_0x19d1f4['dateStr'][_0x1c2d7d(0x1a5)](_0x5433e8)),Object['keys'](_0x4d6626['calendar'])[_0x1c2d7d(0x1e7)](_0x2083a1=>{const _0x41fecd=_0x1c2d7d,_0x24619b=_0x4d6626[_0x41fecd(0x1e0)][_0x2083a1];_0x24619b[_0x41fecd(0x1e7)](_0x56b62f=>{const _0x147e9f=_0x41fecd,_0x3b7788=clients[_0x147e9f(0x204)](_0x11d015=>String(_0x11d015['id'])===String(_0x56b62f['c']));sessions[_0x147e9f(0x269)]({'id':_0x56b62f['i'],'clientId':_0x56b62f['c'],'client':_0x3b7788?_0x3b7788[_0x147e9f(0x2a3)]:_0x147e9f(0x2b1),'dateStr':_0x5433e8+'-'+_0x2083a1['padStart'](0x2,'0'),'start':_0x56b62f['s'],'end':_0x56b62f['e'],'status':_0x56b62f['st']||_0x147e9f(0x1e5),'note':_0x56b62f['n']||'','seriesId':_0x56b62f[_0x147e9f(0x234)]||null});});}));},async 'syncBatch'(_0x5e07d9){const _0x17cba8=a2_0xe36e4f,_0x140429=[...new Set(_0x5e07d9)],_0x4a701e=_0x140429[_0x17cba8(0x272)](_0x5216f6=>{const _0xeb3626=_0x17cba8,_0x40b9ee=sessions[_0xeb3626(0x1d2)](_0x174310=>_0x174310[_0xeb3626(0x1c8)]===_0x5216f6&&_0x174310[_0xeb3626(0x1e1)]!=='deleted'),_0x2a3e27=_0x40b9ee[_0xeb3626(0x272)](_0x52d020=>({'i':_0x52d020['id'],'c':_0x52d020['clientId'],'s':_0x52d020[_0xeb3626(0x1ce)],'e':_0x52d020[_0xeb3626(0x18e)],'st':_0x52d020[_0xeb3626(0x1e1)],'n':_0x52d020[_0xeb3626(0x1c3)],'sid':_0x52d020[_0xeb3626(0x1c9)]}));return{'date':_0x5216f6,'day_data':_0x2a3e27};});if(_0x4a701e[_0x17cba8(0x2e1)]===0x0)return;console[_0x17cba8(0x287)](_0x17cba8(0x2dd)+_0x4a701e['length']+_0x17cba8(0x227)),await this[_0x17cba8(0x267)](_0x17cba8(0x2d0),{'changes':_0x4a701e});}};async function init(){const _0x22ceba=a2_0xe36e4f;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x22ceba(0x27c)](_0x22ceba(0x22b))[_0x22ceba(0x1a9)](_0x22ceba(0x298),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x22ceba(0x1d6)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0x2381ae=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x1853e0=a2_0xe36e4f;return Date['now']()['toString'](0x24)+Math['random']()[_0x1853e0(0x195)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x195ca8=a2_0xe36e4f,_0x1678ee=document[_0x195ca8(0x27c)]('inpRecurring')[_0x195ca8(0x1fe)],_0xf8e4b6=document[_0x195ca8(0x27c)](_0x195ca8(0x26c));_0xf8e4b6['style'][_0x195ca8(0x285)]=_0x1678ee?_0x195ca8(0x24b):_0x195ca8(0x23a);const _0x561f7e=document[_0x195ca8(0x27c)]('recurringOptionContainer');_0x561f7e[_0x195ca8(0x179)][_0x195ca8(0x18d)]=_0x1678ee?_0x195ca8(0x2ce):_0x195ca8(0x1aa);}function openAddSession(_0x224d01){const _0xbc9039=a2_0xe36e4f;editingId=null,populateClientSelect(),document[_0xbc9039(0x27c)](_0xbc9039(0x288))['textContent']=_0xbc9039(0x2f4),document[_0xbc9039(0x27c)]('btnDelete')[_0xbc9039(0x179)]['display']=_0xbc9039(0x23a),document[_0xbc9039(0x27c)](_0xbc9039(0x270))[_0xbc9039(0x179)][_0xbc9039(0x285)]=_0xbc9039(0x23a);const _0x25b515=document[_0xbc9039(0x27c)]('recurringOptionContainer'),_0x3f352b=document[_0xbc9039(0x27c)](_0xbc9039(0x26c));_0x25b515['style']['display']=_0xbc9039(0x291),_0x25b515[_0xbc9039(0x179)][_0xbc9039(0x18d)]=_0xbc9039(0x1aa),document[_0xbc9039(0x27c)]('inpRecurring')[_0xbc9039(0x1fe)]=![],document[_0xbc9039(0x27c)](_0xbc9039(0x249))[_0xbc9039(0x21e)]=0x4,_0x3f352b[_0xbc9039(0x179)][_0xbc9039(0x285)]=_0xbc9039(0x23a),document[_0xbc9039(0x27c)](_0xbc9039(0x248))[_0xbc9039(0x21e)]=getLocalDateStr(_0x224d01),updateDateDisplay();const _0x4dcf5f=_0x224d01['getHours']();document[_0xbc9039(0x27c)]('inpStart')[_0xbc9039(0x21e)]=String(_0x4dcf5f)[_0xbc9039(0x218)](0x2,'0')+_0xbc9039(0x1c4),document[_0xbc9039(0x27c)](_0xbc9039(0x2eb))[_0xbc9039(0x21e)]=String(_0x4dcf5f+0x1)['padStart'](0x2,'0')+_0xbc9039(0x1c4),openSheet(_0xbc9039(0x219));}function openEdit(_0x2d88fd){const _0x2ebd76=a2_0xe36e4f;editingId=_0x2d88fd['id'],populateClientSelect(),document['getElementById'](_0x2ebd76(0x288))[_0x2ebd76(0x221)]=_0x2ebd76(0x2a5),document['getElementById'](_0x2ebd76(0x21c))['style'][_0x2ebd76(0x285)]=_0x2ebd76(0x24b);const _0x1caa5b=document['getElementById'](_0x2ebd76(0x270));_0x1caa5b[_0x2ebd76(0x179)]['display']=_0x2ebd76(0x291);_0x2d88fd[_0x2ebd76(0x1e1)]===_0x2ebd76(0x240)?(_0x1caa5b[_0x2ebd76(0x289)]=_0x2ebd76(0x26f),_0x1caa5b[_0x2ebd76(0x294)]=_0x2ebd76(0x1bb)):(_0x1caa5b[_0x2ebd76(0x289)]=_0x2ebd76(0x241),_0x1caa5b[_0x2ebd76(0x294)]=_0x2ebd76(0x254));const _0x27d952=!!_0x2d88fd[_0x2ebd76(0x1c9)];document['getElementById'](_0x2ebd76(0x1c7))[_0x2ebd76(0x179)][_0x2ebd76(0x285)]='none',document[_0x2ebd76(0x27c)](_0x2ebd76(0x26c))[_0x2ebd76(0x179)]['display']=_0x2ebd76(0x23a),_0x27d952?(document[_0x2ebd76(0x27c)](_0x2ebd76(0x2bb))['style'][_0x2ebd76(0x285)]=_0x2ebd76(0x291),document['getElementById'](_0x2ebd76(0x2bb))[_0x2ebd76(0x1f2)]('.pib-text')[_0x2ebd76(0x221)]=_0x2ebd76(0x1fd)):document['getElementById'](_0x2ebd76(0x2bb))[_0x2ebd76(0x179)][_0x2ebd76(0x285)]=_0x2ebd76(0x23a),document['getElementById'](_0x2ebd76(0x1ad))[_0x2ebd76(0x21e)]=_0x2d88fd[_0x2ebd76(0x194)],document['getElementById'](_0x2ebd76(0x248))['value']=_0x2d88fd['dateStr'],document['getElementById'](_0x2ebd76(0x186))[_0x2ebd76(0x21e)]=_0x2d88fd['start'],document[_0x2ebd76(0x27c)](_0x2ebd76(0x2eb))[_0x2ebd76(0x21e)]=_0x2d88fd['end'],document[_0x2ebd76(0x27c)](_0x2ebd76(0x28b))[_0x2ebd76(0x21e)]=_0x2d88fd[_0x2ebd76(0x1c3)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x4b8703=a2_0xe36e4f,_0x3e4804=document[_0x4b8703(0x27c)]('inpClient')['value'],_0x3150df=document[_0x4b8703(0x27c)](_0x4b8703(0x248))[_0x4b8703(0x21e)],_0x55455b=document[_0x4b8703(0x27c)](_0x4b8703(0x186))[_0x4b8703(0x21e)],_0x464c69=document['getElementById'](_0x4b8703(0x2eb))[_0x4b8703(0x21e)],_0x2a4ce4=document['getElementById']('inpNote')[_0x4b8703(0x21e)],_0x1875a1=document[_0x4b8703(0x27c)](_0x4b8703(0x29e))[_0x4b8703(0x1fe)];let _0x5c674e=0x4;if(_0x1875a1){const _0x40b91b=parseInt(document[_0x4b8703(0x27c)](_0x4b8703(0x249))[_0x4b8703(0x21e)]);if(!_0x40b91b||_0x40b91b<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x40b91b>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x5c674e=_0x40b91b;}const _0x43634e=clients[_0x4b8703(0x204)](_0x1cf63b=>_0x1cf63b[_0x4b8703(0x2a3)]===_0x3e4804);if(!_0x43634e){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x23ea49=validateAppointment(_0x3150df,_0x55455b,_0x464c69,editingId,_0x43634e['id']);if(!_0x23ea49[_0x4b8703(0x2e9)]){showToast(_0x23ea49[_0x4b8703(0x17a)],![]);return;}_0x23ea49[_0x4b8703(0x1a8)]&&showToast(_0x23ea49['warning'],![]);const _0x2ba0b0={'client':_0x3e4804,'clientId':_0x43634e['id'],'start':_0x55455b,'end':_0x464c69,'note':_0x2a4ce4,'status':'planned'},_0x99a391=editingId?sessions[_0x4b8703(0x204)](_0x35d4cf=>_0x35d4cf['id']===editingId):null;if(_0x99a391&&_0x99a391[_0x4b8703(0x1c9)]){tempSessionData={..._0x2ba0b0,'dateStr':_0x3150df,'id':editingId,'seriesId':_0x99a391[_0x4b8703(0x1c9)]},openActionSheet('save');return;}let _0x22945f=null;if(!editingId)_0x22945f=_0x4b8703(0x26b);else{if(_0x99a391){if(String(_0x99a391[_0x4b8703(0x23f)])!==String(_0x43634e['id']))console[_0x4b8703(0x287)](_0x4b8703(0x1a6)),NotificationManager[_0x4b8703(0x1b0)](_0x4b8703(0x1b5),_0x99a391),_0x22945f=_0x4b8703(0x26b);else(_0x99a391[_0x4b8703(0x1ce)]!==_0x55455b||_0x99a391[_0x4b8703(0x18e)]!==_0x464c69||_0x99a391['dateStr']!==_0x3150df)&&(_0x22945f=_0x4b8703(0x2d7));}}if(!editingId&&_0x1875a1){createBatchSeries(_0x2ba0b0,_0x3150df,_0x5c674e),NotificationManager[_0x4b8703(0x1b0)](_0x4b8703(0x26b),{..._0x2ba0b0,'dateStr':_0x3150df});return;}lastUserActionTime=Date['now']();const _0x20328b={..._0x2ba0b0,'dateStr':_0x3150df,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x20328b),_0x22945f&&NotificationManager[_0x4b8703(0x1b0)](_0x22945f,_0x20328b);}function toggleSessionStatus(){const _0x47e942=a2_0xe36e4f;lastUserActionTime=Date[_0x47e942(0x1a7)]();const _0xbd0db7=sessions[_0x47e942(0x204)](_0x278fc6=>_0x278fc6['id']===editingId);if(!_0xbd0db7)return;const _0x728da9=_0xbd0db7['status']===_0x47e942(0x240)?'planned':_0x47e942(0x240);_0xbd0db7['status']=_0x728da9,saveSingleSession(_0xbd0db7),_0x728da9==='completed'&&NotificationManager[_0x47e942(0x1b0)](_0x47e942(0x200),_0xbd0db7),showToast(_0x728da9===_0x47e942(0x240)?_0x47e942(0x22c):_0x47e942(0x297),!![]);}function validateAppointment(_0x28c899,_0x6a0e1,_0x3ab277,_0x59a074,_0x53180d){const _0x1ec386=a2_0xe36e4f,[_0x57eebe,_0xc0d376]=_0x6a0e1[_0x1ec386(0x2bf)](':')[_0x1ec386(0x272)](Number),[_0x16f7a0,_0x5652f1]=_0x3ab277[_0x1ec386(0x2bf)](':')[_0x1ec386(0x272)](Number),_0x24532b=_0x57eebe*0x3c+_0xc0d376,_0x40a44b=_0x16f7a0*0x3c+_0x5652f1,_0x358937=String(_0x53180d);let _0x5c102c=![],_0x3c703a='';for(let _0x1736b5 of sessions){if(_0x1736b5[_0x1ec386(0x1c8)]!==_0x28c899)continue;if(_0x1736b5['status']===_0x1ec386(0x2dc))continue;if(_0x59a074&&String(_0x1736b5['id'])===String(_0x59a074))continue;const [_0x2f2a54,_0x589dae]=_0x1736b5[_0x1ec386(0x1ce)][_0x1ec386(0x2bf)](':')['map'](Number),[_0x57c79b,_0x2d5648]=_0x1736b5[_0x1ec386(0x18e)][_0x1ec386(0x2bf)](':')[_0x1ec386(0x272)](Number),_0x5058cf=_0x2f2a54*0x3c+_0x589dae,_0x2b7686=_0x57c79b*0x3c+_0x2d5648;if(Math[_0x1ec386(0x281)](_0x24532b,_0x5058cf)<Math[_0x1ec386(0x2d2)](_0x40a44b,_0x2b7686)){if(_0x1736b5['clientId']&&String(_0x1736b5[_0x1ec386(0x23f)])===_0x358937)return{'valid':![],'msg':_0x1ec386(0x264)+_0x1736b5[_0x1ec386(0x194)]+_0x1ec386(0x26d)};_0x5c102c=!![],_0x3c703a=_0x1736b5['client'];}}if(_0x5c102c)return{'valid':!![],'warning':_0x1ec386(0x1e6)+_0x3c703a};return{'valid':!![]};}function saveSingleSession(_0x21a759){const _0x425018=a2_0xe36e4f;if(editingId){const _0x191ab2=sessions[_0x425018(0x259)](_0x57786c=>_0x57786c['id']===editingId);if(_0x191ab2!==-0x1)sessions[_0x191ab2]=_0x21a759;}else sessions['push'](_0x21a759);afterSaveAction([_0x21a759['dateStr']]);}function createBatchSeries(_0x5250ea,_0x37d8ed,_0x44dec1){const _0x223232=a2_0xe36e4f,_0x544ecc=generateId(),_0x1f813e=[],_0x3d9d21=[];let _0x1f87ec=0x0,_0x484f84=new Date(_0x37d8ed);for(let _0x509d1f=0x0;_0x509d1f<_0x44dec1;_0x509d1f++){const _0x3a4ec6=getLocalDateStr(_0x484f84),_0xa23c78=validateAppointment(_0x3a4ec6,_0x5250ea[_0x223232(0x1ce)],_0x5250ea[_0x223232(0x18e)],null,_0x5250ea[_0x223232(0x23f)]);if(!_0xa23c78[_0x223232(0x2e9)])console['log'](_0x223232(0x2d5)+_0x3a4ec6+_0x223232(0x21d)),_0x1f87ec++;else{const _0x16b261={..._0x5250ea,'id':generateId(),'dateStr':_0x3a4ec6,'seriesId':_0x544ecc};_0x3d9d21[_0x223232(0x269)](_0x16b261),_0x1f813e['push'](_0x3a4ec6);}_0x484f84[_0x223232(0x182)](_0x484f84[_0x223232(0x262)]()+0x7);}if(_0x3d9d21['length']===0x0){showToast(_0x223232(0x2b4),![]);return;}sessions[_0x223232(0x269)](..._0x3d9d21),lastUserActionTime=Date[_0x223232(0x1a7)]();let _0x1283a5='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x3d9d21['length'];_0x1f87ec>0x0&&(_0x1283a5+=_0x223232(0x253)+_0x1f87ec+')'),showToast(_0x1283a5,!![]),afterSaveAction(_0x1f813e);}function a2_0x2718(_0x1bc65f,_0x1ad6ae){_0x1bc65f=_0x1bc65f-0x179;const _0x1afc6e=a2_0x168d();let _0x5d45d1=_0x1afc6e[_0x1bc65f];return _0x5d45d1;}function updateSeriesBatch(_0x711dee,_0x20fb1a){const _0x555675=a2_0xe36e4f,_0x2cbf37=[],_0x328627=_0x20fb1a[_0x555675(0x1c9)];if(_0x711dee===_0x555675(0x1f5)){const _0x40bd38={..._0x20fb1a,'seriesId':null},_0x177e94=sessions[_0x555675(0x259)](_0x5f3997=>_0x5f3997['id']===_0x20fb1a['id']);if(_0x177e94!==-0x1)sessions[_0x177e94]=_0x40bd38;_0x2cbf37[_0x555675(0x269)](_0x40bd38[_0x555675(0x1c8)]);}else{if(_0x711dee===_0x555675(0x20f)){const _0x2e801b=_0x20fb1a[_0x555675(0x1c8)];sessions['forEach']((_0x2e5545,_0xcf0fdd)=>{const _0x30e7ac=_0x555675;_0x2e5545[_0x30e7ac(0x1c9)]===_0x328627&&_0x2e5545[_0x30e7ac(0x1c8)]>=_0x2e801b&&(sessions[_0xcf0fdd]={...sessions[_0xcf0fdd],'start':_0x20fb1a[_0x30e7ac(0x1ce)],'end':_0x20fb1a['end'],'note':_0x20fb1a[_0x30e7ac(0x1c3)],'client':_0x20fb1a[_0x30e7ac(0x194)],'clientId':_0x20fb1a[_0x30e7ac(0x23f)]},_0x2cbf37['push'](_0x2e5545['dateStr']));});}}afterSaveAction(_0x2cbf37);}function tryDeleteSession(){const _0x1bb59e=a2_0xe36e4f,_0x249b34=sessions[_0x1bb59e(0x204)](_0x17cb3b=>_0x17cb3b['id']===editingId);if(!_0x249b34)return;_0x249b34[_0x1bb59e(0x1c9)]?openActionSheet(_0x1bb59e(0x2a0)):commitDelete(_0x1bb59e(0x1f5),_0x249b34);}function commitDelete(_0x82edf5,_0x2f7e3e){const _0x556acf=a2_0xe36e4f;lastUserActionTime=Date[_0x556acf(0x1a7)](),NotificationManager[_0x556acf(0x1b0)](_0x556acf(0x1b5),_0x2f7e3e);const _0x1cd5aa=[];if(_0x82edf5===_0x556acf(0x1f5))sessions=sessions[_0x556acf(0x1d2)](_0x260bce=>_0x260bce['id']!==_0x2f7e3e['id']),_0x1cd5aa['push'](_0x2f7e3e[_0x556acf(0x1c8)]);else{if(_0x82edf5==='series'){const _0x222df1=_0x2f7e3e[_0x556acf(0x1c8)],_0x5cb7c0=_0x2f7e3e[_0x556acf(0x1c9)];sessions['forEach'](_0x70af30=>{const _0x4ea5f6=_0x556acf;_0x70af30[_0x4ea5f6(0x1c9)]===_0x5cb7c0&&_0x70af30[_0x4ea5f6(0x1c8)]>=_0x222df1&&_0x1cd5aa['push'](_0x70af30[_0x4ea5f6(0x1c8)]);}),sessions=sessions[_0x556acf(0x1d2)](_0x549d51=>!(_0x549d51[_0x556acf(0x1c9)]===_0x5cb7c0&&_0x549d51[_0x556acf(0x1c8)]>=_0x222df1));}}afterSaveAction(_0x1cd5aa);}function afterSaveAction(_0x238df2){const _0x26b5a3=a2_0xe36e4f;DataManager[_0x26b5a3(0x1a2)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x26b5a3(0x187)](_0x238df2)[_0x26b5a3(0x1d6)](()=>console[_0x26b5a3(0x287)](_0x26b5a3(0x27a)))[_0x26b5a3(0x255)](_0x5c1757=>showToast(_0x26b5a3(0x25b),![]));}const NotificationManager={'formatDate'(_0x3c2ec4){const _0x3138ce=a2_0xe36e4f,_0x26fffd=new Date(_0x3c2ec4),_0x56e823={'weekday':_0x3138ce(0x238),'day':_0x3138ce(0x26a),'month':_0x3138ce(0x238)};let _0x191e72=_0x26fffd[_0x3138ce(0x27e)]('ru-RU',_0x56e823);return _0x191e72[_0x3138ce(0x1d5)](0x0)[_0x3138ce(0x25c)]()+_0x191e72[_0x3138ce(0x2b8)](0x1);},'getText'(_0x40d127,_0x4294bc){const _0x119391=a2_0xe36e4f,_0x2bc099=this['formatDate'](_0x4294bc[_0x119391(0x1c8)]);switch(_0x40d127){case _0x119391(0x26b):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x119391(0x276)+_0x2bc099+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x4294bc[_0x119391(0x1ce)]+_0x119391(0x28d)+_0x4294bc[_0x119391(0x18e)]+'\x0a\x0a')+_0x119391(0x1f9);case'update':return _0x119391(0x1bd)+_0x119391(0x209)+(_0x119391(0x283)+_0x4294bc[_0x119391(0x1ce)]+'\x20‚Äî\x20'+_0x4294bc[_0x119391(0x18e)]+_0x119391(0x1d7))+(_0x119391(0x276)+_0x2bc099);case _0x119391(0x1b5):return _0x119391(0x2f3)+(_0x119391(0x299)+_0x2bc099+'\x20('+_0x4294bc['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x119391(0x200):return _0x119391(0x2cc)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x119391(0x1b3);default:return'';}},async 'send'(_0x5130e6,_0x237ebe){const _0x50a6fc=a2_0xe36e4f;console[_0x50a6fc(0x287)](_0x50a6fc(0x2bc),_0x5130e6,_0x237ebe);if(!_0x237ebe){console[_0x50a6fc(0x232)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x3134d8=String(_0x237ebe[_0x50a6fc(0x23f)]);console[_0x50a6fc(0x287)](_0x50a6fc(0x27d),_0x3134d8);if(!_0x237ebe[_0x50a6fc(0x23f)]||_0x3134d8===_0x50a6fc(0x226)||_0x3134d8===_0x50a6fc(0x2af)){console[_0x50a6fc(0x232)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x237ebe['client']){const _0x53ee58=clients['find'](_0x5159de=>_0x5159de[_0x50a6fc(0x2a3)]===_0x237ebe[_0x50a6fc(0x194)]);if(_0x53ee58)return console[_0x50a6fc(0x287)](_0x50a6fc(0x28e),_0x53ee58['id']),this[_0x50a6fc(0x1b0)](_0x5130e6,{..._0x237ebe,'clientId':_0x53ee58['id']});}return;}if(_0x3134d8[_0x50a6fc(0x2e1)]<0x5){console[_0x50a6fc(0x243)](_0x50a6fc(0x1ac),_0x3134d8);return;}const _0x2bf61e=this[_0x50a6fc(0x17f)](_0x5130e6,_0x237ebe);if(!_0x2bf61e){console[_0x50a6fc(0x232)](_0x50a6fc(0x278));return;}console[_0x50a6fc(0x287)](_0x50a6fc(0x2e5)+_0x3134d8+_0x50a6fc(0x183)),DataManager[_0x50a6fc(0x267)](_0x50a6fc(0x21a),{'chatId':_0x3134d8,'text':_0x2bf61e})[_0x50a6fc(0x1d6)](_0x5dc6d1=>console[_0x50a6fc(0x287)]('[Notify]\x20Server\x20Response:',_0x5dc6d1))[_0x50a6fc(0x255)](_0x56b7d5=>console['error'](_0x50a6fc(0x1b9),_0x56b7d5));}};function getLocalDateStr(_0x5c235a){const _0x4ad946=a2_0xe36e4f,_0xce118b=_0x5c235a[_0x4ad946(0x19c)](),_0x3fe2e6=String(_0x5c235a[_0x4ad946(0x1fb)]()+0x1)[_0x4ad946(0x218)](0x2,'0'),_0x361138=String(_0x5c235a['getDate']())['padStart'](0x2,'0');return _0xce118b+'-'+_0x3fe2e6+'-'+_0x361138;}function getDateStr(_0x42fff9){const _0x1ceb34=a2_0xe36e4f,_0x482a1b=new Date();return _0x482a1b[_0x1ceb34(0x182)](_0x482a1b['getDate']()+_0x42fff9),getLocalDateStr(_0x482a1b);}function getStartOfWeek(_0x334257){const _0x5832a8=a2_0xe36e4f,_0x2503b1=new Date(_0x334257),_0x2f8bfa=_0x2503b1['getDay'](),_0xafbac=_0x2503b1[_0x5832a8(0x262)]()-_0x2f8bfa+(_0x2f8bfa===0x0?-0x6:0x1);return _0x2503b1[_0x5832a8(0x182)](_0xafbac),_0x2503b1[_0x5832a8(0x17e)](0x0,0x0,0x0,0x0),_0x2503b1;}function hexToRgba(_0x8d2a94,_0x41fc0a){const _0x28c60f=a2_0xe36e4f;if(!_0x8d2a94)return _0x28c60f(0x257);let _0x59ba74=0x0,_0x4c3869=0x0,_0x188427=0x0;if(_0x8d2a94['length']===0x4)_0x59ba74='0x'+_0x8d2a94[0x1]+_0x8d2a94[0x1],_0x4c3869='0x'+_0x8d2a94[0x2]+_0x8d2a94[0x2],_0x188427='0x'+_0x8d2a94[0x3]+_0x8d2a94[0x3];else _0x8d2a94['length']===0x7&&(_0x59ba74='0x'+_0x8d2a94[0x1]+_0x8d2a94[0x2],_0x4c3869='0x'+_0x8d2a94[0x3]+_0x8d2a94[0x4],_0x188427='0x'+_0x8d2a94[0x5]+_0x8d2a94[0x6]);return _0x28c60f(0x22a)+ +_0x59ba74+',\x20'+ +_0x4c3869+',\x20'+ +_0x188427+',\x20'+_0x41fc0a+')';}function renderTimeColumn(){const _0x277278=a2_0xe36e4f,_0x55f859=document[_0x277278(0x27c)]('timeColumn'),_0x228e4a=document[_0x277278(0x27c)](_0x277278(0x2e8));_0x55f859[_0x277278(0x294)]='',_0x55f859[_0x277278(0x181)](_0x228e4a);for(let _0x2ef691=0x0;_0x2ef691<0x18;_0x2ef691++){const _0x5ea5f3=document['createElement']('div');_0x5ea5f3[_0x277278(0x289)]=_0x277278(0x2be);if(_0x2ef691>0x0)_0x5ea5f3[_0x277278(0x294)]=_0x277278(0x1c6)+String(_0x2ef691)[_0x277278(0x218)](0x2,'0')+_0x277278(0x246);_0x55f859[_0x277278(0x181)](_0x5ea5f3);}}function renderDayRange(_0x1ea40b,_0x24781f){const _0x396a01=a2_0xe36e4f,_0x66c7d4=document[_0x396a01(0x27c)](_0x396a01(0x2df)),_0x44a137=document['getElementById']('gridColumns'),_0xc4fe9f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xccac16=new Date();_0xccac16[_0x396a01(0x17e)](0x0,0x0,0x0,0x0);const _0x4bb56d=getLocalDateStr(new Date());for(let _0x54076a=_0x1ea40b;_0x54076a<=_0x24781f;_0x54076a++){const _0x4fb843=new Date(_0xccac16);_0x4fb843[_0x396a01(0x182)](_0x4fb843['getDate']()+_0x54076a);const _0xb6afcb=getLocalDateStr(_0x4fb843);let _0x2a06e5=_0x4fb843[_0x396a01(0x28f)]()-0x1;if(_0x2a06e5===-0x1)_0x2a06e5=0x6;const _0x53c970=_0xb6afcb===_0x4bb56d,_0x1100c4=document[_0x396a01(0x228)]('div');_0x1100c4[_0x396a01(0x289)]=_0x396a01(0x1dd)+(_0x53c970?'today':''),_0x1100c4['id']=_0x396a01(0x1b6)+_0xb6afcb,_0x1100c4[_0x396a01(0x19f)](_0x396a01(0x192),_0xb6afcb),_0x1100c4['innerHTML']=_0x396a01(0x2f0)+_0xc4fe9f[_0x2a06e5]+_0x396a01(0x1eb)+_0x4fb843[_0x396a01(0x262)]()+_0x396a01(0x1d8)+_0xb6afcb+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1100c4[_0x396a01(0x1af)]=()=>openDayOptions(_0xb6afcb,_0xc4fe9f[_0x2a06e5]+'\x20'+_0x4fb843['getDate']()),_0x66c7d4['appendChild'](_0x1100c4);const _0x136737=document['createElement'](_0x396a01(0x19d));_0x136737[_0x396a01(0x289)]='day-column\x20'+(_0x53c970?_0x396a01(0x1bf):''),_0x136737[_0x396a01(0x19f)](_0x396a01(0x192),_0xb6afcb),_0x136737[_0x396a01(0x19f)](_0x396a01(0x1ee),_0x2a06e5),renderEventsForColumn(_0x136737,_0xb6afcb,_0x2a06e5),attachLongPressHandler(_0x136737,_0x4fb843),_0x44a137[_0x396a01(0x181)](_0x136737),updateDayStats(_0xb6afcb);}}function reRenderBlocks(){const _0x44c92e=a2_0xe36e4f;document['querySelectorAll']('#gridColumns\x20.day-column')[_0x44c92e(0x1e7)](_0x3a1ef3=>{const _0x2eba8b=_0x44c92e;_0x3a1ef3['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x2eba8b(0x1e7)](_0x451c35=>_0x451c35[_0x2eba8b(0x1d9)]());const _0x2642e8=_0x3a1ef3['getAttribute'](_0x2eba8b(0x192)),_0x4ae03a=parseInt(_0x3a1ef3['getAttribute'](_0x2eba8b(0x1ee))),_0x1a0385=Math[_0x2eba8b(0x217)](_0x3a1ef3[_0x2eba8b(0x222)]);(availabilityPattern[_0x4ae03a]||[])[_0x2eba8b(0x1e7)](_0x10b3eb=>{const _0x11bc83=_0x2eba8b,_0x1572fd=document['createElement'](_0x11bc83(0x19d));_0x1572fd['className']=_0x11bc83(0x2d4);const _0x3cab60=_0x10b3eb*GRID_H;_0x1572fd[_0x11bc83(0x179)][_0x11bc83(0x20c)]=_0x3cab60+'px',_0x1572fd[_0x11bc83(0x179)][_0x11bc83(0x23b)]='-'+_0x1a0385+_0x11bc83(0x212)+_0x3cab60+'px',_0x3a1ef3[_0x11bc83(0x181)](_0x1572fd);});if(specialRanges&&specialRanges[_0x2eba8b(0x2e1)]>0x0){const _0xf2a204=new Date(_0x2642e8+'T00:00:00')[_0x2eba8b(0x260)](),_0x41cdd9=new Date(_0x2642e8+_0x2eba8b(0x22e))[_0x2eba8b(0x260)]();specialRanges['forEach'](_0x3999da=>{const _0x18d319=_0x2eba8b,_0x548e3d=new Date(_0x3999da[_0x18d319(0x1ce)])[_0x18d319(0x260)](),_0x4ade90=new Date(_0x3999da[_0x18d319(0x18e)])[_0x18d319(0x260)](),_0xf99ad1=Math[_0x18d319(0x281)](_0xf2a204,_0x548e3d),_0x3032cd=Math[_0x18d319(0x2d2)](_0x41cdd9,_0x4ade90);if(_0xf99ad1<_0x3032cd){if(_0xf99ad1<=_0xf2a204&&_0x3032cd>=_0x41cdd9-0xea60){if(!_0x3a1ef3[_0x18d319(0x1f2)](_0x18d319(0x2d1))){const _0x5153df=document[_0x18d319(0x228)](_0x18d319(0x19d));_0x5153df[_0x18d319(0x289)]=_0x18d319(0x2c8),_0x5153df[_0x18d319(0x179)][_0x18d319(0x23b)]='-'+_0x1a0385+'px\x200px',_0x3a1ef3[_0x18d319(0x181)](_0x5153df);}}else{const _0x481f28=(_0xf99ad1-_0xf2a204)/0x36ee80*GRID_H,_0x107c6e=(_0x3032cd-_0xf99ad1)/0x36ee80*GRID_H,_0x405892=document['createElement'](_0x18d319(0x19d));_0x405892[_0x18d319(0x289)]=_0x18d319(0x198),_0x405892[_0x18d319(0x179)][_0x18d319(0x20c)]=_0x481f28+'px',_0x405892[_0x18d319(0x179)][_0x18d319(0x1f3)]=_0x107c6e+'px',_0x405892['style'][_0x18d319(0x23b)]='-'+_0x1a0385+'px\x20-'+_0x481f28+'px',_0x3a1ef3['appendChild'](_0x405892);}}});}if(dateExceptions[_0x2642e8]===_0x2eba8b(0x24a)){if(!_0x3a1ef3[_0x2eba8b(0x1f2)](_0x2eba8b(0x2d1))){const _0x2cea4c=document['createElement'](_0x2eba8b(0x19d));_0x2cea4c['className']=_0x2eba8b(0x2c8),_0x2cea4c[_0x2eba8b(0x179)][_0x2eba8b(0x23b)]='-'+_0x1a0385+_0x2eba8b(0x229),_0x3a1ef3[_0x2eba8b(0x181)](_0x2cea4c);}}renderEventsForColumn(_0x3a1ef3,_0x2642e8,_0x4ae03a),updateDayStats(_0x2642e8);});}function updateAllDayStats(){const _0x590e41=a2_0xe36e4f;document[_0x590e41(0x1cc)](_0x590e41(0x224))['forEach'](_0x31bec3=>{const _0x2bf45c=_0x590e41;updateDayStats(_0x31bec3[_0x2bf45c(0x29a)](_0x2bf45c(0x192)));});}function updateDayStats(_0x4421e7){const _0x37804f=a2_0xe36e4f,_0x3b03cb=document[_0x37804f(0x27c)](_0x37804f(0x1d3)+_0x4421e7);if(!_0x3b03cb)return;const _0x20e966=new Date(_0x4421e7);let _0x24e8df=_0x20e966[_0x37804f(0x28f)]()-0x1;if(_0x24e8df===-0x1)_0x24e8df=0x6;if(dateExceptions[_0x4421e7]===_0x37804f(0x24a)){_0x3b03cb['style']['display']=_0x37804f(0x23a);return;}const _0x39eecc=availabilityPattern[_0x24e8df]||[],_0x2e9290=0x18-_0x39eecc[_0x37804f(0x2e1)],_0x2d7693=_0x2e9290*0x3c,_0x845aac=sessions['filter'](_0x250711=>_0x250711['dateStr']===_0x4421e7&&_0x250711[_0x37804f(0x1e1)]!==_0x37804f(0x2dc));if(_0x845aac['length']===0x0){_0x3b03cb[_0x37804f(0x179)][_0x37804f(0x285)]=_0x37804f(0x23a);return;}let _0x4050bf=_0x845aac[_0x37804f(0x272)](_0x3f72d3=>{const _0x69c467=_0x37804f,[_0x5483ad,_0x2aec82]=_0x3f72d3['start'][_0x69c467(0x2bf)](':')['map'](Number),[_0x9df1d2,_0x2b33e5]=_0x3f72d3[_0x69c467(0x18e)][_0x69c467(0x2bf)](':')[_0x69c467(0x272)](Number);return[_0x5483ad*0x3c+_0x2aec82,_0x9df1d2*0x3c+_0x2b33e5];});_0x4050bf['sort']((_0x212413,_0x3ac3d9)=>_0x212413[0x0]-_0x3ac3d9[0x0]);let _0x7c9988=[];if(_0x4050bf[_0x37804f(0x2e1)]>0x0){let _0x188e42=_0x4050bf[0x0];for(let _0x4f8a1b=0x1;_0x4f8a1b<_0x4050bf[_0x37804f(0x2e1)];_0x4f8a1b++){_0x4050bf[_0x4f8a1b][0x0]<_0x188e42[0x1]?_0x188e42[0x1]=Math[_0x37804f(0x281)](_0x188e42[0x1],_0x4050bf[_0x4f8a1b][0x1]):(_0x7c9988[_0x37804f(0x269)](_0x188e42),_0x188e42=_0x4050bf[_0x4f8a1b]);}_0x7c9988[_0x37804f(0x269)](_0x188e42);}let _0x4fd000=0x0;_0x7c9988['forEach'](_0x121f21=>_0x4fd000+=_0x121f21[0x1]-_0x121f21[0x0]),_0x3b03cb['style']['display']=_0x37804f(0x291);const _0x5293a2=_0x3b03cb[_0x37804f(0x1f2)]('.dch-stats-fill');if(_0x2d7693===0x0){_0x5293a2[_0x37804f(0x179)]['width']='100%',_0x5293a2[_0x37804f(0x179)][_0x37804f(0x2f2)]='var(--acc-red)';return;}const _0x5dc8a1=_0x4fd000/_0x2d7693*0x64;console[_0x37804f(0x287)]('['+_0x4421e7+_0x37804f(0x1be)+_0x2e9290+_0x37804f(0x1fc)+_0x4fd000+_0x37804f(0x29f)+_0x5dc8a1[_0x37804f(0x2a8)](0x1)+'%'),_0x5dc8a1>0x64?(_0x5293a2[_0x37804f(0x179)][_0x37804f(0x1c0)]=_0x37804f(0x191),_0x5293a2[_0x37804f(0x179)][_0x37804f(0x2f2)]=_0x37804f(0x1b8)):(_0x5293a2[_0x37804f(0x179)][_0x37804f(0x1c0)]=_0x5dc8a1+'%',_0x5293a2[_0x37804f(0x179)]['background']=_0x37804f(0x2d6));}function renderEventsForColumn(_0x579297,_0xe1dffc,_0x2d79a2){const _0x2c9ae1=a2_0xe36e4f,_0x10fc06=sessions[_0x2c9ae1(0x1d2)](_0x3151ad=>_0x3151ad[_0x2c9ae1(0x1c8)]===_0xe1dffc),_0x313017=_0x10fc06[_0x2c9ae1(0x272)](_0x376a50=>{const _0x4fc6f9=_0x2c9ae1,[_0x5c46b5,_0x44e92d]=_0x376a50[_0x4fc6f9(0x1ce)][_0x4fc6f9(0x2bf)](':')[_0x4fc6f9(0x272)](Number),[_0x3392f5,_0x341879]=_0x376a50[_0x4fc6f9(0x18e)]['split'](':')[_0x4fc6f9(0x272)](Number);return{'data':_0x376a50,'start':_0x5c46b5*0x3c+_0x44e92d,'end':_0x3392f5*0x3c+_0x341879,'colIndex':0x0};});_0x313017[_0x2c9ae1(0x1f0)]((_0x52ca91,_0x15079c)=>{const _0x231dc8=_0x2c9ae1;if(_0x52ca91[_0x231dc8(0x1ce)]!==_0x15079c['start'])return _0x52ca91[_0x231dc8(0x1ce)]-_0x15079c['start'];return _0x15079c[_0x231dc8(0x18e)]-_0x15079c['start']-(_0x52ca91[_0x231dc8(0x18e)]-_0x52ca91[_0x231dc8(0x1ce)]);});const _0x366e91=[];_0x313017['forEach'](_0x54f568=>{const _0x360814=_0x2c9ae1;let _0x9f4782=![];for(let _0x5289bb=0x0;_0x5289bb<_0x366e91[_0x360814(0x2e1)];_0x5289bb++){const _0x22a744=_0x366e91[_0x5289bb],_0x362e44=_0x22a744[_0x22a744[_0x360814(0x2e1)]-0x1];if(_0x54f568['start']>=_0x362e44[_0x360814(0x18e)]){_0x22a744[_0x360814(0x269)](_0x54f568),_0x54f568[_0x360814(0x203)]=_0x5289bb,_0x9f4782=!![];break;}}!_0x9f4782&&(_0x366e91[_0x360814(0x269)]([_0x54f568]),_0x54f568[_0x360814(0x203)]=_0x366e91['length']-0x1);}),_0x313017[_0x2c9ae1(0x1e7)](_0x443f3f=>{const _0x765413=_0x2c9ae1;let _0x2cd159=0x0;_0x313017[_0x765413(0x1e7)](_0x271f5e=>{const _0x55987e=_0x765413;if(Math[_0x55987e(0x281)](_0x443f3f[_0x55987e(0x1ce)],_0x271f5e['start'])<Math['min'](_0x443f3f[_0x55987e(0x18e)],_0x271f5e[_0x55987e(0x18e)])){if(_0x271f5e[_0x55987e(0x203)]>_0x2cd159)_0x2cd159=_0x271f5e[_0x55987e(0x203)];}});const _0x31584c=_0x2cd159+0x1,_0x1b090b=0x64/_0x31584c,_0x1df309=_0x443f3f[_0x765413(0x203)]*_0x1b090b,_0x40a721=createEventEl(_0x443f3f[_0x765413(0x210)]);_0x40a721[_0x765413(0x179)][_0x765413(0x1c0)]=_0x765413(0x2c1)+_0x1b090b+'%\x20-\x204px)',_0x40a721['style'][_0x765413(0x20b)]=_0x765413(0x2c1)+_0x1df309+'%\x20+\x202px)',_0x40a721[_0x765413(0x179)][_0x765413(0x2b2)]=0xa+_0x443f3f[_0x765413(0x203)],_0x1b090b<0x55&&_0x40a721[_0x765413(0x273)][_0x765413(0x277)](_0x765413(0x2bd)),_0x579297[_0x765413(0x181)](_0x40a721);});}function createEventEl(_0x1c659e){const _0x14f240=a2_0xe36e4f,[_0x3c7f42,_0x39d0f6]=_0x1c659e['start'][_0x14f240(0x2bf)](':')[_0x14f240(0x272)](Number),[_0x1fb711,_0x46cfb2]=_0x1c659e[_0x14f240(0x18e)]['split'](':')[_0x14f240(0x272)](Number),_0x4607b6=(_0x3c7f42*0x3c+_0x39d0f6)/0x3c*GRID_H,_0x5d1987=(_0x1fb711*0x3c+_0x46cfb2-(_0x3c7f42*0x3c+_0x39d0f6))/0x3c*GRID_H,_0x5a080f=document[_0x14f240(0x228)](_0x14f240(0x19d)),_0x1f0f97=_0x1c659e['status']===_0x14f240(0x240)?_0x14f240(0x2a6):'';_0x5a080f[_0x14f240(0x289)]=_0x14f240(0x2d9)+_0x1f0f97,_0x5a080f['style']['top']=_0x4607b6+'px',_0x5a080f[_0x14f240(0x179)][_0x14f240(0x1f3)]=Math[_0x14f240(0x281)](_0x5d1987,0x14)+'px';const _0x3fcb25=clients['find'](_0x3d507e=>_0x1c659e[_0x14f240(0x23f)]&&String(_0x3d507e['id'])===String(_0x1c659e[_0x14f240(0x23f)])||_0x3d507e[_0x14f240(0x2a3)]===_0x1c659e[_0x14f240(0x194)]),_0x4f877d=_0x3fcb25?_0x3fcb25[_0x14f240(0x1ea)]:_0x14f240(0x1ca);_0x5a080f['style'][_0x14f240(0x2d8)]=_0x4f877d,_0x5a080f[_0x14f240(0x179)][_0x14f240(0x1f1)]=hexToRgba(_0x4f877d,0.85);let _0x4d0d6b=_0x14f240(0x252)+_0x1c659e[_0x14f240(0x194)]+_0x14f240(0x2cd)+_0x1c659e[_0x14f240(0x1ce)]+_0x14f240(0x280)+_0x1c659e[_0x14f240(0x18e)]+_0x14f240(0x1cf);return _0x1c659e[_0x14f240(0x1c9)]&&(_0x4d0d6b+=_0x14f240(0x1ff)),_0x1c659e[_0x14f240(0x1e1)]===_0x14f240(0x240)&&(_0x4d0d6b+=_0x14f240(0x27f)),_0x5a080f['innerHTML']=_0x4d0d6b,_0x5a080f[_0x14f240(0x1af)]=_0x368997=>{const _0x3fb9e6=_0x14f240;_0x368997[_0x3fb9e6(0x1ed)](),openEdit(_0x1c659e);},_0x5a080f;}function attachLongPressHandler(_0x2c4f33,_0x1e9b27){const _0x1dc144=a2_0xe36e4f;let _0x258ac3=0x0,_0x5afa4a=null;const _0xc88c5b=_0x3360b1=>{const _0x3d5bf8=a2_0x2718;if(_0x3360b1[_0x3d5bf8(0x20e)][_0x3d5bf8(0x225)](_0x3d5bf8(0x1a1)))return;isScrolling=![],_0x258ac3=_0x3360b1[_0x3d5bf8(0x1b1)]?_0x3360b1[_0x3d5bf8(0x1b1)][0x0]['clientY']:_0x3360b1[_0x3d5bf8(0x1d0)],_0x5afa4a=setTimeout(()=>{const _0x342277=_0x3d5bf8;if(!isScrolling){navigator[_0x342277(0x282)]?.(0x32);const _0x72daff=_0x2c4f33['getBoundingClientRect'](),_0x171961=Math['floor']((_0x258ac3-_0x72daff[_0x342277(0x20c)])/GRID_H);_0x1e9b27[_0x342277(0x17e)](_0x171961,0x0),openAddSession(_0x1e9b27);}},0x1f4);},_0x5a25d3=()=>{isScrolling=!![],clearTimeout(_0x5afa4a);},_0x4951be=()=>{clearTimeout(_0x5afa4a);};_0x2c4f33[_0x1dc144(0x1a9)](_0x1dc144(0x1c1),_0xc88c5b,{'passive':!![]}),_0x2c4f33[_0x1dc144(0x1a9)](_0x1dc144(0x2de),_0x5a25d3,{'passive':!![]}),_0x2c4f33[_0x1dc144(0x1a9)](_0x1dc144(0x2e6),_0x4951be),_0x2c4f33[_0x1dc144(0x1a9)]('mousedown',_0xc88c5b),_0x2c4f33[_0x1dc144(0x1a9)]('mousemove',_0x5a25d3),_0x2c4f33[_0x1dc144(0x1a9)](_0x1dc144(0x1a0),_0x4951be);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x25c5b3=a2_0xe36e4f,_0x5ebc29=document['getElementById'](_0x25c5b3(0x22b)),_0x1107dd=_0x5ebc29[_0x25c5b3(0x1fa)],_0x9cc3e7=_0x5ebc29['scrollWidth'],_0xb59fb9=_0x5ebc29[_0x25c5b3(0x231)];if(_0x9cc3e7-(_0x1107dd+_0xb59fb9)<0x12c){const _0xf7872c=endOffset;endOffset+=0xe,renderDayRange(_0xf7872c+0x1,endOffset),reRenderBlocks();}if(_0x1107dd<0x12c){const _0xe67b64=startOffset;startOffset-=0xe,prependDays(startOffset,_0xe67b64-0x1),_0x5ebc29['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x361516,_0x5de754){const _0x333b2b=a2_0xe36e4f,_0x3f8131=document[_0x333b2b(0x27c)](_0x333b2b(0x2df)),_0x521e55=document[_0x333b2b(0x27c)]('gridColumns'),_0x456ff5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x296570=new Date();_0x296570['setHours'](0x0,0x0,0x0,0x0);const _0x223654=getLocalDateStr(new Date()),_0x51347a=document[_0x333b2b(0x1b4)](),_0x5e4e6a=document[_0x333b2b(0x1b4)]();for(let _0x29bcbf=_0x361516;_0x29bcbf<=_0x5de754;_0x29bcbf++){const _0x466241=new Date(_0x296570);_0x466241[_0x333b2b(0x182)](_0x466241[_0x333b2b(0x262)]()+_0x29bcbf);const _0x2366a0=getLocalDateStr(_0x466241);let _0x3247b3=_0x466241[_0x333b2b(0x28f)]()-0x1;if(_0x3247b3===-0x1)_0x3247b3=0x6;const _0x53f4bd=_0x2366a0===_0x223654,_0x20e27a=document[_0x333b2b(0x228)](_0x333b2b(0x19d));_0x20e27a[_0x333b2b(0x289)]=_0x333b2b(0x1dd)+(_0x53f4bd?'today':''),_0x20e27a['id']='header-'+_0x2366a0,_0x20e27a[_0x333b2b(0x19f)](_0x333b2b(0x192),_0x2366a0),_0x20e27a[_0x333b2b(0x294)]=_0x333b2b(0x2f0)+_0x456ff5[_0x3247b3]+_0x333b2b(0x1eb)+_0x466241[_0x333b2b(0x262)]()+_0x333b2b(0x1d8)+_0x2366a0+_0x333b2b(0x2c5),_0x20e27a[_0x333b2b(0x1af)]=()=>openDayOptions(_0x2366a0,_0x456ff5[_0x3247b3]+'\x20'+_0x466241['getDate']()),_0x51347a[_0x333b2b(0x181)](_0x20e27a);const _0x574827=document[_0x333b2b(0x228)](_0x333b2b(0x19d));_0x574827[_0x333b2b(0x289)]='day-column\x20'+(_0x53f4bd?_0x333b2b(0x1bf):''),_0x574827[_0x333b2b(0x19f)](_0x333b2b(0x192),_0x2366a0),_0x574827[_0x333b2b(0x19f)](_0x333b2b(0x1ee),_0x3247b3),renderEventsForColumn(_0x574827,_0x2366a0,_0x3247b3),attachLongPressHandler(_0x574827,_0x466241),_0x5e4e6a[_0x333b2b(0x181)](_0x574827),updateDayStats(_0x2366a0);}_0x3f8131[_0x333b2b(0x1e3)](_0x51347a,_0x3f8131['firstChild']),_0x521e55['insertBefore'](_0x5e4e6a,_0x521e55[_0x333b2b(0x1f2)](_0x333b2b(0x28a)));}function validateAppointment(_0x4f5e94,_0x5bdb21,_0x19e098,_0x1cfb1b,_0x2101cd){const _0x5c9eff=a2_0xe36e4f,[_0xb4dee4,_0x8b6fb]=_0x5bdb21[_0x5c9eff(0x2bf)](':')[_0x5c9eff(0x272)](Number),[_0x970f33,_0x54077c]=_0x19e098['split'](':')['map'](Number),_0x2ed830=_0xb4dee4*0x3c+_0x8b6fb,_0x1427d6=_0x970f33*0x3c+_0x54077c,_0x319b30=String(_0x2101cd);let _0x1b6a2e=![],_0x4ccd7e='';for(let _0xc0b2b8 of sessions){if(_0xc0b2b8[_0x5c9eff(0x1c8)]!==_0x4f5e94)continue;if(_0xc0b2b8['status']==='cancelled')continue;if(_0x1cfb1b&&String(_0xc0b2b8['id'])===String(_0x1cfb1b))continue;const [_0x39b90b,_0x37f40a]=_0xc0b2b8[_0x5c9eff(0x1ce)][_0x5c9eff(0x2bf)](':')[_0x5c9eff(0x272)](Number),[_0x233953,_0x251f24]=_0xc0b2b8['end']['split'](':')[_0x5c9eff(0x272)](Number),_0x40ad0d=_0x39b90b*0x3c+_0x37f40a,_0x13629d=_0x233953*0x3c+_0x251f24;if(Math['max'](_0x2ed830,_0x40ad0d)<Math[_0x5c9eff(0x2d2)](_0x1427d6,_0x13629d)){if(_0xc0b2b8[_0x5c9eff(0x23f)]&&String(_0xc0b2b8[_0x5c9eff(0x23f)])===_0x319b30)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0xc0b2b8[_0x5c9eff(0x194)]+_0x5c9eff(0x26d)};_0x1b6a2e=!![],_0x4ccd7e=_0xc0b2b8['client'];}}if(_0x1b6a2e)return{'valid':!![],'warning':_0x5c9eff(0x1e6)+_0x4ccd7e};return{'valid':!![]};}function updateDateDisplay(){const _0x426e2c=a2_0xe36e4f,_0x429f72=document['getElementById'](_0x426e2c(0x248))[_0x426e2c(0x21e)],_0x80c693=document['getElementById'](_0x426e2c(0x206));if(!_0x429f72){_0x80c693[_0x426e2c(0x221)]='';return;}const [_0x38f51a,_0x12b822,_0x290e98]=_0x429f72[_0x426e2c(0x2bf)]('-')[_0x426e2c(0x272)](Number),_0xd5aef6=new Date(_0x38f51a,_0x12b822-0x1,_0x290e98),_0x2ccfcf={'weekday':_0x426e2c(0x238),'day':'numeric','month':_0x426e2c(0x238),'year':_0x426e2c(0x26a)};let _0xdf1e46=_0xd5aef6[_0x426e2c(0x27e)](_0x426e2c(0x2e0),_0x2ccfcf);_0xdf1e46=_0xdf1e46[_0x426e2c(0x1d5)](0x0)[_0x426e2c(0x25c)]()+_0xdf1e46['slice'](0x1),_0x80c693['textContent']=_0xdf1e46;}function autoSetEndTime(){const _0x37151d=a2_0xe36e4f,_0x46bff3=document[_0x37151d(0x27c)](_0x37151d(0x186))['value'];if(!_0x46bff3)return;const [_0x119d88,_0x2fbff6]=_0x46bff3[_0x37151d(0x2bf)](':')[_0x37151d(0x272)](Number);let _0x57e8cf=_0x119d88+0x1;if(_0x57e8cf>0x17)_0x57e8cf=0x0;const _0x96588f=String(_0x57e8cf)[_0x37151d(0x218)](0x2,'0')+':'+String(_0x2fbff6)[_0x37151d(0x218)](0x2,'0');document[_0x37151d(0x27c)](_0x37151d(0x2eb))[_0x37151d(0x21e)]=_0x96588f;}function populateClientSelect(){const _0x2e60ce=a2_0xe36e4f,_0x5ce3e3=document[_0x2e60ce(0x27c)]('inpClient');_0x5ce3e3['innerHTML']='';if(clients[_0x2e60ce(0x2e1)]===0x0){const _0x37b900=document['createElement']('option');_0x37b900[_0x2e60ce(0x2ad)]=_0x2e60ce(0x23d),_0x5ce3e3['appendChild'](_0x37b900);return;}clients[_0x2e60ce(0x1e7)](_0x50031b=>{const _0x49563d=_0x2e60ce,_0x47c787=document['createElement'](_0x49563d(0x23c));_0x47c787[_0x49563d(0x21e)]=_0x50031b[_0x49563d(0x2a3)],_0x47c787[_0x49563d(0x221)]=_0x50031b[_0x49563d(0x2a3)],_0x5ce3e3['appendChild'](_0x47c787);});}function openActionSheet(_0x2e606b){const _0x7e026=a2_0xe36e4f,_0x23f9f7=document[_0x7e026(0x27c)](_0x7e026(0x2b6)),_0x4b32a2=document[_0x7e026(0x27c)](_0x7e026(0x258)),_0x4f2c88=document[_0x7e026(0x27c)]('asTitle'),_0x585848=document[_0x7e026(0x27c)]('asBtnOne'),_0x3118ca=document['getElementById'](_0x7e026(0x2e7));_0x4b32a2[_0x7e026(0x273)][_0x7e026(0x277)]('active'),_0x23f9f7[_0x7e026(0x273)][_0x7e026(0x277)](_0x7e026(0x2ac));if(_0x2e606b==='save')_0x4f2c88[_0x7e026(0x221)]=_0x7e026(0x1ef),_0x585848['textContent']=_0x7e026(0x1e2),_0x585848[_0x7e026(0x1af)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x3118ca[_0x7e026(0x221)]=_0x7e026(0x1bc),_0x3118ca[_0x7e026(0x1af)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x2e606b===_0x7e026(0x2a0)&&(_0x4f2c88[_0x7e026(0x221)]=_0x7e026(0x2b9),_0x585848[_0x7e026(0x221)]=_0x7e026(0x1e2),_0x585848[_0x7e026(0x289)]=_0x7e026(0x201),_0x585848[_0x7e026(0x1af)]=()=>{const _0x5b38ae=_0x7e026;closeActionSheet(),commitDelete(_0x5b38ae(0x1f5),sessions[_0x5b38ae(0x204)](_0x5081d2=>_0x5081d2['id']===editingId));},_0x3118ca[_0x7e026(0x221)]=_0x7e026(0x1bc),_0x3118ca[_0x7e026(0x289)]=_0x7e026(0x24e),_0x3118ca[_0x7e026(0x1af)]=()=>{const _0x2ba97a=_0x7e026;closeActionSheet(),commitDelete(_0x2ba97a(0x20f),sessions['find'](_0x3e0db8=>_0x3e0db8['id']===editingId));});}function closeActionSheet(){const _0xc8dbd=a2_0xe36e4f;document[_0xc8dbd(0x27c)](_0xc8dbd(0x2b6))[_0xc8dbd(0x273)][_0xc8dbd(0x1d9)](_0xc8dbd(0x2ac)),document[_0xc8dbd(0x27c)]('actionSheetOverlay')['classList']['remove']('active');}function openSettings(){const _0x147c07=a2_0xe36e4f;openSheet(_0x147c07(0x290));}function saveCoachSettings(){const _0xcbb7b9=a2_0xe36e4f,_0x5c8872=document[_0xcbb7b9(0x27c)](_0xcbb7b9(0x202))[_0xcbb7b9(0x21e)];localStorage[_0xcbb7b9(0x18f)](_0xcbb7b9(0x18a),_0x5c8872),console['log'](_0xcbb7b9(0x2e2),_0x5c8872),DataManager[_0xcbb7b9(0x267)](_0xcbb7b9(0x22d),{'settings':{'cancel_window':_0x5c8872}})[_0xcbb7b9(0x255)](_0x20b4aa=>{const _0x303c57=_0xcbb7b9;console[_0x303c57(0x232)](_0x303c57(0x1ec),_0x20b4aa),showToast(_0x303c57(0x2c4),![]);});}function loadCoachSettings(){const _0x1af10b=a2_0xe36e4f,_0x422f6a=localStorage[_0x1af10b(0x1d4)](_0x1af10b(0x18a));_0x422f6a&&(document[_0x1af10b(0x27c)](_0x1af10b(0x202))['value']=_0x422f6a);}function openRangesSheet(){const _0x49ba98=a2_0xe36e4f;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x49ba98(0x2ef));}function addRange(){const _0xf2883f=a2_0xe36e4f,_0x1adec2=document[_0xf2883f(0x27c)](_0xf2883f(0x2a1))[_0xf2883f(0x21e)],_0x469fab=document[_0xf2883f(0x27c)](_0xf2883f(0x1df))[_0xf2883f(0x21e)],_0x5a48ef=document[_0xf2883f(0x27c)]('rangeEndDate')[_0xf2883f(0x21e)],_0x5074a8=document[_0xf2883f(0x27c)]('rangeEndTime')[_0xf2883f(0x21e)];if(!_0x1adec2||!_0x469fab||!_0x5a48ef||!_0x5074a8)return alert(_0xf2883f(0x245));const _0x30dfa6=_0x1adec2+'T'+_0x469fab,_0x52c52d=_0x5a48ef+'T'+_0x5074a8;if(_0x30dfa6>=_0x52c52d)return alert(_0xf2883f(0x2b5));specialRanges[_0xf2883f(0x269)]({'start':_0x30dfa6,'end':_0x52c52d}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0xf2883f(0x1a2)](),DataManager[_0xf2883f(0x267)](_0xf2883f(0x22d),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x492de9){const _0x40d68b=a2_0xe36e4f;specialRanges['splice'](_0x492de9,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x40d68b(0x1a2)](),DataManager[_0x40d68b(0x267)](_0x40d68b(0x22d),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x538bab=a2_0xe36e4f;document[_0x538bab(0x27c)](_0x538bab(0x2a1))[_0x538bab(0x21e)]='',document[_0x538bab(0x27c)](_0x538bab(0x1df))[_0x538bab(0x21e)]=_0x538bab(0x1c5),document[_0x538bab(0x27c)](_0x538bab(0x2c9))['value']='',document[_0x538bab(0x27c)](_0x538bab(0x213))['value']='23:59';}function renderRangesList(){const _0x417fde=a2_0xe36e4f,_0x356874=document[_0x417fde(0x27c)](_0x417fde(0x199));_0x356874[_0x417fde(0x294)]='';if(!specialRanges[_0x417fde(0x2e1)]){_0x356874[_0x417fde(0x294)]=_0x417fde(0x1e9);return;}specialRanges['forEach']((_0x3f5f65,_0x3d4719)=>{const _0x383007=_0x417fde,_0x51b19d=document[_0x383007(0x228)](_0x383007(0x19d));_0x51b19d['className']=_0x383007(0x223);const _0x5cd982=_0x333f46=>{const _0x5c8994=_0x383007,_0x539f10=new Date(_0x333f46);return _0x539f10['getDate']()+'.'+String(_0x539f10[_0x5c8994(0x1fb)]()+0x1)[_0x5c8994(0x218)](0x2,'0')+'\x20'+String(_0x539f10[_0x5c8994(0x2c7)]())[_0x5c8994(0x218)](0x2,'0')+':'+String(_0x539f10['getMinutes']())['padStart'](0x2,'0');};_0x51b19d[_0x383007(0x294)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x5cd982(_0x3f5f65[_0x383007(0x1ce)])+_0x383007(0x28d)+_0x5cd982(_0x3f5f65[_0x383007(0x18e)])+_0x383007(0x2ba)+_0x3d4719+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x356874[_0x383007(0x181)](_0x51b19d);});}function scrollToToday(){const _0x1f746f=a2_0xe36e4f,_0x466fd8=getLocalDateStr(new Date()),_0x2efc56=document['getElementById'](_0x1f746f(0x1b6)+_0x466fd8),_0xc049dd=document[_0x1f746f(0x27c)](_0x1f746f(0x22b));if(_0x2efc56&&_0xc049dd){const _0x3c8f92=_0xc049dd[_0x1f746f(0x231)],_0x61a1ea=_0x2efc56['offsetLeft'],_0x41980c=_0x2efc56[_0x1f746f(0x2f1)];_0xc049dd[_0x1f746f(0x1fa)]=_0x61a1ea-_0x3c8f92/0x2+_0x41980c/0x2,_0xc049dd[_0x1f746f(0x205)]=0x9*GRID_H;}}function onScroll(){const _0x2182af=a2_0xe36e4f,_0x317a30=document[_0x2182af(0x27c)](_0x2182af(0x22b)),_0x562e56=document[_0x2182af(0x1cc)](_0x2182af(0x224));for(let _0x4ade81 of _0x562e56)if(_0x4ade81[_0x2182af(0x222)]>=_0x317a30[_0x2182af(0x1fa)]){const _0x43e6c6=new Date(_0x4ade81[_0x2182af(0x29a)](_0x2182af(0x192)));document['getElementById'](_0x2182af(0x1f8))[_0x2182af(0x221)]=_0x43e6c6[_0x2182af(0x19b)]('ru',{'month':_0x2182af(0x238)})[_0x2182af(0x25c)]()+'\x20'+_0x43e6c6[_0x2182af(0x19c)]();break;}}function showToast(_0x2aa8f4,_0x458ac9=![]){const _0x2fde51=a2_0xe36e4f,_0xd499ef=document[_0x2fde51(0x27c)]('toast');_0xd499ef[_0x2fde51(0x289)]=_0x2fde51(0x193)+(_0x458ac9?_0x2fde51(0x2ed):''),document[_0x2fde51(0x27c)](_0x2fde51(0x284))[_0x2fde51(0x221)]=_0x458ac9?_0x2fde51(0x19a):_0x2fde51(0x1de),document[_0x2fde51(0x27c)](_0x2fde51(0x2c2))[_0x2fde51(0x221)]=_0x2aa8f4,_0xd499ef[_0x2fde51(0x273)][_0x2fde51(0x277)](_0x2fde51(0x1ab)),setTimeout(()=>{const _0x5885ac=_0x2fde51;_0xd499ef[_0x5885ac(0x273)][_0x5885ac(0x1d9)](_0x5885ac(0x1ab));},0xbb8);}function openDayOptions(_0x2afd9d,_0x3a449d){const _0x284b44=a2_0xe36e4f;selectedDayForOptions=_0x2afd9d,document[_0x284b44(0x27c)](_0x284b44(0x1b2))[_0x284b44(0x221)]=_0x3a449d,openSheet(_0x284b44(0x24c));}function toggleDayOff(){const _0x93159b=a2_0xe36e4f;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x93159b(0x1a2)](),DataManager['fetchFromServer'](_0x93159b(0x22d),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3e801d=a2_0xe36e4f;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x3e801d(0x1a2)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x2d1ccc){const _0x55c968=a2_0xe36e4f;document[_0x55c968(0x27c)]('overlay')[_0x55c968(0x273)][_0x55c968(0x277)](_0x55c968(0x25e)),document[_0x55c968(0x27c)](_0x2d1ccc)[_0x55c968(0x273)][_0x55c968(0x277)](_0x55c968(0x2ac));}function closeAllSheets(){const _0x271ee4=a2_0xe36e4f;document[_0x271ee4(0x27c)](_0x271ee4(0x2cf))[_0x271ee4(0x273)][_0x271ee4(0x1d9)](_0x271ee4(0x25e)),document[_0x271ee4(0x1cc)](_0x271ee4(0x1cb))['forEach'](_0x375ecf=>_0x375ecf[_0x271ee4(0x273)]['remove'](_0x271ee4(0x2ac)));}function openPatternEditor(){const _0x441b37=a2_0xe36e4f;closeAllSheets(),document[_0x441b37(0x27c)]('patternEditor')['classList'][_0x441b37(0x277)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x1d44fc=a2_0xe36e4f;document[_0x1d44fc(0x27c)](_0x1d44fc(0x2ec))[_0x1d44fc(0x273)][_0x1d44fc(0x1d9)]('open');}function savePattern(){const _0x3475ca=a2_0xe36e4f;document['getElementById']('patternEditor')[_0x3475ca(0x273)][_0x3475ca(0x1d9)](_0x3475ca(0x2ac)),reRenderBlocks(),DataManager[_0x3475ca(0x1a2)](),DataManager[_0x3475ca(0x267)](_0x3475ca(0x22d),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x282fae=a2_0xe36e4f,_0x3bb8c6=document[_0x282fae(0x27c)]('peGrid');_0x3bb8c6[_0x282fae(0x294)]='';const _0x290da8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x398906=document[_0x282fae(0x228)](_0x282fae(0x19d));_0x398906['className']=_0x282fae(0x1c2),_0x3bb8c6[_0x282fae(0x181)](_0x398906),_0x290da8[_0x282fae(0x1e7)]((_0x54348c,_0x26b892)=>{const _0x1e784b=_0x282fae,_0x34e2ac=document[_0x1e784b(0x228)](_0x1e784b(0x19d));_0x34e2ac[_0x1e784b(0x289)]=_0x1e784b(0x27b),_0x34e2ac['innerHTML']=_0x54348c+_0x1e784b(0x261),_0x34e2ac[_0x1e784b(0x1af)]=()=>toggleColPattern(_0x26b892),_0x3bb8c6[_0x1e784b(0x181)](_0x34e2ac);});for(let _0x1bc80d=0x0;_0x1bc80d<0x18;_0x1bc80d++){const _0x344c0d=document[_0x282fae(0x228)]('div');_0x344c0d[_0x282fae(0x289)]=_0x282fae(0x1f7),_0x344c0d['innerHTML']='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x1bc80d)[_0x282fae(0x218)](0x2,'0')+_0x282fae(0x1c4),_0x344c0d[_0x282fae(0x1af)]=()=>toggleRowPattern(_0x1bc80d),_0x3bb8c6['appendChild'](_0x344c0d);for(let _0x380661=0x0;_0x380661<0x7;_0x380661++){const _0x2e690c=document[_0x282fae(0x228)](_0x282fae(0x19d)),_0x2722cf=(availabilityPattern[_0x380661]||[])['includes'](_0x1bc80d),_0x44c6d7=!_0x2722cf;_0x2e690c['className']=_0x282fae(0x21f)+(_0x44c6d7?_0x282fae(0x25e):''),_0x2e690c['onclick']=()=>toggleSinglePattern(_0x380661,_0x1bc80d),_0x3bb8c6[_0x282fae(0x181)](_0x2e690c);}}}function toggleSinglePattern(_0x12a529,_0x3128db){const _0x272b1b=a2_0xe36e4f;if(!availabilityPattern[_0x12a529])availabilityPattern[_0x12a529]=[];const _0x15cfeb=availabilityPattern[_0x12a529],_0x1ed38c=_0x15cfeb[_0x272b1b(0x279)](_0x3128db);_0x1ed38c===-0x1?_0x15cfeb[_0x272b1b(0x269)](_0x3128db):_0x15cfeb['splice'](_0x1ed38c,0x1),renderPatternEditor();}function toggleColPattern(_0x2a7292){const _0x4fe96a=a2_0xe36e4f;if(!availabilityPattern[_0x2a7292])availabilityPattern[_0x2a7292]=[];const _0x634b2c=availabilityPattern[_0x2a7292];_0x634b2c[_0x4fe96a(0x2e1)]===0x0?availabilityPattern[_0x2a7292]=Array[_0x4fe96a(0x1e8)]({'length':0x18},(_0x3a8dcc,_0x402f8d)=>_0x402f8d):availabilityPattern[_0x2a7292]=[],renderPatternEditor();}function toggleRowPattern(_0x1fc768){const _0x584248=a2_0xe36e4f;let _0x18649e=!![];for(let _0x47126c=0x0;_0x47126c<0x7;_0x47126c++){if((availabilityPattern[_0x47126c]||[])['includes'](_0x1fc768)){_0x18649e=![];break;}}for(let _0x4ae138=0x0;_0x4ae138<0x7;_0x4ae138++){if(!availabilityPattern[_0x4ae138])availabilityPattern[_0x4ae138]=[];const _0x5b16bb=availabilityPattern[_0x4ae138][_0x584248(0x279)](_0x1fc768);if(_0x18649e){if(_0x5b16bb===-0x1)availabilityPattern[_0x4ae138]['push'](_0x1fc768);}else{if(_0x5b16bb!==-0x1)availabilityPattern[_0x4ae138]['splice'](_0x5b16bb,0x1);}}renderPatternEditor();}function renderPCol(_0x23c4f4,_0x1730f8){const _0x323c99=a2_0xe36e4f;_0x23c4f4[_0x323c99(0x294)]='';const _0x3d0fb6=Math[_0x323c99(0x217)](_0x23c4f4[_0x323c99(0x222)]);(availabilityPattern[_0x1730f8]||[])[_0x323c99(0x1e7)](_0x2fdca7=>{const _0x293bc8=_0x323c99,_0x40b1f7=document[_0x293bc8(0x228)](_0x293bc8(0x19d));_0x40b1f7[_0x293bc8(0x289)]=_0x293bc8(0x2d4);const _0x38c9be=_0x2fdca7*GRID_H;_0x40b1f7[_0x293bc8(0x179)][_0x293bc8(0x20c)]=_0x38c9be+'px',_0x40b1f7[_0x293bc8(0x179)][_0x293bc8(0x23b)]='-'+_0x3d0fb6+_0x293bc8(0x212)+_0x38c9be+'px',_0x40b1f7[_0x293bc8(0x1af)]=_0x27aabd=>{const _0x3ab2f9=_0x293bc8;_0x27aabd[_0x3ab2f9(0x1ed)](),toggleSinglePattern(_0x1730f8,_0x2fdca7);},_0x23c4f4['appendChild'](_0x40b1f7);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1e0faa=a2_0xe36e4f,_0x5211cd=new Date(),_0x48f86f=document['getElementById'](_0x1e0faa(0x19e)),_0xf4c142=document[_0x1e0faa(0x27c)]('timeLineBadge'),_0x3428af=(_0x5211cd[_0x1e0faa(0x2c7)]()*0x3c+_0x5211cd['getMinutes']())/0x3c*GRID_H;_0x48f86f[_0x1e0faa(0x179)][_0x1e0faa(0x20c)]=_0x3428af+'px',_0x48f86f[_0x1e0faa(0x179)][_0x1e0faa(0x285)]=_0x1e0faa(0x24b),_0xf4c142[_0x1e0faa(0x221)]=String(_0x5211cd[_0x1e0faa(0x2c7)]())[_0x1e0faa(0x218)](0x2,'0')+':'+String(_0x5211cd[_0x1e0faa(0x263)]())[_0x1e0faa(0x218)](0x2,'0'),_0xf4c142[_0x1e0faa(0x179)][_0x1e0faa(0x285)]=_0x1e0faa(0x24b),_0xf4c142[_0x1e0faa(0x179)][_0x1e0faa(0x20c)]=_0x3428af+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x2f9695){const _0x4a5276=a2_0xe36e4f;selectedDayForOptions=_0x2f9695;const _0x201e7b=new Date(_0x2f9695),_0x1949f3={'weekday':_0x4a5276(0x238),'day':_0x4a5276(0x26a),'month':_0x4a5276(0x238),'year':_0x4a5276(0x26a)},_0x2193b9=_0x201e7b[_0x4a5276(0x27e)](_0x4a5276(0x2e0),_0x1949f3);document[_0x4a5276(0x27c)](_0x4a5276(0x295))['textContent']=_0x2193b9[_0x4a5276(0x1d5)](0x0)['toUpperCase']()+_0x2193b9[_0x4a5276(0x2b8)](0x1);let _0x437026=_0x201e7b[_0x4a5276(0x28f)]()-0x1;if(_0x437026===-0x1)_0x437026=0x6;const _0x1421a2=availabilityPattern[_0x437026]||[],_0x3b8874=0x18-_0x1421a2[_0x4a5276(0x2e1)],_0x539033=_0x3b8874*0x3c,_0x4e11bf=sessions[_0x4a5276(0x1d2)](_0x3ea8cc=>_0x3ea8cc[_0x4a5276(0x1c8)]===_0x2f9695&&_0x3ea8cc[_0x4a5276(0x1e1)]!=='cancelled');let _0x824005=_0x4e11bf[_0x4a5276(0x272)](_0x47960c=>{const _0xc2d223=_0x4a5276,[_0x21e03c,_0x10cead]=_0x47960c[_0xc2d223(0x1ce)][_0xc2d223(0x2bf)](':')[_0xc2d223(0x272)](Number),[_0x4e19e6,_0x9c60f9]=_0x47960c[_0xc2d223(0x18e)][_0xc2d223(0x2bf)](':')['map'](Number);return[_0x21e03c*0x3c+_0x10cead,_0x4e19e6*0x3c+_0x9c60f9];});_0x824005[_0x4a5276(0x1f0)]((_0x361e4e,_0x408dae)=>_0x361e4e[0x0]-_0x408dae[0x0]);let _0x2d77a4=[];if(_0x824005[_0x4a5276(0x2e1)]>0x0){let _0x1faee1=_0x824005[0x0];for(let _0xd5a9b5=0x1;_0xd5a9b5<_0x824005['length'];_0xd5a9b5++){_0x824005[_0xd5a9b5][0x0]<_0x1faee1[0x1]?_0x1faee1[0x1]=Math['max'](_0x1faee1[0x1],_0x824005[_0xd5a9b5][0x1]):(_0x2d77a4[_0x4a5276(0x269)](_0x1faee1),_0x1faee1=_0x824005[_0xd5a9b5]);}_0x2d77a4[_0x4a5276(0x269)](_0x1faee1);}let _0x48435c=0x0;_0x2d77a4['forEach'](_0x2162f8=>_0x48435c+=_0x2162f8[0x1]-_0x2162f8[0x0]),document[_0x4a5276(0x27c)](_0x4a5276(0x292))[_0x4a5276(0x221)]=formatMinsToHrs(_0x539033),document[_0x4a5276(0x27c)](_0x4a5276(0x1a4))[_0x4a5276(0x221)]=formatMinsToHrs(_0x48435c);const _0xe58a88=_0x539033>0x0?Math[_0x4a5276(0x217)](_0x48435c/_0x539033*0x64):0x0,_0x48e1ba=document['getElementById']('doLoadPercent');_0x48e1ba[_0x4a5276(0x221)]=_0xe58a88+'%';const _0x5265ea=document['getElementById'](_0x4a5276(0x24d));if(_0xe58a88>0x64)_0x48e1ba['style']['color']=_0x4a5276(0x1b8),_0x5265ea[_0x4a5276(0x179)][_0x4a5276(0x2ae)]=_0x4a5276(0x28c);else _0xe58a88>0x50?(_0x48e1ba[_0x4a5276(0x179)][_0x4a5276(0x1ea)]=_0x4a5276(0x1f6),_0x5265ea[_0x4a5276(0x179)][_0x4a5276(0x2ae)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x48e1ba[_0x4a5276(0x179)][_0x4a5276(0x1ea)]=_0x4a5276(0x268),_0x5265ea[_0x4a5276(0x179)]['borderColor']='rgba(255,255,255,0.05)');const _0xad4257=document[_0x4a5276(0x27c)]('doEventsList');_0xad4257[_0x4a5276(0x294)]='';_0x4e11bf['length']===0x0?_0xad4257['innerHTML']=_0x4a5276(0x250):(_0x4e11bf[_0x4a5276(0x1f0)]((_0x2f8fc3,_0x130f47)=>_0x2f8fc3[_0x4a5276(0x1ce)][_0x4a5276(0x25f)](_0x130f47[_0x4a5276(0x1ce)])),_0x4e11bf[_0x4a5276(0x1e7)](_0xc74a2e=>{const _0x2ffd83=_0x4a5276,_0x39b3f5=clients[_0x2ffd83(0x204)](_0x380923=>_0x380923[_0x2ffd83(0x2a3)]===_0xc74a2e['client']),_0x34b30e=_0x39b3f5?_0x39b3f5['color']:_0x2ffd83(0x2c6),_0xd746fa=_0xc74a2e[_0x2ffd83(0x1e1)]===_0x2ffd83(0x240),_0x543a7c=_0xd746fa?_0x2ffd83(0x17b):'',_0x56a84d=document['createElement'](_0x2ffd83(0x19d));_0x56a84d[_0x2ffd83(0x289)]=_0x2ffd83(0x208),_0x56a84d[_0x2ffd83(0x179)][_0x2ffd83(0x2d8)]=_0x34b30e,_0x56a84d[_0x2ffd83(0x294)]=_0x2ffd83(0x242)+_0xc74a2e[_0x2ffd83(0x1ce)]+_0x2ffd83(0x280)+_0xc74a2e[_0x2ffd83(0x18e)]+_0x2ffd83(0x266)+_0xc74a2e[_0x2ffd83(0x194)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x543a7c+_0x2ffd83(0x244),_0xad4257['appendChild'](_0x56a84d);}));const _0x240ea0=document[_0x4a5276(0x27c)](_0x4a5276(0x22f)),_0x50c9fd=dateExceptions[_0x2f9695]===_0x4a5276(0x24a);_0x50c9fd?(_0x240ea0[_0x4a5276(0x221)]=_0x4a5276(0x256),_0x240ea0[_0x4a5276(0x289)]=_0x4a5276(0x251),_0x240ea0[_0x4a5276(0x179)][_0x4a5276(0x1ea)]='var(--acc-green)',_0x240ea0['style'][_0x4a5276(0x2f2)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x240ea0[_0x4a5276(0x221)]=_0x4a5276(0x1dc),_0x240ea0[_0x4a5276(0x289)]=_0x4a5276(0x180),_0x240ea0[_0x4a5276(0x179)]['color']='var(--acc-red)',_0x240ea0[_0x4a5276(0x179)][_0x4a5276(0x2f2)]=_0x4a5276(0x21b)),openSheet('dayOptionsSheet');}function a2_0x168d(){const _0x45dd08=['<b>‚úÖ\x20','toastTitle','display','guest','log','sheetTitle','className','.day-column','inpNote','rgba(255,\x2069,\x2058,\x200.3)','\x20‚Äî\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','getDay','settingsSheet','flex','doWorkHours',']\x20Failed:','innerHTML','doDateHeader','314880AjTjJl','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','scroll','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','getAttribute','initDataUnsafe','anCustomDates','client-stat-card','inpRecurring','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','delete','rangeStartDate','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','name','settings','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','\x20status-completed','40KsUAqn','toFixed','2199540lagJYZ','setHeaderColor','43741kiIqKo','open','text','borderColor','null','2393398vePfRX','Unknown','zIndex','2571020hnimqF','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','actionSheet','</span>\x20/\x20','slice','–£–¥–∞–ª–µ–Ω–∏–µ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','patternInfoBox','[Notify]\x20Attempting\x20to\x20send:','mini','time-label','split','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','calc(','toastMessage','apply','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','#fff','getHours','day-off-overlay\x20stripe-bg','rangeEndDate','init_load','anTotalStats','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','</div><div\x20class=\x22ev-time\x22>','10px\x2010px\x200\x200','overlay','batch_sync','.day-off-overlay','min','ranges','blocked-slot\x20stripe-bg','[Series]\x20Skipped\x20','var(--acc-current)','update','borderLeftColor','event-card','stringify','analyticsList','cancelled','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','touchmove','daysHeaderTrack','ru-RU','length','[Settings]\x20Cancel\x20window\x20set\x20to:','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','84POXCOb','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','touchend','asBtnSeries','timeLineBadge','valid','11VKJcto','inpEnd','patternEditor','success','setBackgroundColor','rangesSheet','<div\x20class=\x22dch-day\x22>','offsetWidth','background','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','uc_sessions_v9','style','msg','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','anPercent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','setHours','getText','btn-primary\x20btn-danger','appendChild','setDate','...','mergeServerData','28004OLwyww','inpStart','syncBatch','json','total','uc_settings_cancel_window','(((.+)+)+)+$','analyticsSheet','borderRadius','end','setItem','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','100%','data-date','toast-notification\x20','client','toString','anDonutCircle','63819hdxNze','blocked-range-part\x20stripe-bg','rangesList','–£—Å–ø–µ—à–Ω–æ','toLocaleString','getFullYear','div','globalTimeLine','setAttribute','mouseup','.event-card','saveLocally','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','doBusyHours','startsWith','[Notify]\x20Client\x20SWAP\x20detected','now','warning','addEventListener','10px','show','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','inpClient','location','onclick','send','touches','dayOptionsTitle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','createDocumentFragment','cancel','header-','week','var(--acc-red)','[Notify]\x20Network\x20Failed','clients','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','today','width','touchstart','pe-corner','note',':00','00:00','<span>','recurringOptionContainer','dateStr','seriesId','#0a84ff','.sheet','querySelectorAll','disableVerticalSwipes','start','</div>','clientY','[API\x20','filter','stat-','getItem','charAt','then','</b>\x0a\x0a','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','remove','exceptions','pattern','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','day-col-header\x20','–ò–Ω—Ñ–æ','rangeStartTime','calendar','status','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','insertBefore','Error\x20setting\x20back\x20button:','planned','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','forEach','from','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','color','</div><div\x20class=\x22dch-num\x22>','Save\x20settings\x20error:','stopPropagation','data-day-idx','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','sort','backgroundColor','querySelector','height','[Sync]\x20Loading\x20','single','var(--acc-orange)','pe-time-label','headerMonth','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','scrollLeft','getMonth','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','checked','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','complete','as-button\x20danger','settingCancelWindow','colIndex','find','scrollTop','sheetDateSubtitle','Local\x20Load\x20Error','de-item','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','#050505','left','top','expand','target','series','data','parse','px\x20-','rangeEndTime','anEnd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','search','round','padStart','sessionSheet','send_notification','rgba(255,\x2069,\x2058,\x200.15)','btnDelete',':\x20Client\x20already\x20booked','value','pe-cell\x20','onClick','textContent','offsetLeft','range-item','.day-col-header','closest','undefined','\x20days','createElement','px\x200px','rgba(','matrixViewport','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','save_settings','T23:59:59','btnDayToggle','BackButton','clientWidth','error','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sid','done','user','uc_settings_v9','long','POST','none','backgroundPosition','option','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','all','clientId','completed','btn-status-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è',':00</span>','cancel_window','inpDate','inpSeriesCount','off','block','dayOptionsSheet','statLoadCard','as-button\x20danger\x20bold','WebApp','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','btn-primary\x20btn-secondary','<div\x20class=\x22ev-title\x22>','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','catch','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rgba(100,100,100,0.5)','actionSheetOverlay','findIndex','ready','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','toUpperCase','4TGmMcH','active','localeCompare','getTime','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getDate','getMinutes','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','floor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fetchFromServer','var(--acc-green)','push','numeric','create','seriesCountContainer',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','.period-switch\x20.p-btn','btn-status-toggle\x20undo-mode','btnStatusToggle','anStart','map','classList','Critical\x20TMA\x20Error:','Telegram','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','add','[Notify]\x20Error:\x20Text\x20generation\x20failed','indexOf','Batch\x20Sync\x20OK','pe-col-header','getElementById','[Notify]\x20Detected\x20Client\x20ID:','toLocaleDateString','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','\x20-\x20','max','vibrate'];a2_0x168d=function(){return _0x45dd08;};return a2_0x168d();}let currentAnPeriod=a2_0xe36e4f(0x1b7);function openAnalytics(){const _0x341799=a2_0xe36e4f,_0x4746f7=document[_0x341799(0x1f2)](_0x341799(0x26e));setAnalyticsPeriod(_0x341799(0x1b7),_0x4746f7),closeAllSheets(),openSheet(_0x341799(0x18c));}function setAnalyticsPeriod(_0x2d091d,_0x5e0072){const _0x4d7a98=a2_0xe36e4f;currentAnPeriod=_0x2d091d,document[_0x4d7a98(0x1cc)](_0x4d7a98(0x26e))['forEach'](_0x5527c5=>_0x5527c5[_0x4d7a98(0x273)][_0x4d7a98(0x1d9)](_0x4d7a98(0x25e)));if(_0x5e0072)_0x5e0072[_0x4d7a98(0x273)][_0x4d7a98(0x277)](_0x4d7a98(0x25e));const _0x6ab199=document[_0x4d7a98(0x27c)](_0x4d7a98(0x29c));_0x6ab199[_0x4d7a98(0x179)][_0x4d7a98(0x285)]=_0x2d091d==='custom'?_0x4d7a98(0x291):_0x4d7a98(0x23a);const _0x16cf0c=new Date();let _0x1b7fc8=new Date(),_0x4a81b6=new Date();if(_0x2d091d===_0x4d7a98(0x1b7))_0x1b7fc8=getStartOfWeek(_0x16cf0c),_0x4a81b6=new Date(_0x1b7fc8),_0x4a81b6[_0x4d7a98(0x182)](_0x4a81b6[_0x4d7a98(0x262)]()+0x6);else{if(_0x2d091d==='month')_0x1b7fc8=new Date(_0x16cf0c[_0x4d7a98(0x19c)](),_0x16cf0c[_0x4d7a98(0x1fb)](),0x1),_0x4a81b6=new Date(_0x16cf0c[_0x4d7a98(0x19c)](),_0x16cf0c['getMonth']()+0x1,0x0);else{!document[_0x4d7a98(0x27c)](_0x4d7a98(0x271))[_0x4d7a98(0x21e)]&&(document[_0x4d7a98(0x27c)]('anStart')['value']=getLocalDateStr(_0x16cf0c),document['getElementById'](_0x4d7a98(0x214))[_0x4d7a98(0x21e)]=getLocalDateStr(_0x16cf0c));refreshAnalytics();return;}}document[_0x4d7a98(0x27c)](_0x4d7a98(0x271))[_0x4d7a98(0x21e)]=getLocalDateStr(_0x1b7fc8),document[_0x4d7a98(0x27c)](_0x4d7a98(0x214))[_0x4d7a98(0x21e)]=getLocalDateStr(_0x4a81b6),refreshAnalytics();}function refreshAnalytics(){const _0xf6b9b9=a2_0xe36e4f,_0x3ffd05=document[_0xf6b9b9(0x27c)](_0xf6b9b9(0x271))[_0xf6b9b9(0x21e)],_0x230987=document['getElementById'](_0xf6b9b9(0x214))[_0xf6b9b9(0x21e)];if(!_0x3ffd05||!_0x230987)return;const _0x2daac0=sessions[_0xf6b9b9(0x1d2)](_0xdb1c6f=>_0xdb1c6f['dateStr']>=_0x3ffd05&&_0xdb1c6f[_0xf6b9b9(0x1c8)]<=_0x230987&&_0xdb1c6f[_0xf6b9b9(0x1e1)]!==_0xf6b9b9(0x2dc)),_0x64a89a=_0x2daac0[_0xf6b9b9(0x2e1)],_0x2b648d=_0x2daac0[_0xf6b9b9(0x1d2)](_0x5e0bcb=>_0x5e0bcb['status']===_0xf6b9b9(0x240))['length'],_0x4f1ab0=_0x64a89a>0x0?Math['round'](_0x2b648d/_0x64a89a*0x64):0x0;document['getElementById'](_0xf6b9b9(0x17c))['textContent']=_0x4f1ab0+'%',document[_0xf6b9b9(0x27c)](_0xf6b9b9(0x2cb))[_0xf6b9b9(0x221)]=_0x2b648d+'\x20–∏–∑\x20'+_0x64a89a+_0xf6b9b9(0x2a2);const _0x3f57c8=document[_0xf6b9b9(0x27c)](_0xf6b9b9(0x196)),_0x1c8d33=0x2*Math['PI']*0x23,_0x1181bd=_0x1c8d33-_0x4f1ab0/0x64*_0x1c8d33;_0x3f57c8[_0xf6b9b9(0x179)]['strokeDashoffset']=_0x1181bd;const _0x53d6eb={};_0x2daac0[_0xf6b9b9(0x1e7)](_0x39e384=>{const _0x4f1cfa=_0xf6b9b9;if(!_0x53d6eb[_0x39e384[_0x4f1cfa(0x194)]]){const _0x5f0117=clients[_0x4f1cfa(0x204)](_0x3fd57b=>_0x3fd57b[_0x4f1cfa(0x2a3)]===_0x39e384[_0x4f1cfa(0x194)]);_0x53d6eb[_0x39e384[_0x4f1cfa(0x194)]]={'total':0x0,'done':0x0,'color':_0x5f0117?_0x5f0117[_0x4f1cfa(0x1ea)]:'#fff'};}_0x53d6eb[_0x39e384[_0x4f1cfa(0x194)]]['total']++;if(_0x39e384[_0x4f1cfa(0x1e1)]===_0x4f1cfa(0x240))_0x53d6eb[_0x39e384[_0x4f1cfa(0x194)]][_0x4f1cfa(0x235)]++;});const _0x31f6fa=document[_0xf6b9b9(0x27c)](_0xf6b9b9(0x2db));_0x31f6fa[_0xf6b9b9(0x294)]='';const _0x439f6a=Object['entries'](_0x53d6eb)[_0xf6b9b9(0x1f0)]((_0x5ce27c,_0x14d0fe)=>_0x14d0fe[0x1][_0xf6b9b9(0x189)]-_0x5ce27c[0x1][_0xf6b9b9(0x189)]);if(_0x439f6a[_0xf6b9b9(0x2e1)]===0x0){_0x31f6fa[_0xf6b9b9(0x294)]=_0xf6b9b9(0x190);return;}_0x439f6a[_0xf6b9b9(0x1e7)](([_0x15ad5,_0x43b782])=>{const _0x35447d=_0xf6b9b9,_0x4d86b2=Math[_0x35447d(0x217)](_0x43b782['done']/_0x43b782[_0x35447d(0x189)]*0x64),_0x3488dc=document[_0x35447d(0x228)](_0x35447d(0x19d));_0x3488dc[_0x35447d(0x289)]=_0x35447d(0x29d),_0x3488dc['style'][_0x35447d(0x2d8)]=_0x43b782['color'],_0x3488dc[_0x35447d(0x294)]=_0x35447d(0x215)+_0x15ad5+_0x35447d(0x2c0)+_0x43b782[_0x35447d(0x235)]+_0x35447d(0x2b7)+_0x43b782['total']+_0x35447d(0x17d)+_0x4d86b2+_0x35447d(0x233),_0x31f6fa[_0x35447d(0x181)](_0x3488dc);});}function formatMinsToHrs(_0x7db370){const _0xea7763=a2_0xe36e4f;if(_0x7db370===0x0)return'0';const _0x4804fc=Math[_0xea7763(0x265)](_0x7db370/0x3c),_0x24a08a=_0x7db370%0x3c;if(_0x24a08a===0x0)return _0x4804fc+'—á';return _0x4804fc+'—á\x20'+_0x24a08a+'–º';}