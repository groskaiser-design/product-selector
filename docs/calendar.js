const a2_0x2152d2=a2_0x5de4;(function(_0x4c3377,_0x2b3819){const _0x6fbc72=a2_0x5de4,_0x2d927c=_0x4c3377();while(!![]){try{const _0x3342b7=parseInt(_0x6fbc72(0x28e))/0x1+parseInt(_0x6fbc72(0x14d))/0x2+-parseInt(_0x6fbc72(0x165))/0x3+-parseInt(_0x6fbc72(0x1ab))/0x4+-parseInt(_0x6fbc72(0x232))/0x5*(parseInt(_0x6fbc72(0x27c))/0x6)+-parseInt(_0x6fbc72(0x142))/0x7+-parseInt(_0x6fbc72(0x250))/0x8*(-parseInt(_0x6fbc72(0x182))/0x9);if(_0x3342b7===_0x2b3819)break;else _0x2d927c['push'](_0x2d927c['shift']());}catch(_0x462e87){_0x2d927c['push'](_0x2d927c['shift']());}}}(a2_0x4243,0x274f5),function initTMA(){const _0x203470=a2_0x5de4,_0x2a0bab=(function(){let _0x3652e1=!![];return function(_0x38c675,_0x44a9a3){const _0x4adf82=_0x3652e1?function(){const _0x57e8eb=a2_0x5de4;if(_0x44a9a3){const _0x30167f=_0x44a9a3[_0x57e8eb(0x1e7)](_0x38c675,arguments);return _0x44a9a3=null,_0x30167f;}}:function(){};return _0x3652e1=![],_0x4adf82;};}()),_0x5943f0=_0x2a0bab(this,function(){const _0x4ca760=a2_0x5de4;return _0x5943f0[_0x4ca760(0x20f)]()[_0x4ca760(0x287)](_0x4ca760(0x143))[_0x4ca760(0x20f)]()[_0x4ca760(0x203)](_0x5943f0)[_0x4ca760(0x287)](_0x4ca760(0x143));});_0x5943f0();try{const _0x44f8e0=window[_0x203470(0x150)]?.[_0x203470(0x17f)];if(!_0x44f8e0)return;_0x44f8e0[_0x203470(0x128)](),_0x44f8e0[_0x203470(0x1fb)]();try{_0x44f8e0['setHeaderColor']('#050505'),_0x44f8e0[_0x203470(0x20e)]&&_0x44f8e0['setBackgroundColor']('#050505');}catch(_0x8dee52){console['log'](_0x203470(0x1af),_0x8dee52);}try{_0x44f8e0[_0x203470(0x228)]&&(_0x44f8e0[_0x203470(0x228)]['show'](),_0x44f8e0['BackButton']['offClick'](),_0x44f8e0[_0x203470(0x228)][_0x203470(0x238)](function(){const _0x365766=_0x203470;window['location'][_0x365766(0x223)]=_0x365766(0x1ca);}));}catch(_0xc27536){console['log']('Error\x20setting\x20back\x20button:',_0xc27536);}try{if(_0x44f8e0[_0x203470(0x1e4)])_0x44f8e0[_0x203470(0x1e4)]();}catch(_0x2b70a8){}}catch(_0x75d40b){console[_0x203470(0x279)](_0x203470(0x257),_0x75d40b);}}());function isAdmin(){const _0x5846c6=a2_0x5de4;try{const _0x47c269=Number(window['Telegram']?.[_0x5846c6(0x17f)]?.['initDataUnsafe']?.[_0x5846c6(0x1ff)]?.['id']);return _0x47c269===0xbaf7174;}catch(_0x4cbc63){return![];}}const APP_VERSION=a2_0x2152d2(0x29f),API_URL=a2_0x2152d2(0x1ea),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2152d2(0x275),KEY_SETTINGS=a2_0x2152d2(0x14c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4f42e8=a2_0x2152d2;return window[_0x4f42e8(0x150)]?.[_0x4f42e8(0x17f)]?.['initDataUnsafe']?.['user']?.['id']||_0x4f42e8(0x21f);},'saveLocally'(){const _0x13b04e=a2_0x2152d2;try{localStorage[_0x13b04e(0x190)](KEY_CLIENTS,JSON[_0x13b04e(0x29b)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x13b04e(0x29b)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x526e7b){console['error'](_0x13b04e(0x132),_0x526e7b);}},'loadLocal'(){const _0x362850=a2_0x2152d2;try{const _0x3e95d7=localStorage[_0x362850(0x1f2)](KEY_CLIENTS);if(_0x3e95d7)clients=JSON[_0x362850(0x25f)](_0x3e95d7);const _0x1e2e9c=localStorage[_0x362850(0x1f2)](KEY_SESSIONS);if(_0x1e2e9c)sessions=JSON[_0x362850(0x25f)](_0x1e2e9c);const _0x24fdcb=localStorage[_0x362850(0x1f2)](KEY_SETTINGS);if(_0x24fdcb){const _0x144e0f=JSON[_0x362850(0x25f)](_0x24fdcb);if(_0x144e0f[_0x362850(0x144)])availabilityPattern=_0x144e0f['pattern'];if(_0x144e0f[_0x362850(0x276)])dateExceptions=_0x144e0f[_0x362850(0x276)];if(_0x144e0f[_0x362850(0x23c)])specialRanges=_0x144e0f[_0x362850(0x23c)];}else{for(let _0xb78272=0x0;_0xb78272<0x7;_0xb78272++)availabilityPattern[_0xb78272]=Array[_0x362850(0x1b7)]({'length':0xc},(_0x1a2a75,_0x961300)=>_0x961300+0x9);}}catch(_0x773839){console[_0x362850(0x279)](_0x362850(0x18a),_0x773839);}},async 'fetchFromServer'(_0x3efd05,_0x182e7f={}){const _0x1966dc=a2_0x2152d2,_0x102ba4=window['Telegram']?.['WebApp'],_0x139941={'action':_0x3efd05,'init_data':_0x102ba4?.[_0x1966dc(0x130)]||'',..._0x182e7f};try{const _0x764bbe=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x1966dc(0x136)},'body':JSON[_0x1966dc(0x29b)](_0x139941)}),_0x46b6e5=await _0x764bbe[_0x1966dc(0x1b2)]();if(!_0x46b6e5['ok'])throw new Error(_0x46b6e5['error']||'Server\x20Error');return _0x46b6e5[_0x1966dc(0x273)];}catch(_0x130211){console['error'](_0x1966dc(0x154)+_0x3efd05+_0x1966dc(0x1e6),_0x130211);throw _0x130211;}},async 'syncLoad'(){const _0x4fd695=a2_0x2152d2,_0xe92d0a=new Date(),_0x415f05=_0xe92d0a[_0x4fd695(0x29e)]()+'-'+String(_0xe92d0a[_0x4fd695(0x1a1)]()+0x1)[_0x4fd695(0x135)](0x2,'0'),_0x5c0ced=new Date(_0xe92d0a);_0x5c0ced[_0x4fd695(0x12f)](_0xe92d0a['getMonth']()+0x1);const _0xcd3034=_0x5c0ced[_0x4fd695(0x29e)]()+'-'+String(_0x5c0ced[_0x4fd695(0x1a1)]()+0x1)[_0x4fd695(0x135)](0x2,'0'),_0x1a106c=Date[_0x4fd695(0x13d)]();console[_0x4fd695(0x27a)](_0x4fd695(0x15f)+_0x415f05+',\x20'+_0xcd3034+_0x4fd695(0x19a));try{const [_0x2e44b6,_0x1128a2]=await Promise['all']([this['fetchFromServer'](_0x4fd695(0x224),{'month_str':_0x415f05}),this[_0x4fd695(0x167)](_0x4fd695(0x224),{'month_str':_0xcd3034})]);if(lastUserActionTime>_0x1a106c)return console[_0x4fd695(0x13c)](_0x4fd695(0x27b)),![];return this[_0x4fd695(0x162)](_0x2e44b6,_0x415f05),this[_0x4fd695(0x162)](_0x1128a2,_0xcd3034),this[_0x4fd695(0x138)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2edee0){console['error'](_0x2edee0);throw _0x2edee0;}},'mergeServerData'(_0x2b4710,_0x9e059){const _0x273fbb=a2_0x2152d2;if(!_0x2b4710)return;_0x2b4710[_0x273fbb(0x1c0)]&&Array[_0x273fbb(0x173)](_0x2b4710['clients'])&&(clients=_0x2b4710[_0x273fbb(0x1c0)]);if(_0x2b4710[_0x273fbb(0x1ef)]){if(_0x2b4710[_0x273fbb(0x1ef)]['pattern'])availabilityPattern=_0x2b4710[_0x273fbb(0x1ef)]['pattern'];if(_0x2b4710[_0x273fbb(0x1ef)][_0x273fbb(0x276)])dateExceptions=_0x2b4710[_0x273fbb(0x1ef)]['exceptions'];if(_0x2b4710['settings'][_0x273fbb(0x23c)])specialRanges=_0x2b4710[_0x273fbb(0x1ef)][_0x273fbb(0x23c)];if(_0x2b4710[_0x273fbb(0x1ef)]['cancel_window']){localStorage['setItem'](_0x273fbb(0x1f5),_0x2b4710[_0x273fbb(0x1ef)][_0x273fbb(0x1e9)]);const _0x16492e=document[_0x273fbb(0x1b5)](_0x273fbb(0x141));if(_0x16492e)_0x16492e[_0x273fbb(0x1b1)]=_0x2b4710[_0x273fbb(0x1ef)][_0x273fbb(0x1e9)];}}_0x2b4710[_0x273fbb(0x261)]&&(sessions=sessions[_0x273fbb(0x22a)](_0x480264=>!_0x480264['dateStr']['startsWith'](_0x9e059)),Object['keys'](_0x2b4710[_0x273fbb(0x261)])[_0x273fbb(0x1cb)](_0x3bab26=>{const _0x2fb08a=_0x273fbb,_0x288506=_0x2b4710[_0x2fb08a(0x261)][_0x3bab26];_0x288506['forEach'](_0xd08bd9=>{const _0x1a3439=_0x2fb08a,_0x3df389=clients[_0x1a3439(0x133)](_0x321c58=>String(_0x321c58['id'])===String(_0xd08bd9['c']));sessions[_0x1a3439(0x292)]({'id':_0xd08bd9['i'],'clientId':_0xd08bd9['c'],'client':_0x3df389?_0x3df389['name']:'Unknown','dateStr':_0x9e059+'-'+_0x3bab26[_0x1a3439(0x135)](0x2,'0'),'start':_0xd08bd9['s'],'end':_0xd08bd9['e'],'status':_0xd08bd9['st']||'planned','note':_0xd08bd9['n']||'','seriesId':_0xd08bd9[_0x1a3439(0x212)]||null});});}));},async 'syncBatch'(_0x2a1f0d){const _0x4899c0=a2_0x2152d2,_0x1cc922=[...new Set(_0x2a1f0d)],_0x186548=_0x1cc922['map'](_0x1555b3=>{const _0x46a292=a2_0x5de4,_0x4c188e=sessions[_0x46a292(0x22a)](_0x380644=>_0x380644[_0x46a292(0x129)]===_0x1555b3&&_0x380644[_0x46a292(0x21a)]!==_0x46a292(0x152)),_0x6d0da8=_0x4c188e[_0x46a292(0x1b9)](_0x5ad205=>({'i':_0x5ad205['id'],'c':_0x5ad205[_0x46a292(0x1f1)],'s':_0x5ad205[_0x46a292(0x169)],'e':_0x5ad205[_0x46a292(0x28d)],'st':_0x5ad205['status'],'n':_0x5ad205[_0x46a292(0x241)],'sid':_0x5ad205[_0x46a292(0x16d)]}));return{'date':_0x1555b3,'day_data':_0x6d0da8};});if(_0x186548['length']===0x0)return;console['log'](_0x4899c0(0x196)+_0x186548[_0x4899c0(0x22d)]+_0x4899c0(0x174)),await this['fetchFromServer'](_0x4899c0(0x283),{'changes':_0x186548});}};async function init(){const _0x22d65f=a2_0x2152d2;DataManager[_0x22d65f(0x21b)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x22d65f(0x1b5)](_0x22d65f(0x160))[_0x22d65f(0x299)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x22d65f(0x1d5)]()[_0x22d65f(0x219)](()=>{const _0x57fb52=_0x22d65f;showToast(_0x57fb52(0x1dc),!![]);})[_0x22d65f(0x1a6)](_0x316513=>{const _0xbb0d=_0x22d65f;showToast(_0xbb0d(0x164),![]);});}function generateId(){const _0x21f205=a2_0x2152d2;return Date[_0x21f205(0x13d)]()['toString'](0x24)+Math[_0x21f205(0x23d)]()[_0x21f205(0x20f)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x85ad14=a2_0x2152d2,_0x7f9654=document[_0x85ad14(0x1b5)](_0x85ad14(0x155))['checked'],_0xd4d5ed=document[_0x85ad14(0x1b5)](_0x85ad14(0x245));_0xd4d5ed[_0x85ad14(0x139)]['display']=_0x7f9654?_0x85ad14(0x1f8):_0x85ad14(0x18e);const _0x3e442b=document[_0x85ad14(0x1b5)]('recurringOptionContainer');_0x3e442b[_0x85ad14(0x139)][_0x85ad14(0x17e)]=_0x7f9654?'10px\x2010px\x200\x200':_0x85ad14(0x1ac);}function openAddSession(_0x1a59e1){const _0xdba31b=a2_0x2152d2;editingId=null,populateClientSelect(),document[_0xdba31b(0x1b5)]('sheetTitle')[_0xdba31b(0x1ed)]=_0xdba31b(0x20b),document[_0xdba31b(0x1b5)]('btnDelete')[_0xdba31b(0x139)][_0xdba31b(0x260)]=_0xdba31b(0x18e),document[_0xdba31b(0x1b5)]('btnStatusToggle')[_0xdba31b(0x139)][_0xdba31b(0x260)]=_0xdba31b(0x18e);const _0x497757=document['getElementById'](_0xdba31b(0x256)),_0x223342=document['getElementById'](_0xdba31b(0x245));_0x497757['style'][_0xdba31b(0x260)]=_0xdba31b(0x13b),_0x497757[_0xdba31b(0x139)]['borderRadius']='10px',document[_0xdba31b(0x1b5)](_0xdba31b(0x155))[_0xdba31b(0x15b)]=![],document[_0xdba31b(0x1b5)]('inpSeriesCount')['value']=0x4,_0x223342[_0xdba31b(0x139)]['display']=_0xdba31b(0x18e),document[_0xdba31b(0x1b5)]('inpDate')[_0xdba31b(0x1b1)]=getLocalDateStr(_0x1a59e1),updateDateDisplay();const _0x59c1ed=_0x1a59e1['getHours']();document['getElementById'](_0xdba31b(0x2a0))[_0xdba31b(0x1b1)]=String(_0x59c1ed)[_0xdba31b(0x135)](0x2,'0')+':00',document[_0xdba31b(0x1b5)]('inpEnd')[_0xdba31b(0x1b1)]=String(_0x59c1ed+0x1)[_0xdba31b(0x135)](0x2,'0')+_0xdba31b(0x13a),openSheet(_0xdba31b(0x253));}function openEdit(_0x57544c){const _0x53c0d3=a2_0x2152d2;editingId=_0x57544c['id'],populateClientSelect(),document[_0x53c0d3(0x1b5)]('sheetTitle')[_0x53c0d3(0x1ed)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0x53c0d3(0x1b5)](_0x53c0d3(0x198))[_0x53c0d3(0x139)]['display']='block';const _0x24cab7=document['getElementById'](_0x53c0d3(0x27f));_0x24cab7['style'][_0x53c0d3(0x260)]=_0x53c0d3(0x13b);_0x57544c['status']===_0x53c0d3(0x2a4)?(_0x24cab7[_0x53c0d3(0x14e)]=_0x53c0d3(0x178),_0x24cab7['innerHTML']=_0x53c0d3(0x218)):(_0x24cab7['className']=_0x53c0d3(0x17b),_0x24cab7[_0x53c0d3(0x23e)]=_0x53c0d3(0x15d));const _0x3ee59a=!!_0x57544c[_0x53c0d3(0x16d)];document[_0x53c0d3(0x1b5)](_0x53c0d3(0x256))[_0x53c0d3(0x139)][_0x53c0d3(0x260)]='none',document[_0x53c0d3(0x1b5)](_0x53c0d3(0x245))[_0x53c0d3(0x139)]['display']=_0x53c0d3(0x18e),_0x3ee59a?(document[_0x53c0d3(0x1b5)](_0x53c0d3(0x19e))['style'][_0x53c0d3(0x260)]=_0x53c0d3(0x13b),document['getElementById']('patternInfoBox')['querySelector'](_0x53c0d3(0x206))['textContent']=_0x53c0d3(0x187)):document[_0x53c0d3(0x1b5)](_0x53c0d3(0x19e))[_0x53c0d3(0x139)][_0x53c0d3(0x260)]=_0x53c0d3(0x18e),document[_0x53c0d3(0x1b5)]('inpClient')['value']=_0x57544c[_0x53c0d3(0x26b)],document['getElementById']('inpDate')[_0x53c0d3(0x1b1)]=_0x57544c[_0x53c0d3(0x129)],document[_0x53c0d3(0x1b5)]('inpStart')[_0x53c0d3(0x1b1)]=_0x57544c[_0x53c0d3(0x169)],document[_0x53c0d3(0x1b5)](_0x53c0d3(0x28b))[_0x53c0d3(0x1b1)]=_0x57544c[_0x53c0d3(0x28d)],document[_0x53c0d3(0x1b5)]('inpNote')[_0x53c0d3(0x1b1)]=_0x57544c[_0x53c0d3(0x241)]||'',updateDateDisplay(),openSheet(_0x53c0d3(0x253));}async function trySaveSession(){const _0x49c8f3=a2_0x2152d2,_0x2f28c8=document[_0x49c8f3(0x1b5)](_0x49c8f3(0x1a0))['value'],_0x512332=document[_0x49c8f3(0x1b5)](_0x49c8f3(0x264))['value'],_0x3a07bc=document[_0x49c8f3(0x1b5)]('inpStart')[_0x49c8f3(0x1b1)],_0x5e6a2e=document['getElementById']('inpEnd')[_0x49c8f3(0x1b1)],_0x28439e=document[_0x49c8f3(0x1b5)](_0x49c8f3(0x21d))[_0x49c8f3(0x1b1)],_0x299baf=document[_0x49c8f3(0x1b5)]('inpRecurring')['checked'];let _0x418a91=0x4;if(_0x299baf){const _0x53a0d2=parseInt(document[_0x49c8f3(0x1b5)](_0x49c8f3(0x18d))['value']);if(!_0x53a0d2||_0x53a0d2<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x53a0d2>0x64){showToast(_0x49c8f3(0x1df),![]);return;}_0x418a91=_0x53a0d2;}const _0xd94c0d=clients[_0x49c8f3(0x133)](_0x27c244=>_0x27c244['name']===_0x2f28c8);if(!_0xd94c0d){showToast(_0x49c8f3(0x210),![]);return;}const _0x95757f=validateAppointment(_0x512332,_0x3a07bc,_0x5e6a2e,editingId,_0xd94c0d['id']);if(!_0x95757f['valid']){showToast(_0x95757f[_0x49c8f3(0x19b)],![]);return;}_0x95757f[_0x49c8f3(0x278)]&&showToast(_0x95757f[_0x49c8f3(0x278)],![]);const _0x5be979={'client':_0x2f28c8,'clientId':_0xd94c0d['id'],'start':_0x3a07bc,'end':_0x5e6a2e,'note':_0x28439e,'status':_0x49c8f3(0x1e1)},_0x5f2aeb=editingId?sessions[_0x49c8f3(0x133)](_0x2b6540=>_0x2b6540['id']===editingId):null;if(_0x5f2aeb&&_0x5f2aeb[_0x49c8f3(0x16d)]){tempSessionData={..._0x5be979,'dateStr':_0x512332,'id':editingId,'seriesId':_0x5f2aeb[_0x49c8f3(0x16d)]},openActionSheet('save');return;}let _0x50fa3a=null;if(!editingId)_0x50fa3a=_0x49c8f3(0x2a2);else{if(_0x5f2aeb){if(String(_0x5f2aeb[_0x49c8f3(0x1f1)])!==String(_0xd94c0d['id']))console[_0x49c8f3(0x27a)](_0x49c8f3(0x2a1)),NotificationManager['send'](_0x49c8f3(0x137),_0x5f2aeb),_0x50fa3a=_0x49c8f3(0x2a2);else(_0x5f2aeb['start']!==_0x3a07bc||_0x5f2aeb[_0x49c8f3(0x28d)]!==_0x5e6a2e||_0x5f2aeb['dateStr']!==_0x512332)&&(_0x50fa3a=_0x49c8f3(0x19f));}}if(!editingId&&_0x299baf){createBatchSeries(_0x5be979,_0x512332,_0x418a91),NotificationManager[_0x49c8f3(0x13e)](_0x49c8f3(0x2a2),{..._0x5be979,'dateStr':_0x512332});return;}lastUserActionTime=Date[_0x49c8f3(0x13d)]();const _0x3b5056={..._0x5be979,'dateStr':_0x512332,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3b5056),_0x50fa3a&&NotificationManager[_0x49c8f3(0x13e)](_0x50fa3a,_0x3b5056);}function toggleSessionStatus(){const _0x18bf22=a2_0x2152d2;lastUserActionTime=Date[_0x18bf22(0x13d)]();const _0x1034b4=sessions[_0x18bf22(0x133)](_0xcb9a0=>_0xcb9a0['id']===editingId);if(!_0x1034b4)return;const _0x59facd=_0x1034b4[_0x18bf22(0x21a)]===_0x18bf22(0x2a4)?_0x18bf22(0x1e1):'completed';_0x1034b4[_0x18bf22(0x21a)]=_0x59facd,saveSingleSession(_0x1034b4),_0x59facd===_0x18bf22(0x2a4)&&NotificationManager[_0x18bf22(0x13e)](_0x18bf22(0x1c6),_0x1034b4),showToast(_0x59facd===_0x18bf22(0x2a4)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x18bf22(0x239),!![]);}function validateAppointment(_0x4cb315,_0x343573,_0x28bdf4,_0x5e8ec8,_0x24cce3){const _0x500aa4=a2_0x2152d2,[_0xc15ed2,_0x1a2706]=_0x343573[_0x500aa4(0x293)](':')['map'](Number),[_0x4c14fe,_0x4137f5]=_0x28bdf4[_0x500aa4(0x293)](':')[_0x500aa4(0x1b9)](Number),_0x4ca4a6=_0xc15ed2*0x3c+_0x1a2706,_0x44d9f=_0x4c14fe*0x3c+_0x4137f5,_0x2e7fb6=String(_0x24cce3);let _0x4eabeb=![],_0x3de864='';for(let _0x51fda1 of sessions){if(_0x51fda1[_0x500aa4(0x129)]!==_0x4cb315)continue;if(_0x51fda1[_0x500aa4(0x21a)]===_0x500aa4(0x193))continue;if(_0x5e8ec8&&String(_0x51fda1['id'])===String(_0x5e8ec8))continue;const [_0x1baf1e,_0x1d755f]=_0x51fda1['start'][_0x500aa4(0x293)](':')[_0x500aa4(0x1b9)](Number),[_0xff760,_0x3e098f]=_0x51fda1[_0x500aa4(0x28d)][_0x500aa4(0x293)](':')[_0x500aa4(0x1b9)](Number),_0x353767=_0x1baf1e*0x3c+_0x1d755f,_0x498606=_0xff760*0x3c+_0x3e098f;if(Math['max'](_0x4ca4a6,_0x353767)<Math[_0x500aa4(0x14b)](_0x44d9f,_0x498606)){if(_0x51fda1['clientId']&&String(_0x51fda1[_0x500aa4(0x1f1)])===_0x2e7fb6)return{'valid':![],'msg':_0x500aa4(0x1b0)+_0x51fda1['client']+_0x500aa4(0x24e)};_0x4eabeb=!![],_0x3de864=_0x51fda1[_0x500aa4(0x26b)];}}if(_0x4eabeb)return{'valid':!![],'warning':_0x500aa4(0x1ce)+_0x3de864};return{'valid':!![]};}function saveSingleSession(_0x80cd0f){const _0x35f4f6=a2_0x2152d2;if(editingId){const _0x583956=sessions['findIndex'](_0x4a15d6=>_0x4a15d6['id']===editingId);if(_0x583956!==-0x1)sessions[_0x583956]=_0x80cd0f;}else sessions[_0x35f4f6(0x292)](_0x80cd0f);afterSaveAction([_0x80cd0f[_0x35f4f6(0x129)]]);}function createBatchSeries(_0x4a2485,_0x1d845e,_0xa546f1){const _0x18eb94=a2_0x2152d2,_0x3f545c=generateId(),_0x73cd00=[],_0x228aae=[];let _0x130746=0x0,_0x5a9bde=new Date(_0x1d845e);for(let _0x195785=0x0;_0x195785<_0xa546f1;_0x195785++){const _0x4e97fe=getLocalDateStr(_0x5a9bde),_0x242ad2=validateAppointment(_0x4e97fe,_0x4a2485[_0x18eb94(0x169)],_0x4a2485[_0x18eb94(0x28d)],null,_0x4a2485[_0x18eb94(0x1f1)]);if(!_0x242ad2[_0x18eb94(0x277)])console[_0x18eb94(0x27a)](_0x18eb94(0x1ee)+_0x4e97fe+':\x20Client\x20already\x20booked'),_0x130746++;else{const _0x1953dd={..._0x4a2485,'id':generateId(),'dateStr':_0x4e97fe,'seriesId':_0x3f545c};_0x228aae[_0x18eb94(0x292)](_0x1953dd),_0x73cd00[_0x18eb94(0x292)](_0x4e97fe);}_0x5a9bde[_0x18eb94(0x12e)](_0x5a9bde[_0x18eb94(0x296)]()+0x7);}if(_0x228aae[_0x18eb94(0x22d)]===0x0){showToast(_0x18eb94(0x258),![]);return;}sessions[_0x18eb94(0x292)](..._0x228aae),lastUserActionTime=Date['now']();let _0x165959='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x228aae['length'];_0x130746>0x0&&(_0x165959+=_0x18eb94(0x233)+_0x130746+')'),showToast(_0x165959,!![]),afterSaveAction(_0x73cd00);}function updateSeriesBatch(_0x264f3b,_0x534414){const _0x1ea569=a2_0x2152d2,_0xc9ff2f=[],_0x588f90=_0x534414[_0x1ea569(0x16d)];if(_0x264f3b==='single'){const _0x243e83={..._0x534414,'seriesId':null},_0x20f3ba=sessions[_0x1ea569(0x25e)](_0x257840=>_0x257840['id']===_0x534414['id']);if(_0x20f3ba!==-0x1)sessions[_0x20f3ba]=_0x243e83;_0xc9ff2f[_0x1ea569(0x292)](_0x243e83[_0x1ea569(0x129)]);}else{if(_0x264f3b===_0x1ea569(0x148)){const _0x568b27=_0x534414[_0x1ea569(0x129)];sessions['forEach']((_0x37af47,_0x3901b7)=>{const _0x42695f=_0x1ea569;_0x37af47['seriesId']===_0x588f90&&_0x37af47['dateStr']>=_0x568b27&&(sessions[_0x3901b7]={...sessions[_0x3901b7],'start':_0x534414[_0x42695f(0x169)],'end':_0x534414[_0x42695f(0x28d)],'note':_0x534414[_0x42695f(0x241)],'client':_0x534414[_0x42695f(0x26b)],'clientId':_0x534414[_0x42695f(0x1f1)]},_0xc9ff2f[_0x42695f(0x292)](_0x37af47[_0x42695f(0x129)]));});}}afterSaveAction(_0xc9ff2f);}function tryDeleteSession(){const _0x22ed84=a2_0x2152d2,_0x4da046=sessions[_0x22ed84(0x133)](_0x59a46b=>_0x59a46b['id']===editingId);if(!_0x4da046)return;_0x4da046[_0x22ed84(0x16d)]?openActionSheet('delete'):commitDelete(_0x22ed84(0x2a3),_0x4da046);}function commitDelete(_0x4da138,_0x3f8773){const _0x573327=a2_0x2152d2;lastUserActionTime=Date[_0x573327(0x13d)](),NotificationManager['send'](_0x573327(0x137),_0x3f8773);const _0xc0b283=[];if(_0x4da138==='single')sessions=sessions[_0x573327(0x22a)](_0x174863=>_0x174863['id']!==_0x3f8773['id']),_0xc0b283[_0x573327(0x292)](_0x3f8773[_0x573327(0x129)]);else{if(_0x4da138===_0x573327(0x148)){const _0x4e7011=_0x3f8773['dateStr'],_0x5adaf4=_0x3f8773[_0x573327(0x16d)];sessions['forEach'](_0x34020d=>{const _0x365f8f=_0x573327;_0x34020d[_0x365f8f(0x16d)]===_0x5adaf4&&_0x34020d[_0x365f8f(0x129)]>=_0x4e7011&&_0xc0b283[_0x365f8f(0x292)](_0x34020d[_0x365f8f(0x129)]);}),sessions=sessions[_0x573327(0x22a)](_0x5a930b=>!(_0x5a930b[_0x573327(0x16d)]===_0x5adaf4&&_0x5a930b[_0x573327(0x129)]>=_0x4e7011));}}afterSaveAction(_0xc0b283);}function afterSaveAction(_0x3c2115){const _0x5acaa3=a2_0x2152d2;DataManager[_0x5acaa3(0x138)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x5acaa3(0x199)](_0x3c2115)[_0x5acaa3(0x219)](()=>console[_0x5acaa3(0x27a)](_0x5acaa3(0x1bf)))[_0x5acaa3(0x1a6)](_0x161dc6=>showToast(_0x5acaa3(0x14f),![]));}const NotificationManager={'formatDate'(_0x5a36ec){const _0x15b839=a2_0x2152d2,_0x5191e4=new Date(_0x5a36ec),_0x53533b={'weekday':_0x15b839(0x158),'day':_0x15b839(0x16f),'month':_0x15b839(0x158)};let _0x5a5592=_0x5191e4[_0x15b839(0x235)](_0x15b839(0x267),_0x53533b);return _0x5a5592[_0x15b839(0x25b)](0x0)['toUpperCase']()+_0x5a5592['slice'](0x1);},'getText'(_0x389e61,_0x5916e5){const _0x22dd3b=a2_0x2152d2,_0xfecde8=this[_0x22dd3b(0x1cc)](_0x5916e5[_0x22dd3b(0x129)]);switch(_0x389e61){case _0x22dd3b(0x2a2):return _0x22dd3b(0x1a7)+(_0x22dd3b(0x1bc)+_0xfecde8+'\x0a')+(_0x22dd3b(0x249)+_0x5916e5[_0x22dd3b(0x169)]+_0x22dd3b(0x298)+_0x5916e5[_0x22dd3b(0x28d)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x22dd3b(0x19f):return _0x22dd3b(0x26a)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x5916e5[_0x22dd3b(0x169)]+'\x20‚Äî\x20'+_0x5916e5[_0x22dd3b(0x28d)]+_0x22dd3b(0x131))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0xfecde8);case _0x22dd3b(0x137):return _0x22dd3b(0x244)+(_0x22dd3b(0x149)+_0xfecde8+'\x20('+_0x5916e5[_0x22dd3b(0x169)]+_0x22dd3b(0x19d));case _0x22dd3b(0x1c6):return _0x22dd3b(0x1d7)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x22dd3b(0x1fe);default:return'';}},async 'send'(_0x21b6a3,_0x245993){const _0x248353=a2_0x2152d2;console['log'](_0x248353(0x286),_0x21b6a3,_0x245993);if(!_0x245993){console[_0x248353(0x279)](_0x248353(0x151));return;}const _0x3ff35c=String(_0x245993[_0x248353(0x1f1)]);console[_0x248353(0x27a)](_0x248353(0x254),_0x3ff35c);if(!_0x245993[_0x248353(0x1f1)]||_0x3ff35c===_0x248353(0x294)||_0x3ff35c===_0x248353(0x213)){console[_0x248353(0x279)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x245993['client']){const _0x301ff8=clients['find'](_0x3f5942=>_0x3f5942[_0x248353(0x246)]===_0x245993[_0x248353(0x26b)]);if(_0x301ff8)return console['log'](_0x248353(0x1d4),_0x301ff8['id']),this[_0x248353(0x13e)](_0x21b6a3,{..._0x245993,'clientId':_0x301ff8['id']});}return;}if(_0x3ff35c[_0x248353(0x22d)]<0x5){console[_0x248353(0x13c)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x3ff35c);return;}const _0x795058=this[_0x248353(0x1c7)](_0x21b6a3,_0x245993);if(!_0x795058){console[_0x248353(0x279)](_0x248353(0x166));return;}console['log'](_0x248353(0x295)+_0x3ff35c+_0x248353(0x19a)),DataManager[_0x248353(0x167)](_0x248353(0x170),{'chatId':_0x3ff35c,'text':_0x795058})['then'](_0x26a4ed=>console['log'](_0x248353(0x237),_0x26a4ed))[_0x248353(0x1a6)](_0x3600b4=>console['error'](_0x248353(0x1f9),_0x3600b4));}};function getLocalDateStr(_0x4ab905){const _0x3595e7=a2_0x2152d2,_0x534dab=_0x4ab905['getFullYear'](),_0x11c636=String(_0x4ab905[_0x3595e7(0x1a1)]()+0x1)[_0x3595e7(0x135)](0x2,'0'),_0x329a10=String(_0x4ab905[_0x3595e7(0x296)]())[_0x3595e7(0x135)](0x2,'0');return _0x534dab+'-'+_0x11c636+'-'+_0x329a10;}function getDateStr(_0x45b552){const _0x358451=a2_0x2152d2,_0x393ab7=new Date();return _0x393ab7[_0x358451(0x12e)](_0x393ab7[_0x358451(0x296)]()+_0x45b552),getLocalDateStr(_0x393ab7);}function getStartOfWeek(_0x494b9b){const _0x391dc0=a2_0x2152d2,_0x15c5bb=new Date(_0x494b9b),_0x49b375=_0x15c5bb[_0x391dc0(0x18f)](),_0x3ea015=_0x15c5bb[_0x391dc0(0x296)]()-_0x49b375+(_0x49b375===0x0?-0x6:0x1);return _0x15c5bb['setDate'](_0x3ea015),_0x15c5bb['setHours'](0x0,0x0,0x0,0x0),_0x15c5bb;}function hexToRgba(_0x40e1c4,_0xc69620){const _0x4a9ca3=a2_0x2152d2;if(!_0x40e1c4)return _0x4a9ca3(0x23a);let _0x104e16=0x0,_0x286b7a=0x0,_0x369ded=0x0;if(_0x40e1c4[_0x4a9ca3(0x22d)]===0x4)_0x104e16='0x'+_0x40e1c4[0x1]+_0x40e1c4[0x1],_0x286b7a='0x'+_0x40e1c4[0x2]+_0x40e1c4[0x2],_0x369ded='0x'+_0x40e1c4[0x3]+_0x40e1c4[0x3];else _0x40e1c4[_0x4a9ca3(0x22d)]===0x7&&(_0x104e16='0x'+_0x40e1c4[0x1]+_0x40e1c4[0x2],_0x286b7a='0x'+_0x40e1c4[0x3]+_0x40e1c4[0x4],_0x369ded='0x'+_0x40e1c4[0x5]+_0x40e1c4[0x6]);return _0x4a9ca3(0x209)+ +_0x104e16+',\x20'+ +_0x286b7a+',\x20'+ +_0x369ded+',\x20'+_0xc69620+')';}function renderTimeColumn(){const _0x274d8d=a2_0x2152d2,_0x2ed7cd=document['getElementById'](_0x274d8d(0x1ae)),_0x1f2d90=document[_0x274d8d(0x1b5)](_0x274d8d(0x22b));_0x2ed7cd[_0x274d8d(0x23e)]='',_0x2ed7cd[_0x274d8d(0x17a)](_0x1f2d90);for(let _0xc71b7d=0x0;_0xc71b7d<0x18;_0xc71b7d++){const _0x304663=document[_0x274d8d(0x171)]('div');_0x304663[_0x274d8d(0x14e)]='time-label';if(_0xc71b7d>0x0)_0x304663['innerHTML']=_0x274d8d(0x252)+String(_0xc71b7d)['padStart'](0x2,'0')+':00</span>';_0x2ed7cd[_0x274d8d(0x17a)](_0x304663);}}function renderDayRange(_0xdb7875,_0x3656b7){const _0x4cb8ae=a2_0x2152d2,_0x23bc58=document[_0x4cb8ae(0x1b5)](_0x4cb8ae(0x168)),_0x3be3ca=document[_0x4cb8ae(0x1b5)]('gridColumns'),_0x40a41d=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x585562=new Date();_0x585562['setHours'](0x0,0x0,0x0,0x0);const _0x1ee617=getLocalDateStr(new Date());for(let _0x2d044a=_0xdb7875;_0x2d044a<=_0x3656b7;_0x2d044a++){const _0x223804=new Date(_0x585562);_0x223804[_0x4cb8ae(0x12e)](_0x223804[_0x4cb8ae(0x296)]()+_0x2d044a);const _0x341796=getLocalDateStr(_0x223804);let _0x2e869c=_0x223804[_0x4cb8ae(0x18f)]()-0x1;if(_0x2e869c===-0x1)_0x2e869c=0x6;const _0x2611a0=_0x341796===_0x1ee617,_0x1d3d45=document[_0x4cb8ae(0x171)](_0x4cb8ae(0x177));_0x1d3d45[_0x4cb8ae(0x14e)]=_0x4cb8ae(0x12b)+(_0x2611a0?_0x4cb8ae(0x147):''),_0x1d3d45['id']=_0x4cb8ae(0x1fa)+_0x341796,_0x1d3d45[_0x4cb8ae(0x161)]('data-date',_0x341796),_0x1d3d45['innerHTML']=_0x4cb8ae(0x1a2)+_0x40a41d[_0x2e869c]+'</div><div\x20class=\x22dch-num\x22>'+_0x223804[_0x4cb8ae(0x296)]()+_0x4cb8ae(0x216)+_0x341796+_0x4cb8ae(0x175),_0x1d3d45[_0x4cb8ae(0x1e0)]=()=>openDayOptions(_0x341796,_0x40a41d[_0x2e869c]+'\x20'+_0x223804[_0x4cb8ae(0x296)]()),_0x23bc58['appendChild'](_0x1d3d45);const _0x5e42ba=document[_0x4cb8ae(0x171)](_0x4cb8ae(0x177));_0x5e42ba[_0x4cb8ae(0x14e)]=_0x4cb8ae(0x183)+(_0x2611a0?_0x4cb8ae(0x147):''),_0x5e42ba[_0x4cb8ae(0x161)](_0x4cb8ae(0x215),_0x341796),_0x5e42ba[_0x4cb8ae(0x161)](_0x4cb8ae(0x226),_0x2e869c),renderEventsForColumn(_0x5e42ba,_0x341796,_0x2e869c),attachLongPressHandler(_0x5e42ba,_0x223804),_0x3be3ca[_0x4cb8ae(0x17a)](_0x5e42ba),updateDayStats(_0x341796);}}function reRenderBlocks(){const _0x4db715=a2_0x2152d2;document['querySelectorAll'](_0x4db715(0x289))[_0x4db715(0x1cb)](_0x6d3a33=>{const _0x4b2980=_0x4db715;_0x6d3a33[_0x4b2980(0x17d)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x4b2980(0x1cb)](_0xaf37e7=>_0xaf37e7['remove']());const _0x2a8760=_0x6d3a33[_0x4b2980(0x1f0)](_0x4b2980(0x215)),_0x4e0622=parseInt(_0x6d3a33[_0x4b2980(0x1f0)](_0x4b2980(0x226))),_0x329831=Math[_0x4b2980(0x1a4)](_0x6d3a33['offsetLeft']);(availabilityPattern[_0x4e0622]||[])[_0x4b2980(0x1cb)](_0x55ad70=>{const _0x1512bc=_0x4b2980,_0x335824=document['createElement']('div');_0x335824[_0x1512bc(0x14e)]=_0x1512bc(0x24b);const _0x66ef28=_0x55ad70*GRID_H;_0x335824['style'][_0x1512bc(0x248)]=_0x66ef28+'px',_0x335824['style'][_0x1512bc(0x262)]='-'+_0x329831+'px\x20-'+_0x66ef28+'px',_0x6d3a33[_0x1512bc(0x17a)](_0x335824);});if(specialRanges&&specialRanges[_0x4b2980(0x22d)]>0x0){const _0x242f23=new Date(_0x2a8760+_0x4b2980(0x21e))['getTime'](),_0x3735a9=new Date(_0x2a8760+_0x4b2980(0x12c))['getTime']();specialRanges[_0x4b2980(0x1cb)](_0x1687a0=>{const _0x28fd9c=_0x4b2980,_0x1b9761=new Date(_0x1687a0['start'])['getTime'](),_0x10984a=new Date(_0x1687a0[_0x28fd9c(0x28d)])[_0x28fd9c(0x145)](),_0x2d87e4=Math[_0x28fd9c(0x1aa)](_0x242f23,_0x1b9761),_0x21e5ac=Math[_0x28fd9c(0x14b)](_0x3735a9,_0x10984a);if(_0x2d87e4<_0x21e5ac){if(_0x2d87e4<=_0x242f23&&_0x21e5ac>=_0x3735a9-0xea60){if(!_0x6d3a33[_0x28fd9c(0x229)](_0x28fd9c(0x240))){const _0x28a11c=document[_0x28fd9c(0x171)](_0x28fd9c(0x177));_0x28a11c[_0x28fd9c(0x14e)]=_0x28fd9c(0x20c),_0x28a11c['style'][_0x28fd9c(0x262)]='-'+_0x329831+'px\x200px',_0x6d3a33[_0x28fd9c(0x17a)](_0x28a11c);}}else{const _0x375baa=(_0x2d87e4-_0x242f23)/0x36ee80*GRID_H,_0x267396=(_0x21e5ac-_0x2d87e4)/0x36ee80*GRID_H,_0x1f78a1=document[_0x28fd9c(0x171)](_0x28fd9c(0x177));_0x1f78a1[_0x28fd9c(0x14e)]=_0x28fd9c(0x1e2),_0x1f78a1[_0x28fd9c(0x139)][_0x28fd9c(0x248)]=_0x375baa+'px',_0x1f78a1[_0x28fd9c(0x139)][_0x28fd9c(0x25d)]=_0x267396+'px',_0x1f78a1[_0x28fd9c(0x139)]['backgroundPosition']='-'+_0x329831+_0x28fd9c(0x1e5)+_0x375baa+'px',_0x6d3a33[_0x28fd9c(0x17a)](_0x1f78a1);}}});}if(dateExceptions[_0x2a8760]===_0x4b2980(0x290)){if(!_0x6d3a33['querySelector'](_0x4b2980(0x240))){const _0x47f33a=document['createElement'](_0x4b2980(0x177));_0x47f33a[_0x4b2980(0x14e)]=_0x4b2980(0x20c),_0x47f33a[_0x4b2980(0x139)]['backgroundPosition']='-'+_0x329831+_0x4b2980(0x28c),_0x6d3a33['appendChild'](_0x47f33a);}}renderEventsForColumn(_0x6d3a33,_0x2a8760,_0x4e0622),updateDayStats(_0x2a8760);});}function updateAllDayStats(){const _0x1d8c3f=a2_0x2152d2;document[_0x1d8c3f(0x17d)](_0x1d8c3f(0x207))[_0x1d8c3f(0x1cb)](_0x6c800e=>{const _0x2b4396=_0x1d8c3f;updateDayStats(_0x6c800e[_0x2b4396(0x1f0)](_0x2b4396(0x215)));});}function updateDayStats(_0x22be02){const _0x4cde2f=a2_0x2152d2,_0x8e25a=document[_0x4cde2f(0x1b5)](_0x4cde2f(0x270)+_0x22be02);if(!_0x8e25a)return;const _0x1df4c1=new Date(_0x22be02);let _0x44cff0=_0x1df4c1[_0x4cde2f(0x18f)]()-0x1;if(_0x44cff0===-0x1)_0x44cff0=0x6;if(dateExceptions[_0x22be02]===_0x4cde2f(0x290)){_0x8e25a[_0x4cde2f(0x139)][_0x4cde2f(0x260)]=_0x4cde2f(0x18e);return;}const _0x29fc97=availabilityPattern[_0x44cff0]||[],_0x2fd815=0x18-_0x29fc97[_0x4cde2f(0x22d)],_0x2cdbc6=_0x2fd815*0x3c,_0x20f5f5=sessions[_0x4cde2f(0x22a)](_0x562057=>_0x562057[_0x4cde2f(0x129)]===_0x22be02&&_0x562057['status']!==_0x4cde2f(0x193));if(_0x20f5f5[_0x4cde2f(0x22d)]===0x0){_0x8e25a[_0x4cde2f(0x139)][_0x4cde2f(0x260)]=_0x4cde2f(0x18e);return;}let _0xaf8eff=_0x20f5f5[_0x4cde2f(0x1b9)](_0x959d0c=>{const _0x2aad9=_0x4cde2f,[_0x5c0c2e,_0x491ad3]=_0x959d0c['start']['split'](':')[_0x2aad9(0x1b9)](Number),[_0x127000,_0x509bf7]=_0x959d0c[_0x2aad9(0x28d)]['split'](':')['map'](Number);return[_0x5c0c2e*0x3c+_0x491ad3,_0x127000*0x3c+_0x509bf7];});_0xaf8eff[_0x4cde2f(0x288)]((_0x19b198,_0xed7b60)=>_0x19b198[0x0]-_0xed7b60[0x0]);let _0x15b4bd=[];if(_0xaf8eff[_0x4cde2f(0x22d)]>0x0){let _0x4dda6a=_0xaf8eff[0x0];for(let _0x86367c=0x1;_0x86367c<_0xaf8eff[_0x4cde2f(0x22d)];_0x86367c++){_0xaf8eff[_0x86367c][0x0]<_0x4dda6a[0x1]?_0x4dda6a[0x1]=Math[_0x4cde2f(0x1aa)](_0x4dda6a[0x1],_0xaf8eff[_0x86367c][0x1]):(_0x15b4bd[_0x4cde2f(0x292)](_0x4dda6a),_0x4dda6a=_0xaf8eff[_0x86367c]);}_0x15b4bd[_0x4cde2f(0x292)](_0x4dda6a);}let _0x2c7c4e=0x0;_0x15b4bd['forEach'](_0x10775d=>_0x2c7c4e+=_0x10775d[0x1]-_0x10775d[0x0]),_0x8e25a[_0x4cde2f(0x139)]['display']='flex';const _0x308af5=_0x8e25a[_0x4cde2f(0x229)]('.dch-stats-fill');if(_0x2cdbc6===0x0){_0x308af5[_0x4cde2f(0x139)][_0x4cde2f(0x16c)]='100%',_0x308af5['style']['background']=_0x4cde2f(0x172);return;}const _0x344640=_0x2c7c4e/_0x2cdbc6*0x64;console[_0x4cde2f(0x27a)]('['+_0x22be02+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x2fd815+_0x4cde2f(0x1c2)+_0x2c7c4e+_0x4cde2f(0x243)+_0x344640[_0x4cde2f(0x282)](0x1)+'%'),_0x344640>0x64?(_0x308af5[_0x4cde2f(0x139)]['width']=_0x4cde2f(0x259),_0x308af5[_0x4cde2f(0x139)]['background']=_0x4cde2f(0x172)):(_0x308af5['style'][_0x4cde2f(0x16c)]=_0x344640+'%',_0x308af5[_0x4cde2f(0x139)][_0x4cde2f(0x1a9)]=_0x4cde2f(0x1ba));}function renderEventsForColumn(_0x15fb6a,_0x3ec209,_0x373448){const _0x1d140d=a2_0x2152d2,_0x268d33=sessions['filter'](_0x37f36a=>_0x37f36a[_0x1d140d(0x129)]===_0x3ec209),_0x3d5741=_0x268d33['map'](_0x22d70=>{const _0x13a05a=_0x1d140d,[_0x29654d,_0x4e36e7]=_0x22d70[_0x13a05a(0x169)][_0x13a05a(0x293)](':')['map'](Number),[_0x6950a7,_0x18f9c4]=_0x22d70[_0x13a05a(0x28d)][_0x13a05a(0x293)](':')['map'](Number);return{'data':_0x22d70,'start':_0x29654d*0x3c+_0x4e36e7,'end':_0x6950a7*0x3c+_0x18f9c4,'colIndex':0x0};});_0x3d5741[_0x1d140d(0x288)]((_0xfdd741,_0x5f30aa)=>{const _0x232079=_0x1d140d;if(_0xfdd741['start']!==_0x5f30aa[_0x232079(0x169)])return _0xfdd741['start']-_0x5f30aa[_0x232079(0x169)];return _0x5f30aa[_0x232079(0x28d)]-_0x5f30aa[_0x232079(0x169)]-(_0xfdd741[_0x232079(0x28d)]-_0xfdd741[_0x232079(0x169)]);});const _0x394916=[];_0x3d5741['forEach'](_0x1b88b3=>{const _0x2e5e5b=_0x1d140d;let _0x13a74f=![];for(let _0x23e63e=0x0;_0x23e63e<_0x394916[_0x2e5e5b(0x22d)];_0x23e63e++){const _0x2dd79f=_0x394916[_0x23e63e],_0x10962b=_0x2dd79f[_0x2dd79f[_0x2e5e5b(0x22d)]-0x1];if(_0x1b88b3[_0x2e5e5b(0x169)]>=_0x10962b[_0x2e5e5b(0x28d)]){_0x2dd79f[_0x2e5e5b(0x292)](_0x1b88b3),_0x1b88b3[_0x2e5e5b(0x230)]=_0x23e63e,_0x13a74f=!![];break;}}!_0x13a74f&&(_0x394916[_0x2e5e5b(0x292)]([_0x1b88b3]),_0x1b88b3[_0x2e5e5b(0x230)]=_0x394916[_0x2e5e5b(0x22d)]-0x1);}),_0x3d5741[_0x1d140d(0x1cb)](_0x43fac5=>{const _0x39f141=_0x1d140d;let _0x5d5eb9=0x0;_0x3d5741['forEach'](_0x13c1b4=>{const _0x1eedf7=a2_0x5de4;if(Math[_0x1eedf7(0x1aa)](_0x43fac5[_0x1eedf7(0x169)],_0x13c1b4[_0x1eedf7(0x169)])<Math[_0x1eedf7(0x14b)](_0x43fac5[_0x1eedf7(0x28d)],_0x13c1b4[_0x1eedf7(0x28d)])){if(_0x13c1b4[_0x1eedf7(0x230)]>_0x5d5eb9)_0x5d5eb9=_0x13c1b4[_0x1eedf7(0x230)];}});const _0x4e4c73=_0x5d5eb9+0x1,_0x5dcc30=0x64/_0x4e4c73,_0x35a54e=_0x43fac5[_0x39f141(0x230)]*_0x5dcc30,_0xece7bc=createEventEl(_0x43fac5['data']);_0xece7bc[_0x39f141(0x139)]['width']=_0x39f141(0x1cd)+_0x5dcc30+_0x39f141(0x1b6),_0xece7bc[_0x39f141(0x139)]['left']=_0x39f141(0x1cd)+_0x35a54e+_0x39f141(0x1e8),_0xece7bc['style']['zIndex']=0xa+_0x43fac5[_0x39f141(0x230)],_0x5dcc30<0x55&&_0xece7bc[_0x39f141(0x231)][_0x39f141(0x19c)](_0x39f141(0x1cf)),_0x15fb6a[_0x39f141(0x17a)](_0xece7bc);});}function createEventEl(_0xdb6d1f){const _0x5a6bd0=a2_0x2152d2,[_0x4ec4e6,_0x30997b]=_0xdb6d1f['start'][_0x5a6bd0(0x293)](':')[_0x5a6bd0(0x1b9)](Number),[_0x22558b,_0x54c23b]=_0xdb6d1f[_0x5a6bd0(0x28d)][_0x5a6bd0(0x293)](':')['map'](Number),_0x463b01=(_0x4ec4e6*0x3c+_0x30997b)/0x3c*GRID_H,_0x537742=(_0x22558b*0x3c+_0x54c23b-(_0x4ec4e6*0x3c+_0x30997b))/0x3c*GRID_H,_0x3922a8=document['createElement']('div'),_0xdfd483=_0xdb6d1f[_0x5a6bd0(0x21a)]===_0x5a6bd0(0x2a4)?'\x20status-completed':'';_0x3922a8[_0x5a6bd0(0x14e)]=_0x5a6bd0(0x12a)+_0xdfd483,_0x3922a8[_0x5a6bd0(0x139)]['top']=_0x463b01+'px',_0x3922a8[_0x5a6bd0(0x139)][_0x5a6bd0(0x25d)]=Math['max'](_0x537742,0x14)+'px';const _0x3f18a9=clients[_0x5a6bd0(0x133)](_0x4b9310=>_0xdb6d1f[_0x5a6bd0(0x1f1)]&&String(_0x4b9310['id'])===String(_0xdb6d1f[_0x5a6bd0(0x1f1)])||_0x4b9310[_0x5a6bd0(0x246)]===_0xdb6d1f[_0x5a6bd0(0x26b)]),_0x1e9f81=_0x3f18a9?_0x3f18a9[_0x5a6bd0(0x220)]:_0x5a6bd0(0x242);_0x3922a8[_0x5a6bd0(0x139)]['borderLeftColor']=_0x1e9f81,_0x3922a8[_0x5a6bd0(0x139)][_0x5a6bd0(0x29d)]=hexToRgba(_0x1e9f81,0.85);let _0x1475a5=_0x5a6bd0(0x22e)+_0xdb6d1f[_0x5a6bd0(0x26b)]+'</div><div\x20class=\x22ev-time\x22>'+_0xdb6d1f['start']+_0x5a6bd0(0x1d8)+_0xdb6d1f['end']+'</div>';return _0xdb6d1f[_0x5a6bd0(0x16d)]&&(_0x1475a5+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0xdb6d1f[_0x5a6bd0(0x21a)]===_0x5a6bd0(0x2a4)&&(_0x1475a5+=_0x5a6bd0(0x227)),_0x3922a8[_0x5a6bd0(0x23e)]=_0x1475a5,_0x3922a8[_0x5a6bd0(0x1e0)]=_0x31574d=>{const _0x3dfa88=_0x5a6bd0;_0x31574d[_0x3dfa88(0x1d2)](),openEdit(_0xdb6d1f);},_0x3922a8;}function attachLongPressHandler(_0x443cbc,_0x322cee){const _0xb4bcfc=a2_0x2152d2;let _0x1922ab=0x0,_0x55e804=null;const _0x3c6575=_0x3877d2=>{const _0x4d4caf=a2_0x5de4;if(_0x3877d2[_0x4d4caf(0x1fd)][_0x4d4caf(0x1ec)](_0x4d4caf(0x1de)))return;isScrolling=![],_0x1922ab=_0x3877d2[_0x4d4caf(0x185)]?_0x3877d2[_0x4d4caf(0x185)][0x0]['clientY']:_0x3877d2[_0x4d4caf(0x26e)],_0x55e804=setTimeout(()=>{const _0x4f40e8=_0x4d4caf;if(!isScrolling){navigator[_0x4f40e8(0x157)]?.(0x32);const _0x5350e6=_0x443cbc['getBoundingClientRect'](),_0x55b299=Math[_0x4f40e8(0x189)]((_0x1922ab-_0x5350e6[_0x4f40e8(0x248)])/GRID_H);_0x322cee[_0x4f40e8(0x202)](_0x55b299,0x0),openAddSession(_0x322cee);}},0x1f4);},_0x4fb6ca=()=>{isScrolling=!![],clearTimeout(_0x55e804);},_0x12a2b1=()=>{clearTimeout(_0x55e804);};_0x443cbc[_0xb4bcfc(0x299)](_0xb4bcfc(0x26c),_0x3c6575,{'passive':!![]}),_0x443cbc[_0xb4bcfc(0x299)]('touchmove',_0x4fb6ca,{'passive':!![]}),_0x443cbc['addEventListener']('touchend',_0x12a2b1),_0x443cbc['addEventListener'](_0xb4bcfc(0x1f3),_0x3c6575),_0x443cbc[_0xb4bcfc(0x299)](_0xb4bcfc(0x1d9),_0x4fb6ca),_0x443cbc['addEventListener'](_0xb4bcfc(0x22f),_0x12a2b1);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x26dd70=a2_0x2152d2,_0x4f16e2=document[_0x26dd70(0x1b5)](_0x26dd70(0x160)),_0x4c2f3a=_0x4f16e2[_0x26dd70(0x1fc)],_0x259b72=_0x4f16e2[_0x26dd70(0x1d3)],_0x574ec4=_0x4f16e2[_0x26dd70(0x23f)];if(_0x259b72-(_0x4c2f3a+_0x574ec4)<0x12c){const _0x532ed7=endOffset;endOffset+=0xe,renderDayRange(_0x532ed7+0x1,endOffset),reRenderBlocks();}if(_0x4c2f3a<0x12c){const _0x1cab67=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1cab67-0x1),_0x4f16e2['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x1598a3,_0x31f04e){const _0x3301d8=a2_0x2152d2,_0x21848c=document[_0x3301d8(0x1b5)]('daysHeaderTrack'),_0x3f6b96=document[_0x3301d8(0x1b5)](_0x3301d8(0x236)),_0x207a4c=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x468053=new Date();_0x468053['setHours'](0x0,0x0,0x0,0x0);const _0x3a9af2=getLocalDateStr(new Date()),_0x2f9ed3=document[_0x3301d8(0x14a)](),_0x2fc274=document['createDocumentFragment']();for(let _0xa68b10=_0x1598a3;_0xa68b10<=_0x31f04e;_0xa68b10++){const _0x107c09=new Date(_0x468053);_0x107c09['setDate'](_0x107c09[_0x3301d8(0x296)]()+_0xa68b10);const _0x24d2ea=getLocalDateStr(_0x107c09);let _0x5a9710=_0x107c09['getDay']()-0x1;if(_0x5a9710===-0x1)_0x5a9710=0x6;const _0x568002=_0x24d2ea===_0x3a9af2,_0x49dde7=document[_0x3301d8(0x171)](_0x3301d8(0x177));_0x49dde7[_0x3301d8(0x14e)]=_0x3301d8(0x12b)+(_0x568002?_0x3301d8(0x147):''),_0x49dde7['id']='header-'+_0x24d2ea,_0x49dde7[_0x3301d8(0x161)](_0x3301d8(0x215),_0x24d2ea),_0x49dde7[_0x3301d8(0x23e)]=_0x3301d8(0x1a2)+_0x207a4c[_0x5a9710]+_0x3301d8(0x24d)+_0x107c09[_0x3301d8(0x296)]()+_0x3301d8(0x216)+_0x24d2ea+_0x3301d8(0x175),_0x49dde7['onclick']=()=>openDayOptions(_0x24d2ea,_0x207a4c[_0x5a9710]+'\x20'+_0x107c09['getDate']()),_0x2f9ed3[_0x3301d8(0x17a)](_0x49dde7);const _0x10565d=document['createElement'](_0x3301d8(0x177));_0x10565d['className']=_0x3301d8(0x183)+(_0x568002?_0x3301d8(0x147):''),_0x10565d[_0x3301d8(0x161)](_0x3301d8(0x215),_0x24d2ea),_0x10565d[_0x3301d8(0x161)](_0x3301d8(0x226),_0x5a9710),renderEventsForColumn(_0x10565d,_0x24d2ea,_0x5a9710),attachLongPressHandler(_0x10565d,_0x107c09),_0x2fc274[_0x3301d8(0x17a)](_0x10565d),updateDayStats(_0x24d2ea);}_0x21848c[_0x3301d8(0x1c5)](_0x2f9ed3,_0x21848c[_0x3301d8(0x221)]),_0x3f6b96[_0x3301d8(0x1c5)](_0x2fc274,_0x3f6b96[_0x3301d8(0x229)](_0x3301d8(0x179)));}function validateAppointment(_0x51e695,_0xb8dae7,_0x582229,_0x38d5cc,_0x32ccc6){const _0x336ee5=a2_0x2152d2,[_0x57c8e1,_0x324be1]=_0xb8dae7[_0x336ee5(0x293)](':')[_0x336ee5(0x1b9)](Number),[_0x48f8e0,_0x4b12ee]=_0x582229[_0x336ee5(0x293)](':')[_0x336ee5(0x1b9)](Number),_0x198e7a=_0x57c8e1*0x3c+_0x324be1,_0x2bafe3=_0x48f8e0*0x3c+_0x4b12ee,_0x37ef83=String(_0x32ccc6);let _0x6f87bb=![],_0x2d6342='';for(let _0x46e0db of sessions){if(_0x46e0db['dateStr']!==_0x51e695)continue;if(_0x46e0db[_0x336ee5(0x21a)]===_0x336ee5(0x193))continue;if(_0x38d5cc&&String(_0x46e0db['id'])===String(_0x38d5cc))continue;const [_0x4354b2,_0x3c5968]=_0x46e0db[_0x336ee5(0x169)][_0x336ee5(0x293)](':')[_0x336ee5(0x1b9)](Number),[_0x2a13de,_0x2ca309]=_0x46e0db[_0x336ee5(0x28d)][_0x336ee5(0x293)](':')['map'](Number),_0x2e7097=_0x4354b2*0x3c+_0x3c5968,_0x53a7b4=_0x2a13de*0x3c+_0x2ca309;if(Math[_0x336ee5(0x1aa)](_0x198e7a,_0x2e7097)<Math[_0x336ee5(0x14b)](_0x2bafe3,_0x53a7b4)){if(_0x46e0db['clientId']&&String(_0x46e0db[_0x336ee5(0x1f1)])===_0x37ef83)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x46e0db['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x6f87bb=!![],_0x2d6342=_0x46e0db[_0x336ee5(0x26b)];}}if(_0x6f87bb)return{'valid':!![],'warning':_0x336ee5(0x1ce)+_0x2d6342};return{'valid':!![]};}function updateDateDisplay(){const _0x7d0759=a2_0x2152d2,_0x3f8362=document[_0x7d0759(0x1b5)](_0x7d0759(0x264))[_0x7d0759(0x1b1)],_0x47c855=document['getElementById'](_0x7d0759(0x184));if(!_0x3f8362){_0x47c855[_0x7d0759(0x1ed)]='';return;}const [_0x316156,_0x30d701,_0x1a1e3b]=_0x3f8362[_0x7d0759(0x293)]('-')[_0x7d0759(0x1b9)](Number),_0x4b6409=new Date(_0x316156,_0x30d701-0x1,_0x1a1e3b),_0x1435d2={'weekday':'long','day':_0x7d0759(0x16f),'month':'long','year':_0x7d0759(0x16f)};let _0x524ef9=_0x4b6409[_0x7d0759(0x235)]('ru-RU',_0x1435d2);_0x524ef9=_0x524ef9[_0x7d0759(0x25b)](0x0)[_0x7d0759(0x16e)]()+_0x524ef9[_0x7d0759(0x159)](0x1),_0x47c855[_0x7d0759(0x1ed)]=_0x524ef9;}function autoSetEndTime(){const _0x5a4e9e=a2_0x2152d2,_0x5f1f6c=document[_0x5a4e9e(0x1b5)](_0x5a4e9e(0x2a0))[_0x5a4e9e(0x1b1)];if(!_0x5f1f6c)return;const [_0x4dcda8,_0x3001f6]=_0x5f1f6c[_0x5a4e9e(0x293)](':')[_0x5a4e9e(0x1b9)](Number);let _0x532134=_0x4dcda8+0x1;if(_0x532134>0x17)_0x532134=0x0;const _0x198db7=String(_0x532134)['padStart'](0x2,'0')+':'+String(_0x3001f6)['padStart'](0x2,'0');document['getElementById'](_0x5a4e9e(0x28b))[_0x5a4e9e(0x1b1)]=_0x198db7;}function populateClientSelect(){const _0x3df39c=a2_0x2152d2,_0x42b276=document[_0x3df39c(0x1b5)](_0x3df39c(0x1a0));_0x42b276[_0x3df39c(0x23e)]='';if(clients[_0x3df39c(0x22d)]===0x0){const _0x6dd83=document['createElement']('option');_0x6dd83[_0x3df39c(0x222)]=_0x3df39c(0x1dd),_0x42b276[_0x3df39c(0x17a)](_0x6dd83);return;}clients[_0x3df39c(0x1cb)](_0x1b9022=>{const _0x1bec45=_0x3df39c,_0x100ac8=document[_0x1bec45(0x171)](_0x1bec45(0x208));_0x100ac8['value']=_0x1b9022[_0x1bec45(0x246)],_0x100ac8['textContent']=_0x1b9022['name'],_0x42b276[_0x1bec45(0x17a)](_0x100ac8);});}function openActionSheet(_0x295ac6){const _0x161985=a2_0x2152d2,_0x389814=document[_0x161985(0x1b5)](_0x161985(0x225)),_0x46fc13=document[_0x161985(0x1b5)](_0x161985(0x263)),_0x490e18=document['getElementById']('asTitle'),_0x24bc1c=document[_0x161985(0x1b5)]('asBtnOne'),_0x2a374c=document[_0x161985(0x1b5)](_0x161985(0x1c8));_0x46fc13[_0x161985(0x231)]['add']('active'),_0x389814[_0x161985(0x231)]['add']('open');if(_0x295ac6===_0x161985(0x15c))_0x490e18['textContent']='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x24bc1c[_0x161985(0x1ed)]=_0x161985(0x272),_0x24bc1c[_0x161985(0x1e0)]=()=>{const _0xdeed37=_0x161985;closeActionSheet(),updateSeriesBatch(_0xdeed37(0x2a3),tempSessionData);},_0x2a374c['textContent']=_0x161985(0x1c3),_0x2a374c[_0x161985(0x1e0)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x295ac6===_0x161985(0x27e)&&(_0x490e18[_0x161985(0x1ed)]=_0x161985(0x186),_0x24bc1c[_0x161985(0x1ed)]=_0x161985(0x272),_0x24bc1c[_0x161985(0x14e)]=_0x161985(0x285),_0x24bc1c['onclick']=()=>{const _0x2a5a5b=_0x161985;closeActionSheet(),commitDelete(_0x2a5a5b(0x2a3),sessions['find'](_0x13ed35=>_0x13ed35['id']===editingId));},_0x2a374c[_0x161985(0x1ed)]=_0x161985(0x1c3),_0x2a374c[_0x161985(0x14e)]=_0x161985(0x1b3),_0x2a374c['onclick']=()=>{const _0xc28f64=_0x161985;closeActionSheet(),commitDelete(_0xc28f64(0x148),sessions[_0xc28f64(0x133)](_0xd8b7fa=>_0xd8b7fa['id']===editingId));});}function closeActionSheet(){const _0x5c71f4=a2_0x2152d2;document[_0x5c71f4(0x1b5)]('actionSheet')['classList'][_0x5c71f4(0x15e)](_0x5c71f4(0x251)),document['getElementById'](_0x5c71f4(0x263))[_0x5c71f4(0x231)][_0x5c71f4(0x15e)](_0x5c71f4(0x1c9));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x253713=a2_0x2152d2,_0x537d7b=document[_0x253713(0x1b5)]('settingCancelWindow')[_0x253713(0x1b1)];localStorage[_0x253713(0x190)](_0x253713(0x1f5),_0x537d7b),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x537d7b),DataManager['fetchFromServer'](_0x253713(0x297),{'settings':{'cancel_window':_0x537d7b}})[_0x253713(0x1a6)](_0x1c6134=>{const _0x2bc9e5=_0x253713;console[_0x2bc9e5(0x279)](_0x2bc9e5(0x24a),_0x1c6134),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4d9396=a2_0x2152d2,_0x3900e9=localStorage[_0x4d9396(0x1f2)](_0x4d9396(0x1f5));_0x3900e9&&(document['getElementById']('settingCancelWindow')['value']=_0x3900e9);}function openRangesSheet(){const _0x429012=a2_0x2152d2;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x429012(0x269));}function addRange(){const _0x1ca78e=a2_0x2152d2,_0x2b38c0=document['getElementById']('rangeStartDate')['value'],_0x2521b5=document['getElementById'](_0x1ca78e(0x29c))[_0x1ca78e(0x1b1)],_0x4dec2b=document[_0x1ca78e(0x1b5)](_0x1ca78e(0x15a))['value'],_0x43c204=document['getElementById'](_0x1ca78e(0x1eb))[_0x1ca78e(0x1b1)];if(!_0x2b38c0||!_0x2521b5||!_0x4dec2b||!_0x43c204)return alert(_0x1ca78e(0x247));const _0x1c9777=_0x2b38c0+'T'+_0x2521b5,_0x5a2419=_0x4dec2b+'T'+_0x43c204;if(_0x1c9777>=_0x5a2419)return alert(_0x1ca78e(0x18b));specialRanges[_0x1ca78e(0x292)]({'start':_0x1c9777,'end':_0x5a2419}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1ca78e(0x297),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x59289f){const _0x48e5b4=a2_0x2152d2;specialRanges[_0x48e5b4(0x1b4)](_0x59289f,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x48e5b4(0x297),{'settings':{'ranges':specialRanges}});}function a2_0x4243(){const _0x31cc27=['strokeDashoffset','background','max','90276ibuPAX','10px','anDonutCircle','timeColumn','Error\x20setting\x20color:','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','value','json','as-button\x20danger\x20bold','splice','getElementById','%\x20-\x204px)','from','custom','map','var(--acc-current)','borderLeftColor','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','rgba(255,\x2069,\x2058,\x200.15)','Batch\x20Sync\x20OK','clients','globalTimeLine','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','anEnd','insertBefore','complete','getText','asBtnSeries','active','router.html','forEach','formatDate','calc(','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','mini','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','stopPropagation','scrollWidth','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','syncLoad','borderColor','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','\x20-\x20','mousemove','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','btn-primary\x20btn-secondary','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','.event-card','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','onclick','planned','blocked-range-part\x20stripe-bg','analyticsList','disableVerticalSwipes','px\x20-',']\x20Failed:','apply','%\x20+\x202px)','cancel_window','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rangeEndTime','closest','textContent','[Series]\x20Skipped\x20','settings','getAttribute','clientId','getItem','mousedown','show','uc_settings_cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','de-item','block','[Notify]\x20Network\x20Failed','header-','expand','scrollLeft','target','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','user','week','toastTitle','setHours','constructor','scrollTop','rangesList','.pib-text','.day-col-header','option','rgba(','includes','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','day-off-overlay\x20stripe-bg','range-item','setBackgroundColor','toString','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','doBusyHours','sid','null','rgba(255,\x2069,\x2058,\x200.3)','data-date','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','btn-primary\x20btn-danger','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','then','status','loadLocal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpNote','T00:00:00','guest','color','firstChild','text','href','init_load','actionSheet','data-day-idx','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','BackButton','querySelector','filter','timeLineBadge','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','length','<div\x20class=\x22ev-title\x22>','mouseup','colIndex','classList','5EfVXUX','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','headerMonth','toLocaleDateString','gridColumns','[Notify]\x20Server\x20Response:','onClick','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','rgba(100,100,100,0.5)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','ranges','random','innerHTML','clientWidth','.day-off-overlay','note','#0a84ff','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','seriesCountContainer','name','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','top','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','Save\x20settings\x20error:','blocked-slot\x20stripe-bg','success','</div><div\x20class=\x22dch-num\x22>',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','#fff','512LBGelz','open','<span>','sessionSheet','[Notify]\x20Detected\x20Client\x20ID:','rgba(48,\x20209,\x2088,\x200.15)','recurringOptionContainer','Critical\x20TMA\x20Error:','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','100%','dayOptionsTitle','charAt','anStart','height','findIndex','parse','display','calendar','backgroundPosition','actionSheetOverlay','inpDate','–£—Å–ø–µ—à–Ω–æ','client-stat-card','ru-RU','getMinutes','rangesSheet','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','client','touchstart','anCustomDates','clientY','–ò–Ω—Ñ–æ','stat-','total','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','data','.sheet','uc_sessions_v9','exceptions','valid','warning','error','log','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','1135068vATuLc','anTotalStats','delete','btnStatusToggle','done','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','toFixed','batch_sync','\x20–∏–∑\x20','as-button\x20danger','[Notify]\x20Attempting\x20to\x20send:','search','sort','#gridColumns\x20.day-column','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','inpEnd','px\x200px','end','239432WxovEm','toastMessage','off','indexOf','push','split','undefined','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','getDate','save_settings','\x20‚Äî\x20','addEventListener','getHours','stringify','rangeStartTime','backgroundColor','getFullYear','v9.0-BATCH-CALENDAR','inpStart','[Notify]\x20Client\x20SWAP\x20detected','create','single','completed','toast-notification\x20','ready','dateStr','event-card','day-col-header\x20','T23:59:59','dayOptionsSheet','setDate','setMonth','initData','</b>\x0a\x0a','Local\x20Save\x20Error','find','doDateHeader','padStart','text/plain;charset=UTF-8','cancel','saveLocally','style',':00','flex','warn','now','send','var(--acc-green)','btnDayToggle','settingCancelWindow','1555148bjGmzV','(((.+)+)+)+$','pattern','getTime','rangeStartDate','today','series','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','createDocumentFragment','min','uc_settings_v9','539164UkqNUb','className','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','Telegram','[Notify]\x20Error:\x20sessionData\x20is\x20null','deleted','toLocaleString','[API\x20','inpRecurring',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','vibrate','long','slice','rangeEndDate','checked','save','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','remove','[Sync]\x20Loading\x20','matrixViewport','setAttribute','mergeServerData','patternEditor','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','579390BjAFqF','[Notify]\x20Error:\x20Text\x20generation\x20failed','fetchFromServer','daysHeaderTrack','start','rgba(255,\x20159,\x2010,\x200.3)','23:59','width','seriesId','toUpperCase','numeric','send_notification','createElement','var(--acc-red)','isArray','\x20days','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','offsetWidth','div','btn-status-toggle\x20undo-mode','.day-column','appendChild','btn-status-toggle','DOMContentLoaded','querySelectorAll','borderRadius','WebApp','doEventsList','anPercent','39240ahYuMN','day-column\x20','sheetDateSubtitle','touches','–£–¥–∞–ª–µ–Ω–∏–µ','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','rgba(255,255,255,0.05)','floor','Local\x20Load\x20Error','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','statLoadCard','inpSeriesCount','none','getDay','setItem','pe-col-header','.period-switch\x20.p-btn','cancelled','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','offsetLeft','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','btnDelete','syncBatch','...','msg','add',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','patternInfoBox','update','inpClient','getMonth','<div\x20class=\x22dch-day\x22>','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','overlay','catch','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'];a2_0x4243=function(){return _0x31cc27;};return a2_0x4243();}function resetRangeForm(){const _0x27b943=a2_0x2152d2;document[_0x27b943(0x1b5)](_0x27b943(0x146))['value']='',document[_0x27b943(0x1b5)](_0x27b943(0x29c))[_0x27b943(0x1b1)]='00:00',document[_0x27b943(0x1b5)](_0x27b943(0x15a))[_0x27b943(0x1b1)]='',document['getElementById'](_0x27b943(0x1eb))[_0x27b943(0x1b1)]=_0x27b943(0x16b);}function renderRangesList(){const _0x37a410=a2_0x2152d2,_0x24a89b=document['getElementById'](_0x37a410(0x205));_0x24a89b[_0x37a410(0x23e)]='';if(!specialRanges['length']){_0x24a89b[_0x37a410(0x23e)]=_0x37a410(0x194);return;}specialRanges[_0x37a410(0x1cb)]((_0x1770c7,_0x5aa444)=>{const _0x28da99=_0x37a410,_0x25251c=document['createElement'](_0x28da99(0x177));_0x25251c['className']=_0x28da99(0x20d);const _0x2f7101=_0x205ecc=>{const _0x2c1d9c=_0x28da99,_0x466b3f=new Date(_0x205ecc);return _0x466b3f[_0x2c1d9c(0x296)]()+'.'+String(_0x466b3f[_0x2c1d9c(0x1a1)]()+0x1)[_0x2c1d9c(0x135)](0x2,'0')+'\x20'+String(_0x466b3f[_0x2c1d9c(0x29a)]())[_0x2c1d9c(0x135)](0x2,'0')+':'+String(_0x466b3f[_0x2c1d9c(0x268)]())[_0x2c1d9c(0x135)](0x2,'0');};_0x25251c[_0x28da99(0x23e)]=_0x28da99(0x281)+_0x2f7101(_0x1770c7['start'])+_0x28da99(0x298)+_0x2f7101(_0x1770c7[_0x28da99(0x28d)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5aa444+_0x28da99(0x156),_0x24a89b[_0x28da99(0x17a)](_0x25251c);});}function a2_0x5de4(_0x2199fd,_0x51ac82){_0x2199fd=_0x2199fd-0x128;const _0x14e5d2=a2_0x4243();let _0x22ebeb=_0x14e5d2[_0x2199fd];return _0x22ebeb;}function scrollToToday(){const _0x102197=a2_0x2152d2,_0x31b588=getLocalDateStr(new Date()),_0x4427b3=document[_0x102197(0x1b5)]('header-'+_0x31b588),_0x2bbc64=document['getElementById'](_0x102197(0x160));if(_0x4427b3&&_0x2bbc64){const _0x313c69=_0x2bbc64[_0x102197(0x23f)],_0x27f4c2=_0x4427b3[_0x102197(0x195)],_0x63009d=_0x4427b3[_0x102197(0x176)];_0x2bbc64['scrollLeft']=_0x27f4c2-_0x313c69/0x2+_0x63009d/0x2,_0x2bbc64[_0x102197(0x204)]=0x9*GRID_H;}}function onScroll(){const _0x466117=a2_0x2152d2,_0x40581b=document[_0x466117(0x1b5)](_0x466117(0x160)),_0x116fbc=document[_0x466117(0x17d)]('.day-col-header');for(let _0x5adac7 of _0x116fbc)if(_0x5adac7['offsetLeft']>=_0x40581b[_0x466117(0x1fc)]){const _0x2aded3=new Date(_0x5adac7[_0x466117(0x1f0)](_0x466117(0x215)));document[_0x466117(0x1b5)](_0x466117(0x234))[_0x466117(0x1ed)]=_0x2aded3[_0x466117(0x153)]('ru',{'month':_0x466117(0x158)})[_0x466117(0x16e)]()+'\x20'+_0x2aded3[_0x466117(0x29e)]();break;}}function showToast(_0x444644,_0x2d2875=![]){const _0x1fe1d7=a2_0x2152d2,_0x539390=document[_0x1fe1d7(0x1b5)]('toast');_0x539390['className']=_0x1fe1d7(0x2a5)+(_0x2d2875?_0x1fe1d7(0x24c):''),document[_0x1fe1d7(0x1b5)](_0x1fe1d7(0x201))[_0x1fe1d7(0x1ed)]=_0x2d2875?_0x1fe1d7(0x265):_0x1fe1d7(0x26f),document[_0x1fe1d7(0x1b5)](_0x1fe1d7(0x28f))[_0x1fe1d7(0x1ed)]=_0x444644,_0x539390[_0x1fe1d7(0x231)][_0x1fe1d7(0x19c)](_0x1fe1d7(0x1f4)),setTimeout(()=>{const _0x55b4dd=_0x1fe1d7;_0x539390[_0x55b4dd(0x231)][_0x55b4dd(0x15e)]('show');},0xbb8);}function openDayOptions(_0x4f13c6,_0x465ae8){const _0x545dd0=a2_0x2152d2;selectedDayForOptions=_0x4f13c6,document[_0x545dd0(0x1b5)](_0x545dd0(0x25a))[_0x545dd0(0x1ed)]=_0x465ae8,openSheet(_0x545dd0(0x12d));}function toggleDayOff(){const _0x1a2bae=a2_0x2152d2;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1a2bae(0x290),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x1a2bae(0x167)](_0x1a2bae(0x297),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x253fb8=a2_0x2152d2;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x253fb8(0x138)](),DataManager[_0x253fb8(0x167)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x248fa3){const _0x299cce=a2_0x2152d2;document[_0x299cce(0x1b5)]('overlay')[_0x299cce(0x231)]['add'](_0x299cce(0x1c9)),document[_0x299cce(0x1b5)](_0x248fa3)[_0x299cce(0x231)]['add']('open');}function closeAllSheets(){const _0x5d398d=a2_0x2152d2;document['getElementById'](_0x5d398d(0x1a5))[_0x5d398d(0x231)][_0x5d398d(0x15e)](_0x5d398d(0x1c9)),document[_0x5d398d(0x17d)](_0x5d398d(0x274))[_0x5d398d(0x1cb)](_0x2947ca=>_0x2947ca[_0x5d398d(0x231)][_0x5d398d(0x15e)](_0x5d398d(0x251)));}function openPatternEditor(){const _0x34a8d9=a2_0x2152d2;closeAllSheets(),document[_0x34a8d9(0x1b5)](_0x34a8d9(0x163))['classList'][_0x34a8d9(0x19c)]('open'),renderPatternEditor();}function closePatternEditor(){const _0xa9ac77=a2_0x2152d2;document[_0xa9ac77(0x1b5)]('patternEditor')[_0xa9ac77(0x231)][_0xa9ac77(0x15e)](_0xa9ac77(0x251));}function savePattern(){const _0x23a8ca=a2_0x2152d2;document[_0x23a8ca(0x1b5)](_0x23a8ca(0x163))[_0x23a8ca(0x231)][_0x23a8ca(0x15e)](_0x23a8ca(0x251)),reRenderBlocks(),DataManager[_0x23a8ca(0x138)](),DataManager[_0x23a8ca(0x167)](_0x23a8ca(0x297),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4476a7=a2_0x2152d2,_0x333dc8=document[_0x4476a7(0x1b5)]('peGrid');_0x333dc8[_0x4476a7(0x23e)]='';const _0x122210=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xcd28b2=document[_0x4476a7(0x171)](_0x4476a7(0x177));_0xcd28b2[_0x4476a7(0x14e)]='pe-corner',_0x333dc8[_0x4476a7(0x17a)](_0xcd28b2),_0x122210[_0x4476a7(0x1cb)]((_0xa98a41,_0x278241)=>{const _0x2c3e38=_0x4476a7,_0x47efa5=document[_0x2c3e38(0x171)](_0x2c3e38(0x177));_0x47efa5[_0x2c3e38(0x14e)]=_0x2c3e38(0x191),_0x47efa5[_0x2c3e38(0x23e)]=_0xa98a41+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x47efa5[_0x2c3e38(0x1e0)]=()=>toggleColPattern(_0x278241),_0x333dc8['appendChild'](_0x47efa5);});for(let _0x349bf4=0x0;_0x349bf4<0x18;_0x349bf4++){const _0x17958c=document[_0x4476a7(0x171)](_0x4476a7(0x177));_0x17958c[_0x4476a7(0x14e)]='pe-time-label',_0x17958c['innerHTML']=_0x4476a7(0x28a)+String(_0x349bf4)[_0x4476a7(0x135)](0x2,'0')+':00',_0x17958c['onclick']=()=>toggleRowPattern(_0x349bf4),_0x333dc8[_0x4476a7(0x17a)](_0x17958c);for(let _0x289c8b=0x0;_0x289c8b<0x7;_0x289c8b++){const _0xc4612b=document[_0x4476a7(0x171)](_0x4476a7(0x177)),_0x57b5f2=(availabilityPattern[_0x289c8b]||[])[_0x4476a7(0x20a)](_0x349bf4),_0x482d33=!_0x57b5f2;_0xc4612b[_0x4476a7(0x14e)]='pe-cell\x20'+(_0x482d33?_0x4476a7(0x1c9):''),_0xc4612b[_0x4476a7(0x1e0)]=()=>toggleSinglePattern(_0x289c8b,_0x349bf4),_0x333dc8[_0x4476a7(0x17a)](_0xc4612b);}}}function toggleSinglePattern(_0x467231,_0x64cce3){const _0x30372e=a2_0x2152d2;if(!availabilityPattern[_0x467231])availabilityPattern[_0x467231]=[];const _0x4b0997=availabilityPattern[_0x467231],_0x36fdb1=_0x4b0997[_0x30372e(0x291)](_0x64cce3);_0x36fdb1===-0x1?_0x4b0997[_0x30372e(0x292)](_0x64cce3):_0x4b0997[_0x30372e(0x1b4)](_0x36fdb1,0x1),renderPatternEditor();}function toggleColPattern(_0x4c08f3){const _0x564f81=a2_0x2152d2;if(!availabilityPattern[_0x4c08f3])availabilityPattern[_0x4c08f3]=[];const _0x803acd=availabilityPattern[_0x4c08f3];_0x803acd['length']===0x0?availabilityPattern[_0x4c08f3]=Array[_0x564f81(0x1b7)]({'length':0x18},(_0x5de005,_0x35c6d0)=>_0x35c6d0):availabilityPattern[_0x4c08f3]=[],renderPatternEditor();}function toggleRowPattern(_0x7f3c1b){const _0x31edfc=a2_0x2152d2;let _0x1d7f8f=!![];for(let _0x2653f1=0x0;_0x2653f1<0x7;_0x2653f1++){if((availabilityPattern[_0x2653f1]||[])[_0x31edfc(0x20a)](_0x7f3c1b)){_0x1d7f8f=![];break;}}for(let _0x3262e4=0x0;_0x3262e4<0x7;_0x3262e4++){if(!availabilityPattern[_0x3262e4])availabilityPattern[_0x3262e4]=[];const _0x2bab2b=availabilityPattern[_0x3262e4]['indexOf'](_0x7f3c1b);if(_0x1d7f8f){if(_0x2bab2b===-0x1)availabilityPattern[_0x3262e4][_0x31edfc(0x292)](_0x7f3c1b);}else{if(_0x2bab2b!==-0x1)availabilityPattern[_0x3262e4][_0x31edfc(0x1b4)](_0x2bab2b,0x1);}}renderPatternEditor();}function renderPCol(_0x9508d7,_0x48e70f){const _0x57f0e5=a2_0x2152d2;_0x9508d7['innerHTML']='';const _0x38cfe0=Math['round'](_0x9508d7['offsetLeft']);(availabilityPattern[_0x48e70f]||[])[_0x57f0e5(0x1cb)](_0x21c015=>{const _0x4ed2e6=_0x57f0e5,_0x54872a=document[_0x4ed2e6(0x171)](_0x4ed2e6(0x177));_0x54872a[_0x4ed2e6(0x14e)]=_0x4ed2e6(0x24b);const _0x475803=_0x21c015*GRID_H;_0x54872a[_0x4ed2e6(0x139)][_0x4ed2e6(0x248)]=_0x475803+'px',_0x54872a[_0x4ed2e6(0x139)]['backgroundPosition']='-'+_0x38cfe0+_0x4ed2e6(0x1e5)+_0x475803+'px',_0x54872a[_0x4ed2e6(0x1e0)]=_0x4cac74=>{const _0x579ce3=_0x4ed2e6;_0x4cac74[_0x579ce3(0x1d2)](),toggleSinglePattern(_0x48e70f,_0x21c015);},_0x9508d7[_0x4ed2e6(0x17a)](_0x54872a);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2a3837=a2_0x2152d2,_0x3b7086=new Date(),_0x17bf51=document[_0x2a3837(0x1b5)](_0x2a3837(0x1c1)),_0x1ac92a=document[_0x2a3837(0x1b5)](_0x2a3837(0x22b)),_0x52e7c3=(_0x3b7086[_0x2a3837(0x29a)]()*0x3c+_0x3b7086['getMinutes']())/0x3c*GRID_H;_0x17bf51[_0x2a3837(0x139)][_0x2a3837(0x248)]=_0x52e7c3+'px',_0x17bf51[_0x2a3837(0x139)][_0x2a3837(0x260)]=_0x2a3837(0x1f8),_0x1ac92a[_0x2a3837(0x1ed)]=String(_0x3b7086[_0x2a3837(0x29a)]())['padStart'](0x2,'0')+':'+String(_0x3b7086[_0x2a3837(0x268)]())[_0x2a3837(0x135)](0x2,'0'),_0x1ac92a['style'][_0x2a3837(0x260)]=_0x2a3837(0x1f8),_0x1ac92a[_0x2a3837(0x139)][_0x2a3837(0x248)]=_0x52e7c3+'px';}document[a2_0x2152d2(0x299)](a2_0x2152d2(0x17c),init);function openDayOptions(_0x3b7b75){const _0x50f2b2=a2_0x2152d2;selectedDayForOptions=_0x3b7b75;const _0x5b1e24=new Date(_0x3b7b75),_0x51e546={'weekday':_0x50f2b2(0x158),'day':_0x50f2b2(0x16f),'month':_0x50f2b2(0x158),'year':'numeric'},_0x42d6ab=_0x5b1e24[_0x50f2b2(0x235)](_0x50f2b2(0x267),_0x51e546);document['getElementById'](_0x50f2b2(0x134))[_0x50f2b2(0x1ed)]=_0x42d6ab[_0x50f2b2(0x25b)](0x0)[_0x50f2b2(0x16e)]()+_0x42d6ab['slice'](0x1);let _0x1593eb=_0x5b1e24[_0x50f2b2(0x18f)]()-0x1;if(_0x1593eb===-0x1)_0x1593eb=0x6;const _0x3a34ba=availabilityPattern[_0x1593eb]||[],_0x4733ea=0x18-_0x3a34ba['length'],_0x533069=_0x4733ea*0x3c,_0x243e79=sessions[_0x50f2b2(0x22a)](_0xe9c7e7=>_0xe9c7e7[_0x50f2b2(0x129)]===_0x3b7b75&&_0xe9c7e7[_0x50f2b2(0x21a)]!==_0x50f2b2(0x193));let _0x520b77=_0x243e79[_0x50f2b2(0x1b9)](_0x210496=>{const _0x1f35f2=_0x50f2b2,[_0x280fd6,_0xfcca17]=_0x210496[_0x1f35f2(0x169)][_0x1f35f2(0x293)](':')[_0x1f35f2(0x1b9)](Number),[_0x5ccec6,_0x2b17ad]=_0x210496[_0x1f35f2(0x28d)][_0x1f35f2(0x293)](':')[_0x1f35f2(0x1b9)](Number);return[_0x280fd6*0x3c+_0xfcca17,_0x5ccec6*0x3c+_0x2b17ad];});_0x520b77[_0x50f2b2(0x288)]((_0x47fd4a,_0xb6033a)=>_0x47fd4a[0x0]-_0xb6033a[0x0]);let _0x1ac30c=[];if(_0x520b77[_0x50f2b2(0x22d)]>0x0){let _0x489baa=_0x520b77[0x0];for(let _0x5d49f5=0x1;_0x5d49f5<_0x520b77[_0x50f2b2(0x22d)];_0x5d49f5++){_0x520b77[_0x5d49f5][0x0]<_0x489baa[0x1]?_0x489baa[0x1]=Math[_0x50f2b2(0x1aa)](_0x489baa[0x1],_0x520b77[_0x5d49f5][0x1]):(_0x1ac30c[_0x50f2b2(0x292)](_0x489baa),_0x489baa=_0x520b77[_0x5d49f5]);}_0x1ac30c[_0x50f2b2(0x292)](_0x489baa);}let _0x3934dd=0x0;_0x1ac30c['forEach'](_0x3808b4=>_0x3934dd+=_0x3808b4[0x1]-_0x3808b4[0x0]),document[_0x50f2b2(0x1b5)]('doWorkHours')[_0x50f2b2(0x1ed)]=formatMinsToHrs(_0x533069),document[_0x50f2b2(0x1b5)](_0x50f2b2(0x211))[_0x50f2b2(0x1ed)]=formatMinsToHrs(_0x3934dd);const _0x5a7325=_0x533069>0x0?Math[_0x50f2b2(0x1a4)](_0x3934dd/_0x533069*0x64):0x0,_0x4b497d=document[_0x50f2b2(0x1b5)]('doLoadPercent');_0x4b497d[_0x50f2b2(0x1ed)]=_0x5a7325+'%';const _0x21af15=document[_0x50f2b2(0x1b5)](_0x50f2b2(0x18c));if(_0x5a7325>0x64)_0x4b497d['style'][_0x50f2b2(0x220)]='var(--acc-red)',_0x21af15[_0x50f2b2(0x139)]['borderColor']=_0x50f2b2(0x214);else _0x5a7325>0x50?(_0x4b497d['style'][_0x50f2b2(0x220)]='var(--acc-orange)',_0x21af15[_0x50f2b2(0x139)][_0x50f2b2(0x1d6)]=_0x50f2b2(0x16a)):(_0x4b497d[_0x50f2b2(0x139)][_0x50f2b2(0x220)]='var(--acc-green)',_0x21af15[_0x50f2b2(0x139)][_0x50f2b2(0x1d6)]=_0x50f2b2(0x188));const _0x1d5e76=document['getElementById'](_0x50f2b2(0x180));_0x1d5e76['innerHTML']='';_0x243e79['length']===0x0?_0x1d5e76[_0x50f2b2(0x23e)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x243e79[_0x50f2b2(0x288)]((_0x4e0a0f,_0x33a9ae)=>_0x4e0a0f[_0x50f2b2(0x169)]['localeCompare'](_0x33a9ae[_0x50f2b2(0x169)])),_0x243e79[_0x50f2b2(0x1cb)](_0x4b20bd=>{const _0x5dcba4=_0x50f2b2,_0xe4822d=clients[_0x5dcba4(0x133)](_0x19736f=>_0x19736f[_0x5dcba4(0x246)]===_0x4b20bd['client']),_0x4e5a45=_0xe4822d?_0xe4822d['color']:_0x5dcba4(0x24f),_0xcff0c4=_0x4b20bd[_0x5dcba4(0x21a)]===_0x5dcba4(0x2a4),_0x3a9ecd=_0xcff0c4?_0x5dcba4(0x1bd):'',_0x49a0ed=document['createElement'](_0x5dcba4(0x177));_0x49a0ed[_0x5dcba4(0x14e)]=_0x5dcba4(0x1f7),_0x49a0ed['style'][_0x5dcba4(0x1bb)]=_0x4e5a45,_0x49a0ed[_0x5dcba4(0x23e)]=_0x5dcba4(0x197)+_0x4b20bd[_0x5dcba4(0x169)]+_0x5dcba4(0x1d8)+_0x4b20bd[_0x5dcba4(0x28d)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b20bd['client']+_0x5dcba4(0x21c)+_0x3a9ecd+_0x5dcba4(0x1f6),_0x1d5e76[_0x5dcba4(0x17a)](_0x49a0ed);}));const _0x3dd301=document['getElementById'](_0x50f2b2(0x140)),_0x95a092=dateExceptions[_0x3b7b75]==='off';_0x95a092?(_0x3dd301[_0x50f2b2(0x1ed)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x3dd301[_0x50f2b2(0x14e)]=_0x50f2b2(0x1db),_0x3dd301[_0x50f2b2(0x139)]['color']=_0x50f2b2(0x13f),_0x3dd301[_0x50f2b2(0x139)][_0x50f2b2(0x1a9)]=_0x50f2b2(0x255)):(_0x3dd301[_0x50f2b2(0x1ed)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x3dd301[_0x50f2b2(0x14e)]=_0x50f2b2(0x217),_0x3dd301['style'][_0x50f2b2(0x220)]=_0x50f2b2(0x172),_0x3dd301['style']['background']=_0x50f2b2(0x1be)),openSheet(_0x50f2b2(0x12d));}let currentAnPeriod=a2_0x2152d2(0x200);function openAnalytics(){const _0x40bce3=a2_0x2152d2,_0xfb2f7a=document[_0x40bce3(0x229)](_0x40bce3(0x192));setAnalyticsPeriod(_0x40bce3(0x200),_0xfb2f7a),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x3e2566,_0x340f4e){const _0x5cc48f=a2_0x2152d2;currentAnPeriod=_0x3e2566,document[_0x5cc48f(0x17d)](_0x5cc48f(0x192))['forEach'](_0x2a33c2=>_0x2a33c2[_0x5cc48f(0x231)][_0x5cc48f(0x15e)](_0x5cc48f(0x1c9)));if(_0x340f4e)_0x340f4e[_0x5cc48f(0x231)][_0x5cc48f(0x19c)](_0x5cc48f(0x1c9));const _0x225578=document[_0x5cc48f(0x1b5)](_0x5cc48f(0x26d));_0x225578[_0x5cc48f(0x139)][_0x5cc48f(0x260)]=_0x3e2566===_0x5cc48f(0x1b8)?_0x5cc48f(0x13b):_0x5cc48f(0x18e);const _0x225ef6=new Date();let _0x255ea2=new Date(),_0x525462=new Date();if(_0x3e2566===_0x5cc48f(0x200))_0x255ea2=getStartOfWeek(_0x225ef6),_0x525462=new Date(_0x255ea2),_0x525462[_0x5cc48f(0x12e)](_0x525462[_0x5cc48f(0x296)]()+0x6);else{if(_0x3e2566==='month')_0x255ea2=new Date(_0x225ef6[_0x5cc48f(0x29e)](),_0x225ef6[_0x5cc48f(0x1a1)](),0x1),_0x525462=new Date(_0x225ef6[_0x5cc48f(0x29e)](),_0x225ef6[_0x5cc48f(0x1a1)]()+0x1,0x0);else{!document[_0x5cc48f(0x1b5)](_0x5cc48f(0x25c))[_0x5cc48f(0x1b1)]&&(document[_0x5cc48f(0x1b5)]('anStart')['value']=getLocalDateStr(_0x225ef6),document[_0x5cc48f(0x1b5)]('anEnd')[_0x5cc48f(0x1b1)]=getLocalDateStr(_0x225ef6));refreshAnalytics();return;}}document[_0x5cc48f(0x1b5)](_0x5cc48f(0x25c))[_0x5cc48f(0x1b1)]=getLocalDateStr(_0x255ea2),document[_0x5cc48f(0x1b5)]('anEnd')[_0x5cc48f(0x1b1)]=getLocalDateStr(_0x525462),refreshAnalytics();}function refreshAnalytics(){const _0x28c166=a2_0x2152d2,_0x5a1740=document[_0x28c166(0x1b5)](_0x28c166(0x25c))[_0x28c166(0x1b1)],_0x54f70f=document[_0x28c166(0x1b5)](_0x28c166(0x1c4))[_0x28c166(0x1b1)];if(!_0x5a1740||!_0x54f70f)return;const _0x4414b0=sessions[_0x28c166(0x22a)](_0x4239ce=>_0x4239ce['dateStr']>=_0x5a1740&&_0x4239ce[_0x28c166(0x129)]<=_0x54f70f&&_0x4239ce[_0x28c166(0x21a)]!=='cancelled'),_0x21b030=_0x4414b0['length'],_0x54e2d3=_0x4414b0[_0x28c166(0x22a)](_0x3fb472=>_0x3fb472[_0x28c166(0x21a)]===_0x28c166(0x2a4))[_0x28c166(0x22d)],_0x538c28=_0x21b030>0x0?Math[_0x28c166(0x1a4)](_0x54e2d3/_0x21b030*0x64):0x0;document['getElementById'](_0x28c166(0x181))['textContent']=_0x538c28+'%',document[_0x28c166(0x1b5)](_0x28c166(0x27d))[_0x28c166(0x1ed)]=_0x54e2d3+_0x28c166(0x284)+_0x21b030+_0x28c166(0x22c);const _0x39a6fb=document[_0x28c166(0x1b5)](_0x28c166(0x1ad)),_0x302e97=0x2*Math['PI']*0x23,_0x231d93=_0x302e97-_0x538c28/0x64*_0x302e97;_0x39a6fb['style'][_0x28c166(0x1a8)]=_0x231d93;const _0x2ad429={};_0x4414b0[_0x28c166(0x1cb)](_0x2b526f=>{const _0x30db5f=_0x28c166;if(!_0x2ad429[_0x2b526f['client']]){const _0x14c922=clients[_0x30db5f(0x133)](_0x1250c6=>_0x1250c6[_0x30db5f(0x246)]===_0x2b526f[_0x30db5f(0x26b)]);_0x2ad429[_0x2b526f[_0x30db5f(0x26b)]]={'total':0x0,'done':0x0,'color':_0x14c922?_0x14c922[_0x30db5f(0x220)]:_0x30db5f(0x24f)};}_0x2ad429[_0x2b526f[_0x30db5f(0x26b)]][_0x30db5f(0x271)]++;if(_0x2b526f[_0x30db5f(0x21a)]==='completed')_0x2ad429[_0x2b526f[_0x30db5f(0x26b)]][_0x30db5f(0x280)]++;});const _0x5274f5=document[_0x28c166(0x1b5)](_0x28c166(0x1e3));_0x5274f5[_0x28c166(0x23e)]='';const _0x571bf7=Object[_0x28c166(0x1d0)](_0x2ad429)['sort']((_0xe4fa57,_0x7911a9)=>_0x7911a9[0x1][_0x28c166(0x271)]-_0xe4fa57[0x1][_0x28c166(0x271)]);if(_0x571bf7[_0x28c166(0x22d)]===0x0){_0x5274f5[_0x28c166(0x23e)]=_0x28c166(0x1da);return;}_0x571bf7['forEach'](([_0x3b5cd2,_0x2dced7])=>{const _0x20d084=_0x28c166,_0x2a63b6=Math[_0x20d084(0x1a4)](_0x2dced7[_0x20d084(0x280)]/_0x2dced7[_0x20d084(0x271)]*0x64),_0x479bf7=document[_0x20d084(0x171)]('div');_0x479bf7[_0x20d084(0x14e)]=_0x20d084(0x266),_0x479bf7[_0x20d084(0x139)][_0x20d084(0x1bb)]=_0x2dced7[_0x20d084(0x220)],_0x479bf7[_0x20d084(0x23e)]=_0x20d084(0x1d1)+_0x3b5cd2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x2dced7[_0x20d084(0x280)]+'</span>\x20/\x20'+_0x2dced7[_0x20d084(0x271)]+_0x20d084(0x23b)+_0x2a63b6+_0x20d084(0x1a3),_0x5274f5[_0x20d084(0x17a)](_0x479bf7);});}function formatMinsToHrs(_0x58cff5){if(_0x58cff5===0x0)return'0';const _0x140579=Math['floor'](_0x58cff5/0x3c),_0xf7f11e=_0x58cff5%0x3c;if(_0xf7f11e===0x0)return _0x140579+'—á';return _0x140579+'—á\x20'+_0xf7f11e+'–º';}