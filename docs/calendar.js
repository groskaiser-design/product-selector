const a2_0x2830ee=a2_0x5d0a;(function(_0x129ba8,_0x5a8bc3){const _0x1aa2ec=a2_0x5d0a,_0x5a7e67=_0x129ba8();while(!![]){try{const _0x39bfd7=parseInt(_0x1aa2ec(0x1fa))/0x1*(parseInt(_0x1aa2ec(0x113))/0x2)+-parseInt(_0x1aa2ec(0x1a0))/0x3*(-parseInt(_0x1aa2ec(0x230))/0x4)+parseInt(_0x1aa2ec(0x21d))/0x5*(-parseInt(_0x1aa2ec(0x222))/0x6)+-parseInt(_0x1aa2ec(0x1b9))/0x7+parseInt(_0x1aa2ec(0x22c))/0x8*(parseInt(_0x1aa2ec(0x220))/0x9)+parseInt(_0x1aa2ec(0xf8))/0xa*(-parseInt(_0x1aa2ec(0x20b))/0xb)+parseInt(_0x1aa2ec(0x1c8))/0xc*(-parseInt(_0x1aa2ec(0x214))/0xd);if(_0x39bfd7===_0x5a8bc3)break;else _0x5a7e67['push'](_0x5a7e67['shift']());}catch(_0x9a1cb4){_0x5a7e67['push'](_0x5a7e67['shift']());}}}(a2_0x15b3,0xa4dfd),function initTMA(){const _0x316c90=a2_0x5d0a,_0x3405a4=(function(){let _0x5896e7=!![];return function(_0x47202a,_0x542e65){const _0x56a88f=_0x5896e7?function(){const _0x374e3b=a2_0x5d0a;if(_0x542e65){const _0x5eccfd=_0x542e65[_0x374e3b(0x240)](_0x47202a,arguments);return _0x542e65=null,_0x5eccfd;}}:function(){};return _0x5896e7=![],_0x56a88f;};}()),_0x51a321=_0x3405a4(this,function(){const _0x125d00=a2_0x5d0a;return _0x51a321[_0x125d00(0x1a1)]()[_0x125d00(0x194)](_0x125d00(0x112))[_0x125d00(0x1a1)]()[_0x125d00(0x11c)](_0x51a321)['search'](_0x125d00(0x112));});_0x51a321();try{const _0x136fc5=window[_0x316c90(0x167)]?.['WebApp'];if(!_0x136fc5)return;_0x136fc5['ready'](),_0x136fc5[_0x316c90(0x1f5)]();try{_0x136fc5['setHeaderColor'](_0x316c90(0x21c)),_0x136fc5[_0x316c90(0xf7)]&&_0x136fc5['setBackgroundColor'](_0x316c90(0x21c));}catch(_0x70d4b5){console[_0x316c90(0x1f3)]('Error\x20setting\x20color:',_0x70d4b5);}try{_0x136fc5[_0x316c90(0x1ab)]&&(_0x136fc5[_0x316c90(0x1ab)][_0x316c90(0x1b8)](),_0x136fc5[_0x316c90(0x1ab)]['offClick'](),_0x136fc5[_0x316c90(0x1ab)][_0x316c90(0x119)](function(){const _0x22ccbc=_0x316c90;window[_0x22ccbc(0x120)][_0x22ccbc(0x106)]=_0x22ccbc(0x12b);}));}catch(_0x410147){console[_0x316c90(0x1f3)]('Error\x20setting\x20back\x20button:',_0x410147);}try{if(_0x136fc5['disableVerticalSwipes'])_0x136fc5['disableVerticalSwipes']();}catch(_0x472195){}}catch(_0x579edd){console[_0x316c90(0x1db)]('Critical\x20TMA\x20Error:',_0x579edd);}}());function isAdmin(){const _0x62dc6b=a2_0x5d0a;try{const _0x33dc5c=Number(window['Telegram']?.[_0x62dc6b(0x191)]?.[_0x62dc6b(0xeb)]?.[_0x62dc6b(0x1c9)]?.['id']);return _0x33dc5c===0xbaf7174;}catch(_0x2c442a){return![];}}const APP_VERSION=a2_0x2830ee(0xe6),API_URL=a2_0x2830ee(0x16c),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2830ee(0x18c),KEY_SETTINGS=a2_0x2830ee(0x1c1);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4f3320=a2_0x2830ee;return window[_0x4f3320(0x167)]?.[_0x4f3320(0x191)]?.[_0x4f3320(0xeb)]?.[_0x4f3320(0x1c9)]?.['id']||'guest';},'saveLocally'(){const _0x491a00=a2_0x2830ee;try{localStorage[_0x491a00(0x22d)](KEY_CLIENTS,JSON[_0x491a00(0x1ca)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x491a00(0x1ca)](sessions)),localStorage[_0x491a00(0x22d)](KEY_SETTINGS,JSON[_0x491a00(0x1ca)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x43fafd){console[_0x491a00(0x1db)](_0x491a00(0xf2),_0x43fafd);}},'loadLocal'(){const _0x54eac6=a2_0x2830ee;try{const _0x20298c=localStorage[_0x54eac6(0xf6)](KEY_CLIENTS);if(_0x20298c)clients=JSON['parse'](_0x20298c);const _0x4f32d3=localStorage[_0x54eac6(0xf6)](KEY_SESSIONS);if(_0x4f32d3)sessions=JSON[_0x54eac6(0x186)](_0x4f32d3);const _0x4c3ce2=localStorage[_0x54eac6(0xf6)](KEY_SETTINGS);if(_0x4c3ce2){const _0x1b7187=JSON[_0x54eac6(0x186)](_0x4c3ce2);if(_0x1b7187[_0x54eac6(0xfd)])availabilityPattern=_0x1b7187[_0x54eac6(0xfd)];if(_0x1b7187[_0x54eac6(0x189)])dateExceptions=_0x1b7187['exceptions'];if(_0x1b7187[_0x54eac6(0x104)])specialRanges=_0x1b7187['ranges'];}else{for(let _0x4eb444=0x0;_0x4eb444<0x7;_0x4eb444++)availabilityPattern[_0x4eb444]=Array[_0x54eac6(0x16e)]({'length':0xc},(_0x58feb4,_0x284e4f)=>_0x284e4f+0x9);}}catch(_0x195384){console[_0x54eac6(0x1db)](_0x54eac6(0x229),_0x195384);}},async 'fetchFromServer'(_0x213eb3,_0x2b50b5={}){const _0x44b18c=a2_0x2830ee,_0x144bd7=window['Telegram']?.[_0x44b18c(0x191)],_0x31cd29={'action':_0x213eb3,'init_data':_0x144bd7?.[_0x44b18c(0x1bd)]||'',..._0x2b50b5};try{const _0x3222bd=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x44b18c(0x107)},'body':JSON[_0x44b18c(0x1ca)](_0x31cd29)}),_0x4c5d54=await _0x3222bd['json']();if(!_0x4c5d54['ok'])throw new Error(_0x4c5d54[_0x44b18c(0x1db)]||_0x44b18c(0xc7));return _0x4c5d54[_0x44b18c(0x20d)];}catch(_0x4ee628){console[_0x44b18c(0x1db)](_0x44b18c(0xdf)+_0x213eb3+_0x44b18c(0x144),_0x4ee628);throw _0x4ee628;}},async 'syncLoad'(){const _0x3b30ef=a2_0x2830ee,_0x1e91b2=new Date(),_0x4ecb43=_0x1e91b2[_0x3b30ef(0x147)]()+'-'+String(_0x1e91b2[_0x3b30ef(0x17e)]()+0x1)[_0x3b30ef(0x235)](0x2,'0'),_0x4398f2=new Date(_0x1e91b2);_0x4398f2[_0x3b30ef(0x212)](_0x1e91b2[_0x3b30ef(0x17e)]()+0x1);const _0x2cc2af=_0x4398f2[_0x3b30ef(0x147)]()+'-'+String(_0x4398f2[_0x3b30ef(0x17e)]()+0x1)['padStart'](0x2,'0'),_0x33d0b7=Date[_0x3b30ef(0x239)]();console[_0x3b30ef(0x1f3)](_0x3b30ef(0xef)+_0x4ecb43+',\x20'+_0x2cc2af+_0x3b30ef(0x102));try{const [_0x28e61f,_0x28238d]=await Promise[_0x3b30ef(0x1fe)]([this[_0x3b30ef(0x1ee)](_0x3b30ef(0xce),{'month_str':_0x4ecb43}),this['fetchFromServer'](_0x3b30ef(0xce),{'month_str':_0x2cc2af})]);if(lastUserActionTime>_0x33d0b7)return console[_0x3b30ef(0x1b4)](_0x3b30ef(0xf4)),![];return this[_0x3b30ef(0x1cb)](_0x28e61f,_0x4ecb43),this[_0x3b30ef(0x1cb)](_0x28238d,_0x2cc2af),this[_0x3b30ef(0x1fb)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x88360b){console[_0x3b30ef(0x1db)](_0x88360b);throw _0x88360b;}},'mergeServerData'(_0x33feec,_0x7b4b9c){const _0x2003ce=a2_0x2830ee;if(!_0x33feec)return;_0x33feec[_0x2003ce(0xf5)]&&Array[_0x2003ce(0x1fc)](_0x33feec[_0x2003ce(0xf5)])&&(clients=_0x33feec[_0x2003ce(0xf5)]);if(_0x33feec['settings']){if(_0x33feec['settings'][_0x2003ce(0xfd)])availabilityPattern=_0x33feec[_0x2003ce(0x136)][_0x2003ce(0xfd)];if(_0x33feec[_0x2003ce(0x136)][_0x2003ce(0x189)])dateExceptions=_0x33feec[_0x2003ce(0x136)]['exceptions'];if(_0x33feec[_0x2003ce(0x136)][_0x2003ce(0x104)])specialRanges=_0x33feec['settings'][_0x2003ce(0x104)];if(_0x33feec['settings']['cancel_window']){localStorage[_0x2003ce(0x22d)](_0x2003ce(0x21f),_0x33feec[_0x2003ce(0x136)][_0x2003ce(0x134)]);const _0x27fca3=document['getElementById'](_0x2003ce(0x188));if(_0x27fca3)_0x27fca3['value']=_0x33feec['settings'][_0x2003ce(0x134)];}}_0x33feec[_0x2003ce(0x13d)]&&(sessions=sessions['filter'](_0x33e688=>!_0x33e688['dateStr']['startsWith'](_0x7b4b9c)),Object['keys'](_0x33feec[_0x2003ce(0x13d)])[_0x2003ce(0x17f)](_0xdf2e76=>{const _0x5d886a=_0x2003ce,_0x337f41=_0x33feec['calendar'][_0xdf2e76];_0x337f41[_0x5d886a(0x17f)](_0x46ff4b=>{const _0xc0c7a0=_0x5d886a,_0x24d93e=clients['find'](_0x54b5d7=>String(_0x54b5d7['id'])===String(_0x46ff4b['c']));sessions[_0xc0c7a0(0x108)]({'id':_0x46ff4b['i'],'clientId':_0x46ff4b['c'],'client':_0x24d93e?_0x24d93e['name']:_0xc0c7a0(0x103),'dateStr':_0x7b4b9c+'-'+_0xdf2e76[_0xc0c7a0(0x235)](0x2,'0'),'start':_0x46ff4b['s'],'end':_0x46ff4b['e'],'status':_0x46ff4b['st']||_0xc0c7a0(0x20a),'note':_0x46ff4b['n']||'','seriesId':_0x46ff4b['sid']||null});});}));},async 'syncBatch'(_0x11a156){const _0x396b9c=a2_0x2830ee,_0x1029dd=[...new Set(_0x11a156)],_0x62cf54=_0x1029dd['map'](_0x299711=>{const _0x3a0aaa=a2_0x5d0a,_0x64c823=sessions[_0x3a0aaa(0x1aa)](_0x340872=>_0x340872[_0x3a0aaa(0x163)]===_0x299711&&_0x340872[_0x3a0aaa(0xcc)]!==_0x3a0aaa(0x1ef)),_0x3c95e6=_0x64c823[_0x3a0aaa(0x21b)](_0x5d16d8=>({'i':_0x5d16d8['id'],'c':_0x5d16d8[_0x3a0aaa(0x129)],'s':_0x5d16d8[_0x3a0aaa(0x127)],'e':_0x5d16d8[_0x3a0aaa(0x21e)],'st':_0x5d16d8[_0x3a0aaa(0xcc)],'n':_0x5d16d8['note'],'sid':_0x5d16d8[_0x3a0aaa(0xcf)]}));return{'date':_0x299711,'day_data':_0x3c95e6};});if(_0x62cf54['length']===0x0)return;console[_0x396b9c(0x1f3)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x62cf54[_0x396b9c(0x192)]+_0x396b9c(0x161)),await this[_0x396b9c(0x1ee)](_0x396b9c(0x1e3),{'changes':_0x62cf54});}};async function init(){const _0x4ab179=a2_0x2830ee;DataManager[_0x4ab179(0x1ba)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x4ab179(0x20c)]('matrixViewport')[_0x4ab179(0x23b)](_0x4ab179(0x145),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x4ab179(0x155)]()[_0x4ab179(0x1ec)](()=>{const _0x3266cd=_0x4ab179;showToast(_0x3266cd(0x179),!![]);})[_0x4ab179(0x12f)](_0x5c84c8=>{const _0x93041c=_0x4ab179;showToast(_0x93041c(0x101),![]);});}function generateId(){const _0x10e79e=a2_0x2830ee;return Date[_0x10e79e(0x239)]()[_0x10e79e(0x1a1)](0x24)+Math['random']()[_0x10e79e(0x1a1)](0x24)[_0x10e79e(0xcd)](0x2,0x5);}function toggleSeriesInput(){const _0x1d0573=a2_0x2830ee,_0x52a5d2=document[_0x1d0573(0x20c)](_0x1d0573(0x196))['checked'],_0x98138f=document[_0x1d0573(0x20c)](_0x1d0573(0x160));_0x98138f[_0x1d0573(0x1af)][_0x1d0573(0x118)]=_0x52a5d2?_0x1d0573(0x224):_0x1d0573(0x1e5);const _0x2c6551=document[_0x1d0573(0x20c)](_0x1d0573(0x132));_0x2c6551['style'][_0x1d0573(0x151)]=_0x52a5d2?_0x1d0573(0x211):_0x1d0573(0x11b);}function openAddSession(_0x4bdec3){const _0x343d36=a2_0x2830ee;editingId=null,populateClientSelect(),document['getElementById'](_0x343d36(0x1e6))[_0x343d36(0x190)]=_0x343d36(0x1f2),document['getElementById'](_0x343d36(0xdb))[_0x343d36(0x1af)][_0x343d36(0x118)]=_0x343d36(0x1e5),document['getElementById']('btnStatusToggle')[_0x343d36(0x1af)][_0x343d36(0x118)]=_0x343d36(0x1e5);const _0x5e49a=document[_0x343d36(0x20c)](_0x343d36(0x132)),_0x198f84=document['getElementById'](_0x343d36(0x160));_0x5e49a['style']['display']='flex',_0x5e49a[_0x343d36(0x1af)][_0x343d36(0x151)]=_0x343d36(0x11b),document[_0x343d36(0x20c)]('inpRecurring')[_0x343d36(0x10f)]=![],document[_0x343d36(0x20c)](_0x343d36(0x1f9))['value']=0x4,_0x198f84[_0x343d36(0x1af)]['display']=_0x343d36(0x1e5),document[_0x343d36(0x20c)](_0x343d36(0x122))[_0x343d36(0xf3)]=getLocalDateStr(_0x4bdec3),updateDateDisplay();const _0x44d279=_0x4bdec3[_0x343d36(0x237)]();document['getElementById'](_0x343d36(0x228))[_0x343d36(0xf3)]=String(_0x44d279)[_0x343d36(0x235)](0x2,'0')+_0x343d36(0x1d0),document['getElementById']('inpEnd')[_0x343d36(0xf3)]=String(_0x44d279+0x1)[_0x343d36(0x235)](0x2,'0')+':00',openSheet(_0x343d36(0xc8));}function openEdit(_0x4476c4){const _0x2e291e=a2_0x2830ee;editingId=_0x4476c4['id'],populateClientSelect(),document[_0x2e291e(0x20c)](_0x2e291e(0x1e6))[_0x2e291e(0x190)]=_0x2e291e(0x1c4),document[_0x2e291e(0x20c)](_0x2e291e(0xdb))[_0x2e291e(0x1af)][_0x2e291e(0x118)]=_0x2e291e(0x224);const _0x3df97e=document[_0x2e291e(0x20c)](_0x2e291e(0xd6));_0x3df97e[_0x2e291e(0x1af)][_0x2e291e(0x118)]=_0x2e291e(0x105);_0x4476c4[_0x2e291e(0xcc)]==='completed'?(_0x3df97e[_0x2e291e(0x18a)]='btn-status-toggle\x20undo-mode',_0x3df97e[_0x2e291e(0x1b2)]=_0x2e291e(0x15c)):(_0x3df97e[_0x2e291e(0x18a)]=_0x2e291e(0xde),_0x3df97e[_0x2e291e(0x1b2)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x50f26a=!!_0x4476c4[_0x2e291e(0xcf)];document[_0x2e291e(0x20c)](_0x2e291e(0x132))[_0x2e291e(0x1af)][_0x2e291e(0x118)]=_0x2e291e(0x1e5),document['getElementById'](_0x2e291e(0x160))[_0x2e291e(0x1af)][_0x2e291e(0x118)]=_0x2e291e(0x1e5),_0x50f26a?(document['getElementById'](_0x2e291e(0x1ed))[_0x2e291e(0x1af)][_0x2e291e(0x118)]=_0x2e291e(0x105),document['getElementById'](_0x2e291e(0x1ed))[_0x2e291e(0x170)](_0x2e291e(0x100))[_0x2e291e(0x190)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0x2e291e(0x20c)](_0x2e291e(0x1ed))[_0x2e291e(0x1af)]['display']='none',document[_0x2e291e(0x20c)](_0x2e291e(0x22b))[_0x2e291e(0xf3)]=_0x4476c4[_0x2e291e(0x1d6)],document[_0x2e291e(0x20c)](_0x2e291e(0x122))[_0x2e291e(0xf3)]=_0x4476c4[_0x2e291e(0x163)],document[_0x2e291e(0x20c)](_0x2e291e(0x228))[_0x2e291e(0xf3)]=_0x4476c4['start'],document[_0x2e291e(0x20c)](_0x2e291e(0x139))[_0x2e291e(0xf3)]=_0x4476c4['end'],document[_0x2e291e(0x20c)](_0x2e291e(0x201))['value']=_0x4476c4['note']||'',updateDateDisplay(),openSheet(_0x2e291e(0xc8));}async function trySaveSession(){const _0x239a18=a2_0x2830ee,_0x4c2c54=document[_0x239a18(0x20c)](_0x239a18(0x22b))[_0x239a18(0xf3)],_0x36d6f5=document['getElementById'](_0x239a18(0x122))[_0x239a18(0xf3)],_0xb05a1b=document[_0x239a18(0x20c)](_0x239a18(0x228))[_0x239a18(0xf3)],_0x69e910=document[_0x239a18(0x20c)](_0x239a18(0x139))[_0x239a18(0xf3)],_0x214808=document[_0x239a18(0x20c)](_0x239a18(0x201))[_0x239a18(0xf3)],_0x26ac2d=document[_0x239a18(0x20c)](_0x239a18(0x196))[_0x239a18(0x10f)];let _0x523bb2=0x4;if(_0x26ac2d){const _0x5cde64=parseInt(document[_0x239a18(0x20c)](_0x239a18(0x1f9))['value']);if(!_0x5cde64||_0x5cde64<0x2){showToast(_0x239a18(0x23a),![]);return;}if(_0x5cde64>0x64){showToast(_0x239a18(0x1f6),![]);return;}_0x523bb2=_0x5cde64;}const _0x598453=clients['find'](_0xe831ca=>_0xe831ca[_0x239a18(0x166)]===_0x4c2c54);if(!_0x598453){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x271fa3=validateAppointment(_0x36d6f5,_0xb05a1b,_0x69e910,editingId,_0x598453['id']);if(!_0x271fa3['valid']){showToast(_0x271fa3[_0x239a18(0xff)],![]);return;}_0x271fa3[_0x239a18(0x1cf)]&&showToast(_0x271fa3['warning'],![]);const _0x4c935e={'client':_0x4c2c54,'clientId':_0x598453['id'],'start':_0xb05a1b,'end':_0x69e910,'note':_0x214808,'status':'planned'},_0x7f9ce6=editingId?sessions[_0x239a18(0x1a4)](_0x477143=>_0x477143['id']===editingId):null;if(_0x7f9ce6&&_0x7f9ce6[_0x239a18(0xcf)]){tempSessionData={..._0x4c935e,'dateStr':_0x36d6f5,'id':editingId,'seriesId':_0x7f9ce6['seriesId']},openActionSheet(_0x239a18(0x184));return;}let _0x114369=null;if(!editingId)_0x114369=_0x239a18(0x11d);else{if(_0x7f9ce6){if(String(_0x7f9ce6[_0x239a18(0x129)])!==String(_0x598453['id']))console['log'](_0x239a18(0x20e)),NotificationManager[_0x239a18(0x18f)]('cancel',_0x7f9ce6),_0x114369='create';else(_0x7f9ce6[_0x239a18(0x127)]!==_0xb05a1b||_0x7f9ce6[_0x239a18(0x21e)]!==_0x69e910||_0x7f9ce6['dateStr']!==_0x36d6f5)&&(_0x114369=_0x239a18(0x10c));}}if(!editingId&&_0x26ac2d){createBatchSeries(_0x4c935e,_0x36d6f5,_0x523bb2),NotificationManager[_0x239a18(0x18f)]('create',{..._0x4c935e,'dateStr':_0x36d6f5});return;}lastUserActionTime=Date[_0x239a18(0x239)]();const _0x7739b9={..._0x4c935e,'dateStr':_0x36d6f5,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x7739b9),_0x114369&&NotificationManager['send'](_0x114369,_0x7739b9);}function toggleSessionStatus(){const _0x36859d=a2_0x2830ee;lastUserActionTime=Date[_0x36859d(0x239)]();const _0x234a46=sessions[_0x36859d(0x1a4)](_0x320fa3=>_0x320fa3['id']===editingId);if(!_0x234a46)return;const _0x33f85b=_0x234a46[_0x36859d(0xcc)]===_0x36859d(0x182)?_0x36859d(0x20a):_0x36859d(0x182);_0x234a46[_0x36859d(0xcc)]=_0x33f85b,saveSingleSession(_0x234a46),_0x33f85b==='completed'&&NotificationManager[_0x36859d(0x18f)](_0x36859d(0x187),_0x234a46),showToast(_0x33f85b===_0x36859d(0x182)?_0x36859d(0x13b):_0x36859d(0x185),!![]);}function validateAppointment(_0x10b960,_0x372cab,_0x10b60b,_0x29abff,_0x9f9c46){const _0x254cda=a2_0x2830ee,[_0x516e8e,_0x5253a5]=_0x372cab[_0x254cda(0x146)](':')['map'](Number),[_0x42c359,_0x251255]=_0x10b60b[_0x254cda(0x146)](':')[_0x254cda(0x21b)](Number),_0x11ae65=_0x516e8e*0x3c+_0x5253a5,_0x59efa7=_0x42c359*0x3c+_0x251255,_0x229599=String(_0x9f9c46);let _0x1ca1b0=![],_0x5169db='';for(let _0x16e372 of sessions){if(_0x16e372[_0x254cda(0x163)]!==_0x10b960)continue;if(_0x16e372[_0x254cda(0xcc)]===_0x254cda(0x1f7))continue;if(_0x29abff&&String(_0x16e372['id'])===String(_0x29abff))continue;const [_0x3fcb37,_0x2fe280]=_0x16e372[_0x254cda(0x127)][_0x254cda(0x146)](':')[_0x254cda(0x21b)](Number),[_0x5c2924,_0x3de5f4]=_0x16e372[_0x254cda(0x21e)][_0x254cda(0x146)](':')[_0x254cda(0x21b)](Number),_0x1bcbd8=_0x3fcb37*0x3c+_0x2fe280,_0x4595d4=_0x5c2924*0x3c+_0x3de5f4;if(Math['max'](_0x11ae65,_0x1bcbd8)<Math[_0x254cda(0x202)](_0x59efa7,_0x4595d4)){if(_0x16e372['clientId']&&String(_0x16e372['clientId'])===_0x229599)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x16e372['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x1ca1b0=!![],_0x5169db=_0x16e372['client'];}}if(_0x1ca1b0)return{'valid':!![],'warning':_0x254cda(0x1be)+_0x5169db};return{'valid':!![]};}function saveSingleSession(_0x1d1863){const _0x4180ff=a2_0x2830ee;if(editingId){const _0x59eb92=sessions[_0x4180ff(0x175)](_0x5e96dc=>_0x5e96dc['id']===editingId);if(_0x59eb92!==-0x1)sessions[_0x59eb92]=_0x1d1863;}else sessions['push'](_0x1d1863);afterSaveAction([_0x1d1863['dateStr']]);}function createBatchSeries(_0x199c3a,_0x3f0bed,_0x5b20d7){const _0x9915a9=a2_0x2830ee,_0x1db20e=generateId(),_0x48e080=[],_0x47c2b1=[];let _0x2be02e=0x0,_0x24f49e=new Date(_0x3f0bed);for(let _0x209d2f=0x0;_0x209d2f<_0x5b20d7;_0x209d2f++){const _0x1c99b5=getLocalDateStr(_0x24f49e),_0x35cef1=validateAppointment(_0x1c99b5,_0x199c3a['start'],_0x199c3a['end'],null,_0x199c3a[_0x9915a9(0x129)]);if(!_0x35cef1[_0x9915a9(0x223)])console['log'](_0x9915a9(0x1e0)+_0x1c99b5+_0x9915a9(0x169)),_0x2be02e++;else{const _0x3008d6={..._0x199c3a,'id':generateId(),'dateStr':_0x1c99b5,'seriesId':_0x1db20e};_0x47c2b1[_0x9915a9(0x108)](_0x3008d6),_0x48e080[_0x9915a9(0x108)](_0x1c99b5);}_0x24f49e['setDate'](_0x24f49e[_0x9915a9(0x14d)]()+0x7);}if(_0x47c2b1[_0x9915a9(0x192)]===0x0){showToast(_0x9915a9(0x1a8),![]);return;}sessions[_0x9915a9(0x108)](..._0x47c2b1),lastUserActionTime=Date['now']();let _0x4317f4='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x47c2b1[_0x9915a9(0x192)];_0x2be02e>0x0&&(_0x4317f4+=_0x9915a9(0x1ff)+_0x2be02e+')'),showToast(_0x4317f4,!![]),afterSaveAction(_0x48e080);}function updateSeriesBatch(_0x43a4ee,_0x377060){const _0x23a9d0=a2_0x2830ee,_0x4699d0=[],_0x5b619b=_0x377060[_0x23a9d0(0xcf)];if(_0x43a4ee===_0x23a9d0(0x1e8)){const _0x395db2={..._0x377060,'seriesId':null},_0x6d88a6=sessions[_0x23a9d0(0x175)](_0x13ed83=>_0x13ed83['id']===_0x377060['id']);if(_0x6d88a6!==-0x1)sessions[_0x6d88a6]=_0x395db2;_0x4699d0[_0x23a9d0(0x108)](_0x395db2['dateStr']);}else{if(_0x43a4ee===_0x23a9d0(0x197)){const _0x5cb958=_0x377060[_0x23a9d0(0x163)];sessions[_0x23a9d0(0x17f)]((_0x5902b4,_0xdd9dca)=>{const _0x4f5642=_0x23a9d0;_0x5902b4['seriesId']===_0x5b619b&&_0x5902b4['dateStr']>=_0x5cb958&&(sessions[_0xdd9dca]={...sessions[_0xdd9dca],'start':_0x377060['start'],'end':_0x377060['end'],'note':_0x377060[_0x4f5642(0xd0)],'client':_0x377060['client'],'clientId':_0x377060[_0x4f5642(0x129)]},_0x4699d0[_0x4f5642(0x108)](_0x5902b4[_0x4f5642(0x163)]));});}}afterSaveAction(_0x4699d0);}function tryDeleteSession(){const _0x2c2906=a2_0x2830ee,_0x26dda4=sessions[_0x2c2906(0x1a4)](_0x252dba=>_0x252dba['id']===editingId);if(!_0x26dda4)return;_0x26dda4[_0x2c2906(0xcf)]?openActionSheet(_0x2c2906(0x1a9)):commitDelete(_0x2c2906(0x1e8),_0x26dda4);}function commitDelete(_0x2127e4,_0x1ffeb5){const _0x224f5f=a2_0x2830ee;lastUserActionTime=Date[_0x224f5f(0x239)](),NotificationManager['send'](_0x224f5f(0x13c),_0x1ffeb5);const _0x3125dc=[];if(_0x2127e4===_0x224f5f(0x1e8))sessions=sessions[_0x224f5f(0x1aa)](_0x4a02a8=>_0x4a02a8['id']!==_0x1ffeb5['id']),_0x3125dc['push'](_0x1ffeb5[_0x224f5f(0x163)]);else{if(_0x2127e4===_0x224f5f(0x197)){const _0x28b4c5=_0x1ffeb5[_0x224f5f(0x163)],_0x265a60=_0x1ffeb5[_0x224f5f(0xcf)];sessions[_0x224f5f(0x17f)](_0x39a15c=>{const _0x5eee96=_0x224f5f;_0x39a15c[_0x5eee96(0xcf)]===_0x265a60&&_0x39a15c[_0x5eee96(0x163)]>=_0x28b4c5&&_0x3125dc[_0x5eee96(0x108)](_0x39a15c[_0x5eee96(0x163)]);}),sessions=sessions['filter'](_0x48eeec=>!(_0x48eeec['seriesId']===_0x265a60&&_0x48eeec['dateStr']>=_0x28b4c5));}}afterSaveAction(_0x3125dc);}function afterSaveAction(_0x270475){const _0x4c8af2=a2_0x2830ee;DataManager[_0x4c8af2(0x1fb)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x270475)[_0x4c8af2(0x1ec)](()=>console[_0x4c8af2(0x1f3)](_0x4c8af2(0x158)))['catch'](_0x398ea3=>showToast(_0x4c8af2(0x238),![]));}const NotificationManager={'formatDate'(_0x2fbaf1){const _0x458442=a2_0x2830ee,_0x579168=new Date(_0x2fbaf1),_0x100e04={'weekday':_0x458442(0xe5),'day':_0x458442(0x126),'month':_0x458442(0xe5)};let _0x2cd73e=_0x579168['toLocaleDateString'](_0x458442(0x16b),_0x100e04);return _0x2cd73e[_0x458442(0x143)](0x0)[_0x458442(0x1d2)]()+_0x2cd73e[_0x458442(0x1e9)](0x1);},'getText'(_0x157a10,_0x57574b){const _0x3920a1=a2_0x2830ee,_0x251dbd=this['formatDate'](_0x57574b[_0x3920a1(0x163)]);switch(_0x157a10){case _0x3920a1(0x11d):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x3920a1(0xe8)+_0x251dbd+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x57574b[_0x3920a1(0x127)]+'\x20‚Äî\x20'+_0x57574b[_0x3920a1(0x21e)]+'\x0a\x0a')+_0x3920a1(0xf0);case _0x3920a1(0x10c):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x3920a1(0x1ad)+_0x57574b[_0x3920a1(0x127)]+_0x3920a1(0x1dc)+_0x57574b[_0x3920a1(0x21e)]+_0x3920a1(0x232))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x251dbd);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x3920a1(0x142)+_0x251dbd+'\x20('+_0x57574b[_0x3920a1(0x127)]+_0x3920a1(0x141));case'complete':return _0x3920a1(0x1b7)+_0x3920a1(0x1e7)+'<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>';default:return'';}},async 'send'(_0x5eee39,_0x10b814){const _0x5af0fc=a2_0x2830ee;console[_0x5af0fc(0x1f3)](_0x5af0fc(0x1d5),_0x5eee39,_0x10b814);if(!_0x10b814){console[_0x5af0fc(0x1db)](_0x5af0fc(0x17a));return;}const _0x1296a2=String(_0x10b814[_0x5af0fc(0x129)]);console[_0x5af0fc(0x1f3)](_0x5af0fc(0x180),_0x1296a2);if(!_0x10b814[_0x5af0fc(0x129)]||_0x1296a2===_0x5af0fc(0x208)||_0x1296a2===_0x5af0fc(0x1cc)){console[_0x5af0fc(0x1db)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x10b814[_0x5af0fc(0x1d6)]){const _0x3233fe=clients[_0x5af0fc(0x1a4)](_0x2d6169=>_0x2d6169[_0x5af0fc(0x166)]===_0x10b814[_0x5af0fc(0x1d6)]);if(_0x3233fe)return console[_0x5af0fc(0x1f3)](_0x5af0fc(0x218),_0x3233fe['id']),this[_0x5af0fc(0x18f)](_0x5eee39,{..._0x10b814,'clientId':_0x3233fe['id']});}return;}if(_0x1296a2[_0x5af0fc(0x192)]<0x5){console['warn'](_0x5af0fc(0x20f),_0x1296a2);return;}const _0x32eaf5=this[_0x5af0fc(0x162)](_0x5eee39,_0x10b814);if(!_0x32eaf5){console[_0x5af0fc(0x1db)](_0x5af0fc(0xe4));return;}console[_0x5af0fc(0x1f3)](_0x5af0fc(0x1cd)+_0x1296a2+'...'),DataManager[_0x5af0fc(0x1ee)](_0x5af0fc(0x22a),{'chatId':_0x1296a2,'text':_0x32eaf5})[_0x5af0fc(0x1ec)](_0x5612a1=>console['log'](_0x5af0fc(0xe0),_0x5612a1))[_0x5af0fc(0x12f)](_0x2ae783=>console['error'](_0x5af0fc(0x17b),_0x2ae783));}};function getLocalDateStr(_0x44717b){const _0xa57627=a2_0x2830ee,_0xc2ae58=_0x44717b[_0xa57627(0x147)](),_0x39d0fc=String(_0x44717b['getMonth']()+0x1)['padStart'](0x2,'0'),_0x2ce5b6=String(_0x44717b['getDate']())[_0xa57627(0x235)](0x2,'0');return _0xc2ae58+'-'+_0x39d0fc+'-'+_0x2ce5b6;}function getDateStr(_0x1d55ef){const _0x30b3d7=a2_0x2830ee,_0x3e6bc4=new Date();return _0x3e6bc4[_0x30b3d7(0x1bc)](_0x3e6bc4[_0x30b3d7(0x14d)]()+_0x1d55ef),getLocalDateStr(_0x3e6bc4);}function getStartOfWeek(_0x2a4be8){const _0x257539=a2_0x2830ee,_0x54515e=new Date(_0x2a4be8),_0x4819e2=_0x54515e[_0x257539(0x1d3)](),_0x548c7b=_0x54515e[_0x257539(0x14d)]()-_0x4819e2+(_0x4819e2===0x0?-0x6:0x1);return _0x54515e[_0x257539(0x1bc)](_0x548c7b),_0x54515e['setHours'](0x0,0x0,0x0,0x0),_0x54515e;}function hexToRgba(_0x2f0a64,_0x3e2cdc){const _0x3f84fa=a2_0x2830ee;if(!_0x2f0a64)return _0x3f84fa(0xfb);let _0x3c7553=0x0,_0x396b13=0x0,_0x416d3f=0x0;if(_0x2f0a64[_0x3f84fa(0x192)]===0x4)_0x3c7553='0x'+_0x2f0a64[0x1]+_0x2f0a64[0x1],_0x396b13='0x'+_0x2f0a64[0x2]+_0x2f0a64[0x2],_0x416d3f='0x'+_0x2f0a64[0x3]+_0x2f0a64[0x3];else _0x2f0a64[_0x3f84fa(0x192)]===0x7&&(_0x3c7553='0x'+_0x2f0a64[0x1]+_0x2f0a64[0x2],_0x396b13='0x'+_0x2f0a64[0x3]+_0x2f0a64[0x4],_0x416d3f='0x'+_0x2f0a64[0x5]+_0x2f0a64[0x6]);return _0x3f84fa(0x174)+ +_0x3c7553+',\x20'+ +_0x396b13+',\x20'+ +_0x416d3f+',\x20'+_0x3e2cdc+')';}function renderTimeColumn(){const _0x4b3ab9=a2_0x2830ee,_0x18185a=document[_0x4b3ab9(0x20c)]('timeColumn'),_0x1ed96b=document[_0x4b3ab9(0x20c)](_0x4b3ab9(0x1d4));_0x18185a[_0x4b3ab9(0x1b2)]='',_0x18185a['appendChild'](_0x1ed96b);for(let _0x5db8bc=0x0;_0x5db8bc<0x18;_0x5db8bc++){const _0x584761=document[_0x4b3ab9(0x18d)](_0x4b3ab9(0x1ac));_0x584761['className']=_0x4b3ab9(0xee);if(_0x5db8bc>0x0)_0x584761[_0x4b3ab9(0x1b2)]=_0x4b3ab9(0x124)+String(_0x5db8bc)[_0x4b3ab9(0x235)](0x2,'0')+_0x4b3ab9(0x23c);_0x18185a[_0x4b3ab9(0x14e)](_0x584761);}}function renderDayRange(_0x33b07b,_0x2f0113){const _0x4eebe9=a2_0x2830ee,_0x222fc3=document['getElementById'](_0x4eebe9(0x206)),_0x13f376=document['getElementById'](_0x4eebe9(0x149)),_0x2f1f77=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34353c=new Date();_0x34353c[_0x4eebe9(0x1c2)](0x0,0x0,0x0,0x0);const _0x45a954=getLocalDateStr(new Date());for(let _0x20b454=_0x33b07b;_0x20b454<=_0x2f0113;_0x20b454++){const _0x42913a=new Date(_0x34353c);_0x42913a['setDate'](_0x42913a[_0x4eebe9(0x14d)]()+_0x20b454);const _0x1e27e3=getLocalDateStr(_0x42913a);let _0x266962=_0x42913a[_0x4eebe9(0x1d3)]()-0x1;if(_0x266962===-0x1)_0x266962=0x6;const _0x3908cc=_0x1e27e3===_0x45a954,_0x4b3ab2=document[_0x4eebe9(0x18d)]('div');_0x4b3ab2[_0x4eebe9(0x18a)]=_0x4eebe9(0x12e)+(_0x3908cc?_0x4eebe9(0x1e4):''),_0x4b3ab2['id']=_0x4eebe9(0x15e)+_0x1e27e3,_0x4b3ab2[_0x4eebe9(0x22e)]('data-date',_0x1e27e3),_0x4b3ab2['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x2f1f77[_0x266962]+_0x4eebe9(0x128)+_0x42913a['getDate']()+_0x4eebe9(0x159)+_0x1e27e3+_0x4eebe9(0x173),_0x4b3ab2[_0x4eebe9(0x1df)]=()=>openDayOptions(_0x1e27e3,_0x2f1f77[_0x266962]+'\x20'+_0x42913a[_0x4eebe9(0x14d)]()),_0x222fc3[_0x4eebe9(0x14e)](_0x4b3ab2);const _0x1cd351=document[_0x4eebe9(0x18d)](_0x4eebe9(0x1ac));_0x1cd351[_0x4eebe9(0x18a)]=_0x4eebe9(0x1ae)+(_0x3908cc?_0x4eebe9(0x1e4):''),_0x1cd351[_0x4eebe9(0x22e)]('data-date',_0x1e27e3),_0x1cd351[_0x4eebe9(0x22e)](_0x4eebe9(0x23e),_0x266962),renderEventsForColumn(_0x1cd351,_0x1e27e3,_0x266962),attachLongPressHandler(_0x1cd351,_0x42913a),_0x13f376[_0x4eebe9(0x14e)](_0x1cd351),updateDayStats(_0x1e27e3);}}function reRenderBlocks(){const _0x1f4225=a2_0x2830ee;document[_0x1f4225(0x14b)](_0x1f4225(0x13a))[_0x1f4225(0x17f)](_0x409a5d=>{const _0x1fb46d=_0x1f4225;_0x409a5d[_0x1fb46d(0x14b)](_0x1fb46d(0x18e))[_0x1fb46d(0x17f)](_0x5a454f=>_0x5a454f[_0x1fb46d(0x1dd)]());const _0x4ce1bc=_0x409a5d[_0x1fb46d(0xe1)](_0x1fb46d(0xca)),_0x34ee18=parseInt(_0x409a5d['getAttribute'](_0x1fb46d(0x23e))),_0x138d3f=Math[_0x1fb46d(0x207)](_0x409a5d[_0x1fb46d(0x1eb)]);(availabilityPattern[_0x34ee18]||[])[_0x1fb46d(0x17f)](_0x430e8f=>{const _0x36da23=_0x1fb46d,_0x4621aa=document[_0x36da23(0x18d)](_0x36da23(0x1ac));_0x4621aa[_0x36da23(0x18a)]=_0x36da23(0x16f);const _0xeadfa0=_0x430e8f*GRID_H;_0x4621aa[_0x36da23(0x1af)][_0x36da23(0x1de)]=_0xeadfa0+'px',_0x4621aa[_0x36da23(0x1af)][_0x36da23(0x209)]='-'+_0x138d3f+'px\x20-'+_0xeadfa0+'px',_0x409a5d['appendChild'](_0x4621aa);});if(specialRanges&&specialRanges[_0x1fb46d(0x192)]>0x0){const _0x17f549=new Date(_0x4ce1bc+_0x1fb46d(0xc9))[_0x1fb46d(0x1a7)](),_0x3bfbad=new Date(_0x4ce1bc+_0x1fb46d(0x1e1))['getTime']();specialRanges[_0x1fb46d(0x17f)](_0x302648=>{const _0x1dcb48=_0x1fb46d,_0x2fbae6=new Date(_0x302648[_0x1dcb48(0x127)])[_0x1dcb48(0x1a7)](),_0x5c349d=new Date(_0x302648['end'])[_0x1dcb48(0x1a7)](),_0x59d23b=Math[_0x1dcb48(0x217)](_0x17f549,_0x2fbae6),_0xeb1d67=Math[_0x1dcb48(0x202)](_0x3bfbad,_0x5c349d);if(_0x59d23b<_0xeb1d67){if(_0x59d23b<=_0x17f549&&_0xeb1d67>=_0x3bfbad-0xea60){if(!_0x409a5d['querySelector'](_0x1dcb48(0xfa))){const _0x5af5c4=document['createElement'](_0x1dcb48(0x1ac));_0x5af5c4['className']=_0x1dcb48(0x178),_0x5af5c4['style'][_0x1dcb48(0x209)]='-'+_0x138d3f+_0x1dcb48(0x210),_0x409a5d['appendChild'](_0x5af5c4);}}else{const _0x43f086=(_0x59d23b-_0x17f549)/0x36ee80*GRID_H,_0x579d88=(_0xeb1d67-_0x59d23b)/0x36ee80*GRID_H,_0x1ee4df=document[_0x1dcb48(0x18d)](_0x1dcb48(0x1ac));_0x1ee4df[_0x1dcb48(0x18a)]='blocked-range-part\x20stripe-bg',_0x1ee4df[_0x1dcb48(0x1af)][_0x1dcb48(0x1de)]=_0x43f086+'px',_0x1ee4df['style']['height']=_0x579d88+'px',_0x1ee4df[_0x1dcb48(0x1af)]['backgroundPosition']='-'+_0x138d3f+'px\x20-'+_0x43f086+'px',_0x409a5d[_0x1dcb48(0x14e)](_0x1ee4df);}}});}if(dateExceptions[_0x4ce1bc]===_0x1fb46d(0x10a)){if(!_0x409a5d[_0x1fb46d(0x170)](_0x1fb46d(0xfa))){const _0x35d2ff=document[_0x1fb46d(0x18d)](_0x1fb46d(0x1ac));_0x35d2ff[_0x1fb46d(0x18a)]=_0x1fb46d(0x178),_0x35d2ff[_0x1fb46d(0x1af)]['backgroundPosition']='-'+_0x138d3f+_0x1fb46d(0x210),_0x409a5d[_0x1fb46d(0x14e)](_0x35d2ff);}}renderEventsForColumn(_0x409a5d,_0x4ce1bc,_0x34ee18),updateDayStats(_0x4ce1bc);});}function updateAllDayStats(){const _0x5941fb=a2_0x2830ee;document[_0x5941fb(0x14b)](_0x5941fb(0x11f))[_0x5941fb(0x17f)](_0x1c4982=>{const _0x217236=_0x5941fb;updateDayStats(_0x1c4982[_0x217236(0xe1)](_0x217236(0xca)));});}function updateDayStats(_0x442d1a){const _0x4b544e=a2_0x2830ee,_0x2aa86f=document['getElementById']('stat-'+_0x442d1a);if(!_0x2aa86f)return;const _0x2cfd7d=new Date(_0x442d1a);let _0x1e30bc=_0x2cfd7d[_0x4b544e(0x1d3)]()-0x1;if(_0x1e30bc===-0x1)_0x1e30bc=0x6;if(dateExceptions[_0x442d1a]===_0x4b544e(0x10a)){_0x2aa86f['style'][_0x4b544e(0x118)]='none';return;}const _0xb91309=availabilityPattern[_0x1e30bc]||[],_0x22dba0=0x18-_0xb91309['length'],_0x58ec10=_0x22dba0*0x3c,_0x71f0e3=sessions[_0x4b544e(0x1aa)](_0x1b2c4a=>_0x1b2c4a[_0x4b544e(0x163)]===_0x442d1a&&_0x1b2c4a[_0x4b544e(0xcc)]!==_0x4b544e(0x1f7));if(_0x71f0e3[_0x4b544e(0x192)]===0x0){_0x2aa86f[_0x4b544e(0x1af)][_0x4b544e(0x118)]=_0x4b544e(0x1e5);return;}let _0x150bc9=_0x71f0e3[_0x4b544e(0x21b)](_0x1d5337=>{const _0x2c4364=_0x4b544e,[_0x88b764,_0x4fa381]=_0x1d5337[_0x2c4364(0x127)]['split'](':')[_0x2c4364(0x21b)](Number),[_0x988fc4,_0x3480e]=_0x1d5337['end'][_0x2c4364(0x146)](':')[_0x2c4364(0x21b)](Number);return[_0x88b764*0x3c+_0x4fa381,_0x988fc4*0x3c+_0x3480e];});_0x150bc9[_0x4b544e(0x1e2)]((_0x1e8242,_0x1da1e8)=>_0x1e8242[0x0]-_0x1da1e8[0x0]);let _0x383fd6=[];if(_0x150bc9[_0x4b544e(0x192)]>0x0){let _0x532540=_0x150bc9[0x0];for(let _0x46332a=0x1;_0x46332a<_0x150bc9[_0x4b544e(0x192)];_0x46332a++){_0x150bc9[_0x46332a][0x0]<_0x532540[0x1]?_0x532540[0x1]=Math['max'](_0x532540[0x1],_0x150bc9[_0x46332a][0x1]):(_0x383fd6['push'](_0x532540),_0x532540=_0x150bc9[_0x46332a]);}_0x383fd6[_0x4b544e(0x108)](_0x532540);}let _0x431072=0x0;_0x383fd6[_0x4b544e(0x17f)](_0x39a04a=>_0x431072+=_0x39a04a[0x1]-_0x39a04a[0x0]),_0x2aa86f[_0x4b544e(0x1af)][_0x4b544e(0x118)]=_0x4b544e(0x105);const _0x4e772f=_0x2aa86f[_0x4b544e(0x170)](_0x4b544e(0x10e));if(_0x58ec10===0x0){_0x4e772f[_0x4b544e(0x1af)][_0x4b544e(0xd2)]=_0x4b544e(0x1bb),_0x4e772f[_0x4b544e(0x1af)]['background']=_0x4b544e(0x1d8);return;}const _0x509b41=_0x431072/_0x58ec10*0x64;console[_0x4b544e(0x1f3)]('['+_0x442d1a+_0x4b544e(0xea)+_0x22dba0+_0x4b544e(0xe3)+_0x431072+_0x4b544e(0x15a)+_0x509b41[_0x4b544e(0xfc)](0x1)+'%'),_0x509b41>0x64?(_0x4e772f[_0x4b544e(0x1af)]['width']=_0x4b544e(0x1bb),_0x4e772f[_0x4b544e(0x1af)][_0x4b544e(0xdc)]=_0x4b544e(0x1d8)):(_0x4e772f[_0x4b544e(0x1af)][_0x4b544e(0xd2)]=_0x509b41+'%',_0x4e772f[_0x4b544e(0x1af)][_0x4b544e(0xdc)]=_0x4b544e(0x11a));}function renderEventsForColumn(_0x5d0ea6,_0x72f7d1,_0x2aefd8){const _0x5bb295=a2_0x2830ee,_0xa3e64a=sessions['filter'](_0x339021=>_0x339021[_0x5bb295(0x163)]===_0x72f7d1),_0x55b1af=_0xa3e64a[_0x5bb295(0x21b)](_0x394382=>{const _0x22068e=_0x5bb295,[_0x13675f,_0x5a99c3]=_0x394382[_0x22068e(0x127)]['split'](':')['map'](Number),[_0x57bb75,_0x1624eb]=_0x394382[_0x22068e(0x21e)][_0x22068e(0x146)](':')['map'](Number);return{'data':_0x394382,'start':_0x13675f*0x3c+_0x5a99c3,'end':_0x57bb75*0x3c+_0x1624eb,'colIndex':0x0};});_0x55b1af[_0x5bb295(0x1e2)]((_0x2ae2bb,_0x93a50e)=>{const _0x269c69=_0x5bb295;if(_0x2ae2bb[_0x269c69(0x127)]!==_0x93a50e[_0x269c69(0x127)])return _0x2ae2bb[_0x269c69(0x127)]-_0x93a50e[_0x269c69(0x127)];return _0x93a50e[_0x269c69(0x21e)]-_0x93a50e[_0x269c69(0x127)]-(_0x2ae2bb[_0x269c69(0x21e)]-_0x2ae2bb[_0x269c69(0x127)]);});const _0x67641b=[];_0x55b1af[_0x5bb295(0x17f)](_0x5013e5=>{const _0x3d5ade=_0x5bb295;let _0x5a0c75=![];for(let _0x3d53f2=0x0;_0x3d53f2<_0x67641b['length'];_0x3d53f2++){const _0x13fe79=_0x67641b[_0x3d53f2],_0x2aae77=_0x13fe79[_0x13fe79['length']-0x1];if(_0x5013e5[_0x3d5ade(0x127)]>=_0x2aae77[_0x3d5ade(0x21e)]){_0x13fe79['push'](_0x5013e5),_0x5013e5['colIndex']=_0x3d53f2,_0x5a0c75=!![];break;}}!_0x5a0c75&&(_0x67641b[_0x3d5ade(0x108)]([_0x5013e5]),_0x5013e5['colIndex']=_0x67641b['length']-0x1);}),_0x55b1af['forEach'](_0x2d0df4=>{const _0x2fd385=_0x5bb295;let _0x1b68e0=0x0;_0x55b1af[_0x2fd385(0x17f)](_0x40fc63=>{const _0x3fbdb8=_0x2fd385;if(Math[_0x3fbdb8(0x217)](_0x2d0df4[_0x3fbdb8(0x127)],_0x40fc63['start'])<Math[_0x3fbdb8(0x202)](_0x2d0df4[_0x3fbdb8(0x21e)],_0x40fc63[_0x3fbdb8(0x21e)])){if(_0x40fc63[_0x3fbdb8(0x221)]>_0x1b68e0)_0x1b68e0=_0x40fc63[_0x3fbdb8(0x221)];}});const _0x210f50=_0x1b68e0+0x1,_0x471265=0x64/_0x210f50,_0x5536ac=_0x2d0df4[_0x2fd385(0x221)]*_0x471265,_0x2f8d61=createEventEl(_0x2d0df4[_0x2fd385(0x20d)]);_0x2f8d61['style'][_0x2fd385(0xd2)]='calc('+_0x471265+'%\x20-\x204px)',_0x2f8d61[_0x2fd385(0x1af)][_0x2fd385(0x13f)]=_0x2fd385(0x1c3)+_0x5536ac+_0x2fd385(0x1b3),_0x2f8d61['style']['zIndex']=0xa+_0x2d0df4[_0x2fd385(0x221)],_0x471265<0x55&&_0x2f8d61[_0x2fd385(0x130)][_0x2fd385(0x156)]('mini'),_0x5d0ea6[_0x2fd385(0x14e)](_0x2f8d61);});}function createEventEl(_0x4940ea){const _0x31d596=a2_0x2830ee,[_0x1984a7,_0x2eba18]=_0x4940ea[_0x31d596(0x127)][_0x31d596(0x146)](':')[_0x31d596(0x21b)](Number),[_0x3d2c05,_0x155594]=_0x4940ea[_0x31d596(0x21e)]['split'](':')[_0x31d596(0x21b)](Number),_0xc73f16=(_0x1984a7*0x3c+_0x2eba18)/0x3c*GRID_H,_0x3317e0=(_0x3d2c05*0x3c+_0x155594-(_0x1984a7*0x3c+_0x2eba18))/0x3c*GRID_H,_0x309f40=document['createElement'](_0x31d596(0x1ac)),_0x4a5c34=_0x4940ea['status']==='completed'?'\x20status-completed':'';_0x309f40[_0x31d596(0x18a)]='event-card'+_0x4a5c34,_0x309f40[_0x31d596(0x1af)][_0x31d596(0x1de)]=_0xc73f16+'px',_0x309f40[_0x31d596(0x1af)]['height']=Math[_0x31d596(0x217)](_0x3317e0,0x14)+'px';const _0x4ff264=clients[_0x31d596(0x1a4)](_0x3177de=>_0x4940ea[_0x31d596(0x129)]&&String(_0x3177de['id'])===String(_0x4940ea[_0x31d596(0x129)])||_0x3177de[_0x31d596(0x166)]===_0x4940ea[_0x31d596(0x1d6)]),_0x558fd4=_0x4ff264?_0x4ff264['color']:_0x31d596(0x213);_0x309f40['style'][_0x31d596(0x177)]=_0x558fd4,_0x309f40[_0x31d596(0x1af)][_0x31d596(0x181)]=hexToRgba(_0x558fd4,0.85);let _0x549a57=_0x31d596(0x1b6)+_0x4940ea[_0x31d596(0x1d6)]+'</div><div\x20class=\x22ev-time\x22>'+_0x4940ea['start']+_0x31d596(0x15b)+_0x4940ea[_0x31d596(0x21e)]+'</div>';return _0x4940ea['seriesId']&&(_0x549a57+=_0x31d596(0x203)),_0x4940ea[_0x31d596(0xcc)]===_0x31d596(0x182)&&(_0x549a57+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x309f40['innerHTML']=_0x549a57,_0x309f40['onclick']=_0x248ddc=>{const _0x59c1bd=_0x31d596;_0x248ddc[_0x59c1bd(0x199)](),openEdit(_0x4940ea);},_0x309f40;}function attachLongPressHandler(_0x206280,_0x29813a){const _0x478033=a2_0x2830ee;let _0x3ae5f3=0x0,_0x90f74=null;const _0x51ed9e=_0x33a3d4=>{const _0x2af47a=a2_0x5d0a;if(_0x33a3d4[_0x2af47a(0x10d)][_0x2af47a(0x16a)](_0x2af47a(0x1da)))return;isScrolling=![],_0x3ae5f3=_0x33a3d4[_0x2af47a(0x1b5)]?_0x33a3d4[_0x2af47a(0x1b5)][0x0][_0x2af47a(0x1b0)]:_0x33a3d4[_0x2af47a(0x1b0)],_0x90f74=setTimeout(()=>{const _0x5d70bd=_0x2af47a;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x3d79cf=_0x206280[_0x5d70bd(0xed)](),_0x21dd57=Math[_0x5d70bd(0xe9)]((_0x3ae5f3-_0x3d79cf[_0x5d70bd(0x1de)])/GRID_H);_0x29813a[_0x5d70bd(0x1c2)](_0x21dd57,0x0),openAddSession(_0x29813a);}},0x1f4);},_0x560d69=()=>{isScrolling=!![],clearTimeout(_0x90f74);},_0x1da095=()=>{clearTimeout(_0x90f74);};_0x206280[_0x478033(0x23b)]('touchstart',_0x51ed9e,{'passive':!![]}),_0x206280['addEventListener'](_0x478033(0x152),_0x560d69,{'passive':!![]}),_0x206280[_0x478033(0x23b)](_0x478033(0x171),_0x1da095),_0x206280[_0x478033(0x23b)](_0x478033(0x125),_0x51ed9e),_0x206280[_0x478033(0x23b)](_0x478033(0x1a5),_0x560d69),_0x206280[_0x478033(0x23b)](_0x478033(0x205),_0x1da095);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x283d=a2_0x2830ee,_0xc98c6d=document[_0x283d(0x20c)](_0x283d(0x204)),_0x30c8b3=_0xc98c6d[_0x283d(0x10b)],_0x3db4ef=_0xc98c6d[_0x283d(0x216)],_0x151e33=_0xc98c6d[_0x283d(0xe7)];if(_0x3db4ef-(_0x30c8b3+_0x151e33)<0x12c){const _0x35b222=endOffset;endOffset+=0xe,renderDayRange(_0x35b222+0x1,endOffset),reRenderBlocks();}if(_0x30c8b3<0x12c){const _0x10b66c=startOffset;startOffset-=0xe,prependDays(startOffset,_0x10b66c-0x1),_0xc98c6d['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x174eaf,_0x19da7a){const _0x2c8d7f=a2_0x2830ee,_0x534d80=document['getElementById'](_0x2c8d7f(0x206)),_0x50dd54=document['getElementById']('gridColumns'),_0x8fa500=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1a2a0d=new Date();_0x1a2a0d[_0x2c8d7f(0x1c2)](0x0,0x0,0x0,0x0);const _0x1c7fb8=getLocalDateStr(new Date()),_0x171e4a=document['createDocumentFragment'](),_0x51eb3a=document[_0x2c8d7f(0x234)]();for(let _0x2e9d6c=_0x174eaf;_0x2e9d6c<=_0x19da7a;_0x2e9d6c++){const _0x253db1=new Date(_0x1a2a0d);_0x253db1[_0x2c8d7f(0x1bc)](_0x253db1['getDate']()+_0x2e9d6c);const _0x130328=getLocalDateStr(_0x253db1);let _0x5f29b5=_0x253db1[_0x2c8d7f(0x1d3)]()-0x1;if(_0x5f29b5===-0x1)_0x5f29b5=0x6;const _0x52f23b=_0x130328===_0x1c7fb8,_0x17995e=document[_0x2c8d7f(0x18d)](_0x2c8d7f(0x1ac));_0x17995e[_0x2c8d7f(0x18a)]='day-col-header\x20'+(_0x52f23b?'today':''),_0x17995e['id']='header-'+_0x130328,_0x17995e['setAttribute'](_0x2c8d7f(0xca),_0x130328),_0x17995e['innerHTML']=_0x2c8d7f(0x172)+_0x8fa500[_0x5f29b5]+_0x2c8d7f(0x128)+_0x253db1[_0x2c8d7f(0x14d)]()+_0x2c8d7f(0x159)+_0x130328+_0x2c8d7f(0x173),_0x17995e['onclick']=()=>openDayOptions(_0x130328,_0x8fa500[_0x5f29b5]+'\x20'+_0x253db1[_0x2c8d7f(0x14d)]()),_0x171e4a[_0x2c8d7f(0x14e)](_0x17995e);const _0x35a67a=document[_0x2c8d7f(0x18d)](_0x2c8d7f(0x1ac));_0x35a67a['className']='day-column\x20'+(_0x52f23b?_0x2c8d7f(0x1e4):''),_0x35a67a[_0x2c8d7f(0x22e)]('data-date',_0x130328),_0x35a67a[_0x2c8d7f(0x22e)](_0x2c8d7f(0x23e),_0x5f29b5),renderEventsForColumn(_0x35a67a,_0x130328,_0x5f29b5),attachLongPressHandler(_0x35a67a,_0x253db1),_0x51eb3a[_0x2c8d7f(0x14e)](_0x35a67a),updateDayStats(_0x130328);}_0x534d80[_0x2c8d7f(0x12d)](_0x171e4a,_0x534d80[_0x2c8d7f(0x19d)]),_0x50dd54['insertBefore'](_0x51eb3a,_0x50dd54[_0x2c8d7f(0x170)](_0x2c8d7f(0xd8)));}function validateAppointment(_0x496d3c,_0x471f7c,_0x12846f,_0x3000bc,_0x22bf14){const _0x18c3cd=a2_0x2830ee,[_0xec1603,_0x51d5c1]=_0x471f7c[_0x18c3cd(0x146)](':')['map'](Number),[_0x5dc673,_0xafeba2]=_0x12846f['split'](':')[_0x18c3cd(0x21b)](Number),_0x51f7e9=_0xec1603*0x3c+_0x51d5c1,_0x372b2a=_0x5dc673*0x3c+_0xafeba2,_0x31b723=String(_0x22bf14);let _0x2531de=![],_0x5729ef='';for(let _0x66d743 of sessions){if(_0x66d743[_0x18c3cd(0x163)]!==_0x496d3c)continue;if(_0x66d743[_0x18c3cd(0xcc)]===_0x18c3cd(0x1f7))continue;if(_0x3000bc&&String(_0x66d743['id'])===String(_0x3000bc))continue;const [_0x3d52b2,_0x3d5c93]=_0x66d743[_0x18c3cd(0x127)][_0x18c3cd(0x146)](':')[_0x18c3cd(0x21b)](Number),[_0x54bd80,_0x5e5ed8]=_0x66d743['end'][_0x18c3cd(0x146)](':')['map'](Number),_0x123a90=_0x3d52b2*0x3c+_0x3d5c93,_0x459894=_0x54bd80*0x3c+_0x5e5ed8;if(Math[_0x18c3cd(0x217)](_0x51f7e9,_0x123a90)<Math[_0x18c3cd(0x202)](_0x372b2a,_0x459894)){if(_0x66d743['clientId']&&String(_0x66d743['clientId'])===_0x31b723)return{'valid':![],'msg':_0x18c3cd(0xd4)+_0x66d743[_0x18c3cd(0x1d6)]+_0x18c3cd(0x1c0)};_0x2531de=!![],_0x5729ef=_0x66d743[_0x18c3cd(0x1d6)];}}if(_0x2531de)return{'valid':!![],'warning':_0x18c3cd(0x1be)+_0x5729ef};return{'valid':!![]};}function updateDateDisplay(){const _0x28da68=a2_0x2830ee,_0x4e2f1=document['getElementById'](_0x28da68(0x122))[_0x28da68(0xf3)],_0x1bc397=document['getElementById'](_0x28da68(0x193));if(!_0x4e2f1){_0x1bc397[_0x28da68(0x190)]='';return;}const [_0x12c0d1,_0x3157a9,_0x28b2ed]=_0x4e2f1[_0x28da68(0x146)]('-')[_0x28da68(0x21b)](Number),_0x5ea031=new Date(_0x12c0d1,_0x3157a9-0x1,_0x28b2ed),_0x40226d={'weekday':_0x28da68(0xe5),'day':'numeric','month':_0x28da68(0xe5),'year':_0x28da68(0x126)};let _0x477cbb=_0x5ea031[_0x28da68(0x1ea)](_0x28da68(0x16b),_0x40226d);_0x477cbb=_0x477cbb[_0x28da68(0x143)](0x0)[_0x28da68(0x1d2)]()+_0x477cbb[_0x28da68(0x1e9)](0x1),_0x1bc397[_0x28da68(0x190)]=_0x477cbb;}function autoSetEndTime(){const _0x32493e=a2_0x2830ee,_0x34199f=document[_0x32493e(0x20c)](_0x32493e(0x228))['value'];if(!_0x34199f)return;const [_0x5795d1,_0x9896c8]=_0x34199f[_0x32493e(0x146)](':')[_0x32493e(0x21b)](Number);let _0x417052=_0x5795d1+0x1;if(_0x417052>0x17)_0x417052=0x0;const _0x529140=String(_0x417052)[_0x32493e(0x235)](0x2,'0')+':'+String(_0x9896c8)[_0x32493e(0x235)](0x2,'0');document['getElementById'](_0x32493e(0x139))[_0x32493e(0xf3)]=_0x529140;}function populateClientSelect(){const _0x443c13=a2_0x2830ee,_0x1e07ea=document['getElementById'](_0x443c13(0x22b));_0x1e07ea[_0x443c13(0x1b2)]='';if(clients[_0x443c13(0x192)]===0x0){const _0x37ea55=document['createElement']('option');_0x37ea55[_0x443c13(0x164)]=_0x443c13(0x140),_0x1e07ea[_0x443c13(0x14e)](_0x37ea55);return;}clients[_0x443c13(0x17f)](_0x4f5055=>{const _0x39e5b8=_0x443c13,_0x48e3ad=document['createElement']('option');_0x48e3ad[_0x39e5b8(0xf3)]=_0x4f5055[_0x39e5b8(0x166)],_0x48e3ad[_0x39e5b8(0x190)]=_0x4f5055[_0x39e5b8(0x166)],_0x1e07ea[_0x39e5b8(0x14e)](_0x48e3ad);});}function openActionSheet(_0x58e2b7){const _0x3a6a29=a2_0x2830ee,_0x23f0d8=document[_0x3a6a29(0x20c)](_0x3a6a29(0x114)),_0x21e295=document[_0x3a6a29(0x20c)](_0x3a6a29(0x1f4)),_0x394ff3=document['getElementById'](_0x3a6a29(0x1b1)),_0x25b874=document['getElementById'](_0x3a6a29(0xd5)),_0x140be6=document['getElementById'](_0x3a6a29(0x233));_0x21e295[_0x3a6a29(0x130)][_0x3a6a29(0x156)](_0x3a6a29(0x1d1)),_0x23f0d8[_0x3a6a29(0x130)]['add'](_0x3a6a29(0x12a));if(_0x58e2b7===_0x3a6a29(0x184))_0x394ff3[_0x3a6a29(0x190)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x25b874[_0x3a6a29(0x190)]=_0x3a6a29(0x148),_0x25b874[_0x3a6a29(0x1df)]=()=>{const _0x654901=_0x3a6a29;closeActionSheet(),updateSeriesBatch(_0x654901(0x1e8),tempSessionData);},_0x140be6[_0x3a6a29(0x190)]=_0x3a6a29(0x14c),_0x140be6[_0x3a6a29(0x1df)]=()=>{const _0x283a76=_0x3a6a29;closeActionSheet(),updateSeriesBatch(_0x283a76(0x197),tempSessionData);};else _0x58e2b7===_0x3a6a29(0x1a9)&&(_0x394ff3['textContent']=_0x3a6a29(0x16d),_0x25b874[_0x3a6a29(0x190)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x25b874['className']=_0x3a6a29(0x17c),_0x25b874[_0x3a6a29(0x1df)]=()=>{const _0x436a2a=_0x3a6a29;closeActionSheet(),commitDelete(_0x436a2a(0x1e8),sessions[_0x436a2a(0x1a4)](_0x10c224=>_0x10c224['id']===editingId));},_0x140be6[_0x3a6a29(0x190)]=_0x3a6a29(0x14c),_0x140be6['className']=_0x3a6a29(0x231),_0x140be6[_0x3a6a29(0x1df)]=()=>{const _0x478496=_0x3a6a29;closeActionSheet(),commitDelete(_0x478496(0x197),sessions['find'](_0x48ca9d=>_0x48ca9d['id']===editingId));});}function closeActionSheet(){const _0x12ff85=a2_0x2830ee;document[_0x12ff85(0x20c)](_0x12ff85(0x114))[_0x12ff85(0x130)][_0x12ff85(0x1dd)](_0x12ff85(0x12a)),document[_0x12ff85(0x20c)]('actionSheetOverlay')[_0x12ff85(0x130)][_0x12ff85(0x1dd)](_0x12ff85(0x1d1));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x45dfe0=a2_0x2830ee,_0x3f8096=document[_0x45dfe0(0x20c)]('settingCancelWindow')[_0x45dfe0(0xf3)];localStorage[_0x45dfe0(0x22d)](_0x45dfe0(0x21f),_0x3f8096),console[_0x45dfe0(0x1f3)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x3f8096),DataManager[_0x45dfe0(0x1ee)](_0x45dfe0(0x1c6),{'settings':{'cancel_window':_0x3f8096}})['catch'](_0x698d2a=>{console['error']('Save\x20settings\x20error:',_0x698d2a),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x121f38=a2_0x2830ee,_0x731f87=localStorage[_0x121f38(0xf6)](_0x121f38(0x21f));_0x731f87&&(document[_0x121f38(0x20c)]('settingCancelWindow')[_0x121f38(0xf3)]=_0x731f87);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x46cada=a2_0x2830ee,_0x15707f=document[_0x46cada(0x20c)](_0x46cada(0xd1))[_0x46cada(0xf3)],_0x1a054f=document[_0x46cada(0x20c)](_0x46cada(0x157))['value'],_0x3e630e=document[_0x46cada(0x20c)]('rangeEndDate')[_0x46cada(0xf3)],_0x33f25f=document[_0x46cada(0x20c)]('rangeEndTime')[_0x46cada(0xf3)];if(!_0x15707f||!_0x1a054f||!_0x3e630e||!_0x33f25f)return alert(_0x46cada(0xda));const _0x185503=_0x15707f+'T'+_0x1a054f,_0x30fd72=_0x3e630e+'T'+_0x33f25f;if(_0x185503>=_0x30fd72)return alert(_0x46cada(0x138));specialRanges['push']({'start':_0x185503,'end':_0x30fd72}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x46cada(0x1fb)](),DataManager[_0x46cada(0x1ee)](_0x46cada(0x1c6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x90b1f3){const _0x1fd0ab=a2_0x2830ee;specialRanges[_0x1fd0ab(0x18b)](_0x90b1f3,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x1fd0ab(0x1fb)](),DataManager[_0x1fd0ab(0x1ee)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4ffc81=a2_0x2830ee;document[_0x4ffc81(0x20c)](_0x4ffc81(0xd1))['value']='',document[_0x4ffc81(0x20c)](_0x4ffc81(0x157))['value']=_0x4ffc81(0x1a3),document[_0x4ffc81(0x20c)](_0x4ffc81(0x12c))[_0x4ffc81(0xf3)]='',document[_0x4ffc81(0x20c)](_0x4ffc81(0x137))[_0x4ffc81(0xf3)]=_0x4ffc81(0x1bf);}function renderRangesList(){const _0x256c9f=a2_0x2830ee,_0x27e6d5=document[_0x256c9f(0x20c)](_0x256c9f(0x165));_0x27e6d5[_0x256c9f(0x1b2)]='';if(!specialRanges['length']){_0x27e6d5[_0x256c9f(0x1b2)]=_0x256c9f(0x11e);return;}specialRanges[_0x256c9f(0x17f)]((_0x1c4c32,_0x4d67f8)=>{const _0x1497c9=_0x256c9f,_0x2d9dca=document[_0x1497c9(0x18d)](_0x1497c9(0x1ac));_0x2d9dca[_0x1497c9(0x18a)]='range-item';const _0x3dbc82=_0x2617a9=>{const _0x451688=_0x1497c9,_0x13a181=new Date(_0x2617a9);return _0x13a181[_0x451688(0x14d)]()+'.'+String(_0x13a181['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x13a181[_0x451688(0x237)]())['padStart'](0x2,'0')+':'+String(_0x13a181[_0x451688(0x14f)]())[_0x451688(0x235)](0x2,'0');};_0x2d9dca['innerHTML']=_0x1497c9(0x21a)+_0x3dbc82(_0x1c4c32[_0x1497c9(0x127)])+_0x1497c9(0x1dc)+_0x3dbc82(_0x1c4c32[_0x1497c9(0x21e)])+_0x1497c9(0xd7)+_0x4d67f8+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x27e6d5[_0x1497c9(0x14e)](_0x2d9dca);});}function scrollToToday(){const _0x51ef1e=a2_0x2830ee,_0x1c2f6c=getLocalDateStr(new Date()),_0x46f705=document['getElementById']('header-'+_0x1c2f6c),_0x1ef8c1=document[_0x51ef1e(0x20c)](_0x51ef1e(0x204));if(_0x46f705&&_0x1ef8c1){const _0x475ac7=_0x1ef8c1[_0x51ef1e(0xe7)],_0x1260d4=_0x46f705[_0x51ef1e(0x1eb)],_0x2c5c5e=_0x46f705['offsetWidth'];_0x1ef8c1['scrollLeft']=_0x1260d4-_0x475ac7/0x2+_0x2c5c5e/0x2,_0x1ef8c1[_0x51ef1e(0x227)]=0x9*GRID_H;}}function onScroll(){const _0x24cf9b=a2_0x2830ee,_0x9ad2f5=document[_0x24cf9b(0x20c)](_0x24cf9b(0x204)),_0x49bf51=document['querySelectorAll'](_0x24cf9b(0x11f));for(let _0x299afc of _0x49bf51)if(_0x299afc[_0x24cf9b(0x1eb)]>=_0x9ad2f5[_0x24cf9b(0x10b)]){const _0x434c90=new Date(_0x299afc[_0x24cf9b(0xe1)]('data-date'));document[_0x24cf9b(0x20c)](_0x24cf9b(0x115))[_0x24cf9b(0x190)]=_0x434c90[_0x24cf9b(0x17d)]('ru',{'month':_0x24cf9b(0xe5)})[_0x24cf9b(0x1d2)]()+'\x20'+_0x434c90[_0x24cf9b(0x147)]();break;}}function showToast(_0x5c01c9,_0x5fb62c=![]){const _0x4550ad=a2_0x2830ee,_0x12f21b=document['getElementById'](_0x4550ad(0x109));_0x12f21b[_0x4550ad(0x18a)]='toast-notification\x20'+(_0x5fb62c?'success':''),document[_0x4550ad(0x20c)]('toastTitle')['textContent']=_0x5fb62c?_0x4550ad(0x225):'–ò–Ω—Ñ–æ',document['getElementById'](_0x4550ad(0x168))[_0x4550ad(0x190)]=_0x5c01c9,_0x12f21b[_0x4550ad(0x130)]['add'](_0x4550ad(0x1b8)),setTimeout(()=>{const _0x1fe7b1=_0x4550ad;_0x12f21b[_0x1fe7b1(0x130)][_0x1fe7b1(0x1dd)](_0x1fe7b1(0x1b8));},0xbb8);}function openDayOptions(_0x290717,_0x3b57e4){const _0x434dd6=a2_0x2830ee;selectedDayForOptions=_0x290717,document[_0x434dd6(0x20c)]('dayOptionsTitle')[_0x434dd6(0x190)]=_0x3b57e4,openSheet(_0x434dd6(0x176));}function toggleDayOff(){const _0x40bfaa=a2_0x2830ee;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x40bfaa(0x10a),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x40bfaa(0x1ee)](_0x40bfaa(0x1c6),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x1e34f5=a2_0x2830ee;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x1e34f5(0x1ee)](_0x1e34f5(0x1c6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1e30a7){const _0x32c358=a2_0x2830ee;document[_0x32c358(0x20c)](_0x32c358(0x195))[_0x32c358(0x130)][_0x32c358(0x156)](_0x32c358(0x1d1)),document[_0x32c358(0x20c)](_0x1e30a7)[_0x32c358(0x130)]['add']('open');}function closeAllSheets(){const _0x40d249=a2_0x2830ee;document[_0x40d249(0x20c)](_0x40d249(0x195))['classList'][_0x40d249(0x1dd)](_0x40d249(0x1d1)),document[_0x40d249(0x14b)]('.sheet')[_0x40d249(0x17f)](_0x51b342=>_0x51b342[_0x40d249(0x130)][_0x40d249(0x1dd)](_0x40d249(0x12a)));}function a2_0x5d0a(_0x28b4ee,_0x5545b8){_0x28b4ee=_0x28b4ee-0xc7;const _0x10b793=a2_0x15b3();let _0x49637e=_0x10b793[_0x28b4ee];return _0x49637e;}function openPatternEditor(){const _0x3a9b5f=a2_0x2830ee;closeAllSheets(),document['getElementById'](_0x3a9b5f(0x183))[_0x3a9b5f(0x130)]['add'](_0x3a9b5f(0x12a)),renderPatternEditor();}function closePatternEditor(){const _0x420af4=a2_0x2830ee;document[_0x420af4(0x20c)](_0x420af4(0x183))[_0x420af4(0x130)][_0x420af4(0x1dd)](_0x420af4(0x12a));}function savePattern(){const _0x4a2257=a2_0x2830ee;document[_0x4a2257(0x20c)](_0x4a2257(0x183))[_0x4a2257(0x130)]['remove'](_0x4a2257(0x12a)),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x4a2257(0x1c6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0xdc2889=a2_0x2830ee,_0x2dcaad=document[_0xdc2889(0x20c)](_0xdc2889(0x1d7));_0x2dcaad[_0xdc2889(0x1b2)]='';const _0x11eebf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x119060=document[_0xdc2889(0x18d)]('div');_0x119060[_0xdc2889(0x18a)]=_0xdc2889(0x117),_0x2dcaad[_0xdc2889(0x14e)](_0x119060),_0x11eebf[_0xdc2889(0x17f)]((_0x1419f3,_0x43127f)=>{const _0x4f4fb6=_0xdc2889,_0x485f85=document[_0x4f4fb6(0x18d)](_0x4f4fb6(0x1ac));_0x485f85[_0x4f4fb6(0x18a)]='pe-col-header',_0x485f85['innerHTML']=_0x1419f3+_0x4f4fb6(0x1a6),_0x485f85['onclick']=()=>toggleColPattern(_0x43127f),_0x2dcaad[_0x4f4fb6(0x14e)](_0x485f85);});for(let _0x4e71a4=0x0;_0x4e71a4<0x18;_0x4e71a4++){const _0x2c801d=document[_0xdc2889(0x18d)]('div');_0x2c801d[_0xdc2889(0x18a)]=_0xdc2889(0x131),_0x2c801d[_0xdc2889(0x1b2)]=_0xdc2889(0x13e)+String(_0x4e71a4)[_0xdc2889(0x235)](0x2,'0')+':00',_0x2c801d[_0xdc2889(0x1df)]=()=>toggleRowPattern(_0x4e71a4),_0x2dcaad['appendChild'](_0x2c801d);for(let _0x122ec1=0x0;_0x122ec1<0x7;_0x122ec1++){const _0x25de21=document[_0xdc2889(0x18d)]('div'),_0x1679c8=(availabilityPattern[_0x122ec1]||[])[_0xdc2889(0x150)](_0x4e71a4),_0x6773d8=!_0x1679c8;_0x25de21[_0xdc2889(0x18a)]=_0xdc2889(0x1f0)+(_0x6773d8?_0xdc2889(0x1d1):''),_0x25de21[_0xdc2889(0x1df)]=()=>toggleSinglePattern(_0x122ec1,_0x4e71a4),_0x2dcaad[_0xdc2889(0x14e)](_0x25de21);}}}function toggleSinglePattern(_0x36e80f,_0x17a14f){const _0x2bbf96=a2_0x2830ee;if(!availabilityPattern[_0x36e80f])availabilityPattern[_0x36e80f]=[];const _0x45a4e7=availabilityPattern[_0x36e80f],_0x1db3a3=_0x45a4e7[_0x2bbf96(0x123)](_0x17a14f);_0x1db3a3===-0x1?_0x45a4e7[_0x2bbf96(0x108)](_0x17a14f):_0x45a4e7[_0x2bbf96(0x18b)](_0x1db3a3,0x1),renderPatternEditor();}function toggleColPattern(_0x3197fd){const _0x1efd89=a2_0x2830ee;if(!availabilityPattern[_0x3197fd])availabilityPattern[_0x3197fd]=[];const _0x1d57d5=availabilityPattern[_0x3197fd];_0x1d57d5[_0x1efd89(0x192)]===0x0?availabilityPattern[_0x3197fd]=Array[_0x1efd89(0x16e)]({'length':0x18},(_0x42471a,_0x553132)=>_0x553132):availabilityPattern[_0x3197fd]=[],renderPatternEditor();}function toggleRowPattern(_0x267980){const _0x15ce6e=a2_0x2830ee;let _0x11266f=!![];for(let _0x472107=0x0;_0x472107<0x7;_0x472107++){if((availabilityPattern[_0x472107]||[])[_0x15ce6e(0x150)](_0x267980)){_0x11266f=![];break;}}for(let _0x15c51b=0x0;_0x15c51b<0x7;_0x15c51b++){if(!availabilityPattern[_0x15c51b])availabilityPattern[_0x15c51b]=[];const _0x365a17=availabilityPattern[_0x15c51b][_0x15ce6e(0x123)](_0x267980);if(_0x11266f){if(_0x365a17===-0x1)availabilityPattern[_0x15c51b][_0x15ce6e(0x108)](_0x267980);}else{if(_0x365a17!==-0x1)availabilityPattern[_0x15c51b][_0x15ce6e(0x18b)](_0x365a17,0x1);}}renderPatternEditor();}function renderPCol(_0x1c4110,_0x455bb3){const _0x5eb04f=a2_0x2830ee;_0x1c4110[_0x5eb04f(0x1b2)]='';const _0x5218c8=Math[_0x5eb04f(0x207)](_0x1c4110[_0x5eb04f(0x1eb)]);(availabilityPattern[_0x455bb3]||[])['forEach'](_0x238556=>{const _0x5f20be=_0x5eb04f,_0xd24dd5=document[_0x5f20be(0x18d)](_0x5f20be(0x1ac));_0xd24dd5[_0x5f20be(0x18a)]='blocked-slot\x20stripe-bg';const _0x30b398=_0x238556*GRID_H;_0xd24dd5[_0x5f20be(0x1af)][_0x5f20be(0x1de)]=_0x30b398+'px',_0xd24dd5[_0x5f20be(0x1af)][_0x5f20be(0x209)]='-'+_0x5218c8+'px\x20-'+_0x30b398+'px',_0xd24dd5['onclick']=_0x154775=>{const _0x3eabc2=_0x5f20be;_0x154775[_0x3eabc2(0x199)](),toggleSinglePattern(_0x455bb3,_0x238556);},_0x1c4110['appendChild'](_0xd24dd5);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x24d983=a2_0x2830ee,_0x2e4545=new Date(),_0x472312=document[_0x24d983(0x20c)](_0x24d983(0xec)),_0x34bc23=document[_0x24d983(0x20c)](_0x24d983(0x1d4)),_0x15182c=(_0x2e4545[_0x24d983(0x237)]()*0x3c+_0x2e4545[_0x24d983(0x14f)]())/0x3c*GRID_H;_0x472312['style'][_0x24d983(0x1de)]=_0x15182c+'px',_0x472312[_0x24d983(0x1af)][_0x24d983(0x118)]=_0x24d983(0x224),_0x34bc23[_0x24d983(0x190)]=String(_0x2e4545['getHours']())['padStart'](0x2,'0')+':'+String(_0x2e4545[_0x24d983(0x14f)]())[_0x24d983(0x235)](0x2,'0'),_0x34bc23[_0x24d983(0x1af)][_0x24d983(0x118)]='block',_0x34bc23[_0x24d983(0x1af)]['top']=_0x15182c+'px';}document[a2_0x2830ee(0x23b)]('DOMContentLoaded',init);function openDayOptions(_0x52fcc4){const _0x32fa42=a2_0x2830ee;selectedDayForOptions=_0x52fcc4;const _0x122503=new Date(_0x52fcc4),_0x41e905={'weekday':'long','day':'numeric','month':_0x32fa42(0xe5),'year':_0x32fa42(0x126)},_0x12290f=_0x122503['toLocaleDateString'](_0x32fa42(0x16b),_0x41e905);document[_0x32fa42(0x20c)](_0x32fa42(0x135))[_0x32fa42(0x190)]=_0x12290f[_0x32fa42(0x143)](0x0)[_0x32fa42(0x1d2)]()+_0x12290f[_0x32fa42(0x1e9)](0x1);let _0x5310bc=_0x122503[_0x32fa42(0x1d3)]()-0x1;if(_0x5310bc===-0x1)_0x5310bc=0x6;const _0x3b7b68=availabilityPattern[_0x5310bc]||[],_0x3cf74d=0x18-_0x3b7b68[_0x32fa42(0x192)],_0x43bb75=_0x3cf74d*0x3c,_0x4b03b2=sessions[_0x32fa42(0x1aa)](_0x48f416=>_0x48f416[_0x32fa42(0x163)]===_0x52fcc4&&_0x48f416[_0x32fa42(0xcc)]!==_0x32fa42(0x1f7));let _0x3b111d=_0x4b03b2[_0x32fa42(0x21b)](_0x2333f4=>{const _0x67d814=_0x32fa42,[_0x37abee,_0x31e38e]=_0x2333f4[_0x67d814(0x127)][_0x67d814(0x146)](':')['map'](Number),[_0x5129f1,_0x49cea9]=_0x2333f4[_0x67d814(0x21e)][_0x67d814(0x146)](':')['map'](Number);return[_0x37abee*0x3c+_0x31e38e,_0x5129f1*0x3c+_0x49cea9];});_0x3b111d['sort']((_0x3e598a,_0x2a4e0c)=>_0x3e598a[0x0]-_0x2a4e0c[0x0]);let _0x48c336=[];if(_0x3b111d[_0x32fa42(0x192)]>0x0){let _0x2c02ec=_0x3b111d[0x0];for(let _0x2c368c=0x1;_0x2c368c<_0x3b111d[_0x32fa42(0x192)];_0x2c368c++){_0x3b111d[_0x2c368c][0x0]<_0x2c02ec[0x1]?_0x2c02ec[0x1]=Math[_0x32fa42(0x217)](_0x2c02ec[0x1],_0x3b111d[_0x2c368c][0x1]):(_0x48c336[_0x32fa42(0x108)](_0x2c02ec),_0x2c02ec=_0x3b111d[_0x2c368c]);}_0x48c336[_0x32fa42(0x108)](_0x2c02ec);}let _0x40c612=0x0;_0x48c336[_0x32fa42(0x17f)](_0x395c48=>_0x40c612+=_0x395c48[0x1]-_0x395c48[0x0]),document['getElementById'](_0x32fa42(0x133))['textContent']=formatMinsToHrs(_0x43bb75),document[_0x32fa42(0x20c)](_0x32fa42(0x1d9))[_0x32fa42(0x190)]=formatMinsToHrs(_0x40c612);const _0x36ec0d=_0x43bb75>0x0?Math[_0x32fa42(0x207)](_0x40c612/_0x43bb75*0x64):0x0,_0x577266=document['getElementById'](_0x32fa42(0xdd));_0x577266[_0x32fa42(0x190)]=_0x36ec0d+'%';const _0x536758=document[_0x32fa42(0x20c)]('statLoadCard');if(_0x36ec0d>0x64)_0x577266[_0x32fa42(0x1af)][_0x32fa42(0xf9)]=_0x32fa42(0x1d8),_0x536758[_0x32fa42(0x1af)][_0x32fa42(0x19e)]=_0x32fa42(0x1fd);else _0x36ec0d>0x50?(_0x577266['style'][_0x32fa42(0xf9)]=_0x32fa42(0xfe),_0x536758[_0x32fa42(0x1af)][_0x32fa42(0x19e)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x577266['style']['color']='var(--acc-green)',_0x536758[_0x32fa42(0x1af)][_0x32fa42(0x19e)]='rgba(255,255,255,0.05)');const _0x411d4a=document[_0x32fa42(0x20c)](_0x32fa42(0x19f));_0x411d4a[_0x32fa42(0x1b2)]='';_0x4b03b2[_0x32fa42(0x192)]===0x0?_0x411d4a[_0x32fa42(0x1b2)]=_0x32fa42(0x226):(_0x4b03b2[_0x32fa42(0x1e2)]((_0x1673aa,_0x439849)=>_0x1673aa[_0x32fa42(0x127)][_0x32fa42(0x1ce)](_0x439849[_0x32fa42(0x127)])),_0x4b03b2[_0x32fa42(0x17f)](_0x51e0bc=>{const _0x3d910d=_0x32fa42,_0x17021b=clients[_0x3d910d(0x1a4)](_0x5e264c=>_0x5e264c[_0x3d910d(0x166)]===_0x51e0bc[_0x3d910d(0x1d6)]),_0x619d54=_0x17021b?_0x17021b[_0x3d910d(0xf9)]:_0x3d910d(0x1c7),_0x263f24=_0x51e0bc[_0x3d910d(0xcc)]===_0x3d910d(0x182),_0x271b5f=_0x263f24?_0x3d910d(0x19a):'',_0xf41702=document['createElement']('div');_0xf41702[_0x3d910d(0x18a)]='de-item',_0xf41702[_0x3d910d(0x1af)][_0x3d910d(0x177)]=_0x619d54,_0xf41702[_0x3d910d(0x1b2)]=_0x3d910d(0x23d)+_0x51e0bc[_0x3d910d(0x127)]+'\x20-\x20'+_0x51e0bc[_0x3d910d(0x21e)]+_0x3d910d(0x1f1)+_0x51e0bc[_0x3d910d(0x1d6)]+_0x3d910d(0x1f8)+_0x271b5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x411d4a[_0x3d910d(0x14e)](_0xf41702);}));const _0x26e054=document['getElementById'](_0x32fa42(0x15f)),_0x42fd15=dateExceptions[_0x52fcc4]===_0x32fa42(0x10a);_0x42fd15?(_0x26e054[_0x32fa42(0x190)]=_0x32fa42(0x14a),_0x26e054[_0x32fa42(0x18a)]=_0x32fa42(0x19c),_0x26e054[_0x32fa42(0x1af)]['color']=_0x32fa42(0x219),_0x26e054[_0x32fa42(0x1af)][_0x32fa42(0xdc)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x26e054[_0x32fa42(0x190)]=_0x32fa42(0xe2),_0x26e054[_0x32fa42(0x18a)]=_0x32fa42(0x116),_0x26e054['style'][_0x32fa42(0xf9)]=_0x32fa42(0x1d8),_0x26e054[_0x32fa42(0x1af)][_0x32fa42(0xdc)]=_0x32fa42(0x236)),openSheet(_0x32fa42(0x176));}let currentAnPeriod=a2_0x2830ee(0x241);function a2_0x15b3(){const _0x4459da=['from','blocked-slot\x20stripe-bg','querySelector','touchend','<div\x20class=\x22dch-day\x22>','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','rgba(','findIndex','dayOptionsSheet','borderLeftColor','day-off-overlay\x20stripe-bg','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','[Notify]\x20Error:\x20sessionData\x20is\x20null','[Notify]\x20Network\x20Failed','as-button\x20danger','toLocaleString','getMonth','forEach','[Notify]\x20Detected\x20Client\x20ID:','backgroundColor','completed','patternEditor','save','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','parse','complete','settingCancelWindow','exceptions','className','splice','uc_sessions_v9','createElement','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','send','textContent','WebApp','length','sheetDateSubtitle','search','overlay','inpRecurring','series','custom','stopPropagation','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','analyticsList','btn-primary\x20btn-secondary','firstChild','borderColor','doEventsList','3qSsbiB','toString','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','00:00','find','mousemove','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getTime','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','delete','filter','BackButton','div','<b>‚úÖ\x20','day-column\x20','style','clientY','asTitle','innerHTML','%\x20+\x202px)','warn','touches','<div\x20class=\x22ev-title\x22>','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','show','4784143MGPqlI','loadLocal','100%','setDate','initData','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','23:59',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','uc_settings_v9','setHours','calc(','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','analyticsSheet','save_settings','#fff','11256OgevlM','user','stringify','mergeServerData','null','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','localeCompare','warning',':00','active','toUpperCase','getDay','timeLineBadge','[Notify]\x20Attempting\x20to\x20send:','client','peGrid','var(--acc-red)','doBusyHours','.event-card','error','\x20‚Äî\x20','remove','top','onclick','[Series]\x20Skipped\x20','T23:59:59','sort','batch_sync','today','none','sheetTitle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','single','slice','toLocaleDateString','offsetLeft','then','patternInfoBox','fetchFromServer','deleted','pe-cell\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','log','actionSheetOverlay','expand','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','cancelled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpSeriesCount','7ETIqhk','saveLocally','isArray','rgba(255,\x2069,\x2058,\x200.3)','all','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','client-stat-card','inpNote','min','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','matrixViewport','mouseup','daysHeaderTrack','round','undefined','backgroundPosition','planned','33UFtvuV','getElementById','data','[Notify]\x20Client\x20SWAP\x20detected','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','px\x200px','10px\x2010px\x200\x200','setMonth','#0a84ff','3601wZAepJ','anStart','scrollWidth','max','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','var(--acc-green)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','map','#050505','25TDRDpX','end','uc_settings_cancel_window','423AUkwDu','colIndex','414126QkmIKD','valid','block','–£—Å–ø–µ—à–Ω–æ','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','scrollTop','inpStart','Local\x20Load\x20Error','send_notification','inpClient','25304HlJMUB','setItem','setAttribute','anCustomDates','3059772JbNptz','as-button\x20danger\x20bold','</b>\x0a\x0a','asBtnSeries','createDocumentFragment','padStart','rgba(255,\x2069,\x2058,\x200.15)','getHours','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','now','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','addEventListener',':00</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','data-day-idx','total','apply','week','Server\x20Error','sessionSheet','T00:00:00','data-date','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','status','substr','init_load','seriesId','note','rangeStartDate','width','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','asBtnOne','btnStatusToggle','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','.day-column','.period-switch\x20.p-btn','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','btnDelete','background','doLoadPercent','btn-status-toggle','[API\x20','[Notify]\x20Server\x20Response:','getAttribute','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Notify]\x20Error:\x20Text\x20generation\x20failed','long','v9.0-BATCH-CALENDAR','clientWidth','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','floor',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','initDataUnsafe','globalTimeLine','getBoundingClientRect','time-label','[Sync]\x20Loading\x20','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','anEnd','Local\x20Save\x20Error','value','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','clients','getItem','setBackgroundColor','280270ckdkAQ','color','.day-off-overlay','rgba(100,100,100,0.5)','toFixed','pattern','var(--acc-orange)','msg','.pib-text','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','...','Unknown','ranges','flex','href','text/plain;charset=UTF-8','push','toast','off','scrollLeft','update','target','.dch-stats-fill','checked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','\x20–∏–∑\x20','(((.+)+)+)+$','324052PcoawT','actionSheet','headerMonth','btn-primary\x20btn-danger','pe-corner','display','onClick','var(--acc-current)','10px','constructor','create','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','.day-col-header','location','done','inpDate','indexOf','<span>','mousedown','numeric','start','</div><div\x20class=\x22dch-num\x22>','clientId','open','router.html','rangeEndDate','insertBefore','day-col-header\x20','catch','classList','pe-time-label','recurringOptionContainer','doWorkHours','cancel_window','doDateHeader','settings','rangeEndTime','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','inpEnd','#gridColumns\x20.day-column','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','cancel','calendar','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','left','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','charAt',']\x20Failed:','scroll','split','getFullYear','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','gridColumns','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','querySelectorAll','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','getDate','appendChild','getMinutes','includes','borderRadius','touchmove','anPercent','anTotalStats','syncLoad','add','rangeStartTime','Batch\x20Sync\x20OK','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','\x20-\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','header-','btnDayToggle','seriesCountContainer','\x20days','getText','dateStr','text','rangesList','name','Telegram','toastMessage',':\x20Client\x20already\x20booked','closest','ru-RU','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','–£–¥–∞–ª–µ–Ω–∏–µ'];a2_0x15b3=function(){return _0x4459da;};return a2_0x15b3();}function openAnalytics(){const _0x167ce7=a2_0x2830ee,_0x58dfb3=document['querySelector'](_0x167ce7(0xd9));setAnalyticsPeriod(_0x167ce7(0x241),_0x58dfb3),closeAllSheets(),openSheet(_0x167ce7(0x1c5));}function setAnalyticsPeriod(_0x52bfb0,_0x57cd80){const _0x2f439c=a2_0x2830ee;currentAnPeriod=_0x52bfb0,document['querySelectorAll'](_0x2f439c(0xd9))[_0x2f439c(0x17f)](_0x4a2c8b=>_0x4a2c8b[_0x2f439c(0x130)][_0x2f439c(0x1dd)](_0x2f439c(0x1d1)));if(_0x57cd80)_0x57cd80[_0x2f439c(0x130)][_0x2f439c(0x156)](_0x2f439c(0x1d1));const _0x372015=document[_0x2f439c(0x20c)](_0x2f439c(0x22f));_0x372015[_0x2f439c(0x1af)][_0x2f439c(0x118)]=_0x52bfb0===_0x2f439c(0x198)?_0x2f439c(0x105):_0x2f439c(0x1e5);const _0x24055e=new Date();let _0x4e7419=new Date(),_0x5b18ff=new Date();if(_0x52bfb0==='week')_0x4e7419=getStartOfWeek(_0x24055e),_0x5b18ff=new Date(_0x4e7419),_0x5b18ff['setDate'](_0x5b18ff['getDate']()+0x6);else{if(_0x52bfb0==='month')_0x4e7419=new Date(_0x24055e['getFullYear'](),_0x24055e[_0x2f439c(0x17e)](),0x1),_0x5b18ff=new Date(_0x24055e[_0x2f439c(0x147)](),_0x24055e[_0x2f439c(0x17e)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x2f439c(0xf3)]&&(document[_0x2f439c(0x20c)](_0x2f439c(0x215))[_0x2f439c(0xf3)]=getLocalDateStr(_0x24055e),document[_0x2f439c(0x20c)](_0x2f439c(0xf1))['value']=getLocalDateStr(_0x24055e));refreshAnalytics();return;}}document[_0x2f439c(0x20c)](_0x2f439c(0x215))[_0x2f439c(0xf3)]=getLocalDateStr(_0x4e7419),document[_0x2f439c(0x20c)](_0x2f439c(0xf1))[_0x2f439c(0xf3)]=getLocalDateStr(_0x5b18ff),refreshAnalytics();}function refreshAnalytics(){const _0x4d09b8=a2_0x2830ee,_0x18098c=document[_0x4d09b8(0x20c)](_0x4d09b8(0x215))[_0x4d09b8(0xf3)],_0x109643=document[_0x4d09b8(0x20c)](_0x4d09b8(0xf1))['value'];if(!_0x18098c||!_0x109643)return;const _0x5055d0=sessions['filter'](_0x19790c=>_0x19790c[_0x4d09b8(0x163)]>=_0x18098c&&_0x19790c['dateStr']<=_0x109643&&_0x19790c[_0x4d09b8(0xcc)]!==_0x4d09b8(0x1f7)),_0x3c2413=_0x5055d0[_0x4d09b8(0x192)],_0x177fb5=_0x5055d0[_0x4d09b8(0x1aa)](_0x265b7c=>_0x265b7c['status']===_0x4d09b8(0x182))[_0x4d09b8(0x192)],_0x3d1ae3=_0x3c2413>0x0?Math[_0x4d09b8(0x207)](_0x177fb5/_0x3c2413*0x64):0x0;document[_0x4d09b8(0x20c)](_0x4d09b8(0x153))[_0x4d09b8(0x190)]=_0x3d1ae3+'%',document[_0x4d09b8(0x20c)](_0x4d09b8(0x154))[_0x4d09b8(0x190)]=_0x177fb5+_0x4d09b8(0x111)+_0x3c2413+_0x4d09b8(0x1a2);const _0x264b97=document[_0x4d09b8(0x20c)]('anDonutCircle'),_0x14148d=0x2*Math['PI']*0x23,_0x14ca57=_0x14148d-_0x3d1ae3/0x64*_0x14148d;_0x264b97['style']['strokeDashoffset']=_0x14ca57;const _0xbb493c={};_0x5055d0[_0x4d09b8(0x17f)](_0x4ff5b9=>{const _0x1cdd08=_0x4d09b8;if(!_0xbb493c[_0x4ff5b9['client']]){const _0x24734b=clients[_0x1cdd08(0x1a4)](_0x23208e=>_0x23208e[_0x1cdd08(0x166)]===_0x4ff5b9[_0x1cdd08(0x1d6)]);_0xbb493c[_0x4ff5b9[_0x1cdd08(0x1d6)]]={'total':0x0,'done':0x0,'color':_0x24734b?_0x24734b['color']:_0x1cdd08(0x1c7)};}_0xbb493c[_0x4ff5b9[_0x1cdd08(0x1d6)]][_0x1cdd08(0x23f)]++;if(_0x4ff5b9[_0x1cdd08(0xcc)]===_0x1cdd08(0x182))_0xbb493c[_0x4ff5b9['client']][_0x1cdd08(0x121)]++;});const _0x359aba=document[_0x4d09b8(0x20c)](_0x4d09b8(0x19b));_0x359aba[_0x4d09b8(0x1b2)]='';const _0x5dced5=Object['entries'](_0xbb493c)[_0x4d09b8(0x1e2)]((_0x5ece5f,_0x2e2acd)=>_0x2e2acd[0x1]['total']-_0x5ece5f[0x1][_0x4d09b8(0x23f)]);if(_0x5dced5['length']===0x0){_0x359aba[_0x4d09b8(0x1b2)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x5dced5['forEach'](([_0x2c6512,_0x2b42d8])=>{const _0x383b7d=_0x4d09b8,_0x46593a=Math[_0x383b7d(0x207)](_0x2b42d8['done']/_0x2b42d8[_0x383b7d(0x23f)]*0x64),_0x3eb237=document[_0x383b7d(0x18d)](_0x383b7d(0x1ac));_0x3eb237[_0x383b7d(0x18a)]=_0x383b7d(0x200),_0x3eb237[_0x383b7d(0x1af)][_0x383b7d(0x177)]=_0x2b42d8[_0x383b7d(0xf9)],_0x3eb237[_0x383b7d(0x1b2)]=_0x383b7d(0xcb)+_0x2c6512+_0x383b7d(0x110)+_0x2b42d8[_0x383b7d(0x121)]+'</span>\x20/\x20'+_0x2b42d8[_0x383b7d(0x23f)]+_0x383b7d(0x15d)+_0x46593a+_0x383b7d(0xd3),_0x359aba[_0x383b7d(0x14e)](_0x3eb237);});}function formatMinsToHrs(_0x29bcff){if(_0x29bcff===0x0)return'0';const _0x321bcf=Math['floor'](_0x29bcff/0x3c),_0x36e4c9=_0x29bcff%0x3c;if(_0x36e4c9===0x0)return _0x321bcf+'—á';return _0x321bcf+'—á\x20'+_0x36e4c9+'–º';}