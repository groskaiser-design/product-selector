const a2_0x45c5bc=a2_0x33aa;(function(_0x559a10,_0x31f20e){const _0x20243b=a2_0x33aa,_0x554fd3=_0x559a10();while(!![]){try{const _0xe3a71f=parseInt(_0x20243b(0x2b7))/0x1+parseInt(_0x20243b(0x1e3))/0x2+-parseInt(_0x20243b(0x1b7))/0x3*(parseInt(_0x20243b(0x257))/0x4)+-parseInt(_0x20243b(0x1af))/0x5+-parseInt(_0x20243b(0x278))/0x6*(-parseInt(_0x20243b(0x281))/0x7)+parseInt(_0x20243b(0x1a1))/0x8+-parseInt(_0x20243b(0x2c4))/0x9;if(_0xe3a71f===_0x31f20e)break;else _0x554fd3['push'](_0x554fd3['shift']());}catch(_0x348b6f){_0x554fd3['push'](_0x554fd3['shift']());}}}(a2_0x456d,0x4a24b),function initTMA(){const _0x56d0da=a2_0x33aa,_0x4b1718=(function(){let _0x3d22e6=!![];return function(_0x3cbe5f,_0xa2c49b){const _0x2b2773=_0x3d22e6?function(){if(_0xa2c49b){const _0x455de8=_0xa2c49b['apply'](_0x3cbe5f,arguments);return _0xa2c49b=null,_0x455de8;}}:function(){};return _0x3d22e6=![],_0x2b2773;};}()),_0xaf198f=_0x4b1718(this,function(){const _0x4bf690=a2_0x33aa;return _0xaf198f[_0x4bf690(0x1e1)]()['search'](_0x4bf690(0x1f9))['toString']()[_0x4bf690(0x1fc)](_0xaf198f)[_0x4bf690(0x1f7)](_0x4bf690(0x1f9));});_0xaf198f();try{const _0x27a433=window[_0x56d0da(0x271)]?.[_0x56d0da(0x272)];if(!_0x27a433)return;_0x27a433[_0x56d0da(0x230)](),_0x27a433[_0x56d0da(0x181)]();try{_0x27a433['setHeaderColor'](_0x56d0da(0x17e)),_0x27a433[_0x56d0da(0x2da)]&&_0x27a433[_0x56d0da(0x2da)](_0x56d0da(0x17e));}catch(_0x5b203a){console['log'](_0x56d0da(0x2db),_0x5b203a);}try{_0x27a433[_0x56d0da(0x248)]&&(_0x27a433[_0x56d0da(0x248)][_0x56d0da(0x174)](),_0x27a433[_0x56d0da(0x248)][_0x56d0da(0x1b2)](),_0x27a433['BackButton'][_0x56d0da(0x235)](function(){const _0x30cc30=_0x56d0da;window[_0x30cc30(0x1a7)][_0x30cc30(0x24d)]=_0x30cc30(0x2b5);}));}catch(_0x59eb8d){console[_0x56d0da(0x221)](_0x56d0da(0x29f),_0x59eb8d);}try{if(_0x27a433['disableVerticalSwipes'])_0x27a433['disableVerticalSwipes']();}catch(_0x1f1f36){}}catch(_0x5b6dc2){console[_0x56d0da(0x262)](_0x56d0da(0x2d8),_0x5b6dc2);}}());function isAdmin(){const _0x7f5edf=a2_0x33aa;try{const _0x14b0a5=Number(window[_0x7f5edf(0x271)]?.[_0x7f5edf(0x272)]?.[_0x7f5edf(0x1a4)]?.[_0x7f5edf(0x231)]?.['id']);return _0x14b0a5===0xbaf7174;}catch(_0x52a438){return![];}}const APP_VERSION=a2_0x45c5bc(0x201),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x45c5bc(0x25c),KEY_SESSIONS=a2_0x45c5bc(0x15e),KEY_SETTINGS=a2_0x45c5bc(0x234);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x51b362=a2_0x45c5bc;return window[_0x51b362(0x271)]?.[_0x51b362(0x272)]?.[_0x51b362(0x1a4)]?.['user']?.['id']||_0x51b362(0x28c);},'saveLocally'(){const _0x2efb0a=a2_0x45c5bc;try{localStorage[_0x2efb0a(0x187)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x2efb0a(0x187)](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x24af93){console[_0x2efb0a(0x262)]('Local\x20Save\x20Error',_0x24af93);}},'loadLocal'(){const _0x2949cb=a2_0x45c5bc;try{const _0x446acc=localStorage['getItem'](KEY_CLIENTS);if(_0x446acc)clients=JSON[_0x2949cb(0x268)](_0x446acc);const _0x21894a=localStorage[_0x2949cb(0x1b8)](KEY_SESSIONS);if(_0x21894a)sessions=JSON[_0x2949cb(0x268)](_0x21894a);const _0x49d0b2=localStorage[_0x2949cb(0x1b8)](KEY_SETTINGS);if(_0x49d0b2){const _0x1b77cc=JSON[_0x2949cb(0x268)](_0x49d0b2);if(_0x1b77cc[_0x2949cb(0x216)])availabilityPattern=_0x1b77cc[_0x2949cb(0x216)];if(_0x1b77cc['exceptions'])dateExceptions=_0x1b77cc[_0x2949cb(0x24b)];if(_0x1b77cc[_0x2949cb(0x299)])specialRanges=_0x1b77cc[_0x2949cb(0x299)];}else{for(let _0x1ff0e8=0x0;_0x1ff0e8<0x7;_0x1ff0e8++)availabilityPattern[_0x1ff0e8]=Array[_0x2949cb(0x290)]({'length':0xc},(_0x553f3e,_0x565dda)=>_0x565dda+0x9);}}catch(_0x43f9bf){console['error'](_0x2949cb(0x1f3),_0x43f9bf);}},async 'fetchFromServer'(_0x4f34d0,_0x494750={}){const _0x57b404=a2_0x45c5bc,_0x506d0e=window[_0x57b404(0x271)]?.[_0x57b404(0x272)],_0x50fd69={'action':_0x4f34d0,'init_data':_0x506d0e?.[_0x57b404(0x2a8)]||'',..._0x494750};try{const _0x2402e6=await fetch(API_URL,{'method':_0x57b404(0x20d),'headers':{'Content-Type':_0x57b404(0x1be)},'body':JSON['stringify'](_0x50fd69)}),_0x17db20=await _0x2402e6[_0x57b404(0x177)]();if(!_0x17db20['ok'])throw new Error(_0x17db20[_0x57b404(0x262)]||_0x57b404(0x1d7));return _0x17db20[_0x57b404(0x1cb)];}catch(_0x59a07b){console[_0x57b404(0x262)](_0x57b404(0x2c2)+_0x4f34d0+']\x20Failed:',_0x59a07b);throw _0x59a07b;}},async 'syncLoad'(){const _0x52b33d=a2_0x45c5bc,_0x18957a=new Date(),_0xe1a8=_0x18957a[_0x52b33d(0x172)]()+'-'+String(_0x18957a[_0x52b33d(0x2b0)]()+0x1)['padStart'](0x2,'0'),_0xbcf75f=new Date(_0x18957a);_0xbcf75f['setMonth'](_0x18957a[_0x52b33d(0x2b0)]()+0x1);const _0x1d04ce=_0xbcf75f['getFullYear']()+'-'+String(_0xbcf75f[_0x52b33d(0x2b0)]()+0x1)[_0x52b33d(0x1ca)](0x2,'0'),_0x4510e1=Date[_0x52b33d(0x1b0)]();console[_0x52b33d(0x221)](_0x52b33d(0x222)+_0xe1a8+',\x20'+_0x1d04ce+_0x52b33d(0x20c));try{const [_0x383c8f,_0x4eb275]=await Promise['all']([this['fetchFromServer'](_0x52b33d(0x1eb),{'month_str':_0xe1a8}),this['fetchFromServer'](_0x52b33d(0x1eb),{'month_str':_0x1d04ce})]);if(lastUserActionTime>_0x4510e1)return console[_0x52b33d(0x232)](_0x52b33d(0x2e1)),![];return this['mergeServerData'](_0x383c8f,_0xe1a8),this[_0x52b33d(0x2cc)](_0x4eb275,_0x1d04ce),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x39bdeb){console[_0x52b33d(0x262)](_0x39bdeb);throw _0x39bdeb;}},'mergeServerData'(_0x1a4938,_0x4a8b8b){const _0xdcb418=a2_0x45c5bc;if(!_0x1a4938)return;_0x1a4938[_0xdcb418(0x161)]&&Array[_0xdcb418(0x20e)](_0x1a4938[_0xdcb418(0x161)])&&(clients=_0x1a4938[_0xdcb418(0x161)]);if(_0x1a4938['settings']){if(_0x1a4938[_0xdcb418(0x1ac)]['pattern'])availabilityPattern=_0x1a4938['settings'][_0xdcb418(0x216)];if(_0x1a4938[_0xdcb418(0x1ac)][_0xdcb418(0x24b)])dateExceptions=_0x1a4938[_0xdcb418(0x1ac)][_0xdcb418(0x24b)];if(_0x1a4938[_0xdcb418(0x1ac)]['ranges'])specialRanges=_0x1a4938[_0xdcb418(0x1ac)][_0xdcb418(0x299)];if(_0x1a4938[_0xdcb418(0x1ac)][_0xdcb418(0x1ad)]){localStorage[_0xdcb418(0x187)](_0xdcb418(0x1bb),_0x1a4938[_0xdcb418(0x1ac)]['cancel_window']);const _0x28faab=document[_0xdcb418(0x245)](_0xdcb418(0x226));if(_0x28faab)_0x28faab[_0xdcb418(0x1e0)]=_0x1a4938['settings'][_0xdcb418(0x1ad)];}}_0x1a4938[_0xdcb418(0x176)]&&(sessions=sessions[_0xdcb418(0x21b)](_0x467a7d=>!_0x467a7d[_0xdcb418(0x207)][_0xdcb418(0x169)](_0x4a8b8b)),Object[_0xdcb418(0x2b6)](_0x1a4938['calendar'])[_0xdcb418(0x179)](_0x4fdb35=>{const _0x209046=_0xdcb418,_0x29f771=_0x1a4938[_0x209046(0x176)][_0x4fdb35];_0x29f771[_0x209046(0x179)](_0x3f5a46=>{const _0x4b1489=_0x209046,_0x5e9178=clients['find'](_0xd6cb4c=>String(_0xd6cb4c['id'])===String(_0x3f5a46['c']));sessions[_0x4b1489(0x183)]({'id':_0x3f5a46['i'],'clientId':_0x3f5a46['c'],'client':_0x5e9178?_0x5e9178['name']:_0x4b1489(0x293),'dateStr':_0x4a8b8b+'-'+_0x4fdb35[_0x4b1489(0x1ca)](0x2,'0'),'start':_0x3f5a46['s'],'end':_0x3f5a46['e'],'status':_0x3f5a46['st']||'planned','note':_0x3f5a46['n']||'','seriesId':_0x3f5a46[_0x4b1489(0x2d2)]||null});});}));},async 'syncBatch'(_0x21cedc){const _0xb6675a=a2_0x45c5bc,_0x55fa5f=[...new Set(_0x21cedc)],_0x2aefb1=_0x55fa5f[_0xb6675a(0x2be)](_0x49a69a=>{const _0x40c224=_0xb6675a,_0x1403e4=sessions[_0x40c224(0x21b)](_0x357a9a=>_0x357a9a['dateStr']===_0x49a69a&&_0x357a9a[_0x40c224(0x1d1)]!==_0x40c224(0x18f)),_0x49302f=_0x1403e4[_0x40c224(0x2be)](_0x33fa59=>({'i':_0x33fa59['id'],'c':_0x33fa59['clientId'],'s':_0x33fa59[_0x40c224(0x199)],'e':_0x33fa59[_0x40c224(0x20b)],'st':_0x33fa59[_0x40c224(0x1d1)],'n':_0x33fa59[_0x40c224(0x1e7)],'sid':_0x33fa59['seriesId']}));return{'date':_0x49a69a,'day_data':_0x49302f};});if(_0x2aefb1[_0xb6675a(0x1bc)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x2aefb1[_0xb6675a(0x1bc)]+_0xb6675a(0x2ae)),await this[_0xb6675a(0x1b3)](_0xb6675a(0x1b6),{'changes':_0x2aefb1});}};async function init(){const _0x34a9f5=a2_0x45c5bc;DataManager[_0x34a9f5(0x1d4)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x34a9f5(0x1de))['addEventListener'](_0x34a9f5(0x28d),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x34a9f5(0x17f)]()[_0x34a9f5(0x19b)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})['catch'](_0xa38b74=>{const _0x16f0f3=_0x34a9f5;showToast(_0x16f0f3(0x213),![]);});}function generateId(){const _0x395c36=a2_0x45c5bc;return Date[_0x395c36(0x1b0)]()['toString'](0x24)+Math[_0x395c36(0x2a0)]()[_0x395c36(0x1e1)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x390ff4=a2_0x45c5bc,_0x28ff87=document['getElementById'](_0x390ff4(0x192))[_0x390ff4(0x1f6)],_0x5974f0=document[_0x390ff4(0x245)](_0x390ff4(0x244));_0x5974f0[_0x390ff4(0x2aa)][_0x390ff4(0x211)]=_0x28ff87?_0x390ff4(0x23f):_0x390ff4(0x2de);const _0x44f725=document[_0x390ff4(0x245)](_0x390ff4(0x1aa));_0x44f725[_0x390ff4(0x2aa)][_0x390ff4(0x259)]=_0x28ff87?_0x390ff4(0x251):_0x390ff4(0x18e);}function openAddSession(_0x47def9){const _0x2e1ec4=a2_0x45c5bc;editingId=null,populateClientSelect(),document[_0x2e1ec4(0x245)]('sheetTitle')[_0x2e1ec4(0x15d)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0x2e1ec4(0x245)](_0x2e1ec4(0x1e2))['style']['display']='none',document[_0x2e1ec4(0x245)](_0x2e1ec4(0x269))[_0x2e1ec4(0x2aa)][_0x2e1ec4(0x211)]='none';const _0x4baadc=document[_0x2e1ec4(0x245)](_0x2e1ec4(0x1aa)),_0x50aecc=document['getElementById']('seriesCountContainer');_0x4baadc[_0x2e1ec4(0x2aa)][_0x2e1ec4(0x211)]=_0x2e1ec4(0x223),_0x4baadc[_0x2e1ec4(0x2aa)][_0x2e1ec4(0x259)]=_0x2e1ec4(0x18e),document[_0x2e1ec4(0x245)](_0x2e1ec4(0x192))[_0x2e1ec4(0x1f6)]=![],document[_0x2e1ec4(0x245)](_0x2e1ec4(0x1c8))[_0x2e1ec4(0x1e0)]=0x4,_0x50aecc[_0x2e1ec4(0x2aa)][_0x2e1ec4(0x211)]=_0x2e1ec4(0x2de),document['getElementById'](_0x2e1ec4(0x261))[_0x2e1ec4(0x1e0)]=getLocalDateStr(_0x47def9),updateDateDisplay();const _0x33518f=_0x47def9[_0x2e1ec4(0x209)]();document['getElementById']('inpStart')[_0x2e1ec4(0x1e0)]=String(_0x33518f)[_0x2e1ec4(0x1ca)](0x2,'0')+_0x2e1ec4(0x2ad),document[_0x2e1ec4(0x245)](_0x2e1ec4(0x27b))[_0x2e1ec4(0x1e0)]=String(_0x33518f+0x1)['padStart'](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x42f922){const _0x41c34e=a2_0x45c5bc;editingId=_0x42f922['id'],populateClientSelect(),document[_0x41c34e(0x245)]('sheetTitle')[_0x41c34e(0x15d)]=_0x41c34e(0x19a),document[_0x41c34e(0x245)](_0x41c34e(0x1e2))['style'][_0x41c34e(0x211)]=_0x41c34e(0x23f);const _0x768a5b=document['getElementById']('btnStatusToggle');_0x768a5b['style'][_0x41c34e(0x211)]=_0x41c34e(0x223);_0x42f922[_0x41c34e(0x1d1)]===_0x41c34e(0x18d)?(_0x768a5b[_0x41c34e(0x2d7)]='btn-status-toggle\x20undo-mode',_0x768a5b['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x768a5b[_0x41c34e(0x2d7)]=_0x41c34e(0x22d),_0x768a5b['innerHTML']=_0x41c34e(0x29b));const _0x2b4665=!!_0x42f922['seriesId'];document[_0x41c34e(0x245)](_0x41c34e(0x1aa))[_0x41c34e(0x2aa)][_0x41c34e(0x211)]=_0x41c34e(0x2de),document[_0x41c34e(0x245)](_0x41c34e(0x244))[_0x41c34e(0x2aa)][_0x41c34e(0x211)]=_0x41c34e(0x2de),_0x2b4665?(document[_0x41c34e(0x245)](_0x41c34e(0x1f8))[_0x41c34e(0x2aa)][_0x41c34e(0x211)]=_0x41c34e(0x223),document[_0x41c34e(0x245)](_0x41c34e(0x1f8))[_0x41c34e(0x1f2)](_0x41c34e(0x1c4))['textContent']=_0x41c34e(0x1ef)):document[_0x41c34e(0x245)](_0x41c34e(0x1f8))[_0x41c34e(0x2aa)]['display']='none',document['getElementById'](_0x41c34e(0x284))[_0x41c34e(0x1e0)]=_0x42f922['client'],document['getElementById']('inpDate')[_0x41c34e(0x1e0)]=_0x42f922[_0x41c34e(0x207)],document[_0x41c34e(0x245)](_0x41c34e(0x28a))[_0x41c34e(0x1e0)]=_0x42f922['start'],document[_0x41c34e(0x245)](_0x41c34e(0x27b))['value']=_0x42f922[_0x41c34e(0x20b)],document[_0x41c34e(0x245)](_0x41c34e(0x175))[_0x41c34e(0x1e0)]=_0x42f922[_0x41c34e(0x1e7)]||'',updateDateDisplay(),openSheet(_0x41c34e(0x206));}async function trySaveSession(){const _0x2ed117=a2_0x45c5bc,_0x4a87c5=document[_0x2ed117(0x245)](_0x2ed117(0x284))['value'],_0x2b67cf=document[_0x2ed117(0x245)](_0x2ed117(0x261))['value'],_0x225b11=document[_0x2ed117(0x245)](_0x2ed117(0x28a))['value'],_0x7e49eb=document['getElementById'](_0x2ed117(0x27b))[_0x2ed117(0x1e0)],_0x41febb=document['getElementById'](_0x2ed117(0x175))[_0x2ed117(0x1e0)],_0x2f0ff8=document[_0x2ed117(0x245)](_0x2ed117(0x192))[_0x2ed117(0x1f6)];let _0x532ead=0x4;if(_0x2f0ff8){const _0x5474ee=parseInt(document[_0x2ed117(0x245)](_0x2ed117(0x1c8))['value']);if(!_0x5474ee||_0x5474ee<0x2){showToast(_0x2ed117(0x173),![]);return;}if(_0x5474ee>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x532ead=_0x5474ee;}const _0x51f628=clients[_0x2ed117(0x21c)](_0x5ee94c=>_0x5ee94c[_0x2ed117(0x2d9)]===_0x4a87c5);if(!_0x51f628){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x1b380c=validateAppointment(_0x2b67cf,_0x225b11,_0x7e49eb,editingId,_0x51f628['id']);if(!_0x1b380c['valid']){showToast(_0x1b380c['msg'],![]);return;}_0x1b380c[_0x2ed117(0x2ca)]&&showToast(_0x1b380c[_0x2ed117(0x2ca)],![]);const _0x46560d={'client':_0x4a87c5,'clientId':_0x51f628['id'],'start':_0x225b11,'end':_0x7e49eb,'note':_0x41febb,'status':_0x2ed117(0x2d5)},_0x281746=editingId?sessions[_0x2ed117(0x21c)](_0x4e0dab=>_0x4e0dab['id']===editingId):null;if(_0x281746&&_0x281746['seriesId']){tempSessionData={..._0x46560d,'dateStr':_0x2b67cf,'id':editingId,'seriesId':_0x281746['seriesId']},openActionSheet('save');return;}let _0x4d984f=null;if(!editingId)_0x4d984f='create';else{if(_0x281746){if(String(_0x281746[_0x2ed117(0x217)])!==String(_0x51f628['id']))console[_0x2ed117(0x221)](_0x2ed117(0x1c6)),NotificationManager[_0x2ed117(0x23c)](_0x2ed117(0x208),_0x281746),_0x4d984f='create';else(_0x281746['start']!==_0x225b11||_0x281746[_0x2ed117(0x20b)]!==_0x7e49eb||_0x281746['dateStr']!==_0x2b67cf)&&(_0x4d984f=_0x2ed117(0x2bf));}}if(!editingId&&_0x2f0ff8){createBatchSeries(_0x46560d,_0x2b67cf,_0x532ead),NotificationManager['send'](_0x2ed117(0x1ab),{..._0x46560d,'dateStr':_0x2b67cf});return;}lastUserActionTime=Date['now']();const _0x5c0c5b={..._0x46560d,'dateStr':_0x2b67cf,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5c0c5b),_0x4d984f&&NotificationManager[_0x2ed117(0x23c)](_0x4d984f,_0x5c0c5b);}function toggleSessionStatus(){const _0x182216=a2_0x45c5bc;lastUserActionTime=Date[_0x182216(0x1b0)]();const _0x473d7a=sessions['find'](_0x52ddf0=>_0x52ddf0['id']===editingId);if(!_0x473d7a)return;const _0x1463ab=_0x473d7a['status']===_0x182216(0x18d)?_0x182216(0x2d5):_0x182216(0x18d);_0x473d7a[_0x182216(0x1d1)]=_0x1463ab,saveSingleSession(_0x473d7a),_0x1463ab===_0x182216(0x18d)&&NotificationManager['send']('complete',_0x473d7a),showToast(_0x1463ab==='completed'?_0x182216(0x2c0):_0x182216(0x2a7),!![]);}function validateAppointment(_0x37ba4b,_0x9071e1,_0x3c006b,_0x3df22b,_0x17d68f){const _0x42aaac=a2_0x45c5bc,[_0x4eb8fb,_0x1c957f]=_0x9071e1[_0x42aaac(0x247)](':')['map'](Number),[_0x4e2653,_0x3b2a21]=_0x3c006b['split'](':')[_0x42aaac(0x2be)](Number),_0x19002d=_0x4eb8fb*0x3c+_0x1c957f,_0x4f1347=_0x4e2653*0x3c+_0x3b2a21,_0x492c8c=String(_0x17d68f);let _0xcf4170=![],_0x5c9ec2='';for(let _0x43c307 of sessions){if(_0x43c307[_0x42aaac(0x207)]!==_0x37ba4b)continue;if(_0x43c307['status']===_0x42aaac(0x2b8))continue;if(_0x3df22b&&String(_0x43c307['id'])===String(_0x3df22b))continue;const [_0x53de1d,_0x1d3672]=_0x43c307[_0x42aaac(0x199)][_0x42aaac(0x247)](':')[_0x42aaac(0x2be)](Number),[_0x21bfd1,_0x460aaf]=_0x43c307[_0x42aaac(0x20b)][_0x42aaac(0x247)](':')[_0x42aaac(0x2be)](Number),_0x183efb=_0x53de1d*0x3c+_0x1d3672,_0x35fa4c=_0x21bfd1*0x3c+_0x460aaf;if(Math[_0x42aaac(0x1a5)](_0x19002d,_0x183efb)<Math[_0x42aaac(0x184)](_0x4f1347,_0x35fa4c)){if(_0x43c307[_0x42aaac(0x217)]&&String(_0x43c307['clientId'])===_0x492c8c)return{'valid':![],'msg':_0x42aaac(0x1a6)+_0x43c307[_0x42aaac(0x1a8)]+_0x42aaac(0x282)};_0xcf4170=!![],_0x5c9ec2=_0x43c307[_0x42aaac(0x1a8)];}}if(_0xcf4170)return{'valid':!![],'warning':_0x42aaac(0x260)+_0x5c9ec2};return{'valid':!![]};}function saveSingleSession(_0x593f4b){const _0x1427be=a2_0x45c5bc;if(editingId){const _0x30247b=sessions['findIndex'](_0x49da13=>_0x49da13['id']===editingId);if(_0x30247b!==-0x1)sessions[_0x30247b]=_0x593f4b;}else sessions['push'](_0x593f4b);afterSaveAction([_0x593f4b[_0x1427be(0x207)]]);}function createBatchSeries(_0xa57918,_0x53263d,_0x2697ab){const _0x306137=a2_0x45c5bc,_0x5537d5=generateId(),_0x2a0110=[],_0x4a26be=[];let _0x3164cf=0x0,_0x9e42e1=new Date(_0x53263d);for(let _0x4af82b=0x0;_0x4af82b<_0x2697ab;_0x4af82b++){const _0x524f5e=getLocalDateStr(_0x9e42e1),_0x8e7aec=validateAppointment(_0x524f5e,_0xa57918[_0x306137(0x199)],_0xa57918['end'],null,_0xa57918[_0x306137(0x217)]);if(!_0x8e7aec[_0x306137(0x2bc)])console[_0x306137(0x221)](_0x306137(0x15f)+_0x524f5e+':\x20Client\x20already\x20booked'),_0x3164cf++;else{const _0x4bd855={..._0xa57918,'id':generateId(),'dateStr':_0x524f5e,'seriesId':_0x5537d5};_0x4a26be[_0x306137(0x183)](_0x4bd855),_0x2a0110['push'](_0x524f5e);}_0x9e42e1[_0x306137(0x2cf)](_0x9e42e1[_0x306137(0x2c7)]()+0x7);}if(_0x4a26be[_0x306137(0x1bc)]===0x0){showToast(_0x306137(0x2dc),![]);return;}sessions[_0x306137(0x183)](..._0x4a26be),lastUserActionTime=Date[_0x306137(0x1b0)]();let _0xbba1c6=_0x306137(0x24a)+_0x4a26be[_0x306137(0x1bc)];_0x3164cf>0x0&&(_0xbba1c6+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x3164cf+')'),showToast(_0xbba1c6,!![]),afterSaveAction(_0x2a0110);}function updateSeriesBatch(_0x5d0084,_0x1c4a61){const _0x2975fb=a2_0x45c5bc,_0x3b1f65=[],_0x273ffd=_0x1c4a61[_0x2975fb(0x227)];if(_0x5d0084==='single'){const _0x4917ad={..._0x1c4a61,'seriesId':null},_0x17006d=sessions['findIndex'](_0xba94ac=>_0xba94ac['id']===_0x1c4a61['id']);if(_0x17006d!==-0x1)sessions[_0x17006d]=_0x4917ad;_0x3b1f65[_0x2975fb(0x183)](_0x4917ad[_0x2975fb(0x207)]);}else{if(_0x5d0084===_0x2975fb(0x26c)){const _0x19a9f1=_0x1c4a61[_0x2975fb(0x207)];sessions[_0x2975fb(0x179)]((_0x4b66f9,_0x524bf6)=>{const _0x2f2b38=_0x2975fb;_0x4b66f9[_0x2f2b38(0x227)]===_0x273ffd&&_0x4b66f9['dateStr']>=_0x19a9f1&&(sessions[_0x524bf6]={...sessions[_0x524bf6],'start':_0x1c4a61[_0x2f2b38(0x199)],'end':_0x1c4a61[_0x2f2b38(0x20b)],'note':_0x1c4a61['note'],'client':_0x1c4a61['client'],'clientId':_0x1c4a61[_0x2f2b38(0x217)]},_0x3b1f65[_0x2f2b38(0x183)](_0x4b66f9[_0x2f2b38(0x207)]));});}}afterSaveAction(_0x3b1f65);}function tryDeleteSession(){const _0x53cf08=a2_0x45c5bc,_0x498127=sessions['find'](_0x3f2f07=>_0x3f2f07['id']===editingId);if(!_0x498127)return;_0x498127['seriesId']?openActionSheet(_0x53cf08(0x1ff)):commitDelete(_0x53cf08(0x2a9),_0x498127);}function commitDelete(_0x818224,_0xb0d2e3){const _0x56c4f8=a2_0x45c5bc;lastUserActionTime=Date[_0x56c4f8(0x1b0)](),NotificationManager[_0x56c4f8(0x23c)](_0x56c4f8(0x208),_0xb0d2e3);const _0x3271b2=[];if(_0x818224==='single')sessions=sessions['filter'](_0x12f829=>_0x12f829['id']!==_0xb0d2e3['id']),_0x3271b2[_0x56c4f8(0x183)](_0xb0d2e3[_0x56c4f8(0x207)]);else{if(_0x818224===_0x56c4f8(0x26c)){const _0x543469=_0xb0d2e3[_0x56c4f8(0x207)],_0x599e9e=_0xb0d2e3[_0x56c4f8(0x227)];sessions[_0x56c4f8(0x179)](_0x2360c5=>{const _0x4baf4e=_0x56c4f8;_0x2360c5[_0x4baf4e(0x227)]===_0x599e9e&&_0x2360c5[_0x4baf4e(0x207)]>=_0x543469&&_0x3271b2[_0x4baf4e(0x183)](_0x2360c5['dateStr']);}),sessions=sessions['filter'](_0x265a2f=>!(_0x265a2f['seriesId']===_0x599e9e&&_0x265a2f[_0x56c4f8(0x207)]>=_0x543469));}}afterSaveAction(_0x3271b2);}function afterSaveAction(_0x37f7a5){const _0x2559c4=a2_0x45c5bc;DataManager[_0x2559c4(0x1c1)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x2559c4(0x19e)](_0x37f7a5)[_0x2559c4(0x19b)](()=>console[_0x2559c4(0x221)](_0x2559c4(0x191)))[_0x2559c4(0x26b)](_0x183b31=>showToast(_0x2559c4(0x28b),![]));}const NotificationManager={'formatDate'(_0x30e2d4){const _0x571d48=a2_0x45c5bc,_0x456547=new Date(_0x30e2d4),_0x24668b={'weekday':_0x571d48(0x1df),'day':_0x571d48(0x1d6),'month':_0x571d48(0x1df)};let _0x89b4fb=_0x456547[_0x571d48(0x205)](_0x571d48(0x276),_0x24668b);return _0x89b4fb[_0x571d48(0x24f)](0x0)[_0x571d48(0x2ab)]()+_0x89b4fb['slice'](0x1);},'getText'(_0x56af62,_0x5142f8){const _0x3a9340=a2_0x45c5bc,_0x18bc6d=this[_0x3a9340(0x188)](_0x5142f8[_0x3a9340(0x207)]);switch(_0x56af62){case _0x3a9340(0x1ab):return _0x3a9340(0x1c3)+(_0x3a9340(0x255)+_0x18bc6d+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x5142f8[_0x3a9340(0x199)]+_0x3a9340(0x295)+_0x5142f8[_0x3a9340(0x20b)]+'\x0a\x0a')+_0x3a9340(0x17b);case'update':return _0x3a9340(0x2bb)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x3a9340(0x2b4)+_0x5142f8[_0x3a9340(0x199)]+'\x20‚Äî\x20'+_0x5142f8['end']+'</b>\x0a\x0a')+(_0x3a9340(0x255)+_0x18bc6d);case _0x3a9340(0x208):return _0x3a9340(0x23b)+(_0x3a9340(0x289)+_0x18bc6d+'\x20('+_0x5142f8[_0x3a9340(0x199)]+_0x3a9340(0x246));case _0x3a9340(0x1d9):return _0x3a9340(0x264)+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x3a9340(0x292);default:return'';}},async 'send'(_0x398941,_0x2dcf23){const _0x8550e2=a2_0x45c5bc;console[_0x8550e2(0x221)](_0x8550e2(0x280),_0x398941,_0x2dcf23);if(!_0x2dcf23){console[_0x8550e2(0x262)](_0x8550e2(0x2d1));return;}const _0x468a6f=String(_0x2dcf23['clientId']);console['log'](_0x8550e2(0x26a),_0x468a6f);if(!_0x2dcf23[_0x8550e2(0x217)]||_0x468a6f===_0x8550e2(0x228)||_0x468a6f==='null'){console['error'](_0x8550e2(0x190));if(_0x2dcf23[_0x8550e2(0x1a8)]){const _0x3deb3a=clients[_0x8550e2(0x21c)](_0x362c91=>_0x362c91[_0x8550e2(0x2d9)]===_0x2dcf23[_0x8550e2(0x1a8)]);if(_0x3deb3a)return console[_0x8550e2(0x221)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x3deb3a['id']),this[_0x8550e2(0x23c)](_0x398941,{..._0x2dcf23,'clientId':_0x3deb3a['id']});}return;}if(_0x468a6f[_0x8550e2(0x1bc)]<0x5){console[_0x8550e2(0x232)](_0x8550e2(0x1e4),_0x468a6f);return;}const _0x315944=this[_0x8550e2(0x21e)](_0x398941,_0x2dcf23);if(!_0x315944){console[_0x8550e2(0x262)](_0x8550e2(0x1ba));return;}console[_0x8550e2(0x221)](_0x8550e2(0x270)+_0x468a6f+_0x8550e2(0x20c)),DataManager[_0x8550e2(0x1b3)](_0x8550e2(0x22f),{'chatId':_0x468a6f,'text':_0x315944})['then'](_0x4bd80f=>console[_0x8550e2(0x221)](_0x8550e2(0x219),_0x4bd80f))['catch'](_0x1591ee=>console[_0x8550e2(0x262)](_0x8550e2(0x239),_0x1591ee));}};function getLocalDateStr(_0x4946dc){const _0x244c9a=a2_0x45c5bc,_0x4ac663=_0x4946dc['getFullYear'](),_0x28771e=String(_0x4946dc[_0x244c9a(0x2b0)]()+0x1)[_0x244c9a(0x1ca)](0x2,'0'),_0x3cf3ad=String(_0x4946dc[_0x244c9a(0x2c7)]())[_0x244c9a(0x1ca)](0x2,'0');return _0x4ac663+'-'+_0x28771e+'-'+_0x3cf3ad;}function getDateStr(_0x595e1e){const _0x4713ec=a2_0x45c5bc,_0x4cb8d0=new Date();return _0x4cb8d0[_0x4713ec(0x2cf)](_0x4cb8d0[_0x4713ec(0x2c7)]()+_0x595e1e),getLocalDateStr(_0x4cb8d0);}function getStartOfWeek(_0x6fb94d){const _0x2f822e=a2_0x45c5bc,_0x32b071=new Date(_0x6fb94d),_0x1c4532=_0x32b071[_0x2f822e(0x1e6)](),_0x341508=_0x32b071['getDate']()-_0x1c4532+(_0x1c4532===0x0?-0x6:0x1);return _0x32b071['setDate'](_0x341508),_0x32b071[_0x2f822e(0x1fa)](0x0,0x0,0x0,0x0),_0x32b071;}function hexToRgba(_0x3b6a63,_0x57655f){const _0x15a38c=a2_0x45c5bc;if(!_0x3b6a63)return'rgba(100,100,100,0.5)';let _0xbc43d2=0x0,_0x40beac=0x0,_0xb533df=0x0;if(_0x3b6a63[_0x15a38c(0x1bc)]===0x4)_0xbc43d2='0x'+_0x3b6a63[0x1]+_0x3b6a63[0x1],_0x40beac='0x'+_0x3b6a63[0x2]+_0x3b6a63[0x2],_0xb533df='0x'+_0x3b6a63[0x3]+_0x3b6a63[0x3];else _0x3b6a63[_0x15a38c(0x1bc)]===0x7&&(_0xbc43d2='0x'+_0x3b6a63[0x1]+_0x3b6a63[0x2],_0x40beac='0x'+_0x3b6a63[0x3]+_0x3b6a63[0x4],_0xb533df='0x'+_0x3b6a63[0x5]+_0x3b6a63[0x6]);return'rgba('+ +_0xbc43d2+',\x20'+ +_0x40beac+',\x20'+ +_0xb533df+',\x20'+_0x57655f+')';}function renderTimeColumn(){const _0xdf4fd6=a2_0x45c5bc,_0x5ba882=document[_0xdf4fd6(0x245)](_0xdf4fd6(0x1d0)),_0x3c0a3b=document[_0xdf4fd6(0x245)](_0xdf4fd6(0x26f));_0x5ba882[_0xdf4fd6(0x237)]='',_0x5ba882['appendChild'](_0x3c0a3b);for(let _0x3254b4=0x0;_0x3254b4<0x18;_0x3254b4++){const _0xe3f82a=document[_0xdf4fd6(0x1d2)](_0xdf4fd6(0x1fb));_0xe3f82a['className']=_0xdf4fd6(0x1fe);if(_0x3254b4>0x0)_0xe3f82a[_0xdf4fd6(0x237)]=_0xdf4fd6(0x25d)+String(_0x3254b4)['padStart'](0x2,'0')+_0xdf4fd6(0x258);_0x5ba882['appendChild'](_0xe3f82a);}}function a2_0x456d(){const _0x57d88b=['getFullYear','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','show','inpNote','calendar','json','querySelectorAll','forEach','23:59','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','toLocaleString','rgba(255,\x20159,\x2010,\x200.3)','#050505','syncLoad','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','expand','headerMonth','push','min','actionSheetOverlay','</span>\x20/\x20','setItem','formatDate','clientY','open','touchstart','analyticsSheet','completed','10px','deleted','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','Batch\x20Sync\x20OK','inpRecurring','total','round','today','strokeDashoffset','rangeStartTime','scrollTop','start','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','then','as-button\x20danger\x20bold','toastMessage','syncBatch','</div><div\x20class=\x22ev-time\x22>','createDocumentFragment','2715048RLVdCE','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','pe-col-header','initDataUnsafe','max','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','location','client','borderColor','recurringOptionContainer','create','settings','cancel_window','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','534205YDOjCP','now','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','offClick','fetchFromServer','peGrid','setAttribute','batch_sync','49239gcaknE','getItem','actionSheet','[Notify]\x20Error:\x20Text\x20generation\x20failed','uc_settings_cancel_window','length','header-','text/plain;charset=UTF-8','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','gridColumns','saveLocally','–£–¥–∞–ª–µ–Ω–∏–µ','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','.pib-text','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Notify]\x20Client\x20SWAP\x20detected','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','inpSeriesCount','px\x20-','padStart','data','getBoundingClientRect','text','sort','scrollWidth','timeColumn','status','createElement','daysHeaderTrack','loadLocal','save_settings','numeric','Server\x20Error',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','complete','firstChild','addEventListener','toFixed','insertBefore','matrixViewport','long','value','toString','btnDelete','953718EIVECo','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDay','note','toastTitle','add','–ò–Ω—Ñ–æ','init_load','calc(','as-button\x20danger','touches','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','left','querySelector','Local\x20Load\x20Error','background','height','checked','search','patternInfoBox','(((.+)+)+)+$','setHours','div','constructor','vibrate','time-label','delete','btn-primary\x20btn-danger','v9.0-BATCH-CALENDAR','color','active','getTime','toLocaleDateString','sessionSheet','dateStr','cancel','getHours','anEnd','end','...','POST','isArray',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','#gridColumns\x20.day-column','display','</div>','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','.day-col-header','var(--acc-orange)','pattern','clientId','client-stat-card','[Notify]\x20Server\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','find','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','getText','borderLeftColor','top','log','[Sync]\x20Loading\x20','flex','day-col-header\x20','%\x20+\x202px)','settingCancelWindow','seriesId','undefined','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','dayOptionsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','btn-status-toggle','data-date','send_notification','ready','user','warn','overlay','uc_settings_v9','onClick','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','innerHTML','appendChild','[Notify]\x20Network\x20Failed','blocked-range-part\x20stripe-bg','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','send','pe-cell\x20','var(--acc-green)','block','rgba(255,\x2069,\x2058,\x200.15)','%\x20-\x204px)','.day-column','anStart','seriesCountContainer','getElementById',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','split','BackButton','Save\x20settings\x20error:','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','exceptions','doBusyHours','href','toast-notification\x20','charAt','floor','10px\x2010px\x200\x200','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','px\x200px','pe-time-label','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','.sheet','60BtxkOt',':00</span>','borderRadius','mousedown','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','uc_clients_v9','<span>','scrollLeft','asTitle','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','inpDate','error','asBtnOne','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','onclick','var(--acc-red)','target','parse','btnStatusToggle','[Notify]\x20Detected\x20Client\x20ID:','catch','series','option','getMinutes','timeLineBadge','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','Telegram','WebApp','mousemove','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','ru-RU','anCustomDates','72402nKwBbQ','settingsSheet','width','inpEnd','doDateHeader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','.day-off-overlay','rgba(48,\x20209,\x2088,\x200.15)','[Notify]\x20Attempting\x20to\x20send:','154NGWkzn',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','100%','inpClient','#fff','custom','data-day-idx','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','inpStart','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','guest','scroll','closest','toast','from','.period-switch\x20.p-btn','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','Unknown','blocked-slot\x20stripe-bg','\x20‚Äî\x20','done','rangeEndDate','<div\x20class=\x22ev-title\x22>','ranges','\x20–∏–∑\x20','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','pe-corner','day-column\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20setting\x20back\x20button:','random','remove','DOMContentLoaded','doLoadPercent','indexOf','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','classList','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','initData','single','style','toUpperCase','week',':00','\x20days','analyticsList','getMonth','offsetLeft','[Settings]\x20Cancel\x20window\x20set\x20to:','T23:59:59','<b>‚úÖ\x20','router.html','keys','512576GzyxVh','cancelled','dayOptionsTitle','–£—Å–ø–µ—à–Ω–æ','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','valid','de-item','map','update','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','statLoadCard','[API\x20','clientWidth','8438067oaOojQ','btnDayToggle','globalTimeLine','getDate','slice','range-item','warning','.event-card','mergeServerData','T00:00:00','backgroundPosition','setDate','off','[Notify]\x20Error:\x20sessionData\x20is\x20null','sid','\x20-\x20','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','planned','doEventsList','className','Critical\x20TMA\x20Error:','name','setBackgroundColor','Error\x20setting\x20color:','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','includes','none','\x20status-completed','anPercent','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','var(--acc-current)','textContent','uc_sessions_v9','[Series]\x20Skipped\x20','rgba(255,255,255,0.05)','clients','patternEditor','<div\x20class=\x22dch-day\x22>','day-off-overlay\x20stripe-bg','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','splice','colIndex','localeCompare','startsWith','getAttribute','rangeEndTime','entries','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','stopPropagation','</div><div\x20class=\x22dch-num\x22>','rgba(255,\x2069,\x2058,\x200.3)'];a2_0x456d=function(){return _0x57d88b;};return a2_0x456d();}function renderDayRange(_0x476886,_0x449d8b){const _0x40b0d8=a2_0x45c5bc,_0x206438=document[_0x40b0d8(0x245)](_0x40b0d8(0x1d3)),_0x3ffc29=document[_0x40b0d8(0x245)](_0x40b0d8(0x1c0)),_0x28164e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f6605=new Date();_0x2f6605[_0x40b0d8(0x1fa)](0x0,0x0,0x0,0x0);const _0x42d16c=getLocalDateStr(new Date());for(let _0x40434c=_0x476886;_0x40434c<=_0x449d8b;_0x40434c++){const _0x3f9680=new Date(_0x2f6605);_0x3f9680[_0x40b0d8(0x2cf)](_0x3f9680[_0x40b0d8(0x2c7)]()+_0x40434c);const _0x4a11cf=getLocalDateStr(_0x3f9680);let _0x53b012=_0x3f9680['getDay']()-0x1;if(_0x53b012===-0x1)_0x53b012=0x6;const _0x213bf9=_0x4a11cf===_0x42d16c,_0x9bf282=document[_0x40b0d8(0x1d2)](_0x40b0d8(0x1fb));_0x9bf282[_0x40b0d8(0x2d7)]='day-col-header\x20'+(_0x213bf9?_0x40b0d8(0x195):''),_0x9bf282['id']=_0x40b0d8(0x1bd)+_0x4a11cf,_0x9bf282[_0x40b0d8(0x1b5)]('data-date',_0x4a11cf),_0x9bf282[_0x40b0d8(0x237)]=_0x40b0d8(0x163)+_0x28164e[_0x53b012]+_0x40b0d8(0x170)+_0x3f9680[_0x40b0d8(0x2c7)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4a11cf+_0x40b0d8(0x1f0),_0x9bf282[_0x40b0d8(0x265)]=()=>openDayOptions(_0x4a11cf,_0x28164e[_0x53b012]+'\x20'+_0x3f9680[_0x40b0d8(0x2c7)]()),_0x206438[_0x40b0d8(0x238)](_0x9bf282);const _0x49da5a=document[_0x40b0d8(0x1d2)]('div');_0x49da5a['className']=_0x40b0d8(0x29d)+(_0x213bf9?_0x40b0d8(0x195):''),_0x49da5a[_0x40b0d8(0x1b5)](_0x40b0d8(0x22e),_0x4a11cf),_0x49da5a[_0x40b0d8(0x1b5)](_0x40b0d8(0x287),_0x53b012),renderEventsForColumn(_0x49da5a,_0x4a11cf,_0x53b012),attachLongPressHandler(_0x49da5a,_0x3f9680),_0x3ffc29['appendChild'](_0x49da5a),updateDayStats(_0x4a11cf);}}function reRenderBlocks(){const _0xfc5bde=a2_0x45c5bc;document[_0xfc5bde(0x178)](_0xfc5bde(0x210))[_0xfc5bde(0x179)](_0x1d11b6=>{const _0x312413=_0xfc5bde;_0x1d11b6[_0x312413(0x178)](_0x312413(0x21d))[_0x312413(0x179)](_0xc57924=>_0xc57924[_0x312413(0x2a1)]());const _0x7a1fbf=_0x1d11b6[_0x312413(0x16a)](_0x312413(0x22e)),_0x291da4=parseInt(_0x1d11b6['getAttribute'](_0x312413(0x287))),_0x43ce53=Math[_0x312413(0x194)](_0x1d11b6[_0x312413(0x2b1)]);(availabilityPattern[_0x291da4]||[])[_0x312413(0x179)](_0x1e8979=>{const _0x392e17=_0x312413,_0x10ee64=document[_0x392e17(0x1d2)]('div');_0x10ee64[_0x392e17(0x2d7)]=_0x392e17(0x294);const _0x3b2e33=_0x1e8979*GRID_H;_0x10ee64[_0x392e17(0x2aa)][_0x392e17(0x220)]=_0x3b2e33+'px',_0x10ee64['style'][_0x392e17(0x2ce)]='-'+_0x43ce53+_0x392e17(0x1c9)+_0x3b2e33+'px',_0x1d11b6[_0x392e17(0x238)](_0x10ee64);});if(specialRanges&&specialRanges['length']>0x0){const _0x3bbdc0=new Date(_0x7a1fbf+_0x312413(0x2cd))[_0x312413(0x204)](),_0x2f5e79=new Date(_0x7a1fbf+_0x312413(0x2b3))[_0x312413(0x204)]();specialRanges[_0x312413(0x179)](_0x3629bf=>{const _0x117717=_0x312413,_0x28de25=new Date(_0x3629bf['start'])[_0x117717(0x204)](),_0x5abe0e=new Date(_0x3629bf[_0x117717(0x20b)])[_0x117717(0x204)](),_0x37dec5=Math['max'](_0x3bbdc0,_0x28de25),_0x1b323e=Math['min'](_0x2f5e79,_0x5abe0e);if(_0x37dec5<_0x1b323e){if(_0x37dec5<=_0x3bbdc0&&_0x1b323e>=_0x2f5e79-0xea60){if(!_0x1d11b6[_0x117717(0x1f2)]('.day-off-overlay')){const _0x4ac331=document['createElement'](_0x117717(0x1fb));_0x4ac331[_0x117717(0x2d7)]=_0x117717(0x164),_0x4ac331[_0x117717(0x2aa)][_0x117717(0x2ce)]='-'+_0x43ce53+_0x117717(0x253),_0x1d11b6['appendChild'](_0x4ac331);}}else{const _0x2c4a13=(_0x37dec5-_0x3bbdc0)/0x36ee80*GRID_H,_0x1c714b=(_0x1b323e-_0x37dec5)/0x36ee80*GRID_H,_0x8e61a=document['createElement'](_0x117717(0x1fb));_0x8e61a[_0x117717(0x2d7)]=_0x117717(0x23a),_0x8e61a[_0x117717(0x2aa)][_0x117717(0x220)]=_0x2c4a13+'px',_0x8e61a[_0x117717(0x2aa)][_0x117717(0x1f5)]=_0x1c714b+'px',_0x8e61a[_0x117717(0x2aa)]['backgroundPosition']='-'+_0x43ce53+'px\x20-'+_0x2c4a13+'px',_0x1d11b6[_0x117717(0x238)](_0x8e61a);}}});}if(dateExceptions[_0x7a1fbf]===_0x312413(0x2d0)){if(!_0x1d11b6[_0x312413(0x1f2)](_0x312413(0x27e))){const _0x124487=document['createElement'](_0x312413(0x1fb));_0x124487[_0x312413(0x2d7)]='day-off-overlay\x20stripe-bg',_0x124487[_0x312413(0x2aa)][_0x312413(0x2ce)]='-'+_0x43ce53+'px\x200px',_0x1d11b6[_0x312413(0x238)](_0x124487);}}renderEventsForColumn(_0x1d11b6,_0x7a1fbf,_0x291da4),updateDayStats(_0x7a1fbf);});}function updateAllDayStats(){const _0x25cd90=a2_0x45c5bc;document[_0x25cd90(0x178)](_0x25cd90(0x214))['forEach'](_0x2ac362=>{const _0x201db9=_0x25cd90;updateDayStats(_0x2ac362[_0x201db9(0x16a)](_0x201db9(0x22e)));});}function updateDayStats(_0x56f89d){const _0x259e68=a2_0x45c5bc,_0x54aae2=document[_0x259e68(0x245)]('stat-'+_0x56f89d);if(!_0x54aae2)return;const _0x2668a4=new Date(_0x56f89d);let _0x35b497=_0x2668a4[_0x259e68(0x1e6)]()-0x1;if(_0x35b497===-0x1)_0x35b497=0x6;if(dateExceptions[_0x56f89d]==='off'){_0x54aae2[_0x259e68(0x2aa)][_0x259e68(0x211)]=_0x259e68(0x2de);return;}const _0x16c5f3=availabilityPattern[_0x35b497]||[],_0x2c30c6=0x18-_0x16c5f3[_0x259e68(0x1bc)],_0x442639=_0x2c30c6*0x3c,_0x39aefc=sessions[_0x259e68(0x21b)](_0x1c5c45=>_0x1c5c45[_0x259e68(0x207)]===_0x56f89d&&_0x1c5c45[_0x259e68(0x1d1)]!==_0x259e68(0x2b8));if(_0x39aefc[_0x259e68(0x1bc)]===0x0){_0x54aae2[_0x259e68(0x2aa)][_0x259e68(0x211)]=_0x259e68(0x2de);return;}let _0x30362c=_0x39aefc[_0x259e68(0x2be)](_0x1e11c4=>{const _0x2c685e=_0x259e68,[_0x525d0,_0x2b1285]=_0x1e11c4['start'][_0x2c685e(0x247)](':')[_0x2c685e(0x2be)](Number),[_0x1378b9,_0x1928e5]=_0x1e11c4[_0x2c685e(0x20b)][_0x2c685e(0x247)](':')[_0x2c685e(0x2be)](Number);return[_0x525d0*0x3c+_0x2b1285,_0x1378b9*0x3c+_0x1928e5];});_0x30362c[_0x259e68(0x1ce)]((_0x7a0697,_0x5a2d6e)=>_0x7a0697[0x0]-_0x5a2d6e[0x0]);let _0x5123ab=[];if(_0x30362c[_0x259e68(0x1bc)]>0x0){let _0x457f91=_0x30362c[0x0];for(let _0x290d53=0x1;_0x290d53<_0x30362c[_0x259e68(0x1bc)];_0x290d53++){_0x30362c[_0x290d53][0x0]<_0x457f91[0x1]?_0x457f91[0x1]=Math[_0x259e68(0x1a5)](_0x457f91[0x1],_0x30362c[_0x290d53][0x1]):(_0x5123ab[_0x259e68(0x183)](_0x457f91),_0x457f91=_0x30362c[_0x290d53]);}_0x5123ab[_0x259e68(0x183)](_0x457f91);}let _0x1bf827=0x0;_0x5123ab[_0x259e68(0x179)](_0x45b0fa=>_0x1bf827+=_0x45b0fa[0x1]-_0x45b0fa[0x0]),_0x54aae2['style']['display']=_0x259e68(0x223);const _0x18170d=_0x54aae2['querySelector']('.dch-stats-fill');if(_0x442639===0x0){_0x18170d[_0x259e68(0x2aa)][_0x259e68(0x27a)]=_0x259e68(0x283),_0x18170d[_0x259e68(0x2aa)][_0x259e68(0x1f4)]='var(--acc-red)';return;}const _0x520440=_0x1bf827/_0x442639*0x64;console[_0x259e68(0x221)]('['+_0x56f89d+_0x259e68(0x1d8)+_0x2c30c6+_0x259e68(0x1c5)+_0x1bf827+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x520440[_0x259e68(0x1dc)](0x1)+'%'),_0x520440>0x64?(_0x18170d[_0x259e68(0x2aa)][_0x259e68(0x27a)]=_0x259e68(0x283),_0x18170d[_0x259e68(0x2aa)]['background']=_0x259e68(0x266)):(_0x18170d[_0x259e68(0x2aa)]['width']=_0x520440+'%',_0x18170d[_0x259e68(0x2aa)]['background']=_0x259e68(0x2e2));}function renderEventsForColumn(_0x3eb4a7,_0x51d66c,_0x1f366d){const _0x8806fd=a2_0x45c5bc,_0x40e4af=sessions[_0x8806fd(0x21b)](_0x1a30c2=>_0x1a30c2[_0x8806fd(0x207)]===_0x51d66c),_0x197919=_0x40e4af[_0x8806fd(0x2be)](_0x341818=>{const _0x70d100=_0x8806fd,[_0x3b12f6,_0x1e7dcd]=_0x341818['start']['split'](':')[_0x70d100(0x2be)](Number),[_0xe2dcd6,_0x59a606]=_0x341818[_0x70d100(0x20b)][_0x70d100(0x247)](':')[_0x70d100(0x2be)](Number);return{'data':_0x341818,'start':_0x3b12f6*0x3c+_0x1e7dcd,'end':_0xe2dcd6*0x3c+_0x59a606,'colIndex':0x0};});_0x197919[_0x8806fd(0x1ce)]((_0x2d878e,_0x465c5b)=>{const _0x397b76=_0x8806fd;if(_0x2d878e['start']!==_0x465c5b[_0x397b76(0x199)])return _0x2d878e[_0x397b76(0x199)]-_0x465c5b['start'];return _0x465c5b['end']-_0x465c5b[_0x397b76(0x199)]-(_0x2d878e['end']-_0x2d878e[_0x397b76(0x199)]);});const _0x3a4557=[];_0x197919[_0x8806fd(0x179)](_0x190d61=>{const _0x32b409=_0x8806fd;let _0x225a0a=![];for(let _0x300d98=0x0;_0x300d98<_0x3a4557[_0x32b409(0x1bc)];_0x300d98++){const _0x4927fa=_0x3a4557[_0x300d98],_0x7ee153=_0x4927fa[_0x4927fa[_0x32b409(0x1bc)]-0x1];if(_0x190d61[_0x32b409(0x199)]>=_0x7ee153[_0x32b409(0x20b)]){_0x4927fa[_0x32b409(0x183)](_0x190d61),_0x190d61[_0x32b409(0x167)]=_0x300d98,_0x225a0a=!![];break;}}!_0x225a0a&&(_0x3a4557[_0x32b409(0x183)]([_0x190d61]),_0x190d61['colIndex']=_0x3a4557[_0x32b409(0x1bc)]-0x1);}),_0x197919['forEach'](_0x5405e5=>{const _0x751c16=_0x8806fd;let _0x5a44dc=0x0;_0x197919[_0x751c16(0x179)](_0x2f18bc=>{const _0x131aae=_0x751c16;if(Math['max'](_0x5405e5[_0x131aae(0x199)],_0x2f18bc['start'])<Math['min'](_0x5405e5['end'],_0x2f18bc[_0x131aae(0x20b)])){if(_0x2f18bc[_0x131aae(0x167)]>_0x5a44dc)_0x5a44dc=_0x2f18bc[_0x131aae(0x167)];}});const _0x52f78b=_0x5a44dc+0x1,_0x1fc716=0x64/_0x52f78b,_0x40ff8c=_0x5405e5[_0x751c16(0x167)]*_0x1fc716,_0x1dd54f=createEventEl(_0x5405e5['data']);_0x1dd54f[_0x751c16(0x2aa)][_0x751c16(0x27a)]=_0x751c16(0x1ec)+_0x1fc716+_0x751c16(0x241),_0x1dd54f['style'][_0x751c16(0x1f1)]=_0x751c16(0x1ec)+_0x40ff8c+_0x751c16(0x225),_0x1dd54f[_0x751c16(0x2aa)]['zIndex']=0xa+_0x5405e5[_0x751c16(0x167)],_0x1fc716<0x55&&_0x1dd54f['classList'][_0x751c16(0x1e9)]('mini'),_0x3eb4a7[_0x751c16(0x238)](_0x1dd54f);});}function createEventEl(_0x3a4e88){const _0x1d109d=a2_0x45c5bc,[_0x4aa63c,_0x2dd1ee]=_0x3a4e88[_0x1d109d(0x199)][_0x1d109d(0x247)](':')[_0x1d109d(0x2be)](Number),[_0x4be736,_0x5bba1d]=_0x3a4e88[_0x1d109d(0x20b)]['split'](':')['map'](Number),_0x3c96da=(_0x4aa63c*0x3c+_0x2dd1ee)/0x3c*GRID_H,_0x5d3f27=(_0x4be736*0x3c+_0x5bba1d-(_0x4aa63c*0x3c+_0x2dd1ee))/0x3c*GRID_H,_0x3e3ec8=document[_0x1d109d(0x1d2)](_0x1d109d(0x1fb)),_0x24d3a3=_0x3a4e88['status']==='completed'?_0x1d109d(0x2df):'';_0x3e3ec8[_0x1d109d(0x2d7)]='event-card'+_0x24d3a3,_0x3e3ec8[_0x1d109d(0x2aa)]['top']=_0x3c96da+'px',_0x3e3ec8['style'][_0x1d109d(0x1f5)]=Math[_0x1d109d(0x1a5)](_0x5d3f27,0x14)+'px';const _0x110c74=clients[_0x1d109d(0x21c)](_0x4f48ce=>_0x3a4e88[_0x1d109d(0x217)]&&String(_0x4f48ce['id'])===String(_0x3a4e88[_0x1d109d(0x217)])||_0x4f48ce[_0x1d109d(0x2d9)]===_0x3a4e88[_0x1d109d(0x1a8)]),_0x33af25=_0x110c74?_0x110c74[_0x1d109d(0x202)]:'#0a84ff';_0x3e3ec8[_0x1d109d(0x2aa)][_0x1d109d(0x21f)]=_0x33af25,_0x3e3ec8[_0x1d109d(0x2aa)]['backgroundColor']=hexToRgba(_0x33af25,0.85);let _0x422bae=_0x1d109d(0x298)+_0x3a4e88[_0x1d109d(0x1a8)]+_0x1d109d(0x19f)+_0x3a4e88[_0x1d109d(0x199)]+_0x1d109d(0x2d3)+_0x3a4e88[_0x1d109d(0x20b)]+_0x1d109d(0x212);return _0x3a4e88[_0x1d109d(0x227)]&&(_0x422bae+=_0x1d109d(0x16e)),_0x3a4e88[_0x1d109d(0x1d1)]==='completed'&&(_0x422bae+=_0x1d109d(0x1a2)),_0x3e3ec8[_0x1d109d(0x237)]=_0x422bae,_0x3e3ec8[_0x1d109d(0x265)]=_0x478aef=>{const _0x437038=_0x1d109d;_0x478aef[_0x437038(0x16f)](),openEdit(_0x3a4e88);},_0x3e3ec8;}function attachLongPressHandler(_0x19ff0f,_0x1b4946){const _0x3b0fb8=a2_0x45c5bc;let _0xad2e70=0x0,_0x53b181=null;const _0x47632f=_0x2a3dc5=>{const _0x88afd7=a2_0x33aa;if(_0x2a3dc5[_0x88afd7(0x267)][_0x88afd7(0x28e)](_0x88afd7(0x2cb)))return;isScrolling=![],_0xad2e70=_0x2a3dc5[_0x88afd7(0x1ee)]?_0x2a3dc5['touches'][0x0]['clientY']:_0x2a3dc5[_0x88afd7(0x189)],_0x53b181=setTimeout(()=>{const _0x22bf66=_0x88afd7;if(!isScrolling){navigator[_0x22bf66(0x1fd)]?.(0x32);const _0x2b0ee2=_0x19ff0f[_0x22bf66(0x1cc)](),_0x443e4e=Math[_0x22bf66(0x250)]((_0xad2e70-_0x2b0ee2['top'])/GRID_H);_0x1b4946[_0x22bf66(0x1fa)](_0x443e4e,0x0),openAddSession(_0x1b4946);}},0x1f4);},_0x1a9292=()=>{isScrolling=!![],clearTimeout(_0x53b181);},_0x2baa61=()=>{clearTimeout(_0x53b181);};_0x19ff0f[_0x3b0fb8(0x1db)](_0x3b0fb8(0x18b),_0x47632f,{'passive':!![]}),_0x19ff0f[_0x3b0fb8(0x1db)]('touchmove',_0x1a9292,{'passive':!![]}),_0x19ff0f[_0x3b0fb8(0x1db)]('touchend',_0x2baa61),_0x19ff0f[_0x3b0fb8(0x1db)](_0x3b0fb8(0x25a),_0x47632f),_0x19ff0f[_0x3b0fb8(0x1db)](_0x3b0fb8(0x273),_0x1a9292),_0x19ff0f['addEventListener']('mouseup',_0x2baa61);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3499f1=a2_0x45c5bc,_0x220484=document[_0x3499f1(0x245)](_0x3499f1(0x1de)),_0x4268de=_0x220484[_0x3499f1(0x25e)],_0x513da3=_0x220484[_0x3499f1(0x1cf)],_0x2e41b5=_0x220484['clientWidth'];if(_0x513da3-(_0x4268de+_0x2e41b5)<0x12c){const _0x33ea8f=endOffset;endOffset+=0xe,renderDayRange(_0x33ea8f+0x1,endOffset),reRenderBlocks();}if(_0x4268de<0x12c){const _0x1a7829=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1a7829-0x1),_0x220484[_0x3499f1(0x25e)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x18300e,_0x24df29){const _0x9c5188=a2_0x45c5bc,_0x22546c=document[_0x9c5188(0x245)](_0x9c5188(0x1d3)),_0x1dae0f=document[_0x9c5188(0x245)](_0x9c5188(0x1c0)),_0x12021b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x27ad3b=new Date();_0x27ad3b[_0x9c5188(0x1fa)](0x0,0x0,0x0,0x0);const _0x57b4e1=getLocalDateStr(new Date()),_0x10b242=document[_0x9c5188(0x1a0)](),_0x211c43=document[_0x9c5188(0x1a0)]();for(let _0x4b70c3=_0x18300e;_0x4b70c3<=_0x24df29;_0x4b70c3++){const _0x1ef607=new Date(_0x27ad3b);_0x1ef607[_0x9c5188(0x2cf)](_0x1ef607[_0x9c5188(0x2c7)]()+_0x4b70c3);const _0x166972=getLocalDateStr(_0x1ef607);let _0x2bb1e5=_0x1ef607[_0x9c5188(0x1e6)]()-0x1;if(_0x2bb1e5===-0x1)_0x2bb1e5=0x6;const _0x3dbf25=_0x166972===_0x57b4e1,_0x32b210=document[_0x9c5188(0x1d2)](_0x9c5188(0x1fb));_0x32b210[_0x9c5188(0x2d7)]=_0x9c5188(0x224)+(_0x3dbf25?_0x9c5188(0x195):''),_0x32b210['id']=_0x9c5188(0x1bd)+_0x166972,_0x32b210[_0x9c5188(0x1b5)](_0x9c5188(0x22e),_0x166972),_0x32b210['innerHTML']=_0x9c5188(0x163)+_0x12021b[_0x2bb1e5]+_0x9c5188(0x170)+_0x1ef607[_0x9c5188(0x2c7)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x166972+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x32b210[_0x9c5188(0x265)]=()=>openDayOptions(_0x166972,_0x12021b[_0x2bb1e5]+'\x20'+_0x1ef607[_0x9c5188(0x2c7)]()),_0x10b242[_0x9c5188(0x238)](_0x32b210);const _0x2ca920=document[_0x9c5188(0x1d2)](_0x9c5188(0x1fb));_0x2ca920[_0x9c5188(0x2d7)]=_0x9c5188(0x29d)+(_0x3dbf25?_0x9c5188(0x195):''),_0x2ca920[_0x9c5188(0x1b5)]('data-date',_0x166972),_0x2ca920[_0x9c5188(0x1b5)](_0x9c5188(0x287),_0x2bb1e5),renderEventsForColumn(_0x2ca920,_0x166972,_0x2bb1e5),attachLongPressHandler(_0x2ca920,_0x1ef607),_0x211c43[_0x9c5188(0x238)](_0x2ca920),updateDayStats(_0x166972);}_0x22546c[_0x9c5188(0x1dd)](_0x10b242,_0x22546c[_0x9c5188(0x1da)]),_0x1dae0f[_0x9c5188(0x1dd)](_0x211c43,_0x1dae0f[_0x9c5188(0x1f2)](_0x9c5188(0x242)));}function validateAppointment(_0x8e78fd,_0x426e3,_0x3ad0b4,_0x522f60,_0x20fbe8){const _0x33b3c8=a2_0x45c5bc,[_0x2ed543,_0xf7f52c]=_0x426e3[_0x33b3c8(0x247)](':')[_0x33b3c8(0x2be)](Number),[_0x1df545,_0x3c1678]=_0x3ad0b4[_0x33b3c8(0x247)](':')[_0x33b3c8(0x2be)](Number),_0x3f42e7=_0x2ed543*0x3c+_0xf7f52c,_0x2535d4=_0x1df545*0x3c+_0x3c1678,_0x2442ad=String(_0x20fbe8);let _0x2b3788=![],_0x527252='';for(let _0x5d1a53 of sessions){if(_0x5d1a53[_0x33b3c8(0x207)]!==_0x8e78fd)continue;if(_0x5d1a53[_0x33b3c8(0x1d1)]===_0x33b3c8(0x2b8))continue;if(_0x522f60&&String(_0x5d1a53['id'])===String(_0x522f60))continue;const [_0x3acbbe,_0x37cd63]=_0x5d1a53[_0x33b3c8(0x199)][_0x33b3c8(0x247)](':')[_0x33b3c8(0x2be)](Number),[_0xb0b66c,_0x57cdd9]=_0x5d1a53[_0x33b3c8(0x20b)]['split'](':')[_0x33b3c8(0x2be)](Number),_0xc1f48c=_0x3acbbe*0x3c+_0x37cd63,_0x17a956=_0xb0b66c*0x3c+_0x57cdd9;if(Math['max'](_0x3f42e7,_0xc1f48c)<Math['min'](_0x2535d4,_0x17a956)){if(_0x5d1a53[_0x33b3c8(0x217)]&&String(_0x5d1a53['clientId'])===_0x2442ad)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5d1a53[_0x33b3c8(0x1a8)]+_0x33b3c8(0x282)};_0x2b3788=!![],_0x527252=_0x5d1a53[_0x33b3c8(0x1a8)];}}if(_0x2b3788)return{'valid':!![],'warning':_0x33b3c8(0x260)+_0x527252};return{'valid':!![]};}function updateDateDisplay(){const _0x405e39=a2_0x45c5bc,_0x4ae24f=document[_0x405e39(0x245)](_0x405e39(0x261))[_0x405e39(0x1e0)],_0x220cb8=document[_0x405e39(0x245)]('sheetDateSubtitle');if(!_0x4ae24f){_0x220cb8['textContent']='';return;}const [_0x288cf9,_0x52e3b5,_0x479dfc]=_0x4ae24f[_0x405e39(0x247)]('-')['map'](Number),_0x60be3f=new Date(_0x288cf9,_0x52e3b5-0x1,_0x479dfc),_0x1477a1={'weekday':_0x405e39(0x1df),'day':_0x405e39(0x1d6),'month':_0x405e39(0x1df),'year':_0x405e39(0x1d6)};let _0x361639=_0x60be3f[_0x405e39(0x205)](_0x405e39(0x276),_0x1477a1);_0x361639=_0x361639[_0x405e39(0x24f)](0x0)[_0x405e39(0x2ab)]()+_0x361639['slice'](0x1),_0x220cb8['textContent']=_0x361639;}function autoSetEndTime(){const _0x54ae9d=a2_0x45c5bc,_0x1f5e5e=document[_0x54ae9d(0x245)](_0x54ae9d(0x28a))[_0x54ae9d(0x1e0)];if(!_0x1f5e5e)return;const [_0x528b78,_0x438637]=_0x1f5e5e['split'](':')[_0x54ae9d(0x2be)](Number);let _0x4d0ba6=_0x528b78+0x1;if(_0x4d0ba6>0x17)_0x4d0ba6=0x0;const _0x437cd0=String(_0x4d0ba6)[_0x54ae9d(0x1ca)](0x2,'0')+':'+String(_0x438637)[_0x54ae9d(0x1ca)](0x2,'0');document[_0x54ae9d(0x245)](_0x54ae9d(0x27b))[_0x54ae9d(0x1e0)]=_0x437cd0;}function populateClientSelect(){const _0x50fefb=a2_0x45c5bc,_0x428dcf=document['getElementById'](_0x50fefb(0x284));_0x428dcf['innerHTML']='';if(clients[_0x50fefb(0x1bc)]===0x0){const _0x258db4=document[_0x50fefb(0x1d2)]('option');_0x258db4[_0x50fefb(0x1cd)]=_0x50fefb(0x236),_0x428dcf['appendChild'](_0x258db4);return;}clients[_0x50fefb(0x179)](_0x77681b=>{const _0x33a515=_0x50fefb,_0x321bfb=document['createElement'](_0x33a515(0x26d));_0x321bfb[_0x33a515(0x1e0)]=_0x77681b[_0x33a515(0x2d9)],_0x321bfb[_0x33a515(0x15d)]=_0x77681b[_0x33a515(0x2d9)],_0x428dcf[_0x33a515(0x238)](_0x321bfb);});}function openActionSheet(_0x34fac0){const _0x5df169=a2_0x45c5bc,_0x32fccf=document[_0x5df169(0x245)](_0x5df169(0x1b9)),_0xb4c9d5=document[_0x5df169(0x245)](_0x5df169(0x185)),_0xd5cd2d=document[_0x5df169(0x245)](_0x5df169(0x25f)),_0x297f53=document['getElementById'](_0x5df169(0x263)),_0x4ae58f=document[_0x5df169(0x245)]('asBtnSeries');_0xb4c9d5['classList'][_0x5df169(0x1e9)](_0x5df169(0x203)),_0x32fccf['classList']['add'](_0x5df169(0x18a));if(_0x34fac0==='save')_0xd5cd2d[_0x5df169(0x15d)]=_0x5df169(0x288),_0x297f53[_0x5df169(0x15d)]=_0x5df169(0x22c),_0x297f53[_0x5df169(0x265)]=()=>{const _0x43a0e9=_0x5df169;closeActionSheet(),updateSeriesBatch(_0x43a0e9(0x2a9),tempSessionData);},_0x4ae58f['textContent']=_0x5df169(0x180),_0x4ae58f['onclick']=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x34fac0==='delete'&&(_0xd5cd2d[_0x5df169(0x15d)]=_0x5df169(0x1c2),_0x297f53[_0x5df169(0x15d)]=_0x5df169(0x22c),_0x297f53[_0x5df169(0x2d7)]=_0x5df169(0x1ed),_0x297f53['onclick']=()=>{const _0x39f83b=_0x5df169;closeActionSheet(),commitDelete(_0x39f83b(0x2a9),sessions[_0x39f83b(0x21c)](_0x4bc850=>_0x4bc850['id']===editingId));},_0x4ae58f[_0x5df169(0x15d)]=_0x5df169(0x180),_0x4ae58f[_0x5df169(0x2d7)]=_0x5df169(0x19c),_0x4ae58f[_0x5df169(0x265)]=()=>{const _0x4f51f0=_0x5df169;closeActionSheet(),commitDelete(_0x4f51f0(0x26c),sessions['find'](_0x223b5e=>_0x223b5e['id']===editingId));});}function closeActionSheet(){const _0x29aa4d=a2_0x45c5bc;document['getElementById'](_0x29aa4d(0x1b9))[_0x29aa4d(0x2a6)][_0x29aa4d(0x2a1)](_0x29aa4d(0x18a)),document[_0x29aa4d(0x245)](_0x29aa4d(0x185))[_0x29aa4d(0x2a6)][_0x29aa4d(0x2a1)](_0x29aa4d(0x203));}function openSettings(){const _0x183992=a2_0x45c5bc;openSheet(_0x183992(0x279));}function saveCoachSettings(){const _0x4e13df=a2_0x45c5bc,_0x56405c=document[_0x4e13df(0x245)]('settingCancelWindow')['value'];localStorage[_0x4e13df(0x187)](_0x4e13df(0x1bb),_0x56405c),console[_0x4e13df(0x221)](_0x4e13df(0x2b2),_0x56405c),DataManager[_0x4e13df(0x1b3)](_0x4e13df(0x1d5),{'settings':{'cancel_window':_0x56405c}})[_0x4e13df(0x26b)](_0x33ce60=>{const _0x1a958a=_0x4e13df;console['error'](_0x1a958a(0x249),_0x33ce60),showToast(_0x1a958a(0x165),![]);});}function loadCoachSettings(){const _0x43e08c=a2_0x45c5bc,_0x1ef83e=localStorage[_0x43e08c(0x1b8)](_0x43e08c(0x1bb));_0x1ef83e&&(document[_0x43e08c(0x245)](_0x43e08c(0x226))[_0x43e08c(0x1e0)]=_0x1ef83e);}function a2_0x33aa(_0x51fb4d,_0x3e33ca){_0x51fb4d=_0x51fb4d-0x15d;const _0xe8a225=a2_0x456d();let _0x55b4c1=_0xe8a225[_0x51fb4d];return _0x55b4c1;}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x3df38b=a2_0x45c5bc,_0x234a85=document[_0x3df38b(0x245)]('rangeStartDate')['value'],_0x12a8f9=document[_0x3df38b(0x245)](_0x3df38b(0x197))['value'],_0x41ff03=document[_0x3df38b(0x245)](_0x3df38b(0x297))[_0x3df38b(0x1e0)],_0x502324=document[_0x3df38b(0x245)](_0x3df38b(0x16b))[_0x3df38b(0x1e0)];if(!_0x234a85||!_0x12a8f9||!_0x41ff03||!_0x502324)return alert(_0x3df38b(0x2d4));const _0x404a80=_0x234a85+'T'+_0x12a8f9,_0x3c2064=_0x41ff03+'T'+_0x502324;if(_0x404a80>=_0x3c2064)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x404a80,'end':_0x3c2064}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3df38b(0x1c1)](),DataManager['fetchFromServer'](_0x3df38b(0x1d5),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x1a7713){const _0xc1e8fd=a2_0x45c5bc;specialRanges['splice'](_0x1a7713,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xc1e8fd(0x1c1)](),DataManager['fetchFromServer'](_0xc1e8fd(0x1d5),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1ea53f=a2_0x45c5bc;document[_0x1ea53f(0x245)]('rangeStartDate')[_0x1ea53f(0x1e0)]='',document['getElementById'](_0x1ea53f(0x197))[_0x1ea53f(0x1e0)]='00:00',document[_0x1ea53f(0x245)](_0x1ea53f(0x297))['value']='',document[_0x1ea53f(0x245)](_0x1ea53f(0x16b))[_0x1ea53f(0x1e0)]=_0x1ea53f(0x17a);}function renderRangesList(){const _0x532a2f=a2_0x45c5bc,_0x343e7e=document[_0x532a2f(0x245)]('rangesList');_0x343e7e[_0x532a2f(0x237)]='';if(!specialRanges[_0x532a2f(0x1bc)]){_0x343e7e[_0x532a2f(0x237)]=_0x532a2f(0x275);return;}specialRanges[_0x532a2f(0x179)]((_0x7f4639,_0x543a8b)=>{const _0x152a29=_0x532a2f,_0x5d8bdb=document[_0x152a29(0x1d2)](_0x152a29(0x1fb));_0x5d8bdb[_0x152a29(0x2d7)]=_0x152a29(0x2c9);const _0x496c35=_0x5da018=>{const _0x517f12=_0x152a29,_0x36f756=new Date(_0x5da018);return _0x36f756[_0x517f12(0x2c7)]()+'.'+String(_0x36f756[_0x517f12(0x2b0)]()+0x1)[_0x517f12(0x1ca)](0x2,'0')+'\x20'+String(_0x36f756[_0x517f12(0x209)]())[_0x517f12(0x1ca)](0x2,'0')+':'+String(_0x36f756['getMinutes']())[_0x517f12(0x1ca)](0x2,'0');};_0x5d8bdb[_0x152a29(0x237)]=_0x152a29(0x22b)+_0x496c35(_0x7f4639[_0x152a29(0x199)])+'\x20‚Äî\x20'+_0x496c35(_0x7f4639['end'])+_0x152a29(0x274)+_0x543a8b+_0x152a29(0x20f),_0x343e7e[_0x152a29(0x238)](_0x5d8bdb);});}function scrollToToday(){const _0x131ace=a2_0x45c5bc,_0x4c47db=getLocalDateStr(new Date()),_0xedbac2=document[_0x131ace(0x245)](_0x131ace(0x1bd)+_0x4c47db),_0x4fc71f=document[_0x131ace(0x245)](_0x131ace(0x1de));if(_0xedbac2&&_0x4fc71f){const _0x3e1005=_0x4fc71f[_0x131ace(0x2c3)],_0x2db7e0=_0xedbac2[_0x131ace(0x2b1)],_0x12c42a=_0xedbac2['offsetWidth'];_0x4fc71f[_0x131ace(0x25e)]=_0x2db7e0-_0x3e1005/0x2+_0x12c42a/0x2,_0x4fc71f[_0x131ace(0x198)]=0x9*GRID_H;}}function onScroll(){const _0x2977cd=a2_0x45c5bc,_0x187a07=document['getElementById'](_0x2977cd(0x1de)),_0x337dee=document[_0x2977cd(0x178)]('.day-col-header');for(let _0x349d15 of _0x337dee)if(_0x349d15['offsetLeft']>=_0x187a07[_0x2977cd(0x25e)]){const _0x3440fe=new Date(_0x349d15['getAttribute'](_0x2977cd(0x22e)));document[_0x2977cd(0x245)](_0x2977cd(0x182))['textContent']=_0x3440fe[_0x2977cd(0x17c)]('ru',{'month':_0x2977cd(0x1df)})[_0x2977cd(0x2ab)]()+'\x20'+_0x3440fe[_0x2977cd(0x172)]();break;}}function showToast(_0x21ffe5,_0x400400=![]){const _0x521d71=a2_0x45c5bc,_0x4ebbc7=document[_0x521d71(0x245)](_0x521d71(0x28f));_0x4ebbc7[_0x521d71(0x2d7)]=_0x521d71(0x24e)+(_0x400400?'success':''),document[_0x521d71(0x245)](_0x521d71(0x1e8))['textContent']=_0x400400?_0x521d71(0x2ba):_0x521d71(0x1ea),document[_0x521d71(0x245)](_0x521d71(0x19d))['textContent']=_0x21ffe5,_0x4ebbc7['classList']['add'](_0x521d71(0x174)),setTimeout(()=>{const _0x4c4a46=_0x521d71;_0x4ebbc7[_0x4c4a46(0x2a6)]['remove'](_0x4c4a46(0x174));},0xbb8);}function openDayOptions(_0x373659,_0x12f188){const _0x3b6545=a2_0x45c5bc;selectedDayForOptions=_0x373659,document[_0x3b6545(0x245)](_0x3b6545(0x2b9))['textContent']=_0x12f188,openSheet(_0x3b6545(0x22a));}function toggleDayOff(){const _0x38b993=a2_0x45c5bc;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x38b993(0x1c1)](),DataManager['fetchFromServer'](_0x38b993(0x1d5),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x57ce15=a2_0x45c5bc;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x57ce15(0x1c1)](),DataManager[_0x57ce15(0x1b3)](_0x57ce15(0x1d5),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x518c2b){const _0x4abcb9=a2_0x45c5bc;document[_0x4abcb9(0x245)](_0x4abcb9(0x233))['classList']['add']('active'),document[_0x4abcb9(0x245)](_0x518c2b)['classList']['add'](_0x4abcb9(0x18a));}function closeAllSheets(){const _0x15efa2=a2_0x45c5bc;document[_0x15efa2(0x245)](_0x15efa2(0x233))[_0x15efa2(0x2a6)]['remove'](_0x15efa2(0x203)),document[_0x15efa2(0x178)](_0x15efa2(0x256))[_0x15efa2(0x179)](_0x14eb76=>_0x14eb76['classList'][_0x15efa2(0x2a1)](_0x15efa2(0x18a)));}function openPatternEditor(){const _0x142e24=a2_0x45c5bc;closeAllSheets(),document[_0x142e24(0x245)](_0x142e24(0x162))['classList'][_0x142e24(0x1e9)](_0x142e24(0x18a)),renderPatternEditor();}function closePatternEditor(){const _0x1f13e9=a2_0x45c5bc;document['getElementById'](_0x1f13e9(0x162))[_0x1f13e9(0x2a6)][_0x1f13e9(0x2a1)](_0x1f13e9(0x18a));}function savePattern(){const _0x58481d=a2_0x45c5bc;document[_0x58481d(0x245)]('patternEditor')[_0x58481d(0x2a6)][_0x58481d(0x2a1)](_0x58481d(0x18a)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x58481d(0x1b3)](_0x58481d(0x1d5),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x103c4d=a2_0x45c5bc,_0x41be95=document[_0x103c4d(0x245)](_0x103c4d(0x1b4));_0x41be95[_0x103c4d(0x237)]='';const _0x5f2b53=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x45c126=document['createElement'](_0x103c4d(0x1fb));_0x45c126[_0x103c4d(0x2d7)]=_0x103c4d(0x29c),_0x41be95[_0x103c4d(0x238)](_0x45c126),_0x5f2b53[_0x103c4d(0x179)]((_0x1b8c5c,_0x14cb76)=>{const _0x36f375=_0x103c4d,_0x4f4e48=document[_0x36f375(0x1d2)](_0x36f375(0x1fb));_0x4f4e48['className']=_0x36f375(0x1a3),_0x4f4e48[_0x36f375(0x237)]=_0x1b8c5c+_0x36f375(0x252),_0x4f4e48[_0x36f375(0x265)]=()=>toggleColPattern(_0x14cb76),_0x41be95['appendChild'](_0x4f4e48);});for(let _0x35a491=0x0;_0x35a491<0x18;_0x35a491++){const _0x2761be=document[_0x103c4d(0x1d2)](_0x103c4d(0x1fb));_0x2761be[_0x103c4d(0x2d7)]=_0x103c4d(0x254),_0x2761be[_0x103c4d(0x237)]=_0x103c4d(0x1b1)+String(_0x35a491)[_0x103c4d(0x1ca)](0x2,'0')+_0x103c4d(0x2ad),_0x2761be[_0x103c4d(0x265)]=()=>toggleRowPattern(_0x35a491),_0x41be95[_0x103c4d(0x238)](_0x2761be);for(let _0x794849=0x0;_0x794849<0x7;_0x794849++){const _0x25f3e0=document[_0x103c4d(0x1d2)](_0x103c4d(0x1fb)),_0x4204d3=(availabilityPattern[_0x794849]||[])[_0x103c4d(0x2dd)](_0x35a491),_0x1507ea=!_0x4204d3;_0x25f3e0[_0x103c4d(0x2d7)]=_0x103c4d(0x23d)+(_0x1507ea?_0x103c4d(0x203):''),_0x25f3e0[_0x103c4d(0x265)]=()=>toggleSinglePattern(_0x794849,_0x35a491),_0x41be95['appendChild'](_0x25f3e0);}}}function toggleSinglePattern(_0x3d02c5,_0x3dc898){const _0x246d13=a2_0x45c5bc;if(!availabilityPattern[_0x3d02c5])availabilityPattern[_0x3d02c5]=[];const _0x388ddb=availabilityPattern[_0x3d02c5],_0x56ce9b=_0x388ddb[_0x246d13(0x2a4)](_0x3dc898);_0x56ce9b===-0x1?_0x388ddb[_0x246d13(0x183)](_0x3dc898):_0x388ddb[_0x246d13(0x166)](_0x56ce9b,0x1),renderPatternEditor();}function toggleColPattern(_0x67254f){const _0x5be765=a2_0x45c5bc;if(!availabilityPattern[_0x67254f])availabilityPattern[_0x67254f]=[];const _0x56ee06=availabilityPattern[_0x67254f];_0x56ee06[_0x5be765(0x1bc)]===0x0?availabilityPattern[_0x67254f]=Array[_0x5be765(0x290)]({'length':0x18},(_0x4939ad,_0x58ac40)=>_0x58ac40):availabilityPattern[_0x67254f]=[],renderPatternEditor();}function toggleRowPattern(_0x2b3833){const _0x162fd1=a2_0x45c5bc;let _0x2d1dc9=!![];for(let _0x1103e8=0x0;_0x1103e8<0x7;_0x1103e8++){if((availabilityPattern[_0x1103e8]||[])['includes'](_0x2b3833)){_0x2d1dc9=![];break;}}for(let _0x17c5b5=0x0;_0x17c5b5<0x7;_0x17c5b5++){if(!availabilityPattern[_0x17c5b5])availabilityPattern[_0x17c5b5]=[];const _0x3c85c5=availabilityPattern[_0x17c5b5][_0x162fd1(0x2a4)](_0x2b3833);if(_0x2d1dc9){if(_0x3c85c5===-0x1)availabilityPattern[_0x17c5b5][_0x162fd1(0x183)](_0x2b3833);}else{if(_0x3c85c5!==-0x1)availabilityPattern[_0x17c5b5][_0x162fd1(0x166)](_0x3c85c5,0x1);}}renderPatternEditor();}function renderPCol(_0x2e37a7,_0x9df324){const _0x2457ff=a2_0x45c5bc;_0x2e37a7[_0x2457ff(0x237)]='';const _0x14f3b0=Math[_0x2457ff(0x194)](_0x2e37a7[_0x2457ff(0x2b1)]);(availabilityPattern[_0x9df324]||[])['forEach'](_0x23ddbc=>{const _0x3227cd=_0x2457ff,_0x351c33=document['createElement']('div');_0x351c33[_0x3227cd(0x2d7)]=_0x3227cd(0x294);const _0x1f34b6=_0x23ddbc*GRID_H;_0x351c33[_0x3227cd(0x2aa)]['top']=_0x1f34b6+'px',_0x351c33[_0x3227cd(0x2aa)]['backgroundPosition']='-'+_0x14f3b0+_0x3227cd(0x1c9)+_0x1f34b6+'px',_0x351c33[_0x3227cd(0x265)]=_0x257e9b=>{const _0x47b353=_0x3227cd;_0x257e9b[_0x47b353(0x16f)](),toggleSinglePattern(_0x9df324,_0x23ddbc);},_0x2e37a7[_0x3227cd(0x238)](_0x351c33);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x34d044=a2_0x45c5bc,_0x29b6f6=new Date(),_0x44936f=document[_0x34d044(0x245)](_0x34d044(0x2c6)),_0x42debb=document[_0x34d044(0x245)](_0x34d044(0x26f)),_0x2e97a3=(_0x29b6f6['getHours']()*0x3c+_0x29b6f6[_0x34d044(0x26e)]())/0x3c*GRID_H;_0x44936f[_0x34d044(0x2aa)][_0x34d044(0x220)]=_0x2e97a3+'px',_0x44936f[_0x34d044(0x2aa)][_0x34d044(0x211)]=_0x34d044(0x23f),_0x42debb[_0x34d044(0x15d)]=String(_0x29b6f6[_0x34d044(0x209)]())[_0x34d044(0x1ca)](0x2,'0')+':'+String(_0x29b6f6[_0x34d044(0x26e)]())[_0x34d044(0x1ca)](0x2,'0'),_0x42debb[_0x34d044(0x2aa)][_0x34d044(0x211)]='block',_0x42debb[_0x34d044(0x2aa)][_0x34d044(0x220)]=_0x2e97a3+'px';}document[a2_0x45c5bc(0x1db)](a2_0x45c5bc(0x2a2),init);function openDayOptions(_0x53bd57){const _0x5945c5=a2_0x45c5bc;selectedDayForOptions=_0x53bd57;const _0x6caecd=new Date(_0x53bd57),_0x15ba07={'weekday':_0x5945c5(0x1df),'day':_0x5945c5(0x1d6),'month':_0x5945c5(0x1df),'year':_0x5945c5(0x1d6)},_0x352e30=_0x6caecd[_0x5945c5(0x205)]('ru-RU',_0x15ba07);document[_0x5945c5(0x245)](_0x5945c5(0x27c))[_0x5945c5(0x15d)]=_0x352e30[_0x5945c5(0x24f)](0x0)['toUpperCase']()+_0x352e30[_0x5945c5(0x2c8)](0x1);let _0x27564f=_0x6caecd[_0x5945c5(0x1e6)]()-0x1;if(_0x27564f===-0x1)_0x27564f=0x6;const _0x21ee52=availabilityPattern[_0x27564f]||[],_0x2ac9eb=0x18-_0x21ee52['length'],_0x36ab9c=_0x2ac9eb*0x3c,_0x42d9cd=sessions[_0x5945c5(0x21b)](_0x5030b5=>_0x5030b5[_0x5945c5(0x207)]===_0x53bd57&&_0x5030b5[_0x5945c5(0x1d1)]!==_0x5945c5(0x2b8));let _0xec4937=_0x42d9cd[_0x5945c5(0x2be)](_0x3cbfc0=>{const _0x5e873c=_0x5945c5,[_0x16113c,_0x5ddf33]=_0x3cbfc0[_0x5e873c(0x199)][_0x5e873c(0x247)](':')['map'](Number),[_0x5a4dcc,_0x11d94b]=_0x3cbfc0['end']['split'](':')[_0x5e873c(0x2be)](Number);return[_0x16113c*0x3c+_0x5ddf33,_0x5a4dcc*0x3c+_0x11d94b];});_0xec4937[_0x5945c5(0x1ce)]((_0x703a63,_0xee7fa7)=>_0x703a63[0x0]-_0xee7fa7[0x0]);let _0x2ff43d=[];if(_0xec4937['length']>0x0){let _0x11042b=_0xec4937[0x0];for(let _0x54d075=0x1;_0x54d075<_0xec4937[_0x5945c5(0x1bc)];_0x54d075++){_0xec4937[_0x54d075][0x0]<_0x11042b[0x1]?_0x11042b[0x1]=Math[_0x5945c5(0x1a5)](_0x11042b[0x1],_0xec4937[_0x54d075][0x1]):(_0x2ff43d['push'](_0x11042b),_0x11042b=_0xec4937[_0x54d075]);}_0x2ff43d['push'](_0x11042b);}let _0x2a93cc=0x0;_0x2ff43d['forEach'](_0x57735f=>_0x2a93cc+=_0x57735f[0x1]-_0x57735f[0x0]),document['getElementById']('doWorkHours')[_0x5945c5(0x15d)]=formatMinsToHrs(_0x36ab9c),document['getElementById'](_0x5945c5(0x24c))[_0x5945c5(0x15d)]=formatMinsToHrs(_0x2a93cc);const _0x5a0dd3=_0x36ab9c>0x0?Math['round'](_0x2a93cc/_0x36ab9c*0x64):0x0,_0x1e92c7=document[_0x5945c5(0x245)](_0x5945c5(0x2a3));_0x1e92c7['textContent']=_0x5a0dd3+'%';const _0x532bd2=document[_0x5945c5(0x245)](_0x5945c5(0x2c1));if(_0x5a0dd3>0x64)_0x1e92c7['style'][_0x5945c5(0x202)]='var(--acc-red)',_0x532bd2[_0x5945c5(0x2aa)][_0x5945c5(0x1a9)]=_0x5945c5(0x171);else _0x5a0dd3>0x50?(_0x1e92c7[_0x5945c5(0x2aa)]['color']=_0x5945c5(0x215),_0x532bd2[_0x5945c5(0x2aa)][_0x5945c5(0x1a9)]=_0x5945c5(0x17d)):(_0x1e92c7[_0x5945c5(0x2aa)][_0x5945c5(0x202)]=_0x5945c5(0x23e),_0x532bd2['style'][_0x5945c5(0x1a9)]=_0x5945c5(0x160));const _0x296167=document['getElementById'](_0x5945c5(0x2d6));_0x296167[_0x5945c5(0x237)]='';_0x42d9cd[_0x5945c5(0x1bc)]===0x0?_0x296167['innerHTML']=_0x5945c5(0x25b):(_0x42d9cd[_0x5945c5(0x1ce)]((_0x252456,_0x529671)=>_0x252456['start'][_0x5945c5(0x168)](_0x529671[_0x5945c5(0x199)])),_0x42d9cd[_0x5945c5(0x179)](_0x123980=>{const _0x32fd5e=_0x5945c5,_0x2377e2=clients[_0x32fd5e(0x21c)](_0x4d1455=>_0x4d1455['name']===_0x123980[_0x32fd5e(0x1a8)]),_0x532b9a=_0x2377e2?_0x2377e2['color']:'#fff',_0x3667be=_0x123980[_0x32fd5e(0x1d1)]==='completed',_0xf45002=_0x3667be?_0x32fd5e(0x229):'',_0x4c5042=document[_0x32fd5e(0x1d2)](_0x32fd5e(0x1fb));_0x4c5042[_0x32fd5e(0x2d7)]=_0x32fd5e(0x2bd),_0x4c5042[_0x32fd5e(0x2aa)]['borderLeftColor']=_0x532b9a,_0x4c5042[_0x32fd5e(0x237)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x123980['start']+'\x20-\x20'+_0x123980[_0x32fd5e(0x20b)]+_0x32fd5e(0x1e5)+_0x123980[_0x32fd5e(0x1a8)]+_0x32fd5e(0x21a)+_0xf45002+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x296167[_0x32fd5e(0x238)](_0x4c5042);}));const _0x7f1fef=document[_0x5945c5(0x245)](_0x5945c5(0x2c5)),_0x2f66d8=dateExceptions[_0x53bd57]===_0x5945c5(0x2d0);_0x2f66d8?(_0x7f1fef[_0x5945c5(0x15d)]=_0x5945c5(0x16d),_0x7f1fef['className']='btn-primary\x20btn-secondary',_0x7f1fef[_0x5945c5(0x2aa)]['color']='var(--acc-green)',_0x7f1fef['style'][_0x5945c5(0x1f4)]=_0x5945c5(0x27f)):(_0x7f1fef[_0x5945c5(0x15d)]=_0x5945c5(0x1ae),_0x7f1fef[_0x5945c5(0x2d7)]=_0x5945c5(0x200),_0x7f1fef[_0x5945c5(0x2aa)][_0x5945c5(0x202)]=_0x5945c5(0x266),_0x7f1fef['style'][_0x5945c5(0x1f4)]=_0x5945c5(0x240)),openSheet(_0x5945c5(0x22a));}let currentAnPeriod=a2_0x45c5bc(0x2ac);function openAnalytics(){const _0x2aca5c=a2_0x45c5bc,_0x2c22ec=document['querySelector'](_0x2aca5c(0x291));setAnalyticsPeriod(_0x2aca5c(0x2ac),_0x2c22ec),closeAllSheets(),openSheet(_0x2aca5c(0x18c));}function setAnalyticsPeriod(_0x24d6cf,_0x366114){const _0x59d7cf=a2_0x45c5bc;currentAnPeriod=_0x24d6cf,document[_0x59d7cf(0x178)](_0x59d7cf(0x291))[_0x59d7cf(0x179)](_0x29fb24=>_0x29fb24[_0x59d7cf(0x2a6)]['remove'](_0x59d7cf(0x203)));if(_0x366114)_0x366114['classList']['add'](_0x59d7cf(0x203));const _0x595b4b=document[_0x59d7cf(0x245)](_0x59d7cf(0x277));_0x595b4b['style'][_0x59d7cf(0x211)]=_0x24d6cf===_0x59d7cf(0x286)?'flex':_0x59d7cf(0x2de);const _0x4c39c0=new Date();let _0x4ac7ff=new Date(),_0x1edda4=new Date();if(_0x24d6cf===_0x59d7cf(0x2ac))_0x4ac7ff=getStartOfWeek(_0x4c39c0),_0x1edda4=new Date(_0x4ac7ff),_0x1edda4['setDate'](_0x1edda4[_0x59d7cf(0x2c7)]()+0x6);else{if(_0x24d6cf==='month')_0x4ac7ff=new Date(_0x4c39c0['getFullYear'](),_0x4c39c0[_0x59d7cf(0x2b0)](),0x1),_0x1edda4=new Date(_0x4c39c0[_0x59d7cf(0x172)](),_0x4c39c0[_0x59d7cf(0x2b0)]()+0x1,0x0);else{!document[_0x59d7cf(0x245)](_0x59d7cf(0x243))[_0x59d7cf(0x1e0)]&&(document[_0x59d7cf(0x245)](_0x59d7cf(0x243))[_0x59d7cf(0x1e0)]=getLocalDateStr(_0x4c39c0),document['getElementById'](_0x59d7cf(0x20a))[_0x59d7cf(0x1e0)]=getLocalDateStr(_0x4c39c0));refreshAnalytics();return;}}document[_0x59d7cf(0x245)](_0x59d7cf(0x243))[_0x59d7cf(0x1e0)]=getLocalDateStr(_0x4ac7ff),document[_0x59d7cf(0x245)](_0x59d7cf(0x20a))['value']=getLocalDateStr(_0x1edda4),refreshAnalytics();}function refreshAnalytics(){const _0x4b0cae=a2_0x45c5bc,_0xee40ff=document[_0x4b0cae(0x245)]('anStart')['value'],_0x2b42c3=document[_0x4b0cae(0x245)](_0x4b0cae(0x20a))['value'];if(!_0xee40ff||!_0x2b42c3)return;const _0x3a14b6=sessions[_0x4b0cae(0x21b)](_0x19b4c9=>_0x19b4c9[_0x4b0cae(0x207)]>=_0xee40ff&&_0x19b4c9[_0x4b0cae(0x207)]<=_0x2b42c3&&_0x19b4c9[_0x4b0cae(0x1d1)]!==_0x4b0cae(0x2b8)),_0xbace12=_0x3a14b6['length'],_0xa16ffb=_0x3a14b6['filter'](_0x589b0f=>_0x589b0f[_0x4b0cae(0x1d1)]===_0x4b0cae(0x18d))[_0x4b0cae(0x1bc)],_0x41d0f9=_0xbace12>0x0?Math[_0x4b0cae(0x194)](_0xa16ffb/_0xbace12*0x64):0x0;document[_0x4b0cae(0x245)](_0x4b0cae(0x2e0))[_0x4b0cae(0x15d)]=_0x41d0f9+'%',document['getElementById']('anTotalStats')['textContent']=_0xa16ffb+_0x4b0cae(0x29a)+_0xbace12+_0x4b0cae(0x2a5);const _0x10a7e2=document[_0x4b0cae(0x245)]('anDonutCircle'),_0x409e45=0x2*Math['PI']*0x23,_0x2388e6=_0x409e45-_0x41d0f9/0x64*_0x409e45;_0x10a7e2['style'][_0x4b0cae(0x196)]=_0x2388e6;const _0x10f921={};_0x3a14b6[_0x4b0cae(0x179)](_0x2de111=>{const _0x41fa86=_0x4b0cae;if(!_0x10f921[_0x2de111[_0x41fa86(0x1a8)]]){const _0x29eeff=clients['find'](_0x520c71=>_0x520c71[_0x41fa86(0x2d9)]===_0x2de111[_0x41fa86(0x1a8)]);_0x10f921[_0x2de111[_0x41fa86(0x1a8)]]={'total':0x0,'done':0x0,'color':_0x29eeff?_0x29eeff[_0x41fa86(0x202)]:_0x41fa86(0x285)};}_0x10f921[_0x2de111[_0x41fa86(0x1a8)]][_0x41fa86(0x193)]++;if(_0x2de111['status']===_0x41fa86(0x18d))_0x10f921[_0x2de111[_0x41fa86(0x1a8)]]['done']++;});const _0xee11c6=document['getElementById'](_0x4b0cae(0x2af));_0xee11c6[_0x4b0cae(0x237)]='';const _0x57f88e=Object[_0x4b0cae(0x16c)](_0x10f921)[_0x4b0cae(0x1ce)]((_0x1d7553,_0x7b51f5)=>_0x7b51f5[0x1][_0x4b0cae(0x193)]-_0x1d7553[0x1]['total']);if(_0x57f88e[_0x4b0cae(0x1bc)]===0x0){_0xee11c6[_0x4b0cae(0x237)]=_0x4b0cae(0x1c7);return;}_0x57f88e['forEach'](([_0x59afd7,_0x706a22])=>{const _0xfaa1bb=_0x4b0cae,_0x5651c8=Math[_0xfaa1bb(0x194)](_0x706a22[_0xfaa1bb(0x296)]/_0x706a22['total']*0x64),_0x3fe0ca=document['createElement']('div');_0x3fe0ca['className']=_0xfaa1bb(0x218),_0x3fe0ca['style'][_0xfaa1bb(0x21f)]=_0x706a22[_0xfaa1bb(0x202)],_0x3fe0ca[_0xfaa1bb(0x237)]=_0xfaa1bb(0x1bf)+_0x59afd7+_0xfaa1bb(0x27d)+_0x706a22[_0xfaa1bb(0x296)]+_0xfaa1bb(0x186)+_0x706a22[_0xfaa1bb(0x193)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x5651c8+_0xfaa1bb(0x29e),_0xee11c6[_0xfaa1bb(0x238)](_0x3fe0ca);});}function formatMinsToHrs(_0x368c12){const _0x30d614=a2_0x45c5bc;if(_0x368c12===0x0)return'0';const _0x4e5983=Math[_0x30d614(0x250)](_0x368c12/0x3c),_0x131195=_0x368c12%0x3c;if(_0x131195===0x0)return _0x4e5983+'—á';return _0x4e5983+'—á\x20'+_0x131195+'–º';}