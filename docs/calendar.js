function a2_0x2740(_0x158ab4,_0x3e82d6){_0x158ab4=_0x158ab4-0x14a;const _0xc00e27=a2_0x4973();let _0x50bae8=_0xc00e27[_0x158ab4];return _0x50bae8;}const a2_0x5b4edd=a2_0x2740;(function(_0x431fb3,_0x4c14a0){const _0x1fb71d=a2_0x2740,_0x50ca1d=_0x431fb3();while(!![]){try{const _0x3596ae=parseInt(_0x1fb71d(0x27d))/0x1*(-parseInt(_0x1fb71d(0x236))/0x2)+parseInt(_0x1fb71d(0x170))/0x3+parseInt(_0x1fb71d(0x29d))/0x4+-parseInt(_0x1fb71d(0x28d))/0x5*(parseInt(_0x1fb71d(0x238))/0x6)+-parseInt(_0x1fb71d(0x180))/0x7+-parseInt(_0x1fb71d(0x1ed))/0x8*(-parseInt(_0x1fb71d(0x254))/0x9)+parseInt(_0x1fb71d(0x199))/0xa*(parseInt(_0x1fb71d(0x2a4))/0xb);if(_0x3596ae===_0x4c14a0)break;else _0x50ca1d['push'](_0x50ca1d['shift']());}catch(_0xa11d01){_0x50ca1d['push'](_0x50ca1d['shift']());}}}(a2_0x4973,0xee0cb),function initTMA(){const _0x5cc1f1=a2_0x2740,_0x297d9e=(function(){let _0x26cea8=!![];return function(_0x5f2251,_0x4a5c36){const _0x35f4d7=_0x26cea8?function(){const _0x1c4b14=a2_0x2740;if(_0x4a5c36){const _0x4e8ee3=_0x4a5c36[_0x1c4b14(0x25a)](_0x5f2251,arguments);return _0x4a5c36=null,_0x4e8ee3;}}:function(){};return _0x26cea8=![],_0x35f4d7;};}()),_0x2047f1=_0x297d9e(this,function(){const _0x21aca4=a2_0x2740;return _0x2047f1[_0x21aca4(0x255)]()['search'](_0x21aca4(0x1f5))['toString']()['constructor'](_0x2047f1)[_0x21aca4(0x226)]('(((.+)+)+)+$');});_0x2047f1();try{const _0x19abb0=window['Telegram']?.['WebApp'];if(!_0x19abb0)return;_0x19abb0[_0x5cc1f1(0x1de)](),_0x19abb0['expand']();try{_0x19abb0[_0x5cc1f1(0x192)]('#050505'),_0x19abb0[_0x5cc1f1(0x16e)]&&_0x19abb0['setBackgroundColor'](_0x5cc1f1(0x1f0));}catch(_0x80498a){console['log'](_0x5cc1f1(0x23f),_0x80498a);}try{_0x19abb0[_0x5cc1f1(0x263)]&&(_0x19abb0[_0x5cc1f1(0x263)][_0x5cc1f1(0x1cb)](),_0x19abb0[_0x5cc1f1(0x263)][_0x5cc1f1(0x1ea)](),_0x19abb0[_0x5cc1f1(0x263)][_0x5cc1f1(0x1b7)](function(){const _0x532277=_0x5cc1f1;window[_0x532277(0x1e3)][_0x532277(0x204)]=_0x532277(0x1c2);}));}catch(_0x264973){console[_0x5cc1f1(0x1db)](_0x5cc1f1(0x2aa),_0x264973);}try{if(_0x19abb0[_0x5cc1f1(0x190)])_0x19abb0[_0x5cc1f1(0x190)]();}catch(_0x140176){}}catch(_0x1f78d0){console[_0x5cc1f1(0x166)](_0x5cc1f1(0x20b),_0x1f78d0);}}());function isAdmin(){const _0x52cbc1=a2_0x2740;try{const _0x1daec=Number(window[_0x52cbc1(0x1a9)]?.['WebApp']?.['initDataUnsafe']?.[_0x52cbc1(0x177)]?.['id']);return _0x1daec===0xbaf7174;}catch(_0x2833c6){return![];}}const APP_VERSION=a2_0x5b4edd(0x1b6),API_URL=a2_0x5b4edd(0x294),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());function a2_0x4973(){const _0x28e452=['borderColor','off','</div><div\x20class=\x22dch-num\x22>','color','cancel','10px','45tUHkFV','toString','px\x200px','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','getBoundingClientRect','firstChild','apply','globalTimeLine','random','dayOptionsTitle','name','exceptions','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','setAttribute','guest','BackButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','anCustomDates','%\x20+\x202px)','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','anStart','\x20‚Äî\x20','client','blocked-slot\x20stripe-bg','Save\x20settings\x20error:','day-column\x20','btnDayToggle','doDateHeader','colIndex','clients','map','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','touchend','json','getMonth','option','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</b>\x0a\x0a','getAttribute','done','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','150873ShXnEf','createDocumentFragment','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','pe-time-label','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','patternEditor','WebApp','createElement','splice','setItem','recurringOptionContainer','uc_clients_v9','Local\x20Save\x20Error','slice','touches','7909710geXMBy','single','charAt','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','.dch-stats-fill','\x20status-completed','block','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','toUpperCase','indexOf','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','strokeDashoffset','\x20-\x20','<div\x20class=\x22dch-day\x22>','T23:59:59','884812imjoyZ',':00','uc_sessions_v9','peGrid','querySelector','mini','closest','3696IllWPC',']\x20Failed:','toLocaleString','#gridColumns\x20.day-column','pe-cell\x20','insertBefore','Error\x20setting\x20back\x20button:','clientWidth','sheetTitle','.pib-text','uc_settings_cancel_window','px\x20-','rangeStartTime','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','catch','initDataUnsafe','Server\x20Error','statLoadCard','scrollLeft','syncLoad','fetchFromServer','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','doLoadPercent','clientY','inpRecurring','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','[Notify]\x20Attempting\x20to\x20send:','init_load','background','localeCompare','blocked-range-part\x20stripe-bg','ru-RU','data-date','getDay','length','appendChild','actionSheetOverlay','getFullYear','.period-switch\x20.p-btn','total','day-col-header\x20','className','offsetLeft','padStart','</div>','btn-primary\x20btn-danger','getItem','create','rgba(100,100,100,0.5)','.day-off-overlay','var(--acc-current)','seriesId','open','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','status','rangesList','var(--acc-orange)','[Notify]\x20Client\x20SWAP\x20detected','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','custom','error','end','anEnd','#fff','setHours','doBusyHours','inpEnd','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','setBackgroundColor','event-card','104415qPZiNC','save_settings','btn-status-toggle\x20undo-mode','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','series','data-day-idx','vibrate','user','querySelectorAll','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','today','getElementById','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','overlay','offsetWidth','now','7350182dYpWyB','actionSheet','cancel_window','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','valid','<span>','anPercent','\x20days','as-button\x20danger\x20bold','rangeEndDate','anTotalStats','inpDate','rgba(255,255,255,0.05)','btnStatusToggle','disableVerticalSwipes','[Notify]\x20Detected\x20Client\x20ID:','setHeaderColor','round','textContent','getDate','DOMContentLoaded','Unknown','add','146690VsSLSq','.sheet','undefined','<b>‚úÖ\x20','btnDelete','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','[Series]\x20Skipped\x20','pattern','matrixViewport','entries','send','[Notify]\x20Error:\x20Text\x20generation\x20failed','onclick','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','floor','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','Telegram','style','settingCancelWindow','[Notify]\x20Server\x20Response:','push','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','update','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','send_notification','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','warn','v9.0-BATCH-CALENDAR','onClick','getMinutes','stat-','daysHeaderTrack','scrollTop','stringify','scroll','settings','null','pe-corner','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','router.html','deleted','range-item','client-stat-card','msg','data','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','show','–£—Å–ø–µ—à–Ω–æ','flex',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','rangeEndTime','</span>\x20/\x20','asBtnSeries','var(--acc-red)','uc_settings_v9','var(--acc-green)','mergeServerData','delete','inpStart','backgroundColor','text','then','log','left','\x20–∏–∑\x20','ready','calendar','Local\x20Load\x20Error','day-off-overlay\x20stripe-bg','POST','location','width','asTitle',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','addEventListener','filter','offClick','long','min','130928dsjPjb','forEach','cancelled','#050505','ranges','numeric',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','(((.+)+)+)+$','header-','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','complete','start','height','#0a84ff','max','%\x20-\x204px)','warning','classList','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','rangeStartDate','toastTitle','btn-primary\x20btn-secondary','href','mouseup','patternInfoBox','initData','setMonth','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','planned','Critical\x20TMA\x20Error:','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','[Notify]\x20Network\x20Failed','doWorkHours','sessionSheet','borderRadius','de-item','dateStr','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','parse','from','top','sort','completed','100%','.day-col-header','innerHTML','rgba(48,\x20209,\x2088,\x200.15)',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','gridColumns','remove','calc(','value','toastMessage','rangesSheet','getTime','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','search','...','all','find','clientId','none','borderLeftColor','dayOptionsSheet','display','saveLocally','isArray','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','zIndex','active','text/plain;charset=UTF-8','checked','22nzaniY','month','6jYTSOX','includes','10px\x2010px\x200\x200','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','mousemove','toLocaleDateString','inpNote','Error\x20setting\x20color:','div','timeLineBadge','inpClient','backgroundPosition','save','[API\x20','split','getHours','seriesCountContainer','startsWith','week','inpSeriesCount','sheetDateSubtitle','setDate'];a2_0x4973=function(){return _0x28e452;};return a2_0x4973();}const KEY_CLIENTS=a2_0x5b4edd(0x289),KEY_SESSIONS=a2_0x5b4edd(0x29f),KEY_SETTINGS=a2_0x5b4edd(0x1d3);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x55052d=a2_0x5b4edd;return window['Telegram']?.['WebApp']?.[_0x55052d(0x2b3)]?.['user']?.['id']||_0x55052d(0x262);},'saveLocally'(){const _0x55452f=a2_0x5b4edd;try{localStorage[_0x55452f(0x287)](KEY_CLIENTS,JSON[_0x55452f(0x1bc)](clients)),localStorage[_0x55452f(0x287)](KEY_SESSIONS,JSON[_0x55452f(0x1bc)](sessions)),localStorage[_0x55452f(0x287)](KEY_SETTINGS,JSON[_0x55452f(0x1bc)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x222d54){console['error'](_0x55452f(0x28a),_0x222d54);}},'loadLocal'(){const _0x565253=a2_0x5b4edd;try{const _0xbaf214=localStorage['getItem'](KEY_CLIENTS);if(_0xbaf214)clients=JSON[_0x565253(0x214)](_0xbaf214);const _0x490934=localStorage['getItem'](KEY_SESSIONS);if(_0x490934)sessions=JSON[_0x565253(0x214)](_0x490934);const _0x2aa3c2=localStorage[_0x565253(0x158)](KEY_SETTINGS);if(_0x2aa3c2){const _0x27a152=JSON[_0x565253(0x214)](_0x2aa3c2);if(_0x27a152['pattern'])availabilityPattern=_0x27a152[_0x565253(0x1a0)];if(_0x27a152['exceptions'])dateExceptions=_0x27a152[_0x565253(0x25f)];if(_0x27a152[_0x565253(0x1f1)])specialRanges=_0x27a152['ranges'];}else{for(let _0x4eb412=0x0;_0x4eb412<0x7;_0x4eb412++)availabilityPattern[_0x4eb412]=Array[_0x565253(0x215)]({'length':0xc},(_0x120a16,_0x31099b)=>_0x31099b+0x9);}}catch(_0x4069f4){console['error'](_0x565253(0x1e0),_0x4069f4);}},async 'fetchFromServer'(_0x5d0956,_0x4114df={}){const _0x15e72c=a2_0x5b4edd,_0x3972a4=window[_0x15e72c(0x1a9)]?.[_0x15e72c(0x284)],_0x197524={'action':_0x5d0956,'init_data':_0x3972a4?.[_0x15e72c(0x207)]||'',..._0x4114df};try{const _0x410375=await fetch(API_URL,{'method':_0x15e72c(0x1e2),'headers':{'Content-Type':_0x15e72c(0x234)},'body':JSON['stringify'](_0x197524)}),_0x8b86e6=await _0x410375[_0x15e72c(0x275)]();if(!_0x8b86e6['ok'])throw new Error(_0x8b86e6[_0x15e72c(0x166)]||_0x15e72c(0x2b4));return _0x8b86e6[_0x15e72c(0x1c7)];}catch(_0x4fb392){console[_0x15e72c(0x166)](_0x15e72c(0x245)+_0x5d0956+_0x15e72c(0x2a5),_0x4fb392);throw _0x4fb392;}},async 'syncLoad'(){const _0x560674=a2_0x5b4edd,_0x5d12ee=new Date(),_0x33aa31=_0x5d12ee[_0x560674(0x14f)]()+'-'+String(_0x5d12ee['getMonth']()+0x1)[_0x560674(0x155)](0x2,'0'),_0x5d359c=new Date(_0x5d12ee);_0x5d359c[_0x560674(0x208)](_0x5d12ee[_0x560674(0x276)]()+0x1);const _0x291851=_0x5d359c[_0x560674(0x14f)]()+'-'+String(_0x5d359c[_0x560674(0x276)]()+0x1)['padStart'](0x2,'0'),_0x2037ee=Date[_0x560674(0x17f)]();console[_0x560674(0x1db)]('[Sync]\x20Loading\x20'+_0x33aa31+',\x20'+_0x291851+_0x560674(0x227));try{const [_0x33949b,_0x4e9c0b]=await Promise[_0x560674(0x228)]([this[_0x560674(0x2b8)](_0x560674(0x2bf),{'month_str':_0x33aa31}),this[_0x560674(0x2b8)](_0x560674(0x2bf),{'month_str':_0x291851})]);if(lastUserActionTime>_0x2037ee)return console[_0x560674(0x1b5)](_0x560674(0x267)),![];return this[_0x560674(0x1d5)](_0x33949b,_0x33aa31),this['mergeServerData'](_0x4e9c0b,_0x291851),this[_0x560674(0x22f)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3a22aa){console[_0x560674(0x166)](_0x3a22aa);throw _0x3a22aa;}},'mergeServerData'(_0x422ade,_0x5e3e2a){const _0x4f3b94=a2_0x5b4edd;if(!_0x422ade)return;_0x422ade[_0x4f3b94(0x271)]&&Array[_0x4f3b94(0x230)](_0x422ade['clients'])&&(clients=_0x422ade['clients']);if(_0x422ade[_0x4f3b94(0x1be)]){if(_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x1a0)])availabilityPattern=_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x1a0)];if(_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x25f)])dateExceptions=_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x25f)];if(_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x1f1)])specialRanges=_0x422ade['settings'][_0x4f3b94(0x1f1)];if(_0x422ade['settings']['cancel_window']){localStorage[_0x4f3b94(0x287)](_0x4f3b94(0x2ae),_0x422ade['settings'][_0x4f3b94(0x182)]);const _0x5efbdc=document['getElementById'](_0x4f3b94(0x1ab));if(_0x5efbdc)_0x5efbdc['value']=_0x422ade[_0x4f3b94(0x1be)][_0x4f3b94(0x182)];}}_0x422ade[_0x4f3b94(0x1df)]&&(sessions=sessions['filter'](_0x497816=>!_0x497816['dateStr'][_0x4f3b94(0x249)](_0x5e3e2a)),Object['keys'](_0x422ade[_0x4f3b94(0x1df)])['forEach'](_0x56658d=>{const _0x49224a=_0x4f3b94,_0x3197c6=_0x422ade[_0x49224a(0x1df)][_0x56658d];_0x3197c6[_0x49224a(0x1ee)](_0x505755=>{const _0x4884cd=_0x49224a,_0x3d5b7f=clients[_0x4884cd(0x229)](_0x44285e=>String(_0x44285e['id'])===String(_0x505755['c']));sessions[_0x4884cd(0x1ad)]({'id':_0x505755['i'],'clientId':_0x505755['c'],'client':_0x3d5b7f?_0x3d5b7f[_0x4884cd(0x25e)]:_0x4884cd(0x197),'dateStr':_0x5e3e2a+'-'+_0x56658d[_0x4884cd(0x155)](0x2,'0'),'start':_0x505755['s'],'end':_0x505755['e'],'status':_0x505755['st']||'planned','note':_0x505755['n']||'','seriesId':_0x505755['sid']||null});});}));},async 'syncBatch'(_0x12b6d6){const _0x544d35=a2_0x5b4edd,_0x43f5d2=[...new Set(_0x12b6d6)],_0x3e86d8=_0x43f5d2[_0x544d35(0x272)](_0x546061=>{const _0x163b0c=_0x544d35,_0x2791e6=sessions['filter'](_0x132642=>_0x132642[_0x163b0c(0x212)]===_0x546061&&_0x132642['status']!==_0x163b0c(0x1c3)),_0x46f4a9=_0x2791e6[_0x163b0c(0x272)](_0x2e00f5=>({'i':_0x2e00f5['id'],'c':_0x2e00f5['clientId'],'s':_0x2e00f5[_0x163b0c(0x1f9)],'e':_0x2e00f5['end'],'st':_0x2e00f5[_0x163b0c(0x160)],'n':_0x2e00f5['note'],'sid':_0x2e00f5[_0x163b0c(0x15d)]}));return{'date':_0x546061,'day_data':_0x46f4a9};});if(_0x3e86d8[_0x544d35(0x14c)]===0x0)return;console[_0x544d35(0x1db)](_0x544d35(0x1c1)+_0x3e86d8[_0x544d35(0x14c)]+_0x544d35(0x189)),await this['fetchFromServer']('batch_sync',{'changes':_0x3e86d8});}};async function init(){const _0x14248c=a2_0x5b4edd;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x14248c(0x17b)]('matrixViewport')['addEventListener'](_0x14248c(0x1bd),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x14248c(0x2b7)]()['then'](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x14248c(0x2b2)](_0x2bad9b=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x906f95=a2_0x5b4edd;return Date[_0x906f95(0x17f)]()[_0x906f95(0x255)](0x24)+Math[_0x906f95(0x25c)]()[_0x906f95(0x255)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0xe2b62b=a2_0x5b4edd,_0x3b2377=document[_0xe2b62b(0x17b)](_0xe2b62b(0x2bc))['checked'],_0x550b03=document[_0xe2b62b(0x17b)](_0xe2b62b(0x248));_0x550b03['style'][_0xe2b62b(0x22e)]=_0x3b2377?_0xe2b62b(0x293):_0xe2b62b(0x22b);const _0x421b12=document['getElementById'](_0xe2b62b(0x288));_0x421b12[_0xe2b62b(0x1aa)][_0xe2b62b(0x210)]=_0x3b2377?_0xe2b62b(0x23a):_0xe2b62b(0x253);}function openAddSession(_0x1e4f9d){const _0x231209=a2_0x5b4edd;editingId=null,populateClientSelect(),document['getElementById']('sheetTitle')['textContent']=_0x231209(0x231),document[_0x231209(0x17b)](_0x231209(0x19d))[_0x231209(0x1aa)][_0x231209(0x22e)]=_0x231209(0x22b),document[_0x231209(0x17b)](_0x231209(0x18f))[_0x231209(0x1aa)][_0x231209(0x22e)]='none';const _0x54c2ad=document['getElementById'](_0x231209(0x288)),_0x23f715=document[_0x231209(0x17b)]('seriesCountContainer');_0x54c2ad['style'][_0x231209(0x22e)]=_0x231209(0x1cd),_0x54c2ad[_0x231209(0x1aa)][_0x231209(0x210)]=_0x231209(0x253),document['getElementById'](_0x231209(0x2bc))[_0x231209(0x235)]=![],document[_0x231209(0x17b)](_0x231209(0x24b))['value']=0x4,_0x23f715[_0x231209(0x1aa)][_0x231209(0x22e)]=_0x231209(0x22b),document[_0x231209(0x17b)](_0x231209(0x18d))[_0x231209(0x221)]=getLocalDateStr(_0x1e4f9d),updateDateDisplay();const _0xc5f52c=_0x1e4f9d[_0x231209(0x247)]();document[_0x231209(0x17b)](_0x231209(0x1d7))[_0x231209(0x221)]=String(_0xc5f52c)[_0x231209(0x155)](0x2,'0')+_0x231209(0x29e),document['getElementById'](_0x231209(0x16c))[_0x231209(0x221)]=String(_0xc5f52c+0x1)[_0x231209(0x155)](0x2,'0')+_0x231209(0x29e),openSheet(_0x231209(0x20f));}function openEdit(_0x54dc72){const _0x58bbea=a2_0x5b4edd;editingId=_0x54dc72['id'],populateClientSelect(),document[_0x58bbea(0x17b)](_0x58bbea(0x2ac))['textContent']=_0x58bbea(0x273),document['getElementById'](_0x58bbea(0x19d))['style'][_0x58bbea(0x22e)]=_0x58bbea(0x293);const _0x396ffc=document[_0x58bbea(0x17b)]('btnStatusToggle');_0x396ffc[_0x58bbea(0x1aa)][_0x58bbea(0x22e)]=_0x58bbea(0x1cd);_0x54dc72[_0x58bbea(0x160)]===_0x58bbea(0x218)?(_0x396ffc[_0x58bbea(0x153)]=_0x58bbea(0x172),_0x396ffc[_0x58bbea(0x21b)]=_0x58bbea(0x19e)):(_0x396ffc['className']='btn-status-toggle',_0x396ffc[_0x58bbea(0x21b)]=_0x58bbea(0x1b1));const _0x3dafb5=!!_0x54dc72[_0x58bbea(0x15d)];document[_0x58bbea(0x17b)]('recurringOptionContainer')['style'][_0x58bbea(0x22e)]=_0x58bbea(0x22b),document['getElementById'](_0x58bbea(0x248))[_0x58bbea(0x1aa)]['display']=_0x58bbea(0x22b),_0x3dafb5?(document['getElementById'](_0x58bbea(0x206))[_0x58bbea(0x1aa)][_0x58bbea(0x22e)]=_0x58bbea(0x1cd),document['getElementById']('patternInfoBox')['querySelector'](_0x58bbea(0x2ad))[_0x58bbea(0x194)]=_0x58bbea(0x2b1)):document['getElementById'](_0x58bbea(0x206))['style'][_0x58bbea(0x22e)]=_0x58bbea(0x22b),document[_0x58bbea(0x17b)](_0x58bbea(0x242))[_0x58bbea(0x221)]=_0x54dc72['client'],document[_0x58bbea(0x17b)](_0x58bbea(0x18d))[_0x58bbea(0x221)]=_0x54dc72[_0x58bbea(0x212)],document[_0x58bbea(0x17b)](_0x58bbea(0x1d7))[_0x58bbea(0x221)]=_0x54dc72[_0x58bbea(0x1f9)],document[_0x58bbea(0x17b)](_0x58bbea(0x16c))[_0x58bbea(0x221)]=_0x54dc72[_0x58bbea(0x167)],document[_0x58bbea(0x17b)](_0x58bbea(0x23e))[_0x58bbea(0x221)]=_0x54dc72['note']||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x58242d=a2_0x5b4edd,_0x20b09d=document[_0x58242d(0x17b)](_0x58242d(0x242))[_0x58242d(0x221)],_0x452680=document[_0x58242d(0x17b)](_0x58242d(0x18d))[_0x58242d(0x221)],_0xb4918a=document['getElementById']('inpStart')[_0x58242d(0x221)],_0x181f23=document['getElementById']('inpEnd')['value'],_0x247a4a=document[_0x58242d(0x17b)]('inpNote')[_0x58242d(0x221)],_0x41b956=document[_0x58242d(0x17b)]('inpRecurring')[_0x58242d(0x235)];let _0xfa5035=0x4;if(_0x41b956){const _0x45d878=parseInt(document[_0x58242d(0x17b)](_0x58242d(0x24b))[_0x58242d(0x221)]);if(!_0x45d878||_0x45d878<0x2){showToast(_0x58242d(0x257),![]);return;}if(_0x45d878>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0xfa5035=_0x45d878;}const _0x29f1ff=clients[_0x58242d(0x229)](_0x34f287=>_0x34f287[_0x58242d(0x25e)]===_0x20b09d);if(!_0x29f1ff){showToast(_0x58242d(0x260),![]);return;}const _0x232696=validateAppointment(_0x452680,_0xb4918a,_0x181f23,editingId,_0x29f1ff['id']);if(!_0x232696[_0x58242d(0x186)]){showToast(_0x232696[_0x58242d(0x1c6)],![]);return;}_0x232696[_0x58242d(0x1fe)]&&showToast(_0x232696[_0x58242d(0x1fe)],![]);const _0x44e205={'client':_0x20b09d,'clientId':_0x29f1ff['id'],'start':_0xb4918a,'end':_0x181f23,'note':_0x247a4a,'status':_0x58242d(0x20a)},_0x96630b=editingId?sessions[_0x58242d(0x229)](_0x4165b3=>_0x4165b3['id']===editingId):null;if(_0x96630b&&_0x96630b[_0x58242d(0x15d)]){tempSessionData={..._0x44e205,'dateStr':_0x452680,'id':editingId,'seriesId':_0x96630b[_0x58242d(0x15d)]},openActionSheet('save');return;}let _0x4377be=null;if(!editingId)_0x4377be=_0x58242d(0x159);else{if(_0x96630b){if(String(_0x96630b[_0x58242d(0x22a)])!==String(_0x29f1ff['id']))console['log'](_0x58242d(0x163)),NotificationManager[_0x58242d(0x1a3)]('cancel',_0x96630b),_0x4377be=_0x58242d(0x159);else(_0x96630b['start']!==_0xb4918a||_0x96630b[_0x58242d(0x167)]!==_0x181f23||_0x96630b[_0x58242d(0x212)]!==_0x452680)&&(_0x4377be=_0x58242d(0x1af));}}if(!editingId&&_0x41b956){createBatchSeries(_0x44e205,_0x452680,_0xfa5035),NotificationManager[_0x58242d(0x1a3)](_0x58242d(0x159),{..._0x44e205,'dateStr':_0x452680});return;}lastUserActionTime=Date[_0x58242d(0x17f)]();const _0x52522d={..._0x44e205,'dateStr':_0x452680,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x52522d),_0x4377be&&NotificationManager[_0x58242d(0x1a3)](_0x4377be,_0x52522d);}function toggleSessionStatus(){const _0x32250e=a2_0x5b4edd;lastUserActionTime=Date['now']();const _0x2d98eb=sessions[_0x32250e(0x229)](_0x427429=>_0x427429['id']===editingId);if(!_0x2d98eb)return;const _0xee9975=_0x2d98eb['status']===_0x32250e(0x218)?_0x32250e(0x20a):_0x32250e(0x218);_0x2d98eb[_0x32250e(0x160)]=_0xee9975,saveSingleSession(_0x2d98eb),_0xee9975===_0x32250e(0x218)&&NotificationManager['send'](_0x32250e(0x1f8),_0x2d98eb),showToast(_0xee9975==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x32250e(0x185),!![]);}function validateAppointment(_0x2db1fa,_0xf48b89,_0x5f2892,_0x149b25,_0x159710){const _0x3c487=a2_0x5b4edd,[_0x2e3e27,_0x2dad03]=_0xf48b89[_0x3c487(0x246)](':')['map'](Number),[_0x464fa9,_0x31529d]=_0x5f2892['split'](':')[_0x3c487(0x272)](Number),_0x310909=_0x2e3e27*0x3c+_0x2dad03,_0x35ca6f=_0x464fa9*0x3c+_0x31529d,_0x2f6fbb=String(_0x159710);let _0x4e0a65=![],_0x3cb4de='';for(let _0x39db1c of sessions){if(_0x39db1c[_0x3c487(0x212)]!==_0x2db1fa)continue;if(_0x39db1c[_0x3c487(0x160)]===_0x3c487(0x1ef))continue;if(_0x149b25&&String(_0x39db1c['id'])===String(_0x149b25))continue;const [_0x3e1ca4,_0x5af5f8]=_0x39db1c[_0x3c487(0x1f9)][_0x3c487(0x246)](':')[_0x3c487(0x272)](Number),[_0x2727ec,_0xb1e664]=_0x39db1c['end'][_0x3c487(0x246)](':')[_0x3c487(0x272)](Number),_0x5cb7d9=_0x3e1ca4*0x3c+_0x5af5f8,_0x24383e=_0x2727ec*0x3c+_0xb1e664;if(Math[_0x3c487(0x1fc)](_0x310909,_0x5cb7d9)<Math[_0x3c487(0x1ec)](_0x35ca6f,_0x24383e)){if(_0x39db1c[_0x3c487(0x22a)]&&String(_0x39db1c[_0x3c487(0x22a)])===_0x2f6fbb)return{'valid':![],'msg':_0x3c487(0x173)+_0x39db1c[_0x3c487(0x26a)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4e0a65=!![],_0x3cb4de=_0x39db1c['client'];}}if(_0x4e0a65)return{'valid':!![],'warning':_0x3c487(0x297)+_0x3cb4de};return{'valid':!![]};}function saveSingleSession(_0x465db4){const _0x127f38=a2_0x5b4edd;if(editingId){const _0x59603d=sessions['findIndex'](_0x44852e=>_0x44852e['id']===editingId);if(_0x59603d!==-0x1)sessions[_0x59603d]=_0x465db4;}else sessions[_0x127f38(0x1ad)](_0x465db4);afterSaveAction([_0x465db4[_0x127f38(0x212)]]);}function createBatchSeries(_0x285116,_0x20c6d3,_0x1503ed){const _0x1b2cab=a2_0x5b4edd,_0x1c261e=generateId(),_0x2a46f1=[],_0x559b5a=[];let _0x30c455=0x0,_0x18b862=new Date(_0x20c6d3);for(let _0x56371f=0x0;_0x56371f<_0x1503ed;_0x56371f++){const _0x5b1e0c=getLocalDateStr(_0x18b862),_0x21b4ca=validateAppointment(_0x5b1e0c,_0x285116['start'],_0x285116[_0x1b2cab(0x167)],null,_0x285116[_0x1b2cab(0x22a)]);if(!_0x21b4ca[_0x1b2cab(0x186)])console[_0x1b2cab(0x1db)](_0x1b2cab(0x19f)+_0x5b1e0c+':\x20Client\x20already\x20booked'),_0x30c455++;else{const _0x4d10b6={..._0x285116,'id':generateId(),'dateStr':_0x5b1e0c,'seriesId':_0x1c261e};_0x559b5a['push'](_0x4d10b6),_0x2a46f1['push'](_0x5b1e0c);}_0x18b862[_0x1b2cab(0x24d)](_0x18b862[_0x1b2cab(0x195)]()+0x7);}if(_0x559b5a[_0x1b2cab(0x14c)]===0x0){showToast(_0x1b2cab(0x282),![]);return;}sessions[_0x1b2cab(0x1ad)](..._0x559b5a),lastUserActionTime=Date[_0x1b2cab(0x17f)]();let _0x5b714e='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x559b5a[_0x1b2cab(0x14c)];_0x30c455>0x0&&(_0x5b714e+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x30c455+')'),showToast(_0x5b714e,!![]),afterSaveAction(_0x2a46f1);}function updateSeriesBatch(_0x10c2b6,_0x108be7){const _0x578a29=a2_0x5b4edd,_0x5ea3bb=[],_0x4fc411=_0x108be7[_0x578a29(0x15d)];if(_0x10c2b6===_0x578a29(0x28e)){const _0x34be9d={..._0x108be7,'seriesId':null},_0x4776ff=sessions['findIndex'](_0x39f068=>_0x39f068['id']===_0x108be7['id']);if(_0x4776ff!==-0x1)sessions[_0x4776ff]=_0x34be9d;_0x5ea3bb[_0x578a29(0x1ad)](_0x34be9d['dateStr']);}else{if(_0x10c2b6===_0x578a29(0x174)){const _0x90ec54=_0x108be7[_0x578a29(0x212)];sessions[_0x578a29(0x1ee)]((_0x5f1878,_0x3eb590)=>{const _0x4557a1=_0x578a29;_0x5f1878[_0x4557a1(0x15d)]===_0x4fc411&&_0x5f1878[_0x4557a1(0x212)]>=_0x90ec54&&(sessions[_0x3eb590]={...sessions[_0x3eb590],'start':_0x108be7[_0x4557a1(0x1f9)],'end':_0x108be7['end'],'note':_0x108be7['note'],'client':_0x108be7[_0x4557a1(0x26a)],'clientId':_0x108be7[_0x4557a1(0x22a)]},_0x5ea3bb[_0x4557a1(0x1ad)](_0x5f1878[_0x4557a1(0x212)]));});}}afterSaveAction(_0x5ea3bb);}function tryDeleteSession(){const _0x3f1434=a2_0x5b4edd,_0x1c74d3=sessions[_0x3f1434(0x229)](_0x136f5e=>_0x136f5e['id']===editingId);if(!_0x1c74d3)return;_0x1c74d3['seriesId']?openActionSheet(_0x3f1434(0x1d6)):commitDelete('single',_0x1c74d3);}function commitDelete(_0x5336bb,_0x4850d0){const _0x252eb5=a2_0x5b4edd;lastUserActionTime=Date[_0x252eb5(0x17f)](),NotificationManager[_0x252eb5(0x1a3)](_0x252eb5(0x252),_0x4850d0);const _0x50f01a=[];if(_0x5336bb===_0x252eb5(0x28e))sessions=sessions['filter'](_0x2f505d=>_0x2f505d['id']!==_0x4850d0['id']),_0x50f01a[_0x252eb5(0x1ad)](_0x4850d0[_0x252eb5(0x212)]);else{if(_0x5336bb===_0x252eb5(0x174)){const _0x2b2692=_0x4850d0[_0x252eb5(0x212)],_0x4f8119=_0x4850d0[_0x252eb5(0x15d)];sessions['forEach'](_0x30b650=>{const _0x3451aa=_0x252eb5;_0x30b650[_0x3451aa(0x15d)]===_0x4f8119&&_0x30b650[_0x3451aa(0x212)]>=_0x2b2692&&_0x50f01a['push'](_0x30b650[_0x3451aa(0x212)]);}),sessions=sessions[_0x252eb5(0x1e9)](_0x37f077=>!(_0x37f077[_0x252eb5(0x15d)]===_0x4f8119&&_0x37f077['dateStr']>=_0x2b2692));}}afterSaveAction(_0x50f01a);}function afterSaveAction(_0x426378){const _0x4dd20a=a2_0x5b4edd;DataManager[_0x4dd20a(0x22f)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x426378)[_0x4dd20a(0x1da)](()=>console[_0x4dd20a(0x1db)]('Batch\x20Sync\x20OK'))['catch'](_0x5a8f83=>showToast(_0x4dd20a(0x1e7),![]));}const NotificationManager={'formatDate'(_0x58a400){const _0x5d4561=a2_0x5b4edd,_0x1597fb=new Date(_0x58a400),_0x3f4f5e={'weekday':_0x5d4561(0x1eb),'day':_0x5d4561(0x1f2),'month':_0x5d4561(0x1eb)};let _0x8752ac=_0x1597fb['toLocaleDateString'](_0x5d4561(0x2c3),_0x3f4f5e);return _0x8752ac[_0x5d4561(0x28f)](0x0)[_0x5d4561(0x295)]()+_0x8752ac[_0x5d4561(0x28b)](0x1);},'getText'(_0x5eb6b8,_0x1a8045){const _0x5ac24e=a2_0x5b4edd,_0x4342ec=this['formatDate'](_0x1a8045['dateStr']);switch(_0x5eb6b8){case'create':return _0x5ac24e(0x209)+(_0x5ac24e(0x27f)+_0x4342ec+'\x0a')+(_0x5ac24e(0x2b9)+_0x1a8045[_0x5ac24e(0x1f9)]+_0x5ac24e(0x269)+_0x1a8045[_0x5ac24e(0x167)]+'\x0a\x0a')+_0x5ac24e(0x179);case _0x5ac24e(0x1af):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x5ac24e(0x19c)+_0x1a8045[_0x5ac24e(0x1f9)]+'\x20‚Äî\x20'+_0x1a8045[_0x5ac24e(0x167)]+_0x5ac24e(0x279))+(_0x5ac24e(0x27f)+_0x4342ec);case _0x5ac24e(0x252):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+(_0x5ac24e(0x15f)+_0x4342ec+'\x20('+_0x1a8045[_0x5ac24e(0x1f9)]+_0x5ac24e(0x1f3));case _0x5ac24e(0x1f8):return _0x5ac24e(0x1ca)+_0x5ac24e(0x281)+_0x5ac24e(0x1a6);default:return'';}},async 'send'(_0x1f0edb,_0x53959f){const _0x555276=a2_0x5b4edd;console['log'](_0x555276(0x2be),_0x1f0edb,_0x53959f);if(!_0x53959f){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x1009e7=String(_0x53959f[_0x555276(0x22a)]);console[_0x555276(0x1db)](_0x555276(0x191),_0x1009e7);if(!_0x53959f[_0x555276(0x22a)]||_0x1009e7===_0x555276(0x19b)||_0x1009e7===_0x555276(0x1bf)){console['error'](_0x555276(0x164));if(_0x53959f[_0x555276(0x26a)]){const _0x59c377=clients[_0x555276(0x229)](_0x216201=>_0x216201['name']===_0x53959f[_0x555276(0x26a)]);if(_0x59c377)return console['log'](_0x555276(0x1b3),_0x59c377['id']),this[_0x555276(0x1a3)](_0x1f0edb,{..._0x53959f,'clientId':_0x59c377['id']});}return;}if(_0x1009e7[_0x555276(0x14c)]<0x5){console[_0x555276(0x1b5)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1009e7);return;}const _0x31f974=this['getText'](_0x1f0edb,_0x53959f);if(!_0x31f974){console['error'](_0x555276(0x1a4));return;}console[_0x555276(0x1db)](_0x555276(0x27c)+_0x1009e7+'...'),DataManager['fetchFromServer'](_0x555276(0x1b2),{'chatId':_0x1009e7,'text':_0x31f974})[_0x555276(0x1da)](_0x1b96c2=>console[_0x555276(0x1db)](_0x555276(0x1ac),_0x1b96c2))['catch'](_0x394823=>console[_0x555276(0x166)](_0x555276(0x20d),_0x394823));}};function getLocalDateStr(_0x537dd5){const _0x407cef=a2_0x5b4edd,_0x56a3bb=_0x537dd5[_0x407cef(0x14f)](),_0x426c35=String(_0x537dd5[_0x407cef(0x276)]()+0x1)[_0x407cef(0x155)](0x2,'0'),_0x49da5b=String(_0x537dd5[_0x407cef(0x195)]())[_0x407cef(0x155)](0x2,'0');return _0x56a3bb+'-'+_0x426c35+'-'+_0x49da5b;}function getDateStr(_0x474b48){const _0x2cf667=a2_0x5b4edd,_0x1d732c=new Date();return _0x1d732c[_0x2cf667(0x24d)](_0x1d732c[_0x2cf667(0x195)]()+_0x474b48),getLocalDateStr(_0x1d732c);}function getStartOfWeek(_0x5b5a55){const _0x1728f4=a2_0x5b4edd,_0x2af41b=new Date(_0x5b5a55),_0x529cfd=_0x2af41b[_0x1728f4(0x14b)](),_0x101fda=_0x2af41b['getDate']()-_0x529cfd+(_0x529cfd===0x0?-0x6:0x1);return _0x2af41b[_0x1728f4(0x24d)](_0x101fda),_0x2af41b[_0x1728f4(0x16a)](0x0,0x0,0x0,0x0),_0x2af41b;}function hexToRgba(_0x58bf50,_0x5079e8){const _0x235069=a2_0x5b4edd;if(!_0x58bf50)return _0x235069(0x15a);let _0x4468d4=0x0,_0xc4d3dc=0x0,_0x51eb59=0x0;if(_0x58bf50[_0x235069(0x14c)]===0x4)_0x4468d4='0x'+_0x58bf50[0x1]+_0x58bf50[0x1],_0xc4d3dc='0x'+_0x58bf50[0x2]+_0x58bf50[0x2],_0x51eb59='0x'+_0x58bf50[0x3]+_0x58bf50[0x3];else _0x58bf50[_0x235069(0x14c)]===0x7&&(_0x4468d4='0x'+_0x58bf50[0x1]+_0x58bf50[0x2],_0xc4d3dc='0x'+_0x58bf50[0x3]+_0x58bf50[0x4],_0x51eb59='0x'+_0x58bf50[0x5]+_0x58bf50[0x6]);return'rgba('+ +_0x4468d4+',\x20'+ +_0xc4d3dc+',\x20'+ +_0x51eb59+',\x20'+_0x5079e8+')';}function renderTimeColumn(){const _0x599611=a2_0x5b4edd,_0x4a1a9c=document[_0x599611(0x17b)]('timeColumn'),_0x135385=document[_0x599611(0x17b)](_0x599611(0x241));_0x4a1a9c[_0x599611(0x21b)]='',_0x4a1a9c[_0x599611(0x14d)](_0x135385);for(let _0x448731=0x0;_0x448731<0x18;_0x448731++){const _0x108eec=document['createElement'](_0x599611(0x240));_0x108eec[_0x599611(0x153)]='time-label';if(_0x448731>0x0)_0x108eec[_0x599611(0x21b)]=_0x599611(0x187)+String(_0x448731)[_0x599611(0x155)](0x2,'0')+':00</span>';_0x4a1a9c['appendChild'](_0x108eec);}}function renderDayRange(_0x52d5ec,_0x5304fb){const _0x3a3d0e=a2_0x5b4edd,_0x29be05=document[_0x3a3d0e(0x17b)](_0x3a3d0e(0x1ba)),_0x2672a2=document[_0x3a3d0e(0x17b)]('gridColumns'),_0x2c2716=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x11f06f=new Date();_0x11f06f[_0x3a3d0e(0x16a)](0x0,0x0,0x0,0x0);const _0x4c9bcd=getLocalDateStr(new Date());for(let _0x4056f7=_0x52d5ec;_0x4056f7<=_0x5304fb;_0x4056f7++){const _0x54959b=new Date(_0x11f06f);_0x54959b[_0x3a3d0e(0x24d)](_0x54959b['getDate']()+_0x4056f7);const _0x2087cf=getLocalDateStr(_0x54959b);let _0x4f8ece=_0x54959b[_0x3a3d0e(0x14b)]()-0x1;if(_0x4f8ece===-0x1)_0x4f8ece=0x6;const _0x5ce817=_0x2087cf===_0x4c9bcd,_0x30568f=document[_0x3a3d0e(0x285)](_0x3a3d0e(0x240));_0x30568f[_0x3a3d0e(0x153)]=_0x3a3d0e(0x152)+(_0x5ce817?_0x3a3d0e(0x17a):''),_0x30568f['id']=_0x3a3d0e(0x1f6)+_0x2087cf,_0x30568f[_0x3a3d0e(0x261)](_0x3a3d0e(0x14a),_0x2087cf),_0x30568f[_0x3a3d0e(0x21b)]=_0x3a3d0e(0x29b)+_0x2c2716[_0x4f8ece]+'</div><div\x20class=\x22dch-num\x22>'+_0x54959b[_0x3a3d0e(0x195)]()+_0x3a3d0e(0x1b0)+_0x2087cf+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x30568f[_0x3a3d0e(0x1a5)]=()=>openDayOptions(_0x2087cf,_0x2c2716[_0x4f8ece]+'\x20'+_0x54959b[_0x3a3d0e(0x195)]()),_0x29be05[_0x3a3d0e(0x14d)](_0x30568f);const _0x56d402=document[_0x3a3d0e(0x285)]('div');_0x56d402[_0x3a3d0e(0x153)]=_0x3a3d0e(0x26d)+(_0x5ce817?_0x3a3d0e(0x17a):''),_0x56d402[_0x3a3d0e(0x261)](_0x3a3d0e(0x14a),_0x2087cf),_0x56d402[_0x3a3d0e(0x261)]('data-day-idx',_0x4f8ece),renderEventsForColumn(_0x56d402,_0x2087cf,_0x4f8ece),attachLongPressHandler(_0x56d402,_0x54959b),_0x2672a2['appendChild'](_0x56d402),updateDayStats(_0x2087cf);}}function reRenderBlocks(){const _0x4a8854=a2_0x5b4edd;document['querySelectorAll'](_0x4a8854(0x2a7))[_0x4a8854(0x1ee)](_0xaac19b=>{const _0x49b751=_0x4a8854;_0xaac19b[_0x49b751(0x178)](_0x49b751(0x1f7))['forEach'](_0x3ac6b8=>_0x3ac6b8[_0x49b751(0x21f)]());const _0x5b7c48=_0xaac19b[_0x49b751(0x27a)]('data-date'),_0x4c7254=parseInt(_0xaac19b[_0x49b751(0x27a)](_0x49b751(0x175))),_0x5f1370=Math[_0x49b751(0x193)](_0xaac19b[_0x49b751(0x154)]);(availabilityPattern[_0x4c7254]||[])[_0x49b751(0x1ee)](_0x92d3d9=>{const _0x3de94b=_0x49b751,_0xa01c44=document['createElement']('div');_0xa01c44['className']=_0x3de94b(0x26b);const _0x33046d=_0x92d3d9*GRID_H;_0xa01c44[_0x3de94b(0x1aa)][_0x3de94b(0x216)]=_0x33046d+'px',_0xa01c44[_0x3de94b(0x1aa)][_0x3de94b(0x243)]='-'+_0x5f1370+_0x3de94b(0x2af)+_0x33046d+'px',_0xaac19b[_0x3de94b(0x14d)](_0xa01c44);});if(specialRanges&&specialRanges[_0x49b751(0x14c)]>0x0){const _0x85a3e8=new Date(_0x5b7c48+'T00:00:00')['getTime'](),_0x401d76=new Date(_0x5b7c48+_0x49b751(0x29c))[_0x49b751(0x224)]();specialRanges['forEach'](_0x5bd622=>{const _0x19f0fc=_0x49b751,_0x1deab5=new Date(_0x5bd622[_0x19f0fc(0x1f9)])[_0x19f0fc(0x224)](),_0x4e90c7=new Date(_0x5bd622[_0x19f0fc(0x167)])[_0x19f0fc(0x224)](),_0x1098eb=Math[_0x19f0fc(0x1fc)](_0x85a3e8,_0x1deab5),_0x56a2a3=Math['min'](_0x401d76,_0x4e90c7);if(_0x1098eb<_0x56a2a3){if(_0x1098eb<=_0x85a3e8&&_0x56a2a3>=_0x401d76-0xea60){if(!_0xaac19b[_0x19f0fc(0x2a1)]('.day-off-overlay')){const _0xb00131=document[_0x19f0fc(0x285)]('div');_0xb00131[_0x19f0fc(0x153)]=_0x19f0fc(0x1e1),_0xb00131[_0x19f0fc(0x1aa)][_0x19f0fc(0x243)]='-'+_0x5f1370+_0x19f0fc(0x256),_0xaac19b['appendChild'](_0xb00131);}}else{const _0x327f75=(_0x1098eb-_0x85a3e8)/0x36ee80*GRID_H,_0xbc1e09=(_0x56a2a3-_0x1098eb)/0x36ee80*GRID_H,_0x4652e9=document[_0x19f0fc(0x285)](_0x19f0fc(0x240));_0x4652e9['className']=_0x19f0fc(0x2c2),_0x4652e9[_0x19f0fc(0x1aa)][_0x19f0fc(0x216)]=_0x327f75+'px',_0x4652e9[_0x19f0fc(0x1aa)][_0x19f0fc(0x1fa)]=_0xbc1e09+'px',_0x4652e9[_0x19f0fc(0x1aa)][_0x19f0fc(0x243)]='-'+_0x5f1370+'px\x20-'+_0x327f75+'px',_0xaac19b[_0x19f0fc(0x14d)](_0x4652e9);}}});}if(dateExceptions[_0x5b7c48]==='off'){if(!_0xaac19b[_0x49b751(0x2a1)](_0x49b751(0x15b))){const _0x5cb612=document[_0x49b751(0x285)](_0x49b751(0x240));_0x5cb612['className']=_0x49b751(0x1e1),_0x5cb612['style'][_0x49b751(0x243)]='-'+_0x5f1370+_0x49b751(0x256),_0xaac19b[_0x49b751(0x14d)](_0x5cb612);}}renderEventsForColumn(_0xaac19b,_0x5b7c48,_0x4c7254),updateDayStats(_0x5b7c48);});}function updateAllDayStats(){const _0x429ef5=a2_0x5b4edd;document[_0x429ef5(0x178)](_0x429ef5(0x21a))['forEach'](_0x559f60=>{const _0x17c2e9=_0x429ef5;updateDayStats(_0x559f60[_0x17c2e9(0x27a)](_0x17c2e9(0x14a)));});}function updateDayStats(_0x20f19e){const _0x38b230=a2_0x5b4edd,_0x1880c6=document[_0x38b230(0x17b)](_0x38b230(0x1b9)+_0x20f19e);if(!_0x1880c6)return;const _0x3bf166=new Date(_0x20f19e);let _0x36559b=_0x3bf166[_0x38b230(0x14b)]()-0x1;if(_0x36559b===-0x1)_0x36559b=0x6;if(dateExceptions[_0x20f19e]===_0x38b230(0x24f)){_0x1880c6[_0x38b230(0x1aa)][_0x38b230(0x22e)]='none';return;}const _0x53796b=availabilityPattern[_0x36559b]||[],_0x23ba64=0x18-_0x53796b[_0x38b230(0x14c)],_0x46d76f=_0x23ba64*0x3c,_0x3e50da=sessions[_0x38b230(0x1e9)](_0x5492e7=>_0x5492e7[_0x38b230(0x212)]===_0x20f19e&&_0x5492e7[_0x38b230(0x160)]!==_0x38b230(0x1ef));if(_0x3e50da[_0x38b230(0x14c)]===0x0){_0x1880c6[_0x38b230(0x1aa)]['display']=_0x38b230(0x22b);return;}let _0x27c7af=_0x3e50da['map'](_0x5a2267=>{const _0x38981a=_0x38b230,[_0x17ce1e,_0x5c476c]=_0x5a2267[_0x38981a(0x1f9)][_0x38981a(0x246)](':')[_0x38981a(0x272)](Number),[_0x437450,_0x1c8e12]=_0x5a2267[_0x38981a(0x167)][_0x38981a(0x246)](':')['map'](Number);return[_0x17ce1e*0x3c+_0x5c476c,_0x437450*0x3c+_0x1c8e12];});_0x27c7af[_0x38b230(0x217)]((_0x21b405,_0x58a3ac)=>_0x21b405[0x0]-_0x58a3ac[0x0]);let _0x37e59b=[];if(_0x27c7af[_0x38b230(0x14c)]>0x0){let _0x2dbc60=_0x27c7af[0x0];for(let _0x40da1b=0x1;_0x40da1b<_0x27c7af['length'];_0x40da1b++){_0x27c7af[_0x40da1b][0x0]<_0x2dbc60[0x1]?_0x2dbc60[0x1]=Math[_0x38b230(0x1fc)](_0x2dbc60[0x1],_0x27c7af[_0x40da1b][0x1]):(_0x37e59b[_0x38b230(0x1ad)](_0x2dbc60),_0x2dbc60=_0x27c7af[_0x40da1b]);}_0x37e59b[_0x38b230(0x1ad)](_0x2dbc60);}let _0x422abc=0x0;_0x37e59b[_0x38b230(0x1ee)](_0xeaa6b2=>_0x422abc+=_0xeaa6b2[0x1]-_0xeaa6b2[0x0]),_0x1880c6[_0x38b230(0x1aa)][_0x38b230(0x22e)]='flex';const _0x2bd5b7=_0x1880c6[_0x38b230(0x2a1)](_0x38b230(0x291));if(_0x46d76f===0x0){_0x2bd5b7[_0x38b230(0x1aa)][_0x38b230(0x1e4)]=_0x38b230(0x219),_0x2bd5b7['style']['background']=_0x38b230(0x1d2);return;}const _0x4c3cdc=_0x422abc/_0x46d76f*0x64;console[_0x38b230(0x1db)]('['+_0x20f19e+_0x38b230(0x21d)+_0x23ba64+_0x38b230(0x1f4)+_0x422abc+_0x38b230(0x1a8)+_0x4c3cdc['toFixed'](0x1)+'%'),_0x4c3cdc>0x64?(_0x2bd5b7[_0x38b230(0x1aa)][_0x38b230(0x1e4)]='100%',_0x2bd5b7[_0x38b230(0x1aa)][_0x38b230(0x2c0)]='var(--acc-red)'):(_0x2bd5b7['style']['width']=_0x4c3cdc+'%',_0x2bd5b7[_0x38b230(0x1aa)][_0x38b230(0x2c0)]=_0x38b230(0x15c));}function renderEventsForColumn(_0x1458d6,_0x23ed2b,_0x550ec9){const _0x4c5b3f=a2_0x5b4edd,_0x44613b=sessions[_0x4c5b3f(0x1e9)](_0x1c8071=>_0x1c8071['dateStr']===_0x23ed2b),_0x53a0c4=_0x44613b['map'](_0x1abb68=>{const _0x2d2d8b=_0x4c5b3f,[_0x18366b,_0x536ce0]=_0x1abb68[_0x2d2d8b(0x1f9)][_0x2d2d8b(0x246)](':')['map'](Number),[_0xbe1b3c,_0x4d0b3e]=_0x1abb68[_0x2d2d8b(0x167)]['split'](':')['map'](Number);return{'data':_0x1abb68,'start':_0x18366b*0x3c+_0x536ce0,'end':_0xbe1b3c*0x3c+_0x4d0b3e,'colIndex':0x0};});_0x53a0c4[_0x4c5b3f(0x217)]((_0x507286,_0x44d878)=>{const _0x4e9549=_0x4c5b3f;if(_0x507286[_0x4e9549(0x1f9)]!==_0x44d878[_0x4e9549(0x1f9)])return _0x507286[_0x4e9549(0x1f9)]-_0x44d878['start'];return _0x44d878[_0x4e9549(0x167)]-_0x44d878['start']-(_0x507286[_0x4e9549(0x167)]-_0x507286[_0x4e9549(0x1f9)]);});const _0x2ebf2c=[];_0x53a0c4[_0x4c5b3f(0x1ee)](_0x226092=>{const _0x43ec59=_0x4c5b3f;let _0x148402=![];for(let _0x4ad880=0x0;_0x4ad880<_0x2ebf2c[_0x43ec59(0x14c)];_0x4ad880++){const _0x1608ad=_0x2ebf2c[_0x4ad880],_0x26f6a9=_0x1608ad[_0x1608ad[_0x43ec59(0x14c)]-0x1];if(_0x226092['start']>=_0x26f6a9[_0x43ec59(0x167)]){_0x1608ad[_0x43ec59(0x1ad)](_0x226092),_0x226092[_0x43ec59(0x270)]=_0x4ad880,_0x148402=!![];break;}}!_0x148402&&(_0x2ebf2c['push']([_0x226092]),_0x226092[_0x43ec59(0x270)]=_0x2ebf2c[_0x43ec59(0x14c)]-0x1);}),_0x53a0c4[_0x4c5b3f(0x1ee)](_0xe8ff45=>{const _0x215669=_0x4c5b3f;let _0x32847e=0x0;_0x53a0c4[_0x215669(0x1ee)](_0x19099a=>{const _0x206197=_0x215669;if(Math[_0x206197(0x1fc)](_0xe8ff45[_0x206197(0x1f9)],_0x19099a['start'])<Math[_0x206197(0x1ec)](_0xe8ff45[_0x206197(0x167)],_0x19099a[_0x206197(0x167)])){if(_0x19099a[_0x206197(0x270)]>_0x32847e)_0x32847e=_0x19099a[_0x206197(0x270)];}});const _0x5b255c=_0x32847e+0x1,_0x3ff87d=0x64/_0x5b255c,_0x10dc5a=_0xe8ff45[_0x215669(0x270)]*_0x3ff87d,_0x43f7db=createEventEl(_0xe8ff45[_0x215669(0x1c7)]);_0x43f7db[_0x215669(0x1aa)][_0x215669(0x1e4)]=_0x215669(0x220)+_0x3ff87d+_0x215669(0x1fd),_0x43f7db[_0x215669(0x1aa)][_0x215669(0x1dc)]=_0x215669(0x220)+_0x10dc5a+_0x215669(0x266),_0x43f7db['style'][_0x215669(0x232)]=0xa+_0xe8ff45[_0x215669(0x270)],_0x3ff87d<0x55&&_0x43f7db[_0x215669(0x1ff)][_0x215669(0x198)](_0x215669(0x2a2)),_0x1458d6[_0x215669(0x14d)](_0x43f7db);});}function createEventEl(_0x4ef36b){const _0x9d42ff=a2_0x5b4edd,[_0x5018d8,_0x70134e]=_0x4ef36b[_0x9d42ff(0x1f9)][_0x9d42ff(0x246)](':')[_0x9d42ff(0x272)](Number),[_0x27a768,_0x452feb]=_0x4ef36b[_0x9d42ff(0x167)][_0x9d42ff(0x246)](':')[_0x9d42ff(0x272)](Number),_0x426b49=(_0x5018d8*0x3c+_0x70134e)/0x3c*GRID_H,_0x3bc745=(_0x27a768*0x3c+_0x452feb-(_0x5018d8*0x3c+_0x70134e))/0x3c*GRID_H,_0x3871eb=document['createElement'](_0x9d42ff(0x240)),_0x59822b=_0x4ef36b[_0x9d42ff(0x160)]===_0x9d42ff(0x218)?_0x9d42ff(0x292):'';_0x3871eb['className']=_0x9d42ff(0x16f)+_0x59822b,_0x3871eb['style'][_0x9d42ff(0x216)]=_0x426b49+'px',_0x3871eb['style'][_0x9d42ff(0x1fa)]=Math[_0x9d42ff(0x1fc)](_0x3bc745,0x14)+'px';const _0xba8381=clients[_0x9d42ff(0x229)](_0x4020cc=>_0x4ef36b[_0x9d42ff(0x22a)]&&String(_0x4020cc['id'])===String(_0x4ef36b[_0x9d42ff(0x22a)])||_0x4020cc[_0x9d42ff(0x25e)]===_0x4ef36b[_0x9d42ff(0x26a)]),_0x49bfc7=_0xba8381?_0xba8381[_0x9d42ff(0x251)]:_0x9d42ff(0x1fb);_0x3871eb[_0x9d42ff(0x1aa)][_0x9d42ff(0x22c)]=_0x49bfc7,_0x3871eb[_0x9d42ff(0x1aa)][_0x9d42ff(0x1d8)]=hexToRgba(_0x49bfc7,0.85);let _0x49385a='<div\x20class=\x22ev-title\x22>'+_0x4ef36b[_0x9d42ff(0x26a)]+'</div><div\x20class=\x22ev-time\x22>'+_0x4ef36b[_0x9d42ff(0x1f9)]+_0x9d42ff(0x29a)+_0x4ef36b[_0x9d42ff(0x167)]+_0x9d42ff(0x156);return _0x4ef36b[_0x9d42ff(0x15d)]&&(_0x49385a+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x4ef36b[_0x9d42ff(0x160)]===_0x9d42ff(0x218)&&(_0x49385a+=_0x9d42ff(0x278)),_0x3871eb[_0x9d42ff(0x21b)]=_0x49385a,_0x3871eb['onclick']=_0x2358ea=>{_0x2358ea['stopPropagation'](),openEdit(_0x4ef36b);},_0x3871eb;}function attachLongPressHandler(_0x4d28c2,_0x2b00bf){const _0x1fcceb=a2_0x5b4edd;let _0x408903=0x0,_0x198078=null;const _0x59bba2=_0x24820d=>{const _0x5ef023=a2_0x2740;if(_0x24820d['target'][_0x5ef023(0x2a3)]('.event-card'))return;isScrolling=![],_0x408903=_0x24820d[_0x5ef023(0x28c)]?_0x24820d[_0x5ef023(0x28c)][0x0][_0x5ef023(0x2bb)]:_0x24820d[_0x5ef023(0x2bb)],_0x198078=setTimeout(()=>{const _0x194d8b=_0x5ef023;if(!isScrolling){navigator[_0x194d8b(0x176)]?.(0x32);const _0x179550=_0x4d28c2[_0x194d8b(0x258)](),_0x273455=Math[_0x194d8b(0x1a7)]((_0x408903-_0x179550[_0x194d8b(0x216)])/GRID_H);_0x2b00bf['setHours'](_0x273455,0x0),openAddSession(_0x2b00bf);}},0x1f4);},_0x2046df=()=>{isScrolling=!![],clearTimeout(_0x198078);},_0x53ab02=()=>{clearTimeout(_0x198078);};_0x4d28c2['addEventListener']('touchstart',_0x59bba2,{'passive':!![]}),_0x4d28c2[_0x1fcceb(0x1e8)]('touchmove',_0x2046df,{'passive':!![]}),_0x4d28c2[_0x1fcceb(0x1e8)](_0x1fcceb(0x274),_0x53ab02),_0x4d28c2[_0x1fcceb(0x1e8)]('mousedown',_0x59bba2),_0x4d28c2['addEventListener'](_0x1fcceb(0x23c),_0x2046df),_0x4d28c2[_0x1fcceb(0x1e8)](_0x1fcceb(0x205),_0x53ab02);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x2f6a8b=a2_0x5b4edd,_0x4d94b2=document[_0x2f6a8b(0x17b)](_0x2f6a8b(0x1a1)),_0x4e2a1a=_0x4d94b2[_0x2f6a8b(0x2b6)],_0x1cec90=_0x4d94b2['scrollWidth'],_0xc4d0b=_0x4d94b2[_0x2f6a8b(0x2ab)];if(_0x1cec90-(_0x4e2a1a+_0xc4d0b)<0x12c){const _0x3d1eeb=endOffset;endOffset+=0xe,renderDayRange(_0x3d1eeb+0x1,endOffset),reRenderBlocks();}if(_0x4e2a1a<0x12c){const _0x36d787=startOffset;startOffset-=0xe,prependDays(startOffset,_0x36d787-0x1),_0x4d94b2['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5e90cc,_0x4246b5){const _0x497be4=a2_0x5b4edd,_0x2d8cf5=document[_0x497be4(0x17b)](_0x497be4(0x1ba)),_0xf5606f=document[_0x497be4(0x17b)](_0x497be4(0x21e)),_0x39d9d2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e2d2b=new Date();_0x1e2d2b[_0x497be4(0x16a)](0x0,0x0,0x0,0x0);const _0x405f0b=getLocalDateStr(new Date()),_0x1e0faa=document[_0x497be4(0x27e)](),_0x3c980e=document['createDocumentFragment']();for(let _0x2996fd=_0x5e90cc;_0x2996fd<=_0x4246b5;_0x2996fd++){const _0x499557=new Date(_0x1e2d2b);_0x499557[_0x497be4(0x24d)](_0x499557[_0x497be4(0x195)]()+_0x2996fd);const _0x433314=getLocalDateStr(_0x499557);let _0x1a6a6c=_0x499557['getDay']()-0x1;if(_0x1a6a6c===-0x1)_0x1a6a6c=0x6;const _0x30a5c=_0x433314===_0x405f0b,_0x45a791=document[_0x497be4(0x285)](_0x497be4(0x240));_0x45a791['className']=_0x497be4(0x152)+(_0x30a5c?'today':''),_0x45a791['id']=_0x497be4(0x1f6)+_0x433314,_0x45a791['setAttribute']('data-date',_0x433314),_0x45a791[_0x497be4(0x21b)]='<div\x20class=\x22dch-day\x22>'+_0x39d9d2[_0x1a6a6c]+_0x497be4(0x250)+_0x499557[_0x497be4(0x195)]()+_0x497be4(0x1b0)+_0x433314+_0x497be4(0x16d),_0x45a791[_0x497be4(0x1a5)]=()=>openDayOptions(_0x433314,_0x39d9d2[_0x1a6a6c]+'\x20'+_0x499557[_0x497be4(0x195)]()),_0x1e0faa[_0x497be4(0x14d)](_0x45a791);const _0x2831bb=document['createElement'](_0x497be4(0x240));_0x2831bb[_0x497be4(0x153)]='day-column\x20'+(_0x30a5c?_0x497be4(0x17a):''),_0x2831bb['setAttribute'](_0x497be4(0x14a),_0x433314),_0x2831bb[_0x497be4(0x261)]('data-day-idx',_0x1a6a6c),renderEventsForColumn(_0x2831bb,_0x433314,_0x1a6a6c),attachLongPressHandler(_0x2831bb,_0x499557),_0x3c980e['appendChild'](_0x2831bb),updateDayStats(_0x433314);}_0x2d8cf5[_0x497be4(0x2a9)](_0x1e0faa,_0x2d8cf5[_0x497be4(0x259)]),_0xf5606f[_0x497be4(0x2a9)](_0x3c980e,_0xf5606f[_0x497be4(0x2a1)]('.day-column'));}function validateAppointment(_0x317e2c,_0x500fb2,_0x53c4ef,_0x2f7efa,_0x2022aa){const _0x9f3fe0=a2_0x5b4edd,[_0xa67f58,_0x23b88d]=_0x500fb2[_0x9f3fe0(0x246)](':')[_0x9f3fe0(0x272)](Number),[_0x142bbb,_0x483a76]=_0x53c4ef[_0x9f3fe0(0x246)](':')['map'](Number),_0x595ec9=_0xa67f58*0x3c+_0x23b88d,_0x14e7c8=_0x142bbb*0x3c+_0x483a76,_0x327e7f=String(_0x2022aa);let _0x2b9e21=![],_0x28f4ed='';for(let _0x1d72bd of sessions){if(_0x1d72bd[_0x9f3fe0(0x212)]!==_0x317e2c)continue;if(_0x1d72bd[_0x9f3fe0(0x160)]===_0x9f3fe0(0x1ef))continue;if(_0x2f7efa&&String(_0x1d72bd['id'])===String(_0x2f7efa))continue;const [_0x3b54ba,_0x193e86]=_0x1d72bd[_0x9f3fe0(0x1f9)][_0x9f3fe0(0x246)](':')[_0x9f3fe0(0x272)](Number),[_0x4de455,_0x2eb55b]=_0x1d72bd['end'][_0x9f3fe0(0x246)](':')[_0x9f3fe0(0x272)](Number),_0x57bc7a=_0x3b54ba*0x3c+_0x193e86,_0x3f9adb=_0x4de455*0x3c+_0x2eb55b;if(Math[_0x9f3fe0(0x1fc)](_0x595ec9,_0x57bc7a)<Math[_0x9f3fe0(0x1ec)](_0x14e7c8,_0x3f9adb)){if(_0x1d72bd['clientId']&&String(_0x1d72bd[_0x9f3fe0(0x22a)])===_0x327e7f)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1d72bd[_0x9f3fe0(0x26a)]+_0x9f3fe0(0x1e6)};_0x2b9e21=!![],_0x28f4ed=_0x1d72bd['client'];}}if(_0x2b9e21)return{'valid':!![],'warning':_0x9f3fe0(0x297)+_0x28f4ed};return{'valid':!![]};}function updateDateDisplay(){const _0x29fa5d=a2_0x5b4edd,_0x180a88=document[_0x29fa5d(0x17b)](_0x29fa5d(0x18d))[_0x29fa5d(0x221)],_0x172669=document[_0x29fa5d(0x17b)](_0x29fa5d(0x24c));if(!_0x180a88){_0x172669[_0x29fa5d(0x194)]='';return;}const [_0x413e65,_0x4b9f72,_0x50730d]=_0x180a88[_0x29fa5d(0x246)]('-')[_0x29fa5d(0x272)](Number),_0x3ac124=new Date(_0x413e65,_0x4b9f72-0x1,_0x50730d),_0x41d702={'weekday':_0x29fa5d(0x1eb),'day':_0x29fa5d(0x1f2),'month':_0x29fa5d(0x1eb),'year':_0x29fa5d(0x1f2)};let _0x1aac7b=_0x3ac124[_0x29fa5d(0x23d)](_0x29fa5d(0x2c3),_0x41d702);_0x1aac7b=_0x1aac7b[_0x29fa5d(0x28f)](0x0)[_0x29fa5d(0x295)]()+_0x1aac7b[_0x29fa5d(0x28b)](0x1),_0x172669[_0x29fa5d(0x194)]=_0x1aac7b;}function autoSetEndTime(){const _0x577b9e=a2_0x5b4edd,_0x1f04e8=document['getElementById'](_0x577b9e(0x1d7))[_0x577b9e(0x221)];if(!_0x1f04e8)return;const [_0x33adc8,_0x5c3b2e]=_0x1f04e8[_0x577b9e(0x246)](':')[_0x577b9e(0x272)](Number);let _0x26e66f=_0x33adc8+0x1;if(_0x26e66f>0x17)_0x26e66f=0x0;const _0x2f87e9=String(_0x26e66f)['padStart'](0x2,'0')+':'+String(_0x5c3b2e)[_0x577b9e(0x155)](0x2,'0');document[_0x577b9e(0x17b)](_0x577b9e(0x16c))[_0x577b9e(0x221)]=_0x2f87e9;}function populateClientSelect(){const _0x484d4f=a2_0x5b4edd,_0x1bc797=document['getElementById'](_0x484d4f(0x242));_0x1bc797[_0x484d4f(0x21b)]='';if(clients[_0x484d4f(0x14c)]===0x0){const _0x56edab=document[_0x484d4f(0x285)]('option');_0x56edab[_0x484d4f(0x1d9)]=_0x484d4f(0x2bd),_0x1bc797['appendChild'](_0x56edab);return;}clients[_0x484d4f(0x1ee)](_0x159a7b=>{const _0x55e23e=_0x484d4f,_0x2610ab=document[_0x55e23e(0x285)](_0x55e23e(0x277));_0x2610ab[_0x55e23e(0x221)]=_0x159a7b[_0x55e23e(0x25e)],_0x2610ab[_0x55e23e(0x194)]=_0x159a7b['name'],_0x1bc797[_0x55e23e(0x14d)](_0x2610ab);});}function openActionSheet(_0x27f70c){const _0x117703=a2_0x5b4edd,_0x2a14a7=document[_0x117703(0x17b)](_0x117703(0x181)),_0x220281=document[_0x117703(0x17b)](_0x117703(0x14e)),_0xf1c803=document[_0x117703(0x17b)](_0x117703(0x1e5)),_0x51b1fa=document[_0x117703(0x17b)]('asBtnOne'),_0x595fff=document[_0x117703(0x17b)](_0x117703(0x1d1));_0x220281[_0x117703(0x1ff)][_0x117703(0x198)]('active'),_0x2a14a7['classList'][_0x117703(0x198)](_0x117703(0x15e));if(_0x27f70c===_0x117703(0x244))_0xf1c803['textContent']=_0x117703(0x290),_0x51b1fa[_0x117703(0x194)]=_0x117703(0x213),_0x51b1fa[_0x117703(0x1a5)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x595fff[_0x117703(0x194)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x595fff[_0x117703(0x1a5)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x27f70c===_0x117703(0x1d6)&&(_0xf1c803[_0x117703(0x194)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x51b1fa[_0x117703(0x194)]=_0x117703(0x213),_0x51b1fa['className']='as-button\x20danger',_0x51b1fa[_0x117703(0x1a5)]=()=>{const _0x4bbe94=_0x117703;closeActionSheet(),commitDelete(_0x4bbe94(0x28e),sessions[_0x4bbe94(0x229)](_0xff22ad=>_0xff22ad['id']===editingId));},_0x595fff[_0x117703(0x194)]=_0x117703(0x1c8),_0x595fff[_0x117703(0x153)]=_0x117703(0x18a),_0x595fff[_0x117703(0x1a5)]=()=>{const _0x4d8351=_0x117703;closeActionSheet(),commitDelete(_0x4d8351(0x174),sessions[_0x4d8351(0x229)](_0x28cc8d=>_0x28cc8d['id']===editingId));});}function closeActionSheet(){const _0x20dfed=a2_0x5b4edd;document[_0x20dfed(0x17b)]('actionSheet')[_0x20dfed(0x1ff)]['remove'](_0x20dfed(0x15e)),document[_0x20dfed(0x17b)](_0x20dfed(0x14e))[_0x20dfed(0x1ff)][_0x20dfed(0x21f)]('active');}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x3a0330=a2_0x5b4edd,_0x4777e2=document[_0x3a0330(0x17b)](_0x3a0330(0x1ab))[_0x3a0330(0x221)];localStorage[_0x3a0330(0x287)]('uc_settings_cancel_window',_0x4777e2),console['log']('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x4777e2),DataManager[_0x3a0330(0x2b8)](_0x3a0330(0x171),{'settings':{'cancel_window':_0x4777e2}})[_0x3a0330(0x2b2)](_0x344890=>{const _0x2671d6=_0x3a0330;console['error'](_0x2671d6(0x26c),_0x344890),showToast(_0x2671d6(0x200),![]);});}function loadCoachSettings(){const _0x100c85=a2_0x5b4edd,_0x511923=localStorage[_0x100c85(0x158)](_0x100c85(0x2ae));_0x511923&&(document[_0x100c85(0x17b)]('settingCancelWindow')[_0x100c85(0x221)]=_0x511923);}function openRangesSheet(){const _0x33684d=a2_0x5b4edd;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x33684d(0x223));}function addRange(){const _0x2dde1a=a2_0x5b4edd,_0x2432ee=document[_0x2dde1a(0x17b)](_0x2dde1a(0x201))[_0x2dde1a(0x221)],_0x273563=document[_0x2dde1a(0x17b)](_0x2dde1a(0x2b0))[_0x2dde1a(0x221)],_0x5cc0a6=document['getElementById'](_0x2dde1a(0x18b))['value'],_0x418e50=document[_0x2dde1a(0x17b)](_0x2dde1a(0x1cf))[_0x2dde1a(0x221)];if(!_0x2432ee||!_0x273563||!_0x5cc0a6||!_0x418e50)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0xbd1d66=_0x2432ee+'T'+_0x273563,_0x43cf58=_0x5cc0a6+'T'+_0x418e50;if(_0xbd1d66>=_0x43cf58)return alert(_0x2dde1a(0x17c));specialRanges[_0x2dde1a(0x1ad)]({'start':_0xbd1d66,'end':_0x43cf58}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2dde1a(0x22f)](),DataManager[_0x2dde1a(0x2b8)](_0x2dde1a(0x171),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4c2c53){const _0x19d45c=a2_0x5b4edd;specialRanges[_0x19d45c(0x286)](_0x4c2c53,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x19d45c(0x2b8)](_0x19d45c(0x171),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x316b19=a2_0x5b4edd;document['getElementById']('rangeStartDate')[_0x316b19(0x221)]='',document[_0x316b19(0x17b)](_0x316b19(0x2b0))[_0x316b19(0x221)]='00:00',document[_0x316b19(0x17b)](_0x316b19(0x18b))[_0x316b19(0x221)]='',document[_0x316b19(0x17b)]('rangeEndTime')[_0x316b19(0x221)]='23:59';}function renderRangesList(){const _0x6934cc=a2_0x5b4edd,_0x2770a1=document[_0x6934cc(0x17b)](_0x6934cc(0x161));_0x2770a1['innerHTML']='';if(!specialRanges[_0x6934cc(0x14c)]){_0x2770a1['innerHTML']='<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>';return;}specialRanges[_0x6934cc(0x1ee)]((_0x4f9335,_0x233d2c)=>{const _0x598d51=_0x6934cc,_0x50f310=document[_0x598d51(0x285)](_0x598d51(0x240));_0x50f310[_0x598d51(0x153)]=_0x598d51(0x1c4);const _0x18632a=_0x5bfb2e=>{const _0x298314=_0x598d51,_0x1f3537=new Date(_0x5bfb2e);return _0x1f3537[_0x298314(0x195)]()+'.'+String(_0x1f3537['getMonth']()+0x1)[_0x298314(0x155)](0x2,'0')+'\x20'+String(_0x1f3537[_0x298314(0x247)]())[_0x298314(0x155)](0x2,'0')+':'+String(_0x1f3537[_0x298314(0x1b8)]())['padStart'](0x2,'0');};_0x50f310[_0x598d51(0x21b)]=_0x598d51(0x298)+_0x18632a(_0x4f9335[_0x598d51(0x1f9)])+'\x20‚Äî\x20'+_0x18632a(_0x4f9335[_0x598d51(0x167)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x233d2c+_0x598d51(0x1ce),_0x2770a1[_0x598d51(0x14d)](_0x50f310);});}function scrollToToday(){const _0x14a727=a2_0x5b4edd,_0x1c09f7=getLocalDateStr(new Date()),_0x4de9d3=document[_0x14a727(0x17b)](_0x14a727(0x1f6)+_0x1c09f7),_0xb4815b=document['getElementById'](_0x14a727(0x1a1));if(_0x4de9d3&&_0xb4815b){const _0x42ea9f=_0xb4815b[_0x14a727(0x2ab)],_0x4451c5=_0x4de9d3[_0x14a727(0x154)],_0x4718e0=_0x4de9d3[_0x14a727(0x17e)];_0xb4815b['scrollLeft']=_0x4451c5-_0x42ea9f/0x2+_0x4718e0/0x2,_0xb4815b[_0x14a727(0x1bb)]=0x9*GRID_H;}}function onScroll(){const _0x458c22=a2_0x5b4edd,_0xc552db=document['getElementById']('matrixViewport'),_0x87b7be=document[_0x458c22(0x178)](_0x458c22(0x21a));for(let _0x2c4d56 of _0x87b7be)if(_0x2c4d56['offsetLeft']>=_0xc552db[_0x458c22(0x2b6)]){const _0x5256ac=new Date(_0x2c4d56['getAttribute'](_0x458c22(0x14a)));document[_0x458c22(0x17b)]('headerMonth')[_0x458c22(0x194)]=_0x5256ac[_0x458c22(0x2a6)]('ru',{'month':_0x458c22(0x1eb)})['toUpperCase']()+'\x20'+_0x5256ac[_0x458c22(0x14f)]();break;}}function showToast(_0x34a866,_0x43fc48=![]){const _0x291bc7=a2_0x5b4edd,_0x3be9af=document[_0x291bc7(0x17b)]('toast');_0x3be9af[_0x291bc7(0x153)]='toast-notification\x20'+(_0x43fc48?'success':''),document[_0x291bc7(0x17b)](_0x291bc7(0x202))['textContent']=_0x43fc48?_0x291bc7(0x1cc):'–ò–Ω—Ñ–æ',document['getElementById'](_0x291bc7(0x222))[_0x291bc7(0x194)]=_0x34a866,_0x3be9af['classList'][_0x291bc7(0x198)](_0x291bc7(0x1cb)),setTimeout(()=>{const _0x17e522=_0x291bc7;_0x3be9af[_0x17e522(0x1ff)][_0x17e522(0x21f)](_0x17e522(0x1cb));},0xbb8);}function openDayOptions(_0x266f6f,_0x3d7166){const _0x3c45d5=a2_0x5b4edd;selectedDayForOptions=_0x266f6f,document[_0x3c45d5(0x17b)](_0x3c45d5(0x25d))['textContent']=_0x3d7166,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x48b904=a2_0x5b4edd;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x48b904(0x22f)](),DataManager['fetchFromServer'](_0x48b904(0x171),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x495c86=a2_0x5b4edd;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x495c86(0x22f)](),DataManager[_0x495c86(0x2b8)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x51db0f){const _0x1ef97b=a2_0x5b4edd;document[_0x1ef97b(0x17b)](_0x1ef97b(0x17d))['classList'][_0x1ef97b(0x198)](_0x1ef97b(0x233)),document[_0x1ef97b(0x17b)](_0x51db0f)[_0x1ef97b(0x1ff)]['add'](_0x1ef97b(0x15e));}function closeAllSheets(){const _0x578c00=a2_0x5b4edd;document[_0x578c00(0x17b)](_0x578c00(0x17d))['classList'][_0x578c00(0x21f)](_0x578c00(0x233)),document[_0x578c00(0x178)](_0x578c00(0x19a))['forEach'](_0x3d4a35=>_0x3d4a35['classList'][_0x578c00(0x21f)](_0x578c00(0x15e)));}function openPatternEditor(){const _0x1487aa=a2_0x5b4edd;closeAllSheets(),document['getElementById'](_0x1487aa(0x283))[_0x1487aa(0x1ff)][_0x1487aa(0x198)](_0x1487aa(0x15e)),renderPatternEditor();}function closePatternEditor(){const _0x2a12e6=a2_0x5b4edd;document[_0x2a12e6(0x17b)](_0x2a12e6(0x283))['classList'][_0x2a12e6(0x21f)](_0x2a12e6(0x15e));}function savePattern(){const _0x381b6c=a2_0x5b4edd;document['getElementById'](_0x381b6c(0x283))[_0x381b6c(0x1ff)][_0x381b6c(0x21f)](_0x381b6c(0x15e)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x381b6c(0x2b8)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5a4578=a2_0x5b4edd,_0x446224=document[_0x5a4578(0x17b)](_0x5a4578(0x2a0));_0x446224[_0x5a4578(0x21b)]='';const _0x2751aa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe787db=document[_0x5a4578(0x285)](_0x5a4578(0x240));_0xe787db['className']=_0x5a4578(0x1c0),_0x446224[_0x5a4578(0x14d)](_0xe787db),_0x2751aa[_0x5a4578(0x1ee)]((_0x3351c3,_0x1e32a5)=>{const _0x575a8f=_0x5a4578,_0xd92bf7=document[_0x575a8f(0x285)]('div');_0xd92bf7['className']='pe-col-header',_0xd92bf7[_0x575a8f(0x21b)]=_0x3351c3+_0x575a8f(0x23b),_0xd92bf7[_0x575a8f(0x1a5)]=()=>toggleColPattern(_0x1e32a5),_0x446224[_0x575a8f(0x14d)](_0xd92bf7);});for(let _0x12ce94=0x0;_0x12ce94<0x18;_0x12ce94++){const _0x16c241=document[_0x5a4578(0x285)](_0x5a4578(0x240));_0x16c241[_0x5a4578(0x153)]=_0x5a4578(0x280),_0x16c241[_0x5a4578(0x21b)]=_0x5a4578(0x1b4)+String(_0x12ce94)[_0x5a4578(0x155)](0x2,'0')+':00',_0x16c241[_0x5a4578(0x1a5)]=()=>toggleRowPattern(_0x12ce94),_0x446224[_0x5a4578(0x14d)](_0x16c241);for(let _0x57ed4c=0x0;_0x57ed4c<0x7;_0x57ed4c++){const _0x1583c5=document[_0x5a4578(0x285)](_0x5a4578(0x240)),_0x5e5b88=(availabilityPattern[_0x57ed4c]||[])[_0x5a4578(0x239)](_0x12ce94),_0x5b3c23=!_0x5e5b88;_0x1583c5[_0x5a4578(0x153)]=_0x5a4578(0x2a8)+(_0x5b3c23?'active':''),_0x1583c5['onclick']=()=>toggleSinglePattern(_0x57ed4c,_0x12ce94),_0x446224[_0x5a4578(0x14d)](_0x1583c5);}}}function toggleSinglePattern(_0x3a0a4a,_0x57f375){const _0x2509bf=a2_0x5b4edd;if(!availabilityPattern[_0x3a0a4a])availabilityPattern[_0x3a0a4a]=[];const _0x8aa4ef=availabilityPattern[_0x3a0a4a],_0x16a87e=_0x8aa4ef[_0x2509bf(0x296)](_0x57f375);_0x16a87e===-0x1?_0x8aa4ef[_0x2509bf(0x1ad)](_0x57f375):_0x8aa4ef['splice'](_0x16a87e,0x1),renderPatternEditor();}function toggleColPattern(_0x50816b){const _0x2619dd=a2_0x5b4edd;if(!availabilityPattern[_0x50816b])availabilityPattern[_0x50816b]=[];const _0x3729b4=availabilityPattern[_0x50816b];_0x3729b4['length']===0x0?availabilityPattern[_0x50816b]=Array[_0x2619dd(0x215)]({'length':0x18},(_0x27e6a0,_0x5338cf)=>_0x5338cf):availabilityPattern[_0x50816b]=[],renderPatternEditor();}function toggleRowPattern(_0x17969c){const _0x1c2162=a2_0x5b4edd;let _0x56f188=!![];for(let _0x4250cc=0x0;_0x4250cc<0x7;_0x4250cc++){if((availabilityPattern[_0x4250cc]||[])[_0x1c2162(0x239)](_0x17969c)){_0x56f188=![];break;}}for(let _0x458e64=0x0;_0x458e64<0x7;_0x458e64++){if(!availabilityPattern[_0x458e64])availabilityPattern[_0x458e64]=[];const _0x23ec7e=availabilityPattern[_0x458e64][_0x1c2162(0x296)](_0x17969c);if(_0x56f188){if(_0x23ec7e===-0x1)availabilityPattern[_0x458e64][_0x1c2162(0x1ad)](_0x17969c);}else{if(_0x23ec7e!==-0x1)availabilityPattern[_0x458e64][_0x1c2162(0x286)](_0x23ec7e,0x1);}}renderPatternEditor();}function renderPCol(_0x27860d,_0x4a6676){const _0xe3d3e0=a2_0x5b4edd;_0x27860d[_0xe3d3e0(0x21b)]='';const _0x589fae=Math[_0xe3d3e0(0x193)](_0x27860d[_0xe3d3e0(0x154)]);(availabilityPattern[_0x4a6676]||[])['forEach'](_0x20f273=>{const _0x16c116=_0xe3d3e0,_0x62abdb=document['createElement'](_0x16c116(0x240));_0x62abdb[_0x16c116(0x153)]=_0x16c116(0x26b);const _0x330150=_0x20f273*GRID_H;_0x62abdb['style']['top']=_0x330150+'px',_0x62abdb['style']['backgroundPosition']='-'+_0x589fae+_0x16c116(0x2af)+_0x330150+'px',_0x62abdb[_0x16c116(0x1a5)]=_0x1cd29f=>{_0x1cd29f['stopPropagation'](),toggleSinglePattern(_0x4a6676,_0x20f273);},_0x27860d[_0x16c116(0x14d)](_0x62abdb);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3f971e=a2_0x5b4edd,_0x35c861=new Date(),_0x181ca4=document[_0x3f971e(0x17b)](_0x3f971e(0x25b)),_0x19380f=document[_0x3f971e(0x17b)](_0x3f971e(0x241)),_0x55ae16=(_0x35c861[_0x3f971e(0x247)]()*0x3c+_0x35c861['getMinutes']())/0x3c*GRID_H;_0x181ca4['style'][_0x3f971e(0x216)]=_0x55ae16+'px',_0x181ca4[_0x3f971e(0x1aa)][_0x3f971e(0x22e)]=_0x3f971e(0x293),_0x19380f[_0x3f971e(0x194)]=String(_0x35c861['getHours']())[_0x3f971e(0x155)](0x2,'0')+':'+String(_0x35c861[_0x3f971e(0x1b8)]())['padStart'](0x2,'0'),_0x19380f['style']['display']=_0x3f971e(0x293),_0x19380f[_0x3f971e(0x1aa)][_0x3f971e(0x216)]=_0x55ae16+'px';}document['addEventListener'](a2_0x5b4edd(0x196),init);function openDayOptions(_0x1220d7){const _0x5ddf8=a2_0x5b4edd;selectedDayForOptions=_0x1220d7;const _0x504214=new Date(_0x1220d7),_0x12193c={'weekday':_0x5ddf8(0x1eb),'day':_0x5ddf8(0x1f2),'month':_0x5ddf8(0x1eb),'year':_0x5ddf8(0x1f2)},_0x4f753d=_0x504214[_0x5ddf8(0x23d)](_0x5ddf8(0x2c3),_0x12193c);document[_0x5ddf8(0x17b)](_0x5ddf8(0x26f))[_0x5ddf8(0x194)]=_0x4f753d[_0x5ddf8(0x28f)](0x0)[_0x5ddf8(0x295)]()+_0x4f753d[_0x5ddf8(0x28b)](0x1);let _0x5681b7=_0x504214[_0x5ddf8(0x14b)]()-0x1;if(_0x5681b7===-0x1)_0x5681b7=0x6;const _0x2bcfa9=availabilityPattern[_0x5681b7]||[],_0x3fa3c9=0x18-_0x2bcfa9[_0x5ddf8(0x14c)],_0x3800bc=_0x3fa3c9*0x3c,_0x2a3966=sessions[_0x5ddf8(0x1e9)](_0x35d6a4=>_0x35d6a4[_0x5ddf8(0x212)]===_0x1220d7&&_0x35d6a4[_0x5ddf8(0x160)]!==_0x5ddf8(0x1ef));let _0x1a16d9=_0x2a3966[_0x5ddf8(0x272)](_0x10bfc7=>{const _0xb6f2bd=_0x5ddf8,[_0xc7469a,_0x595450]=_0x10bfc7[_0xb6f2bd(0x1f9)]['split'](':')[_0xb6f2bd(0x272)](Number),[_0xe5ed1c,_0x5c23f5]=_0x10bfc7[_0xb6f2bd(0x167)][_0xb6f2bd(0x246)](':')[_0xb6f2bd(0x272)](Number);return[_0xc7469a*0x3c+_0x595450,_0xe5ed1c*0x3c+_0x5c23f5];});_0x1a16d9[_0x5ddf8(0x217)]((_0x377685,_0x46ebe7)=>_0x377685[0x0]-_0x46ebe7[0x0]);let _0x639d33=[];if(_0x1a16d9[_0x5ddf8(0x14c)]>0x0){let _0x38ae0d=_0x1a16d9[0x0];for(let _0x260520=0x1;_0x260520<_0x1a16d9[_0x5ddf8(0x14c)];_0x260520++){_0x1a16d9[_0x260520][0x0]<_0x38ae0d[0x1]?_0x38ae0d[0x1]=Math[_0x5ddf8(0x1fc)](_0x38ae0d[0x1],_0x1a16d9[_0x260520][0x1]):(_0x639d33[_0x5ddf8(0x1ad)](_0x38ae0d),_0x38ae0d=_0x1a16d9[_0x260520]);}_0x639d33['push'](_0x38ae0d);}let _0x3924d5=0x0;_0x639d33['forEach'](_0x19d6a6=>_0x3924d5+=_0x19d6a6[0x1]-_0x19d6a6[0x0]),document[_0x5ddf8(0x17b)](_0x5ddf8(0x20e))['textContent']=formatMinsToHrs(_0x3800bc),document[_0x5ddf8(0x17b)](_0x5ddf8(0x16b))[_0x5ddf8(0x194)]=formatMinsToHrs(_0x3924d5);const _0x304c2c=_0x3800bc>0x0?Math[_0x5ddf8(0x193)](_0x3924d5/_0x3800bc*0x64):0x0,_0x80cde3=document[_0x5ddf8(0x17b)](_0x5ddf8(0x2ba));_0x80cde3[_0x5ddf8(0x194)]=_0x304c2c+'%';const _0x40bfd5=document[_0x5ddf8(0x17b)](_0x5ddf8(0x2b5));if(_0x304c2c>0x64)_0x80cde3[_0x5ddf8(0x1aa)][_0x5ddf8(0x251)]=_0x5ddf8(0x1d2),_0x40bfd5[_0x5ddf8(0x1aa)][_0x5ddf8(0x24e)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x304c2c>0x50?(_0x80cde3[_0x5ddf8(0x1aa)]['color']=_0x5ddf8(0x162),_0x40bfd5['style'][_0x5ddf8(0x24e)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x80cde3['style'][_0x5ddf8(0x251)]=_0x5ddf8(0x1d4),_0x40bfd5['style']['borderColor']=_0x5ddf8(0x18e));const _0x559420=document[_0x5ddf8(0x17b)]('doEventsList');_0x559420[_0x5ddf8(0x21b)]='';_0x2a3966[_0x5ddf8(0x14c)]===0x0?_0x559420['innerHTML']=_0x5ddf8(0x20c):(_0x2a3966[_0x5ddf8(0x217)]((_0x5e6b83,_0x56a118)=>_0x5e6b83[_0x5ddf8(0x1f9)][_0x5ddf8(0x2c1)](_0x56a118[_0x5ddf8(0x1f9)])),_0x2a3966['forEach'](_0x6071d6=>{const _0x5a7bd9=_0x5ddf8,_0x5232df=clients[_0x5a7bd9(0x229)](_0x5e7458=>_0x5e7458['name']===_0x6071d6[_0x5a7bd9(0x26a)]),_0x4382c0=_0x5232df?_0x5232df[_0x5a7bd9(0x251)]:_0x5a7bd9(0x169),_0x4ca4d8=_0x6071d6[_0x5a7bd9(0x160)]==='completed',_0x1ce3ea=_0x4ca4d8?_0x5a7bd9(0x1ae):'',_0x5d0713=document[_0x5a7bd9(0x285)](_0x5a7bd9(0x240));_0x5d0713[_0x5a7bd9(0x153)]=_0x5a7bd9(0x211),_0x5d0713[_0x5a7bd9(0x1aa)][_0x5a7bd9(0x22c)]=_0x4382c0,_0x5d0713['innerHTML']=_0x5a7bd9(0x264)+_0x6071d6[_0x5a7bd9(0x1f9)]+_0x5a7bd9(0x29a)+_0x6071d6[_0x5a7bd9(0x167)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6071d6[_0x5a7bd9(0x26a)]+_0x5a7bd9(0x1c9)+_0x1ce3ea+_0x5a7bd9(0x183),_0x559420['appendChild'](_0x5d0713);}));const _0x37280a=document[_0x5ddf8(0x17b)](_0x5ddf8(0x26e)),_0xcd2531=dateExceptions[_0x1220d7]===_0x5ddf8(0x24f);_0xcd2531?(_0x37280a[_0x5ddf8(0x194)]=_0x5ddf8(0x184),_0x37280a['className']=_0x5ddf8(0x203),_0x37280a[_0x5ddf8(0x1aa)][_0x5ddf8(0x251)]=_0x5ddf8(0x1d4),_0x37280a['style'][_0x5ddf8(0x2c0)]=_0x5ddf8(0x21c)):(_0x37280a[_0x5ddf8(0x194)]=_0x5ddf8(0x225),_0x37280a[_0x5ddf8(0x153)]=_0x5ddf8(0x157),_0x37280a[_0x5ddf8(0x1aa)][_0x5ddf8(0x251)]=_0x5ddf8(0x1d2),_0x37280a[_0x5ddf8(0x1aa)][_0x5ddf8(0x2c0)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x5ddf8(0x22d));}let currentAnPeriod=a2_0x5b4edd(0x24a);function openAnalytics(){const _0x33d187=a2_0x5b4edd,_0x29d384=document['querySelector']('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x33d187(0x24a),_0x29d384),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x5e4aa2,_0x161666){const _0x2b1eca=a2_0x5b4edd;currentAnPeriod=_0x5e4aa2,document[_0x2b1eca(0x178)](_0x2b1eca(0x150))[_0x2b1eca(0x1ee)](_0x2adb2c=>_0x2adb2c['classList'][_0x2b1eca(0x21f)](_0x2b1eca(0x233)));if(_0x161666)_0x161666[_0x2b1eca(0x1ff)]['add'](_0x2b1eca(0x233));const _0x5cb4be=document[_0x2b1eca(0x17b)](_0x2b1eca(0x265));_0x5cb4be[_0x2b1eca(0x1aa)][_0x2b1eca(0x22e)]=_0x5e4aa2===_0x2b1eca(0x165)?_0x2b1eca(0x1cd):_0x2b1eca(0x22b);const _0x49b6ec=new Date();let _0x541801=new Date(),_0x2e40de=new Date();if(_0x5e4aa2===_0x2b1eca(0x24a))_0x541801=getStartOfWeek(_0x49b6ec),_0x2e40de=new Date(_0x541801),_0x2e40de[_0x2b1eca(0x24d)](_0x2e40de[_0x2b1eca(0x195)]()+0x6);else{if(_0x5e4aa2===_0x2b1eca(0x237))_0x541801=new Date(_0x49b6ec['getFullYear'](),_0x49b6ec[_0x2b1eca(0x276)](),0x1),_0x2e40de=new Date(_0x49b6ec[_0x2b1eca(0x14f)](),_0x49b6ec[_0x2b1eca(0x276)]()+0x1,0x0);else{!document[_0x2b1eca(0x17b)](_0x2b1eca(0x268))['value']&&(document['getElementById'](_0x2b1eca(0x268))[_0x2b1eca(0x221)]=getLocalDateStr(_0x49b6ec),document[_0x2b1eca(0x17b)](_0x2b1eca(0x168))['value']=getLocalDateStr(_0x49b6ec));refreshAnalytics();return;}}document[_0x2b1eca(0x17b)](_0x2b1eca(0x268))[_0x2b1eca(0x221)]=getLocalDateStr(_0x541801),document[_0x2b1eca(0x17b)](_0x2b1eca(0x168))[_0x2b1eca(0x221)]=getLocalDateStr(_0x2e40de),refreshAnalytics();}function refreshAnalytics(){const _0x1b3d27=a2_0x5b4edd,_0x2122b7=document[_0x1b3d27(0x17b)](_0x1b3d27(0x268))['value'],_0x4ff129=document[_0x1b3d27(0x17b)](_0x1b3d27(0x168))[_0x1b3d27(0x221)];if(!_0x2122b7||!_0x4ff129)return;const _0x59fbb7=sessions[_0x1b3d27(0x1e9)](_0x41fc6f=>_0x41fc6f[_0x1b3d27(0x212)]>=_0x2122b7&&_0x41fc6f['dateStr']<=_0x4ff129&&_0x41fc6f['status']!==_0x1b3d27(0x1ef)),_0x5ec345=_0x59fbb7[_0x1b3d27(0x14c)],_0x19fde7=_0x59fbb7[_0x1b3d27(0x1e9)](_0x5be380=>_0x5be380[_0x1b3d27(0x160)]===_0x1b3d27(0x218))['length'],_0x546a6b=_0x5ec345>0x0?Math[_0x1b3d27(0x193)](_0x19fde7/_0x5ec345*0x64):0x0;document[_0x1b3d27(0x17b)](_0x1b3d27(0x188))[_0x1b3d27(0x194)]=_0x546a6b+'%',document[_0x1b3d27(0x17b)](_0x1b3d27(0x18c))[_0x1b3d27(0x194)]=_0x19fde7+_0x1b3d27(0x1dd)+_0x5ec345+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x3915d8=document[_0x1b3d27(0x17b)]('anDonutCircle'),_0x265744=0x2*Math['PI']*0x23,_0x46786e=_0x265744-_0x546a6b/0x64*_0x265744;_0x3915d8['style'][_0x1b3d27(0x299)]=_0x46786e;const _0x3fa5bb={};_0x59fbb7[_0x1b3d27(0x1ee)](_0x3a897f=>{const _0x40c764=_0x1b3d27;if(!_0x3fa5bb[_0x3a897f['client']]){const _0x5cc187=clients['find'](_0x4dd7d1=>_0x4dd7d1[_0x40c764(0x25e)]===_0x3a897f['client']);_0x3fa5bb[_0x3a897f[_0x40c764(0x26a)]]={'total':0x0,'done':0x0,'color':_0x5cc187?_0x5cc187[_0x40c764(0x251)]:_0x40c764(0x169)};}_0x3fa5bb[_0x3a897f['client']]['total']++;if(_0x3a897f[_0x40c764(0x160)]===_0x40c764(0x218))_0x3fa5bb[_0x3a897f[_0x40c764(0x26a)]][_0x40c764(0x27b)]++;});const _0x24f9d3=document[_0x1b3d27(0x17b)]('analyticsList');_0x24f9d3[_0x1b3d27(0x21b)]='';const _0x206206=Object[_0x1b3d27(0x1a2)](_0x3fa5bb)['sort']((_0x4f85e5,_0x47b4e0)=>_0x47b4e0[0x1][_0x1b3d27(0x151)]-_0x4f85e5[0x1][_0x1b3d27(0x151)]);if(_0x206206[_0x1b3d27(0x14c)]===0x0){_0x24f9d3[_0x1b3d27(0x21b)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x206206[_0x1b3d27(0x1ee)](([_0x43780b,_0x56d952])=>{const _0x475664=_0x1b3d27,_0x18571a=Math[_0x475664(0x193)](_0x56d952[_0x475664(0x27b)]/_0x56d952[_0x475664(0x151)]*0x64),_0x48c653=document['createElement']('div');_0x48c653[_0x475664(0x153)]=_0x475664(0x1c5),_0x48c653[_0x475664(0x1aa)][_0x475664(0x22c)]=_0x56d952[_0x475664(0x251)],_0x48c653['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x43780b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x56d952['done']+_0x475664(0x1d0)+_0x56d952[_0x475664(0x151)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x18571a+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x24f9d3[_0x475664(0x14d)](_0x48c653);});}function formatMinsToHrs(_0x30a15f){const _0x374ebe=a2_0x5b4edd;if(_0x30a15f===0x0)return'0';const _0x5713b9=Math[_0x374ebe(0x1a7)](_0x30a15f/0x3c),_0x3d01a5=_0x30a15f%0x3c;if(_0x3d01a5===0x0)return _0x5713b9+'—á';return _0x5713b9+'—á\x20'+_0x3d01a5+'–º';}