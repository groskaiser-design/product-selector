const a2_0xb51059=a2_0x2392;(function(_0x5a1c84,_0x2c3c70){const _0x49029a=a2_0x2392,_0x2806c0=_0x5a1c84();while(!![]){try{const _0x171267=parseInt(_0x49029a(0x25a))/0x1*(parseInt(_0x49029a(0x1ee))/0x2)+parseInt(_0x49029a(0x27b))/0x3*(-parseInt(_0x49029a(0x277))/0x4)+parseInt(_0x49029a(0x2cb))/0x5+parseInt(_0x49029a(0x149))/0x6*(-parseInt(_0x49029a(0x29b))/0x7)+-parseInt(_0x49029a(0x2cf))/0x8*(-parseInt(_0x49029a(0x293))/0x9)+parseInt(_0x49029a(0x1fd))/0xa+-parseInt(_0x49029a(0x221))/0xb;if(_0x171267===_0x2c3c70)break;else _0x2806c0['push'](_0x2806c0['shift']());}catch(_0x2eb9a5){_0x2806c0['push'](_0x2806c0['shift']());}}}(a2_0x1c9c,0x358d7),function initTMA(){const _0x4f0796=a2_0x2392;try{const _0x353a54=window[_0x4f0796(0x2a0)]?.['WebApp'];if(!_0x353a54)return;_0x353a54[_0x4f0796(0x1bf)](),_0x353a54[_0x4f0796(0x25d)]();try{_0x353a54[_0x4f0796(0x181)](_0x4f0796(0x23d)),_0x353a54[_0x4f0796(0x279)]&&_0x353a54[_0x4f0796(0x279)](_0x4f0796(0x23d));}catch(_0x3229e9){console[_0x4f0796(0x238)](_0x4f0796(0x26e),_0x3229e9);}try{_0x353a54[_0x4f0796(0x153)]&&(_0x353a54[_0x4f0796(0x153)][_0x4f0796(0x1f4)](),_0x353a54[_0x4f0796(0x153)][_0x4f0796(0x2b9)](),_0x353a54['BackButton'][_0x4f0796(0x1a6)](function(){const _0x4e7120=_0x4f0796;window[_0x4e7120(0x154)][_0x4e7120(0x28a)]='router.html';}));}catch(_0x2460fb){console[_0x4f0796(0x238)](_0x4f0796(0x1d9),_0x2460fb);}try{if(_0x353a54[_0x4f0796(0x256)])_0x353a54[_0x4f0796(0x256)]();}catch(_0x90a7d7){}}catch(_0x4a534a){console[_0x4f0796(0x28c)](_0x4f0796(0x246),_0x4a534a);}}());function isAdmin(){const _0x4319d3=a2_0x2392;try{const _0x3871c4=Number(window[_0x4319d3(0x2a0)]?.['WebApp']?.[_0x4319d3(0x288)]?.['user']?.['id']);return _0x3871c4===0xbaf7174;}catch(_0x429e38){return![];}}const APP_VERSION=a2_0xb51059(0x2aa),API_URL=a2_0xb51059(0x1eb),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0xb51059(0x1af),KEY_SESSIONS=a2_0xb51059(0x282),KEY_SETTINGS=a2_0xb51059(0x28d);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x6bd7a4=a2_0xb51059;return window['Telegram']?.[_0x6bd7a4(0x23c)]?.['initDataUnsafe']?.[_0x6bd7a4(0x152)]?.['id']||_0x6bd7a4(0x1f0);},'saveLocally'(){const _0x3f3e20=a2_0xb51059;try{localStorage[_0x3f3e20(0x1a0)](KEY_CLIENTS,JSON['stringify'](clients)),localStorage[_0x3f3e20(0x1a0)](KEY_SESSIONS,JSON[_0x3f3e20(0x162)](sessions)),localStorage[_0x3f3e20(0x1a0)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x501341){console[_0x3f3e20(0x28c)](_0x3f3e20(0x16a),_0x501341);}},'loadLocal'(){const _0x32f814=a2_0xb51059;try{const _0x1423e3=localStorage[_0x32f814(0x1cf)](KEY_CLIENTS);if(_0x1423e3)clients=JSON['parse'](_0x1423e3);const _0x2091d2=localStorage[_0x32f814(0x1cf)](KEY_SESSIONS);if(_0x2091d2)sessions=JSON[_0x32f814(0x2b4)](_0x2091d2);const _0x284f58=localStorage['getItem'](KEY_SETTINGS);if(_0x284f58){const _0x37e57a=JSON[_0x32f814(0x2b4)](_0x284f58);if(_0x37e57a[_0x32f814(0x1c5)])availabilityPattern=_0x37e57a[_0x32f814(0x1c5)];if(_0x37e57a['exceptions'])dateExceptions=_0x37e57a['exceptions'];if(_0x37e57a[_0x32f814(0x26b)])specialRanges=_0x37e57a['ranges'];}else{for(let _0x30bd86=0x0;_0x30bd86<0x7;_0x30bd86++)availabilityPattern[_0x30bd86]=Array['from']({'length':0xc},(_0xa5e49c,_0x55f222)=>_0x55f222+0x9);}}catch(_0x2df5f6){console[_0x32f814(0x28c)](_0x32f814(0x2b5),_0x2df5f6);}},async 'fetchFromServer'(_0x472203,_0xf383d3={}){const _0x40df6d=a2_0xb51059,_0x4d9e3d=window['Telegram']?.[_0x40df6d(0x23c)],_0x2a984b={'action':_0x472203,'init_data':_0x4d9e3d?.[_0x40df6d(0x148)]||'',..._0xf383d3};try{const _0x81f72a=await fetch(API_URL,{'method':_0x40df6d(0x29d),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON[_0x40df6d(0x162)](_0x2a984b)}),_0x57c45e=await _0x81f72a['json']();if(!_0x57c45e['ok'])throw new Error(_0x57c45e[_0x40df6d(0x28c)]||'Server\x20Error');return _0x57c45e[_0x40df6d(0x1fb)];}catch(_0x273f82){console['error'](_0x40df6d(0x2b8)+_0x472203+_0x40df6d(0x14f),_0x273f82);throw _0x273f82;}},async 'syncLoad'(){const _0x209cb3=a2_0xb51059,_0x5259eb=new Date(),_0x4eb104=_0x5259eb[_0x209cb3(0x261)]()+'-'+String(_0x5259eb[_0x209cb3(0x198)]()+0x1)[_0x209cb3(0x146)](0x2,'0'),_0x47c069=new Date(_0x5259eb);_0x47c069[_0x209cb3(0x19e)](_0x5259eb[_0x209cb3(0x198)]()+0x1);const _0x28e6dd=_0x47c069[_0x209cb3(0x261)]()+'-'+String(_0x47c069['getMonth']()+0x1)[_0x209cb3(0x146)](0x2,'0'),_0x167c45=Date[_0x209cb3(0x14a)]();console[_0x209cb3(0x238)](_0x209cb3(0x2b1)+_0x4eb104+',\x20'+_0x28e6dd+_0x209cb3(0x271));try{const [_0x3b45c4,_0x3ecdca]=await Promise[_0x209cb3(0x167)]([this[_0x209cb3(0x1a5)](_0x209cb3(0x289),{'month_str':_0x4eb104}),this[_0x209cb3(0x1a5)](_0x209cb3(0x289),{'month_str':_0x28e6dd})]);if(lastUserActionTime>_0x167c45)return console[_0x209cb3(0x1ae)](_0x209cb3(0x208)),![];return this[_0x209cb3(0x276)](_0x3b45c4,_0x4eb104),this[_0x209cb3(0x276)](_0x3ecdca,_0x28e6dd),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x47b378){console[_0x209cb3(0x28c)](_0x47b378);throw _0x47b378;}},'mergeServerData'(_0x59a8ae,_0x3f0d6b){const _0x2c3e05=a2_0xb51059;if(!_0x59a8ae)return;_0x59a8ae[_0x2c3e05(0x281)]&&Array[_0x2c3e05(0x232)](_0x59a8ae['clients'])&&(clients=_0x59a8ae[_0x2c3e05(0x281)]);if(_0x59a8ae['settings']){if(_0x59a8ae[_0x2c3e05(0x200)][_0x2c3e05(0x1c5)])availabilityPattern=_0x59a8ae[_0x2c3e05(0x200)][_0x2c3e05(0x1c5)];if(_0x59a8ae[_0x2c3e05(0x200)][_0x2c3e05(0x1c3)])dateExceptions=_0x59a8ae[_0x2c3e05(0x200)][_0x2c3e05(0x1c3)];if(_0x59a8ae['settings'][_0x2c3e05(0x26b)])specialRanges=_0x59a8ae[_0x2c3e05(0x200)]['ranges'];if(_0x59a8ae[_0x2c3e05(0x200)]['cancel_window']){localStorage[_0x2c3e05(0x1a0)](_0x2c3e05(0x24b),_0x59a8ae['settings'][_0x2c3e05(0x27f)]);const _0x429246=document['getElementById']('settingCancelWindow');if(_0x429246)_0x429246[_0x2c3e05(0x16c)]=_0x59a8ae[_0x2c3e05(0x200)][_0x2c3e05(0x27f)];}}_0x59a8ae[_0x2c3e05(0x273)]&&(sessions=sessions[_0x2c3e05(0x1fa)](_0x400c78=>!_0x400c78[_0x2c3e05(0x1ea)][_0x2c3e05(0x230)](_0x3f0d6b)),Object['keys'](_0x59a8ae['calendar'])[_0x2c3e05(0x20f)](_0x309526=>{const _0x4281b1=_0x2c3e05,_0x1ad37c=_0x59a8ae[_0x4281b1(0x273)][_0x309526];_0x1ad37c['forEach'](_0x30a3a2=>{const _0x573490=_0x4281b1,_0x5c9832=clients[_0x573490(0x247)](_0x1321b7=>String(_0x1321b7['id'])===String(_0x30a3a2['c']));sessions['push']({'id':_0x30a3a2['i'],'clientId':_0x30a3a2['c'],'client':_0x5c9832?_0x5c9832[_0x573490(0x1b9)]:_0x573490(0x2a1),'dateStr':_0x3f0d6b+'-'+_0x309526[_0x573490(0x146)](0x2,'0'),'start':_0x30a3a2['s'],'end':_0x30a3a2['e'],'status':_0x30a3a2['st']||_0x573490(0x255),'note':_0x30a3a2['n']||'','seriesId':_0x30a3a2[_0x573490(0x285)]||null});});}));},async 'syncBatch'(_0x4a37a7){const _0x413311=a2_0xb51059,_0x358f70=[...new Set(_0x4a37a7)],_0x699dd9=_0x358f70[_0x413311(0x1c7)](_0x1b63c3=>{const _0x240e36=_0x413311,_0x4a8140=sessions['filter'](_0x51b49a=>_0x51b49a[_0x240e36(0x1ea)]===_0x1b63c3&&_0x51b49a[_0x240e36(0x263)]!==_0x240e36(0x168)),_0x29b89d=_0x4a8140['map'](_0x235e20=>({'i':_0x235e20['id'],'c':_0x235e20['clientId'],'s':_0x235e20[_0x240e36(0x18e)],'e':_0x235e20[_0x240e36(0x189)],'st':_0x235e20[_0x240e36(0x263)],'n':_0x235e20[_0x240e36(0x202)],'sid':_0x235e20['seriesId']}));return{'date':_0x1b63c3,'day_data':_0x29b89d};});if(_0x699dd9['length']===0x0)return;console[_0x413311(0x238)](_0x413311(0x1aa)+_0x699dd9[_0x413311(0x1d1)]+'\x20days'),await this[_0x413311(0x1a5)](_0x413311(0x286),{'changes':_0x699dd9});}};function a2_0x1c9c(){const _0x528214=['href','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','error','uc_settings_v9','height','colIndex','actionSheetOverlay','doWorkHours','setDate','1107GmOJrG','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','#0a84ff','10px','.dch-stats-fill','\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','daysHeaderTrack','300748dhQmYX','blocked-slot\x20stripe-bg','POST','scrollTop','doLoadPercent','Telegram','Unknown','btn-status-toggle','btn-primary\x20btn-secondary','from','anTotalStats','touches','save','create','long','v9.0-BATCH-CALENDAR','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','client-stat-card',':\x20Client\x20already\x20booked','ru-RU','patternEditor','[Sync]\x20Loading\x20','rangeStartTime','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','parse','Local\x20Load\x20Error','update','cancelled','[API\x20','offClick','(((.+)+)+)+$','checked','localeCompare','textContent','pe-corner','</b>\x0a\x0a','doEventsList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','anEnd','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','month','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','catch','msg','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','innerHTML','</span>\x20/\x20','2141120ONDgFu',':00','scroll','total','22424NVNFWO','padStart','btn-status-toggle\x20undo-mode','initData','24ACDVpT','now','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','valid','classList',']\x20Failed:','sheetTitle','time-label','user','BackButton','location','recurringOptionContainer','<b>‚úÖ\x20','createElement','charAt','done','inpNote','success','asBtnOne','borderColor','addEventListener','event-card','var(--acc-current)','settingCancelWindow','stringify','round','DOMContentLoaded','day-column\x20','backgroundPosition','all','deleted','closest','Local\x20Save\x20Error','entries','value','btnDayToggle','10px\x2010px\x200\x200','floor','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','toString','getMinutes','today','pe-cell\x20','day-col-header\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','getTime','toast','</div><div\x20class=\x22ev-time\x22>','seriesCountContainer','asBtnSeries','sheetDateSubtitle','[Notify]\x20Server\x20Response:','globalTimeLine','day-off-overlay\x20stripe-bg','setHeaderColor','series','formatDate','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','borderLeftColor','width','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','end','data-date','inpEnd','100%','delete','start','pe-time-label','createDocumentFragment','stopPropagation','inpRecurring','undefined','rgba(255,\x2069,\x2058,\x200.15)','anCustomDates','className','flex','getMonth','display','rangeEndDate','px\x20-','–£—Å–ø–µ—à–Ω–æ','zIndex','setMonth','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','setItem','toastMessage','offsetLeft','var(--acc-orange)','getText','fetchFromServer','onClick','indexOf','Batch\x20Sync\x20OK','toLocaleString','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','background','clientWidth','–ò–Ω—Ñ–æ','warn','uc_clients_v9',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','target','23:59','header-','warning','getDay','color','numeric','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','name','T23:59:59','block','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','custom','ready','<div\x20class=\x22dch-day\x22>','doDateHeader','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','exceptions','min','pattern','save_settings','map','add','syncLoad','rangesSheet','getDate','as-button\x20danger','clientId','var(--acc-green)','getItem','–£–¥–∞–ª–µ–Ω–∏–µ','length','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','Save\x20settings\x20error:','insertBefore','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','\x20‚Äî\x20','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','Error\x20setting\x20back\x20button:','px\x200px','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','inpSeriesCount','scrollWidth','.day-col-header','random','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','firstChild','substr','patternInfoBox','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','slice','rgba(255,255,255,0.05)','actionSheet','[Settings]\x20Cancel\x20window\x20set\x20to:','timeLineBadge','dateStr','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','dayOptionsSheet','[Notify]\x20Detected\x20Client\x20ID:','2PwIPMa','[Series]\x20Skipped\x20','guest','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','</div>','inpClient','show','seriesId','inpDate','%\x20+\x202px)','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data-day-idx','filter','data','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','2208090JkfYBq','off','style','settings','.day-off-overlay','note','borderRadius','rgba(255,\x20159,\x2010,\x200.3)','clientY','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','btnStatusToggle','rangeStartDate','btnDelete','none','forEach','scrollLeft','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','inpStart','cancel','.day-column','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','offsetWidth','matrixViewport','querySelector','getAttribute','anStart','\x20–∏–∑\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a',':00</span>','7650797elriUJ','anPercent','sort','top','getElementById','anDonutCircle','split','search','rgba(255,\x2069,\x2058,\x200.3)','[Notify]\x20Error:\x20Text\x20generation\x20failed','saveLocally','touchmove','[Notify]\x20Client\x20SWAP\x20detected','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','client','startsWith','peGrid','isArray','overlay','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','includes','touchend','mousedown','log','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','syncBatch','WebApp','#050505','single','asTitle','div','mousemove','touchstart','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','splice','analyticsList','Critical\x20TMA\x20Error:','find','#gridColumns\x20.day-column','backgroundColor','timeColumn','uc_settings_cancel_window','send','toUpperCase','push','rgba(48,\x20209,\x2088,\x200.15)',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','send_notification','setHours','var(--acc-red)','planned','disableVerticalSwipes','sessionSheet','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','#fff','126913SOKwLO','querySelectorAll','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','expand','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','gridColumns','remove','getFullYear','rgba(100,100,100,0.5)','status','calc(','.event-card','setAttribute','</div><div\x20class=\x22dch-num\x22>','[Notify]\x20Attempting\x20to\x20send:','onclick','open','ranges','completed','pe-col-header','Error\x20setting\x20color:','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','max','...','then','calendar','.period-switch\x20.p-btn','rangeEndTime','mergeServerData','564rhiViw','blocked-range-part\x20stripe-bg','setBackgroundColor','strokeDashoffset','723qhjYCQ','mini','[Notify]\x20Error:\x20sessionData\x20is\x20null','appendChild','cancel_window','getHours','clients','uc_sessions_v9','toLocaleDateString','<div\x20class=\x22ev-title\x22>','sid','batch_sync','stat-','initDataUnsafe','init_load'];a2_0x1c9c=function(){return _0x528214;};return a2_0x1c9c();}async function init(){const _0x20a696=a2_0xb51059;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x20a696(0x225)]('matrixViewport')[_0x20a696(0x15e)](_0x20a696(0x2cd),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x20a696(0x1c9)]()[_0x20a696(0x272)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x20a696(0x2c6)](_0x48a599=>{const _0x3b0b54=_0x20a696;showToast(_0x3b0b54(0x22e),![]);});}function generateId(){const _0x48ffa7=a2_0xb51059;return Date[_0x48ffa7(0x14a)]()[_0x48ffa7(0x171)](0x24)+Math[_0x48ffa7(0x1df)]()['toString'](0x24)[_0x48ffa7(0x1e2)](0x2,0x5);}function toggleSeriesInput(){const _0x4b4d38=a2_0xb51059,_0x2c5395=document[_0x4b4d38(0x225)]('inpRecurring')[_0x4b4d38(0x2bb)],_0x34e218=document[_0x4b4d38(0x225)](_0x4b4d38(0x17b));_0x34e218[_0x4b4d38(0x1ff)]['display']=_0x2c5395?_0x4b4d38(0x1bb):_0x4b4d38(0x20e);const _0x55465d=document[_0x4b4d38(0x225)](_0x4b4d38(0x155));_0x55465d['style'][_0x4b4d38(0x203)]=_0x2c5395?_0x4b4d38(0x16e):_0x4b4d38(0x296);}function openAddSession(_0x1735c0){const _0x509319=a2_0xb51059;editingId=null,populateClientSelect(),document[_0x509319(0x225)](_0x509319(0x150))[_0x509319(0x2bd)]=_0x509319(0x243),document[_0x509319(0x225)]('btnDelete')['style'][_0x509319(0x199)]=_0x509319(0x20e),document[_0x509319(0x225)](_0x509319(0x20b))['style'][_0x509319(0x199)]=_0x509319(0x20e);const _0x3832c0=document[_0x509319(0x225)]('recurringOptionContainer'),_0x19b475=document[_0x509319(0x225)]('seriesCountContainer');_0x3832c0['style'][_0x509319(0x199)]=_0x509319(0x197),_0x3832c0[_0x509319(0x1ff)]['borderRadius']=_0x509319(0x296),document[_0x509319(0x225)](_0x509319(0x192))[_0x509319(0x2bb)]=![],document[_0x509319(0x225)](_0x509319(0x1dc))[_0x509319(0x16c)]=0x4,_0x19b475[_0x509319(0x1ff)][_0x509319(0x199)]=_0x509319(0x20e),document[_0x509319(0x225)](_0x509319(0x1f6))[_0x509319(0x16c)]=getLocalDateStr(_0x1735c0),updateDateDisplay();const _0x26eddc=_0x1735c0[_0x509319(0x280)]();document[_0x509319(0x225)](_0x509319(0x212))[_0x509319(0x16c)]=String(_0x26eddc)[_0x509319(0x146)](0x2,'0')+':00',document[_0x509319(0x225)](_0x509319(0x18b))[_0x509319(0x16c)]=String(_0x26eddc+0x1)[_0x509319(0x146)](0x2,'0')+':00',openSheet(_0x509319(0x257));}function openEdit(_0x3b594c){const _0x441e1f=a2_0xb51059;editingId=_0x3b594c['id'],populateClientSelect(),document[_0x441e1f(0x225)](_0x441e1f(0x150))[_0x441e1f(0x2bd)]=_0x441e1f(0x1db),document[_0x441e1f(0x225)](_0x441e1f(0x20d))['style'][_0x441e1f(0x199)]=_0x441e1f(0x1bb);const _0xc4c8d7=document[_0x441e1f(0x225)](_0x441e1f(0x20b));_0xc4c8d7[_0x441e1f(0x1ff)][_0x441e1f(0x199)]=_0x441e1f(0x197);_0x3b594c[_0x441e1f(0x263)]===_0x441e1f(0x26c)?(_0xc4c8d7[_0x441e1f(0x196)]=_0x441e1f(0x147),_0xc4c8d7[_0x441e1f(0x2c9)]=_0x441e1f(0x1d8)):(_0xc4c8d7['className']=_0x441e1f(0x2a2),_0xc4c8d7[_0x441e1f(0x2c9)]=_0x441e1f(0x2b3));const _0x52078a=!!_0x3b594c['seriesId'];document['getElementById'](_0x441e1f(0x155))['style'][_0x441e1f(0x199)]='none',document[_0x441e1f(0x225)](_0x441e1f(0x17b))[_0x441e1f(0x1ff)][_0x441e1f(0x199)]=_0x441e1f(0x20e),_0x52078a?(document[_0x441e1f(0x225)](_0x441e1f(0x1e3))['style'][_0x441e1f(0x199)]='flex',document[_0x441e1f(0x225)]('patternInfoBox')['querySelector']('.pib-text')[_0x441e1f(0x2bd)]=_0x441e1f(0x21d)):document[_0x441e1f(0x225)]('patternInfoBox')[_0x441e1f(0x1ff)][_0x441e1f(0x199)]=_0x441e1f(0x20e),document['getElementById'](_0x441e1f(0x1f3))[_0x441e1f(0x16c)]=_0x3b594c['client'],document[_0x441e1f(0x225)](_0x441e1f(0x1f6))['value']=_0x3b594c['dateStr'],document[_0x441e1f(0x225)]('inpStart')['value']=_0x3b594c[_0x441e1f(0x18e)],document[_0x441e1f(0x225)]('inpEnd')[_0x441e1f(0x16c)]=_0x3b594c[_0x441e1f(0x189)],document['getElementById'](_0x441e1f(0x15a))[_0x441e1f(0x16c)]=_0x3b594c['note']||'',updateDateDisplay(),openSheet(_0x441e1f(0x257));}async function trySaveSession(){const _0x21e3a1=a2_0xb51059,_0x5afada=document[_0x21e3a1(0x225)](_0x21e3a1(0x1f3))[_0x21e3a1(0x16c)],_0x1e3638=document[_0x21e3a1(0x225)](_0x21e3a1(0x1f6))['value'],_0x21f2e9=document[_0x21e3a1(0x225)](_0x21e3a1(0x212))[_0x21e3a1(0x16c)],_0x321156=document['getElementById'](_0x21e3a1(0x18b))[_0x21e3a1(0x16c)],_0x28f95f=document[_0x21e3a1(0x225)](_0x21e3a1(0x15a))[_0x21e3a1(0x16c)],_0x3a0b5f=document['getElementById'](_0x21e3a1(0x192))[_0x21e3a1(0x2bb)];let _0x35c0a8=0x4;if(_0x3a0b5f){const _0x1830e3=parseInt(document[_0x21e3a1(0x225)](_0x21e3a1(0x1dc))[_0x21e3a1(0x16c)]);if(!_0x1830e3||_0x1830e3<0x2){showToast(_0x21e3a1(0x1e4),![]);return;}if(_0x1830e3>0x64){showToast(_0x21e3a1(0x1f1),![]);return;}_0x35c0a8=_0x1830e3;}const _0x291698=clients['find'](_0x42f467=>_0x42f467[_0x21e3a1(0x1b9)]===_0x5afada);if(!_0x291698){showToast(_0x21e3a1(0x239),![]);return;}const _0x286660=validateAppointment(_0x1e3638,_0x21f2e9,_0x321156,editingId,_0x291698['id']);if(!_0x286660[_0x21e3a1(0x14d)]){showToast(_0x286660[_0x21e3a1(0x2c7)],![]);return;}_0x286660[_0x21e3a1(0x1b4)]&&showToast(_0x286660[_0x21e3a1(0x1b4)],![]);const _0x5597df={'client':_0x5afada,'clientId':_0x291698['id'],'start':_0x21f2e9,'end':_0x321156,'note':_0x28f95f,'status':'planned'},_0x4cb6d8=editingId?sessions[_0x21e3a1(0x247)](_0x53de3d=>_0x53de3d['id']===editingId):null;if(_0x4cb6d8&&_0x4cb6d8[_0x21e3a1(0x1f5)]){tempSessionData={..._0x5597df,'dateStr':_0x1e3638,'id':editingId,'seriesId':_0x4cb6d8['seriesId']},openActionSheet(_0x21e3a1(0x2a7));return;}let _0x17a157=null;if(!editingId)_0x17a157=_0x21e3a1(0x2a8);else{if(_0x4cb6d8){if(String(_0x4cb6d8[_0x21e3a1(0x1cd)])!==String(_0x291698['id']))console[_0x21e3a1(0x238)](_0x21e3a1(0x22d)),NotificationManager[_0x21e3a1(0x24c)](_0x21e3a1(0x213),_0x4cb6d8),_0x17a157='create';else(_0x4cb6d8[_0x21e3a1(0x18e)]!==_0x21f2e9||_0x4cb6d8['end']!==_0x321156||_0x4cb6d8[_0x21e3a1(0x1ea)]!==_0x1e3638)&&(_0x17a157=_0x21e3a1(0x2b6));}}if(!editingId&&_0x3a0b5f){createBatchSeries(_0x5597df,_0x1e3638,_0x35c0a8),NotificationManager['send'](_0x21e3a1(0x2a8),{..._0x5597df,'dateStr':_0x1e3638});return;}lastUserActionTime=Date[_0x21e3a1(0x14a)]();const _0x3816ca={..._0x5597df,'dateStr':_0x1e3638,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x3816ca),_0x17a157&&NotificationManager['send'](_0x17a157,_0x3816ca);}function toggleSessionStatus(){const _0x3be683=a2_0xb51059;lastUserActionTime=Date[_0x3be683(0x14a)]();const _0xd030c=sessions['find'](_0x5493e1=>_0x5493e1['id']===editingId);if(!_0xd030c)return;const _0x17be01=_0xd030c[_0x3be683(0x263)]==='completed'?_0x3be683(0x255):_0x3be683(0x26c);_0xd030c['status']=_0x17be01,saveSingleSession(_0xd030c),_0x17be01==='completed'&&NotificationManager[_0x3be683(0x24c)]('complete',_0xd030c),showToast(_0x17be01==='completed'?_0x3be683(0x1c2):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x45ace8,_0x26e8fb,_0x5f3347,_0x1636c0,_0x312430){const _0x1a8307=a2_0xb51059,[_0x24eecc,_0x93edc5]=_0x26e8fb[_0x1a8307(0x227)](':')[_0x1a8307(0x1c7)](Number),[_0x512ccb,_0x5c9b77]=_0x5f3347[_0x1a8307(0x227)](':')['map'](Number),_0xa342ea=_0x24eecc*0x3c+_0x93edc5,_0x1d4090=_0x512ccb*0x3c+_0x5c9b77,_0x439fb1=String(_0x312430);let _0x748961=![],_0x21e667='';for(let _0x5f0f7d of sessions){if(_0x5f0f7d[_0x1a8307(0x1ea)]!==_0x45ace8)continue;if(_0x5f0f7d[_0x1a8307(0x263)]===_0x1a8307(0x2b7))continue;if(_0x1636c0&&String(_0x5f0f7d['id'])===String(_0x1636c0))continue;const [_0x4c42df,_0x5b1503]=_0x5f0f7d[_0x1a8307(0x18e)][_0x1a8307(0x227)](':')[_0x1a8307(0x1c7)](Number),[_0x271cf1,_0x5ec683]=_0x5f0f7d[_0x1a8307(0x189)][_0x1a8307(0x227)](':')['map'](Number),_0x575603=_0x4c42df*0x3c+_0x5b1503,_0x506e0d=_0x271cf1*0x3c+_0x5ec683;if(Math[_0x1a8307(0x270)](_0xa342ea,_0x575603)<Math[_0x1a8307(0x1c4)](_0x1d4090,_0x506e0d)){if(_0x5f0f7d[_0x1a8307(0x1cd)]&&String(_0x5f0f7d[_0x1a8307(0x1cd)])===_0x439fb1)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x5f0f7d[_0x1a8307(0x22f)]+_0x1a8307(0x20a)};_0x748961=!![],_0x21e667=_0x5f0f7d[_0x1a8307(0x22f)];}}if(_0x748961)return{'valid':!![],'warning':_0x1a8307(0x19f)+_0x21e667};return{'valid':!![]};}function saveSingleSession(_0x524a66){const _0x2cb68f=a2_0xb51059;if(editingId){const _0x424eff=sessions['findIndex'](_0x29463e=>_0x29463e['id']===editingId);if(_0x424eff!==-0x1)sessions[_0x424eff]=_0x524a66;}else sessions[_0x2cb68f(0x24e)](_0x524a66);afterSaveAction([_0x524a66['dateStr']]);}function createBatchSeries(_0x230697,_0x97b8ae,_0x14d245){const _0x2b2e33=a2_0xb51059,_0x560525=generateId(),_0x240310=[],_0x43643a=[];let _0xf439cb=0x0,_0x3daa7e=new Date(_0x97b8ae);for(let _0x13432f=0x0;_0x13432f<_0x14d245;_0x13432f++){const _0x3cd50f=getLocalDateStr(_0x3daa7e),_0x4f54db=validateAppointment(_0x3cd50f,_0x230697[_0x2b2e33(0x18e)],_0x230697['end'],null,_0x230697[_0x2b2e33(0x1cd)]);if(!_0x4f54db[_0x2b2e33(0x14d)])console[_0x2b2e33(0x238)](_0x2b2e33(0x1ef)+_0x3cd50f+_0x2b2e33(0x2ae)),_0xf439cb++;else{const _0x5c173e={..._0x230697,'id':generateId(),'dateStr':_0x3cd50f,'seriesId':_0x560525};_0x43643a[_0x2b2e33(0x24e)](_0x5c173e),_0x240310[_0x2b2e33(0x24e)](_0x3cd50f);}_0x3daa7e[_0x2b2e33(0x292)](_0x3daa7e[_0x2b2e33(0x1cb)]()+0x7);}if(_0x43643a[_0x2b2e33(0x1d1)]===0x0){showToast(_0x2b2e33(0x251),![]);return;}sessions[_0x2b2e33(0x24e)](..._0x43643a),lastUserActionTime=Date[_0x2b2e33(0x14a)]();let _0x52bb36=_0x2b2e33(0x209)+_0x43643a[_0x2b2e33(0x1d1)];_0xf439cb>0x0&&(_0x52bb36+=_0x2b2e33(0x1d2)+_0xf439cb+')'),showToast(_0x52bb36,!![]),afterSaveAction(_0x240310);}function updateSeriesBatch(_0x2d289d,_0x591b3c){const _0x1db362=a2_0xb51059,_0x445b45=[],_0x5ac262=_0x591b3c[_0x1db362(0x1f5)];if(_0x2d289d===_0x1db362(0x23e)){const _0xd2d0aa={..._0x591b3c,'seriesId':null},_0x39b932=sessions['findIndex'](_0x13ae5f=>_0x13ae5f['id']===_0x591b3c['id']);if(_0x39b932!==-0x1)sessions[_0x39b932]=_0xd2d0aa;_0x445b45[_0x1db362(0x24e)](_0xd2d0aa[_0x1db362(0x1ea)]);}else{if(_0x2d289d===_0x1db362(0x182)){const _0x1202b4=_0x591b3c[_0x1db362(0x1ea)];sessions['forEach']((_0x161d51,_0x5e68f6)=>{const _0x1fd058=_0x1db362;_0x161d51[_0x1fd058(0x1f5)]===_0x5ac262&&_0x161d51[_0x1fd058(0x1ea)]>=_0x1202b4&&(sessions[_0x5e68f6]={...sessions[_0x5e68f6],'start':_0x591b3c[_0x1fd058(0x18e)],'end':_0x591b3c[_0x1fd058(0x189)],'note':_0x591b3c['note'],'client':_0x591b3c[_0x1fd058(0x22f)],'clientId':_0x591b3c['clientId']},_0x445b45[_0x1fd058(0x24e)](_0x161d51[_0x1fd058(0x1ea)]));});}}afterSaveAction(_0x445b45);}function a2_0x2392(_0x5d6df0,_0x49b593){_0x5d6df0=_0x5d6df0-0x146;const _0x5c37d4=a2_0x1c9c();let _0x512cc8=_0x5c37d4[_0x5d6df0];return _0x512cc8;}function tryDeleteSession(){const _0x3bb560=a2_0xb51059,_0x3e172a=sessions['find'](_0x3004db=>_0x3004db['id']===editingId);if(!_0x3e172a)return;_0x3e172a[_0x3bb560(0x1f5)]?openActionSheet(_0x3bb560(0x18d)):commitDelete('single',_0x3e172a);}function commitDelete(_0x2eb988,_0x5a5cd5){const _0x1495f2=a2_0xb51059;lastUserActionTime=Date['now'](),NotificationManager['send']('cancel',_0x5a5cd5);const _0x1b9579=[];if(_0x2eb988===_0x1495f2(0x23e))sessions=sessions[_0x1495f2(0x1fa)](_0x2395a2=>_0x2395a2['id']!==_0x5a5cd5['id']),_0x1b9579[_0x1495f2(0x24e)](_0x5a5cd5[_0x1495f2(0x1ea)]);else{if(_0x2eb988==='series'){const _0x454cd3=_0x5a5cd5['dateStr'],_0x76fe31=_0x5a5cd5[_0x1495f2(0x1f5)];sessions[_0x1495f2(0x20f)](_0x2acf7d=>{const _0xd645=_0x1495f2;_0x2acf7d['seriesId']===_0x76fe31&&_0x2acf7d[_0xd645(0x1ea)]>=_0x454cd3&&_0x1b9579[_0xd645(0x24e)](_0x2acf7d['dateStr']);}),sessions=sessions[_0x1495f2(0x1fa)](_0x51a672=>!(_0x51a672['seriesId']===_0x76fe31&&_0x51a672[_0x1495f2(0x1ea)]>=_0x454cd3));}}afterSaveAction(_0x1b9579);}function afterSaveAction(_0x3da59){const _0xe53dd8=a2_0xb51059;DataManager[_0xe53dd8(0x22b)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0xe53dd8(0x23b)](_0x3da59)[_0xe53dd8(0x272)](()=>console['log'](_0xe53dd8(0x1a8)))['catch'](_0x4a73f8=>showToast(_0xe53dd8(0x234),![]));}const NotificationManager={'formatDate'(_0x686ad6){const _0x5562de=a2_0xb51059,_0x5bcdf8=new Date(_0x686ad6),_0xe4e4fc={'weekday':'long','day':_0x5562de(0x1b7),'month':_0x5562de(0x2a9)};let _0x6cddab=_0x5bcdf8[_0x5562de(0x283)]('ru-RU',_0xe4e4fc);return _0x6cddab[_0x5562de(0x158)](0x0)[_0x5562de(0x24d)]()+_0x6cddab['slice'](0x1);},'getText'(_0x48fd8b,_0xa6aacb){const _0x228eaf=a2_0xb51059,_0x114d5f=this[_0x228eaf(0x183)](_0xa6aacb[_0x228eaf(0x1ea)]);switch(_0x48fd8b){case _0x228eaf(0x2a8):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x228eaf(0x1fc)+_0x114d5f+'\x0a')+(_0x228eaf(0x177)+_0xa6aacb[_0x228eaf(0x18e)]+_0x228eaf(0x1d7)+_0xa6aacb['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x228eaf(0x2b6):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x228eaf(0x1d6)+(_0x228eaf(0x156)+_0xa6aacb[_0x228eaf(0x18e)]+_0x228eaf(0x1d7)+_0xa6aacb['end']+_0x228eaf(0x2bf))+(_0x228eaf(0x1fc)+_0x114d5f);case _0x228eaf(0x213):return _0x228eaf(0x1b8)+(_0x228eaf(0x1d5)+_0x114d5f+'\x20('+_0xa6aacb[_0x228eaf(0x18e)]+_0x228eaf(0x1b0));case'complete':return _0x228eaf(0x21f)+_0x228eaf(0x188)+_0x228eaf(0x176);default:return'';}},async 'send'(_0x10b04f,_0x2152dd){const _0x2fa9be=a2_0xb51059;console[_0x2fa9be(0x238)](_0x2fa9be(0x268),_0x10b04f,_0x2152dd);if(!_0x2152dd){console[_0x2fa9be(0x28c)](_0x2fa9be(0x27d));return;}const _0x2795f5=String(_0x2152dd['clientId']);console[_0x2fa9be(0x238)](_0x2fa9be(0x1ed),_0x2795f5);if(!_0x2152dd[_0x2fa9be(0x1cd)]||_0x2795f5===_0x2fa9be(0x193)||_0x2795f5==='null'){console[_0x2fa9be(0x28c)](_0x2fa9be(0x28b));if(_0x2152dd['client']){const _0x48cb19=clients[_0x2fa9be(0x247)](_0x20d687=>_0x20d687[_0x2fa9be(0x1b9)]===_0x2152dd[_0x2fa9be(0x22f)]);if(_0x48cb19)return console[_0x2fa9be(0x238)](_0x2fa9be(0x25c),_0x48cb19['id']),this[_0x2fa9be(0x24c)](_0x10b04f,{..._0x2152dd,'clientId':_0x48cb19['id']});}return;}if(_0x2795f5[_0x2fa9be(0x1d1)]<0x5){console[_0x2fa9be(0x1ae)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x2795f5);return;}const _0x402bb9=this[_0x2fa9be(0x1a4)](_0x10b04f,_0x2152dd);if(!_0x402bb9){console[_0x2fa9be(0x28c)](_0x2fa9be(0x22a));return;}console[_0x2fa9be(0x238)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x2795f5+_0x2fa9be(0x271)),DataManager[_0x2fa9be(0x1a5)](_0x2fa9be(0x252),{'chatId':_0x2795f5,'text':_0x402bb9})['then'](_0x13d160=>console[_0x2fa9be(0x238)](_0x2fa9be(0x17e),_0x13d160))[_0x2fa9be(0x2c6)](_0x436e93=>console['error']('[Notify]\x20Network\x20Failed',_0x436e93));}};function getLocalDateStr(_0x58a02c){const _0x5bd5df=a2_0xb51059,_0x25f639=_0x58a02c[_0x5bd5df(0x261)](),_0x438774=String(_0x58a02c[_0x5bd5df(0x198)]()+0x1)[_0x5bd5df(0x146)](0x2,'0'),_0x4c0f30=String(_0x58a02c[_0x5bd5df(0x1cb)]())[_0x5bd5df(0x146)](0x2,'0');return _0x25f639+'-'+_0x438774+'-'+_0x4c0f30;}function getDateStr(_0x3f2531){const _0x81c4b7=a2_0xb51059,_0x19f200=new Date();return _0x19f200[_0x81c4b7(0x292)](_0x19f200['getDate']()+_0x3f2531),getLocalDateStr(_0x19f200);}function getStartOfWeek(_0x6b822f){const _0x352661=a2_0xb51059,_0x23c643=(function(){let _0x157984=!![];return function(_0x557a34,_0x4f64b1){const _0x5d7585=_0x157984?function(){if(_0x4f64b1){const _0xab4f55=_0x4f64b1['apply'](_0x557a34,arguments);return _0x4f64b1=null,_0xab4f55;}}:function(){};return _0x157984=![],_0x5d7585;};}()),_0x509fd5=_0x23c643(this,function(){const _0x2b4639=a2_0x2392;return _0x509fd5[_0x2b4639(0x171)]()[_0x2b4639(0x228)]('(((.+)+)+)+$')[_0x2b4639(0x171)]()['constructor'](_0x509fd5)[_0x2b4639(0x228)](_0x2b4639(0x2ba));});_0x509fd5();const _0x11edc7=new Date(_0x6b822f),_0xd8f356=_0x11edc7[_0x352661(0x1b5)](),_0x5aa96d=_0x11edc7[_0x352661(0x1cb)]()-_0xd8f356+(_0xd8f356===0x0?-0x6:0x1);return _0x11edc7['setDate'](_0x5aa96d),_0x11edc7[_0x352661(0x253)](0x0,0x0,0x0,0x0),_0x11edc7;}function hexToRgba(_0x2597df,_0x29511b){const _0x2a330e=a2_0xb51059;if(!_0x2597df)return _0x2a330e(0x262);let _0x2cde0f=0x0,_0x4011b2=0x0,_0x1f35a5=0x0;if(_0x2597df[_0x2a330e(0x1d1)]===0x4)_0x2cde0f='0x'+_0x2597df[0x1]+_0x2597df[0x1],_0x4011b2='0x'+_0x2597df[0x2]+_0x2597df[0x2],_0x1f35a5='0x'+_0x2597df[0x3]+_0x2597df[0x3];else _0x2597df[_0x2a330e(0x1d1)]===0x7&&(_0x2cde0f='0x'+_0x2597df[0x1]+_0x2597df[0x2],_0x4011b2='0x'+_0x2597df[0x3]+_0x2597df[0x4],_0x1f35a5='0x'+_0x2597df[0x5]+_0x2597df[0x6]);return'rgba('+ +_0x2cde0f+',\x20'+ +_0x4011b2+',\x20'+ +_0x1f35a5+',\x20'+_0x29511b+')';}function renderTimeColumn(){const _0x3d50fe=a2_0xb51059,_0x6e2886=document['getElementById'](_0x3d50fe(0x24a)),_0x23e527=document[_0x3d50fe(0x225)](_0x3d50fe(0x1e9));_0x6e2886[_0x3d50fe(0x2c9)]='',_0x6e2886[_0x3d50fe(0x27e)](_0x23e527);for(let _0xbc32c4=0x0;_0xbc32c4<0x18;_0xbc32c4++){const _0x3679ba=document[_0x3d50fe(0x157)](_0x3d50fe(0x240));_0x3679ba[_0x3d50fe(0x196)]=_0x3d50fe(0x151);if(_0xbc32c4>0x0)_0x3679ba[_0x3d50fe(0x2c9)]='<span>'+String(_0xbc32c4)[_0x3d50fe(0x146)](0x2,'0')+_0x3d50fe(0x220);_0x6e2886[_0x3d50fe(0x27e)](_0x3679ba);}}function renderDayRange(_0x2dc6c1,_0x82e54c){const _0x41569b=a2_0xb51059,_0x446f6c=document['getElementById'](_0x41569b(0x29a)),_0x30dd19=document[_0x41569b(0x225)](_0x41569b(0x25f)),_0xe96a03=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2f2410=new Date();_0x2f2410['setHours'](0x0,0x0,0x0,0x0);const _0x161b82=getLocalDateStr(new Date());for(let _0x3677e7=_0x2dc6c1;_0x3677e7<=_0x82e54c;_0x3677e7++){const _0x169eb9=new Date(_0x2f2410);_0x169eb9[_0x41569b(0x292)](_0x169eb9[_0x41569b(0x1cb)]()+_0x3677e7);const _0x4e4210=getLocalDateStr(_0x169eb9);let _0x7fd327=_0x169eb9[_0x41569b(0x1b5)]()-0x1;if(_0x7fd327===-0x1)_0x7fd327=0x6;const _0x57e06e=_0x4e4210===_0x161b82,_0x3cc5af=document[_0x41569b(0x157)](_0x41569b(0x240));_0x3cc5af[_0x41569b(0x196)]=_0x41569b(0x175)+(_0x57e06e?_0x41569b(0x173):''),_0x3cc5af['id']=_0x41569b(0x1b3)+_0x4e4210,_0x3cc5af['setAttribute'](_0x41569b(0x18a),_0x4e4210),_0x3cc5af[_0x41569b(0x2c9)]=_0x41569b(0x1c0)+_0xe96a03[_0x7fd327]+_0x41569b(0x267)+_0x169eb9[_0x41569b(0x1cb)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4e4210+_0x41569b(0x2c3),_0x3cc5af[_0x41569b(0x269)]=()=>openDayOptions(_0x4e4210,_0xe96a03[_0x7fd327]+'\x20'+_0x169eb9[_0x41569b(0x1cb)]()),_0x446f6c[_0x41569b(0x27e)](_0x3cc5af);const _0xde3285=document[_0x41569b(0x157)]('div');_0xde3285['className']=_0x41569b(0x165)+(_0x57e06e?_0x41569b(0x173):''),_0xde3285['setAttribute'](_0x41569b(0x18a),_0x4e4210),_0xde3285[_0x41569b(0x266)](_0x41569b(0x1f9),_0x7fd327),renderEventsForColumn(_0xde3285,_0x4e4210,_0x7fd327),attachLongPressHandler(_0xde3285,_0x169eb9),_0x30dd19[_0x41569b(0x27e)](_0xde3285),updateDayStats(_0x4e4210);}}function reRenderBlocks(){const _0x1b205c=a2_0xb51059;document[_0x1b205c(0x25b)](_0x1b205c(0x248))[_0x1b205c(0x20f)](_0x3cb484=>{const _0x4eac72=_0x1b205c;_0x3cb484[_0x4eac72(0x25b)](_0x4eac72(0x25e))[_0x4eac72(0x20f)](_0x366876=>_0x366876[_0x4eac72(0x260)]());const _0x1e4be3=_0x3cb484[_0x4eac72(0x21a)](_0x4eac72(0x18a)),_0x1005d0=parseInt(_0x3cb484['getAttribute']('data-day-idx')),_0x1a9085=Math[_0x4eac72(0x163)](_0x3cb484[_0x4eac72(0x1a2)]);(availabilityPattern[_0x1005d0]||[])[_0x4eac72(0x20f)](_0x5b2bdf=>{const _0xff01d7=_0x4eac72,_0x5adc9b=document[_0xff01d7(0x157)](_0xff01d7(0x240));_0x5adc9b[_0xff01d7(0x196)]=_0xff01d7(0x29c);const _0x84f366=_0x5b2bdf*GRID_H;_0x5adc9b[_0xff01d7(0x1ff)][_0xff01d7(0x224)]=_0x84f366+'px',_0x5adc9b['style'][_0xff01d7(0x166)]='-'+_0x1a9085+_0xff01d7(0x19b)+_0x84f366+'px',_0x3cb484[_0xff01d7(0x27e)](_0x5adc9b);});if(specialRanges&&specialRanges['length']>0x0){const _0x45aef3=new Date(_0x1e4be3+'T00:00:00')['getTime'](),_0x216465=new Date(_0x1e4be3+_0x4eac72(0x1ba))['getTime']();specialRanges['forEach'](_0x4211f8=>{const _0x5561a5=_0x4eac72,_0xe739eb=new Date(_0x4211f8['start'])[_0x5561a5(0x178)](),_0x1e1ba7=new Date(_0x4211f8['end'])[_0x5561a5(0x178)](),_0x2c7cb9=Math['max'](_0x45aef3,_0xe739eb),_0x55b4ff=Math[_0x5561a5(0x1c4)](_0x216465,_0x1e1ba7);if(_0x2c7cb9<_0x55b4ff){if(_0x2c7cb9<=_0x45aef3&&_0x55b4ff>=_0x216465-0xea60){if(!_0x3cb484[_0x5561a5(0x219)](_0x5561a5(0x201))){const _0x46101a=document[_0x5561a5(0x157)](_0x5561a5(0x240));_0x46101a[_0x5561a5(0x196)]=_0x5561a5(0x180),_0x46101a[_0x5561a5(0x1ff)][_0x5561a5(0x166)]='-'+_0x1a9085+_0x5561a5(0x1da),_0x3cb484[_0x5561a5(0x27e)](_0x46101a);}}else{const _0x124044=(_0x2c7cb9-_0x45aef3)/0x36ee80*GRID_H,_0x5b787d=(_0x55b4ff-_0x2c7cb9)/0x36ee80*GRID_H,_0x4f8e06=document[_0x5561a5(0x157)](_0x5561a5(0x240));_0x4f8e06[_0x5561a5(0x196)]=_0x5561a5(0x278),_0x4f8e06[_0x5561a5(0x1ff)][_0x5561a5(0x224)]=_0x124044+'px',_0x4f8e06[_0x5561a5(0x1ff)][_0x5561a5(0x28e)]=_0x5b787d+'px',_0x4f8e06[_0x5561a5(0x1ff)][_0x5561a5(0x166)]='-'+_0x1a9085+_0x5561a5(0x19b)+_0x124044+'px',_0x3cb484[_0x5561a5(0x27e)](_0x4f8e06);}}});}if(dateExceptions[_0x1e4be3]===_0x4eac72(0x1fe)){if(!_0x3cb484['querySelector']('.day-off-overlay')){const _0xb0088b=document['createElement']('div');_0xb0088b[_0x4eac72(0x196)]=_0x4eac72(0x180),_0xb0088b[_0x4eac72(0x1ff)][_0x4eac72(0x166)]='-'+_0x1a9085+_0x4eac72(0x1da),_0x3cb484[_0x4eac72(0x27e)](_0xb0088b);}}renderEventsForColumn(_0x3cb484,_0x1e4be3,_0x1005d0),updateDayStats(_0x1e4be3);});}function updateAllDayStats(){const _0x131f44=a2_0xb51059;document[_0x131f44(0x25b)](_0x131f44(0x1de))[_0x131f44(0x20f)](_0xf232ba=>{const _0x149c56=_0x131f44;updateDayStats(_0xf232ba['getAttribute'](_0x149c56(0x18a)));});}function updateDayStats(_0x3b002f){const _0x1bdf59=a2_0xb51059,_0x561e89=document[_0x1bdf59(0x225)](_0x1bdf59(0x287)+_0x3b002f);if(!_0x561e89)return;const _0x18946c=new Date(_0x3b002f);let _0x509795=_0x18946c[_0x1bdf59(0x1b5)]()-0x1;if(_0x509795===-0x1)_0x509795=0x6;if(dateExceptions[_0x3b002f]==='off'){_0x561e89[_0x1bdf59(0x1ff)][_0x1bdf59(0x199)]=_0x1bdf59(0x20e);return;}const _0x12152a=availabilityPattern[_0x509795]||[],_0x2fd3ce=0x18-_0x12152a[_0x1bdf59(0x1d1)],_0x259b50=_0x2fd3ce*0x3c,_0x592014=sessions[_0x1bdf59(0x1fa)](_0xe27eb7=>_0xe27eb7[_0x1bdf59(0x1ea)]===_0x3b002f&&_0xe27eb7['status']!=='cancelled');if(_0x592014[_0x1bdf59(0x1d1)]===0x0){_0x561e89[_0x1bdf59(0x1ff)][_0x1bdf59(0x199)]=_0x1bdf59(0x20e);return;}let _0x2cae0a=_0x592014[_0x1bdf59(0x1c7)](_0x3aff80=>{const _0x292193=_0x1bdf59,[_0x5b210f,_0x36e47b]=_0x3aff80[_0x292193(0x18e)][_0x292193(0x227)](':')['map'](Number),[_0x262786,_0x5d5d54]=_0x3aff80[_0x292193(0x189)]['split'](':')[_0x292193(0x1c7)](Number);return[_0x5b210f*0x3c+_0x36e47b,_0x262786*0x3c+_0x5d5d54];});_0x2cae0a['sort']((_0x588d5c,_0x2a8dbf)=>_0x588d5c[0x0]-_0x2a8dbf[0x0]);let _0x50559a=[];if(_0x2cae0a['length']>0x0){let _0x235a5d=_0x2cae0a[0x0];for(let _0x573d62=0x1;_0x573d62<_0x2cae0a[_0x1bdf59(0x1d1)];_0x573d62++){_0x2cae0a[_0x573d62][0x0]<_0x235a5d[0x1]?_0x235a5d[0x1]=Math[_0x1bdf59(0x270)](_0x235a5d[0x1],_0x2cae0a[_0x573d62][0x1]):(_0x50559a[_0x1bdf59(0x24e)](_0x235a5d),_0x235a5d=_0x2cae0a[_0x573d62]);}_0x50559a[_0x1bdf59(0x24e)](_0x235a5d);}let _0x1f6c3d=0x0;_0x50559a['forEach'](_0x5e2f29=>_0x1f6c3d+=_0x5e2f29[0x1]-_0x5e2f29[0x0]),_0x561e89[_0x1bdf59(0x1ff)][_0x1bdf59(0x199)]=_0x1bdf59(0x197);const _0x5f26ce=_0x561e89[_0x1bdf59(0x219)](_0x1bdf59(0x297));if(_0x259b50===0x0){_0x5f26ce[_0x1bdf59(0x1ff)][_0x1bdf59(0x186)]=_0x1bdf59(0x18c),_0x5f26ce[_0x1bdf59(0x1ff)][_0x1bdf59(0x1ab)]=_0x1bdf59(0x254);return;}const _0x5b3a87=_0x1f6c3d/_0x259b50*0x64;console[_0x1bdf59(0x238)]('['+_0x3b002f+_0x1bdf59(0x250)+_0x2fd3ce+'—á,\x20–ó–∞–Ω—è—Ç–æ:\x20'+_0x1f6c3d+_0x1bdf59(0x2ac)+_0x5b3a87['toFixed'](0x1)+'%'),_0x5b3a87>0x64?(_0x5f26ce[_0x1bdf59(0x1ff)][_0x1bdf59(0x186)]=_0x1bdf59(0x18c),_0x5f26ce['style']['background']=_0x1bdf59(0x254)):(_0x5f26ce[_0x1bdf59(0x1ff)][_0x1bdf59(0x186)]=_0x5b3a87+'%',_0x5f26ce[_0x1bdf59(0x1ff)][_0x1bdf59(0x1ab)]=_0x1bdf59(0x160));}function renderEventsForColumn(_0x3c4f71,_0x35421f,_0x240371){const _0x397888=a2_0xb51059,_0x564922=sessions['filter'](_0x25b4a7=>_0x25b4a7['dateStr']===_0x35421f),_0x5a56ea=_0x564922[_0x397888(0x1c7)](_0x43f490=>{const _0x2fff6d=_0x397888,[_0x4aa99d,_0x152d03]=_0x43f490['start']['split'](':')[_0x2fff6d(0x1c7)](Number),[_0xf4b6fc,_0x73401a]=_0x43f490[_0x2fff6d(0x189)][_0x2fff6d(0x227)](':')[_0x2fff6d(0x1c7)](Number);return{'data':_0x43f490,'start':_0x4aa99d*0x3c+_0x152d03,'end':_0xf4b6fc*0x3c+_0x73401a,'colIndex':0x0};});_0x5a56ea['sort']((_0x27f971,_0x55eeb9)=>{const _0x5d887d=_0x397888;if(_0x27f971[_0x5d887d(0x18e)]!==_0x55eeb9[_0x5d887d(0x18e)])return _0x27f971['start']-_0x55eeb9['start'];return _0x55eeb9[_0x5d887d(0x189)]-_0x55eeb9[_0x5d887d(0x18e)]-(_0x27f971[_0x5d887d(0x189)]-_0x27f971['start']);});const _0x38ccc3=[];_0x5a56ea[_0x397888(0x20f)](_0x454b3b=>{const _0x4b2890=_0x397888;let _0x1289dd=![];for(let _0x2cf84c=0x0;_0x2cf84c<_0x38ccc3[_0x4b2890(0x1d1)];_0x2cf84c++){const _0x5ebe85=_0x38ccc3[_0x2cf84c],_0x5b3c7f=_0x5ebe85[_0x5ebe85['length']-0x1];if(_0x454b3b['start']>=_0x5b3c7f[_0x4b2890(0x189)]){_0x5ebe85[_0x4b2890(0x24e)](_0x454b3b),_0x454b3b[_0x4b2890(0x28f)]=_0x2cf84c,_0x1289dd=!![];break;}}!_0x1289dd&&(_0x38ccc3[_0x4b2890(0x24e)]([_0x454b3b]),_0x454b3b[_0x4b2890(0x28f)]=_0x38ccc3[_0x4b2890(0x1d1)]-0x1);}),_0x5a56ea[_0x397888(0x20f)](_0x5a9cb7=>{const _0x5c6391=_0x397888;let _0x333a56=0x0;_0x5a56ea[_0x5c6391(0x20f)](_0x531f61=>{const _0x3aeae0=_0x5c6391;if(Math[_0x3aeae0(0x270)](_0x5a9cb7['start'],_0x531f61['start'])<Math[_0x3aeae0(0x1c4)](_0x5a9cb7[_0x3aeae0(0x189)],_0x531f61[_0x3aeae0(0x189)])){if(_0x531f61['colIndex']>_0x333a56)_0x333a56=_0x531f61[_0x3aeae0(0x28f)];}});const _0x571bab=_0x333a56+0x1,_0x1149b5=0x64/_0x571bab,_0x3e24dd=_0x5a9cb7[_0x5c6391(0x28f)]*_0x1149b5,_0x4392ea=createEventEl(_0x5a9cb7[_0x5c6391(0x1fb)]);_0x4392ea[_0x5c6391(0x1ff)]['width']=_0x5c6391(0x264)+_0x1149b5+'%\x20-\x204px)',_0x4392ea['style']['left']=_0x5c6391(0x264)+_0x3e24dd+_0x5c6391(0x1f7),_0x4392ea[_0x5c6391(0x1ff)][_0x5c6391(0x19d)]=0xa+_0x5a9cb7[_0x5c6391(0x28f)],_0x1149b5<0x55&&_0x4392ea[_0x5c6391(0x14e)]['add'](_0x5c6391(0x27c)),_0x3c4f71[_0x5c6391(0x27e)](_0x4392ea);});}function createEventEl(_0x3bba14){const _0x430d64=a2_0xb51059,[_0x189019,_0x2d6694]=_0x3bba14[_0x430d64(0x18e)]['split'](':')['map'](Number),[_0x3afa1f,_0x25a6a8]=_0x3bba14['end'][_0x430d64(0x227)](':')[_0x430d64(0x1c7)](Number),_0x38919d=(_0x189019*0x3c+_0x2d6694)/0x3c*GRID_H,_0x40c308=(_0x3afa1f*0x3c+_0x25a6a8-(_0x189019*0x3c+_0x2d6694))/0x3c*GRID_H,_0x5671ae=document['createElement']('div'),_0x4cc243=_0x3bba14[_0x430d64(0x263)]===_0x430d64(0x26c)?'\x20status-completed':'';_0x5671ae['className']=_0x430d64(0x15f)+_0x4cc243,_0x5671ae['style'][_0x430d64(0x224)]=_0x38919d+'px',_0x5671ae[_0x430d64(0x1ff)][_0x430d64(0x28e)]=Math[_0x430d64(0x270)](_0x40c308,0x14)+'px';const _0x15078e=clients[_0x430d64(0x247)](_0x27c646=>_0x3bba14[_0x430d64(0x1cd)]&&String(_0x27c646['id'])===String(_0x3bba14[_0x430d64(0x1cd)])||_0x27c646[_0x430d64(0x1b9)]===_0x3bba14[_0x430d64(0x22f)]),_0x138e73=_0x15078e?_0x15078e[_0x430d64(0x1b6)]:_0x430d64(0x295);_0x5671ae[_0x430d64(0x1ff)]['borderLeftColor']=_0x138e73,_0x5671ae[_0x430d64(0x1ff)][_0x430d64(0x249)]=hexToRgba(_0x138e73,0.85);let _0x12bb82=_0x430d64(0x284)+_0x3bba14['client']+_0x430d64(0x17a)+_0x3bba14['start']+_0x430d64(0x298)+_0x3bba14['end']+_0x430d64(0x1f2);return _0x3bba14[_0x430d64(0x1f5)]&&(_0x12bb82+=_0x430d64(0x26f)),_0x3bba14[_0x430d64(0x263)]==='completed'&&(_0x12bb82+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x5671ae[_0x430d64(0x2c9)]=_0x12bb82,_0x5671ae['onclick']=_0x2d500d=>{_0x2d500d['stopPropagation'](),openEdit(_0x3bba14);},_0x5671ae;}function attachLongPressHandler(_0x26420f,_0xd8dff8){const _0x589a6f=a2_0xb51059;let _0x2c8637=0x0,_0x20453b=null;const _0x1b1cb4=_0x145a7a=>{const _0x4de89b=a2_0x2392;if(_0x145a7a[_0x4de89b(0x1b1)][_0x4de89b(0x169)](_0x4de89b(0x265)))return;isScrolling=![],_0x2c8637=_0x145a7a[_0x4de89b(0x2a6)]?_0x145a7a[_0x4de89b(0x2a6)][0x0][_0x4de89b(0x205)]:_0x145a7a['clientY'],_0x20453b=setTimeout(()=>{const _0x226a20=_0x4de89b;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x2f1b9c=_0x26420f['getBoundingClientRect'](),_0xbbe077=Math[_0x226a20(0x16f)]((_0x2c8637-_0x2f1b9c[_0x226a20(0x224)])/GRID_H);_0xd8dff8[_0x226a20(0x253)](_0xbbe077,0x0),openAddSession(_0xd8dff8);}},0x1f4);},_0x23529c=()=>{isScrolling=!![],clearTimeout(_0x20453b);},_0x305704=()=>{clearTimeout(_0x20453b);};_0x26420f[_0x589a6f(0x15e)](_0x589a6f(0x242),_0x1b1cb4,{'passive':!![]}),_0x26420f[_0x589a6f(0x15e)](_0x589a6f(0x22c),_0x23529c,{'passive':!![]}),_0x26420f['addEventListener'](_0x589a6f(0x236),_0x305704),_0x26420f[_0x589a6f(0x15e)](_0x589a6f(0x237),_0x1b1cb4),_0x26420f[_0x589a6f(0x15e)](_0x589a6f(0x241),_0x23529c),_0x26420f[_0x589a6f(0x15e)]('mouseup',_0x305704);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4f61cf=a2_0xb51059,_0x50963b=document[_0x4f61cf(0x225)](_0x4f61cf(0x218)),_0x10e5c0=_0x50963b[_0x4f61cf(0x210)],_0x248e6d=_0x50963b[_0x4f61cf(0x1dd)],_0x2310a9=_0x50963b[_0x4f61cf(0x1ac)];if(_0x248e6d-(_0x10e5c0+_0x2310a9)<0x12c){const _0x375b55=endOffset;endOffset+=0xe,renderDayRange(_0x375b55+0x1,endOffset),reRenderBlocks();}if(_0x10e5c0<0x12c){const _0x43c99e=startOffset;startOffset-=0xe,prependDays(startOffset,_0x43c99e-0x1),_0x50963b[_0x4f61cf(0x210)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x445911,_0x25baf7){const _0x58ea24=a2_0xb51059,_0x7e407=document['getElementById']('daysHeaderTrack'),_0x2aa6cf=document[_0x58ea24(0x225)](_0x58ea24(0x25f)),_0x3103ea=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x23e66c=new Date();_0x23e66c[_0x58ea24(0x253)](0x0,0x0,0x0,0x0);const _0x19fedc=getLocalDateStr(new Date()),_0x33a3c3=document[_0x58ea24(0x190)](),_0x24fd69=document[_0x58ea24(0x190)]();for(let _0x358975=_0x445911;_0x358975<=_0x25baf7;_0x358975++){const _0x2b0d20=new Date(_0x23e66c);_0x2b0d20[_0x58ea24(0x292)](_0x2b0d20[_0x58ea24(0x1cb)]()+_0x358975);const _0x48df21=getLocalDateStr(_0x2b0d20);let _0x2ed567=_0x2b0d20['getDay']()-0x1;if(_0x2ed567===-0x1)_0x2ed567=0x6;const _0x42e8cf=_0x48df21===_0x19fedc,_0x747608=document[_0x58ea24(0x157)](_0x58ea24(0x240));_0x747608[_0x58ea24(0x196)]=_0x58ea24(0x175)+(_0x42e8cf?_0x58ea24(0x173):''),_0x747608['id']='header-'+_0x48df21,_0x747608[_0x58ea24(0x266)](_0x58ea24(0x18a),_0x48df21),_0x747608[_0x58ea24(0x2c9)]=_0x58ea24(0x1c0)+_0x3103ea[_0x2ed567]+_0x58ea24(0x267)+_0x2b0d20['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x48df21+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x747608[_0x58ea24(0x269)]=()=>openDayOptions(_0x48df21,_0x3103ea[_0x2ed567]+'\x20'+_0x2b0d20['getDate']()),_0x33a3c3['appendChild'](_0x747608);const _0x225d69=document['createElement'](_0x58ea24(0x240));_0x225d69[_0x58ea24(0x196)]=_0x58ea24(0x165)+(_0x42e8cf?_0x58ea24(0x173):''),_0x225d69[_0x58ea24(0x266)](_0x58ea24(0x18a),_0x48df21),_0x225d69[_0x58ea24(0x266)](_0x58ea24(0x1f9),_0x2ed567),renderEventsForColumn(_0x225d69,_0x48df21,_0x2ed567),attachLongPressHandler(_0x225d69,_0x2b0d20),_0x24fd69['appendChild'](_0x225d69),updateDayStats(_0x48df21);}_0x7e407[_0x58ea24(0x1d4)](_0x33a3c3,_0x7e407[_0x58ea24(0x1e1)]),_0x2aa6cf[_0x58ea24(0x1d4)](_0x24fd69,_0x2aa6cf['querySelector'](_0x58ea24(0x214)));}function validateAppointment(_0x384647,_0x42d9f7,_0x300e9c,_0x272a42,_0x2b9a01){const _0x350c0f=a2_0xb51059,[_0x2b34a2,_0x4e44fa]=_0x42d9f7[_0x350c0f(0x227)](':')['map'](Number),[_0x259b3a,_0x3056d8]=_0x300e9c[_0x350c0f(0x227)](':')[_0x350c0f(0x1c7)](Number),_0x12c3f6=_0x2b34a2*0x3c+_0x4e44fa,_0x5602c3=_0x259b3a*0x3c+_0x3056d8,_0x29bda4=String(_0x2b9a01);let _0x278207=![],_0x1d2737='';for(let _0x45db09 of sessions){if(_0x45db09['dateStr']!==_0x384647)continue;if(_0x45db09['status']===_0x350c0f(0x2b7))continue;if(_0x272a42&&String(_0x45db09['id'])===String(_0x272a42))continue;const [_0x55eb8f,_0x18ec06]=_0x45db09[_0x350c0f(0x18e)][_0x350c0f(0x227)](':')[_0x350c0f(0x1c7)](Number),[_0x4b6f71,_0xe5498e]=_0x45db09[_0x350c0f(0x189)][_0x350c0f(0x227)](':')[_0x350c0f(0x1c7)](Number),_0x5cb06e=_0x55eb8f*0x3c+_0x18ec06,_0x2dd731=_0x4b6f71*0x3c+_0xe5498e;if(Math[_0x350c0f(0x270)](_0x12c3f6,_0x5cb06e)<Math[_0x350c0f(0x1c4)](_0x5602c3,_0x2dd731)){if(_0x45db09['clientId']&&String(_0x45db09['clientId'])===_0x29bda4)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x45db09[_0x350c0f(0x22f)]+_0x350c0f(0x20a)};_0x278207=!![],_0x1d2737=_0x45db09['client'];}}if(_0x278207)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x1d2737};return{'valid':!![]};}function updateDateDisplay(){const _0x590d80=a2_0xb51059,_0x271a66=document[_0x590d80(0x225)](_0x590d80(0x1f6))[_0x590d80(0x16c)],_0x27d8ca=document[_0x590d80(0x225)](_0x590d80(0x17d));if(!_0x271a66){_0x27d8ca[_0x590d80(0x2bd)]='';return;}const [_0x13a025,_0x2fc07e,_0x471842]=_0x271a66[_0x590d80(0x227)]('-')['map'](Number),_0x232d23=new Date(_0x13a025,_0x2fc07e-0x1,_0x471842),_0x2f6b3b={'weekday':_0x590d80(0x2a9),'day':_0x590d80(0x1b7),'month':_0x590d80(0x2a9),'year':_0x590d80(0x1b7)};let _0x1d3d28=_0x232d23[_0x590d80(0x283)](_0x590d80(0x2af),_0x2f6b3b);_0x1d3d28=_0x1d3d28[_0x590d80(0x158)](0x0)[_0x590d80(0x24d)]()+_0x1d3d28[_0x590d80(0x1e5)](0x1),_0x27d8ca[_0x590d80(0x2bd)]=_0x1d3d28;}function autoSetEndTime(){const _0x18b9a7=a2_0xb51059,_0x22be4d=document[_0x18b9a7(0x225)](_0x18b9a7(0x212))['value'];if(!_0x22be4d)return;const [_0x17ad18,_0x52701e]=_0x22be4d[_0x18b9a7(0x227)](':')[_0x18b9a7(0x1c7)](Number);let _0x953dcf=_0x17ad18+0x1;if(_0x953dcf>0x17)_0x953dcf=0x0;const _0x4ad425=String(_0x953dcf)['padStart'](0x2,'0')+':'+String(_0x52701e)[_0x18b9a7(0x146)](0x2,'0');document[_0x18b9a7(0x225)](_0x18b9a7(0x18b))[_0x18b9a7(0x16c)]=_0x4ad425;}function populateClientSelect(){const _0x4d20f4=a2_0xb51059,_0x191777=document[_0x4d20f4(0x225)](_0x4d20f4(0x1f3));_0x191777['innerHTML']='';if(clients['length']===0x0){const _0x1b6c6a=document[_0x4d20f4(0x157)]('option');_0x1b6c6a['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x191777[_0x4d20f4(0x27e)](_0x1b6c6a);return;}clients['forEach'](_0x3ca0ba=>{const _0x49eee8=_0x4d20f4,_0x5ad27b=document[_0x49eee8(0x157)]('option');_0x5ad27b[_0x49eee8(0x16c)]=_0x3ca0ba[_0x49eee8(0x1b9)],_0x5ad27b[_0x49eee8(0x2bd)]=_0x3ca0ba[_0x49eee8(0x1b9)],_0x191777['appendChild'](_0x5ad27b);});}function openActionSheet(_0x3fa3e0){const _0x2e19b2=a2_0xb51059,_0x540259=document[_0x2e19b2(0x225)](_0x2e19b2(0x1e7)),_0x4dece4=document[_0x2e19b2(0x225)](_0x2e19b2(0x290)),_0x19c0f4=document[_0x2e19b2(0x225)](_0x2e19b2(0x23f)),_0x5ea3bf=document[_0x2e19b2(0x225)](_0x2e19b2(0x15c)),_0x133d47=document[_0x2e19b2(0x225)](_0x2e19b2(0x17c));_0x4dece4[_0x2e19b2(0x14e)][_0x2e19b2(0x1c8)]('active'),_0x540259[_0x2e19b2(0x14e)]['add'](_0x2e19b2(0x26a));if(_0x3fa3e0==='save')_0x19c0f4[_0x2e19b2(0x2bd)]=_0x2e19b2(0x215),_0x5ea3bf[_0x2e19b2(0x2bd)]=_0x2e19b2(0x2c8),_0x5ea3bf[_0x2e19b2(0x269)]=()=>{const _0x2671ea=_0x2e19b2;closeActionSheet(),updateSeriesBatch(_0x2671ea(0x23e),tempSessionData);},_0x133d47['textContent']=_0x2e19b2(0x211),_0x133d47['onclick']=()=>{const _0x43ee14=_0x2e19b2;closeActionSheet(),updateSeriesBatch(_0x43ee14(0x182),tempSessionData);};else _0x3fa3e0===_0x2e19b2(0x18d)&&(_0x19c0f4[_0x2e19b2(0x2bd)]=_0x2e19b2(0x1d0),_0x5ea3bf[_0x2e19b2(0x2bd)]=_0x2e19b2(0x2c8),_0x5ea3bf[_0x2e19b2(0x196)]=_0x2e19b2(0x1cc),_0x5ea3bf[_0x2e19b2(0x269)]=()=>{const _0x5cdf2b=_0x2e19b2;closeActionSheet(),commitDelete(_0x5cdf2b(0x23e),sessions[_0x5cdf2b(0x247)](_0x4f7e89=>_0x4f7e89['id']===editingId));},_0x133d47['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x133d47[_0x2e19b2(0x196)]='as-button\x20danger\x20bold',_0x133d47['onclick']=()=>{const _0x564fa1=_0x2e19b2;closeActionSheet(),commitDelete('series',sessions[_0x564fa1(0x247)](_0x3cfe83=>_0x3cfe83['id']===editingId));});}function closeActionSheet(){const _0x48a065=a2_0xb51059;document[_0x48a065(0x225)]('actionSheet')[_0x48a065(0x14e)][_0x48a065(0x260)](_0x48a065(0x26a)),document['getElementById'](_0x48a065(0x290))[_0x48a065(0x14e)]['remove'](_0x48a065(0x207));}function openSettings(){openSheet('settingsSheet');}function saveCoachSettings(){const _0x525f0c=a2_0xb51059,_0x139fb7=document['getElementById'](_0x525f0c(0x161))[_0x525f0c(0x16c)];localStorage[_0x525f0c(0x1a0)]('uc_settings_cancel_window',_0x139fb7),console[_0x525f0c(0x238)](_0x525f0c(0x1e8),_0x139fb7),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x139fb7}})[_0x525f0c(0x2c6)](_0x4cc972=>{const _0xcd8e65=_0x525f0c;console['error'](_0xcd8e65(0x1d3),_0x4cc972),showToast(_0xcd8e65(0x184),![]);});}function loadCoachSettings(){const _0x547f6d=a2_0xb51059,_0x16be56=localStorage[_0x547f6d(0x1cf)]('uc_settings_cancel_window');_0x16be56&&(document[_0x547f6d(0x225)](_0x547f6d(0x161))[_0x547f6d(0x16c)]=_0x16be56);}function openRangesSheet(){const _0x3e28c5=a2_0xb51059;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x3e28c5(0x1ca));}function addRange(){const _0x7614a6=a2_0xb51059,_0x5eb953=document[_0x7614a6(0x225)](_0x7614a6(0x20c))[_0x7614a6(0x16c)],_0x2edf51=document[_0x7614a6(0x225)](_0x7614a6(0x2b2))[_0x7614a6(0x16c)],_0x59f554=document[_0x7614a6(0x225)](_0x7614a6(0x19a))[_0x7614a6(0x16c)],_0x411886=document[_0x7614a6(0x225)](_0x7614a6(0x275))[_0x7614a6(0x16c)];if(!_0x5eb953||!_0x2edf51||!_0x59f554||!_0x411886)return alert(_0x7614a6(0x21e));const _0xd056b7=_0x5eb953+'T'+_0x2edf51,_0x197e99=_0x59f554+'T'+_0x411886;if(_0xd056b7>=_0x197e99)return alert(_0x7614a6(0x294));specialRanges[_0x7614a6(0x24e)]({'start':_0xd056b7,'end':_0x197e99}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x7614a6(0x22b)](),DataManager[_0x7614a6(0x1a5)](_0x7614a6(0x1c6),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x54a26a){const _0x4a9aa6=a2_0xb51059;specialRanges[_0x4a9aa6(0x244)](_0x54a26a,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x4a9aa6(0x22b)](),DataManager['fetchFromServer'](_0x4a9aa6(0x1c6),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x10e76b=a2_0xb51059;document['getElementById'](_0x10e76b(0x20c))['value']='',document['getElementById'](_0x10e76b(0x2b2))[_0x10e76b(0x16c)]='00:00',document[_0x10e76b(0x225)]('rangeEndDate')[_0x10e76b(0x16c)]='',document[_0x10e76b(0x225)](_0x10e76b(0x275))[_0x10e76b(0x16c)]=_0x10e76b(0x1b2);}function renderRangesList(){const _0x51ee1c=a2_0xb51059,_0x125a0a=document[_0x51ee1c(0x225)]('rangesList');_0x125a0a['innerHTML']='';if(!specialRanges[_0x51ee1c(0x1d1)]){_0x125a0a[_0x51ee1c(0x2c9)]=_0x51ee1c(0x2ab);return;}specialRanges['forEach']((_0x465d9e,_0x3c65eb)=>{const _0x7ac5da=_0x51ee1c,_0x478b0c=document[_0x7ac5da(0x157)](_0x7ac5da(0x240));_0x478b0c[_0x7ac5da(0x196)]='range-item';const _0x314730=_0x160d04=>{const _0x377bb7=_0x7ac5da,_0x49a9fa=new Date(_0x160d04);return _0x49a9fa[_0x377bb7(0x1cb)]()+'.'+String(_0x49a9fa[_0x377bb7(0x198)]()+0x1)[_0x377bb7(0x146)](0x2,'0')+'\x20'+String(_0x49a9fa[_0x377bb7(0x280)]())[_0x377bb7(0x146)](0x2,'0')+':'+String(_0x49a9fa[_0x377bb7(0x172)]())[_0x377bb7(0x146)](0x2,'0');};_0x478b0c[_0x7ac5da(0x2c9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x314730(_0x465d9e[_0x7ac5da(0x18e)])+'\x20‚Äî\x20'+_0x314730(_0x465d9e['end'])+_0x7ac5da(0x170)+_0x3c65eb+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x125a0a[_0x7ac5da(0x27e)](_0x478b0c);});}function scrollToToday(){const _0x480146=a2_0xb51059,_0x54385a=getLocalDateStr(new Date()),_0x1d126b=document[_0x480146(0x225)](_0x480146(0x1b3)+_0x54385a),_0x5f167e=document[_0x480146(0x225)](_0x480146(0x218));if(_0x1d126b&&_0x5f167e){const _0x4a57d0=_0x5f167e[_0x480146(0x1ac)],_0x2367ed=_0x1d126b[_0x480146(0x1a2)],_0x2fd638=_0x1d126b[_0x480146(0x217)];_0x5f167e[_0x480146(0x210)]=_0x2367ed-_0x4a57d0/0x2+_0x2fd638/0x2,_0x5f167e[_0x480146(0x29e)]=0x9*GRID_H;}}function onScroll(){const _0x4aa778=a2_0xb51059,_0x24ca25=document[_0x4aa778(0x225)](_0x4aa778(0x218)),_0x140e3c=document['querySelectorAll'](_0x4aa778(0x1de));for(let _0x312c40 of _0x140e3c)if(_0x312c40[_0x4aa778(0x1a2)]>=_0x24ca25['scrollLeft']){const _0x3a7a63=new Date(_0x312c40[_0x4aa778(0x21a)]('data-date'));document['getElementById']('headerMonth')[_0x4aa778(0x2bd)]=_0x3a7a63[_0x4aa778(0x1a9)]('ru',{'month':_0x4aa778(0x2a9)})['toUpperCase']()+'\x20'+_0x3a7a63['getFullYear']();break;}}function showToast(_0x52572c,_0x4221af=![]){const _0x347379=a2_0xb51059,_0x328fc3=document[_0x347379(0x225)](_0x347379(0x179));_0x328fc3[_0x347379(0x196)]='toast-notification\x20'+(_0x4221af?_0x347379(0x15b):''),document['getElementById']('toastTitle')[_0x347379(0x2bd)]=_0x4221af?_0x347379(0x19c):_0x347379(0x1ad),document['getElementById'](_0x347379(0x1a1))[_0x347379(0x2bd)]=_0x52572c,_0x328fc3[_0x347379(0x14e)]['add']('show'),setTimeout(()=>{const _0x2b5b43=_0x347379;_0x328fc3[_0x2b5b43(0x14e)][_0x2b5b43(0x260)](_0x2b5b43(0x1f4));},0xbb8);}function openDayOptions(_0x2f530a,_0x41c718){const _0x29939b=a2_0xb51059;selectedDayForOptions=_0x2f530a,document[_0x29939b(0x225)]('dayOptionsTitle')['textContent']=_0x41c718,openSheet(_0x29939b(0x1ec));}function toggleDayOff(){const _0x7de763=a2_0xb51059;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x7de763(0x22b)](),DataManager[_0x7de763(0x1a5)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x31994e=a2_0xb51059;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x31994e(0x22b)](),DataManager['fetchFromServer'](_0x31994e(0x1c6),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x17cb28){const _0x3f6ef2=a2_0xb51059;document[_0x3f6ef2(0x225)]('overlay')[_0x3f6ef2(0x14e)]['add'](_0x3f6ef2(0x207)),document[_0x3f6ef2(0x225)](_0x17cb28)['classList'][_0x3f6ef2(0x1c8)]('open');}function closeAllSheets(){const _0xf6d719=a2_0xb51059;document[_0xf6d719(0x225)](_0xf6d719(0x233))[_0xf6d719(0x14e)][_0xf6d719(0x260)](_0xf6d719(0x207)),document[_0xf6d719(0x25b)]('.sheet')[_0xf6d719(0x20f)](_0x415be0=>_0x415be0['classList']['remove'](_0xf6d719(0x26a)));}function openPatternEditor(){const _0x517491=a2_0xb51059;closeAllSheets(),document[_0x517491(0x225)](_0x517491(0x2b0))[_0x517491(0x14e)][_0x517491(0x1c8)](_0x517491(0x26a)),renderPatternEditor();}function closePatternEditor(){const _0x2d6486=a2_0xb51059;document[_0x2d6486(0x225)]('patternEditor')[_0x2d6486(0x14e)][_0x2d6486(0x260)]('open');}function savePattern(){const _0x88c22=a2_0xb51059;document[_0x88c22(0x225)](_0x88c22(0x2b0))[_0x88c22(0x14e)][_0x88c22(0x260)](_0x88c22(0x26a)),reRenderBlocks(),DataManager[_0x88c22(0x22b)](),DataManager['fetchFromServer'](_0x88c22(0x1c6),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x233183=a2_0xb51059,_0x374f43=document['getElementById'](_0x233183(0x231));_0x374f43['innerHTML']='';const _0x4b3a69=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xaade7a=document[_0x233183(0x157)](_0x233183(0x240));_0xaade7a['className']=_0x233183(0x2be),_0x374f43['appendChild'](_0xaade7a),_0x4b3a69['forEach']((_0x5100d0,_0x22f598)=>{const _0x380d18=_0x233183,_0x179bc6=document[_0x380d18(0x157)](_0x380d18(0x240));_0x179bc6[_0x380d18(0x196)]=_0x380d18(0x26d),_0x179bc6[_0x380d18(0x2c9)]=_0x5100d0+_0x380d18(0x1e0),_0x179bc6[_0x380d18(0x269)]=()=>toggleColPattern(_0x22f598),_0x374f43[_0x380d18(0x27e)](_0x179bc6);});for(let _0x4f25db=0x0;_0x4f25db<0x18;_0x4f25db++){const _0x27bdac=document['createElement'](_0x233183(0x240));_0x27bdac[_0x233183(0x196)]=_0x233183(0x18f),_0x27bdac[_0x233183(0x2c9)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x4f25db)[_0x233183(0x146)](0x2,'0')+_0x233183(0x2cc),_0x27bdac[_0x233183(0x269)]=()=>toggleRowPattern(_0x4f25db),_0x374f43[_0x233183(0x27e)](_0x27bdac);for(let _0x2527ef=0x0;_0x2527ef<0x7;_0x2527ef++){const _0x335c7e=document['createElement'](_0x233183(0x240)),_0xb96ebe=(availabilityPattern[_0x2527ef]||[])[_0x233183(0x235)](_0x4f25db),_0x3073d3=!_0xb96ebe;_0x335c7e[_0x233183(0x196)]=_0x233183(0x174)+(_0x3073d3?_0x233183(0x207):''),_0x335c7e[_0x233183(0x269)]=()=>toggleSinglePattern(_0x2527ef,_0x4f25db),_0x374f43['appendChild'](_0x335c7e);}}}function toggleSinglePattern(_0x765318,_0x22c551){const _0x4dfd08=a2_0xb51059;if(!availabilityPattern[_0x765318])availabilityPattern[_0x765318]=[];const _0x21d25e=availabilityPattern[_0x765318],_0x48b86e=_0x21d25e[_0x4dfd08(0x1a7)](_0x22c551);_0x48b86e===-0x1?_0x21d25e[_0x4dfd08(0x24e)](_0x22c551):_0x21d25e[_0x4dfd08(0x244)](_0x48b86e,0x1),renderPatternEditor();}function toggleColPattern(_0x3db8bc){const _0x4af4d7=a2_0xb51059;if(!availabilityPattern[_0x3db8bc])availabilityPattern[_0x3db8bc]=[];const _0x514db4=availabilityPattern[_0x3db8bc];_0x514db4[_0x4af4d7(0x1d1)]===0x0?availabilityPattern[_0x3db8bc]=Array[_0x4af4d7(0x2a4)]({'length':0x18},(_0x4dccb1,_0x4a2a36)=>_0x4a2a36):availabilityPattern[_0x3db8bc]=[],renderPatternEditor();}function toggleRowPattern(_0x2941c7){const _0x1a5a38=a2_0xb51059;let _0x510dba=!![];for(let _0x3e8910=0x0;_0x3e8910<0x7;_0x3e8910++){if((availabilityPattern[_0x3e8910]||[])[_0x1a5a38(0x235)](_0x2941c7)){_0x510dba=![];break;}}for(let _0x1654c9=0x0;_0x1654c9<0x7;_0x1654c9++){if(!availabilityPattern[_0x1654c9])availabilityPattern[_0x1654c9]=[];const _0x22a509=availabilityPattern[_0x1654c9]['indexOf'](_0x2941c7);if(_0x510dba){if(_0x22a509===-0x1)availabilityPattern[_0x1654c9]['push'](_0x2941c7);}else{if(_0x22a509!==-0x1)availabilityPattern[_0x1654c9][_0x1a5a38(0x244)](_0x22a509,0x1);}}renderPatternEditor();}function renderPCol(_0x26b951,_0x330632){const _0x32d8fb=a2_0xb51059;_0x26b951[_0x32d8fb(0x2c9)]='';const _0x332b59=Math['round'](_0x26b951[_0x32d8fb(0x1a2)]);(availabilityPattern[_0x330632]||[])['forEach'](_0x4749f2=>{const _0x11d3ec=_0x32d8fb,_0x130fae=document['createElement']('div');_0x130fae[_0x11d3ec(0x196)]=_0x11d3ec(0x29c);const _0x2992fb=_0x4749f2*GRID_H;_0x130fae[_0x11d3ec(0x1ff)][_0x11d3ec(0x224)]=_0x2992fb+'px',_0x130fae['style']['backgroundPosition']='-'+_0x332b59+_0x11d3ec(0x19b)+_0x2992fb+'px',_0x130fae['onclick']=_0x134934=>{const _0x5c56c7=_0x11d3ec;_0x134934[_0x5c56c7(0x191)](),toggleSinglePattern(_0x330632,_0x4749f2);},_0x26b951[_0x11d3ec(0x27e)](_0x130fae);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4e51fb=a2_0xb51059,_0x5ae2ae=new Date(),_0x2d2adf=document[_0x4e51fb(0x225)](_0x4e51fb(0x17f)),_0x2404fe=document['getElementById'](_0x4e51fb(0x1e9)),_0x4b5b3a=(_0x5ae2ae[_0x4e51fb(0x280)]()*0x3c+_0x5ae2ae[_0x4e51fb(0x172)]())/0x3c*GRID_H;_0x2d2adf[_0x4e51fb(0x1ff)][_0x4e51fb(0x224)]=_0x4b5b3a+'px',_0x2d2adf[_0x4e51fb(0x1ff)][_0x4e51fb(0x199)]='block',_0x2404fe[_0x4e51fb(0x2bd)]=String(_0x5ae2ae[_0x4e51fb(0x280)]())[_0x4e51fb(0x146)](0x2,'0')+':'+String(_0x5ae2ae['getMinutes']())['padStart'](0x2,'0'),_0x2404fe[_0x4e51fb(0x1ff)][_0x4e51fb(0x199)]='block',_0x2404fe['style'][_0x4e51fb(0x224)]=_0x4b5b3a+'px';}document['addEventListener'](a2_0xb51059(0x164),init);function openDayOptions(_0x5f5e0a){const _0x3036d7=a2_0xb51059;selectedDayForOptions=_0x5f5e0a;const _0x4fe37d=new Date(_0x5f5e0a),_0x1532e6={'weekday':_0x3036d7(0x2a9),'day':'numeric','month':_0x3036d7(0x2a9),'year':_0x3036d7(0x1b7)},_0x5a78e3=_0x4fe37d[_0x3036d7(0x283)]('ru-RU',_0x1532e6);document[_0x3036d7(0x225)](_0x3036d7(0x1c1))['textContent']=_0x5a78e3[_0x3036d7(0x158)](0x0)['toUpperCase']()+_0x5a78e3[_0x3036d7(0x1e5)](0x1);let _0x7ffebf=_0x4fe37d[_0x3036d7(0x1b5)]()-0x1;if(_0x7ffebf===-0x1)_0x7ffebf=0x6;const _0x2479eb=availabilityPattern[_0x7ffebf]||[],_0x33971c=0x18-_0x2479eb['length'],_0x1d6d06=_0x33971c*0x3c,_0x396bf0=sessions[_0x3036d7(0x1fa)](_0x1317dd=>_0x1317dd[_0x3036d7(0x1ea)]===_0x5f5e0a&&_0x1317dd['status']!==_0x3036d7(0x2b7));let _0x5b0f57=_0x396bf0['map'](_0x2fa31f=>{const _0x293e4a=_0x3036d7,[_0x3dabfd,_0x2c379b]=_0x2fa31f[_0x293e4a(0x18e)][_0x293e4a(0x227)](':')[_0x293e4a(0x1c7)](Number),[_0x3fc7d2,_0x5f26ff]=_0x2fa31f[_0x293e4a(0x189)][_0x293e4a(0x227)](':')['map'](Number);return[_0x3dabfd*0x3c+_0x2c379b,_0x3fc7d2*0x3c+_0x5f26ff];});_0x5b0f57[_0x3036d7(0x223)]((_0x4293dd,_0x3a30fe)=>_0x4293dd[0x0]-_0x3a30fe[0x0]);let _0x1078e7=[];if(_0x5b0f57[_0x3036d7(0x1d1)]>0x0){let _0x328b8e=_0x5b0f57[0x0];for(let _0x1e54f8=0x1;_0x1e54f8<_0x5b0f57['length'];_0x1e54f8++){_0x5b0f57[_0x1e54f8][0x0]<_0x328b8e[0x1]?_0x328b8e[0x1]=Math['max'](_0x328b8e[0x1],_0x5b0f57[_0x1e54f8][0x1]):(_0x1078e7['push'](_0x328b8e),_0x328b8e=_0x5b0f57[_0x1e54f8]);}_0x1078e7[_0x3036d7(0x24e)](_0x328b8e);}let _0x1ffb15=0x0;_0x1078e7[_0x3036d7(0x20f)](_0x147318=>_0x1ffb15+=_0x147318[0x1]-_0x147318[0x0]),document[_0x3036d7(0x225)](_0x3036d7(0x291))[_0x3036d7(0x2bd)]=formatMinsToHrs(_0x1d6d06),document['getElementById']('doBusyHours')[_0x3036d7(0x2bd)]=formatMinsToHrs(_0x1ffb15);const _0xbb1efc=_0x1d6d06>0x0?Math[_0x3036d7(0x163)](_0x1ffb15/_0x1d6d06*0x64):0x0,_0x46f4ac=document[_0x3036d7(0x225)](_0x3036d7(0x29f));_0x46f4ac[_0x3036d7(0x2bd)]=_0xbb1efc+'%';const _0x35c861=document[_0x3036d7(0x225)]('statLoadCard');if(_0xbb1efc>0x64)_0x46f4ac[_0x3036d7(0x1ff)][_0x3036d7(0x1b6)]='var(--acc-red)',_0x35c861[_0x3036d7(0x1ff)][_0x3036d7(0x15d)]=_0x3036d7(0x229);else _0xbb1efc>0x50?(_0x46f4ac[_0x3036d7(0x1ff)][_0x3036d7(0x1b6)]=_0x3036d7(0x1a3),_0x35c861[_0x3036d7(0x1ff)]['borderColor']=_0x3036d7(0x204)):(_0x46f4ac[_0x3036d7(0x1ff)][_0x3036d7(0x1b6)]=_0x3036d7(0x1ce),_0x35c861['style'][_0x3036d7(0x15d)]=_0x3036d7(0x1e6));const _0x3b0c11=document[_0x3036d7(0x225)](_0x3036d7(0x2c0));_0x3b0c11[_0x3036d7(0x2c9)]='';_0x396bf0[_0x3036d7(0x1d1)]===0x0?_0x3b0c11['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x396bf0[_0x3036d7(0x223)]((_0xc30a7,_0x263bd4)=>_0xc30a7[_0x3036d7(0x18e)][_0x3036d7(0x2bc)](_0x263bd4[_0x3036d7(0x18e)])),_0x396bf0[_0x3036d7(0x20f)](_0x374da0=>{const _0x3c8917=_0x3036d7,_0x1d47d2=clients[_0x3c8917(0x247)](_0x571924=>_0x571924[_0x3c8917(0x1b9)]===_0x374da0[_0x3c8917(0x22f)]),_0x222072=_0x1d47d2?_0x1d47d2[_0x3c8917(0x1b6)]:_0x3c8917(0x259),_0x33ebac=_0x374da0[_0x3c8917(0x263)]===_0x3c8917(0x26c),_0x5ea197=_0x33ebac?_0x3c8917(0x1bd):'',_0x52df98=document['createElement'](_0x3c8917(0x240));_0x52df98[_0x3c8917(0x196)]='de-item',_0x52df98[_0x3c8917(0x1ff)][_0x3c8917(0x185)]=_0x222072,_0x52df98[_0x3c8917(0x2c9)]=_0x3c8917(0x2c1)+_0x374da0['start']+_0x3c8917(0x298)+_0x374da0[_0x3c8917(0x189)]+_0x3c8917(0x206)+_0x374da0[_0x3c8917(0x22f)]+_0x3c8917(0x14c)+_0x5ea197+_0x3c8917(0x299),_0x3b0c11[_0x3c8917(0x27e)](_0x52df98);}));const _0x466067=document[_0x3036d7(0x225)](_0x3036d7(0x16d)),_0x4dfcc6=dateExceptions[_0x5f5e0a]===_0x3036d7(0x1fe);_0x4dfcc6?(_0x466067[_0x3036d7(0x2bd)]=_0x3036d7(0x187),_0x466067[_0x3036d7(0x196)]=_0x3036d7(0x2a3),_0x466067[_0x3036d7(0x1ff)][_0x3036d7(0x1b6)]='var(--acc-green)',_0x466067[_0x3036d7(0x1ff)]['background']=_0x3036d7(0x24f)):(_0x466067['textContent']=_0x3036d7(0x2c5),_0x466067['className']='btn-primary\x20btn-danger',_0x466067[_0x3036d7(0x1ff)]['color']=_0x3036d7(0x254),_0x466067[_0x3036d7(0x1ff)][_0x3036d7(0x1ab)]=_0x3036d7(0x194)),openSheet('dayOptionsSheet');}let currentAnPeriod='week';function openAnalytics(){const _0x6a3465=a2_0xb51059,_0x2a176f=document[_0x6a3465(0x219)](_0x6a3465(0x274));setAnalyticsPeriod(_0x6a3465(0x14b),_0x2a176f),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x308cde,_0x188281){const _0x4c57ab=a2_0xb51059;currentAnPeriod=_0x308cde,document[_0x4c57ab(0x25b)](_0x4c57ab(0x274))[_0x4c57ab(0x20f)](_0x5ef2cc=>_0x5ef2cc[_0x4c57ab(0x14e)]['remove'](_0x4c57ab(0x207)));if(_0x188281)_0x188281[_0x4c57ab(0x14e)]['add'](_0x4c57ab(0x207));const _0x598f00=document[_0x4c57ab(0x225)](_0x4c57ab(0x195));_0x598f00['style'][_0x4c57ab(0x199)]=_0x308cde===_0x4c57ab(0x1be)?'flex':_0x4c57ab(0x20e);const _0x2240b5=new Date();let _0x95c960=new Date(),_0xdf586=new Date();if(_0x308cde===_0x4c57ab(0x14b))_0x95c960=getStartOfWeek(_0x2240b5),_0xdf586=new Date(_0x95c960),_0xdf586[_0x4c57ab(0x292)](_0xdf586[_0x4c57ab(0x1cb)]()+0x6);else{if(_0x308cde===_0x4c57ab(0x2c4))_0x95c960=new Date(_0x2240b5[_0x4c57ab(0x261)](),_0x2240b5[_0x4c57ab(0x198)](),0x1),_0xdf586=new Date(_0x2240b5[_0x4c57ab(0x261)](),_0x2240b5[_0x4c57ab(0x198)]()+0x1,0x0);else{!document[_0x4c57ab(0x225)](_0x4c57ab(0x21b))[_0x4c57ab(0x16c)]&&(document[_0x4c57ab(0x225)](_0x4c57ab(0x21b))[_0x4c57ab(0x16c)]=getLocalDateStr(_0x2240b5),document[_0x4c57ab(0x225)](_0x4c57ab(0x2c2))[_0x4c57ab(0x16c)]=getLocalDateStr(_0x2240b5));refreshAnalytics();return;}}document[_0x4c57ab(0x225)](_0x4c57ab(0x21b))['value']=getLocalDateStr(_0x95c960),document[_0x4c57ab(0x225)](_0x4c57ab(0x2c2))[_0x4c57ab(0x16c)]=getLocalDateStr(_0xdf586),refreshAnalytics();}function refreshAnalytics(){const _0x10ec4e=a2_0xb51059,_0x3bb76e=document[_0x10ec4e(0x225)](_0x10ec4e(0x21b))[_0x10ec4e(0x16c)],_0x41dbd7=document[_0x10ec4e(0x225)](_0x10ec4e(0x2c2))['value'];if(!_0x3bb76e||!_0x41dbd7)return;const _0x249927=sessions[_0x10ec4e(0x1fa)](_0x2dd21b=>_0x2dd21b['dateStr']>=_0x3bb76e&&_0x2dd21b['dateStr']<=_0x41dbd7&&_0x2dd21b[_0x10ec4e(0x263)]!=='cancelled'),_0x49dc46=_0x249927[_0x10ec4e(0x1d1)],_0x575f85=_0x249927[_0x10ec4e(0x1fa)](_0x36f457=>_0x36f457['status']===_0x10ec4e(0x26c))['length'],_0x43b2ec=_0x49dc46>0x0?Math[_0x10ec4e(0x163)](_0x575f85/_0x49dc46*0x64):0x0;document['getElementById'](_0x10ec4e(0x222))[_0x10ec4e(0x2bd)]=_0x43b2ec+'%',document[_0x10ec4e(0x225)](_0x10ec4e(0x2a5))[_0x10ec4e(0x2bd)]=_0x575f85+_0x10ec4e(0x21c)+_0x49dc46+_0x10ec4e(0x1bc);const _0xb18f08=document[_0x10ec4e(0x225)](_0x10ec4e(0x226)),_0x170e0b=0x2*Math['PI']*0x23,_0xa4b6c=_0x170e0b-_0x43b2ec/0x64*_0x170e0b;_0xb18f08['style'][_0x10ec4e(0x27a)]=_0xa4b6c;const _0x2b900a={};_0x249927['forEach'](_0xb16371=>{const _0x3c1c5a=_0x10ec4e;if(!_0x2b900a[_0xb16371[_0x3c1c5a(0x22f)]]){const _0x476879=clients[_0x3c1c5a(0x247)](_0x4883b8=>_0x4883b8[_0x3c1c5a(0x1b9)]===_0xb16371['client']);_0x2b900a[_0xb16371['client']]={'total':0x0,'done':0x0,'color':_0x476879?_0x476879[_0x3c1c5a(0x1b6)]:'#fff'};}_0x2b900a[_0xb16371[_0x3c1c5a(0x22f)]][_0x3c1c5a(0x2ce)]++;if(_0xb16371[_0x3c1c5a(0x263)]===_0x3c1c5a(0x26c))_0x2b900a[_0xb16371[_0x3c1c5a(0x22f)]][_0x3c1c5a(0x159)]++;});const _0x50e326=document[_0x10ec4e(0x225)](_0x10ec4e(0x245));_0x50e326['innerHTML']='';const _0x3f41c2=Object[_0x10ec4e(0x16b)](_0x2b900a)['sort']((_0x485867,_0x223e08)=>_0x223e08[0x1][_0x10ec4e(0x2ce)]-_0x485867[0x1][_0x10ec4e(0x2ce)]);if(_0x3f41c2[_0x10ec4e(0x1d1)]===0x0){_0x50e326[_0x10ec4e(0x2c9)]=_0x10ec4e(0x216);return;}_0x3f41c2[_0x10ec4e(0x20f)](([_0x918267,_0x4089e4])=>{const _0x1f91a4=_0x10ec4e,_0x52fb26=Math[_0x1f91a4(0x163)](_0x4089e4[_0x1f91a4(0x159)]/_0x4089e4[_0x1f91a4(0x2ce)]*0x64),_0x1e4d97=document[_0x1f91a4(0x157)]('div');_0x1e4d97['className']=_0x1f91a4(0x2ad),_0x1e4d97['style'][_0x1f91a4(0x185)]=_0x4089e4['color'],_0x1e4d97[_0x1f91a4(0x2c9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x918267+_0x1f91a4(0x23a)+_0x4089e4['done']+_0x1f91a4(0x2ca)+_0x4089e4['total']+_0x1f91a4(0x258)+_0x52fb26+_0x1f91a4(0x1f8),_0x50e326['appendChild'](_0x1e4d97);});}function formatMinsToHrs(_0x4528c5){const _0x19fbd3=a2_0xb51059;if(_0x4528c5===0x0)return'0';const _0x18ef6a=Math[_0x19fbd3(0x16f)](_0x4528c5/0x3c),_0x1c33e7=_0x4528c5%0x3c;if(_0x1c33e7===0x0)return _0x18ef6a+'—á';return _0x18ef6a+'—á\x20'+_0x1c33e7+'–º';}