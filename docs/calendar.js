const a2_0x2c21e6=a2_0x547c;(function(_0x85915d,_0x5ee817){const _0x2c4dc7=a2_0x547c,_0x13bb0c=_0x85915d();while(!![]){try{const _0x35f067=parseInt(_0x2c4dc7(0x18f))/0x1*(-parseInt(_0x2c4dc7(0x10c))/0x2)+-parseInt(_0x2c4dc7(0x192))/0x3+parseInt(_0x2c4dc7(0x9a))/0x4*(-parseInt(_0x2c4dc7(0x15c))/0x5)+-parseInt(_0x2c4dc7(0xff))/0x6*(-parseInt(_0x2c4dc7(0x1fe))/0x7)+-parseInt(_0x2c4dc7(0x170))/0x8*(-parseInt(_0x2c4dc7(0xaf))/0x9)+-parseInt(_0x2c4dc7(0x136))/0xa+parseInt(_0x2c4dc7(0x1a5))/0xb;if(_0x35f067===_0x5ee817)break;else _0x13bb0c['push'](_0x13bb0c['shift']());}catch(_0x4308ff){_0x13bb0c['push'](_0x13bb0c['shift']());}}}(a2_0x33eb,0xb6b4f),function initTMA(){const _0x302520=a2_0x547c;try{const _0x438fee=window[_0x302520(0x11d)]?.['WebApp'];if(!_0x438fee)return;_0x438fee['ready'](),_0x438fee[_0x302520(0x121)]();try{_0x438fee[_0x302520(0xc4)](_0x302520(0x211)),_0x438fee[_0x302520(0x17a)]&&_0x438fee[_0x302520(0x17a)](_0x302520(0x211));}catch(_0xc3d7f1){console[_0x302520(0x1bd)](_0x302520(0x129),_0xc3d7f1);}try{_0x438fee[_0x302520(0x1aa)]&&(_0x438fee['BackButton'][_0x302520(0x1d4)](),_0x438fee['BackButton'][_0x302520(0x11b)](),_0x438fee['BackButton'][_0x302520(0x1c1)](function(){const _0x1de1ca=_0x302520;window[_0x1de1ca(0xd5)]['href']=_0x1de1ca(0x182);}));}catch(_0x53a92c){console[_0x302520(0x1bd)](_0x302520(0xd0),_0x53a92c);}try{if(_0x438fee[_0x302520(0xed)])_0x438fee['disableVerticalSwipes']();}catch(_0xb4666a){}}catch(_0x4ca4b9){console['error'](_0x302520(0x18e),_0x4ca4b9);}}());function isAdmin(){const _0x23041b=a2_0x547c;try{const _0x366b0a=Number(window[_0x23041b(0x11d)]?.[_0x23041b(0x196)]?.[_0x23041b(0x120)]?.['user']?.['id']);return _0x366b0a===0xbaf7174;}catch(_0xafff59){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x2c21e6(0xf2),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x2c21e6(0xcd),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x2c21e6(0x16d);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x22118d=a2_0x2c21e6;return window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x22118d(0x137)]?.['id']||_0x22118d(0x1b5);},'saveLocally'(){const _0x1a26e1=a2_0x2c21e6;try{localStorage[_0x1a26e1(0x1d3)](KEY_CLIENTS,JSON[_0x1a26e1(0x167)](clients)),localStorage[_0x1a26e1(0x1d3)](KEY_SESSIONS,JSON[_0x1a26e1(0x167)](sessions)),localStorage[_0x1a26e1(0x1d3)](KEY_SETTINGS,JSON[_0x1a26e1(0x167)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x48d076){console[_0x1a26e1(0x126)](_0x1a26e1(0x1fd),_0x48d076);}},'loadLocal'(){const _0x4e8114=a2_0x2c21e6;try{const _0x21b0ec=localStorage[_0x4e8114(0x1fc)](KEY_CLIENTS);if(_0x21b0ec)clients=JSON[_0x4e8114(0xac)](_0x21b0ec);const _0x598cc4=localStorage[_0x4e8114(0x1fc)](KEY_SESSIONS);if(_0x598cc4)sessions=JSON['parse'](_0x598cc4);const _0x1f90f1=localStorage['getItem'](KEY_SETTINGS);if(_0x1f90f1){const _0x3dad40=JSON[_0x4e8114(0xac)](_0x1f90f1);if(_0x3dad40[_0x4e8114(0x1c2)])availabilityPattern=_0x3dad40['pattern'];if(_0x3dad40[_0x4e8114(0x205)])dateExceptions=_0x3dad40['exceptions'];if(_0x3dad40[_0x4e8114(0x141)])specialRanges=_0x3dad40['ranges'];}else{for(let _0x1e5de7=0x0;_0x1e5de7<0x7;_0x1e5de7++)availabilityPattern[_0x1e5de7]=Array[_0x4e8114(0x12a)]({'length':0xc},(_0x320d25,_0x41945f)=>_0x41945f+0x9);}}catch(_0x6cff55){console[_0x4e8114(0x126)]('Local\x20Load\x20Error',_0x6cff55);}},async 'fetchFromServer'(_0x68318b,_0x41c3e2={}){const _0x2e78fb=a2_0x2c21e6,_0x4a605e=window[_0x2e78fb(0x11d)]?.[_0x2e78fb(0x196)],_0xb02a90={'action':_0x68318b,'init_data':_0x4a605e?.[_0x2e78fb(0x1e0)]||'',..._0x41c3e2};try{const _0x48aebd=await fetch(API_URL,{'method':_0x2e78fb(0x18c),'headers':{'Content-Type':_0x2e78fb(0x1d8)},'body':JSON[_0x2e78fb(0x167)](_0xb02a90)}),_0x20cfba=await _0x48aebd[_0x2e78fb(0xf1)]();if(!_0x20cfba['ok'])throw new Error(_0x20cfba['error']||'Server\x20Error');return _0x20cfba['data'];}catch(_0xd84cb8){console[_0x2e78fb(0x126)](_0x2e78fb(0x199)+_0x68318b+_0x2e78fb(0x101),_0xd84cb8);throw _0xd84cb8;}},async 'syncLoad'(){const _0x453c93=a2_0x2c21e6,_0x301e20=new Date(),_0x26c6d4=_0x301e20[_0x453c93(0xe3)]()+'-'+String(_0x301e20[_0x453c93(0x181)]()+0x1)[_0x453c93(0x1a1)](0x2,'0'),_0x3667f9=new Date(_0x301e20);_0x3667f9[_0x453c93(0x168)](_0x301e20['getMonth']()+0x1);const _0x2e8bcf=_0x3667f9[_0x453c93(0xe3)]()+'-'+String(_0x3667f9[_0x453c93(0x181)]()+0x1)[_0x453c93(0x1a1)](0x2,'0'),_0x58cd70=Date[_0x453c93(0xdf)]();console[_0x453c93(0x1bd)]('[Sync]\x20Loading\x20'+_0x26c6d4+',\x20'+_0x2e8bcf+_0x453c93(0x1c9));try{const [_0x34720a,_0x9125a9]=await Promise['all']([this[_0x453c93(0xbc)](_0x453c93(0x1db),{'month_str':_0x26c6d4}),this[_0x453c93(0xbc)](_0x453c93(0x1db),{'month_str':_0x2e8bcf})]);if(lastUserActionTime>_0x58cd70)return console[_0x453c93(0x111)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x453c93(0x9e)](_0x34720a,_0x26c6d4),this[_0x453c93(0x9e)](_0x9125a9,_0x2e8bcf),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4d48f1){console['error'](_0x4d48f1);throw _0x4d48f1;}},'mergeServerData'(_0x356b26,_0x3cb522){const _0x4e1908=a2_0x2c21e6;if(!_0x356b26)return;_0x356b26[_0x4e1908(0x12b)]&&Array[_0x4e1908(0x147)](_0x356b26[_0x4e1908(0x12b)])&&(clients=_0x356b26['clients']);if(_0x356b26[_0x4e1908(0x160)]){if(_0x356b26[_0x4e1908(0x160)][_0x4e1908(0x1c2)])availabilityPattern=_0x356b26[_0x4e1908(0x160)][_0x4e1908(0x1c2)];if(_0x356b26[_0x4e1908(0x160)][_0x4e1908(0x205)])dateExceptions=_0x356b26[_0x4e1908(0x160)][_0x4e1908(0x205)];if(_0x356b26[_0x4e1908(0x160)][_0x4e1908(0x141)])specialRanges=_0x356b26[_0x4e1908(0x160)]['ranges'];if(_0x356b26[_0x4e1908(0x160)]['cancel_window']){localStorage[_0x4e1908(0x1d3)](_0x4e1908(0x145),_0x356b26[_0x4e1908(0x160)][_0x4e1908(0xe2)]);const _0x55a701=document[_0x4e1908(0x180)](_0x4e1908(0x159));if(_0x55a701)_0x55a701[_0x4e1908(0x1e3)]=_0x356b26[_0x4e1908(0x160)][_0x4e1908(0xe2)];}}_0x356b26['calendar']&&(sessions=sessions[_0x4e1908(0x16c)](_0x26d48a=>!_0x26d48a[_0x4e1908(0x16f)][_0x4e1908(0x112)](_0x3cb522)),Object[_0x4e1908(0xd1)](_0x356b26[_0x4e1908(0x13d)])[_0x4e1908(0x1fb)](_0x5a9122=>{const _0x55625c=_0x4e1908,_0x508e46=_0x356b26[_0x55625c(0x13d)][_0x5a9122];_0x508e46[_0x55625c(0x1fb)](_0x5090ba=>{const _0x338c86=_0x55625c,_0x4a2fc3=clients['find'](_0x3bb32e=>String(_0x3bb32e['id'])===String(_0x5090ba['c']));sessions[_0x338c86(0x190)]({'id':_0x5090ba['i'],'clientId':_0x5090ba['c'],'client':_0x4a2fc3?_0x4a2fc3[_0x338c86(0x1a8)]:_0x338c86(0x1df),'dateStr':_0x3cb522+'-'+_0x5a9122['padStart'](0x2,'0'),'start':_0x5090ba['s'],'end':_0x5090ba['e'],'status':_0x5090ba['st']||'planned','note':_0x5090ba['n']||'','seriesId':_0x5090ba[_0x338c86(0xec)]||null});});}));},async 'syncBatch'(_0x5c4434){const _0xfc511e=a2_0x2c21e6,_0x514390=[...new Set(_0x5c4434)],_0x2cb110=_0x514390['map'](_0x11fb93=>{const _0x33769e=a2_0x547c,_0x19ab2d=sessions[_0x33769e(0x16c)](_0x3ff162=>_0x3ff162[_0x33769e(0x16f)]===_0x11fb93&&_0x3ff162['status']!=='deleted'),_0x319714=_0x19ab2d['map'](_0x5b67e6=>({'i':_0x5b67e6['id'],'c':_0x5b67e6[_0x33769e(0x201)],'s':_0x5b67e6['start'],'e':_0x5b67e6[_0x33769e(0xeb)],'st':_0x5b67e6['status'],'n':_0x5b67e6[_0x33769e(0xf4)],'sid':_0x5b67e6[_0x33769e(0x1a9)]}));return{'date':_0x11fb93,'day_data':_0x319714};});if(_0x2cb110['length']===0x0)return;console[_0xfc511e(0x1bd)](_0xfc511e(0xc9)+_0x2cb110[_0xfc511e(0x213)]+_0xfc511e(0x163)),await this[_0xfc511e(0xbc)](_0xfc511e(0x14d),{'changes':_0x2cb110});}};async function init(){const _0x8ce644=a2_0x2c21e6;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x8ce644(0x1da))[_0x8ce644(0x1a7)](_0x8ce644(0x1ea),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x8ce644(0x105)]()[_0x8ce644(0x11e)](()=>{const _0x448287=_0x8ce644;showToast(_0x448287(0x1cd),!![]);})[_0x8ce644(0xd7)](_0x1fdaba=>{const _0x4665de=_0x8ce644;showToast(_0x4665de(0x14e),![]);});}function generateId(){const _0x43f4a6=a2_0x2c21e6;return Date[_0x43f4a6(0xdf)]()[_0x43f4a6(0x98)](0x24)+Math[_0x43f4a6(0x97)]()['toString'](0x24)[_0x43f4a6(0x107)](0x2,0x5);}function toggleSeriesInput(){const _0x17a0a9=a2_0x2c21e6,_0x32d98d=document[_0x17a0a9(0x180)](_0x17a0a9(0x1ac))[_0x17a0a9(0xad)],_0x239665=document['getElementById']('seriesCountContainer');_0x239665[_0x17a0a9(0x1eb)][_0x17a0a9(0x10e)]=_0x32d98d?_0x17a0a9(0x1bc):_0x17a0a9(0x1b2);const _0x243321=document[_0x17a0a9(0x180)](_0x17a0a9(0xb4));_0x243321[_0x17a0a9(0x1eb)]['borderRadius']=_0x32d98d?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x5bce80){const _0xfe3f8a=a2_0x2c21e6;editingId=null,populateClientSelect(),document[_0xfe3f8a(0x180)](_0xfe3f8a(0x1d9))[_0xfe3f8a(0x1e8)]=_0xfe3f8a(0x143),document['getElementById'](_0xfe3f8a(0x1b3))['style'][_0xfe3f8a(0x10e)]=_0xfe3f8a(0x1b2),document['getElementById'](_0xfe3f8a(0x1dd))[_0xfe3f8a(0x1eb)][_0xfe3f8a(0x10e)]=_0xfe3f8a(0x1b2);const _0x231a42=document[_0xfe3f8a(0x180)](_0xfe3f8a(0xb4)),_0x3607ab=document[_0xfe3f8a(0x180)](_0xfe3f8a(0x150));_0x231a42[_0xfe3f8a(0x1eb)][_0xfe3f8a(0x10e)]=_0xfe3f8a(0x187),_0x231a42['style'][_0xfe3f8a(0x1e7)]=_0xfe3f8a(0x10d),document['getElementById'](_0xfe3f8a(0x1ac))[_0xfe3f8a(0xad)]=![],document[_0xfe3f8a(0x180)](_0xfe3f8a(0x100))['value']=0x4,_0x3607ab['style'][_0xfe3f8a(0x10e)]=_0xfe3f8a(0x1b2),document[_0xfe3f8a(0x180)]('inpDate')[_0xfe3f8a(0x1e3)]=getLocalDateStr(_0x5bce80),updateDateDisplay();const _0x48d6a4=_0x5bce80[_0xfe3f8a(0x193)]();document['getElementById'](_0xfe3f8a(0x18d))[_0xfe3f8a(0x1e3)]=String(_0x48d6a4)[_0xfe3f8a(0x1a1)](0x2,'0')+_0xfe3f8a(0x1ae),document[_0xfe3f8a(0x180)]('inpEnd')['value']=String(_0x48d6a4+0x1)[_0xfe3f8a(0x1a1)](0x2,'0')+_0xfe3f8a(0x1ae),openSheet(_0xfe3f8a(0x175));}function openEdit(_0x6cc977){const _0x16e10a=a2_0x2c21e6;editingId=_0x6cc977['id'],populateClientSelect(),document[_0x16e10a(0x180)]('sheetTitle')[_0x16e10a(0x1e8)]=_0x16e10a(0x1b1),document[_0x16e10a(0x180)]('btnDelete')[_0x16e10a(0x1eb)]['display']=_0x16e10a(0x1bc);const _0x44ebe7=document['getElementById'](_0x16e10a(0x1dd));_0x44ebe7[_0x16e10a(0x1eb)][_0x16e10a(0x10e)]=_0x16e10a(0x187);_0x6cc977[_0x16e10a(0x20b)]===_0x16e10a(0x156)?(_0x44ebe7[_0x16e10a(0xaa)]='btn-status-toggle\x20undo-mode',_0x44ebe7[_0x16e10a(0x1f3)]=_0x16e10a(0x1a4)):(_0x44ebe7['className']=_0x16e10a(0xb8),_0x44ebe7[_0x16e10a(0x1f3)]=_0x16e10a(0x153));const _0x38be92=!!_0x6cc977['seriesId'];document[_0x16e10a(0x180)](_0x16e10a(0xb4))['style']['display']=_0x16e10a(0x1b2),document[_0x16e10a(0x180)]('seriesCountContainer')[_0x16e10a(0x1eb)][_0x16e10a(0x10e)]='none',_0x38be92?(document[_0x16e10a(0x180)](_0x16e10a(0x1e1))[_0x16e10a(0x1eb)]['display']='flex',document[_0x16e10a(0x180)](_0x16e10a(0x1e1))[_0x16e10a(0x1e9)](_0x16e10a(0x1b4))[_0x16e10a(0x1e8)]=_0x16e10a(0x207)):document[_0x16e10a(0x180)](_0x16e10a(0x1e1))[_0x16e10a(0x1eb)][_0x16e10a(0x10e)]=_0x16e10a(0x1b2),document[_0x16e10a(0x180)](_0x16e10a(0x1bf))[_0x16e10a(0x1e3)]=_0x6cc977['client'],document['getElementById'](_0x16e10a(0xfb))[_0x16e10a(0x1e3)]=_0x6cc977[_0x16e10a(0x16f)],document[_0x16e10a(0x180)](_0x16e10a(0x18d))['value']=_0x6cc977[_0x16e10a(0xef)],document['getElementById'](_0x16e10a(0x15e))[_0x16e10a(0x1e3)]=_0x6cc977[_0x16e10a(0xeb)],document[_0x16e10a(0x180)](_0x16e10a(0x16e))[_0x16e10a(0x1e3)]=_0x6cc977['note']||'',updateDateDisplay(),openSheet(_0x16e10a(0x175));}async function trySaveSession(){const _0xe59332=a2_0x2c21e6,_0x244b57=document[_0xe59332(0x180)](_0xe59332(0x1bf))[_0xe59332(0x1e3)],_0x4b34be=document[_0xe59332(0x180)](_0xe59332(0xfb))[_0xe59332(0x1e3)],_0x37f314=document['getElementById']('inpStart')[_0xe59332(0x1e3)],_0x33aa3e=document[_0xe59332(0x180)](_0xe59332(0x15e))[_0xe59332(0x1e3)],_0x1c8bc5=document[_0xe59332(0x180)](_0xe59332(0x16e))['value'],_0x204b64=document[_0xe59332(0x180)]('inpRecurring')[_0xe59332(0xad)];let _0x6c0662=0x4;if(_0x204b64){const _0x177573=parseInt(document[_0xe59332(0x180)](_0xe59332(0x100))[_0xe59332(0x1e3)]);if(!_0x177573||_0x177573<0x2){showToast(_0xe59332(0x1f0),![]);return;}if(_0x177573>0x64){showToast(_0xe59332(0x123),![]);return;}_0x6c0662=_0x177573;}const _0x561b31=clients[_0xe59332(0x1a0)](_0x56e590=>_0x56e590[_0xe59332(0x1a8)]===_0x244b57);if(!_0x561b31){showToast(_0xe59332(0xfe),![]);return;}const _0x28f128=validateAppointment(_0x4b34be,_0x37f314,_0x33aa3e,editingId,_0x561b31['id']);if(!_0x28f128[_0xe59332(0x133)]){showToast(_0x28f128[_0xe59332(0xa0)],![]);return;}_0x28f128[_0xe59332(0x20c)]&&showToast(_0x28f128[_0xe59332(0x20c)],![]);const _0xe394f0={'client':_0x244b57,'clientId':_0x561b31['id'],'start':_0x37f314,'end':_0x33aa3e,'note':_0x1c8bc5,'status':_0xe59332(0x166)},_0x30c861=editingId?sessions['find'](_0x15346c=>_0x15346c['id']===editingId):null;if(_0x30c861&&_0x30c861[_0xe59332(0x1a9)]){tempSessionData={..._0xe394f0,'dateStr':_0x4b34be,'id':editingId,'seriesId':_0x30c861[_0xe59332(0x1a9)]},openActionSheet(_0xe59332(0x1f2));return;}let _0x224338=null;if(!editingId)_0x224338='create';else{if(_0x30c861){if(String(_0x30c861[_0xe59332(0x201)])!==String(_0x561b31['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0xe59332(0x1ad)](_0xe59332(0xc1),_0x30c861),_0x224338='create';else(_0x30c861[_0xe59332(0xef)]!==_0x37f314||_0x30c861[_0xe59332(0xeb)]!==_0x33aa3e||_0x30c861[_0xe59332(0x16f)]!==_0x4b34be)&&(_0x224338=_0xe59332(0x9c));}}if(!editingId&&_0x204b64){createBatchSeries(_0xe394f0,_0x4b34be,_0x6c0662),NotificationManager['send'](_0xe59332(0xc0),{..._0xe394f0,'dateStr':_0x4b34be});return;}lastUserActionTime=Date['now']();const _0x1fef88={..._0xe394f0,'dateStr':_0x4b34be,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1fef88),_0x224338&&NotificationManager['send'](_0x224338,_0x1fef88);}function toggleSessionStatus(){const _0x49f9bd=a2_0x2c21e6;lastUserActionTime=Date[_0x49f9bd(0xdf)]();const _0x3f646d=sessions[_0x49f9bd(0x1a0)](_0x9917f6=>_0x9917f6['id']===editingId);if(!_0x3f646d)return;const _0xec5303=_0x3f646d[_0x49f9bd(0x20b)]===_0x49f9bd(0x156)?_0x49f9bd(0x166):_0x49f9bd(0x156);_0x3f646d[_0x49f9bd(0x20b)]=_0xec5303,saveSingleSession(_0x3f646d),_0xec5303===_0x49f9bd(0x156)&&NotificationManager[_0x49f9bd(0x1ad)](_0x49f9bd(0xc8),_0x3f646d),showToast(_0xec5303==='completed'?_0x49f9bd(0x1ca):_0x49f9bd(0x99),!![]);}function validateAppointment(_0x51854e,_0x33e27c,_0x20d5e4,_0x29a281,_0x46347f){const _0x38c388=a2_0x2c21e6,[_0x130e6a,_0x3d5c82]=_0x33e27c[_0x38c388(0x15b)](':')['map'](Number),[_0x3b4ab1,_0xd65cf4]=_0x20d5e4[_0x38c388(0x15b)](':')['map'](Number),_0x5b1ae4=_0x130e6a*0x3c+_0x3d5c82,_0x3c42f5=_0x3b4ab1*0x3c+_0xd65cf4,_0x1499ef=String(_0x46347f);let _0x4131da=![],_0x4b5514='';for(let _0x398009 of sessions){if(_0x398009[_0x38c388(0x16f)]!==_0x51854e)continue;if(_0x398009['status']===_0x38c388(0xca))continue;if(_0x29a281&&String(_0x398009['id'])===String(_0x29a281))continue;const [_0x4b0aac,_0x4235bf]=_0x398009[_0x38c388(0xef)][_0x38c388(0x15b)](':')[_0x38c388(0x106)](Number),[_0x28d5c6,_0x556505]=_0x398009['end']['split'](':')[_0x38c388(0x106)](Number),_0x1c6f41=_0x4b0aac*0x3c+_0x4235bf,_0x3437a0=_0x28d5c6*0x3c+_0x556505;if(Math[_0x38c388(0x1e4)](_0x5b1ae4,_0x1c6f41)<Math[_0x38c388(0x1cb)](_0x3c42f5,_0x3437a0)){if(_0x398009['clientId']&&String(_0x398009[_0x38c388(0x201)])===_0x1499ef)return{'valid':![],'msg':_0x38c388(0x1f5)+_0x398009[_0x38c388(0xf6)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4131da=!![],_0x4b5514=_0x398009[_0x38c388(0xf6)];}}if(_0x4131da)return{'valid':!![],'warning':_0x38c388(0x110)+_0x4b5514};return{'valid':!![]};}function saveSingleSession(_0x21ce40){const _0x26bb0b=a2_0x2c21e6;if(editingId){const _0x23f576=sessions[_0x26bb0b(0x179)](_0x3c61b0=>_0x3c61b0['id']===editingId);if(_0x23f576!==-0x1)sessions[_0x23f576]=_0x21ce40;}else sessions['push'](_0x21ce40);afterSaveAction([_0x21ce40[_0x26bb0b(0x16f)]]);}function createBatchSeries(_0x2a3ca2,_0x5f371d,_0x4a5182){const _0x3da0b4=a2_0x2c21e6,_0x18f765=generateId(),_0x415286=[],_0x345661=[];let _0x13dd32=0x0,_0x3440b8=new Date(_0x5f371d);for(let _0x4c9968=0x0;_0x4c9968<_0x4a5182;_0x4c9968++){const _0x278af2=getLocalDateStr(_0x3440b8),_0x301767=validateAppointment(_0x278af2,_0x2a3ca2[_0x3da0b4(0xef)],_0x2a3ca2[_0x3da0b4(0xeb)],null,_0x2a3ca2['clientId']);if(!_0x301767[_0x3da0b4(0x133)])console['log'](_0x3da0b4(0xa7)+_0x278af2+_0x3da0b4(0x108)),_0x13dd32++;else{const _0xe397c1={..._0x2a3ca2,'id':generateId(),'dateStr':_0x278af2,'seriesId':_0x18f765};_0x345661[_0x3da0b4(0x190)](_0xe397c1),_0x415286[_0x3da0b4(0x190)](_0x278af2);}_0x3440b8[_0x3da0b4(0xfa)](_0x3440b8[_0x3da0b4(0x169)]()+0x7);}if(_0x345661[_0x3da0b4(0x213)]===0x0){showToast(_0x3da0b4(0x1e6),![]);return;}sessions['push'](..._0x345661),lastUserActionTime=Date['now']();let _0x5baf54=_0x3da0b4(0xdd)+_0x345661[_0x3da0b4(0x213)];_0x13dd32>0x0&&(_0x5baf54+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x13dd32+')'),showToast(_0x5baf54,!![]),afterSaveAction(_0x415286);}function updateSeriesBatch(_0x5ee2c1,_0x2e6ec9){const _0x2bf9c8=a2_0x2c21e6,_0x1d837d=[],_0x47b384=_0x2e6ec9['seriesId'];if(_0x5ee2c1===_0x2bf9c8(0xd9)){const _0x20b4bd={..._0x2e6ec9,'seriesId':null},_0x2df77c=sessions[_0x2bf9c8(0x179)](_0x2c87a=>_0x2c87a['id']===_0x2e6ec9['id']);if(_0x2df77c!==-0x1)sessions[_0x2df77c]=_0x20b4bd;_0x1d837d[_0x2bf9c8(0x190)](_0x20b4bd[_0x2bf9c8(0x16f)]);}else{if(_0x5ee2c1===_0x2bf9c8(0x109)){const _0xcd777f=_0x2e6ec9['dateStr'];sessions[_0x2bf9c8(0x1fb)]((_0x5de63e,_0x39680a)=>{const _0x42b8f5=_0x2bf9c8;_0x5de63e[_0x42b8f5(0x1a9)]===_0x47b384&&_0x5de63e['dateStr']>=_0xcd777f&&(sessions[_0x39680a]={...sessions[_0x39680a],'start':_0x2e6ec9[_0x42b8f5(0xef)],'end':_0x2e6ec9[_0x42b8f5(0xeb)],'note':_0x2e6ec9[_0x42b8f5(0xf4)],'client':_0x2e6ec9[_0x42b8f5(0xf6)],'clientId':_0x2e6ec9[_0x42b8f5(0x201)]},_0x1d837d[_0x42b8f5(0x190)](_0x5de63e[_0x42b8f5(0x16f)]));});}}afterSaveAction(_0x1d837d);}function tryDeleteSession(){const _0x2ec98d=a2_0x2c21e6,_0x4a3232=sessions[_0x2ec98d(0x1a0)](_0x2cbfc1=>_0x2cbfc1['id']===editingId);if(!_0x4a3232)return;_0x4a3232[_0x2ec98d(0x1a9)]?openActionSheet(_0x2ec98d(0x1ed)):commitDelete(_0x2ec98d(0xd9),_0x4a3232);}function commitDelete(_0x203c47,_0x3cca53){const _0x155382=a2_0x2c21e6;lastUserActionTime=Date['now'](),NotificationManager[_0x155382(0x1ad)](_0x155382(0xc1),_0x3cca53);const _0x17cd29=[];if(_0x203c47===_0x155382(0xd9))sessions=sessions[_0x155382(0x16c)](_0x6967d2=>_0x6967d2['id']!==_0x3cca53['id']),_0x17cd29[_0x155382(0x190)](_0x3cca53['dateStr']);else{if(_0x203c47===_0x155382(0x109)){const _0x7b165d=_0x3cca53[_0x155382(0x16f)],_0x1953b9=_0x3cca53[_0x155382(0x1a9)];sessions[_0x155382(0x1fb)](_0x12e544=>{const _0x136f85=_0x155382;_0x12e544[_0x136f85(0x1a9)]===_0x1953b9&&_0x12e544[_0x136f85(0x16f)]>=_0x7b165d&&_0x17cd29['push'](_0x12e544[_0x136f85(0x16f)]);}),sessions=sessions[_0x155382(0x16c)](_0x4e5a46=>!(_0x4e5a46[_0x155382(0x1a9)]===_0x1953b9&&_0x4e5a46['dateStr']>=_0x7b165d));}}afterSaveAction(_0x17cd29);}function afterSaveAction(_0x538309){const _0x3e2cdd=a2_0x2c21e6;DataManager[_0x3e2cdd(0x1c5)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3e2cdd(0xa5)](_0x538309)[_0x3e2cdd(0x11e)](()=>console[_0x3e2cdd(0x1bd)](_0x3e2cdd(0x155)))[_0x3e2cdd(0xd7)](_0x2effed=>showToast(_0x3e2cdd(0x20f),![]));}const NotificationManager={'formatDate'(_0x5e2b98){const _0x21987d=a2_0x2c21e6,_0x524309=new Date(_0x5e2b98),_0x1c79f1={'weekday':_0x21987d(0x1fa),'day':_0x21987d(0xbe),'month':_0x21987d(0x1fa)};let _0x2be7f0=_0x524309['toLocaleDateString'](_0x21987d(0x12e),_0x1c79f1);return _0x2be7f0[_0x21987d(0x1d0)](0x0)[_0x21987d(0x161)]()+_0x2be7f0['slice'](0x1);},'getText'(_0x1ff3cb,_0x5b0d91){const _0x349c9e=a2_0x2c21e6,_0x2b68da=this[_0x349c9e(0x20d)](_0x5b0d91[_0x349c9e(0x16f)]);switch(_0x1ff3cb){case _0x349c9e(0xc0):return _0x349c9e(0x103)+(_0x349c9e(0x1ec)+_0x2b68da+'\x0a')+(_0x349c9e(0x200)+_0x5b0d91['start']+_0x349c9e(0x1d7)+_0x5b0d91[_0x349c9e(0xeb)]+'\x0a\x0a')+_0x349c9e(0x1f1);case _0x349c9e(0x9c):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+('<b>‚úÖ\x20'+_0x5b0d91[_0x349c9e(0xef)]+_0x349c9e(0x1d7)+_0x5b0d91['end']+_0x349c9e(0x157))+(_0x349c9e(0x1ec)+_0x2b68da);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x2b68da+'\x20('+_0x5b0d91['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x349c9e(0xab);default:return'';}},async 'send'(_0x44bb2d,_0x140aca){const _0x2b9699=a2_0x2c21e6;console[_0x2b9699(0x1bd)](_0x2b9699(0x202),_0x44bb2d,_0x140aca);if(!_0x140aca){console[_0x2b9699(0x126)](_0x2b9699(0xdc));return;}const _0x68a8e7=String(_0x140aca['clientId']);console[_0x2b9699(0x1bd)]('[Notify]\x20Detected\x20Client\x20ID:',_0x68a8e7);if(!_0x140aca[_0x2b9699(0x201)]||_0x68a8e7===_0x2b9699(0x134)||_0x68a8e7===_0x2b9699(0xa8)){console[_0x2b9699(0x126)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x140aca[_0x2b9699(0xf6)]){const _0x4846e7=clients[_0x2b9699(0x1a0)](_0x2155b3=>_0x2155b3['name']===_0x140aca['client']);if(_0x4846e7)return console[_0x2b9699(0x1bd)](_0x2b9699(0x19c),_0x4846e7['id']),this[_0x2b9699(0x1ad)](_0x44bb2d,{..._0x140aca,'clientId':_0x4846e7['id']});}return;}if(_0x68a8e7[_0x2b9699(0x213)]<0x5){console[_0x2b9699(0x111)](_0x2b9699(0x14b),_0x68a8e7);return;}const _0x404249=this['getText'](_0x44bb2d,_0x140aca);if(!_0x404249){console[_0x2b9699(0x126)](_0x2b9699(0xda));return;}console['log'](_0x2b9699(0xf5)+_0x68a8e7+'...'),DataManager[_0x2b9699(0xbc)]('send_notification',{'chatId':_0x68a8e7,'text':_0x404249})[_0x2b9699(0x11e)](_0x448ae1=>console[_0x2b9699(0x1bd)](_0x2b9699(0x1f6),_0x448ae1))[_0x2b9699(0xd7)](_0x5032ca=>console[_0x2b9699(0x126)](_0x2b9699(0x12f),_0x5032ca));}};function getLocalDateStr(_0x29d42f){const _0x16cbda=a2_0x2c21e6,_0x406adf=_0x29d42f[_0x16cbda(0xe3)](),_0x4e9744=String(_0x29d42f['getMonth']()+0x1)['padStart'](0x2,'0'),_0x43de62=String(_0x29d42f[_0x16cbda(0x169)]())[_0x16cbda(0x1a1)](0x2,'0');return _0x406adf+'-'+_0x4e9744+'-'+_0x43de62;}function getDateStr(_0x217a18){const _0x58365f=a2_0x2c21e6,_0x42e5a5=new Date();return _0x42e5a5[_0x58365f(0xfa)](_0x42e5a5[_0x58365f(0x169)]()+_0x217a18),getLocalDateStr(_0x42e5a5);}function getStartOfWeek(_0x53d011){const _0x1cc1d5=a2_0x2c21e6,_0x39c463=(function(){let _0x1073a4=!![];return function(_0x860d21,_0x519b20){const _0x145ca2=_0x1073a4?function(){const _0x4768af=a2_0x547c;if(_0x519b20){const _0x4da4cc=_0x519b20[_0x4768af(0x146)](_0x860d21,arguments);return _0x519b20=null,_0x4da4cc;}}:function(){};return _0x1073a4=![],_0x145ca2;};}()),_0x4e02b8=_0x39c463(this,function(){const _0xe13e17=a2_0x547c;return _0x4e02b8['toString']()[_0xe13e17(0x188)]('(((.+)+)+)+$')[_0xe13e17(0x98)]()['constructor'](_0x4e02b8)[_0xe13e17(0x188)](_0xe13e17(0x1f8));});_0x4e02b8();const _0x710a79=new Date(_0x53d011),_0x370767=_0x710a79[_0x1cc1d5(0x15f)](),_0x27174e=_0x710a79[_0x1cc1d5(0x169)]()-_0x370767+(_0x370767===0x0?-0x6:0x1);return _0x710a79[_0x1cc1d5(0xfa)](_0x27174e),_0x710a79[_0x1cc1d5(0x203)](0x0,0x0,0x0,0x0),_0x710a79;}function hexToRgba(_0x58120d,_0x271ecf){const _0x10c532=a2_0x2c21e6;if(!_0x58120d)return _0x10c532(0xc6);let _0x3b7628=0x0,_0x54df04=0x0,_0x135df4=0x0;if(_0x58120d['length']===0x4)_0x3b7628='0x'+_0x58120d[0x1]+_0x58120d[0x1],_0x54df04='0x'+_0x58120d[0x2]+_0x58120d[0x2],_0x135df4='0x'+_0x58120d[0x3]+_0x58120d[0x3];else _0x58120d[_0x10c532(0x213)]===0x7&&(_0x3b7628='0x'+_0x58120d[0x1]+_0x58120d[0x2],_0x54df04='0x'+_0x58120d[0x3]+_0x58120d[0x4],_0x135df4='0x'+_0x58120d[0x5]+_0x58120d[0x6]);return _0x10c532(0x1ce)+ +_0x3b7628+',\x20'+ +_0x54df04+',\x20'+ +_0x135df4+',\x20'+_0x271ecf+')';}function renderTimeColumn(){const _0x2625fe=a2_0x2c21e6,_0x144846=document[_0x2625fe(0x180)](_0x2625fe(0x102)),_0x46486c=document[_0x2625fe(0x180)](_0x2625fe(0x17b));_0x144846[_0x2625fe(0x1f3)]='',_0x144846[_0x2625fe(0xd8)](_0x46486c);for(let _0x9f6c94=0x0;_0x9f6c94<0x18;_0x9f6c94++){const _0x1e3215=document[_0x2625fe(0x183)](_0x2625fe(0xba));_0x1e3215[_0x2625fe(0xaa)]='time-label';if(_0x9f6c94>0x0)_0x1e3215[_0x2625fe(0x1f3)]='<span>'+String(_0x9f6c94)[_0x2625fe(0x1a1)](0x2,'0')+':00</span>';_0x144846[_0x2625fe(0xd8)](_0x1e3215);}}function renderDayRange(_0x327c29,_0x870e61){const _0x590e31=a2_0x2c21e6,_0x1efeae=document['getElementById'](_0x590e31(0x18a)),_0x35f3da=document[_0x590e31(0x180)]('gridColumns'),_0x47ab2b=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x34a8ba=new Date();_0x34a8ba['setHours'](0x0,0x0,0x0,0x0);const _0x1d7b87=getLocalDateStr(new Date());for(let _0x45739d=_0x327c29;_0x45739d<=_0x870e61;_0x45739d++){const _0x14dae3=new Date(_0x34a8ba);_0x14dae3[_0x590e31(0xfa)](_0x14dae3[_0x590e31(0x169)]()+_0x45739d);const _0x8f55d5=getLocalDateStr(_0x14dae3);let _0xeccb32=_0x14dae3[_0x590e31(0x15f)]()-0x1;if(_0xeccb32===-0x1)_0xeccb32=0x6;const _0x5635fe=_0x8f55d5===_0x1d7b87,_0x111a1d=document[_0x590e31(0x183)]('div');_0x111a1d[_0x590e31(0xaa)]=_0x590e31(0xd4)+(_0x5635fe?_0x590e31(0xae):''),_0x111a1d['id']='header-'+_0x8f55d5,_0x111a1d['setAttribute'](_0x590e31(0x19a),_0x8f55d5),_0x111a1d[_0x590e31(0x1f3)]=_0x590e31(0xf0)+_0x47ab2b[_0xeccb32]+_0x590e31(0x1be)+_0x14dae3[_0x590e31(0x169)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x8f55d5+_0x590e31(0x171),_0x111a1d[_0x590e31(0xe5)]=()=>openDayOptions(_0x8f55d5,_0x47ab2b[_0xeccb32]+'\x20'+_0x14dae3[_0x590e31(0x169)]()),_0x1efeae[_0x590e31(0xd8)](_0x111a1d);const _0x261cc3=document[_0x590e31(0x183)](_0x590e31(0xba));_0x261cc3[_0x590e31(0xaa)]='day-column\x20'+(_0x5635fe?'today':''),_0x261cc3['setAttribute'](_0x590e31(0x19a),_0x8f55d5),_0x261cc3['setAttribute']('data-day-idx',_0xeccb32),renderEventsForColumn(_0x261cc3,_0x8f55d5,_0xeccb32),attachLongPressHandler(_0x261cc3,_0x14dae3),_0x35f3da['appendChild'](_0x261cc3),updateDayStats(_0x8f55d5);}}function a2_0x33eb(){const _0xe9cb4f=['getDate','week','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','filter','uc_settings_v9','inpNote','dateStr','4081416TDKJeE','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','pe-time-label','sessionSheet','touchstart','.period-switch\x20.p-btn','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','findIndex','setBackgroundColor','timeLineBadge','getTime','%\x20+\x202px)','btn-primary\x20btn-secondary','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','getElementById','getMonth','router.html','createElement','querySelectorAll','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','doLoadPercent','flex','search','</div><div\x20class=\x22ev-time\x22>','daysHeaderTrack','px\x20-','POST','inpStart','Critical\x20TMA\x20Error:','1314329anBfQs','push','doDateHeader','1518672AHrhMU','getHours','rangeStartTime','rangeStartDate','WebApp','remove','background','[API\x20','data-date','save_settings','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','toast-notification\x20','actionSheetOverlay','rangeEndDate','find','padStart','toast','actionSheet','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','31016623CwNEpF','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','addEventListener','name','seriesId','BackButton','backgroundPosition','inpRecurring','send',':00','slice','de-item','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','none','btnDelete','.pib-text','guest','asTitle','sort','\x20-\x20','clientY','indexOf','day-column\x20','block','log','</div><div\x20class=\x22dch-num\x22>','inpClient','[Settings]\x20Cancel\x20window\x20set\x20to:','onClick','pattern','toLocaleString','insertBefore','saveLocally','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','success','var(--acc-green)','...','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','min','round','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','rgba(','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','charAt','doBusyHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','setItem','show','option','gridColumns','\x20‚Äî\x20','text/plain;charset=UTF-8','sheetTitle','matrixViewport','init_load','done','btnStatusToggle','mousedown','Unknown','initData','patternInfoBox','offsetWidth','value','max','T00:00:00','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','borderRadius','textContent','querySelector','scroll','style','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','delete','getBoundingClientRect','.day-col-header','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','save','innerHTML','pe-corner','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','[Notify]\x20Server\x20Response:','top','(((.+)+)+)+$','statLoadCard','long','forEach','getItem','Local\x20Save\x20Error','469553oxCAEk','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','clientId','[Notify]\x20Attempting\x20to\x20send:','setHours','text','exceptions','pe-col-header','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','stopPropagation','offsetLeft','toastMessage','status','warning','formatDate','height','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','.dch-stats-fill','#050505','blocked-range-part\x20stripe-bg','length','random','toString','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','723316YOdXrq','off','update','splice','mergeServerData',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','msg','backgroundColor','</div>','scrollLeft','mini','syncBatch','anTotalStats','[Series]\x20Skipped\x20','null','–£–¥–∞–ª–µ–Ω–∏–µ','className','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','parse','checked','today','9lYSqUi','add','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','clientWidth','recurringOptionContainer',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','anCustomDates','\x20status-completed','btn-status-toggle','.day-off-overlay','div','rgba(255,255,255,0.05)','fetchFromServer','toLocaleDateString','numeric','getAttribute','create','cancel','patternEditor','getMinutes','setHeaderColor','Save\x20settings\x20error:','rgba(100,100,100,0.5)','–£—Å–ø–µ—à–Ω–æ','complete','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','cancelled','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','100%','uc_clients_v9','sheetDateSubtitle','var(--acc-red)','Error\x20setting\x20back\x20button:','keys','zIndex','classList','day-col-header\x20','location','touches','catch','appendChild','single','[Notify]\x20Error:\x20Text\x20generation\x20failed','open','[Notify]\x20Error:\x20sessionData\x20is\x20null','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','now','left','blocked-slot\x20stripe-bg','cancel_window','getFullYear','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','onclick','</span>\x20/\x20','stat-','23:59','anStart','floor','end','sid','disableVerticalSwipes','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','start','<div\x20class=\x22dch-day\x22>','json','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','btn-primary\x20btn-danger','note','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','client','header-','mousemove','var(--acc-current)','setDate','inpDate','client-stat-card','\x20–∏–∑\x20','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','66DFggHP','inpSeriesCount',']\x20Failed:','timeColumn','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','closest','syncLoad','map','substr',':\x20Client\x20already\x20booked','series','rangeEndTime','dayOptionsSheet','2WiBvXX','10px','display','overlay','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','warn','startsWith','rgba(48,\x20209,\x2088,\x200.15)','localeCompare','px\x200px','settingsSheet','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','setAttribute','#gridColumns\x20.day-column','offClick','.sheet','Telegram','then','active','initDataUnsafe','expand','as-button\x20danger\x20bold','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','–ò–Ω—Ñ–æ','total','error','scrollWidth','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','Error\x20setting\x20color:','from','clients','borderColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ru-RU','[Notify]\x20Network\x20Failed','width','%\x20-\x204px)','includes','valid','undefined','touchmove','9563320IRyoEi','user','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','asBtnOne','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','doWorkHours','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','calendar','borderLeftColor','toastTitle','createDocumentFragment','ranges','anEnd','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','.event-card','uc_settings_cancel_window','apply','isArray','rangesList','calc(','toFixed','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','range-item','batch_sync','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','rgba(255,\x2069,\x2058,\x200.15)','seriesCountContainer','00:00','target','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','colIndex','Batch\x20Sync\x20OK','completed','</b>\x0a\x0a','day-off-overlay\x20stripe-bg','settingCancelWindow','doEventsList','split','15dCkpVE','peGrid','inpEnd','getDay','settings','toUpperCase','as-button\x20danger','\x20days','dayOptionsTitle','color','planned','stringify','setMonth'];a2_0x33eb=function(){return _0xe9cb4f;};return a2_0x33eb();}function reRenderBlocks(){const _0x55cc9f=a2_0x2c21e6;document['querySelectorAll'](_0x55cc9f(0x11a))[_0x55cc9f(0x1fb)](_0x1b6996=>{const _0x72ccdb=_0x55cc9f;_0x1b6996[_0x72ccdb(0x184)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')['forEach'](_0x5386f5=>_0x5386f5[_0x72ccdb(0x197)]());const _0x425831=_0x1b6996[_0x72ccdb(0xbf)](_0x72ccdb(0x19a)),_0x21d7ff=parseInt(_0x1b6996[_0x72ccdb(0xbf)]('data-day-idx')),_0xa159e5=Math[_0x72ccdb(0x1cc)](_0x1b6996['offsetLeft']);(availabilityPattern[_0x21d7ff]||[])['forEach'](_0x347fae=>{const _0x55188b=_0x72ccdb,_0x65534e=document[_0x55188b(0x183)]('div');_0x65534e[_0x55188b(0xaa)]='blocked-slot\x20stripe-bg';const _0x2e3b0b=_0x347fae*GRID_H;_0x65534e[_0x55188b(0x1eb)][_0x55188b(0x1f7)]=_0x2e3b0b+'px',_0x65534e[_0x55188b(0x1eb)][_0x55188b(0x1ab)]='-'+_0xa159e5+_0x55188b(0x18b)+_0x2e3b0b+'px',_0x1b6996['appendChild'](_0x65534e);});if(specialRanges&&specialRanges[_0x72ccdb(0x213)]>0x0){const _0x25a861=new Date(_0x425831+_0x72ccdb(0x1e5))[_0x72ccdb(0x17c)](),_0x1698a1=new Date(_0x425831+'T23:59:59')[_0x72ccdb(0x17c)]();specialRanges[_0x72ccdb(0x1fb)](_0x3330bc=>{const _0x477833=_0x72ccdb,_0x113c9c=new Date(_0x3330bc[_0x477833(0xef)])[_0x477833(0x17c)](),_0x361d5c=new Date(_0x3330bc[_0x477833(0xeb)])[_0x477833(0x17c)](),_0x4d60b9=Math[_0x477833(0x1e4)](_0x25a861,_0x113c9c),_0xc3aae4=Math['min'](_0x1698a1,_0x361d5c);if(_0x4d60b9<_0xc3aae4){if(_0x4d60b9<=_0x25a861&&_0xc3aae4>=_0x1698a1-0xea60){if(!_0x1b6996[_0x477833(0x1e9)](_0x477833(0xb9))){const _0x4f31c7=document['createElement'](_0x477833(0xba));_0x4f31c7[_0x477833(0xaa)]=_0x477833(0x158),_0x4f31c7['style'][_0x477833(0x1ab)]='-'+_0xa159e5+_0x477833(0x115),_0x1b6996[_0x477833(0xd8)](_0x4f31c7);}}else{const _0x2d2ecd=(_0x4d60b9-_0x25a861)/0x36ee80*GRID_H,_0x37fa1e=(_0xc3aae4-_0x4d60b9)/0x36ee80*GRID_H,_0x2b99d6=document[_0x477833(0x183)](_0x477833(0xba));_0x2b99d6['className']=_0x477833(0x212),_0x2b99d6[_0x477833(0x1eb)][_0x477833(0x1f7)]=_0x2d2ecd+'px',_0x2b99d6[_0x477833(0x1eb)][_0x477833(0x20e)]=_0x37fa1e+'px',_0x2b99d6['style'][_0x477833(0x1ab)]='-'+_0xa159e5+_0x477833(0x18b)+_0x2d2ecd+'px',_0x1b6996[_0x477833(0xd8)](_0x2b99d6);}}});}if(dateExceptions[_0x425831]===_0x72ccdb(0x9b)){if(!_0x1b6996[_0x72ccdb(0x1e9)]('.day-off-overlay')){const _0x11f16e=document[_0x72ccdb(0x183)](_0x72ccdb(0xba));_0x11f16e[_0x72ccdb(0xaa)]=_0x72ccdb(0x158),_0x11f16e[_0x72ccdb(0x1eb)][_0x72ccdb(0x1ab)]='-'+_0xa159e5+_0x72ccdb(0x115),_0x1b6996[_0x72ccdb(0xd8)](_0x11f16e);}}renderEventsForColumn(_0x1b6996,_0x425831,_0x21d7ff),updateDayStats(_0x425831);});}function updateAllDayStats(){const _0x2e6e24=a2_0x2c21e6;document['querySelectorAll'](_0x2e6e24(0x1ef))[_0x2e6e24(0x1fb)](_0x9f874=>{const _0x7813a6=_0x2e6e24;updateDayStats(_0x9f874[_0x7813a6(0xbf)]('data-date'));});}function updateDayStats(_0x22d6e6){const _0x2255bc=a2_0x2c21e6,_0x569c83=document[_0x2255bc(0x180)](_0x2255bc(0xe7)+_0x22d6e6);if(!_0x569c83)return;const _0x46b161=new Date(_0x22d6e6);let _0x11d480=_0x46b161['getDay']()-0x1;if(_0x11d480===-0x1)_0x11d480=0x6;if(dateExceptions[_0x22d6e6]===_0x2255bc(0x9b)){_0x569c83[_0x2255bc(0x1eb)][_0x2255bc(0x10e)]='none';return;}const _0x220b25=availabilityPattern[_0x11d480]||[],_0x2c4bad=0x18-_0x220b25[_0x2255bc(0x213)],_0x395369=_0x2c4bad*0x3c,_0x2e079e=sessions[_0x2255bc(0x16c)](_0x2ef918=>_0x2ef918[_0x2255bc(0x16f)]===_0x22d6e6&&_0x2ef918[_0x2255bc(0x20b)]!=='cancelled');if(_0x2e079e[_0x2255bc(0x213)]===0x0){_0x569c83[_0x2255bc(0x1eb)][_0x2255bc(0x10e)]=_0x2255bc(0x1b2);return;}let _0x4934b1=_0x2e079e[_0x2255bc(0x106)](_0x47608b=>{const _0x432bf2=_0x2255bc,[_0xa3cd5c,_0x50eb07]=_0x47608b[_0x432bf2(0xef)]['split'](':')[_0x432bf2(0x106)](Number),[_0x450ad4,_0xe7712]=_0x47608b[_0x432bf2(0xeb)]['split'](':')[_0x432bf2(0x106)](Number);return[_0xa3cd5c*0x3c+_0x50eb07,_0x450ad4*0x3c+_0xe7712];});_0x4934b1[_0x2255bc(0x1b7)]((_0x3bb4ba,_0x57279b)=>_0x3bb4ba[0x0]-_0x57279b[0x0]);let _0xb77840=[];if(_0x4934b1[_0x2255bc(0x213)]>0x0){let _0x37197d=_0x4934b1[0x0];for(let _0x5f0260=0x1;_0x5f0260<_0x4934b1[_0x2255bc(0x213)];_0x5f0260++){_0x4934b1[_0x5f0260][0x0]<_0x37197d[0x1]?_0x37197d[0x1]=Math['max'](_0x37197d[0x1],_0x4934b1[_0x5f0260][0x1]):(_0xb77840[_0x2255bc(0x190)](_0x37197d),_0x37197d=_0x4934b1[_0x5f0260]);}_0xb77840[_0x2255bc(0x190)](_0x37197d);}let _0x676f64=0x0;_0xb77840[_0x2255bc(0x1fb)](_0x549698=>_0x676f64+=_0x549698[0x1]-_0x549698[0x0]),_0x569c83[_0x2255bc(0x1eb)][_0x2255bc(0x10e)]=_0x2255bc(0x187);const _0x38f73a=_0x569c83[_0x2255bc(0x1e9)](_0x2255bc(0x210));if(_0x395369===0x0){_0x38f73a['style'][_0x2255bc(0x130)]=_0x2255bc(0xcc),_0x38f73a[_0x2255bc(0x1eb)][_0x2255bc(0x198)]=_0x2255bc(0xcf);return;}const _0x3e9bfc=_0x676f64/_0x395369*0x64;console[_0x2255bc(0x1bd)]('['+_0x22d6e6+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x2c4bad+_0x2255bc(0x1ff)+_0x676f64+_0x2255bc(0xcb)+_0x3e9bfc[_0x2255bc(0x14a)](0x1)+'%'),_0x3e9bfc>0x64?(_0x38f73a[_0x2255bc(0x1eb)][_0x2255bc(0x130)]=_0x2255bc(0xcc),_0x38f73a[_0x2255bc(0x1eb)][_0x2255bc(0x198)]=_0x2255bc(0xcf)):(_0x38f73a[_0x2255bc(0x1eb)][_0x2255bc(0x130)]=_0x3e9bfc+'%',_0x38f73a[_0x2255bc(0x1eb)][_0x2255bc(0x198)]=_0x2255bc(0xf9));}function renderEventsForColumn(_0x9af55b,_0x14b985,_0x3c3f2c){const _0x355d36=a2_0x2c21e6,_0x57388a=sessions[_0x355d36(0x16c)](_0x255638=>_0x255638[_0x355d36(0x16f)]===_0x14b985),_0x314dc7=_0x57388a[_0x355d36(0x106)](_0x4d04a8=>{const _0x1e646b=_0x355d36,[_0x1d0fa0,_0x4943ed]=_0x4d04a8[_0x1e646b(0xef)]['split'](':')[_0x1e646b(0x106)](Number),[_0x2644fa,_0x23d7b8]=_0x4d04a8['end']['split'](':')[_0x1e646b(0x106)](Number);return{'data':_0x4d04a8,'start':_0x1d0fa0*0x3c+_0x4943ed,'end':_0x2644fa*0x3c+_0x23d7b8,'colIndex':0x0};});_0x314dc7[_0x355d36(0x1b7)]((_0x436ac1,_0x51ebe6)=>{const _0x188e26=_0x355d36;if(_0x436ac1[_0x188e26(0xef)]!==_0x51ebe6[_0x188e26(0xef)])return _0x436ac1[_0x188e26(0xef)]-_0x51ebe6['start'];return _0x51ebe6[_0x188e26(0xeb)]-_0x51ebe6['start']-(_0x436ac1['end']-_0x436ac1['start']);});const _0x14f5d6=[];_0x314dc7[_0x355d36(0x1fb)](_0xd16b33=>{const _0x221498=_0x355d36;let _0x3cab9e=![];for(let _0xefe55c=0x0;_0xefe55c<_0x14f5d6[_0x221498(0x213)];_0xefe55c++){const _0x2d0cb1=_0x14f5d6[_0xefe55c],_0xa551df=_0x2d0cb1[_0x2d0cb1['length']-0x1];if(_0xd16b33[_0x221498(0xef)]>=_0xa551df[_0x221498(0xeb)]){_0x2d0cb1[_0x221498(0x190)](_0xd16b33),_0xd16b33[_0x221498(0x154)]=_0xefe55c,_0x3cab9e=!![];break;}}!_0x3cab9e&&(_0x14f5d6[_0x221498(0x190)]([_0xd16b33]),_0xd16b33[_0x221498(0x154)]=_0x14f5d6[_0x221498(0x213)]-0x1);}),_0x314dc7[_0x355d36(0x1fb)](_0x59c987=>{const _0x4522c1=_0x355d36;let _0x150ec6=0x0;_0x314dc7['forEach'](_0x3c2c8c=>{const _0x458392=a2_0x547c;if(Math[_0x458392(0x1e4)](_0x59c987[_0x458392(0xef)],_0x3c2c8c[_0x458392(0xef)])<Math[_0x458392(0x1cb)](_0x59c987[_0x458392(0xeb)],_0x3c2c8c[_0x458392(0xeb)])){if(_0x3c2c8c[_0x458392(0x154)]>_0x150ec6)_0x150ec6=_0x3c2c8c[_0x458392(0x154)];}});const _0x1f6f31=_0x150ec6+0x1,_0x3df4b1=0x64/_0x1f6f31,_0x34beb1=_0x59c987['colIndex']*_0x3df4b1,_0x3ba63a=createEventEl(_0x59c987['data']);_0x3ba63a[_0x4522c1(0x1eb)]['width']=_0x4522c1(0x149)+_0x3df4b1+_0x4522c1(0x131),_0x3ba63a[_0x4522c1(0x1eb)][_0x4522c1(0xe0)]=_0x4522c1(0x149)+_0x34beb1+_0x4522c1(0x17d),_0x3ba63a[_0x4522c1(0x1eb)][_0x4522c1(0xd2)]=0xa+_0x59c987[_0x4522c1(0x154)],_0x3df4b1<0x55&&_0x3ba63a[_0x4522c1(0xd3)]['add'](_0x4522c1(0xa4)),_0x9af55b['appendChild'](_0x3ba63a);});}function createEventEl(_0x4df61b){const _0x2b4893=a2_0x2c21e6,[_0xc14e0e,_0x339550]=_0x4df61b[_0x2b4893(0xef)]['split'](':')[_0x2b4893(0x106)](Number),[_0x4b7bee,_0x349e5d]=_0x4df61b[_0x2b4893(0xeb)][_0x2b4893(0x15b)](':')[_0x2b4893(0x106)](Number),_0x39b23e=(_0xc14e0e*0x3c+_0x339550)/0x3c*GRID_H,_0x5552e6=(_0x4b7bee*0x3c+_0x349e5d-(_0xc14e0e*0x3c+_0x339550))/0x3c*GRID_H,_0x102467=document[_0x2b4893(0x183)](_0x2b4893(0xba)),_0x2b6407=_0x4df61b[_0x2b4893(0x20b)]===_0x2b4893(0x156)?_0x2b4893(0xb7):'';_0x102467['className']='event-card'+_0x2b6407,_0x102467[_0x2b4893(0x1eb)][_0x2b4893(0x1f7)]=_0x39b23e+'px',_0x102467['style'][_0x2b4893(0x20e)]=Math[_0x2b4893(0x1e4)](_0x5552e6,0x14)+'px';const _0xac0702=clients['find'](_0x34c119=>_0x4df61b['clientId']&&String(_0x34c119['id'])===String(_0x4df61b[_0x2b4893(0x201)])||_0x34c119[_0x2b4893(0x1a8)]===_0x4df61b[_0x2b4893(0xf6)]),_0x12a97e=_0xac0702?_0xac0702[_0x2b4893(0x165)]:'#0a84ff';_0x102467[_0x2b4893(0x1eb)][_0x2b4893(0x13e)]=_0x12a97e,_0x102467['style'][_0x2b4893(0xa1)]=hexToRgba(_0x12a97e,0.85);let _0x559d2d='<div\x20class=\x22ev-title\x22>'+_0x4df61b[_0x2b4893(0xf6)]+_0x2b4893(0x189)+_0x4df61b[_0x2b4893(0xef)]+_0x2b4893(0x1b8)+_0x4df61b['end']+_0x2b4893(0xa2);return _0x4df61b['seriesId']&&(_0x559d2d+=_0x2b4893(0xb1)),_0x4df61b[_0x2b4893(0x20b)]===_0x2b4893(0x156)&&(_0x559d2d+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x102467[_0x2b4893(0x1f3)]=_0x559d2d,_0x102467[_0x2b4893(0xe5)]=_0x371155=>{const _0x432219=_0x2b4893;_0x371155[_0x432219(0x208)](),openEdit(_0x4df61b);},_0x102467;}function attachLongPressHandler(_0x448cd3,_0x530c35){const _0x5583a3=a2_0x2c21e6;let _0x3f6406=0x0,_0x5c7dee=null;const _0x203849=_0x657b3=>{const _0x640c94=a2_0x547c;if(_0x657b3[_0x640c94(0x152)][_0x640c94(0x104)](_0x640c94(0x144)))return;isScrolling=![],_0x3f6406=_0x657b3['touches']?_0x657b3[_0x640c94(0xd6)][0x0][_0x640c94(0x1b9)]:_0x657b3[_0x640c94(0x1b9)],_0x5c7dee=setTimeout(()=>{const _0xc6f4bc=_0x640c94;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x16af44=_0x448cd3[_0xc6f4bc(0x1ee)](),_0x3e073e=Math[_0xc6f4bc(0xea)]((_0x3f6406-_0x16af44[_0xc6f4bc(0x1f7)])/GRID_H);_0x530c35['setHours'](_0x3e073e,0x0),openAddSession(_0x530c35);}},0x1f4);},_0x139f1f=()=>{isScrolling=!![],clearTimeout(_0x5c7dee);},_0x48b13e=()=>{clearTimeout(_0x5c7dee);};_0x448cd3[_0x5583a3(0x1a7)](_0x5583a3(0x176),_0x203849,{'passive':!![]}),_0x448cd3[_0x5583a3(0x1a7)](_0x5583a3(0x135),_0x139f1f,{'passive':!![]}),_0x448cd3['addEventListener']('touchend',_0x48b13e),_0x448cd3[_0x5583a3(0x1a7)](_0x5583a3(0x1de),_0x203849),_0x448cd3[_0x5583a3(0x1a7)](_0x5583a3(0xf8),_0x139f1f),_0x448cd3[_0x5583a3(0x1a7)]('mouseup',_0x48b13e);}function cancelLongPress(){}function a2_0x547c(_0x5aa73a,_0x50918f){_0x5aa73a=_0x5aa73a-0x97;const _0x32af29=a2_0x33eb();let _0x4cdecf=_0x32af29[_0x5aa73a];return _0x4cdecf;}function handleInfiniteScroll(){const _0x215202=a2_0x2c21e6,_0x4b7609=document[_0x215202(0x180)](_0x215202(0x1da)),_0x149e3c=_0x4b7609['scrollLeft'],_0x3df71e=_0x4b7609[_0x215202(0x127)],_0xcac4e4=_0x4b7609[_0x215202(0xb3)];if(_0x3df71e-(_0x149e3c+_0xcac4e4)<0x12c){const _0xf318d4=endOffset;endOffset+=0xe,renderDayRange(_0xf318d4+0x1,endOffset),reRenderBlocks();}if(_0x149e3c<0x12c){const _0x5eb6fa=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5eb6fa-0x1),_0x4b7609[_0x215202(0xa3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2729e4,_0x187fbf){const _0x58ab36=a2_0x2c21e6,_0x2cf635=document[_0x58ab36(0x180)](_0x58ab36(0x18a)),_0x252f57=document[_0x58ab36(0x180)](_0x58ab36(0x1d6)),_0x5632f5=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x32d83c=new Date();_0x32d83c['setHours'](0x0,0x0,0x0,0x0);const _0xda3534=getLocalDateStr(new Date()),_0x4d98ef=document[_0x58ab36(0x140)](),_0xd7752d=document['createDocumentFragment']();for(let _0x157ce1=_0x2729e4;_0x157ce1<=_0x187fbf;_0x157ce1++){const _0x1040c9=new Date(_0x32d83c);_0x1040c9[_0x58ab36(0xfa)](_0x1040c9['getDate']()+_0x157ce1);const _0x1a5c15=getLocalDateStr(_0x1040c9);let _0x3207e9=_0x1040c9[_0x58ab36(0x15f)]()-0x1;if(_0x3207e9===-0x1)_0x3207e9=0x6;const _0x401911=_0x1a5c15===_0xda3534,_0x59e649=document[_0x58ab36(0x183)](_0x58ab36(0xba));_0x59e649[_0x58ab36(0xaa)]='day-col-header\x20'+(_0x401911?_0x58ab36(0xae):''),_0x59e649['id']=_0x58ab36(0xf7)+_0x1a5c15,_0x59e649[_0x58ab36(0x119)](_0x58ab36(0x19a),_0x1a5c15),_0x59e649['innerHTML']=_0x58ab36(0xf0)+_0x5632f5[_0x3207e9]+_0x58ab36(0x1be)+_0x1040c9[_0x58ab36(0x169)]()+_0x58ab36(0x117)+_0x1a5c15+_0x58ab36(0x171),_0x59e649[_0x58ab36(0xe5)]=()=>openDayOptions(_0x1a5c15,_0x5632f5[_0x3207e9]+'\x20'+_0x1040c9[_0x58ab36(0x169)]()),_0x4d98ef['appendChild'](_0x59e649);const _0x59be0e=document[_0x58ab36(0x183)]('div');_0x59be0e['className']=_0x58ab36(0x1bb)+(_0x401911?_0x58ab36(0xae):''),_0x59be0e[_0x58ab36(0x119)](_0x58ab36(0x19a),_0x1a5c15),_0x59be0e[_0x58ab36(0x119)]('data-day-idx',_0x3207e9),renderEventsForColumn(_0x59be0e,_0x1a5c15,_0x3207e9),attachLongPressHandler(_0x59be0e,_0x1040c9),_0xd7752d[_0x58ab36(0xd8)](_0x59be0e),updateDayStats(_0x1a5c15);}_0x2cf635[_0x58ab36(0x1c4)](_0x4d98ef,_0x2cf635['firstChild']),_0x252f57['insertBefore'](_0xd7752d,_0x252f57['querySelector']('.day-column'));}function validateAppointment(_0x500050,_0xe4eb62,_0x29ad75,_0x22ad61,_0x1a6ef6){const _0x520a34=a2_0x2c21e6,[_0x4122cc,_0x5884cf]=_0xe4eb62['split'](':')[_0x520a34(0x106)](Number),[_0x546f1e,_0x10b0be]=_0x29ad75[_0x520a34(0x15b)](':')[_0x520a34(0x106)](Number),_0x4283ec=_0x4122cc*0x3c+_0x5884cf,_0x2c7f0a=_0x546f1e*0x3c+_0x10b0be,_0x55d302=String(_0x1a6ef6);let _0x28c33b=![],_0x2b73b9='';for(let _0x3a2d97 of sessions){if(_0x3a2d97[_0x520a34(0x16f)]!==_0x500050)continue;if(_0x3a2d97[_0x520a34(0x20b)]==='cancelled')continue;if(_0x22ad61&&String(_0x3a2d97['id'])===String(_0x22ad61))continue;const [_0x3d1ba9,_0x574c55]=_0x3a2d97['start'][_0x520a34(0x15b)](':')['map'](Number),[_0x4c0d84,_0x3fb375]=_0x3a2d97[_0x520a34(0xeb)][_0x520a34(0x15b)](':')[_0x520a34(0x106)](Number),_0xb75dc3=_0x3d1ba9*0x3c+_0x574c55,_0x5e30c2=_0x4c0d84*0x3c+_0x3fb375;if(Math[_0x520a34(0x1e4)](_0x4283ec,_0xb75dc3)<Math[_0x520a34(0x1cb)](_0x2c7f0a,_0x5e30c2)){if(_0x3a2d97['clientId']&&String(_0x3a2d97[_0x520a34(0x201)])===_0x55d302)return{'valid':![],'msg':_0x520a34(0x1f5)+_0x3a2d97[_0x520a34(0xf6)]+_0x520a34(0xb5)};_0x28c33b=!![],_0x2b73b9=_0x3a2d97['client'];}}if(_0x28c33b)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x2b73b9};return{'valid':!![]};}function updateDateDisplay(){const _0xdfa977=a2_0x2c21e6,_0x5a0559=document['getElementById']('inpDate')[_0xdfa977(0x1e3)],_0x4f01e9=document[_0xdfa977(0x180)](_0xdfa977(0xce));if(!_0x5a0559){_0x4f01e9['textContent']='';return;}const [_0x419eab,_0xf58461,_0x53c774]=_0x5a0559['split']('-')[_0xdfa977(0x106)](Number),_0x55661c=new Date(_0x419eab,_0xf58461-0x1,_0x53c774),_0x1c627c={'weekday':_0xdfa977(0x1fa),'day':_0xdfa977(0xbe),'month':'long','year':_0xdfa977(0xbe)};let _0x5bb513=_0x55661c[_0xdfa977(0xbd)](_0xdfa977(0x12e),_0x1c627c);_0x5bb513=_0x5bb513[_0xdfa977(0x1d0)](0x0)['toUpperCase']()+_0x5bb513[_0xdfa977(0x1af)](0x1),_0x4f01e9['textContent']=_0x5bb513;}function autoSetEndTime(){const _0x48fa7b=a2_0x2c21e6,_0x6024e3=document[_0x48fa7b(0x180)](_0x48fa7b(0x18d))[_0x48fa7b(0x1e3)];if(!_0x6024e3)return;const [_0x44c67d,_0x2b4806]=_0x6024e3[_0x48fa7b(0x15b)](':')[_0x48fa7b(0x106)](Number);let _0x27b259=_0x44c67d+0x1;if(_0x27b259>0x17)_0x27b259=0x0;const _0x3d6f38=String(_0x27b259)[_0x48fa7b(0x1a1)](0x2,'0')+':'+String(_0x2b4806)[_0x48fa7b(0x1a1)](0x2,'0');document[_0x48fa7b(0x180)](_0x48fa7b(0x15e))[_0x48fa7b(0x1e3)]=_0x3d6f38;}function populateClientSelect(){const _0x304749=a2_0x2c21e6,_0x363510=document['getElementById'](_0x304749(0x1bf));_0x363510[_0x304749(0x1f3)]='';if(clients[_0x304749(0x213)]===0x0){const _0x1f5842=document[_0x304749(0x183)](_0x304749(0x1d5));_0x1f5842[_0x304749(0x204)]=_0x304749(0x138),_0x363510[_0x304749(0xd8)](_0x1f5842);return;}clients['forEach'](_0x3a0b68=>{const _0x17ae06=_0x304749,_0x415f74=document[_0x17ae06(0x183)]('option');_0x415f74[_0x17ae06(0x1e3)]=_0x3a0b68[_0x17ae06(0x1a8)],_0x415f74[_0x17ae06(0x1e8)]=_0x3a0b68[_0x17ae06(0x1a8)],_0x363510[_0x17ae06(0xd8)](_0x415f74);});}function openActionSheet(_0x7c331c){const _0x5633b1=a2_0x2c21e6,_0x45d5d8=document[_0x5633b1(0x180)]('actionSheet'),_0x5e4eda=document[_0x5633b1(0x180)](_0x5633b1(0x19e)),_0x2be48a=document[_0x5633b1(0x180)](_0x5633b1(0x1b6)),_0x5a335f=document[_0x5633b1(0x180)](_0x5633b1(0x139)),_0x11df51=document[_0x5633b1(0x180)]('asBtnSeries');_0x5e4eda[_0x5633b1(0xd3)]['add']('active'),_0x45d5d8[_0x5633b1(0xd3)][_0x5633b1(0xb0)](_0x5633b1(0xdb));if(_0x7c331c===_0x5633b1(0x1f2))_0x2be48a['textContent']=_0x5633b1(0x172),_0x5a335f[_0x5633b1(0x1e8)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x5a335f[_0x5633b1(0xe5)]=()=>{const _0x457a70=_0x5633b1;closeActionSheet(),updateSeriesBatch(_0x457a70(0xd9),tempSessionData);},_0x11df51[_0x5633b1(0x1e8)]=_0x5633b1(0x118),_0x11df51[_0x5633b1(0xe5)]=()=>{const _0xafd3e5=_0x5633b1;closeActionSheet(),updateSeriesBatch(_0xafd3e5(0x109),tempSessionData);};else _0x7c331c==='delete'&&(_0x2be48a[_0x5633b1(0x1e8)]=_0x5633b1(0xa9),_0x5a335f['textContent']=_0x5633b1(0xee),_0x5a335f[_0x5633b1(0xaa)]=_0x5633b1(0x162),_0x5a335f[_0x5633b1(0xe5)]=()=>{const _0x2e4261=_0x5633b1;closeActionSheet(),commitDelete(_0x2e4261(0xd9),sessions[_0x2e4261(0x1a0)](_0x1d3b7c=>_0x1d3b7c['id']===editingId));},_0x11df51[_0x5633b1(0x1e8)]=_0x5633b1(0x118),_0x11df51[_0x5633b1(0xaa)]=_0x5633b1(0x122),_0x11df51[_0x5633b1(0xe5)]=()=>{const _0x396c54=_0x5633b1;closeActionSheet(),commitDelete('series',sessions[_0x396c54(0x1a0)](_0x32355b=>_0x32355b['id']===editingId));});}function closeActionSheet(){const _0x2d3c69=a2_0x2c21e6;document['getElementById'](_0x2d3c69(0x1a3))[_0x2d3c69(0xd3)][_0x2d3c69(0x197)]('open'),document['getElementById'](_0x2d3c69(0x19e))['classList'][_0x2d3c69(0x197)](_0x2d3c69(0x11f));}function openSettings(){const _0x3fb6c5=a2_0x2c21e6;openSheet(_0x3fb6c5(0x116));}function saveCoachSettings(){const _0x28e718=a2_0x2c21e6,_0x1c880c=document[_0x28e718(0x180)](_0x28e718(0x159))[_0x28e718(0x1e3)];localStorage['setItem']('uc_settings_cancel_window',_0x1c880c),console[_0x28e718(0x1bd)](_0x28e718(0x1c0),_0x1c880c),DataManager['fetchFromServer'](_0x28e718(0x19b),{'settings':{'cancel_window':_0x1c880c}})[_0x28e718(0xd7)](_0xfd9ed9=>{const _0x34ad9f=_0x28e718;console[_0x34ad9f(0x126)](_0x34ad9f(0xc5),_0xfd9ed9),showToast(_0x34ad9f(0x185),![]);});}function loadCoachSettings(){const _0x598c05=a2_0x2c21e6,_0xa17bec=localStorage[_0x598c05(0x1fc)]('uc_settings_cancel_window');_0xa17bec&&(document[_0x598c05(0x180)](_0x598c05(0x159))[_0x598c05(0x1e3)]=_0xa17bec);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x317e81=a2_0x2c21e6,_0x355a97=document[_0x317e81(0x180)](_0x317e81(0x195))[_0x317e81(0x1e3)],_0x13e6c6=document['getElementById']('rangeStartTime')[_0x317e81(0x1e3)],_0x63b782=document[_0x317e81(0x180)](_0x317e81(0x19f))['value'],_0x2fa45c=document['getElementById']('rangeEndTime')[_0x317e81(0x1e3)];if(!_0x355a97||!_0x13e6c6||!_0x63b782||!_0x2fa45c)return alert(_0x317e81(0x178));const _0x271b6a=_0x355a97+'T'+_0x13e6c6,_0x389495=_0x63b782+'T'+_0x2fa45c;if(_0x271b6a>=_0x389495)return alert(_0x317e81(0x128));specialRanges[_0x317e81(0x190)]({'start':_0x271b6a,'end':_0x389495}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x317e81(0x19b),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x7bd4fe){const _0xf23144=a2_0x2c21e6;specialRanges['splice'](_0x7bd4fe,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xf23144(0x1c5)](),DataManager[_0xf23144(0xbc)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x34756b=a2_0x2c21e6;document['getElementById'](_0x34756b(0x195))[_0x34756b(0x1e3)]='',document[_0x34756b(0x180)](_0x34756b(0x194))[_0x34756b(0x1e3)]=_0x34756b(0x151),document[_0x34756b(0x180)](_0x34756b(0x19f))[_0x34756b(0x1e3)]='',document[_0x34756b(0x180)](_0x34756b(0x10a))[_0x34756b(0x1e3)]=_0x34756b(0xe8);}function renderRangesList(){const _0x52831b=a2_0x2c21e6,_0x860489=document[_0x52831b(0x180)](_0x52831b(0x148));_0x860489[_0x52831b(0x1f3)]='';if(!specialRanges[_0x52831b(0x213)]){_0x860489['innerHTML']=_0x52831b(0x13a);return;}specialRanges[_0x52831b(0x1fb)]((_0x8301bf,_0x5b9715)=>{const _0xfc7b6a=_0x52831b,_0x50e96b=document['createElement'](_0xfc7b6a(0xba));_0x50e96b[_0xfc7b6a(0xaa)]=_0xfc7b6a(0x14c);const _0x31f316=_0x1f796f=>{const _0x42b751=_0xfc7b6a,_0x41c99a=new Date(_0x1f796f);return _0x41c99a['getDate']()+'.'+String(_0x41c99a[_0x42b751(0x181)]()+0x1)[_0x42b751(0x1a1)](0x2,'0')+'\x20'+String(_0x41c99a[_0x42b751(0x193)]())['padStart'](0x2,'0')+':'+String(_0x41c99a[_0x42b751(0xc3)]())['padStart'](0x2,'0');};_0x50e96b[_0xfc7b6a(0x1f3)]=_0xfc7b6a(0x173)+_0x31f316(_0x8301bf['start'])+_0xfc7b6a(0x1d7)+_0x31f316(_0x8301bf[_0xfc7b6a(0xeb)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5b9715+_0xfc7b6a(0x9f),_0x860489[_0xfc7b6a(0xd8)](_0x50e96b);});}function scrollToToday(){const _0x2b99c7=a2_0x2c21e6,_0x2ee4ea=getLocalDateStr(new Date()),_0x192c7b=document[_0x2b99c7(0x180)]('header-'+_0x2ee4ea),_0x49ea1b=document[_0x2b99c7(0x180)](_0x2b99c7(0x1da));if(_0x192c7b&&_0x49ea1b){const _0x5205a9=_0x49ea1b[_0x2b99c7(0xb3)],_0x4c2daf=_0x192c7b[_0x2b99c7(0x209)],_0x4c3e09=_0x192c7b[_0x2b99c7(0x1e2)];_0x49ea1b[_0x2b99c7(0xa3)]=_0x4c2daf-_0x5205a9/0x2+_0x4c3e09/0x2,_0x49ea1b['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x3ab101=a2_0x2c21e6,_0x5579cf=document[_0x3ab101(0x180)](_0x3ab101(0x1da)),_0x5b6786=document['querySelectorAll'](_0x3ab101(0x1ef));for(let _0x44ab1d of _0x5b6786)if(_0x44ab1d[_0x3ab101(0x209)]>=_0x5579cf['scrollLeft']){const _0x4cf321=new Date(_0x44ab1d[_0x3ab101(0xbf)](_0x3ab101(0x19a)));document[_0x3ab101(0x180)]('headerMonth')['textContent']=_0x4cf321[_0x3ab101(0x1c3)]('ru',{'month':_0x3ab101(0x1fa)})['toUpperCase']()+'\x20'+_0x4cf321[_0x3ab101(0xe3)]();break;}}function showToast(_0x130a65,_0x520085=![]){const _0x1ea628=a2_0x2c21e6,_0x2a5201=document[_0x1ea628(0x180)](_0x1ea628(0x1a2));_0x2a5201[_0x1ea628(0xaa)]=_0x1ea628(0x19d)+(_0x520085?_0x1ea628(0x1c7):''),document[_0x1ea628(0x180)](_0x1ea628(0x13f))[_0x1ea628(0x1e8)]=_0x520085?_0x1ea628(0xc7):_0x1ea628(0x124),document['getElementById'](_0x1ea628(0x20a))[_0x1ea628(0x1e8)]=_0x130a65,_0x2a5201[_0x1ea628(0xd3)][_0x1ea628(0xb0)](_0x1ea628(0x1d4)),setTimeout(()=>{const _0x539962=_0x1ea628;_0x2a5201[_0x539962(0xd3)][_0x539962(0x197)](_0x539962(0x1d4));},0xbb8);}function openDayOptions(_0x16773e,_0x41fdcd){const _0x2d0ff5=a2_0x2c21e6;selectedDayForOptions=_0x16773e,document[_0x2d0ff5(0x180)](_0x2d0ff5(0x164))[_0x2d0ff5(0x1e8)]=_0x41fdcd,openSheet(_0x2d0ff5(0x10b));}function toggleDayOff(){const _0x4e2f24=a2_0x2c21e6;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x4e2f24(0x1c5)](),DataManager['fetchFromServer']('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x9b938c=a2_0x2c21e6;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x9b938c(0x1c5)](),DataManager[_0x9b938c(0xbc)](_0x9b938c(0x19b),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x188756){const _0x3989b8=a2_0x2c21e6;document[_0x3989b8(0x180)](_0x3989b8(0x10f))[_0x3989b8(0xd3)][_0x3989b8(0xb0)]('active'),document[_0x3989b8(0x180)](_0x188756)[_0x3989b8(0xd3)][_0x3989b8(0xb0)]('open');}function closeAllSheets(){const _0x5bf08f=a2_0x2c21e6;document['getElementById'](_0x5bf08f(0x10f))[_0x5bf08f(0xd3)][_0x5bf08f(0x197)](_0x5bf08f(0x11f)),document[_0x5bf08f(0x184)](_0x5bf08f(0x11c))['forEach'](_0x19f697=>_0x19f697['classList'][_0x5bf08f(0x197)]('open'));}function openPatternEditor(){const _0x5b6608=a2_0x2c21e6;closeAllSheets(),document[_0x5b6608(0x180)](_0x5b6608(0xc2))['classList'][_0x5b6608(0xb0)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x548f56=a2_0x2c21e6;document[_0x548f56(0x180)]('patternEditor')[_0x548f56(0xd3)][_0x548f56(0x197)](_0x548f56(0xdb));}function savePattern(){const _0x130481=a2_0x2c21e6;document[_0x130481(0x180)]('patternEditor')['classList'][_0x130481(0x197)]('open'),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x130481(0x19b),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x2a56ed=a2_0x2c21e6,_0x48db66=document[_0x2a56ed(0x180)](_0x2a56ed(0x15d));_0x48db66[_0x2a56ed(0x1f3)]='';const _0x3755aa=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x29db24=document[_0x2a56ed(0x183)]('div');_0x29db24['className']=_0x2a56ed(0x1f4),_0x48db66[_0x2a56ed(0xd8)](_0x29db24),_0x3755aa[_0x2a56ed(0x1fb)]((_0x4ba739,_0xcddaa9)=>{const _0x1dc2ad=_0x2a56ed,_0x238759=document[_0x1dc2ad(0x183)](_0x1dc2ad(0xba));_0x238759[_0x1dc2ad(0xaa)]=_0x1dc2ad(0x206),_0x238759[_0x1dc2ad(0x1f3)]=_0x4ba739+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x238759[_0x1dc2ad(0xe5)]=()=>toggleColPattern(_0xcddaa9),_0x48db66[_0x1dc2ad(0xd8)](_0x238759);});for(let _0x603cde=0x0;_0x603cde<0x18;_0x603cde++){const _0x397531=document[_0x2a56ed(0x183)](_0x2a56ed(0xba));_0x397531[_0x2a56ed(0xaa)]=_0x2a56ed(0x174),_0x397531[_0x2a56ed(0x1f3)]=_0x2a56ed(0x1cf)+String(_0x603cde)[_0x2a56ed(0x1a1)](0x2,'0')+_0x2a56ed(0x1ae),_0x397531[_0x2a56ed(0xe5)]=()=>toggleRowPattern(_0x603cde),_0x48db66[_0x2a56ed(0xd8)](_0x397531);for(let _0xea5321=0x0;_0xea5321<0x7;_0xea5321++){const _0xebec2b=document['createElement'](_0x2a56ed(0xba)),_0x3268cb=(availabilityPattern[_0xea5321]||[])[_0x2a56ed(0x132)](_0x603cde),_0x4690b5=!_0x3268cb;_0xebec2b[_0x2a56ed(0xaa)]='pe-cell\x20'+(_0x4690b5?_0x2a56ed(0x11f):''),_0xebec2b[_0x2a56ed(0xe5)]=()=>toggleSinglePattern(_0xea5321,_0x603cde),_0x48db66[_0x2a56ed(0xd8)](_0xebec2b);}}}function toggleSinglePattern(_0x30d0fc,_0x1a61b5){const _0x8dce3a=a2_0x2c21e6;if(!availabilityPattern[_0x30d0fc])availabilityPattern[_0x30d0fc]=[];const _0x343e4d=availabilityPattern[_0x30d0fc],_0x3aee9c=_0x343e4d['indexOf'](_0x1a61b5);_0x3aee9c===-0x1?_0x343e4d[_0x8dce3a(0x190)](_0x1a61b5):_0x343e4d['splice'](_0x3aee9c,0x1),renderPatternEditor();}function toggleColPattern(_0x5ce19f){const _0x6f2fe9=a2_0x2c21e6;if(!availabilityPattern[_0x5ce19f])availabilityPattern[_0x5ce19f]=[];const _0x485f5d=availabilityPattern[_0x5ce19f];_0x485f5d[_0x6f2fe9(0x213)]===0x0?availabilityPattern[_0x5ce19f]=Array[_0x6f2fe9(0x12a)]({'length':0x18},(_0x4d0763,_0x20a35e)=>_0x20a35e):availabilityPattern[_0x5ce19f]=[],renderPatternEditor();}function toggleRowPattern(_0x140f8f){const _0x17b0d8=a2_0x2c21e6;let _0x3e58c0=!![];for(let _0x21e92c=0x0;_0x21e92c<0x7;_0x21e92c++){if((availabilityPattern[_0x21e92c]||[])[_0x17b0d8(0x132)](_0x140f8f)){_0x3e58c0=![];break;}}for(let _0x411d72=0x0;_0x411d72<0x7;_0x411d72++){if(!availabilityPattern[_0x411d72])availabilityPattern[_0x411d72]=[];const _0x1ea66f=availabilityPattern[_0x411d72][_0x17b0d8(0x1ba)](_0x140f8f);if(_0x3e58c0){if(_0x1ea66f===-0x1)availabilityPattern[_0x411d72][_0x17b0d8(0x190)](_0x140f8f);}else{if(_0x1ea66f!==-0x1)availabilityPattern[_0x411d72][_0x17b0d8(0x9d)](_0x1ea66f,0x1);}}renderPatternEditor();}function renderPCol(_0x447c88,_0x3b909d){const _0x41a00f=a2_0x2c21e6;_0x447c88[_0x41a00f(0x1f3)]='';const _0x348158=Math[_0x41a00f(0x1cc)](_0x447c88[_0x41a00f(0x209)]);(availabilityPattern[_0x3b909d]||[])[_0x41a00f(0x1fb)](_0x25c446=>{const _0x5d4ea8=_0x41a00f,_0x13875f=document[_0x5d4ea8(0x183)]('div');_0x13875f['className']=_0x5d4ea8(0xe1);const _0x2b0ebe=_0x25c446*GRID_H;_0x13875f[_0x5d4ea8(0x1eb)][_0x5d4ea8(0x1f7)]=_0x2b0ebe+'px',_0x13875f[_0x5d4ea8(0x1eb)][_0x5d4ea8(0x1ab)]='-'+_0x348158+_0x5d4ea8(0x18b)+_0x2b0ebe+'px',_0x13875f[_0x5d4ea8(0xe5)]=_0x2c67e1=>{_0x2c67e1['stopPropagation'](),toggleSinglePattern(_0x3b909d,_0x25c446);},_0x447c88[_0x5d4ea8(0xd8)](_0x13875f);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x4901ff=a2_0x2c21e6,_0x1afe3d=new Date(),_0x2f3e57=document['getElementById']('globalTimeLine'),_0x1875a7=document[_0x4901ff(0x180)](_0x4901ff(0x17b)),_0x348109=(_0x1afe3d[_0x4901ff(0x193)]()*0x3c+_0x1afe3d['getMinutes']())/0x3c*GRID_H;_0x2f3e57[_0x4901ff(0x1eb)]['top']=_0x348109+'px',_0x2f3e57[_0x4901ff(0x1eb)][_0x4901ff(0x10e)]=_0x4901ff(0x1bc),_0x1875a7['textContent']=String(_0x1afe3d['getHours']())[_0x4901ff(0x1a1)](0x2,'0')+':'+String(_0x1afe3d[_0x4901ff(0xc3)]())[_0x4901ff(0x1a1)](0x2,'0'),_0x1875a7[_0x4901ff(0x1eb)][_0x4901ff(0x10e)]='block',_0x1875a7['style'][_0x4901ff(0x1f7)]=_0x348109+'px';}document[a2_0x2c21e6(0x1a7)]('DOMContentLoaded',init);function openDayOptions(_0x53ca1b){const _0x55489d=a2_0x2c21e6;selectedDayForOptions=_0x53ca1b;const _0x5bf6c1=new Date(_0x53ca1b),_0x549268={'weekday':_0x55489d(0x1fa),'day':_0x55489d(0xbe),'month':_0x55489d(0x1fa),'year':_0x55489d(0xbe)},_0x5700e4=_0x5bf6c1[_0x55489d(0xbd)](_0x55489d(0x12e),_0x549268);document[_0x55489d(0x180)](_0x55489d(0x191))[_0x55489d(0x1e8)]=_0x5700e4[_0x55489d(0x1d0)](0x0)[_0x55489d(0x161)]()+_0x5700e4['slice'](0x1);let _0x93e59f=_0x5bf6c1[_0x55489d(0x15f)]()-0x1;if(_0x93e59f===-0x1)_0x93e59f=0x6;const _0x5724eb=availabilityPattern[_0x93e59f]||[],_0x5995f3=0x18-_0x5724eb[_0x55489d(0x213)],_0x4455f9=_0x5995f3*0x3c,_0x41abba=sessions[_0x55489d(0x16c)](_0x47bb04=>_0x47bb04[_0x55489d(0x16f)]===_0x53ca1b&&_0x47bb04[_0x55489d(0x20b)]!==_0x55489d(0xca));let _0x24038d=_0x41abba[_0x55489d(0x106)](_0x5b6d0d=>{const _0x3d8c1a=_0x55489d,[_0x3609ca,_0x1d4730]=_0x5b6d0d[_0x3d8c1a(0xef)][_0x3d8c1a(0x15b)](':')[_0x3d8c1a(0x106)](Number),[_0x387d8d,_0x539d1c]=_0x5b6d0d['end'][_0x3d8c1a(0x15b)](':')[_0x3d8c1a(0x106)](Number);return[_0x3609ca*0x3c+_0x1d4730,_0x387d8d*0x3c+_0x539d1c];});_0x24038d['sort']((_0x386ea9,_0x1cf5f2)=>_0x386ea9[0x0]-_0x1cf5f2[0x0]);let _0xb14d09=[];if(_0x24038d[_0x55489d(0x213)]>0x0){let _0x2008b8=_0x24038d[0x0];for(let _0x14164c=0x1;_0x14164c<_0x24038d[_0x55489d(0x213)];_0x14164c++){_0x24038d[_0x14164c][0x0]<_0x2008b8[0x1]?_0x2008b8[0x1]=Math[_0x55489d(0x1e4)](_0x2008b8[0x1],_0x24038d[_0x14164c][0x1]):(_0xb14d09[_0x55489d(0x190)](_0x2008b8),_0x2008b8=_0x24038d[_0x14164c]);}_0xb14d09[_0x55489d(0x190)](_0x2008b8);}let _0x56257e=0x0;_0xb14d09[_0x55489d(0x1fb)](_0x5ad5e9=>_0x56257e+=_0x5ad5e9[0x1]-_0x5ad5e9[0x0]),document[_0x55489d(0x180)](_0x55489d(0x13b))['textContent']=formatMinsToHrs(_0x4455f9),document[_0x55489d(0x180)](_0x55489d(0x1d1))['textContent']=formatMinsToHrs(_0x56257e);const _0x54b876=_0x4455f9>0x0?Math[_0x55489d(0x1cc)](_0x56257e/_0x4455f9*0x64):0x0,_0x1ffd0e=document['getElementById'](_0x55489d(0x186));_0x1ffd0e[_0x55489d(0x1e8)]=_0x54b876+'%';const _0x262036=document['getElementById'](_0x55489d(0x1f9));if(_0x54b876>0x64)_0x1ffd0e[_0x55489d(0x1eb)][_0x55489d(0x165)]=_0x55489d(0xcf),_0x262036[_0x55489d(0x1eb)][_0x55489d(0x12c)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x54b876>0x50?(_0x1ffd0e[_0x55489d(0x1eb)][_0x55489d(0x165)]='var(--acc-orange)',_0x262036[_0x55489d(0x1eb)][_0x55489d(0x12c)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x1ffd0e[_0x55489d(0x1eb)][_0x55489d(0x165)]=_0x55489d(0x1c8),_0x262036[_0x55489d(0x1eb)][_0x55489d(0x12c)]=_0x55489d(0xbb));const _0x34b99d=document[_0x55489d(0x180)](_0x55489d(0x15a));_0x34b99d[_0x55489d(0x1f3)]='';_0x41abba[_0x55489d(0x213)]===0x0?_0x34b99d[_0x55489d(0x1f3)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x41abba[_0x55489d(0x1b7)]((_0x444d32,_0x1e17db)=>_0x444d32['start'][_0x55489d(0x114)](_0x1e17db[_0x55489d(0xef)])),_0x41abba[_0x55489d(0x1fb)](_0xc218=>{const _0x3d9970=_0x55489d,_0x1dc9e9=clients['find'](_0x4473a9=>_0x4473a9[_0x3d9970(0x1a8)]===_0xc218[_0x3d9970(0xf6)]),_0x79425a=_0x1dc9e9?_0x1dc9e9[_0x3d9970(0x165)]:'#fff',_0x5ba3c7=_0xc218[_0x3d9970(0x20b)]===_0x3d9970(0x156),_0x1ab8c7=_0x5ba3c7?_0x3d9970(0xe4):'',_0x1360e8=document['createElement'](_0x3d9970(0xba));_0x1360e8[_0x3d9970(0xaa)]=_0x3d9970(0x1b0),_0x1360e8[_0x3d9970(0x1eb)][_0x3d9970(0x13e)]=_0x79425a,_0x1360e8[_0x3d9970(0x1f3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0xc218[_0x3d9970(0xef)]+_0x3d9970(0x1b8)+_0xc218[_0x3d9970(0xeb)]+_0x3d9970(0x1c6)+_0xc218['client']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ab8c7+_0x3d9970(0x12d),_0x34b99d[_0x3d9970(0xd8)](_0x1360e8);}));const _0x4de6d2=document[_0x55489d(0x180)]('btnDayToggle'),_0x2a386c=dateExceptions[_0x53ca1b]==='off';_0x2a386c?(_0x4de6d2[_0x55489d(0x1e8)]=_0x55489d(0x17f),_0x4de6d2[_0x55489d(0xaa)]=_0x55489d(0x17e),_0x4de6d2[_0x55489d(0x1eb)]['color']=_0x55489d(0x1c8),_0x4de6d2[_0x55489d(0x1eb)]['background']=_0x55489d(0x113)):(_0x4de6d2[_0x55489d(0x1e8)]=_0x55489d(0x16b),_0x4de6d2[_0x55489d(0xaa)]=_0x55489d(0xf3),_0x4de6d2[_0x55489d(0x1eb)][_0x55489d(0x165)]=_0x55489d(0xcf),_0x4de6d2['style'][_0x55489d(0x198)]=_0x55489d(0x14f)),openSheet(_0x55489d(0x10b));}let currentAnPeriod='week';function openAnalytics(){const _0x31de3a=a2_0x2c21e6,_0x345b73=document[_0x31de3a(0x1e9)](_0x31de3a(0x177));setAnalyticsPeriod(_0x31de3a(0x16a),_0x345b73),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x1fa0c8,_0x42164a){const _0x2a516f=a2_0x2c21e6;currentAnPeriod=_0x1fa0c8,document[_0x2a516f(0x184)](_0x2a516f(0x177))[_0x2a516f(0x1fb)](_0x16a4c6=>_0x16a4c6[_0x2a516f(0xd3)][_0x2a516f(0x197)](_0x2a516f(0x11f)));if(_0x42164a)_0x42164a[_0x2a516f(0xd3)][_0x2a516f(0xb0)](_0x2a516f(0x11f));const _0x376152=document[_0x2a516f(0x180)](_0x2a516f(0xb6));_0x376152[_0x2a516f(0x1eb)][_0x2a516f(0x10e)]=_0x1fa0c8==='custom'?_0x2a516f(0x187):_0x2a516f(0x1b2);const _0x3d970e=new Date();let _0x24b310=new Date(),_0x541010=new Date();if(_0x1fa0c8===_0x2a516f(0x16a))_0x24b310=getStartOfWeek(_0x3d970e),_0x541010=new Date(_0x24b310),_0x541010[_0x2a516f(0xfa)](_0x541010['getDate']()+0x6);else{if(_0x1fa0c8==='month')_0x24b310=new Date(_0x3d970e[_0x2a516f(0xe3)](),_0x3d970e[_0x2a516f(0x181)](),0x1),_0x541010=new Date(_0x3d970e['getFullYear'](),_0x3d970e[_0x2a516f(0x181)]()+0x1,0x0);else{!document[_0x2a516f(0x180)](_0x2a516f(0xe9))[_0x2a516f(0x1e3)]&&(document[_0x2a516f(0x180)]('anStart')[_0x2a516f(0x1e3)]=getLocalDateStr(_0x3d970e),document[_0x2a516f(0x180)](_0x2a516f(0x142))[_0x2a516f(0x1e3)]=getLocalDateStr(_0x3d970e));refreshAnalytics();return;}}document['getElementById'](_0x2a516f(0xe9))[_0x2a516f(0x1e3)]=getLocalDateStr(_0x24b310),document['getElementById'](_0x2a516f(0x142))[_0x2a516f(0x1e3)]=getLocalDateStr(_0x541010),refreshAnalytics();}function refreshAnalytics(){const _0x30a8dd=a2_0x2c21e6,_0x2c88b2=document[_0x30a8dd(0x180)](_0x30a8dd(0xe9))[_0x30a8dd(0x1e3)],_0x46313d=document[_0x30a8dd(0x180)](_0x30a8dd(0x142))['value'];if(!_0x2c88b2||!_0x46313d)return;const _0x3c2a4f=sessions[_0x30a8dd(0x16c)](_0x1a8e48=>_0x1a8e48[_0x30a8dd(0x16f)]>=_0x2c88b2&&_0x1a8e48[_0x30a8dd(0x16f)]<=_0x46313d&&_0x1a8e48[_0x30a8dd(0x20b)]!==_0x30a8dd(0xca)),_0x1240ad=_0x3c2a4f[_0x30a8dd(0x213)],_0x2b6f56=_0x3c2a4f[_0x30a8dd(0x16c)](_0x4e0d41=>_0x4e0d41[_0x30a8dd(0x20b)]==='completed')['length'],_0x34c746=_0x1240ad>0x0?Math[_0x30a8dd(0x1cc)](_0x2b6f56/_0x1240ad*0x64):0x0;document[_0x30a8dd(0x180)]('anPercent')[_0x30a8dd(0x1e8)]=_0x34c746+'%',document['getElementById'](_0x30a8dd(0xa6))[_0x30a8dd(0x1e8)]=_0x2b6f56+_0x30a8dd(0xfd)+_0x1240ad+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x4c16b5=document[_0x30a8dd(0x180)]('anDonutCircle'),_0x2a31f2=0x2*Math['PI']*0x23,_0xdc2537=_0x2a31f2-_0x34c746/0x64*_0x2a31f2;_0x4c16b5['style']['strokeDashoffset']=_0xdc2537;const _0x3e89ef={};_0x3c2a4f[_0x30a8dd(0x1fb)](_0x121a04=>{const _0x2b985d=_0x30a8dd;if(!_0x3e89ef[_0x121a04[_0x2b985d(0xf6)]]){const _0x315e1c=clients['find'](_0x29287e=>_0x29287e['name']===_0x121a04[_0x2b985d(0xf6)]);_0x3e89ef[_0x121a04['client']]={'total':0x0,'done':0x0,'color':_0x315e1c?_0x315e1c[_0x2b985d(0x165)]:'#fff'};}_0x3e89ef[_0x121a04[_0x2b985d(0xf6)]]['total']++;if(_0x121a04[_0x2b985d(0x20b)]==='completed')_0x3e89ef[_0x121a04[_0x2b985d(0xf6)]][_0x2b985d(0x1dc)]++;});const _0x426806=document[_0x30a8dd(0x180)]('analyticsList');_0x426806[_0x30a8dd(0x1f3)]='';const _0x173f35=Object['entries'](_0x3e89ef)[_0x30a8dd(0x1b7)]((_0x468ea6,_0x268ff5)=>_0x268ff5[0x1]['total']-_0x468ea6[0x1][_0x30a8dd(0x125)]);if(_0x173f35[_0x30a8dd(0x213)]===0x0){_0x426806[_0x30a8dd(0x1f3)]=_0x30a8dd(0xde);return;}_0x173f35[_0x30a8dd(0x1fb)](([_0x57876b,_0x2db329])=>{const _0x23fb1d=_0x30a8dd,_0x2aa99e=Math[_0x23fb1d(0x1cc)](_0x2db329[_0x23fb1d(0x1dc)]/_0x2db329[_0x23fb1d(0x125)]*0x64),_0x44ce08=document[_0x23fb1d(0x183)](_0x23fb1d(0xba));_0x44ce08[_0x23fb1d(0xaa)]=_0x23fb1d(0xfc),_0x44ce08[_0x23fb1d(0x1eb)][_0x23fb1d(0x13e)]=_0x2db329[_0x23fb1d(0x165)],_0x44ce08[_0x23fb1d(0x1f3)]=_0x23fb1d(0x1d2)+_0x57876b+_0x23fb1d(0xb2)+_0x2db329[_0x23fb1d(0x1dc)]+_0x23fb1d(0xe6)+_0x2db329['total']+_0x23fb1d(0x1a6)+_0x2aa99e+_0x23fb1d(0x13c),_0x426806[_0x23fb1d(0xd8)](_0x44ce08);});}function formatMinsToHrs(_0x2bf64f){const _0x78e6b8=a2_0x2c21e6;if(_0x2bf64f===0x0)return'0';const _0x50d027=Math[_0x78e6b8(0xea)](_0x2bf64f/0x3c),_0x171936=_0x2bf64f%0x3c;if(_0x171936===0x0)return _0x50d027+'—á';return _0x50d027+'—á\x20'+_0x171936+'–º';}