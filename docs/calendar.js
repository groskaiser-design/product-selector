const a2_0x3afd71=a2_0x3a71;(function(_0xff9c39,_0x15b6f7){const _0x429017=a2_0x3a71,_0x43b538=_0xff9c39();while(!![]){try{const _0x662302=-parseInt(_0x429017(0x118))/0x1*(parseInt(_0x429017(0x23d))/0x2)+parseInt(_0x429017(0x21b))/0x3*(parseInt(_0x429017(0x1cc))/0x4)+parseInt(_0x429017(0x207))/0x5+-parseInt(_0x429017(0x1d0))/0x6*(-parseInt(_0x429017(0xed))/0x7)+-parseInt(_0x429017(0x20d))/0x8*(-parseInt(_0x429017(0x116))/0x9)+parseInt(_0x429017(0xf7))/0xa*(parseInt(_0x429017(0x22e))/0xb)+-parseInt(_0x429017(0x101))/0xc*(parseInt(_0x429017(0xe9))/0xd);if(_0x662302===_0x15b6f7)break;else _0x43b538['push'](_0x43b538['shift']());}catch(_0x5444a2){_0x43b538['push'](_0x43b538['shift']());}}}(a2_0x38ff,0x481e5),function initTMA(){const _0x57ece1=a2_0x3a71;try{const _0x111597=window[_0x57ece1(0x1d2)]?.[_0x57ece1(0x14c)];if(!_0x111597)return;_0x111597['ready'](),_0x111597[_0x57ece1(0x1a0)]();try{_0x111597['setHeaderColor'](_0x57ece1(0x128)),_0x111597['setBackgroundColor']&&_0x111597[_0x57ece1(0x23c)](_0x57ece1(0x128));}catch(_0x445bb9){console['log'](_0x57ece1(0x1e0),_0x445bb9);}try{_0x111597[_0x57ece1(0x127)]&&(_0x111597[_0x57ece1(0x127)][_0x57ece1(0x1fb)](),_0x111597[_0x57ece1(0x127)]['offClick'](),_0x111597[_0x57ece1(0x127)]['onClick'](function(){const _0x48a514=_0x57ece1;window[_0x48a514(0x173)][_0x48a514(0x200)]=_0x48a514(0xce);}));}catch(_0x33845e){console['log']('Error\x20setting\x20back\x20button:',_0x33845e);}try{if(_0x111597[_0x57ece1(0x174)])_0x111597[_0x57ece1(0x174)]();}catch(_0x147200){}}catch(_0x4d7b90){console[_0x57ece1(0x147)]('Critical\x20TMA\x20Error:',_0x4d7b90);}}());function isAdmin(){const _0x3a5a68=a2_0x3a71;try{const _0x59646b=Number(window[_0x3a5a68(0x1d2)]?.[_0x3a5a68(0x14c)]?.[_0x3a5a68(0x215)]?.['user']?.['id']);return _0x59646b===0xbaf7174;}catch(_0x53263b){return![];}}const APP_VERSION=a2_0x3afd71(0x13a),API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x3afd71(0x1a9),KEY_SETTINGS=a2_0x3afd71(0x1ce);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xe6c917=a2_0x3afd71;return window['Telegram']?.[_0xe6c917(0x14c)]?.[_0xe6c917(0x215)]?.[_0xe6c917(0x191)]?.['id']||'guest';},'saveLocally'(){const _0x3cab08=a2_0x3afd71;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x3cab08(0x13b)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON['stringify'](sessions)),localStorage[_0x3cab08(0x16e)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x3f98ca){console[_0x3cab08(0x147)](_0x3cab08(0x107),_0x3f98ca);}},'loadLocal'(){const _0x2c2a6f=a2_0x3afd71;try{const _0x4a2b0b=localStorage['getItem'](KEY_CLIENTS);if(_0x4a2b0b)clients=JSON['parse'](_0x4a2b0b);const _0x4665f1=localStorage[_0x2c2a6f(0x164)](KEY_SESSIONS);if(_0x4665f1)sessions=JSON[_0x2c2a6f(0x219)](_0x4665f1);const _0x4e7d03=localStorage[_0x2c2a6f(0x164)](KEY_SETTINGS);if(_0x4e7d03){const _0x5b0613=JSON['parse'](_0x4e7d03);if(_0x5b0613[_0x2c2a6f(0xfa)])availabilityPattern=_0x5b0613[_0x2c2a6f(0xfa)];if(_0x5b0613[_0x2c2a6f(0x145)])dateExceptions=_0x5b0613[_0x2c2a6f(0x145)];if(_0x5b0613[_0x2c2a6f(0x172)])specialRanges=_0x5b0613[_0x2c2a6f(0x172)];}else{for(let _0x94c122=0x0;_0x94c122<0x7;_0x94c122++)availabilityPattern[_0x94c122]=Array[_0x2c2a6f(0x1fe)]({'length':0xc},(_0x208e2e,_0x2d0d48)=>_0x2d0d48+0x9);}}catch(_0x52ab85){console['error']('Local\x20Load\x20Error',_0x52ab85);}},async 'fetchFromServer'(_0x37ce36,_0x59e10d={}){const _0x237347=a2_0x3afd71,_0xabd15a=window[_0x237347(0x1d2)]?.[_0x237347(0x14c)],_0x3f1c57={'action':_0x37ce36,'init_data':_0xabd15a?.[_0x237347(0x169)]||'',..._0x59e10d};try{const _0x9076a1=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x237347(0xdb)},'body':JSON[_0x237347(0x13b)](_0x3f1c57)}),_0x2aa6eb=await _0x9076a1[_0x237347(0x20a)]();if(!_0x2aa6eb['ok'])throw new Error(_0x2aa6eb[_0x237347(0x147)]||_0x237347(0x1fc));return _0x2aa6eb[_0x237347(0x1ca)];}catch(_0x8b7977){console[_0x237347(0x147)]('[API\x20'+_0x37ce36+_0x237347(0x16f),_0x8b7977);throw _0x8b7977;}},async 'syncLoad'(){const _0x5e3019=a2_0x3afd71,_0x1aa6b1=new Date(),_0x55a08f=_0x1aa6b1[_0x5e3019(0x214)]()+'-'+String(_0x1aa6b1[_0x5e3019(0x1ad)]()+0x1)[_0x5e3019(0x16c)](0x2,'0'),_0x47936e=new Date(_0x1aa6b1);_0x47936e[_0x5e3019(0x1ef)](_0x1aa6b1[_0x5e3019(0x1ad)]()+0x1);const _0x810b0f=_0x47936e[_0x5e3019(0x214)]()+'-'+String(_0x47936e[_0x5e3019(0x1ad)]()+0x1)['padStart'](0x2,'0'),_0xb70c6a=Date['now']();console['log'](_0x5e3019(0x104)+_0x55a08f+',\x20'+_0x810b0f+_0x5e3019(0x208));try{const [_0x1a1190,_0x5eb0a8]=await Promise[_0x5e3019(0x1c0)]([this[_0x5e3019(0x20c)](_0x5e3019(0x187),{'month_str':_0x55a08f}),this[_0x5e3019(0x20c)](_0x5e3019(0x187),{'month_str':_0x810b0f})]);if(lastUserActionTime>_0xb70c6a)return console[_0x5e3019(0x100)](_0x5e3019(0x105)),![];return this[_0x5e3019(0x10c)](_0x1a1190,_0x55a08f),this['mergeServerData'](_0x5eb0a8,_0x810b0f),this[_0x5e3019(0xd9)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4e8e43){console[_0x5e3019(0x147)](_0x4e8e43);throw _0x4e8e43;}},'mergeServerData'(_0x49b3dd,_0xeef9c5){const _0x52be83=a2_0x3afd71;if(!_0x49b3dd)return;_0x49b3dd['clients']&&Array[_0x52be83(0x10b)](_0x49b3dd[_0x52be83(0x202)])&&(clients=_0x49b3dd[_0x52be83(0x202)]);if(_0x49b3dd[_0x52be83(0x13e)]){if(_0x49b3dd['settings'][_0x52be83(0xfa)])availabilityPattern=_0x49b3dd['settings'][_0x52be83(0xfa)];if(_0x49b3dd[_0x52be83(0x13e)][_0x52be83(0x145)])dateExceptions=_0x49b3dd[_0x52be83(0x13e)][_0x52be83(0x145)];if(_0x49b3dd[_0x52be83(0x13e)][_0x52be83(0x172)])specialRanges=_0x49b3dd[_0x52be83(0x13e)]['ranges'];if(_0x49b3dd[_0x52be83(0x13e)][_0x52be83(0x223)]){localStorage['setItem']('uc_settings_cancel_window',_0x49b3dd['settings']['cancel_window']);const _0x21acbf=document[_0x52be83(0x1e6)](_0x52be83(0x1c7));if(_0x21acbf)_0x21acbf[_0x52be83(0x1f0)]=_0x49b3dd[_0x52be83(0x13e)]['cancel_window'];}}_0x49b3dd[_0x52be83(0xe4)]&&(sessions=sessions['filter'](_0x30afcc=>!_0x30afcc[_0x52be83(0x1f7)]['startsWith'](_0xeef9c5)),Object['keys'](_0x49b3dd[_0x52be83(0xe4)])[_0x52be83(0x21e)](_0x30bef7=>{const _0x578ea5=_0x52be83,_0x163f28=_0x49b3dd[_0x578ea5(0xe4)][_0x30bef7];_0x163f28[_0x578ea5(0x21e)](_0x20f162=>{const _0x3e62c9=_0x578ea5,_0x3239fd=clients['find'](_0x36fd45=>String(_0x36fd45['id'])===String(_0x20f162['c']));sessions[_0x3e62c9(0x213)]({'id':_0x20f162['i'],'clientId':_0x20f162['c'],'client':_0x3239fd?_0x3239fd[_0x3e62c9(0x238)]:_0x3e62c9(0x192),'dateStr':_0xeef9c5+'-'+_0x30bef7[_0x3e62c9(0x16c)](0x2,'0'),'start':_0x20f162['s'],'end':_0x20f162['e'],'status':_0x20f162['st']||_0x3e62c9(0xe3),'note':_0x20f162['n']||'','seriesId':_0x20f162['sid']||null});});}));},async 'syncBatch'(_0x527b1a){const _0x4f3dbf=a2_0x3afd71,_0x159865=[...new Set(_0x527b1a)],_0x3a4dcb=_0x159865[_0x4f3dbf(0x17c)](_0x3432db=>{const _0x52ac3b=_0x4f3dbf,_0x36318f=sessions[_0x52ac3b(0x22f)](_0x47302e=>_0x47302e[_0x52ac3b(0x1f7)]===_0x3432db&&_0x47302e['status']!==_0x52ac3b(0x1f5)),_0xd146ed=_0x36318f[_0x52ac3b(0x17c)](_0x52baba=>({'i':_0x52baba['id'],'c':_0x52baba[_0x52ac3b(0xf6)],'s':_0x52baba[_0x52ac3b(0x23b)],'e':_0x52baba['end'],'st':_0x52baba[_0x52ac3b(0xd8)],'n':_0x52baba[_0x52ac3b(0x181)],'sid':_0x52baba['seriesId']}));return{'date':_0x3432db,'day_data':_0xd146ed};});if(_0x3a4dcb[_0x4f3dbf(0x186)]===0x0)return;console[_0x4f3dbf(0x228)](_0x4f3dbf(0x125)+_0x3a4dcb[_0x4f3dbf(0x186)]+'\x20days'),await this[_0x4f3dbf(0x20c)](_0x4f3dbf(0x1b1),{'changes':_0x3a4dcb});}};async function init(){const _0x5951a6=a2_0x3afd71;DataManager[_0x5951a6(0x1cf)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5951a6(0x1e6)]('matrixViewport')[_0x5951a6(0xde)](_0x5951a6(0xf3),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5951a6(0x139)]()['then'](()=>{const _0x319b39=_0x5951a6;showToast(_0x319b39(0x1c5),!![]);})[_0x5951a6(0x1b2)](_0x53232e=>{const _0x437ee9=_0x5951a6;showToast(_0x437ee9(0x190),![]);});}function generateId(){const _0xbaa970=a2_0x3afd71;return Date['now']()[_0xbaa970(0xdd)](0x24)+Math[_0xbaa970(0x211)]()[_0xbaa970(0xdd)](0x24)[_0xbaa970(0x12d)](0x2,0x5);}function toggleSeriesInput(){const _0x1ccbd2=a2_0x3afd71,_0x263125=document[_0x1ccbd2(0x1e6)](_0x1ccbd2(0x1d3))[_0x1ccbd2(0x11e)],_0x326a05=document['getElementById'](_0x1ccbd2(0xcc));_0x326a05['style'][_0x1ccbd2(0x184)]=_0x263125?_0x1ccbd2(0x1a7):'none';const _0x4b5e76=document[_0x1ccbd2(0x1e6)](_0x1ccbd2(0xe2));_0x4b5e76['style']['borderRadius']=_0x263125?_0x1ccbd2(0xff):_0x1ccbd2(0x21d);}function openAddSession(_0x252ba4){const _0x37c2f8=a2_0x3afd71;editingId=null,populateClientSelect(),document[_0x37c2f8(0x1e6)](_0x37c2f8(0x1cb))[_0x37c2f8(0x1d1)]=_0x37c2f8(0x1c2),document[_0x37c2f8(0x1e6)](_0x37c2f8(0xc4))[_0x37c2f8(0x224)][_0x37c2f8(0x184)]=_0x37c2f8(0x1aa),document['getElementById'](_0x37c2f8(0x14f))[_0x37c2f8(0x224)]['display']=_0x37c2f8(0x1aa);const _0x24ce7f=document['getElementById'](_0x37c2f8(0xe2)),_0x58a06d=document[_0x37c2f8(0x1e6)](_0x37c2f8(0xcc));_0x24ce7f[_0x37c2f8(0x224)][_0x37c2f8(0x184)]=_0x37c2f8(0x1ed),_0x24ce7f[_0x37c2f8(0x224)][_0x37c2f8(0xc5)]=_0x37c2f8(0x21d),document[_0x37c2f8(0x1e6)](_0x37c2f8(0x1d3))['checked']=![],document[_0x37c2f8(0x1e6)](_0x37c2f8(0x226))['value']=0x4,_0x58a06d['style'][_0x37c2f8(0x184)]='none',document[_0x37c2f8(0x1e6)](_0x37c2f8(0x133))[_0x37c2f8(0x1f0)]=getLocalDateStr(_0x252ba4),updateDateDisplay();const _0x2e30cc=_0x252ba4[_0x37c2f8(0x23a)]();document[_0x37c2f8(0x1e6)](_0x37c2f8(0x182))[_0x37c2f8(0x1f0)]=String(_0x2e30cc)[_0x37c2f8(0x16c)](0x2,'0')+_0x37c2f8(0x225),document[_0x37c2f8(0x1e6)](_0x37c2f8(0x17f))[_0x37c2f8(0x1f0)]=String(_0x2e30cc+0x1)[_0x37c2f8(0x16c)](0x2,'0')+_0x37c2f8(0x225),openSheet('sessionSheet');}function openEdit(_0x413074){const _0xb76d24=a2_0x3afd71;editingId=_0x413074['id'],populateClientSelect(),document[_0xb76d24(0x1e6)]('sheetTitle')[_0xb76d24(0x1d1)]='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document[_0xb76d24(0x1e6)](_0xb76d24(0xc4))[_0xb76d24(0x224)][_0xb76d24(0x184)]=_0xb76d24(0x1a7);const _0x91e74d=document[_0xb76d24(0x1e6)]('btnStatusToggle');_0x91e74d[_0xb76d24(0x224)][_0xb76d24(0x184)]=_0xb76d24(0x1ed);_0x413074[_0xb76d24(0xd8)]===_0xb76d24(0x205)?(_0x91e74d[_0xb76d24(0x15c)]=_0xb76d24(0x155),_0x91e74d['innerHTML']='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x91e74d['className']='btn-status-toggle',_0x91e74d['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x2ea574=!!_0x413074[_0xb76d24(0x1bc)];document[_0xb76d24(0x1e6)](_0xb76d24(0xe2))['style'][_0xb76d24(0x184)]=_0xb76d24(0x1aa),document[_0xb76d24(0x1e6)](_0xb76d24(0xcc))[_0xb76d24(0x224)]['display']='none',_0x2ea574?(document['getElementById']('patternInfoBox')[_0xb76d24(0x224)][_0xb76d24(0x184)]=_0xb76d24(0x1ed),document[_0xb76d24(0x1e6)]('patternInfoBox')['querySelector'](_0xb76d24(0x142))[_0xb76d24(0x1d1)]='–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'):document[_0xb76d24(0x1e6)](_0xb76d24(0x11a))[_0xb76d24(0x224)][_0xb76d24(0x184)]=_0xb76d24(0x1aa),document[_0xb76d24(0x1e6)]('inpClient')[_0xb76d24(0x1f0)]=_0x413074[_0xb76d24(0x203)],document[_0xb76d24(0x1e6)]('inpDate')[_0xb76d24(0x1f0)]=_0x413074['dateStr'],document[_0xb76d24(0x1e6)](_0xb76d24(0x182))[_0xb76d24(0x1f0)]=_0x413074[_0xb76d24(0x23b)],document[_0xb76d24(0x1e6)](_0xb76d24(0x17f))[_0xb76d24(0x1f0)]=_0x413074['end'],document[_0xb76d24(0x1e6)](_0xb76d24(0x21f))[_0xb76d24(0x1f0)]=_0x413074[_0xb76d24(0x181)]||'',updateDateDisplay(),openSheet(_0xb76d24(0x196));}async function trySaveSession(){const _0x1cd839=a2_0x3afd71,_0x519eb2=document['getElementById'](_0x1cd839(0x19d))[_0x1cd839(0x1f0)],_0x3ff8ff=document[_0x1cd839(0x1e6)]('inpDate')['value'],_0xdb4dc2=document[_0x1cd839(0x1e6)]('inpStart')[_0x1cd839(0x1f0)],_0x3b669d=document[_0x1cd839(0x1e6)]('inpEnd')[_0x1cd839(0x1f0)],_0x4c45d8=document['getElementById'](_0x1cd839(0x21f))['value'],_0x3e8f6a=document[_0x1cd839(0x1e6)]('inpRecurring')[_0x1cd839(0x11e)];let _0x1a489c=0x4;if(_0x3e8f6a){const _0xfd865f=parseInt(document[_0x1cd839(0x1e6)](_0x1cd839(0x226))['value']);if(!_0xfd865f||_0xfd865f<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0xfd865f>0x64){showToast(_0x1cd839(0x157),![]);return;}_0x1a489c=_0xfd865f;}const _0x3693b4=clients[_0x1cd839(0xe1)](_0x246897=>_0x246897[_0x1cd839(0x238)]===_0x519eb2);if(!_0x3693b4){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x1a7d89=validateAppointment(_0x3ff8ff,_0xdb4dc2,_0x3b669d,editingId,_0x3693b4['id']);if(!_0x1a7d89[_0x1cd839(0x111)]){showToast(_0x1a7d89['msg'],![]);return;}_0x1a7d89[_0x1cd839(0x146)]&&showToast(_0x1a7d89['warning'],![]);const _0x33c570={'client':_0x519eb2,'clientId':_0x3693b4['id'],'start':_0xdb4dc2,'end':_0x3b669d,'note':_0x4c45d8,'status':_0x1cd839(0xe3)},_0x4d45db=editingId?sessions['find'](_0xc58941=>_0xc58941['id']===editingId):null;if(_0x4d45db&&_0x4d45db['seriesId']){tempSessionData={..._0x33c570,'dateStr':_0x3ff8ff,'id':editingId,'seriesId':_0x4d45db['seriesId']},openActionSheet(_0x1cd839(0xd7));return;}let _0x229a8f=null;if(!editingId)_0x229a8f='create';else{if(_0x4d45db){if(String(_0x4d45db[_0x1cd839(0xf6)])!==String(_0x3693b4['id']))console[_0x1cd839(0x228)](_0x1cd839(0x11c)),NotificationManager[_0x1cd839(0xcf)](_0x1cd839(0x217),_0x4d45db),_0x229a8f='create';else(_0x4d45db[_0x1cd839(0x23b)]!==_0xdb4dc2||_0x4d45db['end']!==_0x3b669d||_0x4d45db[_0x1cd839(0x1f7)]!==_0x3ff8ff)&&(_0x229a8f=_0x1cd839(0x1ec));}}if(!editingId&&_0x3e8f6a){createBatchSeries(_0x33c570,_0x3ff8ff,_0x1a489c),NotificationManager[_0x1cd839(0xcf)](_0x1cd839(0x1ff),{..._0x33c570,'dateStr':_0x3ff8ff});return;}lastUserActionTime=Date['now']();const _0x1f10fa={..._0x33c570,'dateStr':_0x3ff8ff,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x1f10fa),_0x229a8f&&NotificationManager['send'](_0x229a8f,_0x1f10fa);}function toggleSessionStatus(){const _0x42a478=a2_0x3afd71;lastUserActionTime=Date[_0x42a478(0x1e2)]();const _0x175fb3=sessions['find'](_0x323c46=>_0x323c46['id']===editingId);if(!_0x175fb3)return;const _0x18dcca=_0x175fb3[_0x42a478(0xd8)]===_0x42a478(0x205)?_0x42a478(0xe3):_0x42a478(0x205);_0x175fb3['status']=_0x18dcca,saveSingleSession(_0x175fb3),_0x18dcca===_0x42a478(0x205)&&NotificationManager[_0x42a478(0xcf)](_0x42a478(0x141),_0x175fb3),showToast(_0x18dcca===_0x42a478(0x205)?_0x42a478(0x1b5):_0x42a478(0x218),!![]);}function validateAppointment(_0x4396cf,_0x52db85,_0x5244f7,_0x5e1a11,_0xe23d48){const _0x41bbdf=a2_0x3afd71,[_0x3a31e9,_0x3505ba]=_0x52db85[_0x41bbdf(0x171)](':')[_0x41bbdf(0x17c)](Number),[_0x4c567a,_0xebf30c]=_0x5244f7['split'](':')[_0x41bbdf(0x17c)](Number),_0x3988c6=_0x3a31e9*0x3c+_0x3505ba,_0x49cbbf=_0x4c567a*0x3c+_0xebf30c,_0x468262=String(_0xe23d48);let _0x22c75e=![],_0x52cae4='';for(let _0x10a974 of sessions){if(_0x10a974[_0x41bbdf(0x1f7)]!==_0x4396cf)continue;if(_0x10a974[_0x41bbdf(0xd8)]==='cancelled')continue;if(_0x5e1a11&&String(_0x10a974['id'])===String(_0x5e1a11))continue;const [_0x5a0ae9,_0x1970df]=_0x10a974['start'][_0x41bbdf(0x171)](':')['map'](Number),[_0x34112d,_0x18ed6d]=_0x10a974[_0x41bbdf(0x240)][_0x41bbdf(0x171)](':')[_0x41bbdf(0x17c)](Number),_0x27294d=_0x5a0ae9*0x3c+_0x1970df,_0x2e17f9=_0x34112d*0x3c+_0x18ed6d;if(Math['max'](_0x3988c6,_0x27294d)<Math[_0x41bbdf(0x236)](_0x49cbbf,_0x2e17f9)){if(_0x10a974['clientId']&&String(_0x10a974[_0x41bbdf(0xf6)])===_0x468262)return{'valid':![],'msg':_0x41bbdf(0x112)+_0x10a974[_0x41bbdf(0x203)]+_0x41bbdf(0xd1)};_0x22c75e=!![],_0x52cae4=_0x10a974[_0x41bbdf(0x203)];}}if(_0x22c75e)return{'valid':!![],'warning':_0x41bbdf(0x222)+_0x52cae4};return{'valid':!![]};}function saveSingleSession(_0x5598e8){const _0x1ef1ad=a2_0x3afd71;if(editingId){const _0xe40438=sessions[_0x1ef1ad(0x1e3)](_0x5ab298=>_0x5ab298['id']===editingId);if(_0xe40438!==-0x1)sessions[_0xe40438]=_0x5598e8;}else sessions[_0x1ef1ad(0x213)](_0x5598e8);afterSaveAction([_0x5598e8[_0x1ef1ad(0x1f7)]]);}function createBatchSeries(_0x49fd8c,_0x350f86,_0x46edf2){const _0x35483e=a2_0x3afd71,_0x156aa3=generateId(),_0x417e55=[],_0x3eee3b=[];let _0x1173ca=0x0,_0x5b13dd=new Date(_0x350f86);for(let _0x4222f0=0x0;_0x4222f0<_0x46edf2;_0x4222f0++){const _0x593d5f=getLocalDateStr(_0x5b13dd),_0x825527=validateAppointment(_0x593d5f,_0x49fd8c[_0x35483e(0x23b)],_0x49fd8c[_0x35483e(0x240)],null,_0x49fd8c['clientId']);if(!_0x825527[_0x35483e(0x111)])console[_0x35483e(0x228)](_0x35483e(0xca)+_0x593d5f+_0x35483e(0xd2)),_0x1173ca++;else{const _0x5592dc={..._0x49fd8c,'id':generateId(),'dateStr':_0x593d5f,'seriesId':_0x156aa3};_0x3eee3b['push'](_0x5592dc),_0x417e55[_0x35483e(0x213)](_0x593d5f);}_0x5b13dd[_0x35483e(0x19f)](_0x5b13dd[_0x35483e(0x130)]()+0x7);}if(_0x3eee3b['length']===0x0){showToast(_0x35483e(0x122),![]);return;}sessions[_0x35483e(0x213)](..._0x3eee3b),lastUserActionTime=Date['now']();let _0x3fd018='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x3eee3b[_0x35483e(0x186)];_0x1173ca>0x0&&(_0x3fd018+=_0x35483e(0x1da)+_0x1173ca+')'),showToast(_0x3fd018,!![]),afterSaveAction(_0x417e55);}function updateSeriesBatch(_0x475aa5,_0x8358c){const _0x264296=a2_0x3afd71,_0x4a25a1=[],_0x528cf8=_0x8358c[_0x264296(0x1bc)];if(_0x475aa5===_0x264296(0x150)){const _0x3311e4={..._0x8358c,'seriesId':null},_0x5b6814=sessions[_0x264296(0x1e3)](_0x5dcff5=>_0x5dcff5['id']===_0x8358c['id']);if(_0x5b6814!==-0x1)sessions[_0x5b6814]=_0x3311e4;_0x4a25a1[_0x264296(0x213)](_0x3311e4[_0x264296(0x1f7)]);}else{if(_0x475aa5==='series'){const _0x778ee5=_0x8358c[_0x264296(0x1f7)];sessions['forEach']((_0x36533d,_0x201d21)=>{const _0x13ef0a=_0x264296;_0x36533d[_0x13ef0a(0x1bc)]===_0x528cf8&&_0x36533d[_0x13ef0a(0x1f7)]>=_0x778ee5&&(sessions[_0x201d21]={...sessions[_0x201d21],'start':_0x8358c['start'],'end':_0x8358c['end'],'note':_0x8358c['note'],'client':_0x8358c[_0x13ef0a(0x203)],'clientId':_0x8358c['clientId']},_0x4a25a1['push'](_0x36533d[_0x13ef0a(0x1f7)]));});}}afterSaveAction(_0x4a25a1);}function tryDeleteSession(){const _0x2a239d=a2_0x3afd71,_0x4c9d6d=sessions[_0x2a239d(0xe1)](_0x5430b9=>_0x5430b9['id']===editingId);if(!_0x4c9d6d)return;_0x4c9d6d[_0x2a239d(0x1bc)]?openActionSheet(_0x2a239d(0x15e)):commitDelete('single',_0x4c9d6d);}function commitDelete(_0x2b2dda,_0x3679c4){const _0x145dbd=a2_0x3afd71;lastUserActionTime=Date[_0x145dbd(0x1e2)](),NotificationManager[_0x145dbd(0xcf)](_0x145dbd(0x217),_0x3679c4);const _0x434aec=[];if(_0x2b2dda===_0x145dbd(0x150))sessions=sessions['filter'](_0x492b5c=>_0x492b5c['id']!==_0x3679c4['id']),_0x434aec[_0x145dbd(0x213)](_0x3679c4[_0x145dbd(0x1f7)]);else{if(_0x2b2dda==='series'){const _0x208d23=_0x3679c4['dateStr'],_0x1e9fe6=_0x3679c4[_0x145dbd(0x1bc)];sessions[_0x145dbd(0x21e)](_0x60271a=>{const _0x48140b=_0x145dbd;_0x60271a[_0x48140b(0x1bc)]===_0x1e9fe6&&_0x60271a[_0x48140b(0x1f7)]>=_0x208d23&&_0x434aec[_0x48140b(0x213)](_0x60271a['dateStr']);}),sessions=sessions[_0x145dbd(0x22f)](_0x115a79=>!(_0x115a79[_0x145dbd(0x1bc)]===_0x1e9fe6&&_0x115a79[_0x145dbd(0x1f7)]>=_0x208d23));}}afterSaveAction(_0x434aec);}function afterSaveAction(_0x22c0f4){const _0x244463=a2_0x3afd71;DataManager[_0x244463(0xd9)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x244463(0x237)](_0x22c0f4)[_0x244463(0x239)](()=>console[_0x244463(0x228)]('Batch\x20Sync\x20OK'))[_0x244463(0x1b2)](_0x13844d=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x410b4c){const _0x30ffc5=a2_0x3afd71,_0x1cedb4=new Date(_0x410b4c),_0x198b83={'weekday':_0x30ffc5(0xf8),'day':_0x30ffc5(0x117),'month':_0x30ffc5(0xf8)};let _0x368538=_0x1cedb4[_0x30ffc5(0x1b7)](_0x30ffc5(0x20e),_0x198b83);return _0x368538[_0x30ffc5(0x135)](0x0)[_0x30ffc5(0x1f6)]()+_0x368538[_0x30ffc5(0x165)](0x1);},'getText'(_0x96443a,_0x38dfde){const _0x106866=a2_0x3afd71,_0x23d81f=this[_0x106866(0x1be)](_0x38dfde[_0x106866(0x1f7)]);switch(_0x96443a){case'create':return _0x106866(0x167)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x23d81f+'\x0a')+(_0x106866(0xd4)+_0x38dfde[_0x106866(0x23b)]+_0x106866(0x134)+_0x38dfde[_0x106866(0x240)]+'\x0a\x0a')+_0x106866(0x126);case'update':return _0x106866(0x12a)+_0x106866(0x1bb)+(_0x106866(0x123)+_0x38dfde[_0x106866(0x23b)]+_0x106866(0x134)+_0x38dfde[_0x106866(0x240)]+'</b>\x0a\x0a')+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x23d81f);case'cancel':return _0x106866(0x1de)+(_0x106866(0xd0)+_0x23d81f+'\x20('+_0x38dfde[_0x106866(0x23b)]+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x106866(0x235)+_0x106866(0x1bf);default:return'';}},async 'send'(_0x18e984,_0xecbae1){const _0x3105e1=a2_0x3afd71;console[_0x3105e1(0x228)](_0x3105e1(0xfc),_0x18e984,_0xecbae1);if(!_0xecbae1){console['error'](_0x3105e1(0x1f3));return;}const _0x16521d=String(_0xecbae1[_0x3105e1(0xf6)]);console[_0x3105e1(0x228)](_0x3105e1(0x15f),_0x16521d);if(!_0xecbae1[_0x3105e1(0xf6)]||_0x16521d===_0x3105e1(0x168)||_0x16521d===_0x3105e1(0x10d)){console['error'](_0x3105e1(0x1a4));if(_0xecbae1[_0x3105e1(0x203)]){const _0x43e91c=clients[_0x3105e1(0xe1)](_0x345763=>_0x345763[_0x3105e1(0x238)]===_0xecbae1[_0x3105e1(0x203)]);if(_0x43e91c)return console['log'](_0x3105e1(0x204),_0x43e91c['id']),this[_0x3105e1(0xcf)](_0x18e984,{..._0xecbae1,'clientId':_0x43e91c['id']});}return;}if(_0x16521d[_0x3105e1(0x186)]<0x5){console['warn'](_0x3105e1(0x17b),_0x16521d);return;}const _0x2750ea=this[_0x3105e1(0xf9)](_0x18e984,_0xecbae1);if(!_0x2750ea){console[_0x3105e1(0x147)](_0x3105e1(0x10e));return;}console[_0x3105e1(0x228)](_0x3105e1(0x1c6)+_0x16521d+_0x3105e1(0x208)),DataManager[_0x3105e1(0x20c)]('send_notification',{'chatId':_0x16521d,'text':_0x2750ea})[_0x3105e1(0x239)](_0x469c0f=>console[_0x3105e1(0x228)](_0x3105e1(0xbc),_0x469c0f))['catch'](_0x3ec7d3=>console['error'](_0x3105e1(0xc0),_0x3ec7d3));}};function getLocalDateStr(_0xc7b563){const _0x5984b2=a2_0x3afd71,_0x46bcb8=_0xc7b563[_0x5984b2(0x214)](),_0x52926a=String(_0xc7b563[_0x5984b2(0x1ad)]()+0x1)[_0x5984b2(0x16c)](0x2,'0'),_0x5e4880=String(_0xc7b563[_0x5984b2(0x130)]())[_0x5984b2(0x16c)](0x2,'0');return _0x46bcb8+'-'+_0x52926a+'-'+_0x5e4880;}function getDateStr(_0x495f80){const _0xeae505=a2_0x3afd71,_0x5b7acb=new Date();return _0x5b7acb[_0xeae505(0x19f)](_0x5b7acb[_0xeae505(0x130)]()+_0x495f80),getLocalDateStr(_0x5b7acb);}function getStartOfWeek(_0x2a32e6){const _0x1d0989=a2_0x3afd71,_0x29f5e8=(function(){let _0x2e3b12=!![];return function(_0x23e498,_0x138bb2){const _0x14a00d=_0x2e3b12?function(){const _0x332bce=a2_0x3a71;if(_0x138bb2){const _0x1c59b0=_0x138bb2[_0x332bce(0x1e4)](_0x23e498,arguments);return _0x138bb2=null,_0x1c59b0;}}:function(){};return _0x2e3b12=![],_0x14a00d;};}()),_0x4f44aa=_0x29f5e8(this,function(){const _0x5709ee=a2_0x3a71;return _0x4f44aa[_0x5709ee(0xdd)]()[_0x5709ee(0x23f)](_0x5709ee(0x19e))[_0x5709ee(0xdd)]()[_0x5709ee(0xf5)](_0x4f44aa)[_0x5709ee(0x23f)](_0x5709ee(0x19e));});_0x4f44aa();const _0x15c6bf=new Date(_0x2a32e6),_0x1c7ece=_0x15c6bf[_0x1d0989(0x198)](),_0x443df5=_0x15c6bf[_0x1d0989(0x130)]()-_0x1c7ece+(_0x1c7ece===0x0?-0x6:0x1);return _0x15c6bf['setDate'](_0x443df5),_0x15c6bf['setHours'](0x0,0x0,0x0,0x0),_0x15c6bf;}function hexToRgba(_0x33609b,_0x1c570c){const _0xba1cdf=a2_0x3afd71;if(!_0x33609b)return _0xba1cdf(0x178);let _0x8b5835=0x0,_0x39db2a=0x0,_0x5a02c1=0x0;if(_0x33609b[_0xba1cdf(0x186)]===0x4)_0x8b5835='0x'+_0x33609b[0x1]+_0x33609b[0x1],_0x39db2a='0x'+_0x33609b[0x2]+_0x33609b[0x2],_0x5a02c1='0x'+_0x33609b[0x3]+_0x33609b[0x3];else _0x33609b['length']===0x7&&(_0x8b5835='0x'+_0x33609b[0x1]+_0x33609b[0x2],_0x39db2a='0x'+_0x33609b[0x3]+_0x33609b[0x4],_0x5a02c1='0x'+_0x33609b[0x5]+_0x33609b[0x6]);return _0xba1cdf(0x185)+ +_0x8b5835+',\x20'+ +_0x39db2a+',\x20'+ +_0x5a02c1+',\x20'+_0x1c570c+')';}function renderTimeColumn(){const _0x500bce=a2_0x3afd71,_0x9fd6a6=document['getElementById'](_0x500bce(0xfb)),_0x54b339=document[_0x500bce(0x1e6)](_0x500bce(0x14d));_0x9fd6a6['innerHTML']='',_0x9fd6a6[_0x500bce(0x152)](_0x54b339);for(let _0x2ab582=0x0;_0x2ab582<0x18;_0x2ab582++){const _0x974802=document[_0x500bce(0x1c3)]('div');_0x974802[_0x500bce(0x15c)]=_0x500bce(0x175);if(_0x2ab582>0x0)_0x974802['innerHTML']='<span>'+String(_0x2ab582)[_0x500bce(0x16c)](0x2,'0')+_0x500bce(0x102);_0x9fd6a6[_0x500bce(0x152)](_0x974802);}}function renderDayRange(_0x100c84,_0x88310e){const _0x587b98=a2_0x3afd71,_0x159a21=document[_0x587b98(0x1e6)](_0x587b98(0x19c)),_0x57d9e1=document[_0x587b98(0x1e6)](_0x587b98(0x156)),_0x40bb30=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1384d5=new Date();_0x1384d5[_0x587b98(0x1a6)](0x0,0x0,0x0,0x0);const _0x48c00c=getLocalDateStr(new Date());for(let _0x214c29=_0x100c84;_0x214c29<=_0x88310e;_0x214c29++){const _0x209376=new Date(_0x1384d5);_0x209376[_0x587b98(0x19f)](_0x209376['getDate']()+_0x214c29);const _0x2a5cb2=getLocalDateStr(_0x209376);let _0x322e2e=_0x209376[_0x587b98(0x198)]()-0x1;if(_0x322e2e===-0x1)_0x322e2e=0x6;const _0x22b2b0=_0x2a5cb2===_0x48c00c,_0x55c430=document[_0x587b98(0x1c3)](_0x587b98(0x1fd));_0x55c430[_0x587b98(0x15c)]='day-col-header\x20'+(_0x22b2b0?_0x587b98(0xea):''),_0x55c430['id']='header-'+_0x2a5cb2,_0x55c430['setAttribute'](_0x587b98(0x109),_0x2a5cb2),_0x55c430['innerHTML']=_0x587b98(0x227)+_0x40bb30[_0x322e2e]+_0x587b98(0xc8)+_0x209376[_0x587b98(0x130)]()+_0x587b98(0x22c)+_0x2a5cb2+_0x587b98(0x1f8),_0x55c430[_0x587b98(0x159)]=()=>openDayOptions(_0x2a5cb2,_0x40bb30[_0x322e2e]+'\x20'+_0x209376[_0x587b98(0x130)]()),_0x159a21[_0x587b98(0x152)](_0x55c430);const _0x4b8f3e=document['createElement'](_0x587b98(0x1fd));_0x4b8f3e[_0x587b98(0x15c)]=_0x587b98(0x1af)+(_0x22b2b0?_0x587b98(0xea):''),_0x4b8f3e[_0x587b98(0x13d)](_0x587b98(0x109),_0x2a5cb2),_0x4b8f3e[_0x587b98(0x13d)]('data-day-idx',_0x322e2e),renderEventsForColumn(_0x4b8f3e,_0x2a5cb2,_0x322e2e),attachLongPressHandler(_0x4b8f3e,_0x209376),_0x57d9e1[_0x587b98(0x152)](_0x4b8f3e),updateDayStats(_0x2a5cb2);}}function reRenderBlocks(){const _0x14033b=a2_0x3afd71;document[_0x14033b(0x1ba)](_0x14033b(0x120))[_0x14033b(0x21e)](_0x1938ef=>{const _0x4da6ba=_0x14033b;_0x1938ef[_0x4da6ba(0x1ba)](_0x4da6ba(0xbd))[_0x4da6ba(0x21e)](_0x4f909a=>_0x4f909a[_0x4da6ba(0x1f4)]());const _0x2f6061=_0x1938ef[_0x4da6ba(0x131)](_0x4da6ba(0x109)),_0x287955=parseInt(_0x1938ef[_0x4da6ba(0x131)](_0x4da6ba(0x189))),_0x6f781f=Math['round'](_0x1938ef[_0x4da6ba(0xeb)]);(availabilityPattern[_0x287955]||[])[_0x4da6ba(0x21e)](_0x467bf7=>{const _0x2685ef=_0x4da6ba,_0x5e3732=document[_0x2685ef(0x1c3)](_0x2685ef(0x1fd));_0x5e3732['className']=_0x2685ef(0xc3);const _0xebc9e5=_0x467bf7*GRID_H;_0x5e3732[_0x2685ef(0x224)]['top']=_0xebc9e5+'px',_0x5e3732[_0x2685ef(0x224)][_0x2685ef(0xd5)]='-'+_0x6f781f+_0x2685ef(0x18e)+_0xebc9e5+'px',_0x1938ef[_0x2685ef(0x152)](_0x5e3732);});if(specialRanges&&specialRanges[_0x4da6ba(0x186)]>0x0){const _0x353e8f=new Date(_0x2f6061+_0x4da6ba(0x210))[_0x4da6ba(0xc7)](),_0x35b6bc=new Date(_0x2f6061+_0x4da6ba(0x1a8))[_0x4da6ba(0xc7)]();specialRanges[_0x4da6ba(0x21e)](_0x25518e=>{const _0x51b389=_0x4da6ba,_0x1d1ee3=new Date(_0x25518e['start'])[_0x51b389(0xc7)](),_0x2c20e4=new Date(_0x25518e['end'])[_0x51b389(0xc7)](),_0x2ff550=Math[_0x51b389(0x221)](_0x353e8f,_0x1d1ee3),_0x4402b9=Math[_0x51b389(0x236)](_0x35b6bc,_0x2c20e4);if(_0x2ff550<_0x4402b9){if(_0x2ff550<=_0x353e8f&&_0x4402b9>=_0x35b6bc-0xea60){if(!_0x1938ef['querySelector'](_0x51b389(0xf1))){const _0x1fac53=document[_0x51b389(0x1c3)](_0x51b389(0x1fd));_0x1fac53[_0x51b389(0x15c)]='day-off-overlay\x20stripe-bg',_0x1fac53[_0x51b389(0x224)][_0x51b389(0xd5)]='-'+_0x6f781f+_0x51b389(0x176),_0x1938ef[_0x51b389(0x152)](_0x1fac53);}}else{const _0x4f58b4=(_0x2ff550-_0x353e8f)/0x36ee80*GRID_H,_0x52e748=(_0x4402b9-_0x2ff550)/0x36ee80*GRID_H,_0x264b56=document['createElement'](_0x51b389(0x1fd));_0x264b56[_0x51b389(0x15c)]=_0x51b389(0x1cd),_0x264b56[_0x51b389(0x224)][_0x51b389(0xf0)]=_0x4f58b4+'px',_0x264b56[_0x51b389(0x224)]['height']=_0x52e748+'px',_0x264b56[_0x51b389(0x224)]['backgroundPosition']='-'+_0x6f781f+_0x51b389(0x18e)+_0x4f58b4+'px',_0x1938ef[_0x51b389(0x152)](_0x264b56);}}});}if(dateExceptions[_0x2f6061]==='off'){if(!_0x1938ef[_0x4da6ba(0xc1)](_0x4da6ba(0xf1))){const _0x155386=document['createElement'](_0x4da6ba(0x1fd));_0x155386[_0x4da6ba(0x15c)]='day-off-overlay\x20stripe-bg',_0x155386[_0x4da6ba(0x224)][_0x4da6ba(0xd5)]='-'+_0x6f781f+'px\x200px',_0x1938ef[_0x4da6ba(0x152)](_0x155386);}}renderEventsForColumn(_0x1938ef,_0x2f6061,_0x287955),updateDayStats(_0x2f6061);});}function updateAllDayStats(){const _0x32ed33=a2_0x3afd71;document[_0x32ed33(0x1ba)](_0x32ed33(0x212))[_0x32ed33(0x21e)](_0x51168b=>{const _0x57892e=_0x32ed33;updateDayStats(_0x51168b[_0x57892e(0x131)]('data-date'));});}function updateDayStats(_0x395590){const _0x516383=a2_0x3afd71,_0x2f72cb=document[_0x516383(0x1e6)](_0x516383(0x1ae)+_0x395590);if(!_0x2f72cb)return;const _0x3a1129=new Date(_0x395590);let _0x3927d2=_0x3a1129[_0x516383(0x198)]()-0x1;if(_0x3927d2===-0x1)_0x3927d2=0x6;if(dateExceptions[_0x395590]===_0x516383(0x113)){_0x2f72cb[_0x516383(0x224)]['display']=_0x516383(0x1aa);return;}const _0x1d7beb=availabilityPattern[_0x3927d2]||[],_0x4af78a=0x18-_0x1d7beb[_0x516383(0x186)],_0x199b56=_0x4af78a*0x3c,_0x5e1fb1=sessions[_0x516383(0x22f)](_0x2a1e37=>_0x2a1e37[_0x516383(0x1f7)]===_0x395590&&_0x2a1e37[_0x516383(0xd8)]!=='cancelled');if(_0x5e1fb1['length']===0x0){_0x2f72cb[_0x516383(0x224)][_0x516383(0x184)]='none';return;}let _0x49befd=_0x5e1fb1['map'](_0x1c25c3=>{const _0x2709e0=_0x516383,[_0x52d47b,_0x13e29e]=_0x1c25c3[_0x2709e0(0x23b)][_0x2709e0(0x171)](':')['map'](Number),[_0x5bee27,_0x58090f]=_0x1c25c3['end']['split'](':')[_0x2709e0(0x17c)](Number);return[_0x52d47b*0x3c+_0x13e29e,_0x5bee27*0x3c+_0x58090f];});_0x49befd['sort']((_0x3e713b,_0x27ca85)=>_0x3e713b[0x0]-_0x27ca85[0x0]);let _0x4a9407=[];if(_0x49befd[_0x516383(0x186)]>0x0){let _0x12d0a5=_0x49befd[0x0];for(let _0x4deb06=0x1;_0x4deb06<_0x49befd[_0x516383(0x186)];_0x4deb06++){_0x49befd[_0x4deb06][0x0]<_0x12d0a5[0x1]?_0x12d0a5[0x1]=Math[_0x516383(0x221)](_0x12d0a5[0x1],_0x49befd[_0x4deb06][0x1]):(_0x4a9407[_0x516383(0x213)](_0x12d0a5),_0x12d0a5=_0x49befd[_0x4deb06]);}_0x4a9407['push'](_0x12d0a5);}let _0x36df91=0x0;_0x4a9407[_0x516383(0x21e)](_0x1d6f8a=>_0x36df91+=_0x1d6f8a[0x1]-_0x1d6f8a[0x0]),_0x2f72cb[_0x516383(0x224)][_0x516383(0x184)]=_0x516383(0x1ed);const _0xc41ec2=_0x2f72cb['querySelector'](_0x516383(0xf2));if(_0x199b56===0x0){_0xc41ec2['style']['width']=_0x516383(0x1e8),_0xc41ec2['style'][_0x516383(0xcb)]=_0x516383(0x1df);return;}const _0x2edf88=_0x36df91/_0x199b56*0x64;console['log']('['+_0x395590+_0x516383(0x183)+_0x4af78a+_0x516383(0x193)+_0x36df91+_0x516383(0xf4)+_0x2edf88[_0x516383(0x15d)](0x1)+'%'),_0x2edf88>0x64?(_0xc41ec2[_0x516383(0x224)][_0x516383(0x1a2)]=_0x516383(0x1e8),_0xc41ec2['style'][_0x516383(0xcb)]=_0x516383(0x1df)):(_0xc41ec2['style'][_0x516383(0x1a2)]=_0x2edf88+'%',_0xc41ec2['style']['background']=_0x516383(0x15b));}function renderEventsForColumn(_0x3a1604,_0x586614,_0x58d1ec){const _0x34142e=a2_0x3afd71,_0x56abca=sessions[_0x34142e(0x22f)](_0x30ae34=>_0x30ae34[_0x34142e(0x1f7)]===_0x586614),_0x1b4cfb=_0x56abca['map'](_0x193b27=>{const _0x213d0a=_0x34142e,[_0x40411e,_0x56409c]=_0x193b27[_0x213d0a(0x23b)][_0x213d0a(0x171)](':')[_0x213d0a(0x17c)](Number),[_0x25e55f,_0x52a49d]=_0x193b27[_0x213d0a(0x240)][_0x213d0a(0x171)](':')[_0x213d0a(0x17c)](Number);return{'data':_0x193b27,'start':_0x40411e*0x3c+_0x56409c,'end':_0x25e55f*0x3c+_0x52a49d,'colIndex':0x0};});_0x1b4cfb['sort']((_0x4c7d34,_0x20014c)=>{const _0x5c03d1=_0x34142e;if(_0x4c7d34[_0x5c03d1(0x23b)]!==_0x20014c['start'])return _0x4c7d34[_0x5c03d1(0x23b)]-_0x20014c[_0x5c03d1(0x23b)];return _0x20014c['end']-_0x20014c[_0x5c03d1(0x23b)]-(_0x4c7d34['end']-_0x4c7d34['start']);});const _0x1ee1e5=[];_0x1b4cfb[_0x34142e(0x21e)](_0x32205b=>{const _0x39dad3=_0x34142e;let _0x193519=![];for(let _0x55f733=0x0;_0x55f733<_0x1ee1e5[_0x39dad3(0x186)];_0x55f733++){const _0x29f267=_0x1ee1e5[_0x55f733],_0x37d5a8=_0x29f267[_0x29f267[_0x39dad3(0x186)]-0x1];if(_0x32205b[_0x39dad3(0x23b)]>=_0x37d5a8[_0x39dad3(0x240)]){_0x29f267[_0x39dad3(0x213)](_0x32205b),_0x32205b[_0x39dad3(0x124)]=_0x55f733,_0x193519=!![];break;}}!_0x193519&&(_0x1ee1e5['push']([_0x32205b]),_0x32205b['colIndex']=_0x1ee1e5[_0x39dad3(0x186)]-0x1);}),_0x1b4cfb[_0x34142e(0x21e)](_0x10b992=>{const _0x28b137=_0x34142e;let _0xd1acb=0x0;_0x1b4cfb[_0x28b137(0x21e)](_0x1f4698=>{const _0x1ed134=_0x28b137;if(Math[_0x1ed134(0x221)](_0x10b992[_0x1ed134(0x23b)],_0x1f4698[_0x1ed134(0x23b)])<Math['min'](_0x10b992[_0x1ed134(0x240)],_0x1f4698['end'])){if(_0x1f4698[_0x1ed134(0x124)]>_0xd1acb)_0xd1acb=_0x1f4698['colIndex'];}});const _0x4a771b=_0xd1acb+0x1,_0x5a9f91=0x64/_0x4a771b,_0x362ab7=_0x10b992[_0x28b137(0x124)]*_0x5a9f91,_0x597e43=createEventEl(_0x10b992[_0x28b137(0x1ca)]);_0x597e43[_0x28b137(0x224)][_0x28b137(0x1a2)]=_0x28b137(0x1e7)+_0x5a9f91+_0x28b137(0xe0),_0x597e43[_0x28b137(0x224)][_0x28b137(0xbe)]=_0x28b137(0x1e7)+_0x362ab7+'%\x20+\x202px)',_0x597e43[_0x28b137(0x224)]['zIndex']=0xa+_0x10b992['colIndex'],_0x5a9f91<0x55&&_0x597e43[_0x28b137(0x229)][_0x28b137(0x232)](_0x28b137(0xfd)),_0x3a1604['appendChild'](_0x597e43);});}function createEventEl(_0x1d4b88){const _0x50ab35=a2_0x3afd71,[_0x199593,_0x484b1d]=_0x1d4b88[_0x50ab35(0x23b)][_0x50ab35(0x171)](':')['map'](Number),[_0x238325,_0x20783f]=_0x1d4b88['end'][_0x50ab35(0x171)](':')[_0x50ab35(0x17c)](Number),_0x272c5b=(_0x199593*0x3c+_0x484b1d)/0x3c*GRID_H,_0x511a70=(_0x238325*0x3c+_0x20783f-(_0x199593*0x3c+_0x484b1d))/0x3c*GRID_H,_0x28d52b=document['createElement'](_0x50ab35(0x1fd)),_0x558e32=_0x1d4b88['status']===_0x50ab35(0x205)?_0x50ab35(0x106):'';_0x28d52b[_0x50ab35(0x15c)]=_0x50ab35(0x1d6)+_0x558e32,_0x28d52b[_0x50ab35(0x224)]['top']=_0x272c5b+'px',_0x28d52b[_0x50ab35(0x224)][_0x50ab35(0x19a)]=Math[_0x50ab35(0x221)](_0x511a70,0x14)+'px';const _0x4be854=clients[_0x50ab35(0xe1)](_0x2066d2=>_0x1d4b88[_0x50ab35(0xf6)]&&String(_0x2066d2['id'])===String(_0x1d4b88['clientId'])||_0x2066d2[_0x50ab35(0x238)]===_0x1d4b88[_0x50ab35(0x203)]),_0x2f1119=_0x4be854?_0x4be854[_0x50ab35(0x1a1)]:_0x50ab35(0x234);_0x28d52b[_0x50ab35(0x224)][_0x50ab35(0x1f9)]=_0x2f1119,_0x28d52b['style']['backgroundColor']=hexToRgba(_0x2f1119,0.85);let _0x4d63b0=_0x50ab35(0x14b)+_0x1d4b88['client']+_0x50ab35(0x18d)+_0x1d4b88[_0x50ab35(0x23b)]+_0x50ab35(0xdf)+_0x1d4b88[_0x50ab35(0x240)]+'</div>';return _0x1d4b88['seriesId']&&(_0x4d63b0+=_0x50ab35(0x12c)),_0x1d4b88['status']===_0x50ab35(0x205)&&(_0x4d63b0+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x28d52b[_0x50ab35(0xd6)]=_0x4d63b0,_0x28d52b['onclick']=_0x3bb110=>{const _0x1748b8=_0x50ab35;_0x3bb110[_0x1748b8(0x1fa)](),openEdit(_0x1d4b88);},_0x28d52b;}function attachLongPressHandler(_0xa4a5ec,_0x5d91f6){const _0x238d46=a2_0x3afd71;let _0x3656bc=0x0,_0x462af5=null;const _0x2d71f9=_0x8fa1b2=>{const _0x462edf=a2_0x3a71;if(_0x8fa1b2[_0x462edf(0x197)][_0x462edf(0x140)](_0x462edf(0x199)))return;isScrolling=![],_0x3656bc=_0x8fa1b2[_0x462edf(0x15a)]?_0x8fa1b2[_0x462edf(0x15a)][0x0]['clientY']:_0x8fa1b2[_0x462edf(0x1bd)],_0x462af5=setTimeout(()=>{const _0x1de043=_0x462edf;if(!isScrolling){navigator[_0x1de043(0x18b)]?.(0x32);const _0x21aeab=_0xa4a5ec['getBoundingClientRect'](),_0x3a0fc2=Math['floor']((_0x3656bc-_0x21aeab['top'])/GRID_H);_0x5d91f6['setHours'](_0x3a0fc2,0x0),openAddSession(_0x5d91f6);}},0x1f4);},_0x207fa2=()=>{isScrolling=!![],clearTimeout(_0x462af5);},_0x35f75c=()=>{clearTimeout(_0x462af5);};_0xa4a5ec[_0x238d46(0xde)](_0x238d46(0x138),_0x2d71f9,{'passive':!![]}),_0xa4a5ec[_0x238d46(0xde)](_0x238d46(0x12b),_0x207fa2,{'passive':!![]}),_0xa4a5ec[_0x238d46(0xde)](_0x238d46(0x188),_0x35f75c),_0xa4a5ec[_0x238d46(0xde)](_0x238d46(0xc2),_0x2d71f9),_0xa4a5ec['addEventListener']('mousemove',_0x207fa2),_0xa4a5ec[_0x238d46(0xde)](_0x238d46(0x1dc),_0x35f75c);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x1ce901=a2_0x3afd71,_0x39ad2d=document['getElementById'](_0x1ce901(0x18a)),_0x4740c6=_0x39ad2d[_0x1ce901(0x230)],_0x5655e2=_0x39ad2d[_0x1ce901(0x20b)],_0x409342=_0x39ad2d['clientWidth'];if(_0x5655e2-(_0x4740c6+_0x409342)<0x12c){const _0x3201b1=endOffset;endOffset+=0xe,renderDayRange(_0x3201b1+0x1,endOffset),reRenderBlocks();}if(_0x4740c6<0x12c){const _0x357bc6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x357bc6-0x1),_0x39ad2d['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x507706,_0x5ca62e){const _0x21b141=a2_0x3afd71,_0x154d00=document[_0x21b141(0x1e6)](_0x21b141(0x19c)),_0x4e34f2=document[_0x21b141(0x1e6)]('gridColumns'),_0x4b55fd=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x343865=new Date();_0x343865[_0x21b141(0x1a6)](0x0,0x0,0x0,0x0);const _0x370e8f=getLocalDateStr(new Date()),_0x19f3ca=document[_0x21b141(0x1d7)](),_0x34d9b0=document[_0x21b141(0x1d7)]();for(let _0x96d9cb=_0x507706;_0x96d9cb<=_0x5ca62e;_0x96d9cb++){const _0xc86fa0=new Date(_0x343865);_0xc86fa0[_0x21b141(0x19f)](_0xc86fa0[_0x21b141(0x130)]()+_0x96d9cb);const _0x403b80=getLocalDateStr(_0xc86fa0);let _0x5e9b11=_0xc86fa0[_0x21b141(0x198)]()-0x1;if(_0x5e9b11===-0x1)_0x5e9b11=0x6;const _0x10d5fe=_0x403b80===_0x370e8f,_0x5d0db3=document[_0x21b141(0x1c3)](_0x21b141(0x1fd));_0x5d0db3[_0x21b141(0x15c)]=_0x21b141(0x12f)+(_0x10d5fe?'today':''),_0x5d0db3['id']='header-'+_0x403b80,_0x5d0db3[_0x21b141(0x13d)]('data-date',_0x403b80),_0x5d0db3['innerHTML']=_0x21b141(0x227)+_0x4b55fd[_0x5e9b11]+_0x21b141(0xc8)+_0xc86fa0['getDate']()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x403b80+_0x21b141(0x1f8),_0x5d0db3['onclick']=()=>openDayOptions(_0x403b80,_0x4b55fd[_0x5e9b11]+'\x20'+_0xc86fa0[_0x21b141(0x130)]()),_0x19f3ca[_0x21b141(0x152)](_0x5d0db3);const _0xf0d3a9=document[_0x21b141(0x1c3)](_0x21b141(0x1fd));_0xf0d3a9[_0x21b141(0x15c)]=_0x21b141(0x1af)+(_0x10d5fe?_0x21b141(0xea):''),_0xf0d3a9['setAttribute'](_0x21b141(0x109),_0x403b80),_0xf0d3a9[_0x21b141(0x13d)]('data-day-idx',_0x5e9b11),renderEventsForColumn(_0xf0d3a9,_0x403b80,_0x5e9b11),attachLongPressHandler(_0xf0d3a9,_0xc86fa0),_0x34d9b0['appendChild'](_0xf0d3a9),updateDayStats(_0x403b80);}_0x154d00[_0x21b141(0x143)](_0x19f3ca,_0x154d00[_0x21b141(0x11d)]),_0x4e34f2[_0x21b141(0x143)](_0x34d9b0,_0x4e34f2[_0x21b141(0xc1)](_0x21b141(0x18f)));}function validateAppointment(_0x3cca77,_0x9ec024,_0x4ce3b4,_0x5ea749,_0x5e0c10){const _0x50f0c4=a2_0x3afd71,[_0x113142,_0x4bcf7a]=_0x9ec024['split'](':')[_0x50f0c4(0x17c)](Number),[_0x1a0126,_0x215dd9]=_0x4ce3b4[_0x50f0c4(0x171)](':')['map'](Number),_0x4793d6=_0x113142*0x3c+_0x4bcf7a,_0x33f860=_0x1a0126*0x3c+_0x215dd9,_0x31ac96=String(_0x5e0c10);let _0x21a07a=![],_0xbe869a='';for(let _0x4c3934 of sessions){if(_0x4c3934[_0x50f0c4(0x1f7)]!==_0x3cca77)continue;if(_0x4c3934[_0x50f0c4(0xd8)]===_0x50f0c4(0x153))continue;if(_0x5ea749&&String(_0x4c3934['id'])===String(_0x5ea749))continue;const [_0x14010e,_0x146a25]=_0x4c3934['start']['split'](':')[_0x50f0c4(0x17c)](Number),[_0x3063fb,_0x31a88c]=_0x4c3934[_0x50f0c4(0x240)][_0x50f0c4(0x171)](':')['map'](Number),_0x40419e=_0x14010e*0x3c+_0x146a25,_0x1cf6f7=_0x3063fb*0x3c+_0x31a88c;if(Math['max'](_0x4793d6,_0x40419e)<Math[_0x50f0c4(0x236)](_0x33f860,_0x1cf6f7)){if(_0x4c3934[_0x50f0c4(0xf6)]&&String(_0x4c3934[_0x50f0c4(0xf6)])===_0x31ac96)return{'valid':![],'msg':_0x50f0c4(0x112)+_0x4c3934[_0x50f0c4(0x203)]+_0x50f0c4(0xd1)};_0x21a07a=!![],_0xbe869a=_0x4c3934[_0x50f0c4(0x203)];}}if(_0x21a07a)return{'valid':!![],'warning':_0x50f0c4(0x222)+_0xbe869a};return{'valid':!![]};}function updateDateDisplay(){const _0x8223f=a2_0x3afd71,_0x1ce24a=document['getElementById']('inpDate')[_0x8223f(0x1f0)],_0x2a6964=document[_0x8223f(0x1e6)](_0x8223f(0x11b));if(!_0x1ce24a){_0x2a6964['textContent']='';return;}const [_0x5dd155,_0x434975,_0x320287]=_0x1ce24a['split']('-')[_0x8223f(0x17c)](Number),_0x113105=new Date(_0x5dd155,_0x434975-0x1,_0x320287),_0x2d846c={'weekday':_0x8223f(0xf8),'day':_0x8223f(0x117),'month':_0x8223f(0xf8),'year':_0x8223f(0x117)};let _0x2f95b2=_0x113105['toLocaleDateString']('ru-RU',_0x2d846c);_0x2f95b2=_0x2f95b2['charAt'](0x0)[_0x8223f(0x1f6)]()+_0x2f95b2['slice'](0x1),_0x2a6964[_0x8223f(0x1d1)]=_0x2f95b2;}function autoSetEndTime(){const _0x1aff91=a2_0x3afd71,_0x8e436e=document['getElementById'](_0x1aff91(0x182))[_0x1aff91(0x1f0)];if(!_0x8e436e)return;const [_0x4bd88d,_0x509e3d]=_0x8e436e[_0x1aff91(0x171)](':')[_0x1aff91(0x17c)](Number);let _0x9dfe6b=_0x4bd88d+0x1;if(_0x9dfe6b>0x17)_0x9dfe6b=0x0;const _0x2ef85a=String(_0x9dfe6b)[_0x1aff91(0x16c)](0x2,'0')+':'+String(_0x509e3d)[_0x1aff91(0x16c)](0x2,'0');document[_0x1aff91(0x1e6)](_0x1aff91(0x17f))['value']=_0x2ef85a;}function a2_0x38ff(){const _0x3ba82f=['</div><div\x20class=\x22ev-time\x22>','px\x20-','.day-column','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','user','Unknown','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Settings]\x20Cancel\x20window\x20set\x20to:','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','sessionSheet','target','getDay','.event-card','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','daysHeaderTrack','inpClient','(((.+)+)+)+$','setDate','expand','color','width','\x20–∏–∑\x20','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','series','setHours','block','T23:59:59','uc_sessions_v9','none','toLocaleString','statLoadCard','getMonth','stat-','day-column\x20','DOMContentLoaded','batch_sync','catch','23:59','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','pe-cell\x20','toLocaleDateString','splice','patternEditor','querySelectorAll','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','seriesId','clientY','formatDate','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','all','rgba(255,\x2069,\x2058,\x200.15)','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','createElement','pe-col-header','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','settingCancelWindow','done','toast','data','sheetTitle','8292xwHSFA','blocked-range-part\x20stripe-bg','uc_settings_v9','loadLocal','183468vOTNep','textContent','Telegram','inpRecurring','uc_settings_cancel_window','clientWidth','event-card','createDocumentFragment','settingsSheet','sort','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','asBtnSeries','mouseup','var(--acc-orange)','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','var(--acc-red)','Error\x20setting\x20color:','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','now','findIndex','apply','toast-notification\x20','getElementById','calc(','100%','peGrid','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–£–¥–∞–ª–µ–Ω–∏–µ','update','flex','success','setMonth','value','rgba(255,255,255,0.05)','anEnd','[Notify]\x20Error:\x20sessionData\x20is\x20null','remove','deleted','toUpperCase','dateStr','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','borderLeftColor','stopPropagation','show','Server\x20Error','div','from','create','href','.period-switch\x20.p-btn','clients','client','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','2239725LgEdGZ','...','entries','json','scrollWidth','fetchFromServer','8JJTmbx','ru-RU','dayOptionsTitle','T00:00:00','random','.day-col-header','push','getFullYear','initDataUnsafe','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','cancel','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','parse','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','201mFmmtk','analyticsList','10px','forEach','inpNote','toastMessage','max','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','cancel_window','style',':00','inpSeriesCount','<div\x20class=\x22dch-day\x22>','log','classList','localeCompare','option','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','offsetWidth','92620BNvHtk','filter','scrollLeft','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','add','doLoadPercent','#0a84ff','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','min','syncBatch','name','then','getHours','start','setBackgroundColor','4678npThhJ','custom','search','end','doDateHeader','btnDayToggle','[Notify]\x20Server\x20Response:','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','left','–£—Å–ø–µ—à–Ω–æ','[Notify]\x20Network\x20Failed','querySelector','mousedown','blocked-slot\x20stripe-bg','btnDelete','borderRadius','as-button\x20danger\x20bold','getTime','</div><div\x20class=\x22dch-num\x22>',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','[Series]\x20Skipped\x20','background','seriesCountContainer','indexOf','router.html','send','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!',':\x20Client\x20already\x20booked','scrollTop','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','backgroundPosition','innerHTML','save','status','saveLocally','pe-corner','text/plain;charset=UTF-8','dayOptionsSheet','toString','addEventListener','\x20-\x20','%\x20-\x204px)','find','recurringOptionContainer','planned','calendar','Save\x20settings\x20error:','actionSheetOverlay','anPercent','active','2101489ixRXkK','today','offsetLeft','toastTitle','112jtxWAv','doBusyHours','anCustomDates','top','.day-off-overlay','.dch-stats-fill','scroll','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','constructor','clientId','550IPcdJR','long','getText','pattern','timeColumn','[Notify]\x20Attempting\x20to\x20send:','mini','week','10px\x2010px\x200\x200','warn','108rHBLmJ',':00</span>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','[Sync]\x20Loading\x20','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','\x20status-completed','Local\x20Save\x20Error','</span>\x20/\x20','data-date','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','mergeServerData','null','[Notify]\x20Error:\x20Text\x20generation\x20failed','rangeEndDate','anDonutCircle','valid','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','off','#fff','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3226023ohfVWa','numeric','63lfZxFB','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','patternInfoBox','sheetDateSubtitle','[Notify]\x20Client\x20SWAP\x20detected','firstChild','checked','actionSheet','#gridColumns\x20.day-column','anStart','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','<b>‚úÖ\x20','colIndex','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','BackButton','#050505','includes','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','touchmove','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','substr','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','day-col-header\x20','getDate','getAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inpDate','\x20‚Äî\x20','charAt','doWorkHours','headerMonth','touchstart','syncLoad','v9.0-BATCH-CALENDAR','stringify','overlay','setAttribute','settings','doEventsList','closest','complete','.pib-text','insertBefore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','exceptions','warning','error','month','.sheet','rangeStartDate','<div\x20class=\x22ev-title\x22>','WebApp','timeLineBadge','total','btnStatusToggle','single','rangesSheet','appendChild','cancelled','save_settings','btn-status-toggle\x20undo-mode','gridColumns','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','asBtnOne','onclick','touches','var(--acc-current)','className','toFixed','delete','[Notify]\x20Detected\x20Client\x20ID:','getMinutes','round','strokeDashoffset','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','getItem','slice','text','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','undefined','initData','rangeStartTime','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','padStart','pe-time-label','setItem',']\x20Failed:','rgba(48,\x20209,\x2088,\x200.15)','split','ranges','location','disableVerticalSwipes','time-label','px\x200px','borderColor','rgba(100,100,100,0.5)','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','var(--acc-green)','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','map','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','btn-primary\x20btn-danger','inpEnd','open','note','inpStart',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','display','rgba(','length','init_load','touchend','data-day-idx','matrixViewport','vibrate','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º'];a2_0x38ff=function(){return _0x3ba82f;};return a2_0x38ff();}function populateClientSelect(){const _0x4d5b41=a2_0x3afd71,_0x5acbb5=document['getElementById'](_0x4d5b41(0x19d));_0x5acbb5[_0x4d5b41(0xd6)]='';if(clients['length']===0x0){const _0xda813e=document[_0x4d5b41(0x1c3)]('option');_0xda813e[_0x4d5b41(0x166)]=_0x4d5b41(0x179),_0x5acbb5[_0x4d5b41(0x152)](_0xda813e);return;}clients[_0x4d5b41(0x21e)](_0x3bf2db=>{const _0x36253c=_0x4d5b41,_0x4851c3=document[_0x36253c(0x1c3)](_0x36253c(0x22b));_0x4851c3['value']=_0x3bf2db[_0x36253c(0x238)],_0x4851c3[_0x36253c(0x1d1)]=_0x3bf2db[_0x36253c(0x238)],_0x5acbb5[_0x36253c(0x152)](_0x4851c3);});}function openActionSheet(_0x395e3c){const _0x40232f=a2_0x3afd71,_0x14bd47=document[_0x40232f(0x1e6)](_0x40232f(0x11f)),_0x530354=document[_0x40232f(0x1e6)](_0x40232f(0xe6)),_0x188f3b=document['getElementById']('asTitle'),_0x4429a1=document['getElementById'](_0x40232f(0x158)),_0x1be62e=document[_0x40232f(0x1e6)](_0x40232f(0x1db));_0x530354[_0x40232f(0x229)]['add'](_0x40232f(0xe8)),_0x14bd47[_0x40232f(0x229)][_0x40232f(0x232)](_0x40232f(0x180));if(_0x395e3c===_0x40232f(0xd7))_0x188f3b['textContent']=_0x40232f(0x1ea),_0x4429a1[_0x40232f(0x1d1)]=_0x40232f(0x216),_0x4429a1[_0x40232f(0x159)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x1be62e[_0x40232f(0x1d1)]=_0x40232f(0x119),_0x1be62e[_0x40232f(0x159)]=()=>{const _0x2012a5=_0x40232f;closeActionSheet(),updateSeriesBatch(_0x2012a5(0x1a5),tempSessionData);};else _0x395e3c==='delete'&&(_0x188f3b['textContent']=_0x40232f(0x1eb),_0x4429a1[_0x40232f(0x1d1)]=_0x40232f(0x216),_0x4429a1[_0x40232f(0x15c)]='as-button\x20danger',_0x4429a1[_0x40232f(0x159)]=()=>{const _0x4bdb1a=_0x40232f;closeActionSheet(),commitDelete(_0x4bdb1a(0x150),sessions[_0x4bdb1a(0xe1)](_0x148892=>_0x148892['id']===editingId));},_0x1be62e['textContent']=_0x40232f(0x119),_0x1be62e['className']=_0x40232f(0xc6),_0x1be62e[_0x40232f(0x159)]=()=>{const _0x5f43e6=_0x40232f;closeActionSheet(),commitDelete(_0x5f43e6(0x1a5),sessions[_0x5f43e6(0xe1)](_0x4e4339=>_0x4e4339['id']===editingId));});}function closeActionSheet(){const _0x5f8b1f=a2_0x3afd71;document[_0x5f8b1f(0x1e6)]('actionSheet')['classList'][_0x5f8b1f(0x1f4)](_0x5f8b1f(0x180)),document[_0x5f8b1f(0x1e6)](_0x5f8b1f(0xe6))[_0x5f8b1f(0x229)][_0x5f8b1f(0x1f4)](_0x5f8b1f(0xe8));}function openSettings(){const _0x4787be=a2_0x3afd71;openSheet(_0x4787be(0x1d8));}function saveCoachSettings(){const _0x39570c=a2_0x3afd71,_0x24da20=document[_0x39570c(0x1e6)](_0x39570c(0x1c7))[_0x39570c(0x1f0)];localStorage[_0x39570c(0x16e)]('uc_settings_cancel_window',_0x24da20),console[_0x39570c(0x228)](_0x39570c(0x194),_0x24da20),DataManager[_0x39570c(0x20c)](_0x39570c(0x154),{'settings':{'cancel_window':_0x24da20}})[_0x39570c(0x1b2)](_0x31b397=>{const _0x531778=_0x39570c;console[_0x531778(0x147)](_0x531778(0xe5),_0x31b397),showToast(_0x531778(0x16b),![]);});}function loadCoachSettings(){const _0x276d1a=a2_0x3afd71,_0x28981c=localStorage[_0x276d1a(0x164)](_0x276d1a(0x1d4));_0x28981c&&(document[_0x276d1a(0x1e6)](_0x276d1a(0x1c7))[_0x276d1a(0x1f0)]=_0x28981c);}function openRangesSheet(){const _0x4d3361=a2_0x3afd71;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4d3361(0x151));}function addRange(){const _0x33030b=a2_0x3afd71,_0x35bb8b=document[_0x33030b(0x1e6)](_0x33030b(0x14a))['value'],_0x3079d7=document[_0x33030b(0x1e6)]('rangeStartTime')['value'],_0x527d25=document[_0x33030b(0x1e6)]('rangeEndDate')[_0x33030b(0x1f0)],_0x52c357=document[_0x33030b(0x1e6)]('rangeEndTime')[_0x33030b(0x1f0)];if(!_0x35bb8b||!_0x3079d7||!_0x527d25||!_0x52c357)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x3e2314=_0x35bb8b+'T'+_0x3079d7,_0x23ff2b=_0x527d25+'T'+_0x52c357;if(_0x3e2314>=_0x23ff2b)return alert(_0x33030b(0x12e));specialRanges['push']({'start':_0x3e2314,'end':_0x23ff2b}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x33030b(0x20c)](_0x33030b(0x154),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x22c503){const _0x14da9d=a2_0x3afd71;specialRanges[_0x14da9d(0x1b8)](_0x22c503,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x14da9d(0xd9)](),DataManager[_0x14da9d(0x20c)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x82a9d4=a2_0x3afd71;document['getElementById'](_0x82a9d4(0x14a))[_0x82a9d4(0x1f0)]='',document['getElementById'](_0x82a9d4(0x16a))['value']='00:00',document[_0x82a9d4(0x1e6)](_0x82a9d4(0x10f))[_0x82a9d4(0x1f0)]='',document[_0x82a9d4(0x1e6)]('rangeEndTime')[_0x82a9d4(0x1f0)]=_0x82a9d4(0x1b3);}function renderRangesList(){const _0x293e0a=a2_0x3afd71,_0x35cdce=document['getElementById']('rangesList');_0x35cdce[_0x293e0a(0xd6)]='';if(!specialRanges[_0x293e0a(0x186)]){_0x35cdce[_0x293e0a(0xd6)]=_0x293e0a(0x21a);return;}specialRanges['forEach']((_0x33e763,_0x2a930f)=>{const _0x44be90=_0x293e0a,_0x57d4df=document['createElement'](_0x44be90(0x1fd));_0x57d4df[_0x44be90(0x15c)]='range-item';const _0x439780=_0x5660ad=>{const _0x2aa51b=_0x44be90,_0x43db34=new Date(_0x5660ad);return _0x43db34[_0x2aa51b(0x130)]()+'.'+String(_0x43db34['getMonth']()+0x1)[_0x2aa51b(0x16c)](0x2,'0')+'\x20'+String(_0x43db34[_0x2aa51b(0x23a)]())[_0x2aa51b(0x16c)](0x2,'0')+':'+String(_0x43db34[_0x2aa51b(0x160)]())[_0x2aa51b(0x16c)](0x2,'0');};_0x57d4df[_0x44be90(0xd6)]=_0x44be90(0x19b)+_0x439780(_0x33e763[_0x44be90(0x23b)])+_0x44be90(0x134)+_0x439780(_0x33e763[_0x44be90(0x240)])+_0x44be90(0x231)+_0x2a930f+_0x44be90(0xc9),_0x35cdce['appendChild'](_0x57d4df);});}function scrollToToday(){const _0x38f7c0=a2_0x3afd71,_0x18a812=getLocalDateStr(new Date()),_0x11d65b=document[_0x38f7c0(0x1e6)]('header-'+_0x18a812),_0x15d133=document[_0x38f7c0(0x1e6)](_0x38f7c0(0x18a));if(_0x11d65b&&_0x15d133){const _0x34e1bb=_0x15d133[_0x38f7c0(0x1d5)],_0x5e54e6=_0x11d65b['offsetLeft'],_0x1eb7e3=_0x11d65b[_0x38f7c0(0x22d)];_0x15d133['scrollLeft']=_0x5e54e6-_0x34e1bb/0x2+_0x1eb7e3/0x2,_0x15d133[_0x38f7c0(0xd3)]=0x9*GRID_H;}}function onScroll(){const _0x29aba5=a2_0x3afd71,_0x797ba8=document[_0x29aba5(0x1e6)]('matrixViewport'),_0x457706=document[_0x29aba5(0x1ba)]('.day-col-header');for(let _0x32e0d1 of _0x457706)if(_0x32e0d1[_0x29aba5(0xeb)]>=_0x797ba8[_0x29aba5(0x230)]){const _0x3d8768=new Date(_0x32e0d1[_0x29aba5(0x131)](_0x29aba5(0x109)));document[_0x29aba5(0x1e6)](_0x29aba5(0x137))['textContent']=_0x3d8768[_0x29aba5(0x1ab)]('ru',{'month':_0x29aba5(0xf8)})[_0x29aba5(0x1f6)]()+'\x20'+_0x3d8768[_0x29aba5(0x214)]();break;}}function showToast(_0x385547,_0x18fd38=![]){const _0x4e0e7b=a2_0x3afd71,_0x56dd77=document[_0x4e0e7b(0x1e6)](_0x4e0e7b(0x1c9));_0x56dd77[_0x4e0e7b(0x15c)]=_0x4e0e7b(0x1e5)+(_0x18fd38?_0x4e0e7b(0x1ee):''),document['getElementById'](_0x4e0e7b(0xec))['textContent']=_0x18fd38?_0x4e0e7b(0xbf):'–ò–Ω—Ñ–æ',document[_0x4e0e7b(0x1e6)](_0x4e0e7b(0x220))[_0x4e0e7b(0x1d1)]=_0x385547,_0x56dd77[_0x4e0e7b(0x229)]['add']('show'),setTimeout(()=>{const _0x5572ae=_0x4e0e7b;_0x56dd77[_0x5572ae(0x229)][_0x5572ae(0x1f4)](_0x5572ae(0x1fb));},0xbb8);}function openDayOptions(_0x8b900c,_0x38e8b3){const _0x2573dc=a2_0x3afd71;selectedDayForOptions=_0x8b900c,document[_0x2573dc(0x1e6)](_0x2573dc(0x20f))['textContent']=_0x38e8b3,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x1cecdb=a2_0x3afd71;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1cecdb(0x113),reRenderBlocks(),closeAllSheets(),DataManager[_0x1cecdb(0xd9)](),DataManager[_0x1cecdb(0x20c)](_0x1cecdb(0x154),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0xafccd0=a2_0x3afd71;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0xafccd0(0x20c)](_0xafccd0(0x154),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x44999d){const _0x31ecad=a2_0x3afd71;document[_0x31ecad(0x1e6)](_0x31ecad(0x13c))[_0x31ecad(0x229)][_0x31ecad(0x232)](_0x31ecad(0xe8)),document[_0x31ecad(0x1e6)](_0x44999d)[_0x31ecad(0x229)][_0x31ecad(0x232)](_0x31ecad(0x180));}function closeAllSheets(){const _0x36cab9=a2_0x3afd71;document['getElementById']('overlay')[_0x36cab9(0x229)][_0x36cab9(0x1f4)]('active'),document[_0x36cab9(0x1ba)](_0x36cab9(0x149))[_0x36cab9(0x21e)](_0xc4d4e1=>_0xc4d4e1[_0x36cab9(0x229)][_0x36cab9(0x1f4)]('open'));}function openPatternEditor(){const _0x43d92e=a2_0x3afd71;closeAllSheets(),document[_0x43d92e(0x1e6)](_0x43d92e(0x1b9))[_0x43d92e(0x229)][_0x43d92e(0x232)](_0x43d92e(0x180)),renderPatternEditor();}function closePatternEditor(){const _0x330bd9=a2_0x3afd71;document[_0x330bd9(0x1e6)](_0x330bd9(0x1b9))['classList'][_0x330bd9(0x1f4)](_0x330bd9(0x180));}function savePattern(){const _0x1e12fb=a2_0x3afd71;document[_0x1e12fb(0x1e6)](_0x1e12fb(0x1b9))['classList']['remove']('open'),reRenderBlocks(),DataManager[_0x1e12fb(0xd9)](),DataManager['fetchFromServer']('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x3c01a6=a2_0x3afd71,_0x2d51c0=document[_0x3c01a6(0x1e6)](_0x3c01a6(0x1e9));_0x2d51c0[_0x3c01a6(0xd6)]='';const _0x2c41e7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x395b0a=document[_0x3c01a6(0x1c3)](_0x3c01a6(0x1fd));_0x395b0a['className']=_0x3c01a6(0xda),_0x2d51c0['appendChild'](_0x395b0a),_0x2c41e7['forEach']((_0x2a7394,_0x3a1d12)=>{const _0x5e467b=_0x3c01a6,_0x3a418c=document[_0x5e467b(0x1c3)]('div');_0x3a418c[_0x5e467b(0x15c)]=_0x5e467b(0x1c4),_0x3a418c[_0x5e467b(0xd6)]=_0x2a7394+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x3a418c[_0x5e467b(0x159)]=()=>toggleColPattern(_0x3a1d12),_0x2d51c0[_0x5e467b(0x152)](_0x3a418c);});for(let _0x5d4f20=0x0;_0x5d4f20<0x18;_0x5d4f20++){const _0x2f3781=document['createElement'](_0x3c01a6(0x1fd));_0x2f3781['className']=_0x3c01a6(0x16d),_0x2f3781[_0x3c01a6(0xd6)]=_0x3c01a6(0x1e1)+String(_0x5d4f20)[_0x3c01a6(0x16c)](0x2,'0')+':00',_0x2f3781[_0x3c01a6(0x159)]=()=>toggleRowPattern(_0x5d4f20),_0x2d51c0['appendChild'](_0x2f3781);for(let _0x3953bf=0x0;_0x3953bf<0x7;_0x3953bf++){const _0x139fd4=document[_0x3c01a6(0x1c3)](_0x3c01a6(0x1fd)),_0xfadfe6=(availabilityPattern[_0x3953bf]||[])[_0x3c01a6(0x129)](_0x5d4f20),_0x33df66=!_0xfadfe6;_0x139fd4['className']=_0x3c01a6(0x1b6)+(_0x33df66?_0x3c01a6(0xe8):''),_0x139fd4[_0x3c01a6(0x159)]=()=>toggleSinglePattern(_0x3953bf,_0x5d4f20),_0x2d51c0['appendChild'](_0x139fd4);}}}function toggleSinglePattern(_0x186a26,_0x5cf837){const _0x43e281=a2_0x3afd71;if(!availabilityPattern[_0x186a26])availabilityPattern[_0x186a26]=[];const _0x405162=availabilityPattern[_0x186a26],_0xdcc9a9=_0x405162[_0x43e281(0xcd)](_0x5cf837);_0xdcc9a9===-0x1?_0x405162[_0x43e281(0x213)](_0x5cf837):_0x405162[_0x43e281(0x1b8)](_0xdcc9a9,0x1),renderPatternEditor();}function toggleColPattern(_0x3bd1f6){const _0x42985a=a2_0x3afd71;if(!availabilityPattern[_0x3bd1f6])availabilityPattern[_0x3bd1f6]=[];const _0xb52036=availabilityPattern[_0x3bd1f6];_0xb52036['length']===0x0?availabilityPattern[_0x3bd1f6]=Array[_0x42985a(0x1fe)]({'length':0x18},(_0x45033b,_0x31f23c)=>_0x31f23c):availabilityPattern[_0x3bd1f6]=[],renderPatternEditor();}function toggleRowPattern(_0x4bdeb6){const _0x5cfb66=a2_0x3afd71;let _0x52ad96=!![];for(let _0x5f46e8=0x0;_0x5f46e8<0x7;_0x5f46e8++){if((availabilityPattern[_0x5f46e8]||[])[_0x5cfb66(0x129)](_0x4bdeb6)){_0x52ad96=![];break;}}for(let _0x4247e9=0x0;_0x4247e9<0x7;_0x4247e9++){if(!availabilityPattern[_0x4247e9])availabilityPattern[_0x4247e9]=[];const _0x30b935=availabilityPattern[_0x4247e9][_0x5cfb66(0xcd)](_0x4bdeb6);if(_0x52ad96){if(_0x30b935===-0x1)availabilityPattern[_0x4247e9][_0x5cfb66(0x213)](_0x4bdeb6);}else{if(_0x30b935!==-0x1)availabilityPattern[_0x4247e9][_0x5cfb66(0x1b8)](_0x30b935,0x1);}}renderPatternEditor();}function renderPCol(_0x3e67be,_0x5b6837){const _0x3ec396=a2_0x3afd71;_0x3e67be[_0x3ec396(0xd6)]='';const _0x27f54a=Math[_0x3ec396(0x161)](_0x3e67be[_0x3ec396(0xeb)]);(availabilityPattern[_0x5b6837]||[])[_0x3ec396(0x21e)](_0x100327=>{const _0x18ef87=_0x3ec396,_0x11758d=document[_0x18ef87(0x1c3)](_0x18ef87(0x1fd));_0x11758d[_0x18ef87(0x15c)]=_0x18ef87(0xc3);const _0x41cc54=_0x100327*GRID_H;_0x11758d[_0x18ef87(0x224)][_0x18ef87(0xf0)]=_0x41cc54+'px',_0x11758d[_0x18ef87(0x224)][_0x18ef87(0xd5)]='-'+_0x27f54a+_0x18ef87(0x18e)+_0x41cc54+'px',_0x11758d[_0x18ef87(0x159)]=_0x3cad90=>{_0x3cad90['stopPropagation'](),toggleSinglePattern(_0x5b6837,_0x100327);},_0x3e67be[_0x18ef87(0x152)](_0x11758d);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x35b136=a2_0x3afd71,_0x3e335d=new Date(),_0x2f6b43=document[_0x35b136(0x1e6)]('globalTimeLine'),_0x5a24c9=document[_0x35b136(0x1e6)]('timeLineBadge'),_0x5e54f1=(_0x3e335d[_0x35b136(0x23a)]()*0x3c+_0x3e335d[_0x35b136(0x160)]())/0x3c*GRID_H;_0x2f6b43['style'][_0x35b136(0xf0)]=_0x5e54f1+'px',_0x2f6b43[_0x35b136(0x224)][_0x35b136(0x184)]='block',_0x5a24c9[_0x35b136(0x1d1)]=String(_0x3e335d[_0x35b136(0x23a)]())[_0x35b136(0x16c)](0x2,'0')+':'+String(_0x3e335d['getMinutes']())[_0x35b136(0x16c)](0x2,'0'),_0x5a24c9[_0x35b136(0x224)][_0x35b136(0x184)]='block',_0x5a24c9['style'][_0x35b136(0xf0)]=_0x5e54f1+'px';}document[a2_0x3afd71(0xde)](a2_0x3afd71(0x1b0),init);function openDayOptions(_0x50939e){const _0x40103d=a2_0x3afd71;selectedDayForOptions=_0x50939e;const _0x503530=new Date(_0x50939e),_0x391c51={'weekday':_0x40103d(0xf8),'day':_0x40103d(0x117),'month':'long','year':_0x40103d(0x117)},_0x37dc8d=_0x503530['toLocaleDateString'](_0x40103d(0x20e),_0x391c51);document[_0x40103d(0x1e6)](_0x40103d(0xba))['textContent']=_0x37dc8d[_0x40103d(0x135)](0x0)[_0x40103d(0x1f6)]()+_0x37dc8d[_0x40103d(0x165)](0x1);let _0x3c5d36=_0x503530[_0x40103d(0x198)]()-0x1;if(_0x3c5d36===-0x1)_0x3c5d36=0x6;const _0x4deb97=availabilityPattern[_0x3c5d36]||[],_0x580a17=0x18-_0x4deb97[_0x40103d(0x186)],_0x11ed85=_0x580a17*0x3c,_0x469376=sessions[_0x40103d(0x22f)](_0x57a23b=>_0x57a23b[_0x40103d(0x1f7)]===_0x50939e&&_0x57a23b[_0x40103d(0xd8)]!=='cancelled');let _0x5b3973=_0x469376['map'](_0x157a4c=>{const _0x3af6a5=_0x40103d,[_0x2d823c,_0x25ddbd]=_0x157a4c[_0x3af6a5(0x23b)][_0x3af6a5(0x171)](':')[_0x3af6a5(0x17c)](Number),[_0x470415,_0x2a1c1d]=_0x157a4c[_0x3af6a5(0x240)]['split'](':')[_0x3af6a5(0x17c)](Number);return[_0x2d823c*0x3c+_0x25ddbd,_0x470415*0x3c+_0x2a1c1d];});_0x5b3973[_0x40103d(0x1d9)]((_0xf4ff22,_0x151212)=>_0xf4ff22[0x0]-_0x151212[0x0]);let _0x4034c6=[];if(_0x5b3973[_0x40103d(0x186)]>0x0){let _0x1ed1e4=_0x5b3973[0x0];for(let _0x433a3a=0x1;_0x433a3a<_0x5b3973[_0x40103d(0x186)];_0x433a3a++){_0x5b3973[_0x433a3a][0x0]<_0x1ed1e4[0x1]?_0x1ed1e4[0x1]=Math[_0x40103d(0x221)](_0x1ed1e4[0x1],_0x5b3973[_0x433a3a][0x1]):(_0x4034c6[_0x40103d(0x213)](_0x1ed1e4),_0x1ed1e4=_0x5b3973[_0x433a3a]);}_0x4034c6[_0x40103d(0x213)](_0x1ed1e4);}let _0xdcef0c=0x0;_0x4034c6[_0x40103d(0x21e)](_0x21e3a4=>_0xdcef0c+=_0x21e3a4[0x1]-_0x21e3a4[0x0]),document[_0x40103d(0x1e6)](_0x40103d(0x136))[_0x40103d(0x1d1)]=formatMinsToHrs(_0x11ed85),document[_0x40103d(0x1e6)](_0x40103d(0xee))[_0x40103d(0x1d1)]=formatMinsToHrs(_0xdcef0c);const _0x101bbb=_0x11ed85>0x0?Math[_0x40103d(0x161)](_0xdcef0c/_0x11ed85*0x64):0x0,_0x45366a=document['getElementById'](_0x40103d(0x233));_0x45366a[_0x40103d(0x1d1)]=_0x101bbb+'%';const _0x3743a9=document[_0x40103d(0x1e6)](_0x40103d(0x1ac));if(_0x101bbb>0x64)_0x45366a[_0x40103d(0x224)][_0x40103d(0x1a1)]=_0x40103d(0x1df),_0x3743a9[_0x40103d(0x224)][_0x40103d(0x177)]='rgba(255,\x2069,\x2058,\x200.3)';else _0x101bbb>0x50?(_0x45366a[_0x40103d(0x224)]['color']=_0x40103d(0x1dd),_0x3743a9['style']['borderColor']='rgba(255,\x20159,\x2010,\x200.3)'):(_0x45366a['style'][_0x40103d(0x1a1)]=_0x40103d(0x17a),_0x3743a9[_0x40103d(0x224)][_0x40103d(0x177)]=_0x40103d(0x1f1));const _0x4d7754=document[_0x40103d(0x1e6)](_0x40103d(0x13f));_0x4d7754['innerHTML']='';_0x469376['length']===0x0?_0x4d7754[_0x40103d(0xd6)]=_0x40103d(0x163):(_0x469376['sort']((_0x31ddc7,_0x1f0c93)=>_0x31ddc7[_0x40103d(0x23b)][_0x40103d(0x22a)](_0x1f0c93[_0x40103d(0x23b)])),_0x469376[_0x40103d(0x21e)](_0x2541d1=>{const _0x3d0313=_0x40103d,_0x5dd4ff=clients[_0x3d0313(0xe1)](_0xe49f77=>_0xe49f77['name']===_0x2541d1[_0x3d0313(0x203)]),_0xc4da88=_0x5dd4ff?_0x5dd4ff[_0x3d0313(0x1a1)]:_0x3d0313(0x114),_0x1c91a8=_0x2541d1['status']===_0x3d0313(0x205),_0x5c8f36=_0x1c91a8?_0x3d0313(0x17d):'',_0x364de7=document['createElement']('div');_0x364de7[_0x3d0313(0x15c)]='de-item',_0x364de7[_0x3d0313(0x224)]['borderLeftColor']=_0xc4da88,_0x364de7[_0x3d0313(0xd6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x2541d1[_0x3d0313(0x23b)]+_0x3d0313(0xdf)+_0x2541d1['end']+_0x3d0313(0x115)+_0x2541d1[_0x3d0313(0x203)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c8f36+_0x3d0313(0x132),_0x4d7754[_0x3d0313(0x152)](_0x364de7);}));const _0x37b6bc=document['getElementById'](_0x40103d(0xbb)),_0x2a8977=dateExceptions[_0x50939e]===_0x40103d(0x113);_0x2a8977?(_0x37b6bc[_0x40103d(0x1d1)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x37b6bc[_0x40103d(0x15c)]='btn-primary\x20btn-secondary',_0x37b6bc[_0x40103d(0x224)][_0x40103d(0x1a1)]='var(--acc-green)',_0x37b6bc[_0x40103d(0x224)][_0x40103d(0xcb)]=_0x40103d(0x170)):(_0x37b6bc[_0x40103d(0x1d1)]=_0x40103d(0x18c),_0x37b6bc[_0x40103d(0x15c)]=_0x40103d(0x17e),_0x37b6bc[_0x40103d(0x224)][_0x40103d(0x1a1)]=_0x40103d(0x1df),_0x37b6bc[_0x40103d(0x224)]['background']=_0x40103d(0x1c1)),openSheet(_0x40103d(0xdc));}let currentAnPeriod=a2_0x3afd71(0xfe);function openAnalytics(){const _0x252c15=a2_0x3afd71,_0x2cf29f=document[_0x252c15(0xc1)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x252c15(0xfe),_0x2cf29f),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x16a76d,_0xf9b275){const _0xcd3d57=a2_0x3afd71;currentAnPeriod=_0x16a76d,document[_0xcd3d57(0x1ba)](_0xcd3d57(0x201))[_0xcd3d57(0x21e)](_0x1f2bd2=>_0x1f2bd2[_0xcd3d57(0x229)][_0xcd3d57(0x1f4)](_0xcd3d57(0xe8)));if(_0xf9b275)_0xf9b275[_0xcd3d57(0x229)][_0xcd3d57(0x232)](_0xcd3d57(0xe8));const _0x1ee2c0=document[_0xcd3d57(0x1e6)](_0xcd3d57(0xef));_0x1ee2c0[_0xcd3d57(0x224)]['display']=_0x16a76d===_0xcd3d57(0x23e)?_0xcd3d57(0x1ed):_0xcd3d57(0x1aa);const _0x3824f7=new Date();let _0x1a4e94=new Date(),_0x340407=new Date();if(_0x16a76d===_0xcd3d57(0xfe))_0x1a4e94=getStartOfWeek(_0x3824f7),_0x340407=new Date(_0x1a4e94),_0x340407[_0xcd3d57(0x19f)](_0x340407['getDate']()+0x6);else{if(_0x16a76d===_0xcd3d57(0x148))_0x1a4e94=new Date(_0x3824f7[_0xcd3d57(0x214)](),_0x3824f7[_0xcd3d57(0x1ad)](),0x1),_0x340407=new Date(_0x3824f7['getFullYear'](),_0x3824f7[_0xcd3d57(0x1ad)]()+0x1,0x0);else{!document[_0xcd3d57(0x1e6)](_0xcd3d57(0x121))['value']&&(document[_0xcd3d57(0x1e6)](_0xcd3d57(0x121))[_0xcd3d57(0x1f0)]=getLocalDateStr(_0x3824f7),document[_0xcd3d57(0x1e6)](_0xcd3d57(0x1f2))[_0xcd3d57(0x1f0)]=getLocalDateStr(_0x3824f7));refreshAnalytics();return;}}document[_0xcd3d57(0x1e6)](_0xcd3d57(0x121))['value']=getLocalDateStr(_0x1a4e94),document[_0xcd3d57(0x1e6)](_0xcd3d57(0x1f2))[_0xcd3d57(0x1f0)]=getLocalDateStr(_0x340407),refreshAnalytics();}function a2_0x3a71(_0x19b3e0,_0x29d43e){_0x19b3e0=_0x19b3e0-0xba;const _0x46336d=a2_0x38ff();let _0x5abcbd=_0x46336d[_0x19b3e0];return _0x5abcbd;}function refreshAnalytics(){const _0x1dc88c=a2_0x3afd71,_0x5e45f3=document[_0x1dc88c(0x1e6)](_0x1dc88c(0x121))[_0x1dc88c(0x1f0)],_0x370830=document['getElementById'](_0x1dc88c(0x1f2))['value'];if(!_0x5e45f3||!_0x370830)return;const _0x48de59=sessions['filter'](_0x4e847b=>_0x4e847b[_0x1dc88c(0x1f7)]>=_0x5e45f3&&_0x4e847b[_0x1dc88c(0x1f7)]<=_0x370830&&_0x4e847b[_0x1dc88c(0xd8)]!==_0x1dc88c(0x153)),_0x36d85f=_0x48de59[_0x1dc88c(0x186)],_0x3fb6fe=_0x48de59[_0x1dc88c(0x22f)](_0x34e56e=>_0x34e56e[_0x1dc88c(0xd8)]===_0x1dc88c(0x205))[_0x1dc88c(0x186)],_0x3b4127=_0x36d85f>0x0?Math[_0x1dc88c(0x161)](_0x3fb6fe/_0x36d85f*0x64):0x0;document['getElementById'](_0x1dc88c(0xe7))[_0x1dc88c(0x1d1)]=_0x3b4127+'%',document['getElementById']('anTotalStats')[_0x1dc88c(0x1d1)]=_0x3fb6fe+_0x1dc88c(0x1a3)+_0x36d85f+_0x1dc88c(0x103);const _0x18d3f6=document[_0x1dc88c(0x1e6)](_0x1dc88c(0x110)),_0x524e2d=0x2*Math['PI']*0x23,_0x3d9dc1=_0x524e2d-_0x3b4127/0x64*_0x524e2d;_0x18d3f6['style'][_0x1dc88c(0x162)]=_0x3d9dc1;const _0x5d1b8a={};_0x48de59[_0x1dc88c(0x21e)](_0x56b5cf=>{const _0x41d40e=_0x1dc88c;if(!_0x5d1b8a[_0x56b5cf['client']]){const _0x4e82d2=clients['find'](_0x39d667=>_0x39d667[_0x41d40e(0x238)]===_0x56b5cf[_0x41d40e(0x203)]);_0x5d1b8a[_0x56b5cf[_0x41d40e(0x203)]]={'total':0x0,'done':0x0,'color':_0x4e82d2?_0x4e82d2[_0x41d40e(0x1a1)]:'#fff'};}_0x5d1b8a[_0x56b5cf[_0x41d40e(0x203)]][_0x41d40e(0x14e)]++;if(_0x56b5cf[_0x41d40e(0xd8)]===_0x41d40e(0x205))_0x5d1b8a[_0x56b5cf['client']][_0x41d40e(0x1c8)]++;});const _0x3776c3=document['getElementById'](_0x1dc88c(0x21c));_0x3776c3['innerHTML']='';const _0x40011c=Object[_0x1dc88c(0x209)](_0x5d1b8a)[_0x1dc88c(0x1d9)]((_0x44ec18,_0x9f5f58)=>_0x9f5f58[0x1][_0x1dc88c(0x14e)]-_0x44ec18[0x1]['total']);if(_0x40011c[_0x1dc88c(0x186)]===0x0){_0x3776c3[_0x1dc88c(0xd6)]=_0x1dc88c(0x195);return;}_0x40011c['forEach'](([_0x3c13fc,_0x188c09])=>{const _0x542f51=_0x1dc88c,_0x1bb41a=Math['round'](_0x188c09[_0x542f51(0x1c8)]/_0x188c09[_0x542f51(0x14e)]*0x64),_0x143572=document[_0x542f51(0x1c3)](_0x542f51(0x1fd));_0x143572['className']='client-stat-card',_0x143572[_0x542f51(0x224)][_0x542f51(0x1f9)]=_0x188c09[_0x542f51(0x1a1)],_0x143572[_0x542f51(0xd6)]=_0x542f51(0x206)+_0x3c13fc+_0x542f51(0x1b4)+_0x188c09[_0x542f51(0x1c8)]+_0x542f51(0x108)+_0x188c09[_0x542f51(0x14e)]+_0x542f51(0x144)+_0x1bb41a+_0x542f51(0x10a),_0x3776c3[_0x542f51(0x152)](_0x143572);});}function formatMinsToHrs(_0x1681ca){if(_0x1681ca===0x0)return'0';const _0x9f2e08=Math['floor'](_0x1681ca/0x3c),_0x3609d6=_0x1681ca%0x3c;if(_0x3609d6===0x0)return _0x9f2e08+'—á';return _0x9f2e08+'—á\x20'+_0x3609d6+'–º';}