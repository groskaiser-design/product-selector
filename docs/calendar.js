const a2_0x42c29c=a2_0x4914;(function(_0x257cc2,_0xcacf49){const _0x50a28c=a2_0x4914,_0x343282=_0x257cc2();while(!![]){try{const _0xc4b741=-parseInt(_0x50a28c(0x2f4))/0x1+parseInt(_0x50a28c(0x299))/0x2*(parseInt(_0x50a28c(0x2a1))/0x3)+parseInt(_0x50a28c(0x2d2))/0x4+-parseInt(_0x50a28c(0x278))/0x5+-parseInt(_0x50a28c(0x333))/0x6*(parseInt(_0x50a28c(0x207))/0x7)+-parseInt(_0x50a28c(0x29c))/0x8+parseInt(_0x50a28c(0x309))/0x9*(parseInt(_0x50a28c(0x24d))/0xa);if(_0xc4b741===_0xcacf49)break;else _0x343282['push'](_0x343282['shift']());}catch(_0x4c4d3d){_0x343282['push'](_0x343282['shift']());}}}(a2_0x1e3c,0xf4023),function initTMA(){const _0x4e9448=a2_0x4914,_0x56affc=(function(){let _0xad5b52=!![];return function(_0x10eacb,_0x562e3b){const _0x43e6ce=_0xad5b52?function(){const _0x563ad2=a2_0x4914;if(_0x562e3b){const _0x21e088=_0x562e3b[_0x563ad2(0x2ad)](_0x10eacb,arguments);return _0x562e3b=null,_0x21e088;}}:function(){};return _0xad5b52=![],_0x43e6ce;};}()),_0x30e99e=_0x56affc(this,function(){const _0x414fe4=a2_0x4914;return _0x30e99e[_0x414fe4(0x28b)]()['search'](_0x414fe4(0x2c9))['toString']()[_0x414fe4(0x2ca)](_0x30e99e)['search'](_0x414fe4(0x2c9));});_0x30e99e();try{const _0x5cdc21=window[_0x4e9448(0x20b)]?.[_0x4e9448(0x282)];if(!_0x5cdc21)return;_0x5cdc21[_0x4e9448(0x1e5)](),_0x5cdc21[_0x4e9448(0x285)]();try{_0x5cdc21[_0x4e9448(0x237)]('#050505'),_0x5cdc21[_0x4e9448(0x2c8)]&&_0x5cdc21[_0x4e9448(0x2c8)](_0x4e9448(0x1f9));}catch(_0x4abd9f){console[_0x4e9448(0x2f2)]('Error\x20setting\x20color:',_0x4abd9f);}try{_0x5cdc21[_0x4e9448(0x1ce)]&&(_0x5cdc21[_0x4e9448(0x1ce)][_0x4e9448(0x26e)](),_0x5cdc21[_0x4e9448(0x1ce)][_0x4e9448(0x312)](),_0x5cdc21['BackButton']['onClick'](function(){const _0xa1dd28=_0x4e9448;window[_0xa1dd28(0x235)][_0xa1dd28(0x287)]=_0xa1dd28(0x318);}));}catch(_0x1d69ac){console['log']('Error\x20setting\x20back\x20button:',_0x1d69ac);}try{if(_0x5cdc21[_0x4e9448(0x226)])_0x5cdc21[_0x4e9448(0x226)]();}catch(_0x45a497){}}catch(_0x8680ca){console[_0x4e9448(0x2cf)](_0x4e9448(0x1fe),_0x8680ca);}}());function a2_0x1e3c(){const _0x821b7d=['min','136101eDJBRa','setMonth','now','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','Telegram','cancel_window','[Notify]\x20Detected\x20Client\x20ID:','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','stopPropagation','rgba(255,\x20159,\x2010,\x200.3)','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','guest','inpNote','charAt','.day-off-overlay','create','data-date','single','btnStatusToggle','firstChild','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','getMonth','\x20status-completed','anDonutCircle','closest','data','completed','setItem','user','settingsSheet','splice','disableVerticalSwipes','.dch-stats-fill','patternEditor','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','stat-','complete','today','max',']\x20Failed:','backgroundColor','POST','\x20days','10px\x2010px\x200\x200','zIndex','\x20-\x20','location','rangeEndDate','setHeaderColor','toast-notification\x20','btn-status-toggle','anCustomDates','var(--acc-current)','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','findIndex','seriesCountContainer','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','backgroundPosition','find','classList','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','active','forEach',':\x20Client\x20already\x20booked','<span>','[Notify]\x20Client\x20SWAP\x20detected','inpRecurring','createDocumentFragment','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','11304590WjjPLE','blocked-range-part\x20stripe-bg','getMinutes','saveLocally','ranges','name','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','clients','.day-col-header','none','calendar','getHours','asBtnOne','client','syncLoad','.period-switch\x20.p-btn','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','btn-status-toggle\x20undo-mode','end','analyticsList','[Settings]\x20Cancel\x20window\x20set\x20to:','top','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','substr','value','initDataUnsafe','start','[Notify]\x20Error:\x20Text\x20generation\x20failed','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','globalTimeLine','btnDayToggle','show','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','warning','color','push','v9.0-BATCH-CALENDAR','touches','rangesSheet','clientY','2776915nVHpwR','doWorkHours','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','sheetTitle',':00','getFullYear','fetchFromServer','Local\x20Load\x20Error','time-label','header-','WebApp',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','block','expand','addEventListener','href','as-button\x20danger','insertBefore','dayOptionsTitle','toString','onclick','setDate','touchmove','dateStr','timeLineBadge','borderRadius','split','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','then','style','long','inpClient','includes','59734HCtOLz','filter','calc(','3333480srOvgU','patternInfoBox','matrixViewport','toastMessage','daysHeaderTrack','81VVwpqD','Save\x20settings\x20error:','rgba(255,255,255,0.05)','total','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','anPercent','week','status','timeColumn','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','pe-corner','apply','parse','var(--acc-orange)','\x20‚Äî\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','anEnd','uc_clients_v9','doDateHeader','Unknown','send','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','createElement','100%','gridColumns','delete','isArray','doBusyHours',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','scroll','doLoadPercent','.day-column','note','background','anStart','[Notify]\x20Attempting\x20to\x20send:','init_load','[Notify]\x20Error:\x20sessionData\x20is\x20null','setBackgroundColor','(((.+)+)+)+$','constructor','catch','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','blocked-slot\x20stripe-bg','day-off-overlay\x20stripe-bg','error','%\x20-\x204px)','rangeStartTime','6001396XUtjDg','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','ru-RU','</b>\x0a\x0a','borderLeftColor','actionSheet','Batch\x20Sync\x20OK','recurringOptionContainer','rangeEndTime','checked','...','done','div','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','dayOptionsSheet','stringify','mergeServerData','scrollWidth','inpDate','</div><div\x20class=\x22dch-num\x22>','offsetLeft','getBoundingClientRect','inpSeriesCount','initData','pe-col-header','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','save_settings','cancel','from','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','sheetDateSubtitle','log','toLocaleDateString','1407361PDiOiY','map','toastTitle','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','%\x20+\x202px)','var(--acc-green)','deleted','DOMContentLoaded','msg','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','vibrate','px\x20-','rangeStartDate','\x20–∏–∑\x20','length','className','mini','series','getDate','–£–¥–∞–ª–µ–Ω–∏–µ','9npEZNX','planned','getTime','off','actionSheetOverlay','clientId','day-column\x20','width','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','offClick','overlay','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','scrollLeft','height','keys','router.html','.pib-text','rgba(255,\x2069,\x2058,\x200.15)','rgba(48,\x20209,\x2088,\x200.15)',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','localeCompare','inpEnd','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','syncBatch','anTotalStats','rgba(100,100,100,0.5)','doEventsList','open','rangesList','inpStart','add','seriesId','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','analyticsSheet','[Sync]\x20Loading\x20','<div\x20class=\x22dch-day\x22>','Local\x20Save\x20Error','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','data-day-idx','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','indexOf','18ztZuei','padStart','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','textContent','getDay','querySelector','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','numeric','Server\x20Error','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20',':00</span>','success','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','[Series]\x20Skipped\x20','btn-primary\x20btn-danger','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','getElementById','save','settings','as-button\x20danger\x20bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientWidth','[API\x20','23:59','sid','option','BackButton','#fff','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','sessionSheet','sort','getItem','all','uc_sessions_v9','send_notification','10px','range-item','btnDelete','var(--acc-red)','floor','toLocaleString','uc_settings_v9','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','colIndex','setAttribute','display','settingCancelWindow','setHours','ready','slice','cancelled','getAttribute','innerHTML','px\x200px','statLoadCard','T00:00:00','btn-primary\x20btn-secondary','client-stat-card','<div\x20class=\x22ev-title\x22>','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','round','–ò–Ω—Ñ–æ','pattern','uc_settings_cancel_window','entries','loadLocal','random','rgba(','#050505','appendChild','</div>','exceptions','toUpperCase','Critical\x20TMA\x20Error:','borderColor','mousemove','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','rgba(255,\x2069,\x2058,\x200.3)','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','flex','remove'];a2_0x1e3c=function(){return _0x821b7d;};return a2_0x1e3c();}function isAdmin(){const _0x4ff701=a2_0x4914;try{const _0x3bf180=Number(window[_0x4ff701(0x20b)]?.['WebApp']?.[_0x4ff701(0x266)]?.[_0x4ff701(0x223)]?.['id']);return _0x3bf180===0xbaf7174;}catch(_0x46f293){return![];}}const APP_VERSION=a2_0x42c29c(0x274),API_URL=a2_0x42c29c(0x2e0),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x42c29c(0x2b3),KEY_SESSIONS=a2_0x42c29c(0x1d5),KEY_SETTINGS=a2_0x42c29c(0x1dd);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5da10c=a2_0x42c29c;return window[_0x5da10c(0x20b)]?.[_0x5da10c(0x282)]?.[_0x5da10c(0x266)]?.[_0x5da10c(0x223)]?.['id']||_0x5da10c(0x212);},'saveLocally'(){const _0x29df9d=a2_0x42c29c;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x29df9d(0x2e2)](sessions)),localStorage[_0x29df9d(0x222)](KEY_SETTINGS,JSON[_0x29df9d(0x2e2)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x269f7d){console[_0x29df9d(0x2cf)](_0x29df9d(0x32e),_0x269f7d);}},'loadLocal'(){const _0x2c5078=a2_0x42c29c;try{const _0x31d34a=localStorage[_0x2c5078(0x1d3)](KEY_CLIENTS);if(_0x31d34a)clients=JSON['parse'](_0x31d34a);const _0x31516c=localStorage[_0x2c5078(0x1d3)](KEY_SESSIONS);if(_0x31516c)sessions=JSON[_0x2c5078(0x2ae)](_0x31516c);const _0x42e5ae=localStorage[_0x2c5078(0x1d3)](KEY_SETTINGS);if(_0x42e5ae){const _0x5a65fe=JSON['parse'](_0x42e5ae);if(_0x5a65fe['pattern'])availabilityPattern=_0x5a65fe[_0x2c5078(0x1f3)];if(_0x5a65fe[_0x2c5078(0x1fc)])dateExceptions=_0x5a65fe[_0x2c5078(0x1fc)];if(_0x5a65fe[_0x2c5078(0x251)])specialRanges=_0x5a65fe[_0x2c5078(0x251)];}else{for(let _0xdb5e7c=0x0;_0xdb5e7c<0x7;_0xdb5e7c++)availabilityPattern[_0xdb5e7c]=Array[_0x2c5078(0x2ef)]({'length':0xc},(_0x51e3cf,_0x5af997)=>_0x5af997+0x9);}}catch(_0x362a6b){console[_0x2c5078(0x2cf)](_0x2c5078(0x27f),_0x362a6b);}},async 'fetchFromServer'(_0x17154a,_0x486873={}){const _0x186e75=a2_0x42c29c,_0x2f77ce=window[_0x186e75(0x20b)]?.[_0x186e75(0x282)],_0xa2d2b1={'action':_0x17154a,'init_data':_0x2f77ce?.[_0x186e75(0x2ea)]||'',..._0x486873};try{const _0x1a3a63=await fetch(API_URL,{'method':_0x186e75(0x230),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON['stringify'](_0xa2d2b1)}),_0x1b53ed=await _0x1a3a63['json']();if(!_0x1b53ed['ok'])throw new Error(_0x1b53ed[_0x186e75(0x2cf)]||_0x186e75(0x33c));return _0x1b53ed[_0x186e75(0x220)];}catch(_0x300b61){console[_0x186e75(0x2cf)](_0x186e75(0x1ca)+_0x17154a+_0x186e75(0x22e),_0x300b61);throw _0x300b61;}},async 'syncLoad'(){const _0x3f0271=a2_0x42c29c,_0x56f8a8=new Date(),_0x33c28a=_0x56f8a8[_0x3f0271(0x27d)]()+'-'+String(_0x56f8a8['getMonth']()+0x1)['padStart'](0x2,'0'),_0x141b47=new Date(_0x56f8a8);_0x141b47[_0x3f0271(0x208)](_0x56f8a8[_0x3f0271(0x21c)]()+0x1);const _0x397982=_0x141b47[_0x3f0271(0x27d)]()+'-'+String(_0x141b47[_0x3f0271(0x21c)]()+0x1)[_0x3f0271(0x334)](0x2,'0'),_0x1190ed=Date[_0x3f0271(0x209)]();console[_0x3f0271(0x2f2)](_0x3f0271(0x32c)+_0x33c28a+',\x20'+_0x397982+_0x3f0271(0x2dd));try{const [_0x1e6163,_0x920124]=await Promise[_0x3f0271(0x1d4)]([this[_0x3f0271(0x27e)]('init_load',{'month_str':_0x33c28a}),this[_0x3f0271(0x27e)](_0x3f0271(0x2c6),{'month_str':_0x397982})]);if(lastUserActionTime>_0x1190ed)return console['warn'](_0x3f0271(0x32f)),![];return this[_0x3f0271(0x2e3)](_0x1e6163,_0x33c28a),this[_0x3f0271(0x2e3)](_0x920124,_0x397982),this[_0x3f0271(0x250)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x2bf027){console[_0x3f0271(0x2cf)](_0x2bf027);throw _0x2bf027;}},'mergeServerData'(_0x2ee885,_0x3c2401){const _0x1a94d6=a2_0x42c29c;if(!_0x2ee885)return;_0x2ee885[_0x1a94d6(0x254)]&&Array[_0x1a94d6(0x2bc)](_0x2ee885['clients'])&&(clients=_0x2ee885[_0x1a94d6(0x254)]);if(_0x2ee885[_0x1a94d6(0x346)]){if(_0x2ee885[_0x1a94d6(0x346)][_0x1a94d6(0x1f3)])availabilityPattern=_0x2ee885[_0x1a94d6(0x346)]['pattern'];if(_0x2ee885[_0x1a94d6(0x346)]['exceptions'])dateExceptions=_0x2ee885[_0x1a94d6(0x346)]['exceptions'];if(_0x2ee885[_0x1a94d6(0x346)][_0x1a94d6(0x251)])specialRanges=_0x2ee885[_0x1a94d6(0x346)]['ranges'];if(_0x2ee885[_0x1a94d6(0x346)][_0x1a94d6(0x20c)]){localStorage['setItem'](_0x1a94d6(0x1f4),_0x2ee885[_0x1a94d6(0x346)][_0x1a94d6(0x20c)]);const _0x4541da=document[_0x1a94d6(0x344)]('settingCancelWindow');if(_0x4541da)_0x4541da[_0x1a94d6(0x265)]=_0x2ee885[_0x1a94d6(0x346)][_0x1a94d6(0x20c)];}}_0x2ee885['calendar']&&(sessions=sessions[_0x1a94d6(0x29a)](_0x2927de=>!_0x2927de[_0x1a94d6(0x28f)]['startsWith'](_0x3c2401)),Object[_0x1a94d6(0x317)](_0x2ee885[_0x1a94d6(0x257)])[_0x1a94d6(0x245)](_0x526395=>{const _0x3b8172=_0x1a94d6,_0x43c155=_0x2ee885[_0x3b8172(0x257)][_0x526395];_0x43c155[_0x3b8172(0x245)](_0xaf588c=>{const _0x1a0260=_0x3b8172,_0x55ee63=clients[_0x1a0260(0x241)](_0x57989b=>String(_0x57989b['id'])===String(_0xaf588c['c']));sessions[_0x1a0260(0x273)]({'id':_0xaf588c['i'],'clientId':_0xaf588c['c'],'client':_0x55ee63?_0x55ee63[_0x1a0260(0x252)]:_0x1a0260(0x2b5),'dateStr':_0x3c2401+'-'+_0x526395['padStart'](0x2,'0'),'start':_0xaf588c['s'],'end':_0xaf588c['e'],'status':_0xaf588c['st']||_0x1a0260(0x30a),'note':_0xaf588c['n']||'','seriesId':_0xaf588c[_0x1a0260(0x1cc)]||null});});}));},async 'syncBatch'(_0x53d0b1){const _0x442140=a2_0x42c29c,_0x1bfd8a=[...new Set(_0x53d0b1)],_0x4f4d72=_0x1bfd8a[_0x442140(0x2f5)](_0x31c42b=>{const _0x46e7cd=_0x442140,_0x4d91c6=sessions[_0x46e7cd(0x29a)](_0xeb3ccd=>_0xeb3ccd[_0x46e7cd(0x28f)]===_0x31c42b&&_0xeb3ccd[_0x46e7cd(0x2a9)]!==_0x46e7cd(0x2fb)),_0x431136=_0x4d91c6[_0x46e7cd(0x2f5)](_0x390b2c=>({'i':_0x390b2c['id'],'c':_0x390b2c[_0x46e7cd(0x30e)],'s':_0x390b2c[_0x46e7cd(0x267)],'e':_0x390b2c[_0x46e7cd(0x25f)],'st':_0x390b2c[_0x46e7cd(0x2a9)],'n':_0x390b2c[_0x46e7cd(0x2c2)],'sid':_0x390b2c['seriesId']}));return{'date':_0x31c42b,'day_data':_0x431136};});if(_0x4f4d72[_0x442140(0x303)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x4f4d72[_0x442140(0x303)]+_0x442140(0x231)),await this[_0x442140(0x27e)]('batch_sync',{'changes':_0x4f4d72});}};async function init(){const _0x5aec45=a2_0x42c29c;DataManager[_0x5aec45(0x1f6)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5aec45(0x344)](_0x5aec45(0x29e))['addEventListener'](_0x5aec45(0x2bf),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5aec45(0x25b)]()['then'](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x5aec45(0x2cb)](_0x1e0077=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x212d11=a2_0x42c29c;return Date[_0x212d11(0x209)]()['toString'](0x24)+Math[_0x212d11(0x1f7)]()[_0x212d11(0x28b)](0x24)[_0x212d11(0x264)](0x2,0x5);}function toggleSeriesInput(){const _0x1aae78=a2_0x42c29c,_0x2a7c19=document[_0x1aae78(0x344)](_0x1aae78(0x249))[_0x1aae78(0x2dc)],_0x19f039=document[_0x1aae78(0x344)](_0x1aae78(0x23e));_0x19f039[_0x1aae78(0x295)]['display']=_0x2a7c19?'block':_0x1aae78(0x256);const _0x207ce9=document[_0x1aae78(0x344)](_0x1aae78(0x2da));_0x207ce9[_0x1aae78(0x295)]['borderRadius']=_0x2a7c19?_0x1aae78(0x232):'10px';}function openAddSession(_0x1c83d4){const _0x46a228=a2_0x42c29c;editingId=null,populateClientSelect(),document[_0x46a228(0x344)](_0x46a228(0x27b))[_0x46a228(0x336)]=_0x46a228(0x32a),document[_0x46a228(0x344)](_0x46a228(0x1d9))[_0x46a228(0x295)][_0x46a228(0x1e2)]=_0x46a228(0x256),document[_0x46a228(0x344)]('btnStatusToggle')[_0x46a228(0x295)][_0x46a228(0x1e2)]=_0x46a228(0x256);const _0x265688=document[_0x46a228(0x344)]('recurringOptionContainer'),_0x3b53d9=document[_0x46a228(0x344)]('seriesCountContainer');_0x265688[_0x46a228(0x295)]['display']=_0x46a228(0x204),_0x265688['style'][_0x46a228(0x291)]=_0x46a228(0x1d7),document[_0x46a228(0x344)](_0x46a228(0x249))[_0x46a228(0x2dc)]=![],document[_0x46a228(0x344)]('inpSeriesCount')[_0x46a228(0x265)]=0x4,_0x3b53d9[_0x46a228(0x295)][_0x46a228(0x1e2)]=_0x46a228(0x256),document[_0x46a228(0x344)](_0x46a228(0x2e5))[_0x46a228(0x265)]=getLocalDateStr(_0x1c83d4),updateDateDisplay();const _0xe852c=_0x1c83d4[_0x46a228(0x258)]();document[_0x46a228(0x344)](_0x46a228(0x326))[_0x46a228(0x265)]=String(_0xe852c)['padStart'](0x2,'0')+_0x46a228(0x27c),document[_0x46a228(0x344)](_0x46a228(0x31e))['value']=String(_0xe852c+0x1)[_0x46a228(0x334)](0x2,'0')+_0x46a228(0x27c),openSheet(_0x46a228(0x1d1));}function openEdit(_0x27fe){const _0x515d81=a2_0x42c29c;editingId=_0x27fe['id'],populateClientSelect(),document[_0x515d81(0x344)](_0x515d81(0x27b))['textContent']='–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',document['getElementById']('btnDelete')['style'][_0x515d81(0x1e2)]='block';const _0x3bca7e=document['getElementById'](_0x515d81(0x219));_0x3bca7e[_0x515d81(0x295)][_0x515d81(0x1e2)]=_0x515d81(0x204);_0x27fe[_0x515d81(0x2a9)]===_0x515d81(0x221)?(_0x3bca7e[_0x515d81(0x304)]=_0x515d81(0x25e),_0x3bca7e[_0x515d81(0x1e9)]=_0x515d81(0x331)):(_0x3bca7e['className']=_0x515d81(0x239),_0x3bca7e[_0x515d81(0x1e9)]='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x1d6fdf=!!_0x27fe['seriesId'];document[_0x515d81(0x344)](_0x515d81(0x2da))[_0x515d81(0x295)]['display']=_0x515d81(0x256),document['getElementById'](_0x515d81(0x23e))['style'][_0x515d81(0x1e2)]=_0x515d81(0x256),_0x1d6fdf?(document[_0x515d81(0x344)]('patternInfoBox')['style']['display']=_0x515d81(0x204),document[_0x515d81(0x344)](_0x515d81(0x29d))['querySelector'](_0x515d81(0x319))[_0x515d81(0x336)]=_0x515d81(0x203)):document['getElementById'](_0x515d81(0x29d))[_0x515d81(0x295)][_0x515d81(0x1e2)]=_0x515d81(0x256),document[_0x515d81(0x344)]('inpClient')[_0x515d81(0x265)]=_0x27fe[_0x515d81(0x25a)],document[_0x515d81(0x344)](_0x515d81(0x2e5))[_0x515d81(0x265)]=_0x27fe['dateStr'],document['getElementById'](_0x515d81(0x326))[_0x515d81(0x265)]=_0x27fe[_0x515d81(0x267)],document[_0x515d81(0x344)](_0x515d81(0x31e))['value']=_0x27fe['end'],document[_0x515d81(0x344)](_0x515d81(0x213))[_0x515d81(0x265)]=_0x27fe[_0x515d81(0x2c2)]||'',updateDateDisplay(),openSheet(_0x515d81(0x1d1));}async function trySaveSession(){const _0x777e10=a2_0x42c29c,_0x175363=document[_0x777e10(0x344)](_0x777e10(0x297))[_0x777e10(0x265)],_0x3e7c05=document[_0x777e10(0x344)]('inpDate')[_0x777e10(0x265)],_0x389f7e=document[_0x777e10(0x344)](_0x777e10(0x326))[_0x777e10(0x265)],_0x57e99c=document[_0x777e10(0x344)](_0x777e10(0x31e))['value'],_0x1a935b=document[_0x777e10(0x344)](_0x777e10(0x213))['value'],_0x590506=document[_0x777e10(0x344)](_0x777e10(0x249))[_0x777e10(0x2dc)];let _0x3c818f=0x4;if(_0x590506){const _0x4d43b6=parseInt(document[_0x777e10(0x344)](_0x777e10(0x2e9))[_0x777e10(0x265)]);if(!_0x4d43b6||_0x4d43b6<0x2){showToast(_0x777e10(0x314),![]);return;}if(_0x4d43b6>0x64){showToast(_0x777e10(0x2ec),![]);return;}_0x3c818f=_0x4d43b6;}const _0x109359=clients[_0x777e10(0x241)](_0x3df245=>_0x3df245[_0x777e10(0x252)]===_0x175363);if(!_0x109359){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x3269bf=validateAppointment(_0x3e7c05,_0x389f7e,_0x57e99c,editingId,_0x109359['id']);if(!_0x3269bf['valid']){showToast(_0x3269bf[_0x777e10(0x2fd)],![]);return;}_0x3269bf[_0x777e10(0x271)]&&showToast(_0x3269bf[_0x777e10(0x271)],![]);const _0x3add46={'client':_0x175363,'clientId':_0x109359['id'],'start':_0x389f7e,'end':_0x57e99c,'note':_0x1a935b,'status':'planned'},_0x5aa532=editingId?sessions[_0x777e10(0x241)](_0x4da548=>_0x4da548['id']===editingId):null;if(_0x5aa532&&_0x5aa532[_0x777e10(0x328)]){tempSessionData={..._0x3add46,'dateStr':_0x3e7c05,'id':editingId,'seriesId':_0x5aa532[_0x777e10(0x328)]},openActionSheet(_0x777e10(0x345));return;}let _0x2e140e=null;if(!editingId)_0x2e140e='create';else{if(_0x5aa532){if(String(_0x5aa532[_0x777e10(0x30e)])!==String(_0x109359['id']))console[_0x777e10(0x2f2)](_0x777e10(0x248)),NotificationManager['send'](_0x777e10(0x2ee),_0x5aa532),_0x2e140e='create';else(_0x5aa532['start']!==_0x389f7e||_0x5aa532['end']!==_0x57e99c||_0x5aa532['dateStr']!==_0x3e7c05)&&(_0x2e140e='update');}}if(!editingId&&_0x590506){createBatchSeries(_0x3add46,_0x3e7c05,_0x3c818f),NotificationManager[_0x777e10(0x2b6)](_0x777e10(0x216),{..._0x3add46,'dateStr':_0x3e7c05});return;}lastUserActionTime=Date[_0x777e10(0x209)]();const _0x2ffa50={..._0x3add46,'dateStr':_0x3e7c05,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2ffa50),_0x2e140e&&NotificationManager[_0x777e10(0x2b6)](_0x2e140e,_0x2ffa50);}function toggleSessionStatus(){const _0x423c7b=a2_0x42c29c;lastUserActionTime=Date[_0x423c7b(0x209)]();const _0x451284=sessions[_0x423c7b(0x241)](_0x5e445d=>_0x5e445d['id']===editingId);if(!_0x451284)return;const _0x39da4c=_0x451284[_0x423c7b(0x2a9)]===_0x423c7b(0x221)?'planned':'completed';_0x451284[_0x423c7b(0x2a9)]=_0x39da4c,saveSingleSession(_0x451284),_0x39da4c===_0x423c7b(0x221)&&NotificationManager[_0x423c7b(0x2b6)](_0x423c7b(0x22b),_0x451284),showToast(_0x39da4c===_0x423c7b(0x221)?_0x423c7b(0x293):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x1ae057,_0x500be8,_0xec2368,_0x547479,_0x471585){const _0x430d30=a2_0x42c29c,[_0x22fdad,_0x32a3c1]=_0x500be8[_0x430d30(0x292)](':')[_0x430d30(0x2f5)](Number),[_0x9c3371,_0x211a18]=_0xec2368[_0x430d30(0x292)](':')[_0x430d30(0x2f5)](Number),_0x4d6a0b=_0x22fdad*0x3c+_0x32a3c1,_0x494115=_0x9c3371*0x3c+_0x211a18,_0x5b0381=String(_0x471585);let _0x3c7fc7=![],_0x560470='';for(let _0x1667de of sessions){if(_0x1667de[_0x430d30(0x28f)]!==_0x1ae057)continue;if(_0x1667de[_0x430d30(0x2a9)]===_0x430d30(0x1e7))continue;if(_0x547479&&String(_0x1667de['id'])===String(_0x547479))continue;const [_0x488991,_0x331a16]=_0x1667de[_0x430d30(0x267)][_0x430d30(0x292)](':')[_0x430d30(0x2f5)](Number),[_0xeaeef1,_0x83dc4a]=_0x1667de['end'][_0x430d30(0x292)](':')[_0x430d30(0x2f5)](Number),_0x7ca55e=_0x488991*0x3c+_0x331a16,_0x25501a=_0xeaeef1*0x3c+_0x83dc4a;if(Math[_0x430d30(0x22d)](_0x4d6a0b,_0x7ca55e)<Math[_0x430d30(0x206)](_0x494115,_0x25501a)){if(_0x1667de[_0x430d30(0x30e)]&&String(_0x1667de[_0x430d30(0x30e)])===_0x5b0381)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1667de[_0x430d30(0x25a)]+_0x430d30(0x2b1)};_0x3c7fc7=!![],_0x560470=_0x1667de[_0x430d30(0x25a)];}}if(_0x3c7fc7)return{'valid':!![],'warning':_0x430d30(0x33d)+_0x560470};return{'valid':!![]};}function saveSingleSession(_0x1e0105){const _0x2abfeb=a2_0x42c29c;if(editingId){const _0x40c80a=sessions[_0x2abfeb(0x23d)](_0x8bbb81=>_0x8bbb81['id']===editingId);if(_0x40c80a!==-0x1)sessions[_0x40c80a]=_0x1e0105;}else sessions[_0x2abfeb(0x273)](_0x1e0105);afterSaveAction([_0x1e0105[_0x2abfeb(0x28f)]]);}function createBatchSeries(_0x2c4f60,_0x402144,_0x38a7d1){const _0xb4b5b3=a2_0x42c29c,_0x5cdc6e=generateId(),_0x12bbbe=[],_0x341c23=[];let _0x22d114=0x0,_0x3a3e27=new Date(_0x402144);for(let _0x4b53c5=0x0;_0x4b53c5<_0x38a7d1;_0x4b53c5++){const _0x5218b2=getLocalDateStr(_0x3a3e27),_0x4bb722=validateAppointment(_0x5218b2,_0x2c4f60[_0xb4b5b3(0x267)],_0x2c4f60[_0xb4b5b3(0x25f)],null,_0x2c4f60['clientId']);if(!_0x4bb722['valid'])console[_0xb4b5b3(0x2f2)](_0xb4b5b3(0x341)+_0x5218b2+_0xb4b5b3(0x246)),_0x22d114++;else{const _0x39178a={..._0x2c4f60,'id':generateId(),'dateStr':_0x5218b2,'seriesId':_0x5cdc6e};_0x341c23[_0xb4b5b3(0x273)](_0x39178a),_0x12bbbe[_0xb4b5b3(0x273)](_0x5218b2);}_0x3a3e27[_0xb4b5b3(0x28d)](_0x3a3e27[_0xb4b5b3(0x307)]()+0x7);}if(_0x341c23[_0xb4b5b3(0x303)]===0x0){showToast(_0xb4b5b3(0x329),![]);return;}sessions[_0xb4b5b3(0x273)](..._0x341c23),lastUserActionTime=Date[_0xb4b5b3(0x209)]();let _0x73c9c8='–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20'+_0x341c23[_0xb4b5b3(0x303)];_0x22d114>0x0&&(_0x73c9c8+=_0xb4b5b3(0x21b)+_0x22d114+')'),showToast(_0x73c9c8,!![]),afterSaveAction(_0x12bbbe);}function updateSeriesBatch(_0xe0405a,_0x266317){const _0x41f856=a2_0x42c29c,_0x44fa41=[],_0x520437=_0x266317[_0x41f856(0x328)];if(_0xe0405a===_0x41f856(0x218)){const _0x19e85b={..._0x266317,'seriesId':null},_0x185e01=sessions[_0x41f856(0x23d)](_0x58e060=>_0x58e060['id']===_0x266317['id']);if(_0x185e01!==-0x1)sessions[_0x185e01]=_0x19e85b;_0x44fa41[_0x41f856(0x273)](_0x19e85b['dateStr']);}else{if(_0xe0405a===_0x41f856(0x306)){const _0x161ebc=_0x266317[_0x41f856(0x28f)];sessions[_0x41f856(0x245)]((_0x489541,_0xd45474)=>{const _0x413eab=_0x41f856;_0x489541[_0x413eab(0x328)]===_0x520437&&_0x489541[_0x413eab(0x28f)]>=_0x161ebc&&(sessions[_0xd45474]={...sessions[_0xd45474],'start':_0x266317[_0x413eab(0x267)],'end':_0x266317[_0x413eab(0x25f)],'note':_0x266317[_0x413eab(0x2c2)],'client':_0x266317['client'],'clientId':_0x266317[_0x413eab(0x30e)]},_0x44fa41[_0x413eab(0x273)](_0x489541[_0x413eab(0x28f)]));});}}afterSaveAction(_0x44fa41);}function tryDeleteSession(){const _0x52c4e3=a2_0x42c29c,_0x29b09e=sessions[_0x52c4e3(0x241)](_0x555443=>_0x555443['id']===editingId);if(!_0x29b09e)return;_0x29b09e['seriesId']?openActionSheet('delete'):commitDelete(_0x52c4e3(0x218),_0x29b09e);}function commitDelete(_0x2f96ec,_0x52afd8){const _0x290de3=a2_0x42c29c;lastUserActionTime=Date[_0x290de3(0x209)](),NotificationManager[_0x290de3(0x2b6)]('cancel',_0x52afd8);const _0x54680d=[];if(_0x2f96ec===_0x290de3(0x218))sessions=sessions[_0x290de3(0x29a)](_0x44add7=>_0x44add7['id']!==_0x52afd8['id']),_0x54680d[_0x290de3(0x273)](_0x52afd8['dateStr']);else{if(_0x2f96ec==='series'){const _0x50aa72=_0x52afd8[_0x290de3(0x28f)],_0x3d4591=_0x52afd8[_0x290de3(0x328)];sessions[_0x290de3(0x245)](_0x3057ea=>{const _0x224f25=_0x290de3;_0x3057ea[_0x224f25(0x328)]===_0x3d4591&&_0x3057ea[_0x224f25(0x28f)]>=_0x50aa72&&_0x54680d[_0x224f25(0x273)](_0x3057ea[_0x224f25(0x28f)]);}),sessions=sessions[_0x290de3(0x29a)](_0x4082ae=>!(_0x4082ae[_0x290de3(0x328)]===_0x3d4591&&_0x4082ae[_0x290de3(0x28f)]>=_0x50aa72));}}afterSaveAction(_0x54680d);}function afterSaveAction(_0x4acfea){const _0x42a942=a2_0x42c29c;DataManager[_0x42a942(0x250)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x42a942(0x320)](_0x4acfea)[_0x42a942(0x294)](()=>console['log'](_0x42a942(0x2d9)))['catch'](_0x5ec366=>showToast(_0x42a942(0x269),![]));}const NotificationManager={'formatDate'(_0x30eddd){const _0x322e70=a2_0x42c29c,_0x39d602=new Date(_0x30eddd),_0x425090={'weekday':'long','day':_0x322e70(0x33b),'month':'long'};let _0x1c89b1=_0x39d602['toLocaleDateString']('ru-RU',_0x425090);return _0x1c89b1[_0x322e70(0x214)](0x0)['toUpperCase']()+_0x1c89b1['slice'](0x1);},'getText'(_0x4670e2,_0x23a7ab){const _0x193243=a2_0x42c29c,_0x34da14=this['formatDate'](_0x23a7ab[_0x193243(0x28f)]);switch(_0x4670e2){case'create':return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x193243(0x2cc)+_0x34da14+'\x0a')+(_0x193243(0x33a)+_0x23a7ab[_0x193243(0x267)]+_0x193243(0x2b0)+_0x23a7ab[_0x193243(0x25f)]+'\x0a\x0a')+_0x193243(0x31f);case'update':return _0x193243(0x27a)+_0x193243(0x340)+('<b>‚úÖ\x20'+_0x23a7ab[_0x193243(0x267)]+_0x193243(0x2b0)+_0x23a7ab[_0x193243(0x25f)]+_0x193243(0x2d6))+(_0x193243(0x2cc)+_0x34da14);case _0x193243(0x2ee):return _0x193243(0x335)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x34da14+'\x20('+_0x23a7ab[_0x193243(0x267)]+_0x193243(0x283));case _0x193243(0x22b):return _0x193243(0x211)+_0x193243(0x20a)+_0x193243(0x2b7);default:return'';}},async 'send'(_0x101c47,_0x5a11a1){const _0x251d81=a2_0x42c29c;console[_0x251d81(0x2f2)](_0x251d81(0x2c5),_0x101c47,_0x5a11a1);if(!_0x5a11a1){console['error'](_0x251d81(0x2c7));return;}const _0x3b2edd=String(_0x5a11a1[_0x251d81(0x30e)]);console[_0x251d81(0x2f2)](_0x251d81(0x20d),_0x3b2edd);if(!_0x5a11a1[_0x251d81(0x30e)]||_0x3b2edd==='undefined'||_0x3b2edd==='null'){console[_0x251d81(0x2cf)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x5a11a1['client']){const _0x67abc4=clients[_0x251d81(0x241)](_0x15ad45=>_0x15ad45[_0x251d81(0x252)]===_0x5a11a1['client']);if(_0x67abc4)return console[_0x251d81(0x2f2)](_0x251d81(0x2a6),_0x67abc4['id']),this[_0x251d81(0x2b6)](_0x101c47,{..._0x5a11a1,'clientId':_0x67abc4['id']});}return;}if(_0x3b2edd['length']<0x5){console['warn']('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x3b2edd);return;}const _0x300bd7=this['getText'](_0x101c47,_0x5a11a1);if(!_0x300bd7){console[_0x251d81(0x2cf)](_0x251d81(0x268));return;}console[_0x251d81(0x2f2)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x3b2edd+_0x251d81(0x2dd)),DataManager[_0x251d81(0x27e)](_0x251d81(0x1d6),{'chatId':_0x3b2edd,'text':_0x300bd7})[_0x251d81(0x294)](_0x450250=>console[_0x251d81(0x2f2)]('[Notify]\x20Server\x20Response:',_0x450250))[_0x251d81(0x2cb)](_0x25fc18=>console[_0x251d81(0x2cf)]('[Notify]\x20Network\x20Failed',_0x25fc18));}};function getLocalDateStr(_0x4920d9){const _0x4e82b2=a2_0x42c29c,_0x2207e6=_0x4920d9[_0x4e82b2(0x27d)](),_0x540ba4=String(_0x4920d9[_0x4e82b2(0x21c)]()+0x1)['padStart'](0x2,'0'),_0x5a703a=String(_0x4920d9[_0x4e82b2(0x307)]())[_0x4e82b2(0x334)](0x2,'0');return _0x2207e6+'-'+_0x540ba4+'-'+_0x5a703a;}function getDateStr(_0x1249f2){const _0x52cadf=a2_0x42c29c,_0x505c42=new Date();return _0x505c42[_0x52cadf(0x28d)](_0x505c42[_0x52cadf(0x307)]()+_0x1249f2),getLocalDateStr(_0x505c42);}function getStartOfWeek(_0x5f5cad){const _0x26ea06=a2_0x42c29c,_0x2866fe=new Date(_0x5f5cad),_0x2c95a8=_0x2866fe[_0x26ea06(0x337)](),_0x428a0f=_0x2866fe['getDate']()-_0x2c95a8+(_0x2c95a8===0x0?-0x6:0x1);return _0x2866fe['setDate'](_0x428a0f),_0x2866fe['setHours'](0x0,0x0,0x0,0x0),_0x2866fe;}function hexToRgba(_0x173152,_0x2898cd){const _0x4c1b9b=a2_0x42c29c;if(!_0x173152)return _0x4c1b9b(0x322);let _0xd7d7c2=0x0,_0x5c718d=0x0,_0x26c0b0=0x0;if(_0x173152[_0x4c1b9b(0x303)]===0x4)_0xd7d7c2='0x'+_0x173152[0x1]+_0x173152[0x1],_0x5c718d='0x'+_0x173152[0x2]+_0x173152[0x2],_0x26c0b0='0x'+_0x173152[0x3]+_0x173152[0x3];else _0x173152[_0x4c1b9b(0x303)]===0x7&&(_0xd7d7c2='0x'+_0x173152[0x1]+_0x173152[0x2],_0x5c718d='0x'+_0x173152[0x3]+_0x173152[0x4],_0x26c0b0='0x'+_0x173152[0x5]+_0x173152[0x6]);return _0x4c1b9b(0x1f8)+ +_0xd7d7c2+',\x20'+ +_0x5c718d+',\x20'+ +_0x26c0b0+',\x20'+_0x2898cd+')';}function renderTimeColumn(){const _0x21b0ff=a2_0x42c29c,_0x29198a=document[_0x21b0ff(0x344)](_0x21b0ff(0x2aa)),_0x1d3140=document[_0x21b0ff(0x344)](_0x21b0ff(0x290));_0x29198a['innerHTML']='',_0x29198a[_0x21b0ff(0x1fa)](_0x1d3140);for(let _0x42b72a=0x0;_0x42b72a<0x18;_0x42b72a++){const _0x4b38a1=document[_0x21b0ff(0x2b8)](_0x21b0ff(0x2df));_0x4b38a1['className']=_0x21b0ff(0x280);if(_0x42b72a>0x0)_0x4b38a1[_0x21b0ff(0x1e9)]=_0x21b0ff(0x247)+String(_0x42b72a)[_0x21b0ff(0x334)](0x2,'0')+_0x21b0ff(0x33e);_0x29198a['appendChild'](_0x4b38a1);}}function renderDayRange(_0x4a6388,_0x38d8c8){const _0x2a5074=a2_0x42c29c,_0x5ece6e=document[_0x2a5074(0x344)](_0x2a5074(0x2a0)),_0x152732=document[_0x2a5074(0x344)](_0x2a5074(0x2ba)),_0x3bc4c2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x39665e=new Date();_0x39665e[_0x2a5074(0x1e4)](0x0,0x0,0x0,0x0);const _0x2775e8=getLocalDateStr(new Date());for(let _0x5dc9b7=_0x4a6388;_0x5dc9b7<=_0x38d8c8;_0x5dc9b7++){const _0x1f732f=new Date(_0x39665e);_0x1f732f[_0x2a5074(0x28d)](_0x1f732f['getDate']()+_0x5dc9b7);const _0x2af968=getLocalDateStr(_0x1f732f);let _0x364085=_0x1f732f[_0x2a5074(0x337)]()-0x1;if(_0x364085===-0x1)_0x364085=0x6;const _0x2da8be=_0x2af968===_0x2775e8,_0x5ef842=document['createElement'](_0x2a5074(0x2df));_0x5ef842[_0x2a5074(0x304)]='day-col-header\x20'+(_0x2da8be?_0x2a5074(0x22c):''),_0x5ef842['id']=_0x2a5074(0x281)+_0x2af968,_0x5ef842[_0x2a5074(0x1e1)](_0x2a5074(0x217),_0x2af968),_0x5ef842[_0x2a5074(0x1e9)]=_0x2a5074(0x32d)+_0x3bc4c2[_0x364085]+_0x2a5074(0x2e6)+_0x1f732f[_0x2a5074(0x307)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x2af968+_0x2a5074(0x1d0),_0x5ef842[_0x2a5074(0x28c)]=()=>openDayOptions(_0x2af968,_0x3bc4c2[_0x364085]+'\x20'+_0x1f732f[_0x2a5074(0x307)]()),_0x5ece6e[_0x2a5074(0x1fa)](_0x5ef842);const _0x361b5e=document[_0x2a5074(0x2b8)](_0x2a5074(0x2df));_0x361b5e['className']=_0x2a5074(0x30f)+(_0x2da8be?_0x2a5074(0x22c):''),_0x361b5e[_0x2a5074(0x1e1)](_0x2a5074(0x217),_0x2af968),_0x361b5e[_0x2a5074(0x1e1)](_0x2a5074(0x330),_0x364085),renderEventsForColumn(_0x361b5e,_0x2af968,_0x364085),attachLongPressHandler(_0x361b5e,_0x1f732f),_0x152732[_0x2a5074(0x1fa)](_0x361b5e),updateDayStats(_0x2af968);}}function reRenderBlocks(){const _0x4fe9bd=a2_0x42c29c;document[_0x4fe9bd(0x24b)]('#gridColumns\x20.day-column')[_0x4fe9bd(0x245)](_0x1c9982=>{const _0x8205d5=_0x4fe9bd;_0x1c9982[_0x8205d5(0x24b)](_0x8205d5(0x311))[_0x8205d5(0x245)](_0x1cac29=>_0x1cac29[_0x8205d5(0x205)]());const _0x6a67fa=_0x1c9982[_0x8205d5(0x1e8)](_0x8205d5(0x217)),_0x5940c1=parseInt(_0x1c9982[_0x8205d5(0x1e8)](_0x8205d5(0x330))),_0x5d5b43=Math[_0x8205d5(0x1f1)](_0x1c9982[_0x8205d5(0x2e7)]);(availabilityPattern[_0x5940c1]||[])['forEach'](_0x23fbf1=>{const _0x284cdf=_0x8205d5,_0x33aeba=document[_0x284cdf(0x2b8)](_0x284cdf(0x2df));_0x33aeba[_0x284cdf(0x304)]=_0x284cdf(0x2cd);const _0x1019ff=_0x23fbf1*GRID_H;_0x33aeba[_0x284cdf(0x295)]['top']=_0x1019ff+'px',_0x33aeba['style'][_0x284cdf(0x240)]='-'+_0x5d5b43+_0x284cdf(0x300)+_0x1019ff+'px',_0x1c9982[_0x284cdf(0x1fa)](_0x33aeba);});if(specialRanges&&specialRanges[_0x8205d5(0x303)]>0x0){const _0x374664=new Date(_0x6a67fa+_0x8205d5(0x1ec))[_0x8205d5(0x30b)](),_0x10f63c=new Date(_0x6a67fa+'T23:59:59')['getTime']();specialRanges[_0x8205d5(0x245)](_0x2802d6=>{const _0xefed82=_0x8205d5,_0x13de3c=new Date(_0x2802d6[_0xefed82(0x267)])[_0xefed82(0x30b)](),_0x29e32a=new Date(_0x2802d6[_0xefed82(0x25f)])[_0xefed82(0x30b)](),_0x5446ef=Math[_0xefed82(0x22d)](_0x374664,_0x13de3c),_0x41c926=Math[_0xefed82(0x206)](_0x10f63c,_0x29e32a);if(_0x5446ef<_0x41c926){if(_0x5446ef<=_0x374664&&_0x41c926>=_0x10f63c-0xea60){if(!_0x1c9982[_0xefed82(0x338)](_0xefed82(0x215))){const _0x456681=document[_0xefed82(0x2b8)]('div');_0x456681['className']=_0xefed82(0x2ce),_0x456681[_0xefed82(0x295)][_0xefed82(0x240)]='-'+_0x5d5b43+_0xefed82(0x1ea),_0x1c9982['appendChild'](_0x456681);}}else{const _0x4edc42=(_0x5446ef-_0x374664)/0x36ee80*GRID_H,_0x451a68=(_0x41c926-_0x5446ef)/0x36ee80*GRID_H,_0x4b754f=document[_0xefed82(0x2b8)](_0xefed82(0x2df));_0x4b754f[_0xefed82(0x304)]=_0xefed82(0x24e),_0x4b754f['style'][_0xefed82(0x262)]=_0x4edc42+'px',_0x4b754f[_0xefed82(0x295)][_0xefed82(0x316)]=_0x451a68+'px',_0x4b754f[_0xefed82(0x295)][_0xefed82(0x240)]='-'+_0x5d5b43+_0xefed82(0x300)+_0x4edc42+'px',_0x1c9982['appendChild'](_0x4b754f);}}});}if(dateExceptions[_0x6a67fa]==='off'){if(!_0x1c9982['querySelector'](_0x8205d5(0x215))){const _0x5401a8=document[_0x8205d5(0x2b8)](_0x8205d5(0x2df));_0x5401a8['className']=_0x8205d5(0x2ce),_0x5401a8['style'][_0x8205d5(0x240)]='-'+_0x5d5b43+_0x8205d5(0x1ea),_0x1c9982[_0x8205d5(0x1fa)](_0x5401a8);}}renderEventsForColumn(_0x1c9982,_0x6a67fa,_0x5940c1),updateDayStats(_0x6a67fa);});}function updateAllDayStats(){const _0x21d453=a2_0x42c29c;document[_0x21d453(0x24b)](_0x21d453(0x255))[_0x21d453(0x245)](_0x23e139=>{const _0x51709e=_0x21d453;updateDayStats(_0x23e139[_0x51709e(0x1e8)]('data-date'));});}function updateDayStats(_0x5374cd){const _0x68ff84=a2_0x42c29c,_0x5c7369=document[_0x68ff84(0x344)](_0x68ff84(0x22a)+_0x5374cd);if(!_0x5c7369)return;const _0x432939=new Date(_0x5374cd);let _0x2c5641=_0x432939[_0x68ff84(0x337)]()-0x1;if(_0x2c5641===-0x1)_0x2c5641=0x6;if(dateExceptions[_0x5374cd]===_0x68ff84(0x30c)){_0x5c7369[_0x68ff84(0x295)][_0x68ff84(0x1e2)]='none';return;}const _0x20b064=availabilityPattern[_0x2c5641]||[],_0x315e3c=0x18-_0x20b064['length'],_0x5694ba=_0x315e3c*0x3c,_0x13a722=sessions[_0x68ff84(0x29a)](_0x1866e7=>_0x1866e7[_0x68ff84(0x28f)]===_0x5374cd&&_0x1866e7['status']!=='cancelled');if(_0x13a722['length']===0x0){_0x5c7369[_0x68ff84(0x295)]['display']=_0x68ff84(0x256);return;}let _0x3c3085=_0x13a722[_0x68ff84(0x2f5)](_0x4c02dc=>{const _0x5b5667=_0x68ff84,[_0x353f03,_0x4bf438]=_0x4c02dc[_0x5b5667(0x267)][_0x5b5667(0x292)](':')[_0x5b5667(0x2f5)](Number),[_0x42d44f,_0xcf165b]=_0x4c02dc[_0x5b5667(0x25f)][_0x5b5667(0x292)](':')[_0x5b5667(0x2f5)](Number);return[_0x353f03*0x3c+_0x4bf438,_0x42d44f*0x3c+_0xcf165b];});_0x3c3085[_0x68ff84(0x1d2)]((_0x1e3b7a,_0x40bf77)=>_0x1e3b7a[0x0]-_0x40bf77[0x0]);let _0x6e95f2=[];if(_0x3c3085[_0x68ff84(0x303)]>0x0){let _0x55bd10=_0x3c3085[0x0];for(let _0xe10e9e=0x1;_0xe10e9e<_0x3c3085[_0x68ff84(0x303)];_0xe10e9e++){_0x3c3085[_0xe10e9e][0x0]<_0x55bd10[0x1]?_0x55bd10[0x1]=Math[_0x68ff84(0x22d)](_0x55bd10[0x1],_0x3c3085[_0xe10e9e][0x1]):(_0x6e95f2[_0x68ff84(0x273)](_0x55bd10),_0x55bd10=_0x3c3085[_0xe10e9e]);}_0x6e95f2[_0x68ff84(0x273)](_0x55bd10);}let _0x5ad3a1=0x0;_0x6e95f2[_0x68ff84(0x245)](_0x3f2b9e=>_0x5ad3a1+=_0x3f2b9e[0x1]-_0x3f2b9e[0x0]),_0x5c7369[_0x68ff84(0x295)]['display']=_0x68ff84(0x204);const _0x51ccb6=_0x5c7369[_0x68ff84(0x338)](_0x68ff84(0x227));if(_0x5694ba===0x0){_0x51ccb6['style'][_0x68ff84(0x310)]=_0x68ff84(0x2b9),_0x51ccb6[_0x68ff84(0x295)][_0x68ff84(0x2c3)]=_0x68ff84(0x1da);return;}const _0x54c470=_0x5ad3a1/_0x5694ba*0x64;console[_0x68ff84(0x2f2)]('['+_0x5374cd+_0x68ff84(0x2be)+_0x315e3c+_0x68ff84(0x2d4)+_0x5ad3a1+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x54c470['toFixed'](0x1)+'%'),_0x54c470>0x64?(_0x51ccb6[_0x68ff84(0x295)]['width']='100%',_0x51ccb6[_0x68ff84(0x295)][_0x68ff84(0x2c3)]='var(--acc-red)'):(_0x51ccb6[_0x68ff84(0x295)][_0x68ff84(0x310)]=_0x54c470+'%',_0x51ccb6[_0x68ff84(0x295)][_0x68ff84(0x2c3)]=_0x68ff84(0x23b));}function renderEventsForColumn(_0x3aab58,_0x26b4d9,_0x2274e1){const _0x5b7a2a=a2_0x42c29c,_0x37f0e4=sessions[_0x5b7a2a(0x29a)](_0x221d4e=>_0x221d4e[_0x5b7a2a(0x28f)]===_0x26b4d9),_0x3d02f3=_0x37f0e4[_0x5b7a2a(0x2f5)](_0x38b586=>{const _0x539bda=_0x5b7a2a,[_0x2065de,_0x4795dc]=_0x38b586[_0x539bda(0x267)][_0x539bda(0x292)](':')['map'](Number),[_0x4c90be,_0xff9271]=_0x38b586[_0x539bda(0x25f)]['split'](':')[_0x539bda(0x2f5)](Number);return{'data':_0x38b586,'start':_0x2065de*0x3c+_0x4795dc,'end':_0x4c90be*0x3c+_0xff9271,'colIndex':0x0};});_0x3d02f3[_0x5b7a2a(0x1d2)]((_0x5cef04,_0xb78fe)=>{const _0x376d82=_0x5b7a2a;if(_0x5cef04[_0x376d82(0x267)]!==_0xb78fe[_0x376d82(0x267)])return _0x5cef04[_0x376d82(0x267)]-_0xb78fe[_0x376d82(0x267)];return _0xb78fe[_0x376d82(0x25f)]-_0xb78fe[_0x376d82(0x267)]-(_0x5cef04['end']-_0x5cef04[_0x376d82(0x267)]);});const _0x59d056=[];_0x3d02f3['forEach'](_0x1aa7ff=>{const _0x410ffb=_0x5b7a2a;let _0xd456a6=![];for(let _0x3bcaa1=0x0;_0x3bcaa1<_0x59d056[_0x410ffb(0x303)];_0x3bcaa1++){const _0x5344b0=_0x59d056[_0x3bcaa1],_0xb019f0=_0x5344b0[_0x5344b0[_0x410ffb(0x303)]-0x1];if(_0x1aa7ff[_0x410ffb(0x267)]>=_0xb019f0[_0x410ffb(0x25f)]){_0x5344b0['push'](_0x1aa7ff),_0x1aa7ff[_0x410ffb(0x1e0)]=_0x3bcaa1,_0xd456a6=!![];break;}}!_0xd456a6&&(_0x59d056[_0x410ffb(0x273)]([_0x1aa7ff]),_0x1aa7ff[_0x410ffb(0x1e0)]=_0x59d056[_0x410ffb(0x303)]-0x1);}),_0x3d02f3[_0x5b7a2a(0x245)](_0x506cd4=>{const _0x1e964d=_0x5b7a2a;let _0x104f13=0x0;_0x3d02f3['forEach'](_0x772393=>{const _0x275e9f=a2_0x4914;if(Math[_0x275e9f(0x22d)](_0x506cd4[_0x275e9f(0x267)],_0x772393[_0x275e9f(0x267)])<Math[_0x275e9f(0x206)](_0x506cd4[_0x275e9f(0x25f)],_0x772393['end'])){if(_0x772393[_0x275e9f(0x1e0)]>_0x104f13)_0x104f13=_0x772393[_0x275e9f(0x1e0)];}});const _0x3f8521=_0x104f13+0x1,_0x478a5d=0x64/_0x3f8521,_0x5b7b9e=_0x506cd4['colIndex']*_0x478a5d,_0x355b7f=createEventEl(_0x506cd4['data']);_0x355b7f[_0x1e964d(0x295)][_0x1e964d(0x310)]=_0x1e964d(0x29b)+_0x478a5d+_0x1e964d(0x2d0),_0x355b7f[_0x1e964d(0x295)]['left']=_0x1e964d(0x29b)+_0x5b7b9e+_0x1e964d(0x2f9),_0x355b7f[_0x1e964d(0x295)][_0x1e964d(0x233)]=0xa+_0x506cd4[_0x1e964d(0x1e0)],_0x478a5d<0x55&&_0x355b7f[_0x1e964d(0x242)][_0x1e964d(0x327)](_0x1e964d(0x305)),_0x3aab58[_0x1e964d(0x1fa)](_0x355b7f);});}function createEventEl(_0x32e55c){const _0x11a5c9=a2_0x42c29c,[_0x5214f2,_0x1d7e77]=_0x32e55c[_0x11a5c9(0x267)][_0x11a5c9(0x292)](':')[_0x11a5c9(0x2f5)](Number),[_0x2bd2ff,_0x60f23d]=_0x32e55c['end'][_0x11a5c9(0x292)](':')[_0x11a5c9(0x2f5)](Number),_0x2e5ad1=(_0x5214f2*0x3c+_0x1d7e77)/0x3c*GRID_H,_0x48f1f1=(_0x2bd2ff*0x3c+_0x60f23d-(_0x5214f2*0x3c+_0x1d7e77))/0x3c*GRID_H,_0x25da81=document[_0x11a5c9(0x2b8)](_0x11a5c9(0x2df)),_0x1668e7=_0x32e55c[_0x11a5c9(0x2a9)]===_0x11a5c9(0x221)?_0x11a5c9(0x21d):'';_0x25da81[_0x11a5c9(0x304)]='event-card'+_0x1668e7,_0x25da81['style'][_0x11a5c9(0x262)]=_0x2e5ad1+'px',_0x25da81['style'][_0x11a5c9(0x316)]=Math[_0x11a5c9(0x22d)](_0x48f1f1,0x14)+'px';const _0x3598fa=clients[_0x11a5c9(0x241)](_0x712e54=>_0x32e55c['clientId']&&String(_0x712e54['id'])===String(_0x32e55c[_0x11a5c9(0x30e)])||_0x712e54[_0x11a5c9(0x252)]===_0x32e55c[_0x11a5c9(0x25a)]),_0x1d378e=_0x3598fa?_0x3598fa[_0x11a5c9(0x272)]:'#0a84ff';_0x25da81[_0x11a5c9(0x295)][_0x11a5c9(0x2d7)]=_0x1d378e,_0x25da81[_0x11a5c9(0x295)][_0x11a5c9(0x22f)]=hexToRgba(_0x1d378e,0.85);let _0x5c7b7f=_0x11a5c9(0x1ef)+_0x32e55c['client']+'</div><div\x20class=\x22ev-time\x22>'+_0x32e55c[_0x11a5c9(0x267)]+'\x20-\x20'+_0x32e55c[_0x11a5c9(0x25f)]+_0x11a5c9(0x1fb);return _0x32e55c[_0x11a5c9(0x328)]&&(_0x5c7b7f+=_0x11a5c9(0x1f0)),_0x32e55c[_0x11a5c9(0x2a9)]===_0x11a5c9(0x221)&&(_0x5c7b7f+=_0x11a5c9(0x339)),_0x25da81['innerHTML']=_0x5c7b7f,_0x25da81[_0x11a5c9(0x28c)]=_0x48afd8=>{const _0x5b7c8b=_0x11a5c9;_0x48afd8[_0x5b7c8b(0x20f)](),openEdit(_0x32e55c);},_0x25da81;}function attachLongPressHandler(_0x379771,_0x501b6a){const _0xb17223=a2_0x42c29c;let _0xd5d1bf=0x0,_0x3d3c3b=null;const _0x2b8b1e=_0x3750f8=>{const _0x37e47e=a2_0x4914;if(_0x3750f8['target'][_0x37e47e(0x21f)]('.event-card'))return;isScrolling=![],_0xd5d1bf=_0x3750f8['touches']?_0x3750f8[_0x37e47e(0x275)][0x0][_0x37e47e(0x277)]:_0x3750f8[_0x37e47e(0x277)],_0x3d3c3b=setTimeout(()=>{const _0x561740=_0x37e47e;if(!isScrolling){navigator[_0x561740(0x2ff)]?.(0x32);const _0x1cc953=_0x379771[_0x561740(0x2e8)](),_0x50215e=Math[_0x561740(0x1db)]((_0xd5d1bf-_0x1cc953['top'])/GRID_H);_0x501b6a[_0x561740(0x1e4)](_0x50215e,0x0),openAddSession(_0x501b6a);}},0x1f4);},_0x4031be=()=>{isScrolling=!![],clearTimeout(_0x3d3c3b);},_0x56c199=()=>{clearTimeout(_0x3d3c3b);};_0x379771[_0xb17223(0x286)]('touchstart',_0x2b8b1e,{'passive':!![]}),_0x379771[_0xb17223(0x286)](_0xb17223(0x28e),_0x4031be,{'passive':!![]}),_0x379771['addEventListener']('touchend',_0x56c199),_0x379771[_0xb17223(0x286)](_0xb17223(0x270),_0x2b8b1e),_0x379771[_0xb17223(0x286)](_0xb17223(0x200),_0x4031be),_0x379771['addEventListener']('mouseup',_0x56c199);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x5e6d83=a2_0x42c29c,_0x240f8e=document[_0x5e6d83(0x344)](_0x5e6d83(0x29e)),_0x5ad0ee=_0x240f8e['scrollLeft'],_0x535b4c=_0x240f8e[_0x5e6d83(0x2e4)],_0x53a280=_0x240f8e[_0x5e6d83(0x1c9)];if(_0x535b4c-(_0x5ad0ee+_0x53a280)<0x12c){const _0x3a78c6=endOffset;endOffset+=0xe,renderDayRange(_0x3a78c6+0x1,endOffset),reRenderBlocks();}if(_0x5ad0ee<0x12c){const _0x3f2475=startOffset;startOffset-=0xe,prependDays(startOffset,_0x3f2475-0x1),_0x240f8e['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x43f429,_0x552e22){const _0x33d252=a2_0x42c29c,_0x53337a=document[_0x33d252(0x344)](_0x33d252(0x2a0)),_0xab9ea=document['getElementById'](_0x33d252(0x2ba)),_0x498ed2=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x224e9e=new Date();_0x224e9e[_0x33d252(0x1e4)](0x0,0x0,0x0,0x0);const _0x3ef3d0=getLocalDateStr(new Date()),_0x9b14ad=document['createDocumentFragment'](),_0x30ae8=document[_0x33d252(0x24a)]();for(let _0x20e25a=_0x43f429;_0x20e25a<=_0x552e22;_0x20e25a++){const _0x139b0e=new Date(_0x224e9e);_0x139b0e[_0x33d252(0x28d)](_0x139b0e[_0x33d252(0x307)]()+_0x20e25a);const _0x543e7e=getLocalDateStr(_0x139b0e);let _0x46beef=_0x139b0e[_0x33d252(0x337)]()-0x1;if(_0x46beef===-0x1)_0x46beef=0x6;const _0x2baa43=_0x543e7e===_0x3ef3d0,_0x42f10e=document[_0x33d252(0x2b8)](_0x33d252(0x2df));_0x42f10e[_0x33d252(0x304)]='day-col-header\x20'+(_0x2baa43?'today':''),_0x42f10e['id']=_0x33d252(0x281)+_0x543e7e,_0x42f10e[_0x33d252(0x1e1)](_0x33d252(0x217),_0x543e7e),_0x42f10e[_0x33d252(0x1e9)]=_0x33d252(0x32d)+_0x498ed2[_0x46beef]+_0x33d252(0x2e6)+_0x139b0e[_0x33d252(0x307)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x543e7e+_0x33d252(0x1d0),_0x42f10e['onclick']=()=>openDayOptions(_0x543e7e,_0x498ed2[_0x46beef]+'\x20'+_0x139b0e['getDate']()),_0x9b14ad[_0x33d252(0x1fa)](_0x42f10e);const _0x19b916=document[_0x33d252(0x2b8)](_0x33d252(0x2df));_0x19b916['className']=_0x33d252(0x30f)+(_0x2baa43?_0x33d252(0x22c):''),_0x19b916[_0x33d252(0x1e1)](_0x33d252(0x217),_0x543e7e),_0x19b916['setAttribute'](_0x33d252(0x330),_0x46beef),renderEventsForColumn(_0x19b916,_0x543e7e,_0x46beef),attachLongPressHandler(_0x19b916,_0x139b0e),_0x30ae8['appendChild'](_0x19b916),updateDayStats(_0x543e7e);}_0x53337a[_0x33d252(0x289)](_0x9b14ad,_0x53337a[_0x33d252(0x21a)]),_0xab9ea[_0x33d252(0x289)](_0x30ae8,_0xab9ea['querySelector'](_0x33d252(0x2c1)));}function validateAppointment(_0x1f5e98,_0x52cd01,_0x20afeb,_0x20584d,_0x15bac8){const _0x4d0174=a2_0x42c29c,[_0xa557a3,_0x585e81]=_0x52cd01['split'](':')[_0x4d0174(0x2f5)](Number),[_0x3e9732,_0x5972e2]=_0x20afeb['split'](':')['map'](Number),_0x42430d=_0xa557a3*0x3c+_0x585e81,_0x2958b2=_0x3e9732*0x3c+_0x5972e2,_0x63b81b=String(_0x15bac8);let _0x335af4=![],_0x4e2ba5='';for(let _0x555c6b of sessions){if(_0x555c6b['dateStr']!==_0x1f5e98)continue;if(_0x555c6b[_0x4d0174(0x2a9)]==='cancelled')continue;if(_0x20584d&&String(_0x555c6b['id'])===String(_0x20584d))continue;const [_0xb15b32,_0xd8943b]=_0x555c6b[_0x4d0174(0x267)][_0x4d0174(0x292)](':')[_0x4d0174(0x2f5)](Number),[_0x84e3ed,_0x39cfea]=_0x555c6b['end'][_0x4d0174(0x292)](':')[_0x4d0174(0x2f5)](Number),_0x35d225=_0xb15b32*0x3c+_0xd8943b,_0x16987d=_0x84e3ed*0x3c+_0x39cfea;if(Math['max'](_0x42430d,_0x35d225)<Math['min'](_0x2958b2,_0x16987d)){if(_0x555c6b['clientId']&&String(_0x555c6b[_0x4d0174(0x30e)])===_0x63b81b)return{'valid':![],'msg':_0x4d0174(0x343)+_0x555c6b[_0x4d0174(0x25a)]+_0x4d0174(0x2b1)};_0x335af4=!![],_0x4e2ba5=_0x555c6b['client'];}}if(_0x335af4)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x4e2ba5};return{'valid':!![]};}function updateDateDisplay(){const _0x4c8ac8=a2_0x42c29c,_0x575b14=document['getElementById'](_0x4c8ac8(0x2e5))[_0x4c8ac8(0x265)],_0x31ca7f=document[_0x4c8ac8(0x344)](_0x4c8ac8(0x2f1));if(!_0x575b14){_0x31ca7f[_0x4c8ac8(0x336)]='';return;}const [_0x3956e6,_0x58f5ab,_0x25c38a]=_0x575b14[_0x4c8ac8(0x292)]('-')[_0x4c8ac8(0x2f5)](Number),_0x508a14=new Date(_0x3956e6,_0x58f5ab-0x1,_0x25c38a),_0x3d1620={'weekday':_0x4c8ac8(0x296),'day':_0x4c8ac8(0x33b),'month':_0x4c8ac8(0x296),'year':_0x4c8ac8(0x33b)};let _0x2a3948=_0x508a14[_0x4c8ac8(0x2f3)](_0x4c8ac8(0x2d5),_0x3d1620);_0x2a3948=_0x2a3948[_0x4c8ac8(0x214)](0x0)['toUpperCase']()+_0x2a3948[_0x4c8ac8(0x1e6)](0x1),_0x31ca7f[_0x4c8ac8(0x336)]=_0x2a3948;}function autoSetEndTime(){const _0x50a22c=a2_0x42c29c,_0x5e2956=document[_0x50a22c(0x344)](_0x50a22c(0x326))[_0x50a22c(0x265)];if(!_0x5e2956)return;const [_0x13eef8,_0x5adb8f]=_0x5e2956[_0x50a22c(0x292)](':')[_0x50a22c(0x2f5)](Number);let _0x52220a=_0x13eef8+0x1;if(_0x52220a>0x17)_0x52220a=0x0;const _0x57f771=String(_0x52220a)[_0x50a22c(0x334)](0x2,'0')+':'+String(_0x5adb8f)[_0x50a22c(0x334)](0x2,'0');document['getElementById'](_0x50a22c(0x31e))[_0x50a22c(0x265)]=_0x57f771;}function populateClientSelect(){const _0x4e5440=a2_0x42c29c,_0x36a06b=document[_0x4e5440(0x344)](_0x4e5440(0x297));_0x36a06b[_0x4e5440(0x1e9)]='';if(clients['length']===0x0){const _0x4e4400=document['createElement'](_0x4e5440(0x1cd));_0x4e4400[_0x4e5440(0x1df)]=_0x4e5440(0x2ab),_0x36a06b[_0x4e5440(0x1fa)](_0x4e4400);return;}clients[_0x4e5440(0x245)](_0x3c5666=>{const _0x1e1650=_0x4e5440,_0x32803d=document[_0x1e1650(0x2b8)](_0x1e1650(0x1cd));_0x32803d[_0x1e1650(0x265)]=_0x3c5666['name'],_0x32803d['textContent']=_0x3c5666[_0x1e1650(0x252)],_0x36a06b[_0x1e1650(0x1fa)](_0x32803d);});}function openActionSheet(_0x97928a){const _0x3e919c=a2_0x42c29c,_0x3c994f=document[_0x3e919c(0x344)](_0x3e919c(0x2d8)),_0x8d44d0=document[_0x3e919c(0x344)](_0x3e919c(0x30d)),_0x3b7023=document[_0x3e919c(0x344)]('asTitle'),_0x3a33a2=document[_0x3e919c(0x344)](_0x3e919c(0x259)),_0x392549=document[_0x3e919c(0x344)]('asBtnSeries');_0x8d44d0['classList'][_0x3e919c(0x327)](_0x3e919c(0x244)),_0x3c994f['classList'][_0x3e919c(0x327)](_0x3e919c(0x324));if(_0x97928a===_0x3e919c(0x345))_0x3b7023[_0x3e919c(0x336)]=_0x3e919c(0x2fe),_0x3a33a2[_0x3e919c(0x336)]=_0x3e919c(0x25d),_0x3a33a2[_0x3e919c(0x28c)]=()=>{const _0x1f2980=_0x3e919c;closeActionSheet(),updateSeriesBatch(_0x1f2980(0x218),tempSessionData);},_0x392549[_0x3e919c(0x336)]=_0x3e919c(0x229),_0x392549['onclick']=()=>{const _0x3a9e37=_0x3e919c;closeActionSheet(),updateSeriesBatch(_0x3a9e37(0x306),tempSessionData);};else _0x97928a===_0x3e919c(0x2bb)&&(_0x3b7023[_0x3e919c(0x336)]=_0x3e919c(0x308),_0x3a33a2['textContent']=_0x3e919c(0x25d),_0x3a33a2['className']=_0x3e919c(0x288),_0x3a33a2[_0x3e919c(0x28c)]=()=>{const _0x5eea42=_0x3e919c;closeActionSheet(),commitDelete(_0x5eea42(0x218),sessions[_0x5eea42(0x241)](_0x20dde5=>_0x20dde5['id']===editingId));},_0x392549['textContent']=_0x3e919c(0x229),_0x392549[_0x3e919c(0x304)]=_0x3e919c(0x1c7),_0x392549['onclick']=()=>{const _0x2393ae=_0x3e919c;closeActionSheet(),commitDelete(_0x2393ae(0x306),sessions[_0x2393ae(0x241)](_0x45d505=>_0x45d505['id']===editingId));});}function closeActionSheet(){const _0x188204=a2_0x42c29c;document[_0x188204(0x344)](_0x188204(0x2d8))[_0x188204(0x242)][_0x188204(0x205)](_0x188204(0x324)),document[_0x188204(0x344)](_0x188204(0x30d))[_0x188204(0x242)]['remove']('active');}function openSettings(){const _0x3561e4=a2_0x42c29c;openSheet(_0x3561e4(0x224));}function saveCoachSettings(){const _0x33b8d8=a2_0x42c29c,_0x251a11=document[_0x33b8d8(0x344)](_0x33b8d8(0x1e3))[_0x33b8d8(0x265)];localStorage[_0x33b8d8(0x222)]('uc_settings_cancel_window',_0x251a11),console['log'](_0x33b8d8(0x261),_0x251a11),DataManager[_0x33b8d8(0x27e)](_0x33b8d8(0x2ed),{'settings':{'cancel_window':_0x251a11}})[_0x33b8d8(0x2cb)](_0x1af43b=>{const _0x30de73=_0x33b8d8;console[_0x30de73(0x2cf)](_0x30de73(0x2a2),_0x1af43b),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x4b5af0=a2_0x42c29c,_0x484411=localStorage['getItem'](_0x4b5af0(0x1f4));_0x484411&&(document[_0x4b5af0(0x344)]('settingCancelWindow')[_0x4b5af0(0x265)]=_0x484411);}function openRangesSheet(){const _0x4423a8=a2_0x42c29c;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4423a8(0x276));}function addRange(){const _0x3d2871=a2_0x42c29c,_0x2a9249=document['getElementById'](_0x3d2871(0x301))[_0x3d2871(0x265)],_0x72086e=document[_0x3d2871(0x344)](_0x3d2871(0x2d1))[_0x3d2871(0x265)],_0x5d69ac=document[_0x3d2871(0x344)](_0x3d2871(0x236))[_0x3d2871(0x265)],_0x31c00b=document[_0x3d2871(0x344)](_0x3d2871(0x2db))[_0x3d2871(0x265)];if(!_0x2a9249||!_0x72086e||!_0x5d69ac||!_0x31c00b)return alert(_0x3d2871(0x23f));const _0x33ad3e=_0x2a9249+'T'+_0x72086e,_0x8dd21f=_0x5d69ac+'T'+_0x31c00b;if(_0x33ad3e>=_0x8dd21f)return alert(_0x3d2871(0x263));specialRanges[_0x3d2871(0x273)]({'start':_0x33ad3e,'end':_0x8dd21f}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x3d2871(0x250)](),DataManager['fetchFromServer'](_0x3d2871(0x2ed),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x131d8a){const _0x36b3c2=a2_0x42c29c;specialRanges['splice'](_0x131d8a,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x36b3c2(0x27e)](_0x36b3c2(0x2ed),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x37daeb=a2_0x42c29c;document[_0x37daeb(0x344)](_0x37daeb(0x301))['value']='',document['getElementById'](_0x37daeb(0x2d1))[_0x37daeb(0x265)]='00:00',document[_0x37daeb(0x344)](_0x37daeb(0x236))[_0x37daeb(0x265)]='',document[_0x37daeb(0x344)](_0x37daeb(0x2db))[_0x37daeb(0x265)]=_0x37daeb(0x1cb);}function renderRangesList(){const _0x5b036b=a2_0x42c29c,_0x492d64=document[_0x5b036b(0x344)](_0x5b036b(0x325));_0x492d64[_0x5b036b(0x1e9)]='';if(!specialRanges[_0x5b036b(0x303)]){_0x492d64[_0x5b036b(0x1e9)]=_0x5b036b(0x23c);return;}specialRanges[_0x5b036b(0x245)]((_0x2f99a5,_0x1f58aa)=>{const _0x4071c7=_0x5b036b,_0x53a757=document[_0x4071c7(0x2b8)](_0x4071c7(0x2df));_0x53a757['className']=_0x4071c7(0x1d8);const _0xa03fd2=_0x2403bb=>{const _0x5b120c=_0x4071c7,_0x2a9354=new Date(_0x2403bb);return _0x2a9354[_0x5b120c(0x307)]()+'.'+String(_0x2a9354[_0x5b120c(0x21c)]()+0x1)[_0x5b120c(0x334)](0x2,'0')+'\x20'+String(_0x2a9354['getHours']())[_0x5b120c(0x334)](0x2,'0')+':'+String(_0x2a9354['getMinutes']())[_0x5b120c(0x334)](0x2,'0');};_0x53a757[_0x4071c7(0x1e9)]=_0x4071c7(0x24c)+_0xa03fd2(_0x2f99a5[_0x4071c7(0x267)])+_0x4071c7(0x2b0)+_0xa03fd2(_0x2f99a5['end'])+_0x4071c7(0x2f8)+_0x1f58aa+_0x4071c7(0x31c),_0x492d64['appendChild'](_0x53a757);});}function scrollToToday(){const _0x514a9e=a2_0x42c29c,_0x7ed736=getLocalDateStr(new Date()),_0x44a0b5=document[_0x514a9e(0x344)](_0x514a9e(0x281)+_0x7ed736),_0x139a21=document[_0x514a9e(0x344)](_0x514a9e(0x29e));if(_0x44a0b5&&_0x139a21){const _0x30b8b0=_0x139a21[_0x514a9e(0x1c9)],_0x14a79f=_0x44a0b5[_0x514a9e(0x2e7)],_0x53cfec=_0x44a0b5['offsetWidth'];_0x139a21[_0x514a9e(0x315)]=_0x14a79f-_0x30b8b0/0x2+_0x53cfec/0x2,_0x139a21['scrollTop']=0x9*GRID_H;}}function a2_0x4914(_0x29aff1,_0x33ec59){_0x29aff1=_0x29aff1-0x1c7;const _0x2e0de5=a2_0x1e3c();let _0x4d5330=_0x2e0de5[_0x29aff1];return _0x4d5330;}function onScroll(){const _0x2eab12=a2_0x42c29c,_0x124289=document['getElementById'](_0x2eab12(0x29e)),_0x5337fd=document['querySelectorAll']('.day-col-header');for(let _0x50b9b7 of _0x5337fd)if(_0x50b9b7[_0x2eab12(0x2e7)]>=_0x124289[_0x2eab12(0x315)]){const _0x51a5d0=new Date(_0x50b9b7[_0x2eab12(0x1e8)](_0x2eab12(0x217)));document['getElementById']('headerMonth')[_0x2eab12(0x336)]=_0x51a5d0[_0x2eab12(0x1dc)]('ru',{'month':_0x2eab12(0x296)})[_0x2eab12(0x1fd)]()+'\x20'+_0x51a5d0[_0x2eab12(0x27d)]();break;}}function showToast(_0x3e2660,_0x130a0e=![]){const _0x110c14=a2_0x42c29c,_0x463f5a=document[_0x110c14(0x344)]('toast');_0x463f5a[_0x110c14(0x304)]=_0x110c14(0x238)+(_0x130a0e?_0x110c14(0x33f):''),document[_0x110c14(0x344)](_0x110c14(0x2f6))[_0x110c14(0x336)]=_0x130a0e?'–£—Å–ø–µ—à–Ω–æ':_0x110c14(0x1f2),document[_0x110c14(0x344)](_0x110c14(0x29f))[_0x110c14(0x336)]=_0x3e2660,_0x463f5a['classList'][_0x110c14(0x327)](_0x110c14(0x26e)),setTimeout(()=>{const _0x5d5012=_0x110c14;_0x463f5a[_0x5d5012(0x242)][_0x5d5012(0x205)](_0x5d5012(0x26e));},0xbb8);}function openDayOptions(_0x24e6d6,_0x53429f){const _0x3200b7=a2_0x42c29c;selectedDayForOptions=_0x24e6d6,document[_0x3200b7(0x344)](_0x3200b7(0x28a))[_0x3200b7(0x336)]=_0x53429f,openSheet(_0x3200b7(0x2e1));}function toggleDayOff(){const _0x544dc6=a2_0x42c29c;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x544dc6(0x30c),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x544dc6(0x27e)](_0x544dc6(0x2ed),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4c9b32=a2_0x42c29c;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x4c9b32(0x2ed),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x44bfd8){const _0x60f8d=a2_0x42c29c;document[_0x60f8d(0x344)](_0x60f8d(0x313))[_0x60f8d(0x242)]['add'](_0x60f8d(0x244)),document[_0x60f8d(0x344)](_0x44bfd8)[_0x60f8d(0x242)]['add'](_0x60f8d(0x324));}function closeAllSheets(){const _0x40ab89=a2_0x42c29c;document[_0x40ab89(0x344)](_0x40ab89(0x313))['classList'][_0x40ab89(0x205)](_0x40ab89(0x244)),document['querySelectorAll']('.sheet')[_0x40ab89(0x245)](_0xb10df3=>_0xb10df3[_0x40ab89(0x242)][_0x40ab89(0x205)](_0x40ab89(0x324)));}function openPatternEditor(){const _0x181632=a2_0x42c29c;closeAllSheets(),document[_0x181632(0x344)](_0x181632(0x228))[_0x181632(0x242)][_0x181632(0x327)](_0x181632(0x324)),renderPatternEditor();}function closePatternEditor(){const _0x5e0bf1=a2_0x42c29c;document[_0x5e0bf1(0x344)](_0x5e0bf1(0x228))['classList'][_0x5e0bf1(0x205)]('open');}function savePattern(){const _0x38b6a1=a2_0x42c29c;document[_0x38b6a1(0x344)]('patternEditor')[_0x38b6a1(0x242)][_0x38b6a1(0x205)](_0x38b6a1(0x324)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x38b6a1(0x27e)](_0x38b6a1(0x2ed),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x328bb3=a2_0x42c29c,_0x15588f=document[_0x328bb3(0x344)]('peGrid');_0x15588f[_0x328bb3(0x1e9)]='';const _0x43d554=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4c6dec=document[_0x328bb3(0x2b8)](_0x328bb3(0x2df));_0x4c6dec[_0x328bb3(0x304)]=_0x328bb3(0x2ac),_0x15588f[_0x328bb3(0x1fa)](_0x4c6dec),_0x43d554[_0x328bb3(0x245)]((_0x249663,_0x5b4f42)=>{const _0x5607d7=_0x328bb3,_0x1fbe37=document['createElement'](_0x5607d7(0x2df));_0x1fbe37[_0x5607d7(0x304)]=_0x5607d7(0x2eb),_0x1fbe37['innerHTML']=_0x249663+_0x5607d7(0x2f7),_0x1fbe37[_0x5607d7(0x28c)]=()=>toggleColPattern(_0x5b4f42),_0x15588f[_0x5607d7(0x1fa)](_0x1fbe37);});for(let _0x4a6cc7=0x0;_0x4a6cc7<0x18;_0x4a6cc7++){const _0x195615=document['createElement'](_0x328bb3(0x2df));_0x195615['className']='pe-time-label',_0x195615[_0x328bb3(0x1e9)]=_0x328bb3(0x243)+String(_0x4a6cc7)['padStart'](0x2,'0')+_0x328bb3(0x27c),_0x195615['onclick']=()=>toggleRowPattern(_0x4a6cc7),_0x15588f['appendChild'](_0x195615);for(let _0xc2ffb8=0x0;_0xc2ffb8<0x7;_0xc2ffb8++){const _0x5ed3f9=document[_0x328bb3(0x2b8)](_0x328bb3(0x2df)),_0x3f5646=(availabilityPattern[_0xc2ffb8]||[])[_0x328bb3(0x298)](_0x4a6cc7),_0x174dff=!_0x3f5646;_0x5ed3f9['className']='pe-cell\x20'+(_0x174dff?'active':''),_0x5ed3f9[_0x328bb3(0x28c)]=()=>toggleSinglePattern(_0xc2ffb8,_0x4a6cc7),_0x15588f['appendChild'](_0x5ed3f9);}}}function toggleSinglePattern(_0x1215e9,_0x30e15b){const _0x483b4a=a2_0x42c29c;if(!availabilityPattern[_0x1215e9])availabilityPattern[_0x1215e9]=[];const _0x4842bc=availabilityPattern[_0x1215e9],_0x59fe76=_0x4842bc['indexOf'](_0x30e15b);_0x59fe76===-0x1?_0x4842bc[_0x483b4a(0x273)](_0x30e15b):_0x4842bc[_0x483b4a(0x225)](_0x59fe76,0x1),renderPatternEditor();}function toggleColPattern(_0x356808){const _0x396a9f=a2_0x42c29c;if(!availabilityPattern[_0x356808])availabilityPattern[_0x356808]=[];const _0x3ff3d6=availabilityPattern[_0x356808];_0x3ff3d6[_0x396a9f(0x303)]===0x0?availabilityPattern[_0x356808]=Array[_0x396a9f(0x2ef)]({'length':0x18},(_0x497c2a,_0x45a771)=>_0x45a771):availabilityPattern[_0x356808]=[],renderPatternEditor();}function toggleRowPattern(_0x5e39a5){const _0x42a2d3=a2_0x42c29c;let _0x56c353=!![];for(let _0x677c3=0x0;_0x677c3<0x7;_0x677c3++){if((availabilityPattern[_0x677c3]||[])[_0x42a2d3(0x298)](_0x5e39a5)){_0x56c353=![];break;}}for(let _0x152478=0x0;_0x152478<0x7;_0x152478++){if(!availabilityPattern[_0x152478])availabilityPattern[_0x152478]=[];const _0x2349b1=availabilityPattern[_0x152478][_0x42a2d3(0x332)](_0x5e39a5);if(_0x56c353){if(_0x2349b1===-0x1)availabilityPattern[_0x152478][_0x42a2d3(0x273)](_0x5e39a5);}else{if(_0x2349b1!==-0x1)availabilityPattern[_0x152478][_0x42a2d3(0x225)](_0x2349b1,0x1);}}renderPatternEditor();}function renderPCol(_0x58e88e,_0x3d4cb2){const _0x3f7f57=a2_0x42c29c;_0x58e88e[_0x3f7f57(0x1e9)]='';const _0x2f348b=Math['round'](_0x58e88e['offsetLeft']);(availabilityPattern[_0x3d4cb2]||[])[_0x3f7f57(0x245)](_0x46c7ca=>{const _0x29a77d=_0x3f7f57,_0x3b8ed2=document[_0x29a77d(0x2b8)]('div');_0x3b8ed2[_0x29a77d(0x304)]=_0x29a77d(0x2cd);const _0x8a8302=_0x46c7ca*GRID_H;_0x3b8ed2[_0x29a77d(0x295)][_0x29a77d(0x262)]=_0x8a8302+'px',_0x3b8ed2[_0x29a77d(0x295)][_0x29a77d(0x240)]='-'+_0x2f348b+_0x29a77d(0x300)+_0x8a8302+'px',_0x3b8ed2[_0x29a77d(0x28c)]=_0x57aa41=>{_0x57aa41['stopPropagation'](),toggleSinglePattern(_0x3d4cb2,_0x46c7ca);},_0x58e88e['appendChild'](_0x3b8ed2);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x519235=a2_0x42c29c,_0xd197e0=new Date(),_0x1bf3e5=document[_0x519235(0x344)](_0x519235(0x26c)),_0x1141ee=document[_0x519235(0x344)](_0x519235(0x290)),_0x27ae3d=(_0xd197e0[_0x519235(0x258)]()*0x3c+_0xd197e0[_0x519235(0x24f)]())/0x3c*GRID_H;_0x1bf3e5[_0x519235(0x295)]['top']=_0x27ae3d+'px',_0x1bf3e5[_0x519235(0x295)][_0x519235(0x1e2)]=_0x519235(0x284),_0x1141ee[_0x519235(0x336)]=String(_0xd197e0[_0x519235(0x258)]())['padStart'](0x2,'0')+':'+String(_0xd197e0[_0x519235(0x24f)]())[_0x519235(0x334)](0x2,'0'),_0x1141ee[_0x519235(0x295)][_0x519235(0x1e2)]=_0x519235(0x284),_0x1141ee[_0x519235(0x295)]['top']=_0x27ae3d+'px';}document[a2_0x42c29c(0x286)](a2_0x42c29c(0x2fc),init);function openDayOptions(_0x2a23ce){const _0x33f8de=a2_0x42c29c;selectedDayForOptions=_0x2a23ce;const _0x1f6cc8=new Date(_0x2a23ce),_0xf7701b={'weekday':_0x33f8de(0x296),'day':_0x33f8de(0x33b),'month':'long','year':'numeric'},_0x3534c9=_0x1f6cc8['toLocaleDateString'](_0x33f8de(0x2d5),_0xf7701b);document['getElementById'](_0x33f8de(0x2b4))[_0x33f8de(0x336)]=_0x3534c9[_0x33f8de(0x214)](0x0)['toUpperCase']()+_0x3534c9[_0x33f8de(0x1e6)](0x1);let _0xeb0a0=_0x1f6cc8[_0x33f8de(0x337)]()-0x1;if(_0xeb0a0===-0x1)_0xeb0a0=0x6;const _0x5bd141=availabilityPattern[_0xeb0a0]||[],_0xb7643c=0x18-_0x5bd141[_0x33f8de(0x303)],_0x4ab25e=_0xb7643c*0x3c,_0xf1f8b7=sessions['filter'](_0x48755a=>_0x48755a['dateStr']===_0x2a23ce&&_0x48755a[_0x33f8de(0x2a9)]!==_0x33f8de(0x1e7));let _0x123ca=_0xf1f8b7['map'](_0x545140=>{const _0x5909c1=_0x33f8de,[_0x349c9e,_0x322e53]=_0x545140[_0x5909c1(0x267)][_0x5909c1(0x292)](':')[_0x5909c1(0x2f5)](Number),[_0x2f3655,_0x4b6c84]=_0x545140[_0x5909c1(0x25f)][_0x5909c1(0x292)](':')[_0x5909c1(0x2f5)](Number);return[_0x349c9e*0x3c+_0x322e53,_0x2f3655*0x3c+_0x4b6c84];});_0x123ca['sort']((_0x53d07d,_0x15d9ec)=>_0x53d07d[0x0]-_0x15d9ec[0x0]);let _0x10492e=[];if(_0x123ca[_0x33f8de(0x303)]>0x0){let _0x363c4a=_0x123ca[0x0];for(let _0x5a58ef=0x1;_0x5a58ef<_0x123ca[_0x33f8de(0x303)];_0x5a58ef++){_0x123ca[_0x5a58ef][0x0]<_0x363c4a[0x1]?_0x363c4a[0x1]=Math[_0x33f8de(0x22d)](_0x363c4a[0x1],_0x123ca[_0x5a58ef][0x1]):(_0x10492e[_0x33f8de(0x273)](_0x363c4a),_0x363c4a=_0x123ca[_0x5a58ef]);}_0x10492e[_0x33f8de(0x273)](_0x363c4a);}let _0x5c14ff=0x0;_0x10492e['forEach'](_0xc2e2af=>_0x5c14ff+=_0xc2e2af[0x1]-_0xc2e2af[0x0]),document[_0x33f8de(0x344)](_0x33f8de(0x279))[_0x33f8de(0x336)]=formatMinsToHrs(_0x4ab25e),document['getElementById'](_0x33f8de(0x2bd))[_0x33f8de(0x336)]=formatMinsToHrs(_0x5c14ff);const _0x91a979=_0x4ab25e>0x0?Math[_0x33f8de(0x1f1)](_0x5c14ff/_0x4ab25e*0x64):0x0,_0x598644=document['getElementById'](_0x33f8de(0x2c0));_0x598644[_0x33f8de(0x336)]=_0x91a979+'%';const _0x381a67=document[_0x33f8de(0x344)](_0x33f8de(0x1eb));if(_0x91a979>0x64)_0x598644[_0x33f8de(0x295)][_0x33f8de(0x272)]=_0x33f8de(0x1da),_0x381a67[_0x33f8de(0x295)][_0x33f8de(0x1ff)]=_0x33f8de(0x202);else _0x91a979>0x50?(_0x598644['style'][_0x33f8de(0x272)]=_0x33f8de(0x2af),_0x381a67[_0x33f8de(0x295)]['borderColor']=_0x33f8de(0x210)):(_0x598644[_0x33f8de(0x295)][_0x33f8de(0x272)]=_0x33f8de(0x2fa),_0x381a67['style'][_0x33f8de(0x1ff)]=_0x33f8de(0x2a3));const _0x605080=document[_0x33f8de(0x344)](_0x33f8de(0x323));_0x605080['innerHTML']='';_0xf1f8b7[_0x33f8de(0x303)]===0x0?_0x605080[_0x33f8de(0x1e9)]=_0x33f8de(0x2f0):(_0xf1f8b7['sort']((_0x33c933,_0x5c3be9)=>_0x33c933[_0x33f8de(0x267)][_0x33f8de(0x31d)](_0x5c3be9[_0x33f8de(0x267)])),_0xf1f8b7['forEach'](_0x3f194a=>{const _0x515c6b=_0x33f8de,_0xd5a67b=clients['find'](_0x1ded1e=>_0x1ded1e['name']===_0x3f194a[_0x515c6b(0x25a)]),_0x21ad3e=_0xd5a67b?_0xd5a67b[_0x515c6b(0x272)]:_0x515c6b(0x1cf),_0x131f50=_0x3f194a[_0x515c6b(0x2a9)]===_0x515c6b(0x221),_0x290d51=_0x131f50?_0x515c6b(0x2d3):'',_0x508fca=document[_0x515c6b(0x2b8)](_0x515c6b(0x2df));_0x508fca['className']='de-item',_0x508fca['style'][_0x515c6b(0x2d7)]=_0x21ad3e,_0x508fca[_0x515c6b(0x1e9)]=_0x515c6b(0x26b)+_0x3f194a['start']+_0x515c6b(0x234)+_0x3f194a['end']+_0x515c6b(0x2a5)+_0x3f194a[_0x515c6b(0x25a)]+_0x515c6b(0x1c8)+_0x290d51+_0x515c6b(0x1de),_0x605080['appendChild'](_0x508fca);}));const _0x3b61f1=document['getElementById'](_0x33f8de(0x26d)),_0x113cf0=dateExceptions[_0x2a23ce]===_0x33f8de(0x30c);_0x113cf0?(_0x3b61f1[_0x33f8de(0x336)]=_0x33f8de(0x201),_0x3b61f1[_0x33f8de(0x304)]=_0x33f8de(0x1ed),_0x3b61f1[_0x33f8de(0x295)]['color']=_0x33f8de(0x2fa),_0x3b61f1[_0x33f8de(0x295)][_0x33f8de(0x2c3)]=_0x33f8de(0x31b)):(_0x3b61f1[_0x33f8de(0x336)]=_0x33f8de(0x253),_0x3b61f1['className']=_0x33f8de(0x342),_0x3b61f1[_0x33f8de(0x295)][_0x33f8de(0x272)]='var(--acc-red)',_0x3b61f1['style'][_0x33f8de(0x2c3)]=_0x33f8de(0x31a)),openSheet(_0x33f8de(0x2e1));}let currentAnPeriod=a2_0x42c29c(0x2a8);function openAnalytics(){const _0x1878f4=a2_0x42c29c,_0x53ed1b=document['querySelector'](_0x1878f4(0x25c));setAnalyticsPeriod(_0x1878f4(0x2a8),_0x53ed1b),closeAllSheets(),openSheet(_0x1878f4(0x32b));}function setAnalyticsPeriod(_0x2e06ea,_0x3f711b){const _0x3cebe1=a2_0x42c29c;currentAnPeriod=_0x2e06ea,document['querySelectorAll']('.period-switch\x20.p-btn')[_0x3cebe1(0x245)](_0x539428=>_0x539428[_0x3cebe1(0x242)][_0x3cebe1(0x205)](_0x3cebe1(0x244)));if(_0x3f711b)_0x3f711b[_0x3cebe1(0x242)]['add']('active');const _0x2e9230=document['getElementById'](_0x3cebe1(0x23a));_0x2e9230[_0x3cebe1(0x295)][_0x3cebe1(0x1e2)]=_0x2e06ea==='custom'?'flex':_0x3cebe1(0x256);const _0x703512=new Date();let _0xd03ce6=new Date(),_0xf2ec69=new Date();if(_0x2e06ea==='week')_0xd03ce6=getStartOfWeek(_0x703512),_0xf2ec69=new Date(_0xd03ce6),_0xf2ec69[_0x3cebe1(0x28d)](_0xf2ec69[_0x3cebe1(0x307)]()+0x6);else{if(_0x2e06ea==='month')_0xd03ce6=new Date(_0x703512[_0x3cebe1(0x27d)](),_0x703512[_0x3cebe1(0x21c)](),0x1),_0xf2ec69=new Date(_0x703512[_0x3cebe1(0x27d)](),_0x703512[_0x3cebe1(0x21c)]()+0x1,0x0);else{!document['getElementById']('anStart')[_0x3cebe1(0x265)]&&(document[_0x3cebe1(0x344)](_0x3cebe1(0x2c4))[_0x3cebe1(0x265)]=getLocalDateStr(_0x703512),document['getElementById'](_0x3cebe1(0x2b2))[_0x3cebe1(0x265)]=getLocalDateStr(_0x703512));refreshAnalytics();return;}}document[_0x3cebe1(0x344)](_0x3cebe1(0x2c4))[_0x3cebe1(0x265)]=getLocalDateStr(_0xd03ce6),document['getElementById'](_0x3cebe1(0x2b2))[_0x3cebe1(0x265)]=getLocalDateStr(_0xf2ec69),refreshAnalytics();}function refreshAnalytics(){const _0x44175b=a2_0x42c29c,_0x549a00=document['getElementById'](_0x44175b(0x2c4))[_0x44175b(0x265)],_0x56f6c2=document[_0x44175b(0x344)](_0x44175b(0x2b2))['value'];if(!_0x549a00||!_0x56f6c2)return;const _0x2b9b2f=sessions[_0x44175b(0x29a)](_0x461635=>_0x461635[_0x44175b(0x28f)]>=_0x549a00&&_0x461635[_0x44175b(0x28f)]<=_0x56f6c2&&_0x461635[_0x44175b(0x2a9)]!==_0x44175b(0x1e7)),_0x57dfe1=_0x2b9b2f['length'],_0x474af1=_0x2b9b2f[_0x44175b(0x29a)](_0x52df98=>_0x52df98[_0x44175b(0x2a9)]===_0x44175b(0x221))['length'],_0x466edc=_0x57dfe1>0x0?Math[_0x44175b(0x1f1)](_0x474af1/_0x57dfe1*0x64):0x0;document[_0x44175b(0x344)](_0x44175b(0x2a7))[_0x44175b(0x336)]=_0x466edc+'%',document[_0x44175b(0x344)](_0x44175b(0x321))[_0x44175b(0x336)]=_0x474af1+_0x44175b(0x302)+_0x57dfe1+_0x44175b(0x20e);const _0x2934a5=document['getElementById'](_0x44175b(0x21e)),_0x208cd4=0x2*Math['PI']*0x23,_0x535125=_0x208cd4-_0x466edc/0x64*_0x208cd4;_0x2934a5['style']['strokeDashoffset']=_0x535125;const _0x11a00c={};_0x2b9b2f[_0x44175b(0x245)](_0xe05a48=>{const _0x2d701f=_0x44175b;if(!_0x11a00c[_0xe05a48[_0x2d701f(0x25a)]]){const _0x32ed2e=clients[_0x2d701f(0x241)](_0x15e68c=>_0x15e68c[_0x2d701f(0x252)]===_0xe05a48[_0x2d701f(0x25a)]);_0x11a00c[_0xe05a48['client']]={'total':0x0,'done':0x0,'color':_0x32ed2e?_0x32ed2e['color']:_0x2d701f(0x1cf)};}_0x11a00c[_0xe05a48['client']][_0x2d701f(0x2a4)]++;if(_0xe05a48['status']===_0x2d701f(0x221))_0x11a00c[_0xe05a48[_0x2d701f(0x25a)]][_0x2d701f(0x2de)]++;});const _0x5ee2e3=document[_0x44175b(0x344)](_0x44175b(0x260));_0x5ee2e3[_0x44175b(0x1e9)]='';const _0x32a1a8=Object[_0x44175b(0x1f5)](_0x11a00c)['sort']((_0x113d3c,_0x579110)=>_0x579110[0x1]['total']-_0x113d3c[0x1][_0x44175b(0x2a4)]);if(_0x32a1a8[_0x44175b(0x303)]===0x0){_0x5ee2e3['innerHTML']='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x32a1a8['forEach'](([_0x36797e,_0x4ea019])=>{const _0x5a9efa=_0x44175b,_0x1548cc=Math[_0x5a9efa(0x1f1)](_0x4ea019[_0x5a9efa(0x2de)]/_0x4ea019[_0x5a9efa(0x2a4)]*0x64),_0x5a27b0=document['createElement']('div');_0x5a27b0[_0x5a9efa(0x304)]=_0x5a9efa(0x1ee),_0x5a27b0[_0x5a9efa(0x295)][_0x5a9efa(0x2d7)]=_0x4ea019[_0x5a9efa(0x272)],_0x5a27b0[_0x5a9efa(0x1e9)]=_0x5a9efa(0x26a)+_0x36797e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x4ea019[_0x5a9efa(0x2de)]+'</span>\x20/\x20'+_0x4ea019[_0x5a9efa(0x2a4)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x1548cc+_0x5a9efa(0x26f),_0x5ee2e3[_0x5a9efa(0x1fa)](_0x5a27b0);});}function formatMinsToHrs(_0x5c8448){const _0x58fd35=a2_0x42c29c;if(_0x5c8448===0x0)return'0';const _0x1765ec=Math[_0x58fd35(0x1db)](_0x5c8448/0x3c),_0x26b572=_0x5c8448%0x3c;if(_0x26b572===0x0)return _0x1765ec+'—á';return _0x1765ec+'—á\x20'+_0x26b572+'–º';}