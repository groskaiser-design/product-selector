const a2_0x570647=a2_0x7300;(function(_0x6b2891,_0x173bfb){const _0x3c2dc0=a2_0x7300,_0x3f9b49=_0x6b2891();while(!![]){try{const _0xca5332=parseInt(_0x3c2dc0(0x1a2))/0x1+parseInt(_0x3c2dc0(0x157))/0x2+-parseInt(_0x3c2dc0(0x1e4))/0x3*(-parseInt(_0x3c2dc0(0x13d))/0x4)+-parseInt(_0x3c2dc0(0x11d))/0x5*(parseInt(_0x3c2dc0(0x23e))/0x6)+-parseInt(_0x3c2dc0(0x1b5))/0x7+parseInt(_0x3c2dc0(0x1f3))/0x8+-parseInt(_0x3c2dc0(0x161))/0x9;if(_0xca5332===_0x173bfb)break;else _0x3f9b49['push'](_0x3f9b49['shift']());}catch(_0x2c3eda){_0x3f9b49['push'](_0x3f9b49['shift']());}}}(a2_0x42be,0xb53c3),function initTMA(){const _0x3ec498=a2_0x7300,_0x1bd633=(function(){let _0xaaff40=!![];return function(_0x244837,_0x16ea6d){const _0xec704e=_0xaaff40?function(){if(_0x16ea6d){const _0x151f1a=_0x16ea6d['apply'](_0x244837,arguments);return _0x16ea6d=null,_0x151f1a;}}:function(){};return _0xaaff40=![],_0xec704e;};}()),_0x4a0e47=_0x1bd633(this,function(){const _0x369d9a=a2_0x7300;return _0x4a0e47[_0x369d9a(0x128)]()['search'](_0x369d9a(0x1eb))[_0x369d9a(0x128)]()['constructor'](_0x4a0e47)[_0x369d9a(0xfb)](_0x369d9a(0x1eb));});_0x4a0e47();try{const _0x876dd2=window[_0x3ec498(0x1a3)]?.[_0x3ec498(0x20f)];if(!_0x876dd2)return;_0x876dd2[_0x3ec498(0x188)](),_0x876dd2[_0x3ec498(0x21a)]();try{_0x876dd2[_0x3ec498(0x10e)](_0x3ec498(0xe7)),_0x876dd2[_0x3ec498(0xfc)]&&_0x876dd2[_0x3ec498(0xfc)](_0x3ec498(0xe7));}catch(_0x25b44f){console[_0x3ec498(0x218)]('Error\x20setting\x20color:',_0x25b44f);}try{_0x876dd2[_0x3ec498(0x242)]&&(_0x876dd2[_0x3ec498(0x242)][_0x3ec498(0xf1)](),_0x876dd2[_0x3ec498(0x242)]['offClick'](),_0x876dd2[_0x3ec498(0x242)]['onClick'](function(){const _0x30f624=_0x3ec498;window[_0x30f624(0xf8)]['href']=_0x30f624(0xf3);}));}catch(_0x2141a2){console[_0x3ec498(0x218)](_0x3ec498(0x228),_0x2141a2);}try{if(_0x876dd2[_0x3ec498(0x12c)])_0x876dd2[_0x3ec498(0x12c)]();}catch(_0x3f035b){}}catch(_0x1496cb){console[_0x3ec498(0x224)]('Critical\x20TMA\x20Error:',_0x1496cb);}}());function isAdmin(){const _0x53d566=a2_0x7300;try{const _0x3e2b03=Number(window[_0x53d566(0x1a3)]?.[_0x53d566(0x20f)]?.[_0x53d566(0x1fd)]?.['user']?.['id']);return _0x3e2b03===0xbaf7174;}catch(_0x49aac0){return![];}}const APP_VERSION=a2_0x570647(0x116),API_URL=a2_0x570647(0x11f),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x570647(0x1e1),KEY_SETTINGS=a2_0x570647(0x11c);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x4aa1cf=a2_0x570647;return window[_0x4aa1cf(0x1a3)]?.[_0x4aa1cf(0x20f)]?.[_0x4aa1cf(0x1fd)]?.[_0x4aa1cf(0x19c)]?.['id']||_0x4aa1cf(0x172);},'saveLocally'(){const _0xc049d6=a2_0x570647;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0xc049d6(0x197)](clients)),localStorage[_0xc049d6(0x24e)](KEY_SESSIONS,JSON[_0xc049d6(0x197)](sessions)),localStorage[_0xc049d6(0x24e)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x563f45){console['error'](_0xc049d6(0x16e),_0x563f45);}},'loadLocal'(){const _0x58efcb=a2_0x570647;try{const _0xaf0e02=localStorage[_0x58efcb(0x10d)](KEY_CLIENTS);if(_0xaf0e02)clients=JSON[_0x58efcb(0x221)](_0xaf0e02);const _0x536ab0=localStorage[_0x58efcb(0x10d)](KEY_SESSIONS);if(_0x536ab0)sessions=JSON[_0x58efcb(0x221)](_0x536ab0);const _0x3dd8ae=localStorage[_0x58efcb(0x10d)](KEY_SETTINGS);if(_0x3dd8ae){const _0x464551=JSON[_0x58efcb(0x221)](_0x3dd8ae);if(_0x464551[_0x58efcb(0x23f)])availabilityPattern=_0x464551['pattern'];if(_0x464551[_0x58efcb(0x1a8)])dateExceptions=_0x464551[_0x58efcb(0x1a8)];if(_0x464551[_0x58efcb(0x243)])specialRanges=_0x464551['ranges'];}else{for(let _0xb8516d=0x0;_0xb8516d<0x7;_0xb8516d++)availabilityPattern[_0xb8516d]=Array[_0x58efcb(0x215)]({'length':0xc},(_0x3b3db3,_0x310a7c)=>_0x310a7c+0x9);}}catch(_0x2f0ab7){console[_0x58efcb(0x224)](_0x58efcb(0x220),_0x2f0ab7);}},async 'fetchFromServer'(_0x24b03c,_0x23049a={}){const _0x39944e=a2_0x570647,_0x3b6776=window[_0x39944e(0x1a3)]?.[_0x39944e(0x20f)],_0x30f4d0={'action':_0x24b03c,'init_data':_0x3b6776?.['initData']||'',..._0x23049a};try{const _0x37501b=await fetch(API_URL,{'method':_0x39944e(0xf0),'headers':{'Content-Type':'text/plain;charset=UTF-8'},'body':JSON['stringify'](_0x30f4d0)}),_0x956e99=await _0x37501b['json']();if(!_0x956e99['ok'])throw new Error(_0x956e99['error']||_0x39944e(0x11a));return _0x956e99[_0x39944e(0x1c9)];}catch(_0x28e19){console['error']('[API\x20'+_0x24b03c+_0x39944e(0x14f),_0x28e19);throw _0x28e19;}},async 'syncLoad'(){const _0x296217=a2_0x570647,_0x5ed905=new Date(),_0x56a443=_0x5ed905['getFullYear']()+'-'+String(_0x5ed905[_0x296217(0x100)]()+0x1)[_0x296217(0x192)](0x2,'0'),_0x30c742=new Date(_0x5ed905);_0x30c742[_0x296217(0x20d)](_0x5ed905[_0x296217(0x100)]()+0x1);const _0x16be12=_0x30c742['getFullYear']()+'-'+String(_0x30c742['getMonth']()+0x1)[_0x296217(0x192)](0x2,'0'),_0x1d4950=Date['now']();console[_0x296217(0x218)](_0x296217(0x178)+_0x56a443+',\x20'+_0x16be12+_0x296217(0x164));try{const [_0x46d517,_0x814a37]=await Promise[_0x296217(0x1ea)]([this['fetchFromServer'](_0x296217(0x1be),{'month_str':_0x56a443}),this['fetchFromServer'](_0x296217(0x1be),{'month_str':_0x16be12})]);if(lastUserActionTime>_0x1d4950)return console['warn'](_0x296217(0xf2)),![];return this['mergeServerData'](_0x46d517,_0x56a443),this[_0x296217(0x238)](_0x814a37,_0x16be12),this[_0x296217(0x142)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x48fee2){console[_0x296217(0x224)](_0x48fee2);throw _0x48fee2;}},'mergeServerData'(_0x2143af,_0x4d0d7f){const _0x293d82=a2_0x570647;if(!_0x2143af)return;_0x2143af[_0x293d82(0x150)]&&Array['isArray'](_0x2143af[_0x293d82(0x150)])&&(clients=_0x2143af['clients']);if(_0x2143af['settings']){if(_0x2143af['settings'][_0x293d82(0x23f)])availabilityPattern=_0x2143af['settings'][_0x293d82(0x23f)];if(_0x2143af['settings'][_0x293d82(0x1a8)])dateExceptions=_0x2143af[_0x293d82(0x247)][_0x293d82(0x1a8)];if(_0x2143af[_0x293d82(0x247)][_0x293d82(0x243)])specialRanges=_0x2143af[_0x293d82(0x247)][_0x293d82(0x243)];if(_0x2143af[_0x293d82(0x247)][_0x293d82(0x15a)]){localStorage[_0x293d82(0x24e)]('uc_settings_cancel_window',_0x2143af[_0x293d82(0x247)][_0x293d82(0x15a)]);const _0x7f86a9=document[_0x293d82(0x1d2)](_0x293d82(0x22a));if(_0x7f86a9)_0x7f86a9[_0x293d82(0x1e0)]=_0x2143af['settings']['cancel_window'];}}_0x2143af[_0x293d82(0x177)]&&(sessions=sessions[_0x293d82(0x1ec)](_0x4057a8=>!_0x4057a8[_0x293d82(0x1f8)][_0x293d82(0x1b1)](_0x4d0d7f)),Object[_0x293d82(0x246)](_0x2143af['calendar'])[_0x293d82(0x251)](_0x34767d=>{const _0x1176c2=_0x293d82,_0x463828=_0x2143af[_0x1176c2(0x177)][_0x34767d];_0x463828['forEach'](_0x421c39=>{const _0x5ac9c1=_0x1176c2,_0x25e2eb=clients[_0x5ac9c1(0x239)](_0xe1c87d=>String(_0xe1c87d['id'])===String(_0x421c39['c']));sessions[_0x5ac9c1(0x198)]({'id':_0x421c39['i'],'clientId':_0x421c39['c'],'client':_0x25e2eb?_0x25e2eb[_0x5ac9c1(0x11b)]:_0x5ac9c1(0x1b8),'dateStr':_0x4d0d7f+'-'+_0x34767d['padStart'](0x2,'0'),'start':_0x421c39['s'],'end':_0x421c39['e'],'status':_0x421c39['st']||_0x5ac9c1(0x1f7),'note':_0x421c39['n']||'','seriesId':_0x421c39[_0x5ac9c1(0x1d6)]||null});});}));},async 'syncBatch'(_0x17926c){const _0x29f022=a2_0x570647,_0xb42f98=[...new Set(_0x17926c)],_0x313390=_0xb42f98['map'](_0x1ae480=>{const _0x15ff90=a2_0x7300,_0x5748d7=sessions[_0x15ff90(0x1ec)](_0x117542=>_0x117542['dateStr']===_0x1ae480&&_0x117542[_0x15ff90(0x113)]!==_0x15ff90(0x141)),_0x6197ff=_0x5748d7[_0x15ff90(0x234)](_0x19cc18=>({'i':_0x19cc18['id'],'c':_0x19cc18[_0x15ff90(0x151)],'s':_0x19cc18[_0x15ff90(0x189)],'e':_0x19cc18[_0x15ff90(0x1bf)],'st':_0x19cc18[_0x15ff90(0x113)],'n':_0x19cc18['note'],'sid':_0x19cc18[_0x15ff90(0x19a)]}));return{'date':_0x1ae480,'day_data':_0x6197ff};});if(_0x313390[_0x29f022(0x17f)]===0x0)return;console[_0x29f022(0x218)](_0x29f022(0x193)+_0x313390[_0x29f022(0x17f)]+_0x29f022(0x119)),await this['fetchFromServer'](_0x29f022(0x236),{'changes':_0x313390});}};async function init(){const _0x78d95=a2_0x570647;DataManager[_0x78d95(0x20c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x78d95(0x1d2)]('matrixViewport')[_0x78d95(0x1cd)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x78d95(0x22c)]()[_0x78d95(0x1b3)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x78d95(0x16c)](_0xfbdec1=>{const _0x339180=_0x78d95;showToast(_0x339180(0x15e),![]);});}function generateId(){const _0x3b8c65=a2_0x570647;return Date['now']()[_0x3b8c65(0x128)](0x24)+Math[_0x3b8c65(0x24d)]()[_0x3b8c65(0x128)](0x24)[_0x3b8c65(0x184)](0x2,0x5);}function toggleSeriesInput(){const _0x266a13=a2_0x570647,_0x1a31f5=document[_0x266a13(0x1d2)](_0x266a13(0x21e))[_0x266a13(0x1b4)],_0x368523=document[_0x266a13(0x1d2)](_0x266a13(0xf9));_0x368523[_0x266a13(0x132)][_0x266a13(0x19e)]=_0x1a31f5?_0x266a13(0x14a):_0x266a13(0x1f9);const _0x4e9b63=document[_0x266a13(0x1d2)](_0x266a13(0x104));_0x4e9b63[_0x266a13(0x132)]['borderRadius']=_0x1a31f5?'10px\x2010px\x200\x200':'10px';}function openAddSession(_0x32cf4d){const _0x1b8805=a2_0x570647;editingId=null,populateClientSelect(),document[_0x1b8805(0x1d2)](_0x1b8805(0x1db))[_0x1b8805(0x206)]='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x1b8805(0x158))[_0x1b8805(0x132)][_0x1b8805(0x19e)]=_0x1b8805(0x1f9),document[_0x1b8805(0x1d2)](_0x1b8805(0x216))[_0x1b8805(0x132)]['display']='none';const _0x22ec12=document['getElementById'](_0x1b8805(0x104)),_0x31b430=document[_0x1b8805(0x1d2)]('seriesCountContainer');_0x22ec12[_0x1b8805(0x132)]['display']=_0x1b8805(0x1ba),_0x22ec12[_0x1b8805(0x132)][_0x1b8805(0x134)]=_0x1b8805(0x1a5),document['getElementById']('inpRecurring')[_0x1b8805(0x1b4)]=![],document[_0x1b8805(0x1d2)]('inpSeriesCount')[_0x1b8805(0x1e0)]=0x4,_0x31b430['style']['display']=_0x1b8805(0x1f9),document['getElementById']('inpDate')[_0x1b8805(0x1e0)]=getLocalDateStr(_0x32cf4d),updateDateDisplay();const _0x151743=_0x32cf4d[_0x1b8805(0x250)]();document[_0x1b8805(0x1d2)](_0x1b8805(0x17e))[_0x1b8805(0x1e0)]=String(_0x151743)[_0x1b8805(0x192)](0x2,'0')+_0x1b8805(0x25d),document[_0x1b8805(0x1d2)]('inpEnd')[_0x1b8805(0x1e0)]=String(_0x151743+0x1)[_0x1b8805(0x192)](0x2,'0')+_0x1b8805(0x25d),openSheet(_0x1b8805(0x120));}function openEdit(_0x48a6db){const _0x5831c9=a2_0x570647;editingId=_0x48a6db['id'],populateClientSelect(),document[_0x5831c9(0x1d2)](_0x5831c9(0x1db))[_0x5831c9(0x206)]=_0x5831c9(0x103),document[_0x5831c9(0x1d2)](_0x5831c9(0x158))['style'][_0x5831c9(0x19e)]=_0x5831c9(0x14a);const _0x37c5a3=document['getElementById']('btnStatusToggle');_0x37c5a3[_0x5831c9(0x132)][_0x5831c9(0x19e)]=_0x5831c9(0x1ba);_0x48a6db[_0x5831c9(0x113)]===_0x5831c9(0x127)?(_0x37c5a3[_0x5831c9(0x147)]=_0x5831c9(0x183),_0x37c5a3[_0x5831c9(0x262)]=_0x5831c9(0x212)):(_0x37c5a3['className']=_0x5831c9(0x22d),_0x37c5a3['innerHTML']=_0x5831c9(0x227));const _0x5a321c=!!_0x48a6db[_0x5831c9(0x19a)];document[_0x5831c9(0x1d2)]('recurringOptionContainer')[_0x5831c9(0x132)][_0x5831c9(0x19e)]=_0x5831c9(0x1f9),document['getElementById'](_0x5831c9(0xf9))[_0x5831c9(0x132)][_0x5831c9(0x19e)]=_0x5831c9(0x1f9),_0x5a321c?(document[_0x5831c9(0x1d2)]('patternInfoBox')['style'][_0x5831c9(0x19e)]=_0x5831c9(0x1ba),document['getElementById'](_0x5831c9(0x1ed))[_0x5831c9(0x182)](_0x5831c9(0x23a))['textContent']=_0x5831c9(0xe8)):document['getElementById']('patternInfoBox')[_0x5831c9(0x132)][_0x5831c9(0x19e)]=_0x5831c9(0x1f9),document[_0x5831c9(0x1d2)]('inpClient')[_0x5831c9(0x1e0)]=_0x48a6db['client'],document[_0x5831c9(0x1d2)]('inpDate')[_0x5831c9(0x1e0)]=_0x48a6db['dateStr'],document[_0x5831c9(0x1d2)](_0x5831c9(0x17e))[_0x5831c9(0x1e0)]=_0x48a6db[_0x5831c9(0x189)],document[_0x5831c9(0x1d2)](_0x5831c9(0x111))[_0x5831c9(0x1e0)]=_0x48a6db[_0x5831c9(0x1bf)],document[_0x5831c9(0x1d2)]('inpNote')[_0x5831c9(0x1e0)]=_0x48a6db[_0x5831c9(0x159)]||'',updateDateDisplay(),openSheet(_0x5831c9(0x120));}async function trySaveSession(){const _0x9cdca3=a2_0x570647,_0x59ad9c=document['getElementById']('inpClient')[_0x9cdca3(0x1e0)],_0x153306=document[_0x9cdca3(0x1d2)](_0x9cdca3(0x123))[_0x9cdca3(0x1e0)],_0x5ebce6=document['getElementById'](_0x9cdca3(0x17e))['value'],_0x316e50=document[_0x9cdca3(0x1d2)](_0x9cdca3(0x111))['value'],_0x39207b=document[_0x9cdca3(0x1d2)]('inpNote')[_0x9cdca3(0x1e0)],_0x407bbe=document[_0x9cdca3(0x1d2)](_0x9cdca3(0x21e))['checked'];let _0xe83fa2=0x4;if(_0x407bbe){const _0x56cd2a=parseInt(document[_0x9cdca3(0x1d2)](_0x9cdca3(0x1e6))['value']);if(!_0x56cd2a||_0x56cd2a<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x56cd2a>0x64){showToast(_0x9cdca3(0x248),![]);return;}_0xe83fa2=_0x56cd2a;}const _0x5b9935=clients[_0x9cdca3(0x239)](_0x429c41=>_0x429c41['name']===_0x59ad9c);if(!_0x5b9935){showToast(_0x9cdca3(0xf5),![]);return;}const _0x347b1d=validateAppointment(_0x153306,_0x5ebce6,_0x316e50,editingId,_0x5b9935['id']);if(!_0x347b1d[_0x9cdca3(0x25c)]){showToast(_0x347b1d[_0x9cdca3(0x106)],![]);return;}_0x347b1d[_0x9cdca3(0x1a4)]&&showToast(_0x347b1d[_0x9cdca3(0x1a4)],![]);const _0x257b95={'client':_0x59ad9c,'clientId':_0x5b9935['id'],'start':_0x5ebce6,'end':_0x316e50,'note':_0x39207b,'status':_0x9cdca3(0x1f7)},_0x44b2c4=editingId?sessions[_0x9cdca3(0x239)](_0x41de39=>_0x41de39['id']===editingId):null;if(_0x44b2c4&&_0x44b2c4['seriesId']){tempSessionData={..._0x257b95,'dateStr':_0x153306,'id':editingId,'seriesId':_0x44b2c4[_0x9cdca3(0x19a)]},openActionSheet(_0x9cdca3(0x195));return;}let _0x55f7a3=null;if(!editingId)_0x55f7a3='create';else{if(_0x44b2c4){if(String(_0x44b2c4[_0x9cdca3(0x151)])!==String(_0x5b9935['id']))console[_0x9cdca3(0x218)](_0x9cdca3(0x118)),NotificationManager[_0x9cdca3(0x16a)](_0x9cdca3(0x1d9),_0x44b2c4),_0x55f7a3=_0x9cdca3(0x1c5);else(_0x44b2c4['start']!==_0x5ebce6||_0x44b2c4[_0x9cdca3(0x1bf)]!==_0x316e50||_0x44b2c4[_0x9cdca3(0x1f8)]!==_0x153306)&&(_0x55f7a3=_0x9cdca3(0x1ac));}}if(!editingId&&_0x407bbe){createBatchSeries(_0x257b95,_0x153306,_0xe83fa2),NotificationManager[_0x9cdca3(0x16a)](_0x9cdca3(0x1c5),{..._0x257b95,'dateStr':_0x153306});return;}lastUserActionTime=Date[_0x9cdca3(0x1bc)]();const _0x5a48b8={..._0x257b95,'dateStr':_0x153306,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5a48b8),_0x55f7a3&&NotificationManager[_0x9cdca3(0x16a)](_0x55f7a3,_0x5a48b8);}function toggleSessionStatus(){const _0x53f391=a2_0x570647;lastUserActionTime=Date[_0x53f391(0x1bc)]();const _0x319b5c=sessions[_0x53f391(0x239)](_0x200ebd=>_0x200ebd['id']===editingId);if(!_0x319b5c)return;const _0x486065=_0x319b5c[_0x53f391(0x113)]==='completed'?_0x53f391(0x1f7):'completed';_0x319b5c[_0x53f391(0x113)]=_0x486065,saveSingleSession(_0x319b5c),_0x486065===_0x53f391(0x127)&&NotificationManager[_0x53f391(0x16a)](_0x53f391(0x137),_0x319b5c),showToast(_0x486065===_0x53f391(0x127)?_0x53f391(0x1d8):_0x53f391(0x180),!![]);}function validateAppointment(_0x82f76b,_0x12d660,_0x4d1b76,_0x5c3ab6,_0x19d768){const _0x1f9d1e=a2_0x570647,[_0x439259,_0x5b91a3]=_0x12d660['split'](':')[_0x1f9d1e(0x234)](Number),[_0x5ce5f7,_0x28de17]=_0x4d1b76[_0x1f9d1e(0x13e)](':')[_0x1f9d1e(0x234)](Number),_0x20f04e=_0x439259*0x3c+_0x5b91a3,_0x37c4be=_0x5ce5f7*0x3c+_0x28de17,_0x51e965=String(_0x19d768);let _0x4c7b1b=![],_0x3923eb='';for(let _0x682fc1 of sessions){if(_0x682fc1[_0x1f9d1e(0x1f8)]!==_0x82f76b)continue;if(_0x682fc1[_0x1f9d1e(0x113)]===_0x1f9d1e(0x21f))continue;if(_0x5c3ab6&&String(_0x682fc1['id'])===String(_0x5c3ab6))continue;const [_0x631d98,_0xac73a4]=_0x682fc1[_0x1f9d1e(0x189)][_0x1f9d1e(0x13e)](':')[_0x1f9d1e(0x234)](Number),[_0x34388e,_0x4b7182]=_0x682fc1[_0x1f9d1e(0x1bf)]['split'](':')[_0x1f9d1e(0x234)](Number),_0x45a419=_0x631d98*0x3c+_0xac73a4,_0x25d973=_0x34388e*0x3c+_0x4b7182;if(Math['max'](_0x20f04e,_0x45a419)<Math[_0x1f9d1e(0x156)](_0x37c4be,_0x25d973)){if(_0x682fc1['clientId']&&String(_0x682fc1[_0x1f9d1e(0x151)])===_0x51e965)return{'valid':![],'msg':_0x1f9d1e(0xf7)+_0x682fc1[_0x1f9d1e(0x1b9)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4c7b1b=!![],_0x3923eb=_0x682fc1[_0x1f9d1e(0x1b9)];}}if(_0x4c7b1b)return{'valid':!![],'warning':_0x1f9d1e(0x199)+_0x3923eb};return{'valid':!![]};}function saveSingleSession(_0x461bc6){const _0x1169fa=a2_0x570647;if(editingId){const _0xe8ae4d=sessions[_0x1169fa(0x191)](_0x663f30=>_0x663f30['id']===editingId);if(_0xe8ae4d!==-0x1)sessions[_0xe8ae4d]=_0x461bc6;}else sessions[_0x1169fa(0x198)](_0x461bc6);afterSaveAction([_0x461bc6[_0x1169fa(0x1f8)]]);}function createBatchSeries(_0x23661b,_0x13047a,_0x2eb73a){const _0x8d3a35=a2_0x570647,_0x4f7023=generateId(),_0x3a45c7=[],_0x4ddcea=[];let _0x34f904=0x0,_0x1cfc15=new Date(_0x13047a);for(let _0x1f448e=0x0;_0x1f448e<_0x2eb73a;_0x1f448e++){const _0x21c9c2=getLocalDateStr(_0x1cfc15),_0x1b38f8=validateAppointment(_0x21c9c2,_0x23661b[_0x8d3a35(0x189)],_0x23661b['end'],null,_0x23661b[_0x8d3a35(0x151)]);if(!_0x1b38f8[_0x8d3a35(0x25c)])console[_0x8d3a35(0x218)](_0x8d3a35(0x1da)+_0x21c9c2+_0x8d3a35(0x258)),_0x34f904++;else{const _0xb7b5bf={..._0x23661b,'id':generateId(),'dateStr':_0x21c9c2,'seriesId':_0x4f7023};_0x4ddcea['push'](_0xb7b5bf),_0x3a45c7[_0x8d3a35(0x198)](_0x21c9c2);}_0x1cfc15['setDate'](_0x1cfc15['getDate']()+0x7);}if(_0x4ddcea[_0x8d3a35(0x17f)]===0x0){showToast(_0x8d3a35(0x152),![]);return;}sessions[_0x8d3a35(0x198)](..._0x4ddcea),lastUserActionTime=Date[_0x8d3a35(0x1bc)]();let _0x3f7215=_0x8d3a35(0x187)+_0x4ddcea[_0x8d3a35(0x17f)];_0x34f904>0x0&&(_0x3f7215+=_0x8d3a35(0x131)+_0x34f904+')'),showToast(_0x3f7215,!![]),afterSaveAction(_0x3a45c7);}function updateSeriesBatch(_0x380881,_0x548e16){const _0xa48d1c=a2_0x570647,_0x5e7256=[],_0x485443=_0x548e16[_0xa48d1c(0x19a)];if(_0x380881===_0xa48d1c(0x232)){const _0x1cef94={..._0x548e16,'seriesId':null},_0x4c41a1=sessions[_0xa48d1c(0x191)](_0x223561=>_0x223561['id']===_0x548e16['id']);if(_0x4c41a1!==-0x1)sessions[_0x4c41a1]=_0x1cef94;_0x5e7256[_0xa48d1c(0x198)](_0x1cef94['dateStr']);}else{if(_0x380881===_0xa48d1c(0x13b)){const _0x17b3dd=_0x548e16[_0xa48d1c(0x1f8)];sessions[_0xa48d1c(0x251)]((_0x59284f,_0x310887)=>{const _0x5d4ed9=_0xa48d1c;_0x59284f['seriesId']===_0x485443&&_0x59284f[_0x5d4ed9(0x1f8)]>=_0x17b3dd&&(sessions[_0x310887]={...sessions[_0x310887],'start':_0x548e16[_0x5d4ed9(0x189)],'end':_0x548e16[_0x5d4ed9(0x1bf)],'note':_0x548e16[_0x5d4ed9(0x159)],'client':_0x548e16[_0x5d4ed9(0x1b9)],'clientId':_0x548e16[_0x5d4ed9(0x151)]},_0x5e7256['push'](_0x59284f[_0x5d4ed9(0x1f8)]));});}}afterSaveAction(_0x5e7256);}function tryDeleteSession(){const _0x41ac93=a2_0x570647,_0x2fc303=sessions[_0x41ac93(0x239)](_0x212db0=>_0x212db0['id']===editingId);if(!_0x2fc303)return;_0x2fc303[_0x41ac93(0x19a)]?openActionSheet(_0x41ac93(0x125)):commitDelete('single',_0x2fc303);}function commitDelete(_0x344c51,_0x50d9b1){const _0x774557=a2_0x570647;lastUserActionTime=Date[_0x774557(0x1bc)](),NotificationManager[_0x774557(0x16a)]('cancel',_0x50d9b1);const _0x47b635=[];if(_0x344c51===_0x774557(0x232))sessions=sessions[_0x774557(0x1ec)](_0x726d9d=>_0x726d9d['id']!==_0x50d9b1['id']),_0x47b635[_0x774557(0x198)](_0x50d9b1[_0x774557(0x1f8)]);else{if(_0x344c51===_0x774557(0x13b)){const _0xd9ed87=_0x50d9b1['dateStr'],_0x69d0c4=_0x50d9b1[_0x774557(0x19a)];sessions[_0x774557(0x251)](_0xba8018=>{const _0x5d2df7=_0x774557;_0xba8018[_0x5d2df7(0x19a)]===_0x69d0c4&&_0xba8018['dateStr']>=_0xd9ed87&&_0x47b635[_0x5d2df7(0x198)](_0xba8018[_0x5d2df7(0x1f8)]);}),sessions=sessions['filter'](_0x57064c=>!(_0x57064c[_0x774557(0x19a)]===_0x69d0c4&&_0x57064c[_0x774557(0x1f8)]>=_0xd9ed87));}}afterSaveAction(_0x47b635);}function afterSaveAction(_0x270293){const _0x271817=a2_0x570647;DataManager[_0x271817(0x142)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x270293)['then'](()=>console[_0x271817(0x218)](_0x271817(0x255)))['catch'](_0x4d2cc2=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x567782){const _0x369a07=a2_0x570647,_0x147348=new Date(_0x567782),_0x56951f={'weekday':_0x369a07(0x25a),'day':_0x369a07(0x1fc),'month':_0x369a07(0x25a)};let _0xc696f8=_0x147348[_0x369a07(0x1cf)](_0x369a07(0x146),_0x56951f);return _0xc696f8[_0x369a07(0x23d)](0x0)[_0x369a07(0x17c)]()+_0xc696f8[_0x369a07(0x15f)](0x1);},'getText'(_0x3f91dc,_0x11bd21){const _0x1a5b47=a2_0x570647,_0x2a8361=this[_0x1a5b47(0x101)](_0x11bd21[_0x1a5b47(0x1f8)]);switch(_0x3f91dc){case'create':return _0x1a5b47(0x263)+(_0x1a5b47(0x1ca)+_0x2a8361+'\x0a')+(_0x1a5b47(0x1cb)+_0x11bd21[_0x1a5b47(0x189)]+'\x20‚Äî\x20'+_0x11bd21[_0x1a5b47(0x1bf)]+'\x0a\x0a')+_0x1a5b47(0x24c);case _0x1a5b47(0x1ac):return _0x1a5b47(0x219)+_0x1a5b47(0x17d)+(_0x1a5b47(0x14b)+_0x11bd21[_0x1a5b47(0x189)]+_0x1a5b47(0x240)+_0x11bd21['end']+_0x1a5b47(0x114))+(_0x1a5b47(0x1ca)+_0x2a8361);case _0x1a5b47(0x1d9):return _0x1a5b47(0x108)+(_0x1a5b47(0x205)+_0x2a8361+'\x20('+_0x11bd21['start']+')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.');case _0x1a5b47(0x137):return _0x1a5b47(0x19b)+_0x1a5b47(0x105)+_0x1a5b47(0x226);default:return'';}},async 'send'(_0x3ceacc,_0x14033e){const _0x16410f=a2_0x570647;console[_0x16410f(0x218)](_0x16410f(0x181),_0x3ceacc,_0x14033e);if(!_0x14033e){console[_0x16410f(0x224)](_0x16410f(0x129));return;}const _0x564291=String(_0x14033e[_0x16410f(0x151)]);console[_0x16410f(0x218)]('[Notify]\x20Detected\x20Client\x20ID:',_0x564291);if(!_0x14033e['clientId']||_0x564291===_0x16410f(0xed)||_0x564291==='null'){console['error'](_0x16410f(0x13f));if(_0x14033e[_0x16410f(0x1b9)]){const _0x364f04=clients[_0x16410f(0x239)](_0x5d9420=>_0x5d9420['name']===_0x14033e[_0x16410f(0x1b9)]);if(_0x364f04)return console['log'](_0x16410f(0x133),_0x364f04['id']),this[_0x16410f(0x16a)](_0x3ceacc,{..._0x14033e,'clientId':_0x364f04['id']});}return;}if(_0x564291[_0x16410f(0x17f)]<0x5){console[_0x16410f(0x115)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x564291);return;}const _0x5aace5=this[_0x16410f(0x15d)](_0x3ceacc,_0x14033e);if(!_0x5aace5){console[_0x16410f(0x224)](_0x16410f(0x1ff));return;}console[_0x16410f(0x218)](_0x16410f(0x1cc)+_0x564291+_0x16410f(0x164)),DataManager[_0x16410f(0x112)]('send_notification',{'chatId':_0x564291,'text':_0x5aace5})['then'](_0x30d926=>console[_0x16410f(0x218)](_0x16410f(0x241),_0x30d926))[_0x16410f(0x16c)](_0x229bc6=>console['error'](_0x16410f(0x1a0),_0x229bc6));}};function getLocalDateStr(_0x1977d6){const _0x5c5064=a2_0x570647,_0x4d26b5=_0x1977d6[_0x5c5064(0x139)](),_0x58742a=String(_0x1977d6[_0x5c5064(0x100)]()+0x1)[_0x5c5064(0x192)](0x2,'0'),_0x1170bf=String(_0x1977d6[_0x5c5064(0x20e)]())[_0x5c5064(0x192)](0x2,'0');return _0x4d26b5+'-'+_0x58742a+'-'+_0x1170bf;}function getDateStr(_0x26b40c){const _0x3f3ccb=a2_0x570647,_0x40ad92=new Date();return _0x40ad92[_0x3f3ccb(0x1f1)](_0x40ad92[_0x3f3ccb(0x20e)]()+_0x26b40c),getLocalDateStr(_0x40ad92);}function getStartOfWeek(_0x39868e){const _0x4ba943=a2_0x570647,_0x134315=new Date(_0x39868e),_0x2834c9=_0x134315[_0x4ba943(0x22b)](),_0x6a31b9=_0x134315[_0x4ba943(0x20e)]()-_0x2834c9+(_0x2834c9===0x0?-0x6:0x1);return _0x134315[_0x4ba943(0x1f1)](_0x6a31b9),_0x134315[_0x4ba943(0xf6)](0x0,0x0,0x0,0x0),_0x134315;}function hexToRgba(_0x474d98,_0x103ae5){const _0x5e5ace=a2_0x570647;if(!_0x474d98)return'rgba(100,100,100,0.5)';let _0xc0f831=0x0,_0xf91aa4=0x0,_0x1437f0=0x0;if(_0x474d98[_0x5e5ace(0x17f)]===0x4)_0xc0f831='0x'+_0x474d98[0x1]+_0x474d98[0x1],_0xf91aa4='0x'+_0x474d98[0x2]+_0x474d98[0x2],_0x1437f0='0x'+_0x474d98[0x3]+_0x474d98[0x3];else _0x474d98[_0x5e5ace(0x17f)]===0x7&&(_0xc0f831='0x'+_0x474d98[0x1]+_0x474d98[0x2],_0xf91aa4='0x'+_0x474d98[0x3]+_0x474d98[0x4],_0x1437f0='0x'+_0x474d98[0x5]+_0x474d98[0x6]);return _0x5e5ace(0x257)+ +_0xc0f831+',\x20'+ +_0xf91aa4+',\x20'+ +_0x1437f0+',\x20'+_0x103ae5+')';}function renderTimeColumn(){const _0x227f1d=a2_0x570647,_0x38236b=document[_0x227f1d(0x1d2)](_0x227f1d(0x136)),_0x50cfff=document['getElementById'](_0x227f1d(0x175));_0x38236b[_0x227f1d(0x262)]='',_0x38236b['appendChild'](_0x50cfff);for(let _0x2862f8=0x0;_0x2862f8<0x18;_0x2862f8++){const _0x6c2150=document[_0x227f1d(0xec)](_0x227f1d(0x223));_0x6c2150['className']=_0x227f1d(0x1d3);if(_0x2862f8>0x0)_0x6c2150[_0x227f1d(0x262)]='<span>'+String(_0x2862f8)[_0x227f1d(0x192)](0x2,'0')+_0x227f1d(0x1e5);_0x38236b['appendChild'](_0x6c2150);}}function renderDayRange(_0x287366,_0x4e0bb1){const _0x23c309=a2_0x570647,_0x1abb11=document[_0x23c309(0x1d2)](_0x23c309(0x217)),_0x4db0f7=document[_0x23c309(0x1d2)]('gridColumns'),_0x2e3871=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xa78c8b=new Date();_0xa78c8b[_0x23c309(0xf6)](0x0,0x0,0x0,0x0);const _0x2dad15=getLocalDateStr(new Date());for(let _0x1b76fd=_0x287366;_0x1b76fd<=_0x4e0bb1;_0x1b76fd++){const _0x1e3d13=new Date(_0xa78c8b);_0x1e3d13[_0x23c309(0x1f1)](_0x1e3d13[_0x23c309(0x20e)]()+_0x1b76fd);const _0x15c919=getLocalDateStr(_0x1e3d13);let _0x511e6b=_0x1e3d13[_0x23c309(0x22b)]()-0x1;if(_0x511e6b===-0x1)_0x511e6b=0x6;const _0x26612f=_0x15c919===_0x2dad15,_0x1cc85b=document[_0x23c309(0xec)](_0x23c309(0x223));_0x1cc85b['className']=_0x23c309(0x165)+(_0x26612f?_0x23c309(0x25e):''),_0x1cc85b['id']='header-'+_0x15c919,_0x1cc85b['setAttribute'](_0x23c309(0x107),_0x15c919),_0x1cc85b['innerHTML']=_0x23c309(0xfa)+_0x2e3871[_0x511e6b]+_0x23c309(0x15c)+_0x1e3d13[_0x23c309(0x20e)]()+_0x23c309(0x185)+_0x15c919+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x1cc85b[_0x23c309(0x1e7)]=()=>openDayOptions(_0x15c919,_0x2e3871[_0x511e6b]+'\x20'+_0x1e3d13[_0x23c309(0x20e)]()),_0x1abb11[_0x23c309(0x18a)](_0x1cc85b);const _0x2c8b71=document[_0x23c309(0xec)]('div');_0x2c8b71['className']=_0x23c309(0x145)+(_0x26612f?'today':''),_0x2c8b71[_0x23c309(0x148)]('data-date',_0x15c919),_0x2c8b71['setAttribute'](_0x23c309(0x210),_0x511e6b),renderEventsForColumn(_0x2c8b71,_0x15c919,_0x511e6b),attachLongPressHandler(_0x2c8b71,_0x1e3d13),_0x4db0f7[_0x23c309(0x18a)](_0x2c8b71),updateDayStats(_0x15c919);}}function reRenderBlocks(){const _0x43b8eb=a2_0x570647;document[_0x43b8eb(0x1a9)]('#gridColumns\x20.day-column')[_0x43b8eb(0x251)](_0x8f3f23=>{const _0x557a18=_0x43b8eb;_0x8f3f23[_0x557a18(0x1a9)](_0x557a18(0x21b))['forEach'](_0x2642f2=>_0x2642f2[_0x557a18(0xe9)]());const _0x183e7c=_0x8f3f23[_0x557a18(0x237)](_0x557a18(0x107)),_0x537407=parseInt(_0x8f3f23['getAttribute'](_0x557a18(0x210))),_0x17ccb0=Math[_0x557a18(0x209)](_0x8f3f23[_0x557a18(0x12e)]);(availabilityPattern[_0x537407]||[])['forEach'](_0x341992=>{const _0x4d50de=_0x557a18,_0x4f2cdc=document[_0x4d50de(0xec)](_0x4d50de(0x223));_0x4f2cdc[_0x4d50de(0x147)]=_0x4d50de(0x1c3);const _0x297a0d=_0x341992*GRID_H;_0x4f2cdc[_0x4d50de(0x132)][_0x4d50de(0x249)]=_0x297a0d+'px',_0x4f2cdc[_0x4d50de(0x132)][_0x4d50de(0x121)]='-'+_0x17ccb0+'px\x20-'+_0x297a0d+'px',_0x8f3f23[_0x4d50de(0x18a)](_0x4f2cdc);});if(specialRanges&&specialRanges['length']>0x0){const _0x318d4b=new Date(_0x183e7c+'T00:00:00')[_0x557a18(0x1c6)](),_0x153203=new Date(_0x183e7c+'T23:59:59')[_0x557a18(0x1c6)]();specialRanges[_0x557a18(0x251)](_0x15b62d=>{const _0x4d8fa4=_0x557a18,_0x1bb6bc=new Date(_0x15b62d[_0x4d8fa4(0x189)])['getTime'](),_0x581e3e=new Date(_0x15b62d[_0x4d8fa4(0x1bf)])[_0x4d8fa4(0x1c6)](),_0xa268f7=Math[_0x4d8fa4(0x1ef)](_0x318d4b,_0x1bb6bc),_0xfa5766=Math[_0x4d8fa4(0x156)](_0x153203,_0x581e3e);if(_0xa268f7<_0xfa5766){if(_0xa268f7<=_0x318d4b&&_0xfa5766>=_0x153203-0xea60){if(!_0x8f3f23[_0x4d8fa4(0x182)](_0x4d8fa4(0x1c0))){const _0x57869f=document['createElement'](_0x4d8fa4(0x223));_0x57869f[_0x4d8fa4(0x147)]='day-off-overlay\x20stripe-bg',_0x57869f['style'][_0x4d8fa4(0x121)]='-'+_0x17ccb0+_0x4d8fa4(0x176),_0x8f3f23[_0x4d8fa4(0x18a)](_0x57869f);}}else{const _0x5f0a76=(_0xa268f7-_0x318d4b)/0x36ee80*GRID_H,_0x3de236=(_0xfa5766-_0xa268f7)/0x36ee80*GRID_H,_0x3a9220=document['createElement'](_0x4d8fa4(0x223));_0x3a9220[_0x4d8fa4(0x147)]=_0x4d8fa4(0x124),_0x3a9220[_0x4d8fa4(0x132)][_0x4d8fa4(0x249)]=_0x5f0a76+'px',_0x3a9220[_0x4d8fa4(0x132)]['height']=_0x3de236+'px',_0x3a9220[_0x4d8fa4(0x132)][_0x4d8fa4(0x121)]='-'+_0x17ccb0+'px\x20-'+_0x5f0a76+'px',_0x8f3f23[_0x4d8fa4(0x18a)](_0x3a9220);}}});}if(dateExceptions[_0x183e7c]===_0x557a18(0x14d)){if(!_0x8f3f23[_0x557a18(0x182)](_0x557a18(0x1c0))){const _0x39e8c5=document[_0x557a18(0xec)](_0x557a18(0x223));_0x39e8c5[_0x557a18(0x147)]=_0x557a18(0x14e),_0x39e8c5[_0x557a18(0x132)][_0x557a18(0x121)]='-'+_0x17ccb0+_0x557a18(0x176),_0x8f3f23[_0x557a18(0x18a)](_0x39e8c5);}}renderEventsForColumn(_0x8f3f23,_0x183e7c,_0x537407),updateDayStats(_0x183e7c);});}function updateAllDayStats(){const _0x4ca273=a2_0x570647;document[_0x4ca273(0x1a9)](_0x4ca273(0x201))['forEach'](_0x187ec5=>{updateDayStats(_0x187ec5['getAttribute']('data-date'));});}function updateDayStats(_0xfc48f9){const _0x2ee03a=a2_0x570647,_0x20ce30=document[_0x2ee03a(0x1d2)](_0x2ee03a(0x1fb)+_0xfc48f9);if(!_0x20ce30)return;const _0xc62344=new Date(_0xfc48f9);let _0x5ef990=_0xc62344[_0x2ee03a(0x22b)]()-0x1;if(_0x5ef990===-0x1)_0x5ef990=0x6;if(dateExceptions[_0xfc48f9]===_0x2ee03a(0x14d)){_0x20ce30[_0x2ee03a(0x132)][_0x2ee03a(0x19e)]=_0x2ee03a(0x1f9);return;}const _0x51442c=availabilityPattern[_0x5ef990]||[],_0x191b7d=0x18-_0x51442c['length'],_0x50c9cb=_0x191b7d*0x3c,_0x49b391=sessions[_0x2ee03a(0x1ec)](_0x35ddf2=>_0x35ddf2[_0x2ee03a(0x1f8)]===_0xfc48f9&&_0x35ddf2[_0x2ee03a(0x113)]!==_0x2ee03a(0x21f));if(_0x49b391['length']===0x0){_0x20ce30[_0x2ee03a(0x132)][_0x2ee03a(0x19e)]=_0x2ee03a(0x1f9);return;}let _0x4b1742=_0x49b391['map'](_0x1f3f39=>{const _0x5b79bd=_0x2ee03a,[_0x4ccd58,_0xa1446f]=_0x1f3f39['start'][_0x5b79bd(0x13e)](':')[_0x5b79bd(0x234)](Number),[_0x37a797,_0x5585c2]=_0x1f3f39['end'][_0x5b79bd(0x13e)](':')[_0x5b79bd(0x234)](Number);return[_0x4ccd58*0x3c+_0xa1446f,_0x37a797*0x3c+_0x5585c2];});_0x4b1742['sort']((_0x198f7,_0x4fa5a3)=>_0x198f7[0x0]-_0x4fa5a3[0x0]);let _0x87ad05=[];if(_0x4b1742[_0x2ee03a(0x17f)]>0x0){let _0x3b9c3e=_0x4b1742[0x0];for(let _0xf8c4ae=0x1;_0xf8c4ae<_0x4b1742['length'];_0xf8c4ae++){_0x4b1742[_0xf8c4ae][0x0]<_0x3b9c3e[0x1]?_0x3b9c3e[0x1]=Math[_0x2ee03a(0x1ef)](_0x3b9c3e[0x1],_0x4b1742[_0xf8c4ae][0x1]):(_0x87ad05['push'](_0x3b9c3e),_0x3b9c3e=_0x4b1742[_0xf8c4ae]);}_0x87ad05[_0x2ee03a(0x198)](_0x3b9c3e);}let _0x3b49b9=0x0;_0x87ad05['forEach'](_0x4e297e=>_0x3b49b9+=_0x4e297e[0x1]-_0x4e297e[0x0]),_0x20ce30[_0x2ee03a(0x132)][_0x2ee03a(0x19e)]=_0x2ee03a(0x1ba);const _0x16cdfd=_0x20ce30[_0x2ee03a(0x182)]('.dch-stats-fill');if(_0x50c9cb===0x0){_0x16cdfd[_0x2ee03a(0x132)][_0x2ee03a(0x235)]='100%',_0x16cdfd[_0x2ee03a(0x132)][_0x2ee03a(0x1d0)]=_0x2ee03a(0x245);return;}const _0x57dc04=_0x3b49b9/_0x50c9cb*0x64;console[_0x2ee03a(0x218)]('['+_0xfc48f9+_0x2ee03a(0x1ab)+_0x191b7d+_0x2ee03a(0x18d)+_0x3b49b9+_0x2ee03a(0x21c)+_0x57dc04[_0x2ee03a(0x1b6)](0x1)+'%'),_0x57dc04>0x64?(_0x16cdfd['style'][_0x2ee03a(0x235)]=_0x2ee03a(0x1c7),_0x16cdfd[_0x2ee03a(0x132)][_0x2ee03a(0x1d0)]='var(--acc-red)'):(_0x16cdfd[_0x2ee03a(0x132)][_0x2ee03a(0x235)]=_0x57dc04+'%',_0x16cdfd[_0x2ee03a(0x132)][_0x2ee03a(0x1d0)]='var(--acc-current)');}function renderEventsForColumn(_0x1071aa,_0x59cded,_0x376f5a){const _0x5db3be=a2_0x570647,_0x496b4b=sessions['filter'](_0x106b61=>_0x106b61[_0x5db3be(0x1f8)]===_0x59cded),_0x3bf832=_0x496b4b['map'](_0x52510d=>{const _0xee198f=_0x5db3be,[_0x322a32,_0x50a79f]=_0x52510d[_0xee198f(0x189)][_0xee198f(0x13e)](':')[_0xee198f(0x234)](Number),[_0x252913,_0x30af0c]=_0x52510d[_0xee198f(0x1bf)]['split'](':')[_0xee198f(0x234)](Number);return{'data':_0x52510d,'start':_0x322a32*0x3c+_0x50a79f,'end':_0x252913*0x3c+_0x30af0c,'colIndex':0x0};});_0x3bf832['sort']((_0x400eca,_0x1af5b0)=>{const _0x4ae6ba=_0x5db3be;if(_0x400eca[_0x4ae6ba(0x189)]!==_0x1af5b0[_0x4ae6ba(0x189)])return _0x400eca['start']-_0x1af5b0[_0x4ae6ba(0x189)];return _0x1af5b0[_0x4ae6ba(0x1bf)]-_0x1af5b0[_0x4ae6ba(0x189)]-(_0x400eca['end']-_0x400eca[_0x4ae6ba(0x189)]);});const _0x4f8dda=[];_0x3bf832['forEach'](_0x19820f=>{const _0xd6137c=_0x5db3be;let _0x3dae9b=![];for(let _0x2f3d31=0x0;_0x2f3d31<_0x4f8dda[_0xd6137c(0x17f)];_0x2f3d31++){const _0xe39e73=_0x4f8dda[_0x2f3d31],_0x3cbe6c=_0xe39e73[_0xe39e73[_0xd6137c(0x17f)]-0x1];if(_0x19820f[_0xd6137c(0x189)]>=_0x3cbe6c[_0xd6137c(0x1bf)]){_0xe39e73['push'](_0x19820f),_0x19820f['colIndex']=_0x2f3d31,_0x3dae9b=!![];break;}}!_0x3dae9b&&(_0x4f8dda[_0xd6137c(0x198)]([_0x19820f]),_0x19820f['colIndex']=_0x4f8dda[_0xd6137c(0x17f)]-0x1);}),_0x3bf832['forEach'](_0x4984b0=>{const _0xe2000a=_0x5db3be;let _0x8a3c82=0x0;_0x3bf832['forEach'](_0x7e34bd=>{const _0x3db7b8=a2_0x7300;if(Math[_0x3db7b8(0x1ef)](_0x4984b0[_0x3db7b8(0x189)],_0x7e34bd[_0x3db7b8(0x189)])<Math[_0x3db7b8(0x156)](_0x4984b0[_0x3db7b8(0x1bf)],_0x7e34bd[_0x3db7b8(0x1bf)])){if(_0x7e34bd[_0x3db7b8(0x117)]>_0x8a3c82)_0x8a3c82=_0x7e34bd[_0x3db7b8(0x117)];}});const _0x2048c7=_0x8a3c82+0x1,_0x241c8f=0x64/_0x2048c7,_0x538774=_0x4984b0['colIndex']*_0x241c8f,_0x48f976=createEventEl(_0x4984b0[_0xe2000a(0x1c9)]);_0x48f976[_0xe2000a(0x132)][_0xe2000a(0x235)]='calc('+_0x241c8f+_0xe2000a(0x203),_0x48f976[_0xe2000a(0x132)][_0xe2000a(0xf4)]=_0xe2000a(0x1c1)+_0x538774+_0xe2000a(0x16f),_0x48f976[_0xe2000a(0x132)][_0xe2000a(0x22f)]=0xa+_0x4984b0['colIndex'],_0x241c8f<0x55&&_0x48f976[_0xe2000a(0x24f)]['add'](_0xe2000a(0x122)),_0x1071aa[_0xe2000a(0x18a)](_0x48f976);});}function createEventEl(_0x31c067){const _0x4fb6d2=a2_0x570647,[_0x455cd5,_0x2da9be]=_0x31c067[_0x4fb6d2(0x189)]['split'](':')[_0x4fb6d2(0x234)](Number),[_0x1ab601,_0x141aeb]=_0x31c067['end']['split'](':')[_0x4fb6d2(0x234)](Number),_0x3db0b0=(_0x455cd5*0x3c+_0x2da9be)/0x3c*GRID_H,_0x68df60=(_0x1ab601*0x3c+_0x141aeb-(_0x455cd5*0x3c+_0x2da9be))/0x3c*GRID_H,_0x494137=document[_0x4fb6d2(0xec)](_0x4fb6d2(0x223)),_0x6c35dc=_0x31c067[_0x4fb6d2(0x113)]===_0x4fb6d2(0x127)?_0x4fb6d2(0x174):'';_0x494137[_0x4fb6d2(0x147)]=_0x4fb6d2(0x22e)+_0x6c35dc,_0x494137[_0x4fb6d2(0x132)]['top']=_0x3db0b0+'px',_0x494137['style']['height']=Math['max'](_0x68df60,0x14)+'px';const _0x5bba38=clients[_0x4fb6d2(0x239)](_0xe1190e=>_0x31c067[_0x4fb6d2(0x151)]&&String(_0xe1190e['id'])===String(_0x31c067['clientId'])||_0xe1190e['name']===_0x31c067['client']),_0xeb8a43=_0x5bba38?_0x5bba38['color']:'#0a84ff';_0x494137[_0x4fb6d2(0x132)][_0x4fb6d2(0x1f2)]=_0xeb8a43,_0x494137['style'][_0x4fb6d2(0x15b)]=hexToRgba(_0xeb8a43,0.85);let _0x437e0e=_0x4fb6d2(0x1a7)+_0x31c067[_0x4fb6d2(0x1b9)]+_0x4fb6d2(0x1af)+_0x31c067[_0x4fb6d2(0x189)]+_0x4fb6d2(0x140)+_0x31c067[_0x4fb6d2(0x1bf)]+'</div>';return _0x31c067[_0x4fb6d2(0x19a)]&&(_0x437e0e+=_0x4fb6d2(0x17a)),_0x31c067[_0x4fb6d2(0x113)]==='completed'&&(_0x437e0e+=_0x4fb6d2(0x254)),_0x494137[_0x4fb6d2(0x262)]=_0x437e0e,_0x494137[_0x4fb6d2(0x1e7)]=_0x50f973=>{_0x50f973['stopPropagation'](),openEdit(_0x31c067);},_0x494137;}function attachLongPressHandler(_0x5181c7,_0x1b2082){const _0x30d2d4=a2_0x570647;let _0x283673=0x0,_0x462e40=null;const _0x38b806=_0x3cf5d1=>{const _0x85d060=a2_0x7300;if(_0x3cf5d1[_0x85d060(0x168)][_0x85d060(0x1fe)]('.event-card'))return;isScrolling=![],_0x283673=_0x3cf5d1[_0x85d060(0x1df)]?_0x3cf5d1[_0x85d060(0x1df)][0x0][_0x85d060(0x20b)]:_0x3cf5d1[_0x85d060(0x20b)],_0x462e40=setTimeout(()=>{const _0x4859f7=_0x85d060;if(!isScrolling){navigator[_0x4859f7(0x1b7)]?.(0x32);const _0x428dd5=_0x5181c7['getBoundingClientRect'](),_0x1be8ba=Math[_0x4859f7(0x12a)]((_0x283673-_0x428dd5['top'])/GRID_H);_0x1b2082['setHours'](_0x1be8ba,0x0),openAddSession(_0x1b2082);}},0x1f4);},_0x4092fd=()=>{isScrolling=!![],clearTimeout(_0x462e40);},_0x4e72ad=()=>{clearTimeout(_0x462e40);};_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0x1ce),_0x38b806,{'passive':!![]}),_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0x154),_0x4092fd,{'passive':!![]}),_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0xfe),_0x4e72ad),_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0x130),_0x38b806),_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0x1e2),_0x4092fd),_0x5181c7[_0x30d2d4(0x1cd)](_0x30d2d4(0x17b),_0x4e72ad);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x30cb98=a2_0x570647,_0x50d934=document[_0x30cb98(0x1d2)]('matrixViewport'),_0x4e5ed3=_0x50d934[_0x30cb98(0x1d5)],_0x12df67=_0x50d934['scrollWidth'],_0x5877ea=_0x50d934[_0x30cb98(0x10f)];if(_0x12df67-(_0x4e5ed3+_0x5877ea)<0x12c){const _0x2b29bf=endOffset;endOffset+=0xe,renderDayRange(_0x2b29bf+0x1,endOffset),reRenderBlocks();}if(_0x4e5ed3<0x12c){const _0x4f5a06=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4f5a06-0x1),_0x50d934[_0x30cb98(0x1d5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x4519e2,_0x5b0d59){const _0x3e8ce6=a2_0x570647,_0x29da61=document[_0x3e8ce6(0x1d2)](_0x3e8ce6(0x217)),_0x40d874=document[_0x3e8ce6(0x1d2)](_0x3e8ce6(0x190)),_0x2c1b73=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4629b7=new Date();_0x4629b7[_0x3e8ce6(0xf6)](0x0,0x0,0x0,0x0);const _0x541340=getLocalDateStr(new Date()),_0x5eff1f=document[_0x3e8ce6(0x207)](),_0x1a0b72=document['createDocumentFragment']();for(let _0x2efd94=_0x4519e2;_0x2efd94<=_0x5b0d59;_0x2efd94++){const _0x185436=new Date(_0x4629b7);_0x185436[_0x3e8ce6(0x1f1)](_0x185436[_0x3e8ce6(0x20e)]()+_0x2efd94);const _0x2bf9b4=getLocalDateStr(_0x185436);let _0x471180=_0x185436['getDay']()-0x1;if(_0x471180===-0x1)_0x471180=0x6;const _0x3a9942=_0x2bf9b4===_0x541340,_0x354882=document[_0x3e8ce6(0xec)](_0x3e8ce6(0x223));_0x354882[_0x3e8ce6(0x147)]='day-col-header\x20'+(_0x3a9942?_0x3e8ce6(0x25e):''),_0x354882['id']=_0x3e8ce6(0x1b0)+_0x2bf9b4,_0x354882[_0x3e8ce6(0x148)](_0x3e8ce6(0x107),_0x2bf9b4),_0x354882[_0x3e8ce6(0x262)]=_0x3e8ce6(0xfa)+_0x2c1b73[_0x471180]+_0x3e8ce6(0x15c)+_0x185436[_0x3e8ce6(0x20e)]()+_0x3e8ce6(0x185)+_0x2bf9b4+_0x3e8ce6(0x1ad),_0x354882[_0x3e8ce6(0x1e7)]=()=>openDayOptions(_0x2bf9b4,_0x2c1b73[_0x471180]+'\x20'+_0x185436[_0x3e8ce6(0x20e)]()),_0x5eff1f['appendChild'](_0x354882);const _0xd1c2d3=document[_0x3e8ce6(0xec)]('div');_0xd1c2d3[_0x3e8ce6(0x147)]=_0x3e8ce6(0x145)+(_0x3a9942?_0x3e8ce6(0x25e):''),_0xd1c2d3[_0x3e8ce6(0x148)](_0x3e8ce6(0x107),_0x2bf9b4),_0xd1c2d3[_0x3e8ce6(0x148)](_0x3e8ce6(0x210),_0x471180),renderEventsForColumn(_0xd1c2d3,_0x2bf9b4,_0x471180),attachLongPressHandler(_0xd1c2d3,_0x185436),_0x1a0b72['appendChild'](_0xd1c2d3),updateDayStats(_0x2bf9b4);}_0x29da61[_0x3e8ce6(0x163)](_0x5eff1f,_0x29da61['firstChild']),_0x40d874['insertBefore'](_0x1a0b72,_0x40d874[_0x3e8ce6(0x182)](_0x3e8ce6(0x259)));}function validateAppointment(_0x3fa3f3,_0x3f69f4,_0x29cb3c,_0xbc3134,_0x22737b){const _0x445f0f=a2_0x570647,[_0x1b8f09,_0x12aab2]=_0x3f69f4[_0x445f0f(0x13e)](':')[_0x445f0f(0x234)](Number),[_0x299bec,_0x32b926]=_0x29cb3c['split'](':')[_0x445f0f(0x234)](Number),_0x2e40c3=_0x1b8f09*0x3c+_0x12aab2,_0x387162=_0x299bec*0x3c+_0x32b926,_0x41fbf1=String(_0x22737b);let _0x3a22d9=![],_0x3617b0='';for(let _0x8aa9b6 of sessions){if(_0x8aa9b6[_0x445f0f(0x1f8)]!==_0x3fa3f3)continue;if(_0x8aa9b6[_0x445f0f(0x113)]===_0x445f0f(0x21f))continue;if(_0xbc3134&&String(_0x8aa9b6['id'])===String(_0xbc3134))continue;const [_0x5389cc,_0x4066a2]=_0x8aa9b6[_0x445f0f(0x189)][_0x445f0f(0x13e)](':')[_0x445f0f(0x234)](Number),[_0x22449d,_0x44aae3]=_0x8aa9b6[_0x445f0f(0x1bf)][_0x445f0f(0x13e)](':')['map'](Number),_0x15fbda=_0x5389cc*0x3c+_0x4066a2,_0x59a3b2=_0x22449d*0x3c+_0x44aae3;if(Math['max'](_0x2e40c3,_0x15fbda)<Math[_0x445f0f(0x156)](_0x387162,_0x59a3b2)){if(_0x8aa9b6[_0x445f0f(0x151)]&&String(_0x8aa9b6[_0x445f0f(0x151)])===_0x41fbf1)return{'valid':![],'msg':_0x445f0f(0xf7)+_0x8aa9b6[_0x445f0f(0x1b9)]+_0x445f0f(0x171)};_0x3a22d9=!![],_0x3617b0=_0x8aa9b6['client'];}}if(_0x3a22d9)return{'valid':!![],'warning':_0x445f0f(0x199)+_0x3617b0};return{'valid':!![]};}function updateDateDisplay(){const _0x510d70=a2_0x570647,_0x4bc621=document['getElementById'](_0x510d70(0x123))[_0x510d70(0x1e0)],_0x53e1d9=document[_0x510d70(0x1d2)](_0x510d70(0xff));if(!_0x4bc621){_0x53e1d9[_0x510d70(0x206)]='';return;}const [_0x3e4328,_0xc8c3b5,_0x5bedec]=_0x4bc621[_0x510d70(0x13e)]('-')[_0x510d70(0x234)](Number),_0x3e076a=new Date(_0x3e4328,_0xc8c3b5-0x1,_0x5bedec),_0x2fe75e={'weekday':_0x510d70(0x25a),'day':_0x510d70(0x1fc),'month':_0x510d70(0x25a),'year':_0x510d70(0x1fc)};let _0x5386f6=_0x3e076a[_0x510d70(0x1cf)]('ru-RU',_0x2fe75e);_0x5386f6=_0x5386f6['charAt'](0x0)['toUpperCase']()+_0x5386f6['slice'](0x1),_0x53e1d9[_0x510d70(0x206)]=_0x5386f6;}function autoSetEndTime(){const _0x2a2a6b=a2_0x570647,_0x1c341e=document[_0x2a2a6b(0x1d2)](_0x2a2a6b(0x17e))[_0x2a2a6b(0x1e0)];if(!_0x1c341e)return;const [_0x67c7b6,_0x567b86]=_0x1c341e[_0x2a2a6b(0x13e)](':')[_0x2a2a6b(0x234)](Number);let _0x4bd6de=_0x67c7b6+0x1;if(_0x4bd6de>0x17)_0x4bd6de=0x0;const _0x406b64=String(_0x4bd6de)[_0x2a2a6b(0x192)](0x2,'0')+':'+String(_0x567b86)[_0x2a2a6b(0x192)](0x2,'0');document[_0x2a2a6b(0x1d2)](_0x2a2a6b(0x111))[_0x2a2a6b(0x1e0)]=_0x406b64;}function populateClientSelect(){const _0x505c62=a2_0x570647,_0x525898=document[_0x505c62(0x1d2)](_0x505c62(0x214));_0x525898[_0x505c62(0x262)]='';if(clients['length']===0x0){const _0x321e0e=document[_0x505c62(0xec)](_0x505c62(0x196));_0x321e0e[_0x505c62(0xee)]=_0x505c62(0x16b),_0x525898[_0x505c62(0x18a)](_0x321e0e);return;}clients[_0x505c62(0x251)](_0x1d64de=>{const _0x565b6f=_0x505c62,_0x4ba124=document[_0x565b6f(0xec)](_0x565b6f(0x196));_0x4ba124['value']=_0x1d64de[_0x565b6f(0x11b)],_0x4ba124[_0x565b6f(0x206)]=_0x1d64de[_0x565b6f(0x11b)],_0x525898[_0x565b6f(0x18a)](_0x4ba124);});}function openActionSheet(_0x27991a){const _0x11cbd1=a2_0x570647,_0x1437b1=document[_0x11cbd1(0x1d2)]('actionSheet'),_0x4d2574=document[_0x11cbd1(0x1d2)](_0x11cbd1(0x260)),_0x411461=document['getElementById']('asTitle'),_0x468b=document['getElementById'](_0x11cbd1(0x194)),_0x4fa37a=document[_0x11cbd1(0x1d2)](_0x11cbd1(0x153));_0x4d2574[_0x11cbd1(0x24f)][_0x11cbd1(0x12b)](_0x11cbd1(0x138)),_0x1437b1[_0x11cbd1(0x24f)][_0x11cbd1(0x12b)](_0x11cbd1(0x155));if(_0x27991a==='save')_0x411461[_0x11cbd1(0x206)]='–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏',_0x468b[_0x11cbd1(0x206)]=_0x11cbd1(0x16d),_0x468b[_0x11cbd1(0x1e7)]=()=>{const _0x4f0ecc=_0x11cbd1;closeActionSheet(),updateSeriesBatch(_0x4f0ecc(0x232),tempSessionData);},_0x4fa37a[_0x11cbd1(0x206)]=_0x11cbd1(0x160),_0x4fa37a[_0x11cbd1(0x1e7)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x27991a===_0x11cbd1(0x125)&&(_0x411461[_0x11cbd1(0x206)]=_0x11cbd1(0x173),_0x468b['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x468b[_0x11cbd1(0x147)]='as-button\x20danger',_0x468b[_0x11cbd1(0x1e7)]=()=>{const _0x36f7dd=_0x11cbd1;closeActionSheet(),commitDelete('single',sessions[_0x36f7dd(0x239)](_0x3e9fcb=>_0x3e9fcb['id']===editingId));},_0x4fa37a[_0x11cbd1(0x206)]=_0x11cbd1(0x160),_0x4fa37a[_0x11cbd1(0x147)]=_0x11cbd1(0x149),_0x4fa37a[_0x11cbd1(0x1e7)]=()=>{const _0x379d84=_0x11cbd1;closeActionSheet(),commitDelete('series',sessions[_0x379d84(0x239)](_0x3265ec=>_0x3265ec['id']===editingId));});}function closeActionSheet(){const _0x547d3f=a2_0x570647;document['getElementById'](_0x547d3f(0x1bd))[_0x547d3f(0x24f)][_0x547d3f(0xe9)](_0x547d3f(0x155)),document[_0x547d3f(0x1d2)](_0x547d3f(0x260))['classList']['remove'](_0x547d3f(0x138));}function openSettings(){const _0x341181=a2_0x570647;openSheet(_0x341181(0x167));}function saveCoachSettings(){const _0x446045=a2_0x570647,_0x4aeb98=document[_0x446045(0x1d2)](_0x446045(0x22a))['value'];localStorage[_0x446045(0x24e)](_0x446045(0x253),_0x4aeb98),console[_0x446045(0x218)](_0x446045(0x1dc),_0x4aeb98),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0x4aeb98}})[_0x446045(0x16c)](_0x201aad=>{const _0x42739e=_0x446045;console[_0x42739e(0x224)](_0x42739e(0x1aa),_0x201aad),showToast(_0x42739e(0x264),![]);});}function loadCoachSettings(){const _0x2c3b0d=a2_0x570647,_0x174225=localStorage['getItem'](_0x2c3b0d(0x253));_0x174225&&(document[_0x2c3b0d(0x1d2)](_0x2c3b0d(0x22a))[_0x2c3b0d(0x1e0)]=_0x174225);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x2f6112=a2_0x570647,_0x1adb91=document['getElementById'](_0x2f6112(0x24b))[_0x2f6112(0x1e0)],_0x186dfb=document[_0x2f6112(0x1d2)]('rangeStartTime')[_0x2f6112(0x1e0)],_0x32a348=document[_0x2f6112(0x1d2)](_0x2f6112(0xfd))[_0x2f6112(0x1e0)],_0x246f7e=document[_0x2f6112(0x1d2)](_0x2f6112(0x10c))[_0x2f6112(0x1e0)];if(!_0x1adb91||!_0x186dfb||!_0x32a348||!_0x246f7e)return alert(_0x2f6112(0x18c));const _0x179bbe=_0x1adb91+'T'+_0x186dfb,_0x352628=_0x32a348+'T'+_0x246f7e;if(_0x179bbe>=_0x352628)return alert(_0x2f6112(0x204));specialRanges[_0x2f6112(0x198)]({'start':_0x179bbe,'end':_0x352628}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2f6112(0x142)](),DataManager['fetchFromServer'](_0x2f6112(0x202),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5814f1){const _0x1492a0=a2_0x570647;specialRanges[_0x1492a0(0x230)](_0x5814f1,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x1492a0(0x202),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x42002a=a2_0x570647;document[_0x42002a(0x1d2)]('rangeStartDate')[_0x42002a(0x1e0)]='',document[_0x42002a(0x1d2)](_0x42002a(0x1a6))[_0x42002a(0x1e0)]=_0x42002a(0x24a),document[_0x42002a(0x1d2)](_0x42002a(0xfd))['value']='',document[_0x42002a(0x1d2)](_0x42002a(0x10c))[_0x42002a(0x1e0)]=_0x42002a(0x126);}function renderRangesList(){const _0x10c938=a2_0x570647,_0x555af6=document['getElementById'](_0x10c938(0x211));_0x555af6[_0x10c938(0x262)]='';if(!specialRanges[_0x10c938(0x17f)]){_0x555af6[_0x10c938(0x262)]=_0x10c938(0xeb);return;}specialRanges[_0x10c938(0x251)]((_0x248a20,_0x52b735)=>{const _0x2e00b6=_0x10c938,_0x25aee7=document['createElement'](_0x2e00b6(0x223));_0x25aee7['className']=_0x2e00b6(0x18b);const _0x3eb512=_0x163092=>{const _0x231e70=_0x2e00b6,_0x1cb0b9=new Date(_0x163092);return _0x1cb0b9[_0x231e70(0x20e)]()+'.'+String(_0x1cb0b9[_0x231e70(0x100)]()+0x1)[_0x231e70(0x192)](0x2,'0')+'\x20'+String(_0x1cb0b9[_0x231e70(0x250)]())[_0x231e70(0x192)](0x2,'0')+':'+String(_0x1cb0b9[_0x231e70(0x231)]())[_0x231e70(0x192)](0x2,'0');};_0x25aee7[_0x2e00b6(0x262)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x3eb512(_0x248a20[_0x2e00b6(0x189)])+_0x2e00b6(0x240)+_0x3eb512(_0x248a20[_0x2e00b6(0x1bf)])+_0x2e00b6(0x23c)+_0x52b735+_0x2e00b6(0x200),_0x555af6[_0x2e00b6(0x18a)](_0x25aee7);});}function scrollToToday(){const _0xaec8a8=a2_0x570647,_0x42fd26=getLocalDateStr(new Date()),_0x56fc48=document[_0xaec8a8(0x1d2)](_0xaec8a8(0x1b0)+_0x42fd26),_0x22eb1e=document['getElementById']('matrixViewport');if(_0x56fc48&&_0x22eb1e){const _0x1d10fb=_0x22eb1e['clientWidth'],_0x4dc7ac=_0x56fc48['offsetLeft'],_0x468245=_0x56fc48[_0xaec8a8(0x256)];_0x22eb1e[_0xaec8a8(0x1d5)]=_0x4dc7ac-_0x1d10fb/0x2+_0x468245/0x2,_0x22eb1e['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0xad57db=a2_0x570647,_0x3b8efd=document['getElementById'](_0xad57db(0x170)),_0x56cd26=document[_0xad57db(0x1a9)](_0xad57db(0x201));for(let _0x45f35 of _0x56cd26)if(_0x45f35[_0xad57db(0x12e)]>=_0x3b8efd[_0xad57db(0x1d5)]){const _0x106f9c=new Date(_0x45f35['getAttribute'](_0xad57db(0x107)));document[_0xad57db(0x1d2)](_0xad57db(0x18e))['textContent']=_0x106f9c[_0xad57db(0x261)]('ru',{'month':_0xad57db(0x25a)})[_0xad57db(0x17c)]()+'\x20'+_0x106f9c[_0xad57db(0x139)]();break;}}function showToast(_0x254fb5,_0xbad36d=![]){const _0x47d7be=a2_0x570647,_0x13fedf=document[_0x47d7be(0x1d2)](_0x47d7be(0x1dd));_0x13fedf[_0x47d7be(0x147)]='toast-notification\x20'+(_0xbad36d?_0x47d7be(0x1e9):''),document[_0x47d7be(0x1d2)](_0x47d7be(0x1e8))[_0x47d7be(0x206)]=_0xbad36d?_0x47d7be(0x1e3):_0x47d7be(0x252),document[_0x47d7be(0x1d2)]('toastMessage')['textContent']=_0x254fb5,_0x13fedf[_0x47d7be(0x24f)][_0x47d7be(0x12b)](_0x47d7be(0xf1)),setTimeout(()=>{const _0x47fc4e=_0x47d7be;_0x13fedf[_0x47fc4e(0x24f)]['remove'](_0x47fc4e(0xf1));},0xbb8);}function openDayOptions(_0x3f5c94,_0x2cebca){const _0x5c2a04=a2_0x570647;selectedDayForOptions=_0x3f5c94,document[_0x5c2a04(0x1d2)](_0x5c2a04(0x18f))[_0x5c2a04(0x206)]=_0x2cebca,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x7d6f1f=a2_0x570647;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x7d6f1f(0x14d),reRenderBlocks(),closeAllSheets(),DataManager[_0x7d6f1f(0x142)](),DataManager[_0x7d6f1f(0x112)](_0x7d6f1f(0x202),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x5403e1=a2_0x570647;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x5403e1(0x142)](),DataManager['fetchFromServer'](_0x5403e1(0x202),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x5e0a9d){const _0x4ffcef=a2_0x570647;document[_0x4ffcef(0x1d2)](_0x4ffcef(0x1b2))[_0x4ffcef(0x24f)][_0x4ffcef(0x12b)](_0x4ffcef(0x138)),document[_0x4ffcef(0x1d2)](_0x5e0a9d)[_0x4ffcef(0x24f)]['add'](_0x4ffcef(0x155));}function closeAllSheets(){const _0x1148d2=a2_0x570647;document[_0x1148d2(0x1d2)](_0x1148d2(0x1b2))[_0x1148d2(0x24f)]['remove'](_0x1148d2(0x138)),document[_0x1148d2(0x1a9)](_0x1148d2(0x1fa))[_0x1148d2(0x251)](_0x571dff=>_0x571dff[_0x1148d2(0x24f)][_0x1148d2(0xe9)](_0x1148d2(0x155)));}function openPatternEditor(){const _0x468530=a2_0x570647;closeAllSheets(),document[_0x468530(0x1d2)](_0x468530(0x12d))[_0x468530(0x24f)]['add'](_0x468530(0x155)),renderPatternEditor();}function a2_0x42be(){const _0x31daa8=['–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','setHours','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','location','seriesCountContainer','<div\x20class=\x22dch-day\x22>','search','setBackgroundColor','rangeEndDate','touchend','sheetDateSubtitle','getMonth','formatDate','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','recurringOptionContainer','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','msg','data-date','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','statLoadCard','.period-switch\x20.p-btn','rangeEndTime','getItem','setHeaderColor','clientWidth','globalTimeLine','inpEnd','fetchFromServer','status','</b>\x0a\x0a','warn','v9.0-BATCH-CALENDAR','colIndex','[Notify]\x20Client\x20SWAP\x20detected','\x20days','Server\x20Error','name','uc_settings_v9','130065yEIvcF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','sessionSheet','backgroundPosition','mini','inpDate','blocked-range-part\x20stripe-bg','delete','23:59','completed','toString','[Notify]\x20Error:\x20sessionData\x20is\x20null','floor','add','disableVerticalSwipes','patternEditor','offsetLeft','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','mousedown','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','style','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','borderRadius','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeColumn','complete','active','getFullYear','week','series','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','12XmcWEs','split','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','\x20-\x20','deleted','saveLocally','strokeDashoffset','rgba(255,\x2069,\x2058,\x200.15)','day-column\x20','ru-RU','className','setAttribute','as-button\x20danger\x20bold','block','<b>‚úÖ\x20','DOMContentLoaded','off','day-off-overlay\x20stripe-bg',']\x20Failed:','clients','clientId','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','asBtnSeries','touchmove','open','min','792276fuJtzq','btnDelete','note','cancel_window','backgroundColor','</div><div\x20class=\x22dch-num\x22>','getText','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','slice','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','7182594BeeiVa','\x20–∏–∑\x20','insertBefore','...','day-col-header\x20','doEventsList','settingsSheet','target','var(--acc-green)','send','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','catch','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','Local\x20Save\x20Error','%\x20+\x202px)','matrixViewport',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','guest','–£–¥–∞–ª–µ–Ω–∏–µ','\x20status-completed','timeLineBadge','px\x200px','calendar','[Sync]\x20Loading\x20','anStart','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','mouseup','toUpperCase','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','inpStart','length','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','[Notify]\x20Attempting\x20to\x20send:','querySelector','btn-status-toggle\x20undo-mode','substr','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','btnDayToggle','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','ready','start','appendChild','range-item','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','headerMonth','dayOptionsTitle','gridColumns','findIndex','padStart','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','asBtnOne','save','option','stringify','push','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','seriesId','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','user','borderColor','display','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20Network\x20Failed','sort','1018273kYnCZQ','Telegram','warning','10px','rangeStartTime','<div\x20class=\x22ev-title\x22>','exceptions','querySelectorAll','Save\x20settings\x20error:',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','update','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','</div><div\x20class=\x22ev-time\x22>','header-','startsWith','overlay','then','checked','4298483ZMifPp','toFixed','vibrate','Unknown','client','flex','client-stat-card','now','actionSheet','init_load','end','.day-off-overlay','calc(','includes','blocked-slot\x20stripe-bg','rgba(48,\x20209,\x2088,\x200.15)','create','getTime','100%','px\x20-','data','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','addEventListener','touchstart','toLocaleDateString','background','indexOf','getElementById','time-label','custom','scrollLeft','sid','localeCompare','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','cancel','[Series]\x20Skipped\x20','sheetTitle','[Settings]\x20Cancel\x20window\x20set\x20to:','toast','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','touches','value','uc_sessions_v9','mousemove','–£—Å–ø–µ—à–Ω–æ','788199UHETqN',':00</span>','inpSeriesCount','onclick','toastTitle','success','all','(((.+)+)+)+$','filter','patternInfoBox','doWorkHours','max','anEnd','setDate','borderLeftColor','6482344XaQznc','anPercent','anTotalStats','stopPropagation','planned','dateStr','none','.sheet','stat-','numeric','initDataUnsafe','closest','[Notify]\x20Error:\x20Text\x20generation\x20failed',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.day-col-header','save_settings','%\x20-\x204px)','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','textContent','createDocumentFragment','btn-primary\x20btn-secondary','round','rgba(255,\x2069,\x2058,\x200.3)','clientY','loadLocal','setMonth','getDate','WebApp','data-day-idx','rangesList','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','de-item','inpClient','from','btnStatusToggle','daysHeaderTrack','log','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','expand','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','inpRecurring','cancelled','Local\x20Load\x20Error','parse','btn-primary\x20btn-danger','div','error','pe-time-label','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','Error\x20setting\x20back\x20button:','</span>\x20/\x20','settingCancelWindow','getDay','syncLoad','btn-status-toggle','event-card','zIndex','splice','getMinutes','single','anCustomDates','map','width','batch_sync','getAttribute','mergeServerData','find','.pib-text','entries','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','charAt','198KWCxdK','pattern','\x20‚Äî\x20','[Notify]\x20Server\x20Response:','BackButton','ranges','doLoadPercent','var(--acc-red)','keys','settings','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','top','00:00','rangeStartDate','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','random','setItem','classList','getHours','forEach','–ò–Ω—Ñ–æ','uc_settings_cancel_window','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','Batch\x20Sync\x20OK','offsetWidth','rgba(',':\x20Client\x20already\x20booked','.day-column','long','color','valid',':00','today','analyticsList','actionSheetOverlay','toLocaleString','innerHTML','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','done','#050505','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','remove','total','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','createElement','undefined','text','doBusyHours','POST','show','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','router.html','left'];a2_0x42be=function(){return _0x31daa8;};return a2_0x42be();}function a2_0x7300(_0x422ffc,_0x35bbf1){_0x422ffc=_0x422ffc-0xe7;const _0x8059f5=a2_0x42be();let _0x506539=_0x8059f5[_0x422ffc];return _0x506539;}function closePatternEditor(){const _0x18c4d9=a2_0x570647;document[_0x18c4d9(0x1d2)](_0x18c4d9(0x12d))[_0x18c4d9(0x24f)][_0x18c4d9(0xe9)]('open');}function savePattern(){const _0x26a5f8=a2_0x570647;document[_0x26a5f8(0x1d2)]('patternEditor')[_0x26a5f8(0x24f)][_0x26a5f8(0xe9)](_0x26a5f8(0x155)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x26a5f8(0x112)](_0x26a5f8(0x202),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x51fa2f=a2_0x570647,_0x3ed6e2=document['getElementById']('peGrid');_0x3ed6e2[_0x51fa2f(0x262)]='';const _0x9dd311=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x2151f7=document['createElement'](_0x51fa2f(0x223));_0x2151f7['className']='pe-corner',_0x3ed6e2[_0x51fa2f(0x18a)](_0x2151f7),_0x9dd311[_0x51fa2f(0x251)]((_0xfa0ba7,_0x30043a)=>{const _0x32c382=_0x51fa2f,_0x31fc4d=document['createElement'](_0x32c382(0x223));_0x31fc4d['className']='pe-col-header',_0x31fc4d[_0x32c382(0x262)]=_0xfa0ba7+_0x32c382(0x1de),_0x31fc4d[_0x32c382(0x1e7)]=()=>toggleColPattern(_0x30043a),_0x3ed6e2[_0x32c382(0x18a)](_0x31fc4d);});for(let _0x44a580=0x0;_0x44a580<0x18;_0x44a580++){const _0x550274=document[_0x51fa2f(0xec)](_0x51fa2f(0x223));_0x550274[_0x51fa2f(0x147)]=_0x51fa2f(0x225),_0x550274['innerHTML']=_0x51fa2f(0x13c)+String(_0x44a580)[_0x51fa2f(0x192)](0x2,'0')+_0x51fa2f(0x25d),_0x550274['onclick']=()=>toggleRowPattern(_0x44a580),_0x3ed6e2[_0x51fa2f(0x18a)](_0x550274);for(let _0x562e5a=0x0;_0x562e5a<0x7;_0x562e5a++){const _0x1eec5a=document[_0x51fa2f(0xec)]('div'),_0x4c3123=(availabilityPattern[_0x562e5a]||[])[_0x51fa2f(0x1c2)](_0x44a580),_0xedfc34=!_0x4c3123;_0x1eec5a[_0x51fa2f(0x147)]='pe-cell\x20'+(_0xedfc34?_0x51fa2f(0x138):''),_0x1eec5a[_0x51fa2f(0x1e7)]=()=>toggleSinglePattern(_0x562e5a,_0x44a580),_0x3ed6e2[_0x51fa2f(0x18a)](_0x1eec5a);}}}function toggleSinglePattern(_0x411902,_0x2d2096){const _0x346ef1=a2_0x570647;if(!availabilityPattern[_0x411902])availabilityPattern[_0x411902]=[];const _0x415e40=availabilityPattern[_0x411902],_0x1f329b=_0x415e40[_0x346ef1(0x1d1)](_0x2d2096);_0x1f329b===-0x1?_0x415e40[_0x346ef1(0x198)](_0x2d2096):_0x415e40[_0x346ef1(0x230)](_0x1f329b,0x1),renderPatternEditor();}function toggleColPattern(_0xc39c07){const _0x3dd319=a2_0x570647;if(!availabilityPattern[_0xc39c07])availabilityPattern[_0xc39c07]=[];const _0x4c3e3e=availabilityPattern[_0xc39c07];_0x4c3e3e[_0x3dd319(0x17f)]===0x0?availabilityPattern[_0xc39c07]=Array[_0x3dd319(0x215)]({'length':0x18},(_0x11cae1,_0x48060b)=>_0x48060b):availabilityPattern[_0xc39c07]=[],renderPatternEditor();}function toggleRowPattern(_0x423e10){const _0x20b43f=a2_0x570647;let _0x43b2bf=!![];for(let _0x232ffb=0x0;_0x232ffb<0x7;_0x232ffb++){if((availabilityPattern[_0x232ffb]||[])[_0x20b43f(0x1c2)](_0x423e10)){_0x43b2bf=![];break;}}for(let _0x5eb544=0x0;_0x5eb544<0x7;_0x5eb544++){if(!availabilityPattern[_0x5eb544])availabilityPattern[_0x5eb544]=[];const _0x5b41aa=availabilityPattern[_0x5eb544][_0x20b43f(0x1d1)](_0x423e10);if(_0x43b2bf){if(_0x5b41aa===-0x1)availabilityPattern[_0x5eb544][_0x20b43f(0x198)](_0x423e10);}else{if(_0x5b41aa!==-0x1)availabilityPattern[_0x5eb544][_0x20b43f(0x230)](_0x5b41aa,0x1);}}renderPatternEditor();}function renderPCol(_0x38dabc,_0x43922c){const _0x4dddbe=a2_0x570647;_0x38dabc['innerHTML']='';const _0xb059a8=Math[_0x4dddbe(0x209)](_0x38dabc[_0x4dddbe(0x12e)]);(availabilityPattern[_0x43922c]||[])[_0x4dddbe(0x251)](_0x59c271=>{const _0x3baa3f=_0x4dddbe,_0x3e3545=document[_0x3baa3f(0xec)]('div');_0x3e3545['className']=_0x3baa3f(0x1c3);const _0x332b19=_0x59c271*GRID_H;_0x3e3545[_0x3baa3f(0x132)][_0x3baa3f(0x249)]=_0x332b19+'px',_0x3e3545['style'][_0x3baa3f(0x121)]='-'+_0xb059a8+_0x3baa3f(0x1c8)+_0x332b19+'px',_0x3e3545[_0x3baa3f(0x1e7)]=_0x80e26d=>{const _0x1e16cd=_0x3baa3f;_0x80e26d[_0x1e16cd(0x1f6)](),toggleSinglePattern(_0x43922c,_0x59c271);},_0x38dabc['appendChild'](_0x3e3545);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3fc599=a2_0x570647,_0x594372=new Date(),_0x4dce5d=document['getElementById'](_0x3fc599(0x110)),_0x29e6ca=document[_0x3fc599(0x1d2)]('timeLineBadge'),_0x1ab3d4=(_0x594372[_0x3fc599(0x250)]()*0x3c+_0x594372[_0x3fc599(0x231)]())/0x3c*GRID_H;_0x4dce5d[_0x3fc599(0x132)][_0x3fc599(0x249)]=_0x1ab3d4+'px',_0x4dce5d['style']['display']=_0x3fc599(0x14a),_0x29e6ca[_0x3fc599(0x206)]=String(_0x594372[_0x3fc599(0x250)]())[_0x3fc599(0x192)](0x2,'0')+':'+String(_0x594372[_0x3fc599(0x231)]())['padStart'](0x2,'0'),_0x29e6ca[_0x3fc599(0x132)]['display']='block',_0x29e6ca[_0x3fc599(0x132)][_0x3fc599(0x249)]=_0x1ab3d4+'px';}document[a2_0x570647(0x1cd)](a2_0x570647(0x14c),init);function openDayOptions(_0x46e679){const _0x1454f8=a2_0x570647;selectedDayForOptions=_0x46e679;const _0x482d47=new Date(_0x46e679),_0x19a671={'weekday':'long','day':_0x1454f8(0x1fc),'month':_0x1454f8(0x25a),'year':_0x1454f8(0x1fc)},_0xd071=_0x482d47[_0x1454f8(0x1cf)](_0x1454f8(0x146),_0x19a671);document[_0x1454f8(0x1d2)]('doDateHeader')[_0x1454f8(0x206)]=_0xd071[_0x1454f8(0x23d)](0x0)[_0x1454f8(0x17c)]()+_0xd071[_0x1454f8(0x15f)](0x1);let _0xfc4dcb=_0x482d47['getDay']()-0x1;if(_0xfc4dcb===-0x1)_0xfc4dcb=0x6;const _0x5471e6=availabilityPattern[_0xfc4dcb]||[],_0x47f788=0x18-_0x5471e6[_0x1454f8(0x17f)],_0x5bd378=_0x47f788*0x3c,_0x57f256=sessions[_0x1454f8(0x1ec)](_0x3192d9=>_0x3192d9['dateStr']===_0x46e679&&_0x3192d9[_0x1454f8(0x113)]!==_0x1454f8(0x21f));let _0x14c5d7=_0x57f256['map'](_0x2f5781=>{const _0xb436f=_0x1454f8,[_0x4f7ca8,_0x416e52]=_0x2f5781[_0xb436f(0x189)][_0xb436f(0x13e)](':')[_0xb436f(0x234)](Number),[_0x40fcfc,_0x5cc4ad]=_0x2f5781['end'][_0xb436f(0x13e)](':')['map'](Number);return[_0x4f7ca8*0x3c+_0x416e52,_0x40fcfc*0x3c+_0x5cc4ad];});_0x14c5d7['sort']((_0x17dd09,_0x5dcf49)=>_0x17dd09[0x0]-_0x5dcf49[0x0]);let _0x30fb63=[];if(_0x14c5d7[_0x1454f8(0x17f)]>0x0){let _0x3370bd=_0x14c5d7[0x0];for(let _0x4a500e=0x1;_0x4a500e<_0x14c5d7[_0x1454f8(0x17f)];_0x4a500e++){_0x14c5d7[_0x4a500e][0x0]<_0x3370bd[0x1]?_0x3370bd[0x1]=Math[_0x1454f8(0x1ef)](_0x3370bd[0x1],_0x14c5d7[_0x4a500e][0x1]):(_0x30fb63[_0x1454f8(0x198)](_0x3370bd),_0x3370bd=_0x14c5d7[_0x4a500e]);}_0x30fb63['push'](_0x3370bd);}let _0x442222=0x0;_0x30fb63['forEach'](_0x2644b4=>_0x442222+=_0x2644b4[0x1]-_0x2644b4[0x0]),document['getElementById'](_0x1454f8(0x1ee))[_0x1454f8(0x206)]=formatMinsToHrs(_0x5bd378),document[_0x1454f8(0x1d2)](_0x1454f8(0xef))[_0x1454f8(0x206)]=formatMinsToHrs(_0x442222);const _0x2cb65f=_0x5bd378>0x0?Math[_0x1454f8(0x209)](_0x442222/_0x5bd378*0x64):0x0,_0x563df9=document['getElementById'](_0x1454f8(0x244));_0x563df9['textContent']=_0x2cb65f+'%';const _0x4e0de=document[_0x1454f8(0x1d2)](_0x1454f8(0x10a));if(_0x2cb65f>0x64)_0x563df9['style']['color']=_0x1454f8(0x245),_0x4e0de['style'][_0x1454f8(0x19d)]=_0x1454f8(0x20a);else _0x2cb65f>0x50?(_0x563df9[_0x1454f8(0x132)][_0x1454f8(0x25b)]='var(--acc-orange)',_0x4e0de[_0x1454f8(0x132)][_0x1454f8(0x19d)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x563df9['style'][_0x1454f8(0x25b)]=_0x1454f8(0x169),_0x4e0de[_0x1454f8(0x132)]['borderColor']='rgba(255,255,255,0.05)');const _0x1776b6=document[_0x1454f8(0x1d2)](_0x1454f8(0x166));_0x1776b6[_0x1454f8(0x262)]='';_0x57f256['length']===0x0?_0x1776b6[_0x1454f8(0x262)]=_0x1454f8(0x21d):(_0x57f256[_0x1454f8(0x1a1)]((_0x2b9317,_0x50a004)=>_0x2b9317[_0x1454f8(0x189)][_0x1454f8(0x1d7)](_0x50a004['start'])),_0x57f256['forEach'](_0x59255d=>{const _0x523540=_0x1454f8,_0x55f73f=clients[_0x523540(0x239)](_0xc0f761=>_0xc0f761[_0x523540(0x11b)]===_0x59255d[_0x523540(0x1b9)]),_0x5d0319=_0x55f73f?_0x55f73f[_0x523540(0x25b)]:'#fff',_0x367607=_0x59255d['status']==='completed',_0x1ed19d=_0x367607?'<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>':'',_0x38f3f2=document[_0x523540(0xec)]('div');_0x38f3f2['className']=_0x523540(0x213),_0x38f3f2[_0x523540(0x132)][_0x523540(0x1f2)]=_0x5d0319,_0x38f3f2[_0x523540(0x262)]=_0x523540(0x11e)+_0x59255d[_0x523540(0x189)]+_0x523540(0x140)+_0x59255d[_0x523540(0x1bf)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59255d[_0x523540(0x1b9)]+_0x523540(0x135)+_0x1ed19d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1776b6[_0x523540(0x18a)](_0x38f3f2);}));const _0xd6d5bc=document[_0x1454f8(0x1d2)](_0x1454f8(0x186)),_0x46c8cf=dateExceptions[_0x46e679]===_0x1454f8(0x14d);_0x46c8cf?(_0xd6d5bc[_0x1454f8(0x206)]=_0x1454f8(0x109),_0xd6d5bc[_0x1454f8(0x147)]=_0x1454f8(0x208),_0xd6d5bc['style'][_0x1454f8(0x25b)]=_0x1454f8(0x169),_0xd6d5bc[_0x1454f8(0x132)][_0x1454f8(0x1d0)]=_0x1454f8(0x1c4)):(_0xd6d5bc[_0x1454f8(0x206)]=_0x1454f8(0x12f),_0xd6d5bc[_0x1454f8(0x147)]=_0x1454f8(0x222),_0xd6d5bc[_0x1454f8(0x132)][_0x1454f8(0x25b)]='var(--acc-red)',_0xd6d5bc[_0x1454f8(0x132)][_0x1454f8(0x1d0)]=_0x1454f8(0x144)),openSheet('dayOptionsSheet');}let currentAnPeriod=a2_0x570647(0x13a);function openAnalytics(){const _0x593982=a2_0x570647,_0x225b13=document['querySelector'](_0x593982(0x10b));setAnalyticsPeriod(_0x593982(0x13a),_0x225b13),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0xd62b19,_0x4b4e76){const _0x16675a=a2_0x570647;currentAnPeriod=_0xd62b19,document[_0x16675a(0x1a9)](_0x16675a(0x10b))['forEach'](_0x8ffdce=>_0x8ffdce[_0x16675a(0x24f)][_0x16675a(0xe9)]('active'));if(_0x4b4e76)_0x4b4e76[_0x16675a(0x24f)][_0x16675a(0x12b)](_0x16675a(0x138));const _0x1138a9=document['getElementById'](_0x16675a(0x233));_0x1138a9[_0x16675a(0x132)]['display']=_0xd62b19===_0x16675a(0x1d4)?_0x16675a(0x1ba):_0x16675a(0x1f9);const _0x4f2d5e=new Date();let _0x6c1c0d=new Date(),_0xbe6a09=new Date();if(_0xd62b19===_0x16675a(0x13a))_0x6c1c0d=getStartOfWeek(_0x4f2d5e),_0xbe6a09=new Date(_0x6c1c0d),_0xbe6a09['setDate'](_0xbe6a09['getDate']()+0x6);else{if(_0xd62b19==='month')_0x6c1c0d=new Date(_0x4f2d5e[_0x16675a(0x139)](),_0x4f2d5e[_0x16675a(0x100)](),0x1),_0xbe6a09=new Date(_0x4f2d5e['getFullYear'](),_0x4f2d5e[_0x16675a(0x100)]()+0x1,0x0);else{!document[_0x16675a(0x1d2)](_0x16675a(0x179))[_0x16675a(0x1e0)]&&(document[_0x16675a(0x1d2)](_0x16675a(0x179))['value']=getLocalDateStr(_0x4f2d5e),document['getElementById'](_0x16675a(0x1f0))['value']=getLocalDateStr(_0x4f2d5e));refreshAnalytics();return;}}document['getElementById'](_0x16675a(0x179))[_0x16675a(0x1e0)]=getLocalDateStr(_0x6c1c0d),document['getElementById'](_0x16675a(0x1f0))[_0x16675a(0x1e0)]=getLocalDateStr(_0xbe6a09),refreshAnalytics();}function refreshAnalytics(){const _0x19d67e=a2_0x570647,_0x1a4b37=document[_0x19d67e(0x1d2)](_0x19d67e(0x179))[_0x19d67e(0x1e0)],_0x13139f=document['getElementById']('anEnd')['value'];if(!_0x1a4b37||!_0x13139f)return;const _0x283d15=sessions[_0x19d67e(0x1ec)](_0x2de12b=>_0x2de12b['dateStr']>=_0x1a4b37&&_0x2de12b[_0x19d67e(0x1f8)]<=_0x13139f&&_0x2de12b[_0x19d67e(0x113)]!==_0x19d67e(0x21f)),_0x255cd2=_0x283d15[_0x19d67e(0x17f)],_0x31ad00=_0x283d15['filter'](_0x2e96bc=>_0x2e96bc['status']===_0x19d67e(0x127))['length'],_0xbec3f2=_0x255cd2>0x0?Math[_0x19d67e(0x209)](_0x31ad00/_0x255cd2*0x64):0x0;document[_0x19d67e(0x1d2)](_0x19d67e(0x1f4))['textContent']=_0xbec3f2+'%',document[_0x19d67e(0x1d2)](_0x19d67e(0x1f5))[_0x19d67e(0x206)]=_0x31ad00+_0x19d67e(0x162)+_0x255cd2+_0x19d67e(0x102);const _0xa7ddfe=document['getElementById']('anDonutCircle'),_0x59a844=0x2*Math['PI']*0x23,_0x5bb282=_0x59a844-_0xbec3f2/0x64*_0x59a844;_0xa7ddfe[_0x19d67e(0x132)][_0x19d67e(0x143)]=_0x5bb282;const _0x53c0ef={};_0x283d15[_0x19d67e(0x251)](_0x53e461=>{const _0x29dc0d=_0x19d67e;if(!_0x53c0ef[_0x53e461[_0x29dc0d(0x1b9)]]){const _0x44f5b9=clients[_0x29dc0d(0x239)](_0x426c06=>_0x426c06[_0x29dc0d(0x11b)]===_0x53e461['client']);_0x53c0ef[_0x53e461[_0x29dc0d(0x1b9)]]={'total':0x0,'done':0x0,'color':_0x44f5b9?_0x44f5b9[_0x29dc0d(0x25b)]:'#fff'};}_0x53c0ef[_0x53e461[_0x29dc0d(0x1b9)]]['total']++;if(_0x53e461[_0x29dc0d(0x113)]===_0x29dc0d(0x127))_0x53c0ef[_0x53e461[_0x29dc0d(0x1b9)]][_0x29dc0d(0x265)]++;});const _0x5c1da1=document[_0x19d67e(0x1d2)](_0x19d67e(0x25f));_0x5c1da1[_0x19d67e(0x262)]='';const _0x6ae550=Object[_0x19d67e(0x23b)](_0x53c0ef)[_0x19d67e(0x1a1)]((_0x330853,_0x1d0269)=>_0x1d0269[0x1][_0x19d67e(0xea)]-_0x330853[0x1][_0x19d67e(0xea)]);if(_0x6ae550['length']===0x0){_0x5c1da1[_0x19d67e(0x262)]=_0x19d67e(0x19f);return;}_0x6ae550[_0x19d67e(0x251)](([_0x232ae6,_0xa697fa])=>{const _0x25d71b=_0x19d67e,_0x33593c=Math[_0x25d71b(0x209)](_0xa697fa['done']/_0xa697fa['total']*0x64),_0x5d2a8f=document['createElement'](_0x25d71b(0x223));_0x5d2a8f['className']=_0x25d71b(0x1bb),_0x5d2a8f[_0x25d71b(0x132)][_0x25d71b(0x1f2)]=_0xa697fa['color'],_0x5d2a8f[_0x25d71b(0x262)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x232ae6+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0xa697fa[_0x25d71b(0x265)]+_0x25d71b(0x229)+_0xa697fa[_0x25d71b(0xea)]+_0x25d71b(0x1ae)+_0x33593c+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5c1da1['appendChild'](_0x5d2a8f);});}function formatMinsToHrs(_0x28e1e7){const _0x715d4c=a2_0x570647;if(_0x28e1e7===0x0)return'0';const _0x291102=Math[_0x715d4c(0x12a)](_0x28e1e7/0x3c),_0x3ef06a=_0x28e1e7%0x3c;if(_0x3ef06a===0x0)return _0x291102+'—á';return _0x291102+'—á\x20'+_0x3ef06a+'–º';}