const a2_0x155899=a2_0x18cc;(function(_0x2c5e32,_0x115c77){const _0x581b60=a2_0x18cc,_0x214041=_0x2c5e32();while(!![]){try{const _0x15a67d=-parseInt(_0x581b60(0xb0))/0x1*(-parseInt(_0x581b60(0x13b))/0x2)+-parseInt(_0x581b60(0x1db))/0x3+parseInt(_0x581b60(0xdb))/0x4+parseInt(_0x581b60(0x1c5))/0x5+parseInt(_0x581b60(0x157))/0x6+-parseInt(_0x581b60(0xd8))/0x7+-parseInt(_0x581b60(0xf1))/0x8;if(_0x15a67d===_0x115c77)break;else _0x214041['push'](_0x214041['shift']());}catch(_0x580074){_0x214041['push'](_0x214041['shift']());}}}(a2_0x58f1,0x78bb5),function initTMA(){const _0x19a8db=a2_0x18cc;try{const _0x2c9840=window['Telegram']?.[_0x19a8db(0x15f)];if(!_0x2c9840)return;_0x2c9840['ready'](),_0x2c9840['expand']();try{_0x2c9840['setHeaderColor']('#050505'),_0x2c9840[_0x19a8db(0x161)]&&_0x2c9840[_0x19a8db(0x161)](_0x19a8db(0x1b5));}catch(_0xae4e14){console[_0x19a8db(0x133)]('Error\x20setting\x20color:',_0xae4e14);}try{_0x2c9840[_0x19a8db(0x155)]&&(_0x2c9840[_0x19a8db(0x155)][_0x19a8db(0x18b)](),_0x2c9840['BackButton'][_0x19a8db(0xdf)](),_0x2c9840['BackButton'][_0x19a8db(0x159)](function(){const _0xa9a323=_0x19a8db;window[_0xa9a323(0x104)][_0xa9a323(0x16d)]='router.html';}));}catch(_0x482255){console['log'](_0x19a8db(0x1c9),_0x482255);}try{if(_0x2c9840[_0x19a8db(0x129)])_0x2c9840[_0x19a8db(0x129)]();}catch(_0x4ed37d){}}catch(_0x5a60f0){console[_0x19a8db(0x16b)](_0x19a8db(0x84),_0x5a60f0);}}());function isAdmin(){const _0x84a9ee=a2_0x18cc;try{const _0x22e815=Number(window[_0x84a9ee(0x12b)]?.[_0x84a9ee(0x15f)]?.[_0x84a9ee(0xe0)]?.['user']?.['id']);return _0x22e815===0xbaf7174;}catch(_0x335221){return![];}}const APP_VERSION=a2_0x155899(0x19f),API_URL=a2_0x155899(0x79),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x155899(0x164),KEY_SESSIONS=a2_0x155899(0xce),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5348c5=a2_0x155899;return window['Telegram']?.['WebApp']?.['initDataUnsafe']?.[_0x5348c5(0x7b)]?.['id']||_0x5348c5(0x19b);},'saveLocally'(){const _0x54cd3b=a2_0x155899;try{localStorage[_0x54cd3b(0x7a)](KEY_CLIENTS,JSON[_0x54cd3b(0xd7)](clients)),localStorage[_0x54cd3b(0x7a)](KEY_SESSIONS,JSON[_0x54cd3b(0xd7)](sessions)),localStorage[_0x54cd3b(0x7a)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x446cf4){console[_0x54cd3b(0x16b)](_0x54cd3b(0x1a7),_0x446cf4);}},'loadLocal'(){const _0x454c80=a2_0x155899;try{const _0x479afd=localStorage[_0x454c80(0xb6)](KEY_CLIENTS);if(_0x479afd)clients=JSON[_0x454c80(0x1a3)](_0x479afd);const _0x3a9f9a=localStorage['getItem'](KEY_SESSIONS);if(_0x3a9f9a)sessions=JSON[_0x454c80(0x1a3)](_0x3a9f9a);const _0x1ab20e=localStorage[_0x454c80(0xb6)](KEY_SETTINGS);if(_0x1ab20e){const _0x5ee93b=JSON[_0x454c80(0x1a3)](_0x1ab20e);if(_0x5ee93b[_0x454c80(0xee)])availabilityPattern=_0x5ee93b[_0x454c80(0xee)];if(_0x5ee93b[_0x454c80(0x88)])dateExceptions=_0x5ee93b[_0x454c80(0x88)];if(_0x5ee93b[_0x454c80(0xa2)])specialRanges=_0x5ee93b[_0x454c80(0xa2)];}else{for(let _0x2f9638=0x0;_0x2f9638<0x7;_0x2f9638++)availabilityPattern[_0x2f9638]=Array['from']({'length':0xc},(_0x5d5bff,_0x14455d)=>_0x14455d+0x9);}}catch(_0x4e781a){console[_0x454c80(0x16b)]('Local\x20Load\x20Error',_0x4e781a);}},async 'fetchFromServer'(_0x564dd1,_0x1d408b={}){const _0x4abc4d=a2_0x155899,_0x5798b3=window['Telegram']?.[_0x4abc4d(0x15f)],_0xb02c23={'action':_0x564dd1,'init_data':_0x5798b3?.[_0x4abc4d(0x181)]||'',..._0x1d408b};try{const _0x22dc63=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x4abc4d(0x77)},'body':JSON[_0x4abc4d(0xd7)](_0xb02c23)}),_0x1360e3=await _0x22dc63['json']();if(!_0x1360e3['ok'])throw new Error(_0x1360e3[_0x4abc4d(0x16b)]||_0x4abc4d(0xac));return _0x1360e3[_0x4abc4d(0x186)];}catch(_0x57cdf6){console[_0x4abc4d(0x16b)](_0x4abc4d(0x1dc)+_0x564dd1+_0x4abc4d(0xbb),_0x57cdf6);throw _0x57cdf6;}},async 'syncLoad'(){const _0x507e24=a2_0x155899,_0x4c41ec=new Date(),_0x5aba3b=_0x4c41ec[_0x507e24(0xb9)]()+'-'+String(_0x4c41ec[_0x507e24(0xd3)]()+0x1)['padStart'](0x2,'0'),_0x67b0d1=new Date(_0x4c41ec);_0x67b0d1[_0x507e24(0x1b1)](_0x4c41ec[_0x507e24(0xd3)]()+0x1);const _0x5e3a91=_0x67b0d1[_0x507e24(0xb9)]()+'-'+String(_0x67b0d1[_0x507e24(0xd3)]()+0x1)[_0x507e24(0x16f)](0x2,'0'),_0x45a761=Date['now']();console['log']('[Sync]\x20Loading\x20'+_0x5aba3b+',\x20'+_0x5e3a91+_0x507e24(0xf8));try{const [_0x10d51e,_0x20c161]=await Promise[_0x507e24(0x1b4)]([this[_0x507e24(0x114)](_0x507e24(0x170),{'month_str':_0x5aba3b}),this['fetchFromServer'](_0x507e24(0x170),{'month_str':_0x5e3a91})]);if(lastUserActionTime>_0x45a761)return console[_0x507e24(0xed)](_0x507e24(0xd2)),![];return this[_0x507e24(0x190)](_0x10d51e,_0x5aba3b),this['mergeServerData'](_0x20c161,_0x5e3a91),this['saveLocally'](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x13df4a){console['error'](_0x13df4a);throw _0x13df4a;}},'mergeServerData'(_0x3bf583,_0x3163bb){const _0x4cfef6=a2_0x155899;if(!_0x3bf583)return;_0x3bf583[_0x4cfef6(0x122)]&&Array[_0x4cfef6(0x168)](_0x3bf583[_0x4cfef6(0x122)])&&(clients=_0x3bf583[_0x4cfef6(0x122)]);if(_0x3bf583[_0x4cfef6(0x1c2)]){if(_0x3bf583[_0x4cfef6(0x1c2)]['pattern'])availabilityPattern=_0x3bf583[_0x4cfef6(0x1c2)]['pattern'];if(_0x3bf583[_0x4cfef6(0x1c2)][_0x4cfef6(0x88)])dateExceptions=_0x3bf583[_0x4cfef6(0x1c2)]['exceptions'];if(_0x3bf583[_0x4cfef6(0x1c2)][_0x4cfef6(0xa2)])specialRanges=_0x3bf583['settings'][_0x4cfef6(0xa2)];if(_0x3bf583[_0x4cfef6(0x1c2)][_0x4cfef6(0xc5)]){localStorage[_0x4cfef6(0x7a)](_0x4cfef6(0x158),_0x3bf583[_0x4cfef6(0x1c2)][_0x4cfef6(0xc5)]);const _0x2e534a=document[_0x4cfef6(0x182)](_0x4cfef6(0x80));if(_0x2e534a)_0x2e534a[_0x4cfef6(0xda)]=_0x3bf583[_0x4cfef6(0x1c2)][_0x4cfef6(0xc5)];}}_0x3bf583['calendar']&&(sessions=sessions[_0x4cfef6(0x86)](_0x3e4a31=>!_0x3e4a31[_0x4cfef6(0x165)]['startsWith'](_0x3163bb)),Object[_0x4cfef6(0x9f)](_0x3bf583['calendar'])[_0x4cfef6(0x9c)](_0x1c7978=>{const _0x395c5c=_0x4cfef6,_0x491590=_0x3bf583[_0x395c5c(0x1c3)][_0x1c7978];_0x491590[_0x395c5c(0x9c)](_0xb5daf9=>{const _0x59dacb=_0x395c5c,_0x2bdbb4=clients[_0x59dacb(0x11f)](_0x4835ac=>String(_0x4835ac['id'])===String(_0xb5daf9['c']));sessions[_0x59dacb(0x1b9)]({'id':_0xb5daf9['i'],'clientId':_0xb5daf9['c'],'client':_0x2bdbb4?_0x2bdbb4[_0x59dacb(0x96)]:_0x59dacb(0x135),'dateStr':_0x3163bb+'-'+_0x1c7978[_0x59dacb(0x16f)](0x2,'0'),'start':_0xb5daf9['s'],'end':_0xb5daf9['e'],'status':_0xb5daf9['st']||'planned','note':_0xb5daf9['n']||'','seriesId':_0xb5daf9[_0x59dacb(0x91)]||null});});}));},async 'syncBatch'(_0x393aef){const _0x5762e0=a2_0x155899,_0x266716=[...new Set(_0x393aef)],_0x507463=_0x266716[_0x5762e0(0x198)](_0x1bd3bc=>{const _0x197255=_0x5762e0,_0x50d6d2=sessions[_0x197255(0x86)](_0x5c3613=>_0x5c3613[_0x197255(0x165)]===_0x1bd3bc&&_0x5c3613['status']!=='deleted'),_0x1b8e12=_0x50d6d2[_0x197255(0x198)](_0x34fb67=>({'i':_0x34fb67['id'],'c':_0x34fb67[_0x197255(0x19d)],'s':_0x34fb67[_0x197255(0x171)],'e':_0x34fb67['end'],'st':_0x34fb67[_0x197255(0xe2)],'n':_0x34fb67[_0x197255(0x1d8)],'sid':_0x34fb67[_0x197255(0xf6)]}));return{'date':_0x1bd3bc,'day_data':_0x1b8e12};});if(_0x507463[_0x5762e0(0x148)]===0x0)return;console[_0x5762e0(0x133)](_0x5762e0(0x8c)+_0x507463['length']+_0x5762e0(0x1d0)),await this[_0x5762e0(0x114)](_0x5762e0(0x14a),{'changes':_0x507463});}};async function init(){const _0x4c40e7=a2_0x155899;DataManager[_0x4c40e7(0xc2)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document['getElementById'](_0x4c40e7(0xc7))[_0x4c40e7(0x1a0)](_0x4c40e7(0x180),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()['then'](()=>{const _0x45f4fd=_0x4c40e7;showToast(_0x45f4fd(0x19c),!![]);})['catch'](_0x12467b=>{const _0x33b002=_0x4c40e7;showToast(_0x33b002(0x152),![]);});}function generateId(){const _0x5c8363=a2_0x155899;return Date['now']()[_0x5c8363(0x19e)](0x24)+Math[_0x5c8363(0xfb)]()[_0x5c8363(0x19e)](0x24)[_0x5c8363(0x1c7)](0x2,0x5);}function toggleSeriesInput(){const _0x1e9e92=a2_0x155899,_0x4b6673=document[_0x1e9e92(0x182)](_0x1e9e92(0x130))['checked'],_0x341902=document[_0x1e9e92(0x182)](_0x1e9e92(0x139));_0x341902['style'][_0x1e9e92(0x1b2)]=_0x4b6673?_0x1e9e92(0xb4):_0x1e9e92(0xec);const _0x5f0786=document[_0x1e9e92(0x182)](_0x1e9e92(0x1cb));_0x5f0786[_0x1e9e92(0x118)][_0x1e9e92(0xc0)]=_0x4b6673?_0x1e9e92(0x1e3):'10px';}function openAddSession(_0x5c0402){const _0x2bee75=a2_0x155899;editingId=null,populateClientSelect(),document[_0x2bee75(0x182)](_0x2bee75(0x1a1))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document['getElementById'](_0x2bee75(0x78))[_0x2bee75(0x118)][_0x2bee75(0x1b2)]='none',document[_0x2bee75(0x182)](_0x2bee75(0xe9))[_0x2bee75(0x118)]['display']='none';const _0x2e69b4=document[_0x2bee75(0x182)](_0x2bee75(0x1cb)),_0x3f4338=document[_0x2bee75(0x182)](_0x2bee75(0x139));_0x2e69b4[_0x2bee75(0x118)][_0x2bee75(0x1b2)]=_0x2bee75(0x116),_0x2e69b4[_0x2bee75(0x118)][_0x2bee75(0xc0)]='10px',document['getElementById']('inpRecurring')['checked']=![],document[_0x2bee75(0x182)](_0x2bee75(0xfe))['value']=0x4,_0x3f4338[_0x2bee75(0x118)][_0x2bee75(0x1b2)]=_0x2bee75(0xec),document[_0x2bee75(0x182)]('inpDate')[_0x2bee75(0xda)]=getLocalDateStr(_0x5c0402),updateDateDisplay();const _0x1c1974=_0x5c0402[_0x2bee75(0x1c4)]();document['getElementById'](_0x2bee75(0xca))[_0x2bee75(0xda)]=String(_0x1c1974)[_0x2bee75(0x16f)](0x2,'0')+_0x2bee75(0xf0),document[_0x2bee75(0x182)](_0x2bee75(0x15d))[_0x2bee75(0xda)]=String(_0x1c1974+0x1)['padStart'](0x2,'0')+':00',openSheet('sessionSheet');}function openEdit(_0x320f57){const _0x55eabc=a2_0x155899;editingId=_0x320f57['id'],populateClientSelect(),document[_0x55eabc(0x182)](_0x55eabc(0x1a1))[_0x55eabc(0x1b7)]=_0x55eabc(0xf9),document[_0x55eabc(0x182)](_0x55eabc(0x78))['style']['display']=_0x55eabc(0xb4);const _0x558348=document['getElementById']('btnStatusToggle');_0x558348['style'][_0x55eabc(0x1b2)]=_0x55eabc(0x116);_0x320f57[_0x55eabc(0xe2)]===_0x55eabc(0x1b8)?(_0x558348['className']=_0x55eabc(0x120),_0x558348[_0x55eabc(0x188)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x558348[_0x55eabc(0x16a)]='btn-status-toggle',_0x558348[_0x55eabc(0x188)]=_0x55eabc(0x1a5));const _0x2966fe=!!_0x320f57[_0x55eabc(0xf6)];document[_0x55eabc(0x182)]('recurringOptionContainer')[_0x55eabc(0x118)][_0x55eabc(0x1b2)]=_0x55eabc(0xec),document[_0x55eabc(0x182)](_0x55eabc(0x139))[_0x55eabc(0x118)]['display']=_0x55eabc(0xec),_0x2966fe?(document['getElementById']('patternInfoBox')[_0x55eabc(0x118)]['display']='flex',document[_0x55eabc(0x182)](_0x55eabc(0x141))[_0x55eabc(0x150)](_0x55eabc(0x179))[_0x55eabc(0x1b7)]=_0x55eabc(0x1df)):document[_0x55eabc(0x182)]('patternInfoBox')['style']['display']='none',document['getElementById'](_0x55eabc(0x185))[_0x55eabc(0xda)]=_0x320f57[_0x55eabc(0x1d5)],document['getElementById'](_0x55eabc(0x97))[_0x55eabc(0xda)]=_0x320f57['dateStr'],document[_0x55eabc(0x182)](_0x55eabc(0xca))[_0x55eabc(0xda)]=_0x320f57[_0x55eabc(0x171)],document[_0x55eabc(0x182)](_0x55eabc(0x15d))[_0x55eabc(0xda)]=_0x320f57['end'],document[_0x55eabc(0x182)](_0x55eabc(0x1d1))['value']=_0x320f57['note']||'',updateDateDisplay(),openSheet(_0x55eabc(0x1ba));}async function trySaveSession(){const _0x59ad38=a2_0x155899,_0x4b4dc9=document[_0x59ad38(0x182)](_0x59ad38(0x185))[_0x59ad38(0xda)],_0x5c016a=document[_0x59ad38(0x182)]('inpDate')[_0x59ad38(0xda)],_0x174a03=document[_0x59ad38(0x182)]('inpStart')['value'],_0x13e111=document[_0x59ad38(0x182)]('inpEnd')[_0x59ad38(0xda)],_0x162ed0=document['getElementById'](_0x59ad38(0x1d1))[_0x59ad38(0xda)],_0x3a87a6=document[_0x59ad38(0x182)](_0x59ad38(0x130))[_0x59ad38(0x137)];let _0x5e5f41=0x4;if(_0x3a87a6){const _0x542de6=parseInt(document[_0x59ad38(0x182)]('inpSeriesCount')[_0x59ad38(0xda)]);if(!_0x542de6||_0x542de6<0x2){showToast('–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',![]);return;}if(_0x542de6>0x64){showToast(_0x59ad38(0xc8),![]);return;}_0x5e5f41=_0x542de6;}const _0x245e4d=clients[_0x59ad38(0x11f)](_0x11bd4f=>_0x11bd4f[_0x59ad38(0x96)]===_0x4b4dc9);if(!_0x245e4d){showToast(_0x59ad38(0x100),![]);return;}const _0x4c1f17=validateAppointment(_0x5c016a,_0x174a03,_0x13e111,editingId,_0x245e4d['id']);if(!_0x4c1f17['valid']){showToast(_0x4c1f17['msg'],![]);return;}_0x4c1f17[_0x59ad38(0x1bb)]&&showToast(_0x4c1f17[_0x59ad38(0x1bb)],![]);const _0x5cb903={'client':_0x4b4dc9,'clientId':_0x245e4d['id'],'start':_0x174a03,'end':_0x13e111,'note':_0x162ed0,'status':_0x59ad38(0x15a)},_0x4d0017=editingId?sessions['find'](_0x5a6617=>_0x5a6617['id']===editingId):null;if(_0x4d0017&&_0x4d0017[_0x59ad38(0xf6)]){tempSessionData={..._0x5cb903,'dateStr':_0x5c016a,'id':editingId,'seriesId':_0x4d0017['seriesId']},openActionSheet(_0x59ad38(0xbd));return;}let _0x32a4e6=null;if(!editingId)_0x32a4e6=_0x59ad38(0x121);else{if(_0x4d0017){if(String(_0x4d0017['clientId'])!==String(_0x245e4d['id']))console[_0x59ad38(0x133)](_0x59ad38(0xa9)),NotificationManager[_0x59ad38(0x11b)](_0x59ad38(0xe5),_0x4d0017),_0x32a4e6=_0x59ad38(0x121);else(_0x4d0017[_0x59ad38(0x171)]!==_0x174a03||_0x4d0017[_0x59ad38(0x12f)]!==_0x13e111||_0x4d0017[_0x59ad38(0x165)]!==_0x5c016a)&&(_0x32a4e6=_0x59ad38(0x193));}}if(!editingId&&_0x3a87a6){createBatchSeries(_0x5cb903,_0x5c016a,_0x5e5f41),NotificationManager[_0x59ad38(0x11b)](_0x59ad38(0x121),{..._0x5cb903,'dateStr':_0x5c016a});return;}lastUserActionTime=Date[_0x59ad38(0x128)]();const _0x72582b={..._0x5cb903,'dateStr':_0x5c016a,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x72582b),_0x32a4e6&&NotificationManager['send'](_0x32a4e6,_0x72582b);}function toggleSessionStatus(){const _0x2b348c=a2_0x155899;lastUserActionTime=Date[_0x2b348c(0x128)]();const _0xf02572=sessions['find'](_0xe021b2=>_0xe021b2['id']===editingId);if(!_0xf02572)return;const _0x542ca8=_0xf02572['status']===_0x2b348c(0x1b8)?'planned':_0x2b348c(0x1b8);_0xf02572[_0x2b348c(0xe2)]=_0x542ca8,saveSingleSession(_0xf02572),_0x542ca8===_0x2b348c(0x1b8)&&NotificationManager[_0x2b348c(0x11b)](_0x2b348c(0x134),_0xf02572),showToast(_0x542ca8===_0x2b348c(0x1b8)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x2b348c(0x1e4),!![]);}function validateAppointment(_0x22498d,_0xd561df,_0x2086db,_0x9bbdf9,_0x2aabd8){const _0x231b1a=a2_0x155899,[_0x33c178,_0x53c868]=_0xd561df[_0x231b1a(0x1cf)](':')[_0x231b1a(0x198)](Number),[_0x4c62f3,_0x2873dc]=_0x2086db['split'](':')[_0x231b1a(0x198)](Number),_0x1c00b0=_0x33c178*0x3c+_0x53c868,_0x36682c=_0x4c62f3*0x3c+_0x2873dc,_0x5c5683=String(_0x2aabd8);let _0x457e7c=![],_0x5c9534='';for(let _0x19abce of sessions){if(_0x19abce[_0x231b1a(0x165)]!==_0x22498d)continue;if(_0x19abce['status']===_0x231b1a(0x146))continue;if(_0x9bbdf9&&String(_0x19abce['id'])===String(_0x9bbdf9))continue;const [_0x5b1466,_0x51d39d]=_0x19abce[_0x231b1a(0x171)][_0x231b1a(0x1cf)](':')[_0x231b1a(0x198)](Number),[_0x3f7ba4,_0x291144]=_0x19abce[_0x231b1a(0x12f)][_0x231b1a(0x1cf)](':')['map'](Number),_0x42c56a=_0x5b1466*0x3c+_0x51d39d,_0x289428=_0x3f7ba4*0x3c+_0x291144;if(Math[_0x231b1a(0x17a)](_0x1c00b0,_0x42c56a)<Math[_0x231b1a(0x16c)](_0x36682c,_0x289428)){if(_0x19abce[_0x231b1a(0x19d)]&&String(_0x19abce[_0x231b1a(0x19d)])===_0x5c5683)return{'valid':![],'msg':_0x231b1a(0x18a)+_0x19abce['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x457e7c=!![],_0x5c9534=_0x19abce[_0x231b1a(0x1d5)];}}if(_0x457e7c)return{'valid':!![],'warning':_0x231b1a(0x1a9)+_0x5c9534};return{'valid':!![]};}function saveSingleSession(_0x47c94f){if(editingId){const _0x53a1ed=sessions['findIndex'](_0x2c2a44=>_0x2c2a44['id']===editingId);if(_0x53a1ed!==-0x1)sessions[_0x53a1ed]=_0x47c94f;}else sessions['push'](_0x47c94f);afterSaveAction([_0x47c94f['dateStr']]);}function createBatchSeries(_0x4a18ce,_0x237856,_0x5a9f56){const _0x5c9c8a=a2_0x155899,_0x501924=generateId(),_0x214ab4=[],_0xbc5a73=[];let _0x45386f=0x0,_0x336e01=new Date(_0x237856);for(let _0x44a5d8=0x0;_0x44a5d8<_0x5a9f56;_0x44a5d8++){const _0x5f4783=getLocalDateStr(_0x336e01),_0x2fdf4d=validateAppointment(_0x5f4783,_0x4a18ce[_0x5c9c8a(0x171)],_0x4a18ce['end'],null,_0x4a18ce['clientId']);if(!_0x2fdf4d[_0x5c9c8a(0xa7)])console['log']('[Series]\x20Skipped\x20'+_0x5f4783+_0x5c9c8a(0x106)),_0x45386f++;else{const _0x55bda2={..._0x4a18ce,'id':generateId(),'dateStr':_0x5f4783,'seriesId':_0x501924};_0xbc5a73[_0x5c9c8a(0x1b9)](_0x55bda2),_0x214ab4[_0x5c9c8a(0x1b9)](_0x5f4783);}_0x336e01[_0x5c9c8a(0x175)](_0x336e01[_0x5c9c8a(0xdd)]()+0x7);}if(_0xbc5a73[_0x5c9c8a(0x148)]===0x0){showToast(_0x5c9c8a(0x1d7),![]);return;}sessions[_0x5c9c8a(0x1b9)](..._0xbc5a73),lastUserActionTime=Date['now']();let _0x491a85=_0x5c9c8a(0x16e)+_0xbc5a73[_0x5c9c8a(0x148)];_0x45386f>0x0&&(_0x491a85+=_0x5c9c8a(0x183)+_0x45386f+')'),showToast(_0x491a85,!![]),afterSaveAction(_0x214ab4);}function updateSeriesBatch(_0xa47b55,_0x2836fd){const _0x11b1f1=a2_0x155899,_0x3d4d75=[],_0x1c2fed=_0x2836fd[_0x11b1f1(0xf6)];if(_0xa47b55==='single'){const _0x1ef8d9={..._0x2836fd,'seriesId':null},_0x208f7b=sessions[_0x11b1f1(0x1d4)](_0x1723ff=>_0x1723ff['id']===_0x2836fd['id']);if(_0x208f7b!==-0x1)sessions[_0x208f7b]=_0x1ef8d9;_0x3d4d75[_0x11b1f1(0x1b9)](_0x1ef8d9[_0x11b1f1(0x165)]);}else{if(_0xa47b55===_0x11b1f1(0x9b)){const _0x3fc5fb=_0x2836fd[_0x11b1f1(0x165)];sessions[_0x11b1f1(0x9c)]((_0xb82f09,_0x1221a4)=>{const _0x3d0c28=_0x11b1f1;_0xb82f09[_0x3d0c28(0xf6)]===_0x1c2fed&&_0xb82f09[_0x3d0c28(0x165)]>=_0x3fc5fb&&(sessions[_0x1221a4]={...sessions[_0x1221a4],'start':_0x2836fd[_0x3d0c28(0x171)],'end':_0x2836fd['end'],'note':_0x2836fd[_0x3d0c28(0x1d8)],'client':_0x2836fd[_0x3d0c28(0x1d5)],'clientId':_0x2836fd['clientId']},_0x3d4d75[_0x3d0c28(0x1b9)](_0xb82f09[_0x3d0c28(0x165)]));});}}afterSaveAction(_0x3d4d75);}function tryDeleteSession(){const _0x14c71d=a2_0x155899,_0x1009e1=sessions[_0x14c71d(0x11f)](_0x427542=>_0x427542['id']===editingId);if(!_0x1009e1)return;_0x1009e1['seriesId']?openActionSheet('delete'):commitDelete('single',_0x1009e1);}function commitDelete(_0x3441d2,_0x294b6c){const _0x4508f8=a2_0x155899;lastUserActionTime=Date[_0x4508f8(0x128)](),NotificationManager[_0x4508f8(0x11b)](_0x4508f8(0xe5),_0x294b6c);const _0x54b463=[];if(_0x3441d2===_0x4508f8(0xad))sessions=sessions[_0x4508f8(0x86)](_0x158168=>_0x158168['id']!==_0x294b6c['id']),_0x54b463[_0x4508f8(0x1b9)](_0x294b6c[_0x4508f8(0x165)]);else{if(_0x3441d2==='series'){const _0xa9c333=_0x294b6c[_0x4508f8(0x165)],_0x454b01=_0x294b6c[_0x4508f8(0xf6)];sessions[_0x4508f8(0x9c)](_0x4cdcb5=>{const _0x5df078=_0x4508f8;_0x4cdcb5[_0x5df078(0xf6)]===_0x454b01&&_0x4cdcb5[_0x5df078(0x165)]>=_0xa9c333&&_0x54b463[_0x5df078(0x1b9)](_0x4cdcb5[_0x5df078(0x165)]);}),sessions=sessions['filter'](_0x4e085c=>!(_0x4e085c[_0x4508f8(0xf6)]===_0x454b01&&_0x4e085c[_0x4508f8(0x165)]>=_0xa9c333));}}afterSaveAction(_0x54b463);}function afterSaveAction(_0x5d7783){const _0x5e2bce=a2_0x155899;DataManager[_0x5e2bce(0x11e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x5d7783)['then'](()=>console[_0x5e2bce(0x133)]('Batch\x20Sync\x20OK'))['catch'](_0x4e01d0=>showToast(_0x5e2bce(0xb8),![]));}const NotificationManager={'formatDate'(_0x514480){const _0x4e88d6=a2_0x155899,_0x378e58=new Date(_0x514480),_0x5d2b45={'weekday':'long','day':_0x4e88d6(0xbe),'month':_0x4e88d6(0x9e)};let _0x22171c=_0x378e58[_0x4e88d6(0x1bf)]('ru-RU',_0x5d2b45);return _0x22171c[_0x4e88d6(0x101)](0x0)['toUpperCase']()+_0x22171c['slice'](0x1);},'getText'(_0x316213,_0x48edc7){const _0xf13f0f=a2_0x155899,_0x224c8e=this[_0xf13f0f(0xe7)](_0x48edc7[_0xf13f0f(0x165)]);switch(_0x316213){case _0xf13f0f(0x121):return _0xf13f0f(0x1b3)+(_0xf13f0f(0x123)+_0x224c8e+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x48edc7[_0xf13f0f(0x171)]+_0xf13f0f(0xa4)+_0x48edc7[_0xf13f0f(0x12f)]+'\x0a\x0a')+_0xf13f0f(0xb3);case _0xf13f0f(0x193):return _0xf13f0f(0x1e0)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0xf13f0f(0x18d)+_0x48edc7[_0xf13f0f(0x171)]+'\x20‚Äî\x20'+_0x48edc7[_0xf13f0f(0x12f)]+'</b>\x0a\x0a')+(_0xf13f0f(0x123)+_0x224c8e);case _0xf13f0f(0xe5):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x224c8e+'\x20('+_0x48edc7[_0xf13f0f(0x171)]+_0xf13f0f(0x10a));case'complete':return _0xf13f0f(0x99)+_0xf13f0f(0xd0)+_0xf13f0f(0xab);default:return'';}},async 'send'(_0x46e0be,_0xdd66c1){const _0x435fb4=a2_0x155899;console[_0x435fb4(0x133)](_0x435fb4(0xe8),_0x46e0be,_0xdd66c1);if(!_0xdd66c1){console['error']('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x5b2c89=String(_0xdd66c1[_0x435fb4(0x19d)]);console[_0x435fb4(0x133)]('[Notify]\x20Detected\x20Client\x20ID:',_0x5b2c89);if(!_0xdd66c1['clientId']||_0x5b2c89===_0x435fb4(0x149)||_0x5b2c89==='null'){console['error'](_0x435fb4(0x14c));if(_0xdd66c1[_0x435fb4(0x1d5)]){const _0x516892=clients[_0x435fb4(0x11f)](_0x2493de=>_0x2493de[_0x435fb4(0x96)]===_0xdd66c1['client']);if(_0x516892)return console[_0x435fb4(0x133)]('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x516892['id']),this[_0x435fb4(0x11b)](_0x46e0be,{..._0xdd66c1,'clientId':_0x516892['id']});}return;}if(_0x5b2c89[_0x435fb4(0x148)]<0x5){console[_0x435fb4(0xed)](_0x435fb4(0xbc),_0x5b2c89);return;}const _0x277f49=this['getText'](_0x46e0be,_0xdd66c1);if(!_0x277f49){console[_0x435fb4(0x16b)](_0x435fb4(0xeb));return;}console[_0x435fb4(0x133)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x5b2c89+_0x435fb4(0xf8)),DataManager[_0x435fb4(0x114)](_0x435fb4(0xf5),{'chatId':_0x5b2c89,'text':_0x277f49})[_0x435fb4(0x107)](_0x3fe668=>console[_0x435fb4(0x133)](_0x435fb4(0xdc),_0x3fe668))[_0x435fb4(0x8d)](_0x478254=>console[_0x435fb4(0x16b)](_0x435fb4(0x156),_0x478254));}};function getLocalDateStr(_0x142f1d){const _0x509774=a2_0x155899,_0x42740d=_0x142f1d[_0x509774(0xb9)](),_0x2f64ac=String(_0x142f1d[_0x509774(0xd3)]()+0x1)['padStart'](0x2,'0'),_0x17bd8a=String(_0x142f1d[_0x509774(0xdd)]())[_0x509774(0x16f)](0x2,'0');return _0x42740d+'-'+_0x2f64ac+'-'+_0x17bd8a;}function getDateStr(_0x45f632){const _0x1c6f87=a2_0x155899,_0x10c4ef=new Date();return _0x10c4ef[_0x1c6f87(0x175)](_0x10c4ef[_0x1c6f87(0xdd)]()+_0x45f632),getLocalDateStr(_0x10c4ef);}function getStartOfWeek(_0x15b3d6){const _0x55ec33=a2_0x155899,_0x451268=(function(){let _0x1d0613=!![];return function(_0x549dbe,_0x430645){const _0x39517e=_0x1d0613?function(){const _0x4e7f42=a2_0x18cc;if(_0x430645){const _0x394e1c=_0x430645[_0x4e7f42(0xe1)](_0x549dbe,arguments);return _0x430645=null,_0x394e1c;}}:function(){};return _0x1d0613=![],_0x39517e;};}()),_0xadc050=_0x451268(this,function(){const _0x394d33=a2_0x18cc;return _0xadc050['toString']()[_0x394d33(0x108)](_0x394d33(0x162))[_0x394d33(0x19e)]()[_0x394d33(0xf7)](_0xadc050)[_0x394d33(0x108)](_0x394d33(0x162));});_0xadc050();const _0x2d7613=new Date(_0x15b3d6),_0x3f7e5c=_0x2d7613[_0x55ec33(0xc1)](),_0x228dbe=_0x2d7613[_0x55ec33(0xdd)]()-_0x3f7e5c+(_0x3f7e5c===0x0?-0x6:0x1);return _0x2d7613[_0x55ec33(0x175)](_0x228dbe),_0x2d7613['setHours'](0x0,0x0,0x0,0x0),_0x2d7613;}function hexToRgba(_0x4df806,_0x60ec2e){const _0x594adf=a2_0x155899;if(!_0x4df806)return _0x594adf(0x189);let _0x5afc9b=0x0,_0x27612a=0x0,_0x587cfd=0x0;if(_0x4df806[_0x594adf(0x148)]===0x4)_0x5afc9b='0x'+_0x4df806[0x1]+_0x4df806[0x1],_0x27612a='0x'+_0x4df806[0x2]+_0x4df806[0x2],_0x587cfd='0x'+_0x4df806[0x3]+_0x4df806[0x3];else _0x4df806['length']===0x7&&(_0x5afc9b='0x'+_0x4df806[0x1]+_0x4df806[0x2],_0x27612a='0x'+_0x4df806[0x3]+_0x4df806[0x4],_0x587cfd='0x'+_0x4df806[0x5]+_0x4df806[0x6]);return'rgba('+ +_0x5afc9b+',\x20'+ +_0x27612a+',\x20'+ +_0x587cfd+',\x20'+_0x60ec2e+')';}function renderTimeColumn(){const _0x3f54e0=a2_0x155899,_0x453efe=document[_0x3f54e0(0x182)](_0x3f54e0(0x90)),_0x3508d8=document[_0x3f54e0(0x182)](_0x3f54e0(0x1c1));_0x453efe[_0x3f54e0(0x188)]='',_0x453efe['appendChild'](_0x3508d8);for(let _0x16d6ec=0x0;_0x16d6ec<0x18;_0x16d6ec++){const _0x37ee4b=document[_0x3f54e0(0x8f)](_0x3f54e0(0x142));_0x37ee4b[_0x3f54e0(0x16a)]=_0x3f54e0(0x18c);if(_0x16d6ec>0x0)_0x37ee4b[_0x3f54e0(0x188)]='<span>'+String(_0x16d6ec)[_0x3f54e0(0x16f)](0x2,'0')+_0x3f54e0(0x1a8);_0x453efe[_0x3f54e0(0x12a)](_0x37ee4b);}}function renderDayRange(_0x997174,_0x207eb0){const _0x4afed6=a2_0x155899,_0x266cc8=document['getElementById']('daysHeaderTrack'),_0x15ffc7=document[_0x4afed6(0x182)](_0x4afed6(0x10e)),_0x13ef67=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x31ee96=new Date();_0x31ee96['setHours'](0x0,0x0,0x0,0x0);const _0x21590b=getLocalDateStr(new Date());for(let _0x3df7a0=_0x997174;_0x3df7a0<=_0x207eb0;_0x3df7a0++){const _0x4447b6=new Date(_0x31ee96);_0x4447b6[_0x4afed6(0x175)](_0x4447b6[_0x4afed6(0xdd)]()+_0x3df7a0);const _0x4898b5=getLocalDateStr(_0x4447b6);let _0x5756f9=_0x4447b6['getDay']()-0x1;if(_0x5756f9===-0x1)_0x5756f9=0x6;const _0x213b0c=_0x4898b5===_0x21590b,_0x1de6a5=document['createElement'](_0x4afed6(0x142));_0x1de6a5['className']='day-col-header\x20'+(_0x213b0c?'today':''),_0x1de6a5['id']=_0x4afed6(0xf2)+_0x4898b5,_0x1de6a5[_0x4afed6(0x112)](_0x4afed6(0x197),_0x4898b5),_0x1de6a5[_0x4afed6(0x188)]=_0x4afed6(0xcb)+_0x13ef67[_0x5756f9]+'</div><div\x20class=\x22dch-num\x22>'+_0x4447b6[_0x4afed6(0xdd)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x4898b5+_0x4afed6(0x1be),_0x1de6a5[_0x4afed6(0xa1)]=()=>openDayOptions(_0x4898b5,_0x13ef67[_0x5756f9]+'\x20'+_0x4447b6[_0x4afed6(0xdd)]()),_0x266cc8[_0x4afed6(0x12a)](_0x1de6a5);const _0x57e9da=document[_0x4afed6(0x8f)](_0x4afed6(0x142));_0x57e9da[_0x4afed6(0x16a)]=_0x4afed6(0xd4)+(_0x213b0c?_0x4afed6(0x1bd):''),_0x57e9da[_0x4afed6(0x112)](_0x4afed6(0x197),_0x4898b5),_0x57e9da[_0x4afed6(0x112)](_0x4afed6(0x82),_0x5756f9),renderEventsForColumn(_0x57e9da,_0x4898b5,_0x5756f9),attachLongPressHandler(_0x57e9da,_0x4447b6),_0x15ffc7[_0x4afed6(0x12a)](_0x57e9da),updateDayStats(_0x4898b5);}}function reRenderBlocks(){const _0x462af8=a2_0x155899;document[_0x462af8(0x18f)](_0x462af8(0x17f))[_0x462af8(0x9c)](_0x1cbd6f=>{const _0x254f9a=_0x462af8;_0x1cbd6f[_0x254f9a(0x18f)](_0x254f9a(0x15e))[_0x254f9a(0x9c)](_0x1b0a74=>_0x1b0a74[_0x254f9a(0x7c)]());const _0x3941f2=_0x1cbd6f[_0x254f9a(0xa0)]('data-date'),_0x24a6f6=parseInt(_0x1cbd6f[_0x254f9a(0xa0)](_0x254f9a(0x82))),_0x3893fa=Math['round'](_0x1cbd6f[_0x254f9a(0x13a)]);(availabilityPattern[_0x24a6f6]||[])[_0x254f9a(0x9c)](_0x4f77fc=>{const _0x385d6e=_0x254f9a,_0x54c8ad=document[_0x385d6e(0x8f)](_0x385d6e(0x142));_0x54c8ad[_0x385d6e(0x16a)]='blocked-slot\x20stripe-bg';const _0x36d899=_0x4f77fc*GRID_H;_0x54c8ad[_0x385d6e(0x118)]['top']=_0x36d899+'px',_0x54c8ad[_0x385d6e(0x118)][_0x385d6e(0xaf)]='-'+_0x3893fa+_0x385d6e(0x132)+_0x36d899+'px',_0x1cbd6f['appendChild'](_0x54c8ad);});if(specialRanges&&specialRanges[_0x254f9a(0x148)]>0x0){const _0x45f65a=new Date(_0x3941f2+_0x254f9a(0x110))[_0x254f9a(0xef)](),_0x479b80=new Date(_0x3941f2+'T23:59:59')[_0x254f9a(0xef)]();specialRanges[_0x254f9a(0x9c)](_0x2ab628=>{const _0x21afe8=_0x254f9a,_0x553452=new Date(_0x2ab628[_0x21afe8(0x171)])[_0x21afe8(0xef)](),_0x19443d=new Date(_0x2ab628[_0x21afe8(0x12f)])[_0x21afe8(0xef)](),_0x3bfd49=Math[_0x21afe8(0x17a)](_0x45f65a,_0x553452),_0x5de0a5=Math[_0x21afe8(0x16c)](_0x479b80,_0x19443d);if(_0x3bfd49<_0x5de0a5){if(_0x3bfd49<=_0x45f65a&&_0x5de0a5>=_0x479b80-0xea60){if(!_0x1cbd6f['querySelector'](_0x21afe8(0x8e))){const _0x1d74de=document[_0x21afe8(0x8f)]('div');_0x1d74de['className']=_0x21afe8(0x173),_0x1d74de[_0x21afe8(0x118)][_0x21afe8(0xaf)]='-'+_0x3893fa+_0x21afe8(0x187),_0x1cbd6f[_0x21afe8(0x12a)](_0x1d74de);}}else{const _0x5047d1=(_0x3bfd49-_0x45f65a)/0x36ee80*GRID_H,_0x25d59f=(_0x5de0a5-_0x3bfd49)/0x36ee80*GRID_H,_0x44a1f2=document['createElement']('div');_0x44a1f2[_0x21afe8(0x16a)]=_0x21afe8(0x1d6),_0x44a1f2[_0x21afe8(0x118)][_0x21afe8(0x1a4)]=_0x5047d1+'px',_0x44a1f2[_0x21afe8(0x118)][_0x21afe8(0x119)]=_0x25d59f+'px',_0x44a1f2['style'][_0x21afe8(0xaf)]='-'+_0x3893fa+_0x21afe8(0x132)+_0x5047d1+'px',_0x1cbd6f['appendChild'](_0x44a1f2);}}});}if(dateExceptions[_0x3941f2]===_0x254f9a(0x11c)){if(!_0x1cbd6f[_0x254f9a(0x150)](_0x254f9a(0x8e))){const _0x803c36=document[_0x254f9a(0x8f)](_0x254f9a(0x142));_0x803c36[_0x254f9a(0x16a)]=_0x254f9a(0x173),_0x803c36['style']['backgroundPosition']='-'+_0x3893fa+_0x254f9a(0x187),_0x1cbd6f[_0x254f9a(0x12a)](_0x803c36);}}renderEventsForColumn(_0x1cbd6f,_0x3941f2,_0x24a6f6),updateDayStats(_0x3941f2);});}function updateAllDayStats(){const _0x4329c6=a2_0x155899;document[_0x4329c6(0x18f)]('.day-col-header')[_0x4329c6(0x9c)](_0x2e106a=>{const _0x39d6bc=_0x4329c6;updateDayStats(_0x2e106a[_0x39d6bc(0xa0)]('data-date'));});}function updateDayStats(_0x17ba00){const _0x375130=a2_0x155899,_0x1be892=document[_0x375130(0x182)]('stat-'+_0x17ba00);if(!_0x1be892)return;const _0x227c6f=new Date(_0x17ba00);let _0x4f5a14=_0x227c6f[_0x375130(0xc1)]()-0x1;if(_0x4f5a14===-0x1)_0x4f5a14=0x6;if(dateExceptions[_0x17ba00]==='off'){_0x1be892[_0x375130(0x118)][_0x375130(0x1b2)]='none';return;}const _0x46f71f=availabilityPattern[_0x4f5a14]||[],_0x323b41=0x18-_0x46f71f[_0x375130(0x148)],_0x351099=_0x323b41*0x3c,_0x3156cc=sessions[_0x375130(0x86)](_0x329426=>_0x329426[_0x375130(0x165)]===_0x17ba00&&_0x329426[_0x375130(0xe2)]!==_0x375130(0x146));if(_0x3156cc[_0x375130(0x148)]===0x0){_0x1be892[_0x375130(0x118)][_0x375130(0x1b2)]=_0x375130(0xec);return;}let _0x185f6c=_0x3156cc['map'](_0x597fac=>{const _0x32afda=_0x375130,[_0xb988f6,_0x1c7d3b]=_0x597fac['start'][_0x32afda(0x1cf)](':')[_0x32afda(0x198)](Number),[_0x5047ca,_0x4b5fe2]=_0x597fac[_0x32afda(0x12f)][_0x32afda(0x1cf)](':')[_0x32afda(0x198)](Number);return[_0xb988f6*0x3c+_0x1c7d3b,_0x5047ca*0x3c+_0x4b5fe2];});_0x185f6c[_0x375130(0x14f)]((_0x13bd8a,_0xda656d)=>_0x13bd8a[0x0]-_0xda656d[0x0]);let _0x4e370b=[];if(_0x185f6c[_0x375130(0x148)]>0x0){let _0xb0cfb5=_0x185f6c[0x0];for(let _0x1de7c8=0x1;_0x1de7c8<_0x185f6c[_0x375130(0x148)];_0x1de7c8++){_0x185f6c[_0x1de7c8][0x0]<_0xb0cfb5[0x1]?_0xb0cfb5[0x1]=Math[_0x375130(0x17a)](_0xb0cfb5[0x1],_0x185f6c[_0x1de7c8][0x1]):(_0x4e370b[_0x375130(0x1b9)](_0xb0cfb5),_0xb0cfb5=_0x185f6c[_0x1de7c8]);}_0x4e370b[_0x375130(0x1b9)](_0xb0cfb5);}let _0x12c59d=0x0;_0x4e370b['forEach'](_0x37b46b=>_0x12c59d+=_0x37b46b[0x1]-_0x37b46b[0x0]),_0x1be892[_0x375130(0x118)][_0x375130(0x1b2)]='flex';const _0x2c28f1=_0x1be892[_0x375130(0x150)]('.dch-stats-fill');if(_0x351099===0x0){_0x2c28f1[_0x375130(0x118)]['width']=_0x375130(0x89),_0x2c28f1[_0x375130(0x118)][_0x375130(0xc4)]=_0x375130(0x127);return;}const _0x1d5d31=_0x12c59d/_0x351099*0x64;console['log']('['+_0x17ba00+_0x375130(0x194)+_0x323b41+_0x375130(0x153)+_0x12c59d+_0x375130(0xe4)+_0x1d5d31[_0x375130(0x178)](0x1)+'%'),_0x1d5d31>0x64?(_0x2c28f1['style'][_0x375130(0x1ae)]=_0x375130(0x89),_0x2c28f1[_0x375130(0x118)][_0x375130(0xc4)]=_0x375130(0x127)):(_0x2c28f1['style'][_0x375130(0x1ae)]=_0x1d5d31+'%',_0x2c28f1[_0x375130(0x118)][_0x375130(0xc4)]=_0x375130(0xea));}function renderEventsForColumn(_0x148894,_0x56f04a,_0x3c8dfe){const _0xf5f336=a2_0x155899,_0xedc957=sessions['filter'](_0x13a71a=>_0x13a71a[_0xf5f336(0x165)]===_0x56f04a),_0x139c9c=_0xedc957[_0xf5f336(0x198)](_0x675969=>{const _0x1ae19d=_0xf5f336,[_0x54a11f,_0x25b8ca]=_0x675969['start']['split'](':')['map'](Number),[_0x2d1e22,_0x10987f]=_0x675969[_0x1ae19d(0x12f)][_0x1ae19d(0x1cf)](':')['map'](Number);return{'data':_0x675969,'start':_0x54a11f*0x3c+_0x25b8ca,'end':_0x2d1e22*0x3c+_0x10987f,'colIndex':0x0};});_0x139c9c[_0xf5f336(0x14f)]((_0x20c85e,_0x28d5fc)=>{const _0x5d723a=_0xf5f336;if(_0x20c85e[_0x5d723a(0x171)]!==_0x28d5fc['start'])return _0x20c85e[_0x5d723a(0x171)]-_0x28d5fc[_0x5d723a(0x171)];return _0x28d5fc[_0x5d723a(0x12f)]-_0x28d5fc[_0x5d723a(0x171)]-(_0x20c85e[_0x5d723a(0x12f)]-_0x20c85e['start']);});const _0x5653c5=[];_0x139c9c[_0xf5f336(0x9c)](_0x47c122=>{const _0x5048f0=_0xf5f336;let _0x12b136=![];for(let _0x329e72=0x0;_0x329e72<_0x5653c5[_0x5048f0(0x148)];_0x329e72++){const _0x39b859=_0x5653c5[_0x329e72],_0x4266a2=_0x39b859[_0x39b859[_0x5048f0(0x148)]-0x1];if(_0x47c122[_0x5048f0(0x171)]>=_0x4266a2[_0x5048f0(0x12f)]){_0x39b859[_0x5048f0(0x1b9)](_0x47c122),_0x47c122[_0x5048f0(0xb2)]=_0x329e72,_0x12b136=!![];break;}}!_0x12b136&&(_0x5653c5[_0x5048f0(0x1b9)]([_0x47c122]),_0x47c122[_0x5048f0(0xb2)]=_0x5653c5['length']-0x1);}),_0x139c9c[_0xf5f336(0x9c)](_0xcfd62d=>{const _0x3dc322=_0xf5f336;let _0x115cc6=0x0;_0x139c9c[_0x3dc322(0x9c)](_0x594ffc=>{const _0x579831=_0x3dc322;if(Math[_0x579831(0x17a)](_0xcfd62d[_0x579831(0x171)],_0x594ffc[_0x579831(0x171)])<Math[_0x579831(0x16c)](_0xcfd62d[_0x579831(0x12f)],_0x594ffc[_0x579831(0x12f)])){if(_0x594ffc[_0x579831(0xb2)]>_0x115cc6)_0x115cc6=_0x594ffc[_0x579831(0xb2)];}});const _0x2c0103=_0x115cc6+0x1,_0x5f3311=0x64/_0x2c0103,_0x49f5f7=_0xcfd62d['colIndex']*_0x5f3311,_0xfebf9e=createEventEl(_0xcfd62d[_0x3dc322(0x186)]);_0xfebf9e[_0x3dc322(0x118)][_0x3dc322(0x1ae)]=_0x3dc322(0x102)+_0x5f3311+_0x3dc322(0x191),_0xfebf9e[_0x3dc322(0x118)]['left']=_0x3dc322(0x102)+_0x49f5f7+_0x3dc322(0x13e),_0xfebf9e['style']['zIndex']=0xa+_0xcfd62d['colIndex'],_0x5f3311<0x55&&_0xfebf9e[_0x3dc322(0xb5)][_0x3dc322(0x1ac)](_0x3dc322(0x138)),_0x148894[_0x3dc322(0x12a)](_0xfebf9e);});}function createEventEl(_0x3328ab){const _0x2179ca=a2_0x155899,[_0x47e1de,_0x4ffa1e]=_0x3328ab[_0x2179ca(0x171)]['split'](':')[_0x2179ca(0x198)](Number),[_0x6622d8,_0x3a98d7]=_0x3328ab[_0x2179ca(0x12f)][_0x2179ca(0x1cf)](':')[_0x2179ca(0x198)](Number),_0x22485a=(_0x47e1de*0x3c+_0x4ffa1e)/0x3c*GRID_H,_0x11466a=(_0x6622d8*0x3c+_0x3a98d7-(_0x47e1de*0x3c+_0x4ffa1e))/0x3c*GRID_H,_0x5d0b25=document[_0x2179ca(0x8f)](_0x2179ca(0x142)),_0x4f317=_0x3328ab[_0x2179ca(0xe2)]===_0x2179ca(0x1b8)?'\x20status-completed':'';_0x5d0b25[_0x2179ca(0x16a)]='event-card'+_0x4f317,_0x5d0b25[_0x2179ca(0x118)][_0x2179ca(0x1a4)]=_0x22485a+'px',_0x5d0b25[_0x2179ca(0x118)]['height']=Math['max'](_0x11466a,0x14)+'px';const _0x424661=clients[_0x2179ca(0x11f)](_0x32d619=>_0x3328ab[_0x2179ca(0x19d)]&&String(_0x32d619['id'])===String(_0x3328ab[_0x2179ca(0x19d)])||_0x32d619[_0x2179ca(0x96)]===_0x3328ab[_0x2179ca(0x1d5)]),_0x2fdfbd=_0x424661?_0x424661[_0x2179ca(0x98)]:_0x2179ca(0x125);_0x5d0b25['style'][_0x2179ca(0x12c)]=_0x2fdfbd,_0x5d0b25[_0x2179ca(0x118)][_0x2179ca(0xfc)]=hexToRgba(_0x2fdfbd,0.85);let _0x266873=_0x2179ca(0xc6)+_0x3328ab['client']+_0x2179ca(0x17c)+_0x3328ab['start']+_0x2179ca(0x1b0)+_0x3328ab[_0x2179ca(0x12f)]+_0x2179ca(0x8b);return _0x3328ab['seriesId']&&(_0x266873+=_0x2179ca(0x13d)),_0x3328ab[_0x2179ca(0xe2)]==='completed'&&(_0x266873+=_0x2179ca(0x166)),_0x5d0b25['innerHTML']=_0x266873,_0x5d0b25[_0x2179ca(0xa1)]=_0x145282=>{const _0x3e5387=_0x2179ca;_0x145282[_0x3e5387(0x160)](),openEdit(_0x3328ab);},_0x5d0b25;}function attachLongPressHandler(_0x24d2d9,_0xade22a){const _0x58921a=a2_0x155899;let _0x3e8c1e=0x0,_0x470363=null;const _0x43c28d=_0x3aced5=>{const _0x147b0d=a2_0x18cc;if(_0x3aced5[_0x147b0d(0xc9)][_0x147b0d(0x131)]('.event-card'))return;isScrolling=![],_0x3e8c1e=_0x3aced5[_0x147b0d(0x169)]?_0x3aced5[_0x147b0d(0x169)][0x0]['clientY']:_0x3aced5[_0x147b0d(0xd5)],_0x470363=setTimeout(()=>{const _0x17c4dd=_0x147b0d;if(!isScrolling){navigator[_0x17c4dd(0x174)]?.(0x32);const _0x139c8a=_0x24d2d9[_0x17c4dd(0xcd)](),_0x2e8b97=Math['floor']((_0x3e8c1e-_0x139c8a[_0x17c4dd(0x1a4)])/GRID_H);_0xade22a[_0x17c4dd(0x7e)](_0x2e8b97,0x0),openAddSession(_0xade22a);}},0x1f4);},_0x27e1ee=()=>{isScrolling=!![],clearTimeout(_0x470363);},_0x5e174e=()=>{clearTimeout(_0x470363);};_0x24d2d9[_0x58921a(0x1a0)]('touchstart',_0x43c28d,{'passive':!![]}),_0x24d2d9[_0x58921a(0x1a0)]('touchmove',_0x27e1ee,{'passive':!![]}),_0x24d2d9[_0x58921a(0x1a0)]('touchend',_0x5e174e),_0x24d2d9[_0x58921a(0x1a0)](_0x58921a(0x94),_0x43c28d),_0x24d2d9[_0x58921a(0x1a0)](_0x58921a(0x167),_0x27e1ee),_0x24d2d9['addEventListener'](_0x58921a(0x1e5),_0x5e174e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x54e6cb=a2_0x155899,_0x379af0=document['getElementById'](_0x54e6cb(0xc7)),_0x2208fe=_0x379af0[_0x54e6cb(0xe3)],_0x1faa3b=_0x379af0[_0x54e6cb(0xf4)],_0x3dcdbf=_0x379af0['clientWidth'];if(_0x1faa3b-(_0x2208fe+_0x3dcdbf)<0x12c){const _0x22c1d8=endOffset;endOffset+=0xe,renderDayRange(_0x22c1d8+0x1,endOffset),reRenderBlocks();}if(_0x2208fe<0x12c){const _0x5ae47f=startOffset;startOffset-=0xe,prependDays(startOffset,_0x5ae47f-0x1),_0x379af0[_0x54e6cb(0xe3)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2e474d,_0x190935){const _0x31e0e1=a2_0x155899,_0x4b303f=document[_0x31e0e1(0x182)](_0x31e0e1(0x83)),_0x43f501=document[_0x31e0e1(0x182)](_0x31e0e1(0x10e)),_0x282d84=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x27b211=new Date();_0x27b211[_0x31e0e1(0x7e)](0x0,0x0,0x0,0x0);const _0x14ab76=getLocalDateStr(new Date()),_0x1609be=document[_0x31e0e1(0x1d2)](),_0x371739=document[_0x31e0e1(0x1d2)]();for(let _0x5a801e=_0x2e474d;_0x5a801e<=_0x190935;_0x5a801e++){const _0x4bdd24=new Date(_0x27b211);_0x4bdd24[_0x31e0e1(0x175)](_0x4bdd24[_0x31e0e1(0xdd)]()+_0x5a801e);const _0x28e65b=getLocalDateStr(_0x4bdd24);let _0x1ffb2c=_0x4bdd24[_0x31e0e1(0xc1)]()-0x1;if(_0x1ffb2c===-0x1)_0x1ffb2c=0x6;const _0x504d5b=_0x28e65b===_0x14ab76,_0x3414cb=document[_0x31e0e1(0x8f)]('div');_0x3414cb[_0x31e0e1(0x16a)]='day-col-header\x20'+(_0x504d5b?'today':''),_0x3414cb['id']=_0x31e0e1(0xf2)+_0x28e65b,_0x3414cb[_0x31e0e1(0x112)](_0x31e0e1(0x197),_0x28e65b),_0x3414cb[_0x31e0e1(0x188)]=_0x31e0e1(0xcb)+_0x282d84[_0x1ffb2c]+'</div><div\x20class=\x22dch-num\x22>'+_0x4bdd24[_0x31e0e1(0xdd)]()+_0x31e0e1(0x11a)+_0x28e65b+_0x31e0e1(0x1be),_0x3414cb[_0x31e0e1(0xa1)]=()=>openDayOptions(_0x28e65b,_0x282d84[_0x1ffb2c]+'\x20'+_0x4bdd24[_0x31e0e1(0xdd)]()),_0x1609be['appendChild'](_0x3414cb);const _0xf31b6e=document[_0x31e0e1(0x8f)](_0x31e0e1(0x142));_0xf31b6e['className']=_0x31e0e1(0xd4)+(_0x504d5b?_0x31e0e1(0x1bd):''),_0xf31b6e[_0x31e0e1(0x112)]('data-date',_0x28e65b),_0xf31b6e[_0x31e0e1(0x112)](_0x31e0e1(0x82),_0x1ffb2c),renderEventsForColumn(_0xf31b6e,_0x28e65b,_0x1ffb2c),attachLongPressHandler(_0xf31b6e,_0x4bdd24),_0x371739[_0x31e0e1(0x12a)](_0xf31b6e),updateDayStats(_0x28e65b);}_0x4b303f[_0x31e0e1(0x18e)](_0x1609be,_0x4b303f['firstChild']),_0x43f501[_0x31e0e1(0x18e)](_0x371739,_0x43f501[_0x31e0e1(0x150)](_0x31e0e1(0x184)));}function validateAppointment(_0x1cc8c2,_0x7f40d5,_0x1baa6c,_0x21d0bd,_0x57a525){const _0x3ad442=a2_0x155899,[_0x18376a,_0x233f58]=_0x7f40d5[_0x3ad442(0x1cf)](':')[_0x3ad442(0x198)](Number),[_0x57bff9,_0x2c3740]=_0x1baa6c['split'](':')[_0x3ad442(0x198)](Number),_0x5614ab=_0x18376a*0x3c+_0x233f58,_0x2bfbc7=_0x57bff9*0x3c+_0x2c3740,_0x4f4d92=String(_0x57a525);let _0x3fcd4a=![],_0x1759d4='';for(let _0x2b76ea of sessions){if(_0x2b76ea['dateStr']!==_0x1cc8c2)continue;if(_0x2b76ea[_0x3ad442(0xe2)]==='cancelled')continue;if(_0x21d0bd&&String(_0x2b76ea['id'])===String(_0x21d0bd))continue;const [_0x5b8e33,_0x5c453c]=_0x2b76ea[_0x3ad442(0x171)]['split'](':')[_0x3ad442(0x198)](Number),[_0x4e785e,_0x4d385a]=_0x2b76ea[_0x3ad442(0x12f)][_0x3ad442(0x1cf)](':')[_0x3ad442(0x198)](Number),_0x28abca=_0x5b8e33*0x3c+_0x5c453c,_0x19989d=_0x4e785e*0x3c+_0x4d385a;if(Math[_0x3ad442(0x17a)](_0x5614ab,_0x28abca)<Math[_0x3ad442(0x16c)](_0x2bfbc7,_0x19989d)){if(_0x2b76ea['clientId']&&String(_0x2b76ea['clientId'])===_0x4f4d92)return{'valid':![],'msg':_0x3ad442(0x18a)+_0x2b76ea[_0x3ad442(0x1d5)]+_0x3ad442(0x8a)};_0x3fcd4a=!![],_0x1759d4=_0x2b76ea[_0x3ad442(0x1d5)];}}if(_0x3fcd4a)return{'valid':!![],'warning':_0x3ad442(0x1a9)+_0x1759d4};return{'valid':!![]};}function updateDateDisplay(){const _0x406ee2=a2_0x155899,_0x256842=document[_0x406ee2(0x182)](_0x406ee2(0x97))[_0x406ee2(0xda)],_0x39a4b4=document[_0x406ee2(0x182)]('sheetDateSubtitle');if(!_0x256842){_0x39a4b4[_0x406ee2(0x1b7)]='';return;}const [_0x249d67,_0x4401f6,_0x2d755c]=_0x256842['split']('-')[_0x406ee2(0x198)](Number),_0x3b22a0=new Date(_0x249d67,_0x4401f6-0x1,_0x2d755c),_0x3abec3={'weekday':_0x406ee2(0x9e),'day':_0x406ee2(0xbe),'month':_0x406ee2(0x9e),'year':_0x406ee2(0xbe)};let _0x47f588=_0x3b22a0[_0x406ee2(0x1bf)]('ru-RU',_0x3abec3);_0x47f588=_0x47f588['charAt'](0x0)[_0x406ee2(0x81)]()+_0x47f588['slice'](0x1),_0x39a4b4['textContent']=_0x47f588;}function autoSetEndTime(){const _0x45b16c=a2_0x155899,_0x50c7d0=document['getElementById'](_0x45b16c(0xca))[_0x45b16c(0xda)];if(!_0x50c7d0)return;const [_0x5d1986,_0x465cfb]=_0x50c7d0[_0x45b16c(0x1cf)](':')[_0x45b16c(0x198)](Number);let _0x5c2a53=_0x5d1986+0x1;if(_0x5c2a53>0x17)_0x5c2a53=0x0;const _0x122386=String(_0x5c2a53)[_0x45b16c(0x16f)](0x2,'0')+':'+String(_0x465cfb)[_0x45b16c(0x16f)](0x2,'0');document[_0x45b16c(0x182)](_0x45b16c(0x15d))['value']=_0x122386;}function a2_0x18cc(_0x13cb2b,_0x3a82b1){_0x13cb2b=_0x13cb2b-0x77;const _0x39a7c5=a2_0x58f1();let _0x59a6d1=_0x39a7c5[_0x13cb2b];return _0x59a6d1;}function populateClientSelect(){const _0x2ff197=a2_0x155899,_0x4b46ca=document[_0x2ff197(0x182)](_0x2ff197(0x185));_0x4b46ca[_0x2ff197(0x188)]='';if(clients[_0x2ff197(0x148)]===0x0){const _0x54e28c=document[_0x2ff197(0x8f)](_0x2ff197(0x117));_0x54e28c[_0x2ff197(0xc3)]=_0x2ff197(0x10d),_0x4b46ca[_0x2ff197(0x12a)](_0x54e28c);return;}clients[_0x2ff197(0x9c)](_0x44b799=>{const _0x419858=_0x2ff197,_0x322846=document[_0x419858(0x8f)](_0x419858(0x117));_0x322846[_0x419858(0xda)]=_0x44b799[_0x419858(0x96)],_0x322846[_0x419858(0x1b7)]=_0x44b799[_0x419858(0x96)],_0x4b46ca[_0x419858(0x12a)](_0x322846);});}function openActionSheet(_0x4deb4d){const _0x2d3a5a=a2_0x155899,_0x4331cb=document[_0x2d3a5a(0x182)](_0x2d3a5a(0xde)),_0x198967=document[_0x2d3a5a(0x182)](_0x2d3a5a(0x14e)),_0x430111=document['getElementById'](_0x2d3a5a(0xcc)),_0x2eee79=document[_0x2d3a5a(0x182)]('asBtnOne'),_0x55240a=document[_0x2d3a5a(0x182)](_0x2d3a5a(0x14d));_0x198967[_0x2d3a5a(0xb5)][_0x2d3a5a(0x1ac)](_0x2d3a5a(0x163)),_0x4331cb[_0x2d3a5a(0xb5)][_0x2d3a5a(0x1ac)](_0x2d3a5a(0x19a));if(_0x4deb4d===_0x2d3a5a(0xbd))_0x430111[_0x2d3a5a(0x1b7)]=_0x2d3a5a(0x10f),_0x2eee79[_0x2d3a5a(0x1b7)]=_0x2d3a5a(0x195),_0x2eee79[_0x2d3a5a(0xa1)]=()=>{const _0xb4978a=_0x2d3a5a;closeActionSheet(),updateSeriesBatch(_0xb4978a(0xad),tempSessionData);},_0x55240a['textContent']='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x55240a[_0x2d3a5a(0xa1)]=()=>{const _0x119437=_0x2d3a5a;closeActionSheet(),updateSeriesBatch(_0x119437(0x9b),tempSessionData);};else _0x4deb4d===_0x2d3a5a(0x140)&&(_0x430111[_0x2d3a5a(0x1b7)]=_0x2d3a5a(0x9d),_0x2eee79['textContent']=_0x2d3a5a(0x195),_0x2eee79['className']=_0x2d3a5a(0x13c),_0x2eee79[_0x2d3a5a(0xa1)]=()=>{const _0x4a7e4f=_0x2d3a5a;closeActionSheet(),commitDelete(_0x4a7e4f(0xad),sessions[_0x4a7e4f(0x11f)](_0x4fdee8=>_0x4fdee8['id']===editingId));},_0x55240a[_0x2d3a5a(0x1b7)]=_0x2d3a5a(0xb1),_0x55240a[_0x2d3a5a(0x16a)]=_0x2d3a5a(0xd6),_0x55240a['onclick']=()=>{const _0x3fd4c6=_0x2d3a5a;closeActionSheet(),commitDelete(_0x3fd4c6(0x9b),sessions[_0x3fd4c6(0x11f)](_0x425ce1=>_0x425ce1['id']===editingId));});}function closeActionSheet(){const _0x1c1fe7=a2_0x155899;document[_0x1c1fe7(0x182)](_0x1c1fe7(0xde))['classList'][_0x1c1fe7(0x7c)]('open'),document[_0x1c1fe7(0x182)](_0x1c1fe7(0x14e))[_0x1c1fe7(0xb5)][_0x1c1fe7(0x7c)](_0x1c1fe7(0x163));}function openSettings(){const _0x185cf1=a2_0x155899;openSheet(_0x185cf1(0x1e1));}function saveCoachSettings(){const _0x179162=a2_0x155899,_0x1b65b8=document[_0x179162(0x182)]('settingCancelWindow')[_0x179162(0xda)];localStorage[_0x179162(0x7a)]('uc_settings_cancel_window',_0x1b65b8),console[_0x179162(0x133)](_0x179162(0x1cd),_0x1b65b8),DataManager[_0x179162(0x114)](_0x179162(0x124),{'settings':{'cancel_window':_0x1b65b8}})[_0x179162(0x8d)](_0x16463d=>{const _0x467e20=_0x179162;console[_0x467e20(0x16b)](_0x467e20(0x199),_0x16463d),showToast(_0x467e20(0x136),![]);});}function loadCoachSettings(){const _0x1f2e92=a2_0x155899,_0x3b28f0=localStorage['getItem'](_0x1f2e92(0x158));_0x3b28f0&&(document[_0x1f2e92(0x182)](_0x1f2e92(0x80))['value']=_0x3b28f0);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x51e612=a2_0x155899,_0x178d01=document[_0x51e612(0x182)](_0x51e612(0x1af))[_0x51e612(0xda)],_0x572ad6=document['getElementById'](_0x51e612(0x1aa))['value'],_0x2279aa=document['getElementById'](_0x51e612(0x1ca))[_0x51e612(0xda)],_0x49ad00=document[_0x51e612(0x182)](_0x51e612(0x1de))[_0x51e612(0xda)];if(!_0x178d01||!_0x572ad6||!_0x2279aa||!_0x49ad00)return alert(_0x51e612(0x1cc));const _0x3db04d=_0x178d01+'T'+_0x572ad6,_0x134a4a=_0x2279aa+'T'+_0x49ad00;if(_0x3db04d>=_0x134a4a)return alert(_0x51e612(0x93));specialRanges['push']({'start':_0x3db04d,'end':_0x134a4a}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x51e612(0x11e)](),DataManager['fetchFromServer'](_0x51e612(0x124),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x5716bc){const _0x469630=a2_0x155899;specialRanges['splice'](_0x5716bc,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x469630(0x11e)](),DataManager['fetchFromServer'](_0x469630(0x124),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x3fb937=a2_0x155899;document['getElementById']('rangeStartDate')[_0x3fb937(0xda)]='',document['getElementById'](_0x3fb937(0x1aa))['value']='00:00',document[_0x3fb937(0x182)](_0x3fb937(0x1ca))[_0x3fb937(0xda)]='',document[_0x3fb937(0x182)]('rangeEndTime')[_0x3fb937(0xda)]=_0x3fb937(0xff);}function renderRangesList(){const _0x444269=a2_0x155899,_0x5e12c3=document[_0x444269(0x182)](_0x444269(0xcf));_0x5e12c3['innerHTML']='';if(!specialRanges[_0x444269(0x148)]){_0x5e12c3[_0x444269(0x188)]=_0x444269(0x1c6);return;}specialRanges[_0x444269(0x9c)]((_0x1c7f4e,_0x5df553)=>{const _0x52852f=_0x444269,_0x92f6b3=document[_0x52852f(0x8f)]('div');_0x92f6b3[_0x52852f(0x16a)]=_0x52852f(0xa3);const _0x43a5a2=_0x3dd951=>{const _0x4d787d=_0x52852f,_0x4105b5=new Date(_0x3dd951);return _0x4105b5[_0x4d787d(0xdd)]()+'.'+String(_0x4105b5['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x4105b5[_0x4d787d(0x1c4)]())[_0x4d787d(0x16f)](0x2,'0')+':'+String(_0x4105b5[_0x4d787d(0x87)]())[_0x4d787d(0x16f)](0x2,'0');};_0x92f6b3[_0x52852f(0x188)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>'+_0x43a5a2(_0x1c7f4e[_0x52852f(0x171)])+_0x52852f(0xa4)+_0x43a5a2(_0x1c7f4e['end'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x5df553+_0x52852f(0x144),_0x5e12c3[_0x52852f(0x12a)](_0x92f6b3);});}function scrollToToday(){const _0x5e0a14=a2_0x155899,_0x105aef=getLocalDateStr(new Date()),_0x1d14eb=document[_0x5e0a14(0x182)](_0x5e0a14(0xf2)+_0x105aef),_0xae2f9e=document[_0x5e0a14(0x182)](_0x5e0a14(0xc7));if(_0x1d14eb&&_0xae2f9e){const _0x3f853c=_0xae2f9e[_0x5e0a14(0x9a)],_0x5356d4=_0x1d14eb[_0x5e0a14(0x13a)],_0x293f84=_0x1d14eb[_0x5e0a14(0xba)];_0xae2f9e[_0x5e0a14(0xe3)]=_0x5356d4-_0x3f853c/0x2+_0x293f84/0x2,_0xae2f9e['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x93f2d1=a2_0x155899,_0x3ddf9a=document[_0x93f2d1(0x182)](_0x93f2d1(0xc7)),_0x3c4a50=document[_0x93f2d1(0x18f)](_0x93f2d1(0x145));for(let _0x5b3b01 of _0x3c4a50)if(_0x5b3b01[_0x93f2d1(0x13a)]>=_0x3ddf9a[_0x93f2d1(0xe3)]){const _0x19a4c2=new Date(_0x5b3b01[_0x93f2d1(0xa0)](_0x93f2d1(0x197)));document[_0x93f2d1(0x182)](_0x93f2d1(0x1c0))[_0x93f2d1(0x1b7)]=_0x19a4c2[_0x93f2d1(0x7d)]('ru',{'month':'long'})[_0x93f2d1(0x81)]()+'\x20'+_0x19a4c2[_0x93f2d1(0xb9)]();break;}}function showToast(_0x2a04c1,_0xd5541=![]){const _0x1b5a05=a2_0x155899,_0x3075fc=document[_0x1b5a05(0x182)]('toast');_0x3075fc[_0x1b5a05(0x16a)]=_0x1b5a05(0x196)+(_0xd5541?'success':''),document[_0x1b5a05(0x182)](_0x1b5a05(0x85))[_0x1b5a05(0x1b7)]=_0xd5541?'–£—Å–ø–µ—à–Ω–æ':_0x1b5a05(0x17e),document[_0x1b5a05(0x182)](_0x1b5a05(0x12d))[_0x1b5a05(0x1b7)]=_0x2a04c1,_0x3075fc[_0x1b5a05(0xb5)][_0x1b5a05(0x1ac)](_0x1b5a05(0x18b)),setTimeout(()=>{const _0x304da1=_0x1b5a05;_0x3075fc[_0x304da1(0xb5)][_0x304da1(0x7c)]('show');},0xbb8);}function a2_0x58f1(){const _0x2df8ea=['rgba(255,\x2069,\x2058,\x200.3)','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','getFullYear','offsetWidth',']\x20Failed:','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','save','numeric','week','borderRadius','getDay','loadLocal','text','background','cancel_window','<div\x20class=\x22ev-title\x22>','matrixViewport','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','target','inpStart','<div\x20class=\x22dch-day\x22>','asTitle','getBoundingClientRect','uc_sessions_v9','rangesList','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','getMonth','day-column\x20','clientY','as-button\x20danger\x20bold','stringify','4639880xNBnvJ','pe-col-header','value','3744196WQIquy','[Notify]\x20Server\x20Response:','getDate','actionSheet','offClick','initDataUnsafe','apply','status','scrollLeft','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','cancel','indexOf','formatDate','[Notify]\x20Attempting\x20to\x20send:','btnStatusToggle','var(--acc-current)','[Notify]\x20Error:\x20Text\x20generation\x20failed','none','warn','pattern','getTime',':00','2630144WtJgdp','header-','pe-corner','scrollWidth','send_notification','seriesId','constructor','...','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','btnDayToggle','random','backgroundColor','month','inpSeriesCount','23:59','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','charAt','calc(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','location','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>',':\x20Client\x20already\x20booked','then','search','includes',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','</span>\x20/\x20','var(--acc-green)','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','gridColumns','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','T00:00:00','slice','setAttribute','ru-RU','fetchFromServer','localeCompare','flex','option','style','height','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','send','off','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','saveLocally','find','btn-status-toggle\x20undo-mode','create','clients','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','save_settings','#0a84ff','doDateHeader','var(--acc-red)','now','disableVerticalSwipes','appendChild','Telegram','borderLeftColor','toastMessage','anStart','end','inpRecurring','closest','px\x20-','log','complete','Unknown','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','checked','mini','seriesCountContainer','offsetLeft','35620HPiMZk','as-button\x20danger','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','%\x20+\x202px)','anTotalStats','delete','patternInfoBox','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','.day-col-header','cancelled','round','length','undefined','batch_sync','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','asBtnSeries','actionSheetOverlay','sort','querySelector','.period-switch\x20.p-btn','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','client-stat-card','BackButton','[Notify]\x20Network\x20Failed','1826976AUuFfe','uc_settings_cancel_window','onClick','planned','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','borderColor','inpEnd','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','WebApp','stopPropagation','setBackgroundColor','(((.+)+)+)+$','active','uc_clients_v9','dateStr','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','mousemove','isArray','touches','className','error','min','href','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','padStart','init_load','start','pe-cell\x20','day-off-overlay\x20stripe-bg','vibrate','setDate','total','#fff','toFixed','.pib-text','max','overlay','</div><div\x20class=\x22ev-time\x22>','entries','–ò–Ω—Ñ–æ','#gridColumns\x20.day-column','scroll','initData','getElementById','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','.day-column','inpClient','data','px\x200px','innerHTML','rgba(100,100,100,0.5)','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','show','time-label','<b>‚úÖ\x20','insertBefore','querySelectorAll','mergeServerData','%\x20-\x204px)','anEnd','update',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','toast-notification\x20','data-date','map','Save\x20settings\x20error:','open','guest','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','clientId','toString','v9.0-BATCH-CALENDAR','addEventListener','sheetTitle','doWorkHours','parse','top','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','dayOptionsSheet','Local\x20Save\x20Error',':00</span>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','rangeStartTime','anCustomDates','add','analyticsList','width','rangeStartDate','\x20-\x20','setMonth','display','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','all','#050505','splice','textContent','completed','push','sessionSheet','warning','\x20–∏–∑\x20','today','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','toLocaleDateString','headerMonth','timeLineBadge','settings','calendar','getHours','3177465FqALHa','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','substr','anDonutCircle','Error\x20setting\x20back\x20button:','rangeEndDate','recurringOptionContainer','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','[Settings]\x20Cancel\x20window\x20set\x20to:','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','split','\x20days','inpNote','createDocumentFragment','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','findIndex','client','blocked-range-part\x20stripe-bg','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','note','from','done','2452059mFSMaj','[API\x20','strokeDashoffset','rangeEndTime','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','settingsSheet','doEventsList','10px\x2010px\x200\x200','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pe-time-label','text/plain;charset=UTF-8','btnDelete','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','setItem','user','remove','toLocaleString','setHours','blocked-slot\x20stripe-bg','settingCancelWindow','toUpperCase','data-day-idx','daysHeaderTrack','Critical\x20TMA\x20Error:','toastTitle','filter','getMinutes','exceptions','100%',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','</div>','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','catch','.day-off-overlay','createElement','timeColumn','sid','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','mousedown','patternEditor','name','inpDate','color','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','clientWidth','series','forEach','–£–¥–∞–ª–µ–Ω–∏–µ','long','keys','getAttribute','onclick','ranges','range-item','\x20‚Äî\x20','doLoadPercent','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','valid','de-item','[Notify]\x20Client\x20SWAP\x20detected','dayOptionsTitle','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','Server\x20Error','single','btn-primary\x20btn-secondary','backgroundPosition','24JXdeJR','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','colIndex','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','block','classList','getItem'];a2_0x58f1=function(){return _0x2df8ea;};return a2_0x58f1();}function openDayOptions(_0xe1596,_0x538844){const _0x1faa33=a2_0x155899;selectedDayForOptions=_0xe1596,document[_0x1faa33(0x182)](_0x1faa33(0xaa))['textContent']=_0x538844,openSheet(_0x1faa33(0x1a6));}function toggleDayOff(){const _0xc20bb4=a2_0x155899;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0xc20bb4(0x124),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x167f8d=a2_0x155899;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x167f8d(0x11e)](),DataManager[_0x167f8d(0x114)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x4905d7){const _0xa4d0d5=a2_0x155899;document[_0xa4d0d5(0x182)]('overlay')[_0xa4d0d5(0xb5)][_0xa4d0d5(0x1ac)](_0xa4d0d5(0x163)),document[_0xa4d0d5(0x182)](_0x4905d7)[_0xa4d0d5(0xb5)][_0xa4d0d5(0x1ac)](_0xa4d0d5(0x19a));}function closeAllSheets(){const _0x43b89c=a2_0x155899;document[_0x43b89c(0x182)](_0x43b89c(0x17b))[_0x43b89c(0xb5)][_0x43b89c(0x7c)]('active'),document[_0x43b89c(0x18f)]('.sheet')[_0x43b89c(0x9c)](_0x3e15a3=>_0x3e15a3['classList'][_0x43b89c(0x7c)](_0x43b89c(0x19a)));}function openPatternEditor(){const _0x298be0=a2_0x155899;closeAllSheets(),document[_0x298be0(0x182)](_0x298be0(0x95))['classList'][_0x298be0(0x1ac)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x2dfc01=a2_0x155899;document[_0x2dfc01(0x182)](_0x2dfc01(0x95))[_0x2dfc01(0xb5)][_0x2dfc01(0x7c)](_0x2dfc01(0x19a));}function savePattern(){const _0x335d94=a2_0x155899;document[_0x335d94(0x182)](_0x335d94(0x95))[_0x335d94(0xb5)][_0x335d94(0x7c)](_0x335d94(0x19a)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x335d94(0x114)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x5ab962=a2_0x155899,_0x5d62e6=document['getElementById']('peGrid');_0x5d62e6['innerHTML']='';const _0x3924b7=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x40157f=document[_0x5ab962(0x8f)](_0x5ab962(0x142));_0x40157f[_0x5ab962(0x16a)]=_0x5ab962(0xf3),_0x5d62e6[_0x5ab962(0x12a)](_0x40157f),_0x3924b7[_0x5ab962(0x9c)]((_0x26cea6,_0xfaadea)=>{const _0x33691c=_0x5ab962,_0x12e63c=document['createElement'](_0x33691c(0x142));_0x12e63c[_0x33691c(0x16a)]=_0x33691c(0xd9),_0x12e63c['innerHTML']=_0x26cea6+_0x33691c(0x11d),_0x12e63c[_0x33691c(0xa1)]=()=>toggleColPattern(_0xfaadea),_0x5d62e6[_0x33691c(0x12a)](_0x12e63c);});for(let _0x3f2104=0x0;_0x3f2104<0x18;_0x3f2104++){const _0x4cdba2=document[_0x5ab962(0x8f)](_0x5ab962(0x142));_0x4cdba2[_0x5ab962(0x16a)]=_0x5ab962(0x1e7),_0x4cdba2[_0x5ab962(0x188)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x3f2104)['padStart'](0x2,'0')+_0x5ab962(0xf0),_0x4cdba2[_0x5ab962(0xa1)]=()=>toggleRowPattern(_0x3f2104),_0x5d62e6[_0x5ab962(0x12a)](_0x4cdba2);for(let _0x5ae1ed=0x0;_0x5ae1ed<0x7;_0x5ae1ed++){const _0x20ce34=document[_0x5ab962(0x8f)](_0x5ab962(0x142)),_0x354cca=(availabilityPattern[_0x5ae1ed]||[])[_0x5ab962(0x109)](_0x3f2104),_0x1fd7ca=!_0x354cca;_0x20ce34['className']=_0x5ab962(0x172)+(_0x1fd7ca?_0x5ab962(0x163):''),_0x20ce34[_0x5ab962(0xa1)]=()=>toggleSinglePattern(_0x5ae1ed,_0x3f2104),_0x5d62e6[_0x5ab962(0x12a)](_0x20ce34);}}}function toggleSinglePattern(_0x52e443,_0x36ae59){const _0x4d3388=a2_0x155899;if(!availabilityPattern[_0x52e443])availabilityPattern[_0x52e443]=[];const _0x40a3e8=availabilityPattern[_0x52e443],_0x46d792=_0x40a3e8[_0x4d3388(0xe6)](_0x36ae59);_0x46d792===-0x1?_0x40a3e8[_0x4d3388(0x1b9)](_0x36ae59):_0x40a3e8[_0x4d3388(0x1b6)](_0x46d792,0x1),renderPatternEditor();}function toggleColPattern(_0x36d6e5){const _0x29f5de=a2_0x155899;if(!availabilityPattern[_0x36d6e5])availabilityPattern[_0x36d6e5]=[];const _0x7bf631=availabilityPattern[_0x36d6e5];_0x7bf631[_0x29f5de(0x148)]===0x0?availabilityPattern[_0x36d6e5]=Array[_0x29f5de(0x1d9)]({'length':0x18},(_0x37637e,_0x1e9052)=>_0x1e9052):availabilityPattern[_0x36d6e5]=[],renderPatternEditor();}function toggleRowPattern(_0x1e5d05){const _0x2d47a3=a2_0x155899;let _0x433331=!![];for(let _0x5565e0=0x0;_0x5565e0<0x7;_0x5565e0++){if((availabilityPattern[_0x5565e0]||[])['includes'](_0x1e5d05)){_0x433331=![];break;}}for(let _0x4f8360=0x0;_0x4f8360<0x7;_0x4f8360++){if(!availabilityPattern[_0x4f8360])availabilityPattern[_0x4f8360]=[];const _0x1e115d=availabilityPattern[_0x4f8360][_0x2d47a3(0xe6)](_0x1e5d05);if(_0x433331){if(_0x1e115d===-0x1)availabilityPattern[_0x4f8360][_0x2d47a3(0x1b9)](_0x1e5d05);}else{if(_0x1e115d!==-0x1)availabilityPattern[_0x4f8360]['splice'](_0x1e115d,0x1);}}renderPatternEditor();}function renderPCol(_0x160772,_0x33adcd){const _0x101fae=a2_0x155899;_0x160772[_0x101fae(0x188)]='';const _0x5a0ad0=Math['round'](_0x160772['offsetLeft']);(availabilityPattern[_0x33adcd]||[])['forEach'](_0x3ca8d0=>{const _0x98be0d=_0x101fae,_0x16438d=document[_0x98be0d(0x8f)]('div');_0x16438d[_0x98be0d(0x16a)]=_0x98be0d(0x7f);const _0x12c0e7=_0x3ca8d0*GRID_H;_0x16438d[_0x98be0d(0x118)]['top']=_0x12c0e7+'px',_0x16438d['style'][_0x98be0d(0xaf)]='-'+_0x5a0ad0+_0x98be0d(0x132)+_0x12c0e7+'px',_0x16438d['onclick']=_0x211adf=>{const _0x2ef44f=_0x98be0d;_0x211adf[_0x2ef44f(0x160)](),toggleSinglePattern(_0x33adcd,_0x3ca8d0);},_0x160772['appendChild'](_0x16438d);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x58cf06=a2_0x155899,_0x4c1fe6=new Date(),_0x33e80c=document[_0x58cf06(0x182)]('globalTimeLine'),_0x18ee8e=document['getElementById'](_0x58cf06(0x1c1)),_0x497b64=(_0x4c1fe6['getHours']()*0x3c+_0x4c1fe6[_0x58cf06(0x87)]())/0x3c*GRID_H;_0x33e80c[_0x58cf06(0x118)][_0x58cf06(0x1a4)]=_0x497b64+'px',_0x33e80c[_0x58cf06(0x118)][_0x58cf06(0x1b2)]=_0x58cf06(0xb4),_0x18ee8e['textContent']=String(_0x4c1fe6[_0x58cf06(0x1c4)]())[_0x58cf06(0x16f)](0x2,'0')+':'+String(_0x4c1fe6['getMinutes']())[_0x58cf06(0x16f)](0x2,'0'),_0x18ee8e[_0x58cf06(0x118)]['display']=_0x58cf06(0xb4),_0x18ee8e['style'][_0x58cf06(0x1a4)]=_0x497b64+'px';}document[a2_0x155899(0x1a0)]('DOMContentLoaded',init);function openDayOptions(_0x2e5424){const _0x2a35b1=a2_0x155899;selectedDayForOptions=_0x2e5424;const _0x1d572b=new Date(_0x2e5424),_0x1cb190={'weekday':_0x2a35b1(0x9e),'day':_0x2a35b1(0xbe),'month':'long','year':'numeric'},_0x1fd69e=_0x1d572b[_0x2a35b1(0x1bf)](_0x2a35b1(0x113),_0x1cb190);document[_0x2a35b1(0x182)](_0x2a35b1(0x126))[_0x2a35b1(0x1b7)]=_0x1fd69e[_0x2a35b1(0x101)](0x0)[_0x2a35b1(0x81)]()+_0x1fd69e[_0x2a35b1(0x111)](0x1);let _0x26865b=_0x1d572b['getDay']()-0x1;if(_0x26865b===-0x1)_0x26865b=0x6;const _0x490a85=availabilityPattern[_0x26865b]||[],_0x4bf031=0x18-_0x490a85[_0x2a35b1(0x148)],_0x5e1920=_0x4bf031*0x3c,_0x4af5d4=sessions[_0x2a35b1(0x86)](_0x3b5713=>_0x3b5713['dateStr']===_0x2e5424&&_0x3b5713['status']!==_0x2a35b1(0x146));let _0x472239=_0x4af5d4['map'](_0x3e4b0d=>{const _0x233f71=_0x2a35b1,[_0x1a3aeb,_0x494834]=_0x3e4b0d[_0x233f71(0x171)][_0x233f71(0x1cf)](':')[_0x233f71(0x198)](Number),[_0x1dfd25,_0xdb5d3]=_0x3e4b0d[_0x233f71(0x12f)][_0x233f71(0x1cf)](':')[_0x233f71(0x198)](Number);return[_0x1a3aeb*0x3c+_0x494834,_0x1dfd25*0x3c+_0xdb5d3];});_0x472239[_0x2a35b1(0x14f)]((_0x28989f,_0x205f36)=>_0x28989f[0x0]-_0x205f36[0x0]);let _0x1cd3cf=[];if(_0x472239[_0x2a35b1(0x148)]>0x0){let _0x3dc8b6=_0x472239[0x0];for(let _0x42dc40=0x1;_0x42dc40<_0x472239[_0x2a35b1(0x148)];_0x42dc40++){_0x472239[_0x42dc40][0x0]<_0x3dc8b6[0x1]?_0x3dc8b6[0x1]=Math[_0x2a35b1(0x17a)](_0x3dc8b6[0x1],_0x472239[_0x42dc40][0x1]):(_0x1cd3cf[_0x2a35b1(0x1b9)](_0x3dc8b6),_0x3dc8b6=_0x472239[_0x42dc40]);}_0x1cd3cf['push'](_0x3dc8b6);}let _0x3eca57=0x0;_0x1cd3cf[_0x2a35b1(0x9c)](_0x18a401=>_0x3eca57+=_0x18a401[0x1]-_0x18a401[0x0]),document[_0x2a35b1(0x182)](_0x2a35b1(0x1a2))['textContent']=formatMinsToHrs(_0x5e1920),document['getElementById']('doBusyHours')[_0x2a35b1(0x1b7)]=formatMinsToHrs(_0x3eca57);const _0x2020f6=_0x5e1920>0x0?Math[_0x2a35b1(0x147)](_0x3eca57/_0x5e1920*0x64):0x0,_0x3ece80=document[_0x2a35b1(0x182)](_0x2a35b1(0xa5));_0x3ece80[_0x2a35b1(0x1b7)]=_0x2020f6+'%';const _0x13eeee=document[_0x2a35b1(0x182)]('statLoadCard');if(_0x2020f6>0x64)_0x3ece80[_0x2a35b1(0x118)][_0x2a35b1(0x98)]='var(--acc-red)',_0x13eeee[_0x2a35b1(0x118)][_0x2a35b1(0x15c)]=_0x2a35b1(0xb7);else _0x2020f6>0x50?(_0x3ece80['style'][_0x2a35b1(0x98)]='var(--acc-orange)',_0x13eeee[_0x2a35b1(0x118)][_0x2a35b1(0x15c)]='rgba(255,\x20159,\x2010,\x200.3)'):(_0x3ece80[_0x2a35b1(0x118)][_0x2a35b1(0x98)]='var(--acc-green)',_0x13eeee[_0x2a35b1(0x118)]['borderColor']='rgba(255,255,255,0.05)');const _0x22e001=document[_0x2a35b1(0x182)](_0x2a35b1(0x1e2));_0x22e001[_0x2a35b1(0x188)]='';_0x4af5d4[_0x2a35b1(0x148)]===0x0?_0x22e001['innerHTML']='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x4af5d4[_0x2a35b1(0x14f)]((_0x359a00,_0x36a061)=>_0x359a00['start'][_0x2a35b1(0x115)](_0x36a061[_0x2a35b1(0x171)])),_0x4af5d4['forEach'](_0x32f341=>{const _0xcfc121=_0x2a35b1,_0x525525=clients['find'](_0x34bbfa=>_0x34bbfa[_0xcfc121(0x96)]===_0x32f341[_0xcfc121(0x1d5)]),_0x178dc0=_0x525525?_0x525525[_0xcfc121(0x98)]:'#fff',_0x420b24=_0x32f341[_0xcfc121(0xe2)]===_0xcfc121(0x1b8),_0x4ebc57=_0x420b24?_0xcfc121(0x1ce):'',_0x386ac2=document[_0xcfc121(0x8f)](_0xcfc121(0x142));_0x386ac2[_0xcfc121(0x16a)]=_0xcfc121(0xa8),_0x386ac2[_0xcfc121(0x118)]['borderLeftColor']=_0x178dc0,_0x386ac2[_0xcfc121(0x188)]=_0xcfc121(0x105)+_0x32f341[_0xcfc121(0x171)]+_0xcfc121(0x1b0)+_0x32f341[_0xcfc121(0x12f)]+_0xcfc121(0x103)+_0x32f341[_0xcfc121(0x1d5)]+_0xcfc121(0x1e6)+_0x4ebc57+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x22e001[_0xcfc121(0x12a)](_0x386ac2);}));const _0x5143e1=document[_0x2a35b1(0x182)](_0x2a35b1(0xfa)),_0x433487=dateExceptions[_0x2e5424]===_0x2a35b1(0x11c);_0x433487?(_0x5143e1[_0x2a35b1(0x1b7)]=_0x2a35b1(0x15b),_0x5143e1[_0x2a35b1(0x16a)]=_0x2a35b1(0xae),_0x5143e1[_0x2a35b1(0x118)][_0x2a35b1(0x98)]=_0x2a35b1(0x10c),_0x5143e1[_0x2a35b1(0x118)][_0x2a35b1(0xc4)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x5143e1[_0x2a35b1(0x1b7)]=_0x2a35b1(0xd1),_0x5143e1[_0x2a35b1(0x16a)]='btn-primary\x20btn-danger',_0x5143e1[_0x2a35b1(0x118)][_0x2a35b1(0x98)]=_0x2a35b1(0x127),_0x5143e1[_0x2a35b1(0x118)][_0x2a35b1(0xc4)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x2a35b1(0x1a6));}let currentAnPeriod=a2_0x155899(0xbf);function openAnalytics(){const _0x586c94=a2_0x155899,_0x214b31=document[_0x586c94(0x150)]('.period-switch\x20.p-btn');setAnalyticsPeriod(_0x586c94(0xbf),_0x214b31),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x437ff2,_0x540126){const _0x2bad1e=a2_0x155899;currentAnPeriod=_0x437ff2,document[_0x2bad1e(0x18f)](_0x2bad1e(0x151))[_0x2bad1e(0x9c)](_0xb206bd=>_0xb206bd[_0x2bad1e(0xb5)][_0x2bad1e(0x7c)]('active'));if(_0x540126)_0x540126[_0x2bad1e(0xb5)]['add']('active');const _0x119cae=document[_0x2bad1e(0x182)](_0x2bad1e(0x1ab));_0x119cae[_0x2bad1e(0x118)]['display']=_0x437ff2==='custom'?_0x2bad1e(0x116):'none';const _0x3c54d0=new Date();let _0x5708f6=new Date(),_0x1bdb1b=new Date();if(_0x437ff2==='week')_0x5708f6=getStartOfWeek(_0x3c54d0),_0x1bdb1b=new Date(_0x5708f6),_0x1bdb1b[_0x2bad1e(0x175)](_0x1bdb1b[_0x2bad1e(0xdd)]()+0x6);else{if(_0x437ff2===_0x2bad1e(0xfd))_0x5708f6=new Date(_0x3c54d0[_0x2bad1e(0xb9)](),_0x3c54d0[_0x2bad1e(0xd3)](),0x1),_0x1bdb1b=new Date(_0x3c54d0[_0x2bad1e(0xb9)](),_0x3c54d0[_0x2bad1e(0xd3)]()+0x1,0x0);else{!document['getElementById'](_0x2bad1e(0x12e))['value']&&(document[_0x2bad1e(0x182)](_0x2bad1e(0x12e))['value']=getLocalDateStr(_0x3c54d0),document['getElementById']('anEnd')[_0x2bad1e(0xda)]=getLocalDateStr(_0x3c54d0));refreshAnalytics();return;}}document[_0x2bad1e(0x182)](_0x2bad1e(0x12e))[_0x2bad1e(0xda)]=getLocalDateStr(_0x5708f6),document[_0x2bad1e(0x182)](_0x2bad1e(0x192))[_0x2bad1e(0xda)]=getLocalDateStr(_0x1bdb1b),refreshAnalytics();}function refreshAnalytics(){const _0x535f68=a2_0x155899,_0x2b05aa=document[_0x535f68(0x182)](_0x535f68(0x12e))[_0x535f68(0xda)],_0x149739=document[_0x535f68(0x182)](_0x535f68(0x192))[_0x535f68(0xda)];if(!_0x2b05aa||!_0x149739)return;const _0xafa809=sessions[_0x535f68(0x86)](_0x3b06df=>_0x3b06df[_0x535f68(0x165)]>=_0x2b05aa&&_0x3b06df[_0x535f68(0x165)]<=_0x149739&&_0x3b06df[_0x535f68(0xe2)]!==_0x535f68(0x146)),_0x22109c=_0xafa809[_0x535f68(0x148)],_0x51dd94=_0xafa809['filter'](_0x2448ed=>_0x2448ed['status']===_0x535f68(0x1b8))[_0x535f68(0x148)],_0xa2c9fa=_0x22109c>0x0?Math[_0x535f68(0x147)](_0x51dd94/_0x22109c*0x64):0x0;document[_0x535f68(0x182)]('anPercent')[_0x535f68(0x1b7)]=_0xa2c9fa+'%',document[_0x535f68(0x182)](_0x535f68(0x13f))[_0x535f68(0x1b7)]=_0x51dd94+_0x535f68(0x1bc)+_0x22109c+_0x535f68(0xa6);const _0xb64fe4=document[_0x535f68(0x182)](_0x535f68(0x1c8)),_0x52617b=0x2*Math['PI']*0x23,_0x58d9f6=_0x52617b-_0xa2c9fa/0x64*_0x52617b;_0xb64fe4['style'][_0x535f68(0x1dd)]=_0x58d9f6;const _0x283b72={};_0xafa809[_0x535f68(0x9c)](_0x2951a3=>{const _0x159ac1=_0x535f68;if(!_0x283b72[_0x2951a3['client']]){const _0x4da38f=clients[_0x159ac1(0x11f)](_0x42fb49=>_0x42fb49['name']===_0x2951a3[_0x159ac1(0x1d5)]);_0x283b72[_0x2951a3[_0x159ac1(0x1d5)]]={'total':0x0,'done':0x0,'color':_0x4da38f?_0x4da38f[_0x159ac1(0x98)]:_0x159ac1(0x177)};}_0x283b72[_0x2951a3[_0x159ac1(0x1d5)]][_0x159ac1(0x176)]++;if(_0x2951a3[_0x159ac1(0xe2)]===_0x159ac1(0x1b8))_0x283b72[_0x2951a3[_0x159ac1(0x1d5)]][_0x159ac1(0x1da)]++;});const _0x404e36=document['getElementById'](_0x535f68(0x1ad));_0x404e36['innerHTML']='';const _0x286d38=Object[_0x535f68(0x17d)](_0x283b72)[_0x535f68(0x14f)]((_0x145202,_0x398eed)=>_0x398eed[0x1][_0x535f68(0x176)]-_0x145202[0x1][_0x535f68(0x176)]);if(_0x286d38[_0x535f68(0x148)]===0x0){_0x404e36[_0x535f68(0x188)]=_0x535f68(0x14b);return;}_0x286d38[_0x535f68(0x9c)](([_0x3ccdbc,_0x3dd0a7])=>{const _0x43b766=_0x535f68,_0x1a5d95=Math[_0x43b766(0x147)](_0x3dd0a7[_0x43b766(0x1da)]/_0x3dd0a7[_0x43b766(0x176)]*0x64),_0x22f93c=document[_0x43b766(0x8f)]('div');_0x22f93c[_0x43b766(0x16a)]=_0x43b766(0x154),_0x22f93c['style']['borderLeftColor']=_0x3dd0a7[_0x43b766(0x98)],_0x22f93c['innerHTML']=_0x43b766(0x143)+_0x3ccdbc+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x3dd0a7['done']+_0x43b766(0x10b)+_0x3dd0a7[_0x43b766(0x176)]+_0x43b766(0x1d3)+_0x1a5d95+_0x43b766(0x92),_0x404e36[_0x43b766(0x12a)](_0x22f93c);});}function formatMinsToHrs(_0x13dc96){if(_0x13dc96===0x0)return'0';const _0x39c158=Math['floor'](_0x13dc96/0x3c),_0x191427=_0x13dc96%0x3c;if(_0x191427===0x0)return _0x39c158+'—á';return _0x39c158+'—á\x20'+_0x191427+'–º';}