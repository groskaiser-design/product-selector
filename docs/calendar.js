const a2_0x4907db=a2_0x2c4f;(function(_0x59446f,_0x209549){const _0x327ef7=a2_0x2c4f,_0x2db19f=_0x59446f();while(!![]){try{const _0x41f2be=-parseInt(_0x327ef7(0x1bf))/0x1+parseInt(_0x327ef7(0x20c))/0x2+-parseInt(_0x327ef7(0x13b))/0x3*(parseInt(_0x327ef7(0x1a0))/0x4)+-parseInt(_0x327ef7(0x16c))/0x5+parseInt(_0x327ef7(0x28d))/0x6*(-parseInt(_0x327ef7(0x1ab))/0x7)+-parseInt(_0x327ef7(0x198))/0x8+-parseInt(_0x327ef7(0x133))/0x9*(-parseInt(_0x327ef7(0x1d3))/0xa);if(_0x41f2be===_0x209549)break;else _0x2db19f['push'](_0x2db19f['shift']());}catch(_0x23ba2a){_0x2db19f['push'](_0x2db19f['shift']());}}}(a2_0x1f51,0xe30ff),function initTMA(){const _0x112b90=a2_0x2c4f,_0x3e9df1=(function(){let _0x324f87=!![];return function(_0x329a3f,_0x36adc4){const _0x4157a1=_0x324f87?function(){const _0xf571b7=a2_0x2c4f;if(_0x36adc4){const _0x4959a6=_0x36adc4[_0xf571b7(0x267)](_0x329a3f,arguments);return _0x36adc4=null,_0x4959a6;}}:function(){};return _0x324f87=![],_0x4157a1;};}()),_0x43851f=_0x3e9df1(this,function(){const _0xb0898e=a2_0x2c4f;return _0x43851f['toString']()['search'](_0xb0898e(0x1e1))[_0xb0898e(0x1c4)]()['constructor'](_0x43851f)[_0xb0898e(0x25e)](_0xb0898e(0x1e1));});_0x43851f();try{const _0xfd4d02=window[_0x112b90(0x124)]?.[_0x112b90(0x288)];if(!_0xfd4d02)return;_0xfd4d02[_0x112b90(0x24c)](),_0xfd4d02['expand']();try{_0xfd4d02[_0x112b90(0x149)](_0x112b90(0x15a)),_0xfd4d02[_0x112b90(0x146)]&&_0xfd4d02[_0x112b90(0x146)]('#050505');}catch(_0x4241f3){console['log'](_0x112b90(0x1f9),_0x4241f3);}try{_0xfd4d02[_0x112b90(0x292)]&&(_0xfd4d02[_0x112b90(0x292)][_0x112b90(0x169)](),_0xfd4d02[_0x112b90(0x292)]['offClick'](),_0xfd4d02[_0x112b90(0x292)][_0x112b90(0x245)](function(){const _0x11d439=_0x112b90;window['location'][_0x11d439(0x289)]=_0x11d439(0x1be);}));}catch(_0x1a6bc0){console[_0x112b90(0x158)](_0x112b90(0x25f),_0x1a6bc0);}try{if(_0xfd4d02[_0x112b90(0x18e)])_0xfd4d02[_0x112b90(0x18e)]();}catch(_0x3adf2e){}}catch(_0x5de3a6){console[_0x112b90(0x21e)](_0x112b90(0x122),_0x5de3a6);}}());function isAdmin(){const _0x1f7cdf=a2_0x2c4f;try{const _0x4e9a=Number(window['Telegram']?.[_0x1f7cdf(0x288)]?.[_0x1f7cdf(0x1fe)]?.[_0x1f7cdf(0x273)]?.['id']);return _0x4e9a===0xbaf7174;}catch(_0x3bcb5a){return![];}}const APP_VERSION=a2_0x4907db(0x1b0),API_URL=a2_0x4907db(0x1a7),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x4907db(0x211),KEY_SESSIONS=a2_0x4907db(0x1e2),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x2ffa86=a2_0x4907db;return window[_0x2ffa86(0x124)]?.[_0x2ffa86(0x288)]?.['initDataUnsafe']?.[_0x2ffa86(0x273)]?.['id']||_0x2ffa86(0x226);},'saveLocally'(){const _0xc97a36=a2_0x4907db;try{localStorage[_0xc97a36(0x20e)](KEY_CLIENTS,JSON[_0xc97a36(0x1e3)](clients)),localStorage[_0xc97a36(0x20e)](KEY_SESSIONS,JSON[_0xc97a36(0x1e3)](sessions)),localStorage[_0xc97a36(0x20e)](KEY_SETTINGS,JSON[_0xc97a36(0x1e3)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x162020){console[_0xc97a36(0x21e)](_0xc97a36(0x24a),_0x162020);}},'loadLocal'(){const _0xe462ea=a2_0x4907db;try{const _0x4dd391=localStorage[_0xe462ea(0x224)](KEY_CLIENTS);if(_0x4dd391)clients=JSON[_0xe462ea(0x1cc)](_0x4dd391);const _0x5f2356=localStorage[_0xe462ea(0x224)](KEY_SESSIONS);if(_0x5f2356)sessions=JSON[_0xe462ea(0x1cc)](_0x5f2356);const _0xe3abd4=localStorage[_0xe462ea(0x224)](KEY_SETTINGS);if(_0xe3abd4){const _0x37e020=JSON[_0xe462ea(0x1cc)](_0xe3abd4);if(_0x37e020[_0xe462ea(0x281)])availabilityPattern=_0x37e020[_0xe462ea(0x281)];if(_0x37e020[_0xe462ea(0x26e)])dateExceptions=_0x37e020[_0xe462ea(0x26e)];if(_0x37e020[_0xe462ea(0x1ca)])specialRanges=_0x37e020[_0xe462ea(0x1ca)];}else{for(let _0x22721d=0x0;_0x22721d<0x7;_0x22721d++)availabilityPattern[_0x22721d]=Array['from']({'length':0xc},(_0x26b37a,_0x7672d)=>_0x7672d+0x9);}}catch(_0x29c811){console['error']('Local\x20Load\x20Error',_0x29c811);}},async 'fetchFromServer'(_0x5bb90a,_0x26b454={}){const _0x31752f=a2_0x4907db,_0x10de1d=window[_0x31752f(0x124)]?.[_0x31752f(0x288)],_0x56ed5b={'action':_0x5bb90a,'init_data':_0x10de1d?.[_0x31752f(0x144)]||'',..._0x26b454};try{const _0x299490=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x31752f(0x229)},'body':JSON[_0x31752f(0x1e3)](_0x56ed5b)}),_0x33ae43=await _0x299490['json']();if(!_0x33ae43['ok'])throw new Error(_0x33ae43[_0x31752f(0x21e)]||_0x31752f(0x234));return _0x33ae43['data'];}catch(_0x1fba36){console['error'](_0x31752f(0x129)+_0x5bb90a+_0x31752f(0x1cd),_0x1fba36);throw _0x1fba36;}},async 'syncLoad'(){const _0x175928=a2_0x4907db,_0x203048=new Date(),_0x2c9459=_0x203048['getFullYear']()+'-'+String(_0x203048[_0x175928(0x120)]()+0x1)['padStart'](0x2,'0'),_0x156b73=new Date(_0x203048);_0x156b73['setMonth'](_0x203048['getMonth']()+0x1);const _0x53e91f=_0x156b73[_0x175928(0x1fd)]()+'-'+String(_0x156b73['getMonth']()+0x1)[_0x175928(0x163)](0x2,'0'),_0x21d8e9=Date[_0x175928(0x291)]();console[_0x175928(0x158)](_0x175928(0x220)+_0x2c9459+',\x20'+_0x53e91f+'...');try{const [_0x1fdaae,_0x41f622]=await Promise['all']([this[_0x175928(0x145)](_0x175928(0x1f0),{'month_str':_0x2c9459}),this[_0x175928(0x145)]('init_load',{'month_str':_0x53e91f})]);if(lastUserActionTime>_0x21d8e9)return console[_0x175928(0x1b1)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x175928(0x195)](_0x1fdaae,_0x2c9459),this[_0x175928(0x195)](_0x41f622,_0x53e91f),this[_0x175928(0x283)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4ae452){console[_0x175928(0x21e)](_0x4ae452);throw _0x4ae452;}},'mergeServerData'(_0x165ee4,_0x406ead){const _0x298ae7=a2_0x4907db;if(!_0x165ee4)return;_0x165ee4[_0x298ae7(0x236)]&&Array[_0x298ae7(0x1c0)](_0x165ee4[_0x298ae7(0x236)])&&(clients=_0x165ee4[_0x298ae7(0x236)]);if(_0x165ee4[_0x298ae7(0x248)]){if(_0x165ee4[_0x298ae7(0x248)]['pattern'])availabilityPattern=_0x165ee4[_0x298ae7(0x248)][_0x298ae7(0x281)];if(_0x165ee4[_0x298ae7(0x248)][_0x298ae7(0x26e)])dateExceptions=_0x165ee4[_0x298ae7(0x248)]['exceptions'];if(_0x165ee4[_0x298ae7(0x248)][_0x298ae7(0x1ca)])specialRanges=_0x165ee4[_0x298ae7(0x248)][_0x298ae7(0x1ca)];if(_0x165ee4[_0x298ae7(0x248)]['cancel_window']){localStorage['setItem']('uc_settings_cancel_window',_0x165ee4['settings'][_0x298ae7(0x221)]);const _0xf9e63=document[_0x298ae7(0x207)]('settingCancelWindow');if(_0xf9e63)_0xf9e63[_0x298ae7(0x1b7)]=_0x165ee4[_0x298ae7(0x248)][_0x298ae7(0x221)];}}_0x165ee4[_0x298ae7(0x178)]&&(sessions=sessions[_0x298ae7(0x1dc)](_0x104459=>!_0x104459['dateStr'][_0x298ae7(0x210)](_0x406ead)),Object['keys'](_0x165ee4[_0x298ae7(0x178)])[_0x298ae7(0x243)](_0x5e1eff=>{const _0x3a67f2=_0x298ae7,_0x3f4f7c=_0x165ee4[_0x3a67f2(0x178)][_0x5e1eff];_0x3f4f7c[_0x3a67f2(0x243)](_0x4f90d6=>{const _0x579e0a=_0x3a67f2,_0x3e6c20=clients['find'](_0x77650b=>String(_0x77650b['id'])===String(_0x4f90d6['c']));sessions[_0x579e0a(0x201)]({'id':_0x4f90d6['i'],'clientId':_0x4f90d6['c'],'client':_0x3e6c20?_0x3e6c20['name']:_0x579e0a(0x25c),'dateStr':_0x406ead+'-'+_0x5e1eff[_0x579e0a(0x163)](0x2,'0'),'start':_0x4f90d6['s'],'end':_0x4f90d6['e'],'status':_0x4f90d6['st']||_0x579e0a(0x1d0),'note':_0x4f90d6['n']||'','seriesId':_0x4f90d6[_0x579e0a(0x184)]||null});});}));},async 'syncBatch'(_0x1a8722){const _0xd5beee=a2_0x4907db,_0x588de0=[...new Set(_0x1a8722)],_0x2d8080=_0x588de0['map'](_0x406400=>{const _0x5ea7f9=a2_0x2c4f,_0x347258=sessions[_0x5ea7f9(0x1dc)](_0x5f3467=>_0x5f3467[_0x5ea7f9(0x228)]===_0x406400&&_0x5f3467[_0x5ea7f9(0x13e)]!==_0x5ea7f9(0x1f7)),_0x506188=_0x347258[_0x5ea7f9(0x156)](_0x1a6942=>({'i':_0x1a6942['id'],'c':_0x1a6942[_0x5ea7f9(0x24f)],'s':_0x1a6942[_0x5ea7f9(0x246)],'e':_0x1a6942[_0x5ea7f9(0x1ac)],'st':_0x1a6942[_0x5ea7f9(0x13e)],'n':_0x1a6942[_0x5ea7f9(0x175)],'sid':_0x1a6942[_0x5ea7f9(0x188)]}));return{'date':_0x406400,'day_data':_0x506188};});if(_0x2d8080[_0xd5beee(0x14e)]===0x0)return;console[_0xd5beee(0x158)]('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x2d8080[_0xd5beee(0x14e)]+'\x20days'),await this[_0xd5beee(0x145)]('batch_sync',{'changes':_0x2d8080});}};async function init(){const _0x2057b9=a2_0x4907db;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2057b9(0x207)](_0x2057b9(0x1c9))['addEventListener'](_0x2057b9(0x1e0),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2057b9(0x123)]()['then'](()=>{const _0x1c8dd1=_0x2057b9;showToast(_0x1c8dd1(0x27d),!![]);})[_0x2057b9(0x19a)](_0x5d940f=>{const _0x11b911=_0x2057b9;showToast(_0x11b911(0x131),![]);});}function generateId(){const _0x15b5cf=a2_0x4907db;return Date[_0x15b5cf(0x291)]()['toString'](0x24)+Math[_0x15b5cf(0x115)]()[_0x15b5cf(0x1c4)](0x24)[_0x15b5cf(0x261)](0x2,0x5);}function toggleSeriesInput(){const _0x253e61=a2_0x4907db,_0x39dcbb=document[_0x253e61(0x207)](_0x253e61(0x13d))[_0x253e61(0x1b4)],_0x51615a=document[_0x253e61(0x207)](_0x253e61(0x25a));_0x51615a[_0x253e61(0x11b)][_0x253e61(0x14f)]=_0x39dcbb?_0x253e61(0x22b):'none';const _0x29ab7d=document['getElementById'](_0x253e61(0x171));_0x29ab7d[_0x253e61(0x11b)][_0x253e61(0x180)]=_0x39dcbb?_0x253e61(0x28a):_0x253e61(0x1f2);}function a2_0x2c4f(_0x54f185,_0x18a70e){_0x54f185=_0x54f185-0x115;const _0x271a1d=a2_0x1f51();let _0xbd4be6=_0x271a1d[_0x54f185];return _0xbd4be6;}function openAddSession(_0x39ff5a){const _0x223a8e=a2_0x4907db;editingId=null,populateClientSelect(),document[_0x223a8e(0x207)]('sheetTitle')[_0x223a8e(0x125)]=_0x223a8e(0x28f),document[_0x223a8e(0x207)]('btnDelete')['style'][_0x223a8e(0x14f)]='none',document[_0x223a8e(0x207)](_0x223a8e(0x1e9))['style'][_0x223a8e(0x14f)]=_0x223a8e(0x189);const _0x32667d=document['getElementById'](_0x223a8e(0x171)),_0x513969=document[_0x223a8e(0x207)](_0x223a8e(0x25a));_0x32667d[_0x223a8e(0x11b)]['display']=_0x223a8e(0x205),_0x32667d[_0x223a8e(0x11b)][_0x223a8e(0x180)]=_0x223a8e(0x1f2),document[_0x223a8e(0x207)](_0x223a8e(0x13d))['checked']=![],document[_0x223a8e(0x207)](_0x223a8e(0x162))['value']=0x4,_0x513969[_0x223a8e(0x11b)]['display']=_0x223a8e(0x189),document[_0x223a8e(0x207)](_0x223a8e(0x18f))[_0x223a8e(0x1b7)]=getLocalDateStr(_0x39ff5a),updateDateDisplay();const _0x347ce8=_0x39ff5a['getHours']();document[_0x223a8e(0x207)](_0x223a8e(0x1fa))[_0x223a8e(0x1b7)]=String(_0x347ce8)[_0x223a8e(0x163)](0x2,'0')+_0x223a8e(0x18b),document[_0x223a8e(0x207)](_0x223a8e(0x15e))[_0x223a8e(0x1b7)]=String(_0x347ce8+0x1)[_0x223a8e(0x163)](0x2,'0')+_0x223a8e(0x18b),openSheet(_0x223a8e(0x256));}function openEdit(_0x267fcf){const _0x2e3ab2=a2_0x4907db;editingId=_0x267fcf['id'],populateClientSelect(),document[_0x2e3ab2(0x207)](_0x2e3ab2(0x151))['textContent']=_0x2e3ab2(0x1fb),document[_0x2e3ab2(0x207)](_0x2e3ab2(0x1b5))[_0x2e3ab2(0x11b)][_0x2e3ab2(0x14f)]=_0x2e3ab2(0x22b);const _0x2eb9eb=document['getElementById']('btnStatusToggle');_0x2eb9eb[_0x2e3ab2(0x11b)][_0x2e3ab2(0x14f)]='flex';_0x267fcf[_0x2e3ab2(0x13e)]==='completed'?(_0x2eb9eb['className']='btn-status-toggle\x20undo-mode',_0x2eb9eb[_0x2e3ab2(0x136)]='–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'):(_0x2eb9eb[_0x2e3ab2(0x196)]=_0x2e3ab2(0x1bd),_0x2eb9eb[_0x2e3ab2(0x136)]=_0x2e3ab2(0x227));const _0x4fab17=!!_0x267fcf[_0x2e3ab2(0x188)];document['getElementById'](_0x2e3ab2(0x171))[_0x2e3ab2(0x11b)][_0x2e3ab2(0x14f)]='none',document[_0x2e3ab2(0x207)](_0x2e3ab2(0x25a))[_0x2e3ab2(0x11b)]['display']='none',_0x4fab17?(document[_0x2e3ab2(0x207)](_0x2e3ab2(0x182))[_0x2e3ab2(0x11b)][_0x2e3ab2(0x14f)]=_0x2e3ab2(0x205),document[_0x2e3ab2(0x207)]('patternInfoBox')[_0x2e3ab2(0x259)](_0x2e3ab2(0x1d1))[_0x2e3ab2(0x125)]=_0x2e3ab2(0x23e)):document[_0x2e3ab2(0x207)](_0x2e3ab2(0x182))[_0x2e3ab2(0x11b)][_0x2e3ab2(0x14f)]='none',document[_0x2e3ab2(0x207)](_0x2e3ab2(0x284))[_0x2e3ab2(0x1b7)]=_0x267fcf[_0x2e3ab2(0x173)],document['getElementById']('inpDate')['value']=_0x267fcf[_0x2e3ab2(0x228)],document['getElementById'](_0x2e3ab2(0x1fa))[_0x2e3ab2(0x1b7)]=_0x267fcf['start'],document[_0x2e3ab2(0x207)](_0x2e3ab2(0x15e))[_0x2e3ab2(0x1b7)]=_0x267fcf[_0x2e3ab2(0x1ac)],document[_0x2e3ab2(0x207)](_0x2e3ab2(0x204))[_0x2e3ab2(0x1b7)]=_0x267fcf['note']||'',updateDateDisplay(),openSheet(_0x2e3ab2(0x256));}async function trySaveSession(){const _0x412754=a2_0x4907db,_0x5d6a5b=document[_0x412754(0x207)](_0x412754(0x284))[_0x412754(0x1b7)],_0x170253=document[_0x412754(0x207)](_0x412754(0x18f))[_0x412754(0x1b7)],_0xda50c3=document[_0x412754(0x207)](_0x412754(0x1fa))[_0x412754(0x1b7)],_0x662a1a=document[_0x412754(0x207)](_0x412754(0x15e))[_0x412754(0x1b7)],_0x22e819=document[_0x412754(0x207)]('inpNote')[_0x412754(0x1b7)],_0x22d802=document[_0x412754(0x207)]('inpRecurring')[_0x412754(0x1b4)];let _0x4f926c=0x4;if(_0x22d802){const _0x5bdee4=parseInt(document[_0x412754(0x207)](_0x412754(0x162))['value']);if(!_0x5bdee4||_0x5bdee4<0x2){showToast(_0x412754(0x14c),![]);return;}if(_0x5bdee4>0x64){showToast(_0x412754(0x22a),![]);return;}_0x4f926c=_0x5bdee4;}const _0x2c4583=clients[_0x412754(0x235)](_0x1993c0=>_0x1993c0[_0x412754(0x193)]===_0x5d6a5b);if(!_0x2c4583){showToast(_0x412754(0x233),![]);return;}const _0x4846b9=validateAppointment(_0x170253,_0xda50c3,_0x662a1a,editingId,_0x2c4583['id']);if(!_0x4846b9[_0x412754(0x1e6)]){showToast(_0x4846b9[_0x412754(0x293)],![]);return;}_0x4846b9[_0x412754(0x252)]&&showToast(_0x4846b9[_0x412754(0x252)],![]);const _0x59744a={'client':_0x5d6a5b,'clientId':_0x2c4583['id'],'start':_0xda50c3,'end':_0x662a1a,'note':_0x22e819,'status':'planned'},_0x259f09=editingId?sessions[_0x412754(0x235)](_0x405a21=>_0x405a21['id']===editingId):null;if(_0x259f09&&_0x259f09[_0x412754(0x188)]){tempSessionData={..._0x59744a,'dateStr':_0x170253,'id':editingId,'seriesId':_0x259f09[_0x412754(0x188)]},openActionSheet(_0x412754(0x1a4));return;}let _0x4b7bfe=null;if(!editingId)_0x4b7bfe=_0x412754(0x1d5);else{if(_0x259f09){if(String(_0x259f09['clientId'])!==String(_0x2c4583['id']))console[_0x412754(0x158)]('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0x412754(0x27b)](_0x412754(0x1ae),_0x259f09),_0x4b7bfe=_0x412754(0x1d5);else(_0x259f09[_0x412754(0x246)]!==_0xda50c3||_0x259f09[_0x412754(0x1ac)]!==_0x662a1a||_0x259f09[_0x412754(0x228)]!==_0x170253)&&(_0x4b7bfe='update');}}if(!editingId&&_0x22d802){createBatchSeries(_0x59744a,_0x170253,_0x4f926c),NotificationManager[_0x412754(0x27b)](_0x412754(0x1d5),{..._0x59744a,'dateStr':_0x170253});return;}lastUserActionTime=Date[_0x412754(0x291)]();const _0x53625b={..._0x59744a,'dateStr':_0x170253,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x53625b),_0x4b7bfe&&NotificationManager[_0x412754(0x27b)](_0x4b7bfe,_0x53625b);}function toggleSessionStatus(){const _0x178f26=a2_0x4907db;lastUserActionTime=Date[_0x178f26(0x291)]();const _0x435340=sessions[_0x178f26(0x235)](_0x281aaa=>_0x281aaa['id']===editingId);if(!_0x435340)return;const _0x352712=_0x435340[_0x178f26(0x13e)]===_0x178f26(0x1c3)?_0x178f26(0x1d0):_0x178f26(0x1c3);_0x435340[_0x178f26(0x13e)]=_0x352712,saveSingleSession(_0x435340),_0x352712==='completed'&&NotificationManager['send'](_0x178f26(0x238),_0x435340),showToast(_0x352712===_0x178f26(0x1c3)?_0x178f26(0x1a2):_0x178f26(0x208),!![]);}function validateAppointment(_0x2e0ade,_0x140261,_0x593dc8,_0x1c302c,_0xd2ead7){const _0x4678fe=a2_0x4907db,[_0x22e82f,_0x2a0192]=_0x140261[_0x4678fe(0x255)](':')[_0x4678fe(0x156)](Number),[_0x308931,_0xbbc21c]=_0x593dc8[_0x4678fe(0x255)](':')[_0x4678fe(0x156)](Number),_0x2072bc=_0x22e82f*0x3c+_0x2a0192,_0x49d236=_0x308931*0x3c+_0xbbc21c,_0x5ef7c2=String(_0xd2ead7);let _0x3759ac=![],_0x279d21='';for(let _0x476407 of sessions){if(_0x476407[_0x4678fe(0x228)]!==_0x2e0ade)continue;if(_0x476407[_0x4678fe(0x13e)]===_0x4678fe(0x12b))continue;if(_0x1c302c&&String(_0x476407['id'])===String(_0x1c302c))continue;const [_0x5a9127,_0xc07e3a]=_0x476407[_0x4678fe(0x246)][_0x4678fe(0x255)](':')['map'](Number),[_0x6a8108,_0x4462bc]=_0x476407[_0x4678fe(0x1ac)][_0x4678fe(0x255)](':')['map'](Number),_0x12773f=_0x5a9127*0x3c+_0xc07e3a,_0x1294d4=_0x6a8108*0x3c+_0x4462bc;if(Math[_0x4678fe(0x1b2)](_0x2072bc,_0x12773f)<Math[_0x4678fe(0x240)](_0x49d236,_0x1294d4)){if(_0x476407['clientId']&&String(_0x476407[_0x4678fe(0x24f)])===_0x5ef7c2)return{'valid':![],'msg':_0x4678fe(0x219)+_0x476407[_0x4678fe(0x173)]+_0x4678fe(0x18c)};_0x3759ac=!![],_0x279d21=_0x476407[_0x4678fe(0x173)];}}if(_0x3759ac)return{'valid':!![],'warning':_0x4678fe(0x17d)+_0x279d21};return{'valid':!![]};}function a2_0x1f51(){const _0x5ba8a3=['strokeDashoffset','settingsSheet','clientId','range-item','getHours','warning','rgba(255,255,255,0.05)','toUpperCase','split','sessionSheet','week','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','querySelector','seriesCountContainer','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','Unknown','actionSheet','search','Error\x20setting\x20back\x20button:','numeric','substr','firstChild','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','analyticsSheet','mouseup','timeLineBadge','apply','.day-off-overlay','month','pe-cell\x20','getDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ru-RU','exceptions','rangeEndDate','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','statLoadCard','backgroundColor','user','\x20‚Äî\x20','single','peGrid','timeColumn','–ò–Ω—Ñ–æ','pe-corner',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','send','setDate','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','color','[Notify]\x20Error:\x20Text\x20generation\x20failed','pattern','uc_settings_cancel_window','saveLocally','inpClient','actionSheetOverlay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','WebApp','href','10px\x2010px\x200\x200','getTime','as-button\x20danger\x20bold','96bxxbFW','active','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','width','now','BackButton','msg','backgroundPosition','random','total','<b>‚úÖ\x20','data-date','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','style','rgba(255,\x2069,\x2058,\x200.3)','vibrate','[Notify]\x20Network\x20Failed','day-off-overlay\x20stripe-bg','getMonth','globalTimeLine','Critical\x20TMA\x20Error:','syncLoad','Telegram','textContent','then','#fff','open','[API\x20','borderColor','cancelled','<span>','height','data-day-idx','[Notify]\x20Attempting\x20to\x20send:','getAttribute','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','asBtnSeries','9104922KEBHub','toastMessage','rangesSheet','innerHTML','var(--acc-orange)','btn-primary\x20btn-danger','splice','getText','1395SbaRwF','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','inpRecurring','status','anStart','\x20-\x20','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','top','initData','fetchFromServer','setBackgroundColor','today','.dch-stats-fill','setHeaderColor','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','zIndex','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','length','display','send_notification','sheetTitle','daysHeaderTrack','dayOptionsSheet','px\x20-','[Notify]\x20Detected\x20Client\x20ID:','map','target','log','div','#050505','formatDate',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','text','inpEnd','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','entries','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','inpSeriesCount','padStart','sort','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','done','var(--acc-green)','rangeStartDate','show','addEventListener','doEventsList','5077280DnTwLK','delete','settingCancelWindow','stat-','touchend','recurringOptionContainer','toast-notification\x20','client','round','note','onclick','null','calendar','colIndex','overlay','#gridColumns\x20.day-column','anCustomDates','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','de-item','patternEditor','borderRadius','doBusyHours','patternInfoBox','add','sid','floor','off','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','seriesId','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':00',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','borderLeftColor','disableVerticalSwipes','inpDate','[Notify]\x20Server\x20Response:','...','anTotalStats','name','touches','mergeServerData','className','toLocaleDateString','11557536ohuJsl',':00</span>','catch','rgba(100,100,100,0.5)','option','stopPropagation',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','2200sGvGwD',':\x20Client\x20already\x20booked','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','save','rangeStartTime','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','</div>','remove','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','222971MjCIOt','end','time-label','cancel','event-card','v9.0-BATCH-CALENDAR','warn','max','createDocumentFragment','checked','btnDelete','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','value','</div><div\x20class=\x22ev-time\x22>','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','scrollLeft','slice','btn-status-toggle','router.html','236539xcYfKV','isArray','includes','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','completed','toString','.day-column','day-col-header\x20','Batch\x20Sync\x20OK','day-column\x20','matrixViewport','ranges','undefined','parse',']\x20Failed:','setHours','mini','planned','.pib-text','rgba(255,\x20159,\x2010,\x200.3)','40CbQKrf','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','create','classList','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','mousedown','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','long','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','filter','toLocaleString','px\x200px','var(--acc-red)','scroll','(((.+)+)+)+$','uc_sessions_v9','stringify','</span>\x20/\x20','analyticsList','valid','00:00','header-','btnStatusToggle','.day-col-header','findIndex','insertBefore','getMinutes','background','closest','init_load','clientY','10px','touchmove','offsetLeft','client-stat-card','save_settings','deleted','querySelectorAll','Error\x20setting\x20color:','inpStart','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','asTitle','getFullYear','initDataUnsafe','</div><div\x20class=\x22dch-num\x22>','toast','push','%\x20-\x204px)','offsetWidth','inpNote','flex','anEnd','getElementById','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','localeCompare','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.period-switch\x20.p-btn','691000DcsJfZ','clientWidth','setItem','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','startsWith','uc_clients_v9','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','[Series]\x20Skipped\x20','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','getDay','T00:00:00','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','series','\x20–∏–∑\x20','setAttribute','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','error','</b>\x0a\x0a','[Sync]\x20Loading\x20','cancel_window','rangeEndTime','doDateHeader','getItem','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','guest','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','dateStr','text/plain;charset=UTF-8','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','block','createElement','success','calc(','rgba(255,\x2069,\x2058,\x200.15)','scrollTop','doWorkHours','data','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','Server\x20Error','find','clients','charAt','complete','appendChild','DOMContentLoaded','23:59','.sheet','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','min','–£–¥–∞–ª–µ–Ω–∏–µ','100%','forEach','%\x20+\x202px)','onClick','start','–£—Å–ø–µ—à–Ω–æ','settings','var(--acc-current)','Local\x20Save\x20Error','[Settings]\x20Cancel\x20window\x20set\x20to:','ready'];a2_0x1f51=function(){return _0x5ba8a3;};return a2_0x1f51();}function saveSingleSession(_0xd6031a){const _0x2005e4=a2_0x4907db;if(editingId){const _0x569375=sessions[_0x2005e4(0x1eb)](_0x3c4e25=>_0x3c4e25['id']===editingId);if(_0x569375!==-0x1)sessions[_0x569375]=_0xd6031a;}else sessions[_0x2005e4(0x201)](_0xd6031a);afterSaveAction([_0xd6031a[_0x2005e4(0x228)]]);}function createBatchSeries(_0x295627,_0x1c26f8,_0x34ce60){const _0xd9016d=a2_0x4907db,_0x922ab4=generateId(),_0x4ec23c=[],_0x295ba7=[];let _0x3e4232=0x0,_0x24e008=new Date(_0x1c26f8);for(let _0x22518f=0x0;_0x22518f<_0x34ce60;_0x22518f++){const _0x7dd649=getLocalDateStr(_0x24e008),_0x128d65=validateAppointment(_0x7dd649,_0x295627[_0xd9016d(0x246)],_0x295627[_0xd9016d(0x1ac)],null,_0x295627['clientId']);if(!_0x128d65['valid'])console[_0xd9016d(0x158)](_0xd9016d(0x214)+_0x7dd649+_0xd9016d(0x1a1)),_0x3e4232++;else{const _0x1f4a35={..._0x295627,'id':generateId(),'dateStr':_0x7dd649,'seriesId':_0x922ab4};_0x295ba7[_0xd9016d(0x201)](_0x1f4a35),_0x4ec23c[_0xd9016d(0x201)](_0x7dd649);}_0x24e008[_0xd9016d(0x27c)](_0x24e008[_0xd9016d(0x26b)]()+0x7);}if(_0x295ba7[_0xd9016d(0x14e)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0xd9016d(0x201)](..._0x295ba7),lastUserActionTime=Date['now']();let _0x4bcec0=_0xd9016d(0x119)+_0x295ba7['length'];_0x3e4232>0x0&&(_0x4bcec0+=_0xd9016d(0x1d7)+_0x3e4232+')'),showToast(_0x4bcec0,!![]),afterSaveAction(_0x4ec23c);}function updateSeriesBatch(_0x15948b,_0x5cd2df){const _0x3e5363=a2_0x4907db,_0x4518dc=[],_0x468445=_0x5cd2df[_0x3e5363(0x188)];if(_0x15948b===_0x3e5363(0x275)){const _0xb8aca8={..._0x5cd2df,'seriesId':null},_0x4818ab=sessions[_0x3e5363(0x1eb)](_0x52250b=>_0x52250b['id']===_0x5cd2df['id']);if(_0x4818ab!==-0x1)sessions[_0x4818ab]=_0xb8aca8;_0x4518dc[_0x3e5363(0x201)](_0xb8aca8[_0x3e5363(0x228)]);}else{if(_0x15948b==='series'){const _0x28af75=_0x5cd2df[_0x3e5363(0x228)];sessions[_0x3e5363(0x243)]((_0x49dee4,_0x1fee74)=>{const _0x335e6b=_0x3e5363;_0x49dee4[_0x335e6b(0x188)]===_0x468445&&_0x49dee4[_0x335e6b(0x228)]>=_0x28af75&&(sessions[_0x1fee74]={...sessions[_0x1fee74],'start':_0x5cd2df['start'],'end':_0x5cd2df[_0x335e6b(0x1ac)],'note':_0x5cd2df[_0x335e6b(0x175)],'client':_0x5cd2df[_0x335e6b(0x173)],'clientId':_0x5cd2df[_0x335e6b(0x24f)]},_0x4518dc[_0x335e6b(0x201)](_0x49dee4[_0x335e6b(0x228)]));});}}afterSaveAction(_0x4518dc);}function tryDeleteSession(){const _0x30c18f=a2_0x4907db,_0x530995=sessions['find'](_0x623f5e=>_0x623f5e['id']===editingId);if(!_0x530995)return;_0x530995[_0x30c18f(0x188)]?openActionSheet(_0x30c18f(0x16d)):commitDelete(_0x30c18f(0x275),_0x530995);}function commitDelete(_0x3e6574,_0x2bef24){const _0x1c6329=a2_0x4907db;lastUserActionTime=Date[_0x1c6329(0x291)](),NotificationManager[_0x1c6329(0x27b)]('cancel',_0x2bef24);const _0x220df2=[];if(_0x3e6574==='single')sessions=sessions[_0x1c6329(0x1dc)](_0x5db654=>_0x5db654['id']!==_0x2bef24['id']),_0x220df2[_0x1c6329(0x201)](_0x2bef24[_0x1c6329(0x228)]);else{if(_0x3e6574===_0x1c6329(0x21a)){const _0x3a2782=_0x2bef24['dateStr'],_0x538cf4=_0x2bef24[_0x1c6329(0x188)];sessions[_0x1c6329(0x243)](_0x5c4eec=>{const _0x3043c4=_0x1c6329;_0x5c4eec[_0x3043c4(0x188)]===_0x538cf4&&_0x5c4eec[_0x3043c4(0x228)]>=_0x3a2782&&_0x220df2[_0x3043c4(0x201)](_0x5c4eec['dateStr']);}),sessions=sessions[_0x1c6329(0x1dc)](_0x1a508a=>!(_0x1a508a['seriesId']===_0x538cf4&&_0x1a508a[_0x1c6329(0x228)]>=_0x3a2782));}}afterSaveAction(_0x220df2);}function afterSaveAction(_0x1a1735){const _0x4e1e30=a2_0x4907db;DataManager[_0x4e1e30(0x283)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x1a1735)[_0x4e1e30(0x126)](()=>console[_0x4e1e30(0x158)](_0x4e1e30(0x1c7)))['catch'](_0x489c8a=>showToast(_0x4e1e30(0x165),![]));}const NotificationManager={'formatDate'(_0xdbb671){const _0x38c950=a2_0x4907db,_0x5960b4=new Date(_0xdbb671),_0x3f6c4b={'weekday':_0x38c950(0x1da),'day':'numeric','month':_0x38c950(0x1da)};let _0x1b7d3d=_0x5960b4[_0x38c950(0x197)](_0x38c950(0x26d),_0x3f6c4b);return _0x1b7d3d[_0x38c950(0x237)](0x0)['toUpperCase']()+_0x1b7d3d['slice'](0x1);},'getText'(_0x2b7d5d,_0x1e85a8){const _0x2c5266=a2_0x4907db,_0x1113ed=this[_0x2c5266(0x15b)](_0x1e85a8[_0x2c5266(0x228)]);switch(_0x2b7d5d){case _0x2c5266(0x1d5):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+(_0x2c5266(0x27e)+_0x1113ed+'\x0a')+(_0x2c5266(0x187)+_0x1e85a8['start']+_0x2c5266(0x274)+_0x1e85a8['end']+'\x0a\x0a')+_0x2c5266(0x215);case'update':return _0x2c5266(0x1d9)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x2c5266(0x117)+_0x1e85a8[_0x2c5266(0x246)]+_0x2c5266(0x274)+_0x1e85a8[_0x2c5266(0x1ac)]+_0x2c5266(0x21f))+(_0x2c5266(0x27e)+_0x1113ed);case'cancel':return _0x2c5266(0x1aa)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x1113ed+'\x20('+_0x1e85a8[_0x2c5266(0x246)]+_0x2c5266(0x27a));case'complete':return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+_0x2c5266(0x20f)+_0x2c5266(0x1db);default:return'';}},async 'send'(_0x1e6f51,_0x311e79){const _0x2922b1=a2_0x4907db;console[_0x2922b1(0x158)](_0x2922b1(0x12f),_0x1e6f51,_0x311e79);if(!_0x311e79){console[_0x2922b1(0x21e)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x327538=String(_0x311e79[_0x2922b1(0x24f)]);console[_0x2922b1(0x158)](_0x2922b1(0x155),_0x327538);if(!_0x311e79[_0x2922b1(0x24f)]||_0x327538===_0x2922b1(0x1cb)||_0x327538===_0x2922b1(0x177)){console[_0x2922b1(0x21e)](_0x2922b1(0x15f));if(_0x311e79[_0x2922b1(0x173)]){const _0x2bb406=clients[_0x2922b1(0x235)](_0x5d54a2=>_0x5d54a2[_0x2922b1(0x193)]===_0x311e79[_0x2922b1(0x173)]);if(_0x2bb406)return console[_0x2922b1(0x158)](_0x2922b1(0x13c),_0x2bb406['id']),this[_0x2922b1(0x27b)](_0x1e6f51,{..._0x311e79,'clientId':_0x2bb406['id']});}return;}if(_0x327538['length']<0x5){console[_0x2922b1(0x1b1)](_0x2922b1(0x1a3),_0x327538);return;}const _0x3e6b80=this[_0x2922b1(0x13a)](_0x1e6f51,_0x311e79);if(!_0x3e6b80){console[_0x2922b1(0x21e)](_0x2922b1(0x280));return;}console[_0x2922b1(0x158)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x327538+_0x2922b1(0x191)),DataManager[_0x2922b1(0x145)](_0x2922b1(0x150),{'chatId':_0x327538,'text':_0x3e6b80})['then'](_0xed27a3=>console[_0x2922b1(0x158)](_0x2922b1(0x190),_0xed27a3))['catch'](_0x2a68ab=>console['error'](_0x2922b1(0x11e),_0x2a68ab));}};function getLocalDateStr(_0x516088){const _0x4788c6=a2_0x4907db,_0x115088=_0x516088[_0x4788c6(0x1fd)](),_0x442b31=String(_0x516088['getMonth']()+0x1)['padStart'](0x2,'0'),_0x470331=String(_0x516088[_0x4788c6(0x26b)]())[_0x4788c6(0x163)](0x2,'0');return _0x115088+'-'+_0x442b31+'-'+_0x470331;}function getDateStr(_0x2e1729){const _0x4d8b5c=a2_0x4907db,_0x33cd6b=new Date();return _0x33cd6b[_0x4d8b5c(0x27c)](_0x33cd6b[_0x4d8b5c(0x26b)]()+_0x2e1729),getLocalDateStr(_0x33cd6b);}function getStartOfWeek(_0x3f3a7f){const _0x1d6366=a2_0x4907db,_0x1e04c5=new Date(_0x3f3a7f),_0x5a03d0=_0x1e04c5['getDay'](),_0x2904f2=_0x1e04c5[_0x1d6366(0x26b)]()-_0x5a03d0+(_0x5a03d0===0x0?-0x6:0x1);return _0x1e04c5[_0x1d6366(0x27c)](_0x2904f2),_0x1e04c5[_0x1d6366(0x1ce)](0x0,0x0,0x0,0x0),_0x1e04c5;}function hexToRgba(_0x3f5413,_0x6cdc04){const _0x10c204=a2_0x4907db;if(!_0x3f5413)return _0x10c204(0x19b);let _0x2fe504=0x0,_0x3cb3cc=0x0,_0x599aca=0x0;if(_0x3f5413[_0x10c204(0x14e)]===0x4)_0x2fe504='0x'+_0x3f5413[0x1]+_0x3f5413[0x1],_0x3cb3cc='0x'+_0x3f5413[0x2]+_0x3f5413[0x2],_0x599aca='0x'+_0x3f5413[0x3]+_0x3f5413[0x3];else _0x3f5413[_0x10c204(0x14e)]===0x7&&(_0x2fe504='0x'+_0x3f5413[0x1]+_0x3f5413[0x2],_0x3cb3cc='0x'+_0x3f5413[0x3]+_0x3f5413[0x4],_0x599aca='0x'+_0x3f5413[0x5]+_0x3f5413[0x6]);return'rgba('+ +_0x2fe504+',\x20'+ +_0x3cb3cc+',\x20'+ +_0x599aca+',\x20'+_0x6cdc04+')';}function renderTimeColumn(){const _0x995d43=a2_0x4907db,_0x37fed2=document['getElementById'](_0x995d43(0x277)),_0x4eabe5=document[_0x995d43(0x207)](_0x995d43(0x266));_0x37fed2['innerHTML']='',_0x37fed2[_0x995d43(0x239)](_0x4eabe5);for(let _0x46bef4=0x0;_0x46bef4<0x18;_0x46bef4++){const _0x3ac202=document['createElement'](_0x995d43(0x159));_0x3ac202[_0x995d43(0x196)]=_0x995d43(0x1ad);if(_0x46bef4>0x0)_0x3ac202[_0x995d43(0x136)]=_0x995d43(0x12c)+String(_0x46bef4)[_0x995d43(0x163)](0x2,'0')+_0x995d43(0x199);_0x37fed2[_0x995d43(0x239)](_0x3ac202);}}function renderDayRange(_0x48efb7,_0x454fb3){const _0x54ff3e=a2_0x4907db,_0x4e4db7=document[_0x54ff3e(0x207)](_0x54ff3e(0x152)),_0x5a0155=document[_0x54ff3e(0x207)]('gridColumns'),_0x496faf=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x534d3d=new Date();_0x534d3d['setHours'](0x0,0x0,0x0,0x0);const _0x3a7fc0=getLocalDateStr(new Date());for(let _0x5c31ba=_0x48efb7;_0x5c31ba<=_0x454fb3;_0x5c31ba++){const _0x57bd91=new Date(_0x534d3d);_0x57bd91['setDate'](_0x57bd91['getDate']()+_0x5c31ba);const _0x519c56=getLocalDateStr(_0x57bd91);let _0x57e10c=_0x57bd91['getDay']()-0x1;if(_0x57e10c===-0x1)_0x57e10c=0x6;const _0x2a807a=_0x519c56===_0x3a7fc0,_0x323c2c=document[_0x54ff3e(0x22c)](_0x54ff3e(0x159));_0x323c2c[_0x54ff3e(0x196)]=_0x54ff3e(0x1c6)+(_0x2a807a?_0x54ff3e(0x147):''),_0x323c2c['id']=_0x54ff3e(0x1e8)+_0x519c56,_0x323c2c[_0x54ff3e(0x21c)](_0x54ff3e(0x118),_0x519c56),_0x323c2c['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x496faf[_0x57e10c]+_0x54ff3e(0x1ff)+_0x57bd91['getDate']()+_0x54ff3e(0x23d)+_0x519c56+_0x54ff3e(0x14a),_0x323c2c[_0x54ff3e(0x176)]=()=>openDayOptions(_0x519c56,_0x496faf[_0x57e10c]+'\x20'+_0x57bd91[_0x54ff3e(0x26b)]()),_0x4e4db7[_0x54ff3e(0x239)](_0x323c2c);const _0x1907b4=document['createElement'](_0x54ff3e(0x159));_0x1907b4['className']=_0x54ff3e(0x1c8)+(_0x2a807a?'today':''),_0x1907b4[_0x54ff3e(0x21c)]('data-date',_0x519c56),_0x1907b4[_0x54ff3e(0x21c)](_0x54ff3e(0x12e),_0x57e10c),renderEventsForColumn(_0x1907b4,_0x519c56,_0x57e10c),attachLongPressHandler(_0x1907b4,_0x57bd91),_0x5a0155[_0x54ff3e(0x239)](_0x1907b4),updateDayStats(_0x519c56);}}function reRenderBlocks(){const _0x457dca=a2_0x4907db;document['querySelectorAll'](_0x457dca(0x17b))[_0x457dca(0x243)](_0x10adbf=>{const _0x26be1d=_0x457dca;_0x10adbf['querySelectorAll']('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x26be1d(0x243)](_0x3809a4=>_0x3809a4[_0x26be1d(0x1a9)]());const _0xa5300e=_0x10adbf[_0x26be1d(0x130)](_0x26be1d(0x118)),_0x1ea6c7=parseInt(_0x10adbf[_0x26be1d(0x130)](_0x26be1d(0x12e))),_0x421708=Math['round'](_0x10adbf[_0x26be1d(0x1f4)]);(availabilityPattern[_0x1ea6c7]||[])[_0x26be1d(0x243)](_0x27445e=>{const _0xaccf21=_0x26be1d,_0xc60432=document['createElement']('div');_0xc60432['className']='blocked-slot\x20stripe-bg';const _0x21b5c7=_0x27445e*GRID_H;_0xc60432[_0xaccf21(0x11b)][_0xaccf21(0x143)]=_0x21b5c7+'px',_0xc60432[_0xaccf21(0x11b)][_0xaccf21(0x294)]='-'+_0x421708+_0xaccf21(0x154)+_0x21b5c7+'px',_0x10adbf[_0xaccf21(0x239)](_0xc60432);});if(specialRanges&&specialRanges[_0x26be1d(0x14e)]>0x0){const _0x3ed72b=new Date(_0xa5300e+_0x26be1d(0x218))[_0x26be1d(0x28b)](),_0x26f7e1=new Date(_0xa5300e+'T23:59:59')[_0x26be1d(0x28b)]();specialRanges['forEach'](_0x1d57b3=>{const _0x4e51e9=_0x26be1d,_0x28a010=new Date(_0x1d57b3[_0x4e51e9(0x246)])[_0x4e51e9(0x28b)](),_0xcaa15a=new Date(_0x1d57b3['end'])[_0x4e51e9(0x28b)](),_0xbb07e7=Math[_0x4e51e9(0x1b2)](_0x3ed72b,_0x28a010),_0x4fd41f=Math[_0x4e51e9(0x240)](_0x26f7e1,_0xcaa15a);if(_0xbb07e7<_0x4fd41f){if(_0xbb07e7<=_0x3ed72b&&_0x4fd41f>=_0x26f7e1-0xea60){if(!_0x10adbf[_0x4e51e9(0x259)]('.day-off-overlay')){const _0x4a5d4b=document[_0x4e51e9(0x22c)](_0x4e51e9(0x159));_0x4a5d4b[_0x4e51e9(0x196)]='day-off-overlay\x20stripe-bg',_0x4a5d4b[_0x4e51e9(0x11b)]['backgroundPosition']='-'+_0x421708+_0x4e51e9(0x1de),_0x10adbf[_0x4e51e9(0x239)](_0x4a5d4b);}}else{const _0x325321=(_0xbb07e7-_0x3ed72b)/0x36ee80*GRID_H,_0x1a8c72=(_0x4fd41f-_0xbb07e7)/0x36ee80*GRID_H,_0x16f501=document['createElement']('div');_0x16f501['className']='blocked-range-part\x20stripe-bg',_0x16f501[_0x4e51e9(0x11b)][_0x4e51e9(0x143)]=_0x325321+'px',_0x16f501[_0x4e51e9(0x11b)][_0x4e51e9(0x12d)]=_0x1a8c72+'px',_0x16f501[_0x4e51e9(0x11b)][_0x4e51e9(0x294)]='-'+_0x421708+_0x4e51e9(0x154)+_0x325321+'px',_0x10adbf[_0x4e51e9(0x239)](_0x16f501);}}});}if(dateExceptions[_0xa5300e]===_0x26be1d(0x186)){if(!_0x10adbf[_0x26be1d(0x259)](_0x26be1d(0x268))){const _0x1910bf=document['createElement'](_0x26be1d(0x159));_0x1910bf[_0x26be1d(0x196)]=_0x26be1d(0x11f),_0x1910bf[_0x26be1d(0x11b)][_0x26be1d(0x294)]='-'+_0x421708+_0x26be1d(0x1de),_0x10adbf[_0x26be1d(0x239)](_0x1910bf);}}renderEventsForColumn(_0x10adbf,_0xa5300e,_0x1ea6c7),updateDayStats(_0xa5300e);});}function updateAllDayStats(){const _0x39fdd8=a2_0x4907db;document[_0x39fdd8(0x1f8)](_0x39fdd8(0x1ea))[_0x39fdd8(0x243)](_0x542e98=>{const _0x28d9e2=_0x39fdd8;updateDayStats(_0x542e98[_0x28d9e2(0x130)](_0x28d9e2(0x118)));});}function updateDayStats(_0x1b65a5){const _0x4b6771=a2_0x4907db,_0x33bf46=document[_0x4b6771(0x207)](_0x4b6771(0x16f)+_0x1b65a5);if(!_0x33bf46)return;const _0x55a6f8=new Date(_0x1b65a5);let _0x4f0ca7=_0x55a6f8['getDay']()-0x1;if(_0x4f0ca7===-0x1)_0x4f0ca7=0x6;if(dateExceptions[_0x1b65a5]===_0x4b6771(0x186)){_0x33bf46[_0x4b6771(0x11b)][_0x4b6771(0x14f)]=_0x4b6771(0x189);return;}const _0x58780d=availabilityPattern[_0x4f0ca7]||[],_0x28a6f9=0x18-_0x58780d[_0x4b6771(0x14e)],_0xdd6d30=_0x28a6f9*0x3c,_0x3b6a42=sessions['filter'](_0x3c3b13=>_0x3c3b13[_0x4b6771(0x228)]===_0x1b65a5&&_0x3c3b13[_0x4b6771(0x13e)]!==_0x4b6771(0x12b));if(_0x3b6a42[_0x4b6771(0x14e)]===0x0){_0x33bf46[_0x4b6771(0x11b)][_0x4b6771(0x14f)]=_0x4b6771(0x189);return;}let _0x3b629b=_0x3b6a42[_0x4b6771(0x156)](_0x4c41e3=>{const _0x215b0a=_0x4b6771,[_0xf68132,_0x2942ee]=_0x4c41e3[_0x215b0a(0x246)][_0x215b0a(0x255)](':')[_0x215b0a(0x156)](Number),[_0xd55d53,_0x41fe13]=_0x4c41e3['end'][_0x215b0a(0x255)](':')['map'](Number);return[_0xf68132*0x3c+_0x2942ee,_0xd55d53*0x3c+_0x41fe13];});_0x3b629b['sort']((_0x1ecaea,_0x838de3)=>_0x1ecaea[0x0]-_0x838de3[0x0]);let _0x5ce6eb=[];if(_0x3b629b[_0x4b6771(0x14e)]>0x0){let _0x5b1afa=_0x3b629b[0x0];for(let _0x16fb78=0x1;_0x16fb78<_0x3b629b[_0x4b6771(0x14e)];_0x16fb78++){_0x3b629b[_0x16fb78][0x0]<_0x5b1afa[0x1]?_0x5b1afa[0x1]=Math[_0x4b6771(0x1b2)](_0x5b1afa[0x1],_0x3b629b[_0x16fb78][0x1]):(_0x5ce6eb[_0x4b6771(0x201)](_0x5b1afa),_0x5b1afa=_0x3b629b[_0x16fb78]);}_0x5ce6eb[_0x4b6771(0x201)](_0x5b1afa);}let _0x1a1022=0x0;_0x5ce6eb[_0x4b6771(0x243)](_0x59b87f=>_0x1a1022+=_0x59b87f[0x1]-_0x59b87f[0x0]),_0x33bf46[_0x4b6771(0x11b)][_0x4b6771(0x14f)]=_0x4b6771(0x205);const _0x920964=_0x33bf46[_0x4b6771(0x259)](_0x4b6771(0x148));if(_0xdd6d30===0x0){_0x920964[_0x4b6771(0x11b)]['width']=_0x4b6771(0x242),_0x920964['style'][_0x4b6771(0x1ee)]=_0x4b6771(0x1df);return;}const _0x9459e5=_0x1a1022/_0xdd6d30*0x64;console['log']('['+_0x1b65a5+_0x4b6771(0x15c)+_0x28a6f9+_0x4b6771(0x142)+_0x1a1022+_0x4b6771(0x270)+_0x9459e5['toFixed'](0x1)+'%'),_0x9459e5>0x64?(_0x920964[_0x4b6771(0x11b)][_0x4b6771(0x290)]=_0x4b6771(0x242),_0x920964[_0x4b6771(0x11b)][_0x4b6771(0x1ee)]=_0x4b6771(0x1df)):(_0x920964['style']['width']=_0x9459e5+'%',_0x920964['style'][_0x4b6771(0x1ee)]=_0x4b6771(0x249));}function renderEventsForColumn(_0xbfedba,_0x10d58a,_0x2f693e){const _0x1010b0=a2_0x4907db,_0x55e2b0=sessions[_0x1010b0(0x1dc)](_0x15ab19=>_0x15ab19[_0x1010b0(0x228)]===_0x10d58a),_0x788831=_0x55e2b0[_0x1010b0(0x156)](_0x5da184=>{const _0xa43ff4=_0x1010b0,[_0xfe898f,_0x33b9e5]=_0x5da184['start'][_0xa43ff4(0x255)](':')[_0xa43ff4(0x156)](Number),[_0x40bee1,_0x51b5a9]=_0x5da184['end'][_0xa43ff4(0x255)](':')[_0xa43ff4(0x156)](Number);return{'data':_0x5da184,'start':_0xfe898f*0x3c+_0x33b9e5,'end':_0x40bee1*0x3c+_0x51b5a9,'colIndex':0x0};});_0x788831[_0x1010b0(0x164)]((_0x5cc7c2,_0x533f37)=>{const _0xc01860=_0x1010b0;if(_0x5cc7c2[_0xc01860(0x246)]!==_0x533f37[_0xc01860(0x246)])return _0x5cc7c2[_0xc01860(0x246)]-_0x533f37[_0xc01860(0x246)];return _0x533f37[_0xc01860(0x1ac)]-_0x533f37['start']-(_0x5cc7c2['end']-_0x5cc7c2[_0xc01860(0x246)]);});const _0x458319=[];_0x788831[_0x1010b0(0x243)](_0x6dc5d5=>{const _0x46f10f=_0x1010b0;let _0x27b5db=![];for(let _0x1cf67c=0x0;_0x1cf67c<_0x458319['length'];_0x1cf67c++){const _0x2b334e=_0x458319[_0x1cf67c],_0x2046f6=_0x2b334e[_0x2b334e[_0x46f10f(0x14e)]-0x1];if(_0x6dc5d5[_0x46f10f(0x246)]>=_0x2046f6[_0x46f10f(0x1ac)]){_0x2b334e[_0x46f10f(0x201)](_0x6dc5d5),_0x6dc5d5['colIndex']=_0x1cf67c,_0x27b5db=!![];break;}}!_0x27b5db&&(_0x458319[_0x46f10f(0x201)]([_0x6dc5d5]),_0x6dc5d5['colIndex']=_0x458319[_0x46f10f(0x14e)]-0x1);}),_0x788831[_0x1010b0(0x243)](_0x25da80=>{const _0x4b85d5=_0x1010b0;let _0x92081a=0x0;_0x788831[_0x4b85d5(0x243)](_0x619aa3=>{const _0x33b2e0=_0x4b85d5;if(Math[_0x33b2e0(0x1b2)](_0x25da80[_0x33b2e0(0x246)],_0x619aa3[_0x33b2e0(0x246)])<Math[_0x33b2e0(0x240)](_0x25da80[_0x33b2e0(0x1ac)],_0x619aa3['end'])){if(_0x619aa3[_0x33b2e0(0x179)]>_0x92081a)_0x92081a=_0x619aa3['colIndex'];}});const _0xe4f7e9=_0x92081a+0x1,_0x3e9243=0x64/_0xe4f7e9,_0x5da4ab=_0x25da80[_0x4b85d5(0x179)]*_0x3e9243,_0x2d2ed8=createEventEl(_0x25da80[_0x4b85d5(0x232)]);_0x2d2ed8[_0x4b85d5(0x11b)][_0x4b85d5(0x290)]=_0x4b85d5(0x22e)+_0x3e9243+_0x4b85d5(0x202),_0x2d2ed8[_0x4b85d5(0x11b)]['left']='calc('+_0x5da4ab+_0x4b85d5(0x244),_0x2d2ed8[_0x4b85d5(0x11b)][_0x4b85d5(0x14b)]=0xa+_0x25da80[_0x4b85d5(0x179)],_0x3e9243<0x55&&_0x2d2ed8[_0x4b85d5(0x1d6)]['add'](_0x4b85d5(0x1cf)),_0xbfedba[_0x4b85d5(0x239)](_0x2d2ed8);});}function createEventEl(_0x22d716){const _0x297ab8=a2_0x4907db,[_0xcab095,_0x294c15]=_0x22d716['start'][_0x297ab8(0x255)](':')[_0x297ab8(0x156)](Number),[_0x3c1288,_0x42bc9d]=_0x22d716[_0x297ab8(0x1ac)][_0x297ab8(0x255)](':')[_0x297ab8(0x156)](Number),_0x36f93e=(_0xcab095*0x3c+_0x294c15)/0x3c*GRID_H,_0x1a6c60=(_0x3c1288*0x3c+_0x42bc9d-(_0xcab095*0x3c+_0x294c15))/0x3c*GRID_H,_0x3cb501=document[_0x297ab8(0x22c)](_0x297ab8(0x159)),_0x267655=_0x22d716[_0x297ab8(0x13e)]==='completed'?'\x20status-completed':'';_0x3cb501['className']=_0x297ab8(0x1af)+_0x267655,_0x3cb501[_0x297ab8(0x11b)][_0x297ab8(0x143)]=_0x36f93e+'px',_0x3cb501[_0x297ab8(0x11b)][_0x297ab8(0x12d)]=Math['max'](_0x1a6c60,0x14)+'px';const _0x18e97a=clients['find'](_0x536036=>_0x22d716['clientId']&&String(_0x536036['id'])===String(_0x22d716['clientId'])||_0x536036[_0x297ab8(0x193)]===_0x22d716[_0x297ab8(0x173)]),_0x55ad51=_0x18e97a?_0x18e97a[_0x297ab8(0x27f)]:'#0a84ff';_0x3cb501['style'][_0x297ab8(0x18d)]=_0x55ad51,_0x3cb501['style'][_0x297ab8(0x272)]=hexToRgba(_0x55ad51,0.85);let _0x3c6e32='<div\x20class=\x22ev-title\x22>'+_0x22d716[_0x297ab8(0x173)]+_0x297ab8(0x1b8)+_0x22d716['start']+_0x297ab8(0x140)+_0x22d716['end']+_0x297ab8(0x1a8);return _0x22d716[_0x297ab8(0x188)]&&(_0x3c6e32+=_0x297ab8(0x14d)),_0x22d716[_0x297ab8(0x13e)]==='completed'&&(_0x3c6e32+=_0x297ab8(0x225)),_0x3cb501['innerHTML']=_0x3c6e32,_0x3cb501['onclick']=_0x4935de=>{const _0xf041fa=_0x297ab8;_0x4935de[_0xf041fa(0x19d)](),openEdit(_0x22d716);},_0x3cb501;}function attachLongPressHandler(_0x15c111,_0x4461db){const _0x37546d=a2_0x4907db;let _0x2b533d=0x0,_0x41e006=null;const _0x3112ad=_0x12aaef=>{const _0x2e457e=a2_0x2c4f;if(_0x12aaef[_0x2e457e(0x157)][_0x2e457e(0x1ef)]('.event-card'))return;isScrolling=![],_0x2b533d=_0x12aaef[_0x2e457e(0x194)]?_0x12aaef['touches'][0x0][_0x2e457e(0x1f1)]:_0x12aaef[_0x2e457e(0x1f1)],_0x41e006=setTimeout(()=>{const _0x556aca=_0x2e457e;if(!isScrolling){navigator[_0x556aca(0x11d)]?.(0x32);const _0xd25a13=_0x15c111[_0x556aca(0x212)](),_0xd77ba8=Math[_0x556aca(0x185)]((_0x2b533d-_0xd25a13['top'])/GRID_H);_0x4461db['setHours'](_0xd77ba8,0x0),openAddSession(_0x4461db);}},0x1f4);},_0x5cd333=()=>{isScrolling=!![],clearTimeout(_0x41e006);},_0x53bfde=()=>{clearTimeout(_0x41e006);};_0x15c111['addEventListener']('touchstart',_0x3112ad,{'passive':!![]}),_0x15c111[_0x37546d(0x16a)](_0x37546d(0x1f3),_0x5cd333,{'passive':!![]}),_0x15c111[_0x37546d(0x16a)](_0x37546d(0x170),_0x53bfde),_0x15c111['addEventListener'](_0x37546d(0x1d8),_0x3112ad),_0x15c111[_0x37546d(0x16a)]('mousemove',_0x5cd333),_0x15c111[_0x37546d(0x16a)](_0x37546d(0x265),_0x53bfde);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x45ef78=a2_0x4907db,_0x4fddce=document[_0x45ef78(0x207)](_0x45ef78(0x1c9)),_0x127c41=_0x4fddce[_0x45ef78(0x1bb)],_0x386f8c=_0x4fddce['scrollWidth'],_0x2110ec=_0x4fddce[_0x45ef78(0x20d)];if(_0x386f8c-(_0x127c41+_0x2110ec)<0x12c){const _0x2fbfc0=endOffset;endOffset+=0xe,renderDayRange(_0x2fbfc0+0x1,endOffset),reRenderBlocks();}if(_0x127c41<0x12c){const _0x54f3c2=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54f3c2-0x1),_0x4fddce['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x52540c,_0x11ce7f){const _0x4f6edb=a2_0x4907db,_0x23e697=document[_0x4f6edb(0x207)](_0x4f6edb(0x152)),_0xdb1b08=document[_0x4f6edb(0x207)]('gridColumns'),_0x23e7d1=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4a4876=new Date();_0x4a4876[_0x4f6edb(0x1ce)](0x0,0x0,0x0,0x0);const _0x17fcae=getLocalDateStr(new Date()),_0x2ea3aa=document[_0x4f6edb(0x1b3)](),_0x3e25b6=document[_0x4f6edb(0x1b3)]();for(let _0x4a0062=_0x52540c;_0x4a0062<=_0x11ce7f;_0x4a0062++){const _0x32ef56=new Date(_0x4a4876);_0x32ef56[_0x4f6edb(0x27c)](_0x32ef56[_0x4f6edb(0x26b)]()+_0x4a0062);const _0xe68064=getLocalDateStr(_0x32ef56);let _0x39fb14=_0x32ef56[_0x4f6edb(0x217)]()-0x1;if(_0x39fb14===-0x1)_0x39fb14=0x6;const _0x2dc3a6=_0xe68064===_0x17fcae,_0x1e567e=document[_0x4f6edb(0x22c)](_0x4f6edb(0x159));_0x1e567e[_0x4f6edb(0x196)]=_0x4f6edb(0x1c6)+(_0x2dc3a6?_0x4f6edb(0x147):''),_0x1e567e['id']='header-'+_0xe68064,_0x1e567e[_0x4f6edb(0x21c)](_0x4f6edb(0x118),_0xe68064),_0x1e567e['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x23e7d1[_0x39fb14]+_0x4f6edb(0x1ff)+_0x32ef56[_0x4f6edb(0x26b)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0xe68064+_0x4f6edb(0x14a),_0x1e567e['onclick']=()=>openDayOptions(_0xe68064,_0x23e7d1[_0x39fb14]+'\x20'+_0x32ef56[_0x4f6edb(0x26b)]()),_0x2ea3aa['appendChild'](_0x1e567e);const _0x902753=document['createElement'](_0x4f6edb(0x159));_0x902753['className']=_0x4f6edb(0x1c8)+(_0x2dc3a6?_0x4f6edb(0x147):''),_0x902753[_0x4f6edb(0x21c)](_0x4f6edb(0x118),_0xe68064),_0x902753[_0x4f6edb(0x21c)](_0x4f6edb(0x12e),_0x39fb14),renderEventsForColumn(_0x902753,_0xe68064,_0x39fb14),attachLongPressHandler(_0x902753,_0x32ef56),_0x3e25b6[_0x4f6edb(0x239)](_0x902753),updateDayStats(_0xe68064);}_0x23e697[_0x4f6edb(0x1ec)](_0x2ea3aa,_0x23e697[_0x4f6edb(0x262)]),_0xdb1b08['insertBefore'](_0x3e25b6,_0xdb1b08[_0x4f6edb(0x259)](_0x4f6edb(0x1c5)));}function validateAppointment(_0x277a9a,_0x425ad6,_0x4461a1,_0x1ff321,_0x20260d){const _0x18bf36=a2_0x4907db,[_0x1ec90e,_0x5255db]=_0x425ad6['split'](':')[_0x18bf36(0x156)](Number),[_0x5dcaa4,_0x56f39d]=_0x4461a1[_0x18bf36(0x255)](':')[_0x18bf36(0x156)](Number),_0x2be49d=_0x1ec90e*0x3c+_0x5255db,_0x2c2023=_0x5dcaa4*0x3c+_0x56f39d,_0x379715=String(_0x20260d);let _0xe4f273=![],_0x27b54c='';for(let _0x2d64dd of sessions){if(_0x2d64dd[_0x18bf36(0x228)]!==_0x277a9a)continue;if(_0x2d64dd[_0x18bf36(0x13e)]==='cancelled')continue;if(_0x1ff321&&String(_0x2d64dd['id'])===String(_0x1ff321))continue;const [_0x88571e,_0x5cfe3b]=_0x2d64dd['start']['split'](':')[_0x18bf36(0x156)](Number),[_0x47206e,_0xaa74a3]=_0x2d64dd['end'][_0x18bf36(0x255)](':')[_0x18bf36(0x156)](Number),_0x1d2fed=_0x88571e*0x3c+_0x5cfe3b,_0x47bd65=_0x47206e*0x3c+_0xaa74a3;if(Math[_0x18bf36(0x1b2)](_0x2be49d,_0x1d2fed)<Math['min'](_0x2c2023,_0x47bd65)){if(_0x2d64dd[_0x18bf36(0x24f)]&&String(_0x2d64dd[_0x18bf36(0x24f)])===_0x379715)return{'valid':![],'msg':_0x18bf36(0x219)+_0x2d64dd['client']+_0x18bf36(0x18c)};_0xe4f273=!![],_0x27b54c=_0x2d64dd[_0x18bf36(0x173)];}}if(_0xe4f273)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x27b54c};return{'valid':!![]};}function updateDateDisplay(){const _0x11d4a8=a2_0x4907db,_0x69b1d4=document[_0x11d4a8(0x207)]('inpDate')['value'],_0x4066e7=document['getElementById']('sheetDateSubtitle');if(!_0x69b1d4){_0x4066e7[_0x11d4a8(0x125)]='';return;}const [_0x532d76,_0x1c493a,_0x4ceb89]=_0x69b1d4[_0x11d4a8(0x255)]('-')[_0x11d4a8(0x156)](Number),_0x574c47=new Date(_0x532d76,_0x1c493a-0x1,_0x4ceb89),_0x4d0e76={'weekday':'long','day':'numeric','month':'long','year':_0x11d4a8(0x260)};let _0x68af87=_0x574c47[_0x11d4a8(0x197)](_0x11d4a8(0x26d),_0x4d0e76);_0x68af87=_0x68af87[_0x11d4a8(0x237)](0x0)[_0x11d4a8(0x254)]()+_0x68af87[_0x11d4a8(0x1bc)](0x1),_0x4066e7[_0x11d4a8(0x125)]=_0x68af87;}function autoSetEndTime(){const _0x227552=a2_0x4907db,_0x40f7fe=document[_0x227552(0x207)](_0x227552(0x1fa))['value'];if(!_0x40f7fe)return;const [_0x278ad5,_0x22a282]=_0x40f7fe[_0x227552(0x255)](':')['map'](Number);let _0x11ae42=_0x278ad5+0x1;if(_0x11ae42>0x17)_0x11ae42=0x0;const _0x1fcac1=String(_0x11ae42)[_0x227552(0x163)](0x2,'0')+':'+String(_0x22a282)[_0x227552(0x163)](0x2,'0');document['getElementById'](_0x227552(0x15e))[_0x227552(0x1b7)]=_0x1fcac1;}function populateClientSelect(){const _0x4be67e=a2_0x4907db,_0x2df07c=document['getElementById'](_0x4be67e(0x284));_0x2df07c[_0x4be67e(0x136)]='';if(clients['length']===0x0){const _0x5e971e=document[_0x4be67e(0x22c)](_0x4be67e(0x19c));_0x5e971e[_0x4be67e(0x15d)]=_0x4be67e(0x19f),_0x2df07c[_0x4be67e(0x239)](_0x5e971e);return;}clients[_0x4be67e(0x243)](_0x4e7bb3=>{const _0x111a64=_0x4be67e,_0x39d209=document[_0x111a64(0x22c)](_0x111a64(0x19c));_0x39d209['value']=_0x4e7bb3[_0x111a64(0x193)],_0x39d209[_0x111a64(0x125)]=_0x4e7bb3[_0x111a64(0x193)],_0x2df07c[_0x111a64(0x239)](_0x39d209);});}function openActionSheet(_0x4e3314){const _0x491ea0=a2_0x4907db,_0x49b946=document[_0x491ea0(0x207)](_0x491ea0(0x25d)),_0x59c1e3=document['getElementById'](_0x491ea0(0x285)),_0x3d26bc=document[_0x491ea0(0x207)](_0x491ea0(0x1fc)),_0x1bd33a=document[_0x491ea0(0x207)]('asBtnOne'),_0x4347a2=document[_0x491ea0(0x207)](_0x491ea0(0x132));_0x59c1e3[_0x491ea0(0x1d6)][_0x491ea0(0x183)]('active'),_0x49b946[_0x491ea0(0x1d6)][_0x491ea0(0x183)](_0x491ea0(0x128));if(_0x4e3314===_0x491ea0(0x1a4))_0x3d26bc[_0x491ea0(0x125)]=_0x491ea0(0x11a),_0x1bd33a[_0x491ea0(0x125)]=_0x491ea0(0x1b9),_0x1bd33a[_0x491ea0(0x176)]=()=>{const _0x2b79d6=_0x491ea0;closeActionSheet(),updateSeriesBatch(_0x2b79d6(0x275),tempSessionData);},_0x4347a2['textContent']=_0x491ea0(0x1a6),_0x4347a2[_0x491ea0(0x176)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x4e3314===_0x491ea0(0x16d)&&(_0x3d26bc[_0x491ea0(0x125)]=_0x491ea0(0x241),_0x1bd33a[_0x491ea0(0x125)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x1bd33a[_0x491ea0(0x196)]='as-button\x20danger',_0x1bd33a[_0x491ea0(0x176)]=()=>{const _0x906e2a=_0x491ea0;closeActionSheet(),commitDelete(_0x906e2a(0x275),sessions[_0x906e2a(0x235)](_0x2dbb07=>_0x2dbb07['id']===editingId));},_0x4347a2[_0x491ea0(0x125)]=_0x491ea0(0x1a6),_0x4347a2[_0x491ea0(0x196)]=_0x491ea0(0x28c),_0x4347a2[_0x491ea0(0x176)]=()=>{const _0x5a93b0=_0x491ea0;closeActionSheet(),commitDelete(_0x5a93b0(0x21a),sessions[_0x5a93b0(0x235)](_0x166b32=>_0x166b32['id']===editingId));});}function closeActionSheet(){const _0x385656=a2_0x4907db;document['getElementById'](_0x385656(0x25d))[_0x385656(0x1d6)][_0x385656(0x1a9)]('open'),document[_0x385656(0x207)](_0x385656(0x285))[_0x385656(0x1d6)][_0x385656(0x1a9)]('active');}function openSettings(){const _0x2704f6=a2_0x4907db;openSheet(_0x2704f6(0x24e));}function saveCoachSettings(){const _0x488e55=a2_0x4907db,_0xa11f7d=document[_0x488e55(0x207)](_0x488e55(0x16e))['value'];localStorage['setItem'](_0x488e55(0x282),_0xa11f7d),console['log'](_0x488e55(0x24b),_0xa11f7d),DataManager[_0x488e55(0x145)](_0x488e55(0x1f6),{'settings':{'cancel_window':_0xa11f7d}})[_0x488e55(0x19a)](_0x10fd10=>{const _0x243605=_0x488e55;console[_0x243605(0x21e)]('Save\x20settings\x20error:',_0x10fd10),showToast(_0x243605(0x1d4),![]);});}function loadCoachSettings(){const _0xde77bd=a2_0x4907db,_0x46aa62=localStorage['getItem'](_0xde77bd(0x282));_0x46aa62&&(document[_0xde77bd(0x207)]('settingCancelWindow')[_0xde77bd(0x1b7)]=_0x46aa62);}function openRangesSheet(){const _0x5c2e0a=a2_0x4907db;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x5c2e0a(0x135));}function addRange(){const _0x2569b7=a2_0x4907db,_0x7ce278=document[_0x2569b7(0x207)](_0x2569b7(0x168))[_0x2569b7(0x1b7)],_0x1d3fc6=document[_0x2569b7(0x207)](_0x2569b7(0x1a5))[_0x2569b7(0x1b7)],_0x23078f=document[_0x2569b7(0x207)](_0x2569b7(0x26f))[_0x2569b7(0x1b7)],_0x26879e=document[_0x2569b7(0x207)](_0x2569b7(0x222))['value'];if(!_0x7ce278||!_0x1d3fc6||!_0x23078f||!_0x26879e)return alert(_0x2569b7(0x1b6));const _0x25b600=_0x7ce278+'T'+_0x1d3fc6,_0xab6ddf=_0x23078f+'T'+_0x26879e;if(_0x25b600>=_0xab6ddf)return alert(_0x2569b7(0x21d));specialRanges[_0x2569b7(0x201)]({'start':_0x25b600,'end':_0xab6ddf}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x2569b7(0x283)](),DataManager[_0x2569b7(0x145)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x114641){const _0x2ef130=a2_0x4907db;specialRanges[_0x2ef130(0x139)](_0x114641,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x2ef130(0x283)](),DataManager[_0x2ef130(0x145)]('save_settings',{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x1a3903=a2_0x4907db;document[_0x1a3903(0x207)](_0x1a3903(0x168))[_0x1a3903(0x1b7)]='',document[_0x1a3903(0x207)](_0x1a3903(0x1a5))[_0x1a3903(0x1b7)]=_0x1a3903(0x1e7),document[_0x1a3903(0x207)]('rangeEndDate')['value']='',document['getElementById'](_0x1a3903(0x222))['value']=_0x1a3903(0x23b);}function renderRangesList(){const _0x4c1cf2=a2_0x4907db,_0x2c9945=document['getElementById']('rangesList');_0x2c9945[_0x4c1cf2(0x136)]='';if(!specialRanges[_0x4c1cf2(0x14e)]){_0x2c9945['innerHTML']=_0x4c1cf2(0x141);return;}specialRanges[_0x4c1cf2(0x243)]((_0x4857e5,_0x1b2daf)=>{const _0x2ef321=_0x4c1cf2,_0x48836e=document['createElement'](_0x2ef321(0x159));_0x48836e[_0x2ef321(0x196)]=_0x2ef321(0x250);const _0x4de01d=_0xb345e2=>{const _0x4be9d2=_0x2ef321,_0x179df9=new Date(_0xb345e2);return _0x179df9[_0x4be9d2(0x26b)]()+'.'+String(_0x179df9['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x179df9[_0x4be9d2(0x251)]())[_0x4be9d2(0x163)](0x2,'0')+':'+String(_0x179df9['getMinutes']())[_0x4be9d2(0x163)](0x2,'0');};_0x48836e[_0x2ef321(0x136)]=_0x2ef321(0x258)+_0x4de01d(_0x4857e5[_0x2ef321(0x246)])+_0x2ef321(0x274)+_0x4de01d(_0x4857e5[_0x2ef321(0x1ac)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x1b2daf+_0x2ef321(0x19e),_0x2c9945[_0x2ef321(0x239)](_0x48836e);});}function scrollToToday(){const _0x50f9f4=a2_0x4907db,_0x3e6fde=getLocalDateStr(new Date()),_0x556251=document[_0x50f9f4(0x207)](_0x50f9f4(0x1e8)+_0x3e6fde),_0x1fdd6d=document[_0x50f9f4(0x207)]('matrixViewport');if(_0x556251&&_0x1fdd6d){const _0x529490=_0x1fdd6d['clientWidth'],_0x450183=_0x556251[_0x50f9f4(0x1f4)],_0x19ec51=_0x556251[_0x50f9f4(0x203)];_0x1fdd6d['scrollLeft']=_0x450183-_0x529490/0x2+_0x19ec51/0x2,_0x1fdd6d[_0x50f9f4(0x230)]=0x9*GRID_H;}}function onScroll(){const _0x1453c6=a2_0x4907db,_0x3a6747=document[_0x1453c6(0x207)](_0x1453c6(0x1c9)),_0x1c898d=document['querySelectorAll'](_0x1453c6(0x1ea));for(let _0x42c608 of _0x1c898d)if(_0x42c608[_0x1453c6(0x1f4)]>=_0x3a6747[_0x1453c6(0x1bb)]){const _0x5cf358=new Date(_0x42c608[_0x1453c6(0x130)](_0x1453c6(0x118)));document['getElementById']('headerMonth')[_0x1453c6(0x125)]=_0x5cf358[_0x1453c6(0x1dd)]('ru',{'month':_0x1453c6(0x1da)})[_0x1453c6(0x254)]()+'\x20'+_0x5cf358[_0x1453c6(0x1fd)]();break;}}function showToast(_0xab9f64,_0x3812bd=![]){const _0x357e0e=a2_0x4907db,_0x303166=document[_0x357e0e(0x207)](_0x357e0e(0x200));_0x303166[_0x357e0e(0x196)]=_0x357e0e(0x172)+(_0x3812bd?_0x357e0e(0x22d):''),document[_0x357e0e(0x207)]('toastTitle')[_0x357e0e(0x125)]=_0x3812bd?_0x357e0e(0x247):_0x357e0e(0x278),document[_0x357e0e(0x207)](_0x357e0e(0x134))[_0x357e0e(0x125)]=_0xab9f64,_0x303166[_0x357e0e(0x1d6)][_0x357e0e(0x183)](_0x357e0e(0x169)),setTimeout(()=>{const _0xbddac2=_0x357e0e;_0x303166[_0xbddac2(0x1d6)][_0xbddac2(0x1a9)](_0xbddac2(0x169));},0xbb8);}function openDayOptions(_0x20ddcf,_0x452847){const _0x46cd19=a2_0x4907db;selectedDayForOptions=_0x20ddcf,document[_0x46cd19(0x207)]('dayOptionsTitle')[_0x46cd19(0x125)]=_0x452847,openSheet('dayOptionsSheet');}function toggleDayOff(){const _0x384286=a2_0x4907db;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x384286(0x186),reRenderBlocks(),closeAllSheets(),DataManager[_0x384286(0x283)](),DataManager[_0x384286(0x145)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x4adffb=a2_0x4907db;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x4adffb(0x283)](),DataManager[_0x4adffb(0x145)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x12af9e){const _0x84bb15=a2_0x4907db;document[_0x84bb15(0x207)](_0x84bb15(0x17a))['classList']['add'](_0x84bb15(0x28e)),document[_0x84bb15(0x207)](_0x12af9e)[_0x84bb15(0x1d6)]['add'](_0x84bb15(0x128));}function closeAllSheets(){const _0x4ac9c9=a2_0x4907db;document[_0x4ac9c9(0x207)]('overlay')[_0x4ac9c9(0x1d6)][_0x4ac9c9(0x1a9)](_0x4ac9c9(0x28e)),document[_0x4ac9c9(0x1f8)](_0x4ac9c9(0x23c))['forEach'](_0x2db656=>_0x2db656['classList'][_0x4ac9c9(0x1a9)]('open'));}function openPatternEditor(){const _0x25eaf4=a2_0x4907db;closeAllSheets(),document[_0x25eaf4(0x207)](_0x25eaf4(0x17f))[_0x25eaf4(0x1d6)][_0x25eaf4(0x183)](_0x25eaf4(0x128)),renderPatternEditor();}function closePatternEditor(){const _0xd856b2=a2_0x4907db;document['getElementById']('patternEditor')['classList'][_0xd856b2(0x1a9)](_0xd856b2(0x128));}function savePattern(){const _0x3d8b5d=a2_0x4907db;document[_0x3d8b5d(0x207)]('patternEditor')[_0x3d8b5d(0x1d6)][_0x3d8b5d(0x1a9)](_0x3d8b5d(0x128)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x3d8b5d(0x145)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x242d18=a2_0x4907db,_0x3839df=document['getElementById'](_0x242d18(0x276));_0x3839df[_0x242d18(0x136)]='';const _0x1f2042=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1e2cc2=document[_0x242d18(0x22c)]('div');_0x1e2cc2[_0x242d18(0x196)]=_0x242d18(0x279),_0x3839df[_0x242d18(0x239)](_0x1e2cc2),_0x1f2042['forEach']((_0x6872b8,_0x510d86)=>{const _0x1320ff=_0x242d18,_0x53a3c1=document[_0x1320ff(0x22c)](_0x1320ff(0x159));_0x53a3c1[_0x1320ff(0x196)]='pe-col-header',_0x53a3c1[_0x1320ff(0x136)]=_0x6872b8+'\x20<span\x20class=\x22arrow\x22>‚Üì</span>',_0x53a3c1[_0x1320ff(0x176)]=()=>toggleColPattern(_0x510d86),_0x3839df[_0x1320ff(0x239)](_0x53a3c1);});for(let _0xbd98e8=0x0;_0xbd98e8<0x18;_0xbd98e8++){const _0x2f588e=document[_0x242d18(0x22c)](_0x242d18(0x159));_0x2f588e[_0x242d18(0x196)]='pe-time-label',_0x2f588e[_0x242d18(0x136)]=_0x242d18(0x25b)+String(_0xbd98e8)['padStart'](0x2,'0')+_0x242d18(0x18b),_0x2f588e[_0x242d18(0x176)]=()=>toggleRowPattern(_0xbd98e8),_0x3839df[_0x242d18(0x239)](_0x2f588e);for(let _0x410ecb=0x0;_0x410ecb<0x7;_0x410ecb++){const _0x220254=document['createElement'](_0x242d18(0x159)),_0x803d47=(availabilityPattern[_0x410ecb]||[])[_0x242d18(0x1c1)](_0xbd98e8),_0x3163e0=!_0x803d47;_0x220254[_0x242d18(0x196)]=_0x242d18(0x26a)+(_0x3163e0?_0x242d18(0x28e):''),_0x220254[_0x242d18(0x176)]=()=>toggleSinglePattern(_0x410ecb,_0xbd98e8),_0x3839df['appendChild'](_0x220254);}}}function toggleSinglePattern(_0x51cf16,_0x1cbdee){const _0x32e966=a2_0x4907db;if(!availabilityPattern[_0x51cf16])availabilityPattern[_0x51cf16]=[];const _0x88867d=availabilityPattern[_0x51cf16],_0x8da919=_0x88867d['indexOf'](_0x1cbdee);_0x8da919===-0x1?_0x88867d[_0x32e966(0x201)](_0x1cbdee):_0x88867d[_0x32e966(0x139)](_0x8da919,0x1),renderPatternEditor();}function toggleColPattern(_0x1df754){const _0x2d6e57=a2_0x4907db;if(!availabilityPattern[_0x1df754])availabilityPattern[_0x1df754]=[];const _0x4dfd88=availabilityPattern[_0x1df754];_0x4dfd88[_0x2d6e57(0x14e)]===0x0?availabilityPattern[_0x1df754]=Array['from']({'length':0x18},(_0x2324e9,_0x2e51f8)=>_0x2e51f8):availabilityPattern[_0x1df754]=[],renderPatternEditor();}function toggleRowPattern(_0x2221e3){const _0x5378c6=a2_0x4907db;let _0x28818d=!![];for(let _0x10e586=0x0;_0x10e586<0x7;_0x10e586++){if((availabilityPattern[_0x10e586]||[])[_0x5378c6(0x1c1)](_0x2221e3)){_0x28818d=![];break;}}for(let _0x11240b=0x0;_0x11240b<0x7;_0x11240b++){if(!availabilityPattern[_0x11240b])availabilityPattern[_0x11240b]=[];const _0x24b97e=availabilityPattern[_0x11240b]['indexOf'](_0x2221e3);if(_0x28818d){if(_0x24b97e===-0x1)availabilityPattern[_0x11240b][_0x5378c6(0x201)](_0x2221e3);}else{if(_0x24b97e!==-0x1)availabilityPattern[_0x11240b]['splice'](_0x24b97e,0x1);}}renderPatternEditor();}function renderPCol(_0x205403,_0x514f73){const _0x118459=a2_0x4907db;_0x205403[_0x118459(0x136)]='';const _0x5cc47e=Math[_0x118459(0x174)](_0x205403['offsetLeft']);(availabilityPattern[_0x514f73]||[])['forEach'](_0x37fd53=>{const _0x1ddb4b=_0x118459,_0x51b7c4=document[_0x1ddb4b(0x22c)](_0x1ddb4b(0x159));_0x51b7c4[_0x1ddb4b(0x196)]='blocked-slot\x20stripe-bg';const _0x1d035a=_0x37fd53*GRID_H;_0x51b7c4[_0x1ddb4b(0x11b)][_0x1ddb4b(0x143)]=_0x1d035a+'px',_0x51b7c4['style'][_0x1ddb4b(0x294)]='-'+_0x5cc47e+'px\x20-'+_0x1d035a+'px',_0x51b7c4[_0x1ddb4b(0x176)]=_0x2e4b66=>{_0x2e4b66['stopPropagation'](),toggleSinglePattern(_0x514f73,_0x37fd53);},_0x205403[_0x1ddb4b(0x239)](_0x51b7c4);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0xe8b8ee=a2_0x4907db,_0x2e6f5b=new Date(),_0x391a73=document[_0xe8b8ee(0x207)](_0xe8b8ee(0x121)),_0x265ebd=document[_0xe8b8ee(0x207)](_0xe8b8ee(0x266)),_0x2e8825=(_0x2e6f5b['getHours']()*0x3c+_0x2e6f5b['getMinutes']())/0x3c*GRID_H;_0x391a73[_0xe8b8ee(0x11b)][_0xe8b8ee(0x143)]=_0x2e8825+'px',_0x391a73[_0xe8b8ee(0x11b)][_0xe8b8ee(0x14f)]=_0xe8b8ee(0x22b),_0x265ebd[_0xe8b8ee(0x125)]=String(_0x2e6f5b[_0xe8b8ee(0x251)]())['padStart'](0x2,'0')+':'+String(_0x2e6f5b[_0xe8b8ee(0x1ed)]())[_0xe8b8ee(0x163)](0x2,'0'),_0x265ebd[_0xe8b8ee(0x11b)][_0xe8b8ee(0x14f)]=_0xe8b8ee(0x22b),_0x265ebd[_0xe8b8ee(0x11b)][_0xe8b8ee(0x143)]=_0x2e8825+'px';}document[a2_0x4907db(0x16a)](a2_0x4907db(0x23a),init);function openDayOptions(_0x367084){const _0x5b7f53=a2_0x4907db;selectedDayForOptions=_0x367084;const _0x4d0843=new Date(_0x367084),_0xe3aa9d={'weekday':_0x5b7f53(0x1da),'day':_0x5b7f53(0x260),'month':'long','year':_0x5b7f53(0x260)},_0x2265d9=_0x4d0843[_0x5b7f53(0x197)]('ru-RU',_0xe3aa9d);document[_0x5b7f53(0x207)](_0x5b7f53(0x223))[_0x5b7f53(0x125)]=_0x2265d9[_0x5b7f53(0x237)](0x0)['toUpperCase']()+_0x2265d9[_0x5b7f53(0x1bc)](0x1);let _0x46c83c=_0x4d0843['getDay']()-0x1;if(_0x46c83c===-0x1)_0x46c83c=0x6;const _0x4db16b=availabilityPattern[_0x46c83c]||[],_0x21a955=0x18-_0x4db16b['length'],_0x4c3e61=_0x21a955*0x3c,_0x5e6219=sessions[_0x5b7f53(0x1dc)](_0x5c7c29=>_0x5c7c29[_0x5b7f53(0x228)]===_0x367084&&_0x5c7c29[_0x5b7f53(0x13e)]!==_0x5b7f53(0x12b));let _0x28ea87=_0x5e6219[_0x5b7f53(0x156)](_0x26e457=>{const _0x1fa2ea=_0x5b7f53,[_0xf8051d,_0x36ed80]=_0x26e457['start'][_0x1fa2ea(0x255)](':')[_0x1fa2ea(0x156)](Number),[_0xc98d79,_0x488c7b]=_0x26e457[_0x1fa2ea(0x1ac)][_0x1fa2ea(0x255)](':')[_0x1fa2ea(0x156)](Number);return[_0xf8051d*0x3c+_0x36ed80,_0xc98d79*0x3c+_0x488c7b];});_0x28ea87[_0x5b7f53(0x164)]((_0xf1f20b,_0x9b0bf2)=>_0xf1f20b[0x0]-_0x9b0bf2[0x0]);let _0x39fa34=[];if(_0x28ea87[_0x5b7f53(0x14e)]>0x0){let _0x47bf6f=_0x28ea87[0x0];for(let _0x184b33=0x1;_0x184b33<_0x28ea87[_0x5b7f53(0x14e)];_0x184b33++){_0x28ea87[_0x184b33][0x0]<_0x47bf6f[0x1]?_0x47bf6f[0x1]=Math[_0x5b7f53(0x1b2)](_0x47bf6f[0x1],_0x28ea87[_0x184b33][0x1]):(_0x39fa34[_0x5b7f53(0x201)](_0x47bf6f),_0x47bf6f=_0x28ea87[_0x184b33]);}_0x39fa34['push'](_0x47bf6f);}let _0x51247b=0x0;_0x39fa34[_0x5b7f53(0x243)](_0x4a7a29=>_0x51247b+=_0x4a7a29[0x1]-_0x4a7a29[0x0]),document[_0x5b7f53(0x207)](_0x5b7f53(0x231))[_0x5b7f53(0x125)]=formatMinsToHrs(_0x4c3e61),document['getElementById'](_0x5b7f53(0x181))[_0x5b7f53(0x125)]=formatMinsToHrs(_0x51247b);const _0x4f3532=_0x4c3e61>0x0?Math[_0x5b7f53(0x174)](_0x51247b/_0x4c3e61*0x64):0x0,_0x36fd49=document[_0x5b7f53(0x207)]('doLoadPercent');_0x36fd49[_0x5b7f53(0x125)]=_0x4f3532+'%';const _0x4c5184=document[_0x5b7f53(0x207)](_0x5b7f53(0x271));if(_0x4f3532>0x64)_0x36fd49[_0x5b7f53(0x11b)]['color']=_0x5b7f53(0x1df),_0x4c5184[_0x5b7f53(0x11b)][_0x5b7f53(0x12a)]=_0x5b7f53(0x11c);else _0x4f3532>0x50?(_0x36fd49[_0x5b7f53(0x11b)][_0x5b7f53(0x27f)]=_0x5b7f53(0x137),_0x4c5184[_0x5b7f53(0x11b)][_0x5b7f53(0x12a)]=_0x5b7f53(0x1d2)):(_0x36fd49[_0x5b7f53(0x11b)]['color']='var(--acc-green)',_0x4c5184[_0x5b7f53(0x11b)][_0x5b7f53(0x12a)]=_0x5b7f53(0x253));const _0x14c3a7=document[_0x5b7f53(0x207)](_0x5b7f53(0x16b));_0x14c3a7[_0x5b7f53(0x136)]='';_0x5e6219[_0x5b7f53(0x14e)]===0x0?_0x14c3a7[_0x5b7f53(0x136)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x5e6219[_0x5b7f53(0x164)]((_0x301fba,_0xe28fe)=>_0x301fba['start'][_0x5b7f53(0x209)](_0xe28fe[_0x5b7f53(0x246)])),_0x5e6219[_0x5b7f53(0x243)](_0x1166a0=>{const _0x469a35=_0x5b7f53,_0x471ae9=clients[_0x469a35(0x235)](_0x36a1b1=>_0x36a1b1[_0x469a35(0x193)]===_0x1166a0[_0x469a35(0x173)]),_0x2e5009=_0x471ae9?_0x471ae9[_0x469a35(0x27f)]:_0x469a35(0x127),_0x428640=_0x1166a0['status']==='completed',_0xd2e9cf=_0x428640?_0x469a35(0x1ba):'',_0x266fd0=document[_0x469a35(0x22c)](_0x469a35(0x159));_0x266fd0[_0x469a35(0x196)]=_0x469a35(0x17e),_0x266fd0[_0x469a35(0x11b)][_0x469a35(0x18d)]=_0x2e5009,_0x266fd0[_0x469a35(0x136)]=_0x469a35(0x23f)+_0x1166a0[_0x469a35(0x246)]+_0x469a35(0x140)+_0x1166a0[_0x469a35(0x1ac)]+_0x469a35(0x286)+_0x1166a0[_0x469a35(0x173)]+_0x469a35(0x18a)+_0xd2e9cf+_0x469a35(0x26c),_0x14c3a7['appendChild'](_0x266fd0);}));const _0x314baf=document[_0x5b7f53(0x207)]('btnDayToggle'),_0x1b2b3c=dateExceptions[_0x367084]===_0x5b7f53(0x186);_0x1b2b3c?(_0x314baf[_0x5b7f53(0x125)]=_0x5b7f53(0x216),_0x314baf['className']='btn-primary\x20btn-secondary',_0x314baf[_0x5b7f53(0x11b)][_0x5b7f53(0x27f)]=_0x5b7f53(0x167),_0x314baf[_0x5b7f53(0x11b)][_0x5b7f53(0x1ee)]='rgba(48,\x20209,\x2088,\x200.15)'):(_0x314baf[_0x5b7f53(0x125)]=_0x5b7f53(0x263),_0x314baf['className']=_0x5b7f53(0x138),_0x314baf[_0x5b7f53(0x11b)]['color']=_0x5b7f53(0x1df),_0x314baf['style'][_0x5b7f53(0x1ee)]=_0x5b7f53(0x22f)),openSheet(_0x5b7f53(0x153));}let currentAnPeriod='week';function openAnalytics(){const _0x4d1e75=a2_0x4907db,_0x1608af=document[_0x4d1e75(0x259)](_0x4d1e75(0x20b));setAnalyticsPeriod(_0x4d1e75(0x257),_0x1608af),closeAllSheets(),openSheet(_0x4d1e75(0x264));}function setAnalyticsPeriod(_0xb48a01,_0x4e1a9f){const _0x52d530=a2_0x4907db;currentAnPeriod=_0xb48a01,document[_0x52d530(0x1f8)]('.period-switch\x20.p-btn')[_0x52d530(0x243)](_0x2e980f=>_0x2e980f[_0x52d530(0x1d6)][_0x52d530(0x1a9)](_0x52d530(0x28e)));if(_0x4e1a9f)_0x4e1a9f[_0x52d530(0x1d6)]['add'](_0x52d530(0x28e));const _0x3f0218=document[_0x52d530(0x207)](_0x52d530(0x17c));_0x3f0218[_0x52d530(0x11b)][_0x52d530(0x14f)]=_0xb48a01==='custom'?_0x52d530(0x205):_0x52d530(0x189);const _0x457f6f=new Date();let _0x5bab1b=new Date(),_0x2c2c7a=new Date();if(_0xb48a01===_0x52d530(0x257))_0x5bab1b=getStartOfWeek(_0x457f6f),_0x2c2c7a=new Date(_0x5bab1b),_0x2c2c7a[_0x52d530(0x27c)](_0x2c2c7a['getDate']()+0x6);else{if(_0xb48a01===_0x52d530(0x269))_0x5bab1b=new Date(_0x457f6f[_0x52d530(0x1fd)](),_0x457f6f[_0x52d530(0x120)](),0x1),_0x2c2c7a=new Date(_0x457f6f[_0x52d530(0x1fd)](),_0x457f6f['getMonth']()+0x1,0x0);else{!document[_0x52d530(0x207)](_0x52d530(0x13f))[_0x52d530(0x1b7)]&&(document[_0x52d530(0x207)]('anStart')[_0x52d530(0x1b7)]=getLocalDateStr(_0x457f6f),document['getElementById'](_0x52d530(0x206))[_0x52d530(0x1b7)]=getLocalDateStr(_0x457f6f));refreshAnalytics();return;}}document['getElementById']('anStart')[_0x52d530(0x1b7)]=getLocalDateStr(_0x5bab1b),document[_0x52d530(0x207)](_0x52d530(0x206))['value']=getLocalDateStr(_0x2c2c7a),refreshAnalytics();}function refreshAnalytics(){const _0x153e14=a2_0x4907db,_0x5ae163=document[_0x153e14(0x207)](_0x153e14(0x13f))['value'],_0x45eade=document['getElementById'](_0x153e14(0x206))[_0x153e14(0x1b7)];if(!_0x5ae163||!_0x45eade)return;const _0x3ebdbd=sessions[_0x153e14(0x1dc)](_0x498a78=>_0x498a78[_0x153e14(0x228)]>=_0x5ae163&&_0x498a78['dateStr']<=_0x45eade&&_0x498a78[_0x153e14(0x13e)]!==_0x153e14(0x12b)),_0x102321=_0x3ebdbd[_0x153e14(0x14e)],_0x37e367=_0x3ebdbd['filter'](_0x407a55=>_0x407a55[_0x153e14(0x13e)]===_0x153e14(0x1c3))['length'],_0x370602=_0x102321>0x0?Math[_0x153e14(0x174)](_0x37e367/_0x102321*0x64):0x0;document['getElementById']('anPercent')[_0x153e14(0x125)]=_0x370602+'%',document[_0x153e14(0x207)](_0x153e14(0x192))[_0x153e14(0x125)]=_0x37e367+_0x153e14(0x21b)+_0x102321+_0x153e14(0x1c2);const _0x5e8d46=document[_0x153e14(0x207)]('anDonutCircle'),_0x16b75e=0x2*Math['PI']*0x23,_0x72c18a=_0x16b75e-_0x370602/0x64*_0x16b75e;_0x5e8d46[_0x153e14(0x11b)][_0x153e14(0x24d)]=_0x72c18a;const _0x5d2cf8={};_0x3ebdbd[_0x153e14(0x243)](_0x49fd9e=>{const _0x3468bb=_0x153e14;if(!_0x5d2cf8[_0x49fd9e[_0x3468bb(0x173)]]){const _0x106e64=clients[_0x3468bb(0x235)](_0x28ac79=>_0x28ac79[_0x3468bb(0x193)]===_0x49fd9e[_0x3468bb(0x173)]);_0x5d2cf8[_0x49fd9e[_0x3468bb(0x173)]]={'total':0x0,'done':0x0,'color':_0x106e64?_0x106e64[_0x3468bb(0x27f)]:'#fff'};}_0x5d2cf8[_0x49fd9e[_0x3468bb(0x173)]][_0x3468bb(0x116)]++;if(_0x49fd9e['status']===_0x3468bb(0x1c3))_0x5d2cf8[_0x49fd9e[_0x3468bb(0x173)]]['done']++;});const _0x5a31e5=document[_0x153e14(0x207)](_0x153e14(0x1e5));_0x5a31e5[_0x153e14(0x136)]='';const _0x4f8a8a=Object[_0x153e14(0x160)](_0x5d2cf8)[_0x153e14(0x164)]((_0x4f0b3b,_0x4341f6)=>_0x4341f6[0x1][_0x153e14(0x116)]-_0x4f0b3b[0x1][_0x153e14(0x116)]);if(_0x4f8a8a['length']===0x0){_0x5a31e5[_0x153e14(0x136)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x4f8a8a[_0x153e14(0x243)](([_0x211130,_0x349a1b])=>{const _0x184e07=_0x153e14,_0x5bfd36=Math[_0x184e07(0x174)](_0x349a1b[_0x184e07(0x166)]/_0x349a1b[_0x184e07(0x116)]*0x64),_0x4a1525=document[_0x184e07(0x22c)](_0x184e07(0x159));_0x4a1525[_0x184e07(0x196)]=_0x184e07(0x1f5),_0x4a1525[_0x184e07(0x11b)][_0x184e07(0x18d)]=_0x349a1b[_0x184e07(0x27f)],_0x4a1525[_0x184e07(0x136)]=_0x184e07(0x213)+_0x211130+_0x184e07(0x161)+_0x349a1b['done']+_0x184e07(0x1e4)+_0x349a1b[_0x184e07(0x116)]+_0x184e07(0x287)+_0x5bfd36+_0x184e07(0x20a),_0x5a31e5[_0x184e07(0x239)](_0x4a1525);});}function formatMinsToHrs(_0x2d4ae9){if(_0x2d4ae9===0x0)return'0';const _0xfe346=Math['floor'](_0x2d4ae9/0x3c),_0x40e133=_0x2d4ae9%0x3c;if(_0x40e133===0x0)return _0xfe346+'—á';return _0xfe346+'—á\x20'+_0x40e133+'–º';}