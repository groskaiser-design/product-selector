const a2_0x2a8ac0=a2_0x2038;(function(_0x46ce1a,_0x120530){const _0x1b4986=a2_0x2038,_0x2a9f67=_0x46ce1a();while(!![]){try{const _0x2e82ea=parseInt(_0x1b4986(0x1a4))/0x1*(parseInt(_0x1b4986(0x182))/0x2)+-parseInt(_0x1b4986(0x274))/0x3*(-parseInt(_0x1b4986(0x21b))/0x4)+parseInt(_0x1b4986(0x1d9))/0x5+-parseInt(_0x1b4986(0x226))/0x6*(parseInt(_0x1b4986(0x2e9))/0x7)+-parseInt(_0x1b4986(0x20c))/0x8+-parseInt(_0x1b4986(0x218))/0x9*(parseInt(_0x1b4986(0x1be))/0xa)+-parseInt(_0x1b4986(0x273))/0xb*(-parseInt(_0x1b4986(0x2e7))/0xc);if(_0x2e82ea===_0x120530)break;else _0x2a9f67['push'](_0x2a9f67['shift']());}catch(_0x2979d3){_0x2a9f67['push'](_0x2a9f67['shift']());}}}(a2_0x4652,0x71925),function initTMA(){const _0x997854=a2_0x2038,_0x183869=(function(){let _0x3d47d7=!![];return function(_0x491378,_0x47726a){const _0x172ca2=_0x3d47d7?function(){const _0x4f74ff=a2_0x2038;if(_0x47726a){const _0x9a0a1b=_0x47726a[_0x4f74ff(0x26d)](_0x491378,arguments);return _0x47726a=null,_0x9a0a1b;}}:function(){};return _0x3d47d7=![],_0x172ca2;};}()),_0x554d12=_0x183869(this,function(){const _0x208fb3=a2_0x2038;return _0x554d12[_0x208fb3(0x2e5)]()['search'](_0x208fb3(0x2a7))[_0x208fb3(0x2e5)]()[_0x208fb3(0x266)](_0x554d12)[_0x208fb3(0x1fe)](_0x208fb3(0x2a7));});_0x554d12();try{const _0x8f918e=window[_0x997854(0x26c)]?.[_0x997854(0x25a)];if(!_0x8f918e)return;_0x8f918e['ready'](),_0x8f918e[_0x997854(0x1c3)]();try{_0x8f918e[_0x997854(0x1aa)]('#050505'),_0x8f918e['setBackgroundColor']&&_0x8f918e[_0x997854(0x244)]('#050505');}catch(_0x251445){console[_0x997854(0x1c7)](_0x997854(0x1da),_0x251445);}try{_0x8f918e[_0x997854(0x2b6)]&&(_0x8f918e[_0x997854(0x2b6)]['show'](),_0x8f918e[_0x997854(0x2b6)][_0x997854(0x22e)](),_0x8f918e[_0x997854(0x2b6)][_0x997854(0x2f6)](function(){const _0x4e3d14=_0x997854;window[_0x4e3d14(0x2a6)][_0x4e3d14(0x1c5)]='router.html';}));}catch(_0x5a452a){console['log'](_0x997854(0x2be),_0x5a452a);}try{if(_0x8f918e[_0x997854(0x1d6)])_0x8f918e[_0x997854(0x1d6)]();}catch(_0x1c0abf){}}catch(_0x213850){console[_0x997854(0x20d)]('Critical\x20TMA\x20Error:',_0x213850);}}());function isAdmin(){const _0x4660f8=a2_0x2038;try{const _0x30efb8=Number(window[_0x4660f8(0x26c)]?.[_0x4660f8(0x25a)]?.[_0x4660f8(0x1af)]?.[_0x4660f8(0x23d)]?.['id']);return _0x30efb8===0xbaf7174;}catch(_0x4c4a71){return![];}}const APP_VERSION=a2_0x2a8ac0(0x203),API_URL=a2_0x2a8ac0(0x2d9),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x2a8ac0(0x17b),KEY_SETTINGS=a2_0x2a8ac0(0x2ba);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3cb20c=a2_0x2a8ac0;return window['Telegram']?.[_0x3cb20c(0x25a)]?.[_0x3cb20c(0x1af)]?.[_0x3cb20c(0x23d)]?.['id']||'guest';},'saveLocally'(){const _0x37df02=a2_0x2a8ac0;try{localStorage['setItem'](KEY_CLIENTS,JSON['stringify'](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x37df02(0x294)](sessions)),localStorage['setItem'](KEY_SETTINGS,JSON[_0x37df02(0x294)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x46b92c){console[_0x37df02(0x20d)](_0x37df02(0x212),_0x46b92c);}},'loadLocal'(){const _0x53ee63=a2_0x2a8ac0;try{const _0x35180d=localStorage[_0x53ee63(0x2b3)](KEY_CLIENTS);if(_0x35180d)clients=JSON['parse'](_0x35180d);const _0x3630ea=localStorage[_0x53ee63(0x2b3)](KEY_SESSIONS);if(_0x3630ea)sessions=JSON[_0x53ee63(0x23c)](_0x3630ea);const _0x3084e1=localStorage['getItem'](KEY_SETTINGS);if(_0x3084e1){const _0x567c47=JSON['parse'](_0x3084e1);if(_0x567c47['pattern'])availabilityPattern=_0x567c47['pattern'];if(_0x567c47[_0x53ee63(0x297)])dateExceptions=_0x567c47[_0x53ee63(0x297)];if(_0x567c47[_0x53ee63(0x254)])specialRanges=_0x567c47[_0x53ee63(0x254)];}else{for(let _0x12a917=0x0;_0x12a917<0x7;_0x12a917++)availabilityPattern[_0x12a917]=Array[_0x53ee63(0x2d5)]({'length':0xc},(_0x4e6817,_0x2cb29b)=>_0x2cb29b+0x9);}}catch(_0x5d3fb6){console['error'](_0x53ee63(0x185),_0x5d3fb6);}},async 'fetchFromServer'(_0x489d92,_0x345706={}){const _0x234741=a2_0x2a8ac0,_0x23343d=window[_0x234741(0x26c)]?.[_0x234741(0x25a)],_0x5b6641={'action':_0x489d92,'init_data':_0x23343d?.['initData']||'',..._0x345706};try{const _0x20cc73=await fetch(API_URL,{'method':_0x234741(0x1b0),'headers':{'Content-Type':_0x234741(0x2d6)},'body':JSON[_0x234741(0x294)](_0x5b6641)}),_0x45d869=await _0x20cc73[_0x234741(0x230)]();if(!_0x45d869['ok'])throw new Error(_0x45d869[_0x234741(0x20d)]||_0x234741(0x1a2));return _0x45d869[_0x234741(0x1ed)];}catch(_0x457b35){console[_0x234741(0x20d)](_0x234741(0x1eb)+_0x489d92+_0x234741(0x18d),_0x457b35);throw _0x457b35;}},async 'syncLoad'(){const _0x585b0f=a2_0x2a8ac0,_0x238bca=new Date(),_0x2e64ff=_0x238bca[_0x585b0f(0x1de)]()+'-'+String(_0x238bca[_0x585b0f(0x2a8)]()+0x1)[_0x585b0f(0x245)](0x2,'0'),_0xc43ec3=new Date(_0x238bca);_0xc43ec3[_0x585b0f(0x22a)](_0x238bca['getMonth']()+0x1);const _0x1a3b00=_0xc43ec3['getFullYear']()+'-'+String(_0xc43ec3['getMonth']()+0x1)['padStart'](0x2,'0'),_0xe7c9eb=Date[_0x585b0f(0x224)]();console[_0x585b0f(0x1c7)]('[Sync]\x20Loading\x20'+_0x2e64ff+',\x20'+_0x1a3b00+_0x585b0f(0x2f4));try{const [_0x2608b2,_0x3f136b]=await Promise[_0x585b0f(0x17f)]([this['fetchFromServer']('init_load',{'month_str':_0x2e64ff}),this[_0x585b0f(0x18c)](_0x585b0f(0x1cf),{'month_str':_0x1a3b00})]);if(lastUserActionTime>_0xe7c9eb)return console['warn'](_0x585b0f(0x2eb)),![];return this[_0x585b0f(0x232)](_0x2608b2,_0x2e64ff),this['mergeServerData'](_0x3f136b,_0x1a3b00),this[_0x585b0f(0x180)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x530c9f){console[_0x585b0f(0x20d)](_0x530c9f);throw _0x530c9f;}},'mergeServerData'(_0x4fb810,_0x123649){const _0x22860f=a2_0x2a8ac0;if(!_0x4fb810)return;_0x4fb810['clients']&&Array[_0x22860f(0x23a)](_0x4fb810[_0x22860f(0x1ec)])&&(clients=_0x4fb810[_0x22860f(0x1ec)]);if(_0x4fb810[_0x22860f(0x2f8)]){if(_0x4fb810[_0x22860f(0x2f8)][_0x22860f(0x231)])availabilityPattern=_0x4fb810[_0x22860f(0x2f8)]['pattern'];if(_0x4fb810['settings'][_0x22860f(0x297)])dateExceptions=_0x4fb810[_0x22860f(0x2f8)][_0x22860f(0x297)];if(_0x4fb810[_0x22860f(0x2f8)][_0x22860f(0x254)])specialRanges=_0x4fb810['settings'][_0x22860f(0x254)];if(_0x4fb810[_0x22860f(0x2f8)][_0x22860f(0x276)]){localStorage['setItem']('uc_settings_cancel_window',_0x4fb810['settings'][_0x22860f(0x276)]);const _0x1fbd20=document[_0x22860f(0x24d)]('settingCancelWindow');if(_0x1fbd20)_0x1fbd20[_0x22860f(0x2f2)]=_0x4fb810[_0x22860f(0x2f8)][_0x22860f(0x276)];}}_0x4fb810[_0x22860f(0x2db)]&&(sessions=sessions[_0x22860f(0x1c1)](_0x4169ab=>!_0x4169ab[_0x22860f(0x1bf)][_0x22860f(0x1c6)](_0x123649)),Object[_0x22860f(0x284)](_0x4fb810[_0x22860f(0x2db)])[_0x22860f(0x1a3)](_0x3aca2a=>{const _0x25c4d2=_0x22860f,_0x2643ef=_0x4fb810['calendar'][_0x3aca2a];_0x2643ef[_0x25c4d2(0x1a3)](_0x1357c4=>{const _0x46a4eb=_0x25c4d2,_0x39a844=clients['find'](_0x56ab99=>String(_0x56ab99['id'])===String(_0x1357c4['c']));sessions[_0x46a4eb(0x28d)]({'id':_0x1357c4['i'],'clientId':_0x1357c4['c'],'client':_0x39a844?_0x39a844[_0x46a4eb(0x22c)]:_0x46a4eb(0x28b),'dateStr':_0x123649+'-'+_0x3aca2a['padStart'](0x2,'0'),'start':_0x1357c4['s'],'end':_0x1357c4['e'],'status':_0x1357c4['st']||'planned','note':_0x1357c4['n']||'','seriesId':_0x1357c4[_0x46a4eb(0x257)]||null});});}));},async 'syncBatch'(_0x3034ae){const _0x209ba4=a2_0x2a8ac0,_0x5dccaa=[...new Set(_0x3034ae)],_0x14f109=_0x5dccaa[_0x209ba4(0x246)](_0x2c45bb=>{const _0x28da8d=_0x209ba4,_0xfe8d6f=sessions[_0x28da8d(0x1c1)](_0x8058b4=>_0x8058b4[_0x28da8d(0x1bf)]===_0x2c45bb&&_0x8058b4['status']!=='deleted'),_0x1f5b5b=_0xfe8d6f[_0x28da8d(0x246)](_0x541e54=>({'i':_0x541e54['id'],'c':_0x541e54['clientId'],'s':_0x541e54[_0x28da8d(0x2a4)],'e':_0x541e54[_0x28da8d(0x237)],'st':_0x541e54['status'],'n':_0x541e54[_0x28da8d(0x286)],'sid':_0x541e54[_0x28da8d(0x190)]}));return{'date':_0x2c45bb,'day_data':_0x1f5b5b};});if(_0x14f109[_0x209ba4(0x1f1)]===0x0)return;console[_0x209ba4(0x1c7)](_0x209ba4(0x1a6)+_0x14f109[_0x209ba4(0x1f1)]+_0x209ba4(0x236)),await this['fetchFromServer']('batch_sync',{'changes':_0x14f109});}};async function init(){const _0x2ea060=a2_0x2a8ac0;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2ea060(0x24d)]('matrixViewport')['addEventListener'](_0x2ea060(0x2d4),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager['syncLoad']()[_0x2ea060(0x29c)](()=>{const _0xa7b87f=_0x2ea060;showToast(_0xa7b87f(0x277),!![]);})[_0x2ea060(0x1fc)](_0x429b37=>{const _0x4219e0=_0x2ea060;showToast(_0x4219e0(0x25d),![]);});}function generateId(){const _0x32efbb=a2_0x2a8ac0;return Date[_0x32efbb(0x224)]()['toString'](0x24)+Math[_0x32efbb(0x240)]()[_0x32efbb(0x2e5)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x48116d=a2_0x2a8ac0,_0xe088ae=document[_0x48116d(0x24d)](_0x48116d(0x24f))['checked'],_0x4e3295=document[_0x48116d(0x24d)]('seriesCountContainer');_0x4e3295[_0x48116d(0x290)][_0x48116d(0x2cc)]=_0xe088ae?_0x48116d(0x1f6):_0x48116d(0x19d);const _0x51b841=document['getElementById'](_0x48116d(0x19e));_0x51b841[_0x48116d(0x290)][_0x48116d(0x2ae)]=_0xe088ae?'10px\x2010px\x200\x200':_0x48116d(0x2a3);}function a2_0x2038(_0xb4f65e,_0x44bfb){_0xb4f65e=_0xb4f65e-0x17b;const _0x1b2b28=a2_0x4652();let _0x56b578=_0x1b2b28[_0xb4f65e];return _0x56b578;}function openAddSession(_0x567fad){const _0x8db11a=a2_0x2a8ac0;editingId=null,populateClientSelect(),document[_0x8db11a(0x24d)]('sheetTitle')[_0x8db11a(0x26b)]=_0x8db11a(0x204),document[_0x8db11a(0x24d)](_0x8db11a(0x208))[_0x8db11a(0x290)][_0x8db11a(0x2cc)]=_0x8db11a(0x19d),document[_0x8db11a(0x24d)]('btnStatusToggle')[_0x8db11a(0x290)]['display']='none';const _0x43e061=document[_0x8db11a(0x24d)](_0x8db11a(0x19e)),_0xcd93d4=document[_0x8db11a(0x24d)]('seriesCountContainer');_0x43e061['style'][_0x8db11a(0x2cc)]=_0x8db11a(0x2c6),_0x43e061[_0x8db11a(0x290)][_0x8db11a(0x2ae)]=_0x8db11a(0x2a3),document['getElementById'](_0x8db11a(0x24f))[_0x8db11a(0x195)]=![],document[_0x8db11a(0x24d)](_0x8db11a(0x253))[_0x8db11a(0x2f2)]=0x4,_0xcd93d4['style'][_0x8db11a(0x2cc)]=_0x8db11a(0x19d),document[_0x8db11a(0x24d)](_0x8db11a(0x29f))[_0x8db11a(0x2f2)]=getLocalDateStr(_0x567fad),updateDateDisplay();const _0x6d98b=_0x567fad[_0x8db11a(0x262)]();document[_0x8db11a(0x24d)](_0x8db11a(0x2f0))[_0x8db11a(0x2f2)]=String(_0x6d98b)['padStart'](0x2,'0')+_0x8db11a(0x1c2),document[_0x8db11a(0x24d)](_0x8db11a(0x256))[_0x8db11a(0x2f2)]=String(_0x6d98b+0x1)['padStart'](0x2,'0')+_0x8db11a(0x1c2),openSheet(_0x8db11a(0x268));}function openEdit(_0x5cb8be){const _0x1830c6=a2_0x2a8ac0;editingId=_0x5cb8be['id'],populateClientSelect(),document[_0x1830c6(0x24d)]('sheetTitle')['textContent']=_0x1830c6(0x1b5),document[_0x1830c6(0x24d)](_0x1830c6(0x208))[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x1f6);const _0x4632aa=document[_0x1830c6(0x24d)]('btnStatusToggle');_0x4632aa[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x2c6);_0x5cb8be['status']===_0x1830c6(0x2ac)?(_0x4632aa[_0x1830c6(0x225)]=_0x1830c6(0x229),_0x4632aa[_0x1830c6(0x2a1)]=_0x1830c6(0x1e0)):(_0x4632aa[_0x1830c6(0x225)]=_0x1830c6(0x259),_0x4632aa[_0x1830c6(0x2a1)]=_0x1830c6(0x19f));const _0x40c189=!!_0x5cb8be[_0x1830c6(0x190)];document[_0x1830c6(0x24d)](_0x1830c6(0x19e))[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x19d),document['getElementById'](_0x1830c6(0x18a))[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x19d),_0x40c189?(document[_0x1830c6(0x24d)](_0x1830c6(0x1e5))[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x2c6),document[_0x1830c6(0x24d)](_0x1830c6(0x1e5))[_0x1830c6(0x1b4)](_0x1830c6(0x1d1))[_0x1830c6(0x26b)]=_0x1830c6(0x2ce)):document[_0x1830c6(0x24d)](_0x1830c6(0x1e5))[_0x1830c6(0x290)][_0x1830c6(0x2cc)]=_0x1830c6(0x19d),document[_0x1830c6(0x24d)](_0x1830c6(0x238))[_0x1830c6(0x2f2)]=_0x5cb8be[_0x1830c6(0x1e9)],document[_0x1830c6(0x24d)]('inpDate')[_0x1830c6(0x2f2)]=_0x5cb8be['dateStr'],document[_0x1830c6(0x24d)](_0x1830c6(0x2f0))[_0x1830c6(0x2f2)]=_0x5cb8be[_0x1830c6(0x2a4)],document[_0x1830c6(0x24d)](_0x1830c6(0x256))[_0x1830c6(0x2f2)]=_0x5cb8be[_0x1830c6(0x237)],document[_0x1830c6(0x24d)]('inpNote')['value']=_0x5cb8be['note']||'',updateDateDisplay(),openSheet(_0x1830c6(0x268));}async function trySaveSession(){const _0x3f34e0=a2_0x2a8ac0,_0xa85e25=document[_0x3f34e0(0x24d)](_0x3f34e0(0x238))[_0x3f34e0(0x2f2)],_0x320579=document['getElementById'](_0x3f34e0(0x29f))[_0x3f34e0(0x2f2)],_0x3b4258=document[_0x3f34e0(0x24d)](_0x3f34e0(0x2f0))[_0x3f34e0(0x2f2)],_0x3c3859=document[_0x3f34e0(0x24d)](_0x3f34e0(0x256))['value'],_0x3bd68d=document['getElementById'](_0x3f34e0(0x2e0))[_0x3f34e0(0x2f2)],_0x828429=document[_0x3f34e0(0x24d)](_0x3f34e0(0x24f))['checked'];let _0x136496=0x4;if(_0x828429){const _0x5a4217=parseInt(document[_0x3f34e0(0x24d)](_0x3f34e0(0x253))[_0x3f34e0(0x2f2)]);if(!_0x5a4217||_0x5a4217<0x2){showToast(_0x3f34e0(0x1a1),![]);return;}if(_0x5a4217>0x64){showToast(_0x3f34e0(0x2b5),![]);return;}_0x136496=_0x5a4217;}const _0x384c47=clients[_0x3f34e0(0x1db)](_0x203029=>_0x203029[_0x3f34e0(0x22c)]===_0xa85e25);if(!_0x384c47){showToast(_0x3f34e0(0x2c5),![]);return;}const _0x32364a=validateAppointment(_0x320579,_0x3b4258,_0x3c3859,editingId,_0x384c47['id']);if(!_0x32364a[_0x3f34e0(0x291)]){showToast(_0x32364a[_0x3f34e0(0x1d3)],![]);return;}_0x32364a[_0x3f34e0(0x19a)]&&showToast(_0x32364a[_0x3f34e0(0x19a)],![]);const _0x5aa556={'client':_0xa85e25,'clientId':_0x384c47['id'],'start':_0x3b4258,'end':_0x3c3859,'note':_0x3bd68d,'status':_0x3f34e0(0x1b2)},_0x4129fc=editingId?sessions[_0x3f34e0(0x1db)](_0x3dd8ec=>_0x3dd8ec['id']===editingId):null;if(_0x4129fc&&_0x4129fc['seriesId']){tempSessionData={..._0x5aa556,'dateStr':_0x320579,'id':editingId,'seriesId':_0x4129fc[_0x3f34e0(0x190)]},openActionSheet(_0x3f34e0(0x243));return;}let _0x42c0b2=null;if(!editingId)_0x42c0b2=_0x3f34e0(0x27e);else{if(_0x4129fc){if(String(_0x4129fc['clientId'])!==String(_0x384c47['id']))console[_0x3f34e0(0x1c7)](_0x3f34e0(0x1ea)),NotificationManager[_0x3f34e0(0x285)](_0x3f34e0(0x2c2),_0x4129fc),_0x42c0b2=_0x3f34e0(0x27e);else(_0x4129fc[_0x3f34e0(0x2a4)]!==_0x3b4258||_0x4129fc[_0x3f34e0(0x237)]!==_0x3c3859||_0x4129fc[_0x3f34e0(0x1bf)]!==_0x320579)&&(_0x42c0b2=_0x3f34e0(0x1e4));}}if(!editingId&&_0x828429){createBatchSeries(_0x5aa556,_0x320579,_0x136496),NotificationManager['send'](_0x3f34e0(0x27e),{..._0x5aa556,'dateStr':_0x320579});return;}lastUserActionTime=Date[_0x3f34e0(0x224)]();const _0x4618a0={..._0x5aa556,'dateStr':_0x320579,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x4618a0),_0x42c0b2&&NotificationManager[_0x3f34e0(0x285)](_0x42c0b2,_0x4618a0);}function toggleSessionStatus(){const _0xb25c2c=a2_0x2a8ac0;lastUserActionTime=Date[_0xb25c2c(0x224)]();const _0xefb2ad=sessions[_0xb25c2c(0x1db)](_0x1e8df8=>_0x1e8df8['id']===editingId);if(!_0xefb2ad)return;const _0x9dcbe=_0xefb2ad[_0xb25c2c(0x20a)]===_0xb25c2c(0x2ac)?_0xb25c2c(0x1b2):_0xb25c2c(0x2ac);_0xefb2ad[_0xb25c2c(0x20a)]=_0x9dcbe,saveSingleSession(_0xefb2ad),_0x9dcbe===_0xb25c2c(0x2ac)&&NotificationManager[_0xb25c2c(0x285)](_0xb25c2c(0x22f),_0xefb2ad),showToast(_0x9dcbe===_0xb25c2c(0x2ac)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x4f8d4a,_0x5839b3,_0x1d2c3f,_0xe7fb1b,_0x3f0e82){const _0x5f46fa=a2_0x2a8ac0,[_0x50b8df,_0xc7a4e9]=_0x5839b3[_0x5f46fa(0x2dd)](':')['map'](Number),[_0x179e64,_0x293f25]=_0x1d2c3f[_0x5f46fa(0x2dd)](':')['map'](Number),_0xecadf0=_0x50b8df*0x3c+_0xc7a4e9,_0x5a2773=_0x179e64*0x3c+_0x293f25,_0x3fde6a=String(_0x3f0e82);let _0x203f71=![],_0xb5258d='';for(let _0x110b61 of sessions){if(_0x110b61['dateStr']!==_0x4f8d4a)continue;if(_0x110b61[_0x5f46fa(0x20a)]===_0x5f46fa(0x18e))continue;if(_0xe7fb1b&&String(_0x110b61['id'])===String(_0xe7fb1b))continue;const [_0x48655b,_0x5aac9d]=_0x110b61[_0x5f46fa(0x2a4)][_0x5f46fa(0x2dd)](':')[_0x5f46fa(0x246)](Number),[_0x2d5464,_0x170ae4]=_0x110b61[_0x5f46fa(0x237)]['split'](':')[_0x5f46fa(0x246)](Number),_0x411ae2=_0x48655b*0x3c+_0x5aac9d,_0x5cd2c4=_0x2d5464*0x3c+_0x170ae4;if(Math['max'](_0xecadf0,_0x411ae2)<Math['min'](_0x5a2773,_0x5cd2c4)){if(_0x110b61['clientId']&&String(_0x110b61[_0x5f46fa(0x1ef)])===_0x3fde6a)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x110b61['client']+_0x5f46fa(0x279)};_0x203f71=!![],_0xb5258d=_0x110b61['client'];}}if(_0x203f71)return{'valid':!![],'warning':_0x5f46fa(0x2e3)+_0xb5258d};return{'valid':!![]};}function saveSingleSession(_0x20c425){const _0x1cfa2c=a2_0x2a8ac0;if(editingId){const _0x115906=sessions[_0x1cfa2c(0x192)](_0x5049e7=>_0x5049e7['id']===editingId);if(_0x115906!==-0x1)sessions[_0x115906]=_0x20c425;}else sessions[_0x1cfa2c(0x28d)](_0x20c425);afterSaveAction([_0x20c425[_0x1cfa2c(0x1bf)]]);}function createBatchSeries(_0x4cd4b3,_0x1f8a17,_0x434eb8){const _0x126764=a2_0x2a8ac0,_0x2adfd3=generateId(),_0x101390=[],_0x5f2466=[];let _0x1db508=0x0,_0x2d3001=new Date(_0x1f8a17);for(let _0x15e100=0x0;_0x15e100<_0x434eb8;_0x15e100++){const _0x4836e1=getLocalDateStr(_0x2d3001),_0x3a616a=validateAppointment(_0x4836e1,_0x4cd4b3[_0x126764(0x2a4)],_0x4cd4b3[_0x126764(0x237)],null,_0x4cd4b3[_0x126764(0x1ef)]);if(!_0x3a616a['valid'])console['log'](_0x126764(0x255)+_0x4836e1+_0x126764(0x18f)),_0x1db508++;else{const _0x563673={..._0x4cd4b3,'id':generateId(),'dateStr':_0x4836e1,'seriesId':_0x2adfd3};_0x5f2466[_0x126764(0x28d)](_0x563673),_0x101390[_0x126764(0x28d)](_0x4836e1);}_0x2d3001[_0x126764(0x1f5)](_0x2d3001[_0x126764(0x1d8)]()+0x7);}if(_0x5f2466['length']===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x126764(0x28d)](..._0x5f2466),lastUserActionTime=Date[_0x126764(0x224)]();let _0x3491d4=_0x126764(0x25f)+_0x5f2466[_0x126764(0x1f1)];_0x1db508>0x0&&(_0x3491d4+=_0x126764(0x2bf)+_0x1db508+')'),showToast(_0x3491d4,!![]),afterSaveAction(_0x101390);}function updateSeriesBatch(_0x119e68,_0x542e21){const _0x1d7092=a2_0x2a8ac0,_0x2cbbb4=[],_0x477ab7=_0x542e21[_0x1d7092(0x190)];if(_0x119e68===_0x1d7092(0x1e1)){const _0x32ffcf={..._0x542e21,'seriesId':null},_0x44f555=sessions[_0x1d7092(0x192)](_0x23f736=>_0x23f736['id']===_0x542e21['id']);if(_0x44f555!==-0x1)sessions[_0x44f555]=_0x32ffcf;_0x2cbbb4['push'](_0x32ffcf[_0x1d7092(0x1bf)]);}else{if(_0x119e68===_0x1d7092(0x258)){const _0x4c8ea2=_0x542e21['dateStr'];sessions[_0x1d7092(0x1a3)]((_0x72f80c,_0x3030f4)=>{const _0x21cbae=_0x1d7092;_0x72f80c[_0x21cbae(0x190)]===_0x477ab7&&_0x72f80c[_0x21cbae(0x1bf)]>=_0x4c8ea2&&(sessions[_0x3030f4]={...sessions[_0x3030f4],'start':_0x542e21['start'],'end':_0x542e21[_0x21cbae(0x237)],'note':_0x542e21['note'],'client':_0x542e21[_0x21cbae(0x1e9)],'clientId':_0x542e21[_0x21cbae(0x1ef)]},_0x2cbbb4[_0x21cbae(0x28d)](_0x72f80c[_0x21cbae(0x1bf)]));});}}afterSaveAction(_0x2cbbb4);}function tryDeleteSession(){const _0xe2073f=a2_0x2a8ac0,_0x319592=sessions[_0xe2073f(0x1db)](_0x32de03=>_0x32de03['id']===editingId);if(!_0x319592)return;_0x319592[_0xe2073f(0x190)]?openActionSheet(_0xe2073f(0x1f2)):commitDelete('single',_0x319592);}function commitDelete(_0x4fd5c2,_0x85778f){const _0x2a2fbe=a2_0x2a8ac0;lastUserActionTime=Date['now'](),NotificationManager[_0x2a2fbe(0x285)](_0x2a2fbe(0x2c2),_0x85778f);const _0x29c4de=[];if(_0x4fd5c2===_0x2a2fbe(0x1e1))sessions=sessions['filter'](_0x12ebbc=>_0x12ebbc['id']!==_0x85778f['id']),_0x29c4de['push'](_0x85778f['dateStr']);else{if(_0x4fd5c2==='series'){const _0x3252ff=_0x85778f[_0x2a2fbe(0x1bf)],_0x1bdad3=_0x85778f[_0x2a2fbe(0x190)];sessions['forEach'](_0x4a0ffa=>{const _0x49430b=_0x2a2fbe;_0x4a0ffa['seriesId']===_0x1bdad3&&_0x4a0ffa[_0x49430b(0x1bf)]>=_0x3252ff&&_0x29c4de[_0x49430b(0x28d)](_0x4a0ffa[_0x49430b(0x1bf)]);}),sessions=sessions[_0x2a2fbe(0x1c1)](_0x5ea0d9=>!(_0x5ea0d9[_0x2a2fbe(0x190)]===_0x1bdad3&&_0x5ea0d9['dateStr']>=_0x3252ff));}}afterSaveAction(_0x29c4de);}function afterSaveAction(_0x3ebea7){const _0x3057ce=a2_0x2a8ac0;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3057ce(0x1b9)](_0x3ebea7)[_0x3057ce(0x29c)](()=>console['log'](_0x3057ce(0x1e7)))[_0x3057ce(0x1fc)](_0x23bde2=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x5535b4){const _0x1ba13a=a2_0x2a8ac0,_0x17dcef=new Date(_0x5535b4),_0x4df1f1={'weekday':_0x1ba13a(0x206),'day':_0x1ba13a(0x278),'month':_0x1ba13a(0x206)};let _0x3a2400=_0x17dcef[_0x1ba13a(0x2d0)]('ru-RU',_0x4df1f1);return _0x3a2400['charAt'](0x0)[_0x1ba13a(0x23b)]()+_0x3a2400[_0x1ba13a(0x2dc)](0x1);},'getText'(_0x590f98,_0x766032){const _0x3e3061=a2_0x2a8ac0,_0x4b4e2d=this[_0x3e3061(0x216)](_0x766032[_0x3e3061(0x1bf)]);switch(_0x590f98){case _0x3e3061(0x27e):return _0x3e3061(0x1f3)+(_0x3e3061(0x233)+_0x4b4e2d+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x766032[_0x3e3061(0x2a4)]+_0x3e3061(0x2cf)+_0x766032['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case'update':return _0x3e3061(0x2de)+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x3e3061(0x28c)+_0x766032[_0x3e3061(0x2a4)]+_0x3e3061(0x2cf)+_0x766032[_0x3e3061(0x237)]+_0x3e3061(0x1e6))+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x4b4e2d);case _0x3e3061(0x2c2):return _0x3e3061(0x202)+(_0x3e3061(0x1df)+_0x4b4e2d+'\x20('+_0x766032['start']+_0x3e3061(0x183));case _0x3e3061(0x22f):return _0x3e3061(0x19c)+_0x3e3061(0x17e)+_0x3e3061(0x29b);default:return'';}},async 'send'(_0x192462,_0x509970){const _0x3774d0=a2_0x2a8ac0;console[_0x3774d0(0x1c7)](_0x3774d0(0x1dd),_0x192462,_0x509970);if(!_0x509970){console[_0x3774d0(0x20d)](_0x3774d0(0x24b));return;}const _0x1eac0b=String(_0x509970['clientId']);console[_0x3774d0(0x1c7)]('[Notify]\x20Detected\x20Client\x20ID:',_0x1eac0b);if(!_0x509970[_0x3774d0(0x1ef)]||_0x1eac0b===_0x3774d0(0x272)||_0x1eac0b===_0x3774d0(0x27b)){console['error']('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x509970[_0x3774d0(0x1e9)]){const _0x3ffded=clients[_0x3774d0(0x1db)](_0x47715a=>_0x47715a[_0x3774d0(0x22c)]===_0x509970['client']);if(_0x3ffded)return console[_0x3774d0(0x1c7)](_0x3774d0(0x19b),_0x3ffded['id']),this['send'](_0x192462,{..._0x509970,'clientId':_0x3ffded['id']});}return;}if(_0x1eac0b[_0x3774d0(0x1f1)]<0x5){console[_0x3774d0(0x1ab)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x1eac0b);return;}const _0x8457cd=this['getText'](_0x192462,_0x509970);if(!_0x8457cd){console[_0x3774d0(0x20d)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console['log'](_0x3774d0(0x29a)+_0x1eac0b+_0x3774d0(0x2f4)),DataManager[_0x3774d0(0x18c)](_0x3774d0(0x191),{'chatId':_0x1eac0b,'text':_0x8457cd})[_0x3774d0(0x29c)](_0x4da70f=>console[_0x3774d0(0x1c7)]('[Notify]\x20Server\x20Response:',_0x4da70f))[_0x3774d0(0x1fc)](_0x56f2c0=>console[_0x3774d0(0x20d)]('[Notify]\x20Network\x20Failed',_0x56f2c0));}};function getLocalDateStr(_0xc49d0e){const _0xbc7192=a2_0x2a8ac0,_0x3c23b2=_0xc49d0e[_0xbc7192(0x1de)](),_0x699193=String(_0xc49d0e['getMonth']()+0x1)[_0xbc7192(0x245)](0x2,'0'),_0x17c3b7=String(_0xc49d0e['getDate']())[_0xbc7192(0x245)](0x2,'0');return _0x3c23b2+'-'+_0x699193+'-'+_0x17c3b7;}function getDateStr(_0x4757ba){const _0x34a49c=a2_0x2a8ac0,_0x669553=new Date();return _0x669553[_0x34a49c(0x1f5)](_0x669553[_0x34a49c(0x1d8)]()+_0x4757ba),getLocalDateStr(_0x669553);}function getStartOfWeek(_0x4e8852){const _0x1eb789=a2_0x2a8ac0,_0xa9b797=new Date(_0x4e8852),_0x8ad29=_0xa9b797[_0x1eb789(0x2bd)](),_0x52f6d8=_0xa9b797[_0x1eb789(0x1d8)]()-_0x8ad29+(_0x8ad29===0x0?-0x6:0x1);return _0xa9b797['setDate'](_0x52f6d8),_0xa9b797[_0x1eb789(0x25c)](0x0,0x0,0x0,0x0),_0xa9b797;}function hexToRgba(_0x5ee80d,_0x5d46d8){const _0x414dcf=a2_0x2a8ac0;if(!_0x5ee80d)return _0x414dcf(0x2b1);let _0x2fc067=0x0,_0xc96e1e=0x0,_0x28d219=0x0;if(_0x5ee80d[_0x414dcf(0x1f1)]===0x4)_0x2fc067='0x'+_0x5ee80d[0x1]+_0x5ee80d[0x1],_0xc96e1e='0x'+_0x5ee80d[0x2]+_0x5ee80d[0x2],_0x28d219='0x'+_0x5ee80d[0x3]+_0x5ee80d[0x3];else _0x5ee80d[_0x414dcf(0x1f1)]===0x7&&(_0x2fc067='0x'+_0x5ee80d[0x1]+_0x5ee80d[0x2],_0xc96e1e='0x'+_0x5ee80d[0x3]+_0x5ee80d[0x4],_0x28d219='0x'+_0x5ee80d[0x5]+_0x5ee80d[0x6]);return _0x414dcf(0x27a)+ +_0x2fc067+',\x20'+ +_0xc96e1e+',\x20'+ +_0x28d219+',\x20'+_0x5d46d8+')';}function renderTimeColumn(){const _0x4e5180=a2_0x2a8ac0,_0x105ba4=document[_0x4e5180(0x24d)](_0x4e5180(0x298)),_0x5458da=document['getElementById']('timeLineBadge');_0x105ba4[_0x4e5180(0x2a1)]='',_0x105ba4['appendChild'](_0x5458da);for(let _0x368196=0x0;_0x368196<0x18;_0x368196++){const _0x508fe8=document[_0x4e5180(0x1cd)](_0x4e5180(0x1b7));_0x508fe8['className']=_0x4e5180(0x2a2);if(_0x368196>0x0)_0x508fe8[_0x4e5180(0x2a1)]='<span>'+String(_0x368196)['padStart'](0x2,'0')+_0x4e5180(0x22d);_0x105ba4[_0x4e5180(0x1ce)](_0x508fe8);}}function renderDayRange(_0x4e936e,_0x3bc3f6){const _0x321a19=a2_0x2a8ac0,_0x12535e=document[_0x321a19(0x24d)](_0x321a19(0x2f5)),_0x4cb8af=document[_0x321a19(0x24d)](_0x321a19(0x2e4)),_0x1bd06f=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4bf69a=new Date();_0x4bf69a['setHours'](0x0,0x0,0x0,0x0);const _0x10e4c8=getLocalDateStr(new Date());for(let _0x38d12c=_0x4e936e;_0x38d12c<=_0x3bc3f6;_0x38d12c++){const _0x215549=new Date(_0x4bf69a);_0x215549[_0x321a19(0x1f5)](_0x215549[_0x321a19(0x1d8)]()+_0x38d12c);const _0x4cb42a=getLocalDateStr(_0x215549);let _0x57ca91=_0x215549[_0x321a19(0x2bd)]()-0x1;if(_0x57ca91===-0x1)_0x57ca91=0x6;const _0x451e10=_0x4cb42a===_0x10e4c8,_0x47cbbe=document['createElement']('div');_0x47cbbe[_0x321a19(0x225)]=_0x321a19(0x239)+(_0x451e10?_0x321a19(0x248):''),_0x47cbbe['id']=_0x321a19(0x2b9)+_0x4cb42a,_0x47cbbe['setAttribute'](_0x321a19(0x200),_0x4cb42a),_0x47cbbe[_0x321a19(0x2a1)]=_0x321a19(0x1f7)+_0x1bd06f[_0x57ca91]+_0x321a19(0x2e8)+_0x215549['getDate']()+_0x321a19(0x2e6)+_0x4cb42a+_0x321a19(0x271),_0x47cbbe[_0x321a19(0x21e)]=()=>openDayOptions(_0x4cb42a,_0x1bd06f[_0x57ca91]+'\x20'+_0x215549['getDate']()),_0x12535e[_0x321a19(0x1ce)](_0x47cbbe);const _0x4dd7e9=document[_0x321a19(0x1cd)](_0x321a19(0x1b7));_0x4dd7e9[_0x321a19(0x225)]=_0x321a19(0x2b7)+(_0x451e10?_0x321a19(0x248):''),_0x4dd7e9[_0x321a19(0x28f)](_0x321a19(0x200),_0x4cb42a),_0x4dd7e9[_0x321a19(0x28f)](_0x321a19(0x247),_0x57ca91),renderEventsForColumn(_0x4dd7e9,_0x4cb42a,_0x57ca91),attachLongPressHandler(_0x4dd7e9,_0x215549),_0x4cb8af[_0x321a19(0x1ce)](_0x4dd7e9),updateDayStats(_0x4cb42a);}}function reRenderBlocks(){const _0xb9c03a=a2_0x2a8ac0;document[_0xb9c03a(0x1c9)](_0xb9c03a(0x2a5))[_0xb9c03a(0x1a3)](_0x1f50fd=>{const _0x5b5f02=_0xb9c03a;_0x1f50fd[_0x5b5f02(0x1c9)](_0x5b5f02(0x1b6))[_0x5b5f02(0x1a3)](_0x32764d=>_0x32764d['remove']());const _0x4ed285=_0x1f50fd[_0x5b5f02(0x28a)]('data-date'),_0x18bb04=parseInt(_0x1f50fd[_0x5b5f02(0x28a)]('data-day-idx')),_0x218859=Math[_0x5b5f02(0x25e)](_0x1f50fd[_0x5b5f02(0x228)]);(availabilityPattern[_0x18bb04]||[])[_0x5b5f02(0x1a3)](_0x344899=>{const _0x5220e3=_0x5b5f02,_0x432ca7=document[_0x5220e3(0x1cd)]('div');_0x432ca7[_0x5220e3(0x225)]=_0x5220e3(0x18b);const _0x109272=_0x344899*GRID_H;_0x432ca7[_0x5220e3(0x290)][_0x5220e3(0x217)]=_0x109272+'px',_0x432ca7['style'][_0x5220e3(0x27f)]='-'+_0x218859+_0x5220e3(0x17c)+_0x109272+'px',_0x1f50fd['appendChild'](_0x432ca7);});if(specialRanges&&specialRanges['length']>0x0){const _0x5290e9=new Date(_0x4ed285+'T00:00:00')[_0x5b5f02(0x275)](),_0x53002f=new Date(_0x4ed285+_0x5b5f02(0x1d0))[_0x5b5f02(0x275)]();specialRanges[_0x5b5f02(0x1a3)](_0x10d11a=>{const _0x446156=_0x5b5f02,_0x380618=new Date(_0x10d11a[_0x446156(0x2a4)])[_0x446156(0x275)](),_0x318e8a=new Date(_0x10d11a[_0x446156(0x237)])[_0x446156(0x275)](),_0x30acc8=Math[_0x446156(0x2d7)](_0x5290e9,_0x380618),_0x2b8b06=Math[_0x446156(0x24e)](_0x53002f,_0x318e8a);if(_0x30acc8<_0x2b8b06){if(_0x30acc8<=_0x5290e9&&_0x2b8b06>=_0x53002f-0xea60){if(!_0x1f50fd[_0x446156(0x1b4)](_0x446156(0x27d))){const _0x2d25b0=document[_0x446156(0x1cd)]('div');_0x2d25b0['className']=_0x446156(0x1cb),_0x2d25b0[_0x446156(0x290)][_0x446156(0x27f)]='-'+_0x218859+_0x446156(0x296),_0x1f50fd['appendChild'](_0x2d25b0);}}else{const _0xadc482=(_0x30acc8-_0x5290e9)/0x36ee80*GRID_H,_0x1b0224=(_0x2b8b06-_0x30acc8)/0x36ee80*GRID_H,_0x140db6=document[_0x446156(0x1cd)](_0x446156(0x1b7));_0x140db6[_0x446156(0x225)]=_0x446156(0x214),_0x140db6['style'][_0x446156(0x217)]=_0xadc482+'px',_0x140db6['style']['height']=_0x1b0224+'px',_0x140db6['style']['backgroundPosition']='-'+_0x218859+_0x446156(0x17c)+_0xadc482+'px',_0x1f50fd[_0x446156(0x1ce)](_0x140db6);}}});}if(dateExceptions[_0x4ed285]==='off'){if(!_0x1f50fd[_0x5b5f02(0x1b4)]('.day-off-overlay')){const _0x25adac=document[_0x5b5f02(0x1cd)](_0x5b5f02(0x1b7));_0x25adac[_0x5b5f02(0x225)]=_0x5b5f02(0x1cb),_0x25adac[_0x5b5f02(0x290)][_0x5b5f02(0x27f)]='-'+_0x218859+_0x5b5f02(0x296),_0x1f50fd[_0x5b5f02(0x1ce)](_0x25adac);}}renderEventsForColumn(_0x1f50fd,_0x4ed285,_0x18bb04),updateDayStats(_0x4ed285);});}function updateAllDayStats(){const _0x2945b6=a2_0x2a8ac0;document['querySelectorAll'](_0x2945b6(0x196))[_0x2945b6(0x1a3)](_0x16fdf9=>{const _0x55d0b3=_0x2945b6;updateDayStats(_0x16fdf9[_0x55d0b3(0x28a)](_0x55d0b3(0x200)));});}function updateDayStats(_0x14de81){const _0x1610c0=a2_0x2a8ac0,_0x6a0958=document[_0x1610c0(0x24d)](_0x1610c0(0x251)+_0x14de81);if(!_0x6a0958)return;const _0x220f66=new Date(_0x14de81);let _0x372d26=_0x220f66[_0x1610c0(0x2bd)]()-0x1;if(_0x372d26===-0x1)_0x372d26=0x6;if(dateExceptions[_0x14de81]===_0x1610c0(0x292)){_0x6a0958[_0x1610c0(0x290)][_0x1610c0(0x2cc)]=_0x1610c0(0x19d);return;}const _0x4967b6=availabilityPattern[_0x372d26]||[],_0x416ba0=0x18-_0x4967b6[_0x1610c0(0x1f1)],_0x49ebc7=_0x416ba0*0x3c,_0x1d606b=sessions[_0x1610c0(0x1c1)](_0x3773d8=>_0x3773d8[_0x1610c0(0x1bf)]===_0x14de81&&_0x3773d8[_0x1610c0(0x20a)]!==_0x1610c0(0x18e));if(_0x1d606b[_0x1610c0(0x1f1)]===0x0){_0x6a0958[_0x1610c0(0x290)][_0x1610c0(0x2cc)]=_0x1610c0(0x19d);return;}let _0xb4b377=_0x1d606b[_0x1610c0(0x246)](_0x3c8481=>{const _0x137f87=_0x1610c0,[_0x291cd0,_0x121e9d]=_0x3c8481['start']['split'](':')[_0x137f87(0x246)](Number),[_0x132dcf,_0x5bf54c]=_0x3c8481[_0x137f87(0x237)][_0x137f87(0x2dd)](':')[_0x137f87(0x246)](Number);return[_0x291cd0*0x3c+_0x121e9d,_0x132dcf*0x3c+_0x5bf54c];});_0xb4b377['sort']((_0x2d056f,_0x524a79)=>_0x2d056f[0x0]-_0x524a79[0x0]);let _0xd130ed=[];if(_0xb4b377['length']>0x0){let _0x41eb7e=_0xb4b377[0x0];for(let _0x1d2503=0x1;_0x1d2503<_0xb4b377[_0x1610c0(0x1f1)];_0x1d2503++){_0xb4b377[_0x1d2503][0x0]<_0x41eb7e[0x1]?_0x41eb7e[0x1]=Math['max'](_0x41eb7e[0x1],_0xb4b377[_0x1d2503][0x1]):(_0xd130ed[_0x1610c0(0x28d)](_0x41eb7e),_0x41eb7e=_0xb4b377[_0x1d2503]);}_0xd130ed[_0x1610c0(0x28d)](_0x41eb7e);}let _0x31731c=0x0;_0xd130ed[_0x1610c0(0x1a3)](_0x456f87=>_0x31731c+=_0x456f87[0x1]-_0x456f87[0x0]),_0x6a0958[_0x1610c0(0x290)][_0x1610c0(0x2cc)]=_0x1610c0(0x2c6);const _0x38de31=_0x6a0958[_0x1610c0(0x1b4)](_0x1610c0(0x198));if(_0x49ebc7===0x0){_0x38de31['style'][_0x1610c0(0x1a9)]=_0x1610c0(0x1fd),_0x38de31['style'][_0x1610c0(0x1a5)]='var(--acc-red)';return;}const _0x45f717=_0x31731c/_0x49ebc7*0x64;console[_0x1610c0(0x1c7)]('['+_0x14de81+_0x1610c0(0x2bc)+_0x416ba0+_0x1610c0(0x24a)+_0x31731c+_0x1610c0(0x260)+_0x45f717[_0x1610c0(0x249)](0x1)+'%'),_0x45f717>0x64?(_0x38de31[_0x1610c0(0x290)][_0x1610c0(0x1a9)]=_0x1610c0(0x1fd),_0x38de31[_0x1610c0(0x290)][_0x1610c0(0x1a5)]=_0x1610c0(0x283)):(_0x38de31[_0x1610c0(0x290)]['width']=_0x45f717+'%',_0x38de31[_0x1610c0(0x290)][_0x1610c0(0x1a5)]=_0x1610c0(0x29d));}function renderEventsForColumn(_0x9634ff,_0x228493,_0x300988){const _0x3ef2e9=a2_0x2a8ac0,_0x3705ec=sessions[_0x3ef2e9(0x1c1)](_0x15cbd2=>_0x15cbd2[_0x3ef2e9(0x1bf)]===_0x228493),_0x3c7f49=_0x3705ec['map'](_0x497384=>{const _0x28f037=_0x3ef2e9,[_0x2ab79b,_0x4ab0e3]=_0x497384[_0x28f037(0x2a4)][_0x28f037(0x2dd)](':')['map'](Number),[_0x49992b,_0x2c4175]=_0x497384['end'][_0x28f037(0x2dd)](':')[_0x28f037(0x246)](Number);return{'data':_0x497384,'start':_0x2ab79b*0x3c+_0x4ab0e3,'end':_0x49992b*0x3c+_0x2c4175,'colIndex':0x0};});_0x3c7f49[_0x3ef2e9(0x219)]((_0x34e794,_0x144c73)=>{const _0x2dcc7e=_0x3ef2e9;if(_0x34e794['start']!==_0x144c73[_0x2dcc7e(0x2a4)])return _0x34e794[_0x2dcc7e(0x2a4)]-_0x144c73['start'];return _0x144c73['end']-_0x144c73['start']-(_0x34e794[_0x2dcc7e(0x237)]-_0x34e794[_0x2dcc7e(0x2a4)]);});const _0x1affb3=[];_0x3c7f49['forEach'](_0x5700a3=>{const _0x313617=_0x3ef2e9;let _0x1259dc=![];for(let _0x3508e0=0x0;_0x3508e0<_0x1affb3['length'];_0x3508e0++){const _0x6dac7c=_0x1affb3[_0x3508e0],_0x27898d=_0x6dac7c[_0x6dac7c[_0x313617(0x1f1)]-0x1];if(_0x5700a3['start']>=_0x27898d[_0x313617(0x237)]){_0x6dac7c[_0x313617(0x28d)](_0x5700a3),_0x5700a3[_0x313617(0x270)]=_0x3508e0,_0x1259dc=!![];break;}}!_0x1259dc&&(_0x1affb3['push']([_0x5700a3]),_0x5700a3[_0x313617(0x270)]=_0x1affb3['length']-0x1);}),_0x3c7f49[_0x3ef2e9(0x1a3)](_0x4df701=>{const _0x2c9ea2=_0x3ef2e9;let _0x49bda3=0x0;_0x3c7f49[_0x2c9ea2(0x1a3)](_0x5aa12b=>{const _0x284ff7=_0x2c9ea2;if(Math[_0x284ff7(0x2d7)](_0x4df701[_0x284ff7(0x2a4)],_0x5aa12b['start'])<Math[_0x284ff7(0x24e)](_0x4df701[_0x284ff7(0x237)],_0x5aa12b[_0x284ff7(0x237)])){if(_0x5aa12b['colIndex']>_0x49bda3)_0x49bda3=_0x5aa12b[_0x284ff7(0x270)];}});const _0x4052e0=_0x49bda3+0x1,_0x1697fb=0x64/_0x4052e0,_0x28e246=_0x4df701[_0x2c9ea2(0x270)]*_0x1697fb,_0x277bda=createEventEl(_0x4df701[_0x2c9ea2(0x1ed)]);_0x277bda['style'][_0x2c9ea2(0x1a9)]='calc('+_0x1697fb+_0x2c9ea2(0x2e1),_0x277bda[_0x2c9ea2(0x290)]['left']='calc('+_0x28e246+_0x2c9ea2(0x280),_0x277bda[_0x2c9ea2(0x290)][_0x2c9ea2(0x2ec)]=0xa+_0x4df701['colIndex'],_0x1697fb<0x55&&_0x277bda['classList']['add'](_0x2c9ea2(0x227)),_0x9634ff[_0x2c9ea2(0x1ce)](_0x277bda);});}function createEventEl(_0xb8ca03){const _0x3638e8=a2_0x2a8ac0,[_0x14672d,_0x1dbedd]=_0xb8ca03[_0x3638e8(0x2a4)][_0x3638e8(0x2dd)](':')[_0x3638e8(0x246)](Number),[_0x4bd0b4,_0x5390a5]=_0xb8ca03[_0x3638e8(0x237)][_0x3638e8(0x2dd)](':')[_0x3638e8(0x246)](Number),_0x10ea69=(_0x14672d*0x3c+_0x1dbedd)/0x3c*GRID_H,_0x57047f=(_0x4bd0b4*0x3c+_0x5390a5-(_0x14672d*0x3c+_0x1dbedd))/0x3c*GRID_H,_0x5c24fe=document['createElement'](_0x3638e8(0x1b7)),_0x1bcf13=_0xb8ca03[_0x3638e8(0x20a)]===_0x3638e8(0x2ac)?_0x3638e8(0x194):'';_0x5c24fe['className']='event-card'+_0x1bcf13,_0x5c24fe['style'][_0x3638e8(0x217)]=_0x10ea69+'px',_0x5c24fe[_0x3638e8(0x290)][_0x3638e8(0x1bc)]=Math[_0x3638e8(0x2d7)](_0x57047f,0x14)+'px';const _0x529ab8=clients[_0x3638e8(0x1db)](_0x398667=>_0xb8ca03[_0x3638e8(0x1ef)]&&String(_0x398667['id'])===String(_0xb8ca03[_0x3638e8(0x1ef)])||_0x398667[_0x3638e8(0x22c)]===_0xb8ca03[_0x3638e8(0x1e9)]),_0xf54a28=_0x529ab8?_0x529ab8[_0x3638e8(0x21f)]:'#0a84ff';_0x5c24fe['style'][_0x3638e8(0x295)]=_0xf54a28,_0x5c24fe[_0x3638e8(0x290)]['backgroundColor']=hexToRgba(_0xf54a28,0.85);let _0x67cbbd='<div\x20class=\x22ev-title\x22>'+_0xb8ca03[_0x3638e8(0x1e9)]+'</div><div\x20class=\x22ev-time\x22>'+_0xb8ca03[_0x3638e8(0x2a4)]+_0x3638e8(0x234)+_0xb8ca03[_0x3638e8(0x237)]+_0x3638e8(0x1f0);return _0xb8ca03[_0x3638e8(0x190)]&&(_0x67cbbd+=_0x3638e8(0x222)),_0xb8ca03[_0x3638e8(0x20a)]===_0x3638e8(0x2ac)&&(_0x67cbbd+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x5c24fe['innerHTML']=_0x67cbbd,_0x5c24fe['onclick']=_0x1c8144=>{_0x1c8144['stopPropagation'](),openEdit(_0xb8ca03);},_0x5c24fe;}function attachLongPressHandler(_0x55a78d,_0x1190aa){const _0x3c737b=a2_0x2a8ac0;let _0x425789=0x0,_0x3e7138=null;const _0x1e1931=_0x181838=>{const _0x2a2d2c=a2_0x2038;if(_0x181838[_0x2a2d2c(0x2f3)]['closest'](_0x2a2d2c(0x1e8)))return;isScrolling=![],_0x425789=_0x181838[_0x2a2d2c(0x2aa)]?_0x181838[_0x2a2d2c(0x2aa)][0x0][_0x2a2d2c(0x1c0)]:_0x181838[_0x2a2d2c(0x1c0)],_0x3e7138=setTimeout(()=>{const _0x2f7369=_0x2a2d2c;if(!isScrolling){navigator[_0x2f7369(0x210)]?.(0x32);const _0x5a147f=_0x55a78d[_0x2f7369(0x1c8)](),_0x346f90=Math[_0x2f7369(0x223)]((_0x425789-_0x5a147f[_0x2f7369(0x217)])/GRID_H);_0x1190aa[_0x2f7369(0x25c)](_0x346f90,0x0),openAddSession(_0x1190aa);}},0x1f4);},_0x5d649e=()=>{isScrolling=!![],clearTimeout(_0x3e7138);},_0x3c4adb=()=>{clearTimeout(_0x3e7138);};_0x55a78d['addEventListener'](_0x3c737b(0x2bb),_0x1e1931,{'passive':!![]}),_0x55a78d[_0x3c737b(0x1f9)](_0x3c737b(0x181),_0x5d649e,{'passive':!![]}),_0x55a78d[_0x3c737b(0x1f9)](_0x3c737b(0x289),_0x3c4adb),_0x55a78d[_0x3c737b(0x1f9)](_0x3c737b(0x2ad),_0x1e1931),_0x55a78d['addEventListener'](_0x3c737b(0x241),_0x5d649e),_0x55a78d[_0x3c737b(0x1f9)](_0x3c737b(0x23e),_0x3c4adb);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x17d8f1=a2_0x2a8ac0,_0x24584f=document['getElementById'](_0x17d8f1(0x2c7)),_0x17ba74=_0x24584f['scrollLeft'],_0x3887c5=_0x24584f[_0x17d8f1(0x1e3)],_0x361eeb=_0x24584f[_0x17d8f1(0x1ac)];if(_0x3887c5-(_0x17ba74+_0x361eeb)<0x12c){const _0x57627d=endOffset;endOffset+=0xe,renderDayRange(_0x57627d+0x1,endOffset),reRenderBlocks();}if(_0x17ba74<0x12c){const _0x1874ec=startOffset;startOffset-=0xe,prependDays(startOffset,_0x1874ec-0x1),_0x24584f['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x2d8c4a,_0x132d7c){const _0x275183=a2_0x2a8ac0,_0x4a6569=document[_0x275183(0x24d)](_0x275183(0x2f5)),_0x1977ec=document[_0x275183(0x24d)](_0x275183(0x2e4)),_0x1e3ee9=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x4e014e=new Date();_0x4e014e['setHours'](0x0,0x0,0x0,0x0);const _0x30b8a7=getLocalDateStr(new Date()),_0x460f04=document['createDocumentFragment'](),_0x517e16=document[_0x275183(0x2ee)]();for(let _0x48fdfa=_0x2d8c4a;_0x48fdfa<=_0x132d7c;_0x48fdfa++){const _0x20bba8=new Date(_0x4e014e);_0x20bba8[_0x275183(0x1f5)](_0x20bba8[_0x275183(0x1d8)]()+_0x48fdfa);const _0x4120a5=getLocalDateStr(_0x20bba8);let _0x287de3=_0x20bba8[_0x275183(0x2bd)]()-0x1;if(_0x287de3===-0x1)_0x287de3=0x6;const _0x1abd73=_0x4120a5===_0x30b8a7,_0x5c7762=document[_0x275183(0x1cd)](_0x275183(0x1b7));_0x5c7762[_0x275183(0x225)]=_0x275183(0x239)+(_0x1abd73?'today':''),_0x5c7762['id']=_0x275183(0x2b9)+_0x4120a5,_0x5c7762['setAttribute'](_0x275183(0x200),_0x4120a5),_0x5c7762[_0x275183(0x2a1)]='<div\x20class=\x22dch-day\x22>'+_0x1e3ee9[_0x287de3]+_0x275183(0x2e8)+_0x20bba8[_0x275183(0x1d8)]()+_0x275183(0x2e6)+_0x4120a5+_0x275183(0x271),_0x5c7762[_0x275183(0x21e)]=()=>openDayOptions(_0x4120a5,_0x1e3ee9[_0x287de3]+'\x20'+_0x20bba8['getDate']()),_0x460f04['appendChild'](_0x5c7762);const _0x4ed4ae=document[_0x275183(0x1cd)](_0x275183(0x1b7));_0x4ed4ae[_0x275183(0x225)]='day-column\x20'+(_0x1abd73?_0x275183(0x248):''),_0x4ed4ae[_0x275183(0x28f)](_0x275183(0x200),_0x4120a5),_0x4ed4ae['setAttribute'](_0x275183(0x247),_0x287de3),renderEventsForColumn(_0x4ed4ae,_0x4120a5,_0x287de3),attachLongPressHandler(_0x4ed4ae,_0x20bba8),_0x517e16[_0x275183(0x1ce)](_0x4ed4ae),updateDayStats(_0x4120a5);}_0x4a6569['insertBefore'](_0x460f04,_0x4a6569[_0x275183(0x2fa)]),_0x1977ec['insertBefore'](_0x517e16,_0x1977ec[_0x275183(0x1b4)](_0x275183(0x1c4)));}function validateAppointment(_0x182b08,_0x1464c6,_0x52270f,_0x10e792,_0x1d9961){const _0x2ea662=a2_0x2a8ac0,[_0x288c38,_0x427b59]=_0x1464c6['split'](':')[_0x2ea662(0x246)](Number),[_0x1f5a49,_0xd4a69e]=_0x52270f[_0x2ea662(0x2dd)](':')['map'](Number),_0x23827b=_0x288c38*0x3c+_0x427b59,_0x30724c=_0x1f5a49*0x3c+_0xd4a69e,_0x438b8c=String(_0x1d9961);let _0x3656c0=![],_0x29dee6='';for(let _0x262320 of sessions){if(_0x262320[_0x2ea662(0x1bf)]!==_0x182b08)continue;if(_0x262320[_0x2ea662(0x20a)]==='cancelled')continue;if(_0x10e792&&String(_0x262320['id'])===String(_0x10e792))continue;const [_0x20c816,_0xb6e962]=_0x262320[_0x2ea662(0x2a4)][_0x2ea662(0x2dd)](':')[_0x2ea662(0x246)](Number),[_0x3179bb,_0x33c818]=_0x262320['end'][_0x2ea662(0x2dd)](':')['map'](Number),_0x14b4d6=_0x20c816*0x3c+_0xb6e962,_0x2ddd11=_0x3179bb*0x3c+_0x33c818;if(Math[_0x2ea662(0x2d7)](_0x23827b,_0x14b4d6)<Math[_0x2ea662(0x24e)](_0x30724c,_0x2ddd11)){if(_0x262320[_0x2ea662(0x1ef)]&&String(_0x262320[_0x2ea662(0x1ef)])===_0x438b8c)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x262320['client']+_0x2ea662(0x279)};_0x3656c0=!![],_0x29dee6=_0x262320[_0x2ea662(0x1e9)];}}if(_0x3656c0)return{'valid':!![],'warning':_0x2ea662(0x2e3)+_0x29dee6};return{'valid':!![]};}function updateDateDisplay(){const _0x761d83=a2_0x2a8ac0,_0xfc24c3=document[_0x761d83(0x24d)]('inpDate')[_0x761d83(0x2f2)],_0x36a212=document[_0x761d83(0x24d)](_0x761d83(0x1bd));if(!_0xfc24c3){_0x36a212[_0x761d83(0x26b)]='';return;}const [_0x126e77,_0x58ba85,_0x1c5a5a]=_0xfc24c3['split']('-')['map'](Number),_0x14b7c3=new Date(_0x126e77,_0x58ba85-0x1,_0x1c5a5a),_0x256339={'weekday':'long','day':_0x761d83(0x278),'month':_0x761d83(0x206),'year':_0x761d83(0x278)};let _0x47014c=_0x14b7c3[_0x761d83(0x2d0)]('ru-RU',_0x256339);_0x47014c=_0x47014c[_0x761d83(0x1ca)](0x0)[_0x761d83(0x23b)]()+_0x47014c[_0x761d83(0x2dc)](0x1),_0x36a212[_0x761d83(0x26b)]=_0x47014c;}function autoSetEndTime(){const _0x2de201=a2_0x2a8ac0,_0x2cf560=document['getElementById'](_0x2de201(0x2f0))[_0x2de201(0x2f2)];if(!_0x2cf560)return;const [_0x2172f3,_0x3c82de]=_0x2cf560['split'](':')['map'](Number);let _0x118e45=_0x2172f3+0x1;if(_0x118e45>0x17)_0x118e45=0x0;const _0x5efa2e=String(_0x118e45)[_0x2de201(0x245)](0x2,'0')+':'+String(_0x3c82de)['padStart'](0x2,'0');document[_0x2de201(0x24d)](_0x2de201(0x256))['value']=_0x5efa2e;}function populateClientSelect(){const _0x275b74=a2_0x2a8ac0,_0x217788=document[_0x275b74(0x24d)]('inpClient');_0x217788[_0x275b74(0x2a1)]='';if(clients[_0x275b74(0x1f1)]===0x0){const _0x56ecc6=document[_0x275b74(0x1cd)]('option');_0x56ecc6[_0x275b74(0x282)]='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x217788[_0x275b74(0x1ce)](_0x56ecc6);return;}clients[_0x275b74(0x1a3)](_0x1f2990=>{const _0x118791=_0x275b74,_0x40facd=document['createElement'](_0x118791(0x26e));_0x40facd[_0x118791(0x2f2)]=_0x1f2990['name'],_0x40facd[_0x118791(0x26b)]=_0x1f2990[_0x118791(0x22c)],_0x217788['appendChild'](_0x40facd);});}function openActionSheet(_0x4ab12e){const _0x590908=a2_0x2a8ac0,_0x59c095=document[_0x590908(0x24d)]('actionSheet'),_0x3d6d31=document[_0x590908(0x24d)](_0x590908(0x20b)),_0x4a889f=document[_0x590908(0x24d)](_0x590908(0x199)),_0x42b38e=document[_0x590908(0x24d)](_0x590908(0x269)),_0x36d4bc=document[_0x590908(0x24d)](_0x590908(0x2c0));_0x3d6d31[_0x590908(0x26a)][_0x590908(0x27c)](_0x590908(0x1a7)),_0x59c095['classList'][_0x590908(0x27c)]('open');if(_0x4ab12e===_0x590908(0x243))_0x4a889f[_0x590908(0x26b)]=_0x590908(0x2f9),_0x42b38e[_0x590908(0x26b)]=_0x590908(0x21c),_0x42b38e[_0x590908(0x21e)]=()=>{const _0x5b20da=_0x590908;closeActionSheet(),updateSeriesBatch(_0x5b20da(0x1e1),tempSessionData);},_0x36d4bc[_0x590908(0x26b)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x36d4bc[_0x590908(0x21e)]=()=>{const _0x1ab7ca=_0x590908;closeActionSheet(),updateSeriesBatch(_0x1ab7ca(0x258),tempSessionData);};else _0x4ab12e==='delete'&&(_0x4a889f[_0x590908(0x26b)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x42b38e[_0x590908(0x26b)]=_0x590908(0x21c),_0x42b38e['className']=_0x590908(0x20e),_0x42b38e[_0x590908(0x21e)]=()=>{const _0x38b09f=_0x590908;closeActionSheet(),commitDelete(_0x38b09f(0x1e1),sessions[_0x38b09f(0x1db)](_0x5c3800=>_0x5c3800['id']===editingId));},_0x36d4bc['textContent']=_0x590908(0x288),_0x36d4bc[_0x590908(0x225)]=_0x590908(0x209),_0x36d4bc[_0x590908(0x21e)]=()=>{const _0x570c1a=_0x590908;closeActionSheet(),commitDelete(_0x570c1a(0x258),sessions['find'](_0x84f165=>_0x84f165['id']===editingId));});}function closeActionSheet(){const _0x17506f=a2_0x2a8ac0;document[_0x17506f(0x24d)]('actionSheet')[_0x17506f(0x26a)][_0x17506f(0x2d2)]('open'),document[_0x17506f(0x24d)]('actionSheetOverlay')[_0x17506f(0x26a)][_0x17506f(0x2d2)](_0x17506f(0x1a7));}function openSettings(){const _0x25340a=a2_0x2a8ac0;openSheet(_0x25340a(0x2c1));}function saveCoachSettings(){const _0x529159=a2_0x2a8ac0,_0x500514=document['getElementById'](_0x529159(0x2d3))[_0x529159(0x2f2)];localStorage['setItem'](_0x529159(0x2ef),_0x500514),console['log'](_0x529159(0x220),_0x500514),DataManager[_0x529159(0x18c)]('save_settings',{'settings':{'cancel_window':_0x500514}})[_0x529159(0x1fc)](_0x436922=>{const _0x4d18e7=_0x529159;console['error'](_0x4d18e7(0x2a0),_0x436922),showToast(_0x4d18e7(0x2ea),![]);});}function loadCoachSettings(){const _0x45f4a8=a2_0x2a8ac0,_0x1eab4c=localStorage['getItem'](_0x45f4a8(0x2ef));_0x1eab4c&&(document[_0x45f4a8(0x24d)](_0x45f4a8(0x2d3))[_0x45f4a8(0x2f2)]=_0x1eab4c);}function a2_0x4652(){const _0x3bdc97=['doEventsList','height','sheetDateSubtitle','5805210uZLbBW','dateStr','clientY','filter',':00','expand','.day-column','href','startsWith','log','getBoundingClientRect','querySelectorAll','charAt','day-off-overlay\x20stripe-bg','overlay','createElement','appendChild','init_load','T23:59:59','.pib-text','patternEditor','msg','open','rgba(255,\x20159,\x2010,\x200.3)','disableVerticalSwipes','rangeEndTime','getDate','358660thtSvz','Error\x20setting\x20color:','find','dayOptionsSheet','[Notify]\x20Attempting\x20to\x20send:','getFullYear','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','single','total','scrollWidth','update','patternInfoBox','</b>\x0a\x0a','Batch\x20Sync\x20OK','.event-card','client','[Notify]\x20Client\x20SWAP\x20detected','[API\x20','clients','data','save_settings','clientId','</div>','length','delete','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','setDate','block','<div\x20class=\x22dch-day\x22>','</span>\x20/\x20','addEventListener','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','scrollLeft','catch','100%','search','analyticsList','data-date','anStart','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','v9.0-BATCH-CALENDAR','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','long','doBusyHours','btnDelete','as-button\x20danger\x20bold','status','actionSheetOverlay','3949488CcmNep','error','as-button\x20danger','month','vibrate','btn-primary\x20btn-secondary','Local\x20Save\x20Error','offsetWidth','blocked-range-part\x20stripe-bg','localeCompare','formatDate','top','9Loiegq','sort','.sheet','8hLuhof','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','includes','onclick','color','[Settings]\x20Cancel\x20window\x20set\x20to:','rangesSheet','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','floor','now','className','24TKEBdg','mini','offsetLeft','btn-status-toggle\x20undo-mode','setMonth','statLoadCard','name',':00</span>','offClick','complete','json','pattern','mergeServerData','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','\x20-\x20','rangeStartTime','\x20days','end','inpClient','day-col-header\x20','isArray','toUpperCase','parse','user','mouseup','00:00','random','mousemove','rangeStartDate','save','setBackgroundColor','padStart','map','data-day-idx','today','toFixed','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','[Notify]\x20Error:\x20sessionData\x20is\x20null','toast-notification\x20','getElementById','min','inpRecurring','.period-switch\x20.p-btn','stat-','custom','inpSeriesCount','ranges','[Series]\x20Skipped\x20','inpEnd','sid','series','btn-status-toggle','WebApp','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHours','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','round','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','getHours','pe-time-label','var(--acc-orange)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','constructor','borderColor','sessionSheet','asBtnOne','classList','textContent','Telegram','apply','option','range-item','colIndex','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','undefined','11YQzOaP','188070kttKYd','getTime','cancel_window','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','numeric',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','rgba(','null','add','.day-off-overlay','create','backgroundPosition','%\x20+\x202px)','pe-cell\x20','text','var(--acc-red)','keys','send','note','toast','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','touchend','getAttribute','Unknown','<b>‚úÖ\x20','push','–ò–Ω—Ñ–æ','setAttribute','style','valid','off','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','stringify','borderLeftColor','px\x200px','exceptions','timeColumn','show','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','then','var(--acc-current)','analyticsSheet','inpDate','Save\x20settings\x20error:','innerHTML','time-label','10px','start','#gridColumns\x20.day-column','location','(((.+)+)+)+$','getMonth','toastMessage','touches','–£—Å–ø–µ—à–Ω–æ','completed','mousedown','borderRadius','client-stat-card','success','rgba(100,100,100,0.5)','de-item','getItem','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','BackButton','day-column\x20','\x20–∏–∑\x20','header-','uc_settings_v9','touchstart',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','getDay','Error\x20setting\x20back\x20button:','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','asBtnSeries','settingsSheet','cancel','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','getMinutes','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','flex','matrixViewport','rgba(255,255,255,0.05)','rgba(48,\x20209,\x2088,\x200.15)','#fff','ru-RU','display','week','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','\x20‚Äî\x20','toLocaleDateString','peGrid','remove','settingCancelWindow','scroll','from','text/plain;charset=UTF-8','max','anDonutCircle','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','btn-primary\x20btn-danger','calendar','slice','split','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','splice','inpNote','%\x20-\x204px)','entries','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','gridColumns','toString','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','17657196FQcgNA','</div><div\x20class=\x22dch-num\x22>','1495858jJdZHK','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','zIndex','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','createDocumentFragment','uc_settings_cancel_window','inpStart','indexOf','value','target','...','daysHeaderTrack','onClick','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','settings','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','firstChild','toastTitle','uc_sessions_v9','px\x20-','toLocaleString','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','all','saveLocally','touchmove','63098RSAgnU',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','btnDayToggle','Local\x20Load\x20Error','doDateHeader','anEnd','strokeDashoffset','23:59','seriesCountContainer','blocked-slot\x20stripe-bg','fetchFromServer',']\x20Failed:','cancelled',':\x20Client\x20already\x20booked','seriesId','send_notification','findIndex','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','\x20status-completed','checked','.day-col-header','doWorkHours','.dch-stats-fill','asTitle','warning','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','none','recurringOptionContainer','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','doLoadPercent','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','Server\x20Error','forEach','23xFGrhc','background','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','active','done','width','setHeaderColor','warn','clientWidth','pe-col-header','var(--acc-green)','initDataUnsafe','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','planned','pe-corner','querySelector','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','div','rangesList','syncBatch','rangeEndDate'];a2_0x4652=function(){return _0x3bdc97;};return a2_0x4652();}function openRangesSheet(){const _0x4e513a=a2_0x2a8ac0;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x4e513a(0x221));}function addRange(){const _0x291728=a2_0x2a8ac0,_0x2690c4=document[_0x291728(0x24d)](_0x291728(0x242))['value'],_0x3d75ae=document['getElementById']('rangeStartTime')[_0x291728(0x2f2)],_0x248b54=document[_0x291728(0x24d)](_0x291728(0x1ba))[_0x291728(0x2f2)],_0x476806=document['getElementById'](_0x291728(0x1d7))[_0x291728(0x2f2)];if(!_0x2690c4||!_0x3d75ae||!_0x248b54||!_0x476806)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x1633fc=_0x2690c4+'T'+_0x3d75ae,_0x4049e3=_0x248b54+'T'+_0x476806;if(_0x1633fc>=_0x4049e3)return alert(_0x291728(0x2b4));specialRanges[_0x291728(0x28d)]({'start':_0x1633fc,'end':_0x4049e3}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x291728(0x180)](),DataManager[_0x291728(0x18c)](_0x291728(0x1ee),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x23032f){const _0x350245=a2_0x2a8ac0;specialRanges[_0x350245(0x2df)](_0x23032f,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x350245(0x180)](),DataManager[_0x350245(0x18c)](_0x350245(0x1ee),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5cc24d=a2_0x2a8ac0;document[_0x5cc24d(0x24d)](_0x5cc24d(0x242))[_0x5cc24d(0x2f2)]='',document[_0x5cc24d(0x24d)](_0x5cc24d(0x235))[_0x5cc24d(0x2f2)]=_0x5cc24d(0x23f),document[_0x5cc24d(0x24d)](_0x5cc24d(0x1ba))[_0x5cc24d(0x2f2)]='',document[_0x5cc24d(0x24d)]('rangeEndTime')[_0x5cc24d(0x2f2)]=_0x5cc24d(0x189);}function renderRangesList(){const _0x242b1a=a2_0x2a8ac0,_0x155953=document[_0x242b1a(0x24d)](_0x242b1a(0x1b8));_0x155953[_0x242b1a(0x2a1)]='';if(!specialRanges[_0x242b1a(0x1f1)]){_0x155953[_0x242b1a(0x2a1)]=_0x242b1a(0x1f4);return;}specialRanges[_0x242b1a(0x1a3)]((_0x255614,_0x4dc998)=>{const _0x3d1537=_0x242b1a,_0x413767=document[_0x3d1537(0x1cd)](_0x3d1537(0x1b7));_0x413767['className']=_0x3d1537(0x26f);const _0x26f74e=_0x1f543c=>{const _0x308f04=_0x3d1537,_0x3f9d1c=new Date(_0x1f543c);return _0x3f9d1c[_0x308f04(0x1d8)]()+'.'+String(_0x3f9d1c['getMonth']()+0x1)[_0x308f04(0x245)](0x2,'0')+'\x20'+String(_0x3f9d1c['getHours']())[_0x308f04(0x245)](0x2,'0')+':'+String(_0x3f9d1c[_0x308f04(0x2c4)]())[_0x308f04(0x245)](0x2,'0');};_0x413767[_0x3d1537(0x2a1)]=_0x3d1537(0x1b1)+_0x26f74e(_0x255614[_0x3d1537(0x2a4)])+_0x3d1537(0x2cf)+_0x26f74e(_0x255614[_0x3d1537(0x237)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x4dc998+')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>',_0x155953['appendChild'](_0x413767);});}function scrollToToday(){const _0x117ecd=a2_0x2a8ac0,_0x3797da=getLocalDateStr(new Date()),_0x55ddf1=document[_0x117ecd(0x24d)](_0x117ecd(0x2b9)+_0x3797da),_0x4809b4=document[_0x117ecd(0x24d)](_0x117ecd(0x2c7));if(_0x55ddf1&&_0x4809b4){const _0x59128f=_0x4809b4[_0x117ecd(0x1ac)],_0x30cb79=_0x55ddf1[_0x117ecd(0x228)],_0xe0c383=_0x55ddf1[_0x117ecd(0x213)];_0x4809b4[_0x117ecd(0x1fb)]=_0x30cb79-_0x59128f/0x2+_0xe0c383/0x2,_0x4809b4['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x2cf59b=a2_0x2a8ac0,_0x250bbb=document['getElementById'](_0x2cf59b(0x2c7)),_0x4c52db=document[_0x2cf59b(0x1c9)](_0x2cf59b(0x196));for(let _0x5d8dcb of _0x4c52db)if(_0x5d8dcb['offsetLeft']>=_0x250bbb[_0x2cf59b(0x1fb)]){const _0x34f4fe=new Date(_0x5d8dcb['getAttribute'](_0x2cf59b(0x200)));document['getElementById']('headerMonth')[_0x2cf59b(0x26b)]=_0x34f4fe[_0x2cf59b(0x17d)]('ru',{'month':_0x2cf59b(0x206)})[_0x2cf59b(0x23b)]()+'\x20'+_0x34f4fe[_0x2cf59b(0x1de)]();break;}}function showToast(_0x23ba5f,_0x5bd042=![]){const _0x4f24d9=a2_0x2a8ac0,_0x4043f0=document[_0x4f24d9(0x24d)](_0x4f24d9(0x287));_0x4043f0['className']=_0x4f24d9(0x24c)+(_0x5bd042?_0x4f24d9(0x2b0):''),document[_0x4f24d9(0x24d)](_0x4f24d9(0x2fb))['textContent']=_0x5bd042?_0x4f24d9(0x2ab):_0x4f24d9(0x28e),document['getElementById'](_0x4f24d9(0x2a9))[_0x4f24d9(0x26b)]=_0x23ba5f,_0x4043f0['classList'][_0x4f24d9(0x27c)](_0x4f24d9(0x299)),setTimeout(()=>{const _0x1a4aac=_0x4f24d9;_0x4043f0[_0x1a4aac(0x26a)][_0x1a4aac(0x2d2)](_0x1a4aac(0x299));},0xbb8);}function openDayOptions(_0x58df97,_0x306970){const _0xd85071=a2_0x2a8ac0;selectedDayForOptions=_0x58df97,document['getElementById']('dayOptionsTitle')[_0xd85071(0x26b)]=_0x306970,openSheet(_0xd85071(0x1dc));}function toggleDayOff(){const _0x52f73d=a2_0x2a8ac0;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x52f73d(0x292),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x52f73d(0x18c)](_0x52f73d(0x1ee),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x3c6688=a2_0x2a8ac0;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x3c6688(0x18c)](_0x3c6688(0x1ee),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x3c2ac5){const _0x3deb7a=a2_0x2a8ac0;document[_0x3deb7a(0x24d)](_0x3deb7a(0x1cc))[_0x3deb7a(0x26a)]['add']('active'),document[_0x3deb7a(0x24d)](_0x3c2ac5)[_0x3deb7a(0x26a)][_0x3deb7a(0x27c)](_0x3deb7a(0x1d4));}function closeAllSheets(){const _0x2434c8=a2_0x2a8ac0;document[_0x2434c8(0x24d)](_0x2434c8(0x1cc))[_0x2434c8(0x26a)]['remove'](_0x2434c8(0x1a7)),document[_0x2434c8(0x1c9)](_0x2434c8(0x21a))[_0x2434c8(0x1a3)](_0x3e956a=>_0x3e956a[_0x2434c8(0x26a)][_0x2434c8(0x2d2)](_0x2434c8(0x1d4)));}function openPatternEditor(){const _0x4b161c=a2_0x2a8ac0;closeAllSheets(),document[_0x4b161c(0x24d)](_0x4b161c(0x1d2))[_0x4b161c(0x26a)][_0x4b161c(0x27c)](_0x4b161c(0x1d4)),renderPatternEditor();}function closePatternEditor(){const _0x2c8dce=a2_0x2a8ac0;document[_0x2c8dce(0x24d)](_0x2c8dce(0x1d2))[_0x2c8dce(0x26a)][_0x2c8dce(0x2d2)](_0x2c8dce(0x1d4));}function savePattern(){const _0x3487ba=a2_0x2a8ac0;document[_0x3487ba(0x24d)](_0x3487ba(0x1d2))[_0x3487ba(0x26a)][_0x3487ba(0x2d2)](_0x3487ba(0x1d4)),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x3487ba(0x18c)]('save_settings',{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x408d5a=a2_0x2a8ac0,_0x546594=document[_0x408d5a(0x24d)](_0x408d5a(0x2d1));_0x546594[_0x408d5a(0x2a1)]='';const _0x2a50c3=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x50e712=document[_0x408d5a(0x1cd)]('div');_0x50e712[_0x408d5a(0x225)]=_0x408d5a(0x1b3),_0x546594[_0x408d5a(0x1ce)](_0x50e712),_0x2a50c3['forEach']((_0xedc892,_0x5a43b6)=>{const _0x587f95=_0x408d5a,_0x4260c4=document['createElement']('div');_0x4260c4[_0x587f95(0x225)]=_0x587f95(0x1ad),_0x4260c4[_0x587f95(0x2a1)]=_0xedc892+_0x587f95(0x261),_0x4260c4[_0x587f95(0x21e)]=()=>toggleColPattern(_0x5a43b6),_0x546594[_0x587f95(0x1ce)](_0x4260c4);});for(let _0xf3bb76=0x0;_0xf3bb76<0x18;_0xf3bb76++){const _0x28ca62=document[_0x408d5a(0x1cd)]('div');_0x28ca62[_0x408d5a(0x225)]=_0x408d5a(0x263),_0x28ca62[_0x408d5a(0x2a1)]=_0x408d5a(0x205)+String(_0xf3bb76)[_0x408d5a(0x245)](0x2,'0')+_0x408d5a(0x1c2),_0x28ca62[_0x408d5a(0x21e)]=()=>toggleRowPattern(_0xf3bb76),_0x546594[_0x408d5a(0x1ce)](_0x28ca62);for(let _0x1469a8=0x0;_0x1469a8<0x7;_0x1469a8++){const _0x47a539=document[_0x408d5a(0x1cd)](_0x408d5a(0x1b7)),_0x4aaf63=(availabilityPattern[_0x1469a8]||[])['includes'](_0xf3bb76),_0x12ec40=!_0x4aaf63;_0x47a539[_0x408d5a(0x225)]=_0x408d5a(0x281)+(_0x12ec40?_0x408d5a(0x1a7):''),_0x47a539[_0x408d5a(0x21e)]=()=>toggleSinglePattern(_0x1469a8,_0xf3bb76),_0x546594[_0x408d5a(0x1ce)](_0x47a539);}}}function toggleSinglePattern(_0x5b3682,_0xfc42fe){const _0x4197eb=a2_0x2a8ac0;if(!availabilityPattern[_0x5b3682])availabilityPattern[_0x5b3682]=[];const _0x52c555=availabilityPattern[_0x5b3682],_0x485e4d=_0x52c555[_0x4197eb(0x2f1)](_0xfc42fe);_0x485e4d===-0x1?_0x52c555[_0x4197eb(0x28d)](_0xfc42fe):_0x52c555[_0x4197eb(0x2df)](_0x485e4d,0x1),renderPatternEditor();}function toggleColPattern(_0x3a039f){const _0x90d96a=a2_0x2a8ac0;if(!availabilityPattern[_0x3a039f])availabilityPattern[_0x3a039f]=[];const _0x562d0a=availabilityPattern[_0x3a039f];_0x562d0a['length']===0x0?availabilityPattern[_0x3a039f]=Array[_0x90d96a(0x2d5)]({'length':0x18},(_0x473a2b,_0x7f7c9c)=>_0x7f7c9c):availabilityPattern[_0x3a039f]=[],renderPatternEditor();}function toggleRowPattern(_0xa5efe1){const _0x28cd1c=a2_0x2a8ac0;let _0x46bd76=!![];for(let _0x4656bb=0x0;_0x4656bb<0x7;_0x4656bb++){if((availabilityPattern[_0x4656bb]||[])[_0x28cd1c(0x21d)](_0xa5efe1)){_0x46bd76=![];break;}}for(let _0x3e6119=0x0;_0x3e6119<0x7;_0x3e6119++){if(!availabilityPattern[_0x3e6119])availabilityPattern[_0x3e6119]=[];const _0x1d022c=availabilityPattern[_0x3e6119][_0x28cd1c(0x2f1)](_0xa5efe1);if(_0x46bd76){if(_0x1d022c===-0x1)availabilityPattern[_0x3e6119][_0x28cd1c(0x28d)](_0xa5efe1);}else{if(_0x1d022c!==-0x1)availabilityPattern[_0x3e6119][_0x28cd1c(0x2df)](_0x1d022c,0x1);}}renderPatternEditor();}function renderPCol(_0x2e50ce,_0x8d97a4){const _0x5c13a0=a2_0x2a8ac0;_0x2e50ce[_0x5c13a0(0x2a1)]='';const _0x1e2254=Math[_0x5c13a0(0x25e)](_0x2e50ce[_0x5c13a0(0x228)]);(availabilityPattern[_0x8d97a4]||[])['forEach'](_0x3eb238=>{const _0x10e492=_0x5c13a0,_0x167f2c=document[_0x10e492(0x1cd)]('div');_0x167f2c[_0x10e492(0x225)]=_0x10e492(0x18b);const _0x4f12f4=_0x3eb238*GRID_H;_0x167f2c[_0x10e492(0x290)][_0x10e492(0x217)]=_0x4f12f4+'px',_0x167f2c[_0x10e492(0x290)]['backgroundPosition']='-'+_0x1e2254+'px\x20-'+_0x4f12f4+'px',_0x167f2c['onclick']=_0x2e8999=>{_0x2e8999['stopPropagation'](),toggleSinglePattern(_0x8d97a4,_0x3eb238);},_0x2e50ce[_0x10e492(0x1ce)](_0x167f2c);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x1206df=a2_0x2a8ac0,_0x2dfce7=new Date(),_0x2db94a=document['getElementById']('globalTimeLine'),_0x3981c6=document[_0x1206df(0x24d)]('timeLineBadge'),_0x17b0ef=(_0x2dfce7[_0x1206df(0x262)]()*0x3c+_0x2dfce7['getMinutes']())/0x3c*GRID_H;_0x2db94a[_0x1206df(0x290)]['top']=_0x17b0ef+'px',_0x2db94a[_0x1206df(0x290)][_0x1206df(0x2cc)]='block',_0x3981c6[_0x1206df(0x26b)]=String(_0x2dfce7[_0x1206df(0x262)]())[_0x1206df(0x245)](0x2,'0')+':'+String(_0x2dfce7['getMinutes']())[_0x1206df(0x245)](0x2,'0'),_0x3981c6[_0x1206df(0x290)]['display']='block',_0x3981c6[_0x1206df(0x290)][_0x1206df(0x217)]=_0x17b0ef+'px';}document['addEventListener']('DOMContentLoaded',init);function openDayOptions(_0x569da4){const _0x1648bb=a2_0x2a8ac0;selectedDayForOptions=_0x569da4;const _0x5c73c9=new Date(_0x569da4),_0x483f61={'weekday':_0x1648bb(0x206),'day':'numeric','month':_0x1648bb(0x206),'year':_0x1648bb(0x278)},_0x1423bf=_0x5c73c9[_0x1648bb(0x2d0)](_0x1648bb(0x2cb),_0x483f61);document[_0x1648bb(0x24d)](_0x1648bb(0x186))[_0x1648bb(0x26b)]=_0x1423bf[_0x1648bb(0x1ca)](0x0)[_0x1648bb(0x23b)]()+_0x1423bf['slice'](0x1);let _0x3e71b7=_0x5c73c9['getDay']()-0x1;if(_0x3e71b7===-0x1)_0x3e71b7=0x6;const _0x43283=availabilityPattern[_0x3e71b7]||[],_0x484992=0x18-_0x43283[_0x1648bb(0x1f1)],_0x2e8a27=_0x484992*0x3c,_0x59cf4e=sessions['filter'](_0xdf3a53=>_0xdf3a53[_0x1648bb(0x1bf)]===_0x569da4&&_0xdf3a53[_0x1648bb(0x20a)]!==_0x1648bb(0x18e));let _0x21b3c2=_0x59cf4e[_0x1648bb(0x246)](_0x437bd5=>{const _0x39c4c8=_0x1648bb,[_0x5933c9,_0x3becb4]=_0x437bd5[_0x39c4c8(0x2a4)]['split'](':')['map'](Number),[_0x1e9a19,_0x118f69]=_0x437bd5['end'][_0x39c4c8(0x2dd)](':')[_0x39c4c8(0x246)](Number);return[_0x5933c9*0x3c+_0x3becb4,_0x1e9a19*0x3c+_0x118f69];});_0x21b3c2[_0x1648bb(0x219)]((_0x48e216,_0x2977e7)=>_0x48e216[0x0]-_0x2977e7[0x0]);let _0xa3b9a6=[];if(_0x21b3c2[_0x1648bb(0x1f1)]>0x0){let _0x1d231e=_0x21b3c2[0x0];for(let _0x3e2915=0x1;_0x3e2915<_0x21b3c2[_0x1648bb(0x1f1)];_0x3e2915++){_0x21b3c2[_0x3e2915][0x0]<_0x1d231e[0x1]?_0x1d231e[0x1]=Math[_0x1648bb(0x2d7)](_0x1d231e[0x1],_0x21b3c2[_0x3e2915][0x1]):(_0xa3b9a6[_0x1648bb(0x28d)](_0x1d231e),_0x1d231e=_0x21b3c2[_0x3e2915]);}_0xa3b9a6[_0x1648bb(0x28d)](_0x1d231e);}let _0x52c67e=0x0;_0xa3b9a6[_0x1648bb(0x1a3)](_0x1062f2=>_0x52c67e+=_0x1062f2[0x1]-_0x1062f2[0x0]),document[_0x1648bb(0x24d)](_0x1648bb(0x197))[_0x1648bb(0x26b)]=formatMinsToHrs(_0x2e8a27),document[_0x1648bb(0x24d)](_0x1648bb(0x207))[_0x1648bb(0x26b)]=formatMinsToHrs(_0x52c67e);const _0x2afbaa=_0x2e8a27>0x0?Math[_0x1648bb(0x25e)](_0x52c67e/_0x2e8a27*0x64):0x0,_0x171fff=document[_0x1648bb(0x24d)](_0x1648bb(0x1a0));_0x171fff['textContent']=_0x2afbaa+'%';const _0x7d0957=document[_0x1648bb(0x24d)](_0x1648bb(0x22b));if(_0x2afbaa>0x64)_0x171fff[_0x1648bb(0x290)][_0x1648bb(0x21f)]=_0x1648bb(0x283),_0x7d0957[_0x1648bb(0x290)]['borderColor']='rgba(255,\x2069,\x2058,\x200.3)';else _0x2afbaa>0x50?(_0x171fff[_0x1648bb(0x290)][_0x1648bb(0x21f)]=_0x1648bb(0x264),_0x7d0957['style'][_0x1648bb(0x267)]=_0x1648bb(0x1d5)):(_0x171fff[_0x1648bb(0x290)][_0x1648bb(0x21f)]=_0x1648bb(0x1ae),_0x7d0957[_0x1648bb(0x290)]['borderColor']=_0x1648bb(0x2c8));const _0x173af2=document['getElementById'](_0x1648bb(0x1bb));_0x173af2[_0x1648bb(0x2a1)]='';_0x59cf4e[_0x1648bb(0x1f1)]===0x0?_0x173af2['innerHTML']=_0x1648bb(0x1fa):(_0x59cf4e['sort']((_0x24c02e,_0x2f35e9)=>_0x24c02e[_0x1648bb(0x2a4)][_0x1648bb(0x215)](_0x2f35e9[_0x1648bb(0x2a4)])),_0x59cf4e[_0x1648bb(0x1a3)](_0x17e054=>{const _0x1020db=_0x1648bb,_0x34311b=clients[_0x1020db(0x1db)](_0x4b6584=>_0x4b6584[_0x1020db(0x22c)]===_0x17e054[_0x1020db(0x1e9)]),_0xec94d3=_0x34311b?_0x34311b[_0x1020db(0x21f)]:_0x1020db(0x2ca),_0x3fba2a=_0x17e054[_0x1020db(0x20a)]===_0x1020db(0x2ac),_0x56b9b3=_0x3fba2a?_0x1020db(0x2c3):'',_0x3dfe0e=document[_0x1020db(0x1cd)](_0x1020db(0x1b7));_0x3dfe0e['className']=_0x1020db(0x2b2),_0x3dfe0e[_0x1020db(0x290)]['borderLeftColor']=_0xec94d3,_0x3dfe0e[_0x1020db(0x2a1)]=_0x1020db(0x293)+_0x17e054[_0x1020db(0x2a4)]+_0x1020db(0x234)+_0x17e054[_0x1020db(0x237)]+_0x1020db(0x265)+_0x17e054[_0x1020db(0x1e9)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56b9b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x173af2[_0x1020db(0x1ce)](_0x3dfe0e);}));const _0x41f6cb=document[_0x1648bb(0x24d)](_0x1648bb(0x184)),_0x8bb76d=dateExceptions[_0x569da4]===_0x1648bb(0x292);_0x8bb76d?(_0x41f6cb[_0x1648bb(0x26b)]=_0x1648bb(0x2f7),_0x41f6cb[_0x1648bb(0x225)]=_0x1648bb(0x211),_0x41f6cb[_0x1648bb(0x290)][_0x1648bb(0x21f)]='var(--acc-green)',_0x41f6cb['style'][_0x1648bb(0x1a5)]=_0x1648bb(0x2c9)):(_0x41f6cb[_0x1648bb(0x26b)]=_0x1648bb(0x193),_0x41f6cb[_0x1648bb(0x225)]=_0x1648bb(0x2da),_0x41f6cb['style'][_0x1648bb(0x21f)]=_0x1648bb(0x283),_0x41f6cb[_0x1648bb(0x290)]['background']='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x1648bb(0x1dc));}let currentAnPeriod=a2_0x2a8ac0(0x2cd);function openAnalytics(){const _0x4b7f59=a2_0x2a8ac0,_0x2f5c13=document[_0x4b7f59(0x1b4)](_0x4b7f59(0x250));setAnalyticsPeriod(_0x4b7f59(0x2cd),_0x2f5c13),closeAllSheets(),openSheet(_0x4b7f59(0x29e));}function setAnalyticsPeriod(_0x2610cc,_0x40b542){const _0x42464c=a2_0x2a8ac0;currentAnPeriod=_0x2610cc,document[_0x42464c(0x1c9)](_0x42464c(0x250))[_0x42464c(0x1a3)](_0x57a11a=>_0x57a11a[_0x42464c(0x26a)]['remove']('active'));if(_0x40b542)_0x40b542['classList'][_0x42464c(0x27c)](_0x42464c(0x1a7));const _0x516bb9=document[_0x42464c(0x24d)]('anCustomDates');_0x516bb9[_0x42464c(0x290)][_0x42464c(0x2cc)]=_0x2610cc===_0x42464c(0x252)?_0x42464c(0x2c6):_0x42464c(0x19d);const _0x2b3621=new Date();let _0x37fda5=new Date(),_0x1dd469=new Date();if(_0x2610cc==='week')_0x37fda5=getStartOfWeek(_0x2b3621),_0x1dd469=new Date(_0x37fda5),_0x1dd469[_0x42464c(0x1f5)](_0x1dd469[_0x42464c(0x1d8)]()+0x6);else{if(_0x2610cc===_0x42464c(0x20f))_0x37fda5=new Date(_0x2b3621['getFullYear'](),_0x2b3621[_0x42464c(0x2a8)](),0x1),_0x1dd469=new Date(_0x2b3621[_0x42464c(0x1de)](),_0x2b3621[_0x42464c(0x2a8)]()+0x1,0x0);else{!document[_0x42464c(0x24d)](_0x42464c(0x201))['value']&&(document[_0x42464c(0x24d)](_0x42464c(0x201))[_0x42464c(0x2f2)]=getLocalDateStr(_0x2b3621),document[_0x42464c(0x24d)]('anEnd')[_0x42464c(0x2f2)]=getLocalDateStr(_0x2b3621));refreshAnalytics();return;}}document[_0x42464c(0x24d)](_0x42464c(0x201))[_0x42464c(0x2f2)]=getLocalDateStr(_0x37fda5),document[_0x42464c(0x24d)](_0x42464c(0x187))[_0x42464c(0x2f2)]=getLocalDateStr(_0x1dd469),refreshAnalytics();}function refreshAnalytics(){const _0x34b705=a2_0x2a8ac0,_0x178a15=document[_0x34b705(0x24d)](_0x34b705(0x201))['value'],_0x1f0969=document[_0x34b705(0x24d)](_0x34b705(0x187))[_0x34b705(0x2f2)];if(!_0x178a15||!_0x1f0969)return;const _0x47e866=sessions[_0x34b705(0x1c1)](_0x565e98=>_0x565e98[_0x34b705(0x1bf)]>=_0x178a15&&_0x565e98[_0x34b705(0x1bf)]<=_0x1f0969&&_0x565e98[_0x34b705(0x20a)]!==_0x34b705(0x18e)),_0x7859fa=_0x47e866['length'],_0x4d0ae1=_0x47e866['filter'](_0x575f05=>_0x575f05[_0x34b705(0x20a)]===_0x34b705(0x2ac))[_0x34b705(0x1f1)],_0x11c70f=_0x7859fa>0x0?Math[_0x34b705(0x25e)](_0x4d0ae1/_0x7859fa*0x64):0x0;document[_0x34b705(0x24d)]('anPercent')[_0x34b705(0x26b)]=_0x11c70f+'%',document[_0x34b705(0x24d)]('anTotalStats')[_0x34b705(0x26b)]=_0x4d0ae1+_0x34b705(0x2b8)+_0x7859fa+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x76f039=document[_0x34b705(0x24d)](_0x34b705(0x2d8)),_0x56384c=0x2*Math['PI']*0x23,_0x238961=_0x56384c-_0x11c70f/0x64*_0x56384c;_0x76f039['style'][_0x34b705(0x188)]=_0x238961;const _0x74c485={};_0x47e866[_0x34b705(0x1a3)](_0xdfaec5=>{const _0xd4adcb=_0x34b705;if(!_0x74c485[_0xdfaec5[_0xd4adcb(0x1e9)]]){const _0x50aa40=clients[_0xd4adcb(0x1db)](_0x4d8e7e=>_0x4d8e7e[_0xd4adcb(0x22c)]===_0xdfaec5['client']);_0x74c485[_0xdfaec5[_0xd4adcb(0x1e9)]]={'total':0x0,'done':0x0,'color':_0x50aa40?_0x50aa40[_0xd4adcb(0x21f)]:_0xd4adcb(0x2ca)};}_0x74c485[_0xdfaec5['client']][_0xd4adcb(0x1e2)]++;if(_0xdfaec5[_0xd4adcb(0x20a)]===_0xd4adcb(0x2ac))_0x74c485[_0xdfaec5[_0xd4adcb(0x1e9)]][_0xd4adcb(0x1a8)]++;});const _0x52896b=document[_0x34b705(0x24d)](_0x34b705(0x1ff));_0x52896b[_0x34b705(0x2a1)]='';const _0x1fbf27=Object[_0x34b705(0x2e2)](_0x74c485)['sort']((_0x3104e6,_0x21012b)=>_0x21012b[0x1][_0x34b705(0x1e2)]-_0x3104e6[0x1][_0x34b705(0x1e2)]);if(_0x1fbf27[_0x34b705(0x1f1)]===0x0){_0x52896b[_0x34b705(0x2a1)]=_0x34b705(0x2ed);return;}_0x1fbf27[_0x34b705(0x1a3)](([_0x4d82e2,_0x1a520b])=>{const _0x43882f=_0x34b705,_0x290f11=Math[_0x43882f(0x25e)](_0x1a520b[_0x43882f(0x1a8)]/_0x1a520b[_0x43882f(0x1e2)]*0x64),_0x36b813=document[_0x43882f(0x1cd)](_0x43882f(0x1b7));_0x36b813[_0x43882f(0x225)]=_0x43882f(0x2af),_0x36b813[_0x43882f(0x290)]['borderLeftColor']=_0x1a520b['color'],_0x36b813[_0x43882f(0x2a1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>'+_0x4d82e2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>'+_0x1a520b['done']+_0x43882f(0x1f8)+_0x1a520b['total']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x290f11+_0x43882f(0x25b),_0x52896b['appendChild'](_0x36b813);});}function formatMinsToHrs(_0x48bbb9){const _0x92976c=a2_0x2a8ac0;if(_0x48bbb9===0x0)return'0';const _0x159583=Math[_0x92976c(0x223)](_0x48bbb9/0x3c),_0xd87e84=_0x48bbb9%0x3c;if(_0xd87e84===0x0)return _0x159583+'—á';return _0x159583+'—á\x20'+_0xd87e84+'–º';}