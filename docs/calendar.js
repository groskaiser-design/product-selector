const a2_0x55d481=a2_0x41a1;(function(_0x2fc18e,_0x517482){const _0x2c2440=a2_0x41a1,_0x32519f=_0x2fc18e();while(!![]){try{const _0x166e9d=parseInt(_0x2c2440(0xe3))/0x1+-parseInt(_0x2c2440(0xb0))/0x2*(parseInt(_0x2c2440(0x1f5))/0x3)+parseInt(_0x2c2440(0x1de))/0x4+-parseInt(_0x2c2440(0xda))/0x5+-parseInt(_0x2c2440(0x1b1))/0x6+parseInt(_0x2c2440(0xc2))/0x7+parseInt(_0x2c2440(0xac))/0x8;if(_0x166e9d===_0x517482)break;else _0x32519f['push'](_0x32519f['shift']());}catch(_0x371225){_0x32519f['push'](_0x32519f['shift']());}}}(a2_0x1f31,0xd512e),function initTMA(){const _0x583424=a2_0x41a1;try{const _0x4c1bee=window[_0x583424(0x191)]?.[_0x583424(0x112)];if(!_0x4c1bee)return;_0x4c1bee[_0x583424(0x16e)](),_0x4c1bee[_0x583424(0x167)]();try{_0x4c1bee[_0x583424(0x1f9)]('#050505'),_0x4c1bee['setBackgroundColor']&&_0x4c1bee['setBackgroundColor'](_0x583424(0x113));}catch(_0x34ba96){console[_0x583424(0x94)](_0x583424(0x106),_0x34ba96);}try{_0x4c1bee['BackButton']&&(_0x4c1bee[_0x583424(0x19d)][_0x583424(0x10f)](),_0x4c1bee[_0x583424(0x19d)]['offClick'](),_0x4c1bee['BackButton'][_0x583424(0x1be)](function(){const _0x16181a=_0x583424;window['location'][_0x16181a(0x18f)]='router.html';}));}catch(_0x16048e){console[_0x583424(0x94)](_0x583424(0x91),_0x16048e);}try{if(_0x4c1bee[_0x583424(0x161)])_0x4c1bee['disableVerticalSwipes']();}catch(_0x56dde1){}}catch(_0x327716){console['error'](_0x583424(0x18a),_0x327716);}}());function isAdmin(){const _0x4691a9=a2_0x41a1;try{const _0x2c3e68=Number(window[_0x4691a9(0x191)]?.['WebApp']?.[_0x4691a9(0x1cf)]?.[_0x4691a9(0x145)]?.['id']);return _0x2c3e68===0xbaf7174;}catch(_0x248b89){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL=a2_0x55d481(0x1ad),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x55d481(0xd8),KEY_SETTINGS=a2_0x55d481(0xad);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x3a0d26=a2_0x55d481;return window[_0x3a0d26(0x191)]?.[_0x3a0d26(0x112)]?.['initDataUnsafe']?.['user']?.['id']||'guest';},'saveLocally'(){const _0xe9ce1e=a2_0x55d481;try{localStorage[_0xe9ce1e(0x13b)](KEY_CLIENTS,JSON[_0xe9ce1e(0x86)](clients)),localStorage[_0xe9ce1e(0x13b)](KEY_SESSIONS,JSON[_0xe9ce1e(0x86)](sessions)),localStorage[_0xe9ce1e(0x13b)](KEY_SETTINGS,JSON[_0xe9ce1e(0x86)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x26a309){console['error']('Local\x20Save\x20Error',_0x26a309);}},'loadLocal'(){const _0x11f924=a2_0x55d481;try{const _0x4113df=localStorage[_0x11f924(0x127)](KEY_CLIENTS);if(_0x4113df)clients=JSON[_0x11f924(0x1a1)](_0x4113df);const _0x4d8a72=localStorage[_0x11f924(0x127)](KEY_SESSIONS);if(_0x4d8a72)sessions=JSON[_0x11f924(0x1a1)](_0x4d8a72);const _0x2db56f=localStorage[_0x11f924(0x127)](KEY_SETTINGS);if(_0x2db56f){const _0x4267c3=JSON[_0x11f924(0x1a1)](_0x2db56f);if(_0x4267c3[_0x11f924(0x159)])availabilityPattern=_0x4267c3[_0x11f924(0x159)];if(_0x4267c3[_0x11f924(0x10d)])dateExceptions=_0x4267c3[_0x11f924(0x10d)];if(_0x4267c3['ranges'])specialRanges=_0x4267c3[_0x11f924(0x119)];}else{for(let _0x5bf042=0x0;_0x5bf042<0x7;_0x5bf042++)availabilityPattern[_0x5bf042]=Array[_0x11f924(0xef)]({'length':0xc},(_0x25c31f,_0x18387b)=>_0x18387b+0x9);}}catch(_0x5d3edb){console[_0x11f924(0x178)](_0x11f924(0x13f),_0x5d3edb);}},async 'fetchFromServer'(_0x51665a,_0x44bca1={}){const _0x3a8a7f=a2_0x55d481,_0xb5f48e=window[_0x3a8a7f(0x191)]?.[_0x3a8a7f(0x112)],_0x5f148c={'action':_0x51665a,'init_data':_0xb5f48e?.[_0x3a8a7f(0x19e)]||'',..._0x44bca1};try{const _0x577cf1=await fetch(API_URL,{'method':_0x3a8a7f(0x154),'headers':{'Content-Type':_0x3a8a7f(0x14e)},'body':JSON['stringify'](_0x5f148c)}),_0x442e93=await _0x577cf1[_0x3a8a7f(0x8a)]();if(!_0x442e93['ok'])throw new Error(_0x442e93[_0x3a8a7f(0x178)]||'Server\x20Error');return _0x442e93['data'];}catch(_0x388ecf){console['error'](_0x3a8a7f(0x9e)+_0x51665a+']\x20Failed:',_0x388ecf);throw _0x388ecf;}},async 'syncLoad'(){const _0x333b7b=a2_0x55d481,_0xb5b2b8=new Date(),_0x4ee929=_0xb5b2b8[_0x333b7b(0x11d)]()+'-'+String(_0xb5b2b8[_0x333b7b(0x12f)]()+0x1)['padStart'](0x2,'0'),_0x1451c7=new Date(_0xb5b2b8);_0x1451c7['setMonth'](_0xb5b2b8[_0x333b7b(0x12f)]()+0x1);const _0x3b83f8=_0x1451c7['getFullYear']()+'-'+String(_0x1451c7['getMonth']()+0x1)['padStart'](0x2,'0'),_0x3fc936=Date[_0x333b7b(0xa0)]();console[_0x333b7b(0x94)]('[Sync]\x20Loading\x20'+_0x4ee929+',\x20'+_0x3b83f8+'...');try{const [_0x13eb5c,_0x4d07f5]=await Promise[_0x333b7b(0xb3)]([this['fetchFromServer'](_0x333b7b(0xd1),{'month_str':_0x4ee929}),this[_0x333b7b(0x103)](_0x333b7b(0xd1),{'month_str':_0x3b83f8})]);if(lastUserActionTime>_0x3fc936)return console[_0x333b7b(0xc6)]('[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response'),![];return this[_0x333b7b(0x133)](_0x13eb5c,_0x4ee929),this['mergeServerData'](_0x4d07f5,_0x3b83f8),this[_0x333b7b(0x1d1)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x240b2c){console[_0x333b7b(0x178)](_0x240b2c);throw _0x240b2c;}},'mergeServerData'(_0x3f0514,_0xa9cef8){const _0x44c57c=a2_0x55d481;if(!_0x3f0514)return;_0x3f0514[_0x44c57c(0x1b8)]&&Array[_0x44c57c(0x179)](_0x3f0514['clients'])&&(clients=_0x3f0514[_0x44c57c(0x1b8)]);if(_0x3f0514[_0x44c57c(0x1f6)]){if(_0x3f0514[_0x44c57c(0x1f6)]['pattern'])availabilityPattern=_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x159)];if(_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x10d)])dateExceptions=_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x10d)];if(_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x119)])specialRanges=_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x119)];if(_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x1af)]){localStorage[_0x44c57c(0x13b)](_0x44c57c(0x1a8),_0x3f0514[_0x44c57c(0x1f6)]['cancel_window']);const _0x51901f=document[_0x44c57c(0xa6)](_0x44c57c(0x82));if(_0x51901f)_0x51901f[_0x44c57c(0x1e6)]=_0x3f0514[_0x44c57c(0x1f6)][_0x44c57c(0x1af)];}}_0x3f0514['calendar']&&(sessions=sessions['filter'](_0x4360ad=>!_0x4360ad['dateStr'][_0x44c57c(0x1b5)](_0xa9cef8)),Object[_0x44c57c(0xab)](_0x3f0514['calendar'])[_0x44c57c(0x158)](_0x30af2b=>{const _0x396272=_0x44c57c,_0x37e0c8=_0x3f0514[_0x396272(0x1a0)][_0x30af2b];_0x37e0c8[_0x396272(0x158)](_0x30ffaf=>{const _0x10567d=_0x396272,_0x2cf3d6=clients[_0x10567d(0x16a)](_0x5bb0ea=>String(_0x5bb0ea['id'])===String(_0x30ffaf['c']));sessions[_0x10567d(0x1db)]({'id':_0x30ffaf['i'],'clientId':_0x30ffaf['c'],'client':_0x2cf3d6?_0x2cf3d6[_0x10567d(0x1bd)]:_0x10567d(0x9f),'dateStr':_0xa9cef8+'-'+_0x30af2b[_0x10567d(0x157)](0x2,'0'),'start':_0x30ffaf['s'],'end':_0x30ffaf['e'],'status':_0x30ffaf['st']||_0x10567d(0x148),'note':_0x30ffaf['n']||'','seriesId':_0x30ffaf[_0x10567d(0x8c)]||null});});}));},async 'syncBatch'(_0x307443){const _0x2af713=a2_0x55d481,_0x38ced1=[...new Set(_0x307443)],_0x1d0618=_0x38ced1[_0x2af713(0x15b)](_0x400afe=>{const _0xa65f41=_0x2af713,_0x46ee7f=sessions[_0xa65f41(0x11e)](_0x43fcaf=>_0x43fcaf[_0xa65f41(0x1d4)]===_0x400afe&&_0x43fcaf[_0xa65f41(0x1ff)]!=='deleted'),_0x234e27=_0x46ee7f[_0xa65f41(0x15b)](_0x4f963e=>({'i':_0x4f963e['id'],'c':_0x4f963e[_0xa65f41(0x9c)],'s':_0x4f963e['start'],'e':_0x4f963e[_0xa65f41(0x1a3)],'st':_0x4f963e['status'],'n':_0x4f963e[_0xa65f41(0x1c2)],'sid':_0x4f963e[_0xa65f41(0x132)]}));return{'date':_0x400afe,'day_data':_0x234e27};});if(_0x1d0618[_0x2af713(0x108)]===0x0)return;console[_0x2af713(0x94)](_0x2af713(0xa7)+_0x1d0618[_0x2af713(0x108)]+_0x2af713(0xca)),await this[_0x2af713(0x103)](_0x2af713(0x1a9),{'changes':_0x1d0618});}};async function init(){const _0x2f540a=a2_0x55d481;DataManager[_0x2f540a(0x14c)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x2f540a(0xa6)]('matrixViewport')[_0x2f540a(0x140)]('scroll',()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x2f540a(0xcb)]()[_0x2f540a(0xed)](()=>{showToast('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ',!![]);})[_0x2f540a(0x88)](_0x181518=>{const _0x1960cc=_0x2f540a;showToast(_0x1960cc(0x1f8),![]);});}function generateId(){const _0x608d0f=a2_0x55d481;return Date[_0x608d0f(0xa0)]()[_0x608d0f(0xe0)](0x24)+Math[_0x608d0f(0xb9)]()[_0x608d0f(0xe0)](0x24)[_0x608d0f(0x121)](0x2,0x5);}function toggleSeriesInput(){const _0x2c3719=a2_0x55d481,_0x536789=document[_0x2c3719(0xa6)](_0x2c3719(0x199))[_0x2c3719(0x142)],_0x35e49d=document[_0x2c3719(0xa6)](_0x2c3719(0xf4));_0x35e49d[_0x2c3719(0xff)][_0x2c3719(0x11c)]=_0x536789?_0x2c3719(0x105):_0x2c3719(0x137);const _0x5e827c=document[_0x2c3719(0xa6)](_0x2c3719(0x98));_0x5e827c[_0x2c3719(0xff)][_0x2c3719(0x18c)]=_0x536789?_0x2c3719(0x177):_0x2c3719(0x16b);}function openAddSession(_0x265bad){const _0x3132e9=a2_0x55d481;editingId=null,populateClientSelect(),document[_0x3132e9(0xa6)](_0x3132e9(0x131))[_0x3132e9(0x186)]=_0x3132e9(0x1fa),document[_0x3132e9(0xa6)](_0x3132e9(0x138))['style'][_0x3132e9(0x11c)]=_0x3132e9(0x137),document[_0x3132e9(0xa6)](_0x3132e9(0x16d))[_0x3132e9(0xff)][_0x3132e9(0x11c)]=_0x3132e9(0x137);const _0x226be7=document[_0x3132e9(0xa6)](_0x3132e9(0x98)),_0x418b7a=document['getElementById']('seriesCountContainer');_0x226be7[_0x3132e9(0xff)][_0x3132e9(0x11c)]=_0x3132e9(0xf9),_0x226be7['style'][_0x3132e9(0x18c)]=_0x3132e9(0x16b),document[_0x3132e9(0xa6)](_0x3132e9(0x199))[_0x3132e9(0x142)]=![],document[_0x3132e9(0xa6)]('inpSeriesCount')['value']=0x4,_0x418b7a[_0x3132e9(0xff)][_0x3132e9(0x11c)]=_0x3132e9(0x137),document[_0x3132e9(0xa6)](_0x3132e9(0x101))[_0x3132e9(0x1e6)]=getLocalDateStr(_0x265bad),updateDateDisplay();const _0x53f40f=_0x265bad['getHours']();document[_0x3132e9(0xa6)](_0x3132e9(0x1c6))[_0x3132e9(0x1e6)]=String(_0x53f40f)[_0x3132e9(0x157)](0x2,'0')+_0x3132e9(0x1a5),document[_0x3132e9(0xa6)](_0x3132e9(0x1c5))['value']=String(_0x53f40f+0x1)['padStart'](0x2,'0')+_0x3132e9(0x1a5),openSheet(_0x3132e9(0x8b));}function openEdit(_0x2c3e0e){const _0x4bb0cf=a2_0x55d481;editingId=_0x2c3e0e['id'],populateClientSelect(),document[_0x4bb0cf(0xa6)]('sheetTitle')[_0x4bb0cf(0x186)]=_0x4bb0cf(0xbc),document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x138))['style'][_0x4bb0cf(0x11c)]=_0x4bb0cf(0x105);const _0x563f19=document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x16d));_0x563f19[_0x4bb0cf(0xff)][_0x4bb0cf(0x11c)]=_0x4bb0cf(0xf9);_0x2c3e0e[_0x4bb0cf(0x1ff)]===_0x4bb0cf(0x116)?(_0x563f19[_0x4bb0cf(0x1bf)]=_0x4bb0cf(0x1ac),_0x563f19[_0x4bb0cf(0x1c4)]=_0x4bb0cf(0x11a)):(_0x563f19['className']=_0x4bb0cf(0x1a4),_0x563f19['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x1e842d=!!_0x2c3e0e[_0x4bb0cf(0x132)];document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x98))['style'][_0x4bb0cf(0x11c)]=_0x4bb0cf(0x137),document[_0x4bb0cf(0xa6)](_0x4bb0cf(0xf4))[_0x4bb0cf(0xff)][_0x4bb0cf(0x11c)]='none',_0x1e842d?(document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x134))['style'][_0x4bb0cf(0x11c)]=_0x4bb0cf(0xf9),document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x134))[_0x4bb0cf(0x12c)](_0x4bb0cf(0xa5))[_0x4bb0cf(0x186)]=_0x4bb0cf(0x146)):document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x134))[_0x4bb0cf(0xff)][_0x4bb0cf(0x11c)]=_0x4bb0cf(0x137),document[_0x4bb0cf(0xa6)](_0x4bb0cf(0xdf))['value']=_0x2c3e0e['client'],document[_0x4bb0cf(0xa6)]('inpDate')[_0x4bb0cf(0x1e6)]=_0x2c3e0e[_0x4bb0cf(0x1d4)],document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x1c6))[_0x4bb0cf(0x1e6)]=_0x2c3e0e[_0x4bb0cf(0x128)],document[_0x4bb0cf(0xa6)](_0x4bb0cf(0x1c5))[_0x4bb0cf(0x1e6)]=_0x2c3e0e['end'],document['getElementById']('inpNote')['value']=_0x2c3e0e[_0x4bb0cf(0x1c2)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x3f8ab5=a2_0x55d481,_0x29e715=document['getElementById'](_0x3f8ab5(0xdf))[_0x3f8ab5(0x1e6)],_0x33d81b=document[_0x3f8ab5(0xa6)]('inpDate')[_0x3f8ab5(0x1e6)],_0x4330b0=document['getElementById'](_0x3f8ab5(0x1c6))['value'],_0x3a69d4=document[_0x3f8ab5(0xa6)](_0x3f8ab5(0x1c5))[_0x3f8ab5(0x1e6)],_0x3d22b5=document['getElementById'](_0x3f8ab5(0xc7))['value'],_0x2a851f=document['getElementById'](_0x3f8ab5(0x199))[_0x3f8ab5(0x142)];let _0x262fb6=0x4;if(_0x2a851f){const _0x300238=parseInt(document[_0x3f8ab5(0xa6)]('inpSeriesCount')[_0x3f8ab5(0x1e6)]);if(!_0x300238||_0x300238<0x2){showToast(_0x3f8ab5(0x188),![]);return;}if(_0x300238>0x64){showToast(_0x3f8ab5(0x124),![]);return;}_0x262fb6=_0x300238;}const _0x3dda0d=clients[_0x3f8ab5(0x16a)](_0x56794c=>_0x56794c[_0x3f8ab5(0x1bd)]===_0x29e715);if(!_0x3dda0d){showToast(_0x3f8ab5(0x107),![]);return;}const _0x2ae7a9=validateAppointment(_0x33d81b,_0x4330b0,_0x3a69d4,editingId,_0x3dda0d['id']);if(!_0x2ae7a9['valid']){showToast(_0x2ae7a9[_0x3f8ab5(0x1a7)],![]);return;}_0x2ae7a9[_0x3f8ab5(0xe7)]&&showToast(_0x2ae7a9[_0x3f8ab5(0xe7)],![]);const _0x27d71f={'client':_0x29e715,'clientId':_0x3dda0d['id'],'start':_0x4330b0,'end':_0x3a69d4,'note':_0x3d22b5,'status':'planned'},_0xca815e=editingId?sessions[_0x3f8ab5(0x16a)](_0x436316=>_0x436316['id']===editingId):null;if(_0xca815e&&_0xca815e[_0x3f8ab5(0x132)]){tempSessionData={..._0x27d71f,'dateStr':_0x33d81b,'id':editingId,'seriesId':_0xca815e[_0x3f8ab5(0x132)]},openActionSheet(_0x3f8ab5(0x10b));return;}let _0xc8c4c0=null;if(!editingId)_0xc8c4c0=_0x3f8ab5(0x9b);else{if(_0xca815e){if(String(_0xca815e[_0x3f8ab5(0x9c)])!==String(_0x3dda0d['id']))console[_0x3f8ab5(0x94)](_0x3f8ab5(0xa2)),NotificationManager['send'](_0x3f8ab5(0x189),_0xca815e),_0xc8c4c0=_0x3f8ab5(0x9b);else(_0xca815e['start']!==_0x4330b0||_0xca815e[_0x3f8ab5(0x1a3)]!==_0x3a69d4||_0xca815e[_0x3f8ab5(0x1d4)]!==_0x33d81b)&&(_0xc8c4c0=_0x3f8ab5(0x136));}}if(!editingId&&_0x2a851f){createBatchSeries(_0x27d71f,_0x33d81b,_0x262fb6),NotificationManager[_0x3f8ab5(0x115)](_0x3f8ab5(0x9b),{..._0x27d71f,'dateStr':_0x33d81b});return;}lastUserActionTime=Date[_0x3f8ab5(0xa0)]();const _0x290c84={..._0x27d71f,'dateStr':_0x33d81b,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x290c84),_0xc8c4c0&&NotificationManager[_0x3f8ab5(0x115)](_0xc8c4c0,_0x290c84);}function toggleSessionStatus(){const _0x1c2561=a2_0x55d481;lastUserActionTime=Date[_0x1c2561(0xa0)]();const _0x4a20d8=sessions['find'](_0x2f2561=>_0x2f2561['id']===editingId);if(!_0x4a20d8)return;const _0x1f4716=_0x4a20d8['status']===_0x1c2561(0x116)?_0x1c2561(0x148):'completed';_0x4a20d8[_0x1c2561(0x1ff)]=_0x1f4716,saveSingleSession(_0x4a20d8),_0x1f4716==='completed'&&NotificationManager[_0x1c2561(0x115)]('complete',_0x4a20d8),showToast(_0x1f4716===_0x1c2561(0x116)?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x1c2561(0x193),!![]);}function validateAppointment(_0x18a914,_0x17727d,_0x29677f,_0x58113d,_0x370aa5){const _0x3227d7=a2_0x55d481,[_0x3a6b45,_0x32f454]=_0x17727d['split'](':')[_0x3227d7(0x15b)](Number),[_0x3d1e7b,_0x322aaf]=_0x29677f[_0x3227d7(0x1b9)](':')['map'](Number),_0x2e51b6=_0x3a6b45*0x3c+_0x32f454,_0x1a15a5=_0x3d1e7b*0x3c+_0x322aaf,_0x131628=String(_0x370aa5);let _0x2d542f=![],_0x512c32='';for(let _0x2c94df of sessions){if(_0x2c94df[_0x3227d7(0x1d4)]!==_0x18a914)continue;if(_0x2c94df['status']===_0x3227d7(0xf6))continue;if(_0x58113d&&String(_0x2c94df['id'])===String(_0x58113d))continue;const [_0x388718,_0xd2902a]=_0x2c94df[_0x3227d7(0x128)][_0x3227d7(0x1b9)](':')['map'](Number),[_0x495ca8,_0x232d76]=_0x2c94df[_0x3227d7(0x1a3)][_0x3227d7(0x1b9)](':')[_0x3227d7(0x15b)](Number),_0x146b0e=_0x388718*0x3c+_0xd2902a,_0x4ffd42=_0x495ca8*0x3c+_0x232d76;if(Math[_0x3227d7(0x15a)](_0x2e51b6,_0x146b0e)<Math[_0x3227d7(0xd6)](_0x1a15a5,_0x4ffd42)){if(_0x2c94df['clientId']&&String(_0x2c94df[_0x3227d7(0x9c)])===_0x131628)return{'valid':![],'msg':_0x3227d7(0x123)+_0x2c94df[_0x3227d7(0x7e)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x2d542f=!![],_0x512c32=_0x2c94df[_0x3227d7(0x7e)];}}if(_0x2d542f)return{'valid':!![],'warning':_0x3227d7(0xe2)+_0x512c32};return{'valid':!![]};}function saveSingleSession(_0x3b333b){const _0x425512=a2_0x55d481;if(editingId){const _0x514d02=sessions[_0x425512(0x13c)](_0x3afe41=>_0x3afe41['id']===editingId);if(_0x514d02!==-0x1)sessions[_0x514d02]=_0x3b333b;}else sessions[_0x425512(0x1db)](_0x3b333b);afterSaveAction([_0x3b333b['dateStr']]);}function createBatchSeries(_0x33fd56,_0x3504eb,_0x3ac5b8){const _0x58d0bf=a2_0x55d481,_0x763744=generateId(),_0x412e72=[],_0x19b07d=[];let _0x45030e=0x0,_0x3d71ca=new Date(_0x3504eb);for(let _0x3c3a53=0x0;_0x3c3a53<_0x3ac5b8;_0x3c3a53++){const _0x3942f5=getLocalDateStr(_0x3d71ca),_0x328d52=validateAppointment(_0x3942f5,_0x33fd56['start'],_0x33fd56['end'],null,_0x33fd56['clientId']);if(!_0x328d52['valid'])console[_0x58d0bf(0x94)]('[Series]\x20Skipped\x20'+_0x3942f5+_0x58d0bf(0x135)),_0x45030e++;else{const _0x376083={..._0x33fd56,'id':generateId(),'dateStr':_0x3942f5,'seriesId':_0x763744};_0x19b07d['push'](_0x376083),_0x412e72[_0x58d0bf(0x1db)](_0x3942f5);}_0x3d71ca[_0x58d0bf(0xe4)](_0x3d71ca['getDate']()+0x7);}if(_0x19b07d['length']===0x0){showToast(_0x58d0bf(0x80),![]);return;}sessions[_0x58d0bf(0x1db)](..._0x19b07d),lastUserActionTime=Date['now']();let _0x5ee44d=_0x58d0bf(0xfb)+_0x19b07d[_0x58d0bf(0x108)];_0x45030e>0x0&&(_0x5ee44d+=_0x58d0bf(0x1e9)+_0x45030e+')'),showToast(_0x5ee44d,!![]),afterSaveAction(_0x412e72);}function updateSeriesBatch(_0x88707d,_0x434a37){const _0x211d62=a2_0x55d481,_0x4f6a94=[],_0x2ded6e=_0x434a37['seriesId'];if(_0x88707d===_0x211d62(0x9a)){const _0xa1ebbe={..._0x434a37,'seriesId':null},_0x32b66f=sessions['findIndex'](_0x2d5e4c=>_0x2d5e4c['id']===_0x434a37['id']);if(_0x32b66f!==-0x1)sessions[_0x32b66f]=_0xa1ebbe;_0x4f6a94[_0x211d62(0x1db)](_0xa1ebbe[_0x211d62(0x1d4)]);}else{if(_0x88707d===_0x211d62(0x7c)){const _0x219be6=_0x434a37[_0x211d62(0x1d4)];sessions[_0x211d62(0x158)]((_0x1f664e,_0x37dd49)=>{const _0x413cfa=_0x211d62;_0x1f664e[_0x413cfa(0x132)]===_0x2ded6e&&_0x1f664e['dateStr']>=_0x219be6&&(sessions[_0x37dd49]={...sessions[_0x37dd49],'start':_0x434a37['start'],'end':_0x434a37['end'],'note':_0x434a37[_0x413cfa(0x1c2)],'client':_0x434a37[_0x413cfa(0x7e)],'clientId':_0x434a37['clientId']},_0x4f6a94[_0x413cfa(0x1db)](_0x1f664e[_0x413cfa(0x1d4)]));});}}afterSaveAction(_0x4f6a94);}function tryDeleteSession(){const _0x3d541a=a2_0x55d481,_0x25a358=sessions[_0x3d541a(0x16a)](_0x19d6ab=>_0x19d6ab['id']===editingId);if(!_0x25a358)return;_0x25a358[_0x3d541a(0x132)]?openActionSheet(_0x3d541a(0xce)):commitDelete(_0x3d541a(0x9a),_0x25a358);}function commitDelete(_0x44abc5,_0xf71e14){const _0x2be6c8=a2_0x55d481;lastUserActionTime=Date[_0x2be6c8(0xa0)](),NotificationManager[_0x2be6c8(0x115)](_0x2be6c8(0x189),_0xf71e14);const _0x4a111f=[];if(_0x44abc5===_0x2be6c8(0x9a))sessions=sessions[_0x2be6c8(0x11e)](_0x3d9647=>_0x3d9647['id']!==_0xf71e14['id']),_0x4a111f[_0x2be6c8(0x1db)](_0xf71e14[_0x2be6c8(0x1d4)]);else{if(_0x44abc5===_0x2be6c8(0x7c)){const _0x1a80fa=_0xf71e14['dateStr'],_0x307bcb=_0xf71e14['seriesId'];sessions['forEach'](_0x53e13e=>{const _0x16eb1e=_0x2be6c8;_0x53e13e[_0x16eb1e(0x132)]===_0x307bcb&&_0x53e13e[_0x16eb1e(0x1d4)]>=_0x1a80fa&&_0x4a111f['push'](_0x53e13e[_0x16eb1e(0x1d4)]);}),sessions=sessions[_0x2be6c8(0x11e)](_0x3de0bd=>!(_0x3de0bd[_0x2be6c8(0x132)]===_0x307bcb&&_0x3de0bd[_0x2be6c8(0x1d4)]>=_0x1a80fa));}}afterSaveAction(_0x4a111f);}function afterSaveAction(_0x35f088){const _0x3a649a=a2_0x55d481;DataManager[_0x3a649a(0x1d1)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x3a649a(0x1cd)](_0x35f088)['then'](()=>console[_0x3a649a(0x94)]('Batch\x20Sync\x20OK'))[_0x3a649a(0x88)](_0x567c3d=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2d4ba0){const _0x59ef0a=a2_0x55d481,_0x585dec=new Date(_0x2d4ba0),_0x14f717={'weekday':'long','day':_0x59ef0a(0x1a2),'month':_0x59ef0a(0xa3)};let _0x51811d=_0x585dec[_0x59ef0a(0x1e0)]('ru-RU',_0x14f717);return _0x51811d[_0x59ef0a(0x99)](0x0)[_0x59ef0a(0x182)]()+_0x51811d['slice'](0x1);},'getText'(_0x556df3,_0x986055){const _0x5d3dd2=a2_0x55d481,_0x18be66=this['formatDate'](_0x986055[_0x5d3dd2(0x1d4)]);switch(_0x556df3){case _0x5d3dd2(0x9b):return _0x5d3dd2(0x143)+(_0x5d3dd2(0x10a)+_0x18be66+'\x0a')+(_0x5d3dd2(0x8f)+_0x986055[_0x5d3dd2(0x128)]+'\x20‚Äî\x20'+_0x986055['end']+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x5d3dd2(0x136):return _0x5d3dd2(0xbf)+_0x5d3dd2(0xc3)+(_0x5d3dd2(0xbe)+_0x986055['start']+_0x5d3dd2(0x180)+_0x986055[_0x5d3dd2(0x1a3)]+'</b>\x0a\x0a')+(_0x5d3dd2(0x10a)+_0x18be66);case _0x5d3dd2(0x189):return _0x5d3dd2(0xf5)+(_0x5d3dd2(0xa4)+_0x18be66+'\x20('+_0x986055['start']+_0x5d3dd2(0x175));case'complete':return _0x5d3dd2(0xa8)+_0x5d3dd2(0xc9)+_0x5d3dd2(0x100);default:return'';}},async 'send'(_0x14319b,_0x1d56e0){const _0x323a24=a2_0x55d481;console[_0x323a24(0x94)](_0x323a24(0xe8),_0x14319b,_0x1d56e0);if(!_0x1d56e0){console[_0x323a24(0x178)](_0x323a24(0xcd));return;}const _0x46c423=String(_0x1d56e0[_0x323a24(0x9c)]);console[_0x323a24(0x94)](_0x323a24(0x7d),_0x46c423);if(!_0x1d56e0[_0x323a24(0x9c)]||_0x46c423===_0x323a24(0x81)||_0x46c423==='null'){console[_0x323a24(0x178)]('[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!');if(_0x1d56e0[_0x323a24(0x7e)]){const _0x49e25a=clients[_0x323a24(0x16a)](_0x429114=>_0x429114[_0x323a24(0x1bd)]===_0x1d56e0[_0x323a24(0x7e)]);if(_0x49e25a)return console[_0x323a24(0x94)](_0x323a24(0xd0),_0x49e25a['id']),this['send'](_0x14319b,{..._0x1d56e0,'clientId':_0x49e25a['id']});}return;}if(_0x46c423['length']<0x5){console['warn'](_0x323a24(0x122),_0x46c423);return;}const _0x5502da=this['getText'](_0x14319b,_0x1d56e0);if(!_0x5502da){console['error'](_0x323a24(0x102));return;}console[_0x323a24(0x94)](_0x323a24(0x171)+_0x46c423+_0x323a24(0x15c)),DataManager[_0x323a24(0x103)](_0x323a24(0x14d),{'chatId':_0x46c423,'text':_0x5502da})[_0x323a24(0xed)](_0x404f58=>console[_0x323a24(0x94)]('[Notify]\x20Server\x20Response:',_0x404f58))[_0x323a24(0x88)](_0x2fda0f=>console[_0x323a24(0x178)](_0x323a24(0x85),_0x2fda0f));}};function getLocalDateStr(_0x3fe26a){const _0x9a8727=a2_0x55d481,_0x2d1671=_0x3fe26a['getFullYear'](),_0x70b427=String(_0x3fe26a[_0x9a8727(0x12f)]()+0x1)[_0x9a8727(0x157)](0x2,'0'),_0x5e91ce=String(_0x3fe26a[_0x9a8727(0x1c1)]())['padStart'](0x2,'0');return _0x2d1671+'-'+_0x70b427+'-'+_0x5e91ce;}function getDateStr(_0x41afbc){const _0x3f8d03=a2_0x55d481,_0x4ed3d6=new Date();return _0x4ed3d6[_0x3f8d03(0xe4)](_0x4ed3d6[_0x3f8d03(0x1c1)]()+_0x41afbc),getLocalDateStr(_0x4ed3d6);}function getStartOfWeek(_0x5590f1){const _0x8ba178=a2_0x55d481,_0x579910=(function(){let _0x53774=!![];return function(_0x3f0b85,_0xd9f854){const _0x3c25e0=_0x53774?function(){const _0x30b954=a2_0x41a1;if(_0xd9f854){const _0x4abf26=_0xd9f854[_0x30b954(0x1ec)](_0x3f0b85,arguments);return _0xd9f854=null,_0x4abf26;}}:function(){};return _0x53774=![],_0x3c25e0;};}()),_0x2e4a14=_0x579910(this,function(){const _0x3669d6=a2_0x41a1;return _0x2e4a14['toString']()[_0x3669d6(0x120)](_0x3669d6(0x1f3))[_0x3669d6(0xe0)]()['constructor'](_0x2e4a14)[_0x3669d6(0x120)](_0x3669d6(0x1f3));});_0x2e4a14();const _0xf0b794=new Date(_0x5590f1),_0x335044=_0xf0b794[_0x8ba178(0x1d0)](),_0x293d03=_0xf0b794[_0x8ba178(0x1c1)]()-_0x335044+(_0x335044===0x0?-0x6:0x1);return _0xf0b794[_0x8ba178(0xe4)](_0x293d03),_0xf0b794[_0x8ba178(0x17d)](0x0,0x0,0x0,0x0),_0xf0b794;}function hexToRgba(_0x4b9a49,_0x13ee57){const _0x2a2ebc=a2_0x55d481;if(!_0x4b9a49)return _0x2a2ebc(0xea);let _0x3da8d2=0x0,_0x2e29fa=0x0,_0x1a1773=0x0;if(_0x4b9a49['length']===0x4)_0x3da8d2='0x'+_0x4b9a49[0x1]+_0x4b9a49[0x1],_0x2e29fa='0x'+_0x4b9a49[0x2]+_0x4b9a49[0x2],_0x1a1773='0x'+_0x4b9a49[0x3]+_0x4b9a49[0x3];else _0x4b9a49['length']===0x7&&(_0x3da8d2='0x'+_0x4b9a49[0x1]+_0x4b9a49[0x2],_0x2e29fa='0x'+_0x4b9a49[0x3]+_0x4b9a49[0x4],_0x1a1773='0x'+_0x4b9a49[0x5]+_0x4b9a49[0x6]);return _0x2a2ebc(0x165)+ +_0x3da8d2+',\x20'+ +_0x2e29fa+',\x20'+ +_0x1a1773+',\x20'+_0x13ee57+')';}function renderTimeColumn(){const _0x30a678=a2_0x55d481,_0x5bf8fc=document[_0x30a678(0xa6)](_0x30a678(0x12d)),_0x2bcf54=document[_0x30a678(0xa6)](_0x30a678(0x1fe));_0x5bf8fc[_0x30a678(0x1c4)]='',_0x5bf8fc[_0x30a678(0x19f)](_0x2bcf54);for(let _0x4f0a2a=0x0;_0x4f0a2a<0x18;_0x4f0a2a++){const _0x29e801=document[_0x30a678(0xd2)](_0x30a678(0xc4));_0x29e801[_0x30a678(0x1bf)]=_0x30a678(0x1f0);if(_0x4f0a2a>0x0)_0x29e801['innerHTML']=_0x30a678(0xeb)+String(_0x4f0a2a)[_0x30a678(0x157)](0x2,'0')+':00</span>';_0x5bf8fc['appendChild'](_0x29e801);}}function renderDayRange(_0x141b59,_0x6a6027){const _0x1fd681=a2_0x55d481,_0x1e61f4=document['getElementById'](_0x1fd681(0x141)),_0x28ed98=document[_0x1fd681(0xa6)]('gridColumns'),_0x49ff73=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0xe68530=new Date();_0xe68530[_0x1fd681(0x17d)](0x0,0x0,0x0,0x0);const _0x4d7207=getLocalDateStr(new Date());for(let _0x18f8d4=_0x141b59;_0x18f8d4<=_0x6a6027;_0x18f8d4++){const _0x4cb88f=new Date(_0xe68530);_0x4cb88f[_0x1fd681(0xe4)](_0x4cb88f[_0x1fd681(0x1c1)]()+_0x18f8d4);const _0x393850=getLocalDateStr(_0x4cb88f);let _0xb4f08e=_0x4cb88f[_0x1fd681(0x1d0)]()-0x1;if(_0xb4f08e===-0x1)_0xb4f08e=0x6;const _0x184463=_0x393850===_0x4d7207,_0x54d441=document[_0x1fd681(0xd2)](_0x1fd681(0xc4));_0x54d441[_0x1fd681(0x1bf)]=_0x1fd681(0x111)+(_0x184463?_0x1fd681(0x174):''),_0x54d441['id']=_0x1fd681(0xf8)+_0x393850,_0x54d441[_0x1fd681(0x1b6)](_0x1fd681(0x1d2),_0x393850),_0x54d441[_0x1fd681(0x1c4)]=_0x1fd681(0x1d5)+_0x49ff73[_0xb4f08e]+_0x1fd681(0x1c3)+_0x4cb88f[_0x1fd681(0x1c1)]()+_0x1fd681(0x1ea)+_0x393850+_0x1fd681(0x1c8),_0x54d441[_0x1fd681(0x19a)]=()=>openDayOptions(_0x393850,_0x49ff73[_0xb4f08e]+'\x20'+_0x4cb88f[_0x1fd681(0x1c1)]()),_0x1e61f4[_0x1fd681(0x19f)](_0x54d441);const _0x579021=document[_0x1fd681(0xd2)](_0x1fd681(0xc4));_0x579021[_0x1fd681(0x1bf)]=_0x1fd681(0x93)+(_0x184463?'today':''),_0x579021[_0x1fd681(0x1b6)](_0x1fd681(0x1d2),_0x393850),_0x579021[_0x1fd681(0x1b6)](_0x1fd681(0x17a),_0xb4f08e),renderEventsForColumn(_0x579021,_0x393850,_0xb4f08e),attachLongPressHandler(_0x579021,_0x4cb88f),_0x28ed98[_0x1fd681(0x19f)](_0x579021),updateDayStats(_0x393850);}}function reRenderBlocks(){const _0xf38f90=a2_0x55d481;document['querySelectorAll'](_0xf38f90(0xfa))[_0xf38f90(0x158)](_0x5aa3a7=>{const _0x2baea8=_0xf38f90;_0x5aa3a7[_0x2baea8(0x198)](_0x2baea8(0x156))[_0x2baea8(0x158)](_0x5ad738=>_0x5ad738[_0x2baea8(0x125)]());const _0x3eb885=_0x5aa3a7['getAttribute'](_0x2baea8(0x1d2)),_0x427466=parseInt(_0x5aa3a7[_0x2baea8(0x173)](_0x2baea8(0x17a))),_0x38e075=Math['round'](_0x5aa3a7['offsetLeft']);(availabilityPattern[_0x427466]||[])[_0x2baea8(0x158)](_0x5f0f2b=>{const _0xd62579=_0x2baea8,_0x2ce793=document[_0xd62579(0xd2)](_0xd62579(0xc4));_0x2ce793[_0xd62579(0x1bf)]=_0xd62579(0x14b);const _0x5567eb=_0x5f0f2b*GRID_H;_0x2ce793[_0xd62579(0xff)][_0xd62579(0x1fd)]=_0x5567eb+'px',_0x2ce793[_0xd62579(0xff)]['backgroundPosition']='-'+_0x38e075+'px\x20-'+_0x5567eb+'px',_0x5aa3a7['appendChild'](_0x2ce793);});if(specialRanges&&specialRanges['length']>0x0){const _0x4a762c=new Date(_0x3eb885+_0x2baea8(0x184))[_0x2baea8(0x160)](),_0x35a920=new Date(_0x3eb885+_0x2baea8(0x183))[_0x2baea8(0x160)]();specialRanges['forEach'](_0x173f18=>{const _0x4678a3=_0x2baea8,_0x47ee34=new Date(_0x173f18['start'])['getTime'](),_0x20d268=new Date(_0x173f18[_0x4678a3(0x1a3)])[_0x4678a3(0x160)](),_0x5cc8e2=Math['max'](_0x4a762c,_0x47ee34),_0x4045f3=Math['min'](_0x35a920,_0x20d268);if(_0x5cc8e2<_0x4045f3){if(_0x5cc8e2<=_0x4a762c&&_0x4045f3>=_0x35a920-0xea60){if(!_0x5aa3a7[_0x4678a3(0x12c)](_0x4678a3(0x1dc))){const _0x5240a5=document['createElement'](_0x4678a3(0xc4));_0x5240a5['className']=_0x4678a3(0x14a),_0x5240a5['style'][_0x4678a3(0x15d)]='-'+_0x38e075+_0x4678a3(0x152),_0x5aa3a7[_0x4678a3(0x19f)](_0x5240a5);}}else{const _0x19090d=(_0x5cc8e2-_0x4a762c)/0x36ee80*GRID_H,_0x293fbf=(_0x4045f3-_0x5cc8e2)/0x36ee80*GRID_H,_0x4d38c0=document[_0x4678a3(0xd2)](_0x4678a3(0xc4));_0x4d38c0[_0x4678a3(0x1bf)]=_0x4678a3(0x83),_0x4d38c0[_0x4678a3(0xff)][_0x4678a3(0x1fd)]=_0x19090d+'px',_0x4d38c0[_0x4678a3(0xff)][_0x4678a3(0x16f)]=_0x293fbf+'px',_0x4d38c0[_0x4678a3(0xff)]['backgroundPosition']='-'+_0x38e075+_0x4678a3(0xcf)+_0x19090d+'px',_0x5aa3a7['appendChild'](_0x4d38c0);}}});}if(dateExceptions[_0x3eb885]===_0x2baea8(0xcc)){if(!_0x5aa3a7[_0x2baea8(0x12c)](_0x2baea8(0x1dc))){const _0x522ad4=document[_0x2baea8(0xd2)](_0x2baea8(0xc4));_0x522ad4[_0x2baea8(0x1bf)]=_0x2baea8(0x14a),_0x522ad4['style']['backgroundPosition']='-'+_0x38e075+_0x2baea8(0x152),_0x5aa3a7[_0x2baea8(0x19f)](_0x522ad4);}}renderEventsForColumn(_0x5aa3a7,_0x3eb885,_0x427466),updateDayStats(_0x3eb885);});}function updateAllDayStats(){const _0x4fe09b=a2_0x55d481;document[_0x4fe09b(0x198)](_0x4fe09b(0x1d3))[_0x4fe09b(0x158)](_0x5266a7=>{const _0x451513=_0x4fe09b;updateDayStats(_0x5266a7[_0x451513(0x173)](_0x451513(0x1d2)));});}function updateDayStats(_0x6efe18){const _0x563fa7=a2_0x55d481,_0x69eef7=document[_0x563fa7(0xa6)](_0x563fa7(0x147)+_0x6efe18);if(!_0x69eef7)return;const _0x4d985c=new Date(_0x6efe18);let _0x26a2e4=_0x4d985c[_0x563fa7(0x1d0)]()-0x1;if(_0x26a2e4===-0x1)_0x26a2e4=0x6;if(dateExceptions[_0x6efe18]===_0x563fa7(0xcc)){_0x69eef7['style'][_0x563fa7(0x11c)]=_0x563fa7(0x137);return;}const _0x30d892=availabilityPattern[_0x26a2e4]||[],_0x494f1c=0x18-_0x30d892[_0x563fa7(0x108)],_0x4f3790=_0x494f1c*0x3c,_0x4d4370=sessions['filter'](_0x14b999=>_0x14b999[_0x563fa7(0x1d4)]===_0x6efe18&&_0x14b999[_0x563fa7(0x1ff)]!==_0x563fa7(0xf6));if(_0x4d4370['length']===0x0){_0x69eef7[_0x563fa7(0xff)][_0x563fa7(0x11c)]=_0x563fa7(0x137);return;}let _0x1ee4f0=_0x4d4370[_0x563fa7(0x15b)](_0x5d8ad2=>{const _0x383612=_0x563fa7,[_0x5be2e6,_0x2d4787]=_0x5d8ad2[_0x383612(0x128)][_0x383612(0x1b9)](':')[_0x383612(0x15b)](Number),[_0x2307eb,_0x43d271]=_0x5d8ad2[_0x383612(0x1a3)]['split'](':')[_0x383612(0x15b)](Number);return[_0x5be2e6*0x3c+_0x2d4787,_0x2307eb*0x3c+_0x43d271];});_0x1ee4f0['sort']((_0x497c16,_0x1cabd7)=>_0x497c16[0x0]-_0x1cabd7[0x0]);let _0x11ec03=[];if(_0x1ee4f0[_0x563fa7(0x108)]>0x0){let _0x370a4f=_0x1ee4f0[0x0];for(let _0x266a7d=0x1;_0x266a7d<_0x1ee4f0[_0x563fa7(0x108)];_0x266a7d++){_0x1ee4f0[_0x266a7d][0x0]<_0x370a4f[0x1]?_0x370a4f[0x1]=Math['max'](_0x370a4f[0x1],_0x1ee4f0[_0x266a7d][0x1]):(_0x11ec03[_0x563fa7(0x1db)](_0x370a4f),_0x370a4f=_0x1ee4f0[_0x266a7d]);}_0x11ec03[_0x563fa7(0x1db)](_0x370a4f);}let _0x594383=0x0;_0x11ec03[_0x563fa7(0x158)](_0x103acb=>_0x594383+=_0x103acb[0x1]-_0x103acb[0x0]),_0x69eef7[_0x563fa7(0xff)][_0x563fa7(0x11c)]=_0x563fa7(0xf9);const _0x4ed5ef=_0x69eef7['querySelector'](_0x563fa7(0x95));if(_0x4f3790===0x0){_0x4ed5ef[_0x563fa7(0xff)][_0x563fa7(0x97)]='100%',_0x4ed5ef[_0x563fa7(0xff)][_0x563fa7(0xdd)]='var(--acc-red)';return;}const _0x1d6620=_0x594383/_0x4f3790*0x64;console[_0x563fa7(0x94)]('['+_0x6efe18+_0x563fa7(0x17f)+_0x494f1c+_0x563fa7(0xb1)+_0x594383+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x1d6620[_0x563fa7(0xf1)](0x1)+'%'),_0x1d6620>0x64?(_0x4ed5ef[_0x563fa7(0xff)][_0x563fa7(0x97)]='100%',_0x4ed5ef['style'][_0x563fa7(0xdd)]=_0x563fa7(0x1cb)):(_0x4ed5ef[_0x563fa7(0xff)][_0x563fa7(0x97)]=_0x1d6620+'%',_0x4ed5ef[_0x563fa7(0xff)]['background']=_0x563fa7(0x1d6));}function renderEventsForColumn(_0x1ae4fd,_0x5c3c1e,_0x27bda8){const _0x42e039=a2_0x55d481,_0x296dbe=sessions[_0x42e039(0x11e)](_0x21471f=>_0x21471f[_0x42e039(0x1d4)]===_0x5c3c1e),_0x16710e=_0x296dbe['map'](_0x546011=>{const _0x39a252=_0x42e039,[_0x3f3fb2,_0x446e7b]=_0x546011['start'][_0x39a252(0x1b9)](':')[_0x39a252(0x15b)](Number),[_0xc5110b,_0xce500]=_0x546011[_0x39a252(0x1a3)][_0x39a252(0x1b9)](':')[_0x39a252(0x15b)](Number);return{'data':_0x546011,'start':_0x3f3fb2*0x3c+_0x446e7b,'end':_0xc5110b*0x3c+_0xce500,'colIndex':0x0};});_0x16710e[_0x42e039(0x1c9)]((_0xee8d72,_0xba34c7)=>{const _0x5b66b9=_0x42e039;if(_0xee8d72['start']!==_0xba34c7[_0x5b66b9(0x128)])return _0xee8d72[_0x5b66b9(0x128)]-_0xba34c7[_0x5b66b9(0x128)];return _0xba34c7[_0x5b66b9(0x1a3)]-_0xba34c7[_0x5b66b9(0x128)]-(_0xee8d72['end']-_0xee8d72[_0x5b66b9(0x128)]);});const _0x2da006=[];_0x16710e[_0x42e039(0x158)](_0x56ab61=>{const _0x4c257e=_0x42e039;let _0x4ebce=![];for(let _0x3c563f=0x0;_0x3c563f<_0x2da006[_0x4c257e(0x108)];_0x3c563f++){const _0x43c3e1=_0x2da006[_0x3c563f],_0x205de5=_0x43c3e1[_0x43c3e1['length']-0x1];if(_0x56ab61[_0x4c257e(0x128)]>=_0x205de5['end']){_0x43c3e1[_0x4c257e(0x1db)](_0x56ab61),_0x56ab61[_0x4c257e(0x9d)]=_0x3c563f,_0x4ebce=!![];break;}}!_0x4ebce&&(_0x2da006['push']([_0x56ab61]),_0x56ab61['colIndex']=_0x2da006[_0x4c257e(0x108)]-0x1);}),_0x16710e[_0x42e039(0x158)](_0x8309f5=>{const _0x1bada1=_0x42e039;let _0x26c6f7=0x0;_0x16710e[_0x1bada1(0x158)](_0x2912bb=>{const _0x319e71=_0x1bada1;if(Math[_0x319e71(0x15a)](_0x8309f5[_0x319e71(0x128)],_0x2912bb[_0x319e71(0x128)])<Math[_0x319e71(0xd6)](_0x8309f5['end'],_0x2912bb[_0x319e71(0x1a3)])){if(_0x2912bb[_0x319e71(0x9d)]>_0x26c6f7)_0x26c6f7=_0x2912bb[_0x319e71(0x9d)];}});const _0x42a651=_0x26c6f7+0x1,_0x329308=0x64/_0x42a651,_0x4090ca=_0x8309f5[_0x1bada1(0x9d)]*_0x329308,_0x5ef93b=createEventEl(_0x8309f5[_0x1bada1(0x19c)]);_0x5ef93b['style'][_0x1bada1(0x97)]=_0x1bada1(0xa9)+_0x329308+_0x1bada1(0x1f4),_0x5ef93b['style'][_0x1bada1(0x1f7)]=_0x1bada1(0xa9)+_0x4090ca+_0x1bada1(0xf2),_0x5ef93b[_0x1bada1(0xff)][_0x1bada1(0xde)]=0xa+_0x8309f5[_0x1bada1(0x9d)],_0x329308<0x55&&_0x5ef93b[_0x1bada1(0xec)][_0x1bada1(0x130)](_0x1bada1(0x18b)),_0x1ae4fd[_0x1bada1(0x19f)](_0x5ef93b);});}function createEventEl(_0x5a530f){const _0x7903a5=a2_0x55d481,[_0x4543de,_0x29c0e1]=_0x5a530f[_0x7903a5(0x128)][_0x7903a5(0x1b9)](':')[_0x7903a5(0x15b)](Number),[_0x405b07,_0x25d2ca]=_0x5a530f['end'][_0x7903a5(0x1b9)](':')[_0x7903a5(0x15b)](Number),_0x42ec95=(_0x4543de*0x3c+_0x29c0e1)/0x3c*GRID_H,_0x408770=(_0x405b07*0x3c+_0x25d2ca-(_0x4543de*0x3c+_0x29c0e1))/0x3c*GRID_H,_0x417490=document[_0x7903a5(0xd2)](_0x7903a5(0xc4)),_0x130960=_0x5a530f['status']===_0x7903a5(0x116)?_0x7903a5(0x149):'';_0x417490[_0x7903a5(0x1bf)]='event-card'+_0x130960,_0x417490['style'][_0x7903a5(0x1fd)]=_0x42ec95+'px',_0x417490[_0x7903a5(0xff)]['height']=Math[_0x7903a5(0x15a)](_0x408770,0x14)+'px';const _0xe95d02=clients[_0x7903a5(0x16a)](_0x4eddde=>_0x5a530f[_0x7903a5(0x9c)]&&String(_0x4eddde['id'])===String(_0x5a530f[_0x7903a5(0x9c)])||_0x4eddde[_0x7903a5(0x1bd)]===_0x5a530f[_0x7903a5(0x7e)]),_0x2d57f6=_0xe95d02?_0xe95d02[_0x7903a5(0x162)]:_0x7903a5(0x17c);_0x417490[_0x7903a5(0xff)][_0x7903a5(0x11f)]=_0x2d57f6,_0x417490[_0x7903a5(0xff)]['backgroundColor']=hexToRgba(_0x2d57f6,0.85);let _0x3682f5=_0x7903a5(0x163)+_0x5a530f['client']+_0x7903a5(0x196)+_0x5a530f[_0x7903a5(0x128)]+_0x7903a5(0x144)+_0x5a530f[_0x7903a5(0x1a3)]+'</div>';return _0x5a530f[_0x7903a5(0x132)]&&(_0x3682f5+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x5a530f[_0x7903a5(0x1ff)]===_0x7903a5(0x116)&&(_0x3682f5+=_0x7903a5(0x1b7)),_0x417490[_0x7903a5(0x1c4)]=_0x3682f5,_0x417490[_0x7903a5(0x19a)]=_0x4e542d=>{const _0x351799=_0x7903a5;_0x4e542d[_0x351799(0x12e)](),openEdit(_0x5a530f);},_0x417490;}function attachLongPressHandler(_0x44fb28,_0x15c8d5){const _0x4a2f45=a2_0x55d481;let _0x28b240=0x0,_0x400340=null;const _0x3f2cb2=_0x4d7fcb=>{const _0x23d882=a2_0x41a1;if(_0x4d7fcb[_0x23d882(0xb7)][_0x23d882(0x1b0)](_0x23d882(0x1da)))return;isScrolling=![],_0x28b240=_0x4d7fcb[_0x23d882(0xfd)]?_0x4d7fcb[_0x23d882(0xfd)][0x0][_0x23d882(0xe6)]:_0x4d7fcb[_0x23d882(0xe6)],_0x400340=setTimeout(()=>{const _0x4b713c=_0x23d882;if(!isScrolling){navigator[_0x4b713c(0x150)]?.(0x32);const _0x50c689=_0x44fb28[_0x4b713c(0xb4)](),_0x2d5488=Math[_0x4b713c(0xae)]((_0x28b240-_0x50c689[_0x4b713c(0x1fd)])/GRID_H);_0x15c8d5[_0x4b713c(0x17d)](_0x2d5488,0x0),openAddSession(_0x15c8d5);}},0x1f4);},_0xf62022=()=>{isScrolling=!![],clearTimeout(_0x400340);},_0x182b05=()=>{clearTimeout(_0x400340);};_0x44fb28[_0x4a2f45(0x140)](_0x4a2f45(0x185),_0x3f2cb2,{'passive':!![]}),_0x44fb28[_0x4a2f45(0x140)]('touchmove',_0xf62022,{'passive':!![]}),_0x44fb28[_0x4a2f45(0x140)]('touchend',_0x182b05),_0x44fb28['addEventListener'](_0x4a2f45(0xd9),_0x3f2cb2),_0x44fb28[_0x4a2f45(0x140)](_0x4a2f45(0x187),_0xf62022),_0x44fb28[_0x4a2f45(0x140)]('mouseup',_0x182b05);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x54a51b=a2_0x55d481,_0x5a0e28=document[_0x54a51b(0xa6)](_0x54a51b(0xd5)),_0x394468=_0x5a0e28[_0x54a51b(0x1c0)],_0x9b22ab=_0x5a0e28[_0x54a51b(0xc5)],_0x3d9916=_0x5a0e28[_0x54a51b(0x109)];if(_0x9b22ab-(_0x394468+_0x3d9916)<0x12c){const _0x5c8007=endOffset;endOffset+=0xe,renderDayRange(_0x5c8007+0x1,endOffset),reRenderBlocks();}if(_0x394468<0x12c){const _0x4a7a42=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4a7a42-0x1),_0x5a0e28[_0x54a51b(0x1c0)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x42afba,_0x4f8b71){const _0x308d57=a2_0x55d481,_0x50ff96=document['getElementById']('daysHeaderTrack'),_0x16c714=document[_0x308d57(0xa6)](_0x308d57(0x10c)),_0x23ec78=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x5ad98c=new Date();_0x5ad98c['setHours'](0x0,0x0,0x0,0x0);const _0x311c77=getLocalDateStr(new Date()),_0x13b986=document[_0x308d57(0x14f)](),_0x1b311a=document[_0x308d57(0x14f)]();for(let _0x364cd1=_0x42afba;_0x364cd1<=_0x4f8b71;_0x364cd1++){const _0x44a6c6=new Date(_0x5ad98c);_0x44a6c6[_0x308d57(0xe4)](_0x44a6c6[_0x308d57(0x1c1)]()+_0x364cd1);const _0xf7e4b9=getLocalDateStr(_0x44a6c6);let _0x4e42ef=_0x44a6c6['getDay']()-0x1;if(_0x4e42ef===-0x1)_0x4e42ef=0x6;const _0x285fbe=_0xf7e4b9===_0x311c77,_0xed51b0=document[_0x308d57(0xd2)]('div');_0xed51b0[_0x308d57(0x1bf)]=_0x308d57(0x111)+(_0x285fbe?_0x308d57(0x174):''),_0xed51b0['id']=_0x308d57(0xf8)+_0xf7e4b9,_0xed51b0['setAttribute']('data-date',_0xf7e4b9),_0xed51b0['innerHTML']=_0x308d57(0x1d5)+_0x23ec78[_0x4e42ef]+'</div><div\x20class=\x22dch-num\x22>'+_0x44a6c6[_0x308d57(0x1c1)]()+_0x308d57(0x1ea)+_0xf7e4b9+_0x308d57(0x1c8),_0xed51b0[_0x308d57(0x19a)]=()=>openDayOptions(_0xf7e4b9,_0x23ec78[_0x4e42ef]+'\x20'+_0x44a6c6['getDate']()),_0x13b986[_0x308d57(0x19f)](_0xed51b0);const _0x4eea32=document['createElement']('div');_0x4eea32[_0x308d57(0x1bf)]=_0x308d57(0x93)+(_0x285fbe?_0x308d57(0x174):''),_0x4eea32['setAttribute'](_0x308d57(0x1d2),_0xf7e4b9),_0x4eea32[_0x308d57(0x1b6)](_0x308d57(0x17a),_0x4e42ef),renderEventsForColumn(_0x4eea32,_0xf7e4b9,_0x4e42ef),attachLongPressHandler(_0x4eea32,_0x44a6c6),_0x1b311a[_0x308d57(0x19f)](_0x4eea32),updateDayStats(_0xf7e4b9);}_0x50ff96['insertBefore'](_0x13b986,_0x50ff96[_0x308d57(0x139)]),_0x16c714['insertBefore'](_0x1b311a,_0x16c714[_0x308d57(0x12c)](_0x308d57(0x164)));}function validateAppointment(_0x277adf,_0x4ec55c,_0x4ad534,_0x626f78,_0x25d23a){const _0x5bd2c9=a2_0x55d481,[_0x5aa5e6,_0x1de2e1]=_0x4ec55c[_0x5bd2c9(0x1b9)](':')[_0x5bd2c9(0x15b)](Number),[_0x36912f,_0x5c89ce]=_0x4ad534[_0x5bd2c9(0x1b9)](':')['map'](Number),_0xba0bc1=_0x5aa5e6*0x3c+_0x1de2e1,_0x659e1e=_0x36912f*0x3c+_0x5c89ce,_0x19bde5=String(_0x25d23a);let _0x500021=![],_0x38b4f3='';for(let _0x2658bd of sessions){if(_0x2658bd[_0x5bd2c9(0x1d4)]!==_0x277adf)continue;if(_0x2658bd['status']===_0x5bd2c9(0xf6))continue;if(_0x626f78&&String(_0x2658bd['id'])===String(_0x626f78))continue;const [_0x5f5674,_0x546e28]=_0x2658bd[_0x5bd2c9(0x128)][_0x5bd2c9(0x1b9)](':')[_0x5bd2c9(0x15b)](Number),[_0x775648,_0xaa7144]=_0x2658bd[_0x5bd2c9(0x1a3)]['split'](':')[_0x5bd2c9(0x15b)](Number),_0x5e9b07=_0x5f5674*0x3c+_0x546e28,_0x5b12d0=_0x775648*0x3c+_0xaa7144;if(Math[_0x5bd2c9(0x15a)](_0xba0bc1,_0x5e9b07)<Math['min'](_0x659e1e,_0x5b12d0)){if(_0x2658bd[_0x5bd2c9(0x9c)]&&String(_0x2658bd[_0x5bd2c9(0x9c)])===_0x19bde5)return{'valid':![],'msg':_0x5bd2c9(0x123)+_0x2658bd[_0x5bd2c9(0x7e)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x500021=!![],_0x38b4f3=_0x2658bd[_0x5bd2c9(0x7e)];}}if(_0x500021)return{'valid':!![],'warning':_0x5bd2c9(0xe2)+_0x38b4f3};return{'valid':!![]};}function updateDateDisplay(){const _0x369e78=a2_0x55d481,_0x47f40f=document['getElementById']('inpDate')['value'],_0x146640=document[_0x369e78(0xa6)]('sheetDateSubtitle');if(!_0x47f40f){_0x146640['textContent']='';return;}const [_0x53eafa,_0x1be699,_0xb2b43e]=_0x47f40f['split']('-')[_0x369e78(0x15b)](Number),_0x17cd08=new Date(_0x53eafa,_0x1be699-0x1,_0xb2b43e),_0x45f81a={'weekday':'long','day':_0x369e78(0x1a2),'month':_0x369e78(0xa3),'year':_0x369e78(0x1a2)};let _0x474f8e=_0x17cd08[_0x369e78(0x1e0)](_0x369e78(0x1ee),_0x45f81a);_0x474f8e=_0x474f8e[_0x369e78(0x99)](0x0)['toUpperCase']()+_0x474f8e[_0x369e78(0x1ed)](0x1),_0x146640[_0x369e78(0x186)]=_0x474f8e;}function autoSetEndTime(){const _0x1ed6b0=a2_0x55d481,_0x26ea05=document[_0x1ed6b0(0xa6)](_0x1ed6b0(0x1c6))['value'];if(!_0x26ea05)return;const [_0x57f0c6,_0x4045ac]=_0x26ea05[_0x1ed6b0(0x1b9)](':')[_0x1ed6b0(0x15b)](Number);let _0x192938=_0x57f0c6+0x1;if(_0x192938>0x17)_0x192938=0x0;const _0x4c437e=String(_0x192938)['padStart'](0x2,'0')+':'+String(_0x4045ac)[_0x1ed6b0(0x157)](0x2,'0');document[_0x1ed6b0(0xa6)](_0x1ed6b0(0x1c5))[_0x1ed6b0(0x1e6)]=_0x4c437e;}function populateClientSelect(){const _0x38a159=a2_0x55d481,_0xab5445=document[_0x38a159(0xa6)](_0x38a159(0xdf));_0xab5445[_0x38a159(0x1c4)]='';if(clients[_0x38a159(0x108)]===0x0){const _0x557110=document[_0x38a159(0xd2)](_0x38a159(0xaf));_0x557110['text']=_0x38a159(0x12b),_0xab5445['appendChild'](_0x557110);return;}clients['forEach'](_0x3522dd=>{const _0x417a4f=_0x38a159,_0x4a406d=document[_0x417a4f(0xd2)]('option');_0x4a406d[_0x417a4f(0x1e6)]=_0x3522dd['name'],_0x4a406d[_0x417a4f(0x186)]=_0x3522dd[_0x417a4f(0x1bd)],_0xab5445['appendChild'](_0x4a406d);});}function openActionSheet(_0x5a69b1){const _0x53c58c=a2_0x55d481,_0x50a27d=document[_0x53c58c(0xa6)]('actionSheet'),_0x230f95=document['getElementById'](_0x53c58c(0x1e5)),_0x660d7d=document[_0x53c58c(0xa6)](_0x53c58c(0x19b)),_0x3716cb=document['getElementById'](_0x53c58c(0xd3)),_0x4dbd37=document[_0x53c58c(0xa6)](_0x53c58c(0x1d9));_0x230f95[_0x53c58c(0xec)]['add']('active'),_0x50a27d[_0x53c58c(0xec)][_0x53c58c(0x130)]('open');if(_0x5a69b1===_0x53c58c(0x10b))_0x660d7d[_0x53c58c(0x186)]=_0x53c58c(0xe5),_0x3716cb[_0x53c58c(0x186)]=_0x53c58c(0x18e),_0x3716cb['onclick']=()=>{const _0x2eefe4=_0x53c58c;closeActionSheet(),updateSeriesBatch(_0x2eefe4(0x9a),tempSessionData);},_0x4dbd37[_0x53c58c(0x186)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x4dbd37[_0x53c58c(0x19a)]=()=>{closeActionSheet(),updateSeriesBatch('series',tempSessionData);};else _0x5a69b1===_0x53c58c(0xce)&&(_0x660d7d['textContent']=_0x53c58c(0x1d7),_0x3716cb[_0x53c58c(0x186)]='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3716cb[_0x53c58c(0x1bf)]='as-button\x20danger',_0x3716cb[_0x53c58c(0x19a)]=()=>{const _0x458963=_0x53c58c;closeActionSheet(),commitDelete(_0x458963(0x9a),sessions[_0x458963(0x16a)](_0x590c05=>_0x590c05['id']===editingId));},_0x4dbd37['textContent']=_0x53c58c(0x170),_0x4dbd37['className']=_0x53c58c(0x87),_0x4dbd37['onclick']=()=>{const _0x28c753=_0x53c58c;closeActionSheet(),commitDelete('series',sessions[_0x28c753(0x16a)](_0x39033c=>_0x39033c['id']===editingId));});}function closeActionSheet(){const _0x2848fc=a2_0x55d481;document['getElementById'](_0x2848fc(0x194))[_0x2848fc(0xec)][_0x2848fc(0x125)]('open'),document[_0x2848fc(0xa6)]('actionSheetOverlay')[_0x2848fc(0xec)][_0x2848fc(0x125)]('active');}function openSettings(){const _0x41134b=a2_0x55d481;openSheet(_0x41134b(0x1ca));}function saveCoachSettings(){const _0x29edff=a2_0x55d481,_0x4931e7=document[_0x29edff(0xa6)](_0x29edff(0x82))['value'];localStorage[_0x29edff(0x13b)](_0x29edff(0x1a8),_0x4931e7),console[_0x29edff(0x94)](_0x29edff(0x197),_0x4931e7),DataManager[_0x29edff(0x103)](_0x29edff(0x1b3),{'settings':{'cancel_window':_0x4931e7}})[_0x29edff(0x88)](_0x585b7c=>{const _0x52f9cf=_0x29edff;console[_0x52f9cf(0x178)](_0x52f9cf(0x17b),_0x585b7c),showToast(_0x52f9cf(0xc1),![]);});}function loadCoachSettings(){const _0x4acc29=a2_0x55d481,_0x205974=localStorage['getItem'](_0x4acc29(0x1a8));_0x205974&&(document[_0x4acc29(0xa6)](_0x4acc29(0x82))[_0x4acc29(0x1e6)]=_0x205974);}function openRangesSheet(){closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet('rangesSheet');}function addRange(){const _0x36b3c5=a2_0x55d481,_0x420ccf=document['getElementById']('rangeStartDate')[_0x36b3c5(0x1e6)],_0x3aca20=document[_0x36b3c5(0xa6)]('rangeStartTime')[_0x36b3c5(0x1e6)],_0x2cc87e=document[_0x36b3c5(0xa6)](_0x36b3c5(0x8e))[_0x36b3c5(0x1e6)],_0x4a61c7=document[_0x36b3c5(0xa6)](_0x36b3c5(0x16c))[_0x36b3c5(0x1e6)];if(!_0x420ccf||!_0x3aca20||!_0x2cc87e||!_0x4a61c7)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x39fb87=_0x420ccf+'T'+_0x3aca20,_0x44fdb7=_0x2cc87e+'T'+_0x4a61c7;if(_0x39fb87>=_0x44fdb7)return alert(_0x36b3c5(0x1f2));specialRanges[_0x36b3c5(0x1db)]({'start':_0x39fb87,'end':_0x44fdb7}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x36b3c5(0x1d1)](),DataManager[_0x36b3c5(0x103)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0xfe6a70){const _0x3a555a=a2_0x55d481;specialRanges[_0x3a555a(0x92)](_0xfe6a70,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3a555a(0x1d1)](),DataManager[_0x3a555a(0x103)](_0x3a555a(0x1b3),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x445525=a2_0x55d481;document['getElementById'](_0x445525(0x1ba))[_0x445525(0x1e6)]='',document[_0x445525(0xa6)](_0x445525(0x1ae))['value']=_0x445525(0x155),document['getElementById'](_0x445525(0x8e))[_0x445525(0x1e6)]='',document[_0x445525(0xa6)](_0x445525(0x16c))[_0x445525(0x1e6)]='23:59';}function renderRangesList(){const _0x4d8a7f=a2_0x55d481,_0x184a1c=document['getElementById'](_0x4d8a7f(0x15e));_0x184a1c[_0x4d8a7f(0x1c4)]='';if(!specialRanges[_0x4d8a7f(0x108)]){_0x184a1c['innerHTML']=_0x4d8a7f(0xf0);return;}specialRanges[_0x4d8a7f(0x158)]((_0x475bc4,_0x25f84f)=>{const _0x496d18=_0x4d8a7f,_0xf1c094=document[_0x496d18(0xd2)](_0x496d18(0xc4));_0xf1c094[_0x496d18(0x1bf)]='range-item';const _0x476610=_0x4bdda3=>{const _0x31c53a=_0x496d18,_0x50cfa8=new Date(_0x4bdda3);return _0x50cfa8[_0x31c53a(0x1c1)]()+'.'+String(_0x50cfa8[_0x31c53a(0x12f)]()+0x1)[_0x31c53a(0x157)](0x2,'0')+'\x20'+String(_0x50cfa8['getHours']())[_0x31c53a(0x157)](0x2,'0')+':'+String(_0x50cfa8[_0x31c53a(0x192)]())['padStart'](0x2,'0');};_0xf1c094[_0x496d18(0x1c4)]=_0x496d18(0xfc)+_0x476610(_0x475bc4[_0x496d18(0x128)])+_0x496d18(0x180)+_0x476610(_0x475bc4[_0x496d18(0x1a3)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x25f84f+_0x496d18(0x1e8),_0x184a1c[_0x496d18(0x19f)](_0xf1c094);});}function scrollToToday(){const _0x1ddf6d=a2_0x55d481,_0x58b298=getLocalDateStr(new Date()),_0x4babd7=document['getElementById']('header-'+_0x58b298),_0x367fae=document[_0x1ddf6d(0xa6)]('matrixViewport');if(_0x4babd7&&_0x367fae){const _0x3a7bff=_0x367fae[_0x1ddf6d(0x109)],_0x269a25=_0x4babd7[_0x1ddf6d(0xb2)],_0x34a00e=_0x4babd7[_0x1ddf6d(0xaa)];_0x367fae['scrollLeft']=_0x269a25-_0x3a7bff/0x2+_0x34a00e/0x2,_0x367fae['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x5a5009=a2_0x55d481,_0x39ad7d=document[_0x5a5009(0xa6)]('matrixViewport'),_0x5b0401=document[_0x5a5009(0x198)](_0x5a5009(0x1d3));for(let _0x531435 of _0x5b0401)if(_0x531435[_0x5a5009(0xb2)]>=_0x39ad7d[_0x5a5009(0x1c0)]){const _0x503206=new Date(_0x531435['getAttribute']('data-date'));document[_0x5a5009(0xa6)]('headerMonth')[_0x5a5009(0x186)]=_0x503206[_0x5a5009(0x1d8)]('ru',{'month':'long'})[_0x5a5009(0x182)]()+'\x20'+_0x503206[_0x5a5009(0x11d)]();break;}}function showToast(_0x4412a9,_0x4764de=![]){const _0x41d00d=a2_0x55d481,_0x4104d4=document[_0x41d00d(0xa6)](_0x41d00d(0x1ce));_0x4104d4[_0x41d00d(0x1bf)]=_0x41d00d(0x117)+(_0x4764de?_0x41d00d(0x96):''),document['getElementById'](_0x41d00d(0xc8))[_0x41d00d(0x186)]=_0x4764de?_0x41d00d(0x151):_0x41d00d(0x13e),document[_0x41d00d(0xa6)](_0x41d00d(0x1ab))[_0x41d00d(0x186)]=_0x4412a9,_0x4104d4[_0x41d00d(0xec)]['add'](_0x41d00d(0x10f)),setTimeout(()=>{const _0x7b209e=_0x41d00d;_0x4104d4[_0x7b209e(0xec)][_0x7b209e(0x125)]('show');},0xbb8);}function openDayOptions(_0x5524cb,_0x187b79){const _0x3ef3d7=a2_0x55d481;selectedDayForOptions=_0x5524cb,document[_0x3ef3d7(0xa6)](_0x3ef3d7(0xbd))['textContent']=_0x187b79,openSheet(_0x3ef3d7(0xe1));}function toggleDayOff(){const _0x2c882a=a2_0x55d481;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x2c882a(0x1d1)](),DataManager[_0x2c882a(0x103)](_0x2c882a(0x1b3),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x292600=a2_0x55d481;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x292600(0x1d1)](),DataManager[_0x292600(0x103)](_0x292600(0x1b3),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1f5cfe){const _0x53dc55=a2_0x55d481;document[_0x53dc55(0xa6)](_0x53dc55(0x13d))[_0x53dc55(0xec)][_0x53dc55(0x130)](_0x53dc55(0x114)),document['getElementById'](_0x1f5cfe)[_0x53dc55(0xec)][_0x53dc55(0x130)](_0x53dc55(0x168));}function closeAllSheets(){const _0x402594=a2_0x55d481;document[_0x402594(0xa6)](_0x402594(0x13d))[_0x402594(0xec)][_0x402594(0x125)](_0x402594(0x114)),document['querySelectorAll'](_0x402594(0x1fc))[_0x402594(0x158)](_0x2028c7=>_0x2028c7[_0x402594(0xec)][_0x402594(0x125)](_0x402594(0x168)));}function openPatternEditor(){const _0x450f69=a2_0x55d481;closeAllSheets(),document[_0x450f69(0xa6)](_0x450f69(0x1c7))[_0x450f69(0xec)]['add'](_0x450f69(0x168)),renderPatternEditor();}function closePatternEditor(){const _0xab4c11=a2_0x55d481;document['getElementById'](_0xab4c11(0x1c7))['classList']['remove'](_0xab4c11(0x168));}function savePattern(){const _0x5d029a=a2_0x55d481;document[_0x5d029a(0xa6)]('patternEditor')['classList']['remove'](_0x5d029a(0x168)),reRenderBlocks(),DataManager[_0x5d029a(0x1d1)](),DataManager[_0x5d029a(0x103)](_0x5d029a(0x1b3),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x4aed9d=a2_0x55d481,_0x562125=document[_0x4aed9d(0xa6)](_0x4aed9d(0xb6));_0x562125[_0x4aed9d(0x1c4)]='';const _0x516c00=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x6d9526=document[_0x4aed9d(0xd2)](_0x4aed9d(0xc4));_0x6d9526[_0x4aed9d(0x1bf)]=_0x4aed9d(0x104),_0x562125[_0x4aed9d(0x19f)](_0x6d9526),_0x516c00[_0x4aed9d(0x158)]((_0xcdfe28,_0x18761a)=>{const _0x5eaada=_0x4aed9d,_0xc6618f=document[_0x5eaada(0xd2)]('div');_0xc6618f['className']=_0x5eaada(0x190),_0xc6618f['innerHTML']=_0xcdfe28+_0x5eaada(0xba),_0xc6618f[_0x5eaada(0x19a)]=()=>toggleColPattern(_0x18761a),_0x562125[_0x5eaada(0x19f)](_0xc6618f);});for(let _0x46e8b1=0x0;_0x46e8b1<0x18;_0x46e8b1++){const _0x411f15=document[_0x4aed9d(0xd2)](_0x4aed9d(0xc4));_0x411f15[_0x4aed9d(0x1bf)]='pe-time-label',_0x411f15[_0x4aed9d(0x1c4)]=_0x4aed9d(0x1ef)+String(_0x46e8b1)[_0x4aed9d(0x157)](0x2,'0')+_0x4aed9d(0x1a5),_0x411f15['onclick']=()=>toggleRowPattern(_0x46e8b1),_0x562125['appendChild'](_0x411f15);for(let _0x311f79=0x0;_0x311f79<0x7;_0x311f79++){const _0x5a2650=document[_0x4aed9d(0xd2)](_0x4aed9d(0xc4)),_0x4f0dd7=(availabilityPattern[_0x311f79]||[])[_0x4aed9d(0xd7)](_0x46e8b1),_0x2b6b65=!_0x4f0dd7;_0x5a2650[_0x4aed9d(0x1bf)]=_0x4aed9d(0x1e2)+(_0x2b6b65?_0x4aed9d(0x114):''),_0x5a2650['onclick']=()=>toggleSinglePattern(_0x311f79,_0x46e8b1),_0x562125['appendChild'](_0x5a2650);}}}function toggleSinglePattern(_0x436db3,_0x147d36){const _0x4fca25=a2_0x55d481;if(!availabilityPattern[_0x436db3])availabilityPattern[_0x436db3]=[];const _0x2af5b1=availabilityPattern[_0x436db3],_0x2b7bf4=_0x2af5b1[_0x4fca25(0x110)](_0x147d36);_0x2b7bf4===-0x1?_0x2af5b1[_0x4fca25(0x1db)](_0x147d36):_0x2af5b1[_0x4fca25(0x92)](_0x2b7bf4,0x1),renderPatternEditor();}function toggleColPattern(_0x4967d9){const _0x3cb3f7=a2_0x55d481;if(!availabilityPattern[_0x4967d9])availabilityPattern[_0x4967d9]=[];const _0x19d4d3=availabilityPattern[_0x4967d9];_0x19d4d3[_0x3cb3f7(0x108)]===0x0?availabilityPattern[_0x4967d9]=Array['from']({'length':0x18},(_0xdcefe2,_0x356211)=>_0x356211):availabilityPattern[_0x4967d9]=[],renderPatternEditor();}function toggleRowPattern(_0x3cadda){const _0x259b14=a2_0x55d481;let _0x35320b=!![];for(let _0x3b3122=0x0;_0x3b3122<0x7;_0x3b3122++){if((availabilityPattern[_0x3b3122]||[])[_0x259b14(0xd7)](_0x3cadda)){_0x35320b=![];break;}}for(let _0x18a769=0x0;_0x18a769<0x7;_0x18a769++){if(!availabilityPattern[_0x18a769])availabilityPattern[_0x18a769]=[];const _0x1c3af7=availabilityPattern[_0x18a769][_0x259b14(0x110)](_0x3cadda);if(_0x35320b){if(_0x1c3af7===-0x1)availabilityPattern[_0x18a769][_0x259b14(0x1db)](_0x3cadda);}else{if(_0x1c3af7!==-0x1)availabilityPattern[_0x18a769][_0x259b14(0x92)](_0x1c3af7,0x1);}}renderPatternEditor();}function renderPCol(_0x5d17aa,_0x3a4235){const _0x327252=a2_0x55d481;_0x5d17aa['innerHTML']='';const _0x27fddd=Math[_0x327252(0x172)](_0x5d17aa[_0x327252(0xb2)]);(availabilityPattern[_0x3a4235]||[])[_0x327252(0x158)](_0x304d5f=>{const _0x36c176=_0x327252,_0x315c61=document[_0x36c176(0xd2)](_0x36c176(0xc4));_0x315c61[_0x36c176(0x1bf)]='blocked-slot\x20stripe-bg';const _0x17578f=_0x304d5f*GRID_H;_0x315c61['style'][_0x36c176(0x1fd)]=_0x17578f+'px',_0x315c61[_0x36c176(0xff)][_0x36c176(0x15d)]='-'+_0x27fddd+_0x36c176(0xcf)+_0x17578f+'px',_0x315c61[_0x36c176(0x19a)]=_0x99028b=>{const _0x2f19c9=_0x36c176;_0x99028b[_0x2f19c9(0x12e)](),toggleSinglePattern(_0x3a4235,_0x304d5f);},_0x5d17aa[_0x36c176(0x19f)](_0x315c61);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x59d2e5=a2_0x55d481,_0x2cceed=new Date(),_0x557a07=document['getElementById'](_0x59d2e5(0xee)),_0xccb8e2=document['getElementById'](_0x59d2e5(0x1fe)),_0x35f76b=(_0x2cceed[_0x59d2e5(0xf3)]()*0x3c+_0x2cceed[_0x59d2e5(0x192)]())/0x3c*GRID_H;_0x557a07['style'][_0x59d2e5(0x1fd)]=_0x35f76b+'px',_0x557a07[_0x59d2e5(0xff)][_0x59d2e5(0x11c)]=_0x59d2e5(0x105),_0xccb8e2['textContent']=String(_0x2cceed[_0x59d2e5(0xf3)]())[_0x59d2e5(0x157)](0x2,'0')+':'+String(_0x2cceed['getMinutes']())[_0x59d2e5(0x157)](0x2,'0'),_0xccb8e2[_0x59d2e5(0xff)][_0x59d2e5(0x11c)]=_0x59d2e5(0x105),_0xccb8e2[_0x59d2e5(0xff)][_0x59d2e5(0x1fd)]=_0x35f76b+'px';}document[a2_0x55d481(0x140)](a2_0x55d481(0x1aa),init);function openDayOptions(_0x17252f){const _0x2f3f9d=a2_0x55d481;selectedDayForOptions=_0x17252f;const _0x4cfaf7=new Date(_0x17252f),_0x2cba72={'weekday':'long','day':_0x2f3f9d(0x1a2),'month':'long','year':'numeric'},_0x5ca4cf=_0x4cfaf7['toLocaleDateString'](_0x2f3f9d(0x1ee),_0x2cba72);document['getElementById'](_0x2f3f9d(0xa1))[_0x2f3f9d(0x186)]=_0x5ca4cf[_0x2f3f9d(0x99)](0x0)[_0x2f3f9d(0x182)]()+_0x5ca4cf[_0x2f3f9d(0x1ed)](0x1);let _0x2a56ed=_0x4cfaf7['getDay']()-0x1;if(_0x2a56ed===-0x1)_0x2a56ed=0x6;const _0x1b7fca=availabilityPattern[_0x2a56ed]||[],_0x40a43f=0x18-_0x1b7fca['length'],_0x2c5936=_0x40a43f*0x3c,_0x234ea2=sessions[_0x2f3f9d(0x11e)](_0x4eaa14=>_0x4eaa14[_0x2f3f9d(0x1d4)]===_0x17252f&&_0x4eaa14[_0x2f3f9d(0x1ff)]!==_0x2f3f9d(0xf6));let _0x1a3985=_0x234ea2['map'](_0x5eecc8=>{const _0x28f17a=_0x2f3f9d,[_0x558894,_0x4e761e]=_0x5eecc8[_0x28f17a(0x128)][_0x28f17a(0x1b9)](':')[_0x28f17a(0x15b)](Number),[_0xe20665,_0x5ee22e]=_0x5eecc8[_0x28f17a(0x1a3)]['split'](':')['map'](Number);return[_0x558894*0x3c+_0x4e761e,_0xe20665*0x3c+_0x5ee22e];});_0x1a3985['sort']((_0x54d6a7,_0x38b6e2)=>_0x54d6a7[0x0]-_0x38b6e2[0x0]);let _0x5f0433=[];if(_0x1a3985['length']>0x0){let _0x1f0e0b=_0x1a3985[0x0];for(let _0x19fcf5=0x1;_0x19fcf5<_0x1a3985['length'];_0x19fcf5++){_0x1a3985[_0x19fcf5][0x0]<_0x1f0e0b[0x1]?_0x1f0e0b[0x1]=Math[_0x2f3f9d(0x15a)](_0x1f0e0b[0x1],_0x1a3985[_0x19fcf5][0x1]):(_0x5f0433[_0x2f3f9d(0x1db)](_0x1f0e0b),_0x1f0e0b=_0x1a3985[_0x19fcf5]);}_0x5f0433['push'](_0x1f0e0b);}let _0x3f17ee=0x0;_0x5f0433[_0x2f3f9d(0x158)](_0x2b28a3=>_0x3f17ee+=_0x2b28a3[0x1]-_0x2b28a3[0x0]),document[_0x2f3f9d(0xa6)](_0x2f3f9d(0xb8))[_0x2f3f9d(0x186)]=formatMinsToHrs(_0x2c5936),document[_0x2f3f9d(0xa6)](_0x2f3f9d(0x1bb))[_0x2f3f9d(0x186)]=formatMinsToHrs(_0x3f17ee);const _0x54d8ea=_0x2c5936>0x0?Math[_0x2f3f9d(0x172)](_0x3f17ee/_0x2c5936*0x64):0x0,_0x3002c8=document['getElementById'](_0x2f3f9d(0x126));_0x3002c8[_0x2f3f9d(0x186)]=_0x54d8ea+'%';const _0xd57339=document['getElementById'](_0x2f3f9d(0x15f));if(_0x54d8ea>0x64)_0x3002c8[_0x2f3f9d(0xff)][_0x2f3f9d(0x162)]=_0x2f3f9d(0x1cb),_0xd57339[_0x2f3f9d(0xff)]['borderColor']=_0x2f3f9d(0x1eb);else _0x54d8ea>0x50?(_0x3002c8[_0x2f3f9d(0xff)][_0x2f3f9d(0x162)]=_0x2f3f9d(0xdb),_0xd57339[_0x2f3f9d(0xff)][_0x2f3f9d(0x169)]=_0x2f3f9d(0xf7)):(_0x3002c8[_0x2f3f9d(0xff)][_0x2f3f9d(0x162)]=_0x2f3f9d(0x12a),_0xd57339[_0x2f3f9d(0xff)][_0x2f3f9d(0x169)]=_0x2f3f9d(0x11b));const _0x3cfe72=document[_0x2f3f9d(0xa6)](_0x2f3f9d(0x1e7));_0x3cfe72['innerHTML']='';_0x234ea2[_0x2f3f9d(0x108)]===0x0?_0x3cfe72[_0x2f3f9d(0x1c4)]='<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>':(_0x234ea2[_0x2f3f9d(0x1c9)]((_0x53d854,_0x17e7be)=>_0x53d854[_0x2f3f9d(0x128)][_0x2f3f9d(0xdc)](_0x17e7be['start'])),_0x234ea2[_0x2f3f9d(0x158)](_0xbec706=>{const _0x26e52b=_0x2f3f9d,_0x3971be=clients[_0x26e52b(0x16a)](_0x76849a=>_0x76849a[_0x26e52b(0x1bd)]===_0xbec706[_0x26e52b(0x7e)]),_0x490b5d=_0x3971be?_0x3971be[_0x26e52b(0x162)]:_0x26e52b(0x7f),_0x2e885f=_0xbec706['status']===_0x26e52b(0x116),_0x5637b5=_0x2e885f?_0x26e52b(0x195):'',_0x3d4004=document[_0x26e52b(0xd2)](_0x26e52b(0xc4));_0x3d4004[_0x26e52b(0x1bf)]=_0x26e52b(0x1df),_0x3d4004['style'][_0x26e52b(0x11f)]=_0x490b5d,_0x3d4004[_0x26e52b(0x1c4)]=_0x26e52b(0x118)+_0xbec706[_0x26e52b(0x128)]+_0x26e52b(0x144)+_0xbec706['end']+_0x26e52b(0x181)+_0xbec706['client']+_0x26e52b(0x1fb)+_0x5637b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3cfe72[_0x26e52b(0x19f)](_0x3d4004);}));const _0x8ea999=document[_0x2f3f9d(0xa6)]('btnDayToggle'),_0x318d11=dateExceptions[_0x17252f]==='off';_0x318d11?(_0x8ea999['textContent']=_0x2f3f9d(0x1a6),_0x8ea999[_0x2f3f9d(0x1bf)]=_0x2f3f9d(0xfe),_0x8ea999[_0x2f3f9d(0xff)]['color']='var(--acc-green)',_0x8ea999['style'][_0x2f3f9d(0xdd)]=_0x2f3f9d(0x84)):(_0x8ea999[_0x2f3f9d(0x186)]=_0x2f3f9d(0x90),_0x8ea999['className']=_0x2f3f9d(0xe9),_0x8ea999['style'][_0x2f3f9d(0x162)]=_0x2f3f9d(0x1cb),_0x8ea999[_0x2f3f9d(0xff)][_0x2f3f9d(0xdd)]=_0x2f3f9d(0x129)),openSheet(_0x2f3f9d(0xe1));}let currentAnPeriod=a2_0x55d481(0xd4);function openAnalytics(){const _0x7d499d=a2_0x55d481,_0x2c5b90=document[_0x7d499d(0x12c)](_0x7d499d(0xb5));setAnalyticsPeriod(_0x7d499d(0xd4),_0x2c5b90),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x47c8f7,_0x205e1a){const _0x550fda=a2_0x55d481;currentAnPeriod=_0x47c8f7,document[_0x550fda(0x198)](_0x550fda(0xb5))[_0x550fda(0x158)](_0xb6d49=>_0xb6d49[_0x550fda(0xec)][_0x550fda(0x125)]('active'));if(_0x205e1a)_0x205e1a[_0x550fda(0xec)][_0x550fda(0x130)](_0x550fda(0x114));const _0x51842b=document[_0x550fda(0xa6)](_0x550fda(0xc0));_0x51842b['style'][_0x550fda(0x11c)]=_0x47c8f7===_0x550fda(0x1cc)?'flex':'none';const _0x55261d=new Date();let _0xd49a69=new Date(),_0x4ea90a=new Date();if(_0x47c8f7===_0x550fda(0xd4))_0xd49a69=getStartOfWeek(_0x55261d),_0x4ea90a=new Date(_0xd49a69),_0x4ea90a[_0x550fda(0xe4)](_0x4ea90a[_0x550fda(0x1c1)]()+0x6);else{if(_0x47c8f7===_0x550fda(0x8d))_0xd49a69=new Date(_0x55261d[_0x550fda(0x11d)](),_0x55261d[_0x550fda(0x12f)](),0x1),_0x4ea90a=new Date(_0x55261d[_0x550fda(0x11d)](),_0x55261d[_0x550fda(0x12f)]()+0x1,0x0);else{!document[_0x550fda(0xa6)](_0x550fda(0x1bc))[_0x550fda(0x1e6)]&&(document[_0x550fda(0xa6)]('anStart')['value']=getLocalDateStr(_0x55261d),document[_0x550fda(0xa6)](_0x550fda(0x1e4))[_0x550fda(0x1e6)]=getLocalDateStr(_0x55261d));refreshAnalytics();return;}}document[_0x550fda(0xa6)](_0x550fda(0x1bc))[_0x550fda(0x1e6)]=getLocalDateStr(_0xd49a69),document[_0x550fda(0xa6)](_0x550fda(0x1e4))[_0x550fda(0x1e6)]=getLocalDateStr(_0x4ea90a),refreshAnalytics();}function a2_0x1f31(){const _0x3b1c9a=['day-col-header\x20','WebApp','#050505','active','send','completed','toast-notification\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','ranges','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','rgba(255,255,255,0.05)','display','getFullYear','filter','borderLeftColor','search','substr','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','remove','doLoadPercent','getItem','start','rgba(255,\x2069,\x2058,\x200.15)','var(--acc-green)','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','querySelector','timeColumn','stopPropagation','getMonth','add','sheetTitle','seriesId','mergeServerData','patternInfoBox',':\x20Client\x20already\x20booked','update','none','btnDelete','firstChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','setItem','findIndex','overlay','–ò–Ω—Ñ–æ','Local\x20Load\x20Error','addEventListener','daysHeaderTrack','checked','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','\x20-\x20','user','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','stat-','planned','\x20status-completed','day-off-overlay\x20stripe-bg','blocked-slot\x20stripe-bg','loadLocal','send_notification','text/plain;charset=UTF-8','createDocumentFragment','vibrate','–£—Å–ø–µ—à–Ω–æ','px\x200px','total','POST','00:00','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','padStart','forEach','pattern','max','map','...','backgroundPosition','rangesList','statLoadCard','getTime','disableVerticalSwipes','color','<div\x20class=\x22ev-title\x22>','.day-column','rgba(','</span>\x20/\x20','expand','open','borderColor','find','10px','rangeEndTime','btnStatusToggle','ready','height','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','round','getAttribute','today',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','10px\x2010px\x200\x200','error','isArray','data-day-idx','Save\x20settings\x20error:','#0a84ff','setHours','client-stat-card',']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20','\x20‚Äî\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toUpperCase','T23:59:59','T00:00:00','touchstart','textContent','mousemove','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','cancel','Critical\x20TMA\x20Error:','mini','borderRadius','anPercent','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','href','pe-col-header','Telegram','getMinutes','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','actionSheet','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','</div><div\x20class=\x22ev-time\x22>','[Settings]\x20Cancel\x20window\x20set\x20to:','querySelectorAll','inpRecurring','onclick','asTitle','data','BackButton','initData','appendChild','calendar','parse','numeric','end','btn-status-toggle',':00','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','msg','uc_settings_cancel_window','batch_sync','DOMContentLoaded','toastMessage','btn-status-toggle\x20undo-mode','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','rangeStartTime','cancel_window','closest','10001244OCOIIv','\x20–∏–∑\x20','save_settings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','startsWith','setAttribute','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','clients','split','rangeStartDate','doBusyHours','anStart','name','onClick','className','scrollLeft','getDate','note','</div><div\x20class=\x22dch-num\x22>','innerHTML','inpEnd','inpStart','patternEditor','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','sort','settingsSheet','var(--acc-red)','custom','syncBatch','toast','initDataUnsafe','getDay','saveLocally','data-date','.day-col-header','dateStr','<div\x20class=\x22dch-day\x22>','var(--acc-current)','–£–¥–∞–ª–µ–Ω–∏–µ','toLocaleString','asBtnSeries','.event-card','push','.day-off-overlay','anTotalStats','2165504CjNnwe','de-item','toLocaleDateString','done','pe-cell\x20','strokeDashoffset','anEnd','actionSheetOverlay','value','doEventsList',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','rgba(255,\x2069,\x2058,\x200.3)','apply','slice','ru-RU','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','time-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','(((.+)+)+)+$','%\x20-\x204px)','3NphpQV','settings','left','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','setHeaderColor','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sheet','top','timeLineBadge','status','series','[Notify]\x20Detected\x20Client\x20ID:','client','#fff','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','undefined','settingCancelWindow','blocked-range-part\x20stripe-bg','rgba(48,\x20209,\x2088,\x200.15)','[Notify]\x20Network\x20Failed','stringify','as-button\x20danger\x20bold','catch','analyticsList','json','sessionSheet','sid','month','rangeEndDate','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','Error\x20setting\x20back\x20button:','splice','day-column\x20','log','.dch-stats-fill','success','width','recurringOptionContainer','charAt','single','create','clientId','colIndex','[API\x20','Unknown','now','doDateHeader','[Notify]\x20Client\x20SWAP\x20detected','long','–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>','.pib-text','getElementById','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','calc(','offsetWidth','keys','15159832GtKNbW','uc_settings_v9','floor','option','470118fqiNpZ','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','offsetLeft','all','getBoundingClientRect','.period-switch\x20.p-btn','peGrid','target','doWorkHours','random','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','anDonutCircle','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','dayOptionsTitle','<b>‚úÖ\x20','<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a','anCustomDates','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','4850559CCmTEC','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','div','scrollWidth','warn','inpNote','toastTitle','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','\x20days','syncLoad','off','[Notify]\x20Error:\x20sessionData\x20is\x20null','delete','px\x20-','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','init_load','createElement','asBtnOne','week','matrixViewport','min','includes','uc_sessions_v9','mousedown','7785340WataMb','var(--acc-orange)','localeCompare','background','zIndex','inpClient','toString','dayOptionsSheet','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','1202459eNOzHC','setDate','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','clientY','warning','[Notify]\x20Attempting\x20to\x20send:','btn-primary\x20btn-danger','rgba(100,100,100,0.5)','<span>','classList','then','globalTimeLine','from','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','toFixed','%\x20+\x202px)','getHours','seriesCountContainer','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','cancelled','rgba(255,\x20159,\x2010,\x200.3)','header-','flex','#gridColumns\x20.day-column','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','touches','btn-primary\x20btn-secondary','style','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','inpDate','[Notify]\x20Error:\x20Text\x20generation\x20failed','fetchFromServer','pe-corner','block','Error\x20setting\x20color:','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','length','clientWidth','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','save','gridColumns','exceptions','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','show','indexOf'];a2_0x1f31=function(){return _0x3b1c9a;};return a2_0x1f31();}function refreshAnalytics(){const _0x44f1fb=a2_0x55d481,_0x38b2d2=document[_0x44f1fb(0xa6)](_0x44f1fb(0x1bc))[_0x44f1fb(0x1e6)],_0x2a7d41=document['getElementById'](_0x44f1fb(0x1e4))['value'];if(!_0x38b2d2||!_0x2a7d41)return;const _0x38787d=sessions[_0x44f1fb(0x11e)](_0x17d738=>_0x17d738[_0x44f1fb(0x1d4)]>=_0x38b2d2&&_0x17d738[_0x44f1fb(0x1d4)]<=_0x2a7d41&&_0x17d738['status']!==_0x44f1fb(0xf6)),_0x3664d3=_0x38787d[_0x44f1fb(0x108)],_0x5948cb=_0x38787d[_0x44f1fb(0x11e)](_0x7d7dca=>_0x7d7dca[_0x44f1fb(0x1ff)]===_0x44f1fb(0x116))[_0x44f1fb(0x108)],_0x534cd1=_0x3664d3>0x0?Math[_0x44f1fb(0x172)](_0x5948cb/_0x3664d3*0x64):0x0;document[_0x44f1fb(0xa6)](_0x44f1fb(0x18d))[_0x44f1fb(0x186)]=_0x534cd1+'%',document[_0x44f1fb(0xa6)](_0x44f1fb(0x1dd))[_0x44f1fb(0x186)]=_0x5948cb+_0x44f1fb(0x1b2)+_0x3664d3+'\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ';const _0x596ec6=document[_0x44f1fb(0xa6)](_0x44f1fb(0xbb)),_0x16745d=0x2*Math['PI']*0x23,_0x1e1680=_0x16745d-_0x534cd1/0x64*_0x16745d;_0x596ec6['style'][_0x44f1fb(0x1e3)]=_0x1e1680;const _0x2a04e4={};_0x38787d[_0x44f1fb(0x158)](_0x3cd9c7=>{const _0x1af7be=_0x44f1fb;if(!_0x2a04e4[_0x3cd9c7[_0x1af7be(0x7e)]]){const _0xcd28e8=clients[_0x1af7be(0x16a)](_0x308cab=>_0x308cab[_0x1af7be(0x1bd)]===_0x3cd9c7[_0x1af7be(0x7e)]);_0x2a04e4[_0x3cd9c7[_0x1af7be(0x7e)]]={'total':0x0,'done':0x0,'color':_0xcd28e8?_0xcd28e8[_0x1af7be(0x162)]:_0x1af7be(0x7f)};}_0x2a04e4[_0x3cd9c7[_0x1af7be(0x7e)]]['total']++;if(_0x3cd9c7[_0x1af7be(0x1ff)]===_0x1af7be(0x116))_0x2a04e4[_0x3cd9c7['client']][_0x1af7be(0x1e1)]++;});const _0x1f2521=document[_0x44f1fb(0xa6)](_0x44f1fb(0x89));_0x1f2521[_0x44f1fb(0x1c4)]='';const _0x1f6df5=Object['entries'](_0x2a04e4)[_0x44f1fb(0x1c9)]((_0x42728a,_0x40cb39)=>_0x40cb39[0x1][_0x44f1fb(0x153)]-_0x42728a[0x1][_0x44f1fb(0x153)]);if(_0x1f6df5[_0x44f1fb(0x108)]===0x0){_0x1f2521[_0x44f1fb(0x1c4)]=_0x44f1fb(0x10e);return;}_0x1f6df5[_0x44f1fb(0x158)](([_0x285cc0,_0xa80ef6])=>{const _0x411024=_0x44f1fb,_0x220af0=Math[_0x411024(0x172)](_0xa80ef6[_0x411024(0x1e1)]/_0xa80ef6[_0x411024(0x153)]*0x64),_0x405354=document[_0x411024(0xd2)](_0x411024(0xc4));_0x405354[_0x411024(0x1bf)]=_0x411024(0x17e),_0x405354[_0x411024(0xff)]['borderLeftColor']=_0xa80ef6[_0x411024(0x162)],_0x405354[_0x411024(0x1c4)]=_0x411024(0x1f1)+_0x285cc0+_0x411024(0x13a)+_0xa80ef6[_0x411024(0x1e1)]+_0x411024(0x166)+_0xa80ef6[_0x411024(0x153)]+_0x411024(0x1b4)+_0x220af0+_0x411024(0x176),_0x1f2521[_0x411024(0x19f)](_0x405354);});}function a2_0x41a1(_0x314ebb,_0x43a386){_0x314ebb=_0x314ebb-0x7c;const _0x4e1ce1=a2_0x1f31();let _0x75b175=_0x4e1ce1[_0x314ebb];return _0x75b175;}function formatMinsToHrs(_0x52281e){const _0x2232cf=a2_0x55d481;if(_0x52281e===0x0)return'0';const _0x435e50=Math[_0x2232cf(0xae)](_0x52281e/0x3c),_0x96ab94=_0x52281e%0x3c;if(_0x96ab94===0x0)return _0x435e50+'—á';return _0x435e50+'—á\x20'+_0x96ab94+'–º';}