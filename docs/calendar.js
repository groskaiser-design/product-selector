const a2_0x4d2e45=a2_0x312b;(function(_0x5cd1f8,_0x91638d){const _0x254458=a2_0x312b,_0x2502fb=_0x5cd1f8();while(!![]){try{const _0x13af18=parseInt(_0x254458(0x211))/0x1+parseInt(_0x254458(0x2c3))/0x2*(parseInt(_0x254458(0x1df))/0x3)+parseInt(_0x254458(0x2c4))/0x4+-parseInt(_0x254458(0x27e))/0x5*(-parseInt(_0x254458(0x280))/0x6)+-parseInt(_0x254458(0x2c5))/0x7+parseInt(_0x254458(0x27a))/0x8*(parseInt(_0x254458(0x2b6))/0x9)+-parseInt(_0x254458(0x188))/0xa;if(_0x13af18===_0x91638d)break;else _0x2502fb['push'](_0x2502fb['shift']());}catch(_0xe6b296){_0x2502fb['push'](_0x2502fb['shift']());}}}(a2_0x44be,0x92b8c),function initTMA(){const _0x21628a=a2_0x312b;try{const _0x4306ed=window['Telegram']?.['WebApp'];if(!_0x4306ed)return;_0x4306ed[_0x21628a(0x2ac)](),_0x4306ed[_0x21628a(0x1f9)]();try{_0x4306ed[_0x21628a(0x1ed)](_0x21628a(0x305)),_0x4306ed[_0x21628a(0x29d)]&&_0x4306ed[_0x21628a(0x29d)](_0x21628a(0x305));}catch(_0x1bdf11){console[_0x21628a(0x1a4)](_0x21628a(0x2b7),_0x1bdf11);}try{_0x4306ed[_0x21628a(0x252)]&&(_0x4306ed[_0x21628a(0x252)][_0x21628a(0x271)](),_0x4306ed[_0x21628a(0x252)][_0x21628a(0x2d8)](),_0x4306ed[_0x21628a(0x252)]['onClick'](function(){const _0x2d899a=_0x21628a;window[_0x2d899a(0x216)][_0x2d899a(0x2ff)]=_0x2d899a(0x2a8);}));}catch(_0xebf337){console[_0x21628a(0x1a4)]('Error\x20setting\x20back\x20button:',_0xebf337);}try{if(_0x4306ed[_0x21628a(0x225)])_0x4306ed[_0x21628a(0x225)]();}catch(_0x3768bd){}}catch(_0xe5438c){console[_0x21628a(0x250)](_0x21628a(0x1b2),_0xe5438c);}}());function isAdmin(){const _0x8106d5=a2_0x312b;try{const _0x17e959=Number(window[_0x8106d5(0x19f)]?.[_0x8106d5(0x264)]?.[_0x8106d5(0x1c5)]?.[_0x8106d5(0x2b3)]?.['id']);return _0x17e959===0xbaf7174;}catch(_0x15492d){return![];}}const APP_VERSION=a2_0x4d2e45(0x255),API_URL=a2_0x4d2e45(0x29a),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0x4d2e45(0x25c),KEY_SETTINGS=a2_0x4d2e45(0x1de);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x46374b=a2_0x4d2e45;return window['Telegram']?.[_0x46374b(0x264)]?.['initDataUnsafe']?.[_0x46374b(0x2b3)]?.['id']||_0x46374b(0x1f6);},'saveLocally'(){const _0x443704=a2_0x4d2e45;try{localStorage['setItem'](KEY_CLIENTS,JSON[_0x443704(0x224)](clients)),localStorage['setItem'](KEY_SESSIONS,JSON[_0x443704(0x224)](sessions)),localStorage[_0x443704(0x21f)](KEY_SETTINGS,JSON[_0x443704(0x224)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x556691){console[_0x443704(0x250)]('Local\x20Save\x20Error',_0x556691);}},'loadLocal'(){const _0x241e18=a2_0x4d2e45;try{const _0xa22c0a=localStorage['getItem'](KEY_CLIENTS);if(_0xa22c0a)clients=JSON[_0x241e18(0x209)](_0xa22c0a);const _0x4ab518=localStorage[_0x241e18(0x1a3)](KEY_SESSIONS);if(_0x4ab518)sessions=JSON[_0x241e18(0x209)](_0x4ab518);const _0x1ee295=localStorage[_0x241e18(0x1a3)](KEY_SETTINGS);if(_0x1ee295){const _0x2cfffc=JSON[_0x241e18(0x209)](_0x1ee295);if(_0x2cfffc[_0x241e18(0x2de)])availabilityPattern=_0x2cfffc[_0x241e18(0x2de)];if(_0x2cfffc['exceptions'])dateExceptions=_0x2cfffc[_0x241e18(0x2d0)];if(_0x2cfffc['ranges'])specialRanges=_0x2cfffc['ranges'];}else{for(let _0x20a8f4=0x0;_0x20a8f4<0x7;_0x20a8f4++)availabilityPattern[_0x20a8f4]=Array[_0x241e18(0x1e9)]({'length':0xc},(_0x3e457a,_0x1055a6)=>_0x1055a6+0x9);}}catch(_0x5017f7){console[_0x241e18(0x250)](_0x241e18(0x2a2),_0x5017f7);}},async 'fetchFromServer'(_0x1e8db7,_0x13fbca={}){const _0x2b938e=a2_0x4d2e45,_0x10c4c9=window[_0x2b938e(0x19f)]?.[_0x2b938e(0x264)],_0x33c9bd={'action':_0x1e8db7,'init_data':_0x10c4c9?.['initData']||'',..._0x13fbca};try{const _0x4f2af8=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x2b938e(0x1e4)},'body':JSON[_0x2b938e(0x224)](_0x33c9bd)}),_0x2ffeb7=await _0x4f2af8[_0x2b938e(0x19d)]();if(!_0x2ffeb7['ok'])throw new Error(_0x2ffeb7[_0x2b938e(0x250)]||'Server\x20Error');return _0x2ffeb7['data'];}catch(_0x1a5834){console[_0x2b938e(0x250)](_0x2b938e(0x1b7)+_0x1e8db7+_0x2b938e(0x210),_0x1a5834);throw _0x1a5834;}},async 'syncLoad'(){const _0x4fbedd=a2_0x4d2e45,_0x24a8dc=new Date(),_0x58b4d9=_0x24a8dc['getFullYear']()+'-'+String(_0x24a8dc[_0x4fbedd(0x24e)]()+0x1)[_0x4fbedd(0x2bc)](0x2,'0'),_0x559f92=new Date(_0x24a8dc);_0x559f92[_0x4fbedd(0x2fb)](_0x24a8dc['getMonth']()+0x1);const _0x347a02=_0x559f92[_0x4fbedd(0x20d)]()+'-'+String(_0x559f92[_0x4fbedd(0x24e)]()+0x1)[_0x4fbedd(0x2bc)](0x2,'0'),_0x499230=Date[_0x4fbedd(0x1f1)]();console['log'](_0x4fbedd(0x2c9)+_0x58b4d9+',\x20'+_0x347a02+_0x4fbedd(0x2bb));try{const [_0x65775,_0x2e347b]=await Promise['all']([this[_0x4fbedd(0x197)](_0x4fbedd(0x2e8),{'month_str':_0x58b4d9}),this[_0x4fbedd(0x197)](_0x4fbedd(0x2e8),{'month_str':_0x347a02})]);if(lastUserActionTime>_0x499230)return console[_0x4fbedd(0x2df)](_0x4fbedd(0x263)),![];return this[_0x4fbedd(0x28f)](_0x65775,_0x58b4d9),this[_0x4fbedd(0x28f)](_0x2e347b,_0x347a02),this[_0x4fbedd(0x247)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4c9d51){console[_0x4fbedd(0x250)](_0x4c9d51);throw _0x4c9d51;}},'mergeServerData'(_0x4cc714,_0x5bbea0){const _0x9acfce=a2_0x4d2e45;if(!_0x4cc714)return;_0x4cc714[_0x9acfce(0x226)]&&Array[_0x9acfce(0x190)](_0x4cc714['clients'])&&(clients=_0x4cc714[_0x9acfce(0x226)]);if(_0x4cc714['settings']){if(_0x4cc714[_0x9acfce(0x257)]['pattern'])availabilityPattern=_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x2de)];if(_0x4cc714['settings'][_0x9acfce(0x2d0)])dateExceptions=_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x2d0)];if(_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x1ca)])specialRanges=_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x1ca)];if(_0x4cc714[_0x9acfce(0x257)]['cancel_window']){localStorage[_0x9acfce(0x21f)](_0x9acfce(0x26b),_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x2ae)]);const _0x10b54e=document['getElementById'](_0x9acfce(0x233));if(_0x10b54e)_0x10b54e['value']=_0x4cc714[_0x9acfce(0x257)][_0x9acfce(0x2ae)];}}_0x4cc714[_0x9acfce(0x2a3)]&&(sessions=sessions['filter'](_0x30e9a7=>!_0x30e9a7['dateStr']['startsWith'](_0x5bbea0)),Object[_0x9acfce(0x1b3)](_0x4cc714[_0x9acfce(0x2a3)])[_0x9acfce(0x303)](_0x36b486=>{const _0x3b8b38=_0x9acfce,_0x3c6e5a=_0x4cc714['calendar'][_0x36b486];_0x3c6e5a[_0x3b8b38(0x303)](_0x2ea858=>{const _0x1708ad=_0x3b8b38,_0xabc81f=clients[_0x1708ad(0x22f)](_0x2572b5=>String(_0x2572b5['id'])===String(_0x2ea858['c']));sessions['push']({'id':_0x2ea858['i'],'clientId':_0x2ea858['c'],'client':_0xabc81f?_0xabc81f[_0x1708ad(0x2f3)]:_0x1708ad(0x242),'dateStr':_0x5bbea0+'-'+_0x36b486[_0x1708ad(0x2bc)](0x2,'0'),'start':_0x2ea858['s'],'end':_0x2ea858['e'],'status':_0x2ea858['st']||_0x1708ad(0x25b),'note':_0x2ea858['n']||'','seriesId':_0x2ea858[_0x1708ad(0x251)]||null});});}));},async 'syncBatch'(_0x5e5bc3){const _0x498a70=a2_0x4d2e45,_0x1369cf=[...new Set(_0x5e5bc3)],_0x5e8c14=_0x1369cf[_0x498a70(0x1e5)](_0x4d549a=>{const _0x14156f=_0x498a70,_0x4bd63a=sessions['filter'](_0x1d1863=>_0x1d1863[_0x14156f(0x21c)]===_0x4d549a&&_0x1d1863['status']!==_0x14156f(0x267)),_0x306dc9=_0x4bd63a['map'](_0x12db10=>({'i':_0x12db10['id'],'c':_0x12db10[_0x14156f(0x1b1)],'s':_0x12db10[_0x14156f(0x1f8)],'e':_0x12db10[_0x14156f(0x208)],'st':_0x12db10[_0x14156f(0x2e0)],'n':_0x12db10[_0x14156f(0x1c2)],'sid':_0x12db10[_0x14156f(0x1d2)]}));return{'date':_0x4d549a,'day_data':_0x306dc9};});if(_0x5e8c14[_0x498a70(0x1c8)]===0x0)return;console['log']('[Sync]\x20Pushing\x20batch\x20updates\x20for\x20'+_0x5e8c14[_0x498a70(0x1c8)]+'\x20days'),await this[_0x498a70(0x197)](_0x498a70(0x19c),{'changes':_0x5e8c14});}};async function init(){const _0x19e32f=a2_0x4d2e45;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x19e32f(0x19e)]('matrixViewport')[_0x19e32f(0x1e3)](_0x19e32f(0x1d4),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x19e32f(0x219)]()[_0x19e32f(0x1ba)](()=>{const _0x50502e=_0x19e32f;showToast(_0x50502e(0x2fd),!![]);})['catch'](_0x47d197=>{const _0xd399ca=_0x19e32f;showToast(_0xd399ca(0x198),![]);});}function generateId(){const _0x17fc52=a2_0x4d2e45;return Date[_0x17fc52(0x1f1)]()[_0x17fc52(0x20a)](0x24)+Math[_0x17fc52(0x2f8)]()[_0x17fc52(0x20a)](0x24)['substr'](0x2,0x5);}function toggleSeriesInput(){const _0x152d95=a2_0x4d2e45,_0x304530=document[_0x152d95(0x19e)](_0x152d95(0x234))[_0x152d95(0x1d0)],_0x254430=document[_0x152d95(0x19e)](_0x152d95(0x22c));_0x254430[_0x152d95(0x1cd)][_0x152d95(0x282)]=_0x304530?_0x152d95(0x230):_0x152d95(0x27d);const _0x5e0c4f=document[_0x152d95(0x19e)](_0x152d95(0x1b5));_0x5e0c4f[_0x152d95(0x1cd)][_0x152d95(0x1dc)]=_0x304530?_0x152d95(0x254):_0x152d95(0x1f0);}function openAddSession(_0x2f0160){const _0xe8d1ce=a2_0x4d2e45;editingId=null,populateClientSelect(),document[_0xe8d1ce(0x19e)](_0xe8d1ce(0x1ac))['textContent']='–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å',document[_0xe8d1ce(0x19e)](_0xe8d1ce(0x294))['style']['display']=_0xe8d1ce(0x27d),document[_0xe8d1ce(0x19e)](_0xe8d1ce(0x269))[_0xe8d1ce(0x1cd)][_0xe8d1ce(0x282)]=_0xe8d1ce(0x27d);const _0x50fad6=document['getElementById'](_0xe8d1ce(0x1b5)),_0x2dce3e=document['getElementById'](_0xe8d1ce(0x22c));_0x50fad6['style'][_0xe8d1ce(0x282)]=_0xe8d1ce(0x21b),_0x50fad6[_0xe8d1ce(0x1cd)][_0xe8d1ce(0x1dc)]=_0xe8d1ce(0x1f0),document['getElementById'](_0xe8d1ce(0x234))[_0xe8d1ce(0x1d0)]=![],document[_0xe8d1ce(0x19e)](_0xe8d1ce(0x2d9))[_0xe8d1ce(0x28d)]=0x4,_0x2dce3e[_0xe8d1ce(0x1cd)][_0xe8d1ce(0x282)]=_0xe8d1ce(0x27d),document['getElementById'](_0xe8d1ce(0x2d1))[_0xe8d1ce(0x28d)]=getLocalDateStr(_0x2f0160),updateDateDisplay();const _0x59642b=_0x2f0160['getHours']();document[_0xe8d1ce(0x19e)](_0xe8d1ce(0x2b2))['value']=String(_0x59642b)['padStart'](0x2,'0')+':00',document['getElementById'](_0xe8d1ce(0x191))[_0xe8d1ce(0x28d)]=String(_0x59642b+0x1)[_0xe8d1ce(0x2bc)](0x2,'0')+_0xe8d1ce(0x2a5),openSheet(_0xe8d1ce(0x1a1));}function a2_0x312b(_0x213542,_0x27b57e){_0x213542=_0x213542-0x187;const _0x4438b3=a2_0x44be();let _0x3999f8=_0x4438b3[_0x213542];return _0x3999f8;}function openEdit(_0x5023e6){const _0x1a6d52=a2_0x4d2e45;editingId=_0x5023e6['id'],populateClientSelect(),document['getElementById'](_0x1a6d52(0x1ac))[_0x1a6d52(0x2c0)]=_0x1a6d52(0x2ed),document[_0x1a6d52(0x19e)](_0x1a6d52(0x294))['style']['display']=_0x1a6d52(0x230);const _0x3acf42=document[_0x1a6d52(0x19e)](_0x1a6d52(0x269));_0x3acf42[_0x1a6d52(0x1cd)][_0x1a6d52(0x282)]=_0x1a6d52(0x21b);_0x5023e6[_0x1a6d52(0x2e0)]===_0x1a6d52(0x1a5)?(_0x3acf42[_0x1a6d52(0x193)]=_0x1a6d52(0x2eb),_0x3acf42[_0x1a6d52(0x308)]=_0x1a6d52(0x2b8)):(_0x3acf42['className']=_0x1a6d52(0x1e7),_0x3acf42['innerHTML']='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É');const _0x25ed4d=!!_0x5023e6['seriesId'];document[_0x1a6d52(0x19e)](_0x1a6d52(0x1b5))[_0x1a6d52(0x1cd)][_0x1a6d52(0x282)]=_0x1a6d52(0x27d),document['getElementById'](_0x1a6d52(0x22c))[_0x1a6d52(0x1cd)][_0x1a6d52(0x282)]='none',_0x25ed4d?(document['getElementById'](_0x1a6d52(0x2dc))[_0x1a6d52(0x1cd)][_0x1a6d52(0x282)]=_0x1a6d52(0x21b),document['getElementById'](_0x1a6d52(0x2dc))[_0x1a6d52(0x2af)](_0x1a6d52(0x187))[_0x1a6d52(0x2c0)]=_0x1a6d52(0x1cf)):document[_0x1a6d52(0x19e)](_0x1a6d52(0x2dc))[_0x1a6d52(0x1cd)][_0x1a6d52(0x282)]=_0x1a6d52(0x27d),document['getElementById']('inpClient')[_0x1a6d52(0x28d)]=_0x5023e6[_0x1a6d52(0x29e)],document[_0x1a6d52(0x19e)]('inpDate')[_0x1a6d52(0x28d)]=_0x5023e6[_0x1a6d52(0x21c)],document[_0x1a6d52(0x19e)]('inpStart')['value']=_0x5023e6[_0x1a6d52(0x1f8)],document[_0x1a6d52(0x19e)](_0x1a6d52(0x191))[_0x1a6d52(0x28d)]=_0x5023e6[_0x1a6d52(0x208)],document[_0x1a6d52(0x19e)]('inpNote')[_0x1a6d52(0x28d)]=_0x5023e6[_0x1a6d52(0x1c2)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0x49e13c=a2_0x4d2e45,_0x1d71bb=document[_0x49e13c(0x19e)](_0x49e13c(0x25d))[_0x49e13c(0x28d)],_0x6eecc=document[_0x49e13c(0x19e)](_0x49e13c(0x2d1))['value'],_0x487966=document[_0x49e13c(0x19e)](_0x49e13c(0x2b2))[_0x49e13c(0x28d)],_0x168540=document[_0x49e13c(0x19e)](_0x49e13c(0x191))[_0x49e13c(0x28d)],_0x246fca=document['getElementById']('inpNote')[_0x49e13c(0x28d)],_0x350922=document[_0x49e13c(0x19e)](_0x49e13c(0x234))[_0x49e13c(0x1d0)];let _0x40509d=0x4;if(_0x350922){const _0x3a758d=parseInt(document['getElementById'](_0x49e13c(0x2d9))[_0x49e13c(0x28d)]);if(!_0x3a758d||_0x3a758d<0x2){showToast(_0x49e13c(0x2f2),![]);return;}if(_0x3a758d>0x64){showToast(_0x49e13c(0x1d1),![]);return;}_0x40509d=_0x3a758d;}const _0x40ecb0=clients[_0x49e13c(0x22f)](_0x1941c6=>_0x1941c6['name']===_0x1d71bb);if(!_0x40ecb0){showToast(_0x49e13c(0x1db),![]);return;}const _0x1826af=validateAppointment(_0x6eecc,_0x487966,_0x168540,editingId,_0x40ecb0['id']);if(!_0x1826af[_0x49e13c(0x214)]){showToast(_0x1826af[_0x49e13c(0x277)],![]);return;}_0x1826af[_0x49e13c(0x240)]&&showToast(_0x1826af[_0x49e13c(0x240)],![]);const _0x123dd9={'client':_0x1d71bb,'clientId':_0x40ecb0['id'],'start':_0x487966,'end':_0x168540,'note':_0x246fca,'status':_0x49e13c(0x25b)},_0x1da91a=editingId?sessions[_0x49e13c(0x22f)](_0x4e0dac=>_0x4e0dac['id']===editingId):null;if(_0x1da91a&&_0x1da91a['seriesId']){tempSessionData={..._0x123dd9,'dateStr':_0x6eecc,'id':editingId,'seriesId':_0x1da91a[_0x49e13c(0x1d2)]},openActionSheet('save');return;}let _0x4974b5=null;if(!editingId)_0x4974b5=_0x49e13c(0x1ef);else{if(_0x1da91a){if(String(_0x1da91a[_0x49e13c(0x1b1)])!==String(_0x40ecb0['id']))console[_0x49e13c(0x1a4)](_0x49e13c(0x300)),NotificationManager[_0x49e13c(0x1bb)](_0x49e13c(0x1bc),_0x1da91a),_0x4974b5='create';else(_0x1da91a[_0x49e13c(0x1f8)]!==_0x487966||_0x1da91a[_0x49e13c(0x208)]!==_0x168540||_0x1da91a[_0x49e13c(0x21c)]!==_0x6eecc)&&(_0x4974b5='update');}}if(!editingId&&_0x350922){createBatchSeries(_0x123dd9,_0x6eecc,_0x40509d),NotificationManager[_0x49e13c(0x1bb)](_0x49e13c(0x1ef),{..._0x123dd9,'dateStr':_0x6eecc});return;}lastUserActionTime=Date[_0x49e13c(0x1f1)]();const _0x7bfdc3={..._0x123dd9,'dateStr':_0x6eecc,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x7bfdc3),_0x4974b5&&NotificationManager[_0x49e13c(0x1bb)](_0x4974b5,_0x7bfdc3);}function toggleSessionStatus(){const _0x1967d4=a2_0x4d2e45;lastUserActionTime=Date[_0x1967d4(0x1f1)]();const _0x4df76d=sessions['find'](_0x2c0f0c=>_0x2c0f0c['id']===editingId);if(!_0x4df76d)return;const _0x2718a1=_0x4df76d[_0x1967d4(0x2e0)]==='completed'?_0x1967d4(0x25b):'completed';_0x4df76d[_0x1967d4(0x2e0)]=_0x2718a1,saveSingleSession(_0x4df76d),_0x2718a1===_0x1967d4(0x1a5)&&NotificationManager[_0x1967d4(0x1bb)](_0x1967d4(0x297),_0x4df76d),showToast(_0x2718a1===_0x1967d4(0x1a5)?_0x1967d4(0x218):_0x1967d4(0x290),!![]);}function validateAppointment(_0x3847c4,_0x1e0dfa,_0x5753b9,_0x1ae52f,_0x3f727d){const _0x5cac8e=a2_0x4d2e45,[_0xf3456d,_0x41d701]=_0x1e0dfa[_0x5cac8e(0x2ad)](':')['map'](Number),[_0x454bb6,_0x1fc804]=_0x5753b9['split'](':')[_0x5cac8e(0x1e5)](Number),_0x14c480=_0xf3456d*0x3c+_0x41d701,_0x25bf33=_0x454bb6*0x3c+_0x1fc804,_0x443c64=String(_0x3f727d);let _0x4a0856=![],_0x3de250='';for(let _0x8db08f of sessions){if(_0x8db08f[_0x5cac8e(0x21c)]!==_0x3847c4)continue;if(_0x8db08f[_0x5cac8e(0x2e0)]==='cancelled')continue;if(_0x1ae52f&&String(_0x8db08f['id'])===String(_0x1ae52f))continue;const [_0x586b24,_0x31ecb2]=_0x8db08f['start'][_0x5cac8e(0x2ad)](':')['map'](Number),[_0x45a9ac,_0x2123fc]=_0x8db08f['end'][_0x5cac8e(0x2ad)](':')['map'](Number),_0xff95c2=_0x586b24*0x3c+_0x31ecb2,_0x3f35ba=_0x45a9ac*0x3c+_0x2123fc;if(Math[_0x5cac8e(0x25a)](_0x14c480,_0xff95c2)<Math[_0x5cac8e(0x26a)](_0x25bf33,_0x3f35ba)){if(_0x8db08f[_0x5cac8e(0x1b1)]&&String(_0x8db08f['clientId'])===_0x443c64)return{'valid':![],'msg':_0x5cac8e(0x195)+_0x8db08f[_0x5cac8e(0x29e)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x4a0856=!![],_0x3de250=_0x8db08f[_0x5cac8e(0x29e)];}}if(_0x4a0856)return{'valid':!![],'warning':_0x5cac8e(0x1ab)+_0x3de250};return{'valid':!![]};}function saveSingleSession(_0x542b4c){const _0xc99927=a2_0x4d2e45;if(editingId){const _0x588bc4=sessions['findIndex'](_0x14da2d=>_0x14da2d['id']===editingId);if(_0x588bc4!==-0x1)sessions[_0x588bc4]=_0x542b4c;}else sessions[_0xc99927(0x2c6)](_0x542b4c);afterSaveAction([_0x542b4c['dateStr']]);}function createBatchSeries(_0x4d2aa9,_0x1914f0,_0x5c795a){const _0x1d3724=a2_0x4d2e45,_0x2d8cbb=generateId(),_0x1853b4=[],_0x42bd4e=[];let _0x1f5fc5=0x0,_0xb2cd81=new Date(_0x1914f0);for(let _0x1402ed=0x0;_0x1402ed<_0x5c795a;_0x1402ed++){const _0x54ec8=getLocalDateStr(_0xb2cd81),_0x585237=validateAppointment(_0x54ec8,_0x4d2aa9[_0x1d3724(0x1f8)],_0x4d2aa9[_0x1d3724(0x208)],null,_0x4d2aa9[_0x1d3724(0x1b1)]);if(!_0x585237[_0x1d3724(0x214)])console[_0x1d3724(0x1a4)](_0x1d3724(0x2a0)+_0x54ec8+_0x1d3724(0x23f)),_0x1f5fc5++;else{const _0x513e28={..._0x4d2aa9,'id':generateId(),'dateStr':_0x54ec8,'seriesId':_0x2d8cbb};_0x42bd4e['push'](_0x513e28),_0x1853b4[_0x1d3724(0x2c6)](_0x54ec8);}_0xb2cd81[_0x1d3724(0x279)](_0xb2cd81['getDate']()+0x7);}if(_0x42bd4e[_0x1d3724(0x1c8)]===0x0){showToast('–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',![]);return;}sessions[_0x1d3724(0x2c6)](..._0x42bd4e),lastUserActionTime=Date['now']();let _0x1f6375=_0x1d3724(0x286)+_0x42bd4e[_0x1d3724(0x1c8)];_0x1f5fc5>0x0&&(_0x1f6375+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x1f5fc5+')'),showToast(_0x1f6375,!![]),afterSaveAction(_0x1853b4);}function updateSeriesBatch(_0x14a34b,_0x4bb1d9){const _0x20455e=a2_0x4d2e45,_0x13b59f=[],_0x4138ac=_0x4bb1d9[_0x20455e(0x1d2)];if(_0x14a34b==='single'){const _0x102b7c={..._0x4bb1d9,'seriesId':null},_0x3a1066=sessions[_0x20455e(0x2c8)](_0x8254b0=>_0x8254b0['id']===_0x4bb1d9['id']);if(_0x3a1066!==-0x1)sessions[_0x3a1066]=_0x102b7c;_0x13b59f[_0x20455e(0x2c6)](_0x102b7c[_0x20455e(0x21c)]);}else{if(_0x14a34b===_0x20455e(0x2ce)){const _0x224bc4=_0x4bb1d9['dateStr'];sessions[_0x20455e(0x303)]((_0x20b007,_0x2cdca1)=>{const _0x2901f6=_0x20455e;_0x20b007['seriesId']===_0x4138ac&&_0x20b007[_0x2901f6(0x21c)]>=_0x224bc4&&(sessions[_0x2cdca1]={...sessions[_0x2cdca1],'start':_0x4bb1d9['start'],'end':_0x4bb1d9[_0x2901f6(0x208)],'note':_0x4bb1d9[_0x2901f6(0x1c2)],'client':_0x4bb1d9['client'],'clientId':_0x4bb1d9['clientId']},_0x13b59f[_0x2901f6(0x2c6)](_0x20b007['dateStr']));});}}afterSaveAction(_0x13b59f);}function tryDeleteSession(){const _0x52b32a=a2_0x4d2e45,_0x3dfd79=sessions[_0x52b32a(0x22f)](_0x14c7f6=>_0x14c7f6['id']===editingId);if(!_0x3dfd79)return;_0x3dfd79['seriesId']?openActionSheet(_0x52b32a(0x2f5)):commitDelete(_0x52b32a(0x2fc),_0x3dfd79);}function commitDelete(_0x3626b7,_0x598bab){const _0x2cbd49=a2_0x4d2e45;lastUserActionTime=Date[_0x2cbd49(0x1f1)](),NotificationManager[_0x2cbd49(0x1bb)](_0x2cbd49(0x1bc),_0x598bab);const _0x20b216=[];if(_0x3626b7==='single')sessions=sessions[_0x2cbd49(0x307)](_0x2f7548=>_0x2f7548['id']!==_0x598bab['id']),_0x20b216[_0x2cbd49(0x2c6)](_0x598bab[_0x2cbd49(0x21c)]);else{if(_0x3626b7===_0x2cbd49(0x2ce)){const _0x55b84f=_0x598bab['dateStr'],_0x1edc80=_0x598bab[_0x2cbd49(0x1d2)];sessions['forEach'](_0x5dbd60=>{const _0x448bcc=_0x2cbd49;_0x5dbd60[_0x448bcc(0x1d2)]===_0x1edc80&&_0x5dbd60[_0x448bcc(0x21c)]>=_0x55b84f&&_0x20b216[_0x448bcc(0x2c6)](_0x5dbd60[_0x448bcc(0x21c)]);}),sessions=sessions[_0x2cbd49(0x307)](_0x26b454=>!(_0x26b454['seriesId']===_0x1edc80&&_0x26b454[_0x2cbd49(0x21c)]>=_0x55b84f));}}afterSaveAction(_0x20b216);}function afterSaveAction(_0x3d3199){const _0x2e990f=a2_0x4d2e45;DataManager[_0x2e990f(0x247)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager['syncBatch'](_0x3d3199)['then'](()=>console[_0x2e990f(0x1a4)](_0x2e990f(0x2aa)))[_0x2e990f(0x21d)](_0x1d7d38=>showToast(_0x2e990f(0x237),![]));}const NotificationManager={'formatDate'(_0x43b4c1){const _0x6edadf=a2_0x4d2e45,_0x100842=new Date(_0x43b4c1),_0x618263={'weekday':'long','day':'numeric','month':_0x6edadf(0x298)};let _0x5e0288=_0x100842[_0x6edadf(0x2f0)]('ru-RU',_0x618263);return _0x5e0288['charAt'](0x0)[_0x6edadf(0x194)]()+_0x5e0288[_0x6edadf(0x20e)](0x1);},'getText'(_0x424ccc,_0x4aeb5d){const _0x554ed2=a2_0x4d2e45,_0x3166cc=this[_0x554ed2(0x28e)](_0x4aeb5d[_0x554ed2(0x21c)]);switch(_0x424ccc){case _0x554ed2(0x1ef):return'<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a'+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x3166cc+'\x0a')+(_0x554ed2(0x2f1)+_0x4aeb5d[_0x554ed2(0x1f8)]+_0x554ed2(0x2dd)+_0x4aeb5d[_0x554ed2(0x208)]+'\x0a\x0a')+_0x554ed2(0x2fa);case _0x554ed2(0x1e6):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+'–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a'+(_0x554ed2(0x302)+_0x4aeb5d[_0x554ed2(0x1f8)]+'\x20‚Äî\x20'+_0x4aeb5d['end']+_0x554ed2(0x20c))+(_0x554ed2(0x295)+_0x3166cc);case'cancel':return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x3166cc+'\x20('+_0x4aeb5d[_0x554ed2(0x1f8)]+_0x554ed2(0x2da));case _0x554ed2(0x297):return'<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a'+'–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a'+_0x554ed2(0x1b0);default:return'';}},async 'send'(_0x539464,_0x2c6f30){const _0x3f4423=a2_0x4d2e45;console[_0x3f4423(0x1a4)](_0x3f4423(0x1a8),_0x539464,_0x2c6f30);if(!_0x2c6f30){console[_0x3f4423(0x250)](_0x3f4423(0x26e));return;}const _0x44d86c=String(_0x2c6f30[_0x3f4423(0x1b1)]);console['log'](_0x3f4423(0x2e7),_0x44d86c);if(!_0x2c6f30[_0x3f4423(0x1b1)]||_0x44d86c===_0x3f4423(0x2b5)||_0x44d86c===_0x3f4423(0x1af)){console['error'](_0x3f4423(0x29b));if(_0x2c6f30[_0x3f4423(0x29e)]){const _0x504ffe=clients[_0x3f4423(0x22f)](_0x4a0eeb=>_0x4a0eeb[_0x3f4423(0x2f3)]===_0x2c6f30[_0x3f4423(0x29e)]);if(_0x504ffe)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x504ffe['id']),this[_0x3f4423(0x1bb)](_0x539464,{..._0x2c6f30,'clientId':_0x504ffe['id']});}return;}if(_0x44d86c['length']<0x5){console[_0x3f4423(0x2df)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x44d86c);return;}const _0xe0fc09=this['getText'](_0x539464,_0x2c6f30);if(!_0xe0fc09){console[_0x3f4423(0x250)](_0x3f4423(0x1dd));return;}console[_0x3f4423(0x1a4)](_0x3f4423(0x2ee)+_0x44d86c+_0x3f4423(0x2bb)),DataManager[_0x3f4423(0x197)](_0x3f4423(0x2f6),{'chatId':_0x44d86c,'text':_0xe0fc09})[_0x3f4423(0x1ba)](_0x26f5cf=>console['log'](_0x3f4423(0x26c),_0x26f5cf))[_0x3f4423(0x21d)](_0x1fc311=>console['error']('[Notify]\x20Network\x20Failed',_0x1fc311));}};function getLocalDateStr(_0x47f230){const _0x50087d=a2_0x4d2e45,_0x3bdc4d=_0x47f230[_0x50087d(0x20d)](),_0x513bb9=String(_0x47f230[_0x50087d(0x24e)]()+0x1)[_0x50087d(0x2bc)](0x2,'0'),_0x4365be=String(_0x47f230[_0x50087d(0x22d)]())[_0x50087d(0x2bc)](0x2,'0');return _0x3bdc4d+'-'+_0x513bb9+'-'+_0x4365be;}function getDateStr(_0x4d03fc){const _0x2e4b4b=a2_0x4d2e45,_0x33b90a=new Date();return _0x33b90a[_0x2e4b4b(0x279)](_0x33b90a[_0x2e4b4b(0x22d)]()+_0x4d03fc),getLocalDateStr(_0x33b90a);}function getStartOfWeek(_0x356fb2){const _0x15e4bf=a2_0x4d2e45,_0x26b1c1=(function(){let _0x2191e1=!![];return function(_0x519457,_0x3f4496){const _0x33eff3=_0x2191e1?function(){const _0x3679df=a2_0x312b;if(_0x3f4496){const _0x8c3c16=_0x3f4496[_0x3679df(0x23d)](_0x519457,arguments);return _0x3f4496=null,_0x8c3c16;}}:function(){};return _0x2191e1=![],_0x33eff3;};}()),_0x4c1695=_0x26b1c1(this,function(){const _0x1bcd87=a2_0x312b;return _0x4c1695[_0x1bcd87(0x20a)]()[_0x1bcd87(0x223)]('(((.+)+)+)+$')['toString']()['constructor'](_0x4c1695)[_0x1bcd87(0x223)](_0x1bcd87(0x23a));});_0x4c1695();const _0x13fed2=new Date(_0x356fb2),_0x2053f9=_0x13fed2[_0x15e4bf(0x217)](),_0x27f4af=_0x13fed2[_0x15e4bf(0x22d)]()-_0x2053f9+(_0x2053f9===0x0?-0x6:0x1);return _0x13fed2['setDate'](_0x27f4af),_0x13fed2[_0x15e4bf(0x2ab)](0x0,0x0,0x0,0x0),_0x13fed2;}function hexToRgba(_0x3c532e,_0x28eda5){const _0x3b5f69=a2_0x4d2e45;if(!_0x3c532e)return _0x3b5f69(0x215);let _0x1e8666=0x0,_0x5ca62d=0x0,_0xd8da13=0x0;if(_0x3c532e[_0x3b5f69(0x1c8)]===0x4)_0x1e8666='0x'+_0x3c532e[0x1]+_0x3c532e[0x1],_0x5ca62d='0x'+_0x3c532e[0x2]+_0x3c532e[0x2],_0xd8da13='0x'+_0x3c532e[0x3]+_0x3c532e[0x3];else _0x3c532e['length']===0x7&&(_0x1e8666='0x'+_0x3c532e[0x1]+_0x3c532e[0x2],_0x5ca62d='0x'+_0x3c532e[0x3]+_0x3c532e[0x4],_0xd8da13='0x'+_0x3c532e[0x5]+_0x3c532e[0x6]);return _0x3b5f69(0x2a1)+ +_0x1e8666+',\x20'+ +_0x5ca62d+',\x20'+ +_0xd8da13+',\x20'+_0x28eda5+')';}function renderTimeColumn(){const _0x101cc5=a2_0x4d2e45,_0x5be5bd=document[_0x101cc5(0x19e)](_0x101cc5(0x1e2)),_0x1e3227=document[_0x101cc5(0x19e)]('timeLineBadge');_0x5be5bd[_0x101cc5(0x308)]='',_0x5be5bd[_0x101cc5(0x24c)](_0x1e3227);for(let _0x1805b4=0x0;_0x1805b4<0x18;_0x1805b4++){const _0x368d6b=document[_0x101cc5(0x20f)]('div');_0x368d6b[_0x101cc5(0x193)]=_0x101cc5(0x27c);if(_0x1805b4>0x0)_0x368d6b[_0x101cc5(0x308)]='<span>'+String(_0x1805b4)[_0x101cc5(0x2bc)](0x2,'0')+_0x101cc5(0x2db);_0x5be5bd[_0x101cc5(0x24c)](_0x368d6b);}}function renderDayRange(_0x485da1,_0x5aba83){const _0x47fa85=a2_0x4d2e45,_0x13af4c=document[_0x47fa85(0x19e)](_0x47fa85(0x2a9)),_0x46dcdd=document['getElementById'](_0x47fa85(0x2f7)),_0xf96972=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x331a9f=new Date();_0x331a9f[_0x47fa85(0x2ab)](0x0,0x0,0x0,0x0);const _0x4f7282=getLocalDateStr(new Date());for(let _0x26a294=_0x485da1;_0x26a294<=_0x5aba83;_0x26a294++){const _0x28f539=new Date(_0x331a9f);_0x28f539[_0x47fa85(0x279)](_0x28f539[_0x47fa85(0x22d)]()+_0x26a294);const _0x212ebd=getLocalDateStr(_0x28f539);let _0xba5b0e=_0x28f539[_0x47fa85(0x217)]()-0x1;if(_0xba5b0e===-0x1)_0xba5b0e=0x6;const _0x24607a=_0x212ebd===_0x4f7282,_0x3a09a4=document[_0x47fa85(0x20f)](_0x47fa85(0x20b));_0x3a09a4[_0x47fa85(0x193)]='day-col-header\x20'+(_0x24607a?'today':''),_0x3a09a4['id']=_0x47fa85(0x2ba)+_0x212ebd,_0x3a09a4[_0x47fa85(0x2ef)](_0x47fa85(0x272),_0x212ebd),_0x3a09a4[_0x47fa85(0x308)]='<div\x20class=\x22dch-day\x22>'+_0xf96972[_0xba5b0e]+_0x47fa85(0x2ea)+_0x28f539[_0x47fa85(0x22d)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x212ebd+_0x47fa85(0x248),_0x3a09a4[_0x47fa85(0x1da)]=()=>openDayOptions(_0x212ebd,_0xf96972[_0xba5b0e]+'\x20'+_0x28f539['getDate']()),_0x13af4c['appendChild'](_0x3a09a4);const _0x3f831a=document[_0x47fa85(0x20f)](_0x47fa85(0x20b));_0x3f831a[_0x47fa85(0x193)]=_0x47fa85(0x28c)+(_0x24607a?_0x47fa85(0x1d9):''),_0x3f831a['setAttribute'](_0x47fa85(0x272),_0x212ebd),_0x3f831a[_0x47fa85(0x2ef)](_0x47fa85(0x2a7),_0xba5b0e),renderEventsForColumn(_0x3f831a,_0x212ebd,_0xba5b0e),attachLongPressHandler(_0x3f831a,_0x28f539),_0x46dcdd['appendChild'](_0x3f831a),updateDayStats(_0x212ebd);}}function reRenderBlocks(){const _0x37c829=a2_0x4d2e45;document[_0x37c829(0x1ec)](_0x37c829(0x1f3))['forEach'](_0x1d464d=>{const _0x204ea4=_0x37c829;_0x1d464d[_0x204ea4(0x1ec)](_0x204ea4(0x1fd))[_0x204ea4(0x303)](_0x1a129e=>_0x1a129e['remove']());const _0x1b0b1f=_0x1d464d[_0x204ea4(0x256)](_0x204ea4(0x272)),_0xf1de17=parseInt(_0x1d464d[_0x204ea4(0x256)](_0x204ea4(0x2a7))),_0x599df6=Math[_0x204ea4(0x2fe)](_0x1d464d['offsetLeft']);(availabilityPattern[_0xf1de17]||[])[_0x204ea4(0x303)](_0xe607b7=>{const _0x3a0fff=_0x204ea4,_0x47eddc=document[_0x3a0fff(0x20f)]('div');_0x47eddc[_0x3a0fff(0x193)]='blocked-slot\x20stripe-bg';const _0x3a4582=_0xe607b7*GRID_H;_0x47eddc[_0x3a0fff(0x1cd)][_0x3a0fff(0x1b9)]=_0x3a4582+'px',_0x47eddc[_0x3a0fff(0x1cd)]['backgroundPosition']='-'+_0x599df6+_0x3a0fff(0x1f2)+_0x3a4582+'px',_0x1d464d[_0x3a0fff(0x24c)](_0x47eddc);});if(specialRanges&&specialRanges[_0x204ea4(0x1c8)]>0x0){const _0x4e3b4b=new Date(_0x1b0b1f+_0x204ea4(0x23e))[_0x204ea4(0x2e4)](),_0x59d675=new Date(_0x1b0b1f+'T23:59:59')[_0x204ea4(0x2e4)]();specialRanges[_0x204ea4(0x303)](_0x49bccf=>{const _0x1f96bc=_0x204ea4,_0x2a9e6e=new Date(_0x49bccf['start'])['getTime'](),_0x3859ac=new Date(_0x49bccf[_0x1f96bc(0x208)])[_0x1f96bc(0x2e4)](),_0x4f13a7=Math[_0x1f96bc(0x25a)](_0x4e3b4b,_0x2a9e6e),_0x29ccaa=Math[_0x1f96bc(0x26a)](_0x59d675,_0x3859ac);if(_0x4f13a7<_0x29ccaa){if(_0x4f13a7<=_0x4e3b4b&&_0x29ccaa>=_0x59d675-0xea60){if(!_0x1d464d[_0x1f96bc(0x2af)](_0x1f96bc(0x204))){const _0x19a939=document[_0x1f96bc(0x20f)](_0x1f96bc(0x20b));_0x19a939[_0x1f96bc(0x193)]=_0x1f96bc(0x1c6),_0x19a939[_0x1f96bc(0x1cd)][_0x1f96bc(0x1fe)]='-'+_0x599df6+_0x1f96bc(0x1ee),_0x1d464d['appendChild'](_0x19a939);}}else{const _0x18563e=(_0x4f13a7-_0x4e3b4b)/0x36ee80*GRID_H,_0x812780=(_0x29ccaa-_0x4f13a7)/0x36ee80*GRID_H,_0x57f8eb=document['createElement'](_0x1f96bc(0x20b));_0x57f8eb['className']=_0x1f96bc(0x27b),_0x57f8eb['style'][_0x1f96bc(0x1b9)]=_0x18563e+'px',_0x57f8eb[_0x1f96bc(0x1cd)][_0x1f96bc(0x231)]=_0x812780+'px',_0x57f8eb[_0x1f96bc(0x1cd)][_0x1f96bc(0x1fe)]='-'+_0x599df6+_0x1f96bc(0x1f2)+_0x18563e+'px',_0x1d464d['appendChild'](_0x57f8eb);}}});}if(dateExceptions[_0x1b0b1f]===_0x204ea4(0x259)){if(!_0x1d464d[_0x204ea4(0x2af)](_0x204ea4(0x204))){const _0x549af7=document[_0x204ea4(0x20f)](_0x204ea4(0x20b));_0x549af7[_0x204ea4(0x193)]='day-off-overlay\x20stripe-bg',_0x549af7[_0x204ea4(0x1cd)]['backgroundPosition']='-'+_0x599df6+_0x204ea4(0x1ee),_0x1d464d[_0x204ea4(0x24c)](_0x549af7);}}renderEventsForColumn(_0x1d464d,_0x1b0b1f,_0xf1de17),updateDayStats(_0x1b0b1f);});}function updateAllDayStats(){const _0x21870b=a2_0x4d2e45;document['querySelectorAll'](_0x21870b(0x1a0))['forEach'](_0x43dbc2=>{const _0x30cd70=_0x21870b;updateDayStats(_0x43dbc2[_0x30cd70(0x256)]('data-date'));});}function updateDayStats(_0x19970e){const _0x5e1e83=a2_0x4d2e45,_0x3f6749=document['getElementById'](_0x5e1e83(0x2a6)+_0x19970e);if(!_0x3f6749)return;const _0x24e58b=new Date(_0x19970e);let _0x1f07d6=_0x24e58b['getDay']()-0x1;if(_0x1f07d6===-0x1)_0x1f07d6=0x6;if(dateExceptions[_0x19970e]===_0x5e1e83(0x259)){_0x3f6749[_0x5e1e83(0x1cd)]['display']=_0x5e1e83(0x27d);return;}const _0x12d0a5=availabilityPattern[_0x1f07d6]||[],_0x50f76b=0x18-_0x12d0a5[_0x5e1e83(0x1c8)],_0x1f3cd8=_0x50f76b*0x3c,_0x34018d=sessions[_0x5e1e83(0x307)](_0x475504=>_0x475504[_0x5e1e83(0x21c)]===_0x19970e&&_0x475504['status']!=='cancelled');if(_0x34018d[_0x5e1e83(0x1c8)]===0x0){_0x3f6749['style'][_0x5e1e83(0x282)]=_0x5e1e83(0x27d);return;}let _0x330ff5=_0x34018d[_0x5e1e83(0x1e5)](_0x5d269d=>{const _0x49e640=_0x5e1e83,[_0x2e478d,_0x5cca67]=_0x5d269d[_0x49e640(0x1f8)][_0x49e640(0x2ad)](':')[_0x49e640(0x1e5)](Number),[_0x5b7f7d,_0xe50924]=_0x5d269d[_0x49e640(0x208)]['split'](':')['map'](Number);return[_0x2e478d*0x3c+_0x5cca67,_0x5b7f7d*0x3c+_0xe50924];});_0x330ff5[_0x5e1e83(0x1c0)]((_0x36dc11,_0x409c2d)=>_0x36dc11[0x0]-_0x409c2d[0x0]);let _0x3b4880=[];if(_0x330ff5['length']>0x0){let _0x5d48aa=_0x330ff5[0x0];for(let _0x3b8d71=0x1;_0x3b8d71<_0x330ff5[_0x5e1e83(0x1c8)];_0x3b8d71++){_0x330ff5[_0x3b8d71][0x0]<_0x5d48aa[0x1]?_0x5d48aa[0x1]=Math['max'](_0x5d48aa[0x1],_0x330ff5[_0x3b8d71][0x1]):(_0x3b4880[_0x5e1e83(0x2c6)](_0x5d48aa),_0x5d48aa=_0x330ff5[_0x3b8d71]);}_0x3b4880[_0x5e1e83(0x2c6)](_0x5d48aa);}let _0x40f614=0x0;_0x3b4880['forEach'](_0x2a8652=>_0x40f614+=_0x2a8652[0x1]-_0x2a8652[0x0]),_0x3f6749[_0x5e1e83(0x1cd)][_0x5e1e83(0x282)]='flex';const _0x1bba12=_0x3f6749[_0x5e1e83(0x2af)](_0x5e1e83(0x189));if(_0x1f3cd8===0x0){_0x1bba12[_0x5e1e83(0x1cd)]['width']='100%',_0x1bba12['style']['background']=_0x5e1e83(0x28b);return;}const _0x5f16e6=_0x40f614/_0x1f3cd8*0x64;console[_0x5e1e83(0x1a4)]('['+_0x19970e+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x50f76b+_0x5e1e83(0x1b8)+_0x40f614+'–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20'+_0x5f16e6[_0x5e1e83(0x287)](0x1)+'%'),_0x5f16e6>0x64?(_0x1bba12[_0x5e1e83(0x1cd)][_0x5e1e83(0x270)]=_0x5e1e83(0x1c7),_0x1bba12[_0x5e1e83(0x1cd)][_0x5e1e83(0x24a)]=_0x5e1e83(0x28b)):(_0x1bba12[_0x5e1e83(0x1cd)][_0x5e1e83(0x270)]=_0x5f16e6+'%',_0x1bba12['style'][_0x5e1e83(0x24a)]=_0x5e1e83(0x18d));}function renderEventsForColumn(_0x32ec28,_0x2d0f12,_0x5a8d48){const _0xa3af71=a2_0x4d2e45,_0x40d32d=sessions[_0xa3af71(0x307)](_0x4884a1=>_0x4884a1[_0xa3af71(0x21c)]===_0x2d0f12),_0x15b9f0=_0x40d32d[_0xa3af71(0x1e5)](_0x5d3885=>{const _0x113c9d=_0xa3af71,[_0x473cec,_0x47065f]=_0x5d3885[_0x113c9d(0x1f8)]['split'](':')[_0x113c9d(0x1e5)](Number),[_0x5a63fe,_0x5e7b1e]=_0x5d3885[_0x113c9d(0x208)][_0x113c9d(0x2ad)](':')[_0x113c9d(0x1e5)](Number);return{'data':_0x5d3885,'start':_0x473cec*0x3c+_0x47065f,'end':_0x5a63fe*0x3c+_0x5e7b1e,'colIndex':0x0};});_0x15b9f0[_0xa3af71(0x1c0)]((_0x403b1d,_0x3711ce)=>{const _0x1f8269=_0xa3af71;if(_0x403b1d[_0x1f8269(0x1f8)]!==_0x3711ce[_0x1f8269(0x1f8)])return _0x403b1d[_0x1f8269(0x1f8)]-_0x3711ce['start'];return _0x3711ce[_0x1f8269(0x208)]-_0x3711ce[_0x1f8269(0x1f8)]-(_0x403b1d[_0x1f8269(0x208)]-_0x403b1d[_0x1f8269(0x1f8)]);});const _0x267852=[];_0x15b9f0[_0xa3af71(0x303)](_0x212336=>{const _0x33aaf5=_0xa3af71;let _0x58d9a8=![];for(let _0x2ed313=0x0;_0x2ed313<_0x267852[_0x33aaf5(0x1c8)];_0x2ed313++){const _0x40ab68=_0x267852[_0x2ed313],_0x234b6d=_0x40ab68[_0x40ab68[_0x33aaf5(0x1c8)]-0x1];if(_0x212336[_0x33aaf5(0x1f8)]>=_0x234b6d[_0x33aaf5(0x208)]){_0x40ab68[_0x33aaf5(0x2c6)](_0x212336),_0x212336[_0x33aaf5(0x213)]=_0x2ed313,_0x58d9a8=!![];break;}}!_0x58d9a8&&(_0x267852[_0x33aaf5(0x2c6)]([_0x212336]),_0x212336[_0x33aaf5(0x213)]=_0x267852[_0x33aaf5(0x1c8)]-0x1);}),_0x15b9f0[_0xa3af71(0x303)](_0x3d1edd=>{const _0x206aa7=_0xa3af71;let _0xe49884=0x0;_0x15b9f0[_0x206aa7(0x303)](_0x482f66=>{const _0x10d5bb=_0x206aa7;if(Math[_0x10d5bb(0x25a)](_0x3d1edd[_0x10d5bb(0x1f8)],_0x482f66['start'])<Math['min'](_0x3d1edd['end'],_0x482f66[_0x10d5bb(0x208)])){if(_0x482f66[_0x10d5bb(0x213)]>_0xe49884)_0xe49884=_0x482f66['colIndex'];}});const _0x3d2224=_0xe49884+0x1,_0x1fcb06=0x64/_0x3d2224,_0x1dce87=_0x3d1edd[_0x206aa7(0x213)]*_0x1fcb06,_0xc279b3=createEventEl(_0x3d1edd[_0x206aa7(0x27f)]);_0xc279b3[_0x206aa7(0x1cd)][_0x206aa7(0x270)]=_0x206aa7(0x2be)+_0x1fcb06+_0x206aa7(0x22b),_0xc279b3[_0x206aa7(0x1cd)]['left']=_0x206aa7(0x2be)+_0x1dce87+_0x206aa7(0x241),_0xc279b3['style'][_0x206aa7(0x23b)]=0xa+_0x3d1edd[_0x206aa7(0x213)],_0x1fcb06<0x55&&_0xc279b3['classList'][_0x206aa7(0x1ad)](_0x206aa7(0x246)),_0x32ec28[_0x206aa7(0x24c)](_0xc279b3);});}function createEventEl(_0x111f1a){const _0xa753d7=a2_0x4d2e45,[_0x478eb9,_0x404c62]=_0x111f1a['start'][_0xa753d7(0x2ad)](':')[_0xa753d7(0x1e5)](Number),[_0x446b8f,_0x2142df]=_0x111f1a['end'][_0xa753d7(0x2ad)](':')[_0xa753d7(0x1e5)](Number),_0x1cf8b5=(_0x478eb9*0x3c+_0x404c62)/0x3c*GRID_H,_0x4dfdda=(_0x446b8f*0x3c+_0x2142df-(_0x478eb9*0x3c+_0x404c62))/0x3c*GRID_H,_0x1d7ae2=document[_0xa753d7(0x20f)](_0xa753d7(0x20b)),_0x3c963b=_0x111f1a[_0xa753d7(0x2e0)]===_0xa753d7(0x1a5)?_0xa753d7(0x220):'';_0x1d7ae2[_0xa753d7(0x193)]=_0xa753d7(0x2e1)+_0x3c963b,_0x1d7ae2['style']['top']=_0x1cf8b5+'px',_0x1d7ae2[_0xa753d7(0x1cd)]['height']=Math[_0xa753d7(0x25a)](_0x4dfdda,0x14)+'px';const _0x521070=clients[_0xa753d7(0x22f)](_0x3ad41c=>_0x111f1a[_0xa753d7(0x1b1)]&&String(_0x3ad41c['id'])===String(_0x111f1a['clientId'])||_0x3ad41c[_0xa753d7(0x2f3)]===_0x111f1a[_0xa753d7(0x29e)]),_0x5688c8=_0x521070?_0x521070[_0xa753d7(0x239)]:_0xa753d7(0x2d7);_0x1d7ae2['style'][_0xa753d7(0x281)]=_0x5688c8,_0x1d7ae2[_0xa753d7(0x1cd)][_0xa753d7(0x221)]=hexToRgba(_0x5688c8,0.85);let _0x5ec6a5=_0xa753d7(0x21a)+_0x111f1a[_0xa753d7(0x29e)]+_0xa753d7(0x2d2)+_0x111f1a['start']+_0xa753d7(0x2cc)+_0x111f1a[_0xa753d7(0x208)]+_0xa753d7(0x1ae);return _0x111f1a['seriesId']&&(_0x5ec6a5+=_0xa753d7(0x1d8)),_0x111f1a[_0xa753d7(0x2e0)]===_0xa753d7(0x1a5)&&(_0x5ec6a5+=_0xa753d7(0x192)),_0x1d7ae2['innerHTML']=_0x5ec6a5,_0x1d7ae2[_0xa753d7(0x1da)]=_0x38b0d0=>{const _0x56be37=_0xa753d7;_0x38b0d0[_0x56be37(0x18f)](),openEdit(_0x111f1a);},_0x1d7ae2;}function attachLongPressHandler(_0x28ed6e,_0x57b6d4){const _0x4c0cdc=a2_0x4d2e45;let _0x14cee6=0x0,_0x46ebac=null;const _0x2966eb=_0x4f6118=>{const _0x53f393=a2_0x312b;if(_0x4f6118[_0x53f393(0x1b4)][_0x53f393(0x2ca)](_0x53f393(0x2c2)))return;isScrolling=![],_0x14cee6=_0x4f6118[_0x53f393(0x1fb)]?_0x4f6118['touches'][0x0][_0x53f393(0x1a7)]:_0x4f6118[_0x53f393(0x1a7)],_0x46ebac=setTimeout(()=>{const _0x40b4a5=_0x53f393;if(!isScrolling){navigator[_0x40b4a5(0x1ea)]?.(0x32);const _0x13441b=_0x28ed6e[_0x40b4a5(0x249)](),_0xd4043d=Math[_0x40b4a5(0x29c)]((_0x14cee6-_0x13441b['top'])/GRID_H);_0x57b6d4[_0x40b4a5(0x2ab)](_0xd4043d,0x0),openAddSession(_0x57b6d4);}},0x1f4);},_0x53196d=()=>{isScrolling=!![],clearTimeout(_0x46ebac);},_0x5dafe6=()=>{clearTimeout(_0x46ebac);};_0x28ed6e['addEventListener'](_0x4c0cdc(0x1fa),_0x2966eb,{'passive':!![]}),_0x28ed6e['addEventListener']('touchmove',_0x53196d,{'passive':!![]}),_0x28ed6e[_0x4c0cdc(0x1e3)](_0x4c0cdc(0x288),_0x5dafe6),_0x28ed6e[_0x4c0cdc(0x1e3)](_0x4c0cdc(0x2a4),_0x2966eb),_0x28ed6e[_0x4c0cdc(0x1e3)](_0x4c0cdc(0x1c4),_0x53196d),_0x28ed6e[_0x4c0cdc(0x1e3)]('mouseup',_0x5dafe6);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x3ac974=a2_0x4d2e45,_0x2aedba=document['getElementById'](_0x3ac974(0x29f)),_0x52a3c6=_0x2aedba[_0x3ac974(0x258)],_0x378953=_0x2aedba[_0x3ac974(0x2d4)],_0x307419=_0x2aedba[_0x3ac974(0x1bd)];if(_0x378953-(_0x52a3c6+_0x307419)<0x12c){const _0x366f21=endOffset;endOffset+=0xe,renderDayRange(_0x366f21+0x1,endOffset),reRenderBlocks();}if(_0x52a3c6<0x12c){const _0x54f36b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x54f36b-0x1),_0x2aedba[_0x3ac974(0x258)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x5cafc1,_0x51ddec){const _0x6cf861=a2_0x4d2e45,_0x582031=document[_0x6cf861(0x19e)](_0x6cf861(0x2a9)),_0x8df65a=document['getElementById'](_0x6cf861(0x2f7)),_0x4016e8=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x3d58fa=new Date();_0x3d58fa[_0x6cf861(0x2ab)](0x0,0x0,0x0,0x0);const _0x1a46db=getLocalDateStr(new Date()),_0x5ddee5=document[_0x6cf861(0x222)](),_0x5172fc=document[_0x6cf861(0x222)]();for(let _0x2bfbe2=_0x5cafc1;_0x2bfbe2<=_0x51ddec;_0x2bfbe2++){const _0x2f9f0b=new Date(_0x3d58fa);_0x2f9f0b[_0x6cf861(0x279)](_0x2f9f0b[_0x6cf861(0x22d)]()+_0x2bfbe2);const _0x1de42f=getLocalDateStr(_0x2f9f0b);let _0x5ed644=_0x2f9f0b[_0x6cf861(0x217)]()-0x1;if(_0x5ed644===-0x1)_0x5ed644=0x6;const _0x4b753c=_0x1de42f===_0x1a46db,_0x5383f1=document[_0x6cf861(0x20f)]('div');_0x5383f1[_0x6cf861(0x193)]='day-col-header\x20'+(_0x4b753c?_0x6cf861(0x1d9):''),_0x5383f1['id']=_0x6cf861(0x2ba)+_0x1de42f,_0x5383f1[_0x6cf861(0x2ef)]('data-date',_0x1de42f),_0x5383f1[_0x6cf861(0x308)]=_0x6cf861(0x227)+_0x4016e8[_0x5ed644]+_0x6cf861(0x2ea)+_0x2f9f0b[_0x6cf861(0x22d)]()+'</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-'+_0x1de42f+_0x6cf861(0x248),_0x5383f1[_0x6cf861(0x1da)]=()=>openDayOptions(_0x1de42f,_0x4016e8[_0x5ed644]+'\x20'+_0x2f9f0b[_0x6cf861(0x22d)]()),_0x5ddee5[_0x6cf861(0x24c)](_0x5383f1);const _0x1210ca=document[_0x6cf861(0x20f)]('div');_0x1210ca[_0x6cf861(0x193)]=_0x6cf861(0x28c)+(_0x4b753c?'today':''),_0x1210ca[_0x6cf861(0x2ef)](_0x6cf861(0x272),_0x1de42f),_0x1210ca[_0x6cf861(0x2ef)](_0x6cf861(0x2a7),_0x5ed644),renderEventsForColumn(_0x1210ca,_0x1de42f,_0x5ed644),attachLongPressHandler(_0x1210ca,_0x2f9f0b),_0x5172fc[_0x6cf861(0x24c)](_0x1210ca),updateDayStats(_0x1de42f);}_0x582031['insertBefore'](_0x5ddee5,_0x582031[_0x6cf861(0x236)]),_0x8df65a[_0x6cf861(0x285)](_0x5172fc,_0x8df65a[_0x6cf861(0x2af)](_0x6cf861(0x253)));}function validateAppointment(_0x46e513,_0x46e4ce,_0x45bdce,_0x209ed0,_0x14019e){const _0x2cb9a4=a2_0x4d2e45,[_0x48ca66,_0x9f6b04]=_0x46e4ce[_0x2cb9a4(0x2ad)](':')[_0x2cb9a4(0x1e5)](Number),[_0x4c6116,_0x4a5971]=_0x45bdce[_0x2cb9a4(0x2ad)](':')[_0x2cb9a4(0x1e5)](Number),_0x1b9048=_0x48ca66*0x3c+_0x9f6b04,_0x1f016d=_0x4c6116*0x3c+_0x4a5971,_0x50df83=String(_0x14019e);let _0x3e66c1=![],_0x540b7e='';for(let _0x2e6fc7 of sessions){if(_0x2e6fc7[_0x2cb9a4(0x21c)]!==_0x46e513)continue;if(_0x2e6fc7[_0x2cb9a4(0x2e0)]===_0x2cb9a4(0x2bf))continue;if(_0x209ed0&&String(_0x2e6fc7['id'])===String(_0x209ed0))continue;const [_0x309547,_0x906e2c]=_0x2e6fc7[_0x2cb9a4(0x1f8)][_0x2cb9a4(0x2ad)](':')[_0x2cb9a4(0x1e5)](Number),[_0x16d380,_0x39b73e]=_0x2e6fc7['end'][_0x2cb9a4(0x2ad)](':')[_0x2cb9a4(0x1e5)](Number),_0x3abe78=_0x309547*0x3c+_0x906e2c,_0x1a19d8=_0x16d380*0x3c+_0x39b73e;if(Math[_0x2cb9a4(0x25a)](_0x1b9048,_0x3abe78)<Math[_0x2cb9a4(0x26a)](_0x1f016d,_0x1a19d8)){if(_0x2e6fc7[_0x2cb9a4(0x1b1)]&&String(_0x2e6fc7[_0x2cb9a4(0x1b1)])===_0x50df83)return{'valid':![],'msg':_0x2cb9a4(0x195)+_0x2e6fc7['client']+_0x2cb9a4(0x1fc)};_0x3e66c1=!![],_0x540b7e=_0x2e6fc7[_0x2cb9a4(0x29e)];}}if(_0x3e66c1)return{'valid':!![],'warning':_0x2cb9a4(0x1ab)+_0x540b7e};return{'valid':!![]};}function updateDateDisplay(){const _0x524ce5=a2_0x4d2e45,_0x3a9017=document[_0x524ce5(0x19e)](_0x524ce5(0x2d1))[_0x524ce5(0x28d)],_0x3196f2=document[_0x524ce5(0x19e)]('sheetDateSubtitle');if(!_0x3a9017){_0x3196f2[_0x524ce5(0x2c0)]='';return;}const [_0x39990d,_0x7e987f,_0x179420]=_0x3a9017['split']('-')[_0x524ce5(0x1e5)](Number),_0xfffb18=new Date(_0x39990d,_0x7e987f-0x1,_0x179420),_0x40fc6a={'weekday':_0x524ce5(0x298),'day':_0x524ce5(0x260),'month':_0x524ce5(0x298),'year':_0x524ce5(0x260)};let _0x3b35aa=_0xfffb18['toLocaleDateString']('ru-RU',_0x40fc6a);_0x3b35aa=_0x3b35aa['charAt'](0x0)[_0x524ce5(0x194)]()+_0x3b35aa[_0x524ce5(0x20e)](0x1),_0x3196f2[_0x524ce5(0x2c0)]=_0x3b35aa;}function autoSetEndTime(){const _0x95733=a2_0x4d2e45,_0x50e940=document['getElementById']('inpStart')[_0x95733(0x28d)];if(!_0x50e940)return;const [_0x5509e2,_0x3bec4d]=_0x50e940[_0x95733(0x2ad)](':')[_0x95733(0x1e5)](Number);let _0x375e85=_0x5509e2+0x1;if(_0x375e85>0x17)_0x375e85=0x0;const _0x549d72=String(_0x375e85)['padStart'](0x2,'0')+':'+String(_0x3bec4d)['padStart'](0x2,'0');document[_0x95733(0x19e)](_0x95733(0x191))['value']=_0x549d72;}function populateClientSelect(){const _0x18aa4f=a2_0x4d2e45,_0x37bc0e=document[_0x18aa4f(0x19e)](_0x18aa4f(0x25d));_0x37bc0e[_0x18aa4f(0x308)]='';if(clients[_0x18aa4f(0x1c8)]===0x0){const _0x1cb541=document['createElement']('option');_0x1cb541['text']='–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤',_0x37bc0e['appendChild'](_0x1cb541);return;}clients[_0x18aa4f(0x303)](_0xc267c=>{const _0x5146d7=_0x18aa4f,_0x1ee248=document['createElement'](_0x5146d7(0x18c));_0x1ee248[_0x5146d7(0x28d)]=_0xc267c[_0x5146d7(0x2f3)],_0x1ee248[_0x5146d7(0x2c0)]=_0xc267c[_0x5146d7(0x2f3)],_0x37bc0e['appendChild'](_0x1ee248);});}function a2_0x44be(){const _0x4c8650=['sort','patternEditor','note','pe-col-header','mousemove','initDataUnsafe','day-off-overlay\x20stripe-bg','100%','length','toastMessage','ranges','doDateHeader',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','checked','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','seriesId','rgba(255,\x20159,\x2010,\x200.3)','scroll','anDonutCircle','doLoadPercent','entries','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','today','onclick','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','borderRadius','[Notify]\x20Error:\x20Text\x20generation\x20failed','uc_settings_v9','87UhQluM','custom','peGrid','timeColumn','addEventListener','text/plain;charset=UTF-8','map','update','btn-status-toggle','timeLineBadge','from','vibrate','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','querySelectorAll','setHeaderColor','px\x200px','create','10px','now','px\x20-','#gridColumns\x20.day-column','borderColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','guest','as-button\x20danger\x20bold','start','expand','touchstart','touches',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card','backgroundPosition','</span>\x20/\x20','offsetLeft','anPercent','\x20–∏–∑\x20','rangeEndDate','.day-off-overlay','as-button\x20danger','active','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','end','parse','toString','div','</b>\x0a\x0a','getFullYear','slice','createElement',']\x20Failed:','925850ewexAc','rangeStartTime','colIndex','valid','rgba(100,100,100,0.5)','location','getDay','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','syncLoad','<div\x20class=\x22ev-title\x22>','flex','dateStr','catch','doWorkHours','setItem','\x20status-completed','backgroundColor','createDocumentFragment','search','stringify','disableVerticalSwipes','clients','<div\x20class=\x22dch-day\x22>','success','rangeEndTime','btnDayToggle','%\x20-\x204px)','seriesCountContainer','getDate','anStart','find','block','height','.sheet','settingCancelWindow','inpRecurring','includes','firstChild','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','rgba(255,\x2069,\x2058,\x200.3)','color','(((.+)+)+)+$','zIndex','open','apply','T00:00:00',':\x20Client\x20already\x20booked','warning','%\x20+\x202px)','Unknown','–£—Å–ø–µ—à–Ω–æ','getHours','dayOptionsSheet','mini','saveLocally','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','getBoundingClientRect','background','pe-corner','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getMonth','splice','error','sid','BackButton','.day-column','10px\x2010px\x200\x200','v9.0-BATCH-CALENDAR','getAttribute','settings','scrollLeft','off','max','planned','uc_sessions_v9','inpClient','–ò–Ω—Ñ–æ','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','numeric','analyticsSheet','week','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','WebApp','#fff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deleted','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btnStatusToggle','min','uc_settings_cancel_window','[Notify]\x20Server\x20Response:','getMinutes','[Notify]\x20Error:\x20sessionData\x20is\x20null','toastTitle','width','show','data-date','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','classList','rangesSheet','total','msg','actionSheetOverlay','setDate','1304LgNXqF','blocked-range-part\x20stripe-bg','time-label','none','265ntjmRK','data','1446NdBOkd','borderLeftColor','display','asTitle','settingsSheet','insertBefore','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','toFixed','touchend','blocked-slot\x20stripe-bg','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','var(--acc-red)','day-column\x20','value','formatDate','mergeServerData','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','DOMContentLoaded','anTotalStats','month','btnDelete','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>','complete','long','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','floor','setBackgroundColor','client','matrixViewport','[Series]\x20Skipped\x20','rgba(','Local\x20Load\x20Error','calendar','mousedown',':00','stat-','data-day-idx','router.html','daysHeaderTrack','Batch\x20Sync\x20OK','setHours','ready','split','cancel_window','querySelector','save_settings','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','inpStart','user','overlay','undefined','12105iZqgSY','Error\x20setting\x20color:','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','header-','...','padStart','done','calc(','cancelled','textContent','rangeStartDate','.event-card','36618SbiTLN','602440OVWZNZ','1270276HNvUWq','push','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','findIndex','[Sync]\x20Loading\x20','closest','indexOf','\x20-\x20','ru-RU','series','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','exceptions','inpDate','</div><div\x20class=\x22ev-time\x22>','asBtnSeries','scrollWidth','doBusyHours','toLocaleString','#0a84ff','offClick','inpSeriesCount',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.',':00</span>','patternInfoBox','\x20‚Äî\x20','pattern','warn','status','event-card','analyticsList','btn-primary\x20btn-secondary','getTime','Save\x20settings\x20error:','actionSheet','[Notify]\x20Detected\x20Client\x20ID:','init_load','pe-cell\x20','</div><div\x20class=\x22dch-num\x22>','btn-status-toggle\x20undo-mode','var(--acc-green)','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','setAttribute','toLocaleDateString','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','name','scrollTop','delete','send_notification','gridColumns','random','toast','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','setMonth','single','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','round','href','[Notify]\x20Client\x20SWAP\x20detected','.period-switch\x20.p-btn','<b>‚úÖ\x20','forEach','rgba(48,\x20209,\x2088,\x200.15)','#050505','save','filter','innerHTML','.pib-text','10569890Zkopvb','.dch-stats-fill','range-item','23:59','option','var(--acc-current)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','stopPropagation','isArray','inpEnd','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','className','toUpperCase','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','anEnd','fetchFromServer','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','statLoadCard','var(--acc-orange)','remove','batch_sync','json','getElementById','Telegram','.day-col-header','sessionSheet','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','getItem','log','completed','client-stat-card','clientY','[Notify]\x20Attempting\x20to\x20send:','charAt','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','sheetTitle','add','</div>','null','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','clientId','Critical\x20TMA\x20Error:','keys','target','recurringOptionContainer','rgba(255,255,255,0.05)','[API\x20','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','top','then','send','cancel','clientWidth','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','dayOptionsTitle'];a2_0x44be=function(){return _0x4c8650;};return a2_0x44be();}function openActionSheet(_0x72d3de){const _0x10d139=a2_0x4d2e45,_0x55758b=document[_0x10d139(0x19e)](_0x10d139(0x2e6)),_0x52431d=document[_0x10d139(0x19e)](_0x10d139(0x278)),_0x1e451d=document['getElementById'](_0x10d139(0x283)),_0x6f9c5b=document[_0x10d139(0x19e)]('asBtnOne'),_0x2256d4=document[_0x10d139(0x19e)](_0x10d139(0x2d3));_0x52431d[_0x10d139(0x274)]['add'](_0x10d139(0x206)),_0x55758b[_0x10d139(0x274)]['add'](_0x10d139(0x23c));if(_0x72d3de===_0x10d139(0x306))_0x1e451d[_0x10d139(0x2c0)]=_0x10d139(0x2b1),_0x6f9c5b[_0x10d139(0x2c0)]=_0x10d139(0x28a),_0x6f9c5b['onclick']=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x2256d4[_0x10d139(0x2c0)]='–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ',_0x2256d4['onclick']=()=>{const _0x3d69a6=_0x10d139;closeActionSheet(),updateSeriesBatch(_0x3d69a6(0x2ce),tempSessionData);};else _0x72d3de==='delete'&&(_0x1e451d[_0x10d139(0x2c0)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x6f9c5b[_0x10d139(0x2c0)]=_0x10d139(0x28a),_0x6f9c5b[_0x10d139(0x193)]=_0x10d139(0x205),_0x6f9c5b[_0x10d139(0x1da)]=()=>{const _0x509adf=_0x10d139;closeActionSheet(),commitDelete(_0x509adf(0x2fc),sessions[_0x509adf(0x22f)](_0x23340d=>_0x23340d['id']===editingId));},_0x2256d4['textContent']=_0x10d139(0x1aa),_0x2256d4[_0x10d139(0x193)]=_0x10d139(0x1f7),_0x2256d4[_0x10d139(0x1da)]=()=>{const _0x9bda20=_0x10d139;closeActionSheet(),commitDelete(_0x9bda20(0x2ce),sessions[_0x9bda20(0x22f)](_0x5acc67=>_0x5acc67['id']===editingId));});}function closeActionSheet(){const _0x1f4424=a2_0x4d2e45;document[_0x1f4424(0x19e)]('actionSheet')['classList'][_0x1f4424(0x19b)](_0x1f4424(0x23c)),document['getElementById']('actionSheetOverlay')['classList'][_0x1f4424(0x19b)](_0x1f4424(0x206));}function openSettings(){const _0x51f147=a2_0x4d2e45;openSheet(_0x51f147(0x284));}function saveCoachSettings(){const _0x2dea40=a2_0x4d2e45,_0x6b5526=document[_0x2dea40(0x19e)](_0x2dea40(0x233))[_0x2dea40(0x28d)];localStorage[_0x2dea40(0x21f)](_0x2dea40(0x26b),_0x6b5526),console[_0x2dea40(0x1a4)]('[Settings]\x20Cancel\x20window\x20set\x20to:',_0x6b5526),DataManager[_0x2dea40(0x197)](_0x2dea40(0x2b0),{'settings':{'cancel_window':_0x6b5526}})[_0x2dea40(0x21d)](_0x2cdc76=>{const _0x1a94ea=_0x2dea40;console[_0x1a94ea(0x250)](_0x1a94ea(0x2e5),_0x2cdc76),showToast(_0x1a94ea(0x273),![]);});}function loadCoachSettings(){const _0x360ce9=a2_0x4d2e45,_0x545d9b=localStorage[_0x360ce9(0x1a3)](_0x360ce9(0x26b));_0x545d9b&&(document[_0x360ce9(0x19e)]('settingCancelWindow')['value']=_0x545d9b);}function openRangesSheet(){const _0x360f6b=a2_0x4d2e45;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x360f6b(0x275));}function addRange(){const _0x37b1be=a2_0x4d2e45,_0x51121c=document[_0x37b1be(0x19e)](_0x37b1be(0x2c1))[_0x37b1be(0x28d)],_0x3c8dd6=document[_0x37b1be(0x19e)](_0x37b1be(0x212))['value'],_0x157c2b=document[_0x37b1be(0x19e)](_0x37b1be(0x203))[_0x37b1be(0x28d)],_0x5f591a=document[_0x37b1be(0x19e)](_0x37b1be(0x229))[_0x37b1be(0x28d)];if(!_0x51121c||!_0x3c8dd6||!_0x157c2b||!_0x5f591a)return alert(_0x37b1be(0x2c7));const _0x1ff489=_0x51121c+'T'+_0x3c8dd6,_0x14dfe5=_0x157c2b+'T'+_0x5f591a;if(_0x1ff489>=_0x14dfe5)return alert('–û—à–∏–±–∫–∞\x20–¥–∞—Ç');specialRanges['push']({'start':_0x1ff489,'end':_0x14dfe5}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x37b1be(0x247)](),DataManager['fetchFromServer'](_0x37b1be(0x2b0),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x2be16e){const _0x3ddc4b=a2_0x4d2e45;specialRanges[_0x3ddc4b(0x24f)](_0x2be16e,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0x3ddc4b(0x247)](),DataManager[_0x3ddc4b(0x197)](_0x3ddc4b(0x2b0),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x168662=a2_0x4d2e45;document[_0x168662(0x19e)](_0x168662(0x2c1))[_0x168662(0x28d)]='',document[_0x168662(0x19e)]('rangeStartTime')[_0x168662(0x28d)]='00:00',document['getElementById'](_0x168662(0x203))[_0x168662(0x28d)]='',document[_0x168662(0x19e)]('rangeEndTime')['value']=_0x168662(0x18b);}function renderRangesList(){const _0x4be08e=a2_0x4d2e45,_0x2b052a=document[_0x4be08e(0x19e)]('rangesList');_0x2b052a[_0x4be08e(0x308)]='';if(!specialRanges['length']){_0x2b052a[_0x4be08e(0x308)]=_0x4be08e(0x1a2);return;}specialRanges[_0x4be08e(0x303)]((_0x4cc382,_0x173678)=>{const _0x21a20a=_0x4be08e,_0xc4b91f=document[_0x21a20a(0x20f)]('div');_0xc4b91f[_0x21a20a(0x193)]=_0x21a20a(0x18a);const _0x3c1522=_0x3235b2=>{const _0x4f0c2a=_0x21a20a,_0x2afca8=new Date(_0x3235b2);return _0x2afca8[_0x4f0c2a(0x22d)]()+'.'+String(_0x2afca8[_0x4f0c2a(0x24e)]()+0x1)[_0x4f0c2a(0x2bc)](0x2,'0')+'\x20'+String(_0x2afca8[_0x4f0c2a(0x244)]())[_0x4f0c2a(0x2bc)](0x2,'0')+':'+String(_0x2afca8[_0x4f0c2a(0x26d)]())[_0x4f0c2a(0x2bc)](0x2,'0');};_0xc4b91f['innerHTML']=_0x21a20a(0x1f5)+_0x3c1522(_0x4cc382[_0x21a20a(0x1f8)])+_0x21a20a(0x2dd)+_0x3c1522(_0x4cc382[_0x21a20a(0x208)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x173678+_0x21a20a(0x1cc),_0x2b052a[_0x21a20a(0x24c)](_0xc4b91f);});}function scrollToToday(){const _0x313e1d=a2_0x4d2e45,_0x5d938b=getLocalDateStr(new Date()),_0x41cdfd=document[_0x313e1d(0x19e)]('header-'+_0x5d938b),_0x965e62=document['getElementById'](_0x313e1d(0x29f));if(_0x41cdfd&&_0x965e62){const _0x595d98=_0x965e62[_0x313e1d(0x1bd)],_0x4b0606=_0x41cdfd['offsetLeft'],_0x23ded0=_0x41cdfd['offsetWidth'];_0x965e62[_0x313e1d(0x258)]=_0x4b0606-_0x595d98/0x2+_0x23ded0/0x2,_0x965e62[_0x313e1d(0x2f4)]=0x9*GRID_H;}}function onScroll(){const _0x4ca9a6=a2_0x4d2e45,_0x5f0a8d=document[_0x4ca9a6(0x19e)](_0x4ca9a6(0x29f)),_0x4abc20=document[_0x4ca9a6(0x1ec)](_0x4ca9a6(0x1a0));for(let _0x1c62e0 of _0x4abc20)if(_0x1c62e0[_0x4ca9a6(0x200)]>=_0x5f0a8d['scrollLeft']){const _0x18f4fb=new Date(_0x1c62e0['getAttribute']('data-date'));document['getElementById']('headerMonth')[_0x4ca9a6(0x2c0)]=_0x18f4fb[_0x4ca9a6(0x2d6)]('ru',{'month':_0x4ca9a6(0x298)})[_0x4ca9a6(0x194)]()+'\x20'+_0x18f4fb[_0x4ca9a6(0x20d)]();break;}}function showToast(_0x34bf6a,_0xde4252=![]){const _0x1c0055=a2_0x4d2e45,_0x213141=document[_0x1c0055(0x19e)](_0x1c0055(0x2f9));_0x213141[_0x1c0055(0x193)]='toast-notification\x20'+(_0xde4252?_0x1c0055(0x228):''),document[_0x1c0055(0x19e)](_0x1c0055(0x26f))[_0x1c0055(0x2c0)]=_0xde4252?_0x1c0055(0x243):_0x1c0055(0x25e),document['getElementById'](_0x1c0055(0x1c9))[_0x1c0055(0x2c0)]=_0x34bf6a,_0x213141['classList'][_0x1c0055(0x1ad)](_0x1c0055(0x271)),setTimeout(()=>{const _0x271db2=_0x1c0055;_0x213141[_0x271db2(0x274)][_0x271db2(0x19b)]('show');},0xbb8);}function openDayOptions(_0x31f6ee,_0x985353){const _0x184e75=a2_0x4d2e45;selectedDayForOptions=_0x31f6ee,document[_0x184e75(0x19e)](_0x184e75(0x1bf))[_0x184e75(0x2c0)]=_0x985353,openSheet(_0x184e75(0x245));}function toggleDayOff(){const _0x2e2574=a2_0x4d2e45;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]='off',reRenderBlocks(),closeAllSheets(),DataManager[_0x2e2574(0x247)](),DataManager['fetchFromServer'](_0x2e2574(0x2b0),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x25c447=a2_0x4d2e45;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x25c447(0x197)]('save_settings',{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x500211){const _0x35cbe2=a2_0x4d2e45;document[_0x35cbe2(0x19e)](_0x35cbe2(0x2b4))[_0x35cbe2(0x274)][_0x35cbe2(0x1ad)](_0x35cbe2(0x206)),document[_0x35cbe2(0x19e)](_0x500211)[_0x35cbe2(0x274)][_0x35cbe2(0x1ad)](_0x35cbe2(0x23c));}function closeAllSheets(){const _0x2af6cf=a2_0x4d2e45;document[_0x2af6cf(0x19e)](_0x2af6cf(0x2b4))[_0x2af6cf(0x274)]['remove'](_0x2af6cf(0x206)),document[_0x2af6cf(0x1ec)](_0x2af6cf(0x232))[_0x2af6cf(0x303)](_0xa24890=>_0xa24890[_0x2af6cf(0x274)][_0x2af6cf(0x19b)](_0x2af6cf(0x23c)));}function openPatternEditor(){const _0x3cd7e9=a2_0x4d2e45;closeAllSheets(),document['getElementById'](_0x3cd7e9(0x1c1))['classList'][_0x3cd7e9(0x1ad)]('open'),renderPatternEditor();}function closePatternEditor(){const _0x3d028b=a2_0x4d2e45;document[_0x3d028b(0x19e)](_0x3d028b(0x1c1))[_0x3d028b(0x274)]['remove']('open');}function savePattern(){const _0x11d26f=a2_0x4d2e45;document[_0x11d26f(0x19e)](_0x11d26f(0x1c1))['classList']['remove']('open'),reRenderBlocks(),DataManager[_0x11d26f(0x247)](),DataManager['fetchFromServer'](_0x11d26f(0x2b0),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x18078d=a2_0x4d2e45,_0x5bb895=document[_0x18078d(0x19e)](_0x18078d(0x1e1));_0x5bb895[_0x18078d(0x308)]='';const _0x4c9d37=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x38e104=document['createElement'](_0x18078d(0x20b));_0x38e104[_0x18078d(0x193)]=_0x18078d(0x24b),_0x5bb895[_0x18078d(0x24c)](_0x38e104),_0x4c9d37[_0x18078d(0x303)]((_0x22e474,_0x3fbf90)=>{const _0x5683c6=_0x18078d,_0x17fdde=document[_0x5683c6(0x20f)](_0x5683c6(0x20b));_0x17fdde[_0x5683c6(0x193)]=_0x5683c6(0x1c3),_0x17fdde[_0x5683c6(0x308)]=_0x22e474+_0x5683c6(0x2cf),_0x17fdde[_0x5683c6(0x1da)]=()=>toggleColPattern(_0x3fbf90),_0x5bb895[_0x5683c6(0x24c)](_0x17fdde);});for(let _0x4c0eae=0x0;_0x4c0eae<0x18;_0x4c0eae++){const _0x118c08=document['createElement'](_0x18078d(0x20b));_0x118c08[_0x18078d(0x193)]='pe-time-label',_0x118c08['innerHTML']=_0x18078d(0x1eb)+String(_0x4c0eae)[_0x18078d(0x2bc)](0x2,'0')+_0x18078d(0x2a5),_0x118c08[_0x18078d(0x1da)]=()=>toggleRowPattern(_0x4c0eae),_0x5bb895[_0x18078d(0x24c)](_0x118c08);for(let _0x4b7092=0x0;_0x4b7092<0x7;_0x4b7092++){const _0xc09c52=document[_0x18078d(0x20f)]('div'),_0x1dcbe2=(availabilityPattern[_0x4b7092]||[])[_0x18078d(0x235)](_0x4c0eae),_0xf932fa=!_0x1dcbe2;_0xc09c52[_0x18078d(0x193)]=_0x18078d(0x2e9)+(_0xf932fa?'active':''),_0xc09c52[_0x18078d(0x1da)]=()=>toggleSinglePattern(_0x4b7092,_0x4c0eae),_0x5bb895[_0x18078d(0x24c)](_0xc09c52);}}}function toggleSinglePattern(_0x2cde90,_0x71d95c){const _0x5e4d7b=a2_0x4d2e45;if(!availabilityPattern[_0x2cde90])availabilityPattern[_0x2cde90]=[];const _0x167ffe=availabilityPattern[_0x2cde90],_0x4b54ba=_0x167ffe[_0x5e4d7b(0x2cb)](_0x71d95c);_0x4b54ba===-0x1?_0x167ffe['push'](_0x71d95c):_0x167ffe[_0x5e4d7b(0x24f)](_0x4b54ba,0x1),renderPatternEditor();}function toggleColPattern(_0x383a6d){const _0x2b69b9=a2_0x4d2e45;if(!availabilityPattern[_0x383a6d])availabilityPattern[_0x383a6d]=[];const _0x20475a=availabilityPattern[_0x383a6d];_0x20475a['length']===0x0?availabilityPattern[_0x383a6d]=Array[_0x2b69b9(0x1e9)]({'length':0x18},(_0x177dd,_0x1668bd)=>_0x1668bd):availabilityPattern[_0x383a6d]=[],renderPatternEditor();}function toggleRowPattern(_0x539023){const _0x1c1f32=a2_0x4d2e45;let _0x30ee5d=!![];for(let _0x4adc58=0x0;_0x4adc58<0x7;_0x4adc58++){if((availabilityPattern[_0x4adc58]||[])[_0x1c1f32(0x235)](_0x539023)){_0x30ee5d=![];break;}}for(let _0x273b93=0x0;_0x273b93<0x7;_0x273b93++){if(!availabilityPattern[_0x273b93])availabilityPattern[_0x273b93]=[];const _0x52e433=availabilityPattern[_0x273b93][_0x1c1f32(0x2cb)](_0x539023);if(_0x30ee5d){if(_0x52e433===-0x1)availabilityPattern[_0x273b93][_0x1c1f32(0x2c6)](_0x539023);}else{if(_0x52e433!==-0x1)availabilityPattern[_0x273b93][_0x1c1f32(0x24f)](_0x52e433,0x1);}}renderPatternEditor();}function renderPCol(_0x1f2ea0,_0x4aeaba){const _0x71f558=a2_0x4d2e45;_0x1f2ea0['innerHTML']='';const _0x13e3c3=Math[_0x71f558(0x2fe)](_0x1f2ea0[_0x71f558(0x200)]);(availabilityPattern[_0x4aeaba]||[])['forEach'](_0x3c839e=>{const _0x569863=_0x71f558,_0x54ec3b=document[_0x569863(0x20f)](_0x569863(0x20b));_0x54ec3b[_0x569863(0x193)]=_0x569863(0x289);const _0x11fbdd=_0x3c839e*GRID_H;_0x54ec3b[_0x569863(0x1cd)]['top']=_0x11fbdd+'px',_0x54ec3b['style'][_0x569863(0x1fe)]='-'+_0x13e3c3+_0x569863(0x1f2)+_0x11fbdd+'px',_0x54ec3b[_0x569863(0x1da)]=_0x424c63=>{const _0x4401c9=_0x569863;_0x424c63[_0x4401c9(0x18f)](),toggleSinglePattern(_0x4aeaba,_0x3c839e);},_0x1f2ea0['appendChild'](_0x54ec3b);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x2c081d=a2_0x4d2e45,_0x3f732c=new Date(),_0x1ad399=document[_0x2c081d(0x19e)]('globalTimeLine'),_0x4da4c1=document[_0x2c081d(0x19e)](_0x2c081d(0x1e8)),_0x376b28=(_0x3f732c['getHours']()*0x3c+_0x3f732c[_0x2c081d(0x26d)]())/0x3c*GRID_H;_0x1ad399[_0x2c081d(0x1cd)][_0x2c081d(0x1b9)]=_0x376b28+'px',_0x1ad399[_0x2c081d(0x1cd)][_0x2c081d(0x282)]=_0x2c081d(0x230),_0x4da4c1[_0x2c081d(0x2c0)]=String(_0x3f732c[_0x2c081d(0x244)]())['padStart'](0x2,'0')+':'+String(_0x3f732c[_0x2c081d(0x26d)]())['padStart'](0x2,'0'),_0x4da4c1[_0x2c081d(0x1cd)][_0x2c081d(0x282)]=_0x2c081d(0x230),_0x4da4c1['style'][_0x2c081d(0x1b9)]=_0x376b28+'px';}document[a2_0x4d2e45(0x1e3)](a2_0x4d2e45(0x291),init);function openDayOptions(_0xb24427){const _0x330629=a2_0x4d2e45;selectedDayForOptions=_0xb24427;const _0x2dcc98=new Date(_0xb24427),_0x50e4b2={'weekday':'long','day':_0x330629(0x260),'month':_0x330629(0x298),'year':_0x330629(0x260)},_0xa73ce3=_0x2dcc98[_0x330629(0x2f0)](_0x330629(0x2cd),_0x50e4b2);document[_0x330629(0x19e)](_0x330629(0x1cb))[_0x330629(0x2c0)]=_0xa73ce3[_0x330629(0x1a9)](0x0)[_0x330629(0x194)]()+_0xa73ce3[_0x330629(0x20e)](0x1);let _0x27f99a=_0x2dcc98['getDay']()-0x1;if(_0x27f99a===-0x1)_0x27f99a=0x6;const _0x1fa77f=availabilityPattern[_0x27f99a]||[],_0x14799f=0x18-_0x1fa77f[_0x330629(0x1c8)],_0x9fa24c=_0x14799f*0x3c,_0x3cc506=sessions[_0x330629(0x307)](_0x23a6b7=>_0x23a6b7[_0x330629(0x21c)]===_0xb24427&&_0x23a6b7[_0x330629(0x2e0)]!=='cancelled');let _0x3f2d0d=_0x3cc506[_0x330629(0x1e5)](_0x23a13f=>{const _0x10a270=_0x330629,[_0x4f8813,_0x52843c]=_0x23a13f[_0x10a270(0x1f8)][_0x10a270(0x2ad)](':')[_0x10a270(0x1e5)](Number),[_0x2d94e4,_0x425422]=_0x23a13f[_0x10a270(0x208)][_0x10a270(0x2ad)](':')[_0x10a270(0x1e5)](Number);return[_0x4f8813*0x3c+_0x52843c,_0x2d94e4*0x3c+_0x425422];});_0x3f2d0d[_0x330629(0x1c0)]((_0x45cb1e,_0x58403e)=>_0x45cb1e[0x0]-_0x58403e[0x0]);let _0x5863dd=[];if(_0x3f2d0d['length']>0x0){let _0x824e37=_0x3f2d0d[0x0];for(let _0x5c4d52=0x1;_0x5c4d52<_0x3f2d0d[_0x330629(0x1c8)];_0x5c4d52++){_0x3f2d0d[_0x5c4d52][0x0]<_0x824e37[0x1]?_0x824e37[0x1]=Math[_0x330629(0x25a)](_0x824e37[0x1],_0x3f2d0d[_0x5c4d52][0x1]):(_0x5863dd[_0x330629(0x2c6)](_0x824e37),_0x824e37=_0x3f2d0d[_0x5c4d52]);}_0x5863dd[_0x330629(0x2c6)](_0x824e37);}let _0x59121d=0x0;_0x5863dd[_0x330629(0x303)](_0x4d2722=>_0x59121d+=_0x4d2722[0x1]-_0x4d2722[0x0]),document[_0x330629(0x19e)](_0x330629(0x21e))[_0x330629(0x2c0)]=formatMinsToHrs(_0x9fa24c),document[_0x330629(0x19e)](_0x330629(0x2d5))[_0x330629(0x2c0)]=formatMinsToHrs(_0x59121d);const _0x23ba1b=_0x9fa24c>0x0?Math['round'](_0x59121d/_0x9fa24c*0x64):0x0,_0x50ee4c=document[_0x330629(0x19e)](_0x330629(0x1d6));_0x50ee4c[_0x330629(0x2c0)]=_0x23ba1b+'%';const _0xf6eba4=document['getElementById'](_0x330629(0x199));if(_0x23ba1b>0x64)_0x50ee4c['style'][_0x330629(0x239)]=_0x330629(0x28b),_0xf6eba4[_0x330629(0x1cd)][_0x330629(0x1f4)]=_0x330629(0x238);else _0x23ba1b>0x50?(_0x50ee4c['style'][_0x330629(0x239)]=_0x330629(0x19a),_0xf6eba4['style'][_0x330629(0x1f4)]=_0x330629(0x1d3)):(_0x50ee4c[_0x330629(0x1cd)][_0x330629(0x239)]=_0x330629(0x2ec),_0xf6eba4[_0x330629(0x1cd)]['borderColor']=_0x330629(0x1b6));const _0x378775=document[_0x330629(0x19e)]('doEventsList');_0x378775['innerHTML']='';_0x3cc506[_0x330629(0x1c8)]===0x0?_0x378775[_0x330629(0x308)]=_0x330629(0x2b9):(_0x3cc506[_0x330629(0x1c0)]((_0x50c840,_0x124446)=>_0x50c840[_0x330629(0x1f8)]['localeCompare'](_0x124446['start'])),_0x3cc506[_0x330629(0x303)](_0x5bd9d5=>{const _0x48a5d6=_0x330629,_0x20ec4d=clients[_0x48a5d6(0x22f)](_0x1c49f2=>_0x1c49f2[_0x48a5d6(0x2f3)]===_0x5bd9d5[_0x48a5d6(0x29e)]),_0x419f50=_0x20ec4d?_0x20ec4d[_0x48a5d6(0x239)]:_0x48a5d6(0x265),_0x5a98e1=_0x5bd9d5['status']===_0x48a5d6(0x1a5),_0x2da1ae=_0x5a98e1?_0x48a5d6(0x25f):'',_0x57aed1=document[_0x48a5d6(0x20f)]('div');_0x57aed1[_0x48a5d6(0x193)]='de-item',_0x57aed1[_0x48a5d6(0x1cd)][_0x48a5d6(0x281)]=_0x419f50,_0x57aed1[_0x48a5d6(0x308)]=_0x48a5d6(0x296)+_0x5bd9d5['start']+_0x48a5d6(0x2cc)+_0x5bd9d5[_0x48a5d6(0x208)]+_0x48a5d6(0x24d)+_0x5bd9d5['client']+_0x48a5d6(0x1ce)+_0x2da1ae+_0x48a5d6(0x266),_0x378775[_0x48a5d6(0x24c)](_0x57aed1);}));const _0x1a497a=document[_0x330629(0x19e)](_0x330629(0x22a)),_0x24bc07=dateExceptions[_0xb24427]===_0x330629(0x259);_0x24bc07?(_0x1a497a[_0x330629(0x2c0)]='–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º',_0x1a497a[_0x330629(0x193)]=_0x330629(0x2e3),_0x1a497a[_0x330629(0x1cd)][_0x330629(0x239)]=_0x330629(0x2ec),_0x1a497a[_0x330629(0x1cd)][_0x330629(0x24a)]=_0x330629(0x304)):(_0x1a497a[_0x330629(0x2c0)]='–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º',_0x1a497a[_0x330629(0x193)]='btn-primary\x20btn-danger',_0x1a497a[_0x330629(0x1cd)]['color']=_0x330629(0x28b),_0x1a497a['style'][_0x330629(0x24a)]='rgba(255,\x2069,\x2058,\x200.15)'),openSheet(_0x330629(0x245));}let currentAnPeriod=a2_0x4d2e45(0x262);function openAnalytics(){const _0x44152a=a2_0x4d2e45,_0x4a4784=document[_0x44152a(0x2af)](_0x44152a(0x301));setAnalyticsPeriod(_0x44152a(0x262),_0x4a4784),closeAllSheets(),openSheet(_0x44152a(0x261));}function setAnalyticsPeriod(_0xc1a747,_0x3bfd91){const _0x5bb408=a2_0x4d2e45;currentAnPeriod=_0xc1a747,document[_0x5bb408(0x1ec)](_0x5bb408(0x301))[_0x5bb408(0x303)](_0x32d4cc=>_0x32d4cc[_0x5bb408(0x274)][_0x5bb408(0x19b)](_0x5bb408(0x206)));if(_0x3bfd91)_0x3bfd91[_0x5bb408(0x274)][_0x5bb408(0x1ad)](_0x5bb408(0x206));const _0x2bd01c=document[_0x5bb408(0x19e)]('anCustomDates');_0x2bd01c[_0x5bb408(0x1cd)][_0x5bb408(0x282)]=_0xc1a747===_0x5bb408(0x1e0)?_0x5bb408(0x21b):'none';const _0x1a359f=new Date();let _0x10bb9b=new Date(),_0x2547b5=new Date();if(_0xc1a747===_0x5bb408(0x262))_0x10bb9b=getStartOfWeek(_0x1a359f),_0x2547b5=new Date(_0x10bb9b),_0x2547b5[_0x5bb408(0x279)](_0x2547b5['getDate']()+0x6);else{if(_0xc1a747===_0x5bb408(0x293))_0x10bb9b=new Date(_0x1a359f[_0x5bb408(0x20d)](),_0x1a359f[_0x5bb408(0x24e)](),0x1),_0x2547b5=new Date(_0x1a359f['getFullYear'](),_0x1a359f[_0x5bb408(0x24e)]()+0x1,0x0);else{!document[_0x5bb408(0x19e)](_0x5bb408(0x22e))[_0x5bb408(0x28d)]&&(document[_0x5bb408(0x19e)](_0x5bb408(0x22e))[_0x5bb408(0x28d)]=getLocalDateStr(_0x1a359f),document[_0x5bb408(0x19e)]('anEnd')[_0x5bb408(0x28d)]=getLocalDateStr(_0x1a359f));refreshAnalytics();return;}}document[_0x5bb408(0x19e)]('anStart')[_0x5bb408(0x28d)]=getLocalDateStr(_0x10bb9b),document['getElementById'](_0x5bb408(0x196))['value']=getLocalDateStr(_0x2547b5),refreshAnalytics();}function refreshAnalytics(){const _0x446dd6=a2_0x4d2e45,_0x3ecd65=document['getElementById']('anStart')['value'],_0x57dea3=document[_0x446dd6(0x19e)](_0x446dd6(0x196))[_0x446dd6(0x28d)];if(!_0x3ecd65||!_0x57dea3)return;const _0x13f3e3=sessions[_0x446dd6(0x307)](_0x15d68c=>_0x15d68c[_0x446dd6(0x21c)]>=_0x3ecd65&&_0x15d68c[_0x446dd6(0x21c)]<=_0x57dea3&&_0x15d68c[_0x446dd6(0x2e0)]!==_0x446dd6(0x2bf)),_0x4d9ce5=_0x13f3e3[_0x446dd6(0x1c8)],_0x12cc1e=_0x13f3e3[_0x446dd6(0x307)](_0x3b71e6=>_0x3b71e6[_0x446dd6(0x2e0)]===_0x446dd6(0x1a5))['length'],_0x2e83ec=_0x4d9ce5>0x0?Math[_0x446dd6(0x2fe)](_0x12cc1e/_0x4d9ce5*0x64):0x0;document[_0x446dd6(0x19e)](_0x446dd6(0x201))['textContent']=_0x2e83ec+'%',document['getElementById'](_0x446dd6(0x292))[_0x446dd6(0x2c0)]=_0x12cc1e+_0x446dd6(0x202)+_0x4d9ce5+_0x446dd6(0x1be);const _0x404116=document[_0x446dd6(0x19e)](_0x446dd6(0x1d5)),_0x4a2aa6=0x2*Math['PI']*0x23,_0x28152a=_0x4a2aa6-_0x2e83ec/0x64*_0x4a2aa6;_0x404116[_0x446dd6(0x1cd)]['strokeDashoffset']=_0x28152a;const _0xb473b4={};_0x13f3e3[_0x446dd6(0x303)](_0x3835f1=>{const _0x50b8a4=_0x446dd6;if(!_0xb473b4[_0x3835f1['client']]){const _0x20c4fb=clients[_0x50b8a4(0x22f)](_0x2e689a=>_0x2e689a['name']===_0x3835f1[_0x50b8a4(0x29e)]);_0xb473b4[_0x3835f1['client']]={'total':0x0,'done':0x0,'color':_0x20c4fb?_0x20c4fb[_0x50b8a4(0x239)]:_0x50b8a4(0x265)};}_0xb473b4[_0x3835f1[_0x50b8a4(0x29e)]][_0x50b8a4(0x276)]++;if(_0x3835f1[_0x50b8a4(0x2e0)]===_0x50b8a4(0x1a5))_0xb473b4[_0x3835f1['client']][_0x50b8a4(0x2bd)]++;});const _0x491010=document[_0x446dd6(0x19e)](_0x446dd6(0x2e2));_0x491010[_0x446dd6(0x308)]='';const _0x3bd006=Object[_0x446dd6(0x1d7)](_0xb473b4)[_0x446dd6(0x1c0)]((_0xcaaf97,_0x1d6162)=>_0x1d6162[0x1][_0x446dd6(0x276)]-_0xcaaf97[0x1][_0x446dd6(0x276)]);if(_0x3bd006[_0x446dd6(0x1c8)]===0x0){_0x491010[_0x446dd6(0x308)]='<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>';return;}_0x3bd006[_0x446dd6(0x303)](([_0x47869c,_0x648d5e])=>{const _0x30bba2=_0x446dd6,_0x305aa2=Math[_0x30bba2(0x2fe)](_0x648d5e['done']/_0x648d5e[_0x30bba2(0x276)]*0x64),_0x50318e=document[_0x30bba2(0x20f)]('div');_0x50318e[_0x30bba2(0x193)]=_0x30bba2(0x1a6),_0x50318e[_0x30bba2(0x1cd)][_0x30bba2(0x281)]=_0x648d5e[_0x30bba2(0x239)],_0x50318e[_0x30bba2(0x308)]=_0x30bba2(0x18e)+_0x47869c+_0x30bba2(0x299)+_0x648d5e['done']+_0x30bba2(0x1ff)+_0x648d5e[_0x30bba2(0x276)]+_0x30bba2(0x207)+_0x305aa2+_0x30bba2(0x268),_0x491010[_0x30bba2(0x24c)](_0x50318e);});}function formatMinsToHrs(_0x156cd3){const _0x27a0c9=a2_0x4d2e45;if(_0x156cd3===0x0)return'0';const _0x6cb393=Math[_0x27a0c9(0x29c)](_0x156cd3/0x3c),_0xa3035f=_0x156cd3%0x3c;if(_0xa3035f===0x0)return _0x6cb393+'—á';return _0x6cb393+'—á\x20'+_0xa3035f+'–º';}