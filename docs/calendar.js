const a2_0xf5db6b=a2_0x1313;(function(_0x31f9f4,_0x2f2e03){const _0x4e02a6=a2_0x1313,_0xfdc526=_0x31f9f4();while(!![]){try{const _0x2c170a=parseInt(_0x4e02a6(0xf7))/0x1+-parseInt(_0x4e02a6(0x20a))/0x2*(-parseInt(_0x4e02a6(0xf1))/0x3)+-parseInt(_0x4e02a6(0x117))/0x4*(-parseInt(_0x4e02a6(0x1fe))/0x5)+-parseInt(_0x4e02a6(0x226))/0x6*(-parseInt(_0x4e02a6(0xbb))/0x7)+parseInt(_0x4e02a6(0xc8))/0x8+parseInt(_0x4e02a6(0xdb))/0x9*(-parseInt(_0x4e02a6(0xe1))/0xa)+-parseInt(_0x4e02a6(0x1df))/0xb;if(_0x2c170a===_0x2f2e03)break;else _0xfdc526['push'](_0xfdc526['shift']());}catch(_0x51f938){_0xfdc526['push'](_0xfdc526['shift']());}}}(a2_0x22f3,0x21c5d),function initTMA(){const _0x7e562f=a2_0x1313;try{const _0x461563=window[_0x7e562f(0x223)]?.[_0x7e562f(0x126)];if(!_0x461563)return;_0x461563[_0x7e562f(0x228)](),_0x461563[_0x7e562f(0xdd)]();try{_0x461563[_0x7e562f(0xd4)]('#050505'),_0x461563[_0x7e562f(0x221)]&&_0x461563[_0x7e562f(0x221)](_0x7e562f(0x1b6));}catch(_0x33781a){console[_0x7e562f(0x15d)](_0x7e562f(0x1fd),_0x33781a);}try{_0x461563[_0x7e562f(0x1f0)]&&(_0x461563[_0x7e562f(0x1f0)][_0x7e562f(0x1ed)](),_0x461563[_0x7e562f(0x1f0)][_0x7e562f(0xfb)](),_0x461563[_0x7e562f(0x1f0)][_0x7e562f(0x234)](function(){window['location']['href']='router.html';}));}catch(_0xb32264){console[_0x7e562f(0x15d)](_0x7e562f(0x227),_0xb32264);}try{if(_0x461563['disableVerticalSwipes'])_0x461563[_0x7e562f(0x1e7)]();}catch(_0x22386c){}}catch(_0x1fe01c){console[_0x7e562f(0xda)](_0x7e562f(0xd8),_0x1fe01c);}}());function isAdmin(){const _0x5e2f28=a2_0x1313;try{const _0x3572c7=Number(window[_0x5e2f28(0x223)]?.[_0x5e2f28(0x126)]?.[_0x5e2f28(0x1ef)]?.['user']?.['id']);return _0x3572c7===0xbaf7174;}catch(_0x501b8f){return![];}}const APP_VERSION='v9.0-BATCH-CALENDAR',API_URL='https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec',GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS='uc_clients_v9',KEY_SESSIONS=a2_0xf5db6b(0x18d),KEY_SETTINGS='uc_settings_v9';let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0x5857fc=a2_0xf5db6b;return window[_0x5857fc(0x223)]?.[_0x5857fc(0x126)]?.[_0x5857fc(0x1ef)]?.[_0x5857fc(0x1cd)]?.['id']||_0x5857fc(0xff);},'saveLocally'(){const _0x271a19=a2_0xf5db6b;try{localStorage[_0x271a19(0x1c4)](KEY_CLIENTS,JSON[_0x271a19(0x140)](clients)),localStorage[_0x271a19(0x1c4)](KEY_SESSIONS,JSON[_0x271a19(0x140)](sessions)),localStorage[_0x271a19(0x1c4)](KEY_SETTINGS,JSON['stringify']({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x4bf941){console[_0x271a19(0xda)](_0x271a19(0x119),_0x4bf941);}},'loadLocal'(){const _0x51d576=a2_0xf5db6b;try{const _0x1bc08c=localStorage[_0x51d576(0x20c)](KEY_CLIENTS);if(_0x1bc08c)clients=JSON[_0x51d576(0x122)](_0x1bc08c);const _0x2c5693=localStorage[_0x51d576(0x20c)](KEY_SESSIONS);if(_0x2c5693)sessions=JSON['parse'](_0x2c5693);const _0x36d2b9=localStorage[_0x51d576(0x20c)](KEY_SETTINGS);if(_0x36d2b9){const _0x5e2535=JSON[_0x51d576(0x122)](_0x36d2b9);if(_0x5e2535[_0x51d576(0x1ec)])availabilityPattern=_0x5e2535[_0x51d576(0x1ec)];if(_0x5e2535[_0x51d576(0x1b7)])dateExceptions=_0x5e2535[_0x51d576(0x1b7)];if(_0x5e2535[_0x51d576(0xc3)])specialRanges=_0x5e2535[_0x51d576(0xc3)];}else{for(let _0x41ca11=0x0;_0x41ca11<0x7;_0x41ca11++)availabilityPattern[_0x41ca11]=Array[_0x51d576(0x1f1)]({'length':0xc},(_0x352c90,_0x15aad8)=>_0x15aad8+0x9);}}catch(_0x1dc3e7){console[_0x51d576(0xda)]('Local\x20Load\x20Error',_0x1dc3e7);}},async 'fetchFromServer'(_0x610d72,_0x265bfa={}){const _0x2a4cfa=a2_0xf5db6b,_0x30b431=window[_0x2a4cfa(0x223)]?.['WebApp'],_0x3e1073={'action':_0x610d72,'init_data':_0x30b431?.['initData']||'',..._0x265bfa};try{const _0x59b8ed=await fetch(API_URL,{'method':_0x2a4cfa(0xc0),'headers':{'Content-Type':_0x2a4cfa(0x192)},'body':JSON[_0x2a4cfa(0x140)](_0x3e1073)}),_0x5d5a18=await _0x59b8ed[_0x2a4cfa(0x12a)]();if(!_0x5d5a18['ok'])throw new Error(_0x5d5a18[_0x2a4cfa(0xda)]||'Server\x20Error');return _0x5d5a18[_0x2a4cfa(0x18c)];}catch(_0x2a01a7){console['error'](_0x2a4cfa(0x1fb)+_0x610d72+_0x2a4cfa(0x214),_0x2a01a7);throw _0x2a01a7;}},async 'syncLoad'(){const _0x3990e5=a2_0xf5db6b,_0x14b02d=new Date(),_0x4f9092=_0x14b02d[_0x3990e5(0x231)]()+'-'+String(_0x14b02d[_0x3990e5(0x137)]()+0x1)[_0x3990e5(0x139)](0x2,'0'),_0x2d228f=new Date(_0x14b02d);_0x2d228f[_0x3990e5(0x1fa)](_0x14b02d['getMonth']()+0x1);const _0x2afd3b=_0x2d228f[_0x3990e5(0x231)]()+'-'+String(_0x2d228f[_0x3990e5(0x137)]()+0x1)['padStart'](0x2,'0'),_0x9f4155=Date[_0x3990e5(0x236)]();console[_0x3990e5(0x15d)](_0x3990e5(0x11f)+_0x4f9092+',\x20'+_0x2afd3b+'...');try{const [_0x4f9c6c,_0x47f9e6]=await Promise[_0x3990e5(0x195)]([this['fetchFromServer'](_0x3990e5(0xfd),{'month_str':_0x4f9092}),this[_0x3990e5(0x189)]('init_load',{'month_str':_0x2afd3b})]);if(lastUserActionTime>_0x9f4155)return console[_0x3990e5(0x158)](_0x3990e5(0x165)),![];return this[_0x3990e5(0xf6)](_0x4f9c6c,_0x4f9092),this[_0x3990e5(0xf6)](_0x47f9e6,_0x2afd3b),this[_0x3990e5(0x138)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x3ed4a4){console[_0x3990e5(0xda)](_0x3ed4a4);throw _0x3ed4a4;}},'mergeServerData'(_0x6b4b9,_0x370da5){const _0x39735e=a2_0xf5db6b;if(!_0x6b4b9)return;_0x6b4b9['clients']&&Array[_0x39735e(0xd5)](_0x6b4b9['clients'])&&(clients=_0x6b4b9[_0x39735e(0x15f)]);if(_0x6b4b9['settings']){if(_0x6b4b9[_0x39735e(0x146)][_0x39735e(0x1ec)])availabilityPattern=_0x6b4b9[_0x39735e(0x146)]['pattern'];if(_0x6b4b9[_0x39735e(0x146)]['exceptions'])dateExceptions=_0x6b4b9[_0x39735e(0x146)][_0x39735e(0x1b7)];if(_0x6b4b9[_0x39735e(0x146)][_0x39735e(0xc3)])specialRanges=_0x6b4b9[_0x39735e(0x146)]['ranges'];if(_0x6b4b9['settings']['cancel_window']){localStorage['setItem'](_0x39735e(0x219),_0x6b4b9[_0x39735e(0x146)][_0x39735e(0x1be)]);const _0x11e88b=document[_0x39735e(0x1e9)](_0x39735e(0xf8));if(_0x11e88b)_0x11e88b[_0x39735e(0x20b)]=_0x6b4b9['settings']['cancel_window'];}}_0x6b4b9[_0x39735e(0x1c9)]&&(sessions=sessions['filter'](_0x1fde72=>!_0x1fde72['dateStr'][_0x39735e(0x179)](_0x370da5)),Object[_0x39735e(0x1e5)](_0x6b4b9[_0x39735e(0x1c9)])[_0x39735e(0xd2)](_0x5af3c8=>{const _0x5c8ee2=_0x39735e,_0x4a2b7f=_0x6b4b9[_0x5c8ee2(0x1c9)][_0x5af3c8];_0x4a2b7f[_0x5c8ee2(0xd2)](_0x43d2a3=>{const _0x36a425=_0x5c8ee2,_0x2da8ea=clients[_0x36a425(0x14c)](_0x70c9d7=>String(_0x70c9d7['id'])===String(_0x43d2a3['c']));sessions[_0x36a425(0x18e)]({'id':_0x43d2a3['i'],'clientId':_0x43d2a3['c'],'client':_0x2da8ea?_0x2da8ea[_0x36a425(0x196)]:'Unknown','dateStr':_0x370da5+'-'+_0x5af3c8[_0x36a425(0x139)](0x2,'0'),'start':_0x43d2a3['s'],'end':_0x43d2a3['e'],'status':_0x43d2a3['st']||_0x36a425(0x112),'note':_0x43d2a3['n']||'','seriesId':_0x43d2a3[_0x36a425(0x22f)]||null});});}));},async 'syncBatch'(_0x1d9c48){const _0x32903a=a2_0xf5db6b,_0x57c618=[...new Set(_0x1d9c48)],_0x73a269=_0x57c618[_0x32903a(0x11a)](_0x3b4c62=>{const _0x4df8cd=_0x32903a,_0x21009a=sessions[_0x4df8cd(0x16b)](_0x2e769f=>_0x2e769f[_0x4df8cd(0x129)]===_0x3b4c62&&_0x2e769f[_0x4df8cd(0x100)]!==_0x4df8cd(0x1f5)),_0x2404e3=_0x21009a[_0x4df8cd(0x11a)](_0x327a52=>({'i':_0x327a52['id'],'c':_0x327a52['clientId'],'s':_0x327a52['start'],'e':_0x327a52[_0x4df8cd(0x16f)],'st':_0x327a52[_0x4df8cd(0x100)],'n':_0x327a52[_0x4df8cd(0x102)],'sid':_0x327a52[_0x4df8cd(0x1f7)]}));return{'date':_0x3b4c62,'day_data':_0x2404e3};});if(_0x73a269[_0x32903a(0x22e)]===0x0)return;console[_0x32903a(0x15d)](_0x32903a(0xcd)+_0x73a269['length']+'\x20days'),await this[_0x32903a(0x189)](_0x32903a(0x108),{'changes':_0x73a269});}};async function init(){const _0x5830c5=a2_0xf5db6b;DataManager[_0x5830c5(0x193)](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x5830c5(0x1e9)](_0x5830c5(0x1c0))[_0x5830c5(0x19a)](_0x5830c5(0x211),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x5830c5(0x176)]()[_0x5830c5(0x1dd)](()=>{const _0x248129=_0x5830c5;showToast(_0x248129(0x1ae),!![]);})['catch'](_0x3d7d00=>{const _0x209881=_0x5830c5;showToast(_0x209881(0x239),![]);});}function generateId(){const _0x59afa2=a2_0xf5db6b;return Date[_0x59afa2(0x236)]()[_0x59afa2(0xba)](0x24)+Math['random']()[_0x59afa2(0xba)](0x24)[_0x59afa2(0x121)](0x2,0x5);}function toggleSeriesInput(){const _0x809a63=a2_0xf5db6b,_0x10f037=document[_0x809a63(0x1e9)](_0x809a63(0x16d))[_0x809a63(0x1fc)],_0x337780=document[_0x809a63(0x1e9)](_0x809a63(0xee));_0x337780[_0x809a63(0x22c)][_0x809a63(0x13c)]=_0x10f037?_0x809a63(0x23b):_0x809a63(0x1db);const _0x37aed9=document[_0x809a63(0x1e9)](_0x809a63(0x1b9));_0x37aed9[_0x809a63(0x22c)][_0x809a63(0x1dc)]=_0x10f037?_0x809a63(0x118):_0x809a63(0x20e);}function openAddSession(_0xa5b3e){const _0x1459d1=a2_0xf5db6b;editingId=null,populateClientSelect(),document[_0x1459d1(0x1e9)](_0x1459d1(0xc7))[_0x1459d1(0x1d5)]=_0x1459d1(0xdf),document['getElementById']('btnDelete')[_0x1459d1(0x22c)]['display']=_0x1459d1(0x1db),document['getElementById'](_0x1459d1(0x1b1))[_0x1459d1(0x22c)]['display']=_0x1459d1(0x1db);const _0x14c1e2=document['getElementById'](_0x1459d1(0x1b9)),_0x2c2232=document[_0x1459d1(0x1e9)]('seriesCountContainer');_0x14c1e2[_0x1459d1(0x22c)][_0x1459d1(0x13c)]=_0x1459d1(0x17b),_0x14c1e2['style'][_0x1459d1(0x1dc)]=_0x1459d1(0x20e),document['getElementById'](_0x1459d1(0x16d))[_0x1459d1(0x1fc)]=![],document['getElementById']('inpSeriesCount')['value']=0x4,_0x2c2232['style'][_0x1459d1(0x13c)]='none',document[_0x1459d1(0x1e9)]('inpDate')[_0x1459d1(0x20b)]=getLocalDateStr(_0xa5b3e),updateDateDisplay();const _0x30a976=_0xa5b3e[_0x1459d1(0x175)]();document[_0x1459d1(0x1e9)]('inpStart')[_0x1459d1(0x20b)]=String(_0x30a976)[_0x1459d1(0x139)](0x2,'0')+':00',document[_0x1459d1(0x1e9)](_0x1459d1(0x159))[_0x1459d1(0x20b)]=String(_0x30a976+0x1)['padStart'](0x2,'0')+_0x1459d1(0x148),openSheet('sessionSheet');}function openEdit(_0x55415c){const _0x13bc23=a2_0xf5db6b;editingId=_0x55415c['id'],populateClientSelect(),document[_0x13bc23(0x1e9)](_0x13bc23(0xc7))[_0x13bc23(0x1d5)]=_0x13bc23(0x134),document[_0x13bc23(0x1e9)](_0x13bc23(0x23a))[_0x13bc23(0x22c)][_0x13bc23(0x13c)]='block';const _0x18cacc=document[_0x13bc23(0x1e9)](_0x13bc23(0x1b1));_0x18cacc[_0x13bc23(0x22c)][_0x13bc23(0x13c)]='flex';_0x55415c[_0x13bc23(0x100)]==='completed'?(_0x18cacc[_0x13bc23(0xde)]='btn-status-toggle\x20undo-mode',_0x18cacc[_0x13bc23(0x210)]=_0x13bc23(0x170)):(_0x18cacc['className']=_0x13bc23(0x13a),_0x18cacc[_0x13bc23(0x210)]=_0x13bc23(0xea));const _0x4c08b3=!!_0x55415c[_0x13bc23(0x1f7)];document[_0x13bc23(0x1e9)](_0x13bc23(0x1b9))[_0x13bc23(0x22c)][_0x13bc23(0x13c)]='none',document[_0x13bc23(0x1e9)](_0x13bc23(0xee))[_0x13bc23(0x22c)]['display']=_0x13bc23(0x1db),_0x4c08b3?(document['getElementById'](_0x13bc23(0x1a1))[_0x13bc23(0x22c)][_0x13bc23(0x13c)]=_0x13bc23(0x17b),document[_0x13bc23(0x1e9)](_0x13bc23(0x1a1))['querySelector']('.pib-text')[_0x13bc23(0x1d5)]=_0x13bc23(0x238)):document[_0x13bc23(0x1e9)]('patternInfoBox')[_0x13bc23(0x22c)][_0x13bc23(0x13c)]=_0x13bc23(0x1db),document[_0x13bc23(0x1e9)](_0x13bc23(0x229))[_0x13bc23(0x20b)]=_0x55415c[_0x13bc23(0x11c)],document[_0x13bc23(0x1e9)](_0x13bc23(0x222))[_0x13bc23(0x20b)]=_0x55415c[_0x13bc23(0x129)],document[_0x13bc23(0x1e9)](_0x13bc23(0x167))[_0x13bc23(0x20b)]=_0x55415c[_0x13bc23(0x13f)],document[_0x13bc23(0x1e9)](_0x13bc23(0x159))[_0x13bc23(0x20b)]=_0x55415c['end'],document[_0x13bc23(0x1e9)](_0x13bc23(0x130))[_0x13bc23(0x20b)]=_0x55415c['note']||'',updateDateDisplay(),openSheet(_0x13bc23(0x235));}async function trySaveSession(){const _0x1973d3=a2_0xf5db6b,_0x30e580=document['getElementById']('inpClient')['value'],_0x1396c2=document[_0x1973d3(0x1e9)](_0x1973d3(0x222))[_0x1973d3(0x20b)],_0x41ea57=document['getElementById'](_0x1973d3(0x167))[_0x1973d3(0x20b)],_0x585898=document[_0x1973d3(0x1e9)]('inpEnd')[_0x1973d3(0x20b)],_0x36d575=document['getElementById'](_0x1973d3(0x130))[_0x1973d3(0x20b)],_0x3770dc=document[_0x1973d3(0x1e9)](_0x1973d3(0x16d))['checked'];let _0x208e44=0x4;if(_0x3770dc){const _0x4a8936=parseInt(document[_0x1973d3(0x1e9)]('inpSeriesCount')[_0x1973d3(0x20b)]);if(!_0x4a8936||_0x4a8936<0x2){showToast(_0x1973d3(0x144),![]);return;}if(_0x4a8936>0x64){showToast(_0x1973d3(0xfe),![]);return;}_0x208e44=_0x4a8936;}const _0x111ebf=clients[_0x1973d3(0x14c)](_0x3da562=>_0x3da562['name']===_0x30e580);if(!_0x111ebf){showToast(_0x1973d3(0x1ab),![]);return;}const _0x22085c=validateAppointment(_0x1396c2,_0x41ea57,_0x585898,editingId,_0x111ebf['id']);if(!_0x22085c[_0x1973d3(0x237)]){showToast(_0x22085c['msg'],![]);return;}_0x22085c[_0x1973d3(0x1d9)]&&showToast(_0x22085c[_0x1973d3(0x1d9)],![]);const _0x4aa03b={'client':_0x30e580,'clientId':_0x111ebf['id'],'start':_0x41ea57,'end':_0x585898,'note':_0x36d575,'status':_0x1973d3(0x112)},_0x585d26=editingId?sessions[_0x1973d3(0x14c)](_0x46a9d9=>_0x46a9d9['id']===editingId):null;if(_0x585d26&&_0x585d26[_0x1973d3(0x1f7)]){tempSessionData={..._0x4aa03b,'dateStr':_0x1396c2,'id':editingId,'seriesId':_0x585d26['seriesId']},openActionSheet('save');return;}let _0x5ce2c1=null;if(!editingId)_0x5ce2c1=_0x1973d3(0x17c);else{if(_0x585d26){if(String(_0x585d26[_0x1973d3(0xe2)])!==String(_0x111ebf['id']))console[_0x1973d3(0x15d)](_0x1973d3(0x17d)),NotificationManager[_0x1973d3(0x131)](_0x1973d3(0x105),_0x585d26),_0x5ce2c1=_0x1973d3(0x17c);else(_0x585d26['start']!==_0x41ea57||_0x585d26[_0x1973d3(0x16f)]!==_0x585898||_0x585d26[_0x1973d3(0x129)]!==_0x1396c2)&&(_0x5ce2c1=_0x1973d3(0x156));}}if(!editingId&&_0x3770dc){createBatchSeries(_0x4aa03b,_0x1396c2,_0x208e44),NotificationManager[_0x1973d3(0x131)](_0x1973d3(0x17c),{..._0x4aa03b,'dateStr':_0x1396c2});return;}lastUserActionTime=Date[_0x1973d3(0x236)]();const _0x2aefbb={..._0x4aa03b,'dateStr':_0x1396c2,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x2aefbb),_0x5ce2c1&&NotificationManager[_0x1973d3(0x131)](_0x5ce2c1,_0x2aefbb);}function toggleSessionStatus(){const _0xd88130=a2_0xf5db6b;lastUserActionTime=Date[_0xd88130(0x236)]();const _0x573bf2=sessions[_0xd88130(0x14c)](_0x4d3193=>_0x4d3193['id']===editingId);if(!_0x573bf2)return;const _0x1999aa=_0x573bf2[_0xd88130(0x100)]===_0xd88130(0xe3)?_0xd88130(0x112):'completed';_0x573bf2[_0xd88130(0x100)]=_0x1999aa,saveSingleSession(_0x573bf2),_0x1999aa===_0xd88130(0xe3)&&NotificationManager['send'](_0xd88130(0x163),_0x573bf2),showToast(_0x1999aa===_0xd88130(0xe3)?_0xd88130(0x212):'–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω',!![]);}function validateAppointment(_0x42fd51,_0x377c33,_0x65a45c,_0x559701,_0x2cc50a){const _0x310e54=a2_0xf5db6b,[_0x4e28bc,_0x347fdc]=_0x377c33[_0x310e54(0x123)](':')[_0x310e54(0x11a)](Number),[_0xd4db8b,_0x3697af]=_0x65a45c['split'](':')['map'](Number),_0x40937b=_0x4e28bc*0x3c+_0x347fdc,_0x16aafe=_0xd4db8b*0x3c+_0x3697af,_0x3f1840=String(_0x2cc50a);let _0x3c7e06=![],_0x19640c='';for(let _0x4c8dc0 of sessions){if(_0x4c8dc0['dateStr']!==_0x42fd51)continue;if(_0x4c8dc0[_0x310e54(0x100)]===_0x310e54(0x12c))continue;if(_0x559701&&String(_0x4c8dc0['id'])===String(_0x559701))continue;const [_0x33042d,_0x38b0fd]=_0x4c8dc0[_0x310e54(0x13f)][_0x310e54(0x123)](':')[_0x310e54(0x11a)](Number),[_0x2f76f6,_0x5b10ac]=_0x4c8dc0['end']['split'](':')[_0x310e54(0x11a)](Number),_0x4df7ec=_0x33042d*0x3c+_0x38b0fd,_0x3ef936=_0x2f76f6*0x3c+_0x5b10ac;if(Math[_0x310e54(0x145)](_0x40937b,_0x4df7ec)<Math[_0x310e54(0x177)](_0x16aafe,_0x3ef936)){if(_0x4c8dc0[_0x310e54(0xe2)]&&String(_0x4c8dc0['clientId'])===_0x3f1840)return{'valid':![],'msg':_0x310e54(0x1d3)+_0x4c8dc0['client']+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x3c7e06=!![],_0x19640c=_0x4c8dc0['client'];}}if(_0x3c7e06)return{'valid':!![],'warning':'–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20'+_0x19640c};return{'valid':!![]};}function saveSingleSession(_0x553380){const _0xa1f419=a2_0xf5db6b;if(editingId){const _0xe0b76e=sessions[_0xa1f419(0x172)](_0x4f202e=>_0x4f202e['id']===editingId);if(_0xe0b76e!==-0x1)sessions[_0xe0b76e]=_0x553380;}else sessions['push'](_0x553380);afterSaveAction([_0x553380[_0xa1f419(0x129)]]);}function createBatchSeries(_0x2678c7,_0x194273,_0x4f9fd7){const _0x4f53b7=a2_0xf5db6b,_0x3f9514=generateId(),_0x3ea8d6=[],_0x3fcfc4=[];let _0x11c107=0x0,_0x1ee6fc=new Date(_0x194273);for(let _0x464736=0x0;_0x464736<_0x4f9fd7;_0x464736++){const _0x1138cb=getLocalDateStr(_0x1ee6fc),_0x5c77d8=validateAppointment(_0x1138cb,_0x2678c7[_0x4f53b7(0x13f)],_0x2678c7[_0x4f53b7(0x16f)],null,_0x2678c7[_0x4f53b7(0xe2)]);if(!_0x5c77d8['valid'])console[_0x4f53b7(0x15d)](_0x4f53b7(0x18f)+_0x1138cb+_0x4f53b7(0x149)),_0x11c107++;else{const _0x36a3b6={..._0x2678c7,'id':generateId(),'dateStr':_0x1138cb,'seriesId':_0x3f9514};_0x3fcfc4[_0x4f53b7(0x18e)](_0x36a3b6),_0x3ea8d6[_0x4f53b7(0x18e)](_0x1138cb);}_0x1ee6fc[_0x4f53b7(0x154)](_0x1ee6fc[_0x4f53b7(0xd7)]()+0x7);}if(_0x3fcfc4['length']===0x0){showToast(_0x4f53b7(0x1c1),![]);return;}sessions[_0x4f53b7(0x18e)](..._0x3fcfc4),lastUserActionTime=Date[_0x4f53b7(0x236)]();let _0x13b642=_0x4f53b7(0x199)+_0x3fcfc4[_0x4f53b7(0x22e)];_0x11c107>0x0&&(_0x13b642+=_0x4f53b7(0x143)+_0x11c107+')'),showToast(_0x13b642,!![]),afterSaveAction(_0x3ea8d6);}function updateSeriesBatch(_0x38e733,_0x132930){const _0x56ec39=a2_0xf5db6b,_0x2ef423=[],_0x7a305c=_0x132930['seriesId'];if(_0x38e733===_0x56ec39(0x1da)){const _0x141c92={..._0x132930,'seriesId':null},_0x31600a=sessions[_0x56ec39(0x172)](_0x20efeb=>_0x20efeb['id']===_0x132930['id']);if(_0x31600a!==-0x1)sessions[_0x31600a]=_0x141c92;_0x2ef423[_0x56ec39(0x18e)](_0x141c92[_0x56ec39(0x129)]);}else{if(_0x38e733==='series'){const _0x12af87=_0x132930[_0x56ec39(0x129)];sessions[_0x56ec39(0xd2)]((_0x2eeab2,_0xa3d81b)=>{const _0x100c80=_0x56ec39;_0x2eeab2[_0x100c80(0x1f7)]===_0x7a305c&&_0x2eeab2[_0x100c80(0x129)]>=_0x12af87&&(sessions[_0xa3d81b]={...sessions[_0xa3d81b],'start':_0x132930['start'],'end':_0x132930[_0x100c80(0x16f)],'note':_0x132930[_0x100c80(0x102)],'client':_0x132930[_0x100c80(0x11c)],'clientId':_0x132930[_0x100c80(0xe2)]},_0x2ef423['push'](_0x2eeab2[_0x100c80(0x129)]));});}}afterSaveAction(_0x2ef423);}function a2_0x22f3(){const _0x1b7176=['log','btn-primary\x20btn-danger','clients','mousedown','\x20-\x20','</b>\x0a\x0a','complete','getBoundingClientRect','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','.day-col-header','inpStart','–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™','day-off-overlay\x20stripe-bg','sort','filter','dayOptionsTitle','inpRecurring','left','end','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ','findIndex','success','pe-col-header','getHours','syncLoad','min','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','startsWith','offsetLeft','flex','create','[Notify]\x20Client\x20SWAP\x20detected','custom','month','data-date','send_notification','stat-','var(--acc-green)','floor','round','div','scrollWidth','dayOptionsSheet','fetchFromServer','off','day-column\x20','data','uc_sessions_v9','push','[Series]\x20Skipped\x20','overlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','text/plain;charset=UTF-8','loadLocal','series','all','name','as-button\x20danger\x20bold','querySelector','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','addEventListener','toUpperCase','getAttribute','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','anEnd','[Notify]\x20Attempting\x20to\x20send:','doBusyHours','patternInfoBox','ru-RU','doEventsList','borderLeftColor','clientY','background','day-col-header\x20','width','rangeStartDate','classList','–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞','stopPropagation','peGrid','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','week','btnStatusToggle','asBtnSeries','rangesList','top','.day-off-overlay','#050505','exceptions','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','recurringOptionContainer','offsetWidth','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','charAt','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','cancel_window','px\x200px','matrixViewport','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','setItem','today','pe-cell\x20','localeCompare','add','calendar','touchstart','settingsSheet','[Notify]\x20Detected\x20Client\x20ID:','user','total','event-card','colIndex','header-','var(--acc-red)','–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20(','#gridColumns\x20.day-column','textContent','insertBefore','[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:','T23:59:59','warning','single','none','borderRadius','then','save_settings','6157734SmYmka','var(--acc-current)','</div><div\x20class=\x22dch-num\x22>','[Notify]\x20Server\x20Response:','closest','getText','keys','[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)','disableVerticalSwipes','target','getElementById','patternEditor','slice','pattern','show','(((.+)+)+)+$','initDataUnsafe','BackButton','from','rgba(','.event-card','touchmove','deleted','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','seriesId','onclick','\x20‚Äî\x20','setMonth','[API\x20','checked','Error\x20setting\x20color:','20RHAnob','includes','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','.dch-stats-fill','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','text','Save\x20settings\x20error:','rgba(255,\x2069,\x2058,\x200.3)','option','touches','calc(','gridColumns','32514SNOyTZ','value','getItem','mouseup','10px','zIndex','innerHTML','scroll','–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',']\x20Failed:','statLoadCard','#fff',':00</span>','actionSheet','uc_settings_cancel_window','syncBatch','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','numeric','T00:00:00','rgba(100,100,100,0.5)','<span>','<b>‚úÖ\x20','setBackgroundColor','inpDate','Telegram','color','anStart','12zunRom','Error\x20setting\x20back\x20button:','ready','inpClient','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','style','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','length','sid','anCustomDates','getFullYear','Batch\x20Sync\x20OK','createElement','onClick','sessionSheet','now','valid','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º','btnDelete','block','...','btn-primary\x20btn-secondary','toString','809417gceqAC','rgba(255,\x2069,\x2058,\x200.15)','client-stat-card','clientWidth','anPercent','POST','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','toast','ranges','</div>','scrollLeft','data-day-idx','sheetTitle','198352JDNxuD','createDocumentFragment','undefined','toast-notification\x20','actionSheetOverlay','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','entries','range-item','timeColumn','backgroundColor','forEach','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','setHeaderColor','isArray','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','getDate','Critical\x20TMA\x20Error:','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','1944IMpvYw','constructor','expand','className','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','rangesSheet','5810mehDtU','clientId','completed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','null','mini','100%','setHours','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','catch','toFixed','rangeStartTime','seriesCountContainer','<div\x20class=\x22ev-title\x22>','23:59','51oMlwbM','remove','open','save','getMinutes','mergeServerData','226670BlBBAd','settingCancelWindow','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','–£—Å–ø–µ—à–Ω–æ','offClick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','init_load','–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑','guest','status','<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>','note','touchend','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','cancel','px\x20-','backgroundPosition','batch_sync','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','daysHeaderTrack','</span>\x20/\x20',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','rangeEndTime','anDonutCircle','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','\x20–∏–∑\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange(','planned','var(--acc-orange)','getDay','active','.sheet','64528poKAFL','10px\x2010px\x200\x200','Local\x20Save\x20Error','map','rgba(255,\x20159,\x2010,\x200.3)','client','#0a84ff','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[Sync]\x20Loading\x20','getTime','substr','parse','split','pe-time-label','btnDayToggle','WebApp','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','setAttribute','dateStr','json','toastTitle','cancelled','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','apply','splice','inpNote','send','firstChild','querySelectorAll','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getMonth','saveLocally','padStart','btn-status-toggle','doDateHeader','display','strokeDashoffset','indexOf','start','stringify','search','long','\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏','max','settings','toLocaleDateString',':00',':\x20Client\x20already\x20booked','[Settings]\x20Cancel\x20window\x20set\x20to:','done','find','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','%\x20-\x204px)','borderColor','<div\x20class=\x22dch-day\x22>','.period-switch\x20.p-btn','</div><div\x20class=\x22ev-time\x22>','setDate','appendChild','update','delete','warn','inpEnd','rgba(48,\x20209,\x2088,\x200.15)',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','rgba(255,255,255,0.05)'];a2_0x22f3=function(){return _0x1b7176;};return a2_0x22f3();}function tryDeleteSession(){const _0x109196=a2_0xf5db6b,_0x43997b=sessions[_0x109196(0x14c)](_0x9a38a6=>_0x9a38a6['id']===editingId);if(!_0x43997b)return;_0x43997b[_0x109196(0x1f7)]?openActionSheet(_0x109196(0x157)):commitDelete(_0x109196(0x1da),_0x43997b);}function commitDelete(_0x438319,_0x529327){const _0x2b0978=a2_0xf5db6b;lastUserActionTime=Date[_0x2b0978(0x236)](),NotificationManager[_0x2b0978(0x131)]('cancel',_0x529327);const _0x519ea5=[];if(_0x438319===_0x2b0978(0x1da))sessions=sessions[_0x2b0978(0x16b)](_0x10edc3=>_0x10edc3['id']!==_0x529327['id']),_0x519ea5['push'](_0x529327[_0x2b0978(0x129)]);else{if(_0x438319===_0x2b0978(0x194)){const _0x5a4457=_0x529327[_0x2b0978(0x129)],_0x6804cf=_0x529327[_0x2b0978(0x1f7)];sessions[_0x2b0978(0xd2)](_0x5c5cf=>{const _0x48e030=_0x2b0978;_0x5c5cf['seriesId']===_0x6804cf&&_0x5c5cf[_0x48e030(0x129)]>=_0x5a4457&&_0x519ea5[_0x48e030(0x18e)](_0x5c5cf[_0x48e030(0x129)]);}),sessions=sessions[_0x2b0978(0x16b)](_0x5bcf22=>!(_0x5bcf22['seriesId']===_0x6804cf&&_0x5bcf22['dateStr']>=_0x5a4457));}}afterSaveAction(_0x519ea5);}function afterSaveAction(_0x320acb){const _0x21d9ef=a2_0xf5db6b;DataManager['saveLocally'](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x21d9ef(0x21a)](_0x320acb)[_0x21d9ef(0x1dd)](()=>console[_0x21d9ef(0x15d)](_0x21d9ef(0x232)))[_0x21d9ef(0xeb)](_0x4431aa=>showToast(_0x21d9ef(0x171),![]));}const NotificationManager={'formatDate'(_0x257a19){const _0x99fd53=a2_0xf5db6b,_0x1a7397=new Date(_0x257a19),_0x5f1a8a={'weekday':'long','day':_0x99fd53(0x21c),'month':'long'};let _0x389fab=_0x1a7397['toLocaleDateString'](_0x99fd53(0x1a2),_0x5f1a8a);return _0x389fab[_0x99fd53(0x1bc)](0x0)[_0x99fd53(0x19b)]()+_0x389fab['slice'](0x1);},'getText'(_0x5312bb,_0x326b76){const _0x1a8373=a2_0xf5db6b,_0x4ab382=this['formatDate'](_0x326b76[_0x1a8373(0x129)]);switch(_0x5312bb){case _0x1a8373(0x17c):return _0x1a8373(0x127)+('<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20'+_0x4ab382+'\x0a')+('<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20'+_0x326b76[_0x1a8373(0x13f)]+_0x1a8373(0x1f9)+_0x326b76[_0x1a8373(0x16f)]+'\x0a\x0a')+_0x1a8373(0x168);case _0x1a8373(0x156):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x1a8373(0x104)+(_0x1a8373(0x220)+_0x326b76[_0x1a8373(0x13f)]+'\x20‚Äî\x20'+_0x326b76[_0x1a8373(0x16f)]+_0x1a8373(0x162))+(_0x1a8373(0x12d)+_0x4ab382);case _0x1a8373(0x105):return'<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a'+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x4ab382+'\x20('+_0x326b76[_0x1a8373(0x13f)]+_0x1a8373(0x15b));case _0x1a8373(0x163):return _0x1a8373(0x1f6)+_0x1a8373(0x14d)+_0x1a8373(0xd6);default:return'';}},async 'send'(_0x4a0e23,_0x58c96c){const _0x1d15f0=a2_0xf5db6b;console['log'](_0x1d15f0(0x19f),_0x4a0e23,_0x58c96c);if(!_0x58c96c){console[_0x1d15f0(0xda)]('[Notify]\x20Error:\x20sessionData\x20is\x20null');return;}const _0x2b6b69=String(_0x58c96c[_0x1d15f0(0xe2)]);console[_0x1d15f0(0x15d)](_0x1d15f0(0x1cc),_0x2b6b69);if(!_0x58c96c['clientId']||_0x2b6b69===_0x1d15f0(0xca)||_0x2b6b69===_0x1d15f0(0xe6)){console['error'](_0x1d15f0(0xf9));if(_0x58c96c['client']){const _0x16cbbd=clients['find'](_0x537e8e=>_0x537e8e[_0x1d15f0(0x196)]===_0x58c96c[_0x1d15f0(0x11c)]);if(_0x16cbbd)return console[_0x1d15f0(0x15d)](_0x1d15f0(0x1d7),_0x16cbbd['id']),this[_0x1d15f0(0x131)](_0x4a0e23,{..._0x58c96c,'clientId':_0x16cbbd['id']});}return;}if(_0x2b6b69[_0x1d15f0(0x22e)]<0x5){console[_0x1d15f0(0x158)](_0x1d15f0(0x1e6),_0x2b6b69);return;}const _0x4998f6=this[_0x1d15f0(0x1e4)](_0x4a0e23,_0x58c96c);if(!_0x4998f6){console[_0x1d15f0(0xda)]('[Notify]\x20Error:\x20Text\x20generation\x20failed');return;}console[_0x1d15f0(0x15d)]('[Notify]\x20Sending\x20to\x20GAS\x20for\x20'+_0x2b6b69+_0x1d15f0(0xb8)),DataManager['fetchFromServer'](_0x1d15f0(0x181),{'chatId':_0x2b6b69,'text':_0x4998f6})['then'](_0x22ed36=>console[_0x1d15f0(0x15d)](_0x1d15f0(0x1e2),_0x22ed36))[_0x1d15f0(0xeb)](_0x4155f8=>console[_0x1d15f0(0xda)]('[Notify]\x20Network\x20Failed',_0x4155f8));}};function getLocalDateStr(_0x42acec){const _0x331b35=a2_0xf5db6b,_0x229363=_0x42acec[_0x331b35(0x231)](),_0x5968c9=String(_0x42acec[_0x331b35(0x137)]()+0x1)['padStart'](0x2,'0'),_0x484e51=String(_0x42acec[_0x331b35(0xd7)]())[_0x331b35(0x139)](0x2,'0');return _0x229363+'-'+_0x5968c9+'-'+_0x484e51;}function getDateStr(_0x5a7a14){const _0xd1e0c1=new Date();return _0xd1e0c1['setDate'](_0xd1e0c1['getDate']()+_0x5a7a14),getLocalDateStr(_0xd1e0c1);}function getStartOfWeek(_0x360473){const _0x1dfe0d=a2_0xf5db6b,_0x25ba97=(function(){let _0xc0670f=!![];return function(_0x3b283c,_0x472de9){const _0x39e073=_0xc0670f?function(){const _0x264a6a=a2_0x1313;if(_0x472de9){const _0x1c327f=_0x472de9[_0x264a6a(0x12e)](_0x3b283c,arguments);return _0x472de9=null,_0x1c327f;}}:function(){};return _0xc0670f=![],_0x39e073;};}()),_0x331bc7=_0x25ba97(this,function(){const _0x2dd71c=a2_0x1313;return _0x331bc7[_0x2dd71c(0xba)]()[_0x2dd71c(0x141)](_0x2dd71c(0x1ee))[_0x2dd71c(0xba)]()[_0x2dd71c(0xdc)](_0x331bc7)['search'](_0x2dd71c(0x1ee));});_0x331bc7();const _0xe3c893=new Date(_0x360473),_0x281940=_0xe3c893['getDay'](),_0x50bf45=_0xe3c893[_0x1dfe0d(0xd7)]()-_0x281940+(_0x281940===0x0?-0x6:0x1);return _0xe3c893[_0x1dfe0d(0x154)](_0x50bf45),_0xe3c893[_0x1dfe0d(0xe9)](0x0,0x0,0x0,0x0),_0xe3c893;}function hexToRgba(_0x262bbd,_0x31eac2){const _0x1aa0f8=a2_0xf5db6b;if(!_0x262bbd)return _0x1aa0f8(0x21e);let _0x32edb2=0x0,_0x40da7a=0x0,_0x1d9353=0x0;if(_0x262bbd[_0x1aa0f8(0x22e)]===0x4)_0x32edb2='0x'+_0x262bbd[0x1]+_0x262bbd[0x1],_0x40da7a='0x'+_0x262bbd[0x2]+_0x262bbd[0x2],_0x1d9353='0x'+_0x262bbd[0x3]+_0x262bbd[0x3];else _0x262bbd[_0x1aa0f8(0x22e)]===0x7&&(_0x32edb2='0x'+_0x262bbd[0x1]+_0x262bbd[0x2],_0x40da7a='0x'+_0x262bbd[0x3]+_0x262bbd[0x4],_0x1d9353='0x'+_0x262bbd[0x5]+_0x262bbd[0x6]);return _0x1aa0f8(0x1f2)+ +_0x32edb2+',\x20'+ +_0x40da7a+',\x20'+ +_0x1d9353+',\x20'+_0x31eac2+')';}function renderTimeColumn(){const _0x1811c9=a2_0xf5db6b,_0x5aec86=document[_0x1811c9(0x1e9)](_0x1811c9(0xd0)),_0x1eabc3=document['getElementById']('timeLineBadge');_0x5aec86[_0x1811c9(0x210)]='',_0x5aec86['appendChild'](_0x1eabc3);for(let _0x469d35=0x0;_0x469d35<0x18;_0x469d35++){const _0x2a3237=document['createElement'](_0x1811c9(0x186));_0x2a3237[_0x1811c9(0xde)]='time-label';if(_0x469d35>0x0)_0x2a3237[_0x1811c9(0x210)]=_0x1811c9(0x21f)+String(_0x469d35)[_0x1811c9(0x139)](0x2,'0')+_0x1811c9(0x217);_0x5aec86['appendChild'](_0x2a3237);}}function renderDayRange(_0x39fdf2,_0x3a68b9){const _0x2479be=a2_0xf5db6b,_0x5e3de5=document['getElementById'](_0x2479be(0x10a)),_0x42735e=document['getElementById'](_0x2479be(0x209)),_0x4882bc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x37773c=new Date();_0x37773c[_0x2479be(0xe9)](0x0,0x0,0x0,0x0);const _0x720023=getLocalDateStr(new Date());for(let _0x2af00b=_0x39fdf2;_0x2af00b<=_0x3a68b9;_0x2af00b++){const _0x46edb3=new Date(_0x37773c);_0x46edb3['setDate'](_0x46edb3['getDate']()+_0x2af00b);const _0x1b4384=getLocalDateStr(_0x46edb3);let _0x325a7b=_0x46edb3[_0x2479be(0x114)]()-0x1;if(_0x325a7b===-0x1)_0x325a7b=0x6;const _0x598d61=_0x1b4384===_0x720023,_0x43d139=document['createElement']('div');_0x43d139[_0x2479be(0xde)]=_0x2479be(0x1a7)+(_0x598d61?_0x2479be(0x1c5):''),_0x43d139['id']=_0x2479be(0x1d1)+_0x1b4384,_0x43d139['setAttribute']('data-date',_0x1b4384),_0x43d139[_0x2479be(0x210)]=_0x2479be(0x151)+_0x4882bc[_0x325a7b]+_0x2479be(0x1e1)+_0x46edb3[_0x2479be(0xd7)]()+_0x2479be(0xd3)+_0x1b4384+_0x2479be(0x213),_0x43d139[_0x2479be(0x1f8)]=()=>openDayOptions(_0x1b4384,_0x4882bc[_0x325a7b]+'\x20'+_0x46edb3[_0x2479be(0xd7)]()),_0x5e3de5[_0x2479be(0x155)](_0x43d139);const _0xc64840=document[_0x2479be(0x233)](_0x2479be(0x186));_0xc64840[_0x2479be(0xde)]=_0x2479be(0x18b)+(_0x598d61?_0x2479be(0x1c5):''),_0xc64840['setAttribute']('data-date',_0x1b4384),_0xc64840[_0x2479be(0x128)]('data-day-idx',_0x325a7b),renderEventsForColumn(_0xc64840,_0x1b4384,_0x325a7b),attachLongPressHandler(_0xc64840,_0x46edb3),_0x42735e[_0x2479be(0x155)](_0xc64840),updateDayStats(_0x1b4384);}}function reRenderBlocks(){const _0x29c992=a2_0xf5db6b;document[_0x29c992(0x133)](_0x29c992(0x1d4))[_0x29c992(0xd2)](_0x3ba310=>{const _0x226dc0=_0x29c992;_0x3ba310[_0x226dc0(0x133)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x226dc0(0xd2)](_0x1d2a62=>_0x1d2a62[_0x226dc0(0xf2)]());const _0x19a837=_0x3ba310['getAttribute'](_0x226dc0(0x180)),_0x3ac63f=parseInt(_0x3ba310['getAttribute'](_0x226dc0(0xc6))),_0x2f7bb0=Math['round'](_0x3ba310['offsetLeft']);(availabilityPattern[_0x3ac63f]||[])[_0x226dc0(0xd2)](_0x15150e=>{const _0xcb894d=_0x226dc0,_0x1dd901=document[_0xcb894d(0x233)](_0xcb894d(0x186));_0x1dd901[_0xcb894d(0xde)]='blocked-slot\x20stripe-bg';const _0x3ecae5=_0x15150e*GRID_H;_0x1dd901[_0xcb894d(0x22c)]['top']=_0x3ecae5+'px',_0x1dd901[_0xcb894d(0x22c)]['backgroundPosition']='-'+_0x2f7bb0+_0xcb894d(0x106)+_0x3ecae5+'px',_0x3ba310[_0xcb894d(0x155)](_0x1dd901);});if(specialRanges&&specialRanges[_0x226dc0(0x22e)]>0x0){const _0xd42b63=new Date(_0x19a837+_0x226dc0(0x21d))[_0x226dc0(0x120)](),_0x5277d3=new Date(_0x19a837+_0x226dc0(0x1d8))[_0x226dc0(0x120)]();specialRanges[_0x226dc0(0xd2)](_0x1e1bc8=>{const _0x1299ea=_0x226dc0,_0x2340ab=new Date(_0x1e1bc8['start'])['getTime'](),_0xce2846=new Date(_0x1e1bc8[_0x1299ea(0x16f)])[_0x1299ea(0x120)](),_0x9fc20d=Math[_0x1299ea(0x145)](_0xd42b63,_0x2340ab),_0x59bf26=Math['min'](_0x5277d3,_0xce2846);if(_0x9fc20d<_0x59bf26){if(_0x9fc20d<=_0xd42b63&&_0x59bf26>=_0x5277d3-0xea60){if(!_0x3ba310[_0x1299ea(0x198)](_0x1299ea(0x1b5))){const _0x502746=document[_0x1299ea(0x233)]('div');_0x502746['className']=_0x1299ea(0x169),_0x502746[_0x1299ea(0x22c)][_0x1299ea(0x107)]='-'+_0x2f7bb0+_0x1299ea(0x1bf),_0x3ba310[_0x1299ea(0x155)](_0x502746);}}else{const _0x85dfa5=(_0x9fc20d-_0xd42b63)/0x36ee80*GRID_H,_0x3e86d0=(_0x59bf26-_0x9fc20d)/0x36ee80*GRID_H,_0x29eeb0=document[_0x1299ea(0x233)]('div');_0x29eeb0[_0x1299ea(0xde)]='blocked-range-part\x20stripe-bg',_0x29eeb0['style'][_0x1299ea(0x1b4)]=_0x85dfa5+'px',_0x29eeb0[_0x1299ea(0x22c)][_0x1299ea(0xe5)]=_0x3e86d0+'px',_0x29eeb0[_0x1299ea(0x22c)][_0x1299ea(0x107)]='-'+_0x2f7bb0+'px\x20-'+_0x85dfa5+'px',_0x3ba310[_0x1299ea(0x155)](_0x29eeb0);}}});}if(dateExceptions[_0x19a837]===_0x226dc0(0x18a)){if(!_0x3ba310[_0x226dc0(0x198)](_0x226dc0(0x1b5))){const _0x4b709e=document[_0x226dc0(0x233)](_0x226dc0(0x186));_0x4b709e[_0x226dc0(0xde)]='day-off-overlay\x20stripe-bg',_0x4b709e['style'][_0x226dc0(0x107)]='-'+_0x2f7bb0+'px\x200px',_0x3ba310[_0x226dc0(0x155)](_0x4b709e);}}renderEventsForColumn(_0x3ba310,_0x19a837,_0x3ac63f),updateDayStats(_0x19a837);});}function updateAllDayStats(){const _0x151eb0=a2_0xf5db6b;document['querySelectorAll'](_0x151eb0(0x166))[_0x151eb0(0xd2)](_0x25e404=>{const _0x15ef8b=_0x151eb0;updateDayStats(_0x25e404[_0x15ef8b(0x19c)](_0x15ef8b(0x180)));});}function updateDayStats(_0x4d31a5){const _0x48fdd0=a2_0xf5db6b,_0x4de2e0=document[_0x48fdd0(0x1e9)](_0x48fdd0(0x182)+_0x4d31a5);if(!_0x4de2e0)return;const _0x58eed4=new Date(_0x4d31a5);let _0xcd2b94=_0x58eed4['getDay']()-0x1;if(_0xcd2b94===-0x1)_0xcd2b94=0x6;if(dateExceptions[_0x4d31a5]===_0x48fdd0(0x18a)){_0x4de2e0[_0x48fdd0(0x22c)][_0x48fdd0(0x13c)]='none';return;}const _0x9855d=availabilityPattern[_0xcd2b94]||[],_0x8712f1=0x18-_0x9855d[_0x48fdd0(0x22e)],_0x29bd7f=_0x8712f1*0x3c,_0x4fd3d4=sessions[_0x48fdd0(0x16b)](_0x31962b=>_0x31962b[_0x48fdd0(0x129)]===_0x4d31a5&&_0x31962b[_0x48fdd0(0x100)]!==_0x48fdd0(0x12c));if(_0x4fd3d4[_0x48fdd0(0x22e)]===0x0){_0x4de2e0[_0x48fdd0(0x22c)][_0x48fdd0(0x13c)]=_0x48fdd0(0x1db);return;}let _0x25f0b1=_0x4fd3d4[_0x48fdd0(0x11a)](_0x3e42d3=>{const _0x426b59=_0x48fdd0,[_0x43faee,_0x448f9f]=_0x3e42d3[_0x426b59(0x13f)][_0x426b59(0x123)](':')['map'](Number),[_0x46acf2,_0x3aa562]=_0x3e42d3['end'][_0x426b59(0x123)](':')['map'](Number);return[_0x43faee*0x3c+_0x448f9f,_0x46acf2*0x3c+_0x3aa562];});_0x25f0b1['sort']((_0x16989a,_0x38ce74)=>_0x16989a[0x0]-_0x38ce74[0x0]);let _0x37af1e=[];if(_0x25f0b1['length']>0x0){let _0x5243ac=_0x25f0b1[0x0];for(let _0x180ac7=0x1;_0x180ac7<_0x25f0b1[_0x48fdd0(0x22e)];_0x180ac7++){_0x25f0b1[_0x180ac7][0x0]<_0x5243ac[0x1]?_0x5243ac[0x1]=Math[_0x48fdd0(0x145)](_0x5243ac[0x1],_0x25f0b1[_0x180ac7][0x1]):(_0x37af1e[_0x48fdd0(0x18e)](_0x5243ac),_0x5243ac=_0x25f0b1[_0x180ac7]);}_0x37af1e['push'](_0x5243ac);}let _0x4f8fda=0x0;_0x37af1e['forEach'](_0x19c571=>_0x4f8fda+=_0x19c571[0x1]-_0x19c571[0x0]),_0x4de2e0['style']['display']='flex';const _0x573d8c=_0x4de2e0[_0x48fdd0(0x198)](_0x48fdd0(0x201));if(_0x29bd7f===0x0){_0x573d8c[_0x48fdd0(0x22c)][_0x48fdd0(0x1a8)]=_0x48fdd0(0xe8),_0x573d8c['style']['background']=_0x48fdd0(0x1d2);return;}const _0x523268=_0x4f8fda/_0x29bd7f*0x64;console[_0x48fdd0(0x15d)]('['+_0x4d31a5+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x8712f1+_0x48fdd0(0x178)+_0x4f8fda+_0x48fdd0(0x19d)+_0x523268[_0x48fdd0(0xec)](0x1)+'%'),_0x523268>0x64?(_0x573d8c[_0x48fdd0(0x22c)]['width']=_0x48fdd0(0xe8),_0x573d8c[_0x48fdd0(0x22c)][_0x48fdd0(0x1a6)]=_0x48fdd0(0x1d2)):(_0x573d8c[_0x48fdd0(0x22c)][_0x48fdd0(0x1a8)]=_0x523268+'%',_0x573d8c['style'][_0x48fdd0(0x1a6)]=_0x48fdd0(0x1e0));}function renderEventsForColumn(_0x1d0a63,_0x5ff92d,_0x498ffa){const _0x3dfe38=a2_0xf5db6b,_0x2b2644=sessions[_0x3dfe38(0x16b)](_0x14e614=>_0x14e614['dateStr']===_0x5ff92d),_0x5804e5=_0x2b2644[_0x3dfe38(0x11a)](_0x2d7322=>{const _0x8ffc2c=_0x3dfe38,[_0x222fba,_0x175443]=_0x2d7322[_0x8ffc2c(0x13f)]['split'](':')[_0x8ffc2c(0x11a)](Number),[_0x59f969,_0x1b5f60]=_0x2d7322[_0x8ffc2c(0x16f)]['split'](':')[_0x8ffc2c(0x11a)](Number);return{'data':_0x2d7322,'start':_0x222fba*0x3c+_0x175443,'end':_0x59f969*0x3c+_0x1b5f60,'colIndex':0x0};});_0x5804e5[_0x3dfe38(0x16a)]((_0x3ed030,_0x18b757)=>{const _0x2b5f2e=_0x3dfe38;if(_0x3ed030['start']!==_0x18b757[_0x2b5f2e(0x13f)])return _0x3ed030[_0x2b5f2e(0x13f)]-_0x18b757[_0x2b5f2e(0x13f)];return _0x18b757[_0x2b5f2e(0x16f)]-_0x18b757[_0x2b5f2e(0x13f)]-(_0x3ed030['end']-_0x3ed030[_0x2b5f2e(0x13f)]);});const _0x1791fa=[];_0x5804e5['forEach'](_0x1069db=>{const _0x127179=_0x3dfe38;let _0x4dd38e=![];for(let _0x3d0f78=0x0;_0x3d0f78<_0x1791fa['length'];_0x3d0f78++){const _0x526092=_0x1791fa[_0x3d0f78],_0x5f3bd8=_0x526092[_0x526092['length']-0x1];if(_0x1069db['start']>=_0x5f3bd8[_0x127179(0x16f)]){_0x526092[_0x127179(0x18e)](_0x1069db),_0x1069db[_0x127179(0x1d0)]=_0x3d0f78,_0x4dd38e=!![];break;}}!_0x4dd38e&&(_0x1791fa[_0x127179(0x18e)]([_0x1069db]),_0x1069db[_0x127179(0x1d0)]=_0x1791fa[_0x127179(0x22e)]-0x1);}),_0x5804e5[_0x3dfe38(0xd2)](_0x59e2bb=>{const _0x2f8795=_0x3dfe38;let _0x342c72=0x0;_0x5804e5[_0x2f8795(0xd2)](_0x354a0e=>{const _0x25e826=_0x2f8795;if(Math[_0x25e826(0x145)](_0x59e2bb[_0x25e826(0x13f)],_0x354a0e[_0x25e826(0x13f)])<Math[_0x25e826(0x177)](_0x59e2bb[_0x25e826(0x16f)],_0x354a0e[_0x25e826(0x16f)])){if(_0x354a0e[_0x25e826(0x1d0)]>_0x342c72)_0x342c72=_0x354a0e['colIndex'];}});const _0x25df24=_0x342c72+0x1,_0x24eecf=0x64/_0x25df24,_0x24951f=_0x59e2bb[_0x2f8795(0x1d0)]*_0x24eecf,_0x30482f=createEventEl(_0x59e2bb[_0x2f8795(0x18c)]);_0x30482f['style']['width']=_0x2f8795(0x208)+_0x24eecf+_0x2f8795(0x14f),_0x30482f[_0x2f8795(0x22c)][_0x2f8795(0x16e)]=_0x2f8795(0x208)+_0x24951f+'%\x20+\x202px)',_0x30482f[_0x2f8795(0x22c)][_0x2f8795(0x20f)]=0xa+_0x59e2bb[_0x2f8795(0x1d0)],_0x24eecf<0x55&&_0x30482f[_0x2f8795(0x1aa)][_0x2f8795(0x1c8)](_0x2f8795(0xe7)),_0x1d0a63[_0x2f8795(0x155)](_0x30482f);});}function createEventEl(_0x4059fb){const _0x42c482=a2_0xf5db6b,[_0x2051cb,_0x4daf3a]=_0x4059fb[_0x42c482(0x13f)][_0x42c482(0x123)](':')[_0x42c482(0x11a)](Number),[_0x461064,_0x4dbdf1]=_0x4059fb[_0x42c482(0x16f)][_0x42c482(0x123)](':')[_0x42c482(0x11a)](Number),_0x1cf871=(_0x2051cb*0x3c+_0x4daf3a)/0x3c*GRID_H,_0x34eb43=(_0x461064*0x3c+_0x4dbdf1-(_0x2051cb*0x3c+_0x4daf3a))/0x3c*GRID_H,_0x4ec4fa=document[_0x42c482(0x233)](_0x42c482(0x186)),_0x52f4e3=_0x4059fb[_0x42c482(0x100)]===_0x42c482(0xe3)?'\x20status-completed':'';_0x4ec4fa['className']=_0x42c482(0x1cf)+_0x52f4e3,_0x4ec4fa['style']['top']=_0x1cf871+'px',_0x4ec4fa[_0x42c482(0x22c)][_0x42c482(0xe5)]=Math[_0x42c482(0x145)](_0x34eb43,0x14)+'px';const _0x2793c8=clients[_0x42c482(0x14c)](_0x4b1b57=>_0x4059fb[_0x42c482(0xe2)]&&String(_0x4b1b57['id'])===String(_0x4059fb['clientId'])||_0x4b1b57['name']===_0x4059fb[_0x42c482(0x11c)]),_0x108eb9=_0x2793c8?_0x2793c8['color']:_0x42c482(0x11d);_0x4ec4fa[_0x42c482(0x22c)][_0x42c482(0x1a4)]=_0x108eb9,_0x4ec4fa[_0x42c482(0x22c)][_0x42c482(0xd1)]=hexToRgba(_0x108eb9,0.85);let _0x20d9f5=_0x42c482(0xef)+_0x4059fb['client']+_0x42c482(0x153)+_0x4059fb[_0x42c482(0x13f)]+_0x42c482(0x161)+_0x4059fb[_0x42c482(0x16f)]+_0x42c482(0xc4);return _0x4059fb[_0x42c482(0x1f7)]&&(_0x20d9f5+='<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>'),_0x4059fb['status']===_0x42c482(0xe3)&&(_0x20d9f5+=_0x42c482(0x14e)),_0x4ec4fa[_0x42c482(0x210)]=_0x20d9f5,_0x4ec4fa[_0x42c482(0x1f8)]=_0x2012ec=>{const _0x5279bd=_0x42c482;_0x2012ec[_0x5279bd(0x1ac)](),openEdit(_0x4059fb);},_0x4ec4fa;}function attachLongPressHandler(_0x792850,_0x27fd02){const _0xc3e921=a2_0xf5db6b;let _0x377ecd=0x0,_0x3c8b98=null;const _0x576055=_0x5b9d55=>{const _0x51995e=a2_0x1313;if(_0x5b9d55[_0x51995e(0x1e8)][_0x51995e(0x1e3)](_0x51995e(0x1f3)))return;isScrolling=![],_0x377ecd=_0x5b9d55[_0x51995e(0x207)]?_0x5b9d55[_0x51995e(0x207)][0x0][_0x51995e(0x1a5)]:_0x5b9d55[_0x51995e(0x1a5)],_0x3c8b98=setTimeout(()=>{const _0x3bdd18=_0x51995e;if(!isScrolling){navigator['vibrate']?.(0x32);const _0x57755c=_0x792850[_0x3bdd18(0x164)](),_0x1204da=Math[_0x3bdd18(0x184)]((_0x377ecd-_0x57755c[_0x3bdd18(0x1b4)])/GRID_H);_0x27fd02[_0x3bdd18(0xe9)](_0x1204da,0x0),openAddSession(_0x27fd02);}},0x1f4);},_0x1963bf=()=>{isScrolling=!![],clearTimeout(_0x3c8b98);},_0x44417d=()=>{clearTimeout(_0x3c8b98);};_0x792850[_0xc3e921(0x19a)](_0xc3e921(0x1ca),_0x576055,{'passive':!![]}),_0x792850['addEventListener'](_0xc3e921(0x1f4),_0x1963bf,{'passive':!![]}),_0x792850[_0xc3e921(0x19a)](_0xc3e921(0x103),_0x44417d),_0x792850['addEventListener'](_0xc3e921(0x160),_0x576055),_0x792850[_0xc3e921(0x19a)]('mousemove',_0x1963bf),_0x792850['addEventListener'](_0xc3e921(0x20d),_0x44417d);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x4e2f98=a2_0xf5db6b,_0x5c5baa=document[_0x4e2f98(0x1e9)](_0x4e2f98(0x1c0)),_0xed51f4=_0x5c5baa[_0x4e2f98(0xc5)],_0x2cc652=_0x5c5baa[_0x4e2f98(0x187)],_0x5037bc=_0x5c5baa[_0x4e2f98(0xbe)];if(_0x2cc652-(_0xed51f4+_0x5037bc)<0x12c){const _0x1f5f4d=endOffset;endOffset+=0xe,renderDayRange(_0x1f5f4d+0x1,endOffset),reRenderBlocks();}if(_0xed51f4<0x12c){const _0x399e4b=startOffset;startOffset-=0xe,prependDays(startOffset,_0x399e4b-0x1),_0x5c5baa[_0x4e2f98(0xc5)]+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x78710a,_0x2fb09a){const _0x3c93bb=a2_0xf5db6b,_0x515916=document[_0x3c93bb(0x1e9)](_0x3c93bb(0x10a)),_0x52b884=document['getElementById'](_0x3c93bb(0x209)),_0x27cd3a=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x428559=new Date();_0x428559[_0x3c93bb(0xe9)](0x0,0x0,0x0,0x0);const _0xcb6c7f=getLocalDateStr(new Date()),_0x573aef=document[_0x3c93bb(0xc9)](),_0x420dd7=document[_0x3c93bb(0xc9)]();for(let _0x12d749=_0x78710a;_0x12d749<=_0x2fb09a;_0x12d749++){const _0x14a0a1=new Date(_0x428559);_0x14a0a1[_0x3c93bb(0x154)](_0x14a0a1[_0x3c93bb(0xd7)]()+_0x12d749);const _0x18ff90=getLocalDateStr(_0x14a0a1);let _0xddefe5=_0x14a0a1['getDay']()-0x1;if(_0xddefe5===-0x1)_0xddefe5=0x6;const _0x1eef68=_0x18ff90===_0xcb6c7f,_0x1aaa92=document[_0x3c93bb(0x233)](_0x3c93bb(0x186));_0x1aaa92[_0x3c93bb(0xde)]=_0x3c93bb(0x1a7)+(_0x1eef68?'today':''),_0x1aaa92['id']='header-'+_0x18ff90,_0x1aaa92[_0x3c93bb(0x128)]('data-date',_0x18ff90),_0x1aaa92[_0x3c93bb(0x210)]=_0x3c93bb(0x151)+_0x27cd3a[_0xddefe5]+_0x3c93bb(0x1e1)+_0x14a0a1['getDate']()+_0x3c93bb(0xd3)+_0x18ff90+_0x3c93bb(0x213),_0x1aaa92[_0x3c93bb(0x1f8)]=()=>openDayOptions(_0x18ff90,_0x27cd3a[_0xddefe5]+'\x20'+_0x14a0a1[_0x3c93bb(0xd7)]()),_0x573aef[_0x3c93bb(0x155)](_0x1aaa92);const _0x49b739=document[_0x3c93bb(0x233)](_0x3c93bb(0x186));_0x49b739[_0x3c93bb(0xde)]=_0x3c93bb(0x18b)+(_0x1eef68?_0x3c93bb(0x1c5):''),_0x49b739[_0x3c93bb(0x128)]('data-date',_0x18ff90),_0x49b739[_0x3c93bb(0x128)](_0x3c93bb(0xc6),_0xddefe5),renderEventsForColumn(_0x49b739,_0x18ff90,_0xddefe5),attachLongPressHandler(_0x49b739,_0x14a0a1),_0x420dd7[_0x3c93bb(0x155)](_0x49b739),updateDayStats(_0x18ff90);}_0x515916[_0x3c93bb(0x1d6)](_0x573aef,_0x515916[_0x3c93bb(0x132)]),_0x52b884[_0x3c93bb(0x1d6)](_0x420dd7,_0x52b884[_0x3c93bb(0x198)]('.day-column'));}function validateAppointment(_0x128c4a,_0x12028c,_0x4555aa,_0x1674ad,_0x9d82ee){const _0x4da340=a2_0xf5db6b,[_0x51a8de,_0xa1b237]=_0x12028c['split'](':')[_0x4da340(0x11a)](Number),[_0x647aea,_0x3205b1]=_0x4555aa[_0x4da340(0x123)](':')['map'](Number),_0x20f84a=_0x51a8de*0x3c+_0xa1b237,_0x49ef1b=_0x647aea*0x3c+_0x3205b1,_0x263e7=String(_0x9d82ee);let _0x4dd709=![],_0x596488='';for(let _0x4cd1a4 of sessions){if(_0x4cd1a4['dateStr']!==_0x128c4a)continue;if(_0x4cd1a4[_0x4da340(0x100)]===_0x4da340(0x12c))continue;if(_0x1674ad&&String(_0x4cd1a4['id'])===String(_0x1674ad))continue;const [_0x49de43,_0xe5e155]=_0x4cd1a4[_0x4da340(0x13f)][_0x4da340(0x123)](':')['map'](Number),[_0x1fe08b,_0x4505ec]=_0x4cd1a4['end'][_0x4da340(0x123)](':')[_0x4da340(0x11a)](Number),_0x4a3acb=_0x49de43*0x3c+_0xe5e155,_0x44971b=_0x1fe08b*0x3c+_0x4505ec;if(Math[_0x4da340(0x145)](_0x20f84a,_0x4a3acb)<Math[_0x4da340(0x177)](_0x49ef1b,_0x44971b)){if(_0x4cd1a4[_0x4da340(0xe2)]&&String(_0x4cd1a4[_0x4da340(0xe2)])===_0x263e7)return{'valid':![],'msg':_0x4da340(0x1d3)+_0x4cd1a4[_0x4da340(0x11c)]+_0x4da340(0x10c)};_0x4dd709=!![],_0x596488=_0x4cd1a4['client'];}}if(_0x4dd709)return{'valid':!![],'warning':_0x4da340(0x21b)+_0x596488};return{'valid':!![]};}function updateDateDisplay(){const _0x256736=a2_0xf5db6b,_0x5471a7=document['getElementById'](_0x256736(0x222))[_0x256736(0x20b)],_0x1211b2=document[_0x256736(0x1e9)]('sheetDateSubtitle');if(!_0x5471a7){_0x1211b2[_0x256736(0x1d5)]='';return;}const [_0x202e60,_0x15f430,_0x518ab0]=_0x5471a7[_0x256736(0x123)]('-')['map'](Number),_0x10c160=new Date(_0x202e60,_0x15f430-0x1,_0x518ab0),_0x508d69={'weekday':'long','day':'numeric','month':_0x256736(0x142),'year':_0x256736(0x21c)};let _0x1705f7=_0x10c160[_0x256736(0x147)](_0x256736(0x1a2),_0x508d69);_0x1705f7=_0x1705f7[_0x256736(0x1bc)](0x0)['toUpperCase']()+_0x1705f7[_0x256736(0x1eb)](0x1),_0x1211b2[_0x256736(0x1d5)]=_0x1705f7;}function autoSetEndTime(){const _0x3cbb02=a2_0xf5db6b,_0x34749e=document[_0x3cbb02(0x1e9)]('inpStart')['value'];if(!_0x34749e)return;const [_0x2d4c9b,_0x10b006]=_0x34749e[_0x3cbb02(0x123)](':')[_0x3cbb02(0x11a)](Number);let _0x83531d=_0x2d4c9b+0x1;if(_0x83531d>0x17)_0x83531d=0x0;const _0x386281=String(_0x83531d)[_0x3cbb02(0x139)](0x2,'0')+':'+String(_0x10b006)[_0x3cbb02(0x139)](0x2,'0');document[_0x3cbb02(0x1e9)](_0x3cbb02(0x159))[_0x3cbb02(0x20b)]=_0x386281;}function populateClientSelect(){const _0x55c4d9=a2_0xf5db6b,_0x835c3b=document[_0x55c4d9(0x1e9)](_0x55c4d9(0x229));_0x835c3b['innerHTML']='';if(clients[_0x55c4d9(0x22e)]===0x0){const _0x19156b=document[_0x55c4d9(0x233)]('option');_0x19156b[_0x55c4d9(0x203)]=_0x55c4d9(0x1b8),_0x835c3b['appendChild'](_0x19156b);return;}clients[_0x55c4d9(0xd2)](_0x5cb3f0=>{const _0x30c9c3=_0x55c4d9,_0x555ec7=document[_0x30c9c3(0x233)](_0x30c9c3(0x206));_0x555ec7[_0x30c9c3(0x20b)]=_0x5cb3f0[_0x30c9c3(0x196)],_0x555ec7[_0x30c9c3(0x1d5)]=_0x5cb3f0['name'],_0x835c3b[_0x30c9c3(0x155)](_0x555ec7);});}function openActionSheet(_0x142719){const _0x5aaed3=a2_0xf5db6b,_0x3ffe45=document['getElementById'](_0x5aaed3(0x218)),_0x23c694=document['getElementById'](_0x5aaed3(0xcc)),_0x1204a6=document[_0x5aaed3(0x1e9)]('asTitle'),_0x49b2d2=document[_0x5aaed3(0x1e9)]('asBtnOne'),_0x4d7da2=document[_0x5aaed3(0x1e9)](_0x5aaed3(0x1b2));_0x23c694['classList'][_0x5aaed3(0x1c8)](_0x5aaed3(0x115)),_0x3ffe45[_0x5aaed3(0x1aa)][_0x5aaed3(0x1c8)](_0x5aaed3(0xf3));if(_0x142719===_0x5aaed3(0xf4))_0x1204a6[_0x5aaed3(0x1d5)]=_0x5aaed3(0x22a),_0x49b2d2[_0x5aaed3(0x1d5)]=_0x5aaed3(0x22b),_0x49b2d2['onclick']=()=>{const _0x807ffe=_0x5aaed3;closeActionSheet(),updateSeriesBatch(_0x807ffe(0x1da),tempSessionData);},_0x4d7da2[_0x5aaed3(0x1d5)]=_0x5aaed3(0x1bb),_0x4d7da2[_0x5aaed3(0x1f8)]=()=>{const _0x190b33=_0x5aaed3;closeActionSheet(),updateSeriesBatch(_0x190b33(0x194),tempSessionData);};else _0x142719===_0x5aaed3(0x157)&&(_0x1204a6[_0x5aaed3(0x1d5)]='–£–¥–∞–ª–µ–Ω–∏–µ',_0x49b2d2[_0x5aaed3(0x1d5)]=_0x5aaed3(0x22b),_0x49b2d2[_0x5aaed3(0xde)]='as-button\x20danger',_0x49b2d2[_0x5aaed3(0x1f8)]=()=>{const _0x12cc4c=_0x5aaed3;closeActionSheet(),commitDelete(_0x12cc4c(0x1da),sessions['find'](_0x286bba=>_0x286bba['id']===editingId));},_0x4d7da2[_0x5aaed3(0x1d5)]=_0x5aaed3(0x1bb),_0x4d7da2[_0x5aaed3(0xde)]=_0x5aaed3(0x197),_0x4d7da2[_0x5aaed3(0x1f8)]=()=>{const _0x47c574=_0x5aaed3;closeActionSheet(),commitDelete('series',sessions[_0x47c574(0x14c)](_0x479a19=>_0x479a19['id']===editingId));});}function closeActionSheet(){const _0x4e8074=a2_0xf5db6b;document[_0x4e8074(0x1e9)](_0x4e8074(0x218))[_0x4e8074(0x1aa)][_0x4e8074(0xf2)]('open'),document[_0x4e8074(0x1e9)]('actionSheetOverlay')[_0x4e8074(0x1aa)][_0x4e8074(0xf2)](_0x4e8074(0x115));}function openSettings(){const _0x2064f5=a2_0xf5db6b;openSheet(_0x2064f5(0x1cb));}function saveCoachSettings(){const _0x3680e9=a2_0xf5db6b,_0xcdf927=document[_0x3680e9(0x1e9)](_0x3680e9(0xf8))['value'];localStorage['setItem'](_0x3680e9(0x219),_0xcdf927),console[_0x3680e9(0x15d)](_0x3680e9(0x14a),_0xcdf927),DataManager['fetchFromServer']('save_settings',{'settings':{'cancel_window':_0xcdf927}})[_0x3680e9(0xeb)](_0x178266=>{const _0x3f5d8d=_0x3680e9;console[_0x3f5d8d(0xda)](_0x3f5d8d(0x204),_0x178266),showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫',![]);});}function loadCoachSettings(){const _0x5e21f1=a2_0xf5db6b,_0x56a4de=localStorage['getItem'](_0x5e21f1(0x219));_0x56a4de&&(document[_0x5e21f1(0x1e9)](_0x5e21f1(0xf8))['value']=_0x56a4de);}function openRangesSheet(){const _0x511190=a2_0xf5db6b;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x511190(0xe0));}function addRange(){const _0x100083=a2_0xf5db6b,_0xda91b2=document['getElementById'](_0x100083(0x1a9))['value'],_0xa8adff=document['getElementById'](_0x100083(0xed))[_0x100083(0x20b)],_0x24362e=document[_0x100083(0x1e9)]('rangeEndDate')[_0x100083(0x20b)],_0x23f012=document[_0x100083(0x1e9)](_0x100083(0x10d))['value'];if(!_0xda91b2||!_0xa8adff||!_0x24362e||!_0x23f012)return alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è');const _0x3d2c15=_0xda91b2+'T'+_0xa8adff,_0x115929=_0x24362e+'T'+_0x23f012;if(_0x3d2c15>=_0x115929)return alert(_0x100083(0x202));specialRanges[_0x100083(0x18e)]({'start':_0x3d2c15,'end':_0x115929}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager[_0x100083(0x189)](_0x100083(0x1de),{'settings':{'ranges':specialRanges}});}function deleteRange(_0x351610){const _0x5de80a=a2_0xf5db6b;specialRanges['splice'](_0x351610,0x1),renderRangesList(),reRenderBlocks(),DataManager['saveLocally'](),DataManager['fetchFromServer'](_0x5de80a(0x1de),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x5c9678=a2_0xf5db6b;document[_0x5c9678(0x1e9)]('rangeStartDate')[_0x5c9678(0x20b)]='',document[_0x5c9678(0x1e9)](_0x5c9678(0xed))[_0x5c9678(0x20b)]='00:00',document['getElementById']('rangeEndDate')[_0x5c9678(0x20b)]='',document[_0x5c9678(0x1e9)](_0x5c9678(0x10d))['value']=_0x5c9678(0xf0);}function renderRangesList(){const _0x57d276=a2_0xf5db6b,_0x188d95=document['getElementById'](_0x57d276(0x1b3));_0x188d95[_0x57d276(0x210)]='';if(!specialRanges[_0x57d276(0x22e)]){_0x188d95['innerHTML']=_0x57d276(0x22d);return;}specialRanges[_0x57d276(0xd2)]((_0x5cedbf,_0x1c0eb7)=>{const _0x39795b=_0x57d276,_0x3e7368=document['createElement'](_0x39795b(0x186));_0x3e7368[_0x39795b(0xde)]=_0x39795b(0xcf);const _0x5938c0=_0x198787=>{const _0x5c304e=_0x39795b,_0x400798=new Date(_0x198787);return _0x400798[_0x5c304e(0xd7)]()+'.'+String(_0x400798['getMonth']()+0x1)['padStart'](0x2,'0')+'\x20'+String(_0x400798[_0x5c304e(0x175)]())['padStart'](0x2,'0')+':'+String(_0x400798[_0x5c304e(0xf5)]())['padStart'](0x2,'0');};_0x3e7368[_0x39795b(0x210)]=_0x39795b(0x191)+_0x5938c0(_0x5cedbf[_0x39795b(0x13f)])+_0x39795b(0x1f9)+_0x5938c0(_0x5cedbf[_0x39795b(0x16f)])+_0x39795b(0x111)+_0x1c0eb7+_0x39795b(0x1c2),_0x188d95[_0x39795b(0x155)](_0x3e7368);});}function scrollToToday(){const _0x2a0bca=a2_0xf5db6b,_0x2fcd61=getLocalDateStr(new Date()),_0x5f1bb7=document[_0x2a0bca(0x1e9)](_0x2a0bca(0x1d1)+_0x2fcd61),_0x472a09=document[_0x2a0bca(0x1e9)]('matrixViewport');if(_0x5f1bb7&&_0x472a09){const _0x5777f9=_0x472a09[_0x2a0bca(0xbe)],_0xbcd17e=_0x5f1bb7[_0x2a0bca(0x17a)],_0x1c6ebf=_0x5f1bb7[_0x2a0bca(0x1ba)];_0x472a09[_0x2a0bca(0xc5)]=_0xbcd17e-_0x5777f9/0x2+_0x1c6ebf/0x2,_0x472a09['scrollTop']=0x9*GRID_H;}}function onScroll(){const _0x13503c=a2_0xf5db6b,_0x319476=document[_0x13503c(0x1e9)](_0x13503c(0x1c0)),_0x392078=document['querySelectorAll']('.day-col-header');for(let _0x3d67e4 of _0x392078)if(_0x3d67e4[_0x13503c(0x17a)]>=_0x319476[_0x13503c(0xc5)]){const _0x4c546a=new Date(_0x3d67e4[_0x13503c(0x19c)](_0x13503c(0x180)));document['getElementById']('headerMonth')[_0x13503c(0x1d5)]=_0x4c546a['toLocaleString']('ru',{'month':_0x13503c(0x142)})['toUpperCase']()+'\x20'+_0x4c546a['getFullYear']();break;}}function showToast(_0x1d19e6,_0x2c9447=![]){const _0x3bbce4=a2_0xf5db6b,_0x2a2756=document['getElementById'](_0x3bbce4(0xc2));_0x2a2756[_0x3bbce4(0xde)]=_0x3bbce4(0xcb)+(_0x2c9447?_0x3bbce4(0x173):''),document[_0x3bbce4(0x1e9)](_0x3bbce4(0x12b))[_0x3bbce4(0x1d5)]=_0x2c9447?_0x3bbce4(0xfa):'–ò–Ω—Ñ–æ',document['getElementById']('toastMessage')[_0x3bbce4(0x1d5)]=_0x1d19e6,_0x2a2756['classList'][_0x3bbce4(0x1c8)](_0x3bbce4(0x1ed)),setTimeout(()=>{const _0x5db61b=_0x3bbce4;_0x2a2756[_0x5db61b(0x1aa)][_0x5db61b(0xf2)](_0x5db61b(0x1ed));},0xbb8);}function openDayOptions(_0x2105a3,_0x1ba0e9){const _0x165df6=a2_0xf5db6b;selectedDayForOptions=_0x2105a3,document[_0x165df6(0x1e9)](_0x165df6(0x16c))[_0x165df6(0x1d5)]=_0x1ba0e9,openSheet(_0x165df6(0x188));}function toggleDayOff(){const _0x1b0073=a2_0xf5db6b;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x1b0073(0x18a),reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x1b0073(0x189)](_0x1b0073(0x1de),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x22f364=a2_0xf5db6b;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager[_0x22f364(0x138)](),DataManager[_0x22f364(0x189)](_0x22f364(0x1de),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x78a6a9){const _0x28c863=a2_0xf5db6b;document[_0x28c863(0x1e9)](_0x28c863(0x190))[_0x28c863(0x1aa)]['add'](_0x28c863(0x115)),document[_0x28c863(0x1e9)](_0x78a6a9)[_0x28c863(0x1aa)]['add']('open');}function closeAllSheets(){const _0x10e61d=a2_0xf5db6b;document[_0x10e61d(0x1e9)](_0x10e61d(0x190))['classList'][_0x10e61d(0xf2)](_0x10e61d(0x115)),document[_0x10e61d(0x133)](_0x10e61d(0x116))[_0x10e61d(0xd2)](_0x580f94=>_0x580f94[_0x10e61d(0x1aa)][_0x10e61d(0xf2)](_0x10e61d(0xf3)));}function openPatternEditor(){const _0x1bcc5e=a2_0xf5db6b;closeAllSheets(),document[_0x1bcc5e(0x1e9)](_0x1bcc5e(0x1ea))[_0x1bcc5e(0x1aa)][_0x1bcc5e(0x1c8)](_0x1bcc5e(0xf3)),renderPatternEditor();}function closePatternEditor(){const _0x1e3449=a2_0xf5db6b;document[_0x1e3449(0x1e9)](_0x1e3449(0x1ea))[_0x1e3449(0x1aa)]['remove'](_0x1e3449(0xf3));}function savePattern(){const _0x3ce908=a2_0xf5db6b;document[_0x3ce908(0x1e9)](_0x3ce908(0x1ea))['classList'][_0x3ce908(0xf2)](_0x3ce908(0xf3)),reRenderBlocks(),DataManager[_0x3ce908(0x138)](),DataManager[_0x3ce908(0x189)](_0x3ce908(0x1de),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x42c533=a2_0xf5db6b,_0x2f36d6=document['getElementById'](_0x42c533(0x1ad));_0x2f36d6[_0x42c533(0x210)]='';const _0x1df8b6=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x30ccd4=document[_0x42c533(0x233)](_0x42c533(0x186));_0x30ccd4[_0x42c533(0xde)]='pe-corner',_0x2f36d6['appendChild'](_0x30ccd4),_0x1df8b6[_0x42c533(0xd2)]((_0x31a6c1,_0x26fbfc)=>{const _0x4d30de=_0x42c533,_0xefb305=document['createElement'](_0x4d30de(0x186));_0xefb305[_0x4d30de(0xde)]=_0x4d30de(0x174),_0xefb305['innerHTML']=_0x31a6c1+_0x4d30de(0x135),_0xefb305[_0x4d30de(0x1f8)]=()=>toggleColPattern(_0x26fbfc),_0x2f36d6[_0x4d30de(0x155)](_0xefb305);});for(let _0x569932=0x0;_0x569932<0x18;_0x569932++){const _0x74fa45=document[_0x42c533(0x233)](_0x42c533(0x186));_0x74fa45[_0x42c533(0xde)]=_0x42c533(0x124),_0x74fa45['innerHTML']=_0x42c533(0x101)+String(_0x569932)['padStart'](0x2,'0')+':00',_0x74fa45['onclick']=()=>toggleRowPattern(_0x569932),_0x2f36d6[_0x42c533(0x155)](_0x74fa45);for(let _0x1d22b6=0x0;_0x1d22b6<0x7;_0x1d22b6++){const _0x15cffd=document[_0x42c533(0x233)](_0x42c533(0x186)),_0x2f3751=(availabilityPattern[_0x1d22b6]||[])[_0x42c533(0x1ff)](_0x569932),_0x20d87a=!_0x2f3751;_0x15cffd[_0x42c533(0xde)]=_0x42c533(0x1c6)+(_0x20d87a?_0x42c533(0x115):''),_0x15cffd[_0x42c533(0x1f8)]=()=>toggleSinglePattern(_0x1d22b6,_0x569932),_0x2f36d6[_0x42c533(0x155)](_0x15cffd);}}}function toggleSinglePattern(_0x5d164d,_0x3ce74c){const _0x3d4819=a2_0xf5db6b;if(!availabilityPattern[_0x5d164d])availabilityPattern[_0x5d164d]=[];const _0x2eca1e=availabilityPattern[_0x5d164d],_0x387050=_0x2eca1e[_0x3d4819(0x13e)](_0x3ce74c);_0x387050===-0x1?_0x2eca1e['push'](_0x3ce74c):_0x2eca1e[_0x3d4819(0x12f)](_0x387050,0x1),renderPatternEditor();}function toggleColPattern(_0x5ce82a){const _0xc1ccd7=a2_0xf5db6b;if(!availabilityPattern[_0x5ce82a])availabilityPattern[_0x5ce82a]=[];const _0x49cd64=availabilityPattern[_0x5ce82a];_0x49cd64[_0xc1ccd7(0x22e)]===0x0?availabilityPattern[_0x5ce82a]=Array[_0xc1ccd7(0x1f1)]({'length':0x18},(_0x59fefc,_0x4e8c73)=>_0x4e8c73):availabilityPattern[_0x5ce82a]=[],renderPatternEditor();}function toggleRowPattern(_0x2c33c){const _0x38df1e=a2_0xf5db6b;let _0xbd9664=!![];for(let _0x209fab=0x0;_0x209fab<0x7;_0x209fab++){if((availabilityPattern[_0x209fab]||[])[_0x38df1e(0x1ff)](_0x2c33c)){_0xbd9664=![];break;}}for(let _0x5561c0=0x0;_0x5561c0<0x7;_0x5561c0++){if(!availabilityPattern[_0x5561c0])availabilityPattern[_0x5561c0]=[];const _0x5c083f=availabilityPattern[_0x5561c0][_0x38df1e(0x13e)](_0x2c33c);if(_0xbd9664){if(_0x5c083f===-0x1)availabilityPattern[_0x5561c0][_0x38df1e(0x18e)](_0x2c33c);}else{if(_0x5c083f!==-0x1)availabilityPattern[_0x5561c0][_0x38df1e(0x12f)](_0x5c083f,0x1);}}renderPatternEditor();}function renderPCol(_0x35c692,_0x2807f8){const _0x1fdb8a=a2_0xf5db6b;_0x35c692[_0x1fdb8a(0x210)]='';const _0x2771ee=Math[_0x1fdb8a(0x185)](_0x35c692[_0x1fdb8a(0x17a)]);(availabilityPattern[_0x2807f8]||[])[_0x1fdb8a(0xd2)](_0xf58ad8=>{const _0x269efc=_0x1fdb8a,_0x318c93=document['createElement'](_0x269efc(0x186));_0x318c93['className']='blocked-slot\x20stripe-bg';const _0x5c1a78=_0xf58ad8*GRID_H;_0x318c93['style'][_0x269efc(0x1b4)]=_0x5c1a78+'px',_0x318c93[_0x269efc(0x22c)]['backgroundPosition']='-'+_0x2771ee+_0x269efc(0x106)+_0x5c1a78+'px',_0x318c93['onclick']=_0x35a18b=>{const _0x34f65b=_0x269efc;_0x35a18b[_0x34f65b(0x1ac)](),toggleSinglePattern(_0x2807f8,_0xf58ad8);},_0x35c692['appendChild'](_0x318c93);});}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x3d11b1=a2_0xf5db6b,_0x4e34e9=new Date(),_0x476ca3=document[_0x3d11b1(0x1e9)]('globalTimeLine'),_0x15b9e4=document[_0x3d11b1(0x1e9)]('timeLineBadge'),_0x8e562a=(_0x4e34e9[_0x3d11b1(0x175)]()*0x3c+_0x4e34e9[_0x3d11b1(0xf5)]())/0x3c*GRID_H;_0x476ca3[_0x3d11b1(0x22c)][_0x3d11b1(0x1b4)]=_0x8e562a+'px',_0x476ca3[_0x3d11b1(0x22c)]['display']='block',_0x15b9e4[_0x3d11b1(0x1d5)]=String(_0x4e34e9[_0x3d11b1(0x175)]())[_0x3d11b1(0x139)](0x2,'0')+':'+String(_0x4e34e9[_0x3d11b1(0xf5)]())[_0x3d11b1(0x139)](0x2,'0'),_0x15b9e4[_0x3d11b1(0x22c)][_0x3d11b1(0x13c)]=_0x3d11b1(0x23b),_0x15b9e4['style'][_0x3d11b1(0x1b4)]=_0x8e562a+'px';}function a2_0x1313(_0x219a20,_0x4e3911){_0x219a20=_0x219a20-0xb8;const _0x333385=a2_0x22f3();let _0x59532d=_0x333385[_0x219a20];return _0x59532d;}document[a2_0xf5db6b(0x19a)]('DOMContentLoaded',init);function openDayOptions(_0x241c02){const _0x10060a=a2_0xf5db6b;selectedDayForOptions=_0x241c02;const _0x4762d2=new Date(_0x241c02),_0x17c1f7={'weekday':_0x10060a(0x142),'day':_0x10060a(0x21c),'month':_0x10060a(0x142),'year':_0x10060a(0x21c)},_0x4322b6=_0x4762d2[_0x10060a(0x147)]('ru-RU',_0x17c1f7);document[_0x10060a(0x1e9)](_0x10060a(0x13b))[_0x10060a(0x1d5)]=_0x4322b6['charAt'](0x0)['toUpperCase']()+_0x4322b6[_0x10060a(0x1eb)](0x1);let _0x2cc29a=_0x4762d2[_0x10060a(0x114)]()-0x1;if(_0x2cc29a===-0x1)_0x2cc29a=0x6;const _0x438d9a=availabilityPattern[_0x2cc29a]||[],_0x5b545b=0x18-_0x438d9a[_0x10060a(0x22e)],_0x32ed02=_0x5b545b*0x3c,_0x22ae67=sessions[_0x10060a(0x16b)](_0x2eb9da=>_0x2eb9da[_0x10060a(0x129)]===_0x241c02&&_0x2eb9da[_0x10060a(0x100)]!==_0x10060a(0x12c));let _0x4253b7=_0x22ae67[_0x10060a(0x11a)](_0x4c9126=>{const _0x5b808e=_0x10060a,[_0x14eb35,_0x411079]=_0x4c9126[_0x5b808e(0x13f)]['split'](':')[_0x5b808e(0x11a)](Number),[_0x4ebad5,_0x4512b8]=_0x4c9126[_0x5b808e(0x16f)][_0x5b808e(0x123)](':')['map'](Number);return[_0x14eb35*0x3c+_0x411079,_0x4ebad5*0x3c+_0x4512b8];});_0x4253b7[_0x10060a(0x16a)]((_0x4e14f6,_0x1927c1)=>_0x4e14f6[0x0]-_0x1927c1[0x0]);let _0x3f49b3=[];if(_0x4253b7[_0x10060a(0x22e)]>0x0){let _0x15a629=_0x4253b7[0x0];for(let _0x4004ad=0x1;_0x4004ad<_0x4253b7[_0x10060a(0x22e)];_0x4004ad++){_0x4253b7[_0x4004ad][0x0]<_0x15a629[0x1]?_0x15a629[0x1]=Math[_0x10060a(0x145)](_0x15a629[0x1],_0x4253b7[_0x4004ad][0x1]):(_0x3f49b3[_0x10060a(0x18e)](_0x15a629),_0x15a629=_0x4253b7[_0x4004ad]);}_0x3f49b3[_0x10060a(0x18e)](_0x15a629);}let _0x928f86=0x0;_0x3f49b3['forEach'](_0x5d894c=>_0x928f86+=_0x5d894c[0x1]-_0x5d894c[0x0]),document[_0x10060a(0x1e9)]('doWorkHours')['textContent']=formatMinsToHrs(_0x32ed02),document[_0x10060a(0x1e9)](_0x10060a(0x1a0))[_0x10060a(0x1d5)]=formatMinsToHrs(_0x928f86);const _0x392ecf=_0x32ed02>0x0?Math[_0x10060a(0x185)](_0x928f86/_0x32ed02*0x64):0x0,_0x5ab972=document['getElementById']('doLoadPercent');_0x5ab972[_0x10060a(0x1d5)]=_0x392ecf+'%';const _0x496225=document[_0x10060a(0x1e9)](_0x10060a(0x215));if(_0x392ecf>0x64)_0x5ab972[_0x10060a(0x22c)]['color']=_0x10060a(0x1d2),_0x496225['style'][_0x10060a(0x150)]=_0x10060a(0x205);else _0x392ecf>0x50?(_0x5ab972[_0x10060a(0x22c)][_0x10060a(0x224)]=_0x10060a(0x113),_0x496225[_0x10060a(0x22c)][_0x10060a(0x150)]=_0x10060a(0x11b)):(_0x5ab972[_0x10060a(0x22c)][_0x10060a(0x224)]=_0x10060a(0x183),_0x496225[_0x10060a(0x22c)][_0x10060a(0x150)]=_0x10060a(0x15c));const _0x59c72c=document[_0x10060a(0x1e9)](_0x10060a(0x1a3));_0x59c72c[_0x10060a(0x210)]='';_0x22ae67[_0x10060a(0x22e)]===0x0?_0x59c72c['innerHTML']=_0x10060a(0x10f):(_0x22ae67[_0x10060a(0x16a)]((_0x32bdaf,_0x5afa4a)=>_0x32bdaf[_0x10060a(0x13f)][_0x10060a(0x1c7)](_0x5afa4a[_0x10060a(0x13f)])),_0x22ae67[_0x10060a(0xd2)](_0xc83a56=>{const _0x512c35=_0x10060a,_0x202b4d=clients[_0x512c35(0x14c)](_0x2a11cf=>_0x2a11cf[_0x512c35(0x196)]===_0xc83a56[_0x512c35(0x11c)]),_0x2e0fda=_0x202b4d?_0x202b4d['color']:'#fff',_0xa4f730=_0xc83a56['status']==='completed',_0x231b1d=_0xa4f730?_0x512c35(0x1bd):'',_0x395b8c=document[_0x512c35(0x233)](_0x512c35(0x186));_0x395b8c[_0x512c35(0xde)]='de-item',_0x395b8c[_0x512c35(0x22c)][_0x512c35(0x1a4)]=_0x2e0fda,_0x395b8c[_0x512c35(0x210)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0xc83a56['start']+_0x512c35(0x161)+_0xc83a56[_0x512c35(0x16f)]+_0x512c35(0x11e)+_0xc83a56[_0x512c35(0x11c)]+_0x512c35(0xe4)+_0x231b1d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x59c72c[_0x512c35(0x155)](_0x395b8c);}));const _0x4d475b=document[_0x10060a(0x1e9)](_0x10060a(0x125)),_0x10adf6=dateExceptions[_0x241c02]===_0x10060a(0x18a);_0x10adf6?(_0x4d475b[_0x10060a(0x1d5)]=_0x10060a(0x1c3),_0x4d475b[_0x10060a(0xde)]=_0x10060a(0xb9),_0x4d475b[_0x10060a(0x22c)][_0x10060a(0x224)]=_0x10060a(0x183),_0x4d475b[_0x10060a(0x22c)][_0x10060a(0x1a6)]=_0x10060a(0x15a)):(_0x4d475b[_0x10060a(0x1d5)]=_0x10060a(0x200),_0x4d475b[_0x10060a(0xde)]=_0x10060a(0x15e),_0x4d475b[_0x10060a(0x22c)]['color']=_0x10060a(0x1d2),_0x4d475b[_0x10060a(0x22c)][_0x10060a(0x1a6)]=_0x10060a(0xbc)),openSheet(_0x10060a(0x188));}let currentAnPeriod=a2_0xf5db6b(0x1b0);function openAnalytics(){const _0x4b12ad=a2_0xf5db6b,_0x10c46c=document[_0x4b12ad(0x198)](_0x4b12ad(0x152));setAnalyticsPeriod(_0x4b12ad(0x1b0),_0x10c46c),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x24e4eb,_0x22765f){const _0xe925ae=a2_0xf5db6b;currentAnPeriod=_0x24e4eb,document[_0xe925ae(0x133)]('.period-switch\x20.p-btn')[_0xe925ae(0xd2)](_0x498055=>_0x498055[_0xe925ae(0x1aa)]['remove'](_0xe925ae(0x115)));if(_0x22765f)_0x22765f['classList'][_0xe925ae(0x1c8)](_0xe925ae(0x115));const _0x3230d5=document[_0xe925ae(0x1e9)](_0xe925ae(0x230));_0x3230d5[_0xe925ae(0x22c)]['display']=_0x24e4eb===_0xe925ae(0x17e)?_0xe925ae(0x17b):'none';const _0x17a401=new Date();let _0x17de85=new Date(),_0x2abe66=new Date();if(_0x24e4eb==='week')_0x17de85=getStartOfWeek(_0x17a401),_0x2abe66=new Date(_0x17de85),_0x2abe66[_0xe925ae(0x154)](_0x2abe66['getDate']()+0x6);else{if(_0x24e4eb===_0xe925ae(0x17f))_0x17de85=new Date(_0x17a401[_0xe925ae(0x231)](),_0x17a401['getMonth'](),0x1),_0x2abe66=new Date(_0x17a401[_0xe925ae(0x231)](),_0x17a401[_0xe925ae(0x137)]()+0x1,0x0);else{!document[_0xe925ae(0x1e9)](_0xe925ae(0x225))[_0xe925ae(0x20b)]&&(document[_0xe925ae(0x1e9)](_0xe925ae(0x225))['value']=getLocalDateStr(_0x17a401),document['getElementById'](_0xe925ae(0x19e))['value']=getLocalDateStr(_0x17a401));refreshAnalytics();return;}}document['getElementById'](_0xe925ae(0x225))[_0xe925ae(0x20b)]=getLocalDateStr(_0x17de85),document[_0xe925ae(0x1e9)](_0xe925ae(0x19e))[_0xe925ae(0x20b)]=getLocalDateStr(_0x2abe66),refreshAnalytics();}function refreshAnalytics(){const _0x311a0a=a2_0xf5db6b,_0x2a6ce0=document['getElementById'](_0x311a0a(0x225))[_0x311a0a(0x20b)],_0x450b06=document[_0x311a0a(0x1e9)](_0x311a0a(0x19e))[_0x311a0a(0x20b)];if(!_0x2a6ce0||!_0x450b06)return;const _0x36ff8c=sessions[_0x311a0a(0x16b)](_0x450998=>_0x450998['dateStr']>=_0x2a6ce0&&_0x450998['dateStr']<=_0x450b06&&_0x450998[_0x311a0a(0x100)]!==_0x311a0a(0x12c)),_0x497dbb=_0x36ff8c[_0x311a0a(0x22e)],_0x5514a9=_0x36ff8c[_0x311a0a(0x16b)](_0x5b01e8=>_0x5b01e8[_0x311a0a(0x100)]==='completed')['length'],_0x368eb5=_0x497dbb>0x0?Math['round'](_0x5514a9/_0x497dbb*0x64):0x0;document['getElementById'](_0x311a0a(0xbf))[_0x311a0a(0x1d5)]=_0x368eb5+'%',document[_0x311a0a(0x1e9)]('anTotalStats')[_0x311a0a(0x1d5)]=_0x5514a9+_0x311a0a(0x110)+_0x497dbb+_0x311a0a(0x136);const _0x5b804d=document[_0x311a0a(0x1e9)](_0x311a0a(0x10e)),_0x5d219c=0x2*Math['PI']*0x23,_0x1de9c2=_0x5d219c-_0x368eb5/0x64*_0x5d219c;_0x5b804d[_0x311a0a(0x22c)][_0x311a0a(0x13d)]=_0x1de9c2;const _0x297a5e={};_0x36ff8c['forEach'](_0x92abc7=>{const _0x52f7ea=_0x311a0a;if(!_0x297a5e[_0x92abc7[_0x52f7ea(0x11c)]]){const _0x3ab835=clients['find'](_0x1a91c7=>_0x1a91c7[_0x52f7ea(0x196)]===_0x92abc7[_0x52f7ea(0x11c)]);_0x297a5e[_0x92abc7[_0x52f7ea(0x11c)]]={'total':0x0,'done':0x0,'color':_0x3ab835?_0x3ab835[_0x52f7ea(0x224)]:_0x52f7ea(0x216)};}_0x297a5e[_0x92abc7[_0x52f7ea(0x11c)]][_0x52f7ea(0x1ce)]++;if(_0x92abc7[_0x52f7ea(0x100)]===_0x52f7ea(0xe3))_0x297a5e[_0x92abc7[_0x52f7ea(0x11c)]][_0x52f7ea(0x14b)]++;});const _0x1c43ea=document[_0x311a0a(0x1e9)]('analyticsList');_0x1c43ea[_0x311a0a(0x210)]='';const _0x40a4d8=Object[_0x311a0a(0xce)](_0x297a5e)[_0x311a0a(0x16a)]((_0x3e7400,_0x1b4b27)=>_0x1b4b27[0x1]['total']-_0x3e7400[0x1]['total']);if(_0x40a4d8[_0x311a0a(0x22e)]===0x0){_0x1c43ea[_0x311a0a(0x210)]=_0x311a0a(0x109);return;}_0x40a4d8[_0x311a0a(0xd2)](([_0x25db5e,_0x236f8a])=>{const _0x29cd8d=_0x311a0a,_0x53e60e=Math[_0x29cd8d(0x185)](_0x236f8a[_0x29cd8d(0x14b)]/_0x236f8a[_0x29cd8d(0x1ce)]*0x64),_0xb1ddfe=document['createElement'](_0x29cd8d(0x186));_0xb1ddfe[_0x29cd8d(0xde)]=_0x29cd8d(0xbd),_0xb1ddfe['style'][_0x29cd8d(0x1a4)]=_0x236f8a[_0x29cd8d(0x224)],_0xb1ddfe[_0x29cd8d(0x210)]=_0x29cd8d(0xfc)+_0x25db5e+_0x29cd8d(0x1af)+_0x236f8a['done']+_0x29cd8d(0x10b)+_0x236f8a[_0x29cd8d(0x1ce)]+_0x29cd8d(0xc1)+_0x53e60e+_0x29cd8d(0xd9),_0x1c43ea[_0x29cd8d(0x155)](_0xb1ddfe);});}function formatMinsToHrs(_0x5c7a94){const _0x2d624d=a2_0xf5db6b;if(_0x5c7a94===0x0)return'0';const _0x322745=Math[_0x2d624d(0x184)](_0x5c7a94/0x3c),_0x34a0a1=_0x5c7a94%0x3c;if(_0x34a0a1===0x0)return _0x322745+'—á';return _0x322745+'—á\x20'+_0x34a0a1+'–º';}