const a2_0x56fe05=a2_0x1d38;(function(_0x10936b,_0x5eeca5){const _0x2a19a7=a2_0x1d38,_0x30969b=_0x10936b();while(!![]){try{const _0xc0b9ae=parseInt(_0x2a19a7(0x24e))/0x1*(parseInt(_0x2a19a7(0x2af))/0x2)+parseInt(_0x2a19a7(0x237))/0x3*(-parseInt(_0x2a19a7(0x1f1))/0x4)+parseInt(_0x2a19a7(0x1d8))/0x5+-parseInt(_0x2a19a7(0x244))/0x6*(-parseInt(_0x2a19a7(0x1d3))/0x7)+-parseInt(_0x2a19a7(0x187))/0x8+parseInt(_0x2a19a7(0x20e))/0x9+-parseInt(_0x2a19a7(0x20f))/0xa*(parseInt(_0x2a19a7(0x29f))/0xb);if(_0xc0b9ae===_0x5eeca5)break;else _0x30969b['push'](_0x30969b['shift']());}catch(_0x4959a7){_0x30969b['push'](_0x30969b['shift']());}}}(a2_0x3001,0x5f251),function initTMA(){const _0x705d50=a2_0x1d38;try{const _0x10e3cd=window[_0x705d50(0x2aa)]?.[_0x705d50(0x1a5)];if(!_0x10e3cd)return;_0x10e3cd[_0x705d50(0x1c8)](),_0x10e3cd[_0x705d50(0x22f)]();try{_0x10e3cd[_0x705d50(0x1b8)](_0x705d50(0x13f)),_0x10e3cd['setBackgroundColor']&&_0x10e3cd[_0x705d50(0x1a7)](_0x705d50(0x13f));}catch(_0x15552a){console[_0x705d50(0x152)](_0x705d50(0x29b),_0x15552a);}try{_0x10e3cd[_0x705d50(0x182)]&&(_0x10e3cd[_0x705d50(0x182)]['show'](),_0x10e3cd['BackButton'][_0x705d50(0x19c)](),_0x10e3cd[_0x705d50(0x182)]['onClick'](function(){const _0x43dbcb=_0x705d50;window['location'][_0x43dbcb(0x23b)]='router.html';}));}catch(_0x1af2fc){console[_0x705d50(0x152)](_0x705d50(0x22a),_0x1af2fc);}try{if(_0x10e3cd[_0x705d50(0x2ae)])_0x10e3cd[_0x705d50(0x2ae)]();}catch(_0x2e7e47){}}catch(_0x21afcd){console[_0x705d50(0x2a7)](_0x705d50(0x1bd),_0x21afcd);}}());function isAdmin(){const _0x3609d5=a2_0x1d38;try{const _0x37da24=Number(window['Telegram']?.[_0x3609d5(0x1a5)]?.[_0x3609d5(0x2a1)]?.['user']?.['id']);return _0x37da24===0xbaf7174;}catch(_0x4d40c3){return![];}}const APP_VERSION=a2_0x56fe05(0x1ab),API_URL=a2_0x56fe05(0x2b8),GRID_H=0x3c;let startOffset=-0x1e,endOffset=0x3c,currentStart=getStartOfWeek(new Date());const KEY_CLIENTS=a2_0x56fe05(0x165),KEY_SESSIONS='uc_sessions_v9',KEY_SETTINGS=a2_0x56fe05(0x1a8);let clients=[],sessions=[],dateExceptions={},availabilityPattern={0x0:[],0x1:[],0x2:[],0x3:[],0x4:[],0x5:[],0x6:[]},specialRanges=[],editingId=null,tempSessionData=null,updateInterval,isScrolling=![],selectedDayForOptions=null,lastUserActionTime=0x0;const DataManager={'getUserId'(){const _0xfd1f5d=a2_0x56fe05;return window[_0xfd1f5d(0x2aa)]?.[_0xfd1f5d(0x1a5)]?.[_0xfd1f5d(0x2a1)]?.[_0xfd1f5d(0x230)]?.['id']||_0xfd1f5d(0x1f5);},'saveLocally'(){const _0x1b7bea=a2_0x56fe05;try{localStorage[_0x1b7bea(0x2b3)](KEY_CLIENTS,JSON[_0x1b7bea(0x1c0)](clients)),localStorage[_0x1b7bea(0x2b3)](KEY_SESSIONS,JSON[_0x1b7bea(0x1c0)](sessions)),localStorage[_0x1b7bea(0x2b3)](KEY_SETTINGS,JSON[_0x1b7bea(0x1c0)]({'pattern':availabilityPattern,'exceptions':dateExceptions,'ranges':specialRanges}));}catch(_0x1ef98b){console[_0x1b7bea(0x2a7)](_0x1b7bea(0x289),_0x1ef98b);}},'loadLocal'(){const _0x2df8e1=a2_0x56fe05;try{const _0x168a0d=localStorage[_0x2df8e1(0x223)](KEY_CLIENTS);if(_0x168a0d)clients=JSON[_0x2df8e1(0x14c)](_0x168a0d);const _0x8e19d8=localStorage[_0x2df8e1(0x223)](KEY_SESSIONS);if(_0x8e19d8)sessions=JSON[_0x2df8e1(0x14c)](_0x8e19d8);const _0x2fbfe3=localStorage[_0x2df8e1(0x223)](KEY_SETTINGS);if(_0x2fbfe3){const _0x5f3b1d=JSON[_0x2df8e1(0x14c)](_0x2fbfe3);if(_0x5f3b1d['pattern'])availabilityPattern=_0x5f3b1d[_0x2df8e1(0x28d)];if(_0x5f3b1d[_0x2df8e1(0x1f2)])dateExceptions=_0x5f3b1d['exceptions'];if(_0x5f3b1d['ranges'])specialRanges=_0x5f3b1d['ranges'];}else{for(let _0x262a6e=0x0;_0x262a6e<0x7;_0x262a6e++)availabilityPattern[_0x262a6e]=Array['from']({'length':0xc},(_0x2eda11,_0x4e756a)=>_0x4e756a+0x9);}}catch(_0x2c0eb9){console[_0x2df8e1(0x2a7)](_0x2df8e1(0x291),_0x2c0eb9);}},async 'fetchFromServer'(_0x142ad4,_0x452c1f={}){const _0x18fb7a=a2_0x56fe05,_0x55cf13=window[_0x18fb7a(0x2aa)]?.[_0x18fb7a(0x1a5)],_0x48b79c={'action':_0x142ad4,'init_data':_0x55cf13?.['initData']||'',..._0x452c1f};try{const _0x3d8262=await fetch(API_URL,{'method':'POST','headers':{'Content-Type':_0x18fb7a(0x216)},'body':JSON[_0x18fb7a(0x1c0)](_0x48b79c)}),_0x1e76f2=await _0x3d8262[_0x18fb7a(0x184)]();if(!_0x1e76f2['ok'])throw new Error(_0x1e76f2[_0x18fb7a(0x2a7)]||_0x18fb7a(0x1b6));return _0x1e76f2[_0x18fb7a(0x26b)];}catch(_0xd2ed55){console[_0x18fb7a(0x2a7)]('[API\x20'+_0x142ad4+_0x18fb7a(0x22c),_0xd2ed55);throw _0xd2ed55;}},async 'syncLoad'(){const _0x4ea2b2=a2_0x56fe05,_0x5d5acb=new Date(),_0x5b208b=_0x5d5acb[_0x4ea2b2(0x1a4)]()+'-'+String(_0x5d5acb[_0x4ea2b2(0x213)]()+0x1)['padStart'](0x2,'0'),_0x4bdb36=new Date(_0x5d5acb);_0x4bdb36[_0x4ea2b2(0x18b)](_0x5d5acb[_0x4ea2b2(0x213)]()+0x1);const _0x4e52f4=_0x4bdb36[_0x4ea2b2(0x1a4)]()+'-'+String(_0x4bdb36[_0x4ea2b2(0x213)]()+0x1)[_0x4ea2b2(0x17a)](0x2,'0'),_0x53e78e=Date[_0x4ea2b2(0x27f)]();console['log'](_0x4ea2b2(0x18d)+_0x5b208b+',\x20'+_0x4e52f4+_0x4ea2b2(0x2ba));try{const [_0x44747d,_0x155967]=await Promise[_0x4ea2b2(0x15f)]([this['fetchFromServer'](_0x4ea2b2(0x239),{'month_str':_0x5b208b}),this[_0x4ea2b2(0x1cc)](_0x4ea2b2(0x239),{'month_str':_0x4e52f4})]);if(lastUserActionTime>_0x53e78e)return console['warn'](_0x4ea2b2(0x257)),![];return this[_0x4ea2b2(0x13a)](_0x44747d,_0x5b208b),this['mergeServerData'](_0x155967,_0x4e52f4),this[_0x4ea2b2(0x15e)](),reRenderBlocks(),updateAllDayStats(),!![];}catch(_0x4287aa){console['error'](_0x4287aa);throw _0x4287aa;}},'mergeServerData'(_0x1a0539,_0x555468){const _0x13cf11=a2_0x56fe05;if(!_0x1a0539)return;_0x1a0539[_0x13cf11(0x205)]&&Array[_0x13cf11(0x298)](_0x1a0539[_0x13cf11(0x205)])&&(clients=_0x1a0539[_0x13cf11(0x205)]);if(_0x1a0539[_0x13cf11(0x2a6)]){if(_0x1a0539['settings'][_0x13cf11(0x28d)])availabilityPattern=_0x1a0539[_0x13cf11(0x2a6)][_0x13cf11(0x28d)];if(_0x1a0539[_0x13cf11(0x2a6)][_0x13cf11(0x1f2)])dateExceptions=_0x1a0539['settings'][_0x13cf11(0x1f2)];if(_0x1a0539[_0x13cf11(0x2a6)]['ranges'])specialRanges=_0x1a0539['settings'][_0x13cf11(0x16c)];if(_0x1a0539['settings'][_0x13cf11(0x208)]){localStorage[_0x13cf11(0x2b3)](_0x13cf11(0x1d0),_0x1a0539['settings'][_0x13cf11(0x208)]);const _0x336551=document[_0x13cf11(0x1c4)]('settingCancelWindow');if(_0x336551)_0x336551[_0x13cf11(0x265)]=_0x1a0539['settings'][_0x13cf11(0x208)];}}_0x1a0539[_0x13cf11(0x222)]&&(sessions=sessions[_0x13cf11(0x144)](_0x5b6e9a=>!_0x5b6e9a['dateStr'][_0x13cf11(0x2b0)](_0x555468)),Object[_0x13cf11(0x27b)](_0x1a0539['calendar'])[_0x13cf11(0x276)](_0x2890a7=>{const _0x2ae6b1=_0x13cf11,_0x876e00=_0x1a0539['calendar'][_0x2890a7];_0x876e00[_0x2ae6b1(0x276)](_0x47b4d6=>{const _0x2e13fd=_0x2ae6b1,_0x3f76e3=clients['find'](_0x241e74=>String(_0x241e74['id'])===String(_0x47b4d6['c']));sessions[_0x2e13fd(0x17e)]({'id':_0x47b4d6['i'],'clientId':_0x47b4d6['c'],'client':_0x3f76e3?_0x3f76e3[_0x2e13fd(0x1a2)]:'Unknown','dateStr':_0x555468+'-'+_0x2890a7[_0x2e13fd(0x17a)](0x2,'0'),'start':_0x47b4d6['s'],'end':_0x47b4d6['e'],'status':_0x47b4d6['st']||_0x2e13fd(0x1a1),'note':_0x47b4d6['n']||'','seriesId':_0x47b4d6[_0x2e13fd(0x27d)]||null});});}));},async 'syncBatch'(_0x13701a){const _0x2359b9=a2_0x56fe05,_0x4f02ca=[...new Set(_0x13701a)],_0x443819=_0x4f02ca[_0x2359b9(0x256)](_0x3bae26=>{const _0x2f94cd=_0x2359b9,_0x181234=sessions[_0x2f94cd(0x144)](_0xdbaf87=>_0xdbaf87[_0x2f94cd(0x1fa)]===_0x3bae26&&_0xdbaf87['status']!=='deleted'),_0x1d4bed=_0x181234[_0x2f94cd(0x256)](_0x597a81=>({'i':_0x597a81['id'],'c':_0x597a81[_0x2f94cd(0x2b7)],'s':_0x597a81['start'],'e':_0x597a81[_0x2f94cd(0x16d)],'st':_0x597a81[_0x2f94cd(0x1de)],'n':_0x597a81['note'],'sid':_0x597a81[_0x2f94cd(0x1ed)]}));return{'date':_0x3bae26,'day_data':_0x1d4bed};});if(_0x443819[_0x2359b9(0x1fe)]===0x0)return;console[_0x2359b9(0x152)](_0x2359b9(0x2b9)+_0x443819[_0x2359b9(0x1fe)]+_0x2359b9(0x1c6)),await this['fetchFromServer']('batch_sync',{'changes':_0x443819});}};async function init(){const _0x42fd20=a2_0x56fe05;DataManager['loadLocal'](),loadCoachSettings(),renderTimeColumn(),renderDayRange(startOffset,endOffset),scrollToToday(),startClock(),reRenderBlocks(),document[_0x42fd20(0x1c4)](_0x42fd20(0x185))[_0x42fd20(0x293)](_0x42fd20(0x1f9),()=>{isScrolling=!![],cancelLongPress(),onScroll(),handleInfiniteScroll();},{'passive':!![]}),DataManager[_0x42fd20(0x241)]()[_0x42fd20(0x195)](()=>{const _0x575a2d=_0x42fd20;showToast(_0x575a2d(0x23c),!![]);})[_0x42fd20(0x13b)](_0x5c7eee=>{showToast('–û—Ñ—Ñ–ª–∞–π–Ω\x20—Ä–µ–∂–∏–º',![]);});}function generateId(){const _0x1d9552=a2_0x56fe05;return Date[_0x1d9552(0x27f)]()['toString'](0x24)+Math[_0x1d9552(0x1ba)]()[_0x1d9552(0x248)](0x24)[_0x1d9552(0x1af)](0x2,0x5);}function toggleSeriesInput(){const _0x489e32=a2_0x56fe05,_0x715663=document['getElementById'](_0x489e32(0x29a))[_0x489e32(0x18f)],_0x1c052d=document[_0x489e32(0x1c4)](_0x489e32(0x1f8));_0x1c052d[_0x489e32(0x193)]['display']=_0x715663?_0x489e32(0x172):_0x489e32(0x290);const _0xf26200=document[_0x489e32(0x1c4)](_0x489e32(0x2a4));_0xf26200['style'][_0x489e32(0x20c)]=_0x715663?'10px\x2010px\x200\x200':_0x489e32(0x245);}function openAddSession(_0x5bf753){const _0x194cf7=a2_0x56fe05;editingId=null,populateClientSelect(),document[_0x194cf7(0x1c4)](_0x194cf7(0x1c1))[_0x194cf7(0x218)]=_0x194cf7(0x2bb),document['getElementById'](_0x194cf7(0x1ea))[_0x194cf7(0x193)][_0x194cf7(0x1dc)]=_0x194cf7(0x290),document['getElementById'](_0x194cf7(0x2a9))[_0x194cf7(0x193)][_0x194cf7(0x1dc)]=_0x194cf7(0x290);const _0x3a27d9=document[_0x194cf7(0x1c4)](_0x194cf7(0x2a4)),_0x1b8de8=document[_0x194cf7(0x1c4)](_0x194cf7(0x1f8));_0x3a27d9[_0x194cf7(0x193)][_0x194cf7(0x1dc)]='flex',_0x3a27d9[_0x194cf7(0x193)]['borderRadius']=_0x194cf7(0x245),document[_0x194cf7(0x1c4)]('inpRecurring')['checked']=![],document[_0x194cf7(0x1c4)](_0x194cf7(0x21c))[_0x194cf7(0x265)]=0x4,_0x1b8de8['style'][_0x194cf7(0x1dc)]=_0x194cf7(0x290),document[_0x194cf7(0x1c4)](_0x194cf7(0x212))[_0x194cf7(0x265)]=getLocalDateStr(_0x5bf753),updateDateDisplay();const _0x198a8e=_0x5bf753['getHours']();document['getElementById']('inpStart')[_0x194cf7(0x265)]=String(_0x198a8e)[_0x194cf7(0x17a)](0x2,'0')+':00',document[_0x194cf7(0x1c4)](_0x194cf7(0x297))[_0x194cf7(0x265)]=String(_0x198a8e+0x1)[_0x194cf7(0x17a)](0x2,'0')+':00',openSheet(_0x194cf7(0x2b1));}function openEdit(_0x384c0e){const _0x1b7e14=a2_0x56fe05;editingId=_0x384c0e['id'],populateClientSelect(),document['getElementById']('sheetTitle')[_0x1b7e14(0x218)]=_0x1b7e14(0x270),document[_0x1b7e14(0x1c4)](_0x1b7e14(0x1ea))[_0x1b7e14(0x193)]['display']=_0x1b7e14(0x172);const _0x5c47a5=document['getElementById']('btnStatusToggle');_0x5c47a5[_0x1b7e14(0x193)][_0x1b7e14(0x1dc)]='flex';_0x384c0e[_0x1b7e14(0x1de)]===_0x1b7e14(0x150)?(_0x5c47a5[_0x1b7e14(0x1eb)]=_0x1b7e14(0x190),_0x5c47a5[_0x1b7e14(0x19d)]=_0x1b7e14(0x196)):(_0x5c47a5[_0x1b7e14(0x1eb)]=_0x1b7e14(0x243),_0x5c47a5[_0x1b7e14(0x19d)]=_0x1b7e14(0x274));const _0x4f8f06=!!_0x384c0e[_0x1b7e14(0x1ed)];document['getElementById'](_0x1b7e14(0x2a4))[_0x1b7e14(0x193)][_0x1b7e14(0x1dc)]=_0x1b7e14(0x290),document[_0x1b7e14(0x1c4)](_0x1b7e14(0x1f8))[_0x1b7e14(0x193)][_0x1b7e14(0x1dc)]=_0x1b7e14(0x290),_0x4f8f06?(document[_0x1b7e14(0x1c4)]('patternInfoBox')[_0x1b7e14(0x193)][_0x1b7e14(0x1dc)]=_0x1b7e14(0x1cb),document[_0x1b7e14(0x1c4)](_0x1b7e14(0x18a))[_0x1b7e14(0x1e4)]('.pib-text')[_0x1b7e14(0x218)]=_0x1b7e14(0x143)):document['getElementById'](_0x1b7e14(0x18a))[_0x1b7e14(0x193)][_0x1b7e14(0x1dc)]=_0x1b7e14(0x290),document[_0x1b7e14(0x1c4)](_0x1b7e14(0x273))[_0x1b7e14(0x265)]=_0x384c0e[_0x1b7e14(0x287)],document['getElementById'](_0x1b7e14(0x212))[_0x1b7e14(0x265)]=_0x384c0e['dateStr'],document[_0x1b7e14(0x1c4)](_0x1b7e14(0x21f))['value']=_0x384c0e['start'],document[_0x1b7e14(0x1c4)](_0x1b7e14(0x297))['value']=_0x384c0e[_0x1b7e14(0x16d)],document[_0x1b7e14(0x1c4)](_0x1b7e14(0x2a2))[_0x1b7e14(0x265)]=_0x384c0e[_0x1b7e14(0x288)]||'',updateDateDisplay(),openSheet('sessionSheet');}async function trySaveSession(){const _0xea225c=a2_0x56fe05,_0x127f8d=document[_0xea225c(0x1c4)](_0xea225c(0x273))[_0xea225c(0x265)],_0x5aa1e9=document[_0xea225c(0x1c4)](_0xea225c(0x212))[_0xea225c(0x265)],_0x5b43c4=document['getElementById'](_0xea225c(0x21f))[_0xea225c(0x265)],_0x1440f5=document[_0xea225c(0x1c4)](_0xea225c(0x297))[_0xea225c(0x265)],_0x1b319b=document[_0xea225c(0x1c4)](_0xea225c(0x2a2))[_0xea225c(0x265)],_0x173db0=document[_0xea225c(0x1c4)](_0xea225c(0x29a))[_0xea225c(0x18f)];let _0x412fd4=0x4;if(_0x173db0){const _0x17c230=parseInt(document[_0xea225c(0x1c4)]('inpSeriesCount')[_0xea225c(0x265)]);if(!_0x17c230||_0x17c230<0x2){showToast(_0xea225c(0x15a),![]);return;}if(_0x17c230>0x64){showToast('–ú–∞–∫—Å–∏–º—É–º\x20100\x20–∑–∞\x20—Ä–∞–∑',![]);return;}_0x412fd4=_0x17c230;}const _0xba7226=clients['find'](_0x531a1c=>_0x531a1c['name']===_0x127f8d);if(!_0xba7226){showToast('–û—à–∏–±–∫–∞:\x20–í—ã–±–µ—Ä–∏—Ç–µ\x20–∫–ª–∏–µ–Ω—Ç–∞\x20–∏–∑\x20—Å–ø–∏—Å–∫–∞',![]);return;}const _0x28ab0d=validateAppointment(_0x5aa1e9,_0x5b43c4,_0x1440f5,editingId,_0xba7226['id']);if(!_0x28ab0d[_0xea225c(0x1e1)]){showToast(_0x28ab0d[_0xea225c(0x1f6)],![]);return;}_0x28ab0d[_0xea225c(0x13d)]&&showToast(_0x28ab0d[_0xea225c(0x13d)],![]);const _0x536178={'client':_0x127f8d,'clientId':_0xba7226['id'],'start':_0x5b43c4,'end':_0x1440f5,'note':_0x1b319b,'status':_0xea225c(0x1a1)},_0x2c2f07=editingId?sessions[_0xea225c(0x25b)](_0x531d82=>_0x531d82['id']===editingId):null;if(_0x2c2f07&&_0x2c2f07[_0xea225c(0x1ed)]){tempSessionData={..._0x536178,'dateStr':_0x5aa1e9,'id':editingId,'seriesId':_0x2c2f07[_0xea225c(0x1ed)]},openActionSheet(_0xea225c(0x1c2));return;}let _0x5943ce=null;if(!editingId)_0x5943ce=_0xea225c(0x282);else{if(_0x2c2f07){if(String(_0x2c2f07['clientId'])!==String(_0xba7226['id']))console['log']('[Notify]\x20Client\x20SWAP\x20detected'),NotificationManager[_0xea225c(0x296)](_0xea225c(0x1b0),_0x2c2f07),_0x5943ce=_0xea225c(0x282);else(_0x2c2f07[_0xea225c(0x1bc)]!==_0x5b43c4||_0x2c2f07[_0xea225c(0x16d)]!==_0x1440f5||_0x2c2f07[_0xea225c(0x1fa)]!==_0x5aa1e9)&&(_0x5943ce='update');}}if(!editingId&&_0x173db0){createBatchSeries(_0x536178,_0x5aa1e9,_0x412fd4),NotificationManager[_0xea225c(0x296)](_0xea225c(0x282),{..._0x536178,'dateStr':_0x5aa1e9});return;}lastUserActionTime=Date[_0xea225c(0x27f)]();const _0x5be9b0={..._0x536178,'dateStr':_0x5aa1e9,'id':editingId||generateId(),'seriesId':null};saveSingleSession(_0x5be9b0),_0x5943ce&&NotificationManager[_0xea225c(0x296)](_0x5943ce,_0x5be9b0);}function toggleSessionStatus(){const _0x258ed6=a2_0x56fe05;lastUserActionTime=Date[_0x258ed6(0x27f)]();const _0x2b4f07=sessions['find'](_0x1cb815=>_0x1cb815['id']===editingId);if(!_0x2b4f07)return;const _0x1bcad9=_0x2b4f07[_0x258ed6(0x1de)]==='completed'?_0x258ed6(0x1a1):_0x258ed6(0x150);_0x2b4f07['status']=_0x1bcad9,saveSingleSession(_0x2b4f07),_0x1bcad9===_0x258ed6(0x150)&&NotificationManager['send'](_0x258ed6(0x178),_0x2b4f07),showToast(_0x1bcad9==='completed'?'–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞':_0x258ed6(0x153),!![]);}function validateAppointment(_0x45f1f1,_0x2ec593,_0x497a29,_0x13c64d,_0x236861){const _0x4d4c4e=a2_0x56fe05,[_0xf9fb3f,_0x4e0625]=_0x2ec593[_0x4d4c4e(0x258)](':')[_0x4d4c4e(0x256)](Number),[_0x508db2,_0x1fddb8]=_0x497a29[_0x4d4c4e(0x258)](':')[_0x4d4c4e(0x256)](Number),_0x257191=_0xf9fb3f*0x3c+_0x4e0625,_0x3094df=_0x508db2*0x3c+_0x1fddb8,_0x45bc26=String(_0x236861);let _0x53b415=![],_0x2ca22a='';for(let _0x1cfbaa of sessions){if(_0x1cfbaa[_0x4d4c4e(0x1fa)]!==_0x45f1f1)continue;if(_0x1cfbaa[_0x4d4c4e(0x1de)]===_0x4d4c4e(0x206))continue;if(_0x13c64d&&String(_0x1cfbaa['id'])===String(_0x13c64d))continue;const [_0xa5717b,_0x3a9f0c]=_0x1cfbaa[_0x4d4c4e(0x1bc)][_0x4d4c4e(0x258)](':')['map'](Number),[_0x100999,_0x490647]=_0x1cfbaa[_0x4d4c4e(0x16d)][_0x4d4c4e(0x258)](':')[_0x4d4c4e(0x256)](Number),_0x3b4ebb=_0xa5717b*0x3c+_0x3a9f0c,_0x383797=_0x100999*0x3c+_0x490647;if(Math['max'](_0x257191,_0x3b4ebb)<Math['min'](_0x3094df,_0x383797)){if(_0x1cfbaa['clientId']&&String(_0x1cfbaa[_0x4d4c4e(0x2b7)])===_0x45bc26)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0x1cfbaa[_0x4d4c4e(0x287)]+_0x4d4c4e(0x159)};_0x53b415=!![],_0x2ca22a=_0x1cfbaa[_0x4d4c4e(0x287)];}}if(_0x53b415)return{'valid':!![],'warning':_0x4d4c4e(0x192)+_0x2ca22a};return{'valid':!![]};}function saveSingleSession(_0x3f8a01){const _0x2fb363=a2_0x56fe05;if(editingId){const _0x314fa0=sessions['findIndex'](_0x2bba73=>_0x2bba73['id']===editingId);if(_0x314fa0!==-0x1)sessions[_0x314fa0]=_0x3f8a01;}else sessions[_0x2fb363(0x17e)](_0x3f8a01);afterSaveAction([_0x3f8a01['dateStr']]);}function createBatchSeries(_0x565c03,_0x44d972,_0x76f28){const _0x273fbc=a2_0x56fe05,_0x5b9d63=generateId(),_0x4e8583=[],_0x239ef1=[];let _0x2a50d7=0x0,_0x20060c=new Date(_0x44d972);for(let _0x10eee6=0x0;_0x10eee6<_0x76f28;_0x10eee6++){const _0x2a1dc0=getLocalDateStr(_0x20060c),_0x1378a6=validateAppointment(_0x2a1dc0,_0x565c03[_0x273fbc(0x1bc)],_0x565c03[_0x273fbc(0x16d)],null,_0x565c03[_0x273fbc(0x2b7)]);if(!_0x1378a6[_0x273fbc(0x1e1)])console[_0x273fbc(0x152)](_0x273fbc(0x19f)+_0x2a1dc0+_0x273fbc(0x163)),_0x2a50d7++;else{const _0x5ab0d6={..._0x565c03,'id':generateId(),'dateStr':_0x2a1dc0,'seriesId':_0x5b9d63};_0x239ef1[_0x273fbc(0x17e)](_0x5ab0d6),_0x4e8583[_0x273fbc(0x17e)](_0x2a1dc0);}_0x20060c['setDate'](_0x20060c[_0x273fbc(0x234)]()+0x7);}if(_0x239ef1[_0x273fbc(0x1fe)]===0x0){showToast(_0x273fbc(0x168),![]);return;}sessions[_0x273fbc(0x17e)](..._0x239ef1),lastUserActionTime=Date['now']();let _0x11b15f=_0x273fbc(0x23f)+_0x239ef1[_0x273fbc(0x1fe)];_0x2a50d7>0x0&&(_0x11b15f+='\x20(–ø—Ä–æ–ø—É—â–µ–Ω–æ:\x20'+_0x2a50d7+')'),showToast(_0x11b15f,!![]),afterSaveAction(_0x4e8583);}function updateSeriesBatch(_0x13a9c9,_0x2eb7a6){const _0x17527e=a2_0x56fe05,_0x4cdb78=[],_0x23a88d=_0x2eb7a6[_0x17527e(0x1ed)];if(_0x13a9c9===_0x17527e(0x2ad)){const _0x44d61c={..._0x2eb7a6,'seriesId':null},_0x498237=sessions[_0x17527e(0x25f)](_0xe969c3=>_0xe969c3['id']===_0x2eb7a6['id']);if(_0x498237!==-0x1)sessions[_0x498237]=_0x44d61c;_0x4cdb78[_0x17527e(0x17e)](_0x44d61c[_0x17527e(0x1fa)]);}else{if(_0x13a9c9===_0x17527e(0x233)){const _0xb8a24f=_0x2eb7a6['dateStr'];sessions['forEach']((_0x3606f8,_0x1fd0e7)=>{const _0x12d123=_0x17527e;_0x3606f8[_0x12d123(0x1ed)]===_0x23a88d&&_0x3606f8[_0x12d123(0x1fa)]>=_0xb8a24f&&(sessions[_0x1fd0e7]={...sessions[_0x1fd0e7],'start':_0x2eb7a6[_0x12d123(0x1bc)],'end':_0x2eb7a6[_0x12d123(0x16d)],'note':_0x2eb7a6['note'],'client':_0x2eb7a6[_0x12d123(0x287)],'clientId':_0x2eb7a6['clientId']},_0x4cdb78['push'](_0x3606f8[_0x12d123(0x1fa)]));});}}afterSaveAction(_0x4cdb78);}function tryDeleteSession(){const _0x84509b=sessions['find'](_0x206b34=>_0x206b34['id']===editingId);if(!_0x84509b)return;_0x84509b['seriesId']?openActionSheet('delete'):commitDelete('single',_0x84509b);}function commitDelete(_0x396d86,_0x4e5818){const _0x170c11=a2_0x56fe05;lastUserActionTime=Date['now'](),NotificationManager[_0x170c11(0x296)]('cancel',_0x4e5818);const _0x383f2a=[];if(_0x396d86===_0x170c11(0x2ad))sessions=sessions[_0x170c11(0x144)](_0x5b69fd=>_0x5b69fd['id']!==_0x4e5818['id']),_0x383f2a[_0x170c11(0x17e)](_0x4e5818['dateStr']);else{if(_0x396d86==='series'){const _0x2c99e6=_0x4e5818[_0x170c11(0x1fa)],_0x3df597=_0x4e5818[_0x170c11(0x1ed)];sessions[_0x170c11(0x276)](_0x4179de=>{const _0x52c6d1=_0x170c11;_0x4179de[_0x52c6d1(0x1ed)]===_0x3df597&&_0x4179de['dateStr']>=_0x2c99e6&&_0x383f2a['push'](_0x4179de[_0x52c6d1(0x1fa)]);}),sessions=sessions['filter'](_0x274122=>!(_0x274122['seriesId']===_0x3df597&&_0x274122[_0x170c11(0x1fa)]>=_0x2c99e6));}}afterSaveAction(_0x383f2a);}function afterSaveAction(_0x5903bf){const _0x67f740=a2_0x56fe05;DataManager[_0x67f740(0x15e)](),reRenderBlocks(),updateAllDayStats(),closeAllSheets(),DataManager[_0x67f740(0x1cd)](_0x5903bf)['then'](()=>console['log'](_0x67f740(0x22e)))[_0x67f740(0x13b)](_0x35d9be=>showToast('–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–≤\x20–æ–±–ª–∞–∫–æ',![]));}const NotificationManager={'formatDate'(_0x2ea1b0){const _0x426e62=a2_0x56fe05,_0x341196=new Date(_0x2ea1b0),_0x1880f4={'weekday':'long','day':_0x426e62(0x200),'month':_0x426e62(0x268)};let _0xf650a6=_0x341196[_0x426e62(0x29d)](_0x426e62(0x27a),_0x1880f4);return _0xf650a6[_0x426e62(0x271)](0x0)[_0x426e62(0x26d)]()+_0xf650a6[_0x426e62(0x1bb)](0x1);},'getText'(_0x3e8438,_0x457840){const _0x528f2d=a2_0x56fe05,_0x13096c=this[_0x528f2d(0x1e5)](_0x457840[_0x528f2d(0x1fa)]);switch(_0x3e8438){case'create':return _0x528f2d(0x25e)+(_0x528f2d(0x188)+_0x13096c+'\x0a')+(_0x528f2d(0x249)+_0x457840['start']+_0x528f2d(0x242)+_0x457840[_0x528f2d(0x16d)]+'\x0a\x0a')+'–ñ–¥—É\x20–≤–∞—Å\x20–≤\x20–∑–∞–ª–µ!\x20üí™';case _0x528f2d(0x280):return'<b>üîÑ\x20–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20–≤—Ä–µ–º–µ–Ω–∏</b>\x0a\x0a'+_0x528f2d(0x261)+(_0x528f2d(0x226)+_0x457840['start']+_0x528f2d(0x242)+_0x457840['end']+_0x528f2d(0x27c))+(_0x528f2d(0x188)+_0x13096c);case _0x528f2d(0x1b0):return _0x528f2d(0x217)+('–ó–∞–ø–∏—Å—å\x20–Ω–∞\x20<b>'+_0x13096c+'\x20('+_0x457840[_0x528f2d(0x1bc)]+_0x528f2d(0x1a3));case'complete':return _0x528f2d(0x1f3)+_0x528f2d(0x173)+_0x528f2d(0x1dd);default:return'';}},async 'send'(_0x7654a1,_0x5a4a04){const _0x3ff886=a2_0x56fe05;console['log'](_0x3ff886(0x28a),_0x7654a1,_0x5a4a04);if(!_0x5a4a04){console['error'](_0x3ff886(0x2b6));return;}const _0x181636=String(_0x5a4a04[_0x3ff886(0x2b7)]);console[_0x3ff886(0x152)]('[Notify]\x20Detected\x20Client\x20ID:',_0x181636);if(!_0x5a4a04[_0x3ff886(0x2b7)]||_0x181636===_0x3ff886(0x254)||_0x181636===_0x3ff886(0x1ff)){console[_0x3ff886(0x2a7)](_0x3ff886(0x1fb));if(_0x5a4a04['client']){const _0x548927=clients[_0x3ff886(0x25b)](_0x230d6f=>_0x230d6f[_0x3ff886(0x1a2)]===_0x5a4a04[_0x3ff886(0x287)]);if(_0x548927)return console['log']('[Notify]\x20RECOVERY:\x20Found\x20ID\x20by\x20name:',_0x548927['id']),this[_0x3ff886(0x296)](_0x7654a1,{..._0x5a4a04,'clientId':_0x548927['id']});}return;}if(_0x181636[_0x3ff886(0x1fe)]<0x5){console[_0x3ff886(0x154)]('[Notify]\x20Skipped:\x20ID\x20is\x20too\x20short\x20(Test\x20ID)',_0x181636);return;}const _0x13db4f=this['getText'](_0x7654a1,_0x5a4a04);if(!_0x13db4f){console[_0x3ff886(0x2a7)](_0x3ff886(0x1e3));return;}console[_0x3ff886(0x152)](_0x3ff886(0x21a)+_0x181636+_0x3ff886(0x2ba)),DataManager[_0x3ff886(0x1cc)](_0x3ff886(0x171),{'chatId':_0x181636,'text':_0x13db4f})[_0x3ff886(0x195)](_0x1289b3=>console[_0x3ff886(0x152)](_0x3ff886(0x269),_0x1289b3))['catch'](_0x419473=>console[_0x3ff886(0x2a7)](_0x3ff886(0x21e),_0x419473));}};function getLocalDateStr(_0x45a642){const _0x553da5=a2_0x56fe05,_0x5796cf=_0x45a642[_0x553da5(0x1a4)](),_0x223524=String(_0x45a642[_0x553da5(0x213)]()+0x1)[_0x553da5(0x17a)](0x2,'0'),_0x34ffcc=String(_0x45a642[_0x553da5(0x234)]())['padStart'](0x2,'0');return _0x5796cf+'-'+_0x223524+'-'+_0x34ffcc;}function getDateStr(_0x4a579a){const _0x5ad731=a2_0x56fe05,_0x4a9a37=new Date();return _0x4a9a37[_0x5ad731(0x1be)](_0x4a9a37['getDate']()+_0x4a579a),getLocalDateStr(_0x4a9a37);}function getStartOfWeek(_0x272a36){const _0x28bace=a2_0x56fe05,_0x10e767=(function(){let _0x9fd7a6=!![];return function(_0x126fae,_0x3c1f0e){const _0x490e94=_0x9fd7a6?function(){const _0xeec597=a2_0x1d38;if(_0x3c1f0e){const _0x1d3a5f=_0x3c1f0e[_0xeec597(0x1e8)](_0x126fae,arguments);return _0x3c1f0e=null,_0x1d3a5f;}}:function(){};return _0x9fd7a6=![],_0x490e94;};}()),_0xf2592a=_0x10e767(this,function(){const _0x27f6ad=a2_0x1d38;return _0xf2592a[_0x27f6ad(0x248)]()[_0x27f6ad(0x1b3)]('(((.+)+)+)+$')[_0x27f6ad(0x248)]()[_0x27f6ad(0x13e)](_0xf2592a)[_0x27f6ad(0x1b3)](_0x27f6ad(0x275));});_0xf2592a();const _0xbe8a3a=new Date(_0x272a36),_0x24c169=_0xbe8a3a[_0x28bace(0x278)](),_0x78f66b=_0xbe8a3a['getDate']()-_0x24c169+(_0x24c169===0x0?-0x6:0x1);return _0xbe8a3a[_0x28bace(0x1be)](_0x78f66b),_0xbe8a3a[_0x28bace(0x240)](0x0,0x0,0x0,0x0),_0xbe8a3a;}function hexToRgba(_0x395f07,_0x3bd300){const _0x2867cc=a2_0x56fe05;if(!_0x395f07)return _0x2867cc(0x1aa);let _0x3036ce=0x0,_0x572453=0x0,_0x5b0900=0x0;if(_0x395f07[_0x2867cc(0x1fe)]===0x4)_0x3036ce='0x'+_0x395f07[0x1]+_0x395f07[0x1],_0x572453='0x'+_0x395f07[0x2]+_0x395f07[0x2],_0x5b0900='0x'+_0x395f07[0x3]+_0x395f07[0x3];else _0x395f07[_0x2867cc(0x1fe)]===0x7&&(_0x3036ce='0x'+_0x395f07[0x1]+_0x395f07[0x2],_0x572453='0x'+_0x395f07[0x3]+_0x395f07[0x4],_0x5b0900='0x'+_0x395f07[0x5]+_0x395f07[0x6]);return'rgba('+ +_0x3036ce+',\x20'+ +_0x572453+',\x20'+ +_0x5b0900+',\x20'+_0x3bd300+')';}function renderTimeColumn(){const _0x458874=a2_0x56fe05,_0x286c83=document['getElementById'](_0x458874(0x186)),_0x2c2980=document[_0x458874(0x1c4)](_0x458874(0x203));_0x286c83[_0x458874(0x19d)]='',_0x286c83['appendChild'](_0x2c2980);for(let _0x519627=0x0;_0x519627<0x18;_0x519627++){const _0x2e422a=document[_0x458874(0x29e)](_0x458874(0x14a));_0x2e422a[_0x458874(0x1eb)]=_0x458874(0x25d);if(_0x519627>0x0)_0x2e422a[_0x458874(0x19d)]=_0x458874(0x250)+String(_0x519627)[_0x458874(0x17a)](0x2,'0')+_0x458874(0x251);_0x286c83[_0x458874(0x294)](_0x2e422a);}}function renderDayRange(_0x3ae24f,_0x291adf){const _0x292fb3=a2_0x56fe05,_0x196462=document[_0x292fb3(0x1c4)](_0x292fb3(0x158)),_0x5b7b00=document[_0x292fb3(0x1c4)](_0x292fb3(0x2a0)),_0x3ed89e=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x26859e=new Date();_0x26859e[_0x292fb3(0x240)](0x0,0x0,0x0,0x0);const _0x41a259=getLocalDateStr(new Date());for(let _0x208fc0=_0x3ae24f;_0x208fc0<=_0x291adf;_0x208fc0++){const _0x53e58a=new Date(_0x26859e);_0x53e58a['setDate'](_0x53e58a[_0x292fb3(0x234)]()+_0x208fc0);const _0x2f6c12=getLocalDateStr(_0x53e58a);let _0x1c64b0=_0x53e58a[_0x292fb3(0x278)]()-0x1;if(_0x1c64b0===-0x1)_0x1c64b0=0x6;const _0x38a76b=_0x2f6c12===_0x41a259,_0x4eda81=document[_0x292fb3(0x29e)](_0x292fb3(0x14a));_0x4eda81[_0x292fb3(0x1eb)]='day-col-header\x20'+(_0x38a76b?_0x292fb3(0x253):''),_0x4eda81['id']='header-'+_0x2f6c12,_0x4eda81['setAttribute'](_0x292fb3(0x279),_0x2f6c12),_0x4eda81['innerHTML']='<div\x20class=\x22dch-day\x22>'+_0x3ed89e[_0x1c64b0]+_0x292fb3(0x183)+_0x53e58a[_0x292fb3(0x234)]()+_0x292fb3(0x142)+_0x2f6c12+'\x22><div\x20class=\x22dch-stats-fill\x22></div></div>',_0x4eda81[_0x292fb3(0x1b7)]=()=>openDayOptions(_0x2f6c12,_0x3ed89e[_0x1c64b0]+'\x20'+_0x53e58a[_0x292fb3(0x234)]()),_0x196462[_0x292fb3(0x294)](_0x4eda81);const _0x5cd18f=document['createElement']('div');_0x5cd18f[_0x292fb3(0x1eb)]=_0x292fb3(0x1a6)+(_0x38a76b?_0x292fb3(0x253):''),_0x5cd18f[_0x292fb3(0x211)](_0x292fb3(0x279),_0x2f6c12),_0x5cd18f[_0x292fb3(0x211)](_0x292fb3(0x286),_0x1c64b0),renderEventsForColumn(_0x5cd18f,_0x2f6c12,_0x1c64b0),attachLongPressHandler(_0x5cd18f,_0x53e58a),_0x5b7b00[_0x292fb3(0x294)](_0x5cd18f),updateDayStats(_0x2f6c12);}}function reRenderBlocks(){const _0x1c03e7=a2_0x56fe05;document[_0x1c03e7(0x207)](_0x1c03e7(0x1ec))[_0x1c03e7(0x276)](_0x268a03=>{const _0x564be4=_0x1c03e7;_0x268a03[_0x564be4(0x207)]('.blocked-slot,\x20.day-off-overlay,\x20.blocked-range-part,\x20.event-card')[_0x564be4(0x276)](_0x4f8624=>_0x4f8624[_0x564be4(0x227)]());const _0x4042a9=_0x268a03[_0x564be4(0x27e)](_0x564be4(0x279)),_0x5d0e41=parseInt(_0x268a03[_0x564be4(0x27e)](_0x564be4(0x286))),_0x404471=Math[_0x564be4(0x2a5)](_0x268a03['offsetLeft']);(availabilityPattern[_0x5d0e41]||[])[_0x564be4(0x276)](_0x8231e7=>{const _0x5f5a6f=_0x564be4,_0x19fec2=document[_0x5f5a6f(0x29e)](_0x5f5a6f(0x14a));_0x19fec2['className']=_0x5f5a6f(0x23a);const _0x1c2fc9=_0x8231e7*GRID_H;_0x19fec2['style'][_0x5f5a6f(0x295)]=_0x1c2fc9+'px',_0x19fec2[_0x5f5a6f(0x193)][_0x5f5a6f(0x2b2)]='-'+_0x404471+_0x5f5a6f(0x169)+_0x1c2fc9+'px',_0x268a03[_0x5f5a6f(0x294)](_0x19fec2);});if(specialRanges&&specialRanges[_0x564be4(0x1fe)]>0x0){const _0x13ec23=new Date(_0x4042a9+_0x564be4(0x1d4))[_0x564be4(0x255)](),_0x156583=new Date(_0x4042a9+'T23:59:59')[_0x564be4(0x255)]();specialRanges[_0x564be4(0x276)](_0x29092d=>{const _0x1b90d0=_0x564be4,_0x7bd484=new Date(_0x29092d[_0x1b90d0(0x1bc)])[_0x1b90d0(0x255)](),_0x562fba=new Date(_0x29092d['end'])[_0x1b90d0(0x255)](),_0x89ba4d=Math[_0x1b90d0(0x1df)](_0x13ec23,_0x7bd484),_0x310b0f=Math[_0x1b90d0(0x26e)](_0x156583,_0x562fba);if(_0x89ba4d<_0x310b0f){if(_0x89ba4d<=_0x13ec23&&_0x310b0f>=_0x156583-0xea60){if(!_0x268a03[_0x1b90d0(0x1e4)](_0x1b90d0(0x18c))){const _0x608ef5=document[_0x1b90d0(0x29e)]('div');_0x608ef5['className']=_0x1b90d0(0x28b),_0x608ef5[_0x1b90d0(0x193)]['backgroundPosition']='-'+_0x404471+'px\x200px',_0x268a03[_0x1b90d0(0x294)](_0x608ef5);}}else{const _0x4ee9a6=(_0x89ba4d-_0x13ec23)/0x36ee80*GRID_H,_0x26f552=(_0x310b0f-_0x89ba4d)/0x36ee80*GRID_H,_0x11924c=document[_0x1b90d0(0x29e)](_0x1b90d0(0x14a));_0x11924c[_0x1b90d0(0x1eb)]=_0x1b90d0(0x181),_0x11924c[_0x1b90d0(0x193)]['top']=_0x4ee9a6+'px',_0x11924c['style'][_0x1b90d0(0x20d)]=_0x26f552+'px',_0x11924c[_0x1b90d0(0x193)][_0x1b90d0(0x2b2)]='-'+_0x404471+_0x1b90d0(0x169)+_0x4ee9a6+'px',_0x268a03[_0x1b90d0(0x294)](_0x11924c);}}});}if(dateExceptions[_0x4042a9]===_0x564be4(0x175)){if(!_0x268a03[_0x564be4(0x1e4)](_0x564be4(0x18c))){const _0x1452f7=document['createElement'](_0x564be4(0x14a));_0x1452f7[_0x564be4(0x1eb)]='day-off-overlay\x20stripe-bg',_0x1452f7['style']['backgroundPosition']='-'+_0x404471+_0x564be4(0x141),_0x268a03[_0x564be4(0x294)](_0x1452f7);}}renderEventsForColumn(_0x268a03,_0x4042a9,_0x5d0e41),updateDayStats(_0x4042a9);});}function updateAllDayStats(){const _0x4fc079=a2_0x56fe05;document[_0x4fc079(0x207)]('.day-col-header')[_0x4fc079(0x276)](_0x466e9e=>{const _0xe9d58a=_0x4fc079;updateDayStats(_0x466e9e[_0xe9d58a(0x27e)]('data-date'));});}function updateDayStats(_0x3e1d01){const _0x4c6c6b=a2_0x56fe05,_0x16629b=document[_0x4c6c6b(0x1c4)](_0x4c6c6b(0x277)+_0x3e1d01);if(!_0x16629b)return;const _0x2266cc=new Date(_0x3e1d01);let _0x48e8b2=_0x2266cc[_0x4c6c6b(0x278)]()-0x1;if(_0x48e8b2===-0x1)_0x48e8b2=0x6;if(dateExceptions[_0x3e1d01]==='off'){_0x16629b[_0x4c6c6b(0x193)]['display']=_0x4c6c6b(0x290);return;}const _0xf1b99=availabilityPattern[_0x48e8b2]||[],_0x5953b2=0x18-_0xf1b99[_0x4c6c6b(0x1fe)],_0x16d86f=_0x5953b2*0x3c,_0x1cbd04=sessions['filter'](_0x1d5c79=>_0x1d5c79[_0x4c6c6b(0x1fa)]===_0x3e1d01&&_0x1d5c79[_0x4c6c6b(0x1de)]!==_0x4c6c6b(0x206));if(_0x1cbd04[_0x4c6c6b(0x1fe)]===0x0){_0x16629b[_0x4c6c6b(0x193)][_0x4c6c6b(0x1dc)]=_0x4c6c6b(0x290);return;}let _0x3619d2=_0x1cbd04[_0x4c6c6b(0x256)](_0x3d4f55=>{const _0x557a6e=_0x4c6c6b,[_0x1d975b,_0x1f6c27]=_0x3d4f55[_0x557a6e(0x1bc)][_0x557a6e(0x258)](':')[_0x557a6e(0x256)](Number),[_0x86515e,_0x23b72f]=_0x3d4f55[_0x557a6e(0x16d)][_0x557a6e(0x258)](':')['map'](Number);return[_0x1d975b*0x3c+_0x1f6c27,_0x86515e*0x3c+_0x23b72f];});_0x3619d2[_0x4c6c6b(0x272)]((_0x42fd06,_0x1d8f0f)=>_0x42fd06[0x0]-_0x1d8f0f[0x0]);let _0x1d224a=[];if(_0x3619d2[_0x4c6c6b(0x1fe)]>0x0){let _0x3ecfc9=_0x3619d2[0x0];for(let _0x3b2e42=0x1;_0x3b2e42<_0x3619d2[_0x4c6c6b(0x1fe)];_0x3b2e42++){_0x3619d2[_0x3b2e42][0x0]<_0x3ecfc9[0x1]?_0x3ecfc9[0x1]=Math['max'](_0x3ecfc9[0x1],_0x3619d2[_0x3b2e42][0x1]):(_0x1d224a[_0x4c6c6b(0x17e)](_0x3ecfc9),_0x3ecfc9=_0x3619d2[_0x3b2e42]);}_0x1d224a['push'](_0x3ecfc9);}let _0x19cee2=0x0;_0x1d224a[_0x4c6c6b(0x276)](_0x4fcb60=>_0x19cee2+=_0x4fcb60[0x1]-_0x4fcb60[0x0]),_0x16629b['style'][_0x4c6c6b(0x1dc)]=_0x4c6c6b(0x1cb);const _0x2e7996=_0x16629b[_0x4c6c6b(0x1e4)](_0x4c6c6b(0x24b));if(_0x16d86f===0x0){_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x266)]=_0x4c6c6b(0x1a0),_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x14d)]=_0x4c6c6b(0x177);return;}const _0xfd510b=_0x19cee2/_0x16d86f*0x64;console[_0x4c6c6b(0x152)]('['+_0x3e1d01+']\x20–î–æ—Å—Ç—É–ø–Ω–æ:\x20'+_0x5953b2+_0x4c6c6b(0x28f)+_0x19cee2+_0x4c6c6b(0x259)+_0xfd510b['toFixed'](0x1)+'%'),_0xfd510b>0x64?(_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x266)]=_0x4c6c6b(0x1a0),_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x14d)]=_0x4c6c6b(0x177)):(_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x266)]=_0xfd510b+'%',_0x2e7996[_0x4c6c6b(0x193)][_0x4c6c6b(0x14d)]=_0x4c6c6b(0x1e2));}function renderEventsForColumn(_0x28f76b,_0x56a209,_0x5b6be9){const _0x4b8122=a2_0x56fe05,_0x8e3be0=sessions[_0x4b8122(0x144)](_0x3ad89f=>_0x3ad89f[_0x4b8122(0x1fa)]===_0x56a209),_0x3acfdc=_0x8e3be0[_0x4b8122(0x256)](_0x52cbf1=>{const _0x47104e=_0x4b8122,[_0x3c6786,_0x4c7a1c]=_0x52cbf1[_0x47104e(0x1bc)][_0x47104e(0x258)](':')[_0x47104e(0x256)](Number),[_0x3ece51,_0x7fa7dd]=_0x52cbf1[_0x47104e(0x16d)][_0x47104e(0x258)](':')['map'](Number);return{'data':_0x52cbf1,'start':_0x3c6786*0x3c+_0x4c7a1c,'end':_0x3ece51*0x3c+_0x7fa7dd,'colIndex':0x0};});_0x3acfdc[_0x4b8122(0x272)]((_0x46ebb1,_0x1b293a)=>{const _0x3e4d47=_0x4b8122;if(_0x46ebb1[_0x3e4d47(0x1bc)]!==_0x1b293a[_0x3e4d47(0x1bc)])return _0x46ebb1[_0x3e4d47(0x1bc)]-_0x1b293a[_0x3e4d47(0x1bc)];return _0x1b293a[_0x3e4d47(0x16d)]-_0x1b293a[_0x3e4d47(0x1bc)]-(_0x46ebb1[_0x3e4d47(0x16d)]-_0x46ebb1['start']);});const _0x51b4a0=[];_0x3acfdc[_0x4b8122(0x276)](_0x2c619e=>{const _0x52d89a=_0x4b8122;let _0x2ece8f=![];for(let _0x5686af=0x0;_0x5686af<_0x51b4a0[_0x52d89a(0x1fe)];_0x5686af++){const _0x36c5bc=_0x51b4a0[_0x5686af],_0x427203=_0x36c5bc[_0x36c5bc[_0x52d89a(0x1fe)]-0x1];if(_0x2c619e[_0x52d89a(0x1bc)]>=_0x427203[_0x52d89a(0x16d)]){_0x36c5bc[_0x52d89a(0x17e)](_0x2c619e),_0x2c619e[_0x52d89a(0x229)]=_0x5686af,_0x2ece8f=!![];break;}}!_0x2ece8f&&(_0x51b4a0[_0x52d89a(0x17e)]([_0x2c619e]),_0x2c619e['colIndex']=_0x51b4a0[_0x52d89a(0x1fe)]-0x1);}),_0x3acfdc[_0x4b8122(0x276)](_0x1f1b30=>{const _0x289276=_0x4b8122;let _0x30ff2e=0x0;_0x3acfdc['forEach'](_0x52439f=>{const _0x4646c5=a2_0x1d38;if(Math[_0x4646c5(0x1df)](_0x1f1b30[_0x4646c5(0x1bc)],_0x52439f[_0x4646c5(0x1bc)])<Math[_0x4646c5(0x26e)](_0x1f1b30['end'],_0x52439f['end'])){if(_0x52439f[_0x4646c5(0x229)]>_0x30ff2e)_0x30ff2e=_0x52439f[_0x4646c5(0x229)];}});const _0x4252eb=_0x30ff2e+0x1,_0x5beb34=0x64/_0x4252eb,_0x4dd345=_0x1f1b30[_0x289276(0x229)]*_0x5beb34,_0x35648d=createEventEl(_0x1f1b30[_0x289276(0x26b)]);_0x35648d[_0x289276(0x193)]['width']=_0x289276(0x1fd)+_0x5beb34+_0x289276(0x1b2),_0x35648d[_0x289276(0x193)][_0x289276(0x1ae)]=_0x289276(0x1fd)+_0x4dd345+'%\x20+\x202px)',_0x35648d['style'][_0x289276(0x28e)]=0xa+_0x1f1b30['colIndex'],_0x5beb34<0x55&&_0x35648d[_0x289276(0x17f)][_0x289276(0x24f)](_0x289276(0x1f4)),_0x28f76b[_0x289276(0x294)](_0x35648d);});}function createEventEl(_0x4ebeae){const _0x1516e7=a2_0x56fe05,[_0x4f77a8,_0x3ded89]=_0x4ebeae[_0x1516e7(0x1bc)][_0x1516e7(0x258)](':')[_0x1516e7(0x256)](Number),[_0x373f96,_0x39ad64]=_0x4ebeae[_0x1516e7(0x16d)]['split'](':')[_0x1516e7(0x256)](Number),_0x4e98f0=(_0x4f77a8*0x3c+_0x3ded89)/0x3c*GRID_H,_0x478381=(_0x373f96*0x3c+_0x39ad64-(_0x4f77a8*0x3c+_0x3ded89))/0x3c*GRID_H,_0x58176c=document[_0x1516e7(0x29e)]('div'),_0x383253=_0x4ebeae[_0x1516e7(0x1de)]===_0x1516e7(0x150)?_0x1516e7(0x2a3):'';_0x58176c[_0x1516e7(0x1eb)]='event-card'+_0x383253,_0x58176c['style'][_0x1516e7(0x295)]=_0x4e98f0+'px',_0x58176c[_0x1516e7(0x193)][_0x1516e7(0x20d)]=Math[_0x1516e7(0x1df)](_0x478381,0x14)+'px';const _0x4a04ce=clients[_0x1516e7(0x25b)](_0x394173=>_0x4ebeae[_0x1516e7(0x2b7)]&&String(_0x394173['id'])===String(_0x4ebeae[_0x1516e7(0x2b7)])||_0x394173[_0x1516e7(0x1a2)]===_0x4ebeae[_0x1516e7(0x287)]),_0x58b714=_0x4a04ce?_0x4a04ce['color']:'#0a84ff';_0x58176c[_0x1516e7(0x193)][_0x1516e7(0x16b)]=_0x58b714,_0x58176c[_0x1516e7(0x193)][_0x1516e7(0x17c)]=hexToRgba(_0x58b714,0.85);let _0xf71c8=_0x1516e7(0x147)+_0x4ebeae[_0x1516e7(0x287)]+_0x1516e7(0x28c)+_0x4ebeae[_0x1516e7(0x1bc)]+_0x1516e7(0x1f7)+_0x4ebeae['end']+_0x1516e7(0x292);return _0x4ebeae['seriesId']&&(_0xf71c8+=_0x1516e7(0x164)),_0x4ebeae[_0x1516e7(0x1de)]===_0x1516e7(0x150)&&(_0xf71c8+='<svg\x20class=\x22ev-status-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>'),_0x58176c['innerHTML']=_0xf71c8,_0x58176c[_0x1516e7(0x1b7)]=_0x423ffa=>{_0x423ffa['stopPropagation'](),openEdit(_0x4ebeae);},_0x58176c;}function attachLongPressHandler(_0x55f8d5,_0x2a4a4e){const _0x26253b=a2_0x56fe05;let _0x30742f=0x0,_0x3c884e=null;const _0x2686ad=_0x238e28=>{const _0xb6033e=a2_0x1d38;if(_0x238e28[_0xb6033e(0x263)][_0xb6033e(0x1cf)](_0xb6033e(0x202)))return;isScrolling=![],_0x30742f=_0x238e28[_0xb6033e(0x1c7)]?_0x238e28['touches'][0x0][_0xb6033e(0x1b1)]:_0x238e28[_0xb6033e(0x1b1)],_0x3c884e=setTimeout(()=>{const _0x4a52f0=_0xb6033e;if(!isScrolling){navigator[_0x4a52f0(0x24a)]?.(0x32);const _0x2bcf4e=_0x55f8d5[_0x4a52f0(0x228)](),_0xf0223f=Math[_0x4a52f0(0x2b5)]((_0x30742f-_0x2bcf4e[_0x4a52f0(0x295)])/GRID_H);_0x2a4a4e['setHours'](_0xf0223f,0x0),openAddSession(_0x2a4a4e);}},0x1f4);},_0x4feda0=()=>{isScrolling=!![],clearTimeout(_0x3c884e);},_0x403e3e=()=>{clearTimeout(_0x3c884e);};_0x55f8d5[_0x26253b(0x293)](_0x26253b(0x25a),_0x2686ad,{'passive':!![]}),_0x55f8d5[_0x26253b(0x293)]('touchmove',_0x4feda0,{'passive':!![]}),_0x55f8d5[_0x26253b(0x293)](_0x26253b(0x281),_0x403e3e),_0x55f8d5[_0x26253b(0x293)](_0x26253b(0x167),_0x2686ad),_0x55f8d5[_0x26253b(0x293)]('mousemove',_0x4feda0),_0x55f8d5[_0x26253b(0x293)](_0x26253b(0x235),_0x403e3e);}function cancelLongPress(){}function handleInfiniteScroll(){const _0x427cd4=a2_0x56fe05,_0x168358=document[_0x427cd4(0x1c4)](_0x427cd4(0x185)),_0x440fd5=_0x168358[_0x427cd4(0x19a)],_0x31a6c4=_0x168358['scrollWidth'],_0x4a732c=_0x168358[_0x427cd4(0x264)];if(_0x31a6c4-(_0x440fd5+_0x4a732c)<0x12c){const _0x32e084=endOffset;endOffset+=0xe,renderDayRange(_0x32e084+0x1,endOffset),reRenderBlocks();}if(_0x440fd5<0x12c){const _0x4d82c6=startOffset;startOffset-=0xe,prependDays(startOffset,_0x4d82c6-0x1),_0x168358['scrollLeft']+=0xe*0x41,reRenderBlocks();}}function prependDays(_0x285078,_0x22656a){const _0x309fbc=a2_0x56fe05,_0x4a9dc0=document[_0x309fbc(0x1c4)](_0x309fbc(0x158)),_0x40aa31=document['getElementById'](_0x309fbc(0x2a0)),_0x3b6dfc=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x21b1aa=new Date();_0x21b1aa[_0x309fbc(0x240)](0x0,0x0,0x0,0x0);const _0x421528=getLocalDateStr(new Date()),_0x751d10=document[_0x309fbc(0x225)](),_0x3e3188=document[_0x309fbc(0x225)]();for(let _0x44567e=_0x285078;_0x44567e<=_0x22656a;_0x44567e++){const _0x5d2940=new Date(_0x21b1aa);_0x5d2940['setDate'](_0x5d2940['getDate']()+_0x44567e);const _0x4a581c=getLocalDateStr(_0x5d2940);let _0x44d716=_0x5d2940[_0x309fbc(0x278)]()-0x1;if(_0x44d716===-0x1)_0x44d716=0x6;const _0x1bc359=_0x4a581c===_0x421528,_0x34e11f=document['createElement']('div');_0x34e11f['className']=_0x309fbc(0x2a8)+(_0x1bc359?_0x309fbc(0x253):''),_0x34e11f['id']=_0x309fbc(0x2bd)+_0x4a581c,_0x34e11f[_0x309fbc(0x211)](_0x309fbc(0x279),_0x4a581c),_0x34e11f[_0x309fbc(0x19d)]=_0x309fbc(0x191)+_0x3b6dfc[_0x44d716]+'</div><div\x20class=\x22dch-num\x22>'+_0x5d2940[_0x309fbc(0x234)]()+_0x309fbc(0x142)+_0x4a581c+_0x309fbc(0x179),_0x34e11f['onclick']=()=>openDayOptions(_0x4a581c,_0x3b6dfc[_0x44d716]+'\x20'+_0x5d2940[_0x309fbc(0x234)]()),_0x751d10[_0x309fbc(0x294)](_0x34e11f);const _0x5b494f=document[_0x309fbc(0x29e)](_0x309fbc(0x14a));_0x5b494f[_0x309fbc(0x1eb)]=_0x309fbc(0x1a6)+(_0x1bc359?_0x309fbc(0x253):''),_0x5b494f[_0x309fbc(0x211)](_0x309fbc(0x279),_0x4a581c),_0x5b494f[_0x309fbc(0x211)]('data-day-idx',_0x44d716),renderEventsForColumn(_0x5b494f,_0x4a581c,_0x44d716),attachLongPressHandler(_0x5b494f,_0x5d2940),_0x3e3188[_0x309fbc(0x294)](_0x5b494f),updateDayStats(_0x4a581c);}_0x4a9dc0['insertBefore'](_0x751d10,_0x4a9dc0['firstChild']),_0x40aa31[_0x309fbc(0x284)](_0x3e3188,_0x40aa31[_0x309fbc(0x1e4)](_0x309fbc(0x19e)));}function validateAppointment(_0x2637da,_0x422a0a,_0x5573a6,_0x361c01,_0xc613de){const _0x205c88=a2_0x56fe05,[_0xecd035,_0x5bbe13]=_0x422a0a[_0x205c88(0x258)](':')[_0x205c88(0x256)](Number),[_0x4ab449,_0x26c93d]=_0x5573a6[_0x205c88(0x258)](':')[_0x205c88(0x256)](Number),_0x28235a=_0xecd035*0x3c+_0x5bbe13,_0x335470=_0x4ab449*0x3c+_0x26c93d,_0x7a360e=String(_0xc613de);let _0x334d11=![],_0x16e53f='';for(let _0xba654e of sessions){if(_0xba654e[_0x205c88(0x1fa)]!==_0x2637da)continue;if(_0xba654e[_0x205c88(0x1de)]==='cancelled')continue;if(_0x361c01&&String(_0xba654e['id'])===String(_0x361c01))continue;const [_0x28463a,_0x17d91d]=_0xba654e[_0x205c88(0x1bc)][_0x205c88(0x258)](':')[_0x205c88(0x256)](Number),[_0x3e97b6,_0x17b28c]=_0xba654e[_0x205c88(0x16d)][_0x205c88(0x258)](':')[_0x205c88(0x256)](Number),_0x47cc1e=_0x28463a*0x3c+_0x17d91d,_0x6619d3=_0x3e97b6*0x3c+_0x17b28c;if(Math[_0x205c88(0x1df)](_0x28235a,_0x47cc1e)<Math[_0x205c88(0x26e)](_0x335470,_0x6619d3)){if(_0xba654e[_0x205c88(0x2b7)]&&String(_0xba654e[_0x205c88(0x2b7)])===_0x7a360e)return{'valid':![],'msg':'–≠—Ç–æ—Ç\x20–∫–ª–∏–µ–Ω—Ç\x20('+_0xba654e[_0x205c88(0x287)]+')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!'};_0x334d11=!![],_0x16e53f=_0xba654e[_0x205c88(0x287)];}}if(_0x334d11)return{'valid':!![],'warning':_0x205c88(0x192)+_0x16e53f};return{'valid':!![]};}function updateDateDisplay(){const _0x204ea1=a2_0x56fe05,_0x4b1eaa=document[_0x204ea1(0x1c4)](_0x204ea1(0x212))['value'],_0x39816e=document[_0x204ea1(0x1c4)](_0x204ea1(0x140));if(!_0x4b1eaa){_0x39816e['textContent']='';return;}const [_0x42d082,_0x382535,_0x20b93c]=_0x4b1eaa[_0x204ea1(0x258)]('-')[_0x204ea1(0x256)](Number),_0x2a5f45=new Date(_0x42d082,_0x382535-0x1,_0x20b93c),_0x24424b={'weekday':_0x204ea1(0x268),'day':_0x204ea1(0x200),'month':_0x204ea1(0x268),'year':'numeric'};let _0x19a094=_0x2a5f45['toLocaleDateString']('ru-RU',_0x24424b);_0x19a094=_0x19a094[_0x204ea1(0x271)](0x0)[_0x204ea1(0x26d)]()+_0x19a094['slice'](0x1),_0x39816e[_0x204ea1(0x218)]=_0x19a094;}function autoSetEndTime(){const _0x52c5fd=a2_0x56fe05,_0x40ddc8=document[_0x52c5fd(0x1c4)](_0x52c5fd(0x21f))['value'];if(!_0x40ddc8)return;const [_0x23da07,_0x5dd9bd]=_0x40ddc8['split'](':')[_0x52c5fd(0x256)](Number);let _0x51766b=_0x23da07+0x1;if(_0x51766b>0x17)_0x51766b=0x0;const _0x47ac06=String(_0x51766b)[_0x52c5fd(0x17a)](0x2,'0')+':'+String(_0x5dd9bd)[_0x52c5fd(0x17a)](0x2,'0');document[_0x52c5fd(0x1c4)](_0x52c5fd(0x297))[_0x52c5fd(0x265)]=_0x47ac06;}function populateClientSelect(){const _0x39b8b3=a2_0x56fe05,_0x4c0b33=document[_0x39b8b3(0x1c4)](_0x39b8b3(0x273));_0x4c0b33[_0x39b8b3(0x19d)]='';if(clients[_0x39b8b3(0x1fe)]===0x0){const _0x31e34b=document[_0x39b8b3(0x29e)](_0x39b8b3(0x1e6));_0x31e34b['text']=_0x39b8b3(0x1db),_0x4c0b33[_0x39b8b3(0x294)](_0x31e34b);return;}clients[_0x39b8b3(0x276)](_0xdd698f=>{const _0x27c65e=_0x39b8b3,_0x3d668d=document[_0x27c65e(0x29e)](_0x27c65e(0x1e6));_0x3d668d[_0x27c65e(0x265)]=_0xdd698f[_0x27c65e(0x1a2)],_0x3d668d['textContent']=_0xdd698f[_0x27c65e(0x1a2)],_0x4c0b33['appendChild'](_0x3d668d);});}function openActionSheet(_0x229019){const _0x4d1186=a2_0x56fe05,_0x380867=document['getElementById'](_0x4d1186(0x224)),_0x92de84=document[_0x4d1186(0x1c4)](_0x4d1186(0x20a)),_0x5728f8=document['getElementById'](_0x4d1186(0x1e0)),_0x3855a8=document[_0x4d1186(0x1c4)](_0x4d1186(0x246)),_0x21e8e6=document[_0x4d1186(0x1c4)](_0x4d1186(0x148));_0x92de84[_0x4d1186(0x17f)][_0x4d1186(0x24f)]('active'),_0x380867[_0x4d1186(0x17f)][_0x4d1186(0x24f)](_0x4d1186(0x21b));if(_0x229019===_0x4d1186(0x1c2))_0x5728f8['textContent']=_0x4d1186(0x146),_0x3855a8['textContent']='–¢–æ–ª—å–∫–æ\x20—ç—Ç—É',_0x3855a8[_0x4d1186(0x1b7)]=()=>{closeActionSheet(),updateSeriesBatch('single',tempSessionData);},_0x21e8e6[_0x4d1186(0x218)]=_0x4d1186(0x19b),_0x21e8e6[_0x4d1186(0x1b7)]=()=>{const _0x3d8d9c=_0x4d1186;closeActionSheet(),updateSeriesBatch(_0x3d8d9c(0x233),tempSessionData);};else _0x229019===_0x4d1186(0x151)&&(_0x5728f8['textContent']=_0x4d1186(0x14b),_0x3855a8[_0x4d1186(0x218)]=_0x4d1186(0x221),_0x3855a8[_0x4d1186(0x1eb)]=_0x4d1186(0x23e),_0x3855a8['onclick']=()=>{const _0x1b4b6c=_0x4d1186;closeActionSheet(),commitDelete(_0x1b4b6c(0x2ad),sessions[_0x1b4b6c(0x25b)](_0x23be94=>_0x23be94['id']===editingId));},_0x21e8e6[_0x4d1186(0x218)]=_0x4d1186(0x19b),_0x21e8e6['className']='as-button\x20danger\x20bold',_0x21e8e6[_0x4d1186(0x1b7)]=()=>{const _0x3e4d75=_0x4d1186;closeActionSheet(),commitDelete(_0x3e4d75(0x233),sessions[_0x3e4d75(0x25b)](_0x1db353=>_0x1db353['id']===editingId));});}function closeActionSheet(){const _0x10ebe7=a2_0x56fe05;document[_0x10ebe7(0x1c4)]('actionSheet')['classList'][_0x10ebe7(0x227)](_0x10ebe7(0x21b)),document['getElementById']('actionSheetOverlay')[_0x10ebe7(0x17f)][_0x10ebe7(0x227)](_0x10ebe7(0x1d6));}function openSettings(){const _0x1e0356=a2_0x56fe05;openSheet(_0x1e0356(0x210));}function saveCoachSettings(){const _0x164643=a2_0x56fe05,_0x5b358a=document[_0x164643(0x1c4)]('settingCancelWindow')[_0x164643(0x265)];localStorage[_0x164643(0x2b3)](_0x164643(0x1d0),_0x5b358a),console['log'](_0x164643(0x1b4),_0x5b358a),DataManager[_0x164643(0x1cc)](_0x164643(0x283),{'settings':{'cancel_window':_0x5b358a}})[_0x164643(0x13b)](_0x23f409=>{const _0x3d133d=_0x164643;console[_0x3d133d(0x2a7)](_0x3d133d(0x15d),_0x23f409),showToast(_0x3d133d(0x17d),![]);});}function loadCoachSettings(){const _0x143ea1=a2_0x56fe05,_0x2686e0=localStorage[_0x143ea1(0x223)]('uc_settings_cancel_window');_0x2686e0&&(document[_0x143ea1(0x1c4)](_0x143ea1(0x1bf))['value']=_0x2686e0);}function openRangesSheet(){const _0x490f65=a2_0x56fe05;closeAllSheets(),resetRangeForm(),renderRangesList(),openSheet(_0x490f65(0x174));}function addRange(){const _0x333fbc=a2_0x56fe05,_0x10ccce=document['getElementById']('rangeStartDate')[_0x333fbc(0x265)],_0x56f07e=document[_0x333fbc(0x1c4)](_0x333fbc(0x214))[_0x333fbc(0x265)],_0x937ee8=document[_0x333fbc(0x1c4)](_0x333fbc(0x2ac))['value'],_0x2944fa=document[_0x333fbc(0x1c4)](_0x333fbc(0x17b))[_0x333fbc(0x265)];if(!_0x10ccce||!_0x56f07e||!_0x937ee8||!_0x2944fa)return alert(_0x333fbc(0x1ad));const _0x493708=_0x10ccce+'T'+_0x56f07e,_0x261cde=_0x937ee8+'T'+_0x2944fa;if(_0x493708>=_0x261cde)return alert(_0x333fbc(0x1d5));specialRanges[_0x333fbc(0x17e)]({'start':_0x493708,'end':_0x261cde}),resetRangeForm(),renderRangesList(),reRenderBlocks(),DataManager[_0x333fbc(0x15e)](),DataManager[_0x333fbc(0x1cc)]('save_settings',{'settings':{'ranges':specialRanges}});}function deleteRange(_0x4d397b){const _0xb23c71=a2_0x56fe05;specialRanges[_0xb23c71(0x13c)](_0x4d397b,0x1),renderRangesList(),reRenderBlocks(),DataManager[_0xb23c71(0x15e)](),DataManager[_0xb23c71(0x1cc)](_0xb23c71(0x283),{'settings':{'ranges':specialRanges}});}function resetRangeForm(){const _0x4cbe77=a2_0x56fe05;document[_0x4cbe77(0x1c4)](_0x4cbe77(0x285))[_0x4cbe77(0x265)]='',document[_0x4cbe77(0x1c4)]('rangeStartTime')[_0x4cbe77(0x265)]=_0x4cbe77(0x232),document[_0x4cbe77(0x1c4)](_0x4cbe77(0x2ac))[_0x4cbe77(0x265)]='',document[_0x4cbe77(0x1c4)](_0x4cbe77(0x17b))[_0x4cbe77(0x265)]=_0x4cbe77(0x197);}function renderRangesList(){const _0x30decb=a2_0x56fe05,_0x5dda77=document[_0x30decb(0x1c4)]('rangesList');_0x5dda77[_0x30decb(0x19d)]='';if(!specialRanges[_0x30decb(0x1fe)]){_0x5dda77[_0x30decb(0x19d)]=_0x30decb(0x22d);return;}specialRanges['forEach']((_0x91fac,_0x3a5c55)=>{const _0x310863=_0x30decb,_0x105372=document[_0x310863(0x29e)](_0x310863(0x14a));_0x105372[_0x310863(0x1eb)]=_0x310863(0x157);const _0x436c17=_0x2ea650=>{const _0x17e3c4=_0x310863,_0x4fbb10=new Date(_0x2ea650);return _0x4fbb10[_0x17e3c4(0x234)]()+'.'+String(_0x4fbb10[_0x17e3c4(0x213)]()+0x1)[_0x17e3c4(0x17a)](0x2,'0')+'\x20'+String(_0x4fbb10[_0x17e3c4(0x220)]())[_0x17e3c4(0x17a)](0x2,'0')+':'+String(_0x4fbb10[_0x17e3c4(0x1f0)]())[_0x17e3c4(0x17a)](0x2,'0');};_0x105372[_0x310863(0x19d)]=_0x310863(0x145)+_0x436c17(_0x91fac[_0x310863(0x1bc)])+_0x310863(0x242)+_0x436c17(_0x91fac[_0x310863(0x16d)])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22range-actions\x22><div\x20class=\x22range-icon\x20del\x22\x20onclick=\x22deleteRange('+_0x3a5c55+_0x310863(0x15b),_0x5dda77[_0x310863(0x294)](_0x105372);});}function scrollToToday(){const _0x314d35=a2_0x56fe05,_0x5165d3=getLocalDateStr(new Date()),_0x33cc31=document['getElementById'](_0x314d35(0x2bd)+_0x5165d3),_0x268bca=document[_0x314d35(0x1c4)](_0x314d35(0x185));if(_0x33cc31&&_0x268bca){const _0x11fd8e=_0x268bca['clientWidth'],_0x4d2d3f=_0x33cc31[_0x314d35(0x2ab)],_0x495788=_0x33cc31[_0x314d35(0x238)];_0x268bca['scrollLeft']=_0x4d2d3f-_0x11fd8e/0x2+_0x495788/0x2,_0x268bca[_0x314d35(0x160)]=0x9*GRID_H;}}function onScroll(){const _0x4a74bb=a2_0x56fe05,_0x1aa27d=document[_0x4a74bb(0x1c4)](_0x4a74bb(0x185)),_0x359bef=document[_0x4a74bb(0x207)](_0x4a74bb(0x14e));for(let _0xf1d4ed of _0x359bef)if(_0xf1d4ed[_0x4a74bb(0x2ab)]>=_0x1aa27d[_0x4a74bb(0x19a)]){const _0x3b7270=new Date(_0xf1d4ed[_0x4a74bb(0x27e)](_0x4a74bb(0x279)));document['getElementById'](_0x4a74bb(0x1d9))['textContent']=_0x3b7270[_0x4a74bb(0x24c)]('ru',{'month':'long'})[_0x4a74bb(0x26d)]()+'\x20'+_0x3b7270[_0x4a74bb(0x1a4)]();break;}}function showToast(_0x273322,_0x17fb27=![]){const _0x1bc445=a2_0x56fe05,_0x517a83=document['getElementById'](_0x1bc445(0x15c));_0x517a83[_0x1bc445(0x1eb)]='toast-notification\x20'+(_0x17fb27?'success':''),document[_0x1bc445(0x1c4)](_0x1bc445(0x231))['textContent']=_0x17fb27?_0x1bc445(0x201):_0x1bc445(0x25c),document[_0x1bc445(0x1c4)](_0x1bc445(0x1d1))[_0x1bc445(0x218)]=_0x273322,_0x517a83[_0x1bc445(0x17f)][_0x1bc445(0x24f)](_0x1bc445(0x26c)),setTimeout(()=>{const _0x1f6bed=_0x1bc445;_0x517a83[_0x1f6bed(0x17f)][_0x1f6bed(0x227)](_0x1f6bed(0x26c));},0xbb8);}function openDayOptions(_0x39db52,_0xf23fc3){const _0x294252=a2_0x56fe05;selectedDayForOptions=_0x39db52,document[_0x294252(0x1c4)]('dayOptionsTitle')[_0x294252(0x218)]=_0xf23fc3,openSheet(_0x294252(0x16f));}function toggleDayOff(){const _0x5bf8c0=a2_0x56fe05;selectedDayForOptions&&(dateExceptions[selectedDayForOptions]=_0x5bf8c0(0x175),reRenderBlocks(),closeAllSheets(),DataManager[_0x5bf8c0(0x15e)](),DataManager[_0x5bf8c0(0x1cc)](_0x5bf8c0(0x283),{'settings':{'exceptions':dateExceptions}}));}function clearDayOff(){const _0x33ba60=a2_0x56fe05;selectedDayForOptions&&(delete dateExceptions[selectedDayForOptions],reRenderBlocks(),closeAllSheets(),DataManager['saveLocally'](),DataManager[_0x33ba60(0x1cc)](_0x33ba60(0x283),{'settings':{'exceptions':dateExceptions}}));}function openSheet(_0x1457da){const _0x3bab7a=a2_0x56fe05;document['getElementById'](_0x3bab7a(0x155))[_0x3bab7a(0x17f)][_0x3bab7a(0x24f)](_0x3bab7a(0x1d6)),document['getElementById'](_0x1457da)[_0x3bab7a(0x17f)][_0x3bab7a(0x24f)](_0x3bab7a(0x21b));}function closeAllSheets(){const _0x2668b5=a2_0x56fe05;document[_0x2668b5(0x1c4)](_0x2668b5(0x155))[_0x2668b5(0x17f)]['remove']('active'),document[_0x2668b5(0x207)](_0x2668b5(0x194))[_0x2668b5(0x276)](_0x4d0a24=>_0x4d0a24[_0x2668b5(0x17f)][_0x2668b5(0x227)](_0x2668b5(0x21b)));}function openPatternEditor(){const _0x35529c=a2_0x56fe05;closeAllSheets(),document[_0x35529c(0x1c4)](_0x35529c(0x189))[_0x35529c(0x17f)][_0x35529c(0x24f)](_0x35529c(0x21b)),renderPatternEditor();}function closePatternEditor(){const _0x3070d5=a2_0x56fe05;document[_0x3070d5(0x1c4)](_0x3070d5(0x189))[_0x3070d5(0x17f)][_0x3070d5(0x227)](_0x3070d5(0x21b));}function savePattern(){const _0x1b7d07=a2_0x56fe05;document[_0x1b7d07(0x1c4)](_0x1b7d07(0x189))[_0x1b7d07(0x17f)][_0x1b7d07(0x227)]('open'),reRenderBlocks(),DataManager[_0x1b7d07(0x15e)](),DataManager['fetchFromServer'](_0x1b7d07(0x283),{'settings':{'pattern':availabilityPattern}});}function renderPatternEditor(){const _0x284ba9=a2_0x56fe05,_0x28d27d=document['getElementById'](_0x284ba9(0x199));_0x28d27d[_0x284ba9(0x19d)]='';const _0x17da41=['–ü–ù','–í–¢','–°–†','–ß–¢','–ü–¢','–°–ë','–í–°'],_0x1c6ba2=document[_0x284ba9(0x29e)](_0x284ba9(0x14a));_0x1c6ba2[_0x284ba9(0x1eb)]='pe-corner',_0x28d27d['appendChild'](_0x1c6ba2),_0x17da41['forEach']((_0x2ace78,_0x19e270)=>{const _0x281985=_0x284ba9,_0x3ddb6d=document[_0x281985(0x29e)](_0x281985(0x14a));_0x3ddb6d['className']='pe-col-header',_0x3ddb6d[_0x281985(0x19d)]=_0x2ace78+_0x281985(0x2b4),_0x3ddb6d['onclick']=()=>toggleColPattern(_0x19e270),_0x28d27d[_0x281985(0x294)](_0x3ddb6d);});for(let _0x1ed97d=0x0;_0x1ed97d<0x18;_0x1ed97d++){const _0xda2694=document['createElement']('div');_0xda2694[_0x284ba9(0x1eb)]='pe-time-label',_0xda2694[_0x284ba9(0x19d)]='<span\x20style=\x22font-size:10px;\x20opacity:0.3;\x20margin-right:2px\x22>‚Üí</span>'+String(_0x1ed97d)[_0x284ba9(0x17a)](0x2,'0')+_0x284ba9(0x18e),_0xda2694[_0x284ba9(0x1b7)]=()=>toggleRowPattern(_0x1ed97d),_0x28d27d['appendChild'](_0xda2694);for(let _0x238606=0x0;_0x238606<0x7;_0x238606++){const _0x3483f8=document[_0x284ba9(0x29e)]('div'),_0x48c392=(availabilityPattern[_0x238606]||[])[_0x284ba9(0x16a)](_0x1ed97d),_0x35a36b=!_0x48c392;_0x3483f8['className']=_0x284ba9(0x267)+(_0x35a36b?_0x284ba9(0x1d6):''),_0x3483f8[_0x284ba9(0x1b7)]=()=>toggleSinglePattern(_0x238606,_0x1ed97d),_0x28d27d['appendChild'](_0x3483f8);}}}function toggleSinglePattern(_0x4e6f70,_0x50c892){const _0x553f0c=a2_0x56fe05;if(!availabilityPattern[_0x4e6f70])availabilityPattern[_0x4e6f70]=[];const _0x2dd29c=availabilityPattern[_0x4e6f70],_0x4068c1=_0x2dd29c[_0x553f0c(0x215)](_0x50c892);_0x4068c1===-0x1?_0x2dd29c['push'](_0x50c892):_0x2dd29c[_0x553f0c(0x13c)](_0x4068c1,0x1),renderPatternEditor();}function toggleColPattern(_0x7532b8){if(!availabilityPattern[_0x7532b8])availabilityPattern[_0x7532b8]=[];const _0x385f60=availabilityPattern[_0x7532b8];_0x385f60['length']===0x0?availabilityPattern[_0x7532b8]=Array['from']({'length':0x18},(_0x469673,_0x54dd8e)=>_0x54dd8e):availabilityPattern[_0x7532b8]=[],renderPatternEditor();}function toggleRowPattern(_0x281ca9){const _0x4b977f=a2_0x56fe05;let _0x6ef40a=!![];for(let _0x499f22=0x0;_0x499f22<0x7;_0x499f22++){if((availabilityPattern[_0x499f22]||[])[_0x4b977f(0x16a)](_0x281ca9)){_0x6ef40a=![];break;}}for(let _0x46bee=0x0;_0x46bee<0x7;_0x46bee++){if(!availabilityPattern[_0x46bee])availabilityPattern[_0x46bee]=[];const _0x5127ec=availabilityPattern[_0x46bee]['indexOf'](_0x281ca9);if(_0x6ef40a){if(_0x5127ec===-0x1)availabilityPattern[_0x46bee][_0x4b977f(0x17e)](_0x281ca9);}else{if(_0x5127ec!==-0x1)availabilityPattern[_0x46bee][_0x4b977f(0x13c)](_0x5127ec,0x1);}}renderPatternEditor();}function a2_0x3001(){const _0xaaf699=['anEnd','closest','uc_settings_cancel_window','toastMessage','rgba(48,\x20209,\x2088,\x200.15)','126Pmvqak','T00:00:00','–û—à–∏–±–∫–∞\x20–¥–∞—Ç','active','week','2816555jkifnR','headerMonth','borderColor','–ù–µ—Ç\x20–∫–ª–∏–µ–Ω—Ç–æ–≤','display','<i>–î–æ\x20–≤—Å—Ç—Ä–µ—á–∏\x20–Ω–∞\x20—Å–ª–µ–¥—É—é—â–µ–π\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.</i>','status','max','asTitle','valid','var(--acc-current)','[Notify]\x20Error:\x20Text\x20generation\x20failed','querySelector','formatDate','option','doBusyHours','apply','doWorkHours','btnDelete','className','#gridColumns\x20.day-column','seriesId','analyticsList','custom','getMinutes','1124JkBrqN','exceptions','<b>‚úÖ\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞</b>\x0a\x0a','mini','guest','msg','\x20-\x20','seriesCountContainer','scroll','dateStr','[Notify]\x20STOP:\x20Client\x20ID\x20is\x20missing\x20in\x20session\x20data!','done','calc(','length','null','numeric','–£—Å–ø–µ—à–Ω–æ','.event-card','timeLineBadge','<svg\x20style=\x22width:16px;\x20height:16px;\x20color:var(--acc-green);\x20margin-left:8px;\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','clients','cancelled','querySelectorAll','cancel_window','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-name\x22\x20style=\x22display:flex;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actionSheetOverlay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-nums\x22><span>','borderRadius','height','4717683QZVDCE','10rPkVxM','settingsSheet','setAttribute','inpDate','getMonth','rangeStartTime','indexOf','text/plain;charset=UTF-8','<b>üö´\x20–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–æ—Ç–º–µ–Ω–µ–Ω–∞</b>\x0a\x0a','textContent','doEventsList','[Notify]\x20Sending\x20to\x20GAS\x20for\x20','open','inpSeriesCount','localeCompare','[Notify]\x20Network\x20Failed','inpStart','getHours','–¢–æ–ª—å–∫–æ\x20—ç—Ç—É','calendar','getItem','actionSheet','createDocumentFragment','<b>‚úÖ\x20','remove','getBoundingClientRect','colIndex','Error\x20setting\x20back\x20button:','rgba(255,\x2069,\x2058,\x200.3)',']\x20Failed:','<div\x20style=\x22color:#8E8E93;font-size:13px;text-align:center;margin-top:20px;\x22>–ù–µ—Ç\x20–ø–µ—Ä–∏–æ–¥–æ–≤</div>','Batch\x20Sync\x20OK','expand','user','toastTitle','00:00','series','getDate','mouseup','anPercent','1047vKtVXd','offsetWidth','init_load','blocked-slot\x20stripe-bg','href','–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ','anDonutCircle','as-button\x20danger','–°–æ–∑–¥–∞–Ω–∞\x20—Å–µ—Ä–∏—è:\x20','setHours','syncLoad','\x20‚Äî\x20','btn-status-toggle','200952pSWCqQ','10px','asBtnOne','–°–¥–µ–ª–∞—Ç—å\x20–≤—ã—Ö–æ–¥–Ω—ã–º','toString','<b>‚è∞\x20–í—Ä–µ–º—è:</b>\x20','vibrate','.dch-stats-fill','toLocaleString','anStart','431336SMIpgn','add','<span>',':00</span>','rgba(255,\x20159,\x2010,\x200.3)','today','undefined','getTime','map','[Sync]\x20Ignored:\x20User\x20action\x20is\x20newer\x20than\x20server\x20response','split','–º–∏–Ω,\x20–ó–∞–≥—Ä—É–∑–∫–∞:\x20','touchstart','find','–ò–Ω—Ñ–æ','time-label','<b>üÜï\x20–ù–æ–≤–∞—è\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</b>\x0a\x0a','findIndex','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','–í–∞—à–∞\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞\x20–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞:\x0a\x0a','–°–¥–µ–ª–∞—Ç—å\x20—Ä–∞–±–æ—á–∏–º\x20–¥–Ω–µ–º','target','clientWidth','value','width','pe-cell\x20','long','[Notify]\x20Server\x20Response:','de-item','data','show','toUpperCase','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-row-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22csc-name\x22>','–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å','charAt','sort','inpClient','<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x223\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>\x20–ó–∞–≤–µ—Ä—à–∏—Ç—å\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É','(((.+)+)+)+$','forEach','stat-','getDay','data-date','ru-RU','keys','</b>\x0a\x0a','sid','getAttribute','now','update','touchend','create','save_settings','insertBefore','rangeStartDate','data-day-idx','client','note','Local\x20Save\x20Error','[Notify]\x20Attempting\x20to\x20send:','day-off-overlay\x20stripe-bg','</div><div\x20class=\x22ev-time\x22>','pattern','zIndex','—á,\x20–ó–∞–Ω—è—Ç–æ:\x20','none','Local\x20Load\x20Error','</div>','addEventListener','appendChild','top','send','inpEnd','isArray','</span>\x20/\x20','inpRecurring','Error\x20setting\x20color:','entries','toLocaleDateString','createElement','13665883fhSThV','gridColumns','initDataUnsafe','inpNote','\x20status-completed','recurringOptionContainer','round','settings','error','day-col-header\x20','btnStatusToggle','Telegram','offsetLeft','rangeEndDate','single','disableVerticalSwipes','2uSvRVX','startsWith','sessionSheet','backgroundPosition','setItem','\x20<span\x20class=\x22arrow\x22>‚Üì</span>','floor','[Notify]\x20Error:\x20sessionData\x20is\x20null','clientId','https://script.google.com/macros/s/AKfycbxXxlp8PCCZ6dBlc4fyKafLKNDPIv8FQJV663YHp3vp5lcbtvH9CmRsrs9hccEC1weJRQ/exec','[Sync]\x20Pushing\x20batch\x20updates\x20for\x20','...','–ù–æ–≤–∞—è\x20–∑–∞–ø–∏—Å—å','total','header-','\x20–∏–∑\x20','btnDayToggle','mergeServerData','catch','splice','warning','constructor','#050505','sheetDateSubtitle','px\x200px','</div><div\x20class=\x22dch-stats\x22\x20id=\x22stat-','–≠—Ç–æ\x20—á–∞—Å—Ç—å\x20—Å–µ—Ä–∏–∏\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22range-text\x22>','–ò–∑–º–µ–Ω–µ–Ω–∏–µ\x20—Å–µ—Ä–∏–∏','<div\x20class=\x22ev-title\x22>','asBtnSeries','anTotalStats','div','–£–¥–∞–ª–µ–Ω–∏–µ','parse','background','.day-col-header','var(--acc-green)','completed','delete','log','–°—Ç–∞—Ç—É—Å\x20—Å–±—Ä–æ—à–µ–Ω','warn','overlay','btn-primary\x20btn-secondary','range-item','daysHeaderTrack',')\x20—É–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20–Ω–∞\x20—ç—Ç–æ\x20–≤—Ä–µ–º—è!','–ú–∏–Ω–∏–º—É–º\x202\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',')\x22><svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22/><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22/></svg></div></div>','toast','Save\x20settings\x20error:','saveLocally','all','scrollTop','rgba(255,255,255,0.05)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-track\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20',':\x20Client\x20already\x20booked','<svg\x20class=\x22ev-recurring-icon\x20card-icon\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M21.5\x202v6h-6M2.5\x2022v-6h6M2\x2011.5a10\x2010\x200\x200\x201\x2018.8-4.3M22\x2012.5a10\x2010\x200\x200\x201-18.8\x204.3\x22/></svg>','uc_clients_v9','<div\x20class=\x22empty-state\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫\x20–∑–∞\x20—ç—Ç–æ—Ç\x20–ø–µ—Ä–∏–æ–¥</div>','mousedown','–í—Å–µ\x20–¥–∞—Ç—ã\x20–∑–∞–Ω—è—Ç—ã\x20—ç—Ç–∏–º\x20–∫–ª–∏–µ–Ω—Ç–æ–º!','px\x20-','includes','borderLeftColor','ranges','end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dayOptionsSheet','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','send_notification','block','–û—Ç–ª–∏—á–Ω–∞—è\x20—Ä–∞–±–æ—Ç–∞\x20—Å–µ–≥–æ–¥–Ω—è!\x20–ü—Ä–æ–≥—Ä–µ—Å—Å\x20–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.\x20üî•\x0a\x0a','rangesSheet','off','.period-switch\x20.p-btn','var(--acc-red)','complete','\x22><div\x20class=\x22dch-stats-fill\x22></div></div>','padStart','rangeEndTime','backgroundColor','–û—à–∏–±–∫–∞\x20—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\x20–Ω–∞—Å—Ç—Ä–æ–µ–∫','push','classList','statLoadCard','blocked-range-part\x20stripe-bg','BackButton','</div><div\x20class=\x22dch-num\x22>','json','matrixViewport','timeColumn','3132440kPvuhE','<b>üìÖ\x20–î–∞—Ç–∞:</b>\x20','patternEditor','patternInfoBox','setMonth','.day-off-overlay','[Sync]\x20Loading\x20',':00','checked','btn-status-toggle\x20undo-mode','<div\x20class=\x22dch-day\x22>','–ì—Ä—É–ø–ø–æ–≤–∞—è:\x20—Ç–∞–∫–∂–µ\x20–∑–∞–ø–∏—Å–∞–Ω\x20','style','.sheet','then','–í–µ—Ä–Ω—É—Ç—å\x20–≤\x20–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ','23:59','stopPropagation','peGrid','scrollLeft','–≠—Ç—É\x20–∏\x20–±—É–¥—É—â–∏–µ','offClick','innerHTML','.day-column','[Series]\x20Skipped\x20','100%','planned','name',')</b>\x20–±—ã–ª–∞\x20—É–¥–∞–ª–µ–Ω–∞\x20–∏–∑\x20—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.','getFullYear','WebApp','day-column\x20','setBackgroundColor','uc_settings_v9','#fff','rgba(100,100,100,0.5)','v9.0-BATCH-CALENDAR','client-stat-card','–ó–∞–ø–æ–ª–Ω–∏—Ç–µ\x20–≤—Å–µ\x20–ø–æ–ª—è','left','substr','cancel','clientY','%\x20-\x204px)','search','[Settings]\x20Cancel\x20window\x20set\x20to:','rgba(255,\x2069,\x2058,\x200.15)','Server\x20Error','onclick','setHeaderColor','<div\x20class=\x22de-empty\x22>–ù–µ—Ç\x20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>','random','slice','start','Critical\x20TMA\x20Error:','setDate','settingCancelWindow','stringify','sheetTitle','save','\x20–≤—ã–ø–æ–ª–Ω–µ–Ω–æ','getElementById','doDateHeader','\x20days','touches','ready','color','month','flex','fetchFromServer','syncBatch'];a2_0x3001=function(){return _0xaaf699;};return a2_0x3001();}function renderPCol(_0x5620c0,_0x51c3c3){const _0x25fd55=a2_0x56fe05;_0x5620c0[_0x25fd55(0x19d)]='';const _0x352877=Math['round'](_0x5620c0[_0x25fd55(0x2ab)]);(availabilityPattern[_0x51c3c3]||[])[_0x25fd55(0x276)](_0x21a91d=>{const _0x5b63b5=_0x25fd55,_0x3feaa0=document[_0x5b63b5(0x29e)]('div');_0x3feaa0[_0x5b63b5(0x1eb)]=_0x5b63b5(0x23a);const _0x51ad83=_0x21a91d*GRID_H;_0x3feaa0[_0x5b63b5(0x193)]['top']=_0x51ad83+'px',_0x3feaa0[_0x5b63b5(0x193)][_0x5b63b5(0x2b2)]='-'+_0x352877+'px\x20-'+_0x51ad83+'px',_0x3feaa0[_0x5b63b5(0x1b7)]=_0x3be993=>{const _0x4fc126=_0x5b63b5;_0x3be993[_0x4fc126(0x198)](),toggleSinglePattern(_0x51c3c3,_0x21a91d);},_0x5620c0[_0x5b63b5(0x294)](_0x3feaa0);});}function a2_0x1d38(_0x316625,_0x5b1c17){_0x316625=_0x316625-0x139;const _0x49e149=a2_0x3001();let _0x37a656=_0x49e149[_0x316625];return _0x37a656;}function startClock(){updateClock();if(updateInterval)clearInterval(updateInterval);updateInterval=setInterval(updateClock,0xea60);}function updateClock(){const _0x495e2d=a2_0x56fe05,_0x32a346=new Date(),_0x3781bc=document[_0x495e2d(0x1c4)]('globalTimeLine'),_0x475546=document['getElementById']('timeLineBadge'),_0x2e8a74=(_0x32a346['getHours']()*0x3c+_0x32a346['getMinutes']())/0x3c*GRID_H;_0x3781bc[_0x495e2d(0x193)][_0x495e2d(0x295)]=_0x2e8a74+'px',_0x3781bc[_0x495e2d(0x193)][_0x495e2d(0x1dc)]=_0x495e2d(0x172),_0x475546['textContent']=String(_0x32a346[_0x495e2d(0x220)]())[_0x495e2d(0x17a)](0x2,'0')+':'+String(_0x32a346['getMinutes']())[_0x495e2d(0x17a)](0x2,'0'),_0x475546[_0x495e2d(0x193)][_0x495e2d(0x1dc)]=_0x495e2d(0x172),_0x475546[_0x495e2d(0x193)][_0x495e2d(0x295)]=_0x2e8a74+'px';}document[a2_0x56fe05(0x293)]('DOMContentLoaded',init);function openDayOptions(_0x5e61ef){const _0x35e2e6=a2_0x56fe05;selectedDayForOptions=_0x5e61ef;const _0x1e10e6=new Date(_0x5e61ef),_0x4ec0ff={'weekday':_0x35e2e6(0x268),'day':_0x35e2e6(0x200),'month':_0x35e2e6(0x268),'year':_0x35e2e6(0x200)},_0x7e29ea=_0x1e10e6['toLocaleDateString'](_0x35e2e6(0x27a),_0x4ec0ff);document['getElementById'](_0x35e2e6(0x1c5))[_0x35e2e6(0x218)]=_0x7e29ea['charAt'](0x0)[_0x35e2e6(0x26d)]()+_0x7e29ea[_0x35e2e6(0x1bb)](0x1);let _0x225d1b=_0x1e10e6[_0x35e2e6(0x278)]()-0x1;if(_0x225d1b===-0x1)_0x225d1b=0x6;const _0x55e857=availabilityPattern[_0x225d1b]||[],_0x3fd544=0x18-_0x55e857[_0x35e2e6(0x1fe)],_0x48184b=_0x3fd544*0x3c,_0x432572=sessions[_0x35e2e6(0x144)](_0x52163f=>_0x52163f[_0x35e2e6(0x1fa)]===_0x5e61ef&&_0x52163f[_0x35e2e6(0x1de)]!==_0x35e2e6(0x206));let _0x28165c=_0x432572['map'](_0x412b3d=>{const _0x45d6c6=_0x35e2e6,[_0x41479d,_0x181391]=_0x412b3d['start'][_0x45d6c6(0x258)](':')[_0x45d6c6(0x256)](Number),[_0x4758fd,_0x596c9c]=_0x412b3d[_0x45d6c6(0x16d)]['split'](':')[_0x45d6c6(0x256)](Number);return[_0x41479d*0x3c+_0x181391,_0x4758fd*0x3c+_0x596c9c];});_0x28165c['sort']((_0x279b6a,_0x4a0409)=>_0x279b6a[0x0]-_0x4a0409[0x0]);let _0x1d86f3=[];if(_0x28165c[_0x35e2e6(0x1fe)]>0x0){let _0x24bfb4=_0x28165c[0x0];for(let _0x2f816b=0x1;_0x2f816b<_0x28165c[_0x35e2e6(0x1fe)];_0x2f816b++){_0x28165c[_0x2f816b][0x0]<_0x24bfb4[0x1]?_0x24bfb4[0x1]=Math[_0x35e2e6(0x1df)](_0x24bfb4[0x1],_0x28165c[_0x2f816b][0x1]):(_0x1d86f3[_0x35e2e6(0x17e)](_0x24bfb4),_0x24bfb4=_0x28165c[_0x2f816b]);}_0x1d86f3[_0x35e2e6(0x17e)](_0x24bfb4);}let _0x916693=0x0;_0x1d86f3[_0x35e2e6(0x276)](_0x44733b=>_0x916693+=_0x44733b[0x1]-_0x44733b[0x0]),document[_0x35e2e6(0x1c4)](_0x35e2e6(0x1e9))['textContent']=formatMinsToHrs(_0x48184b),document[_0x35e2e6(0x1c4)](_0x35e2e6(0x1e7))[_0x35e2e6(0x218)]=formatMinsToHrs(_0x916693);const _0x11c510=_0x48184b>0x0?Math[_0x35e2e6(0x2a5)](_0x916693/_0x48184b*0x64):0x0,_0x44c999=document[_0x35e2e6(0x1c4)]('doLoadPercent');_0x44c999['textContent']=_0x11c510+'%';const _0x34ef3b=document['getElementById'](_0x35e2e6(0x180));if(_0x11c510>0x64)_0x44c999['style'][_0x35e2e6(0x1c9)]=_0x35e2e6(0x177),_0x34ef3b[_0x35e2e6(0x193)][_0x35e2e6(0x1da)]=_0x35e2e6(0x22b);else _0x11c510>0x50?(_0x44c999[_0x35e2e6(0x193)][_0x35e2e6(0x1c9)]='var(--acc-orange)',_0x34ef3b['style'][_0x35e2e6(0x1da)]=_0x35e2e6(0x252)):(_0x44c999[_0x35e2e6(0x193)][_0x35e2e6(0x1c9)]=_0x35e2e6(0x14f),_0x34ef3b[_0x35e2e6(0x193)][_0x35e2e6(0x1da)]=_0x35e2e6(0x161));const _0x5b28bc=document['getElementById'](_0x35e2e6(0x219));_0x5b28bc[_0x35e2e6(0x19d)]='';_0x432572[_0x35e2e6(0x1fe)]===0x0?_0x5b28bc[_0x35e2e6(0x19d)]=_0x35e2e6(0x1b9):(_0x432572['sort']((_0x495f2a,_0x22c742)=>_0x495f2a['start'][_0x35e2e6(0x21d)](_0x22c742[_0x35e2e6(0x1bc)])),_0x432572['forEach'](_0x4b5cd6=>{const _0x44f7c7=_0x35e2e6,_0x56b4de=clients[_0x44f7c7(0x25b)](_0x4d3e9b=>_0x4d3e9b[_0x44f7c7(0x1a2)]===_0x4b5cd6['client']),_0xefbeaa=_0x56b4de?_0x56b4de[_0x44f7c7(0x1c9)]:'#fff',_0x4c1db1=_0x4b5cd6[_0x44f7c7(0x1de)]===_0x44f7c7(0x150),_0x1c4c93=_0x4c1db1?_0x44f7c7(0x204):'',_0x1db863=document[_0x44f7c7(0x29e)](_0x44f7c7(0x14a));_0x1db863[_0x44f7c7(0x1eb)]=_0x44f7c7(0x26a),_0x1db863[_0x44f7c7(0x193)][_0x44f7c7(0x16b)]=_0xefbeaa,_0x1db863['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22de-time\x22>'+_0x4b5cd6[_0x44f7c7(0x1bc)]+'\x20-\x20'+_0x4b5cd6[_0x44f7c7(0x16d)]+_0x44f7c7(0x209)+_0x4b5cd6[_0x44f7c7(0x287)]+_0x44f7c7(0x16e)+_0x1c4c93+_0x44f7c7(0x170),_0x5b28bc['appendChild'](_0x1db863);}));const _0x5201d5=document['getElementById'](_0x35e2e6(0x139)),_0x375cd2=dateExceptions[_0x5e61ef]==='off';_0x375cd2?(_0x5201d5['textContent']=_0x35e2e6(0x262),_0x5201d5[_0x35e2e6(0x1eb)]=_0x35e2e6(0x156),_0x5201d5[_0x35e2e6(0x193)][_0x35e2e6(0x1c9)]=_0x35e2e6(0x14f),_0x5201d5['style']['background']=_0x35e2e6(0x1d2)):(_0x5201d5['textContent']=_0x35e2e6(0x247),_0x5201d5[_0x35e2e6(0x1eb)]='btn-primary\x20btn-danger',_0x5201d5[_0x35e2e6(0x193)]['color']=_0x35e2e6(0x177),_0x5201d5[_0x35e2e6(0x193)][_0x35e2e6(0x14d)]=_0x35e2e6(0x1b5)),openSheet(_0x35e2e6(0x16f));}let currentAnPeriod=a2_0x56fe05(0x1d7);function openAnalytics(){const _0xffb9da=a2_0x56fe05,_0x2efa99=document[_0xffb9da(0x1e4)](_0xffb9da(0x176));setAnalyticsPeriod(_0xffb9da(0x1d7),_0x2efa99),closeAllSheets(),openSheet('analyticsSheet');}function setAnalyticsPeriod(_0x22712e,_0x48b5aa){const _0x163e73=a2_0x56fe05;currentAnPeriod=_0x22712e,document[_0x163e73(0x207)]('.period-switch\x20.p-btn')[_0x163e73(0x276)](_0x292393=>_0x292393[_0x163e73(0x17f)][_0x163e73(0x227)](_0x163e73(0x1d6)));if(_0x48b5aa)_0x48b5aa[_0x163e73(0x17f)][_0x163e73(0x24f)](_0x163e73(0x1d6));const _0x3ee790=document[_0x163e73(0x1c4)]('anCustomDates');_0x3ee790['style'][_0x163e73(0x1dc)]=_0x22712e===_0x163e73(0x1ef)?_0x163e73(0x1cb):_0x163e73(0x290);const _0x1f973b=new Date();let _0x20919f=new Date(),_0x331652=new Date();if(_0x22712e==='week')_0x20919f=getStartOfWeek(_0x1f973b),_0x331652=new Date(_0x20919f),_0x331652['setDate'](_0x331652[_0x163e73(0x234)]()+0x6);else{if(_0x22712e===_0x163e73(0x1ca))_0x20919f=new Date(_0x1f973b['getFullYear'](),_0x1f973b[_0x163e73(0x213)](),0x1),_0x331652=new Date(_0x1f973b[_0x163e73(0x1a4)](),_0x1f973b[_0x163e73(0x213)]()+0x1,0x0);else{!document[_0x163e73(0x1c4)](_0x163e73(0x24d))[_0x163e73(0x265)]&&(document[_0x163e73(0x1c4)]('anStart')[_0x163e73(0x265)]=getLocalDateStr(_0x1f973b),document[_0x163e73(0x1c4)](_0x163e73(0x1ce))[_0x163e73(0x265)]=getLocalDateStr(_0x1f973b));refreshAnalytics();return;}}document['getElementById'](_0x163e73(0x24d))[_0x163e73(0x265)]=getLocalDateStr(_0x20919f),document[_0x163e73(0x1c4)](_0x163e73(0x1ce))[_0x163e73(0x265)]=getLocalDateStr(_0x331652),refreshAnalytics();}function refreshAnalytics(){const _0x4acc54=a2_0x56fe05,_0x4210b4=document[_0x4acc54(0x1c4)](_0x4acc54(0x24d))[_0x4acc54(0x265)],_0x1a1d92=document[_0x4acc54(0x1c4)](_0x4acc54(0x1ce))[_0x4acc54(0x265)];if(!_0x4210b4||!_0x1a1d92)return;const _0x131f04=sessions[_0x4acc54(0x144)](_0x4dbb90=>_0x4dbb90[_0x4acc54(0x1fa)]>=_0x4210b4&&_0x4dbb90[_0x4acc54(0x1fa)]<=_0x1a1d92&&_0x4dbb90['status']!==_0x4acc54(0x206)),_0x127092=_0x131f04[_0x4acc54(0x1fe)],_0x3b368c=_0x131f04['filter'](_0x11691d=>_0x11691d[_0x4acc54(0x1de)]===_0x4acc54(0x150))[_0x4acc54(0x1fe)],_0x26fd9d=_0x127092>0x0?Math[_0x4acc54(0x2a5)](_0x3b368c/_0x127092*0x64):0x0;document[_0x4acc54(0x1c4)](_0x4acc54(0x236))[_0x4acc54(0x218)]=_0x26fd9d+'%',document[_0x4acc54(0x1c4)](_0x4acc54(0x149))[_0x4acc54(0x218)]=_0x3b368c+_0x4acc54(0x2be)+_0x127092+_0x4acc54(0x1c3);const _0x172bac=document[_0x4acc54(0x1c4)](_0x4acc54(0x23d)),_0x50f84e=0x2*Math['PI']*0x23,_0x4de2d9=_0x50f84e-_0x26fd9d/0x64*_0x50f84e;_0x172bac['style']['strokeDashoffset']=_0x4de2d9;const _0x45fc66={};_0x131f04['forEach'](_0x53ed89=>{const _0x1fcfd7=_0x4acc54;if(!_0x45fc66[_0x53ed89[_0x1fcfd7(0x287)]]){const _0x26caca=clients[_0x1fcfd7(0x25b)](_0xc60c09=>_0xc60c09[_0x1fcfd7(0x1a2)]===_0x53ed89[_0x1fcfd7(0x287)]);_0x45fc66[_0x53ed89[_0x1fcfd7(0x287)]]={'total':0x0,'done':0x0,'color':_0x26caca?_0x26caca[_0x1fcfd7(0x1c9)]:_0x1fcfd7(0x1a9)};}_0x45fc66[_0x53ed89['client']][_0x1fcfd7(0x2bc)]++;if(_0x53ed89['status']===_0x1fcfd7(0x150))_0x45fc66[_0x53ed89['client']][_0x1fcfd7(0x1fc)]++;});const _0x904783=document[_0x4acc54(0x1c4)](_0x4acc54(0x1ee));_0x904783[_0x4acc54(0x19d)]='';const _0x26d3af=Object[_0x4acc54(0x29c)](_0x45fc66)[_0x4acc54(0x272)]((_0x20fd69,_0x26cb14)=>_0x26cb14[0x1][_0x4acc54(0x2bc)]-_0x20fd69[0x1][_0x4acc54(0x2bc)]);if(_0x26d3af['length']===0x0){_0x904783[_0x4acc54(0x19d)]=_0x4acc54(0x166);return;}_0x26d3af[_0x4acc54(0x276)](([_0x268671,_0x1a39c8])=>{const _0x2ceaa8=_0x4acc54,_0x534813=Math[_0x2ceaa8(0x2a5)](_0x1a39c8[_0x2ceaa8(0x1fc)]/_0x1a39c8[_0x2ceaa8(0x2bc)]*0x64),_0x1b0771=document[_0x2ceaa8(0x29e)](_0x2ceaa8(0x14a));_0x1b0771['className']=_0x2ceaa8(0x1ac),_0x1b0771[_0x2ceaa8(0x193)]['borderLeftColor']=_0x1a39c8[_0x2ceaa8(0x1c9)],_0x1b0771[_0x2ceaa8(0x19d)]=_0x2ceaa8(0x26f)+_0x268671+_0x2ceaa8(0x20b)+_0x1a39c8['done']+_0x2ceaa8(0x299)+_0x1a39c8['total']+_0x2ceaa8(0x162)+_0x534813+_0x2ceaa8(0x260),_0x904783[_0x2ceaa8(0x294)](_0x1b0771);});}function formatMinsToHrs(_0x5c5dda){const _0x1f6649=a2_0x56fe05;if(_0x5c5dda===0x0)return'0';const _0x1b5bf5=Math[_0x1f6649(0x2b5)](_0x5c5dda/0x3c),_0x2eacdc=_0x5c5dda%0x3c;if(_0x2eacdc===0x0)return _0x1b5bf5+'—á';return _0x1b5bf5+'—á\x20'+_0x2eacdc+'–º';}